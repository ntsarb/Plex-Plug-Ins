/*! For license information please see main-179-909f79c6eb0e3d3d2b63-plex-0.0.0.47-f01acfe.js.LICENSE.txt */
(self.webpackChunkserver_manager=self.webpackChunkserver_manager||[]).push([[179],{78388:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ic3Ryb2tlLW1pdGVybGltaXQ6MS40MTQyMTtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2UtbGluZWpvaW46cm91bmQiPgogPGNpcmNsZSBpZD0iMCIgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIiBzdHlsZT0iZmlsbDp1cmwoIzMpIi8+CiA8Y2lyY2xlIGlkPSIxIiBjeD0iNTAiIGN5PSI1MCIgcj0iNDciIHN0eWxlPSJmaWxsOnVybCgjNCkiLz4KIDxwYXRoIGlkPSIyIiBkPSJtMzIuOSAxOC44bDE4LjE2MSAwIDIwLjAzOSAzMS4yNS0yMC4wMzkgMzEuMjUtMTguMTYxIDAgMjAuMDM5LTMxLjI1LTIwLjAzOS0zMS4yNSIgc3R5bGU9ImZpbGw6dXJsKCM1KSIvPgogPGRlZnM+CiAgPGxpbmVhckdyYWRpZW50IGlkPSIzIiB4MT0iMTAwIiB4Mj0iMCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICA8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojZjliZTAzIi8+CiAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6I2NjN2IxOSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPGxpbmVhckdyYWRpZW50IGlkPSI0IiB4MT0iOTciIHgyPSIzIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgIDxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiMyODI4MjgiLz4KICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojMWYxZjFmIi8+CiAgPC9saW5lYXJHcmFkaWVudD4KICA8cmFkaWFsR3JhZGllbnQgaWQ9IjUiIGN4PSI2NyIgY3k9IjQ5LjkiIHI9IjU3LjgxMjMiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4bGluazpocmVmPSIjMyIvPgogPC9kZWZzPgo8L3N2Zz4K"},218:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTQ4IiBoZWlnaHQ9IjM2MCIgdmlld0JveD0iMCAwIDU0OCAzNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5Hcm91cDwvdGl0bGU+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0xOTYgMTczdjEzSDgxdi0xNCIvPjxtYXNrIGlkPSJqIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTE1IiBoZWlnaHQ9IjE0IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNhIi8+PC9tYXNrPjxwYXRoIGQ9Ik02LjUyMiAxNzNDMi45MiAxNzMgMCAxNzAuNjMxIDAgMTY3LjcxVjUuMjlDMCAyLjM3IDIuOTIgMCA2LjUyMiAwaDI2Mi45NTZDMjczLjA4IDAgMjc2IDIuMzY5IDI3NiA1LjI5djE2Mi40MmMwIDIuOTIxLTIuOTIgNS4yOS02LjUyMiA1LjI5SDYuNTIyeiIgaWQ9ImIiLz48bWFzayBpZD0iayIgeD0iMCIgeT0iMCIgd2lkdGg9IjI3NiIgaGVpZ2h0PSIxNzMiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2IiLz48L21hc2s+PHBhdGggaWQ9ImMiIGQ9Ik0xMyAxNjAuMTg1aDI0OS45MVYxM0gxM3oiLz48bWFzayBpZD0ibCIgeD0iMCIgeT0iMCIgd2lkdGg9IjI0OS45MTEiIGhlaWdodD0iMTQ3LjE4NSIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYyIvPjwvbWFzaz48cmVjdCBpZD0iZCIgd2lkdGg9IjE5MiIgaGVpZ2h0PSIxNDAiIHJ4PSI2Ii8+PG1hc2sgaWQ9Im0iIHg9IjAiIHk9IjAiIHdpZHRoPSIxOTIiIGhlaWdodD0iMTQwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNkIi8+PC9tYXNrPjxwYXRoIGlkPSJlIiBkPSJNMjAgMTFoMTUydjExOEgyMHoiLz48bWFzayBpZD0ibiIgeD0iMCIgeT0iMCIgd2lkdGg9IjE1MiIgaGVpZ2h0PSIxMTgiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2UiLz48L21hc2s+PGNpcmNsZSBpZD0iZiIgY3g9IjEyIiBjeT0iNzAiIHI9IjYiLz48bWFzayBpZD0ibyIgeD0iMCIgeT0iMCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNmIi8+PC9tYXNrPjxwYXRoIGlkPSJnIiBkPSJNMCAxOGg3MnY4NEgweiIvPjxtYXNrIGlkPSJwIiB4PSIwIiB5PSIwIiB3aWR0aD0iNzIiIGhlaWdodD0iODQiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2ciLz48L21hc2s+PGNpcmNsZSBpZD0iaCIgY3g9IjM2IiBjeT0iMTA5IiByPSI1Ii8+PG1hc2sgaWQ9InEiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjaCIvPjwvbWFzaz48cmVjdCBpZD0iaSIgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyMCIgcng9IjguNCIvPjxtYXNrIGlkPSJyIiB4PSIwIiB5PSIwIiB3aWR0aD0iNzIiIGhlaWdodD0iMTIwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNpIi8+PC9tYXNrPjwvZGVmcz48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI3MiA4NykiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI2opIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNhIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjaykiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2IiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNsKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjYyIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik0xMzcuMDQyIDEyMC43NUgxMTdsMjIuMTktMzQuMzc1TDExNyA1MmgyMC4wNDJsMjIuMTkgMzQuMzc1eiIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDIyMCkiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI20pIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNkIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjbikiIHN0cm9rZS13aWR0aD0iNCIgeGxpbms6aHJlZj0iI2UiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNvKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjZiIvPjxjaXJjbGUgZmlsbD0iI0JCQiIgY3g9IjE4MCIgY3k9IjcwIiByPSIyIi8+PHBhdGggZmlsbD0iI0Y4QUQxOCIgZD0iTTk0LjU4IDEwMkg3NmwyMC42NDUtMzAuOTY4TDc2IDM4aDE4LjU4bDIwLjY0NiAzMy4wMzJ6Ii8+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYwKSI+PHJlY3Qgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyMCIgcng9IjguNCIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3ApIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNnIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjcSkiIHN0cm9rZS13aWR0aD0iNCIgeGxpbms6aHJlZj0iI2giLz48cmVjdCBmaWxsPSIjQkJCIiB4PSIzMSIgeT0iMTAiIHdpZHRoPSIxMC44IiBoZWlnaHQ9IjIuNCIgcng9IjEuMiIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3IpIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNpIi8+PHBhdGggZD0iTTM1LjAzMiA3OUgyNGwxMi4yNTgtMTguMzg3TDI0IDQxaDExLjAzMkw0Ny4yOSA2MC42MTN6IiBmaWxsPSIjRjhBRDE4Ii8+PC9nPjwvZz48L3N2Zz4="},39842:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODEwIiBoZWlnaHQ9IjIzMCIgdmlld0JveD0iMCAwIDgxMCAyMzAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5QTVMg4oaSIENvbXB1dGVyPC90aXRsZT48ZGVmcz48cGF0aCBkPSJNMTU5LjU5NSAyMDcuNDc3Yy0uNDk0LTIuNDctMi42NS05LjczMi0zLjM0Ny0yMS40NDRIOTkuMzZjLS42OTggMTEuNzEyLTIuODUzIDE4Ljk3NC0zLjM0NiAyMS40NDQtLjk3NiA0Ljg4LTQuNzkgOC44MjktMTIuMDQgMTEuMDU5LTUuOTEyIDEuODE5LTUuMTU4IDEwLjY5MyAxLjY3NCAxMC42OTNoODQuMzE0YzYuODMxIDAgNy41ODctOC44NzMgMS42NzMtMTAuNjkzLTcuMjUtMi4yMy0xMS4wNjQtNi4xNzgtMTIuMDQtMTEuMDU5eiIgaWQ9ImEiLz48bWFzayBpZD0iZCIgeD0iMCIgeT0iMCIgd2lkdGg9Ijk1LjYzMyIgaGVpZ2h0PSI0My4xOTYiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTI1NiAxNDcuNXYzMS41NjRjMCA1LjUyNy00LjQ3IDEwLjAwOC05Ljk5NiAxMC4wMDhIOS45OTZjLTUuNTIgMC05Ljk5Ni00LjQ3Ni05Ljk5Ni0xMC4wMDhWMTAuMDAzQzAgNC40OCA0LjQ3IDAgOS45OTYgMGgyMzYuMDA4QzI1MS41MjQgMCAyNTYgNC40ODUgMjU2IDEwLjAwM1YxNDcuNXoiIGlkPSJiIi8+PG1hc2sgaWQ9ImUiIHg9IjAiIHk9IjAiIHdpZHRoPSIyNTYiIGhlaWdodD0iMTg5LjA3MiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYiIvPjwvbWFzaz48Y2lyY2xlIGlkPSJjIiBjeD0iMTEwIiBjeT0iMTEwIiByPSIxMTAiLz48bWFzayBpZD0iZiIgeD0iMCIgeT0iMCIgd2lkdGg9IjIyMCIgaGVpZ2h0PSIyMjAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2MiLz48L21hc2s+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTUzKSIgc3Ryb2tlPSIjQkJCIj48dXNlIG1hc2s9InVybCgjZCkiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2EiLz48dXNlIG1hc2s9InVybCgjZSkiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2IiLz48cGF0aCBkPSJNMS41IDE0Ny41aDI1My4xOTgiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDUpIj48dXNlIHN0cm9rZT0iI0Y4QUQxOCIgbWFzaz0idXJsKCNmKSIgc3Ryb2tlLXdpZHRoPSI4IiBmaWxsPSIjMUYxRjFGIiB4bGluazpocmVmPSIjYyIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik0xMTIuMTM0IDE3OS42NjdINzIuMTFsNDQuMzEtNjkuMDU2LTQ0LjMxLTY5LjA1NWg0MC4wMjNsNDQuMzEgNjkuMDU1eiIvPjwvZz48ZyBmaWxsPSIjQkJCIj48cGF0aCBkPSJNNTA0LjUgMTE1bC0xNCAxMy41di0yN3pNNDc5IDExOGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnoiLz48L2c+PC9nPjwvc3ZnPg=="},9905:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzE1IiBoZWlnaHQ9IjE0OSIgdmlld0JveD0iMCAwIDcxNSAxNDkiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5NRURJQSBJQ09OUzwvdGl0bGU+PGRlZnM+PHBhdGggZD0iTTU3Ljg5NyAwSDEwLjAwOEM0LjQ4MiAwIDAgNC40ODEgMCAxMC4wMDh2NS41MDVMNTcuODk3IDB6bTU2Ljc3NiAwaDMuODljNS41MjcgMCAxMC4wMDggNC40ODIgMTAuMDA4IDEwLjAwOHY0MS44NkwxMTQuNjczIDB6bTEzLjg5OCAxMTQuMTY4djQuMzk1YzAgNS41MjctNC40ODEgMTAuMDA4LTEwLjAwOCAxMC4wMDhINzQuODE4bDUzLjc1My0xNC40MDN6TTE2LjAyIDEyOC41NzFoLTYuMDFDNC40OCAxMjguNTcxIDAgMTI0LjA5IDAgMTE4LjU2M1Y2OC43ODlsMTYuMDE5IDU5Ljc4MnoiIGlkPSJhIi8+PG1hc2sgaWQ9ImoiIHg9Ii0yIiB5PSItMiIgd2lkdGg9IjEzMi41NzEiIGhlaWdodD0iMTMyLjU3MSI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTS0yLTJoMTMyLjU3MXYxMzIuNTcxSC0yeiIvPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHJlY3QgaWQ9ImIiIHdpZHRoPSIxMjguNTcxIiBoZWlnaHQ9IjEyOC41NzEiIHJ4PSIxMCIvPjxtYXNrIGlkPSJrIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTI4LjU3MSIgaGVpZ2h0PSIxMjguNTcxIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNiIi8+PC9tYXNrPjxwYXRoIGQ9Ik0zOS43ODIgMjYuNTkyVjgzLjk5Yy0zLjI3OS0xLjAzNC03LjIzNC0xLjE2LTExLjI2Ny0uMTAzLTguNzY3IDIuMjk3LTE0LjQ4OCA5LjI2LTEyLjc3IDE1LjUzNSAxLjcxOCA2LjI3NiAxMC4yMjYgOS41MDUgMTguOTk1IDcuMTk3IDguMTAxLTIuMTE2IDE0LjcxLTguMjE3IDE0LjE1LTE0LjA3NmwuMDQxLTQxLjcxOCA0MC4zODYtNS4zODV2MzMuMTY1Yy0zLjI4LTEuMDM0LTcuMjM1LTEuMTYtMTEuMjY4LS4xMDItOC43NjYgMi4yOTYtMTQuNDg4IDkuMjU5LTEyLjc3IDE1LjUzNXMxMC4yMjYgOS41MDQgMTguOTk1IDcuMTk2YzguMTAxLTIuMTE2IDE0LjcxMS04LjIxNyAxNC4xNTEtMTQuMDc1IDAtMTQuNzk1LjA0LTY1Ljk1LjA0LTY1Ljk1bC01OC42ODMgNS4zODR6IiBpZD0iYyIvPjxtYXNrIGlkPSJsIiB4PSIwIiB5PSIwIiB3aWR0aD0iODMuMDI1IiBoZWlnaHQ9Ijg2LjE1NiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYyIvPjwvbWFzaz48cGF0aCBkPSJNNjYuMTEzIDkuNTk1bC00MC43MDUtMy41NmE4Ljg0NSA4Ljg0NSAwIDAgMC05LjU4NiA4LjA0bC0uMzkgNC40NTcgNTAuNjgtOC45Mzd6bTU1LjczNCA0Ljg3N2w1LjQ3NS40NzljNC44NjguNDI1IDguNDcgNC43MTcgOC4wNDQgOS41ODNsLTMuODk1IDQ0LjUxOC05LjYyNC01NC41OHptNC4yMDEgMTE2LjU2bC0uNDcgNS4zODNhOC44NDUgOC44NDUgMCAwIDEtOS41ODYgOC4wNGwtNDQuMTYtMy44NjMgNTQuMjE2LTkuNTZ6bS0xMDQuNTkgNS4xNTNsLTcuMzgtLjY0NWMtNC44NjgtLjQyNi04LjQ3LTQuNzE4LTguMDQ0LTkuNTg0bDQuNTE3LTUxLjYyNSAxMC45MDYgNjEuODU0eiIgaWQ9ImQiLz48bWFzayBpZD0ibSIgeD0iLTIiIHk9Ii0yIiB3aWR0aD0iMTMzLjQiIGhlaWdodD0iMTQyLjQ5Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNCA0aDEzMy40djE0Mi40OUg0eiIvPjx1c2UgeGxpbms6aHJlZj0iI2QiLz48L21hc2s+PHBhdGggZD0iTS42MDcgOS4wMTVBOC44NDUgOC44NDUgMCAwIDEgOS40NTUuMTY5SDExMS43NmM0Ljg4NyAwIDguODQ4IDMuOTYxIDguODQ4IDguODQ2djExMi4zMDhhOC44NDUgOC44NDUgMCAwIDEtOC44NDggOC44NDZIOS40NTVjLTQuODg2IDAtOC44NDgtMy45NjItOC44NDgtOC44NDZWOS4wMTV6IiBpZD0iZSIvPjxtYXNrIGlkPSJuIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEzMCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZSIvPjwvbWFzaz48cGF0aCBpZD0iZiIgZD0iTTE0LjYzNiAxNC4xOTdoOTAuNjQ3djgyLjAxNEgxNC42MzZ6Ii8+PG1hc2sgaWQ9Im8iIHg9IjAiIHk9IjAiIHdpZHRoPSI5MC42NDciIGhlaWdodD0iODIuMDE0IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNmIi8+PC9tYXNrPjxwYXRoIGlkPSJnIiBkPSJNMTQuNjM2IDY1Ljk5NmwzMC4yMTYtMjMuNzQxIDIzLjc0IDI2Ljk3OCAxNC4wMy0xMC43OTEgMjIuNjYxIDIwLjUwNHYxNy4yNjZIMTQuNjM2eiIvPjxtYXNrIGlkPSJwIiB4PSIwIiB5PSIwIiB3aWR0aD0iOTAuNjQ3IiBoZWlnaHQ9IjUzLjk1NyIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZyIvPjwvbWFzaz48cGF0aCBkPSJNNjMuOTcyIDguNjgxTDIyLjEyIDUuMDE5YTUgNSAwIDAgMC01LjQyIDQuNTM5bC0uNjYzIDcuNTc1IDQ3LjkzNS04LjQ1MnptNDcuODg1IDQuMTlsMTAuODcyLjk1YTUuMDA0IDUuMDA0IDAgMCAxIDQuNTQ5IDUuNDExbC00Ljc0MiA1NC4yLTEwLjY3OS02MC41NjJ6bTUuMzkxIDEyMC45OThsLS42NTEgNy40NDdhNSA1IDAgMCAxLTUuNDIgNC41MzlsLTQxLjM3NC0zLjYyIDQ3LjQ0NS04LjM2NnptLTk2LjA0MiA0LjExNGwtMTAuNjM4LS45M2E1LjAwNCA1LjAwNCAwIDAgMS00LjU0OS01LjQxMWw0LjY2Ni01My4zMjcgMTAuNTIgNTkuNjY4eiIgaWQ9ImgiLz48bWFzayBpZD0icSIgeD0iLTIiIHk9Ii0yIiB3aWR0aD0iMTI1LjI5NyIgaGVpZ2h0PSIxNDQuODc0Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNCAzaDEyNS4yOTd2MTQ0Ljg3NEg0eiIvPjx1c2UgeGxpbms6aHJlZj0iI2giLz48L21hc2s+PHBhdGggZD0iTTExIDEzLjk5NEE1IDUgMCAwIDEgMTYuMDAzIDloMTAwLjk5NEE1LjAwNCA1LjAwNCAwIDAgMSAxMjIgMTMuOTk0djEyMi41NWE1LjAwMSA1LjAwMSAwIDAgMS01IDQuOTkzSDE2Yy0yLjc2MSAwLTUtMi4yNDQtNS00Ljk5M1YxMy45OTR6IiBpZD0iaSIvPjxtYXNrIGlkPSJyIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTExIiBoZWlnaHQ9IjEzMi41MzciIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2kiLz48L21hc2s+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgc3Ryb2tlPSIjRDhGRjk1IiBzdHJva2Utd2lkdGg9IjQiPjx1c2UgbWFzaz0idXJsKCNqKSIgeGxpbms6aHJlZj0iI2EiIHRyYW5zZm9ybT0icm90YXRlKDUgMjQxLjM5NiA2NjczLjYwNykiLz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgtMTAgNDEwLjE1IC0zMjI4LjA3KSI+PHVzZSBtYXNrPSJ1cmwoI2spIiB4bGluazpocmVmPSIjYiIvPjx1c2UgbWFzaz0idXJsKCNsKSIgeGxpbms6aHJlZj0iI2MiLz48L2c+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI3OSAtMSkiIHN0cm9rZT0iI0ZGQTBERSIgc3Ryb2tlLXdpZHRoPSI0Ij48dXNlIG1hc2s9InVybCgjbSkiIHhsaW5rOmhyZWY9IiNkIi8+PGcgdHJhbnNmb3JtPSJyb3RhdGUoLTEwIDEyMi42NSA3LjEzNSkiPjx1c2UgbWFzaz0idXJsKCNuKSIgeGxpbms6aHJlZj0iI2UiLz48dXNlIG1hc2s9InVybCgjbykiIHhsaW5rOmhyZWY9IiNmIi8+PHVzZSBtYXNrPSJ1cmwoI3ApIiB4bGluazpocmVmPSIjZyIvPjwvZz48L2c+PGcgc3Ryb2tlPSIjQTRFMkZGIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMSAtMSkiPjx1c2UgbWFzaz0idXJsKCNxKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjaCIvPjx1c2UgbWFzaz0idXJsKCNyKSIgc3Ryb2tlLXdpZHRoPSI0IiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAgNjYuNSA3NS4yNjkpIiB4bGluazpocmVmPSIjaSIvPjxwYXRoIHN0cm9rZS13aWR0aD0iMiIgZD0iTTExLjgyMyAzMS4wNTNsOS43OS0xLjcyNyAxLjcyNSA5Ljc5LTkuNzg5IDEuNzI2ek0xNS45OTQgNTQuNzFsOS43OS0xLjcyNSAxLjcyNiA5Ljc4OS05Ljc5IDEuNzI2ek0yMC4xNjYgNzguMzY4bDkuNzktMS43MjcgMS43MjUgOS43OS05Ljc4OSAxLjcyNXpNMjQuMzM3IDEwMi4wMjZsOS43OS0xLjcyNiAxLjcyNiA5Ljc4OS05Ljc5IDEuNzI2ek0yOC41MSAxMjUuNjgybDkuNzg4LTEuNzI2IDEuNzI2IDkuNzktOS43ODkgMS43MjV6TTkzLjQgMTYuNjY5bDkuNzktMS43MjYgMS43MjUgOS43ODktOS43ODggMS43MjZ6TTk3LjU3MyA0MC4zMjZsOS43ODktMS43MjYgMS43MjYgOS43OS05Ljc5IDEuNzI1ek0xMDEuNzQzIDYzLjk4NGw5Ljc5LTEuNzI2IDEuNzI2IDkuNzg4LTkuNzkgMS43Mjd6TTEwNS45MTQgODcuNjRsOS43OS0xLjcyNSAxLjcyNSA5Ljc4OS05Ljc4OSAxLjcyNnpNMTEwLjA4NiAxMTEuMjk5bDkuNzktMS43MjcgMS43MjYgOS43OS05Ljc5IDEuNzI2ek0zMS43MTYgMzIuNjU5bDUyLjIxLTkuMjA2IDcuMTkxIDQwLjc4OC01Mi4yMSA5LjIwNnpNNDEuNDk3IDg4LjEzMmw1Mi4yMS05LjIwNiA3LjE5MSA0MC43ODgtNTIuMjEgOS4yMDZ6Ii8+PC9nPjwvZz48L3N2Zz4="},57849:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTQ1IiBoZWlnaHQ9IjM2MCIgdmlld0JveD0iMCAwIDk0NSAzNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5QTEFZIE1FRElBIElDT05TPC90aXRsZT48ZGVmcz48cGF0aCBpZD0iYSIgZD0iTTE5NiAxNzJ2MTRIODF2LTE0Ii8+PG1hc2sgaWQ9Im0iIHg9IjAiIHk9IjAiIHdpZHRoPSIxMTUiIGhlaWdodD0iMTQiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTYuNTIyIDE3M0MyLjkyIDE3MyAwIDE3MC42MzEgMCAxNjcuNzFWNS4yOUMwIDIuMzcgMi45MiAwIDYuNTIyIDBoMjYyLjk1NkMyNzMuMDggMCAyNzYgMi4zNjkgMjc2IDUuMjl2MTYyLjQyYzAgMi45MjEtMi45MiA1LjI5LTYuNTIyIDUuMjlINi41MjJ6IiBpZD0iYiIvPjxtYXNrIGlkPSJuIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjc2IiBoZWlnaHQ9IjE3MyIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYiIvPjwvbWFzaz48cGF0aCBpZD0iYyIgZD0iTTEzIDE2MC4xODVoMjQ5LjkxVjEzSDEzeiIvPjxtYXNrIGlkPSJvIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQ5LjkxMSIgaGVpZ2h0PSIxNDcuMTg1IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNjIi8+PC9tYXNrPjxyZWN0IGlkPSJkIiB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE0MCIgcng9IjYiLz48bWFzayBpZD0icCIgeD0iMCIgeT0iMCIgd2lkdGg9IjE5MiIgaGVpZ2h0PSIxNDAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2QiLz48L21hc2s+PHBhdGggaWQ9ImUiIGQ9Ik0yMCAxMWgxNTJ2MTE4SDIweiIvPjxtYXNrIGlkPSJxIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTUyIiBoZWlnaHQ9IjExOCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZSIvPjwvbWFzaz48Y2lyY2xlIGlkPSJmIiBjeD0iMTIiIGN5PSI3MCIgcj0iNiIvPjxtYXNrIGlkPSJyIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2YiLz48L21hc2s+PHBhdGggaWQ9ImciIGQ9Ik0wIDE4aDcydjg0SDB6Ii8+PG1hc2sgaWQ9InMiIHg9IjAiIHk9IjAiIHdpZHRoPSI3MiIgaGVpZ2h0PSI4NCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZyIvPjwvbWFzaz48Y2lyY2xlIGlkPSJoIiBjeD0iMzYiIGN5PSIxMDkiIHI9IjUiLz48bWFzayBpZD0idCIgeD0iMCIgeT0iMCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjEwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNoIi8+PC9tYXNrPjxyZWN0IGlkPSJpIiB3aWR0aD0iNzIiIGhlaWdodD0iMTIwIiByeD0iOC40Ii8+PG1hc2sgaWQ9InUiIHg9IjAiIHk9IjAiIHdpZHRoPSI3MiIgaGVpZ2h0PSIxMjAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2kiLz48L21hc2s+PHBhdGggZD0iTTE1OS41OTUgMjA3LjQ3N2MtLjQ5NC0yLjQ3LTIuNjUtOS43MzItMy4zNDctMjEuNDQ0SDk5LjM2Yy0uNjk4IDExLjcxMi0yLjg1MyAxOC45NzQtMy4zNDYgMjEuNDQ0LS45NzYgNC44OC00Ljc5IDguODI5LTEyLjA0IDExLjA1OS01LjkxMiAxLjgxOS01LjE1OCAxMC42OTMgMS42NzQgMTAuNjkzaDg0LjMxNGM2LjgzMSAwIDcuNTg3LTguODczIDEuNjczLTEwLjY5My03LjI1LTIuMjMtMTEuMDY0LTYuMTc4LTEyLjA0LTExLjA1OXoiIGlkPSJqIi8+PG1hc2sgaWQ9InYiIHg9IjAiIHk9IjAiIHdpZHRoPSI5NS42MzMiIGhlaWdodD0iNDMuMTk2IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNqIi8+PC9tYXNrPjxwYXRoIGQ9Ik0yNTYgMTQ3LjV2MzEuNTY0YzAgNS41MjctNC40NyAxMC4wMDgtOS45OTYgMTAuMDA4SDkuOTk2Yy01LjUyIDAtOS45OTYtNC40NzYtOS45OTYtMTAuMDA4VjEwLjAwM0MwIDQuNDggNC40NyAwIDkuOTk2IDBoMjM2LjAwOEMyNTEuNTI0IDAgMjU2IDQuNDg1IDI1NiAxMC4wMDNWMTQ3LjV6IiBpZD0iayIvPjxtYXNrIGlkPSJ3IiB4PSIwIiB5PSIwIiB3aWR0aD0iMjU2IiBoZWlnaHQ9IjE4OS4wNzIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2siLz48L21hc2s+PGNpcmNsZSBpZD0ibCIgY3g9IjU1IiBjeT0iNTUiIHI9IjU1Ii8+PG1hc2sgaWQ9IngiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMTAiIGhlaWdodD0iMTEwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNsIi8+PC9tYXNrPjwvZGVmcz48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDY2OSA4NykiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI20pIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNhIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjbikiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2IiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNvKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjYyIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik0xMzcuMDQyIDEyMC43NUgxMTdsMjIuMTktMzQuMzc1TDExNyA1MmgyMC4wNDJsMjIuMTkgMzQuMzc1eiIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzOTcgMjIwKSI+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjcCkiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2QiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNxKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjZSIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3IpIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNmIi8+PGNpcmNsZSBmaWxsPSIjQkJCIiBjeD0iMTgwIiBjeT0iNzAiIHI9IjIiLz48cGF0aCBmaWxsPSIjRjhBRDE4IiBkPSJNOTQuNTggMTAySDc2bDIwLjY0NS0zMC45NjhMNzYgMzhoMTguNThsMjAuNjQ2IDMzLjAzMnoiLz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDU3KSI+PHJlY3Qgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyMCIgcng9IjguNCIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3MpIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNnIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjdCkiIHN0cm9rZS13aWR0aD0iNCIgeGxpbms6aHJlZj0iI2giLz48cmVjdCBmaWxsPSIjQkJCIiB4PSIzMSIgeT0iMTAiIHdpZHRoPSIxMC44IiBoZWlnaHQ9IjIuNCIgcng9IjEuMiIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3UpIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNpIi8+PHBhdGggZD0iTTM1LjAzMiA3OUgyNGwxMi4yNTgtMTguMzg3TDI0IDQxaDExLjAzMkw0Ny4yOSA2MC42MTN6IiBmaWxsPSIjRjhBRDE4Ii8+PC9nPjxnIHN0cm9rZT0iI0JCQiIgc3Ryb2tlLXdpZHRoPSI0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik0zMzAuNTk4IDE4My4yNTRDMzQxLjM1NSAxNzIuNDEgMzQ4IDE1Ny40ODEgMzQ4IDE0MWMwLTE2LjcyMy02Ljg0MS0zMS44NDgtMTcuODc4LTQyLjcyOCIvPjxwYXRoIGQ9Ik0zMTkuOTg4IDE3Mi42NUMzMjguMDMzIDE2NC41MiAzMzMgMTUzLjM0IDMzMyAxNDFjMC0xMi41MjMtNS4xMTUtMjMuODUxLTEzLjM3LTMyLjAxTTMwOS41MDIgMTYxLjkyQTI5LjkwMiAyOS45MDIgMCAwIDAgMzE4IDE0MWMwLTguMzc2LTMuNDMzLTE1Ljk1MS04Ljk2OS0yMS4zOTQiLz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCA2NSkiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3YpIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNqIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjdykiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2siLz48cGF0aCBkPSJNMS41IDE0Ny41aDI1My4xOTgiIHN0cm9rZT0iI0JCQiIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzMgMjEpIj48dXNlIHN0cm9rZT0iI0Y4QUQxOCIgbWFzaz0idXJsKCN4KSIgc3Ryb2tlLXdpZHRoPSI2IiBmaWxsPSIjMUYxRjFGIiB4bGluazpocmVmPSIjbCIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik01Ni4zODIgODkuMzc1SDM2LjMzOUw1OC41MyA1NSAzNi4zNCAyMC42MjVoMjAuMDQzTDc4LjU3MiA1NXoiLz48L2c+PC9nPjwvZz48L3N2Zz4="},53117:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTEyLjcwOCAxNC42NjdhNS4zNCA1LjM0IDAgMCAxLTUuMzMzLTUuMzMzIDUuMzM5IDUuMzM5IDAgMCAxIDUuMzMzLTUuMzMzIDUuMzM5IDUuMzM5IDAgMCAxIDUuMzMzIDUuMzMzIDUuMzM5IDUuMzM5IDAgMCAxLTUuMzMzIDUuMzMzem0wLTkuMzM0Yy0yLjIwNSAwLTQgMS43OTUtNCA0czEuNzk1IDQgNCA0IDQtMS43OTUgNC00LTEuNzk1LTQtNC00ek0yMC4wNDEgMTZjLjM3IDAgLjY2Ny4yOTkuNjY3LjY2NyAwIDQuNzM3LTEuNjk1IDguNDkyLTQuNjY3IDEwLjM3N3Y4LjI4OWEuNjY3LjY2NyAwIDAgMS0uNjY3LjY2N2gtNS4zMzNhLjY2Ny42NjcgMCAwIDEtLjY2Ny0uNjY3di04LjI4OWMtMi45NzItMS44ODQtNC42NjctNS42MzgtNC42NjctMTAuMzc3IDAtLjM2OC4yOTktLjY2Ny42NjctLjY2N2gxNC42Njd6bS03LjI4IDEuMzMzaC0uMTA4bC0uNTg5IDcuMDgxLjY0My42NDMuNjQzLS42NDMtLjU4OS03LjA4MXptMi4yODQgOC43NTRsLS4wMDEtLjAwMWMyLjYxMi0xLjQ4NSA0LjE2Ni00LjY1NCA0LjMxNy04Ljc1M2gtNS4yNjRsLjYwOCA3LjI3OWEuNjY4LjY2OCAwIDAgMS0uMTkzLjUyN2wtMS4zMzMgMS4zMzNhLjY2OS42NjkgMCAwIDEtLjQ3Mi4xOTUuNjU0LjY1NCAwIDAgMS0uNDY5LS4xOTZsLTEuMzMzLTEuMzMzYS42Ny42NyAwIDAgMS0uMTkzLS41MjdsLjYwNy03LjI3N0g2LjA1NWMuMTUxIDQuMSAxLjcwNSA3LjI2OCA0LjMxNiA4Ljc1My4yMDguMTE5LjMzNy4zNC4zMzcuNTh2OGg0di04YzAtLjI0LjEyOS0uNDYxLjMzNy0uNTh6TTM1LjMzMyA1LjMzM2MuMzY4IDAgLjY2Ny4yOTkuNjY3LjY2N3YxOC42NjdhLjY2Ny42NjcgMCAwIDEtLjY2Ny42NjdIMjIuNjY2YS42NjcuNjY3IDAgMCAxIDAtMS4zMzRoMTJWNi42NjdIMjEuMzMzYS42NjcuNjY3IDAgMCAxIDAtMS4zMzRoMTR6TTIzLjAxNyAyMC41NDF2LS4wMDJhLjY2Ni42NjYgMCAwIDEtLjM5Mi0uODU2bDIuNS02LjcxN2EuNjcuNjcgMCAwIDEgLjM4NS0uMzkyLjY4LjY4IDAgMCAxIC41NDguMDMxbDMuMzg5IDEuNzcyIDEuNzUyLTUuMjU3YS42NjYuNjY2IDAgMSAxIDEuMjY0LjQyM2wtMiA2YS42Ny42NyAwIDAgMS0uMzgzLjQwOC42NzQuNjc0IDAgMCAxLS41NTctLjAyOGwtMy40MTMtMS43ODUtMi4yMzYgNi4wMTFhLjY2OS42NjkgMCAwIDEtLjg1Ny4zOTJ6IiBmaWxsPSIjQ0M3QjE5IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KPC9zdmc+Cg=="},85828:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8ZyBmaWxsPSIjQ0M3QjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzIDQpIj4KICAgIDxwYXRoIGQ9Ik0yNSwxNiBDMjAuNTg4LDE2IDE3LDE5LjU4OCAxNywyNCBDMTcsMjguNDEyIDIwLjU4OCwzMiAyNSwzMiBDMjkuNDEyLDMyIDMzLDI4LjQxMiAzMywyNCBDMzMsMTkuNTg4IDI5LjQxMiwxNiAyNSwxNiBaIE0yNSwzMC42NjcgQzIxLjMyNCwzMC42NjcgMTguMzMzLDI3LjY3NiAxOC4zMzMsMjQgQzE4LjMzMywyMC4zMjQgMjEuMzI0LDE3LjMzMyAyNSwxNy4zMzMgQzI4LjY3NiwxNy4zMzMgMzEuNjY3LDIwLjMyNCAzMS42NjcsMjQgQzMxLjY2NywyNy42NzYgMjguNjc2LDMwLjY2NyAyNSwzMC42NjcgWiIvPgogICAgPHBhdGggZD0iTTI1LDIwIEMyMi43OTUsMjAgMjEsMjEuNzk1IDIxLDI0IEMyMSwyNi4yMDUgMjIuNzk1LDI4IDI1LDI4IEMyNy4yMDUsMjggMjksMjYuMjA1IDI5LDI0IEMyOSwyMS43OTUgMjcuMjA1LDIwIDI1LDIwIFogTTI1LDI2LjY2NyBDMjMuNTI5LDI2LjY2NyAyMi4zMzMsMjUuNDcxIDIyLjMzMywyNCBDMjIuMzMzLDIyLjUyOSAyMy41MjksMjEuMzMzIDI1LDIxLjMzMyBDMjYuNDcxLDIxLjMzMyAyNy42NjcsMjIuNTI5IDI3LjY2NywyNCBDMjcuNjY3LDI1LjQ3MSAyNi40NzEsMjYuNjY3IDI1LDI2LjY2NyBaIi8+CiAgICA8cGF0aCBkPSJNMzIuMzMzIDkuMzMzTDEuNjY2IDkuMzMzQzEuMjk4IDkuMzMzLjk5OSA5LjYzMi45OTkgMTBMLjk5OSAyNi44MDFDLjk5OSAyOC4xOTcgMi4xNTggMjkuMzMzIDMuNTgzIDI5LjMzM0wxNC4zMzIgMjkuMzMzIDE0LjMzMiAyOCAzLjU4MyAyOEMyLjg5MiAyOCAyLjMzMiAyNy40NjMgMi4zMzIgMjYuODAxTDIuMzMyIDEwLjY2NiAzMS42NjUgMTAuNjY2IDMxLjY2NSAxNS45OTMgMzIuOTk4IDE1Ljk5MyAzMi45OTggMTBDMzIuOTk4IDkuNjMyIDMyLjY5OSA5LjMzMyAzMi4zMzEgOS4zMzNMMzIuMzMzIDkuMzMzek0zMSAwTDMgMEMxLjg5NyAwIDEgLjg5NyAxIDIuMDAxTDEgNy4zMzNDMSA3LjcwMSAxLjI5OSA4IDEuNjY3IDhMMzIuMzM0IDhDMzIuNzAyIDggMzMuMDAxIDcuNzAxIDMzLjAwMSA3LjMzM0wzMy4wMDEgMi4wMDFDMzMuMDAxLjg5NyAzMi4xMDQgNC40NDA4OTIxZS0xNiAzMS4wMDEgNC40NDA4OTIxZS0xNkwzMSAwek0zMS42MiAxLjc3MkwyNi43MjUgNi42NjcgMjMuMjc3IDYuNjY3IDI4LjYxIDEuMzM0IDMwLjk5OSAxLjMzNEMzMS4yODYgMS4zMzQgMzEuNTI2IDEuNTE4IDMxLjYxOSAxLjc3M0wzMS42MiAxLjc3MnpNMTIuNjExIDEuMzMzTDE2LjA1OSAxLjMzMyAxMC43MjYgNi42NjYgNy4yNzggNi42NjYgMTIuNjExIDEuMzMzek01LjM5MiA2LjY2N0wyLjYxMSA2LjY2NyA3Ljk0NCAxLjMzNCAxMC43MjUgMS4zMzQgNS4zOTIgNi42Njd6TTE3Ljk0NCAxLjMzM0wyMS4zOTIgMS4zMzMgMTYuMDU5IDYuNjY2IDEyLjYxMSA2LjY2NiAxNy45NDQgMS4zMzN6TTIzLjI3NyAxLjMzM0wyNi43MjUgMS4zMzMgMjEuMzkyIDYuNjY2IDE3Ljk0NCA2LjY2NiAyMy4yNzcgMS4zMzN6TTMgMS4zMzNMNi4wNTkgMS4zMzMgMi4zMzQgNS4wNTggMi4zMzQgMi4wMDFDMi4zMzQgMS42MzMgMi42MzMgMS4zMzMgMy4wMDEgMS4zMzNMMyAxLjMzM3pNMjguNjExIDYuNjY3TDMxLjY2NyAzLjYxMSAzMS42NjcgNi42NjcgMjguNjExIDYuNjY3eiIvPgogIDwvZz4KPC9zdmc+Cg=="},92740:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8ZyBmaWxsPSIjQ0M3QjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMCA0KSI+CiAgICA8cGF0aCBkPSJNMTUuOTUxLDE2LjQ0NCBDMTUuODUsMTYuMTkzIDE1LjYwOCwxNi4wMjkgMTUuMzM5LDE2LjAyOCBMMTIuNjY3LDE2LjAwNSBMMTIuNjY3LDEwIEMxMi42NjcsOS42MzIgMTIuMzY4LDkuMzMzIDEyLDkuMzMzIEw4LDkuMzMzIEM3LjYzMiw5LjMzMyA3LjMzMyw5LjYzMiA3LjMzMywxMCBMNy4zMzMsMTYgTDQuNjEsMTYgQzQuMzQxLDE2IDQuMDk3LDE2LjE2MyAzLjk5NCwxNi40MTIgQzMuODksMTYuNjYxIDMuOTQ3LDE2Ljk0OCA0LjEzOCwxNy4xMzkgTDkuNDcxLDIyLjQ3MiBDOS42MDIsMjIuNjAxIDkuNzcyLDIyLjY2NyA5Ljk0MywyMi42NjcgQzEwLjExMSwyMi42NjcgMTAuMjgsMjIuNjAzIDEwLjQxMSwyMi40NzUgTDE1LjgsMTcuMTcgQzE1Ljk5MiwxNi45ODEgMTYuMDUyLDE2LjY5NSAxNS45NDksMTYuNDQ1IEwxNS45NTEsMTYuNDQ0IFogTTkuOTQ4LDIxLjA2MSBMNi4yMiwxNy4zMzMgTDgsMTcuMzMzIEM4LjM2OCwxNy4zMzMgOC42NjcsMTcuMDM0IDguNjY3LDE2LjY2NiBMOC42NjcsMTAuNjY2IEwxMS4zMzQsMTAuNjY2IEwxMS4zMzQsMTYuNjY2IEMxMS4zMzQsMTcuMDMxIDExLjYyOSwxNy4zMyAxMS45OTUsMTcuMzMzIEwxMy43MTksMTcuMzQ4IEw5Ljk0OCwyMS4wNjEgWiIvPgogICAgPHBhdGggZD0iTTE2LDcuODg4NjA5MDVlLTMxIEw0LDcuODg4NjA5MDVlLTMxIEMyLjE2Myw3Ljg4ODYwOTA1ZS0zMSAwLjY2NywxLjQ5NSAwLjY2NywzLjMzMyBMMC42NjcsMjguNjY2IEMwLjY2NywzMC41MDUgMi4xNjMsMzEuOTk5IDQsMzEuOTk5IEwxNiwzMS45OTkgQzE3LjgzNywzMS45OTkgMTkuMzMzLDMwLjUwNCAxOS4zMzMsMjguNjY2IEwxOS4zMzMsMy4zMzMgQzE5LjMzMywxLjQ5NCAxNy44MzcsLTEuNzc2MzU2ODRlLTE1IDE2LDcuODg4NjA5MDVlLTMxIFogTTIsNi42NjcgTDE4LDYuNjY3IEwxOCwyNS4zMzQgTDIsMjUuMzM0IEwyLDYuNjY3IFogTTQsMS4zMzMgTDE2LDEuMzMzIEMxNy4xMDMsMS4zMzMgMTgsMi4yMyAxOCwzLjMzMyBMMTgsNS4zMzMgTDIsNS4zMzMgTDIsMy4zMzMgQzIsMi4yMyAyLjg5NywxLjMzMyA0LDEuMzMzIFogTTE2LDMwLjY2NyBMNCwzMC42NjcgQzIuODk3LDMwLjY2NyAyLDI5Ljc3IDIsMjguNjY3IEwyLDI2LjY2NyBMMTgsMjYuNjY3IEwxOCwyOC42NjcgQzE4LDI5Ljc3IDE3LjEwMywzMC42NjcgMTYsMzAuNjY3IFoiLz4KICAgIDxwYXRoIGQ9Ik02LjY2NyA0TDEzLjMzNCA0QzEzLjcwMiA0IDE0LjAwMSAzLjcwMSAxNC4wMDEgMy4zMzMgMTQuMDAxIDIuOTY1IDEzLjcwMiAyLjY2NiAxMy4zMzQgMi42NjZMNi42NjcgMi42NjZDNi4yOTkgMi42NjYgNiAyLjk2NSA2IDMuMzMzIDYgMy43MDEgNi4yOTkgNCA2LjY2NyA0ek0xMS4zMzMgMjguNjY3QzExLjMzMyAyOS40MDMgMTAuNzM2IDMwIDEwIDMwIDkuMjY0IDMwIDguNjY3IDI5LjQwMyA4LjY2NyAyOC42NjcgOC42NjcgMjcuOTMxIDkuMjY0IDI3LjMzNCAxMCAyNy4zMzQgMTAuNzM2IDI3LjMzNCAxMS4zMzMgMjcuOTMxIDExLjMzMyAyOC42Njd6Ii8+CiAgPC9nPgo8L3N2Zz4K"},16752:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8ZyBmaWxsPSIjQ0M3QjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0IDQpIj4KICAgIDxwYXRoIGQ9Ik0xMi41MzIgMTUuMjcyQzExLjIzMiAxNi41NzIgMTEuMjMyIDE4LjY4OCAxMi41MzIgMTkuOTg3IDEzLjE2MyAyMC42MTYgMTMuOTk5IDIwLjk2MiAxNC44ODkgMjAuOTYyIDE1Ljc3OSAyMC45NjIgMTYuNjE2IDIwLjYxNSAxNy4yNDYgMTkuOTg3IDE4LjU0NiAxOC42ODcgMTguNTQ2IDE2LjU3MSAxNy4yNDYgMTUuMjcyIDE1Ljk4NSAxNC4wMTUgMTMuNzkzIDE0LjAxNSAxMi41MzEgMTUuMjcyTDEyLjUzMiAxNS4yNzJ6TTE2LjMwNCAxOS4wNDRDMTUuNTQ5IDE5Ljc5OSAxNC4yMzEgMTkuNzk5IDEzLjQ3NiAxOS4wNDQgMTIuNjk2IDE4LjI2NCAxMi42OTYgMTYuOTk1IDEzLjQ3NiAxNi4yMTUgMTMuODUzIDE1LjgzOCAxNC4zNTYgMTUuNjMxIDE0Ljg5MSAxNS42MzEgMTUuNDI2IDE1LjYzMSAxNS45MjcgMTUuODM4IDE2LjMwNiAxNi4yMTUgMTcuMDgzIDE2Ljk5NSAxNy4wODMgMTguMjY0IDE2LjMwNSAxOS4wNDRMMTYuMzA0IDE5LjA0NHpNNS45MzIgMjIuODE1QzUuNjcyIDIyLjU1NSA1LjI0OSAyMi41NTUgNC45ODkgMjIuODE1IDQuNzI5IDIzLjA3NSA0LjcyOSAyMy40OTggNC45ODkgMjMuNzU4TDguNzYgMjcuNTI5QzguODkxIDI3LjY2IDkuMDYxIDI3LjcyNCA5LjIzMiAyNy43MjQgOS40MDMgMjcuNzI0IDkuNTczIDI3LjY1OSA5LjcwNCAyNy41MjkgOS45NjQgMjcuMjY5IDkuOTY0IDI2Ljg0NiA5LjcwNCAyNi41ODZMNS45MzIgMjIuODE1eiIvPgogICAgPHBhdGggZD0iTTMxLjQ2MSw1LjMzMyBMMzIuMzIyLDQuNDcyIEMzMi41ODIsNC4yMTIgMzIuNTgyLDMuNzg5IDMyLjMyMiwzLjUyOSBMMjguOTg5LDAuMTk2IEMyOC43MjksLTAuMDY0IDI4LjMwNiwtMC4wNjQgMjguMDQ2LDAuMTk2IEwyNy4xODUsMS4wNTcgTDI2LjMyNCwwLjE5NiBDMjYuMDY0LC0wLjA2NCAyNS42NDEsLTAuMDY0IDI1LjM4MSwwLjE5NiBDMjUuMTIxLDAuNDU2IDI1LjEyMSwwLjg3OSAyNS4zODEsMS4xMzkgTDI2LjI0MiwyIEwyNS4xODUsMy4wNTcgTDI0LjMyNCwyLjE5NiBDMjQuMDY0LDEuOTM2IDIzLjY0MSwxLjkzNiAyMy4zODEsMi4xOTYgQzIzLjEyMSwyLjQ1NiAyMy4xMjEsMi44NzkgMjMuMzgxLDMuMTM5IEwyNC4yNDIsNCBMMjIuNzE0LDUuNTI4IEMyMi40NTQsNS43ODggMjIuNDU0LDYuMjExIDIyLjcxNCw2LjQ3MSBMMjIuOTA5LDYuNjY3IEwxOC40MjgsMTEuMTQ4IEMxNy4zMDQsMTAuNDc1IDE2LjA4OCwxMC4xMjEgMTQuODgsMTAuMTIxIEMxMi4xMDUsMTAuMTIxIDkuOTAzLDExLjkxMiA5LjMwNywxNC41NTQgQzUuNjk0LDE0LjAxIDIuODAyLDE1LjQ5MyAxLjU3NiwxOC40NDkgQzAuMjUzLDIxLjY0MiAxLjI0NywyNS42NjkgNC4wNDgsMjguNDcgQzUuOTg1LDMwLjQwNyA4LjU0LDMxLjUxOCAxMS4wNTcsMzEuNTE4IEMxMy4zMjUsMzEuNTE4IDE1LjM1NCwzMC42MTcgMTYuNjI1LDI5LjA0NiBDMTcuNSwyNy45NjMgMTguNDAyLDI2LjA5NSAxNy45NjIsMjMuMjA5IEMxOS43MTgsMjIuODA4IDIxLjE1NSwyMS42NjggMjEuODgzLDIwLjA2NCBDMjIuNzIsMTguMjE5IDIyLjUyMywxNi4wMjMgMjEuMzcsMTQuMDkyIEwyNS44NTEsOS42MTEgTDI2LjA0Niw5LjgwNiBDMjYuMzA2LDEwLjA2NiAyNi43MjksMTAuMDY2IDI2Ljk4OSw5LjgwNiBMMjguNTE3LDguMjc4IEwyOS4zNzgsOS4xMzkgQzI5LjUxLDkuMjY4IDI5LjY4MSw5LjMzNCAyOS44NTEsOS4zMzQgQzMwLjAyMSw5LjMzNCAzMC4xOTIsOS4yNjkgMzAuMzIzLDkuMTM5IEMzMC41ODMsOC44NzkgMzAuNTgzLDguNDU2IDMwLjMyMyw4LjE5NiBMMjkuNDYsNy4zMzMgTDMwLjUxNyw2LjI3NiBMMzEuMzc4LDcuMTM3IEMzMS41MDksNy4yNjggMzEuNjc5LDcuMzMzIDMxLjg1LDcuMzMzIEMzMi4wMjEsNy4zMzMgMzIuMTkxLDcuMjY4IDMyLjMyMiw3LjEzOCBDMzIuNTgyLDYuODc4IDMyLjU4Miw2LjQ1NSAzMi4zMjIsNi4xOTUgTDMxLjQ1OSw1LjMzMiBMMzEuNDYxLDUuMzMzIFogTTI2LjUxOSw4LjM5MSBMMjYuMzI0LDguMTk2IEMyNi4wNjQsNy45MzYgMjUuNjQxLDcuOTM2IDI1LjM4MSw4LjE5NiBMMjAuMDQ4LDEzLjUyOSBDMTkuODIsMTMuNzU3IDE5Ljc4OCwxNC4xMTYgMTkuOTcyLDE0LjM4MSBDMjEuMTE5LDE2LjAyOSAyMS4zOCwxNy45NDkgMjAuNjY5LDE5LjUxNCBDMjAuMDMzLDIwLjkxNyAxOC43MzYsMjEuODIzIDE3LjExLDIyLjAwNSBDMTYuOTIzLDIyLjAyNiAxNi43NTMsMjIuMTI1IDE2LjY0MywyMi4yNzggQzE2LjUzMiwyMi40MyAxNi40OTIsMjIuNjIzIDE2LjUzMiwyMi44MDYgQzE3LjAwMSwyNC45OTQgMTYuNjczLDI2Ljg2MiAxNS41ODcsMjguMjA5IEMxNC41NzEsMjkuNDY2IDEyLjkyLDMwLjE4NiAxMS4wNTYsMzAuMTg2IEM4Ljg4OSwzMC4xODYgNi42NzcsMjkuMjE3IDQuOTg5LDI3LjUyOSBDMi41NjUsMjUuMTA1IDEuNjg4LDIxLjY2MiAyLjgwNiwxOC45NjEgQzMuNjQ1LDE2LjkzNiA1LjQ4MiwxNS43NzYgNy44NDYsMTUuNzc2IEM4LjQzNSwxNS43NzYgOS4wNjMsMTUuODQ3IDkuNzEsMTUuOTg1IEM5Ljg5NCwxNi4wMiAxMC4wODcsMTUuOTg1IDEwLjIzOSwxNS44NzMgQzEwLjM5MSwxNS43NjQgMTAuNDkxLDE1LjU5NCAxMC41MTIsMTUuNDA2IEMxMC43NzEsMTMuMDgxIDEyLjU2NSwxMS40NTUgMTQuODc3LDExLjQ1NSBDMTUuOTgyLDExLjQ1NSAxNy4xMDgsMTEuODMyIDE4LjEzNCwxMi41NDYgQzE4LjM5OCwxMi43MzEgMTguNzU3LDEyLjY5OCAxOC45ODYsMTIuNDcgTDI0LjMxOSw3LjEzNyBDMjQuNTc5LDYuODc3IDI0LjU3OSw2LjQ1NCAyNC4zMTksNi4xOTQgTDI0LjEyNCw1Ljk5OSBMMjguNTE1LDEuNjA4IEwzMC45MDYsMy45OTkgTDI2LjUxNSw4LjM5IEwyNi41MTksOC4zOTEgWiIvPgogIDwvZz4KPC9zdmc+Cg=="},47958:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTM1LjMzMyAyNi42NjdoLS42NjdWMjZhNC42NzIgNC42NzIgMCAwIDAtNC42NjctNC42NjdBNC42NzIgNC42NzIgMCAwIDAgMjUuMzMyIDI2di42NjdoLS42NjdhLjY2Ny42NjcgMCAwIDAtLjY2Ny42Njd2OGMwIC4zNjguMjk5LjY2Ny42NjcuNjY3aDEwLjY2N2EuNjY3LjY2NyAwIDAgMCAuNjY3LS42Njd2LThhLjY2Ny42NjcgMCAwIDAtLjY2Ny0uNjY3aC4wMDF6TTI2LjY2NyAyNkEzLjMzOCAzLjMzOCAwIDAgMSAzMCAyMi42NjcgMy4zMzggMy4zMzggMCAwIDEgMzMuMzMzIDI2di42NjdoLTYuNjY3VjI2aC4wMDF6bTggOC42NjdoLTkuMzMzVjI4aDkuMzMzdjYuNjY3ek0zMCAyOS4zMzNoLjAwMmMuNzM0IDAgMS4zMzMuNTk4IDEuMzMzIDEuMzMzIDAgLjQ4Ny0uMjc2Ljg5Ni0uNjY3IDEuMTI4di44NzJhLjY2Ny42NjcgMCAwIDEtMS4zMzQgMHYtLjg3MmMtLjM5MS0uMjMyLS42NjctLjY0MS0uNjY3LTEuMTI4IDAtLjczNC41OTgtMS4zMzMgMS4zMzMtMS4zMzN6bS01LjM0OS0xNi42NjZoLjAwMmMwIDMuMDI4LTEuMzIxIDUuNjkzLTMuMzE3IDcuMjQ0djMuNDIzaC0xLjMzM3YtMi42MDlhNi4zMjMgNi4zMjMgMCAwIDEtMi42ODMuNjA5IDYuMzE3IDYuMzE3IDAgMCAxLTIuNjUxLS41OTV2Mi41OTVhLjY2OS42NjkgMCAwIDEtLjQ0My42MjhsLTYuNjggMi4zODVhMy4zNCAzLjM0IDAgMCAwLTIuMjExIDMuMTM5djIuNTE1aDE1LjMzM3YxLjMzM2gtMTZhLjY2Ny42NjcgMCAwIDEtLjY2Ny0uNjY3di0zLjE4MWE0LjY3NiA0LjY3NiAwIDAgMSAzLjA5Ni00LjM5NWw2LjIzNy0yLjIyOHYtMi45MzFjLTIuMDEzLTEuNTQ2LTMuMzQ5LTQuMjIyLTMuMzQ5LTcuMjY1QzkuOTg1IDcuODg4IDEzLjI3NCA0IDE3LjMxOCA0YzQuMDQ0IDAgNy4zMzMgMy44ODggNy4zMzMgOC42Njd6bS03LjMzNC03LjMzNGwtLjAwMS4wMDFjLTIuODM1IDAtNS4yMSAyLjQxNi01LjgzNSA1LjY1MWE0LjY4IDQuNjggMCAwIDAgMS44MzUuMzQ5YzEuNzQ1IDAgMy44MTUtMS4wMzUgNC40MjgtMi4yMTVhLjY2NS42NjUgMCAwIDEgLjU3OS0uMzU5LjYyNS42MjUgMCAwIDEgLjU5Mi4zMzZjMS4xMzkgMS45OTIgMi4zMzggMi42MjQgNC4yNzUgMi4yNDlsLjAyNC0uMDAxYy0uNTEyLTMuNDE0LTIuOTU4LTYuMDExLTUuODk3LTYuMDExem0tNiA3LjMzNGMwIDQuMDQ0IDIuNjkyIDcuMzMzIDYgNy4zMzNzNi0zLjI4OSA2LTcuMzMyYTYuNTA0IDYuNTA0IDAgMCAxLTEuMTEzLjExM2MtMS41OTIgMC0yLjg0NC0uNzAyLTMuOTA3LTIuMTgxLTEuMTM5IDEuMTk2LTMuMTQ3IDIuMDY3LTQuOTggMi4wNjctLjcxNCAwLTEuMzYtLjExLTEuOTg3LS4zMjEtLjAwNC4xMDgtLjAxMy4yMTMtLjAxMy4zMjF6IiBmaWxsPSIjQ0M3QjE5IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KPC9zdmc+Cg=="},90136:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTkuNDk3IDcuNDM4YS42ODguNjg4IDAgMSAxLTEuMzc1IDAgLjY4OC42ODggMCAwIDEgMS4zNzUgMHptMi43NSAwYS42ODguNjg4IDAgMSAxLTEuMzc1IDAgLjY4OC42ODggMCAwIDEgMS4zNzUgMHptMi43NSAwYS42ODguNjg4IDAgMSAxLTEuMzc1IDAgLjY4OC42ODggMCAwIDEgMS4zNzUgMHptMi4wNjMgMTguNTZ2LS4wMDFhLjY4OC42ODggMCAxIDEgMCAxLjM3NUg3LjQzOEEzLjQ0IDMuNDQgMCAwIDEgNCAyMy45MzZ2LTE2LjVBMy40NCAzLjQ0IDAgMCAxIDcuNDM3IDRoMjEuOTk4YTMuNDQgMy40NCAwIDAgMSAzLjQzNyAzLjQzN3YxMWEuNjg4LjY4OCAwIDEgMS0xLjM3NiAwdi03LjU2Mkg1LjM3NHYxMy4wNjJjMCAxLjEzNy45MjQgMi4wNjIgMi4wNjIgMi4wNjJoOS42MjR6TTcuNDM1IDUuMzc3YTIuMDY0IDIuMDY0IDAgMCAwLTIuMDYzIDIuMDYyVjkuNWgyNi4xMjNWNy40MzhhMi4wNjQgMi4wNjQgMCAwIDAtMi4wNjItMi4wNjJINy40MzV6TTM2LjY1NCAzMC4xNWwuMDAyLS4wMDJhLjY4NS42ODUgMCAwIDEgLjI1Mi45MzhsLTIuMDYyIDMuNTcyYS42NzcuNjc3IDAgMCAxLS40MTcuMzIuNzAxLjcwMSAwIDAgMS0uNTIzLS4wN2wtMS4wOTItLjYzMmMtLjQxLjMtLjg1Mi41NTQtMS4zMTcuNzZ2MS4yNzRjMCAuMzgtLjMwOC42ODctLjY4OC42ODdoLTQuMTI0YS42ODguNjg4IDAgMCAxLS42ODgtLjY4N3YtMS4yNjhhNy4zMTEgNy4zMTEgMCAwIDEtMS4zMzctLjc2MmwtMS4xMDguNjM1YS42OS42OSAwIDAgMS0uOTM3LS4yNTJsLTIuMDYzLTMuNTcyYS42ODguNjg4IDAgMCAxIC4yNTItLjk0bDEuMDk0LS42MzRhNi4zMjggNi4zMjggMCAwIDEgLjAwMS0xLjUzNWwtMS4wOTQtLjYzMmEuNjg3LjY4NyAwIDAgMS0uMjUtLjk0bDIuMDYzLTMuNTcyYS42OS42OSAwIDAgMSAuOTM3LS4yNTJsMS4xMDUuNjM1Yy40MTgtLjMuODY2LS41NTUgMS4zMzYtLjc2MnYtMS4yNzRjMC0uMzguMzA4LS42ODcuNjg4LS42ODdoNC4xMjRjLjM4IDAgLjY4OC4zMDguNjg4LjY4N3YxLjI3NGMuNDY0LjIwNi45MDUuNDYgMS4zMTYuNzU5bDEuMDg5LS42MzJhLjY3OS42NzkgMCAwIDEgLjUyMy0uMDcuNjkuNjkgMCAwIDEgLjQxNy4zMmwyLjA2MyAzLjU3MmMuMTkuMzMuMDc3Ljc1LS4yNTIuOTRsLTEuMDk2LjYzNGMuMDU5LjUxLjA2IDEuMDI0IDAgMS41MzRsMS4wOTguNjM0em0tMi42NTYgMy4yMjZsMS4zNzMtMi4zNzktLjkwNy0uNTI0YS42ODcuNjg3IDAgMCAxLS4zMzEtLjcyYy4wNjItLjMzNi4wOTQtLjY3My4wOTQtMS4wMDNhNS41IDUuNSAwIDAgMC0uMDk1LTEuMDAyLjY4NS42ODUgMCAwIDEgLjMzLS43MjFsLjkwNy0uNTI0LTEuMzc0LTIuMzgtLjg5NS41MjFhLjY5LjY5IDAgMCAxLS43OTItLjA3MyA1Ljg0NyA1Ljg0NyAwIDAgMC0xLjc0LTEuMDA0LjY4Ny42ODcgMCAwIDEtLjQ0Ni0uNjQ0di0xLjA0OGgtMi43NXYxLjA0OGEuNjk2LjY5NiAwIDAgMS0uNDQ3LjY0OGMtLjY2Ni4yNDctMS4yOS42MDMtMS43NTYgMS4wMDNhLjY4Ny42ODcgMCAwIDEtLjc4OS4wNzRsLS45MTItLjUyNS0xLjM3NyAyLjM4My45MDQuNTI0Yy4yNS4xNDYuMzgzLjQzMy4zMzEuNzE5YTUuNDUyIDUuNDUyIDAgMCAwLS4wOTggMS4wMDJjMCAuMzM2LjAzMy42NzIuMDk2IDEuMDAyYS42ODcuNjg3IDAgMCAxLS4zMzMuNzJsLS45MDQuNTIzIDEuMzc2IDIuMzgzLjkxNi0uNTI1YS42ODYuNjg2IDAgMCAxIC43ODkuMDc1Yy40NjYuNCAxLjA5Ljc1NSAxLjc1NCAxLjAwMy4yNy4xLjQ0OS4zNTcuNDQ4LjY0NHYxLjA0OGgyLjc1di0xLjA0OGMwLS4yODcuMTgtLjU0NC40NS0uNjQ0YTUuNzQ0IDUuNzQ0IDAgMCAwIDEuNzM3LTEuMDA0LjY5LjY5IDAgMCAxIC43OTItLjA3M2wuODk5LjUyem0tNS4yNzItOC4wNjRhMy40NCAzLjQ0IDAgMCAxIDMuNDM3IDMuNDM3IDMuNDQgMy40NCAwIDAgMS0zLjQzNyAzLjQzNyAzLjQ0IDMuNDQgMCAwIDEtMy40MzctMy40MzcgMy40NCAzLjQ0IDAgMCAxIDMuNDM3LTMuNDM3em0wIDUuNWEyLjA2NCAyLjA2NCAwIDAgMCAyLjA2My0yLjA2MyAyLjA2NCAyLjA2NCAwIDAgMC0yLjA2My0yLjA2MiAyLjA2NCAyLjA2NCAwIDAgMC0yLjA2MiAyLjA2MmMwIDEuMTM3LjkyNSAyLjA2MiAyLjA2MiAyLjA2MnoiIGZpbGw9IiNDQzdCMTkiIGZpbGwtcnVsZT0ibm9uemVybyIvPgo8L3N2Zz4K"},64511:(e,t,n)=>{var i,r,s;s="object"==typeof self&&self.self==self&&self||"object"==typeof n.g&&n.g.global==n.g&&n.g,i=[n(13469),n(19755),t],void 0===(r=function(e,t,n){s.Backbone=function(e,t,n,i){var r=e.Backbone,s=Array.prototype.slice;t.VERSION="1.2.3",t.$=i,t.noConflict=function(){return e.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var o=function(e,t,i){n.each(t,(function(t,r){n[r]&&(e.prototype[r]=function(e,t,i){switch(e){case 1:return function(){return n[t](this[i])};case 2:return function(e){return n[t](this[i],e)};case 3:return function(e,r){return n[t](this[i],a(e,this),r)};case 4:return function(e,r,s){return n[t](this[i],a(e,this),r,s)};default:return function(){var e=s.call(arguments);return e.unshift(this[i]),n[t].apply(n,e)}}}(t,r,i))}))},a=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?l(e):n.isString(e)?function(t){return t.get(e)}:e},l=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},c=t.Events={},d=/\s+/,u=function(e,t,i,r,s){var o,a=0;if(i&&"object"==typeof i){void 0!==r&&"context"in s&&void 0===s.context&&(s.context=r);for(o=n.keys(i);a<o.length;a++)t=u(e,t,o[a],i[o[a]],s)}else if(i&&d.test(i))for(o=i.split(d);a<o.length;a++)t=e(t,o[a],r,s);else t=e(t,i,r,s);return t};c.on=function(e,t,n){return h(this,e,t,n)};var h=function(e,t,n,i,r){return e._events=u(p,e._events||{},t,n,{context:i,ctx:e,listening:r}),r&&((e._listeners||(e._listeners={}))[r.id]=r),e};c.listenTo=function(e,t,i){if(!e)return this;var r=e._listenId||(e._listenId=n.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),o=s[r];if(!o){var a=this._listenId||(this._listenId=n.uniqueId("l"));o=s[r]={obj:e,objId:r,id:a,listeningTo:s,count:0}}return h(e,t,i,this,o),this};var p=function(e,t,n,i){if(n){var r=e[t]||(e[t]=[]),s=i.context,o=i.ctx,a=i.listening;a&&a.count++,r.push({callback:n,context:s,ctx:s||o,listening:a})}return e};c.off=function(e,t,n){return this._events?(this._events=u(g,this._events,e,t,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(e,t,i){var r=this._listeningTo;if(!r)return this;for(var s=e?[e._listenId]:n.keys(r),o=0;o<s.length;o++){var a=r[s[o]];if(!a)break;a.obj.off(t,i,this)}return n.isEmpty(r)&&(this._listeningTo=void 0),this};var g=function(e,t,i,r){if(e){var s,o=0,a=r.context,l=r.listeners;if(t||i||a){for(var c=t?[t]:n.keys(e);o<c.length;o++){var d=e[t=c[o]];if(!d)break;for(var u=[],h=0;h<d.length;h++){var p=d[h];i&&i!==p.callback&&i!==p.callback._callback||a&&a!==p.context?u.push(p):(s=p.listening)&&0==--s.count&&(delete l[s.id],delete s.listeningTo[s.objId])}u.length?e[t]=u:delete e[t]}return n.size(e)?e:void 0}for(var g=n.keys(l);o<g.length;o++)delete l[(s=l[g[o]]).id],delete s.listeningTo[s.objId]}};c.once=function(e,t,i){var r=u(m,{},e,t,n.bind(this.off,this));return this.on(r,void 0,i)},c.listenToOnce=function(e,t,i){var r=u(m,{},t,i,n.bind(this.stopListening,this,e));return this.listenTo(e,r)};var m=function(e,t,i,r){if(i){var s=e[t]=n.once((function(){r(t,s),i.apply(this,arguments)}));s._callback=i}return e};c.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),i=0;i<t;i++)n[i]=arguments[i+1];return u(f,this._events,e,void 0,n),this};var f=function(e,t,n,i){if(e){var r=e[t],s=e.all;r&&s&&(s=s.slice()),r&&y(r,i),s&&y(s,[t].concat(i))}return e},y=function(e,t){var n,i=-1,r=e.length,s=t[0],o=t[1],a=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s,o);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s,o,a);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t);return}};c.bind=c.on,c.unbind=c.off,n.extend(t,c);var v=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(v.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,i){if(null==e)return this;var r;if("object"==typeof e?(r=e,i=t):(r={})[e]=t,i||(i={}),!this._validate(r,i))return!1;var s=i.unset,o=i.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,d=this.changed,u=this._previousAttributes;for(var h in r)t=r[h],n.isEqual(c[h],t)||a.push(h),n.isEqual(u[h],t)?delete d[h]:d[h]=t,s?delete c[h]:c[h]=t;if(this.id=this.get(this.idAttribute),!o){a.length&&(this._pending=i);for(var p=0;p<a.length;p++)this.trigger("change:"+a[p],this,c[a[p]],i)}if(l)return this;if(!o)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t=this._changing?this._previousAttributes:this.attributes,i={};for(var r in e){var s=e[r];n.isEqual(t[r],s)||(i[r]=s)}return!!n.size(i)&&i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,i=e.success;return e.success=function(n){var r=e.parse?t.parse(n,e):n;if(!t.set(r,e))return!1;i&&i.call(e.context,t,n,e),t.trigger("sync",t,n,e)},R(this,e),this.sync("read",this,e)},save:function(e,t,i){var r;null==e||"object"==typeof e?(r=e,i=t):(r={})[e]=t;var s=(i=n.extend({validate:!0,parse:!0},i)).wait;if(r&&!s){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var o=this,a=i.success,l=this.attributes;i.success=function(e){o.attributes=l;var t=i.parse?o.parse(e,i):e;if(s&&(t=n.extend({},r,t)),t&&!o.set(t,i))return!1;a&&a.call(i.context,o,e,i),o.trigger("sync",o,e,i)},R(this,i),r&&s&&(this.attributes=n.extend({},l,r));var c=this.isNew()?"create":i.patch?"patch":"update";"patch"!==c||i.attrs||(i.attrs=r);var d=this.sync(c,this,i);return this.attributes=l,d},destroy:function(e){e=e?n.clone(e):{};var t=this,i=e.success,r=e.wait,s=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){r&&s(),i&&i.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var o=!1;return this.isNew()?n.defer(e.success):(R(this,e),o=this.sync("delete",this,e)),r||s(),o},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||L();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.defaults({validate:!0},e))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return!i||(this.trigger("invalid",this,i,n.extend(t,{validationError:i})),!1)}}),o(v,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var b=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},Z={add:!0,remove:!0,merge:!0},S={add:!0,remove:!1},I=function(e,t,n){n=Math.min(Math.max(n,0),e.length);for(var i=Array(e.length-n),r=t.length,s=0;s<i.length;s++)i[s]=e[s+n];for(s=0;s<r;s++)e[s+n]=t[s];for(s=0;s<i.length;s++)e[s+r+n]=i[s]};n.extend(b.prototype,c,{model:v,initialize:function(){},toJSON:function(e){return this.map((function(t){return t.toJSON(e)}))},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,S))},remove:function(e,t){t=n.extend({},t);var i=!n.isArray(e);e=i?[e]:n.clone(e);var r=this._removeModels(e,t);return!t.silent&&r&&this.trigger("update",this,t),i?r[0]:r},set:function(e,t){if(null!=e){(t=n.defaults({},t,Z)).parse&&!this._isModel(e)&&(e=this.parse(e,t));var i=!n.isArray(e);e=i?e?[e]:[]:e.slice();var r=t.at;null!=r&&(r=+r),r<0&&(r+=this.length+1);for(var s,o=[],a=[],l=[],c={},d=t.add,u=t.merge,h=t.remove,p=!1,g=this.comparator&&null==r&&!1!==t.sort,m=n.isString(this.comparator)?this.comparator:null,f=0;f<e.length;f++){s=e[f];var y=this.get(s);if(y){if(u&&s!==y){var v=this._isModel(s)?s.attributes:s;t.parse&&(v=y.parse(v,t)),y.set(v,t),g&&!p&&(p=y.hasChanged(m))}c[y.cid]||(c[y.cid]=!0,o.push(y)),e[f]=y}else d&&(s=e[f]=this._prepareModel(s,t))&&(a.push(s),this._addReference(s,t),c[s.cid]=!0,o.push(s))}if(h){for(f=0;f<this.length;f++)c[(s=this.models[f]).cid]||l.push(s);l.length&&this._removeModels(l,t)}var b=!1,S=!g&&d&&h;if(o.length&&S?(b=this.length!=o.length||n.some(this.models,(function(e,t){return e!==o[t]})),this.models.length=0,I(this.models,o,0),this.length=this.models.length):a.length&&(g&&(p=!0),I(this.models,a,null==r?this.length:r),this.length=this.models.length),p&&this.sort({silent:!0}),!t.silent){for(f=0;f<a.length;f++)null!=r&&(t.index=r+f),(s=a[f]).trigger("add",s,this,t);(p||b)&&this.trigger("sort",this,t),(a.length||l.length)&&this.trigger("update",this,t)}return i?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return s.apply(this.models,arguments)},get:function(e){if(null!=e){var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]}},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var i=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),1===i||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){var t=(e=n.extend({parse:!0},e)).success,i=this;return e.success=function(n){var r=e.reset?"reset":"set";i[r](n,e),t&&t.call(e.context,i,n,e),i.trigger("sync",i,n,e)},R(this,e),this.sync("read",this,e)},create:function(e,t){var i=(t=t?n.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;i||this.add(e,t);var r=this,s=t.success;return t.success=function(e,t,n){i&&r.add(e,n),s&&s.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;(t=t?n.clone(t):{}).collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_removeModels:function(e,t){for(var n=[],i=0;i<e.length;i++){var r=this.get(e[i]);if(r){var s=this.indexOf(r);this.models.splice(s,1),this.length--,t.silent||(t.index=s,r.trigger("remove",r,this,t)),n.push(r),this._removeReference(r,t)}}return!!n.length&&n},_isModel:function(e){return e instanceof v},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){if("add"!==e&&"remove"!==e||n===this){if("destroy"===e&&this.remove(t,i),"change"===e){var r=this.modelId(t.previousAttributes()),s=this.modelId(t.attributes);r!==s&&(null!=r&&delete this._byId[r],null!=s&&(this._byId[s]=t))}this.trigger.apply(this,arguments)}}}),o(b,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");var M=t.View=function(e){this.cid=n.uniqueId("view"),n.extend(this,n.pick(e,P)),this._ensureElement(),this.initialize.apply(this,arguments)},w=/^(\S+)\s*(.*)$/,P=["model","collection","el","id","attributes","className","tagName","events"];n.extend(M.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var i=e[t];if(n.isFunction(i)||(i=this[i]),i){var r=t.match(w);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,i,r){var s=C[e];n.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};if(r.url||(o.url=n.result(i,"url")||L()),null!=r.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){o.type="POST",r.emulateJSON&&(o.data._method=s);var a=r.beforeSend;r.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",s),a)return a.apply(this,arguments)}}"GET"===o.type||r.emulateJSON||(o.processData=!1);var l=r.error;r.error=function(e,t,n){r.textStatus=t,r.errorThrown=n,l&&l.call(r.context,e,t,n)};var c=r.xhr=t.ajax(n.extend(o,r));return i.trigger("request",i,c,r),c};var C={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var D=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,x=/(\(\?)?:\w+/g,E=/\*\w+/g,T=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(D.prototype,c,{initialize:function(){},route:function(e,i,r){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var s=this;return t.history.route(e,(function(n){var o=s._extractParameters(e,n);!1!==s.execute(r,o,i)&&(s.trigger.apply(s,["route:"+i].concat(o)),s.trigger("route",i,o),t.history.trigger("route",s,i,o))})),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(T,"\\$&").replace(A,"(?:$1)?").replace(x,(function(e,t){return t?e:"([^/?]+)"})).replace(E,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,(function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null}))}});var j=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},N=/^[#\/]|\s+$/g,O=/^\/+|\/+$/g,k=/#.*$/;j.started=!1,n.extend(j.prototype,c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(N,"")},start:function(e){if(j.started)throw new Error("Backbone.history has already been started");if(j.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(O,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var s=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),j.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,(function(t){if(t.route.test(e))return t.callback(e),!0})))},navigate:function(e,t){if(!j.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+e;e=e.replace(k,"");var r=this.decodeFragment(e);if(this.fragment!==r){if(this.fragment=r,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var s=this.iframe.contentWindow;t.replace||(s.document.open(),s.document.close()),this._updateHash(s.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new j;v.extend=b.extend=D.extend=M.extend=j.extend=function(e,t){var i,r=this;i=e&&n.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,t);var s=function(){this.constructor=i};return s.prototype=r.prototype,i.prototype=new s,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};var L=function(){throw new Error('A "url" property or function must be specified')},R=function(e,t){var n=t.error;t.error=function(i){n&&n.call(t.context,e,i,t),e.trigger("error",e,i,t)}};return t}(s,n,e,t)}.apply(t,i))||(e.exports=r)},65789:function(e,t,n){var i,r,s,o;i=n(13469),r=n(64511),e.exports=(s=i,(o=r).ChildViewContainer=function(e,t){var n=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};return t.extend(n.prototype,{add:function(e,t){var n=e.cid;return this._views[n]=e,e.model&&(this._indexByModel[e.model.cid]=n),t&&(this._indexByCustom[t]=n),this._updateLength(),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var n=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,(function(e,t){if(e===n)return delete this._indexByCustom[t],!0}),this),delete this._views[n],this._updateLength(),this},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,n){t.each(this._views,(function(i){t.isFunction(i[e])&&i[e].apply(i,n||[])}))},_updateLength:function(){this.length=t.size(this._views)}}),t.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],(function(e){n.prototype[e]=function(){var n=[t.values(this._views)].concat(t.toArray(arguments));return t[e].apply(t,n)}})),n}(0,s),o.ChildViewContainer)},70800:function(e,t,n){var i,r,s;r=n(13469),s=n(64511),n(41856),n(65789),e.exports=(function(e,t,n){"use strict";var i={};t.Marionette=i,i.$=t.$;var r=Array.prototype.slice;function s(e,t){var n=new Error(e);throw n.name=t||"Error",n}i.extend=t.Model.extend,i.getOption=function(e,t){if(e&&t)return e.options&&t in e.options&&void 0!==e.options[t]?e.options[t]:e[t]},i.normalizeMethods=function(e){var t,i={};return n.each(e,(function(e,r){t=e,n.isFunction(t)||(t=this[t]),t&&(i[r]=t)}),this),i},i.triggerMethod=function(){var e=/(^|:)(\w)/gi;function t(e,t,n){return n.toUpperCase()}return function(i){var r=this["on"+i.replace(e,t)];if(n.isFunction(this.trigger)&&this.trigger.apply(this,arguments),n.isFunction(r))return r.apply(this,n.tail(arguments))}}(),i.MonitorDOMRefresh=function(e){function t(t){t._isShown&&t._isRendered&&function(t){return e.contains(t.el)}(t)&&n.isFunction(t.triggerMethod)&&t.triggerMethod("dom:refresh")}return function(e){e.listenTo(e,"show",(function(){!function(e){e._isShown=!0,t(e)}(e)})),e.listenTo(e,"render",(function(){!function(e){e._isRendered=!0,t(e)}(e)}))}}(document.documentElement),function(e){function t(e,t,i,r){var o=r.split(/\s+/);n.each(o,(function(n){var r=e[n];r||s("Method '"+n+"' was configured as an event handler, but does not exist."),e.listenTo(t,i,r)}))}function i(e,t,n,i){e.listenTo(t,n,i)}function r(e,t,i,r){var s=r.split(/\s+/);n.each(s,(function(n){var r=e[n];e.stopListening(t,i,r)}))}function o(e,t,n,i){e.stopListening(t,n,i)}function a(e,t,i,r,s){t&&i&&(n.isFunction(i)&&(i=i.call(e)),n.each(i,(function(i,o){n.isFunction(i)?r(e,t,o,i):s(e,t,o,i)})))}e.bindEntityEvents=function(e,n,r){a(e,n,r,i,t)},e.unbindEntityEvents=function(e,t,n){a(e,t,n,o,r)}}(i),i.Callbacks=function(){this._deferred=i.$.Deferred(),this._callbacks=[]},n.extend(i.Callbacks.prototype,{add:function(e,t){this._callbacks.push({cb:e,ctx:t}),this._deferred.done((function(n,i){t&&(n=t),e.call(n,i)}))},run:function(e,t){this._deferred.resolve(t,e)},reset:function(){var e=this._callbacks;this._deferred=i.$.Deferred(),this._callbacks=[],n.each(e,(function(e){this.add(e.cb,e.ctx)}),this)}}),i.Controller=function(e){this.triggerMethod=i.triggerMethod,this.options=e||{},n.isFunction(this.initialize)&&this.initialize(this.options)},i.Controller.extend=i.extend,n.extend(i.Controller.prototype,t.Events,{close:function(){this.stopListening(),this.triggerMethod("close"),this.unbind()}}),i.Region=function(e){if(this.options=e||{},this.el=i.getOption(this,"el"),this.el||s("An 'el' must be specified for a region.","NoElError"),this.initialize){var t=Array.prototype.slice.apply(arguments);this.initialize.apply(this,t)}},n.extend(i.Region,{buildRegion:function(e,t){var i,r,o=n.isString(e),a=n.isString(e.selector),l=n.isUndefined(e.regionType),c=n.isFunction(e);c||o||a||s("Region must be specified as a Region type, a selector string or an object with selector property"),o&&(i=e),e.selector&&(i=e.selector,delete e.selector),c&&(r=e),!c&&l&&(r=t),e.regionType&&(r=e.regionType,delete e.regionType),(o||c)&&(e={}),e.el=i;var d=new r(e);return e.parentEl&&(d.getEl=function(t){var i=e.parentEl;return n.isFunction(i)&&(i=i()),i.find(t)}),d}}),n.extend(i.Region.prototype,t.Events,{show:function(e){this.ensureEl();var t=e.isClosed||n.isUndefined(e.$el),r=e!==this.currentView;r&&this.close(),e.render(),(r||t)&&this.open(e),this.currentView=e,i.triggerMethod.call(this,"show",e),i.triggerMethod.call(e,"show")},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(e){return i.$(e)},open:function(e){this.$el.empty().append(e.el)},close:function(){var e=this.currentView;e&&!e.isClosed&&(e.close?e.close():e.remove&&e.remove(),i.triggerMethod.call(this,"close",e),delete this.currentView)},attachView:function(e){this.currentView=e},reset:function(){this.close(),delete this.$el}}),i.Region.extend=i.extend,i.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={},e.Controller.prototype.constructor.call(this,t)},addRegions:function(e,t){var i={};return n.each(e,(function(e,r){n.isString(e)&&(e={selector:e}),e.selector&&(e=n.defaults({},e,t));var s=this.addRegion(r,e);i[r]=s}),this),i},addRegion:function(t,i){var r,s=n.isObject(i),o=n.isString(i),a=!!i.selector;return r=o||s&&a||n.isFunction(i)?e.Region.buildRegion(i,e.Region):i,this._store(t,r),this.triggerMethod("region:add",t,r),r},get:function(e){return this._regions[e]},removeRegion:function(e){var t=this._regions[e];this._remove(e,t)},removeRegions:function(){n.each(this._regions,(function(e,t){this._remove(t,e)}),this)},closeRegions:function(){n.each(this._regions,(function(e,t){e.close()}),this)},close:function(){this.removeRegions(),e.Controller.prototype.close.apply(this,arguments)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(e,t){t.close(),delete this._regions[e],this._setLength(),this.triggerMethod("region:remove",e,t)},_setLength:function(){this.length=n.size(this._regions)}});return n.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],(function(e){t.prototype[e]=function(){var t=[n.values(this._regions)].concat(n.toArray(arguments));return n[e].apply(n,t)}})),t}(i),i.TemplateCache=function(e){this.templateId=e},n.extend(i.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new i.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=r.call(arguments),n=t.length;if(n>0)for(e=0;e<n;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),n.extend(i.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var t=i.$(e).html();return t&&0!==t.length||s("Could not find template: '"+e+"'","NoTemplateError"),t},compileTemplate:function(e){return n.template(e)}}),i.Renderer={render:function(e,t){return e||s("Cannot render the template since it's false, null or undefined.","TemplateNotFoundError"),("function"==typeof e?e:i.TemplateCache.get(e))(t)}},i.View=t.View.extend({constructor:function(e){n.bindAll(this,"render"),this.options=n.extend({},n.result(this,"options"),n.isFunction(e)?e.call(this):e),this.events=this.normalizeUIKeys(n.result(this,"events")),t.View.prototype.constructor.apply(this,arguments),i.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)},triggerMethod:i.triggerMethod,normalizeMethods:i.normalizeMethods,getTemplate:function(){return i.getOption(this,"template")},mixinTemplateHelpers:function(e){e=e||{};var t=i.getOption(this,"templateHelpers");return n.isFunction(t)&&(t=t.call(this)),n.extend(e,t)},normalizeUIKeys:function(e){var t=this;if(void 0!==e)return n.each(n.keys(e),(function(i){var r=/@ui.[a-zA-Z_$0-9]*/g;i.match(r)&&(e[i.replace(r,(function(e){return n.result(t,"ui")[e.slice(4)]}))]=e[i],delete e[i])})),e},configureTriggers:function(){if(this.triggers){var e={},t=this.normalizeUIKeys(n.result(this,"triggers"));return n.each(t,(function(t,i){var r=n.isObject(t),s=r?t.event:t;e[i]=function(e){if(e){var n=e.preventDefault,i=e.stopPropagation,o=r?t.preventDefault:n,a=r?t.stopPropagation:i;o&&n&&n.apply(e),a&&i&&i.apply(e)}var l={view:this,model:this.model,collection:this.collection};this.triggerMethod(s,l)}}),this),e}},delegateEvents:function(e){this._delegateDOMEvents(e),i.bindEntityEvents(this,this.model,i.getOption(this,"modelEvents")),i.bindEntityEvents(this,this.collection,i.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(e){e=e||this.events,n.isFunction(e)&&(e=e.call(this));var i={},r=this.configureTriggers();n.extend(i,e,r),t.View.prototype.delegateEvents.call(this,i)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,e),i.unbindEntityEvents(this,this.model,i.getOption(this,"modelEvents")),i.unbindEntityEvents(this,this.collection,i.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){this.isClosed||!1!==this.triggerMethod("before:close")&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var e=n.result(this,"_uiBindings");this.ui={},n.each(n.keys(e),(function(t){var n=e[t];this.ui[t]=this.$(n)}),this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(n.each(this.ui,(function(e,t){delete this.ui[t]}),this),this.ui=this._uiBindings,delete this._uiBindings)}}),i.ItemView=i.View.extend({constructor:function(){i.View.prototype.constructor.apply(this,arguments)},serializeData:function(){var e={};return this.model?e=this.model.toJSON():this.collection&&(e={items:this.collection.toJSON()}),e},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var e=this.serializeData();e=this.mixinTemplateHelpers(e);var t=this.getTemplate(),n=i.Renderer.render(t,e);return this.$el.html(n),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),i.View.prototype.close.apply(this,arguments),this.triggerMethod("item:closed"))}}),i.CollectionView=i.View.extend({itemViewEventPrefix:"itemview",constructor:function(e){this._initChildViewStorage(),i.View.prototype.constructor.apply(this,arguments),this._initialEvents(),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this.appendBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerShowBufferedChildren:function(){this._isShown&&(n.each(this._bufferedChildren,(function(e){i.triggerMethod.call(e,"show")})),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this.render))},addChildView:function(e,t,n){this.closeEmptyView();var i=this.getItemView(e),r=this.collection.indexOf(e);this.addItemView(e,i,r)},onShowCalled:function(){this.children.each((function(e){i.triggerMethod.call(e,"show")}))},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.startBuffering(),this.closeEmptyView(),this.closeChildren(),this.isEmpty(this.collection)?this.showEmptyView():this.showCollection(),this.endBuffering()},showCollection:function(){var e;this.collection.each((function(t,n){e=this.getItemView(t),this.addItemView(t,e,n)}),this)},showEmptyView:function(){var e=this.getEmptyView();if(e&&!this._showingEmptyView){this._showingEmptyView=!0;var n=new t.Model;this.addItemView(n,e,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getEmptyView:function(){return i.getOption(this,"emptyView")},getItemView:function(e){var t=i.getOption(this,"itemView");return t||s("An `itemView` must be specified","NoItemViewError"),t},addItemView:function(e,t,r){var s=i.getOption(this,"itemViewOptions");n.isFunction(s)&&(s=s.call(this,e,r));var o=this.buildItemView(e,t,s);return this.addChildViewEventForwarding(o),this.triggerMethod("before:item:added",o),this.children.add(o),this.renderItemView(o,r),this._isShown&&!this.isBuffering&&i.triggerMethod.call(o,"show"),this.triggerMethod("after:item:added",o),o},addChildViewEventForwarding:function(e){var t=i.getOption(this,"itemViewEventPrefix");this.listenTo(e,"all",(function(){var s=r.call(arguments),o=s[0],a=this.normalizeMethods(this.getItemEvents());s[0]=t+":"+o,s.splice(1,0,e),void 0!==a&&n.isFunction(a[o])&&a[o].apply(this,s),i.triggerMethod.apply(this,s)}),this)},getItemEvents:function(){return n.isFunction(this.itemEvents)?this.itemEvents.call(this):this.itemEvents},renderItemView:function(e,t){e.render(),this.appendHtml(this,e,t)},buildItemView:function(e,t,i){return new t(n.extend({model:e},i))},removeItemView:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},removeChildView:function(e){e&&(this.stopListening(e),e.close?e.close():e.remove&&e.remove(),this.children.remove(e)),this.triggerMethod("item:removed",e)},isEmpty:function(e){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},appendBuffer:function(e,t){e.$el.append(t)},appendHtml:function(e,t,n){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):e.$el.append(t.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),i.View.prototype.close.apply(this,arguments))},closeChildren:function(){this.children.each((function(e){this.removeChildView(e)}),this),this.checkEmpty()}}),i.CompositeView=i.CollectionView.extend({constructor:function(){i.CollectionView.prototype.constructor.apply(this,arguments)},_initialEvents:function(){this.once("render",(function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this._renderChildren))}))},getItemView:function(e){var t=i.getOption(this,"itemView")||this.constructor;return t||s("An `itemView` must be specified","NoItemViewError"),t},serializeData:function(){var e={};return this.model&&(e=this.model.toJSON()),e},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var e=this.renderModel();return this.$el.html(e),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(this.triggerMethod("composite:collection:before:render"),i.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e);var t=this.getTemplate();return i.Renderer.render(t,e)},appendBuffer:function(e,t){this.getItemViewContainer(e).append(t)},appendHtml:function(e,t,n){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):this.getItemViewContainer(e).append(t.el)},getItemViewContainer:function(e){if("$itemViewContainer"in e)return e.$itemViewContainer;var t,r=i.getOption(e,"itemViewContainer");if(r){var o=n.isFunction(r)?r.call(this):r;(t=e.$(o)).length<=0&&s("The specified `itemViewContainer` was not found: "+e.itemViewContainer,"ItemViewContainerMissingError")}else t=e.$el;return e.$itemViewContainer=t,t},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),i.Layout=i.ItemView.extend({regionType:i.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),i.ItemView.prototype.constructor.call(this,e)},render:function(){return this.isClosed&&this._initializeRegions(),this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions(),i.ItemView.prototype.render.apply(this,arguments)},close:function(){this.isClosed||(this.regionManager.close(),i.ItemView.prototype.close.apply(this,arguments))},addRegion:function(e,t){var n={};return n[e]=t,this._buildRegions(n)[e]},addRegions:function(e){return this.regions=n.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return delete this.regions[e],this.regionManager.removeRegion(e)},_buildRegions:function(e){var t=this,n={regionType:i.getOption(this,"regionType"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,n)},_initializeRegions:function(e){var t;this._initRegionManager(),t=n.isFunction(this.regions)?this.regions(e):this.regions||{},this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each((function(e){e.reset()}))},_initRegionManager:function(){this.regionManager=new i.RegionManager,this.listenTo(this.regionManager,"region:add",(function(e,t){this[e]=t,this.trigger("region:add",e,t)})),this.listenTo(this.regionManager,"region:remove",(function(e,t){delete this[e],this.trigger("region:remove",e,t)}))}}),i.AppRouter=t.Router.extend({constructor:function(e){t.Router.prototype.constructor.apply(this,arguments),this.options=e||{};var n=i.getOption(this,"appRoutes"),r=this._getController();this.processAppRoutes(r,n)},appRoute:function(e,t){var n=this._getController();this._addAppRoute(n,e,t)},processAppRoutes:function(e,t){if(t){var i=n.keys(t).reverse();n.each(i,(function(n){this._addAppRoute(e,n,t[n])}),this)}},_getController:function(){return i.getOption(this,"controller")},_addAppRoute:function(e,t,i){var r=e[i];r||s("Method '"+i+"' was not found on the controller"),this.route(t,i,n.bind(r,e))}}),i.Application=function(e){this._initRegionManager(),this._initCallbacks=new i.Callbacks,this.vent=new t.Wreqr.EventAggregator,this.commands=new t.Wreqr.Commands,this.reqres=new t.Wreqr.RequestResponse,this.submodules={},n.extend(this,e),this.triggerMethod=i.triggerMethod},n.extend(i.Application.prototype,t.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("initialize:before",e),this._initCallbacks.run(e,this),this.triggerMethod("initialize:after",e),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(e){this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},module:function(e,t){var n=i.Module.getClass(t),s=r.call(arguments);return s.unshift(this),n.create.apply(n,s)},_initRegionManager:function(){this._regionManager=new i.RegionManager,this.listenTo(this._regionManager,"region:add",(function(e,t){this[e]=t})),this.listenTo(this._regionManager,"region:remove",(function(e,t){delete this[e]}))}}),i.Application.extend=i.extend,i.Module=function(e,t,r){this.moduleName=e,this.options=n.extend({},this.options,r),this.initialize=r.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,this.startWithParent=!0,this.triggerMethod=i.triggerMethod,n.isFunction(this.initialize)&&this.initialize(this.options,e,t)},i.Module.extend=i.extend,n.extend(i.Module.prototype,t.Events,{initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){this._isInitialized||(n.each(this.submodules,(function(t){t.startWithParent&&t.start(e)})),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e))},stop:function(){this._isInitialized&&(this._isInitialized=!1,i.triggerMethod.call(this,"before:stop"),n.each(this.submodules,(function(e){e.stop()})),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),i.triggerMethod.call(this,"stop"))},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,r){if(e){var s=n.flatten([this,this.app,t,i,i.$,n,r]);e.apply(this,s)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new i.Callbacks,this._finalizerCallbacks=new i.Callbacks}}),n.extend(i.Module,{create:function(e,t,i){var s=e,o=r.call(arguments);o.splice(0,3);var a=(t=t.split(".")).length,l=[];return l[a-1]=i,n.each(t,(function(t,n){var r=s;s=this._getModule(r,t,e,i),this._addModuleDefinition(r,s,l[n],o)}),this),s},_getModule:function(e,t,i,r,s){var o=n.extend({},r),a=this.getClass(r),l=e[t];return l||(l=new a(t,i,o),e[t]=l,e.submodules[t]=l),l},getClass:function(e){var t=i.Module;return e?e.prototype instanceof t?e:e.moduleClass||t:t},_addModuleDefinition:function(e,t,r,s){var o,a;!n.isFunction(r)||r.prototype instanceof i.Module?n.isObject(r)?(o=r.define,a=!!n.isUndefined(r.startWithParent)||r.startWithParent):a=!0:(o=r,a=!0),o&&t.addDefinition(o,s),t.startWithParent=t.startWithParent&&a,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,e.addInitializer((function(e){t.startWithParent&&t.start(e)})))}})}(0,i=s,r),i.Marionette)},50207:function(e,t,n){e.exports=function(e,t){function n(n){return{underscore:e,"./backbone-1.2.3+19b88d2+57e89d8":t}[n]}return function(e){function t(e){var n=t.cache[e];if(!n){var i={};n=t.cache[e]={id:e,exports:i},t.modules[e].call(i,n,i)}return n.exports}return t.cache=[],t.modules=[function(e,i){var r=n("underscore"),s=n("./backbone-1.2.3+19b88d2+57e89d8"),o=t(2),a=t(5),l=t(4),c=t(1),d=t(7);function u(e,t){this._superset=e,this._filtered=new o(e,t),this._sorted=new a(this._filtered,t),this._paginated=new l(this._sorted,t),c(this._paginated,this),d.call(this,this._filtered,p),d.call(this,this._sorted,g),d.call(this,this._paginated,m),this.initialize(t)}var h={superset:function(){return this._superset},getFilteredLength:function(){return this._filtered.length},removeTransforms:function(){return this._filtered.resetFilters(),this._sorted.removeSort(),this._paginated.removePagination(),this},destroy:function(){this.stopListening(),this._filtered.destroy(),this._sorted.destroy(),this._paginated.destroy(),this.length=0,this.trigger("obscura:destroy")}},p=["filtered:add","filtered:remove","filtered:reset"],g=["sorted:add","sorted:remove"],m=["paginated:change:perPage","paginated:change:page","paginated:change:numPages"];r.each(["filterBy","removeFilter","resetFilters","refilter","hasFilter","getFilters"],(function(e){h[e]=function(){var t=o.prototype[e].apply(this._filtered,arguments);return t===this._filtered?this:t}})),r.each(["setPerPage","setPage","getPerPage","getNumPages","getPage","hasNextPage","hasPrevPage","nextPage","prevPage","movePage","removePagination","firstPage","lastPage"],(function(e){h[e]=function(){var t=l.prototype[e].apply(this._paginated,arguments);return t===this._paginated?this:t}})),r.each(["setSort","reverseSort","removeSort"],(function(e){h[e]=function(){var t=a.prototype[e].apply(this._sorted,arguments);return t===this._sorted?this:t}})),r.each(["add","create","remove","set","reset","sort","parse","sync","fetch","push","pop","shift","unshift"],(function(e){h[e]=function(){throw new Error("Backbone.Obscura: Unsupported method: "+e+"called on read-only proxy")}})),r.extend(u.prototype,h,s.Events),(u=s.Collection.extend(u.prototype)).FilteredCollection=o,u.SortedCollection=a,u.PaginatedCollection=l,e.exports=u},function(e,t){var i=n("underscore"),r=n("./backbone-1.2.3+19b88d2+57e89d8"),s=["_onModelEvent","_prepareModel","_removeReference","_reset","add","initialize","sync","remove","reset","set","push","pop","unshift","shift","sort","parse","fetch","create","model","off","on","listenTo","listenToOnce","bind","trigger","once","stopListening"],o=["add","remove","reset","sort","destroy","sync","request","error"];e.exports=function(e,t){function n(){t.length=e.length}var a={};return i.each(i.functions(r.Collection.prototype),(function(t){i.contains(s,t)||(a[t]=function(){return e[t].apply(e,arguments)})})),i.extend(t,r.Events,a),t.listenTo(e,"all",n),t.listenTo(e,"all",(function(n){var r=i.toArray(arguments),s="change"===n||"change:"===n.slice(0,7);"reset"===n&&(t.models=e.models),i.contains(o,n)?(i.contains(["add","remove","destroy"],n)?r[2]=t:i.contains(["reset","sort"],n)&&(r[1]=t),t.trigger.apply(this,r)):s&&t.contains(r[1])&&t.trigger.apply(this,r)})),t.models=e.models,n(),t}},function(e,i){var r=n("underscore"),s=n("./backbone-1.2.3+19b88d2+57e89d8"),o=t(1),a=t(3);function l(){this._filterResultCache={}}function c(e){for(var t in this._filterResultCache)this._filterResultCache.hasOwnProperty(t)&&delete this._filterResultCache[t][e]}function d(e,t){this._filters[e]&&c.call(this,e),this._filters[e]=t,this.trigger("filtered:add",e)}function u(e){delete this._filters[e],c.call(this,e),this.trigger("filtered:remove",e)}function h(e){this._filterResultCache[e.cid]||(this._filterResultCache[e.cid]={});var t=this._filterResultCache[e.cid];for(var n in this._filters)if(this._filters.hasOwnProperty(n)&&(t.hasOwnProperty(n)||(t[n]=this._filters[n].fn(e)),!t[n]))return!1;return!0}function p(e){e||(e={});var t=[];this._superset&&(t=this._superset.filter(r.bind(h,this))),e.reset?this._collection.reset(t):this._collection.set(t),this.length=this._collection.length}function g(){p.call(this,{reset:!0})}function m(){var e=!(!this._superset||!this._superset.comparator);p.call(this,{reset:e})}function f(e){if(this._filterResultCache[e.cid]={},h.call(this,e)){if(!this._collection.get(e.cid)){for(var t=null,n=this.superset().indexOf(e)-1;n>=0;n-=1)if(this.contains(this.superset().at(n))){t=this.indexOf(this.superset().at(n))+1;break}t=t||0,this._collection.add(e,{at:t})}}else this._collection.get(e.cid)&&this._collection.remove(e);this.length=this._collection.length}function y(e){this._filterResultCache[e.cid]={},h.call(this,e)||this._collection.get(e.cid)&&this._collection.remove(e)}function v(e,t,n){"change:"===e.slice(0,7)&&y.call(this,arguments[1])}function b(e){this.contains(e)&&this._collection.remove(e),this.length=this._collection.length}function Z(e){this._superset=e,this._collection=new s.Collection(e.toArray()),o(this._collection,this),this.resetFilters(),this.listenTo(this._superset,"reset",g),this.listenTo(this._superset,"sort",m),this.listenTo(this._superset,"add change",f),this.listenTo(this._superset,"remove",b),this.listenTo(this._superset,"all",v)}var S={defaultFilterName:"__default",filterBy:function(e,t){return t||(t=e,e=this.defaultFilterName),d.call(this,e,a(t)),p.call(this),this},removeFilter:function(e){return e||(e=this.defaultFilterName),u.call(this,e),p.call(this),this},resetFilters:function(){return this._filters={},l.call(this),this.trigger("filtered:reset"),p.call(this),this},superset:function(){return this._superset},refilter:function(e){return"object"==typeof e&&e.cid?f.call(this,e):(l.call(this),p.call(this)),this},getFilters:function(){return r.keys(this._filters)},hasFilter:function(e){return r.contains(this.getFilters(),e)},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this.length=0,this.trigger("filtered:destroy")}};r.extend(Z.prototype,S,s.Events),e.exports=Z},function(e,t){var i=n("underscore");function r(e,t){return i.isArray(t)||(t=null),{fn:e,keys:t}}e.exports=function(e,t){return i.isFunction(e)?r(e,t):i.isObject(e)?function(e){var t=i.keys(e),n=i.map(t,(function(t){var n=e[t];return i.isFunction(n)?function(e,t){return function(n){return t(n.get(e))}}(t,n):function(e,t){return function(n){return n.get(e)===t}}(t,n)}));return r((function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}),t)}(e):void 0}},function(e,i){var r=n("underscore"),s=n("./backbone-1.2.3+19b88d2+57e89d8"),o=t(1);function a(){var e=this.getPage()*this.getPerPage();return[e,e+this.getPerPage()]}function l(){var e=a.call(this);this._collection.reset(this.superset().slice(e[0],e[1]))}function c(){this._totalPages;var e=this.superset().length,t=this.getPerPage(),n=e%t==0?e/t:Math.floor(e/t)+1,i=this._totalPages!==n;if(this._totalPages=n,i&&this.trigger("paginated:change:numPages",{numPages:n}),this.getPage()>=n)return this.setPage(n-1),!0}function d(){c.call(this)||l.call(this)}function u(e,t){for(var n=r.max([e.length,t.length]),i=0,s=0;i<n;i+=1,s+=1)if(e[i]!==t[s])if(t[i-1]===e[i])s-=1;else{if(t[i+1]!==e[i])return e[i];s+=1}}function h(e,t,n){if(!c.call(this)){var i=a.call(this),r=i[0],s=i[1],o=u(this.superset().slice(r,s),this._collection.toArray()),l=u(this._collection.toArray(),this.superset().slice(r,s));l&&this._collection.remove(l),o&&this._collection.add(o,{at:this.superset().indexOf(o)-r})}}function p(e,t){this._superset=e,this._collection=new s.Collection(e.toArray()),this._page=0,this.setPerPage(t&&t.perPage?t.perPage:null),o(this._collection,this),this.listenTo(this._superset,"add remove",h),this.listenTo(this._superset,"reset sort",d)}var g={removePagination:function(){return this.setPerPage(null),this},setPerPage:function(e){return this._perPage=e,d.call(this),this.setPage(0),this.trigger("paginated:change:perPage",{perPage:e,numPages:this.getNumPages()}),this},setPage:function(e){var t=this.getNumPages()-1;return e=(e=(e=e>0?e:0)<t?e:t)<0?0:e,this._page=e,l.call(this),this.trigger("paginated:change:page",{page:e}),this},getPerPage:function(){return this._perPage||this.superset().length||1},getNumPages:function(){return this._totalPages},getPage:function(){return this._page},hasNextPage:function(){return this.getPage()<this.getNumPages()-1},hasPrevPage:function(){return this.getPage()>0},nextPage:function(){return this.movePage(1),this},prevPage:function(){return this.movePage(-1),this},firstPage:function(){this.setPage(0)},lastPage:function(){this.setPage(this.getNumPages()-1)},movePage:function(e){return this.setPage(this.getPage()+e),this},superset:function(){return this._superset},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this._page=0,this._totalPages=0,this.length=0,this.trigger("paginated:destroy")}};r.extend(p.prototype,g,s.Events),e.exports=p},function(e,i){var r=n("underscore"),s=n("./backbone-1.2.3+19b88d2+57e89d8"),o=t(1),a=t(6);function l(e){return r.isFunction(e)?e:function(t){return t.get(e)}}function c(e){return this._comparator?this._reverse?a(this._collection.toArray(),e,l(this._comparator)):r.sortedIndex(this._collection.toArray(),e,l(this._comparator)):this._superset.indexOf(e)}function d(e){var t=c.call(this,e);this._collection.add(e,{at:t})}function u(e){this.contains(e)&&this._collection.remove(e)}function h(e){this.contains(e)&&this._collection.indexOf(e)!==c.call(this,e)&&(this._collection.remove(e),d.call(this,e))}function p(){if(this._comparator){var e=this._superset.sortBy(this._comparator);this._collection.reset(this._reverse?e.reverse():e)}else this._collection.reset(this._superset.toArray())}function g(e){this._superset=e,this._reverse=!1,this._comparator=null,this._collection=new s.Collection(e.toArray()),o(this._collection,this),this.listenTo(this._superset,"add",d),this.listenTo(this._superset,"remove",u),this.listenTo(this._superset,"change",h),this.listenTo(this._superset,"reset",p)}var m={setSort:function(e,t){return this._reverse="desc"===t,this._comparator=e,p.call(this),e?this.trigger("sorted:add"):this.trigger("sorted:remove"),this},reverseSort:function(){return this._reverse=!this._reverse,p.call(this),this},removeSort:function(){return this.setSort(),this},superset:function(){return this._superset},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this.length=0,this.trigger("sorted:destroy")}};r.extend(g.prototype,m,s.Events),e.exports=g},function(e,t){var i=n("underscore");e.exports=function(e,t,n,r){for(var s=(n=null==n?i.identity:function(e){return i.isFunction(e)?e:function(t){return t[e]}}(n)).call(r,t),o=0,a=e.length;o<a;){var l=o+a>>>1;n.call(r,e[l])<s?a=l:o=l+1}return o}},function(e,t){var i=n("underscore");e.exports=function(e,t){i.each(t,(function(t){this.listenTo(e,t,(function(){var e=i.toArray(arguments);e.unshift(t),this.trigger.apply(this,e)}))}),this)}}],t(0)}()}(n(13469),n(64511))},41856:function(e,t,n){var i,r;i=n(13469),r=n(64511),e.exports=function(e,t){"use strict";return t.Wreqr=function(e,t,n){var i,r={};return r.Handlers=function(e,t){var n=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events,{setHandlers:function(e){t.each(e,(function(e,n){var i=null;t.isObject(e)&&!t.isFunction(e)&&(i=e.context,e=e.callback),this.setHandler(n,e,i)}),this)},setHandler:function(e,t,n){var i={callback:t,context:n};this._wreqrHandlers[e]=i,this.trigger("handler:add",e,t,n)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(t)return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(e,n),r.CommandStorage=(i=function(e){this.options=e,this._commands={},n.isFunction(this.initialize)&&this.initialize(e)},n.extend(i.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){this.getCommands(e).instances.push(t)},clearCommands:function(e){this.getCommands(e).instances=[]}}),i),r.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var n=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,n)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,t,i){var r=this.storage.getCommands(e);n.each(r.instances,(function(e){t.apply(i,e)})),this.storage.clearCommands(e)},_initializeStorage:function(e){var t,i=e.storageType||this.storageType;t=n.isFunction(i)?new i:i,this.storage=t}})}(r),r.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);if(this.hasHandler(e))return this.getHandler(e).apply(this,t)}})}(r),r.EventAggregator=function(e,t){var n=function(){};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events),n}(e,n),r}(t,t.Marionette,e),t.Wreqr}(i,r)},32688:(e,t,n)=>{!function(e){"use strict";var t=function(n,i){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,i)};t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.is("input")?"val":"html",r=n.data();e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout((function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)}),0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons"]');e.length&&"radio"===this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change").prop("type")&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each((function(){var i=e(this),r=i.data("bs.button"),s="object"==typeof n&&n;r||i.data("bs.button",r=new t(this,s)),"toggle"==n?r.toggle():n&&r.setState(n)}))},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api","[data-toggle^=button]",(function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),t.preventDefault()}))}(n(19755))},13513:(e,t,n)=>{!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},t.prototype.show=function(t){var n=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop((function(){var i=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show(),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:t});i?n.$element.find(".modal-dialog").one(e.support.transition.end,(function(){n.$element.focus().trigger(r)})).emulateTransitionEnd(300):n.$element.focus().trigger(r)})))},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy((function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.focus()}),this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy((function(e){27==e.which&&this.hide()}),this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop((function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")}))},t.prototype.removeBackdrop=function(){delete this.backdropMouseDownTarget,this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("mousedown.dismiss.modal",e.proxy((function(e){this.backdropMouseDownTarget=e.target}),this)),this.$element.on("mouseup.dismiss.modal",e.proxy((function(e){e.target===this.backdropMouseDownTarget&&(delete this.backdropMouseDownTarget,e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)))}),this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var n=e.fn.modal;e.fn.modal=function(n,i){return this.each((function(){var r=e(this),s=r.data("bs.modal"),o=e.extend({},t.DEFAULTS,r.data(),"object"==typeof n&&n);s||r.data("bs.modal",s=new t(this,o)),"string"==typeof n?s[n](i):o.show&&s.show(i)}))},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(t){var n=e(this),i=n.attr("href"),r=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},r.data(),n.data());t.preventDefault(),r.modal(s,this).one("hide",(function(){n.is(":visible")&&n.focus()}))})),e(document).on("show.bs.modal",".modal",(function(){e(document.body).addClass("modal-open")})).on("hidden.bs.modal",".modal",(function(){e(document.body).removeClass("modal-open")}))}(n(19755))},68553:(e,t,n)=>{!function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,n,i){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i);for(var r=this.options.trigger.split(" "),s=r.length;s--;){var o=r[s];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focus",l="hover"==o?"mouseleave":"blur";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,(function(e,i){n[e]!=i&&(t[e]=i)})),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(n.timeout),n.hoverState="in",!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout((function(){"in"==n.hoverState&&n.show()}),n.options.delay.show)},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout((function(){"out"==n.hoverState&&n.hide()}),n.options.delay.hide)},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(t),t.isDefaultPrevented())return;var n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,r=/\s?auto?\s?/i,s=r.test(i);s&&(i=i.replace(r,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(i),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var o=this.getPosition(),a=n[0].offsetWidth,l=n[0].offsetHeight;if(s){var c=this.$element.parent(),d=i,u=document.documentElement.scrollTop||document.body.scrollTop,h="body"==this.options.container?window.innerWidth:c.outerWidth(),p="body"==this.options.container?window.innerHeight:c.outerHeight(),g="body"==this.options.container?0:c.offset().left;i="bottom"==i&&o.top+o.height+l-u>p?"top":"top"==i&&o.top-u-l<0?"bottom":"right"==i&&o.right+a>h?"left":"left"==i&&o.left-a<g?"right":i,n.removeClass(d).addClass(i)}var m=this.getCalculatedOffset(i,o,a,l);this.applyPlacement(m,i),this.$element.trigger("shown.bs."+this.type)}},t.prototype.applyPlacement=function(e,t){var n,i=this.tip(),r=i[0].offsetWidth,s=i[0].offsetHeight,o=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),e.top=e.top+o,e.left=e.left+a,i.offset(e).addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;if("top"==t&&c!=s&&(n=!0,e.top=e.top+s-c),/bottom|top/.test(t)){var d=0;e.left<0&&(d=-2*e.left,e.left=0,i.offset(e),l=i[0].offsetWidth,c=i[0].offsetHeight),this.replaceArrow(d-r+l,l,"left")}else this.replaceArrow(c-s,c,"top");n&&i.offset(e)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){var t=this,n=this.tip(),i=e.Event("hide.bs."+this.type);function r(){"in"!=t.hoverState&&n.detach()}if(this.$element.trigger(i),!i.isDefaultPrevented())return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?n.one(e.support.transition.end,r).emulateTransitionEnd(150):r(),this.$element.trigger("hidden.bs."+this.type),this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each((function(){var i=e(this),r=i.data("bs.tooltip"),s="object"==typeof n&&n;r||i.data("bs.tooltip",r=new t(this,s)),"string"==typeof n&&r[n]()}))},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(n(19755))},51724:(e,t,n)=>{!function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;return e(this).one(e.support.transition.end,(function(){n=!0})),setTimeout((function(){n||e(i).trigger(e.support.transition.end)}),t),this},e((function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]}}()}))}(n(19755))},43296:()=>{!function(){"use strict";var e="undefined"==typeof window,t=!e&&"scrollBehavior"in document.documentElement.style,n=function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}function r(){return null!=document.scrollingElement?document.scrollingElement:document.documentElement}var s=new RegExp("scroll-behavior:\\s*([^;]*)");function o(e,t){var n="scroll-behavior:"+t,i=e.getAttribute("style");if(null!=i&&""!==i){var r=a(e);if(null!=r){var s="scroll-behavior:"+r;i=(i=i.replace(s+";","")).replace(s,"")}e.setAttribute("style",i.endsWith(";")?""+i+n:";"+i+n)}else e.setAttribute("style",n)}function a(e){var t=e.getAttribute("style");if(null!=t&&t.includes("scroll-behavior")){var n=t.match(s);if(null!=n){var r=i(n,2)[1];if(null!=r&&""!==r)return r}}}function l(e,t){if(null!=t&&"smooth"===t.behavior)return"smooth";var n,i="style"in e?e:r();if("style"in i){var s=i.style.scrollBehavior;null!=s&&""!==s&&(n=s)}if(null==n){var o=i.getAttribute("scroll-behavior");null!=o&&""!==o&&(n=o)}if(null==n&&(n=a(i)),null==n){var l=getComputedStyle(i).getPropertyValue("scrollBehavior");null!=l&&""!==l&&(n=l)}return n}function c(e){return.5*(1-Math.cos(Math.PI*e))}var d={reset:function(){}},u="undefined"==typeof WeakMap?void 0:new WeakMap;var h=e?void 0:Element.prototype.scroll,p=e?void 0:window.scroll,g=e?void 0:Element.prototype.scrollBy,m=e?void 0:window.scrollBy,f=e?void 0:Element.prototype.scrollTo,y=e?void 0:window.scrollTo;function v(e,t){this.__adjustingScrollPosition=!0,this.scrollLeft=e,this.scrollTop=t,delete this.__adjustingScrollPosition}function b(e,t){return v.call(this,e,t)}function Z(e,t){this.__adjustingScrollPosition=!0,this.scrollLeft+=e,this.scrollTop+=t,delete this.__adjustingScrollPosition}function S(e,t){switch(e){case"scroll":return t instanceof Element?null!=h?h:v:p;case"scrollBy":return t instanceof Element?null!=g?g:Z:m;case"scrollTo":return t instanceof Element?null!=f?f:b:y}}function I(e){return null==e?0:"number"==typeof e?e:"string"==typeof e?parseFloat(e):0}function M(e){return null!=e&&"object"==typeof e}function w(e,i,s,h){!function(e,n,i){var s=l(n,e);null==s||"auto"===s?S(i,n).call(n,e.left,e.top):function(e){var n=e.startTime,i=e.startX,s=e.startY,l=e.endX,h=e.endY,p=e.method,g=e.scroller,m=0,f=l-i,y=h-s,v=Math.max(Math.abs(f/1e3*15e3),Math.abs(y/1e3*15e3)),b=function(e){if(t||null==u)return d;var n,i,s,l,c,h=r(),p=u.get(e);if(null!=p)n=p.cachedScrollSnapValue,i=p.cachedScrollBehaviorStyleAttributeValue,s=p.secondaryScroller,l=p.secondaryScrollerCachedScrollSnapValue,c=p.secondaryScrollerCachedScrollBehaviorStyleAttributeValue,p.release();else{n=""===e.style.scrollSnapType?null:e.style.scrollSnapType,i=a(e),s=e===h&&h!==document.body?document.body:void 0,l=null==s?void 0:""===s.style.scrollSnapType?null:s.style.scrollSnapType,c=null==s?void 0:a(s);var g=getComputedStyle(e).getPropertyValue("scroll-snap-type"),m=null==s?void 0:getComputedStyle(s).getPropertyValue("scroll-snap-type");if("none"===g&&"none"===m)return d}e.style.scrollSnapType="none",void 0!==s&&(s.style.scrollSnapType="none"),void 0!==i&&o(e,i),void 0!==s&&void 0!==c&&o(s,c);var f=!1,y=e===h?window:e;function v(){y.removeEventListener("scroll",b),null!=u&&u.delete(e),f=!0}function b(){e.style.scrollSnapType=n,null!=s&&void 0!==l&&(s.style.scrollSnapType=l),void 0!==i&&o(e,i),void 0!==s&&void 0!==c&&o(s,c),v()}return u.set(e,{release:v,cachedScrollSnapValue:n,cachedScrollBehaviorStyleAttributeValue:i,secondaryScroller:s,secondaryScrollerCachedScrollSnapValue:l,secondaryScrollerCachedScrollBehaviorStyleAttributeValue:c}),{reset:function(){setTimeout((function(){f||y.addEventListener("scroll",b)}))}}}(g);requestAnimationFrame((function e(t){m+=t-n;var r=Math.max(0,Math.min(1,0===v?0:m/v)),o=Math.floor(i+f*c(r)),a=Math.floor(s+y*c(r));p(o,a),o!==l||a!==h?requestAnimationFrame(e):null!=b&&(b.reset(),b=void 0)}))}(function(e,t,n,i){var s="performance"in window?performance.now():Date.now();if(e instanceof Element)return{startTime:s,startX:o=e.scrollLeft,startY:a=e.scrollTop,endX:Math.floor("scrollBy"===i?o+t:t),endY:Math.floor("scrollBy"===i?a+n:n),method:S("scrollTo",e).bind(e),scroller:e};var o,a,l=window.scrollX,c=window.pageXOffset,d=window.scrollY,u=window.pageYOffset;return{startTime:s,startX:o=null==l||0===l?c:l,startY:a=null==d||0===d?u:d,endX:Math.floor("scrollBy"===i?o+t:t),endY:Math.floor("scrollBy"===i?a+n:n),method:S("scrollTo",window).bind(window),scroller:r()}}(n,e.left,e.top,i))}(function(e,t){if(void 0===t&&!M(e))throw new TypeError("Failed to execute 'scroll' on 'Element': parameter 1 ('options') is not an object.");return M(e)?n(n({},P(e.left,e.top)),{behavior:null==e.behavior?"auto":e.behavior}):n(n({},P(e,t)),{behavior:"auto"})}(s,h),e,i)}function P(e,t){return{left:I(e),top:I(t)}}function C(e){return"nodeType"in e&&1===e.nodeType?e.parentNode:"ShadowRoot"in window&&e instanceof window.ShadowRoot?e.host:e===document?window:e instanceof Node?e.parentNode:null}function D(e){return"visible"!==e&&"clip"!==e}function A(e){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var t=getComputedStyle(e,null);return D(t.overflowY)||D(t.overflowX)}return!1}function x(e){for(var t=e,n=r();null!=t;){var i=l(t);if(null!=i&&(t===n||A(t)))return[t,i];t=C(t)}for(t=e;null!=t;){if(t===n||A(t))return[t,"auto"];t=C(t)}return[n,"auto"]}function E(e){if(void 0===e&&(e=location),"origin"in e&&null!=e.origin)return e.origin;var t=null!=e.port&&e.port.length>0?":"+e.port:"";return("http:"===e.protocol&&":80"===t||"https:"===e.protocol&&":443"===t)&&(t=""),e.protocol+"//"+e.hostname+t}var T=/^#\d/;var j=e?void 0:Element.prototype.scrollIntoView;function N(e,t,n,i,r,s,o,a){return s<e&&o>t||s>e&&o<t?0:s<=e&&a<=n||o>=t&&a>=n?s-e-i:o>t&&a<n||s<e&&a>n?o-t+r:0}function O(e,t,n){var i=n.block,s=n.inline,o=r(),a=null!=window.visualViewport?visualViewport.width:innerWidth,l=null!=window.visualViewport?visualViewport.height:innerHeight,c=null!=window.scrollX?window.scrollX:window.pageXOffset,d=null!=window.scrollY?window.scrollY:window.pageYOffset,u=e.getBoundingClientRect(),h=u.height,p=u.width,g=u.top,m=u.right,f=u.bottom,y=u.left,v="start"===i||"nearest"===i?g:"end"===i?f:g+h/2,b="center"===s?y+p/2:"end"===s?m:y,Z=t.getBoundingClientRect(),S=Z.height,I=Z.width,M=Z.top,w=Z.right,P=Z.bottom,C=Z.left,D=getComputedStyle(t),A=parseInt(D.borderLeftWidth,10),x=parseInt(D.borderTopWidth,10),E=parseInt(D.borderRightWidth,10),T=parseInt(D.borderBottomWidth,10),j=0,O=0,k="offsetWidth"in t?t.offsetWidth-t.clientWidth-A-E:0,L="offsetHeight"in t?t.offsetHeight-t.clientHeight-x-T:0;if(o===t)j="start"===i?v:"end"===i?v-l:"nearest"===i?N(d,d+l,l,x,T,d+v,d+v+h,h):v-l/2,O="start"===s?b:"center"===s?b-a/2:"end"===s?b-a:N(c,c+a,a,A,E,c+b,c+b+p,p),j=Math.max(0,j+d),O=Math.max(0,O+c);else{j="start"===i?v-M-x:"end"===i?v-P+T+L:"nearest"===i?N(M,P,S,x,T+L,v,v+h,h):v-(M+S/2)+L/2,O="start"===s?b-C-A:"center"===s?b-(C+I/2)+k/2:"end"===s?b-w+E+k:N(C,w,I,A,E+k,b,b+p,p);var R=t.scrollLeft,z=t.scrollTop;j=Math.max(0,Math.min(z+j,t.scrollHeight-S+L)),O=Math.max(0,Math.min(R+O,t.scrollWidth-I+k))}return{top:j,left:O}}var k=e?void 0:Object.getOwnPropertyDescriptor(Element.prototype,"scrollTop").set,L=e?void 0:Object.getOwnPropertyDescriptor(Element.prototype,"scrollLeft").set,R=!e&&"scroll"in Element.prototype&&"scrollTo"in Element.prototype&&"scrollBy"in Element.prototype&&"scrollIntoView"in Element.prototype;e||t&&R||(Element.prototype.scroll=function(e,t){w(this,"scroll",e,t)},Element.prototype.scrollBy=function(e,t){w(this,"scrollBy",e,t)},Element.prototype.scrollTo=function(e,t){w(this,"scrollTo",e,t)},Element.prototype.scrollIntoView=function(e){var t=null==e||!0===e?{block:"start",inline:"nearest"}:!1===e?{block:"end",inline:"nearest"}:e,r=i(x(this),2),s=r[0],o=r[1],a=null!=t.behavior?t.behavior:o;if("smooth"===a)s.scrollTo(n({behavior:a},O(this,s,t)));else if(null!=j)j.call(this,t);else{var l=O(this,s,t),c=l.top,d=l.left;S("scrollTo",this).call(this,d,c)}},null!=HTMLElement.prototype.scrollIntoView&&HTMLElement.prototype.scrollIntoView!==Element.prototype.scrollIntoView&&(HTMLElement.prototype.scrollIntoView=Element.prototype.scrollIntoView),Object.defineProperty(Element.prototype,"scrollLeft",{set:function(e){return this.__adjustingScrollPosition?L.call(this,e):(w(this,"scrollTo",e,this.scrollTop),e)}}),Object.defineProperty(Element.prototype,"scrollTop",{set:function(e){return this.__adjustingScrollPosition?k.call(this,e):(w(this,"scrollTo",this.scrollLeft,e),e)}}),window.scroll=function(e,t){w(this,"scroll",e,t)},window.scrollBy=function(e,t){w(this,"scrollBy",e,t)},window.scrollTo=function(e,t){w(this,"scrollTo",e,t)},window.addEventListener("click",(function(e){if(e.isTrusted&&e.target instanceof HTMLAnchorElement){var t=e.target,n=t.pathname,r=t.search,s=t.hash;if(E(e.target)===E(location)&&n===location.pathname&&r===location.search&&null!=s&&!(s.length<1)){var o=function(e){for(var t=e;null!=t;){if("ShadowRoot"in window&&t instanceof window.ShadowRoot)return t;var n=C(t);if(n===t)return document;t=n}return document}(e.target),a=null;try{a=null!=s.match(T)?o.getElementById(s.slice(1)):o.querySelector(s)}catch(e){}if(null!=a){var l=i(x(a),2)[1];"smooth"===l&&(e.preventDefault(),a.scrollIntoView({behavior:l}))}}}})))}()},88548:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(55327),l=n(51401);const c=a.Z.extend({mixins:l.Z,initialize(e={}){e.interface&&(this.interface=e.interface),e.props&&(this.props=e.props),o().each(this.interface,(e=>{this[e]=o().bind(this._proxy,this,e)}))},_proxy(e,...t){return this.getInstance()[e](...t)},register(e,t={}){this.hasInstance()&&!t.ignorePrevious&&(this._previousInstance=this.getInstance()),this._instance=e,t.silent||this.trigger("change:instance",e)},registerOnce(e){if(!this.hasInstance()){const t=e();this.register(t.instance||t,t.options||void 0)}},restorePrevious(){this._previousInstance&&this.register(this._previousInstance)},registered(){const e=r().Deferred();return this.hasInstance()?e.resolve(this.getInstance()):this.listenToOnce(this,"change:instance",e.resolve),e.promise()},getInstance(){if(this.hasInstance())return this._instance;throw new Error("Nothing has been registered to this adapter.")},hasInstance(){return null!=this._instance},prop(e){if(o().contains(this.props,e))return this.getInstance()[e];throw new Error("The "+e+" property has not been defined for this adapter")}})},28941:(e,t,n)=>{"use strict";n.d(t,{Cq:()=>l,X_:()=>c,s4:()=>d,DB:()=>u});var i=n(19755),r=n.n(i);n(13469),n(14710);const s={},o={};function a(e,t,n){s[e]=function(e,t){if(!t)return e;const n={};return t.forEach((t=>{n[t]=(...n)=>e[t](...n)})),n}(t,n);const i=o[e];i&&(delete o[e],i.resolve(s[e]))}function l(e){for(const t in e){const n=e[t];let i,r;Array.isArray(n)?(i=n[0],r=n[1]):i=n,a(t,i,r)}}function c(e){return d(e)?r().Deferred().resolve(s[e]).promise():(o[e]||(o[e]=r().Deferred()),o[e].promise())}function d(e){return s.hasOwnProperty(e)}function u(e){return s[e]}},98984:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=new(n(88548).Z)({props:["X-Plex-Client-Identifier","X-Plex-Device","X-Plex-Device-Name","X-Plex-Device-Screen-Resolution","X-Plex-Device-Vendor","X-Plex-Model","X-Plex-Platform","X-Plex-Platform-Version","X-Plex-Product","X-Plex-Version"]})},28163:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=new(n(88548).Z)({interface:["getLanguages","load","t","tEscape"]})},86486:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=new(n(88548).Z)({interface:["get","set","remove","clear"]})},42839:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={allowFlash:!0,allowHttpsMediaServerConnections:!0,allowIPv6ServerConnections:!0,allowMediaServerRelayConnections:!0,allowMultipleWebSocketConnections:!0,shouldCreateFlexModels:!0,shouldCreateStateTree:!0,shouldRequestHTMLFromCloudProvider:!0,allowCloudPubSub:!0,allowLoopbackDiscovery:"http:"===window.location.protocol,allowSSO:!1,bufferingDetectionLimit:500,allowSyncSettings:!0,allowSync:!0,allowDirectDownload:!0,allowSyncDownload:!1}},81494:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(13469),r=n.n(i),s=n(14710),o=n(86076);const a={_map:{},register(e,t){(0,s.Z)(r().isFunction(t),`The "${e}" command must be a function`),this._map[e]=t},registerAll(e){r().each(e,((e,t)=>{"__esModule"!==t&&this.register(t,e)}))},hasRegistered(e){return this._map.hasOwnProperty(e)},reset(){this._map={}},execute(e,...t){const n=this._map[e];if((0,s.Z)(n,`The "${e}" command has not been registered`),n)return(0,o.Z)("[Commands] Executing",e),n(...t)}}},94566:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>v});var i=n(13469),r=n.n(i),s=n(64511),o=n.n(s);const a={bindToModel:function(){this.bindings&&r().each(r().keys(this.bindings),(function(e){const t=this.bindings[e];let n;if(n=t.model?this[t.model]:this[this.bindingsModel]||this.model,!n)return;const i=t.modelListeners||[t.modelAttribute];r().each(i,(function(i){const s={obj:n,name:"change:"+i,callback:r().bind(this.renderBinding,this,e,t,n)};this._bindingListeners||(this._bindingListeners=[]),this._bindingListeners.push(s),this.listenTo(s.obj,s.name,s.callback)}),this),this.renderBinding(e,t,n)}),this)},unbindFromModel:function(){this.bindings&&(r().each(this._bindingListeners,(function(e){this.stopListening(e.obj,e.name,e.callback)}),this),this._bindingListeners=null)},renderBinding:function(e,t,n){const i=this.$(e),s=t.formatter,o=!!t.isHtml,a=t.autohide,l=t.hiddenClass||"hidden";let c=n.get(t.modelAttribute);if(s&&(c=s.call(this,c,i)),a){const e=r().isFunction(a)?a.call(this,c):c;i.toggleClass(l,!e)}t.manual||(!o&&r().isString(c)&&(c=r().escape(c)),i.html(c))}};var l=n(55327),c=(n(22977),n(71065)),d=Object.defineProperty,u=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function m(e){const t={},n=r().result(e,"responseType");return n&&n.accept&&(t.Accept=n.accept),t}const f=o().noConflict(),y=f.sync;f.sync=function(e,t,n){var i=n,{url:s,data:o,headers:a}=i,l=((e,t)=>{var n={};for(var i in e)u.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&h)for(var i of h(e))t.indexOf(i)<0&&p.call(e,i)&&(n[i]=e[i]);return n})(i,["url","data","headers"]);const d=function(e,t){return t.server?t.server:e.getXHROptions?e:e.provider?e.provider:e.server?e.server:e}(t,l),f=s||r().result(t,"syncUrl")||r().result(t,"url"),v=r().isObject(o)?c.Z.stringifyParams(o):o,b=!!v&&v.indexOf("checkFiles=1")>-1;let Z=((e,t)=>{for(var n in t||(t={}))u.call(t,n)&&g(e,n,t[n]);if(h)for(var n of h(t))p.call(t,n)&&g(e,n,t[n]);return e})({data:v,dataType:"text",processData:!1,headers:r().extend(m(t),a),timeout:b?6e4:3e4},l);return r().isFunction(d.getXHROptions)?Z=d.getXHROptions(f,Z):Z.url=f,y(e,t,Z)},f.wrapError=function(e,t){const n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}},r().extend(f.View.prototype,a),[f.Model,f.Collection,f.Router,f.View,f.History].forEach((e=>{e.extend=l.Z.extend}));const v=f},57076:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var i=n(13469),r=n.n(i),s=n(94566),o=n(19755),a=n.n(o);a().fn.isDisabled=function(){return this.hasClass("disabled")||this.hasClass("active")||this.hasClass("hidden")},a().fn.selectText=function(){const e=this[0];let t;if(document.body.createTextRange)t=document.body.createTextRange(),t.moveToElementText(e),t.select();else if(window.getSelection){const n=window.getSelection();t=document.createRange(),t.selectNodeContents(e),n.removeAllRanges(),n.addRange(t)}},a().fn.triggerReflow=function(){const e=this[0];return e&&e.offsetHeight,this};var l=n(14710),c=n(86076),d=n(70800),u=n.n(d);u().isNodeAttached=function(e){return s.ZP.$.contains(document.documentElement,e)};const h=r().clone(u().View.prototype),p=r().clone(u().CollectionView.prototype),g=r().clone(u().Region.prototype),m=r().clone(u().Region),f=r().clone(u().Layout.prototype),y={constructor:function(){this.wrapAfterRender(),h.constructor.apply(this,arguments),this.listenViewEvents()},listenViewEvents:function(){this.stopListeningViewEvents();const e=r().result(this,"viewEvents");e&&(this._viewEventsListeners=r().mapObject(e,(e=>r().isString(e)?this[e]:e)),this.listenTo(this,this._viewEventsListeners))},stopListeningViewEvents:function(){this._viewEventsListeners&&(this.stopListening(this,this._viewEventsListeners),delete this._viewEventsListeners)},_setElement:function(){h._setElement.apply(this,arguments),this.el&&(this.el._viewInstance?this.el._viewInstance!==this&&c.Z.warn('Multiple views registered for a single element with class="%s"',this.el.className):this.el._viewInstance=this)},_removeElement:function(){this.el&&delete this.el._viewInstance,h._removeElement.apply(this,arguments)},bindAllWhenRendered:function(){(0,l.Z)(arguments.length>0,"`bindAllWhenRendered` requires at least one function");const e=Array.isArray(arguments[0])?arguments[0]:arguments;r().each(e,(function(e){try{this[e]=this.whenRendered(this[e])}catch(t){(0,l.Z)(!1,"`bindAllWhenRendered` is unable to wrap "+JSON.stringify(e))}}),this)},whenRendered:function(e){return(0,l.Z)(r().isFunction(e),"`whenRendered` must be called with a single function"),r().bind((function(){if(this.isClosed)return;const t=r().toArray(arguments),n=r().bind((function(){this.isRendered&&!this.isClosed&&e.apply(this,t)}),this);this.isRendered?r().defer(n):this.listenToOnce(this,"render",(function(){r().defer(n)}))}),this)},wrapAfterRender:function(){void 0!==this.onlyAfterRender&&((0,l.Z)(Array.isArray(this.onlyAfterRender),"`onlyAfterRender` must be an array"),this.bindAllWhenRendered.apply(this,this.onlyAfterRender))},bindUIElements:function(){h.bindUIElements.apply(this,arguments),this.bindToModel(),this.isRendered=!0},unbindUIElements:function(){h.unbindUIElements.apply(this,arguments),this.unbindFromModel()},_getImmediateChildren:function(){return[]},_getNestedViews:function(){const e=this._getImmediateChildren();return e.length?r().reduce(e,(function(e,t){return t._getNestedViews?e.concat(t._getNestedViews()):e}),e):e}},v={constructor:function(){p.constructor.apply(this,arguments)},triggerRendered:function(){return this.isRendered=!0,p.triggerRendered.apply(this,arguments)},rebase:function(e){return this.stopListening(this.collection),this.collection=e,this._initialEvents(),r().isFunction(this._renderChildren)?this._renderChildren():this.render(),this},buildItemView:function(){const e=p.buildItemView.apply(this,arguments);return e._parentView=this,e},_getImmediateChildren:function(){return r().values(this.children._views)}},b={constructor:function(){p.constructor.apply(this,arguments)}},Z={append:function(e,t,n){const i=e.isClosed||r().isUndefined(e.$el),s=e!==this.currentView;return s&&this.close(),e.render(),(s||i)&&(t||(t=this.getEl(this.el)),n?t.prepend(e.el):t.append(e.el)),this.attachView(e),u().triggerMethod.call(this,"show",e),u().triggerMethod.call(e,"show"),this._updateParentView(e),this._triggerAttached(e,t),this},prepend:function(e,t){return this.append(e,t,!0)},show:function(e){g.show.apply(this,arguments),this._updateParentView(e),this._triggerAttached(e,this.$el)},_triggerAttached:function(e,t){if(!u().isNodeAttached(t.get(0)))return;const n=r().union([e],r().result(e,"_getNestedViews")||[]);r().each(n,(function(e){e.triggerMethod&&e.triggerMethod("attached",this)}),this)},_updateParentView:function(e){e&&(e._parentView=this._parentView)}},S={buildRegion:function(e,t){const n=m.buildRegion.apply(this,arguments);return n._parentView=e._parentView,n}},I={_buildRegions:function(e){const t=r().mapObject(e,(e=>r().isString(e)?{_parentView:this,selector:e}:r().defaults(e,{_parentView:this})));return f._buildRegions.call(this,t)},_getImmediateChildren:function(){return r().chain(this.regionManager._regions).values().pluck("currentView").compact().value()}};r().extend(u().View.prototype,y),r().extend(u().ItemView.prototype,y),r().extend(u().CollectionView.prototype,y,v),r().extend(u().CompositeView.prototype,y,b),r().extend(u().Region.prototype,Z),r().extend(u().Region,S),r().extend(u().Layout.prototype,I),u().extend=s.ZP.Model.extend,u().Controller.extend=u().extend,u().Region.extend=u().extend,u().Application.extend=u().extend,u().Module.extend=u().extend,u().View.extend=u().extend,u().ItemView.extend=u().extend,u().CollectionView.extend=u().extend,u().CompositeView.extend=u().extend,u().Layout.extend=u().extend;const M=u()},66781:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(51401),r=n(34755);const s=r.Z.extend({mixins:[i.Z],initialize({appModel:e}){r.Z.prototype.initialize.apply(this,arguments),this.appModel=e,this.listenTo(this.appModel,"change:primaryServer",this.onPrimaryServerChange)},supportsRetry:e=>!0,onPrimaryServerChange(e,t){t&&!t.get("hasEventConnection")&&(this.stop(t),this.start(t))}})},78149:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(13469),r=n.n(i),s=n(55327),o=n(49521),a=n(86076),l=n(51401);const c=s.Z.extend({mixins:[l.Z],initialize(e){this.name=e.name||"ServerEventManager",this.appModel=e.appModel,this.servers=e.servers||this.appModel.get("servers"),this.isValidServer=e.isValidServer,this.supportsLongPolling=e.supportsLongPolling,this.allowMultipleConnections=e.allowMultipleConnections,this.allowAppendingHeaders=e.allowAppendingHeaders,this.ServerEventConnection=e.ServerEventConnection,this.connections={},this._serverRetryManager=new e.ServerRetryManager({appModel:this.appModel,callback:this.retryServerConnections.bind(this),logFormat:"[Connections] Retrying server events connection for %s in %s seconds"})},start(){this.allowMultipleConnections?this.listenTo(this.servers,{"change:isResolved":this.onServerResolvedChange,"change:isRejected":this.onServerRejectedChange,remove:this.onServerRemove,reset:this.onServersReset}):this.listenTo(this.appModel,"change:primaryServer",this.onPrimaryServerChange)},stop(){this.stopListening(),this._serverRetryManager.stopAll(),this.disconnectAll(),this.connections={}},tryConnectServer(e){const t=this.connections[e.id];this.isValidServer(e)&&!t&&(o.Z.hasWebSocket||this.supportsLongPolling?this.connect({server:e}).then(null,(()=>{this._serverRetryManager.start(e)})):e.trigger("socket:websocket",{error:!0}))},connect(e){const t=e.server;let n=this.connections[t.id];n||(n=new this.ServerEventConnection({server:t,appendHeaders:this.allowAppendingHeaders}),this.connections[t.id]=n,this.listenTo(n,{open:this.onOpen,close:this.onClose,error:this.onClose}));const i=n.open(),r=n.socket?n.socket.url:n.pollUrl;return(0,a.Z)(`[${this.name}] Opening server event connection to ${t.get("debugName")} at ${r}`),i},disconnectAll(){r().each(this.connections,(e=>{this.disconnect({connection:e})}))},disconnect(e){let t=e.connection;if(t||(t=this.connections[e.server.id]),t){const e=t.socket?t.socket.url:t.pollUrl,n=t.server;(0,a.Z)(`[${this.name}] Closing server event connection to ${n.get("debugName")} at ${e}`),this.stopListening(t),this._serverRetryManager.stop(t.server),t.close(),delete this.connections[t.server.id]}},retryServerConnections:function(e){this.isValidServer(e)&&e.get("isResolved")&&this.connect({server:e})},onPrimaryServerChange(e,t){this.disconnectAll(),t&&this.tryConnectServer(t)},onServerResolvedChange(e,t){t&&this.tryConnectServer(e)},onServerRejectedChange(e,t){t&&this.disconnect({server:e})},onServerRemove(e){const t=this.connections[e.id];if(t&&(this.disconnect({connection:t}),e.get("isMerged")&&t)){const t=this.servers.get(e.id);this.connect({server:t})}},onServersReset(e,t){const n=t.previousModels;r().each(n,(t=>{e.contains(t)||this.disconnect({server:t})}))},onOpen(e){const t=this.connections[e.id],n=t.socket?t.socket.url:t.pollUrl;a.Z.info(`[${this.name}] Opened server event connection to ${e.get("debugName")} at ${n}`),this._serverRetryManager.stop(e)},onClose(e){a.Z.warn(`[${this.name}] Unexpectedly closed server event connection to ${e.get("debugName")}`),this._serverRetryManager.start(e)}})},34755:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(13469),r=n.n(i),s=n(55327),o=n(86076);const a=s.Z.extend({maximumDelay:30,initialize({callback:e,logFormat:t}){this._serversBeingRetried={},this.callback=e,this.logFormat=t},start(e){this._serversBeingRetried[e.cid]||this.supportsRetry(e)&&(this._serversBeingRetried[e.cid]={server:e,attempt:1},this._scheduleRetry(e))},stop(e){const t=this._serversBeingRetried[e.cid];t&&(window.clearTimeout(t.timeout),delete this._serversBeingRetried[e.cid])},stopAll(){r().each(this._serversBeingRetried,((e,t)=>{window.clearTimeout(e.timeout),delete this._serversBeingRetried[t]}))},supportsRetry:e=>!0,_scheduleRetry(e){const t=this._serversBeingRetried[e.cid],n=2*Math.min(this.maximumDelay/2,t.attempt);(0,o.Z)(this.logFormat,e.get("debugName"),n),t.timeout=window.setTimeout((()=>{this.callback(e),t.attempt++,this._scheduleRetry(e)}),1e3*n)}})},63663:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(19755),r=n.n(i),s=n(94566),o=n(81560);const a={isPopulating(){return!!this.populatePromise&&"pending"===this.populatePromise.state()},isPopulated(){return!!this.populatePromise&&"resolved"===this.populatePromise.state()},populate(){return this.populatePromise?this.populatePromise:this.fetch.apply(this,arguments)},fetch(){const e=r().Deferred();let t;if(this.isPopulating())return this.populatePromise;t=this._fetch?this._fetch.apply(this,arguments):this instanceof s.ZP.Collection?s.ZP.Collection.prototype.fetch.apply(this,arguments):s.ZP.Model.prototype.fetch.apply(this,arguments);const n=e.promise();return n.rid=t.rid,this.populatePromise=n,this.failedPopulatePromise=null,t.done((n=>{this.populatePromise=r().Deferred().resolveWith(this,[this]).promise(),e.resolveWith(this,[this,n,t])})),t.fail((t=>{this.populatePromise=null,this.failedPopulatePromise=n,e.rejectWith(this,[this,t])})),n},abortPendingPopulate(){return this.isPopulating()&&o.Z.abort(this.populatePromise.rid),this.populatePromise},resetPopulatePromise(e){return this.isPopulating()||(this.populatePromise=e,this.failedPopulatePromise=null),this.populatePromise}}},64373:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(13469),r=n.n(i);const s={currentState:null,enterState:function(e){if(e===this.currentState)return;const t=this.currentState,n=this.states[e];if(!n)throw new Error("The state machine is unable to enter undefined state: "+e);if(t){const e=this.states[t];if(r().isFunction(e.onExit)&&!1===e.onExit.call(this))return}this.currentState=e,r().isFunction(n.onEnter)&&!1===n.onEnter.apply(this,r().rest(arguments))?this.currentState=t:this.triggerMethod("stateMachineChange",{from:t,to:e})},enterNextState:function(){let e;if(this.currentState)e=this.states[this.currentState].nextState;else{if(!this.initialState)throw new Error("An initial state must be defined for the state machine");e=this.initialState}e?this.enterState(e):this.triggerMethod("stateMachineComplete")}}},49788:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(94566),l=n(63663),c=n(80731),d=n(87023),u=(n(14710),n(96637),n(63542)),h=n(71065);const p=a.ZP.Collection.extend({mixins:[l.Z],responseType:d.Ls,instanceOptions:["url","path","pageStart","pageSize","persistInCache","skipCache"],_context:["parent"],cache:null,cacheKey:function(){return o().result(this,"url")},constructor:function(e,t){t||(t={}),o().each(this.getContext(),(function(e){const n=t[e];void 0!==n&&this.setContext(e,n)}),this);const n=o().result(this,"instanceOptions");if(o().each(n,(function(e){o().has(t,e)&&(this[e]=t[e])}),this),null==this.pageStart&&null==this.pageSize||(this.pageStart||(this.pageStart=0),this.pageSize||(this.pageSize=0)),t.populated&&this.resetPopulatePromise(r().Deferred().resolve().promise()),!this.cache||this.skipCache)return a.ZP.Collection.prototype.constructor.apply(this,arguments),void this._initState();this.initialize.apply(this,arguments);const i=this.cache.getItemCacheKey(this),s=this.cache.get(i);return this.uninitialize(),s||(t.onlyIfCached?{}:(a.ZP.Collection.prototype.constructor.apply(this,arguments),this._initState(),void this.cache.store(this,i)))},uninitialize:function(){this.stopListening()},_initState:function(){c.Z.shouldCreateStateTree&&(this.state=this.toState(),this.updateState=this.updateState.bind(this),this.on("reset update sort",this.onCollectionChange,this),this.on("statechange",this.onStateChange,this))},hasContext:function(e){return this.getContext().includes(e)},getContext:function(){if(!this.context)return this._context;const e=o().result(this,"context");return this._context.concat(e)},setContext:function(e,t){-1!==this.getContext().indexOf(e)&&this[e]!==t&&(this[e]=t,this.each((function(n){n.setContext(e,t)})))},getState:function(){return this.state},updateState:function(){const e=this.state,t=this.getState();this.state=this.toState();const n=this.getState();return this.trigger("statechange",this,n,t),{name:this.name,previousState:e,nextState:n}},toState:function(){return this.name,this.reduce(this.reduceState,[])},reduceState:function(e,t){const n=t.getState();return n&&e.push(n),e},shouldUpdateModelState:function(e,t,n){return t!==n},sync:function(){return this.cache&&this.cache.store(this),a.ZP.sync.apply(this,arguments)},syncUrl:function(){let e="";if(this.url&&(e=o().result(this,"url")),this.path&&(e=h.Z.join([e,o().result(this,"path")])),null!=this.pageStart||null!=this.pageSize){const t={"X-Plex-Container-Start":this.pageStart||0,"X-Plex-Container-Size":this.pageSize||0};e=h.Z.join(e,t)}return e},parse:function(e,t){return this.name,this.convert(e)},convert:function(e){let t=e;const n=o().result(this,"responseType");if(o().isString(t)&&(o().isFunction(this.augmentResponseText)&&(t=this.augmentResponseText(t,n)),t=n.parse(t),n===d.AV&&t.MediaContainer&&(t=t.MediaContainer)),o().isFunction(this.augmentResponse)&&(t=this.augmentResponse(t,n)),Array.isArray(t))return t;const i=this.model.prototype.rootPropertyName;if(!i)return t;let r=t[i];return r?(Array.isArray(r)||(r=[r]),r):[]},clone:function(e){e||(e=this.models);const t=o().result(this,"instanceOptions"),n=o().extend(o().pick(this,t),o().pick(this,this.getContext()),{skipCache:!0,persistInCache:!1});return new this.constructor(e,n)||null},cloneDeep:function(e){e||(e=this.models);const t=o().map(e,(function(e){return e.clone()}));return this.clone(t)},clear:function(e){e=o().extend({silent:!0},e),this.abortPendingPopulate(),this.resetPopulatePromise(null),this.reset([],e)},getSaveParams:function(){return this.map((function(e){return e.getSaveParams()}))},onCollectionChange:function(){u.GF(this.updateState,this)},onStateChange:function(e,t,n){e!==this&&this.shouldUpdateModelState(e,t,n)&&u.GF(this.updateState,this)}})},22618:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(28941),l=n(94566),c=n(63663),d=n(88019),u=n(80731),h=n(87023),p=n(82590);const g=function(e,t){return e?o().reduce(t,((t,n,i)=>(o().isEqual(e[i],n)||(t[i]=n),t)),{}):t};var m=n(14710),f=n(86076),y=(n(96637),n(2932)),v=n(63542),b=n(71065);const Z=/^change:([\w]+)$/,S=e=>Array.isArray(e)?e[0]:e,I=l.ZP.Model.extend({mixins:[c.Z],name:"AbstractModel",responseType:h.Ls,hasInitialRelations:!1,_context:["parent","skipCache"],cache:null,cacheKey:function(e){return e[this.idAttribute]},constructor:function(e,t){let n;if(e||(e={}),t||(t={}),this.initialize!==l.ZP.Model.prototype.initialize&&(n=this.initialize,this.initialize=function(){}),this.getContextNames().forEach((e=>{const n=this.findOption(t,e);void 0!==n&&(this[e]=n)})),!this.cache||this.findOption(t,"skipCache"))return l.ZP.Model.prototype.constructor.apply(this,arguments),this._initModel(t),void(n&&(n.apply(this,arguments),this.initialize=n));const i=this.findOption(t,"onlyIfCached"),r=this.cache.getItemCacheKey(this,e);let s=this.cache.get(r);if(!s&&this.entityID&&(0,a.s4)("appModel")){const t=(0,a.DB)("appModel");if(t.has("entities")){const n=t.get("entities").get(this.entityType),i=this.entityID(e),r=n.get(i);r&&(s=r.get("model"))}}return s?(this.uninitialize(),i||(this.mergeStrategy&&(s.isMergingAttributes=!0),t.parse?e=s.parse(e):o().extend(e,s._getRelations(this.syncedRelations,e)),s.set(e),s.isMergingAttributes=!1),this.getContextNames().forEach((e=>{s.setContext(e,this[e]||s[e])})),t.collection&&(s.collection=t.collection),s.updateEntity(),s):i?{}:(l.ZP.Model.prototype.constructor.apply(this,arguments),this._initModel(t),n&&(n.apply(this,arguments),this.initialize=n),void this.cache.store(this,r))},uninitialize:function(){this.stopListening()},_initModel:function(e){u.Z.shouldCreateStateTree&&this.entityID&&(this.state=this.toState()),this._initRelations(e),this._initDerived(e),this._initState()},_initRelations:function(e){this._relationListeners={};const t=o().extend({},this.sessionRelations,this.syncedRelations);o().each(t,(function(e,t){this._initRelation(e,t);const n=o().bind(this._initRelation,this,e,t);this.on("change:"+t,n)}),this),this.hasInitialRelations=!0,this.set(this._getRelations(this.sessionRelations,this.attributes)),e.parse||this.set(this._getRelations(this.syncedRelations,this.attributes))},_initRelation:function(e,t){const n=this._resolveRelationDefinition(e).relationClass,i=this.get(t),r=this.previous(t),s=i&&i instanceof n;r&&r instanceof n&&o().has(this._relationListeners,t)&&(r.off("all",this._relationListeners[t]),this._relationListeners[t]=null),s&&this._forwardRelationEvents(i,t)},_initDerived:function(){o().each(this.derivedAttrs,this._setDerived,this)},_initState:function(){u.Z.shouldCreateStateTree&&(this.state=this.toState(),this.updateState=this.updateState.bind(this),this.updateEntity(),this.on("all",this.onEvent,this))},findOption:function(e,t){return e[t]||e.collection&&e.collection[t]},getContextNames:function(){return this.getContext().map(S)},getContext:function(){if(!this.context)return this._context;const e=o().result(this,"context");return this._context.concat(e)},setContext:function(e,t){if(!this.hasContext(e)||this[e]===t)return;const n=this.getContext().find((t=>S(t)===e)),i=Array.isArray(n)&&n[1]&&n[1].boundDerivedAttrs,r=i?[e,...i]:[e];let s;if(this[e]=t,r.forEach((e=>{this.hasDerived(e)&&(s=s||{},s[e]=this.derivedAttrs[e].call(this))})),s&&this.set(s),"parent"===e)return;const a=o().extend({},this.sessionRelations,this.syncedRelations);o().each(a,(function(n,i){const r=this.get(i);r&&r.setContext(e,t)}),this)},getScopedKey:function(e){return null!=e&&o().isFunction(this.cacheKey)?this.cacheKey(this.attributes)+"!"+e:e},getState:function(){return this._computedEntityID||this.state},updateState:function(){const e=this.state,t=this.getState();this.state=this.toState();const n=this.getState();return n!==t&&this.updateEntity(),this.trigger("statechange",this,n,t),{name:this.name,previousState:e,nextState:n}},updateEntity:function(){this._computedEntityID&&!this.skipCache&&((0,m.Z)(this.entityType,this.name+" requires an `entityType`"),p.Z.trigger("change:entity",{type:this.entityType,id:this._computedEntityID,model:this}))},toState:function(){this.name;const e=Object.keys(this.attributes),t=o().reduce(e,this.reduceState,{possibleEntityContainers:[]},this);return Object.defineProperty(t,"possibleEntityContainers",{enumerable:!1}),this.entityID&&(this._computedEntityID=this.entityID(t)),t},reduceState:function(e,t){const n=this.attributes[t];return n&&n.getState?(e.possibleEntityContainers.push(t),e[t]=n.getState(),e):(n&&n.initialize||(e[t]=n),e)},shouldUpdateRelationState:function(e,t,n){return t!==n},toJSON:function(e={}){this.name;const t=this.syncedAttrs,n=this.sessionRelations,i=this.syncedRelations,s=this.attributes,a={};for(const r in s){const l=e.excluded&&e.excluded.includes(r),c=n&&o().has(n,r),d=i&&o().has(i,r),u=e.syncedOnly&&(!t||!o().has(t,r));l||c||d||u||(a[r]=s[r])}let c=r().extend(!0,{},a);function d(t,n){const i=this.get(n),r=e.excluded&&e.excluded.includes(n);if(i&&!r){let t;t=e.excludeDefaults?i instanceof l.ZP.Collection?i.map((function(t){return g(o().result(t,"defaults"),t.toJSON(e))})):g(o().result(i,"defaults"),i.toJSON(e)):i.toJSON(e),c[n]=t}}return e.excludeDefaults&&(c=g(o().result(this,"defaults"),c)),e.syncedOnly||o().each(n,d,this),o().each(i,d,this),c},clone:function(){const e=o().extend(o().pick(this,this.getContextNames()),{skipCache:!0});return new this.constructor(this.toJSON(),e)||null},copy:function(e){(0,m.Z)(e instanceof this.constructor,"Only a model of the same type may be copied");const t=e.toJSON();return o().extend(t,this._getRelations(this.sessionRelations,t,{parse:!0}),this._getRelations(this.syncedRelations,t,{parse:!0})),this.set(t)},restoreDefaults:function(e){const t={};return o().each(this.attributes,(function(e,n){this.derivedAttrs&&o().has(this.derivedAttrs,n)||(t[n]=void 0)}),this),o().extend(t,this._getRelations(this.sessionRelations,{},{reset:!0}),this._getRelations(this.syncedRelations,{},{reset:!0}),o().result(this,"defaults"),e),this.set(t)},set:function(e,t,n){let i,r;return o().isObject(e)?(i=e,n=t):(i={})[e]=t,n||(n={}),!this.isMergingAttributes&&n.merge&&this.mergeStrategy&&(r=!0,this.isMergingAttributes=!0),this.isMergingAttributes&&(i=this._mergeAttributes(i)),l.ZP.Model.prototype.set.call(this,i,n),r&&(this.isMergingAttributes=!1),this},hasAttr:function(e){const t=this.sessionAttrs&&o().has(this.sessionAttrs,e),n=this.syncedAttrs&&o().has(this.syncedAttrs,e);return!(!t&&!n)},hasRelation:function(e){const t=this.sessionRelations&&o().has(this.sessionRelations,e),n=this.syncedRelations&&o().has(this.syncedRelations,e);return!(!t&&!n)},hasDerived:function(e){return!(!this.derivedAttrs||!o().has(this.derivedAttrs,e))},hasContext:function(e){return this.getContextNames().includes(e)},validate:function(e,t){const n=o().extend({},this.sessionAttrs,this.syncedAttrs,this.sessionRelations,this.syncedRelations),i=this._validateTypes(e,n);return i&&(0,m.Z)(!1,i),i},parse:function(e,t){return t&&t.save&&!this.hasResponseOnSave?this.attributes:(this.name,this.convert(e,t))},parseResponse(e){let t=e;const n=o().result(this,"responseType");let i;return o().isString(t)&&(i=!0,o().isFunction(this.augmentResponseText)&&(t=this.augmentResponseText(t,n)),t=n.parse(t)),t=null!=t?t:{},n===h.AV&&t.MediaContainer&&(t=t.MediaContainer),o().isFunction(this.augmentResponse)&&(t=this.augmentResponse(t,n)),i&&this.rootPropertyName&&o().has(t,this.rootPropertyName)&&(t=t[this.rootPropertyName]),Array.isArray(t)&&(t=t[0]),t},convert:function(e,t){const n=this.parseResponse(e),i={};let r;o().each(this.sessionAttrs,(function(e,t){o().has(n,t)&&(i[t]=n[t])})),o().each(this.syncedAttrs,(function(e,t){if(o().has(n,t)){let r,s=e;s.typeName||(s=e.type,r=o().omit(e,"type")),i[t]=null==n[t]?n[t]:s.parse(n[t],r)}else this.has(t)&&(r||(r=o().result(this,"defaults")),i[t]=r&&o().has(r,t)?r[t]:void 0)}),this);const s=o().extend({},t,{parse:!0});return o().extend(i,this._getRelations(this.syncedRelations,n,s)),i},save:function(e,t,n){let i;null==e||"object"==typeof e?(i=e,n=t):(i={})[e]=t;const s=o().extend({save:!0},n),a=o().extend(this.getSaveParams(i),s.data);if(o().isEmpty(a))return s.success&&s.success(this),r().Deferred().resolve(this);s.data=a;const c=s.success;return s.success=function(e,t,n){e.cache&&e.cache.store(e),c&&c(e,t,n)},l.ZP.Model.prototype.save.call(this,i,s)},sync:function(e,t,n){const i=n?o().clone(n):{};if("create"===e||"update"===e){const e=i.data,t=i.url||o().result(this,"saveUrl")||o().result(this,"syncUrl")||o().result(this,"url");i.url=b.Z.join(t,e),i.data=""}return l.ZP.Model.prototype.sync.call(this,e,t,i)},getSaveParams:function(e){const t=this._getSaveAttrs(e);return o().reduce(t,(function(e,t,n){const i=t.definition;let r=t.value,s=n;if(!i)return e[s]=r,e;const a=i.relationClass;if(a){const e=a.prototype.model;let t;i.rootPropertyName?t=i.rootPropertyName:r&&r.rootPropertyName?t=r.rootPropertyName:e&&e.prototype&&(t=e.prototype.rootPropertyName),r&&(r=r.getSaveParams()),t&&(s=t)}else{let e,t;o().has(i,"type")?(e=i.type,t=o().omit(i,"type")):e=i,r=e.stringify(r,t)}return e[s]=r,e}),{},this)},startCapturingChangeEvents:function(){if(this.releaseCapturedChangeEvents)return void(0,m.Z)(!1,this.name+" is already capturing events");const e=this.set,t=[],n=o().clone(this.attributes);this.set=function(n,i,r){const s=o().extend({},r,{silent:!0});let a;return"object"==typeof n?(a=n,r=i):(a={})[n]=i,o().each(a,(function(n,i){this.get(i)!==n&&(t.push({key:i,value:n}),e.call(this,i,n,s))}),this),o().each(this._derivedListeners,(function(n){const i=n.key,r=this.derivedAttrs[i].call(this);this.get(i)!==r&&(t.push({key:i,value:r}),e.call(this,i,r,s))}),this),this},this.releaseCapturedChangeEvents=function(){this.set=e,this.releaseCapturedChangeEvents=null,this.discardCapturedChangeEvents=null,this._previousAttributes=n,this._changing=!0,o().each(t,(function(e){this.trigger("change:"+e.key,this,e.value)}),this),this._changing=!1,o().isEmpty(t)||this.trigger("change",this,{})},this.discardCapturedChangeEvents=function(){this.set=e,this.releaseCapturedChangeEvents=null,this.discardCapturedChangeEvents=null,t.length=0}},spyOnGet:function(e){const t=[],n=this.get;return this.get=function(e){return t.push("change:"+e),this.hasRelation(e)&&t.push("change:"+e+".change"),n.apply(this,arguments)},e.call(this),this.get=n,t},dispatch:function(e){},_mergeAttributes:function(e){const t=this.mergeStrategy;return t?o().reduce(e,(function(e,n,i,r){return e[i]=t(i,this.get(i),n),e}),{},this):e},_resolveRelationDefinition:function(e){return o().isFunction(e)?e.call(this):e},_getRelations:function(e,t,n){t||(t={}),n||(n={});const i={};return o().each(e,(function(e,r){const s=this._resolveRelationDefinition(e),a=s.relationClass;(0,m.Z)(a,this.name+" requires a `relationClass` for the "+r+" relation");let c=r;n.parse&&!o().has(t,r)&&o().has(s,"rootPropertyName")&&(c=s.rootPropertyName);let d=t[c];if(d instanceof a)return void(i[r]=d);if(!d&&s.deferred)return void(i[r]=void 0);let u=n.reset?null:this.get(r),h=u instanceof a;const p=a.prototype instanceof l.ZP.Collection;if(p?d=y.Z.parseArray(d):d||(d={}),h&&!p&&(n.parse&&(d=u.parse(d)),h=u.id===d[u.idAttribute||"id"]),h){u.isMergingAttributes=this.isMergingAttributes;let e=s.setOptions;o().isFunction(e)&&(e=e.call(this,n)),p?u.set(d,o().extend({parse:n.parse,remove:!this.isMergingAttributes},e)):u.set(d,o().extend({merge:!0},e)),u.isMergingAttributes=!1}else{const e={parse:n.parse};if(this.getContextNames().forEach((t=>{e[t]=this[t]})),!p){let e=s.attrs;o().isFunction(e)&&(e=e.call(this,t)),d=o().extend({},d,e)}let i=s.options;o().isFunction(i)&&(i=i.call(this,t)),o().extend(e,{parent:this},i),u=new a(d,e)}i[r]=u}),this),i},_forwardRelationEvents:function(e,t){const n=["sync","request","invalid","error","add","remove"];function i(){const i=arguments[0];if("change"===i)return;if("statechange"===i)return void(this.shouldUpdateRelationState.apply(this,o().rest(arguments,1))&&v.GF(this.updateState,this));const r=o().toArray(arguments);r[0]="change:"+t+"."+i,this.trigger.apply(this,r),o().contains(n,i)||(this.trigger("change:"+t+".change",this,e),this.trigger("change",this))}e.on("all",i,this),this._relationListeners[t]=i},_setDerived:function(e,t){let n;const i=this.spyOnGet((function(){const i=this.set;this.set=function(){(0,m.Z)(!1,this.name+" blocked `set` in the "+t+" attribute. Derived attributes are read-only.")},n=e.call(this),this.set=i}));this.set(t,n),o().each(i,(function(n){this._addDerivedListener(t,n,e)}),this)},_addDerivedListener:function(e,t,n){this._derivedListeners||(this._derivedListeners=[]);const i={key:e,name:t,callback:o().bind(this._setDerived,this,n,e)};o().findWhere(this._derivedListeners,{key:e,name:i.name})||(this._derivedListeners.push(i),this.on(i.name,i.callback))},_getSaveAttrs:function(e){let t;if(e)t=o().reduce(e,(function(e,t,n){return e[n]={definition:this.syncedAttrs[n],value:t},e}),{},this);else{const e=o().extend({},this.syncedAttrs,this.syncedRelations);t=o().reduce(e,(function(e,t,n){const i=this._resolveRelationDefinition(t);let r=i.save;return o().isFunction(r)&&(r=r.call(this)),r&&(e[n]={definition:i,value:this.get(n)}),e}),{},this)}return t},_validateTypes:function(e,t){const n=Object.keys(e),i=o().reduce(n,(function(n,i){if(this.hasDerived(i))return n;if(!o().has(t,i))return n.push(this.name+" received an unknown attribute: "+i+". All attributes must be defined in `sessionAttrs`, `syncedAttrs`, `sessionRelations`, or `syncedRelations`."),n;const r=e[i],s=this._resolveRelationDefinition(t[i]),a=s.relationClass;let c;c=a?this.hasInitialRelations?d.Z.instanceOf(a):a.prototype instanceof l.ZP.Collection?d.Z.oneOfType(d.Z.array,d.Z.object):d.Z.object:s.type?s.type:s;const u=c.validate;return u?u(r)||n.push(i+" of type "+c.typeName+" has an invalid value: "+JSON.stringify(r)):n.push(i+" has an unknown type. Specify the type in the attribute definition or use attrTypes.any as a wildcard type."),n}),[],this);if(i.length>0)return i.join("\n")},onEvent:function(e,t,n){if(!t)return void f.Z.warn("Unable to handle",e);const i=e.match(Z);if(!i)return;const r=i[1];t.get(r)!==this.state[r]&&(n&&n.updateEntity&&n.updateEntity(),v.GF(this.updateState,this))}})},30944:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(94566),l=n(63663),c=n(76580),d=n(60964),u=n(71065);const h=a.ZP.Collection.extend({mixins:[l.Z],cache:new c.Z,constructor:function(e,t){if(t||(t={}),this.server=t.server,this.section=t.section,this.channel=t.channel,this.device=t.device,this.parent=t.parent,this.allowInCache=t.allowInCache,this.persistInCache=t.persistInCache,this.skipCache=t.skipCache,t.url&&(this.url=t.url),t.path&&(this.path=t.path),null==t.pageStart&&null==t.pageSize||(this.pageStart=t.pageStart||0,this.pageSize=t.pageSize||0),t.populated&&this.resetPopulatePromise(r().Deferred().resolve().promise()),!t.allowInCache&&!t.persistInCache)return void a.ZP.Collection.prototype.constructor.apply(this,arguments);this.initialize.apply(this,arguments);const n=this.cache.getItemCacheKey(this);let i=this.cache.get(n);if(this.uninitialize(),t.onlyIfCached&&(i||(i={})),i)return i;a.ZP.Collection.prototype.constructor.apply(this,arguments),this.cache.store(this,n)},uninitialize:function(){this.stopListening()},sync:function(){return(this.allowInCache||this.persistInCache)&&this.cache.store(this),a.ZP.sync.apply(this,arguments)},syncUrl:function(){let e="";if(this.url&&(e=o().result(this,"url")),this.path&&(e=u.Z.join([e,o().result(this,"path")])),null!=this.pageStart||null!=this.pageSize){const t=this.pageStart||0,n=this.pageSize||0,i={};i["X-Plex-Container-Start"]=t,i["X-Plex-Container-Size"]=n,e=u.Z.join(e,i)}return e},convert:function(e,t){const n=o().isObject(e)?e:d.Z.parseXML(e);if(!t)return n;let i=n[t];return i?(Array.isArray(i)||(i=[i]),i):[]},clone:function(e){const t={server:this.server,section:this.section,parent:this.parent,url:this.url};return e||(e=this.models),new this.constructor(e,t)},cloneDeep:function(e){return e||(e=this.map((function(e){return e.clone()}))),this.clone(e)},clear:function(e){e=o().extend({silent:!0},e),this.abortPendingPopulate(),this.resetPopulatePromise(null),this.reset([],e)}});h.extend=function(){const e=a.ZP.Collection.extend.apply(this,arguments);return e.prototype.cache=new c.Z,e};const p=h},68918:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(94566),l=n(63663),c=n(48497),d=n(14710),u=n(60964),h=n(71065);const p=a.ZP.Model.extend({mixins:[l.Z],cache:new c.Z,constructor:function(e,t){e||(e={}),t||(t={}),this.server=this.findOption(t,"server"),this.section=this.findOption(t,"section"),this.channel=this.findOption(t,"channel"),this.device=this.findOption(t,"device"),this.parent=this.findOption(t,"parent");const n=this.findOption(t,"skipCache");if(n)return void a.ZP.Model.prototype.constructor.apply(this,arguments);const i=this.cache.getItemCacheKey(this,e),r=this.cache.get(i);if(r)return t.parse&&(e=r.parse(e)),this.preserveCachedAttributes&&this.preserveCachedAttributes(t.url)?o().each(e,(function(e,t){o().isUndefined(r.get(t))&&!o().isUndefined(e)&&r.set(t,e)})):r.set(e),r.server=this.server||r.server,r.section=this.section||r.section,r.channel=this.channel||r.channel,r.device=this.device||r.device,r.parent=this.parent||r.parent,t.collection&&(r.collection=t.collection),r;const s=this.findOption(t,"onlyIfCached");if(s)return{};a.ZP.Model.prototype.constructor.apply(this,arguments),this.cache.store(this,i)},findOption:function(e,t){return e[t]||e.collection&&e.collection[t]},clone:function(){const e={server:this.server,section:this.section,channel:this.channel,parent:this.parent,skipCache:!0};return new this.constructor(this.attributes,e)||null},convert:function(e){return o().isObject(e)?e:u.Z.parseXML(e)},parse:function(e,t){let n=this.convert(e);return this.whitelistedAttrs&&(n=o().pick(n,this.whitelistedAttrs)),n},save:function(e,t,n){let i,s;const l=this.attributes;null==e||"object"==typeof e?(i=e,n=t):(i={})[e]=t,n=o().extend({validate:!0},n);const c=this.getSaveParams(i,n);if(o().extend(c,n.data),i&&!n.wait){if(!this.set(i,n))return!1}else if(!this._validate(i,n))return!1;if(i&&n.wait&&(this.attributes=o().extend({},l,i)),o().isEmpty(c)&&!n.force)return n.success&&n.success(this),r().Deferred().resolve(this);void 0===n.parse&&(n.parse=!0);const d=this,u=n.success;n.success=function(e){if(d.attributes=l,e){let t=d.parse(e,n);if(n.wait&&(t=o().extend(i||{},t)),o().isObject(t)&&!d.set(t,n))return!1;d.cache.store(d)}u&&u(d,e,n),d.trigger("sync",d,e,n)},a.ZP.wrapError(this,n),s=this.isNew()?"create":n.patch?"patch":"update","patch"===s&&(n.attrs=i);const p=o().result(this,"saveUrl")||o().result(this,"url");o().isEmpty(c)||(n.url=h.Z.join(p,c)),n.data="";const g=this.sync(s,this,n);return i&&n.wait&&(this.attributes=l),g},getSaveParams:function(e,t){return this.isNew()?e||this.toJSON():this.changedAttributes(e)||{}},getScopedKey:function(e){return null!=e&&o().isFunction(this.cacheKey)?this.cacheKey(this.attributes)+"!"+e:e},restoreDefaults:function(e){const t=o().result(this,"defaults");if(!t)return this.clear(e);const n=this.attributes;let i;for(i in n)i in t||this.unset(i,e);return this.set(t,e),this},startCapturingChangeEvents:function(){if(this.releaseCapturedChangeEvents)return void(0,d.Z)(!1,"This model is already capturing events");const e=this.set;let t={};this.set=function(n,i,r){let s;"object"==typeof n?(s=n,r=i):(s={})[n]=i;const a=o().extend({},r,{silent:!0}),l=e.call(this,s,a);return o().extend(t,this.changed),l},this.releaseCapturedChangeEvents=function(){o().each(t,(function(e,t){this.trigger("change:"+t,this,e)}),this),o().isEmpty(t)||this.trigger("change",this,{}),t={},this.set=e,this.releaseCapturedChangeEvents=null}}});p.extend=function(){const e=a.ZP.Model.extend.apply(this,arguments);return e.prototype.cache=new c.Z,e};const g=p},3305:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(80731),r=Object.defineProperty,s=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(o)for(var n of o(t))a.call(t,n)&&l(e,n,t[n]);return e};function d(e,t){return i.Z.shouldCreateFlexModels&&(e.prototype.sessionRelations=c(c({},e.prototype.sessionRelations),{desktop:t})),e}},33654:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=[]},88019:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var i=n(13469),r=n.n(i),s=n(2932),o=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};const h=["boolean","integer","float","string","object","array"];function p(e){return!0}function g(e){return r().isObject(e)&&!Array.isArray(e)}function m(e,t){t||(t={});const n=r().defaults(t,{typeName:e,parse:r().bind(s.Z.parseType,s.Z,e),stringify:r().bind(s.Z.stringifyType,s.Z,e)});var i;return n.validate=t.validate?(i=t.validate,function(e){return null==e||i(e)}):p,n.isRequired=u(u({},n),{validate:e=>null!=e&&n.validate(e),typeName:`${n.typeName}<required>`}),n}const f={any:m("any"),boolean:m("boolean",{validate:r().isBoolean}),integer:m("integer",{validate:Number.isInteger}),float:m("float",{validate:r().isNumber}),string:m("string",{validate:r().isString}),object:m("object",{validate:g}),array:m("array",{validate:Array.isArray}),list:m("list",{validate:Array.isArray}),encodedString:m("encodedString",{validate:r().isString}),queryString:m("queryString",{validate:g}),instanceOf:function(){const e=r().toArray(arguments);return m("instanceOf",{validate:function(t){return r().some(e,(function(e){return t instanceof e}))}})},oneOf:function(){const e=r().toArray(arguments);return m("oneOf",{validate:function(t){return r().contains(e,t)}})},oneOfType:function(){const e=r().toArray(arguments);return m("oneOfType",{validate:function(t){return r().some(e,(function(e){return e.validate(t)}))}})},custom:function(e){return m("custom",{validate:e})},getAttrTypeFor:function(e){if(null==e)return f.any;for(let t=0,n=h.length;t<n;t++){const n=f[h[t]];if(n.validate(e))return n}return f.any}},y=f},80731:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=Object.defineProperty,r=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,a=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l=(e,t)=>{for(var n in t||(t={}))r.call(t,n)&&a(e,n,t[n]);if(s)for(var n of s(t))o.call(t,n)&&a(e,n,t[n]);return e};const c=l(l({allowFlash:!1,testPrivateConnectionsWhenPublicAddressDoesNotMatch:!0,allowHttpsMediaServerConnections:!1,allowMediaServerRelayConnections:!1,allowLoopbackDiscovery:!1,allowIPv6ServerConnections:!1,allowSSO:!1,allowMixedContent:!1,allowBaseImagePreloading:!0,allowBaseImageBlobs:!0,heartbeatInterval:1e4,allowManualServers:!1,allowMobileServers:!1,allowMultiTrackAudio:!1,maximumConcurrentConnectionTests:5,shouldCreateFlexModels:!1,shouldCreateStateTree:!1,requiresSignIn:!0,requiresPlexPass:!1,myPlexAccessToken:null,primaryServer:null,shouldCreateNewSessionWhenSeekingLiveTV:!1,shouldPreferInsecureLocalConnections:!1,shouldRequestHTMLFromCloudProvider:!1,allowLiveTVPlayback:!0,seekDebounceMilliseconds:null,allowSyncSettings:!1,allowAdsOverMedia:!0},n(42839).Z),window.PLEXWEB),d=Object.freeze(c)},90126:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(22618),r=n(88019),s=n(87023),o=n(71065),a=n(49788);const l=i.Z.extend({name:"FileModel",idAttribute:"key",rootPropertyName:"File",syncedAttrs:{key:r.Z.string,title:r.Z.string,path:r.Z.string,network:r.Z.boolean}}),c=a.Z.extend({name:"FileCollection",model:l}),d=i.Z.extend({name:"FilePathModel",context:["server","includeFiles"],idAttribute:"key",rootPropertyName:"Path",sessionAttrs:{isBackShortcut:r.Z.boolean},sessionRelations:{children:function(){const e={};return this.includeFiles&&(e.includeFiles=1),{relationClass:n(90126).Z,options:{url:o.Z.join([this.id],e)}}}},syncedAttrs:{key:r.Z.string,title:r.Z.string,path:r.Z.string,home:r.Z.boolean,network:r.Z.boolean}}),u=a.Z.extend({name:"FilePathCollection",context:["server","includeFiles"],model:d,url(){const e={};return this.includeFiles&&(e.includeFiles=1),o.Z.join(["/services/browse"],e)}}),h=i.Z.extend({name:"FilePathListModel",responseType:s.AV,context:["server","includeFiles","url"],url(){const e={};return this.includeFiles&&(e.includeFiles=1),o.Z.join(["/services/browse"],e)},sessionAttrs:{truncatedFilesCount:r.Z.integer},syncedRelations:{paths:{relationClass:u,rootPropertyName:"Path"},files:{relationClass:c,rootPropertyName:"File"}},augmentResponse:e=>(e.File&&(e.truncatedFilesCount=Math.max(0,e.File.length-500),e.File=e.File.slice(0,500)),e)})},86512:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var i=n(30944),r=n(19755),s=n.n(r),o=n(13469),a=n.n(o),l=n(68918),c=n(29261),d=n(21451),u=n(60964),h=n(71065);const p=l.Z.extend({idAttribute:"ratingKey",whitelistedAttrs:["guid","addedAt","composite","duration","key","leafCount","playlistType","ratingKey","smart","summary","title","type","allowSync"],defaults:function(){return{children:new c.Z([],{server:this.server,parent:this,url:function(){const e="/playlists/"+this.parent.id+"/items";let t;return"audio"===this.parent.get("playlistType")&&(t={includeRelated:1}),h.Z.join(e,t)}})}},urlRoot:"/playlists",saveUrl:function(){return"/library/metadata/"+this.id},cacheKey:function(e){if(e.key)return this.server&&this.server.getScopedKey(e.key)},initialize:function(){this.listenToOnce(this.get("children"),"add",(function(e){this.set("art",e.get("art"))}))},parse:function(e){let t=this.convert(e);return t.Playlist&&(t=t.Playlist),u.Z.parseInteger(t,["duration","leafCount","addedAt"]),u.Z.parseBoolean(t,["smart","allowSync"]),t.isPlaylist=!0,t},findItem:function(e){return this.get("children").findWhere({playlistItemID:e})},moveItem:function(e,t){const n=t?{after:t}:{},i=h.Z.join([a().result(this,"url"),"/items/",e,"/move"],n),r=a().extend(this.server.getXHROptions(i),{type:"PUT"}),o=s().ajax(r),l=this.get("children"),c=this.findItem(e);l.remove(c);const d=this.findItem(t),u=d?l.indexOf(d)+1:0;return l.add(c,{at:u}),o},removeItem:function(e){e=e.toString();const t=h.Z.join([a().result(this,"url"),"/items/",e]),n=a().extend(this.server.getXHROptions(t),{type:"DELETE"}),i=s().ajax(n);i.then(a().bind((function(e){this.set(this.parse(e))}),this));const r=this.get("children"),o=this.findItem(e);return r.remove(o),i},addContent:function(e,t){const n=this.isNew()?"POST":"PUT",i=[a().result(this,"url")],r={};this.isNew()?(r.type=this.get("playlistType"),r.title=this.get("title"),r.smart=this.get("smart")?1:0):i.push("/items"),e.get("playQueueID")?r.playQueueID=e.get("playQueueID"):r.uri=d.Z.uri(e,t);const o=h.Z.join(i,r),l=a().extend(e.server.getXHROptions(o),{type:n}),c=s().ajax(l);return c.then(a().bind((function(e){this.set(this.parse(e))}),this)),c.promise()},isLibraryItem:function(){return!0},isPlexMusicItem:function(){return!1}});var g=n(49788),m=n(96576),f=n(57840);const y=g.Z.extend({name:"VersionGeneratorCollection",context:["server"],model:m.Z,url(){return h.Z.join(["playlists",this.parent.id,"items"],{type:f.Z.LOCAL})}}),v=p.extend({defaults:function(){return{children:new y([],{server:this.server,parent:this})}},findItem:function(e){return this.get("children").get(e)},addContent:function(e){const t=[a().result(this,"url"),"items",e.id],n=h.Z.join(t,e.getSaveParams()),i=a().extend(e.server.getXHROptions(n),{type:"PUT"}),r=s().ajax(i);return r.then(a().bind((function(e){this.set(this.parse(e))}),this)),r.promise()}}),b=i.Z.extend({model:v,url:"/playlists?type="+f.Z.LOCAL,parse:function(e){return this.convert(e,"Playlist")}})},87157:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L});var i=n(30944),r=n(19755),s=n.n(r),o=n(13469),a=n.n(o),l=n(68918),c=n(49788),d=n(22618),u=n(88019),h=n(97454),p=n(28381);const g={exclusiveBoolAttr(e){this.listenTo(this,"change:"+e,((t,n)=>{n&&this.each((i=>{i.set(e,i===t&&n)}))}))}};var m=n(77982),f=n(87023),y=n(71065);const v=d.Z.extend({name:"LyricsSpanModel",context:["server","section"],sessionAttrs:{active:u.Z.boolean},syncedAttrs:{startOffset:u.Z.integer,endOffset:u.Z.integer,text:u.Z.string},defaults:{startOffset:-1,endOffset:-1},isPositionWithin(e){const t=this.get("startOffset"),n=this.get("endOffset");return-1!==t&&(e>=t&&(e<=n||-1===n))}}),b=c.Z.extend({name:"LyricsSpanCollection",context:["server","section"],model:v}),Z=d.Z.extend({name:"LyricsLineModel",context:["server","section"],syncedAttrs:{startOffset:u.Z.integer,endOffset:u.Z.integer},syncedRelations:{spans:{relationClass:b,rootPropertyName:"Span"}},defaults:{startOffset:-1,endOffset:-1}}),S=c.Z.extend({name:"LyricsLineCollection",context:["server","section"],model:Z,eachSpan(e){this.each((t=>{t.get("spans").each(e)}))}}),I=d.Z.extend({name:"LyricsStreamModel",context:["server","provider","section"],responseType(){var e;return(null==(e=this.server)?void 0:e.get("isCloud"))?f.AV:f.Ls},rootPropertyName:"Lyrics",mergeStrategy:m.Z,url(){var e;return(null==(e=this.server)?void 0:e.get("isCloud"))?this.get("key"):y.Z.join(this.get("key"),{format:"xml"})},sessionAttrs:{follow:u.Z.boolean,lyricsError:u.Z.object},syncedAttrs:{id:u.Z.string,key:u.Z.string,streamType:u.Z.integer,index:u.Z.integer,title:u.Z.string,selected:u.Z.boolean,codec:u.Z.string,provider:u.Z.string,format:u.Z.string,minLines:u.Z.integer,timed:u.Z.boolean},syncedRelations:{lines:{relationClass:S,rootPropertyName:"Line"}},defaults:{follow:!0,selected:!1,lyricsError:null}}),M=c.Z.extend({mixins:[g],name:"LyricsStreamCollection",context:["server","provider","section"],model:I,initialize(){this.exclusiveBoolAttr("selected")}});var w=n(48497),P=n(2932),C=n(4120),D=n(89703),A=n(44333);const x=d.Z.extend({name:"PlayQueueItemModel",context:["server","provider"],syncedAttrs:{internal:u.Z.boolean,url:u.Z.string}}),E=d.Z.extend({name:"PlayQueueItemModel",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],entityType:D.PLAY_QUEUE_ITEM,entityID(e=this.state){return(0,C.Z)(this.entityType,e.playQueueItemID,this.server.entityID())},idAttribute:"playQueueItemID",cache:new w.Z,cacheKey(e){return this.server&&this.server.getScopedKey(e.playQueueItemID)},sessionAttrs:{isPlayQueueItem:u.Z.boolean,isLocal:u.Z.boolean},syncedAttrs:{playQueueItemID:u.Z.string,queueIndex:u.Z.integer,key:u.Z.string,ratingKey:u.Z.string,type:u.Z.string,subtype:u.Z.string,advertisement:u.Z.boolean,allowSkipAfter:u.Z.integer,librarySectionID:u.Z.string,hasPremiumLyrics:u.Z.boolean,displayPostplay:u.Z.boolean,syncItemId:u.Z.integer,generatorID:u.Z.integer,generatorType:u.Z.integer,clientIdentifier:u.Z.string,target:u.Z.string},syncedRelations:{metadataItem:{relationClass:p.Z,deferred:!0},lyricsStreams:{relationClass:M,deferred:!0},vast:{relationClass:x,deferred:!0}},sessionRelations:{postPlay:{relationClass:h.Z,options(){return{url:`hubs/metadata/${this.get("metadataItem").id}/postplay`}}}},defaults:{isPlayQueueItem:!0,isLocal:!1},augmentResponse(e){const t=a().pick(e,Object.keys(this.syncedAttrs));e.Ad&&(Array.isArray(e.Ad)&&(e.Ad=e.Ad[0]),t.vast=e.Ad),t.metadataItem=e;const n=a().first(P.Z.parseArray(e.Media));if(n){const e=a().first(P.Z.parseArray(n.Part));if(e){const n=P.Z.parseArray(e.Stream);if(n){const e=A.Z.get("lyrics");t.lyricsStreams=a().filter(n,(t=>P.Z.parseInteger(t.streamType)===e.id))}}}return t}}),T=c.Z.extend({name:"PlayQueueItemCollection",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],model:E});var j=n(82590),N=n(60964);const O=l.Z.extend({idAttribute:"playQueueID",whitelistedAttrs:["playQueueID","playQueueSelectedItemID","playQueueSelectedItemOffset","playQueueSelectedMetadataItemID","playQueueLastAddedItemID","playQueueShuffled","playQueueSourceURI","playQueueTotalCount","playQueueVersion","message"],defaults:{selectedItem:null,mediaType:null,owned:!0,hasUserAdditions:!1,playQueueVersion:0},metadataElementNames:["Directory","Video","Track","Photo","Hub"],url:function(){return"/playQueues/"+this.id},initialize:function(){this.listenTo(this,"change:message",this.onMessageChange)},_fetch:function(){const e=a().result(this,"url");return this._ajax("GET",e)},convert:function(e){const t=a().isObject(e)?e:N.Z.parseXML(e);return N.Z.parseBoolean(t,"playQueueShuffled"),N.Z.parseInteger(t,["playQueueSelectedItemOffset","playQueueTotalCount","playQueueVersion"]),N.Z.parseArray(t,"Metadata"),t},parse:function(e){a().isString(e)&&(e=N.Z.replaceXMLElementNames(e,this.metadataElementNames,"Metadata"));const t=this.convert(e);t.id&&(t.playQueueID=t.id);const n=a().pick(t,this.whitelistedAttrs);return this.set(n,{silent:!0}),this.pendingChanges=this.changed,this.parseItems(t),n},parseItems:function(e){let t=this.get("collection");const n=e.Metadata,i=!!n.length,r=a().pluck(n,"playQueueItemID").indexOf(e.playQueueSelectedItemID),s=e.playQueueSelectedItemOffset-r;a().each(n,(function(t,n){t.queueIndex=s+n,e.identifier&&(t.identifier=e.identifier),e.mediaTagPrefix&&(t.mediaTagPrefix=e.mediaTagPrefix),e.mediaTagVersion&&(t.mediaTagVersion=e.mediaTagVersion)})),t?t.set(n,{parse:i}):(t=new T(n,{server:this.server,parent:this,parse:i}),this.set("collection",t)),t.totalSize=e.playQueueTotalCount,t.availableRange={start:s,end:s+t.length}},moveItem:function(e,t){if(e===this.get("playQueueSelectedItemID"))return s().Deferred().resolve().promise();this.set("hasUserAdditions",!0);const n={after:t||-1},i=y.Z.join([a().result(this,"url"),"/items/",e,"/move"],n);return this._ajax("PUT",i)},getUpNextRange:function(){const e=this.get("collection"),t=e.get(this.get("playQueueSelectedItemID")),n=e.indexOf(t),i=Math.max(n,0);let r=i;const s=this.get("playQueueLastAddedItemID");if(null!=s){const t=e.get(s),n=e.indexOf(t);n>i&&(r=n)}return{start:i,end:r}},getCurrentItem:function(){const e=this.get("playQueueSelectedItemID");return this.get("collection").findWhere({playQueueItemID:e})||null},_ajax:function(e,t){const n=a().extend(this.server.getXHROptions(t),{type:e}),i=s().ajax(n);return i.done(a().bind((function(e){this.set(this.parse(e)),a().isEmpty(this.pendingChanges)||(a().each(this.pendingChanges,(function(e,t){this.trigger("change:"+t,this,e)}),this),this.trigger("change",this),this.pendingChanges=null),this.set("selectedItem",this.getCurrentItem())}),this)),i.promise()},onMessageChange:function(e,t){t&&j.Z.trigger("show:alert",{type:"error",message:t})}});var k=n(57840);const L=i.Z.extend({model:O,url:"/playQueues?type="+k.Z.LOCAL,parse:function(e){return this.convert(e,"PlayQueue")}})},96576:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var i=n(22618),r=n(88019),s=n(48497),o=n(94377);const a=i.Z.extend({name:"VersionGeneratorMediaSettingsModel",context:["server"],syncedAttrs:{videoQuality:{type:r.Z.integer,save:!0},videoResolution:{type:r.Z.string,save:!0},maxVideoBitrate:{type:r.Z.integer,save:!0},audioBoost:{type:r.Z.integer,save:!0},subtitleSize:{type:r.Z.integer,save:!0},musicBitrate:{type:r.Z.integer,save:!0},photoQuality:{type:r.Z.integer,save:!0},photoResolution:{type:r.Z.string,save:!0}}});var l=n(13469),c=n.n(l),d=n(34777),u=n(87023),h=n(61194),p=n(71065),g=n(49788),m=n(28381);const f=i.Z.extend({name:"VersionGeneratorMetadataModel",context:["server","generator"],idAttribute:"ratingKey",syncedAttrs:c().extend({},m.Z.prototype.syncedAttrs,{processingState:r.Z.string,processingStateContext:r.Z.string})}),y=g.Z.extend({name:"VersionGeneratorMetadataCollection",context:["server","generator"],model:f}),v=i.Z.extend({mixins:[d.Z],name:"VersionGeneratorMetadataListModel",context:["server","generator"],collectionName:"metadataItems",url(){const e=p.Z.join([c().result(this.generator,"url"),"items"]);return this.getPaginatedUrl(e)},sessionAttrs:{currentPageStart:r.Z.integer,currentPageSize:r.Z.integer,populatedRange:r.Z.object},syncedAttrs:{totalSize:r.Z.integer,identifier:r.Z.string,mediaTagPrefix:r.Z.string,mediaTagVersion:r.Z.string,viewGroup:r.Z.string,title:r.Z.string},syncedRelations:{metadataItems:{relationClass:y,rootPropertyName:"Metadata",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()},augmentResponseText:(e,t)=>t===u.Ls?(0,h.Z)(e):e}),b=i.Z.extend({name:"VersionGeneratorPolicyModel",context:["server"],syncedAttrs:{scope:{type:r.Z.string,save:!0},value:{type:r.Z.integer,save:!0},unwatched:{type:r.Z.boolean,save:!0}},defaults:{unwatched:!1}}),Z=i.Z.extend({name:"VersionGeneratorStatusModel",context:["server"],syncedAttrs:{state:r.Z.string,failureCode:r.Z.string,failure:r.Z.string,itemsCount:r.Z.integer,itemsCompleteCount:r.Z.integer,itemsSuccessfulCount:r.Z.integer,itemsFailedCount:r.Z.integer,itemsDisabledCount:r.Z.integer,totalSize:r.Z.integer}}),S=i.Z.extend({name:"VersionGeneratorModel",context:["server","section","playlistID"],rootPropertyName:"Item",cache:new s.Z,cacheKey(e){return this.server&&this.server.getScopedKey(e.id)},urlRoot(){return`/playlists/${this.playlistID||this.parent.id}/items`},syncedAttrs:{id:r.Z.integer,clientIdentifier:r.Z.string,contentType:r.Z.string,composite:r.Z.string,type:{type:r.Z.integer,save:!0},title:{type:r.Z.string,save:!0},target:{type:r.Z.string,save:!0},targetTagID:{type:r.Z.integer,save:!0},locationID:{type:r.Z.integer,save:!0},Location:{type:r.Z.object,save:!0},Device:{type:r.Z.object,save:!0}},sessionRelations:{children:{relationClass:v,options(){return{generator:this}}}},syncedRelations:{status:{relationClass:Z,rootPropertyName:"Status"},policy:{relationClass:b,rootPropertyName:"Policy",save:!0},mediaSettings:{relationClass:a,rootPropertyName:"MediaSettings",save:!0}},derivedAttrs:{isDirectory(){const e=this.get("Location");if(e.uri)return/(playlist:\/\/|library:\/\/([\w-]*)\/directory\/)/.test(e.uri)}},defaults:()=>({type:42,locationID:-1,Location:{},Device:{}}),defaultCounts:{[o.pX]:5,[o.j0]:50,[o.pV]:50},warningCounts:{[o.pX]:10,[o.j0]:100,[o.pV]:100},getSaveParams(e,t){const n=i.Z.prototype.getSaveParams.apply(this,arguments);return n.targetTagID&&(delete n.MediaSettings,delete n.Device),{Item:n}},setPolicyDefaultsFor(e){const t=this.get("policy"),n=this.get("isDirectory");return t.has("scope")||t.set("scope",n?"count":"all"),!t.has("value")&&n&&t.set("value",this.defaultCounts[e]),this},shouldShowPolicyWarning(e,t){const n=this.get("policy").get("scope");return"count"===n?t>this.warningCounts[e]:"all"===n&&this.get("isDirectory")}})},96551:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(13469),r=n.n(i),s=n(49788),o=n(71065),a=n(22618),l=n(88019),c=n(8504);const d=a.Z.extend({name:"FilterModel",context:["server","section","type","standalone"],idAttribute:"filter",rootPropertyName:"Directory",defaults:{advanced:!1},syncedAttrs:{filter:l.Z.string,filterType:l.Z.string,type:l.Z.string,key:l.Z.string,title:l.Z.string,advanced:l.Z.boolean},syncedRelations:{options:{relationClass:c.Z}}}),u=s.Z.extend({name:"FilterCollection",context:["server","section","includeAdvanced"],model:d,comparator:"filterType",includeAdvanced:!0,url(){const e=r().result(this.section,"url"),t=this.section.get("currentType"),n={includeAdvanced:this.includeAdvanced?1:0};return t&&(n.type=t.id),o.Z.join([e,"/filters"],n)},findUnwatchedFilter(){return this.get("unwatched")||this.get("unwatchedLeaves")}})},8504:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(13469),r=n.n(i),s=n(49788),o=n(71065),a=n(22618),l=n(88019);const c=a.Z.extend({name:"FilterOptionModel",context:["server","section","type","standalone"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:l.Z.encodedString,type:l.Z.string,field:l.Z.string,value:l.Z.string,title:l.Z.string},augmentResponse:e=>(e.fastKey?(e.value=e.key,e.key=e.fastKey,e.field=e.type,delete e.type,delete e.fastKey):e.fastKey||e.value||(e.value=e.key),e)}),d=s.Z.extend({name:"FilterOptionCollection",context:["server","provider","section","type","standalone","includeExternalMedia"],model:c,url(){let e;this.type?e={type:this.type}:this.standalone||(e=this.getUrlParams());const t=r().result(this.section,"url");return o.Z.join([t,this.parent.id],e)},getUrlParams(){const e={},t=[],n=this.section.get("currentType"),i=this.section.get("currentFilters");return n&&(e.type=n.id),r().each(i,(t=>{t.key!==this.parent.id&&t.values.length&&(e[t.key]=t.values.join(","))})),r().each(e,((e,n)=>{"unviewedLeafCount"===n?t.push(`${n}>=${e}`):t.push(`${n}=${e}`)})),t.join("&")},augmentResponse:e=>(e.Directory&&!Array.isArray(e.Directory)&&(e.Directory=[e.Directory]),e.Directory=r().filter(e.Directory,(e=>e.title)),e),search(e){const t=this.filter((t=>t.get("title").toLowerCase().indexOf(e.toLowerCase())>-1));return this.clone(t)}})},94928:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(49788),r=n(91487),s=n(51394);const o=i.Z.extend({name:"SectionCollection",context:["server"],model:s.Z,url:"/library/sections",responseType(){return(0,r.Z)(this.server)}})},51394:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L});var i=n(13469),r=n.n(i),s=n(22618),o=n(88019),a=n(68339),l=n(50958),c=n(71065),d=n(42751);const u={unviewedLeafCount:">="},h=d.Z.extend({name:"SectionMetadataListModel",context:["server","section","identifier","mediaTagPrefix","mediaTagVersion","allowSync"],url(){let e,t,n=[];const i=this.section.get("currentFolderKey");if(i)n.push(i);else if(n.push(r().result(this.section,"url")),e=this.section.get("currentSubset").id,this.section.get("allowAdvancedFilters"))"recentlyAdded"!==e&&"newest"!==e||(e="all"),n.push(e),t=this.getParams();else{const t=this.section.get("currentFilters");t.length?n=[t[0].values[0]]:n.push(e)}let s=c.Z.join(n,t);return s=this.replaceSpecialFilterOperators(s),this.set("containerKey",s),this.server.get("isFullServer")?this.getPaginatedUrl(s):s},getParams(){const e=this.getFilterParams(),t=this.getMetadataTypeID(),n=this.getSort();return t&&t!==(0,l.nW)("photo").id&&(e.type=t),n&&(e.sort=n),this.section.get("refreshing")&&this.server.supports("timelineState")&&(e.timelineState=1),e},getFilterParams(){const e=this.section.get("currentFilters"),t={};return r().each(e,(e=>{e.values.length&&(t[e.key]=e.values.map(decodeURIComponent).join(","))})),t},getMetadataTypeID(){const e=this.section.get("currentSubset").id;let t=this.section.get("currentType").id||(0,l.nW)(this.section.get("type")).id;return/^(onDeck|recentlyAdded|recentlyViewed|newest)$/.test(e)?t===(0,l.nW)("show").id||t===(0,l.nW)("season").id?t=(0,l.nW)("episode").id:t!==(0,l.nW)("artist").id&&t!==(0,l.nW)("track").id||(t=(0,l.nW)("album").id):/^recentlyViewedShows$/.test(e)&&(t=(0,l.nW)("show").id),t},getSort(){const e=this.section.get("currentSort"),t=this.section.get("currentSubset").id;return"recentlyAdded"===t?"addedAt:desc":"newest"===t?"originallyAvailableAt:desc":e?(e.get("direction")||e.get("defaultDirection"))===a.Z.directions.DESCENDING?e.get("descKey"):e.get("key"):void 0},replaceSpecialFilterOperators:e=>(r().each(u,((t,n)=>{e=e.replace(n+"=",n+t)})),e)});var p=n(2608),g=n(48497),m=n(4120),f=n(89703),y=n(10123),v=n(21235);const b=(0,n(81191).Z)(["key"],[{key:"all",title:()=>(0,v.Z)("All")},{key:"unwatched",title:()=>(0,v.Z)("Unplayed")},{key:"newest",title:()=>(0,v.Z)("Recently Released")},{key:"recentlyAdded",title:()=>(0,v.Z)("Recently Added")},{key:"recentlyViewed",title:()=>(0,v.Z)("Recently Viewed")},{key:"recentlyViewedShows",title:()=>(0,v.Z)("Recently Viewed Shows")},{key:"onDeck",title:()=>(0,v.Z)("On Deck")},{key:"folder",title:()=>(0,v.Z)("By Folder")}]);var Z=n(96551),S=n(49788),I=n(91487);const M=s.Z.extend({name:"FirstCharacterModel",context:["server","provider","section"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:o.Z.string,title:o.Z.string,size:o.Z.integer},urlRoot(){return`/library/sections/${this.section.id}/firstCharacter`}}),w=S.Z.extend({name:"FirstCharacterCollection",context:["server","provider","section"],model:M,responseType(){return(0,I.Z)(this.server)},url(){const e=r().result(this.section,"url")+"/firstCharacter",t=this.getUrlParams();return t?e+"?"+t:e},getUrlParams(){const e={},t=[],n=this.section.get("currentType");n&&(e.type=n.id);const i=this.section.get("currentFilters");return r().each(i,(t=>{t.values.length&&(e[t.key]=t.values.join(","))})),r().each(e,((n,i)=>{"unviewedLeafCount"===i?t.push(`${i}>=${e[i]}`):t.push(`${i}=${e[i]}`)})),t.join("&")}});var P=n(8504);const C=s.Z.extend({name:"LinearFilterModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{secondary:o.Z.boolean,key:o.Z.string,title:o.Z.string},syncedRelations:{options:{relationClass:P.Z}},defaults:{secondary:!1}}),D=S.Z.extend({name:"LinearFilterCollection",context:["server","section"],model:C,url(){return r().result(this.section,"url")},filterBySecondary(){const e=this.filter((e=>e.get("secondary")));return this.clone(e)}}),A=s.Z.extend({name:"LocationModel",context:["server","section"],rootPropertyName:"Location",syncedAttrs:{id:o.Z.integer,path:{type:o.Z.string,save:!0}}}),x=S.Z.extend({name:"LocationCollection",context:["server","section"],model:A}),E=s.Z.extend({name:"MediaTypeModel",context:["server","section"],sessionAttrs:{id:o.Z.integer,typeString:o.Z.string,title:o.Z.string,plural:o.Z.string,mediaType:o.Z.string,child:o.Z.string,parent:o.Z.string,selected:o.Z.boolean},defaults:{selected:!1}}),T=S.Z.extend({name:"MediaTypeCollection",context:["server","section"],model:E}),j=["all","recentlyAdded","recentlyViewed","recentlyViewedShows","onDeck","newest","folder"],N=s.Z.extend({name:"SectionSubsetModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",sessionAttrs:{selected:o.Z.boolean},syncedAttrs:{key:o.Z.string,title:o.Z.string,secondary:o.Z.boolean},derivedAttrs:{primary(){return!this.get("secondary")&&r().contains(j,this.get("key"))}},defaults:{selected:!1},augmentResponse:e=>("all"===e.key&&(e.title=(0,v.Z)("All")),e)},{whitelistedPrimaryKeySubsets:j}),O=S.Z.extend({name:"SectionSubsetCollection",context:["server","section"],model:N,url(){return r().result(this.section,"url")},filterPrimaries(){const e=this.filter((e=>e.get("primary")));return this.clone(e)}});var k=n(95584);const L=s.Z.extend({name:"SectionModel",context:["server"],entityType:f.LIBRARY,entityID(e=this.state){return(0,m.Z)(this.entityType,e.key,this.server.entityID())},idAttribute:"key",rootPropertyName:"Directory",cache:new g.Z,persistInCache:!0,cacheKey(e){return this.server&&this.server.getScopedKey(e.key)},url(){return this.isNew()?r().result(this,"urlRoot")||r().result(this.collection,"url"):r().isNaN(parseInt(this.id,10))?this.id:"/library/sections/"+this.id},sessionAttrs:{isSection:o.Z.boolean,isCollectionsPopulated:o.Z.boolean,currentFilters:o.Z.array,currentFolderKey:o.Z.string,settings:o.Z.instanceOf(p.Z)},syncedAttrs:{key:o.Z.oneOfType(o.Z.string,o.Z.integer),uuid:o.Z.string,thumb:o.Z.string,art:o.Z.string,createdAt:o.Z.integer,updatedAt:o.Z.integer,allowAdvancedFilters:o.Z.boolean,allowSync:o.Z.boolean,refreshing:o.Z.boolean,name:{type:o.Z.string,save:!0},title:{type:o.Z.string,save:!0},type:{type:o.Z.string,save:!0},agent:{type:o.Z.string,save:!0},scanner:{type:o.Z.string,save:!0},language:{type:o.Z.string,save:!0},importFromiTunes:{type:o.Z.boolean,save:!0},enableAutoPhotoTags:{type:o.Z.boolean,save:!0},downloadMedia:{type:o.Z.integer,save:!0}},derivedAttrs:{serverEntityID(){return this.state?this.server.entityID():""}},syncedRelations:{locations(){return{relationClass:x,rootPropertyName:"Location",options:{section:this},save:!0}}},sessionRelations:{items(){return{relationClass:h,options:{section:this}}},currentSubset(){return{relationClass:N,options:{section:this}}},currentFirstCharacter:()=>({relationClass:M,deferred:!0}),currentType:()=>({relationClass:E,deferred:!0}),currentSort:()=>({relationClass:a.Z,deferred:!0}),types(){return{relationClass:T,options:{section:this}}},subsets(){return{relationClass:O,options:{section:this}}},filters(){return{relationClass:this.get("allowAdvancedFilters")?Z.Z:D,options:{section:this}}},sorts(){return{relationClass:k.Z,options:{section:this}}},firstCharacters(){return{relationClass:w,options:{section:this}}}},defaults(){return{isSection:!0,isCollectionsPopulated:!1,currentType:null,currentFilters:[],currentSort:null,currentFirstCharacter:null,currentFolderKey:null,currentSubset:b.get("all"),settings:new p.Z([],{server:this.server,url:()=>c.Z.join(["/library/sections/",this.get("key"),"/prefs"])})}},initialize(e){this.updateMediaTypes(this,e.type),this.set({currentType:this.get("types").findWhere({typeString:e.type})}),this.on("change:type",this.updateMediaTypes,this)},uninitialize(){this.off("change:type",this.updateMediaTypes,this),this.stopListening()},augmentResponse:e=>(e.allowAdvancedFilters=!!e.filters,delete e.filters,e),getSectionType(){const e=this.get("type");return y.ZP.get(e)},getSaveParams(e){const t=s.Z.prototype.getSaveParams.apply(this,arguments);if("type"in t){const e=y.ZP.get(t.type);e&&(t.type=e.typeString)}return"title"in t&&(t.name=t.title,delete t.title),r().isObject(t.type)&&(t.type=t.type.typeString),"Location"in t&&(t.location=r().pluck(t.Location,"path"),delete t.Location),t},getSyncTitle(e){const t=this.get("title"),n=[],i=this.get("currentSubset"),s=this.get("currentFilters");return e?(r().each(e,(e=>{n.push(e.get("title"))})),t+": "+n.join(", ")):"all"!==i.id?t+": "+i.get("title"):s.length?(r().each(s,(function(e){n.push(e.titles.join(", "))})),t+": "+n.join(",")):t},setAgentAndScanner(e,t,n){const i=e.defaultAgents.find((e=>t.find((t=>t.get("identifier")===e)))),r=e.defaultScanners.find((e=>n.find((t=>t.get("name")===e))));this.set({agent:i,scanner:r})},updateMediaTypes(e,t){const n=(0,l.tm)(t);this.get("types").reset(n)}})},95584:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(13469),r=n.n(i),s=n(49788),o=n(71065),a=n(68339);const l=s.Z.extend({name:"SortCollection",context:["server","section","typeID"],model:a.Z,url(){const e=r().result(this.section,"url"),t=this.typeID||this.section.get("currentType").id,n=t?{type:t}:{};return o.Z.join([e,"/sorts"],n)}})},68339:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(22618),r=n(88019);const s={ASCENDING:"asc",DESCENDING:"desc"},o=i.Z.extend({name:"SortModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",sessionAttrs:{selected:r.Z.boolean,direction:r.Z.string},syncedAttrs:{key:r.Z.string,descKey:r.Z.string,title:r.Z.string,isDefault:r.Z.boolean,active:r.Z.boolean,defaultDirection:r.Z.string,activeDirection:r.Z.string,firstCharacterKey:r.Z.string},defaults:{selected:!1},augmentResponse:e=>(e.defaultDirection||(e.defaultDirection=e.default||s.ASCENDING),e.isDefault=!!e.default,e.direction||(e.direction=e.defaultDirection),e),reverseSortDirection(){let e=this.get("direction")||this.get("defaultDirection");e=e&&e!==s.ASCENDING?s.ASCENDING:s.DESCENDING,this.set("direction",e)}},{directions:s})},97454:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(13469),r=n.n(i),s=n(49788),o=n(87023),a=n(82590),l=n(91487),c=n(61194),d=n(4231);const u=["shelf","grid","list","banner","hero"];var h=n(71065),p=n(58905);const g=s.Z.extend({name:"HubCollection",context:["server","provider","section","identifier","hubKey","hubCount","count","includeEmpty","libraryHubsOnly","includeFeaturedTags","includeLibraryPlaylists","includeMeta","includeGames","includeStations","includeExternalMedia","includeExternalMetadata","includeRecentChannels","asyncAugmentMetadata","excludes","excludeFields","excludeElements","allowSync","maxLength","wait"],responseContext:["identifier","allowSync"],model:p.Z,responseType(){return(0,l.Z)(this.server)},url(){let e="/hubs";this.hubKey?e=this.hubKey:this.section&&(e="/hubs/sections/"+encodeURIComponent(this.section.id));const t={};return""!==this.excludeFields&&(t.excludeFields=this.excludeFields||"summary"),this.excludeElements&&(t.excludeElements=this.excludeElements),this.count&&(t.count=this.count+1),this.hubCount&&(t.hubCount=this.hubCount),this.includeEmpty&&(t.includeEmpty=1),this.libraryHubsOnly&&(t.libraryHubsOnly=1),this.includeFeaturedTags&&(t.includeFeaturedTags=1),this.includeLibraryPlaylists&&(t.includeLibraryPlaylists=1),this.includeMeta&&(t.includeMeta=1),this.includeGames&&(t.includeGames=1),this.includeStations&&(t.includeStations=1),this.includeExternalMedia&&(t.includeExternalMedia=1),this.includeExternalMetadata&&(t.includeExternalMetadata=1),this.includeRecentChannels&&(t.includeRecentChannels=1),this.asyncAugmentMetadata&&(t.asyncAugmentMetadata=1),this.wait&&(t.wait=1),this.excludes&&this.excludes.length&&this.excludes.forEach((e=>{t["exclude"+(0,d.Z)(e)]=1})),h.Z.join(e,t)},initialize:function(){this.section&&this.listenTo(a.Z,"clear:sections:hubs",this.clear)},fetch(e={}){const t=r().clone(e);return e.onlyTransient&&this.populatePromise&&(t.remove=!1,t.url=h.Z.join(r().result(this,"url"),{onlyTransient:1})),s.Z.prototype.fetch.call(this,t)},augmentResponseText:(e,t)=>t===o.Ls?(0,c.Z)(e):e,augmentResponse(e){const t=this.model.prototype.rootPropertyName;if(e&&t){Array.isArray(e)?e={[t]:e}:e[t]&&!Array.isArray(e[t])&&(e={[t]:[e[t]]});const n=e[t];e.Meta&&n.forEach((t=>{t.Meta||(t.Meta=e.Meta)}));let i=n&&n.length;if(i){if(!this.includeEmpty)for(;i&&i--;){const e=n[i];u.includes(e.style)&&e.size<=0&&n.splice(i,1)}this.maxLength&&n.splice(this.maxLength),e.size>n.length&&(e.size=String(n.length)),this.count&&n.forEach((e=>{e.more&&e.size>this.count&&(e.Metadata.splice(this.count,e.size-this.count),e.size=this.count)}))}}return this.responseContext.forEach((t=>{const n=e[t];void 0!==n&&this.setContext(t,n)})),e}})},58905:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(22618),r=n(88019),s=n(87023),o=n(91487),a=n(61194),l=n(2932),c=n(4120),d=n(89703),u=n(42751);const h=i.Z.extend({name:"HubModel",context:["server","provider","section","identifier","allowSync","includeExternalMedia"],entityType:d.HUB,entityID(e=this.state){return(0,c.Z)(this.entityType,e.key||e.hubKey||e.hubIdentifier,this.provider.entityID())},idAttribute:"hubIdentifier",rootPropertyName:"Hub",responseType(){return(0,o.Z)(this.server)},url(){return this.get("key")||this.get("hubKey")},syncedAttrs:{key:r.Z.string,hubKey:r.Z.string,hubIdentifier:r.Z.string,source:r.Z.string,title:r.Z.string,summary:r.Z.string,icon:r.Z.string,thumb:r.Z.string,attribution:r.Z.string,type:r.Z.string,subtype:r.Z.string,style:r.Z.string,size:r.Z.integer,totalSize:r.Z.integer,more:r.Z.boolean,random:r.Z.boolean,browse:r.Z.boolean,upNext:r.Z.boolean,context:r.Z.string,promoted:r.Z.boolean,autoAdvanceDelayMs:r.Z.integer,Meta:r.Z.object},syncedRelations:{metadataList:{relationClass:u.Z,deferred:!0}},initialize(){this.listenTo(this.get("metadataList"),"change:populatedRange",this.onPopulatedRangeChange)},augmentResponseText:(e,t)=>t===s.Ls?(0,a.Z)(e):e,augmentResponse(e){const t=null==e.totalSize?void 0:l.Z.parseInteger(e.totalSize),n=l.Z.parseInteger(e.size)||0,i=e.key||e.hubKey;return e.metadataList={containerKey:i,Metadata:e.Metadata,size:n,totalSize:t},e},onPopulatedRangeChange(e,t){const n=t.size,i=e.get("totalSize"),r={size:n};null!=i&&(r.more=i>n),this.set(r)}})},29261:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(49788),r=n(87023),s=n(91487),o=n(61194),a=n(28381);const l=i.Z.extend({name:"MetadataCollection",context:["server","provider","section","playlist","identifier","mediaTagPrefix","mediaTagVersion","allowSync","containerKey","includeExternalMedia"],model:a.Z,responseType(){return(0,s.Z)(this.server)},url(){return this.containerKey},augmentResponseText:(e,t)=>t===r.Ls?(0,o.Z)(e):e,splitByType:function(){const e={};return this.each((t=>{const n=t.get("type");e.hasOwnProperty(n)?e[n].push(t):e[n]=[t]})),e}})},42751:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var i=n(13469),r=n.n(i),s=n(22618),o=n(88019),a=n(34777),l=n(87023),c=n(91487),d=n(61194),u=n(2932),h=n(4120),p=n(89703),g=n(71065),m=n(49788);const f=s.Z.extend({name:"OperatorModel",context:["server"],idAttribute:"key",rootPropertyName:"Operator",syncedAttrs:{key:o.Z.string,title:o.Z.string}}),y=m.Z.extend({name:"OperatorCollection",context:["server"],model:f}),v=s.Z.extend({name:"MetadataFieldTypeModel",context:["server"],idAttribute:"type",rootPropertyName:"FieldType",syncedAttrs:{type:o.Z.string.isRequired},syncedRelations:{operators:{relationClass:y,rootPropertyName:"Operator"}}}),b=m.Z.extend({name:"MetadataTypeCollection",context:["server"],model:v}),Z=s.Z.extend({name:"FieldModel",context:["server"],idAttribute:"key",rootPropertyName:"Field",syncedAttrs:{key:o.Z.string,title:o.Z.string,type:o.Z.string,subType:o.Z.string}}),S=m.Z.extend({name:"FieldCollection",context:["server"],model:Z});var I=n(96551),M=n(95584);const w=s.Z.extend({name:"MetadataTypeModel",context:["server"],idAttribute:"key",rootPropertyName:"Type",syncedAttrs:{type:o.Z.string,subtype:o.Z.string,key:o.Z.string,title:o.Z.string,context:o.Z.string},syncedRelations:{filters:{relationClass:I.Z,rootPropertyName:"Filter"},sorts:{relationClass:M.Z,rootPropertyName:"Sort"},fields:{relationClass:S,rootPropertyName:"Field"}}}),P=m.Z.extend({name:"MetadataTypeCollection",context:["server"],model:w}),C=s.Z.extend({name:"MetaModel",context:["server","provider"],syncedAttrs:{DisplayFields:o.Z.array},syncedRelations:{types:{relationClass:P,rootPropertyName:"Type"},fieldTypes:{relationClass:b,rootPropertyName:"FieldType"}}});var D=n(29261);const A=s.Z.extend({mixins:[a.Z],name:"MetadataListModel",context:["server","provider","section","metadataItem","identifier","mediaTagPrefix","mediaTagVersion","allowSync","excludeFields","excludeElements","excludeAllLeaves","includeRelated","includeCollections","includeExternalMedia","includeAdvanced","includeMeta"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion","allowSync"],entityType:p.METADATA_LIST,entityID(e=this.state){return(0,h.Z)(this.entityType,e.entityKey||e.containerKey||e.key||this.cid,(this.provider||this.server).entityID())},idAttribute:"containerKey",collectionName:"metadataItems",responseType(){return(0,c.Z)(this.server)},url(){const e=this.getPaginatedUrl(this.get("containerKey")||this.get("key")),t={excludeElements:this.excludeElements?this.excludeElements:void 0,excludeFields:this.excludeFields?this.excludeFields:void 0,excludeAllLeaves:this.excludeAllLeaves?1:void 0,includeRelated:this.includeRelated?1:void 0,includeCollections:this.includeCollections?1:void 0,includeExternalMedia:this.includeExternalMedia?1:void 0,includeAdvanced:this.includeAdvanced?1:void 0,includeMeta:this.includeMeta?1:void 0};return e?g.Z.join(e,t):e},sessionAttrs:{isMetadataList:o.Z.boolean,entityKey:o.Z.string,containerKey:o.Z.string,containerTitle:o.Z.string,currentPageStart:o.Z.integer,currentPageSize:o.Z.integer,populatedRange:o.Z.object,isPending:o.Z.boolean,isPopulated:o.Z.boolean,error:o.Z.object},syncedAttrs:{isDirectoryList:o.Z.boolean,isMetaPopulated:o.Z.boolean,key:o.Z.string,librarySectionID:o.Z.string,totalSize:o.Z.integer,viewGroup:o.Z.string,title:o.Z.string,thumb:o.Z.string,art:o.Z.string,banner:o.Z.string,theme:o.Z.string,allowSync:o.Z.boolean},syncedRelations:{metadataItems:{relationClass:D.Z,rootPropertyName:"Metadata",options:e=>({containerKey:e.containerKey||e.key}),setOptions:e=>({remove:e.remove,at:e.at})},meta:{relationClass:C,rootPropertyName:"Meta",deferred:!0}},derivedAttrs:{firstItemType(){const e=this.getCollection().first();return e?e.get("type"):this.attributes.firstItemType},firstItemSubtype(){const e=this.getCollection().first();return e?e.get("subtype"):this.attributes.firstItemSubtype},isFirstItemLibraryItem(){const e=this.getCollection().first();return e?e.get("isLibraryItem"):this.attributes.isFirstItemLibraryItem},isChannelsList(){const e=this.getCollection().first();return e?e.get("dvrChannel"):this.attributes.isChannelsList}},defaults:()=>({isMetadataList:!0,isDirectoryList:!1,populatedRange:{start:0,end:0,size:0},isPending:!0,isPopulated:!1,isMetaPopulated:!1,error:null}),initialize(e){this._totalSizeAdjustment=0,this.startPopulatedRangeMonitor(),this.on("change:key change:containerKey",this.onContainerKeyChange,this)},uninitialize(){this.off("change:key change:containerKey",this.onContainerKeyChange,this),this.stopListening()},augmentResponseText(e,t){const n=this.get("containerKey")||this.get("key"),i=/\/folder(\?|$)/.test(n);return t===l.Ls?(0,d.Z)(e,{includeDirectories:i}):e},augmentResponse(e,t){this.responseContext.forEach((t=>{const n=e[t];void 0!==n&&this.setContext(t,n)}));const n=u.Z.parseArray(e.Metadata),i=u.Z.parseArray(e.Directory),s=u.Z.parseInteger(e.totalSize);return this.allowAllLeaves||(e.Metadata=r().reject(n,(function(e){const t=/\/allLeaves$/.test(e.key);return t&&(this._totalSizeAdjustment-=1),t}),this)),!n.length&&e.Directory&&(e.Metadata=i,e.isDirectoryList=!0),this.includeMeta&&(e.isMetaPopulated=!0),s&&this._totalSizeAdjustment&&(e.totalSize=s-this._totalSizeAdjustment),!e.title&&e.title1&&(e.title=e.title1),e},onContainerKeyChange(e,t){const n=this.get("metadataItems"),i=this.syncedRelations.metadataItems.options(this.attributes);r().each(i,((e,t)=>{n.setContext(t,e)}))}})},28381:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Q});var i=n(13469),r=n.n(i),s=n(22618),o=n(88019),a=n(87023);const l=s.Z.extend({name:"TranscodeSessionModel",context:["server"],url(){return"/transcode/sessions/"+this.id},syncedAttrs:{key:o.Z.string,progress:o.Z.float,throttled:o.Z.boolean,speed:o.Z.float,duration:o.Z.integer,videoDecision:o.Z.string,audioDecision:o.Z.string,protocol:o.Z.string,container:o.Z.string,videoCodec:o.Z.string,audioCodec:o.Z.string,audioChannels:o.Z.integer,width:o.Z.string,height:o.Z.string,transcodeHwDecoding:o.Z.string,transcodeHwEncoding:o.Z.string,timeStamp:o.Z.integer,minOffsetAvailable:o.Z.integer,maxOffsetAvailable:o.Z.integer}});var c=n(88707),d=n(48497),u=n(34510),h=n(45200),p=n(91487),g=n(16215),m=n(30712),f=n(34738),y=n(71746),v=n(60964),b=n(61194),Z=n(2932),S=n(4120),I=n(89703),M=n(21235),w=n(50958),P=n(38784),C=n(44333),D=n(71065),A=n(49788);const x=s.Z.extend({name:"ChapterModel",context:["server","section"],syncedAttrs:{id:o.Z.integer,tag:o.Z.string,index:o.Z.integer,startTimeOffset:o.Z.integer,endTimeOffset:o.Z.integer,thumb:o.Z.string}}),E=A.Z.extend({name:"ChapterCollection",context:["server","section"],model:x,modelId:e=>`${e.id}_${e.index}`}),T=s.Z.extend({name:"ConcertModel",context:["server","section"],syncedAttrs:{id:o.Z.integer,at:o.Z.integer,tag:o.Z.string,venue:o.Z.string,city:o.Z.string,country:o.Z.string,url:o.Z.string}}),j=A.Z.extend({name:"ConcertCollection",context:["server","section"],model:T});var N=n(77982),O=n(40446),k=n(59387),L=n(32374),R=Object.defineProperty,z=Object.prototype.hasOwnProperty,V=Object.getOwnPropertySymbols,_=Object.prototype.propertyIsEnumerable,U=(e,t,n)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B=(e,t)=>{for(var n in t||(t={}))z.call(t,n)&&U(e,n,t[n]);if(V)for(var n of V(t))_.call(t,n)&&U(e,n,t[n]);return e};const F={guid:!0,librarySectionID:!0,librarySectionTitle:!0,librarySectionUUID:!0,librarySectionKey:!0,source:!0,Context:!0,file:!0,summary:!0,tagline:!0,action:!0,attributionLogo:!0,backgroundColor:!0};function H(e){let t=0;if(!e)return t;for(let n=0,i=e.length;n<i;n++){const i=e[n].Part;if(i)for(let e=0,n=i.length;e<n;e++){const n=i[e].Stream;n&&(t+=n.length)}}return t}function W(e=[]){return(0,O.Z)(e,L.Z,(e=>e))}function Y(e){return(e.hasOwnProperty("ratingKey")||e.hasOwnProperty("id"))&&e.hasOwnProperty("tag")}function G(e,t){t.forEach((t=>{null!=(null==e?void 0:e[t])&&"string"!=typeof e[t]&&(e[t]=e[t].toString())}))}const q=s.Z.extend({name:"MetadataModel",context:[["server",{boundDerivedAttrs:["serverEntityID"]}],["provider",{boundDerivedAttrs:["providerEntityID"]}],"section","playlist","identifier","mediaTagPrefix","mediaTagVersion","allowSync","containerKey","relatedOptions","includeExternalMedia"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion","allowSync"],entityType:I.METADATA_ITEM,entityID(e=this.state){let t;if(e.source){const{serverIdentifier:n}=(0,f.Z)(e.source);n!==this.server.get("machineIdentifier")&&(t=(0,S.Z)(I.SERVER,n))}return(0,S.Z)(this.entityType,e.key||this.cid,t,this.server.entityID())},idAttribute:"ratingKey",rootPropertyName:"Metadata",cache:new d.Z,mergeStrategy:function(e,t,n){return"Media"===e?function(e,t,n){return n&&!t?n:((i=n||t)&&i.some((e=>e.protocol===k.K))||function(e){return e&&e.some((e=>"livetv"===e.origin))}(n||t)?function(e,t){var n,i,r,s,o,a,l,c;if(!t)return null;const d=W(e),u=W(t),h=B(B({},d),u);for(const e in d){const t=d[e],p=u[e];t&&p&&t.Overlay.length&&!p.Overlay.length&&(h[e]=B(B({},h[e]),{Overlay:t.Overlay}));const g=null!=(s=null==(r=null==(i=null==(n=null==t?void 0:t.Part)?void 0:n[0])?void 0:i.Stream)?void 0:r.length)?s:0,m=null!=(c=null==(l=null==(a=null==(o=null==p?void 0:p.Part)?void 0:o[0])?void 0:a.Stream)?void 0:l.length)?c:0;t&&p&&g>m&&(h[e]=B(B({},h[e]),{Part:t.Part}))}return Object.keys(h).map((e=>h[e]))}(t,n):function(e,t){const n=H(t),i=H(e);return n||!i?t:e}(t,n))||(0,N.Z)(e,t,n);var i}(e,t,n):function(e){const t=Q.prototype.syncedAttrs[e];return!(!t||t!==o.Z.array)}(e)?function(e,t,n){if(!n)return t;if(!t)return n;if(n.length>t.length)return n;if(!n.length||n.length<t.length)return t;const i=t&&t[0],r=n&&n[0];if(!i&&r)return n;if(!r&&i)return t;const s=Y(i),o=Y(r);return s&&!o?t:n}(0,t,n):function(e){return!!Q.prototype.syncedRelations[e]}(e)||F[e]?(0,N.Z)(e,t,n):n},responseType(){const e=this.get("key");return e&&e.indexOf("/system/services/url/lookup")>-1?a.Ls:(0,p.Z)(this.server)},url(){const e={};return this.includeExternalMedia&&(e.includeExternalMedia=1),D.Z.join(this.get("key"),e)},urlRoot(){return this.get("key")},saveUrl(){return this.get("isPlaylist")&&!this.server.supports("truePlaylistsPath")?`/library/metadata/${this.get("ratingKey")}`:r().result(this,"url")},cacheKey(e){const t=this.extractChildrenKey(e.key);return e.source&&(t.key=e.source+t.key),this.server&&this.server.getScopedKey(t.key)},sessionAttrs:{isInUniversalWatchlist:o.Z.boolean.isRequired,isInUniversalWatchlistFetched:o.Z.boolean.isRequired,isPreFetched:o.Z.boolean,isStreamChangeInProgress:o.Z.boolean,isStreamDeleteInProgress:o.Z.boolean,metadataState:o.Z.string,mediaState:o.Z.string,isSettingsUpdating:o.Z.boolean,settingsUpdateError:o.Z.object,dvrChannel:o.Z.object,viewCountIncrementedByPlayQueueItemID:o.Z.string,downloadSubscriptionID:o.Z.string,isDownloaded:o.Z.boolean},syncedAttrs:{elementName:o.Z.string,ratingKey:o.Z.string,parentRatingKey:o.Z.string,grandparentRatingKey:o.Z.string,key:o.Z.string,childrenKey:o.Z.string,Context:o.Z.object,parentKey:o.Z.string,grandparentKey:o.Z.string,primaryExtraKey:o.Z.string,augmentationKey:o.Z.string,guid:o.Z.string,primaryGuid:o.Z.string,source:o.Z.string,sourceURI:o.Z.string,attribution:o.Z.string,attributionLogo:o.Z.string,action:o.Z.string,backgroundColor:o.Z.string,remoteMedia:o.Z.boolean,librarySectionID:o.Z.string,librarySectionTitle:o.Z.string,librarySectionUUID:o.Z.string,librarySectionKey:o.Z.string,type:o.Z.string,subtype:o.Z.string,title:o.Z.string,titleSort:o.Z.string,originalTitle:o.Z.string,parentTitle:o.Z.string,grandparentTitle:o.Z.string,year:o.Z.string,minYear:o.Z.string,maxYear:o.Z.string,tagline:o.Z.string,summary:o.Z.string,studio:o.Z.string,contentRating:o.Z.string,originallyAvailableAt:o.Z.string,thumb:o.Z.string,parentThumb:o.Z.string,grandparentThumb:o.Z.string,banner:o.Z.string,art:o.Z.string,parentArt:o.Z.string,grandparentArt:o.Z.string,hero:o.Z.string,theme:o.Z.string,parentTheme:o.Z.string,grandparentTheme:o.Z.string,chapterSource:o.Z.string,ratingImage:o.Z.string,audienceRating:o.Z.float,audienceRatingImage:o.Z.string,directory:o.Z.boolean,rating:o.Z.float,userRating:o.Z.float,playbackSpeed:o.Z.float,index:o.Z.integer,parentIndex:o.Z.integer,absoluteIndex:o.Z.integer,duration:o.Z.integer,preview:o.Z.boolean,viewOffset:o.Z.integer,viewCount:o.Z.integer,childCount:o.Z.integer,leafCount:o.Z.integer,viewedLeafCount:o.Z.integer,ratingCount:o.Z.integer,mediaCount:o.Z.integer,mediaCountOptimized:o.Z.integer,extraType:o.Z.integer,lastViewedAt:o.Z.integer,lastRatedAt:o.Z.integer,addedAt:o.Z.integer,updatedAt:o.Z.integer,deletedAt:o.Z.integer,Geolocation:o.Z.object,playlistID:o.Z.integer,playlistType:o.Z.string,specialPlaylistType:o.Z.string,radio:o.Z.boolean,smart:o.Z.boolean,readOnly:o.Z.boolean,icon:o.Z.string,composite:o.Z.string,content:o.Z.string,durationInSeconds:o.Z.integer,skipChildren:o.Z.boolean,skipParent:o.Z.boolean,skipDetails:o.Z.boolean,subscriptionID:o.Z.string,saved:o.Z.boolean,picked:o.Z.boolean,grandparentSubscriptionID:o.Z.string,subscriptionType:o.Z.string,grandparentSubscriptionType:o.Z.string,Channel:o.Z.array,onAir:o.Z.boolean,watchlistedAt:o.Z.integer,publicPagesURL:o.Z.string,Media:o.Z.array,Collection:o.Z.array,Director:o.Z.array,Producer:o.Z.array,Writer:o.Z.array,Studio:o.Z.array,Genre:o.Z.array,Mood:o.Z.array,Country:o.Z.array,Label:o.Z.array,Role:o.Z.array,Location:o.Z.array,Tag:o.Z.array,Autotag:o.Z.array,Marker:o.Z.array,indirect:o.Z.boolean,Origin:o.Z.object,requiresConsent:o.Z.boolean,Platform:o.Z.array,Publisher:o.Z.array},syncedRelations:{chapters:{relationClass:E,rootPropertyName:"Chapter",deferred:!0},preferences:{relationClass:c.Z,rootPropertyName:"Preferences",deferred:!0},onDeck:()=>({relationClass:q,rootPropertyName:"OnDeck",deferred:!0}),related(){const e={skipCache:!0};return this.relatedOptions&&r().extend(e,this.relatedOptions),{relationClass:n(97454).Z,rootPropertyName:"RelatedHubs",deferred:!0,options:e}},popularLeaves:()=>({relationClass:n(42751).Z,rootPropertyName:"PopularLeaves",deferred:!0}),extras:()=>({relationClass:n(42751).Z,rootPropertyName:"Extras",deferred:!0,attrs:e=>({containerKey:D.Z.join([e.key,"extras"])})}),concerts:{relationClass:j,rootPropertyName:"Concert",deferred:!0},stations:()=>({relationClass:n(29261).Z,rootPropertyName:"Stations",deferred:!0}),transcodeSession:{relationClass:l,rootPropertyName:"TranscodeSession",deferred:!0}},derivedAttrs:{identifier(){return this.identifier},serverEntityID(){if(!this.state)return null;const e=this.get("source");if(e){const{serverIdentifier:t}=(0,f.Z)(e);return(0,S.Z)(I.SERVER,t)}return this.server?this.server.entityID():null},providerEntityID(){if(!this.state)return null;const e=this.get("source");if(e){const{providerIdentifier:t}=(0,f.Z)(e);return(0,S.Z)(I.PROVIDER,t,this.get("serverEntityID"))}return this.provider?this.provider.entityID():null},mediaTagPrefix(){return this.mediaTagPrefix},mediaTagVersion(){return this.mediaTagVersion},allowSync(){return this.allowSync},containerKey(){return this.containerKey},isLibraryItem(){return this.isLibraryItem(this.get("identifier"),this.get("key"))},isPlaylist(){return this.get("type")===w.zg&&!this.get("radio")},isFolder(){return/\/folder\?parent=/.test(this.get("key"))},isExtra(){return!!this.get("extraType")},isPremium(){const e=this.get("Media")||[];return r().any(e,(e=>e.premium))},hasRadioStation(){const e=this.get("stations");return!!e&&!!e.findWhere({playlistType:P.j0})},hasArtistTVStation(){const e=this.get("stations");return!!e&&!!e.findWhere({playlistType:P.pX})},unviewedLeafCount(){const e=this.get("leafCount"),t=this.get("viewedLeafCount");if(e)return e-t},downloadUrl(){const e=this.get("Media");if(e&&1===e.length){const t=r().first(r().first(e).Part),n=t&&t.key;if(n)return()=>{const e=D.Z.join(n,{download:1});return this.server.resolveUrl(e,{appendToken:!0})}}}},defaults:{isInUniversalWatchlist:!1,isInUniversalWatchlistFetched:!1,isStreamChangeInProgress:!1,isStreamDeleteInProgress:!1,isSettingsUpdating:!1,isDownloaded:!1,settingsUpdateError:null,rating:0,onAir:!1,skipDetails:!1,Media:[],Collection:[],Director:[],Producer:[],Writer:[],Studio:[],Genre:[],Mood:[],Country:[],Label:[],Channel:[],Role:[],Location:[],Autotag:[],Tag:[],Platform:[],Publisher:[],requiresConsent:!1},fetch(e={}){return e.data&&(this._populatedParams=r().extend({},this._populatedParams,e.data)),e.usePopulatedParams&&(e.data=this._populatedParams),s.Z.prototype.fetch.call(this,e)},augmentResponseText:(e,t)=>t===a.Ls?(0,b.Z)(e):e,augmentResponse(e,t){var n;let i=e[this.rootPropertyName];i&&(Array.isArray(i)&&(i=i[0]),["attribution","augmentationKey","librarySectionID","librarySectionTitle","librarySectionUUID"].forEach((t=>{i[t]||(i[t]=e[t])})),e.type===w.GV&&(i.dvrChannel={identifier:e.identifier||e.id,thumb:e.thumb,title:e.title,callSign:e.callSign})),this.responseContext.forEach((t=>{const n=e[t]||i&&i[t];void 0!==n&&this.setContext(t,n)}));const s=i||e,o=s.Related,a=s.OnDeck,l=s.Stations,c=s.Preferences,d=this.extractChildrenKey(s.key);if(d.childrenKey&&(s.childrenKey=d.childrenKey,s.key=d.key),s.Media=this.convertMediaItems(s.Media),s.Role=this.convertRole(s.Role),s.Marker=this.convertMarkers(s.Marker),!s.source&&this.server){const e=(0,m.Z)({providerIdentifier:null==(n=this.provider)?void 0:n.get("identifier"),serverIdentifier:this.server.get("machineIdentifier")});s.source=e,s.sourceURI=`${e}${s.key}`}return o&&(s.RelatedHubs=r().compact([].concat(o.Hub,o.Directory))),a&&(s.OnDeck=a.Metadata),l&&(s.Stations=l.Metadata),c&&(s.Preferences=c.Setting),s.type===w.pV&&s.childrenKey&&(s.type=w.q8),s},extractChildrenKey(e){const t=/(.*)\/(children|items)$/.exec(e);let n;return t&&(n=e,e=t[1]),{childrenKey:n,key:e}},convertMediaItems(e){const t=Z.Z.parseArray(e);return r().each(t,(e=>{G(e,["id"]),v.Z.parseBoolean(e,["indirect","optimizedForStreaming","onAir","premium","premiere","selected"]),v.Z.parseInteger(e,["duration","width","height","bitrate","audioChannels","proxyType","beginsAt","endsAt","beginOffset","startOffsetSeconds","endOffsetSeconds"]),null==e.id&&null==e.uuid&&(e.uuid=`${e.container}-${e.protocol}-${e.audioCodec}`),v.Z.parseArray(e,"Overlay"),v.Z.parseArray(e,"Part"),r().each(e.Overlay,(e=>{null!=e.duration&&(e.duration=parseInt(e.duration,10)),e.startTimeOffset=parseInt(e.startTimeOffset,10)})),r().each(e.Part,(e=>{G(e,["id"]),null!=e.exists&&(e.exists=Z.Z.parseBoolean(e.exists)),null!=e.accessible&&(e.accessible=Z.Z.parseBoolean(e.accessible)),v.Z.parseInteger(e,["duration","size"]),v.Z.parseBoolean(e,"optimizedForStreaming"),v.Z.parseEncodedString(e,"file"),v.Z.parseArray(e,"Stream"),r().each(e.Stream,(e=>{G(e,["id"]),v.Z.parseBoolean(e,["anamorphic","selected","default","forced","timed","cabac","hasScalingMatrix","headerStripping"]),v.Z.parseInteger(e,["index","streamType","duration","width","height","bitrate","bitDepth","level","refFrames","samplingRate","channels","minLines","offset"]),v.Z.parseFloat(e,"frameRate")}))}))})),this.addNoneSubtitlesStreams(t)},convertRole(e){const t=Z.Z.parseArray(e);return r().each(t,(e=>{v.Z.parseBoolean(e,["directory"])})),t},convertMarkers(e){const t=Z.Z.parseArray(e);return r().each(t,(e=>{v.Z.parseInteger(e,["endTimeOffset","startTimeOffset"])})),t},addNoneSubtitlesStreams(e){const t=C.Z.get("subtitles");return e.forEach((e=>{const n=e.Part,i="livetv"===e.origin;n&&n.forEach((n=>{if(!n.Stream)return;if(!i&&!(0,g.Z)(e))return;const r=n.Stream.filter((e=>e.streamType===t.id));if(r.find((e=>e.id===h.H)))return;const s=r.find((e=>e.selected)),o={id:h.H,streamType:t.id,language:(0,M.Z)("None")};s||(o.selected=!0),n.Stream.unshift(o)}))})),e},getDownloadUrl(e=0){const t=this.get("Media")[e];if(t){const e=r().first(t.Part),n=e&&e.key;if(n){const e=D.Z.join(n,{download:1});return this.server.resolveUrl(e,{appendToken:!0})}}},getFilepath(e=0){const t=this.get("Media")[e];if(t){const e=r().first(t.Part);if(e)return e.file}},getLocation(){const e=this.get("Location");return e.length?r().first(e).path:this.getFilepath()},getMediaKey(){const e=r().first(this.get("Media"));if(e){const t=r().first(e.Part);if(t)return t.key}return this.get("key")},isLibraryItem(e,t){return!(this.provider&&!this.provider.get("isLibraryProvider"))&&(i=t,(n=e)?y.wB(n,y.Y3):/^(\/sync\/[\w\d-/]*)?\/library\//.test(i));var n,i},isPlexMusicItem(){const e=this.section;return e&&e.get("agent")===u.zR}}),Q=q},35084:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(19755),r=n.n(i),s=n(14710);const o={fetch(){return(0,s.Z)(!1,"A model or collection with a controlled populate promise cannot be fetched directly"),this.populatePromise},isPopulating(){return!!this.populatePromise&&"pending"===this.populatePromise.state()},_resetPopulate(){return this.isPopulating()||(this._populateDeferred=r().Deferred(),this.populatePromise=this._populateDeferred.promise()),this.populatePromise},_resolvePopulate(){return"resolved"===this.populatePromise.state()||("rejected"===this.populatePromise.state()&&this._resetPopulate(),this._populateDeferred.resolveWith(this,[this])),this.populatePromise},_rejectPopulate(){return"rejected"===this.populatePromise.state()||("resolved"===this.populatePromise.state()&&this._resetPopulate(),this._populateDeferred.rejectWith(this,[this])),this.populatePromise}}},34777:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s);function a(e){const t=o().clone(e);return void 0!==t.last?(t.end=t.last+1,t.size=t.end-t.start):void 0!==t.size?(t.end=t.start+t.size,t.last=t.end-1):void 0!==t.end&&(t.last=t.end-1,t.size=t.end-t.start),t}function l(e,t){return o().filter(o().map(e,a),(function(e){return t?e.size>=0:e.size>0}))}const c=function(e,t,n){return e=a(e),t=a(t),l([{start:e.start,last:Math.min(e.last,t.start-1)},{start:Math.max(e.start,t.end),last:e.last}],n)},d=function(e,t){let n=a(e);return(t=a(t)).size?(n.start>t.end&&(n={start:t.end,end:n.end}),n.end<t.start&&(n={start:n.start,end:t.start}),a(n)):n};var u=n(71065);const h={getCollectionName(){return this.collectionName||"items"},getCollection(){return this.get(this.getCollectionName())},getTotalSize(){return this.get("totalSize")||this.get("populatedRange").size},getPaginatedUrl(e){const t=this.get("currentPageStart"),n=this.get("currentPageSize");if(null!=t||null!=n){const i={"X-Plex-Container-Start":t||0,"X-Plex-Container-Size":n||0};return u.Z.join(e,i)}return e},getCollectionChangeEvents(){const e=this.getCollectionName();return[`change:${e}.update`,`change:${e}.reset`].join(" ")},startPopulatedRangeMonitor(){const e=this.getCollectionName();this.updatePopulatedRange(),this.on(this.getCollectionChangeEvents(),this.updatePopulatedRange,this),this.on(`change:${e}.destroy`,this.decrementTotalSize,this)},stopPopulatedRangeMonitor(){const e=this.getCollectionName();this.off(this.getCollectionChangeEvents(),this.updatePopulatedRange,this),this.off(`change:${e}.destroy`,this.decrementTotalSize,this)},fetchRange(e){const t=o().extend({},e,{remove:!1});return e.prepend&&(t.at=0),this.set({currentPageStart:e.start,currentPageSize:e.size}),this.fetch(t).promise()},populateRange(e){const t=this.getCollection(),n=this.get("populatedRange");let i=c(e,n)[0];if(!i)return r().Deferred().resolve().promise();if(i=d(i,n),this.isPopulating()){const e=this.get("currentPageStart")!==i.start,t=this.get("currentPageSize")!==i.size;if(!e&&!t)return this.populatePromise;this.abortPendingPopulate()}if(e.reloadThreshold&&i.size>e.reloadThreshold)return t.reset(),this.populateRange(o().omit(e,"reloadThreshold"));const s=o().extend({},e,i,{prepend:i.start<n.start});return this.fetchRange(s)},repopulateRange(e=0){const t=this.get("populatedRange").end;return this.set({currentPageStart:0,currentPageSize:Math.max(t,e)}),this.abortPendingPopulate(),this.fetch()},updatePopulatedRange(){const e=this.get("currentPageStart"),t=this.get("populatedRange").start,n=this.get("populatedRange").size,i=this.getCollection().length;let r;r=i?n?Math.min(t,null==e?1/0:e):e||t:0,this.set("populatedRange",{start:r,end:r+i,size:i})},decrementTotalSize(){const e=this.get("totalSize");e>0&&this.set("totalSize",e-1)}}},77982:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(13469),r=n.n(i);function s(e,t,n){return void 0===n||r().isObject(t)?t:n}},95485:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(19755),r=n.n(i),s=n(49788),o=n(15856),a=n(91487),l=n(66910),c=n(60561),d=n(22182),u=n(35785),h=n(71746),p=n(21235),g=n(58216);const m=s.Z.extend({name:"ProviderCollection",context:["server"],model:c.Z,url:"/media/providers",responseType(){return(0,a.Z)(this.server)},fetch(){var e;const t=this.server,n=this.parent,i=null==(e=null==n?void 0:n.get("features"))?void 0:e.map((e=>e.get("uuid"))),a=null==i?void 0:i.includes(o.ie);let m;return m=t.get("mediaProviders")||t.get("isCloud")?s.Z.prototype.fetch.apply(this,arguments):r().Deferred().resolve(this,"").promise(),m.then((e=>{(0,l.Z)(e,t)})),t.get("isCloud")&&a&&m.then((e=>{!function(e,t){e.get(h._)||e.add(new c.Z({isPending:!1,isPopulated:!0,identifier:h._,title:"Home Provider",features:[{type:u.Z.CONTENT,directories:[{id:"home",title:(0,p.Z)("Home"),pivots:[{id:"home.recommended",key:g.tk.HOME_RECOMMENDED,type:d.t3,title:(0,p.Z)("Recommended")},{id:"home.watchlist",context:"content.watchlist",key:g.tk.HOME_WATCHLIST,type:d.t3,title:(0,p.Z)("Watchlist")}]}]}]},{server:t}))}(e,t)})),m}})},62005:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(49788),r=n(52878),s=n(35785),o=n(55232);const a=i.Z.extend({name:"ProviderEPGChannelCollection",context:["server","provider"],model:r.Z,url(){return this.provider.get("features").get(s.Z.SETTINGS).get("settings").get(o.Pt).get("key")}})},52878:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22618),r=n(88019);const s=i.Z.extend({name:"ProviderEPGChannelModel",context:["provider"],rootPropertyName:"Channel",syncedAttrs:{id:r.Z.string,thumb:r.Z.string,title:r.Z.string,hidden:r.Z.boolean}})},10135:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var i=n(49788),r=n(75134),s=n(35785),o=n(15856),a=n(22618),l=n(88019);const c=a.Z.extend({name:"ProviderActionModel",context:["server","provider"],syncedAttrs:{id:l.Z.string,key:l.Z.string,reverseKey:l.Z.string,requires:l.Z.string}}),d=i.Z.extend({name:"ProviderActionCollection",context:["server","provider"],model:c});var u=n(94987),h=n(22182);const p=a.Z.extend({name:"PivotModel",idAttribute:"key",syncedAttrs:{key:l.Z.string.isRequired,type:l.Z.oneOf(h.km,h.IY,h.t3).isRequired,id:l.Z.string,title:l.Z.string.isRequired,context:l.Z.string.isRequired,requires:l.Z.string,libraryKey:l.Z.string}}),g=i.Z.extend({name:"PivotCollection",model:p}),m=a.Z.extend({name:"ProviderDirectoryModel",context:["server","provider"],syncedAttrs:{id:l.Z.string,key:l.Z.string,hubKey:l.Z.string,title:l.Z.string,icon:l.Z.string,type:l.Z.string,subtype:l.Z.string,agent:l.Z.string,refreshing:l.Z.boolean,updatedAt:l.Z.integer,scannedAt:l.Z.integer,context:l.Z.string},syncedRelations:{pivots:{relationClass:g,rootPropertyName:"Pivot",deferred:!0}}}),f=i.Z.extend({name:"ProviderDirectoryCollection",context:["server","provider"],model:m,modelId:e=>e.key||e.hubKey}),y=a.Z.extend({name:"ProviderFeatureModel",context:["server","provider"],sessionAttrs:{isSettingsPending:l.Z.boolean,isSettingsPopulated:l.Z.boolean,settingsError:l.Z.object},syncedAttrs:{id:l.Z.string,key:l.Z.string,reverseKey:l.Z.string,scrobbleKey:l.Z.string,unscrobbleKey:l.Z.string,type:l.Z.string,flavor:l.Z.string,requires:l.Z.string,automaticLibraryFolders:l.Z.boolean,public:l.Z.boolean,storageTotal:l.Z.integer},syncedRelations:{directories:{relationClass:f,rootPropertyName:"Directory",deferred:!0},settings:{relationClass:u.Z,rootPropertyName:"Setting",deferred:!0},actions:{relationClass:d,rootPropertyName:"Action",deferred:!0,setOptions:{remove:!1}}},defaults:{isSettingsPending:!0,isSettingsPopulated:!1}}),v=i.Z.extend({name:"ProviderFeatureCollection",context:["server","provider"],model:y,modelId:e=>e.type===s.Z.ACTION?e.id:e.type,augmentResponse(e){let t=e.find((e=>e.type===s.Z.ACTIONS));return null==t||Array.isArray(t.Action)||(t.Action=t.Action?[t.Action]:[]),null==t&&(t={Action:[],type:s.Z.ACTIONS},e.push(t)),e.forEach((e=>{if(e.type===s.Z.TIMELINE&&(null!=e.scrobbleKey||null!=e.unscrobbleKey)){const{scrobbleKey:n,unscrobbleKey:i}=e;t.Action.push({id:r.lq,key:n,reverseKey:i}),delete e.scrobbleKey,delete e.unscrobbleKey}if(e.type===s.Z.RATE){const{key:n}=e;t.Action.push({id:r.zw,key:n}),delete e.key}if(e.type===s.Z.ACTION&&(null!=e.key||null!=e.reverseKey)){const{key:n,reverseKey:i}=e;t.Action.push({id:e.id,key:n,reverseKey:i}),delete e.key,delete e.reverseKey}e.type===s.Z.ACTIONS&&e.Action.forEach((e=>{e.id!==r.JL&&e.id!==r.FH&&e.id!==r.LE||(e.requires=o.sy)})),e.type===s.Z.SETTINGS&&(e.requires=o.sy)})),e}})},60561:(e,t,n)=>{"use strict";n.d(t,{Z:()=>W});var i=n(19755),r=n.n(i),s=n(22618),o=n(88019),a=n(77982),l=n(87023),c=n(25859),d=n(35785),u=n(71746),h=n(15856),p=n(54676),g=n(22182),m=n(59387),f=n(42780),y=n(21235),v=n(50958),b=n(38784),Z=n(71065),S=n(58216);function I(e){return{key:e.hubKey,type:g.km,title:(0,y.Z)("Recommended"),context:p.$s}}function M(e,t){return{key:(0,f.Z)(e.id,t),libraryKey:e.key,type:g.IY,title:(0,y.Z)("Library"),context:p.SO,isContent:!0}}function w(e){const t=v.nW(v.du);return{key:Z.Z.join([e.key,"all"],{type:t.id}),type:g.IY,title:(0,y.Z)("Collections"),context:p.oM}}function P(e,t){const n=e.key.match(/\/library\/sections\/(\w+)/)[1],i=v.nW(v.zg);return Z.Z.join("/playlists/all",{type:i.id,playlistType:t,sectionID:n})}function C(e,t){return{key:P(e,t),type:g.IY,title:(0,y.Z)("Playlists"),context:p.dS}}function D(e){return e&&-1!==e.split(",").indexOf(m.K)}function A(e,t){return e&&e.some((e=>e.type===t))}function x(e,t,n){return n.type===e&&(null==t&&null==n.subtype||null!=t&&n.subtype===t)}function E(e,t){return/\/library\/sections\/(\w+)/.test(t.key)&&x(e,null,t)}var T=n(51095),j=n(4120),N=n(89703),O=n(54462),k=n(14398),L=n(10135),R=Object.defineProperty,z=Object.prototype.hasOwnProperty,V=Object.getOwnPropertySymbols,_=Object.prototype.propertyIsEnumerable,U=(e,t,n)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B=(e,t)=>{for(var n in t||(t={}))z.call(t,n)&&U(e,n,t[n]);if(V)for(var n of V(t))_.call(t,n)&&U(e,n,t[n]);return e};function F(e){return{"X-Plex-Text-Format":(0,c.Z)(e),"X-Plex-Provider-Version":"3.2"}}const H=N.PROVIDER,W=s.Z.extend({name:"ProviderModel",context:["server"],entityType:H,entityID(e=this.state){return function({identifier:e,serverEntityID:t}){return(0,j.Z)(H,e,t)}({identifier:e.identifier,serverEntityID:this.server.entityID()})},idAttribute:"identifier",rootPropertyName:"MediaProvider",responseType:l.AV,url(){return this.get("baseURL")},mergeStrategy:(e,t,n)=>"protocols"===e&&n&&n.length>0?n:(0,a.Z)(e,t,n),syncedAttrs:{id:o.Z.integer,parentID:o.Z.integer,identifier:o.Z.string,providerIdentifier:o.Z.string,baseURL:o.Z.string,title:o.Z.string,sourceTitle:o.Z.string,types:o.Z.list,protocols:o.Z.list,subscriptions:o.Z.boolean,icon:o.Z.string,epgSource:o.Z.string,source:o.Z.string},sessionAttrs:{isPending:o.Z.boolean,isPopulated:o.Z.boolean,error:o.Z.object},syncedRelations:{features:{relationClass:L.Z,rootPropertyName:"Feature",options(){return{provider:this}},setOptions:{remove:!1}}},derivedAttrs:{isLibraryProvider(){return u.wB((0,T.Z)(this.get("identifier"),this.get("providerIdentifier")),u.Y3)},metricsIdentifier(){const e=this.get("providerIdentifier")||this.get("identifier");return u.wB(e,u.Ll)?e.split(":")[0]:e}},populate(){return this.get("isPopulated")?r().Deferred().resolve(this).promise():s.Z.prototype.populate.apply(this,arguments)},resolveUrl(e,t){const n=B({},t);return this.url()&&(n.baseUrl=this.url()),this.server.resolveUrl(e,n)},getXHROptions(e,t={}){const n=(0,k.Z)(e)?e:Z.Z.join([this.get("baseURL"),e]),i=this.get("providerIdentifier")||this.get("identifier"),r=this.server.getXHROptions(n,B(B({},t),{headers:B(B({},F(i)),t.headers)}));return this.server.get("isCloud")&&(delete r.headers["X-Plex-Username"],delete r.headers["X-Plex-Device-Name"]),r},defaults:()=>({protocols:[],isPending:!0,isPopulated:!1,error:null}),augmentResponse(e){if(e.MediaProvider&&(e=e.MediaProvider),!e.Feature)return e;const t=u.wB(e.identifier,u.Y3);return e.Feature.forEach((n=>{if(n.type===d.Z.SETTINGS&&(n.Setting=[]),!n.Directory||n.type!==d.Z.CONTENT)return;let i;if(!n.key&&t&&(n.key="/library/sections"),n.Directory.forEach(((t,n)=>{var r;const s=t.key||t.hubKey;!t.id&&s&&(t.id=(0,O.Z)(s)),t.type===v.zg&&(i=n),t.Pivot||(t.Pivot=function(e,t,n){return e.hubKey||"/playlists"===e.key?E(v.R0,e)?[I(e),M(e,v.R0),C(e,b.j0)]:E(v.wR,e)?[I(e),M(e,v.wR),w(e),C(e,b.pX)]:E(v.nr,e)?[I(e),M(e,v.nr),w(e),C(e,b.pX)]:E(v.pV,e)?[I(e),{key:S.tk.TIMELINE,type:g.t3,title:(0,y.Z)("Timeline"),context:p.IL},M(e,v.pV),C(e,b.pV)]:D(t)&&A(n,d.Z.SUBSCRIBE)?[{key:e.hubKey,type:g.km,title:(0,y.Z)("Recommended"),context:p.fr},{key:S.tk.GUIDE,type:g.t3,title:(0,y.Z)("Guide"),context:p.W3},{key:S.tk.RECORDING_SCHEDULE,type:g.t3,title:(0,y.Z)("DVR Schedule"),context:p.cI}]:D(t)||A(n,d.Z.GRID)?[{key:e.hubKey,type:g.km,title:(0,y.Z)("Recommended"),context:p.fr},{key:S.tk.GUIDE,type:g.t3,title:(0,y.Z)("Guide"),context:p.W3}]:x(v.zg,null,e)?[{key:Z.Z.join(e.key,{playlistType:b.j0}),type:g.IY,title:(0,y.Z)("Music"),context:p.dS},{key:Z.Z.join(e.key,{playlistType:b.pX}),type:g.IY,title:(0,y.Z)("Video"),context:p.dS},{key:Z.Z.join(e.key,{playlistType:b.pV}),type:g.IY,title:(0,y.Z)("Photo"),context:p.dS}]:[]:[]}(t,e.protocols,e.Feature)),Array.isArray(t.Pivot)||(t.Pivot=[t.Pivot]),t.Pivot.forEach((e=>{e.id&&e.id.match(/\.(saved|watchlist|playlists)$/)&&(e.requires=h.sy)}));const o=u.wB(e.identifier,u.uk),a=this.parent,l=null==(r=null==a?void 0:a.get("features"))?void 0:r.map((e=>e.get("uuid"))),c=null==l?void 0:l.includes(h.ie);o&&c&&(t.Pivot=t.Pivot.filter((e=>!e.id.match(/\.watchlist$/))))})),i&&i<n.Directory.length-1){const e=n.Directory[i];n.Directory.splice(i,1),n.Directory.push(e)}})),t&&!e.Feature.find((e=>e.type===d.Z.CONTINUE_WATCHING))&&e.Feature.push({type:d.Z.CONTINUE_WATCHING,key:"/hubs?identifier=home.continue,home.ondeck"}),e}})},94987:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var i=n(49788),r=n(22618),s=n(88019);const o=r.Z.extend({name:"ProviderCountryModel",context:["server","provider"],idAttribute:"code",rootPropertyName:"Country",syncedAttrs:{code:s.Z.string,title:s.Z.string,postalCodeFormat:s.Z.string,flavor:s.Z.string}});var a=n(35785);const l=i.Z.extend({name:"ProviderCountryCollection",context:["server","provider"],url(){return`${this.provider.get("features").findWhere({type:a.Z.LOCATION}).get("key")}/countries`},model:o});var c=n(62005),d=n(52878),u=n(55232);const h=i.Z.extend({name:"ProviderEPGChannelCollection",context:["server","provider"],model:d.Z,url(){return this.provider.get("features").get(a.Z.SETTINGS).get("settings").get(u.x8).get("key")}}),p=r.Z.extend({name:"ProviderSettingOptionsModel",context:["server","provider"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:s.Z.string,title:s.Z.string,type:s.Z.string,selected:s.Z.boolean}}),g=i.Z.extend({name:"ProviderSettingOptionsCollection",context:["server","provider"],model:p});var m=n(2932);const f={int:m.Z.parseInteger,bool:m.Z.parseBoolean,double:m.Z.parseFloat},y=r.Z.extend({name:"ProviderSettingModel",context:["server","provider"],rootPropertyName:"Setting",url(){return this.get("key")},sessionAttrs:{isOptionsPending:s.Z.boolean,isOptionsPopulated:s.Z.boolean,optionsError:s.Z.object,isLocationsPending:s.Z.boolean,isLocationsPopulated:s.Z.boolean,locationsError:s.Z.object,isLineupPending:s.Z.boolean,isLineupPopulated:s.Z.boolean,lineupError:s.Z.object},syncedAttrs:{country:s.Z.string,countryLabel:s.Z.string,hidden:s.Z.boolean,id:s.Z.string,key:s.Z.string,label:s.Z.string,multiselect:s.Z.boolean,postalCode:s.Z.string,required:s.Z.boolean,selectedCount:s.Z.integer,summary:s.Z.string,type:s.Z.string,value:s.Z.oneOfType(s.Z.string,s.Z.boolean,s.Z.float),min:s.Z.float,max:s.Z.float,step:s.Z.float,enumValues:s.Z.string,default:s.Z.string},sessionRelations:{locations:{relationClass:l},lineup:{relationClass:c.Z},recentChannelsInGrid:{relationClass:h}},syncedRelations:{settings:()=>({relationClass:n(94987).Z,rootPropertyName:"Setting",deferred:!0}),options:{relationClass:g,options:e=>({url:e.key})}},defaults:{isOptionsPending:!0,isOptionsPopulated:!1,optionsError:null,isLocationsPending:!0,isLocationsPopulated:!1,locationsError:null,isLineupPending:!0,isLineupPopulated:!1,lineupError:null},augmentResponse(e){const t=f[e.type];return t&&(e.value=t(e.value)),e}}),v=i.Z.extend({name:"ProviderSettingCollection",context:["server","provider"],url:"/settings",model:y})},74275:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>o});var i=n(22618),r=n(88019),s=n(88707);const o=i.Z.extend({name:"MediaGrabberDeviceModel",context:["server"],rootPropertyName:"Device",idAttribute:"key",sessionAttrs:{isChannelsPending:r.Z.boolean,isChannelsPopulated:r.Z.boolean,channelsError:r.Z.object,selectedSource:r.Z.string,isSaving:r.Z.boolean,saveError:r.Z.object},syncedAttrs:{key:r.Z.integer,uuid:r.Z.string,parentID:r.Z.integer,uri:r.Z.string,protocol:r.Z.string,status:r.Z.string,state:r.Z.string,lastSeenAt:r.Z.integer,make:r.Z.string,model:r.Z.string,modelNumber:r.Z.string,source:r.Z.integer,sources:r.Z.list,title:r.Z.string,tuners:r.Z.integer,thumb:r.Z.string,unsupported:r.Z.boolean},syncedRelations:{prefs:{relationClass:s.Z,rootPropertyName:"Setting",deferred:!0,save:!0}},defaults:{isChannelsPending:!1,isChannelsPopulated:!1,channelsError:null,isSaving:!1,saveError:null,unsupported:!1}})},63489:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(49788),r=n(22618),s=n(88019),o=n(74275);const a=i.Z.extend({name:"MediaGrabberDeviceCollection",context:["server"],model:o.ZP,url:"/media/grabbers/devices"});var l=n(88707);const c=r.Z.extend({name:"DVRModel",context:["server"],rootPropertyName:"Dvr",idAttribute:"key",syncedAttrs:{key:s.Z.integer},sessionAttrs:{isSaving:s.Z.boolean,saveError:s.Z.object},syncedRelations:{devices:{relationClass:a,rootPropertyName:"Device"},prefs:{relationClass:l.Z,rootPropertyName:"Setting",deferred:!0,save:!0}},defaults:{isSaving:!1,saveError:null}}),d=i.Z.extend({name:"DVRCollection",context:["server"],model:c,url:"/livetv/dvrs"})},87023:(e,t,n)=>{"use strict";n.d(t,{Ls:()=>a,AV:()=>l,fL:()=>c});var i=n(13469),r=n.n(i),s=n(2932);function o(e,t){return t||(t={}),r().defaults(t,{typeName:e,parse:r().bind(s.Z.parseType,s.Z,e)})}const a=o("xml",{accept:"application/xml"}),l=o("json",{accept:"application/json"}),c=o("text")},96543:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(13469),r=n.n(i),s=n(49788),o=n(76580),a=n(22618),l=n(88019),c=n(87023);const d=a.Z.extend({name:"AgentAttributionModel",context:["server"],responseType:c.fL,syncedAttrs:{content:l.Z.string},url:function(){return"/system/agents/attribution?identifier="+this.parent.id},augmentResponse:function(e){return{content:e}}});var u=n(40688);const h=a.Z.extend({name:"LanguageModel",context:["server"],idAttribute:"code",rootPropertyName:"Language",syncedAttrs:{code:l.Z.string,title:l.Z.string,default:l.Z.boolean},derivedAttrs:{name:function(){return this.get("title")||(e=this.get("code"),u.ZP[e]||"");var e}}}),p=s.Z.extend({name:"LanguageCollection",context:["server"],model:h,comparator:"name"}),g=a.Z.extend({name:"AgentModel",context:["server"],idAttribute:"identifier",rootPropertyName:"Agent",sessionAttrs:{isPrimary:l.Z.boolean,selected:l.Z.boolean},sessionRelations:{attribution:{relationClass:d}},syncedAttrs:{identifier:l.Z.string,name:l.Z.string,enabled:l.Z.boolean,hasPrefs:l.Z.boolean,order:l.Z.string},syncedRelations:{languages:{relationClass:p,rootPropertyName:"Language"}}}),m=s.Z.extend({name:"AgentCollection",context:["server","mediaTypeID","primaryAgentID","relatedAgentID"],model:g,cache:new o.Z,cacheKey:function(){var e;const t=r().result(this,"url");return null==(e=this.server)?void 0:e.getScopedKey(t)},url:function(){const e="/system/agents";return this.primaryAgentID?e+"/contributors?mediaType="+this.mediaTypeID+"&primaryAgent="+this.primaryAgentID:this.relatedAgentID?e+"/"+this.relatedAgentID+"/config/"+this.mediaTypeID:this.mediaTypeID?e+"?mediaType="+this.mediaTypeID:e},hasExclusiveAgent:function(e){return!!r().intersection(this.pluck("identifier"),e).length}})},9322:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(13469),r=n.n(i),s=n(49788),o=n(80731),a=n(58182),l=n(59695);const c=(e,t)=>!e.get("relay")&&t.get("relay")?e:!t.get("relay")&&e.get("relay")||!e.get("isLoopback")&&t.get("isLoopback")?t:!t.get("isLoopback")&&e.get("isLoopback")?e:!e.get("isPrivate")&&t.get("isPrivate")?t:!t.get("isPrivate")&&e.get("isPrivate")?e:!e.get("isHttps")&&t.get("isHttps")?t:(!t.get("isHttps")&&e.get("isHttps"),e),d=s.Z.extend({name:"ConnectionCollection",context:["server"],model:l.Z,getBestConnection(){const e=o.Z.allowHttpsMediaServerConnections,t=!this.server||this.server.get("isCloud")||e,n=this.filter((e=>e.get("isConnected")&&(t||!e.get("isHttps"))));if(n.length)return r().reduce(n,c)},hasBetterConnectionCandidates(){const e=this.server&&this.server.get("activeConnection");return this.some((t=>{const n=t.get("isUntested")||t.get("isPending"),i=!e||t!==e&&c(t,e)===t;return n&&i}))},hasOnlyFailedConnections(){return this.every((e=>e.get("isFailed")))},hasFailedEveryDirectConnection(){return this.where({relay:!1}).every((e=>e.get("isFailed")))},hasMultiplePrivateV4Subnets(){let e;return this.some((t=>{const n=t.get("address");if(t.get("isPrivate")&&a.q1(n)){const t=a.iX(n);return e||(e=t),e!==t}}))}})},59695:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(13469),r=n.n(i),s=n(22618),o=n(88019),a=n(49037),l=n(14710),c=n(58182),d=n(71065),u=n(49788);const h=s.Z.extend({name:"ConnectionSourceModel",context:["server"],sessionAttrs:{id:o.Z.string}}),p=u.Z.extend({name:"ConnectionSourceCollection",context:["server"],model:h}),g=o.Z.boolean.isRequired,m=s.Z.extend({name:"ConnectionModel",context:["server"],idAttribute:"uri",sessionAttrs:{currentTest:o.Z.custom((e=>Array.isArray(e)&&e.every((e=>r().isFunction(e.abort))))),testState:o.Z.oneOf(a.uf,a.hA,a.nm,a.WY,a.nZ,a.c9).isRequired,isBundled:g,isFallback:g},sessionRelations:{sources:{relationClass:p}},syncedAttrs:{uri:o.Z.string,scheme:o.Z.string,address:o.Z.string,port:o.Z.string,relay:o.Z.boolean},derivedAttrs:{isUntested(){return this.get("testState")===a.uf},isPending(){return this.get("testState")===a.hA},isConnected(){return this.get("testState")===a.nm},isUnauthorized(){return this.get("testState")===a.WY},isUnavailable(){return this.get("testState")===a.nZ},isFailed(){return this.get("isUnauthorized")||this.get("isUnavailable")},isAborted(){return this.get("testState")===a.c9},isLoopback(){const e=this.get("address");return"localhost"===e||c.lv(e)},isPrivate(){return this.get("isLoopback")||c.KF(this.get("address"))},isHttps(){return"https"===this.get("scheme")},isSecure(){return this.get("isLoopback")||this.get("isHttps")},isPlexDirect(){return/\.plex\.direct:/.test(this.get("uri"))}},defaults:{testState:a.uf,isBundled:!1,isFallback:!1,relay:!1},url(){return this.get("uri")},constructor:function(e,t){const n=r().clone(e);r().isObject(e)&&!e.uri&&((0,l.Z)(e.scheme&&e.address,`A server connection requires either a uri or a scheme and address. ${e.scheme}://${e.address}`),n.uri=`${e.scheme}://${e.address}`,e.port&&(n.uri+=":"+e.port)),s.Z.prototype.constructor.call(this,n,t)},initialize(){this.listenTo(this.get("sources"),"remove reset",this.onSourcesChange)},augmentResponse(e){const t=e.protocol;return t?r().extend({},e,{scheme:t}):e},getAddressFromUri(){return d.Z.parseUrl(this.get("uri")).hostname},getIpAddressFromPlexDirectAddress(){return function(e){if(/\.plex\.direct$/.test(e)){const t=e.indexOf(".");t>0&&(e=(e=e.substring(0,t)).replace(/-/g,"."))}return e}(this.get("address"))},getLoopbackAttributes(){return{scheme:"http",address:"127.0.0.1",port:this.get("port")}},hasSource(e){return this.get("sources").some((t=>e&&t.get("id")===e))},onSourcesChange(){this.get("sources").length||this.trigger("destroy",this,this.collection)}})},79087:(e,t,n)=>{"use strict";n.d(t,{GI:()=>l,xD:()=>c,Gu:()=>d,OM:()=>u,Q2:()=>h,uy:()=>p,uX:()=>g,HP:()=>m,ZP:()=>f});var i=n(22618),r=n(88019),s=n(87023),o=n(86076);const a="ok",l="unknown",c="waiting",d="mapped",u="ok",h="connecting",p="disconnecting",g="unreachable",m="",f=i.Z.extend({context:["server"],url:"/myplex/account",responseType:s.AV,sessionAttrs:{remoteAccessState:r.Z.oneOf(h,p,g,u,m)},syncedAttrs:{username:r.Z.string,mappingState:r.Z.oneOf(l,c,"failed",d),mappingError:r.Z.oneOf("badauth","unreachable","myplexgone","publisherror","doublenat","jumboframes",""),signInState:r.Z.oneOf("none","unknown","invalid",a),publicAddress:r.Z.string,publicPort:r.Z.integer,privateAddress:r.Z.string,privatePort:r.Z.integer,subscriptionActive:r.Z.boolean,subscriptionState:r.Z.string},derivedAttrs:{signedIn(){return this.get("signInState")===a},isWaiting(){const e=this.get("remoteAccessState");return e===h||e===p}},defaults:{signedIn:!1,mappingState:null,mappingError:null,signInState:null,publicAddress:null,publicPort:null,privateAddress:null,privatePort:null},isNew(){return!this.get("signedIn")},augmentResponse(e){let t=e.MyPlex;t||(o.Z.warn(`[Account] Failed to get reachable information for account - received ${JSON.stringify(e)}`),t={});const n=t.signInState===a;n||(t.username=null);const i=!n||t.mappingError,r=!i&&t.mappingState===d;return i?t.remoteAccessState=g:r&&(t.remoteAccessState=u),t}})},4141:(e,t,n)=>{"use strict";n.d(t,{Ar:()=>se,Hq:()=>re,ZP:()=>le});var i=n(13469),r=n.n(i),s=n(28941),o=n(98984),a=n(81494),l=n(94566),c=n(22618),d=n(3305),u=n(88019),h=n(80731),p=n(68918),g=n(95584),m=n(34777),f=n(91487),y=n(71065),v=n(49788),b=n(19755),Z=n.n(b),S=n(21451),I=n(87023),M=n(61194),w=n(28381),P=n(4120),C=n(89703);const D=c.Z.extend({name:"PlaylistItemModel",context:["server","provider","playlist"],entityType:C.PLAYLIST_ITEM,entityID(e=this.state){return(0,P.Z)(this.entityType,e.playlistItemID||e.key,this.server.entityID())},idAttribute:"playlistItemID",syncedAttrs:{playlistItemID:u.Z.string,key:u.Z.string,type:u.Z.string},syncedRelations:{metadataItem:{relationClass:w.Z,deferred:!0}},augmentResponse:e=>({playlistItemID:e.playlistItemID,key:e.key,type:e.type,metadataItem:e})}),A=v.Z.extend({name:"PlaylistItemCollection",context:["server","provider","playlist"],model:D}),x=c.Z.extend({mixins:[m.Z],name:"PlaylistItemListModel",context:["server","provider","playlist","includeExternalMedia"],idAttribute:"key",collectionName:"metadataItems",url(){let e=this.getPaginatedUrl(this.get("containerKey"));return this.includeExternalMedia&&(e=y.Z.join(e,{includeExternalMedia:1})),e},sessionAttrs:{containerKey:u.Z.string,currentPageStart:u.Z.integer,currentPageSize:u.Z.integer,populatedRange:u.Z.object},syncedAttrs:{totalSize:u.Z.integer},syncedRelations:{metadataItems:{relationClass:A,rootPropertyName:"Metadata",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()},augmentResponseText:(e,t)=>t===I.Ls?(0,M.Z)(e):e}),E=c.Z.extend({name:"PlaylistModel",context:["server","containerKey"],idAttribute:"ratingKey",rootPropertyName:"Playlist",urlRoot:"/playlists",saveUrl(){return this.server.supports("truePlaylistsPath")?r().result(this,"url"):`/library/metadata/${this.id}`},sessionAttrs:{isPlaylist:u.Z.boolean,isLibraryItem:u.Z.boolean},syncedAttrs:{ratingKey:u.Z.string,key:u.Z.string,guid:u.Z.string,type:u.Z.string,playlistType:u.Z.string,title:u.Z.string,titleSort:u.Z.string,composite:u.Z.string,summary:u.Z.string,smart:u.Z.boolean,allowSync:u.Z.boolean,duration:u.Z.integer,durationInSeconds:u.Z.integer,leafCount:u.Z.integer,addedAt:u.Z.integer,updatedAt:u.Z.integer},sessionRelations:{children:{relationClass:x,attrs(e){const t={};return"audio"===e.playlistType&&(t.includeRelated=1),{containerKey:y.Z.join(["/playlists",e.ratingKey,"items"],t)}},options(){return{playlist:this}}}},defaults:{isPlaylist:!0,isLibraryItem:!0},findItem(e){return this.get("children").getCollection().findWhere({playlistItemID:e})},moveItem(e,t){if(void 0===e)return;const n=t?{after:t}:{},i=y.Z.join([r().result(this,"url"),"/items/",e,"/move"],n),s=r().extend(this.server.getXHROptions(i),{type:"PUT"}),o=Z().ajax(s),a=this.get("children").getCollection(),l=this.findItem(e);a.remove(l);const c=this.findItem(t),d=c?a.indexOf(c)+1:0;return a.add(l,{at:d}),o},removeItem(e){if(void 0===e)return;const t=y.Z.join([r().result(this,"url"),"/items/",e]),n=r().extend(this.server.getXHROptions(t),{type:"DELETE"}),i=Z().ajax(n);i.then((e=>{this.set(this.parse(e))}));const s=this.get("children").getCollection(),o=this.findItem(e);return s.remove(o),s.trigger("destroy",o,s),i},addContent(e,t){const n=this.isNew()?"POST":"PUT",i=[r().result(this,"url")],s={};this.isNew()?(s.type=this.get("playlistType"),s.title=this.get("title"),s.smart=this.get("smart")?1:0):i.push("/items"),e.get("playQueueID")?s.playQueueID=e.get("playQueueID"):s.uri=S.Z.uri(e,t);const o=y.Z.join(i,s),a=r().extend(e.server.getXHROptions(o),{type:n}),l=Z().ajax(a);return l.then((e=>{this.set(this.parse(e))})),l.promise()},isLibraryItem:(e,t)=>!0,isPlexMusicItem:()=>!1}),T=v.Z.extend({name:"PlaylistCollection",context:["server","containerKey"],model:E,url(){return this.containerKey}}),j=c.Z.extend({mixins:[m.Z],name:"PlaylistListModel",context:["server","section"],idAttribute:"key",collectionName:"playlists",responseType(){return(0,f.Z)(this.server)},url(){return this.getPaginatedUrl(r().result(this,"containerKey"))},containerKey(){const e=this.section.get("currentType"),t=this.section.get("currentSort"),n={type:15};return n.sort=t?t.id+":"+(t.get("direction")||"asc"):"titleSort:asc",e&&(n.playlistType=e),this.section.get("onlyDumb")&&(n.smart=0),y.Z.join("/playlists/all",n)},sessionAttrs:{isPlaylistList:u.Z.boolean,currentPageStart:u.Z.integer,currentPageSize:u.Z.integer,populatedRange:u.Z.object},syncedAttrs:{totalSize:u.Z.integer},syncedRelations:{playlists:{relationClass:T,rootPropertyName:"Playlist",options(e){return{containerKey:r().result(this,"containerKey")}},setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({isPlaylistList:!0,populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()},augmentResponse:e=>(e.Metadata&&(e.Playlist=e.Metadata,delete e.Metadata),e)}),N=p.Z.extend({name:"PlaylistsSectionModel",defaults(){return{pseudo:!0,currentType:0,sorts:new g.Z([],{section:this,server:this.server}),items:new j({},{section:this,server:this.server})}},url:()=>"/playlists"});var O=n(94928),k=n(35084),L=n(77982),R=n(95485),z=n(21847),V=n(48497),_=n(26120),U=n(14710),B=n(86076),F=n(67201),H=n(14398),W=n(9322),Y=n(59695),G=n(7631),q=Object.defineProperty,Q=Object.prototype.hasOwnProperty,K=Object.getOwnPropertySymbols,$=Object.prototype.propertyIsEnumerable,J=(e,t,n)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,X=(e,t)=>{for(var n in t||(t={}))Q.call(t,n)&&J(e,n,t[n]);if(K)for(var n of K(t))$.call(t,n)&&J(e,n,t[n]);return e};const ee={PENDING:"pending",CONNECTED:"connected",UNAVAILABLE:"unavailable",UNAUTHORIZED:"unauthorized"},te={PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"},ne={SECONDARY:"secondary"},ie=["camera_upload","content_filter","home","lyrics","music_videos","pass","premium_music_metadata","sync","trailers"],re="ok",se="none",oe=C.SERVER,ae=c.Z.extend({mixins:[k.Z],name:"ServerModel",entityType:oe,entityID(e=this.state){return function({machineIdentifier:e}){return(0,P.Z)(oe,e)}({machineIdentifier:e.machineIdentifier||this.cid})},idAttribute:"machineIdentifier",connectionTestTimeout:1e4,responseType(){return(0,f.Z)(this)},mergeStrategy:L.Z,cache:new V.Z,persistInCache:!0,sessionAttrs:{connectionTestResult:u.Z.oneOf(ee.PENDING,ee.CONNECTED,ee.UNAVAILABLE,ee.UNAUTHORIZED).isRequired,promiseState:u.Z.oneOf(te.PENDING,te.RESOLVED,te.REJECTED).isRequired,sections:u.Z.instanceOf(O.Z).isRequired,playlists:u.Z.instanceOf(N).isRequired,isShared:u.Z.boolean.isRequired,isBundled:u.Z.boolean.isRequired,isCloud:u.Z.boolean.isRequired,isMerged:u.Z.boolean.isRequired,isEmbedded:u.Z.boolean.isRequired,isInstallingServerUpdate:u.Z.boolean.isRequired,superToken:u.Z.string,accessToken:u.Z.string,sourceTitle:u.Z.string,publicAddressMatches:u.Z.boolean,httpsRequired:u.Z.boolean,presence:u.Z.boolean,home:u.Z.boolean,createdAt:u.Z.integer,lastSeenAt:u.Z.integer,ownerId:u.Z.integer,hasEventConnection:u.Z.boolean,serverClass:u.Z.oneOf(ne.SECONDARY),onlyXML:u.Z.boolean,isProvidersPending:u.Z.boolean.isRequired,isProvidersPopulated:u.Z.boolean.isRequired,providersError:u.Z.object},sessionRelations:{activeConnection:{relationClass:Y.Z,deferred:!0},connections:{relationClass:W.Z,options(){return{server:this}}}},syncedRelations:{providers:{relationClass:R.Z,rootPropertyName:"MediaProvider",options(){return{server:this}}}},syncedAttrs:{machineIdentifier:u.Z.string,friendlyName:u.Z.string,startState:u.Z.string,version:u.Z.string,platform:u.Z.string,platformVersion:u.Z.string,sync:u.Z.boolean,backgroundProcessing:u.Z.boolean,multiuser:u.Z.boolean,transcoderLyrics:u.Z.boolean,myPlex:u.Z.boolean,myPlexMappingState:u.Z.string,myPlexSigninState:u.Z.oneOf(re,se,"invalid"),myPlexSubscription:u.Z.boolean,myPlexUsername:u.Z.string,transcoderPhoto:u.Z.boolean,transcoderAudio:u.Z.boolean,transcoderVideo:u.Z.boolean,transcoderVideoRemuxOnly:u.Z.boolean,transcoderSubtitles:u.Z.boolean,transcoderActiveVideoSessions:u.Z.integer,allowMediaDeletion:u.Z.boolean,allowChannelAccess:u.Z.boolean,allowSync:u.Z.boolean,diagnostics:u.Z.list,companionProxy:u.Z.boolean,updater:u.Z.boolean,isDesktop:u.Z.boolean,photoAutoTag:u.Z.boolean,itemClusters:u.Z.boolean,updatedAt:u.Z.integer,countryCode:u.Z.string,ownerFeatures:u.Z.list,mediaProviders:u.Z.integer,maxUploadBitrate:u.Z.integer,maxUploadBitrateReason:u.Z.string,maxUploadBitrateReasonMessage:u.Z.string,streamingBrainABRVersion:u.Z.integer,livetv:u.Z.integer,audiobook:u.Z.boolean,games:u.Z.boolean},derivedAttrs:{debugName(){const e=this.get("machineIdentifier"),t=this.get("connections"),n=1===t.length&&t.at(0).get("isLoopback");let i=this.get("friendlyName");return!i&&this.get("isBundled")?i="[Bundled]":!i&&n&&(i="[Loopback]"),i||(e?`[${e}]`:"[Anonymous]")},shortVersion(){return(0,F.Z)(this.get("version"))},isConnected(){return this.get("connectionTestResult")===ee.CONNECTED},isUnavailable(){return this.get("connectionTestResult")===ee.UNAVAILABLE},isUnauthorized(){return this.get("connectionTestResult")===ee.UNAUTHORIZED},isPending(){return this.get("promiseState")===te.PENDING},isPrivateConnection(){const e=this.get("activeConnection");return!(!e||!e.get("isPrivate"))},isResolved(){return this.get("promiseState")===te.RESOLVED},isRejected(){return this.get("promiseState")===te.REJECTED},isRelayed(){const e=this.get("activeConnection");return!(!e||!e.get("relay"))},isSecure(){const e=this.get("activeConnection");return!(!e||!e.get("isSecure"))},hasHttpsConnections(){return!!this.get("connections").findWhere({isHttps:!0})},hasFallbackConnections(){return!!this.get("connections").findWhere({isFallback:!0})},isMobileServer(){return this.get("serverClass")===ne.SECONDARY},isFullServer(){return!this.get("isCloud")&&!this.get("isMobileServer")&&!this.get("isEmbedded")},isFullOwnedServer(){return this.get("isFullServer")&&!this.get("isShared")},isPrimaryEligible(){return!(!h.Z.allowMobileServers&&this.get("isMobileServer")||!this.get("machineIdentifier")||this.get("isUnauthorized")||this.get("isCloud")||this.get("isEmbedded"))},isOutOfDate(){return!this.get("isMobileServer")&&!this.isVersionOrNewer("1.18.3")},isClaimed:function(){return this.get("isConnected")?this.get("myPlexSigninState")===re:void 0},hasManualConnection(){return this.get("connections").some((e=>e.get("sources").some((e=>/^manual/.test(e.id)))))},hasAdaptiveBitrate(){return this.get("streamingBrainABRVersion")>=3},shared(){return this.get("isShared")},bundled(){return this.get("isBundled")},cloud(){return this.get("isCloud")},merged(){return this.get("isMerged")},connected(){return this.get("connectionTestResult")===ee.PENDING?null:this.get("isConnected")},available(){return this.get("connectionTestResult")===ee.PENDING?null:!this.get("isUnavailable")},authorized(){return this.get("connectionTestResult")===ee.PENDING?null:this.get("isResolved")},relayed(){return this.get("isRelayed")}},defaults(){return{connectionTestResult:ee.PENDING,promiseState:te.PENDING,sections:new O.Z([],{server:this}),playlists:new N({},{server:this}),isShared:!1,isBundled:!1,isCloud:!1,isMerged:!1,isEmbedded:!1,isInstallingServerUpdate:!1,hasEventConnection:!1,sync:!1,backgroundProcessing:!1,allowChannelAccess:!1,updater:!0,ownerFeatures:[],audiobook:!1,games:!1,isProvidersPending:!0,isProvidersPopulated:!1,providersError:null}},url(e=this.get("activeConnection")){(0,U.Z)(e,"An active or manual connection is required for a server url");let t=r().result(e,"url");return/\/$/.test(t)||(t+="/"),t},initialize(){this._reset(),this.on("change:machineIdentifier",this.onMachineIdentifierChange,this),this.listenTo(this.get("connections"),{remove:this.onConnectionRemove,reset:this.onConnectionsReset})},uninitialize(){this.off("change:machineIdentifier",this.onMachineIdentifierChange,this),this.stopListening()},updateEntity(){if(!this.get("isMerged"))return c.Z.prototype.updateEntity.apply(this,arguments)},fetch(){return l.ZP.Model.prototype.fetch.apply(this,arguments)},resolveUrl(e,t={}){if((0,H.Z)(e))return e;let n;n=t.useRelativeUrl?this.get("isMobileServer")?`http://127.0.0.1:${this.getLoopbackPort()}/`:"":t.baseUrl||this.url(t.connection);const i=this.get("accessToken"),s=r().extend({},t.params);return t.appendHeaders&&r().defaults(s,this.getHeaders()),t.appendToken&&i&&(s["X-Plex-Token"]=i),y.Z.join([n,e],s)},getXHROptions(e,t={}){var n=t,{headers:i,baseUrl:s}=n,o=((e,t)=>{var n={};for(var i in e)Q.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&K)for(var i of K(e))t.indexOf(i)<0&&$.call(e,i)&&(n[i]=e[i]);return n})(n,["headers","baseUrl"]);return X({url:this.resolveUrl(e,{baseUrl:s}),dataType:"text",headers:r().extend(this.getHeaders(),i),allowHeadersInUrl:!0,allowBlacklistedMethodHeaders:this.supports("allowBlacklistedMethodHeaders")},o)},getHeaders(){const e=o.Z.getInstance(),t=r().clone(e),n=this.get("accessToken");n&&(t["X-Plex-Token"]=n);const i=(0,s.DB)("settingFinder").find("language");return i&&(t["X-Plex-Language"]=i,t["Accept-Language"]=i),t},addConnection(e){e.sources||(e.sources=[{id:"internal"}]);const t=this.get("connections"),n=new Y.Z(e),i=t.get(n.id);return i?(i.get("sources").set(e.sources,{remove:!1}),i):t.add(e)},hasSource(e){return this.get("connections").some((t=>t.hasSource(e)))},removeSource(e){const t=this.get("connections");let n=t.length-1;for(;n>=0;)t.at(n).get("sources").remove(e),n--},testAllConnections(){const e=this.get("connections");return(0,B.Z)("[Connections] Testing all %s connection(s) for %s",e.length,this.get("debugName")),this._reset(),e.each((e=>{const t=!e.get("relay"),n=!e.get("isUntested");(t||n)&&this.testConnection(e)})),this.populatePromise},testOnlyUntestedConnections(){return this.get("connections").each((e=>{const t=!e.get("relay"),n=e.get("isUntested"),i=e.get("isAborted");t&&(n||i)&&this.testConnection(e)})),this.populatePromise},testOnlyUntestedRelayConnections(){return this.get("connections").each((e=>{const t=e.get("relay"),n=e.get("isUntested");t&&n&&this.testConnection(e)})),this.populatePromise},testConnection(e,t={}){return t.server=this,t.connection=e,this.get("promiseState")===te.REJECTED&&this._reset(),a.Z.execute("testServerConnection",t).done(this.onConnectionTestSuccess.bind(this)).fail(this.onConnectionTestError.bind(this))},abortAllConnectionTests(){const e=this.get("connections");(0,B.Z)("[Connections] Aborting all pending connection tests for",this.get("debugName")),e.each((e=>{this.abortConnectionTest(e)}))},abortConnectionTest(e){const t={server:this,connection:e};a.Z.execute("abortServerConnectionTest",t)},populateIdentity(e){if(this._identityPromise)return this._identityPromise;const t=a.Z.execute("populateServerIdentity",{server:this,connection:e});return t.done((e=>{this.set("machineIdentifier",e)})),this._identityPromise=t,t},updateCacheKey(){const e=this.get("debugName"),t=this.cacheKey(this.attributes),n=this.cache.get(t);if(n){const i=n.get("debugName");B.Z.warn("[Identity] %s and %s (cached) collide",e,i),n.get("isConnected")||!this.get("isConnected")?((0,B.Z)("[Identity] Merging %s into %s (cached)",e,i),n.merge(this)):((0,B.Z)("[Identity] Merging %s (cached) into %s",i,e),this.merge(n),this.cache.store(this,t))}else this.cache.store(this,t)},merge(e){e.set("isMerged",!0),e.get("isBundled")&&this.set("isBundled",!0),e.get("connections").each((e=>{this.addConnection(e.toJSON())})),this.collection&&(this.collection.remove(e.cid,{silent:!0}),this.collection._byId[this.id]=this,this.collection.trigger("remove",e,this.collection),this.collection.trigger("update",this.collection)),this.cache.remove(e),h.Z.shouldCreateStateTree&&this.updateEntity()},hasOwnerFeature(e){if(this.supports("ownerFeatures")){const t=this.get("ownerFeatures");return!!(t&&t.indexOf(e)>-1)}return!!this.get("myPlexSubscription")&&ie.indexOf(e)>-1},supports(e){const t=this.get(e);if(r().isBoolean(t))return t;const n=G.Z[e];return null!=n&&this.isVersionOrNewer(n)},isVersionOrNewer(e){const t=this.get("shortVersion");return!e||!t||(0,_.Z)(t,e)},hasRegression(e){if(!e)return!1;const t=this.isVersionOrNewer(e.introduced),n=e.resolved&&this.isVersionOrNewer(e.resolved);return t&&!n},hasOtherLoopbackServer(){return!!this.collection&&this.collection.hasLoopbackServer()},getLoopbackPort(){const e=this.get("connections").findWhere({isPrivate:!0});return e?e.get("port"):"32400"},authenticate(e){this._resolve({accessToken:e})},deauthenticate(){this._reject({accessToken:null})},_reset(){this.startCapturingChangeEvents(),this.set("promiseState",te.PENDING),this._resetPopulate(),this.releaseCapturedChangeEvents()},_resolve(e){const t=r().extend({connectionTestResult:ee.CONNECTED,promiseState:te.RESOLVED},e);this.startCapturingChangeEvents(),this.set(t),h.Z.shouldCreateStateTree&&this.updateState(),this._resolvePopulate(),this.releaseCapturedChangeEvents()},_reject(e){const t=this.get("connections");t.hasOnlyFailedConnections()&&B.Z.warn("[Connections] All connections to %s failed",this.get("debugName"));const n=t.findWhere({isUnauthorized:!0})?ee.UNAUTHORIZED:ee.UNAVAILABLE,i=r().extend({connectionTestResult:n,promiseState:te.REJECTED},e);this.startCapturingChangeEvents(),this.set(i),this._rejectPopulate(),this.releaseCapturedChangeEvents()},_checkActiveConnection(){const e=this.get("activeConnection"),t=this.get("connections");if(e&&!t.contains(e)){const e=t.getBestConnection();e?this.set({activeConnection:e}):this.testAllConnections()}},onMachineIdentifierChange(e,t){this.collection?this.listenToOnce(this.collection,"change:machineIdentifier",(function(){this.updateCacheKey()})):this.updateCacheKey()},onConnectionRemove(e,t){t.length?this._checkActiveConnection():(this.trigger("change:connections.remove",e,t),this.trigger("change:connections.change",this,t),this.trigger("destroy",this,this.collection))},onConnectionsReset(e,t){e.length?this._checkActiveConnection():(this.trigger("change:connections.reset",e,t),this.trigger("change:connections.change",this,e),this.trigger("destroy",this,this.collection))},onConnectionTestSuccess(e,t){const n=this.get("connections").getBestConnection();if(n!==this.get("activeConnection")&&B.Z.info("[Connections] Active connection to %s is %s",this.get("debugName"),n.id),this._resolve(X({activeConnection:n},t)),h.Z.allowLoopbackDiscovery){const e=this.get("connections"),t=this.get("activeConnection"),n=t.get("isPrivate"),i=!!e.findWhere({isLoopback:!0});!n||i||this.hasOtherLoopbackServer()||((0,B.Z)("[Connections] Adding possible loopback connection for",this.get("debugName")),this.addConnection(t.getLoopbackAttributes()))}},onConnectionTestError(e,t){if(e.get("isAborted"))return;const n=this.get("connections");!e.get("isHttps")||e.get("isUnauthorized")||e.get("relay")||(0,s.DB)("appStore").dispatch((0,z.zg)({serverEntityID:this.entityID(),address:e.get("address"),port:e.get("port")})),!this.id&&e.get("isUnauthorized")&&this.populateIdentity(e),n.hasOnlyFailedConnections()?this.id||!this._identityPromise?this._reject():this._identityPromise.always((()=>{n.hasOnlyFailedConnections()&&this._reject()})):n.hasFailedEveryDirectConnection()&&this.testOnlyUntestedRelayConnections()}},{connectionTestResults:ee,promiseStates:te,serverClasses:ne});(0,d.Z)(ae,(function(){return{relationClass:(0,s.DB)("ServerFlexModel"),options:{server:this}}}));const le=ae},2608:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(49788),r=n(22618),s=n(88019),o=n(2932);const a="bool",l="enum";function c(e,t){switch(e){case"int":case l:return o.Z.parseInteger(t);case a:return o.Z.parseBoolean(t);default:return t}}const d=r.Z.extend({idAttribute:"id",url:"/:/prefs",context:["server"],sessionAttrs:{isSaving:s.Z.boolean},syncedAttrs:{id:s.Z.string,label:s.Z.string,default:s.Z.oneOfType(s.Z.integer,s.Z.string,s.Z.boolean,s.Z.array),summary:s.Z.string,value:{type:s.Z.oneOfType(s.Z.integer,s.Z.string,s.Z.boolean,s.Z.array),save:!0},type:s.Z.oneOf("int","text",a,l,"double"),group:s.Z.string,advanced:s.Z.boolean,option:s.Z.string,hidden:s.Z.boolean,enumValues:s.Z.array,values:s.Z.string},defaults:{isSaving:!1,type:"string",summary:"",label:"",group:""},augmentResponse(e){if(e.value=c(e.type,e.value),e.advanced=c(a,e.advanced),e.hidden=c(a,e.hidden),e.enumValues&&!Array.isArray(e.enumValues)&&(e.enumValues=e.enumValues.split("|").map((t=>{const[n,i=n]=t.split(":");return{label:i,value:c(e.type,n)}}))),e.type===l&&e.values&&!Array.isArray(e.values)){let t=0;e.enumValues=e.values.split("|").map((e=>({label:e,value:t++})))}return e},getSaveParams(e){const t=r.Z.prototype.getSaveParams.apply(this,arguments);return e&&!e.hasOwnProperty("value")?(Object.keys(t).forEach((t=>delete e[t])),t):{[this.get("id")]:t.value}}}),u=i.Z.extend({name:"ServerSettingCollection",context:["server"],url:"/:/prefs",model:d,augmentResponse:e=>e.Setting?(Array.isArray(e.Setting)?e.Setting:[e.Setting]).filter((e=>e.id)):[]})},7631:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={playlistArtEditing:"1.24.5",gridPagination:"1.24.4",playlistPosterEditing:"1.23.5",v4DVRSetup:"1.22.2",gracenoteAttribution:"1.21.1",firstCharacterKeySortDirection:"1.20.4",pivotIDs:"1.20.4",freeLiveTVDVRSettings:"1.20.2",augmentedHubsInRelatedHubs:"1.19.5",simpleRelatedKey:"1.19.2",transientTokenProxy:"1.15.4",mediaProvidersServerRoot:"1.13.10",streamDisplayTitles:"1.13.8",bundledWebAppNewSettingsRoutes:"1.13.8",softSubtitlesWithDirectPlay:"1.13.4",truePlaylistsPath:"1.9.3",optimizeDatabaseActivity:"1.4.2",asyncCheckFiles:"1.4.0",json:"1.8.0",allowBlacklistedMethodHeaders:"1.2.1",decisionEndpoint:"1.0.3",defaultSections:"0.9.17.3",ownerFeatures:"0.9.17.0",replaceTranscodeTarget:"0.9.17.0",quickSearch:"0.9.16.0",relay:"0.9.15.0",claimServer:"0.9.14.2",searchSpecificType:"0.9.14.2",linkedYearMetadata:"0.9.14.0",streamReady:"0.9.14.0",syncOriginalQuality:"0.9.14.0",allPartsStreamSelection:"0.9.12.5",sharedChannels:"0.9.12.5",shortenTranscodeURL:"0.9.12.5",companionProxy:"0.9.12.5",editSimilarArtists:"0.9.12.2",neuterRedirect:"0.9.12.0",audioAsVideo:"0.9.12.0",compositeDelete:"0.9.12.0",batchEdit:"0.9.12.0",premiumMusic:"0.9.12.0",transientToken:"0.9.12.0",softSubtitles:"0.9.12.0",sharedSyncStatus:"0.9.11.14",reachability:"0.9.11.14",photoPlayQueues:"0.9.11.12",publicNowPlaying:"0.9.11.3",labels:"0.9.11.2",updater:"0.9.11.1",playItemsBatchAdd:"0.9.9.16",playlists:"0.9.9.13",imageFilters:"0.9.9.13",hubFilterSigns:"0.9.9.12",cancelAllUpdates:"0.9.9.10",playQueues:"0.9.9.6",sectionSettings:"0.9.9.6",hubFilters:"0.9.9.2",streamingMKV:"0.9.9.16",chunkedHTTP:"0.9.9.3",sharedSync:"0.9.9.3",dash:"0.9.8.6",specificMediaDeletion:"0.9.7.23",sharedSettings:"0.9.7.23",syncNotifications:"0.9.7.23",universalMusicTranscoder:"0.9.8.3",universalTranscoder:"0.9.7.17",sync:"0.9.7.10",artworkUpload:"0.9.7.9",firstRunPref:"0.9.7.3",timelineState:"0.9.7.2",cleanBundles:"0.9.7.0",advancedFilters:"0.9.7.0",search:"0.9.7.0",merge:"0.9.7.0",splitApart:"0.9.7.0"}},4762:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(13469),r=n.n(i),s=n(86486),o=n(22618),a=n(87023),l=n(14710);const c=o.Z.extend({name:"AbstractStorageModel",responseType:a.AV,save(e,t,n={}){const i=this.attributes;let s;if(null==e||r().isObject(e)?(s=e,n=t):(s={})[e]=t,n=r().extend({validate:!0},n),s&&!n.wait){if(!this.set(s,n))return!1}else if(!this._validate(s,n))return!1;s&&n.wait&&(this.attributes=r().extend({},i,s));const o=this._getStorageAdapter().getInstance().excludeDefaults,a=this.toJSON({syncedOnly:!0,excludeDefaults:!1!==o}),l=this._serialize(a),c=this._getStorageAdapter().set(this._getStorageKey(),l);return c.done((()=>{this.attributes=i,this.trigger("sync",this,i,n)})),c.fail((e=>{this.trigger("error",this,e,n)})),s&&n.wait&&(this.attributes=i),c},destroy(e={}){e.wait||this.trigger("destroy",this,this.collection,e);const t=this._getStorageAdapter().remove(this._getStorageKey());return t.done((t=>{e.wait&&this.trigger("destroy",this,this.collection,e),this.trigger("sync",this,t,e)})),t.fail((t=>{this.trigger("error",this,t,e)})),t},sync(){this._logError("does not support syncing to a server")},_getStorageAdapter:()=>s.Z,_getStorageKey(){const e=r().result(this,"storageKey");if(!e)throw new Error(`${this.name} requires a \`storageKey\` property`);return e},_fetch(e={}){const t=this._getStorageAdapter().get(this._getStorageKey());return t.done((t=>{t&&this.set(this.parse(t)),this.trigger("sync",this,t,e)})),t.fail((t=>{this.trigger("error",this,t,e)})),t},_serialize(e){let t="";try{t=JSON.stringify(e)}catch(e){this._logError("serialization error: "+e.message)}return t},_warnUnsupportedOptions(e){e.parse&&this._logError("does not support the `parse` option. The response from storage is always parsed."),e.success&&this._logError("does not support a `success` callback. Use the returned promise."),e.error&&this._logError("does not support an `error` callback. Use the returned promise.")},_logError(e){let t;try{t=this._getStorageKey()}catch(e){t="no storageKey"}(0,l.Z)(!1,`${this.name} (${t}) ${e}`)}})},50189:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(13469),r=n.n(i),s=n(22618);const o=s.Z.extend({additionalRelations:[],copyFromModel(e,t){this._copy(e,this,t)},copyToModel(e,t){this._copy(this,e,t)},_copy(e,t,n={}){const i=!!t.releaseCapturedChangeEvents;i||t.startCapturingChangeEvents(),this._copyAttributes(e,t,n),this._copyRelations(e,t,n),i||t.releaseCapturedChangeEvents()},_copyAttributes(e,t,n){const i={};r().each(this.syncedAttrs,((t,r)=>{n.included&&!n.included.includes(r)||(i[r]=e.get(r))})),t.set(i)},_copyRelations(e,t,n){r().each(this.syncedRelations,((i,r)=>{if(n.included&&!n.included.includes(r))return;if(this.additionalRelations.includes(r))return;const o=e.get(r),a=t.get(r);if(o&&a){const e=o.toJSON();a instanceof s.Z?a.set(a.parse(e)):a.set(e,{parse:!0})}}))}})},59799:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var i=n(88019),r=n(49788),s=n(22618);const o=s.Z.extend({name:"StoredConnectionSourceModel",syncedAttrs:{id:i.Z.string}}),a=r.Z.extend({name:"StoredConnectionSourceCollection",model:o}),l=s.Z.extend({name:"StoredConnectionModel",idAttribute:"uri",syncedAttrs:{uri:i.Z.string,scheme:i.Z.string,address:i.Z.string,port:i.Z.string,relay:i.Z.boolean},syncedRelations:{sources:{relationClass:a}}}),c=r.Z.extend({name:"StoredConnectionCollection",model:l});var d=n(50189),u=n(10135),h=n(60561),p=Object.defineProperty,g=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,f=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const v=s.Z.extend({name:"StoredProviderModel",idAttribute:"identifier",syncedAttrs:((e,t)=>{for(var n in t||(t={}))g.call(t,n)&&y(e,n,t[n]);if(m)for(var n of m(t))f.call(t,n)&&y(e,n,t[n]);return e})({},h.Z.prototype.syncedAttrs),syncedRelations:{features:{relationClass:u.Z}}}),b=r.Z.extend({name:"StoredProviderCollection",model:v}),Z=d.Z.extend({name:"StoredServerModel",idAttribute:"machineIdentifier",additionalRelations:["connections"],syncedAttrs:{machineIdentifier:i.Z.string,friendlyName:i.Z.string,accessToken:i.Z.string,sourceTitle:i.Z.string,home:i.Z.boolean,serverClass:i.Z.string,platform:i.Z.string,isShared:i.Z.boolean,version:i.Z.string,publicAddressMatches:i.Z.boolean,ownerId:i.Z.integer,mediaProviders:i.Z.integer},syncedRelations:{providers:{relationClass:b},connections:{relationClass:c}}})},44127:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var i=n(88019),r=n(4762),s=(n(14710),n(49788)),o=n(28941),a=n(29242),l=n(65194),c=n(71399),d=n(73172),u=n(66124),h=n(50189),p=n(59799);const g=s.Z.extend({name:"StoredServerCollection",model:p.Z});var m=n(22618),f=n(35699),y=Object.defineProperty,v=Object.prototype.hasOwnProperty,b=Object.getOwnPropertySymbols,Z=Object.prototype.propertyIsEnumerable,S=(e,t,n)=>t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I=(e,t)=>{for(var n in t||(t={}))v.call(t,n)&&S(e,n,t[n]);if(b)for(var n of b(t))Z.call(t,n)&&S(e,n,t[n]);return e};const M=m.Z.extend({name:"StoredUserSettingModel",syncedAttrs:I(I({},f.Z.prototype.syncedAttrs),{isDirty:i.Z.boolean})}),w=s.Z.extend({name:"StoredUserSettingCollection",model:M}),P=h.Z.extend({name:"StoredUserModel",additionalRelations:["servers"],syncedAttrs:{id:i.Z.integer,authToken:i.Z.string,anonymous:i.Z.boolean,username:i.Z.string,email:i.Z.string,title:i.Z.string,thumb:i.Z.string,pin:i.Z.string,home:i.Z.boolean,restricted:i.Z.boolean,guest:i.Z.boolean,hasAllEntitlements:i.Z.boolean,lastPrimaryServerID:i.Z.string},syncedRelations:{subscriptions:{relationClass:u.Z},roles:{relationClass:c.Z},entitlements:{relationClass:a.Z},services:{relationClass:d.Z},features:{relationClass:l.Z},settings:{relationClass:w},experienceSettings:()=>({relationClass:(0,o.DB)("StoredUserExperienceSettingsModel")}),servers:{relationClass:g}},clearSensitiveAttributes(){this.unset("authToken"),this.unset("pin"),this.get("servers").reset()}}),C=s.Z.extend({name:"StoredUserCollection",model:P}),D=new(r.Z.extend({name:"UserStorageModel",storageKey:"users",sessionAttrs:{activeUserID:i.Z.integer},syncedRelations:{users:{relationClass:C}},initialize(){this.debouncedSaveTimeout=null},debouncedSave(){this.debouncedSaveTimeout&&window.clearTimeout(this.debouncedSaveTimeout),this.debouncedSaveTimeout=window.setTimeout((()=>this.save()),1e3)},flushDebouncedSave(){this.debouncedSaveTimeout&&(window.clearTimeout(this.debouncedSaveTimeout),this.save())},getActiveUser(){const e=this.get("users"),t=this.get("activeUserID");if(null!=t)return e.get(t)},clearActiveUser(){const e=this.getActiveUser();return e&&e.clearSensitiveAttributes(),this.unset("activeUserID"),this.save()},getActiveServers(){const e=this.getActiveUser();if(e)return e.get("servers")}}))},82557:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(49788),r=n(42323);const s=i.Z.extend({name:"MediaGrabOperationCollection",context:["server","provider"],model:r.Z,comparator(e){const t=e.get("mediaItem");if(t)return t.beginsAt-(t.startOffsetSeconds||0)}})},42323:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(28941),r=n(22618),s=n(88019),o=n(80731),a=n(28381),l=n(32374),c=n(2932),d=n(4120),u=n(89703),h=n(96832);const p=r.Z.extend({name:"MediaGrabOperationModel",context:["server","provider"],idAttribute:"key",rootPropertyName:"MediaGrabOperation",url(){return this.get("key")},syncedAttrs:{mediaSubscriptionID:s.Z.string,provider:s.Z.string,identifier:s.Z.string,mediaIndex:s.Z.integer,channelTitle:s.Z.string,status:s.Z.string,error:s.Z.string,linkedKey:s.Z.string,key:s.Z.string,rolling:s.Z.boolean},sessionAttrs:{isLibraryMetadataItemPending:s.Z.boolean,isLibraryMetadataItemPopulated:s.Z.boolean,libraryMetadataItemError:s.Z.object},syncedRelations:{metadataItem:{relationClass:a.Z,rootPropertyName:"Metadata"},conflicts:()=>({relationClass:n(82557).Z,deferred:!0})},sessionRelations:{libraryMetadataItem:{relationClass:a.Z,deferred:!0}},derivedAttrs:{mediaItem(){const e=this.get("mediaIndex");return(this.get("metadataItem").get("Media")||[])[e]},beginsAt(){const e=this.get("mediaItem");return e&&e.beginsAt},endsAt(){const e=this.get("mediaItem");return e&&e.endsAt}},defaults:{rolling:!1,isLibraryMetadataItemPending:!0,isLibraryMetadataItemPopulated:!1,libraryMetadataItemError:null},augmentResponse(e){let t=e;if(t[this.rootPropertyName]&&(t=t[this.rootPropertyName]),t.Conflicts&&(t.conflicts=t.Conflicts.MediaGrabOperation,delete t.Conflicts),!o.Z.shouldCreateStateTree)return t;const n=t.Metadata,r=c.Z.parseArray(n.Media),s=c.Z.parseInteger(t.mediaIndex),a=(0,d.Z)(u.METADATA_ITEM,n.key,this.server.entityID()),p=(0,i.DB)("appModel"),g=(0,h.l)(p,u.METADATA_ITEM,a);if(g){const e=g.get("Media").map(l.Z),n=r.map(l.Z)[s],i=e.findIndex((e=>n===e));t.mediaIndex=-1!==i?i:s+e.length}return t}})},88707:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(49788),r=n(44035);const s=i.Z.extend({name:"MediaSettingCollection",context:["server","provider"],model:r.Z,getSaveParams(){return this.reduce(((e,t)=>(e[t.id]=t.get("value"),e)),{})}})},44035:(e,t,n)=>{"use strict";n.d(t,{E:()=>o,Z:()=>l});var i=n(22618),r=n(88019),s=n(2932);const o={INT:"int",TEXT:"text",BOOL:"bool",DOUBLE:"double"};function a(e,t){switch(e){case o.INT:case o.ENUM:return s.Z.parseInteger(t);case o.BOOL:return s.Z.parseBoolean(t);case o.DOUBLE:return s.Z.parseFloat(t);default:return t}}const l=i.Z.extend({name:"MediaSettingModel",context:["server","provider"],idAttribute:"id",rootPropertyName:"Setting",syncedAttrs:{id:r.Z.string,advanced:r.Z.boolean,default:r.Z.oneOfType(r.Z.integer,r.Z.string,r.Z.boolean),hidden:r.Z.boolean,group:r.Z.string,label:r.Z.string,summary:r.Z.string,type:r.Z.oneOf(o.INT,o.TEXT,o.BOOL,o.ENUM,o.DOUBLE),value:r.Z.oneOfType(r.Z.integer,r.Z.float,r.Z.string,r.Z.boolean),min:r.Z.float,max:r.Z.float,step:r.Z.float,enumValues:r.Z.array},augmentResponse:e=>(e.default=a(e.type,e.default),e.value=a(e.type,e.value),e.enumValues&&(e.enumValues=e.enumValues.split("|").map((t=>{const[n,i=n]=t.split(":");return{label:decodeURIComponent(i),value:a(e.type,n)}}))),e),parseAndSetValue(e){this.set("value",a(this.get("type"),e))}})},24715:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(30944),r=n(13469),s=n.n(r),o=n(68918),a=n(60964);const l=o.Z.extend({urlRoot:"/api/home/users",whitelistedAttrs:["id","uuid","admin","protected","restricted","restrictionProfile","guest","title","username","email","thumb"],convert(e){let t=s().isObject(e)?e:a.Z.parseXML(e);return t.User&&(t=t.User),a.Z.parseInteger(t,"id"),a.Z.parseBoolean(t,["admin","protected","restricted","guest"]),t},parse(e){let t=this.convert(e);return t=s().pick(t,this.whitelistedAttrs),t},getSaveParams(e,t){if(s().isEmpty(e)){const e={};return this.get("restricted")?e.title=this.get("title"):this.isNew()&&(e.invitedEmail=this.get("username")),e}return o.Z.prototype.getSaveParams.apply(this,arguments)}}),c=i.Z.extend({model:l,url:"/api/home/users",parse(e){return this.convert(e,"User")}})},29242:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(49788),r=n(22618),s=n(88019);const o=r.Z.extend({name:"UserEntitlementModel",syncedAttrs:{id:s.Z.string}}),a=i.Z.extend({name:"UserEntitlementCollection",model:o})},65194:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(49788),r=n(87023),s=n(68468),o=n(22618),a=n(88019);const l=o.Z.extend({name:"UserFeatureModel",idAttribute:"uuid",syncedAttrs:{uuid:a.Z.string.isRequired,id:a.Z.string}}),c=i.Z.extend({name:"UserFeatureCollection",context:["server"],model:l,url:(0,s.Y)("/api/v2/features"),responseType:r.AV})},71399:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(49788),r=n(22618),s=n(88019);const o=r.Z.extend({name:"UserRoleModel",syncedAttrs:{id:s.Z.string}}),a=i.Z.extend({name:"UserRoleCollection",model:o})},73172:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(49788),r=n(22618),s=n(88019);const o=r.Z.extend({name:"UserServiceModel",syncedAttrs:{id:s.Z.string,subscriptionType:s.Z.string}}),a=i.Z.extend({name:"UserServiceCollection",model:o})},35699:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(22618),r=n(88019),s=n(25798),o=n(80622),a=n(26603);const l={bool:s.Z,json:a.Z},c=i.Z.extend({name:"UserSettingModel",context:["server"],sessionAttrs:{isDirty:r.Z.boolean},syncedAttrs:{id:r.Z.string,type:r.Z.string,value:r.Z.oneOfType(r.Z.boolean,r.Z.object),hidden:r.Z.boolean,updatedAt:r.Z.integer},defaults:{isDirty:!1},augmentResponse(e){const t=this.get("isDirty"),n=this.get("updatedAt"),i=(0,o.Z)(e.updatedAt),r=n&&i&&n<i;if(t&&n===i||n&&i&&n>i)return this.toJSON();t&&r&&(e.isDirty=!1);const s=l[e.type];return s&&(e.value=s(e.value)),e}})},66124:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(49788),r=n(22618),s=n(88019),o=n(71050),a=n(36678);const l=r.Z.extend({name:"UserSubscriptionModel",syncedAttrs:{type:s.Z.oneOf(...a.ZP).isRequired,state:s.Z.oneOf(...o.ZP).isRequired,mode:s.Z.string.isRequired}}),c=i.Z.extend({name:"UserSubscriptionCollection",model:l})},83416:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P,U:()=>w});var i=n(88019),r=n(22618),s=n(49788),o=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};const h={hubIdentifier:i.Z.string,hubKey:i.Z.string,key:i.Z.string,style:i.Z.string,subtype:i.Z.string,title:i.Z.string,type:i.Z.string},p={friendlyName:i.Z.string,machineIdentifier:i.Z.string.isRequired,sourceTitle:i.Z.string},g={identifier:i.Z.string,providerIdentifier:i.Z.string,title:i.Z.string},m=r.Z.extend({name:"HomeHubProviderModel",syncedAttrs:u({},g)}),f=r.Z.extend({name:"HomeHubServerModel",syncedAttrs:u({},p)}),y=r.Z.extend({name:"HomeHubModel",syncedAttrs:u(u({},h),{id:i.Z.string.isRequired,directoryID:i.Z.string.isRequired,directoryKey:i.Z.string.isRequired,isHidden:i.Z.boolean.isRequired,hiddenAt:i.Z.integer}),syncedRelations:{provider:{relationClass:m},server:{relationClass:f}},defaults:{isHidden:!1}}),v=s.Z.extend({name:"HomeHubCollection",model:y});var b=n(90379);const Z=r.Z.extend({name:"HomeSettingsModel",syncedAttrs:{hasCustomizations:i.Z.boolean.isRequired,hasSeededPreferredServerContent:i.Z.boolean.isRequired,hasSeededProviderPromotedContent:i.Z.boolean.isRequired,preferredServerID:i.Z.string,settingsKey:i.Z.string.isRequired,version:i.Z.integer.isRequired},syncedRelations:{hubs:{relationClass:v}},defaults:()=>({hasCustomizations:!1,hasSeededPreferredServerContent:!1,hasSeededProviderPromotedContent:!1,settingsKey:(0,b.Z)(),version:1})}),S=r.Z.extend({name:"SidebarSourceModel",idAttribute:"key",syncedAttrs:{key:i.Z.string.isRequired,sourceType:i.Z.string.isRequired,machineIdentifier:i.Z.string.isRequired,providerIdentifier:i.Z.string.isRequired,directoryID:i.Z.string,directoryIcon:i.Z.string,title:i.Z.string.isRequired,serverFriendlyName:i.Z.string.isRequired,serverSourceTitle:i.Z.string,providerSourceTitle:i.Z.string,detail:i.Z.string,isCloud:i.Z.boolean,isFullOwnedServer:i.Z.boolean,isHidden:i.Z.boolean.isRequired,hiddenAt:i.Z.integer},defaults:{isHidden:!1}}),I=s.Z.extend({name:"SidebarSourceCollection",model:S}),M=r.Z.extend({name:"SidebarSettingsModel",syncedAttrs:{hasCompletedSetup:i.Z.boolean.isRequired},syncedRelations:{pinnedSources:{relationClass:I}},defaults:()=>({hasCompletedSetup:!1})}),w="experience",P={sessionAttrs:{sidebarPreferredSourcesSavedEnteredPath:i.Z.string,isDirty:i.Z.boolean.isRequired,isSaving:i.Z.boolean.isRequired,saveError:i.Z.object},syncedAttrs:{updatedAt:i.Z.integer,autoHomeHubsEnabled:i.Z.boolean,shouldSaveLastSourcePivots:i.Z.boolean.isRequired,lastSourcePivots:i.Z.object.isRequired,savedPivotParams:i.Z.object.isRequired,disabledUniversalSearchIdentifiers:i.Z.object.isRequired,autoPinnedProviders:i.Z.array.isRequired,dismissedUpsellModals:i.Z.array},syncedRelations:{homeSettings:{relationClass:Z},sidebarSettings:{relationClass:M}},defaults:{autoHomeHubsEnabled:null,sidebarPreferredSourcesSavedEnteredPath:null,isDirty:!1,isSaving:!1,saveError:null,shouldSaveLastSourcePivots:!0,lastSourcePivots:{},savedPivotParams:{},disabledUniversalSearchIdentifiers:{},autoPinnedProviders:[],dismissedUpsellModals:[]}}},20165:(e,t,n)=>{"use strict";n.d(t,{CC:()=>Me,a7:()=>de,h9:()=>ce,bc:()=>ye,EK:()=>ve,$e:()=>he,c4:()=>pe,n:()=>ge,yB:()=>me,_K:()=>Se,im:()=>be,nL:()=>Ze,yy:()=>ue,I2:()=>le,T5:()=>fe,qO:()=>ae,xM:()=>Ie});var i=n(13469),r=n.n(i),s=n(31977),o=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e},h=n(25655),p=n(82590),g=n(86076),m=n(35922);let f,y,v=0,b=0;function Z(e,t){return(0,m.Z)(e)?function(e,t){const n=e.possibleEntityContainers,i=n?n.length:0;for(let r=0;r<i;r++)if(Z(e[n[r]],t))return!0;return!1}(e,t):Array.isArray(e)?function(e,t){for(let n=0,i=e.length;n<i;n++)if(Z(e[n],t))return!0;return!1}(e,t):e===t}function S(e,t){return e+1>=t?0:e+1}var I=n(6772),M=n(63542),w=n(71065),P=n(91856),C=n(91986),D=n(90616),A=n(12359),x=Object.defineProperty,E=Object.prototype.hasOwnProperty,T=Object.getOwnPropertySymbols,j=Object.prototype.propertyIsEnumerable,N=(e,t,n)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O=(e,t)=>{for(var n in t||(t={}))E.call(t,n)&&N(e,n,t[n]);if(T)for(var n of T(t))j.call(t,n)&&N(e,n,t[n]);return e};const k="app/setPrimaryServer",L="app/resetPrimaryServer",R="app/changePrimaryServer",z="app/changeCompanionServer",V="app/removeCompanionServer",_="app/garbageCollectEntities",U="app/navigate",B="app/navigateBack",F="app/navigateForward",H="app/navigateHome",W="app/navigateSearch",Y="app/navigatePrePlay",G="app/saveDeviceSettings",q="app/saveLastSourcePivot",Q="app/clearLastSourcePivots",K="app/savePivotParams",$="app/discoverServers",J="app/dismissUnclaimedServer",X="app/redirectToRoute",ee="app/redirectToUrl",te="app/toggleFullscreen",ne="app/selectAudioDevice",ie="app/updateAudioDevices",re="app/populateCloudServer",se="app/updateNavigationHistory",oe="app/updateAvailable",ae=(0,s.Z)(k),le=(0,s.Z)(L),ce=(0,s.Z)(R),de=(0,s.Z)(z),ue=(0,s.Z)(V),he=(0,s.Z)(_),pe=(0,s.Z)(U),ge=(0,s.Z)(B),me=((0,s.Z)(F),(0,s.Z)(H),(0,s.Z)(W),(0,s.Z)(Y)),fe=(0,s.Z)(G),ye=((0,s.Z)(q),(0,s.Z)(Q),(0,s.Z)(K),(0,s.Z)($)),ve=(0,s.Z)(J),be=(0,s.Z)(X),Ze=(0,s.Z)(ee),Se=((0,s.Z)(ne),(0,s.Z)(ie),(0,s.Z)(re)),Ie=(0,s.Z)(se),Me=((0,s.Z)(oe),(0,s.Z)(te,(e=>({isFullscreen:!0}))),(0,s.Z)(te,(e=>({isFullscreen:!1}))),{[z](e,t){const n=(0,I.$w)(e,t);n?e.set("companionServer",n):g.Z.warn("[Companion] Could not find %s to use as companion server",t.serverEntityID)},[V](e){e.unset("companionServer")},[_](e,t){(0,M.c9)();const n=function(e,t={}){const n=null!=t.budget?t.budget:16.666666666666668,i=window.performance.now(),r=e.entities,s=Object.keys(r),o=s.length,a={};n===1/0&&(v=0,b=0);const l=r[s[v]];for(f=v,y=Math.max(Math.min(b,Object.keys(l).length-1),0);v<o;){const t=s[v],l=r[t],c=Object.keys(l),d=c.length,u=S(v,o);for(;b<d;){const r=c[b],s=S(b,d);if(Z(e,r)||(a[t]||(a[t]=[]),a[t].push(r)),u===f&&s===y)return v=u,b=s,a;if(window.performance.now()-i>=n)return v=u,b=s,a;b++}if(v=u,b=0,v===f&&b===y)return a}return a}(e.getState(),t),i=e.get("entities");for(const e in n){const t=n[e];i.get(e).remove(t)}t&&t.budget===1/0&&Object.keys(n).length&&(0,M.c9)()},[F](){},[H](){},[W](){},[q](e,t,n){const i=(0,I.SW)(e,t),r=(0,I.js)(e,t),s=e.get("user").get("experienceSettings"),o=s.get("lastSourcePivots");if(!s.get("shouldSaveLastSourcePivots"))return;const a=(0,D.Z)(i.get("machineIdentifier"),r.get("identifier"),t.directoryID);n((0,h.LN)({lastSourcePivots:O(O({},o),{[a]:t.pivotKey})}))},[Q](e,t,n){n((0,h.LN)({lastSourcePivots:{}}))},[K](e,t,n){const i=(0,I.SW)(e,t),r=(0,I.js)(e,t),s=e.get("user").get("experienceSettings").get("savedPivotParams"),o=(0,D.Z)(i.get("machineIdentifier"),r.get("identifier"),t.directoryID,t.pivotKey);n((0,h.LN)({savedPivotParams:O(O({},s),{[o]:t.params})}))},[G](e,t){var n,i;i=t,(n=e.get("deviceSettings")).save(u(u({},i),{isSaving:!0,saveError:null})).then((()=>{n.set({isSaving:!1})}),(e=>{const t=e&&e.message||"";n.set({isSaving:!1,saveError:{message:t}})}))},[$](e){p.Z.trigger("discover:servers")},[J](e,t,n){const{machineIdentifier:i}=t,r=e.get("deviceSettings").get("dismissedUnclaimedServers");r[i]||n(fe({dismissedUnclaimedServers:O(O({},r),{[i]:!0})}))},[k](e,t){const{machineIdentifier:n}=t;e.get("servers").findServer(n).then((t=>{e.set({primaryServer:t,isWaitingForPrimaryServer:!1})}),(()=>{g.Z.warn("Unable to set primary server to:",n)}))},[L](e){e.set({primaryServer:null,isWaitingForPrimaryServer:!0})},[R](e,t){const{machineIdentifier:n}=t;e.get("servers").findServer(n).done((t=>{!t.get("isOutOfDate")&&t.get("isPrimaryEligible")&&e.get("primaryServer")!==t&&e.set({primaryServer:t,isWaitingForPrimaryServer:!1})}))},[U](e,t,n){const i=function(e,t=!0){let n="";return e&&("string"==typeof e.pathname?n=e.query?w.Z.join(e.pathname,e.query):e.pathname:"string"==typeof e&&(n=e)),n&&t&&0!==n.indexOf("#!")&&(n="#!"+n),n}(t);t.replace?window.location.replace(i):window.location.href=i},[Y](e,t,n){const{key:i,replace:r}=t,s=(0,I.SW)(e,t),o=(0,I.js)(e,t),a=(0,A.Z)(s.toJSON(),o.toJSON(),i);a&&n(pe({pathname:a,replace:r}))},[X](e,{route:t,params:n,replace:i}){r().defer((()=>{(0,C.Z)(t,n,i)}))},[ee](e,{url:t,replace:n}){n?window.location.replace(t):window.location.href=t},[te](e,{isFullscreen:t}){e.get("isFullscreen")!==t&&e.set("isFullscreen",t)},[oe](e,{isUpdateAvailable:t}){e.get("isUpdateAvailable")!==t&&e.set("isUpdateAvailable",t)},[ne](){},[ie](){},[re](e){e.get("cloudServer").populate()},[se](e,t){const{location:n}=t,i=e.get("history");i.length&&i[i.length-1].pathname===n.pathname&&i[i.length-1].search===n.search||e.set("history",[...i,{pathname:n.pathname,search:n.search}])},[B](e,{replace:t}={}){const n=e.get("history");if(n.length<2)e.set("history",[]),(0,C.Z)("home",{},t);else{const i=n.slice(0,n.length-1);e.set("history",i);const r=i[i.length-1];t?P.Z.replace(r):P.Z.push(r)}}})},31977:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e,t){return function(...n){const i="function"==typeof t?t(...n):n[0];return{type:e,payload:i}}}},9492:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i}),n(14710),n(35922);const i=function(e){return e}},96138:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(19755),r=n.n(i),s=(n(14710),n(4231)),o=n(80002),a=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e};function p(e){const{key:t,getModel:n}=e;return function(e){const{key:t,getModel:n,onResolved:i,onRejected:r}=e,a=(0,s.Z)(t),l=`is${a}Pending`,c=`is${a}Populated`,d=t?`${t}Error`:"error";return(t,s={},a)=>{const u=n(t,s),h=(u.sessionAttrs,u.get(l));u.set(l,!0),e.fetch(t,s,a).then((()=>{u.set({[l]:!1,[c]:!0,[d]:null}),i&&i(u,t,s,a)}),(e=>{const n=e.aborting?{[l]:h}:{[l]:!1,[d]:(0,o.Z)(e)};u.set(n),r&&r(u,t,s,a)}))}}(h(h({},e),{fetch(e,i){const s=n(e,i),o=t?s.get(t):s;return o?o.fetch(i.options).then(null,((e,t)=>r().Deferred().reject(t).promise())):r().Deferred().reject({status:0}).promise()}}))}},69726:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r}),n(14710);var i=n(4231);function r(e){const{key:t,fetchActionCreator:n,getModel:r}=e,s=`is${(0,i.Z)(t)}Populated`;return(e,t,i)=>{r(e,t).get(s)||i(n(t))}}},33752:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(50361),r=n.n(i),s=n(28381),o=n(34738),a=n(6772),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&h(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&h(e,n,t[n]);return e};function g(e,t){const n=(0,a.SW)(e,{serverEntityID:t.server.entityID}),i=(0,a.js)(e,{providerEntityID:t.provider.entityID});let l,c;t.itemServer&&(l=(0,a.SW)(e,{serverEntityID:t.itemServer.entityID})),t.itemProvider&&(c=(0,a.js)(e,{providerEntityID:t.itemProvider.entityID}));const d=r()(p(p({},t.metadataItem),t.metadataItemState));if(d.source){const{serverIdentifier:e,providerIdentifier:n}=(0,o.Z)(d.source);e===t.server.machineIdentifier&&n===t.provider.identifier&&delete d.source}const u=new s.Z(d,{server:n,provider:i,identifier:t.provider.identifier,parse:!0});null==u._populatedParams&&(u._populatedParams={});const h={includeExternalMedia:1};return d.preferences&&(h.includePreferences=1),d.extras&&(h.includeExtras=1),d.stations&&(h.includeStations=1),d.onDeck&&(h.includeOnDeck=1),d.popularLeaves&&(h.includePopularLeaves=1),d.Concert&&(h.includeConcerts=1),d.Chapter&&(h.includeChapters=1),Object.assign(u._populatedParams,h),{serverModel:n,providerModel:i,itemServerModel:l,itemProviderModel:c,metadataItemModel:u}}},25859:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(80731),r=n(71746);const s="plain",o=function(e){if(!i.Z.shouldRequestHTMLFromCloudProvider)return s;const t=[r.HG,r.w1];return r.wB(e,t)?"html":s}},71790:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(19755),r=n.n(i),s=n(28941),o=n(39620),a=n(71065),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&h(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&h(e,n,t[n]);return e};function g(e,t){const{libraryID:n,libraryType:i,cancel:l,force:c,allowMetrics:d,metricsProperties:u={}}=t,h=c?{force:1}:void 0,g=a.Z.join(["/library/sections",n,"refresh"],h),m=e.getXHROptions(g,{type:l?"DELETE":"GET"});if(d){let e;e=l?o.fV:c?o.uz:o.i0,(0,s.DB)("metrics").trackClick(p(p({},u),{action:e,type:"all"===n?"all":i}))}return r().ajax(m).promise()}},21392:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return e.get("ui").get("authCodeExchange")}},72250:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(19755),r=n.n(i);const s=function(e){const t=e.get("cloudServer");return r().ajax(t.getXHROptions("/api/v2/pins",{method:"POST",dataType:"json",data:{strong:!0}})).then((e=>e))}},15084:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(2932);const r=function(e){const t=e&&e.responseJSON,n=!t&&e&&e.responseText&&i.Z.parseXML(e.responseText),r=t&&t.errors||n&&n.error;return r?Array.isArray(r)?r:[r]:[]}},19738:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i,r,s=n(13469),o=n.n(s),a=n(21235);function l(e,t){switch(t){case i.Subscription:switch(e){case"1003":return(0,a.Z)("Subscriptions have been temporarily disabled: too many failed attempts. Please try again later.")}break;case i.SendRecoveryCode:switch(e){case"1001":return(0,a.Z)("User could not be authenticated.");case"1003":return(0,a.Z)("A temporary recovery code has already been sent recently. Please try again later.");case"1028":return(0,a.Z)("Invalid recovery code")}}switch(e){case"1001":return(0,a.Z)("The username or password is incorrect");case"1003":return(0,a.Z)("Sign in has been temporarily disabled: too many failed attempts. Please try again later.");case"1004":return(0,a.Z)("Authentication failed. Please try again later.");case"1010-login":return(0,a.Z)("Login is required");case"1010-password":return(0,a.Z)("Password is required");case"1010-email":return(0,a.Z)("Email is required");case"1011-username":return(0,a.Z)("Username has already been taken");case"1011-email":return(0,a.Z)("Email has already been taken");case"1028":return(0,a.Z)("Invalid verification code");case"1029":return(0,a.Z)("Please enter the verification code");case"1030":return(0,a.Z)("This account only allows signing in with an email address");case"1031":return(0,a.Z)("The username or password is incorrect. Repeated attempts may temporarily disable sign in.");case"1032-password":return(0,a.Z)("Password must be at least 8 characters");case"1033-password":return(0,a.Z)("Password is too weak");case"1034-password":return(0,a.Z)("Password must be different from username or email address");case"1035-email":return(0,a.Z)("Email is not a valid email address");case"1036-username":return(0,a.Z)("Username must not be an email address");case"1037-username":return(0,a.Z)("Username contains invalid characters");case"1038-pin":return(0,a.Z)("Pin must be 4 digits");case"1039-passwordConfirmation":return(0,a.Z)("Confirm Password must match Password");case"1040":case"1044":return(0,a.Z)("Invalid Password")}}function c(e,t){const n=e&&e[0];return n?o().isObject(n)?function(e,t){if(!e)return;const n=String(e.code);return l(`${e.code}-${e.field}`,t)||l(n,t)||e.message||(0,a.Z)("An unknown error occurred")}(n,t):n:(0,a.Z)("There was a problem signing in to Plex.")}(r=i||(i={})).Subscription="subscription",r.SendRecoveryCode="sendRecoveryCode"},62334:(e,t,n)=>{"use strict";n.d(t,{Zu:()=>Q,dB:()=>K,RG:()=>$,t9:()=>J,Oj:()=>X,nP:()=>ee,mp:()=>te,CM:()=>ne,e0:()=>ie,ay:()=>re,wQ:()=>ce});var i=n(19755),r=n.n(i),s=n(28941),o=n(28381),a=n(31977),l=n(96138),c=n(69726),d=n(71790),u=n(21847),h=n(4545),p=n(34510),g=n(37517),m=n(39620),f=n(54676),y=n(22220),v=n(35785),b=n(11172),Z=n(82590),S=n(79154),I=n(6772),M=n(63542),w=n(21235),P=n(50958),C=n(71065),D=n(80002),A=n(74926),x=n(12359),E=Object.defineProperty,T=Object.prototype.hasOwnProperty,j=Object.getOwnPropertySymbols,N=Object.prototype.propertyIsEnumerable,O=(e,t,n)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k=(e,t)=>{for(var n in t||(t={}))T.call(t,n)&&O(e,n,t[n]);if(j)for(var n of j(t))N.call(t,n)&&O(e,n,t[n]);return e};const L="provider/fetchCloudProviders",R="provider/populateCloudProviders",z="providers/fetchProvider",V="providers/populateProvider",_="provider/addToCatalog",U="provider/clearAddToCatalogError",B="provider/scanLibraryFiles",F="provider/editLibrary",H="provider/analyzeLibrary",W="provider/emptyLibraryTrash",Y="provider/deleteLibrary",G="provider/upgradeLibrary",q=(0,a.Z)(L),Q=(0,a.Z)(R),K=(0,a.Z)(z,(e=>{const{options:t={}}=e;return k(k({},e),{options:k(k({},t),{allowHeadersInUrl:!1})})})),$=(0,a.Z)(V),J=((0,a.Z)(_),(0,a.Z)(U),(0,a.Z)(B)),X=(0,a.Z)(F),ee=(0,a.Z)(W),te=(0,a.Z)(H),ne=(0,a.Z)(Y),ie=(0,a.Z)(G),re=(0,a.Z)(B,(e=>k(k({},e),{force:!0})));function se(e){const t=e.get("key");return e.get("id")||t.substr(t.lastIndexOf("/")+1)}function oe(e,t){const n=(0,I.js)(e,t).get("features").get(v.Z.CONTENT),i={};return t.contentDirectory.key&&(i.key=t.contentDirectory.key),t.contentDirectory.hubKey&&(i.hubKey=t.contentDirectory.hubKey),n.get("directories").findWhere(i)}function ae(e,t){const n=e.get("features").get(v.Z.CONTENT).get("key");let i;return i=n?C.Z.join([n,t.get("id")]):t.get("key"),i}function le(e,t){e(u.lm({serverEntityID:t})),e(u.tU({serverEntityID:t})),e((0,h.jR)({serverEntityID:t}))}(0,a.Z)(B,(e=>k(k({},e),{cancel:!0})));const ce={[L]:(0,l.Z)({key:"providers",getModel:I.VX}),[R]:(0,c.Z)({key:"providers",fetchActionCreator:q,getModel:I.VX}),[z]:(0,l.Z)({getModel:I.js}),[V]:(0,c.Z)({getModel:I.js,fetchActionCreator:K}),[U](e,t){e.get("ui").get("addToCatalogModal").set("error",null)},[_](e,t,n){const i=e.get("ui").get("addToCatalogModal"),s=(0,I.js)(e,t),a=s.get("features").get("actions").get("actions").get("addToCatalog").get("key");if((0,M.c9)((()=>{i.set({isUpdating:!0,error:null})})),t.data.fileURL){const e=new window.XMLHttpRequest;return e.open("GET",t.data.fileURL,!0),e.responseType="blob",e.onload=e=>{if(200===e.target.status){const t=e.target.response,n=new window.FormData;n.append("file",t);const o=s.getXHROptions(a,{method:"POST",processData:!1,contentType:!1,data:n});r().ajax(o).then(((e,t,n)=>{i.set({isUpdating:!1})}),(e=>{i.set({isUpdating:!1,error:(0,D.Z)(e)})}))}window.URL.revokeObjectURL(t.data.fileURL)},void e.send()}const l=C.Z.join(a,{url:t.data.channelURL}),c=s.getXHROptions(l,{method:"PUT",dataType:"json"});r().ajax(c).then(((e,t,n)=>{i.set("isUpdating",!1);const r=new o.Z(e,{server:s.server,provider:s,parse:!0});if(!r.get("key"))return void i.set({isUpdating:!1,error:(0,D.Z)(n)});const a=(0,x.Z)(s.server.state,s.state,r.get("key"));window.location.hash=a}),(e=>{i.set({isUpdating:!1,error:(0,D.Z)(e)})}))},[B](e,t,n){const{cancel:i,force:r,metricsPage:s}=t,o=(0,I.SW)(e,t),a=oe(e,t),l={libraryID:se(a),libraryType:a.get("type"),cancel:i,force:r,allowMetrics:!!s,metricsProperties:{page:s}};a.set("refreshing",!i),(0,d.Z)(o,l).fail((e=>{let t;t=i?(0,w.Z)("There was an unexpected error canceling the scan."):r?503===e.status?(0,w.Z)("An internet connection is required to refresh library metadata. Please check this server's connection and try again."):(0,w.Z)("There was an unexpected error refreshing library metadata."):503===e.status?(0,w.Z)("An internet connection is required to scan library files. Please check this server's connection and try again."):(0,w.Z)("There was an unexpected error scanning library files."),n((0,h.wp)(t))})).always((e=>{n(u.Vk({serverEntityID:t.serverEntityID}))}))},[F](e,t){const n=(0,I.SW)(e,t),i=n.get("desktop").get("libraries"),r=oe(e,t);i.fetch().then((()=>{const e=se(r),o=i.get(e);Z.Z.trigger("show:modal",new A.Z({server:n,model:o})),(0,s.DB)("metrics").trackClick({page:t.metricsPage,action:m.Yf,type:o.get("type"),context:f.Y3})}))},[W](e,t,n){const i=(0,I.SW)(e,t),o=(0,I.js)(e,t),a=oe(e,t),l=ae(o,a),c=C.Z.join([l,"emptyTrash"]),d=i.getXHROptions(c,{type:"PUT"});r().ajax(d).done((()=>{n((0,h.wp)({type:g.M,message:(0,w.Z)("The trash was emptied.")}))})).fail((e=>{n((0,h.wp)((0,w.Z)("There was a problem emptying the trash.")))})),(0,s.DB)("metrics").trackClick({page:t.metricsPage,action:m.yZ,type:a.get("type"),context:f.Y3})},[H](e,t,n){const i=(0,I.SW)(e,t),o=(0,I.js)(e,t),a=oe(e,t),l=ae(o,a),c=C.Z.join([l,"analyze"]),d=i.getXHROptions(c,{type:"PUT"});r().ajax(d).fail((e=>{n((0,h.wp)((0,w.Z)("There was a problem analyzing the library.")))})),(0,s.DB)("metrics").trackClick({page:t.metricsPage,action:m.JM,type:a.get("type"),context:f.Y3})},[Y](e,t,n){const i=(0,I.SW)(e,t),o=(0,I.js)(e,t),a=oe(e,t),l=ae(o,a),c=C.Z.join(l,{async:1}),d=i.getXHROptions(c,{type:"DELETE"});o.get("features").get(v.Z.CONTENT).get("directories").remove(a),r().ajax(d).fail((()=>{le(n,t.serverEntityID),n((0,h.wp)((0,w.Z)("There was a problem deleting the library.")))})),(0,s.DB)("metrics").trackClick({page:t.metricsPage,action:m.b1,type:a.get("type"),context:f.Y3})},[G](e,t,n){const i=(0,I.SW)(e,t),s=(0,I.js)(e,t),o=oe(e,t),a=o.get("type");let l;l=a===P.wR?{agent:p.WX,scanner:b.Lx}:a===P.R0?{agent:p.Ut,scanner:b.c3}:{agent:p.Zb,scanner:b.QQ};const c=ae(s,o),d=C.Z.join(c,l),g=i.getXHROptions(d,{type:"PUT"}),m=r().ajax(g).then((()=>{le(n,t.serverEntityID)}),(()=>{n((0,h.wp)((0,w.Z)("There was a problem upgrading the library.")))}));t.options.refreshMetadata&&m.then((()=>{n(u.iE({serverEntityID:t.serverEntityID,cancel:!1,force:!0,metricsPage:y.xC}))}))},[u.Cs](e,t,n){t.activity.type===S.y0&&le(n,t.serverEntityID)}}},97658:(e,t,n)=>{"use strict";n.d(t,{SP:()=>A,r8:()=>N,HM:()=>T,Fi:()=>x,rg:()=>E});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(28941),l=n(20165),c=n(31977),d=n(4141),u=n(2932);var h=n(42466),p=n(71065);const g=function(e,t,n,i){const s=e.get("user"),o=e.get("cloudServer");return s.get("anonymous")?r().Deferred().reject().promise():r().ajax(o.getXHROptions("/api/claim/token",{headers:{"X-Plex-Token":n}})).promise().then((e=>u.Z.parseXML(e).token)).then((e=>r().ajax(t.getXHROptions(p.Z.join("/myplex/claim",{token:e}),{type:"POST"})))).then((()=>function(e,t){const n=e.get("cloudServer").get("resources"),i={clientIdentifier:t.get("machineIdentifier")};return function(e,t={}){let n=Math.floor(Math.max(t.times||0,0));const i=Math.floor(Math.max(t.delay||0,0));t.cancel&&t.cancel.always((()=>{n=-1}));const s=r().Deferred();let o;return t.maxDuration&&(o=window.setTimeout((()=>{s.reject("maxDuration")}),t.maxDuration)),function t(){n<0||e().done((function(){o&&window.clearTimeout(o),s.resolve(...arguments)})).fail((function(){n-=1,n<0?(o&&window.clearTimeout(o),s.reject(...arguments)):"pending"===s.state()&&window.setTimeout(t,i)}))}(),s.promise()}((()=>n.fetch().then((()=>n.findWhere(i)?r().Deferred().resolve().promise():r().Deferred().reject().promise()))),{times:30,delay:1e3})}(e,t))).then((()=>{let e;return(0,h.Z)(t)&&(e=t.getXHROptions("/media/providers")),t.fetch(e)})).then((()=>function(e,t,n){const i=r().Deferred();return e.get("primaryServer")===t?i.resolve():(e.once("change:primaryServer",i.resolve),n()),function(e,t){const n=r().Deferred(),i=window.setTimeout((()=>{n.reject()}),t);return e.then(n.resolve,n.reject).always((()=>{window.clearTimeout(i)})),n.promise()}(i.promise(),2e3)}(e,t,i))).then((()=>{const e=s.get("email"),n=t.get("desktop").get("cloudAccount");t.set({myPlexSigninState:d.Hq,myPlexUsername:e}),n.set({signedIn:!0,username:e})}))};var m=n(21392);var f=n(72250),y=n(15084),v=n(19738),b=n(54676),Z=n(59140),S=n(82590),I=n(6772),M=n(21235);const w="server/claim/claimServer",P="server/claim/signInThenClaimServer",C="server/claim/signOutServer",D="server/claim/createPIN",A=(0,c.Z)(w),x=(0,c.Z)(P),E=(0,c.Z)(C),T=(0,c.Z)(D);function j(e,t,n){const{authToken:i}=t,r=(0,I.SW)(e,t),s=(0,m.Z)(e);s.set({errorMessage:null,isBusy:!0});const o=(0,a.DB)("metrics");return g(e,r,i,(()=>{n((0,l.h9)({machineIdentifier:r.id,metricsProperties:{context:b.L6}}))})).done((()=>{o.trackEvent({event:Z.Yg,interaction:!0})})).fail((()=>{o.trackEvent({event:Z.Jk,interaction:!1}),s.set({errorMessage:(0,M.Z)("There was a problem claiming this server."),isBusy:!1})}))}const N={[w](e,t,n){j(e,t,n).then((()=>{(0,m.Z)(e).set({errorMessage:null,isBusy:!1})}))},[P](e,t,n){(function(e,t){const n=e.get("user"),{authToken:i}=t;return r().ajax(n.server.getXHROptions(o().result(n,"url"),{headers:{"X-Plex-Token":i}})).then((e=>n.signIn(e,{})))})(e,t).then((()=>j(e,t,n))).then((()=>{(0,m.Z)(e).set({errorMessage:null,isBusy:!1})})).fail((t=>{const n=(0,y.Z)(t);S.Z.trigger("show:alert",{message:(0,v.Z)(n)}),(0,m.Z)(e).set({errorMessage:(0,M.Z)("There was a problem claiming this server."),isBusy:!1})}))},[C](e,t,n){const i=(0,I.SW)(e,t).get("desktop").get("cloudAccount"),r=(0,m.Z)(e);var s;r.set({errorMessage:null,isBusy:!0}),(s=i,s.destroy({timeout:0}).promise().done((()=>{s.server.set({accessToken:void 0,myPlexSigninState:d.Ar,myPlexSubscription:!1}),s.restoreDefaults()}))).done((()=>{r.set({errorMessage:null,isBusy:!1})})).fail((()=>{r.set({errorMessage:(0,M.Z)("There was a problem signing the server out."),isBusy:!1})}))},[D](e,t,n){const i=(0,f.Z)(e),r=(0,m.Z)(e);i.then((e=>{r.set({pinID:e.id,code:e.code,isBusy:!0})})),i.fail((()=>{r.set({fatalErrorMessage:(0,M.Z)("An error occurred"),isBusy:!1})}))}}},21847:(e,t,n)=>{"use strict";n.d(t,{Cs:()=>ne,WV:()=>te,zg:()=>De,Wy:()=>Be,JZ:()=>He,zl:()=>Qe,ll:()=>Ye,J3:()=>Ce,Af:()=>Ge,Hz:()=>qe,LW:()=>Oe,f4:()=>Ne,tU:()=>Le,lm:()=>ke,uq:()=>Ee,Q6:()=>We,R_:()=>Ve,gj:()=>Re,o1:()=>Ue,Iy:()=>Je,TV:()=>Ae,iE:()=>Fe,Vk:()=>Pe,UU:()=>xe,m7:()=>_e});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(28941),l=n(74275),c=n(4141),d=n(20165),u=n(31977),h=n(96138),p=n(69726),g=n(33752),m=n(71790),f=n(4545),y=n(25655),v=n(37517),b=n(39620),Z=n(54676),S=n(77153),I=n(82590),M=n(79154),w=n(86076),P=n(80731),C=n(44560),D=n(49521);var A=n(6772),x=n(63542),E=n(21235),T=n(71065),j=n(50290),N=n(37131),O=n(25051),k=n(7496),L=n(86190),R=n.n(L);const z=O.Z.extend({className:"alert-bar notify",template:R(),events:o().extend({"click .setup-link":"onSetupClick"},O.Z.prototype.events),serializeData(){return{model:this.model.get("model"),make:this.model.get("make"),dvrSettingsRoute:(0,k.Z)("manage","dvr")}},disableDevice(){const e=(0,a.DB)("appStore"),t=this.options.serverEntityID;t&&e.dispatch((0,N._w)({serverEntityID:t,deviceID:this.model.id,enabled:!1}))},onSetupClick(){this.hide(),this.disableDevice()},onCloseClick(e){O.Z.prototype.onCloseClick.apply(this,arguments),this.disableDevice()}});var V=n(74926),_=n(32846),U=n(9739),B=n.n(U);const F=_.Z.extend({template:B(),events:o().extend({"click .learn-more":"onLearnMoreClick"},_.Z.prototype.events),onRender:function(){_.Z.prototype.onRender.apply(this,arguments),(0,a.DB)("metrics").trackView({page:"relayNotification",mode:"modal",action:b.GP},{interaction:!1})},onHide(){_.Z.prototype.onHide.apply(this,arguments),(0,a.DB)("metrics").trackClick({page:"relayNotification",mode:"modal",action:b.GP})},onLearnMoreClick(){(0,a.DB)("metrics").trackClick({page:"relayNotification",mode:"modal",action:b.yq})},serializeData(){return{serverName:this.options.serverName,escapedServerName:o().escape(this.options.serverName)}}});var H=Object.defineProperty,W=Object.prototype.hasOwnProperty,Y=Object.getOwnPropertySymbols,G=Object.prototype.propertyIsEnumerable,q=(e,t,n)=>t in e?H(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q=(e,t)=>{for(var n in t||(t={}))W.call(t,n)&&q(e,n,t[n]);if(Y)for(var n of Y(t))G.call(t,n)&&q(e,n,t[n]);return e};const K="server/testServer",$="server/testServers",J="server/confirmRelayConnection",X="server/addHttpFallbackConnection",ee="server/startActivity",te="server/updateActivity",ne="server/finishActivity",ie="server/startSyntheticActivity",re="server/finishSyntheticActivity",se="server/eventConnectionOpen",oe="server/eventConnectionClose",ae="server/fetchProviders",le="server/populateProviders",ce="server/fetchLibraries",de="server/populateLibraries",ue="server/redispatchLegacyServerAction",he="server/fetchSettings",pe="server/populateSettings",ge="server/updateSetting",me="server/saveSetting",fe="server/addLibrary",ye="server/startLibrariesRefresh",ve="server/allowHttpFallback",be="server/optimizeDatabase",Ze="server/cleanBundles",Se="server/emptyTrash",Ie="server/deleteServer",Me="server/discoverMediaGrabberDevice",we="server/populateHasiTunes",Pe=(0,u.Z)(K),Ce=((0,u.Z)($),(0,u.Z)(J)),De=(0,u.Z)(X),Ae=(0,u.Z)(ee),xe=(0,u.Z)(te),Ee=(0,u.Z)(ne),Te=(0,u.Z)(ie),je=(0,u.Z)(re),Ne=(0,u.Z)(se),Oe=(0,u.Z)(oe),ke=(0,u.Z)(ae),Le=((0,u.Z)(le),(0,u.Z)(ce)),Re=((0,u.Z)(de),(0,u.Z)(ue)),ze=(0,u.Z)(he),Ve=(0,u.Z)(pe),_e=(0,u.Z)(ge),Ue=(0,u.Z)(me),Be=(0,u.Z)(fe),Fe=(0,u.Z)(ye),He=(0,u.Z)(ve),We=(0,u.Z)(be),Ye=(0,u.Z)(Ze),Ge=((0,u.Z)(Se),(0,u.Z)(Ie)),qe=(0,u.Z)(Me),Qe=((0,u.Z)(we),(0,u.Z)(ye,(e=>Q(Q({},e),{cancel:!0}))));function Ke(e,t){(0,a.DB)("metrics").trackClick({page:t,action:e,context:Z.cN})}function $e(e,t){const n=(0,A.SW)(e,t),i=(0,A.Y7)(e,t).get("settings").get(t.setting.id);if(i){const e=i.parse(t.setting);i.set("value",e.value),"FriendlyName"===e.id&&e.value?n.set("friendlyName",e.value):"allowMediaDeletion"===e.id&&n.set("allowMediaDeletion",e.value)}}const Je={[K](e,t){const n=(0,A.SW)(e,t);I.Z.trigger("test:server",n)},[$](){I.Z.trigger("test:servers")},[ee](e,t,n){const i=(0,A.Y7)(e,t);if(!i)return;const r=t.activity;i.get("activities").add([r],{parse:!0}),r.synthetic||n(je({serverEntityID:t.serverEntityID,activityType:r.type}))},[te](e,t){const n=(0,A.Y7)(e,t);n&&n.get("activities").add([t.activity],{parse:!0,merge:!0})},[ne](e,t){const n=(0,A.Y7)(e,t);n&&n.get("activities").remove(t.activity.uuid)},[ie](e,t,n){(0,x.c9)((()=>{const e={type:t.activityType,synthetic:!0,uuid:`${t.activityType}-${Date.now()}`};t.title&&(e.title=t.title),t.Context&&(e.Context=t.Context),n(Ae({serverEntityID:t.serverEntityID,activity:e}))}))},[re](e,t){const n=(0,A.Y7)(e,t);if(!n)return;const i=n.get("activities"),{activityType:r,Context:s,title:a}=t,l=i.findWhere((e=>e.get("type")===r&&!0===e.get("synthetic")&&(!a||e.get("title")===a)&&(!s||o().isEqual(e.get("Context"),s))));l&&i.remove(l)},[se](e,t){const n=(0,A.SW)(e,t),i=(0,A.Y7)(e,t);if(!n||!i)return;const r=i.get("activities");n.set("hasEventConnection",!0),r.fetch()},[oe](e,t){const n=(0,A.SW)(e,t);n&&n.set("hasEventConnection",!1)},[ae]:(0,h.Z)({key:"providers",getModel:A.SW}),[le]:(0,p.Z)({key:"providers",fetchActionCreator:ke,getModel:A.SW}),[ce]:(0,h.Z)({key:"libraries",getModel:A.Y7}),[de]:(0,p.Z)({key:"libraries",fetchActionCreator:Le,getModel:A.Y7}),[ue](e,t,n){const{serverModel:i,providerModel:r}=(0,g.Z)(e,t),s=t.legacyAction.type,o=t.legacyAction.payload;n({type:s,payload:Q(Q({},o),{serverEntityID:i.entityID(),providerEntityID:r.entityID()})})},[he]:(0,h.Z)({key:"settings",getModel:A.Y7}),[pe]:(0,p.Z)({key:"settings",fetchActionCreator:ze,getModel:A.Y7}),[ge](e,t){$e(e,t)},[me](e,t){const n=(0,A.Y7)(e,t).get("settings").get(t.setting.id);(0,x.c9)((()=>n.set({isSaving:!0}))),$e(e,t),n.save().then((()=>n.set({isSaving:!1})),(()=>n.set({isSaving:!1})))},[J](e,{machineIdentifier:t,serverName:n},i){const r=e.get("user").get("experienceSettings").get("reminders"),s=(0,j.Z)(S.Z.Relay,t),o=r.get(s);if(o&&!((a=o.get("remindAfter"))&&"string"==typeof a&&Date.now()>=new Date(a).getTime()))return;var a;const l=new F({serverName:n});I.Z.trigger("show:modal",l),i((0,y.JY)({id:s}))},[X](e,t){const n=(0,A.SW)(e,t),i=e.get("user").get("experienceSettings").get("allowHttpFallback");!function(e,t,n,i){if(function(e,t){if(!e.get("isFullServer"))return!1;if(D.Z.isHostedHttps&&!P.Z.allowMixedContent)return!1;const n=t===C.Z.ALWAYS,i=t===C.Z.SAME_NETWORK;return!!(n||i&&e.get("publicAddressMatches"))}(e,i)){const i=e.addConnection({scheme:"http",address:t,port:n,isFallback:!0});(0,w.Z)("[Connections] Added insecure fallback connection for %s at %s",e.get("debugName"),i.id)}else w.Z.warn("[Connections] Prevented fallback to insecure connection for",e.get("debugName"))}(n,t.address,t.port,i)},[fe](e,t){const n=(0,A.SW)(e,t),{options:i={}}=t,r=new V.Z(Q({server:n,redirect:!1!==t.redirect},i));I.Z.trigger("show:modal",r),Ke(b.wl,t.metricsPage)},[ye](e,t,n){const{cancel:i,force:r,metricsPage:s}=t,o=(0,A.SW)(e,t),a={serverModel:o,libraryID:"all",cancel:i,force:r,allowMetrics:!!s,metricsProperties:{page:s}};t.cancel&&(0,A.Y7)(e,t).get("libraries").each((e=>e.set("refreshing",!1))),(0,m.Z)(o,a).fail((()=>{const e=t.cancel?(0,E.Z)("There was a problem canceling the update."):(0,E.Z)("There was a problem updating libraries.");n((0,f.wp)(e))})).always((()=>{n(Le({serverEntityID:t.serverEntityID}))}))},[ve](e,t,n){n((0,y.LN)({allowHttpFallback:t.allowHttpFallback})),n(Pe({serverEntityID:t.serverEntityID}))},[be](e,t,n){const i=(0,A.SW)(e,t),s=(0,A.Y7)(e,t),o=i.supports("optimizeDatabaseActivity"),a=T.Z.join("/library/optimize",o?{async:1}:{}),l=i.getXHROptions(a,{type:"PUT"});n(Te({serverEntityID:t.serverEntityID,activityType:M.nJ})),s.set({optimizeDatabaseError:null}),r().ajax(l).done((()=>{o||n(je({serverEntityID:t.serverEntityID,activityType:M.nJ}))})).fail((()=>{s.set({optimizeDatabaseError:(0,E.Z)("There was a problem optimizing the database.")}),n(je({serverEntityID:t.serverEntityID,activityType:M.nJ})),t.hideAlerts||n((0,f.wp)((0,E.Z)("There was a problem optimizing the database.")))})),Ke(b.nJ,t.metricsPage)},[Ze](e,t,n){const i=(0,A.SW)(e,t),s=(0,A.Y7)(e,t),o=T.Z.join("/library/clean/bundles",{async:1}),a=i.getXHROptions(o,{type:"PUT"});n(Te({serverEntityID:t.serverEntityID,activityType:M.zL})),s.set({cleanBundlesError:null}),r().ajax(a).fail((()=>{s.set({cleanBundlesError:(0,E.Z)("There was a problem removing unused bundles.")}),n(je({serverEntityID:t.serverEntityID,activityType:M.zL})),t.hideAlerts||n((0,f.wp)((0,E.Z)("There was a problem removing unused bundles.")))})),Ke(b.zL,t.metricsPage)},[Se](e,t,n){const i=(0,A.SW)(e,t),s=(0,A.Y7)(e,t).get("libraries");(t.libraryID?r().Deferred().resolve([t.libraryID]).promise():s.populate().then((()=>s.map((({id:e})=>e))))).then((e=>{const t=e.map((e=>r().ajax(i.getXHROptions(`/library/sections/${e}/emptyTrash`,{type:"PUT"}))));return r().when(...t)})).then((()=>{n((0,f.wp)({type:v.M,message:(0,E.Z)("The trash was emptied.")}))}),(e=>{n((0,f.wp)((0,E.Z)("There was a problem emptying the trash.")))})),Ke(b.yZ,t.metricsPage)},[Ie](e,t,n){const i=(0,A.SW)(e,t),s=e.get("cloudServer");if(!i)return;if(s.get("isResolved")){const e=s.getXHROptions(`/api/servers/${i.id}`,{type:"DELETE"});r().ajax(e)}const o=s.get("resources").get(i.id);o&&o.trigger("destroy",o,o.collection),i.get("isFullOwnedServer")&&i.get("isConnected")?i.get("desktop").get("cloudAccount").destroy().done((()=>{i.set({myPlexSigninState:c.Ar,myPlexSubscription:!1})})).always((()=>{n(Pe({serverEntityID:t.serverEntityID})),i.populate().fail((function(){i.trigger("destroy",i,i.collection),n((0,d.im)({route:"home"}))}))})):(i.trigger("destroy",i,i.collection),n((0,d.im)({route:"home"}))),Ke(b.FR,t.metricsPage)},[Me](e,t){const n=(0,A.SW)(e,t),i=e.get("ui").get("dvrSettingsUI"),r=t.device;if(i.get("isUIPopulated"))return;const s=new z({model:new l.ZP(r,{parse:!0}),serverEntityID:t.serverEntityID,machineIdentifier:n.get("machineIdentifier")});I.Z.trigger("show:bar","alertbar",s)},[we](e,t){const n=(0,A.SW)(e,t),i=(0,A.Y7)(e,t);if(!i.get("isHasiTunesPopulated")){const e=T.Z.join("/music/iTunes"),t=n.getXHROptions(e);r().ajax(t).done((()=>{i.set({hasiTunes:!0,isHasiTunesPopulated:!0})})).fail((()=>{i.set({hasiTunes:!1,isHasiTunesPopulated:!0})}))}}}},40728:(e,t,n)=>{"use strict";n.d(t,{Tz:()=>A,xf:()=>x,xx:()=>E,Or:()=>T,wR:()=>j,KH:()=>N});var i=n(19755),r=n.n(i),s=n(20165),o=n(31977),a=n(49112),l=n(82590),c=n(6772),d=n(21235),u=n(71065),h=n(32846),p=Object.defineProperty,g=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,f=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))g.call(t,n)&&y(e,n,t[n]);if(m)for(var n of m(t))f.call(t,n)&&y(e,n,t[n]);return e};const b="serverUpdate/fetchServerUpdateStatus",Z="serverUpdate/checkForServerUpdate",S="serverUpdate/dismissServerUpdate",I="serverUpdate/downloadServerUpdate",M="serverUpdate/installServerUpdate";function w(e,t){const{download:n,initialState:i,isChecking:s=!0}=t,o={download:n?"1":"0"},l=u.Z.join("/updater/check",o),c=e.getXHROptions(l,{type:"PUT"}),d=e.get("desktop").get("update"),h={isChecking:s};null!=i&&(h.state=i),d.set(h),r().ajax(c).then(null,(()=>{d.set({isChecking:!1,state:a.ERROR})}))}function P(e,t){const n=u.Z.join(["/updater/apply"],t),i=e.getXHROptions(n,{type:"PUT"});return r().ajax(i)}function C(e){const t=e.get("desktop").get("update");P(e).then((()=>{t.set("state",a.INSTALLING),e.set("isInstallingServerUpdate",!0)}),(()=>{t.set("state",a.ERROR),e.set("isInstallingServerUpdate",!1)}))}function D(e,t,n,i){const r=e.get("deviceSettings").get("dismissedServerUpdateVersions");t((0,s.T5)({dismissedServerUpdateVersions:v(v({},r),{[n.get("machineIdentifier")]:i})}))}const A=(0,o.Z)(b),x=(0,o.Z)(Z),E=(0,o.Z)(S),T=(0,o.Z)(I),j=(0,o.Z)(M),N={[b](e,t){const n=(0,c.SW)(e,t),i=(0,c.Y7)(e,t).get("update");n.get("isFullOwnedServer")&&n.get("updater")&&!n.get("isOutOfDate")&&!i.get("isChecking")&&(i.set({isChecking:!0}),i.fetch().then((()=>{const e=i.get("state"),t=e===a.DONE||e===a.ERROR||e===a.NONE;w(n,{isChecking:t})}),(()=>{i.set({isChecking:!1})})))},[Z](e,t){const{download:n,initialState:i}=t;w((0,c.SW)(e,t),{download:n,initialState:i})},[S](e,t,n){const i=(0,c.SW)(e,t);(0,c.Y7)(e,t).get("update").get("canInstall")?P(i,{skip:1}).then((()=>{n(A(t))}),(()=>{D(e,n,i,t.version)})):D(e,n,i,t.version)},[I](e,t){w((0,c.SW)(e,t),{download:!0,initialState:a.DOWNLOADING})},[M](e,t){const n=(0,c.SW)(e,t);if(n.get("activeConnection").get("isLoopback"))C(n);else{const e=new h.Z({title:(0,d.Z)("Remote Installation"),confirmLabel:(0,d.Z)("Continue"),cancelLabel:(0,d.Z)("Cancel"),message:(0,d.Z)("The installer may display dialogs that require input. Make sure you have desktop access to the computer running Plex Media Server before continuing.")});l.Z.trigger("show:modal",e),e.promise.then((()=>C(n)))}}}},36023:(e,t,n)=>{"use strict";n.d(t,{Sn:()=>f,_S:()=>y,oP:()=>v,fh:()=>b,Pv:()=>Z,N$:()=>M});var i=n(19755),r=n.n(i),s=n(63489),o=n(31977),a=n(9492),l=n(96138),c=n(6772),d=n(71065);const u="ui/dvrSettings/initDVRSettingsUI",h="ui/dvrSettings/clearDVRSettingsUI",p="ui/dvrSettings/fetchDVRs",g="ui/dvrSettings/reloadGuide",m="ui/dvrSettings/cancelReloadGuide",f=(0,o.Z)(u),y=(0,o.Z)(h),v=(0,o.Z)(p),b=(0,o.Z)(g),Z=(0,o.Z)(m);function S(e){return e.get("ui").get("dvrSettingsUI")}function I(e,t,n){const i=(0,c.SW)(e,t),s=d.Z.join(["/livetv/dvrs",t.dvrID,"reloadGuide"]),o=i.getXHROptions(s,{method:n});r().ajax(o)}const M=(0,a.Z)({[p]:(0,l.Z)({key:"dvrs",getModel:S}),[u](e,t,n){const i=S(e),r=i.get("dvr"),o=(0,c.SW)(e,t),a=o.get("machineIdentifier"),l={isUIPopulated:!0};r&&r.server.get("machineIdentifier")===a||(l.dvrs=new s.Z([],{server:o})),i.set(l),(o.hasOwnerFeature("dvr")||o.hasOwnerFeature("livetv"))&&n(v(t))},[h](e){S(e).set("isUIPopulated",!1)},[g](e,t,n){I(e,t,"POST")},[m](e,t,n){I(e,t,"DELETE")}})},37131:(e,t,n)=>{"use strict";n.d(t,{q9:()=>f,JA:()=>y,T5:()=>v,Ao:()=>b,ds:()=>Z,_w:()=>S,on:()=>P});var i=n(19755),r=n.n(i),s=n(31977),o=n(9492),a=n(6772),l=n(71065),c=n(80002);const d="SAVE_DVR_SETTINGS",u="CLEAR_DVR_SETTINGS_SAVE_ERROR",h="SAVE_DEVICE_SETTINGS",p="SAVE_DEVICE_TITLE",g="CLEAR_DEVICE_SETTINGS_SAVE_ERROR",m="SET_DVR_DEVICE_ENABLED",f=(0,s.Z)(d),y=(0,s.Z)(u),v=(0,s.Z)(h),b=(0,s.Z)(p),Z=(0,s.Z)(g),S=(0,s.Z)(m);function I(e){return e.get("ui").get("dvrSettingsUI").get("dvrSetup")}function M(e,t){return function(e){return e.get("ui").get("dvrSettingsUI").get("dvrs")}(e).get(t.dvrID)}function w(e,t){const n=I(e),i=t.deviceID;if(t.dvrID&&i){const n=M(e,t).get("devices").get(i);if(n)return n}if(i){const e=n.get("devices").get(i);if(e)return e}return n.get("selectedDevice")}const P=(0,o.Z)({[d](e,t){const n=(0,a.SW)(e,t),i=M(e,t),s=t.prefs,o=l.Z.join(["/livetv/dvrs",t.dvrID,"prefs"],s);i.set("isSaving",!0);const d=n.getXHROptions(o,{type:"PUT"}),u=r().ajax(d);u.done((()=>{const e=i.get("prefs");Object.keys(s).forEach((t=>{e.get(t).set("value",s[t])})),i.set({isSaving:!1,saveError:null})})),u.fail((e=>{i.set({isSaving:!1,saveError:(0,c.Z)(e)})}))},[u](e,t){M(e,t).set("saveError",null)},[h](e,t){const n=(0,a.SW)(e,t),i=w(e,t),s=t.prefs,o=l.Z.join(["/media/grabbers/devices",t.deviceID,"prefs"],s);i.set("isSaving",!0);const d=n.getXHROptions(o,{type:"PUT"}),u=r().ajax(d);u.done((()=>{const e=i.get("prefs");Object.keys(s).forEach((t=>{e.get(t).set("value",s[t])})),i.set({isSaving:!1,saveError:null})})),u.fail((e=>{i.set({isSaving:!1,saveError:(0,c.Z)(e)})}))},[p](e,t){const{title:n}=t,i=(0,a.SW)(e,t),s=w(e,t),o=l.Z.join(["/media/grabbers/devices",t.deviceID],{title:n,enabled:1}),c=i.getXHROptions(o,{type:"PUT"});r().ajax(c).then((()=>{s.set("title",n)}))},[g](e,t){w(e,t).set("saveError",null)},[m](e,t){const n=(0,a.SW)(e,t),i=t.enabled,s=l.Z.join(["/media/grabbers/devices",t.deviceID],{enabled:i?1:0}),o=n.getXHROptions(s,{type:"PUT"});r().ajax(o).promise().done((()=>{if(I(e)){const n=w(e,t);n&&n.set("status",i?"enabled":"disabled")}}))}})},33045:(e,t,n)=>{"use strict";n.d(t,{a$:()=>j,zc:()=>x,yT:()=>E,Dg:()=>T,V7:()=>k,ZP:()=>q,KC:()=>V,qz:()=>L,J6:()=>N,v_:()=>O,$:()=>z,QF:()=>R});var i=n(42699),r=n(313),s=n(31977),o=n(9492),a=n(12274);function l(e,t,n){if(!t)return null;const i=new Date(t);if(!(0,a.Z)(i))return-1;const r=i.getTime();let s,o=0,l=e.length-1;for(;o<=l;){s=Math.floor((o+l)/2);const t=e[s],i=e[s+1],a=new Date(t.time).getTime();if(!i)return r>a?s:s+1;if(r===a)return n<s?s:s+1;const c=new Date(i.time).getTime();if(r>a&&r<c)return s+1;r>a?o=s+1:r<a&&(l=s-1)}return Math.max(0,s)}var c=n(56514);function d(e){return(0,c.Z)(e,"MMM dd, yyyy HH:mm:ss.SSS",new Date)}var u=n(95180),h=Object.defineProperty,p=Object.prototype.hasOwnProperty,g=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&f(e,n,t[n]);if(g)for(var n of g(t))m.call(t,n)&&f(e,n,t[n]);return e};const v="ui/serverLogPageActions/changeTextFilter",b="ui/serverLogPageActions/changeTimeFilter",Z="ui/serverLogPageActions/clearFilter",S="ui/serverLogPageActions/addLogLine",I="ui/serverLogPageActions/resetLogLevels",M="ui/serverLogPageActions/toggleLogLevel",w="ui/serverLogPageActions/clearLog",P="ui/serverLogPageActions/loadLogfile",C="ui/serverLogPageActions/toggleTimeFilter",D="ui/serverLogPageActions/toggleRaw",A="ui/serverLogPageActions/highlightLine",x=(0,s.Z)(v),E=(0,s.Z)(b),T=(0,s.Z)(Z),j=(0,s.Z)(S),N=(0,s.Z)(I),O=(0,s.Z)(M),k=(0,s.Z)(w),L=(0,s.Z)(P),R=(0,s.Z)(C),z=(0,s.Z)(D),V=(0,s.Z)(A);function _(e,t,n){return t.all||(t.all=[]),e.index=t.all.length,F(e,{filter:n.get("filter"),timeFilterStart:n.get("timeFilterStart"),timeFilterEnd:n.get("timeFilterEnd"),logLevels:n.get("logLevels")})?t.filtered&&t.filtered.push(e):t.filtered||(t.filtered=t.all.slice(0)),t.all.push(e),t}function U(e){return e.get("ui").get("serverLogPage")}function B(e){return e.split(/\s+/).map((e=>new RegExp((0,u.Z)(e),"i")))}function F(e,t){const{filter:n,timeFilterStart:s,timeFilterStartIndex:o,timeFilterEnd:a,timeFilterEndIndex:l,logLevels:c}=t;if(c.length&&-1===c.indexOf(e.level))return!1;if(s||null!=o||a||null!=l){let t,n,c;if(null!=o&&null!=l||(t=d(e.time),null==o&&(n=s&&d(s)),null==l&&(c=a&&d(a))),null!=o&&o>e.index||null!=l&&l<e.index||n&&(0,i.Z)(n,t)||c&&(0,r.Z)(c,t))return!1}return!n||(t.regexps||B(n)).every((t=>t.test(e.message)||t.test(e.thread)))}function H(e){const t=e.get("filter"),n=e.get("timeFilterStart"),i=e.get("timeFilterEnd"),r=e.get("logLevels"),s=e._unfilteredLogLines,o=l(s,n,-1/0),a=l(s,i,1/0),c=function(e,t){const n=B(t.filter);return e.filter((e=>F(e,y(y({},t),{regexps:n}))))}(s,{logLevels:r,filter:t,timeFilterStart:n,timeFilterStartIndex:-1===o?null:o,timeFilterEndIndex:-1===a?null:a,timeFilterEnd:i});e.set({logLines:c,unfilteredLogLinesCount:s.length,isTimeFilterStartValid:-1!==o,isTimeFilterEndValid:-1!==a})}const W=/^([^[]+)\[([^\]]+)]\s+([^\s]+)\s+-\s+(.*)/,Y={ERROR:0,WARN:1,INFO:2,DEBUG:3,VERBOSE:4};function G(e){if(!e)return null;const t=e.match(W),[,n,i,r,s]=t;return{time:n.trim(),thread:i.trim(),level:Y[r],message:s.trim()}}const q=(0,o.Z)({[S](e,t){const{message:n}=t,i=U(e);i._unfilteredLogLines||(i._unfilteredLogLines=[]);const r=i.get("logLines").length!==i._unfilteredLogLines.length,s=r?i.get("logLines"):null,o=r?s.length:null,a=_(n,{all:i._unfilteredLogLines.slice(0),filtered:s},i);a.filtered&&a.filtered.length!==o&&(a.filtered=a.filtered.slice(0)),i._unfilteredLogLines=a.all,i.set({unfilteredLogLinesCount:a.all.length,logLines:a.filtered||a.all})},[v](e,t){const n=U(e),{filter:i}=t;n.set({filter:i}),H(n)},[b](e,t){const n=U(e),{timeFilterStart:i,timeFilterEnd:r}=t;n.set({showTimeFilter:!(!i&&!r),timeFilterStart:i,timeFilterEnd:r}),H(n)},[Z](e){const t=U(e);t.set({filter:"",timeFilterStart:"",timeFilterEnd:"",logLevels:[]}),H(t)},[I](e){const t=U(e);t.set({logLevels:[]}),H(t)},[M](e,t){const n=U(e),i=n.get("logLevels"),r=i.slice(0),s=i.indexOf(t.logLevel);-1===s?r.push(t.logLevel):r.splice(s,1),n.set({logLevels:r}),H(n)},[w](e){const t=U(e);t.set({logLines:[],unfilteredLogLinesCount:0,highlightedLineIndex:null,showRawText:!1}),t._unfilteredLogLines=[]},[P](e,t){const{result:n}=t,i=U(e);let r={all:[]};i.set({logLines:[],unfilteredLogLinesCount:0});try{n.split(/\n+/).map(G).forEach((e=>{e&&(r=_(e,r,i))})),i._unfilteredLogLines=r.all,i.set({unfilteredLogLinesCount:r.all.length,logLines:r.filtered||r.all})}catch(e){}},[C](e){const t=U(e),n=t.get("showTimeFilter");t.set({timeFilterStart:"",timeFilterEnd:"",showTimeFilter:!n}),H(t)},[D](e){const t=U(e);t.set("showRawText",!t.get("showRawText"))},[A](e,t){U(e).set("highlightedLineIndex",t.index)}})},4545:(e,t,n)=>{"use strict";n.d(t,{_z:()=>o,jR:()=>l,wp:()=>c,J0:()=>d});var i=n(31977),r=n(37517),s=n(82590);const o="ui/repopulatePage",a="ui/showAlert",l=(0,i.Z)(o),c=(0,i.Z)(a,(e=>"string"==typeof e?{type:r.p,message:e}:e)),d={[a](e,t){s.Z.trigger("show:alert",t)}}},58390:(e,t,n)=>{"use strict";n.d(t,{gK:()=>w,W$:()=>Z,fJ:()=>v,Ty:()=>y,tD:()=>b,WW:()=>I,FN:()=>S});var i=n(19755),r=n.n(i),s=n(31977),o=n(21392);const a=function(e,t){const n=e.get("cloudServer");return r().ajax(n.getXHROptions(`/api/v2/pins/${t}`,{dataType:"json"})).promise().then((e=>e))};var l=n(21235);var c=n(72250),d=n(63542);const u="user/authCodeExchange/readStoredPIN",h="user/authCodeExchange/preloadPIN",p="user/authCodeExchange/resetAuthCodeExchange",g="user/authCodeExchange/beginPolling",m="user/authCodeExchange/stopPolling",f="user/authCodeExchange/skipSignIn",y=(0,s.Z)(u),v=(0,s.Z)(h),b=(0,s.Z)(p),Z=(0,s.Z)(g),S=(0,s.Z)(m),I=(0,s.Z)(f);function M(e,t){const n=(0,o.Z)(e);return n.set({isBusy:!0}),(0,c.Z)(e).then((({id:e,code:i,expiresIn:r})=>{const s=window.setTimeout((()=>{t(S())}),1e3*r);n.set({code:i,pinID:e,pinTimeout:s,isBusy:!1})})).fail((()=>{n.set({fatalErrorMessage:(0,l.Z)("An error occurred"),isBusy:!1})}))}const w={[p](e,t,n){const i=(0,o.Z)(e);(0,d.c9)((()=>{i.set({code:null,pinID:null,authToken:null,errorMessage:null})}))},[u](e,t,n){const i=(0,o.Z)(e),s=i.get("pinIDInitial"),c=(s?r().Deferred().resolve(s).promise():r().Deferred().reject().promise()).then((()=>a(e,s).fail((()=>{i.set({errorMessage:(0,l.Z)("There was an error signing in")})})))).then((({authToken:e})=>e?r().Deferred().resolve(e).promise():(i.set({errorMessage:(0,l.Z)("There was an error signing in")}),r().Deferred().reject().promise()))).then((e=>{i.set({authToken:e})}));t.shouldCreatePIN&&c.fail((()=>M(e,n)))},[h](e,t,n){(0,o.Z)(e).set({isBusy:!0,code:null,pinID:null}),M(e,n)},[g]:function(e,t,n){const{pinID:i}=t,r=(0,o.Z)(e);function s(){const t=r.get("pinID");i===t&&a(e,i).then((({authToken:e})=>{e?r.set({authToken:e}):c()})).fail((e=>{r.set({code:null,pinID:null,isBusy:!1,fatalErrorMessage:e&&404===e.status?null:(0,l.Z)("An error occurred")})}))}function c(){window.setTimeout(s,2e3)}c()},[m](e,t,n){const i=(0,o.Z)(e),r=i.get("pinTimeout");r&&window.clearTimeout(r),i.set({pinID:null,pinTimeout:null,code:null})},[f](e,t,n){e.set({skipSignIn:!0})}}},25655:(e,t,n)=>{"use strict";n.d(t,{ZQ:()=>Rt,BT:()=>Ft,W1:()=>Vt,Bl:()=>Lt,$Q:()=>jt,LN:()=>Nt,JY:()=>Bt,Xe:()=>Ut,Z$:()=>_t,Kq:()=>qt});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(28941),l=n(80731),c=n(83416),d=n(20165),u=n(31977),h=n(96138),p=n(69726),g=n(90379),m=n(98589),f=n(80129),y=n.n(f),v=n(68214);const b=function(e,t){const n=e.server.getXHROptions(o().result(e,"url"),{method:"POST",dataType:"json",data:y().stringify({urls:t},{arrayFormat:"brackets"})||"urls="});return(0,v.Z)(r().ajax(n),400).then((t=>{e.reset(t)}),(e=>r().Deferred().reject(e.status&&e.responseJSON.errors||[]).promise()))};var Z=n(4545),S=n(39620),I=n(59140),M=n(22220),w=n(77349);const P=[7,30,60,90];function C(e=0){return(0,w.Z)(Date.now(),P[e]||180)}var D=n(82590),A=n(58301),x=n(86076);function E(e){return e.isCloud?"online":e.isFullOwnedServer?"owned":"shared"}function T(e){return e.isConnected?"online":"offline"}function j(e){return e.isCloud?"online":e.isShared?"shared":"owned"}var N=n(2932),O=n(36481),k=n(45274),L=n(6772),R=n(63542),z=n(21235),V=n(71065),_=n(97102),U=n(91986),B=n(33654),F=n(98759),H=n(25051),W=n(86582),Y=n.n(W);const G=H.Z.extend({className:"user-select-alert-bar",template:Y()});var q=n(81494),Q=n(57076),K=n(80100);const $=(0,n(81191).Z)(["identifier"],[{identifier:"little_kid",title:()=>(0,z.Z)("Younger Kid"),defaultUsername:()=>(0,z.Z)("Kids")},{identifier:"older_kid",title:()=>(0,z.Z)("Older Kid"),defaultUsername:()=>(0,z.Z)("Kids")},{identifier:"teen",title:()=>(0,z.Z)("Teen"),defaultUsername:()=>(0,z.Z)("Kids")},{identifier:"unrestricted",title:()=>(0,z.Z)("None"),defaultUsername:()=>""}]),J=$.get;$.getAll;var X=n(15856);function ee(e){var t;const n=null==(t=a.DB("appModel").state.user.features)?void 0:t.map((e=>e.uuid));return null==n?void 0:n.includes(e)}var te=n(6312);const ne=n(73948).Z.extend({getUrl(e){if(e){const t=(0,te.Z)();return V.Z.join(e,{size:Math.round(this.width*t)})}return e}});var ie=n(7601),re=n.n(ie);const se=Q.Z.ItemView.extend({tagName:"li",className:"user-select-list-item",template:re(),ui:{container:".user-select-container",poster:".user-poster"},events:{"click a":"onClick"},initialize:function(e){this.disabled=e.disabled,this.posterImage=new ne({model:this.model,type:"friend",width:80});const t=a.DB("appModel").get("primaryServer");(null==t?void 0:t.supports("imageFilters"))&&(this.backgroundImage=new ne({model:this.model,type:"friend",width:120,background:!0,filters:{blur:20,opacity:50,background:"000000"}}),this.backgroundImage.placeholderClass=!1)},serializeData:function(){return{disabled:this.disabled}},bindings:{".username":{modelAttribute:"title"},".managed-title":{modelAttribute:"restrictionProfile",autohide:!0,formatter(e){const t=ee(X.je);if(ee(X.vi))return;const n=t?(0,z.Z)("Managed Account"):(0,z.Z)("Managed User"),i=this.model.get("username"),r=this.model.get("title");return i&&r!==i?i:this.model.get("restricted")&&!this.model.get("guest")?e?J(e).title:n:void 0}},".managed-title-community":{modelAttribute:"restrictionProfile",autohide:!0,formatter(e){if(!ee(X.vi))return;const t=this.model.get("username"),n=this.model.get("title");return t&&n!==t?t:this.model.get("restricted")&&!this.model.get("guest")?e?J(e).title:(0,z.Z)("Managed Account"):void 0}},".protected-icon":{modelAttribute:"protected",autohide:!0,manual:!0},".admin-icon":{modelAttribute:"admin",autohide:!0,manual:!0}},onRender:function(){this.posterImage.setElement(this.ui.poster),this.backgroundImage&&this.backgroundImage.setElement(this.ui.container)},onClose:function(){this.posterImage.close(),this.backgroundImage&&this.backgroundImage.close()},onClick:function(e){e.preventDefault(),this.trigger("selectUser",this.model)}});var oe=n(84167),ae=n.n(oe);const le=Q.Z.Layout.extend({className:"user-select-modal-pin-container",template:ae(),ui:{digitContainer:".pin-digit-container",input:".pin-input",digits:".pin-digit",loading:".loading",removeBtn:".remove-btn",saveBtn:".save-btn",pinForgotLink:".pin-forgot-link"},regions:{userList:".user-select-list"},events:{"keydown input":"onKeyDown","input input":"onInput","keyup input":"onKeyUp","focus input":"onFocus","blur input":"onBlur","change input":"onChange","animationend .pin-input-container":"onInputsAnimationEnd","webkitAnimationEnd .pin-input-container":"onInputsAnimationEnd","oAnimationEnd .pin-input-container":"onInputsAnimationEnd","click .back-btn":"onBackClick","click .remove-btn":"onRemoveClick","submit #pin-form":"onSubmit","click .pin-digit":"onPINClick","keydown .save-btn":"onSaveKeyDown"},onlyAfterRender:["confirmUser"],initialize:function(e){const t=a.DB("appModel");this.isForced=e.isForced,this.isEditing=e.isEditing,this.isEditWarning=e.isEditWarning,this.showBackButton=e.showBackButton,this.openAddManagedUser=e.openAddManagedUser,this.focusDelay=e.focusDelay,this.user=t.get("user"),this.isEditConfirmation=this.isEditing&&this.model.get("protected")&&!this.model.get("restricted")},serializeData:function(){return{isEditing:this.isEditing&&!this.isEditConfirmation,isEditWarning:this.isEditWarning,isEditConfirmation:this.isEditConfirmation,isOpeningAddManagedUser:this.openAddManagedUser,hasCurrentPIN:this.model.get("protected"),showBackButton:this.showBackButton}},focusInput:function(){this.ui.input.val(""),this.ui.input.focus()},getPIN:function(){return this.ui.input.val()},editPIN:function(e){this.ui.saveBtn.isDisabled()||(this.ui.saveBtn.addClass("disabled"),this.savePIN(e).fail(this.whenRendered((function(){this.ui.saveBtn.removeClass("disabled"),D.Z.trigger("show:alert",{type:"error",message:(0,z.Z)("This PIN could not be saved.")})}))))},removePIN:function(){this.ui.removeBtn.isDisabled()||(this.ui.removeBtn.addClass("disabled"),this.savePIN("").fail(this.whenRendered((function(){this.ui.removeBtn.removeClass("disabled"),D.Z.trigger("show:alert",{type:"error",message:(0,z.Z)("This PIN could not be removed.")})}))))},savePIN:function(e){this.ui.loading.removeClass("hidden");const t=this.model.get("restricted"),n=this.model.getSaveParams(),i={};this.currentPin&&(i.currentPin=this.currentPin),""===e&&t?i.removePin=1:i.pin=e;const s=r().extend(!0,{},n,i),a=V.Z.join(this.model.pinUrl(),s),l=this.model.server.getXHROptions(a,{type:t?"POST":"PUT"}),c=r().ajax(l);return c.done(o().bind((function(){this.model.set("protected",!!e),this.model.id===this.user.id&&(e?this.user.set("pin",this.user.hashPIN(e)):this.user.unset("pin"),this.user.set("home",this.user.hasHome())),this.trigger("resolve",e)}),this)),c.always(this.whenRendered((function(){this.ui.loading.addClass("hidden")}))),c},confirmUser:function(e){this.ui.loading.removeClass("hidden");const t=q.Z.execute("switchUser",{homeUser:this.model,pin:e,allowGuestLock:!this.isEditing,openAddManagedUser:this.openAddManagedUser});t.done(o().bind((function(){this.isEditing?(this.isEditConfirmation=!1,this.currentPin=e,this.render()):this.trigger("resolve",e)}),this)),t.fail(this.whenRendered((function(){this.ui.digitContainer.addClass("shake"),this.ui.input.val(""),this.focusInput()}))),t.always(this.whenRendered((function(){this.ui.loading.addClass("hidden")})))},renderPIN:function(){const e=this.getPIN(),t=e.length,n=this.isEditing&&!this.isEditConfirmation;this.ui.digits.each((function(i,s){let o=e[i]||"";o&&!n&&(o="&bull;"),r()(s).toggleClass("current",i===t).html(o)}))},onRender:function(){this.userList.show(new se({model:this.model,disabled:!0})),this.ui.pinForgotLink.toggleClass("hidden",this.model.get("restricted")),K.Z.mobile||window.setTimeout(o().bind(this.focusInput,this),this.focusDelay)},onKeyDown:function(e){const t=e.which;13!==t&&8!==t&&46!==t&&229!==t&&(t>=48&&t<=57||t>=96&&t<=105||e.preventDefault())},onInput:function(e){const t=r()(e.currentTarget),n=t.val(),i=n.length,s=n.charAt(n.length-1);/[0-9]/.test(s)?4===n.length&&(!this.isEditing||this.isEditConfirmation?(t.blur(),this.confirmUser(this.getPIN())):this.ui.saveBtn.focus()):t.val(n.slice(0,i-1))},onKeyUp:function(){this.renderPIN()},onFocus:function(){this.renderPIN()},onBlur:function(){this.renderPIN(),this.ui.digits.removeClass("current")},onChange:function(){this.renderPIN()},onInputsAnimationEnd:function(e){r()(e.currentTarget).removeClass("shake")},onBackClick:function(e){e.preventDefault(),this.trigger("change:pane","users")},onRemoveClick:function(e){e.preventDefault(),this.removePIN()},onSubmit:function(e){e.preventDefault();const t=this.getPIN();4===t.length?this.isEditing&&!this.isEditConfirmation?this.editPIN(t):this.confirmUser(t):D.Z.trigger("show:alert",{type:"error",message:(0,z.Z)("Please enter a 4 digit PIN.")})},onSaveKeyDown:function(e){const t=e.which;8!==t&&46!==t||(e.preventDefault(),this.ui.input.val(""),this.focusInput())},onPINClick:function(){this.focusInput()}});var ce=n(44127),de=n(24715),ue=n(46608),he=n(18272),pe=n(45697),ge=n.n(pe),me=n(67294),fe=n(31813);function ye(e){const t=e["aria-label"],n=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-add-560"};r["aria-hidden"]=!t,r.style=i,r.className=fe.Z.plexIcon+(n?" "+n:"");const s=[me.createElement.apply(me,["path",{d:"m320 320l0 200-80 0 0-200-200 0 0-80 200 0 0-200 80 0 0 200 200 0 0 80-200 0"}].concat([]))];return t&&s.unshift(me.createElement("title",null,t)),me.createElement.apply(me,["svg",r].concat(s))}ye.propTypes={"aria-label":ge().string,className:ge().string,style:ge().object};const ve=ye;var be=n(19878),Ze=n.n(be);const Se=Q.Z.ItemView.extend({tagName:"li",className:"user-select-list-item",template:Ze(),events:{"click a":"onClick"},initialize(e){this.disabled=e.disabled},serializeData(){return{iconAdd:(0,he.Z)(ve,{className:"add-icon"}),disabled:this.disabled}},onClick(e){e.preventDefault(),this.trigger("selectUser",this.model,!0)}}),Ie=ue.Z.extend({tagName:"ul",className:"tile-list user-select-list",itemView:se,onRender(){this.options.showAddUser&&this.addItemView(this.options.adminModel,Se,this.collection.length)}});var Me=n(53866),we=n.n(Me);const Pe=Q.Z.Layout.extend({className:"user-select-modal-users-container",template:we(),ui:{loading:".loading"},regions:{body:".modal-body"},onlyAfterRender:["onUserPopulated","onHomeUsersPopulated","onError"],initialize:function(){const e=a.DB("appModel");this.user=e.get("user"),this.homeUsers=this.user.get("homeUsers"),this.user.server.populate().done(o().bind(this.onUserPopulated,this)).fail(o().bind(this.onError,this))},showList:function(e){this.ui.loading.addClass("hidden");const t=e.findWhere({admin:!0});this.body.show(new Ie({collection:e,adminModel:t,showAddUser:!!t})),this.listenTo(this.body.currentView,"itemview:selectUser",this.onUserSelect)},selectUser:function(e,t){this.ui.loading.removeClass("hidden");const n=q.Z.execute("switchUser",{homeUser:e,switchUser:!0,allowGuestLock:!0,openAddManagedUser:t});n.done(o().bind((function(){this.trigger("resolve",null)}),this)),n.always(this.whenRendered((function(){this.ui.loading.addClass("hidden")})))},onUserPopulated:function(){this.homeUsers.fetch().done(o().bind(this.onHomeUsersPopulated,this)).fail(o().bind(this.onError,this))},onHomeUsersPopulated:function(e){this.showList(e)},onError:function(){const e=ce.Z.getActiveUser();if(null==e?void 0:e.get("home")){const t={id:e.id,title:e.get("title"),protected:!!e.get("pin")};this.showList(new de.Z([t],{server:this.user.server,parent:this.user}))}else this.trigger("resolve")},onUserSelect:function(e,t,n){t.get("protected")?this.trigger("change:pane","pin",{model:t,showBackButton:!0,openAddManagedUser:n,focusDelay:0}):this.selectUser(t,n)}});var Ce=n(39586),De=n.n(Ce);const Ae=F.Z.extend({name:"userSelectModal",className:"user-select-modal modal modal-transparent fade",template:De(),transparent:!0,panes:{users:Pe,pin:le},regions:{content:".modal-content",alertBar:".modal-alert"},initialize:function(e){F.Z.prototype.initialize.apply(this,arguments);const t=a.DB("appModel");this.options=e,this.isForced=e.isForced,this.user=t.get("user"),this.promise=r().Deferred()},showPane:function(e,t){this.currentPane&&this.stopListening(this.currentPane);const n=new(0,this.panes[e])(o().extend({},this.options,t));return this.listenTo(n,{"change:pane":this.onChangePane,resolve:this.onResolve,reject:this.onReject}),this.currentPane=n,this.content.show(n),n},showAlertBar:function(){const e=B.Z[0];B.Z.length=0,this.alertBar.show(new G({alert:e}))},onRender:function(){F.Z.prototype.onRender.apply(this,arguments),this.model?this.showPane("pin",{focusDelay:this.focusDelay}):this.showPane("users"),this.showAlertBar()},onHide:function(){F.Z.prototype.onHide.apply(this,arguments),"pending"===this.promise.state()&&this.promise.reject()},onChangePane:function(e,t){this.showPane(e,t)},onResolve:function(e){this.promise.resolve(e),this.hide()},onReject:function(){this.promise.reject(),this.hide()}});var xe=Object.defineProperty,Ee=Object.prototype.hasOwnProperty,Te=Object.getOwnPropertySymbols,je=Object.prototype.propertyIsEnumerable,Ne=(e,t,n)=>t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Oe=(e,t)=>{for(var n in t||(t={}))Ee.call(t,n)&&Ne(e,n,t[n]);if(Te)for(var n of Te(t))je.call(t,n)&&Ne(e,n,t[n]);return e};const ke="user/fetchUserFeatures",Le="user/populateUserFeatures",Re="user/saveExperienceSettings",ze="user/saveSubtitleColor",Ve="user/saveSubtitlePosition",_e="user/saveSubtitleSize",Ue="user/saveAutoPlay",Be="user/changePreferredServer",Fe="user/fetchAllFriends",He="user/populateAllFriends",We="user/fetchHomeUsers",Ye="user/populateHomeUsers",Ge="user/fetchPlans",qe="user/populatePlans",Qe="user/updateUser",Ke="user/clearUpdateUserError",$e="user/fetchWebhooks",Je="user/addWebhook",Xe="user/replaceWebhook",et="user/clearUpdateWebhookError",tt="user/removeWebhook",nt="user/startFirstRunExperience",it="user/endFirstRunExperience",rt="user/fetchHomeDetails",st="user/removeHomeUser",ot="user/removeFriend",at="user/toggleGuestUser",lt="user/editHomeUserPIN",ct="user/fetchInvites",dt="user/fetchSentInvites",ut="user/acceptInvite",ht="user/rejectInvite",pt="user/cancelInvite",gt="user/showNewHomeWarnings",mt="user/pinSources",ft="user/unpinSources",yt="user/setupSources",vt="user/reorderPinnedSources",bt="user/updatePinnedSources",Zt="user/dismissUpsellModal",St="user/saveSetting",It="user/syncSettings",Mt="user/syncExperienceSettings",wt="user/restoreDefaultExperienceSettings",Pt="user/restoreCustomizationSettings",Ct="user/setTwoFactorEnabled",Dt="user/setReminder",At="user/removeReminder",xt="user/resetReminders",Et="user/fetch",Tt=(0,u.Z)(ke),jt=(0,u.Z)(Le),Nt=(0,u.Z)(Re),Ot=((0,u.Z)(ze),(0,u.Z)(Ve),(0,u.Z)(_e),(0,u.Z)(Ue),(0,u.Z)(Be),(0,u.Z)(Fe)),kt=(0,u.Z)(We),Lt=((0,u.Z)(Ye),(0,u.Z)(He)),Rt=(0,u.Z)(Ge),zt=((0,u.Z)(qe),(0,u.Z)(Qe),(0,u.Z)(Ke),(0,u.Z)($e),(0,u.Z)(Je),(0,u.Z)(Xe),(0,u.Z)(et),(0,u.Z)(tt),(0,u.Z)(nt),(0,u.Z)(it),(0,u.Z)(rt),(0,u.Z)(st),(0,u.Z)(ot),(0,u.Z)(at),(0,u.Z)(lt),(0,u.Z)(ct),(0,u.Z)(dt)),Vt=((0,u.Z)(ut),(0,u.Z)(ht),(0,u.Z)(pt),(0,u.Z)(gt),(0,u.Z)(mt)),_t=((0,u.Z)(ft),(0,u.Z)(yt),(0,u.Z)(vt),(0,u.Z)(bt),(0,u.Z)(Zt),(0,u.Z)(St),(0,u.Z)(It)),Ut=(0,u.Z)(Mt),Bt=((0,u.Z)(wt),(0,u.Z)(Pt),(0,u.Z)(Ct),(0,u.Z)(Dt)),Ft=((0,u.Z)(At),(0,u.Z)(xt),(0,u.Z)(Et));function Ht(e,t){if(!e.get("isSignedIn")||!l.Z.allowSyncSettings)return r().Deferred().resolve().promise();const n=Array.isArray(t)?t:[t],i=V.Z.join("/api/v2/user/settings",{sharedSettings:(0,_.Z)(e)?1:0}),s=e.server.getXHROptions(i,{type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify({value:JSON.stringify(n)})});return r().ajax(s).promise()}function Wt(e,t){if(!e)return null;const n=e.find((e=>e.id===t));return n&&n.updatedAt}function Yt(e){return e.get("user")}function Gt(e){return e.get("user").get("experienceSettings").get("sidebarSettings")}const qt={[ke]:(0,h.Z)({key:"features",getModel:L.VX}),[Le]:(0,p.Z)({key:"features",fetchActionCreator:Tt,getModel:L.VX}),[ze](e,t,n){n(Nt(t))},[Ve](e,t,n){n(Nt(t))},[_e](e,t,n){n(Nt(t))},[Ue](e,t,n){n(Nt(t))},[Be](e,t,n){const{machineIdentifier:i}=t;(function(e){return e.get("user").get("experienceSettings").get("homeSettings")})(e).set("preferredServerID",i),function(e,t){const n=e.get("user").get("experienceSettings").get("homeSettings");n.set("settingsKey",(0,g.Z)()),t(Nt({homeSettings:n}))}(e,n)},[Fe]:(0,h.Z)({key:"allFriends",getModel:Yt}),[He]:(0,p.Z)({key:"allFriends",fetchActionCreator:Ot,getModel:Yt}),[We]:(0,h.Z)({key:"homeUsers",getModel:L.bg}),[Ye]:(0,h.Z)({key:"homeUsers",fetchActionCreator:kt,getModel:L.bg}),[Ge]:(0,h.Z)({key:"plans",getModel:L.bg}),[qe]:(0,p.Z)({key:"plans",fetchActionCreator:Rt,getModel:L.bg}),[Ke](e){(0,L.bg)(e).set("updateUserError",null)},[Qe](e,t,n){const i=(0,L.bg)(e),s=e.get("user"),l=t,{avatar:c}=l,d=((e,t)=>{var n={};for(var i in e)Ee.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Te)for(var i of Te(e))t.indexOf(i)<0&&je.call(e,i)&&(n[i]=e[i]);return n})(l,["avatar"]);let u;if(i.set({isUpdatingUser:!0,updateUserError:null}),c)u=function(e,t){const n=(0,a.DB)("appModel").get("cloudServer"),i=(0,m.Z)(e),s=new window.FormData;s.append("avatar",i);const o=n.getXHROptions("/api/v2/user",{type:"PUT",processData:!1,contentType:!1,data:s});return r().ajax(o)}(c);else{const e=new window.FormData;o().each(d,((t,n)=>{e.append(n,t)}));const t=o().result(s,"url"),n=null!=d.experimentalFeatures?V.Z.join([t,"settings","experimental_features"],{opt_in:d.experimentalFeatures}):t,i=s.server.getXHROptions(n,{type:"PUT",processData:!1,contentType:!1,data:null!=d.experimentalFeatures?void 0:e});u=r().ajax(i)}u.done((e=>{!t.avatar&&s.get("hasPassword")||s.fetch();const n=o().reduce(t,((e,t,n)=>(s.hasAttr(n)&&(e[n]=t),e)),{});s.set(n),i.set({isUpdatingUser:!1,updateUserError:null})})).fail((e=>{const t=N.Z.parseXML(e.responseText),n=Array.isArray(t)&&t||(Array.isArray(t.error)?t.error:[t.error]),r=o().mapObject(o().groupBy(n,(e=>e&&e.field?e.field:"request")),((e,t)=>o().flatten(e)));i.set({isUpdatingUser:!1,updateUserError:r})}))},[$e]:(0,h.Z)({key:"webhooks",getModel:L.bg}),[Je](e){const t=(0,L.bg)(e);t.get("webhooks").add({}),t.set("updateWebhooksError",null)},[Xe](e,{oldUrl:t,newUrl:n}){const i=(0,L.bg)(e),r=i.get("webhooks");if(r.findWhere({url:t})){const e=r.map((e=>{const i=e.get("url");return i===t?n:i}));i.set({isUpdatingWebhooks:!0,updateWebhooksError:null}),b(r,e).always((()=>{i.set("isUpdatingWebhooks",!1)})).fail((e=>{i.set("updateWebhooksError",e[0])}))}},[et](e){(0,L.bg)(e).set("updateWebhooksError",null)},[tt](e,t){const n=(0,L.bg)(e),i=n.get("webhooks");if(!t){const e=i.filter((e=>e.get("url")!==t));return void i.reset(e)}n.set({isRemovingWebhooks:!0,updateWebhooksError:null});const r=i.map((e=>e.get("url"))).filter((e=>e!==t));b(i,r).always((()=>{n.set("isRemovingWebhooks",!1)})).fail((e=>{n.set("updateWebhooksError",e[0])}))},[nt](e,t={},n){window.setTimeout((()=>{n((0,d.c4)({replace:!0,pathname:"/client-setup"}))}),0)},[it](e,t,n){const{preferredServerEntityID:i}=t;if(i){!function(e,t=!0){(0,a.DB)("metrics").trackEvent({event:I.Ip,interaction:t,properties:{page:M.mU,action:S.ic,serverType:j(e),status:T(e),firstRun:!0}})}((0,L.SW)(e,{serverEntityID:i}).toJSON(),t.preferredServerInteraction)}window.setTimeout((()=>{(0,U.Z)("home",{},!0)}),0)},[rt](e){const t=(0,L.bg)(e),n=t.get("homeDetails");t.set("isHomeDetailsPending",!0),n.fetch().then((()=>{t.set({isHomeDetailsPending:!1,isHomeDetailsPopulated:!0,homeDetailsError:null})}),((e,n)=>{const i={isHomeDetailsPending:!1};404===n.status?(i.isHomeDetailsPopulated=!0,i.homeDetailsError=null):(i.isHomeDetailsPopulated=!1,i.homeDetailsError=n),t.set(i)}))},[st](e,t,n){const i=e.get("user"),s=(0,L.bg)(e),o=s.get("homeUsers"),a=i.get("homeUsers"),l=i.get("allFriends"),c=(0,L.dH)(e,t),d=i.id===c.id;(0,R.c9)((()=>{c.set("isRemoving",!0)}));const u=c.server.getXHROptions(c.url(),{type:"DELETE"});r().ajax(u).then((()=>{const e=l.get(c.id);e?(c.get("restricted")?l.remove(e):e.set("home",!1),o.remove(c)):(o.reset([c]),c.set("admin",!0),l.each((e=>{e.set("home",!1)})));const t=!!i.get("pin")||o.length>1;if(i.set("home",t),!t){const e=s.get("homeDetails"),t=i.get("homeDetails");e.restoreDefaults(),t.restoreDefaults()}a.fetch(),c.set("isRemoving",!1)}),(()=>{n((0,Z.wp)({type:"error",message:d?(0,z.Z)("There was a problem leaving this home."):(0,z.Z)("There was a problem removing this user.")})),c.set({isRemoving:!1})}))},[ot](e,t,n){const i=e.get("user"),s=(0,L.bg)(e),o=s.get("homeUsers"),a=i.get("allFriends"),l=i.get("homeUsers"),c=(0,L.KC)(e,t);(0,R.c9)((()=>{c.set("isRemoving",!0)}));const d=V.Z.join(["/api/v2/friends",c.id]),u=c.server.getXHROptions(d,{type:"DELETE"});r().ajax(u).then((()=>{const e=c.get("home");s.get("invites").fetch(),s.get("sentInvites").fetch(),e&&(o.fetch(),l.fetch()),c.get("serverShares").some((e=>!e.owned))&&D.Z.trigger("discover:servers"),c.set({isRemoving:!1}),a.remove(c)}),(()=>{n((0,Z.wp)({type:"error",message:(0,z.Z)("There was a problem removing this friend.")})),c.set({isRemoving:!1})}))},[at](e,t,n){const i=e.get("user"),s=(0,L.bg)(e),o=i.get("homeSize"),a=s.get("homeDetails"),l=s.get("homeUsers"),c=i.get("allFriends"),d=i.get("homeDetails"),u=i.get("homeUsers"),h=!a.get("guestEnabled");a.set("isTogglingGuestUser",!0);const p=V.Z.join("/api/home",{guestEnabled:h?1:0}),g=h&&1===o,m=i.server.getXHROptions(p,{type:g?"POST":"PUT"});r().ajax(m).then((()=>{l.fetch(),c.fetch(),u.fetch(),h||2!==o?(d.set("guestEnabled",h),a.set({guestEnabled:h,isTogglingGuestUser:!1}),g&&i.set("home",!0)):(d.clear(),a.clear(),i.set("home",!1))}),(e=>{const t=h?(0,z.Z)("Unable to enable guest account"):(0,z.Z)("Unable to disable guest account"),i=(0,A.Z)(e,t,"status");n((0,Z.wp)({type:"error",message:i})),a.set("isTogglingGuestUser",!1)}))},[lt](e,t){const n=(0,L.dH)(e,t),i=new Ae({model:n,isEditing:!0});D.Z.trigger("show:modal",i),i.promise.then((e=>{n.set("protected",!!e)}))},[ct]:(0,h.Z)({key:"invites",getModel:L.bg}),[dt]:(0,h.Z)({key:"sentInvites",getModel:L.bg}),[ut](e,t,n){const i=e.get("user"),s=(0,L.bg)(e),o=s.get("invites"),a=o.get(t.inviteID),l=s.get("homeUsers").get(i.id),c=i.get("homeUsers");a.set("isAccepting",!0);const d=l.get("protected");(a.get("home")&&!d?function(e){const t=new Ae({model:e,isEditing:!0,isEditWarning:!0});return D.Z.trigger("show:modal",t),(0,O.Z)(t.promise)}(l):r().Deferred().resolve().promise()).then((()=>a.save(null,{force:!0}))).then((()=>{o.remove(a),c.fetch(),n(kt()),n(Ot()),n(zt()),a.get("server")&&D.Z.trigger("discover:servers")}),(e=>{a.set("isAccepting",!1),n((0,Z.wp)({type:"error",message:(0,z.Z)("There was a problem accepting this invite.")}))}))},[ht](e,t,n){const i=(0,L.bg)(e).get("invites"),s=i.get(t.inviteID);s.set("isRemoving",!0);const o=s.server.getXHROptions(s.url(),{type:"DELETE"});r().ajax(o).then((()=>{i.remove(s),s.get("server")&&n(Ot())}),(()=>{s.set("isRemoving",!1),n((0,Z.wp)({type:"error",message:(0,z.Z)("There was a problem rejecting this invite.")}))}))},[pt](e,t,n){const i=(0,L.bg)(e).get("sentInvites"),s=i.get(t.inviteID);s.set("isRemoving",!0);const o=s.server.getXHROptions(s.url(),{type:"DELETE"});r().ajax(o).then((()=>{i.remove(s),s.get("server")&&n(Ot())}),(()=>{s.set("isRemoving",!1),n((0,Z.wp)({type:"error",message:(0,z.Z)("There was a problem canceling this invite.")}))}))},[gt](e,t,n){const i=e.get("user"),r=(0,L.bg)(e).get("homeUsers"),s=r.get(i.id);if(s.get("protected")||r.length>1)return;const o=new Ae({model:s,isEditing:!0,isEditWarning:!0});D.Z.trigger("show:modal",o)},[yt](e,t,n){const i=Gt(e),r=i.get("pinnedSources"),{sources:s=[]}=t;i.get("hasCompletedSetup")||i.set("hasCompletedSetup",!0);const o=s.map(k.Z);r.reset(o),n(Nt({sidebarSettings:i})),o.forEach((e=>{(0,a.DB)("metrics").trackEvent({event:I.Ip,interaction:!0,identifier:e.providerIdentifier,properties:{page:M.VP,action:S.T5,type:e.sourceType,serverType:E(e),firstRun:!0}})}))},[mt](e,t,n){const i=Gt(e),r=i.get("pinnedSources"),{sources:s=[],interaction:o=!0}=t,l=s.map(k.Z);r.add(l),n(Nt({sidebarSettings:i})),l.forEach((e=>{(0,a.DB)("metrics").trackEvent({event:I.Ip,interaction:o,identifier:e.providerIdentifier,properties:{page:M.jy,action:S.T5,type:e.sourceType,serverType:E(e),firstRun:!1}})}))},[ft](e,t,n){const i=Gt(e),r=i.get("pinnedSources"),{sources:s=[]}=t,o=s.map((e=>r.get(e.key)));r.remove(o),n(Nt({sidebarSettings:i})),s.forEach((e=>{(0,a.DB)("metrics").trackEvent({event:I.Ip,interaction:!0,identifier:e.providerIdentifier,properties:{page:M.jy,action:S.t6,type:e.sourceType,serverType:E(e),firstRun:!1}})}))},[vt](e,t,n){const i=Gt(e),r=i.get("pinnedSources"),s=t.sourceKeys.map((e=>r.get(e)));r.reset(s),n(Nt({sidebarSettings:i})),(0,a.DB)("metrics").trackEvent({event:I.Ip,interaction:!0,properties:{page:M.jy,action:S.wC}})},[bt](e,t,n){const{sourceKeys:i,pinnedSourceAttrs:r}=t,s=Gt(e),o=s.get("pinnedSources");i.forEach((e=>{const t=o.get(e);t&&t.set(r)})),n(Nt({sidebarSettings:s}))},[Zt](e,t,n){const i=e.get("user").get("experienceSettings").get("dismissedUpsellModals"),{dismissedModal:r}=t;i.includes(r)||n(Nt({dismissedUpsellModals:[...i,r]}))},[St](e,t,n){e.get("user").get("settings").get(t.id).set({value:t.value,isDirty:!0}),n(_t([t.id]))},[It](e,t){const n=e.get("user"),i=n.get("settings");Ht(n,t.map((e=>i.get(e).toJSON({syncedOnly:!0})))).then((e=>{t.forEach((t=>{const n=i.get(t),r=Wt(e,t);r&&n.set({updatedAt:r,isDirty:!1})}))}))},[Re](e,t,n){e.get("user").get("experienceSettings").set(Oe(Oe({},t),{isDirty:!0})),n(Ut())},[Mt](e){const t=e.get("user"),n=t.get("experienceSettings"),i=n.toJSON({excluded:["updatedAt"],syncedOnly:!0,excludeDefaults:!0});n.set({isSaving:!0,saveError:null}),Ht(t,{id:c.U,type:"json",value:JSON.stringify(i),hidden:!0}).then((e=>{const t=Wt(e,c.U),i={isSaving:!1};t&&(i.updatedAt=t,i.isDirty=!1),n.set(i)}),(()=>{n.set({isSaving:!1,saveError:{message:(0,z.Z)("An error occurred while syncing settings")}})}))},[wt](e,t,n){const i=e.get("user").get("experienceSettings"),r={showAdvancedSettings:i.get("showAdvancedSettings"),isDirty:!0};i.restoreDefaults(r),n(Ut())},[Pt](e,t,n){const i=e.get("user").get("experienceSettings");i.set("autoHomeHubsEnabled",!0),i.get("homeSettings").restoreDefaults(),i.get("sidebarSettings").restoreDefaults(),n(Ut())},[Ct](e,{twoFactorEnabled:t},n){e.get("user").set({twoFactorEnabled:t})},[Dt](e,t,n){const i=e.get("user").get("experienceSettings"),{id:r,data:s,remindAfter:o}=t,a=i.get("reminders"),l=a.get(r),c=l?l.get("times")+1:0;a.add({data:s,id:r,times:c,remindAfter:(o||C(c)).toISOString()},{merge:!0}),n(Nt())},[At](e,t,n){e.get("user").get("experienceSettings").get("reminders").remove(t.id),n(Nt())},[xt](e,t,n){const i=e.get("user").get("experienceSettings").get("reminders");(0,x.Z)(`[User] Removing ${i.length} reminders`),i.clear(),n(Nt())},[Et](e,t,n){e.get("user").fetch()}}},40271:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(22222),r=n(13469),s=n.n(r);const o=(0,i.wN)(i.PW,s().isEqual)},72059:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(98956);const s=(0,i.wN)(i.PW,r.Z)},27957:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(63457);const s=(0,i.P1)(r.Z,(e=>e.providers))},40738:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(22222),r=n(40271),s=n(35785);function o(e){return e?{entityID:e.entityID,id:e.id,parentID:e.parentID,identifier:e.identifier,metricsIdentifier:e.metricsIdentifier,isLibraryProvider:e.isLibraryProvider,isPopulated:!!e.isPopulated,epgSource:e.epgSource,title:e.title,sourceTitle:e.sourceTitle,protocols:e.protocols.reduce(((e,t)=>(e[t]=!0,e)),{}),features:e.features.reduce(((e,t)=>{let n=t;if(t.type===s.Z.ACTIONS){let e={type:s.Z.ACTIONS};e=t.actions.reduce(((e,t)=>(e[t.id]=t,e)),e),n=e}return e[t.type]=n,e}),{})}:null}const a={};function l(e,{providerEntityID:t}){let n=a[t];return n||(n=(0,r.Z)((0,i.P1)(((e,t)=>e.entities.providers[t]),o),(e=>e)),a[t]=n),n(e,t)}},63457:(e,t,n)=>{"use strict";function i(e){return e.entities}n.d(t,{Z:()=>i})},47397:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(53621);function s(){return(0,i.P1)((0,r.Z)(),(e=>e&&e.desktop))}},25787:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(53621);function s(){return(0,i.P1)((0,r.Z)(),(e=>e.v4.core.serverNowPlayingSessions),((e,t)=>{var n;if(!e)return 0;const i=t[e.machineIdentifier],r=null==i?void 0:i.sessionKeys;return null!=(n=null==r?void 0:r.length)?n:0}))}},53621:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(1990);function s(){return(0,i.P1)(((e,{serverEntityID:t})=>t),r.Z,((e,t)=>t[e]))}},1990:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(63457);const s=(0,i.P1)(r.Z,(e=>e.servers))},66307:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(1990);const s=(0,i.P1)(r.Z,(e=>e.cloudServer),((e,t)=>e[t]))},46611:(e,t,n)=>{"use strict";function i(e){return e.embeddedServer}n.d(t,{Z:()=>i})},9306:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(22222),r=n(40271),s=n(24533);const o=(0,r.Z)(s.Z,(e=>e.filter((e=>e.isPrimaryEligible)))),a=(0,i.P1)(o,(e=>e.reduce(((e,t)=>(t.isShared||t.isOutOfDate||e.push(t.entityID),e)),[])))},24533:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(1990);const s=(0,i.P1)(r.Z,(e=>e.servers),(e=>e.embeddedServer),(e=>e.transientServer),((e,t,n,i)=>{const r=t?t.map((t=>e[t])):[];return n&&e[n]&&r.push(e[n]),i&&e[i]&&r.push(e[i]),r}))},57788:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(22222),r=n(72059);function s(e){return e?{entityID:e.entityID,machineIdentifier:e.machineIdentifier,version:e.version,friendlyName:e.friendlyName,sourceTitle:e.sourceTitle,allowSync:e.allowSync,allowMediaDeletion:e.allowMediaDeletion,backgroundProcessing:e.backgroundProcessing,transcoderVideo:e.transcoderVideo,isConnected:e.isConnected,isUnavailable:e.isUnavailable,isFullServer:e.isFullServer,isFullOwnedServer:e.isFullOwnedServer,isOutOfDate:e.isOutOfDate,isCloud:e.isCloud,isShared:e.isShared,livetv:e.livetv,ownerId:e.ownerId,ownerFeatures:e.ownerFeatures}:null}const o={};function a(e,{serverEntityID:t}){let n=o[t];return n||(n=(0,r.Z)((0,i.P1)(((e,t)=>e.entities.servers[t]),s),(e=>e)),o[t]=n),n(e,t)}},33024:(e,t,n)=>{"use strict";function i(e){return e.deviceSettings}n.d(t,{Z:()=>i})},52366:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(40271),r=n(27957),s=n(1990),o=n(9306),a=n(22478),l=n(50958),c=n(36800);const d=(0,i.Z)(o.Z,s.Z,r.Z,((e,t,n)=>e.reduce(((e,i)=>{const r=t[i],s=(o=r.providers.map((e=>n[e])),d=[l.wR,l.nr,l.R0],o.reduce(((e,t)=>{const n=(0,c.Z)(t);return(n?n.directories:[]).filter((e=>e.type&&d.includes(e.type))).map((e=>[t.entityID,e])).forEach((t=>{e.push(t)})),e}),[])).map((([e,t])=>{const n=(0,a.Z)(r,t);return[e,t,n.hasPlexMusicUpgrade||n.hasPlexMovieUpgrade||n.hasPlexSeriesUpgrade]})).filter((([,,e])=>e));var o,d;return s.length>0&&s.forEach((([t,n])=>{e.push([r.machineIdentifier,i,t,n])})),e}),[])))},44553:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(22222),r=n(30271);const s={};function o(e){if(s[e])return s[e];const t=(0,i.P1)(r.Z,(t=>t[e]));return s[e]=t,t}},42456:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return e.ui.authCodeExchange}},16916:(e,t,n)=>{"use strict";function i(e){return!!e.user.anonymous}n.d(t,{Z:()=>i})},30271:(e,t,n)=>{"use strict";function i(e){return e.user}n.d(t,{Z:()=>i})},87893:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(30271);const s=(0,i.P1)(r.Z,(e=>e.experienceSettings))},78283:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(22222),r=n(40446);var s=n(44553);const o=(0,i.P1)((0,s.Z)("features"),(e=>{return t=e||[],(0,r.Z)(t,(e=>e.uuid),(()=>!0));var t}))},80204:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(87893);const s=(0,i.P1)(r.Z,(({language:e})=>e))},55327:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(13469),r=n.n(i);function s(){r().isFunction(this.initialize)&&this.initialize.apply(this,arguments)}s.extend=function(e,t){const n=this;let i;i=e&&r().has(e,"constructor")?e.constructor:function(){return n.apply(this,arguments)||null},r().extend(i,n,t);const s=function(){this.constructor=i};if(s.prototype=n.prototype,i.prototype=new s,e&&e.hasOwnProperty("mixins")){let t=e.mixins;delete e.mixins,Array.isArray(t)||(t=[t]),r().each(t,(function(e){r().extend(i.prototype,e)}))}return e&&r().extend(i.prototype,e),i.__super__=n.prototype,i};const o=s},40446:(e,t,n)=>{"use strict";function i(e,t,n){return e.reduce(((i,r,s)=>(i[t(r,s,e)]=n(r,s,e),i)),{})}n.d(t,{Z:()=>i})},90067:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(13469),r=n.n(i),s=n(55327),o=n(82590),a=n(86076),l=n(51401);const c=s.Z.extend({mixins:l.Z,maxCycles:3,maxSize:50,isListening:!1,initialize:function(){this._cache={},this.size=0,this.cycles=[],this.cycle()},startListening:function(){this.isListening||(this.isListening=!0,this.listenTo(o.Z,{"cycle:cache":this.cycle,"clearWhere:cache":this.clearWhere,"clearAll:cache":this.clearAll,"clearCycles:cache":this.clearCycles}))},get:function(e){const t=this._cache[e];return t&&t._cacheCycle&&this.setItemCycle(t,e,r().first(this.cycles)),t},store:function(e,t){t||(t=this.getItemCacheKey(e)),this.remove(e),t&&(this.startListening(),e._cacheKey=t,this._cache[t]=e,this.size++,e.persistInCache||this.setItemCycle(e,t,r().first(this.cycles)))},getItemCacheKey:function(e){return r().result(e,"cacheKey")},setItemCycle:function(e,t,n){const i=e._cacheCycle;i&&i.hasOwnProperty(t)&&delete i[t],e._cacheCycle=n,n[t]=e},cycle:function(){this.size>this.maxSize&&(a.Z.warn("Cache overflow, size: "+this.size),r().each(this.cycles.slice(1),this.removeCycle,this)),this.cycles.unshift({}),this.cycles.length>Math.max(this.maxCycles,1)&&this.removeCycle(r().last(this.cycles))},remove:function(e){if(!e||!e._cacheKey)return;const t=e._cacheKey;this._cache.hasOwnProperty(t)&&(delete this._cache[t],this.size--),e._cacheCycle&&(e._cacheCycle.hasOwnProperty(t)&&delete e._cacheCycle[t],delete e._cacheCycle),delete e._cacheKey},removeCycle:function(e){r().each(r().values(e),this.remove,this);const t=r().indexOf(this.cycles,e);this.cycles.splice(t,1)},clearWhere:function(e){const t=r().where(r().values(this._cache),e);r().each(t,this.remove,this)},clearAll:function(){r().each(r().values(this._cache),this.remove,this),this.cycles.length=0,this.cycle(),this.stopListening(),this.isListening=!1},clearCycles:function(){const e=this.cycles;for(;e.length;)this.removeCycle(e[e.length-1]);this.cycle()}})},76580:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(13469),r=n.n(i),s=n(90067);const o=s.Z.extend({maxCycles:3,maxSize:20,get:function(e){const t=s.Z.prototype.get.apply(this,arguments);return t&&t.every((function(e){return!(!e.cache||!e.cache.isListening||(e.cache.store(e),0))})),t},getItemCacheKey:function(e){let t=r().result(e,"url");return e.server&&(t=e.server.getScopedKey(t)),e.provider&&(t=e.provider.getScopedKey(t)),t}})},78542:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(13469),r=n.n(i),s=n(49521),o=n(90067);const a=o.Z.extend({maxCycles:3,maxSize:50,imageParamsRegex:/&?(size|scale|width|height)=([^&]+)/g,initialize:function(){o.Z.prototype.initialize.apply(this,arguments),this._infoMemo={}},store:function(e,t){if(t||(t=this.getItemCacheKey(e)),!t)return;const n=e.url,i=this.getImageInfo(n),s={url:n,blobUrl:e.blobUrl,size:i.size};let o=this.get(t);if(o){if(!o.images.hasOwnProperty(n)){const e=o.sizes;o.images[n]=s;const t=r().sortedIndex(e,s,"size");e.splice(t,0,s)}}else o={images:{},sizes:[s]},o.images[n]=s,this.startListening(),o._cacheKey=t,this._cache[t]=o,this.size++,e.persistInCache||this.setItemCycle(o,t,r().first(this.cycles))},getItemCacheKey:function(e){return this.getImageInfo(e.url).key},getImageInfo:function(e){if(this._infoMemo.hasOwnProperty(e))return this._infoMemo[e];const t={width:"0",scale:"1"},n=e.replace(this.imageParamsRegex,(function(e,n,i){return t[n]=i,""})),i=t.size&&t.size.split("-"),r={key:n,size:(i&&2===i.length?i[1]:parseInt(t.width,10))*parseInt(t.scale,10)};return this._infoMemo[e]=r,r},removeImageInfo:function(e){this._infoMemo.hasOwnProperty(e)&&delete this._infoMemo[e]},getBlobUrl:function(e){const t=this.getImageInfo(e),n=this.get(t.key);if(n){const t=n.images[e];if(t)return t.blobUrl}},getPlaceholder:function(e){const t=this.getImageInfo(e),n=this.get(t.key);if(n){if(n.images[e])return;return r().last(n.sizes).blobUrl}},remove:function(e,t){o.Z.prototype.remove.apply(this,arguments),r().each(e.sizes,(function(e){this.removeImageInfo(e.url),s.Z.hasObjectUrl&&window.URL.revokeObjectURL(e.blobUrl)}),this)}})},48497:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(13469),r=n.n(i);const s=n(90067).Z.extend({maxCycles:5,maxSize:100,getItemCacheKey:function(e,t){if(r().isFunction(e.cacheKey))return t||(t=e.toJSON()),e.cacheKey(t)}})},34510:(e,t,n)=>{"use strict";n.d(t,{HN:()=>i,E4:()=>r,Hn:()=>s,zR:()=>o,Ut:()=>a,WX:()=>l,iW:()=>c,nQ:()=>d,Zb:()=>u,A2:()=>h,NV:()=>p});const i="com.plexapp.agents.imdb",r="com.plexapp.agents.lastfm",s="com.plexapp.agents.none",o="com.plexapp.agents.plexmusic",a="tv.plex.agents.music",l="tv.plex.agents.movie",c="tv.plex.agents.none",d="tv.plex.agents.game",u="tv.plex.agents.series",h="com.plexapp.agents.themoviedb",p="com.plexapp.agents.thetvdb"},37517:(e,t,n)=>{"use strict";n.d(t,{p:()=>i,M:()=>r});const i="error",r="success"},59650:(e,t,n)=>{"use strict";n.d(t,{Yq:()=>i,KH:()=>r,o5:()=>s});const i=100,r=100,s=700},25525:(e,t,n)=>{"use strict";n.d(t,{bB:()=>i,jv:()=>r,S7:()=>s,av:()=>a,cW:()=>l,hJ:()=>c,pQ:()=>d,nJ:()=>u});const i="https://forums.plex.tv",r="https://www.plex.tv/media-server-downloads/#plex-app",s="https://status.plex.tv",o="?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps",a="https://support.plex.tv"+o,l="https://support.plex.tv/articles/225877427-supported-dvr-tuners-and-antennas/"+o,c="https://support.plex.tv/articles/community-supported-tuners/"+o,d="https://support.plex.tv/articles/206225077-how-to-use-secure-server-connections/"+o,u="https://support.plex.tv/articles/200241558-agents/"},6312:(e,t,n)=>{"use strict";function i(){return window.viewport&&window.viewport.pixelRatio||window.devicePixelRatio||1}n.d(t,{Z:()=>i})},44560:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const i={NEVER:"never",SAME_NETWORK:"samenetwork",ALWAYS:"always"};i.settings=[{value:i.NEVER,title:"Never"},{value:i.SAME_NETWORK,title:"On same network as server"},{value:i.ALWAYS,title:"Always"}];const r=i},6539:(e,t,n)=>{"use strict";n.d(t,{EU:()=>i,yy:()=>r,it:()=>s,bS:()=>o,Rr:()=>a,Ko:()=>l,ES:()=>c,oP:()=>d});const i="small-60",r="small-120",s="medium-240",o="medium-360",a="large-480",l="large-720",c="large-1280",d="large-1920"},1475:(e,t,n)=>{"use strict";n.d(t,{Mf:()=>i,hY:()=>r});const i=9,r=27},39620:(e,t,n)=>{"use strict";n.d(t,{ql:()=>i,GP:()=>r,AM:()=>s,ae:()=>o,n1:()=>a,yq:()=>l,ly:()=>c,dm:()=>d,qe:()=>u,h3:()=>h,RG:()=>p,_R:()=>g,Zy:()=>m,RF:()=>f,FH:()=>y,yY:()=>v,$M:()=>b,zw:()=>Z,xs:()=>S,nJ:()=>I,zL:()=>M,yZ:()=>w,FR:()=>P,wl:()=>C,i0:()=>D,fV:()=>A,uz:()=>x,Yf:()=>E,JM:()=>T,b1:()=>j,T5:()=>N,t6:()=>O,wC:()=>k,mX:()=>L,pg:()=>R,ic:()=>z,kD:()=>V});const i="claim",r="dismiss",s="skip",o="confirm",a="cancel",l="learn",c="complete",d="edit",u="markAsWatched",h="markAsUnwatched",p="refresh",g="analyze",m="unmatch",f="splitApart",y="optimize",v="delete",b="getInfo",Z="rate",S="selectStream",I="optimizeDatabase",M="cleanBundles",w="emptyTrash",P="deleteServer",C="addLibrary",D="updateLibrary",A="cancelLibraryUpdate",x="forceRefreshLibrary",E="editLibrary",T="analyzeLibrary",j="deleteLibrary",N="pinToNav",O="unpinFromNav",k="reorderNav",L="optOutMetrics",R="remoteAccess",z="selectPreferredServer",V="subscribe"},54676:(e,t,n)=>{"use strict";n.d(t,{jd:()=>i,DJ:()=>r,cN:()=>s,Y3:()=>o,L6:()=>a,uf:()=>l,uh:()=>c,od:()=>d,$s:()=>u,SO:()=>h,dS:()=>p,oM:()=>g,IL:()=>m,fr:()=>f,W3:()=>y,cI:()=>v});const i="fallback",r="startup",s="server",o="library",a="settings",l="setupWizard",c="navBar",d="dvrSetup",u="content.discover",h="content.library",p="content.playlists",g="content.collections",m="content.timeline",f="content.dvr.discover",y="content.dvr.guide",v="content.dvr.schedule"},59140:(e,t,n)=>{"use strict";n.d(t,{Yg:()=>i,Jk:()=>r,Ip:()=>s,dV:()=>o,EE:()=>a,$R:()=>l,CM:()=>c,o$:()=>d,PS:()=>u,fB:()=>h,Jw:()=>p});const i="client:claimServer",r="client:claimServerFailure",s="client:click",o="client:mmp:start",a="client:relayTested",l="client:shutdown",c="client:signout",d="client:start",u="client:switchuser",h="client:view",p="client:upsell"},22220:(e,t,n)=>{"use strict";n.d(t,{Sd:()=>i,Hx:()=>r,G5:()=>s,H4:()=>o,dp:()=>a,YB:()=>l,yl:()=>c,Q_:()=>d,Vr:()=>u,YX:()=>h,jy:()=>p,Bc:()=>g,lz:()=>m,L6:()=>f,Rs:()=>y,mU:()=>v,VP:()=>b,TD:()=>Z,od:()=>S,qT:()=>I,RN:()=>M,xC:()=>w,cJ:()=>P,yW:()=>C,Y0:()=>D,iw:()=>A,O6:()=>x});const i="home",r="source",s="plexpass",o="signIn",a="signOut",l="setupWizard",c="unclaimedServer",d="status",u="stopServerSession",h="stopServerSessionError",p="sidebar",g="releaseNotes",m="unknown",f="settings",y="settingsSidebar",v="preferredServer",b="preferredSources",Z="dvrSettings",S="dvrSetup",I="dvrDeviceSettings",M="confirmDeleteServer",w="confirmUpgradeLibrary",P="confirmAnalyzeLibrary",C="confirmForceRefreshLibrary",D="confirmEmptyTrashLibrary",A="confirmDeleteLibrary",x="confirmRemoveDVR"},22182:(e,t,n)=>{"use strict";n.d(t,{km:()=>i,IY:()=>r,t3:()=>s});const i="hub",r="list",s="view"},45200:(e,t,n)=>{"use strict";n.d(t,{H:()=>i});const i="0"},75134:(e,t,n)=>{"use strict";n.d(t,{lq:()=>i,LE:()=>r,FH:()=>s,JL:()=>o,zw:()=>a});const i="scrobble",r="save",s="addToCatalog",o="addToWatchlist",a="rate"},35785:(e,t,n)=>{"use strict";var i,r;n.d(t,{Z:()=>s}),(r=i||(i={})).ACTION="action",r.ACTIONS="actions",r.CONTENT="content",r.CONTINUE_WATCHING="continuewatching",r.GRID="grid",r.IMAGE_TRANSCODER="imagetranscoder",r.INTEGRATIONS="integrations",r.LINEUPS="lineups",r.LOCATION="location",r.MANAGE="manage",r.MATCH="match",r.METADATA="metadata",r.PLAY_QUEUE="playqueue",r.PLAYLIST="playlist",r.PROMOTED="promoted",r.RATE="rate",r.SEARCH="search",r.SETTINGS="settings",r.SUBSCRIBE="subscribe",r.TIMELINE="timeline",r.UNIVERSAL="universal";const s=i},71746:(e,t,n)=>{"use strict";n.d(t,{vP:()=>i,Ll:()=>r,zY:()=>s,Y3:()=>o,xF:()=>a,HG:()=>l,uk:()=>c,w1:()=>d,Xp:()=>u,_:()=>h,wB:()=>p});const i="tv.plex.provider.epg",r="tv.plex.providers.epg",s="tv.plex.providers.epg.xmltv",o="com.plexapp.plugins.library",a="tv.plex.provider.music",l="tv.plex.provider.podcasts",c="tv.plex.provider.vod",d="tv.plex.provider.webshows",u="tv.plex.provider.discover",h="synthetic.provider.home";function p(e,t){return!!e&&(Array.isArray(t)||(t=[t]),t.some((t=>-1!==e.indexOf(t))))}},59387:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});const i="livetv"},55232:(e,t,n)=>{"use strict";n.d(t,{Pt:()=>i,x8:()=>r});const i="lineup",r="recentChannelsInGrid"},57840:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={NORMAL:0,LOCAL:42,CLOUD:43}},11172:(e,t,n)=>{"use strict";n.d(t,{uN:()=>i,wz:()=>r,c3:()=>s,Lx:()=>o,QQ:()=>a,OQ:()=>l,RZ:()=>c,N6:()=>d,VA:()=>u,S5:()=>h,_q:()=>p});const i="Plex Audiobook",r="Plex Movie Scanner",s="Plex Music",o="Plex Movie",a="Plex TV Series",l="Plex Music Scanner",c="Plex Photo Scanner",d="Plex Premium Music Scanner",u="Plex Series Scanner",h="Plex Video Files Scanner",p="Plex Game"},49037:(e,t,n)=>{"use strict";n.d(t,{uf:()=>i,hA:()=>r,nm:()=>s,WY:()=>o,nZ:()=>a,c9:()=>l});const i="untested",r="pending",s="connected",o="unauthorized",a="unavailable",l="aborted"},80177:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});const i="myPlex"},49112:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AVAILABLE:()=>i,DONE:()=>r,DOWNLOADED:()=>s,DOWNLOADING:()=>o,ERROR:()=>a,INSTALLING:()=>l,NONE:()=>c,NOTIFY:()=>d});const i="available",r="done",s="downloaded",o="downloading",a="error",l="installing",c="none",d="notify"},79567:(e,t,n)=>{"use strict";n.d(t,{od:()=>i,uh:()=>r,pp:()=>s});const i="dvr-setup",r="nav-bar",s="server-setup"},77153:(e,t,n)=>{"use strict";var i,r;n.d(t,{Z:()=>s}),(r=i||(i={})).Relay="relay",r.Upsell="upsell",r.LibraryUpgrade="libraryUpgrade";const s=i},15856:(e,t,n)=>{"use strict";n.d(t,{km:()=>i,Ao:()=>r,wz:()=>s,ie:()=>o,vm:()=>a,sy:()=>l,Oo:()=>c,ZM:()=>d,TE:()=>u,KH:()=>h,Ix:()=>p,je:()=>g,vi:()=>m});const i="222020fb-1504-492d-af33-a0b80a49558a",r="644c4466-05fa-45e0-a478-c594cf81778f",s="f3235e61-c0eb-4718-ac0a-7d6eb3d8ff75",o="d9528436-ee7c-42e3-ab7b-814f85ef74b4",a="65685ff8-4375-4e4c-a806-ec1f0b4a8b7f",l="nonAnonymousAccount",c="6aaaf4fc-c55f-4042-92c8-b35f7886d249",d="4e27cf82-9fb6-4ebe-8e10-c48bfe6fbbb6",u="3c376154-d47e-4bbf-9428-2ea2592fd20a",h="f3a99481-9671-4274-a0d3-4c06a72ef746",p="85410409-ebe4-47f8-9814-034ff05c47d7",g="fc3e8322-5e6e-4f4a-9d71-728c6d5656bd",m="a852775a-2b74-4624-aaa3-3d624471a537"},71050:(e,t,n)=>{"use strict";n.d(t,{iN:()=>i,zK:()=>r,J$:()=>s,j5:()=>o,Ku:()=>a,ZP:()=>l});const i="active",r="inactive",s="canceled",o="pending_cancellation",a="ended",l=[i,r,s,o,"lapsed",a]},36678:(e,t,n)=>{"use strict";n.d(t,{VW:()=>i,G5:()=>r,ZP:()=>s});const i="arcade",r="plexpass",s=[i,r,"tidal"]},21451:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(13469),r=n.n(i),s=n(94566),o=n(58905),a=n(92264),l=n(41120),c=n(21235);var d=n(50958),u=n(71065),h=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable;const m={uri:function(e,t){const n=t&&t.items;if(n&&n.length){if(n.length>1)return this.getBatchLibraryMetadataURI(n,t);e||(e=r().first(n))}if(e instanceof s.ZP.Model){if(e.get("isSection"))return this.getSectionURI(e,t);if(e.get("isMetadataList"))return this.getMetadataListURI(e,t);if(e.get("isPlaylist"))return this.getPlaylistURI(e,t)}return this.getLibraryMetadataURI(e,t)},parseLibraryUri:function(e){const t=u.Z.getLastSegment(e),n=decodeURIComponent(t).match(/(\/library\/sections\/\w+)\/all(?:\?(.*))?/),[,i,r=""]=n,s={};for(const e of r.split("&")){const[t,n]=e.split("=");t.startsWith("include")||(s[t]=n)}const o=s,{type:a,sourceType:l,sort:c,limit:d}=o,m=((e,t)=>{var n={};for(var i in e)h.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&p)for(var i of p(e))t.indexOf(i)<0&&g.call(e,i)&&(n[i]=e[i]);return n})(o,["type","sourceType","sort","limit"]);return{sectionKey:i,type:a,sourceType:l,sort:c,limit:d,filterString:Object.entries(m).map((([e,t])=>`${e}=${t}`)).join("&")}},getSectionURI:function(e,t){const n=r().result(e,"url"),i=e.get("currentSubset"),s=e.get("currentFolderKey"),o=e.get("currentType");let a;if("folder"===i.id)a=s||u.Z.join([n,"all"]);else{const t=e.get("items"),r=t.getParams();r.type&&delete r.type,r.timelineState&&delete r.timelineState,r.unwatchedLeaves&&(r[(0,d.A_)(e.get("type")).typeString+".unwatched"]=1,delete r.unwatchedLeaves),o&&(r.sourceType=o.id),a=u.Z.join([n,i.id],r),a=t.replaceSpecialFilterOperators(a)}return this._resolveURI({prefix:"library",parts:[e.get("uuid"),"directory",a]})},getBatchLibraryMetadataURI:function(e,t){const n=this._getSectionInfo(r().first(e)),i="/library/metadata/"+r().map(e,(function(e){return e.get("ratingKey")})).join(",");return this._resolveURI({prefix:"library",parts:[n.sectionUUID,"directory",i]})},getLibraryMetadataURI:function(e,t){t||(t={});const n=this._getSectionInfo(e);let i,s=r().result(e,"url");return t.excludeSeedItem&&(s=u.Z.join(s,{excludeSeedItem:1})),i=e.models||e.collectionName||e instanceof o.Z?"directory":e.get("radio")?"station":"item",this._resolveURI({prefix:"library",parts:[n.sectionUUID,i,s]})},getMetadataListURI:function(e,t){t||(t={});const n=this._getSectionInfo(e);return this._resolveURI({prefix:"library",parts:[n.sectionUUID,"directory",u.Z.join(e.get("containerKey"),{sourceType:t.sourceType})]})},getPlaylistURI:function(e,t){return this._resolveURI({prefix:"playlist",parts:["",e.get("guid")]})},title:function(e,t){const n=t&&t.items;if(n&&n.length){if(n.length>1)return this.getBatchLibraryMetadataTitle(n,t);e=r().first(n)}return e.get("isSection")?this.getSectionTitle(e,t):e.get("isMetadataList")?this.getMetadataListTitle(e,t):this.getLibraryMetadataTitle(e,t)},getSectionTitle:function(e){const t=e.get("title"),n=e.get("currentSubset"),i=e.get("currentFilters");return"all"!==n.id?t+": "+n.get("title"):i.length?t+": "+r().flatten(r().map(i,(function(e){return e.titles}))).join(", "):t},getMetadataListTitle:function(e){return e.get("containerTitle")||e.get("title")},getBatchLibraryMetadataTitle:function(e){return function(e){if(!e||!e.length)return;const t=e.length;return 1===t?e[0]:2===t?(0,c.Z)("{1} and {2}",e[0],e[1]):3===t?(0,c.Z)("{1}, {2}, and {3}",e[0],e[1],e[2]):(0,c.Z)("{1}, {2}, and {3} others",e[0],e[1],e.length-2)}(r().map(e,(function(e){return e.get("title")})))},getLibraryMetadataTitle:function(e){const t=e.get("grandparentTitle")||e.get("parentTitle");let n=e.get("title");return t&&(n=t+" - "+n),"episode"===e.get("type")&&(n+=" ("+(0,a.Z)({seasonIndex:e.get("parentIndex"),episodeIndex:e.get("index"),date:e.get("originallyAvailableAt"),noLeadingZero:!0,separator:" "})+")"),n},_resolveURI:function(e){const t=e.parts,n=r().map(t,(function(e){return e?encodeURIComponent(e):""}));return e.prefix+"://"+n.join("/")},_getSectionInfo:function(e){let t=e.get("librarySectionUUID"),n=e.get("librarySectionID");if(!t||!n){const i=(0,l.Z)(e);r().isEmpty(i)||(t=i.get("uuid"),n=i.id)}return{sectionUUID:t,sectionID:n}}}},54148:(e,t,n)=>{"use strict";n.d(t,{DF:()=>i,_G:()=>r,ZP:()=>c});const i=30,r=365,s=36e5,o=24*s,a=["years","months","days","hours","minutes","seconds","milliseconds"],l={years:o*r,months:o*i,days:o,hours:s,minutes:6e4,seconds:1e3,milliseconds:1};function c(e){const t=e<0?-1:1,n={};let i=e*t,r=-1;for(;++r<a.length;){const e=a[r],s=l[e],o=Math.floor(i/s);n[e]=o&&o*t,i%=s}return n}},25664:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(13469),r=n.n(i),s=n(54148);const o=function(e){if(e<=0||!r().isNumber(e))return"0:00";const t=(0,s.ZP)(e),n=t.seconds,i=t.minutes,o=t.hours+24*t.days;let a="";return a=n<10?":0"+n:":"+n,a=i<10&&o>0?"0"+i+a:i+a,o>0&&(a=o+":"+a),a}},80100:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(53246);const r=/version\/(\d+(\.\d+)?)/i,s=/\/([^\s]+)\s+\(Vizio/,o=/(?:applewebkit|safari)\/(\d+(\.\d+)?)/i,a=function(e){const t=/\(.* ([^)]+)\)$/.exec(e);return t&&t[1]||void 0};function l(e){let t="",n="";e?(t=e.userAgent,n=e.platform):i.Z&&null!=window.navigator&&(t=window.navigator.userAgent,n=window.navigator.platform),this.platformVersion="0",this.detect({userAgent:t,platform:n})}l.prototype={constructor:l,browsers:[{id:"konvergo",name:"Plex Media Player",webkit:!0,regex:/plexmediaplayer/i,versionRegex:/plexmediaplayer (\d+\.\d+\.\d+)/i},{id:"wiiu",name:"Wii U",regex:/wiiu/i,versionRegex:o,webkit:!0},{id:"ps3",name:"Unknown Browser",webkit:!0,regex:/\(PLAYSTATION 3 \d\./},{id:"ps4",name:"Unknown Browser",webkit:!0,regex:/\(PlayStation 4 \d\./},{id:"ps3",name:"PlayStation 3",webkit:!0,regex:/\(PlayStation 3\)/,versionRegex:o},{id:"ps4",name:"PlayStation 4",webkit:!0,regex:/\(PlayStation 4\)/,versionRegex:o},{id:"edge",name:"Microsoft Edge",regex:/edge?|(windows phone.+chrome)/i,versionRegex:/edge?\/(\d+(\.\d+)?)/i},{id:"ie",name:"Internet Explorer",msie:!0,regex:/(msie|trident|iemobile)/i,versionRegex:/(msie |rv:)(\d+(\.\d+)?)/i,versionMatchIndex:2},{id:"opera",name:"Opera",presto:!0,regex:/opera/i,versionRegex:r},{id:"opera",name:"Opera",webkit:!0,regex:/OPR\//,versionRegex:/OPR\/\s?(\d+(\.\d+)?)/},{id:"vivaldi",name:"Vivaldi",webkit:!0,regex:/vivaldi/i,versionRegex:/Vivaldi\/\s?(\d+(\.\d+)?)/},{id:"chrome",name:"Chrome",webkit:!0,regex:/(chrome|crios|gfiber|netbox)/i,versionRegex:/(?:chrome|crios|gfibertv)[/-](\d+(\.\d+)?)/i},{id:"firefox",name:"Firefox",gecko:!0,regex:/firefox/i,versionRegex:/firefox[ /](\d+(\.\d+)?)/i},{id:"safari",name:"Safari",webkit:!0,regex:/macintosh.+safari/i,versionRegex:r},{id:"safari",name:"Safari",webkit:!0,regex:/applewebkit/i,versionRegex:o}],platforms:[{id:"metrological",name:"Metrological",tv:!0,regex:/WPE([-\w]+)?$/,version:function(e=""){const t=/WPE(?:-(\w*))?$/.exec(e);if(t&&t[1])return t[1]}},{id:"netgem",name:"Netgem",tv:!0,regex:/^Netbox/,version:function(e=""){return e.split("/")[1]||e}},{id:"netcast",name:"NetCast",tv:!0,predicate:function(e){return/netcast/i.test(e)&&!/web[o0]s/i.test(e)}},{id:"webos",name:"webOS",tv:!0,predicate:function(e){return/web[o0]s/i.test(e)&&/smarttv/i.test(e)}},{id:"blackberry",name:"Blackberry",mobile:!0,regex:/BlackBerry|RIM|BB10/,version:function(e){const t=(/PlayBook/.test(e)?/Tablet OS (\d+\.\d+)/:r).exec(e);return t&&t[1]}},{id:"ps3",name:"PlayStation 3",tv:!0,regex:/P(lay)?S(tation )?3/i,version:function(e){return window.WM_devSettings?window.WM_devSettings.version:void 0}},{id:"ps4",name:"PlayStation 4",tv:!0,regex:/P(lay)?S(tation )?4/i,version:function(e){return window.WM_devSettings?window.WM_devSettings.version:void 0}},{id:"wiiu",name:"Wii U",tv:!0,regex:/Nintendo WiiU/},{id:"tizen",name:"Tizen",tv:!0,predicate:function(e){return!!this.version(e)},version:function(e){const t=/Tizen (\d+(\.\d+)*)/i.exec(e);return t&&t[1]||void 0}},{id:"winvergo",name:"Windows",tv:!0,predicate:function(e){return i.Z&&!!window.Windows},version:function(e){try{const e=window.Windows.System.Profile.AnalyticsInfo.versionInfo.deviceFamilyVersion,t=("0000000000000000"+parseInt(e,10).toString(16)).slice(-16),n=[];let i=0;for(;i<t.length;){const e=t.substring(i,i+4),r=parseInt(e,16);n.push(r),i+=4}return n.join(".")}catch(e){}}},{id:"viera",name:"Viera",tv:!0,predicate:function(e){return!!this.version(e)},version:function(e){const t=/Viera\/(\d+(\.\d+)*)/i.exec(e);return t&&t[1]||void 0}},{id:"sta",name:"Smart TV Alliance",tv:!0,version:function(e){let t,n;if(/SmartTvA/.test(e))n=/SmartTvA\/(\d+\.\d+)/.exec(e),t=n&&n[1]||t;else{const n=[/nettv\/4/i],i=[/nettv/i],r=function(t){return t.test(e)};[/Linux i686.+Chromium\/18/,/nettv\/4.2/i,/toshiba-dtv/i,/viera/i].some(r)?t="2.0":n.some(r)?t="1.0":i.some(r)&&(t="0")}return t},predicate:function(e){return void 0!==this.version(e)}},{id:"tivo",name:"TiVo",tv:!0,regex:/TiVo/,version:function(e){const t=/TCD[^,]+/.exec(e);return t&&t[0]||void 0}},{id:"viziosmartcast",name:"Vizio SmartCast",tv:!0,predicate:function(e){return i.Z&&window.VIZIO&&window.VIZIO.isSmartCastDevice},version:function(e){}},{id:"viziomtk",name:"Vizio MTK",tv:!0,predicate:function(e){return/opera/i.test(e)&&"undefined"!=typeof iMTK_JSP}},{id:"viziosigma",name:"Vizio Sigma",tv:!0,predicate:function(e){return/opera/i.test(e)&&/vizio/i.test(e)},version:function(e){const t=s.exec(e);return t&&t[1]||void 0}},{id:"viziomtk",name:"Vizio MTK",tv:!0,predicate:function(e){return s.test(e)&&"undefined"!=typeof iMTK_JSP},version:function(e){const t=s.exec(e);return t&&t[1]||void 0}},{id:"viziosigma",name:"Vizio Sigma",tv:!0,regex:s,version:function(e){const t=s.exec(e);return t&&t[1]||void 0}},{id:"operatvstore",name:"Opera TV Store",tv:!0,predicate:function(e){const t=/Opera TV Store/.test(e),n=/TV Store/.test(e)&&/OMI\//.test(e);return t||n}},{id:"operatv",name:"Opera TV",tv:!0,regex:/opera\/\d+\.\d+ \(linux (mips|arm)/i},{id:"ios",name:"iOS",mobile:!0,regex:/(iphone|ipad|ipod)/i,version:function(e){const t=/OS (\d+_\d+)/.exec(e);return t&&t[1]?t[1].replace("_","."):void 0}},{id:"windowsphone",name:"Windows Phone",mobile:!0,regex:/windows phone/i,version:function(e){const t=/windows phone[ os]*(\d+\.\d+);/i.exec(e);return t&&t[1]}},{id:"android",name:"Android",mobile:!0,regex:/android/i,version:function(e){const t=/Android (\d+\.\d+)/.exec(e);return t&&t[1]}},{id:"webos",name:"webOS",mobile:!0,predicate:function(e){return/hpwOS/.test(e)||/web[o0]s/i.test(e)&&!/smarttv/i.test(e)},version:function(e){const t=/(?:hpw|web)OS\/(\d+\.\d+)/.exec(e);return t&&t[1]}},{id:"openelec-rpi2",name:"Embedded (Raspberry Pi)",tv:!0,regex:/plexmediaplayer.*openelec-rpi2/i,version:a},{id:"openelec",name:"Embedded",tv:!0,regex:/plexmediaplayer.*openelec/i,version:a},{id:"linuxkonvergo",name:"Linux",tv:!0,regex:/plexmediaplayer.*linux/i,version:a},{id:"osxkonvergo",name:"OSX",tv:!0,regex:/plexmediaplayer.*mac/i,version:a},{id:"windowskonvergo",name:"Windows",tv:!0,regex:/plexmediaplayer.*win/i,version:a},{id:"linux",name:"Linux",regex:/linux/i},{id:"osx",name:"OSX",regex:/Macintosh/,version:function(e){const t=/OS X (\d+)[_.]?(\d+)?/.exec(e);if(t)return t[2]?t[1]+"."+t[2]:t[1]}},{id:"windows",name:"Windows",regex:/Windows/,version:function(e){const t=/Windows [^\d;)]*(\d+\.\d+)/.exec(e);if(t)return{"6.0":"Vista / Server 2008",6.1:"7 / Server 2008 R2",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"}[t[1]]}},{id:"chromeos",name:"Chrome OS",regex:/CrOS/,version:function(e){const t=/CrOS [\S]* (\d+)[_.]?(\d+)?/.exec(e);if(t)return t[2]?t[1]+"."+t[2]:t[1]}}],detect:function(e){const t=this.runTests(this.browsers,e),n=this.runTests(this.platforms,e);let i;t?(this.id=t.id,this.name=t.name,this.version=this.getVersion(e.userAgent,t.versionRegex,t.versionMatchIndex||1),this.webkit=!!t.webkit,this.gecko=!!t.gecko,this.msie=!!t.msie,this.presto=!!t.presto):(this.id="unknown",this.name="Unknown Browser",this.version="0",this.webkit=!1,this.gecko=!1,this.msie=!1,this.presto=!1),n?(i="function"==typeof n.version?n.version(e.userAgent):n.version,this.platform=n.name,this.platformID=n.id,this.platformVersion=i||this.platformVersion,this.mobile=!!n.mobile,this.tv=!!n.tv):(this.platformID="unknown",this.platform="Unknown Platform",this.mobile=!1,this.tv=!1),this.tv||(this.platformModifierKey="osx"===this.platformID||"ios"===this.platformID?"command":"ctrl")},runTests:function(e,t){let n,i,r,s=0;for(;!0!==i&&(r=e[s++]);)n=t[r.context||"userAgent"],r.regex?i=r.regex.test(n):r.predicate&&(i=r.predicate(n));return r},getVersion:function(e,t,n){const i=e.match(t);return i&&i.length>n&&i[n]||"0"},toJSON:function(){const e={};for(const t in this)this[t]&&"browsers"!==t&&"platforms"!==t&&(e[t]=this[t]);return e}};const c=new l},53246:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)},49521:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(80100),r=n(53246);const s=function(){if(!r.Z)return!1;const e=document.createElement("canvas");return!!(e&&e.getContext&&e.getContext("2d"))}(),o={isHostedHttps:r.Z&&"https:"===window.location.protocol,hasConsole:!!(window.console&&window.console.log&&window.console.log.call),hasWebSocket:r.Z&&!!window.WebSocket,hasEventSource:r.Z&&!!window.EventSource,hasReplaceState:r.Z&&!(!window.history||!window.history.replaceState),hasFileUpload:r.Z&&!!(window.File&&window.FileList&&window.FileReader),hasMediaSource:r.Z&&!(!window.MediaSource&&!window.WebKitMediaSource),hasObjectUrl:!i.Z.presto&&r.Z&&!(!window.URL||"function"!=typeof window.URL.createObjectURL||"function"!=typeof window.URL.revokeObjectURL),hasBlob:function(){try{return!!new window.Blob}catch(e){return!1}}(),hasFullscreen:function(){if(!r.Z)return!1;const e=document.createElement("div");return!!(e.requestFullscreen||e.webkitRequestFullScreen||e.mozRequestFullScreen)}(),hasCanvas:s,hasWebGL:function(){if(!s)return!1;const e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");return!!t&&t instanceof window.WebGLRenderingContext}(),hasTouchScreen:r.Z&&!!("ontouchstart"in window),hasPageVisibility:r.Z&&(!0===document.hidden||!1===document.hidden),hasWebKitPageVisibility:r.Z&&(!0===document.webkitHidden||!1===document.webkitHidden),hasPassiveEventListeners:function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){return e=!0,!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),hasWebSpeech:r.Z&&!!window.speechSynthesis,hasGamepads:r.Z&&"function"==typeof window.navigator.getGamepads,hasMediaSession:r.Z&&"mediaSession"in window.navigator,hasLocalStorage:(()=>{if(!r.Z)return!1;let e=!1;try{window.localStorage.setItem("testKey","test"),window.localStorage.removeItem("testKey"),e=!0}catch(e){}return e})()}},82590:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(55327),r=n(51401);const s=new(i.Z.extend({mixins:r.Z}))},58301:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(2932);function r(e,t,n="message"){if(!e)return t;const r=i.Z.parseXML(e.responseText);return r&&r[n]?r[n]:t}},68468:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o,LL:()=>a,tZ:()=>l});var i=n(14398),r=n(71065);function s(e){const t=new URLSearchParams(window.location.search).get(e);return t?function(e){return/^https:\/\/(?:(\w|-)+\.)*plex\.tv(?:\/|$)/i.test(e)?e:void 0}(t):void 0}function o(e){const t=s("myPlexUrl")||"https://plex.tv";return e?r.Z.join([t,e]):t}function a(e){const t=s("wwwPlexUrl")||"https://www.plex.tv";return e?r.Z.join([t,e]):t}function l(e){const t=s("authAppUrl")||"https://app.plex.tv/auth",n={myPlexUrl:s("myPlexUrl"),wwwPlexUrl:s("wwwPlexUrl")};let o=r.Z.join(t,n,{trailingSlash:!0});return e&&!(0,i.Z)(o)&&(o=r.Z.join([window.location.origin,o])),o}},91487:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(87023);function r(e){return function(e){return!!e&&(!!e.get("isCloud")||e.supports("json")&&!e.get("onlyXML")&&!e.get("isMobileServer"))}(e)?i.AV:i.Ls}},96153:e=>{e.exports=function(e,t,n){return e===t?n.fn(this):n.inverse(this)}},75921:e=>{e.exports=function(e,t,n){return e!==t?n.fn(this):n.inverse(this)}},87601:(e,t,n)=>{const i=n(50673).Z,r=n(25151);e.exports=r(i)},21125:(e,t,n)=>{const i=n(64027).Z,r=n(25151);e.exports=r(i)},51956:(e,t,n)=>{const i=n(47673).Z,r=n(25151);e.exports=r(i)},68325:(e,t,n)=>{const i=n(13469),r=n(40202);e.exports=function(e,t){const n=r.partials[e],s=i.extend({},t.hash.context||this,t.hash);return new r.SafeString(n(s))}},10424:(e,t,n)=>{const i=n(6224).Z,r=n(25151);e.exports=r(i)},96843:(e,t,n)=>{const i=n(46171).Z,r=n(25151);e.exports=r(i)},25151:(e,t,n)=>{const i=n(13469);e.exports=function(e){return function(){return e.apply(this,i.initial(arguments))}}},88920:(e,t,n)=>{const i=n(13469),r=n(21235).U,s=n(40202);e.exports=function(){const e=i.initial(arguments),t=i.last(arguments).hash;return i.isObject(t)&&!i.isEmpty(t)&&e.splice(1,0,t),new s.SafeString(r.apply(r,e))}},63033:(e,t,n)=>{const i=n(71065).Z.getLastSegment,r=n(25151);e.exports=r(i)},98589:(e,t,n)=>{"use strict";function i(e){if(!e)return null;const[t,n]=e.split(","),i=t.substr(5),r=window.atob(n),s=[];for(let e=0;e<r.length;e++)s.push(r.charCodeAt(e));const o=new Uint8Array(s);return new window.Blob([o],{type:i})}n.d(t,{Z:()=>i})},26120:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(14710);function r(e,t){(0,i.Z)(null!=e,"No `version` supplied to `isVersionOrNewer`."),(0,i.Z)(null!=t,"No `minVersion` supplied to `isVersionOrNewer`. Have you misspelled a constant?");const n=t.split("."),r=e.split(".");for(let e=0,t=n.length;e<t;e++)if(e<r.length){const t=parseInt(n[e],10),i=parseInt(r[e],10);if(t<i)return!0;if(t>i)return!1}return!0}},40688:(e,t,n)=>{"use strict";n.d(t,{MP:()=>o,ZP:()=>a});const i={aa:"Afaraf",af:"Afrikaans",ab:"Abkhazian",ak:"Akan",sq:"Shqip",am:"Amharic",ar:"العربية",an:"Aragonés",hy:"Հայերեն",as:"Assamese",av:"авар мацӀ",ae:"avesta",ay:"aymar aru",az:"azərbaycan dili",ba:"башҡорт теле",bm:"bamanankan",eu:"euskara",be:"Беларуская",bn:"Bengali",bh:"भोजपुरी",bi:"Bislama",bs:"bosanski jezik",br:"brezhoneg",bg:"български език",my:"Burmese",ca:"Català",ch:"Chamoru",ce:"нохчийн мотт",cu:"ѩзыкъ словѣньскъ",cv:"чӑваш чӗлхи",kw:"Kernewek",co:"corsu",cr:"ᓀᐦᐃᔭᐍᐏᐣ",dv:"Divehi",dz:"རྫོང་ཁ",en:"English","en-GB":"English (UK)",eo:"Esperanto",et:"eesti",ee:"Eʋegbe",fo:"føroyskt",fj:"vosa Vakaviti",fy:"Frysk",ff:"Fulfulde",ka:"ქართული",gd:"Gàidhlig",ga:"Gaeilge",gl:"Galego",gv:"Gaelg",gn:"Avañe&apos;ẽ",gu:"ગુજરાતી",ht:"Kreyòl ayisyen",ha:"هَوُسَ",hz:"Otjiherero",hi:"हिन्दी",ho:"Hiri Motu",hr:"hrvatski",ig:"Asụsụ Igbo",is:"Íslenska",io:"Ido",ii:"ꆈꌠ꒿ Nuosuhxop",iu:"ᐃᓄᒃᑎᑐᑦ",ie:"Interlingue",ia:"Interlingua",id:"Bahasa Indonesia",ik:"Iñupiaq",jv:"basa Jawa",kl:"kalaallisut",kn:"ಕನ್ನಡ",ks:"कश्मीरी",kr:"Kanuri",kk:"Қазақ тілі",km:"Khmer",ki:"Gĩkũyũ",rw:"Ikinyarwanda",ky:"кыргыз тили",kv:"коми кыв",kg:"KiKongo",kj:"Kuanyama",ku:"Kurdî",lo:"Lao",la:"latine",lv:"latviešu valoda",li:"Limburgs",ln:"Lingála",lt:"lietuvių kalba",lb:"Lëtzebuergesch",lu:"Luba-Katanga",lg:"Luganda",mk:"македонски јазик",mh:"Kajin M̧ajeļ",ml:"Malayalam",mi:"te reo Māori",mr:"मराठी",ms:"bahasa Melayu",mg:"Malagasy fiteny",mt:"Malti",mo:"Moldavian",mn:"монгол",na:"Ekakairũ Naoero",nv:"Diné bizaad",nr:"isiNdebele (North)",nd:"isiNdebele (South)",ng:"Owambo",ne:"नेपाली",nn:"Norsk nynorsk",nb:"Norsk bokmål",ny:"chiCheŵa",oc:"Occitan",oj:"ᐊᓂᔑᓈᐯᒧᐎᓐ",or:"Oriya",om:"Afaan Oromoo",os:"ирон æвзаг",pa:"ਪੰਜਾਬੀ",pi:"पाऴि",ps:"پښتو",qu:"Runa Simi",rm:"rumantsch grischun",ro:"română",rn:"kiRundi",sg:"yângâ tî sängö",sa:"संस्कृतम्",sr:"српски језик",si:"Sinhala",sk:"slovenčina",sl:"Slovenščina",se:"Davvisámegiella",sm:"gagana fa&apos;a Samoa",sn:"chiShona",sd:"सिन्धी",so:"Soomaaliga",st:"Sesotho",sc:"sardu",ss:"SiSwati",su:"Basa Sunda",sw:"Kiswahili",ty:"Reo Tahiti",ta:"தமிழ்",tt:"татарча",te:"Telugu",tg:"тоҷикӣ",tl:"Wikang Tagalog",th:"ไทย",bo:"བོད་ཡིག",ti:"Tigrinya",to:"faka Tonga",tn:"Setswana",ts:"Xitsonga",tk:"Türkmen",tw:"Twi",ug:"Uyƣurqə",uk:"українська",ur:"اردو",uz:"O&apos;zbek",ve:"Tshivenḓa",vi:"Tiếng Việt",vo:"Volapük",cy:"Cymraeg",wa:"Walon",wo:"Wollof",xh:"isiXhosa",yi:"ייִדיש",yo:"Yorùbá",za:"Saɯ cueŋƅ",zu:"isiZulu",pb:"Português (Brasil)",fr:"Français","fr-CA":"Français Canadien",de:"Deutsch",sv:"Svenska",no:"Norsk",da:"Dansk",fi:"Suomeksi",nl:"Nederlands",it:"Italiano",es:"Español","es-419":"Español (Latinoamérica)",pl:"Polski",hu:"Magyar",el:"Ελληνικά",tr:"Türkçe",zh:"中文","zh-TW":"臺語",ru:"русский язык",he:"עברית",ja:"日本語",pt:"Português","pt-BR":"Português Brasileiro",ko:"한국어",cs:"čeština",fa:"فارسی",xx:"Unknown",xn:"None"};function r(e,t){return i[e].localeCompare(i[t])}const s=["xx","xn"],o=function(){const e=Object.keys(i).filter((e=>-1===s.indexOf(e)));return e.sort(r),e.concat(s)}(),a=i},32374:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return`${e.beginsAt}-${e.channelIdentifier}-${e.endsAt}`}},14710:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(86076);const r=function(e,t="`assert` requires an error message argument",n=!1){if(e)return!0;if(i.Z.error(t),n)throw new Error(t);return!1}},86076:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(82590);const r="log:message",s="log:groupEnd",o={accessToken:1,address:1,auth_token:1,authToken:1,Authorization:1,clientIdentifier:1,email:1,host:1,myPlexAccessToken:1,password:1,uri:1,"X-Plex-Token":1},a=new RegExp("("+Object.keys(o).join("|")+")(\\s?=\\s?)(['\"]?)[^'\"\n]+(['\"]?)","g"),l=/%[sdifo]/g,c=/(error|exception)\]$/i,d={"%s":e=>e,"%d":e=>Number.parseInt(e,10),"%f":e=>Number.parseFloat(e),"%o":e=>e},u=(e,t,n)=>function(){let r;const s=arguments.length;let o;if(t=void 0===t?h.LEVEL_LOG:t,!(h.level<t)){if(0===s&&n)o=n;else if(1===s)o=h.serialize(arguments[0]);else if(s>1){const e=Array(s);let t=-1;for(;++t<s;)e[t]=h.serialize(arguments[t]);e[0]=e[0].replace(l,((t,n)=>{let i=t;return e.length>1&&(i=d[t](e[1]),e.splice(1,1)),i})),o=e.join(" ")}return!o||r&&!r.test(o)||i.Z.trigger(e,{type:e,level:t,message:o}),o}},h=u(r);h.LEVEL_NONE=-1,h.LEVEL_ERROR=0,h.LEVEL_WARN=1,h.LEVEL_INFO=2,h.LEVEL_DEBUG=3,h.LEVEL_LOG=4,h.LEVEL_GROUP=h.LEVEL_INFO,h.LEVEL_GROUP_END=h.LEVEL_INFO,h.level=h.LEVEL_LOG,h.redacts=!0,h.setLevel=e=>{h.level=Math.max(h.LEVEL_NONE,Math.min(e,h.LEVEL_LOG))},h.debug=u(r,h.LEVEL_DEBUG),h.info=u(r,h.LEVEL_INFO),h.warn=u(r,h.LEVEL_WARN),h.error=u(r,h.LEVEL_ERROR),h.group=u("log:group",h.LEVEL_GROUP,"Group"),h.groupCollapsed=u("log:groupCollapsed",h.LEVEL_GROUP,"Group"),h.groupEnd=()=>{h.level<h.LEVEL_GROUP_END||i.Z.trigger(s,{type:s,level:h.LEVEL_GROUP_END})},h.serialize=e=>{let t;switch(t=void 0===e?"[object Undefined]":null===e?"[object Null]":Object.prototype.toString.call(e),t){case"[object String]":return h.redacts?e.replace(a,"$1$2$3REDACTED$4"):e;case"[object Object]":case"[object Array]":try{const t=h.redacts?h._jsonReplacer:null;return JSON.stringify(e,t,2)}catch(e){return"Unable to serialize value"}case"[object Boolean]":case"[object Number]":case"[object Function]":case"[object RegExp]":return e.toString();case"[object Date]":return e.toUTCString();case"[object Undefined]":return"undefined";case"[object Null]":return"null";default:if(c.test(t)){const n=h._getMaxStackLength();let i=e.stacktrace||e.stack;return i&&i.length>n&&(i=i.substr(0,n-3)+"..."),h.serialize({type:t,stack:i,name:e.name,message:e.message})}return e.toString()}},h._jsonReplacer=(e,t)=>o[e]?"REDACTED":"[object String]"===Object.prototype.toString.call(t)?h.serialize(t):t,h._getMaxStackLength=()=>1e3;const p=h},92264:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(64381),r=n(55855),s=n(78966),o=n(19013),a=n(13469),l=n.n(a);const c=function(e){return e=parseInt(e,10),l().isNaN(e)?"":(e<10?"0":"")+e};var d=n(21235);const u=function(e){let t=e.seasonIndex,n=e.episodeIndex;if((n>0||0===n)&&t<1e3){e.noLeadingZero||(t=c(t),n=c(n));const i=e.separator;return e.useLongName?`${(0,d.Z)("Season {seasonNumber}",{seasonNumber:t})}${i||" "}${(0,d.Z)("Episode {episodeNumber}",{episodeNumber:n})}`:`${(0,d.Z)("S{seasonNumber}",{seasonNumber:t})}${i||""}${(0,d.Z)("E{episodeNumber}",{episodeNumber:n})}`}if(e.date){const t=(0,o.Z)(e.date);return(0,d.Z)("{monthNumber}/{dayNumber}/{shortYear}",{monthNumber:(0,s.Z)(t)+1,dayNumber:(0,r.Z)(t),shortYear:(0,i.Z)(t,"yy")})}return""}},41120:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(13469),r=n.n(i),s=n(51394);function o(e,t={}){const{onlyIfCached:n=!0}=t;if(!e)return;if(e.section)return e.section;if(e.get("isSection"))return e;const i=e.get("librarySectionID");if(i){const t=new s.Z({key:i},{server:e.server,onlyIfCached:n});return r().isEmpty(t)?void 0:t}return e.parent?o(e.parent,t):void 0}},1493:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(13469),r=n.n(i),s=n(44333),o=n(52637);const a=function(e){const t=s.Z.get("audio").id,n=(0,o.Z)(e,{streamType:t,selected:!0});return r().first(n)}},43154:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(45200),r=n(44333),s=n(52637);const o=function(e){return(0,s.Z)(e,{streamType:r.Z.get("subtitles").id}).filter((e=>e.selected&&e.id!==i.H))[0]}},16215:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(13469),r=n.n(i),s=n(44333),o=n(52637);const a=function(e){const t=s.Z.get("video").id,n=(0,o.Z)(e,{streamType:t});return r().first(n)}},52637:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(13469),r=n.n(i);const s=function(e,t){const n=[];if(e){const i=r().first(e.Part);i&&i.Stream&&n.push.apply(n,r().where(i.Stream,t))}return n}},30712:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(71746),r=n(80177);function s(e){const{providerIdentifier:t=i.Y3,serverIdentifier:n,key:s}=e;let o=n!==r.X?`server://${n}/${t}`:`provider://${t}`;return s&&(o=`${o}${s}`),o}},33204:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const i=["B","KB","MB","GB","TB"],r=function(e,t=2){if(0===e)return`${(0).toFixed(t)} ${i[0]}`;const n=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return`${(e/Math.pow(1024,n)).toFixed(t)} ${i[n]}`}},50673:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e,t){return e?/^\d+$/.test(e)?e+((null==t?void 0:t.length)?t[0]:"p"):e.toUpperCase():""}},64027:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return e>=100?function(e){if(!(e>0))return"";let t=e/1e3;return t=t>=.1?Number(t.toFixed(1)):t,t+" Mbps"}(e):function(e){return e>0?`${e} kbps`:""}(e)}},47673:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(29045),r=n(21235),s=n(50673),o=n(64027);const a=function(e){if(e.index===i.Z.CONVERT_AUTOMATICALLY)return(0,r.Z)("Convert Automatically");if(e.index===i.Z.ORIGINAL)return(0,r.Z)("Original");const t=e.bitrate||e.maxVideoBitrate,n=e.videoResolution;if(!t&&!n)return(0,r.Z)("Unknown");const a=[];if(t&&a.push((0,o.Z)(t)),n&&(!t||t>=1e3)){const e=i.Z.getResolutionFromSize(n);a.push((0,s.Z)(e))}const l=a.join(", ");return e.description?l+" "+e.description:l}},34738:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(71746),r=n(80177),s=n(71065);const o=/\/([^/]+)([^$]+)?/,a={};function l(e){if(a[e])return a[e];const{protocol:t,host:n,pathname:l,search:c}=s.Z.parseUri(e),d="provider:"===t,u="server:"===t;if(!d&&!u)throw new Error("Source identifier is lacking provider or server scheme");const h=l.replace(/\/$/,"")||void 0,p=(null==h?void 0:h.match(o))||[],g=h&&"media"===p[1],m=g?i.Y3:p[1],f=d||g?h:p[2],y=f?f.slice(f.lastIndexOf("/")+1):void 0;return a[e]={isServer:u,serverIdentifier:d?r.X:n,providerIdentifier:d?n:m||i.Y3,key:f?`${f}${c}`:"",ratingKey:y||""},a[e]}},96637:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o}),n(86076);var i=n(80731);let r;function s(){if(void 0===r){const e=window.location.search.match(new RegExp("performanceReportingHost=([^&=]+)"));r=(e&&e[1]?decodeURIComponent(e[1]):i.Z.performanceReportingHost)||null}return r}const o=function(e=s){const t={};function n(n){return n&&!t[n]&&(t[n]=/^(client|playback):/.test(n)||!!e()),!!n&&t[n]}const i={startPeriod:e=>i.mark(`${e}-start`),endPeriod:(e,t)=>i.measure(e,t||`${e}-start`),mark(e){let t=null;if(n(e)){window.performance.mark(e);const n=window.performance.getEntriesByName(e);t=n[n.length-1]}return t},measure(e,t,i){let r=null;if(n(e))try{window.performance.measure(e,t,i),window.performance.clearMarks(t);const n=window.performance.getEntriesByName(e);r=n[n.length-1]}catch(e){}return r}};return i}()},51401:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(13469),r=n.n(i);n(22977);const s=/\s+/,o=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(const r in n)e[t].apply(e,[r,n[r]].concat(i));return!1}if(s.test(n)){const r=n.split(s);for(let n=0,s=r.length;n<s;n++)e[t].apply(e,[r[n]].concat(i));return!1}return!0},a=function(e,t){let n,i=-1;const r=e.length,s=t[0],o=t[1],a=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s,o);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s,o,a);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t)}},l={on:function(e,t,n){return o(this,"on",e,[t,n])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:n,ctx:n||this}),this):this},once:function(e,t,n){if(!o(this,"once",e,[t,n])||!t)return this;const i=this,s=r().once((function(){i.off(e,s),t.apply(this,arguments)}));return s._callback=t,this.on(e,s,n)},off:function(e,t,n){let i,s,a,l,c,d,u;if(!this._events||!o(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events=void 0,this;const h=e?[e]:r().keys(this._events);for(l=0,c=h.length;l<c;l++)if(e=h[l],a=this._events[e],a){if(this._events[e]=i=[],t||n)for(d=0,u=a.length;d<u;d++)s=a[d],(t&&t!==s.callback&&t!==s.callback._callback||n&&n!==s.context)&&i.push(s);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;const t=[].slice.call(arguments,1);if(!o(this,"trigger",e,t))return this;const n=this._events[e],i=this._events.all;return n&&a(n,t),i&&a(i,arguments),this},stopListening:function(e,t,n){let i=this._listeningTo;if(!i)return this;const s=!t&&!n;n||"object"!=typeof t||(n=this),e&&((i={})[e._listenId]=e);for(const o in i)(e=i[o]).off(t,n,this),(s||r().isEmpty(e._events))&&delete this._listeningTo[o];return this},hasListener:function(e){const t=this._events&&this._events[e];return Array.isArray(t)&&t.length>0}};r().each({listenTo:"on",listenToOnce:"once"},(function(e,t){l[t]=function(t,n,i){return(this._listeningTo||(this._listeningTo={}))[t._listenId||(t._listenId=r().uniqueId("l"))]=t,i||"object"!=typeof n||(i=this),t[e](n,i,this),this}})),l.bind=l.on,l.unbind=l.off;const c=l},22977:(e,t,n)=>{"use strict";n(14710)},35922:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const i=e=>Function.prototype.toString.call(e),r=i(Object);function s(e){if(!e||"object"!=typeof e)return!1;const t="function"==typeof e.constructor?Object.getPrototypeOf(e):Object.prototype;if(null===t)return!0;const n=t.constructor;return"function"==typeof n&&n instanceof n&&i(n)===r}},60964:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(13469),r=n.n(i),s=n(86076);function o(e,t){Array.isArray(t)?r().each(t,e):e(t)}const a={parseXML:n(15421).Z,replaceXMLElementNames:function(e,t,n){Array.isArray(t)||(t=[t]);const i=t.join("|"),r=new RegExp("<("+i+")","g"),s=new RegExp("</("+i+")>","g");return(e=e.replace(r,"<"+n+' elementName="$1"')).replace(s,"</"+n+">")},parseEncodedString:function(e,t){e&&o((function(t){if(e.hasOwnProperty(t)){const n=e[t];if(null==n)e[t]="";else try{e[t]=decodeURIComponent(n)}catch(e){}}}),t)},parseInteger:function(e,t){e&&o((function(t){if(e.hasOwnProperty(t)){const n=e[t];e[t]=null==n||""===n?0:parseInt(n,10)}}),t)},parseFloat:function(e,t){e&&o((function(t){if(e.hasOwnProperty(t)){const n=e[t];e[t]=null===n||""===n?0:parseFloat(n)}}),t)},parseBoolean:function(e,t){e&&o((function(t){if(e.hasOwnProperty(t)){const n=e[t];e[t]=1===Number(n)||"true"===n}}),t)},parseArray:function(e,t){e&&o((function(t){if(e.hasOwnProperty(t)){const n=e[t];Array.isArray(n)||(e[t]=[n])}else e[t]=[]}),t)},parseQueryString:function(e,t,n){e&&(n||(n="&"),o((function(t){if(!e.hasOwnProperty(t))return;let i=e[t];var o;r().isObject(i)||(r().isString(i)?(i=i.trim().replace(/^(\?|#)/,""),e[t]=i?(o=i.split(n),r().reduce(o,(function(e,t){const n=t.split("=");let i=n[0],r=n[1];try{i=decodeURIComponent(i),r=void 0===r?null:decodeURIComponent(r),e.hasOwnProperty(i)?Array.isArray(e[i])?e[i].push(r):e[i]=[e[i],r]:e[i]=r}catch(e){s.Z.warn("Unable to decode query string at "+i)}return e}),{})):{}):e[t]={})}),t))}}},25798:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return 1===Number(e)||"true"===e}},80622:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return null==e||""===e?0:parseInt(e,10)}},26603:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(86076),r=n(43741);const s=function(e,t={}){try{return JSON.parse(e)}catch(n){const s=(0,r.Z)(e)?e.substring(0,50):"no response";return i.Z.warn(`[Parser] Unable to parse JSON: ${n.message} (${s})`),t}}},57020:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(86076),r=n(35922),s=n(43741);const o=function(e,t){if(t||(t={}),(0,r.Z)(e))return e;if(!(0,s.Z)(e))return{};if(!(e=e.trim().replace(/^(\?|#)/,"")))return{};const n=t.separators&&t.separators.join("")||t.separator||"&",o=new RegExp(`[${n}]+`);return e.split(o).reduce(((e,t)=>{let[n,r]=t.split("=");try{n=decodeURIComponent(n),r=void 0===r?null:decodeURIComponent(r),e.hasOwnProperty(n)?Array.isArray(e[n])?e[n].push(r):e[n]=[e[n],r]:e[n]=r}catch(e){i.Z.warn(`[Parser] Unable to decode query string at ${n}`)}return e}),{})}},15421:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(27098),r=n.n(i),s=n(86076);let o;const a=function(e){const t={};let n;if(!e)return s.Z.warn("[Parser] Empty XML source"),t;o=o||new(r())({attributePrefix:"",emptyNodeForm:{},ignoreRoot:!0});try{n=e&&o.xml2js(e)}catch(e){s.Z.warn("[Parser] Unable to parse XML: "+e.message)}return n||t}},61194:(e,t,n)=>{"use strict";n.d(t,{l:()=>s,Z:()=>o});var i=n(50958);let r;const s=["Video","Track","Photo","Playlist","Game"],o=function(e,t){const n=t&&t.includeDirectories,o=function(e,t,n){Array.isArray(t)||(t=[t]);const i=t.join("|"),r=new RegExp(`<(${i})`,"g"),s=new RegExp(`</(${i})>`,"g");return e.replace(r,`<${n} elementName="$1"`).replace(s,`</${n}>`)}(e,n?["Directory",...s]:s,"Metadata");return n?o:function(e){r||(r=(0,i.lh)().map((e=>e.typeString)).join("|"));const t=new RegExp(`<Directory([^>]*?)type="(${r})"([\\s\\S]*?)</Directory>`,"gm"),n=new RegExp(`<Directory([^>]*?)type="(${r})"([\\s\\S]*?)/>`,"gm");return e.replace(t,'<Metadata$1type="$2" elementName="Directory"$3</Metadata>').replace(n,'<Metadata$1type="$2" elementName="Directory"$3/>')}(o)}},38744:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return e?"1":"0"}},80441:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e={},t={}){return function(e,t){const n=Object.keys(e);return t.orFields&&t.andFields&&n.sort(((e,n)=>t.orFields.includes(e)&&t.andFields.includes(n)?-1:t.andFields.includes(e)&&t.orFields.includes(n)?1:0)),n}(e,t).reduce(((n,i,r)=>{let s=t.separator||"&";return 0===r?s="":t.orFields&&t.orFields.includes(i)?s="|":t.andFields&&t.andFields.includes(i)&&(s="&"),n+`${s}${encodeURIComponent(i)}=${encodeURIComponent(e[i])}`}),"")}},2932:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(13469),r=n.n(i);var s=n(25798),o=n(86076);var a=n(80622),l=n(26603);var c=n(57020);var d=n(15421),u=n(38744);var h=n(80441);const p={parseType:function(e,t,n){const i=this.getByType("parse",e,this._parseTypeMap);return i?i(t,n):t},stringifyType:function(e,t,n){if(r().isString(t))return t;if(null==t)return"";const i=this.getByType("stringify",e,this._stringifyTypeMap);return i?i(t,n):t},getByType:function(e,t,n){if(n&&r().has(n,t))return n[t];const i=e+(t.charAt(0).toUpperCase()+t.slice(1));return r().has(this,i)?(n[t]=this[i],this[i]):void 0},parseBoolean:s.Z,stringifyBoolean:u.Z,parseInteger:a.Z,parseFloat:function(e){return null==e||""===e?0:window.parseFloat(e)},parseString:function(e){return null==e?"":String(e)},parseEncodedString:function(e){if(null==e)return"";try{return decodeURIComponent(e)}catch(t){return o.Z.warn("[Parser] Unable to parse encoded string"),e}},parseArray:function(e){return e?Array.isArray(e)?e:[e]:[]},parseList:function(e){return e?Array.isArray(e)?e:e.split(","):[]},stringifyList:function(e){return e.join(",")},parseQueryString:c.Z,stringifyQueryString:h.Z,parseJSON:l.Z,parseXML:d.Z,reset:function(){this._parseTypeMap={json:this.parseJSON,xml:this.parseXML},this._stringifyTypeMap={}}};p.reset();const g=p},22706:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(13469),r=n.n(i),s=n(86076);const o={ORIGINAL:-1,CONVERT_AUTOMATICALLY:-2,qualities:{},getQualityByIndex:function(e){if(e===this.CONVERT_AUTOMATICALLY)return{index:this.CONVERT_AUTOMATICALLY};if(e<0)return{index:this.ORIGINAL};const t={index:e};return r().each(this.qualities,(function(n,i){t[i]=r().result(this.qualities,i)[e]}),this),t},getQualityCount:function(){const e=r().first(r().keys(this.qualities));return r().result(this.qualities,e).length},getQualityAttribute:function(e){const t=function(e,t){const n=e.toJSON?e.toJSON():e,{isExtra:i,guid:r}=n;return!(i&&!/^file:\/\//.test(r))&&t}(e,e.server.get("isPrivateConnection"))?"localQuality":"remoteQuality";return"video"!==this.type?this.type+"!"+t:t},getSyncQualityAttribute:function(){return"syncQuality!"+this.type},getCurrentQuality:function(e,t,n){const i=this.getQualityAttribute(e);let o=t.get(i);return o>=this.getQualityCount()&&(s.Z.warn("Quality index "+o+" is out of bounds"),o=r().result(t,"defaults")[i],n({[i]:o})),r().extend(this.getQualityByIndex(o),{attribute:i})},getAvailableQualities:function(e){e||(e={});const t=e.lowestQualityIndex;let n=e.highestQualityIndex;const i=e.comparator,r=[];n===this.ORIGINAL&&(n=void 0);for(let e=0,s=this.getQualityCount();e<s;e++)if(!(t&&e<t)){if(n&&e>n)return r;if(i&&i.call(this,e))return r;r.push(this.getQualityByIndex(e))}return r},getResolutionFromSize:function(e){const t=e.split("x"),n=parseInt(t[1],10);return this.getResolutionFromHeight(n)},getResolutionFromHeight:function(e){return e>2560?"8k":e>1100?"4k":e>720?"1080":e>576?"720":e>480?"576":e>360?"480":"sd"},getHeightFromResolution:function(e){switch(e){case"8k":return 5120;case"4k":return 2560;case"1080":return 1080;case"720":return 720;case"576":return 576;case"480":return 480;case"sd":default:return 360}},getNearestIndex:function(e,t){if(!t)return this.ORIGINAL;let n=e.indexOf(t);if(n<0){n=0;for(let i=0,r=e.length;i<r&&!(e[i]>t);i++)n=i}return n}}},29045:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(13469),r=n.n(i);function s(e,t){const n=t?8*Math.round(t/8):0,i=e?8*Math.round(e/8*(9/16)):0;return Math.max(n,i)}var o=n(22706);const a=r().extend({},o.Z,{type:"video",qualities:{bitrate:[64,96,208,320,720,1500,2e3,3e3,4e3,8e3,1e4,12e3,2e4],videoResolution:["220x128","220x128","284x160","420x240","576x320","720x480","1280x720","1280x720","1280x720","1920x1080","1920x1080","1920x1080","1920x1080"],videoQuality:[10,20,30,30,40,60,60,75,100,60,75,90,100]},getAvailableQualitiesFor(e,t,n){if(!e||!t)return[];if(Array.isArray(e)||(e=[e]),0===e.length)return[];const i=t.get("transcoderVideo"),o=t.get("transcoderVideoRemuxOnly"),a=this.getMaximumResolution(e);if(!i||o||!a)return[];const l=t.get("maxUploadBitrate"),c=r().extend({},n,{comparator:function(e){if(l&&this.qualities.bitrate[e]>l)return!0;const t=this.qualities.videoResolution[e].split("x");return s(t[0],t[1])>a}});return this.getAvailableQualities(c)},getBestAvailableQuality:function(e,t){return 0===t.length?a.ORIGINAL:t.find((t=>t.index===e.index))?e.index:r().last(t).index},getNearestIndexToBitrate:function(e){return this.getNearestIndex(this.qualities.bitrate,e)},getMinimumQuality:function(e,t){return(e===a.ORIGINAL?Number.MAX_VALUE:e)<(t===a.ORIGINAL?Number.MAX_VALUE:t)?e:t},getMaximumQuality:function(e,t){return this.getMinimumQuality(e,t)===e?t:e},getMaximumResolution:function(e){return e.reduce((function(e,t){if(!t.width&&!t.height)return e;const n=s(t.width,t.height);return null===e||n>e?n:e}),null)},isExplicitQuality:function(e){return e!==a.ORIGINAL&&e!==a.CONVERT_AUTOMATICALLY}}),l=a},78574:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(13469),r=n.n(i),s=n(55327);function o(e,t){const n=r().invert(e);return r().reduce(e,((e,i)=>(e[i]=t[n[i]],e)),{})}const a={playing:"playing",paused:"paused",stopped:"paused",error:"paused",buffering:"playing"},l=new(s.Z.extend({types:{VIDEO:"video",MUSIC:"music",PHOTO:"photo",ROM:"rom"},elements:{VIDEO:"video",MUSIC:"audio",PHOTO:"photo"},streams:{VIDEO:"video",MUSIC:"audio",PHOTO:"photo"},states:{STOPPED:"stopped",PAUSED:"paused",PLAYING:"playing",BUFFERING:"buffering",ERROR:"error"},slideshowStates:{PLAYING:"playing",PAUSED:"paused"},castStates:{ERROR:"IDLE",STOPPED:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING",BUFFERING:"BUFFERING"},mediaStates:{LOADING:"LOADING",BUFFERING:"BUFFERING",READY:"READY",ERROR:"ERROR"},initialize(){this.typeByElement=o(this.elements,this.types),this.elementByType=o(this.types,this.elements),this.typeByStream=o(this.streams,this.types),this.streamByType=o(this.types,this.streams),this.statebyCastState=o(this.castStates,this.states),this.castStateByState=o(this.states,this.castStates)},getTypeByElement(e){return this.typeByElement[e]},getElementByType(e){return this.elementByType[e]},getTypeByStream(e){return this.typeByStream[e]},getStreamByType(e){return this.streamByType[e]},getStateByCastState(e){return this.statebyCastState[e]},getCastStateByState(e){return this.castStateByState[e]},getSlideshowStateByState:e=>a[e]}))},63732:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const i="placeholder-standard",r="placeholder-square",s="placeholder-widescreen",o={movie:i,show:i,season:i,episode:s,artist:r,album:r,track:r,photo:r,photoalbum:r,clip:s,playlist:r,playlistFolder:r,channel:r,channelDirectory:r,folder:"placeholder-folder",friend:"placeholder-friend",device:r,poster:i,art:s,banner:s,collection:i}},37152:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={sizes:{movie:"portrait",show:"portrait",season:"portrait",episode:"landscape",artist:"square",album:"square",track:"square",photo:"square",photoalbum:"square",clip:"landscape",playlist:"square",playlistFolder:"square",channel:"square",channelDirectory:"square",folder:"portrait",friend:"square",poster:"portrait",art:"landscape",banner:"banner",collection:"portrait"},ratios:{portrait:1/1.5,square:1,landscape:16/9,banner:5.2},getRatioByType:function(e){return this.ratios[this.sizes[e]]},getPosterWidthUsingRatio:function(e,t){return Math.round(this.ratios[e]*t)},getPosterHeightUsingRatio:function(e,t){return Math.round(this.ratios[e]&t)},getPosterWidth:function(e,t){return Math.round(t*this.getRatioByType(e))},getPosterHeight:function(e,t){return Math.round(t/this.getRatioByType(e))}}},25368:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(80100);function r(e=i.Z){return"edge"===e.id}},36481:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(19755),r=n.n(i);function s(e){const t=r().Deferred();return"object"==typeof e&&"then"in e?e.then(t.resolve,t.resolve):t.resolve(e),t.promise()}},7966:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(19755),r=n.n(i);const s=function(e){const t=r().Deferred();return e.then(t.resolve,t.reject,t.notify),{promise:t.promise(),cancel:function(){t.reject({isCanceled:!0})}}}},68214:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(19755),r=n.n(i);const s=function(e,t){const n=r().Deferred(),i=(new Date).getTime()+t;let s;function o(){const e=(new Date).getTime(),t=Math.max(i-e,0);window.setTimeout(s,t)}return e.then(((...e)=>{s=()=>n.resolve(...e)}),((...e)=>{s=()=>n.reject(...e)})),e.then(o,o),n.promise()}},66910:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(75134),r=n(35785),s=n(71746),o=n(21235),a=n(10135);const l=n(60561).Z.extend({name:"LegacyLibraryProviderModel",defaults(){const e=this.server,t=e.get("isFullServer"),n=e.get("isFullOwnedServer"),l=[{type:r.Z.CONTENT,key:"/library/sections"},{type:r.Z.MATCH,key:"/library/matches"},{type:r.Z.METADATA,key:"/library/metadata"}];return t&&l.push({type:r.Z.SEARCH,key:"/hubs/search"},{type:r.Z.PLAY_QUEUE,key:"/playQueues"},{type:r.Z.PLAYLIST,key:"/playlists"},{type:r.Z.TIMELINE,key:"/:/timeline"},{type:r.Z.ACTIONS,actions:[{id:i.lq,key:"/:/scrobble",reverseKey:"/:/unscrobble"},{id:i.zw,key:"/:/rate"}]}),n&&l.push({type:r.Z.MANAGE}),{identifier:s.Y3,title:(0,o.Z)("Library"),types:["video","audio","photo"],protocols:n?["stream","download"]:["stream"],features:new a.Z(l,{parse:!0,server:e})}}});function c(e,t){!t.get("isCloud")&&e.forEach((e=>{e.set({isPending:!1,isPopulated:!0})})),t.get("isCloud")||e.get(s.Y3)||e.add(new l({isPending:!1,isPopulated:!0},{server:t}))}},42780:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(50958),r=n(71065);function s(e,t){const n=["/library/sections",e,"all"];return t===i.pV?r.Z.join(n):r.Z.join(n,{type:i.nW(t).id})}},51095:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(71746);const r=function(e,t){const n=t||e;return i.wB(n,i.Ll)?i.Ll:n}},81679:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(39666),l=n(28941),c=n(59695),d=n(21847),u=n(55327),h=n(49112),p=n(86076),g=n(51401),m=n(32183);const f=u.Z.extend({mixins:g.Z,url(){const e=this.server.get("activeConnection");if(!e)return;const t=e.id.replace(/^http/,"ws");return this.server.resolveUrl("/:/websockets/notifications",{connection:new c.Z({uri:t}),appendToken:!0,appendHeaders:this.appendHeaders})},initialize(e){o().bindAll(this,"onOpen","onClose","onError","onMessage","getMessageTypes"),this.server=e.server,this.appendHeaders=e.appendHeaders||!1},open(){this.socket&&this.close(),this._deferred=r().Deferred();const e=o().result(this,"url");return e?(this.socket=new window.WebSocket(e),this.socket.onopen=this.onOpen,this.socket.onclose=this.onClose,this.socket.onerror=this.onError,this.socket.onmessage=this.onMessage,this._deferred.promise()):this._deferred.reject().promise()},close(){this.socket&&(this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close(),this.socket=null,this._deferred&&"pending"===this._deferred.state()&&this._deferred.reject())},testConnection(){if(!this.server.get("connected"))return;const e=this.server.get("desktop").get("update");e&&e.get("state")===h.INSTALLING&&this.server.set("connected",null),this.server.trigger("error:connection",this.server)},onOpen(e){const t=l.DB("appStore"),n=this.server.entityID();n&&t.dispatch((0,d.f4)({serverEntityID:n,event:e})),this.server.trigger("socket:websocket",{opened:!0}),this.trigger("open",this.server,e),this._deferred.resolve(this.server,e)},onClose(e){this.close();const t=l.DB("appStore"),n=this.server.entityID();n&&t.dispatch((0,d.LW)({serverEntityID:n,event:e})),this.server.trigger("socket:websocket",{closed:!0}),this.trigger("close",this.server,e),this._deferred.reject(this.server,e),this.testConnection()},onError(e){this.close(),this.server.trigger("socket:websocket",{error:!0}),this.trigger("error",this.server,e),this._deferred.reject(this.server,e),this.testConnection()},onMessage(e){let t;try{t=JSON.parse(e.data)}catch(t){return void p.Z.warn("[Connections] Error formatting message:\n%s",e.data)}const n=!!t._elementType,i=n?o().first(t._children):t.NotificationContainer;if(i){const e=this[n?t.type:i.type];let r;r=n?Array.isArray(i)?i:[i]:function(e,t){return(-1===t.indexOf(e.type)?[]:function(e){switch(e.type){case m.eS:return e.Setting;case m.jN:return e.TimelineEntry;case m.Q_:return e.StatusNotification;case m.ad:return e.ProgressNotification;case m.Z$:return e.PlaySessionStateNotification;case m.cc:return e.BackgroundGeneratorStateNotification;case m.RN:return e.VersionStateNotification;case m.ax:return e.BackgroundProcessingQueueEventNotification;case m.a8:case m.VL:case m.Mu:return e.TranscodeSession;case m.TD:return e.AutoUpdateNotification;case m.lY:return e.ReachabilityNotification;case m.yV:return e.AccountUpdateNotification;case m.gk:return e.ActivityNotification;case m.u0:return e.MediaGrabberDeviceNotification;case m.cK:return e.MediaProviderNotification;case m.sU:return e.MediaProviderContentNotification;case m.sY:return e.LogSentNotification;case m.wL:return e.MediaProviderSubscriptionNotification;case m.iW:return e.ClientDecisionRequestEventNotification}}(e))||[]}(i,this.getMessageTypes()),r.forEach((t=>{try{this.trigger("message",t)}catch(e){p.Z.error("[Connections] Error when triggering",t,e),a.Tb(e,{extra:{message:t}})}if(o().isFunction(e))try{e.call(this,t)}catch(e){p.Z.error("[Connections] Error when handling",t,e),a.Tb(e,{extra:{message:t}})}}))}}})},32183:(e,t,n)=>{"use strict";n.d(t,{yV:()=>i,gk:()=>r,cc:()=>s,ax:()=>o,u0:()=>a,sY:()=>l,Z$:()=>c,eS:()=>d,ad:()=>u,cK:()=>h,sU:()=>p,wL:()=>g,lY:()=>m,Q_:()=>f,jN:()=>y,Mu:()=>v,a8:()=>b,VL:()=>Z,TD:()=>S,RN:()=>I,iW:()=>M,Ej:()=>w});const i="account",r="activity",s="backgroundGeneratorState",o="backgroundProcessingQueue",a="grabber.device",l="log",c="playing",d="preference",u="progress",h="provider.change",p="provider.content.change",g="provider.subscription.change",m="reachability",f="status",y="timeline",v="transcodeSession.end",b="transcodeSession.start",Z="transcodeSession.update",S="update.statechange",I="versionState",M="clientDecision",w="notifyAccountChange"},18272:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(67294),r=n(97762),s=Object.defineProperty,o=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function d(e,t={}){return(0,r.renderToStaticMarkup)(i.createElement(e,((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&c(e,n,t[n]);if(a)for(var n of a(t))l.call(t,n)&&c(e,n,t[n]);return e})({},t)))}},79154:(e,t,n)=>{"use strict";n.d(t,{Ts:()=>i,zL:()=>r,sC:()=>s,t6:()=>o,y0:()=>a,QX:()=>l,Ij:()=>c,Gh:()=>d,k9:()=>u,TS:()=>h,ZJ:()=>p,K5:()=>g,AA:()=>m,_V:()=>f,nJ:()=>y,RG:()=>v,JW:()=>b,iJ:()=>Z});const i="general.db.backup",r="general.bundle.clean",s="grabber.grab",o="grabber.assimilate",a="library.delete",l="library.update.section",c="library.refresh.items",d="library.update.item.metadata",u="media.download",h="media.generate.bif",p="media.generate.chapter.thumbs",g="media.generate.intros",m="media.generate.music.analysis",f="media.offline.transcode",y="general.db.optimize",v="provider.device.channelscan",b="provider.epg.load",Z="subtitle.download"},22478:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(34510),r=n(15856),s=n(50958);function o(e,t){var n;const o=e.isConnected&&e.isFullOwnedServer&&(null==(n=e.ownerFeatures)?void 0:n.includes(r.wz));return{hasPlexMusicUpgrade:!(!o||!t||t.type!==s.R0||t.agent!==i.zR&&t.agent!==i.E4),hasPlexMovieUpgrade:!(!o||!t||t.type!==s.wR||t.agent!==i.A2&&t.agent!==i.HN),hasPlexSeriesUpgrade:!(!o||!t||t.type!==s.nr||t.agent!==i.A2&&t.agent!==i.NV)}}},42466:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(7631),r=n(26120);function s(e){return!!e.get("shortVersion")&&(0,r.Z)(e.get("shortVersion"),i.Z.mediaProvidersServerRoot)}},71417:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(92650);const r=function(){return(0,i.Z)()}},45274:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){const{key:t,sourceType:n,machineIdentifier:i,providerIdentifier:r,directoryID:s,directoryIcon:o,title:a,serverFriendlyName:l,serverSourceTitle:c,providerSourceTitle:d,isCloud:u,isFullOwnedServer:h}=e;return{key:t,sourceType:n,machineIdentifier:i,providerIdentifier:r,directoryID:s,directoryIcon:o,title:a,serverFriendlyName:l,serverSourceTitle:c,providerSourceTitle:d,isCloud:u,isFullOwnedServer:h}}},18337:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(90616);function r(e,t,n,r){return(0,i.Z)("source",e,t,n,r)}},4120:(e,t,n)=>{"use strict";function i(e,t,...n){if(!t)return;const i=[];i.push(e);for(let e=0,t=n.length;e<t;e++){const t=n[e];t&&i.push(t)}return i.push(t),i.join("--")}n.d(t,{Z:()=>i})},89703:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SERVER:()=>i,PROVIDER:()=>r,LIBRARY:()=>s,HUB:()=>o,USER:()=>a,RESOURCE:()=>l,FRIEND:()=>c,HOME_USER:()=>d,METADATA_LIST:()=>u,METADATA_ITEM:()=>h,MEDIA_SUBSCRIPTION:()=>p,LIVE_TV_SESSION:()=>g,PLAY_QUEUE_ITEM:()=>m,PLAYLIST_ITEM:()=>f,SEARCH_RESULT:()=>y,TRANSCODE_JOBS:()=>v,WATCH_TOGETHER_ROOM:()=>b,BACKGROUND_TRANSCODE_JOBS:()=>Z});const i="servers",r="providers",s="libraries",o="hubs",a="users",l="resources",c="friends",d="homeUsers",u="metadataLists",h="metadataItems",p="mediaSubscriptions",g="liveTVSessions",m="playQueueItems",f="playlistItems",y="searchResults",v="transcodeJobs",b="watchTogetherRooms",Z="backgroundTranscodeJobs"},96832:(e,t,n)=>{"use strict";n.d(t,{l:()=>r,Z:()=>s});var i=n(86076);function r(e,t,n){const i=e.get("entities").get(t);if(i){const e=i.get(n);if(e)return e.get("model")}}function s(e,t,n){const s=r(e,t,n);return s||i.Z.warn('An entity does not exist with the type "%s" and id "%s"',t,n),s}},6772:(e,t,n)=>{"use strict";n.d(t,{VX:()=>s,bg:()=>o,SW:()=>a,$w:()=>l,Y7:()=>c,js:()=>d,Ij:()=>u,$R:()=>h,tz:()=>p,KC:()=>g,dH:()=>m});var i=n(96832),r=n(89703);function s(e){return e.get("user")}function o(e){return e.get("user").get("desktop")}function a(e,{serverEntityID:t}){return(0,i.Z)(e,r.SERVER,t)}function l(e,{serverEntityID:t}){return(0,i.l)(e,r.SERVER,t)}function c(e,t){const n=a(e,t);return n&&n.get("desktop")}function d(e,{providerEntityID:t}){return(0,i.Z)(e,r.PROVIDER,t)}function u(e,{metadataListEntityID:t}){return(0,i.l)(e,r.METADATA_LIST,t)}function h(e,{metadataItemEntityID:t}){return(0,i.Z)(e,r.METADATA_ITEM,t)}function p(e,{metadataItemEntityID:t}){return(0,i.l)(e,r.METADATA_ITEM,t)}function g(e,{friendEntityID:t}){return(0,i.Z)(e,r.FRIEND,t)}function m(e,{homeUserEntityID:t}){return(0,i.Z)(e,r.HOME_USER,t)}},63542:(e,t,n)=>{"use strict";n.d(t,{c9:()=>f,GF:()=>y});var i=n(14710),r=n(86076);const s=[];let o,a,l,c=!1,d=!1,u=1e3/60;function h(){o&&(o=window.clearTimeout(o))}function p(){a&&(a=window.clearTimeout(a))}function g(){const e=l;l=null,p(),e&&e()}function m(){h(),p();const e=window.performance.now();let t;for(d=!0;s.length&&(!t||t-e<16.666666666666668);)s.pop()(),t=window.performance.now();d=!1,s.length?(r.Z.warn("[State] Unable to process all updates within budget; %s update(s) remaining",s.length),o=window.setTimeout(m,u)):l&&(a=window.setTimeout(g,u))}function f(e){for(h(),p(),d=!0,c=!0;s.length;)s.pop()();if(e)try{e()}catch(e){(0,i.Z)(!1,e.name+": "+e.message)}l&&g(),d=!1,c=!1}function y(e,t){if(t.isStateTreeRoot)return l=e,void(d||a||(a=window.setTimeout(g,u)));c?e():(p(),s[0]!==e&&s.unshift(e),d||o||(o=window.setTimeout(m,u)))}},98945:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return e?e.toUpperCase():""}},4231:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}},95180:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}},61567:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(2932),r=n(21235);const s=function(e){return e&&i.Z.parseBoolean(e)?(0,r.Z)("Yes"):(0,r.Z)("No")}},43741:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return"[object String]"===window.toString.call(e)}},90379:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});function i(e=24){const t=(n=e,i=0,r=1024,Math.max(Math.min(n,r),i));var n,i,r;let s="";for(;s.length<t;)s+=Math.random().toString(36).substring(2,t-s.length+2);return s}},67201:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(13469),r=n.n(i);const s=function(e){const t=/(\d+\.){2,3}\d+/.exec(e);return r().first(t)||e}},6224:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(71065),r=n(46171);const s=function(e,t){return(0,r.Z)(i.Z.getLastSegment(e||""),t)}},46171:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e,t,n){if(!e)return"";if(e.length>t){const i=t-3-(n=n||Math.floor((t-3)/2));return e.substr(0,n)+"..."+e.substr(e.length-i)}return e}},54462:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(71746);function r(e){const t=e.split("/");if(""===t.shift()){const e=t[0],n=t[t.length-1];let r;return i.wB(e,i.Ll)?r=e:n&&(r=n),r}return e}},21235:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r,U:()=>s});var i=n(28163);function r(e,t,...n){return i.Z.t(e,t,...n)}function s(e,t,...n){return i.Z.tEscape(e,t,...n)}},81191:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(13469),r=n.n(i),s=n(86076);function o(e){const t=r().clone(e);return t.hasOwnProperty("title")?(t.title=r().result(t,"title"),t.hasOwnProperty("shortTitle")&&(t.shortTitle=r().result(t,"shortTitle")),t.hasOwnProperty("plural")&&(t.plural=r().result(t,"plural")),t):t}function a(e,t){const n={};return e.forEach((e=>{n[e]=t.reduceRight(((t,n)=>{const i=n[e];return null!=i&&(t[i]=n),t}),{})})),{contains:function(e){for(const t in n)if(n[t][e])return!0;return!1},get:function(e){for(const t in n){const i=n[t][e];if(i)return o(i)}s.Z.warn(`No type was found for ${e}`)},getAll:function(){return t.map(o)}}}},74441:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(79215),r=n(34510),s=n(71746),o=n(59387);const a=function(e,t,n){const{key:a,types:l={}}=e,c=Array.isArray(t.protocols)?t.protocols.includes(o.K):t.protocols[o.K],d=a===i.Hs,u=a===i.Xp;if(c)return d;if(s.wB(t.identifier,s.Xp))return u;if(d||u)return!1;const h=n.agent===r.Hn;if(a===i.FM&&!h||a===i.MB&&h)return!1;const{type:p,subtype:g}=l;return n.type===p&&(null==g&&null==n.subtype||null!=g&&n.subtype===g)};function l(e,t){if(!e||!t||"hubs"===t.id)return;const n=(0,i.vK)();for(let i=0,r=n.length;i<r;i++){const r=n[i];if(a(r,e,t))return r}return n.find((e=>e.key===i.lz))}},94377:(e,t,n)=>{"use strict";n.d(t,{Hn:()=>r,pX:()=>s,j0:()=>o,pV:()=>a,eD:()=>l});var i=n(81191);const r="none",s="video",o="audio",a="photo",l="rom",c=(0,i.Z)(["id","typeString"],[{id:0,typeString:r},{id:1,typeString:s},{id:2,typeString:o},{id:3,typeString:a},{id:999,typeString:l}]);c.get,c.getAll},75118:(e,t,n)=>{"use strict";n.d(t,{HF:()=>i,QM:()=>r});const i="podcast",r="webshow"},50958:(e,t,n)=>{"use strict";n.d(t,{wR:()=>o,nr:()=>a,xx:()=>l,uG:()=>c,R0:()=>d,c5:()=>u,IK:()=>h,vu:()=>p,pV:()=>g,q8:()=>m,zg:()=>f,du:()=>y,t1:()=>v,GV:()=>b,IO:()=>Z,S7:()=>S,nW:()=>w,lh:()=>P,A_:()=>D,tm:()=>x,O3:()=>E,ye:()=>T});var i=n(21235),r=n(81191),s=n(94377);const o="movie",a="show",l="season",c="episode",d="artist",u="album",h="track",p="clip",g="photo",m="photoalbum",f="playlist",y="collection",v="mixed",b="channel",Z="game",S="author",I="audiobook",M=(0,r.Z)(["id","typeString"],[{id:1,typeString:o,title:()=>(0,i.Z)("Movie"),plural:()=>(0,i.Z)("Movies"),mediaType:s.pX},{id:2,typeString:a,title:()=>(0,i.Z)("Show"),plural:()=>(0,i.Z)("Shows"),mediaType:s.Hn,child:l},{id:3,typeString:l,title:()=>(0,i.Z)("Season"),plural:()=>(0,i.Z)("Seasons"),mediaType:s.Hn,parent:a,child:c},{id:4,typeString:c,title:()=>(0,i.Z)("Episode"),plural:()=>(0,i.Z)("Episodes"),mediaType:s.pX,parent:l},{id:5,typeString:"trailer",title:()=>(0,i.Z)("Trailer"),plural:()=>(0,i.Z)("Trailers"),mediaType:s.pX},{id:6,typeString:"comic",title:()=>(0,i.Z)("Comic"),plural:()=>(0,i.Z)("Comics"),mediaType:s.pV},{id:7,typeString:"person",title:()=>(0,i.Z)("Person"),plural:()=>(0,i.Z)("People"),mediaType:s.Hn},{id:8,typeString:d,title:()=>(0,i.Z)("Artist"),plural:()=>(0,i.Z)("Artists"),mediaType:s.Hn,child:u},{id:9,typeString:u,title:()=>(0,i.Z)("Album"),plural:()=>(0,i.Z)("Albums"),mediaType:s.Hn,parent:d,child:h},{id:10,typeString:h,title:()=>(0,i.Z)("Track"),plural:()=>(0,i.Z)("Tracks"),mediaType:s.j0,parent:u},{id:11,typeString:"picture",title:()=>(0,i.Z)("Picture"),plural:()=>(0,i.Z)("Pictures"),mediaType:s.pV},{id:12,typeString:p,title:()=>(0,i.Z)("Clip"),plural:()=>(0,i.Z)("Clips"),mediaType:s.pX},{id:13,typeString:g,title:()=>(0,i.Z)("Photo"),plural:()=>(0,i.Z)("Photos"),mediaType:s.pV,parent:m},{id:14,typeString:m,title:()=>(0,i.Z)("Photo Album"),plural:()=>(0,i.Z)("Photo Albums"),mediaType:s.Hn,child:g},{id:15,typeString:f,title:()=>(0,i.Z)("Playlist"),plural:()=>(0,i.Z)("Playlists"),mediaType:s.Hn,parent:m},{id:16,typeString:"playlistFolder",title:()=>(0,i.Z)("Playlist"),plural:()=>(0,i.Z)("Playlists"),mediaType:s.Hn,child:f},{id:18,typeString:y,title:()=>(0,i.Z)("Collection"),plural:()=>(0,i.Z)("Collections"),mediaType:s.Hn},{id:19,typeString:Z,title:()=>(0,i.Z)("Game"),plural:()=>(0,i.Z)("Games"),mediaType:s.eD},{id:20,typeString:S,title:()=>"Author",plural:()=>"Authors",mediaType:s.Hn},{id:21,typeString:I,title:()=>"Audiobook",plural:()=>"Audiobooks",mediaType:s.j0},{id:22,typeString:"chapter",title:()=>"Chapter",plural:()=>"Chapters",mediaType:s.j0,parent:I}]),w=(M.contains,M.get),P=M.getAll;function C(e){const t=M.get(e);if(t&&t.child)return M.get(t.child)}function D(e){const t=M.get(e);if(t){const e=t.child;return null==e?t:D(e)}}function A(e){const t=M.get(e);if(t){const e=t.parent;return null==e?t:A(e)}}function x(e,t){if(!t){const t=A(e);return t?x(t.id,[]):[]}const n=M.get(e),i=C(e),r=[...t,n];return i?x(i.id,r):r}function E(e){return!!C(e)}function T(e){const t=M.get(e);return!!t&&t.mediaType===s.Hn}},38784:(e,t,n)=>{"use strict";n.d(t,{j0:()=>i,pX:()=>r,pV:()=>s});const i="audio",r="video",s="photo"},10123:(e,t,n)=>{"use strict";n.d(t,{MB:()=>l,TV:()=>c,xF:()=>d,n1:()=>u,FM:()=>h,Wp:()=>p,S7:()=>g,ZP:()=>m});var i=n(34510),r=n(11172),s=n(21235),o=n(81191),a=n(50958);const l="movies",c="tv",d="music",u="photos",h="videos",p="game",g="author",m=(0,o.Z)(["key","typeID","typeString","rootTypeString"],[{key:l,typeID:"1",typeString:a.wR,rootTypeString:a.wR,title:()=>(0,s.Z)("Movies"),shortTitle:()=>(0,s.Z)("Movies"),defaultLanguage:"en",defaultAgents:[i.WX,i.HN],defaultScanners:[r.Lx,r.wz],mutual:{agent:i.WX,scanner:r.Lx}},{key:c,typeID:"2",typeString:a.nr,rootTypeString:a.nr,title:()=>(0,s.Z)("TV Shows"),shortTitle:()=>(0,s.Z)("Shows"),defaultLanguage:"en",defaultAgents:[i.Zb,i.NV],defaultScanners:[r.QQ,r.VA],mutual:{agent:i.Zb,scanner:r.QQ}},{key:d,typeID:"8",typeString:a.R0,rootTypeString:a.R0,title:()=>(0,s.Z)("Music"),shortTitle:()=>(0,s.Z)("Music"),defaultLanguage:"en",defaultAgents:[i.Ut,i.E4],defaultScanners:[r.c3,r.OQ],exclusiveAgents:[i.zR],exclusiveScanners:[r.N6],mutual:{agent:i.Ut,scanner:r.c3}},{key:u,typeID:"13",typeString:a.pV,rootTypeString:a.q8,title:()=>(0,s.Z)("Photos"),shortTitle:()=>(0,s.Z)("Photos"),defaultLanguage:"en",defaultAgents:[i.Hn],defaultScanners:[r.RZ],mutual:{}},{key:h,typeID:"1",typeString:a.wR,rootTypeString:a.vu,title:()=>(0,s.Z)("Other Videos"),shortTitle:()=>(0,s.Z)("Videos"),defaultLanguage:"xn",defaultAgents:[i.Hn],defaultScanners:[r.S5],mutual:{}},{key:p,typeID:"19",typeString:a.IO,rootTypeString:a.IO,title:()=>(0,s.Z)("Games"),shortTitle:()=>(0,s.Z)("Games"),defaultLanguage:"en",defaultAgents:[i.nQ],defaultScanners:[r._q],mutual:{agent:i.nQ,scanner:r._q}},{key:g,typeID:"20",typeString:a.S7,rootTypeString:a.S7,title:()=>"Audiobooks",shortTitle:()=>"Audiobooks",defaultLanguage:"en",defaultAgents:[i.iW],defaultScanners:[r.uN],mutual:{}}])},79215:(e,t,n)=>{"use strict";n.d(t,{lz:()=>a,Xp:()=>l,Hs:()=>c,MB:()=>d,FM:()=>u,vK:()=>p});var i=n(21235),r=n(81191),s=n(75118),o=n(50958);const a="unknown",l="discover",c="dvr",d="movies",u="videos",h=(0,r.Z)(["key"],[{key:a,title:()=>(0,i.Z)("Unknown"),types:{}},{key:"playlists",types:{type:o.zg}},{key:d,types:{type:o.wR}},{key:"tv",types:{type:o.nr}},{key:"music",types:{type:o.R0}},{key:"photos",types:{type:o.pV}},{key:u,types:{type:o.wR}},{key:"episode",types:{type:o.uG}},{key:c,title:()=>(0,i.Z)("Live TV & DVR")},{key:"shared",types:{type:o.t1}},{key:"podcasts",types:{type:o.nr,subtype:s.HF}},{key:"webShows",types:{type:o.nr,subtype:s.QM}},{key:"game",types:{type:o.IO}},{key:l},{key:"audiobook",types:{type:o.S7}}]),p=(h.get,h.getAll)},44333:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(21235);const r=(0,n(81191).Z)(["id","typeString"],[{id:1,typeString:"video",key:"videoStreamID",title:()=>(0,i.Z)("Video")},{id:2,typeString:"audio",key:"audioStreamID",title:()=>(0,i.Z)("Audio")},{id:3,typeString:"subtitles",key:"subtitleStreamID",title:()=>(0,i.Z)("Subtitles")},{id:4,typeString:"lyrics",key:"lyricStreamID",title:()=>(0,i.Z)("Lyrics")}])},58182:(e,t,n)=>{"use strict";n.d(t,{lv:()=>d,KF:()=>u,q1:()=>h,iX:()=>p});var i=n(13469),r=n.n(i);const s=/^([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/,o=/(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))/i,a=/[a-f0-9]{1,4}/gi;function l(e){const t=s.exec(e);if(null!=t)return{octets:r().map(r().rest(t),(e=>parseInt(e,10)))}}function c(e){if(!o.test(e))return;const t=e.split("::"),n=t[0].match(a),i={parts:[]};if(null!=n){if(n.length>8)return;i.parts=r().map(n,(e=>parseInt(e,16)))}if(t.length>1){const e=t[1].match(a),n=r().map(e,(e=>parseInt(e,16))),s=8-i.parts.length-n.length;if(s<0||8===s)return;r().times(s,(()=>{i.parts.push(0)})),i.parts=i.parts.concat(n)}return i}function d(e){return"localhost"===e||function(e){const t=l(e);return!(!t||127!==t.octets[0]&&!r().all(t.octets,(e=>0===e)))}(e)||function(e){const t=c(e);return!!t&&(r().all(r().take(t.parts,7),(e=>0===e))&&1===r().last(t.parts))}(e)}function u(e){return function(e){const t=l(e);if(t){if(10===t.octets[0])return!0;if(172===t.octets[0]&&t.octets[1]>=16&&t.octets[1]<=31)return!0;if(192===t.octets[0]&&168===t.octets[1])return!0}return!1}(e)||function(e){const t=c(e);return!!(t&&t.parts[0]>=64512&&t.parts[0]<=65023)}(e)}function h(e){const t=l(e);return!(!t||!r().all(t.octets,(e=>e>=0&&e<=255)))}function p(e){return h(e)?e.split(".").slice(0,-1).join("."):""}},14398:(e,t,n)=>{"use strict";function i(e){return/^\w+:\/\//.test(e)}n.d(t,{Z:()=>i})},71065:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var i=n(80129),r=n.n(i),s=n(54998),o=n.n(s),a=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e};const p=/^([^?#]*)(?:\?([^#]*))?(#.*)?/,g=/([^?]*)\??(.*)()/;function m(e,t){return r().stringify(e,h({arrayFormat:"repeat"},t))}function f(e,t){return r().parse(e,t)}function y(e,t){const n=o().parse(e),i=n.protocol?`${n.protocol}:`:"",r=n.port?String(n.port):"",s=n.hostname?r&&`${n.hostname}:${r}`||n.hostname:"",a=n.hostname||"",l=n.fragment?`#${n.fragment}`:"",c=e,d=i&&s?`${i}//${s}`:"",u=n.path||"",h=n.query?`?${n.query}`:"",p=n.query?f(n.query,t):{};return{isAbsolute:/^[\w:]*\/\//.test(e),hash:l,host:s,hostname:a,href:c,origin:d,params:p,pathname:u,port:r,protocol:i,search:h}}const v={getLastSegment:function(e){if(e){const t=/[^/\\]+$/.exec(e);return(null==t?void 0:t[0])||e}return""},stringifyParams:m,parseParams:f,parseUrl:function(e){const t=h({},y(e)),n=/file/.test(t.protocol);return t.protocol||(t.protocol=window.location.protocol),n||(t.host||(t.host=window.location.host),t.hostname||(t.hostname=window.location.hostname),t.port||(t.port=window.location.port)),t.origin||(t.origin=n?`${t.protocol}//`:`${t.protocol}//${t.host}`),t},parseUri:y,join:function(e,t,n){var i;"string"==typeof e&&(e=[e]),e=e.filter((e=>e));const r=(null==n?void 0:n.recognizeHash)?p:g,s=e.reduce(((e,t)=>{const n=function(e){return String(e).replace(/^\/|\/$/g,"")}(t).match(r);if(!n)return e;const[,i,s,o]=n;return i&&(e.path=e.path?e.path+"/"+i:i),s&&(e.params=e.params?e.params+"&"+s:s),o&&(e.hash=o),e}),{path:"",params:"",hash:""});let o;if(null==n?void 0:n.parseParams)o=m(Object.assign(f(s.params),"string"==typeof t?f(t):t));else if((s.params||t)&&(s.params&&(o=s.params),t)){const e="string"==typeof t?t:m(t,null==n?void 0:n.stringifyOptions);e&&(o=o?`${o}&${e}`:e)}const a=e.length&&"/"===(null==(i=e[0])?void 0:i.charAt(0))?"/":"",l=s.path;return a+l+((null==n?void 0:n.trailingSlash)&&l.length&&"/"!==l[l.length-1]?"/":"")+(o?"?"+o:"")+s.hash}}},30581:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){const[,t,n=""]=e.match(/(^[^#]+)(?:#(.*$))?/),[,i,r=""]=t.match(/(^[^?]+)(\?.*$)?/),[,s,o=""]=n.match(/(^[^?]*)(\?.*$)?/);return{base:i,searchParams:r,hashPath:s,hashParams:o}}},97102:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(28941),r=n(80731);function s(e){return!e.get("experienceSettings").get("isRemoteSchemaVersionNewer")&&r.Z.allowSyncSettings&&(0,i.DB)("settingFinder").find("shouldSyncSettings")}},50290:(e,t,n)=>{"use strict";function i(e,t){return`${e}::${t}`}n.d(t,{Z:()=>i})},92650:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(){return window!==window.top}},80002:(e,t,n)=>{"use strict";function i(e){return{status:e.status,statusText:e.statusText,readyState:e.readyState,responseText:e.responseText}}n.d(t,{Z:()=>i})},81560:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(28941),l=n(55327),c=n(86076),d=n(71065);const u=new(l.Z.extend({initialize(){o().bindAll(this,"onAjaxSend","onAjaxComplete"),this.requests=[],this.byId={}},startListening(){const e=r()(document);e.on("ajaxSend",this.onAjaxSend),e.on("ajaxComplete",this.onAjaxComplete)},stopListening(){const e=r()(document);e.off("ajaxSend",this.onAjaxSend),e.off("ajaxComplete",this.onAjaxComplete)},abortAll(e){for(let t=this.requests.length-1;t>-1;t--){const n=this.requests[t];null!=e&&e!==n.settings.scope||this.abort(n)}},abort(e){const t=o().isString(e)?this.byId[e]:e;t&&(t.xhr.aborting=!0,t.xhr.abort(),this.remove(t))},store(e,t){const n=o().uniqueId("r");e.rid=n;const i={xhr:e,settings:t};return this.requests.push(i),this.byId[n]=i,i},remove(e){const t=o().indexOf(this.requests,e);t>-1&&this.requests.splice(t,1),this.byId.hasOwnProperty(e.xhr.rid)&&delete this.byId[e.xhr.rid]},onAjaxSend(e,t,n){if(n.skipCorsWithRedirect)return;const i=this.store(t,n);t.always((()=>{t.aborting||this.remove(i)}))},onAjaxComplete(e,t,n){const i=401===t.status;if(t.aborting||!i)return;const r=d.Z.parseUrl(n.url);if(i&&("/log"===r.pathname||"/"===r.pathname||"/media/providers"===r.pathname))return;const s=(0,a.DB)("appModel").get("servers"),l=s?s.find((e=>{const t=e.get("activeConnection"),i=t&&t.get("isConnected"),r=o().result(t,"url");return!!i&&n.url.substring(0,r.length)===r})):null;l&&((0,c.Z)('[Connections] Active connection to "%s" lost authorization',l.get("debugName")),l.trigger("error:connection",l))}}))},24831:(e,t,n)=>{"use strict";var i,r,s,o,a,l,c,d,u,h,p,g,m,f,y,v,b,Z,S,I,M,w,P,C,D;n.d(t,{pG:()=>i,y_:()=>a}),(r=i||(i={})).Movie="movie",r.Show="show",r.Season="season",r.Episode="episode",r.Person="person",r.Artist="artist",r.Album="album",r.Track="track",r.Clip="clip",r.Photo="photo",r.Game="game",r.PhotoAlbum="photoalbum",r.Playlist="playlist",r.Collection="collection",r.Directory="directory",r.Channel="channel",r.Hub="hub",r.List="list",r.Author="author",r.Audiobook="audiobook",r.Chapter="chapter",(o=s||(s={}))[o.Movie=1]="Movie",o[o.Show=2]="Show",o[o.Season=3]="Season",o[o.Episode=4]="Episode",o[o.Person=7]="Person",o[o.Artist=8]="Artist",o[o.Album=9]="Album",o[o.Track=10]="Track",o[o.Clip=12]="Clip",o[o.Photo=13]="Photo",o[o.PhotoAlbum=14]="PhotoAlbum",o[o.Playlist=15]="Playlist",o[o.Collection=18]="Collection",o[o.Game=19]="Game",o[o.Author=20]="Author",o[o.Audiobook=21]="Audiobook",o[o.Chapter=22]="Chapter",(l=a||(a={})).Podcast="podcast",l.Webshow="webshow",l.Movie="movie",l.Show="show",l.Season="season",l.Episode="episode",l.Artist="artist",l.Album="album",l.Track="track",l.Trailer="trailer",l.DeletedScene="deletedScene",l.Interview="interview",l.MusicVideo="musicVideo",l.BehindTheScenes="behindTheScenes",l.SceneOrSample="sceneOrSample",l.LiveMusicVideo="liveMusicVideo",l.LyricMusicVideo="lyricMusicVideo",l.Concert="concert",l.Featurette="featurette",l.Short="short",l.Other="other",l.Photo="photo",l.Clip="clip",l.Author="author",l.Audiobook="audiobook",l.Chapter="chapter",(d=c||(c={}))[d.Trailer=1]="Trailer",d[d.DeletedScene=2]="DeletedScene",d[d.Interview=3]="Interview",d[d.MusicVideo=4]="MusicVideo",d[d.BehindTheScenes=5]="BehindTheScenes",d[d.SceneOrSample=6]="SceneOrSample",d[d.LiveMusicVideo=7]="LiveMusicVideo",d[d.LyricMusicVideo=8]="LyricMusicVideo",d[d.Concert=9]="Concert",d[d.Featurette=10]="Featurette",d[d.Short=11]="Short",d[d.Other=12]="Other",(h=u||(u={})).Video="video",h.Audio="audio",h.Photo="photo",h.Rom="rom",(p||(p={})).VMAP="vmap",(m=g||(g={})).Gracenote="gracenote:/",m.Imdb="imdb:/",m.Iva="iva:/",m.Plex="plex:/",m.Tmdb="tmdb:/",m.Tvdb="tvdb:/",m.RottenTomatoes="rottentomatoes:/",m.Unknown="",(y=f||(f={}))[y.Video=1]="Video",y[y.Audio=2]="Audio",y[y.Subtitles=3]="Subtitles",y[y.Lyrics=4]="Lyrics",(b=v||(v={})).Video="videoStreamID",b.Audio="audioStreamID",b.Subtitles="subtitleStreamID",b.Lyrics="lyricStreamID",(S=Z||(Z={})).North="north",S.NorthEast="northeast",S.East="east",S.SouthEast="southeast",S.South="south",S.SouthWest="southwest",S.West="west",S.NorthWest="northwest",S.Center="center",(M=I||(I={})).Small="small",M.Medium="medium",M.Large="large",(P=w||(w={})).Absolute="absolute",P.Relative="relative",(D=C||(C={}))[D.Genre=1]="Genre",D[D.Collection=2]="Collection",D[D.Director=4]="Director",D[D.Writer=5]="Writer",D[D.Actor=6]="Actor",D[D.Marker=12]="Marker",D[D.PhotoAutotag=207]="PhotoAutotag",D[D.Channel=310]="Channel",D[D.Place=400]="Place"},3675:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={entityID:"",identifier:"",metricsIdentifier:"",title:"",features:[],protocols:[],isPending:!1,isPopulated:!1,error:null}},94936:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(53115);const s=(0,i.P1)(r.Z,(e=>e.core))},8515:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(94936);const s=(0,n(19449).Z)((function(e){return(0,i.P1)(r.Z,(t=>t.serverAccounts[e]))}))},78869:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(81106),r=n(67746),s=n(15875),o=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const u={accounts:[],isPending:!1,isPopulated:!1,error:null},h=(0,i.oM)({name:"serverAccounts",initialState:{},reducers:{populateRequested(e,t){},fetchRequested(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,s.er)(n)},fetchSucceeded(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,s.vv)(n),n.accounts=t.data},fetchFailed(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,s.VQ)(n,t.error)}},extraReducers:e=>{e.addCase(r.Z.actions.connected,((e,{payload:t})=>{const{server:n}=t;e[n.machineIdentifier]||(e[n.machineIdentifier]=((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({},u))}))}})},58563:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(81106),r=n(67746);const s=(0,i.oM)({name:"serverActivities",initialState:{},reducers:{activityStarted(e,t){},activityUpdated(e,t){},activityFinished(e,t){}},extraReducers:e=>{e.addCase(r.Z.actions.connected,((e,{payload:t})=>{const{server:n}=t;e[n.machineIdentifier]||(e[n.machineIdentifier]=[])}))}})},39930:(e,t,n)=>{"use strict";var i,r;n.d(t,{Z:()=>i}),(r=i||(i={})).BackupDatabase="general.db.backup",r.CleanBundles="general.bundle.clean",r.GrabberGrab="grabber.grab",r.GrabberAssimilate="grabber.assimilate",r.LibraryDelete="library.delete",r.LibraryUpdateSection="library.update.section",r.LibraryRefreshItems="library.refresh.items",r.MediaGenerateBIF="media.generate.bif",r.MediaGenerateChapterThumbs="media.generate.chapter.thumbs",r.MediaGenerateIntros="media.generate.intros",r.OptimizeDatabase="general.db.optimize",r.ProviderDeviceChannelScan="provider.device.channelscan",r.ProviderEpgLineupScan="provider.epg.lineupscan",r.ProviderEpgLoad="provider.epg.load",r.ProviderSubscriptionsProcess="provider.subscriptions.process",r.ProviderSubscriptionRefresh="provider.subscription.refresh",r.SubtitleDownload="subtitle.download"},48162:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(94936);const s=(0,n(19449).Z)((function(e){return(0,i.P1)(r.Z,(t=>t.serverNowPlayingSessions[e]))}))},69963:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(81106),r=n(39666),s=n(86076),o=n(67746),a=n(15875),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function p(e,t){const{isCloud:n,isConnected:i,isEmbedded:o,isFullOwnedServer:a,isFullServer:l,isUnauthorized:c,isUnavailable:d}=t,u={extra:{isCloud:n,isConnected:i,isEmbedded:o,isFullOwnedServer:a,isFullServer:l,isUnauthorized:c,isUnavailable:d}},h=new Error(e);s.Z.error(h,u.extra),r.Tb(h,u)}const g={sessionKeys:[],sessionsByKey:{},isPending:!1,isPopulated:!1,error:null,stopSessionError:null},m=(0,i.oM)({name:"serverNowPlayingSessions",initialState:{},reducers:{fetchRequested(e,{payload:t}){const n=e[t.server.machineIdentifier];n&&(0,a.er)(n)},fetchSucceeded(e,{payload:t}){const n=e[t.server.machineIdentifier];if(!n)return;const{sessionKeys:i,sessionsByKey:r}=t.data.reduce(((e,t)=>(e.sessionKeys.push(t.sessionKey),e.sessionsByKey[t.sessionKey]=t,e)),{sessionKeys:[],sessionsByKey:{}});(0,a.vv)(n),n.sessionKeys=i,n.sessionsByKey=r},fetchFailed(e,{payload:t}){const n=e[t.server.machineIdentifier];n&&(0,a.VQ)(n,t.error)},sessionChanged(e,{payload:t}){const{server:n,message:i}=t,r=e[n.machineIdentifier];if(!r)return void p("Session changed without serverState",n);const s=r.sessionsByKey[i.sessionKey];s&&s.key===i.key&&(s.viewOffset=i.viewOffset,s.Player.state=i.state)},sessionStopped(e,{payload:t}){const{server:n,sessionKey:i}=t,r=e[n.machineIdentifier];r?r.sessionsByKey[i]&&(delete r.sessionsByKey[i],r.sessionKeys.splice(r.sessionKeys.indexOf(i),1)):p("Session stopped without serverState",n)},stopRequested(e,t){},stopFailed(e,{payload:t}){const n=e[t.server.machineIdentifier];n&&(n.stopSessionError=t.error)},stopErrorDismissed(e,{payload:t}){const n=e[t.server.machineIdentifier];n&&(n.stopSessionError=null)}},extraReducers:e=>{e.addCase(o.Z.actions.connected,((e,{payload:t})=>{const{server:n}=t;e[n.machineIdentifier]||(e[n.machineIdentifier]=((e,t)=>{for(var n in t||(t={}))c.call(t,n)&&h(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&h(e,n,t[n]);return e})({},g))}))}})},71074:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(22222),r=n(9306),s=n(24533),o=n(8871);const a=(0,i.P1)(s.Z,r.Z,(e=>e.primaryServer),((e,t,n)=>{const i=(r=n,(s=t).includes(r)?r:s?s[0]:null);var r,s;return e.find((e=>e.entityID===i))||o.Z}))},67746:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=(0,n(81106).oM)({name:"servers",initialState:{},reducers:{connected(e,t){},libraryScanUpdated(e,t){}}})},94110:(e,t,n)=>{"use strict";var i,r,s,o;n.d(t,{j:()=>i,Y:()=>s}),(r=i||(i={})).Windows="Windows",r.Android="Android",r.Linux="Linux",r.FreeBSD="FreeBSD",r.MacOSX="MacOSX",r.IOS="iOS",(o=s||(s={})).Pending="pending",o.Connected="connected",o.Unavailable="unavailable",o.Unauthorized="unauthorized"},2419:(e,t,n)=>{"use strict";function i(e){return{entityID:e.entityID,machineIdentifier:e.machineIdentifier,accessToken:e.accessToken,uri:e.activeConnection?e.activeConnection.uri:void 0,version:e.version,platform:e.platform,friendlyName:e.friendlyName,sourceTitle:e.sourceTitle,countryCode:e.countryCode,allowSync:e.allowSync,allowMediaDeletion:e.allowMediaDeletion,backgroundProcessing:e.backgroundProcessing,transcoderVideo:e.transcoderVideo,isCloud:e.isCloud,isEmbedded:e.isEmbedded,isFullServer:e.isFullServer,isFullOwnedServer:e.isFullOwnedServer,isOutOfDate:e.isOutOfDate,isShared:e.isShared,isUnavailable:e.isUnavailable,isUnauthorized:e.isUnauthorized,isConnected:e.isConnected,isTransient:e.isTransient,livetv:e.livetv,connectionTestResult:e.connectionTestResult,ownerId:e.ownerId,ownerFeatures:e.ownerFeatures}}n.d(t,{Z:()=>i})},8871:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={entityID:"",machineIdentifier:"",friendlyName:"Unknown",allowSync:!1,allowMediaDeletion:!1,backgroundProcessing:!1,transcoderVideo:!1,isCloud:!1,isEmbedded:!1,isFullServer:!1,isFullOwnedServer:!1,isOutOfDate:!1,isShared:!1,isUnavailable:!1,isUnauthorized:!1,isConnected:!1,isTransient:!1,connectionTestResult:n(94110).Y.Pending,ownerFeatures:[],providers:[]}},86233:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67294);function r(){const[e,t]=(0,i.useState)(!1),n=(0,i.useCallback)((()=>t(!0)),[]),r=(0,i.useCallback)((()=>t(!1)),[]),s=(0,i.useCallback)((()=>t(!e)),[e]);return(0,i.useMemo)((()=>({isOpen:e,onOpen:n,onClose:r,onToggle:s})),[e,r,n,s])}},74539:(e,t,n)=>{"use strict";n.d(t,{Zn:()=>c,IF:()=>d,ZP:()=>u});var i=n(67294),r=n(22220);const s=Symbol(void 0),o=Symbol(void 0),a=[s,s,s],l=(0,i.createContext)({metricsPage:r.lz,metricsContextTuple:a});function c(){return(0,i.useContext)(l)}function d([e,t,n]){if(e!==s)return{context:e,row:t===o||t===s?void 0:t,col:n===o||n===s?void 0:n}}function u({children:e,metricsPage:t,metricsContextParam:n,name:r,row:d=s,column:u=s}){const{metricsPage:h,metricsContextTuple:p}=c(),g=(0,i.useMemo)((()=>{const[e,i,l]=p;return n?function(e){if(!e)return a;const[t,n,i]=e.split("~");return t?[t,n?parseInt(n,10):o,i?parseInt(i,10):o]:a}(n):r?[`${h}:${r}`,d,u]:e!==s?[e,i===s?d:i,l===s?u:l]:t&&t!==h?p:void 0}),[u,p,n,h,t,r,d]),m=(0,i.useMemo)((()=>g?{metricsPage:t||h,metricsContextTuple:g}:void 0),[g,h,t]);return m?i.createElement(l.Provider,{value:m},e):e}},7567:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(67294),r=n(7037);const s={emptyPageContentScroller:"NPdXX ecHmp sWZ6m",content:"rhlQN",icon:"lHMe0",imgIcon:"kL3BT",title:"M4uOC",description:"qPWwL",footer:"AC2LT"};var o=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function u(e){var t=e,{children:n,className:o=s.emptyPageContentScroller,contentClassName:u=s.content,icon:h,titleClassName:p=s.title,iconSrc:g,title:m,descriptionClassName:f=s.description,description:y,footerClassName:v=s.footer,footer:b}=t,Z=((e,t)=>{var n={};for(var i in e)a.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&l)for(var i of l(e))t.indexOf(i)<0&&c.call(e,i)&&(n[i]=e[i]);return n})(t,["children","className","contentClassName","icon","titleClassName","iconSrc","title","descriptionClassName","description","footerClassName","footer"]);return i.createElement(r.Z,((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({className:o},Z),i.createElement("div",{className:u},h?i.createElement("span",{className:s.icon},h):null,g?i.createElement("img",{className:s.imgIcon,src:g}):null,m?i.createElement("div",{className:p},m):null,y?i.createElement("div",{className:f},y):null,n),b?i.createElement("div",{className:v},b):null)}},86438:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(67294),r=n(81985),s=n(7567),o=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function u(e){return i.createElement(s.Z,((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({icon:i.createElement(r.Z,null)},e))}},7037:(e,t,n)=>{"use strict";n.d(t,{I:()=>l,Z:()=>y});var i=n(94184),r=n.n(i),s=n(67294);const o=function(...e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}};n(43296);const a={scroller:"sWZ6m",none:"ROO8w",vertical:"MRMQs",auto:"qbtq4",horizontal:"J2Ktf",omni:"njLyG"};var l,c,d=Object.defineProperty,u=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&g(e,n,t[n]);if(h)for(var n of h(t))p.call(t,n)&&g(e,n,t[n]);return e};function f({forwardedRef:e,className:t=a.scroller,style:n,children:i,scrollDirection:c=l.Vertical,autoScroll:d=!0,smoothScroll:u=!1,targetScrollTop:h,targetScrollLeft:p,onScrollPositionChange:g}){const m=(0,s.useRef)(null),f=(0,s.useCallback)((e=>{g&&null!=m.current&&m.current===e.target&&g({scrollTop:m.current.scrollTop,scrollLeft:m.current.scrollLeft})}),[m,g]);return(0,s.useEffect)((()=>{null==m.current||null==h&&null==p||m.current.scrollTo({top:h,left:p,behavior:u?"smooth":"auto"})}),[m,h,p,u]),s.createElement("div",{ref:o(e,m),className:r()(t,a[c],d&&a.auto),style:n,onScroll:f},i)}(c=l||(l={})).None="none",c.Vertical="vertical",c.Horizontal="horizontal",c.Omni="omni";const y=s.forwardRef(((e,t)=>s.createElement(f,m(m({},e),{forwardedRef:t}))))},75130:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(94184),r=n.n(i),s=n(67294),o=n(21235),a=n(87937);const l={spinner:"RD8jJ m_4Rc",tiny:"aehJH",small:"C1jU8",medium:"RqLXq",large:"KGGxk"};function c({className:e=l.spinner,size:t=a.Z.Medium}){return s.createElement("div",{"aria-label":(0,o.Z)("Loading"),className:r()(e,l[t])})}},87937:(e,t,n)=>{"use strict";var i,r;n.d(t,{Z:()=>s}),(r=i||(i={})).Tiny="tiny",r.Small="small",r.Medium="medium",r.Large="large";const s=i},1104:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(81106),r=n(15875);const s={statistics:[],isPending:!1,isPopulated:!1,error:null,requestTimestampMilliseconds:null,responseTimestampMilliseconds:null},o=(0,i.oM)({name:"dashboardBandwidth",initialState:s,reducers:{reset:()=>s,bandwidthFetchRequested(e,t){(0,r.er)(e)},bandwidthFetchSucceeded(e,{payload:t}){(0,r.vv)(e),e.statistics=t.data,e.requestTimestampMilliseconds=t.requestTimestampMilliseconds,e.responseTimestampMilliseconds=t.responseTimestampMilliseconds},bandwidthFetchFailed(e,{payload:t}){(0,r.VQ)(e,t.error),e.requestTimestampMilliseconds=null,e.responseTimestampMilliseconds=null},bandwidthAbortRequested(){}}})},66422:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(81106),r=n(15875);const s={statistics:[],accounts:[],isPending:!1,isPopulated:!1,error:null},o=(0,i.oM)({name:"dashboardPlayHistory",initialState:s,reducers:{reset:()=>s,playHistoryFetchRequested(e,t){(0,r.er)(e)},playHistoryFetchSucceeded(e,{payload:t}){(0,r.vv)(e),e.statistics=t.data.statistics,e.accounts=t.data.accounts},playHistoryFetchFailed(e,{payload:t}){(0,r.VQ)(e,t.error)}}})},70653:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(81106),r=n(15875);const s={statistics:[],isPending:!1,isPopulated:!1,isUnsupported:!1,error:null,requestTimestampMilliseconds:null},o=(0,i.oM)({name:"dashboardResources",initialState:s,reducers:{reset:()=>s,resourcesFetchRequested(e,t){(0,r.er)(e),e.isUnsupported=!1},resourcesFetchSucceeded(e,{payload:t}){(0,r.vv)(e),e.statistics=t.data,e.requestTimestampMilliseconds=t.requestTimestampMilliseconds},resourcesFetchFailed(e,{payload:t}){(0,r.VQ)(e,t.error),e.isUnsupported=404===t.error.status}}})},63082:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(81106),r=n(15875);const s={moviesStatistics:[],tvStatistics:[],musicStatistics:[],gameStatistics:[],isPending:!1,isPopulated:!1,error:null},o=(0,i.oM)({name:"dashboardTopPlayed",initialState:s,reducers:{reset:()=>s,topPlayedFetchRequested(e,t){(0,r.er)(e)},topPlayedFetchSucceeded(e,{payload:t}){(0,r.vv)(e),e.moviesStatistics=t.data.moviesStatistics,e.tvStatistics=t.data.tvStatistics,e.musicStatistics=t.data.musicStatistics,e.gameStatistics=t.data.gameStatistics},topPlayedFetchFailed(e,{payload:t}){(0,r.VQ)(e,t.error)}}})},63803:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(81106),r=n(15875);const s={statistics:[],accounts:[],isPending:!1,isPopulated:!1,error:null},o=(0,i.oM)({name:"dashboardTopUsers",initialState:s,reducers:{reset:()=>s,topUsersFetchRequested(e,t){(0,r.er)(e)},topUsersFetchSucceeded(e,{payload:t}){(0,r.vv)(e),e.statistics=t.data.statistics,e.accounts=t.data.accounts},topUsersFetchFailed(e,{payload:t}){(0,r.VQ)(e,t.error)}}})},77686:(e,t,n)=>{"use strict";var i,r,s,o,a,l,c,d,u,h;n.d(t,{Y_:()=>i,qt:()=>s,ew:()=>a,dd:()=>c,MR:()=>u}),(r=i||(i={}))[r.Regions=0]="Regions",r[r.PostalCode=1]="PostalCode",r[r.SinglePostalCode=2]="SinglePostalCode",(o=s||(s={})).Dead="dead",o.Alive="alive",(l=a||(a={})).Disabled="disabled",l.Enabled="enabled",(d=c||(c={})).Unknown="-1",d.Antenna="0",d.Cable="1",d.Satellite="2",(h=u||(u={}))[h.Unknown=-1]="Unknown",h[h.OverTheAir=0]="OverTheAir",h[h.Cable=1]="Cable",h[h.Satellite=2]="Satellite",h[h.IPTV=3]="IPTV",h[h.Virtual=4]="Virtual"},26611:(e,t,n)=>{"use strict";n.d(t,{Yc:()=>m,ZP:()=>Z});var i=n(81106),r=n(21235),s=n(58563),o=n(39930),a=n(15875),l=n(77686),c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&p(e,n,t[n]);if(u)for(var n of u(t))h.call(t,n)&&p(e,n,t[n]);return e};const m={channels:[],isPending:!1,isPopulated:!1,error:null},f={dvr:void 0,isPending:!1,isPopulated:!1,error:null},y={mediaGrabberDevices:[],isPending:!1,isPopulated:!1,error:null},v={devices:y,epgDownloadActivityID:void 0,selectedDevice:void 0,selectedDVR:f,channelsByDeviceKey:{},scanPrefs:[],scanNetworks:[],hasScannedChannels:!1,isSavingDVR:!1,isDeletingDVR:!1,isAddingDevice:!1,isDiscoveringDevices:!1,isSavingChannelMappings:!1,isCancellingChannelScan:!1,isCancellingReloadGuide:!1,channelMappingsSaveError:null,setupErrorMessage:null};function b(e,{payload:t}){var n;const{activity:i}=t;if(i.type!==o.Z.ProviderDeviceChannelScan)return;const r=null==(n=null==i?void 0:i.Response)?void 0:n.Network;if(r)e.hasScannedChannels=!1,e.scanNetworks=r;else{const t=100===(null==i?void 0:i.progress);e.hasScannedChannels=t,e.isCancellingChannelScan&&t&&(e.isCancellingChannelScan=!1)}}const Z=(0,i.oM)({name:"dvrSetup",initialState:v,reducers:{reset:()=>v,setupReset(e){e.devices=y,e.selectedDevice=void 0,e.hasScannedChannels=!1,e.isSavingDVR=!1,e.isAddingDevice=!1,e.isDiscoveringDevices=!1,e.isSavingChannelMappings=!1,e.channelMappingsSaveError=null,e.setupErrorMessage=null},setupErrorMessageAdded(e,{payload:t}){e.setupErrorMessage=t.message},setupErrorMessageRemoved(e,t){e.setupErrorMessage=null},devicesDiscoverRequested(e,t){e.isDiscoveringDevices=!0},devicesDiscoverSucceeded(e,{payload:t}){e.isDiscoveringDevices=!1;const{mediaGrabberDevices:n}=e.devices;for(let e=0;e<t.data.length;e++){const i=t.data[e],r=n.find((e=>i.uuid===e.uuid));r?(r.state=i.state,r.status=i.status,r.parentID=i.parentID):n.push(i)}},devicesDiscoverFailed(e,t){e.isDiscoveringDevices=!1},devicesFetchRequested({devices:e},t){(0,a.er)(e)},devicesFetchSucceeded({devices:e},{payload:t}){(0,a.vv)(e),e.mediaGrabberDevices=t.data},devicesFetchFailed({devices:e},{payload:t}){(0,a.VQ)(e,t.error)},deviceChannelsFetchRequested(e,{payload:t}){let n=e.channelsByDeviceKey[t.deviceKey];n?(n.channels=[],n.isPopulated=!1):(n=g({},m),e.channelsByDeviceKey[t.deviceKey]=n),e.setupErrorMessage=null,(0,a.er)(n)},deviceChannelsFetchSucceeded(e,{payload:t}){const n=e.channelsByDeviceKey[t.deviceKey];(0,a.vv)(n),n.channels=t.data},deviceChannelsFetchFailed(e,{payload:t}){let n=e.channelsByDeviceKey[t.deviceKey];n||(n=g({},m),e.channelsByDeviceKey[t.deviceKey]=n),(0,a.VQ)(n,t.error)},deviceChannelsScanRequested(e,t){e.hasScannedChannels=!1},deviceChannelsScanFailed(e,t){e.hasScannedChannels=!0},deviceChannelsCancelScanRequested(e,t){e.isCancellingChannelScan=!0},deviceChannelsCancelScanFailed(e,t){e.isCancellingChannelScan=!1},deviceSelected(e,{payload:t}){const n=e.devices.mediaGrabberDevices.find((e=>e.key===t.deviceKey));n&&(e.selectedDevice=n)},deviceSourceSelected({devices:e},{payload:t}){const n=e.mediaGrabberDevices.find((e=>e.key===t.deviceKey));n&&(n.source=t.source)},deviceChannelMappingsSaveRequested(e,t){e.isSavingChannelMappings=!0,e.channelMappingsSaveError=null},deviceChannelMappingsSaveSucceeded(e,t){e.isSavingChannelMappings=!1,e.channelMappingsSaveError=null},deviceChannelMappingsSaveFailed(e,{payload:t}){e.isSavingChannelMappings=!1,e.channelMappingsSaveError=t.error},deviceEnableRequested(e,t){},deviceEnableSucceeded(e,{payload:t}){const n=e.devices.mediaGrabberDevices.find((e=>e.key===t.deviceKey));n&&(n.state=t.enabled?l.ew.Enabled:l.ew.Disabled,n.title=t.title)},deviceEnableFailed(e,t){},deviceAddRequested(e,t){e.isAddingDevice=!0},deviceAddSucceeded(e,{payload:t}){e.setupErrorMessage=null,e.isAddingDevice=!1;const n=e.devices.mediaGrabberDevices.find((e=>e.key===t.data.key));n?Object.assign(n,t.data):e.devices.mediaGrabberDevices.push(t.data)},deviceAddFailed(e,t){e.isAddingDevice=!1},dvrFetchRequested(e,t){e.setupErrorMessage=null,(0,a.er)(e.selectedDVR)},dvrFetchSucceeded({selectedDVR:e,devices:t},{payload:n}){const{dvr:i}=n;(0,a.vv)(e),e.dvr=i,(null==i?void 0:i.Device)&&((0,a.vv)(t),t.mediaGrabberDevices=i.Device)},dvrFetchFailed(e,{payload:t}){(0,a.VQ)(e.selectedDVR,t.error),e.setupErrorMessage=(0,r.Z)("There was a problem fetching your DVR. Please try again later.")},dvrSaveRequested(e,t){e.setupErrorMessage=null,e.isSavingDVR=!0},dvrSaveSucceeded(e,{payload:t}){(0,a.vv)(e.selectedDVR),e.epgDownloadActivityID=t.activityUUID,e.isSavingDVR=!1,e.selectedDVR.dvr=t.dvr},dvrSaveFailed(e,{payload:t}){(0,a.VQ)(e.selectedDVR,t.error),e.isSavingDVR=!1},dvrDeleteRequested(e,t){e.isDeletingDVR=!0},dvrDeleteSucceeded(e,t){e.selectedDVR=f,e.isDeletingDVR=!1},dvrDeleteFailed(e,t){e.isDeletingDVR=!1},addDVRDeviceRequested(e,t){e.setupErrorMessage=null,e.isSavingDVR=!0},addDVRDeviceSucceeded(e,{payload:t}){(0,a.vv)(e.selectedDVR),e.epgDownloadActivityID=t.activityUUID,e.isSavingDVR=!1,e.selectedDVR.dvr=t.dvr},addDVRDeviceFailed(e,{payload:t}){(0,a.VQ)(e.selectedDVR,t.error),e.isSavingDVR=!1},removeDVRDeviceRequested(e,t){},removeDVRDeviceSucceeded(e,t){var n,i;(null==(i=null==(n=e.selectedDVR)?void 0:n.dvr)?void 0:i.Device)&&(e.selectedDVR.dvr.Device=e.selectedDVR.dvr.Device.filter((e=>e.key!==t.payload.deviceKey))),e.devices.mediaGrabberDevices=e.devices.mediaGrabberDevices.filter((e=>e.key!==t.payload.deviceKey))},removeDVRDeviceFailed(e,t){},cancelReloadGuide(e){e.isCancellingReloadGuide=!0},scanPrefsAndNetworksReset(e){e.scanPrefs=[],e.scanNetworks=[]},scanPrefsAdded(e,{payload:t}){e.scanPrefs=t.settings},scanNetworksAdded(e,{payload:t}){e.scanNetworks=t.networks}},extraReducers:e=>{e.addCase(s.Z.actions.activityStarted,b).addCase(s.Z.actions.activityUpdated,b).addCase(s.Z.actions.activityFinished,((e,t)=>{t.payload.activity.type===o.Z.ProviderEpgLoad?(e.isCancellingReloadGuide=!1,e.epgDownloadActivityID=void 0):b(e,t)}))}})},40477:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>S});var i=n(81106),r=n(71746),s=n(90379),o=n(58563),a=n(39930),l=n(15875),c=n(77686),d=n(26611),u=Object.defineProperty,h=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))h.call(t,n)&&m(e,n,t[n]);if(p)for(var n of p(t))g.call(t,n)&&m(e,n,t[n]);return e};const y={mappings:[],isPending:!1,isPopulated:!1,error:null},v={channelsByLineupUUID:{},isPending:!1,isPopulated:!1,error:null},b={epgLineupGroups:[],isPending:!1,isPopulated:!1,error:null},Z={channelMappings:y,lineupChannels:v,countries:{epgCountries:[],isPending:!1,isPopulated:!1,error:null},languages:{epgLanguages:[],isPending:!1,isPopulated:!1,error:null},regions:{epgCountryRegions:[],isPending:!1,isPopulated:!1,error:null},lineupGroups:b,selectedCountry:void 0,selectedLanguage:void 0,selectedRegion:void 0,selectedLineupGroups:[],postalCode:""},S=(0,i.oM)({name:"epgSettings",initialState:Z,reducers:{reset:()=>Z,channelMappingsFetchRequested({lineupChannels:e,channelMappings:t},n){(0,l.er)(e),(0,l.er)(t)},channelMappingsFetchSucceeded({channelMappings:e,lineupChannels:t,selectedLineupGroups:n},{payload:i}){e.mappings=i.channelMappings,(0,l.vv)(e),i.lineupChannels.forEach((({uuid:e,Channel:n})=>{t.channelsByLineupUUID[e]=null!=n?n:[]})),(0,l.vv)(t),n.forEach((e=>{e.isChannelMappingsFetched=!0}))},channelMappingsFetchFailed({channelMappings:e,lineupChannels:t},{payload:n}){(0,l.VQ)(e,n.error),(0,l.VQ)(t,n.error)},channelMappingChanged({channelMappings:e},{payload:t}){const n=t,{index:i}=n,r=((e,t)=>{var n={};for(var i in e)h.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&p)for(var i of p(e))t.indexOf(i)<0&&g.call(e,i)&&(n[i]=e[i]);return n})(n,["index"]),s=e.mappings[i];Object.assign(s,r)},epgLineupGroupFetchRequested({lineupGroups:e},t){(0,l.er)(e)},epgLineupGroupFetchSucceeded({lineupGroups:e},{payload:t}){(0,l.vv)(e),e.epgLineupGroups.push({uuid:t.data.uuid,epgLineups:t.data.epgLineups})},epgLineupGroupFetchFailed({lineupGroups:e},{payload:t}){(0,l.VQ)(e,t.error)},bestEPGLineupSearchRequested(e,t){},bestEPGLineupSearchSucceeded({selectedLineupGroups:e},{payload:t}){const n=e.find((e=>e.uuid===t.lineupGroup.uuid));n&&(n.activityUUID=t.data,n.isSelectedLineupPending=!0)},bestEPGLineupSearchFailed(e,t){},selectedLineupSelected({selectedLineupGroups:e},{payload:t}){const n=e.find((e=>e.uuid===t.lineupGroupUUID));if(n){const e=n.epgLineups.find((e=>e.uuid===t.selectedLineupUUID));n.selectedLineup=e}},selectedEPGLineupGroupAddRequested(e,t){},selectedEPGLineupGroupAddSucceeded({selectedLineupGroups:e},{payload:t}){e.push(f(f({},t.lineupGroup),{activityUUID:void 0,selectedLineup:void 0,isChannelMappingsFetched:!1,isSelectedLineupPending:!1,isSelectedLineupPopulated:!1}))},selectedEPGLineupGroupRemoved(e,{payload:t}){e.selectedLineupGroups=e.selectedLineupGroups.filter((e=>e.uuid!==t.lineupGroupUUID))},xmltvSelectedEPGLineupGroupAdded({selectedLineupGroups:e},{payload:t}){const{path:n,title:i}=t,o=function(e){return/^[a-z]:\\|\\\\/i.test(e)&&(e=e.replace(/\\/g,"/")),/^(\/|[a-z]:\/)/i.test(e)&&(e=e.replace(/\/(.+?)(?=\/|$)/g,((e,t)=>`/${encodeURIComponent(t)}`))),"/"===e.charAt(0)&&(e=e.substring(1)),/^[a-z]+?:\/\//i.test(e)&&(e=encodeURIComponent(e)),e}(n),a={uuid:`lineup://${r.zY}/${o}#${encodeURIComponent(i)}`,title:i,lineupType:c.MR.Virtual},l={uuid:`xmltv-${(0,s.Z)()}`,epgLineups:[a],activityUUID:void 0,selectedLineup:a,isChannelMappingsFetched:!1,isSelectedLineupPending:!1,isSelectedLineupPopulated:!0};e.push(l)},selectedDVRLineupChannelsFetchRequested({lineupChannels:e},t){(0,l.er)(e)},selectedDVRLineupChannelsFetchSucceeded({lineupChannels:e},{payload:t}){t.lineupChannels.forEach((({uuid:t,Channel:n})=>{e.channelsByLineupUUID[t]=null!=n?n:[]})),(0,l.vv)(e)},selectedDVRLineupChannelsFetchFailed({lineupChannels:e},{payload:t}){(0,l.VQ)(e,t.error)},epgCountriesFetchRequested({countries:e},t){(0,l.er)(e)},epgCountriesFetchSucceeded({countries:e},{payload:t}){(0,l.vv)(e),e.epgCountries=t.data},epgCountriesFetchFailed({countries:e},{payload:t}){(0,l.VQ)(e,t.error)},epgCountrySelected(e,{payload:t}){const n=e.countries.epgCountries.find((e=>e.code===t.countryCode));e.selectedCountry=n,e.selectedRegion=void 0,e.postalCode=void 0},epgCountryRegionSelected(e,{payload:t}){const n=e.regions.epgCountryRegions.find((e=>e.key===t.regionKey));e.selectedRegion=n},epgCountryRegionsFetchRequested({regions:e},t){(0,l.er)(e)},epgCountryRegionsFetchSucceeded({regions:e},{payload:t}){(0,l.vv)(e),e.epgCountryRegions=t.data},epgCountryRegionsFetchFailed({regions:e},{payload:t}){(0,l.VQ)(e,t.error)},epgLanguagesFetchRequested({languages:e},t){(0,l.er)(e)},epgLanguagesFetchSucceeded({languages:e},{payload:t}){(0,l.vv)(e),e.epgLanguages=t.data},epgLanguagesFetchFailed({languages:e},{payload:t}){(0,l.VQ)(e,t.error)},epgLanguageSelected(e,{payload:t}){const n=e.languages.epgLanguages.find((e=>e.code===t.languageCode));e.selectedLanguage=n},epgPostalCodeChanged(e,{payload:t}){e.postalCode=t.postalCode}},extraReducers(e){e.addCase(d.ZP.actions.setupReset,(e=>{e.channelMappings=y,e.lineupChannels=v,e.lineupGroups=b,e.selectedRegion=void 0,e.selectedLineupGroups=[],e.postalCode=""})).addCase(o.Z.actions.activityFinished,((e,{payload:t})=>{const{activity:n}=t;if(n.type===a.Z.ProviderEpgLineupScan){const t=e.selectedLineupGroups.find((e=>e.activityUUID===n.uuid));if(t){const e=t.epgLineups.find((e=>e.uuid===n.Response.lineup));t.activityUUID=void 0,t.selectedLineup=e,t.isSelectedLineupPending=!1,t.isSelectedLineupPopulated=!0}}}))}})},73584:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(22222),r=n(26611),s=n(62096),o=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const u=e=>(0,i.P1)(s.Z,(t=>{var n,i;return e&&null!=(i=null==(n=t.channelsByDeviceKey)?void 0:n[e])?i:((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({},r.Yc)}))},60664:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(25912);const s=(0,i.P1)(r.Z,(e=>e.dvrManagement))},62096:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(60664);const s=(0,i.P1)(r.Z,(e=>e.dvrSetup))},66233:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(60664);const s=(0,i.P1)(r.Z,(e=>e.epgSettings))},92899:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(66233);const s=(0,i.P1)(r.Z,(({selectedLineupGroups:e})=>{if(0!==e.length)return e.reduce(((e,{selectedLineup:t})=>(t&&e.push(t),e)),[])}))},73720:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(81106),r=n(15875);function s(e,t){e&&((0,r.er)(e),e.options=t)}function o(e){e&&(0,r.vv)(e)}function a(e,t,n){e&&((0,r.VQ)(e,n),e.options=t)}const l=(0,i.oM)({name:"libraryManagement",initialState:{hubs:{},publishedItems:{},settings:{}},reducers:{settingsFetchRequested(e,{payload:t}){e.settings[t.server.machineIdentifier]={isPending:!0,isPopulated:!1,isUpdating:!1,error:null}},settingsFetchSucceeded(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(n.isMergeRecentlyAddedEnabled=t.isMergeRecentlyAddedEnabled,(0,r.vv)(n))},settingsFetchFailed(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(0,r.VQ)(n,t.error)},settingsUpdateRequested(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(n.isUpdating=!0)},settingsUpdateSucceeded(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(n.isMergeRecentlyAddedEnabled=t.isMergeRecentlyAddedEnabled,n.isUpdating=!1)},settingsUpdateFailed(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(n.error=t.error,n.isUpdating=!1)},resetHubs(e,t){},hubsFetchRequested(e,{payload:t}){var n;e.hubs[t.sourceURI]={options:(null==(n=e.hubs[t.sourceURI])?void 0:n.options)||[],isPending:!0,isPopulated:!1,isResetting:!1,error:null}},hubsFetchSucceeded(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&((0,r.vv)(n),n.options=t.options)},hubsFetchFailed(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&(0,r.VQ)(n,t.error)},reorderRequested(e,{payload:t}){s(e.hubs[t.sourceURI],t.options)},reorderSucceeded(e,{payload:t}){o(e.hubs[t.sourceURI])},reorderFailed(e,{payload:t}){a(e.hubs[t.sourceURI],t.options,t.error)},removeRequested(e,{payload:t}){s(e.hubs[t.sourceURI],t.options)},removeSucceeded(e,{payload:t}){o(e.hubs[t.sourceURI])},removeFailed(e,{payload:t}){a(e.hubs[t.sourceURI],t.options,t.error)},resetRequested(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&(n.isResetting=!0)},resetSucceeded(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&(n.isResetting=!1,n.options=t.options)},resetFailed(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&(n.isResetting=!1)},promoteRequested(e,t){},promoteChanged(e,{payload:t}){const n=e.hubs[t.sourceURI];if(n){const e=n.options.find((e=>e.identifier===t.options.identifier));e&&(e.promotedToRecommended=t.options.promotedToRecommended,e.promotedToOwnHome=t.options.promotedToOwnHome,e.promotedToSharedHome=t.options.promotedToSharedHome)}},publishedFetchRequested(e,{payload:t}){e.publishedItems[t.sourceURI]={isPending:!0,isPopulated:!1,isUpdating:!1,error:null}},publishedFetchSucceeded(e,{payload:t}){const n=e.publishedItems[t.sourceURI];n&&(n.hub=t.hub,(0,r.vv)(n))},publishedFetchFailed(e,{payload:t}){const n=e.publishedItems[t.sourceURI];n&&(0,r.VQ)(n,t.error)},publishedUpdateRequested(e,{payload:t}){const n=e.publishedItems[t.sourceURI];n&&(n.isUpdating=!0)},publishedUpdateSucceeded(e,{payload:t}){const n=e.publishedItems[t.sourceURI];n&&(n.hub=t.hub,n.isUpdating=!1)},publishedUpdateFailed(e,{payload:t}){const n=e.publishedItems[t.sourceURI];n&&(n.error=t.error,n.isUpdating=!1)}}})},65754:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(71065);function r(e){return i.Z.join(["/hubs/sections",e,"manage"])}},32502:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(81106),r=n(15875);const s=1800,o={guideChannels:{channels:[],isPending:!1,isPopulated:!1,error:null},channelsGrid:{startTime:0,visibleColumns:1,columnTimes:[],columnWidth:0,viewportWidth:0,viewportHeight:0,airedProgress:0}};function a(e,t){const n=Math.floor(e/s)*s,i=[];for(let e=0;e<=t;e++)i.push(n+e*s);return i}const l=(0,i.oM)({name:"livetv",initialState:o,reducers:{reset:()=>o,channelsGridResetStartTime({channelsGrid:e}){const t=Math.floor(Date.now()/1e3),n=a(t,e.visibleColumns);e.startTime=t,e.columnTimes=n},channelsGridSetStartTime({channelsGrid:e},{payload:t}){const n=a(t.startTime,e.visibleColumns);e.startTime=t.startTime,e.columnTimes=n},channelsGridSetViewportSize({channelsGrid:e},{payload:t}){const{width:n=1,height:i=1,overflowWidth:r=0,channelWidth:s=1,channelTitleWidth:o=0}=t,l=Math.floor(n+r),c=Math.max(Math.floor((n-o)/s),1)+1,d=Math.floor((l-o)/c),u=a(e.startTime,c);e.visibleColumns=c,e.columnTimes=u,e.columnWidth=d,e.viewportWidth=l,e.viewportHeight=Math.floor(i)},channelsGridUpdateAiredProgress({channelsGrid:e}){const{columnTimes:t}=e,n=t[0],i=t[t.length-1]-n,r=Math.floor(Date.now()/1e3),s=Math.min(100,Math.max(0,(r-n)/i*100));e.airedProgress=s},channelsGridNavigateTimeForward({channelsGrid:e}){const t=e.columnTimes[0]+s,n=a(t,e.visibleColumns);e.startTime=t,e.columnTimes=n},channelsGridNavigateTimeBack({channelsGrid:e}){const t=e.columnTimes[0]-s,n=Math.floor(Date.now()/1e3)-10800;if(t+s>n){const n=a(t,e.visibleColumns);e.startTime=t,e.columnTimes=n}},guideChannelsFetchRequested({guideChannels:e},t){(0,r.er)(e)},guideChannelsFetchSucceeded({guideChannels:e},{payload:t}){(0,r.vv)(e),e.channels=t.data},guideChannelsFetchFailed({guideChannels:e},{payload:t}){(0,r.VQ)(e,t.error)}}})},25912:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(53115);const s=(0,i.P1)(r.Z,(e=>e.features))},91856:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=(0,n(90071).q_)({hashType:"hashbang"})},53115:(e,t,n)=>{"use strict";function i(e){return function(e){return!!e.v4}(e)?e.v4:e}n.d(t,{Z:()=>i})},91986:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,L:()=>l});var i=n(91856),r=n(5977),s=n(71065),o=n(43473);function a(e,t={},n={},a=!1){const l=function(e,t={},n={}){const i=o.Z[e],a=Array.isArray(i)?i[0]:i;return s.Z.join((0,r.Gn)(a,t),n)}(e,t,n);a?i.Z.replace(l):i.Z.push(l)}function l(){a("serverSettings",{settingsSection:"manage",settingsGroup:"libraries"})}},43473:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={home:"/",info:"/info",logs:"/logs",serverAwait:"/server/await",serverSetup:"/setup/:machineIdentifier?",serverUpdate:"/server/update",serverSettings:"/:settingsSection/:settingsGroup",serverSettingsPMS:"/settings/server/:machineIdentifier",login:"/login",logout:"/logout",signUp:"/signUp"}},97156:(e,t,n)=>{"use strict";function i(e,t){if(!e)throw new Error(t)}n.d(t,{Z:()=>i})},15875:(e,t,n)=>{"use strict";function i(e){e.isPending=!0,e.error=null}function r(e){e.isPending=!1,e.isPopulated=!0}function s(e,t){e.isPending=!1,e.error=t}n.d(t,{er:()=>i,vv:()=>r,VQ:()=>s})},19449:(e,t,n)=>{"use strict";function i(e){const t=new Map;return(...n)=>{const i=JSON.stringify(n);if(t.has(i))return t.get(i);{const r=e(...n);return t.set(i,r),r}}}n.d(t,{Z:()=>i})},97110:(e,t,n)=>{"use strict";n.d(t,{XH:()=>i,pP:()=>s,dZ:()=>g,rG:()=>m,xP:()=>f,fz:()=>y});var i,r,s,o,a=n(42902),l=n(7069),c=n(12778),d=n(54559),u=n(95605),h=n(29807),p=n(21235);function g(e){switch(e){case i.RealTime:return(0,p.Z)("Real Time");case i.TwelveHours:return(0,p.Z)("Last 12 Hours");case i.Day:return(0,p.Z)("Last 24 Hours");case i.Week:return(0,p.Z)("Last 7 Days");case i.Month:return(0,p.Z)("Last 30 Days");case i.NinetyDays:return(0,p.Z)("Last 90 Days");case i.Year:return(0,p.Z)("Last Year");case i.AllTime:return(0,p.Z)("All Time");default:return""}}function m(e){switch(e){case i.RealTime:return 6;case i.TwelveHours:case i.Day:return 4;case i.Week:return 3;case i.Month:case i.NinetyDays:return 2;case i.Year:case i.AllTime:return 1;default:return 3}}function f(e){switch(e){case i.TwelveHours:return(0,a.Z)((0,c.Z)(new Date,12));case i.Day:return(0,a.Z)((0,l.Z)(new Date,1));case i.Week:return(0,a.Z)((0,u.Z)(new Date,1));case i.Month:return(0,a.Z)((0,d.Z)(new Date,1));case i.NinetyDays:return(0,a.Z)((0,l.Z)(new Date,90));case i.Year:return(0,a.Z)((0,h.Z)(new Date,1));case i.AllTime:return 0;default:return}}function y(e,t){switch(e){case i.TwelveHours:return"H:00";case i.Day:return t?"H:00":"HH";case i.Week:case i.Month:case i.NinetyDays:return t?"MMMM do":"MMM d";case i.Year:return t?"MMMM":"MMM";case i.AllTime:return t?"MMMM yyyy":"MMM yy";default:return t?"MMMM do":"MMM d"}}(r=i||(i={})).RealTime="real-time",r.TwelveHours="twelve-hours",r.Day="day",r.Week="week",r.Month="month",r.NinetyDays="ninety-days",r.Year="year",r.AllTime="all-time",(o=s||(s={}))[o.Year=0]="Year",o[o.Month=1]="Month",o[o.Week=2]="Week",o[o.Day=3]="Day",o[o.Hour=4]="Hour",o[o.Minutes=5]="Minutes",o[o.RealTime=6]="RealTime"},66654:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(67294),r=n(15969),s=n(57865),o=n(73935),a=n(28216),l=n(28941);const c=n(57076).Z.Layout.extend({template:()=>"",mountReact(){const e=(0,l.DB)("appStore");o.render(i.createElement(r.W,{backend:s.PD},i.createElement(a.zt,{store:e},this.component(this.options))),this.el)},unmountReact(){this.isRendered&&o.unmountComponentAtNode(this.el)},onBeforeRender(){this.unmountReact()},onRender(){this.mountReact()},onClose(){this.unmountReact()}})},25051:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(57076),r=n(82590),s=n(231),o=n.n(s);const a={success:!0,error:!0,notify:!0},l=i.Z.ItemView.extend({className:"alert-bar",template:o(),events:{"click .close-btn":"onCloseClick"},initialize:function(e){const t=e.alert;if(this.alert=t,t){const e=t.type;e&&a[e]&&this.$el.addClass(e)}},hide:function(){r.Z.trigger("hide:bar","alertbar")},serializeData:function(){return this.alert},onCloseClick:function(e){e.preventDefault(),this.hide()}})},59054:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(28941),l=n(57076),c=n(80731),d=n(78542),u=n(6312),h=n(49521),p=n(59650),g=n(86076);const m=function(e,t){return t?e.get("Media").findIndex((e=>e.id===t)):0},f=function(e,t){const n=e.Part;return o().indexOf(n,o().findWhere(n,{key:t}))};var y=n(71065);const v={extensions:{dash:".mpd",hls:".m3u8",http:""},logParams:function(e,t,n){(0,g.Z)("[Transcoder] %s (%s) options:",e,t,n)},serializeParams:function(e,t){let n,i={},r={};const s=/^X-Plex/;return o().each(e,(function(e,t){s.test(t)?r[t]=e:i[t]=e})),i=y.Z.stringifyParams(i),r=y.Z.stringifyParams(r),n=i&&r?i+"&"+r:i||r,n},image:function(e,t,n){if(!t)return"";const i=n.fallbackServer;let r,s=!1;if(i&&i.get("isConnected")&&(r=i.get("isFullServer")?i:null),r)if(e.get("cloud"))s=!0;else if(!e.get("isFullServer")){const t=!e.get("activeConnection").get("isPrivate"),n=r.get("activeConnection").get("isPrivate");s=t||n}const a=s?r:e,l=a.id===e.id,c={url:e.resolveUrl(t,{useRelativeUrl:l,appendToken:!0}),width:n.width&&Math.round(parseFloat(n.width)),height:n.height&&Math.round(parseFloat(n.height))};n.minSize&&(c.minSize=1),n.format&&(c.format=n.format),n.quality&&(c.quality=n.quality),n.filters&&o().each(n.filters,(function(e,t){void 0!==e&&(c[t]=e)}));const d="/photo/:/transcode?"+this.serializeParams(c,a);return a.resolveUrl(d,{appendToken:!0})},music:function(e,t,n,i){i||(i="start");const r=o().first(t.get("Media"));if(!r)return;const s=o().first(r.Part);if(!s)return;let a,l;e.supports("universalMusicTranscoder")?(a=o().extend({hasMDE:1,path:e.resolveUrl(t.get("key"),{useRelativeUrl:!0}),mediaIndex:0,partIndex:0},n),l="/music/:/transcode/universal/"+i):(a={identifier:t.get("identifier"),url:e.resolveUrl(s.key,{useRelativeUrl:!0}),format:"mp3",audioCodec:"libmp3lame",audioBitrate:320,audioSamples:44100},l="/music/:/transcode/generic.mp3"),this.logParams("Music",i,a),a=o().extend(a,e.getHeaders());const c=this.extensions[a.protocol];return"start"===i&&c&&(l+=c),e.resolveUrl(l+"?"+this.serializeParams(a,e))},video:function(e,t,n,i,r,s){r||(r={}),s||(s="start");const a=e.entityID()===t.get("serverEntityID"),l=e.get("activeConnection").get("isPrivate");let c=o().extend({hasMDE:1,path:e.resolveUrl(t.get("key"),{useRelativeUrl:a,appendToken:!a}),mediaIndex:m(t,n.id),partIndex:f(n,i.key),protocol:"hls",fastSeek:1,directPlay:0,directStream:1,subtitleSize:100,audioBoost:p.KH,location:l?"lan":"wan"},r);this.logParams("Video",s,c),c=o().extend(c,e.getHeaders());const d=this.extensions[c.protocol];let u="/video/:/transcode/universal/"+s;return"start"===s&&d&&(u+=d),e.resolveUrl(u+"?"+this.serializeParams(c,e))},game:function(e,t,n,i,r){i||(i={}),r||(r="start");const s=e.entityID()===t.get("serverEntityID"),a=e.get("activeConnection").get("isPrivate");let l=o().extend({path:e.resolveUrl(t.get("key"),{useRelativeUrl:s,appendToken:!s}),location:a?"lan":"wan",mediaIndex:m(t,n.id)},i,{protocol:void 0});this.logParams("Game",r,l),l=o().extend(l,e.getHeaders());const c=this.extensions[l.protocol];let d="/game/:/transcode/"+r;return"start"===r&&c&&(d+=c),e.resolveUrl(d+"?"+this.serializeParams(l,e))}},b="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Z=l.Z.ItemView.extend({tagName:"img",background:!1,backgroundSize:"",cache:new d.Z,initialize:function(e){e||(e={}),o().bindAll(this,"onLoad","onError","loadImage"),this.url=e.url,this.server=e.server,this.placeholder=e.placeholder,this.placeholderClass=e.placeholderClass,this.modelAttribute=e.modelAttribute,this.ignoreAttributeChanges=e.ignoreAttributeChanges,this.exposeUrl=e.exposeUrl,this.resetOnError=e.resetOnError,this.emptyImage=e.explicitEmpty?"url("+b+")":"",e.background&&(this.background=e.background),e.backgroundSize&&(this.backgroundSize=e.backgroundSize),e.format&&(this.format=e.format),e.quality&&(this.quality=e.quality),o().isFunction(e.getUrl)&&(this.getUrl=e.getUrl),this.allowBaseImageBlobs=c.Z.allowBaseImageBlobs,this.allowBaseImagePreloading=c.Z.allowBaseImagePreloading,this.setup(e)},setup:function(e){this.setDimensions(e),this.setFilters(e.filters),this.setModel(e.model,e)},setDimensions:function(e){e.width&&e.height&&(this.transcode=!0,this.width=e.width,this.height=e.height)},setFilters:function(e){this.filters=e||void 0},hasFilters:function(){return void 0!==this.filters},setModel:function(e,t){t||(t={}),this.stopListening(),this.src=null,this.model=e,e&&(this.server||(this.server=e.server),t.url||this.modelAttribute&&(this.url=this.getUrl(e.get(this.modelAttribute)),this.ignoreAttributeChanges||this.listenTo(e,"change:"+this.modelAttribute,this.onChange)))},setElement:function(e){l.Z.ItemView.prototype.setElement.apply(this,arguments),this.render({force:!0})},getUrl:function(e){return e},getTranscodeUrl:function(e){if(!this.server||!this.transcode)return e;const t=a.DB("appModel"),n=(0,u.Z)();return v.image(this.server,e,{fallbackServer:t.get("primaryServer"),width:this.width*n,height:this.height*n,minSize:this.minSize,filters:this.filters,format:this.format,quality:this.quality})},render:function(e){return e||(e={}),this.url||this.placeholder||this.placeholderClass?this.src?(e.force&&this.showImage(this.src),this):(this.isPlaceholderRendered&&this.url||this.showPlaceholder(),this.url&&this.load(this.url,this.transcode).then(this.onLoad,this.onError,this.onLoad),this):this},showPlaceholder:function(){if(this.isPlaceholderRendered=!0,this.$el.removeClass("loaded"),this.placeholderClass)return this.$el.addClass(this.placeholderClass),void this.$el.css("background-image",this.emptyImage);this.placeholder?this.showImage(this.placeholder):this.clearImage()},clearImage:function(){this.background?this.$el.css("background-image",this.emptyImage):this.showImage(b)},showImage:function(e){this.background?this.showBackgroundImage(e):this.$el.attr("src",e).removeAttr("width").removeAttr("height")},showBackgroundImage:function(e){this.$el.css("background-image","url("+e+")")},load:function(e){if(!e)return r().Deferred().reject().promise();if(e=this.getTranscodeUrl(e),this.exposeUrl&&this.$el.attr("data-image-url",e),this.allowBaseImageBlobs&&h.Z.hasBlob&&h.Z.hasObjectUrl){let t=this.loadBlob(e);return t=t.then(this.loadImage,null,this.loadImage),t}return this.allowBaseImagePreloading?this.loadImage(e):r().Deferred().resolve(e).promise()},loadBlob:function(e){const t=r().Deferred();this.cancel();const n=this.cache.getBlobUrl(e);if(n)return t.resolve(n),t.promise();{const n=this.cache.getPlaceholder(e);n&&t.notify(n,!0)}const i=new window.XMLHttpRequest;return i.open("GET",e,!0),i.responseType="arraybuffer",this.xhr=i,i.onreadystatechange=o().bind((function(){if(4===i.readyState)if(i.onreadystatechange=null,this.xhr=null,200===i.status){const n=new window.Blob([i.response],{type:"image/jpeg"}),r=window.URL.createObjectURL(n);this.cache.store({url:e,blobUrl:r}),t.resolve(r)}else t.reject()}),this),i.send(),t.promise()},loadImage:function(e,t){const n=r().Deferred(),i=new window.Image;return i.onload=function(){i.onload=i.onabort=i.onerror=null,t?n.notify(e,i.width,i.height):n.resolve(e,i.width,i.height)},i.onabort=i.onerror=function(){i.onload=i.onabort=i.onerror=null,n.reject()},i.src=e,n.promise()},cancel:function(){this.xhr&&(this.xhr.onreadystatechange=null,this.xhr.abort(),this.xhr=null)},onLoad:function(e,t,n){if(this.backgroundSize){const e=t&&t>this.width||n&&n>this.height?this.backgroundSize:"auto";this.$el[0].style.backgroundSize=e}this.src=e,this.placeholderClass&&this.$el.removeClass(this.placeholderClass),this.$el.addClass("loaded"),this.showImage(e),this.trigger("load",e,t,n)},onError:function(){this.resetOnError&&this.showPlaceholder(),this.trigger("error")},onClose:function(){this.cancel()},onChange:function(e,t){if(t=this.getUrl(t),this.url===t)return this;this.url=t,this.src=null,this.render()}})},73948:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(63732),r=n(37152),s=n(59054);const o=s.Z.extend({background:!0,setup(e){this.minSize=!0,this.type=e.type,this.modelAttribute=e.modelAttribute||"thumb",!1!==e.placeholder&&(this.model&&this.model.get("isFolder")?this.placeholderClass=i.Z.folder:e.placeholderClass||(this.placeholderClass=i.Z[this.type])),s.Z.prototype.setup.apply(this,arguments)},setDimensions(e){e.width?e.height=r.Z.getPosterHeight(this.type,e.width):e.height&&(e.width=r.Z.getPosterWidth(this.type,e.height)),s.Z.prototype.setDimensions.call(this,e)},setModel(e,t){s.Z.prototype.setModel.apply(this,arguments),this.model&&this.model.get("isFolder")&&(this.placeholderClass=i.Z.folder)}})},46608:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(13469),r=n.n(i),s=n(57076);const o=s.Z.CollectionView.extend({appendHtml:function(){return this.sorted?this.sortedAppendHtml.apply(this,arguments):this.reversed?this.reversedAppendHtml.apply(this,arguments):s.Z.CollectionView.prototype.appendHtml.apply(this,arguments)},sortedAppendHtml:function(e,t,n){if(e.isBuffering){const i=e.elBuffer.childNodes;i.length<=n?e.elBuffer.appendChild(t.el):e.elBuffer.insertBefore(t.el,i[n]),e._bufferedChildren.push(t)}else{const i=e.itemViewContainer?e.$(e.itemViewContainer):e.$el,r=i.children();r.size()<=n?i.append(t.el):r.eq(n).before(t.el)}},reversedAppendHtml:function(e,t){e.isBuffering?(e.elBuffer.insertBefore(t.el,e.elBuffer.firstChild),e._bufferedChildren.push(t)):(e.itemViewContainer?e.$(e.itemViewContainer):e.$el).prepend(t.el)},measureList:function(){if(!this.children.length)return;const e=this.children._views,t=e[r().first(r().keys(e))];r().defer(r().bind((function(){this.itemWidth=t.$el.outerWidth(!0),this.itemHeight=t.$el.outerHeight(!0),this.itemMarginRight=parseInt(t.$el.css("margin-right"),10),this.itemMarginBottom=parseInt(t.$el.css("margin-bottom"),10),this.triggerMethod("measure",this)}),this))},getViewForModel:function(e){const t=this.children._indexByModel[e.cid];return this.children._views[t]},reorder:function(){const e=this.children,t=this.collection.models,n=r().map(t,(function(t,n){const i=e.findByModel(t);return i._index=n,i.el}));this.$el.append(n)},onCollectionRendered:function(){this.measure&&this.measureList()}})},98759:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(57076),l=n(82590);let c=0;const d=[],u=a.Z.Layout.extend({className:"modal fade",focusDelay:500,animationDelay:500,events:{"hide.bs.modal":"onHide"},initialize:function(){this.once("render",(function(){c+=1,l.Z.trigger("anyModalOpen")})),this.once("close",(function(){c-=1,0===c&&l.Z.trigger("allModalsClosed")}))},hide:function(){this.isClosed||this.isHidden||this.$el.modal("hide")},onRender:function(){this.rerender||(this.isForced?this.$el.modal({backdrop:!1,keyboard:!1}):(this.listenTo(l.Z,"shortcut:escape",o().bind((function(){d[0]===this&&this.hide()}),this)),this.listenToOnce(this,"close",(function(){const e=d.indexOf(this);-1!==e&&d.splice(e,1)})),d.unshift(this),this.$el.modal()),r()(":focus").blur())},onHide:function(){this.isHidden=!0,o().each(this.panes,(function(e){const t=e.constructor.onModalClose;t&&t.apply(this)}),this),window.setTimeout(o().bind((function(){l.Z.trigger("hide:modal",this),this.trigger("close")}),this),this.animationDelay)}})},32846:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(98759),l=n(65975),c=n.n(l);const d=a.Z.extend({className:"confirm-modal modal modal-sm fade",template:c(),ui:{doubleConfirmMessage:".double-confirm-message",confirmBtn:".confirm-btn",confirmLabel:".confirm-btn .btn-label"},events:o().extend({"click .confirm-btn":"onConfirm"},a.Z.prototype.events),whitelistedOptions:["title","message","warningMessage","confirmLabel","cancelLabel","hasDanger","hideCancel"],initialize:function(e){a.Z.prototype.initialize.apply(this,arguments),this.async=e.async,this.data=o().pick(e,this.whitelistedOptions),this.promise=r().Deferred()},serializeData:function(){return o().defaults(this.data,{confirmLabel:"Yes",cancelLabel:"No"})},onRender:function(){a.Z.prototype.onRender.apply(this,arguments),window.setTimeout(o().bind((function(){this.ui.confirmBtn.focus()}),this),this.focusDelay)},onHide:function(){a.Z.prototype.onHide.apply(this,arguments),this.promise.reject()},onConfirm:function(e){if(e.preventDefault(),this.options.requireDoubleConfirm&&!this.hasConfirmedOnce){this.hasConfirmedOnce=!0;const e=this.options.doubleConfirmMessage,t=this.options.doubleConfirmLabel;return e&&this.ui.doubleConfirmMessage.text(e),void(t&&this.ui.confirmLabel.text(t))}this.promise.resolve(),this.async?this.ui.confirmBtn.addClass("active"):this.hide()}})},74926:(e,t,n)=>{"use strict";n.d(t,{Z:()=>vt});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(28941);function l(e,t){const n=t.constructor.prototype.validate;return n?n(e):[]}function c(e){const t=this.panes[e],n=h.call(this,t);return 0===l.call(this,n,t).length}function d(e,t){let n=this.panes[t].dependentPanes;return"function"==typeof n&&(n=n.call(this)),e.concat(n||[])}function u(){const e=this.$(".change-pane-btn");e.addClass("disabled").removeClass("selected"),o().each(this.getReachablePanes(),(function(t){e.filter("."+t+"-btn").removeClass("disabled")}),this),e.filter("."+this.selectedPane+"-btn").addClass("selected")}function h(e){return this[e.model]||this[this.panesModel]||this.model}const p={showPane:function(e){if(e===this.selectedPane)return;const t=this.paneRegion.currentView;t&&(this.stopListening(t,"valid",u),this.stopListening(t,"invalid",u),this.$el.removeClass("pane-"+this.selectedPane),this.onPaneHide&&this.onPaneHide(this.selectedPane,t)),this.selectedPane=e;const n=this.panes[e],i=n.constructor,r=this.paneConstructorArg?this.paneConstructorArg():{},s=new i(o().extend(r,{model:h.call(this,n)}));if(s.onModalClose){this._paneOnModalCloseCallbacks||this.listenToOnce(this,"close",(function(){o().each(this._paneOnModalCloseCallbacks,(function(e){e[1].call(e[0])}),this),this._paneOnModalCloseCallbacks=null}));const e=this._paneOnModalCloseCallbacks||[];e.push([s,s.onModalClose]),this._paneOnModalCloseCallbacks=o().uniq(e,(function(e){return e[1]}))}this.listenTo(s,"valid",u),this.listenTo(s,"invalid",u),u.call(this),this.onPaneShow&&this.onPaneShow(e,s),this.$el.addClass("pane-"+e),this.paneRegion.show(s),u.call(this)},getReachablePanes:function(){const e=o().reduce(this.panes,(function(e,t){let n=t.dependentPanes;return"function"==typeof n&&(n=n.call(this)),o().union(e,n||[])}),[],this);let t,n,i=o().filter(o().keys(this.panes),(function(t){return!o().contains(e,t)})),r=i;for(;r.length;)t=o().filter(r,c,this),n=n||t.length!==r.length,r=o().reduce(t,d,[],this),i=i.concat(r);return i.isAnyInvalid=n,i},onChangePaneClick:function(e){e.preventDefault();const t=this.$(e.currentTarget);t.isDisabled()||this.showPane(t.data("pane"))}};var g=n(51394),m=n(7631),f=n(21847),y=n(25655),v=n(34510),b=n(35785),Z=n(71746),S=n(82590),I=n(26120),M=n(60964),w=n(42780),P=n(18337),C=n(21235),D=n(74441),A=n(50958),x=n(10123),E=n(71065),T=n(81494),j=n(57076),N=n(87955),O=n.n(N);const k=j.Z.ItemView.extend({template:O(),events:{"change input[name]":"onInputChange","change select[name]":"onInputChange"},initialize:function(){this.changes={}},serializeData:function(){return{settings:this.collection.toJSON(),escapedAgentName:o().escape(this.model.agents.get(this.model.get("agent")).get("name"))}},onInputChange:function(e){const t=r()(e.currentTarget),n=t.is(":checkbox")?t.prop("checked"):t.val();this.collection.findWhere({id:t.attr("name")}).set("value",n)}});var L=n(96543),R=n(50207),z=n.n(R);const V=z().extend({constructor:function(e,t,n,i){this.exclusiveAgents=t,this.agentIdentifier=n,z().call(this,e,i),this.filterBy(o().bind(this.filterExclusiveAgent,this))},filterExclusiveAgent:function(e){const t=e.get("identifier"),n=this.exclusiveAgents;if(!n)return!0;const i=this.agentIdentifier,r=-1!==n.indexOf(i),s=-1!==n.indexOf(t);return r?t===i:!s}}),_=z().extend({constructor:function(e,t,n,i){this.exclusiveScanners=t,this.scannerName=n,z().call(this,e,i),this.filterBy(o().bind(this.filterExclusiveScanner,this))},filterExclusiveScanner:function(e){const t=e.get("name"),n=this.exclusiveScanners;if(!n)return!0;const i=this.scannerName,r=-1!==n.indexOf(i),s=-1!==n.indexOf(t);return r?t===i:!s}});var U=n(49788),B=n(22618),F=n(88019);const H=B.Z.extend({name:"ScannerModel",context:["server"],rootPropertyName:"Scanner",syncedAttrs:{name:F.Z.string}}),W=U.Z.extend({name:"ScannerCollection",context:["server","sectionTypeID"],model:H,url:function(){return"/system/scanners/"+this.sectionTypeID},hasExclusiveScanner:function(e){return!!o().intersection(this.pluck("name"),e).length}});var Y=n(2608);const G=j.Z.Layout.extend({ui:{formGroup:".form-group"},onlyAfterRender:["showValidationResult"],serializeData:function(){const e={};return this.model.isNew()?e.add=!0:e.edit=!0,e.section=this.model.toJSON(),e},showValidationResult:function(e){const t=this.ui.formGroup;t.removeClass("has-error"),o().each(e,(function(e){t.filter("."+e+"-group").addClass("has-error")})),this.trigger(e.length?"invalid":"valid")},createMenuOptions:function(e,t){return o().map(e,(function(e){return'<option value="'+e.value+'"'+(e.value===t?" selected":"")+">"+e.label+"</option>"})).join("\n")},getSectionType:function(){if(this.model.sectionType)return this.model.sectionType;const e=this.model.get("type");let t=x.ZP.get(e);return"movie"===e&&this.model.get("agent")===v.Hn&&(t=x.ZP.get("videos")),this.model.sectionType=t,t},setSectionType:function(e){this.model.sectionType=e},populateAgents:function(){const e=this.getSectionType();return e?(this.model.agents||(this.model.agents=new L.Z([],{server:this.model.server,mediaTypeID:e.typeID})),this.model.agents.populate().then((function(e){return e}))):r().Deferred().reject().promise()},populateScanners:function(){const e=this.getSectionType();return e?(this.model.scanners||(this.model.scanners=new W([],{server:this.model.server,sectionTypeID:e.typeID})),this.model.scanners.populate().then((function(e){return e}))):r().Deferred().reject().promise()},populateAgentsProxy:function(){const e=this.getSectionType().exclusiveAgents,t=new V(this.model.agents,e,this.model.get("agent"));return this.model.agentsProxy=t,r().Deferred().resolve(t).promise()},populateScannersProxy:function(){const e=this.getSectionType().exclusiveScanners,t=new _(this.model.scanners,e,this.model.get("scanner"));return this.model.scannersProxy=t,r().Deferred().resolve(t).promise()},populateSectionSettings:function(){if(!this.model.server.supports("sectionSettings"))return r().Deferred().resolve().promise();if(!this.model.settings){const e=new Y.Z([],{server:this.model.server}),t={agent:this.model.get("agent")};if(this.model.isNew()){const n=this.getSectionType();t.type=n.typeID,e.url=E.Z.join(["/library/sections/prefs"],t)}else e.url=E.Z.join(["/library/sections/",this.model.id,"/prefs"],t);this.model.settings=e}return this.model.settings.populate().then((()=>(!(!this.model.isNew()||"music"!==this.model.get("type")||!this.model.server.supports("premiumMusic")||this.model.settings.findWhere({id:"importFromiTunes"})||!this.model.server.get("desktop").get("settings").findWhere({id:"iTunesLibraryXmlPath"}))&&this.model.settings.unshift({type:"bool",id:"importFromiTunes",value:!1,label:(0,C.Z)("Import from iTunes"),summary:(0,C.Z)("Importing from iTunes will import your music playlists. It will also import your ratings, the date you added the music, as well as play and skip counts for tracks in your library.")}),this.model.settings)))},populateSectionAgentSettings:function(){if(!this.model.agentSettings){const e=new Y.Z([],{server:this.model.server,url:E.Z.join(["/:/plugins/",this.model.get("agent"),"/prefs"])});this.model.agentSettings=e}return this.model.agentSettings.populate()},onModalClose:function(){this.model.scanners=null,this.model.scannersProxy=null,this.model.agents=null,this.model.agentsProxy=null,this.model.settings=null}});var q=n(19597),Q=n.n(q);const K=j.Z.ItemView.extend({template:Q(),events:{"change [name]":"onEditSectionSettingInputChange"},serializeData:function(){return{settings:this.collection.toJSON(),edit:!this.model.isNew()}},onEditSectionSettingInputChange:function(e){const t=r()(e.currentTarget),n=t.attr("name");if("importFromiTunes"===n)return void this.model.set(n,!0);const i=t.is(":checkbox")?t.prop("checked"):t.val();this.collection.findWhere({id:n}).set("value",i)}});var $=n(2200),J=n.n($);const X=G.extend({template:J(),ui:o().extend({sectionAgent:"#edit-section-agent",sectionScanner:"#edit-section-scanner",thumbnailsCheckbox:'input[name="enableBIFGeneration"]',agentGroup:".agent-group",scannerGroup:".scanner-group"},G.prototype.ui),events:{"change #edit-section-agent":"onEditSectionAgentChange","change #edit-section-scanner":"onEditSectionScannerChange","click .delete-thumbnails-btn":"onThumbnailsDeleteClick"},regions:{sectionSettingsRegion:".section-settings-region",agentSettingsRegion:".section-agent-settings-region"},onlyAfterRender:["renderSectionAgent","renderSectionScanner","renderSectionSettings","renderSectionAgentSettings"].concat(G.prototype.onlyAfterRender),initialize:function(){this.populateCollections()},onRender:function(){this.model.agents.populate(),this.model.scanners.populate()},validate:function(e){const t=[];return e.get("agent")||t.push("agent"),e.get("scanner")||t.push("scanner"),t},renderSectionSettings:function(){const e=new K({model:this.model,collection:this.model.settings});this.sectionSettingsRegion.show(e)},renderSectionAgentSettings:function(){const e=new k({model:this.model,collection:this.model.agentSettings});this.agentSettingsRegion.show(e)},populateCollections:function(){const e=this.populateAgents(),t=this.populateScanners(),n=this.populateSectionSettings(),i=this.populateSectionAgentSettings();return this.populateAgentsProxy(),this.populateScannersProxy(),e.then(o().bind(this.onAgentsPopulate,this)),t.then(o().bind(this.onScannersPopulate,this)),n.then(o().bind(this.renderSectionSettings,this)),i.then(o().bind(this.renderSectionAgentSettings,this)),r().when(e,t,n,i).then(o().bind(this.validate,this,this.model))},renderSectionAgent:function(){const e=this.model.agentsProxy,t=this.createMenuOptions(e.map((function(e){return{label:e.get("name"),value:e.get("identifier")}})),this.model.get("agent"));this.ui.sectionAgent.html(t),e.length>1&&this.ui.agentGroup.removeClass("hidden")},renderSectionScanner:function(){const e=this.model.scannersProxy,t=this.createMenuOptions(e.map((function(e){return{label:e.get("name"),value:e.get("name")}})),this.model.get("scanner"));this.ui.sectionScanner.html(t),e.length>1&&this.ui.scannerGroup.removeClass("hidden")},updateSectionAgent:function(e){const t=this.model.get("scanner");this.model.set("agent",e),this.agentSettingsRegion.close();const n=this.model.agents.get(e);if(n){const i=n.get("languages"),r=this.model.get("language"),s=this.getSectionType();if(!i.get(r)){let e=i.findWhere({default:!0});e||2!==r.search("-")||(e=i.get(r.substr(0,2))),e||(e=i.get(s.defaultLanguage)||i.first()),this.model.set("language",e.get("code"))}if(this.model.agentSettings=null,this.populateSectionAgentSettings().then(o().bind(this.renderSectionAgentSettings,this)),this.model.settings=null,this.populateSectionSettings().then(o().bind(this.renderSectionSettings,this)),e===s.mutual.agent)this.model.set("scanner",s.mutual.scanner),this.renderSectionScanner();else if(this.model.get("scanner")===s.mutual.scanner){const e=this.model.scanners.find((e=>e.get("name")!==t));this.model.set("scanner",e.get("name")),this.renderSectionScanner()}}this.showValidationResult(this.validate(this.model))},onEditSectionAgentChange:function(e){const t=r()(e.currentTarget).val();this.updateSectionAgent(t)},onEditSectionScannerChange:function(e){const t=r()(e.currentTarget).val(),n=this.model.get("agent"),i=this.getSectionType();if(this.model.set("scanner",t),t===i.mutual.scanner)this.updateSectionAgent(i.mutual.agent),this.renderSectionAgent();else if(this.model.get("agent")===i.mutual.agent){const e=this.model.agents.find((e=>e.get("identifier")!==n));this.updateSectionAgent(e.get("identifier")),this.renderSectionAgent()}this.showValidationResult(this.validate(this.model))},onAgentsPopulate:function(){this.renderSectionAgent()},onScannersPopulate:function(){this.renderSectionScanner()},onThumbnailsDeleteClick:function(e){e.preventDefault(),T.Z.execute("deleteSectionThumbnails",{section:this.model}).done(this.whenRendered((function(){this.ui.thumbnailsCheckbox.prop("checked",!1)})))}});var ee=n(64038),te=n.n(ee);const ne=G.extend({template:te()});var ie=n(71050),re=n(36678),se=n(68468);const oe=["free"];var ae=n(78e3),le=n.n(ae);const ce=j.Z.ItemView.extend({template:le(),className:"row",events:{"click .remove-path-btn":"onRemovePathClick"},onRemovePathClick:function(e){e.preventDefault(),this.model.trigger("destroy",this.model,this.model.collection)}}),de=j.Z.CollectionView.extend({itemView:ce});var ue=n(90126),he=n(81560),pe=n(8710),ge=n.n(pe);const me=j.Z.ItemView.extend({tagName:"li",className:"striped-list-item browse-directory-list-item disabled",template:ge(),serializeData:function(){return{filePath:this.model.toJSON()}}});var fe=n(95882),ye=n.n(fe);const ve=j.Z.CompositeView.extend({template:ye(),itemView:me,itemViewContainer:".js-file-list-items",bindings:{".js-file-list-truncated-message":{modelAttribute:"truncatedFilesCount",formatter:e=>e?(0,C.Z)("…and {truncatedFilesCount} more",{truncatedFilesCount:e}):null}}});var be=n(98651),Ze=n.n(be);const Se=j.Z.ItemView.extend({tagName:"li",className:"striped-list-item browse-directory-list-item",template:Ze(),ui:{link:"a",spinner:".loading"},serializeData:function(){return{filePath:this.model.toJSON(),isRoot:!this.model.parent}},select:function(e){this.ui.link.addClass("selected"),this.ui.spinner.toggleClass("hidden",!e)},unselect:function(){this.ui.link.removeClass("selected"),this.ui.spinner.addClass("hidden")}}),Ie=j.Z.CollectionView.extend({tagName:"ul",className:"list browse-directory-list",itemView:Se,selectedFilePath:null,events:{"click a":"onDirectoryClick"},collectionEvents:{reset:"onReset"},startLoadingItem:function(e){this.selectedFilePath&&this.unselectItem(this.selectedFilePath),this.selectedFilePath=e;const t=this.children.findByModel(e);t&&t.select(!0)},stopLoadingItem:function(e){const t=this.children.findByModel(e);t&&t.select(!1)},unselectItem:function(e){this.selectedFilePath=null;const t=this.children.findByModel(e);t&&t.unselect()},onReset:function(){this.parentFilePath&&this.collection.add(this.parentFilePath,{at:0})},onDirectoryClick:function(e){e.preventDefault();const t=r()(e.currentTarget).data("key"),n=this.collection.get(t)||this.parentFilePath;this.trigger("change:path",n),this.options.isRoot||(n.parent.parent?(this.parentFilePath=n.parent.parent.clone(),this.parentFilePath.set({title:".. [Back]",isBackShortcut:!0})):this.parentFilePath=null)}});var Me=n(98759),we=n(26719),Pe=n.n(we);const Ce=Me.Z.extend({name:"addFolderModal",className:"add-folder-modal modal fade",template:Pe(),events:o().extend({"submit form":"onSubmitForm"},Me.Z.prototype.events),ui:{path:'input[name="path"]'},regions:{rootList:".home-directory-container",childrenList:".path-container",childrenFileList:".file-container"},initialize:function(e){Me.Z.prototype.initialize.apply(this,arguments),this.rootPathList=new ue.Z({},{server:e.server,includeFiles:1}),this.childrenPathList=new ue.Z({},{server:e.server,includeFiles:1}),this.loadRootPaths()},loadRootPaths:function(){this.rootPathList.fetch().done(this.whenRendered((function(){const e=this.rootPathList.get("paths").where({home:!0}),t=o().first(e)||this.rootPathList.get("paths").first();this.rootList.currentView.startLoadingItem(t),this.loadChildrenPaths(t)})))},loadChildrenPaths:function(e){he.Z.abortAll("addFolderModal");const t=e.get("children"),n=t.fetch({scope:"addFolderModal"});n.done(this.whenRendered((function(){this.ui.path.val(e.get("path")),this.childrenPathList.get("paths").reset(t.get("paths").models),this.childrenPathList.get("files").reset(t.get("files").models),this.childrenPathList.set("truncatedFilesCount",t.get("truncatedFilesCount"))}))),n.fail(this.whenRendered((function(){this.childrenList.currentView.unselectItem(e),S.Z.trigger("show:alert",{type:"error",message:(0,C.Z)("Unable to load contents of '{1}'",e.get("path"))})}))),n.always(this.whenRendered((function(){this.rootList.currentView.stopLoadingItem(e)})))},onRender:function(){Me.Z.prototype.onRender.apply(this,arguments);const e=new Ie({isRoot:!0,collection:this.rootPathList.get("paths")}),t=new Ie({collection:this.childrenPathList.get("paths")}),n=new ve({model:this.childrenPathList,collection:this.childrenPathList.get("files")});this.listenTo(e,"change:path",this.onRootPathChange),this.listenTo(t,"change:path",this.onChildrenPathChange),this.rootList.show(e),this.childrenList.show(t),this.childrenFileList.show(n)},onRootPathChange:function(e){this.childrenList.currentView.parentFilePath=null,this.rootList.currentView.startLoadingItem(e),this.loadChildrenPaths(e)},onChildrenPathChange:function(e){this.childrenList.currentView.startLoadingItem(e),this.loadChildrenPaths(e)},onSubmitForm:function(e){e.preventDefault(),this.trigger("add:folder",this.ui.path.val()),this.hide()}});var De=n(69106),Ae=n.n(De),xe=Object.defineProperty,Ee=Object.prototype.hasOwnProperty,Te=Object.getOwnPropertySymbols,je=Object.prototype.propertyIsEnumerable,Ne=(e,t,n)=>t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Oe=(e,t)=>{for(var n in t||(t={}))Ee.call(t,n)&&Ne(e,n,t[n]);if(Te)for(var n of Te(t))je.call(t,n)&&Ne(e,n,t[n]);return e};function ke(e,t){return e.findWhere({type:t,state:ie.iN})||e.findWhere({type:t,state:ie.j5})}function Le(e,t){return e.findWhere({type:t,state:ie.zK})||e.findWhere({type:t,state:ie.J$})||e.findWhere({type:t,state:ie.Ku})}const Re=G.extend({template:Ae(),fieldNames:["Location"],regions:{pathsRegion:".paths-region"},ui:Oe(Oe({},G.prototype.ui),{addFolderBtn:".add-folder-btn",addFolderPopulating:".add-folder-populating",addFolderError:".add-folder-error",arcadeDownloadMediaInput:"#arcade-download-media",arcadeGreeting:"#arcade-greeting",arcadeRequired:"#arcade-required",arcadeUpsell:"#arcade-upsell",parsecRequired:"#parsec-required"}),events:{"click .add-folder-btn":"onAddFolderClick","change input[name=path]":"onFolderChange","change input[name=downloadMedia]":"onDownloadMediaChange"},onlyAfterRender:["renderSectionLocation"].concat(G.prototype.onlyAfterRender),initialize:function(){this.listenTo(this.model.get("locations"),{add:this.onCollectionChange,remove:this.onCollectionChange}),this.model.get("type")===x.Wp&&this.listenTo((0,a.DB)("appModel").get("user"),{change:this.onUserChange}),this.renderSectionLocation(),this.showValidationResult(this.validate(this.model))},serializeData:function(){const e=this.model.get("type")===x.Wp,t=this.model.isNew()&&e,n=(0,a.DB)("appModel").get("user"),i=!!ke(n.get("subscriptions"),re.VW),r=!(!Le(n.get("subscriptions"),re.VW)&&!Le(n.get("pastSubscriptions"),re.VW)),s=function(e,t){const n=e.find((e=>e.id===t));return!(!n||n.subscriptionType&&oe.includes(n.subscriptionType))}(n.get("services").toJSON(),"parsec"),o=e&&i,l=t&&r&&!i,c=t&&!r&&!i,d=e&&i&&!s;return Oe(Oe({},G.prototype.serializeData.call(this)),{hideArcadeGreeting:!o,hideArcadeRequired:!l,hideArcadeUpsell:!c,hideParsecRequired:!d,isDisabled:t&&!i,isGamesSection:e,isNewGamesSection:t,subscribeURL:(0,se.LL)("/arcade/checkout")})},validate:function(e){const t=ke((0,a.DB)("appModel").get("user").get("subscriptions"),re.VW);if(e.isNew()&&e.get("type")===x.Wp){if(!t)return["subscriptionRequired"];if(e.get("downloadMedia"))return[]}const n=[];return e.get("locations").length||n.push("locations"),n},renderSectionLocation:function(){const e=new de({collection:this.model.get("locations")});this.pathsRegion.show(e)},onCollectionChange:function(){this.showValidationResult(this.validate(this.model))},onAddFolderClick:function(e){e.preventDefault();const t=new Ce({server:this.model.server});this.listenToOnce(t,"add:folder",this.onAddFolder),S.Z.trigger("show:modal",t)},onAddFolder:function(e){if(!e)return;const t={path:e};this.model.get("locations").findWhere(t)||this.model.get("locations").add(t)},onFolderChange:function(e){const t=r()(e.currentTarget),n=t.prop("defaultValue"),i=t.val();i?(this.model.get("locations").findWhere({path:n}).set("path",i),t.prop("defaultValue",i)):t.val(n)},onDownloadMediaChange:function(e){r()(e.currentTarget).prop("checked")?(this.model.set("downloadMedia",1),this.trigger("valid")):(this.model.unset("downloadMedia"),this.trigger("invalid"))},onUserChange:function(){const{hideArcadeGreeting:e,hideArcadeRequired:t,hideArcadeUpsell:n,hideParsecRequired:i,isDisabled:r}=this.serializeData(),{addFolderBtn:s,arcadeDownloadMediaInput:o,arcadeGreeting:a,arcadeRequired:l,arcadeUpsell:c,parsecRequired:d}=this.ui;s.prop("disabled",r),o.prop("disabled",r),a.toggleClass("hidden",e),l.toggleClass("hidden",t),c.toggleClass("hidden",n),d.toggleClass("hidden",i),this.showValidationResult(this.validate(this.model))}});var ze=n(94983),Ve=n.n(ze);const _e=Me.Z.extend({name:"plexPassModal",template:Ve(),serializeData:function(){return{plexPassUrl:a.DB("appModel").get("user").server.get("plexPassUrl"),escapedFriendlyName:o().escape(this.model.get("friendlyName")),isClaimed:this.model.get("isClaimed")}}});var Ue=n(45089),Be=n.n(Ue);const Fe=G.extend({template:Be(),ui:{chooseLibrary:".choose-library"},events:{"click .choose-library":"onChooseLibraryClick"},modelEvents:{"change:agent":"onSectionAgentChange","change:scanner":"onSectionScannerChange"},onlyAfterRender:["updateSelectedOffering"],initialize:function(){this.hasPremiumMusic=this.model.server.hasOwnerFeature("premium_music_metadata"),this.updateSelectedOffering()},serializeData:function(){const e=a.DB("appModel").get("user");return{hasPremiumMusic:this.hasPremiumMusic,plexPassUrl:e.server.get("plexPassUrl"),hasLyrics:this.model.server.get("transcoderLyrics")}},updateSelectedOffering:function(){const e=this.model.get("agent"),t=this.model.get("scanner");this.ui.chooseLibrary.find("input").prop("checked",!1);let n=this.ui.chooseLibrary.filter('[data-agent="'+e+'"][data-scanner="'+t+'"]').find("input");n.length||(n=this.ui.chooseLibrary.not("[data-agent][data-scanner]").find("input")),n.prop("checked",!0)},onChooseLibraryClick:function(e){const t=r()(e.currentTarget),n=t.data("agent"),i=t.data("scanner");!n&&!i||this.hasPremiumMusic?(this.model.agentSettings=null,this.model.set({agent:n||this.getSectionType().defaultAgent,scanner:i||this.getSectionType().defaultScanner})):S.Z.trigger("show:modal",new _e({model:this.model.server}))},onSectionAgentChange:function(){this.updateSelectedOffering()},onSectionScannerChange:function(){this.updateSelectedOffering()}});var He=n(15856),We=n(61973),Ye=n(42227),Ge=n(42902);const qe=function(e,t){return function(e,{limit:t}={},n=!1){if(!e)return"";const i=new Date;e=Math.round(e),"past"===t?e=Math.min(e,(0,Ge.Z)(i)):"future"===t&&(e=Math.max(e,(0,Ge.Z)((0,We.Z)(i,1))));const r=(0,Ye.Z)(e).getTime()-i.getTime();let s;return s="future"===t||"past"!==t&&r>0,function({milliseconds:e,isShorthand:t,isFuture:n}){let i=Math.abs(e)/1e3;i&&(i=i<1?1:Math.round(i));const r=Math.round(i/60),s=Math.round(r/60),o=Math.round(s/24),a=Math.round(o/30),l=Math.round(o/365),c={seconds:i,minutes:r,hours:s,days:o,months:a,years:l},d={unitOfTime:i<=44&&(t?(0,C.Z)("{seconds}s",c):(0,C.Z)("a few seconds",c))||i<45&&(t?(0,C.Z)("{seconds}s",c):(0,C.Z)("{seconds} seconds",c))||r<=1&&(t?(0,C.Z)("{minutes}m",c):(0,C.Z)("a minute",c))||r<45&&(t?(0,C.Z)("{minutes}m",c):(0,C.Z)("{minutes} minutes",c))||s<=1&&(t?(0,C.Z)("{hours}h",c):(0,C.Z)("an hour",c))||s<22&&(t?(0,C.Z)("{hours}h",c):(0,C.Z)("{hours} hours",c))||o<=1&&(t?(0,C.Z)("{days}d",c):(0,C.Z)("a day",c))||o<26&&(t?(0,C.Z)("{days}d",c):(0,C.Z)("{days} days",c))||a<=1&&(t?(0,C.Z)("{months}mo",c):(0,C.Z)("a month",c))||a<11&&(t?(0,C.Z)("{months}mo",c):(0,C.Z)("{months} months",c))||l<=1&&(t?(0,C.Z)("{years}y",c):(0,C.Z)("a year",c))||(t?(0,C.Z)("{years}y",c):(0,C.Z)("{years} years",c))};return n?(0,C.Z)("in {unitOfTime}",d):(0,C.Z)("{unitOfTime} ago",d)}({milliseconds:r,isShorthand:n,isFuture:s})}(e,{limit:"past"},t)};var Qe=n(18272),Ke=n(6400),$e=n(6909),Je=n(30311),Xe=n(32714),et=n(8946),tt=n(70093),nt=n(56315);const it=function(e){switch(e){case x.MB:return Ke.l;case x.xF:return $e.H;case x.n1:return Je.L;case x.TV:return Xe.W;case x.FM:return et.O;case x.Wp:return tt.c;case x.S7:return nt.Z}};var rt=n(85512),st=n.n(rt),ot=Object.defineProperty,at=Object.prototype.hasOwnProperty,lt=Object.getOwnPropertySymbols,ct=Object.prototype.propertyIsEnumerable,dt=(e,t,n)=>t in e?ot(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ut=(e,t)=>{for(var n in t||(t={}))at.call(t,n)&&dt(e,n,t[n]);if(lt)for(var n of lt(t))ct.call(t,n)&&dt(e,n,t[n]);return e};function ht(e,t){return(null==e?void 0:e.key)===x.Wp?t.get("games"):(null==e?void 0:e.key)!==x.S7||t.get("audiobook")}const pt=G.extend({template:st(),ui:o().extend({sectionTypes:".wizard-block",sectionTitle:"#edit-section-title",sectionLanguage:"#edit-section-language",sectionLanguageGroup:".language-group"},G.prototype.ui),modelEvents:{"change:type":"onSectionTypeChange","change:title":"onSectionTitleChange","change:language":"onSectionLanguageChange"},events:{"click .section-type":"onSectionTypeClick","keyup #edit-section-title":"onEditSectionTitleChange","change #edit-section-title":"onEditSectionTitleChange","change #edit-section-language":"onEditSectionLanguageChange"},onlyAfterRender:["renderSectionLanguage","updateSectionTypesWizardBlocks","updateSectionLanguage","updateSectionTitle"].concat(G.prototype.onlyAfterRender),initialize:function(e){this.populateCollections(),this.isDefaultSection=e.isDefaultSection},serializeData:function(){const e=G.prototype.serializeData.apply(this,arguments),t=a.DB("appModel"),n=t.get("user"),i=n.get("features").get(He.ZM)&&this.model.server.hasOwnerFeature(He.ZM),r=n.get("features").get(He.Ix);e.sectionTypes=x.ZP.getAll().reduce(((e,t)=>((t.key!==x.Wp&&t.key!==x.S7||t.key===x.Wp&&i||t.key===x.S7&&r)&&e.push(ut(ut({},t),{typeIcon:(0,Qe.Z)(it(t.key))})),e)),[]);const s=this.getSectionType();s&&(e.currentSectionKey=s.key);const l=this.model.get("updatedAt");return l&&(e.updatedAt=qe(l)),e.canChangeType=this.model.isNew()&&!this.isDefaultSection,e.hasType=!!this.model.get("type"),e.isInitialTypeSupported=ht(this.model.sectionType,this.model.server),e.escapedUpdatedAt=o().escape(e.updatedAt),e},validate:function(e){const t=[];return e.get("type")||t.push("type"),e.get("title")||t.push("title"),e.get("language")||t.push("language"),e.get("isCollectionsPopulated")||t.push("collectionsNotPopulated"),ht(e.sectionType,e.server)||t.push("unsupportedType"),t},populateCollections:function(){this.model.set("isCollectionsPopulated",!1);const e=this.populateAgents(),t=this.populateScanners(),n=this.getSectionType();let i=r().when(n,e,t,this.model.server.get("myPlexSubscription")&&this.model.server.supports("premiumMusic"));return this.model.isNew()&&(i=i.then(o().bind(this.model.setAgentAndScanner,this.model))),i=i.then(e).then(o().bind(this.onAgentsPopulate,this)).then(o().bind((function(){this.showValidationResult(this.validate(this.model))}),this)).then((()=>{this.model.isNew()&&this.model.get("type")===x.Wp?this.model.set("downloadMedia",1):this.model.unset("downloadMedia"),this.model.set("isCollectionsPopulated",!0)})),i},renderSectionLanguage:function(){let e=this.model.get("language");const t=this.model.agents.get(this.model.get("agent"));if(!t)return void this.ui.sectionLanguageGroup.hide();const n=t.get("languages");if(!n.get(e)){const t=n.findWhere({default:!0});let i;if(t&&(i=t.get("code")),!i){const e=this.model.get("type");i=x.ZP.get(e).defaultLanguage}this.model.set("language",i,{silent:!0}),e=i}const i=n.map((function(e){return{label:e.get("name"),value:e.id}}));this.updateSectionLanguage(),this.ui.sectionLanguage.html(this.createMenuOptions(i,e))},updateSectionTypesWizardBlocks:function(){this.ui.sectionTypes.removeClass("selected"),this.ui.sectionTypes.filter('[data-key="'+this.model.get("type")+'"]').addClass("selected"),this.$el.addClass("section-type-chosen")},updateSectionLanguage:function(){this.ui.sectionLanguage.val(this.model.get("language"))},updateSectionTitle:function(){const e=this.ui.sectionTitle.val(),t=this.model.get("title");e!==t&&this.ui.sectionTitle.val(t)},onSectionTypeClick:function(e){e.preventDefault();const t=r()(e.currentTarget);if(!t.hasClass("selectable"))return;const n=t.data("key"),i={type:n},s=x.ZP.get(n);this.model.get("title")||(i.title=s.title),this.model.set(i)},onEditSectionTitleChange:function(e){const t=r()(e.currentTarget);this.model.set("title",t.val()),this.showValidationResult(this.validate(this.model))},onEditSectionLanguageChange:function(e){const t=r()(e.currentTarget);this.model.set("language",t.val()),this.showValidationResult(this.validate(this.model))},onSectionTypeChange:function(e,t){this.updateSectionTypesWizardBlocks();const n=x.ZP.get(t);if(!this.model.get("language")){const e=n.defaultLanguage;this.model.set("language",e)}const i=this.model.get("title"),r=this.model.previous("type"),s=x.ZP.get(r),o=s&&s.title;i&&i!==o||this.model.set("title",n.title),this.setSectionType(n),this.model.agents=null,this.model.scanners=null,this.model.settings=null;const a=ht(n,this.model.server);this.$el.toggleClass("is-type-unsupported",!a),a&&this.populateCollections()},onSectionTitleChange:function(e,t){this.updateSectionTitle(),this.showValidationResult(this.validate(this.model))},onSectionLanguageChange:function(e,t){this.updateSectionLanguage()},onAgentsPopulate:function(e){this.renderSectionLanguage()}});var gt=n(5027),mt=n(66501),ft=n(3698),yt=n.n(ft);const vt=Me.Z.extend({mixins:[p],name:"editSectionModal",className:"edit-section-modal modal modal-lg fade",template:yt(),panes:{type:{constructor:pt,nextPane:"folders",dependentPanes(){return this.showFolders?["folders"]:["options","advanced"]}},folders:{constructor:Re,nextPane:"options",dependentPanes:["options","advanced"]},options:{constructor:Fe,nextPane:"advanced"},advanced:{constructor:X},error:{constructor:ne}},panesModel:"tempModel",ui:{sidebar:".modal-nav-list",optionsBtn:".options-btn",saveBtn:".save-btn",message:".form-message",headerSectionType:".section-type-title"},regions:{paneRegion:".pane-region"},events:o().extend({"click .change-pane-btn":"onChangePaneClick","click .save-btn":"onSaveClick","submit .edit-section-type-form":"onGeneralFormSubmit"},Me.Z.prototype.events),onlyAfterRender:["showPane","updateMessage","updateSectionTitle","updateSectionTitleDestabilized","updateSaveBtn"],paneConstructorArg:function(){return{isDefaultSection:this.isDefaultSection}},initialize:function(e){Me.Z.prototype.initialize.apply(this,arguments),this.server=e.server,this.redirect=e.redirect,this.isDefaultSection=e.isDefaultSection,this.isLoading=!0,this.model?(this.tempModel=this.model.clone(),this.tempModel.collection=this.model.collection):this.tempModel=new g.Z({},{server:this.server,collection:this.server.get("sections")}),this.listenTo(this.tempModel,"change:type",this.onSectionTypeChange),this.tempModel.isNew()&&e.seedAttrs&&this.tempModel.set(this.tempModel.parse(e.seedAttrs)),this._deferred=r().Deferred(),this.promise=this._deferred.promise();const t=this.server.get("providers");t.populate().done(this.whenRendered((()=>{const n=t.get(Z.Y3).get("features").get(b.Z.MANAGE).get("automaticLibraryFolders");this.showFolders=!n,this.isLoading=!1,this.render(),this.showPane(e.selectedPane||"type")})))},serializeData:function(){const e=this.tempModel,t=e.isNew(),n=e&&(0,C.U)("Edit {1}",e.get("title"));return{isLoading:this.isLoading,add:t,edit:!t,paneTitle:n,section:null==e?void 0:e.toJSON(),selectedPane:this.selectedPane,showFolders:this.showFolders}},updateMessage:function(e){this.ui.message.text(e||"")},updateSaveBtn:function(){const e=this.ui.saveBtn,t=this.panes[this.selectedPane],n=o().bind((function(n){const i=t.nextPane,r=this.tempModel.isNew(),s=!t.constructor.prototype.validate||0===t.constructor.prototype.validate(this.tempModel).length,o=!this.getReachablePanes().isAnyInvalid,a=this.tempModel.get("isCollectionsPopulated");let l;this.ui.optionsBtn.toggleClass("hidden",!n.showOptions);const c=a&&(o||r&&s);l=i,n.showOptions||"options"!==i||(l=!1),o&&(l=!1),n.showOptions&&"options"===i&&(l=!0),n.showAdvanced&&"advanced"===i&&(l=!0),this.tempModel.isNew()&&"folders"===i&&(l=!0),e.toggleClass("save",!l),e.toggleClass("next",!!l),e.toggleClass("disabled",!c)}),this),i=this.tempModel.server,r=this.tempModel.sectionType,s=r&&"music"===r.key&&i.supports("premiumMusic"),a=this.tempModel.isNew();s?this.paneRegion.currentView.populateAgents().then((function(e){const t=e.findWhere({identifier:v.zR}),i=a&&t;n({showOptions:i,showAdvanced:i})})):n({})},updateSectionTitle:function(){const e=x.ZP.get(this.tempModel.get("type"));if(e){this.updateSectionTitleDestabilized();const t=o().escape(e.title);this.ui.headerSectionType.html(t)}},updateSectionTitleDestabilized:function(){this.ui.headerSectionType.addClass("section-type-title-unstable"),this.ui.headerSectionType.triggerReflow(),this.ui.headerSectionType.removeClass("section-type-title-unstable")},save:function(){const e=this.ui.saveBtn;this.updateMessage(""),e.addClass("active");const t=this.saveModel();t.always((function(){e.removeClass("active")})),t.fail(o().bind((function(e){503===e.status?S.Z.trigger("show:modal",new gt.Z({model:this.server})):this.updateMessage((0,C.Z)("Your changes could not be saved."))}),this)),t.then(o().bind((function(){const e=this.model.server.entityID(),t=(0,a.DB)("appStore").dispatch;if(t((0,f.lm)({serverEntityID:e})),t((0,f.tU)({serverEntityID:e})),!this.redirect)return this._deferred.resolve(),void this.hide();const n={machineIdentifier:this.model.server.get("machineIdentifier"),isCloud:this.model.server.get("isCloud")},i={identifier:Z.Y3,isLibraryProvider:!0},r={id:this.model.id},s=this.model.get("type"),o={};o.pivot=(0,I.Z)(this.model.server.get("version"),m.Z.pivotIDs)?"library":(0,w.Z)(this.model.id,s),s===A.R0&&(o.key=E.Z.join(["/library/sections",this.model.id,"all"],{type:(0,A.nW)(A.c5).id,sort:"addedAt:desc"}));const l=(0,mt.Z)(n,i,r,o);window.location.hash=l,this._deferred.resolve(),this.hide()}),this))},saveModel:function(){const e=this.getSectionSettingsParams(),t=e?{data:{prefs:e}}:{};let n;return this.tempModel.isNew()?(n=this.tempModel.save(null,t),n=n.then(o().bind((function(t,n,i){let r=M.Z.parseXML(t);if(201!==i.status)return;if(r.Directory&&(r=r.Directory),!r.key){const e=i.getResponseHeader("Location");e&&(r.key=e.substring(e.lastIndexOf("/")+1))}const s=this.server;s.supports("advancedFilters")&&(r.filters=!0),this.model=new g.Z(r,{parse:!0,server:s}),s.get("sections").add(this.model);const o=null==e?void 0:e.hidden,l="string"==typeof o?parseInt(o,10):null;if(1!==l&&2!==l){const e=s.get("providers").get(Z.Y3),t=e?(0,D.Z)(e.toJSON(),this.model.toJSON()):null,n=t?t.key:null;e&&n&&(0,a.DB)("appStore").dispatch((0,y.W1)({sources:[{key:(0,P.Z)(n,s.get("machineIdentifier"),e.get("identifier"),r.key),sourceType:n,serverEntityID:s.entityID(),machineIdentifier:s.get("machineIdentifier"),providerEntityID:e.entityID(),providerIdentifier:e.get("identifier"),providerMetricsIdentifier:e.get("metricsIdentifier"),directoryID:r.key,directoryIcon:null,title:this.model.get("title"),serverFriendlyName:s.get("friendlyName"),serverSourceTitle:s.get("sourceTitle"),isLocal:s.get("isPrivateConnection"),isUnavailable:!1,isOutOfDate:!1,isUnclaimedServer:!s.get("isClaimed"),isFullOwnedServer:s.get("isFullOwnedServer"),isProviderReady:!0}],interaction:!1}))}return i}),this))):(this.model.copy(this.tempModel),n=this.model.save(null,t)),n=n.then(o().bind(this.saveAgentSettings,this)),n},saveSettings:function(e){const t=r().Deferred().resolve(this.model).promise();if(!this.server.supports("sectionSettings"))return t;if(!e)return t;const n=E.Z.join(["/library/sections/",this.model.id,"/prefs"],e),i=o().extend(this.server.getXHROptions(n),{type:"PUT"});return r().ajax(i).promise().then((function(){return t}))},saveAgentSettings:function(){const e=r().Deferred().resolve(this.model).promise(),t=this.tempModel.agentSettings;if(!this.tempModel.agentSettings)return e;const n=this.getSettingsChanges(t);if(o().isEmpty(n))return e;const i=t.first(),s=i.getSaveParams(n),a=o().result(t,"url"),l=E.Z.join([a,"/set"],s),c=i.server.getXHROptions(l);return r().ajax(c).promise().then((function(){return e}))},getSectionSettingsParams:function(){const e=this.tempModel.settings;if(!e)return;const t=this.getSettingsChanges(e);return o().isEmpty(t)?void 0:e.first().getSaveParams(t)},getSettingsChanges:function(e){return e.filter((function(e){return e.changedAttributes()})).reduce((function(e,t){let n=t.get("value");return"bool"===t.get("type")&&(n=n?"1":"0"),e[t.get("id")]=n,e}),{})},onPaneShow:function(e,t){this.listenTo(t,"valid",this.updateSaveBtn),this.listenTo(t,"invalid",this.updateSaveBtn),this.updateSaveBtn()},onPaneHide:function(e,t){this.stopListening(t,"valid",this.updateSaveBtn),this.stopListening(t,"invalid",this.updateSaveBtn)},onChangePaneClick:function(e){e.preventDefault();const t=this.$(e.currentTarget);t.isDisabled()||this.showPane(t.data("pane"))},onSaveClick:function(e){e.preventDefault();const t=this.ui.saveBtn;if(!t.isDisabled())if(t.hasClass("next")){let e=this.panes[this.selectedPane].nextPane;"folders"!==e||this.showFolders||(e=this.ui.sidebar.find(".options-btn").isDisabled()?"advanced":"options"),e&&!this.ui.sidebar.find("."+e+"-btn").isDisabled()&&this.showPane(e)}else this.save()},onGeneralFormSubmit:function(e){this.onSaveClick(e)},onSectionTypeChange:function(){this.updateSaveBtn()}})},5027:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(13469),r=n.n(i),s=n(4141),o=n(98759),a=n(7496),l=n(85115),c=n.n(l);const d=o.Z.extend({name:"libraryFailureModal",className:"confirm-modal modal modal-sm fade",template:c(),events:r().extend({"click .confirm-btn":"hide"},o.Z.prototype.events),serializeData(){return{isSignedIn:this.model.get("myPlexSigninState")===s.Hq,hasPlexSubscription:this.model.get("myPlexSubscription"),serverSettingsRoute:(0,a.Z)("settings","general")}}})},73069:(e,t,n)=>{"use strict";n.d(t,{Z:()=>J});var i=n(19755),r=n.n(i),s=n(64373),o=n(86512),a=n(30944),l=n(13469),c=n.n(l),d=n(68918),u=n(60964);const h=d.Z.extend({idAttribute:"title",whitelistedAttrs:["title","selected"],convert:function(e){const t=c().isObject(e)?e:u.Z.parseXML(e);return u.Z.parseBoolean(t,"selected"),t},parse:function(e){let t=this.convert(e);return t=c().pick(t,this.whitelistedAttrs),t}});var p=n(57840);const g=a.Z.extend({model:h,url:"/clients/profiles?type="+p.Z.LOCAL,parse:function(e){return this.convert(e,"Profile")}}),m=d.Z.extend({name:"VersionTargetModel",whitelistedAttrs:["id","tag","tagType","MediaSettings","Device"],convert:function(e){const t=c().isObject(e)?e:u.Z.parseXML(e);return u.Z.parseInteger(t,"id"),t},parse:function(e){let t=this.convert(e);return t=c().pick(t,this.whitelistedAttrs),t}}),f=a.Z.extend({model:m,url:"/library/tags?type="+p.Z.LOCAL,comparator:function(e){return e.get("MediaSettings").maxVideoBitrate},parse:function(e){return this.convert(e,"Tag")}});var y=n(98759),v=n(57076),b=n(62196),Z=n.n(b);const S=v.Z.ItemView.extend({className:"modal-body",template:Z(),events:{"click .try-again-link":"onTryAgainClick"},serializeData:function(){return{status:this.options.status}},onTryAgainClick:function(e){e.preventDefault(),this.triggerMethod("request:state","loading")}});var I=n(96576),M=n(51394),w=n(42751),P=n(21451),C=n(41120),D=n(21235),A=n(25213),x=n.n(A);const E=v.Z.ItemView.extend({className:"convert-location-container form-group",template:x(),events:{"change select[name=storageLocation]":"onLocationChange"},serializeData:function(){var e;return{disableLocation:!this.model.isNew(),selectedLocationID:this.model.get("locationID"),locations:null==(e=this.model.section)?void 0:e.get("locations").toJSON()}},onLocationChange:function(e){this.model.set("locationID",parseInt(e.currentTarget.value,10))}});var T=n(94377),j=n(50958),N=n(41933),O=n.n(N);const k=v.Z.ItemView.extend({className:"convert-policy-container",template:O(),ui:{policyUnwatchedInput:"#convert-policy-unwatched",policyScopeInput:"#convert-policy-scope",policyValueInput:"#convert-policy-value",policyWarning:".convert-warning"},events:{"change input[name=policyUnwatched]":"onPolicyUnwatchedChange","change input[name=policyScope]":"onPolicyScopeChange","keyup input[name=policyValue]":"onPolicyValueChange","change input[name=policyValue]":"onPolicyValueChange"},initialize:function(){this.type=(0,j.nW)(this.model.get("metadataType")||"movie"),this.leafMediaType=(0,j.A_)(this.type.typeString).mediaType,this.model.setPolicyDefaultsFor(this.leafMediaType)},serializeData:function(){const e={isSync:this.options.isSync,isDirectory:this.model.get("isDirectory"),policy:this.model.get("policy").toJSON()};return e.showLimitWarning=this.model.shouldShowPolicyWarning(this.leafMediaType,e.policy.value),e.showUnwatched=e.isDirectory&&this.leafMediaType===T.pX,e},updatePolicyValue:function(){const e=this.model.get("policy");let t=Math.abs(parseInt(this.ui.policyValueInput.val(),10));this.ui.policyValueInput.val(c().isNaN(t)?"":t),c().isNaN(t)&&(t=0),e.set("value","all"===e.scope?null:t);const n=this.model.shouldShowPolicyWarning(this.leafMediaType,t);this.ui.policyWarning.toggleClass("hidden",!n)},onPolicyUnwatchedChange:function(){this.model.get("policy").set("unwatched",this.ui.policyUnwatchedInput.prop("checked"))},onPolicyScopeChange:function(){const e=this.model.get("policy"),t=this.ui.policyScopeInput.prop("checked")?this.ui.policyScopeInput.val():"all";e.set("scope",t),this.updatePolicyValue()},onPolicyValueChange:function(){this.updatePolicyValue()}});var L=n(29045),R=n(88531),z=n.n(R);const V=v.Z.ItemView.extend({className:"convert-target-container form-group",template:z(),ui:{targetTitleInput:".convert-target-title"},events:{"change select[name=target]":"onTargetChange","keydown input[name=targetTitle]":"onTitleKeyDown","change input[name=targetTitle]":"onTitleChange","change select[name=targetProfile]":"onProfileChange","change select[name=targetQuality]":"onQualityChange"},initialize:function(e){this.targets=e.targets,this.profiles=e.profiles;const t=this.model.get("Device").profile;this.selectedProfile=t?this.profiles.get(t):this.profiles.findWhere({selected:!0}),this.availableCustomQualities=L.Z.getAvailableQualities({lowestQualityIndex:2}).reverse();const n=this.model.get("mediaSettings").get("maxVideoBitrate");if(n){const e=L.Z.getNearestIndexToBitrate(n);this.selectedCustomQuality=L.Z.getQualityByIndex(e)}else this.selectedCustomQuality=c().first(this.availableCustomQualities);this.model.isNew()||this.model.get("targetTagID")||this.$el.addClass("show-custom-target")},serializeData:function(){return{item:this.model.toJSON(),targets:this.targets.toJSON(),disableTarget:!this.model.isNew(),profiles:this.profiles.toJSON(),selectedProfile:this.selectedProfile.toJSON(),availableCustomQualities:this.availableCustomQualities,selectedCustomQuality:this.selectedCustomQuality}},updateDeviceProfile:function(){this.model.get("Device").profile=this.selectedProfile.get("title")},updateMediaSettings:function(e){this.model.get("mediaSettings").set({videoQuality:e.videoQuality,videoResolution:e.videoResolution,maxVideoBitrate:e.bitrate})},onTargetChange:function(e){const t=parseInt(e.currentTarget.value,10);t>-1?(this.model.unset("target"),this.model.set({targetTagID:t,Device:{}}),this.model.get("mediaSettings").restoreDefaults()):(this.model.set("target",this.ui.targetTitleInput.val()),this.model.unset("targetTagID"),this.updateDeviceProfile(this.selectedProfile),this.updateMediaSettings(this.selectedCustomQuality)),this.$el.toggleClass("show-custom-target",-1===t)},onTitleKeyDown:function(e){190===e.which&&0===e.currentTarget.selectionStart&&e.preventDefault()},onTitleChange:function(e){this.model.set("target",e.currentTarget.value)},onProfileChange:function(e){this.selectedProfile=this.profiles.findWhere({title:e.currentTarget.value}),this.updateDeviceProfile(this.selectedProfile)},onQualityChange:function(e){const t=parseInt(e.currentTarget.value,10);this.selectedCustomQuality=L.Z.getQualityByIndex(t),this.updateMediaSettings(this.selectedCustomQuality)}});var _=n(94160),U=n.n(_);const B=v.Z.Layout.extend({template:U(),ui:{submitBtn:".submit-btn"},regions:{policyRegion:".policy-region",targetsRegion:".targets-region",locationRegion:".location-region"},events:{"change input[name=title]":"onTitleChange","submit #convert-form":"onSubmit"},initialize:function(e){if(this.playlist=e.playlist,this.targets=e.targets,this.profiles=e.profiles,this.model){this.tempModel=this.model.clone();const e=this.model.get("Location").librarySectionID;if(e){const t=new M.Z({key:e},{server:this.model.server,onlyIfCached:!0});c().isEmpty(t)||(this.tempModel.section=t)}}else{const t=e.item,n=e.items,i=t.has("childrenKey")?new w.Z({containerKey:t.get("childrenKey")},{server:t.server,provider:t.provider}):t,r=t.server;let s;if(t.get("isSection"))s=t;else{const e=(0,C.Z)(t);c().isEmpty(e)||(s=e)}this.tempModel=new I.Z({title:P.Z.title(t,{items:n}),targetTagID:this.targets.first().id,Location:{uri:P.Z.uri(i,{items:n})}},{server:r,section:s})}},serializeData:function(){return{conversionItem:this.tempModel.toJSON(),isNew:this.tempModel.isNew(),showRemuxOnlyWarning:this.tempModel.server.get("transcoderVideoRemuxOnly")}},onRender:function(){this.policyRegion.show(new k({model:this.tempModel,isSync:!1})),this.targetsRegion.show(new V({model:this.tempModel,targets:this.targets,profiles:this.profiles})),this.locationRegion.show(new E({model:this.tempModel}))},onTitleChange:function(e){this.tempModel.set("title",e.currentTarget.value)},onSubmit:function(e){e.preventDefault();const t=this.ui.submitBtn;if(t.hasClass("active"))return;if(t.addClass("active"),!this.tempModel.get("targetTagID")&&!this.tempModel.get("target")){const e=this.tempModel.get("Device");this.tempModel.set("target",(0,D.Z)("Custom: {1}",e.profile))}const n=this.playlist.addContent(this.tempModel);n.done(this.whenRendered((function(){if(this.model){const e=c().omit(this.tempModel.toJSON(),"children");this.model.set(this.model.parse(e))}this.trigger("request:nextState")}))),n.fail(this.whenRendered((function(e){const t=e.responseText,n=u.Z.parseXML(t),i=null==n?void 0:n.status;this.trigger("request:state","error",i)})))}});var F=n(82973),H=n.n(F);const W=v.Z.ItemView.extend({className:"modal-body loading-container",template:H()});var Y=n(91986),G=n(14889),q=n.n(G);const Q=v.Z.ItemView.extend({className:"modal-body",template:q(),events:{"click .status-link":"onStatusClick"},onStatusClick:function(e){e.preventDefault(),this.triggerMethod("request:nextState"),(0,Y.Z)("serverSettings",{machineIdentifier:this.options.server.id,settingsSection:"status",settingsGroup:"conversion"})}});var K=n(60704),$=n.n(K);const J=y.Z.extend({mixins:[s.Z],name:"convertModal",className:"convert-modal modal fade",template:$(),regions:{bodyRegion:".modal-body-region"},initialize:function(e){y.Z.prototype.initialize.apply(this,arguments),this.server=this.model?this.model.server:e.item.server;const t={server:this.server,allowInCache:!0};this.playlists=new o.Z([],t),this.targets=new f([],t),this.profiles=new g([],t)},initialState:"loading",states:{loading:{nextState:"form",onEnter:function(){this.bodyRegion.show(new W),this.listenForStateRequests();const e=this.options.item,t=e&&!e.get("isMetadataList"),n=r().when(t?e.populate():null,this.playlists.populate(),this.targets.populate(),this.profiles.populate(),this.server.get("sections").populate());n.done(this.whenRendered((function(){this.playlist=this.playlists.first(),this.playlist?this.enterNextState():this.enterState("error")}))),n.fail(this.whenRendered((function(){this.enterState("error")})))}},form:{nextState:"success",onEnter:function(){this.bodyRegion.show(new B({model:this.model,item:this.options.item,items:this.options.items,playlist:this.playlist,targets:this.targets,profiles:this.profiles})),this.listenForStateRequests()}},success:{onEnter:function(){this.model?this.hide():(this.bodyRegion.show(new Q({server:this.server})),this.listenForStateRequests())}},error:{onEnter:function(e){this.bodyRegion.show(new S({status:e})),this.listenForStateRequests()}}},listenForStateRequests:function(){var e;(null==(e=this.bodyRegion)?void 0:e.currentView)&&this.listenTo(this.bodyRegion.currentView,{"request:state":this.enterState,"request:nextState":this.enterNextState})},onRender:function(){y.Z.prototype.onRender.apply(this,arguments),this.enterNextState()},onStateMachineComplete:function(){this.hide()}})},88936:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(67294);class r extends i.Component{componentDidMount(){const e=this.props.view;this._view=new e(this.props.viewOptions),this._view.render(),this._el.appendChild(this._view.el),this._view.triggerMethod("show")}shouldComponentUpdate(){return!1}componentWillUnmount(){this._view.close&&this._view.close()}render(){return i.createElement("div",{ref:e=>this._el=e,className:this.props.className})}}const s=r},2992:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var i=n(28216),r=n(22222),s=n(25655),o=n(66307),a=n(24533),l=n(30271),c=n(67294),d=n(5977),u=n(7567),h=n(75130),p=n(43473),g=n(46935),m=n(44738),f=n(87830);function y(e){const{children:t,isWaitingForServers:n,isAnyServerAuthenticated:i,isWaitingForCloudServer:r,isCloudServerUnauthorized:s,isCloudServerConnected:o,isCloudServerUnavailable:a,isCloudServerDownForMaintenance:l,hasAttemptedSignIn:y,isUserFeaturesPopulated:v,isUserFeaturesError:b,onPopulateUserFeatures:Z}=e,S=(0,d.k6)(),[I,M]=(0,c.useState)(b||v),w=y||a,P=w&&o,C=v||b||I||a,D=!n&&!i&&!l&&!a&&w||s;if((0,c.useEffect)((()=>{if(P){const e=window.setTimeout((()=>M(!0)),5e3);return()=>window.clearTimeout(e)}}),[P]),(0,c.useEffect)((()=>{P&&Z()}),[P,Z]),(0,f.Z)((()=>{S.push(p.Z.login)}),D),i&&C&&w&&o)return t;if(!r&&!n&&!i){if(l)return c.createElement(g.Z,null);if(a)return c.createElement(m.Z,null)}return c.createElement(u.Z,null,c.createElement(h.Z,null))}y.defaultProps={isAccountRequired:!1};const v=y,b=(0,r.P1)((e=>e.downloads),(e=>!!e&&!e.isSubscriptionsPopulated&&!e.subscriptionsError)),Z=(0,r.P1)((e=>e.downloads),(e=>!!(e&&e.subscriptions&&e.subscriptions.length>0))),S=(0,r.P1)(a.Z,(e=>e.some((e=>e.isCloud&&e.isResolved||!e.isCloud&&e.isConnected)))),I=(0,r.P1)((e=>e.isWaitingForServers),b,S,Z,l.Z,o.Z,((e,t,n,i,r,s)=>({isWaitingForServers:e||t,isAnyServerAuthenticated:n||i,isWaitingForCloudServer:!s.isResolved&&!s.isRejected,isCloudServerUnauthorized:s.isUnauthorized,isCloudServerConnected:s.isConnected,isCloudServerUnavailable:s.isUnavailable,isCloudServerDownForMaintenance:s.isDownForMaintenance,hasAttemptedSignIn:r.hasAttemptedSignIn,isUserFeaturesPopulated:r.isFeaturesPopulated,isUserFeaturesError:!!r.featuresError}))),M={onPopulateUserFeatures:s.$Q},w=(0,i.$j)(I,M)(v)},12273:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(94184),r=n.n(i),s=n(82777),o=n(67294),a=n(33237);const l={circularProgressBarContainer:"fifdd",absoluteCenterCircularProgressBarContainer:"PA8DX",circularProgressBar:"clDAn",circularProgressBarBackground:"gKSWm",circularProgressBarText:"vgbPn",indeterminate:"YIX_3 m_4Rc"},c=function(e){const{className:t=l.circularProgressBar,containerClassName:n=l.circularProgressBarContainer,backgroundClassName:i=l.circularProgressBarBackground,textClassName:c=l.circularProgressBarText,size:d=60,lineWidth:u=5,strokeColor:h=a.Z.primaryColor,trackColor:p,progress:g,progressText:m=`${Math.round(g)}%`,easing:f="easeOut",showProgressText:y=!0,showIndeterminate:v,smoothProgressDuration:b=1e3}=e,Z=b/1e3,S=v?50:g,I=v?null:m,M=d/2,w=M-u,P=Math.PI*(2*w),C=d+"px",D=d-3*u+"px",A=(100-S)/100*P;return o.createElement("div",{className:n,style:{width:C,height:C,lineHeight:C}},o.createElement("svg",{className:r()(t,v&&l.indeterminate),height:d,version:"1.1",width:d,xmlns:"http://www.w3.org/2000/svg"},p?o.createElement("circle",{cx:M,cy:M,fill:"transparent",r:w,style:{strokeWidth:u,stroke:p}}):null,o.createElement(s.ww.circle,{animate:{strokeDashoffset:A},cx:M,cy:M,fill:"transparent",initial:!0,r:w,strokeDasharray:P,strokeDashoffset:A,style:{strokeWidth:u,stroke:h},transition:{duration:Z,ease:f}})),o.createElement("div",{className:i,style:{width:D,height:D}}),y&&I?o.createElement("div",{className:c},I):null)}},66977:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(67294),r=n(21235),s=n(17035),o=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};function h(e){return i.createElement(s.Z,u(u({},e),{loadingLabel:(0,r.Z)("Loading")}))}h.propTypes=s.Z.propTypes,h.defaultProps=s.Z.defaultProps;const p=h},59963:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(67294),r=(n(14710),n(95180)),s=Object.defineProperty,o=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&c(e,n,t[n]);if(a)for(var n of a(t))l.call(t,n)&&c(e,n,t[n]);return e},u=(e,t)=>{var n={};for(var i in e)o.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&a)for(var i of a(e))t.indexOf(i)<0&&l.call(e,i)&&(n[i]=e[i]);return n};const h=function(e){const{className:t,component:n="span",childrenPropName:s="children",tags:o,message:a}=e;let l=[a],c=o.length-1,h=0;for(;c>=0;){const e=o[c],{open:t,close:n,unpaired:s,children:a,component:p,childrenPropName:g}=e,m=u(e,["open","close","unpaired","children","component","childrenPropName"]),f=t?new RegExp("(^.*)"+(0,r.Z)(`{${t}}`)+"(.*)"+(0,r.Z)(`{${n}}`)+"(.*$)"):new RegExp("(^.*)"+(0,r.Z)(`{${s}}`)+"()(.*$)"),y=[];for(let e=l.length-1;e>=0;e--){const t=l[e];if("string"!=typeof t)y.unshift(t);else{const e=t.match(f);if(e){const[,t,n,r]=e;p?y.unshift(t,i.createElement(p,d(d({key:h},m),{[g||"children"]:n})),r):y.unshift(t,a,r),h+=1}else y.unshift(t)}}y.length===l.length?c-=1:l=y}return i.createElement(n,d({className:t},{[s]:l}))}},27477:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(94184),r=n.n(i),s=n(67294),o=n(45223),a=n(98385),l=n(55349);const c={disclosureArrow:"LzfC_",default:"Zp7Wt",primary:"hEq49",success:"Uf8bA",danger:"qkqy_",small:"oRMRS",up:"J_usl",right:"V8mDn",medium:"LGKVq",large:"s6uc8",down:"AHqoK J_usl",left:"qt2wI V8mDn",isSelected:"ymHLz"};function d({className:e,kind:t,size:n,direction:i,isSelected:o}){return s.createElement("span",{className:r()(e,c[i],c[t],c[n],o&&c.isSelected)})}d.defaultProps={className:c.disclosureArrow,direction:o.WV,kind:a.TP,size:l.M2,isSelected:!1};const u=d},98602:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(67294),r=n(73935),s=n(15016),o=(n(14710),n(62503)),a=n(74646),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&h(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&h(e,n,t[n]);return e};class g extends i.Component{constructor(e,t){super(e,t),this.onOpen=()=>{var e,t;this._open(),null==(t=(e=this.props).onOpen)||t.call(e)},this.onClose=()=>{var e,t;this._close(),null==(t=(e=this.props).onClose)||t.call(e)},this._ref=e.forwardedRef||i.createRef(),this._popper=null}shouldComponentUpdate(e,t){return(0,a.Z)(this,e,t)}componentDidUpdate(e){this._popper&&this._popper.update()}componentWillUnmount(){this._close()}_open(){const{target:e,options:t}=this.props,n=document.getElementById(e)||document.getElementsByName(e)[0];this._popper=(0,s.fi)(n,r.findDOMNode(this._ref.current),t),this._popper.update()}_close(){this._popper&&(this._popper.destroy(),this._popper=null)}render(){return i.createElement(o.Z,p(p({},this.props),{ref:this._ref,onClose:this.onClose,onOpen:this.onOpen}))}}g.defaultProps={options:{placement:"bottom-start"}};const m=i.forwardRef(((e,t)=>i.createElement(g,p(p({},e),{forwardedRef:t}))))},62503:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(67294),r=n(73935),s=Object.defineProperty,o=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&c(e,n,t[n]);if(a)for(var n of a(t))l.call(t,n)&&c(e,n,t[n]);return e};class u extends i.Component{constructor(e,t){super(e,t),this.onCloseTimeout=()=>{this._closeTimeoutID=null,this.setState({shouldPreventPortalClose:!1},(()=>{this.props.onClose&&this.props.onClose()}))},this.onInteractionEvent=e=>{this.props.allowInteractionEventBubbling||e.stopPropagation()},this.state={isOpen:e.isOpen,shouldPreventPortalClose:!1}}static getDerivedStateFromProps(e,t){return e.isOpen===t.isOpen?null:{isOpen:e.isOpen,shouldPreventPortalClose:e.closeTimeoutMilliseconds&&!e.isOpen&&t.isOpen}}componentDidMount(){this.props.onOpen&&this.props.isOpen&&this.props.onOpen()}componentDidUpdate(e,t){!this.state.shouldPreventPortalClose&&t.shouldPreventPortalClose&&(this._closeTimeoutID=window.clearTimeout(this._closeTimeoutID)),this.state.shouldPreventPortalClose&&!t.shouldPreventPortalClose&&(this._closeTimeoutID=window.setTimeout(this.onCloseTimeout,this.props.closeTimeoutMilliseconds)),this.props.onOpen&&this.props.isOpen&&!e.isOpen&&this.props.onOpen()}componentWillUnmount(){this._closeTimeoutID&&window.clearTimeout(this._closeTimeoutID)}render(){const{className:e,style:t,children:n,forwardedRef:s}=this.props,{isOpen:o,shouldPreventPortalClose:a}=this.state;return o||a?r.createPortal(i.createElement("div",{ref:s,className:e,style:t,onBlur:this.onInteractionEvent,onClick:this.onInteractionEvent,onFocus:this.onInteractionEvent,onMouseDown:this.onInteractionEvent,onMouseUp:this.onInteractionEvent,onTouchCancel:this.onInteractionEvent,onTouchEnd:this.onInteractionEvent,onTouchMove:this.onInteractionEvent,onTouchStart:this.onInteractionEvent},n),document.body):null}}u.defaultProps={isOpen:!0,closeTimeoutMilliseconds:0,allowInteractionEventBubbling:!1};const h=i.forwardRef(((e,t)=>i.createElement(u,d(d({},e),{forwardedRef:t}))))},20725:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var i=n(94184),r=n.n(i),s=n(82777),o=n(67294),a=n(53311),l=n(74646);const c={scroller:"aoByP",none:"wyI3C",vertical:"RXkcY",auto:"SYUm8",horizontal:"WuPH1",omni:"SisGX",compactScroller:"EekQO"};var d=Object.defineProperty,u=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&g(e,n,t[n]);if(h)for(var n of h(t))p.call(t,n)&&g(e,n,t[n]);return e};class f extends o.Component{constructor(e,t){super(e,t),this.onScroll=e=>{if(e.target!==this._scrollerRef.current)return;const t=e.target.scrollTop,n=e.target.scrollLeft,i=t!==this._currentScrollTop,r=n!==this._currentScrollLeft;(i||r)&&this._setScrollPosition({scrollTop:t,scrollLeft:n}),this.props.onScroll&&this.props.onScroll(e)},this.onScrollPositionChange=()=>{this._animationFrameID=null,this.props.onScrollPositionChange({scrollTop:this._currentScrollTop,scrollLeft:this._currentScrollLeft})},this.onScrollTimeout=()=>{this.setState({isScrolling:!1})},this.onScrollTopUpdate=e=>{this._updateScrollPosition({scrollTop:e}),this.props.onScrollToUpdate&&this.props.onScrollToUpdate({scrollTop:e})},this.onScrollTopComplete=()=>{this._scrollTopTween=null,this.props.onScrollToComplete&&this.props.onScrollToComplete()},this.onScrollLeftUpdate=e=>{this._updateScrollPosition({scrollLeft:e}),this.props.onScrollToUpdate&&this.props.onScrollToUpdate({scrollLeft:e})},this.onScrollLeftComplete=()=>{this._scrollLeftTween=null,this.props.onScrollToComplete&&this.props.onScrollToComplete()},this.state={isScrolling:!1},this._scrollerRef=e.forwardedRef||o.createRef(),this._currentScrollTop=0,this._currentScrollLeft=0}componentDidMount(){this._scrollTo(this.props)}UNSAFE_componentWillReceiveProps(e){e.scrollTop===this.props.scrollTop&&e.scrollLeft===this.props.scrollLeft||this.setState({isScrolling:!0})}shouldComponentUpdate(e,t){return(0,l.Z)(this,e,t)}componentDidUpdate(e){this.state.isScrolling&&(this._scrollTimeoutID&&window.clearTimeout(this._scrollTimeoutID),this._scrollTimeoutID=window.setTimeout(this.onScrollTimeout,this.props.isScrollingTimeout)),this._scrollTo(this.props)}componentWillUnmount(){this._clearTimeouts(),this._cancelScrollTo()}_setScrollPosition({scrollTop:e,scrollLeft:t}){this._clearTimeouts(),this._currentScrollTop=e,this._currentScrollLeft=t,this._animationFrameID=window.requestAnimationFrame(this.onScrollPositionChange)}_updateScrollPosition({scrollTop:e,scrollLeft:t}){const n=this._scrollerRef.current;null!=e&&(n.scrollTop=e),null!=t&&(n.scrollLeft=t)}_scrollTo({scrollTop:e,scrollLeft:t}){if(null==e&&null==t)return;const n=null!=e&&e!==this._currentScrollTop,i=null!=t&&t!==this._currentScrollLeft;if(!n&&!i)return;if(!this.props.smoothScroll&&!this.props.restoreScroll)return this._currentScrollTop=e,this._currentScrollLeft=t,void this._updateScrollPosition({scrollTop:e,scrollLeft:t});const r=this.props.smoothScrollDuration/1e3;this._scrollToPosition={};const o=this._scrollerRef.current;if(this._cancelScrollTo(),n){const t=Math.min(e,o.scrollHeight-o.clientHeight);this._scrollToPosition.scrollTop=o.scrollTop,this._scrollTopTween=(0,s.jt)(o.scrollTop,t,{type:"tween",duration:r,onUpdate:this.onScrollTopUpdate,onComplete:this.onScrollTopComplete})}if(i){const e=Math.min(t,o.scrollWidth-o.clientWidth);this._scrollToPosition.scrollLeft=o.scrollLeft,this._scrollLeftTween=(0,s.jt)(o.scrollLeft,e,{type:"tween",duration:r,onUpdate:this.onScrollLeftUpdate,onComplete:this.onScrollLeftComplete})}}_cancelScrollTo(){this._scrollTopTween&&(this._scrollTopTween.stop(),this._scrollTopTween=null),this._scrollLeftTween&&(this._scrollLeftTween.stop(),this._scrollLeftTween=null)}_clearTimeouts(){this._animationFrameID&&window.cancelAnimationFrame(this._animationFrameID),this._scrollTimeoutID&&window.clearTimeout(this._scrollTimeoutID)}render(){const e=this.props,{className:t,children:n,scrollDirection:i,autoScroll:s,compactScroller:a,enableChildrenProps:l,onScroll:d,onScrollPositionChange:g,forwardedRef:f,smoothScroll:y,restoreScroll:v,smoothScrollDuration:b,scrollTop:Z,scrollLeft:S,isScrollingTimeout:I,onScrollToUpdate:M,onScrollToComplete:w}=e,P=((e,t)=>{var n={};for(var i in e)u.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&h)for(var i of h(e))t.indexOf(i)<0&&p.call(e,i)&&(n[i]=e[i]);return n})(e,["className","children","scrollDirection","autoScroll","compactScroller","enableChildrenProps","onScroll","onScrollPositionChange","forwardedRef","smoothScroll","restoreScroll","smoothScrollDuration","scrollTop","scrollLeft","isScrollingTimeout","onScrollToUpdate","onScrollToComplete"]);return o.createElement("div",m({ref:this._scrollerRef,className:r()(t,c.scroller,c[i],s&&c.auto,a&&c.compactScroller),onScroll:g?this.onScroll:d},P),l?function(e,t,n){let i=0;return o.Children.map(e,(e=>{if(o.isValidElement(e)){const n=i;return i++,t.call(undefined,e,n)}return e}))}(n,(e=>o.cloneElement(e,{isScrolling:this.state.isScrolling,scrollTop:this._currentScrollTop,scrollLeft:this._currentScrollLeft}))):n)}}f.defaultProps={scrollDirection:a.yZ,autoScroll:!1,smoothScroll:!0,restoreScroll:!1,smoothScrollDuration:400,enableChildrenProps:!1,isScrollingTimeout:100};const y=o.forwardRef(((e,t)=>o.createElement(f,m(m({},e),{forwardedRef:t}))))},17035:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(94184),r=n.n(i),s=n(67294),o=n(55349),a=n(80772);const l={spinner:"dHO6j m_4Rc",spinnerContainer:"iSU8J",spinnerLabel:"iOyIg",small:"HM5yP dHO6j m_4Rc",medium:"rjY6J dHO6j m_4Rc",large:"ckZ9X dHO6j m_4Rc"};function c({className:e,containerClassName:t,labelClassName:n,size:i,color:o,label:a,loadingLabel:c}){const d=r()(e,l[i]),u={borderTopColor:o,borderLeftColor:o};return a?s.createElement("div",{className:r()(t,l.spinnerContainer)},s.createElement("div",{className:d,style:u}),s.createElement("div",{className:r()(n,l.spinnerLabel)},a)):s.createElement("div",{"aria-label":c,className:d,style:u})}c.defaultProps={size:o.M2,color:a.Z.primaryColor};const d=c},84020:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(94184),r=n.n(i),s=n(67294),o=n(98385),a=n(55349),l=n(44838);const c={button:"r2dcz x5jRQ",default:"JAqpM",primary:"czPbW",success:"R5b41",danger:"H1CLA",dark:"H4O1a",small:"ehPXv",medium:"okUEB",large:"OMhm8"};var d=Object.defineProperty,u=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const m=function(e){var t=e,{className:n,children:i,kind:d=o.TP,size:m=a.M2}=t,f=((e,t)=>{var n={};for(var i in e)u.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&h)for(var i of h(e))t.indexOf(i)<0&&p.call(e,i)&&(n[i]=e[i]);return n})(t,["className","children","kind","size"]);return s.createElement(l.Z,((e,t)=>{for(var n in t||(t={}))u.call(t,n)&&g(e,n,t[n]);if(h)for(var n of h(t))p.call(t,n)&&g(e,n,t[n]);return e})({className:r()(n,c.button,d&&c[d],m&&c[m])},f),i)}},37018:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var i=n(94184),r=n.n(i),s=n(67294),o=n(27477),a=n(44838),l=n(45223),c=n(55349);const d={disclosureArrowButton:"IZ0cW x5jRQ",isSelected:"vj2_K",small:"O8mL2",medium:"Ok1hU",large:"aPeP8",disclosureArrow:"Js4ax LzfC_",down:"hBJ6U",left:"AWCf5",up:"KSfjB",right:"FYWin"};var u=Object.defineProperty,h=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class f extends s.Component{render(){const e=this.props,{className:t,arrowClassName:n,children:i,direction:l,kind:u,size:f,isSelected:y}=e,v=((e,t)=>{var n={};for(var i in e)h.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&p)for(var i of p(e))t.indexOf(i)<0&&g.call(e,i)&&(n[i]=e[i]);return n})(e,["className","arrowClassName","children","direction","kind","size","isSelected"]),b=f||c.M2;return s.createElement(a.Z,((e,t)=>{for(var n in t||(t={}))h.call(t,n)&&m(e,n,t[n]);if(p)for(var n of p(t))g.call(t,n)&&m(e,n,t[n]);return e})({"aria-haspopup":!0,className:r()(t,d[b],y&&d.isSelected),isSelected:y,kind:u,size:f},v),i,s.createElement(o.Z,{className:r()(n,d[l],d[b]),direction:l,isSelected:y,kind:u,size:b}))}}f.defaultProps={className:d.disclosureArrowButton,arrowClassName:d.disclosureArrow,direction:l.WV,isSelected:!0};const y=f},44838:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var i=n(94184),r=n.n(i),s=n(67294),o=n(53246);n(14710);const a=null;function l(){const e=document.activeElement;return e&&e.dataset&&e.dataset.uid||a}var c=n(97330),d=n(26700),u=n(98385),h=n(74646);const p={link:"x5jRQ",default:"TwynL",primary:"vIlXB",success:"BeT_7",danger:"I5EZg",dark:"IOwXJ",small:"LmZ3l",medium:"MfxKQ",large:"XFBw0",isSelected:"Yp_Xa"};var g=Object.defineProperty,m=Object.prototype.hasOwnProperty,f=Object.getOwnPropertySymbols,y=Object.prototype.propertyIsEnumerable,v=(e,t,n)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b=(e,t)=>{for(var n in t||(t={}))m.call(t,n)&&v(e,n,t[n]);if(f)for(var n of f(t))y.call(t,n)&&v(e,n,t[n]);return e};let Z=a;o.Z&&window.addEventListener("blur",(()=>{Z=l()}));class S extends s.Component{constructor(e,t){super(e,t),this.onTouchStart=e=>{this._isTouch=!0,this._preventFocus=this._shouldPreventFocus(),1===e.touches.length&&this._activate(!0),this.props.onTouchStart&&this.props.onTouchStart(e)},this.onTouchMove=e=>{this._activate(!1),this.props.onTouchMove&&this.props.onTouchMove(e)},this.onTouchEnd=e=>{const{to:t,target:n,isDisabled:i,onTouchEnd:r}=this.props;this._isActive&&!i&&(!t||n&&"_self"!==n||(e.preventDefault(),window.location.href=t),this._press(e)),this._activate(!1),r&&r(e)},this.onTouchCancel=e=>{this._isTouch=!1,this._activate(!1),this.props.onTouchCancel&&this.props.onTouchCancel(e)},this.onMouseDown=e=>{this._isTouch||(this._preventFocus=this._shouldPreventFocus(),0===e.button&&this._activate(!0),this.props.onMouseDown&&this.props.onMouseDown(e))},this.onMouseUp=e=>{if(this._isTouch)return;const{isDisabled:t,onMouseUp:n}=this.props;this._isActive&&!t&&(this._press(e),this._preventOnClick=!0),this._activate(!1),n&&n(e)},this.onMouseLeave=e=>{this._isTouch||(this._isActive&&this.setState({isActive:!1}),this.props.onMouseLeave&&this.props.onMouseLeave(e))},this.onClick=e=>{this._preventFocus=!1;const{isDisabled:t}=this.props;this._preventOnClick||this._isTouch||this._isActive||!this._isFocused||t||this._press(e),this._preventOnClick=!1,this._isTouch=!1},this.onFocus=e=>{this._preventFocus?this._preventFocus=!1:this._uid!==Z?(this._focus(!0),this.props.onFocus&&this.props.onFocus(e)):Z=a},this.onBlur=e=>{this._focus(!1),this.props.onBlur&&this.props.onBlur(e)},this._preventFocus=!1,this._preventOnClick=!1,this._isTouch=!1,this._isActive=!1,this._isFocused=!1,this._uid=(0,c.Z)(),this.state={isActive:!1,isFocused:!1},this._ref=s.createRef()}componentDidMount(){!this.props.isDisabled&&this.props.focusOnEnabled&&this._ref.current.focus()}shouldComponentUpdate(e,t){return(0,h.Z)(this,e,t)}componentDidUpdate(e){const t=this.props.focusOnEnabled&&!this.props.isDisabled,n=e.focusOnEnabled&&!e.isDisabled;t&&!n&&this._ref.current.focus()}_activate(e){this._isActive=e,this.setState({isActive:e})}_focus(e){this._isFocused=e,this.setState({isFocused:e})}_shouldPreventFocus(){return!this.props.allowFocusOnPress&&!(l()===this._uid)}_press(e){const{onPress:t}=this.props;t&&t(e)}render(){const e=this.props,{className:t,to:n,kind:i,size:o,isSelected:a,isDisabled:l,component:c,allowFocusOnPress:u,role:h,focusOnEnabled:g,onPress:v}=e,Z=((e,t)=>{var n={};for(var i in e)m.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&f)for(var i of f(e))t.indexOf(i)<0&&y.call(e,i)&&(n[i]=e[i]);return n})(e,["className","to","kind","size","isSelected","isDisabled","component","allowFocusOnPress","role","focusOnEnabled","onPress"]),{isActive:S,isFocused:I}=this.state,M={"data-uid":this._uid};let w=c;return n&&(w="a",M.href=n),M.role=h||(n?"link":"button"),M.className=r()(t,p.link,p[i],o&&p[o],a&&p.isSelected,S&&d.lW,I&&d.GZ,l&&d.Pv),"button"!==w&&"input"!==w||(M.type=Z.type||"button",M.disabled=l),w?s.createElement(w,b(b(b({},Z),M),{ref:this._ref,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchCancel,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseLeave:this.onMouseLeave,onClick:this.onClick,onFocus:this.onFocus,onBlur:this.onBlur})):null}}S.defaultProps={component:"button",kind:u.TP,isSelected:!1,isDisabled:!1,allowFocusOnPress:!1};const I=S},55710:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i=n(94184),r=n.n(i),s=n(67294),o=n(21235),a=n(17035),l=n(55349),c=n(80772),d=n(84020);var u=Object.defineProperty,h=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const f=function(e){var t=e,{children:n,className:i,loadingLabel:u=(0,o.Z)("Loading"),spinnerSize:f=l.HC,spinnerColor:y=c.Z.defaultColor,isDisabled:v=!1,isSpinning:b=!1}=t,Z=((e,t)=>{var n={};for(var i in e)h.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&p)for(var i of p(e))t.indexOf(i)<0&&g.call(e,i)&&(n[i]=e[i]);return n})(t,["children","className","loadingLabel","spinnerSize","spinnerColor","isDisabled","isSpinning"]);return s.createElement(d.Z,((e,t)=>{for(var n in t||(t={}))h.call(t,n)&&m(e,n,t[n]);if(p)for(var n of p(t))g.call(t,n)&&m(e,n,t[n]);return e})({className:r()(i,"mfBoX r2dcz x5jRQ",b&&"t6Ayq"),isDisabled:v||b},Z),s.createElement("span",{className:"X__bn"},s.createElement(a.Z,{className:"RfHtl dHO6j m_4Rc",color:y,loadingLabel:u,size:f})),s.createElement("span",{className:"JNAY4"},n))}},26056:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(67294);function r(e,t){return`${e}&size=${t}`}var s=n(75483),o=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};function h(e){const t=e,{className:n,url:o,width:d}=t,h=((e,t)=>{var n={};for(var i in e)a.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&l)for(var i of l(e))t.indexOf(i)<0&&c.call(e,i)&&(n[i]=e[i]);return n})(t,["className","url","width"]);return i.createElement("div",{className:n},i.createElement(s.Z,u(u({},h),{url:o&&r(o,d),width:d})))}h.defaultProps={className:"hdLnl"};const p=h},48210:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(67294),r=Object.defineProperty,s=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(o)for(var n of o(t))a.call(t,n)&&l(e,n,t[n]);return e};function d(e){const{className:t,style:n,src:r,width:s,height:o,backgroundSize:a,backgroundPosition:l,backgroundRepeat:d}=e;return i.createElement("div",{className:t,style:c({width:s,height:o,backgroundImage:`url(${r})`,backgroundSize:a,backgroundPosition:l,backgroundRepeat:d},n)})}d.defaultProps={backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};const u=d},75483:(e,t,n)=>{"use strict";n.d(t,{Z:()=>K});var i=n(28216),r=n(22222),s=n(80731),o=n(13469),a=n.n(o),l=n(72059),c=n(27957),d=n(53621),u=n(35785),h=n(14398),p=n(71065);const g={},m={};function f(e,t){const{serverEntityID:n,providerEntityID:i}=t,s=`${n}:${i}`;return m[s]||(m[s]=(0,l.Z)((0,r.P1)((0,d.Z)(),(0,r.P1)(((e,{providerEntityID:t})=>t),c.Z,((e,t)=>t[e])),((e,t)=>{const n=e&&e.activeConnection&&e.activeConnection.uri;if(!n)return g;let i,r="/photo/:/transcode",s=!1,o=!1;if(t){const e=a().findWhere(t.features,{type:u.Z.IMAGE_TRANSCODER});e&&(r=e.key,s=(0,h.Z)(r),o=e.public)}return i=s?t&&t.baseURL?t.baseURL:n:"",{accessToken:e.accessToken,baseUrl:i,isAbsoluteTranscodeKey:s,isPublicTranscoder:o,transcodeKey:r,uri:n}})),(e=>e))),m[s](e,t)}var y=n(40738),v=n(57788),b=n(19755),Z=n.n(b),S=n(67294),I=n(78542),M=n(6312),w=n(6539),P=(n(14710),n(7966)),C=n(48210),D=Object.defineProperty,A=Object.prototype.hasOwnProperty,x=Object.getOwnPropertySymbols,E=Object.prototype.propertyIsEnumerable,T=(e,t,n)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,j=(e,t)=>{for(var n in t||(t={}))A.call(t,n)&&T(e,n,t[n]);if(x)for(var n of x(t))E.call(t,n)&&T(e,n,t[n]);return e};function N(e){e&&(e.onload=e.onabort=e.onerror=void 0)}function O(e){const t=e,{src:n,emptySrc:i,component:r,preloadOnMount:s,onLoad:o,onError:a}=t,l=((e,t)=>{var n={};for(var i in e)A.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&x)for(var i of x(e))t.indexOf(i)<0&&E.call(e,i)&&(n[i]=e[i]);return n})(t,["src","emptySrc","component","preloadOnMount","onLoad","onError"]),[c,d]=(0,S.useState)(s?null:n),[u,h]=(0,S.useState)(null),p=(0,S.useRef)(s);return(0,S.useEffect)((()=>{if(!p.current)return void(p.current=!0);if(!n)return;let e=new window.Image;return e.onload=()=>{e=N(e),d(n),h(null)},e.onabort=e.onerror=()=>{e=N(e),d(null),h(new Error(`Unable to load ${n}`))},e.src=n,()=>{e=N(e)}}),[n]),(0,S.useEffect)((()=>{!n&&c&&d(null)}),[c,n]),(0,S.useEffect)((()=>{c&&o&&o(c)}),[c,o]),(0,S.useEffect)((()=>{u&&a&&a(u)}),[u,a]),S.createElement(r,j(j({},l),{src:c||i}))}O.defaultProps={emptySrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",component:C.Z,preloadOnMount:!0};const k=O;var L=Object.defineProperty,R=Object.prototype.hasOwnProperty,z=Object.getOwnPropertySymbols,V=Object.prototype.propertyIsEnumerable,_=(e,t,n)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U=(e,t)=>{for(var n in t||(t={}))R.call(t,n)&&_(e,n,t[n]);if(z)for(var n of z(t))V.call(t,n)&&_(e,n,t[n]);return e};const B=new I.Z,F={},H={},W=[w.EU,w.yy,w.it,w.bS,w.Rr,w.Ko,w.ES,w.oP].sort(((e,t)=>Y(e)-Y(t)));function Y(e){if(H.hasOwnProperty(e))return H[e];const t=e.split("-")[1];return H[e]=t,t}function G(e){const t=e,{url:n,minSize:i,format:r,quality:s,upscale:o,filters:a,allowPixelRatioSize:l,allowImageBlobs:c,supportsSize:d,onError:u}=t,h=((e,t)=>{var n={};for(var i in e)R.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&z)for(var i of z(e))t.indexOf(i)<0&&V.call(e,i)&&(n[i]=e[i]);return n})(t,["url","minSize","format","quality","upscale","filters","allowPixelRatioSize","allowImageBlobs","supportsSize","onError"]),g=function(e,t){if(!e)return;const n=Object.assign(function(e){const t=e.allowPixelRatioSize?(0,M.Z)():1,n=e.size||function(e){if(F.hasOwnProperty(e))return F[e];const t=W.find((t=>Y(t)>=e))||W[W.length-1];return F[e]=t,t}(e.width);if(e.supportsSize)return{size:n,scale:Math.ceil(t)};{const i=Y(n),r=e.height/e.width;return{width:Math.ceil(i*t),height:Math.ceil(r*i*t),minSize:e.minSize?1:void 0,upscale:e.upscale?1:void 0}}}(t),t.filters);t.format&&(n.format=t.format),t.quality&&(n.quality=t.quality);const i=e.indexOf("?");let r=e;return i>-1?(r=p.Z.join(e.substring(0,i),n),r+=-1===r.indexOf("?")?"?":"&",r+=e.substring(i+1)):r=p.Z.join(r,n),r}(n,e);let m,f;g&&c&&(m=B.getBlobUrl(g),m||(f=B.getPlaceholder(g)));const[y,v]=(0,S.useState)(m||f||(c?null:g)),b=(0,S.useRef)(!1);return(0,S.useEffect)((()=>{if(b.current&&(b.current=!1,null==y))return void(u&&u());let e;return m?y!==m&&v(m):g&&c?(e=function(e){const t=Z().Deferred(),n={cancelable:(0,P.Z)(t.promise()),xhr:null},i=new window.XMLHttpRequest;return i.open("GET",e,!0),i.responseType="arraybuffer",n.xhr=i,i.onreadystatechange=()=>{if(4===i.readyState)if(i.onreadystatechange=null,200===i.status){const n=new window.Blob([i.response],{type:"image/jpeg"}),r=window.URL.createObjectURL(n);B.store({url:e,blobUrl:r}),t.resolve(r)}else t.reject()},i.send(),n}(g),e.cancelable.promise.then((t=>{e=null,v(t)}),(({isCanceled:t}={})=>{t||(e=null,null===y?u&&u():(b.current=!0,v(null)))}))):v(g&&!c?g:null),()=>{e&&(e.cancelable.cancel(),e.xhr&&(e.xhr.onreadystatechange=null,e.xhr.abort()))}}),[y,g,m,c,u]),S.createElement(k,U(U({},h),{src:y,onError:u}))}G.defaultProps={minSize:!0,upscale:!0,allowPixelRatioSize:!0,allowImageBlobs:!0};const q=(0,S.memo)(G),Q=s.Z.allowSyncDownload?{urlParams:{"X-Plex-Account-ID":1}}:null,K=(0,i.$j)((function(){return(0,r.P1)(v.Z,y.Z,function(e){const t=e&&e.urlParams;return(0,r.P1)(((e,{url:t})=>t),f,((e,n)=>{if(!e||n===g)return;const{accessToken:i,baseUrl:r,isAbsoluteTranscodeKey:s,isPublicTranscoder:o,transcodeKey:a,uri:l}=n;let c;if((0,h.Z)(e))c=e;else{const n={"X-Plex-Token":i};t&&Object.assign(n,t),c=p.Z.join([r,e],n)}const d=s?a:[l,a];return p.Z.join(d,{url:c,"X-Plex-Token":o?void 0:i})}))}(Q),((e,t,n)=>({url:n,supportsSize:!!(e&&e.isCloud&&t)})))}))(q)},32516:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L});var i=n(94184),r=n.n(i),s=n(82777),o=n(67294),a=n(1475),l=n(98602),c=n(20725),d=n(11722),u=n(19176),h=n(97330),p=n(53311),g=n(55349),m=n(74646),f=n(6963),y=n(20721),v=n(25710);const b={menuPortal:"QVH3_",menuScroller:"iYDY8 RXkcY",menu:"CgKY7",isDisabled:"UhC8e",small:"_MjW_",medium:"TAtgQ",large:"lYXUn"};var Z=Object.defineProperty,S=Object.prototype.hasOwnProperty,I=Object.getOwnPropertySymbols,M=Object.prototype.propertyIsEnumerable,w=(e,t,n)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P=(e,t)=>{for(var n in t||(t={}))S.call(t,n)&&w(e,n,t[n]);if(I)for(var n of I(t))M.call(t,n)&&w(e,n,t[n]);return e};const C=(0,d.Z)(f.Z.menuSpeed),D=1e3*C,A=parseInt(y.Z.menuPadding,10),x={ease:"easeOut",duration:C},E={ease:v.Z.motionEasing,duration:C},T={opacity:x,y:E,scale:E},j={preEnter:{opacity:0,y:-10,scale:.95,transition:T},enter:{opacity:1,y:0,scale:1,transition:T},exit:{opacity:0,y:10,scale:.95,transition:T}},N=[{name:"preventOverflow",enabled:!0,options:{altAxis:!0}}];function O(e){return Math.min(window.innerHeight-2*A,e.maxHeight)}class k extends o.Component{constructor(e,t){super(e,t),this.onResize=e=>{this.setState({maxHeight:O(this.props)})},this.onWindowDownPress=e=>{this._isElementContainedOrTarget(e.target)||(this._willMenuClose=!0)},this.onWindowUpPress=e=>{this._willMenuClose&&!this._isElementContainedOrTarget(e.target)&&this.props.onMenuClose(),this._willMenuClose=!1},this.onKeyDown=e=>{const t=e.keyCode;t===a.Mf?u.QE(e):t===a.hY&&(e.preventDefault(),e.stopPropagation(),this.props.onMenuClose(),u.sM())},this.state={maxHeight:O(e)},this._willMenuClose=!1,this._menuID=(0,h.Z)()}componentDidMount(){this.props.isOpen&&this._enable(),window.addEventListener("resize",this.onResize)}shouldComponentUpdate(e,t){return(0,m.Z)(this,e,t)}componentDidUpdate(e,t){const n=e.isOpen&&!e.isAutoCloseDisabled,i=this.props.isOpen&&!this.props.isAutoCloseDisabled;!n&&i?this._enable():n&&!i&&this._disable()}componentWillUnmount(){this.props.isOpen&&!this.props.isAutoCloseDisabled&&this._disable(),window.removeEventListener("resize",this.onResize)}_enable(){u.LJ(document.getElementById(this._menuID)),document.addEventListener("mousedown",this.onWindowDownPress),document.addEventListener("touchstart",this.onWindowDownPress),document.addEventListener("mouseup",this.onWindowUpPress),document.addEventListener("touchend",this.onWindowUpPress),document.addEventListener("keydown",this.onKeyDown)}_disable(){document.removeEventListener("mousedown",this.onWindowDownPress),document.removeEventListener("touchstart",this.onWindowDownPress),document.removeEventListener("mouseup",this.onWindowUpPress),document.removeEventListener("touchend",this.onWindowUpPress),document.removeEventListener("keydown",this.onKeyDown)}_isElementContainedOrTarget(e){const{target:t}=this.props,n=document.getElementById(this._menuID),i=n&&n.contains(e),r=!i&&document.getElementById(t),s=r&&r.contains(e);return i||s}render(){var e;const{children:t,className:n,portalClassName:i,target:a,options:d,isOpen:u,isDisabled:h,scrollerProps:p,size:g,onMouseEnter:m,onMouseLeave:f,onMenuCloseComplete:y}=this.props,{maxHeight:v}=this.state;return o.createElement(l.Z,{className:i,closeTimeoutMilliseconds:D,isOpen:u,options:P(P({placement:"bottom-start"},d),{modifiers:[...N,...null!=(e=null==d?void 0:d.modifiers)?e:[]]}),target:a,onClose:y},o.createElement(s.M_,null,u?o.createElement(s.ww.div,{key:"container",animate:"enter",className:r()(n,b[g],h&&b.isDisabled),exit:"exit",id:this._menuID,initial:"preEnter",variants:j,onMouseEnter:m,onMouseLeave:f},o.createElement(c.Z,P(P({},p),{style:{maxHeight:v}}),t)):null))}}k.defaultProps={className:b.menu,portalClassName:b.menuPortal,size:g.M2,maxHeight:600,isDisabled:!1,scrollerProps:{className:b.menuScroller,scrollDirection:p.yZ,autoScroll:!0}};const L=k},24296:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(94184),r=n.n(i),s=n(67294),o=n(44838),a=n(98385);const l={menuItem:"Q4FVu",isDisabled:"ZNVWR",isHidden:"CrWPD",default:"aBSil",primary:"RQGUr",success:"f7AUO",danger:"l2YZ6"};var c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function g(e){const t=e,{className:n,children:i,kind:a,isDisabled:c,isHidden:g}=t,m=((e,t)=>{var n={};for(var i in e)d.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&u)for(var i of u(e))t.indexOf(i)<0&&h.call(e,i)&&(n[i]=e[i]);return n})(t,["className","children","kind","isDisabled","isHidden"]);return s.createElement(o.Z,((e,t)=>{for(var n in t||(t={}))d.call(t,n)&&p(e,n,t[n]);if(u)for(var n of u(t))h.call(t,n)&&p(e,n,t[n]);return e})({className:r()(n,l.menuItem,l[a],c&&l.isDisabled,g&&l.isHidden),"data-testid":"dropdownItem",role:"menuitem"},m),i)}g.defaultProps={kind:a.TP,isDisabled:!1};const m=g},77574:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67294);const r=function(){return i.createElement("div",{className:"ujh6D"})}},48631:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i=n(45697),r=n.n(i),s=n(67294),o=n(28941),a=n(43559),l=n(74646),c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&p(e,n,t[n]);if(u)for(var n of u(t))h.call(t,n)&&p(e,n,t[n]);return e};class m extends s.Component{constructor(){super(...arguments),this.onPress=e=>{const t=this.props,{children:n}=t,i=((e,t)=>{var n={};for(var i in e)d.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&u)for(var i of u(e))t.indexOf(i)<0&&h.call(e,i)&&(n[i]=e[i]);return n})(t,["children"]),{metricsPage:r}=this.context;(0,o.DB)("metrics").trackClick(g(g({},i),{page:r}))}}shouldComponentUpdate(e,t){return(0,l.Z)(this,e,t)}render(){const e=s.Children.only(this.props.children);return s.cloneElement(e,{onPress:(0,a.Z)(this.onPress,e.props.onPress)})}}m.propTypes={children:r().element.isRequired,action:r().string.isRequired},m.contextTypes={metricsPage:r().string.isRequired};const f=m},61094:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(45697),r=n.n(i),s=n(67294),o=n(28941),a=(n(14710),n(98956)),l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t)=>{var n={};for(var i in e)l.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&c)for(var i of c(e))t.indexOf(i)<0&&d.call(e,i)&&(n[i]=e[i]);return n};class h extends s.Component{constructor(e,t){super(e,t),this.page=e.page}getChildContext(){return{metricsPage:this.page}}componentDidMount(){const e=this.props,{children:t,isDelegated:n}=e,i=u(e,["children","isDelegated"]);n||window.requestAnimationFrame((()=>{(0,o.DB)("metrics").trackView(i)}))}UNSAFE_componentWillReceiveProps(e){}componentDidUpdate(e){const t=e,{children:n,isDelegated:i}=t,r=u(t,["children","isDelegated"]),s=this.props,{children:l,isDelegated:c}=s,d=u(s,["children","isDelegated"]),h=i!==c||!(0,a.Z)(r,d);!c&&h&&(0,o.DB)("metrics").trackView(d)}render(){return this.props.children?s.Children.only(this.props.children):null}}h.childContextTypes={metricsPage:r().string.isRequired};const p=h},23889:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var i=n(82777),r=n(67294),s=n(73935),o=n(1475),a=n(62503),l=n(61094),c=n(11722),d=n(19176),u=n(55349),h=n(74646),p=n(6963),g=n(25710);const m={modalContainer:"ZpXJa",modalBackdrop:"Tw82H",modal:"fm6U4",small:"qB4xz fm6U4",medium:"fNGCP fm6U4",large:"S1gPT fm6U4"};var f=Object.defineProperty,y=Object.prototype.hasOwnProperty,v=Object.getOwnPropertySymbols,b=Object.prototype.propertyIsEnumerable,Z=(e,t,n)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||(t={}))y.call(t,n)&&Z(e,n,t[n]);if(v)for(var n of v(t))b.call(t,n)&&Z(e,n,t[n]);return e};const I=(0,c.Z)(p.Z.modalSpeed),M=1e3*I,w={ease:"easeOut",duration:I},P={ease:g.Z.motionEasing,duration:I},C={opacity:w},D={enter:{opacity:1,transition:C},exit:{opacity:0,transition:C}},A={scale:P,opacity:w},x={enter:{opacity:1,scale:1,transition:A},exit:{opacity:0,scale:.95,transition:A}};class E extends r.Component{constructor(){super(...arguments),this.onBackdropBeginPress=e=>{this._isBackdropPressed=this._isBackdropTarget(e)},this.onBackdropEndPress=e=>{!this.props.preventCloseOnBackdropPress&&this._isBackdropPressed&&this._isBackdropTarget(e)&&this.props.onModalClose(),this._isBackdropPressed=!1},this.onTouchMove=e=>{this._isBackdropPressed=!1},this.onTouchCancel=e=>{this._isBackdropPressed=!1},this.onKeyDown=e=>{const t=e.keyCode;t===o.Mf?d.QE(e):t===o.hY&&(e.preventDefault(),e.stopPropagation(),this.props.onModalClose(),d.sM())}}componentDidMount(){this.props.isOpen&&this._openModal()}shouldComponentUpdate(e,t){return(0,h.Z)(this,e,t)}componentDidUpdate(e){!e.isOpen&&this.props.isOpen?this._openModal():e.isOpen&&!this.props.isOpen&&this._closeModal()}componentWillUnmount(){this.props.isOpen&&this._closeModal()}_openModal(){d.LJ(s.findDOMNode(this.refs.modal)),this._autoFocusTimeoutID=window.setTimeout(d.pc,M),document.addEventListener("keydown",this.onKeyDown)}_closeModal(){window.clearTimeout(this._autoFocusTimeoutID),document.removeEventListener("keydown",this.onKeyDown)}_isBackdropTarget(e){const t=this._findEventTarget(e);if(t){const e=s.findDOMNode(this.refs.modal);return!e||!e.contains(t)}return!1}_findEventTarget(e){const t=e.changedTouches;if(!t)return e.target;if(1===t.length){const e=t[0];return document.elementFromPoint(e.clientX,e.clientY)}}render(){const{className:e,backdropClassName:t,containerClassName:n,children:s,size:o,isOpen:c,metricsPage:d,metricsProperties:u}=this.props;return r.createElement(a.Z,{className:n,closeTimeoutMilliseconds:M,isOpen:c},r.createElement(i.M_,null,c?r.createElement(i.ww.div,{key:"backdrop",animate:"enter",className:t,exit:"exit",initial:"exit",variants:D,onMouseDown:this.onBackdropBeginPress,onMouseUp:this.onBackdropEndPress,onTouchCancel:this.onTouchCancel,onTouchEnd:this.onBackdropEndPress,onTouchMove:this.onTouchMove,onTouchStart:this.onBackdropBeginPress},r.createElement(i.ww.div,{key:"modal",ref:"modal",animate:"enter",className:e||m[o],exit:"exit",initial:"exit",variants:x},r.createElement(l.Z,S(S({},u),{page:d}),s))):null))}}E.defaultProps={backdropClassName:m.modalBackdrop,containerClassName:m.modalContainer,size:u.M2,preventCloseOnBackdropPress:!1};const T=E},11066:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(67294),r=n(20725),s=n(53311);var o=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function u(e){var t=e,{children:n,className:o,innerClassName:u,scrollDirection:h}=t,p=((e,t)=>{var n={};for(var i in e)a.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&l)for(var i of l(e))t.indexOf(i)<0&&c.call(e,i)&&(n[i]=e[i]);return n})(t,["children","className","innerClassName","scrollDirection"]);const g=h!==s.Hn;return o||(o=g?"KmjAG Oeojk":"Oeojk"),i.createElement(r.Z,((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({autoScroll:!0,className:o,scrollDirection:h},p),g?i.createElement("div",{className:u},n):n)}u.defaultProps={innerClassName:"Itgwf"};const h=u},77553:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(67294),r=n(44838),s=n(3694);const o={modalContent:"W5jPb",closeButton:"XWrxW x5jRQ"};var a=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const h=function(e){const t=e,{className:n=o.modalContent,children:a,iconComponent:h=s.Z,onModalClose:p}=t,g=((e,t)=>{var n={};for(var i in e)l.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&c)for(var i of c(e))t.indexOf(i)<0&&d.call(e,i)&&(n[i]=e[i]);return n})(t,["className","children","iconComponent","onModalClose"]);return i.createElement("div",((e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e})({className:n},g),i.createElement(r.Z,{className:o.closeButton,onPress:p},h?i.createElement(h,null):null),a)}},43655:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(67294),r=n(74576),s=Object.defineProperty,o=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function d(e){var t=e,{className:n,children:r}=t,s=((e,t)=>{var n={};for(var i in e)o.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&a)for(var i of a(e))t.indexOf(i)<0&&l.call(e,i)&&(n[i]=e[i]);return n})(t,["className","children"]);return i.createElement("div",((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&c(e,n,t[n]);if(a)for(var n of a(t))l.call(t,n)&&c(e,n,t[n]);return e})({className:n},s),r)}d.defaultProps={className:r.Z.modalFooter};const u=d},40894:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(67294),r=Object.defineProperty,s=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function c(e){var t=e,{children:n}=t,r=((e,t)=>{var n={};for(var i in e)s.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&o)for(var i of o(e))t.indexOf(i)<0&&a.call(e,i)&&(n[i]=e[i]);return n})(t,["children"]);return i.createElement("div",((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(o)for(var n of o(t))a.call(t,n)&&l(e,n,t[n]);return e})({},r),n)}c.defaultProps={className:"dZE3G"};const d=c},38737:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(67294);var r=Object.defineProperty,s=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const c=function(e){var t=e,{children:n}=t,r=((e,t)=>{var n={};for(var i in e)s.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&o)for(var i of o(e))t.indexOf(i)<0&&a.call(e,i)&&(n[i]=e[i]);return n})(t,["children"]);return i.createElement("div",((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(o)for(var n of o(t))a.call(t,n)&&l(e,n,t[n]);return e})({className:"GB5xN"},r),n)}},98612:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(67294);function r(e){const{className:t,children:n}=e;return i.createElement("div",{className:t},n)}r.defaultProps={className:"B6YGR"};const s=r},98458:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var i=n(67294),r=n(61775),s=n(82777),o=n(98602),a=n(11722),l=n(20764),c=n(6963),d=n(25710);const u={tooltipPortal:"lfpK9",tooltip:"GtJsp",tooltipArrow:"If9gp",tooltipBottomArrow:"VJGxZ",tooltipTopArrow:"cb5I0",tooltipRightArrow:"fmYHh",tooltipLeftArrow:"egNyl",tooltipCenterAlignArrow:"rII2m",tooltipLeftAlignArrow:"FDsdp",tooltipRightAlignArrow:"c63xo",tooltipMiddleAlignArrow:"rjhVo",topLeft:"MxuDU GtJsp If9gp VJGxZ FDsdp",topCenter:"KdgV3 GtJsp If9gp VJGxZ rII2m",topRight:"aRfI0 GtJsp If9gp VJGxZ c63xo",bottomLeft:"iH9ts GtJsp If9gp cb5I0 FDsdp",bottomCenter:"a1e4c GtJsp If9gp cb5I0 rII2m",bottomRight:"BCoc8 GtJsp If9gp cb5I0 c63xo",middleLeft:"_eS22 GtJsp If9gp fmYHh rjhVo",middleRight:"w6QSF GtJsp If9gp egNyl rjhVo"};var h=Object.defineProperty,p=Object.prototype.hasOwnProperty,g=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const y=(0,a.Z)(c.Z.tooltipSpeed),v=1e3*y,b={opacity:{ease:"easeOut",duration:y},y:{ease:d.Z.motionEasing,duration:y},x:{ease:d.Z.motionEasing,duration:y},scale:{ease:d.Z.motionEasing,duration:y}};function Z(e){switch(e){case l.IM:case l.jO:case l.ee:return 5;case l.aV:case l.eO:case l.OI:return-5;case l.Gf:case l.ab:default:return 0}}function S(e){switch(e){case l.IM:case l.jO:case l.ee:return 0;case l.aV:case l.eO:case l.OI:return 0;case l.Gf:return 5;case l.ab:return-5;default:return 0}}function I(e){switch(e){case l.IM:case l.jO:case l.ee:return-5;case l.aV:case l.eO:case l.OI:return 5;case l.Gf:case l.ab:default:return 0}}function M(e){switch(e){case l.IM:case l.jO:case l.ee:return 0;case l.aV:case l.eO:case l.OI:return 0;case l.Gf:return-5;case l.ab:return 5;default:return 0}}const w={before:e=>({opacity:0,y:Z(e),x:S(e),scale:.95,transition:b}),enter:{opacity:1,y:0,x:.001,scale:1,transition:b},exit:e=>({opacity:0,y:I(e),x:M(e),scale:.95,transition:b})},P={[l.IM]:{placement:"top-start"},[l.jO]:{placement:"top"},[l.ee]:{placement:"top-end"},[l.aV]:{placement:"bottom-start"},[l.eO]:{placement:"bottom"},[l.OI]:{placement:"bottom-end"},[l.Gf]:{placement:"left"},[l.ab]:{placement:"right"}};function C(e){const t=e,{children:n,className:r,target:a,attachment:l,options:c,isOpen:d,onMenuClose:h}=t,y=((e,t)=>{var n={};for(var i in e)p.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&g)for(var i of g(e))t.indexOf(i)<0&&m.call(e,i)&&(n[i]=e[i]);return n})(t,["children","className","target","attachment","options","isOpen","onMenuClose"]);return i.createElement(o.Z,{className:u.tooltipPortal,closeTimeoutMilliseconds:v,isOpen:d,options:c||P[l],target:a},i.createElement(s.M_,null,d?i.createElement(s.ww.div,((e,t)=>{for(var n in t||(t={}))p.call(t,n)&&f(e,n,t[n]);if(g)for(var n of g(t))m.call(t,n)&&f(e,n,t[n]);return e})({key:"container",animate:"enter",className:r||u[l],custom:l,exit:"exit",initial:"before",variants:w},y),n):null))}C.defaultProps={attachment:l.eO};const D=C;var A=Object.defineProperty,x=Object.prototype.hasOwnProperty,E=Object.getOwnPropertySymbols,T=Object.prototype.propertyIsEnumerable,j=(e,t,n)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const N=function(e){const t=e,{children:n}=t,r=((e,t)=>{var n={};for(var i in e)x.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&E)for(var i of E(e))t.indexOf(i)<0&&T.call(e,i)&&(n[i]=e[i]);return n})(t,["children"]);return i.createElement("div",((e,t)=>{for(var n in t||(t={}))x.call(t,n)&&j(e,n,t[n]);if(E)for(var n of E(t))T.call(t,n)&&j(e,n,t[n]);return e})({},r),n)};var O=Object.defineProperty,k=Object.prototype.hasOwnProperty,L=Object.getOwnPropertySymbols,R=Object.prototype.propertyIsEnumerable,z=(e,t,n)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V=(e,t)=>{for(var n in t||(t={}))k.call(t,n)&&z(e,n,t[n]);if(L)for(var n of L(t))R.call(t,n)&&z(e,n,t[n]);return e};function _(e){const t=e,{component:n=N,hideOnDisabled:s=!0,hideOnPress:o=!0,showOnFocus:a=!0,showOnHover:l=!0,tooltip:c,tooltipAttachment:d,tooltipClassName:u,tooltipFocusedClassName:h,tooltipOptions:p}=t,g=((e,t)=>{var n={};for(var i in e)k.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&L)for(var i of L(e))t.indexOf(i)<0&&R.call(e,i)&&(n[i]=e[i]);return n})(t,["component","hideOnDisabled","hideOnPress","showOnFocus","showOnHover","tooltip","tooltipAttachment","tooltipClassName","tooltipFocusedClassName","tooltipOptions"]),[m,f]=(0,i.useState)(!1),y=(0,i.useRef)(!1),v=(0,i.useRef)(!1),b=(0,r.Z)(),Z=e.tooltipTarget||e.id||b,S=(0,i.useCallback)(((...t)=>{var n;l&&(v.current=!0,f(!0)),null==(n=e.onMouseEnter)||n.call(e,...t)}),[e,l]),I=(0,i.useCallback)(((...t)=>{var n;l&&(v.current=!1,f(y.current)),null==(n=e.onMouseLeave)||n.call(e,...t)}),[e,l]),M=(0,i.useCallback)(((...t)=>{var n;a&&(y.current=!0,f(!0)),null==(n=e.onFocus)||n.call(e,...t)}),[e,a]),w=(0,i.useCallback)(((...t)=>{var n;e.showOnFocus&&(y.current=!1,f(v.current)),null==(n=e.onBlur)||n.call(e,...t)}),[e]),P=(0,i.useCallback)(((...t)=>{var n;o&&(y.current=!1,v.current=!1,f(!1)),null==(n=e.onPress)||n.call(e,...t)}),[o,e]),C=y.current&&h?h:u;return(0,i.useEffect)((()=>{m&&s&&e.isDisabled&&(y.current=!1,v.current=!1,f(!1))}),[s,m,e.isDisabled]),i.createElement(i.Fragment,null,i.createElement(n,V(V({id:Z},g),{onBlur:w,onFocus:M,onMouseEnter:S,onMouseLeave:I,onPress:P})),c?i.createElement(D,{attachment:d,className:C,isOpen:m,options:p,target:Z},c):null)}},25980:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var i=n(67294),r=n(86076),s=n(25525),o=n(21235),a=n(44838),l=n(99778),c=n(98385),d=Object.defineProperty,u=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const m=function(e){const t=e,{children:n}=t,r=((e,t)=>{var n={};for(var i in e)u.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&h)for(var i of h(e))t.indexOf(i)<0&&p.call(e,i)&&(n[i]=e[i]);return n})(t,["children"]);return i.createElement(l.Z,((e,t)=>{for(var n in t||(t={}))u.call(t,n)&&g(e,n,t[n]);if(h)for(var n of h(t))p.call(t,n)&&g(e,n,t[n]);return e})({description:(0,o.Z)("Please visit our forums if you continue to experience problems"),title:(0,o.Z)("There was an unexpected error")},r),i.createElement(a.Z,{kind:c._8,target:"_self",to:s.bB},(0,o.Z)("Go to Forums")),n)};var f=n(61094),y=n(4426);var v=Object.defineProperty,b=Object.prototype.hasOwnProperty,Z=Object.getOwnPropertySymbols,S=Object.prototype.propertyIsEnumerable,I=(e,t,n)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M=(e,t)=>{for(var n in t||(t={}))b.call(t,n)&&I(e,n,t[n]);if(Z)for(var n of Z(t))S.call(t,n)&&I(e,n,t[n]);return e};const w=function(e){const t=e,{children:n,metricsPage:r,metricsProperties:s,isMetricsDelegated:o}=t,a=((e,t)=>{var n={};for(var i in e)b.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Z)for(var i of Z(e))t.indexOf(i)<0&&S.call(e,i)&&(n[i]=e[i]);return n})(t,["children","metricsPage","metricsProperties","isMetricsDelegated"]);return i.createElement(f.Z,M(M({},s),{isDelegated:o,page:r}),i.createElement(y.Z,M({className:"ma9n0"},a),n))};var P=Object.defineProperty,C=Object.prototype.hasOwnProperty,D=Object.getOwnPropertySymbols,A=Object.prototype.propertyIsEnumerable,x=(e,t,n)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class E extends i.Component{constructor(e,t){super(e,t),this.state={hasError:!1}}componentDidCatch(e){r.Z.error(e),this.setState({hasError:!0})}render(){const{hasError:e}=this.state;return e?i.createElement(m,null):i.createElement(w,((e,t)=>{for(var n in t||(t={}))C.call(t,n)&&x(e,n,t[n]);if(D)for(var n of D(t))A.call(t,n)&&x(e,n,t[n]);return e})({},this.props))}}const T=E},4426:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(67294),r=n(20725),s=n(66510),o=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class u extends i.Component{constructor(e,t){super(e,t),this.onScrollPositionChange=({scrollTop:e})=>{this.state.isScrolling||(this._currentScrollTop=e)},this.state={isScrolling:!1},this._positionKey=s.Z.getKey(e.scrollPositionKey),this._currentScrollTop=0,this._restoreScrollDelay=e.smoothScroll?e.smoothScrollDuration:e.restoreScrollDelay,this._restoreScroll=!1,this._restoreScrollTimeoutID=null}componentDidMount(){this._restoreScrollPosition()}componentDidUpdate(e){const{scrollPositionKey:t}=this.props;e.scrollPositionKey!==t&&(this._positionKey=s.Z.getKey(t))}componentWillUnmount(){this._storeScrollPosition(),this._restoreScrollTimeoutID&&window.clearTimeout(this._restoreScrollTimeoutID)}_restoreScrollPosition(){const e=s.Z.get(this._positionKey);e&&(this.setState({isScrolling:!0}),this._currentScrollTop=e.scrollTop,this._restoreScroll=!0,this._restoreScrollTimeoutID=window.setTimeout((()=>{this.setState({isScrolling:!1}),this._restoreScroll=!1}),this._restoreScrollDelay))}_storeScrollPosition(){s.Z.set(this._positionKey,{scrollTop:this._currentScrollTop})}render(){const e=this.props,{children:t,className:n,restoreScrollDelay:s,scrollPositionKey:o}=e,u=((e,t)=>{var n={};for(var i in e)a.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&l)for(var i of l(e))t.indexOf(i)<0&&c.call(e,i)&&(n[i]=e[i]);return n})(e,["children","className","restoreScrollDelay","scrollPositionKey"]);return i.createElement(r.Z,((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({className:n,restoreScroll:this._restoreScroll,scrollTop:this._currentScrollTop,onScrollPositionChange:this.onScrollPositionChange},u),t)}}u.defaultProps={restoreScrollDelay:100,scrollPositionKey:"scrollPosition",smoothScroll:!0,smoothScrollDuration:400};const h=u},69299:(e,t,n)=>{"use strict";n.d(t,{Z:()=>J});var i=n(45697),r=n.n(i),s=n(28216),o=n(22222),a=n(46611),l=n(53621),c=n(33024);const d=(0,o.P1)(c.Z,(e=>e.dismissedUnclaimedServers));var u=n(49521),h=n(67294),p=n(66977),g=n(20165),m=n(63542);class f extends h.Component{componentDidMount(){this._populate(this.props)}componentDidUpdate(e){const{machineIdentifier:t}=this.props;t&&t!==e.machineIdentifier&&this._populate(this.props)}_populate(e){const{machineIdentifier:t,dispatchSetPrimaryServer:n}=e;t&&(0,m.c9)((()=>{n({machineIdentifier:t})}))}render(){return h.createElement(h.Fragment,null,this.props.children)}}const y={dispatchSetPrimaryServer:g.qO},v=(0,s.$j)(null,y)(f);var b=n(60829),Z=n(87380),S=n(16916),I=n(5977),M=n(28941),w=n(39620),P=n(22220),C=n(21235),D=n(43473),A=n(84020),x=n(44838),E=n(81821),T=n(99778),j=n(98385),N=n(55349),O=n(7496);const k={dispatchDismissUnclaimedServer:g.EK},L=(0,s.$j)((function(){return(0,o.P1)((0,l.Z)(),S.Z,((e,t)=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,isPlexAccountRequired:t})))}),k)((function(e){const{machineIdentifier:t,friendlyName:n,isPlexAccountRequired:i,dispatchDismissUnclaimedServer:r}=e,s=(0,I.k6)(),o=(0,h.useCallback)((()=>{s.push(D.Z.login)}),[s]),a=(0,h.useCallback)((()=>{(0,M.DB)("metrics").trackClick({page:P.yl,action:w.ql})}),[]),l=(0,h.useCallback)((()=>{(0,M.DB)("metrics").trackClick({page:P.yl,action:w.GP}),r({machineIdentifier:t})}),[t,r]);return h.createElement(T.Z,{description:(0,C.Z)("Claiming this server will associate it with your Plex account. This helps your devices find each other and helps keep your media safe."),title:(0,C.Z)("{friendlyName} server is unclaimed and not secure",{friendlyName:n})},i?h.createElement(A.Z,{kind:j._8,size:N.ln,onPress:o},(0,C.Z)("Sign in to claim this server")):h.createElement(A.Z,{kind:j._8,size:N.ln,to:(0,O.Z)("settings","general"),onPress:a},(0,C.Z)("Claim it now")),h.createElement(E.Z,null,h.createElement(x.Z,{kind:j._8,size:N.HC,onPress:l},(0,C.Z)("Don't show this again"))))}));var R=n(7631),z=n(26120),V=n(98984),_=n(71065);const U=(0,s.$j)((function(){return(0,o.P1)((0,l.Z)(),(e=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,activeConnectionUri:e.activeConnection.uri,shouldUseNewSettingsRoutes:(0,z.Z)(e.version,R.Z.bundledWebAppNewSettingsRoutes),isShared:e.isShared})))}))((function(e){const{friendlyName:t,activeConnectionUri:n,shouldUseNewSettingsRoutes:i,isShared:r}=e;let s;t&&(s=(0,C.Z)("The server {1} is out of date and cannot be used.",t)),s=s+" "+(0,C.Z)("This version of {productName} requires Plex Media Server {minServerVersion} or higher.",{productName:V.Z.prop("X-Plex-Product"),minServerVersion:"1.18.3"});let o="/web/index.html";return r||(o+=i?(0,O.Z)("settings","general"):"#!/settings/server"),h.createElement(T.Z,{description:s,title:"Update your Plex Media Server"},h.createElement(A.Z,{kind:j._8,size:N.ln,target:"_self",to:_.Z.join([n,o])},(0,C.Z)("Open server directly")))}));var B=n(4495),F=n(48445),H=n(36652);var W=Object.defineProperty,Y=Object.prototype.hasOwnProperty,G=Object.getOwnPropertySymbols,q=Object.prototype.propertyIsEnumerable,Q=(e,t,n)=>t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K=(e,t)=>{for(var n in t||(t={}))Y.call(t,n)&&Q(e,n,t[n]);if(G)for(var n of G(t))q.call(t,n)&&Q(e,n,t[n]);return e};const $=(0,s.$j)((function(){return(0,o.P1)((e=>e.isWaitingForServers),((e,{hideUnclaimedPage:t})=>t),(0,l.Z)(),(0,o.P1)(((e,{serverEntityID:t})=>t),a.Z,((e,t)=>!(!e||e!==t))),d,((e,t,n,i,r)=>n?{hasServer:!0,showSpinner:!n.isConnected&&!n.isUnauthorized&&!n.isUnavailable,machineIdentifier:n.machineIdentifier,isUnauthorized:n.isUnauthorized,isUnavailable:n.isUnavailable,isOutOfDate:n.isOutOfDate,isInstallingServerUpdate:n.isInstallingServerUpdate,isUnclaimed:n.isConnected&&!n.isClaimed&&!r[n.machineIdentifier]&&!i&&!t,hasHttpsConnections:n.hasHttpsConnections,isHostedHttps:u.Z.isHostedHttps}:{hasServer:!1,showSpinner:e}))}))((function(e){const{serverEntityID:t,children:n,hasServer:i,showSpinner:r,machineIdentifier:s,isUnauthorized:o,isUnavailable:a,isOutOfDate:l,isUnclaimed:c,isInstallingServerUpdate:d}=e;return r?h.createElement(B.Z,null,h.createElement(p.Z,null)):i?d?h.createElement(F.Z,{serverEntityID:t}):a?h.createElement(Z.Z,{serverEntityID:t}):l?h.createElement(U,{serverEntityID:t}):o?h.createElement(b.Z,null):c?h.createElement(L,{serverEntityID:t}):h.createElement(v,{machineIdentifier:s},n):h.createElement(H.Z,null)}));$.propTypes=K(K({},$.propTypes),{serverEntityID:r().string.isRequired});const J=$},60829:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(67294),r=n(21235),s=n(99778);const o=function(){return i.createElement(s.Z,{description:(0,r.Z)("You do not have access to this server"),title:(0,r.Z)("Not authorized")})}},87380:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var i=n(67294),r=n(28216),s=n(22222),o=n(20165),a=n(21847),l=n(53621),c=n(25525),d=n(80100),u=n(21235),h=n(71065),p=n(86233),g=n(84020),m=n(44838),f=n(59963),y=n(55710),v=n(99778),b=n(98385);const Z=function(e){const{friendlyName:t,isPending:n,onTryAgainPress:r}=e;return i.createElement(v.Z,{description:i.createElement(f.Z,{message:(0,u.Z)("Verify you have a network connection and that the server is online, or see our {openLink}troubleshooting{closeLink} tips for further assistance."),tags:[{open:"openLink",close:"closeLink",component:m.Z,kind:b._8,to:"https://help.plex.tv/noserver",target:"_blank"}]}),title:t?(0,u.Z)("{serverName} is currently unavailable",{serverName:t}):(0,u.Z)("Server is currently unavailable")},i.createElement(y.Z,{isSpinning:n,kind:b._8,onPress:r},(0,u.Z)("Retry connection")))};var S=n(79683),I=n(4495),M=n(78388);class w extends i.Component{render(){const{title:e,description:t,children:n}=this.props;return i.createElement(I.Z,{description:i.createElement(i.Fragment,null,i.createElement(f.Z,{message:(0,u.Z)('Its "Secure connections" setting may be set to disabled, or you may need to adjust some settings on your network. You can {openLink}learn more about secure connections here{closeLink}.'),tags:[{open:"openLink",close:"closeLink",component:m.Z,to:"https://support.plex.tv/hc/en-us/articles/206225077-How-to-Use-Secure-Server-Connections",kind:b._8,target:"_blank"}]})),iconSrc:M,title:e},t?i.createElement("div",{className:"BMkrY BQ0Uf"},t):null,n)}}const P=w;var C=n(31945);const D=(0,r.$j)((function(){return(0,s.P1)((0,l.Z)(),(e=>{const t=e.connections.find((e=>"http"===e.scheme));return{friendlyName:e.friendlyName,bundledConnectionUri:null==t?void 0:t.uri,shouldShowInsecureAppMessage:C.P(e),shouldAllowInsecureFallback:C.E(e),isPending:e.isPending}}))}),(function(e,t){const n={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onTryAgainPress(){e((0,o.bc)()),e(a.Vk(n))}}}))((function(e){const{friendlyName:t,bundledConnectionUri:n,shouldShowInsecureAppMessage:r,shouldAllowInsecureFallback:s,isPending:o,onTryAgainPress:a}=e,{isOpen:l,onOpen:f,onClose:y}=(0,p.Z)();if(r){const e="macos"===d.Z.platformID||"windows"===d.Z.platformID;return i.createElement(P,{title:(0,u.Z)('app.plex.tv is unable to connect to "{serverName}" securely',{serverName:t})},e?i.createElement("div",{className:"vg2aF"},i.createElement(g.Z,{kind:b._8,target:"_blank",to:c.jv},"windows"===d.Z.platformID?(0,u.Z)("Download Plex for Windows"):(0,u.Z)("Download Plex for Mac"))):null,n?i.createElement(m.Z,{kind:b._8,to:h.Z.join([n,"/web/index.html"])},e?(0,u.Z)("Or you can try to navigate directly to Plex Media Server"):(0,u.Z)("You can try to navigate directly to Plex Media Server")):null)}return s?i.createElement(P,{description:(0,u.Z)("The app is loaded insecurely. You can attempt to use an insecure connection now."),title:(0,u.Z)('The server "{serverName}" does not allow secure connections',{serverName:t})},i.createElement(S.Z,{isOpen:l,serverEntityID:e.serverEntityID,onModalClose:y}),i.createElement(g.Z,{kind:b._8,onPress:f},(0,u.Z)("Allow Insecure Connections"))):i.createElement(Z,{friendlyName:t,isPending:o,onTryAgainPress:a})}))},79683:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var i=n(28216),r=n(22222),s=n(21847),o=n(53621),a=n(67294),l=n(44560),c=n(22220),d=n(21235),u=n(55710),h=n(23889),p=n(11066),g=n(77553),m=n(43655),f=n(40894),y=n(38737),v=n(98385),b=n(55349);class Z extends a.Component{constructor(e,t){super(e,t),this.onAllowFallbackConfirm=()=>{this.setState({isSubmitting:!0}),this.props.onAllowHttpFallback({serverEntityID:this.props.serverEntityID,allowHttpFallback:this.props.publicAddressMatches?l.Z.SAME_NETWORK:l.Z.ALWAYS})},this.state={isSubmitting:!1}}render(){const{publicAddressMatches:e,isOpen:t,onModalClose:n}=this.props,{isSubmitting:i}=this.state;return a.createElement(h.Z,{isOpen:t,metricsPage:c.Sd,size:b.HC,onModalClose:n},a.createElement(g.Z,{onModalClose:n},a.createElement(y.Z,null,(0,d.Z)("Allow Insecure Connections")),a.createElement(p.Z,null,e?(0,d.Z)("Insecure connections will only be allowed when you're on the same network as the server."):(0,d.Z)("Insecure connections will be allowed to any server."),a.createElement("br",null),(0,d.Z)("The Allow Fallback to Insecure Connections setting can be changed in Web Settings. Would you like to allow insecure connections?")),a.createElement(m.Z,null,a.createElement(f.Z,null,a.createElement(u.Z,{isDisabled:i,kind:v.TP,onPress:n},(0,d.Z)("Cancel")),a.createElement(u.Z,{isSpinning:i,kind:v.T,onPress:this.onAllowFallbackConfirm},(0,d.Z)("Allow"))))))}}const S=Z,I={onAllowHttpFallback:s.JZ},M=(0,i.$j)((function(){return(0,r.P1)((0,o.Z)(),(e=>({publicAddressMatches:e.publicAddressMatches})))}),I)(S)},46935:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(67294),r=n(25525),s=n(21235),o=n(44838),a=n(99778),l=n(98385);const c=function(){return i.createElement(a.Z,{description:(0,s.Z)("Don't worry, it will be back soon"),title:(0,s.Z)("Plex is down for maintenance")},i.createElement(o.Z,{kind:l._8,target:"_blank",to:r.S7},"status.plex.tv"))}},4495:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i=n(94184),r=n.n(i),s=n(67294),o=n(20725),a=n(81821),l=n(98385);const c={emptyPage:"BmNjQ",content:"Ocumg",icon:"BIfF7",default:"q27mR",primary:"RiRlN",success:"SM8HT",danger:"iBxg7",imgIcon:"uEwNS",title:"eTubS",footer:"D_Abe"};var d=Object.defineProperty,u=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function m(e){const t=e,{className:n,contentClassName:i,iconClassName:l,titleClassName:d,footerClassName:m,children:f,kind:y,scrollDirection:v,iconComponent:b,iconSrc:Z,title:S,description:I,footer:M}=t,w=((e,t)=>{var n={};for(var i in e)u.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&h)for(var i of h(e))t.indexOf(i)<0&&p.call(e,i)&&(n[i]=e[i]);return n})(t,["className","contentClassName","iconClassName","titleClassName","footerClassName","children","kind","scrollDirection","iconComponent","iconSrc","title","description","footer"]);return s.createElement(o.Z,((e,t)=>{for(var n in t||(t={}))u.call(t,n)&&g(e,n,t[n]);if(h)for(var n of h(t))p.call(t,n)&&g(e,n,t[n]);return e})({className:n,scrollDirection:v},w),s.createElement("div",{className:i},Z?s.createElement("img",{className:c.imgIcon,src:Z}):null,b?s.createElement("span",{className:r()(l,c[y])},s.createElement(b,null)):null,S?s.createElement("div",{className:d},S):null,I?s.createElement(a.Z,null,I):null,f),M?s.createElement("div",{className:m},M):null)}m.defaultProps={className:c.emptyPage,contentClassName:c.content,iconClassName:c.icon,titleClassName:c.title,footerClassName:c.footer,kind:l.TP};const f=m},81821:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67294);const r=function({children:e}){return i.createElement("div",{className:"BQ0Uf"},e)}},99778:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(67294),r=n(26400),s=n(4495),o=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const u=function(e){return i.createElement(s.Z,((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({iconComponent:r.F},e))}},48445:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(28216),r=n(22222),s=n(20165),o=n(21847),a=n(53621),l=n(67294),c=n(21235),d=n(55710),u=n(4495),h=n(98385),p=n(78388);const g=(0,i.$j)((function(){return(0,r.P1)((0,a.Z)(),(e=>({friendlyName:e.friendlyName,isPending:e.isPending})))}),(function(e,t){const n={serverEntityID:t.serverEntityID};return{onTryAgainPress(){e((0,s.bc)()),e(o.Vk(n))}}}))((function(e){const{friendlyName:t,isPending:n,onTryAgainPress:i}=e;return l.createElement(u.Z,{description:(0,c.Z)("Grab a cup of tea. This may take a couple of minutes."),iconSrc:p,title:(0,c.Z)('The server "{serverName}" is installing an update',{serverName:t})},l.createElement(d.Z,{isSpinning:n,kind:h._8,onPress:i},(0,c.Z)("Retry connection")))}))},36652:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(67294),r=n(21235),s=n(44838),o=n(99778),a=n(98385);const l=function(){return i.createElement(o.Z,{description:(0,r.Z)("We can't find the page you're looking for"),title:(0,r.Z)("Not found")},i.createElement(s.Z,{kind:a._8,to:"#"},(0,r.Z)("Go Home")))}},44738:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(67294),r=n(21235),s=n(99778);const o=function(){return i.createElement(s.Z,{description:(0,r.Z)("We are unable to connect to plex.tv at this time. Please try again later."),title:(0,r.Z)("Plex is not reachable")})}},79712:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(45697),r=n.n(i),s=n(67294),o=n(28216);const a={dispatchRedirectToUrl:n(20165).nL};class l extends s.Component{componentDidMount(){const{to:e,replace:t}=this.props;this.props.dispatchRedirectToUrl({url:e,replace:t})}render(){return null}}l.propTypes={to:r().string.isRequired,replace:r().bool,dispatchRedirectToUrl:r().func.isRequired};const c=(0,o.$j)(null,a)(l)},32629:(e,t,n)=>{"use strict";n.d(t,{Z:()=>V});var i=n(67294),r=n(28216),s=n(22222),o=n(5977),a=n(28941),l=n(80204),c=n(68468),d=n(13469),u=n.n(d);const h=function e(t){return function(e,t=u().identity){return Object.keys(e).forEach((n=>{e[n]=t(e[n])})),e}(function(e,t=u().identity){return Object.keys(e).forEach((n=>{t(e[n])||delete e[n]})),e}(t),(t=>u().isObject(t)?e(t):t))};var p=n(71417),g=n(57020),m=n(80441),f=n(30581),y=Object.defineProperty,v=Object.prototype.hasOwnProperty,b=Object.getOwnPropertySymbols,Z=Object.prototype.propertyIsEnumerable,S=(e,t,n)=>t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I=(e,t)=>{for(var n in t||(t={}))v.call(t,n)&&S(e,n,t[n]);if(b)for(var n of b(t))Z.call(t,n)&&S(e,n,t[n]);return e};var M=n(71065);const w=e=>e.user;var P=n(91856),C=n(43473),D=Object.defineProperty,A=Object.prototype.hasOwnProperty,x=Object.getOwnPropertySymbols,E=Object.prototype.propertyIsEnumerable,T=(e,t,n)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function j(e){const t=e.context||{},{user:n}=t,i=((e,t)=>{var n={};for(var i in e)A.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&x)for(var i of x(e))t.indexOf(i)<0&&E.call(e,i)&&(n[i]=e[i]);return n})(t,["user"]);return h(((e,t)=>{for(var n in t||(t={}))A.call(t,n)&&T(e,n,t[n]);if(x)for(var n of x(t))E.call(t,n)&&T(e,n,t[n]);return e})({},i))}const N=function(){return(0,s.P1)(((e,{signUp:t})=>t),((e,{email:t})=>t),((e,{providerID:t})=>t),((e,{userAuthToken:t})=>t),((e,{code:t})=>t),((e,{pinID:t})=>t),((e,{errorMessage:t})=>t),(e=>e.clientID),w,l.Z,((e,t,n,i,r,s,l,d,u,h)=>{const y=j((0,a.DB)("metrics").toJSON());if(e){const{base:e}=(0,f.Z)(window.location.href),t={forwardUrl:e,twop:"1",context:y};return h&&(t.lang=h),u.anonymous&&(t.guestToken=u.authToken),M.Z.join((0,c.LL)("sign-up/"),t,{trailingSlash:!0})}{const e={clientID:d,context:y};if(!(0,p.Z)()){const t=s?function(e,t){const{base:n,searchParams:i,hashPath:r,hashParams:s}=(0,f.Z)(e),o=(0,g.Z)(s);return`${n}${i}#${r}?${(0,m.Z)(I(I({},o),t))}`}(window.location.href,{pinID:s}):window.location.href;e.forwardUrl=t,(0,o.LX)(P.Z.location.pathname,{path:C.Z.serverSetup})&&(e.skipSignInUrl=function(e,t){let[,n]=e.match(/(^[^#]+)?/);return n=n||"",`${n}${t}`}(window.location.href,M.Z.join(["#!/setup"],{forwardUrl:t},{trailingSlash:!0})))}return r&&(e.code=r),n&&(e.provider=n),t&&(e.email=t),i&&(e.authToken=i),l&&(e.error=l),h&&(e.language=h),u.anonymous&&(e.guestToken=u.authToken),M.Z.join([(0,c.tZ)(),M.Z.join(["#!/"],e)],{},{recognizeHash:!0,trailingSlash:!0})}}))};var O=Object.defineProperty,k=Object.prototype.hasOwnProperty,L=Object.getOwnPropertySymbols,R=Object.prototype.propertyIsEnumerable,z=(e,t,n)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const V=(0,r.$j)((function(){return(0,s.P1)(N(),(e=>({serviceAuthUrl:e})))}),{})((function(e){const t=e,{component:n,serviceAuthUrl:r}=t,s=((e,t)=>{var n={};for(var i in e)k.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&L)for(var i of L(e))t.indexOf(i)<0&&R.call(e,i)&&(n[i]=e[i]);return n})(t,["component","serviceAuthUrl"]);return i.createElement(n,((e,t)=>{for(var n in t||(t={}))k.call(t,n)&&z(e,n,t[n]);if(L)for(var n of L(t))R.call(t,n)&&z(e,n,t[n]);return e})({to:r},s))}))},92255:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ie});var i=n(67294),r=n(28941),s=n(39620),o=n(22220),a=n(23889),l=n(55349),c=n(74646),d=n(28216),u=n(22222),h=n(25655),p=n(30271),g=n(68468),m=n(71065),f=n(94184),y=n.n(f),v=n(21235),b=n(66977),Z=n(84020),S=n(44838),I=n(48631),M=n(11066),w=n(77553),P=n(43655),C=n(38737),D=n(98385),A=n(53117),x=n(85828),E=n(92740),T=n(16752),j=n(47958),N=n(90136);const O=function({img:e,title:t,description:n}){return i.createElement("div",{className:"v68Zv"},i.createElement("div",{className:"RhJbE"},i.createElement("img",{className:"ld3K4",src:e}),i.createElement("div",{className:"ezibF"},i.createElement("div",{className:"UK0W0"},t),i.createElement("div",{className:"IEISx"},n))))},k="yn8Ev";var L=Object.defineProperty,R=Object.prototype.hasOwnProperty,z=Object.getOwnPropertySymbols,V=Object.prototype.propertyIsEnumerable,_=(e,t,n)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U=(e,t)=>{for(var n in t||(t={}))R.call(t,n)&&_(e,n,t[n]);if(z)for(var n of z(t))V.call(t,n)&&_(e,n,t[n]);return e};const B=function(e){const{metricsProperties:t,subscribeUrl:n,infoUrl:r,plans:o,isPlansPending:a,isPlansPopulated:c,plansError:d,onModalClose:u}=e;return i.createElement(w.Z,{onModalClose:u},i.createElement(C.Z,{className:"oy4UL GB5xN"},i.createElement("div",{className:"Oeu_z"},(0,v.Z)("Plex Pass")),(0,v.Z)("Enhance your Plex experience with exclusive premium features")),i.createElement(M.Z,{innerClassName:"Tqt8q Itgwf"},i.createElement(O,{description:(0,v.Z)("Enjoy your media offline on Android and iOS devices"),img:E,title:(0,v.Z)("Downloads")}),i.createElement(O,{description:(0,v.Z)("Connect a tuner and antenna to record free OTA broadcasts"),img:x,title:(0,v.Z)("Live TV & DVR")}),i.createElement(O,{description:(0,v.Z)("Set up managed user accounts to create custom access restrictions"),img:j,title:(0,v.Z)("Parental Controls")}),i.createElement(O,{description:(0,v.Z)("Connect your media server to your home automation system"),img:N,title:(0,v.Z)("Webhooks")}),i.createElement(O,{description:(0,v.Z)("See the play history, bandwidth, and top users on your media server"),img:A,title:(0,v.Z)("Server Dashboard")}),i.createElement(O,{description:(0,v.Z)("Sweet Fades, Loudness Leveling, Lyrics, and more"),img:T,title:(0,v.Z)("Premium Music Magic")}),i.createElement("div",{className:"dXd6r"},i.createElement(S.Z,{className:"m1P8l",target:"_self",to:r},(0,v.Z)("...plus more exclusive features!")))),i.createElement(P.Z,{className:"xMKyL dNFZf"},a?i.createElement("div",{className:"BOSsi"},i.createElement(b.Z,null)):null,i.createElement("div",{className:y()("ADVyI",a&&"jWRRD")},!a&&c?o.map((e=>i.createElement(I.Z,U(U({key:e.id},t),{action:s.kD,plan:e.id}),i.createElement(Z.Z,{className:k,kind:D._8,size:l.ln,target:"_self",to:m.Z.join(n,{plan:e.id,continue:window.location.href})},e.formattedPrice," — ",e.name)))):null,!a&&d?i.createElement(I.Z,U(U({},t),{action:s.kD,plan:"unknown"}),i.createElement(Z.Z,{className:k,kind:D._8,size:l.ln,target:"_self",to:n},(0,v.Z)("Subscribe"))):null)))};var F=Object.defineProperty,H=Object.prototype.hasOwnProperty,W=Object.getOwnPropertySymbols,Y=Object.prototype.propertyIsEnumerable,G=(e,t,n)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class q extends i.Component{UNSAFE_componentWillMount(){this.props.isSignedIn&&this.props.fetchPlans()}UNSAFE_componentWillReceiveProps(e){e.isSignedIn&&e.isSignedIn!==this.props.isSignedIn&&e.fetchPlans()}render(){return i.createElement(B,((e,t)=>{for(var n in t||(t={}))H.call(t,n)&&G(e,n,t[n]);if(W)for(var n of W(t))Y.call(t,n)&&G(e,n,t[n]);return e})({},this.props))}}const Q=(0,d.$j)((function(){return(0,u.P1)(((e,{origin:t})=>t),p.Z,((e,t)=>{const n=t.desktop,i={utm_source:"app.plex.tv",utm_medium:"app",utm_campaign:"PP_in-app-upsell_01"};return e&&(i.utm_content=e),{isSignedIn:t.isSignedIn,plans:n.plans,isPlansPending:n.isPlansPending,isPlansPopulated:n.isPlansPopulated,plansError:n.plansError,subscribeUrl:m.Z.join((0,g.LL)("/plex-pass/purchase"),i),infoUrl:(0,g.LL)("/plex-pass")}}))}),{fetchPlans:h.ZQ})(q);var K=Object.defineProperty,$=Object.prototype.hasOwnProperty,J=Object.getOwnPropertySymbols,X=Object.prototype.propertyIsEnumerable,ee=(e,t,n)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,te=(e,t)=>{for(var n in t||(t={}))$.call(t,n)&&ee(e,n,t[n]);if(J)for(var n of J(t))X.call(t,n)&&ee(e,n,t[n]);return e};class ne extends i.Component{constructor(){super(...arguments),this.onModalClose=()=>{(0,r.DB)("metrics").trackClick(te(te({},this.props.metricsProperties),{page:o.G5,action:s.AM})),this.props.onModalClose()}}shouldComponentUpdate(e,t){return(0,c.Z)(this,e,t)}render(){const{origin:e,isOpen:t,metricsProperties:n}=this.props;return i.createElement(a.Z,{isOpen:t,metricsPage:o.G5,metricsProperties:n,size:l.ln,onModalClose:this.onModalClose},i.createElement(Q,{metricsProperties:n,origin:e,onModalClose:this.onModalClose}))}}const ie=ne},43559:(e,t,n)=>{"use strict";function i(...e){return function(...t){for(let n=0,i=e.length;n<i;n++){const i=e[n];"function"==typeof i&&i(...t)}}}n.d(t,{Z:()=>i})},90616:(e,t,n)=>{"use strict";function i(...e){return e.filter((e=>!!e)).join("--")}n.d(t,{Z:()=>i})},12681:(e,t,n)=>{"use strict";function i(e){const t=parseFloat(e,10);let n=e.match(/m?s/);switch(n&&(n=n[0]),n){case"s":return 1e3*t;case"ms":return t}return 0}n.d(t,{Z:()=>i})},11722:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(12681);function r(e){return(0,i.Z)(e)/1e3}},19176:(e,t,n)=>{"use strict";n.d(t,{sM:()=>f,pc:()=>m,QE:()=>g,LJ:()=>p});var i=n(13469),r=n.n(i),s=n(14710),o=n(25798);function a(e){if(e===document)return!0;if(!e)return!1;if(!e.parentNode)return!1;if(e.style){const t=e.style;if("none"===t.display||"hidden"===t.visibility)return!1}if(window.getComputedStyle){const t=window.getComputedStyle(e);if("none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility"))return!1}return a(e.parentNode)}function l(e){let t=e.tabIndex;return null===t&&(t=void 0),!isNaN(t)&&t>=0&&function(e){if(!a(e))return!1;const t=e.nodeName.toLowerCase();return/input|select|textarea|button|object/.test(t)?!e.disabled:"a"!==t||e.href}(e)}function c(e){if(!e)return[];const t=[].slice.call(e.getElementsByTagName("*"),0).filter((e=>l(e)));return r().sortBy(t,(e=>0===e.tabIndex?1/0:e.tabIndex))}let d,u;function h(e){try{e.focus()}catch(e){}}function p(e){d=document.activeElement,u=e,function(e){const t=document.activeElement,n=t&&e&&e.contains(t);t&&!n&&t.blur()}(e)}function g(e){(0,s.Z)(u,"Call `startScopedFocus(element)` before `scopeTabEvent`");const t=c(u);if(!t.length)return;e.preventDefault();const n=document.activeElement,i=n?t.indexOf(n):-1,r=t.length-1;let o;-1===i?o=e.shiftKey?r:0:(o=e.shiftKey?i-1:i+1,o<0?o=r:o>r&&(o=0)),h(t[o])}function m(){(0,s.Z)(u,"Call `startScopedFocus(element)` before `scopeAutoFocus`");const e=c(u),t=r().find(e,(e=>(0,o.Z)(e.getAttribute("data-autofocus"))));t&&h(t)}function f(){d&&(h(d),d=null)}},97330:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});let i=0;const r=function(){return"id-"+i++}},87830:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67294);function r(e,t=!0){const n=(0,i.useRef)(!1);(0,i.useEffect)((()=>{if(t&&!n.current)return n.current=!0,e()}),[t,e,n])}},49118:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67294);function r(e){const[t,n]=(0,i.useState)(!1);return{isOpen:t,onOpen:(0,i.useCallback)((()=>n(!0)),[]),onClose:(0,i.useCallback)((()=>n(!1)),[]),onConfirm:(0,i.useCallback)((()=>{n(!1),e&&e()}),[e])}}},43569:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67294);function r(e){const t=(0,i.useRef)();return(0,i.useEffect)((()=>{t.current=e}),[e]),t.current}},61775:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(67294),r=n(97330);const s=function(){const[e]=(0,i.useState)(r.Z);return e}},31945:(e,t,n)=>{"use strict";n.d(t,{P:()=>a,E:()=>l});var i=n(80731),r=n(49521);function s(){return!r.Z.isHostedHttps||!!i.Z.allowMixedContent}function o(e){return e.isFullServer&&!!e.presence&&!e.httpsRequired}function a(e){return!s()&&o(e)}function l(e){const t=e.hasHttpsConnections&&!e.hasFallbackConnections;return s()&&o(e)&&t}},26700:(e,t,n)=>{"use strict";n.d(t,{be:()=>i,lW:()=>r,GZ:()=>s,Pv:()=>o});const i="isScrolling",r="isActive",s="isFocused",o="isDisabled"},66510:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});let i={};const r={getPageKey:()=>window.location.hash,getKey:e=>`${r.getPageKey()}!${e}`,get:e=>i[e],set(e,t){i[e]=t},remove(e){delete i[e]},clear(){i={}}},s=r},45223:(e,t,n)=>{"use strict";n.d(t,{UP:()=>i,WV:()=>r});const i="up",r="down"},98385:(e,t,n)=>{"use strict";n.d(t,{TP:()=>i,_8:()=>r,T:()=>s,Py:()=>o});const i="default",r="primary",s="danger",o="dark"},67070:(e,t,n)=>{"use strict";n.d(t,{Y3:()=>r,wl:()=>s,sD:()=>o,zg:()=>a,H1:()=>l,r$:()=>c,F5:()=>d,UC:()=>u,lD:()=>h,Uz:()=>p,jF:()=>g,Ap:()=>m,Bs:()=>f,IN:()=>y});var i=n(45697);const r="library",s="continueWatching",o="prePlay",a="playlist",l="quickSearch",c="player",d="playQueue",u="liveTVTimeline",h="liveTVGrid",p="nowPlaying",g="downloads",m="shared",f="watchTogether",y="watchTogetherLobby";n.n(i)().oneOf(["discover",r,"directoryList","metadataList","timeline",s,o,"postPlayPrevious","postPlayNext",a,"search",l,c,d,u,h,"recommended",p,g,m,f,y])},53311:(e,t,n)=>{"use strict";n.d(t,{Hn:()=>i,yZ:()=>r,_y:()=>s});const i="none",r="vertical",s="horizontal"},55349:(e,t,n)=>{"use strict";n.d(t,{HC:()=>i,M2:()=>r,ln:()=>s});const i="small",r="medium",s="large"},20764:(e,t,n)=>{"use strict";n.d(t,{IM:()=>i,jO:()=>r,ee:()=>s,aV:()=>o,eO:()=>a,OI:()=>l,Gf:()=>c,ab:()=>d});const i="topLeft",r="topCenter",s="topRight",o="bottomLeft",a="bottomCenter",l="bottomRight",c="middleLeft",d="middleRight"},36800:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(35785);function r(e){if(e&&e.features)return e.features.find((e=>e.type===i.Z.CONTENT))}},12359:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(94377),r=n(71065);function s(e,t,n,s={},o){if(!e||!t||!n)return;const a=function(e,t){const n=encodeURIComponent(e.machineIdentifier),i=encodeURIComponent(t.identifier),r=`/server/${n}`;return t.isLibraryProvider?r:`${e.isCloud?"":r}/provider/${i}`}(e,t),l=encodeURIComponent(n),c={[i.pV]:"album",[i.pX]:"playlist",[i.j0]:"playlist"},d=`#!${a}/${o?c[o]:"details"}?key=${l}`;return r.Z.join(d,s)}},7496:(e,t,n)=>{"use strict";function i(e,t){return`#!/${e}/${t}`}n.d(t,{Z:()=>i})},66501:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(28941),r=n(71746),s=n(71065);function o(e,t,n,i={},o){if(n===r._)return i.pivot?s.Z.join("#!",{pivot:i.pivot}):"#!";const a=["#!","media"];return e||a.push(encodeURIComponent(t)),a.push(encodeURIComponent(n),o),s.Z.join(a,i)}var a=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function h(e,t,n,r={},s){if(!function(e){const t=(0,i.DB)("appModel").get("embeddedServer");return!!e&&!!t&&e.machineIdentifier===t.get("machineIdentifier")}(e))return function(e,t,n,i){return o(e.isCloud,e.machineIdentifier,t.identifier,n,i)}(e,t,n?((e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e})({source:n.id},r):r,s)}},58216:(e,t,n)=>{"use strict";n.d(t,{tk:()=>i});n(71065);n(36800),n(66501),Object.defineProperty,Object.prototype.hasOwnProperty,Object.getOwnPropertySymbols,Object.prototype.propertyIsEnumerable;const i={RECORDING_SCHEDULE:"view://dvr/recording-schedule",GUIDE:"view://dvr/guide",TIMELINE:"view://photo/timeline",SHARED_ITEMS:"view://shared-items",HOME_RECOMMENDED:"view://home/recommended",HOME_WATCHLIST:"view://home/watchlist"};i.RECORDING_SCHEDULE,i.GUIDE,i.TIMELINE,i.SHARED_ITEMS},98956:(e,t,n)=>{"use strict";function i(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;const r=Object.prototype.hasOwnProperty;for(let i=0;i<n.length;i++)if(!r.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;return!0}n.d(t,{Z:()=>i})},74646:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(98956);function r(e,t,n,r,s){const o=s||i.Z;let a=o(e.props,t);return a&&(a=o(e.state,n),a&&r&&(a=o(e.context,r))),!a}},33237:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(80772);const r="#e5a00d",s="#fafafa",o="#a0aab1",a="#1f2326",l="#343a3f",c=Object.assign({},i.Z,{v4AccentLight:r,v4AltLight:s,v4AltMedium:o,v4AltMediumDark:"#737e87",v4AltMediumLight:"#d6dcdf",v4BaseDark:a,v4BaseLight:"#444f56",v4BaseMedium:"#2a3136",v4BaseMediumLight:l,v4DefaultColor:s,v4DividerColor:a,primaryButtonColor:a,selectBackground:"#525252",dragPreviewBackgroundColor:"rgba(76, 76, 76, 0.7)",dragPreviewOpacity:"0.9",dragPreviewLowOpacity:"0.35",dropLocationColor:"#f9be03",sliderTrackBackgroundColor:"rgba(255, 255, 255, 0.2)",sliderThumbBackgroundColor:"#ddd",sliderThumbHoverBackgroundColor:"#fff",rowOddBackgroundColor:"rgba(255, 255, 255, 0.03)",rowEvenBackgroundColor:"#292929",avatarLoadingBackgroundColor:"#999",avatarBackgroundColor:"#EEEEEE",detailsShadowColor:"#000",playerBackgroundColor:"#232426",playerTopControlsBackgroundColor:"rgba(35, 36, 38, 0.45)",playerBottomControlsBackgroundColor:"rgba(35, 36, 38, 0.8)",playerPrimaryButtonBackgroundColor:"rgba(0, 0, 0, 0.45)",miniPlayerBackgroundColor:i.Z.blackDarkerTranslucentBackgroundColor,playerSecondaryOverlayColor:"rgba(0, 0, 0, 0.5)",playerPosterActionColor:i.Z.blackDarkTranslucentBackgroundColor,playerPanelColor:"rgba(0, 0, 0, 0.6)",playerDisabledLinkColor:"rgba(255, 255, 255, 0.15)",playerShadowColor:"rgba(0, 0, 0, 0.45)",seekBarTrackColor:"rgba(0, 0, 0, 0.75)",seekBarTrackColorHover:"rgba(255, 255, 255, 0.15)",seekBarFillColor:"#cc7b19",seekBarBufferColor:"rgba(204, 123, 25, 0.3)",seekBarThumbnailShadowColor:"rgba(0, 0, 0, 0.45)",seekBarTooltipBackgroundColor:"#000",seekBarTooltipShadowColor:"rgba(0, 0, 0, 0.5)",thumbnailBackgroundColor:"rgba(0, 0, 0, 0.45)",adSeekBarFillColor:"#f9be03",equalizerBarColor:"#f9be03",htmlMediaElementBackgroundColor:"#000",toastBackgroundColor:"rgba(1, 1, 1, 0.50)",posterBackgroundColor:"rgba(0, 0, 0, 0.45)",posterHoverBackgroundColor:"radial-gradient(farthest-corner at 50% 50%, rgba(50, 50, 50, 0.5) 50%, rgb(50, 50, 50) 100%)",posterSelectedBackgroundColor:"rgba(30, 30, 30, 0.5)",posterBlendedSelectedBackgroundColor:"rgba(19, 19, 19, 0.78);",posterPlaceholderIconColor:"rgba(255, 255, 255, 0.15)",posterCenterCircleBackgroundColor:"rgba(0, 0, 0, 0.45)",posterBadgeShadowColor:"rgba(0, 0, 0, 0.6)",posterProgressTrackBackgroundColor:"rgba(0, 0, 0, 0.75)",posterVersionBadgeColor:"#556688",posterSmartBadgeColor:"rgb(142, 97, 145)",posterFavoriteBadgeColor:"rgb(229, 172, 182)",v4CardBackgroundColor:"rgba(0, 0, 0, 0.45)",v4CardShimmerBackgroundColor:"rgba(0, 0, 0, 0.3)",v4CardShadowColor:"rgba(0, 0, 0, 0.3)",v4CardHoverBackgroundColor:"rgba(30, 30, 30, 0.6)",v4CardHoverBorderColor:r,recordColor:"#f53",recordHoverColor:"lighten(#f53, 0.1)",recordBackgroundColor:"#b32",recordActiveBackgroundColor:"darken(#b32, 0.1)",dayOfWeekBackgroundColor:"rgba(255, 255, 255, 0.1)",dayOfWeekColor:"rgba(255, 255, 255, 0.75)",todayBackgroundColor:"rgba(255, 255, 255, 0.3)",todayColor:"rgba(255, 255, 255, 0.1)",calendarEventSuccessBackgroundColor:"rgba(0, 102, 153, 0.15)",calendarEventSuccessAlternateBackgroundColor:"rgba(31, 120, 165, 0.17)",calendarEventSuccessHoverBackgroundColor:"rgba(76, 148, 183, 0.20)",calendarEventErrorBackgroundColor:"rgba(187, 51, 34, 0.3)",calendarEventErrorAlternateBackgroundColor:"rgba(191, 64, 48, 0.31)",calendarEventErrorHoverBackgroundColor:"rgba(199, 87, 73, 0.34)",recordingIconColor:"#ff5533",playColor:"rgba(255, 255, 255, 0.75)",channelGridTimelineLabelColor:o,channelGridSelectedItemDetailsBackgroundColor:"rgba(0, 0, 0, 0.2)",channelGridBorderColor:l,channelGridHoverColor:"rgba(255, 255, 255, 0.2)",channelGridBackgroundColor:"rgba(160, 170, 177, 0.1)",channelGridOnAirBackgroundColor:"rgba(160, 170, 177, 0.1)",channelGridFinishedAiringBackgroundColor:"rgba(160, 170, 177, 0.3)",channelGridProgressColor:"rgba(160, 170, 177, 0.1)",channelGridMissingItemBackgroundColor:"rgba(0, 0, 0, 0)",channelGridChannelThumbBackgroundColor:"rgba(42, 49, 54, 0.5)",channelGridRecentChannelThumbBackgroundColor:"rgba(255, 255, 255, 0.05)",channelGridChannelIdentifierBackroundColor:"rgba(42, 49, 54, 0.5)",channelGridNewBadgeColor:"rgba(84, 84, 84)",filterBuilderInputBackgroundColor:"#1e2121",altFilterBuilderInputBackgroundColor:i.Z.blackDarkerTranslucentBackgroundColor,dvrBackgroundColor:i.Z.blackDarkTranslucentBackgroundColor,prePlayUnavailableButtonBackgroundColor:"rgba(255, 84, 50, 0.6)",prePlayPartialButtonBackgroundColor:"rgba(204, 123, 25, 0.6)",searchInputBackgroundColor:"rgba(255, 255, 255, 0.08)",preferredServerButtonBackgroundColor:"rgba(0, 0, 0, 0.45)",sortableHomeHubsContainerBackgroundColor:"rgba(255, 255, 255, 0.03)",sortableHomeHubsRowBackgroundColor:"rgba(255, 255, 255, 0.02)",chartTranslucentOpacity:"0.25",serverDashboardTileRowBackgroundPrimaryColor:"rgba(229, 160, 13, 0.2)",serverDashboardTileRowBackgroundSecondaryColor:"rgba(229, 160, 13, 0.15)",serverDashboardTileRowBackgroundTertiaryColor:"rgba(229, 160, 13, 0.1)",serverDashboardTileRowBackgroundQuaternaryColor:"rgba(229, 160, 13, 0.05)",sessionStopBackgroundColor:"#701f29",sessionStopIconColor:"rgba(255, 255, 255, 0.5)",sourceSidebarSelectedColor:"rgba(255, 255, 255, 0.07)",liveTVSettingsTuner1Color:"#7EB0D5",liveTVSettingsTuner2Color:"#BC9BB7",liveTVSettingsTuner3Color:"#8f9148",liveTVSettingsTuner4Color:"#7a3d84",liveTVSettingsTuner5Color:"#ca5f5a"})},8286:(e,t,n)=>{"use strict";var i={};n.r(i),n.d(i,{abortServerConnectionTest:()=>Vs,analyzeItems:()=>Fs,analyzeSection:()=>Ws,authenticateWithHash:()=>fa,authenticateWithServer:()=>ma,autoMatch:()=>mo,changeArtwork:()=>yo,cleanBundles:()=>ho,connectServer:()=>Wo,deleteAllVersionGenerators:()=>Uo,deleteFile:()=>So,deleteItem:()=>ko,deleteItems:()=>$s,deleteMediaItem:()=>io,deletePlaylist:()=>lo,deleteSection:()=>oo,deleteSectionThumbnails:()=>ao,deleteVersionGenerator:()=>Vo,deleteVersions:()=>ro,disableVersionGenerator:()=>Ro,emptyTrash:()=>po,enableVersionGenerator:()=>Lo,match:()=>go,merge:()=>qs,optimize:()=>uo,populateServerIdentity:()=>_s,rate:()=>vo,reconnectServer:()=>Yo,refreshMetadata:()=>Bs,removeDevice:()=>ya,removeServer:()=>Ko,reprocessVersionGenerator:()=>zo,resetUser:()=>$o,selectStream:()=>Zo,signInServer:()=>qo,signOut:()=>ba,splitApart:()=>Gs,switchUser:()=>Xo,testServerConnection:()=>zs,uninstallChannel:()=>Fo,unmatch:()=>Ys,updateChannel:()=>Bo,updateLibrary:()=>co});var r=n(19755),s=n.n(r),o=n(67294),a=n(15969),l=n(57865),c=n(73935),d=n(28216),u=n(5977),h=n(28941),p=n(55327),g=n(82590),m=n(51401),f=n(13469),y=n.n(f),v=n(57076),b=n(64373),Z=n(29847),S=n.n(Z);const I=v.Z.ItemView.extend({mixins:[b.Z],className:"alert transition-in",template:S(),alertDuration:2e3,transitionDuration:500,events:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave","click .close-btn":"onCloseClick"},initialState:"transitionIn",states:{transitionIn:{nextState:"visible",onEnter:function(){this.$el.triggerReflow(),this.$el.removeClass("transition-in"),this.startTransition()}},visible:{nextState:"transitionOut",onEnter:function(){this.transitionOutTimeout=window.setTimeout(this.enterNextState,this.alertDuration)}},transitionOut:{onEnter:function(){this.$el.addClass("transition-out"),this.startTransition()}}},initialize:function(e){this.bindAllWhenRendered(["enterNextState"]),y().isString(e)&&(e={message:e}),this.type=e.type,this.message=e.message,this.type&&this.$el.addClass("has-"+this.type)},serializeData:function(){return{type:this.type,message:this.message}},startTransition:function(){window.setTimeout(this.enterNextState,this.transitionDuration)},onRender:function(){y().defer(this.enterNextState)},onStateMachineComplete:function(){this.close()},onMouseEnter:function(){window.clearTimeout(this.transitionOutTimeout)},onMouseLeave:function(){"visible"===this.currentState&&(window.clearTimeout(this.transitionOutTimeout),this.transitionOutTimeout=window.setTimeout(this.enterNextState,this.alertDuration/2))},onCloseClick:function(e){e.preventDefault(),"visible"===this.currentState&&(window.clearTimeout(this.transitionOutTimeout),this.enterNextState())}}),M=p.Z.extend({mixins:[m.Z],initialize(){this.openAlerts={}},start(){this.listenTo(g.Z,{"show:alert":this.showAlert})},showAlert:function(e){const t=e.message;if(this.openAlerts[t])return;const n=new I(e);this.openAlerts[t]=!0,this.listenToOnce(n,"close",(function(){delete this.openAlerts[t]})),s()("body").append(n.render().el)}});function w(){(new M).start()}const P=p.Z.extend({mixins:[m.Z],initialize(){this.modals=[]},start(){this.listenTo(g.Z,{"show:modal":this.showModal,"hide:modal":this.hideModal})},showModal(e){this.modals.push(e);const t=s()("body");e.transparent&&t.addClass("show-modal-transparent"),t.append(e.render().el)},hideModal(e){const t=y().indexOf(this.modals,e);t>-1&&this.modals.splice(t,1)[0].close(),e.transparent&&!y().findWhere(this.modals,{transparent:!0})&&s()("body").removeClass("show-modal-transparent")}});function C(){(new P).start()}n(32688),n(13513),n(68553),n(51724);var D=n(80731),A=n(39666),x=n(86076),E=n(21235),T=n(86438);function j({children:e}){return o.createElement(T.Z,{description:(0,E.Z)("An unexpected error occurred."),title:(0,E.Z)("Something went wrong")},e)}class N extends o.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(e,t){super(e,t),this.state={hasError:!1}}componentDidCatch(e,t){x.Z.error(e);const n={extra:{componentStack:t.componentStack}};A.Tb(e,n)}render(){return this.state.hasError?o.createElement(j,null):o.createElement(o.Fragment,null,this.props.children)}}const O=N;var k=n(7567),L=n(75130),R=n(26263);const z=["#3a3a3a","#4c4c4c","#3f3f3f","#2f2f2f"];function V(){return o.createElement("div",{className:"EQJNO"},o.createElement(R.j,{bottomLeft:z[3],bottomRight:z[2],topLeft:z[0],topRight:z[1]}))}var _=n(20165),U=n(71074),B=n(91986),F=n(2992),H=n(98612),W=Object.defineProperty,Y=Object.prototype.hasOwnProperty,G=Object.getOwnPropertySymbols,q=Object.prototype.propertyIsEnumerable,Q=(e,t,n)=>t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function K(e){return o.createElement(H.Z,((e,t)=>{for(var n in t||(t={}))Y.call(t,n)&&Q(e,n,t[n]);if(G)for(var n of G(t))q.call(t,n)&&Q(e,n,t[n]);return e})({},e))}K.defaultProps={className:"eYAwO B6YGR"};const $=K;function J(){var e;const[t,n]=(0,o.useState)(!1),i=(0,d.I0)(),r=(0,d.v9)(U.Z),s=null==(e=r.desktop)?void 0:e.settings.find((e=>"AcceptedEULA"===e.id));return(0,o.useEffect)((()=>{const e=window.setInterval((()=>{i((0,_.bc)())}),2e3);return()=>{window.clearInterval(e)}}),[i]),(0,o.useEffect)((()=>{s&&r.isFullOwnedServer&&r.isConnected&&r.isClaimed&&(s.value?(0,B.Z)("home"):(0,B.Z)("serverSetup",{machineIdentifier:r.machineIdentifier}))}),[s,r.isClaimed,r.isConnected,r.isFullOwnedServer,r.machineIdentifier]),(0,o.useEffect)((()=>{const e=window.setTimeout((()=>{n(!0)}),3e5);return()=>{window.clearTimeout(e)}}),[]),o.createElement($,null,o.createElement(F.Z,null,t?o.createElement(T.Z,null,(0,E.Z)("Something went wrong. Make sure the server is available and try again.")):o.createElement(k.Z,{description:(0,E.Z)("Initializing Plex Media Server…")},o.createElement(L.Z,null))))}var X=n(4120),ee=n(89703),te=n(71746),ne=n(80177),ie=n(3675),re=n(8871),se=n(43473);var oe=n(22222),ae=n(66307),le=n(71065);var ce=n(81494),de=n(96543);var ue=n(34510),he=n(39620),pe=n(22220),ge=n(6772),me=n(66654),fe=n(58390),ye=n(86486),ve=n(31977),be=n(15084),Ze=n(19738);const Se="user/signIn/signInWithAuthToken",Ie=(0,ve.Z)(Se),Me={[Se](e,t,n){const{authToken:i,onSignInSuccess:r}=t,o=e.get("user");o.get("isSignedIn")&&o.get("authToken")!==i?ce.Z.execute("resetUser").then((()=>ye.Z.set("myPlexAccessToken",i))).then((()=>window.location.reload())):function(e,{authToken:t,onSignInSuccess:n}){const i=e.get("cloudServer"),r=e.get("user");s().ajax(i.getXHROptions(y().result(r,"url"),{headers:{"X-Plex-Token":t}})).then((e=>r.signIn(e))).then((()=>{n&&n()})).fail((e=>{const t=(0,be.Z)(e);g.Z.trigger("show:alert",{message:(0,Ze.Z)(t)})}))}(e,{authToken:i,onSignInSuccess:r})}};var we=n(42456),Pe=n(71417),Ce=n(46935),De=n(79712),Ae=n(32629),xe=n(91856);const Ee=function(){return o.createElement("div",{className:"lDuPy"},o.createElement("div",{className:"qQ06J"}))};var Te=n(20725),je=n(44838),Ne=n(55710);var Oe=Object.defineProperty,ke=Object.prototype.hasOwnProperty,Le=Object.getOwnPropertySymbols,Re=Object.prototype.propertyIsEnumerable,ze=(e,t,n)=>t in e?Oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Ve(e){const t=e,{component:n}=t,i=((e,t)=>{var n={};for(var i in e)ke.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Le)for(var i of Le(e))t.indexOf(i)<0&&Re.call(e,i)&&(n[i]=e[i]);return n})(t,["component"]);return o.createElement(n,((e,t)=>{for(var n in t||(t={}))ke.call(t,n)&&ze(e,n,t[n]);if(Le)for(var n of Le(t))Re.call(t,n)&&ze(e,n,t[n]);return e})({className:"yndst"},i))}Ve.defaultProps={component:"div"};const _e=Ve,Ue="UdP0h",Be=function(e){return o.createElement(_e,null,o.createElement("div",{className:"ISQNC"},(0,E.Z)("You must be signed in for Plex to work properly. If you are not signed in…")),o.createElement("ul",{className:"_wt68"},o.createElement("li",{className:Ue},(0,E.Z)("Any connections between your media server and players WILL NOT BE SECURE")),o.createElement("li",{className:Ue},(0,E.Z)("You may experience degraded streaming performance")),o.createElement("li",{className:Ue},(0,E.Z)("It will be more difficult, and sometimes impossible, to find your server and discover players")),o.createElement("li",{className:Ue},(0,E.Z)("You will not be able to access your media server from outside your home")),o.createElement("li",{className:Ue},(0,E.Z)("You will not be able to access content and many features provided by Plex"))))};var Fe=n(98385),He=n(55349);class We extends o.Component{constructor(e,t){super(e,t),this.onSwitchToSkipSignInPress=()=>{this.setState({isSkipSignInVisible:!0})},this.onStillTherePress=()=>{this.setState({isSkipSignInVisible:!1}),this.props.onStillTherePress()},this.onSignInPress=()=>{this.setState({isSkipSignInVisible:!1}),this.props.onSignInPress()},this.state={isSkipSignInVisible:!1}}render(){const{to:e,code:t,signUp:n,isBusy:i,onSkipSignInPress:r}=this.props,s=!(i||t),a=!s,l=this.state.isSkipSignInVisible,c=(0,u.LX)(xe.Z.location.pathname,{path:se.Z.serverSetup});return o.createElement(Te.Z,{autoScroll:!0,className:"kqpn0"},c&&!l?o.createElement(je.Z,{className:"wd9jj",kind:Fe._8,onPress:this.onSwitchToSkipSignInPress},(0,E.Z)("What's this?")):null,o.createElement(Ee,null),o.createElement("div",{className:"jQLrf"},l?o.createElement(Be,null):null,o.createElement("div",{className:"aN1YV"},a?o.createElement(Ne.Z,{className:"no8mf mfBoX r2dcz x5jRQ OMhm8",isSpinning:!t,kind:Fe._8,size:He.ln,target:"_blank",to:e,type:"submit",onPress:this.onSignInPress},n?(0,E.Z)("Sign up"):(0,E.Z)("Sign in")):null,s?o.createElement(je.Z,{kind:Fe._8,onPress:this.onStillTherePress},(0,E.Z)("Are you still there?")):null)),l?o.createElement(je.Z,{className:"n4Yjg",kind:Fe._8,onPress:r},(0,E.Z)("Skip and accept limited functionality")):null)}}const Ye=We;var Ge=Object.defineProperty,qe=Object.prototype.hasOwnProperty,Qe=Object.getOwnPropertySymbols,Ke=Object.prototype.propertyIsEnumerable,$e=(e,t,n)=>t in e?Ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Je={dispatchPreloadPIN:fe.fJ,dispatchBeginPolling:fe.W$,dispatchStopPolling:fe.FN,dispatchSkipSignIn:fe.WW};class Xe extends o.Component{constructor(){super(...arguments),this.onSignInPress=()=>{this.props.dispatchBeginPolling({pinID:this.props.pinID})},this.onStillTherePress=()=>{this.props.dispatchPreloadPIN()},this.onSkipSignInPress=()=>{this.props.dispatchSkipSignIn()}}componentDidMount(){this.props.dispatchPreloadPIN()}componentWillUnmount(){this.props.dispatchStopPolling()}render(){const e=this.props,{dispatchPreloadPIN:t,dispatchBeginPolling:n,dispatchStopPolling:i,dispatchSkipSignIn:r}=e,s=((e,t)=>{var n={};for(var i in e)qe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Qe)for(var i of Qe(e))t.indexOf(i)<0&&Ke.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchPreloadPIN","dispatchBeginPolling","dispatchStopPolling","dispatchSkipSignIn"]);return o.createElement(Ae.Z,((e,t)=>{for(var n in t||(t={}))qe.call(t,n)&&$e(e,n,t[n]);if(Qe)for(var n of Qe(t))Ke.call(t,n)&&$e(e,n,t[n]);return e})({component:Ye,onSignInPress:this.onSignInPress,onSkipSignInPress:this.onSkipSignInPress,onStillTherePress:this.onStillTherePress},s))}}const et=(0,d.$j)(we.Z,Je)(Xe);var tt=n(66977),nt=n(4495),it=Object.defineProperty,rt=Object.prototype.hasOwnProperty,st=Object.getOwnPropertySymbols,ot=Object.prototype.propertyIsEnumerable,at=(e,t,n)=>t in e?it(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const lt={dispatchReadStoredPIN:fe.Ty};class ct extends o.Component{componentDidMount(){this.props.dispatchReadStoredPIN({shouldCreatePIN:!0})}render(){const e=this.props,{pinID:t,dispatchReadStoredPIN:n}=e,i=((e,t)=>{var n={};for(var i in e)rt.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&st)for(var i of st(e))t.indexOf(i)<0&&ot.call(e,i)&&(n[i]=e[i]);return n})(e,["pinID","dispatchReadStoredPIN"]);return t?o.createElement(Ae.Z,((e,t)=>{for(var n in t||(t={}))rt.call(t,n)&&at(e,n,t[n]);if(st)for(var n of st(t))ot.call(t,n)&&at(e,n,t[n]);return e})({component:De.Z,pinID:t,replace:!0},i)):o.createElement(nt.Z,null,o.createElement(tt.Z,null))}}const dt=(0,d.$j)(we.Z,lt)(ct);var ut=Object.defineProperty,ht=Object.prototype.hasOwnProperty,pt=Object.getOwnPropertySymbols,gt=Object.prototype.propertyIsEnumerable,mt=(e,t,n)=>t in e?ut(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ft=(e,t)=>{for(var n in t||(t={}))ht.call(t,n)&&mt(e,n,t[n]);if(pt)for(var n of pt(t))gt.call(t,n)&&mt(e,n,t[n]);return e};const yt={dispatchResetAuthCodeExchange:fe.tD,dispatchSignInWithAuthToken:Ie};class vt extends o.Component{componentDidMount(){this.props.dispatchResetAuthCodeExchange()}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchSignInWithAuthToken({authToken:this.props.authToken,onSignInSuccess:this.props.signUp?()=>(0,B.Z)("home"):null})}render(){const e=this.props,{providerID:t,errorMessage:n,fatalErrorMessage:i,signUp:r,isPollClient:s,dispatchResetAuthCodeExchange:a,dispatchSignInWithAuthToken:l}=e,c=((e,t)=>{var n={};for(var i in e)ht.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&pt)for(var i of pt(e))t.indexOf(i)<0&&gt.call(e,i)&&(n[i]=e[i]);return n})(e,["providerID","errorMessage","fatalErrorMessage","signUp","isPollClient","dispatchResetAuthCodeExchange","dispatchSignInWithAuthToken"]);return i?o.createElement(Ce.Z,null):t?o.createElement(Ae.Z,ft({component:De.Z,providerID:t,replace:!0,signUp:r},c)):s?o.createElement(et,ft({signUp:r},c)):o.createElement(dt,{signUp:r})}}const bt=(0,d.$j)((function(){return(0,oe.P1)(we.Z,(e=>ft({isPollClient:(0,Pe.Z)()},e)))}),yt)(vt),Zt=me.Z.extend({component:e=>o.createElement(H.Z,null,o.createElement(bt,{signUp:e.signUp}))});var St=n(54676),It=n(79567),Mt=n(36481),wt=n(92255),Pt=n(39997),Ct=n.n(Pt);const Dt=v.Z.ItemView.extend({className:"setup-basic-container",template:Ct(),ui:{modalContainer:".modal-container",connectCheckbox:"#connect",publishServerCheckbox:"#PublishServerOnPlexOnlineKey",submitBtn:".submit-btn",nextBtn:".next-btn"},collectionEvents:{reset:"render"},events:{"change input[id]":"onInputChange","submit #setup-basic-form":"onSubmit","change #PublishServerOnPlexOnlineKey":"onPublishSettingChange"},initialize:function(){y().bindAll(this,"onPlexPassModalClose"),this.collection=this.model.get("desktop").get("settings"),this.collection.populate({reset:!0}),this.model.isVersionOrNewer("0.9.15.5")?this.changes={PublishServerOnPlexOnlineKey:1}:this.changes={FirstRun:0,PublishServerOnPlexOnlineKey:1};const e=this.model.get("superToken");e&&(this.changes.PlexOnlineToken=e);const t=(0,h.DB)("appModel").get("user").get("hasPlexSubscription");this.isPlexPassModalOpen=!this.model.get("isDesktop")&&!t},serializeData:function(){const e=this.model.toJSON(),t=this.collection.get("FriendlyName"),n=this.collection.get("PublishServerOnPlexOnlineKey");return{server:e,friendlyNameSetting:t?t.toJSON():null,publishSetting:n?n.toJSON():null}},mountReact:function(){c.render(o.createElement(d.zt,{store:(0,h.DB)("appStore")},o.createElement(wt.Z,{isOpen:this.isPlexPassModalOpen,metricsProperties:{context:St.uf,firstRun:!0},origin:It.pp,onModalClose:this.onPlexPassModalClose})),this.ui.modalContainer[0])},unmountReact:function(){this.isRendered&&c.unmountComponentAtNode(this.ui.modalContainer[0])},submit:function(){const e=this.ui.submitBtn;if(e.hasClass("active"))return;e.addClass("active"),(0,h.DB)("metrics").trackClick({action:he.pg,page:pe.YB,pane:"name",firstRun:!0,value:this.ui.publishServerCheckbox.is(":checked")});let t=this.save();t=t.done((()=>{this.ui.nextBtn.click()})),t.always((function(){e.removeClass("active")}))},save(){return this.saveChanges().then((()=>this.claimServer()))},saveChanges(){return(y().isEmpty(this.changes)?s().Deferred().resolve().promise():this.collection.first().save(this.changes)).then(null,(()=>{g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem saving these settings.")})}))},claimServer(){const e=(0,h.DB)("appModel"),t=e.get("cloudServer");return!this.model.supports("claimServer")||this.model.get("isClaimed")||this.model.get("superToken")||e.get("user").get("anonymous")?s().Deferred().resolve().promise():(0,Mt.Z)(t.populate().then((()=>ce.Z.execute("signInServer",{claim:!0,cloudAccount:this.model.get("desktop").get("cloudAccount")}).then(null,(()=>{g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem claiming this server.")})})))))},onBeforeRender:function(){this.unmountReact()},onRender:function(){this.mountReact()},onClose:function(){this.unmountReact()},onInputChange:function(e){const t=e.currentTarget;let n=t.value;"checkbox"===t.type&&(n=t.checked?1:0),this.changes[t.id]=n},onSubmit:function(e){e.preventDefault(),this.submit()},onPlexPassModalClose:function(){this.isPlexPassModalOpen=!1,this.mountReact()}}),At=function(e){return s().when(...e.map(Mt.Z))};var xt=n(218),Et=n(42440),Tt=n.n(Et);const jt=v.Z.ItemView.extend({className:"setup-complete-container",template:Tt(),ui:{modalContainer:".modal-container",submitBtn:".submit-btn",doneBtn:".done-btn"},collectionEvents:{reset:"render"},events:{"change input[id]":"onInputChange","submit #setup-complete-form":"onSubmit"},initialize:function(){this.collection=this.model.get("desktop").get("settings"),this.collection.populate({reset:!0}),this.changes={};const e=h.DB("appModel").get("user");e.get("isSignedIn")?e.fetch().done(this.whenRendered((()=>{this.ui.submitBtn.removeClass("active")}))):this.once("attached",(()=>{this.ui.submitBtn.removeClass("active")}))},serializeData:function(){const e=this.collection.get("collectUsageData");return{devicesImg:xt,collectUsageDataSetting:e?e.toJSON():null}},submit:function(){const e=this.ui.submitBtn;e.hasClass("active")||(e.addClass("active"),this.save().always(this.whenRendered((function(){this.ui.doneBtn.click(),e.removeClass("active")}))))},save:function(){this.saved=!0,y().has(this.changes,"collectUsageData")&&!this.changes.collectUsageData&&h.DB("metrics").trackClick({action:he.mX,page:pe.YB,pane:"complete",firstRun:!0});const e=this.collection.first().save(this.changes),t=this.model.get("sections").filter((e=>e.isNew())).map((e=>e.save())),n=s().when(e,At(t));return n.fail((()=>{g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem saving these settings.")})})),n},onClose:function(){this.saved||this.save()},onInputChange:function(e){const t=e.currentTarget;let n=t.value;"checkbox"===t.type&&(n=t.checked?1:0),this.changes[t.id]=n},onSubmit:function(e){e.preventDefault(),this.submit()}});var Nt=n(79989),Ot=n.n(Nt);const kt=v.Z.ItemView.extend({className:"setup-error-container",template:Ot()});var Lt=n(39842),Rt=n(9905),zt=n(57849),Vt=n(51119),_t=n.n(Vt);const Ut=v.Z.ItemView.extend({className:"setup-intro-container",template:_t(),serializeData:()=>({computerImg:Lt,mediaImg:Rt,playImg:zt})});var Bt=n(94928),Ft=n(46608),Ht=n(74926),Wt=n(21887),Yt=n.n(Wt);const Gt={artist:"music",movie:"film",photo:"picture",show:"display"},qt=v.Z.ItemView.extend({tagName:"li",className:"card-tile-list-single-item",template:Yt(),events:{"click .edit-section-btn":"onEditClick","click .delete-section-btn":"onDeleteClick"},serializeData:function(){var e;const t=this.model.server,n=this.model.toJSON(),i=null==(e=n.locations)?void 0:e[0],r=n.locations?n.locations.length:0;return{section:n,serverID:t.id,icon:Gt[n.type],path:i.path,more:r-1}},bindings:{".section-title":{modelAttribute:"title"}},onEditClick:function(e){e.preventDefault();const t=this.model,n=new Ht.Z({model:t,server:t.server,isDefaultSection:t.isNew()});t.isNew()&&n.promise.always((()=>{t.trigger("destroy",t,t.collection)})),g.Z.trigger("show:modal",n)},onDeleteClick:function(e){e.preventDefault();const t=this.model;t.isNew()?t.trigger("destroy",t,t.collection):ce.Z.execute("deleteSection",{section:t})}}),Qt=Ft.Z.extend({tagName:"ul",className:"list card-tile-list",itemView:qt});var Kt=n(41411),$t=n.n(Kt);const Jt=v.Z.Layout.extend({className:"setup-library-container",template:$t(),regions:{list:".setup-section-list-container"},events:{"click .add-section-btn":"onAddSectionClick"},metricsValue:function(){return this.collection.size()},initialize:function(e){const t=this.model,n=t.get("sections"),i=new Bt.Z([],{server:t,url:"/services/defaultLibraries"});this.collection=n,this.model.supports("defaultSections")&&e.isFirstVisitToSubset&&s().when(i.populate(),n.populate()).done((()=>{n.length||i.forEach((e=>{e.collection=n,n.add(e)}))}))},onRender:function(){this.list.show(new Qt({collection:this.collection}))},onAddSectionClick:function(e){e.preventDefault(),g.Z.trigger("show:modal",new Ht.Z({server:this.model}))}});var Xt=n(32094),en=n.n(Xt);const tn=v.Z.ItemView.extend({className:"setup-loading-container",template:en()});var nn=n(49506),rn=n.n(nn);const sn={setupIntro:"intro",setupError:"error",setupBasic:"name",setupLibrary:"library",setupComplete:"complete"},on=[ue.HN,ue.NV,ue.E4],an=v.Z.Layout.extend({className:"container",template:rn(),maxAttempts:120,ui:{header:".setup-header"},regions:{container:".setup-container"},events:{"click .segment-btn":"onNavClick","click .next-btn":"onNavClick","click .done-btn":"onDoneClick"},onlyAfterRender:["onAgentsSuccess","onAgentsFail","onUpdatesComplete"],initialize:function(e){y().bindAll(this,"start","onAgentsSuccess","onAgentsFail","onUpdatesComplete","onSkipSignInChange"),this.subset=e.subset||"setupIntro",this.attempts=0,this._visitedSubsets={},x.Z.info("Starting the setup wizard");const t=(0,h.DB)("appModel");this.model=(0,ge.SW)(t,e),this.listenTo(t,"change:skipSignIn",this.onSkipSignInChange)},serializeData:function(){return{subset:this.subset}},renderSubset:function(){if(this.model.get("shared"))return void this.navigate("setupError");const e=(0,h.DB)("appModel"),t=e.get("user").server,n=t.populate();n.done(this.whenRendered((()=>{this.navigate("setupIntro")}))),n.fail((()=>{e.get("primaryServer").get("desktop").get("settings").fetch().then((e=>!0===e.get("AcceptedEULA").get("value")?s().Deferred().resolve():s().Deferred().reject())).then(this.whenRendered((()=>{this.navigate("setupIntro")}))).fail(this.whenRendered((()=>{const n=e.get("skipSignIn"),i=t.get("isUnavailable");this.navigate(n||i?"setupIntro":"setupSignIn")})))}))},start:function(){if(this.attempts>=this.maxAttempts)return x.Z.error("Failed to start the setup wizard after "+this.attempts+" attempts"),void this.navigate("setupError");this.attempts++;const e=this.model.get("startState");if(e)(0,x.Z)("Waiting for server to start ("+e+")"),this.model.fetch().done(y().delay(this.start,500));else{const e=new de.Z([],{server:this.model}).fetch({timeout:0});e.done(this.onAgentsSuccess),e.fail(this.onAgentsFail)}},navigate:function(e){const t="setupIntro"===e,n="setupSignIn"===e,i="setupLoading"===e,r=function(e){return{setupSignIn:Zt,setupIntro:Ut,setupLoading:tn,setupError:kt,setupBasic:Dt,setupLibrary:Jt,setupComplete:jt}[e]}(e),s=sn[e];this.previousSubset=this.subset,this.subset=e,s&&(0,h.DB)("metrics").trackView({page:pe.YB,pane:s,firstRun:!0});const o=!this._visitedSubsets[e];this._visitedSubsets[e]=!0;const a=new r({model:this.model,isFirstRun:!0,isFirstVisitToSubset:o});this.container.show(a),this.ui.header.toggleClass("hidden",t||n),this.$el.addClass(e),this.previousSubset!==e&&this.$el.removeClass(this.previousSubset),i&&this.start()},onRender:function(){this.renderSubset()},onAgentsSuccess:function(e){(0,x.Z)("Looking for a core agent");const t=on.find((t=>e.get(t)));t?((0,x.Z)(t+" found"),this.model.get("desktop").get("settings").populate().then((e=>e.get("AcceptedEULA").save({AcceptedEULA:!0}))),ce.Z.execute("updateChannel",{server:this.model,silent:!0}).always(this.onUpdatesComplete)):(x.Z.error("No core agents found"),this.navigate("setupError"))},onAgentsFail:function(){x.Z.warn("Unable to request agents"),y().delay(this.start,500)},onUpdatesComplete:function(){this.navigate("setupBasic")},onNavClick:function(e){e.preventDefault();const t=s()(e.currentTarget),n=t.data("subset");t.hasClass("segment-btn")&&"setupBasic"===this.subset&&this.container.currentView?(e.preventDefault(),this.container.currentView.submit()):this.navigate(n)},onDoneClick:function(e){e.preventDefault(),(0,h.DB)("metrics").trackClick({page:pe.YB,action:he.ly,firstRun:!0}),(0,B.Z)("home")},onSkipSignInChange(){this.renderSubset()}});var ln=n(88936),cn=n(69299),dn=n(99778),un=n(21847),hn=n(47397),pn=n(87830);const gn=(0,d.$j)((function(){return(0,oe.P1)((0,hn.Z)(),(e=>{const t=e.settings.find((e=>"AcceptedEULA"===e.id));return{isSettingsPopulated:e.isSettingsPopulated,settingsError:e.settingsError,hasAcceptedEULA:!(!t||!t.value),isAcceptedEULASaving:!(!t||!t.isSaving)}}))}),(function(e,t){const{serverEntityID:n,forwardUrl:i}=t;return{onPopulateSettings(){e((0,un.R_)({serverEntityID:n}))},onAcceptEULA(){e((0,un.o1)({serverEntityID:n,setting:{id:"AcceptedEULA",value:!0}}))},onSkipSignIn(){(0,h.DB)("metrics").trackClick({page:pe.H4,action:he.AM,firstRun:!0}),e((0,_.nL)({url:i}))}}}))((function(e){const{isSettingsPopulated:t,settingsError:n,hasAcceptedEULA:i,isAcceptedEULASaving:r,onPopulateSettings:s,onAcceptEULA:a,onSkipSignIn:l}=e;return(0,pn.Z)((()=>{s()})),(0,pn.Z)((()=>{a()}),t&&!i),(0,pn.Z)((()=>{l()}),i&&!r),n?o.createElement(dn.Z,{description:(0,E.Z)("The server you're trying to access doesn't seem to exist."),title:(0,E.Z)("Media server not found")}):o.createElement(nt.Z,null,o.createElement(tt.Z,null))}));var mn=n(90616);const fn=(0,d.$j)((function(){return(0,oe.P1)(((e,{serverEntityID:t})=>t),(e=>e.primaryServer),(e=>e.isWaitingForPrimaryServer),ae.Z,((e,t,n)=>({serverEntityID:e||t,isWaitingForPrimaryServer:n})))}))((function(e){const{serverEntityID:t,isWaitingForPrimaryServer:n}=e,i=function(){const e=(0,u.TH)().search;return(0,o.useMemo)((()=>{const{params:t}=le.Z.parseUri(e);return t}),[e])}(),r=null==(s=i.forwardUrl)?"":String(s);var s;return t?o.createElement(cn.Z,{hideUnclaimedPage:!0,serverEntityID:t},r?o.createElement(gn,{forwardUrl:r,serverEntityID:t}):o.createElement(ln.Z,{key:(0,mn.Z)("SetupPage",t),className:us,view:an,viewOptions:{serverEntityID:t,subset:"setupBasic"}})):n?o.createElement(nt.Z,null,o.createElement(tt.Z,null)):o.createElement(dn.Z,{description:(0,E.Z)("The server you're trying to access doesn't seem to exist."),title:(0,E.Z)("Media server not found")})}));function yn(){const e=function(){const e=(0,u.$B)({path:[se.Z.serverSetup],exact:!0}),t=null==e?void 0:e.params,n=null==t?void 0:t.machineIdentifier,i=null==t?void 0:t.providerIdentifier;return n||i?{machineIdentifier:n||ne.X,providerIdentifier:i?decodeURIComponent(i):te.Y3}:{machineIdentifier:re.Z.machineIdentifier,providerIdentifier:ie.Z.identifier}}(),t=(0,X.Z)(ee.SERVER,e.machineIdentifier);return o.createElement($,null,o.createElement(F.Z,null,o.createElement(fn,{serverEntityID:t})))}var vn=n(24533);const bn=(0,oe.P1)(vn.Z,(e=>e.filter((e=>!e.isCloud&&!e.isEmbedded&&!!e.friendlyName))));var Zn=n(78283);const Sn={},In=function(e){const t=Sn[e]||(0,oe.P1)(Zn.Z,(t=>!!t[e]));return Sn[e]=t,t};var Mn=n(30271),wn=n(15856),Pn=n(80100);n(25368);var Cn=n(98458),Dn=n(25525),An=n(84020),xn=n(23889),En=n(11066),Tn=n(77553),jn=n(43655),Nn=n(38737),On=n(74576);const kn=function(e){const{isOpen:t,errorMessage:n,onModalClose:i}=e,r=[n||(0,E.Z)("There was an unexpected error."),(0,E.Z)("Please visit our forums if you continue to experience problems.")];return o.createElement(xn.Z,{isOpen:t,metricsPage:pe.Sd,size:He.HC,onModalClose:i},o.createElement(Tn.Z,{onModalClose:i},o.createElement(Nn.Z,null,(0,E.Z)("There was an unexpected error")),o.createElement(En.Z,null,r.join(" "),o.createElement("br",null),o.createElement(je.Z,{kind:Fe._8,target:"_self",to:Dn.bB,onPress:i},(0,E.Z)("Go to Forums"))),o.createElement(jn.Z,null,o.createElement(An.Z,{className:On.Z.button,"data-autofocus":!0,kind:Fe._8,onPress:i},(0,E.Z)("Okay")))))};var Ln=n(49118),Rn=n(20764),zn=n(81985);const Vn=function(){const e=(0,Ln.Z)(),t=(0,E.Z)("An unexpected error is impacting the navigation bar");return o.createElement("div",{className:"d5Vrk cgzdn"},o.createElement(Cn.Z,{"aria-label":t,component:je.Z,tooltip:t,tooltipAttachment:Rn.eO,onPress:e.onOpen},o.createElement(zn.Z,{className:"Hv42T"})),o.createElement(kn,{errorMessage:`${t}.`,isOpen:e.isOpen,onModalClose:e.onClose}))};var _n=n(27553),Un=n(97013),Bn=n(85985),Fn=n(11376),Hn=n(51544),Wn=n(36440),Yn=n(54320),Gn=n(80204),qn=Object.defineProperty,Qn=Object.prototype.hasOwnProperty,Kn=Object.getOwnPropertySymbols,$n=Object.prototype.propertyIsEnumerable,Jn=(e,t,n)=>t in e?qn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xn=(e,t)=>{for(var n in t||(t={}))Qn.call(t,n)&&Jn(e,n,t[n]);if(Kn)for(var n of Kn(t))$n.call(t,n)&&Jn(e,n,t[n]);return e};function ei(e){const t=e,{children:n,className:i}=t,r=((e,t)=>{var n={};for(var i in e)Qn.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Kn)for(var i of Kn(e))t.indexOf(i)<0&&$n.call(e,i)&&(n[i]=e[i]);return n})(t,["children","className"]);return o.createElement(je.Z,Xn(Xn({},r),{className:i}),n)}ei.defaultProps={className:"O0hHq x5jRQ"};const ti=ei,ni=function(){const e=(0,u.k6)(),t=(0,o.useCallback)((()=>{e.push(se.Z.login)}),[e]);return o.createElement(ti,{className:"jQVX4 O0hHq x5jRQ","data-testid":"signInButton",onPress:t},(0,E.Z)("Sign In"))},ii=function(){const e=(0,u.k6)(),t=(0,o.useCallback)((()=>{e.push(se.Z.signUp)}),[e]);return o.createElement(ti,{"data-testid":"signUpButton",onPress:t},(0,E.Z)("Sign Up"))};var ri=n(94184),si=n.n(ri),oi=n(37018),ai=n(26056),li=n(97330),ci=n(45223),di=n(32516);function ui(e){const{className:t,children:n}=e;return o.createElement("div",{className:t},n)}ui.defaultProps={className:"K6VfI"};const hi=ui;var pi=n(24296),gi=n(77574),mi=n(43559);const fi=(0,d.$j)((function(){return(0,oe.P1)(Mn.Z,ae.Z,In(wn.je),In(wn.vi),((e,t,n)=>({username:e.title,isSignedIn:e.signedIn,isRestricted:e.isRestricted,isCloudServerConnected:t.isConnected,isAnonymousUser:!!e.anonymous,isFullUser:e.isFullUser,appsURL:t?t.appsUrl:"https://plex.tv/downloads",hasHomeLibraryAccessLabels:n})))}),(function(e,t){return{onSignInPress(e){e.preventDefault(),(0,B.Z)("login")},onSignOutPress(e){e.preventDefault(),(0,B.Z)("logout")}}}))((function(e){const{isOpen:t,target:n,options:i,username:r,isSignedIn:s,isAnonymousUser:a,isFullUser:l,appsURL:c,isCloudServerConnected:d,onSignInPress:u,onSignOutPress:h,onMenuClose:p,hasHomeLibraryAccessLabels:g}=e,m=d&&(!s||a),f=s&&l&&!a;return o.createElement(di.Z,{isOpen:t,options:i,size:g?He.ln:He.M2,target:n,onMenuClose:p},r?o.createElement(hi,null,r):null,s?o.createElement(gi.Z,null):null,d?o.createElement(pi.Z,{target:"_self",to:c,onPress:p},(0,E.Z)("Get Plex Apps")):null,d?o.createElement(pi.Z,{target:"_self",to:Dn.av,onPress:p},(0,E.Z)("Help")):null,o.createElement(gi.Z,null),m?o.createElement(pi.Z,{onPress:(0,mi.Z)(p,u)},(0,E.Z)("Sign In")):null,f?o.createElement(pi.Z,{onPress:(0,mi.Z)(p,h)},(0,E.Z)("Sign Out")):null)}));class yi extends o.Component{constructor(e,t){super(e,t),this.onButtonPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=e=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._buttonID=(0,li.Z)()}render(){const{className:e,tooltipClassName:t,tooltipFocusedClassName:n,serverEntityID:i,userThumb:r}=this.props;return o.createElement(o.Fragment,null,o.createElement(Cn.Z,{className:e,component:oi.Z,direction:this.state.isMenuOpen?ci.UP:ci.WV,id:this._buttonID,isSelected:!1,tooltip:this.state.isMenuOpen?void 0:(0,E.Z)("Account"),tooltipClassName:t,tooltipFocusedClassName:n,onPress:this.onButtonPress},o.createElement("div",{className:"z5YBr"},o.createElement("div",{className:si()("Wz4N3",this.state.isMenuOpen&&"Fa0Hu")}),o.createElement(ai.Z,{height:30,serverEntityID:i,url:r,width:30}))),o.createElement(fi,{isOpen:this.state.isMenuOpen,target:this._buttonID,onMenuClose:this.onMenuClose}))}}yi.defaultProps={className:"LOGsx IZ0cW x5jRQ",tooltipClassName:"gRTc1 a1e4c GtJsp If9gp cb5I0 rII2m",tooltipFocusedClassName:"Nqmbw gRTc1 a1e4c GtJsp If9gp cb5I0 rII2m"};const vi=yi;var bi=n(63457);const Zi=(0,oe.P1)(bi.Z,(e=>e.libraries));var Si=n(46611),Ii=n(40271),Mi=n(1990);const wi=(0,Ii.Z)((0,oe.P1)(Si.Z,Mi.Z,((e,t)=>t[e])),(e=>e)),Pi=(0,n(72059).Z)((0,oe.P1)(vn.Z,(e=>e.filter((e=>e.isFullOwnedServer&&e.isConnected&&!e.isTransient)))),(e=>e)),Ci=(0,oe.P1)(Pi,(e=>e.map((e=>e.entityID))));var Di=n(33024);const Ai=(0,oe.P1)(Di.Z,(e=>e.dismissedServerUpdateVersions)),xi=(0,oe.P1)(Di.Z,(e=>e.serverUpdateDismissedVersion));var Ei=n(79154);const Ti={[Ei.RG]:!0,[Ei.JW]:!0,[Ei.sC]:!0,[Ei.t6]:!0,[Ei.zL]:!0,[Ei.Ts]:!0,[Ei.nJ]:!0,[Ei.y0]:!0,[Ei.QX]:!0,[Ei.Gh]:!0,[Ei.k9]:!0,[Ei.TS]:!0,[Ei.ZJ]:!0,[Ei.K5]:!0,[Ei.AA]:!0,[Ei._V]:!0,[Ei.iJ]:!0};var ji=n(49112),Ni=n(67201);function Oi(e,t,n){const i=function(e){const t=e.desktop&&e.desktop.update;if(t&&(t.state===ji.AVAILABLE||t.state===ji.DOWNLOADED||t.state===ji.DOWNLOADING||t.state===ji.NOTIFY))return(0,Ni.Z)(t.version)}(e);return!!(e.isConnected&&e.isFullOwnedServer&&i&&i!==n&&i!==t[e.machineIdentifier])}var ki=n(52366);const Li=(0,oe.P1)(ki.Z,(e=>e.length>0));var Ri=n(27957),zi=n(25787),Vi=n(53621),_i=n(98963);const Ui="postprocessing";var Bi=n(12273);const Fi=function(e){const{title:t,subtitle:n,progress:i,isPostProcessing:r}=e;return o.createElement("div",{className:"jwZ3i Q4FVu"},o.createElement("span",{className:"jS3Sd"},o.createElement("span",{className:"tu4Z9",title:t},t,n?":":null),n?o.createElement("span",{className:"Uyyik",title:n},n):null),o.createElement("span",null,null==i||r?o.createElement(tt.Z,{size:He.HC}):o.createElement(Bi.Z,{lineWidth:2,progress:i,showProgressText:!1,size:18})))},Hi="qiUZl",Wi="xXcb0";function Yi(e){const{labelClassName:t,label:n,indicator:i}=e;return o.createElement(pi.Z,{className:"X8md1 jwZ3i Q4FVu",to:null==e?void 0:e.to,onPress:null==e?void 0:e.onPress},o.createElement("span",{className:t},n),i?o.createElement("span",{className:"Jj0bR"},i):null)}const Gi=(0,d.$j)((function(){return(0,oe.P1)((0,Vi.Z)(),(0,zi.Z)(),(0,oe.P1)((0,hn.Z)(),(e=>e.backgroundTranscodeJobs?e.backgroundTranscodeJobs:[])),(0,oe.P1)((0,hn.Z)(),(e=>e.activities?e.activities:[])),(0,oe.P1)(((e,{serverEntityID:t})=>t),ki.Z,((e,t)=>t.some((([,t])=>e===t)))),Ai,xi,Ri.Z,((e,t,n,i,r,s,o,a)=>({friendlyName:e.friendlyName,machineIdentifier:e.machineIdentifier,providerEntityID:e.providers.map((e=>a[e])).find((e=>e.identifier===te.Y3)).entityID,sessionsCount:t,backgroundTranscodeJobs:n,activities:i,showLibraryUpgradeAvailable:r,showUpdateAvailable:Oi(e,s,o)})))}))((function(e){const{friendlyName:t,sessionsCount:n,backgroundTranscodeJobs:i,activities:r,showUpdateAvailable:s,onMenuClose:a}=e,l=(0,o.useCallback)((()=>{(0,B.L)(),a()}),[a]);return o.createElement("div",{className:"RpUEJ"},o.createElement("div",{className:"VGqVJ"},t),o.createElement(Yi,{indicator:n?`${n}`:null,label:(0,E.Z)("Dashboard"),to:"#!/status/server-dashboard",onPress:a}),i.length?o.createElement(Yi,{indicator:`${i.length}`,label:(0,E.Z)("Conversions"),to:"#!/status/conversion",onPress:a}):null,r.length?r.map((e=>{const{uuid:t,type:n,title:i,subtitle:r,progress:s,Context:a={}}=e;return Ti[n]?o.createElement(Fi,{key:t,isPostProcessing:a.status===Ui,progress:s,subtitle:r,title:i}):null})):null,s?o.createElement(Yi,{indicator:o.createElement("div",{className:Hi},o.createElement(_i.D,null)),label:(0,E.Z)("Server Update Available"),labelClassName:Wi,to:"#!/server/update",onPress:a}):null,e.showLibraryUpgradeAvailable?o.createElement(Yi,{indicator:o.createElement("div",{className:Hi},o.createElement(_i.D,null)),label:(0,E.Z)("Upgrade Libraries"),labelClassName:Wi,onPress:l}):null)})),qi=(0,d.$j)((function(){return(0,oe.P1)((0,hn.Z)(),(e=>({activities:e&&e.activities?e.activities.filter((e=>Ti[e.type])):[]})))}))((function(e){const{activities:t,onMenuClose:n}=e;return t.length?o.createElement("div",{className:"_6VjBC RpUEJ"},o.createElement("div",{className:"EioCA VGqVJ"},o.createElement(je.Z,{to:le.Z.join("#!/downloads",undefined),onPress:n},(0,E.Z)("Downloads"))),t.map((e=>{const{uuid:t,title:n,subtitle:i,progress:r,Context:s={}}=e;return o.createElement(Fi,{key:t,isPostProcessing:s.status===Ui,progress:r,subtitle:i,title:n})}))):null})),Qi={placement:"bottom-end"},Ki=function(e){const{isOpen:t,target:n,embeddedServerEntityID:i,ownedServerEntityIDs:r,onMenuClose:s}=e;return o.createElement(di.Z,{className:"duuJG CgKY7",isOpen:t,options:Qi,target:n,onMenuClose:s},r.map((e=>o.createElement(Gi,{key:e,serverEntityID:e,onMenuClose:s}))),i?o.createElement(qi,{key:i,serverEntityID:i,onMenuClose:s}):null)};var $i=n(61775),Ji=n(31300),Xi=n(60489),er=n(33237);const tr=function({className:e,showSpinner:t,showHighlighted:n,showUpdateIcon:i}){return o.createElement("span",{className:si()(e,"gT56r")},t?o.createElement(tt.Z,{className:"WUBgv dHO6j m_4Rc",color:er.Z.primaryAlternateColor}):null,n?o.createElement(Ji.C,null):null,!n&&i?o.createElement(_i.D,null):null,n||i?null:o.createElement(Xi.z,null))};var nr=n(14710);var ir=Object.defineProperty,rr=Object.prototype.hasOwnProperty,sr=Object.getOwnPropertySymbols,or=Object.prototype.propertyIsEnumerable,ar=(e,t,n)=>t in e?ir(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lr=(e,t)=>{for(var n in t||(t={}))rr.call(t,n)&&ar(e,n,t[n]);if(sr)for(var n of sr(t))or.call(t,n)&&ar(e,n,t[n]);return e};function cr(e){const t=e,{className:n,tooltipClassName:i,tooltipFocusedClassName:r,labelClassName:s,iconComponent:a,title:l,ariaLabel:c,label:d,iconProps:u}=t,h=((e,t)=>{var n={};for(var i in e)rr.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&sr)for(var i of sr(e))t.indexOf(i)<0&&or.call(e,i)&&(n[i]=e[i]);return n})(t,["className","tooltipClassName","tooltipFocusedClassName","labelClassName","iconComponent","title","ariaLabel","label","iconProps"]),p=l||c;return o.createElement(Cn.Z,lr({"aria-label":p,className:n,component:je.Z,tooltip:l,tooltipClassName:i,tooltipFocusedClassName:r},h),o.createElement(a,lr({},u)),d?o.createElement("span",{className:s},d):null)}cr.defaultProps={className:"fa3uy LHQ7Y",tooltipClassName:"o48En a1e4c GtJsp If9gp cb5I0 rII2m",tooltipFocusedClassName:"O5ZA3 o48En a1e4c GtJsp If9gp cb5I0 rII2m"};const dr=cr;var ur=Object.defineProperty,hr=Object.prototype.hasOwnProperty,pr=Object.getOwnPropertySymbols,gr=Object.prototype.propertyIsEnumerable,mr=(e,t,n)=>t in e?ur(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const fr={sessionsCount:0,backgroundTranscodeJobsCount:0,activitiesCount:0};function yr(e,t){return e.reduce(((e,n)=>{const{backgroundTranscodeJobs:i=[],activities:r=[]}=n.desktop,s=t[n.machineIdentifier],o=null==s?void 0:s.sessionKeys.length,a=i.length,l=r.filter((e=>!!Ti[e.type])).length;return o>0&&(e.sessionsCount+=o),a>0&&(e.backgroundTranscodeJobsCount+=a),l>0&&(e.activitiesCount+=l),e}),((e,t)=>{for(var n in t||(t={}))hr.call(t,n)&&mr(e,n,t[n]);if(pr)for(var n of pr(t))gr.call(t,n)&&mr(e,n,t[n]);return e})({},fr))}const vr=(0,oe.P1)(Pi,(e=>e.v4.core.serverNowPlayingSessions),((e,t)=>yr(e,t))),br=(0,oe.P1)(wi,(e=>e.v4.core.serverNowPlayingSessions),((e,t)=>e?yr([e],t):fr)),Zr=(0,oe.P1)(vr,br,((e,t)=>({activitiesCount:e.activitiesCount+t.activitiesCount,backgroundTranscodeJobsCount:e.backgroundTranscodeJobsCount+t.backgroundTranscodeJobsCount,sessionsCount:e.sessionsCount+t.sessionsCount}))),Sr=(0,oe.P1)(Pi,Zi,((e,t)=>e.reduce(((e,n)=>{const{libraries:i}=n.desktop;return e+i.filter((e=>{const n=t[e];return!!n&&n.refreshing})).length}),0))),Ir=(0,oe.P1)(Pi,Ai,xi,((e,t,n)=>e.some((e=>Oi(e,t,n))))),Mr=(0,d.$j)((function(){return(0,oe.P1)(((e,{isDisabled:t})=>!!t),Si.Z,Ci,Zr,Sr,Ir,((e,t,n,i,r,s)=>{const o=n.length>0;let a=o;return t&&(a=!0,e=e||!o&&i.sessionsCount+i.backgroundTranscodeJobsCount+i.activitiesCount===0),{isDisabled:e,embeddedServerEntityID:t,ownedServerEntityIDs:n,showActivityButton:a,hasSessions:i.sessionsCount>0,hasConversions:i.backgroundTranscodeJobsCount>0,hasActivities:i.activitiesCount>0,hasAvailableServerUpdate:s,hasLibraryRefreshing:r>0,activityButtonCount:i.sessionsCount+i.backgroundTranscodeJobsCount}}))}))((function(e){const{activityButtonCount:t,embeddedServerEntityID:n,hasActivities:i,hasAvailableServerUpdate:r,hasConversions:s,hasLibraryRefreshing:a,hasSessions:l,isDisabled:c,ownedServerEntityIDs:u}=e,h=(0,d.v9)(Li),p=(0,$i.Z)(),[g,m]=(0,o.useState)(!1),f=(0,o.useCallback)((()=>{m(!g)}),[g]),y=(0,o.useCallback)((()=>{m(!1)}),[]),v=i||a,b=l||s,Z=!b&&!t&&(r||h);return(0,o.useEffect)((()=>{c&&g&&y()}),[c,g,y]),o.createElement(o.Fragment,null,o.createElement(dr,{ariaLabel:(0,E.Z)("Activity"),className:si()("bBF2y fa3uy LHQ7Y",(b||Z)&&"l0h1v"),iconComponent:tr,iconProps:{className:"zdedE gT56r",showSpinner:v,showHighlighted:b,showUpdateIcon:Z},id:p,isDisabled:c,label:t?String(t):void 0,labelClassName:"R0Io4",title:g?void 0:(0,E.Z)("Activity"),onPress:f}),o.createElement(Ki,{embeddedServerEntityID:n,isOpen:g,ownedServerEntityIDs:u,target:p,onMenuClose:y}))}));var wr=n(59140),Pr=n(68468);class Cr extends o.Component{constructor(e,t){super(e,t),this.onButtonPress=e=>{const{shouldBypassModal:t}=this.props;(0,h.DB)("metrics").trackEvent({event:wr.Jw,interaction:!0,context:{experiments:{"upsell-experiment":t?"direct":"in-app"}}}),t||this.setState({isPlexPassModalOpen:!0})},this.onModalClose=e=>{this.setState({isPlexPassModalOpen:!1})},this.state={isPlexPassModalOpen:!1}}render(){const{shouldBypassModal:e}=this.props,t=le.Z.join((0,Pr.LL)("/plex-pass/purchase"),{utm_source:"app.plex.tv",utm_medium:"app",utm_campaign:"PP_in-app-upsell_01",utm_content:It.uh});return o.createElement(o.Fragment,null,o.createElement(ti,{target:"_blank",to:e?t:void 0,onPress:this.onButtonPress},(0,E.Z)("Go Premium")),o.createElement(wt.Z,{isOpen:this.state.isPlexPassModalOpen,metricsProperties:{context:St.uh},origin:It.uh,onModalClose:this.onModalClose}))}}const Dr=Cr,Ar={container:"cgzdn",side:"FVw8d",plexLogo:"c3WX2 fa3uy LHQ7Y",buttonSeparator:"iJOQ4",accountButton:"pipOk LOGsx IZ0cW x5jRQ",left:"OuWyU FVw8d",right:"crowu FVw8d"},xr=function(e=Pn.Z){return"ios"===e.platformID}(),Er=(0,oe.P1)((e=>e.isFullscreen),(e=>e)),Tr=(0,oe.P1)((e=>e.downloads&&e.downloads.subscriptions),(e=>!!e&&e.length>0)),jr=(0,oe.P1)(bn,(e=>e.some((e=>e.isConnected)))),Nr=(0,d.$j)((function(){return(0,oe.P1)((e=>e.history),Mn.Z,Er,(0,oe.P1)(ae.Z,Tr,jr,((e,t,n)=>!!e&&(e.isResolved||t||n))),In(wn.Oo),((e,t,n,i,r)=>({serverEntityID:(0,X.Z)(ee.SERVER,ne.X),hasHistory:e.length>1,userThumb:t.thumb,isFullscreen:n,isAnonymousUser:!!t.anonymous,canGoPremium:t.canGoPremium,shouldBypassPlexPassUpsellModal:r,canNavigateHistory:xr,shouldRender:i})))}),(function(e,t){return{onBackPress(t){e((0,_.n)())},onEnterFullscreen(e){(0,h.DB)("fullscreenManager").enter()},onExitFullscreen(e){(0,h.DB)("fullscreenManager").exit()}}}))((function(e){const{serverEntityID:t,hasHistory:n,userThumb:i,canEnterFullscreen:r,canExitFullscreen:s,isAnonymousUser:a,canGoPremium:l,shouldBypassPlexPassUpsellModal:c,canNavigateHistory:u,shouldRender:h,onBackPress:p,onEnterFullscreen:g,onExitFullscreen:m}=e,f=(0,d.v9)(Gn.Z);if(!h)return null;const y=(0,mn.Z)("NavBar",f);return o.createElement("div",{key:y,className:Ar.container},o.createElement(Wn.X,{align:Yn.xM.Left,grow:!0,height:"100%",verticalAlign:Yn.xM.Center},o.createElement(dr,{className:Ar.firstButton,iconComponent:_n.A,title:(0,E.Z)("Home"),to:"#"}),o.createElement(je.Z,{className:Ar.plexLogo,to:"#"},o.createElement(Un.D,null)),u?o.createElement(dr,{iconComponent:Bn.v,isDisabled:!n,title:(0,E.Z)("Back"),onPress:p}):null),o.createElement("div",{className:Ar.right},l?o.createElement(Dr,{shouldBypassModal:c}):null,a?o.createElement(o.Fragment,null,o.createElement(ni,null),o.createElement(ii,null)):null,l||a?o.createElement("div",{className:Ar.buttonSeparator}):null,s?o.createElement(dr,{iconComponent:Fn.Y,title:(0,E.Z)("Exit Full Screen"),onPress:m}):null,r?o.createElement(dr,{iconComponent:Hn.N,title:(0,E.Z)("Enter Full Screen"),onPress:g}):null,r||s?o.createElement("div",{className:Ar.buttonSeparator}):null,o.createElement(Mr,null),o.createElement(vi,{className:Ar.accountButton,serverEntityID:t,userThumb:a?null:i})))}));class Or extends o.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e){x.Z.error(e)}render(){return this.state.hasError?o.createElement(Vn,null):o.createElement(Nr,null)}}const kr=Or;var Lr=n(16916),Rr=n(44738),zr=n(43569);const Vr=function(){const e=(0,d.I0)(),t=(0,d.v9)(Lr.Z),{available:n,isResolved:i,isRejected:r}=(0,d.v9)(ae.Z),s=(0,zr.Z)(n),a=!0===n||!1===n,l=!0!==s&&!1!==s;return(0,pn.Z)((()=>{e((0,_._K)())})),(0,o.useEffect)((()=>{l&&a&&e((0,_._K)())}),[e,a,l]),i?t?o.createElement(bt,null):o.createElement(u.l_,{to:se.Z.home}):r&&a?n?o.createElement(bt,null):o.createElement(Rr.Z,null):o.createElement(k.Z,null,o.createElement(L.Z,null))};var _r=n(36652),Ur=n(25980),Br=n(4426);var Fr=Object.defineProperty,Hr=Object.prototype.hasOwnProperty,Wr=Object.getOwnPropertySymbols,Yr=Object.prototype.propertyIsEnumerable,Gr=(e,t,n)=>t in e?Fr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function qr(e){var t=e,{children:n,innerClassName:i}=t,r=((e,t)=>{var n={};for(var i in e)Hr.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Wr)for(var i of Wr(e))t.indexOf(i)<0&&Yr.call(e,i)&&(n[i]=e[i]);return n})(t,["children","innerClassName"]);return o.createElement(Br.Z,((e,t)=>{for(var n in t||(t={}))Hr.call(t,n)&&Gr(e,n,t[n]);if(Wr)for(var n of Wr(t))Yr.call(t,n)&&Gr(e,n,t[n]);return e})({className:"t0i7E"},r),o.createElement("div",{className:i},n))}qr.defaultProps={innerClassName:"ZdrJU"};const Qr=qr;var Kr=n(53311);var $r=Object.defineProperty,Jr=Object.prototype.hasOwnProperty,Xr=Object.getOwnPropertySymbols,es=Object.prototype.propertyIsEnumerable,ts=(e,t,n)=>t in e?$r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ns=function(e){return o.createElement(nt.Z,((e,t)=>{for(var n in t||(t={}))Jr.call(t,n)&&ts(e,n,t[n]);if(Xr)for(var n of Xr(t))es.call(t,n)&&ts(e,n,t[n]);return e})({className:"DeXf3 BmNjQ",contentClassName:"g4Fv4 Ocumg",scrollDirection:Kr.Hn},e))};class is extends o.Component{static getDerivedStateFromProps(e,t){return e.isSignedIn&&!t.isSigningOut?{isSigningOut:!0}:null}constructor(e,t){super(e,t),this.state={isSigningOut:!1}}componentDidMount(){this.state.isSigningOut&&this.props.onSignOut()}componentDidUpdate(e,t){this.state.isSigningOut&&!t.isSigningOut&&this.props.onSignOut()}render(){return o.createElement(Ur.Z,{metricsPage:pe.dp},o.createElement(Qr,null,o.createElement(ns,null,o.createElement(tt.Z,null))))}}const rs=is,ss=(0,oe.P1)(Mn.Z,(({isSignedIn:e})=>({isSignedIn:e}))),os=(0,d.$j)(ss,(function(e){return{onSignOut(){ce.Z.execute("signOut").then((()=>{e((0,_.im)({route:"login",replace:!0}))}))}}}))(rs),as=o.lazy((()=>n.e(357).then(n.bind(n,28357)))),ls=o.lazy((()=>n.e(559).then(n.bind(n,9635)))),cs=o.lazy((()=>n.e(952).then(n.bind(n,61952)))),ds=o.lazy((()=>Promise.all([n.e(99),n.e(292)]).then(n.bind(n,31292)))),us="scroll-container dark-scrollbar";function hs(){!function(){const e=(0,d.I0)(),t=(0,u.TH)();(0,o.useEffect)((()=>{e((0,_.$e)())}),[t,e])}(),function(){const e=(0,d.I0)(),t=(0,u.k6)();(0,o.useEffect)((()=>(e((0,_.xM)({location:{pathname:t.location.pathname,search:t.location.search}})),t.listen((t=>{e((0,_.xM)({location:{pathname:t.pathname,search:t.search}}))})))),[e,t])}();const e=(0,u.Gn)(se.Z.serverSettings,{settingsSection:"status",settingsGroup:"server-dashboard"});return o.createElement(o.Fragment,null,o.createElement(V,null),o.createElement(O,null,o.createElement(o.Suspense,{fallback:o.createElement($,null,o.createElement(k.Z,null,o.createElement(L.Z,null)))},o.createElement(u.rs,null,o.createElement(u.l_,{exact:!0,from:se.Z.home,to:e}),o.createElement(u.l_,{exact:!0,from:se.Z.serverSettingsPMS,to:e}),o.createElement(u.AW,{component:yn,exact:!0,path:se.Z.serverSetup}),o.createElement(u.AW,null,o.createElement("div",null,o.createElement(kr,null)),o.createElement("div",{className:us},o.createElement(O,null,o.createElement(o.Suspense,{fallback:o.createElement($,null,o.createElement(k.Z,null,o.createElement(L.Z,null)))},o.createElement(u.rs,null,o.createElement(u.AW,{component:J,exact:!0,path:se.Z.serverAwait}),o.createElement(u.AW,{exact:!0,path:se.Z.logout},o.createElement($,null,o.createElement(os,null))),o.createElement(u.AW,{exact:!0,path:se.Z.login},o.createElement($,null,o.createElement(Vr,null))),o.createElement(u.AW,{exact:!0,path:se.Z.signUp},o.createElement($,null,o.createElement(bt,{signUp:!0}))),o.createElement(u.AW,{component:as,exact:!0,path:se.Z.info}),o.createElement(u.AW,{component:ls,exact:!0,path:se.Z.logs}),o.createElement(u.AW,{component:cs,exact:!0,path:se.Z.serverUpdate}),o.createElement(u.AW,{component:ds,exact:!0,path:se.Z.serverSettings}),o.createElement(u.AW,{component:_r.Z}))))))))))}const ps={PUT:!0,DELETE:!0},gs={Accept:!0,"Accept-Language":!0,"Content-Language":!0,"Content-Type":!0},ms=/^(text\/plain|multipart\/form-data|application\/x-www-form-urlencoded)/,fs=/(^X-Plex-[^=]+)/i,ys=/(^[^?]+)\?(.+$)/;function vs(e){const{type:t,contentType:n,headers:i,allowHeadersInUrl:r,allowBlacklistedMethodHeaders:s}=e;if(!r)return;if(ps[t]&&!s)return;const o={};let a=!1;if(y().each(i,((e,t)=>{gs[t]||(fs.test(t)?(a=!0,o[t]=e,delete i[t]):x.Z.warn('Did not move header "%s" to query string. This can result in an unnecessary OPTIONS preflight request.',t))})),a){const n=e.url.match(ys),[,i,r]=n||[null,e.url,null],s=r?r.split("&"):[],[a,l]=y().partition(s,(e=>fs.test(e))),c=e.data;"GET"===t&&c&&(l.push(y().isString(c)?c:le.Z.stringifyParams(c)),delete e.data),a.forEach((e=>{const t=e.match(fs);t&&delete o[t[1]]}));const d=le.Z.stringifyParams(o);d&&a.push(d),e.url=`${i}?${l.concat(a).join("&")}`}n&&!ms.test(n)&&x.Z.warn('Sending %s request with Content-Type "%s". This can result in an unnecessary OPTIONS preflight request.',t,n)}var bs=n(81560);function Zs(){return s().ajaxPrefilter(vs),bs.Z.startListening(),s().Deferred().resolve().promise()}var Ss=n(33654),Is=n(49521),Ms=n(2932);const ws=function(){if(!Is.Z.hasReplaceState)return s().Deferred().resolve().promise();const e=s().Deferred(),t=window.location,n=Ms.Z.parseQueryString(t.search);let i;try{i=JSON.parse(n.alerts),delete n.alerts}catch(e){}if(i){Ss.Z.push(...i);const e=`${le.Z.join([`${t.origin}${t.pathname}`],n)}${t.hash}`;window.history.replaceState({},"",e)}return e.resolve().promise()};var Ps=n(90379);function Cs(e){return y().isString(e)&&e.trim().length>0}function Ds(e,t){const n=(0,Ps.Z)();return(0,x.Z)("[appModelInitializer] Generating new %s [%s]",t,n),e.set(t,n),ye.Z.set(t,n)}function As(e,t){let n;const i=e.get(t);return Cs(i)?n=ye.Z.set(t,i):(n=ye.Z.get(t),n=n.then((n=>{if(!Cs(n))return x.Z.error("[appModelInitializer] Invalid %s found in storage [%s]",t,i),Ds(e,t);e.set(t,n)}),(()=>((0,x.Z)("[appModelInitializer] Failed to read %s from storage",t),Ds(e,t))))),n}function xs(e){const t=ye.Z.get("skipSignIn");return t.always((t=>{e.set("skipSignIn","1"===t)})),t}function Es(){const e=(0,h.DB)("appModel");return At([As(e,"clientID"),As(e,"anonymousClientID"),xs(e)])}var Ts=n(34755);const js=Ts.Z.extend({supportsRetry:e=>e.get("isCloud")});var Ns=n(78149),Os=n(59695),ks=n(60964);const Ls=p.Z.extend({lastModified:null,eTag:null,mixins:m.Z,url:function(){const e=h.DB("appModel"),t=e.get("user"),n="/sub/"+this.requestType+"/"+t.id+"/"+e.get("clientID"),i=new Os.Z({scheme:"websockets"===this.requestType?"wss":"https",address:"pubsub.plex.tv"});return this.server.resolveUrl(n,{connection:i,appendToken:!0})},initialize:function(e){y().bindAll(this,"onSocketOpen","onSocketClose","onSocketError","onSocketMessage","onPingTimeout","onPollSuccess","onPollError"),this.server=e.server},open:function(){return(this.socket||this.pollRequest)&&this.close(),Is.Z.hasWebSocket?(this._deferred=s().Deferred(),this.requestType="websockets",this.socket=new window.WebSocket(y().result(this,"url")),this.socket.onopen=this.onSocketOpen,this.socket.onclose=this.onSocketClose,this.socket.onerror=this.onSocketError,this.socket.onmessage=this.onSocketMessage,this._deferred.promise()):this.poll()},close:function(){this.pollRequest&&(bs.Z.abort(this.pollRequest.rid),this.pollRequest=null),this._deferred&&"pending"===this._deferred.state()&&this._deferred.reject(),this.socket&&(this.cancelPing(),this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close(),this.socket=null)},schedulePing:function(){this.cancelPing(),this._pingTimeoutID=window.setTimeout(this.onPingTimeout,3e4)},cancelPing:function(){this._pingTimeoutID&&(window.clearTimeout(this._pingTimeoutID),this._pingTimeoutID=null)},poll:function(){this.requestType="longpolling",this.pollUrl=le.Z.join(y().result(this,"url"),{ttl:String(30)+"s"});const e=this.server.getXHROptions(this.pollUrl,{timeout:35e3});return e.headers["If-Modified-Since"]=this.lastModified?this.lastModified:"Thu, 01 Jan 1970 00:00:00 GMT",this.eTag&&(e.headers["If-None-Match"]=this.eTag),this.pollRequest=s().ajax(e).done(this.onPollSuccess).fail(this.onPollError),this.pollRequest.promise()},handleResponse:function(e){if(!e)return;const t=ks.Z.parseXML(e);if(y().isObject(t)){const e=t.command;g.Z.trigger(`cloudServer:${e}`,t)}},onSocketOpen:function(e){this.server.set("hasEventConnection",!0),this.trigger("open",this.server,e),this._deferred.resolve(this.server,e),this.schedulePing()},onSocketClose:function(e){this.close(),this.server.set("hasEventConnection",!1),this.trigger("close",this.server,e),this._deferred.reject(this.server,e)},onSocketError:function(e){this.close(),this.trigger("error",this.server,e),this._deferred.reject(this.server,e)},onSocketMessage:function(e){this.handleResponse(e.data)},onPingTimeout:function(){this._pingTimeoutID=null,this.socket.send("hello"),this.schedulePing()},onPollSuccess:function(e,t,n){this.trigger("open",this.server,e),this.lastModified=n.getResponseHeader("Last-Modified"),this.eTag=n.getResponseHeader("ETag"),this.handleResponse(e),this.poll()},onPollError:function(e,t){"abort"===t?this.poll():this.pollRequest.aborting||this.trigger("error",this.server,e)}});function Rs(e){return e.get("isCloud")}const zs=function(e){return(0,h.DB)("serverConnectionTestManager").queueConnectionTest(e)},Vs=function(e){return(0,h.DB)("serverConnectionTestManager").abortConnectionTest(e)},_s=function(e){const{server:t,connection:n}=e;if(t.id)return s().Deferred().resolve(t.id).promise();const i=t.resolveUrl("/identity",{connection:n}),r=y().extend(t.getXHROptions(i),{timeout:t.connectionTestTimeout});(0,x.Z)(`[Identity] Requesting the machine identifier of ${t.get("debugName")} at ${i}`);let o=s().ajax(r).promise();return o=o.then((e=>{const n=s().Deferred(),i=Ms.Z.parseXML(e),r=i&&i.machineIdentifier;return r?((0,x.Z)(`[Identity] Machine identifier found for ${t.get("debugName")}: ${r}`),!t.collection||t.collection.get(r)?n.resolve(r):(t.collection.populateServer({isCloud:!0}).done((e=>{e.get("resources").populate().always((()=>{n.resolve(r)}))})),t.collection.findServer({isCloud:!0}).done((e=>{e.populate().fail((()=>{n.resolve(r)}))})).fail((()=>{n.resolve(r)})))):n.reject(),n.promise()})),o.fail((()=>{x.Z.warn(`[Identity] Machine identifier not found for ${t.get("debugName")} at ${i}`)})),o};var Us=n(5027);const Bs=function(e){let t,n;return e.item?(t=e.item,n=[t]):(n=e.items,t=n[0]),s().when.apply(s(),y().map(n,(function(e){const n="/library/metadata/"+e.id+"/refresh",i=y().extend(t.server.getXHROptions(n),{type:"PUT"});return s().ajax(i).promise()}))).fail((function(e){503===e.status?g.Z.trigger("show:modal",new Us.Z({model:t.server})):g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem refreshing.")})}))},Fs=function(e){const t=e.items;return s().when.apply(s(),y().map(t,(function(e){const t="/library/metadata/"+e.id+"/analyze",n=y().extend(e.server.getXHROptions(t),{type:"PUT"});return s().ajax(n).promise()})))};var Hs=n(32846);const Ws=function(e){const t=s().Deferred(),n=e.section,i="/library/sections/"+n.id+"/analyze",r=y().extend(n.server.getXHROptions(i),{type:"PUT"}),o=new Hs.Z({title:(0,E.Z)("Analyze Library"),message:(0,E.Z)("Analyzes all the media files in the library. The analysis captures information about the media which helps Plex decide how to optimally play back the media."),confirmLabel:(0,E.Z)("Analyze"),cancelLabel:(0,E.Z)("Cancel"),async:!0}),a=o.promise;return a.done((function(){const e=s().ajax(r);e.done((function(){t.resolve()})),e.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem analyzing the library.")}),t.reject(e)})),e.always((function(e){o.hide()}))})),a.fail((function(){t.reject()})),g.Z.trigger("show:modal",o),t.promise()},Ys=function(e){const t=e.item,n="/library/metadata/"+t.id+"/unmatch",i=y().extend(t.server.getXHROptions(n),{type:"PUT"}),r=s().ajax(i);return r.fail((function(){g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem unmatching this item.")})})),r.promise()},Gs=function(e){const t=s().Deferred(),n=e.item,i="/library/metadata/"+n.id+"/split",r=new Hs.Z({title:(0,E.Z)("Split Apart"),message:(0,E.Z)("Are you sure you want to split this item apart?"),async:!0}),o=r.promise;return o.done((function(){const o=y().extend(n.server.getXHROptions(i),{type:"PUT"}),a=s().ajax(o);a.done((function(){const i=n.get("type");let r;r="show"===i||"artist"===i||"album"===i?"Location":"Media",n.set(r,n.get(r).slice(0,1)),e.skipNavigate||(0,h.DB)("appStore").dispatch((0,_.n)()),t.resolve()})),a.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem splitting this item apart.")}),t.reject(e)})),a.always((function(e){r.hide()}))})),o.fail((function(){t.reject()})),g.Z.trigger("show:modal",r),t.promise()},qs=function(e){const t=s().Deferred(),n=e.item,i=y().pluck(e.items,"id").join(","),r="/library/metadata/"+n.id+"/merge?ids="+i,o=y().extend(n.server.getXHROptions(r),{type:"PUT"}),a=new Hs.Z({title:(0,E.Z)("Merge"),message:(0,E.Z)("Are you sure you want to merge these items together?"),async:!0}),l=a.promise;return l.done((function(){const e=s().ajax(o);e.done((function(){t.resolve()})),e.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem merging these items.")}),t.reject(e)})),e.always((function(e){a.hide()}))})),l.fail((function(){t.reject()})),g.Z.trigger("show:modal",a),t.promise()};var Qs=n(50958);function Ks(e,t){return y().map(e,(function(e){return ce.Z.execute("deleteItem",{item:e,skipRedirect:t})}))}const $s=function(e){let t=e.items,n=e.item;const i=e.skipConfirmation,r=e.skipRedirect;t||(t=[n]),n||(n=y().first(t));const o=n.get("Media");if(1===t.length&&o.length>1&&!n.get("remoteMedia")&&n.server.supports("specificMediaDeletion"))return ce.Z.execute("deleteMediaItem",{item:n});let a;if(i)a=s().when.apply(s(),Ks(t,r));else{const e=function(e){const t=e.item,n=e.items,i=n.length>1,r=t.get("remoteMedia"),s=t.get("type"),o=Qs.nW(s);let a,l;r&&!i?(a=o.title,l=(0,E.Z)("Are you sure you want to remove {1}?",t.get("title"))):i&&n.every((e=>e.get("remoteMedia")))?(a=o.plural,l=(0,E.Z)("Are you sure you want to remove {1} items?",n.length)):s===Qs.du?(a=o.title,l=(0,E.Z)("Are you sure you want to delete {1}? This cannot be undone.",t.get("title"))):i?(a=o.plural,l=(0,E.Z)("Are you sure you want to delete {1} items from your filesystem?",n.length)):(a=o.title,l=(0,E.Z)("Are you sure you want to delete this item from your filesystem?"));const c={title:r?(0,E.Z)("Remove {typeLabel}",{typeLabel:a}):(0,E.Z)("Delete {typeLabel}",{typeLabel:a}),message:l,confirmLabel:r?(0,E.Z)("Remove"):(0,E.Z)("Delete"),cancelLabel:(0,E.Z)("Cancel"),async:!0,hasDanger:!0};(i||Qs.O3(s))&&(c.requireDoubleConfirm=!0,c.doubleConfirmMessage=r?(0,E.Z)("Multiple files may be removed."):(0,E.Z)("Multiple items may be deleted."),c.doubleConfirmLabel=(0,E.Z)("Yes, I'm sure"));const d=new Hs.Z(c);return g.Z.trigger("show:modal",d),d}({item:n,items:t});a=e.promise.then((function(){return s().when.apply(s(),Ks(t,r)).always((function(){e.hide()}))}))}return a};var Js=n(98759);const Xs=Js.Z.extend({className:"select-modal modal modal-sm fade",events:y().extend({"click a":"onClick"},Js.Z.prototype.events),initialize:function(){Js.Z.prototype.initialize.apply(this,arguments),this.promise=s().Deferred()},onRender:function(){Js.Z.prototype.onRender.apply(this,arguments)},onHide:function(){Js.Z.prototype.onHide.apply(this,arguments),this.promise.reject()},onClick:function(e){e.preventDefault(),this.promise.resolve(s()(e.currentTarget).data("value")),this.hide()}});var eo=n(76380),to=n.n(eo);const no=Xs.extend({name:"SelectMediaFileModal",template:to(),serializeData:function(){return{medias:this.model.get("Media")}}}),io=function(e){let t=function(e){const t=s().Deferred(),n=e.item,i=n.get("Media");if(e.index in i)return t.resolve(i[e.index]).promise();const r=new no({model:n}),o=r.promise;return o.done((function(e){t.resolve(i[e])})),o.fail((function(){t.reject()})),g.Z.trigger("show:modal",r),t.promise()}(e);return t=t.then((function(t){const n=function(){const e=new Hs.Z({title:(0,E.Z)("Delete File"),message:(0,E.Z)("Are you sure you want to delete this file from your filesystem?"),confirmLabel:(0,E.Z)("Delete"),cancelLabel:(0,E.Z)("Cancel"),async:!0,hasDanger:!0});return g.Z.trigger("show:modal",e),e}();return n.promise.then((function(){return ce.Z.execute("deleteFile",{item:e.item,media:t}).always((function(){n.hide()}))}))})),t},ro=function(e){const t=e.item,n=t.server,i=t.get("Media"),r=y().filter(i,(function(e){return!!e.proxyType})),o=function(e){const t=e.item,n=e.versions,i=n.length>1;let r;if(i)r=(0,E.Z)("Are you sure you want to delete {1} versions of {2}?",n.length,t.get("title"));else{const e=y().first(n);r=(0,E.Z)("Are you sure you want to delete the {1} version of {2}?",e.title,t.get("title"))}const s=new Hs.Z({title:i?(0,E.Z)("Delete Versions"):(0,E.Z)("Delete Version"),message:r,confirmLabel:(0,E.Z)("Delete"),cancelLabel:(0,E.Z)("Cancel"),async:!0,hasDanger:!0});return g.Z.trigger("show:modal",s),s}({item:t,versions:r});return o.promise.then((function(){const e=le.Z.join(["/library/metadata/",t.id],{proxy:1}),a=y().extend(n.getXHROptions(e),{type:"DELETE"}),l=s().ajax(a);return l.done((function(){y().each(r,(function(e){i.splice(y().indexOf(i,e),1)})),t.trigger("change:Media",t,t.get("Media"))})),l.fail((function(e){const t=403===e.status?(0,E.Z)("Ensure that media deletion is enabled for library content in your server settings."):(0,E.Z)("There was a problem deleting these versions.");g.Z.trigger("show:alert",{type:"error",message:t})})),l.always((function(){o.hide()})),l.promise()}))};var so=n(4545);const oo=function(e){const t=s().Deferred(),n=e.section,i=new Hs.Z({title:(0,E.Z)("Delete Library"),message:(0,E.Z)("Are you sure you want to delete {1}?",n.get("title")),confirmLabel:(0,E.Z)("Delete"),cancelLabel:(0,E.Z)("Cancel"),requireDoubleConfirm:!0,doubleConfirmMessage:(0,E.Z)("This cannot be undone."),doubleConfirmLabel:(0,E.Z)("Yes, I'm sure"),async:!0,hasDanger:!0}),r=i.promise;return r.done((function(){const e=n.destroy({wait:!0});e?(e.done((function(){const e=h.DB("appStore").dispatch,i=n.server.entityID();i&&e((0,so.jR)({serverEntityID:i})),t.resolve()})),e.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem deleting the library.")}),t.reject(e)}))):t.resolve()})),r.fail((function(){t.reject()})),g.Z.trigger("show:modal",i),t.promise().always((()=>{i.hide()})),t.promise()},ao=function(e){const t=e.section,n="/library/sections/"+t.id+"/indexes",i=y().extend(t.server.getXHROptions(n),{type:"DELETE"}),r=new Hs.Z({title:(0,E.Z)("Delete Preview Thumbnails"),message:(0,E.Z)("Are you sure you want to delete the preview thumbnails for items in this library? This cannot be undone."),confirmLabel:(0,E.Z)("Delete"),cancelLabel:(0,E.Z)("Cancel"),async:!0,hasDanger:!0});let o=r.promise;return o=o.then((function(){return function(){const e=s().ajax(i);return e.done((function(e){g.Z.trigger("show:alert",{type:"success",message:(0,E.Z)("The preview thumbnails for items in this library were deleted.")})})),e.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem deleting the preview thumbnails for items in this library.")})})),e.always((function(e){r.hide()})),e}()})),g.Z.trigger("show:modal",r),o},lo=function(e){const t=s().Deferred(),n="photo"===e.item.get("playlistType"),i=new Hs.Z({title:n?(0,E.Z)("Delete Album"):(0,E.Z)("Delete Playlist"),message:(0,E.Z)("Are you sure you want to delete {1}? This cannot be undone.",e.item.get("title")),confirmLabel:(0,E.Z)("Delete"),cancelLabel:(0,E.Z)("Cancel"),async:!0,hasDanger:!0}),r=i.promise;return r.done((function(){const r=e.item.destroy();r.done((function(){e.skipRedirect||(0,h.DB)("appStore").dispatch((0,_.n)()),t.resolve()})),r.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:n?(0,E.Z)("There was a problem deleting the album."):(0,E.Z)("There was a problem deleting the playlist.")}),t.reject(e)})),r.always((function(e){i.hide()}))})),r.fail((function(){t.reject()})),g.Z.trigger("show:modal",i),t.promise()},co=function(e){const t=s().Deferred(),n=e.section,i=n?n.id:"all",r=e.cancel,o=n?n.server:e.server,a={};(e.params||{}).force&&(a.force=1);const l="/library/sections/"+i+"/refresh",c=y().extend(o.getXHROptions(l),{data:a});function d(){const e=s().ajax(c);e.done((function(){t.resolve()})),e.fail((function(e){if(503===e.status)g.Z.trigger("show:modal",new Us.Z({model:o}));else{const e=r?(0,E.Z)("There was a problem canceling the update."):(0,E.Z)("There was a problem updating the library.");g.Z.trigger("show:alert",{type:"error",message:e})}t.reject(e)}))}if(r&&(c.type="DELETE",n&&n.set("refreshing",!1)),a.force){const e=new Hs.Z({title:(0,E.Z)("Refresh All"),message:(0,E.Z)("Forces a download of fresh media information from the internet. This can take a long time. Any locked fields are not modified."),confirmLabel:(0,E.Z)("Refresh"),cancelLabel:(0,E.Z)("Cancel")}),n=e.promise;n.done(d),n.fail((function(){t.reject()})),g.Z.trigger("show:modal",e)}else d();return t.promise()},uo=function(e){const t=s().Deferred(),n=e.server,i=y().extend(n.getXHROptions("/library/optimize"),{type:"PUT"}),r=new Hs.Z({title:(0,E.Z)("Optimize Database"),message:(0,E.Z)("Cleans up the library database and ensures it is operating as quickly as possible. This is especially useful when you've added or removed a large amount of media from the library."),confirmLabel:(0,E.Z)("Optimize"),cancelLabel:(0,E.Z)("Cancel"),async:!0}),o=r.promise;return o.done((function(){const e=s().ajax(i);e.done((function(){g.Z.trigger("show:alert",{type:"success",message:(0,E.Z)("The database was optimized.")}),t.resolve()})),e.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem optimizing this database.")}),t.reject(e)})),e.always((function(e){r.hide()}))})),o.fail((function(){t.reject()})),g.Z.trigger("show:modal",r),t.promise()},ho=function(e){const t=s().Deferred(),n=e.server,i=y().extend(n.getXHROptions("/library/clean/bundles"),{type:"PUT"}),r=new Hs.Z({title:(0,E.Z)("Clean Bundles"),message:(0,E.Z)("The media server stores information about your media to disk, as well as posters, artwork, and other media resources from the internet. Running this task deletes any bundles which are no longer in use."),confirmLabel:(0,E.Z)("Clean"),cancelLabel:(0,E.Z)("Cancel"),async:!0}),o=r.promise;return o.done((function(){const e=s().ajax(i);e.done((function(){g.Z.trigger("show:alert",{type:"success",message:(0,E.Z)("Unused bundles are being removed.")}),t.resolve()})),e.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem removing unused bundles.")}),t.reject(e)})),e.always((function(e){r.hide()}))})),o.fail((function(){t.reject()})),g.Z.trigger("show:modal",r),t.promise()},po=function(e){const t=s().Deferred(),n=e.section,i=n?n.server:e.server,r=[],o=[];n?r.push(n.id):i.get("sections").each((function(e){r.push(e.id)}));const a=new Hs.Z({title:(0,E.Z)("Empty Trash"),message:(0,E.Z)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:(0,E.Z)("Empty"),cancelLabel:(0,E.Z)("Cancel"),async:!0}),l=a.promise;return l.done((function(){y().each(r,(function(e){const t="/library/sections/"+e+"/emptyTrash",n=y().extend(i.getXHROptions(t),{type:"PUT"});o.push(s().ajax(n))}));const e=s().when.apply(s(),o);e.done((function(){g.Z.trigger("show:alert",{type:"success",message:(0,E.Z)("The trash was emptied.")}),t.resolve()})),e.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem emptying the trash.")}),t.reject(e)})),e.always((function(e){a.hide()}))})),l.fail((function(){t.reject()})),g.Z.trigger("show:modal",a),t.promise()},go=function(e){const t=e.item,n={guid:e.guid,name:e.name,year:e.year};"album"===t.get("type")&&e.children&&e.children.reduce((function(e,t){const n=t.get("id");return n&&(e["guid["+n+"]"]=t.get("guid")),e}),n);const i=le.Z.join(["/library/metadata/",t.id,"/match"],n),r=y().extend(t.server.getXHROptions(i),{type:"PUT"});return s().ajax(r).promise()},mo=function(e){const t=s().Deferred(),n=e.item;let i={agent:e.agent.id,manual:0};const r=le.Z.join(["/library/metadata/",n.id,"/matches"],i),o=y().extend(n.server.getXHROptions(r)),a=s().ajax(o);return a.done((function(e){const r=y().isObject(e)?e:ks.Z.parseXML(e);if(r.SearchResult){let e=r.SearchResult;Array.isArray(r.SearchResult)&&(e=r.SearchResult[0]),i={guid:e.guid,name:e.name};const o=le.Z.join(["/library/metadata/",n.id,"/match"],i),a=y().extend(n.server.getXHROptions(o),{type:"PUT"}),l=s().ajax(a);l.done((function(){t.resolve()})),l.fail((function(){g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem matching this item.")}),t.reject()}))}else g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("No matches were found using this agent.")}),t.reject()})),a.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem searching for matches.")}),t.reject(e)})),t.promise()},fo={poster:"thumb",art:"art",banner:"banner"},yo=function(e){const t=e.item,n={url:e.artworkRatingKey},i=le.Z.join(["/library/metadata/",t.id,e.artworkType],n),r=y().extend(t.server.getXHROptions(i),{type:"PUT"}),o=s().ajax(r);return o.done((function(n){t.set(fo[e.artworkType],n)})),o.promise()},vo=function(e){const t=e.item,n=e.rating,i=t.get("userRating");if(-1===n?t.unset("userRating"):t.set("userRating",n),e.passive)return s().Deferred().resolve().promise();const r={key:t.get("ratingKey"),identifier:t.get("identifier"),rating:n},o=le.Z.join("/:/rate",r),a=s().ajax(t.server.getXHROptions(o));return a.fail((function(){t.set("userRating",i),g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem rating this item.")})})),a.promise()};var bo=n(52637);const Zo=function(e){const t=s().Deferred(),n=e.item,i=n.server,r=e.media||y().first(n.get("Media")),o=e.part||r&&y().first(r.Part),a=e.streamType,l=e.streamID;if(!r||!o)return t.reject().promise();const c={};c[a.key]=l,!e.media&&i.supports("allPartsStreamSelection")&&(c.allParts=1);const d=le.Z.join(["/library/parts/",o.id],c),u=y().extend(i.getXHROptions(d),{type:"PUT"}),h=s().ajax(u);return h.done((function(){(function(e,t,n){if(e){const i=(0,bo.Z)(e,{streamType:t.id});y().each(i,(e=>{e.selected=e.id===n}))}})(r,a,l),n.trigger("change:streams"),t.resolve()})),h.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem selecting the stream for this item.")}),t.reject(e)})),t.promise()},So=function(e){const t=e.item,n=e.media,i=t.server;let r;if(n){const o="/library/metadata/"+t.id+"/media/"+n.id,a=y().extend(i.getXHROptions(o),{type:"DELETE"});r=s().ajax(a),r.done((function(){const i=e.item.get("Media");i.splice(y().indexOf(i,n),1),t.trigger("change:Media",t,t.get("Media"))}))}else r=t.destroy({wait:!0});return r.fail((function(e){const t=403===e.status?(0,E.Z)("Ensure that media deletion is enabled for library content in your server settings."):(0,E.Z)("There was a problem deleting this item.");g.Z.trigger("show:alert",{type:"error",message:t})})),r};var Io=n(42751),Mo=n(28381),wo=n(35785),Po=n(66501),Co=Object.defineProperty,Do=Object.prototype.hasOwnProperty,Ao=Object.getOwnPropertySymbols,xo=Object.prototype.propertyIsEnumerable,Eo=(e,t,n)=>t in e?Co(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,To=(e,t)=>{for(var n in t||(t={}))Do.call(t,n)&&Eo(e,n,t[n]);if(Ao)for(var n of Ao(t))xo.call(t,n)&&Eo(e,n,t[n]);return e};function jo(e,t){if(!e)return!1;const n=new Mo.Z({key:e},{server:t.item.server,onlyIfCached:!0});return!y().isEmpty(n)&&n}function No(e){if(e.skipRedirect)return;const t=e.item,n=t.get("isLibraryItem")&&t.parent,i=t.get("librarySectionKey")||(null==n?void 0:n.get("librarySectionKey"));if(!i)return void(0,h.DB)("appStore").dispatch((0,_.n)());const r=function(e,t){const n=e.get("features").get(wo.Z.CONTENT),i=n.get("directories");if(!n||!i)return null;const r=i.find((e=>e.get("hubKey")===t||e.get("key")===t));return r?r.toJSON():null}(t.provider,i),s=(0,Po.Z)(t.server.toJSON(),t.provider.toJSON(),r);s?(0,h.DB)("appStore").dispatch((0,_.c4)({pathname:s,replace:!0})):(0,h.DB)("appStore").dispatch((0,_.n)())}function Oo(e,t){t.skipRedirect||(0,h.DB)("appStore").dispatch((0,_.yB)({serverEntityID:e.server.entityID(),providerEntityID:e.provider.entityID(),key:e.get("key"),replace:!0}))}const ko=function(e){const t=ce.Z.execute("deleteFile",e);return t.done((function(){const t=e.item,n=jo(t.get("parentKey"),e);if(!n)return void No(e);const i=new Io.Z({containerKey:n.get("childrenKey")},{server:n.server,provider:n.provider,skipCache:!0});i.fetchRange({size:1}).then((()=>{if(i.getCollection().length>0)return void Oo(n,e);n.trigger("destroy",n,n.collection);const r=jo(t.get("grandparentKey"),e);if(!r)return void No(To(To({},e),{skipRedirect:!1}));const s=new Io.Z({containerKey:r.get("childrenKey")},{server:r.server,provider:r.provider,skipCache:!0});s.fetchRange({size:1}).then((()=>{s.getCollection().length>0?Oo(r,To(To({},e),{skipRedirect:!1})):No(e)}))}))})),t},Lo=function(e){const t=e.generator,n=y().result(t,"url")+"/"+e.ratingKey+"/enable",i=y().extend(t.server.getXHROptions(n),{type:"PUT"}),r=s().ajax(i).promise();return r.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem enabling this version.")})})),r},Ro=function(e){const t=e.generator,n=y().result(t,"url")+"/"+e.ratingKey+"/disable",i=function(){const e=new Hs.Z({title:(0,E.Z)("Remove Version"),message:(0,E.Z)("Are you sure you want to delete this version? You can enable it again in Optimized Versions Settings."),confirmLabel:(0,E.Z)("Remove"),cancelLabel:(0,E.Z)("Cancel"),async:!0,hasDanger:!0});return g.Z.trigger("show:modal",e),e}();return i.promise.then((function(){const e=y().extend(t.server.getXHROptions(n),{type:"PUT"}),r=s().ajax(e).promise();return r.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem disabling this version.")})})),r.always((function(){i.hide()})),r}))},zo=function(e){const t=e.generator,n=e.ratingKey;let i=y().result(t,"url");n&&(i+="/"+n),i+="/reprocess";const r=y().extend(t.server.getXHROptions(i),{type:"PUT"}),o=s().ajax(r).promise();return o.fail((function(e){const t=n?(0,E.Z)("There was a problem processing this item."):(0,E.Z)("There was a problem processing these items.");g.Z.trigger("show:alert",{type:"error",message:t})})),o},Vo=function(e){const t=e.generator,n=function(e){const t=e.generator.get("title"),n=t?(0,E.Z)("Removing this item will delete all versions created by {1}. Are you sure you want to continue?",t):(0,E.Z)("Removing this item will delete all related versions. Are you sure you want to continue?"),i=new Hs.Z({title:(0,E.Z)("Delete Versions"),message:n,confirmLabel:(0,E.Z)("Remove"),cancelLabel:(0,E.Z)("Cancel"),async:!0,hasDanger:!0});return g.Z.trigger("show:modal",i),i}(e);return n.promise.then((function(){const e=t.destroy();return e.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("Unable to stop generating these versions.")})})),e.always((function(){n.hide()})),e}))};var _o=n(57840);const Uo=function(e){const t=function(){const e=new Hs.Z({title:(0,E.Z)("Delete All Versions"),message:(0,E.Z)("Are you sure you want to delete all versions? This cannot be undone."),confirmLabel:(0,E.Z)("Delete"),cancelLabel:(0,E.Z)("Cancel"),async:!0,hasDanger:!0});return g.Z.trigger("show:modal",e),e}();let n=t.promise;return n=n.then((function(){const n="/playlists/generators?type="+_o.Z.LOCAL,i=y().extend(e.server.getXHROptions(n),{type:"DELETE"}),r=s().ajax(i).promise();return r.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem deleting all versions.")})})),r.always((function(){t.hide()})),r.promise()})),n},Bo=function(e){const t=s().Deferred(),n=e.channel,i=n?n.server:e.server,r=e.silent;let o;if(n){const e=n.get("identifier");o=(e?"/system/appstore/apps/"+e:n.get("key"))+"/update"}else o="/system/appstore/updates";const a=s().ajax(i.getXHROptions(o));function l(e){r||g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem checking for updates.")}),t.reject(e)}return a.done((function e(n){const o=y().isObject(n)?n:ks.Z.parseXML(n);if(o&&(o.message||o.Directory))if(o.message)r||g.Z.trigger("show:alert",{type:"success",message:o.message}),t.resolve();else{ks.Z.parseArray(o,"Directory");const t=o.Directory[0].key,n=s().ajax(i.getXHROptions(t));n.done(e),n.fail(l)}else l()})),a.fail(l),t.promise()},Fo=function(e){const t=s().Deferred(),n=e.channel,i=n.get("identifier"),r=(i?"/system/appstore/apps/"+i:n.get("key"))+"/uninstall",o=n.server.getXHROptions(r);function a(){const i=s().ajax(o);i.done((function(i){const r=y().isObject(i)?i:ks.Z.parseXML(i);n.set("installed",!1),r.message&&!e.skipConfirmation&&g.Z.trigger("show:alert",{type:"success",message:r.message}),t.resolve()})),i.fail((function(e){if(400===e.status){const e=new Hs.Z({title:(0,E.Z)("Unable to Uninstall Plugin"),message:(0,E.Z)("This plugin could not be uninstalled, but you can disable it in the server settings."),confirmLabel:(0,E.Z)("OK"),cancelLabel:(0,E.Z)("Ignore")});e.promise.done((function(){(0,B.Z)("serverSettings",{machineIdentifier:n.server.id,settingsSection:"settings",settingsGroup:"channels"})})),g.Z.trigger("show:modal",e)}else g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("This plugin could not be uninstalled.")});t.reject(e)}))}if(e.skipConfirmation)a();else{const e=new Hs.Z({title:(0,E.Z)("Uninstall Plugin"),message:(0,E.Z)("Are you sure you want to uninstall this plugin?")}),n=e.promise;n.done(a),n.fail((function(){t.reject()})),g.Z.trigger("show:modal",e)}return t.promise()};var Ho=n(79087);const Wo=function(e){const t=e.cloudAccount,n=t.server.get("desktop").get("settings").get("PublishServerOnPlexOnlineKey"),i=s().Deferred();let r;if(!t.get("isWaiting")){const n=e.value?Ho.Q2:Ho.uy;t.set("remoteAccessState",n)}const o=t.previous("remoteAccessState"),a=n.save({PublishServerOnPlexOnlineKey:e.value},{timeout:0});return a.done((function n(){t.fetch().done((function(){const s=t.get("mappingState"),o=e.value&&s===Ho.GI,a=!e.value&&s===Ho.Gu;s===Ho.xD||o||a?r||(r=window.setInterval(n,500)):(r=window.clearInterval(r),t.get("isWaiting")&&t.set("remoteAccessState",Ho.HP),i.resolve())}))})),a.fail((function(n){let r;r=e.value?(0,E.Z)("There was a problem connecting your server."):(0,E.Z)("There was a problem disconnecting your server."),g.Z.trigger("show:alert",{type:"error",message:r}),t.set("remoteAccessState",o),i.reject(n)})),i.promise()},Yo=function(e){const t=e.cloudAccount,n={cloudAccount:t,value:!1};let i=ce.Z.execute("connectServer",n);return i=i.then((function(){return n.value=!0,ce.Z.execute("connectServer",n)})),i=i.then((function(){if(t.get("mappingError"))return s().Deferred().reject().promise()})),i};var Go=n(4141);const qo=function(e){const{cloudAccount:t,username:n,password:i,claim:r=!1}=e,o=s().Deferred(),a=t.server,l=(0,h.DB)("appModel"),c=l.get("user"),d=l.get("cloudServer"),u=a.get("accessToken");a.set("accessToken",c.get("authToken"));const p=r?function(e,t){const n=t.getXHROptions("/api/claim/token");let i=s().ajax(n).promise();return i=i.then((t=>{const{token:n}=Ms.Z.parseXML(t),i=le.Z.join("/myplex/claim",{token:n}),r=e.getXHROptions(i,{type:"POST"});return s().ajax(r).promise()})),i}(a,d):function(e,t,n){const i=le.Z.join("/myplex/account",{username:e,password:t}),r=n.getXHROptions(i,{type:"PUT"});return s().ajax(r).promise()}(n,i,a);return p.done((e=>{const n=y().isObject(e)?e:Ms.Z.parseXML(e);n&&"invalid"===n.signInState?(g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("The username or password is incorrect.")}),o.reject()):(a.set({myPlexSigninState:Go.Hq,myPlexUsername:c.get("email")}),t.set({signedIn:!0,username:c.get("email")}),o.resolve())})),p.fail((e=>{let n;a.set("accessToken",u),!0===t.get("signedIn")&&t.set("signedIn",!1),n=401===e.status?(0,E.Z)("The username or password is incorrect."):(0,E.Z)("There was a problem signing in to Plex."),g.Z.trigger("show:alert",{type:"error",message:n}),o.reject(e)})),o.promise()};function Qo(e){e.trigger("destroy",e,e.collection),e.cache.remove(e)}const Ko=function(e){const t=h.DB("appModel").get("user"),n=e.device,i=e.server||function(e){const t=new Go.ZP({machineIdentifier:e},{onlyIfCached:!0});if(!y().isEmpty(t))return t}(n.get("clientIdentifier"));let r;r=n?(0,E.Z)("If you remove the server, all syncs and shares associated with the server will be lost and you will need to sign the server in again to restore access to Plex."):(0,E.Z)("Are you sure you want to remove this server?");const o={title:(0,E.Z)("Remove Server"),message:r,confirmLabel:(0,E.Z)("Remove"),cancelLabel:(0,E.Z)("Cancel"),async:!0,hasDanger:!0};n&&(o.requireDoubleConfirm=!0,o.doubleConfirmMessage=(0,E.Z)("Are you sure you want to remove this server?"),o.doubleConfirmLabel=(0,E.Z)("Yes, I'm sure"));const a=new Hs.Z(o);let l=a.promise;return l=l.then((function(){return function(){let e;if(n)e=n.destroy({wait:!0});else{const n="/api/servers/"+i.id,r=y().extend(t.server.getXHROptions(n),{type:"DELETE"});e=s().ajax(r)}if(i){if(i.get("connected")&&i.get("myPlexSigninState")===Go.Hq){const t=i.get("desktop").get("cloudAccount");e=e.then((function(){return t.fetch()})),e=e.then((function(){return function(e){const t=e.get("desktop").get("cloudAccount").destroy();return t.done((function(){e.set({accessToken:void 0,myPlexSigninState:Go.Ar,myPlexSubscription:!1})})),t}(i)}))}!1===i.get("connected")?Qo(i):e.always((function(){g.Z.trigger("test:server",i),i.populate().fail((function(){Qo(i)}))}))}return e.always((function(){a.hide()})),e.promise()}()})),g.Z.trigger("show:modal",a),l},$o=function(){const e=(0,h.DB)("appStore"),t=(0,h.DB)("appModel"),n=t.get("ui"),i=t.get("user"),r=t.get("fakeRouter"),s=i.server;let o=i.clearAccessToken();return o=o.fail((()=>{x.Z.warn("Failed to clear the access token and user storage")})).always((()=>{t.set("history",[]),n&&n.restoreDefaults(),r&&r.restoreDefaults(),bs.Z.abortAll(),i.signOut(),i.uninitialize(),i.initialize(),g.Z.trigger("clear:servers"),e.dispatch((0,_.$e)({budget:1/0})),g.Z.trigger("clearAll:cache"),s.cache.store(s)})),(0,Mt.Z)(o)};var Jo=n(44127);const Xo=function(e={}){const t=(0,h.DB)("appModel").get("user"),n=t.get("signedIn"),i=t.id!==e.homeUser.id,r=e.allowGuestLock,s=!!e.isRemoteUser,o=i||r;let a=n?ce.Z.execute("authenticateWithServer",e):ce.Z.execute("authenticateWithHash",e);return n&&o?a=a.then((t=>function(e,t){const n=(0,h.DB)("appModel").get("user");let i=ce.Z.execute("resetUser");return i=i.then((()=>{n.activateStoredUser(t.homeUser.id);const i=Jo.Z.getActiveUser();i&&i.copyToModel(n),g.Z.trigger("init:servers");return n.signIn(e,{})})),i.done((()=>{(0,h.DB)("metrics").trackEvent({event:wr.PS,interaction:!0})})),i}(t,e))):a.done((()=>{const e={isRemote:s};t.set(e)})),a.done((()=>{(0,B.Z)("home")})),a};var ea=n(97102),ta=Object.defineProperty,na=Object.prototype.hasOwnProperty,ia=Object.getOwnPropertySymbols,ra=Object.prototype.propertyIsEnumerable,sa=(e,t,n)=>t in e?ta(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function oa(e,t={}){return((e,t)=>{for(var n in t||(t={}))na.call(t,n)&&sa(e,n,t[n]);if(ia)for(var n of ia(t))ra.call(t,n)&&sa(e,n,t[n]);return e})({includeSubscriptions:1,includeProviders:1,includeSettings:D.Z.allowSyncSettings?1:0,includeSharedSettings:(0,ea.Z)(e)?1:0},t)}var aa=n(98984),la=Object.defineProperty,ca=Object.prototype.hasOwnProperty,da=Object.getOwnPropertySymbols,ua=Object.prototype.propertyIsEnumerable,ha=(e,t,n)=>t in e?la(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pa=(e,t)=>{for(var n in t||(t={}))ca.call(t,n)&&ha(e,n,t[n]);if(da)for(var n of da(t))ua.call(t,n)&&ha(e,n,t[n]);return e};const ga=function(e){return e.headers=pa(pa({},aa.Z.getInstance()),e.headers||{}),s().ajax(e)},ma=function(e){const t=e.homeUser,n=h.DB("appModel").get("user"),i=t.get("uuid")||n.get("uuid"),r=oa(n,{pin:e.pin}),s=le.Z.join(["/api/v2/home/users/",i,"/switch"],r),o=t.server.getXHROptions(s,{type:"POST",xhrFields:{withCredentials:D.Z.allowSSO}});return ga(o)},fa=function(e){const t=s().Deferred().resolve().promise(),n=s().Deferred().reject().promise(),i=Jo.Z.getActiveUser();if(!i)return n;const r=i.get("pin"),o=i.get("authToken");return r||e.pin?r===(0,h.DB)("appModel").get("user").hashPIN(e.pin,o)?t:n:t},ya=function(e){const t=e.device,n=(0,E.Z)("If you remove this device, you will need to sign in again on the device to restore access to Plex."),i=new Hs.Z({title:(0,E.Z)("Remove Device"),message:n,confirmLabel:(0,E.Z)("Remove"),cancelLabel:(0,E.Z)("Cancel"),async:!0,hasDanger:!0});let r=i.promise;return r=r.then((function(){return function(){const e=t.destroy({wait:!0});return e.fail((function(){g.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem removing this device.")})})),e.always((function(){i.hide()})),e.promise()}()})),g.Z.trigger("show:modal",i),r},va=function(e){return(0,Mt.Z)(ga({url:(0,Pr.Y)("/api/v2/users/signout"),headers:{"X-Plex-Token":e.accessToken},type:"DELETE",xhrFields:{withCredentials:!1}}))},ba=function(){(0,h.DB)("metrics").trackEvent({event:wr.CM,interaction:!0});const e=D.Z.allowSSO,t=(0,h.DB)("appModel").get("user").get("authToken");return(0,Mt.Z)(e?va({accessToken:t}):s().Deferred().resolve().promise()).then((()=>ce.Z.execute("resetUser"))).then((()=>(Jo.Z.restoreDefaults(),Jo.Z.save()))).then((()=>{e&&va({accessToken:t}),g.Z.trigger("init:servers")}))};function Za(){return ce.Z.registerAll(i),s().Deferred().resolve().promise()}const Sa={subscribe(){g.Z.on("cloudServer:processRemoteControlCommand",this.onCloudServerCommand,this)},unsubscribe(){g.Z.off("cloudServer:processRemoteControlCommand",this.onCloudServerCommand,this)},onCloudServerCommand(e){const t=e.Command,n={supportsTimeline:!1,path:t.path,commandID:t.commandID,query:{key:[t.queryKey],offset:[t.queryOffset],mediaIndex:[t.queryMediaIndex],containerKey:[t.queryContainerKey],playQueueID:[t.queryPlayqueueid],type:[t.queryType],volume:[t.queryVolume],repeat:[t.queryRepeat],autoPlay:[t.queryAutoPlay],subtitleSize:[t.querySubtitleSize],audioStreamID:[t.queryAudioStreamID],subtitleStreamID:[t.querySubtitleStreamID],token:[t.queryToken],machineIdentifier:[t.queryMachineIdentifier],protocol:[t.queryProtocol],address:[t.queryAddress],port:[t.queryPort],text:[t.queryText],field:[t.queryField]}};(0,h.DB)("localCompanionCommandHandler")(n)}},Ia="leaderStatusChanged";let Ma=null,wa=null;function Pa(){const e=Da();return!(e&&!e.isLeader())&&(0,h.DB)("settingFinder").find("companion")}function Ca(){if(!Pa())return;const e=(0,h.DB)("appModel"),t=e.get("cloudServer"),n=e.get("clientID");t&&t.get("authorized")&&n&&n!==Ma&&(Ma=n,x.Z.info('[Companion] Registering player with plex.tv, clientID="%s"',n),(0,h.DB)("companionProxy").registerPlayer(t,n).done((()=>{x.Z.info('[Companion] Registered player with plex.tv, clientID="%s"',n)})).fail((e=>{e||(e={}),Ma=null,x.Z.warn('[Companion] Couldn\'t register player with plex.tv, status="%s", response="%s"',e.status,e.responseText&&e.responseText.substr(0,100))})))}function Da(){return(0,h.s4)("companionVote")?(0,h.DB)("companionVote"):null}function Aa(){const e=(0,h.DB)("companionProxy"),t=Pa();return wa===t?s().Deferred().resolve().promise():(wa=t,t?(Sa.subscribe(),s().when(e.subscribe((0,h.DB)("localCompanionCommandHandler")))):(Sa.unsubscribe(),s().when(e.unsubscribe(),function(){const e=(0,h.DB)("appModel"),t=e.get("cloudServer"),n=e.get("clientID");if(t.get("authorized")&&n)return x.Z.info('[Companion] Unregistering player with plex.tv, clientID="%s"',n),(0,h.DB)("companionProxy").unregisterPlayer(t,n).done((()=>x.Z.info('[Companion] Unregistered player with plex.tv, clientID="%s"',n))).fail(((e={})=>x.Z.warn('[Companion] Couldn\'t unregister player with plex.tv, status="%s", response="%s"',e.status,e.responseText&&e.responseText.substr(0,100))))}())))}function xa(){const e=(0,h.DB)("appModel"),t=e.get("cloudServer");Ca(),e.on("change:clientID",Ca),t.on("change:authorized",Ca),(0,h.DB)("settingFinder").addCompanionChangeListener(Aa);const n=Da();let i;return n&&n.on(Ia,(e=>{x.Z.info(e?"[Companion] Elected to poll leader role":"[Companion] Lost poll leader role"),Aa()})),i=Pa()?Aa().then((()=>{const e=(0,h.DB)("companionProxy").getDeepLink();return e.fail((()=>{x.Z.warn("[Companion] Ignoring error getting deep link")})),(0,Mt.Z)(e)})):s().Deferred().resolve().promise(),i}function Ea(){const e=(0,h.DB)("appModel");return At([e.get("settings").populate(),e.get("deviceSettings").populate()])}const Ta=p.Z.extend({getStorage(){},get(e){return this._catchStorageError((t=>{const n=window.PLEXWEB,i=n&&e in n?n[e]:t.getItem(e);if(null==i)throw new Error(`${e} is not in ${this.name}`);return i}))},set(e,t){return this._catchStorageError((n=>{if(!e)throw new Error(`Unable to set value in ${this.name} without a key`);if(null==t)throw new Error(`Unable to set null or undefined value for ${e} in ${this.name}. Use the remove function.`);return n.setItem(e,t)}))},remove(e){return this._catchStorageError((t=>t.removeItem(e)))},clear(){return this._catchStorageError((e=>e.clear()))},_catchStorageError(e){const t=s().Deferred();try{t.resolve(e(this.getStorage()))}catch(e){x.Z.warn(e.message),t.reject(e)}return t.promise()}}),ja=Ta.extend({name:"BasicVolatileStorage",initialize(){const e={};this.api={getItem:t=>e[t],setItem(t,n){e[t]=n},removeItem(t){delete e[t]},clear(){for(const t in e)e.hasOwnProperty(t)&&delete e[t]}}},getStorage(){return this.api}}),Na=new(n(88548).Z)({interface:["get","set","remove","clear"]});var Oa=n(26603);function ka(e,t){return ye.Z.get(e).then((e=>(0,Oa.Z)(e,t)),(()=>{if(t)return s().Deferred().resolve(t).promise()}))}function La(e,t){return ye.Z.set(e,JSON.stringify(t))}var Ra=Object.defineProperty,za=Object.prototype.hasOwnProperty,Va=Object.getOwnPropertySymbols,_a=Object.prototype.propertyIsEnumerable,Ua=(e,t,n)=>t in e?Ra(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ba=(e,t)=>{for(var n in t||(t={}))za.call(t,n)&&Ua(e,n,t[n]);if(Va)for(var n of Va(t))_a.call(t,n)&&Ua(e,n,t[n]);return e};const Fa=function(e){return e.isDirty=!0,ka(Jo.Z.storageKey).then((t=>{if(t.users)return t.users.forEach((t=>{t.experienceSettings=Ba(Ba({},t.experienceSettings),e)})),La(Jo.Z.storageKey,t)}))};var Ha=Object.defineProperty,Wa=Object.prototype.hasOwnProperty,Ya=Object.getOwnPropertySymbols,Ga=Object.prototype.propertyIsEnumerable,qa=(e,t,n)=>t in e?Ha(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qa=(e,t)=>{for(var n in t||(t={}))Wa.call(t,n)&&qa(e,n,t[n]);if(Ya)for(var n of Ya(t))Ga.call(t,n)&&qa(e,n,t[n]);return e};const Ka=["homeSettings"],$a=function(){const e=(0,h.DB)("StoredUserExperienceSettingsModel"),t=Object.keys(Qa(Qa({},e.prototype.syncedAttrs),e.prototype.syncedRelations)),n=y().without(t,...Ka),i=ka("experience").then((e=>{const t=y().pick(e,n);return Fa(t).then((()=>ye.Z.remove("experience")))}));return(0,Mt.Z)(i)};var Ja=n(88019),Xa=n(4762);const el={PRODUCTION:"9AC194DC",QA:"4289C4E0",NINJA:"EB90125F",CUSTOM:"custom"};el.settings=[{value:el.PRODUCTION,title:"Production"},{value:el.QA,title:"QA"},{value:el.NINJA,title:"Ninja"},{value:el.CUSTOM,title:"Custom"}];const tl=el,nl={NONE:0,VAST:1};nl.settings=[{value:nl.NONE,title:"None"},{value:nl.VAST,title:"Add ?debug=1 to ad requests"}];const il=nl,rl={DISABLED:0,ENABLED:1,VERBOSE:2};rl.settings=[{value:rl.DISABLED,title:"Disabled"},{value:rl.ENABLED,title:"Enabled"},{value:rl.VERBOSE,title:"Verbose"}];const sl=rl,ol=Xa.Z.extend({name:"DeviceSettingsModel",storageKey:"deviceSettings",sessionAttrs:{isSaving:Ja.Z.boolean,saveError:Ja.Z.object},syncedAttrs:{chromecastAppID:Ja.Z.string,chromecastCustomAppID:Ja.Z.string,sonosCustomBaseURL:Ja.Z.string,debugAdKind:Ja.Z.integer,debugLevel:Ja.Z.integer,debugVideoQualityOverlay:Ja.Z.boolean,directPlay:Ja.Z.boolean,directStream:Ja.Z.boolean,rejectDirectConnections:Ja.Z.boolean,restorePlayQueue:Ja.Z.object,shouldSyncSettings:Ja.Z.boolean,hasDismissedServerDownloadMessage:Ja.Z.boolean,dismissedUnclaimedServers:Ja.Z.object,dismissedServerUpdateVersions:Ja.Z.object,volume:Ja.Z.integer,serverUpdateDismissedVersion:Ja.Z.string},defaults:()=>({isSaving:!1,saveError:null,chromecastAppID:tl.PRODUCTION,debugAdKind:il.NONE,debugLevel:sl.DISABLED,debugVideoQualityOverlay:!1,directPlay:!0,directStream:!0,rejectDirectConnections:!1,restorePlayQueue:null,shouldSyncSettings:D.Z.allowSyncSettings,hasDismissedServerDownloadMessage:!1,dismissedUnclaimedServers:{},dismissedServerUpdateVersions:{},volume:90})});var al=Object.defineProperty,ll=Object.prototype.hasOwnProperty,cl=Object.getOwnPropertySymbols,dl=Object.prototype.propertyIsEnumerable,ul=(e,t,n)=>t in e?al(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hl=(e,t)=>{for(var n in t||(t={}))ll.call(t,n)&&ul(e,n,t[n]);if(cl)for(var n of cl(t))dl.call(t,n)&&ul(e,n,t[n]);return e};const pl=["debugVideoQualityOverlay","restorePlayQueue","volume"],gl=function(){const e=ol.prototype.storageKey,t=ka("experience").then((t=>{const n=y().pick(t,pl);if(0!==Object.keys(n).length)return ka(e,{}).then((t=>{const i=hl(hl({},t),n);return La(e,i)}))}));return(0,Mt.Z)(t)},ml={"home.continue":[/^(movie|tv)\.inprogress\.([0-9]+)/],"home.movies.recent":[/^movie\.recentlyadded\.([0-9]+)/],"home.music.recent":[/^music\.recent\.added\.([0-9]+)/],"home.photos.recent":[/^photo\.recent\.([0-9]+)/],"home.ondeck":[/^tv\.ondeck\.([0-9]+)/],"home.television.recent":[/^tv\.recentlyadded\.([0-9]+)/],"home.videos.recent":[/^video\.recent\.([0-9]+)/]};function fl(e,t){return t.some((t=>t.test(e)))}var yl=n(59650),vl=n(44560);const bl={WHITE:"#ffffff",YELLOW:"#ffee00",BLACK:"#000000",CYAN:"#00ffff",BLUE:"#0000ff",GREEN:"#00ff00",MAGENTA:"#ee00ee",RED:"#ff0000",GREY:"#808080"};bl.settings=[{value:bl.WHITE,title:"White"},{value:bl.YELLOW,title:"Yellow"},{value:bl.BLACK,title:"Black"},{value:bl.CYAN,title:"Cyan"},{value:bl.BLUE,title:"Blue"},{value:bl.GREEN,title:"Green"},{value:bl.MAGENTA,title:"Magenta"},{value:bl.RED,title:"Red"},{value:bl.GREY,title:"Grey"}],bl.ALL=[bl.WHITE,bl.YELLOW,bl.BLACK,bl.CYAN,bl.BLUE,bl.GREEN,bl.MAGENTA,bl.RED,bl.GREY];const Zl=bl,Sl={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"};Sl.settings=[{value:Sl.TOP,title:"Top"},{value:Sl.MIDDLE,title:"Middle"},{value:Sl.BOTTOM,title:"Bottom"}],Sl.ALL=[Sl.TOP,Sl.MIDDLE,Sl.BOTTOM];const Il=Sl,Ml={AUTO:"auto",AVOID:"avoid",ALWAYS:"always",NEVER:"never"};Ml.settings=[{value:Ml.AUTO,title:"Automatic"},{value:Ml.AVOID,title:"Only image formats"},{value:Ml.ALWAYS,title:"Always"}];const wl=Ml;var Pl=n(40688);const Cl=/(^[^-]+)-/;function Dl(e){for(let t=0,n=(e=e||[]).length;t<n;t++){const n=e[t];if("xx"===n||"xn"===n)continue;if(Pl.ZP[n])return n;const i=n.match(Cl),r=i&&Dl([i[1]]);if(r)return r}}function Al(e){const t=window.navigator;let n;return e?n=[e]:t.languages?n=t.languages:t.language?n=[t.language]:t.userLanguage&&(n=[t.userLanguage]),Dl(n)||"en"}var xl=n(80622),El=n(22706),Tl=n(67070),jl=n(45697),Nl=n.n(jl);const Ol="table";Nl().oneOf(["poster","mosaic",Ol,"simpleSummary","summary","epgEpisode","sharedItems"]);var kl=n(49788),Ll=n(22618);const Rl=Ll.Z.extend({name:"ReminderModel",syncedAttrs:{data:Ja.Z.object,id:Ja.Z.string.isRequired,remindAfter:Ja.Z.string.isRequired,times:Ja.Z.integer.isRequired}}),zl=kl.Z.extend({name:"ReminderCollection",model:Rl});var Vl=n(83416),_l=Object.defineProperty,Ul=Object.prototype.hasOwnProperty,Bl=Object.getOwnPropertySymbols,Fl=Object.prototype.propertyIsEnumerable,Hl=(e,t,n)=>t in e?_l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wl=(e,t)=>{for(var n in t||(t={}))Ul.call(t,n)&&Hl(e,n,t[n]);if(Bl)for(var n of Bl(t))Fl.call(t,n)&&Hl(e,n,t[n]);return e};const Yl=El.Z.ORIGINAL,Gl=Xa.Z.extend({name:"UserExperienceSettingsModel",sessionAttrs:Wl(Wl({},Vl.Z.sessionAttrs),{isRemoteSchemaVersionNewer:Ja.Z.boolean}),syncedAttrs:Wl(Wl({},Vl.Z.syncedAttrs),{schemaVersion:Ja.Z.integer,language:Ja.Z.string,playThemeMusic:Ja.Z.boolean,companion:Ja.Z.boolean,allowHttpFallback:Ja.Z.string,timeFormat:Ja.Z.string,dismissedWhatsNewFeatures:Ja.Z.object,autoAdjustQuality:Ja.Z.boolean,remoteSmallVideoAtOriginalQuality:Ja.Z.boolean,useHomeStreamingRecommendedSettings:Ja.Z.boolean,localQuality:Ja.Z.integer,remoteQuality:Ja.Z.integer,audioBoost:Ja.Z.integer,subtitleColor:Ja.Z.string,subtitlePosition:Ja.Z.string,subtitleSize:Ja.Z.integer,subtitlesBurnLevel:Ja.Z.string,extrasPrefixCount:Ja.Z.integer,audioForceMultiChannel:Ja.Z.boolean,forceTranscodeProtocolHLS:Ja.Z.boolean,autoPlay:Ja.Z.boolean,calendarViewType:Ja.Z.string,columnAdjustment:Ja.Z.integer,columnWidthMultiplier:Ja.Z.float,dashboardNowPlayingShowDetails:Ja.Z.boolean,hasDismissedDVRUpsell:Ja.Z.boolean,hasDismissedServerDashboardUpsell:Ja.Z.boolean,hasDismissedHubPromotionWarning:Ja.Z.boolean,isSidebarCollapsed:Ja.Z.boolean,libraryTableColumns:Ja.Z.object,listStyles:Ja.Z.object,prePlayListStyles:Ja.Z.object,directoryListStyles:Ja.Z.object,directoryTableColumns:Ja.Z.object,savedDirectoryListKeys:Ja.Z.object,relayReminders:Ja.Z.object,showAdvancedSettings:Ja.Z.boolean,showPrePlayArtwork:Ja.Z.boolean,musicDownloadQuality:Ja.Z.integer,videoDownloadQuality:Ja.Z.integer,recentSearches:Ja.Z.array,searchAllServers:Ja.Z.boolean,libraryRoutes:Ja.Z.object,hasDismissedNewsSunsetBanner:Ja.Z.boolean,hasDismissedCustomHomeSunset:Ja.Z.boolean}),syncedRelations:Wl(Wl({},Vl.Z.syncedRelations),{reminders:{relationClass:zl}}),defaults:()=>Wl(Wl({},Vl.Z.defaults),{isRemoteSchemaVersionNewer:!1,language:Al(),playThemeMusic:!1,companion:!0,allowHttpFallback:vl.Z.NEVER,timeFormat:"h:mma",dismissedWhatsNewFeatures:{},autoAdjustQuality:!1,remoteSmallVideoAtOriginalQuality:!0,useHomeStreamingRecommendedSettings:!0,localQuality:Yl,remoteQuality:6,audioBoost:yl.KH,subtitleColor:Zl.WHITE,subtitlePosition:Il.BOTTOM,subtitleSize:100,subtitlesBurnLevel:wl.AUTO,extrasPrefixCount:0,audioForceMultiChannel:!1,forceTranscodeProtocolHLS:!1,autoPlay:!0,calendarViewType:"calendar",columnAdjustment:0,columnWidthMultiplier:1.5,dashboardNowPlayingShowDetails:!1,hasDismissedServerDashboardUpsell:!1,isSidebarCollapsed:!1,libraryTableColumns:{},listStyles:{[Tl.Y3]:{episode:Ol,track:Ol},[Tl.sD]:{track:Ol}},prePlayListStyles:{},directoryListStyles:{},directoryTableColumns:{},savedDirectoryListKeys:{},relayReminders:{},showAdvancedSettings:!1,showPrePlayArtwork:!1,musicDownloadQuality:El.Z.ORIGINAL,videoDownloadQuality:El.Z.ORIGINAL,recentSearches:[],searchAllServers:!1,libraryRoutes:{},hasDismissedNewsSunsetBanner:!1,hasDismissedCustomHomeSunset:!1}),initialize(){this.set({schemaVersion:Gl.schemaVersion})},augmentResponse(e){if(e.schemaVersion>Gl.schemaVersion)return x.Z.warn(`[Settings] Received settings with schemaVersion of ${e.schemaVersion}; expected ${Gl.schemaVersion} or less.  Settings sharing is now disabled.`),Wl(Wl({},this.toJSON()),{isRemoteSchemaVersionNewer:!0});e=sc(e);const t=this.get("isDirty"),n=this.get("updatedAt"),i=(0,xl.Z)(e.updatedAt),r=n&&i&&n<i;return t&&n===i||n&&i&&n>i?this.toJSON():(t&&r&&(e.isDirty=!1),e.isRemoteSchemaVersionNewer=!1,e)}},{schemaVersion:6}),ql=Gl;var Ql=n(54462);function Kl(e){if(e)return e.split("--")}function $l(e){Object.keys(e).forEach((t=>{const n=function(e){const t=Kl(e);if(t.length<3)return e;const[n,i,r,s]=t,o=(0,Ql.Z)(r);return(0,mn.Z)(n,i,o,s)}(t);if(n!==t){const i=e[t];e[n]=i,delete e[t]}}))}var Jl=n(42227),Xl=n(77153),ec=n(50290);function tc(e){e.isHidden&&!e.hiddenAt&&(e.hiddenAt=Date.now())}const nc={1:rc,2:function(e){const{lastSourcePivots:t,savedPivotParams:n,sidebarSettings:{pinnedSources:i}={}}=e;return t&&$l(t),n&&$l(n),i&&i.forEach((e=>{const t=Kl(e.key);if(!t)return;const n=t.pop(),i=(0,Ql.Z)(n);if(i!==n){const n=(0,mn.Z)(...t,i);e.directoryID||(e.directoryID=i),e.key=n}})),e},3:rc,4:function(e){if(!e.relayReminders)return e;e.reminders=e.reminders||[];for(const t in e.relayReminders){const n=(0,ec.Z)(Xl.Z.Relay,t);if(e.reminders.some((e=>e.id===n)))continue;const i=e.relayReminders[t],r={id:n,remindAfter:(0,Jl.Z)(i.remindAfter).toISOString(),times:Math.max(0,i.times-1)};e.reminders.push(new Rl(r).toJSON())}return delete e.relayReminders,e},5:rc,6:rc},ic=[function(e){if(null!=e.autoHomeHubsEnabled)return e;const t=e.homeSettings;return t&&t.hasCustomizations?e.autoHomeHubsEnabled=!1:e.autoHomeHubsEnabled=!0,e},function(e){const t=e.sidebarSettings;t&&t.pinnedSources&&t.pinnedSources.forEach(tc);const n=e.homeSettings;return n&&n.hubs&&n.hubs.forEach(tc),e},function(e){const{audioBoost:t}=e;if(null!=t){const n=t===yl.Yq?yl.KH:yl.o5,i=ql.prototype.defaults().audioBoost;n!==t&&n!==i&&(e.audioBoost=n)}return e},function(e){var t;const n=e.homeSettings;return n&&!e.autoHomeHubsEnabled&&(n.hubs=null==(t=n.hubs)?void 0:t.reduce(((e,t)=>{const n=function(e){for(const t in ml)if(fl(e,ml[t]))return t;return e}(t.hubIdentifier);return"/hubs/promoted"===t.directoryKey&&t.provider.identifier===te.Y3?e.find((e=>{var i,r,s,o;return e.hubIdentifier===n&&(null==(i=e.provider)?void 0:i.identifier)===(null==(r=t.provider)?void 0:r.identifier)&&(null==(s=e.server)?void 0:s.machineIdentifier)===(null==(o=t.server)?void 0:o.machineIdentifier)}))||(t.directoryKey="/hubs",t.hubIdentifier=n,e.push(t)):e.push(t),e}),[])),e}];function rc(e){return e}function sc(e={}){let t=e.schemaVersion||0;for(;t<ql.schemaVersion;)e.schemaVersion=++t,nc[t](e);return ic.forEach(((t,n)=>{try{t(e)}catch(e){x.Z.error("[User] Setting migration[%d] error",n,e)}})),e}function oc(){const e=ka(Jo.Z.storageKey).then((e=>{if(e.users&&e.users.some((e=>e.experienceSettings&&e.experienceSettings.schemaVersion!==ql.schemaVersion)))return e.users.forEach((e=>{e.experienceSettings=sc(e.experienceSettings)})),La(Jo.Z.storageKey,e)}));return(0,Mt.Z)(e)}const ac="samenetwork",lc=Xa.Z.extend({name:"DesktopSettingsModel",storageKey:"settingsv2",syncedAttrs:{preferInsecureConnections:Ja.Z.string,"syncQuality!video":Ja.Z.integer,"syncQuality!music":Ja.Z.integer,"syncQuality!photo":Ja.Z.integer,viewedUnclaimedServers:Ja.Z.list,dismissedUnclaimedServers:Ja.Z.list},defaults:()=>({preferInsecureConnections:D.Z.shouldPreferInsecureLocalConnections?ac:"never","syncQuality!video":8,"syncQuality!music":2,"syncQuality!photo":2,viewedUnclaimedServers:[],dismissedUnclaimedServers:[]})});var cc=Object.defineProperty,dc=Object.prototype.hasOwnProperty,uc=Object.getOwnPropertySymbols,hc=Object.prototype.propertyIsEnumerable,pc=(e,t,n)=>t in e?cc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gc=(e,t)=>{for(var n in t||(t={}))dc.call(t,n)&&pc(e,n,t[n]);if(uc)for(var n of uc(t))hc.call(t,n)&&pc(e,n,t[n]);return e};const mc=["chromecastAppID","chromecastCustomAppID","debugLevel","directPlay","directStream","rejectDirectConnections","serverUpdateDismissedVersion"],fc=function(){const e=lc.prototype.storageKey,t=ol.prototype.storageKey,n=ka(e).then((n=>{const i=y().pick(n,mc);if(0!==Object.keys(i).length)return ka(t,{}).then((e=>{const n=gc(gc({},e),i);return La(t,n)})).then((()=>La(e,y().omit(n,mc))))}));return(0,Mt.Z)(n)},yc=["allowHttpFallback","audioBoost","companion","language"],vc=function(){const e=ka(lc.prototype.storageKey).then((e=>{const t=y().pick(e,yc);if(0!==Object.keys(t).length)return Fa(t).then((()=>La(lc.prototype.storageKey,y().omit(e,yc))))}));return(0,Mt.Z)(e)},bc="plexTestToken";function Zc(){const e=s().Deferred(),t=ye.Z.set(bc,1);return t.done((()=>{ye.Z.remove(bc),e.resolve()})),t.fail((t=>{const n=new ja;x.Z.warn(`Storage module swapped for ${n.name} due to exception: "${t}"`),Na.register(n),ye.Z.register(n,{ignorePrevious:!0}),e.resolve()})),e.promise()}function Sc(){return function(){const e=s().Deferred(),t=Na.get("myPlexAccessToken");return t.done((()=>{window.PLEXWEB&&window.PLEXWEB.myPlexAccessToken||ye.Z.register(Na.getInstance())})),t.always((()=>{e.resolve()})),e.promise()}().then(Zc).then(fc).then(gl).then($a).then(vc).then(oc)}var Ic=n(33646),Mc=n(45354),wc=n(95180),Pc=Object.defineProperty,Cc=Object.prototype.hasOwnProperty,Dc=Object.getOwnPropertySymbols,Ac=Object.prototype.propertyIsEnumerable,xc=(e,t,n)=>t in e?Pc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Ec=["X-Plex-Device","X-Plex-Model","X-Plex-Platform","X-Plex-Platform-Version","X-Plex-Product","X-Plex-Version"];var Tc=n(80129),jc=n.n(Tc),Nc=n(21392),Oc=n(63542);var kc=n(30581);const Lc=function(){const{hashParams:e}=(0,kc.Z)(window.location.href),t=jc().parse(e.substr(1)),n=(0,xl.Z)(t.pinID);if(n){const e=(0,h.DB)("appModel");(0,Nc.Z)(e).set({pinIDInitial:n}),(0,Oc.c9)(),window.history.replaceState(null,null,function(e,t){const n=new RegExp(`(\\?|&)(${(0,wc.Z)(t)}=[^\\?&]+(?:[\\?&]?))`,"g");return e.replace(n,((e,t)=>t)).replace(/(\?|&)$/,"")}(window.location.href,"pinID"))}return s().Deferred().resolve().promise()};var Rc=n(28163),zc=n(9669),Vc=n.n(zc),_c=n(34857),Uc=n(25859),Bc=n(14398),Fc=Object.defineProperty,Hc=Object.prototype.hasOwnProperty,Wc=Object.getOwnPropertySymbols,Yc=Object.prototype.propertyIsEnumerable,Gc=(e,t,n)=>t in e?Fc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qc=(e,t)=>{for(var n in t||(t={}))Hc.call(t,n)&&Gc(e,n,t[n]);if(Wc)for(var n of Wc(t))Yc.call(t,n)&&Gc(e,n,t[n]);return e};function Qc(e){if(!e)return e;const t=e,{"X-Plex-Username":n,"X-Plex-Device-Name":i}=t;return((e,t)=>{var n={};for(var i in e)Hc.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Wc)for(var i of Wc(e))t.indexOf(i)<0&&Yc.call(e,i)&&(n[i]=e[i]);return n})(t,["X-Plex-Username","X-Plex-Device-Name"])}var Kc=Object.defineProperty,$c=Object.prototype.hasOwnProperty,Jc=Object.getOwnPropertySymbols,Xc=Object.prototype.propertyIsEnumerable,ed=(e,t,n)=>t in e?Kc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,td=(e,t)=>{for(var n in t||(t={}))$c.call(t,n)&&ed(e,n,t[n]);if(Jc)for(var n of Jc(t))Xc.call(t,n)&&ed(e,n,t[n]);return e};const nd={PUT:!0,DELETE:!0},id={Accept:!0,"Accept-Language":!0,"Content-Language":!0,"Content-Type":!0},rd=/(^X-Plex-[^=]+)/i;var sd=Object.defineProperty,od=Object.prototype.hasOwnProperty,ad=Object.getOwnPropertySymbols,ld=Object.prototype.propertyIsEnumerable,cd=(e,t,n)=>t in e?sd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dd=(e,t)=>{for(var n in t||(t={}))od.call(t,n)&&cd(e,n,t[n]);if(ad)for(var n of ad(t))ld.call(t,n)&&cd(e,n,t[n]);return e};const ud=function(e){const t=dd({},{timeout:3e4,language:"en",providerVersion:"6.0"});function*n(e,n){const i=n,{server:r,provider:s,timeout:o=t.timeout,allowHeadersInUrl:a=!(!r&&!s),providerVersionOverride:l}=i,c=((e,t)=>{var n={};for(var i in e)od.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&ad)for(var i of ad(e))t.indexOf(i)<0&&ld.call(e,i)&&(n[i]=e[i]);return n})(i,["server","provider","timeout","allowHeadersInUrl","providerVersionOverride"]),d=aa.Z.hasInstance()?aa.Z.getInstance():{},u=dd(dd({},d),n.headers);let h=e;if(r){if(!(0,Bc.Z)(e)){const t=(null==s?void 0:s.baseURL)?s.baseURL:r.uri;if(!t)throw new Error("Unable to make a request to a relative path without `server.uri` or `baseURL`");h=le.Z.join([t,e])}r.accessToken&&(u["X-Plex-Token"]=r.accessToken),r.isEmbedded&&(u["X-Plex-Account-ID"]="1"),s&&(u["X-Plex-Provider-Version"]=null!=l?l:t.providerVersion,u["X-Plex-Text-Format"]=(0,Uc.Z)(s.identifier))}t.language&&(u["X-Plex-Language"]=t.language,u["Accept-Language"]=t.language);const p=Vc().CancelToken.source();let g=dd(dd({},c),{url:h,cancelToken:p?p.token:void 0,headers:u,timeout:o,allowHeadersInUrl:a,paramsSerializer:e=>jc().stringify(e,{arrayFormat:"repeat"})});(null==r?void 0:r.isCloud)&&s&&(g=function(e){return qc(qc({},e),{headers:Qc(e.headers)})}(g)),g=function(e){const{method:t="GET",headers:n={},params:i={},allowHeadersInUrl:r=!1,allowBlacklistedMethodHeaders:s=!1}=e;if(!r)return e;if(nd[t]&&!s)return e;const o=td({},n),a=td({},i);return Object.keys(n).forEach((e=>{const t=n[e];id[e]||(rd.test(e)?(a[e]=t,delete o[e]):x.Z.warn('[CORS] Did not move header "%s" to query string. This can result in an unnecessary OPTIONS preflight request.',e))})),td(td({},e),{headers:o,params:a})}(g);try{return yield(0,_c.RE)(Vc().request,g)}finally{(yield(0,_c.By)())&&(null==p||p.cancel())}}return{get:(e,t={})=>n(e,dd(dd({},t),{method:"GET"})),post:(e,t={},i)=>n(e,dd(dd({},t),{method:"POST",data:i})),put:(e,t={},i)=>n(e,dd(dd({},t),{method:"PUT",data:i})),del:(e,t={})=>n(e,dd(dd({},t),{method:"DELETE"})),setOption(e,n){t[e]=n},toPlainErrorObject(e){let t,n;(function(e){return e.isAxiosError})(e)&&(e.response?(t=e.response.status,n=e.response.data):e.request&&(t=e.request.status));const i={message:e.message,name:e.name,stack:e.stack,status:t,data:n};return x.Z.error(i),i}}}();function hd(){const e=(0,h.DB)("settingFinder").find("language");return ud.setOption("language",e),(0,Mt.Z)(Rc.Z.load(e))}const pd={};const gd=["touchstart","mousedown","click","keydown","keypress"];function md(){function e(){gd.forEach((t=>{document.body.removeEventListener(t,e,!0)}));const t=function(e,t){const n=pd.audio;return n&&n.length?((0,x.Z)("[MediaElement] Found existing media element to use. type: %s",e),n.shift()):((0,x.Z)("[MediaElement] Creating new media element. type: %s",e),document.createElement(e))}("audio");function n(){t.removeEventListener("playing",n),t.removeEventListener("error",n),t.src="",t.removeAttribute("src"),function(e){const t=e.nodeName.toLowerCase();(0,x.Z)("[MediaElement] Releasing media element to pool. type: %s",t),pd[t]||(pd[t]=[]),pd[t].push(e)}(t)}t.addEventListener("playing",n),t.addEventListener("error",n),t.src="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAADAAAGhgBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVWqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr///////////////////////////////////////////8AAAA5TEFNRTMuOThyAc0AAAAAAAAAABSAJAiqQgAAgAAABobxtI73AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQxAACFEII9ACZ/sJZwWEoEb8w/////N//////JcxjHjf+7/v/H2PzCCFAiDtGeyBCIx7bJJ1mmEEMy6g8mm2c8nrGABB4h2Mkmn//4z/73u773R5qHHu/j/w7Kxkzh5lWRWdsifCkNAnY9Zc1HvDAhjhSHdFkHFzLmabt/AQxSg2wwzLhHIJOBnAWwVY4zrhIYhhc2kvhYDfQ4hDi2Gmh5KyFn8EcGIrHAngNgIwVIEMf5bzbAiTRoAD///8z/KVhkkWEle6IX+d/z4fvH3BShK1e5kmjkCMoxVmXhd4ROlTKo3iipasvTilY21q19ta30/v/0/idPX1v8PNxJL6ramnOVsdvMv2akO0iSYIzdJFirtzWXCZicS9vHqvSKyqm5XJBdqBwPxyfJdykhWTZ0G0ZyTZGpLKxsNwwoRhsx3tZfhwmeOBVISm3impAC/IT/8hP/EKEM1KMdVdVKM2rHV4x7HVXZvbVVKN/qq8CiV9VL9jjH/6l6qf7MBCjZmOqsAibjcP+qqqv0oxqpa/NVW286hPo1nz2L/h8+jXt//uSxCmDU2IK/ECN98KKtE5IYzNoCfbw+u9i5r8PoadUMFPKqWL4LK3T/LCraMSHGkW4bpLXR/E6LlHOVQxmslKVJ8IULktMN06N0FKCpHCoYsjC4F+Z0NVqdNFoGSTjSiyjzLdnZ2fNqTi2eHKONONKLMPMKLONKLMPQRJGlFxZRoKcJFAYEeIFiRQkUWUeYfef//Ko04soswso40UJAgMw8wosososy0EalnZyjQUGBRQGIFggOWUacWUeYmuadrZziQKKEgQsQLAhQkUJAgMQDghltLO1onp0cpkNInSFMqlYeSEJ5AHsqFdOwy1DA2sRmRJKxdKRfLhfLw5BzUxBTUUzLjk4LjJVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk4LjJVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7ksRRA8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=";const i=t.play();i&&i.then&&i.catch((()=>{}))}return gd.forEach((t=>{document.body.addEventListener(t,e,!0)})),s().Deferred().resolve().promise()}var fd=n(66781);function yd(e){return e.get("isFullOwnedServer")||e.get("isFullServer")}function vd(){let e;return Is.Z.hasWebSocket&&(e=new Ns.Z({name:"MediaServerEventManager",appModel:(0,h.DB)("appModel"),isValidServer:yd,supportsLongPolling:!1,allowMultipleConnections:D.Z.allowMultipleWebSocketConnections,ServerEventConnection:(0,h.DB)("mediaServerEventConnection"),ServerRetryManager:fd.Z}),e.start()),s().Deferred().resolve().promise()}var bd=n(58182);const Zd=function(e){const{hostname:t,protocol:n}=e,i="file:"===n;let r;return"https:"===n?r="https":"http:"===n?r=bd.lv(t)?"http-loopback":"http":i&&(r="file"),r};var Sd=n(57020),Id=Object.defineProperty,Md=Object.prototype.hasOwnProperty,wd=Object.getOwnPropertySymbols,Pd=Object.prototype.propertyIsEnumerable,Cd=(e,t,n)=>t in e?Id(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dd=(e,t)=>{for(var n in t||(t={}))Md.call(t,n)&&Cd(e,n,t[n]);if(wd)for(var n of wd(t))Pd.call(t,n)&&Cd(e,n,t[n]);return e};const Ad=/^utm_/;function xd(){const{searchParams:e,hashParams:t}=(0,kc.Z)(window.location.href),n=Dd(Dd({},(0,Sd.Z)(t)),(0,Sd.Z)(e));return Object.keys(n).reduce(((e,t)=>(Ad.test(t)&&(e[t.replace(Ad,"")]=n[t]),e)),{})}function Ed(e={}){const t=(0,h.DB)("metrics"),{context:n={}}=e;return t.set({deviceIdentifier:aa.Z.prop("X-Plex-Client-Identifier"),context:Dd(Dd({},n),{campaign:xd(),device:{product:aa.Z.prop("X-Plex-Product"),version:aa.Z.prop("X-Plex-Version"),platform:aa.Z.prop("X-Plex-Platform"),platformVersion:aa.Z.prop("X-Plex-Platform-Version"),device:aa.Z.prop("X-Plex-Device"),model:aa.Z.prop("X-Plex-Model"),screenResolution:aa.Z.prop("X-Plex-Device-Screen-Resolution"),protocol:Zd(window.location)}})}),(0,Mt.Z)(t.start())}const Td=p.Z.extend({mixins:m.Z,name:"AbstractReporter",enabled:!1,destroyed:!1,_suspended:!1,initialize(e={}){!1!==e.enabled&&this.enable()},hasSupport:()=>!0,enable(){this.enabled||this.destroyed||!this.hasSupport()||(this.enabled=!0,this.listenTo(g.Z,{"log:message":this.onLog,"log:group":this.onLog,"log:groupCollapsed":this.onLog,"log:groupEnd":this.onLog}),this.onEnabled())},disable(){this.enabled&&(this.enabled=!1,this.stopListening(),this.onDisabled())},destroy(){this.destroyed||(this.disable(),this.destroyed=!0,this.onDestroyed())},_suspend(){this._suspended||(this._suspended=!0,this.onSuspended())},_resume(){this._suspended&&(this._suspended=!1,this.onResumed())},onLog(e){if(this._suspended)Is.Z.hasConsole&&window.console.warn("[Logging] Ignored log reentrancy:",JSON.stringify(e));else{switch(this._suspend(),e.type){case"log:message":this.onLogMessage(e);break;case"log:group":this.onLogGroup(e);break;case"log:groupCollapsed":this.onLogGroupCollapsed(e);break;case"log:groupEnd":this.onLogGroupEnd(e)}this._resume()}},onLogMessage(){},onLogGroup(){},onLogGroupCollapsed(){this.onLogGroup.apply(this,arguments)},onLogGroupEnd(){},onEnabled(){},onDisabled(){},onResumed(){},onSuspended(){},onDestroyed(){}}),jd={[x.Z.LEVEL_LOG]:"log",[x.Z.LEVEL_DEBUG]:"debug",[x.Z.LEVEL_INFO]:"info",[x.Z.LEVEL_WARN]:"warn",[x.Z.LEVEL_ERROR]:"error"},Nd=Td.extend({name:"ConsoleReporter",hasSupport:()=>Is.Z.hasConsole,onLogMessage(e){const t=e.message,n=jd[e.level];(window.console[n]||window.console.log).call(window.console,t)},onLogGroup(e){(window.console.group||window.console.log).call(window.console,e.message)},onLogGroupCollapsed(e){(window.console.groupCollapsed||window.console.log).call(window.console,e.message)},onLogGroupEnd(){window.console.groupEnd&&window.console.groupEnd()}});function Od(){return new Nd,s().Deferred().resolve().promise()}function kd(){(0,x.Z)("[Servers] Initializing..."),function(){const e=(0,h.DB)("appModel"),t=e.get("servers"),n=e.get("cloudServer");n.addConnection(function(){const[,e,t]=(0,Pr.Y)().match(/^([^:]+):\/\/(.*)$/)||[];return{scheme:e,address:t}}()),t.add(n)}(),function(e){const t=(0,h.DB)("appModel"),n=t.get("servers"),i=Jo.Z.getActiveServers();i&&i.each((e=>{if(e.get("connections").length)try{const i=new Go.ZP(e.toJSON(),{parent:t}),r=i.get("connections");r.reset(r.filter((e=>!e.get("relay")))),!i.get("isMobileServer")&&r.length>0&&(Rd(i),n.add(i))}catch(e){x.Z.warn(e)}}))}(),function(){const e=(0,h.DB)("appModel"),t=e.get("servers"),n=D.Z.primaryServer;if(!n)return;const i=new Go.ZP({machineIdentifier:n.machineIdentifier,friendlyName:n.name,isShared:n.shared,superToken:n.superToken,accessToken:n.accessToken,sourceTitle:n.sourceTitle},{parent:e});i.addConnection({scheme:n.scheme,address:n.address,port:n.port}),t.add(i)}(),function(){const e=(0,h.DB)("appModel"),t=e.get("servers"),n=new Go.ZP({isBundled:!0},{parent:e});n.addConnection({scheme:window.location.protocol.replace(":",""),address:window.location.hostname,port:window.location.port,isBundled:!0}),Rd(n),t.add(n)}(),function(){if(!D.Z.allowLoopbackDiscovery)return;const e=(0,h.DB)("appModel"),t=e.get("servers"),n=new Go.ZP({},{parent:e});n.addConnection({scheme:"http",address:"127.0.0.1",port:"32400"}),Rd(n),t.add(n)}(),(0,h.DB)("serverManager").start(),(0,h.DB)("primaryServerManager").start(),(0,h.DB)("serverConnectionManager").start(),(0,h.DB)("companionServerManager").start(),(0,h.DB)("providerManager").start(),(0,h.DB)("serverUpdateManager").start(),(0,x.Z)("[Servers] Finished initialization")}function Ld(){(0,x.Z)("[Servers] Clearing...");const e=(0,h.DB)("appModel"),t=e.get("servers");(0,h.DB)("serverManager").stop(),(0,h.DB)("primaryServerManager").stop(),(0,h.DB)("serverConnectionManager").stop(),(0,h.DB)("serverConnectionTestManager").reset(),(0,h.DB)("companionServerManager").stop(),(0,h.DB)("providerManager").stop(),(0,h.DB)("serverUpdateManager").stop(),t.uninitialize(),t.reset(),t.initialize(),e.unset("primaryServer"),e.unset("companionServer"),e.unset("transientServer")}function Rd(e){const t=e.get("connections").map((e=>e.get("uri")));(0,x.Z)("[Servers]","Initialize server",e.get("accessToken")?"with token,":"without token,",y().compact([e.get("debugName"),e.get("machineIdentifier"),...t]).join(", "))}function zd(){return kd(),g.Z.on("clear:servers",Ld),g.Z.on("init:servers",kd),s().Deferred().resolve().promise()}function Vd(){return(0,x.Z)("[Sources] Initializing..."),(0,h.DB)("sourceManager").start(),(0,x.Z)("[Sources] Finished initialization"),s().Deferred().resolve().promise()}var _d=n(62334),Ud=n(25655),Bd=n(32183);const Fd=["plex_tv_auth","plex_tv_lang"];var Hd=Object.defineProperty,Wd=Object.prototype.hasOwnProperty,Yd=Object.getOwnPropertySymbols,Gd=Object.prototype.propertyIsEnumerable,qd=(e,t,n)=>t in e?Hd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qd=(e,t)=>{for(var n in t||(t={}))Wd.call(t,n)&&qd(e,n,t[n]);if(Yd)for(var n of Yd(t))Gd.call(t,n)&&qd(e,n,t[n]);return e};const Kd=p.Z.extend({mixins:m.Z,initialize(e){this.user=e,this.debouncedChangeTimeout=null},start(){const e=this.user;this.listenTo(e,{change:this.onUserChange,"change:hasInvalidToken":this.onHasInvalidTokenChange,"change:isSignedIn":this.onIsSignedInChange}),this.listenTo(g.Z,{[`cloudServer:${Bd.Ej}`]:this.onNotifyAccountChange});const t=e.get("hasInvalidToken"),n=e.get("isSignedIn");t&&this.onHasInvalidTokenChange(e,t),n&&this.onIsSignedInChangeHandleToken(e,n)},handleInvalidToken(){const e=new Hs.Z({title:(0,E.Z)("Invalid Credentials"),message:(0,E.Z)("Your credentials have expired. Please sign in again."),confirmLabel:(0,E.Z)("OK"),cancelLabel:(0,E.Z)("Ignore")});e.promise.done((()=>{(0,B.Z)("login")})),g.Z.trigger("show:modal",e)},_updateUser(e,t){if(t){const n={};t.id!==e.id&&(n.included=["experienceSettings"]),t.copyFromModel(e,n)}else Jo.Z.get("users").add(e.toJSON(),{parse:!0});Jo.Z.debouncedSave()},onHasInvalidTokenChange(e,t){t&&this.handleInvalidToken()},onUserChange(e){this.debouncedChangeTimeout&&window.clearTimeout(this.debouncedChangeTimeout);const t=Jo.Z.getActiveUser();this.debouncedChangeTimeout=window.setTimeout(this._updateUser.bind(this,e,t),0)},onIsSignedInChange(e,t){this.onIsSignedInChangeHandleToken(e,t),this.onIsSignedInChangeHandleSyncSettings(e,t),this.onIsSignedInChangeHandlePopulateUser(e,t)},onIsSignedInChangeHandleToken(e,t){if(this.stopListening(e,"change:hasInvalidToken",this.onHasInvalidTokenChange),t){if(t&&e.get("restricted")&&document.cookie.split(";").forEach((e=>{const[t]=e.trim().split("=");t&&!Fd.includes(t)&&(document.cookie=`${t}=; Domain=plex.tv; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`,document.cookie=`${t}=; Domain=.plex.tv; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`,document.cookie=`${t}=; Domain=.app.plex.tv; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`)})),e.get("isFullUser")&&t){const t=e.server.getXHROptions("/api/claim/subscribe");s().ajax(Qd(Qd({},t),{type:"POST"}))}}else e.get("hasInvalidToken")&&this.handleInvalidToken()},onIsSignedInChangeHandleSyncSettings(e,t){if(!t)return;const n=(0,h.DB)("appStore").dispatch,i=e.get("settings"),r=e.get("experienceSettings"),s=i.reduce(((e,t)=>(t.get("isDirty")&&e.push(t.get("id")),e)),[]);r.get("isDirty")&&n((0,Ud.Xe)()),s.length&&n((0,Ud.Z$)(s))},onIsSignedInChangeHandlePopulateUser(e,t){if(!t)return void e.get("features").clear();const n=(0,h.DB)("appStore").dispatch,i={reset:!0};e.get("homeDetails").populate(i),e.get("homeUsers").populate(i),e.get("consent").populate(i),e.get("geo").populate(i);const r=e.get("desktop");r.get("cloudCompanions").populate(i),r.get("devices").populate(i),r.get("invites").populate(i),r.get("socialNetworks").populate(i),e.get("features").populate(i).then((()=>{n((0,_d.Zu)())})),n((0,Ud.Bl)())},onNotifyAccountChange(){this.user.fetch().then((()=>{(0,x.Z)("[User] updated account following account change notification")}),(e=>{x.Z.error("[User] Unable to update account following account change notification",e)}))}});function $d(){let e=(0,Mt.Z)(Jo.Z.populate());return e=e.then((()=>ye.Z.get("myPlexAccessToken"))),e=e.then((e=>{const t=(0,h.DB)("appModel").get("user"),n=Jo.Z.get("users").findWhere({authToken:e});n&&(t.activateStoredUser(n.id),n.copyToModel(t))}),(()=>{const e=(0,h.DB)("appModel").get("user");e.activateStoredUser(0);const t=Jo.Z.getActiveUser();t&&t.copyToModel(e)})),(0,Mt.Z)(e).then((()=>{const e=(0,h.DB)("appModel").get("user");new Kd(e).start()}))}function Jd(){return c.render(o.createElement(d.zt,{store:(0,h.DB)("appStore")},o.createElement(u.F0,{history:xe.Z},o.createElement(a.W,{backend:l.PD},o.createElement(hs,null)))),document.getElementById("plex")),s().Deferred().resolve().promise()}function Xd(){let e=function(e={},t={}){const n=((e,t)=>{for(var n in t||(t={}))Cc.call(t,n)&&xc(e,n,t[n]);if(Dc)for(var n of Dc(t))Ac.call(t,n)&&xc(e,n,t[n]);return e})({allowUrls:[new RegExp((0,wc.Z)("-plex-0.0.0.47-f01acfe"))],debug:!1,dsn:"https://7782d805c637497c874a353c9c4d349e@o17675.ingest.sentry.io/6288871",environment:"internal",ignoreErrors:["ResizeObserver","songId",/^Non-Error promise rejection captured/,/^SecurityError: The operation is insecure/],integrations:[new Ic.jK.Breadcrumbs({fetch:!1,xhr:!1})],release:"0.0.0.47-f01acfe",sampleRate:.05,version:"0.0.0"},e),i=Ec.reduce(((e,t)=>(e.hasOwnProperty(t)||(e[t]=aa.Z.prop(t)),e)),t);return Mc.S1(n),Object.entries(i).forEach((([e,t])=>{A.YA(e,t)})),s().Deferred().resolve().promise()}();return e=e.then(Od),e=e.then(Za),e=e.then(Sc),e=e.then(ws),e=e.then(Es),e=e.then(Zs),e=e.then(Ea),e=e.then($d),e=e.then(hd),D.Z.allowCloudPubSub&&(e=e.then((()=>function(){let e;return Is.Z.hasWebSocket&&(e=new Ns.Z({name:"CloudServerEventManager",appModel:(0,h.DB)("appModel"),isValidServer:Rs,supportsLongPolling:!0,allowMultipleConnections:!0,ServerEventConnection:Ls,ServerRetryManager:js}),e.start()),s().Deferred().resolve().promise()}()))),e=e.then(vd),e=e.then(Vd),e=e.then(zd),e=e.then(md),e=e.then(xa),e=e.then(Lc),e=e.then(Ed),e=e.then(C),e=e.then(w),e=e.then(Jd),e}var eu=n(40202),tu=n.n(eu),nu=n(59239),iu=n.n(nu),ru=n(19734),su=n.n(ru),ou=n(28348),au=n.n(ou),lu=n(51030),cu=n.n(lu),du=n(71815),uu=n.n(du),hu=n(44710),pu=n.n(hu),gu=n(57327),mu=n.n(gu);tu().registerPartial("setting",pu()),tu().registerPartial("lockableTagInput",cu()),tu().registerPartial("lockableTextInput",uu()),tu().registerPartial("lockableNumericInput",au()),tu().registerPartial("textInput",mu()),tu().registerPartial("autocompleteTextInput",iu()),tu().registerPartial("connectError",su());var fu=n(27098);const yu=new(n.n(fu)())({attributePrefix:"_",emptyNodeForm:{},ignoreRoot:!0}),vu=function(e){return'<?xml version="1.0"?>'+yu.js2xml(e)};function bu(e){e.forEach((e=>{e.resolve()})),e.length=0}function Zu(e){e.forEach((e=>{e.reject()})),e.length=0}const Su=p.Z.extend({mixins:[m.Z],name:"MediaServerCompanionProxy",commandID:0,initialize(){y().bindAll(this,"_checkPollRequestStatus","_pickProxyServer","_poll","_repoll","_sendResponse","_unregisterPlayer","onPollSuccess","onPollError"),this._debounceUnregisterPlayer=y().debounce(this._unregisterPlayer,2e3),this._debouncePickProxyServer=y().debounce(this._pickProxyServer,2e3),this._deepLinkDeferred=s().Deferred().resolve(),this._playerRegistrationDeferreds=[],this._playerUnregistrationDeferreds=[],this._pollRetryDelay=1e3},getDeepLink(){return this._deepLinkDeferred.promise()},publish(e){if(!this.proxyServer)return;if(this.timelineInflight)return void(this._pendingTimeline=e);this.timelineInflight=!0;const t=vu(e),n=y().result(this.proxyServer,"url"),i=this.proxyServer.getXHROptions(`${n}player/proxy/timeline?commandID=${this.commandID}`);i.data=`timeline=${encodeURIComponent(t)}`,i.method="POST",i.contentType="application/x-www-form-urlencoded",s().ajax(i).always((()=>{this.timelineInflight=!1;const e=this._pendingTimeline;e&&(delete this._pendingTimeline,this.publish(e))}))},subscribe(e){this.started||(this.callback=e,this.started=!0,this.appModel=(0,h.DB)("appModel"),this.listenTo(this.appModel,"change:companionServer",this._debouncePickProxyServer),this._debouncePickProxyServer(this.appModel,this.appModel.get("companionServer")))},unsubscribe(){if(!this.started)return;const e=this.proxyServer;this.started=!1,this.stopListening(this.servers,"change:connected",this._debouncePickProxyServer),this.callback=null,this.proxyServer=null,e&&this._debounceUnregisterPlayer(e),this._clearPollRequestStatusCheck(),this.pollRequest&&(this.pollRequest.abort(),this.pollRequest=null)},unregisterPlayer(e,t){this.cloudServer=e,this.clientID=t;const n=s().Deferred();return this._playerUnregistrationDeferreds.push(n),n.promise()},registerPlayer(e,t){this.cloudServer=e,this.clientID=t;const n=s().Deferred();return this._playerRegistrationDeferreds.push(n),n.promise()},debugStatus(){const e=this.proxyServer;return e?`Proxied: ${e.get("debugName")}`:void 0},_pickProxyServer(e,t){this.started&&(this.proxyServer=t,this.proxyServer&&(this._registerServer(),this._poll()))},_registerServer(){if(!this.proxyServer||!this.cloudServer||!this.clientID)return;const e=this.cloudServer.getXHROptions(`devices/${this.clientID}`,{method:"POST",headers:{"X-Plex-Provides":D.Z.allowCloudPubSub?"client,player,pubsub-player":"client,player"},data:{_method:"PUT",proxiedBy:this.proxyServer.id}});s().ajax(e).done((()=>{bu(this._playerRegistrationDeferreds)})).fail((()=>{Zu(this._playerRegistrationDeferreds)}))},_unregisterPlayer(e){if(!e||!this.cloudServer||!this.clientID)return;const t=this.cloudServer.getXHROptions(`/devices/${this.clientID}`,{method:"POST",headers:{"X-Plex-Provides":"client"},data:{_method:"PUT"}});s().ajax(t).done((()=>{bu(this._playerUnregistrationDeferreds)})).fail((()=>{Zu(this._playerUnregistrationDeferreds)}))},_poll(){if(!this.started)return;const e=this.proxyServer;if(!e)return void x.Z.info("[Companion] No proxy server available to long poll");if(this._isPollRequestPending())return void x.Z.info("[Companion] Long poll already open to ",e.get("debugName"));this._clearPollRequestStatusCheck(),this._checkPollRequestStatusLater(),this._clearRepollLater();const t=e.getXHROptions("/player/proxy/poll",{data:{deviceClass:"pc",protocolVersion:"3",protocolCapabilities:"timeline,playback,navigation,mirror,playqueues",timeout:1}});x.Z.info("[Companion] Opening long poll to %s at %s",e.get("debugName"),t.url),this.pollRequest=s().ajax(t).done(this.onPollSuccess).fail(this.onPollError)},_repoll(){this._clearPollRequestStatusCheck(),this._clearRepollLater(),this._poll()},_isPollRequestPending(){return!!this.pollRequest&&"pending"===this.pollRequest.state()},_checkPollRequestStatus(){this._isPollRequestPending()&&this.proxyServer&&(x.Z.info("[Companion] Poll connection successfully opened with %s",this.proxyServer.get("debugName")),this._pollRetryDelay=1e3)},_checkPollRequestStatusLater(){this._pollRequestStatusCheckTimeout=window.setTimeout(this._checkPollRequestStatus,5e3)},_clearPollRequestStatusCheck(){this._pollRequestStatusCheckTimeout=window.clearTimeout(this._pollRequestStatusCheckTimeout)},_repollLater(){this._pollRetryTimeout=window.setTimeout(this._repoll,this._pollRetryDelay)},_clearRepollLater(){this._pollRetryTimeout=window.clearTimeout(this._pollRetryTimeout)},_processCommand(e){if(!this.started)return;const t={path:e.path,commandID:e.commandID,supportsTimeline:!0,query:{key:[e.queryKey],providerIdentifier:[e.queryProviderIdentifier],offset:[e.queryOffset],mediaIndex:[e.queryMediaIndex],containerKey:[e.queryContainerKey],playQueueID:[e.queryPlayqueueid],type:[e.queryType],volume:[e.queryVolume],repeat:[e.queryRepeat],shuffle:[e.queryShuffle],autoPlay:[e.queryAutoPlay],subtitleColor:[e.querySubtitleColor],subtitlePosition:[e.querySubtitlePosition],subtitleSize:[e.querySubtitleSize],subtitleOffset:[e.querySubtitleOffset],audioStreamID:[e.queryAudioStreamID],subtitleStreamID:[e.querySubtitleStreamID],token:[e.queryToken],machineIdentifier:[e.queryMachineIdentifier],protocol:[e.queryProtocol],address:[e.queryAddress],port:[e.queryPort],text:[e.queryText],field:[e.queryField]}},n="resolved"!==this._deepLinkDeferred.state();this.callback(t,n).always((e=>{n&&e&&e.deferredAction&&this._deepLinkDeferred.resolve(e.deferredAction),this._sendResponse(e.controllerResponse)}))},_sendResponse(e){if(!this.proxyServer)return;const t=parseInt(e.commandID,10);this.commandID<t&&(this.commandID=t);const n=`/player/proxy/response?commandID=${e.commandID}`,i=this.proxyServer.getXHROptions(n,{method:"POST",contentType:"application/x-www-form-urlencoded",data:{response:e.body}});s().ajax(i)},onPollSuccess(e){const t=e&&Ms.Z.parseXML(e),n=t&&t.Command;e?(t?n||x.Z.warn("[Companion] Poll succeeded without a Command response",t):x.Z.warn("[Companion] Poll succeeded without a parseable response",e),n?(this._repoll(),(Array.isArray(n)?n:[n]).forEach((e=>{try{x.Z.info("[Companion] Received %s from %s",e.path,e.deviceName),this._processCommand(e)}catch(t){x.Z.warn("[Companion] encountered %s while processing %s",t.message,e)}}),this)):this.onPollError()):this._repoll()},onPollError(e={}){const t=this.proxyServer;if(!this.started||!t)return;this._clearPollRequestStatusCheck(),this._clearRepollLater(),this._repollLater(),this._pollRetryDelay*=2;const n=t.get("debugName");x.Z.warn("[Companion] Poll failed to %s",n)}}),Iu="vote/leader";function Mu(e){try{return window.localStorage.getItem(e)}catch(t){x.Z.debug(`[Vote] Unable to get ${e} from storage due to error:`,t.message)}}function wu(e,t){try{return window.localStorage.setItem(e,t)}catch(n){x.Z.debug(`[Vote] Unable to set ${e}: ${t} in storage due to error:`,n.message)}}function Pu(e){try{return window.localStorage.removeItem(e)}catch(t){x.Z.debug(`[Vote] Unable to remove ${e} from storage due to error:`,t.message)}}const Cu={id:null,time:null},Du=function(){const e=function({id:e=(0,Ps.Z)(),getItem:t=Mu,setItem:n=wu,remove:i=Pu,electionDuration:r=500,maxLeaderAge:s=9e4,minLeaderRefreshDuration:o=1e4}){function a(t=Date.now()){return l(t).id===e}function l(e){try{const{id:n,time:i}=JSON.parse(t(Iu));return e-i<s?{id:n,time:i}:Cu}catch(e){return Cu}}let c,d=!1;function u(){window.clearTimeout(c),c=window.setTimeout((()=>{const t=Date.now(),{id:n}=l(t);if(n){const t=n===e;t!==d&&(x.Z.debug(t?`[Vote:${e}] Elected`:`[Vote:${e}] Unelected`),p.leaderStatusChanged.forEach((e=>e(t)))),d=t}else x.Z.debug(`[Vote:${e}] Election ended with no leader found`),h(t)}),r)}function h(t=Date.now()){const{id:i,time:r}=l(t);i===e&&t-r>o?(x.Z.debug(`[Vote:${e}] Upvote, refreshing my leader time`),n(Iu,JSON.stringify({time:t,id:e}))):i===e?x.Z.debug(`[Vote:${e}] Upvote, chilling since leader time is fresh`):i?x.Z.debug(`[Vote:${e}] Upvote, someone else is leader`):(x.Z.debug(`[Vote:${e}] Upvote, becoming leader`),n(Iu,JSON.stringify({time:t,id:e}))),u()}const p={[Ia]:[]};return{on:function(e,t){p[e].push(t)},off:function(e,t){p[e]=p[e].filter((e=>e!==t))},isLeader:a,up:h,down:function(t=Date.now()){a(t)?(x.Z.debug(`[Vote:${e}] Downvote, stepping down as leader`),i(Iu)):x.Z.debug(`[Vote:${e}] Downvote, chilling since someone else is leader`),u()}}}({maxLeaderAge:9e4});return Is.Z.hasLocalStorage&&(window.addEventListener("storage",(t=>{t.key===Iu&&e.up()})),window.addEventListener("beforeunload",(()=>{e.down()})),e.up(),window.setInterval(e.up,6e4)),e},Au={};function xu(e){return null==e?"":String(e)}function Eu(e,...t){let n,i=1;const r=t.length;for(;i<=r;)n=Au[i],n||(n=new RegExp((0,wc.Z)(`{${i}}`),"g"),Au[i]=n),e=e.replace(n,xu(t[i-1])),i++;return e}function Tu(e,...t){return y().isObject(t[0])?function(e,t){return e.replace(/\{([a-z0-9]+?)\}/gi,((e,n)=>t.hasOwnProperty(n)?xu(t[n]):e))}(e,t[0]):y().isObject(t[t.length-1])?(t.pop(),Eu(e,...t)):Eu(e,...t)}function ju(e,t){return t?e?y().escape(t):t:""}var Nu;const Ou={languages:{en:"en.json","en-GB":"en-GB.json",af:"af.json",my:"my.json",ca:"ca.json",cs:"cs.json",sr:"sr.json",da:"da.json",de:"de.json",et:"et.json",es:"es.json","es-419":"es-419.json",el:"el.json",fr:"fr.json","fr-CA":"fr-CA.json",hr:"hr.json",is:"is.json",it:"it.json",lt:"lt.json",hu:"hu.json",nl:"nl.json",no:"no.json",pl:"pl.json",pt:"pt.json","pt-BR":"pt-BR.json",ru:"ru.json",ro:"ro.json",sk:"sk.json",sl:"sl.json",fi:"fi.json",sv:"sv.json",vi:"vi.json",tr:"tr.json",uk:"uk.json",bg:"bg.json",zh:"zh.json","zh-TW":"zh-TW.json",ja:"ja.json",ko:"ko.json",th:"th.json",fa:"fa.json",ar:"ar.json",he:"he.json"},loadingPromise:null,loadingLanguage:null,getLanguages:function(){return this.languages},getTranslation:function(e){if(this.translations[this.language])return this.translations[this.language][e]},t:function(e){return function(t,...n){return Tu(ju(!1,e.call(this,t)||t),...n)}}((function(e,...t){return this.getTranslation(e,...t)})),tEscape:(Nu=function(e,...t){return this.getTranslation(e,...t)},function(e,...t){return Tu(ju(!0,Nu.call(this,e)||e),...t)}),load:function(e){if(this.loadingLanguage&&this.loadingLanguage===e)return this.loadingPromise;const t=this.getLanguages();let n;return n=y().has(t,e)?y().has(this.translations,e)?s().Deferred().resolve().promise():s().ajax({dataType:"json",url:le.Z.join([this.basePath,t[e]])}):s().Deferred().reject().promise(),this.loadingLanguage=e,this.loadingPromise=n,n.done(y().bind(this.onLoadSuccess,this,n)),n.fail(y().bind(this.onLoadError,this,n)),n},onLoadSuccess:function(e,t){const n=this.loadingLanguage;e===this.loadingPromise&&(this.loadingPromise=null,this.loadingLanguage=null,this.language=n,t&&(this.translations[n]=t),g.Z.trigger("languageLoaded",n))},onLoadError:function(e){e===this.loadingPromise&&(g.Z.trigger("languageLoaded",this.loadingLanguage),this.loadingPromise=null,this.loadingLanguage=null)}},ku=2500;function Lu(e){return e.get("isPopulated")?s().Deferred().resolve(e).promise():function(e){const{eventSource:t,events:n,predicate:i=(()=>!0),waitDuration:r=ku}=e,o=s().Deferred(),a=()=>{i(t)&&(c=window.clearTimeout(c),t.off(l),o.resolve(t))},l=n.reduce(((e,t)=>(e[t]=a,e)),{});let c=window.setTimeout((()=>{x.Z.warn('Model "%s" events %o did not pass the predicate within %dms',t.name,n,r),t.off("add",l),o.reject(t)}),r);return t.on(l),o.promise()}({eventSource:e,events:["change:error","change:isPopulated"]})}const Ru=p.Z.extend({mixins:Ou,constructor:function(){this.basePath=le.Z.join(["/manage/","translations"]),this.translations={},(0,h.X_)("appModel").done(this.onAppModelRegistered.bind(this))},_repopulateProviders(){const e=(0,h.DB)("appModel"),t=e.get("servers");return At(t.map((t=>{if(t.get("isCloud")){const t=e.get("user").get("providers");return At(t.map((e=>((0,h.DB)("appStore").dispatch((0,_d.dB)({providerEntityID:e.entityID(),options:{merge:!0}})),Lu(e)))))}if(t.get("isConnected"))return(0,h.DB)("appStore").dispatch((0,un.lm)({serverEntityID:t.entityID(),options:{merge:!0}})),Lu(t)})).filter(Boolean))},onAppModelRegistered(){}}).extend({onAppModelRegistered(e){e.on("change:user.change:experienceSettings.change:language",((e,t)=>{this.load(t).done((()=>{ud.setOption("language",t),this._repopulateProviders()}))}))}}),zu=function(){Rc.Z.register(new Ru)},Vu={init(){const e=(0,h.DB)("appModel"),t=`${window.innerWidth}x${window.innerHeight}`,n=`${window.screen.width}x${window.screen.height}`,i={"X-Plex-Product":"Plex Web","X-Plex-Version":"0.0.0","X-Plex-Client-Identifier":e.get("clientID"),"X-Plex-Platform":Pn.Z.name,"X-Plex-Platform-Version":Pn.Z.version,"X-Plex-Features":"external-media,indirect-media","X-Plex-Model":"bundled","X-Plex-Device":Pn.Z.platform,"X-Plex-Device-Name":Pn.Z.name,"X-Plex-Device-Screen-Resolution":`${t},${n}`};return e.on("change:clientID",((e,t)=>{i["X-Plex-Client-Identifier"]=t})),s().Deferred().resolve(i).promise()}},_u=Ta.extend({name:"PersistentWebStorage",getStorage:()=>window.localStorage}),Uu=Ta.extend({name:"VolatileWebStorage",getStorage:()=>window.sessionStorage}),Bu={registerAll(){const e=Vu.init();e.done((e=>aa.Z.register(e)));const t=new _u;return ye.Z.register(t),Na.register(new Uu),zu(),s().when(e)}},Fu=p.Z.extend({mixins:[m.Z],name:"AjaxQueue",queue:null,request:null,enabled:!1,destroyed:!1,initialize(e={}){this.queue=[],!1!==e.enabled&&this.enable()},enable(){this.enabled||this.destroyed||(this.enabled=!0,this.onEnabled())},disable(){this.enabled&&(this.enabled=!1,this.request=null,this.onDisabled())},destroy(){this.destroyed||(this.disable(),this.queue.length=0,this.destroyed=!0,this.onDestroyed())},send(e){e&&(this.queue.push(e),this._next())},_next(){if(!this._canNext())return;const e=this.queue.shift(),t=e&&this._getAjaxOptions(e);if(t){const e=s().ajax(t);e.always(this.onAjaxAlways.bind(this,e)),this.request=e}},_canNext(){return this.enabled&&!this.request},_getAjaxOptions:e=>e,onAjaxAlways(e){this.enabled&&e===this.request&&(this.request=null,this._next())},onEnabled(){this._next()},onDisabled(){},onDestroyed(){}});function Hu(){const e=new Fu;let t=null;return{setBaseUrl(e){t=e},trackEvent(n){if(!t)return void(0,nr.Z)(!1,"Network metrics reporters requires a base URL to be set before tracking events");const i=le.Z.join([t,"collect/event"]),r=JSON.stringify(n);window.navigator.sendBeacon?window.navigator.sendBeacon(i,r):e.send({type:"POST",url:i,contentType:"text/plain",data:r})}}}function Wu(e){const t=()=>e.get("deviceSettings"),n=()=>e.get("user").get("experienceSettings"),i={autoPlay:n,companion:n,language:n,shouldSyncSettings:t,subtitleColor:n,subtitlePosition:n,subtitleSize:n,volume:t};return{find:e=>i[e]().get(e),addCompanionChangeListener(t){e.on("change:user.change:experienceSettings.change:companion",t)}}}const Yu=["enable","disable","set","start","trackClick","trackEvent","trackView","incrementPlaybackCount","addPlaybackTime","toJSON"],Gu=["setBaseUrl","trackEvent"];var qu=n(49037),Qu=n(91487),Ku=n(66910),$u=n(42466),Ju=Object.defineProperty,Xu=Object.prototype.hasOwnProperty,eh=Object.getOwnPropertySymbols,th=Object.prototype.propertyIsEnumerable,nh=(e,t,n)=>t in e?Ju(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ih=(e,t)=>{for(var n in t||(t={}))Xu.call(t,n)&&nh(e,n,t[n]);if(eh)for(var n of eh(t))th.call(t,n)&&nh(e,n,t[n]);return e};function rh(e,t){const{server:n}=t,i=n.get("debugName");return x.Z.warn("[Connections] Aborting connection test for %s at %s because secure connections are disallowed",i,e),sh(0,t)}function sh(e,t){const{connection:n}=t,i=s().Deferred();return y().defer((()=>{n.set({currentTest:null,testState:qu.nZ}),i.reject(n)})),i.promise()}function oh(e){const{server:t,connection:n}=e,i=t.resolveUrl(e.url||"/media/providers",{connection:n}),r=(0,h.DB)("appModel"),o=r.get("settings"),a=r.get("deviceSettings");if(!D.Z.allowHttpsMediaServerConnections&&n.get("isHttps")&&!t.get("isCloud"))return rh(i,e);const l=o&&o.get("preferInsecureConnections");if(!t.get("httpsRequired")&&!t.get("isCloud")&&n.get("isHttps")&&"always"===l)return rh(i,e);if(!t.get("httpsRequired")&&n.get("isHttps")&&l===ac&&n.get("isPrivate")&&t.get("publicAddressMatches"))return function(e,t){const{server:n}=t,i=n.get("debugName");return x.Z.warn("[Connections] Aborting connection test for %s at %s because insecure connections are preferred",i,e),sh(0,t)}(i,e);if(!D.Z.allowMixedContent&&Is.Z.isHostedHttps&&!n.get("isHttps"))return function(e,t){const{server:n}=t,i=n.get("debugName");return x.Z.warn("[Connections] Aborting connection test for %s at %s due to mixed content prevention",i,e),sh(0,t)}(i,e);const c=a&&a.get("rejectDirectConnections");return t.get("isCloud")||n.get("relay")||!c&&!D.Z.rejectDirectConnections?function(e,t){const{server:n,connection:i}=t,r=s().Deferred(),o=n.get("debugName"),a=(0,Qu.Z)(n),l=Date.now();(0,x.Z)("[Connections] Testing connection for %s at %s",o,e);const c=[],d={dataType:"text",headers:{Accept:a.accept},timeout:n.connectionTestTimeout};c.push(n.getXHROptions(e,d));const u=!(0,$u.Z)(n);if(null==t.url&&u){const e=n.resolveUrl("/",{connection:i});(0,x.Z)("[Connections] Testing legacy connection for %s at %s",o,e),c.push(n.getXHROptions(e,d))}if(D.Z.emulateBrokenHTTPS){const e=i.get("isHttps")&&!n.get("isCloud"),t="private"!==D.Z.emulateBrokenHTTPS||i.get("isPrivate");e&&t&&function(e){e.forEach((e=>{e.url="fail"+e.url}))}(c)}const p=c.map((e=>s().ajax(e))),g=At(p);function m(e){i.get("relay")&&(0,h.DB)("metrics").trackEvent(ih(ih({},e),{event:wr.EE,interaction:!1,reason:1===i.server.get("connections").length?101:102,serverType:i.server.get("isShared")?"shared":"owned",latency:Date.now()-l}))}function f(t){(0,x.Z)("[Connections] %s connected at %s",o,e),i.set({currentTest:null,testState:qu.nm}),m({status:"success"}),r.resolve(i,t)}function y(t,n){const s={currentTest:null};if(t.some((e=>e.aborting)))(0,x.Z)("[Connections] Aborted pending connection test for %s at %s",o,e),s.testState=qu.c9;else{const i=function(e){return 401===e||403===e||406===e}(n)?qu.WY:qu.nZ;m({status:"failure",error:n}),t.forEach((t=>{x.Z.warn("[Connections] %s is %s at %s (Status %s)",o,i,e,t.status)})),s.testState=i}i.set(s),r.reject(i,t)}return i.set({currentTest:p,testState:qu.hA}),g.done((()=>{const[t,i]=p;let r;if(200!==t.status&&404!==t.status?r=t.status:i&&200!==i.status&&(r=i.status),void 0!==r)return void y(p,r);if(n.get("isCloud"))return void f();const l=a.parse(t.responseText),c=i?a.parse(i.responseText):void 0,d=n.parseResponse(s().extend(!0,{},l,c)),u=d.machineIdentifier,h=n.get("isTransient")?n.get("originalMachineIdentifier"):n.get("machineIdentifier");if(!u||h&&u!==h)x.Z.warn("[Connections] %s has an unexpected machine identifier at %s",o,e),y(p);else{!0===d.mediaProviders?d.mediaProviders=1:!1===d.mediaProviders?d.mediaProviders=0:i||(d.mediaProviders=1);const e=n.parse(d);n.get("isTransient")&&(e.machineIdentifier=n.get("machineIdentifier")),e.isInstallingServerUpdate=!1,e.isProvidersPending=!1,e.isProvidersPopulated=!0,(0,Ku.Z)(e.providers,n),f(e)}})),r.promise()}(i,e):function(e,t){const{server:n}=t,i=n.get("debugName");return x.Z.warn("[Connections] Aborting connection test for %s at %s due to reject direct connection debug setting",i,e),sh(0,t)}(i,e)}function ah(e){return!!(function(e){return!(!e||e.get("isCloud")||"iOS"===e.get("platform")||!e.supports("companionProxy"))}(e)&&(t=e.get("activeConnection"),t&&t.get("isPrivate")&&t.get("isConnected")));var t}function lh(e){return!(!ah(e)||e.get("isShared"))}const ch=p.Z.extend({mixins:[m.Z],name:"CompanionServerManager",initialize(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers"),this._throttlePickCompanionServer=y().throttle(this._pickCompanionServer,2e3)},start(e){this.stop(),this.listenTo(this.servers,"change:connected change:activeConnection update",this._throttlePickCompanionServer),this.started=!0,this._pickCompanionServer()},stop(){this.stopListening(),this.started=!1},_pickCompanionServer(){this.started&&(this.companionServer&&ah(this.companionServer)&&this.servers.contains(this.companionServer)||(this.companionServer=this.servers.find(lh)||this.servers.find(ah),this.companionServer?((0,h.DB)("appStore").dispatch((0,_.a7)({serverEntityID:this.companionServer.entityID()})),x.Z.info("[Companion] Found companion",this.companionServer.get("debugName"))):((0,h.DB)("appStore").dispatch((0,_.yy)()),x.Z.warn("[Companion] No companion found"))))}}),dh=p.Z.extend({mixins:[m.Z],browserConnectionChangeDelay:2e3,initialize(e){y().bindAll(this,"onBrowserConnectionChange"),this.appModel=e.appModel,this.servers=this.appModel.get("servers"),this.settings=this.appModel.get("settings")},start(){this.stop();const e=s()(window);e.on("online",this.onBrowserConnectionChange),e.on("offline",this.onBrowserConnectionChange),this.listenTo(g.Z,{"test:servers":this.onTestAllServers,"test:server":this.onTestServer}),this.listenTo(this.servers,{add:this.onServerAdd,remove:this.onServerRemove,reset:this.onServersReset,"error:connection":this.onServerConnectionError,"change:connections.add":this.onServerConnectionAdd,"change:connections.remove":this.onServerConnectionRemove,"change:connections.reset":this.onServerConnectionsReset,"change:connections.change:isConnected":this.onServerConnectionConnectedChange,"change:connections.change:sources.change":this.onServerConnectionSourcesChange,"change:accessToken":this.onServerAccessTokenChange,"change:isConnected":this.onServerConnectedChange,"change:isUnavailable":this.onServerUnavailableChange,"change:publicAddressMatches":this.onServerPublicAddressMatchesChange}),this.listenTo(this.settings,"sync",this.onSettingsSave),this.servers.invoke("testOnlyUntestedConnections")},stop(){this.stopListening();const e=s()(window);e.off("online",this.onBrowserConnectionChange),e.off("offline",this.onBrowserConnectionChange)},retryServerConnections:function(e){e.testAllConnections()},startFailedServerRetries(e){},stopFailedServerRetries(e){},_removeConnection(e){const{server:t}=e,n=Jo.Z.getActiveServers();if((0,x.Z)("[Connections] Removed connection %s from %s",e.id,t.get("debugName")),t.abortConnectionTest(e),n){const i=n.get(t.id),r=i&&i.get("connections");r&&r.get(e.id)&&(r.remove(e.id),r.length||n.remove(t.id),Jo.Z.debouncedSave())}},onBrowserConnectionChange(e){(0,x.Z)("[Connections] Browser online status changed to",window.navigator.onLine),window.clearTimeout(this.browserConnectionChangeTimeout),this.browserConnectionChangeTimeout=window.setTimeout((()=>{this.servers.invoke("testAllConnections")}),this.browserConnectionChangeDelay)},onTestAllServers(){this.servers.invoke("testAllConnections")},onTestServer(e){e.testAllConnections()},onServerAdd(e){e.testOnlyUntestedConnections()},onServerRemove(e){const t=Jo.Z.getActiveServers();let n;if(e.abortAllConnectionTests(),this.stopFailedServerRetries(e),t)if(e.get("isMerged")){const i=e.previous("machineIdentifier");i&&(n=t.get(i),n&&(n.set("machineIdentifier",e.id),Jo.Z.debouncedSave()))}else n=t.get(e.id),n&&(t.remove(e.id),Jo.Z.debouncedSave())},onServersReset(e,t){const n=t.previousModels;y().each(n,(t=>{e.contains(t)||(t.abortAllConnectionTests(),this.stopFailedServerRetries(t))}))},onServerConnectionError(e){x.Z.warn("[Connections] Possible connection error for %s, retrying connection tests",e.get("debugName")),e.get("isCloud")?this.appModel.get("user").signInUnsupervised():e.testAllConnections()},onServerConnectionAdd(e){const{server:t}=e;(0,x.Z)("[Connections] Added connection %s for %s",e.id,t.get("debugName")),e.get("relay")?t.get("connections").hasFailedEveryDirectConnection()&&t.testAllConnections():t.testConnection(e)},onServerConnectionRemove(e){this._removeConnection(e)},onServerConnectionsReset(e,t){const n=t.previousModels;y().each(n,(t=>{e.contains(t)||this._removeConnection(t)}))},onServerConnectionConnectedChange(e,t){const{server:n}=e,i=e.get("isBundled"),r=e.get("isFallback"),s=e.get("relay"),o=t&&!i&&!r&&!s,a=Jo.Z.getActiveServers();if(n.id&&!n.get("isCloud")&&o&&a){let t=a.get(n.id);if(t)t.copyFromModel(n);else{const e=y().omit(n.toJSON(),"connections");t=a.add(e,{merge:!0,parse:!0})}t.get("connections").add(e.toJSON(),{merge:!0,parse:!0}),Jo.Z.debouncedSave()}},onServerConnectionSourcesChange(e,t){const{server:n}=e,i=Jo.Z.getActiveServers(),r=i&&i.get(n.id);if(r){const n=r.get("connections").get(e.id);n&&(n.get("sources").set(t.toJSON()),Jo.Z.debouncedSave())}},onServerAccessTokenChange(e,t){if(!e.get("isCloud")){(0,x.Z)("[Connections] Access token for %s changed to %s",e.get("debugName"),t);const n=Jo.Z.getActiveServers(),i=n&&n.get(e.id);i&&(i.set("accessToken",t),Jo.Z.debouncedSave()),e.get("isUnauthorized")&&e.set("connectionTestResult",Go.ZP.connectionTestResults.PENDING),e.testAllConnections()}},onServerConnectedChange(e,t){t&&this.stopFailedServerRetries(e)},onServerUnavailableChange(e,t){t&&this.startFailedServerRetries(e)},onServerPublicAddressMatchesChange(e,t){void 0!==t&&e.testAllConnections()},onSettingsSave(e){e.changed.hasOwnProperty("preferInsecureConnections")&&this.servers.invoke("testAllConnections")}}),uh=dh.extend({initialize(e){dh.prototype.initialize.apply(this,arguments),this._serverRetryManager=new Ts.Z({callback:this.retryServerConnections.bind(this),logFormat:"[Connections] Retrying connection tests for %s in %s seconds"})},stop(){dh.prototype.stop.apply(this,arguments),this._serverRetryManager.stopAll()},startFailedServerRetries(e){this._serverRetryManager.start(e)},stopFailedServerRetries(e){this._serverRetryManager.stop(e)}}),hh=["page","type","style","mode"];var ph=n(96637);function gh(e){if(null==e)return;const t=Math.round(e/1e3);let n;return n=t>=3600?300:60,function(e,t){let n=e/t;return n=Math.round(n),n*=t,n}(t,n)}const mh=/0/g,fh=()=>(0|16*Math.random()).toString(16),yh=function(){return"00000000-0000-4000-8000-000000000000".replace(mh,fh)};var vh=n(74539),bh=Object.defineProperty,Zh=Object.prototype.hasOwnProperty,Sh=Object.getOwnPropertySymbols,Ih=Object.prototype.propertyIsEnumerable,Mh=(e,t,n)=>t in e?bh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wh=(e,t)=>{for(var n in t||(t={}))Zh.call(t,n)&&Mh(e,n,t[n]);if(Sh)for(var n of Sh(t))Ih.call(t,n)&&Mh(e,n,t[n]);return e};const Ph=p.Z.extend({mixins:m.Z,initialize(e){this.privacySettings=null,this.defaults={},this._pendingPrivacyRequest=null,this._pendingEvents=[],this.debouncedFetchPrivacySettings=y().debounce(this.fetchPrivacySettings,250),this.isPlaybackActive=e.isPlaybackActive,this.enable()},enable(){this.enabled=!0},disable(){this.enabled=!1},set(e){this.defaults=wh(wh({},this.defaults),e)},setUser(e){this.set({userId:e.id}),this.defaults.context||(this.defaults.context={}),this.defaults.context.user=e.get("subscriptions").reduce(((e,t)=>(e[t.get("type")]=t.get("mode"),e)),{anonymous:e.get("anonymous")})},fetchPrivacySettings(){this.privacySettings=null,this._pendingPrivacyRequest&&(this._pendingPrivacyRequest.abort(),this._pendingPrivacyRequest=null);const e=(0,h.DB)("appModel").get("user");if(!e.server.get("isConnected"))return s().Deferred().reject().promise();const t=e.server.getXHROptions("/api/v2/user/privacy",{dataType:"json"});return this._pendingPrivacyRequest=s().ajax(t),this._pendingPrivacyRequest.promise().done((t=>{this.setUser(e),this.setPrivacySettings(t),this.trackPendingEvents(),this.sendMMPEvent()})).always((()=>{this._pendingPrivacyRequest=null}))},setPrivacySettings(e){e&&e.metrics&&(this.privacySettings=wh(wh({},e),{metrics:e.metrics.reduce(((e,t)=>(e[t.event]=t.status,e)),{})}),(0,h.DB)("metricsReporter").setBaseUrl(e.baseUrl))},sendMMPEvent(){},incrementPlaybackCount(){const e="playbackCount",t=(0,h.DB)("sessionStats");t.save(e,t.get(e)+1)},addPlaybackTime(e){const t="playbackTime",n=(0,h.DB)("sessionStats");n.save(t,n.get(t)+e)},trackView(e,t){const n=wr.fB,i=wh({event:n,interaction:!0,properties:e},t),r=ph.Z.measure(function(e,t){let n=e;for(let e=0;e<hh.length;e++){const i=t[hh[e]];null!=i&&(n=`${n}:${i}`)}return n}(n,e),`${n}:${e.page}-start`);r&&(i.properties=wh(wh({},i.properties),{latency:Math.round(r.duration)})),this.trackEvent(i)},trackClick(e,t){this.trackEvent(wh({event:wr.Ip,interaction:!0,properties:e},t))},trackEvent(e){var t;if(!this.enabled)return;const n=null==(t=e.properties)?void 0:t.contextTuple;n&&(delete e.properties.contextTuple,Object.assign(e.properties,(0,vh.IF)(n)));const i=(0,h.DB)("sessionStats"),r=i.get("sessionId"),o=i.get("anonymousSessionId");if(!this.privacySettings)return void this._pendingEvents.push(wh(wh({},e),{sessionIdentifier:r,anonymousSessionIdentifier:o}));const a=s().extend(!0,{},this.defaults,e);a.sessionIdentifier||(a.sessionIdentifier=r),a.anonymousSessionIdentifier||(a.anonymousSessionIdentifier=o);const l=Date.now();if(e.event!==wr.$R&&e.event!==wr.o$){const t=i.get("lastInteractionTime"),n=i.get("lastPlayingHeartbeatTime");if(l-Math.max(t,n)>18e5)return void this.flushSession().then((()=>{this.trackEvent(e)}))}const c=this.privacySettings.metrics[a.event];c&&("off"===c||(a.interaction&&function(){const e=Date.now(),t=(0,h.DB)("sessionStats");x.Z.debug("[Metrics] Updating session last interaction time"),t.save("lastInteractionTime",e)}(),"anonymous"===c&&(delete a.userId,a.deviceIdentifier=(0,h.DB)("appModel").get("anonymousClientID"),a.sessionIdentifier=a.anonymousSessionIdentifier),delete a.anonymousSessionIdentifier,(0,h.DB)("metricsReporter").trackEvent(a)))},trackPendingEvents(){const e=this._pendingEvents;let t=0;for(;t<e.length;)this.trackEvent(e[t]),t++;this._pendingEvents=[]},start(){const e=(0,h.DB)("appModel").get("user");return this.flushSession().then((()=>(0,Mt.Z)(e.server.populate()))).then((()=>this.fetchPrivacySettings())).always((()=>{this.listenTo(e.server,"change:isConnected",this.onCloudServerChange),this.listenTo(e,"change:id",this.onUserIDChange)})),s().Deferred().resolve().promise()},flushSession(){const e=(0,h.DB)("sessionStats").populate().then((()=>{this.stopSession(),this.startSession()}),(()=>{this.startSession()}));return(0,Mt.Z)(e)},startSession(){const e=Date.now(),t=(0,h.DB)("sessionStats");if(!this.interval){const e=D.Z.heartbeatInterval;this.interval=window.setInterval((()=>{const e=Date.now(),n={heartbeatTime:e};this.isPlaybackActive()&&(n.lastPlayingHeartbeatTime=e),t.set(n)}),e)}t.save({sessionId:yh(),anonymousSessionId:yh(),startTime:e,lastInteractionTime:e,heartbeatTime:e,lastPlayingHeartbeatTime:null,playbackCount:0,playbackTime:0});const n=wr.o$,i=ph.Z.endPeriod(n),r={event:n,interaction:!0,properties:{mode:"uno"}};i&&(r.properties.latency=Math.round(i.duration)),this.trackEvent(r)},stopSession(){const e=(0,h.DB)("sessionStats"),t=e.get("heartbeatTime"),n=e.get("playbackCount"),i=e.get("playbackTime"),r=e.get("startTime");this.trackEvent({event:wr.$R,interaction:!1,properties:{sessionLength:Math.floor((t-r)/1e3),playbackCount:n,playbackTime:gh(i)}})},toJSON(){return wh({},this.defaults)},onCloudServerChange(e,t){t?this.fetchPrivacySettings():this.privacySettings=null},onUserIDChange(){this._appsflyerIntervalID&&window.clearInterval(this._appsflyerIntervalID),this._appsflyerTimeoutID&&window.clearTimeout(this._appsflyerTimeoutID),this.privacySettings=null,this.debouncedFetchPrivacySettings()}}),Ch=p.Z.extend({mixins:[m.Z],initialize(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers")},start(e){this.stop(),this.listenTo(this.appModel,{"change:primaryServer":this.onPrimaryServerChange,"change:primaryServer.change:isPrimaryEligible":this.onPrimaryServerEligibleChange,"change:primaryServer.change:isOutOfDate":this.onPrimaryServerOutOfDateChange,"change:isWaitingForServers":this.onWaitingForServersChange,"change:primaryServer.change:isRelayed":this.onPrimaryServerIsRelayedChange}),this.listenTo(this.servers,{"update reset":this.onServersUpdate}),this._setPrimaryServer(St.DJ)},stop(){this.stopListening(),this._primaryServerPromise=null},_setPrimaryServer(e){if(this._primaryServerPromise)return this._primaryServerPromise;const t=(0,h.DB)("appStore");t.dispatch((0,_.I2)());const n=this._waitForPrimaryServer();return this._primaryServerPromise=n,n.done((i=>{if(n===this._primaryServerPromise){if(this._primaryServerPromise=null,this.appModel.get("primaryServer"))return;const n=!i.get("version")&&!i.get("isRejected");i.get("isOutOfDate")||n?((0,x.Z)("[Primary Server] The server, %s, is waiting for a version",i.get("debugName")),this._setPrimaryServer(e)):t.dispatch((0,_.h9)({machineIdentifier:i.id,metricsProperties:{context:e}}))}})).fail((()=>{n===this._primaryServerPromise&&(this._primaryServerPromise=null,this.appModel.set("isWaitingForPrimaryServer",!1))})),n},_waitForPrimaryServer(){const e=this.appModel.get("user").get("lastPrimaryServerID");let t;return e?((0,x.Z)("[Primary Server] Waiting for the last primary server, %s, to connect",e),t=this.servers.populateServer({machineIdentifier:e,isPrimaryEligible:!0,isOutOfDate:!1})):t=s().Deferred().reject().promise(),t=t.then(null,(()=>((0,x.Z)("[Primary Server] Waiting for any owned server to connect"),this.servers.populateServer({isFullOwnedServer:!0,isPrimaryEligible:!0,isOutOfDate:!1})))),t=t.then(null,(()=>((0,x.Z)("[Primary Server] Waiting for any eligible server to connect"),this.servers.populateServer({isPrimaryEligible:!0,isOutOfDate:!1})))),t=t.then(null,(()=>((0,x.Z)("[Primary Server] Waiting for any eligible server"),this.servers.findServer({isPrimaryEligible:!0,isOutOfDate:!1})))),t},onPrimaryServerChange(e,t){Jo.Z.flushDebouncedSave();const n=e.previous("primaryServer");n&&this.stopListening(n),t?(x.Z.info("[Primary Server] %s is now the primary server",t.get("debugName")),e.get("user").set("lastPrimaryServerID",t.id),t.get("isRelayed")&&(0,h.DB)("appStore").dispatch((0,un.J3)({machineIdentifier:t.id,serverName:t.get("friendlyName")}))):e.get("isWaitingForPrimaryServer")?(0,x.Z)("[Primary Server] Waiting to set the primary server"):x.Z.warn("[Primary Server] No primary server found")},onPrimaryServerEligibleChange(e,t){const n=this.appModel.get("user");t||((0,x.Z)("[Primary Server] The previous primary server, %s, is unauthorized",e.get("debugName")),n.unset("lastPrimaryServerID"),this._setPrimaryServer(St.jd))},onPrimaryServerOutOfDateChange(e,t){const n=this.appModel.get("user");t&&((0,x.Z)("[Primary Server] The previous primary server, %s, is out of date",e.get("debugName")),n.unset("lastPrimaryServerID"),this._setPrimaryServer(St.jd))},onWaitingForServersChange(e,t){if(t){const t=e.get("primaryServer"),n=!t||!this.servers.get(t.id),i=e.get("isWaitingForPrimaryServer");n&&!i&&this._setPrimaryServer(St.jd)}},onPrimaryServerIsRelayedChange(e,t){t&&(0,h.DB)("appStore").dispatch((0,un.J3)({machineIdentifier:e.id,serverName:e.get("friendlyName")}))},onServersUpdate(){const e=this.appModel.get("user"),t=this.appModel.get("primaryServer");t?t&&!this.servers.get(t.id)&&((0,x.Z)("[Primary Server] The previous primary server, %s, was removed",t.get("debugName")),e.unset("lastPrimaryServerID"),this._setPrimaryServer(St.jd)):this._setPrimaryServer(St.DJ)}}),Dh=p.Z.extend({mixins:[m.Z],initialize(e){this.appModel=e.appModel},start(){const e=this.appModel.get("user");this.populateCloudProviders(e.get("providers")),this.listenTo(this.appModel,{"change:user.change:providers.add":this.onProviderAdd})},stop(){this.stopListening()},populateCloudProviders(e){e.each((e=>{this.populateCloudProvider(e)}))},populateCloudProvider(e){e.get("isPopulated")||(0,h.DB)("appStore").dispatch((0,_d.RG)({providerEntityID:e.entityID(),options:{merge:!0}}))},onProviderAdd(e){this.populateCloudProvider(e)}});function Ah(e,t,n){return function(i){return i.server===e&&i.connection.id===t.id&&i.url===n}}const xh=p.Z.extend({initialize(e){this.appModel=e.appModel,this.queued=[],this.executing=[],this.maximumConcurrent=D.Z.maximumConcurrentConnectionTests,this.throttledStartProcessing=y().throttle(this._startProcessing.bind(this),50,{leading:!1})},queueConnectionTest({server:e,connection:t,url:n}){const i=this._queuedOrExecuting(e,t,n);if(i)return i.deferred.promise();const r=s().Deferred();return this.queued.push({server:e,connection:t,url:n,deferred:r}),this._sortQueue(),this.throttledStartProcessing(),r.promise()},abortConnectionTest({server:e,connection:t,url:n}){return this._abortCurrentTest(e,t,n),this._removeQueuedOrExecuting(e,t,n),s().Deferred().resolve().promise()},reset(){for(this.queued.length=0;this.executing.length>0;)this.abortConnectionTest(this.executing[0])},_sortQueue(){const e=this.appModel.get("user").get("lastPrimaryServerID");this.queued.sort(((t,n)=>{const i=t.server,r=n.server,s=t.connection,o=n.connection,a=this._isManualConnection(s),l=this._isManualConnection(o),c=this._isMatchingLocation(i,s),d=this._isMatchingLocation(r,o);return i.id===e&&r.id!==e?-1:r.id===e&&i.id!==e?1:i.get("isCloud")&&!r.get("isCloud")?-1:r.get("isCloud")&&!i.get("isCloud")?1:!s.get("relay")&&o.get("relay")?-1:!o.get("relay")&&s.get("relay")?1:!s.get("isConnected")&&o.get("isConnected")?-1:!o.get("isConnected")&&s.get("isConnected")?1:!i.get("isShared")&&r.get("isShared")?-1:!r.get("isShared")&&i.get("isShared")?1:i.get("isFullServer")&&!r.get("isFullServer")?-1:r.get("isFullServer")&&!i.get("isFullServer")?1:a&&!l?-1:l&&!a?1:s.get("isBundled")&&!o.get("isBundled")?-1:o.get("isBundled")&&!s.get("isBundled")?1:c&&!d?-1:d&&!c?1:0}))},_startProcessing(){y().times(this.maximumConcurrent-this.executing.length,this._process.bind(this))},_process(){if(this.executing.length>=this.maximumConcurrent)return;if(!this.queued.length)return;const e=this.queued.shift(),{server:t,connection:n,url:i}=e;this._abortCurrentTest(t,n,i);const r=(0,h.DB)("testServerConnection")({server:t,connection:n,url:i});this.executing.push(e),r.done(((t,n)=>{e.deferred.resolve(t,n)})),r.fail(((t,n)=>{e.deferred.reject(t,n)})),r.always((()=>{const t=this.executing.indexOf(e);this.executing.splice(t,1),this._process()}))},_abortCurrentTest(e,t,n){t.get("currentTest")&&t.get("currentTest").forEach((i=>{const r=e.resolveUrl(n||i.url,{connection:t});i&&"pending"===i.state()&&((0,x.Z)("[Connections] Aborting pending connection test for %s at %s",e.get("debugName"),r),bs.Z.abort(i.rid),i.abort())}))},_isManualConnection:e=>e.get("sources").some((e=>0===e.id.indexOf("manualServer"))),_isMatchingLocation(e,t){const n=e.get("publicAddressMatches"),i=t.get("isPrivate");return n&&i||!n&&!i},_queuedOrExecuting(e,t,n){const i=Ah(e,t,n);return y().find(this.executing,i)||y().find(this.queued,i)},_removeQueuedOrExecuting(e,t,n){const i=Ah(e,t,n),r=y().findIndex(this.executing,i),s=y().findIndex(this.queued,i);r>=0&&this.executing.splice(r,1),s>=0&&this.queued.splice(s,1)}});var Eh=n(59799);function Th(e,t){t.get("connections").each((n=>{const i=[{id:t.server.id}],r=y().extend(n.toJSON(),{sources:i});e.addConnection(r)}))}var jh=n(2419),Nh=Object.defineProperty,Oh=Object.prototype.hasOwnProperty,kh=Object.getOwnPropertySymbols,Lh=Object.prototype.propertyIsEnumerable,Rh=(e,t,n)=>t in e?Nh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function zh(e){const t=((e,t)=>{for(var n in t||(t={}))Oh.call(t,n)&&Rh(e,n,t[n]);if(kh)for(var n of kh(t))Lh.call(t,n)&&Rh(e,n,t[n]);return e})({entityID:e.entityID()},e.toJSON());return(0,jh.Z)(t)}var Vh=n(69963),_h=n(67746);const Uh=Object.keys(Eh.Z.prototype.syncedAttrs),Bh=p.Z.extend({mixins:[m.Z],initialize(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers")},start(){this.stop(),this.listenTo(this.servers,{"change:promiseState":this.onServerPromiseStateChange,remove:this.onServerRemove,"update reset":this.onServersUpdateReset,"change:resources.add":this.onResourceAdd,"change:resources.remove":this.onResourceRemove,"change:resources.update":this.onResourcesUpdate,"change:resources.reset":this.onResourcesReset,"change:resources.change:presence":this.onResourcesPresenceChange,"change:resources.change:connections.update":this.onResourceConnectionsUpdate,"change:isConnected":this.onConnectedChange,"change:desktop.change:isSettingsPopulated":this.onSettingsPopulatedChange}),Uh.forEach((e=>{this.listenTo(this.servers,"change:"+e,this.onStoredServerAttributeChange.bind(this,e))})),this.listenTo(g.Z,"discover:servers",this.onDiscoverServers),this._setAuthorized(),this._checkFoundAllServers()},stop(){this.stopListening()},_checkFoundAllServers(){this.servers.shouldWaitForInitialServers()||this.servers.shouldWaitForResources()||this.servers.shouldWaitForPendingServers()?this._waitForServers():this._foundAllServers()},_waitForServers(){this.servers.waitForServers(),(0,Oc.c9)((()=>{this.appModel.set("isWaitingForServers",!0)}))},_foundAllServers(){this.servers.foundAllServers(),(0,Oc.c9)((()=>{this.appModel.set("isWaitingForServers",!1)}))},_fetchResources(e){if(e.get("isRejected"))return x.Z.warn("[Servers] Failed to request resources through %s",e.get("debugName")),e.set({isResourcesPending:!1,hasFailedResources:!0,isDownForMaintenance:!1}),s().Deferred().reject().promise();if(!e.get("isResolved"))return(0,x.Z)("[Servers] Finding resources through unresolved cloud server %o, resolving",e.get("debugName")),e.populate().then((()=>this._fetchResources(e)));(0,x.Z)("[Servers] Finding resources through %s",e.get("debugName")),this._waitForServers(),e.set("isResourcesPending",!0);const t=e.get("resources");return t.fetch().done((()=>{(0,x.Z)("[Servers] Found %s resources through %s",t.length,e.get("debugName")),e.set({isResourcesPending:!1,isResourcesPopulated:!0,hasFailedResources:!1,isDownForMaintenance:!1})})).fail(((t,n)=>{x.Z.warn("[Servers] Failed to request resources through %s",e.get("debugName")),e.set({isResourcesPending:!1,hasFailedResources:!0,isDownForMaintenance:503===n.status})})).always((()=>{this._checkFoundAllServers()}))},_convertResourceToServer:e=>((0,x.Z)("[Servers] %s was found through %s",e.get("name"),e.server.get("debugName")),function(e,t=!1){const n=t||"Plex Media Server"===e.get("product"),i=new Go.ZP({machineIdentifier:e.id,friendlyName:e.get("name"),version:n?e.get("productVersion"):void 0,isShared:!e.get("owned"),accessToken:e.get("accessToken"),sourceTitle:e.get("sourceTitle"),publicAddressMatches:e.get("publicAddressMatches"),httpsRequired:e.get("httpsRequired"),platform:e.get("platform"),platformVersion:e.get("platformVersion"),presence:e.get("presence"),home:e.get("home"),serverClass:n?void 0:Go.ZP.serverClasses.SECONDARY,createdAt:e.get("createdAt"),lastSeenAt:e.get("lastSeenAt"),ownerId:e.get("ownerId")},{parent:h.DB("appModel")});return Th(i,e),i}(e)),_removeResource(e){(0,x.Z)("[Servers] %s was removed as a resource from %s",e.get("name"),e.server.id);const t=this.servers.get(e.id);t&&t.removeSource(e.server.id)},_pruneStaleSources(e){const t=e.get("resources");let n=this.servers.length-1;for(;n>=0;){const i=this.servers.at(n),r=t.get(i.id);if(r){const t=i.get("connections");let n=t.length-1;for(;n>=0;){const i=t.at(n);i.get("sources").get(e.id)&&(r.get("connections").get(i.id)||i.get("sources").remove(e.id)),n--}}else i.removeSource(e.id);n--}},_setAuthorized(){const e=!!this.servers.findWhere({isConnected:!0,isCloud:!1}),t=!!this.servers.findWhere({isResolved:!0,isCloud:!0});this.appModel.set("authorized",e||t)},onServerPromiseStateChange(e,t){e.get("resources")&&this._fetchResources(e),this._setAuthorized(),this._checkFoundAllServers()},onStoredServerAttributeChange(e,t,n){const i=Jo.Z.getActiveServers(),r=i&&i.get(t.id);r&&null!=n&&r.get(e)!==n&&(r.set(e,n),Jo.Z.debouncedSave())},onServerRemove(e){x.Z.warn("[Servers] %s was removed",e.get("debugName")),e.cache.remove(e),g.Z.trigger("clearWhere:cache",{server:e})},onServersUpdateReset(){this._setAuthorized(),this._checkFoundAllServers()},onDiscoverServers(){const e=this.appModel.get("cloudServer");this._fetchResources(e)},onResourceAdd(e){if(y().contains(e.get("provides"),"server")){const t=this._convertResourceToServer(e);t.get("isMobileServer")||this.servers.add(t)}},onResourceRemove(e){this._removeResource(e)},onResourcesUpdate(e){this._pruneStaleSources(e.server),this._checkFoundAllServers()},onResourcesReset(e,t){const n=t.previousModels;y().each(n,(t=>{e.contains(t)||this._removeResource(t)})),this._checkFoundAllServers()},onResourcesPresenceChange(e){const t=this.servers.get(e.id);t&&t.set("presence",e.get("presence"))},onResourceConnectionsUpdate(e){const t=e.parent,n=this.servers.get(t.id);n&&(Th(n,t),this._pruneStaleSources(e.server),this._checkFoundAllServers())},onConnectedChange(e,t){if(!t)return;const n=(0,h.DB)("appStore"),i=zh(e);n.dispatch(_h.Z.actions.connected({server:i})),e.get("isFullOwnedServer")&&(n.dispatch(Vh.Z.actions.fetchRequested({server:i})),n.dispatch((0,un.R_)({serverEntityID:e.entityID()})))},onSettingsPopulatedChange(e,t){if(t){const t=e.get("settings"),n=t.get("AcceptedEULA");n&&!1===n.get("value")&&!window.location.hash.includes("/setup")&&(0,B.Z)("serverSetup",{machineIdentifier:t.server.id})}}});var Fh=n(40728);const Hh=p.Z.extend({mixins:[m.Z],initialize(e){this.appModel=e.appModel},start(){this.stop(),this.listenTo(this.appModel.get("servers"),{"change:isConnected":this.onServerIsConnectedChange,"change:isInstallingServerUpdate":this.onIsInstallingServerUpdateChange})},stop(){this.stopListening()},onServerIsConnectedChange(e,t){t&&h.DB("appStore").dispatch((0,Fh.Tz)({serverEntityID:e.entityID()}))},onIsInstallingServerUpdateChange(e,t){t||h.DB("appStore").dispatch((0,Fh.Tz)({serverEntityID:e.entityID()}))}});var Wh=n(18337),Yh=n(79215);function Gh(e){const{sourceType:t,sourceServer:n,sourceProvider:i,sourceDirectory:r}=e,s={key:(0,Wh.Z)(t,n.machineIdentifier,i.identifier,r.id),sourceType:t,serverEntityID:n.entityID,machineIdentifier:n.machineIdentifier,providerEntityID:i.entityID,providerIdentifier:i.identifier,providerMetricsIdentifier:i.metricsIdentifier,directoryID:r.id,directoryIcon:r.icon,title:r.title,serverFriendlyName:n.friendlyName,serverSourceTitle:n.sourceTitle,providerSourceTitle:i.sourceTitle,isLocal:n.isConnected&&n.activeConnection&&n.activeConnection.isPrivate,isUnavailable:n.isUnavailable,isOutOfDate:n.isOutOfDate,isUnclaimedServer:n.isConnected&&!n.isClaimed&&!n.isCloud,isFullOwnedServer:n.isFullOwnedServer,isProviderReady:i.isPopulated||null!=i.error||n.isUnavailable||n.isUnauthorized};return n.isCloud?s.isCloud=!0:t===Yh.Hs&&(s.title=(0,E.Z)("Live TV & DVR")),s}var qh=n(45274),Qh=n(74441),Kh=n(36800),$h=n(98956);const Jh=p.Z.extend({mixins:[m.Z],initialize(e){this.appModel=e.appModel,this.debouncedSaveTimeout=null},start(){this.listenTo(this.appModel,{"change:user.change:providers.add":this.onCloudProviderAdd,"change:user.change:providers.change:isPending":this.onCloudProviderIsPendingChange,"change:user.change:isProvidersPending":this.onCloudProvidersIsPendingChange}),this.listenTo(this.appModel.get("servers"),{"change:isConnected":this.onServerIsConnectedChange,"change:isProvidersPending":this.onServerIsProvidersPendingChange,add:this.onServerAdd,"change:friendlyName":this.onServerAttrChanged,"change:sourceTitle":this.onServerAttrChanged}),this.listenTo(this.appModel.get("cloudServer"),{"change:isResourcesPending":this.onCloudReadyChange,"change:hasFailedResources":this.onCloudReadyChange})},_getPinnedSources(){return this.appModel.get("user").get("experienceSettings").get("sidebarSettings").get("pinnedSources")},_shouldRemoveHiddenSource(e){const t=e.get("hiddenAt");return t>0&&Date.now()-t>604800},_hidePinnedSources(e){e.forEach((e=>{e.get("isHidden")?this._shouldRemoveHiddenSource(e)&&(e.trigger("destroy",e,e.collection),this._debouncedSaveExperienceSettings()):(e.set({isHidden:!0,hiddenAt:Date.now()}),this._debouncedSaveExperienceSettings())}))},_hideSourcesWithNoServer(){const e=this.appModel.get("servers"),t=this._getPinnedSources().filter((t=>!e.get(t.get("machineIdentifier"))));this._hidePinnedSources(t)},_hideSourcesWithNoProvider(e,t,n,i){if(e.get("isConnected")&&n&&!i){const n=e.get("machineIdentifier"),i=this._getPinnedSources().filter((e=>{const i=e.get("machineIdentifier"),r=e.get("providerIdentifier");return i===n&&!t.get(r)}));this._hidePinnedSources(i)}},_hideCloudSourcesWithNoProvider(e){const t=this.appModel.get("cloudServer");this._hideSourcesWithNoProvider(t,e.get("providers"),e.get("isProvidersPopulated"),e.get("providersError"))},_hideServerSourcesWithNoProvider(e){this._hideSourcesWithNoProvider(e,e.get("providers"),e.get("isProvidersPopulated"),e.get("providersError"))},_updateStoredPinnedSources(e,t){const n=[];this._getPinnedSources().forEach((i=>{const r=(0,qh.Z)(i.toJSON());if(r.machineIdentifier!==e.machineIdentifier||r.providerIdentifier!==t.identifier)return;const s=function(e,t){const n=(0,Kh.Z)(e);return n&&n.directories?n.directories.find((e=>e.id===t)):null}(t,r.directoryID);if(!s)return void(e.isConnected&&t.isPopulated&&n.push(i));const o=(0,Qh.Z)(t,s),a=(0,qh.Z)(Gh({sourceType:o?o.key:null,sourceServer:e,sourceProvider:t,sourceDirectory:s}));i.get("isHidden")&&(a.isHidden=!1,a.hiddenAt=null),(0,$h.Z)(r,a)||(i.set(a),this._debouncedSaveExperienceSettings())})),this._hidePinnedSources(n)},_autoPinSources(e,t){const n=this.appModel.get("user").get("experienceSettings"),i=n.get("autoPinnedProviders"),r=n.get("sidebarSettings"),s=r.get("pinnedSources"),o=(0,mn.Z)(e.machineIdentifier,t.identifier);if(!te.wB(t.identifier,[te.uk,te.vP])||i.includes(o))return;n.set({autoPinnedProviders:[...i,o]}),this._debouncedSaveExperienceSettings();const a=(0,Kh.Z)(t);if(!r.get("hasCompletedSetup")||!a||!a.directories)return;const l=a.directories.reduce(((n,i)=>{const r=(0,Qh.Z)(t,i),o=(0,Wh.Z)(r?r.key:null,e.machineIdentifier,t.identifier,i.id);if(r&&!s.get(o)){const s=Gh({sourceType:r?r.key:null,sourceServer:e,sourceProvider:t,sourceDirectory:i});n.push((0,qh.Z)(s))}return n}),[]);l.length>0&&(0,h.DB)("appStore").dispatch((0,Ud.W1)({sources:l,interaction:!1}))},_processSources(e,t){t.isPopulated&&(this._updateStoredPinnedSources(e,t),this._autoPinSources(e,t))},_debouncedSaveExperienceSettings(){const e=this.appModel.get("user").get("experienceSettings");e.set({isDirty:!0}),this.debouncedSaveTimeout&&window.clearTimeout(this.debouncedSaveTimeout),this.debouncedSaveTimeout=window.setTimeout((()=>{e.get("isDirty")&&(0,h.DB)("appStore").dispatch((0,Ud.LN)())}),1e3)},_processCloudProviderChange(e){const t=this.appModel.get("cloudServer").toJSON(),n=e.toJSON();this._processSources(t,n)},_processServerChange(e){if(!e.get("isConnected")||!e.get("isProvidersPopulated"))return;const t=e.toJSON();t.providers.forEach((e=>this._processSources(t,e)))},onCloudProviderAdd(e){this._processCloudProviderChange(e)},onCloudProviderIsPendingChange(e,t){t||this._processCloudProviderChange(e)},onCloudProvidersIsPendingChange(e,t){t||this._hideCloudSourcesWithNoProvider(e)},onServerAttrChanged(e){this._processServerChange(e)},onServerIsConnectedChange(e,t){t||this._processServerChange(e)},onServerIsProvidersPendingChange(e,t){t||(this._hideServerSourcesWithNoProvider(e),this._processServerChange(e))},onServerAdd(e){this._processServerChange(e)},onCloudReadyChange(e){e.get("isResourcesPending")||e.get("hasFailedResources")||this._hideSourcesWithNoServer()}});var Xh=n(94566);const ep=Xh.ZP.Model.extend({initialize:function(e,t){this.set("time",new Date)}}),tp=new(Xh.ZP.Model.extend({initialize:function(e,t){this.set("host",window.location.host),this.set("userAgent",window.navigator.userAgent),this.set("browser",Pn.Z)},toJSON:function(){const e=this.parent,t=e.get("primaryServer"),n=e.get("user");return this.set("version","0.0.0"),t&&(t.get("activeConnection")&&this.set("primaryServerUrl",t.url()),this.set("primaryServerAuthToken",!!t.get("accessToken")),this.set("primaryServerVersion",t.get("versionFull"))),this.set("username",n.get("username")),this.set("cloudUrl",n.server.get("connections")),Xh.ZP.Model.prototype.toJSON.apply(this,arguments)}})),np=/("?(auth_token|accessToken|X-Plex-Token|authToken|token)"?[:=].*?)("?[-\w]+"?)/g,ip=/("?(email)"?[:=]([\s]+)?)("(.*)")/g,rp=/("?(address|host|uri)"?[:=].*?)(".*")/g;function sp(e){if(e)return e.replace(np,'$1"TOKEN"').replace(ip,'$1"EMAIL"').replace(rp,'$1"IP ADDRESS"')}const op=/(password=)([^&]+)/;function ap(e){return e.replace(np,"$1TOKEN").replace(op,"$1PASSWORD")}const lp=Xh.ZP.Collection.extend({model:ep,initialize:function(e,t){y().bindAll(this,"onAjaxComplete","onAppModelRegistered"),this.parent=t.parent,tp.parent=t.parent,(0,h.X_)("appModel").done(this.onAppModelRegistered)},reconfigure(){(0,h.DB)("appModel").get("deviceSettings").get("debugLevel")?this.start():this.stop()},start:function(){this.enabled||(this.enabled=!0,this.reset(),this.listenTo(g.Z,"log:message",this.onLogMessage),Xh.ZP.history.on("route",this.onRoute,this),s()(document).on("ajaxComplete",this.onAjaxComplete))},stop:function(){this.enabled&&(this.enabled=!1,this.reset(),this.stopListening(g.Z),Xh.ZP.history.off("route",this.onRoute,this),s()(document).off("ajaxComplete",this.onAjaxComplete))},destroy:function(){this.stop(),this.stopListening()},add:function(){this.length>1e3&&this.shift(),Xh.ZP.Collection.prototype.add.apply(this,arguments)},toJSON:function(){const e=Xh.ZP.Collection.prototype.toJSON.apply(this,arguments);return e.unshift(y().extend({type:"info"},tp.toJSON())),e},toJSONString:function(){return JSON.stringify(this.toJSON(),null,2)},onAppModelRegistered:function(e){const t=e.get("deviceSettings");this.listenTo(t,"change:debugLevel",this.reconfigure),this.reconfigure()},onLogMessage:function(e){this.add(e)},onRoute:function(e,t,n){const i={type:"navigation",route:t,args:n,fragment:window.location.hash};this.add(i)},onAjaxComplete:function(e,t,n){const i=(0,h.DB)("appModel").get("deviceSettings").get("debugLevel"),r={type:"ajax",url:ap(n.url),status:t.status};var s;y().isEmpty(n.headers)||(r.headers=((s=n.headers)&&s.hasOwnProperty("X-Plex-Token")&&(s["X-Plex-Token"]="TOKEN"),s&&s.hasOwnProperty("Authorization")&&(s.Authorization="BASIC AUTHORIZATION"),s)),y().isEmpty(n.data)||(r.params=ap(n.data)),200===t.status?2===i?r.response=sp(t.responseText):r.responseLength=t.responseText?t.responseText.length:0:(r.statusText=t.statusText,r.response=sp(t.responseText)),this.add(r)}}),cp="playing";function dp(e){return e.get("isOpen")?e.get("hasError")?"error":e.get("isPaused")?"paused":e.get("isBuffering")?"buffering":cp:"stopped"}const up=function(){const e=(0,h.DB)("appModel").get("ui"),t=e.get("audioVideoPlayer"),n=e.get("photoPlayer"),i=e.get("romPlayer"),r=dp(t),s=dp(n);return r===cp||s===cp||!!i&&dp(i)===cp},hp=(0,oe.P1)(Di.Z,(e=>e.volume));var pp=n(87893);const gp=(0,oe.P1)(pp.Z,(e=>e.remoteQuality)),mp=(0,oe.P1)(Di.Z,(e=>e.restorePlayQueue)),fp=(0,oe.P1)(pp.Z,(e=>({color:e.subtitleColor,position:e.subtitlePosition,size:e.subtitleSize})));function yp(e,t,n){return{commandID:e,body:vu({Response:{_code:t,_status:n}}),responseCode:t}}function vp(e){const{path:t,query:n,commandID:i,supportsTimeline:r}=e,o=s().Deferred(),a=handlers[t];if(function(){const e=(0,h.DB)("appModel").get("inputActivity");e&&e.notice()}(),!1!==r&&(0,h.DB)("localCompanionTimelineManager").start(),a)(a(n)||s().Deferred().resolve().promise()).done((()=>{(0,x.Z)(`[Companion] Successfully processed command from path "${t}"`);const e=yp(i,200,"OK");o.resolve({controllerResponse:e})})).fail((()=>{x.Z.warn(`[Companion] Failed to process command from path "${t}"`);const e=yp(i,400,"Bad Request");o.resolve({controllerResponse:e})}));else{x.Z.warn(`[Companion] Unable to handle command from unknown path "${t}"`);const e=yp(i,400,"Bad Request");o.resolve({controllerResponse:e})}return o.promise()}var bp=n(87157),Zp=n(96576),Sp=Object.defineProperty,Ip=Object.prototype.hasOwnProperty,Mp=Object.getOwnPropertySymbols,wp=Object.prototype.propertyIsEnumerable,Pp=(e,t,n)=>t in e?Sp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cp=(e,t)=>{for(var n in t||(t={}))Ip.call(t,n)&&Pp(e,n,t[n]);if(Mp)for(var n of Mp(t))wp.call(t,n)&&Pp(e,n,t[n]);return e};const Dp=Ll.Z.extend({context:["server"],url:"/updater/status",sessionAttrs:{isChecking:Ja.Z.boolean.isRequired},syncedAttrs:{status:Ja.Z.integer,canInstall:Ja.Z.boolean,downloadURL:Ja.Z.string,state:Ja.Z.string,progress:Ja.Z.integer,version:Ja.Z.string,error:Ja.Z.string,added:Ja.Z.string,fixed:Ja.Z.string},defaults:{state:ji.NONE,status:0,progress:0,version:null,error:"",added:null,fixed:null,isChecking:!1},augmentResponse(e){const t=e,{Release:n}=t,i=((e,t)=>{var n={};for(var i in e)Ip.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Mp)for(var i of Mp(e))t.indexOf(i)<0&&wp.call(e,i)&&(n[i]=e[i]);return n})(t,["Release"]);return n&&(e=Cp(Cp({},i),n)),"0"!==e.status&&(e.state=ji.ERROR),e}});n(33752),Object.defineProperty,Object.prototype.hasOwnProperty,Object.getOwnPropertySymbols,Object.prototype.propertyIsEnumerable,n(75134),Object.defineProperty,Object.prototype.hasOwnProperty,Object.getOwnPropertySymbols,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.prototype.hasOwnProperty,Object.getOwnPropertySymbols,Object.prototype.propertyIsEnumerable;var Ap=n(44333);Object.defineProperty,Object.prototype.hasOwnProperty,Object.getOwnPropertySymbols,Object.prototype.propertyIsEnumerable;var xp=n(80002);Object.defineProperty,Object.prototype.hasOwnProperty,Object.getOwnPropertySymbols,Object.prototype.propertyIsEnumerable,n(15421),n(10123);var Ep=n(25455),Tp=n.n(Ep);Xs.extend({name:"downloadVersionModal",template:Tp(),serializeData:function(){const e=this.model;return{defaultLinkTarget:"_self",mediaItems:y().map(this.model.get("Media"),(function(t,n){const i=y().clone(t);i.downloadUrl=e.getDownloadUrl(n);const r=e.getFilepath(n);return r&&(i.downloadName=le.Z.getLastSegment(r)),i}))}},onClick:function(){}});var jp=n(45200),Np=n(25664),Op=n(33204),kp=n(50673);const Lp={h264:10,hevc:30},Rp=function(e,t){if(null==e||Number.isNaN(e))return"";const n=parseInt(e,10),i=Lp[t||"h264"];return Number.isFinite(n)&&Number.isFinite(i)?(n/i).toFixed(1):String(e)};var zp=n(98945),Vp=n(61567);const _p=function(e){let t="";for(let n=0,i=e.length;n<i;n++){const i=e.charAt(n),r=i.toUpperCase();t+=0===n?r:i===r?" "+r:i}return t};var Up=n(71919),Bp=n.n(Up);const Fp=["id","key","index","videoCodec","audioCodec","audioChannels","default","selected","languageCode","accessible","exists","provider","lines","minLines","follow","requiredBandwidths","deepAnalysisVersion","deepAnalysisDate","Overlay"],Hp={size:Op.Z,duration:Np.Z,codec:zp.Z,format:zp.Z,container:zp.Z,videoResolution:kp.Z,bitrateMode:zp.Z,accessible:Vp.Z,exists:Vp.Z,optimizedForStreaming:Vp.Z,timed:Vp.Z,file:le.Z.getLastSegment},Wp={optimizedForStreaming:"Web Optimized",has64bitOffsets:"Has 64bit Offsets",cabac:"CABAC",postURL:"URL",codecID:"Codec ID"},Yp={frameRate:" fps",dialogNorm:" dB",bitrate:" kbps",samplingRate:" Hz"},Gp=function(e,t){const n={properties:[]};for(const i in e){if(i===t||-1!==y().indexOf(Fp,i))continue;let r=Wp[i],s=e[i];"level"===i&&(s=Rp(s,e.codec)),Hp[i]&&(s=Hp[i](s)),s&&(Yp[i]&&(s+=Yp[i]),r||(r=_p(i)),n.properties.push({name:r,value:s}))}return t&&e&&(n[t]=e[t]),n};function qp(e){const t=y().reject(e,(function(e){return e.id===jp.H})),n=y().sortBy(t,"streamType");return y().map(n,(function(e){return Gp(e,"streamType")}))}function Qp(e){return y().map(e.get("Media"),(function(e){return y().extend(Gp(e,"Part"),{Part:y().map(e.Part,(function(e){return y().extend(Gp(e,"Stream"),{file:e.file,exists:!1!==e.exists,accessible:!1!==e.accessible,Stream:qp(e.Stream)})}))})}))}Js.Z.extend({name:"mediaInfoModal",className:"media-info-modal modal modal-lg fade",template:Bp(),ui:{scroller:".modal-body-scroll",files:".files > ul",stickyProps:".media > .props, .part > .props"},events:y().extend({"click .delete-btn":"onDeleteClick"},Js.Z.prototype.events),modelEvents:{"change:Media":"onMediaChange"},initialize:function(e){Js.Z.prototype.initialize.apply(this,arguments),this.bindAllWhenRendered("onMediaChange","onScroll"),this.loading=!1,this.media=Qp(this.model),this.loading=!0,this.model.fetch({usePopulatedParams:!0,data:{checkFiles:1,asyncCheckFiles:0}}).always(this.whenRendered((function(){this.model.changed.hasOwnProperty("Media")||this.updateMedia()})))},serializeData:function(){let e=this.model.get("key");const t=h.DB("appModel").get("user"),n=this.model.server;return this.model.get("isLibraryItem")&&(e=le.Z.join(e,{checkFiles:1,includeAllConcerts:1,includeBandwidths:1,includeChapters:1,includeChildren:1,includeConcerts:1,includeExtras:1,includeFields:1,includeGeolocation:1,includeLoudnessRamps:1,includeMarkers:1,includeOnDeck:1,includePopularLeaves:1,includePreferences:1,includeRelated:1,includeRelatedCount:1,includeReviews:1,includeStations:1})),{key:e,url:this.model.server.resolveUrl(e,{appendToken:!0}),media:this.media,hasFiles:this.hasFiles(),hasStreams:this.hasStreams()||this.loading,showDeleteFile:n.get("isFullOwnedServer")&&n.get("allowMediaDeletion")&&n.supports("specificMediaDeletion"),showFilepath:!n.get("shared")||t.isNinja(),loading:this.loading}},updateMedia:function(){this.loading=!1,this.rerender=!0,this.ui.scroller.off("scroll",this.onScroll),this.media=Qp(this.model),this.render()},hasFiles:function(){return!!y().chain(this.media).pluck("Part").flatten().pluck("file").compact().size().value()},hasStreams:function(){return!!y().chain(this.media).pluck("Part").flatten().pluck("Stream").flatten().size().value()},onRender:function(){Js.Z.prototype.onRender.apply(this,arguments),this.ui.scroller.on("scroll",this.onScroll),this.$el.tooltip({selector:".files .label",placement:"bottom"})},onClose:function(){this.ui.scroller.off("scroll",this.onScroll)},onMediaChange:function(){this.isHidden||(this.model.get("Media").length?this.updateMedia():this.hide())},onDeleteClick:function(e){e.preventDefault(),ce.Z.execute("deleteMediaItem",{item:this.model,index:s()(e.currentTarget).data("media-item")})},onScroll:function(){const e=this.ui.scroller.scrollTop();let t=this.ui.scroller.offset().top;this.ui.files.length&&(t+=parseInt(this.ui.files.css("margin-bottom"),10)),t<0?window.setTimeout(this.onScroll,500):this.ui.stickyProps.each((function(){const n=s()(this),i=n.parent().height()-n.height(),r=e-this.parentNode.offsetTop,o=Math.min(Math.max(r,0),i);o&&o===r?(n.addClass("sticky"),n.css("top",t)):(n.removeClass("sticky"),n.css("top",o))}))}}),n(73069);var Kp=Object.defineProperty,$p=Object.prototype.hasOwnProperty,Jp=Object.getOwnPropertySymbols,Xp=Object.prototype.propertyIsEnumerable,eg=(e,t,n)=>t in e?Kp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tg=(e,t)=>{for(var n in t||(t={}))$p.call(t,n)&&eg(e,n,t[n]);if(Jp)for(var n of Jp(t))Xp.call(t,n)&&eg(e,n,t[n]);return e};const ng="metadata/repopulateMetadataItem",ig="metadata/updateMetadataItemPlayedStatus",rg="metadata/rateMetadataItem",sg=((0,ve.Z)("metadata/selectMetadataItemStream"),(0,ve.Z)(ng)),og=(0,ve.Z)("metadata/removeMetadataItem"),ag=((0,ve.Z)("metadata/toggleMetadataItemSave"),(0,ve.Z)("metadata/toggleMetadataItemPlexPick"),(0,ve.Z)("metadata/toggleMetadataItemWatchlist"),(0,ve.Z)("metadata/addMetadataItemToLibrary"),(0,ve.Z)("metadata/deleteMetadataItemStream"),(0,ve.Z)("metadata/setMetadataItemStreamOffset"),(0,ve.Z)("metadata/setMetadataItemIsInUniversalWatchlist"),(0,ve.Z)("metadata/redispatchLegacyMetadataAction"),(0,ve.Z)("metadata/analyzeMetadataItem"),(0,ve.Z)("metadata/deleteMetadataItem"),(0,ve.Z)("metadata/deleteMetadataItemVersion"),(0,ve.Z)("metadata/downloadMetadataItemVersion"),(0,ve.Z)("metadata/editMetadataItem"),(0,ve.Z)("metadata/fixMetadataItemMatch"),(0,ve.Z)("metadata/getMetadataItemInfo"),(0,ve.Z)(ig),(0,ve.Z)("metadata/optimizeMetadataItem"),(0,ve.Z)(rg),(0,ve.Z)("metadata/refreshMetadataItem"),(0,ve.Z)("metadata/splitMetadataItemApart"),(0,ve.Z)("metadata/unmatchMetadataItem"),(0,ve.Z)("metadata/changeMetadataItemField"),(0,ve.Z)("metadata/updateMetadataItemRefreshingState"));(0,ve.Z)("metadata/UPDATE_METADATA_SETTINGS"),(0,ve.Z)("CLEAR_METADATA_SETTINGS_ERROR"),(0,ve.Z)(rg,(e=>tg(tg({},e),{rating:10}))),(0,ve.Z)(rg,(e=>tg(tg({},e),{rating:-1}))),(0,ve.Z)(ig,(e=>tg(tg({},e),{played:!1}))),(0,ve.Z)(ig,(e=>tg(tg({},e),{played:!0}))),(0,ve.Z)("metadata/setDownloadSubscriptionID"),(0,ve.Z)("metadata/unsetDownloadSubscriptionID"),(0,ve.Z)("metadata/updateDownloadAvailability"),(0,ve.Z)("metadata/updateDownloadAvailabilityFromDeletedTimeline"),(0,ve.Z)("metadata/updateDownloadSubscriptionIDs"),(0,ve.Z)("metadata/modifySmartPlaylist");var lg=n(97454),cg=n(9492),dg=n(96138),ug=n(30712),hg=n(34738);function pg(e,t={}){let n=t.forceFetch||!e.get("isPreFetched")?function(e,t={}){const{itemProvider:n}=t,i={includeConcerts:1,includeExtras:1,includeOnDeck:1,includePopularLeaves:1,includePreferences:1,includeChapters:1,includeStations:1,includeMarkers:1,includeExternalMedia:1,asyncAugmentMetadata:1};e.get("type")===Qs.IK&&(i.includeRelated=1),!t.forceSyncCheckFiles&&e.server.supports("asyncCheckFiles")?(i.asyncCheckFiles=1,i.asyncRefreshAnalysis=1,i.asyncRefreshLocalMediaAgent=1):i.checkFiles=1;const r=n||e.provider,s=(0,Qu.Z)(r.server),o=r.resolveUrl(e.url(),{appendHeaders:!0}),a=r.getXHROptions(o,{dataType:s.typeName,data:i,merge:!0});return e.fetch(a).done((()=>{e.set("isPreFetched",!0)}))}(e,t):s().Deferred().resolve().promise();return n=n.then((()=>{const t=e.get("Media");if(e.get("indirect")&&(!t||!t.length)){const t=function(e,t){const n=function(e){return e.get("Origin")||{key:e.get("key"),source:(0,ug.Z)({serverIdentifier:e.server.get("machineIdentifier"),providerIdentifier:e.provider.get("identifier")})}}(t),i=s().Deferred(),{source:r,key:o}=n,{providerIdentifier:a,serverIdentifier:l}=(0,hg.Z)(r),c=e.get("servers").get(l),d=c&&c.get("isCloud")?e.get("user"):c,u=d&&d.get("providers").get(a);let h;if(c?c.get("isConnected")?u?u.get("isPopulated")||(h="Provider is not populated"):h="Unknown provider":h="Server is not connected":h="Unknown server",h)i.reject(new Error(h));else{const e=new Mo.Z({key:o},{server:c,provider:u,channel:t.channel,includeExternalMedia:t.includeExternalMedia,skipCache:!0}),n=(0,Qu.Z)(u.server),a=u.resolveUrl(e.url(),{appendHeaders:!0}),l=u.getXHROptions(a,{dataType:n.typeName,data:{resolveIndirect:1}});e.fetch(l).then((t=>{const n=e.get("Media"),o=n?n.map((e=>s().extend(!0,{source:r},e))):[];i.resolve(o)}),(()=>{i.reject(new Error("Unable to fetch Origin metadata"))}))}return i.promise()}((0,h.DB)("appModel"),e).then((t=>{e.set({Media:t})}));return t.then(null,(e=>{x.Z.error("[Metadata] %s",e.message)})),t}})),n}function gg(e,t){return!!e.get("user").get("features").findWhere({uuid:t})}var mg=n(1493),fg=n(43154),yg=n(16215),vg=n(29045),bg=n(78574);const Zg={getMediaDecision:function(e){const t=this.augmentProfile(e);if(x.Z.info("[MDE] Augmented profile:",t),e.media)return this.analyzeMedia(e.media,t,e);const n=e.item.get("Media");if(!n.length)return{transcodeServer:e.transcodeServer,canPlay:!0,canDirectPlay:!0};if(1===n.length)return this.analyzeMedia(y().first(n),t,e);const i=y().map(n,(function(n){return this.analyzeMedia(n,t,e)}),this);return this.getBestDecision(i)},augmentProfile:function(e){const t=e.profile;if(!t)throw new Error("MDE: No player profile provided for "+e.type);const n=e.type===bg.Z.types.VIDEO,i=s().extend(!0,{},t.directPlay),r=s().extend(!0,{},t.directStream),o=i.generic;o&&delete i.generic;let a=e.allowedAC3Containers;const l="*"===a;!l&&a&&(a=Array.isArray(a)?a:[a]);let c=e.allowedEAC3Containers;const d="*"===c;!d&&c&&(c=Array.isArray(c)?c:[c]);let u=e.allowedDCAContainers;const h="*"===u;!h&&u&&(u=Array.isArray(u)?u:[u]);let p=e.allowedTrueHDContainers;const g="*"===p;return!g&&p&&(p=Array.isArray(p)?p:[p]),y().each(i,(function(t,i){this.mergeGenericOptions(t,o),this.mergeMaxQualityOptions(t,e),(l||a&&y().contains(a,i))&&this.addAudioCodec("ac3",t,e),(d||c&&y().contains(c,i))&&this.addAudioCodec("eac3",t,e),(h||u&&y().contains(u,i))&&this.addAudioCodec("dca",t,e),(g||p&&y().contains(p,i))&&this.addAudioCodec("truehd",t,e);const r=t[bg.Z.getStreamByType(e.type)];if(r){const t=r.codecs;y().each(t,(function(t,n){this.mergeMaxQualityOptions(t,e,!0),e.videoCodecOptions&&e.videoCodecOptions[n]&&this.mergeCodecOptions(t,e.videoCodecOptions[n])}),this)}const s=n&&t.audio;if(s&&e.audioCodecOptions){const t=s.codecs;y().each(t,(function(t,n){e.audioCodecOptions[n]&&this.mergeCodecOptions(t,e.audioCodecOptions[n])}),this)}}),this),this.mergeMaxQualityOptions(r,e),n&&(e.videoCodecOptions&&r.video&&y().each(r.video.codecs,(function(t,n){e.videoCodecOptions[n]&&this.mergeCodecOptions(t,e.videoCodecOptions[n])}),this),e.audioCodecOptions&&r.audio&&y().each(r.audio.codecs,(function(t,n){e.audioCodecOptions[n]&&this.mergeCodecOptions(t,e.audioCodecOptions[n])}),this)),{directPlay:i,directStream:r}},mergeGenericOptions:function(e,t){t&&(y().defaults(e,y().omit(t,"video","audio")),y().each(["audio","video"],(function(n){const i=t[n];let r=e[n];i&&(r||(r={},e[n]=r),y().defaults(r,y().omit(i,"codecs")),i.codecs&&y().each(i.codecs,(function(e,t){y().defaults(this.ensureCodecs(t,r),e)}),this))}),this))},mergeCodecOptions:function(e,t){y().each(t,(function(t,n){e[n]=t}),this)},ensureCodecs:function(e,t){return t.codecs||(t.codecs={}),t.codecs[e]||(t.codecs[e]={}),t.codecs[e]},mergeMaxQualityOptions:function(e,t,n){y().each([{option:"bitrate",setting:"maxBitrate"},{option:"videoResolution",setting:"maxVideoResolution"}],(function(i){if("videoResolution"===i.option&&t.type!==bg.Z.types.VIDEO)return;const r=this.getMaxQualityOption(e,i.option,t);if(null==r)return;const s=i.setting,o=bg.Z.getStreamByType(t.type);e.hasOwnProperty(s)?e[s]=r:e.hasOwnProperty(o)?e[o][s]=r:n||(e[o]={},e[o][s]=r)}),this)},getMaxQualityOption:function(e,t,n){const i=n.quality||{},r="max"+t.charAt(0).toUpperCase()+t.slice(1);let s=i[t];const o=this.getPrimaryStreamProperty(e,r,n);if("videoResolution"===t&&s&&(s=vg.Z.getResolutionFromSize(s)),"bitrate"===t){const e=n.item.server.get("maxUploadBitrate");e&&(!s||e<s)&&(s=e)}if(s||o){let e;return e=s&&o?Math.min(s,o):s||o,e}},addAudioCodec:function(e,t,n){t.audio||(t.audio={}),this.ensureCodecs(e,t.audio)},analyzeMedia:function(e,t,n){x.Z.info("[MDE] Starting analysis of",this.getMediaTitle(e)),(0,x.Z)("[MDE] Analyzing direct play");const i=this.canDirectPlay(e,t.directPlay,n);i.result||(0,x.Z)("[MDE] Cannot direct play:",i.failedCheck);const r={finalProfile:t,transcodeServer:n.transcodeServer,preferredDirectPlayProtocol:n.preferredDirectPlayProtocol,item:n.item,media:e,canDirectPlay:i.result,canDirectPlayFailedCheck:i.failedCheck,canDisplayHDR:!!n.canDisplayHDR,canDisplayDolbyVision:!!n.canDisplayDolbyVision};let s=n.transcoderOptions||{};if(y().isFunction(s)&&(s=s(r)),n.type===bg.Z.types.VIDEO){(0,x.Z)("[MDE] Analyzing video direct stream");const i=(0,yg.Z)(e);if(i){const e=this.canDirectStreamVideo(i,t.directStream.video,n,s);r.canDirectStreamVideo=e.result,r.canDirectStreamVideoFailedCheck=e.failedCheck}}if(n.type!==bg.Z.types.PHOTO){(0,x.Z)("[MDE] Analyzing audio direct stream");const i=(0,mg.Z)(e);if(i){const e=this.canDirectStreamAudio(i,t.directStream.audio,n,s);r.canDirectStreamAudio=e.result,r.canDirectStreamAudioFailedCheck=e.failedCheck}}const o=(0,fg.Z)(r.media);return o&&((0,x.Z)("[MDE] Analyzing subtitles"),y().extend(r,this.analyzeSubtitles(o,n))),(0,x.Z)("[MDE] Analyzing playability"),y().extend(r,this.canPlay(r,n)),y().extend(r,this.getEffectiveQuality(e,t.directStream,n)),(0,x.Z)("[MDE] Finished analysis of:",this.getMediaTitle(e),this.getDecisionLogs(r)),r},canDirectPlay:function(e,t,n){if(n.forceDirectPlay)return(0,x.Z)("[MDE] Direct play forced"),{result:!0};if(!1===n.allowDirectPlay&&!n.transcodeServer.get("isCloud"))return x.Z.warn("[MDE] Direct play failed; option is disabled"),{result:!1,failedCheck:"allowDirectPlay"};if(n.type===bg.Z.types.VIDEO&&!this.canDirectPlayVideo(e,n))return{result:!1,failedCheck:"canDirectPlayVideo"};const i=t[e.container];if(!i)return x.Z.warn("[MDE] Direct play failed; unsupported container:",e.container),{result:!1,failedCheck:"containerProfile"};const r=y().keys(i);if(r&&r.length){for(let t=0,s=r.length;t<s;t++){const s=r[t],o=i[s];if("mimeType"===s){if(!n.skipCanPlayTypeTest&&!this.canPlayType(bg.Z.getElementByType(n.type),o))return x.Z.warn("[MDE] Direct play failed; canPlayType test, %s: %s",s,o),{result:!1,failedCheck:"canPlayType"}}else if("video"===s||"audio"===s){const t=Ap.Z.get(s),i=(0,bo.Z)(e,{streamType:t.id}),r="video"===s?(0,yg.Z)(e):(0,mg.Z)(e);if(!r){x.Z.warn("[MDE] No stream selected; will not be able to analyze stream codecs");continue}if("audio"===s&&r!==i[0]&&!n.allowMultiTrackAudio)return x.Z.warn("[MDE] Direct play failed; multi-track audio is required"),{result:!1,failedCheck:"allowMultiTrackAudio"};const a=this.analyzeStream(r,o,n);if(!a.result)return{result:!1,failedCheck:a.failedCheck}}else if("photo"===s){const t=this.analyzeStream(y().first(e.Part),o,n);if(!t.result)return{result:!1,failedCheck:t.failedCheck}}else if(!this.validateProfileProperty(s,o,e))return{result:!1,failedCheck:`validateProfileProperty:${s}`}}return{result:!0}}return{result:!0}},canDirectPlayVideo:function(e,t){return t.allowDirectPlay||t.transcodeServer.get("isCloud")?"hls"!==e.protocol||t.hasNativeHLS?"flv"!==e.container||t.hasFlash?!("dash"===e.protocol&&!t.hasDASH&&(x.Z.warn("[MDE] Direct play failed; cannot play DASH"),1)):(x.Z.warn("[MDE] Direct play failed; cannot play FLV"),!1):(x.Z.warn("[MDE] Direct play failed; cannot play HLS"),!1):(x.Z.warn("[MDE] Direct play failed; option is disabled"),!1)},canPlayType:function(e,t){if(e===bg.Z.elements.PHOTO)return!0;const n=document.createElement(e);return!(!n.canPlayType||!n.canPlayType(t).replace(/^no$/,""))},canDirectStreamVideo:function(e,t,n,i){return i.directStream||n.transcodeServer.get("isCloud")?this.analyzeStream(e,t,n):(x.Z.warn("[MDE] Direct stream video failed; option is disabled"),{result:!1,failedCheck:"options:directStream"})},canDirectStreamAudio:function(e,t,n,i){return i.directStreamAudio||n.transcodeServer.get("isCloud")?this.analyzeStream(e,t,n):(x.Z.warn("[MDE] Direct stream audio failed; option is disabled"),{result:!1,failedCheck:"options:directStreamAudio"})},analyzeStream:function(e,t,n){const i=t&&t.codecs&&t.codecs[e.codec];for(const r in t){const s=t[r];if("codecs"===r){const t=s[e.codec];if(!t)return{result:!1,failedCheck:`noCodecInProfile:${e.codec}`};const i=this.analyzeStream(e,t,n);if(!i.result)return{result:!1,failedCheck:i.failedCheck}}else if(!(i&&r in i||this.validateProfileProperty(r,s,e)))return{result:!1,failedCheck:`validateProfileProperty:${r}`}}return{result:!0}},validateProfileProperty:function(e,t,n){const i=e.match(/^(min|max)(\w)(\w*)/);let r;if(i){const s="min"===i[1],o="max"===i[1];if(r=n[e=i[2].toLowerCase()+i[3]],null==r&&x.Z.warn("[MDE] Unable to validate %s; re-analyze the media if possible",e),null!=r&&"videoResolution"===e&&(r=vg.Z.getHeightFromResolution(r),t=vg.Z.getHeightFromResolution(t)),null!=r){if(s&&r<t)return x.Z.warn("[MDE] Invalid profile property; %s: %s < %s",e,r,t),!1;if(o&&r>t)return x.Z.warn("[MDE] Invalid profile property; %s: %s > %s",e,r,t),!1}}else if(r=n[e],null==r&&x.Z.warn("[MDE] Unable to validate %s; re-analyze the media if possible",e),r!==t&&!y().contains(t,r))return x.Z.warn("[MDE] Invalid profile property; %s: %s !== %s",e,r,t),!1;return!0},analyzeSubtitles:function(e,t){const n=t.subtitlesBurnLevel||wl.ALWAYS,i=e.codec,r=!!e.key&&void 0===i&&t.transcodeServer.get("isCloud"),s=t.transcodeServer.get("isCloud")&&("vtt"===i||"eia_608"===i);return(0,x.Z)("[MDE] Subtitle codec:",i),(0,x.Z)("[MDE] Burn level:",n),r?((0,x.Z)("[MDE] Using sidecar subtitles %s",e.key),{useSidecarSrtSubtitles:!0}):s?{canDirectPlay:!0}:n===wl.NEVER?{useSoftSubtitles:!1}:n===wl.ALWAYS?(x.Z.warn("[MDE] Direct play failed; asked to always burn subtitles"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles:burnLevelAlways",canDirectStreamVideo:!1}):t.transcodeServer.supports("softSubtitles")?function(e){return/^(idx|pgs|vobsub)$/i.test(e)}(i)?(x.Z.warn("[MDE] Soft subtitles failed; bitmap subtitles"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):/^(ass|ssa)$/i.test(i)&&n===wl.AUTO?(x.Z.warn("[MDE] Soft subtitles failed; ASS subtitles"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):/^eia_608$/i.test(i)?(x.Z.warn("[MDE] Soft subtitles failed; Closed captioning"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):t.transcodeServer.supports("softSubtitlesWithDirectPlay")?t.allowDirectStreamVideoWithSoftSubtitles?{useSoftSubtitles:!0}:{useSoftSubtitles:!0,canDirectStreamVideo:!1}:(x.Z.warn("[MDE] Direct play failed; %s subtitles",i),t.allowDirectStreamVideoWithSoftSubtitles?{useSoftSubtitles:!0,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles"}:{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):(x.Z.warn("[MDE] Direct play failed; server support requires burn subtitles"),x.Z.warn("[MDE] Soft subtitles failed; server version"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles:softSubtitlesUnsupported",canDirectStreamVideo:!1})},canPlay:function(e,t){const n=this.validateParts(e,t)||this.validateTranscoder(e,t);return n?{canPlay:!1,errorMessage:n}:{canPlay:!0}},validateParts:function(e,t){const n=function(e){const t=[];return Array.isArray(e)||(e=[e]),y().each(e,(e=>{const n=e.Part;n&&y().each(n,(e=>{!1!==e.exists&&!1!==e.accessible||t.push(e)}))})),t}(e.media);if(!n.length)return;x.Z.warn("[MDE] Unable to play; missing parts");const i=y().first(n);return 1===Number(i.exists)?(0,E.Z)("Please check the permissions for this file."):(0,E.Z)("Please check that the file exists and the necessary drive is mounted.")},validateTranscoder:function(e,t){if(e.canDirectPlay)return;const n=t.type,i=n===bg.Z.types.MUSIC,r=n===bg.Z.types.VIDEO,s=t.transcodeServer,o=s.get("transcoderAudio"),a=s.get("transcoderVideo");let l;if(i||"track"===t.item.get("type")){if(l=(0,E.Z)("This server is not powerful enough to convert audio."),r&&!a)return x.Z.warn("[MDE] Unable to play; server unable to transcode music using video transcoder"),l;if(i&&!o)return x.Z.warn("[MDE] Unable to play; server unable to transcode music using audio transcoder"),l}else if(r){const n=(0,E.Z)("This server is not powerful enough to convert video. You may be able to enable playback by increasing your quality setting."),i=(0,E.Z)("This server is not powerful enough to convert video. Playback qualities are limited because an indirect connection is being used."),r=e.canDirectStreamVideo||!s.get("transcoderVideoRemuxOnly");if(l=(0,E.Z)("This server is not powerful enough to convert video."),!a||!r){if(x.Z.warn("[MDE] Unable to play; server unable to transcode video"),t.quality){if(t.quality.index===vg.Z.ORIGINAL)return l;const e=y().clone(t);return e.quality=y().extend({index:vg.Z.ORIGINAL},y().pick(t.quality,"attribute")),this.getMediaDecision(e).canDirectPlay?n:"relay"===s.get("maxUploadBitrateReason")?i:l}return n}}},getEffectiveQuality:function(e,t,n){const i=n.quality,r={},s={};if(e.bitrate||x.Z.warn("[MDE] Unable to determine effective quality; re-analyze the media if possible"),n.type===bg.Z.types.VIDEO){r.bitrate=e.bitrate,r.videoResolution=vg.Z.getHeightFromResolution(e.videoResolution);const o=this.getPrimaryStreamProperty(t,"maxBitrate",n);if(o){const t=(0,yg.Z)(e),n=t?t.bitrate:e.bitrate;r.bitrate=Math.min(n,o),s.maxVideoBitrate=o}if(i&&i.videoResolution){const e=vg.Z.getResolutionFromSize(i.videoResolution),t=vg.Z.getHeightFromResolution(e);r.videoResolution=Math.min(r.videoResolution,t)}}else if(n.type===bg.Z.types.MUSIC){r.bitrate=e.bitrate;const i=this.getPrimaryStreamProperty(t,"maxBitrate",n);i&&(r.bitrate=Math.min(e.bitrate,i),s.musicBitrate=i)}return r.transcoderQualityOptions=s,r},getPrimaryStreamProperty:function(e,t,n){const i=e[bg.Z.getStreamByType(n.type)];let r=e[t];return null==r&&i&&(r=i[t]),r},getMediaTitle:function(e){let t=e.title||e.videoResolution||e.bitrate||e.container;const n=y().compact([e.container,e.videoCodec,e.audioCodec]),i=(0,yg.Z)(e);return i&&n.push(i.level,i.profile),n.length&&(t+=" ("+n.join(", ")+")"),t},getDecisionLogs:function(e){const t={canPlay:e.canPlay,canDirectPlay:e.canDirectPlay},n=e.canDirectStreamVideo;null!=n&&(t.canDirectStreamVideo=n);const i=e.canDirectStreamAudio;null!=i&&(t.canDirectStreamAudio=i);const r=e.useSoftSubtitles;null!=r&&(t.useSoftSubtitles=r);const s=e.bitrate;null==s||y().isNaN(s)||(t.bitrate=s);const o=e.videoResolution;return null==o||y().isNaN(o)||(t.videoResolution=o),t},getBestDecision:function(e){const t=y().last(this.sortDecisions(e));return(0,x.Z)("[MDE] Selected %s to play:",this.getMediaTitle(t.media),this.getDecisionLogs(t)),t},sortDecisions:function(e){return y().chain(e).reverse().sortBy(this.preferHigherBitrate,this).sortBy(this.preferMoreAudioChannels,this).sortBy(this.preferDirectStreamAudio,this).sortBy(this.preferHigherResolution,this).sortBy(this.preferDirectStreamVideo,this).sortBy(this.preferDirectPlayMatchingPreferredProtocol,this).sortBy(this.preferDirectPlay,this).sortBy(this.preferHigherResolutionIfCapable,this).sortBy(this.preferCloudIfRemote,this).sortBy(this.preferDirectPlayOrDirectStreamIfUHD,this).sortBy(this.preferPlayable,this).value()},preferPlayable:function(e){return void 0===e.canPlay?null:e.canPlay},preferDirectPlayOrDirectStreamIfUHD:function(e){const t=e.media.height;if(void 0===t)return null;const n=vg.Z.getResolutionFromHeight(t);return!/^\d+k$/i.test(n)||e.canDirectPlay||e.canDirectStreamVideo},preferCloudIfRemote:function(e){const t=e.media.proxyType===_o.Z.CLOUD;return e.transcodeServer.get("isPrivateConnection")?!t:t},preferHigherResolutionIfCapable:function(e){const t=e.transcodeServer,n=t.get("transcoderVideo"),i=t.get("transcoderVideoRemuxOnly");return n&&!i&&(e.canDirectPlay||e.canDirectStreamVideo)?this.preferHigherResolution(e):null},preferDirectPlay:function(e){return void 0===e.canDirectPlay?null:e.canDirectPlay},preferDirectPlayMatchingPreferredProtocol:function(e){return e.canDirectPlay&&e.media.protocol&&e.preferredDirectPlayProtocol?e.media.protocol===e.preferredDirectPlayProtocol:null},preferDirectStreamVideo:function(e){return void 0===e.canDirectStreamVideo?null:e.canDirectStreamVideo},preferHigherResolution:function(e){return void 0===e.videoResolution?null:e.videoResolution},preferDirectStreamAudio:function(e){return void 0===e.canDirectStreamAudio?null:e.canDirectStreamAudio},preferMoreAudioChannels:function(e){const t=e.media.audioChannels;return void 0===t?null:t},preferHigherBitrate:function(e){return void 0===e.bitrate?null:e.bitrate}};var Sg=Object.defineProperty,Ig=Object.prototype.hasOwnProperty,Mg=Object.getOwnPropertySymbols,wg=Object.prototype.propertyIsEnumerable,Pg=(e,t,n)=>t in e?Sg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Cg="INIT_PRE_PLAY_PAGE",Dg="INIT_PRE_PLAY_DESCENDANT_LIST",Ag="INIT_PRE_PLAY_SIBLING_LIST",xg="INIT_PRE_PLAY_AUGMENTED_HUBS",Eg="PRE_FETCH_PRE_PLAY_METADATA_ITEM",Tg="FETCH_PRE_PLAY_METADATA_ITEM",jg="FETCH_PRE_PLAY_RELATED_HUBS",Ng="FETCH_PRE_PLAY_AUGMENTED_HUBS",Og="MAKE_PRE_PLAY_VIDEO_DECISION",kg="REPOPULATE_PRE_PLAY_POPULAR_TRACKS",Lg=((0,ve.Z)(Cg),(0,ve.Z)(Dg),(0,ve.Z)(Ag),(0,ve.Z)(xg)),Rg=((0,ve.Z)(Eg),(0,ve.Z)(Tg),(0,ve.Z)(jg)),zg=(0,ve.Z)(Ng),Vg=((0,ve.Z)(Og),(0,ve.Z)(kg));function _g(e){return e.get("ui").get("prePlayPage")}function Ug(e,t){const{metadataItemEntityID:n,containerKeyPattern:i}=t;if(i)return!1;const r=(0,ge.SW)(e,t),s=_g(e).get("metadataItem");return!(!s||s.server!==r||n&&s.entityID()!==n)}function Bg(e,t,n){_g(e).get("relatedHubs")&&n(Rg())}function Fg(e,t){const n=(0,ge.SW)(e,t),i=_g(e),r=i.get("metadataItem");if(!r||r.server!==n)return;const s=t.activity.Context;if(!s||s.key!==r.get("key"))return;if(null==s.exists&&null==s.accessible)return;const o=!s.exists||!s.accessible;i.set("isFileUnavailable",o),o&&window.setTimeout((()=>{r.set("isPreFetched",!1)}),0)}(0,cg.Z)({[Cg](e,t){const n=_g(e),i=(0,ge.SW)(e,t),r=(0,ge.js)(e,t),{providerEntityID:s,metadataKey:o}=t;if(s===n.get("providerEntityID")&&o===n.get("metadataKey"))return;const a=new Mo.Z({key:o},{server:i,provider:r}),l=le.Z.join([o.replace(/(\/library)?\/metadata/,"/hubs/metadata"),"related"]),c=gg(e,wn.Ao),d=new lg.Z([],{server:i,provider:r,metadataItem:a,hubKey:l,includeExternalMedia:c,includeExternalMetadata:!0,asyncAugmentMetadata:!0});n.restoreDefaults({providerEntityID:s,metadataKey:o,metadataItem:a,siblingKey:n.get("siblingKey"),siblingList:n.get("siblingList"),relatedHubs:d})},[Dg](e,t){const n=_g(e),i=(0,ge.SW)(e,t),r=(0,ge.js)(e,t),s=(0,ge.$R)(e,t),{providerEntityID:o,descendantKey:a}=t;if(!a)return void n.set({descendantKey:a,descendantList:void 0});if(o===n.get("providerEntityID")&&a===n.get("descendantKey"))return;const l=gg(e,wn.Ao),c="album"===s.get("type")||"artist"===s.get("type")&&s.get("skipChildren"),d=new Io.Z({containerKey:a},{server:i,provider:r,excludeAllLeaves:!0,includeExternalMedia:l,includeRelated:c});n.set({descendantKey:a,descendantList:d})},[Ag](e,t){const n=_g(e),i=(0,ge.SW)(e,t),r=(0,ge.js)(e,t),{providerEntityID:s,siblingKey:o}=t;if(!o)return void n.set({siblingKey:o,siblingList:void 0});if(s===n.get("providerEntityID")&&o===n.get("siblingKey"))return;const a=gg(e,wn.Ao),l=new Io.Z({containerKey:o},{server:i,provider:r,excludeAllLeaves:!0,includeExternalMedia:a});n.set({siblingKey:o,siblingList:l})},[xg](e,t,n){const i=_g(e),r=i.get("metadataItem"),s=r.get("augmentationKey"),o=[Qs.R0,Qs.c5],a=[Qs.wR,Qs.nr,Qs.xx,Qs.uG],l=r.get("type");if(!o.includes(l)&&!a.includes(l)||!s)return void i.set({isAugmentedHubsPending:!1,isAugmentedHubsPopulated:!0});const c=new lg.Z([],{server:r.server,provider:r.provider,hubKey:r.get("augmentationKey"),excludeFields:"",wait:1});i.set({augmentedHubs:c}),n(zg())},[Eg](e,t){pg((0,ge.$R)(e,t),{forceFetch:!0})},[Tg](e,t,n){const i=_g(e),r=i.get("metadataItem"),s=i.get("isMetadataItemPending");i.set("isMetadataItemPending",!0),pg(r,{forceFetch:!0}).done((()=>{i.set({isMetadataItemPending:!1,isMetadataItemPopulated:!0,metadataItemError:null}),n(Lg())})).fail(((e,t)=>{t.aborting?i.set("isMetadataItemPending",s):i.set({isMetadataItemPending:!1,metadataItemError:(0,xp.Z)(t)})}))},[jg]:(0,dg.Z)({key:"relatedHubs",getModel:_g}),[Ng]:(0,dg.Z)({key:"augmentedHubs",getModel:_g}),[Og](e,t,n){const i=_g(e),r=e.get("user").get("experienceSettings"),s=i.get("metadataItem"),o=(0,h.DB)("getDecisionOptions")(s),a=vg.Z.getCurrentQuality(s,r,(e=>n((0,Ud.LN)(e)))),l=Zg.getMediaDecision(((e,t)=>{for(var n in t||(t={}))Ig.call(t,n)&&Pg(e,n,t[n]);if(Mg)for(var n of Mg(t))wg.call(t,n)&&Pg(e,n,t[n]);return e})({item:s,transcodeServer:s.server,quality:a},o));i.set("decisionMediaItem",l.media)},[un.WV](e,t){t.activity.type===Ei.Ij&&Fg(e,t)},[un.Cs](e,t){t.activity.type===Ei.Ij&&Fg(e,t)},[ng](e,t,n){Ug(e,t)&&Bg(e,0,n)},[so._z](e,t,n){const i=_g(e).get("metadataItem");Ug(e,t)&&(i.fetch({data:{skipRefresh:1},usePopulatedParams:!0}),Bg(e,0,n))},[kg](e,t,n){const i=_g(e).get("metadataItem"),r=(0,ge.tz)(e,{metadataItemEntityID:t.albumMetadataItemEntityID});i&&r&&i.get("key")===r.get("parentKey")&&n(sg({serverEntityID:t.serverEntityID,metadataItemEntityID:i.entityID()}))}});const Hg=0,Wg=5,Yg=9;var Gg=n(61194);const qg=y().reduce(Gg.l,((e,t)=>(e[t]="Metadata",e)),{}),Qg=function e(t){if(!t||!t._children)return t;const n=y().clone(t),i=n._children;return Array.isArray(i)&&(i.forEach((t=>{const i=t._elementType;if(t._elementType=null,t.elementName=i,i){const r=qg[i]||i,s=n[r],o=e(t);s?Array.isArray(s)?s.push(o):n[r]=[s,o]:n[r]=o}})),n._children=null),n};var Kg=n(81679),$g=n(58563),Jg=Object.defineProperty,Xg=Object.prototype.hasOwnProperty,em=Object.getOwnPropertySymbols,tm=Object.prototype.propertyIsEnumerable,nm=(e,t,n)=>t in e?Jg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,im=(e,t)=>{for(var n in t||(t={}))Xg.call(t,n)&&nm(e,n,t[n]);if(em)for(var n of em(t))tm.call(t,n)&&nm(e,n,t[n]);return e};const rm={started:un.TV,updated:un.UU,ended:un.uq},sm={started:$g.Z.actions.activityStarted,updated:$g.Z.actions.activityUpdated,ended:$g.Z.actions.activityFinished},om=[Bd.yV,Bd.gk,Bd.cc,Bd.ax,Bd.u0,Bd.Z$,Bd.eS,Bd.ad,Bd.cK,Bd.sU,Bd.wL,Bd.lY,Bd.Q_,Bd.jN,Bd.Mu,Bd.a8,Bd.VL,Bd.TD,Bd.RN],am=5e3;function lm(e){const t=h.DB("appStore");te.wB(window.location.hash,te.Ll)&&t.dispatch((0,so.jR)({serverEntityID:e}))}const cm=Kg.Z.extend({initialize(e){Kg.Z.prototype.initialize.apply(this,arguments),this.throttledRepopulates={}},repopulateNow(e,t){this.throttledRepopulates[e]={timestamp:Date.now()},t()},repopulateWithThrottle(e,t,n){const i=this.throttledRepopulates[e];if(i)if(i.hasTimeout);else{const r=Date.now()-i.timestamp;r<n?(window.setTimeout((()=>{this.repopulateNow(e,t)}),n-r),this.throttledRepopulates[e]={hasTimeout:!0}):this.repopulateNow(e,t)}else this.repopulateNow(e,t)},getMessageTypes:()=>om,[Bd.eS](e){e.key=e.id,e.server=this.server,this.server.trigger("socket:setting",e),(0,h.DB("appStore").dispatch)((0,un.m7)({serverEntityID:this.server.entityID(),setting:e}))},[Bd.jN](e){if(te.wB(e.identifier,te.Ll))return;const{state:t,sectionID:n,rootItemID:i,parentItemID:r,itemID:s,metadataState:o,mediaState:a,type:l}=e,c=h.DB("appStore").dispatch,d=this.server.entityID(),u=Qs.nW(l),p=null==u?void 0:u.typeString,m=`${function(e){switch(e){case Qs.zg:return"/playlists";case Qs.du:return"/library/collections";default:return"/library/metadata"}}(p)}/${s}`,f=(0,X.Z)(ee.METADATA_ITEM,m,d);c(ag({serverEntityID:d,metadataItemEntityID:f,metadataState:o,mediaState:a})),t===Wg&&(c(sg({serverEntityID:d,metadataItemEntityID:f})),p===Qs.c5&&c(Vg({serverEntityID:d,albumMetadataItemEntityID:f}))),t===Yg&&c(og({serverEntityID:d,metadataItemEntityID:f})),t!==Hg&&t!==Yg||(n>0&&this.repopulateWithThrottle("section-"+n,(()=>{c((0,so.jR)({serverEntityID:d,containerKeyPattern:new RegExp("^"+(0,wc.Z)(`/library/sections/${n}`)+"\\b")}))}),am),i>0&&this.repopulateWithThrottle("metadata-"+i,(()=>{const e=`/library/metadata/${i}`,t=(0,X.Z)(ee.METADATA_ITEM,e,d);c((0,so.jR)({serverEntityID:d,metadataItemEntityID:t,rootMetadataKey:e}))}),am),r>0&&this.repopulateWithThrottle("metadata-"+r,(()=>{const e=`/library/metadata/${r}`,t=(0,X.Z)(ee.METADATA_ITEM,e,d);c((0,so.jR)({serverEntityID:d,metadataItemEntityID:t,parentMetadataKey:e}))}),am),p===Qs.zg&&c((0,so.jR)({serverEntityID:d,containerKeyPattern:new RegExp("^/playlists")}))),e.server=this.server,this.server.trigger("socket:timeline",e),g.Z.trigger("timeline",e)},[Bd.Q_](e){if(this.server.trigger("socket:status",e),"LIBRARY_UPDATE"===e.notificationName){const e=h.DB("appStore").dispatch,t=this.server.entityID();t&&(e(_h.Z.actions.libraryScanUpdated({server:zh(this.server)})),e((0,un.Vk)({serverEntityID:t})),e((0,un.tU)({serverEntityID:t})),e((0,so.jR)({serverEntityID:t})))}},[Bd.ad](e){this.server.trigger("socket:status",e)},[Bd.Z$](e){if(!e.sessionKey||!this.server.get("isFullOwnedServer"))return;const t=h.DB("appStore").dispatch;e.state===bg.Z.states.STOPPED?(t(Vh.Z.actions.sessionStopped({server:zh(this.server),sessionKey:e.sessionKey})),t((0,so.jR)({serverEntityID:this.server.entityID()}))):t(Vh.Z.actions.sessionChanged({server:zh(this.server),message:e}))},[Bd.cc](e){const t={server:this.server,onlyIfCached:!0},n=new Zp.Z({id:e.generatorID},t);y().isEmpty(n)||n.fetch()},[Bd.RN](e){const t={server:this.server,onlyIfCached:!0},n=new Zp.Z({id:e.generatorID},t);if(!y().isEmpty(n)){const t=n.get("children").getCollection().get(e.metadataItemID);t&&t.set({processingState:e.state,processingStateContext:e.stateContext})}},[Bd.ax](e){const t=new bp.Z([],{server:this.server,allowInCache:!0,onlyIfCached:!0});if(!y().isEmpty(t)){const e=t.first();e&&e.fetch()}},[Bd.a8](e){const t=h.DB("appStore").dispatch;this.server.get("isShared")||("static"===e.context?this.server.get("desktop").get("backgroundTranscodeJobs").fetch():t(Vh.Z.actions.fetchRequested({server:zh(this.server)})))},[Bd.VL](e){if(!this.server.get("isShared")&&"static"===e.context){const t=this.server.get("desktop").get("backgroundTranscodeJobs"),n=t.get(e.key);n?n.set(n.parse(e)):t.fetch()}},[Bd.Mu](e){this.server.get("isShared")||this["transcodeSession.start"].apply(this,arguments)},[Bd.TD](e){const t=this.server.get("desktop").get("update"),n=y().pick(e,Object.keys(Dp.prototype.syncedAttrs));y().defaults(n,y().result(t,"defaults")),t.get("state")===ji.DOWNLOADING&&n.state===ji.AVAILABLE&&(n.state=ji.DOWNLOADING),t.set(im(im({},n),{isChecking:!1}))},[Bd.lY](e){this.server.get("desktop").get("cloudAccount").fetch()},[Bd.yV](e){this.server.set("myPlexSubscription",e.hasPlexPass),h.DB("appModel").get("user").get("isSignedIn")&&g.Z.trigger("discover:servers")},[Bd.gk](e){const t=Qg(e),n=h.DB("appStore"),i=this.server.entityID(),r=t.Activity||t;if(r.Context=r.Context||{},r.Response=r.Response||{},i){const e=rm[t.event],s=sm[t.event];e&&n.dispatch(e({serverEntityID:i,activity:r})),s&&n.dispatch(s({server:zh(this.server),activity:r}))}},[Bd.u0](e){const t=h.DB("appStore"),n=this.server.entityID();n&&"appeared"===e.event&&t.dispatch((0,un.Hz)({serverEntityID:n,device:e.Device}))},[Bd.sU](){lm(this.server.entityID())},[Bd.wL](){lm(this.server.entityID())},[Bd.cK](){h.DB("appStore").dispatch((0,un.lm)({serverEntityID:this.server.entityID()}))}}),dm=Ll.Z.extend({name:"BaseAppModel",isStateTreeRoot:!0,constructor:function(){this._pendingEntities=[],this.listenTo(g.Z,"change:entity",this.onEntityChange),Ll.Z.prototype.constructor.apply(this,arguments)},initialize(){this._pendingEntities.forEach(this._addEntity.bind(this))},_addEntity({type:e,id:t,model:n}){this.get("entities").get(e).add({id:t,model:n},{merge:!0})},onEntityChange(e){this.has("entities")?this._addEntity(e):this._pendingEntities.push(e)}});var um=n(3305);var hm=n(9322),pm=n(87023),gm=n(42902);const mm=Ll.Z.extend({name:"ResourceModel",context:["server"],idAttribute:"clientIdentifier",urlRoot:"/api/v2/resources",syncedAttrs:{clientIdentifier:Ja.Z.string,name:Ja.Z.string,sourceTitle:Ja.Z.string,accessToken:Ja.Z.string,product:Ja.Z.string,productVersion:Ja.Z.string,platform:Ja.Z.string,platformVersion:Ja.Z.string,device:Ja.Z.string,provides:Ja.Z.list,owned:Ja.Z.boolean,home:Ja.Z.boolean,synced:Ja.Z.boolean,presence:Ja.Z.boolean,publicAddressMatches:Ja.Z.boolean,httpsRequired:Ja.Z.boolean,createdAt:Ja.Z.integer,lastSeenAt:Ja.Z.integer,ownerId:Ja.Z.integer},syncedRelations:{connections:{relationClass:hm.Z}},augmentResponse(e){"string"==typeof e.createdAt&&(e.createdAt=(0,gm.Z)(e.createdAt)),"string"==typeof e.lastSeenAt&&(e.lastSeenAt=(0,gm.Z)(e.lastSeenAt));const t=e.Device;return t?(t.connections=t.Connection,delete t.Connection,t):e}}),fm=kl.Z.extend({name:"ResourceCollection",model:mm,context:["server"],responseType:pm.AV,url(){const e={};return D.Z.allowHttpsMediaServerConnections&&(e.includeHttps=1),D.Z.allowMediaServerRelayConnections&&(e.includeRelay=1),D.Z.allowIPv6ServerConnections&&(e.includeIPv6=1),le.Z.join("/api/v2/resources",e)}}),{connectionTestResults:ym,promiseStates:vm}=Go.ZP,bm=Go.ZP.extend({name:"CloudServerModel",connectionTestUrl:(0,Pr.Y)("/monitoring/health"),sessionAttrs:{connectionTestResult:Ja.Z.oneOf(ym.PENDING,ym.CONNECTED,ym.UNAVAILABLE,ym.UNAUTHORIZED).isRequired,promiseState:Ja.Z.oneOf(vm.PENDING,vm.RESOLVED,vm.REJECTED).isRequired,isShared:Ja.Z.boolean.isRequired,isBundled:Ja.Z.boolean.isRequired,isCloud:Ja.Z.boolean.isRequired,isMerged:Ja.Z.boolean.isRequired,isDownForMaintenance:Ja.Z.boolean.isRequired,isResourcesPending:Ja.Z.boolean.isRequired,isResourcesPopulated:Ja.Z.boolean.isRequired,hasFailedResources:Ja.Z.boolean.isRequired,accessToken:Ja.Z.string,baseUrl:Ja.Z.string.isRequired,plexPassUrl:Ja.Z.string.isRequired,appsUrl:Ja.Z.string.isRequired,hasEventConnection:Ja.Z.boolean},sessionRelations:{activeConnection:{relationClass:Os.Z,deferred:!0},connections:{relationClass:hm.Z,options(){return{server:this}}},resources:{relationClass:fm,options(){return{server:this}}}},defaults(){const e=(0,Pr.Y)();return{connectionTestResult:ym.PENDING,promiseState:vm.PENDING,isShared:!1,isBundled:!1,isCloud:!0,isMerged:!1,isDownForMaintenance:!1,isResourcesPending:!1,isResourcesPopulated:!1,hasFailedResources:!1,friendlyName:"plex.tv",baseUrl:e,plexPassUrl:le.Z.join([e,"/subscription/about"]),appsUrl:le.Z.join([e,"/downloads"]),hasEventConnection:!1}},testAllConnections(){const e=this.get("connections");(0,x.Z)("[Connections] Testing all %s connection(s) for %s",e.length,this.get("debugName"));return function(e){if(!e.length)return s().Deferred().reject().promise();const t=s().Deferred();let n=e.length;return y().each(e,(function(e){e.done((function(){n--,t.resolveWith(this,arguments)})).fail((function(){n--,0===n&&t.reject()}))})),t.promise()}(e.map((e=>this.testConnection(e))))},testConnection(e){const t={server:this,connection:e,url:this.connectionTestUrl};return ce.Z.execute("testServerConnection",t).done(this.onConnectionTestSuccess.bind(this)).fail(this.onConnectionTestError.bind(this))},abortConnectionTest(e){const t={server:this,connection:e,url:this.connectionTestUrl};ce.Z.execute("abortServerConnectionTest",t)},deauthenticate(){this.get("resources").clear(),this._reject({connectionTestResult:this.get("connectionTestResult"),accessToken:null})},onConnectionTestSuccess(e){const t=this.get("connections").getBestConnection();x.Z.info("[Connections] Active connection to %s is %s",this.get("debugName"),t.id),this.startCapturingChangeEvents(),this.set({isDownForMaintenance:!1,connectionTestResult:ym.CONNECTED,activeConnection:t}),this.releaseCapturedChangeEvents()},onConnectionTestError(e,t){e.get("isAborted")||this.get("connections").hasOnlyFailedConnections()&&this._reject({isDownForMaintenance:503===t.status})}});(0,um.Z)(bm,(function(){return{relationClass:(0,h.DB)("CloudServerFlexModel"),options:{server:this}}}));const Zm=bm;var Sm=n(35084);function Im(e){return e.length?y().map(e,(e=>e.get("debugName"))).join(", "):"(none)"}const Mm=kl.Z.extend({mixins:[Sm.Z],name:"ServerCollection",model:Go.ZP,initialize(){this._resetPopulate()},comparator(e){const t=e.get("isShared"),n=e.get("friendlyName")||"",i=e.get("sourceTitle")||"",r=t?i+n:n;return e.get("isCloud")?"9":(t?"1":"0")+r.toLowerCase()},shouldWaitForInitialServers(){const e=this.filter((e=>(!e.id||!!e.get("resources"))&&e.isPopulating()));return!!e.length&&((0,x.Z)("[Servers] Waiting for initial servers =",Im(e)),!0)},shouldWaitForResources(){const e=this.reduce(((e,t)=>{const n=t.get("isResolved"),i=t.get("resources"),r=i&&i.isPopulating();return n&&r&&e.push(t),e}),[]);return!!e.length&&((0,x.Z)("[Servers] Waiting for additional resources from",Im(e)),!0)},shouldWaitForPendingServers(){if(this.findWhere({isConnected:!0}))return!1;const e=this.filter((e=>e.isPopulating()));return!!e.length&&((0,x.Z)("[Servers] Waiting for pending servers =",Im(e)),!0)},waitForServers(){this._resetPopulate()},foundAllServers(){const e=this.where({isConnected:!0}),t=Im(e);(0,x.Z)("[Servers] Found all servers =",t),e.length?this._resolvePopulate():this._rejectPopulate()},populateAnyServer(e=this.models){const t=s().Deferred(),n=e.slice(0),i=y().find(n,(e=>e.get("isCloud")?e.get("isResolved"):e.get("isConnected")));if(i)return(0,x.Z)("[Servers] Populate any server chose %s where servers = %s",i.get("debugName"),Im(n)),t.resolve(i).promise();if(this.hasOnlyRejectedServers(n))return t.reject().promise();function r(e,i){y().contains(n,e)&&i&&t.resolve(e)}function o(e,i){y().contains(n,e)&&i&&this.hasOnlyRejectedServers(n)&&t.reject()}return this.on({remove:function(e){const i=n.indexOf(e);i>-1&&(n.splice(i,1),this.hasOnlyRejectedServers(n)&&t.reject())},"change:isResolved":r,"change:isRejected":o},this),t.always((()=>{this.off("change:isResolved",r,this),this.off("change:isRejected",o,this)})),t.promise()},populateServer(e){return this.findServer(e,!0).then((e=>e.get("isConnected")&&!e.get("isCloud")?s().Deferred().resolve(e):e.populate()))},findServer(e,t){const n=y().isString(e),i=n?{machineIdentifier:e}:e,r=s().Deferred();if(n){const e=this.get(i.machineIdentifier);if(e&&e.get("isResolved"))return window.setTimeout(r.resolve.bind(r,e),0),r.promise()}const o=y().has(i,"machineIdentifier"),a="add "+y().map(y().keys(i),(e=>"change:"+e)).join(" ");let l;function c(){const e=this.filterServers(i,t);e?(l=e,e.done((t=>{l===e&&r.resolve(t)})),e.fail((()=>{l===e&&(o||!this.isPopulating()?r.reject():this.populate().always(c.bind(this)))}))):this.isPopulating()||r.reject()}return c.call(this),this.on(a,c,this),this.populate().always((()=>{l||r.reject()})),r.always((()=>{this.off(a,c,this)})),r.promise()},filterServers(e,t){const n=this.where(e);if(n.length)return t?this.populateAnyServer(n):s().Deferred().resolve(n[0]).promise()},hasOnlyRejectedServers(e=this.models){return y().every(e,(e=>e.get("isRejected")))},hasLoopbackServer(e=this.models){return!!y().find(e,(e=>{const t=e.get("activeConnection");return!!t&&t.get("isLoopback")}))}});var wm=Object.defineProperty,Pm=Object.prototype.hasOwnProperty,Cm=Object.getOwnPropertySymbols,Dm=Object.prototype.propertyIsEnumerable,Am=(e,t,n)=>t in e?wm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xm=(e,t)=>{for(var n in t||(t={}))Pm.call(t,n)&&Am(e,n,t[n]);if(Cm)for(var n of Cm(t))Dm.call(t,n)&&Am(e,n,t[n]);return e};const Em=Go.ZP.prototype.sessionAttrs,{isCloud:Tm}=Em,jm=((e,t)=>{var n={};for(var i in e)Pm.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Cm)for(var i of Cm(e))t.indexOf(i)<0&&Dm.call(e,i)&&(n[i]=e[i]);return n})(Em,["isCloud"]),Nm=Go.ZP.extend({name:"TransientServerModel",cache:null,persistInCache:!1,sessionAttrs:xm(xm({},jm),{isTransient:Ja.Z.boolean,originalMachineIdentifier:Ja.Z.string}),derivedAttrs:xm(xm({},Go.ZP.prototype.derivedAttrs),{isCloud(){return this.get("originalMachineIdentifier")===ne.X}}),defaults(){const e=Go.ZP.prototype.defaults.apply(this,arguments);return xm(xm({},e),{friendlyName:"Transient Server",isTransient:!0})},updateCacheKey(){},testConnection(e){if(this.get("originalMachineIdentifier")!==ne.X)return Go.ZP.prototype.testConnection.apply(this,arguments);e.set({testState:qu.nm}),this.onConnectionTestSuccess(e)}}),Om=Ll.Z.extend({name:"ProviderIntegrationModel",context:["server","provider"],rootPropertyName:"Integration",syncedAttrs:{id:Ja.Z.string.isRequired,status:Ja.Z.string.isRequired}}),km=kl.Z.extend({name:"ProviderIntegrationCollection",context:["server","provider"],url:"/integrations",responseType:pm.AV,model:Om}),Lm=Ll.Z.extend({name:"ProviderIntegrationsModel",sessionAttrs:{isIntegrationsOnboarding:Ja.Z.boolean.isRequired,isIntegrationsPending:Ja.Z.boolean.isRequired,isIntegrationsPopulated:Ja.Z.boolean.isRequired,integrationsError:Ja.Z.object},sessionRelations:{integrations:{relationClass:km,deferred:!0}},defaults:{isIntegrationsOnboarding:!1,isIntegrationsPending:!0,isIntegrationsPopulated:!1}});var Rm=n(29261),zm=n(42323);const Vm=Ll.Z.extend({name:"LiveTVSessionModel",context:["server","provider"],entityType:ee.LIVE_TV_SESSION,entityID(e=this.state){return(0,X.Z)(this.entityType,e.key||this.cid,this.server.entityID())},idAttribute:"key",rootPropertyName:"MediaSubscription",url(){return`/media/subscriptions/${this.get("key")}`},sessionAttrs:{dvrID:Ja.Z.integer,channelIdentifier:Ja.Z.string,channelCallSign:Ja.Z.string,channelTitle:Ja.Z.string,activityUUID:Ja.Z.string,currentPosition:Ja.Z.integer,nextPosition:Ja.Z.integer,lastSeekPosition:Ja.Z.integer,startedAt:Ja.Z.integer,captureBuffer:Ja.Z.object},syncedAttrs:{key:Ja.Z.string,type:Ja.Z.integer,title:Ja.Z.string},syncedRelations:{grabOperation:{relationClass:zm.Z,rootPropertyName:"MediaGrabOperation",deferred:!0},timeline:{relationClass:Rm.Z,rootPropertyName:"Timeline",deferred:!0}},sessionRelations:{airingMetadataItem:{relationClass:Mo.Z,deferred:!0},upNextMetadataItem:{relationClass:Mo.Z,deferred:!0}},defaults:{nextPosition:null,lastSeekPosition:null},augmentResponseText:(e,t)=>t===pm.Ls?(0,Gg.Z)(e):e,augmentResponse(e){const t=e[this.rootPropertyName]||e,n=t.Timeline;return n&&(t.Timeline=n.Metadata),e}}),_m="full",Um="mini",Bm=(0,Ps.Z)(),Fm=Ll.Z.extend({name:"PlayerModel",sessionAttrs:{serverEntityID:Ja.Z.string,providerEntityID:Ja.Z.string,playbackSessionID:Ja.Z.string,syncplaySessionRoomID:Ja.Z.string,isOpen:Ja.Z.boolean,previousOpenState:Ja.Z.oneOf(_m,Um),openState:Ja.Z.oneOf(_m,Um),isPlayQueueVisible:Ja.Z.boolean,isLyricsVisible:Ja.Z.boolean,isPostPlayVisible:Ja.Z.boolean,isSettingsVisible:Ja.Z.boolean,isChaptersVisible:Ja.Z.boolean,isSubtitlesOffsetSettingsVisible:Ja.Z.boolean,isWatchTogetherLobbyVisible:Ja.Z.boolean,isWatchTogetherParticipantsVisible:Ja.Z.boolean,confirmPlayerUpsellPayload:Ja.Z.object,confirmPlaybackPayload:Ja.Z.object,confirmOffsetPayload:Ja.Z.object,confirmRemoteToLocal:Ja.Z.boolean,confirmLocalToRemote:Ja.Z.oneOf(1,3,2).isRequired,decisions:Ja.Z.object.isRequired,currentDecision:Ja.Z.object,startMetadataItemEntityID:Ja.Z.string,startOffsetMilliseconds:Ja.Z.integer,startMediaIndex:Ja.Z.integer,positionSeconds:Ja.Z.integer,nextPositionSeconds:Ja.Z.integer,lastSeekPositionSeconds:Ja.Z.integer,durationSeconds:Ja.Z.integer,seekStartSeconds:Ja.Z.integer,seekEndSeconds:Ja.Z.integer,bandwidthTimeline:Ja.Z.object,lastInteractedAt:Ja.Z.integer,itemPlaybackTime:Ja.Z.integer,sessionPlaybackTime:Ja.Z.integer,playbackSpeed:Ja.Z.float,isPlayQueueLoading:Ja.Z.boolean.isRequired,isLiveTVTuning:Ja.Z.boolean.isRequired,isMediaLoading:Ja.Z.boolean.isRequired,isPostPlayLoading:Ja.Z.boolean.isRequired,isPaused:Ja.Z.boolean.isRequired,isBuffering:Ja.Z.boolean.isRequired,repeatAll:Ja.Z.boolean.isRequired,repeatOne:Ja.Z.boolean.isRequired,mediaIndex:Ja.Z.integer,partIndex:Ja.Z.integer,qualityIndex:Ja.Z.integer,availableQualities:Ja.Z.array.isRequired,controllable:Ja.Z.object,metricsPage:Ja.Z.string,metricsContextTuple:Ja.Z.array,metricsSetting:Ja.Z.string,metricsAutoPlay:Ja.Z.boolean,metricsPlayer:Ja.Z.oneOf("html","mpv","samsung_avplay","webmaf_video_player"),hasError:Ja.Z.boolean.isRequired,errorMessage:Ja.Z.string,errorCode:Ja.Z.string,errorCategory:Ja.Z.string,playbackStartTime:Ja.Z.integer,hasConflicts:Ja.Z.boolean.isRequired,isConflictCancelling:Ja.Z.boolean,cancelConflictError:Ja.Z.object,confirmLiveTVPlayback:Ja.Z.boolean.isRequired,adState:Ja.Z.string,adPositionSeconds:Ja.Z.integer,adDurationSeconds:Ja.Z.integer,adDisplayIndex:Ja.Z.integer,adDisplayTotal:Ja.Z.integer,adTimeOffsetSeconds:Ja.Z.oneOfType(Ja.Z.integer,Ja.Z.float),advertisingNoticePayload:Ja.Z.object,bufferedRanges:Ja.Z.array,canPlayThrough:Ja.Z.boolean,mediaWidth:Ja.Z.integer,mediaHeight:Ja.Z.integer},derivedAttrs:{isWatchTogether(){return!!this.get("syncplaySessionRoomID")}},sessionRelations:{playQueue:{relationClass:Ll.Z,deferred:!0},relatedHubs:{relationClass:lg.Z,deferred:!0},liveTVSession:{relationClass:Vm,deferred:!0}},defaults:()=>({playbackSessionID:Bm,playbackSpeed:1,isOpen:!1,isPlayQueueVisible:!1,isLyricsVisible:!1,isPostPlayVisible:!1,isSettingsVisible:!1,isChaptersVisible:!1,isSubtitlesOffsetSettingsVisible:!1,isWatchTogetherLobbyVisible:!1,isWatchTogetherParticipantsVisible:!1,confirmPlaybackPayload:null,confirmOffsetPayload:null,confirmRemoteToLocal:!1,confirmLocalToRemote:1,decisions:{},startMetadataItemEntityID:null,startOffsetMilliseconds:null,startMediaIndex:null,positionSeconds:0,nextPositionSeconds:null,lastSeekPositionSeconds:null,durationSeconds:0,seekStartSeconds:0,seekEndSeconds:0,itemPlaybackTime:0,sessionPlaybackTime:0,isPlayQueueLoading:!1,isLiveTVTuning:!1,isMediaLoading:!1,isPostPlayLoading:!1,isPaused:!1,isBuffering:!1,repeatAll:!1,repeatOne:!1,availableQualities:[],metricsAutoPlay:!1,hasError:!1,errorMessage:null,errorCode:null,errorCategory:null,playbackStartTime:null,hasConflicts:!1,isConflictCancelling:!1,cancelConflictError:null,confirmLiveTVPlayback:!1,adState:null,adPositionSeconds:null,adDurationSeconds:null,adDisplayIndex:null,adDisplayTotal:null,adTimeOffsetSeconds:null,advertisingNoticePayload:null,bufferedRanges:[],canPlayThrough:!1,mediaWidth:null,mediaHeight:null})}),Hm=Ll.Z.extend({name:"ProviderSettingsPageModel",context:["server","provider"],sessionAttrs:{isUpdatePending:Ja.Z.boolean,updateError:Ja.Z.object},defaults:{isUpdatePending:!1,updateError:null}}),Wm=Ll.Z.extend({name:"ServerLogPageModel",sessionAttrs:{logLines:Ja.Z.array.isRequired,unfilteredLogLinesCount:Ja.Z.integer.isRequired,filter:Ja.Z.string.isRequired,logLevels:Ja.Z.array.isRequired,highlightedLineIndex:Ja.Z.integer,timeFilterStart:Ja.Z.string.isRequired,timeFilterEnd:Ja.Z.string.isRequired,isTimeFilterStartValid:Ja.Z.boolean.isRequired,isTimeFilterEndValid:Ja.Z.boolean.isRequired,showTimeFilter:Ja.Z.boolean.isRequired,showRawText:Ja.Z.boolean.isRequired},defaults:()=>({logLines:[],unfilteredLogLinesCount:0,filter:"",logLevels:[],timeFilterStart:"",timeFilterEnd:"",isTimeFilterStartValid:!0,isTimeFilterEndValid:!0,showRawText:!1,showTimeFilter:!1})}),Ym=Ll.Z.extend({name:"AuthCodeExchangeModel",sessionAttrs:{code:Ja.Z.string,pinID:Ja.Z.integer,pinIDInitial:Ja.Z.integer,pinTimeout:Ja.Z.integer,authToken:Ja.Z.string,isBusy:Ja.Z.boolean.isRequired,errorMessage:Ja.Z.string,fatalErrorMessage:Ja.Z.string},defaults:{code:null,pinID:null,pinIDInitial:null,pinTimeout:null,authToken:null,isBusy:!1,errorMessage:null,fatalErrorMessage:null}});var Gm=n(60561);const qm=Ll.Z.extend({name:"BackgroundModel",sessionAttrs:{imageUrl:Ja.Z.string,themeMusicUrl:Ja.Z.string,allowBlur:Ja.Z.boolean,isBackgroundPending:Ja.Z.boolean},sessionRelations:{server:{relationClass:Go.ZP,deferred:!0},provider:{relationClass:Gm.Z,deferred:!0}},defaults:{allowBlur:!0,isBackgroundPending:!1}});var Qm=n(63489);const Km=Ll.Z.extend({name:"DVRSettingsUIModel",sessionAttrs:{isDvrsPending:Ja.Z.boolean,isDvrsPopulated:Ja.Z.boolean,dvrsError:Ja.Z.object,isUIPopulated:Ja.Z.boolean},sessionRelations:{dvrs:{relationClass:Qm.Z,deferred:!0}},defaults:{isDvrsPending:!1,isDvrsPopulated:!1,dvrsError:null,isUIPopulated:!1}}),$m=Ll.Z.extend({name:"DiscoverPageModel",sessionAttrs:{providerEntityID:Ja.Z.string,hubKey:Ja.Z.string,isHubsPending:Ja.Z.boolean.isRequired,isHubsPopulated:Ja.Z.boolean.isRequired,hubsError:Ja.Z.object,hubsTitle:Ja.Z.string,isPromotedHubsPending:Ja.Z.boolean.isRequired,isPromotedHubsPopulated:Ja.Z.boolean.isRequired,promotedHubsError:Ja.Z.object,knownPromotedHubCloudProviderIDs:Ja.Z.array.isRequired},sessionRelations:{hubs:{relationClass:lg.Z,deferred:!0},promotedHubs:{relationClass:lg.Z,deferred:!0}},defaults:()=>({isHubsPending:!0,isHubsPopulated:!1,hubsError:null,hubsTitle:null,isPromotedHubsPending:!0,isPromotedHubsPopulated:!1,promotedHubsError:null,knownPromotedHubCloudProviderIDs:[]})}),Jm=Ll.Z.extend({name:"DesktopUIModel",sessionRelations:{background:{relationClass:qm},authCodeExchange:{relationClass:Ym},discoverPage:{relationClass:$m},dvrSettingsUI:{relationClass:Km},photoPlayer:{relationClass:Fm},audioVideoPlayer:{relationClass:Fm},romPlayer:{relationClass:Fm},providerSettingsPage:{relationClass:Hm},serverLogPage:{relationClass:Wm},providerIntegrations:{relationClass:Lm}}});var Xm=n(95485);const ef=Ll.Z.extend({name:"AdConsentModel",context:["server"],url:"/api/v2/user/consent",responseType:pm.AV,syncedAttrs:{language:Ja.Z.string,remindAt:Ja.Z.integer,updatedAt:Ja.Z.integer,vendorListVersion:Ja.Z.integer,vendors:Ja.Z.array}}),tf=Ll.Z.extend({name:"GeoIPModel",context:["server"],url:"/api/v2/geoip",responseType:pm.AV,syncedAttrs:{european_union_member:Ja.Z.boolean}});var nf=n(65194),rf=n(71050),sf=n(36678),of=n(80441),af=Object.defineProperty,lf=Object.prototype.hasOwnProperty,cf=Object.getOwnPropertySymbols,df=Object.prototype.propertyIsEnumerable,uf=(e,t,n)=>t in e?af(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hf=(e,t)=>{for(var n in t||(t={}))lf.call(t,n)&&uf(e,n,t[n]);if(cf)for(var n of cf(t))df.call(t,n)&&uf(e,n,t[n]);return e};var pf,gf,mf,ff,yf,vf;(gf=pf||(pf={})).Empty="",gf.Unsubscribed="unsubscribed",gf.Active="active",gf.Error="error",gf.Removed="removed",(ff=mf||(mf={})).Active="active",ff.Canceled="canceled",ff.Ended="ended",ff.Inactive="inactive",ff.PendingCancellation="pending_cancellation",(vf=yf||(yf={})).Arcade="arcade",vf.PlexPass="plexpass",vf.Tidal="tidal";var bf=n(58726),Zf=n.n(bf);function Sf(e){return{type:Ja.Z.boolean,save(){return this.has(e)}}}function If(e){return{type:Ja.Z.queryString,separators:["|","&"],orFields:["contentRating","label"],andFields:["contentRating!","label!"],save(){return this.has(e)}}}const Mf={allowTuners:{type:Ja.Z.integer,save(){return this.has("allowTuners")}},allowSync:Sf("allowSync"),allowChannels:Sf("allowChannels"),filterMovies:If("filterMovies"),filterTelevision:If("filterTelevision"),filterMusic:If("filterMusic"),filterPhotos:If("filterPhotos")};var wf=n(77982);const Pf=Ll.Z.extend({name:"ServerShareLibraryModel",syncedAttrs:{id:Ja.Z.integer,key:Ja.Z.string,title:Ja.Z.string,type:Ja.Z.string}}),Cf=kl.Z.extend({name:"ServerShareLibraryCollection",context:["server"],model:Pf}),Df=Ll.Z.extend({name:"ServerShareSharingSettingsModel",syncedAttrs:Mf}),Af=Ll.Z.extend({name:"ServerShareModel2",context:["server"],mergeStrategy:wf.Z,responseType:pm.AV,urlRoot:"api/v2/shared_servers",syncedAttrs:{id:Ja.Z.integer,serverId:Ja.Z.integer,machineIdentifier:Ja.Z.string,name:Ja.Z.string,owned:Ja.Z.boolean,admin:Ja.Z.boolean,pending:Ja.Z.boolean,accepted:Ja.Z.boolean,ownerId:Ja.Z.integer,inviteToken:Ja.Z.string,invitedEmail:Ja.Z.string,invitedAt:Ja.Z.string,acceptedAt:Ja.Z.string,lastSeenAt:Ja.Z.string,deletedAt:Ja.Z.string,leftAt:Ja.Z.string,numLibraries:Ja.Z.integer,allLibraries:Ja.Z.boolean},syncedRelations:{libraries:{relationClass:Cf},sharingSettings:{relationClass:Df}}}),xf=kl.Z.extend({name:"ServerShareCollection2",context:["server"],model:Af});var Ef=Object.defineProperty,Tf=Object.prototype.hasOwnProperty,jf=Object.getOwnPropertySymbols,Nf=Object.prototype.propertyIsEnumerable,Of=(e,t,n)=>t in e?Ef(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const kf=Ll.Z.extend({name:"FriendModel2",context:["server"],rootPropertyName:"User",entityType:ee.FRIEND,entityID(e=this.state){return(0,X.Z)(this.entityType,e.id)},urlRoot(){return this.get("home")?"/api/users":"/api/friends"},sessionAttrs:{user:Ja.Z.string,isRemoving:Ja.Z.boolean},syncedAttrs:((e,t)=>{for(var n in t||(t={}))Tf.call(t,n)&&Of(e,n,t[n]);if(jf)for(var n of jf(t))Nf.call(t,n)&&Of(e,n,t[n]);return e})({id:Ja.Z.integer,home:Ja.Z.boolean,protected:Ja.Z.boolean,restricted:Ja.Z.boolean,title:Ja.Z.string,username:Ja.Z.string,email:Ja.Z.string,thumb:Ja.Z.string,recommendationsPlaylistId:Ja.Z.string},Mf),syncedRelations:{serverShares:{relationClass:xf,rootPropertyName:"Server"}},defaults:{isRemoving:!1}}),Lf=kl.Z.extend({name:"FriendCollection2",context:["server"],model:kf,url:"/api/users"}),Rf=Ll.Z.extend({name:"HomeDetailsModel",context:["server"],url:"/api/v2/home",responseType:pm.AV,sessionAttrs:{isTogglingGuestUser:Ja.Z.boolean},syncedAttrs:{id:Ja.Z.integer,guestUserID:Ja.Z.integer,guestEnabled:Ja.Z.boolean,subscription:Ja.Z.boolean,name:Ja.Z.string},defaults:{isTogglingGuestUser:!1}});var zf=n(24715),Vf=n(29242);const _f=Ll.Z.extend({name:"UserProfileModel",context:["server"],url:"/api/v2/user/profile",syncedAttrs:{autoSelectAudio:Ja.Z.boolean,autoSelectSubtitle:Ja.Z.integer,defaultAudioLanguage:Ja.Z.string,defaultSubtitleLanguage:Ja.Z.string,defaultSubtitleAccessibility:Ja.Z.integer,defaultSubtitleForced:Ja.Z.integer}});var Uf=n(71399),Bf=n(73172),Ff=n(35699);const Hf=kl.Z.extend({name:"UserSettingCollection",context:["server"],model:Ff.Z});var Wf=n(66124),Yf=Object.defineProperty,Gf=Object.prototype.hasOwnProperty,qf=Object.getOwnPropertySymbols,Qf=Object.prototype.propertyIsEnumerable,Kf=(e,t,n)=>t in e?Yf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$f=(e,t)=>{for(var n in t||(t={}))Gf.call(t,n)&&Kf(e,n,t[n]);if(qf)for(var n of qf(t))Qf.call(t,n)&&Kf(e,n,t[n]);return e};const Jf=Ll.Z.extend({mixins:[Sm.Z],name:"UserModel",context:["server"],url(){return le.Z.join("/api/v2/user",oa(this))},sessionAttrs:{isRemote:Ja.Z.boolean,isSignedIn:Ja.Z.boolean.isRequired,hasAttemptedSignIn:Ja.Z.boolean.isRequired,hasInvalidToken:Ja.Z.boolean.isRequired,hasInvalidAnonymousUserToken:Ja.Z.boolean.isRequired,lastPrimaryServerID:Ja.Z.string,homeUsers:Ja.Z.instanceOf(zf.Z).isRequired,isFeaturesPending:Ja.Z.boolean.isRequired,isFeaturesPopulated:Ja.Z.boolean.isRequired,featuresError:Ja.Z.object,isAllFriendsPending:Ja.Z.boolean.isRequired,isAllFriendsPopulated:Ja.Z.boolean.isRequired,allFriendsError:Ja.Z.object,isProvidersPending:Ja.Z.boolean.isRequired,isProvidersPopulated:Ja.Z.boolean.isRequired,providersError:Ja.Z.object},syncedAttrs:{id:Ja.Z.integer,uuid:Ja.Z.string,authToken:Ja.Z.string,anonymous:Ja.Z.boolean,username:Ja.Z.string,friendlyName:Ja.Z.string,email:Ja.Z.string,confirmed:Ja.Z.boolean,emailOnlyAuth:Ja.Z.boolean,title:Ja.Z.string,subscriptionDescription:Ja.Z.string,locale:Ja.Z.string,country:Ja.Z.string,thumb:Ja.Z.string,pin:Ja.Z.string,home:Ja.Z.boolean,restricted:Ja.Z.boolean,guest:Ja.Z.boolean,homeSize:Ja.Z.integer,maxHomeSize:Ja.Z.integer,queueUid:Ja.Z.string,queueEmail:Ja.Z.string,hasAllEntitlements:Ja.Z.boolean,mailingListActive:Ja.Z.boolean,experimentalFeatures:Ja.Z.boolean,hasPassword:Ja.Z.boolean,twoFactorEnabled:Ja.Z.boolean,mailingListStatus:Ja.Z.oneOf(pf.Empty,pf.Unsubscribed,pf.Active,pf.Error,pf.Removed),adsConsent:Ja.Z.boolean,adsConsentSetAt:Ja.Z.integer,adsConsentReminderAt:Ja.Z.integer},sessionRelations:{features:{relationClass:nf.Z},allFriends:{relationClass:Lf},providers:{relationClass:Xm.Z},homeDetails:{relationClass:Rf}},syncedRelations:{subscriptions:{relationClass:Wf.Z},pastSubscriptions:{relationClass:Wf.Z},roles:{relationClass:Uf.Z},entitlements:{relationClass:Vf.Z},settings:{relationClass:Hf},consent:{relationClass:ef},geo:{relationClass:tf},experienceSettings:()=>({relationClass:(0,h.DB)("UserExperienceSettingsModel")}),services:{relationClass:Bf.Z},profile:{relationClass:_f}},derivedAttrs:{isFullUser(){return!!this.get("username")||!!this.get("anonymous")},isEmployee(){return!!this.get("roles").get("employee")},isNinja(){return this.get("isEmployee")||!!this.get("roles").get("ninja")},hasPlexSubscription(){return this.get("subscriptions").some((e=>{const t=e.get("state");return t===rf.iN||t===rf.j5}))},hasPlexPass(){return this.get("subscriptions").some((e=>{const t=e.get("type"),n=e.get("state");return t===sf.G5&&(n===rf.iN||n===rf.j5)}))},canGoPremium(){const e=this.get("homeSize")>1,t=!1===this.get("homeDetails").get("subscription");return this.get("signedIn")&&!this.get("anonymous")&&!this.get("restricted")&&!this.get("hasPlexSubscription")&&(!e||t)},signedIn(){return this.get("isSignedIn")}},defaults(){const e={server:this.server,parent:this};return{id:0,isRemote:!1,isSignedIn:!1,hasAttemptedSignIn:!1,hasInvalidToken:!1,hasInvalidAnonymousUserToken:!1,hasPassword:!0,homeUsers:new zf.Z([],e),twoFactorEnabled:!1,isFeaturesPending:!0,isFeaturesPopulated:!1,featuresError:null,isAllFriendsPending:!0,isAllFriendsPopulated:!1,allFriendsError:null,isProvidersPending:!0,isProvidersPopulated:!1,providersError:null}},initialize(e,t){this._resetPopulate(),this.onHomeUsersChange(this,this.get("homeUsers")),this.on("change:homeUsers",this.onHomeUsersChange,this),this.listenTo(this.server,{"change:isConnected":this.onServerConnectedChange,"change:isUnavailable":this.onServerUnavailableChange})},uninitialize(){this.off("change:homeUsers",this.onHomeUsersChange,this),this.stopListening()},fetch(){return Xh.ZP.Model.prototype.fetch.apply(this,arguments)},augmentResponse(e={}){const t=e,{roles:n,entitlements:i,settings:r,providers:s,subscriptions:o,pastSubscriptions:a}=t,l=((e,t)=>{var n={};for(var i in e)Gf.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&qf)for(var i of qf(e))t.indexOf(i)<0&&Qf.call(e,i)&&(n[i]=e[i]);return n})(t,["roles","entitlements","settings","providers","subscriptions","pastSubscriptions"]);let c=r&&r.setting?r.setting:[];c=Array.isArray(c)?c:[c];const d=this.get("experienceSettings");let u=!1;const h=c.reduce(((e,t)=>(t.id===Vl.U?(u=!0,e.experienceSettings=$f($f({},(0,Oa.Z)(t.value)),{updatedAt:t.updatedAt})):e.settings.push(t),e)),{settings:[],experienceSettings:{}});return!u&&d&&(h.experienceSettings=d.toJSON({syncedOnly:!0})),l.gdprConsent&&(l.adsConsent=l.gdprConsent),l.gdprSetAt&&(l.adsConsentSetAt=l.gdprSetAt),l.gdprReminderAt&&(l.adsConsentReminderAt=l.gdprReminderAt),$f($f($f({},l),h),{roles:n&&n.role,hasAllEntitlements:i&&i.all,entitlements:i&&i.entitlement,services:s&&s.provider,subscriptions:o&&o.subscription,pastSubscriptions:a&&a.pastSubscription})},_getTokenPromise(){var e,t;return null==(t=null==(e=(0,h.DB)("appModel").get("ui"))?void 0:e.get("authCodeExchange"))||t.get("pinIDInitial"),(D.Z.allowSSO?this._getSSOThenStorageTokenPromise():this._getStorageTokenPromise()).then(null,(()=>(this.get("hasInvalidAnonymousUserToken"),this._getSkipAnonymousTokenPromise())))},_getSSOThenStorageTokenPromise(){const e=this._getStorageTokenPromise(),t=this._getSSOTokenPromise(),n=()=>this.get("anonymous")?((0,x.Z)("[User] SSO status is not available, try stored anonymous token"),e):((0,x.Z)("[User] SSO status is signed-out"),e.then((()=>(0,Mt.Z)(this.signOutDueToInvalidToken()))));return t.then((t=>t?(t=>e.then((e=>t===e?((0,x.Z)("[User] SSO status is signed-in, storage token matches SSO token"),t):((0,x.Z)(`[User] SSO status is signed-in, storage accessToken=${e} and SSO accessToken=${t} differ`),ce.Z.execute("resetUser").then((()=>{window.location.reload()})))),(()=>((0,x.Z)("[User] SSO status is signed-in, storage token is not present"),s().Deferred().resolve(t).promise()))))(t):n()),(()=>((0,x.Z)("[User] SSO status is not available"),e)))},_getStorageTokenPromise:()=>ye.Z.get("myPlexAccessToken"),_getSSOTokenPromise(){return ga(this.server.getXHROptions("/api/v2/users/signin",{method:"POST",xhrFields:{withCredentials:!0},data:{skipAuthentication:!0},dataType:"json"})).then((e=>e.authToken),(e=>e&&400===e.status?s().Deferred().resolve(null).promise():s().Deferred().reject().promise()))},_getSkipAnonymousTokenPromise:()=>((0,x.Z)("[User] Not attempting to create an anonymous token."),s().Deferred().reject().promise()),_getAnonymousTokenPromise(){const e=function(e,t){if(!t||!t.campaign)return e;return function(e,t){const{base:n,searchParams:i,hashPath:r,hashParams:s}=(0,kc.Z)(e),o=(0,Sd.Z)(i);return`${n}?${(0,of.Z)(hf(hf({},o),t))}${(r||s?"#":"")+r+s}`}(e,Object.keys(t.campaign).reduce(((e,n)=>(e[`utm_${n}`]=t.campaign[n],e)),{}))}("/api/v2/users/anonymous",(0,h.DB)("metrics").toJSON().context);return ga(this.server.getXHROptions(e,{method:"POST",dataType:"json"})).then((({authToken:e})=>((0,x.Z)("[User] Anonymous token promise succeeded, accessToken="+e),e)))},_getManualUserPromise(e){return s().ajax(this.server.getXHROptions(y().result(this,"url"),{headers:{"X-Plex-Token":e}}))},signInUnsupervised(){if(this._isSigningIn)return;this._isSigningIn=!0;const e=this._getTokenPromise();e.done((e=>{(0,x.Z)("[User] Token promise succeeded, accessToken="+e);const t=e?this._getManualUserPromise(e):s().Deferred().reject().promise();t.done((t=>{(0,x.Z)("[User] userPromise succeeded"),this.get("homeDetails").fetch({headers:{"X-Plex-Token":e}}).always((()=>{const e=this.parse(t);this.signIn(e),this._isSigningIn=!1}))})),t.fail((e=>{if((0,x.Z)("[User] userPromise failed"),e&&e.aborting)return this.set({hasAttemptedSignIn:!0}),void(this._isSigningIn=!1);!e||401!==e.status&&422!==e.status?this.signOut({hasAttemptedSignIn:!0,hasInvalidToken:!1,features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")}):this.get("anonymous")?((0,x.Z)("[User] userPromise failed for anonymous user due to invalid token."),this.signOutAnonymousUser()):((0,x.Z)("[User] userPromise failed due to invalid token."),this.signOutDueToInvalidToken()),this.server.testAllConnections(),this._isSigningIn=!1}))})),e.fail((()=>{(0,x.Z)("[User] tokenPromise failed"),this.signOut({hasAttemptedSignIn:!0,hasInvalidAnonymousUserToken:this.get("hasInvalidAnonymousUserToken"),features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")}),this._isSigningIn=!1}))},signIn(e,t={},n={}){const i=y().isString(e)?this.parse(e):e,r=i.authToken,s=$f($f({hasAttemptedSignIn:!0,isSignedIn:!0},i),t);return this._resolve(s,n),ye.Z.set("myPlexAccessToken",r)},signOut(e={}){return this._reject(e),s().Deferred().resolve().promise()},signOutAnonymousUser(){return At([this.signOut({hasAttemptedSignIn:!0,hasInvalidAnonymousUserToken:!0}),this.clearAccessToken()])},signOutDueToInvalidToken(){return At([this.signOut({hasAttemptedSignIn:!0,hasInvalidToken:!0}),this.clearAccessToken()])},activateStoredUser(e){Jo.Z.set("activeUserID",e)},clearAccessToken(){window.PLEXWEB&&window.PLEXWEB.myPlexAccessToken&&delete window.PLEXWEB.myPlexAccessToken;let e=ye.Z.remove("myPlexAccessToken");return e=e.then((()=>Jo.Z.clearActiveUser())),e},hashPIN(e,t=this.get("authToken")){return Zf().SHA256_hash(e+t)},hasEntitlement(e){const t=this.get("hasAllEntitlements"),n=this.get("entitlements");return!(!t&&!n.get(e))},hasHome(){return!!this.get("pin")||this.get("homeUsers").length>1},isFullUser(){return this.get("isFullUser")},isEmployee(){return this.get("isEmployee")},isNinja(){return this.get("isNinja")},_resolve(e,t={}){this.startCapturingChangeEvents(),this.activateStoredUser(e.id),this.set(e),this._resolvePopulate(),this.server.authenticate(e.authToken),t.silent?this.discardCapturedChangeEvents():this.releaseCapturedChangeEvents()},_reject(e,t={}){this.startCapturingChangeEvents(),this.restoreDefaults(e),this._rejectPopulate(),this.server.deauthenticate(),t.silent?this.discardCapturedChangeEvents():this.releaseCapturedChangeEvents()},onHomeUsersChange(e,t){const n=e.previous("homeUsers");n&&this.stopListening(n),this.listenTo(this.get("homeUsers"),"reset add remove",this.onHomeUsersUpdate)},onHomeUsersUpdate(){this.set("homeSize",this.get("homeUsers").length),this.get("homeDetails").fetch()},onServerConnectedChange(e,t){t&&this.signInUnsupervised()},onServerUnavailableChange(e,t){t&&this.signOut({features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")})}});(0,um.Z)(Jf,(function(){return{relationClass:(0,h.DB)("UserFlexModel")}}));const Xf=Jf,ey=[1,2,3,4],ty=(Nl().oneOf(ey),Ja.Z.oneOf(...ey));var ny=Object.defineProperty,iy=Object.prototype.hasOwnProperty,ry=Object.getOwnPropertySymbols,sy=Object.prototype.propertyIsEnumerable,oy=(e,t,n)=>t in e?ny(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ay=Ll.Z.extend({name:"EntityModel",sessionAttrs:{id:Ja.Z.string.isRequired},sessionRelations:{model:{relationClass:Ll.Z,deferred:!0}},toState(){const e=this.get("model"),t=((e,t)=>{for(var n in t||(t={}))iy.call(t,n)&&oy(e,n,t[n]);if(ry)for(var n of ry(t))sy.call(t,n)&&oy(e,n,t[n]);return e})({entityID:this.id},e.state);return Object.defineProperty(t,"possibleEntityContainers",{value:e.state.possibleEntityContainers,enumerable:!1}),t},shouldUpdateRelationState:function(){return!0}}),ly=kl.Z.extend({name:"EntityCollection",model:ay,toState(){const e=this.reduce(this.reduceState,{possibleEntityContainers:[]});return Object.defineProperty(e,"possibleEntityContainers",{enumerable:!1}),e},reduceState:(e,t)=>(e.possibleEntityContainers.push(t.id),e[t.id]=t.getState(),e)});var cy=n(28654),dy=n(81106),uy=n(83105),hy=n(78869),py=n(15875),gy=Object.defineProperty,my=Object.prototype.hasOwnProperty,fy=Object.getOwnPropertySymbols,yy=Object.prototype.propertyIsEnumerable,vy=(e,t,n)=>t in e?gy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const by={devices:[],isPending:!1,isPopulated:!1,error:null},Zy=(0,dy.oM)({name:"serverDevices",initialState:{},reducers:{populateRequested(e,t){},fetchRequested(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,py.er)(n)},fetchSucceeded(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,py.vv)(n),n.devices=t.data},fetchFailed(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,py.VQ)(n,t.error)}},extraReducers:e=>{e.addCase(_h.Z.actions.connected,((e,{payload:t})=>{const{server:n}=t;e[n.machineIdentifier]||(e[n.machineIdentifier]=((e,t)=>{for(var n in t||(t={}))my.call(t,n)&&vy(e,n,t[n]);if(fy)for(var n of fy(t))yy.call(t,n)&&vy(e,n,t[n]);return e})({},by))}))}});var Sy=Object.defineProperty,Iy=Object.prototype.hasOwnProperty,My=Object.getOwnPropertySymbols,wy=Object.prototype.propertyIsEnumerable,Py=(e,t,n)=>t in e?Sy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cy=(e,t)=>{for(var n in t||(t={}))Iy.call(t,n)&&Py(e,n,t[n]);if(My)for(var n of My(t))wy.call(t,n)&&Py(e,n,t[n]);return e};const Dy=(0,dy.oM)({name:"user",initialState:{isPopulated:!1,isPending:!1,error:null,details:{thumb:"",friendlyName:"",email:"",username:"",anonymous:!0,isFullUser:!1}},reducers:{fetchUserDetails(e,t){(0,py.er)(e)},fetchUserDetailsSucceeded(e,{payload:t}){(0,py.vv)(e),e.details=t.details},fetchUserDetailsFailed(e,{payload:t}){(0,py.VQ)(e,t.error)},updateUserDetails(e,t){(0,py.er)(e)},updateUserDetailsSucceeded(e,{payload:t}){(0,py.vv)(e),e.details=Cy(Cy({},e.details),t.details)},updateUserDetailsFailed(e,{payload:t}){(0,py.VQ)(e,t.error)},clearError(e,t){e.error=null},languageChanged(){}}}),Ay=(0,uy.UY)({user:Dy.reducer,serverAccounts:hy.Z.reducer,serverActivities:$g.Z.reducer,serverDevices:Zy.reducer,serverNowPlayingSessions:Vh.Z.reducer,servers:_h.Z.reducer});var xy=n(1104),Ey=n(66422),Ty=n(70653),jy=n(63082),Ny=n(63803);const Oy=(0,uy.UY)({bandwidth:xy.Z.reducer,playHistory:Ey.Z.reducer,resources:Ty.Z.reducer,topPlayed:jy.Z.reducer,topUsers:Ny.Z.reducer});var ky=n(26611),Ly=n(40477);const Ry=(0,uy.UY)({dvrSetup:ky.ZP.reducer,epgSettings:Ly.ZP.reducer});var zy=n(73720),Vy=n(32502);const _y=(0,uy.UY)({dashboard:Oy,dvrManagement:Ry,libraryManagement:zy.Z.reducer,livetv:Vy.Z.reducer}),Uy=(0,uy.UY)({core:Ay,features:_y}),By=(0,dy.PH)("v4/reset");var Fy=n(8515);function Hy(e,t,n,...i){return(0,_c.rM)((function*(){const r={};yield(0,_c.ib)(e,(function*(e){var s;const o=n(e);(null==(s=r[o])?void 0:s.isRunning())||(r[o]=yield(0,_c.rM)(t,e,...i),yield(0,_c.v_)(r[o]),r[o]&&!r[o].isRunning()&&delete r[o])}))}))}function*Wy({payload:e}){const{server:t}=e;try{(yield(0,_c.Ys)((0,Fy.Z)(t.machineIdentifier))).isPopulated||(yield(0,_c.gz)(hy.Z.actions.fetchRequested(e)))}catch(e){yield(0,_c.gz)(hy.Z.actions.fetchFailed({server:t,error:ud.toPlainErrorObject(e)}))}}function*Yy({payload:e}){var t,n;const{server:i}=e;try{const e=null!=(n=null==(t=(yield(0,_c.RE)(ud.get,"/accounts",{server:i})).data.MediaContainer)?void 0:t.Account)?n:[];yield(0,_c.gz)(hy.Z.actions.fetchSucceeded({server:i,data:e.filter((e=>e.name))}))}catch(e){yield(0,_c.gz)(hy.Z.actions.fetchFailed({server:i,error:ud.toPlainErrorObject(e)}))}}function*Gy(){yield Hy(hy.Z.actions.populateRequested,Wy,(({payload:e})=>e.server.machineIdentifier))}function*qy(){yield Hy(hy.Z.actions.fetchRequested,Yy,(({payload:e})=>e.server.machineIdentifier))}function*Qy(){yield(0,_c.$6)([(0,_c.rM)(Gy),(0,_c.rM)(qy)])}var Ky=n(94936);const $y=(0,n(19449).Z)((function(e){return(0,oe.P1)(Ky.Z,(t=>t.serverDevices[e]))}));function*Jy({payload:e}){const{server:t}=e;try{(yield(0,_c.Ys)($y(t.machineIdentifier))).isPopulated||(yield(0,_c.gz)(Zy.actions.fetchRequested(e)))}catch(e){yield(0,_c.gz)(Zy.actions.fetchFailed({server:t,error:ud.toPlainErrorObject(e)}))}}function*Xy({payload:e}){var t,n;const{server:i}=e;try{const e=yield(0,_c.RE)(ud.get,"/devices",{server:i});yield(0,_c.gz)(Zy.actions.fetchSucceeded({server:i,data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.Device)?n:[]}))}catch(e){yield(0,_c.gz)(Zy.actions.fetchFailed({server:i,error:ud.toPlainErrorObject(e)}))}}function*ev(){yield Hy(Zy.actions.populateRequested,Jy,(({payload:e})=>e.server.machineIdentifier))}function*tv(){yield Hy(Zy.actions.fetchRequested,Xy,(({payload:e})=>e.server.machineIdentifier))}function*nv(){yield(0,_c.$6)([(0,_c.rM)(ev),(0,_c.rM)(tv)])}var iv=n(48162),rv=n(50361),sv=n.n(rv);function ov(e){return(t,n,i)=>{const r=e(t[n],n);i?(t[i]=r,delete t[n]):t[n]=r}}const av=ov(((e,t)=>{const n=typeof e;if("string"===n||"number"===n)return Number(e);"undefined"!==n&&x.Z.warn(`normalizeAsNumber: returning undefined for type: ${n}, property: ${t}`)})),lv=ov(((e,t)=>{const n=typeof e;return"boolean"===n||"number"===n?Boolean(e):"string"===n?"1"===e:void("undefined"!==n&&x.Z.warn(`normalizeAsBoolean: returning undefined for type: ${n}, property: ${t}`))})),cv=ov(((e,t)=>{const n=typeof e;if(null!=e)return String(e);"undefined"!==n&&x.Z.warn(`normalizeAsNumber: returning undefined for type: ${n}, property: ${t}`)}));function dv(e){var t,n;const{data:i}=e;return(null!=(n=null==(t=i.MediaContainer)?void 0:t.Metadata)?n:[]).map((e=>{var t;const n=sv()(e);return av(n,"viewOffset"),av(n,"duration"),null==(t=n.Media)||t.forEach((e=>{var t;null==(t=e.Part)||t.forEach((e=>{var t;null==(t=e.Stream)||t.forEach((e=>{lv(e,"selected"),av(e,"streamType")}))}))})),n}))}function*uv({payload:e}){const{server:t}=e;try{const e=yield(0,_c.RE)(ud.get,"/status/sessions",{server:t});yield(0,_c.gz)(Vh.Z.actions.fetchSucceeded({server:t,data:dv(e)}))}catch(e){yield(0,_c.gz)(Vh.Z.actions.fetchFailed({server:t,error:ud.toPlainErrorObject(e)}))}}function*hv({payload:e}){const{server:t,message:n}=e;try{const e=(yield(0,_c.Ys)((0,iv.Z)(t.machineIdentifier))).sessionsByKey[n.sessionKey];e&&e.key===n.key||(yield(0,_c.gz)(Vh.Z.actions.fetchRequested({server:t})))}catch(e){yield(0,_c.gz)(Vh.Z.actions.stopFailed({server:t,error:ud.toPlainErrorObject(e)}))}}function*pv({payload:e}){const{server:t,session:n,reason:i}=e;try{yield(0,_c.RE)(ud.get,"/status/sessions/terminate",{server:t,params:{sessionId:n.Session.id,reason:i}})}catch(e){yield(0,_c.gz)(Vh.Z.actions.stopFailed({server:t,error:ud.toPlainErrorObject(e)}))}}function*gv(){yield Hy(Vh.Z.actions.fetchRequested,uv,(({payload:e})=>e.server.machineIdentifier))}function*mv(){yield Hy(Vh.Z.actions.sessionChanged,hv,(({payload:e})=>e.server.machineIdentifier))}function*fv(){yield(0,_c.ib)(Vh.Z.actions.stopRequested,pv)}function*yv(){yield(0,_c.$6)([(0,_c.rM)(gv),(0,_c.rM)(mv),(0,_c.rM)(fv)])}var vv=n(98589),bv=n(96486),Zv=Object.defineProperty,Sv=Object.prototype.hasOwnProperty,Iv=Object.getOwnPropertySymbols,Mv=Object.prototype.propertyIsEnumerable,wv=(e,t,n)=>t in e?Zv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pv=(e,t)=>{for(var n in t||(t={}))Sv.call(t,n)&&wv(e,n,t[n]);if(Iv)for(var n of Iv(t))Mv.call(t,n)&&wv(e,n,t[n]);return e};function Cv(e){(0,h.DB)("appStore").dispatch(e)}const Dv=function(e){return(0,_c.RE)(Cv,e)};function*Av({payload:e}){const{server:t}=e;try{const e=yield(0,_c.RE)(Ev,t);yield(0,_c.gz)(Dy.actions.fetchUserDetailsSucceeded({details:{thumb:e.thumb||"",friendlyName:e.friendlyName||"",email:e.email,username:e.username,anonymous:e.anonymous,isFullUser:!!e.username||!!e.anonymous}}))}catch(e){yield(0,_c.gz)(Dy.actions.fetchUserDetailsFailed({error:ud.toPlainErrorObject(e)}))}}function*xv({payload:e}){const{server:t,update:n}=e,i=new FormData;n.avatar&&i.append("avatar",(0,vv.Z)(n.avatar));const r=Object.entries(n).filter((([e])=>"avatar"!==e));try{yield(0,_c.RE)(ud.put,`/api/v2/user?${new URLSearchParams(r)}`,{server:t,headers:{accept:"application/json"}},i);const e=yield(0,_c.RE)(Ev,t);yield(0,_c.$6)([Dv((0,Ud.BT)()),(0,_c.gz)(Dy.actions.updateUserDetailsSucceeded({details:{friendlyName:e.friendlyName||"",thumb:e.thumb||""}}))])}catch(e){yield(0,_c.gz)(Dy.actions.updateUserDetailsFailed({error:ud.toPlainErrorObject(e)}))}}function*Ev(e){const{data:t}=yield(0,_c.RE)(ud.get,"/api/v2/user",{server:e,headers:{accept:"application/json"}});return Pv(Pv({},n=t),{friendlyName:n.friendlyName&&(0,bv.unescape)(n.friendlyName),title:n.title&&(0,bv.unescape)(n.title)});var n}function*Tv(){yield(0,_c.Fm)(Dy.actions.fetchUserDetails,Av)}function*jv(){yield(0,_c.Fm)(Dy.actions.updateUserDetails,xv)}function*Nv(){yield(0,_c.$6)([(0,_c.rM)(jv),(0,_c.rM)(Tv)])}function*Ov(){yield(0,_c.$6)([(0,_c.rM)(Nv),(0,_c.rM)(Qy),(0,_c.rM)(nv),(0,_c.rM)(yv)])}var kv=n(24831),Lv=n(56514);var Rv=n(97110);function*zv({payload:e}){var t,n;try{const i=Date.now(),r=yield(0,_c.RE)(ud.get,"/statistics/bandwidth",{server:e.server,params:{timespan:e.timespan,"at>":e.after}}),s=r.data.MediaContainer,o=r.headers.Date,a=o?(n=o,function(e=new Date){return new Date(e.getTime()+60*e.getTimezoneOffset()*1e3)}((0,Lv.Z)(n,"EEE, dd MMM yyyy HH:mm:ss 'GMT'",new Date)).getTime()):i;yield(0,_c.gz)(xy.Z.actions.bandwidthFetchSucceeded({data:null!=(t=null==s?void 0:s.StatisticsBandwidth)?t:[],requestTimestampMilliseconds:i,responseTimestampMilliseconds:a}))}catch(e){yield(0,_c.gz)(xy.Z.actions.bandwidthFetchFailed({error:ud.toPlainErrorObject(e)}))}}function*Vv({payload:e}){var t;try{const n=Date.now(),i=(yield(0,_c.RE)(ud.get,"/statistics/resources",{server:e.server,params:{timespan:(0,Rv.rG)(Rv.XH.RealTime)}})).data.MediaContainer;yield(0,_c.gz)(Ty.Z.actions.resourcesFetchSucceeded({data:null!=(t=null==i?void 0:i.StatisticsResources)?t:[],requestTimestampMilliseconds:n}))}catch(e){yield(0,_c.gz)(Ty.Z.actions.resourcesFetchFailed({error:ud.toPlainErrorObject(e)}))}}function*_v({payload:e}){var t,n;try{const i=(yield(0,_c.RE)(Fv,e)).data.MediaContainer;yield(0,_c.gz)(Ny.Z.actions.topUsersFetchSucceeded({data:{statistics:null!=(t=null==i?void 0:i.StatisticsMedia)?t:[],accounts:null!=(n=null==i?void 0:i.Account)?n:[]}}))}catch(e){yield(0,_c.gz)(Ny.Z.actions.topUsersFetchFailed({error:ud.toPlainErrorObject(e)}))}}function*Uv({payload:e}){var t,n;try{const i=(yield(0,_c.RE)(Fv,e)).data.MediaContainer;yield(0,_c.gz)(Ey.Z.actions.playHistoryFetchSucceeded({data:{statistics:null!=(t=null==i?void 0:i.StatisticsMedia)?t:[],accounts:null!=(n=null==i?void 0:i.Account)?n:[]}}))}catch(e){yield(0,_c.gz)(Ey.Z.actions.playHistoryFetchFailed({error:ud.toPlainErrorObject(e)}))}}function*Bv({payload:e}){var t,n,i,r,s,o,a,l;try{const[c,d,u,h]=yield(0,_c.$6)([(0,_c.RE)(Hv,e,kv.pG.Movie),(0,_c.RE)(Hv,e,kv.pG.Show),(0,_c.RE)(Hv,e,kv.pG.Artist),(0,_c.RE)(Hv,e,kv.pG.Game)]);yield(0,_c.gz)(jy.Z.actions.topPlayedFetchSucceeded({data:{moviesStatistics:null!=(n=null==(t=c.data.MediaContainer)?void 0:t.Metadata)?n:[],tvStatistics:null!=(r=null==(i=d.data.MediaContainer)?void 0:i.Metadata)?r:[],musicStatistics:null!=(o=null==(s=u.data.MediaContainer)?void 0:s.Metadata)?o:[],gameStatistics:null!=(l=null==(a=h.data.MediaContainer)?void 0:a.Metadata)?l:[]}}))}catch(e){yield(0,_c.gz)(jy.Z.actions.topPlayedFetchFailed({error:ud.toPlainErrorObject(e)}))}}function*Fv(e){return yield(0,_c.RE)(ud.get,"/statistics/media",{server:e.server,params:{timespan:e.timespan,"at>":e.after}})}function*Hv(e,t){return yield(0,_c.RE)(ud.get,"/library/all/top",{server:e.server,params:{accountID:e.accountID,type:Qs.nW(t).id,"viewedAt>":e.viewedAt,limit:e.limit}})}function*Wv(){for(;;){const e=yield(0,_c.Fm)(xy.Z.actions.bandwidthFetchRequested,zv);yield(0,_c.qn)([xy.Z.actions.reset,xy.Z.actions.bandwidthAbortRequested]),yield(0,_c.al)(e)}}function*Yv(){for(;;){const e=yield(0,_c.Fm)(Ty.Z.actions.resourcesFetchRequested,Vv);yield(0,_c.qn)(Ty.Z.actions.reset),yield(0,_c.al)(e)}}function*Gv(){for(;;){const e=yield(0,_c.A7)(Ny.Z.actions.topUsersFetchRequested,_v);yield(0,_c.qn)(Ny.Z.actions.reset),yield(0,_c.al)(e)}}function*qv(){for(;;){const e=yield(0,_c.A7)(Ey.Z.actions.playHistoryFetchRequested,Uv);yield(0,_c.qn)(Ey.Z.actions.reset),yield(0,_c.al)(e)}}function*Qv(){for(;;){const e=yield(0,_c.A7)(jy.Z.actions.topPlayedFetchRequested,Bv);yield(0,_c.qn)(jy.Z.actions.reset),yield(0,_c.al)(e)}}function*Kv(){yield(0,_c.$6)([(0,_c.rM)(Wv),(0,_c.rM)(Yv),(0,_c.rM)(Gv),(0,_c.rM)(qv),(0,_c.rM)(Qv)])}var $v=n(36023),Jv=n(73584),Xv=n(62096),eb=n(66233),tb=n(92899),nb=n(77686),ib=Object.defineProperty,rb=Object.prototype.hasOwnProperty,sb=Object.getOwnPropertySymbols,ob=Object.prototype.propertyIsEnumerable,ab=(e,t,n)=>t in e?ib(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lb=(e,t)=>{for(var n in t||(t={}))rb.call(t,n)&&ab(e,n,t[n]);if(sb)for(var n of sb(t))ob.call(t,n)&&ab(e,n,t[n]);return e};function cb(e){return(null!=e?e:[]).map((e=>e.enabled?(lv(e,"enabled"),e):lb(lb({},e),{enabled:!!e.lineupIdentifier})))}Object.keys;const db=Object.values;Object.entries;var ub,hb,pb=n(97156);function gb(e){var t,n;const i=sv()(e);return cv(i,"key"),cv(i,"source"),av(i,"tuners"),i.sources=null==(n=null==(t=e.sources)?void 0:t.split(","))?void 0:n.map((e=>{const t=db(nb.dd).find((t=>t===e));return(0,pb.Z)(t,`Unknown Media Grabber Device Source Type ${e}`),t})),i.ChannelMapping=cb(i.ChannelMapping),i}function mb({data:e}){var t;return(null!=(t=e.Device)?t:[]).map(gb)}function fb({data:e}){var t,n;const i=null==(t=e.Dvr)?void 0:t[0];if(!i)return;const r=sv()(i);return cv(r,"key"),r.Device=null==(n=null==i?void 0:i.Device)?void 0:n.map(gb),r}(hb=ub||(ub={})).Int="int",hb.Text="text",hb.Bool="bool",hb.Enum="enum",hb.Double="double";var yb=Object.prototype.hasOwnProperty,vb=Object.getOwnPropertySymbols,bb=Object.prototype.propertyIsEnumerable;function Zb(e,t){switch(e){case ub.Int:case ub.Enum:return Ms.Z.parseInteger(t);case ub.Bool:return Ms.Z.parseBoolean(t);case ub.Double:return Ms.Z.parseFloat(t);default:return t}}var Sb=Object.defineProperty,Ib=Object.prototype.hasOwnProperty,Mb=Object.getOwnPropertySymbols,wb=Object.prototype.propertyIsEnumerable,Pb=(e,t,n)=>t in e?Sb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cb=(e,t)=>{for(var n in t||(t={}))Ib.call(t,n)&&Pb(e,n,t[n]);if(Mb)for(var n of Mb(t))wb.call(t,n)&&Pb(e,n,t[n]);return e};function*Db({payload:e}){var t;const{server:n}=e;try{const e=yield(0,_c.RE)(ud.post,"/media/grabbers/devices/discover",{server:n,timeout:0});yield(0,_c.gz)(ky.ZP.actions.devicesDiscoverSucceeded({server:n,data:mb({server:n,data:null==(t=e.data)?void 0:t.MediaContainer})}))}catch(e){yield(0,_c.gz)(ky.ZP.actions.setupErrorMessageAdded({message:(0,E.Z)("There was a problem discovering devices")})),yield(0,_c.gz)(ky.ZP.actions.devicesDiscoverFailed({server:n,error:ud.toPlainErrorObject(e)}))}}function*Ab({payload:e}){var t;const{server:n}=e;try{const e=yield(0,_c.RE)(ud.get,"/media/grabbers/devices",{server:n});yield(0,_c.gz)(ky.ZP.actions.devicesFetchSucceeded({server:n,data:mb({server:n,data:null==(t=e.data)?void 0:t.MediaContainer})}))}catch(e){yield(0,_c.gz)(ky.ZP.actions.devicesFetchFailed({server:n,error:ud.toPlainErrorObject(e)}))}}function*xb({payload:e}){var t,n;const{server:i,deviceKey:r}=e;try{const e=yield(0,_c.RE)(ud.get,le.Z.join(["/media/grabbers/devices",r,"channels"]),{server:i});yield(0,_c.gz)(ky.ZP.actions.deviceChannelsFetchSucceeded({server:i,deviceKey:r,data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.DeviceChannel)?n:[]}))}catch(e){yield(0,_c.gz)(ky.ZP.actions.setupErrorMessageAdded({message:(0,E.Z)("There was a problem getting the channels for your device")})),yield(0,_c.gz)(ky.ZP.actions.deviceChannelsFetchFailed({deviceKey:r,error:ud.toPlainErrorObject(e)}))}}function*Eb({payload:e}){var t,n;const{server:i,deviceKey:r,source:s,prefs:o,network:a,country:l}=e;try{const e=yield(0,_c.RE)(ud.post,le.Z.join(["/media/grabbers/devices",r,"scan"]),{server:i,params:{source:s,prefs:o,network:a,country:l}});if(e.headers["x-plex-activity"])yield(0,_c.gz)(ky.ZP.actions.scanPrefsAndNetworksReset());else{const n=function({data:e}){var t;return(null!=(t=e.Setting)?t:[]).map((e=>{const t=e,{enumValues:n}=t,i=((e,t)=>{var n={};for(var i in e)yb.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&vb)for(var i of vb(e))t.indexOf(i)<0&&bb.call(e,i)&&(n[i]=e[i]);return n})(t,["enumValues"]);return i.default&&(i.default=Zb(i.type,i.default)),i.value=Zb(i.type,i.value),lv(i,"advanced"),lv(i,"hidden"),n&&(i.enumValues=n.split("|").map((e=>{const[t,n=t]=e.split(":");return{label:decodeURIComponent(n),value:Zb(i.type,t)}}))),i}))}({server:i,data:null==(t=e.data)?void 0:t.MediaContainer});(null==n?void 0:n.length)&&(yield(0,_c.gz)(ky.ZP.actions.scanPrefsAdded({settings:n})))}}catch(e){const t=ud.toPlainErrorObject(e);yield(0,_c.gz)(ky.ZP.actions.setupErrorMessageAdded({message:null!=(n=null==t?void 0:t.message)?n:(0,E.Z)("There was a problem scanning channels")})),yield(0,_c.gz)(ky.ZP.actions.deviceChannelsScanFailed())}}function*Tb({payload:e}){const{server:t,deviceKey:n}=e;try{yield(0,_c.RE)(ud.del,le.Z.join(["/media/grabbers/devices",n,"scan"]),{server:t})}catch(e){yield(0,_c.gz)(ky.ZP.actions.setupErrorMessageAdded({message:(0,E.Z)("There was a problem canceling the current channel scan")})),yield(0,_c.gz)(ky.ZP.actions.deviceChannelsCancelScanFailed())}}function*jb({payload:e}){const{server:t,deviceKey:n,mappings:i}=e;try{const e=yield(0,_c.Ys)((0,Jv.Z)(n)),r=[],s={};Object.values(i).forEach((({key:t,channelKey:n,lineupIdentifier:i,enabled:o})=>{const a=e.channels.find((e=>e.identifier===t)),l=null==a?void 0:a.drm;o&&n&&i&&!l&&(r.push(t),s[`channelMappingByKey[${t}]`]=n,s[`channelMapping[${t}]`]=i)})),yield(0,_c.RE)(ud.put,le.Z.join(["/media/grabbers/devices",n,"channelmap"]),{server:t,params:Cb({channelsEnabled:r.toString()},s)}),yield(0,_c.gz)(ky.ZP.actions.deviceChannelMappingsSaveSucceeded())}catch(e){yield(0,_c.gz)(ky.ZP.actions.deviceChannelMappingsSaveFailed({error:ud.toPlainErrorObject(e)}))}}function*Nb({payload:e}){const{server:t,deviceKey:n,enabled:i,title:r}=e;try{yield(0,_c.RE)(ud.put,le.Z.join(["/media/grabbers/devices",n]),{server:t,params:{title:r,enabled:i?1:0}}),yield(0,_c.gz)(ky.ZP.actions.deviceEnableSucceeded({deviceKey:n,enabled:i}))}catch(e){yield(0,_c.gz)(ky.ZP.actions.deviceEnableFailed())}}function*Ob({payload:e}){var t;const{server:n,uri:i}=e;let r=(0,E.Z)("There was a problem adding the device: {1}",i);try{const e=mb({server:n,data:null==(t=(yield(0,_c.RE)(ud.post,"/media/grabbers/tv.plex.grabbers.hdhomerun/devices",{server:n,params:{uri:i}})).data)?void 0:t.MediaContainer});if(0===e.length)throw r=(0,E.Z)("No device found at {1}",i),new Error;yield(0,_c.gz)(ky.ZP.actions.deviceAddSucceeded({server:n,data:e[0]}))}catch(e){yield(0,_c.gz)(ky.ZP.actions.setupErrorMessageAdded({message:r})),yield(0,_c.gz)(ky.ZP.actions.deviceAddFailed({server:n,error:ud.toPlainErrorObject(e)}))}}function*kb({payload:e}){var t;const{server:n,dvrID:i}=e;try{const e=i?le.Z.join(["/livetv/dvrs",i]):"/livetv/dvrs",r=yield(0,_c.RE)(ud.get,e,{server:n});yield(0,_c.gz)(ky.ZP.actions.dvrFetchSucceeded({dvr:fb({server:n,data:null==(t=r.data)?void 0:t.MediaContainer})}))}catch(e){yield(0,_c.gz)(ky.ZP.actions.dvrFetchFailed({error:ud.toPlainErrorObject(e)}))}}function*Lb({payload:e}){var t;const{server:n,device:i,channelMappings:r}=e,s=yield(0,_c.Ys)(tb.Z);try{const{success:e,failure:o}=yield(0,_c.RE)(Ub,n,i.key,r,s);if(o)throw new Error;if(e){const{selectedCountry:e,selectedLanguage:r}=yield(0,_c.Ys)(eb.Z),o=yield(0,_c.RE)(ud.post,"/livetv/dvrs",{server:n,params:{device:i.uuid,lineup:null==s?void 0:s.map((e=>e.uuid)),language:null==r?void 0:r.code,country:null==e?void 0:e.code}});yield(0,_c.gz)(ky.ZP.actions.dvrSaveSucceeded({activityUUID:o.headers["x-plex-activity"],dvr:fb({server:n,data:null==(t=o.data)?void 0:t.MediaContainer})})),yield(0,_c.gz)(ky.ZP.actions.devicesFetchRequested({server:n})),yield Dv((0,$v.oP)({serverEntityID:n.entityID}))}}catch(e){yield(0,_c.gz)(ky.ZP.actions.setupErrorMessageAdded({message:(0,E.Z)("There was a problem saving your DVR. Please try again.")})),yield(0,_c.gz)(ky.ZP.actions.dvrSaveFailed({error:ud.toPlainErrorObject(e)}))}}function*Rb({payload:e}){const{server:t,dvrID:n}=e;try{yield(0,_c.RE)(ud.del,le.Z.join(["/livetv/dvrs",n]),{server:t,timeout:0}),yield(0,_c.gz)(ky.ZP.actions.dvrDeleteSucceeded())}catch(e){yield Dv((0,so.wp)((0,E.Z)("There was a problem removing your DVR")))}}function*zb({payload:e}){var t;const{server:n,dvrID:i,deviceKey:r,channelMappings:s}=e,o=yield(0,_c.Ys)(tb.Z);try{const{success:e,failure:a}=yield(0,_c.RE)(Ub,n,r,s,o);if(a)throw new Error;if(e){yield(0,_c.RE)(_b,n,i,o);const e=yield(0,_c.RE)(ud.put,le.Z.join(["/livetv/dvrs",i,"devices",r]),{server:n});yield(0,_c.gz)(ky.ZP.actions.addDVRDeviceSucceeded({activityUUID:e.headers["x-plex-activity"],dvr:fb({server:n,data:null==(t=e.data)?void 0:t.MediaContainer})})),yield(0,_c.gz)(ky.ZP.actions.devicesFetchRequested({server:n})),yield Dv((0,$v.oP)({serverEntityID:n.entityID}))}}catch(e){yield(0,_c.gz)(ky.ZP.actions.setupErrorMessageAdded({message:(0,E.Z)("There was a problem adding a new device to your DVR. Please try again.")})),yield(0,_c.gz)(ky.ZP.actions.addDVRDeviceFailed({error:ud.toPlainErrorObject(e)}))}}function*Vb({payload:e}){const{server:t,dvrID:n,deviceKey:i}=e;try{yield(0,_c.RE)(ud.del,le.Z.join(["/livetv/dvrs",n,"devices",i]),{server:t}),yield(0,_c.gz)(ky.ZP.actions.removeDVRDeviceSucceeded({deviceKey:i}))}catch(e){yield Dv((0,so.wp)((0,E.Z)("There was a problem removing a DVR device"))),yield(0,_c.gz)(ky.ZP.actions.removeDVRDeviceFailed())}}function*_b(e,t,n){var i;const{selectedDVR:r}=yield(0,_c.Ys)(Xv.Z);let s=n;(null==(i=r.dvr)?void 0:i.Lineup)&&(s=s.filter((e=>{var t,n;return!(null==(n=null==(t=r.dvr)?void 0:t.Lineup)?void 0:n.find((t=>t.id===e.uuid)))}))),yield(0,_c.$6)(s.map((n=>(0,_c.RE)(ud.put,le.Z.join(["/livetv/dvrs",t,"lineups"]),{server:e,params:{lineup:n.uuid}}))))}function*Ub(e,t,n,i){var r;return yield(0,_c.gz)(ky.ZP.actions.deviceChannelMappingsSaveRequested({server:e,deviceKey:t,mappings:n})),yield(0,_c.gz)(ky.ZP.actions.deviceEnableRequested({server:e,deviceKey:t,enabled:!0,title:null==(r=null==i?void 0:i[0])?void 0:r.title})),yield(0,_c.S3)({success:(0,_c.$6)([(0,_c.qn)(ky.ZP.actions.deviceChannelMappingsSaveSucceeded),(0,_c.qn)(ky.ZP.actions.deviceEnableSucceeded)]),failure:(0,_c.S3)([(0,_c.qn)(ky.ZP.actions.deviceChannelMappingsSaveFailed),(0,_c.qn)(ky.ZP.actions.deviceEnableFailed)])})}function*Bb(){for(;;){const e=yield(0,_c.A7)(ky.ZP.actions.devicesDiscoverRequested,Db);yield(0,_c.qn)(ky.ZP.actions.reset),yield(0,_c.al)(e)}}function*Fb(){for(;;){const e=yield(0,_c.A7)(ky.ZP.actions.devicesFetchRequested,Ab);yield(0,_c.qn)(ky.ZP.actions.reset),yield(0,_c.al)(e)}}function*Hb(){for(;;){const e=yield Hy(ky.ZP.actions.deviceChannelsFetchRequested,xb,(({payload:e})=>e.deviceKey));yield(0,_c.qn)(ky.ZP.actions.reset),yield(0,_c.al)(e)}}function*Wb(){for(;;){const e=yield Hy(ky.ZP.actions.deviceChannelsScanRequested,Eb,(({payload:e})=>e.deviceKey));yield(0,_c.qn)(ky.ZP.actions.reset),yield(0,_c.al)(e)}}function*Yb(){for(;;){const e=yield Hy(ky.ZP.actions.deviceChannelsCancelScanRequested,Tb,(({payload:e})=>e.deviceKey));yield(0,_c.qn)(ky.ZP.actions.reset),yield(0,_c.al)(e)}}function*Gb(){for(;;){const e=yield Hy(ky.ZP.actions.deviceChannelMappingsSaveRequested,jb,(({payload:e})=>e.deviceKey));yield(0,_c.qn)(ky.ZP.actions.reset),yield(0,_c.al)(e)}}function*qb(){for(;;){const e=yield Hy(ky.ZP.actions.deviceEnableRequested,Nb,(({payload:e})=>e.deviceKey));yield(0,_c.qn)(ky.ZP.actions.reset),yield(0,_c.al)(e)}}function*Qb(){for(;;){const e=yield(0,_c.A7)(ky.ZP.actions.dvrFetchRequested,kb);yield(0,_c.qn)(ky.ZP.actions.reset),yield(0,_c.al)(e)}}function*Kb(){for(;;){const e=yield(0,_c.A7)(ky.ZP.actions.deviceAddRequested,Ob);yield(0,_c.qn)(ky.ZP.actions.reset),yield(0,_c.al)(e)}}function*$b(){for(;;){const e=yield(0,_c.A7)(ky.ZP.actions.dvrSaveRequested,Lb);yield(0,_c.qn)(ky.ZP.actions.reset),yield(0,_c.al)(e)}}function*Jb(){for(;;){const e=yield(0,_c.A7)(ky.ZP.actions.dvrDeleteRequested,Rb);yield(0,_c.qn)(ky.ZP.actions.reset),yield(0,_c.al)(e)}}function*Xb(){for(;;){const e=yield(0,_c.A7)(ky.ZP.actions.addDVRDeviceRequested,zb);yield(0,_c.qn)(ky.ZP.actions.reset),yield(0,_c.al)(e)}}function*eZ(){for(;;){const e=yield(0,_c.A7)(ky.ZP.actions.removeDVRDeviceRequested,Vb);yield(0,_c.qn)(ky.ZP.actions.reset),yield(0,_c.al)(e)}}function*tZ(){yield(0,_c.$6)([(0,_c.rM)(Bb),(0,_c.rM)(Fb),(0,_c.rM)(Hb),(0,_c.rM)(Wb),(0,_c.rM)(Yb),(0,_c.rM)(Gb),(0,_c.rM)(qb),(0,_c.rM)(Kb),(0,_c.rM)(Qb),(0,_c.rM)($b),(0,_c.rM)(Jb),(0,_c.rM)(Xb),(0,_c.rM)(eZ)])}var nZ=Object.defineProperty,iZ=Object.prototype.hasOwnProperty,rZ=Object.getOwnPropertySymbols,sZ=Object.prototype.propertyIsEnumerable,oZ=(e,t,n)=>t in e?nZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aZ=(e,t)=>{for(var n in t||(t={}))iZ.call(t,n)&&oZ(e,n,t[n]);if(rZ)for(var n of rZ(t))sZ.call(t,n)&&oZ(e,n,t[n]);return e};function*lZ({payload:e}){var t,n,i;const{server:r,device:s,lineups:o}=e,a=o.map((e=>e.uuid));try{const e=yield(0,_c.RE)(fZ,r,a),t=cb((yield(0,_c.RE)(ud.get,"/livetv/epg/channelmap",{server:r,params:{device:s.uuid,lineup:a}})).data.MediaContainer.ChannelMapping);yield(0,_c.gz)(Ly.ZP.actions.channelMappingsFetchSucceeded({channelMappings:t,lineupChannels:e}))}catch(e){yield(0,_c.gz)(Ly.ZP.actions.channelMappingsFetchFailed({error:ud.toPlainErrorObject(e)}));let r=(0,E.Z)("There was a problem fetching channel mappings. Please try again later.");(null==(i=null==(n=null==(t=e.response)?void 0:t.data)?void 0:n.MediaContainer)?void 0:i.message)&&(r=e.response.data.MediaContainer.message),yield(0,_c.gz)(ky.ZP.actions.setupErrorMessageAdded({message:r}))}}function*cZ({payload:e}){const{server:t,device:n,lineupGroup:i}=e;try{yield(0,_c.gz)(ky.ZP.actions.setupErrorMessageRemoved());const e=yield(0,_c.RE)(ud.get,le.Z.join("/livetv/epg/lineup",{device:n.uuid,lineupGroup:i.uuid}),{server:t});yield(0,_c.gz)(Ly.ZP.actions.bestEPGLineupSearchSucceeded({lineupGroup:i,data:e.headers["x-plex-activity"]}))}catch(e){yield(0,_c.gz)(ky.ZP.actions.setupErrorMessageAdded({message:(0,E.Z)("There was a problem mapping channels")}))}}function*dZ({payload:e}){var t,n;const{server:i}=e;try{const e=yield(0,_c.RE)(ud.get,"/livetv/epg/countries",{server:i});yield(0,_c.gz)(Ly.ZP.actions.epgCountriesFetchSucceeded({server:i,data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.Country)?n:[]}))}catch(e){yield(0,_c.gz)(Ly.ZP.actions.epgCountriesFetchFailed({error:ud.toPlainErrorObject(e)}))}}function*uZ({payload:e}){var t,n;const{server:i,country:r}=e;try{const e=yield(0,_c.RE)(ud.get,le.Z.join(["/livetv/epg/countries",r.key,"regions"]),{server:i});yield(0,_c.gz)(Ly.ZP.actions.epgCountryRegionsFetchSucceeded({data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.Region)?n:[]}))}catch(e){yield(0,_c.gz)(Ly.ZP.actions.epgCountryRegionsFetchFailed({error:ud.toPlainErrorObject(e)}))}}function*hZ({payload:e}){var t,n;const{server:i}=e;try{const e=yield(0,_c.RE)(ud.get,"/livetv/epg/languages",{server:i});yield(0,_c.gz)(Ly.ZP.actions.epgLanguagesFetchSucceeded({data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.Language)?n:[]}))}catch(e){yield(0,_c.gz)(Ly.ZP.actions.epgLanguagesFetchFailed({error:ud.toPlainErrorObject(e)}))}}function*pZ({payload:e}){var t,n;const{server:i,country:r,region:s,postalCode:o}=e,a=["/livetv/epg/countries",r.key],l={};r.flavor===nb.Y_.Regions&&s?a.push(s.key):l.postalCode=o;const c=le.Z.join(a,l);try{const e=yield(0,_c.RE)(ud.get,c,{server:i}),{MediaContainer:r}=e.data;yield(0,_c.gz)(Ly.ZP.actions.epgLineupGroupFetchSucceeded({data:{uuid:null!=(t=null==r?void 0:r.uuid)?t:"",epgLineups:null!=(n=null==r?void 0:r.Lineup)?n:[]}}))}catch(e){yield(0,_c.gz)(Ly.ZP.actions.epgLineupGroupFetchFailed({error:ud.toPlainErrorObject(e)}))}}function*gZ({payload:e}){(yield(0,_c.Ys)(eb.Z)).selectedLineupGroups.find((t=>t.uuid===e.lineupGroup.uuid))?yield(0,_c.gz)(ky.ZP.actions.setupErrorMessageAdded({message:(0,E.Z)("It looks like you have already set up a lineup for this location.")})):yield(0,_c.gz)(Ly.ZP.actions.selectedEPGLineupGroupAddSucceeded({lineupGroup:e.lineupGroup}))}function*mZ({payload:e}){var t;const{server:n}=e;try{const{selectedDVR:e}=yield(0,_c.Ys)(Xv.Z);if(!(null==(t=null==e?void 0:e.dvr)?void 0:t.Lineup))throw new Error("No available DVR lineups to fetch");const i=e.dvr.Lineup.map((e=>e.id)),r=yield(0,_c.RE)(fZ,n,i);yield(0,_c.gz)(Ly.ZP.actions.selectedDVRLineupChannelsFetchSucceeded({lineupChannels:r}))}catch(e){yield(0,_c.gz)(Ly.ZP.actions.selectedDVRLineupChannelsFetchFailed({error:ud.toPlainErrorObject(e)}))}}function*fZ(e,t){return function({data:e}){var t;const n=null!=(t=e.Lineup)?t:[];return n.forEach((e=>{var t;e.Channel=null==(t=e.Channel)?void 0:t.map((t=>aZ(aZ({},t),{lineupUUID:e.uuid})))})),n}({server:e,data:(yield(0,_c.RE)(ud.get,"/livetv/epg/lineupchannels",{server:e,params:{lineup:t}})).data.MediaContainer})}function*yZ(){for(;;){const e=yield(0,_c.A7)(Ly.ZP.actions.channelMappingsFetchRequested,lZ);yield(0,_c.qn)(Ly.ZP.actions.reset),yield(0,_c.al)(e)}}function*vZ(){for(;;){const e=yield(0,_c.A7)(Ly.ZP.actions.bestEPGLineupSearchRequested,cZ);yield(0,_c.qn)(Ly.ZP.actions.reset),yield(0,_c.al)(e)}}function*bZ(){for(;;){const e=yield(0,_c.A7)(Ly.ZP.actions.epgCountriesFetchRequested,dZ);yield(0,_c.qn)(Ly.ZP.actions.reset),yield(0,_c.al)(e)}}function*ZZ(){for(;;){const e=yield(0,_c.A7)(Ly.ZP.actions.epgCountryRegionsFetchRequested,uZ);yield(0,_c.qn)(Ly.ZP.actions.reset),yield(0,_c.al)(e)}}function*SZ(){for(;;){const e=yield(0,_c.A7)(Ly.ZP.actions.epgLanguagesFetchRequested,hZ);yield(0,_c.qn)(Ly.ZP.actions.reset),yield(0,_c.al)(e)}}function*IZ(){for(;;){const e=yield(0,_c.A7)(Ly.ZP.actions.epgLineupGroupFetchRequested,pZ);yield(0,_c.qn)(Ly.ZP.actions.reset),yield(0,_c.al)(e)}}function*MZ(){for(;;){const e=yield(0,_c.A7)(Ly.ZP.actions.selectedEPGLineupGroupAddRequested,gZ);yield(0,_c.qn)(Ly.ZP.actions.reset),yield(0,_c.al)(e)}}function*wZ(){for(;;){const e=yield(0,_c.A7)(Ly.ZP.actions.selectedDVRLineupChannelsFetchRequested,mZ);yield(0,_c.qn)(Ly.ZP.actions.reset),yield(0,_c.al)(e)}}function*PZ(){yield(0,_c.$6)([(0,_c.rM)(yZ),(0,_c.rM)(vZ),(0,_c.rM)(bZ),(0,_c.rM)(ZZ),(0,_c.rM)(SZ),(0,_c.rM)(IZ),(0,_c.rM)(MZ),(0,_c.rM)(wZ)])}function*CZ(){yield(0,_c.$6)([(0,_c.rM)(tZ),(0,_c.rM)(PZ)])}var DZ=n(38744),AZ=n(65754),xZ=Object.defineProperty,EZ=Object.prototype.hasOwnProperty,TZ=Object.getOwnPropertySymbols,jZ=Object.prototype.propertyIsEnumerable,NZ=(e,t,n)=>t in e?xZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OZ=(e,t)=>{for(var n in t||(t={}))EZ.call(t,n)&&NZ(e,n,t[n]);if(TZ)for(var n of TZ(t))jZ.call(t,n)&&NZ(e,n,t[n]);return e};const kZ="MergedRecentlyAdded";function*LZ({payload:e}){var t,n;const{server:i}=e;try{const e=null==(n=null==(t=(yield(0,_c.RE)(ud.get,":/prefs/get",{server:i,params:{id:kZ}})).data.MediaContainer.Setting)?void 0:t[0])?void 0:n.value;yield(0,_c.gz)(zy.Z.actions.settingsFetchSucceeded({server:i,isMergeRecentlyAddedEnabled:e}))}catch(e){yield(0,_c.gz)(zy.Z.actions.settingsFetchFailed({server:i,error:ud.toPlainErrorObject(e)}))}}function*RZ({payload:e}){const{server:t,isMergeRecentlyAddedEnabled:n}=e;try{yield(0,_c.RE)(ud.put,":/prefs",{server:t,params:{[kZ]:n}}),yield(0,_c.gz)(zy.Z.actions.settingsUpdateSucceeded({server:t,isMergeRecentlyAddedEnabled:n})),yield(0,_c.gz)(zy.Z.actions.resetHubs())}catch(e){yield(0,_c.gz)(zy.Z.actions.settingsUpdateFailed({server:t,error:ud.toPlainErrorObject(e)}))}}function*zZ({payload:e}){const{server:t,sourceURI:n}=e;try{const e=yield(0,_c.RE)(WZ,t,n);yield(0,_c.gz)(zy.Z.actions.hubsFetchSucceeded({sourceURI:n,options:e}))}catch(e){yield(0,_c.gz)(zy.Z.actions.hubsFetchFailed({sourceURI:n,error:ud.toPlainErrorObject(e)}))}}function*VZ({payload:e}){var t;const{server:n,sourceURI:i,options:r,fromIndex:s,toIndex:o}=e;try{const e=r[o].identifier,s=null==(t=r.find(((e,t)=>t===o-1)))?void 0:t.identifier,{key:a}=(0,hg.Z)(i);yield(0,_c.RE)(ud.put,le.Z.join([a,e,"move"]),{server:n,params:{after:s}}),yield(0,_c.gz)(zy.Z.actions.reorderSucceeded({sourceURI:i})),yield(0,_c.gz)(zy.Z.actions.resetHubs())}catch(e){const t=Array.from(r),[n]=t.splice(o,1);t.splice(s,0,n),yield(0,_c.gz)(zy.Z.actions.reorderFailed({sourceURI:i,options:t,error:ud.toPlainErrorObject(e)}))}}function*_Z({payload:e}){const{server:t,sourceURI:n,options:i,removed:r,index:s}=e;try{const e=r.identifier,{key:i}=(0,hg.Z)(n);yield(0,_c.RE)(ud.del,le.Z.join([i,e]),{server:t}),yield(0,_c.gz)(zy.Z.actions.removeSucceeded({sourceURI:n})),yield(0,_c.gz)(zy.Z.actions.resetHubs())}catch(e){const t=Array.from(i);t.splice(s,0,r),yield(0,_c.gz)(zy.Z.actions.removeFailed({sourceURI:n,options:t,error:ud.toPlainErrorObject(e)}))}}function*UZ({payload:e}){const{server:t,sourceURI:n}=e;try{const{key:e}=(0,hg.Z)(n);yield(0,_c.RE)(ud.del,e,{server:t});const i=yield(0,_c.RE)(WZ,t,n);yield(0,_c.gz)(zy.Z.actions.resetSucceeded({sourceURI:n,options:i})),yield(0,_c.gz)(zy.Z.actions.resetHubs())}catch(e){yield(0,_c.gz)(zy.Z.actions.resetFailed({sourceURI:n,error:ud.toPlainErrorObject(e)}))}}function*BZ({payload:e}){const{server:t,sourceURI:n,options:i,promoted:r}=e;try{const e=OZ(OZ({},i),r);yield(0,_c.gz)(zy.Z.actions.promoteChanged({sourceURI:n,options:e}));const{key:s}=(0,hg.Z)(n);yield(0,_c.RE)(ud.put,le.Z.join([s,e.identifier]),{server:t,params:{promotedToRecommended:(0,DZ.Z)(e.promotedToRecommended),promotedToOwnHome:(0,DZ.Z)(e.promotedToOwnHome),promotedToSharedHome:(0,DZ.Z)(e.promotedToSharedHome)}}),yield(0,_c.gz)(zy.Z.actions.resetHubs())}catch(e){yield(0,_c.gz)(zy.Z.actions.promoteChanged({sourceURI:n,options:i}))}}function*FZ({payload:e}){var t;const{server:n,sourceURI:i,contentDirectoryID:r}=e;try{const{ratingKey:e}=(0,hg.Z)(i),s=yield(0,_c.RE)(ud.get,(0,AZ.Z)(r),{server:n,params:{metadataItemId:e}});yield(0,_c.gz)(zy.Z.actions.publishedFetchSucceeded({sourceURI:i,hub:null==(t=s.data.MediaContainer.Hub)?void 0:t[0]}))}catch(e){yield(0,_c.gz)(zy.Z.actions.publishedFetchFailed({sourceURI:i,error:ud.toPlainErrorObject(e)}))}}function*HZ({payload:e}){var t;const{server:n,sourceURI:i,contentDirectoryID:r,hub:s}=e;try{const{ratingKey:e}=(0,hg.Z)(i),o=yield(0,_c.RE)(ud.post,(0,AZ.Z)(r),{server:n,params:{metadataItemId:e,promotedToRecommended:(0,DZ.Z)(s.promotedToRecommended),promotedToOwnHome:(0,DZ.Z)(s.promotedToOwnHome),promotedToSharedHome:(0,DZ.Z)(s.promotedToSharedHome)}});yield(0,_c.gz)(zy.Z.actions.publishedUpdateSucceeded({sourceURI:i,hub:null==(t=o.data.MediaContainer.Hub)?void 0:t[0]})),yield(0,_c.gz)(zy.Z.actions.resetHubs())}catch(e){yield(0,_c.gz)(zy.Z.actions.publishedUpdateFailed({sourceURI:i,error:ud.toPlainErrorObject(e)}))}}function*WZ(e,t){const{key:n}=(0,hg.Z)(t);return(yield(0,_c.RE)(ud.get,n,{server:e})).data.MediaContainer.Hub}function*YZ(){yield(0,_c.Fm)(zy.Z.actions.settingsFetchRequested,LZ)}function*GZ(){yield(0,_c.Fm)(zy.Z.actions.settingsUpdateRequested,RZ)}function*qZ(){yield(0,_c.Fm)(zy.Z.actions.hubsFetchRequested,zZ)}function*QZ(){yield(0,_c.ib)(zy.Z.actions.reorderRequested,VZ)}function*KZ(){yield(0,_c.ib)(zy.Z.actions.removeRequested,_Z)}function*$Z(){yield(0,_c.Fm)(zy.Z.actions.resetRequested,UZ)}function*JZ(){yield(0,_c.ib)(zy.Z.actions.promoteRequested,BZ)}function*XZ(){yield(0,_c.Fm)(zy.Z.actions.publishedFetchRequested,FZ)}function*eS(){yield(0,_c.ib)(zy.Z.actions.publishedUpdateRequested,HZ)}function*tS(){yield(0,_c.$6)([(0,_c.rM)(YZ),(0,_c.rM)(GZ),(0,_c.rM)(qZ),(0,_c.rM)(QZ),(0,_c.rM)(KZ),(0,_c.rM)($Z),(0,_c.rM)(JZ),(0,_c.rM)(XZ),(0,_c.rM)(eS)])}var nS=Object.defineProperty,iS=Object.prototype.hasOwnProperty,rS=Object.getOwnPropertySymbols,sS=Object.prototype.propertyIsEnumerable,oS=(e,t,n)=>t in e?nS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function aS({server:e,provider:t,data:n}){const i=(0,ug.Z)({serverIdentifier:e.machineIdentifier,providerIdentifier:null==t?void 0:t.identifier});return(n||[]).map((e=>((e,t)=>{for(var n in t||(t={}))iS.call(t,n)&&oS(e,n,t[n]);if(rS)for(var n of rS(t))sS.call(t,n)&&oS(e,n,t[n]);return e})({source:i},e)))}function*lS({payload:e}){var t;const{server:n,provider:i}=e;try{const e=n.isCloud?"/lineups/plex/channels":le.Z.join([i.identifier,"/lineups/dvr/channels"]),r=yield(0,_c.RE)(ud.get,e,{server:n,provider:i,providerVersionOverride:"3.3"});yield(0,_c.gz)(Vy.Z.actions.guideChannelsFetchSucceeded({data:aS({server:n,provider:i,data:null==(t=r.data)?void 0:t.MediaContainer.Channel})}))}catch(e){yield(0,_c.gz)(Vy.Z.actions.guideChannelsFetchFailed({error:ud.toPlainErrorObject(e)}))}}function*cS(){for(;;){const e=yield(0,_c.A7)(Vy.Z.actions.guideChannelsFetchRequested,lS);yield(0,_c.qn)(Vy.Z.actions.reset),yield(0,_c.al)(e)}}function*dS(){yield(0,_c.$6)([(0,_c.rM)(cS)])}function*uS(){yield(0,_c.$6)([(0,_c.rM)(Kv),(0,_c.rM)(CZ),(0,_c.rM)(tS),(0,_c.rM)(dS)])}const hS=(0,cy.ZP)(),pS=(0,dy.xC)({reducer:(e,t)=>(t.type===By.type&&(e=void 0),Uy(e,t)),middleware:[hS]});hS.run((function*(){yield(0,_c.$6)([(0,_c.rM)(Ov),(0,_c.rM)(uS)])}));const gS=pS,mS=Ll.Z.extend({name:"StoreModel",initialize(){this._currentState=gS.getState(),gS.subscribe((()=>{const e=gS.getState();this.trigger("statechange",this,e,this._currentState),this._currentState=e}))},getState:()=>gS.getState(),toJSON:()=>gS.getState(),dispatch(e){gS.dispatch(e)}}),fS=dm.extend({name:"DesktopAppModel",sessionAttrs:{clientID:Ja.Z.string,anonymousClientID:Ja.Z.string,authorized:Ja.Z.boolean.isRequired,skipSignIn:Ja.Z.boolean.isRequired,isWaitingForServers:Ja.Z.boolean.isRequired,isWaitingForPrimaryServer:Ja.Z.boolean.isRequired,history:Ja.Z.array.isRequired,isFullscreen:Ja.Z.boolean.isRequired,isUpdateAvailable:Ja.Z.boolean.isRequired,castApiAvailability:ty.isRequired,settings:Ja.Z.instanceOf(lc)},sessionRelations:{entities:{relationClass:function(e){const t={};for(const n in e)t[e[n]]={relationClass:ly};return Ll.Z.extend({name:"EntitiesModel",sessionRelations:t})}(ee)},servers:{relationClass:Mm},cloudServer:{relationClass:Zm,deferred:!0},primaryServer:{relationClass:Go.ZP,deferred:!0},companionServer:{relationClass:Go.ZP,deferred:!0},transientServer:{relationClass:Nm,deferred:!0},user:{relationClass:Xf,deferred:!0},remotePlayer:{relationClass:Ll.Z,deferred:!0},deviceSettings:{relationClass:ol},ui:{relationClass:Jm},v4:{relationClass:mS}},defaults(){const e=new Zm({machineIdentifier:ne.X},{parent:this});return{authorized:!1,skipSignIn:!1,isWaitingForServers:!1,isWaitingForPrimaryServer:!1,isUpdateAvailable:!1,history:[],cloudServer:e,user:new Xf({},{server:e,parent:this}),isFullscreen:!1,castApiAvailability:1,settings:new lc}},dispatch(e){this.get("v4").dispatch(e)}}),yS=Xa.Z.extend({name:"SessionStatsModel",storageKey:"sessionstats",syncedAttrs:{heartbeatTime:Ja.Z.integer,lastPlayingHeartbeatTime:Ja.Z.integer,playbackCount:Ja.Z.integer,playbackTime:Ja.Z.integer,sessionId:Ja.Z.string,anonymousSessionId:Ja.Z.string,startTime:Ja.Z.integer,lastInteractionTime:Ja.Z.integer},defaults:{playbackCount:0,playbackTime:0}}),vS=Ll.Z.extend({name:"OauthProviderUsageModel",syncedAttrs:{federatedAuth:Ja.Z.boolean,other:Ja.Z.boolean}}),bS=Ll.Z.extend({name:"OauthProviderModel",rootPropertyName:"provider",sessionAttrs:{isUnlinking:Ja.Z.boolean.isRequired,unlinkError:Ja.Z.object},syncedAttrs:{authName:Ja.Z.string,image:Ja.Z.string,label:Ja.Z.string.isRequired,linked:Ja.Z.boolean.isRequired,nickname:Ja.Z.string,url:Ja.Z.string.isRequired},syncedRelations:{usage:{relationClass:vS}},defaults:{isUnlinking:!1}}),ZS=kl.Z.extend({name:"OauthProviderCollection",model:bS,context:["server"],url:"/api/v2/authentications/providers",responseType:pm.AV}),SS=Ll.Z.extend({name:"CloudServerFlexModel",context:["server"],sessionAttrs:{isOauthProvidersPending:Ja.Z.boolean,isOauthProvidersPopulated:Ja.Z.boolean,oauthProvidersError:Ja.Z.object},sessionRelations:{oauthProviders:{relationClass:ZS}},defaults:{isOauthProvidersPending:!1,isOauthProvidersPopulated:!1,oauthProvidersError:null}}),IS=Ll.Z.extend({name:"BackgroundTranscodeJobModel",context:["server"],entityType:ee.BACKGROUND_TRANSCODE_JOBS,entityID(e=this.state){return(0,X.Z)(this.entityType,e.key,this.server.entityID())},idAttribute:"key",rootPropertyName:"TranscodeJob",syncedAttrs:{queueItemID:Ja.Z.integer,generatorID:Ja.Z.integer,targetTagID:Ja.Z.integer,syncItemId:Ja.Z.integer,syncItemTitle:Ja.Z.string,key:Ja.Z.string,type:Ja.Z.string,progress:Ja.Z.float,speed:Ja.Z.float,remaining:Ja.Z.integer,size:Ja.Z.integer,ratingKey:Ja.Z.string,title:Ja.Z.string,thumb:Ja.Z.string}}),MS=kl.Z.extend({name:"BackgroundTranscodeJobCollection",model:IS,context:["server"],url:"/status/sessions/background"}),wS=Ll.Z.extend({name:"PlexPlayerModel",context:["server","baseURL"],rootPropertyName:"Server",sessionAttrs:{volume:Ja.Z.integer},syncedAttrs:{machineIdentifier:Ja.Z.string,name:Ja.Z.string,title:Ja.Z.string,address:Ja.Z.string,port:Ja.Z.string,deviceClass:Ja.Z.string,version:Ja.Z.string,product:Ja.Z.string,protocol:Ja.Z.string,protocolVersion:Ja.Z.string,protocolCapabilities:Ja.Z.list},derivedAttrs:{friendlyName(){return this.get("title")||this.get("name")||this.get("product")},playerIdentifier(){return`${this.baseURL}:${this.get("machineIdentifier")}`}},defaults:{volume:100}}),PS=kl.Z.extend({name:"PlexPlayerCollection",context:["server"],model:wS,url:"/clients",augmentResponse(e){const t=(0,h.DB)("appModel").get("clientID"),n=parseInt(e.size,10);return 1===n&&e.Server.machineIdentifier===t?(delete e.Server,e.size="0"):n>1&&(e.Server=e.Server.filter((e=>e.machineIdentifier!==t)),e.size=e.Server.length.toString()),e}}),CS=Ll.Z.extend({name:"ActivityModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Activity",responseType(){return(0,Qu.Z)(this.server)},sessionAttrs:{synthetic:Ja.Z.boolean},syncedAttrs:{uuid:Ja.Z.string,userID:Ja.Z.integer,title:Ja.Z.string,subtitle:Ja.Z.string,progress:Ja.Z.integer,event:Ja.Z.string,cancellable:Ja.Z.boolean,type:Ja.Z.string,Context:Ja.Z.object,Response:Ja.Z.object},defaults:()=>({Context:{},Response:{}})}),DS=kl.Z.extend({name:"ActivityCollection",context:["server"],model:CS,url:"/activities",responseType(){return(0,Qu.Z)(this.server)}}),AS=Ll.Z.extend({name:"NeighborhoodDeviceModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Device",syncedAttrs:{uuid:Ja.Z.string.isRequired,address:Ja.Z.string.isRequired,title:Ja.Z.string,manufacturer:Ja.Z.string,model:Ja.Z.string,modelNumber:Ja.Z.string,serialNumber:Ja.Z.string}}),xS=kl.Z.extend({name:"NeighborhoodDeviceCollection",context:["server"],model:AS,url:"neighborhood/devices"});var ES=n(30944);const TS=ES.Z.extend({pageSize:10,pages:function(){return Math.max(Math.ceil(this.length/this.pageSize),1)},page:function(e,t){t||(t={});let n,i=0;return n=t.reverse?this.length-e*this.pageSize:e*this.pageSize-this.pageSize,n<0&&(i=n,n=0),this.models.slice(n,n+this.pageSize+i)}});var jS=n(68918);let NS=0;const OS=jS.Z.extend({idAttribute:"id",parse:function(e){const t=e;return t.time=new Date,t.id="evt"+NS++,"preference"===t._type&&(t.value=String(t.value)),t}}),kS=TS.extend({model:OS,url:"/servers",pageSize:20,limit:1e3,initialize:function(){this.startTime=new Date,this.listenTo(this.server,"socket:setting",this.onSettingChange),this.listenTo(this.server,"socket:timeline",this.onTimeline),this.listenTo(this.server,"socket:status",this.onStatus),this.listenTo(this.server,"socket:playing",this.onPlaying),this.listenTo(this.server,"socket:websocket",this.onWebSocket)},add:function(e){this.length+1>this.limit&&this.remove(this.at(0)),TS.prototype.add.apply(this,arguments)},onSettingChange:function(e){e.label&&this.add(y().extend({_type:"setting"},e),{parse:!0})},onTimeline:function(e){1===e.state||e.sectionID<0||this.add(y().extend({_type:"timeline"},e),{parse:!0})},onStatus:function(e){"ProgressNotification"!==e._elementType&&this.add(y().extend({_type:"status"},e),{parse:!0})},onPlaying:function(e){this.add(y().extend({_type:"playing"},e),{parse:!0})},onWebSocket:function(e){this.add(y().extend({_type:"websocket"},e),{parse:!0})}});var LS=n(2608);const RS=Ll.Z.extend({name:"TranscodeJobModel",context:["server"],entityType:ee.TRANSCODE_JOBS,entityID(e=this.state){return(0,X.Z)(this.entityType,e.syncItemId,this.server.entityID())},idAttribute:"syncItemId",rootPropertyName:"TranscodeJob",syncedAttrs:{syncItemId:Ja.Z.integer,syncItemTitle:Ja.Z.string,key:Ja.Z.string,type:Ja.Z.string,progress:Ja.Z.float,speed:Ja.Z.float,remaining:Ja.Z.string,size:Ja.Z.string,title:Ja.Z.string,thumb:Ja.Z.string},responseType(){return(0,Qu.Z)(this.server)}});var zS=n(76580);const VS=kl.Z.extend({name:"TranscodeJobCollection",context:["server"],model:RS,cache:new zS.Z,url:"/sync/transcodeQueue"}),_S=Ll.Z.extend({name:"ServerFlexModel",context:["server"],sessionAttrs:{alerts:Ja.Z.instanceOf(kS).isRequired,hasiTunes:Ja.Z.boolean,isHasiTunesPopulated:Ja.Z.boolean,isSettingsPending:Ja.Z.boolean,isSettingsPopulated:Ja.Z.boolean,settingsError:Ja.Z.object,isLibrariesPending:Ja.Z.boolean.isRequired,isLibrariesPopulated:Ja.Z.boolean.isRequired,librariesError:Ja.Z.object,cleanBundlesError:Ja.Z.string,optimizeDatabaseError:Ja.Z.string},sessionRelations:{settings:{relationClass:LS.Z,rootPropertyName:"Setting"},cloudAccount:{relationClass:Ho.ZP},libraries:{relationClass:Bt.Z},activities:{relationClass:DS},transcodeJobs:{relationClass:VS},backgroundTranscodeJobs:{relationClass:MS},players:{relationClass:PS},neighborhoodDevices:{relationClass:xS},update:{relationClass:Dp}},defaults(){return{alerts:new kS([],{server:this.server}),hasiTunes:!1,isHasiTunesPopulated:!1,isSettingsPending:!0,isSettingsPopulated:!1,settingsError:null,isLibrariesPending:!0,isLibrariesPopulated:!1,librariesError:null,cleanBundlesError:null,optimizeDatabaseError:null}}});var US=Object.defineProperty,BS=Object.prototype.hasOwnProperty,FS=Object.getOwnPropertySymbols,HS=Object.prototype.propertyIsEnumerable,WS=(e,t,n)=>t in e?US(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YS=(e,t)=>{for(var n in t||(t={}))BS.call(t,n)&&WS(e,n,t[n]);if(FS)for(var n of FS(t))HS.call(t,n)&&WS(e,n,t[n]);return e};const GS=Xa.Z.extend({name:"StoredUserExperienceSettingsModel",syncedAttrs:YS(YS({},ql.prototype.syncedAttrs),{isDirty:Ja.Z.boolean}),syncedRelations:YS({},ql.prototype.syncedRelations)}),qS=kl.Z.extend({name:"CloudPlayerCollection",context:["server","baseURL"],model:wS,augmentResponse:e=>(e.Server||(e.Server=e.Player,delete e.Player),e)}),QS=Ll.Z.extend({name:"CloudCompanionModel",context:["server"],idAttribute:"identifier",rootPropertyName:"Companion",syncedAttrs:{identifier:Ja.Z.string,title:Ja.Z.string,baseURL:Ja.Z.string,linkURL:Ja.Z.string,provides:Ja.Z.list},sessionAttrs:{linkState:Ja.Z.string},sessionRelations:{cloudPlayers:{relationClass:qS,options(){return{url:`${this.get("baseURL")}/resources`,baseURL:this.get("baseURL")}}}},defaults:{linkState:"untested"}}),KS=kl.Z.extend({name:"CloudCompanionCollection",context:["server"],model:QS,url:"/api/v2/companions",responseType:pm.AV,augmentResponse(e){const t=e,n=(0,h.DB)("appModel"),i=(n&&n.get("deviceSettings")).get("sonosCustomBaseURL");if(i&&t&&t.length){const e=t.find((({identifier:e})=>"tv.plex.sonos"===e));e&&t.push({identifier:"tv.plex.sonos-custom",title:"Sonos (Custom)",baseURL:i,linkURL:le.Z.join([i,"link"]),provides:e.provides,token:e.token})}return e}}),$S=Ll.Z.extend({name:"DeviceModel",context:["server"],rootPropertyName:"Device",url(){return"/devices/"+this.id+".xml"},syncedAttrs:{id:Ja.Z.string,clientIdentifier:Ja.Z.string,name:Ja.Z.string,product:Ja.Z.string,productVersion:Ja.Z.string,platform:Ja.Z.string,platformVersion:Ja.Z.string,device:Ja.Z.string,model:Ja.Z.string,provides:Ja.Z.list,screenResolution:Ja.Z.string,screenDensity:Ja.Z.string,lastSeenAt:Ja.Z.integer},supports(e){return-1!==this.get("provides").indexOf(e)}}),JS=kl.Z.extend({name:"DeviceCollection",context:["server"],model:$S,url:"/devices.xml",filterByProducts(e){const t=this.filter((t=>y().contains(e,t.get("product"))));return this.clone(t)},filterByPlatforms(e){const t=this.filter((t=>y().contains(e,t.get("platform"))));return this.clone(t)},products(){const e=this.map((e=>e.get("product")));return y().uniq(e)}});var XS=Object.defineProperty,eI=Object.prototype.hasOwnProperty,tI=Object.getOwnPropertySymbols,nI=Object.prototype.propertyIsEnumerable,iI=(e,t,n)=>t in e?XS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const rI=Ll.Z.extend({name:"HomeUserModel",context:["server"],rootPropertyName:"User",entityType:ee.HOME_USER,entityID(e=this.state){return(0,X.Z)(this.entityType,e.id)},urlRoot(){return this.get("restricted")?"/api/v2/home/users":"/api/home/users"},saveUrl(){let e=y().result(this,"url");return this.get("restricted")&&(e=le.Z.join([e,"/restricted"])),e},pinUrl(){const e=this.get("restricted")?"/api/v2/home/users/restricted":"/api/home/users";return le.Z.join([e,this.get("id")])},sessionAttrs:{isRemoving:Ja.Z.boolean},syncedAttrs:((e,t)=>{for(var n in t||(t={}))eI.call(t,n)&&iI(e,n,t[n]);if(tI)for(var n of tI(t))nI.call(t,n)&&iI(e,n,t[n]);return e})({id:Ja.Z.integer,uuid:Ja.Z.string,admin:Ja.Z.boolean,protected:Ja.Z.boolean,restricted:Ja.Z.boolean,restrictionProfile:Ja.Z.string,guest:Ja.Z.boolean,title:Ja.Z.string,username:Ja.Z.string,email:Ja.Z.string,thumb:Ja.Z.string},Mf),defaults:{isRemoving:!1},getSaveParams(e){const t=Ll.Z.prototype.getSaveParams.apply(this,arguments);return e&&0!==Object.keys(e).length||(this.get("restrictionProfile")&&(t.restrictionProfile=this.get("restrictionProfile")),t.sharingSettings={},Object.keys(Mf).forEach((e=>{t.hasOwnProperty(e)&&(t.sharingSettings[e]=t[e],delete t[e])})),this.get("restricted")?t.friendlyName=this.get("username"):this.isNew()&&(t.invitedEmail=this.get("username"))),t}}),sI=kl.Z.extend({name:"HomeUserCollection2",context:["server"],model:rI,url:"/api/home/users",parse(e){return this.convert(e,"User")}});var oI=n(50207),aI=n.n(oI);const lI=Ll.Z.extend({name:"InviteModel",context:["server"],rootPropertyName:"Invite",sessionAttrs:{isAccepting:Ja.Z.boolean,isRemoving:Ja.Z.boolean},syncedAttrs:{id:{type:Ja.Z.string,save:!0},friend:Ja.Z.boolean,home:Ja.Z.boolean,server:Ja.Z.boolean,friendlyName:Ja.Z.string,username:Ja.Z.string,email:Ja.Z.string,thumb:Ja.Z.string,createdAt:Ja.Z.integer,Server:Ja.Z.array},urlRoot:"/api/invites/requests",url(){let e;if(this.isNew())e=y().result(this,"urlRoot");else{const t=this.pick("friend","server","home");y().each(y().keys(t),(function(e){t[e]=t[e]?"1":"0"})),e=this.collection?y().result(this.collection,"url"):y().result(this,"urlRoot"),e=e.replace(/([^/])$/,"$1/")+encodeURIComponent(this.get("id")),e=le.Z.join(e,t)}return e},augmentResponse:e=>e.Server?((Array.isArray(e.Server)?e.Server:[e.Server]).forEach((e=>{e.numLibraries=(0,xl.Z)(e.numLibraries)})),e):e,defaults:{isAccepting:!1,isRemoving:!1}}),cI=kl.Z.extend({name:"InviteCollection",context:["server","subset"],model:lI,url(){return"/api/invites/"+this.subset},initialize(e,t){t||(t={}),this.subset=t.subset||"requests"},filterByHome(){const e=new(aI())(this);return e.filterBy((e=>e.get("home"))),e},filterByFriends(){const e=new(aI())(this);return e.filterBy((e=>!e.get("home"))),e}}),dI=jS.Z.extend({idAttribute:"key",whitelistedAttrs:["key","title","linked","maxLength"],convert:function(e){const t=y().isObject(e)?e:ks.Z.parseXML(e);return ks.Z.parseBoolean(t,["linked","maxLength"]),t},parse:function(e){let t=this.convert(e);return t=y().pick(t,this.whitelistedAttrs),t}}),uI=ES.Z.extend({model:dI,url:"/pms/social/networks",parse:function(e){return this.convert(e,"Directory")}}),hI=Ll.Z.extend({name:"SubscriptionPlanModel",context:["server"],rootPropertyName:"plan",syncedAttrs:{id:Ja.Z.string,name:Ja.Z.string,price:Ja.Z.float,formattedPrice:Ja.Z.string,currency:Ja.Z.string}}),pI=kl.Z.extend({name:"SubscriptionPlanCollection",context:["server"],model:hI,url:"/api/subscriptions/plans"}),gI=Ll.Z.extend({name:"WebhookModel",syncedAttrs:{url:Ja.Z.string},defaults:{url:""}}),mI=kl.Z.extend({name:"WebhookCollection",context:["server"],model:gI,url:"/api/v2/user/webhooks",responseType:pm.AV}),fI=Ll.Z.extend({name:"UserFlexModel",context:["server"],sessionAttrs:{isHomeUsersPending:Ja.Z.boolean.isRequired,isHomeUsersPopulated:Ja.Z.boolean.isRequired,homeUsersError:Ja.Z.object,socialNetworks:Ja.Z.instanceOf(uI).isRequired,isPlansPending:Ja.Z.boolean.isRequired,isPlansPopulated:Ja.Z.boolean.isRequired,plansError:Ja.Z.object,isUpdatingUser:Ja.Z.boolean.isRequired,updateUserError:Ja.Z.object,isHomeDetailsPending:Ja.Z.boolean,isHomeDetailsPopulated:Ja.Z.boolean,homeDetailsError:Ja.Z.object,isInvitesPending:Ja.Z.boolean,isInvitesPopulated:Ja.Z.boolean,invitesError:Ja.Z.object,isSentInvitesPending:Ja.Z.boolean,isSentInvitesPopulated:Ja.Z.boolean,sentInvitesError:Ja.Z.object,isWebhooksPending:Ja.Z.boolean,isWebhooksPopulated:Ja.Z.boolean,webhooksError:Ja.Z.object,isUpdatingWebhooks:Ja.Z.boolean,isRemovingWebhooks:Ja.Z.boolean,updateWebhooksError:Ja.Z.object},sessionRelations:{homeUsers:{relationClass:sI},devices:{relationClass:JS},cloudCompanions:{relationClass:KS},homeDetails:{relationClass:Rf},invites:{relationClass:cI},sentInvites:{relationClass:cI,options:{subset:"requested"}},plans:{relationClass:pI},webhooks:{relationClass:mI}},defaults(){const e={server:this.server,parent:this};return{isHomeUsersPending:!1,isHomeUsersPopulated:!1,homeUsersError:null,socialNetworks:new uI([],e),isPlansPending:!0,isPlansPopulated:!1,plansError:null,isUpdatingUser:!1,updateUserError:null,isHomeDetailsPending:!1,isHomeDetailsPopulated:!1,homeDetailsError:null,isInvitesPending:!1,isInvitesPopulated:!1,invitesError:null,isSentInvitesPending:!1,isSentInvitesPopulated:!1,sentInvitesError:null,isWebhooksPending:!1,isWebhooksPopulated:!1,webhooksError:null,isUpdatingWebhooks:!1,isRemovingWebhooks:!1,updateWebhooksError:null}}}),yI="provider/providerIntegrations/initProviderIntegrations",vI="provider/providerIntegrations/fetchProviderIntegrations",bI="provider/providerIntegrations/pollProviderIntegrations",ZI="provider/providerIntegrations/integrationsOnboardingComplete",SI="provider/providerIntegrations/createLocastAccount",II=((0,ve.Z)(yI),(0,ve.Z)(vI)),MI=(0,ve.Z)(bI);function wI(e){return e.get("ui").get("providerIntegrations")}(0,ve.Z)(ZI),(0,ve.Z)(SI);const PI={[yI](e,t,n){wI(e).set({isIntegrationsOnboarding:!1,isIntegrationsPending:!1,isIntegrationsPopulated:!1,integrationsError:null,integrations:new km([],{server:(0,ge.SW)(e,t),provider:(0,ge.js)(e,t)})}),n(II())},[vI]:(0,dg.Z)({key:"integrations",getModel:wI}),[bI](e,t,n){wI(e).set("isIntegrationsOnboarding",!0),window.setTimeout((()=>{(0,Oc.c9)((()=>{n(II())}))}),3e3)},[ZI](e){wI(e).set("isIntegrationsOnboarding",!1)},[SI](e,t,n){wI(e).set("isIntegrationsOnboarding",!0),function(){const e=s().Deferred();return window.setTimeout((()=>{e.resolve()}),3e3),e}().then((()=>{n(MI())}))}};var CI=n(62005),DI=n(69726),AI=n(55232);const xI="lineup",EI="location",TI="select",jI="provider/providerSettings/fetchProviderSettings",NI="provider/providerSettings/fetchProviderSettingSelectOptions",OI="provider/provderSettings/clearProviderSettingFetchError",kI="provider/providerSettings/fetchProviderSettingLocationOptions",LI="provider/providerSettings/populateProviderSettingLocationOptions",RI="provider/providerSettings/fetchProviderSettingLineupChannels",zI="provider/providerSettings/populateProviderSettingLineupChannels",VI="provider/providerSettings/fetchProviderSettingRecentChannelsInGrid",_I="provider/providerSettings/populateProviderSettingRecentChannelsInGrid",UI="provider/providerSettings/updateProviderSetting",BI="provider/providerSettings/clearProviderSettingUpdateError",FI="provider/providerSettings/populateProviderSettingOptions",HI=((0,ve.Z)(jI),(0,ve.Z)(NI)),WI=((0,ve.Z)(OI),(0,ve.Z)(kI)),YI=(0,ve.Z)(LI),GI=(0,ve.Z)(RI),qI=(0,ve.Z)(zI),QI=(0,ve.Z)(VI),KI=(0,ve.Z)(_I);function $I(e,t){return(0,ge.js)(e,t).get("features").get(wo.Z.SETTINGS)}function JI(e,t){return $I(e,t).get("settings").get(t.settingID)}function XI(e,t){switch(e.get("type")){case xI:{const n=e.get("lineup"),i=new CI.Z(t.map((e=>{const t=n.findWhere({id:e.id});return t.set({hidden:e.hidden}),t})));e.set("lineup",i);break}case EI:{const n=e.get("locations").get(t.country);e.set({country:t.country,countryLabel:n.get("title"),postalCode:t.postalCode});break}case TI:y().each(t,((t,n)=>{e.get("options").get(n).set({selected:t})})),e.set("selectedCount",y().values(t).filter((e=>e)).length);break;default:e.set("value",t[e.id])}}function eM(e,t,n){const i=y().mapObject(t,((e,t)=>!0===e?"1":!1===e?"0":e)),r=le.Z.join(y().result(e,"url"),{prefs:i}),o=n.getXHROptions(r,{type:"PUT"});return s().ajax(o).then((()=>{XI(e,t)}))}(0,ve.Z)(UI),(0,ve.Z)(BI),(0,ve.Z)(FI);const tM={[jI]:(0,dg.Z)({key:"settings",getModel:$I}),[NI]:(0,dg.Z)({key:"options",getModel:JI}),[kI]:(0,dg.Z)({key:"locations",getModel:JI}),[LI]:(0,DI.Z)({key:"locations",fetchActionCreator:WI,getModel:JI}),[RI]:(0,dg.Z)({key:"lineup",getModel:JI}),[zI]:(0,DI.Z)({key:"lineup",fetchActionCreator:GI,getModel:JI}),[VI]:(0,dg.Z)({key:"recentChannelsInGrid",getModel:JI}),[_I]:(0,DI.Z)({key:"recentChannelsInGrid",fetchActionCreator:QI,getModel:JI}),[UI](e,t){const{settingID:n,values:i}=t,r=(0,ge.js)(e,t),o=r.get("features").get(wo.Z.SETTINGS),a=e.get("ui").get("providerSettingsPage"),l=o.get("settings").get(n);a.set({isUpdatePending:!0,updateError:null});const c=[];if("group"===l.get("type"))l.get("settings").forEach((e=>{const t={[e.id]:i[e.id]};c.push(eM(e,t,r))}));else if(l.get("type")===xI){const e=y().result(l,"url"),t=r.getXHROptions(e,{type:"PUT",contentType:"application/json",data:JSON.stringify(i)}),n=s().ajax(t).then((()=>{XI(l,i)}));c.push(n)}else"int"===l.get("type")?(Object.keys(i).forEach((e=>{i[e]=parseInt(i[e],10)})),c.push(eM(l,i,r))):c.push(eM(l,i,r));s().when(...c).then((()=>{a.set({isUpdatePending:!1,updateError:null})}),(e=>{a.set({isUpdatePending:!1,updateError:(0,xp.Z)(e)})}))},[BI](e,t){e.get("ui").get("providerSettingsPage").set("updateError",null)},[OI](e,t){JI(e,t).set({optionsError:null,locationsError:null})},[FI](e,t,n){const i=JI(e,t),r=i.get("type");if(r===TI)(0,Oc.c9)((()=>{n(HI(t))}));else if(r===EI)n(YI(t));else if(r===xI){const e=i.get("id");e===AI.Pt?n(qI(t)):e===AI.x8&&n(KI(t))}}};var nM=n(33045),iM=n(68214);const rM="oauth/fetchOauthProviders",sM="oauth/unlinkOauthProvider",oM=(0,ve.Z)(rM),aM=((0,ve.Z)(sM),{[rM]:(0,dg.Z)({key:"oauthProviders",getModel:e=>e.get("cloudServer").get("desktop")}),[sM](e,t,n){const i=e.get("cloudServer"),r=i.get("desktop").get("oauthProviders").findWhere(t);r.set("isUnlinking",!0);const o=i.populate().then((()=>s().ajax(i.getXHROptions(t.url,{type:"DELETE"}))));(0,iM.Z)(o,1e3).done((()=>{r.set("unlinkError",null)})).fail((e=>{r.set("unlinkError",e)})).always((()=>{n((0,_.bc)()),n(oM()),r.set("isUnlinking",!1)}))}});var lM=n(97658);const cM="CHANGE_BACKGROUND",dM="CHANGE_THEME_MUSIC",uM="RESET_BACKGROUND";function hM(e){return e.get("ui").get("background")}(0,ve.Z)(cM),(0,ve.Z)(dM),(0,ve.Z)(uM);const pM=(0,cg.Z)({[cM](e,t={}){const{imageUrl:n,allowBlur:i=!0}=t;hM(e).set({server:(0,ge.SW)(e,t),provider:(0,ge.js)(e,t),imageUrl:n,allowBlur:i,isBackgroundPending:!1})},[dM](e,t){const{theme:n}=t,i=hM(e),r=(0,ge.SW)(e,t),s=r&&n?r.resolveUrl(n,{appendHeaders:!0}):void 0;i.set("themeMusicUrl",s)},[uM](e,t){hM(e).restoreDefaults({isBackgroundPending:t.isBackgroundPending})}});var gM=n(37131);const mM=[Me,lM.r8,fe.gK,_.CC,Ud.Kq,un.Iy,Fh.KH,aM,_d.wQ,PI,tM,so.J0,pM,nM.ZP,$v.N$,gM.on];function fM(){(0,h.Cq)({CloudServerFlexModel:SS,ServerFlexModel:_S,UserFlexModel:fI}),(0,h.Cq)({UserExperienceSettingsModel:ql,StoredUserExperienceSettingsModel:GS});const e=new fS,t=function(e){return function(e,t){let n,i=[],r=i;function s(){r===i&&(r=i.slice())}function o(e){n=function(e){const t={};for(let n=0,i=e.length;n<i;n++){const i=e[n];for(const e in i){const n=t[e],r=i[e];n?Array.isArray(n)?n.push(r):t[e]=[n,r]:t[e]=r}}return t}(e)}return o(e),t.on("statechange",(function(){const e=i=r;for(let t=0,n=e.length;t<n;t++)e[t]()})),{dispatch:function e(i){const{payload:r,type:s}=i,o=s&&n[s];if(Array.isArray(o))for(let n=0,i=o.length;n<i;n++)o[n](t,r,e);else o?o(t,r,e):t.dispatch(i);return i},subscribe:function(e){let t=!0;return s(),r.push(e),function(){if(!t)return;t=!1,s();const n=r.indexOf(e);r.splice(n,1)}},getState:function(){return t.getState()},replaceActionHandlers:o}}(mM,e)}(e);return(0,h.Cq)({appModel:e,appStore:t}),(0,h.Cq)({companionProxy:new Su,companionVote:Du(),sessionStats:new yS}),function(){const e=(0,h.DB)("appModel");return(0,h.Cq)({settingFinder:Wu(e),selectRemoteQuality:gp,selectRestorePlayQueue:mp,selectSubtitleSettings:fp,selectLocalVolume:hp}),(0,h.Cq)({metricsReporter:[Hu(),Gu],logs:new lp([],{parent:e}),testServerConnection:oh}),(0,h.Cq)({companionServerManager:new ch({appModel:e}),localCompanionCommandHandler:vp,mediaServerEventConnection:cm,metrics:[new Ph({isPlaybackActive:up}),Yu],primaryServerManager:new Ch({appModel:e}),providerManager:new Dh({appModel:e}),serverConnectionManager:new uh({appModel:e}),serverConnectionTestManager:new xh({appModel:e}),serverManager:new Bh({appModel:e}),serverUpdateManager:new Hh({appModel:e}),sourceManager:new Jh({appModel:e})}),s().Deferred().resolve().promise()}().then(Bu.registerAll)}n(35922);const yM=new v.Z.Application;yM.addInitializer((()=>fM().then(Xd)));const vM=yM;n(49407);var bM=n(6566);n(3758),n(49810),n(99959),n(82107),n(36583),n(31110),document.body.className=bM.o,vM.start()},6963:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={defaultSpeed:"0.2s",slowSpeed:"0.6s",fastSpeed:"0.1s",motionEasing:"cubic-bezier(0.6, 0.4, 0.2, 1.4)",modalSpeed:"0.2s",menuSpeed:"0.15s",tooltipSpeed:"0.15s"}},80772:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const i="#e5a00d",r="rgba(0, 0, 0, 0.15)",s="rgba(0, 0, 0, 0.3)",o={defaultColor:"#fff",quietColor:"#a8a8a8",inverseColor:"#222",primaryColor:"#cc7b19",primaryAlternateColor:"#e5a00d",selectedColor:i,successColor:"#6b5",dangerColor:"#f53",warningColor:"#f0ad4e",focusColor:"#88AAFF",appBackgroundColor:"#444f56",darkOpaqueBackgroundColor:"#1f2326",blackDarkTranslucentBackgroundColor:r,blackDarkerTranslucentBackgroundColor:s,lightTranslucentBackgroundColor:"rgba(255, 255, 255, 0.15)",badgeBackgroundColor:r,defaultBadgeColor:"rgba(255, 255, 255, 0.7)",defaultLinkColor:"rgba(255, 255, 255, 0.7)",defaultLinkHoverColor:"#fff",defaultLinkDisabledLinkColor:"rgba(255, 255, 255, 0.3)",selectedLinkColor:i,selectedLinkHoverColor:"lighten(#e5a00d, 0.2)",defaultBackgroundColor:"rgba(255, 255, 255, 0.25)",defaultHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",defaultActiveBackgroundColor:"rgba(255, 255, 255, 0.2)",defaultDisabledBackgroundColor:"rgba(255, 255, 255, 0.15)",primaryButtonColor:"#1f2326",primaryBackgroundColor:"#e5a00d",primaryHoverBackgroundColor:"lighten(#e5a00d, 0.2)",primaryActiveBackgroundColor:"darken(#e5a00d, 0.2)",primaryDisabledColor:"rgba(0, 0, 0, 0.4)",primaryDisabledBackgroundColor:"darken(#e5a00d, 0.5)",quietBackgroundColor:"rgba(255, 255, 255, 0.08)",quietHoverBackgroundColor:"rgba(255, 255, 255, 0.1)",quietActiveBackgroundColor:"rgba(255, 255, 255, 0.06)",successBackgroundColor:"#3d7832",successHoverBackgroundColor:"lighten(#3d7832, 0.1)",successActiveBackgroundColor:"darken(#3d7832, 0.1)",successDisabledBackgroundColor:"darken(#3d7832, 0.3)",dangerBackgroundColor:"#b32",dangerHoverBackgroundColor:"lighten(#b32, 0.1)",dangerActiveBackgroundColor:"darken(#b32, 0.1)",dangerDisabledBackgroundColor:"darken(#b32, 0.3)",darkBackgroundColor:s,darkHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",darkActiveBackgroundColor:"rgba(255, 255, 255, 0.2)",darkDisabledBackgroundColor:"rgba(255, 255, 255, 0.15)",headerColor:"rgba(255, 255, 255, 0.3)",dimColor:"rgba(255, 255, 255, 0.45)",secondaryContentColor:"rgba(255, 255, 255, 0.75)",shadowColor:"rgba(0, 0, 0, 0.35)",dividerColor:s,scrollbarBackgroundColor:"rgba(255, 255, 255, 0.2)",scrollbarHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",scrollbarInactiveBackgroundColor:"rgba(255, 255, 255, 0.05)",errorBackgroundColor:"rgba(255, 85, 51, 0.3)",inputBackgroundColor:"rgba(255, 255, 255, 0.25)",inputFocusBackgroundColor:"#eee",inputColor:"#eee",inputFocusColor:"#555",inputPlaceholderColor:"#afb0b1",inputDisabledOpacity:"0.5",formSectionBackgroundColor:s,formSectionHoverBackgroundColor:r,modalBackdropBackgroundColor:"rgba(102, 102, 102, 0.6)",modalBackgroundColor:"#2d2d2d",modalBodyBackgroundColor:r,menuBackgroundColor:"#191a1c",menuDisabledBackgroundColor:"#2d2d2d",menuItemHoverBackgroundColor:"rgba(255, 255, 255, 0.08)",menuItemActiveBackgroundColor:"rgba(255, 255, 255, 0.15)",menuSeparatorBackgroundColor:"rgba(200, 200, 200, 0.15)",tooltipBackgroundColor:"#191a1c",pageHeaderBackgroundColor:"rgba(0, 0, 0, 0.7)",pageHeaderLinkColor:"#999",pageHeaderLinkHoverColor:"#eee",pageHeaderColor:"rgba(255, 255, 255, 0.75)",searchInputBackgroundColor:"rgba(255, 255, 255, 0.25)",searchFocusBackgroundColor:"#eee",searchInputColor:"#eee",searchInputFocusColor:"#555",searchImagePlaceholderBackgroundColor:"rgba(255, 255, 255, 0.1)",searchHoverResultBackgroundColor:"rgba(255, 255, 255, 0.05)",searchSelectedResultBackgroundColor:"rgba(255, 255, 255, 0.08)",searchResultTitleColor:"rgba(255, 255, 255, 0.75)",searchResultTitleSelectedColor:"rgba(255, 255, 255, 1)",searchResultSecondaryTitleColor:"rgba(255, 255, 255, 0.3)",sidebarBackgroundColor:r,sidebarMenuButtonBackgroundColor:s,sidebarMenuButtonHoverBackgroundColor:"rgba(0, 0, 0, 0.45)",sidebarMenuButtonActiveBackgroundColor:"rgba(0, 0, 0, 0.75)",stripeListAlternateBackgroundColor:"rgba(255, 255, 255, 0.02)",stripeListHoverBackgroundColor:"rgba(255, 255, 255, 0.06)",stripeListSelectedBackgroundColor:r,liveTVSettingsAddDeviceButtonBackground:"rgba(0, 0, 0, 0.2)",liveTVSettingsBackground:"rgba(0, 0, 0, 0.3)"}},20721:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={smallSize:"26px",mediumSize:"30px",largeSize:"36px",gapSmall:"15px",gapMedium:"30px",gapLarge:"60px",navigationHeaderHeight:"60px",navigationUserMenuImageSize:"34px",pageHeaderHeight:"60px",breadcrumbMargin:"25px",menuSmallWidth:"120px",menuMediumWidth:"180px",menuLargeWidth:"220px",menuPadding:"8px",menuItemTopPadding:"4px",menuItemSidePadding:"20px",toolbarButtonWidth:"50px",posterTitlePadding:"10px",posterTitleHeight:"20px",searchHubTitleHeight:"18px",searchResultWidth:"346px",searchResultHeight:"50px",searchResultActionsButtonWidth:"40px",universalSearchResultHeight:"68px",sidebarWidth:"240px",sidebarRightGutterWidth:"15px",sidebarLeftGutterWidth:"25px",tableCellPadding:"20px",tableHeaderHeight:"40px",tableRowHeight:"40px",tableTitleHeight:"60px",inputMaxWidth:"360px",inputBorderRadius:"4px",autosuggestSuggestionRadius:"4px",smallArrowWidth:"6px",mediumArrowWidth:"8px",largeArrowWidth:"10px",tooltipArrowSize:"6px",tooltipMarginTop:"-6px",breakpointMobileNarrow:"320px",breakpointExtraSmall:"480px",breakpointSmall:"768px",breakpointMedium:"992px",breakpointLarge:"1200px",modalBodyPadding:"30px",avatarFormEditSize:180,avatarFormSectionSize:80}},25710:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={motionEasing:[.6,.4,.2,1.4]}},58726:e=>{function t(e){for(var t=e.length,n=new Array(t),i=0;i<t;i++)n[i]=e.charCodeAt(i);return n}function n(){SHA256_H=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),SHA256_buf=new Array,SHA256_len=0}function i(e){SHA256_buf="string"==typeof e?SHA256_buf.concat(t(e)):SHA256_buf.concat(e);for(var n=0;n+64<=SHA256_buf.length;n+=64)h(SHA256_H,SHA256_buf.slice(n,n+64));SHA256_buf=SHA256_buf.slice(n),SHA256_len+=e.length}function r(){if(SHA256_buf[SHA256_buf.length]=128,SHA256_buf.length>56){for(var e=SHA256_buf.length;e<64;e++)SHA256_buf[e]=0;h(SHA256_H,SHA256_buf),SHA256_buf.length=0}for(e=SHA256_buf.length;e<59;e++)SHA256_buf[e]=0;SHA256_buf[59]=SHA256_len>>>29&255,SHA256_buf[60]=SHA256_len>>>21&255,SHA256_buf[61]=SHA256_len>>>13&255,SHA256_buf[62]=SHA256_len>>>5&255,SHA256_buf[63]=SHA256_len<<3&255,h(SHA256_H,SHA256_buf);var t=new Array(32);for(e=0;e<8;e++)t[4*e+0]=SHA256_H[e]>>>24,t[4*e+1]=SHA256_H[e]>>16&255,t[4*e+2]=SHA256_H[e]>>8&255,t[4*e+3]=255&SHA256_H[e];return SHA256_H=null,SHA256_buf=null,SHA256_len=null,t}var s=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),o=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298);function a(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function l(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function c(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e,t,n){return n^e&(t^n)}function u(e,t,n){return e&t^n&(e^t)}function h(e,t){for(var n=new Array(16),i=0;i<16;i++)n[i]=t[4*i+0]<<24|t[4*i+1]<<16|t[4*i+2]<<8|t[4*i+3];!function(e,t){for(var n=16;n<64;n++)t[n]=4294967295&(((i=t[n-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)+t[n-7]+a(t[n-15])+t[n-16];var i,r=(new Array).concat(e);for(n=0;n<64;n++){var s=r[7]+c(r[4])+d(r[4],r[5],r[6])+o[n]+t[n],h=l(r[0])+u(r[0],r[1],r[2]);r.pop(),r.unshift(s+h&4294967295),r[4]=r[4]+s&4294967295}for(n=0;n<8;n++)e[n]=e[n]+r[n]&4294967295}(e,n)}e.exports={SHA256_hash:function(e){return n(),i(e),function(e){for(var t="",n=0;n<e.length;n++)t+=s[e[n]>>4]+s[15&e[n]];return t}(r())},HMAC_SHA256_init:function(e){HMAC_SHA256_key="string"==typeof e?t(e):(new Array).concat(e),HMAC_SHA256_key.length>64&&(n(),i(HMAC_SHA256_key),HMAC_SHA256_key=r());for(var s=HMAC_SHA256_key.length;s<64;s++)HMAC_SHA256_key[s]=0;for(s=0;s<64;s++)HMAC_SHA256_key[s]^=54;n(),i(HMAC_SHA256_key)},HMAC_SHA256_write:function(e){i(e)},HMAC_SHA256_finalize:function(){for(var e=r(),t=0;t<64;t++)HMAC_SHA256_key[t]^=106;for(n(),i(HMAC_SHA256_key),i(e),t=0;t<64;t++)HMAC_SHA256_key[t]=0;return HMAC_SHA256_key=null,r()}}},95882:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},'<ul class="js-file-list-items list browse-directory-list"></ul> <div class="js-file-list-truncated-message css-file-list-truncated-message"></div> '}))},231:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o="";return(o+='<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">')+((0,this.escapeExpression)((s=n.message)||"function"==typeof(s=t&&t.message)?s.call(t,{hash:{},data:r}):s)+"</span> ")}))},29847:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,r,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,a,l="";return l+='<button class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <i class="alert-icon glyphicon ',((o=(a=n(96153),a&&(a.__esModule?a.default:a)).call(t,t&&t.type,"success",{hash:{},inverse:this.program(3,(function(e,t){return"circle-exclamation-mark"}),s),fn:this.program(1,(function(e,t){return"circle-ok"}),s),data:s}))||0===o)&&(l+=o),l+='"></i> <h4>',((o="function"==typeof(o=t&&t.message)?o.apply(t):o)||0===o)&&(l+=o),l+"</h4> "}))},86190:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression;return l+'<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">'+c(r(n(88920)).call(t,"A new TV tuner ({tunerMake} {tunerModel}) has been found! Plex DVR is the easiest way to record your favorite shows!",{hash:{tunerModel:t&&t.model,tunerMake:t&&t.make},data:o}))+'</span> <a class="setup-link link" href="'+c("function"==typeof(a=t&&t.dvrSettingsRoute)?a.apply(t):a)+'">'+c(r(n(88920)).call(t,"Learn more",{hash:{},data:o}))+"</a> "}))},87955:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d=this;function u(e,t){return""+" "+c(r(n(68325)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}return((a=i.if.call(t,t&&t.settings,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,o="";return o+=' <div class="setup-agent-section"> <div class="setup-agent-title">'+c(r(n(88920)).call(e,"{1} Settings",e&&e.escapedAgentName,{hash:{},data:t}))+'</div> <p class="setup-agent-disclaimer">'+c(r(n(88920)).call(e,"Note: These settings will take effect for all libraries using the {1} agent.",e&&e.escapedAgentName,{hash:{},data:t}))+'</p> <div class="setup-agent-settings"> ',((s=i.each.call(e,e&&e.settings,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===s)&&(o+=s),o+" </div> </div> "}),o),data:o}))||0===a)&&(l+=a),l+" "}))},64038:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a="",l=this.escapeExpression;return a+'<form class="edit-section-type-form settings-container"> <p>'+l(r(n(88920)).call(t,"There was an error adding this library.",{hash:{},data:o}))+"</p> <p>"+l(r(n(88920)).call(t,"Please visit the {1}forums{2} and provide your logs, as described {3}here{4}.",'<a href="https://forums.plex.tv" target="_blank">',"</a>",'<a href="http://support.plex.tv/hc/en-us/articles/200250417-Log-File-Locations/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:o}))+"</p> </form> "}))},8710:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o="",a="function",l=this.escapeExpression;return o+'<a class="striped-list-item" href="#" data-key="'+l(typeof(s=null==(s=t&&t.filePath)||!1===s?s:s.key)===a?s.apply(t):s)+'"> <i class="glyphicon file"></i> '+l(typeof(s=null==(s=t&&t.filePath)||!1===s?s:s.title)===a?s.apply(t):s)+" </a> "}))},98651:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o="",a=this,l="function",c=this.escapeExpression;function d(e,t){return"home"}function u(e,t){var i;return(i=n.if.call(e,null==(i=e&&e.filePath)||!1===i?i:i.network,{hash:{},inverse:a.program(9,p,t),fn:a.program(7,h,t),data:t}))||0===i?i:""}function h(e,t){return"globe"}function p(e,t){var i;return(i=n.if.call(e,e&&e.isRoot,{hash:{},inverse:a.program(12,m,t),fn:a.program(10,g,t),data:t}))||0===i?i:""}function g(e,t){return"hdd"}function m(e,t){return"folder-open"}return o+='<a class="striped-list-item" href="#" data-key="'+c(typeof(s=null==(s=t&&t.filePath)||!1===s?s:s.key)===l?s.apply(t):s)+'" title="'+c(typeof(s=null==(s=t&&t.filePath)||!1===s?s:s.title)===l?s.apply(t):s)+'" aria-label="'+c(typeof(s=null==(s=t&&t.filePath)||!1===s?s:s.title)===l?s.apply(t):s)+'"> <i class="folder-icon glyphicon ',((s=n.if.call(t,null==(s=t&&t.filePath)||!1===s?s:s.isBackShortcut,{hash:{},inverse:a.program(3,(function(e,t){var i;return(i=n.if.call(e,null==(i=e&&e.filePath)||!1===i?i:i.home,{hash:{},inverse:a.program(6,u,t),fn:a.program(4,d,t),data:t}))||0===i?i:""}),r),fn:a.program(1,(function(e,t){return"left-arrow"}),r),data:r}))||0===s)&&(o+=s),o+'"></i>&nbsp;'+c(typeof(s=null==(s=t&&t.filePath)||!1===s?s:s.title)===l?s.apply(t):s)+' <div class="loading loading-sm loading-inline hidden"></div> </a> '}))},21887:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,r,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,a="",l="function",c=this.escapeExpression,d=this;return a+='<div class="card card-section"> <div class="card-actions"> <button class="edit-section-btn card-action-btn"><i class="glyphicon pencil"></i></button> <button class="delete-section-btn card-action-btn btn-danger"><i class="glyphicon remove-2"></i></button> </div> <i class="section-icon glyphicon '+c(typeof(o=t&&t.icon)===l?o.apply(t):o)+'"></i> <span class="section-title"></span> ',((o=i.if.call(t,t&&t.path,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var n;return""+'<span class="section-path">'+c(typeof(n=e&&e.path)===l?n.apply(e):n)+"</span>"}),s),data:s}))||0===o)&&(a+=o),a+=" ",((o=i.if.call(t,t&&t.more,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var i;return""+'<span class="section-count">'+c((i=n(88920),i&&(i.__esModule?i.default:i)).call(e,"…and {count} more",{hash:{count:e&&e.more},data:t}))+"</span>"}),s),data:s}))||0===o)&&(a+=o),a+" </div> "}))},26719:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a="",l=this.escapeExpression;return a+'<div class="modal-dialog"> <div class="modal-content"> <form name="add-folder-form"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon folder-plus"></i> '+l(r(n(88920)).call(t,"Add Folder",{hash:{},data:o}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <div class="row"> <div class="col-md-12"> <input type="text" name="path" class="form-control" value=""> </div> </div> <div class="row directory-container-row"> <div class="home-directory-container col-md-5"></div> <div class="col-md-7"> <div class="path-container"></div> <div class="file-container"></div> </div> </div> </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+l(r(n(88920)).call(t,"Cancel",{hash:{},data:o}))+'</button> <button type="submit" class="add-btn btn btn-primary">'+l(r(n(88920)).call(t,"Add",{hash:{},data:o}))+"</button> </div> </form> </div> </div> "}))},65975:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d="function",u=this;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-exclamation-mark"></i> '+c(typeof(a=t&&t.title)===d?a.apply(t):a)+'</h4> </div> <div class="modal-body"> <p class="confirm-message">'+c(typeof(a=t&&t.message)===d?a.apply(t):a)+'</p> <p class="double-confirm-message text-warning">'+c(typeof(a=t&&t.warningMessage)===d?a.apply(t):a)+'</p> </div> <div class="modal-footer"> ',((a=i.unless.call(t,t&&t.hideCancel,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return""+' <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(r(n(88920)).call(e,e&&e.cancelLabel,{hash:{},data:t}))+"</button> "}),o),data:o}))||0===a)&&(l+=a),l+=' <button type="button" class="confirm-btn btn btn-lg ',((a=i.if.call(t,t&&t.hasDanger,{hash:{},inverse:u.program(5,(function(e,t){return"btn-primary"}),o),fn:u.program(3,(function(e,t){return"btn-danger"}),o),data:o}))||0===a)&&(l+=a),l+' btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(r(n(88920)).call(t,t&&t.confirmLabel,{hash:{},data:o}))+"</span> </button> </div> </div> </div> "}))},25455:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c="function",d=this.escapeExpression,u=this;function h(e,t){var n;return""+'download="'+d(typeof(n=e&&e.downloadName)===c?n.apply(e):n)+'"'}function p(e,t){var n;return""+" "+d(typeof(n=e&&e.title)===c?n.apply(e):n)+' <span class="title-separator">•</span> '}function g(e,t){var s,o="";return o+=" "+d(r(n(87601)).call(e,e&&e.videoResolution,{hash:{},data:t})),((s=i.if.call(e,e&&e.bitrate,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===s)&&(o+=s),o+" "}function m(e,t){return","}function f(e,t){return""+" "+d(r(n(21125)).call(e,e&&e.bitrate,{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon download-alt"></i> '+d(r(n(88920)).call(t,"Download a Version",{hash:{},data:o}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list download-list"> ',((a=i.each.call(t,t&&t.mediaItems,{hash:{},inverse:u.noop,fn:u.programWithDepth(1,(function(e,t,s){var o,a="";return a+=' <li class="striped-list-item select-list-item download-list-item"> <a class="media" data-value="'+d(typeof(o=null==t||!1===t?t:t.index)===c?o.apply(e):o)+'" href="'+d(typeof(o=e&&e.downloadUrl)===c?o.apply(e):o)+'" target="'+d(typeof(o=s&&s.defaultLinkTarget)===c?o.apply(e):o)+'" ',((o=r(n(75921)).call(e,s&&s.defaultLinkTarget,"_blank",{hash:{},inverse:u.noop,fn:u.program(2,h,t),data:t}))||0===o)&&(a+=o),a+="> ",((o=i.if.call(e,e&&e.title,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===o)&&(a+=o),a+=" ",((o=i.if.call(e,e&&e.videoResolution,{hash:{},inverse:u.noop,fn:u.program(6,g,t),data:t}))||0===o)&&(a+=o),a+=" ",((o=i.if.call(e,e&&e.bitrate,{hash:{},inverse:u.noop,fn:u.program(9,f,t),data:t}))||0===o)&&(a+=o),a+" </a> </li> "}),o,t),data:o}))||0===a)&&(l+=a),l+" </ul> </div> </div> </div> "}))},3698:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d=this;function u(e,t){return" selected"}function h(e,t){return""+" "+c(r(n(88920)).call(e,"Select type",{hash:{},data:t}))+" "}function p(e,t){return""+" "+c(r(n(88920)).call(e,"General",{hash:{},data:t}))+" "}function g(e,t){return"disabled"}function m(e,t){return"hidden"}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> ',((a=i.if.call(t,t&&t.add,{hash:{},inverse:d.program(3,(function(e,t){var n;return""+' <i class="modal-icon glyphicon pencil"></i> '+c("function"==typeof(n=e&&e.paneTitle)?n.apply(e):n)+" "}),o),fn:d.program(1,(function(e,t){return""+' <i class="modal-icon glyphicon plus"></i> '+c(r(n(88920)).call(e,"Add {1} Library",'<span class="section-type-title"></span>',{hash:{},data:t}))+" "}),o),data:o}))||0===a)&&(l+=a),l+=' </h4> </div> <div class="modal-body modal-body-scroll modal-body-with-panes"> ',((a=i.if.call(t,t&&t.isLoading,{hash:{},inverse:d.program(7,(function(e,t){var s,o="";return o+=' <div class="modal-nav-pane dark-scrollbar"> <ul class="list modal-nav-list"> <li> <a class="btn-gray change-pane-btn type-btn',((s=r(n(96153)).call(e,e&&e.selectedPane,"type",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===s)&&(o+=s),o+='" data-pane="type" href="#"> <i class="modal-nav-icon glyphicon align-center"></i> ',((s=i.if.call(e,e&&e.add,{hash:{},inverse:d.program(12,p,t),fn:d.program(10,h,t),data:t}))||0===s)&&(o+=s),o+=' </a> </li> <li> <a class="btn-gray change-pane-btn folders-btn',((s=r(n(96153)).call(e,e&&e.selectedPane,"folders",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===s)&&(o+=s),o+=" ",((s=i.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,g,t),data:t}))||0===s)&&(o+=s),o+=" ",((s=i.unless.call(e,e&&e.showFolders,{hash:{},inverse:d.noop,fn:d.program(16,m,t),data:t}))||0===s)&&(o+=s),o+='" data-pane="folders" href="#"> <i class="modal-nav-icon glyphicon folder-open"></i> '+c(r(n(88920)).call(e,"Add folders",{hash:{},data:t}))+' </a> </li> <li> <a class="btn-gray change-pane-btn options-btn',((s=r(n(96153)).call(e,e&&e.selectedPane,"options",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===s)&&(o+=s),o+=" ",((s=i.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,g,t),data:t}))||0===s)&&(o+=s),o+=' hidden" data-pane="options" href="#"> <i class="modal-nav-icon glyphicon magic"></i> '+c(r(n(88920)).call(e,"Options",{hash:{},data:t}))+' </a> </li> <li> <a class="btn-gray change-pane-btn advanced-btn',((s=r(n(96153)).call(e,e&&e.selectedPane,"advanced",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===s)&&(o+=s),o+=" ",((s=i.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,g,t),data:t}))||0===s)&&(o+=s),o+'" data-pane="advanced" href="#"> <i class="modal-nav-icon glyphicon cogwheel"></i> '+c(r(n(88920)).call(e,"Advanced",{hash:{},data:t}))+' </a> </li> </ul> </div> <div class="modal-body-pane pane-region dark-scrollbar"> </div> '}),o),fn:d.program(5,(function(e,t){return' <div class="modal-body-pane pane-region dark-scrollbar"> <div class="loading loading-inline"></div> </div> '}),o),data:o}))||0===a)&&(l+=a),l+=' </div> <div class="modal-footer"> <span class="form-message"></span> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+c(r(n(88920)).call(t,"Cancel",{hash:{},data:o}))+'</button> <button type="button" class="save-btn btn btn-primary btn-loading ',((a=i.if.call(t,t&&t.add,{hash:{},inverse:d.noop,fn:d.program(14,g,o),data:o}))||0===a)&&(l+=a),l+='"> <div class="loading loading-sm"></div> <span class="btn-label"> <span class="save-btn-label-next">'+c(r(n(88920)).call(t,"Next",{hash:{},data:o}))+'</span> <span class="save-btn-label-save"> ',((a=i.if.call(t,t&&t.add,{hash:{},inverse:d.program(20,(function(e,t){return""+" "+c(r(n(88920)).call(e,"Save Changes",{hash:{},data:t}))+" "}),o),fn:d.program(18,(function(e,t){return""+" "+c(r(n(88920)).call(e,"Add Library",{hash:{},data:t}))+" "}),o),data:o}))||0===a)&&(l+=a),l+" </span> </span> </button> </div> </div> </div> "}))},85115:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d=this;function u(e,t){return""+" "+c(r(n(88920)).call(e,"Settings",{hash:{},data:t}))+" "}function h(e,t){return""+" "+c(r(n(88920)).call(e,"Sign In",{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-exclamation-mark"></i> ',((a=i.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(3,(function(e,t){return""+" "+c(r(n(88920)).call(e,"Plex Pass Required",{hash:{},data:t}))+" "}),o),fn:d.program(1,(function(e,t){return""+" "+c(r(n(88920)).call(e,"Internet Required",{hash:{},data:t}))+" "}),o),data:o}))||0===a)&&(l+=a),l+=' </h4> </div> <div class="modal-body"> <p class="confirm-message"> ',((a=i.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(7,(function(e,t){return""+" "+c(r(n(88920)).call(e,"This library requires your server be signed in to a Plex Pass account.",{hash:{},data:t}))+" "}),o),fn:d.program(5,(function(e,t){return""+" "+c(r(n(88920)).call(e,"This server cannot reach the Internet. Please verify connectivity and try again.",{hash:{},data:t}))+" "}),o),data:o}))||0===a)&&(l+=a),l+=' </p> </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(r(n(88920)).call(t,"Ignore",{hash:{},data:o}))+"</button> ",((a=i.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(11,(function(e,t){var n,r="";return r+=' <a class="confirm-btn btn btn-lg btn-primary" href="'+c("function"==typeof(n=e&&e.serverSettingsRoute)?n.apply(e):n)+'"> ',((n=i.if.call(e,e&&e.isSignedIn,{hash:{},inverse:d.program(14,h,t),fn:d.program(12,u,t),data:t}))||0===n)&&(r+=n),r+" </a> "}),o),fn:d.program(9,(function(e,t){return""+' <button type="button" class="confirm-btn btn btn-lg btn-primary">'+c(r(n(88920)).call(e,"OK",{hash:{},data:t}))+"</button> "}),o),data:o}))||0===a)&&(l+=a),l+" </div> </div> </div> "}))},71919:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d="function",u=this;function h(e,t,n){var r,s="";return s+=' <ul class="media-info-file-list well"> ',((r=i.if.call(e,n&&n.showDeleteFile,{hash:{},inverse:u.noop,fn:u.program(5,p,t),data:t}))||0===r)&&(s+=r),s+=" ",((r=i.each.call(e,e&&e.Part,{hash:{},inverse:u.noop,fn:u.programWithDepth(10,f,t,n),data:t}))||0===r)&&(s+=r),s+" </ul> "}function p(e,t){var i,s="";return s+=' <a href="#" data-media-item="'+c(typeof(i=null==t||!1===t?t:t.index)===d?i.apply(e):i)+'" class="delete-btn text-danger pull-right"> <i class="glyphicon bin"></i> ',((i=r(n(96153)).call(e,null==(i=e&&e.Part)||!1===i?i:i.length,"1",{hash:{},inverse:u.program(8,m,t),fn:u.program(6,g,t),data:t}))||0===i)&&(s+=i),s+" </a> "}function g(e,t){return""+" "+c(r(n(88920)).call(e,"Delete File",{hash:{},data:t}))+" "}function m(e,t){return""+" "+c(r(n(88920)).call(e,"Delete Files",{hash:{},data:t}))+" "}function f(e,t,n){var r,s="";return s+=" <li> ",((r=i.if.call(e,n&&n.showFilepath,{hash:{},inverse:u.program(13,v,t),fn:u.program(11,y,t),data:t}))||0===r)&&(s+=r),s+=" ",((r=i.unless.call(e,e&&e.accessible,{hash:{},inverse:u.noop,fn:u.program(15,b,t),data:t}))||0===r)&&(s+=r),s+" </li> "}function y(e,t){var n;return""+" "+c(typeof(n=e&&e.file)===d?n.apply(e):n)+" "}function v(e,t){return""+" "+c(r(n(63033)).call(e,e&&e.file,{hash:{},data:t}))+" "}function b(e,t){var n,r="";return r+=" ",((n=i.if.call(e,e&&e.exists,{hash:{},inverse:u.program(18,S,t),fn:u.program(16,Z,t),data:t}))||0===n)&&(r+=n),r+" "}function Z(e,t){return""+' <span class="label label-danger" data-toggle="tooltip" title="'+c(r(n(88920)).call(e,"Please check the permissions for this file.",{hash:{},data:t}))+'">'+c(r(n(88920)).call(e,"Inaccessible",{hash:{},data:t}))+"</span> "}function S(e,t){return""+' <span class="label label-danger" data-toggle="tooltip" title="'+c(r(n(88920)).call(e,"Please check that this file exists and the necessary drive is mounted.",{hash:{},data:t}))+'">'+c(r(n(88920)).call(e,"Unavailable",{hash:{},data:t}))+"</span> "}function I(e,t){var i;return""+' <li> <span class="detail-label">'+c(r(n(88920)).call(e,e&&e.name,{hash:{},data:t}))+'</span> <span class="detail">'+c(typeof(i=e&&e.value)===d?i.apply(e):i)+"</span> </li> "}function M(e,t,s){var o,a="";return a+=' <div class="part"> <div class="props"> <h4>'+c(r(n(88920)).call(e,"Part",{hash:{},data:t}))+"</h4> <ul> ",((o=i.each.call(e,e&&e.properties,{hash:{},inverse:u.noop,fn:u.program(21,I,t),data:t}))||0===o)&&(a+=o),a+=' </ul> </div> <div class="streams"> ',((o=i.each.call(e,e&&e.Stream,{hash:{},inverse:u.noop,fn:u.program(24,w,t),data:t}))||0===o)&&(a+=o),a+=" ",((o=i.if.call(e,s&&s.loading,{hash:{},inverse:u.noop,fn:u.program(33,E,t),data:t}))||0===o)&&(a+=o),a+" </div> </div> "}function w(e,t){var s,o="";return o+=' <div class="props"> ',((s=r(n(96153)).call(e,e&&e.streamType,"1",{hash:{},inverse:u.program(27,C,t),fn:u.program(25,P,t),data:t}))||0===s)&&(o+=s),o+=" <ul> ",((s=i.each.call(e,e&&e.properties,{hash:{},inverse:u.noop,fn:u.program(21,I,t),data:t}))||0===s)&&(o+=s),o+" </ul> </div> "}function P(e,t){return""+" <h4>"+c(r(n(88920)).call(e,"Video",{hash:{},data:t}))+"</h4> "}function C(e,t){var i;return(i=r(n(96153)).call(e,e&&e.streamType,"2",{hash:{},inverse:u.program(30,A,t),fn:u.program(28,D,t),data:t}))||0===i?i:""}function D(e,t){return""+" <h4>"+c(r(n(88920)).call(e,"Audio",{hash:{},data:t}))+"</h4> "}function A(e,t){var i;return(i=r(n(96153)).call(e,e&&e.streamType,"3",{hash:{},inverse:u.noop,fn:u.program(31,x,t),data:t}))||0===i?i:""}function x(e,t){return""+" <h4>"+c(r(n(88920)).call(e,"Subtitles",{hash:{},data:t}))+"</h4> "}function E(e,t){return""+' <div class="props"> <h4>'+c(r(n(88920)).call(e,"Loading",{hash:{},data:t}))+"...</h4> </div> "}function T(e,t){var i;return""+' <div class="modal-footer"> <div class="pull-left"> <a href="'+c(typeof(i=e&&e.url)===d?i.apply(e):i)+'" target="_blank">'+c(r(n(88920)).call(e,"View XML",{hash:{},data:t}))+"</a> </div> </div> "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-info"></i> '+c(r(n(88920)).call(t,"Media Info",{hash:{},data:o}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <div class="position-ref ',((a=i.unless.call(t,t&&t.hasStreams,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"hide-streams-column"}),o),data:o}))||0===a)&&(l+=a),l+='"> ',((a=i.if.call(t,t&&t.hasFiles,{hash:{},inverse:u.noop,fn:u.program(3,(function(e,t){var s,o="";return o+=' <div class="files"> <h4>'+c(r(n(88920)).call(e,"Files",{hash:{},data:t}))+"</h4> ",((s=i.each.call(e,e&&e.media,{hash:{},inverse:u.noop,fn:u.programWithDepth(4,h,t,e),data:t}))||0===s)&&(o+=s),o+" </div> "}),o),data:o}))||0===a)&&(l+=a),l+=" ",((a=i.each.call(t,t&&t.media,{hash:{},inverse:u.noop,fn:u.programWithDepth(20,(function(e,t,s){var o,a="";return a+=' <div class="media"> <div class="props"> <h4>'+c(r(n(88920)).call(e,"Media",{hash:{},data:t}))+"</h4> <ul> ",((o=i.each.call(e,e&&e.properties,{hash:{},inverse:u.noop,fn:u.program(21,I,t),data:t}))||0===o)&&(a+=o),a+=" </ul> </div> ",((o=i.each.call(e,e&&e.Part,{hash:{},inverse:u.noop,fn:u.programWithDepth(23,M,t,s),data:t}))||0===o)&&(a+=o),a+" </div> "}),o,t),data:o}))||0===a)&&(l+=a),l+=" </div> </div> ",((a=i.if.call(t,t&&t.key,{hash:{},inverse:u.noop,fn:u.programWithDepth(35,(function(e,t,n){var r;return(r=i.if.call(e,n&&n.showFilepath,{hash:{},inverse:u.noop,fn:u.program(36,T,t),data:t}))||0===r?r:""}),o,t),data:o}))||0===a)&&(l+=a),l+" </div> </div> "}))},94983:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-arrow-right"></i> '+c(r(n(88920)).call(t,"Go Premium",{hash:{},data:o}))+' </h4> </div> <div class="modal-body"> <p class="text-center"><i class="plex-image plex-pass"></i></p> <h4 class="text-center">'+c(r(n(88920)).call(t,"This feature requires a Plex Pass subscription.",{hash:{},data:o}))+"</h4> ",((a=i.if.call(t,t&&t.isClaimed,{hash:{},inverse:this.program(3,(function(e,t){return""+' <p class="text-muted">'+c(r(n(88920)).call(e,'The server "{1}" has not been claimed. This server must be claimed by an account with a Plex Pass subscription.',e&&e.escapedFriendlyName,{hash:{},data:t}))+"</p> "}),o),fn:this.program(1,(function(e,t){return""+' <p class="text-muted">'+c(r(n(88920)).call(e,"Everything you need to experience the best of Plex. Your subscription gives you premium features and exclusive access to new ones.",{hash:{},data:t}))+"</p> "}),o),data:o}))||0===a)&&(l+=a),l+' <p class="text-center"> <a class="btn btn-sm btn-primary" href="'+c("function"==typeof(a=t&&t.plexPassUrl)?a.apply(t):a)+'" target="_blank">'+c(r(n(88920)).call(t,"Learn More",{hash:{},data:o}))+"</a> </p> </div> </div> </div> "}))},9739:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression;return l+'<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-exclamation-mark"></i> '+c(r(n(88920)).call(t,"Limited Connection",{hash:{},data:o}))+" - "+c("function"==typeof(a=t&&t.serverName)?a.apply(t):a)+' </h4> </div> <div class="modal-body"> <p> '+c(r(n(88920)).call(t,"You are not connected directly to {1} so streaming quality may be limited. You may be able to connect directly to this server by changing your home network settings. {2}Learn more{3}",t&&t.escapedServerName,'<a href="https://help.plex.tv/relay" target="_blank" class="learn-more">',"</a>",{hash:{},data:o}))+' </p> </div> <div class="modal-footer"> <button type="button" class="confirm-btn btn btn-lg btn-primary">'+c(r(n(88920)).call(t,"OK",{hash:{},data:o}))+"</button> </div> </div> </div> "}))},76380:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon file"></i> '+c(r(n(88920)).call(t,"Select a File",{hash:{},data:o}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list"> ',((a=i.each.call(t,t&&t.medias,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,s="";return s+=' <li class="striped-list-item select-list-item"> <a class="media" data-value="'+c("function"==typeof(i=null==t||!1===t?t:t.index)?i.apply(e):i)+'" href="#"> ',((i=r(n(10424)).call(e,null==(i=null==(i=e&&e.Part)||!1===i?i:i[0])||!1===i?i:i.file,35,{hash:{},data:t}))||0===i)&&(s+=i),s+" </a> </li> "}),o),data:o}))||0===a)&&(l+=a),l+" </ul> </div> </div> </div> "}))},62196:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression;return l+='<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-error-icon"><i class="glyphicon circle-exclamation-mark"></i></p> </div> <div class="col-sm-8"> <h4> ',((a=i.if.call(t,t&&t.status,{hash:{},inverse:this.program(3,(function(e,t){return""+" "+c(r(n(88920)).call(e,"There was a problem preparing for optimization.",{hash:{},data:t}))+" "}),o),fn:this.program(1,(function(e,t){var n;return""+" "+c("function"==typeof(n=e&&e.status)?n.apply(e):n)+" "}),o),data:o}))||0===a)&&(l+=a),l+' </h4> <h4><a class="try-again-link" href="#">'+c(r(n(88920)).call(t,"Try again",{hash:{},data:o}))+"</a></h4> </div> </div> "}))},25213:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d=this;function u(e,t){return"selected"}return l+='<label class="control-label" for="convert-storage-location">'+c(r(n(88920)).call(t,"Version storage location",{hash:{},data:o}))+'</label> <select id="convert-storage-location" class="storage-location-select" name="storageLocation" ',((a=i.if.call(t,t&&t.disableLocation,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"disabled"}),o),data:o}))||0===a)&&(l+=a),l+='> <option value="-1" ',((a=r(n(96153)).call(t,t&&t.selectedLocationID,-1,{hash:{},inverse:d.noop,fn:d.program(3,u,o),data:o}))||0===a)&&(l+=a),l+=">"+c(r(n(88920)).call(t,"In folders with original items",{hash:{},data:o}))+"</option> ",((a=i.each.call(t,t&&t.locations,{hash:{},inverse:d.noop,fn:d.programWithDepth(5,(function(e,t,i){var s,o="";return o+=' <option value="'+c("function"==typeof(s=e&&e.id)?s.apply(e):s)+'" ',((s=r(n(96153)).call(e,i&&i.selectedLocationID,e&&e.id,{hash:{},inverse:d.noop,fn:d.program(3,u,t),data:t}))||0===s)&&(o+=s),o+">"+c(r(n(96843)).call(e,e&&e.path,50,20,{hash:{},data:t}))+"</option> "}),o,t),data:o}))||0===a)&&(l+=a),l+' </select> <p class="help-block">'+c(r(n(88920)).call(t,'A "Plex Versions" folder will be created in your chosen location.',{hash:{},data:o}))+"</p> "}))},41933:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d=this;function u(e,t){return"hidden"}function h(e,t){return"checked"}return l+='<div class="form-group ',((a=i.unless.call(t,t&&t.showUnwatched,{hash:{},inverse:d.noop,fn:d.program(1,u,o),data:o}))||0===a)&&(l+=a),l+='"> <label class="control-label"> <input type="checkbox" id="convert-policy-unwatched" name="policyUnwatched" ',((a=i.if.call(t,null==(a=t&&t.policy)||!1===a?a:a.unwatched,{hash:{},inverse:d.noop,fn:d.program(3,h,o),data:o}))||0===a)&&(l+=a),l+="> "+c(r(n(88920)).call(t,"Unwatched only",{hash:{},data:o}))+' </label> </div> <div class="form-group ',((a=i.unless.call(t,t&&t.isDirectory,{hash:{},inverse:d.noop,fn:d.program(1,u,o),data:o}))||0===a)&&(l+=a),l+='"> <label class="control-label"> <input type="checkbox" id="convert-policy-scope" name="policyScope" value="count" ',((a=r(n(96153)).call(t,null==(a=t&&t.policy)||!1===a?a:a.scope,"count",{hash:{},inverse:d.noop,fn:d.program(3,h,o),data:o}))||0===a)&&(l+=a),l+="> "+c(r(n(88920)).call(t,"Limit to",{hash:{},data:o}))+' <input type="number" id="convert-policy-value" name="policyValue" class="policy-value-control form-control" ',((a=i.if.call(t,null==(a=t&&t.policy)||!1===a?a:a.value,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){var n;return""+'value="'+c("function"==typeof(n=null==(n=e&&e.policy)||!1===n?n:n.value)?n.apply(e):n)+'"'}),o),data:o}))||0===a)&&(l+=a),l+="> "+c(r(n(88920)).call(t,"items",{hash:{},data:o}))+' </label> <p class="convert-warning help-block ',((a=i.unless.call(t,t&&t.showLimitWarning,{hash:{},inverse:d.noop,fn:d.program(1,u,o),data:o}))||0===a)&&(l+=a),l+='"> <i class="convert-warning-icon glyphicon circle-exclamation-mark"></i> <span class="convert-warning-text"> ',((a=i.if.call(t,t&&t.isSync,{hash:{},inverse:d.program(9,(function(e,t){return""+" "+c(r(n(88920)).call(e,"A large number of items may be time-consuming to convert. If you have trouble, try reducing the number of items.",{hash:{},data:t}))+" "}),o),fn:d.program(7,(function(e,t){return""+" "+c(r(n(88920)).call(e,"A large number of sync items may be time-consuming to convert and transfer to your device. If you have trouble, try reducing the number of items.",{hash:{},data:t}))+" "}),o),data:o}))||0===a)&&(l+=a),l+" </span> </p> </div> "}))},88531:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d="function",u=this;function h(e,t){return"selected"}function p(e,t){return""+" - "+c(r(n(51956)).call(e,e&&e.mediaSettings,{hash:{},data:t}))}return l+='<select class="convert-target-select" name="target" ',((a=i.if.call(t,t&&t.disableTarget,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"disabled"}),o),data:o}))||0===a)&&(l+=a),l+="> ",((a=i.each.call(t,t&&t.targets,{hash:{},inverse:u.noop,fn:u.programWithDepth(3,(function(e,t,s){var o,a="";return a+=' <option value="'+c(typeof(o=e&&e.id)===d?o.apply(e):o)+'" ',((o=r(n(96153)).call(e,null==(o=s&&s.item)||!1===o?o:o.targetTagID,e&&e.id,{hash:{},inverse:u.noop,fn:u.program(4,h,t),data:t}))||0===o)&&(a+=o),a+="> "+c(typeof(o=e&&e.tag)===d?o.apply(e):o),((o=i.if.call(e,null==(o=e&&e.mediaSettings)||!1===o?o:o.videoResolution,{hash:{},inverse:u.noop,fn:u.program(6,p,t),data:t}))||0===o)&&(a+=o),a+" </option> "}),o,t),data:o}))||0===a)&&(l+=a),l+=' <option value="-1" ',((a=i.unless.call(t,null==(a=t&&t.item)||!1===a?a:a.targetTagID,{hash:{},inverse:u.noop,fn:u.program(4,h,o),data:o}))||0===a)&&(l+=a),l+=">"+c(r(n(88920)).call(t,"Custom",{hash:{},data:o}))+'</option> </select> <div class="convert-custom-target-container"> <input type="text" class="convert-target-title form-control" name="targetTitle" class="form-control" value="'+c(typeof(a=null==(a=t&&t.item)||!1===a?a:a.target)===d?a.apply(t):a)+'" placeholder="'+c(r(n(88920)).call(t,"Quality Name",{hash:{},data:o}))+'"> <select class="convert-target-profile-select" name="targetProfile"> ',((a=i.each.call(t,t&&t.profiles,{hash:{},inverse:u.noop,fn:u.programWithDepth(8,(function(e,t,i){var s,o="";return o+=' <option value="'+c(typeof(s=e&&e.title)===d?s.apply(e):s)+'" ',((s=r(n(96153)).call(e,null==(s=i&&i.selectedProfile)||!1===s?s:s.title,e&&e.title,{hash:{},inverse:u.noop,fn:u.program(4,h,t),data:t}))||0===s)&&(o+=s),o+"> "+c(typeof(s=e&&e.title)===d?s.apply(e):s)+" </option> "}),o,t),data:o}))||0===a)&&(l+=a),l+=' </select> <select class="convert-target-quality-select" name="targetQuality"> ',((a=i.each.call(t,t&&t.availableCustomQualities,{hash:{},inverse:u.noop,fn:u.programWithDepth(10,(function(e,t,i){var s,o="";return o+=' <option value="'+c(typeof(s=e&&e.index)===d?s.apply(e):s)+'" ',((s=r(n(96153)).call(e,null==(s=i&&i.selectedCustomQuality)||!1===s?s:s.index,e&&e.index,{hash:{},inverse:u.noop,fn:u.program(4,h,t),data:t}))||0===s)&&(o+=s),o+"> "+c(r(n(51956)).call(e,e,{hash:{},data:t}))+" </option> "}),o,t),data:o}))||0===a)&&(l+=a),l+' </select> </div> <p class="help-block">'+c(r(n(88920)).call(t,"Plex will convert your media to this quality. Each version will be stored in a separate file.",{hash:{},data:o}))+"</p> "}))},94160:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d=this,u="function";return l+='<form id="convert-form" class="settings-container"> <div class="modal-body"> <div class="form-group ',((a=i.unless.call(t,t&&t.showRemuxOnlyWarning,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"hidden"}),o),data:o}))||0===a)&&(l+=a),l+='"> <p class="convert-warning help-block"> <i class="convert-warning-icon glyphicon circle-exclamation-mark"></i> <span class="convert-warning-text"> '+c(r(n(88920)).call(t,"Video optimization may take a long time to complete on this server. You'll be able to use Plex normally while you wait.",{hash:{},data:o}))+' </span> </p> </div> <div class="form-group"> <label class="control-label" for="convert-title">'+c(r(n(88920)).call(t,"Title",{hash:{},data:o}))+'</label> <input type="text" id="convert-title" name="title" class="form-control" value="'+c(typeof(a=null==(a=t&&t.conversionItem)||!1===a?a:a.title)===u?a.apply(t):a)+'" placeholder="'+c(typeof(a=null==(a=t&&t.conversionItem)||!1===a?a:a.title)===u?a.apply(t):a)+'"> </div> <div class="policy-region"></div> <div class="targets-region"></div> <div class="location-region"></div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">'+c(r(n(88920)).call(t,"Cancel",{hash:{},data:o}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">',((a=i.if.call(t,t&&t.isNew,{hash:{},inverse:d.program(5,(function(e,t){return c(r(n(88920)).call(e,"Save",{hash:{},data:t}))}),o),fn:d.program(3,(function(e,t){return c(r(n(88920)).call(e,"Optimize",{hash:{},data:t}))}),o),data:o}))||0===a)&&(l+=a),l+"</span> </button> </div> </form> "}))},82973:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},'<div class="loading loading-inline"></div> '}))},60704:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,r,s){var o;return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{},""+'<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon restart"></i> '+(0,this.escapeExpression)((o=n(88920),o&&(o.__esModule?o.default:o)).call(t,"Optimize",{hash:{},data:s}))+'</h4> </div> <div class="modal-body-region"></div> </div> </div> '}))},14889:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a="",l=this.escapeExpression;return a+'<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-success-icon"><i class="glyphicon ok-2"></i></p> </div> <div class="col-sm-8"> <h4>'+l(r(n(88920)).call(t,"This media is being converted.",{hash:{},data:o}))+"</h4> <h4>"+l(r(n(88920)).call(t,"Watch the status of the conversion {1}here{2}.",'<a class="status-link" href="#">',"</a>",{hash:{},data:o}))+"</h4> </div> </div> "}))},39586:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},'<div class="modal-dialog"> <div class="modal-alert"></div> <div class="modal-content"></div> </div> '}))},19878:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,r,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,a,l="",c=this,d=this.escapeExpression;return((o=i.if.call(t,t&&t.disabled,{hash:{},inverse:c.program(3,(function(e,t){return' <a class="user-select-container" href="#"> '}),s),fn:c.program(1,(function(e,t){return' <div class="user-select-container"> '}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="user-select-top"> <div class="user-poster img-circle"> <span class="add-icon">',((o="function"==typeof(o=t&&t.iconAdd)?o.apply(t):o)||0===o)&&(l+=o),l+='</span> </div> </div> <div class="caption"> <div class="username">'+d((a=n(88920),a&&(a.__esModule?a.default:a)).call(t,"Add User…",{hash:{},data:s}))+"</div> </div> ",((o=i.if.call(t,t&&t.disabled,{hash:{},inverse:c.program(7,(function(e,t){return" </a> "}),s),fn:c.program(5,(function(e,t){return" </div> "}),s),data:s}))||0===o)&&(l+=o),l+" "}))},86582:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o="";return(o+='<span class="message">')+((0,this.escapeExpression)((s=n.message)||"function"==typeof(s=t&&t.message)?s.call(t,{hash:{},data:r}):s)+"</span> ")}))},84167:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d=this;function u(e,t){return""+" "+c(r(n(88920)).call(e,"Confirm Current PIN",{hash:{},data:t}))+" "}function h(e,t){var n;return(n=i.if.call(e,e&&e.isOpeningAddManagedUser,{hash:{},inverse:d.program(11,g,t),fn:d.program(9,p,t),data:t}))||0===n?n:""}function p(e,t){return""+" "+c(r(n(88920)).call(e,"Enter Admin PIN",{hash:{},data:t}))+" "}function g(e,t){return""+" "+c(r(n(88920)).call(e,"Enter PIN",{hash:{},data:t}))+" "}function m(e,t){return""+' <button type="button" class="remove-btn btn-gray pull-left">'+c(r(n(88920)).call(e,"Remove",{hash:{},data:t}))+"</button> "}function f(e,t){return""+' <button type="button" class="skip-btn btn-gray" data-dismiss="modal">'+c(r(n(88920)).call(e,"Skip",{hash:{},data:t}))+"</button> "}function y(e,t){return""+' <button type="button" class="cancel-btn btn-gray" data-dismiss="modal">'+c(r(n(88920)).call(e,"Cancel",{hash:{},data:t}))+"</button> "}return l+='<div class="modal-header"> <div class="home-user-dropdown-container pull-right"></div> <h4 class="modal-title"> ',((a=i.if.call(t,t&&t.showBackButton,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return' <a class="back-btn btn-gray" href="#"><i class="glyphicon chevron-left"></i></a> '}),o),data:o}))||0===a)&&(l+=a),l+=" ",((a=i.if.call(t,t&&t.isEditing,{hash:{},inverse:d.program(5,(function(e,t){var n;return(n=i.if.call(e,e&&e.isEditConfirmation,{hash:{},inverse:d.program(8,h,t),fn:d.program(6,u,t),data:t}))||0===n?n:""}),o),fn:d.program(3,(function(e,t){return""+' <i class="modal-icon glyphicon pencil"></i> '+c(r(n(88920)).call(e,"Edit PIN",{hash:{},data:t}))+" "}),o),data:o}))||0===a)&&(l+=a),l+=' <span class="loading loading-sm hidden"></span> </h4> </div> <form id="pin-form"> <div class="modal-body"> <ul class="tile-list user-select-list disabled"></ul> <input type="number" pattern="[0-9]*" class="pin-input"> <a class="pin-forgot-link btn-gray hidden" href="https://www.plex.tv/pin-reset/" target="_blank">'+c(r(n(88920)).call(t,"Forgot?",{hash:{},data:o}))+'</a> <div class="pin-digit-container" aria-hidden="true"> <div class="pin-digit"></div> <div class="pin-digit"></div> <div class="pin-digit"></div> <div class="pin-digit"></div> </div> ',((a=i.if.call(t,t&&t.isEditWarning,{hash:{},inverse:d.noop,fn:d.program(13,(function(e,t){return""+' <p class="help-block"> '+c(r(n(88920)).call(e,"You do not currently have a PIN. This will allow any users in this home to switch to your account.",{hash:{},data:t}))+" </p> "}),o),data:o}))||0===a)&&(l+=a),l+=" </div> ",((a=i.if.call(t,t&&t.isEditing,{hash:{},inverse:d.noop,fn:d.program(15,(function(e,t){var s,o="";return o+=' <div class="modal-footer"> ',((s=i.if.call(e,e&&e.hasCurrentPIN,{hash:{},inverse:d.noop,fn:d.program(16,m,t),data:t}))||0===s)&&(o+=s),o+=" ",((s=i.if.call(e,e&&e.isEditWarning,{hash:{},inverse:d.program(20,y,t),fn:d.program(18,f,t),data:t}))||0===s)&&(o+=s),o+' <button type="submit" class="save-btn btn-link">'+c(r(n(88920)).call(e,"Save",{hash:{},data:t}))+"</button> </div> "}),o),data:o}))||0===a)&&(l+=a),l+" </form> "}))},7601:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],r=r||{};var s,o="",a=this;return((s=(n=this.merge(n,e.helpers)).if.call(t,t&&t.disabled,{hash:{},inverse:a.program(3,(function(e,t){return' <a class="user-select-container" href="#"> '}),r),fn:a.program(1,(function(e,t){return' <div class="user-select-container"> '}),r),data:r}))||0===s)&&(o+=s),o+=' <div class="user-select-top"> <div class="user-poster img-circle"></div> <i class="protected-icon user-icon glyphicon lock"></i> <i class="admin-icon user-icon glyphicon crown"></i> </div> <div class="caption"> <div class="username"></div> <div class="managed-title"></div> <div class="managed-title-community"></div> </div> ',((s=n.if.call(t,t&&t.disabled,{hash:{},inverse:a.program(7,(function(e,t){return" </a> "}),r),fn:a.program(5,(function(e,t){return" </div> "}),r),data:r}))||0===s)&&(o+=s),o+" "}))},53866:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,r,s){var o;return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{},""+'<div class="modal-header"> <h4 class="modal-title"> '+(0,this.escapeExpression)((o=n(88920),o&&(o.__esModule?o.default:o)).call(t,"Select User",{hash:{},data:s}))+' <span class="loading loading-sm"></span> </h4> </div> <div class="modal-body"></div> '}))},59239:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,r,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,a,l="",c="function",d=this.escapeExpression;return l+='<div class="form-group" data-attr="'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'"> <label for="text-'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'" class="control-label">'+d((a=n(88920),a&&(a.__esModule?a.default:a)).call(t,t&&t.label,{hash:{},data:s}))+'<span class="control-error"></span></label> <div class="input-group selectize-group"> <input type="text" id="text-'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'" class="form-control text-field" name="'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'" placeholder="'+d(typeof(o=t&&t.placeholder)===c?o.apply(t):o)+'" data-rating-key="'+d(typeof(o=t&&t.ratingKey)===c?o.apply(t):o)+'" data-title="'+d(typeof(o=t&&t.title)===c?o.apply(t):o)+'" ',((o=i.if.call(t,t&&t.scopeToAttr,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n;return""+'data-scope-to-attr="'+d(typeof(n=e&&e.scopeToAttr)===c?n.apply(e):n)+'" data-scope-to-param="'+d(typeof(n=e&&e.scopeToParam)===c?n.apply(e):n)+'"'}),s),data:s}))||0===o)&&(l+=o),l+"> </div> </div> "}))},19734:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d=this;function u(e,t){return""+' <h4 class="server-connect-error-header">'+c(r(n(88920)).call(e,"Problem Connecting to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(r(n(88920)).call(e,"Your server was unable to reach Plex. Please ensure that the computer or device running your server can access the internet.",{hash:{},data:t}))+"</p> "}function h(e,t){return""+' <h4 class="server-connect-error-header">'+c(r(n(88920)).call(e,"Signed in to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(r(n(88920)).call(e,"You have successfully signed your server in to Plex, but we were unable to reach it from outside your network.",{hash:{},data:t}))+"</p> "}return((a=r(n(96153)).call(t,t&&t.mappingError,"badauth",{hash:{},inverse:d.program(3,(function(e,t){var i,s="";return((i=r(n(96153)).call(e,e&&e.mappingError,"myplexgone",{hash:{},inverse:d.program(6,h,t),fn:d.program(4,u,t),data:t}))||0===i)&&(s+=i),s+" "}),o),fn:d.program(1,(function(e,t){return""+' <h4 class="server-connect-error-header">'+c(r(n(88920)).call(e,"Problem Connecting to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(r(n(88920)).call(e,"Plex was unable to authenticate your server. Please sign your server out and try again.",{hash:{},data:t}))+"</p> "}),o),data:o}))||0===a)&&(l+=a),l+=" ",((a=r(n(75921)).call(t,t&&t.context,"settings",{hash:{},inverse:d.noop,fn:d.program(8,(function(e,t){return""+' <p class="text-muted">'+c(r(n(88920)).call(e,"If you skip this step you will not be able to share or stream media outside your home. If you change your mind later, you can adjust this in Settings.",{hash:{},data:t}))+"</p> "}),o),data:o}))||0===a)&&(l+=a),l+' <p class="text-muted">'+c(r(n(88920)).call(t,"If you would like to enable this now, you will need to configure your router or firewall to allow Plex to contact your server. Please refer to our {1}Connecting a Server{2} article for more information.",'<a href="http://support.plex.tv/hc/en-us/articles/200484543-Connecting-a-Server/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:o}))+"</p> "}))},28348:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,r,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,a,l="",c="function",d=this.escapeExpression,u=this;function h(e,t){return"disabled"}return l+='<div class="form-group"> <label for="lockable-'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'">'+d((a=n(88920),a&&(a.__esModule?a.default:a)).call(t,t&&t.label,{hash:{},data:s}))+'</label> <div class="input-group"> <a href="#" data-field="'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'" class="input-group-addon edit-lock-addon ',((o=i.if.call(t,t&&t.locked,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"locked"}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.disabled,{hash:{},inverse:u.noop,fn:u.program(3,h,s),data:s}))||0===o)&&(l+=o),l+='" tabindex="-1"><i class="glyphicon lock"></i></a> <input type="number" id="lockable-'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'" class="form-control lockable-field" name="'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'" value="'+d(typeof(o=t&&t.value)===c?o.apply(t):o)+'" placeholder="'+d(typeof(o=t&&t.placeholder)===c?o.apply(t):o)+'" ',((o=i.if.call(t,t&&t.disabled,{hash:{},inverse:u.noop,fn:u.program(3,h,s),data:s}))||0===o)&&(l+=o),l+"> </div> </div> "}))},51030:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,r,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,a,l="",c="function",d=this.escapeExpression,u=this;return l+='<div class="form-group"> <label for="lockable-'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'">'+d((a=n(88920),a&&(a.__esModule?a.default:a)).call(t,t&&t.label,{hash:{},data:s}))+'</label> <div class="input-group selectize-group"> <a href="#" data-field="'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'" class="input-group-addon edit-lock-addon',((o=i.if.call(t,t&&t.locked,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return" locked"}),s),data:s}))||0===o)&&(l+=o),l+='"><i class="glyphicon lock"></i></a> <input type="text" id="lockable-'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'" class="form-control lockable-field tag-input-hidden" data-name="'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'" data-attr="'+d(typeof(o=t&&t.attribute)===c?o.apply(t):o)+'" data-only-delete="'+d(typeof(o=t&&t.onlyDelete)===c?o.apply(t):o)+'" ',((o=i.if.call(t,t&&t.query,{hash:{},inverse:u.noop,fn:u.program(3,(function(e,t){var n;return""+'data-query="'+d(typeof(n=e&&e.query)===c?n.apply(e):n)+'"'}),s),data:s}))||0===o)&&(l+=o),l+"> </div> </div> "}))},71815:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c="function",d=this.escapeExpression,u=this;function h(e,t){var n;return""+' rows="'+d(typeof(n=e&&e.rows)===c?n.apply(e):n)+'"'}function p(e,t){var n;return""+'data-scope-to-attr="'+d(typeof(n=e&&e.scopeToAttr)===c?n.apply(e):n)+'" data-scope-to-param="'+d(typeof(n=e&&e.scopeToParam)===c?n.apply(e):n)+'"'}function g(e,t){var n;return""+'data-rating-key="'+d(typeof(n=e&&e.ratingKey)===c?n.apply(e):n)+'"'}return l+='<div class="form-group selectize-group" data-attr="'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'"> <label for="lockable-'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'">'+d(r(n(88920)).call(t,t&&t.label,{hash:{},data:o}))+'</label> <div class="input-group"> <a href="#" data-field="'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'" class="input-group-addon edit-lock-addon',((a=i.if.call(t,t&&t.locked,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return" locked"}),o),data:o}))||0===a)&&(l+=a),l+='" tabindex="-1"><i class="glyphicon lock"></i></a> ',((a=r(n(96153)).call(t,t&&t.type,"textarea",{hash:{},inverse:u.program(6,(function(e,t){var n,r="";return r+=' <input type="text" id="lockable-'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" class="form-control lockable-field" name="'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" value="'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+'" placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'" ',((n=i.if.call(e,e&&e.scopeToAttr,{hash:{},inverse:u.noop,fn:u.program(7,p,t),data:t}))||0===n)&&(r+=n),r+=" ",((n=i.if.call(e,e&&e.ratingKey,{hash:{},inverse:u.noop,fn:u.program(9,g,t),data:t}))||0===n)&&(r+=n),r+"> "}),o),fn:u.program(3,(function(e,t){var n,r="";return r+=' <textarea class="form-control lockable-field" id="lockable-'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" name="'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'"',((n=i.if.call(e,e&&e.rows,{hash:{},inverse:u.noop,fn:u.program(4,h,t),data:t}))||0===n)&&(r+=n),r+' placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'">'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+"</textarea> "}),o),data:o}))||0===a)&&(l+=a),l+" </div> </div> "}))},44710:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c="function",d=this.escapeExpression,u=this;function h(e,t){return"checked"}function p(e,t){var n;return""+' <p class="help-block">'+d(typeof(n=e&&e.summary)===c?n.apply(e):n)+"</p> "}function g(e,t){var n,r="";return r+=' <select id="input_'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+d(typeof(n=e&&e.idSuffix)===c?n.apply(e):n)+'" name="'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+'"> ',((n=i.each.call(e,e&&e.enumValues,{hash:{},inverse:u.noop,fn:u.programWithDepth(10,m,t,e),data:t}))||0===n)&&(r+=n),r+" </select> "}function m(e,t,i){var s,o="";return o+=' <option value="'+d(typeof(s=e&&e.value)===c?s.apply(e):s)+'" ',((s=r(n(96153)).call(e,e&&e.value,i&&i.value,{hash:{},inverse:u.noop,fn:u.program(11,f,t),data:t}))||0===s)&&(o+=s),o+">"+d(typeof(s=e&&e.label)===c?s.apply(e):s)+"</option> "}function f(e,t){return'selected="selected"'}function y(e,t){var s,o="";return o+=' <input type="',((s=r(n(96153)).call(e,e&&e.option,"hidden",{hash:{},inverse:u.program(16,b,t),fn:u.program(14,v,t),data:t}))||0===s)&&(o+=s),o+='" id="input_'+d(typeof(s=e&&e.id)===c?s.apply(e):s)+d(typeof(s=e&&e.idSuffix)===c?s.apply(e):s)+'" class="form-control" name="'+d(typeof(s=e&&e.id)===c?s.apply(e):s)+'" value="'+d(typeof(s=e&&e.value)===c?s.apply(e):s)+'" ',((s=i.if.call(e,e&&e.placeholder,{hash:{},inverse:u.noop,fn:u.program(18,Z,t),data:t}))||0===s)&&(o+=s),o+"> "}function v(e,t){return"password"}function b(e,t){return"text"}function Z(e,t){var n;return""+'placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'"'}return l+='<div class="form-group ',((a=i.if.call(t,t&&t.advanced,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"advanced-setting"}),o),data:o}))||0===a)&&(l+=a),l+='"> ',((a=r(n(96153)).call(t,t&&t.type,"bool",{hash:{},inverse:u.program(8,(function(e,t){var n,r="";return r+=' <label class="control-label" for="input_'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+d(typeof(n=e&&e.idSuffix)===c?n.apply(e):n)+'">'+d(typeof(n=e&&e.label)===c?n.apply(e):n)+"</label> ",((n=i.if.call(e,e&&e.enumValues,{hash:{},inverse:u.program(13,y,t),fn:u.program(9,g,t),data:t}))||0===n)&&(r+=n),r+=" ",((n=i.if.call(e,e&&e.summary,{hash:{},inverse:u.noop,fn:u.program(6,p,t),data:t}))||0===n)&&(r+=n),r+" "}),o),fn:u.program(3,(function(e,t){var n,r="";return r+=' <label class="control-label" for="input_'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+d(typeof(n=e&&e.idSuffix)===c?n.apply(e):n)+'"> <input type="checkbox" id="input_'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+d(typeof(n=e&&e.idSuffix)===c?n.apply(e):n)+'" name="'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+'" value="1" ',((n=i.if.call(e,e&&e.value,{hash:{},inverse:u.noop,fn:u.program(4,h,t),data:t}))||0===n)&&(r+=n),r+="> "+d(typeof(n=e&&e.label)===c?n.apply(e):n)+" </label> ",((n=i.if.call(e,e&&e.summary,{hash:{},inverse:u.noop,fn:u.program(6,p,t),data:t}))||0===n)&&(r+=n),r+" "}),o),data:o}))||0===a)&&(l+=a),l+" </div> "}))},57327:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c="function",d=this.escapeExpression,u=this;function h(e,t){var n;return""+' rows="'+d(typeof(n=e&&e.rows)===c?n.apply(e):n)+'"'}function p(e,t){var n;return""+'data-exclude-param="'+d(typeof(n=e&&e.excludeParam)===c?n.apply(e):n)+'" data-exclude-value="'+d(typeof(n=e&&e.excludeValue)===c?n.apply(e):n)+'"'}return l+='<div class="form-group"> <label for="text-'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'">'+d(r(n(88920)).call(t,t&&t.label,{hash:{},data:o}))+"</label> ",((a=r(n(96153)).call(t,t&&t.type,"textarea",{hash:{},inverse:u.program(4,(function(e,t){var n,r="";return r+=' <input type="text" id="text-'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" class="form-control text-field" name="'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" value="'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+'" placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'" ',((n=i.if.call(e,e&&e.excludeParam,{hash:{},inverse:u.noop,fn:u.program(5,p,t),data:t}))||0===n)&&(r+=n),r+"> "}),o),fn:u.program(1,(function(e,t){var n,r="";return r+=' <textarea class="form-control text-field" id="text-'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" name="'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'"',((n=i.if.call(e,e&&e.rows,{hash:{},inverse:u.noop,fn:u.program(2,h,t),data:t}))||0===n)&&(r+=n),r+' placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'">'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+"</textarea> "}),o),data:o}))||0===a)&&(l+=a),l+" </div> "}))},2200:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression;return l+'<form class="edit-section-advanced-form settings-container"> <div class="language-group"> <input type="hidden" name="language" value="'+c("function"==typeof(a=null==(a=t&&t.section)||!1===a?a:a.language)?a.apply(t):a)+'"> </div> <div class="row"> <div class="col-md-12"> <div class="form-group scanner-group hidden"> <label for="edit-section-scanner" class="control-label"> '+c(r(n(88920)).call(t,"Scanner",{hash:{},data:o}))+' <span class="control-error">'+c(r(n(88920)).call(t,"A scanner is required.",{hash:{},data:o}))+'</span> </label> <select id="edit-section-scanner" name="scanner"></select> </div> </div> </div> <div class="row"> <div class="col-md-12"> <div class="form-group agent-group hidden"> <label for="edit-section-agent" class="control-label"> '+c(r(n(88920)).call(t,"Agent",{hash:{},data:o}))+' <span class="control-error">'+c(r(n(88920)).call(t,"An agent is required.",{hash:{},data:o}))+'</span> </label> <select id="edit-section-agent" name="agent"></select> </div> </div> </div> <div class="row"> <div class="col-md-12 section-agent-settings-region"></div> </div> <div class="row"> <div class="col-md-12 section-settings-region"></div> </div> </form> '}))},69106:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this,d=this.escapeExpression;function u(e,t){return"hidden"}function h(e,t){return"checked"}function p(e,t){return"disabled"}return l+='<form class="edit-section-folders-form settings-container"> <div id="arcade-upsell" class="',((a=i.if.call(t,t&&t.hideArcadeUpsell,{hash:{},inverse:c.noop,fn:c.program(1,u,o),data:o}))||0===a)&&(l+=a),l+='"> <p>'+d(r(n(88920)).call(t,"Introducing retro gaming in Plex, brought to you by Plex Labs!",{hash:{},data:o}))+'</p> <p class="help-block">'+d(r(n(88920)).call(t,"With a Plex Arcade subscription, you can play and stream many of your favorite retro games on Google Chrome, Microsoft Edge, Android, iOS or Apple TV devices! Try it for free for 7 days!",{hash:{},data:o}))+'</p> <p class="button-container"> <a type="button" href='+d("function"==typeof(a=t&&t.subscribeURL)?a.apply(t):a)+' target="_blank" class="subscribe-btn btn btn-primary">'+d(r(n(88920)).call(t,"Subscribe Now",{hash:{},data:o}))+'</a> </p> </div> <p id="arcade-required" class="',((a=i.if.call(t,t&&t.hideArcadeRequired,{hash:{},inverse:c.noop,fn:c.program(1,u,o),data:o}))||0===a)&&(l+=a),l+='">'+d(r(n(88920)).call(t,"Sorry, a {1}Plex Arcade subscription{2} is required to create a new Games library.",'<a href="https://www.plex.tv/subscription" target="_blank">',"</a>",{hash:{},data:o}))+'</p> <p id="arcade-greeting" class="',((a=i.if.call(t,t&&t.hideArcadeGreeting,{hash:{},inverse:c.noop,fn:c.program(1,u,o),data:o}))||0===a)&&(l+=a),l+='">'+d(r(n(88920)).call(t,"Thanks! You've got an active {1}Plex Arcade subscription{2}.",'<a href="https://www.plex.tv/subscription" target="_blank">',"</a>",{hash:{},data:o}))+'</p> <p id="parsec-required" class="',((a=i.if.call(t,t&&t.hideParsecRequired,{hash:{},inverse:c.noop,fn:c.program(1,u,o),data:o}))||0===a)&&(l+=a),l+='">'+d(r(n(88920)).call(t,"Playing games requires that you {1}create a Parsec account{2}, respond to their email confirmation, and then {3}link your Parsec account{4}.",'<a href="https://parsec.app" target="_blank">',"</a>",'<a href="https://plex.tv/users/other-services" target="_blank">',"</a>",{hash:{},data:o}))+"</p> ",((a=i.if.call(t,t&&t.isNewGamesSection,{hash:{},inverse:c.noop,fn:c.program(3,(function(e,t){var s,o="";return o+=' <div class="download-media-container"> <label> <input id="arcade-download-media" type="checkbox" name="downloadMedia" ',((s=i.if.call(e,null==(s=e&&e.section)||!1===s?s:s.downloadMedia,{hash:{},inverse:c.noop,fn:c.program(4,h,t),data:t}))||0===s)&&(o+=s),o+=" ",((s=i.if.call(e,e&&e.isDisabled,{hash:{},inverse:c.noop,fn:c.program(6,p,t),data:t}))||0===s)&&(o+=s),o+"/>"+d(r(n(88920)).call(e,"Include dozens of classic games from Atari like Asteroids, Centipede, Missile Command and more!",{hash:{},data:t}))+" </label> </div> "}),o),data:o}))||0===a)&&(l+=a),l+=" <p>"+d(r(n(88920)).call(t,"Add folders to your library",{hash:{},data:o}))+'</p> <div class="form-group Location-group"> <div class="paths-region"></div> <p class="button-container"> <button type="button" class="add-folder-btn btn btn-icon-label btn-default" ',((a=i.if.call(t,t&&t.isDisabled,{hash:{},inverse:c.noop,fn:c.program(6,p,o),data:o}))||0===a)&&(l+=a),l+="> ",((a=i.if.call(t,t&&t.isGamesSection,{hash:{},inverse:c.noop,fn:c.program(8,(function(e,t){return""+' <i class="glyphicon folder-plus"></i> '+d(r(n(88920)).call(e,"Browse for games folder",{hash:{},data:t}))+" "}),o),data:o}))||0===a)&&(l+=a),l+=" ",((a=i.unless.call(t,t&&t.isGamesSection,{hash:{},inverse:c.noop,fn:c.program(10,(function(e,t){return""+' <i class="glyphicon folder-plus"></i> '+d(r(n(88920)).call(e,"Browse for media folder",{hash:{},data:t}))+" "}),o),data:o}))||0===a)&&(l+=a),l+=' </button> </p> <p class="control-error">'+d(r(n(88920)).call(t,"At least one folder is required.",{hash:{},data:o}))+"</p> </div> ",((a=i.if.call(t,t&&t.isGamesSection,{hash:{},inverse:c.noop,fn:c.program(12,(function(e,t){return""+' <p class="help-block">'+d(r(n(88920)).call(e,"Help us out by following {1}our guide{2} to naming and organizing your games.",'<a href="https://support.plex.tv/articles/naming-and-organizing-game-files-and-cores/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+'</p> <p class="help-block">'+d(r(n(88920)).call(e,"Looking for more information? Check out our {1}Plex Arcade support articles{2}.",'<a href="https://support.plex.tv/articles/categories/features/arcade/" target="_blank">',"</a>",{hash:{},data:t}))+"</p> "}),o),data:o}))||0===a)&&(l+=a),l+=" ",((a=i.unless.call(t,t&&t.isGamesSection,{hash:{},inverse:c.noop,fn:c.program(14,(function(e,t){return""+' <p class="help-block">'+d(r(n(88920)).call(e,"Help us out by following {1}our guide{2} to naming and organizing your media.",'<a href="https://support.plex.tv/articles/naming-and-organizing-your-movie-media-files/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</p> "}),o),data:o}))||0===a)&&(l+=a),l+" </form> "}))},78e3:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o="";return(o+='<div class="col-md-12"> <div class="form-group path-group"> <input type="text" name="path" class="form-control" value="')+((0,this.escapeExpression)((s=n.path)||"function"==typeof(s=t&&t.path)?s.call(t,{hash:{},data:r}):s)+'"> <div class="path-actions"> <a href="#" class="remove-path-btn btn-link btn-gray"><i class="glyphicon remove-2"></i></a> </div> </div> </div> ')}))},45089:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d=this;return l+='<div class="choose-library use-premium-library" data-agent="com.plexapp.agents.plexmusic" data-scanner="Plex Premium Music Scanner"> <div class="row"> <div class="col-xs-12"> <div class="row use-library-header"> <div class="col-xs-12"> <input type="radio"> <span class="header-text"> '+c(r(n(88920)).call(t,"Create a premium Plex music library!",{hash:{},data:o}))+' </span> </div> </div> <div class="row use-premium-library-body"> <div class="col-xs-8"> <ul> <li>'+c(r(n(88920)).call(t,"Access to the best artwork, artist bios, album reviews, and more",{hash:{},data:o}))+"</li> <li>"+c(r(n(88920)).call(t,"Smart mixes based on track or mood",{hash:{},data:o}))+"</li> <li>"+c(r(n(88920)).call(t,"Improved music recognition and matching",{hash:{},data:o}))+"</li> </ul> ",((a=i.unless.call(t,t&&t.hasPremiumMusic,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return""+' <p class="help-block"> '+c(r(n(88920)).call(e,"Note: An active Plex Pass is required for this service. Don't have a Plex Pass? {1}Subscribe here{2}",'<a href="{3}" target="_blank">',"</a>",e&&e.plexPassUrl,{hash:{},data:t}))+" </p> "}),o),data:o}))||0===a)&&(l+=a),l+=' </div> <div class="col-xs-4 vendor-logos"> ',((a=i.if.call(t,t&&t.hasLyrics,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return'<div class="vendor-logo vendor-logo-lyricfind"></div>'}),o),data:o}))||0===a)&&(l+=a),l+' <div class="vendor-logo vendor-logo-gracenote"></div> <div class="vendor-logo vendor-logo-plex-pass"></div> </div> </div> </div> </div> </div> <div class="choose-library use-basic-library"> <div class="row use-library-header"> <div class="col-xs-12"> <input type="radio"> '+c(r(n(88920)).call(t,"Create a basic music library",{hash:{},data:o}))+" </div> </div> </div> "}))},19597:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d=this;function u(e,t){var i,s="";return s+=" ",((i=r(n(96153)).call(e,e&&e.id,"enableBIFGeneration",{hash:{},inverse:d.noop,fn:d.program(3,h,t),data:t}))||0===i)&&(s+=i),s+" "}function h(e,t){return""+' <div class="form-group"> <button type="button" class="delete-thumbnails-btn btn btn-sm btn-danger">'+c(r(n(88920)).call(e,"Delete Preview Thumbnails",{hash:{},data:t}))+"</button> </div> "}return((a=i.each.call(t,t&&t.settings,{hash:{},inverse:d.noop,fn:d.programWithDepth(1,(function(e,t,s){var o,a="";return a+=" "+c(r(n(68325)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" ",((o=i.if.call(e,s&&s.edit,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===o)&&(a+=o),a+" "}),o,t),data:o}))||0===a)&&(l+=a),l+" "}))},85512:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d=this,u="function";function h(e,t){return"selectable"}function p(e,t){return"selected"}return l+='<form class="edit-section-type-form settings-container ',((a=i.if.call(t,null==(a=t&&t.section)||!1===a?a:a.type,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"section-type-chosen"}),o),data:o}))||0===a)&&(l+=a),l+=" ",((a=i.unless.call(t,t&&t.isInitialTypeSupported,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return"is-type-unsupported"}),o),data:o}))||0===a)&&(l+=a),l+='"> ',((a=i.if.call(t,t&&t.add,{hash:{},inverse:d.program(7,(function(e,t){return""+" <label>"+c(r(n(88920)).call(e,"Library type",{hash:{},data:t}))+"</label> "}),o),fn:d.program(5,(function(e,t){return""+' <p class="prompt">'+c(r(n(88920)).call(e,"Select your library type",{hash:{},data:t}))+"</p> "}),o),data:o}))||0===a)&&(l+=a),l+=' <div class="wizard-blocks-group form-group type-group"> ',((a=i.each.call(t,t&&t.sectionTypes,{hash:{},inverse:d.noop,fn:d.programWithDepth(9,(function(e,t,s){var o,a="";return a+=' <a class="wizard-block section-type ',((o=i.if.call(e,s&&s.canChangeType,{hash:{},inverse:d.noop,fn:d.program(10,h,t),data:t}))||0===o)&&(a+=o),a+=" ",((o=r(n(96153)).call(e,s&&s.currentSectionKey,e&&e.key,{hash:{},inverse:d.noop,fn:d.program(12,p,t),data:t}))||0===o)&&(a+=o),a+='" data-key="'+c(typeof(o=e&&e.key)===u?o.apply(e):o)+'" href="#"> <div class="wizard-block-icon">',((o=typeof(o=e&&e.typeIcon)===u?o.apply(e):o)||0===o)&&(a+=o),a+"</div> "+c(typeof(o=e&&e.title)===u?o.apply(e):o)+" </a> "}),o,t),data:o}))||0===a)&&(l+=a),l+=' <label class="control-label"> <span class="control-error">'+c(r(n(88920)).call(t,"You must select a media type.",{hash:{},data:o}))+'</span> </label> </div> <div class="visible-once-section-type-chosen"> ',((a=i.if.call(t,t&&t.hasType,{hash:{},inverse:d.noop,fn:d.program(14,(function(e,t){return""+' <div class="row"> <div class="col-xs-12"> <p class="prompt">'+c(r(n(88920)).call(e,"Name your library and choose language.",{hash:{},data:t}))+"</p> </div> </div> "}),o),data:o}))||0===a)&&(l+=a),l+=' <div class="row section-type-unsupported"> <div class="col-md-7"> <label>'+c(r(n(88920)).call(t,"Sorry, this library type is unsupported by this server.",{hash:{},data:o}))+'</label> </div> </div> <div class="row section-type-supported"> <div class="col-md-7"> <div class="form-group title-group"> <div> <label for="edit-section-title" class="control-label"> '+c(r(n(88920)).call(t,"Name",{hash:{},data:o}))+' <span class="control-error">'+c(r(n(88920)).call(t,"A library name is required.",{hash:{},data:o}))+'</span> </label> </div> <input type="text" id="edit-section-title" name="title" class="form-control" value="'+c(typeof(a=null==(a=t&&t.section)||!1===a?a:a.title)===u?a.apply(t):a)+'"> </div> </div> <div class="col-md-5"> <div class="form-group language-group"> <div> <label for="edit-section-language" class="control-label"> '+c(r(n(88920)).call(t,"Language",{hash:{},data:o}))+' <span class="control-error">'+c(r(n(88920)).call(t,"A language is required.",{hash:{},data:o}))+'</span> </label> </div> <select id="edit-section-language" name="language"></select> </div> </div> </div> <div class="row section-type-supported"> <div class="col-md-12"> <span class="text-muted"> ',((a=i.if.call(t,t&&t.updatedAt,{hash:{},inverse:d.noop,fn:d.program(16,(function(e,t){return""+" "+c(r(n(88920)).call(e,"Last updated {1}",e&&e.escapedUpdatedAt,{hash:{},data:t}))+" "}),o),data:o}))||0===a)&&(l+=a),l+" </span> </div> </div> </div> </form> "}))},39997:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c="function",d=this.escapeExpression,u=this;function h(e,t){var n;return d(typeof(n=null==(n=e&&e.friendlyNameSetting)||!1===n?n:n.value)===c?n.apply(e):n)}function p(e,t){var n;return d(typeof(n=null==(n=e&&e.server)||!1===n?n:n.friendlyName)===c?n.apply(e):n)}return l+='<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <form id="setup-basic-form" class="settings-container"> ',((a=i.if.call(t,t&&t.friendlyNameSetting,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){var s,o="";return o+=' <div class="setup-basic-form-group form-group"> <p class="text-muted"> '+d(r(n(88920)).call(e,"Give your server a friendly name to help identify it in Plex apps and on your network.",{hash:{},data:t}))+' </p> <input type="text" id="'+d(typeof(s=null==(s=e&&e.friendlyNameSetting)||!1===s?s:s.id)===c?s.apply(e):s)+'" class="form-control" value="',((s=i.if.call(e,null==(s=e&&e.friendlyNameSetting)||!1===s?s:s.value,{hash:{},inverse:u.program(4,p,t),fn:u.program(2,h,t),data:t}))||0===s)&&(o+=s),o+'" placeholder="'+d(typeof(s=null==(s=e&&e.server)||!1===s?s:s.friendlyName)===c?s.apply(e):s)+'"> </div> '}),o),data:o}))||0===a)&&(l+=a),l+=" ",((a=i.if.call(t,t&&t.publishSetting,{hash:{},inverse:u.noop,fn:u.program(6,(function(e,t){var i;return""+' <div class="setup-basic-form-group form-group"> <div class="publish-checkbox checkbox"> <label for="'+d(typeof(i=null==(i=e&&e.publishSetting)||!1===i?i:i.id)===c?i.apply(e):i)+'"> <input type="checkbox" id="'+d(typeof(i=null==(i=e&&e.publishSetting)||!1===i?i:i.id)===c?i.apply(e):i)+'" checked> '+d(r(n(88920)).call(e,"Allow me to access my media outside my home",{hash:{},data:t}))+' </label> </div> <p class="text-muted"> '+d(r(n(88920)).call(e,"Plex will attempt to automatically configure your network to allow Plex apps outside your home to access Plex Media Server on this computer. Remember this computer will need to be turned on to access your media.",{hash:{},data:t}))+" </p> </div> "}),o),data:o}))||0===a)&&(l+=a),l+' <div class="setup-footer"> <button type="submit" class="submit-btn btn btn-primary btn-loading btn-lg"> <div class="loading loading-sm"></div> <span class="btn-label">'+d(r(n(88920)).call(t,"Next",{hash:{},data:o}))+'</span> </button> <button class="next-btn hidden" data-subset="setupLibrary"></button> </div> </form> </div> </div> <div class="modal-container"></div> '}))},42440:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c="function",d=this.escapeExpression,u=this;function h(e,t){return"checked"}return l+='<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <div class="setup-apps-container"> <img class="setup-apps-image" src="'+d(typeof(a=t&&t.devicesImg)===c?a.apply(t):a)+'"> <a href="https://plex.tv/downloads" target="_blank" class="btn btn-default btn-lg">'+d(r(n(88920)).call(t,"Get Plex Apps",{hash:{},data:o}))+'</a> </div> <p class="text-muted">'+d(r(n(88920)).call(t,"All set! Your Plex Media Server is working hard to find your media and make it beautiful. Grab the Plex app for all your favorite devices to get the most out of Plex and start streaming everywhere!",{hash:{},data:o}))+'</p> <form id="setup-complete-form" class="settings-container"> ',((a=i.if.call(t,t&&t.collectUsageDataSetting,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){var s,o="";return o+=' <div class="checkbox"> <label for="'+d(typeof(s=null==(s=e&&e.collectUsageDataSetting)||!1===s?s:s.id)===c?s.apply(e):s)+'"> <input type="checkbox" id="'+d(typeof(s=null==(s=e&&e.collectUsageDataSetting)||!1===s?s:s.id)===c?s.apply(e):s)+'" name="'+d(typeof(s=null==(s=e&&e.collectUsageDataSetting)||!1===s?s:s.id)===c?s.apply(e):s)+'" value="1" ',((s=i.if.call(e,null==(s=e&&e.collectUsageDataSetting)||!1===s?s:s.value,{hash:{},inverse:u.noop,fn:u.program(2,h,t),data:t}))||0===s)&&(o+=s),o+"> "+d(r(n(88920)).call(e,"Send anonymous usage data to Plex",{hash:{},data:t}))+' </label> </div> <p class="setup-complete-help text-muted"> '+d(r(n(88920)).call(e,"Help us improve everyone's Plex experience by sending anonymous usage data.",{hash:{},data:t}))+" </p> "}),o),data:o}))||0===a)&&(l+=a),l+' <div class="setup-footer setup-done-footer"> <button class="next-btn btn btn-default btn-lg" data-subset="setupLibrary">'+d(r(n(88920)).call(t,"Back",{hash:{},data:o}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading btn-lg active"> <div class="loading loading-sm"></div> <span class="btn-label">'+d(r(n(88920)).call(t,"Done",{hash:{},data:o}))+'</span> </button> <button class="done-btn btn btn-primary btn-lg hidden"></button> </div> </form> </div> </div> <div class="modal-container"></div> '}))},79989:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression;return l+='<div class="row row-padded"> <div class="col-md-8 col-md-offset-2"> ',((a=i.if.call(t,t&&t.shared,{hash:{},inverse:this.program(3,(function(e,t){return""+" <h1>"+c(r(n(88920)).call(e,"A problem has been detected with a core component of Plex Media Server.",{hash:{},data:t}))+'</h1> <h2 class="text-muted">'+c(r(n(88920)).call(e,"Please visit the {1}forums{2} and provide your logs, as described {3}here{4}.",'<a href="https://forums.plex.tv" target="_blank">',"</a>",'<a href="http://support.plex.tv/hc/en-us/articles/200250417-Log-File-Locations/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</h2> "}),o),fn:this.program(1,(function(e,t){return""+" <h1>"+c(r(n(88920)).call(e,"Setup is not allowed for shared servers.",{hash:{},data:t}))+"</h1> "}),o),data:o}))||0===a)&&(l+=a),l+" </div> </div> "}))},51119:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d="function";return l+'<h2 class="setup-intro-header">'+c(r(n(88920)).call(t,"How Plex Works",{hash:{},data:o}))+"</h2> <h4>"+c(r(n(88920)).call(t,"Plex Media Server runs on the computer where you keep your media",{hash:{},data:o}))+'</h4> <img class="setup-intro-img setup-intro-computer-img" src='+c(typeof(a=t&&t.computerImg)===d?a.apply(t):a)+"> <h4>"+c(r(n(88920)).call(t,"Plex scans your media, automatically organizes it, and makes it beautiful",{hash:{},data:o}))+'</h4> <img class="setup-intro-img setup-intro-media-img" src='+c(typeof(a=t&&t.mediaImg)===d?a.apply(t):a)+"> <h4>"+c(r(n(88920)).call(t,"Play your media on any screen with your favorite Plex app",{hash:{},data:o}))+'</h4> <img class="setup-intro-img setup-intro-play-img" src='+c(typeof(a=t&&t.playImg)===d?a.apply(t):a)+'> <p> <button class="next-btn btn btn-primary btn-lg" data-subset="setupLoading">'+c(r(n(88920)).call(t,"Got it!",{hash:{},data:o}))+"</button> </p> "}))},41411:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a="",l=this.escapeExpression;return a+'<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <h4>'+l(r(n(88920)).call(t,"Organize Your Media",{hash:{},data:o}))+'</h4> <p class="text-muted">'+l(r(n(88920)).call(t,"Plex organizes your media into libraries. You can add as many libraries as you want, and you can have multiple libraries with the same type.",{hash:{},data:o}))+'</p> <p class="setup-add-section-container"> <button class="add-section-btn btn btn-default">'+l(r(n(88920)).call(t,"Add Library",{hash:{},data:o}))+'</button> </p> <div class="setup-section-list-container"></div> <div class="setup-footer"> <button class="next-btn btn btn-default btn-lg" data-subset="setupBasic">'+l(r(n(88920)).call(t,"Back",{hash:{},data:o}))+'</button> <button class="next-btn btn btn-primary btn-lg" data-subset="setupComplete">'+l(r(n(88920)).call(t,"Next",{hash:{},data:o}))+"</button> </div> </div> </div> "}))},32094:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,r,s){var o;return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{},""+'<div class="loading loading-inline"></div> <p class="loading-title">'+(0,this.escapeExpression)((o=n(88920),o&&(o.__esModule?o.default:o)).call(t,"Please wait a moment while Plex starts.",{hash:{},data:s}))+"</p> "}))},49506:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a="",l=this.escapeExpression;return a+'<div class="setup-header row hidden"> <div class="col-sm-6 col-sm-offset-3"> <div class="sign-in-logo text-center"> <i class="plex-image plex-logo"></i> </div> <h2>'+l(r(n(88920)).call(t,"Server Setup",{hash:{},data:o}))+'</h2> <div class="setup-progress"> <div class="basic-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupBasic" href="#">'+l(r(n(88920)).call(t,"Name",{hash:{},data:o}))+'</a> </div> <div class="library-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupLibrary" href="#">'+l(r(n(88920)).call(t,"Media Library",{hash:{},data:o}))+'</a> </div> <div class="complete-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupComplete" href="#">'+l(r(n(88920)).call(t,"Finish",{hash:{},data:o}))+'</a> </div> </div> </div> </div> <div class="setup-container"></div> '}))},31813:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={plexIcon:"y8bwX"}},74576:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={modalFooter:"dNFZf",button:"UI5wX r2dcz x5jRQ",splitButton:"oA0q0 UI5wX r2dcz x5jRQ"}},81985:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),r=n.n(i),s=n(67294),o=n(31813);function a(e){const t=e["aria-label"],n=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-alert-560"};r["aria-hidden"]=!t,r.style=i,r.className=o.Z.plexIcon+(n?" "+n:"");const a=[s.createElement.apply(s,["path",{d:"m280 0l-280 520 560 0-280-520m0 400c22.077 0 40 17.923 40 40 0 22.077-17.923 40-40 40-22.077 0-40-17.923-40-40 0-22.077 17.923-40 40-40m-30-40l0-220 60 0 0 220-60 0"}].concat([]))];return t&&a.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",r].concat(a))}a.propTypes={"aria-label":r().string,className:r().string,style:r().object};const l=a},3694:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),r=n.n(i),s=n(67294),o=n(31813);function a(e){const t=e["aria-label"],n=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-remove-560"};r["aria-hidden"]=!t,r.style=i,r.className=o.Z.plexIcon+(n?" "+n:"");const a=[s.createElement.apply(s,["path",{d:"m120 70l-50 50 160 160-160 160 50 50 160-160 160 160 50-50-160-160 160-160-50-50-160 160-160-160"}].concat([]))];return t&&a.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",r].concat(a))}a.propTypes={"aria-label":r().string,className:r().string,style:r().object};const l=a}},e=>{e.O(0,[179],(()=>{[357,559,952,99,292].map(e.E)}),5);var t=t=>e(e.s=t);e.O(0,[47],(()=>(t(97754),t(8286)))),e.O()}]);