"use strict";(self.webpackChunkserver_manager=self.webpackChunkserver_manager||[]).push([[952],{61952:(e,n,r)=>{r.r(n),r.d(n,{default:()=>A});var t=r(67294),a=r(28216),l=r(71074),s=r(69299),o=r(22222),i=r(20165),c=r(40728),d=r(47397),m=r(66307),u=r(57788),v=r(67201),E=r(49112),p=r(21235),Z=r(59963),N=r(84020),D=r(44838),f=r(4495),I=r(81821),w=r(48445),y=r(22220),g=r(23889),O=r(11066),k=r(77553),S=r(38737);function L(e,n){const r=n?n.split("\n"):[];return r.length>0?t.createElement(t.Fragment,null,t.createElement("div",{className:"mboFX"},e),t.createElement("ul",null,r.map(((e,n)=>t.createElement("li",{key:n},e))))):null}const U=function(e){const{version:n,added:r,fixed:a,isOpen:l,onClose:s}=e;return t.createElement(g.Z,{isOpen:l,metricsPage:y.Bc,onModalClose:s},t.createElement(k.Z,{onModalClose:s},t.createElement(S.Z,null,(0,p.Z)("{product} Release Notes",{product:"Plex Media Server"})),t.createElement(O.Z,null,t.createElement("div",{className:"VcwnP"},(0,p.Z)("Version {version}",{version:n})),L((0,p.Z)("New"),r),L((0,p.Z)("Fixes"),a))))},b=function({progress:e}){return t.createElement("div",{className:"_lMnm"},t.createElement("div",{className:"osZkJ"}),t.createElement("div",{className:"mGPbS",style:{transform:`translate3d(-${100-e}%, 0, 0)`}}))};var P=r(87830),R=r(49118),V=r(98385),h=r(55349),x=r(78388);const C="qhBUK BQ0Uf",_=(0,a.$j)((function(){return(0,o.P1)(u.Z,m.Z,(0,d.Z)(),((e,n,r)=>{const t=r.update;return{serverEntityID:e.entityID,friendlyName:e.friendlyName,state:t.state,error:t.error,progress:t.progress,availableVersion:(0,v.Z)(t.version),currentVersion:(0,v.Z)(e.version),downloadURL:t.downloadURL||n.appsUrl,added:t.added,fixed:t.fixed}}))}),(function(e,n){const{serverEntityID:r}=n;return{onDismissServerUpdate(n){e((0,c.xx)({serverEntityID:r,version:n}))},onInstallServerUpdate(){e((0,c.wR)({serverEntityID:r}))},onDownloadServerUpdate(){e((0,c.Or)({serverEntityID:r}))},onRedirectToHome(){e((0,i.im)({route:"home"}))}}}))((function(e){const{serverEntityID:n,friendlyName:r,state:a,error:l,progress:s,availableVersion:o,currentVersion:i,downloadURL:c,added:d,fixed:m,onDismissServerUpdate:u,onInstallServerUpdate:v,onDownloadServerUpdate:y,onRedirectToHome:g}=e,O=a===E.NONE||a===E.DONE,k=(0,R.Z)(),S=(0,t.useCallback)((()=>{u(o)}),[o,u]);if((0,P.Z)((()=>{g()}),O),O)return null;if(a===E.INSTALLING)return t.createElement(w.Z,{serverEntityID:n});const L=(0,p.Z)("Update available for {product}",{product:"Plex Media Server"});let _=(0,p.Z)('You are currently running version {currentVersion} on the server "{friendlyName}". Version {availableVersion} is now available.',{availableVersion:o,currentVersion:i,friendlyName:r});return a===E.NOTIFY&&(_=_+" "+(0,p.Z)("This update will need to be installed manually after download.")),a===E.ERROR?t.createElement(f.Z,{description:l||(0,p.Z)("Something went wrong, please try again later."),iconSrc:x,title:L}):t.createElement(f.Z,{description:d||m?t.createElement(Z.Z,{message:_+" "+(0,p.Z)("{openLink}Show release notes{closeLink}."),tags:[{open:"openLink",close:"closeLink",component:D.Z,onPress:k.onOpen,kind:V._8}]}):_,iconSrc:x,title:(0,p.Z)("Update available for {product}",{product:"Plex Media Server"})},a===E.AVAILABLE?t.createElement("div",{className:C},t.createElement(N.Z,{kind:V._8,size:h.ln,onPress:y},(0,p.Z)("Download now"))):null,a===E.DOWNLOADING?t.createElement("div",{className:C},t.createElement("div",null,(0,p.Z)("Downloading Update ({progress}%)",{progress:s})),isNaN(s)?null:t.createElement("div",{className:"dYS0R"},t.createElement(b,{progress:s}))):null,a===E.DOWNLOADED?t.createElement("div",{className:C},t.createElement(N.Z,{kind:V._8,size:h.ln,onPress:v},(0,p.Z)("Install now"))):null,a===E.NOTIFY?t.createElement("div",{className:C},t.createElement(N.Z,{kind:V._8,size:h.ln,target:"_blank",to:c,onPress:S},(0,p.Z)("Download now"))):null,a!==E.DOWNLOADING&&a!==E.DOWNLOADED?t.createElement(I.Z,null,t.createElement(D.Z,{className:"I9XR3",kind:V._8,size:h.HC,to:"#",onPress:S},(0,p.Z)("Skip this version"))):null,t.createElement(U,{added:d,fixed:m,isOpen:k.isOpen,version:o,onClose:k.onClose}))}));function A(){const e=(0,a.v9)(l.Z);return t.createElement(s.Z,{serverEntityID:e.entityID},t.createElement(_,{serverEntityID:e.entityID}))}}}]);