(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{redb:function(r,a,e){"use strict";e.r(a);var s=e("ulZh"),t=e.n(s),E=e("q1tI"),o=e.n(E),i=e("0jae"),R=e("66GW"),l=e("nHuJ");function n(r){switch(r.details){case t.a.ErrorDetails.MANIFEST_LOAD_ERROR:case t.a.ErrorDetails.MANIFEST_LOAD_TIMEOUT:case t.a.ErrorDetails.MANIFEST_PARSING_ERROR:return Object(R.default)("Manifest");case t.a.ErrorDetails.LEVEL_LOAD_ERROR:case t.a.ErrorDetails.LEVEL_LOAD_TIMEOUT:case t.a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case t.a.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case t.a.ErrorDetails.FRAG_LOAD_ERROR:case t.a.ErrorDetails.FRAG_LOAD_TIMEOUT:case t.a.ErrorDetails.KEY_LOAD_ERROR:case t.a.ErrorDetails.KEY_LOAD_TIMEOUT:return Object(R.default)("Network");case t.a.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR:case t.a.ErrorDetails.FRAG_DECRYPT_ERROR:case t.a.ErrorDetails.FRAG_PARSING_ERROR:case t.a.ErrorDetails.BUFFER_ADD_CODEC_ERROR:case t.a.ErrorDetails.BUFFER_APPEND_ERROR:case t.a.ErrorDetails.BUFFER_APPENDING_ERROR:case t.a.ErrorDetails.BUFFER_STALLED_ERROR:case t.a.ErrorDetails.BUFFER_FULL_ERROR:case t.a.ErrorDetails.BUFFER_SEEK_OVER_HOLE:case t.a.ErrorDetails.BUFFER_NUDGE_ON_STALL:return Object(R.default)("Media");case t.a.ErrorDetails.REMUX_ALLOC_ERROR:case t.a.ErrorDetails.LEVEL_SWITCH_ERROR:case t.a.ErrorDetails.INTERNAL_EXCEPTION:return Object(R.default)("Player")}}class _ extends E.Component{constructor(r,a){super(r,a),this.onElementChange=r=>{this._hls=new t.a({maxMaxBufferLength:30}),this._hls.on(t.a.Events.MEDIA_ATTACHED,this.onMediaAttached),this._hls.on(t.a.Events.MANIFEST_PARSED,this.onManifestParsed),this._hls.on(t.a.Events.ERROR,this.onError),this._hls.attachMedia(r)},this.onHTMLError=()=>{},this.onMediaAttached=()=>{this._hls.loadSource(this.props.src)},this.onManifestParsed=()=>{this.setState({isReadyToPlay:!0})},this.onError=(r,a)=>{const{type:e,details:s,fatal:E}=a,o=s;E&&e===t.a.ErrorTypes.NETWORK_ERROR?(i.a.warn(`[Player] A critical HLSjs network error occurred: ${o}; the player will restart the load`),this._hls.startLoad()):E&&e===t.a.ErrorTypes.MEDIA_ERROR?(i.a.warn(`[Player] A critical HLSjs media error occurred: ${o}; the player will attempt to recover`),this._hls.recoverMediaError()):E?(i.a.warn(`[Player] A critical HLSjs error occurred: ${o}; the player cannot recover`),this.props.onError&&this.props.onError({category:n(a)})):i.a.warn("[Player] A non-critical HLSjs error occurred: "+o)},this.state={isReadyToPlay:!1}}componentWillUnmount(){this._hls.detachMedia(),this._hls.destroy(),this._hls=null}render(){return o.a.createElement(l.a,{...this.props,isReadyToPlay:this.state.isReadyToPlay,onElementChange:this.onElementChange,onHTMLError:this.onHTMLError})}}a.default=_}}]);