(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[435],{14699:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(22222),i=r(90934);function a(){return(0,n.P1)(((e,{mediaSubscriptionEntityID:t})=>t),i.Z,((e,t)=>t[e]))}},58730:(e,t,r)=>{"use strict";r.d(t,{I:()=>n,w:()=>i});const n="boolean",i="other"},52331:(e,t,r)=>{"use strict";r.d(t,{Z:()=>E});var n=r(13469),i=r.n(n),a=r(96638),l=(r(11133),r(58730)),o=Object.defineProperty,s=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&u(e,r,t[r]);if(c)for(var r of c(t))d.call(t,r)&&u(e,r,t[r]);return e},p=r(70560),y=r(23736);const h=`([^&!=<>]+)(${p.ZP.sort(((e,t)=>t.length-e.length)).map(a.Z).join("|")})([^&]+)?`,v=new RegExp(h,"g"),f=new RegExp(h),b={unwatched:!0,unwatchedLeaves:!0,unmatched:!0,duplicate:!0,inProgress:!0,hdonly:!0,hdr:!0};function E(e){if(!e)return[];const t=decodeURIComponent(e).match(v);return t?t.reduce(((e,t)=>{const r=t.match(f),[,n,a,o]=r||[];let s=o?i().uniq(o.split(y.OR)):"";return 1===s.length&&(s=s[0]),function(e,t,r){const n=[...e];if(r.type===l.I){const e=i().findIndex(n,(e=>e.key===t)),a=-1===e?0:e,l=m({key:t},r);-1===e?n.push(l):n.splice(a,1,l)}else i().findWhere(n,{key:t,value:r.value})||n.push(m({key:t},r));return n}(e,n,{value:s,type:b[n]?l.I:l.w,operator:a})}),[]):[]}},96015:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c}),r(13469),r(11133);var n=Object.defineProperty,i=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,o=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,s=(e,t)=>{for(var r in t||(t={}))i.call(t,r)&&o(e,r,t[r]);if(a)for(var r of a(t))l.call(t,r)&&o(e,r,t[r]);return e};function c(e,t,r){if(null==r)return e.filter((e=>e.key!==t));const n=[...e];let i=n.length;for(;i-- >0;){const e=n[i],a=e.key,l=e.value;if(t===a&&r===l)n.splice(i,1);else if(t===a&&Array.isArray(l)){const t=l.indexOf(r);t>-1&&(l.splice(t,1),1===l.length?n.splice(i,1,s(s({},e),{value:l[0]})):l.length||n.splice(i,1))}}return n}},45318:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(67294),i=r(39409),a=Object.defineProperty,l=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,s=Object.prototype.propertyIsEnumerable,c=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function d(e){return n.createElement(i.Z,((e,t)=>{for(var r in t||(t={}))l.call(t,r)&&c(e,r,t[r]);if(o)for(var r of o(t))s.call(t,r)&&c(e,r,t[r]);return e})({},e))}d.defaultProps={className:"PageHeaderBadge-badge-1St9OR"};const u=d},30544:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(67294),i=r(4704);const a=Symbol("NO_VALUE"),l=function(e,t,r=500){const[l,o]=(0,n.useState)(a),s=(0,i.Z)(e),c=(0,n.useRef)(0);return e===t&&s!==t&&c.current++,(0,n.useEffect)((()=>{const e=window.setTimeout((()=>{o(a)}),r);return o(t),()=>{window.clearTimeout(e)}}),[c.current,t,r]),l===a?e:l}},70449:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(67294),i=r(50710),a=r(5562);function l({isAscending:e=!0}){const t=e?i.J$u:i.Oob;return n.createElement("div",{className:"IconTableHeaderSortDirection-sortDirectionIcon-2M6Vgj"},n.createElement(t,{"aria-label":e?(0,a.Z)("Ascending"):(0,a.Z)("Descending")}))}},25369:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(67294);const i={tableHeader:"TableHeader-tableHeader-1uylmm"};var a=Object.defineProperty,l=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,s=Object.prototype.propertyIsEnumerable,c=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t)=>{for(var r in t||(t={}))l.call(t,r)&&c(e,r,t[r]);if(o)for(var r of o(t))s.call(t,r)&&c(e,r,t[r]);return e};function u(e){var t=e,{className:r=i.tableHeader}=t,a=((e,t)=>{var r={};for(var n in e)l.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&o)for(var n of o(e))t.indexOf(n)<0&&s.call(e,n)&&(r[n]=e[n]);return r})(t,["className"]);return n.createElement("div",d(d({},a),{className:r}))}},76764:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(67294);const i={tableHeaderCell:"TableHeaderCell-tableHeaderCell-36KGxp TableCell-tableCell-3eVBRq",activeTableHeaderCell:"TableHeaderCell-activeTableHeaderCell-3TbDPT TableHeaderCell-tableHeaderCell-36KGxp TableCell-tableCell-3eVBRq"};var a=Object.defineProperty,l=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,s=Object.prototype.propertyIsEnumerable,c=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t)=>{for(var r in t||(t={}))l.call(t,r)&&c(e,r,t[r]);if(o)for(var r of o(t))s.call(t,r)&&c(e,r,t[r]);return e};function u(e){var t=e,{className:r=i.tableHeaderCell,activeClassName:a=i.activeTableHeaderCell,children:c,isActive:u=!1}=t,m=((e,t)=>{var r={};for(var n in e)l.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&o)for(var n of o(e))t.indexOf(n)<0&&s.call(e,n)&&(r[n]=e[n]);return r})(t,["className","activeClassName","children","isActive"]);const p=u?a:r;return n.createElement("span",d(d({},m),{className:p}),c)}},5718:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(67294),i=r(17331);const a={tableHeaderLink:"TableHeaderLink-tableHeaderLink-3yiPl7 Link-link-1Kt-hA"};var l=Object.defineProperty,o=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,r)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t)=>{for(var r in t||(t={}))o.call(t,r)&&d(e,r,t[r]);if(s)for(var r of s(t))c.call(t,r)&&d(e,r,t[r]);return e};function m(e){var t=e,{className:r=a.tableHeaderLink,children:l}=t,d=((e,t)=>{var r={};for(var n in e)o.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&s)for(var n of s(e))t.indexOf(n)<0&&c.call(e,n)&&(r[n]=e[n]);return r})(t,["className","children"]);return n.createElement(i.Z,u(u({},d),{className:r}),l)}},90317:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(67294);const i={tableHeaderTitle:"TableHeaderTitle-tableHeaderTitle-2qvD3G"};var a=Object.defineProperty,l=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,s=Object.prototype.propertyIsEnumerable,c=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t)=>{for(var r in t||(t={}))l.call(t,r)&&c(e,r,t[r]);if(o)for(var r of o(t))s.call(t,r)&&c(e,r,t[r]);return e};function u(e){var t=e,{className:r=i.tableHeaderTitle,children:a}=t,c=((e,t)=>{var r={};for(var n in e)l.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&o)for(var n of o(e))t.indexOf(n)<0&&s.call(e,n)&&(r[n]=e[n]);return r})(t,["className","children"]);return n.createElement("span",d(d({},c),{className:r}),a)}},16332:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>cP});var n=r(67294),i=r(69605),a=r(26636),l=r(74309),o=r(2200),s=r(28216),c=r(76249),d=r(81079),u=r(45399),m=r(52331),p=r(48523),y=r(86953),h=r(4844),v=r(27082),f=r(84936),b=r(40875),E=r(15042),g=r(41538),P=r(87803),I=r(31235);const Z=function(){const e=window.location.hash.replace("#!","");return(0,n.useMemo)((()=>{const{params:t}=f.Z.parseUri(e);return t}),[e])};var w=r(24906),C=r(5562),D=r(87684),S=r(55669);function O({className:e}){return n.createElement(S.Z,{className:e,description:(0,C.Z)("We're having trouble finding this page. It might have been deleted"),title:(0,C.Z)("Not found")},n.createElement(D.Z,{to:"#"},(0,C.Z)("Go Home")))}var T,M,N=r(57138),k=r(45593),R=r(19698),A=r(6339),x=r(48420),L=r(17331),j=r(76512),F=r(19595),G=r(25221),H=r(68809),U=r(80367),V=r(7203),B=r(47124),K=r(50710),z=r(17524),W=r(37280),_=r(76950),q=r(52026),$=r(22222);(M=T||(T={})).Equal="=",M.NotEqual="!=",M.DoubleEqual="==",M.NotDoubleEqual="!==",M.GreaterThanOrEqual=">=",M.LessThanOrEqual="<=",M.GreaterThanGreaterThanOrEqual=">>=",M.LessThanLessThanOrEqual="<<=";const Q=T;var Y=r(20272),X=r(2098),J=Object.defineProperty,ee=Object.prototype.hasOwnProperty,te=Object.getOwnPropertySymbols,re=Object.prototype.propertyIsEnumerable,ne=(e,t,r)=>t in e?J(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ie=(e,t)=>{for(var r in t||(t={}))ee.call(t,r)&&ne(e,r,t[r]);if(te)for(var r of te(t))re.call(t,r)&&ne(e,r,t[r]);return e};const ae=function(e,t){const r=[...e];if(t.filter.filterType===X.H_.Boolean){const e=r.findIndex((e=>e.filter.filter===t.filter.filter)),n=-1===e?0:e,i=ie(ie({},t),{value:"string"==typeof t.value?"1"===t.value:t.value});-1===e?r.push(i):r.splice(n,1,i)}else r.find((e=>e.filter.filter===t.filter.filter&&e.value===t.value))||r.push(t);return r};function le(e){const t=(0,Y._2)(Q).find((t=>Q[t]===e));return t?Q[t]:void 0}const oe=function(e,t){if(!(null==t?void 0:t.Filter))return{strippedKey:e,filterRules:[]};const r=t.Filter,{params:n,pathname:i}=f.Z.parseUri(e,{decoder:e=>e});let a=[];for(const e in n)if(n.hasOwnProperty(e)){let t=a;const i=n[e],l=r.find((t=>e.startsWith(t.filter)));if(!l)continue;const o=le(`${e.substr(l.filter.length)}=`);if(!o)continue;"string"==typeof i?t=ae(t,{filter:l,operator:o,value:i}):Array.isArray(i)&&(t=i.reduce(((e,t)=>"string"!=typeof t?e:ae(e,{filter:l,operator:o,value:t})),t)),a!==t&&(a=t,delete n[e])}return{strippedKey:f.Z.join(i,n,{stringifyOptions:{encode:!1}}),filterRules:a}};var se=r(84893),ce=r(49228);const de=(0,$.P1)(ce.Z,(e=>e.directory)),ue=(0,$.P1)(de,(e=>e.meta)),me=(0,$.P1)(ue,(e=>e?(0,se.Z)(e):void 0)),pe=function(e){return(0,$.P1)(me,(t=>e?oe(e,t):void 0))};var ye=Object.defineProperty,he=Object.prototype.hasOwnProperty,ve=Object.getOwnPropertySymbols,fe=Object.prototype.propertyIsEnumerable,be=(e,t,r)=>t in e?ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ee=(e,t)=>{for(var r in t||(t={}))he.call(t,r)&&be(e,r,t[r]);if(ve)for(var r of ve(t))fe.call(t,r)&&be(e,r,t[r]);return e};let ge,Pe;function Ie(e,t=window.location.hash){const r=function(e){if(ge===e)return Pe;const t=e.split("?"),r=t.length>1?t[1]:void 0,n=r?f.Z.parseParams(r):{};return ge=e,Pe={url:t[0],params:n},Pe}(t);return f.Z.join(r.url,Ee(Ee({},r.params),e))}var Ze=r(5513);const we=function(e){const t=(0,s.I0)();return(0,n.useCallback)((r=>{const n=r.currentTarget.getAttribute("href");n&&(0===r.button||r.touches)&&(r.stopPropagation(),t((0,Ze.c4)({pathname:n,replace:!0}))),null==e||e(r)}),[t,e])};var Ce=r(18039);function De({className:e,directoryKey:t,selectedPivot:r}){const[i,a,l]=(0,I.c9)(),o=z.wB(a.identifier,z.Ll),c=(0,n.useMemo)((()=>(0,q.Z)(i,a)),[a,i]),d=!!(0,s.v9)(c),u=(0,_.Z)(i,l),m=(0,n.useMemo)((()=>pe(t)),[t]),p=(0,s.v9)(me),y=(0,s.v9)(m),h=we();return"vod.watchlist"===(null==r?void 0:r.id)?n.createElement(H.Z,{className:e,description:(0,C.Z)("You can add movies and shows to your Watchlist to catch up on later. Once you finish watching an item in the list, or mark it as watched it will automatically be removed from the list."),icon:n.createElement("div",{className:"EmptyDirectoryPageContent-watchlistIcon-29XH5H"},n.createElement(K.KPC,null)),title:(0,C.Z)("Watchlist")}):"shared.items"===(null==r?void 0:r.id)?n.createElement(H.Z,{className:e,icon:n.createElement(K._93,null),title:(0,C.Z)("There are no shared items of this type")}):(null==y?void 0:y.filterRules.length)?n.createElement(H.Z,{description:(0,C.Z)("Use the menu above to change the active filter"),icon:(null==l?void 0:l.type)?n.createElement(W.Z,{type:l.type}):void 0,title:(0,C.Z)("The active filter has no matches")},n.createElement(D.Z,{kind:B.Z.Primary,to:Ie({key:y.strippedKey}),onPress:h},(0,C.Z)("Clear filter"))):o?d?n.createElement(H.Z,{className:e,description:(0,C.Z)("Hang tight while we download all the data for what's on"),icon:n.createElement(K.UUM,null),title:(0,C.Z)("We're now building your Guide")}):n.createElement(H.Z,{className:e,description:(0,C.Z)("Please verify your channel mappings and refresh the Guide"),icon:n.createElement(K.UUM,null),title:(0,C.Z)("Your Guide is empty")},n.createElement(D.Z,{kind:B.Z.Primary,to:(0,Ce.Z)(i.machineIdentifier,"manage","dvr")},(0,C.Z)("Go to DVR Settings"))):u?n.createElement(H.Z,{className:e,description:(0,C.Z)("Hang tight while we look for content"),icon:(null==l?void 0:l.type)?n.createElement(W.Z,{type:l.type}):void 0,title:l?(0,C.Z)('"{directoryTitle}" is currently being updated',{directoryTitle:l.title}):(0,C.Z)("This page is currently being updated")}):(null==p?void 0:p.type)===g.U.Folder?n.createElement(H.Z,{className:e,description:(0,C.Z)("There are no items in this folder"),icon:(null==l?void 0:l.type)?n.createElement(W.Z,{type:l.type}):void 0,title:(0,C.Z)("Empty Folder")}):n.createElement(H.Z,{className:e,description:i.isFullOwnedServer?(0,C.Z)("Expecting more? Visit the Manage Libraries page to add folders and scan library files."):null,icon:(null==l?void 0:l.type)?n.createElement(W.Z,{type:l.type}):void 0,title:l?(0,C.Z)('"{directoryTitle}" is empty',{directoryTitle:i.isCloud?null==r?void 0:r.title:l.title}):(0,C.Z)("This page is empty")},i.isFullOwnedServer?n.createElement(D.Z,{kind:B.Z.Primary,to:(0,Ce.Z)(i.machineIdentifier,"manage","libraries")},(0,C.Z)("Manage Libraries")):null)}var Se=r(88346),Oe=r(93788),Te=r(4704);const Me=function(e){const[t,r,i]=(0,I.c9)(),a=(0,n.useMemo)((()=>function(e,t,r){return z.wB(t.identifier,z.Y3)?r?(0,Oe.Z)(e,r):()=>{}:z.wB(t.identifier,z.Ll)?(0,q.Z)(e,t):()=>{}}(t,r,i)),[i,r,t]),l=!(!(0,s.v9)(a)&&!(null==i?void 0:i.refreshing)),o=(0,Te.Z)(l);(0,n.useEffect)((()=>{let t;return l?t=window.setInterval((()=>{null==e||e()}),1e4):!l&&o&&(null==e||e()),()=>{window.clearInterval(t)}}),[e,l,o])},Ne=(0,$.P1)(ce.Z,(e=>e.directory.hubsList));var ke=r(65805),Re=r(17867),Ae=r(70488),xe=r(74253),Le=r(55885),je=r(22745),Fe=r(60528),Ge=r(44352);function He(e){const{className:t,machineIdentifier:r,shouldRender:i,showButton:a}=e;return i?n.createElement("div",{className:t},n.createElement("div",{className:"ProgramGuideGracenoteMigrationBanner-messageContainer-3SDcOm"},n.createElement(Ge.Z,{className:"ProgramGuideGracenoteMigrationBanner-icon-2ofGHv"}),n.createElement("div",{className:"ProgramGuideGracenoteMigrationBanner-message-1t0IPw"},(0,C.Z)("Guide data for this DVR will no longer be updated after January 1, 2021. Please delete and recreate a new DVR and reschedule your recordings to ensure continued coverage."))),a?n.createElement(je.Z,{className:"ProgramGuideGracenoteMigrationBanner-button-2uZp-5 Button-button-2eWELt Link-link-3cHWtJ",kind:Fe.Py,to:(0,Ce.Z)(r,"manage","dvr")},(0,C.Z)("Get Started")):null):null}He.defaultProps={className:"ProgramGuideGracenoteMigrationBanner-container-3KhZOk",showButton:!0};const Ue=He,Ve=(0,s.$j)((function(){return(0,$.P1)(xe.Z,Ae.Z,(0,Le.Z)(u.lY),((e,t,r)=>{const n=z.wB(t.identifier,z.Ll),i=e.version&&(0,p.Z)(e.version,c.Z.gracenoteAttribution);return{machineIdentifier:e.machineIdentifier,shouldRender:n&&i&&r&&"Plex"===t.epgSource&&e.isFullOwnedServer}}))}))(Ue);function Be(e){return!!e&&e<=Date.now()-864e5}function Ke({children:e,hub:t}){const[,,r]=(0,I.c9)(),{metricsContextTuple:i}=(0,o.Zn)(),l=r&&t.key?(0,R.Z)(t.source,{key:t.key,pageType:a.F6.List,source:r.id,context:(0,o.VJ)(i)}):void 0;return n.createElement(x.Z,{hub:t},l?n.createElement(L.Z,{to:l},e):e)}function ze({sourceURI:e}){const t=(0,s.I0)(),[r,i]=(0,I.c9)(),{lastFetchedAt:a,sourceURI:l,hubs:o,isPopulated:c,error:d}=(0,s.v9)(Ne),u=(0,s.v9)(Re.Z),m=(0,n.useMemo)((()=>o.every((e=>!e.initialSize&&!e.more))),[o]),p=(0,n.useCallback)((()=>{t(Se.Z.actions.fetchHubsRequested({server:r,provider:i,sourceURI:e}))}),[t,i,r,e]);if((0,F.Z)({},c),Me(p),(0,n.useEffect)((()=>{c&&(Be(a)||e!==l)&&t(Se.Z.actions.resetHubs())}),[t,a,l,e,c]),(0,n.useEffect)((()=>{e!==l&&t(Se.Z.actions.fetchHubsRequested({server:r,provider:i,sourceURI:e}))}),[t,l,r,e]),(0,n.useEffect)((()=>(t(Se.Z.actions.markHubsStaleCanceled()),()=>{t(Se.Z.actions.markHubsStaleRequested())})),[t]),Be(a)||e!==l||!c&&!d)return n.createElement(H.Z,null,n.createElement(V.Z,null));if(d){const{status:e}=d;return 404===e?n.createElement(O,null):n.createElement(U.Z,null,n.createElement(D.Z,{kind:B.Z.Primary,onPress:p},(0,C.Z)("Retry")))}return c&&m?n.createElement(De,null):n.createElement(n.Fragment,null,u?n.createElement(ke.Z,null):null,n.createElement(G.Z,{className:"DirectoryHubsPageContent-pageContentScroller-PVSuQ2 PageContent-pageContentScroller-2dar0i Scroller-scroller-HAUFpl"},n.createElement(Ve,{className:"DirectoryHubsPageContent-banner-2BowCt ProgramGuideGracenoteMigrationBanner-container-3KhZOk",providerEntityID:i.entityID,serverEntityID:r.entityID}),n.createElement(j.Z,{hubComponent:A.Z,hubTitleComponent:Ke,hubs:o})))}var We=r(97838),_e=r(54304),qe=r(12415),$e=r(10692),Qe=r(76033),Ye=r(26021),Xe=r(30544),Je=r(89333),et=r(85002),tt=r(63919),rt=r(7796),nt=Object.defineProperty,it=Object.prototype.hasOwnProperty,at=Object.getOwnPropertySymbols,lt=Object.prototype.propertyIsEnumerable,ot=(e,t,r)=>t in e?nt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const st=parseInt(rt.Z.v4PagePadding,10);function ct({className:e,items:t,totalSize:r,scrollerKey:i,smoothScroll:a,targetScrollIndex:l,onPageRequest:s,onListReady:c}){const d=(0,n.useMemo)((()=>(0,et.Z)({outerPaddingLeft:st})),[]),u=(0,n.useCallback)((e=>n.createElement(o.ZP,{key:e.key,row:e.row},n.createElement(Je.Z,((e,t)=>{for(var r in t||(t={}))it.call(t,r)&&ot(e,r,t[r]);if(at)for(var r of at(t))lt.call(t,r)&&ot(e,r,t[r]);return e})({},e)))),[]);return n.createElement(tt.Z,{autoScroll:!1,cellComponentFactory:u,className:e,items:t,keyPropName:"listItemKey",layout:d,scrollerKey:i,smoothScroll:a,targetScrollIndex:l,totalSize:r,onListReady:c,onPageRequest:s})}var dt=r(39597),ut=r(26098),mt=r(47326),pt=r(54778),yt=r(50327),ht=r(46396),vt=r(94173),ft=r(52924);const bt=function(e){switch(e){case vt.oz:return 114;case vt.s4:return 64;case vt.Zp:return 74}(0,ft.Z)(!1,`Unknown aspectRatio ${e}`)};var Et=r(85180),gt=r(11756),Pt=r(74901),It=r(77045),Zt=r(11347);function wt({metadataItem:e,style:t,cellIndex:r}){const i=Ie({key:e.key}),[a,l]=(0,It.Z)(),o=(0,vt.ZP)(g.U.Folder),s=(0,Et.Z)({width:bt(o),aspectRatio:o});return n.createElement(Zt.Z,{ref:l,isAlternate:!!(r%2),isHovered:a,style:t},n.createElement(L.Z,{"aria-label":(0,ht.Z)(e),className:"MetadataFolderDetailsRow-underlay-NrrT8r Link-link-1Kt-hA",to:i}),n.createElement("div",{className:"MetadataFolderDetailsRow-overlay-1rpwPg"},n.createElement("div",{className:"MetadataFolderDetailsRow-posterContainer-2qxCGE"},n.createElement(gt.Z,{style:s},n.createElement(Pt.Z,{height:s.height,width:s.width},n.createElement(K.yHc,null)))),n.createElement("div",{className:"MetadataFolderDetailsRow-titlesContainer-y_03JV"},n.createElement(yt.Z,{allowLink:!1,className:"MetadataFolderDetailsRow-doubleTitle-1bonfb",metadataItem:e}))))}var Ct=Object.prototype.hasOwnProperty,Dt=Object.getOwnPropertySymbols,St=Object.prototype.propertyIsEnumerable;function Ot(e){var t=e,{item:r}=t,i=((e,t)=>{var r={};for(var n in e)Ct.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Dt)for(var n of Dt(e))t.indexOf(n)<0&&St.call(e,n)&&(r[n]=e[n]);return r})(t,["item"]);const a=(0,ut.Z)(null==r?void 0:r.sourceURI),l=(0,pt.Z)(i),{cellIndex:o}=i;return r?n.createElement(dt.Z,{metadataItem:r,metadataItemState:a},n.createElement(wt,{cellIndex:o,metadataItem:r,style:l.style})):n.createElement(mt.Z,{index:o,style:l.style})}var Tt=Object.defineProperty,Mt=Object.prototype.hasOwnProperty,Nt=Object.getOwnPropertySymbols,kt=Object.prototype.propertyIsEnumerable,Rt=(e,t,r)=>t in e?Tt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,At=(e,t)=>{for(var r in t||(t={}))Mt.call(t,r)&&Rt(e,r,t[r]);if(Nt)for(var r of Nt(t))kt.call(t,r)&&Rt(e,r,t[r]);return e};const xt=parseInt(rt.Z.v4PagePadding,10);function Lt({className:e,items:t,totalSize:r,scrollerKey:i,smoothScroll:a,targetScrollIndex:l,onPageRequest:s,onListReady:c}){const d=(0,n.useMemo)((()=>(0,et.Z)({outerPaddingLeft:xt})),[]),u=(0,n.useCallback)((e=>{var t;return n.createElement(o.ZP,{key:e.key,row:e.row},(null==(t=e.item)?void 0:t.isFolder)?n.createElement(Ot,At({},e)):n.createElement(Je.Z,At({},e)))}),[]);return n.createElement(tt.Z,{autoScroll:!1,cellComponentFactory:u,className:e,items:t,keyPropName:"listItemKey",layout:d,scrollerKey:i,smoothScroll:a,targetScrollIndex:l,totalSize:r,onListReady:c,onPageRequest:s})}var jt=r(26512),Ft=r(41336),Gt=r(39537),Ht=r(46598),Ut=r(83701),Vt=r(65233),Bt=r(31298);var Kt=Object.defineProperty,zt=Object.prototype.hasOwnProperty,Wt=Object.getOwnPropertySymbols,_t=Object.prototype.propertyIsEnumerable,qt=(e,t,r)=>t in e?Kt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$t=(e,t)=>{for(var r in t||(t={}))zt.call(t,r)&&qt(e,r,t[r]);if(Wt)for(var r of Wt(t))_t.call(t,r)&&qt(e,r,t[r]);return e};const Qt=n.forwardRef(((e,t)=>{var r=e,{item:i}=r,l=((e,t)=>{var r={};for(var n in e)zt.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Wt)for(var n of Wt(e))t.indexOf(n)<0&&_t.call(e,n)&&(r[n]=e[n]);return r})(r,["item"]);const{metricsContextTuple:s}=(0,o.Zn)(),[c,d,u]=(0,I.c9)(),{containerType:m,containerSubtype:p,listStyle:y}=(0,qe.U)(),h=(0,ut.Z)(null==i?void 0:i.sourceURI),[v,f]=(0,It.Z)(),b=(0,pt.Z)(l),E=(0,n.useMemo)((()=>(0,vt.ZP)(m,p,{listStyle:y})),[p,m,y]),g=(0,n.useMemo)((()=>(0,Et.Z)({width:l.cellWidth,aspectRatio:E})),[E,l.cellWidth]),P=(0,Ht.Z)($t($t({},g),{server:c,provider:d,url:(null==i?void 0:i.icon)||(null==i?void 0:i.thumb)}));if(!i)return n.createElement("div",{ref:(0,Bt.Z)(t,b.cellRef),style:b.style},n.createElement(Ft.Z,{index:l.cellIndex,style:g}));const Z=(0,jt.Z)(c,d,u,{pageType:i.type===Gt.pG.Hub?a.F6.Hub:a.F6.List,key:i.key,context:(0,o.VJ)(s)});return n.createElement(dt.Z,{metadataItem:i,metadataItemState:h},n.createElement("div",{ref:(0,Bt.Z)(t,b.cellRef),style:b.style},n.createElement(gt.Z,{ref:f,style:g},n.createElement(Vt.Z,$t({className:"MetadataDirectoryListItem-image-mTRNdW",fit:i.icon?Vt.k.Contain:Vt.k.Cover,src:P},g)),n.createElement(Ut.Z,{"aria-label":(0,ht.Z)(i),isHovered:v,to:Z}),i.type===Gt.pG.Directory?n.createElement("div",{className:"MetadataDirectoryListItem-titleContainer-1LwNz5"},n.createElement("span",{className:"MetadataDirectoryListItem-title-lXtaMQ"},i.title)):null)))}));var Yt=r(1392),Xt=r(87892);var Jt=r(75212),er=Object.defineProperty,tr=Object.prototype.hasOwnProperty,rr=Object.getOwnPropertySymbols,nr=Object.prototype.propertyIsEnumerable,ir=(e,t,r)=>t in e?er(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ar=(e,t)=>{for(var r in t||(t={}))tr.call(t,r)&&ir(e,r,t[r]);if(rr)for(var r of rr(t))nr.call(t,r)&&ir(e,r,t[r]);return e};const lr=parseInt(rt.Z.v4PagePadding,10),or=parseInt(rt.Z.v4PagePaddingAlt,10),sr=parseInt(rt.Z.jumpBarGutter,10);function cr({className:e,listType:t,subtype:r,items:i,totalSize:a,scrollerKey:l,smoothScroll:c,targetScrollIndex:d,onPageRequest:u,onListReady:m}){const p=(0,s.v9)(Jt.Z),{containerMeta:y,listStyle:h}=(0,qe.U)(),v=(0,n.useMemo)((()=>(0,Xt.Z)({listType:t,subtype:r,columnWidth:p,listStyle:h,displayFields:null==y?void 0:y.DisplayFields,displayImages:null==y?void 0:y.DisplayImage,outerPaddingTop:or,outerPaddingBottom:or,outerPaddingRight:lr-sr})),[t,r,p,h,null==y?void 0:y.DisplayFields,null==y?void 0:y.DisplayImage]),f=(0,n.useCallback)((e=>n.createElement(o.ZP,{key:e.key,column:e.column,row:e.row},function(e){switch(e){case g.U.Directory:case g.U.Content:case g.U.Channel:return!0;default:return!1}}(t)?n.createElement(Qt,ar({},e)):n.createElement(Yt.Z,ar({},e)))),[t]);return n.createElement(tt.Z,{autoScroll:!1,cellComponentFactory:f,className:e,items:i,keyPropName:"listItemKey",layout:v,scrollerKey:l,smoothScroll:c,targetScrollIndex:d,totalSize:a,onListReady:m,onPageRequest:u})}var dr=r(52562),ur=r(69001),mr=r(13550);function pr({className:e,metadataItem:t}){const r=(0,mr.Z)(t);return r?n.createElement("span",{className:e,title:r},r):null}var yr=r(99111),hr=r(97541),vr=r(35472),fr=r(1811),br=r(96768);function Er({metadataItem:e,metadataItemState:t,style:r,cellIndex:i}){const[a,l]=(0,I.c9)(),o=(0,hr.Z)(null==e?void 0:e.sourceURI),s=(0,vr.Z)(e,"key"),c=(0,jt.Z)(a,l,null,{key:e.key}),{hoverRef:d,actionsMenuButtonID:u,isHovered:m,isActionsPending:p,isActionsVisible:y,isActionsMenuOpen:h,onActionsMenuClose:v,onActionsMenuCloseComplete:f,onActionsMenuToggle:b}=(0,yr.Z)({server:a,provider:l,metadataItem:e,metadataItemState:t}),{type:E,subtype:g}=e,P=(0,vt.ZP)(E,g),Z=(0,Et.Z)({width:bt(P),aspectRatio:P});return n.createElement(Zt.Z,{ref:d,isAlternate:!!(i%2),isHovered:m,style:r},!e.directory&&s||e.directory?n.createElement(L.Z,{"aria-label":(0,ht.Z)(e),className:"MetadataSharedItemRow-underlay-QiJf1j Link-link-1Kt-hA",to:e.directory?c:s}):null,n.createElement("div",{className:"MetadataSharedItemRow-overlay-3EdLeq"},n.createElement("div",{className:"MetadataSharedItemRow-summaryContainer-3rDPBW"},e.directory?n.createElement("div",{className:"MetadataSharedItemRow-posterContainer-32CoPK"},n.createElement(gt.Z,{style:Z},n.createElement(Pt.Z,{height:Z.height,width:Z.width},n.createElement(W.Z,{type:e.type})))):n.createElement("div",{className:"MetadataSharedItemRow-playPosterContainer-qvc6kh MetadataSharedItemRow-posterContainer-32CoPK"},n.createElement(dr.Z,{aspectRatio:P,height:Z.height,isPlayButtonCard:!0,isSelectHidden:!0,metadataItem:e,metadataItemState:t,metadataTimelineState:o,playCircleClassName:"MetadataSharedItemRow-playCircle-2cnihg MetadataPosterCardActions-playCircle-IG0dwG PlayButton-playCircle-1SP-7u MetadataPosterCardCircle-cardCircle-1Qf61g",width:Z.width})),n.createElement("div",{className:"MetadataSharedItemRow-titlesContainer-2L-rwO"},n.createElement("div",{className:"MetadataSharedItemRow-titleContainer-2mrRbD"},n.createElement(pr,{className:"MetadataSharedItemRow-doubleTitle-1wLvfi MetadataSharedItemRow-title-23tq-v",metadataItem:e})),n.createElement("div",{className:"MetadataSharedItemRow-subtitle-3lDleq MetadataSharedItemRow-titleContainer-2mrRbD MetadataSharedItemRow-title-23tq-v"},function(e){if(e.directory)switch(e.type){case Gt.pG.Movie:return(0,C.Z)("Movie Library");case Gt.pG.Show:return(0,C.Z)("Show Library");case Gt.pG.Artist:return(0,C.Z)("Music Library");case Gt.pG.Photo:return(0,C.Z)("Photo Library")}return(0,fr.Z)(e.type)}(e))),y&&!e.directory?n.createElement("div",{className:"MetadataSharedItemRow-actions-1ao3sV"},n.createElement(br.Z,{className:"MetadataSharedItemRow-actionsButton-2ifXEt Link-link-1Kt-hA","data-testid":"sharedItemMoreButton",id:u,isPending:p,onPress:b})):null)),n.createElement(ur.Z,{actionsOverride:{isPlayVisible:!1,isEditVisible:!1},isOpen:h,metadataItem:e,target:u,onMenuClose:v,onMenuCloseComplete:f}))}var gr=Object.prototype.hasOwnProperty,Pr=Object.getOwnPropertySymbols,Ir=Object.prototype.propertyIsEnumerable;function Zr(e){var t=e,{item:r}=t,i=((e,t)=>{var r={};for(var n in e)gr.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Pr)for(var n of Pr(e))t.indexOf(n)<0&&Ir.call(e,n)&&(r[n]=e[n]);return r})(t,["item"]);const a=(0,ut.Z)(null==r?void 0:r.sourceURI),l=(0,pt.Z)(i),{cellIndex:o}=i;return r?n.createElement(dt.Z,{metadataItem:r,metadataItemState:a},n.createElement(Er,{cellIndex:o,metadataItem:r,metadataItemState:a,style:l.style})):n.createElement(mt.Z,{index:o,style:l.style})}var wr=Object.defineProperty,Cr=Object.prototype.hasOwnProperty,Dr=Object.getOwnPropertySymbols,Sr=Object.prototype.propertyIsEnumerable,Or=(e,t,r)=>t in e?wr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Tr=parseInt(rt.Z.v4PagePadding,10);function Mr({className:e,items:t,totalSize:r,scrollerKey:i,smoothScroll:a,targetScrollIndex:l,onPageRequest:s,onListReady:c}){const d=(0,n.useMemo)((()=>(0,et.Z)({outerPaddingLeft:Tr})),[]),u=(0,n.useCallback)((e=>n.createElement(o.ZP,{key:e.key,row:e.row},n.createElement(Zr,((e,t)=>{for(var r in t||(t={}))Cr.call(t,r)&&Or(e,r,t[r]);if(Dr)for(var r of Dr(t))Sr.call(t,r)&&Or(e,r,t[r]);return e})({},e)))),[]);return n.createElement(tt.Z,{autoScroll:!1,cellComponentFactory:u,className:e,items:t,keyPropName:"listItemKey",layout:d,scrollerKey:i,smoothScroll:a,targetScrollIndex:l,totalSize:r,onListReady:c,onPageRequest:s})}var Nr=r(57067),kr=r(21480),Rr=r(4134),Ar=r(74287),xr=r(75534),Lr=r(46905),jr=r(70449),Fr=r(25369),Gr=r(76764),Hr=r(5718),Ur=r(90317),Vr=r(77927),Br=r(9089);const Kr=function(e,t){return e?e.reduce(((e,r)=>{const n=Br.ZP.find((e=>r.key===e.ascKey&&r.descKey===e.descKey));return!n||t&&!t.includes(n.key)||e.push({sort:r,tableColumn:n}),e}),[]):[]},zr=function(e){return e.active?e.activeDirection===X.Sr.Ascending?e.descKey:e.key:e.defaultDirection===X.Sr.Ascending?e.key:e.descKey};var Wr=r(55278);var _r=Object.defineProperty,qr=Object.prototype.hasOwnProperty,$r=Object.getOwnPropertySymbols,Qr=Object.prototype.propertyIsEnumerable,Yr=(e,t,r)=>t in e?_r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Xr=(e,t)=>{for(var r in t||(t={}))qr.call(t,r)&&Yr(e,r,t[r]);if($r)for(var r of $r(t))Qr.call(t,r)&&Yr(e,r,t[r]);return e};const Jr={placement:"top-start",modifiers:[{name:"offset",options:{offset:[5]}}]};function en({className:e="DirectoryListTableHeader-tableHeader-3NIHYz TableHeader-tableHeader-1uylmm",width:t,activeTableColumnSorts:r,typeKeySourceURI:i,sorts:a}){const l=(0,s.I0)(),o=(0,xr.Z)(),c=(0,Lr.Z)(),{containerKey:d}=(0,qe.U)(),u=(0,n.useMemo)((()=>Kr(a)),[a]),m=(0,n.useMemo)((()=>(0,Vr.Z)("directoryTableColumns")),[]),p=(0,s.v9)(m),y=(0,n.useCallback)((e=>{const t=function(e,t){const r=new Set(t.map((({tableColumn:e})=>e.key)));return r.has(e)?r.delete(e):r.add(e),Array.from(r)}(e,r);if(t.length<1)return;const n=Xr(Xr({},p),{[i]:t});(0,v.c9)((()=>{l((0,Rr.LN)({directoryTableColumns:n}))}))}),[r,p,i,l]);return n.createElement(Fr.Z,{className:e,style:{width:t}},n.createElement("div",{className:"DirectoryListTableHeader-columnMenuButtonContainer-YJL4S3"},n.createElement(K.lGZ,{"aria-label":(0,C.Z)("Change Columns"),id:o,isOpen:c.isOpen,onPress:c.onToggle},n.createElement(K.O7g,null))),r.map((({tableColumn:e,sort:t},r)=>n.createElement(Hr.Z,{key:e.key,style:e.style,to:Ie({key:f.Z.join(d,{sort:zr(t)},{parseParams:!0})})},n.createElement(Gr.Z,{activeClassName:0===r?"DirectoryListTableHeader-firstActiveTableHeaderCell-ju73Bk DirectoryListTableHeader-firstTableHeaderCell-2CPLdo DirectoryListTableHeader-tableHeaderCell-2am2RM TableHeaderCell-tableHeaderCell-36KGxp TableCell-tableCell-3eVBRq DirectoryListTableHeader-activeTableHeaderCell-2ygdf0 DirectoryListTableHeader-tableHeaderCell-2am2RM TableHeaderCell-tableHeaderCell-36KGxp TableCell-tableCell-3eVBRq":"DirectoryListTableHeader-activeTableHeaderCell-2ygdf0 DirectoryListTableHeader-tableHeaderCell-2am2RM TableHeaderCell-tableHeaderCell-36KGxp TableCell-tableCell-3eVBRq",className:0===r?"DirectoryListTableHeader-firstTableHeaderCell-2CPLdo DirectoryListTableHeader-tableHeaderCell-2am2RM TableHeaderCell-tableHeaderCell-36KGxp TableCell-tableCell-3eVBRq":"DirectoryListTableHeader-tableHeaderCell-2am2RM TableHeaderCell-tableHeaderCell-36KGxp TableCell-tableCell-3eVBRq",isActive:t.active},n.createElement(Ur.Z,{title:t.title},t.title),t.active?n.createElement(jr.Z,{isAscending:t.activeDirection===X.Sr.Ascending}):null)))),n.createElement(Gr.Z,{className:"DirectoryListTableHeader-actionsTableHeaderCell-2XEWrm DirectoryListTableHeader-tableHeaderCell-2am2RM TableHeaderCell-tableHeaderCell-36KGxp TableCell-tableCell-3eVBRq"}),n.createElement(Ar.Z,{isOpen:c.isOpen,options:Jr,target:o,onMenuClose:c.onClose},u.map((({sort:e,tableColumn:t})=>{const i=r.find((({tableColumn:e})=>e===t));return n.createElement(Wr.Z,{key:t.key,isSelected:!!i,value:t.key,onSelect:y},e.title)}))))}const tn=function(e,t){return(0,$.P1)(function(e,t,r){return(0,$.P1)((0,Vr.Z)("directoryTableColumns"),(r=>{if(!e)return[];const n=r[e];if(n)return n;switch(t){case g.U.Movie:return[Br.TN.key,Br.ty.key];case g.U.Show:return[Br.TN.key];case g.U.Season:return[Br.D0.key,Br.Zv.key];case g.U.Episode:return[Br.TN.key,Br.i4.key];case g.U.Artist:return[Br.TN.key];case g.U.Album:return[Br.TN.key,Br.c9.key,Br.ty.key];case g.U.Track:return[Br.TN.key,Br.Dk.key,Br.vy.key,Br.x9.key]}return[Br.TN.key]}))}(e,null==t?void 0:t.type,null==t||t.subtype),(e=>(null==t?void 0:t.Sort)?Kr(t.Sort,e):[]))};var rn=Object.defineProperty,nn=Object.prototype.hasOwnProperty,an=Object.getOwnPropertySymbols,ln=Object.prototype.propertyIsEnumerable,on=(e,t,r)=>t in e?rn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const sn=parseInt(rt.Z.v4PagePadding,10),cn=parseInt(rt.Z.actionsCellWidth,10),dn=parseInt(rt.Z.playCellWidth,10);function un({className:e,activeType:t,items:r,totalSize:i,smoothScroll:a,scrollerKey:l,targetScrollIndex:c,onPageRequest:d,onListReady:u}){const[m,p]=(0,I.c9)(),h=(0,y.Z)({serverIdentifier:m.machineIdentifier,providerIdentifier:null==p?void 0:p.identifier}),v=t?`${h}${t.key}`:void 0,f=(0,n.useMemo)((()=>tn(v,t)),[t,v]),b=(0,s.v9)(f),E=(0,n.useMemo)((()=>b.reduce(((e,{tableColumn:t})=>e+t.style.width),dn+cn)),[b]),g=(0,n.useMemo)((()=>(0,kr.Z)({overscan:1,outerPaddingRight:0,rowWidth:E})),[E]),P=(0,n.useCallback)((e=>(null==t?void 0:t.Sort)&&v?n.createElement(en,{activeTableColumnSorts:b,sorts:t.Sort,typeKeySourceURI:v,width:Math.max(sn+E,e.width)}):null),[E,t,v,b]),Z=(0,n.useCallback)((e=>n.createElement(o.ZP,{key:e.key,row:e.row},n.createElement(Nr.Z,((e,t)=>{for(var r in t||(t={}))nn.call(t,r)&&on(e,r,t[r]);if(an)for(var r of an(t))ln.call(t,r)&&on(e,r,t[r]);return e})({tableColumns:b.map((({tableColumn:e})=>e))},e)))),[b]);return n.createElement(tt.Z,{autoScroll:!1,cellComponentFactory:Z,className:e,items:r,keyPropName:"listItemKey",layout:g,renderAboveList:P,scrollDirection:N.I.Omni,scrollerKey:l,smoothScroll:a,targetScrollIndex:c,totalSize:i,onListReady:u,onPageRequest:d})}var mn=r(32765);function pn({className:e,listType:t,subtype:r,activeType:i,items:a,totalSize:l,scrollerKey:o,smoothScroll:s,targetScrollIndex:c,onPageRequest:d,onListReady:u}){const{listStyle:m}=(0,qe.U)(),p=function(e){switch(e){case g.n.Grid:return cr;case g.n.Details:return ct;case g.n.Table:return un;case g.n.SharedItems:return Mr;case g.n.Folder:return Lt}throw new Error("Failed to  map the directory list style to a list component. Check `selectDirectoryListStyle` for list style options")}(m);return n.createElement(mn.ZP,{items:a},n.createElement(p,{activeType:i,className:e,items:a,listType:t,scrollerKey:o,smoothScroll:s,subtype:r,targetScrollIndex:c,totalSize:l,onListReady:u,onPageRequest:d}))}var yn=r(88050),hn=r(91995),vn=r(53851);const fn={button:"SplitButton-button-3eRVuA",mainButton:"SplitButton-mainButton-31TPzq",menuButton:"SplitButton-menuButton-3-6qjW"};var bn=Object.defineProperty,En=Object.prototype.hasOwnProperty,gn=Object.getOwnPropertySymbols,Pn=Object.prototype.propertyIsEnumerable,In=(e,t,r)=>t in e?bn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Zn=(e,t)=>{for(var r in t||(t={}))En.call(t,r)&&In(e,r,t[r]);if(gn)for(var r of gn(t))Pn.call(t,r)&&In(e,r,t[r]);return e};const wn=function(e){const t=e,{className:r=fn.button,ariaLabel:i,label:a,menuSize:l,children:o,onPress:s}=t,c=((e,t)=>{var r={};for(var n in e)En.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&gn)for(var n of gn(e))t.indexOf(n)<0&&Pn.call(e,n)&&(r[n]=e[n]);return r})(t,["className","ariaLabel","label","menuSize","children","onPress"]),d=i||a,[u]=(0,n.useState)((0,vn.Z)()),[m,p]=(0,n.useState)(!1),y=(0,n.useCallback)((()=>p(!m)),[m]),h=n.Children.only(o);return n.createElement("div",{className:r,id:u},n.createElement(je.Z,Zn({"aria-label":d,className:fn.mainButton,onPress:s},c),a),n.createElement(je.Z,Zn({className:fn.menuButton,onPress:y},c),n.createElement(hn.Z,null)),n.createElement(Ar.Z,{isOpen:m,size:l,target:u,onMenuClose:y},n.cloneElement(h,{onMenuClose:y,onMenuOpen:y})))};var Cn=r(19376),Dn=r(56724);function Sn(e){const t=(0,Dn.Z)(e.type);return t?(0,Cn.Z)(t,e.subtype):void 0}var On=r(79687);const Tn={[g.U.Movie]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[g.U.Show]:["isAddToCatalogVisible","isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[g.U.Season]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[g.U.Episode]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[g.U.Artist]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[g.U.Album]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[g.U.Track]:["isAddToCatalogVisible","isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[g.U.PhotoAlbum]:["isAddToPlaylistVisible","isPlayVisible","isShuffleVisible"],[g.U.Photo]:["isAddToPlaylistVisible","isPlayVisible","isShuffleVisible"],[g.U.Author]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[g.U.Audiobook]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[g.U.Chapter]:["isAddToCatalogVisible","isAddToCollectionVisible","isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"]},Mn=({provider:e})=>!!(0,P.Z)(e,a.zW.PlayQueue),Nn=({provider:e,activeType:t})=>!!(0,P.Z)(e,a.zW.Playlist)&&(null==t?void 0:t.type)!==g.U.Game,kn=({provider:e,activeType:t})=>!!(0,P.Z)(e,a.zW.Collection)&&!!(0,P.Z)(e,a.zW.Manage)&&(null==t?void 0:t.type)!==g.U.Game&&(null==t?void 0:t.type)!==g.U.Photo,Rn={isAddToCollectionVisible:kn,isAddToPlaylistVisible:Nn,isAddToQueueVisible:Mn,isPlayVisible:Mn,isShuffleVisible:Mn,isOptimizeVisible:({server:e,provider:t})=>(0,On.Z)(t)&&e.isFullOwnedServer&&e.transcoderVideo,isAddToCatalogVisible:({provider:e})=>z.wB(e.identifier,z.HG)};var An,xn,Ln=r(76418),jn=r(8727),Fn=r(72071),Gn=r(84320),Hn=r(38170),Un=r(14700),Vn=r(9119),Bn=r(92747),Kn=r(37791),zn=r(89328);(xn=An||(An={})).Or="or",xn.And="and";var Wn=r(11412);const _n=function({className:e="FieldRatingInput-inputContainer-21X4K5",value:t,onChange:r}){const i=(0,n.useCallback)((e=>{r(0===e?"-1":String(2*e))}),[r]);return n.createElement("div",{className:e},n.createElement(Wn.Z,{value:""===t?-1:parseInt(t,10)/2,onRatingChange:i}))};var qn=r(82367);const $n={select:"FilterSelectInput-select-jUlJSH Select-select-_CcenL"};var Qn=Object.defineProperty,Yn=Object.prototype.hasOwnProperty,Xn=Object.getOwnPropertySymbols,Jn=Object.prototype.propertyIsEnumerable,ei=(e,t,r)=>t in e?Qn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const ti=function(e){var t=e,{selectClassName:r=$n.select,size:i=zn.Z.Small}=t,a=((e,t)=>{var r={};for(var n in e)Yn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Xn)for(var n of Xn(e))t.indexOf(n)<0&&Jn.call(e,n)&&(r[n]=e[n]);return r})(t,["selectClassName","size"]);return n.createElement(qn.Z,((e,t)=>{for(var r in t||(t={}))Yn.call(t,r)&&ei(e,r,t[r]);if(Xn)for(var r of Xn(t))Jn.call(t,r)&&ei(e,r,t[r]);return e})({selectClassName:r,size:i},a))};var ri=r(77437);const ni={input:"FilterTextInput-input-1w6FdB TextInput-input-2H3p8z"};var ii=Object.defineProperty,ai=Object.prototype.hasOwnProperty,li=Object.getOwnPropertySymbols,oi=Object.prototype.propertyIsEnumerable,si=(e,t,r)=>t in e?ii(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ci=(e,t)=>{for(var r in t||(t={}))ai.call(t,r)&&si(e,r,t[r]);if(li)for(var r of li(t))oi.call(t,r)&&si(e,r,t[r]);return e};function di(e){var t=e,{className:r=ni.input,size:i=zn.Z.Small,initialValue:a,forwardedRef:l,onChange:o,onDebouncedChange:s}=t,c=((e,t)=>{var r={};for(var n in e)ai.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&li)for(var n of li(e))t.indexOf(n)<0&&oi.call(e,n)&&(r[n]=e[n]);return r})(t,["className","size","initialValue","forwardedRef","onChange","onDebouncedChange"]);const[d,u]=(0,n.useState)(a),m=(0,ri.Z)(d,250),p=(0,n.useCallback)((e=>{null==o||o(e),u(e.target.value)}),[o,u]);return(0,n.useEffect)((()=>{null==s||s(m)}),[m]),n.createElement(jn.Z,ci({ref:l,className:r,size:i,value:d,onChange:p},c))}const ui=n.forwardRef(((e,t)=>n.createElement(di,ci(ci({},e),{forwardedRef:t})))),mi=/^-?(\d+)([a-z]{1,3})$/,pi=function(e=""){const t=e.match(mi);if(t){const[,e,r]=t;return{value:e,suffix:r}}return t},yi=function({className:e="FieldRelativeDateInput-inputContainer-2JvFDP",value:t,onChange:r}){var i,a;const l=(0,n.useMemo)((()=>pi(t)),[t]),o=null!=(i=null==l?void 0:l.value)?i:"0",s=null!=(a=null==l?void 0:l.suffix)?a:"s",c=(0,n.useCallback)((e=>{r(`-${e||"0"}${s}`)}),[r,s]),d=(0,n.useCallback)((e=>{r(`-${o}${e.target.value}`)}),[r,o]);return n.createElement("div",{className:e},n.createElement(ui,{className:"FieldRelativeDateInput-textInput-13IprF FilterTextInput-input-1w6FdB TextInput-input-2H3p8z",initialValue:"0"===o?"":o,min:"0",name:"dateInput",required:!0,step:"1",type:"number",onDebouncedChange:c}),n.createElement(ti,{className:"FieldRelativeDateInput-selectInput-1dci1u Select-input-1EpAho",name:"suffixInput",value:s,onChange:d},n.createElement("option",{value:"s"},(0,C.Z)("Seconds")),n.createElement("option",{value:"m"},(0,C.Z)("Minutes")),n.createElement("option",{value:"h"},(0,C.Z)("Hours")),n.createElement("option",{value:"d"},(0,C.Z)("Days")),n.createElement("option",{value:"w"},(0,C.Z)("Weeks")),n.createElement("option",{value:"mon"},(0,C.Z)("Months")),n.createElement("option",{value:"y"},(0,C.Z)("Years"))))};var hi=r(94184),vi=r.n(hi),fi=r(71755),bi=r(82777),Ei=r(73935),gi=r(73433),Pi=r(69590),Ii=r.n(Pi),Zi=function(e){return e.reduce((function(e,t){var r=t[0],n=t[1];return e[r]=n,e}),{})},wi="undefined"!=typeof window&&window.document&&window.document.createElement?n.useLayoutEffect:n.useEffect,Ci=[],Di=r(19210),Si=r(32129),Oi=r(93502),Ti=r(50875),Mi=r(91169);const Ni={name:"applyMaxHeight",enabled:!0,phase:"beforeWrite",requires:["maxSize"],fn({state:e,options:t}){var r;const n=null!=(r=t.offset)?r:0,{height:i}=e.modifiersData.maxSize;e.styles.popper.maxHeight=i-n+"px"}};var ki=r(9966);const Ri={name:"maxSize",enabled:!0,phase:"main",requiresIfExists:["offset","preventOverflow","flip"],fn({state:e,name:t,options:r}){const n=(0,ki.Z)(e,r),{x:i,y:a}=e.modifiersData.preventOverflow||{x:0,y:0},{width:l,height:o}=e.rects.popper,[s]=e.placement.split("-"),c="left"===s?"left":"right",d="top"===s?"top":"bottom";e.modifiersData[t]={width:l-n[c]-i,height:o-n[d]-a}}},Ai={name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn({state:e}){e.styles.popper.width=`${e.rects.reference.width}px`},effect({state:e}){e.elements.popper.style.width=`${e.elements.reference.offsetWidth}px`}},xi=(0,$.P1)(ce.Z,(e=>e.advancedFilters)),Li={searchInputContainer:"FilterOptionInput-searchInputContainer-eF2JDs",button:"FilterOptionInput-button-3f_m5y Link-link-1Kt-hA",small:"FilterOptionInput-small-2HW5NM",medium:"FilterOptionInput-medium-dTqdfU",large:"FilterOptionInput-large-1nxen7",isDisabled:"FilterOptionInput-isDisabled-8-sx3E",hasError:"FilterOptionInput-hasError-3Pk8du",menuContainer:"FilterOptionInput-menuContainer-1Dg3Vj",menu:"FilterOptionInput-menu-3x484C",loadingMenu:"FilterOptionInput-loadingMenu-2t-x_i FilterOptionInput-menu-3x484C",scroller:"FilterOptionInput-scroller-Kcf_GK Scroller-scroller-HAUFpl",input:"FilterOptionInput-input-35Cc0H FilterTextInput-input-1w6FdB TextInput-input-2H3p8z",list:"FilterOptionInput-list-1JDmpZ",listItem:"FilterOptionInput-listItem-1BUchS",listItemHighlighted:"FilterOptionInput-listItemHighlighted-1FbL5v FilterOptionInput-listItem-1BUchS"};var ji=Object.defineProperty,Fi=Object.prototype.hasOwnProperty,Gi=Object.getOwnPropertySymbols,Hi=Object.prototype.propertyIsEnumerable,Ui=(e,t,r)=>t in e?ji(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Vi=(e,t)=>{for(var r in t||(t={}))Fi.call(t,r)&&Ui(e,r,t[r]);if(Gi)for(var r of Gi(t))Hi.call(t,r)&&Ui(e,r,t[r]);return e};const Bi=(0,Di.Z)(Si.Z.menuSpeed)/1e3,Ki={ease:"easeOut",duration:Bi},zi={ease:Oi.Z.motionEasing,duration:Bi},Wi={opacity:Ki,y:zi,scale:zi},_i={initial:{opacity:0,y:-10,scale:.95,transition:Wi},animate:{opacity:1,y:0,scale:1,transition:Wi},exit:{opacity:0,y:10,scale:.95,transition:Wi}},qi=function({containerClassName:e=Li.searchInputContainer,disabledClassName:t=Li.isDisabled,errorClassName:r=Li.hasError,buttonClassName:i=Li.button,rule:a,size:l=zn.Z.Small,filter:o,isDisabled:c,hasError:d,onChange:u}){var m,p,y;const h=(0,s.I0)(),[v,f]=(0,I.c9)(),b=null!=(m=a.valueTitle)?m:a.value,E=(0,n.useMemo)((()=>{return e=o.key,(0,$.P1)(xi,(t=>t.filterOptions[e]));var e}),[o.key]),g=(0,s.v9)(E),[P,Z]=(0,n.useState)(null==g?void 0:g.options),w=null!=(p=null!=P?P:null==g?void 0:g.options)?p:[],D=(0,n.useRef)(null),S=(0,n.useRef)(null),O=(0,Ti.Z)(),{styles:T,attributes:M,state:k}=function(e,t,r){void 0===r&&(r={});var i=n.useRef(null),a={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||Ci},l=n.useState({styles:{popper:{position:a.strategy,left:"0",top:"0"}},attributes:{}}),o=l[0],s=l[1],c=n.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,r=Object.keys(t.elements);s({styles:Zi(r.map((function(e){return[e,t.styles[e]||{}]}))),attributes:Zi(r.map((function(e){return[e,t.attributes[e]]})))})},requires:["computeStyles"]}}),[]),d=n.useMemo((function(){var e={onFirstUpdate:a.onFirstUpdate,placement:a.placement,strategy:a.strategy,modifiers:[].concat(a.modifiers,[c,{name:"applyStyles",enabled:!1}])};return Ii()(i.current,e)?i.current||e:(i.current=e,e)}),[a.onFirstUpdate,a.placement,a.strategy,a.modifiers,c]),u=n.useRef();return wi((function(){u.current&&u.current.setOptions(d)}),[d]),wi((function(){if(null!=e&&null!=t){var n=(r.createPopper||gi.fi)(e,t,d);return u.current=n,function(){n.destroy(),u.current=null}}}),[e,t,r.createPopper]),{state:u.current?u.current.state:null,styles:o.styles,attributes:o.attributes,update:u.current?u.current.update:null,forceUpdate:u.current?u.current.forceUpdate:null}}(D.current,S.current,{placement:"bottom-start",modifiers:(0,n.useMemo)((()=>[{name:"offset",options:{offset:[0,5]}},Ai,Ri,Ni,{name:"applyMaxHeight",options:{offset:15}}]),[])}),R=(0,n.useCallback)((e=>{var t;return null!=(t=null==e?void 0:e.title)?t:""}),[]),{isOpen:A,highlightedIndex:x,getToggleButtonProps:j,getMenuProps:F,getComboboxProps:G,getInputProps:H,getItemProps:U,closeMenu:B}=(0,fi.Kb)({defaultHighlightedIndex:0,items:w,itemToString:R,initialInputValue:b,onSelectedItemChange:(0,n.useCallback)((({selectedItem:e})=>{e&&u(e.value,e.title)}),[u]),onInputValueChange:(0,n.useCallback)((({inputValue:e})=>{(null==g?void 0:g.options)&&Z(g.options.filter((t=>R(t).toLowerCase().includes(null==e?void 0:e.toLocaleLowerCase()))))}),[null==g?void 0:g.options,R]),stateReducer:(0,n.useCallback)(((e,{changes:t})=>{var r,n,i;return e.isOpen&&!t.isOpen&&(null==(r=t.selectedItem)?void 0:r.title)!==e.inputValue?Vi(Vi({},t),{inputValue:null!=(i=null==(n=t.selectedItem)?void 0:n.title)?i:b}):t}),[b])});return(0,n.useEffect)((()=>{(null==g?void 0:g.isPopulated)||h(Gn.Z.actions.fetchFilterOptionsRequested({server:v,provider:f,filter:o}))}),[h,o,null==g?void 0:g.isPopulated,A,f,v]),(0,n.useEffect)((()=>{var e;(null==(e=null==k?void 0:k.modifiersData.hide)?void 0:e.isReferenceHidden)&&A&&B()}),[B,A,null==(y=null==k?void 0:k.modifiersData.hide)?void 0:y.isReferenceHidden]),(0,n.useEffect)((()=>{(null==g?void 0:g.options.length)&&Z(g.options)}),[null==g?void 0:g.options]),n.createElement(n.Fragment,null,n.createElement("div",Vi({},G({ref:D,className:vi()(e,c&&t,d&&r)})),n.createElement(ui,Vi(Vi({},H({className:Li.input,onFocus:O,disabled:c})),{size:l})),n.createElement(L.Z,Vi(Vi(Vi({},j({className:vi()(i,Li[l]),disabled:c})),M.reference),{isDisabled:c}),n.createElement(hn.Z,{direction:A?Mi.Z.Up:Mi.Z.Down,size:l}))),Ei.createPortal(n.createElement("div",Vi(Vi({},F({className:Li.menuContainer,style:T.popper,ref:S})),M.popper),n.createElement(bi.M_,null,A?n.createElement(bi.ww.div,{key:"container",animate:_i.animate,className:(null==g?void 0:g.isPopulated)?Li.menu:Li.loadingMenu,exit:_i.exit,initial:_i.initial},(null==g?void 0:g.isPopulated)?n.createElement(N.Z,{className:Li.scroller},n.createElement("ul",{className:Li.list},w.length?w.map(((e,t)=>n.createElement("li",Vi({key:e.key},U({className:x===t?Li.listItemHighlighted:Li.listItem,index:t,item:e})),e.title))):n.createElement("li",{className:Li.listItem},(0,C.Z)("No options")))):n.createElement(V.Z,null)):null)),document.body))},$i=[Q.DoubleEqual,Q.NotDoubleEqual],Qi=[Q.Equal,Q.NotEqual],Yi=function({rule:e,fieldType:t,fieldSubtype:r,filter:i,onChange:a}){var l;const o=(0,n.useCallback)((e=>{a(encodeURIComponent(e),e)}),[a]);if(i&&function(e,t){switch(e){case X.fS.String:return $i.includes(t.operator);default:return Qi.includes(t.operator)}}(t,e))return n.createElement(qi,{filter:i,rule:e,onChange:a});switch(t){case X.fS.String:return n.createElement(ui,{initialValue:null!=(l=e.valueTitle)?l:e.value,name:"input",required:!0,type:"text",onDebouncedChange:o});case X.fS.Integer:switch(r){case X.Pi.Rating:return n.createElement(_n,{value:e.value,onChange:a})}return n.createElement(ui,{initialValue:e.value,min:"0",name:"input",required:!0,type:"number",onDebouncedChange:o});case X.fS.Date:return pi(e.value)?n.createElement(yi,{value:e.value,onChange:a}):n.createElement(ui,{initialValue:e.value,max:"2999-12-31",name:"input",pattern:"[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])",placeholder:"YYYY-MM-DD",required:!0,type:"date",onDebouncedChange:o})}return null};function Xi(e,t,r=""){return{operator:e,title:t,defaultValue:r}}const Ji=function(e){switch(e){case X.fS.Tag:case X.fS.AudioLanguage:case X.fS.SubtitleLanguage:return[Xi(Q.Equal,(0,C.Z)("is")),Xi(Q.NotEqual,(0,C.Z)("is not"))];case X.fS.Resolution:return[Xi(Q.Equal,(0,C.Z)("is"))];case X.fS.Boolean:return[Xi(Q.Equal,(0,C.Z)("is true")),Xi(Q.NotEqual,(0,C.Z)("is false"))];case X.fS.Integer:return[Xi(Q.Equal,(0,C.Z)("is")),Xi(Q.NotEqual,(0,C.Z)("is not")),Xi(Q.GreaterThanGreaterThanOrEqual,(0,C.Z)("is greater than")),Xi(Q.LessThanLessThanOrEqual,(0,C.Z)("is less than"))];case X.fS.String:return[Xi(Q.Equal,(0,C.Z)("contains")),Xi(Q.NotEqual,(0,C.Z)("does not contain")),Xi(Q.DoubleEqual,(0,C.Z)("is")),Xi(Q.NotDoubleEqual,(0,C.Z)("is not")),Xi(Q.LessThanOrEqual,(0,C.Z)("begins with")),Xi(Q.GreaterThanOrEqual,(0,C.Z)("ends with"))];case X.fS.Date:return[Xi(Q.LessThanLessThanOrEqual,(0,C.Z)("is before")),Xi(Q.GreaterThanGreaterThanOrEqual,(0,C.Z)("is after")),Xi(Q.GreaterThanGreaterThanOrEqual,(0,C.Z)("is in the last"),"-0s"),Xi(Q.LessThanLessThanOrEqual,(0,C.Z)("is not in the last"),"-0s")]}};var ea=r(45697),ta=r.n(ea),ra=r(17845);function na(e){const t=e["aria-label"],r=e.className,i=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-subtract"};a["aria-hidden"]=!t,a.style=i,a.className=ra.Z.plexIcon+(r?" "+r:"");const l=[n.createElement.apply(n,["path",{clipRule:"evenodd",d:"M3.42847 27.4286V20.5714H44.5713V27.4286H3.42847Z"}].concat([]))];return t&&l.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",a].concat(l))}na.propTypes={"aria-label":ta().string,className:ta().string,style:ta().object};const ia=na,aa="AdvancedFilterOption-inputContainer-2UiVjE";var la=Object.defineProperty,oa=Object.prototype.hasOwnProperty,sa=Object.getOwnPropertySymbols,ca=Object.prototype.propertyIsEnumerable,da=(e,t,r)=>t in e?la(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ua=(e,t)=>{for(var r in t||(t={}))oa.call(t,r)&&da(e,r,t[r]);if(sa)for(var r of sa(t))ca.call(t,r)&&da(e,r,t[r]);return e};const ma=function({className:e="AdvancedFilterOption-container-2ImoTr",rowState:t,rule:r,isRemoveDisabled:i,onChange:a,onRemoveRule:l}){const{type:o,subtype:s}=t.fieldTypesByFieldKey[r.field],c=t.filterKeysByFieldKey[r.field],d=!!pi(r.value),u=(0,n.useMemo)((()=>Ji(o)),[o]),m=(0,n.useMemo)((()=>t.allTypeFilters.find((({key:e})=>e===c))),[c,t.allTypeFilters]),p=(0,n.useMemo)((()=>{if(o===X.fS.Date){const e=u.find((e=>e.operator===r.operator&&d&&e.defaultValue));if(e)return e}return u.find((e=>e.operator===r.operator))||u[0]}),[u,r.operator,d,o]),y=(0,n.useMemo)((()=>u.indexOf(p)),[u,p]),h=(0,n.useCallback)((e=>{const n=e.target.value,i=t.allTypeFields.find((e=>e.key===n));if(!i)throw new Error(`${n} did not match to any type field`);const l=t.fieldTypesByFieldKey[i.key],[o]=Ji(l.type);a(ua(ua({},r),{field:i.key,fieldTitle:i.title,operator:o.operator,value:l.type===X.fS.Boolean?"1":"",valueTitle:void 0}))}),[a,t.allTypeFields,t.fieldTypesByFieldKey,r]),v=(0,n.useCallback)((e=>{const t=parseInt(e.target.value,10),n=u[t];o===X.fS.Date?a(ua(ua({},r),{operator:n.operator,value:n.defaultValue,valueTitle:void 0})):a(ua(ua({},r),{operator:n.operator}))}),[a,u,r,o]),f=(0,n.useCallback)(((e,t)=>{a(ua(ua({},r),{value:e,valueTitle:t}))}),[a,r]);return n.createElement("div",{className:e},n.createElement("div",{className:aa},n.createElement(ti,{name:"field",value:r.field,onChange:h},t.allTypeFields.map(((e,t)=>n.createElement("option",{key:`${e.key}-${t}`,value:e.key},e.title))))),n.createElement("div",{className:aa},n.createElement(ti,{name:"operator",value:String(y),onChange:v},u.map(((e,t)=>n.createElement("option",{key:t,value:t},e.title))))),o!==X.fS.Boolean?n.createElement("div",{className:aa},n.createElement(Yi,{fieldSubtype:s,fieldType:o,filter:m,rule:r,onChange:f})):null,n.createElement(Bn.Z,{icon:ia,isDisabled:i,size:zn.Z.Small,title:(0,C.Z)("Remove Rule"),onPress:l}))};var pa=Object.defineProperty,ya=Object.prototype.hasOwnProperty,ha=Object.getOwnPropertySymbols,va=Object.prototype.propertyIsEnumerable,fa=(e,t,r)=>t in e?pa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ba=(e,t)=>{for(var r in t||(t={}))ya.call(t,r)&&fa(e,r,t[r]);if(ha)for(var r of ha(t))va.call(t,r)&&fa(e,r,t[r]);return e};function Ea(e,t=function(e,t=[]){return{type:"composite",operator:e,Rule:t}}(An.And)){return ba(ba({},t),{Rule:[...t.Rule,...e]})}const ga=function(e){const[t]=e.allTypeFields,[r]=Ji(t.type);return{field:t.key,fieldTitle:t.title,value:"",operator:r.operator}};var Pa=r(46391);var Ia=Object.defineProperty,Za=Object.prototype.hasOwnProperty,wa=Object.getOwnPropertySymbols,Ca=Object.prototype.propertyIsEnumerable,Da=(e,t,r)=>t in e?Ia(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Sa=(e,t)=>{for(var r in t||(t={}))Za.call(t,r)&&Da(e,r,t[r]);if(wa)for(var r of wa(t))Ca.call(t,r)&&Da(e,r,t[r]);return e};function Oa(e){const t=(0,Y.su)(An).find((t=>t===e));if(t)return t;throw new Error(`'getOperatorValue' received an unknown value '${e}'`)}const Ta=function e({className:t="AdvancedFilterGroup-container-Umsl0L",rowState:r,compositeRule:i,onRemoveGroup:a,onChange:l}){const o=(0,xr.Z)(),s=(0,Lr.Z)(),c=i.Rule.length,d=(0,n.useCallback)((e=>{l(Sa(Sa({},i),{operator:Oa(e.target.value)}))}),[i,l]),u=(0,n.useCallback)((e=>()=>{const t=Array.from(i.Rule),[r]=t.splice(e,1);t.length<1&&"composite"!==r.type||l(Sa(Sa({},i),{Rule:t}))}),[i,l]),m=(0,n.useCallback)((()=>{const e=Array.from(i.Rule);e.unshift(ga(r)),l(Sa(Sa({},i),{Rule:e}))}),[i,l,r]),p=(0,n.useCallback)((()=>{const e=Array.from(i.Rule);e.unshift(Ea([ga(r)])),l(Sa(Sa({},i),{Rule:e}))}),[i,l,r]),y=(0,n.useCallback)((e=>t=>{const r=Array.from(i.Rule);r.splice(e,1,t),l(Sa(Sa({},i),{Rule:r}))}),[i,l]);return n.createElement("div",{className:t},n.createElement("div",{className:"AdvancedFilterGroup-inputContainer-TwjUbL"},n.createElement(ti,{name:"group",value:i.operator,onChange:d},n.createElement("option",{value:"and"},(0,C.Z)("Match all of the following")),n.createElement("option",{value:"or"},(0,C.Z)("Match any of the following")))),n.createElement(Kn.Z,{className:"AdvancedFilterGroup-buttons-2oiWm_ ActionButtonBar-bar-28zTmt"},n.createElement(Bn.Z,{icon:Hn.Z,size:zn.Z.Small,title:(0,C.Z)("Add Rule"),onPress:m}),n.createElement(L.Z,{"aria-label":(0,C.Z)("More Actions"),id:o,onPress:s.onToggle},n.createElement(Pa.Z,null)),n.createElement(Ar.Z,{isOpen:s.isOpen,target:o,onMenuClose:s.onClose},n.createElement(Un.Z,{onPress:(0,Vn.Z)(p,s.onClose)},(0,C.Z)("Add Rule Group")),a?n.createElement(Un.Z,{onPress:(0,Vn.Z)(a,s.onClose)},(0,C.Z)("Remove Rule Group")):null)),n.createElement("div",{className:"AdvancedFilterGroup-rules-1oFOJN"},i.Rule.map(((t,a)=>"composite"===t.type?n.createElement(e,{key:`${t.operator}-${a}`,compositeRule:t,rowState:r,onChange:y(a),onRemoveGroup:u(a)}):n.createElement(ma,{key:`${t.field}-${c}-${a}`,isRemoveDisabled:1===i.Rule.length,rowState:r,rule:t,onChange:y(a),onRemoveRule:u(a)})))))},Ma=new RegExp(`(${["duration","mediaSize","mediaBitrate","show.writer","show.producer","show.director"].join("|")})$`),Na=function({meta:e,rules:t,onChange:r}){const i=(0,n.useMemo)((()=>{var t;return(null!=(t=e.Type)?t:[]).reduce(((e,t)=>(t.Field&&e.push(...t.Field.filter((e=>!Ma.test(e.key)))),e)),[])}),[e.Type]),a=(0,n.useMemo)((()=>{var t;return(null!=(t=e.Type)?t:[]).reduce(((e,t)=>(t.Filter&&e.push(...t.Filter),e)),[])}),[e.Type]),l=(0,n.useMemo)((()=>{var t;const r=null!=(t=e.Type)?t:[],n=r.filter((e=>e.type!==g.U.Folder)).length>1;return r.reduce(((e,t)=>(t.Filter&&t.Filter.forEach((r=>{if(r.filterType!==X.H_.Boolean){const i=n?`${t.type}.${r.filter}`:r.filter;e[i]=r.key}})),e)),{})}),[e.Type]),o=(0,n.useMemo)((()=>i.reduce(((e,t)=>(e[t.key]={type:t.type,subtype:t.subType},e)),{})),[i]),s=(0,n.useMemo)((()=>({allTypeFilters:a,allTypeFields:i,fieldTypesByFieldKey:o,filterKeysByFieldKey:l})),[i,a,o,l]),c=(0,n.useMemo)((()=>t?"composite"!==t.type?Ea([t]):t:Ea([ga(s)])),[t,s]);return n.createElement(Ta,{compositeRule:c,rowState:s,onChange:r})},ka=(0,$.P1)(xi,(e=>e.curatedItem)),Ra=(0,$.P1)(xi,(e=>e.queryParse));function Aa(e,t=!1){const r=[];if("composite"===e.type){const n=e.Rule;for(let e=0,t=n.length;e<t;e++){const t=n[e];(t.type||""!==t.value)&&(Aa(t,!0).length&&r.push(Aa(t,!0)))}const i=r.length;let a=i-1;for(;a>0;)r.splice(a,0,`${e.operator}=1`),a-=1;r.length&&(t||i>1&&e.operator===An.Or)&&(r.unshift("push=1"),r.push("pop=1"))}else{if(""===e.value)throw new Error("Tried to encode an empty value");const t=e.operator.slice(0,-1);r.push(`${e.field}${encodeURIComponent(t)}=${e.value}`)}return r.flat(2)}function xa(e){return Aa(e).join("&")}var La=r(86945),ja=r(60179),Fa=r(83492),Ga=r(96338),Ha=r(94848),Ua=r(6638);const Va=function({className:e="DirectoryListAdvancedFilters-container-1ZUPk0",directoryKey:t,totalSize:r,meta:i}){var a,l,o,c,d,u;const m=(0,s.I0)(),[p,h,b]=(0,I.c9)(),E=(0,y.Z)({serverIdentifier:p.machineIdentifier,providerIdentifier:h.identifier}),g=(0,n.useMemo)((()=>f.Z.parseUri(t)),[t]),P=`${E}${t}`,w=(0,s.v9)(Re.Z),{query:D,isPopulated:S}=(0,s.v9)(Ra),O=(0,s.v9)(ka),T=(0,n.useMemo)((()=>(0,Ha.Z)(P)),[P]),M=(0,s.v9)(T),k=null!=(a=null==M?void 0:M.isSaving)&&a,R=(0,Te.Z)(k),A=(0,se.Z)(i),x=Z(),L=x.curatedKey?We.Z.parseString(x.curatedKey):void 0,j=(0,Fn.Z)({identifier:h.metricsIdentifier,mode:"list",type:null==A?void 0:A.type,itemCount:r}),[F,G]=(0,n.useState)(null!=(l=We.Z.parseString(g.params.limit))?l:""),H=(0,ri.Z)(F,250),U=(0,Lr.Z)(),K=(0,Lr.Z)(),z=(0,Lr.Z)(),[W,_]=(0,n.useState)(!1),q=A?(0,Dn.Z)(A.type):void 0,$=A?Sn(A):void 0,Q=Nn({server:p,provider:h,activeType:A}),Y=kn({server:p,provider:h,activeType:A}),X=Y&&$===Gt.DD.Video,J=(0,n.useCallback)((()=>{j({action:yn.DK,mode:"shortcut"})}),[j]),ee=(0,n.useCallback)((()=>{j({action:yn.uf,mode:"shortcut"})}),[j]),te=(0,n.useCallback)((()=>{_(!0),U.onOpen()}),[U]),re=(0,n.useCallback)((()=>{_(!1),U.onClose()}),[U]),ne=(0,n.useCallback)((()=>{_(!0),K.onOpen()}),[K]),ie=(0,n.useCallback)((()=>{_(!1),K.onClose()}),[K]),ae=(0,n.useCallback)((()=>{L&&(0,v.c9)((()=>{m(Ga.Z.actions.saveRequested({server:p,provider:h,key:L,sourceURI:P,isSmart:!0}))}))}),[L,m,h,p,P]),le=(0,n.useCallback)((e=>{const t=e.target.value;G(t)}),[]),oe=(0,n.useCallback)((e=>{m(Gn.Z.actions.updateQuery({rules:e}))}),[m]);(0,n.useEffect)((()=>{var e;if(!(null==D?void 0:D.Rule)||"composite"===(null==(e=null==D?void 0:D.Rule)?void 0:e.type)&&D.Rule.Rule.length<1)return;const{type:r,sort:n,group:i,having:a}=g.params,l={type:r,sort:n,group:i,having:a,limit:H||void 0},o=f.Z.join(g.pathname,l),s=xa(D.Rule),c=f.Z.join(o,s,{parseParams:!1});c!==t&&m((0,Ze.c4)({pathname:Ie({key:c}),replace:!0}))}),[t,g.params,g.pathname,m,H,D]),(0,n.useEffect)((()=>{D||m(Gn.Z.actions.fetchQueryRequested({server:p,provider:h,key:t.replace("/all","/query/parse")})),L&&m(Gn.Z.actions.fetchCuratedRequested({server:p,provider:h,key:L}))}),[D,t,L,m,p]),(0,n.useEffect)((()=>()=>{m(Gn.Z.actions.reset())}),[m]),(0,n.useEffect)((()=>{var e;if((null==(e=null==M?void 0:M.metadataItem)?void 0:e.key)&&R&&!k&&!(null==M?void 0:M.saveError)){const e=M.metadataItem.type===Gt.pG.Playlist;m((0,Ze.c4)({pathname:(0,Ua.Z)(p,h,M.metadataItem.key,void 0,e?$:void 0),replace:!0}))}}),[m,k,R,$,h,p,null==(o=null==M?void 0:M.metadataItem)?void 0:o.key,null==(c=null==M?void 0:M.metadataItem)?void 0:c.type,null==M?void 0:M.saveError]);let ce=(0,C.Z)("Save As..."),de=X?ne:te;return O.item&&(ce=O.item.isPlaylist?(0,C.Z)("Update Playlist"):(0,C.Z)("Update Collection"),de=ae),S&&D?n.createElement("form",{className:e},n.createElement(N.Z,{autoScroll:!0,className:"DirectoryListAdvancedFilters-scroller-1SjwDO Scroller-scroller-HAUFpl",scrollDirection:N.I.Omni},O.item?n.createElement("div",{className:"DirectoryListAdvancedFilters-editHeading-3Llbd3"},O.item.title):null,n.createElement(Na,{meta:i,rules:D.Rule,onChange:oe})),n.createElement("div",{className:"DirectoryListAdvancedFilters-buttonBar-az0usI"},n.createElement("div",null,n.createElement(Ln.Z,{className:"DirectoryListAdvancedFilters-formLabel-19I6Ln FormLabel-label-OhVY4K",name:"labelValue"},(0,C.Z)("Limit to")),n.createElement(jn.Z,{className:"DirectoryListAdvancedFilters-textInput-IomayO TextInput-input-2H3p8z",min:0,name:"labelValue",type:"number",value:F,onChange:le})),n.createElement("div",{className:"DirectoryListAdvancedFilters-buttonCluster-1j4DLU"},$&&q&&b&&(Y||Q)?n.createElement(n.Fragment,null,n.createElement(wn,{isDisabled:w,kind:B.Z.Primary,label:ce,onPress:de},n.createElement(ja.Z,{contentDirectoryID:b.id,mediaType:$,metadataType:q,provider:h,server:p,sourceURI:P,onAddToCollectionPress:Y?K.onOpen:void 0,onAddToPlaylistPress:Q?U.onOpen:void 0,onAddToSmartCollectionPress:ne,onAddToSmartPlaylistPress:te,onMenuClose:z.onClose,onSaveCollectionPress:J,onSavePlaylistPress:ee})),n.createElement(Fa.Z,{defaultDestinationSource:E,defaultTitle:null!=(d=b.title)?d:(0,C.Z)("New Playlist"),isOpen:U.isOpen,isSmart:W,mediaType:$,sourceURI:P,onModalClose:re,onSaveSuccess:ee}),n.createElement(La.Z,{contentDirectoryID:b.id,defaultTitle:null!=(u=b.title)?u:(0,C.Z)("New Collection"),isOpen:K.isOpen,isSmart:W,metadataType:q,sourceURI:P,onModalClose:ie,onSaveSuccess:J})):null))):n.createElement("div",{className:"DirectoryListAdvancedFilters-loadingContainer-1NBSKW DirectoryListAdvancedFilters-container-1ZUPk0"},n.createElement(V.Z,null))},Ba=function(e){var t;return null!=(t=null==e?void 0:e.find((e=>e.active)))?t:null==e?void 0:e[0]};var Ka=Object.defineProperty,za=Object.prototype.hasOwnProperty,Wa=Object.getOwnPropertySymbols,_a=Object.prototype.propertyIsEnumerable,qa=(e,t,r)=>t in e?Ka(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$a=(e,t)=>{for(var r in t||(t={}))za.call(t,r)&&qa(e,r,t[r]);if(Wa)for(var r of Wa(t))_a.call(t,r)&&qa(e,r,t[r]);return e};const Qa=parseInt(rt.Z.jumpBarCharacterHeight,10),Ya=parseInt(rt.Z.jumpBarMargin,10);function Xa({className:e="DirectoryListJumpBar-character-3U8oKc Link-link-1Kt-hA",scrollIndex:t,children:r,onCharacterPress:i}){const a=(0,n.useCallback)((()=>{i(t)}),[t,i]);return n.createElement(L.Z,{className:e,onPress:a},r)}function Ja({className:e="DirectoryListJumpBar-jumpBar-U6n8im",activeType:t,viewportHeight:r,listTotalSize:i,onFirstCharacterScroll:a}){const l=Ba(null==t?void 0:t.Sort),{firstCharacters:{items:o}}=(0,s.v9)(de),c=(0,n.useMemo)((()=>o?function(e,t){if(t<1||!e.length)return[];const{characters:r}=e.reduce(((e,t,r)=>(e.characters.push($a($a({},t),{position:r,scrollIndex:e.scrollIndex})),e.scrollIndex+=t.size,e)),{characters:[],scrollIndex:0}),n=[r[0],r[r.length-1]],i=Array.from(r).sort(((e,t)=>t.size-e.size));return Array.from(new Set([...n,...i])).slice(0,t).sort(((e,t)=>e.position-t.position))}(o,Math.floor((r-2*Ya)/Qa)):[]),[o,r]),d=!!(null==l?void 0:l.firstCharacterKey),u=c.length>=5;return l&&o&&d&&u&&i>=75?n.createElement("div",{className:e},c.map((e=>n.createElement(Xa,{key:e.key,scrollIndex:e.scrollIndex,onCharacterPress:a},e.title)))):null}var el=r(39374);function tl(e){const t=e["aria-label"],r=e.className,i=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-tidal-logo-560"};a["aria-hidden"]=!t,a.style=i,a.className=ra.Z.plexIcon+(r?" "+r:"");const l=[n.createElement.apply(n,["path",{d:"M373.331 186.32l-93.324 93.332-93.337-93.341L280.007 93l93.332 93.309L466.67 93 560 186.318l-93.33 93.341-93.339-93.339zm.01 186.669l-93.334 93.34-93.337-93.34 93.337-93.337 93.334 93.337zm-186.67-186.67l-93.338 93.34L0 186.32 93.333 93l93.337 93.318z"}].concat([]))];return t&&l.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",a].concat(l))}tl.propTypes={"aria-label":ta().string,className:ta().string,style:ta().object};const rl=tl;function nl(e){var t,r;return(null==(t=null==e?void 0:e.id)?void 0:t.includes("saved"))?(0,C.Z)("With a TIDAL subscription you can add Albums, artists, tracks and videos to My TIDAL to keep track of your favorite music."):(null==(r=null==e?void 0:e.id)?void 0:r.includes("playlists"))?(0,C.Z)("Once you have a TIDAL subscription you can add music to My TIDAL Playlists and keep the party going."):(0,C.Z)("Once you have a TIDAL subscription you can browse TIDAL content in Plex.")}function il({className:e,pivot:t}){const r=(0,Fn.Z)(),i=(0,n.useCallback)((()=>{r({action:yn.J9})}),[r]);return n.createElement(S.Z,{className:e,description:nl(t),icon:n.createElement(rl,null),title:(0,C.Z)("TIDAL + Plex = music to your ears!")},n.createElement(D.Z,{rel:"noopener noreferrer",target:"_blank",to:el.YC,onPress:i},(0,C.Z)("Learn More")))}var al=r(45318),ll=r(79932),ol=r(66088),sl=r(29414);const cl=function(e){return f.Z.stringifyParams(e,{encoder:(e,t,r,n)=>"value"===n&&"boolean"==typeof e?e?"1":"0":e})},dl=function(e,t){const{strippedKey:r,filterRules:n}=oe(e,t),i=n.reduce(((e,{filter:r,value:n})=>{var i;const{type:a}=t,l=null==(i=t.Field)?void 0:i.find((e=>e.key===r.filter||e.key===`${a}.${r.filter}`));return l&&(e[l.key]=n),e}),{});return f.Z.join(r,cl(i))};var ul=r(87691),ml=r(15768),pl=r(6103),yl=r(8030),hl=r(70182),vl=r(79849),fl=r(56510),bl=r(89460),El=r(58300),gl=r(80708),Pl=r(40691),Il=r(2424),Zl=r(64795),wl=r(45122);var Cl=Object.defineProperty,Dl=Object.prototype.hasOwnProperty,Sl=Object.getOwnPropertySymbols,Ol=Object.prototype.propertyIsEnumerable,Tl=(e,t,r)=>t in e?Cl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function Ml(e={}){return((e,t)=>{for(var r in t||(t={}))Dl.call(t,r)&&Tl(e,r,t[r]);if(Sl)for(var r of Sl(t))Ol.call(t,r)&&Tl(e,r,t[r]);return e})({isFileImport:!1,channelURL:"",fileURL:null},e)}class Nl extends n.Component{constructor(e,t){super(e,t),this.onModalClose=()=>{this.props.onClearError(),this.props.onModalClose()},this.onFileImportTogglePress=()=>{this.setState(Ml({isFileImport:!this.state.isFileImport}))},this.onFileChange=e=>{let t;if(e.target.files&&e.target.files.length&&(t=e.target.files[0]),t){const e=window.URL.createObjectURL(t);this.setState({fileURL:e})}},this.onURLChange=e=>{this.setState({channelURL:e})},this.onSubmit=e=>{e.preventDefault(),this.props.onSubmit({channelURL:this.state.channelURL,fileURL:this.state.fileURL})},this.state=Ml()}static getDerivedStateFromProps(e,t){return t.isOpen!==!e.isOpen?Ml({isOpen:e.isOpen}):null}componentDidUpdate(e,t){this.props.isUpdating||!e.isUpdating||this.props.hasError||this.props.onModalClose()}render(){const{isOpen:e,title:t,message:r,hasError:i,hasFileImportFeature:a,textInputLabel:l,fileInputButtonLabel:o,fileImportLabel:s,urlImportLabel:c,confirmLabel:d,confirmKind:u,isUpdating:m,isDirty:p,metricsPage:y,metricsProperties:h,onFormChange:v}=this.props;return n.createElement(Il.Z,{isOpen:e,metricsPage:y,metricsProperties:h,onModalClose:this.onModalClose},n.createElement("form",{className:"AddToCatalogModal-form-1SEV0M",onChange:v,onSubmit:this.onSubmit},n.createElement(Zl.Z,{onModalClose:this.onModalClose},n.createElement(bl.Z,null,t),i?n.createElement(Pl.Z,{errorMessage:(0,C.Z)("Something went wrong. Make sure the URL is correct and try again.")}):null,n.createElement(hl.Z,null,n.createElement("p",null,r),a?n.createElement("p",null,n.createElement(pl.Z,{kind:Fe._8,onPress:this.onFileImportTogglePress},this.state.isFileImport?c||(0,C.Z)("Import from a URL instead"):s||(0,C.Z)("Import from a file instead"))):null,n.createElement("div",{className:"AddToCatalogModal-inputContainer-3Kn6No"},this.state.isFileImport?n.createElement(gl.Z,{accept:".xml, .opml",buttonText:o||(0,C.Z)("Choose File"),name:"file",showFilename:!0,onChange:this.onFileChange}):n.createElement(yl.W,{"data-autofocus":!0,labelText:l,name:"channelURL",value:this.state.URLValue,onChange:this.onURLChange})),this.state.fileURL?n.createElement("p",{className:"AddToCatalogModal-fileNote-3UiX-C"},(0,C.Z)("NOTE: Podcasts will appear as they're processed. This may take some time to complete")):null),n.createElement(vl.Z,null,n.createElement(fl.Z,null,n.createElement(El.Z,{isDisabled:!p,isSpinning:m,kind:u,type:"submit"},d||(0,C.Z)("Continue")))))))}}Nl.defaultProps={confirmKind:Fe._8,hasFileImportFeature:!1};const kl=(0,wl.Z)(Nl,{isUpdatingPropName:"isUpdating",errorPropName:"error",clearDirtyOnChangePropName:"isOpen"}),Rl=(0,ul.Z)((function(){return(0,$.P1)((e=>e.ui.addToCatalogModal),(e=>({isUpdating:e.isUpdating,hasError:!!e.error})))}),(function(e,t){return{onClearError(){e((0,ml.RA)())},onSubmit(r){e((0,ml.c9)({providerEntityID:t.providerEntityID,data:r}))}}}))(kl),Al=function(e){const{providerEntityID:t,isOpen:r,onModalClose:i}=e;return n.createElement(Rl,{fileImportLabel:(0,C.Z)("Import podcasts from an OPML file instead"),fileInputButtonLabel:(0,C.Z)("Choose OPML File"),hasFileImportFeature:!0,isOpen:r,message:(0,C.Z)("Want to add a podcast we haven’t listed? If you know the URL for the podcast, you can enter it below."),providerEntityID:t,textInputLabel:(0,C.Z)("Podcast Feed"),title:(0,C.Z)("Add a Podcast"),urlImportLabel:(0,C.Z)("Import podcasts from a URL instead"),onModalClose:i})};function xl(e){const t=e["aria-label"],r=e.className,i=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-add-podcast-560"};a["aria-hidden"]=!t,a.style=i,a.className=ra.Z.plexIcon+(r?" "+r:"");const l=[n.createElement.apply(n,["path",{d:"M434,504 L378,504 L378,417.4558 C306.354,404.2735 252,341.435 252,266 L294,266 C294,327.815 344.186,378 406,378 C467.814,378 518,327.815 518,266 L560,266 C560,341.435 505.646,404.2735 434,417.4558 L434,504 Z M476,126 C476,87.366 444.634,56 406,56 C367.366,56 336,87.366 336,126 L336,266 C336,304.634 367.366,336 406,336 C444.634,336 476,304.634 476,266 L476,126 Z M134.4,100.8 L134.4,190.4 L224,190.4 L224,235.2 L134.4,235.2 L134.4,324.8 L89.6,324.8 L89.6,235.2 L0,235.2 L0,190.4 L89.6,190.4 L89.6,100.8 L134.4,100.8 Z"}].concat([]))];return t&&l.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",a].concat(l))}xl.propTypes={"aria-label":ta().string,className:ta().string,style:ta().object};const Ll=xl;var jl=r(84977),Fl=r(82832),Gl=r(19486),Hl=r(26984);const Ul="DirectoryListActions-tooltip-3PZjEb Tooltip-bottomCenter-XGNe9E Tooltip-tooltip-3mpwtQ Tooltip-tooltipArrow-2SOf0S Tooltip-tooltipTopArrow-3fp6qd Tooltip-tooltipCenterAlignArrow-1EoXo6",Vl="DirectoryListActions-menu-1PSfwm Menu-menu-3iOTrU";function Bl({className:e,activeType:t,selectedPivot:r,totalSize:i,listActions:a,directoryKey:l,advancedFilters:c}){var d,u;const m=(0,s.I0)(),[p,h,v]=(0,I.c9)(),{containerServer:f,containerProvider:b,containerKey:E,containerSourceURI:g}=(0,qe.U)(),{metricsPage:P,metricsContextTuple:Z}=(0,o.Zn)(),w=(0,Fn.Z)({identifier:h.metricsIdentifier,mode:"list",type:null==t?void 0:t.type,itemCount:i}),D=(0,xr.Z)(),S=(0,Lr.Z)(),O=(0,xr.Z)(),T=(0,Lr.Z)(),M=(0,Lr.Z)(),N=(0,Lr.Z)(),k=(0,Lr.Z)(),R=(0,y.Z)({serverIdentifier:p.machineIdentifier,providerIdentifier:h.identifier}),A=`${R}${E}`,x=t?Sn(t):void 0,L=t?(0,Dn.Z)(t.type):void 0,j=(0,n.useMemo)((()=>t?dl(l,t):l),[t,l]),F=(0,n.useCallback)((e=>{m(sl.rr({server:f,provider:b,containerKey:E,metricsPage:P,metricsProperties:{contextTuple:Z},legacyAction:e}))}),[m,f,b,E,P,Z]),G=(0,n.useCallback)((()=>{w({action:yn.NH}),F(ll.wA({options:{type:x}}))}),[w,x,F]),H=(0,n.useCallback)((()=>{F(ll.Em({options:{type:x}})),w({action:yn.cO})}),[w,x,F]),U=(0,n.useCallback)((()=>{w({action:yn.PR}),F(ll.tP({options:{playAll:!0,next:!1,type:x}})),S.onClose()}),[w,S,x,F]),V=(0,n.useCallback)((()=>{w({action:yn.pe}),F(ll.tP({options:{playAll:!0,next:!0,type:x}})),S.onClose()}),[w,S,x,F]),B=(0,n.useCallback)((()=>{w({action:yn.FH}),F(sl.$5()),S.onClose()}),[w,S,F]),K=(0,n.useCallback)((()=>{m($e.Z.actions.throttledRepopulateRequested({server:f,provider:b,sourceURI:g})),w({action:yn.DK,mode:"shortcut"})}),[b,f,g,m,w]),z=(0,n.useCallback)((()=>{w({action:yn.uf,mode:"shortcut"})}),[w]);return n.createElement(Kn.Z,{className:e},a.isPlayVisible?n.createElement(Bn.Z,{icon:Gl.Z,title:(0,C.Z)("Play"),tooltipAttachment:ol.eO,tooltipClassName:Ul,onPress:G}):null,a.isShuffleVisible?n.createElement(Bn.Z,{icon:Hl.Z,title:(0,C.Z)("Shuffle"),tooltipAttachment:ol.eO,tooltipClassName:Ul,onPress:H}):null,a.isAddToPlaylistVisible||a.isAddToCollectionVisible?n.createElement(Bn.Z,{icon:jl.Z,id:O,title:(0,C.Z)("Add to..."),tooltipAttachment:ol.eO,tooltipClassName:Ul,onPress:T.onToggle}):null,a.isAddToCatalogVisible?n.createElement(Bn.Z,{icon:Ll,title:(0,C.Z)("Add Podcast by URL"),tooltipAttachment:ol.eO,tooltipClassName:Ul,onPress:k.onToggle}):null,a.isAddToQueueVisible||a.isOptimizeVisible?n.createElement(Bn.Z,{icon:Fl.Z,id:D,title:(0,C.Z)("More"),tooltipAttachment:ol.eO,tooltipClassName:Ul,onPress:S.onToggle}):null,n.createElement(Ar.Z,{className:Vl,isOpen:S.isOpen,target:D,onMenuClose:S.onClose},a.isAddToQueueVisible?n.createElement(Un.Z,{onPress:V},(0,C.Z)("Play Next")):null,a.isAddToQueueVisible?n.createElement(Un.Z,{onPress:U},(0,C.Z)("Add to Queue")):null,a.isOptimizeVisible?n.createElement(Un.Z,{onPress:B},(0,C.Z)("Optimize...")):null),(a.isAddToPlaylistVisible||a.isAddToCollectionVisible)&&x&&L?n.createElement(Ar.Z,{className:Vl,isOpen:T.isOpen,target:O,onMenuClose:T.onClose},n.createElement(ja.Z,{advancedFiltersRoute:r&&!c?Ie({key:j,advancedFilters:1}):void 0,contentDirectoryID:null==v?void 0:v.id,mediaType:x,metadataType:L,provider:h,server:p,sourceURI:A,onAddToCollectionPress:a.isAddToCollectionVisible?M.onOpen:void 0,onAddToPlaylistPress:N.onOpen,onMenuClose:T.onClose,onSaveCollectionPress:K,onSavePlaylistPress:z})):null,a.isAddToPlaylistVisible&&x?n.createElement(Fa.Z,{defaultDestinationSource:R,defaultTitle:null!=(d=null==v?void 0:v.title)?d:(0,C.Z)("New Playlist"),isOpen:N.isOpen,mediaType:x,sourceURI:A,onModalClose:N.onClose,onSaveSuccess:z}):null,a.isAddToCollectionVisible&&L&&(null==v?void 0:v.id)?n.createElement(La.Z,{contentDirectoryID:v.id,defaultTitle:null!=(u=v.title)?u:(0,C.Z)("New Collection"),isOpen:M.isOpen,metadataType:L,sourceURI:A,onModalClose:M.onClose,onSaveSuccess:K}):null,a.isAddToCatalogVisible?n.createElement(Al,{isOpen:k.isOpen,providerEntityID:h.entityID,onModalClose:k.onClose}):null)}var Kl=r(68105),zl=r(90653),Wl=r(82378);const _l={disclosureArrowLink:"DisclosureArrowLink-disclosureArrowLink-3joxcC Link-link-1Kt-hA",isSelected:"DisclosureArrowLink-isSelected-2y312N",small:"DisclosureArrowLink-small-3gIQHu",medium:"DisclosureArrowLink-medium-2Bjjl7",large:"DisclosureArrowLink-large-2dFQv-",disclosureArrow:"DisclosureArrowLink-disclosureArrow-Ym60tN DisclosureArrow-disclosureArrow-2gjcXC",down:"DisclosureArrowLink-down-2yCbT8",left:"DisclosureArrowLink-left-1xbptX",up:"DisclosureArrowLink-up-3wADoB",right:"DisclosureArrowLink-right-aMBg7N"};var ql=Object.defineProperty,$l=Object.prototype.hasOwnProperty,Ql=Object.getOwnPropertySymbols,Yl=Object.prototype.propertyIsEnumerable,Xl=(e,t,r)=>t in e?ql(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function Jl(e){var t=e,{className:r=_l.disclosureArrowLink,arrowClassName:i=_l.disclosureArrow,direction:a=Mi.Z.Down,size:l=zn.Z.Large,kind:o,children:s}=t,c=((e,t)=>{var r={};for(var n in e)$l.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Ql)for(var n of Ql(e))t.indexOf(n)<0&&Yl.call(e,n)&&(r[n]=e[n]);return r})(t,["className","arrowClassName","direction","size","kind","children"]);return n.createElement(L.Z,((e,t)=>{for(var r in t||(t={}))$l.call(t,r)&&Xl(e,r,t[r]);if(Ql)for(var r of Ql(t))Yl.call(t,r)&&Xl(e,r,t[r]);return e})({"aria-haspopup":!0,className:vi()(r,_l[l]),kind:o,size:l},c),s,n.createElement(hn.Z,{className:vi()(i,_l[a],_l[l]),direction:a,kind:o,size:l}))}var eo=r(35771);function to({children:e,filter:t,isPending:r,isSelected:i,onFilterSelect:a}){const l=(0,n.useCallback)((()=>{a(t)}),[t,a]);return n.createElement(Un.Z,{className:i?"DisclosureFilterMenuItem-isSelected-_duMQd":void 0,onPress:l},n.createElement("span",{className:"DisclosureFilterMenuItem-menuItemContainer-2Ni_Be SelectedMenuItem-menuItemContainer-2sjh6G"},n.createElement("span",{className:"DisclosureFilterMenuItem-menuLabel-SEpqnK SelectedMenuItem-menuLabel-1VXIKp"},e),r?n.createElement(V.Z,{className:"DisclosureFilterMenuItem-spinner-3q5VbD Spinner-spinner-2t07PI spin-spin-34xiUE",size:zn.Z.Small}):null,!r&&i?n.createElement("span",{className:"DisclosureFilterMenuItem-selectedIcon-KN-bD0 SelectedMenuItem-selectedIcon-VTo2dZ"},n.createElement(eo.Z,{"aria-label":(0,C.Z)("Selected")})):null))}const ro=(0,$.P1)(de,(e=>e.filterOptions)),no=function(e,t,r){const n=[...e];for(let r=0;r<e.length;r++)e[r].filter.filterType===X.H_.Boolean==(t.filterType===X.H_.Boolean)&&n.splice(r,1);return ae(n,{filter:t,operator:Q.Equal,value:r})},io=function(e,t,r){return!!e.find((e=>e.filter.filter===t.filter&&(null==r||e.value===r)))},ao=function(e,t,r){return e.filter((e=>!(e.filter.filter===t.filter&&(null==r||e.value===r))))},lo=function(e,t){const r=t.reduce(((e,t)=>(e[t.filter.filter]=t.value,e)),{});return f.Z.join(e,cl(r))},oo="DirectoryListFilterMenu-selectedMenuItem-3t2Ns9 SelectedMenuItem-menuItemContainer-2sjh6G";function so({typeKey:e,directoryKey:t,pendingFilterKey:r,filters:i,activeFilterRules:a,advancedFiltersKey:l,isAdvancedFiltersVisible:o,onClose:s,onFilterSelect:c}){const[d,u]=function(e){return e.reduce(((e,t)=>(t.filterType===X.H_.Boolean?e[0].push(t):e[1].push(t),e)),[[],[]])}(i),m=we(s);return n.createElement(N.Z,{autoScroll:!0,className:"DirectoryListFilterMenu-menuScroller-2S6I17 Scroller-scroller-HAUFpl"},n.createElement(Wr.Z,{key:"all",isSelected:!a.length,to:Ie({key:e}),onPress:m},(0,C.Z)("All")),d.map((e=>{const r=io(a,e);return n.createElement(Wr.Z,{key:e.key,isSelected:r,to:Ie({key:lo(t,r?ao(a,e):no(a,e,!0))}),onPress:m},e.title)})),d.length?n.createElement(Kl.Z,null):null,u.map((e=>n.createElement(to,{key:e.key,filter:e,isPending:r===e.key,isSelected:io(a,e),onFilterSelect:c},e.title))),o?n.createElement(n.Fragment,null,n.createElement(Kl.Z,null),n.createElement(Wr.Z,{to:Ie({key:l,advancedFilters:1}),onPress:m},(0,C.Z)("Advanced Filters"))):null)}function co({directoryKey:e,selectedFilter:t,filterOptions:r,activeFilterRules:i,height:a,onFilterDeselect:l,onMenuClose:o}){const[s,c]=(0,n.useState)(""),d=r.find((e=>io(i,t,e.value))),u=we(o),m=(0,n.useCallback)((e=>{c(e.target.value)}),[]);return n.createElement("div",{className:"DirectoryListFilterMenu-filterOptionsContainer-1R62nw","data-testid":"secondFiltersList",style:{height:Math.max(a,356)}},n.createElement("div",{className:"DirectoryListFilterMenu-headerContainer-27Otn5"},n.createElement("div",{className:"DirectoryListFilterMenu-header-2Wgx0j","data-testid":"filterHeader"},n.createElement("div",{className:"DirectoryListFilterMenu-headerTitle-IRIKoy"},n.createElement(L.Z,{"data-testid":"previousFilters",onPress:l},n.createElement(K.ed9,{align:"baseline","aria-label":(0,C.Z)("Back")}),n.createElement("span",{className:"DirectoryListFilterMenu-filterText-Fn9Jsm"},t.title))),r.length>12?n.createElement(jn.Z,{className:"DirectoryListFilterMenu-searchInput-1-h1gu TextInput-input-3Pw62h input-input-3msd1_",name:"filterOptionQuery",placeholder:(0,C.Z)("Filter {filterTitle}",{filterTitle:t.title}),value:s,onChange:m}):null),n.createElement(Kl.Z,null)),r.length?n.createElement(N.Z,{autoScroll:!0,className:"DirectoryListFilterMenu-filterOptionsScroller-1gHIwI DirectoryListFilterMenu-menuScroller-2S6I17 Scroller-scroller-HAUFpl"},d?n.createElement(Wr.Z,{key:d.key,className:oo,isSelected:!0,to:Ie({key:lo(e,ao(i,t))}),onPress:u},d.title):null,r.map((r=>{if(r===d||!r.title.toLowerCase().includes(s.toLowerCase()))return null;const a=io(i,t,r.value);return n.createElement(Wr.Z,{key:r.key,className:oo,isSelected:a,to:Ie({key:lo(e,no(i,t,r.value))}),onPress:u},r.title)}))):n.createElement("div",{className:"DirectoryListFilterMenu-emptyText-2iD7Kx"},(0,C.Z)("No options")))}function uo({className:e,directoryKey:t,selectedPivot:r,type:i}){const[l,o]=(0,I.c9)(),c=(0,s.I0)(),[d,u]=(0,n.useState)(),[m,{height:p}]=(0,Ye.Z)(),y=(0,xr.Z)(),{isOpen:h,onToggle:v,onClose:f}=(0,Lr.Z)(),b=null==i?void 0:i.Filter,E=(0,n.useMemo)((()=>pe(t)),[t]),g=(0,s.v9)(E),Z=(0,s.v9)(ro),w=(0,n.useMemo)((()=>d?Z[d]:void 0),[d,Z]),D=(0,n.useMemo)((()=>null==b?void 0:b.find((e=>e.key===d))),[d,b]),S=(0,n.useMemo)((()=>({scrollDirection:zl.Hn})),[]),O=(0,n.useMemo)((()=>null==g?void 0:g.filterRules.find((({filter:e})=>e.filterType!==X.H_.Boolean))),[null==g?void 0:g.filterRules]),T=(0,n.useMemo)((()=>O?Z[O.filter.key]:void 0),[O,Z]),M=(0,n.useMemo)((()=>null==g?void 0:g.filterRules.map((e=>{var t;const r=O&&O.filter.filter===e.filter.filter?null==(t=Z[O.filter.key])?void 0:t.options.find((e=>e.value===(null==O?void 0:O.value))):void 0;return r&&r.field===(null==O?void 0:O.filter.filter)?r.title:e.filter.title})).join(", ")),[null==g?void 0:g.filterRules,Z,O]),N=!!(0,P.Z)(o,a.zW.QueryParser),k=(0,n.useMemo)((()=>i?dl(t,i):t),[i,t]),R=(0,n.useCallback)((e=>{c(Se.Z.actions.fetchFilterOptionsRequested({server:l,provider:o,filter:e}))}),[c,o,l]),A=(0,n.useCallback)((e=>{u(e.key),R(e)}),[R]),x=(0,n.useCallback)((()=>{u(void 0)}),[]),L=(0,n.useCallback)((()=>{f()}),[f]);if((0,n.useEffect)((()=>{!O||(null==T?void 0:T.isPopulated)||(null==T?void 0:T.isPending)||R(O.filter)}),[T,R,O]),!i||!b||!g)return null;const{strippedKey:j,filterRules:F}=g;return n.createElement(n.Fragment,null,n.createElement(Jl,{className:e,direction:h?Mi.Z.Up:Mi.Z.Down,id:y,onPress:v},M||(0,C.Z)("All")),n.createElement(Ar.Z,{isOpen:h,scrollerProps:S,size:Wl.ln,target:y,onMenuClose:L},n.createElement("div",{ref:m,className:"DirectoryListFilterMenu-measureContainer-3XSFWf"},(null==w?void 0:w.isPopulated)&&D?n.createElement(co,{activeFilterRules:F,directoryKey:j,filterOptions:w.options,height:p,selectedFilter:D,onFilterDeselect:x,onMenuClose:L}):n.createElement(so,{activeFilterRules:F,advancedFiltersKey:k,directoryKey:j,filters:b,isAdvancedFiltersVisible:N&&!!r,pendingFilterKey:(null==w?void 0:w.isPending)?d:void 0,typeKey:i.key,onClose:L,onFilterSelect:A}))))}var mo=r(26253),po=r(72373);function yo({className:e,directoryKey:t,sorts:r}){const i=(0,xr.Z)(),{isOpen:a,onToggle:l,onClose:o}=(0,Lr.Z)(),s=Ba(r),c=we(o);return!r||!s||r.length<2?null:n.createElement(n.Fragment,null,n.createElement(Jl,{className:e,direction:a?Mi.Z.Up:Mi.Z.Down,id:i,onPress:l},(0,C.Z)("By {sortTitle}",{sortTitle:s.title})),n.createElement(Ar.Z,{isOpen:a,target:i,onMenuClose:o},r.map((e=>n.createElement(Wr.Z,{key:e.key,iconComponent:e.activeDirection===X.Sr.Ascending?mo.Z:po.Z,isSelected:e.active,to:Ie({key:f.Z.join(t,{sort:zr(e)},{parseParams:!0})}),onPress:c},e.title)))))}var ho=r(48505);function vo({className:e,activeType:t,types:r,advancedFilters:i,directoryKey:a}){const l=(0,xr.Z)(),{isOpen:o,onToggle:s,onClose:c}=(0,Lr.Z)(),d=we(c);return!r||!t||r.length<2?null:n.createElement(n.Fragment,null,n.createElement(Jl,{className:e,direction:o?Mi.Z.Up:Mi.Z.Down,id:l,onPress:s},t.title),n.createElement(Ar.Z,{isOpen:o,target:l,onMenuClose:c},r.map((e=>{const r=(0,Dn.Z)(e.type);return n.createElement(Wr.Z,{key:e.key,isSelected:t===e&&e.active,to:e.type===g.U.Folder?Ie({key:e.key,advancedFilters:void 0}):Ie({key:i&&r?a.replace(/type=\w+/,`type=${(0,ho.Z)(r)}`):e.key}),onPress:d},e.title)}))))}var fo=r(63312);const bo=(0,$.P1)(me,(e=>e?Ba(e.Sort):void 0)),Eo=function({className:e="PageHeaderLeftGutter-container-26Yp3E",innerClassName:t="PageHeaderLeftGutter-innerContainer-3gR4Nm",children:r}){return n.createElement("div",{className:e},n.createElement("div",{className:t},r))};function go({advancedFilters:e}){const{containerKey:t}=(0,qe.U)(),r=(0,n.useMemo)((()=>pe(t)),[t]),i=(0,s.v9)(r),a=(0,s.v9)(me),l=(0,s.v9)(bo),o=we();return(null==i?void 0:i.filterRules.length)||e?n.createElement(Eo,{className:"DirectoryToolbarClearFiltersButton-gutter-2Ba_MX PageHeaderLeftGutter-container-26Yp3E"},n.createElement(fo.Z,{className:"DirectoryToolbarClearFiltersButton-resetButton-1SX3CW ToolbarButton-toolbarButton-2dJJTj",to:Ie({key:a?f.Z.join(a.key,l?{sort:l.activeDirection===X.Sr.Ascending?l.key:l.descKey}:{},{parseParams:!0}):"",advancedFilters:void 0}),tooltip:(0,C.Z)("Clear Filter"),onPress:o},n.createElement(K.RDm,null))):null}var Po=r(24754),Io=r(86118),Zo=r(12813);const wo="DirectoryListToolbar-disclosureArrowLink-1Xo2Ae DisclosureArrowLink-disclosureArrowLink-3joxcC Link-link-1Kt-hA";function Co({className:e="DirectoryListToolbar-pageHeader-2hQcMv PageHeader-pageHeader-277zuU",directoryKey:t,meta:r,activeType:i,selectedPivot:a,advancedFilters:l,totalSize:o}){var s,c,d,u,m,p;const[y,h]=(0,I.c9)(),{listStyle:v}=(0,qe.U)(),f=(0,n.useMemo)((()=>function({server:e,provider:t,activeType:r}){const n=r?Tn[r.type]:void 0;return n?n.reduce(((n,i)=>{const a=Rn[i];return n[i]=!!(e&&t&&r)&&a({server:e,provider:t,activeType:r}),n}),{}):{}}({server:y,provider:h,activeType:i})),[i,h,y]),b=(0,n.useMemo)((()=>(0,Y.su)(f).some((e=>e))),[f]),E=null!=(c=null==(s=null==r?void 0:r.Type)?void 0:s.length)?c:0,P=null!=(u=null==(d=null==i?void 0:i.Filter)?void 0:d.length)?u:0,Z=null!=(p=null==(m=null==i?void 0:i.Sort)?void 0:m.length)?p:0;return!r||E<=1&&P<1&&Z<=1?null:n.createElement(Po.Z,{className:e},n.createElement(Io.Z,null,n.createElement(go,{advancedFilters:l}),l?n.createElement("span",{className:"DirectoryListToolbar-infoText-KwUhw6"},(0,C.Z)("Advanced Filters")):n.createElement(uo,{className:wo,directoryKey:t,selectedPivot:a,type:i}),n.createElement(vo,{activeType:i,advancedFilters:l,className:wo,directoryKey:t,types:null==r?void 0:r.Type}),v!==g.n.Table?n.createElement(yo,{className:wo,directoryKey:t,sorts:null==i?void 0:i.Sort}):null,null!=o?n.createElement(al.Z,null,o):null),b?n.createElement(Zo.Z,null,n.createElement(Bl,{activeType:i,advancedFilters:l,directoryKey:t,listActions:f,selectedPivot:a,totalSize:o})):null)}const Do=(0,Vr.Z)("savedDirectoryListKeys");var So=r(70617);const Oo=(0,So.Z)((function(e,t,r){return(0,$.P1)(Do,(n=>{const i=r?(0,y.Z)({serverIdentifier:e,providerIdentifier:t,key:r}):void 0;return i?n[i]:void 0}))}));var To=Object.defineProperty,Mo=Object.prototype.hasOwnProperty,No=Object.getOwnPropertySymbols,ko=Object.prototype.propertyIsEnumerable,Ro=(e,t,r)=>t in e?To(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ao=(e,t)=>{for(var r in t||(t={}))Mo.call(t,r)&&Ro(e,r,t[r]);if(No)for(var r of No(t))ko.call(t,r)&&Ro(e,r,t[r]);return e};var xo=r(60316);const Lo=function(e){return(0,$.P1)(ue,(t=>{const r=t?(0,se.Z)(t):void 0;if(!r||!e)return[g.n.Grid];if(function(e){const{providerIdentifier:t}=(0,xo.Z)(e);return z.wB(t,[z.Ll,z.vP])}(e))return[g.n.Grid];if(r.type===g.U.Folder)return[g.n.Folder];switch(r.subtype){case Gt.y_.Webshow:switch(r.type){case g.U.Show:case g.U.Episode:return[g.n.Grid]}break;case Gt.y_.Podcast:switch(r.type){case g.U.Show:case g.U.Track:return[g.n.Grid]}}switch(r.type){case g.U.Movie:case g.U.Show:case g.U.Album:case g.U.Episode:return[g.n.Grid,g.n.Details,g.n.Table];case g.U.Artist:case g.U.Season:return[g.n.Grid,g.n.Table];case g.U.Track:return[r.Sort?g.n.Table:g.n.Grid];default:return[g.n.Grid]}}))},jo=function(e){return(0,$.P1)((0,Vr.Z)("directoryListStyles"),Lo(e),((t,r)=>{if(!e||!r.length)return;const n=t[e];return n&&r.includes(n)?n:r[0]}))},Fo=(0,So.Z)((function(e){return(0,$.P1)(bo,pe(e),((e,t)=>t&&(null==e?void 0:e.firstCharacterKey)?f.Z.join(lo(e.firstCharacterKey,t.filterRules),{sort:e.activeDirection===X.Sr.Ascending?e.key:e.descKey,includeCollections:1,includeExternalMedia:1},{parseParams:!0}):void 0))}));var Go=Object.defineProperty,Ho=Object.prototype.hasOwnProperty,Uo=Object.getOwnPropertySymbols,Vo=Object.prototype.propertyIsEnumerable,Bo=(e,t,r)=>t in e?Go(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ko=(e,t)=>{for(var r in t||(t={}))Ho.call(t,r)&&Bo(e,r,t[r]);if(Uo)for(var r of Uo(t))Vo.call(t,r)&&Bo(e,r,t[r]);return e};function zo({directorySourceURI:e,directoryKey:t,selectedPivot:r,listStyle:i}){var l,o,c;const d=(0,s.I0)(),[u,m]=(0,I.c9)(),p=Z(),h=We.Z.parseBoolean(p.advancedFilters),[b,{height:E}]=(0,Ye.Z)(),{meta:P,metadataListSourceURI:w,directorySourceURI:C,firstCharacters:D}=(0,s.v9)(de),S=P?(0,se.Z)(P):void 0,T=null!=(l=null==S?void 0:S.type)?l:g.U.Mixed,M=null==S?void 0:S.subtype,N=function({machineIdentifier:e,providerIdentifier:t,directoryKey:r,selectedPivot:n}){const i=(0,s.v9)(Oo(e,t,null==n?void 0:n.key));return r||(null!=i?i:null==n?void 0:n.key)}({machineIdentifier:u.machineIdentifier,providerIdentifier:null!=(o=m.providerIdentifier)?o:m.identifier,directoryKey:t,selectedPivot:r}),k=(0,n.useMemo)((()=>N?f.Z.join(N,{includeCollections:1,includeExternalMedia:1}):void 0),[N]),R=(0,n.useMemo)((()=>(0,y.Z)({serverIdentifier:u.machineIdentifier,providerIdentifier:m.providerIdentifier,key:k})),[k,m.providerIdentifier,u.machineIdentifier]),A=(0,n.useMemo)((()=>(0,Qe.Z)(R)),[R]),x=(0,s.v9)(A),L=(0,s.v9)(Fo(k)),[j,G]=(0,n.useState)(),B=(0,n.useMemo)((()=>jo(C)),[C]),K=(0,s.v9)(B),z=null!=i?i:K,W=(0,s.v9)(Re.Z),_=null!=L&&!(null==D?void 0:D.isPopulated)&&!(null==D?void 0:D.error)||!(null==x?void 0:x.isPopulated)&&!(null==x?void 0:x.error),q=(0,Xe.Z)(_,!0,250),$=(0,n.useCallback)((e=>{w&&d($e.Z.actions.fetchRangeRequested(Ko(Ko({},e),{server:u,provider:m,sourceURI:w})))}),[d,u,m,w]),Q=(0,n.useCallback)((()=>{w&&d($e.Z.actions.repopulateRangeRequested({server:u,provider:m,sourceURI:w}))}),[d,w,m,u]),Y=(0,n.useCallback)((e=>{G(e)}),[]);if((0,F.Z)({},!!(null==x?void 0:x.isPopulated)),Me(Q),function({machineIdentifier:e,providerIdentifier:t,directoryKey:r,meta:i,activeType:l,selectedPivot:o,metadataList:c,advancedFilters:d}){const u=(0,s.I0)(),m=(0,s.v9)(Do),p=(0,s.v9)(Oo(e,t,null==o?void 0:o.key)),h=(null==o?void 0:o.key)?(0,y.Z)({serverIdentifier:e,providerIdentifier:t,key:null==o?void 0:o.key}):void 0;(0,n.useEffect)((()=>{!(h&&r&&o&&o.type===a.F6.List&&p!==r)||o.key===r&&null==p||!(null==c?void 0:c.isPopulated)||(null==i?void 0:i.Pivot)||(null==l?void 0:l.type)===g.U.Folder&&(null==l?void 0:l.key)!==r||d||u((0,Rr.LN)({savedDirectoryListKeys:Ao(Ao({},m),{[h]:r})}))}),[null==c?void 0:c.isPopulated,r,u,h,p,m,o,null==i?void 0:i.Pivot,null==l?void 0:l.type,null==l?void 0:l.key,d])}({machineIdentifier:u.machineIdentifier,providerIdentifier:null!=(c=m.providerIdentifier)?c:m.identifier,directoryKey:N,meta:P,activeType:S,selectedPivot:r,metadataList:x,advancedFilters:h}),(0,n.useEffect)((()=>{(0,v.c9)((()=>{d(Se.Z.actions.resetMeta())}))}),[d,e]),(0,n.useEffect)((()=>(k&&(0,v.c9)((()=>{d(Se.Z.actions.initializeListRequested({server:u,provider:m,sourceURI:R,metadataListSourceURI:w,directorySourceURI:e}))})),()=>{(0,v.c9)((()=>{w&&d($e.Z.actions.reset({sourceURI:w}))}))})),[d,k,w,e,R]),(0,n.useEffect)((()=>{L&&null!=(null==x?void 0:x.totalSize)&&d(Se.Z.actions.fetchFirstCharactersRequested({server:u,provider:m,key:L}))}),[d,u,m,L,null==x?void 0:x.totalSize]),(0,n.useEffect)((()=>{null!=j&&G(void 0)}),[j]),!N)return n.createElement(O,null);if(null==x?void 0:x.error){const{status:e}=x.error;return 404===e?n.createElement(O,null):406===e?n.createElement(il,{pivot:r}):n.createElement(U.Z,null)}return C!==e?n.createElement(H.Z,null,n.createElement(V.Z,null)):n.createElement(qe.ZP,{containerKey:k,containerMeta:P,containerProvider:m,containerServer:u,containerSourceURI:R,containerSubtype:M,containerType:T,listStyle:z},W?n.createElement(ke.Z,null):n.createElement(Co,{activeType:S,advancedFilters:h,directoryKey:N,meta:P,selectedPivot:r,totalSize:null==x?void 0:x.totalSize}),n.createElement(Ve,{providerEntityID:m.entityID,serverEntityID:u.entityID}),h&&P?n.createElement(Va,{directoryKey:N,meta:P,totalSize:null==x?void 0:x.totalSize}):null,null==(null==x?void 0:x.totalSize)||q?n.createElement(H.Z,null,n.createElement(V.Z,null)):n.createElement("div",{ref:b,className:"DirectoryListPageContent-listContainer-2Dlm9w"},E?n.createElement(n.Fragment,null,0===x.totalSize?n.createElement(De,{directoryKey:N,selectedPivot:r}):n.createElement(pn,{activeType:S,className:"DirectoryListPageContent-pageContentScroller-Ibzoyk PageContent-pageContentScroller-2dar0i Scroller-scroller-HAUFpl",items:x.items,listType:T,scrollerKey:"DirectoryListPage",smoothScroll:!(0,_e.G6)(),subtype:M,targetScrollIndex:j,totalSize:x.totalSize,onPageRequest:$})):null,S&&E&&null!=x.totalSize?n.createElement(Ja,{activeType:S,listTotalSize:x.totalSize,viewportHeight:E,onFirstCharacterScroll:Y}):null))}var Wo=r(21508);function _o(e){const t=e["aria-label"],r=e.className,i=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 361.506",id:"plex-icon-devices"};a["aria-hidden"]=!t,a.style=i,a.className=ra.Z.plexIcon+(r?" "+r:"");const l=[n.createElement.apply(n,["g",{stroke:"#e5a00d",strokeWidth:"2.95"}].concat([n.createElement.apply(n,["path",{d:"M429.683 360.028h-128.55c-3.944 0-7.606-1.77-10.045-4.86a12.609 12.609 0 01-2.384-10.87l12.32-50.859h128.774l12.322 50.86c.929 3.818.059 7.783-2.384 10.87a12.729 12.729 0 01-10.053 4.859zm-121.35-57.343l-10.607 43.78c-.345 1.436.263 2.484.655 2.988a3.448 3.448 0 002.753 1.328h128.55c1.483 0 2.366-.83 2.758-1.337.392-.495 1-1.543.655-2.98l-10.607-43.779z"}].concat([])),n.createElement.apply(n,["path",{d:"M304.68 302.685h-38.937c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h38.937c2.564 0 4.641 2.068 4.641 4.623s-2.077 4.623-4.64 4.623zM541.294 302.685H426.146c-2.567 0-4.644-2.065-4.644-4.62s2.077-4.625 4.644-4.625h115.148c4.384 0 7.949-3.548 7.949-7.918v-26.599H265.929c-2.566 0-4.642-2.067-4.642-4.622 0-2.556 2.076-4.623 4.642-4.623h292.596v35.844c0 9.462-7.728 17.163-17.231 17.163z"}].concat([])),n.createElement.apply(n,["path",{d:"M553.884 258.922a4.628 4.628 0 01-4.641-4.622V18.63c0-4.361-3.565-7.91-7.949-7.91H189.53c-4.384 0-7.947 3.549-7.947 7.91v58.967c0 2.555-2.076 4.623-4.642 4.623-2.566 0-4.642-2.068-4.642-4.623V18.63c0-9.462 7.729-17.155 17.23-17.155h351.765c9.503 0 17.23 7.693 17.23 17.155V254.3a4.628 4.628 0 01-4.64 4.622zM100.935 360.028H18.04c-9.135 0-16.565-7.403-16.565-16.496v-154.33c0-9.092 7.43-16.495 16.565-16.495h82.895c9.135 0 16.565 7.403 16.565 16.495v154.33c0 9.093-7.43 16.496-16.565 16.496zM18.04 181.952c-4.017 0-7.28 3.25-7.28 7.25v154.33c0 4 3.263 7.249 7.28 7.249h82.895c4.017 0 7.281-3.249 7.281-7.25V189.203c0-4-3.264-7.25-7.28-7.25z"}].concat([])),n.createElement.apply(n,["path",{d:"M112.088 206.735H7.777c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h104.311c2.566 0 4.642 2.068 4.642 4.623s-2.076 4.623-4.642 4.623zM112.088 323.353H7.777c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.624 4.642-4.624h104.311c2.566 0 4.642 2.069 4.642 4.624 0 2.555-2.076 4.623-4.642 4.623zM67.384 194.348H55.462c-2.566 0-4.642-2.067-4.642-4.623 0-2.555 2.076-4.622 4.642-4.622h11.922c2.566 0 4.642 2.067 4.642 4.622 0 2.556-2.076 4.623-4.642 4.623zM59.488 349.359c-6.56 0-11.9-5.32-11.9-11.855 0-6.53 5.34-11.846 11.9-11.846 6.56 0 11.9 5.316 11.9 11.846 0 6.535-5.34 11.855-11.9 11.855zm0-14.458a2.611 2.611 0 00-2.616 2.603 2.618 2.618 0 002.616 2.608 2.618 2.618 0 002.616-2.608 2.611 2.611 0 00-2.616-2.603z"}].concat([])),n.createElement.apply(n,["path",{d:"M226.172 360.03h-91.097c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h91.097c6.85 0 12.42-5.553 12.42-12.369V117.552c0-6.817-5.57-12.37-12.42-12.37H107.536c-6.846 0-12.417 5.553-12.417 12.37v40.277c0 2.555-2.076 4.623-4.642 4.623-2.566 0-4.642-2.068-4.642-4.623v-40.277c0-11.918 9.733-21.615 21.7-21.615h118.637c11.967 0 21.705 9.697 21.705 21.615v220.863c0 11.917-9.738 21.616-21.705 21.616z"}].concat([])),n.createElement.apply(n,["path",{d:"M242.129 136.557H92.848c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h149.28c2.567 0 4.643 2.068 4.643 4.623s-2.076 4.623-4.642 4.623zM242.129 315.593h-106.46c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h106.46c2.566 0 4.642 2.068 4.642 4.623s-2.076 4.623-4.642 4.623zM178.151 122.94h-17.059c-2.566 0-4.642-2.067-4.642-4.622 0-2.555 2.076-4.623 4.642-4.623h17.06c2.565 0 4.641 2.068 4.641 4.623s-2.076 4.623-4.642 4.623zM166.854 348.158c-8.287 0-15.028-6.715-15.028-14.968 0-8.252 6.741-14.97 15.028-14.97s15.028 6.718 15.028 14.97c0 8.253-6.741 14.968-15.028 14.968zm0-20.695c-3.169 0-5.744 2.567-5.744 5.727s2.575 5.724 5.744 5.724c3.169 0 5.744-2.564 5.744-5.724s-2.575-5.727-5.744-5.727zM380.652 30.415h-30.481a4.628 4.628 0 01-4.641-4.623 4.628 4.628 0 014.64-4.623h30.482a4.628 4.628 0 014.641 4.623 4.628 4.628 0 01-4.64 4.623z"}].concat([]))]))];return t&&l.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",a].concat(l))}_o.propTypes={"aria-label":ta().string,className:ta().string,style:ta().object};const qo=_o;var $o=r(54183);function Qo(e){const t=e["aria-label"],r=e.className,i=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-parental-controls"};a["aria-hidden"]=!t,a.style=i,a.className=ra.Z.plexIcon+(r?" "+r:"");const l=[n.createElement.apply(n,["g",void 0].concat([n.createElement.apply(n,["path",{d:"M548.3 559.273H361.152c-6.456 0-11.696-5.22-11.696-11.657V407.73c0-6.435 5.24-11.657 11.696-11.657H548.3c6.457 0 11.7 5.222 11.7 11.657v139.885c0 6.437-5.243 11.657-11.7 11.657zm-175.451-23.315h163.756v-116.57H372.849z"}].concat([])),n.createElement.apply(n,["path",{d:"M454.726 512.644c-6.457 0-11.697-5.22-11.697-11.657v-34.97c0-6.435 5.24-11.657 11.697-11.657 6.457 0 11.697 5.222 11.697 11.657v34.97c0 6.438-5.24 11.657-11.697 11.657z"}].concat([])),n.createElement.apply(n,["path",{d:"M454.727 489.33c12.92 0 23.392-10.44 23.392-23.314 0-12.876-10.472-23.314-23.392-23.314s-23.394 10.438-23.394 23.314c0 12.875 10.474 23.314 23.394 23.314zM524.905 419.388c-6.457 0-11.695-5.223-11.695-11.658v-23.314c0-32.127-26.222-58.286-58.484-58.286-32.26 0-58.484 26.159-58.484 58.286v23.314c0 6.435-5.24 11.658-11.697 11.658-6.457 0-11.697-5.223-11.697-11.658v-23.314c0-44.997 36.728-81.6 81.878-81.6 45.152 0 81.879 36.603 81.879 81.6v23.314c0 6.435-5.244 11.658-11.7 11.658zM11.7 559.772c-.936 0-1.872-.114-2.831-.347-6.293-1.565-10.083-7.884-8.516-14.131l14.06-56.002c6.854-27.23 26.856-48.773 53.548-57.632l103.821-34.482c24.4-10.165 35.816-50.429 38.272-65.7-17.919-16.367-34.599-40.987-34.599-63.135 0-8.253-2.456-11.657-3.743-12.287-3.65-.91-5.708-3.217-7.112-6.691-1.286-3.194-12.539-31.778-12.539-50.965 0-.956.117-1.912.352-2.821 1.286-5.106 4.865-12.59 11.345-16.973v-61.807C163.758 68.12 208.253.228 280.727.228c71.584 0 91.048 36.58 93.317 54.672 12.141 8.93 23.65 24.34 23.65 61.9v61.806c6.48 4.383 10.084 11.844 11.347 16.973.234.932.35 1.865.35 2.82 0 19.188-11.228 47.772-12.538 50.966-1.404 3.474-4.375 6.085-8.024 6.97-.351.35-2.83 3.755-2.83 12.008 0 21.1-8.353 32.034-13.358 38.562l-1.755 2.401c-3.603 5.362-10.878 6.761-16.212 3.218-5.38-3.59-6.83-10.818-3.252-16.18.749-1.096 1.638-2.285 2.62-3.591 4.024-5.246 8.562-11.19 8.562-24.41 0-17.416 7.23-27.091 14.083-31.638 3.369-9.139 8.726-25.715 9.264-36.533-.421-.933-.959-1.866-1.333-2.192-6.457 0-10.317-4.78-10.317-11.214v-69.967c0-34.318-11.065-41.313-15.79-44.297-2.831-1.795-7.603-4.803-8.282-11.214-.163-1.376.048-2.961.491-4.546-1.637-9.233-15.673-33.2-69.993-33.2-57.104 0-93.575 55.232-93.575 93.257v69.944c0 6.434-5.24 11.657-11.697 11.657.562 0 .35.792.048 1.678.515 10.842 5.918 27.488 9.264 36.604 6.854 4.57 14.083 14.222 14.083 31.638 0 15.69 15.51 36.673 30.833 49.31a11.633 11.633 0 014.257 8.975c0 14.805-13.498 75.539-53.992 92.349L75.33 453.739c-19.065 6.318-33.383 21.729-38.249 41.172l-14.06 56.002c-1.286 5.339-6.058 8.86-11.322 8.86z"}].concat([]))]))];return t&&l.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",a].concat(l))}Qo.propTypes={"aria-label":ta().string,className:ta().string,style:ta().object};const Yo=Qo,Xo="PlexAccountUpsellPageContent-panel-EncPgd",Jo="PlexAccountUpsellPageContent-panelIcon-2r82rE",es="PlexAccountUpsellPageContent-panelTitle-7HFN8f",ts="PlexAccountUpsellPageContent-panelDescription-335Imv";function rs(){return n.createElement(H.Z,{description:(0,C.Z)("Some benefits to a Plex account:"),title:(0,C.Z)("Sign up for a free account to continue")},n.createElement("div",{className:"PlexAccountUpsellPageContent-container-9aXYLs"},n.createElement("div",{className:Xo},n.createElement(qo,{className:Jo}),n.createElement("div",{className:es},(0,C.Z)("One App, Any Device")),n.createElement("div",{className:ts},(0,C.Z)("Pick up whatever you were watching exactly where you left off on any device"))),n.createElement("div",{className:Xo},n.createElement($o.Z,{className:Jo}),n.createElement("div",{className:es},(0,C.Z)("Save Your Favorites")),n.createElement("div",{className:ts},(0,C.Z)("Save your favorite Podcasts and Web Shows. Add a TIDAL subscription to save your favorite music and playlists"))),n.createElement("div",{className:Xo},n.createElement(Yo,{className:Jo}),n.createElement("div",{className:es},(0,C.Z)("Parental Controls")),n.createElement("div",{className:ts},(0,C.Z)("Enable parental controls to keep things kid-friendly, or create separate accounts for your childish roommates")))),n.createElement(Wo.Z,null,n.createElement(D.Z,{kind:B.Z.Primary,size:zn.Z.Large,to:"#!/signUp"},(0,C.Z)("Sign Up"))))}var ns=r(26091),is=r(42102),as=r(93474);const ls={button:"PivotTab-button-OeEtvt Button-button-16qRwa Link-link-1Kt-hA",selectedButton:"PivotTab-selectedButton-3p13j3 PivotTab-button-OeEtvt Button-button-16qRwa Link-link-1Kt-hA"};var os=Object.defineProperty,ss=Object.prototype.hasOwnProperty,cs=Object.getOwnPropertySymbols,ds=Object.prototype.propertyIsEnumerable,us=(e,t,r)=>t in e?os(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function ms(e){var t=e,{className:r=ls.button,selectedClassName:i=ls.selectedButton,isSelected:a,children:l}=t,o=((e,t)=>{var r={};for(var n in e)ss.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&cs)for(var n of cs(e))t.indexOf(n)<0&&ds.call(e,n)&&(r[n]=e[n]);return r})(t,["className","selectedClassName","isSelected","children"]);return n.createElement(D.Z,((e,t)=>{for(var r in t||(t={}))ss.call(t,r)&&us(e,r,t[r]);if(cs)for(var r of cs(t))ds.call(t,r)&&us(e,r,t[r]);return e})({className:a?i:r,size:zn.Z.Large},o),l)}var ps=r(21914),ys=r(64780);const hs={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[parseInt(rt.Z.pageHeaderTabButtonLeftRightMargin,10)]}}]};function vs({pivots:e,selectedPivot:t,onPivotPress:r}){var i;const[a,l,o]=(0,I.c9)(),s=(0,xr.Z)(),c=(0,Lr.Z)();return n.createElement("div",{className:"PivotTabDropdown-container-13QMH2","data-testid":"tabDropDown",id:s},n.createElement(ms,{className:"PivotTabDropdown-button-18whk6 PageHeaderTabButton-button-2_0YGs Button-button-2eWELt Link-link-3cHWtJ",isSelected:!!t,onPress:c.onToggle},n.createElement("div",{className:"PivotTabDropdown-buttonContents-2Qd0sC"},n.createElement("div",{className:"PivotTabDropdown-title-3iDu8S"},null!=(i=null==t?void 0:t.title)?i:e[0].title),n.createElement(hn.Z,{className:vi()("PivotTabDropdown-disclosureArrow-YWqUim DisclosureArrow-disclosureArrow-2gjcXC",!!t&&"PivotTabDropdown-isSelected-3UhsEE"),direction:c.isOpen?ps.UP:ps.WV}))),n.createElement(Ar.Z,{isOpen:c.isOpen,options:hs,target:s,onMenuClose:c.onClose},e.map(((e,i)=>{const s=(0,ys.Z)(a,l,o,e);return s?n.createElement(Wr.Z,{key:i,isSelected:e===t,to:s,value:e.key,onPress:(0,Vn.Z)(r,c.onClose)},e.title):null}))))}var fs=r(67586);function bs({pivots:e,selectedPivot:t}){const[r,i,a]=(0,I.c9)(),[l,{width:o}]=(0,Ye.Z)(),[s,{width:c}]=(0,Ye.Z)(),[d,u]=(0,n.useState)(c),m=c||d,p=(0,n.useMemo)((()=>e.filter((e=>!(0,fs.Z)(e)))),[e]),y=p.length<2,h=p.length>1&&m>o,v=(0,Fn.Z)({identifier:i.metricsIdentifier,origin:as.zQ}),f=we((0,n.useCallback)((()=>{v({action:yn.oG})}),[v]));return(0,n.useEffect)((()=>{c&&u(c)}),[c]),y?null:n.createElement("div",{ref:l,className:"PivotTabsPageHeaderCenter-pageHeaderCenter-1KUcqB PageHeaderCenter-pageHeaderCenter-jzV214"},h?n.createElement(vs,{pivots:p,selectedPivot:t,onPivotPress:f}):n.createElement("div",{ref:s},p.map(((e,l)=>{const o=(0,ys.Z)(r,i,a,e);return o?n.createElement(ms,{key:l,isSelected:e===t,to:o,onPress:f},e.title):null}))))}const Es=(0,$.P1)(de,(e=>e.title));var gs=r(83427);var Ps=Object.defineProperty,Is=Object.prototype.hasOwnProperty,Zs=Object.getOwnPropertySymbols,ws=Object.prototype.propertyIsEnumerable,Cs=(e,t,r)=>t in e?Ps(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ds=(e,t)=>{for(var r in t||(t={}))Is.call(t,r)&&Cs(e,r,t[r]);if(Zs)for(var r of Zs(t))ws.call(t,r)&&Cs(e,r,t[r]);return e};function Ss({sourceURI:e,selectedPivot:t}){var r,i;const l=(0,s.I0)(),[,,o]=(0,I.c9)(),c=(0,s.v9)(ue),d=null!=(r=null==c?void 0:c.Pivot)?r:null==o?void 0:o.pivots,u=(0,s.v9)(Es),m=(0,s.v9)((0,Vr.Z)("directoryListStyles")),p=(0,n.useMemo)((()=>jo(e)),[e]),y=(0,s.v9)(p),h=(0,n.useMemo)((()=>Lo(e)),[e]),f=(0,s.v9)(h),b=(0,n.useCallback)((t=>{if(!e)return;const r=Ds(Ds({},m),{[e]:t});(0,v.c9)((()=>{l((0,Rr.LN)({directoryListStyles:r}))}))}),[l,m,e]);return n.createElement(gs.Z,{className:"DirectoryPageHeader-pageHeader-1BrjVv PrimaryPageHeader-pageHeader-ADN5t_ PageHeader-pageHeader-277zuU"},n.createElement(Io.Z,null,n.createElement(is.Z,{overrideTitle:u})),d&&t?n.createElement(bs,{pivots:d,selectedPivot:t}):null,n.createElement(Zo.Z,null,n.createElement(ns.Z,{listStyles:f,selectedListStyle:(null==t?void 0:t.key)===(null==(i=a.GG)?void 0:i.SharedItems)?void 0:y,onListStyleSelect:b})))}var Os=r(44823),Ts=r(52372);const Ms=(0,Vr.Z)("lastSourcePivots"),Ns=(0,Vr.Z)("shouldSaveLastSourcePivots"),ks=(0,So.Z)((function(e,t,r){return(0,$.P1)(Ms,Ns,((n,i)=>{if(i)return n[(0,Os.Z)(e,t,r)]}))})),Rs=function(e=[],t){return e.find((e=>e.id?e.id===t||e.key===t:!!e.key&&e.key===t))};var As=Object.defineProperty,xs=Object.prototype.hasOwnProperty,Ls=Object.getOwnPropertySymbols,js=Object.prototype.propertyIsEnumerable,Fs=(e,t,r)=>t in e?As(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Gs=(e,t)=>{for(var r in t||(t={}))xs.call(t,r)&&Fs(e,r,t[r]);if(Ls)for(var r of Ls(t))js.call(t,r)&&Fs(e,r,t[r]);return e};var Hs=r(11736),Us=r(47486),Vs=r(72021),Bs=r(27929),Ks=r(66247),zs=r(27726),Ws=r(69908),_s=r(95815),qs=r(80967),$s=r(81324),Qs=r(70821),Ys=r(75696),Xs=r(92885);const Js="ChannelsGridPageContent-measureContainer-1q4fVC",ec="ChannelsGridPageContent-gridContent-2GTCHF ChannelsGrid-gridContainer-1GRWQh";var tc=r(55255),rc=r(13469),nc=r.n(rc),ic=r(11133),ac=r(20361);function lc(e){const{getCellHeights:t,overscan:r=0,outerPaddingTop:n=0,outerPaddingRight:i=0,outerPaddingBottom:a=0,outerPaddingLeft:l=0}=e;let o,s,c,d,u,m,p,y,h;function v(e){const t=nc().findIndex(u,(t=>t>e)),r=u.length-1;return-1===t?r:Math.min(Math.max(0,t-1),r)}return{getListStyle:function(e){const r=`${e.viewportHeight}:${e.viewportWidth}`;if(r===m)return p;o=e.viewportHeight,s=e.viewportWidth-(l+i),c=t(s),u=[];let y=n;return c.forEach((e=>{u.push(y),y+=e})),d=c.reduce(((e,t)=>e+t),n+a),m=r,p={height:d,width:s},p},getLandmarks:function(){(0,ic.Z)(void 0!==o,"`getListStyle` must be called before `getLandmarks`");const e=`${o}:${d}`;return e===y||(y=e,h=u.map(((e,t)=>({index:t,position:e/d})))),h},getPositionForIndex:function(e){return(0,ic.Z)(void 0!==o,"`getListStyle` must be called before `getPositionForIndex`"),{cellX:l,cellY:u[e],cellWidth:s,cellHeight:c[e]}},getRelativeIndex:function(){(0,ic.Z)(!1,"Stacked layouts do not support relative indexing")},getRangesForPosition:function(e,t,n){(0,ic.Z)(void 0!==o,"`getListStyle` must be called before `getPositionForIndex`");const i=e+o-1,a=v(e-r*o),l=v(e),s=v(i),c=v(i+r*o);return{visibleStartIndex:(0,ac.Z)(l,n),visibleEndIndex:(0,ac.Z)(s,n),partiallyVisibleStartIndex:(0,ac.Z)(l,n),partiallyVisibleEndIndex:(0,ac.Z)(s,n),renderStartIndex:(0,ac.Z)(a,n),renderEndIndex:(0,ac.Z)(c,n)}}}}var oc=r(96443);const sc="ChannelsGrid-gridContainer-1GRWQh",cc="ChannelsGrid-gridRowCell-22ob33 ChannelsGrid-gridContainer-1GRWQh",dc="ChannelsGrid-gridRow-WGWRTF ChannelsGridRow-container-1GpikV",uc="ChannelsGrid-gridContent-2pMjZT",mc="ChannelsGrid-gridInnerContent-3jrFpi VirtualListScroller-scroller-1a3KwJ",pc="ChannelsGrid-timeline-2GX11n ChannelsGridTimeline-container-1M5T9M",yc="ChannelsGrid-innerEmptyPage-3gWJ85 InnerEmptyPage-innerEmptyPage-1_dJY8 EmptyPage-emptyPage-1x0rNX";var hc=r(64706),vc=r(11956),fc=r(62813),bc=r(31212);const Ec="ChannelsGridRow-title-3KeQ91 ChannelsGridRowTitle-container-1DnP0p",gc="ChannelsGridRow-programsContainer-31OUMU",Pc="ChannelsGridRow-program-3it3bC ChannelsGridMetadataItemCell-container-3iqjsS",Ic="ChannelsGridRow-progress-39EAhb";var Zc=r(27028),wc=r(9220),Cc=r(84699),Dc=r(5148),Sc=r(80126),Oc=r(39776),Tc=r(9903),Mc=r(26229),Nc=r(98582),kc=r(84807);const Rc=function(e){const{beginsAt:t,endsAt:r,timeFormat:i,channelTitle:a,contentRating:l}=e,{airTime:o,duration:s}=function(e,t,r,n){const i=Math.floor(Date.now()/1e3);let a="",l="";if(i>=e&&i<=t)a=(0,C.Z)("Now on {channel}",{channel:n}),l=(0,Tc.Z)(t-i);else{const i=(0,Mc.Z)(e,t,{timeFormat:r,separator:" - "});a=(0,C.Z)("{timeRange} on {channel}",{timeRange:i,channel:n}),l=(0,Oc.Z)(1e3*(t-e))}return{airTime:a,duration:l}}(t,r,i,a);return n.createElement("div",{className:"ChannelsGridDetailRowAirTime-container-g49w9_"},o,n.createElement(kc.Z,null),s,n.createElement("div",{className:"ChannelsGridDetailRowAirTime-contentRating-3daytz"},(0,Nc.Z)(l)))};var Ac=r(69881),xc=r(33894),Lc=r(92797),jc=r(96121),Fc=r(18095);const Gc="ChannelsGridDetailRowTitle-titleContainer-MtlKIZ",Hc="ChannelsGridDetailRowTitle-primaryTitle-EytXj8",Uc="ChannelsGridDetailRowTitle-secondaryTitle-1da8x7",Vc=function(e){const{type:t,metadataItemEntityID:r,serverEntityID:i,providerEntityID:a}=e,l=function(e){let t;switch(e){case Ac.MOVIE:t=[jc.Z,Fc.Z];break;case Ac.SHOW:t=[jc.Z,Lc.Z];break;case Ac.EPISODE:t=[xc.Z,Lc.Z];break;default:t=[jc.Z]}return t}(t);return n.createElement("div",{className:Gc},l.map(((e,t)=>{const l=0===t?Hc:Uc;return n.createElement(e,{key:t,className:l,metadataItemEntityID:r,providerEntityID:a,serverEntityID:i})})))};var Bc=r(34007),Kc=r(81017),zc=r(91135),Wc=r(52097),_c=r(10128);const qc=function(e){const{title:t,showPlay:r,showRecord:i,onPlayPress:a,onRecordPress:l}=e;return n.createElement("div",{className:"ChannelsGridMetadataCellButtons-actions-2LaFmL"},r?n.createElement(Wc.Z,{className:"ChannelsGridMetadataCellButtons-playButton-1msY09 PlayButton-playButton-3Thb8u ChannelsGridMetadataCellButtons-button-2F2UU1","data-testid":"guide-row-item-play",tabIndex:"-1",title:t,onPress:a}):null,i?n.createElement(_c.Z,{className:"ChannelsGridMetadataCellButtons-recordButton-2aHDUW RecordButton-recordButton-2D-jbP PlayButton-playButton-3Thb8u RecordIcon-recordIconContainer-2eYssT ChannelsGridMetadataCellButtons-button-2F2UU1","data-testid":"guide-row-item-record",tabIndex:"-1",title:t,onPress:l}):null)};var $c=r(5011);function Qc(e){const t=e["aria-label"],r=e.className,i=e.style,a={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-play-560"};a["aria-hidden"]=!t,a.style=i,a.className=ra.Z.plexIcon+(r?" "+r:"");const l=[n.createElement.apply(n,["path",{d:"M80,0L560,280L80,560L80,0Z"}].concat([]))];return t&&l.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",a].concat(l))}Qc.propTypes={"aria-label":ta().string,className:ta().string,style:ta().object};const Yc=Qc,Xc="ChannelsGridMetadataDetailButtons-icon-3au-Z5",Jc=function(e){const{subscriptionType:t,isSubscribed:r,isOnAir:i,showRecord:a,onPlayPress:l,onRecordPress:o}=e,s=i?(0,C.Z)("Watch Now"):(0,C.Z)("Watch Channel"),c=r?(0,C.Z)("Recording Scheduled"):(0,C.Z)("Record");return n.createElement("span",null,n.createElement(je.Z,{className:"ChannelsGridMetadataDetailButtons-playButton-17jkhw",kind:Fe.Py,size:Wl.HC,onPress:l},n.createElement(Yc,{className:Xc}),s),a?n.createElement(je.Z,{className:"ChannelsGridMetadataDetailButtons-recordButton-1y2Uyt ChannelsGridMetadataDetailButtons-playButton-17jkhw",kind:Fe.Py,size:Wl.HC,onPress:o},n.createElement($c.Z,{className:Xc,type:t}),c):null)};class ed extends n.Component{constructor(){super(...arguments),this.onRecordPress=e=>{const{serverEntityID:t,providerEntityID:r,metadataItemEntityID:n,type:i,onRecordPress:a}=this.props;a({serverEntityID:t,providerEntityID:r,metadataItemEntityID:n,subscriptionType:i})}}render(){const{className:e,title:t,subscriptionType:r,isCompact:i,isOnAir:a,isSubscribed:l,showPlay:o,showRecord:s,onPlayPress:c}=this.props,d=i?qc:Jc;return n.createElement("span",{className:e},n.createElement(d,{isOnAir:a,isSubscribed:l,showPlay:o,showRecord:s,subscriptionType:r,title:t,onPlayPress:c,onRecordPress:this.onRecordPress}))}}const td=ed;var rd=Object.defineProperty,nd=Object.prototype.hasOwnProperty,id=Object.getOwnPropertySymbols,ad=Object.prototype.propertyIsEnumerable,ld=(e,t,r)=>t in e?rd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,od=(e,t)=>{for(var r in t||(t={}))nd.call(t,r)&&ld(e,r,t[r]);if(id)for(var r of id(t))ad.call(t,r)&&ld(e,r,t[r]);return e};const sd={dispatchStartLiveTVPlayback:Bc.lS},cd=(0,ul.Z)((function(){return(0,$.P1)((0,Kc.Z)(),(0,$.P1)(((e,{beginsAt:t})=>t),((e,{endsAt:t})=>t),((e,t)=>{const r=Math.floor(Date.now()/1e3);return r>=e&&r<=t})),((e={},t)=>{const{type:r,title:n,grandparentTitle:i,subscriptionID:a,grandparentSubscriptionID:l,subscriptionType:o,grandparentSubscriptionType:s}=e;return{type:r,title:i||n,subscriptionType:s||o||r,isSubscribed:!(!l&&!a),isOnAir:t}}))}),sd)((function(e){const t=e,{dispatchStartLiveTVPlayback:r}=t,i=((e,t)=>{var r={};for(var n in e)nd.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&id)for(var n of id(e))t.indexOf(n)<0&&ad.call(e,n)&&(r[n]=e[n]);return r})(t,["dispatchStartLiveTVPlayback"]),{serverEntityID:a,providerEntityID:l,channelIdentifier:o,metricsPage:s,metricsContext:c}=e,d=(0,n.useCallback)((()=>{r(od(od({},{serverEntityID:a,providerEntityID:l,metricsPage:s,metricsContext:c}),{options:{type:zc.pX,identifier:o}}))}),[a,l,s,c,r,o]);return n.createElement(td,od(od({},i),{onPlayPress:d}))})),dd="ChannelsGridDetailRow-container-17UrLF",ud="ChannelsGridDetailRow-preplayContainer-2PALO6",md="ChannelsGridDetailRow-poster-30YJ65 PosterCard-card-1Y_ADe",pd="ChannelsGridDetailRow-navigationContainer-1EfNVz";function yd(e){const{className:t,metadataItemEntityID:r,serverEntityID:i,providerEntityID:a,mediaIndex:l,type:o,summary:s,thumb:c,contentRating:d,beginsAt:u,endsAt:m,timeFormat:p,channelIdentifier:y,channelTitle:h,channelShortTitle:v,showRecord:f,onRecordPress:b,onNextPress:E,onPrevPress:g}=e;return n.createElement("div",{className:t},n.createElement(Cc.Z,{className:md,component:Dc.Z,height:(0,Sc.Cr)(80,o,null,wc.lD),providerEntityID:a,serverEntityID:i,type:o,url:c,width:80}),n.createElement("div",{className:ud},n.createElement(Vc,{metadataItemEntityID:r,providerEntityID:a,serverEntityID:i,type:o}),n.createElement(Rc,{beginsAt:u,channelTitle:v||h,contentRating:d,endsAt:m,timeFormat:p}),n.createElement(cd,{beginsAt:u,channelIdentifier:y,endsAt:m,mediaIndex:l,metadataItemEntityID:r,providerEntityID:a,serverEntityID:i,showPlay:!0,showRecord:f,onRecordPress:b}),n.createElement("p",null,s),n.createElement("div",{className:pd},n.createElement(Zc.Z,{iconComponent:K.ed9,title:(0,C.Z)("Previous"),onPress:g}),n.createElement(Zc.Z,{iconComponent:K.VG8,title:(0,C.Z)("Next"),onPress:E}))))}yd.defaultProps={className:dd};const hd=yd;var vd=r(77981);const fd=function({className:e,tabIndex:t,allowLink:r=!0,metadataItem:i}){return n.createElement("span",{className:e},n.createElement(vd.Z,{allowLink:!!i.title,metadataItem:i,tabIndex:t}),i.title?n.createElement(kc.Z,null):null,i.title?n.createElement(yt.Z,{allowLink:r,metadataItem:i,tabIndex:t}):null)};var bd=r(87534),Ed=r(48571);function gd({metadataItem:e}){const t=(0,n.useMemo)((()=>{let t;switch(e.type){case Gt.pG.Movie:t=[yt.Z,Ed.Z];break;case Gt.pG.Show:t=[yt.Z,fd];break;case Gt.pG.Episode:t=[bd.Z,fd];break;default:t=[yt.Z]}return t}),[e]);return n.createElement("div",{className:Gc},t.map(((t,r)=>{const i=0===r?Hc:Uc;return n.createElement(t,{key:r,className:i,metadataItem:e})})))}var Pd=r(93966),Id=r(32827),Zd=r(59861);function wd({className:e,airing:t,channel:r,isCompact:i=!1,showPlay:a,showRecord:l,onRecordPress:c}){const{metadataItem:d,beginsAt:u,endsAt:m}=t,p=(0,s.I0)(),y=(0,ut.Z)(d.sourceURI),{metricsPage:h,metricsContextTuple:v}=(0,o.Zn)(),f=(0,Zd.Z)(d),[b,E]=(0,I.c9)(),g=d.grandparentTitle||d.title,P=Math.floor(Date.now()/1e3),Z=P>=u&&P<=m,w=!(!y.grandparentSubscriptionID&&!y.subscriptionID),C=y.grandparentSubscriptionType||y.subscriptionType||d.type,D=(0,n.useCallback)((()=>{f({action:yn.NH}),p(Bc.lS({serverEntityID:b.entityID,providerEntityID:E.entityID,metricsPage:h,metricsContext:v,options:{type:zc.pX,identifier:r.id}}))}),[p,b,E,r,h,v,f]),S=(0,n.useCallback)((()=>{const e=(0,Pd.DB)("appModel"),{metadataItemModel:t}=(0,Id.Z)(e,{server:b,provider:E,metadataItem:d,metadataItemState:y}),n={serverEntityID:b.entityID,providerEntityID:E.entityID,metadataItemEntityID:t.entityID(),channelGridKey:r.gridKey,subscriptionType:C};c(n)}),[b,E,d,y,r.gridKey,C,c]),O=i?qc:Jc;return n.createElement("span",{className:e},n.createElement(O,{isOnAir:Z,isSubscribed:w,showPlay:a,showRecord:l,subscriptionType:C,title:g,onPlayPress:D,onRecordPress:S}))}function Cd({className:e=dd,channel:t,airing:r,showRecord:i,onRecordPress:a,onNextPress:l,onPrevPress:o}){const[c,d]=(0,I.c9)(),u=(0,s.v9)((0,Vr.Z)("timeFormat")),{metadataItem:m,beginsAt:p,endsAt:y}=null!=r?r:{};return m?n.createElement("div",{className:e},n.createElement(Cc.Z,{className:md,component:Dc.Z,height:(0,Sc.Cr)(80,m.type,null,wc.lD),providerEntityID:d.entityID,serverEntityID:c.entityID,type:m.type,url:m.grandparentThumb||m.thumb,width:80}),n.createElement("div",{className:ud},n.createElement(gd,{metadataItem:m}),n.createElement(Rc,{beginsAt:p,channelTitle:t.shortTitle||t.title,contentRating:m.contentRating,endsAt:y,timeFormat:u}),n.createElement(wd,{airing:r,channel:t,showPlay:!0,showRecord:i,onRecordPress:a}),n.createElement("p",null,m.summary),n.createElement("div",{className:pd},n.createElement(Zc.Z,{iconComponent:K.ed9,title:(0,C.Z)("Previous"),onPress:o}),n.createElement(Zc.Z,{iconComponent:K.VG8,title:(0,C.Z)("Next"),onPress:l})))):null}var Dd=r(19013),Sd=r(18878),Od=r(39409),Td=r(73862),Md=r(38853);const Nd=parseInt(rt.Z.channelGridChannelColumnWidth,10),kd=.3*Nd;class Rd extends n.Component{constructor(e,t){super(e,t),this.state={placeholderWidth:kd+Math.random()*(Nd-kd)}}render(){const{className:e,children:t}=this.props,{placeholderWidth:r}=this.state;return n.createElement("div",{className:e,style:{width:`${r}px`}},n.createElement("div",{className:"ChannelsGridPlaceholder-bar-3TpmR4"},t))}}Rd.defaultProps={className:"ChannelsGridPlaceholder-container-3XqcQD"};const Ad=Rd;function xd(e){const{className:t}=e;return n.createElement(Od.Z,{className:t},(0,C.Z)("New"))}xd.defaultProps={className:"PremiereAiringBadge-badge-3YV_NL"};const Ld=xd,jd="ChannelsGridMetadataItemCell-container-3iqjsS",Fd="ChannelsGridMetadataItemCell-selected-2VzYEm",Gd="ChannelsGridMetadataItemCell-hoverable-1A9d5M",Hd="ChannelsGridMetadataItemCell-subTitleContainer-18VB6r",Ud="ChannelsGridMetadataItemCell-actions-pEA9gW",Vd="ChannelsGridMetadataItemCell-onAir-1F-pce",Bd="ChannelsGridMetadataItemCell-finishedAiring-1D_0w6",Kd="ChannelsGridMetadataItemCell-underlay-iuBejY",zd="ChannelsGridMetadataItemCell-content-jqa_ik",Wd="ChannelsGridMetadataItemCell-actionsContainer-1lSfc_",_d="ChannelsGridMetadataItemCell-subTitle-2pS_DR",qd="ChannelsGridMetadataItemCell-premiereBadge-3o8Msn PremiereAiringBadge-badge-3YV_NL",$d="ChannelsGridMetadataItemCell-subscriptionBadge-3avjgf",Qd="ChannelsGridMetadataItemCell-placeholderContainer-3YToDK";function Yd({airing:e,width:t,className:r=jd,channel:i,cellIndex:a,isSelected:l,showLoader:o,showRecord:c,onPress:d,onRecordPress:u}){var m;const{metadataItem:p,mediaIndex:y,beginsAt:h,endsAt:v,isSynthetic:f}=e,b=(0,s.I0)(),[E,g]=(0,I.c9)(),P=(0,ut.Z)(null==p?void 0:p.sourceURI),Z=(0,s.v9)(Sd.Z),w=null!=y?null==(m=null==p?void 0:p.Media)?void 0:m[y]:void 0,C=null==w?void 0:w.premiere,D=null!=P.subscriptionType||null!=P.grandparentSubscriptionType,S=p&&null==p.index&&!!p.originallyAvailableAt;let O=!0;if(S&&(null==p?void 0:p.originallyAvailableAt)){const e=new Date,t=(0,Dd.Z)(p.originallyAvailableAt);O=e.getDate()!==t.getDate()||e.getMonth()!==t.getMonth()||e.getFullYear()!==t.getFullYear()}const T=(0,n.useMemo)((()=>p?p.type===Gt.pG.Movie?Ed.Z:p.type!==Gt.pG.Show&&p.type!==Gt.pG.Episode||!O?null:vd.Z:null),[p,O]),M=Math.floor(Date.now()/1e3),N=!!(M>=h&&M<=v),k=!!(v&&M>=v);(0,n.useEffect)((()=>{p&&Z&&b((0,Td.redispatchLegacyMetadataAction)({server:E,provider:g,metadataItem:p,metadataItemState:P,legacyAction:(0,Md.yU)()}))}),[b,Z,p,P,g,E]);const R=(0,n.useCallback)((()=>{p&&null!=y&&d(p.key,y,a)}),[p,y,a,d]);if(o)return n.createElement("div",{className:r,style:{width:`${t}px`}},n.createElement("div",{className:Qd},n.createElement(Ad,null),n.createElement(Ad,null)));const A=P.subscriptionType||P.grandparentSubscriptionType;return n.createElement("div",{className:vi()(r,N&&Vd,l&&Fd,!f&&(N||c)&&Gd,k&&Bd),"data-qa-id":"guide-row-item",style:{width:`${t}px`}},n.createElement("div",{className:zd},n.createElement(pl.Z,{className:Kd,isDisabled:f,onPress:f?void 0:R}),n.createElement("div",null,p.title),f?null:n.createElement("div",{className:Wd},n.createElement("div",{className:Hd},T?n.createElement(T,{className:_d,metadataItem:p}):null,C?n.createElement(Ld,{className:qd}):null,D?n.createElement(Od.Z,{className:$d},n.createElement($c.Z,{type:A})):null),n.createElement(wd,{airing:e,channel:i,className:Ud,isCompact:!0,showPlay:N,showRecord:c,onRecordPress:u}))))}const Xd=function(e){const{className:t,width:r,isActive:i}=e,a={width:`${r}px`};return n.createElement("div",{className:t},n.createElement("div",{className:vi()("ChannelsGridProgress-fill-2JQfsQ",i&&"ChannelsGridProgress-active-3Hf8u6"),style:a}))};function Jd({className:e}){const{airedProgress:t,columnWidth:r,visibleColumns:i}=(0,s.v9)(Qs.Z),a=(0,n.useMemo)((()=>t/100*i*r),[t,r,i]);return n.createElement(Xd,{className:e,width:a})}var eu=r(59466);function tu(e){const t=e["aria-label"],r=e.className,i=e.style,a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-recent-channel-560"};a["aria-hidden"]=!t,a.style=i,a.className=ra.Z.plexIcon+(r?" "+r:"");const l=[n.createElement.apply(n,["path",{d:"M317.1429 42C185.7926 42 79.2857 148.5712 79.2857 280H0l99.6533 99.713c3.3475 3.35 8.7746 3.35 12.1219 0L211.428 280h-79.2852c0-102.34 82.7223-185.1112 185-185.1112 102.2778 0 185.0006 82.7712 185.0006 185.1112 0 102.3391-82.7228 185.1117-185.0005 185.1117-51.0069 0-97.2566-20.8926-130.5566-54.4767l-37.5292 37.5517C192.1354 491.2908 251.3366 518 317.143 518 448.493 518 555 411.4292 555 280c0-131.4288-106.5069-238-237.8571-238zm-37.1435 132.2208v132.2225l112.32 66.1117 19.8223-33.0559-92.4994-52.89V174.2208h-39.6429z"}].concat([]))];return t&&l.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",a].concat(l))}tu.propTypes={"aria-label":ta().string,className:ta().string,style:ta().object};const ru=tu,nu=parseInt(rt.Z.channelGridChannelIconWidth,10),iu=parseInt(rt.Z.channelGridRowHeight,10);function au({className:e="ChannelsGridRowTitle-container-f0U95b",channel:t}){const r=(0,s.I0)(),{metricsPage:i,metricsContextTuple:a}=(0,o.Zn)(),[l,c]=(0,I.c9)(),[d,u]=(0,It.Z)(),m=(0,n.useCallback)((()=>{r((0,Bc.lS)({serverEntityID:l.entityID,providerEntityID:c.entityID,metricsPage:i,metricsContextTuple:a,options:{type:zc.pX,identifier:t.id}}))}),[r,t,l,c,i,a]),p=t.vcn||t.id;return n.createElement("div",{ref:u,className:e,"data-qa-id":"guide-channel-name"},l.isCloud?null:n.createElement("div",{className:"ChannelsGridRowTitle-numberContainer-XGwIim"},d?n.createElement(eu.Z,{className:"ChannelsGridRowTitle-playButton-2NHmCs PlayButton-playButton-1cP4uX Link-link-1Kt-hA","data-qa-id":"guide-channel-play",tabIndex:"-1",title:(0,C.Z)("Play Channel {channel}",{channel:p}),onPress:m}):n.createElement("span",null,p)),n.createElement("div",{className:vi()("ChannelsGridRowTitle-thumbnailContainer-c2YDgj",l.isCloud&&"ChannelsGridRowTitle-fullWidth-2u7FpO",t.isRecent&&"ChannelsGridRowTitle-isRecent-1fqshc")},t.thumb?n.createElement(Vt.Z,{key:t.thumb,className:"ChannelsGridRowTitle-thumbnail-3o29zU",fit:Vt.k.Contain,height:iu,src:t.thumb,width:nu}):n.createElement("div",{className:"ChannelsGridRowTitle-channelCallSignText-2eVyf7",title:t.callSign},t.callSign),t.isRecent?n.createElement(ru,{className:"ChannelsGridRowTitle-icon-3yRoNK"}):null,l.isCloud&&d?n.createElement(eu.Z,{className:"ChannelsGridRowTitle-fullWidthPlayButton-H1nDo7 ChannelsGridRowTitle-playButton-2NHmCs PlayButton-playButton-1cP4uX Link-link-1Kt-hA","data-qa-id":"guide-channel-play",tabIndex:-1,title:(0,C.Z)("Play Channel {channel}",{channel:t.callSign}),onPress:m}):null))}var lu=Object.prototype.hasOwnProperty,ou=Object.getOwnPropertySymbols,su=Object.prototype.propertyIsEnumerable;function cu(e){var t=e,{channel:r,className:i,rowClassName:l,selectedMetadataItemKey:o,selectedMediaIndex:c,selectedMediaItemRow:d,onMetadataItemPress:u,onNextPress:m,onPrevPress:p,onDetailRowMeasure:y,onRecordPress:h}=t,v=((e,t)=>{var r={};for(var n in e)lu.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&ou)for(var n of ou(e))t.indexOf(n)<0&&su.call(e,n)&&(r[n]=e[n]);return r})(t,["channel","className","rowClassName","selectedMetadataItemKey","selectedMediaIndex","selectedMediaItemRow","onMetadataItemPress","onNextPress","onPrevPress","onDetailRowMeasure","onRecordPress"]);const{gridKey:f}=r,b=(0,vc.Z)(v),E=(0,s.I0)(),[g,Z]=(0,I.c9)(),{columnTimes:w,columnWidth:C}=(0,s.v9)(Qs.Z),{cachedDates:D,isPending:S,isPopulated:O}=(0,s.v9)((0,fc.Z)(f)),T=(0,s.v9)((0,oc.Z)(g,Z,r)),M=(0,n.useMemo)((()=>T.find((e=>{var t;return(null==(t=e.metadataItem)?void 0:t.key)&&e.metadataItem.key===o&&e.mediaIndex===c}))),[T,o,c]),N=w[1]-w[0],k=w[0],R=w[w.length-1],A=!!(0,P.Z)(Z,a.zW.Subscribe);return(0,n.useEffect)((()=>{M||d!==v.cellIndex||u(null,0,-1)}),[v,M,d,u]),(0,n.useEffect)((()=>{!f||S||O||E(zs.ZP.actions.channelAiringsFetchRequested({server:g,provider:Z,channelGridKey:f,date:(0,hc.Z)(new Date(1e3*k))}))}),[E,g,Z,f,k,S,O]),(0,n.useEffect)((()=>{const e=function(e,t,r){let n=null;const i=(0,hc.Z)(new Date(1e3*e)),a=(0,hc.Z)(new Date(1e3*t)),l=(0,bc.Z)(i,"yyyy-MM-dd"),o=(0,bc.Z)(a,"yyyy-MM-dd");return r.includes(l)?r.includes(o)||(n=a):n=i,n}(k,R,D);f&&e&&!S&&E(zs.ZP.actions.channelAiringsFetchRequested({server:g,provider:Z,channelGridKey:f,date:e}))}),[E,g,Z,f,k,R,S,D]),n.createElement("div",{className:i,"data-qa-id":"guide-row",style:b.style},n.createElement("div",{className:l},n.createElement(au,{channel:r,className:Ec}),n.createElement("div",{className:gc},n.createElement(Jd,{className:Ic}),T.map(((e,t)=>{const{metadataItem:i,mediaIndex:a,beginsAt:l,endsAt:s,isSynthetic:m}=e,p=Math.max(l,k),y=(Math.min(s,R)-p)/N*C,f=!(!i||v.cellIndex!==d||o!==i.key||c!==a);return n.createElement(Yd,{key:t,airing:e,cellIndex:v.cellIndex,channel:r,className:Pc,isSelected:f,showLoader:m&&(S||!S&&!O),showRecord:A,width:y,onPress:u,onRecordPress:h})})))),M&&v.cellIndex===d?n.createElement(qs.Z,{key:o,onMeasure:y},n.createElement(Cd,{airing:M,channel:r,showRecord:A,onNextPress:m,onPrevPress:p,onRecordPress:h})):null)}var du=r(41232),uu=r(48903),mu=r(64381);const pu="ChannelsGridTimeline-navigationButton-3qQUEd";function yu(e){const{className:t,enablePrevious:r,enableNext:i,startDate:a,columnTimes:l,timeFormat:o,columnWidth:s,dispatchPrevious:c,dispatchNext:d}=e;return n.createElement("div",{className:t},n.createElement("div",{className:"ChannelsGridTimeline-dayContainer-2UPaJl"},a?(0,bc.Z)(a,"EEEE, LLL dd"):null),n.createElement("div",{className:"ChannelsGridTimeline-labelContainer-DE-gBH"},l.map(((e,t)=>n.createElement("div",{key:t,className:"ChannelsGridTimeline-label-1MPGxp",style:{width:`${s}px`}},function(e,t="HH:mm:ss"){return e?(0,mu.Z)(e,t):""}(1e3*e,o))))),n.createElement("div",{className:"ChannelsGridTimeline-navigationButtons-2GChH5"},n.createElement(Zc.Z,{className:pu,iconComponent:K.ed9,isDisabled:!r,title:(0,C.Z)("Previous"),onPress:c}),n.createElement(Zc.Z,{className:pu,iconComponent:K.VG8,isDisabled:!i,title:(0,C.Z)("Next"),onPress:d})))}yu.defaultProps={className:"ChannelsGridTimeline-container-1M5T9M"};const hu=yu;function vu({className:e}){const t=(0,s.I0)(),r=(0,s.v9)(uu.Z),{columnTimes:i,columnWidth:a,startTime:l}=(0,s.v9)(Qs.Z),o=(new Date).getTime()-108e5;let c=new Date(1e3*l).getTime();const d=c>o;(0,du.Z)(l)&&(c=null);const u=(0,n.useCallback)((()=>{t(zs.ZP.actions.channelsGridNavigateTimeBack())}),[t]),m=(0,n.useCallback)((()=>{t(zs.ZP.actions.channelsGridNavigateTimeForward())}),[t]);return n.createElement(hu,{className:e,columnTimes:i,columnWidth:a,dispatchNext:m,dispatchPrevious:u,enableNext:!0,enablePrevious:d,startDate:c,timeFormat:r})}var fu=Object.defineProperty,bu=Object.prototype.hasOwnProperty,Eu=Object.getOwnPropertySymbols,gu=Object.prototype.propertyIsEnumerable,Pu=(e,t,r)=>t in e?fu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Iu=(e,t)=>{for(var r in t||(t={}))bu.call(t,r)&&Pu(e,r,t[r]);if(Eu)for(var r of Eu(t))gu.call(t,r)&&Pu(e,r,t[r]);return e};const Zu=parseInt(rt.Z.channelGridRowHeight,10)-1;function wu({className:e=sc,channels:t,onRecordPress:r}){var i;const a=(0,s.I0)(),[l,o]=(0,I.c9)(),{columnTimes:c,viewportWidth:d,viewportHeight:u}=(0,s.v9)(Qs.Z),[m,p]=(0,n.useState)(null),[y,h]=(0,n.useState)(null),[v,f]=(0,n.useState)(-1),[b,E]=(0,n.useState)(0),g=null!=(i=t[v])?i:{},P=(0,s.v9)((0,oc.Z)(l,o,g));(0,n.useEffect)((()=>{a(zs.ZP.actions.channelsGridUpdateAiredProgress());const e=6e4-Date.now()%6e4,t=window.setInterval((()=>a(zs.ZP.actions.channelsGridUpdateAiredProgress())),e);return()=>{window.clearInterval(t)}}),[a,c]);const Z=(0,n.useCallback)(((e,t,r)=>{const n=y!==e||m!==t||v!==r;h(n?e:null),p(n?t:null),f(n?r:-1),E(n?140:0)}),[m,p,y,h,v,f,E]),w=(0,n.useCallback)((({height:e})=>{E(e)}),[E]),C=(0,n.useCallback)((()=>{var e;const t=P.findIndex((e=>e.metadataItem.key===y&&e.mediaIndex===m))-1,{metadataItem:r,mediaIndex:n}=null!=(e=P[t])?e:{};r&&(h(r.key),p(n)),t<=1&&a(zs.ZP.actions.channelsGridNavigateTimeBack())}),[a,P,y,m,h,p]),D=(0,n.useCallback)((()=>{var e;const t=P.findIndex((e=>e.metadataItem.key===y&&e.mediaIndex===m))+1,{metadataItem:r,mediaIndex:n}=null!=(e=P[t])?e:{};r&&(h(r.key),p(n)),t>=P.length-1&&a(zs.ZP.actions.channelsGridNavigateTimeForward())}),[a,P,y,m,h,p]),S=(0,n.useCallback)((()=>t.map(((e,t)=>{let r=Zu;return t===v&&(r+=b||140),r}))),[t,v,b]),O=(0,n.useCallback)((e=>{const i=t[e.cellIndex];return i?n.createElement(cu,Iu(Iu({},e),{channel:i,className:cc,rowClassName:dc,selectedMediaIndex:m,selectedMediaItemRow:v,selectedMetadataItemKey:y,onDetailRowMeasure:w,onMetadataItemPress:Z,onNextPress:D,onPrevPress:C,onRecordPress:r})):null}),[m,v,y,t,Z,D,C,w,r]),T=l.isCloud?"uniqueID":"gridKey";return n.createElement("div",{className:e},n.createElement(vu,{className:pc}),n.createElement(tc.Z,{cellRenderer:O,className:uc,items:t,keyPropName:T,layout:lc({getCellHeights:S}),scrollDirection:zl.yZ,scrollerClassName:mc,size:t.length,viewportHeight:u,viewportWidth:d}))}var Cu=Object.defineProperty,Du=Object.prototype.hasOwnProperty,Su=Object.getOwnPropertySymbols,Ou=Object.prototype.propertyIsEnumerable,Tu=(e,t,r)=>t in e?Cu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Mu=(e,t)=>{for(var r in t||(t={}))Du.call(t,r)&&Tu(e,r,t[r]);if(Su)for(var r of Su(t))Ou.call(t,r)&&Tu(e,r,t[r]);return e};const Nu=parseInt(rt.Z.channelGridChannelOverflowWidth,10),ku=parseInt(rt.Z.channelGridChannelColumnWidth,10),Ru=parseInt(rt.Z.channelGridTitleColumnWidth,10);function Au({channels:e}){const t=(0,s.I0)(),r=(0,Xs.Z)(),[i,a]=(0,n.useState)(!1),[l,o]=(0,n.useState)(null),[c,d]=(0,n.useState)(),{columnTimes:u}=(0,s.v9)(Qs.Z);(0,n.useEffect)((()=>{const e=Math.floor(Date.now()/1e3);let r=7200;if(u[0]<=e&&u[1]>=e){const t=u.find((t=>e<t));t&&(r=t-e)}const n=window.setTimeout((()=>t(zs.ZP.actions.channelsGridResetStartTime())),1e3*r);return()=>window.clearTimeout(n)}),[u,t]);const m=(0,n.useCallback)((e=>{i&&(0,$s.Z)(l,e)||(a(!0),o(e),t(zs.ZP.actions.channelsGridSetViewportSize({width:e.width,height:e.height,overflowWidth:Nu,channelWidth:ku,channelTitleWidth:Ru})))}),[i,l,a,o,t]),p=(0,n.useCallback)((e=>{d(e),r.onOpen()}),[r,d]);return n.createElement(n.Fragment,null,n.createElement(Ys.Z,Mu(Mu({},c),{isOpen:r.isOpen,onModalClose:r.onClose})),n.createElement(qs.Z,{className:Js,onMeasure:m},n.createElement(wu,{channels:e,className:ec,onRecordPress:p})))}var xu=r(41859),Lu=r(89197),ju=r(58730),Fu=r(81858);const Gu=function(e,t,r,n){return(0,$.P1)(((e,t)=>(0,$.P1)((0,Fu.Z)(e,t),(e=>[{key:`/${e.identifier}/grid?channel.value=1`,filter:Vs.T,filterKey:"channel.value",filterType:ju.I,title:(0,C.Z)("HD Channels Only")}])))(r,n),(r=>{if(!e||!e.length)return(0,C.Z)("All Channels");if(e&&1===e.length){const t=e[0],n=r.find((e=>e.filter===t.key));if(n)return n.title}return t||(0,C.Z)("Filtered")}))};var Hu=r(91061),Uu=r(77909),Vu=r(74995);function Bu(e,t){if(e&&e.pivots)return e.pivots.find((e=>e.key===t))}var Ku=r(59701),zu=r(32553);const Wu=(0,$.P1)((0,Ku.Z)("features"),(e=>(0,zu.Z)(e,(e=>e.id),(()=>!0))));var _u=r(96335),qu=r(8732);const $u=(0,s.$j)(null,(function(e,t){const{serverEntityID:r,providerEntityID:n,providerMetricsIdentifier:i,sourceDirectory:a,tab:l,metricsPage:o}=t;return{onPress(t,s){s||e((0,Ze.zt)({serverEntityID:r,providerEntityID:n,directoryID:a.id,pivotKey:l.pivotKey})),(0,Pd.DB)("metrics").trackEvent({event:_u.Ip,interaction:!0,properties:{page:o,identifier:i,action:yn.oG,context:l.context,origin:as.zQ}})}}}))(qu.Z);var Qu=r(94915),Yu=Object.defineProperty,Xu=Object.prototype.hasOwnProperty,Ju=Object.getOwnPropertySymbols,em=Object.prototype.propertyIsEnumerable,tm=(e,t,r)=>t in e?Yu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rm=(e,t)=>{for(var r in t||(t={}))Xu.call(t,r)&&tm(e,r,t[r]);if(Ju)for(var r of Ju(t))em.call(t,r)&&tm(e,r,t[r]);return e};const nm=(0,ul.Z)((function(){return(0,$.P1)(Ae.Z,(0,$.P1)(((e,{sourceDirectory:t})=>t),((e,{directoryKey:t})=>t),(0,Vu.Z)(),(0,Uu.Z)(),Wu,((e,t,r,n,i)=>{const a=Bu(e,t);return e.pivots.reduce(((t,l)=>{if("vod.channels"===l.id&&l.requires&&!i[l.requires])return t;const o=(0,ys.Z)(r,n,e,l);return o?(t.push({pivotKey:l.key,title:l.title,route:o,isSelected:!(!a||l.key!==a.key),isDisabled:!l.key,context:l.context}),t):t}),[])})),((e,t)=>({providerMetricsIdentifier:e.metricsIdentifier,tabs:t})))}))((function(e){return n.createElement(Qu.Z,rm(rm({},e),{component:$u}))}));var im=r(4516),am=r(69907),lm=r(58801);const om=(0,s.$j)((function(){return(0,$.P1)((0,am.Z)(),(e=>({isEPGRefreshing:!!e,epgActivityProgress:e?e.progress:0,epgActivityTitle:e?e.title:""})))}))((function(e){const{className:t,isEPGRefreshing:r,epgActivityProgress:i,epgActivityTitle:a}=e;return r?n.createElement("span",{className:t},a," (",i,"%)",n.createElement(lm.Z,{className:"ProgramGuideActivityStatus-refreshingSpinner-3-mFGo",size:Wl.HC})):null}));function sm(){return(0,$.P1)((0,Uu.Z)(),((e={})=>[{key:`/${e.identifier}/grid?channel.value=1`,filter:Vs.T,filterKey:"channel.value",filterType:ju.I,title:(0,C.Z)("HD Channels Only")}]))}var cm=r(45428),dm=r(52601),um=Object.defineProperty,mm=Object.prototype.hasOwnProperty,pm=Object.getOwnPropertySymbols,ym=Object.prototype.propertyIsEnumerable,hm=(e,t,r)=>t in e?um(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function vm(e,t,r){const n=[...e];for(let e=n.length-1;e>=0;e--){const t=n[e],i=t.type===ju.I,a=r.type===ju.I;t&&i!==a||n.splice(e,1)}return n.push(((e,t)=>{for(var r in t||(t={}))mm.call(t,r)&&hm(e,r,t[r]);if(pm)for(var r of pm(t))ym.call(t,r)&&hm(e,r,t[r]);return e})({key:t},r)),n}var fm=r(96015);const bm=function(e){const{typeKey:t,activeFilters:r,activeFilterLabel:i,activeSort:a,filter:l,title:o,onMenuClose:s}=e,c=we(s),d=function(e,t){if(!e)return!1;const r=decodeURIComponent("1");return!!nc().find(e,(({value:e})=>Array.isArray(e)?e.indexOf(r)>-1:e===r))}(r.filter((({key:e})=>e===l)));return n.createElement(Wr.Z,{isSelected:d,to:(0,dm.Z)({typeKey:t,filters:d?(0,fm.Z)(r,l):vm(r,l,{value:"1",type:ju.I}),filterLabel:i,sort:a}),onPress:c},o)};var Em=r(47636);class gm extends n.Component{constructor(){super(...arguments),this.onPress=e=>{this.props.onFilterSelect(this.props.filterKey)}}shouldComponentUpdate(e,t){return(0,Em.Z)(this,e,t)}render(){const{activeFilters:e,filter:t,title:r,showSpinner:i}=this.props,a=!i&&!!nc().find(e,(({key:e})=>e===t));return n.createElement(Un.Z,{className:a?"DisclosureFilterMenuItem-isSelected-RQJudJ":void 0,onPress:this.onPress},n.createElement("div",{className:"DisclosureFilterMenuItem-menuItemContainer-1Doqa4 SelectedMenuItem-menuItemContainer-2sjh6G"},n.createElement("div",{className:"DisclosureFilterMenuItem-menuLabel-fQoG-0 SelectedMenuItem-menuLabel-1VXIKp"},r),i?n.createElement(lm.Z,{className:"DisclosureFilterMenuItem-spinner-1Ez09s Spinner-spinner-2WXqVZ spin-spin-34xiUE",size:Wl.HC}):null,!i&&a?n.createElement("div",{className:"DisclosureFilterMenuItem-selectedIcon-1Mdsdk SelectedMenuItem-selectedIcon-VTo2dZ"},n.createElement(eo.Z,{"aria-label":(0,C.Z)("Selected")})):null))}}const Pm=gm,Im=function(e){const{className:t,typeKey:r,activeFilters:i,activeFilterLabel:a,activeSort:l,filters:o,selectedFilter:s,showSpinner:c,showCustomFilter:d,onFilterSelect:u,onMenuClose:m}=e,p=we(m),y=nc().groupBy(o,(({filterType:e})=>e===ju.I?e:ju.w)),h=y[ju.I],v=y[ju.w];return n.createElement(cm.Z,{autoScroll:!0,className:vi()(t,"LibraryFiltersList-filtersScroller-2lnT9f Scroller-vertical-3bAxBf")},n.createElement(Wr.Z,{key:"all",isSelected:nc().isEmpty(i),to:(0,dm.Z)({typeKey:r,sort:l}),onPress:p},(0,C.Z)("All")),h?h.map((e=>n.createElement(bm,{key:e.filter,activeFilterLabel:a,activeFilters:i,activeSort:l,filter:e.filter,title:e.title,typeKey:r,onMenuClose:m}))):null,v?n.createElement(Kl.Z,null):null,v?v.map((e=>{const t=!(!s||s.filter!==e.filter);return n.createElement(Pm,{key:e.filter,activeFilters:i,activeSort:l,filter:e.filter,filterKey:e.key,showSpinner:c&&t,title:e.title,typeKey:r,onFilterSelect:u})})):null,d?n.createElement(Kl.Z,null):null,d?n.createElement(Wr.Z,{key:"customFilter",to:(0,dm.Z)({typeKey:r,customFilter:!0})},(0,C.Z)("Custom Filter...")):null)},Zm=(0,$.zB)({filters:sm()}),wm=(0,s.$j)(Zm)((function(e){const{filters:t,target:r,isOpen:i,activeFilters:a,activeFilterLabel:l,onMenuClose:o}=e;return n.createElement(Ar.Z,{isOpen:i,size:Wl.ln,target:r,onMenuClose:o},n.createElement(Im,{activeFilterLabel:l,activeFilters:a,filters:t,showCustomFilter:!1,showSpinner:!1,onMenuClose:o}))}));var Cm=r(42902),Dm=r(3151),Sm=r(74336);function Om(e){if(!e)return"";const t=e instanceof Date?e:new Date(e),r=(0,Cm.Z)(t);return(0,Dm.Z)(t,new Date)?(0,C.Z)("Today"):(0,Sm.Z)(r)}var Tm=r(77349),Mm=r(42227),Nm=r(29260);class km extends n.Component{constructor(){super(...arguments),this.onPress=()=>{const{option:e,onPress:t}=this.props;t(e)}}render(){const{className:e,option:t,isDisabled:r,isSelected:i}=this.props;return n.createElement(Wr.Z,{className:e,isDisabled:r,isSelected:i,onPress:this.onPress},t.title)}}const Rm=km,Am=function(e){const{className:t,dateOptions:r,onSelectDate:i,onSelectNow:a}=e;return n.createElement(cm.Z,{autoScroll:!0,className:t},n.createElement(Wr.Z,{onPress:a},(0,C.Z)("Now")),n.createElement(Kl.Z,null),r.map(((e,t)=>n.createElement(Rm,{key:t,isSelected:e.isSelected,option:e,onPress:i},e.title))))};function xm(e,t,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=(0,Dd.Z)(e,r),i=(0,Dd.Z)(t,r);return n.getTime()-i.getTime()}var Lm=r(313),jm=r(83946);function Fm(e,t){return function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=(0,Dd.Z)(e,t);return r.setMinutes(0,0,0),r}(function(e,t,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=(0,Dd.Z)(e,r),i=(0,jm.Z)(t);return n.setHours(i),n}(new Date(e),t))}const Gm=(0,s.$j)((function(){const e=[{startHour:0,title:(0,C.Z)("Midnight")},{startHour:2,title:(0,C.Z)("Overnight")},{startHour:6,title:(0,C.Z)("Morning")},{startHour:10,title:(0,C.Z)("Daytime")},{startHour:17,title:(0,C.Z)("Evening")},{startHour:23,title:(0,C.Z)("Late Night")}];return(0,$.P1)(((e,{startTime:t})=>t),((e,{selectedDateOption:t})=>t),((t,r={})=>{if(!r)return{timeOptions:[]};const n=(0,Mm.Z)(t),i=(0,Mm.Z)(r.value),a=new Date;return{timeOptions:e.map(((t,r)=>{const l=e[r+1],o=Fm(i,t.startHour),s=Fm(i,l?l.startHour:24),c=(0,Lm.Z)(a,s),d=xm(n,o)>=0&&xm(n,s)<0,u=(0,Lm.Z)(o,a)?(0,Cm.Z)(a):(0,Cm.Z)(o);return{title:xm(a,o)>=0&&xm(a,s)<0?(0,C.Z)("Now ({timeSlotTitle})",{timeSlotTitle:t.title}):t.title,value:u,isEnabled:c,isSelected:d}}))}}))}))((function(e){const{className:t,timeOptions:r,selectedDateOption:i,onDeselectDateOption:a,onSelectTime:l}=e;return n.createElement("div",{className:t},n.createElement("div",{className:"DatePickerTimeList-header-3XzI5K"},n.createElement(pl.Z,{onPress:a},n.createElement(K.ed9,{align:"baseline","aria-label":(0,C.Z)("Back")})),n.createElement("span",{className:"DatePickerTimeList-headerText-qTwYzB"},i.title)),n.createElement(Kl.Z,null),r.map(((e,t)=>n.createElement(Rm,{key:t,isDisabled:!e.isEnabled,isSelected:e.isSelected,option:e,onPress:l},e.title))))})),Hm={scrollDirection:zl.Hn,className:"DatePickerMenu-listContainer-1cPk3m"};class Um extends n.Component{constructor(e,t){super(e,t),this.onSelectDate=e=>{this.setState({showTimeOptions:!0,activeDateOption:e})},this.onSelectNow=()=>{const e=Math.floor(Date.now()/1e3);this.onSelectTime({value:e})},this.onSelectTime=e=>{this.setState({showTimeOptions:!1}),this.props.dispatchSetStartTime(e.value),this.props.onMenuClose()},this.onHideOptions=e=>{this.setState({showTimeOptions:!1})},this.state={showTimeOptions:!1,activeDateOption:e.dateOptions.find((e=>e.isSelected))}}render(){const{startTime:e,target:t,isOpen:r,dateOptions:i,onMenuClose:a}=this.props,{showTimeOptions:l,activeDateOption:o}=this.state,s=vi()("DatePickerMenu-list-2VgzfG",!!l&&"DatePickerMenu-showTimeOptions-26sjXw");return n.createElement(Ar.Z,{isOpen:r,scrollerProps:Hm,size:Wl.M2,target:t,onMenuClose:(0,Vn.Z)(this.onHideOptions,a)},n.createElement(Am,{className:s,dateOptions:i,onSelectDate:this.onSelectDate,onSelectNow:this.onSelectNow}),n.createElement(Gm,{className:s,selectedDateOption:o,startTime:e,onDeselectDateOption:this.onHideOptions,onSelectTime:this.onSelectTime}))}}const Vm=Um;function Bm({target:e,isOpen:t,onMenuClose:r}){const i=(0,s.I0)(),a=(0,n.useCallback)((e=>i(zs.ZP.actions.channelsGridSetStartTime({startTime:e}))),[i]),{channelsGrid:{startTime:l}}=(0,s.v9)(Nm.Z),o=(0,n.useMemo)((()=>function(e){const t=[],r=(0,Mm.Z)(e);for(let e=0;e<8;e++){const n=(0,Tm.Z)(new Date,e),i=Om(n),a=(0,Dm.Z)(n,r);t.push({title:i,value:(0,Cm.Z)(n),isSelected:a})}return t}(l)),[l]);return 0!==l&&o.length?n.createElement(Vm,{dateOptions:o,dispatchSetStartTime:a,isOpen:t,startTime:l,target:e,onMenuClose:r}):null}function Km({activeFilters:e,activeFilterLabel:t,totalSize:r}){const[i,a,l]=(0,I.c9)(),o=(0,n.useMemo)((()=>(0,q.Z)(i,a)),[a,i]),c=(0,n.useMemo)((()=>Gu(e,t,i.machineIdentifier,a.identifier)),[e,t,i,a]),[d]=(0,n.useState)((0,vn.Z)()),[u]=(0,n.useState)((0,vn.Z)()),[m,p]=(0,n.useState)(!1),[y,h]=(0,n.useState)(!1),{startTime:v}=(0,s.v9)(Qs.Z),f=Om(1e3*v),b=!!(0,s.v9)(o),E=(0,s.v9)(c),g=(0,n.useCallback)((()=>{p(!m)}),[m,p]),P=(0,n.useCallback)((()=>{p(!1)}),[p]),Z=(0,n.useCallback)((()=>{h(!y)}),[y,h]),w=(0,n.useCallback)((()=>{h(!1)}),[h]);return n.createElement(n.Fragment,null,n.createElement(gs.Z,null,n.createElement(im.Z,{providerEntityID:a.entityID,serverEntityID:i.entityID,sourceDirectory:l}),n.createElement(nm,{directoryKey:Lu.tk.GUIDE,providerEntityID:a.entityID,serverEntityID:i.entityID,sourceDirectory:l}),n.createElement(Hu.Z,null)),n.createElement(Po.Z,null,n.createElement(Io.Z,null,n.createElement(xu.Z,{hasMenu:!0,id:d,isMenuOpen:m,onPress:g},f),n.createElement(Bm,{isOpen:m,target:d,onMenuClose:P}),n.createElement(xu.Z,{hasMenu:!0,id:u,isMenuOpen:y,onPress:Z},E),n.createElement(wm,{activeFilterLabel:t,activeFilters:e,isOpen:y,target:u,onMenuClose:w}),n.createElement(al.Z,null,r)),b?n.createElement(Zo.Z,null,n.createElement(om,{providerEntityID:a.entityID,serverEntityID:i.entityID})):null))}var zm=Object.defineProperty,Wm=Object.prototype.hasOwnProperty,_m=Object.getOwnPropertySymbols,qm=Object.prototype.propertyIsEnumerable,$m=(e,t,r)=>t in e?zm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Qm=(e,t)=>{for(var r in t||(t={}))Wm.call(t,r)&&$m(e,r,t[r]);if(_m)for(var r of _m(t))qm.call(t,r)&&$m(e,r,t[r]);return e};function Ym(e,t){return e.find((({id:e})=>e===t))}function Xm({activeFilters:e,activeFilterLabel:t}){var r;const l=(0,s.I0)(),[o,c]=(0,I.c9)(),d=(0,s.v9)(Ws.Z),u=e.some((e=>e.key===Vs.T)),{settings:m,isSettingsPopulated:p}=null!=(r=(0,P.Z)(c,a.zW.Settings))?r:{},y=m&&Ym(m,a.Fk.RecentChannelsInGrid),h=m&&Ym(m,a.Fk.NumRecentChannelsInGrid),v=h?h.value:0,f=(0,n.useMemo)((()=>{let e=[...d];const t=y?y.recentChannelsInGrid:[];if(v>0&&(null==t?void 0:t.length)){const r=t.reduce(((e,t)=>{const r=d.find((e=>e.id===t.id));return r&&e.push(Qm(Qm({},r),{isRecent:!0})),e}),[]);e.unshift(...r)}return o.isCloud&&(e=e.map(((e,t)=>Qm(Qm({},e),{uniqueID:String(t)})))),u?e.filter((e=>e.isHd)):e}),[d,u,v,y,o.isCloud]);return(0,n.useEffect)((()=>(l((0,b.changeQuickSearchSettings)({serverEntityID:o.entityID,providerEntityID:c.entityID,providerIdentifier:c.identifier,directoryID:null})),l(zs.ZP.actions.guideChannelsFetchRequested({server:o,provider:c})),()=>{l((0,b.changeQuickSearchSettings)({serverEntityID:o.entityID,providerEntityID:c.entityID,providerIdentifier:null,directoryID:null}))})),[o,c,l]),(0,n.useEffect)((()=>{l(zs.ZP.actions.channelsGridResetStartTime())}),[l,u]),(0,n.useEffect)((()=>{o.isCloud&&!p&&l((0,Hs.VH)({providerEntityID:c.entityID}))}),[l,c,o.isCloud,p]),(0,n.useEffect)((()=>{o.isCloud&&p&&v>0&&!(null==y?void 0:y.isRecentChannelsInGridPopulated)&&!(null==y?void 0:y.recentChannelsInGridError)&&l((0,Hs.Fq)({providerEntityID:c.entityID,settingID:a.Fk.RecentChannelsInGrid}))}),[l,p,v,c,null==y?void 0:y.isRecentChannelsInGridPopulated,null==y?void 0:y.recentChannelsInGridError,o.isCloud]),n.createElement(Bs.Z,{metricsContext:(0,Ks.Z)(i._e,Us.DVR_GUIDE_PIVOT)},n.createElement(_s.Z,{metricsPage:i._e,scrollDirection:zl.Hn},n.createElement(Km,{activeFilterLabel:t,activeFilters:e,totalSize:f.length}),n.createElement(Au,{channels:f})))}var Jm=r(75989),ep=r(28018),tp=r(7420),rp=r(96181),np=r(15945),ip=r(92645),ap=r(1998);function lp(){return(0,$.P1)((0,ip.Z)(),((e,{sourceDirectoryID:t})=>t),((e,t)=>(0,ap.Z)(e,t)))}function op(){return(0,$.P1)((0,Vu.Z)(),(e=>e.isCloud))}var sp=r(9481);const cp=e=>e.key===Vs.T,dp=()=>(e,{activeFilters:t})=>t.some(cp);var up=r(50091),mp=r(82598);const pp=function(e){const{machineIdentifier:t,isRefreshing:r}=e;if(r)return n.createElement(mp.Z,{description:(0,C.Z)("Hang tight while we download all the data for what's on"),iconComponent:K.UUM,title:(0,C.Z)("We're now building your Guide")});const i=(0,Ce.Z)(t,"manage","dvr");return n.createElement(mp.Z,{description:(0,C.Z)("Please verify your channel mappings and refresh the Guide"),iconComponent:K.UUM,title:(0,C.Z)("The Guide is empty")},n.createElement(pl.Z,{kind:Fe._8,to:i},(0,C.Z)("Go to DVR Settings")))};var yp=Object.defineProperty,hp=Object.prototype.hasOwnProperty,vp=Object.getOwnPropertySymbols,fp=Object.prototype.propertyIsEnumerable,bp=(e,t,r)=>t in e?yp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Ep=(0,s.$j)((function(){return(0,$.P1)((0,Vu.Z)(),(0,am.Z)(),((e,t)=>({machineIdentifier:e.machineIdentifier,isRefreshing:!!t})))}))((function(e){return n.createElement(pp,((e,t)=>{for(var r in t||(t={}))hp.call(t,r)&&bp(e,r,t[r]);if(vp)for(var r of vp(t))fp.call(t,r)&&bp(e,r,t[r]);return e})({},e))}));var gp=r(14838),Pp=r(4792),Ip=r(67006);const Zp=(0,s.$j)((function(){return(0,$.P1)(((e,{mediaIndex:t})=>t),(0,Kc.Z)(),(0,Pp.Z)(Ip.Z.SUBSCRIBE),uu.Z,((e,t,r,n)=>{const{type:i,summary:a,grandparentThumb:l,thumb:o,contentRating:s}=t,c=t.Media[e],{beginsAt:d,endsAt:u,channelTitle:m,channelShortTitle:p,channelIdentifier:y}=c;return{type:i,summary:a,thumb:l||o,contentRating:s,beginsAt:d,endsAt:u,timeFormat:n,channelIdentifier:y,channelTitle:m,channelShortTitle:p,showRecord:!!r}}))}))(hd);var wp=r(45362);class Cp extends n.Component{constructor(){super(...arguments),this.onCellPress=()=>{const{metadataItemEntityID:e,mediaIndex:t,cellIndex:r,onPress:n}=this.props;n(e,t,r)}}render(){const{className:e,metadataItemEntityID:t,serverEntityID:r,providerEntityID:i,channelIdentifier:a,mediaIndex:l,width:o,type:s,subscriptionType:c,title:d,premiere:u,canRecord:m,showEpisodeTitle:p,showLoader:y,isOnAir:h,isFinishedAiring:v,isSelected:f,isSubscribed:b,onRecordPress:E}=this.props;if(!t)return n.createElement("div",{className:vi()(e,h&&Vd,v&&Bd),style:{width:`${o}px`}},y?n.createElement("div",{className:Qd},n.createElement(Ad,null),n.createElement(Ad,null)):n.createElement("div",{className:zd},(0,C.Z)("Unknown Airing")));const g=function(e,t){let r=null;switch(e){case Ac.MOVIE:r=Fc.Z;break;case Ac.SHOW:case Ac.EPISODE:t&&(r=wp.Z)}return r}(s,p);return n.createElement("div",{className:vi()(e,h&&Vd,f&&Fd,(h||m)&&Gd,v&&Bd),"data-testid":"guide-row-item",style:{width:`${o}px`}},n.createElement("div",{className:zd},n.createElement(pl.Z,{className:Kd,onPress:this.onCellPress}),n.createElement("div",null,d),n.createElement("div",{className:Wd},n.createElement("div",{className:Hd},g?n.createElement(g,{className:_d,metadataItemEntityID:t,providerEntityID:i,serverEntityID:r}):null,u?n.createElement(Ld,{className:qd}):null,b?n.createElement(Od.Z,{className:$d},n.createElement($c.Z,{type:c})):null),n.createElement(cd,{channelIdentifier:a,className:Ud,isCompact:!0,mediaIndex:l,metadataItemEntityID:t,providerEntityID:i,serverEntityID:r,showPlay:h,showRecord:m,onRecordPress:E}))))}}Cp.defaultProps={className:jd};const Dp=Cp;var Sp=Object.defineProperty,Op=Object.prototype.hasOwnProperty,Tp=Object.getOwnPropertySymbols,Mp=Object.prototype.propertyIsEnumerable,Np=(e,t,r)=>t in e?Sp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,kp=(e,t)=>{for(var r in t||(t={}))Op.call(t,r)&&Np(e,r,t[r]);if(Tp)for(var r of Tp(t))Mp.call(t,r)&&Np(e,r,t[r]);return e};const Rp={dispatchMirrorDetails:Md.yU},Ap=(0,s.$j)((function(){return(0,$.P1)(Sd.Z,(0,Kc.Z)(),(0,$.P1)(((e,{mediaIndex:t})=>t),(0,Kc.Z)(),((e,t)=>t?t.Media[e]:null)),(0,$.P1)(((e,{beginsAt:t})=>t),((e,{endsAt:t})=>t),((e,t)=>{const r=Math.floor(Date.now()/1e3);return{isOnAir:r>=e&&r<=t,isFinishedAiring:r>=t}})),(0,Pp.Z)(Ip.Z.SUBSCRIBE),((e,t={},r,n,i)=>{const{type:a,grandparentTitle:l,title:o,subscriptionID:s,subscriptionType:c,grandparentSubscriptionID:d,grandparentSubscriptionType:u,index:m,originallyAvailableAt:p}=t,y=!!r&&r.premiere,h=null!=s||null!=d;let v=!0;if(null==m&&p){const e=new Date,t=(0,Dd.Z)(p);v=e.getDate()!==t.getDate()||e.getMonth()!==t.getMonth()||e.getFullYear()!==t.getFullYear()}return kp(kp({},n),{type:a,title:l||o,subscriptionType:c||u,showEpisodeTitle:v,isRemotePlayer:e,isSubscribed:h,premiere:y,canRecord:!!i})}))}),Rp)((function(e){const t=e,{dispatchMirrorDetails:r}=t,i=((e,t)=>{var r={};for(var n in e)Op.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Tp)for(var n of Tp(e))t.indexOf(n)<0&&Mp.call(e,n)&&(r[n]=e[n]);return r})(t,["dispatchMirrorDetails"]),{serverEntityID:a,providerEntityID:l,metadataItemEntityID:o,isRemotePlayer:s,isSelected:c}=e;return(0,n.useEffect)((()=>{c&&s&&r({serverEntityID:a,providerEntityID:l,metadataItemEntityID:o})}),[s,c,a,l,o,r]),n.createElement(Dp,kp({},i))})),xp=(0,s.$j)((function(){return(0,$.P1)((e=>e.ui.channelGridPage),(e=>{const{airedProgress:t,columnWidth:r,visibleColumns:n}=e;return{width:t/100*n*r}}))}))(Xd);var Lp=r(34470),jp=r(64378),Fp=r(57614);var Gp=Object.defineProperty,Hp=Object.prototype.hasOwnProperty,Up=Object.getOwnPropertySymbols,Vp=Object.prototype.propertyIsEnumerable,Bp=(e,t,r)=>t in e?Gp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Kp=parseInt(rt.Z.channelGridChannelIconWidth,10),zp=parseInt(rt.Z.channelGridRowHeight,10);function Wp(e){const{className:t,serverEntityID:r,providerEntityID:i,channel:a,isCloudServer:l,onPlayPress:o}=e,[s,c]=(0,jp.Z)(),d=a.vcn||a.identifier;return n.createElement("div",((e,t)=>{for(var r in t||(t={}))Hp.call(t,r)&&Bp(e,r,t[r]);if(Up)for(var r of Up(t))Vp.call(t,r)&&Bp(e,r,t[r]);return e})({className:t,"data-testid":"guide-channel-name"},c),l?null:n.createElement("div",{className:"ChannelsGridRowTitle-numberContainer-19w63A"},s?n.createElement(Wc.Z,{className:"ChannelsGridRowTitle-playButton-i1gROw PlayButton-playButton-3Thb8u","data-testid":"guide-channel-play",tabIndex:"-1",title:(0,C.Z)("Play Channel {channel}",{channel:d}),onPress:o}):n.createElement("span",null,d)),n.createElement("div",{className:vi()("ChannelsGridRowTitle-thumbnailContainer-2MPlKU",l&&"ChannelsGridRowTitle-fullWidth-2GU8xP",a.isRecent&&"ChannelsGridRowTitle-isRecent-MgKH9o")},l&&s?n.createElement(Wc.Z,{className:"ChannelsGridRowTitle-fullWidthPlayButton-24eHBc ChannelsGridRowTitle-playButton-i1gROw PlayButton-playButton-3Thb8u","data-testid":"guide-channel-play",tabIndex:"-1",title:(0,C.Z)("Play Channel {channel}",{channel:a.callSign}),onPress:o}):null,a.thumb?n.createElement(Fp.Z,{key:a.thumb,backgroundSize:"contain",className:"ChannelsGridRowTitle-thumbnail-23YXnB",height:zp,providerEntityID:i,serverEntityID:r,url:a.thumb,width:Kp}):n.createElement("div",{className:"ChannelsGridRowTitle-channelCallSignText-2gWrKL",title:a.callSign},a.callSign)),a.isRecent?n.createElement(ru,{className:"ChannelsGridRowTitle-icon-1EBT3l"}):null)}Wp.defaultProps={className:"ChannelsGridRowTitle-container-1DnP0p"};const _p=Wp;var qp=Object.defineProperty,$p=Object.prototype.hasOwnProperty,Qp=Object.getOwnPropertySymbols,Yp=Object.prototype.propertyIsEnumerable,Xp=(e,t,r)=>t in e?qp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Jp=(e,t)=>{for(var r in t||(t={}))$p.call(t,r)&&Xp(e,r,t[r]);if(Qp)for(var r of Qp(t))Yp.call(t,r)&&Xp(e,r,t[r]);return e};const ey={dispatchStartPlayback:ll.wA,dispatchStartLiveTVPlayback:Bc.lS},ty=(0,ul.Z)((function(){return(0,$.P1)(op(),(e=Lp.K,(0,$.P1)((0,Uu.Z)(e),(t=>t.protocols.includes(e)))),((e,t)=>({isCloudServer:e,hasLiveTVProtocol:t})));var e}),ey)((function(e){const t=e,{dispatchStartPlayback:r,dispatchStartLiveTVPlayback:i}=t,a=((e,t)=>{var r={};for(var n in e)$p.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Qp)for(var n of Qp(e))t.indexOf(n)<0&&Yp.call(e,n)&&(r[n]=e[n]);return r})(t,["dispatchStartPlayback","dispatchStartLiveTVPlayback"]),{serverEntityID:l,providerEntityID:o,channel:s,metricsPage:c,metricsContext:d,isCloudServer:u,hasLiveTVProtocol:m}=e,{identifier:p,id:y}=s,h=(0,n.useCallback)((()=>{const e={serverEntityID:l,providerEntityID:o,metricsPage:c,metricsContext:d};u||m?i(Jp(Jp({},e),{options:{type:zc.pX,identifier:p||y}})):r(e)}),[l,o,c,d,u,m,i,p,y,r]);return n.createElement(_p,Jp(Jp({},a),{channel:s,isCloudServer:u,onPlayPress:h}))}));function ry(e){const{className:t,rowClassName:r,serverEntityID:i,providerEntityID:a,selectedMetadataItemEntityID:l,selectedMediaIndex:o,selectedMediaItemRow:s,channel:c,cellIndex:d,columnWidth:u,columnTimes:m,isFetching:p,onMetadataItemPress:y,onRecordPress:h,onNextPress:v,onPrevPress:f,onDetailRowMeasure:b}=e,E=(0,vc.Z)(e),g=m[0],P=m[m.length-1],I=m[1]-m[0];return n.createElement("div",{className:t,"data-testid":"guide-row",style:E.style},n.createElement("div",{className:r},n.createElement(ty,{channel:c,className:Ec,providerEntityID:a,serverEntityID:i}),n.createElement("div",{className:gc},n.createElement(xp,{className:Ic}),c.programs.map(((e,t)=>{const r=Math.max(e.beginsAt,g),m=(Math.min(e.endsAt,P)-r)/I*u,v=d===s&&l===e.metadataItemEntityID&&o===e.mediaIndex;return n.createElement(Ap,{key:t,beginsAt:e.beginsAt,cellIndex:d,channelIdentifier:c.identifier,className:Pc,endsAt:e.endsAt,isSelected:v,mediaIndex:e.mediaIndex,metadataItemEntityID:e.metadataItemEntityID,providerEntityID:a,serverEntityID:i,showLoader:p&&!e.metadataItemEntityID,width:m,onPress:y,onRecordPress:h})})))),d===s?n.createElement(qs.Z,{key:l,onMeasure:b},n.createElement(Zp,{mediaIndex:o,metadataItemEntityID:l,providerEntityID:a,serverEntityID:i,onNextPress:v,onPrevPress:f,onRecordPress:h})):null)}ry.defaultProps={rowClassName:"ChannelsGridRow-container-1GpikV"};const ny=(0,n.memo)(ry),iy={dispatchNext:ep.uF,dispatchPrevious:ep.mo},ay=(0,s.$j)((function(){return(0,$.P1)((e=>e.ui.channelGridPage),uu.Z,((e,t)=>{const{startTime:r,columnWidth:n}=e,i=new Date-108e5;let a=new Date(1e3*r);const l=a>i;return(0,du.Z)(r)&&(a=null),{timeFormat:t,startDate:a,columnWidth:n,enablePrevious:l,enableNext:!0}}))}),iy)(hu);var ly=Object.defineProperty,oy=Object.prototype.hasOwnProperty,sy=Object.getOwnPropertySymbols,cy=Object.prototype.propertyIsEnumerable,dy=(e,t,r)=>t in e?ly(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,uy=(e,t)=>{for(var r in t||(t={}))oy.call(t,r)&&dy(e,r,t[r]);if(sy)for(var r of sy(t))cy.call(t,r)&&dy(e,r,t[r]);return e};const my=parseInt(rt.Z.channelGridRowHeight,10)-1,py={selectedMetadataItemEntityID:null,selectedMediaIndex:null,selectedMediaItemRow:-1,selectedMediaItemHeight:0};class yy extends n.Component{constructor(e,t){super(e,t),this.getCellHeights=()=>{const{selectedMediaItemRow:e,selectedMediaItemHeight:t}=this.state;return this.props.channels.map(((r,n)=>{let i=my;return n===e&&(i+=t||140),i}))},this._updateProgress=()=>{this.props.dispatchUpdateAiredProgress(),this._resetUpdateTimeout()},this.onMetadataItemPress=(e,t,r)=>{this.state.selectedMetadataItemEntityID!==e||this.state.selectedMediaIndex!==t||this.state.selectedMediaItemRow!==r?this.setState({selectedMetadataItemEntityID:e,selectedMediaIndex:t,selectedMediaItemRow:r,selectedMediaItemHeight:140}):this.setState(py)},this.onDetailRowMeasure=({height:e})=>{this.setState({selectedMediaItemHeight:e})},this.onPrevPress=()=>{var e;const{selectedMetadataItemEntityID:t,selectedMediaIndex:r,selectedMediaItemRow:n}=this.state,{programs:i}=this.props.channels[n],a=i.findIndex((e=>e.metadataItemEntityID===t&&e.mediaIndex===r))-1,{metadataItemEntityID:l,mediaIndex:o}=null!=(e=i[a])?e:{};l&&this.setState({selectedMetadataItemEntityID:l,selectedMediaIndex:o}),a<=1&&this.props.dispatchNavigateTimeBack()},this.onNextPress=()=>{var e;const{selectedMetadataItemEntityID:t,selectedMediaIndex:r,selectedMediaItemRow:n}=this.state,{programs:i}=this.props.channels[n],a=i.findIndex((e=>e.metadataItemEntityID===t&&e.mediaIndex===r))+1,{metadataItemEntityID:l,mediaIndex:o}=null!=(e=i[a])?e:{};l&&this.setState({selectedMetadataItemEntityID:l,selectedMediaIndex:o}),a>=i.length-1&&this.props.dispatchNavigateTimeForward()},this.onDetailRowMeasure=({height:e})=>{this.setState({selectedMediaItemHeight:e})},this.renderCell=e=>{const{serverEntityID:t,providerEntityID:r,columnTimes:i,columnWidth:a,channels:l,isPending:o,onRecordPress:s}=this.props,{selectedMetadataItemEntityID:c,selectedMediaIndex:d,selectedMediaItemRow:u}=this.state,m=l[e.cellIndex];return m?n.createElement(ny,uy(uy({},e),{channel:m,className:cc,columnTimes:i,columnWidth:a,isFetching:o,providerEntityID:r,rowClassName:dc,selectedMediaIndex:d,selectedMediaItemRow:u,selectedMetadataItemEntityID:c,serverEntityID:t,onDetailRowMeasure:this.onDetailRowMeasure,onMetadataItemPress:this.onMetadataItemPress,onNextPress:this.onNextPress,onPrevPress:this.onPrevPress,onRecordPress:s})):null},this._updateTimeout=null,this.state=py}static getDerivedStateFromProps(e,t){const{selectedMediaIndex:r,selectedMetadataItemEntityID:n,selectedMediaItemRow:i}=t,a=e.channels[i];return a&&0!==a.programs.length?a.programs.find((e=>e.mediaIndex===r&&e.metadataItemEntityID===n))?null:py:null}componentDidMount(){this._updateProgress()}shouldComponentUpdate(e,t){return(0,Em.Z)(this,e,t)}componentDidUpdate(e){(0,$s.Z)(this.props.columnTimes,e.columnTimes)||this._updateProgress()}_resetUpdateTimeout(){this._updateTimeout&&window.clearTimeout(this._updateTimeout);const e=6e4-Date.now()%6e4;this._updateTimeout=window.setTimeout(this._updateProgress,e)}render(){const{className:e,serverEntityID:t,providerEntityID:r,viewportWidth:i,viewportHeight:a,columnTimes:l,channels:o,isCloudServer:s,isEmpty:c,showSpinner:d,showError:u}=this.props,m=s?"uniqueId":"identifier";return n.createElement("div",{className:e},d||u||c?null:n.createElement(Ve,{className:"ChannelsGrid-banner-vsNn0x ProgramGuideGracenoteMigrationBanner-container-3KhZOk",providerEntityID:r,serverEntityID:t}),d||u||c?null:n.createElement(ay,{className:pc,columnTimes:l}),u?n.createElement(gp.Z,{className:yc,title:(0,C.Z)("There was an error loading channels")}):null,d?n.createElement(mp.Z,{className:yc},n.createElement(lm.Z,{label:(0,C.Z)("Loading channels")})):null,d||u||!c?null:n.createElement(Ep,{providerEntityID:r,serverEntityID:t}),d||u||c?null:n.createElement(tc.Z,{cellRenderer:this.renderCell,className:uc,items:o,keyPropName:m,layout:lc({getCellHeights:this.getCellHeights}),scrollDirection:zl.yZ,scrollerClassName:mc,size:o.length,viewportHeight:a,viewportWidth:i,onMeasure:this.onScrollerMeasure}))}}yy.defaultProps={className:sc,columnTimes:[],isCloudServer:!1};const hy=yy;var vy=Object.defineProperty,fy=Object.prototype.hasOwnProperty,by=Object.getOwnPropertySymbols,Ey=Object.prototype.propertyIsEnumerable,gy=(e,t,r)=>t in e?vy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Py=(e,t)=>{for(var r in t||(t={}))fy.call(t,r)&&gy(e,r,t[r]);if(by)for(var r of by(t))Ey.call(t,r)&&gy(e,r,t[r]);return e};const Iy={dispatchUpdateAiredProgress:ep.bZ,dispatchNavigateTimeForward:ep.uF,dispatchNavigateTimeBack:ep.mo},Zy=(0,s.$j)((function(){return(0,$.P1)((e=>e.ui.channelGridPage),(0,up.Z)(),((e,t={})=>{const{isPending:r=!0,isPopulated:n=!1,metadataItems:i=[],error:a}=t,l=!!r&&!n&&!a,o=!!a,s=n&&!r&&!a&&0===i.length;return Py(Py({},e),{isPending:r,isEmpty:s,showSpinner:l,showError:o})}))}),Iy)(hy);var wy=r(40822),Cy=Object.defineProperty,Dy=Object.prototype.hasOwnProperty,Sy=Object.getOwnPropertySymbols,Oy=Object.prototype.propertyIsEnumerable,Ty=(e,t,r)=>t in e?Cy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,My=(e,t)=>{for(var r in t||(t={}))Dy.call(t,r)&&Ty(e,r,t[r]);if(Sy)for(var r of Sy(t))Oy.call(t,r)&&Ty(e,r,t[r]);return e};function Ny(e,t){return e.find((({id:e})=>e===t))||{}}const ky={dispatchFetchProviderSettings:Hs.VH,dispatchFetchProviderSettingRecentChannelsInGrid:Hs.Fq,dispatchUpdateAiredProgress:ep.bZ,dispatchNavigateTimeForward:ep.uF,dispatchNavigateTimeBack:ep.mo};function Ry(e){const t=e,{providerEntityID:r,numRecentChannelsInGrid:i,isSettingsPending:a,dispatchFetchProviderSettings:l,dispatchFetchProviderSettingRecentChannelsInGrid:o}=t,s=((e,t)=>{var r={};for(var n in e)Dy.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Sy)for(var n of Sy(e))t.indexOf(n)<0&&Oy.call(e,n)&&(r[n]=e[n]);return r})(t,["providerEntityID","numRecentChannelsInGrid","isSettingsPending","dispatchFetchProviderSettings","dispatchFetchProviderSettingRecentChannelsInGrid"]);return(0,n.useEffect)((()=>{l({providerEntityID:r})}),[l,r]),(0,n.useEffect)((()=>{!a&&i>0&&o({providerEntityID:r,settingID:wy.x8})}),[o,a,i,r]),n.createElement("div",null,n.createElement(hy,My(My({},s),{providerEntityID:r})))}Ry.defaultProps={numRecentChannelsInGrid:0};const Ay=(0,s.$j)((function(){return(0,$.P1)((e=>e.ui.channelGridPage),((e,{channels:t})=>t),(0,up.Z)(),(0,Pp.Z)(Ip.Z.SETTINGS),((e,t,r={},n)=>{const{isPending:i=!0,isPopulated:a=!1,metadataItems:l=[],error:o}=r,{settings:s,isSettingsPending:c=!0,isSettingsPopulated:d=!1,settingsError:u}=n,m=Ny(s,wy.x8),p=Ny(s,wy.xy),y=p?p.value:0,{recentChannelsInGrid:h=[],isRecentChannelsInGridPending:v=!0,isRecentChannelsInGridPopulated:f=!1,recentChannelsInGridError:b}=m,E=i&&!a&&!o||c&&!d&&!u||y>0&&v&&!f&&!b,g=!!b||!!u||!!o,P=a&&!i&&!o&&0===l.length,I=[...t];if(y>0&&f){const e=h.reduce(((e,r)=>{const n=t.find((e=>e.identifier===r.id));return n&&e.push(My(My({},n),{isRecent:!0})),e}),[]);I.unshift(...e)}return I.forEach(((e,t)=>(e.uniqueId=t,e))),My(My({},e),{channels:I,numRecentChannelsInGrid:y,isCloudServer:!0,isPending:i,isSettingsPending:c,isEmpty:P,showSpinner:E,showError:g})}))}),ky)(Ry);var xy=Object.defineProperty,Ly=Object.prototype.hasOwnProperty,jy=Object.getOwnPropertySymbols,Fy=Object.prototype.propertyIsEnumerable,Gy=(e,t,r)=>t in e?xy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Hy=(e,t)=>{for(var r in t||(t={}))Ly.call(t,r)&&Gy(e,r,t[r]);if(jy)for(var r of jy(t))Fy.call(t,r)&&Gy(e,r,t[r]);return e};const Uy=function(e){const{metadataListEntityID:t,serverEntityID:r,providerEntityID:i,channels:a,isCloudServer:l,onMeasure:o}=e,[s,c]=(0,n.useState)({}),d=(0,Xs.Z)(),u=(0,n.useCallback)((e=>{c(e),d.onOpen()}),[d,c]),m=l?Ay:Zy;return n.createElement(n.Fragment,null,n.createElement(Ys.Z,Hy(Hy({},s),{isOpen:d.isOpen,onModalClose:d.onClose})),n.createElement(qs.Z,{className:Js,onMeasure:o},n.createElement(m,{channels:a,className:ec,metadataListEntityID:t,providerEntityID:i,serverEntityID:r,onRecordPress:u})))},Vy=parseInt(rt.Z.channelGridChannelOverflowWidth,10),By=parseInt(rt.Z.channelGridChannelColumnWidth,10),Ky=parseInt(rt.Z.channelGridTitleColumnWidth,10),zy=(0,$.P1)((e=>e.ui.channelGridPage),op(),((e,t)=>{const{columnTimes:r}=e;return{columnTimes:r,isCloudServer:t}})),Wy={dispatchSetViewportSize:ep.Sg,dispatchResetStartTime:ep.FL};class _y extends n.Component{constructor(e,t){super(e,t),this._updateGrid=()=>{const{dispatchResetStartTime:e}=this.props;e(),this._resetTimeout()},this.onMeasure=e=>{const{isMeasured:t,measuredSize:r}=this.state;t&&(0,$s.Z)(r,e)||this.setState({isMeasured:!0,measuredSize:e},(()=>{this.setViewportSize(e)}))},this._updateTimeout=null,this.state={isMeasured:!1,measuredSize:null}}componentDidMount(){this._resetTimeout()}componentDidUpdate(e){const{metadataListEntityID:t,columnTimes:r}=this.props;t===e.metadataListEntityID&&(0,$s.Z)(r,e.columnTimes)||this._resetTimeout()}componentWillUnmount(){this._updateTimeout&&window.clearTimeout(this._updateTimeout)}_resetTimeout(e=this.props){const{columnTimes:t}=e;if(!t.length)return;this._updateTimeout&&(window.clearTimeout(this._updateTimeout),this._updateTimeout=null);const r=Math.floor(Date.now()/1e3);let n=7200;t[0]<=r&&t[1]>=r&&(n=t.find((e=>r<e))-r),this._updateTimeout=window.setTimeout(this._updateGrid,1e3*n)}setViewportSize(e){const{dispatchSetViewportSize:t}=this.props;t({width:e.width,height:e.height,overflowWidth:Vy,channelWidth:By,channelTitleWidth:Ky}),this._resetTimeout()}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:r,channels:i,isCloudServer:a}=this.props;return n.createElement(Uy,{channels:i,isCloudServer:a,metadataListEntityID:r,providerEntityID:t,serverEntityID:e,onMeasure:this.onMeasure})}}const qy=(0,s.$j)(zy,Wy)(_y),$y={dispatchSetStartTime:ep.qv},Qy=(0,s.$j)((function(){return(0,$.P1)((e=>e.ui.channelGridPage),(({startTime:e})=>({startTime:e,dateOptions:function(e){const t=[],r=(0,Mm.Z)(e);for(let e=0;e<8;e++){const n=(0,Tm.Z)(new Date,e),i=Om(n),a=(0,Dm.Z)(n,r);t.push({title:i,value:(0,Cm.Z)(n),isSelected:a})}return t}(e)})))}),$y)(Vm);class Yy extends n.Component{constructor(e,t){super(e,t),this.onDatePickerMenuButtonPress=e=>{this.setState({isDatePickerMenuOpen:!this.state.isDatePickerMenuOpen})},this.onDatePickerMenuClose=()=>{this.setState({isDatePickerMenuOpen:!1})},this.onFilterMenuButtonPress=e=>{this.setState({isFilterMenuOpen:!this.state.isFilterMenuOpen})},this.onFilterMenuClose=()=>{this.setState({isFilterMenuOpen:!1})},this.state={isDatePickerMenuOpen:!1,isFilterMenuOpen:!1},this._datePickerMenuButtonID=(0,vn.Z)(),this._filterMenuButtonID=(0,vn.Z)()}shouldComponentUpdate(e,t){return(0,Em.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:r,selectedFilterTitle:i,datePickerTitle:a,showEPGActivity:l,activeFilters:o,activeFilterLabel:s,totalSize:c}=this.props,{isDatePickerMenuOpen:d,isFilterMenuOpen:u}=this.state;return n.createElement(n.Fragment,null,n.createElement(gs.Z,null,n.createElement(im.Z,{providerEntityID:t,serverEntityID:e,sourceDirectory:r}),n.createElement(nm,{directoryKey:Lu.tk.GUIDE,providerEntityID:t,serverEntityID:e,sourceDirectory:r}),n.createElement(Hu.Z,null)),n.createElement(Po.Z,null,n.createElement(Io.Z,null,n.createElement(xu.Z,{hasMenu:!0,id:this._datePickerMenuButtonID,isMenuOpen:d,onPress:this.onDatePickerMenuButtonPress},a),n.createElement(Qy,{isOpen:d,target:this._datePickerMenuButtonID,onMenuClose:this.onDatePickerMenuClose}),n.createElement(xu.Z,{hasMenu:!0,id:this._filterMenuButtonID,isMenuOpen:u,onPress:this.onFilterMenuButtonPress},i),n.createElement(wm,{activeFilterLabel:s,activeFilters:o,isOpen:u,target:this._filterMenuButtonID,onMenuClose:this.onFilterMenuClose}),n.createElement(al.Z,null,c)),l?n.createElement(Zo.Z,null,n.createElement(om,{providerEntityID:t,serverEntityID:e})):null))}}const Xy=Yy,Jy=(0,s.$j)((function(){return(0,$.P1)((e=>e.ui.channelGridPage),(0,am.Z)(),(0,$.P1)(((e,{activeFilters:t})=>t),((e,{activeFilterLabel:t})=>t),sm(),((e,t,r)=>{if(!e||!e.length)return(0,C.Z)("All Channels");if(e&&1===e.length){const t=e[0],n=r.find((e=>e.filter===t.key));if(n)return n.title}return t||(0,C.Z)("Filtered")})),((e,t,r)=>({datePickerTitle:Om(1e3*e.startTime),showEPGActivity:!!t,selectedFilterTitle:r})))}))(Xy),eh=function(e){const{serverEntityID:t,providerEntityID:r,metadataListEntityID:a,sourceDirectory:l,activeFilters:o,activeFilterLabel:s,channels:c}=e;return n.createElement(Bs.Z,{metricsContext:(0,Ks.Z)(i._e,Us.DVR_GUIDE_PIVOT)},n.createElement(_s.Z,{metricsPage:i._e,scrollDirection:zl.Hn},n.createElement(Jy,{activeFilterLabel:s,activeFilters:o,providerEntityID:r,serverEntityID:t,sourceDirectory:l,totalSize:c.length}),n.createElement(qy,{channels:c,metadataListEntityID:a,providerEntityID:r,serverEntityID:t})))};var th=Object.defineProperty,rh=Object.prototype.hasOwnProperty,nh=Object.getOwnPropertySymbols,ih=Object.prototype.propertyIsEnumerable,ah=(e,t,r)=>t in e?th(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const lh={dispatchInitMetadataList:ep.EG,dispatchResetStartTime:ep.FL,dispatchResetMetadataList:sl.wZ,dispatchFetchChannelsList:ep.z2,dispatchPopulateChannelPrograms:ep.Vg,dispatchChangeQuickSearchSettings:b.changeQuickSearchSettings};class oh extends n.Component{componentDidMount(){this.props.containerKey&&this._populate(),this.props.providerIdentifier&&this._setSearchProviderIdentifier(this.props.providerIdentifier)}componentDidUpdate(e){const{providerIdentifier:t,containerKey:r,columnTimes:n,isRefreshing:i}=this.props;r&&r!==e.containerKey||i!==e.isRefreshing?this._populate(e):(0,$s.Z)(n,e.columnTimes)||this.props.dispatchPopulateChannelPrograms(),t&&t!==e.providerIdentifier&&this._setSearchProviderIdentifier(t)}componentWillUnmount(){const{metadataListEntityID:e}=this.props;e&&this.props.dispatchResetMetadataList({metadataListEntityID:e}),this._setSearchProviderIdentifier(null)}_populate(e){const{serverEntityID:t,providerEntityID:r,metadataListEntityID:n,containerKey:i,dispatchInitMetadataList:a,dispatchResetMetadataList:l,dispatchResetStartTime:o,dispatchFetchChannelsList:s,dispatchPopulateChannelPrograms:c,isHDFilterActive:d}=this.props;n&&l({metadataListEntityID:n}),s(),e&&e.isHDFilterActive!==d||o(),a({containerKey:i,serverEntityID:t,providerEntityID:r}),c()}_setSearchProviderIdentifier(e){const{dispatchChangeQuickSearchSettings:t,serverEntityID:r,providerEntityID:n}=this.props;t({serverEntityID:r,providerEntityID:n,providerIdentifier:e,directoryID:null})}render(){const e=this.props,{dispatchInitMetadataList:t}=e,r=((e,t)=>{var r={};for(var n in e)rh.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&nh)for(var n of nh(e))t.indexOf(n)<0&&ih.call(e,n)&&(r[n]=e[n]);return r})(e,["dispatchInitMetadataList"]);return n.createElement(eh,((e,t)=>{for(var r in t||(t={}))rh.call(t,r)&&ah(e,r,t[r]);if(nh)for(var r of nh(t))ih.call(t,r)&&ah(e,r,t[r]);return e})({},r))}}const sh=(0,s.$j)((function(){return(0,$.P1)((e=>e.ui.channelGridPage),(0,np.Z)(),(0,rp.Z)(),(0,Uu.Z)(),lp(),(0,am.Z)(),(0,$.P1)((e=>e.ui.channelGridPage),dp(),((e,t)=>{const{channelsList:r,isChannelsListPopulated:n,isChannelsListPending:i,channelsListError:a}=e;return!n||i||a?[]:t?r.filter((e=>!!e.tagValue)):r})),op(),dp(),((e,t,r,n,i,a,l,o,s)=>{let c=function(e,t,r=[]){const n=e[0],i=e[e.length-1],a=function(e,t,r,n){return t.reduce(((t,i)=>i&&i.Media?(i.Media.forEach(((a,l)=>{const{channelIdentifier:o,channelThumb:s,channelTitle:c,channelShortTitle:d,channelVcn:u,channelCallSign:m,beginsAt:p,endsAt:y}=a;var h;if((!(e.length>0)||e.some((e=>e.channelIdentifier===o)))&&(t[o]||(t[o]={identifier:o,thumb:s,title:d||c,vcn:u,callSign:m||(h=c,h?h.split(" ")[1]:""),programs:[]}),p<n&&y>r)){const e={beginsAt:Math.max(p,r),endsAt:Math.min(y,n),metadataItemEntityID:i.entityID,mediaIndex:l};t[o].programs.push(e)}})),t):t),{})}(r,t,n,i);return r.forEach((e=>{a[e.channelIdentifier]||(a[e.channelIdentifier]={identifier:e.channelIdentifier,thumb:e.thumb,title:e.tag,vcn:e.channelVcn,callSign:e.channelCallSign,programs:[]})})),function(e,t,r,n){return Object.values(e).map((e=>(e.programs=function(e,t,r){let n=t;const i=[];e.sort(((e,t)=>e.beginsAt>t.beginsAt?1:e.beginsAt<t.beginsAt?-1:0));for(let t=0;t<e.length;t++){const r=e[t];if(r.beginsAt>n){const e={beginsAt:n,endsAt:r.beginsAt};i.push(e)}i.push(r),n=r.endsAt}if(n<r){const e={beginsAt:n,endsAt:r};i.push(e)}return i}(e.programs,t,r),e)))}(a,n,i)}(e.columnTimes,t,l);return o||(c=c.sort(((e,t)=>(0,sp.Z)(e.vcn||e.identifier,t.vcn||t.identifier)))),{metadataListEntityID:e.metadataList,containerKey:r,sourceDirectory:i,channels:c,columnTimes:e.columnTimes,providerIdentifier:n.identifier,isRefreshing:!!a,isHDFilterActive:s}}))}),lh)(oh),ch=(0,$.zB)({metadataListEntityID:e=>e.ui.channelGridPage.metadataList,directoryKey:(0,$.P1)(((e,{selectedDirectory:t})=>t),(e=>{if(!e)return;const t=e.key;return"/"===t.charAt(0)?t:"/library/sections/"+t}))}),dh=(0,tp.Z)(sh,(function(e){const t=e.ui.channelGridPage;return{providerEntityID:t.providerEntityID,serverEntityID:t.serverEntityID,metadataListEntityID:t.metadataList,directoryKey:t.directoryKey}}),(function(e,t){e((0,ep.v3)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,directoryKey:t.directoryKey})),e((0,ep.Li)())})),uh=(0,s.$j)(ch)(dh);var mh=r(99434),ph=r(76331),yh=r(96516);function hh(){return(0,$.P1)((0,Vu.Z)(),(e=>e?e.providers:void 0))}var vh=r(98727);function fh(e){return!0}var bh=r(59468),Eh=r(65671),gh=r(68966),Ph=r(32901);function Ih(){return(0,$.P1)(((e,{providerID:t})=>t),hh(),vh.Z,((e,t,r)=>{if(e)return t.find((t=>{const n=r[t];return n&&n.identifier===e}))}))}var Zh=r(993),wh=r(10079),Ch=r(36793),Dh=r(42699),Sh=r(14699),Oh=r(65732),Th=r(36475),Mh=r(97784),Nh=r(15145),kh=r(81914),Rh=r(76604),Ah=r(98422);const xh=function(e){const{className:t,beginsAt:r,endsAt:i,timeFormat:a}=e,l=function(e,t,r){return e?(0,Ah.Z)(e,t)?(0,C.Z)("Airing now"):(0,Rh.Z)(e,null,{timeFormat:r}):(0,C.Z)("No upcoming airings")}(r,i,a);return n.createElement("span",{className:t},l)};var Lh=r(28670);const jh=function({className:e,type:t}){return n.createElement("span",{className:e},n.createElement(Lh.Z,{className:"RecordingPrioritySubscriptionSeriesTitle-seriesIcon-1gx7si"}),function(e){return"show"===e?(0,C.Z)("Series"):void 0}(t))};var Fh=Object.defineProperty,Gh=Object.prototype.hasOwnProperty,Hh=Object.getOwnPropertySymbols,Uh=Object.prototype.propertyIsEnumerable,Vh=(e,t,r)=>t in e?Fh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Bh=function(e){const t=e,{component:r,isSecondary:i}=t,a=((e,t)=>{var r={};for(var n in e)Gh.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Hh)for(var n of Hh(e))t.indexOf(n)<0&&Uh.call(e,n)&&(r[n]=e[n]);return r})(t,["component","isSecondary"]);return n.createElement(r,((e,t)=>{for(var r in t||(t={}))Gh.call(t,r)&&Vh(e,r,t[r]);if(Hh)for(var r of Hh(t))Uh.call(t,r)&&Vh(e,r,t[r]);return e})({className:i?"RecordingPrioritySubscriptionTitle-secondaryTitle-3_ljYB":"RecordingPrioritySubscriptionTitle-title-1tyuhY"},a))};var Kh=Object.defineProperty,zh=Object.prototype.hasOwnProperty,Wh=Object.getOwnPropertySymbols,_h=Object.prototype.propertyIsEnumerable,qh=(e,t,r)=>t in e?Kh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class $h extends n.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:!1}}shouldComponentUpdate(e,t){return(0,Em.Z)(this,e,t)}render(){const e=this.props,{serverEntityID:t,providerEntityID:r,mediaSubscriptionEntityID:i,type:a,subtype:l,thumb:o,grandparentThumb:s,connectDragSource:c}=e,d=((e,t)=>{var r={};for(var n in e)zh.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Wh)for(var n of Wh(e))t.indexOf(n)<0&&_h.call(e,n)&&(r[n]=e[n]);return r})(e,["serverEntityID","providerEntityID","mediaSubscriptionEntityID","type","subtype","thumb","grandparentThumb","connectDragSource"]),{isSubscribeModalOpen:u}=this.state,m="playlist"===a?"show":a;return n.createElement("div",{className:"RecordingPrioritySubscription-subscription-sMrrcv"},n.createElement(pl.Z,{className:"RecordingPrioritySubscription-link-2YAydw",onPress:this.onLinkPress},n.createElement("div",{className:"RecordingPrioritySubscription-linkContainer-2HQeI0"},n.createElement(Cc.Z,{className:"RecordingPrioritySubscription-posterContainer-24PHNd",component:Dc.Z,height:(0,Sc.Cr)(48,m,l),providerEntityID:r,serverEntityID:t,type:m,url:s||o,width:48}),n.createElement("div",{className:"RecordingPrioritySubscription-titleContainer-3oP97e"},function(e){let t;switch(e){case"movie":t=[Th.Z,Nh.Z];break;case"show":t=[Th.Z,jh];break;case"episode":t=[Oh.Z,Mh.Z];break;case"playlist":t=[Th.Z,jh];break;default:t=[Th.Z]}return t.push(xh),t}(a).map(((e,t)=>n.createElement(Bh,((e,t)=>{for(var r in t||(t={}))zh.call(t,r)&&qh(e,r,t[r]);if(Wh)for(var r of Wh(t))_h.call(t,r)&&qh(e,r,t[r]);return e})({key:t,component:e,isSecondary:t>0,type:a},d))))))),c(n.createElement("div",{className:"RecordingPrioritySubscription-dragHandle-3eu23D Link-link-3cHWtJ"},n.createElement(kh.Z,{className:"RecordingPrioritySubscription-dragIcon-MXgHzk"})),{dropEffect:"copy"}),n.createElement(Ys.Z,{isOpen:u,mediaSubscriptionEntityID:i,providerEntityID:r,serverEntityID:t,subscriptionType:a,onModalClose:this.onSubscribeModalClose}))}}$h.defaultProps={connectDragSource:e=>e};const Qh=$h;var Yh=Object.defineProperty,Xh=Object.prototype.hasOwnProperty,Jh=Object.getOwnPropertySymbols,ev=Object.prototype.propertyIsEnumerable,tv=(e,t,r)=>t in e?Yh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const rv=(0,s.$j)((function(){return(0,$.P1)(uu.Z,(0,Sh.Z)(),(0,$.P1)((e=>e.ui.recordingSchedulePage.calendar.scheduled),(0,Sh.Z)(),((e,t)=>nc().find(e,(e=>(0,Dh.Z)((0,Mm.Z)(e.beginsAt),new Date)&&e.mediaSubscriptionID===t.key)))),((e,t,r)=>{const n=nc().pick(t.hint,"title","grandparentTitle","type","year","index","parentIndex","originallyAvailableAt","thumb","grandparentThumb");return r&&(n.beginsAt=r.beginsAt,n.endsAt=r.endsAt),n.timeFormat=e,n}))}))((function(e){return n.createElement(Qh,((e,t)=>{for(var r in t||(t={}))Xh.call(t,r)&&tv(e,r,t[r]);if(Jh)for(var r of Jh(t))ev.call(t,r)&&tv(e,r,t[r]);return e})({},e))})),nv=parseInt(rt.Z.recordingPriorityPaneWidth,10),iv=parseInt(rt.Z.recordingPriorityDragHandleWidth,10);class av extends n.Component{shouldComponentUpdate(e,t){return(0,Em.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,item:r,itemType:i,currentOffset:a}=this.props;if(!a||i!==Ch.OT)return null;const{x:l,y:o}=a,s=`translate3d(${l-(nv-iv)}px, ${o}px, 0)`,c={position:"absolute",WebkitTransform:s,msTransform:s,transform:s};return n.createElement(wh.Z,null,n.createElement("div",{className:"RecordingPrioritySubscriptionDragPreview-dragPreview-2i9B3v",style:c},n.createElement(rv,{mediaSubscriptionEntityID:r.mediaSubscriptionEntityID,providerEntityID:t,serverEntityID:e})))}}const lv=(0,Zh.r)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(av);var ov=r(93712),sv=r(90625),cv=r(46408),dv=r(86382);const uv={beginDrag:({mediaSubscriptionEntityID:e})=>({mediaSubscriptionEntityID:e}),endDrag(e,t,r){e.onSubscriptionDragEnd(t.getItem(),t.didDrop())}},mv={hover(e,t,r){const n=(0,Ei.findDOMNode)(r).getBoundingClientRect(),i=(n.bottom-n.top)/2,a=t.getClientOffset().y-n.top,l=e.sortIndex,o=a>i?l+1:l;e.onSubscriptionDragMove(o)}};class pv extends n.Component{componentDidMount(){this.props.connectDragPreview((0,cv.r)())}shouldComponentUpdate(e,t){return(0,Em.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:r,isDragging:i,isDraggingBefore:a,isDraggingAfter:l,isOver:o,connectDropTarget:s,connectDragSource:c}=this.props;return s(n.createElement("div",{className:vi()("RecordingPrioritySubscriptionDragSource-dragSource-3tMsps",i&&dv.fN,a&&o&&dv.DT,l&&o&&dv.QZ)},n.createElement(rv,{connectDragSource:c,mediaSubscriptionEntityID:r,providerEntityID:t,serverEntityID:e})))}}const yv=(0,ov.G)(Ch.OT,mv,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((0,sv.E)(Ch.OT,uv,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(pv)),hv=function(e){const{serverEntityID:t,providerEntityID:r,mediaSubscriptionEntityIDs:i,guideRoute:a,showError:l,showEmptyState:o,moveIndex:s,onSubscriptionDragMove:c,onSubscriptionDragEnd:d}=e;return n.createElement("div",{className:"RecordingPriorityPane-pane-10DMCx"},n.createElement("div",{className:"RecordingPriorityPane-paneHeader-3ooJHe"},(0,C.Z)("Recording Priority")),n.createElement(cm.Z,{autoScroll:!0,className:"RecordingPriorityPane-paneScroller-3HiniD Scroller-vertical-3bAxBf"},l?n.createElement("div",{className:"RecordingPriorityPane-error-1QukwT"},n.createElement("div",null,(0,C.Z)("There was an error loading recordings.")),n.createElement("div",null,(0,C.Z)("Please try again."))):null,o?n.createElement("div",{className:"RecordingPriorityPane-empty-240vsl"},n.createElement("div",null,(0,C.Z)("You have no recordings scheduled.")),n.createElement("div",null,n.createElement(Eh.Z,{message:(0,C.Z)("Check out the {openLink}Guide{closeLink} to browse available programming."),tags:[{open:"openLink",close:"closeLink",component:pl.Z,kind:Fe._8,to:a}]}))):null,l||o?null:i.map(((e,i)=>{const a=null!=s,l=a&&s===i,o=a&&s===i+1;return n.createElement(yv,{key:e,isDraggingAfter:o,isDraggingBefore:l,mediaSubscriptionEntityID:e,providerEntityID:r,serverEntityID:t,sortIndex:i,onSubscriptionDragEnd:d,onSubscriptionDragMove:c})}))),n.createElement(lv,{providerEntityID:r,serverEntityID:t}))};var vv=Object.defineProperty,fv=Object.prototype.hasOwnProperty,bv=Object.getOwnPropertySymbols,Ev=Object.prototype.propertyIsEnumerable,gv=(e,t,r)=>t in e?vv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pv=(e,t)=>{for(var r in t||(t={}))fv.call(t,r)&&gv(e,r,t[r]);if(bv)for(var r of bv(t))Ev.call(t,r)&&gv(e,r,t[r]);return e};const Iv={dispatchMoveMediaSubscription:ph.moveMediaSubscription,dispatchClearMoveError:ph.clearMoveError,dispatchShowAlert:Ph.wp};class Zv extends n.Component{constructor(e,t){super(e,t),this.onSubscriptionDragMove=e=>{this.setState({moveIndex:e})},this.onSubscriptionDragEnd=(e,t)=>{const{moveIndex:r}=this.state;t&&null!=r&&(0,v.c9)((()=>{this.props.dispatchMoveMediaSubscription(Pv(Pv({},e),{moveIndex:r}))})),this.setState({moveIndex:null})},this.state={moveIndex:null}}componentDidUpdate(e){const{mediaSubscriptionMoveError:t,dispatchShowAlert:r,dispatchClearMoveError:n}=this.props,{mediaSubscriptionMoveError:i}=e;!i&&t&&(r(t),n())}render(){return n.createElement(hv,Pv({moveIndex:this.state.moveIndex,onSubscriptionDragEnd:this.onSubscriptionDragEnd,onSubscriptionDragMove:this.onSubscriptionDragMove},this.props))}}const wv=(0,s.$j)((function(){return(0,$.P1)((e=>e.ui.recordingSchedulePage),Ih(),((e,t)=>{const{mediaSubscriptions:r,isMediaSubscriptionsPopulated:n,mediaSubscriptionsError:i,mediaSubscriptionMoveError:a}=e;return{providerEntityID:t,mediaSubscriptionEntityIDs:r,mediaSubscriptionMoveError:a,showError:!n&&!!i,showEmptyState:n&&!i&&!r.length}}))}),Iv)(Zv),Cv=function({subscriptionCount:e}){return n.createElement(mp.Z,{description:1===e?(0,C.Z)("There are no upcoming airings of the item in your list"):(0,C.Z)("There are no upcoming airings of the {subscriptionCount} items in your list",{subscriptionCount:e}),iconComponent:K.Z7$,title:(0,C.Z)("You have no recordings scheduled")})};var Dv=r(93957),Sv=r(80962),Ov=Object.defineProperty,Tv=Object.prototype.hasOwnProperty,Mv=Object.getOwnPropertySymbols,Nv=Object.prototype.propertyIsEnumerable,kv=(e,t,r)=>t in e?Ov(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Rv=(e,t)=>{for(var r in t||(t={}))Tv.call(t,r)&&kv(e,r,t[r]);if(Mv)for(var r of Mv(t))Nv.call(t,r)&&kv(e,r,t[r]);return e};const Av={dispatchPlayRecording:ph.playRecording};class xv extends n.Component{constructor(){super(...arguments),this.onPlayPress=e=>{const{serverEntityID:t,providerEntityID:r,linkedKey:n,metricsContext:i,dispatchPlayRecording:a}=this.props;a({serverEntityID:t,providerEntityID:r,linkedKey:n,metricsContext:i})}}render(){const e=this.props,{component:t,mediaSubscriptionID:r,status:i,linkedKey:a,metricsContext:l}=e,o=((e,t)=>{var r={};for(var n in e)Tv.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Mv)for(var n of Mv(e))t.indexOf(n)<0&&Nv.call(e,n)&&(r[n]=e[n]);return r})(e,["component","mediaSubscriptionID","status","linkedKey","metricsContext"]);return n.createElement(t,Rv(Rv({},o),{onPlayPress:this.onPlayPress}))}}const Lv=(0,ul.Z)((function(){return(0,$.P1)(((e,{mediaSubscriptionID:t})=>t),((e,{status:t})=>t),uu.Z,(0,$.P1)(((e,{linkedKey:t})=>t),((e,{metricsContext:t})=>t),xe.Z,((e,t,r)=>{const n={};return t&&(n.context=t),(0,Ua.Z)(r,{isLibraryProvider:!0},e,n)})),(0,Kc.Z)(),(0,Dv.Z)(),Ih(),((e,t,r,n,i,a,l)=>{const o=t===Sv.ly,s=t===Sv.pn,c=nc().pick(i,"type","title","grandparentTitle","index","parentIndex","originallyAvailableAt"),d=Rv({providerEntityID:l,prePlayRoute:n,isComplete:o,hasError:s,hasSubscription:!!e,showPlay:o&&!!n,timeFormat:r},c);return a?(d.isRecording=!0,d.isPostProcessing=a.Context.status===Sv.jN,d.recordingProgress=a.progress):(d.isRecording=!1,d.isPostProcessing=!1),d}))}),Av)(xv);var jv=r(55855),Fv=r(11558),Gv=r(91715),Hv=r(46277),Uv=r(53757),Vv=r(78434),Bv=r(51343),Kv=r(99062),zv=r(13995);const Wv=function({children:e,mediaItem:t}){const r=t&&t.videoResolution;let i,a=!1;if(r){const e=parseInt(r,10);a=!0,i=e>=720||4===e||8===e}return e||a?n.createElement(Kv.Z,null,e,a?n.createElement(zv.Z,{label:(0,C.Z)("Video")},i?(0,C.Z)("HD"):(0,C.Z)("SD")):null):null};var _v=r(21849);const qv=function(e){const{children:t,beginsAt:r,endsAt:i,channel:a,timeFormat:l}=e;if(!r||!i)return null;const o=Date.now()/1e3;let s;return s=i<o?(0,C.Z)("Aired"):r<=o&&i>=o?(0,C.Z)("Airing"):(0,C.Z)("Airs"),n.createElement(zv.Z,{label:s},n.createElement(_v.Z,{beginsAt:r,channel:a,endsAt:i,showChannel:!0,showFullTime:!0,timeFormat:l}),t)};var $v=r(39611),Qv=r(3664);const Yv="AiringDetailsModalContent-separator-oz-Yqf DashSeparator-separator-373hcj";var Xv=Object.prototype.hasOwnProperty,Jv=Object.getOwnPropertySymbols,ef=Object.prototype.propertyIsEnumerable;const tf=function(e){const t=e,{serverEntityID:r,providerEntityID:i,summary:a,error:l,mediaItem:o,isComplete:s,hasError:c,isRecording:d,recordingProgress:u,timeFormat:m,onRecordingModify:p,onModalClose:y}=t,h=((e,t)=>{var r={};for(var n in e)Xv.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Jv)for(var n of Jv(e))t.indexOf(n)<0&&ef.call(e,n)&&(r[n]=e[n]);return r})(t,["serverEntityID","providerEntityID","summary","error","mediaItem","isComplete","hasError","isRecording","recordingProgress","timeFormat","onRecordingModify","onModalClose"]),{beginsAt:v,endsAt:f,startOffsetSeconds:b,endOffsetSeconds:E,channelTitle:g,channelShortTitle:P}=o,I=!(!b&&!E),Z=b&&Math.round(b/60),w=E&&Math.round(E/60);return n.createElement(Zl.Z,{onModalClose:y},n.createElement(bl.Z,null,(0,C.Z)("Airing Details")),n.createElement(hl.Z,null,n.createElement(Qv.Z,{hint:h,providerEntityID:i,serverEntityID:r},n.createElement(Wv,{mediaItem:o},n.createElement(qv,{beginsAt:v,channel:P||g,endsAt:f,showChannel:!0,showFullTime:!0,timeFormat:m},n.createElement("div",null,s?n.createElement("span",null,n.createElement(eo.Z,{className:"AiringDetailsModalContent-completeIcon-3B0CJT"}),(0,C.Z)("Recorded successfully")):null,d?n.createElement("span",null,n.createElement(Bv.Z,{className:"AiringDetailsModalContent-recordingIcon-3kBLea"}),(0,C.Z)("Recording"),n.createElement(kc.Z,{className:Yv}),(0,C.Z)("{recordingProgress}% complete",{recordingProgress:u})):null,c?n.createElement("span",null,n.createElement($v.Z,{className:"AiringDetailsModalContent-errorIcon-2Sic1O"}),l):null,s||d||c||!I?null:n.createElement("span",null,Z?n.createElement("span",null,(0,C.Z)("Recording starts {minuteOffset} min early",{minuteOffset:Z}),w?n.createElement("span",null,n.createElement(kc.Z,{className:Yv}),(0,C.Z)("Ends {minuteOffset} min late",{minuteOffset:w})):null):n.createElement("span",null,(0,C.Z)("Recording ends {minuteOffset} min late",{minuteOffset:w})))))),n.createElement("div",{className:"AiringDetailsModalContent-summary-VaLeTf"},a))),n.createElement(vl.Z,null,n.createElement(fl.Z,null,n.createElement(je.Z,{kind:Fe.TP,size:Wl.M2,onPress:p},(0,C.Z)("Modify Recording")),n.createElement(je.Z,{kind:Fe._8,size:Wl.M2,onPress:y},(0,C.Z)("Close")))))};var rf=Object.defineProperty,nf=Object.prototype.hasOwnProperty,af=Object.getOwnPropertySymbols,lf=Object.prototype.propertyIsEnumerable,of=(e,t,r)=>t in e?rf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const sf=(0,s.$j)((function(){return(0,$.P1)(uu.Z,(0,Kc.Z)(),((e,t)=>{const r=nc().pick(t,"type","title","parentTitle","grandparentTitle","thumb","parentThumb","grandparentThumb","index","parentIndex","originallyAvailableAt","summary");return r.timeFormat=e,r}))}))((function(e){return n.createElement(tf,((e,t)=>{for(var r in t||(t={}))nf.call(t,r)&&of(e,r,t[r]);if(af)for(var r of af(t))lf.call(t,r)&&of(e,r,t[r]);return e})({},e))}));var cf=Object.defineProperty,df=Object.prototype.hasOwnProperty,uf=Object.getOwnPropertySymbols,mf=Object.prototype.propertyIsEnumerable,pf=(e,t,r)=>t in e?cf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const yf=function(e){const t=e,{isOpen:r,metricsProperties:a,metadataItemEntityID:l,onRecordingModify:o,onModalClose:s}=t,c=((e,t)=>{var r={};for(var n in e)df.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&uf)for(var n of uf(e))t.indexOf(n)<0&&mf.call(e,n)&&(r[n]=e[n]);return r})(t,["isOpen","metricsProperties","metadataItemEntityID","onRecordingModify","onModalClose"]);return n.createElement(Il.Z,{isOpen:r,metricsPage:i.go,metricsProperties:a,onModalClose:s},n.createElement(sf,((e,t)=>{for(var r in t||(t={}))df.call(t,r)&&pf(e,r,t[r]);if(uf)for(var r of uf(t))mf.call(t,r)&&pf(e,r,t[r]);return e})({metadataItemEntityID:l,onModalClose:s,onRecordingModify:o},c)))};var hf=r(27271);const vf=function({error:e,onPress:t}){return n.createElement(hf.Z,{className:"CalendarErrorButton-errorButton-38fNDz",component:pl.Z,tooltip:e,tooltipAttachment:ol.eO,tooltipClassName:"CalendarErrorButton-errorTooltip-2a3zCC Tooltip-bottomCenter-XGNe9E Tooltip-tooltip-3mpwtQ Tooltip-tooltipArrow-2SOf0S Tooltip-tooltipTopArrow-3fp6qd Tooltip-tooltipCenterAlignArrow-1EoXo6",onPress:t},n.createElement($v.Z,{"aria-label":e}))},ff={context:Us.AGENDA};class bf extends n.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isAiringDetailsModalOpen:!0})},this.onConflictIconPress=e=>{this.setState({isConflictsModalOpen:!0})},this.onRecordingModify=()=>{this.setState({isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!0})},this.onAiringDetailsModalClose=()=>{this.setState({isAiringDetailsModalOpen:!1})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1,isConflictsModalOpen:!1})},this.state={isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!1,isConflictsModalOpen:!1}}shouldComponentUpdate(e,t){return(0,Em.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:r,metadataItemEntityID:i,prePlayRoute:a,type:l,title:o,grandparentTitle:s,index:c,parentIndex:d,originallyAvailableAt:u,error:m,mediaItem:p,isRecording:y,isPostProcessing:h,recordingProgress:v,isComplete:f,hasError:b,hasSubscription:E,hasConflicts:g,showPlay:P,showDate:I,timeFormat:Z,onPlayPress:w}=this.props,{isAiringDetailsModalOpen:D,isSubscribeModalOpen:S,isConflictsModalOpen:O}=this.state,{beginsAt:T,endsAt:M,startOffsetSeconds:N=0,endOffsetSeconds:k=0,premiere:R}=p,A=(0,Mm.Z)(T),x=(0,Mc.Z)(T-N,M+k,{timeFormat:Z}),L=(0,du.Z)(T);let j;j=(0,Gv.Z)(T)?(0,C.Z)("Yesterday"):L?(0,C.Z)("Today"):(0,C.Z)("{dayOfWeek}, {monthNumber} {dayNumber}",{dayOfWeek:(0,Sm.Z)(T,{abbreviate:!0}),monthNumber:(0,Fv.Z)(T,{abbreviate:!0}),dayNumber:(0,jv.Z)(A)});const F=s||o,G=function(e,t,r,n,i,a){return"episode"!==e?r:`${t} - ${(0,Hv.Z)({seasonIndex:n,episodeIndex:i,date:a})} - ${r}`}(l,s,o,d,c,u);return n.createElement("div",{className:vi()("AgendaEvent-event-2R1JeU",f&&"AgendaEvent-isComplete-1Uhqkq",b&&"AgendaEvent-hasError-3XXxcN")},n.createElement(pl.Z,{className:"AgendaEvent-underlay-2Mbwmn",to:a,onPress:a?void 0:this.onLinkPress}),n.createElement("div",{className:"AgendaEvent-overlay-2JXztN"},n.createElement("div",{className:vi()("AgendaEvent-date-gkYzTp",L&&"AgendaEvent-isToday-1eYC5D")},I?j:null),n.createElement("div",{className:"AgendaEvent-time-3221rQ"},x),n.createElement("div",{className:"AgendaEvent-title-3_QGaU",title:G},R?n.createElement(Ld,null):null,F,n.createElement("div",{className:"AgendaEvent-titleDetails-2BZrnu"},"movie"===l?n.createElement(Fc.Z,{metadataItemEntityID:i}):null,"episode"===l?n.createElement(Lc.Z,{metadataItemEntityID:i}):null)),n.createElement("div",{className:"AgendaEvent-status-SvHW68"},!y||h||b?null:n.createElement("div",{className:"AgendaEvent-recording-3yCyey"},n.createElement(Vv.Z,{backgroundClassName:"AgendaEvent-recordingProgressBackground-16ak1G CircularProgressBar-circularProgressBarBackground-3kQp4k CircularProgressBar-circularProgressBarBackground-vbk6kx",lineWidth:2,progress:v,showProgressText:!1,size:24}),n.createElement("span",{className:"AgendaEvent-recordingIcon-2BfxPy"})),y&&h&&!b?n.createElement(Uv.Z,null):null,P?n.createElement(Wc.Z,{title:o,onPress:w}):null,b?n.createElement(vf,{error:m,onPress:g?this.onConflictIconPress:this.onLinkPress}):null)),E?n.createElement(yf,{error:m,hasError:b,hasSubscription:E,isComplete:f,isOpen:D,isRecording:y,mediaItem:p,metadataItemEntityID:i,metricsProperties:ff,providerEntityID:t,recordingProgress:v,serverEntityID:e,onModalClose:this.onAiringDetailsModalClose,onRecordingModify:this.onRecordingModify}):null,E?n.createElement(Ys.Z,{isOpen:S||O,isRecordingSchedule:!0,mediaSubscriptionEntityID:r,metadataItemEntityID:i,metricsProperties:ff,providerEntityID:t,serverEntityID:e,showConflicts:O,subscriptionType:l,onModalClose:this.onSubscribeModalClose}):null)}}const Ef=bf,gf=(0,s.$j)((function(){return(0,$.P1)((e=>e.ui.recordingSchedulePage.calendar),(e=>({events:e.scheduled})))}))((function({serverEntityID:e,events:t}){return n.createElement("div",null,t.map(((r,i)=>{const a=(0,Mm.Z)(r.beginsAt),l=0===i||!(0,Dm.Z)((0,Mm.Z)(t[i-1].beginsAt),a),o=(0,h.Z)(E.PK,r.mediaSubscriptionID,e);return n.createElement(Lv,{key:i,component:Ef,error:r.error,eventID:r.metadataItem.key,hasConflicts:!(!r.conflicts||!r.conflicts.length),linkedKey:r.linkedKey,mediaItem:r.mediaItem,mediaSubscriptionEntityID:o,mediaSubscriptionID:r.mediaSubscriptionID,metadataItemEntityID:r.metadataItem,providerID:r.identifier||r.provider,serverEntityID:e,showDate:l,status:r.status})})))}));function Pf(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=(0,Dd.Z)(e,t),n=r.getFullYear();return n}function If(e){const t=(0,Mm.Z)(e);return(0,C.Z)("{month} {dayNumber}, {year}",{month:(0,Fv.Z)(e),dayNumber:(0,jv.Z)(t),year:Pf(t)})}const Zf=function({startTime:e,endTime:t}){const r=(0,Mm.Z)(e),i=(0,Mm.Z)(t),a=(0,Dm.Z)(r,i)?If(e):`${function(e){const t=(0,Mm.Z)(e);return(0,C.Z)("{month} {dayNumber}",{month:(0,Fv.Z)(e),dayNumber:(0,jv.Z)(t)})}(e)} – ${If(t)}`;return n.createElement("span",{className:"CalendarHeaderTitle-title-3efSbh"},a)};var wf=Object.defineProperty,Cf=Object.prototype.hasOwnProperty,Df=Object.getOwnPropertySymbols,Sf=Object.prototype.propertyIsEnumerable,Of=(e,t,r)=>t in e?wf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Tf=(0,s.$j)((function(){return(0,$.P1)((e=>e.ui.recordingSchedulePage),(e=>{const{firstEvent:t,lastEvent:r}=e.calendar;return{startTime:t?t.beginsAt:void 0,endTime:r?r.beginsAt:void 0}}))}))((function(e){return n.createElement("div",{className:"AgendaHeader-agendaHeader-8ie7Nj"},n.createElement(Zf,((e,t)=>{for(var r in t||(t={}))Cf.call(t,r)&&Of(e,r,t[r]);if(Df)for(var r of Df(t))Sf.call(t,r)&&Of(e,r,t[r]);return e})({},e)))})),Mf=(0,s.$j)((function(){return(0,$.P1)((e=>e.ui.recordingSchedulePage),(e=>{const{mediaSubscriptions:t,calendar:r,isCalendarPopulated:n,calendarError:i}=e;return{showError:!n&&!!i,isEmpty:!r.scheduled.length,subscriptionCount:t.length}}))}))((function(e){const{serverEntityID:t,showError:r,isEmpty:i,subscriptionCount:a}=e;return r?n.createElement(gp.Z,{title:(0,C.Z)("There was an error loading the agenda")}):i?n.createElement(Cv,{subscriptionCount:a}):n.createElement("div",null,n.createElement(Tf,null),n.createElement(gf,{serverEntityID:t}))})),Nf={context:Us.CALENDAR};class kf extends n.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isAiringDetailsModalOpen:!0})},this.onConflictIconPress=e=>{this.setState({isConflictsModalOpen:!0})},this.onRecordingModify=()=>{this.setState({isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!0})},this.onAiringDetailsModalClose=()=>{this.setState({isAiringDetailsModalOpen:!1})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1,isConflictsModalOpen:!1})},this.state={isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!1,isConflictsModalOpen:!1}}shouldComponentUpdate(e,t){return(0,Em.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:r,metadataItemEntityID:i,prePlayRoute:a,type:l,grandparentTitle:o,title:s,error:c,mediaItem:d,isRecording:u,isPostProcessing:m,recordingProgress:p,isComplete:y,hasError:h,hasSubscription:v,hasConflicts:f,showPlay:b,timeFormat:E,onPlayPress:g}=this.props,{isAiringDetailsModalOpen:P,isSubscribeModalOpen:I,isConflictsModalOpen:Z}=this.state,{beginsAt:w,endsAt:C,startOffsetSeconds:D=0,endOffsetSeconds:S=0,premiere:O}=d,T=(0,Mc.Z)(w-D,C+S,{includeMinuteZero:!1,timeFormat:E}),M=o||s;return n.createElement("div",{className:vi()("CalendarEvent-event-ZMMHQe",y&&"CalendarEvent-isComplete-3jBw4v",h&&"CalendarEvent-hasError-1OZTU7")},n.createElement(pl.Z,{className:"CalendarEvent-underlay-WpmoPY",to:a,onPress:a?void 0:this.onLinkPress}),n.createElement("div",{className:"CalendarEvent-overlay-3MQeEX"},n.createElement("div",{className:"CalendarEvent-title-1tmtid",title:M},M),n.createElement("div",{className:"CalendarEvent-secondaryInfo-2_IjqI"},n.createElement("div",{className:"CalendarEvent-time-3d-zIb"},T),O?n.createElement(Ld,null):null),n.createElement("div",{className:"CalendarEvent-status-owGOZK"},!u||m||h?null:n.createElement("div",{className:"CalendarEvent-recording-37oeHu"},n.createElement(Vv.Z,{backgroundClassName:"CalendarEvent-recordingProgressBackground-3QHO9w CircularProgressBar-circularProgressBarBackground-3kQp4k CircularProgressBar-circularProgressBarBackground-vbk6kx",lineWidth:2,progress:p,showProgressText:!1,size:24}),n.createElement("span",{className:"CalendarEvent-recordingIcon-1Zl1eJ"})),u&&m&&!h?n.createElement(Uv.Z,null):null,b?n.createElement(Wc.Z,{title:s,onPress:g}):null,h?n.createElement(vf,{error:c,onPress:f?this.onConflictIconPress:this.onLinkPress}):null)),v?n.createElement(yf,{error:c,hasError:h,isComplete:y,isOpen:P,isRecording:u,mediaItem:d,metadataItemEntityID:i,metricsProperties:Nf,providerEntityID:t,recordingProgress:p,serverEntityID:e,onModalClose:this.onAiringDetailsModalClose,onRecordingModify:this.onRecordingModify}):null,v?n.createElement(Ys.Z,{isOpen:I||Z,isRecordingSchedule:!0,mediaSubscriptionEntityID:r,metadataItemEntityID:i,metricsProperties:Nf,providerEntityID:t,serverEntityID:e,showConflicts:Z,subscriptionType:l,onModalClose:this.onSubscribeModalClose}):null)}}const Rf=kf;var Af=Object.defineProperty,xf=Object.prototype.hasOwnProperty,Lf=Object.getOwnPropertySymbols,jf=Object.prototype.propertyIsEnumerable,Ff=(e,t,r)=>t in e?Af(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Gf=(0,s.$j)((function(){return(0,$.P1)((e=>e.ui.recordingSchedulePage.calendar),((e,{date:t})=>t),((e,t)=>({events:e.scheduled.filter((({beginsAt:e})=>(0,Dm.Z)((0,Mm.Z)(e),(0,Mm.Z)(t))))})))}))((function({serverEntityID:e,events:t}){return n.createElement("div",null,t.map(((t,r)=>{const i=(0,h.Z)(E.PK,t.mediaSubscriptionID,e);return n.createElement(Lv,{key:r,component:Rf,error:t.error,eventID:t.metadataItem.key,hasConflicts:!(!t.conflicts||!t.conflicts.length),linkedKey:t.linkedKey,mediaItem:t.mediaItem,mediaSubscriptionEntityID:i,mediaSubscriptionID:t.mediaSubscriptionID,metadataItemEntityID:t.metadataItem,providerID:t.identifier||t.provider,serverEntityID:e,status:t.status})})))}));Gf.propTypes=((e,t)=>{for(var r in t||(t={}))xf.call(t,r)&&Ff(e,r,t[r]);if(Lf)for(var r of Lf(t))jf.call(t,r)&&Ff(e,r,t[r]);return e})({date:ta().number.isRequired},Gf.propTypes);const Hf=Gf,Uf=function({serverEntityID:e,date:t}){return n.createElement("div",{className:"CalendarDay-day-2hkXjC"},n.createElement(Hf,{date:t,serverEntityID:e}))};var Vf=Object.defineProperty,Bf=Object.prototype.hasOwnProperty,Kf=Object.getOwnPropertySymbols,zf=Object.prototype.propertyIsEnumerable,Wf=(e,t,r)=>t in e?Vf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const _f=(0,s.$j)((function(){return(0,$.P1)((e=>e.ui.recordingSchedulePage),(e=>({days:e.calendar.days})))}))((function(e){var t=e,{days:r}=t,i=((e,t)=>{var r={};for(var n in e)Bf.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Kf)for(var n of Kf(e))t.indexOf(n)<0&&zf.call(e,n)&&(r[n]=e[n]);return r})(t,["days"]);return n.createElement("div",{className:"CalendarDays-calendarDays-3Tc6ET"},r.map((e=>n.createElement(Uf,((e,t)=>{for(var r in t||(t={}))Bf.call(t,r)&&Wf(e,r,t[r]);if(Kf)for(var r of Kf(t))zf.call(t,r)&&Wf(e,r,t[r]);return e})({key:e,date:e},i)))))}));var qf=r(78966);const $f=function({date:e}){const t=(0,du.Z)(e);let r;if((0,Gv.Z)(e))r=(0,C.Z)("Yesterday");else if(t)r=(0,C.Z)("Today");else{const t=(0,Mm.Z)(e);r=(0,C.Z)("{dayOfWeek} {monthNumber}/{dayNumber}",{dayOfWeek:(0,Sm.Z)(e,{abbreviate:!0}),monthNumber:(0,qf.Z)(t)+1,dayNumber:(0,jv.Z)(t)})}return n.createElement("div",{className:vi()("CalendarDayOfWeek-dayOfWeek-C1FDuU",t&&"CalendarDayOfWeek-isToday-fW6GmQ"),title:r},r)};var Qf=Object.defineProperty,Yf=Object.prototype.hasOwnProperty,Xf=Object.getOwnPropertySymbols,Jf=Object.prototype.propertyIsEnumerable,eb=(e,t,r)=>t in e?Qf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const tb=(0,s.$j)((function(){return(0,$.P1)((e=>e.ui.recordingSchedulePage.calendar),(e=>({daysOfWeek:e.daysOfWeek})))}))((function(e){var t=e,{daysOfWeek:r}=t,i=((e,t)=>{var r={};for(var n in e)Yf.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Xf)for(var n of Xf(e))t.indexOf(n)<0&&Jf.call(e,n)&&(r[n]=e[n]);return r})(t,["daysOfWeek"]);return n.createElement("div",{className:"CalendarDaysOfWeek-container-3kJ2a4"},r.map((e=>n.createElement($f,((e,t)=>{for(var r in t||(t={}))Yf.call(t,r)&&eb(e,r,t[r]);if(Xf)for(var r of Xf(t))Jf.call(t,r)&&eb(e,r,t[r]);return e})({key:e,date:e},i)))))})),rb="CalendarHeader-calendarHeader-3BDGm7",nb="CalendarHeader-calendarNav-29m-J0 Link-link-3cHWtJ",ib="CalendarHeader-calendarNavDisabled-3FtY_F";var ab=Object.defineProperty,lb=Object.prototype.hasOwnProperty,ob=Object.getOwnPropertySymbols,sb=Object.prototype.propertyIsEnumerable,cb=(e,t,r)=>t in e?ab(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const db=function(e){const{hasPastEvents:t,hasFutureEvents:r,onGoToPreviousRangePress:i,onGoToNextRangePress:a}=e;return n.createElement("div",{className:rb},n.createElement("div",{className:rb},n.createElement(pl.Z,{className:vi()(nb,!t&&ib),isDisabled:!t,kind:Fe.TP,size:Wl.M2,onPress:i},n.createElement(K.ed9,{"aria-label":(0,C.Z)("Previous Page")})),n.createElement(Zf,((e,t)=>{for(var r in t||(t={}))lb.call(t,r)&&cb(e,r,t[r]);if(ob)for(var r of ob(t))sb.call(t,r)&&cb(e,r,t[r]);return e})({},e)),n.createElement(pl.Z,{className:vi()(nb,!r&&ib),isDisabled:!r,kind:Fe.TP,size:Wl.M2,onPress:a},n.createElement(K.VG8,{"aria-label":(0,C.Z)("Next Page")}))))};var ub=Object.defineProperty,mb=Object.prototype.hasOwnProperty,pb=Object.getOwnPropertySymbols,yb=Object.prototype.propertyIsEnumerable,hb=(e,t,r)=>t in e?ub(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vb=(e,t)=>{for(var r in t||(t={}))mb.call(t,r)&&hb(e,r,t[r]);if(pb)for(var r of pb(t))yb.call(t,r)&&hb(e,r,t[r]);return e};const fb=(0,s.$j)((function(){return(0,$.P1)((e=>e.ui.recordingSchedulePage),(e=>{const t=nc().pick(e.calendar,"time","startTime","endTime","hasPastEvents","hasFutureEvents");return vb({},t)}))}))((function(e){return n.createElement(db,vb({},e))}));class bb extends n.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e})=>{const t=this.state.visibleDays,r=Math.min(Math.floor(e/120),7);r!==t&&this.props.onVisibleDaysChange(r),this.setState({width:e,visibleDays:r})},this.state={width:null,visibleDays:0}}render(){const{serverEntityID:e,showError:t,isEmpty:r,subscriptionCount:i,visibleDays:a,onGoToPreviousRangePress:l,onGoToNextRangePress:o}=this.props;return t?n.createElement(gp.Z,{title:(0,C.Z)("There was an error loading the calendar")}):r?n.createElement(Cv,{subscriptionCount:i}):n.createElement(qs.Z,{className:"Calendar-calendar-1l3WZQ",ignoreHeight:!0,onMeasure:this.onMeasure},a===this.state.visibleDays?n.createElement("div",null,n.createElement(fb,{onGoToNextRangePress:o,onGoToPreviousRangePress:l}),n.createElement(tb,null),n.createElement(_f,{serverEntityID:e})):null)}}const Eb=bb;var gb=Object.defineProperty,Pb=Object.prototype.hasOwnProperty,Ib=Object.getOwnPropertySymbols,Zb=Object.prototype.propertyIsEnumerable,wb=(e,t,r)=>t in e?gb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class Cb extends n.Component{constructor(){super(...arguments),this.onVisibleDaysChange=e=>{(0,v.c9)((()=>{this.props.setVisibleDays({visibleDays:e})}))},this.onGoToPreviousRangePress=()=>{this.props.goToPreviousRange()},this.onGoToNextRangePress=()=>{this.props.goToNextRange()}}render(){return n.createElement(Eb,((e,t)=>{for(var r in t||(t={}))Pb.call(t,r)&&wb(e,r,t[r]);if(Ib)for(var r of Ib(t))Zb.call(t,r)&&wb(e,r,t[r]);return e})({onGoToNextRangePress:this.onGoToNextRangePress,onGoToPreviousRangePress:this.onGoToPreviousRangePress,onVisibleDaysChange:this.onVisibleDaysChange},this.props))}}const Db=(0,s.$j)((function(){return(0,$.P1)((e=>e.ui.recordingSchedulePage),(e=>{const{mediaSubscriptions:t,calendar:r,isCalendarPopulated:n,calendarError:i}=e;return{showError:!n&&!!i,isEmpty:!r.scheduled.length,subscriptionCount:t.length,visibleDays:r.visibleDays}}))}),ph)(Cb);var Sb=r(77854);const Ob=(0,s.$j)((function(){return(0,$.P1)(((e,{sourceDirectory:t})=>t),(0,Vu.Z)(),(0,Uu.Z)(),((e,t,r)=>({guideRoute:(0,Lu.ZP)(Lu.tk.GUIDE,t,r,e)})))}))((function(e){const{serverEntityID:t,showSpinner:r,showEmptyState:i,programGuideIdentifier:a,selectedViewType:l,guideRoute:o}=e;return r?n.createElement(gh.Z,null,n.createElement(mp.Z,null,n.createElement(lm.Z,null))):i&&a?n.createElement(gh.Z,null,n.createElement(mp.Z,{description:n.createElement(Eh.Z,{message:(0,C.Z)("Check out the {openLink}Guide{closeLink} to browse available programming"),tags:[{open:"openLink",close:"closeLink",component:pl.Z,kind:Fe._8,to:o}]}),iconComponent:K.Z7$,title:(0,C.Z)("You have no recordings scheduled")})):i&&!a?n.createElement(gh.Z,null,n.createElement(mp.Z,{description:(0,C.Z)("You need a DVR before you can schedule recordings"),iconComponent:K.Z7$,title:(0,C.Z)("You have no recordings scheduled")})):n.createElement("div",{className:"RecordingSchedulePageContent-schedulePageContent-1gNGa4 PageContent-pageContent-B-tWZn"},n.createElement(gh.Z,{innerClassName:"RecordingSchedulePageContent-schedulePageInnerContent-XYIB65 PageContent-innerPageContent-pPKWzL"},l===Sb.XN?n.createElement(Db,{serverEntityID:t}):null,l===Sb.JF?n.createElement(Mf,{serverEntityID:t}):null),n.createElement(wv,{guideRoute:o,providerID:a,serverEntityID:t}))}));function Tb(e){return e===Sb.JF?(0,C.Z)("Agenda View"):(0,C.Z)("Calendar View")}class Mb extends n.Component{constructor(e,t){super(e,t),this.onViewsMenuButtonPress=e=>{this.setState({isViewsMenuOpen:!this.state.isViewsMenuOpen})},this.onViewsMenuClose=()=>{this.setState({isViewsMenuOpen:!1})},this.state={isViewsMenuOpen:!1},this._viewsMenuButtonID=(0,vn.Z)()}shouldComponentUpdate(e,t){return(0,Em.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:r,selectedViewType:i,showEPGActivity:a}=this.props,{isViewsMenuOpen:l}=this.state;return n.createElement(n.Fragment,null,n.createElement(gs.Z,null,n.createElement(im.Z,{providerEntityID:t,serverEntityID:e,sourceDirectory:r}),n.createElement(nm,{directoryKey:Lu.tk.RECORDING_SCHEDULE,providerEntityID:t,serverEntityID:e,sourceDirectory:r}),n.createElement(Hu.Z,null)),n.createElement(Po.Z,null,n.createElement(Zo.Z,null,n.createElement(xu.Z,{hasMenu:!0,id:this._viewsMenuButtonID,isMenuOpen:l,onPress:this.onViewsMenuButtonPress},Tb(i)),n.createElement(Ar.Z,{isOpen:l,target:this._viewsMenuButtonID,onMenuClose:this.onViewsMenuClose},Sb.$6.map((e=>n.createElement(Wr.Z,{key:e,isSelected:i===e,to:Ie({view:e}),onPress:this.onViewsMenuClose},Tb(e)))))),a?n.createElement(Io.Z,null,n.createElement(om,{providerEntityID:t,serverEntityID:e})):null))}}const Nb=Mb,kb=(0,s.$j)((function(){return(0,$.P1)((0,am.Z)(),(e=>({showEPGActivity:!!e})))}))(Nb);var Rb=Object.defineProperty,Ab=Object.prototype.hasOwnProperty,xb=Object.getOwnPropertySymbols,Lb=Object.prototype.propertyIsEnumerable,jb=(e,t,r)=>t in e?Rb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class Fb extends n.Component{shouldComponentUpdate(e,t){return(0,Em.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:r,selectedViewType:a}=this.props;return n.createElement(Bs.Z,{metricsContext:(0,Ks.Z)(i.WT,Us.DVR_SCHEDULE_PIVOT)},n.createElement(_s.Z,{metricsPage:i.WT,metricsProperties:{pane:a},scrollDirection:zl.Hn},n.createElement(kb,{providerEntityID:t,selectedViewType:a,serverEntityID:e,sourceDirectory:r}),n.createElement(Ve,{providerEntityID:t,serverEntityID:e}),n.createElement(Ob,((e,t)=>{for(var r in t||(t={}))Ab.call(t,r)&&jb(e,r,t[r]);if(xb)for(var r of xb(t))Lb.call(t,r)&&jb(e,r,t[r]);return e})({},this.props))))}}const Gb=Fb,Hb={initRecordingSchedulePage:ph.initRecordingSchedulePage,clearRecordingSchedulePage:ph.clearRecordingSchedulePage,goToToday:ph.goToToday,fetchCalendar:ph.fetchCalendar,fetchMediaSubscriptions:ph.fetchMediaSubscriptions,saveExperienceSettings:Rr.LN,changeQuickSearchSettings:b.changeQuickSearchSettings};class Ub extends n.Component{constructor(e,t){super(e,t),this._updateCalendar=()=>{this.props.goToToday(),this.props.fetchCalendar(),this._resetUpdateTimeout()},this._updateTimeoutID=null}UNSAFE_componentWillMount(){this._populate(),this._resetUpdateTimeout(),this._saveViewType(),this.props.providerIdentifier&&this._setSearchProviderIdentifier(this.props.providerIdentifier)}UNSAFE_componentWillReceiveProps(e){const{serverEntityID:t,time:r,selectedViewType:n}=e;t!==this.props.serverEntityID&&this._populate(e),this._updateTimeoutID&&r!==this.props.time&&this._resetUpdateTimeout(),n!==this.props.selectedViewType&&this._saveViewType(e)}componentDidUpdate(e){const{providerIdentifier:t}=this.props;t&&t!==e.providerIdentifier&&this._setSearchProviderIdentifier(t)}componentWillUnmount(){this._updateTimeoutID&&window.clearTimeout(this._updateTimeoutID),this.props.clearRecordingSchedulePage(),this._setSearchProviderIdentifier(null)}_populate(e=this.props){(0,v.c9)((()=>{e.initRecordingSchedulePage({serverEntityID:e.serverEntityID}),e.fetchCalendar(),e.fetchMediaSubscriptions()}))}_setSearchProviderIdentifier(e){const{changeQuickSearchSettings:t,serverEntityID:r,providerEntityID:n,sourceDirectory:i}=this.props;let a;i&&(a=i.id),t({serverEntityID:r,providerEntityID:n,providerIdentifier:e,directoryID:a})}_resetUpdateTimeout(){this._updateTimeoutID&&window.clearTimeout(this._updateTimeoutID),this._updateTimeoutID=window.setTimeout(this._updateCalendar,36e5)}_saveViewType(e=this.props){e.saveExperienceSettings({calendarViewType:e.selectedViewType})}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:r,selectedViewType:i,showSpinner:a,showEmptyState:l,programGuideIdentifier:o}=this.props;return this.props.isPagePopulated?n.createElement(Gb,{programGuideIdentifier:o,providerEntityID:t,selectedViewType:i,serverEntityID:e,showEmptyState:l,showSpinner:a,sourceDirectory:r}):null}}const Vb=(0,s.$j)((function(){return(0,$.P1)((e=>e.ui.recordingSchedulePage),((e,{selectedViewType:t})=>t),(0,Uu.Z)(),lp(),(0,$.P1)(vh.Z,function(e,t=fh){return(0,yh.Z)(function(e,t){return(0,$.P1)(vh.Z,hh(),((r,n)=>n?n.reduce(((n,i)=>{const a=r[i];return a&&t(a)&&nc().findWhere(a.features,{type:e})&&n.push(i),n}),[]):[]))}(e,t),(e=>e))}(Ip.Z.SUBSCRIBE),((e,t)=>{const r=t[0];if(r){const t=e[r];return t&&t.identifier}})),bh.Z,((e,t,r,n,i,a)=>{const{isPagePopulated:l,isCalendarPopulated:o,calendarError:s,isMediaSubscriptionsPopulated:c,mediaSubscriptionsError:d,calendar:u}=e,m=!o&&!s||!c&&!d,p=!m&&c&&!e.mediaSubscriptions.length&&o&&!u.scheduled.length;return{sourceDirectory:n,providerIdentifier:r.identifier,isPagePopulated:l,showSpinner:m,showEmptyState:p,programGuideIdentifier:i,time:u?u.time:void 0,selectedViewType:t||a.calendarViewType}}))}),Hb)(Ub);var Bb=r(89028),Kb=r(53181),zb=r(22699),Wb=r(716),_b=Object.defineProperty,qb=Object.prototype.hasOwnProperty,$b=Object.getOwnPropertySymbols,Qb=Object.prototype.propertyIsEnumerable,Yb=(e,t,r)=>t in e?_b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Xb=function(e){const t=e,{serverEntityID:r,providerEntityID:i,pivot:a,sourceDirectory:l,directoryKey:o,showSecondHeader:s,children:c}=t,d=((e,t)=>{var r={};for(var n in e)qb.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&$b)for(var n of $b(e))t.indexOf(n)<0&&Qb.call(e,n)&&(r[n]=e[n]);return r})(t,["serverEntityID","providerEntityID","pivot","sourceDirectory","directoryKey","showSecondHeader","children"]);return n.createElement(zb.Z,((e,t)=>{for(var r in t||(t={}))qb.call(t,r)&&Yb(e,r,t[r]);if($b)for(var r of $b(t))Qb.call(t,r)&&Yb(e,r,t[r]);return e})({className:Wb.Z.page},d),n.createElement(gs.Z,null,n.createElement(im.Z,{providerEntityID:i,serverEntityID:r,sourceDirectory:l}),a?n.createElement(nm,{directoryKey:o,providerEntityID:i,serverEntityID:r,sourceDirectory:l}):null,n.createElement(Hu.Z,null)),s?n.createElement(Po.Z,null):null,n.createElement(gh.Z,null,c))};var Jb=r(63233);function eE({items:e,gap:t=0,existingItems:r=[]}){const n=nc().sortBy(r,"position"),i=nc().sortBy(e,"position");let a=-1/0;return i.forEach((e=>{const i=nc().sortedIndex(r,e,"position"),l=r[i-1],o=r[i],s=e.position>a+t,c=!l||e.position>l.position+t,d=!o||e.position<o.position-t;s&&c&&d&&(n.push(e),a=e.position)})),nc().sortBy(n,"position")}const tE="minor",rE="major",nE={container:"TickMarks-container-19nFXT",ticks:"TickMarks-ticks-16UEKH",tick:"TickMarks-tick-2uVcM8",minor:"TickMarks-minor-2o5ifl TickMarks-tick-2uVcM8",major:"TickMarks-major-2GvU2q TickMarks-tick-2uVcM8",label:"TickMarks-label-3Go_Ju"};function iE(e){const{ticks:t,pixelProportion:r,majorTickGap:n,minorTickGap:i}=e,a=nc().where(t,{type:rE}),l=nc().where(t,{type:tE}),o=eE({items:a,gap:r*n});return eE({items:l,existingItems:o,gap:r*i})}class aE extends n.Component{constructor(e,t){super(e,t),this.state={ticks:iE(e)}}UNSAFE_componentWillReceiveProps(e){const{ticks:t,pixelProportion:r,majorTickGap:n,minorTickGap:i}=e,a=this.props.ticks!==t,l=this.props.pixelProportion!==r,o=this.props.majorTickGap!==n,s=this.props.minorTickGap!==i;(a||l||o||s)&&this.setState({ticks:iE(e)})}render(){return n.createElement("div",{className:nE.container},n.createElement("div",{className:nE.ticks},this.state.ticks.map((({type:e,position:t,label:r})=>n.createElement("div",{key:t,className:nE[e],style:{top:100*t+"%"}},r&&"major"===e?n.createElement("div",{className:nE.label},r):null)))))}}aE.defaultProps={majorTickGap:20,minorTickGap:5};const lE=aE;var oE=r(50362),sE=r(27911),cE=r(55175),dE=r(98313),uE=r(24935),mE=r(41523),pE=r(32453),yE=r(62050),hE=r(3414),vE=r(66567);const fE=function(e){const t=(0,vc.Z)(e);return n.createElement("div",{style:t.style},e.children)};class bE extends n.Component{constructor(e,t){super(e,t),this.onSelectPress=()=>{const{isSelected:e,items:t,onSelectItems:r,onDeselectItems:n}=this.props;e?n(t):r(t)},this.state={layout:this._createLayout(e),cellRenderer:this._createCellRenderer(e)}}UNSAFE_componentWillReceiveProps(e){const t=e.aspectRatios!==this.props.aspectRatios,r=e.columns!==this.props.columns,n=e.viewportWidth!==this.props.viewportWidth,i=e.viewportHeight!==this.props.viewportHeight,a=e.serverEntityID!==this.props.serverEntityID,l=e.providerEntityID!==this.props.providerEntityID,o=e.metadataListEntityID!==this.props.metadataListEntityID,s=t||r||i||n,c=a||l||o;if(s||c){const t={};s&&(t.layout=this._createLayout(e)),c&&(t.cellRenderer=this._createCellRenderer(e)),this.setState(t)}}_createLayout(e){const t=(0,hE.Z)({aspectRatios:e.aspectRatios,columns:e.columns});return(0,yE.Z)({columns:e.columns,rows:t,maximumHeight:e.cellHeight-(e.footerHeight+e.headerHeight)})}_createCellRenderer(e){const{serverEntityID:t,providerEntityID:r,metadataListEntityID:n,containerKey:i,listType:a}=e;return(0,vE.Z)({serverEntityID:t,providerEntityID:r,metadataListEntityID:n,containerKey:i,listType:a},pE.Z)}render(){const{cellIndex:e,cellX:t,cellY:r,cellWidth:i,cellHeight:a,isVirtual:l,title:o,items:s,size:c,viewportHeight:d,scrollTop:u,isSelected:m,hasSelection:p}=this.props,{layout:y,cellRenderer:h}=this.state;return n.createElement(fE,{cellHeight:a,cellIndex:e,cellWidth:i,cellX:t,cellY:r,isVirtual:l},n.createElement("div",{className:vi()(p&&"MetadataMomentCell-hasSelection-2ydlRR","MetadataMomentCell-header-2xcRkS")},n.createElement("div",{className:"MetadataMomentCell-actions-f9gmv5"},n.createElement(mE.Z,{className:"MetadataMomentCell-selectButton-36evse SelectButton-selectButton-Ax1DZ1",isSelected:m,title:o,onPress:this.onSelectPress})),n.createElement("div",{className:"MetadataMomentCell-title-jcCGaI"},o)),n.createElement(uE.Z,{cellRenderer:h,items:s,keyPropName:"metadataItemEntityID",layout:y,scrollTop:u-r,size:c,viewportHeight:d,viewportWidth:i}))}}bE.defaultProps={headerHeight:0,footerHeight:0};const EE=bE;function gE(){return(0,$.P1)(((e,{start:t})=>t),((e,{end:t})=>t),(0,up.Z)(),((e,t,r)=>{const{populatedRange:n,metadataItems:i}=r;return e<n.start||t>n.end?nc().times(t-e,(()=>null)):i.slice(e-n.start,t-n.start)}))}function PE(){return(0,$.P1)(gE(),oE.Z,((e,t)=>e.map((e=>t[e]))))}const IE=(0,s.$j)((function(){return(0,$.P1)((0,up.Z)(),gE(),(0,$.P1)(((e,{avgAR:t})=>t),PE(),((e,t)=>t.map((t=>t?(0,sE.Z)(t,e):e)))),(0,$.P1)(PE(),cE.Z,((e,t)=>e.every((e=>e&&(0,dE.Z)(t,e.ratingKey))))),Kb.Z,((e,t,r,n,i)=>({containerKey:e.containerKey,listType:"photo",aspectRatios:r,items:t,isSelected:n,hasSelection:i.activeSelectionItems.length>0})))}),(function(e,t){return{onSelectItems(t){e((0,sl.Kn)({type:Ac.PHOTO,ids:t}))},onDeselectItems(t){e((0,sl.XX)({ids:t}))}}}))(EE);var ZE=Object.defineProperty,wE=Object.prototype.hasOwnProperty,CE=Object.getOwnPropertySymbols,DE=Object.prototype.propertyIsEnumerable,SE=(e,t,r)=>t in e?ZE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var OE=Object.defineProperty,TE=Object.prototype.hasOwnProperty,ME=Object.getOwnPropertySymbols,NE=Object.prototype.propertyIsEnumerable,kE=(e,t,r)=>t in e?OE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class RE extends n.Component{constructor(e,t){super(e,t),this.state={layout:this._createLayout(e)}}UNSAFE_componentWillReceiveProps(e){const t=e.items!==this.props.items,r=e.columns!==this.props.columns;(t||r)&&this.setState({layout:this._createLayout(e)})}_createLayout(e){return function(e){const t=e,{columns:r=1,areas:n=[],innerPaddingTop:i=0,innerPaddingBottom:a=0}=t;return lc(((e,t)=>{for(var r in t||(t={}))wE.call(t,r)&&SE(e,r,t[r]);if(CE)for(var r of CE(t))DE.call(t,r)&&SE(e,r,t[r]);return e})({getCellHeights:function(e){return n.map((t=>function(e,t){return Math.max(1,Math.round(e/r))*t+(i+a)}(t,e/r)))}},((e,t)=>{var r={};for(var n in e)wE.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&CE)for(var n of CE(e))t.indexOf(n)<0&&DE.call(e,n)&&(r[n]=e[n]);return r})(t,["columns","areas","innerPaddingTop","innerPaddingBottom"])))}({columns:e.columns,areas:e.items.map((e=>e.area)),innerPaddingTop:e.headerHeight,innerPaddingBottom:e.footerHeight,outerPaddingTop:e.listPadding,outerPaddingRight:e.listPadding-e.listGutter,outerPaddingBottom:e.listPadding,outerPaddingLeft:e.listPadding})}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:r,columns:i,headerHeight:a,footerHeight:l,cellComponent:o}=this.props;return n.createElement(tc.Z,((e,t)=>{for(var r in t||(t={}))TE.call(t,r)&&kE(e,r,t[r]);if(ME)for(var r of ME(t))NE.call(t,r)&&kE(e,r,t[r]);return e})({cellRenderer:(0,vE.Z)({serverEntityID:e,providerEntityID:t,metadataListEntityID:r,columns:i,headerHeight:a,footerHeight:l},o),layout:this.state.layout},this.props))}}const AE=RE;var xE=Object.defineProperty,LE=Object.prototype.hasOwnProperty,jE=Object.getOwnPropertySymbols,FE=Object.prototype.propertyIsEnumerable,GE=(e,t,r)=>t in e?xE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const HE={dispatchPopulateMetadataListRange:sl.vp,dispatchDeselectAllMetadataListItems:sl.m8,dispatchResetMetadataList:sl.wZ};class UE extends n.Component{constructor(){super(...arguments),this.onPageRequest=({startIndex:e,endIndex:t})=>{const{metadataListEntityID:r,disableReloadThreshold:n,items:i,dispatchPopulateMetadataListRange:a}=this.props;a({metadataListEntityID:r,disableReloadThreshold:n,startIndex:i[e].start,endIndex:i[t].end-1,pages:1})}}componentWillUnmount(){const{metadataListEntityID:e}=this.props;this.props.dispatchDeselectAllMetadataListItems({metadataListEntityID:e}),this.props.dispatchResetMetadataList({metadataListEntityID:e})}render(){const e=this.props,{dispatchPopulateMetadataListRange:t,dispatchDeselectAllMetadataListItems:r,dispatchResetMetadataList:i}=e,a=((e,t)=>{var r={};for(var n in e)LE.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&jE)for(var n of jE(e))t.indexOf(n)<0&&FE.call(e,n)&&(r[n]=e[n]);return r})(e,["dispatchPopulateMetadataListRange","dispatchDeselectAllMetadataListItems","dispatchResetMetadataList"]);return n.createElement(AE,((e,t)=>{for(var r in t||(t={}))LE.call(t,r)&&GE(e,r,t[r]);if(jE)for(var r of jE(t))FE.call(t,r)&&GE(e,r,t[r]);return e})({onPageRequest:this.onPageRequest},a))}}const VE=(0,s.$j)((function(){return(0,$.P1)(Kb.Z,(e=>({disableReloadThreshold:!!e.activeSelectionType})))}),HE)(UE),BE=Math.max(0,parseInt(rt.Z.timelineGutter,10)-40);class KE extends n.Component{constructor(e,t){super(e,t),this.onListUpdate=e=>{const t=e.landmarks,r=e.listStyle&&e.listStyle.height;if(t!==this._landmarks){this._landmarks=t;const e=function(e,t){const r={},n={};return e.reduce(((e,{index:i,position:a})=>{const l=(0,bc.Z)(1e3*t[i],"yyyy MM"),o=l.slice(0,4);return r[o]?n[l]||(n[l]=!0,e.push({position:a,type:tE})):(r[o]=!0,n[l]=!0,e.push({position:a,type:rE,label:o})),e}),[])}(t,nc().pluck(this.props.moments,"startsAt"));this.setState({ticks:e,listHeight:r})}},this.state={ticks:null,listHeight:null}}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:r,moments:i,columns:a,height:l,onMomentScrollIndexChange:o}=this.props,{ticks:s,listHeight:c}=this.state,d=1/l,u=c&&c>l;return i.length?n.createElement("div",{className:"TimelinePageContent-container-2xEsJV"},n.createElement(VE,{cellComponent:IE,className:"TimelinePageContent-stack-nqVXMJ PageContent-pageContent-B-tWZn",columns:a,footerHeight:59,hasNestedList:!0,items:i,keyPropName:"id",listGutter:BE,listPadding:55,metadataListEntityID:r,providerEntityID:t,scrollPositionStorageKey:"TimelinePageContent",scrollerClassName:"TimelinePageContent-scroller-p4q0-D",serverEntityID:e,size:i.length,onListScrollIndexChange:o,onListUpdate:this.onListUpdate}),n.createElement("div",{className:"TimelinePageContent-adornment-1y8m-G"},s&&u?n.createElement(lE,{pixelProportion:d,ticks:s}):null)):n.createElement(gh.Z,null,n.createElement(mp.Z,{iconComponent:Jb.Z.photo,title:(0,C.Z)("There are no events in this library")}))}}const zE=KE;var WE=r(48022),_E=r(50948),qE=r(9564),$E=r(57358),QE=r(59756),YE=r(57721),XE=r(2078);const JE={showPlayAll:tg,showShuffle:function({server:e,provider:t,stableUser:r,metadataList:n}){return tg({server:e,provider:t,stableUser:r,metadataList:n})&&!!t.features.playqueue},showQueue:function({server:e,provider:t,stableUser:r,metadataList:n}){return tg({server:e,provider:t,stableUser:r,metadataList:n})},showAddToPlaylist:function({server:e,provider:t,stableUser:r,metadataList:n}){return!(!e.isFullServer||!n.isFirstItemLibraryItem)},showAddToCatalog:function({server:e,provider:t,stableUser:r,metadataList:n}){return!!(t.features.actions&&t.features.actions.addToCatalog&&(0,YE.d)(r,t.features.actions.addToCatalog))},showSync:function({server:e,provider:t,stableUser:r,metadataList:n}){return!!QE.Z.allowSync&&(!r.features[u.PL]&&!!(e.isFullServer&&e.allowSync&&n.isFirstItemLibraryItem&&n.allowSync))},showOptimize:function({server:e,provider:t,stableUser:r,metadataList:n}){return!!(e.isFullOwnedServer&&e.transcoderVideo&&n.isFirstItemLibraryItem)}},eg={mixed:[],movie:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],show:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showAddToCatalog","showSync","showOptimize"],season:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],episode:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],artist:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync"],album:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync"],track:["showPlayAll","showShuffle","showAddToCatalog","showQueue","showAddToPlaylist","showSync"],photoalbum:["showPlayAll","showShuffle","showAddToPlaylist","showSync"],photo:["showPlayAll","showShuffle","showAddToPlaylist","showSync"],clip:["showPlayAll","showShuffle","showAddToPlaylist","showSync","showOptimize"],genre:["showAddToCatalog"]};function tg({server:e,provider:t,stableUser:r,metadataList:n}){return(0,XE.Z)(e,t,r.features,n)}var rg=r(27154),ng=r(32846),ig=r(61478),ag=r(22103);class lg extends n.Component{constructor(e,t){super(e,t),this.onAddToCatalogPress=()=>{this.setState({isAddToCatalogModalOpen:!0})},this.onAddToCatalogClose=()=>{this.setState({isAddToCatalogModalOpen:!1})},this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1}),this.props.onMenuClose()},this.state={isAddToCatalogModalOpen:!1,isAddToPlaylistModalOpen:!1}}createOnPress(e){return()=>{e(),this.props.onMenuClose()}}render(){const e=this.props,{isAddToCatalogModalOpen:t,isAddToPlaylistModalOpen:r}=this.state;return n.createElement("div",null,e.showPlayAll?n.createElement(Un.Z,{onPress:this.createOnPress(e.onPlayAllPress)},(0,C.Z)("Play All")):null,e.showShuffle?n.createElement(Un.Z,{onPress:this.createOnPress(e.onShufflePress)},(0,C.Z)("Shuffle")):null,e.showQueue?n.createElement(Un.Z,{onPress:this.createOnPress(e.onPlayNextPress)},(0,C.Z)("Play Next")):null,e.showQueue?n.createElement(Un.Z,{onPress:this.createOnPress(e.onAddToQueuePress)},(0,C.Z)("Add to Queue")):null,e.showAddToPlaylist?n.createElement(Un.Z,{onPress:this.createOnPress(this.onAddToPlaylistPress)},(0,C.Z)("Add to Playlist...")):null,e.showAddToCatalog?n.createElement(Un.Z,{onPress:this.onAddToCatalogPress},(e.listType,e.listSubtype===ig.PODCAST?(0,C.Z)("Add Podcast by URL"):(0,C.Z)("Add to Catalog by URL"))):null,e.showSync?n.createElement(Un.Z,{onPress:this.createOnPress(e.onSyncPress)},(0,C.Z)("Sync...")):null,e.showOptimize?n.createElement(Un.Z,{onPress:this.createOnPress(e.onOptimizePress)},(0,C.Z)("Optimize...")):null,n.createElement(Al,{isOpen:t,providerEntityID:e.providerEntityID,onModalClose:this.onAddToCatalogClose}),e.showAddToPlaylist?n.createElement(ag.Z,{isOpen:r,metadataListEntityID:e.metadataListEntityID,providerEntityID:e.providerEntityID,serverEntityID:e.serverEntityID,onModalClose:this.onAddToPlaylistClose}):null)}}const og=lg;var sg=Object.defineProperty,cg=Object.prototype.hasOwnProperty,dg=Object.getOwnPropertySymbols,ug=Object.prototype.propertyIsEnumerable,mg=(e,t,r)=>t in e?sg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const pg=function(e){const t=e,{target:r,isOpen:i}=t,a=((e,t)=>{var r={};for(var n in e)cg.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&dg)for(var n of dg(e))t.indexOf(n)<0&&ug.call(e,n)&&(r[n]=e[n]);return r})(t,["target","isOpen"]);return n.createElement(Ar.Z,{isOpen:e.isOpen,target:e.target,onMenuClose:e.onMenuClose},n.createElement(og,((e,t)=>{for(var r in t||(t={}))cg.call(t,r)&&mg(e,r,t[r]);if(dg)for(var r of dg(t))ug.call(t,r)&&mg(e,r,t[r]);return e})({},a)))};var yg=r(32539),hg=r(67633),vg=Object.defineProperty,fg=Object.prototype.hasOwnProperty,bg=Object.getOwnPropertySymbols,Eg=Object.prototype.propertyIsEnumerable,gg=(e,t,r)=>t in e?vg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class Pg extends n.Component{constructor(e,t){super(e,t),this.onButtonPress=()=>{this.setState({isModalOpen:!0})},this.onModalClose=()=>{this.setState({isModalOpen:!1})},this.state={isModalOpen:!1}}render(){const e=this.props,{providerEntityID:t}=e,r=((e,t)=>{var r={};for(var n in e)fg.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&bg)for(var n of bg(e))t.indexOf(n)<0&&Eg.call(e,n)&&(r[n]=e[n]);return r})(e,["providerEntityID"]);return n.createElement(fo.Z,((e,t)=>{for(var r in t||(t={}))fg.call(t,r)&&gg(e,r,t[r]);if(bg)for(var r of bg(t))Eg.call(t,r)&&gg(e,r,t[r]);return e})({"data-testid":"toolbarAddCustomPodcast",tooltip:(0,C.Z)("Add Podcast by URL"),onPress:this.onButtonPress},r),n.createElement(Ll,null),n.createElement(Al,{isOpen:this.state.isModalOpen,providerEntityID:t,onModalClose:this.onModalClose}))}}const Ig=Pg;var Zg=r(49354),wg=r(70007),Cg=r(61525),Dg=r(37723),Sg=r(11353),Og=Object.defineProperty,Tg=Object.prototype.hasOwnProperty,Mg=Object.getOwnPropertySymbols,Ng=Object.prototype.propertyIsEnumerable,kg=(e,t,r)=>t in e?Og(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Rg=(e,t)=>{for(var r in t||(t={}))Tg.call(t,r)&&kg(e,r,t[r]);if(Mg)for(var r of Mg(t))Ng.call(t,r)&&kg(e,r,t[r]);return e};class Ag extends n.Component{constructor(e,t){super(e,t),this.onPlayShortcut=()=>{this.props.showPlayAll&&this.props.onPlayAllPress()},this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0,isSmartPlaylist:!1})},this.onAddToSmartPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0,isSmartPlaylist:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1})},this.onActionsPress=e=>{this.setState({isActionsMenuOpen:!this.state.isActionsMenuOpen})},this.onActionsMenuClose=()=>{this.setState({isActionsMenuOpen:!1})},this.state={isActionsMenuOpen:!1,isAddToPlaylistModalOpen:!1,isSmartPlaylist:!1},this._moreButtonID=(0,vn.Z)()}componentDidMount(){ng.Z.on("shortcut:playSelected",this.onPlayShortcut)}componentWillUnmount(){ng.Z.off("shortcut:playSelected",this.onPlayShortcut)}render(){const{className:e,serverEntityID:t,providerEntityID:r,metadataListEntityID:i,customFilterRoute:a,showPlayAll:l,showPlayAllOverflow:o,showShuffle:s,showShuffleOverflow:c,showAddToPlaylist:d,showAddToPlaylistOverflow:u,showAddToSmartPlaylist:m,showAddToCatalog:p,showAddToCatalogOverflow:y,showSync:h,showSyncOverflow:v,showOverflow:f,onPlayAllPress:b,onShufflePress:E,onSyncPress:g}=this.props,{isActionsMenuOpen:P,isAddToPlaylistModalOpen:I,isSmartPlaylist:Z}=this.state;return n.createElement("div",{className:e},l?n.createElement(Cg.Z,{playLabel:(0,C.Z)("Play All"),onPress:b}):null,s?n.createElement(Dg.Z,{onPress:E}):null,d?n.createElement(Zg.Z,{customFilterRoute:a,metadataListEntityID:i,providerEntityID:r,serverEntityID:t,showAddToSmartPlaylist:m,onAddToPlaylistPress:this.onAddToPlaylistPress,onAddToSmartPlaylistPress:this.onAddToSmartPlaylistPress}):null,p?n.createElement(Ig,{providerEntityID:r}):null,h?n.createElement(Sg.Z,{onPress:g}):null,f?n.createElement(wg.Z,{iconComponent:hg.Z,id:this._moreButtonID,isMenuOpen:P,label:(0,C.Z)("More..."),onPress:this.onActionsPress}):null,n.createElement(pg,Rg(Rg({},this.props),{isOpen:P,showAddToCatalog:y,showAddToPlaylist:u,showPlayAll:o,showShuffle:c,showSync:v,target:this._moreButtonID,onMenuClose:this.onActionsMenuClose})),d?n.createElement(ag.Z,{isOpen:I,metadataListEntityID:i,providerEntityID:r,serverEntityID:t,smart:Z,onModalClose:this.onAddToPlaylistClose}):null)}}const xg=(0,yg.ZP)(Ag,["showPlayAll","showShuffle","showAddToPlaylist","showAddToCatalog","showSync"],["showOptimize","showQueue"]);var Lg=Object.defineProperty,jg=Object.prototype.hasOwnProperty,Fg=Object.getOwnPropertySymbols,Gg=Object.prototype.propertyIsEnumerable,Hg=(e,t,r)=>t in e?Lg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ug=(e,t)=>{for(var r in t||(t={}))jg.call(t,r)&&Hg(e,r,t[r]);if(Fg)for(var r of Fg(t))Gg.call(t,r)&&Hg(e,r,t[r]);return e};const Vg=(0,ul.Z)((function(){return(0,$.P1)(((e,{listType:t})=>t),xe.Z,Ae.Z,$E.Z,(0,up.Z)(),((e,t,r,n,i)=>function({server:e,provider:t,stableUser:r,metadataList:n,listType:i}){const a=i||n.firstItemType||"mixed",l=eg[a];return l?l.reduce(((i,l)=>{const o=JE[l];return(0,ic.Z)(nc().isFunction(o),`getMetadataListActionProps: Invalid action, ${l}, for ${a}`),i[l]=!!(e&&t&&n)&&o({server:e,provider:t,stableUser:r,metadataList:n}),i}),{}):{}}({server:t,provider:r,stableUser:n,metadataList:i,listType:e})))}),(function(e,t){const r={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataListEntityID:t.metadataListEntityID,listType:t.listType,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext||Us.LIST}};return{onPlayAllPress(){e(ll.wA(r))},onShufflePress(){e(ll.Em(r))},onPlayNextPress(){e(ll.tP(Ug(Ug({},r),{options:{playAll:!0,next:!0}})))},onAddToQueuePress(){e(ll.tP(Ug(Ug({},r),{options:{playAll:!0,next:!1}})))},onSyncPress(){e(sl.vm(r))},onOptimizePress(){e(sl.$5(r))}}}),rg.Z)(xg);var Bg=r(37274);const Kg=(0,s.$j)((function(){return(0,$.P1)((0,up.Z)(),(e=>({totalSize:e.totalSize,listType:WE.pV,listStyle:Bg.MOSAIC,allListStyles:[Bg.MOSAIC]})))}))((function(e){const{serverEntityID:t,providerEntityID:r,metadataListEntityID:i,sourceDirectory:a,title:l,totalSize:o,listType:s,listStyle:c,allListStyles:d}=e;return n.createElement(n.Fragment,null,n.createElement(gs.Z,null,n.createElement(im.Z,{providerEntityID:r,serverEntityID:t,sourceDirectory:a}),n.createElement(nm,{directoryKey:Lu.tk.TIMELINE,providerEntityID:r,serverEntityID:t,sourceDirectory:a}),n.createElement(Hu.Z,null,n.createElement(qE.Z,{allListStyles:d,selectedListStyle:c}))),n.createElement(Po.Z,null,n.createElement(Io.Z,null,n.createElement(xu.Z,null,l),n.createElement(al.Z,null,o)),n.createElement(_E.Z,null,n.createElement(Vg,{listType:s,metadataListEntityID:i,providerEntityID:r,serverEntityID:t}))))}));var zg=r(22134);var Wg=Object.defineProperty,_g=Object.prototype.hasOwnProperty,qg=Object.getOwnPropertySymbols,$g=Object.prototype.propertyIsEnumerable,Qg=(e,t,r)=>t in e?Wg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Yg=(e,t)=>{for(var r in t||(t={}))_g.call(t,r)&&Qg(e,r,t[r]);if(qg)for(var r of qg(t))$g.call(t,r)&&Qg(e,r,t[r]);return e};class Xg extends n.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e,height:t})=>{this.setState({isMeasured:!0,width:e,height:t})},this.onMomentScrollIndexChange=e=>{this.setState({currentMomentTitle:this.props.moments[e].title})},this.state={isMeasured:!1,currentMomentTitle:"",width:0,height:0}}componentDidMount(){const{librarySectionID:e,providerIdentifier:t,onLibraryChange:r}=this.props;e&&r(t,e)}componentDidUpdate(e){const{librarySectionID:t,providerIdentifier:r,onLibraryChange:n}=this.props;t&&t!==e.librarySectionID&&n(r,t)}componentWillUnmount(){this.props.onLibraryChange(null,null),this.props.onCloseTimelinePage()}render(){const{serverEntityID:e,providerEntityID:t,providerMetricsIdentifier:r,metadataListEntityID:a,sourceDirectory:l,pivot:o,isMomentListPending:s,isMomentListPopulated:c,moments:d,activeSelectionType:u,columnAdjustment:m}=this.props,{isMeasured:p,width:y,height:h,currentMomentTitle:v}=this.state,f=200-100*m,b=12+m,E=Math.min(Math.ceil(y/f),b);if(c)return n.createElement(_s.Z,{metricsPage:i.WJ,metricsProperties:{identifier:r,mode:"timeline",type:"photo",style:Bg.MOSAIC},scrollDirection:zl.Hn},u?n.createElement(zg.Z,{providerEntityID:t,serverEntityID:e}):n.createElement(Kg,{metadataListEntityID:a,providerEntityID:t,serverEntityID:e,sourceDirectory:l,title:v}),n.createElement(qs.Z,{className:"TimelinePage-measured-ozEMO6",ignorePosition:!0,onMeasure:this.onMeasure},p?n.createElement(zE,{columns:E,height:h,metadataListEntityID:a,moments:d,providerEntityID:t,serverEntityID:e,onMomentScrollIndexChange:this.onMomentScrollIndexChange}):null));const g={serverEntityID:e,providerEntityID:t,sourceDirectory:l,pivot:o,directoryKey:Lu.tk.TIMELINE,scrollDirection:zl.Hn};if(s)return n.createElement(Xb,Yg(Yg({},g),{showSecondHeader:!0}),n.createElement(mp.Z,null,n.createElement(lm.Z,null)));const P={title:(0,C.Z)("There was an error loading the timeline for this library")};return n.createElement(Xb,Yg({},g),n.createElement(gp.Z,Yg({},P)))}}const Jg=Xg,eP=(0,$.P1)((e=>e.ui.timelinePage.momentList),(e=>{if(!e)return[];let t=0;return e.moments.map((e=>{const r=t;t+=e.size;const{id:n,title:i,size:a,avgAR:l,startsAt:o}=e,s=e.size*(e.avgAR||1);return{start:r,end:t,area:s,id:n,title:i,size:a,avgAR:l,startsAt:o}}))})),tP=(0,tp.Z)(Jg,(function(e){const t=e.ui.timelinePage;return{serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,momentKey:t.momentKey}}),(function(e,t){e(Bb.h8({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,libraryKey:t.libraryKey,momentKey:t.momentKey})),e(Bb.Ql())})),rP=(0,s.$j)((function(){return(0,$.P1)(((e,{libraryKey:t})=>t),(e=>e.ui.timelinePage),eP,xe.Z,(0,Uu.Z)(),lp(),(0,$.P1)(((e,{directoryKey:t})=>t),lp(),((e,t)=>Bu(t,e))),Kb.Z,bh.Z,((e,t,r,n,i,a,l,o,s)=>{const{details:c,containerKey:d,isMomentListPending:u,isMomentListPopulated:m}=t;return{metadataListEntityID:t.metadataList,providerIdentifier:i.identifier,providerMetricsIdentifier:i.metricsIdentifier,librarySectionID:c&&c.librarySectionID,sourceDirectory:a,pivot:l,moments:r,isMomentListPending:u,isMomentListPopulated:m,containerKey:d,momentKey:f.Z.join(e,"cluster?clusterZoomLevel=1"),activeSelectionType:o.activeSelectionType,disableReloadThreshold:!!o.activeSelectionType,columnAdjustment:s.columnAdjustment,serverVersion:n.version}}))}),(function(e,t){return{onLibraryChange(r,n){e((0,b.changeQuickSearchSettings)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:r,directoryID:n}))},onCloseTimelinePage(){e(Bb.qd({}))}}}))(tP);function nP({pivotType:e,directorySourceURI:t,directoryKey:r,selectedPivot:i}){const[l,y,h]=(0,I.c9)(),v=Z(),b=(0,s.v9)(d.Z),E=(0,s.v9)(k.Z),w=null==E?void 0:E.features.find((({uuid:e})=>e===u.rq));if(function(e,t){return e===u.sy&&t}(null==i?void 0:i.requires,b))return n.createElement(rs,null);switch(e){case a.F6.Hub:return n.createElement(o.ZP,{name:null==i?void 0:i.context},n.createElement(ze,{sourceURI:t}));case a.F6.List:return n.createElement(o.ZP,{name:null==i?void 0:i.context},n.createElement(zo,{directoryKey:r,directorySourceURI:t,selectedPivot:i}));case a.F6.View:switch(null==i?void 0:i.key){case a.GG.SharedItems:return n.createElement(o.ZP,{name:null==i?void 0:i.context},n.createElement(zo,{directoryKey:r,directorySourceURI:t,listStyle:g.n.SharedItems,selectedPivot:i}));case a.GG.Guide:return(l.isCloud||(0,p.Z)(l.version,c.Z.gridPagination))&&w?n.createElement(Xm,{activeFilterLabel:(0,Jm.Z)(v.filterLabel),activeFilters:(0,m.Z)(v.filters)}):n.createElement(uh,{activeFilterLabel:v.filterLabel,activeFilters:(0,m.Z)(v.filters),directoryKey:a.GG.Guide,providerEntityID:y.entityID,serverEntityID:l.entityID,sourceDirectoryID:null==h?void 0:h.id});case a.GG.RecordingSchedule:return n.createElement(Vb,{providerEntityID:y.entityID,selectedViewType:v.view,serverEntityID:l.entityID,sourceDirectoryID:null==h?void 0:h.id});case a.GG.Timeline:{const e=(0,P.Z)(y,a.zW.Content);return n.createElement(rP,{directoryKey:a.GG.Timeline,libraryKey:f.Z.join([null==e?void 0:e.key,null==h?void 0:h.id,"cluster"],{clusterZoomLevel:1}),providerEntityID:y.entityID,serverEntityID:l.entityID,sourceDirectoryID:null==h?void 0:h.id})}}}return n.createElement(mh.Z,null)}function iP(e){switch(null==e?void 0:e.key){case a.GG.SharedItems:return"/library/shared/all";default:return null==e?void 0:e.key}}const aP=[a.GG.Guide,a.GG.RecordingSchedule,a.GG.Timeline];function lP({className:e,directoryKey:t,pageType:r,machineIdentifier:i,providerIdentifier:l,contentDirectoryID:o,pivotID:c}){const d=(0,s.I0)(),u=function({machineIdentifier:e,providerIdentifier:t,contentDirectoryID:r,pageType:i,pivotID:a}){var l,o;const c=(0,s.I0)(),d=(0,s.v9)(ue),u=(0,s.v9)((0,Ts.Z)(e,t,r)),m=(0,s.v9)(Ns),p=(0,s.v9)(Ms),y=(0,s.v9)(ks(e,t,r));let h;i?h=null==(l=null==d?void 0:d.Pivot)?void 0:l.find((e=>e.active)):(h=Rs(null==u?void 0:u.pivots,a),!h&&y&&(h=Rs(null==u?void 0:u.pivots,y)),h||(h=null==(o=null==u?void 0:u.pivots)?void 0:o[0]));const v=r?(0,Os.Z)(e,t,r):void 0;return(0,n.useEffect)((()=>{m&&v&&h&&y!==h.key&&null==i&&c((0,Rr.LN)({lastSourcePivots:Gs(Gs({},p),{[v]:h.key})}))}),[c,y,p,a,i,h,m,v]),h}({machineIdentifier:i,providerIdentifier:l,contentDirectoryID:o,pageType:r,pivotID:c}),m=u?u.type:null!=r?r:a.F6.List,p=iP(u),f=function(e,t){switch(null==e?void 0:e.key){case a.GG.SharedItems:return null!=t?t:iP(e);default:return t}}(u,t),g=null!=p?p:t,P=g?(0,y.Z)({serverIdentifier:i,providerIdentifier:l,key:g}):void 0;return(0,n.useEffect)((()=>{if(!o)return;const e=(0,h.Z)(E.cN,i),t=(0,h.Z)(E.MC,l,e);return d((0,b.changeQuickSearchSettings)({serverEntityID:e,providerEntityID:t,providerIdentifier:l,directoryID:o})),()=>{d((0,b.changeQuickSearchSettings)({serverEntityID:null,providerEntityID:null,providerIdentifier:null,directoryID:null}))}}),[o,d,i,l]),(0,n.useEffect)((()=>()=>{(0,v.c9)((()=>{d(Se.Z.actions.resetMeta())}))}),[d]),P?n.createElement(I.ZP,{contentDirectoryID:o,machineIdentifier:i,providerIdentifier:l},n.createElement(w.Z,{className:e,scrollDirection:N.I.None},u&&m===a.F6.View&&aP.includes(u.key)?null:n.createElement(Ss,{selectedPivot:u,sourceURI:P}),n.createElement(nP,{directoryKey:f,directorySourceURI:P,pivotType:m,selectedPivot:u}))):n.createElement(w.Z,{className:e},n.createElement(O,null))}var oP=r(1346),sP=r(31446);function cP(){const e=(0,l.Z)(),t=e.key?(0,Jm.Z)(e.key):void 0,{machineIdentifier:r,providerIdentifier:s}=(0,oP.Z)(),c=e.pageType?(0,Jm.Z)(e.pageType):void 0,d=(0,Y.su)(a.F6).find((e=>e===c));return n.createElement(o.ZP,{metricsContextParam:(0,Jm.Z)(e.context),metricsPage:i.Y3},n.createElement(sP.Z,{machineIdentifier:r,providerIdentifier:s},t||(0,Jm.Z)(e.source)?n.createElement(lP,{contentDirectoryID:(0,Jm.Z)(e.source),directoryKey:t,machineIdentifier:r,pageType:d,pivotID:(0,Jm.Z)(e.pivot),providerIdentifier:s}):n.createElement(mh.Z,null)))}},59370:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(67294),i=r(6103);const a=function(e){const{title:t,detail:r,route:a}=e,l=a?i.Z:"div";return n.createElement(l,{className:a?"PageHeaderTitle-containerWithRoute-3Xp7hf PageHeaderTitle-container-F5IPwS":"PageHeaderTitle-container-F5IPwS",to:a},n.createElement("div",{className:"PageHeaderTitle-title-1aJsbX"},t),r?n.createElement("div",{className:"PageHeaderTitle-detail-2X3UHB"},r):null)}},83427:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(67294),i=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function c(e){var t=e,{children:r}=t,i=((e,t)=>{var r={};for(var n in e)a.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&l)for(var n of l(e))t.indexOf(n)<0&&o.call(e,n)&&(r[n]=e[n]);return r})(t,["children"]);return n.createElement("div",((e,t)=>{for(var r in t||(t={}))a.call(t,r)&&s(e,r,t[r]);if(l)for(var r of l(t))o.call(t,r)&&s(e,r,t[r]);return e})({},i),r)}c.defaultProps={className:"PrimaryPageHeader-pageHeader-ADN5t_ PageHeader-pageHeader-277zuU"};const d=c},91061:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(67294),i=r(12813);const a=function({children:e}){return n.createElement(i.Z,{className:"PrimaryPageHeaderRight-pageHeaderRight-2W4k2x PageHeaderRight-pageHeaderRight-3cWitX"},e)}},70007:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(67294),i=r(63312),a=r(47636),l=Object.defineProperty,o=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,r)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class u extends n.Component{shouldComponentUpdate(e,t){return(0,a.Z)(this,e,t)}render(){const e=this.props,{children:t,iconComponent:r,label:a,isMenuOpen:l}=e,u=((e,t)=>{var r={};for(var n in e)o.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&s)for(var n of s(e))t.indexOf(n)<0&&c.call(e,n)&&(r[n]=e[n]);return r})(e,["children","iconComponent","label","isMenuOpen"]);return n.createElement(i.Z,((e,t)=>{for(var r in t||(t={}))o.call(t,r)&&d(e,r,t[r]);if(s)for(var r of s(t))c.call(t,r)&&d(e,r,t[r]);return e})({"aria-haspopup":!0,"data-testid":"toolbarMore",hideOnPress:!1,tooltip:l?void 0:a},u),n.createElement(r,null),t)}}const m=u},14838:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(67294),i=r(90653),a=r(68576),l=r(58967),o=Object.defineProperty,s=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const m=function(e){const t=e,{children:r}=t,o=((e,t)=>{var r={};for(var n in e)s.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&c)for(var n of c(e))t.indexOf(n)<0&&d.call(e,n)&&(r[n]=e[n]);return r})(t,["children"]);return n.createElement(a.Z,((e,t)=>{for(var r in t||(t={}))s.call(t,r)&&u(e,r,t[r]);if(c)for(var r of c(t))d.call(t,r)&&u(e,r,t[r]);return e})({className:l.Z.innerEmptyPage,contentClassName:l.Z.innerEmptyPageContent,scrollDirection:i.Hn},o),r)}},98378:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n,i,a=r(30492);function l(e,t){return t.isCloud?null==e?void 0:e.providerSourceTitle:t.isEmbedded?void 0:t.isFullOwnedServer?e?e.serverFriendlyName:void 0:e?`${e.serverSourceTitle} • ${e.serverFriendlyName}`:(0,a.Z)(t)}(i=n||(n={})).Dvr="dvr",i.Episode="episode",i.Home="home",i.Movies="movies",i.Music="music",i.Photos="photos",i.Playlists="playlists",i.Podcasts="podcasts",i.Tv="tv",i.Videos="videos",i.Webshows="webShows",i.Shared="shared"},69590:e=>{var t="undefined"!=typeof Element,r="function"==typeof Map,n="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,l){if(e===l)return!0;if(e&&l&&"object"==typeof e&&"object"==typeof l){if(e.constructor!==l.constructor)return!1;var o,s,c,d;if(Array.isArray(e)){if((o=e.length)!=l.length)return!1;for(s=o;0!=s--;)if(!a(e[s],l[s]))return!1;return!0}if(r&&e instanceof Map&&l instanceof Map){if(e.size!==l.size)return!1;for(d=e.entries();!(s=d.next()).done;)if(!l.has(s.value[0]))return!1;for(d=e.entries();!(s=d.next()).done;)if(!a(s.value[1],l.get(s.value[0])))return!1;return!0}if(n&&e instanceof Set&&l instanceof Set){if(e.size!==l.size)return!1;for(d=e.entries();!(s=d.next()).done;)if(!l.has(s.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(l)){if((o=e.length)!=l.length)return!1;for(s=o;0!=s--;)if(e[s]!==l[s])return!1;return!0}if(e.constructor===RegExp)return e.source===l.source&&e.flags===l.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===l.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===l.toString();if((o=(c=Object.keys(e)).length)!==Object.keys(l).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(l,c[s]))return!1;if(t&&e instanceof Element)return!1;for(s=o;0!=s--;)if(("_owner"!==c[s]&&"__v"!==c[s]&&"__o"!==c[s]||!e.$$typeof)&&!a(e[c[s]],l[c[s]]))return!1;return!0}return e!=e&&l!=l}e.exports=function(e,t){try{return a(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},26253:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(45697),i=r.n(n),a=r(67294),l=r(17845);function o(e){const t=e["aria-label"],r=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-sort-ascending-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.Z.plexIcon+(r?" "+r:"");const o=[a.createElement.apply(a,["path",{d:"m280 80l-200 200h160v200h80v-200h160l-200-200"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const s=o},72373:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(45697),i=r.n(n),a=r(67294),l=r(17845);function o(e){const t=e["aria-label"],r=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-sort-descending-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.Z.plexIcon+(r?" "+r:"");const o=[a.createElement.apply(a,["path",{d:"m80 280h160v-200h80v200h160l-200 200-200-200"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const s=o},67633:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(45697),i=r.n(n),a=r(67294),l=r(17845);function o(e){const t=e["aria-label"],r=e.className,n=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-more-vertical-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.Z.plexIcon+(r?" "+r:"");const o=[a.createElement.apply(a,["path",{d:"M280 168c-30.897 0-56-25.103-56-56 0-30.896 25.103-56 56-56s56 25.104 56 56c-.965 31.862-25.103 56-56 56zm56 112c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56zm0 168c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56z"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const s=o},26984:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(45697),i=r.n(n),a=r(67294),l=r(17845);function o(e){const t=e["aria-label"],r=e.className,n=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-shuffle-560"};i["aria-hidden"]=!t,i.style=n,i.className=l.Z.plexIcon+(r?" "+r:"");const o=[a.createElement.apply(a,["path",{d:"m448 441l-44.423 0c-65.833 0-103.843-28.598-141.383-96.109 5.44-10.89 10.99-22.734 16.727-35.594 3.556-7.986 4.181-9.387 5.622-12.617 36.245 74.928 65.419 102.32 119.034 102.32l44.423 0 0-77 112 98-112 98 0-77m0-322l0-77 112 98-112 98 0-77-44.423 0c-59.257 0-88.657 33.459-130.747 127.573-1.427 3.191-3.342 7.493-6.695 15.02-44.459 99.657-75.473 137.407-142.558 137.407l-95.577 0 0-42 95.577 0c43.602 0 66.367-27.71 104.202-112.518 3.333-7.485 5.267-11.827 6.711-15.055 48.4-108.225 87.24-152.427 169.087-152.427l44.423 0m-324.423 0c56.809 0 87.751 27.071 122.897 95.883-7.743 14.34-15.519 30.301-23.497 48.005-35.031-76.511-57.674-101.888-99.4-101.888l-95.577 0 0-42 95.577 0"}].concat([]))];return t&&o.unshift(a.createElement("title",null,t)),a.createElement.apply(a,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const s=o}}]);