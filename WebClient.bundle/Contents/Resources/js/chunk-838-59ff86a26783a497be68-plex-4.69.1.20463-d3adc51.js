"use strict";(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[838],{44838:(e,r,n)=>{n.r(r),n.d(r,{default:()=>M});var t=n(67294),a=n(4844),l=n(15042),s=n(1346),o=n(20500),i=n(28216),d=n(22222),c=n(43045),m=n(2375),p=n(74253),v=n(70716),u=n(86035),E=n(29313),Z=n(80974),N=n(90117),D=n(5562),f=n(65671),g=n(22745),w=n(6103),y=n(26893),S=n(60528),I=n(82378),k=n(3704),O=n(21508),P=n(81071),U=n(69605),L=n(70182),b=n(89460),x=n(2424),C=n(64795);function R(e,r){const n=r?r.split("\n"):[];return n.length>0?t.createElement(t.Fragment,null,t.createElement("div",{className:"ReleaseNotesModal-listTitle-2JoqyV"},e),t.createElement("ul",null,n.map(((e,r)=>t.createElement("li",{key:r},e))))):null}const V=function(e){const{version:r,added:n,fixed:a,isOpen:l,onClose:s}=e;return t.createElement(x.Z,{isOpen:l,metricsPage:U.Bc,onModalClose:s},t.createElement(C.Z,{onModalClose:s},t.createElement(b.Z,null,(0,D.Z)("{product} Release Notes",{product:"Plex Media Server"})),t.createElement(L.Z,null,t.createElement("div",{className:"ReleaseNotesModal-version-3Lf4yQ"},(0,D.Z)("Version {version}",{version:r})),R((0,D.Z)("New"),n),R((0,D.Z)("Fixes"),a))))},h=function({progress:e}){return t.createElement("div",{className:"ServerDownloadProgressBar-progress-181-dS"},t.createElement("div",{className:"ServerDownloadProgressBar-emptyBar-3nD1pn"}),t.createElement("div",{className:"ServerDownloadProgressBar-bar-2tWoBU",style:{transform:`translate3d(-${100-e}%, 0, 0)`}}))};var _=n(92885);const A="ServerUpdatePage-actionContainer-EjCAPx EmptyPageDescription-description-2zDekd",B=(0,i.$j)((function(){return(0,d.P1)(p.Z,m.Z,(0,c.Z)(),((e,r,n)=>{const t=n.update;return{serverEntityID:e.entityID,friendlyName:e.friendlyName,state:t.state,error:t.error,progress:t.progress,availableVersion:(0,v.Z)(t.version),currentVersion:(0,v.Z)(e.version),downloadURL:t.downloadURL||r.appsUrl,added:t.added,fixed:t.fixed}}))}),(function(e,r){const{serverEntityID:n}=r;return{onDismissServerUpdate(r){e((0,E.xx)({serverEntityID:n,version:r}))},onInstallServerUpdate(){e((0,E.wR)({serverEntityID:n}))},onDownloadServerUpdate(){e((0,E.Or)({serverEntityID:n}))},onRedirectToHome(){e((0,u.im)({route:"home"}))}}}))((function(e){const{serverEntityID:r,friendlyName:n,state:a,error:l,progress:s,availableVersion:o,currentVersion:i,downloadURL:d,added:c,fixed:m,onDismissServerUpdate:p,onInstallServerUpdate:v,onDownloadServerUpdate:u,onRedirectToHome:E}=e,U=a===N.NONE||a===N.DONE,L=(0,_.Z)(),b=(0,t.useCallback)((()=>{p(o)}),[o,p]);if((0,y.Z)((()=>{E()}),U),U)return null;if(a===N.INSTALLING)return t.createElement(P.Z,{serverEntityID:r});const x=(0,D.Z)("Update available for {product}",{product:"Plex Media Server"});let C=(0,D.Z)('You are currently running version {currentVersion} on the server "{friendlyName}". Version {availableVersion} is now available.',{availableVersion:o,currentVersion:i,friendlyName:n});return a===N.NOTIFY&&(C=C+" "+(0,D.Z)("This update will need to be installed manually after download.")),a===N.ERROR?t.createElement(k.Z,{description:l||(0,D.Z)("Something went wrong, please try again later."),iconSrc:Z,title:x}):t.createElement(k.Z,{description:c||m?t.createElement(f.Z,{message:C+" "+(0,D.Z)("{openLink}Show release notes{closeLink}."),tags:[{open:"openLink",close:"closeLink",component:w.Z,onPress:L.onOpen,kind:S._8}]}):C,iconSrc:Z,title:(0,D.Z)("Update available for {product}",{product:"Plex Media Server"})},a===N.AVAILABLE?t.createElement("div",{className:A},t.createElement(g.Z,{kind:S._8,size:I.ln,onPress:u},(0,D.Z)("Download now"))):null,a===N.DOWNLOADING?t.createElement("div",{className:A},t.createElement("div",null,(0,D.Z)("Downloading Update ({progress}%)",{progress:s})),isNaN(s)?null:t.createElement("div",{className:"ServerUpdatePage-progressContainer-1Jjw9F"},t.createElement(h,{progress:s}))):null,a===N.DOWNLOADED?t.createElement("div",{className:A},t.createElement(g.Z,{kind:S._8,size:I.ln,onPress:v},(0,D.Z)("Install now"))):null,a===N.NOTIFY?t.createElement("div",{className:A},t.createElement(g.Z,{kind:S._8,size:I.ln,target:"_blank",to:d,onPress:b},(0,D.Z)("Download now"))):null,a!==N.DOWNLOADING&&a!==N.DOWNLOADED?t.createElement(O.Z,null,t.createElement(w.Z,{className:"ServerUpdatePage-link-22dW6v",kind:S._8,size:I.HC,to:"#",onPress:b},(0,D.Z)("Skip this version"))):null,t.createElement(V,{added:c,fixed:m,isOpen:L.isOpen,version:o,onClose:L.onClose}))}));function M(){const{machineIdentifier:e}=(0,s.Z)(),r=(0,a.Z)(l.cN,e);return t.createElement(o.Z,{serverEntityID:r},t.createElement(B,{serverEntityID:r}))}}}]);