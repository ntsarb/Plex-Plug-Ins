(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[428],{59155:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(22222),a=r(32486);const i=(0,n.P1)(a.Z,(e=>e.playlistItems))},51693:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(5562),a=r(91135);function i(e,t){switch(e){case a.pX:return 1===t?(0,n.Z)("1 Video"):(0,n.Z)("{count} Videos",{count:t});case a.j0:return 1===t?(0,n.Z)("1 Track"):(0,n.Z)("{count} Tracks",{count:t});default:return 1===t?(0,n.Z)("1 Item"):(0,n.Z)("{count} Items",{count:t})}}},99580:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(5562),a=r(69881);function i(e,t){switch(e){case a.SEASON:return(0,n.Z)("Seasons");case a.EPISODE:return 1===t?(0,n.Z)("1 Episode"):(0,n.Z)("{episodeCount} Episodes",{episodeCount:t});case a.ALBUM:return 1===t?(0,n.Z)("1 Album"):(0,n.Z)("{albumCount} Albums",{albumCount:t});case a.TRACK:return 1===t?(0,n.Z)("1 Track"):(0,n.Z)("{trackCount} Tracks",{trackCount:t});default:return 1===t?(0,n.Z)("1 Item"):(0,n.Z)("{trackCount} Items",{trackCount:t})}}},67635:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(22222),a=r(89971);function i(e,t){const{playQueueItems:r,currentIndex:n}=e,a=t[r[n]];return a&&a.metadataItem}function o(){return(0,n.P1)((({ui:e})=>e.audioVideoPlayer&&e.audioVideoPlayer.playQueue),(({ui:e})=>e.photoPlayer&&e.photoPlayer.playQueue),((e,{metadataItemEntityID:t})=>t),a.Z,((e,t,r,n)=>{if(!r)return!1;let a,o;return e&&(a=i(e,n)),t&&(o=i(t,n)),a===r||o===r}))}},60428:(e,t,r)=>{"use strict";r.d(t,{Z:()=>cs});var n=r(67294),a=r(69605),i=r(5562),o=r(6103),s=r(60528),l=r(90653),c=r(58801),d=r(95815),p=r(3704),m=r(95614),y=r(68576),u=r(80967),I=r(47636),h=r(68966),E=r(22222),v=r(84936),P=r(81017),f=r(50091),D=r(18878),g=r(70488),b=r(57358),w=r(57721),O=r(87691),Z=r(7420),C=r(9220),S=r(63800),T=r(38853),M=r(59421),x=r(40875),R=r(12272),j=r(59468);const A=(0,E.P1)(j.Z,(e=>e.listStyles)),N=(0,E.P1)(j.Z,(e=>e.playThemeMusic)),L=(0,E.P1)(j.Z,(e=>e.showPrePlayArtwork));var k=r(61478),H=r(69881);function K(){return(0,E.P1)((0,P.Z)(),((e={})=>{const{type:t,subtype:r,skipChildren:n}=e;if(t===H.COLLECTION)return r;if(t===H.SHOW&&r===k.PODCAST)return H.TRACK;const a=n?H.getLeafType(t):H.getChildType(t);return a&&a.typeString}))}var B=r(45697),U=r.n(B),W=r(63731),z=Object.defineProperty,F=Object.prototype.hasOwnProperty,_=Object.getOwnPropertySymbols,V=Object.prototype.propertyIsEnumerable,q=(e,t,r)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Y=(e,t)=>{for(var r in t||(t={}))F.call(t,r)&&q(e,r,t[r]);if(_)for(var r of _(t))V.call(t,r)&&q(e,r,t[r]);return e};function G(e,{metricsPage:t}){return n.createElement(W.Z,Y(Y({},e),{page:t}))}G.contextTypes={metricsPage:U().string.isRequired};const Q=G;var X=r(99356);const $=function(){return n.createElement(X.Z,{title:(0,i.Z)("Nothing is here"),description:(0,i.Z)("This item may have been deleted recently")},n.createElement(o.Z,{to:"#",kind:s._8},(0,i.Z)("Go Home")))},J=function(){return n.createElement(X.Z,{title:(0,i.Z)("Not found"),description:(0,i.Z)("This item does not have its own page")},n.createElement(o.Z,{to:"#",kind:s._8},(0,i.Z)("Go Home")))};var ee=r(71024),te=r(46560),re=r(44271);function ne({className:e,children:t}){return n.createElement("div",{className:e},t)}ne.defaultProps={className:"PrePlayMetadataListInnerContent-innerContent-2ww2tR"};const ae=ne;var ie=r(95309),oe=r(99580),se=r(67641),le=r(8403),ce=r(48022);const de="PrePlayList-emptyMessage-33Fg0f PrePlayList-emptyContainer-2slXpM",pe=function(e){const{listType:t,isPopulated:r,isPending:a,error:o,size:s,children:l}=e;return r&&s?n.createElement("div",{className:"PrePlayList-container-vGVoRn HubCell-hubCell-2uIdEm","data-qa-id":"preplayContainer--"+[t]},l):a?n.createElement("div",{className:"PrePlayList-emptyContainer-2slXpM"},n.createElement(c.Z,null)):o?n.createElement("div",{className:de},function(e){switch(e){case ce.xx:return(0,i.Z)("Unable to load seasons");case ce.uG:return(0,i.Z)("Unable to load episodes");case ce.c5:return(0,i.Z)("Unable to load albums");case ce.IK:return(0,i.Z)("Unable to load tracks");case ce.pV:return(0,i.Z)("Unable to load photos");default:return(0,i.Z)("Unable to load items")}}(t)):n.createElement("div",{className:de},function(e){switch(e){case ce.xx:return(0,i.Z)("No seasons");case ce.uG:return(0,i.Z)("No episodes");case ce.c5:return(0,i.Z)("No albums");case ce.IK:return(0,i.Z)("No tracks");case ce.pV:return(0,i.Z)("No photos");default:return(0,i.Z)("No items")}}(t))};var me=r(37274);const ye=function(){return n.createElement(te.Z,{className:"PrePlayListBottomDivider-bottomDivider-3zd62q PrePlayDivider-divider-1nBBzX"})};class ue extends n.Component{constructor(e,t){super(e,t),this.onListContainerRef=e=>{this._setOffsetTop(e)},this._hasOffsetChanged=!1,this.state={listOffsetTop:null}}UNSAFE_componentWillUpdate(e){this._hasOffsetChanged=e.contentHeight!==this.props.contentHeight}_setOffsetTop(e){e&&e.offsetTop!==this.state.listOffsetTop&&this.setState({listOffsetTop:e.offsetTop})}render(){const{children:e,scrollTop:t}=this.props,{listOffsetTop:r}=this.state,a=n.Children.only(e);return n.createElement("div",{ref:this._hasOffsetChanged?this._setOffsetTop.bind(this):this.onListContainerRef},null!=r?n.cloneElement(a,{scrollTop:t-r}):null)}}const Ie=ue,he=function(){return n.createElement(te.Z,{className:"PrePlayListTopDivider-topDivider-3laa-U PrePlayDivider-divider-1nBBzX"})};var Ee=r(89969),ve=r(50362),Pe=r(34566),fe=r(32453),De=r(66567),ge=r(24935),be=r(62050),we=r(3414),Oe=Object.defineProperty,Ze=Object.prototype.hasOwnProperty,Ce=Object.getOwnPropertySymbols,Se=Object.prototype.propertyIsEnumerable,Te=(e,t,r)=>t in e?Oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class Me extends n.Component{constructor(e,t){super(e,t),this.state={layout:this._createLayout(e)}}UNSAFE_componentWillReceiveProps(e){const t=this.props.aspectRatios!==e.aspectRatios,r=this.props.viewportWidth!==e.viewportWidth,n=this.props.columnAdjustment!==e.columnAdjustment;(t||r||n)&&this.setState({layout:this._createLayout(e)})}_createLayout(e=this.props){const{viewportWidth:t,columnAdjustment:r,aspectRatios:n}=e,a=Math.ceil(t/400),i=Math.max(1,a+r),o=(0,we.Z)({aspectRatios:n,columns:i});return(0,be.Z)({columns:i,rows:o})}render(){if(!this.state)return null;const e=this.props,{cellRenderer:t}=e,r=((e,t)=>{var r={};for(var n in e)Ze.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Ce)for(var n of Ce(e))t.indexOf(n)<0&&Se.call(e,n)&&(r[n]=e[n]);return r})(e,["cellRenderer"]),{layout:a}=this.state;return n.createElement(ge.Z,((e,t)=>{for(var r in t||(t={}))Ze.call(t,r)&&Te(e,r,t[r]);if(Ce)for(var r of Ce(t))Se.call(t,r)&&Te(e,r,t[r]);return e})({layout:a,cellRenderer:t},r))}}Me.defaultProps={columnAdjustment:0};const xe=Me,Re=(0,Ee.$j)((function(){return(0,E.P1)(((e,{items:t})=>t),((e,{serverEntityID:t})=>t),((e,{providerEntityID:t})=>t),((e,{metadataListEntityID:t})=>t),((e,{containerKey:t})=>t),((e,{listType:t})=>t),ve.Z,((e=[],t,r,n,a,i,o)=>({listType:i,cellRenderer:(0,De.Z)({serverEntityID:t,providerEntityID:r,metadataListEntityID:n,containerKey:a,listType:i},fe.Z),aspectRatios:e.map((e=>(0,Pe.Z)(o[e])))})))}))(xe);var je=r(42980),Ae=r(28180),Ne=r(38891),Le=r(39539),ke=r(80126),He=r(7796),Ke=r(52998),Be=Object.defineProperty,Ue=Object.prototype.hasOwnProperty,We=Object.getOwnPropertySymbols,ze=Object.prototype.propertyIsEnumerable,Fe=(e,t,r)=>t in e?Be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_e=(e,t)=>{for(var r in t||(t={}))Ue.call(t,r)&&Fe(e,r,t[r]);if(We)for(var r of We(t))ze.call(t,r)&&Fe(e,r,t[r]);return e};const Ve=parseInt(He.Z.prePlayContentPadding,10),qe={},Ye={innerHorizontalPadding:30,innerVerticalPadding:30,outerPaddingTop:30,outerPaddingRight:60,outerPaddingBottom:30,outerPaddingLeft:60};function Ge(e,t,r,n=0,a=0){const i=e+(t||"")+r+n+a;if(qe.hasOwnProperty(i))return qe[i];const o=(0,ke.n3)(e,t,r),{titleHeight:s,minCellWidth:l,preferredCellWidth:c,minColumns:d,maxColumns:p}=(0,Ke.Z)({type:e,aspectRatio:o,titleCount:a,context:r}),m=function(e){return e===C.sD?_e(_e({},Ye),{outerPaddingTop:10,outerPaddingRight:Ve,outerPaddingBottom:5,outerPaddingLeft:Ve}):Ye}(r),y=(0,Ae.ZP)(_e(_e({direction:Ae.yZ},m),{getCellWidth:e=>(0,Le.Z)(_e(_e({},e),{preferredCellWidth:c,minCellWidth:l,minColumns:d,maxColumns:p,columnAdjustment:n,aspectRatio:o})),getCellHeight:e=>(0,Ne.Z)(_e(_e({},e),{aspectRatio:o,titleHeight:s}))}));return y.cellOptions={minCellWidth:l,minColumns:d,maxColumns:p,columnAdjustment:n,aspectRatio:o,titleHeight:s},qe[i]=y,y}var Qe=r(76639),Xe=Object.defineProperty,$e=Object.prototype.hasOwnProperty,Je=Object.getOwnPropertySymbols,et=Object.prototype.propertyIsEnumerable,tt=(e,t,r)=>t in e?Xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const rt=function(e){const t=e,{serverEntityID:r,providerEntityID:a,metadataListEntityID:i,containerKey:o,listType:s,listSubtype:l,listContext:c,columnAdjustment:d}=t,p=((e,t)=>{var r={};for(var n in e)$e.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Je)for(var n of Je(e))t.indexOf(n)<0&&et.call(e,n)&&(r[n]=e[n]);return r})(t,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","listType","listSubtype","listContext","columnAdjustment"]),m=(0,Qe.Z)(s,c,{providerEntityID:a});return n.createElement(ge.Z,((e,t)=>{for(var r in t||(t={}))$e.call(t,r)&&tt(e,r,t[r]);if(Je)for(var r of Je(t))et.call(t,r)&&tt(e,r,t[r]);return e})({layout:Ge(s,l,c,d,m.length),cellRenderer:(0,De.Z)({serverEntityID:r,providerEntityID:a,metadataListEntityID:i,containerKey:o,listType:s,listContext:c,titleComponents:m},je.Z)},p))},nt=function(e){const{serverEntityID:t,providerEntityID:r,metadataListEntityID:a,metadataItemEntityIDs:s,containerKey:l,listType:c,listStyle:d,populatedRange:p,isPopulated:m,isPending:y,error:u,listTitle:I,titleButtonTitle:h,titleButtonRoute:E,totalSize:v,previewSize:P,viewportWidth:f,viewportHeight:D,contentHeight:g,scrollTop:b,columnAdjustment:w,onPageRequest:O}=e,Z=v||s.length,S=null!=P&&Z>P?P:Z,T=null!=P&&Z>P,M=function(e){switch(e){case me.MOSAIC:return Re;default:return rt}}(d),x=I||(0,oe.Z)(c,Z),R=d===me.TABLE||d===me.SUMMARY||d===me.SIMPLE_SUMMARY||d===me.EPG_EPISODE;return n.createElement(pe,{listType:c,isPopulated:m,isPending:y,error:u,size:S},x?n.createElement(se.Z,{className:"PrePlayDescendantList-descendantHubCellHeader-H7rExw HubCellHeader-hubCellHeader-G-yd6D"},n.createElement(le.Z,null,x),T||null!=h?n.createElement(o.Z,{className:"PrePlayDescendantList-titleButton-2s27qw",to:E},h||(0,i.Z)("See all")):null):null,R?n.createElement(he,null):null,n.createElement(Ie,{contentHeight:g,scrollTop:b},n.createElement(M,{serverEntityID:t,providerEntityID:r,metadataListEntityID:a,containerKey:l,listType:c,listContext:C.sD,keyPropName:"metadataItemEntityID",items:s,itemsOffset:p.start,size:S,viewportWidth:f,viewportHeight:D,columnAdjustment:w,onPageRequest:O})),R?n.createElement(ye,null):null)};var at=r(28025),it=r(2484),ot=r(17393);class st extends n.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return(0,I.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:r,metadataListEntityID:a,title:i,summary:o,art:s,listType:l,listStyle:c,pageHeight:d,scrollTop:p}=this.props,{isContentMeasured:m,contentWidth:y,contentHeight:I}=this.state,h=!(!m||!a);return n.createElement(u.Z,{ignorePosition:!0,onMeasure:this.onContentMeasure},n.createElement(re.Z,null,n.createElement(it.Z,null,n.createElement(at.Z,null,i),n.createElement(ot.Z,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:r}))),n.createElement(te.Z,null),o?n.createElement(re.Z,null,n.createElement(ie.Z,null,o)):null,n.createElement(ae,null,h?n.createElement(ee.Z,{serverEntityID:e,providerEntityID:t,metadataListEntityID:a,listType:l,listStyle:c,component:nt,initialSize:1e3,showArtwork:!!s,viewportWidth:y,viewportHeight:d,contentHeight:I,scrollTop:p}):null))}}const lt=st;var ct=r(91135),dt=r(66151);function pt({className:e,children:t}){return n.createElement("div",{className:e},t)}pt.defaultProps={className:"PrePlayMetadataContent-content-2UkIeM"};const mt=pt;var yt=r(51792);const ut=function(e){const{serverEntityID:t,providerEntityID:r,metadataItemEntityID:a,metadataKey:i,type:o,subtype:s,posterWidth:l,posterHeight:c,posterUrl:d,showLinkOnly:p}=e;return n.createElement(yt.Z,{cardFaceClassName:"PrePlayPosterCard-face-ozCulL MetadataPosterCardFace-face-3oaw1P MetadataPosterCardFace-poster-11uR3N",serverEntityID:t,providerEntityID:r,metadataItemEntityID:a,metadataKey:i,type:o,subtype:s,imageWidth:l,imageHeight:c,imageUrl:d,showLink:!1,showSelect:!1,showEdit:!1,showMore:!1,showLinkOnly:p})};function It(e){const{children:t,serverEntityID:r,providerEntityID:a,metadataItemEntityID:i,columnAdjustment:o,showPoster:s,posterType:l,metadataKey:c,type:d,subtype:p,thumb:m,pageWidth:y}=e,u=(0,dt.Z)(y,o),I=(0,ke.Cr)(u,l||d,p,C.sD);return n.createElement("div",{className:"PrePlayDetailsContainer-container-1QNusy"},s?n.createElement(ut,{serverEntityID:r,providerEntityID:a,metadataItemEntityID:i,metadataKey:c,type:d,subtype:p,posterType:l,posterWidth:u,posterHeight:I,posterUrl:m}):null,s?n.createElement(mt,null,t):n.createElement("div",null,t))}It.defaultProps={showPoster:!0};const ht=It;var Et=r(757),vt=r(17524),Pt=r(73862),ft=r(62034),Dt=r(52918),gt=r(39776),bt=r(51693),wt=r(27082),Ot=r(78876),Zt=r(90961);const Ct=parseInt(He.Z.playQueueItemHeight,10),St=(0,Zt.Z)(Ct);var Tt=r(90937),Mt=r(10079),xt=r(36793),Rt=r(83296),jt=r(59155);function At(){return(0,E.P1)(((e,{playlistItemEntityID:t})=>t),jt.Z,((e,t)=>t[e]))}function Nt(){return(0,E.P1)(At(),ve.Z,(({metadataItem:e},t)=>t[e]))}var Lt=r(55175),kt=r(53181),Ht=r(21709),Kt=r(98313),Bt=r(94184),Ut=r.n(Bt),Wt=r(27028),zt=r(41523),Ft=r(4746),_t=r(53863),Vt=r(81914),qt=r(59756),Yt=r(79932),Gt=r(45206),Qt=r(67635),Xt=r(60208),$t=r(28889),Jt=r(73588),er=r(45100),tr=r(52097),rr=r(46412),nr=r(74424),ar=r(84699),ir=r(34504),or=r(5148),sr=r(97930);const lr=function({className:e,index:t}){return null==t?null:n.createElement("span",{className:e},t)};var cr=r(7378);const dr=function({className:e,duration:t,isPreview:r}){return r?n.createElement("span",{className:e},(0,i.Z)("Preview")):t?n.createElement("span",{className:e},(0,cr.Z)(t)):null};function pr(e){const{className:t,indexContainerClassName:r,titlesContainerClassName:a,sourceTextClassName:i,durationContainerClassName:o,attributionContainerClassName:s,serverEntityID:l,providerEntityID:c,metadataItemEntityID:d,cellIndex:p,type:m,subtype:y,title:u,duration:I,context:h,imageWidth:E,imageHeight:v,imageUrl:P,isPlaying:f,isPlayerPaused:D,hasOfflineFile:g,hasOwnSubscription:b,showAvailableOffline:w,source:O,ratingKey:Z,onPlayPress:C}=e,S=(0,Qe.Z)(m,h,{providerEntityID:c,subtype:y});return n.createElement("div",{className:t},n.createElement("div",{className:r},f?null:n.createElement(lr,{className:"PlaylistItemMetadata-transientTitleLeft-2fP-D6 PlaylistItemMetadata-transientTitle-1aog4C",index:p+1}),f?null:n.createElement(tr.Z,{className:"PlaylistItemMetadata-playButton-zaez9Y PlayButton-playButton-2dFmuo PlaylistItemMetadata-button-3RJWpM",title:u,onPress:C}),f?n.createElement(nr.Z,{className:"PlaylistItemMetadata-equalizer-1pAcHU EqualizerIcon-equalizer-u2_y9X",isPaused:D}):null),n.createElement("div",{className:"PlaylistItemMetadata-cardContainer-2v91Lj"},n.createElement(ar.Z,{key:d,className:"PlaylistItemMetadata-card-FOgMoU QuickSearchMetadataPosterCard-card-oRXsxj MetadataPosterButtonCard-card-3uptBn",serverEntityID:l,providerEntityID:c,component:or.Z,width:E,height:v,url:P})),n.createElement("div",{className:a,"data-qa-id":"playlistTitleContainer"},S.map(((e,t)=>n.createElement(sr.Z,{key:t,serverEntityID:l,providerEntityID:c,metadataItemEntityID:d,component:e,isSecondary:t>0})))),w?n.createElement("div",{className:s},n.createElement(rr.Z,{className:"PlaylistItemMetadata-downloadIcon-Ve8P-F DownloadIcon-downloadIcon-14Rs3Q PlexIcon-plexIcon-2sd7AW",size:16,arrowSize:16,lineWidth:1.5,source:O,ratingKey:Z,hasOfflineFile:g,hasOwnSubscription:b})):null,w?n.createElement(ir.Z,{metadataItemEntityID:d,providerEntityID:c}):null,n.createElement(er.Z,{className:s,textClassName:i,serverEntityID:l,metadataItemEntityID:d}),I?n.createElement("div",{className:o},n.createElement(dr,{className:"PlaylistItemMetadata-transientTitleRight-YqkIA8 PlaylistItemMetadata-transientTitle-1aog4C",duration:I})):null)}pr.defaultProps={className:"PlaylistItemMetadata-container-1f8VgC",indexContainerClassName:"PlaylistItemMetadata-indexContainer-1vXczr",titlesContainerClassName:"PlaylistItemMetadata-titlesContainer-1hRklJ",durationContainerClassName:"PlaylistItemMetadata-durationContainer-1nYSjh",attributionContainerClassName:"PlaylistItemMetadata-attributionContainer-1lzcjG SourceBadge-container-2qG-GJ"};const mr=pr;var yr=Object.defineProperty,ur=Object.prototype.hasOwnProperty,Ir=Object.getOwnPropertySymbols,hr=Object.prototype.propertyIsEnumerable,Er=(e,t,r)=>t in e?yr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vr=(e,t)=>{for(var r in t||(t={}))ur.call(t,r)&&Er(e,r,t[r]);if(Ir)for(var r of Ir(t))hr.call(t,r)&&Er(e,r,t[r]);return e};const Pr=(0,O.Z)((function(){return(0,E.P1)((0,P.Z)(),(0,Gt.Z)(),(0,Qt.Z)(),(e=>e.ui.audioVideoPlayer.isPaused),((e={},t,r,n)=>{const a=C.zg,i=(0,ke.n3)(e.type,e.subtype,a)===ke.oz?64:36,o=(0,Xt.Z)(i,null,e.type,e.subtype,e,a),s=!(!e.ratingKey||!t)&&qt.Z.allowSyncDownload;return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,type:e.type,subtype:e.subtype,metadataKey:e.key,duration:e.duration,ratingKey:e.ratingKey,context:a,imageWidth:o.width,imageHeight:o.height,imageUrl:o.url,isPlaying:r,isPlayerPaused:n,source:t,title:e.title,hasOfflineFile:(0,$t.Z)(e),hasOwnSubscription:(0,Jt.Z)(e),showAvailableOffline:s}}))}),(function(e,t){const r={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e((0,Yt.wA)(vr(vr({},r),{playlistMetadataItemEntityID:t.metadataListEntityID})))}}}))(mr);class fr extends n.Component{constructor(e,t){super(e,t),this.onActionsMenuOpenChange=e=>{this.setState({isActionsMenuOpen:e})},this.state={isActionsMenuOpen:!1}}render(){const{serverEntityID:e,itemServerEntityID:t,providerEntityID:r,itemProviderEntityID:a,metadataItemEntityID:l,metadataListEntityID:c,metadataKey:d,listType:p,title:m,isSmart:y,isReadOnly:u,isSelected:I,isEmbeddedServer:h,hasActiveSelection:E,isOtherItemSelected:v,isModifierKeyPressed:P,cellIndex:f,isDragging:D,connectDragSource:g,onRemovePress:b,onSelectPress:w,onDeselectPress:O}=this.props,Z=!(y||u||h),C=Z&&(P||v),S=E?"-1":"0";return n.createElement("div",{className:Ut()(f%2?"PlaylistItemRow-alternateContainer-PgN-XN PlaylistItemRow-container-3HxFv1":"PlaylistItemRow-container-3HxFv1",E&&"PlaylistItemRow-hasActiveSelection-38RLJw",C&&"PlaylistItemRow-isForcingSelection-3xkQQu",I&&"PlaylistItemRow-isSelected-3NKyPz",D&&"PlaylistItemRow-isItemDragging-1shkqZ")},Z?n.createElement(o.Z,{className:"PlaylistItemRow-underlay-2d_aCx","aria-label":I?(0,i.Z)("Deselect {title}",{title:m}):(0,i.Z)("Select {title}",{title:m}),tabIndex:E?"0":"-1",onPress:I?O:w}):null,n.createElement("div",{className:"PlaylistItemRow-overlay-2NhQb-","data-qa-id":"playlistItem"},Z?g(n.createElement("div",{className:"PlaylistItemRow-moveControl-2V4bCc","data-qa-id":"playlistReorderItem"},n.createElement(Vt.Z,{className:"PlaylistItemRow-grabIcon-3bI_5P"}))):null,n.createElement(Pr,{className:"PlaylistItemRow-metadataContainer-3PEE5a PlaylistItemMetadata-container-1f8VgC",sourceTextClassName:"PlaylistItemRow-sourceText-3BTWjv",durationContainerClassName:"PlaylistItemRow-metadataDurationContainer-1216RE PlaylistItemMetadata-durationContainer-1nYSjh",attributionContainerClassName:"PlaylistItemRow-attributionContainer-1tnPZQ PlaylistItemMetadata-attributionContainer-1lzcjG SourceBadge-container-2qG-GJ",serverEntityID:e,itemServerEntityID:t,providerEntityID:r,itemProviderEntityID:a,metadataItemEntityID:l,metadataListEntityID:c,metadataKey:d,listType:p,cellIndex:f}),n.createElement("div",{className:"PlaylistItemRow-otherControls-15EPTg"},Z?n.createElement(zt.Z,{className:"PlaylistItemRow-selectButton-10onwm SelectButton-selectButton-Yy19xn PlaylistItemRow-button-FNfiLy",title:m,isSelected:I,onPress:I?O:w}):null,n.createElement(Ft.Z,{"data-qa-id":"metadataRowMoreButton",className:"PlaylistItemRow-moreButton-uN_crn IconButton-button-llQ1So",tabIndex:S,serverEntityID:e,itemServerEntityID:t,providerEntityID:r,itemProviderEntityID:a,metadataItemEntityID:l,containerKey:d,listType:p,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:this.state.isActionsMenuOpen,onMenuOpenChange:this.onActionsMenuOpenChange}),Z?n.createElement(Wt.Z,{className:"PlaylistItemRow-removeButton-Y9iy8D IconButton-button-llQ1So","data-qa-id":"playlistRemoveButton",iconComponent:_t.Z,title:(0,i.Z)("Remove"),kind:s.T,onPress:b}):null)))}}fr.defaultProps={isDragging:!1,connectDragSource:e=>e};const Dr=fr,gr=(0,Ee.$j)((function(e,t){return(0,E.P1)(((e,{playlistItemEntityID:t})=>t),At(),Nt(),(0,R.Z)(),Lt.Z,kt.Z,((e,{playlistItemID:t},r,n,a,i)=>({itemServerEntityID:r.serverEntityID,itemProviderEntityID:r.providerEntityID,metadataItemEntityID:r.entityID,metadataKey:r.key,title:r.title,selectionID:e,selectionType:r.type,activeSelectionType:i.activeSelectionType,isSelected:(0,Kt.Z)(a,t),isEmbeddedServer:n})))}),(function(e,t){const r={playlistItemEntityID:t.playlistItemEntityID};return{onSelectItem(t){e((0,Dt.GL)(t))},onDeselectItem(t){e((0,Dt.oF)(t))},onRemovePress(){e((0,Dt.Mj)(r))}}}))((0,Ht.Z)(Dr));var br=Object.defineProperty,wr=Object.prototype.hasOwnProperty,Or=Object.getOwnPropertySymbols,Zr=Object.prototype.propertyIsEnumerable,Cr=(e,t,r)=>t in e?br(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class Sr extends n.Component{shouldComponentUpdate(e,t){return(0,I.Z)(this,e,t)}render(){const{item:e,itemType:t,currentOffset:r}=this.props;if(!r||t!==xt.gO)return null;const a=(0,Rt.Z)(r,e.viewportWidth);return n.createElement(Mt.Z,null,n.createElement("div",{className:"PlaylistItemDragPreview-dragPreview-3_VVQH",style:a},n.createElement(gr,((e,t)=>{for(var r in t||(t={}))wr.call(t,r)&&Cr(e,r,t[r]);if(Or)for(var r of Or(t))Zr.call(t,r)&&Cr(e,r,t[r]);return e})({isDragging:!0},e))))}}const Tr=(0,Tt.rE)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(Sr);var Mr=r(11956),xr=r(87161),Rr=r(73935),jr=r(86382);var Ar=Object.defineProperty,Nr=Object.prototype.hasOwnProperty,Lr=Object.getOwnPropertySymbols,kr=Object.prototype.propertyIsEnumerable,Hr=(e,t,r)=>t in e?Ar(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Kr={beginDrag(e){const{providerEntityID:t,serverEntityID:r,metadataListEntityID:n,playlistItemEntityID:a,cellIndex:i,isSmart:o,isReadOnly:s,listType:l,viewportWidth:c}=e;return{providerEntityID:t,serverEntityID:r,metadataListEntityID:n,playlistItemEntityID:a,cellIndex:i,isSmart:o,isReadOnly:s,listType:l,viewportWidth:c}},endDrag(e,t,r){e.onItemDragEnd(t.getItem(),t.didDrop())}},Br={hover(e,t,r){const n=(0,Rr.findDOMNode)(r).getBoundingClientRect(),a=(n.bottom-n.top)/2,i=t.getClientOffset().y-n.top,o=e.cellIndex,s=i>a?o+1:o;e.onItemDragMove(s)}};class Ur extends n.Component{componentDidMount(){this.props.connectDragPreview((0,xr.rX)())}shouldComponentUpdate(e,t){return(0,I.Z)(this,e,t)}render(){const{moveIndex:e,cellIndex:t,isOver:r,isDragging:a,connectDropTarget:i}=this.props,o=r&&e===t,s=r&&e===t+1;return i(n.createElement("div",{className:Ut()("PlaylistItemDragSource-container-7dyenh",a&&jr.fN,o&&r&&jr.DT,s&&r&&jr.QZ)},n.createElement(gr,((e,t)=>{for(var r in t||(t={}))Nr.call(t,r)&&Hr(e,r,t[r]);if(Lr)for(var r of Lr(t))kr.call(t,r)&&Hr(e,r,t[r]);return e})({},this.props))))}}const Wr=(0,Tt.GR)(xt.gO,Br,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((0,Tt.Ej)(xt.gO,Kr,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(Ur)),zr=function(e){return n.createElement("div",{className:e.cellIndex%2?"PlaylistItemLoading-alternateContainer-uW7Ae_ PlaylistItemLoading-container-3g2IfE":"PlaylistItemLoading-container-3g2IfE"},(0,i.Z)("Loading..."))};var Fr=Object.defineProperty,_r=Object.prototype.hasOwnProperty,Vr=Object.getOwnPropertySymbols,qr=Object.prototype.propertyIsEnumerable,Yr=(e,t,r)=>t in e?Fr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Gr=(0,n.memo)((function(e){const t=e,{cellIndex:r,playlistItemEntityID:a,isSmart:i,isReadOnly:o}=t,s=((e,t)=>{var r={};for(var n in e)_r.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Vr)for(var n of Vr(e))t.indexOf(n)<0&&qr.call(e,n)&&(r[n]=e[n]);return r})(t,["cellIndex","playlistItemEntityID","isSmart","isReadOnly"]),l=(0,Mr.Z)(e),c=i||o?gr:Wr;return n.createElement("div",{style:l.style},a?n.createElement(c,((e,t)=>{for(var r in t||(t={}))_r.call(t,r)&&Yr(e,r,t[r]);if(Vr)for(var r of Vr(t))qr.call(t,r)&&Yr(e,r,t[r]);return e})({playlistItemEntityID:a,cellIndex:r,isSmart:i,isReadOnly:o},s)):n.createElement(zr,{cellIndex:r}))}));var Qr=Object.defineProperty,Xr=Object.prototype.hasOwnProperty,$r=Object.getOwnPropertySymbols,Jr=Object.prototype.propertyIsEnumerable,en=(e,t,r)=>t in e?Qr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tn=(e,t)=>{for(var r in t||(t={}))Xr.call(t,r)&&en(e,r,t[r]);if($r)for(var r of $r(t))Jr.call(t,r)&&en(e,r,t[r]);return e};class rn extends n.Component{constructor(e,t){super(e,t),this.onItemDragMove=e=>{e!==this.state.moveIndex&&this.setState({moveIndex:e})},this.onItemDragEnd=(e,t)=>{const{moveIndex:r}=this.state;t&&null!=r&&(0,wt.c9)((()=>{this.props.dispatchMovePlaylistItem(tn(tn({},e),{moveIndex:r}))})),this.setState({moveIndex:null})},this.state={moveIndex:null}}_getItemCountLabel(){return(0,bt.Z)(this.props.playlistType,this.props.size)}render(){const e=this.props,{serverEntityID:t,providerEntityID:r,metadataItemEntityID:a,metadataKey:l,playlistType:c,contentWidth:d,contentHeight:p,scrollTop:m,items:y,isSmart:u,isReadOnly:I,size:h,duration:E,onEditFilters:v}=e,P=((e,t)=>{var r={};for(var n in e)Xr.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&$r)for(var n of $r(e))t.indexOf(n)<0&&Jr.call(e,n)&&(r[n]=e[n]);return r})(e,["serverEntityID","providerEntityID","metadataItemEntityID","metadataKey","playlistType","contentWidth","contentHeight","scrollTop","items","isSmart","isReadOnly","size","duration","onEditFilters"]),f={serverEntityID:t,providerEntityID:r,metadataListEntityID:a,metadataKey:l,listType:c,activeSort:"titleSort",isSmart:u,isReadOnly:I,showLink:!1,showPlayIndex:!1,showPlayCellIndex:!0,showActionsDuration:!0,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd,moveIndex:this.state.moveIndex};if(0===h)return n.createElement("div",null,c===ct.pX?(0,i.Z)("This playlist has no videos."):(0,i.Z)("This playlist has no tracks."));const D=u&&!I;return n.createElement("div",null,n.createElement(se.Z,{className:"PlaylistItemTable-header-3ubzi- HubCellHeader-hubCellHeader-G-yd6D"},n.createElement(le.Z,null,this._getItemCountLabel(),D?n.createElement(o.Z,{className:"PlaylistItemTable-editLink-pp9l9G",kind:s._8,onPress:v},(0,i.Z)("Edit filters")):null),E?n.createElement("span",{className:"PlaylistItemTable-durationTitle-1C4v1X"},(0,gt.Z)(E)):null),n.createElement(he,null),n.createElement(ge.Z,tn({layout:St,containerKey:l,keyPropName:"playlistItemEntityID",cellRenderer:(0,De.Z)(f,Gr),items:y,size:h,viewportWidth:d,viewportHeight:p,scrollTop:m,firstItemType:c,listType:c,moveIndex:this.state.moveIndex},P)),n.createElement(ye,null),u||I?null:n.createElement(Tr,{serverEntityID:t,providerEntityID:r}))}}const nn=(0,Ot.Z)(rn);var an=Object.defineProperty,on=Object.prototype.hasOwnProperty,sn=Object.getOwnPropertySymbols,ln=Object.prototype.propertyIsEnumerable,cn=(e,t,r)=>t in e?an(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dn=(e,t)=>{for(var r in t||(t={}))on.call(t,r)&&cn(e,r,t[r]);if(sn)for(var r of sn(t))ln.call(t,r)&&cn(e,r,t[r]);return e};class pn extends n.Component{constructor(e,t){super(e,t),this.onItemDragMove=e=>{e!==this.state.moveIndex&&this.setState({moveIndex:e})},this.onItemDragEnd=(e,t)=>{const{moveIndex:r}=this.state;t&&null!==r&&this.props.onItemDropped(dn(dn({},e),{moveIndex:r})),this.setState({moveIndex:null})},this.state={moveIndex:null}}render(){const e=this.props,{showPreview:t,createCellRenderer:r,listComponent:a,previewComponent:i}=e,o=((e,t)=>{var r={};for(var n in e)on.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&sn)for(var n of sn(e))t.indexOf(n)<0&&ln.call(e,n)&&(r[n]=e[n]);return r})(e,["showPreview","createCellRenderer","listComponent","previewComponent"]),s={onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd};return n.createElement(a,dn({moveIndex:this.state.moveIndex,cellRenderer:r(s)},o),t?n.createElement(i,dn({},o)):null)}}const mn=(0,Ot.Z)(pn);var yn=r(5450),un=r(77199);class In extends n.Component{constructor(){super(...arguments),this.onPlayPress=()=>{this.props.onPlayPress(this.props.metadataItemEntityID)},this.onEditPress=()=>{this.props.onEditPress(this.props.metadataItemEntityID)}}render(){const{serverEntityID:e,providerEntityID:t,itemServerEntityID:r,itemProviderEntityID:a,metadataItemEntityID:i,playlistItemID:o,metadataKey:s,type:l,thumb:c,title:d,width:p,height:m,hasActiveSelection:y,isSelected:u,isOtherItemSelected:I,isModifierKeyPressed:h,isDragging:E,isSmart:v,isExternal:P,canDrag:f,connectDragSource:D,onSelectPress:g,onDeselectPress:b,onRemovePress:w}=this.props,O=l===H.CLIP,Z=!s;return D(n.createElement("div",{className:"PlaylistPhotoItem-photoContainer-2BwjMR MetadataPhotoCell-photoContainer-3x1j-I"},n.createElement("div",{className:Ut()("PlaylistPhotoItem-photo-3hyRJ4 MetadataPhotoCell-photo-2k-z8S MetadataPosterCardFace-face-3oaw1P MetadataPosterCardFace-poster-11uR3N",u&&"PlaylistPhotoItem-isSelected-RdDXB3 MetadataPosterCardFace-isSelected-2dld-q")},n.createElement("div",{className:"PlaylistPhotoItem-image-3IuzlE MetadataPhotoCell-image-2NZnEq"},Z?null:n.createElement(ar.Z,{key:o||s,serverEntityID:r,providerEntityID:a,component:or.Z,url:c,width:p,height:m}),n.createElement(un.Z,{serverEntityID:e,providerEntityID:t,itemServerEntityID:r,itemProviderEntityID:a,metadataItemEntityID:i,title:d,showPlay:!0,showEdit:!P,showSelect:!v,showRemove:!v,hasActiveSelection:y,isSelected:u,isOtherItemSelected:I,isModifierKeyPressed:h,isDragging:E,canDrag:f,onPlayPress:this.onPlayPress,onEditPress:this.onEditPress,onSelectPress:g,onDeselectPress:b,onRemovePress:w}),O?n.createElement("div",{className:"PlaylistPhotoItem-badge-3S9xL8 MetadataPhotoCell-badge-28uFUQ"},n.createElement(yn.Z,null)):null))))}}In.defaultProps={connectDragSource:e=>e};const hn=In;var En=Object.defineProperty,vn=Object.prototype.hasOwnProperty,Pn=Object.getOwnPropertySymbols,fn=Object.prototype.propertyIsEnumerable,Dn=(e,t,r)=>t in e?En(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gn=(e,t)=>{for(var r in t||(t={}))vn.call(t,r)&&Dn(e,r,t[r]);if(Pn)for(var r of Pn(t))fn.call(t,r)&&Dn(e,r,t[r]);return e};const bn="VERTICAL";function wn(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}function On(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}class Zn extends n.Component{componentDidMount(){this.props.connectDragPreview((0,xr.rX)())}shouldComponentUpdate(e,t){return(0,I.Z)(this,e,t)}render(){const e=this.props,{dragClassName:t,indexPropName:r,moveIndex:a,isDragging:i,isOver:o,connectDropTarget:s,connectDragSource:l,connectDragPreview:c,itemComponent:d}=e,p=((e,t)=>{var r={};for(var n in e)vn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Pn)for(var n of Pn(e))t.indexOf(n)<0&&fn.call(e,n)&&(r[n]=e[n]);return r})(e,["dragClassName","indexPropName","moveIndex","isDragging","isOver","connectDropTarget","connectDragSource","connectDragPreview","itemComponent"]),m=this.props[r],y=o&&a===m,u=o&&a===m+1;return s(n.createElement("div",{className:Ut()(t,i&&jr.fN,y&&o&&jr.DT,u&&o&&jr.QZ)},n.createElement(d,gn({connectDragSource:l,canDrag:!0,isDragging:i},p))))}}const Cn=function({itemComponent:e,dragClassName:t,dragType:r,direction:a=bn,idAttribute:i,indexPropName:o}){return(0,Tt.GR)(r,function({direction:e,indexPropName:t}){return{hover(r,n,a){const i=(0,Rr.findDOMNode)(a).getBoundingClientRect(),o=(i.right-i.left)/2,s=(i.bottom-i.top)/2,l=n.getClientOffset(),c=l.x-i.left,d=l.y-i.top,p=r[t],m=(e===bn?d>s:c>o)?p+1:p;r.onItemDragMove(m)}}}({direction:a,indexPropName:o}),On)((0,Tt.Ej)(r,function({idAttribute:e}){return{beginDrag:t=>({[e]:t[e]}),endDrag(e,t,r){e.onItemDragEnd(t.getItem(),t.didDrop())}}}({idAttribute:i}),wn)((s={itemComponent:e,indexPropName:o,dragClassName:t},e=>n.createElement(Zn,gn(gn({},s),e)))));var s}({itemComponent:hn,indexPropName:"cellIndex",direction:"HORIZONTAL",idAttribute:"playlistItemEntityID",dragType:xt.SU,dragClassName:"PlaylistPhotoSortableItem-draggable-207j02"});var Sn=Object.defineProperty,Tn=Object.prototype.hasOwnProperty,Mn=Object.getOwnPropertySymbols,xn=Object.prototype.propertyIsEnumerable,Rn=(e,t,r)=>t in e?Sn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const jn=parseInt(He.Z.mosaicCellPadding,10);var An=Object.defineProperty,Nn=Object.prototype.hasOwnProperty,Ln=Object.getOwnPropertySymbols,kn=Object.prototype.propertyIsEnumerable,Hn=(e,t,r)=>t in e?An(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Kn=(e,t)=>{for(var r in t||(t={}))Nn.call(t,r)&&Hn(e,r,t[r]);if(Ln)for(var r of Ln(t))kn.call(t,r)&&Hn(e,r,t[r]);return e};const Bn=(0,O.Z)((function(){return(0,E.P1)(((e,{playlistItemEntityID:t})=>t),At(),Nt(),Lt.Z,kt.Z,((e,{playlistItemID:t},r={},n,a)=>{const{serverEntityID:i,providerEntityID:o,entityID:s,key:l,source:c,type:d,thumb:p,title:m}=r;return{listType:ct.pV,playlistItemID:t,itemServerEntityID:i,itemProviderEntityID:o,metadataItemEntityID:s,metadataKey:l,isExternal:!!c,type:d,thumb:p,title:m,selectionID:e,selectionType:ct.pV,activeSelectionType:a.activeSelectionType,isSelected:(0,Kt.Z)(n,t)}}))}),(function(e,t){const r={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(n){e((0,Yt.wA)(Kn(Kn({},r),{playlistMetadataItemEntityID:t.playlistMetadataItemEntityID,metadataItemEntityID:n})))},onEditPress(t){e((0,Pt.editMetadataItem)(Kn(Kn({},r),{metadataItemEntityID:t})))},onRemovePress(){t.onRemoveItem({playlistItemEntityID:t.playlistItemEntityID})}}}))((0,Ht.Z)((function(e){const t=e,{cellX:r,cellY:a,cellWidth:i,cellHeight:o,isSmart:s}=t,l=((e,t)=>{var r={};for(var n in e)Tn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Mn)for(var n of Mn(e))t.indexOf(n)<0&&xn.call(e,n)&&(r[n]=e[n]);return r})(t,["cellX","cellY","cellWidth","cellHeight","isSmart"]),c=(0,Mr.Z)(e),d=s?hn:Cn,p=i-2*jn,m=o-2*jn;return n.createElement("div",{style:c.style},n.createElement(d,((e,t)=>{for(var r in t||(t={}))Tn.call(t,r)&&Rn(e,r,t[r]);if(Mn)for(var r of Mn(t))xn.call(t,r)&&Rn(e,r,t[r]);return e})({width:p,height:m,isSmart:s},l)))}))),Un=(0,Ee.$j)(null,(function(e){return{onSelectItem(t){e((0,Dt.GL)(t))},onDeselectItem(t){e((0,Dt.oF)(t))},onRemoveItem(t){e((0,Dt.Mj)(t))}}}))(Bn);var Wn=r(37568),zn=r(57614);const Fn=100,_n=(0,Ee.$j)((function(){return(0,E.P1)(((e,{playlistItemEntityID:t})=>t),jt.Z,ve.Z,((e,t,r)=>{const n=r[t[e].metadataItem],a=Math.min(Math.max((0,Pe.Z)(n),.5),2),i=a>1;return{width:i?Fn*a:Fn,height:i?Fn:Fn/a,thumb:n.thumb}}))}))((function(e){const{width:t,height:r}=e;return n.createElement(zn.Z,{serverEntityID:e.serverEntityID,url:e.thumb,width:t,height:r,component:Wn.Z})}));var Vn=Object.defineProperty,qn=Object.prototype.hasOwnProperty,Yn=Object.getOwnPropertySymbols,Gn=Object.prototype.propertyIsEnumerable,Qn=(e,t,r)=>t in e?Vn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Xn=(e,t)=>{for(var r in t||(t={}))qn.call(t,r)&&Qn(e,r,t[r]);if(Yn)for(var r of Yn(t))Gn.call(t,r)&&Qn(e,r,t[r]);return e};class $n extends n.Component{render(){const{item:e,currentOffset:t,serverEntityID:r}=this.props;if(!t||!e)return null;const a=Xn(Xn({},(0,Rt.Z)(t)),{display:"inline-block",width:"auto"});return n.createElement(Mt.Z,null,n.createElement("div",{className:"PlaylistPhotoDragPreview-dragPreview-2OIfzH",style:a},n.createElement(_n,{serverEntityID:r,playlistItemEntityID:e.playlistItemEntityID})))}}const Jn=(0,Tt.rE)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getClientOffset()}}))($n);var ea=Object.defineProperty,ta=Object.prototype.hasOwnProperty,ra=Object.getOwnPropertySymbols,na=Object.prototype.propertyIsEnumerable,aa=(e,t,r)=>t in e?ea(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ia=(e,t)=>{for(var r in t||(t={}))ta.call(t,r)&&aa(e,r,t[r]);if(ra)for(var r of ra(t))na.call(t,r)&&aa(e,r,t[r]);return e};class oa extends n.Component{constructor(){super(...arguments),this.createCellRenderer=e=>{const{serverEntityID:t,providerEntityID:r,playlistMetadataItemEntityID:n,playlistRatingKey:a,isSmart:i,listType:o}=this.props;return(0,De.Z)(ia({serverEntityID:t,providerEntityID:r,playlistMetadataItemEntityID:n,ratingKey:a,listType:o,isSmart:i},e),Un)}}render(){const e=this.props,{isSmart:t,onItemDropped:r}=e,a=((e,t)=>{var r={};for(var n in e)ta.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&ra)for(var n of ra(e))t.indexOf(n)<0&&na.call(e,n)&&(r[n]=e[n]);return r})(e,["isSmart","onItemDropped"]);return n.createElement(mn,ia({showPreview:!t,listComponent:xe,previewComponent:Jn,createCellRenderer:this.createCellRenderer,onItemDropped:r},a))}}const sa=oa,la={onItemDropped:Dt.YQ},ca=(0,Ee.$j)((function(){return(0,E.P1)(((e,{items:t})=>t),((e,{serverEntityID:t})=>t),((e,{providerEntityID:t})=>t),(0,P.Z)(),jt.Z,ve.Z,((e=[],t,r,n,a,i)=>{const o=e.map((e=>{const t=a[e];return(0,Pe.Z)(i[t.metadataItem])}));return{listType:n.playlistType,aspectRatios:o,playlistMetadataItemEntityID:n.entityID,playlistRatingKey:n.ratingKey,isSmart:!!n.smart,isReadOnly:!!n.readOnly}}))}),la)(sa),da="PlaylistItemList-emptyMessage-1BjFqA PlaylistItemList-emptyContainer-kb95PC";var pa=Object.defineProperty,ma=Object.prototype.hasOwnProperty,ya=Object.getOwnPropertySymbols,ua=Object.prototype.propertyIsEnumerable,Ia=(e,t,r)=>t in e?pa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ha=(e,t)=>{for(var r in t||(t={}))ma.call(t,r)&&Ia(e,r,t[r]);if(ya)for(var r of ya(t))ua.call(t,r)&&Ia(e,r,t[r]);return e};const Ea=function(e){const t=e,{contentHeight:r,scrollTop:a,showArtwork:o,showSpinner:s,showError:l,listType:d,isEmpty:p}=t,m=((e,t)=>{var r={};for(var n in e)ma.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&ya)for(var n of ya(e))t.indexOf(n)<0&&ua.call(e,n)&&(r[n]=e[n]);return r})(t,["contentHeight","scrollTop","showArtwork","showSpinner","showError","listType","isEmpty"]);return s?n.createElement("div",{className:"PlaylistItemList-emptyContainer-kb95PC"},n.createElement(c.Z,null)):l?n.createElement("div",{className:da},(0,i.Z)("Unable to load items")):p?n.createElement("div",{className:da},d===ct.pV?(0,i.Z)("There are no items in this album"):(0,i.Z)("There are no items in this playlist")):n.createElement(Ie,{showArtwork:o,contentHeight:r,scrollTop:a},d===ct.pV?n.createElement(ca,ha({},m)):n.createElement(nn,ha({},m)))};var va=Object.defineProperty,Pa=Object.prototype.hasOwnProperty,fa=Object.getOwnPropertySymbols,Da=Object.prototype.propertyIsEnumerable,ga=(e,t,r)=>t in e?va(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ba=(e,t)=>{for(var r in t||(t={}))Pa.call(t,r)&&ga(e,r,t[r]);if(fa)for(var r of fa(t))Da.call(t,r)&&ga(e,r,t[r]);return e};const wa={dispatchInitPlaylistItemList:Dt.VL,dispatchResetPlaylistItemList:Dt.iq,dispatchPopulatePlaylistItemRange:Dt.d6,dispatchDeselectAllPlaylistItems:ft.mD,dispatchMovePlaylistItem:Dt.YQ,dispatchEditFilters:Pt.modifySmartPlaylist};class Oa extends n.Component{constructor(){super(...arguments),this.onPageRequest=({startIndex:e,endIndex:t})=>{const r=vt.wB(this.props.providerIdentifier,vt.xF);this.props.dispatchPopulatePlaylistItemRange({pages:r?1:void 0,startIndex:e,endIndex:t})},this.onEditFilters=()=>{this.props.dispatchEditFilters({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,metadataItemEntityID:this.props.metadataItemEntityID})}}componentDidMount(){this._populate()}componentDidUpdate(e){this.props.metadataKey!==e.metadataKey&&this._populate()}componentWillUnmount(){this.props.dispatchDeselectAllPlaylistItems(),this.props.dispatchResetPlaylistItemList()}_populate(){const{serverEntityID:e,providerEntityID:t,metadataKey:r,providerIdentifier:n,dispatchInitPlaylistItemList:a,dispatchPopulatePlaylistItemRange:i}=this.props;a({serverEntityID:e,providerEntityID:t,metadataKey:r}),i({pages:vt.wB(n,vt.xF)?1:void 0,startIndex:0,endIndex:39})}render(){const e=this.props,{dispatchInitPlaylistItemList:t,dispatchPopulatePlaylistItemRange:r,dispatchDeselectAllPlaylistItems:a,dispatchEditFilters:i}=e,o=((e,t)=>{var r={};for(var n in e)Pa.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&fa)for(var n of fa(e))t.indexOf(n)<0&&Da.call(e,n)&&(r[n]=e[n]);return r})(e,["dispatchInitPlaylistItemList","dispatchPopulatePlaylistItemRange","dispatchDeselectAllPlaylistItems","dispatchEditFilters"]);return n.createElement(Ea,ba(ba({},o),{onEditFilters:this.onEditFilters,onPageRequest:this.onPageRequest}))}}const Za=(0,Ee.$j)((function(e,t){return(0,E.P1)((e=>e.ui.playlistPage),(0,P.Z)(),Et.Z,((e,t,r)=>{const{serverEntityID:n,providerEntityID:a,metadataKey:i,playlistItemList:o={},isPlaylistItemListPending:s,isPlaylistItemListPopulated:l,playlistItemListError:c}=e,{ratingKey:d,playlistType:p,smart:m,readOnly:y,duration:u}=t,{metadataItems:I=[],populatedRange:h={},totalSize:E}=o;return{serverEntityID:n,providerEntityID:a,metadataKey:i,ratingKey:d,providerIdentifier:r.identifier,listType:p,keyPropName:"playlistItemEntityID",isSmart:!!m,isReadOnly:!!y,populatedRange:h,items:I,size:E,itemsOffset:h.start,duration:u,isEmpty:l&&!E,showArtwork:!1,showSpinner:s&&!l,showError:c}}))}),wa)(Oa);class Ca extends n.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return(0,I.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:r,metadataKey:a,title:i,type:o,playlistType:s,summary:l,composite:c,thumb:d,pageWidth:p,pageHeight:m,scrollTop:y,columnAdjustment:I}=this.props,{contentWidth:h,contentHeight:E,isContentMeasured:v}=this.state;return n.createElement(u.Z,{ignorePosition:!0,onMeasure:this.onContentMeasure},n.createElement(ht,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:r,showPoster:s!==ct.pV,metadataKey:a,type:o,thumb:d||c,pageWidth:p,columnAdjustment:I},n.createElement(re.Z,null,n.createElement(it.Z,null,i)),n.createElement(te.Z,null),l?n.createElement(re.Z,null,n.createElement(ie.Z,null,l)):null),n.createElement(ae,null,v?n.createElement(Za,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:r,playlistType:s,contentHeight:E,viewportWidth:h,viewportHeight:m,scrollTop:y}):null))}}const Sa=Ca;var Ta=Object.defineProperty,Ma=Object.prototype.hasOwnProperty,xa=Object.getOwnPropertySymbols,Ra=Object.prototype.propertyIsEnumerable,ja=(e,t,r)=>t in e?Ta(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Aa={photoalbum:lt,playlist:Sa};class Na extends n.Component{componentDidMount(){this.props.onLibraryChange(this.props.providerIdentifier,this.props.librarySectionID),this.props.onBackgroundChange(this.props.backgroundImageUrl,!!this.props.art),this.props.onThemeMusicChange(this.props.theme),this.props.isRemotePlayer&&this.props.onMirrorDetails()}componentDidUpdate(e){const{librarySectionID:t,providerIdentifier:r,backgroundImageUrl:n,art:a,theme:i,isRemotePlayer:o,onLibraryChange:s,onBackgroundChange:l,onThemeMusicChange:c,onMirrorDetails:d}=this.props;t!==e.librarySectionID&&s(r,t),e.backgroundImageUrl!==n&&l(n,!!a),e.theme!==i&&c(i),!e.isRemotePlayer&&o&&d()}componentWillUnmount(){this.props.onLibraryChange(null,null)}render(){const e=this.props,{providerIdentifier:t,providerMetricsIdentifier:r,type:a,subtype:i,art:o,listStyle:s,onBackgroundChange:l}=e,c=((e,t)=>{var r={};for(var n in e)Ma.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&xa)for(var n of xa(e))t.indexOf(n)<0&&Ra.call(e,n)&&(r[n]=e[n]);return r})(e,["providerIdentifier","providerMetricsIdentifier","type","subtype","art","listStyle","onBackgroundChange"]),d=function(e){return e?Aa[e]||J:$}(a),p=a===H.GAME;return n.createElement(Q,{identifier:r,type:a,style:s,showArtwork:!!o},n.createElement(d,((e,t)=>{for(var r in t||(t={}))Ma.call(t,r)&&ja(e,r,t[r]);if(xa)for(var r of xa(t))Ra.call(t,r)&&ja(e,r,t[r]);return e})({type:a,subtype:i,art:o,listStyle:s,showGenres:!p,showStreams:!p},c)))}}const La=Na;function ka(e,t,r){if(r)switch(r){case C.sD:switch(t){case"podcast":switch(e){case"track":return[me.SIMPLE_SUMMARY]}break;case"webshow":switch(e){case"episode":return[me.SIMPLE_SUMMARY]}}switch(e){case"track":return[me.TABLE]}break;case a.$4:switch(e){case"track":return[me.TABLE]}break;case C.Ap:return[me.SHARED_ITEMS]}switch(t){case"podcast":switch(e){case"show":return[me.POSTER,me.TABLE,me.SUMMARY];case"track":return[me.TABLE,me.SIMPLE_SUMMARY]}}switch(e){case"movie":case"show":return[me.POSTER,me.TABLE,me.SUMMARY];case"season":return[me.POSTER,me.TABLE];case"episode":case"artist":case"album":return[me.POSTER,me.TABLE,me.SUMMARY];case"track":return[me.POSTER,me.TABLE];case"photo":case"photoalbum":return[me.MOSAIC];case"clip":return[me.POSTER,me.TABLE];case"collection":return[me.POSTER,me.SUMMARY];default:return[me.POSTER]}}function Ha(e,t,r,n={}){return vt.wB(n.identifier,vt.Ll)?function(e,t,r){if(r)switch(r){case C.sD:return[me.EPG_EPISODE]}switch(e){case"show":case"episode":case"movie":return[me.POSTER]}return ka(e,t,r)}(e,t,r):ka(e,t,r)}var Ka=r(42248);function Ba(e,t,r,n,a){if(!r)return;const i=Ha(r,n,t,a);if(1===i.length)return i[0];let o;const s=(0,Ka.Z)(r,n);return e[t]&&(o=e[t][s]),o&&i.indexOf(o)>-1?o:i[0]}const Ua=(0,Z.Z)(La,(function(e){return{descendantKey:e.ui.prePlayPage.descendantKey}}),(function(e,t){e((0,M.wL)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,descendantKey:t.descendantKey}))})),Wa=(0,O.Z)((function(){return(0,E.P1)(b.Z,g.Z,(0,P.Z)(),(0,E.P1)((0,P.Z)(),(e=>{if(!e||!e.childrenKey)return;const t=e.key,r=e.skipChildren?"grandchildren":"children";return v.Z.join([t,r])})),L,N,A,K(),(0,E.P1)((0,f.Z)(),(e=>!(!e||!e.isPopulated))),D.Z,(0,R.Z)(),((e,t,r,n,a,i,o,s,l,c,d)=>{const{type:p,subtype:m}=r,y=(0,Xt.G)(p,m,r,C.sD),u=y||r.thumb||r.parentThumb||r.grandparentThumb,I=r.grandparentArt||r.parentArt||r.art,h=r.grandparentTheme||r.parentTheme||r.theme,E=a?I||u:u||I,v=Ba(o,C.sD,s,r.subtype,t),P=(0,w.d)(e,t.features.actions.save);return{librarySectionID:r.librarySectionID,providerIdentifier:t.identifier,providerMetricsIdentifier:t.metricsIdentifier,metadataKey:r.key,descendantKey:n,attribution:r.attribution,attributionLogo:r.attributionLogo,title:r.title,type:r.type,subtype:r.subtype,year:r.year,contentRating:r.contentRating,minYear:r.minYear,maxYear:r.maxYear,summary:r.summary,showAddToSaved:P&&null!=r.saved,thumb:y,parentThumb:r.parentThumb,grandparentThumb:r.grandparentThumb,composite:r.composite,art:a?I:void 0,theme:i?h:void 0,backgroundImageUrl:E,playlistType:r.playlistType,isListReady:l,onDeckMetadataItemEntityID:r.onDeck,extrasMetadataListEntityID:r.extras,popularLeavesMetadataListEntityID:r.popularLeaves,listType:s,listStyle:v,isRemotePlayer:c,isEmbeddedServer:d,watchlistedAt:r.watchlistedAt}}))}),(function(e,t){return{onLibraryChange(r,n){let a;t.sourceDirectory&&(a=t.sourceDirectory.id),!a&&n&&(a=n),e((0,x.changeQuickSearchSettings)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:r,directoryID:a}))},onBackgroundChange(r,n){e((0,S.ZZ)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,imageUrl:r,allowBlur:!n}))},onThemeMusicChange(r){e((0,S.ZX)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,theme:r}))},onMirrorDetails(){e((0,T.yU)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID}))}}}))(Ua);class za extends n.Component{constructor(e,t){super(e,t),this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.onContentMeasure=({width:e,height:t,y:r})=>{(e||t)&&this.setState({isMeasured:!0,pageWidth:e,pageHeight:t,pageY:r})},this.state={scrollTop:0,isMeasured:!1,pageWidth:0,pageHeight:0,pageY:0}}shouldComponentUpdate(e,t){return(0,I.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:r,metadataListEntityID:a,columnAdjustment:i,record:o,allEpisodes:s}=this.props,{scrollTop:l,isMeasured:c,pageWidth:d,pageHeight:p,pageY:m}=this.state;return n.createElement(u.Z,{className:"PrePlayPageContent-prePlayPageContentContainer-3ITR6t PageContent-pageContent-aqfjwt",onMeasure:this.onContentMeasure},n.createElement(h.Z,{className:"PrePlayPageContent-prePlayPageContent-1hhe3O",scrollTop:l,onScrollPositionChange:this.onScrollPositionChange},c?n.createElement(Wa,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:r,metadataListEntityID:a,pageWidth:d,pageHeight:p,pageY:m,scrollTop:l,columnAdjustment:i,record:o,allEpisodes:s}):null))}}const Fa=za;var _a=r(4134),Va=r(74253),qa=r(67006),Ya=r(34470),Ga=r(63312),Qa=r(41859),Xa=r(24351),$a=r(50948),Ja=r(53851),ei=r(66088),ti=r(24754),ri=r(5612),ni=r(4516),ai=r(9564),ii=r(70474),oi=r(34544),si=r(6638),li=Object.defineProperty,ci=Object.prototype.hasOwnProperty,di=Object.getOwnPropertySymbols,pi=Object.prototype.propertyIsEnumerable,mi=(e,t,r)=>t in e?li(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const yi={dispatchPreFetch:M.t4};class ui extends n.Component{componentDidMount(){this._preFetch()}componentDidUpdate(e){this.props.metadataItemEntityID!==e.metadataItemEntityID&&this._preFetch()}_preFetch(){const{metadataItemEntityID:e,isDisabled:t,dispatchPreFetch:r}=this.props;t||r({metadataItemEntityID:e})}render(){const e=this.props,{serverEntityID:t,providerEntityID:r,metadataItemEntityID:a,dispatchPreFetch:i,metricsPage:o,metricsContext:s}=e,l=((e,t)=>{var r={};for(var n in e)ci.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&di)for(var n of di(e))t.indexOf(n)<0&&pi.call(e,n)&&(r[n]=e[n]);return r})(e,["serverEntityID","providerEntityID","metadataItemEntityID","dispatchPreFetch","metricsPage","metricsContext"]);return n.createElement(Ga.Z,((e,t)=>{for(var r in t||(t={}))ci.call(t,r)&&mi(e,r,t[r]);if(di)for(var r of di(t))pi.call(t,r)&&mi(e,r,t[r]);return e})({},l))}}const Ii=(0,O.Z)((function(){return(0,E.P1)(((e,{metricsContext:t})=>t),Va.Z,g.Z,(0,P.Z)(),((e,t,r,n={})=>{const a={legacy:1};return e&&(a.context=e),{to:(0,si.Z)(t,r,n.key,a),isDisabled:!n.key}}))}),yi)(ui),hi=(0,Ee.$j)((function(){return(0,E.P1)(((e,{metadataItemEntityID:t})=>t),(0,f.Z)(),((e,t={})=>{const r=t.metadataItems,n=r.indexOf(e),a=n+1,i=n-1;let o,s;return i>-1&&(o=r[i]),a>0&&a<r.length&&(s=r[a]),{previousMetadataItemEntityID:o,nextMetadataItemEntityID:s}}))}))((function({serverEntityID:e,providerEntityID:t,previousMetadataItemEntityID:r,nextMetadataItemEntityID:a}){return n.createElement("div",null,n.createElement(Ii,{serverEntityID:e,"data-qa-id":"toolbarPrevious",providerEntityID:t,metadataItemEntityID:r},n.createElement(oi.Z,null)),n.createElement(Ii,{serverEntityID:e,"data-qa-id":"toolbarNext",providerEntityID:t,metadataItemEntityID:a},n.createElement(ii.Z,null)))}));var Ei=r(74287),vi=r(82378),Pi=r(63210),fi=r(55278);const Di=(0,O.Z)((function(){return(0,E.P1)(((e,{selectedKey:t})=>t),((e,{metricsContext:t})=>t),Va.Z,g.Z,(0,P.Z)(),(0,Pi.Z)(),((e,t,r,n,a={},i)=>({title:a.title,to:i,isSelected:e===a.key})))}))((function({title:e,to:t,isSelected:r}){return t?n.createElement(fi.Z,{to:t,isSelected:r},e):null})),gi="PrePlayPageHeaderSiblingsMenu-emptyContainer-2-w9y_",bi=function(e){const{serverEntityID:t,providerEntityID:r,metadataItemEntityIDs:a,isPending:o,error:s,selectedKey:l,target:d,isOpen:p,onMenuClose:m}=e,y=!!a.length,u=!y&&o,I=!y&&!o&&!!s,h=!y&&!u&&!I;return n.createElement(Ei.Z,{target:d,isOpen:p,size:vi.ln,onMenuClose:m},u?n.createElement("span",{className:gi},n.createElement(c.Z,null)):null,I?n.createElement("span",{className:gi},(0,i.Z)("Unable to load items")):null,h?n.createElement("span",{className:gi},(0,i.Z)("No items")):null,a.map((e=>n.createElement(Di,{key:e,serverEntityID:t,providerEntityID:r,metadataItemEntityID:e,selectedKey:l}))))};var wi=r(34007),Oi=r(94803),Zi=r(89984),Ci=r(6055),Si=r(72181),Ti=r(32846),Mi=r(90980),xi=r(3345),Ri=r(1691),ji=r(19469),Ai=r(66788),Ni=r(22103),Li=r(75696),ki=r(49354),Hi=r(11203),Ki=r(74319),Bi=r(10444);const Ui=(0,E.P1)((0,P.Z)(),(e=>({watchlistedAt:e.watchlistedAt}))),Wi=(0,Ee.$j)(Ui,(function(e,t){const r={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID};return{onPress(){e((0,Hi.ZA)(r))}}}))((function(e){const{watchlistedAt:t,onPress:r}=e;return n.createElement(Ga.Z,{"data-qa-id":"toolbarAddToWatchList",tooltip:t?(0,i.Z)("Remove from Watchlist"):(0,i.Z)("Add to Watchlist"),onPress:r},t?n.createElement(Bi.Z,null):n.createElement(Ki.Z,null))}));var zi=r(97454),Fi=r(39071);function _i(e){const{markUnplayed:t,onPress:r}=e;return n.createElement(Ga.Z,{"data-qa-id":"toolbarToggleWatched",tooltip:t?(0,i.Z)("Mark as Unplayed"):(0,i.Z)("Mark as Played"),onPress:r},n.createElement(Fi.Z,null))}_i.defaultProps={markUnplayed:!1};const Vi=_i;var qi=r(70007),Yi=r(17845);function Gi(e){var t=e["aria-label"],r=e.className,a=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-artist-tv-icon-560"};i["aria-hidden"]=!t,i.style=a,i.className=Yi.Z.plexIcon+(r?" "+r:"");var o=[n.createElement.apply(n,["path",{d:"M29.218 420.218h503v-308h-503v308zm307 28v56c0 .327 18.667.327 56 0v28h-224v-28h56c.327 0 .327-18.667 0-56l-224-.5c-.49 0 0-363.01 0-363.5 0-.49 559.51 0 560 0 .327 0 .327 121.333 0 364 0 .327-74.667.327-224 0zm-55.61-139.931c-15.108 0-27.356-12.248-27.356-27.356 0-15.109 12.248-27.357 27.357-27.357 15.108 0 27.356 12.248 27.356 27.357 0 15.108-12.248 27.356-27.356 27.356zm48.566 9.768c8.87-10.546 14.193-24.034 14.193-38.734 0-18.883-8.784-35.767-22.588-46.984l15.585-13.98c18.068 15.053 29.532 37.5 29.532 62.574 0 19.632-7.029 37.654-18.753 51.778l-17.97-14.654zm-87.808-86.457c-14.337 11.207-23.516 28.42-23.516 47.723 0 15.74 6.104 30.092 16.13 40.93l-16.068 13.195c-12.096-14.23-19.372-32.54-19.372-52.515 0-24.509 10.954-46.508 28.322-61.546l14.504 12.213zm130.092 126.117c18.58-20.945 29.84-48.372 29.84-78.394 0-34.317-14.712-65.243-38.253-86.974l14.355-13.014c26.627 25.193 43.209 60.677 43.209 99.988 0 34.688-12.911 66.396-34.241 90.683l-14.91-12.289zM194.603 195.78c-21.45 21.495-34.684 50.993-34.684 83.541 0 29.677 11.003 56.819 29.203 77.67l-14.864 12.335c-20.977-24.198-33.65-55.638-33.65-90.005 0-37.324 14.948-71.197 39.25-96.09l14.745 12.55z"}].concat([]))];return t&&o.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",i].concat(o))}Gi.propTypes={"aria-label":U().string,className:U().string,style:U().object};const Qi=Gi;var Xi=Object.defineProperty,$i=Object.prototype.hasOwnProperty,Ji=Object.getOwnPropertySymbols,eo=Object.prototype.propertyIsEnumerable,to=(e,t,r)=>t in e?Xi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const ro=function(e){return n.createElement(Ga.Z,((e,t)=>{for(var r in t||(t={}))$i.call(t,r)&&to(e,r,t[r]);if(Ji)for(var r of Ji(t))eo.call(t,r)&&to(e,r,t[r]);return e})({tooltip:(0,i.Z)("Artist TV")},e),n.createElement(Qi,null))};var no=r(61525),ao=r(15410),io=Object.defineProperty,oo=Object.prototype.hasOwnProperty,so=Object.getOwnPropertySymbols,lo=Object.prototype.propertyIsEnumerable,co=(e,t,r)=>t in e?io(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const po=function(e){return n.createElement(Ga.Z,((e,t)=>{for(var r in t||(t={}))oo.call(t,r)&&co(e,r,t[r]);if(so)for(var r of so(t))lo.call(t,r)&&co(e,r,t[r]);return e})({tooltip:(0,i.Z)("Play Radio")},e),n.createElement(ao.Z,null))};var mo=r(26861),yo=Object.defineProperty,uo=Object.prototype.hasOwnProperty,Io=Object.getOwnPropertySymbols,ho=Object.prototype.propertyIsEnumerable,Eo=(e,t,r)=>t in e?yo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const vo=function(e){return n.createElement(Ga.Z,((e,t)=>{for(var r in t||(t={}))uo.call(t,r)&&Eo(e,r,t[r]);if(Io)for(var r of Io(t))ho.call(t,r)&&Eo(e,r,t[r]);return e})({tooltip:(0,i.Z)("Play Trailer")},e),n.createElement(mo.Z,null))};var Po=r(90444);var fo=Object.defineProperty,Do=Object.prototype.hasOwnProperty,go=Object.getOwnPropertySymbols,bo=Object.prototype.propertyIsEnumerable,wo=(e,t,r)=>t in e?fo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Oo=function(e){var t=e,{title:r}=t,a=((e,t)=>{var r={};for(var n in e)Do.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&go)for(var n of go(e))t.indexOf(n)<0&&bo.call(e,n)&&(r[n]=e[n]);return r})(t,["title"]);return n.createElement(Ga.Z,((e,t)=>{for(var r in t||(t={}))Do.call(t,r)&&wo(e,r,t[r]);if(go)for(var r of go(t))bo.call(t,r)&&wo(e,r,t[r]);return e})({tooltip:(0,i.Z)("Record"),className:"ToolbarRecordButton-toolbarRecordButton-wz4UZY ToolbarButton-toolbarButton-APIhWk PlayButton-playButton-2dFmuo RecordIcon-recordIconContainer-3wNYSz","data-qa-id":"toolbarRecord"},a),n.createElement(Po.Z,null))};var Zo=r(79501),Co=Object.defineProperty,So=Object.prototype.hasOwnProperty,To=Object.getOwnPropertySymbols,Mo=Object.prototype.propertyIsEnumerable,xo=(e,t,r)=>t in e?Co(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Ro=function(e){return n.createElement(Ga.Z,((e,t)=>{for(var r in t||(t={}))So.call(t,r)&&xo(e,r,t[r]);if(To)for(var r of To(t))Mo.call(t,r)&&xo(e,r,t[r]);return e})({tooltip:(0,i.Z)("Settings"),"data-qa-id":"toolbarSettings"},e),n.createElement(Zo.Z,null))};var jo=r(37723),Ao=r(11353),No=r(50930),Lo=r(39543),ko=Object.defineProperty,Ho=Object.prototype.hasOwnProperty,Ko=Object.getOwnPropertySymbols,Bo=Object.prototype.propertyIsEnumerable,Uo=(e,t,r)=>t in e?ko(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Wo=(e,t)=>{for(var r in t||(t={}))Ho.call(t,r)&&Uo(e,r,t[r]);if(Ko)for(var r of Ko(t))Bo.call(t,r)&&Uo(e,r,t[r]);return e};const zo=function(e){const t=e,{hasDownloadState:r,hasOfflineFile:a,hasOwnSubscription:i,isDisabled:o,label:s,progress:l}=t,c=((e,t)=>{var r={};for(var n in e)Ho.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Ko)for(var n of Ko(e))t.indexOf(n)<0&&Bo.call(e,n)&&(r[n]=e[n]);return r})(t,["hasDownloadState","hasOfflineFile","hasOwnSubscription","isDisabled","label","progress"]),d=null!==l&&l>=0;return n.createElement(Ga.Z,Wo(Wo({},c),{isDisabled:o,tooltip:s,"data-qa-id":"toolbarSync"}),!i||r||d?n.createElement(No.Z,{progress:l,isDisabled:o,showIndeterminate:r}):n.createElement(Lo.Z,null))};var Fo=r(32539),_o=r(24334),Vo=r(92885),qo=r(67633);const Yo=(0,Fo.ZP)((function(e){const{className:t,serverEntityID:r,providerEntityID:a,metadataItemEntityID:o,type:s,subtype:l,title:c,viewedLeafCount:d,unviewedLeafCount:p,isLiveTV:m,metricsPage:y,showRecord:u,showPlay:I,showPlayOverflow:h,showPlayTrailer:E,showPlayTrailerOverflow:v,showPlayRadio:P,showPlayRadioOverflow:f,showPlayArtistTV:D,showPlayArtistTVOverflow:g,showShuffle:b,showShuffleOverflow:w,showAddToPlaylist:O,showAddToPlaylistOverflow:Z,showAddToSaved:C,showAddToWatchlist:S,showAddToWatchlistOverflow:T,showTogglePlayed:M,showTogglePlayedOverflow:x,showMarkPlayed:R,showMarkUnplayed:j,showEdit:A,showEditOverflow:N,showSettings:L,showSettingsOverflow:k,showSync:K,showSyncOverflow:B,showSyncDownload:U,showSyncDownloadOverflow:W,showOverflow:z,onPlayPress:F,onPlayLiveTVPress:_,onPlayTrailerPress:V,onPlayRadioPress:q,onPlayArtistTVPress:Y,onShufflePress:G,onEditPress:Q,onSyncPress:X,onCancelDownloadActivity:$,onDeleteDownloadSubscription:J,onCreateDownloadSubscription:ee}=e,te=(0,_o.Z)(),re=(0,Vo.Z)(e.onMarkPlayedConfirm),ne=(0,Vo.Z)(e.onMarkUnplayedConfirm),ae=(0,Vo.Z)(),ie=(0,Vo.Z)(),oe=(0,Vo.Z)(),se=(0,Mi.Gb)({metadataItemEntityID:o,metricsPage:y,providerEntityID:a,serverEntityID:r,onCancelDownloadActivity:$,onDeleteDownloadSubscription:J,onCreateDownloadSubscription:ee}),le=(0,n.useCallback)((()=>{(I||h)&&F()}),[F,I,h]),ce=(0,n.useCallback)((()=>{(A||N)&&Q()}),[A,N,Q]);return(0,n.useEffect)((()=>(Ti.Z.on("shortcut:playSelected",le),Ti.Z.on("shortcut:edit",ce),()=>{Ti.Z.off("shortcut:playSelected",le),Ti.Z.off("shortcut:edit",ce)}))),n.createElement("div",{className:t},u?n.createElement(Oo,{title:c,onPress:ae.onOpen}):null,I?n.createElement(no.Z,{playLabel:(0,i.Z)("Play"),onPress:m?_:F}):null,E?n.createElement(vo,{onPress:V}):null,b?n.createElement(jo.Z,{onPress:G}):null,P?n.createElement(po,{onPress:q}):null,D?n.createElement(ro,{onPress:Y}):null,S?n.createElement(Wi,{metadataItemEntityID:o,providerEntityID:a,serverEntityID:r}):null,O?n.createElement(ki.Z,{serverEntityID:r,providerEntityID:a,metadataItemEntityID:o,onAddToPlaylistPress:oe.onOpen}):null,M&&R?n.createElement(Vi,{type:s,subtype:l,onPress:re.onOpen}):null,M&&j&&!R?n.createElement(Vi,{type:s,subtype:l,markUnplayed:!0,onPress:ne.onOpen}):null,A?n.createElement(zi.Z,{onPress:Q}):null,L?n.createElement(Ro,{onPress:ie.onOpen}):null,K?n.createElement(Ao.Z,{onPress:X}):null,U?n.createElement(Mi.ZP,{component:zo,metadataItemEntityID:o,providerEntityID:a,serverEntityID:r,onPress:se.onPress}):null,z?n.createElement(qi.Z,{id:te.menuButtonID,iconComponent:qo.Z,label:(0,i.Z)("More..."),isMenuOpen:te.isMenuOpen,onPress:te.onMenuButtonPress}):null,n.createElement(Ri.Z,{serverEntityID:r,providerEntityID:a,metadataItemEntityID:o,allowRedirectOnDelete:!0,showPlay:h,showPlayTrailer:v,showPlayRadio:f,showPlayArtistTV:g,showQueuePlexMix:!1,showShuffle:w,showAddToPlaylist:Z,showAddToSaved:C&&s!==H.SHOW,showAddToWatchlist:T,showEdit:N,showSettings:k,showMarkPlayed:x&&R,showMarkUnplayed:x&&j,showSync:B,showSyncDownload:W,target:te.menuButtonID,isOpen:te.isMenuOpen,onMenuClose:te.onMenuClose}),R?n.createElement(ji.Z,{isOpen:re.isOpen,type:s,subtype:l,title:c,leafCount:p,onConfirm:re.onConfirm,onCancel:re.onClose}):null,O?n.createElement(Ni.Z,{serverEntityID:r,providerEntityID:a,metadataItemEntityID:o,isOpen:oe.isOpen,onModalClose:oe.onClose}):null,j?n.createElement(ji.Z,{isOpen:ne.isOpen,type:s,subtype:l,title:c,leafCount:d,markUnplayed:!0,onConfirm:ne.onConfirm,onCancel:ne.onClose}):null,n.createElement(Li.Z,{serverEntityID:r,providerEntityID:a,metadataItemEntityID:o,isOpen:ae.isOpen,subscriptionType:s,onModalClose:ae.onClose}),U?n.createElement(xi.Z,{isOpen:se.isOpen,state:se.state,onConfirm:se.onConfirm,onClose:se.onClose}):null,n.createElement(Ai.Z,{serverEntityID:r,providerEntityID:a,metadataItemEntityID:o,isOpen:ie.isOpen,onModalClose:ie.onClose}))}),["showPlay","showPlayTrailer","showPlayRadio","showPlayArtistTV","showShuffle","showAddToWatchlist","showAddToPlaylist","showTogglePlayed","showEdit","showSettings","showSync","showSyncDownload"],["showPlayVersion","showPlayAll","showQueue","showPlayPlexMix","showPlayMusicVideo","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showOptimize","showDownload","showDelete","showDeleteVersion","showGetInfo"]);var Go=Object.defineProperty,Qo=Object.prototype.hasOwnProperty,Xo=Object.getOwnPropertySymbols,$o=Object.prototype.propertyIsEnumerable,Jo=(e,t,r)=>t in e?Go(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,es=(e,t)=>{for(var r in t||(t={}))Qo.call(t,r)&&Jo(e,r,t[r]);if(Xo)for(var r of Xo(t))$o.call(t,r)&&Jo(e,r,t[r]);return e};const ts=(0,O.Z)((function(){return(0,E.P1)(Va.Z,g.Z,b.Z,(0,P.Z)(),(0,R.Z)(),((e,t,r,n,a)=>{const{type:i,subtype:o,title:s,viewedLeafCount:l,unviewedLeafCount:c}=n,d=(0,Si.ZP)({server:e,provider:t,stableUser:r,metadataItem:n}),p=d.showMarkPlayed||d.showMarkUnplayed,m=!!t.protocols.livetv,y=!a&&e.isFullServer&&!!t.features.subscribe&&t.features.subscribe.flavor===Oi._N;return es({type:i,subtype:o,title:s,viewedLeafCount:l,unviewedLeafCount:c,isLiveTV:m,showRecord:y,showTogglePlayed:p},d)}))}),(function(e,t){const r={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e(Yt.wA(r))},onPlayLiveTVPress(){e((0,wi.lS)(r))},onPlayTrailerPress(){e(Yt.EF(r))},onPlayRadioPress(){e(Yt.QR(es({playlistType:Zi.j0},r)))},onPlayArtistTVPress(){e(Yt.QR(es({playlistType:Zi.pX},r)))},onShufflePress(){e(Yt.Em(r))},onMarkPlayedConfirm(){e(Pt.markMetadataItemPlayed(es(es({},r),{skipConfirm:!0})))},onMarkUnplayedConfirm(){e(Pt.markMetadataItemUnplayed(es(es({},r),{skipConfirm:!0})))},onEditPress(){e(Pt.editMetadataItem(r))},onSyncPress(){e(Pt.syncMetadataItem(r))},onGetInfoPress(){e(Pt.getMetadataItemInfo(r))},onCancelDownloadActivity(){e(Ci.FX(r))},onDeleteDownloadSubscription(){e(Ci.L7(r))},onCreateDownloadSubscription(){e(Ci.A$(r))}}}))(Yo);var rs=r(19164);const ns="PrePlayPageHeader-divider-1HRbLi PageHeaderDivider-pageHeaderDivider-3zhiwc";class as extends n.Component{constructor(e,t){super(e,t),this.onSiblingsMenuButtonPress=e=>{this.setState({isSiblingsMenuOpen:!this.state.isSiblingsMenuOpen})},this.onSiblingsMenuClose=()=>{this.setState({isSiblingsMenuOpen:!1})},this.onToggleArtworkPress=e=>{this.props.onArtworkToggle(!this.props.isArtworkButtonSelected)},this.state={isSiblingsMenuOpen:!1},this._siblingsMenuButtonID=(0,Ja.Z)()}shouldComponentUpdate(e,t){return(0,I.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:r,siblingsMetadataListEntityID:a,sourceDirectory:o,metadataKey:s,grandparentTitle:l,parentTitle:c,title:d,skipParent:p,grandparentRoute:m,parentRoute:y,showArtworkButton:u,isArtworkButtonSelected:I,listType:h,listSubtype:E,listStyle:v,allListStyles:P}=this.props,{isSiblingsMenuOpen:f}=this.state;if(!s)return null;const D=!!a,g=h&&me.showListStyles(P,v);return n.createElement(ti.Z,{className:D||u&&!g?"PrePlayPageHeader-altPageHeader-3rg9zs PrePlayPageHeader-pageHeader-2e8Pda PageHeader-pageHeader-WpvbJc":"PrePlayPageHeader-pageHeader-2e8Pda PageHeader-pageHeader-WpvbJc"},n.createElement(ni.Z,{containerComponent:Xa.Z,serverEntityID:e,providerEntityID:t,sourceDirectory:o},l?n.createElement(Qa.Z,{to:m,hasMenu:!1,isDisabled:!m},l):null,!p&&c?n.createElement(Qa.Z,{to:y,hasMenu:!1,isDisabled:!y},c):null,d?n.createElement(Qa.Z,{id:this._siblingsMenuButtonID,hasMenu:D,isMenuOpen:f,isDisabled:!D,onPress:this.onSiblingsMenuButtonPress},d):null,D?n.createElement(ee.Z,{serverEntityID:e,providerEntityID:t,metadataListEntityID:a,component:bi,initialSize:1/0,target:this._siblingsMenuButtonID,isOpen:f,selectedKey:s,onMenuClose:this.onSiblingsMenuClose}):null),n.createElement($a.Z,null,n.createElement(ts,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:r}),u?n.createElement(ri.Z,{className:ns}):null,u?n.createElement(Ga.Z,{tooltip:I?(0,i.Z)("Hide Artwork"):(0,i.Z)("Show Artwork"),"data-qa-id":"toolbarToggleArtwork",isSelected:I,hideOnPress:!1,tooltipAttachment:g||D?ei.eO:ei.OI,onPress:this.onToggleArtworkPress},n.createElement(rs.Z,null)):null,g?n.createElement(n.Fragment,null,n.createElement(ri.Z,{className:ns}),n.createElement(ai.Z,{listType:h,listSubtype:E,listContext:C.sD,selectedListStyle:v,allListStyles:P})):null,D?n.createElement(ri.Z,{className:ns}):null,D?n.createElement(hi,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:r,metadataListEntityID:a}):null))}}const is=as,os=(0,Z.Z)(is,(function(e){return{siblingKey:e.ui.prePlayPage.siblingKey}}),(function(e,t){e((0,M.tt)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,siblingKey:t.siblingKey}))})),ss=(0,O.Z)((function(){return(0,E.P1)(((e,{metricsContext:t})=>t),(e=>e.ui.prePlayPage),Va.Z,g.Z,(0,E.P1)(g.Z,(0,P.Z)(),((e,t)=>{const r=e&&e.features.content;if(!t||!r)return null;if(e.protocols[Ya.K])return r.directories.find((e=>e.hubKey&&!e.key));const{librarySectionKey:n,librarySectionID:a,isPlaylist:i}=t;return n||a?r.directories.find((e=>e.id?e.id===a:!!e.key&&e.key===n)):i?r.directories.find((e=>e.type===qa.zg)):void 0})),(0,P.Z)(),(0,E.P1)((0,P.Z)(),(e=>{if(!e)return;const t=e.skipParent,r=t?e.grandparentKey:e.parentKey;if(!r)return;const n=t?"grandchildren":"children";return v.Z.join([r,n])})),L,A,K(),((e,t,r,n,a,i,o,s,l,c)=>{const{grandparentKey:d,parentKey:p,key:m,grandparentTitle:y,parentTitle:u,title:I,skipParent:h,subtype:E}=i,v=Ba(l,C.sD,c,E,n),P=Ha(c,E,C.sD,n),f={legacy:1};return e&&(f.context=e),{siblingsMetadataListEntityID:t.siblingList,sourceDirectory:a,metadataKey:m,siblingKey:o,grandparentTitle:y,parentTitle:u,title:I,skipParent:h,grandparentRoute:(0,si.Z)(r,n,d,f),parentRoute:(0,si.Z)(r,n,p,f),showArtworkButton:!!i.art,isArtworkButtonSelected:s,listType:c,listSubtype:E,listStyle:v,allListStyles:P}}))}),(function(e,t){return{onArtworkToggle(t){e((0,_a.LN)({showPrePlayArtwork:t}))}}}))(os);var ls=r(22134);const cs=function(e){const{serverEntityID:t,providerEntityID:r,metadataItemEntityID:u,metadataListEntityID:I,showSpinner:h,showError:E,showNotFoundError:v,activeSelectionType:P,columnAdjustment:f,record:D,allEpisodes:g,multiSelectToolbarComponent:b}=e;return h?n.createElement(p.Z,null,n.createElement(c.Z,null)):E?v?n.createElement(m.Z,{title:(0,i.Z)("The media you're looking for isn't here"),description:(0,i.Z)("It may have been removed from the media server, or moved to a new location")},n.createElement(o.Z,{to:"#",kind:s._8},(0,i.Z)("Go home"))):n.createElement(y.Z,{title:(0,i.Z)("There was an unexpected error loading this item")}):n.createElement(d.Z,{metricsPage:a.sD,isMetricsDelegated:!0,scrollDirection:l.Hn},P?n.createElement(ls.Z,{serverEntityID:t,providerEntityID:r,toolbarComponent:b,allowRedirectOnDelete:!0}):n.createElement(ss,{serverEntityID:t,providerEntityID:r,metadataItemEntityID:u}),n.createElement(Fa,{serverEntityID:t,providerEntityID:r,metadataItemEntityID:u,metadataListEntityID:I,columnAdjustment:f,record:D,allEpisodes:g}))}}}]);