/*! For license information please see main-179-ef9e307ae495f17f7aee-plex-4.54.5-09228e8.js.LICENSE.txt */
(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[179],{76486:(e,t,n)=>{"use strict";e.exports=n.p+"static/b38a559594ac52d049ba.png"},46865:(e,t,n)=>{"use strict";e.exports=n.p+"static/24cb7f1a5e2d0102f05f.png"},57159:(e,t,n)=>{"use strict";e.exports=n.p+"static/479017288a229d836f44.png"},80974:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ic3Ryb2tlLW1pdGVybGltaXQ6MS40MTQyMTtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2UtbGluZWpvaW46cm91bmQiPgogPGNpcmNsZSBpZD0iMCIgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIiBzdHlsZT0iZmlsbDp1cmwoIzMpIi8+CiA8Y2lyY2xlIGlkPSIxIiBjeD0iNTAiIGN5PSI1MCIgcj0iNDciIHN0eWxlPSJmaWxsOnVybCgjNCkiLz4KIDxwYXRoIGlkPSIyIiBkPSJtMzIuOSAxOC44bDE4LjE2MSAwIDIwLjAzOSAzMS4yNS0yMC4wMzkgMzEuMjUtMTguMTYxIDAgMjAuMDM5LTMxLjI1LTIwLjAzOS0zMS4yNSIgc3R5bGU9ImZpbGw6dXJsKCM1KSIvPgogPGRlZnM+CiAgPGxpbmVhckdyYWRpZW50IGlkPSIzIiB4MT0iMTAwIiB4Mj0iMCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICA8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojZjliZTAzIi8+CiAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6I2NjN2IxOSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPGxpbmVhckdyYWRpZW50IGlkPSI0IiB4MT0iOTciIHgyPSIzIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgIDxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiMyODI4MjgiLz4KICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojMWYxZjFmIi8+CiAgPC9saW5lYXJHcmFkaWVudD4KICA8cmFkaWFsR3JhZGllbnQgaWQ9IjUiIGN4PSI2NyIgY3k9IjQ5LjkiIHI9IjU3LjgxMjMiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4bGluazpocmVmPSIjMyIvPgogPC9kZWZzPgo8L3N2Zz4K"},71760:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NjAiIGhlaWdodD0iNTYwIiB2aWV3Qm94PSIwIDAgNTYwIDU2MCI+CiAgPGcgZmlsbD0ibm9uZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzAgNzApIj4KICAgIDxwYXRoIGZpbGw9IiMwMDY0MUUiIGQ9Ik0zNTAuNTk4MTgyLDQwOC4wODcyNzMgTDMyNC41NDU0NTUsNDEzLjA3NjM2NCBDMzI0LjU0NTQ1NSw0MTMuMDc2MzY0IDMyNC44NzYzNjQsNDEwLjY5NjM2NCAzMjUuODk0NTQ1LDQwNC4xMjkwOTEgQzMzOS4zMzQ1NDUsNDA2LjAzODE4MiAzNTAuNTk4MTgyLDQwOC4wODcyNzMgMzUwLjU5ODE4Miw0MDguMDg3MjczIFogTTY3LjMwMTgxODIsNDA4LjA4NzI3MyBDNjcuMzAxODE4Miw0MDguMDg3MjczIDc4LjU1MjcyNzMsNDA2LjAzODE4MiA5MS45OTI3MjczLDQwNC4xMjkwOTEgQzkzLjAxMDkwOTEsNDEwLjY5NjM2NCA5My4zNTQ1NDU1LDQxMy4wNzYzNjQgOTMuMzU0NTQ1NSw0MTMuMDc2MzY0IEw2Ny4zMDE4MTgyLDQwOC4wODcyNzMgWiIvPgogICAgPHBhdGggZmlsbD0iIzBBQzg1NSIgZD0iTTMyNC41NDU0NTUsNDEzLjA3NjM2NCBMMzUwLjU5ODE4Miw0MDguMDg3MjczIEMzNTEuMDgxODE4LDQwOC4xNzYzNjQgMzUxLjU1MjcyNyw0MDcuOTcyNzI3IDM1MS42NjcyNzMsNDA3LjY0MTgxOCBDMzU3LjU5ODE4MiwzOTAuMTE2MzY0IDM2My42MzA5MDksMzcyLjY1NDU0NSAzNjkuODE2MzY0LDM1NS4xOCBDMzg3LjcxMDkwOSwzNjEuNTgxODE4IDQwNC4wMTQ1NDUsMzcxLjY0OTA5MSA0MTcuMzY1NDU1LDM4NC41NjcyNzMgQzQxOC4wNzgxODIsMzg1LjI0MTgxOCA0MTguMDkwOTA5LDM4NS45MDM2MzYgNDE3LjQxNjM2NCwzODUuODI3MjczIEM0MDQuODE2MzY0LDM4NS42NDkwOTEgMzkyLjk4LDM4Ny40ODE4MTggMzgyLjI3NjM2NCwzOTAuODU0NTQ1IEMzODIuMDQ3MjczLDM5MC45MDU0NTUgMzgxLjkwNzI3MywzOTEuMDMyNzI3IDM4MS44OTQ1NDUsMzkxLjIxMDkwOSBDMzgzLjg2NzI3Myw0MDguMjE0NTQ1IDM4Mi43ODU0NTUsNDI1LjA5MDkwOSAzNzguODY1NDU1LDQ0MC45MTA5MDkgQzM3OC43LDQ0MS4zNDM2MzYgMzc4LjE1MjcyNyw0NDEuMzU2MzY0IDM3Ny43ODM2MzYsNDQwLjk2MTgxOCBDMzY2LjMxNjM2NCw0MjUuNzQgMzQ3LjMxNDU0NSw0MTQuNTAxODE4IDMyNC41NDU0NTUsNDEzLjA3NjM2NCBaIE02Ny4zMDE4MTgyLDQwOC4wODcyNzMgTDkzLjM1NDU0NTUsNDEzLjA3NjM2NCBDNzAuNTcyNzI3Myw0MTQuNTAxODE4IDUxLjU5NjM2MzYsNDI1Ljc0IDQwLjEyOTA5MDksNDQwLjk2MTgxOCBDMzkuNzYsNDQxLjM1NjM2NCAzOS4yMTI3MjczLDQ0MS4zNDM2MzYgMzkuMDQ3MjcyNyw0NDAuOTEwOTA5IEMzNS4xMjcyNzI3LDQyNS4wOTA5MDkgMzQuMDQ1NDU0NSw0MDguMjE0NTQ1IDM2LjAxODE4MTgsMzkxLjIxMDkwOSBDMzYuMDA1NDU0NSwzOTEuMDMyNzI3IDM1Ljg2NTQ1NDUsMzkwLjkwNTQ1NSAzNS42MzYzNjM2LDM5MC44NTQ1NDUgQzI0LjkzMjcyNzMsMzg3LjQ4MTgxOCAxMy4wOTYzNjM2LDM4NS42NDkwOTEgMC40OTYzNjM2MzYsMzg1LjgyNzI3MyBDLTAuMTc4MTgxODE4LDM4NS45MDM2MzYgLTAuMTY1NDU0NTQ1LDM4NS4yNDE4MTggMC41NDcyNzI3MjcsMzg0LjU2NzI3MyBDMTMuODg1NDU0NSwzNzEuNjYxODE4IDMwLjEyNTQ1NDUsMzYxLjUzMDkwOSA0OC4wMDcyNzI3LDM1NS4xMjkwOTEgQzU0LjIwNTQ1NDUsMzcyLjU5MDkwOSA2MC4yODkwOTA5LDM5MC4xMTYzNjQgNjYuMjMyNzI3Myw0MDcuNjQxODE4IEM2Ni4zNDcyNzI3LDQwNy45NzI3MjcgNjYuODE4MTgxOCw0MDguMTc2MzY0IDY3LjMwMTgxODIsNDA4LjA4NzI3MyBaIi8+CiAgICA8cGF0aCBmaWxsPSIjMDA5MTJEIiBkPSJNMzUwLjU5ODE4Miw0MDguMDg3MjczIEMyNTcuMjA1NDU1LDM5MS43MiAxNjAuNjgxODE4LDM5MS43MiA2Ny4zMDE4MTgyLDQwOC4wODcyNzMgQzY2LjgxODE4MTgsNDA4LjE3NjM2NCA2Ni4zNDcyNzI3LDQwNy45NzI3MjcgNjYuMjMyNzI3Myw0MDcuNjQxODE4IEM1Ny41OTA5MDkxLDM4Mi4xNDkwOTEgNDguNjgxODE4MiwzNTYuNzIgMzkuNDkyNzI3MywzMzEuMzU0NTQ1IEMzOS4zNjU0NTQ1LDMzMC45OTgxODIgMzkuNzYsMzMwLjU5MDkwOSA0MC4zNTgxODE4LDMzMC40ODkwOTEgQzE1MS4zOTA5MDksMzEwLjIwMTgxOCAyNjYuNDk2MzY0LDMxMC4yMDE4MTggMzc3LjU0MTgxOCwzMzAuNDg5MDkxIEMzNzguMTQsMzMwLjU5MDkwOSAzNzguNTM0NTQ1LDMzMC45OTgxODIgMzc4LjM5NDU0NSwzMzEuMzU0NTQ1IEMzNjkuMjE4MTgyLDM1Ni43MiAzNjAuMzA5MDkxLDM4Mi4xNDkwOTEgMzUxLjY2NzI3Myw0MDcuNjQxODE4IEMzNTEuNTUyNzI3LDQwNy45NzI3MjcgMzUxLjA4MTgxOCw0MDguMTc2MzY0IDM1MC41OTgxODIsNDA4LjA4NzI3MyBaIE0yMzQuOTQ1NDU1LDEwMC40OTQ1NDUgQzI0Ny4xMTI3MjcsOTkuNDEyNzI3MyAyNzMuNzEyNzI3LDEwMC4wMjM2MzYgMjg2LjcwNzI3MywxMTIuNzYzNjM2IEMyODcuNDgzNjM2LDExMy41NCAyODYuODA5MDkxLDExNS4yOTYzNjQgMjg1LjcwMTgxOCwxMTUuMDAzNjM2IEMyNjYuNjYxODE4LDEwOS44NzQ1NDUgMjM2Ljk2OTA5MSwxMzUuMTI1NDU1IDIxNy43MjU0NTUsMTE4Ljc5NjM2NCBDMjE3LjIwMzYzNiwxMjMuNTgxODE4IDIxMi44ODkwOTEsMTQ2LjYxODE4MiAxODAuMDI3MjczLDE0My4yMDcyNzMgQzE3OS4yNTA5MDksMTQzLjEzMDkwOSAxNzguOTQ1NDU1LDE0Mi4yNjU0NTUgMTc5LjUxODE4MiwxNDEuNzgxODE4IEMxODQuNjA5MDkxLDEzNy40NTQ1NDUgMTkwLjg1ODE4MiwxMjUuNDc4MTgyIDE4NS41LDExNy44MjkwOTEgQzE2OC43NzYzNjQsMTI4LjkyNzI3MyAxNjAuMTIxODE4LDEyOS40MTA5MDkgMTI5LjI4MzYzNiwxMTYuMDQ3MjczIEMxMjguMjc4MTgyLDExNS42MTQ1NDUgMTI4Ljg3NjM2NCwxMTMuOTcyNzI3IDEzMC4wNiwxMTMuNzA1NDU1IEMxMzYuNDYxODE4LDExMi4yNjcyNzMgMTUxLjY5NjM2NCwxMDYuNzMwOTA5IDE2NS4zNTI3MjcsMTA0LjE0NzI3MyBDMTY3Ljk2MTgxOCwxMDMuNjUwOTA5IDE3MC41MiwxMDMuMzU4MTgyIDE3Mi45ODkwOTEsMTAzLjMzMjcyNyBDMTU4Ljg0OTA5MSw5OS45NiAxNTIuNjg5MDkxLDk3LjAzMjcyNzMgMTQzLjM3MjcyNyw5Ny4wNzA5MDkxIEMxNDIuMzU0NTQ1LDk3LjA4MzYzNjQgMTQxLjg0NTQ1NSw5NS44MTA5MDkxIDE0Mi41ODM2MzYsOTUuMTEwOTA5MSBDMTU3LjE1NjM2NCw4MS4wOTgxODE4IDE4My41NzgxODIsODAuMzcyNzI3MyAxOTYuMzA1NDU1LDkwLjgwOTA5MDkgTDE4NC45MDE4MTgsNjYuOTk2MzYzNiBMMTk4Ljc2MTgxOCw2NC45MDkwOTA5IEMxOTguNzYxODE4LDY0LjkwOTA5MDkgMjAyLjM3NjM2NCw3Ny42MTA5MDkxIDIwNS42MDkwOTEsODkuMDI3MjcyNyBDMjIwLjA0MTgxOCw3My4yMiAyNDIuMzY1NDU1LDc0LjgyMzYzNjQgMjQ5Ljg4NzI3Myw4OC42MzI3MjczIEMyNTAuMzMyNzI3LDg5LjQ0NzI3MjcgMjQ5LjU5NDU0NSw5MC40MTQ1NDU1IDI0OC42NzgxODIsOTAuMjQ5MDkwOSBDMjQxLjEwNTQ1NSw4OC45NjM2MzY0IDIzNS45MjU0NTUsOTUuMjYzNjM2NCAyMzQuODMwOTA5LDEwMC40NjkwOTEgTDIzNC45NDU0NTUsMTAwLjQ5NDU0NSBaIi8+CiAgICA8cGF0aCBmaWxsPSIjRkEzMjBBIiBkPSJNNzIuODEyNzI3MywzMjUuMzA5MDkxIEMxNjIuMTMyNzI3LDMxMi4yNTA5MDkgMjUzLjQ3NjM2NCwzMTIuMTEwOTA5IDM0Mi44MjE4MTgsMzI0Ljk2NTQ1NSBDMzY1LjEwNzI3MywyOTguNjQ1NDU1IDM3Ny45NzQ1NDUsMjY0LjcxNDU0NSAzNzUuNTE4MTgyLDIyNS4zNDkwOTEgQzM3MS42NjE4MTgsMTYzLjY5ODE4MiAzMzUuNjMwOTA5LDEyNi42NzQ1NDUgMjgzLjcwMzYzNiwxMTAuNDM0NTQ1IEMyODQuNzIxODE4LDExMS4xOTgxODIgMjg1LjgwMzYzNiwxMTEuODk4MTgyIDI4Ni43MDcyNzMsMTEyLjc2MzYzNiBDMjg3LjQ4MzYzNiwxMTMuNTQgMjg2LjgwOTA5MSwxMTUuMjk2MzY0IDI4NS43MDE4MTgsMTE1LjAwMzYzNiBDMjY2LjY2MTgxOCwxMDkuODc0NTQ1IDIzNi45NjkwOTEsMTM1LjEyNTQ1NSAyMTcuNzI1NDU1LDExOC43OTYzNjQgQzIxNy4yMDM2MzYsMTIzLjU2OTA5MSAyMTIuODg5MDkxLDE0Ni42MTgxODIgMTgwLjAyNzI3MywxNDMuMjA3MjczIEMxNzkuMjUwOTA5LDE0My4xMzA5MDkgMTc4Ljk0NTQ1NSwxNDIuMjY1NDU1IDE3OS41MTgxODIsMTQxLjc4MTgxOCBDMTg0LjYwOTA5MSwxMzcuNDU0NTQ1IDE5MC44NTgxODIsMTI1LjQ2NTQ1NSAxODUuNSwxMTcuODI5MDkxIEMxNjguNzc2MzY0LDEyOC45MjcyNzMgMTYwLjEyMTgxOCwxMjkuNDEwOTA5IDEyOS4yODM2MzYsMTE2LjA0NzI3MyBDMTI5LjAyOTA5MSwxMTUuOTMyNzI3IDEyOS4xMzA5MDksMTE1LjY1MjcyNyAxMjkuMDY3MjczLDExNS40MjM2MzYgQzU2Ljk5MjcyNzMsMTQxLjA0MzYzNiAzOC40ODcyNzI3LDE5MS45OTA5MDkgNDEuODYsMjQ2LjE1ODE4MiBDNDMuODIsMjc3LjQ0MTgxOCA1NS4zLDMwMy45NzgxODIgNzIuODEyNzI3MywzMjUuMzA5MDkxIi8+CiAgICA8cGF0aCBmaWxsPSIjRkZENzAwIiBkPSJNNzIuNjYsMzI1LjMzNDU0NSBDNTUuMTYsMzA0LjAyOTA5MSA0My44MiwyNzcuNDE2MzY0IDQxLjg2LDI0Ni4xNTgxODIgQzM4LjQ4NzI3MjcsMTkxLjk5MDkwOSA1Ni45OTI3MjczLDE0MS4wNDM2MzYgMTI5LjA2NzI3MywxMTUuNDIzNjM2IEMxMjkuMTMwOTA5LDExNS42NTI3MjcgMTI5LjAyOTA5MSwxMTUuOTMyNzI3IDEyOS4yODM2MzYsMTE2LjA0NzI3MyBDMTI4LjI3ODE4MiwxMTUuNjE0NTQ1IDEyOC44NzYzNjQsMTEzLjk3MjcyNyAxMzAuMDYsMTEzLjcwNTQ1NSBDMTM2LjQ2MTgxOCwxMTIuMjY3MjczIDE1MS42OTYzNjQsMTA2LjcxODE4MiAxNjUuMzUyNzI3LDEwNC4xNDcyNzMgQzE2Ny45NjE4MTgsMTAzLjY1MDkwOSAxNzAuNTIsMTAzLjM1ODE4MiAxNzIuOTg5MDkxLDEwMy4zMiBDMTU4Ljg0OTA5MSw5OS45NiAxNTIuNjg5MDkxLDk3LjAzMjcyNzMgMTQzLjM3MjcyNyw5Ny4wNzA5MDkxIEMxNDIuMzU0NTQ1LDk3LjA4MzYzNjQgMTQxLjg0NTQ1NSw5NS44MTA5MDkxIDE0Mi41ODM2MzYsOTUuMDk4MTgxOCBDMTU3LjE1NjM2NCw4MS4wODU0NTQ1IDE4My41NzgxODIsODAuMzcyNzI3MyAxOTYuMzA1NDU1LDkwLjgwOTA5MDkgTDE4NC45MDE4MTgsNjYuOTgzNjM2NCBMMTk4Ljc2MTgxOCw2NC45MDkwOTA5IEMxOTguNzYxODE4LDY0LjkwOTA5MDkgMjAyLjM3NjM2NCw3Ny41OTgxODE4IDIwNS42MDkwOTEsODkuMDI3MjcyNyBDMjIwLjA0MTgxOCw3My4yMiAyNDIuMzY1NDU1LDc0LjgyMzYzNjQgMjQ5Ljg4NzI3Myw4OC42MzI3MjczIEMyNTAuMzMyNzI3LDg5LjQ0NzI3MjcgMjQ5LjU5NDU0NSw5MC40MTQ1NDU1IDI0OC42NzgxODIsOTAuMjQ5MDkwOSBDMjQxLjEwNTQ1NSw4OC45NjM2MzY0IDIzNS45MjU0NTUsOTUuMjYzNjM2NCAyMzQuODMwOTA5LDEwMC40NjkwOTEgTDIzNC45NDU0NTUsMTAwLjQ5NDU0NSBDMjQ3LjExMjcyNyw5OS40MTI3MjczIDI3My43MTI3MjcsMTAwLjAyMzYzNiAyODYuNzA3MjczLDExMi43NjM2MzYgQzI4NS44MDM2MzYsMTExLjg5ODE4MiAyODQuNzIxODE4LDExMS4xOTgxODIgMjgzLjcwMzYzNiwxMTAuNDM0NTQ1IEMzMzUuNjMwOTA5LDEyNi42NzQ1NDUgMzcxLjY2MTgxOCwxNjMuNjk4MTgyIDM3NS41MTgxODIsMjI1LjM0OTA5MSBDMzc3Ljk3NDU0NSwyNjQuNzE0NTQ1IDM2NS4xMDcyNzMsMjk4LjY0NTQ1NSAzNDIuODIxODE4LDMyNC45NjU0NTUgQzM0OS41OTI3MjcsMzI1LjkzMjcyNyAzNTYuMzI1NDU1LDMyNy4wNjU0NTUgMzYzLjA3MDkwOSwzMjguMTg1NDU1IEMzOTEuNDY1NDU1LDI5My40NCA0MDcuODcwOTA5LDI0OS4zOTA5MDkgNDA3Ljg3MDkwOSwyMDIuMTM0NTQ1IEM0MDcuODcwOTA5LDk0LjQ0OTA5MDkgMzIwLjM1ODE4MiwxMC4wOTI3MjczIDIwOC42NTA5MDksMTAuMDkyNzI3MyBDOTYuOTQzNjM2NCwxMC4wOTI3MjczIDkuNDMwOTA5MDksOTQuNDQ5MDkwOSA5LjQzMDkwOTA5LDIwMi4xMzQ1NDUgQzkuNDMwOTA5MDksMjQ5LjQ2NzI3MyAyNS44MzYzNjM2LDI5My41NDE4MTggNTQuMjU2MzYzNiwzMjguMjc0NTQ1IEM2MC4zNzgxODE4LDMyNy4yNTYzNjQgNjYuNTEyNzI3MywzMjYuMjUwOTA5IDcyLjY2LDMyNS4zMzQ1NDUiLz4KICAgIDxwYXRoIGZpbGw9IiNGRjZBMTMiIGQ9Ik01NC4yNTYzNjM2LDMyOC4yNzQ1NDUgQzI1LjgzNjM2MzYsMjkzLjU0MTgxOCA5LjQzMDkwOTA5LDI0OS40NjcyNzMgOS40MzA5MDkwOSwyMDIuMTM0NTQ1IEM5LjQzMDkwOTA5LDk0LjQ0OTA5MDkgOTYuOTQzNjM2NCwxMC4wOTI3MjczIDIwOC42NTA5MDksMTAuMDkyNzI3MyBDMzIwLjM1ODE4MiwxMC4wOTI3MjczIDQwNy44NzA5MDksOTQuNDQ5MDkwOSA0MDcuODcwOTA5LDIwMi4xMzQ1NDUgQzQwNy44NzA5MDksMjQ5LjM5MDkwOSAzOTEuNDY1NDU1LDI5My40NCAzNjMuMDcwOTA5LDMyOC4xODU0NTUgQzM2Ni40NTYzNjQsMzI4Ljc0NTQ1NSAzNjkuODQxODE4LDMyOS4xOTA5MDkgMzczLjIyNzI3MywzMjkuODAxODE4IEM0MDAuNjI5MDkxLDI5NC41MDkwOTEgNDE3LjAyMTgxOCwyNTAuMjU2MzY0IDQxNy4wMjE4MTgsMjAyLjEzNDU0NSBDNDE3LjAyMTgxOCw4Ny4wNDE4MTgyIDMyMy43MzA5MDksMC45MjkwOTA5MDkgMjA4LjY1MDkwOSwwLjkyOTA5MDkwOSBDOTMuNTU4MTgxOCwwLjkyOTA5MDkwOSAwLjI2NzI3MjcyNyw4Ny4wNDE4MTgyIDAuMjY3MjcyNzI3LDIwMi4xMzQ1NDUgQzAuMjY3MjcyNzI3LDI1MC4zMDcyNzMgMTYuNjk4MTgxOCwyOTQuNTg1NDU1IDQ0LjE1MDkwOTEsMzI5Ljg3ODE4MiBDNDcuNTEwOTA5MSwzMjkuMjggNTAuODgzNjM2NCwzMjguODM0NTQ1IDU0LjI1NjM2MzYsMzI4LjI3NDU0NSIvPgogIDwvZz4KPC9zdmc+Cg=="},46174:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NjAiIGhlaWdodD0iNTYwIiB2aWV3Qm94PSIwIDAgNTYwIDU2MCI+CiAgPGcgZmlsbD0ibm9uZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA0IDQ1KSI+CiAgICA8cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjY2LjU3MDgyNiw0MjkuMjE0MDcxIEwyOTAuMDM1NzQxLDE5MS4yNTc1MTcgQzMwNC45NjUwOTUsMTg2LjQ2MTcyMSAzMTkuNTMzNjkyLDE4MC4xMDc1OTkgMzMwLjI2NTMxMywxNzAuOTk1NzYyIEwzMDAuMTU5NjgyLDQwMS4yNzc5OTMgQzI5My40MTIxMzksNDExLjUyNjE4MiAyODAuMjk3MDc1LDQyMi4xMzg1NjUgMjY2LjU3MDgyNiw0MjkuMjE0MDcxIFogTTE4OC4zNzI1MzcsNDUwLjg0NTA1MiBMMTkxLjMxOTg4MSwyMDYuMzE3MjYgQzIxMi4yMTM5NywyMDUuNzE4NDQyIDIzOS4yNTMxNzQsMjAyLjg4NzE5IDI2Mi4yOTA3ODYsMTk3Ljk3MDU4IEwyNDMuMjE5NzQxLDQzOS4xNDAwODkgQzIyMC40OTU2MDIsNDQ2LjY1ODU4IDIwNy4yODU5Nyw0NDguOTg5MDY3IDE4OC4zNzI1MzcsNDUwLjg0NTA1MiBaIE04OC42Nzk0ODI2LDE5Ny45NzA1OCBDMTExLjcxNzA5NSwyMDIuODg3MTkgMTM4Ljc1NjI5OSwyMDUuNzE4NDQyIDE1OS42NTAzODgsMjA2LjMxNzI2IEwxNjIuNTk3NzMxLDQ1MC44NDUwNTIgQzE0My42ODQyOTksNDQ4Ljk4OTA2NyAxMzAuNDc0NjY3LDQ0Ni42NTg1OCAxMDcuNzUwNTI3LDQzOS4xNDAwODkgTDg4LjY3OTQ4MjYsMTk3Ljk3MDU4IFogTTIwLjcwNDk1NTIsMTcwLjk5NTc2MiBDMzEuNDM2NTc3MSwxODAuMTA3NTk5IDQ2LjAwNTE3NDEsMTg2LjQ2MTcyMSA2MC45MzQ1Mjc0LDE5MS4yNTc1MTcgTDg0LjM5OTQ0MjgsNDI5LjIxNDA3MSBDNzAuNjczMTk0LDQyMi4xMzg1NjUgNTcuNTU4MTI5NCw0MTEuNTI2MTgyIDUwLjgwODgzNTgsNDAxLjI3Nzk5MyBMMjAuNzA0OTU1MiwxNzAuOTk1NzYyIFoiLz4KICAgIDxwYXRoIGZpbGw9IiNGRkQ3MDAiIGQ9Ik0xNC45MDQ4MzU4LDExMi40NDQ2ODQgQzE2LjI2MjA0OTgsMTQxLjI3MTk4NSA4Ny42NzYwMTk5LDE2NC4xMjE2MTMgMTc1LjQ4MzM4MywxNjMuNjIwODQ4IEMyNTIuMTcwMzQ4LDE2My4xODMxMTUgMzE2LjE0MTUzMiwxNDUuMDc1MDA0IDMzMS44MTE2NjIsMTIxLjI4NTEyNiBDMzI4LjI0MDg3NiwxMTcuMzE3NTIgMzIzLjMwOTM3MywxMTQuNTk2NTc2IDMxNy43NTQ0MjgsMTEzLjg1OTQzNSBDMzE3LjgxMzk3LDExMy4xNTkwNjMgMzE3Ljg1MjQ5OCwxMTIuNDUzNDM5IDMxNy44NDg5OTUsMTExLjczNzMwOSBDMzE3Ljc4NDE5OSwxMDAuMzM3MDA3IDMwOS40MjAyNTksOTAuOTQ4NTI0MiAyOTguNTIyMjY5LDg5LjE5NzU5NDggQzI5OC44MDk0NzMsODcuNzIzMzEyMyAyOTguOTYwMDgsODYuMTk4MjUyOCAyOTguOTUxMzIzLDg0LjYzODE3NDcgQzI5OC44Nzk1MjIsNzEuOTQyMTg1OSAyODguNTI2MTY5LDYxLjcwOTc1NDYgMjc1LjgyNzksNjEuNzgxNTQyOCBDMjc1LjU0MDY5Nyw2MS43ODMyOTM3IDI3NS4yNjA0OTgsNjEuODE4MzEyMyAyNzQuOTc1MDQ1LDYxLjgzMDU2ODggQzI3NS43ODc2MjIsNTkuNDU2MzA4NiAyNzYuMjQyOTQ1LDU2LjkxOTIxMTkgMjc2LjIyODkzNSw1NC4yNzAwNTU4IEMyNzYuMTU1MzgzLDQxLjU3NDA2NjkgMjY1LjgwMzc4MSwzMS4zNDE2MzU3IDI1My4xMDU1MTIsMzEuNDEzNDIzOCBDMjUwLjE5MTQ0MywzMS40MzA5MzMxIDI0Ny40MTkyMjQsMzIuMDEwNDkwNyAyNDQuODU4OTA1LDMzLjAxMzc3MzIgQzI0MS4yMjY4MjYsMjYuMTc4MTQ1IDIzNC4yNTMzNzMsMjEuNDEzODY2MiAyMjYuMTIyMzQ4LDIwLjg2NDA3NDMgQzIyNC43MDU1OTIsOS40NjM3NzMyMyAyMTQuOTY1MTc0LDAuNjY4ODU1MDE5IDIwMy4xOTE1NjIsMC43MzUzOTAzMzUgQzE5NS43ODIwNSwwLjc3NzQxMjYzOSAxODkuMjI4ODk2LDQuMzM1MzAxMTIgMTg1LjA1NTY4Miw5Ljc5OTk1MTY3IEMxODAuODIyOTI1LDUuMTk1MDA3NDMgMTc0Ljc1NjYxNywyLjMwNTk3Mzk4IDE2OC4wMDkwNzUsMi4zNDQ0OTQ0MiBDMTU1LjMxMDgwNiwyLjQxNjI4MjUzIDE0NS4wNzY1MzcsMTIuNzY3Nzc3IDE0NS4xNDgzMzgsMjUuNDYyMDE0OSBDMTQ1LjE2MjM0OCwyNy44ODcwNTIgMTQ1LjU1NjM3OCwzMC4yMTc1MzkgMTQ2LjI2Mzg4MSwzMi40MDc5NTE3IEMxNDEuMDgxOTUsMzMuMzY5MjExOSAxMzYuNTI1MjE0LDM2LjA2MjE0MTMgMTMzLjE5NDM0OCwzOS44NjY5MTA4IEMxMzAuNTQ5OTcsMzAuMDE5Njg0IDEyMS41NTczMzMsMjIuNzgzMDkyOSAxMTAuODgsMjIuODQyNjI0NSBDMTAwLjkwNDkxNSwyMi45MDA0MDUyIDkyLjQ3NDQyNzksMjkuMzEyMzA4NiA4OS4zNDMyMDQsMzguMjA4NzgwNyBDODAuODY4OTM1Myw0MS42MzUzNDk0IDc0LjkwNDE5OSw0OS45NDcwMTEyIDc0Ljk2MDIzODgsNTkuNjQxOTA3MSBDNzQuOTcyNDk3NSw2MS43OTU1NTAyIDc1LjMwMTczMTMsNjMuODY4NjUwNiA3NS44NjczODMxLDY1Ljg0MzY5ODkgQzczLjAwOTM1MzIsNjQuNTkzNTM1MyA2OS44NTg4NjU3LDYzLjg5MzE2MzYgNjYuNTM4NTA3NSw2My45MTI0MjM4IEM1Ni41MjY2NDY4LDYzLjk3MDIwNDUgNDguMDY5ODkwNSw3MC40Mjc2MzIgNDQuOTY0OTM1Myw3OS4zNzY2MzIgQzQxLjk4NzgyMDksNzcuOTkzMzk3OCAzOC42Nzc5NzAxLDc3LjIwNzIzMDUgMzUuMTc3MjMzOCw3Ny4yMjgyNDE2IEMyMi40Nzg5NjUyLDc3LjMwMDAyOTcgMTIuMjQyOTQ1Myw4Ny42NDk3NzMyIDEyLjMxNjQ5NzUsMTAwLjM0NTc2MiBDMTIuMzM5MjYzNywxMDQuNTMyMjM0IDEzLjUwMDMzODMsMTA4LjQ0MDMwOSAxNS40NzU3NDEzLDExMS44MDkwOTcgQzE1LjI3NDM0ODMsMTEyLjAxMjIwNCAxNS4wOTc0NzI2LDExMi4yMzQ1NzIgMTQuOTA0ODM1OCwxMTIuNDQ0Njg0Ii8+CiAgICA8cGF0aCBmaWxsPSIjRkEzMjBBIiBkPSJNMzAwLjE2MTQzMyw0MDEuMjc3OTkzIEMyOTMuNDEyMTM5LDQxMS41MjYxODIgMjgwLjI5NzA3NSw0MjIuMTM4NTY1IDI2Ni41NzA4MjYsNDI5LjIxNDA3MSBMMjkwLjAzNTc0MSwxOTEuMjU3NTE3IEMzMDQuOTY1MDk1LDE4Ni40NjE3MjEgMzE5LjUzMzY5MiwxODAuMTA3NTk5IDMzMC4yNjUzMTMsMTcwLjk5NTc2MiBMMzAwLjE2MTQzMyw0MDEuMjc3OTkzIFogTTI0My4yMTk3NDEsNDM5LjE0MDA4OSBDMjIwLjQ5NzM1Myw0NDYuNjU4NTggMjA3LjI4NTk3LDQ0OC45ODkwNjcgMTg4LjM3MjUzNyw0NTAuODQ1MDUyIEwxOTEuMzE5ODgxLDIwNi4zMTcyNiBDMjEyLjIxMzk3LDIwNS43MTg0NDIgMjM5LjI1MzE3NCwyMDIuODg3MTkgMjYyLjI5MjUzNywxOTcuOTcwNTggTDI0My4yMTk3NDEsNDM5LjE0MDA4OSBaIE0xMDcuNzUwNTI3LDQzOS4xNDAwODkgTDg4LjY3OTQ4MjYsMTk3Ljk3MDU4IEMxMTEuNzE3MDk1LDIwMi44ODcxOSAxMzguNzU2Mjk5LDIwNS43MTg0NDIgMTU5LjY1MDM4OCwyMDYuMzE3MjYgTDE2Mi41OTc3MzEsNDUwLjg0NTA1MiBDMTQzLjY4NDI5OSw0NDguOTg5MDY3IDEzMC40NzQ2NjcsNDQ2LjY1ODU4IDEwNy43NTA1MjcsNDM5LjE0MDA4OSBaIE01MC44MTA1ODcxLDQwMS4yNzc5OTMgTDIwLjcwNDk1NTIsMTcwLjk5NTc2MiBDMzEuNDM2NTc3MSwxODAuMTA3NTk5IDQ2LjAwNTE3NDEsMTg2LjQ2MTcyMSA2MC45MzQ1Mjc0LDE5MS4yNTc1MTcgTDg0LjM5OTQ0MjgsNDI5LjIxNDA3MSBDNzAuNjczMTk0LDQyMi4xMzg1NjUgNTcuNTU4MTI5NCw0MTEuNTI2MTgyIDUwLjgxMDU4NzEsNDAxLjI3Nzk5MyBaIE0yOTguNDc4NDg4LDgwLjEzNDc4NDQgQzI5OC43NzYxOTksODEuNTg4MDU1OCAyOTguOTQyNTY3LDgzLjA5MDM1MzIgMjk4Ljk1MTMyMyw4NC42MzI5MjE5IEMyOTguOTYwMDgsODYuMTkzIDI5OC44MDk0NzMsODcuNzE4MDU5NSAyOTguNTIwNTE3LDg5LjE5MjM0MiBDMzA5LjQyMDI1OSw5MC45NDE1MjA0IDMxNy43ODQxOTksMTAwLjMzMDAwNCAzMTcuODQ4OTk1LDExMS43MzIwNTYgQzMxNy44NTI0OTgsMTEyLjQ0NjQzNSAzMTcuODEzOTcsMTEzLjE1MzgxIDMxNy43NTQ0MjgsMTEzLjg1MjQzMSBDMzIzLjMwOTM3MywxMTQuNTg5NTcyIDMyOC4yNDA4NzYsMTE3LjMxMDUxNyAzMzEuODExNjYyLDEyMS4yNzgxMjMgQzMxNi4xNDMyODQsMTQ1LjA2OTc1MSAyNTIuMTcwMzQ4LDE2My4xNzc4NjIgMTc1LjQ4NTEzNCwxNjMuNjE3MzQ2IEM4Ny42Nzc3NzExLDE2NC4xMTk4NjIgMTYuMjYzODAxLDE0MS4yNzE5ODUgMTQuOTA0ODM1OCwxMTIuNDQyOTMzIEMxNS4wOTc0NzI2LDExMi4yMzQ1NzIgMTUuMjc0MzQ4MywxMTIuMDEwNDU0IDE1LjQ3NTc0MTMsMTExLjgwOTA5NyBDMTQuMTIwMjc4NiwxMDkuNDk3ODcgMTMuMTg1MTE0NCwxMDYuOTIyMjUzIDEyLjcwMTc3MTEsMTA0LjE4OTA1MiBDNC4yOTQwNDk3NSwxMTIuMTY4MDM3IC0wLjc5MzMxMzQzMywxMTguNjAwOTUyIDAuMTAxNTcyMTM5LDEyNy45Njg0MjQgQzAuMTg3MzgzMDg1LDEyOS4yMjAzMzggMzcuMjk3OTksMzk0Ljg4MDA5NyAzNy4yOTc5OSwzOTQuODgwMDk3IEM0MS41Nzk3ODExLDQzNi45NTQ5MjkgMTAyLjY4OTQzMyw0NzAuNTgzMjc5IDE3NS40ODUxMzQsNDcxIEMyNDguMjgwODM2LDQ3MC41ODMyNzkgMzA5LjM5MjIzOSw0MzYuOTU0OTI5IDMxMy42NzIyNzksMzk0Ljg4MDA5NyBDMzEzLjY3MjI3OSwzOTQuODgwMDk3IDM1MC43ODI4ODYsMTI5LjIyMDMzOCAzNTAuODY4Njk3LDEyNy45Njg0MjQgQzM1Mi42NDYyMDksMTA5LjIzMTcyOSAzMzAuNzE4ODg2LDkyLjIyMzIwMDcgMjk4LjQ3ODQ4OCw4MC4xMzQ3ODQ0IFoiLz4KICA8L2c+Cjwvc3ZnPgo="},84597:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NjAiIGhlaWdodD0iNTYwIiB2aWV3Qm94PSIwIDAgNTYwIDU2MCI+CiAgPGcgZmlsbD0ibm9uZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODAgNzQpIj4KICAgIDxwYXRoIGZpbGw9IiNGQTMyMEEiIGQ9Ik0zOTguMjkwMTI5LDIyMi45NzU5NjYgQzM5NC4zMDA0MjksMTU5LjAxMDMgMzYxLjc2OTk1NywxMTEuMTUyNzkgMzEyLjgyMjMxOCw4NC4zOTc0MjQ5IEMzMTMuMTAwNDI5LDg1Ljk1NjIyMzIgMzExLjcxMzMwNSw4Ny45MDQ3MjEgMzEwLjEzMzkwNiw4Ny4yMTQ1OTIzIEMyNzguMTE4NDU1LDczLjIwOTQ0MjEgMjIzLjgwNjAwOSwxMTguNTM0NzY0IDE4NS44NTIzNjEsOTQuNzk5MTQxNiBDMTg2LjEzNzMzOSwxMDMuMzE3NTk3IDE4NC40NzM4MiwxNDQuODcxMjQ1IDEyNS45MzgxOTcsMTQ3LjI4MTU0NSBDMTI0LjU1NjIyMywxNDcuMzM4MTk3IDEyMy43OTU3MDgsMTQ1LjkyNzAzOSAxMjQuNjY5NTI4LDE0NC45Mjc4OTcgQzEzMi40OTc4NTQsMTM1Ljk5OTE0MiAxNDAuNDAxNzE3LDExMy4zOTMxMzMgMTI5LjAzNjkxLDEwMS4zNDE2MzEgQzEwNC42OTg3MTIsMTIzLjE1MTA3MyA5MC41NjQ4MDY5LDEzMS4zNTg3OTggNDMuODk4NzEyNCwxMjAuNTI3ODk3IEMxNC4wMjA2MDA5LDE1MS43NjkwOTkgLTIuOTA5ODcxMjQsMTk0LjUyNzg5NyAwLjQxMzczMzkwNiwyNDcuNzkzMTMzIEM3LjE5NDg0OTc5LDM1Ni41Mjc4OTcgMTA5LjA0Mzc3Nyw0MTguNjgyNDAzIDIxMS42MDY4NjcsNDEyLjI4MjQwMyBDMzE0LjE2MzA5LDQwNS44ODc1NTQgNDA1LjA3Mjk2MSwzMzEuNzEwNzMgMzk4LjI5MDEyOSwyMjIuOTc1OTY2Ii8+CiAgICA8cGF0aCBmaWxsPSIjMDA5MTJEIiBkPSJNMjExLjM3NTEwNyw1OC4yOTI3MDM5IEMyMzIuNDQ5Nzg1LDUzLjI2OTUyNzkgMjkzLjA2NzgxMSw1Ny44MDM0MzM1IDMxMi40ODkyNyw4My41NjY1MjM2IEMzMTMuNjU0OTM2LDg1LjExMTU4OCAzMTIuMDEzNzM0LDg4LjAzNTE5MzEgMzEwLjEzMzkwNiw4Ny4yMTQ1OTIzIEMyNzguMTE4NDU1LDczLjIwOTQ0MjEgMjIzLjgwNjAwOSwxMTguNTM0NzY0IDE4NS44NTIzNjEsOTQuNzk5MTQxNiBDMTg2LjEzNzMzOSwxMDMuMzE3NTk3IDE4NC40NzM4MiwxNDQuODcxMjQ1IDEyNS45MzgxOTcsMTQ3LjI4MTU0NSBDMTI0LjU1NjIyMywxNDcuMzM4MTk3IDEyMy43OTU3MDgsMTQ1LjkyNzAzOSAxMjQuNjY5NTI4LDE0NC45Mjc4OTcgQzEzMi40OTc4NTQsMTM1Ljk5OTE0MiAxNDAuNCwxMTMuMzkzMTMzIDEyOS4wMzY5MSwxMDEuMzQxNjMxIEMxMDIuNTI1MzIyLDEyNS4wOTk1NzEgODguMTUyNzg5NywxMzIuNzMzOTA2IDMwLjYxMTE1ODgsMTE3LjE4MDI1OCBDMjguNzI3ODk3LDExNi42NzIxMDMgMjkuMzY5OTU3MSwxMTMuNjQ1NDk0IDMxLjM3MzM5MDYsMTEyLjg4MTU0NSBDNDIuMjQ4OTI3LDEwOC43MjUzMjIgNjYuODg3NTUzNiw5MC41MjEwMyA5MC4xOTc0MjQ5LDgyLjQ5Njk5NTcgQzk0LjYzNTE5MzEsODAuOTcwODE1NSA5OS4wNTkyMjc1LDc5Ljc4NjI2NjEgMTAzLjM3NjgyNCw3OS4wOTc4NTQxIEM3Ny43MTE1ODgsNzYuODA0MjkxOCA2Ni4xNDI0ODkzLDczLjIzNTE5MzEgNDkuODE4MDI1OCw3NS42OTY5OTU3IEM0OC4wMjkxODQ1LDc1Ljk2NjUyMzYgNDYuODEzNzMzOSw3My44ODQxMjAyIDQ3LjkyMjc0NjgsNzIuNDU1Nzk0IEM2OS45MTc1OTY2LDQ0LjEyNDQ2MzUgMTEwLjQzNjA1MiwzNS41NjgyNDAzIDEzNS40MzUxOTMsNTAuNjE4ODg0MSBDMTIwLjAyNTc1MSwzMS41MjUzMjE5IDEwNy45NTUzNjUsMTYuMjk3ODU0MSAxMDcuOTU1MzY1LDE2LjI5Nzg1NDEgTDEzNi41NTYyMjMsMC4wNTIzNjA1MTUgQzEzNi41NTYyMjMsMC4wNTIzNjA1MTUgMTQ4LjM3MjUzMiwyNi40NTIzNjA1IDE1Ni45Njk5NTcsNDUuNjY2MDk0NCBDMTc4LjI0NTQ5NCwxNC4yMzA5MDEzIDIxNy44MzAwNDMsMTEuMzI5NjEzNyAyMzQuNTU0NTA2LDMzLjYzMzQ3NjQgQzIzNS41NDY3ODEsMzQuOTU4Nzk4MyAyMzQuNTA5ODcxLDM2Ljg0Mzc3NjggMjMyLjg1MzIxOSwzNi44MDQyOTE4IEMyMTkuMjQxMjAyLDM2LjQ3Mjk2MTQgMjExLjc0NTkyMyw0OC44NTQwNzczIDIxMS4xNzc2ODIsNTguMjcwMzg2MyBMMjExLjM3NTEwNyw1OC4yOTI3MDM5Ii8+CiAgPC9nPgo8L3N2Zz4K"},28713:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NjAiIGhlaWdodD0iNTYwIiB2aWV3Qm94PSIwIDAgNTYwIDU2MCI+CiAgPHBhdGggZmlsbD0iIzBBQzg1NSIgZD0iTTM3NS4xODUyNjMsMzY4LjY4NDQ3NCBDMjk1LjgxNjMxNiwzNzIuODUxMzE2IDI3OS41OTg0MjEsMjgyLjAzMTg0MiAyNDguNDU5NDc0LDI4Mi42Nzg0MjEgQzIzNS4xOTA3ODksMjgyLjk1NjU3OSAyMjQuNzMzMTU4LDI5Ni44Mjk0NzQgMjI5LjMyNTUyNiwzMTIuOTk3NjMyIEMyMzEuODUxMDUzLDMyMS44ODU3ODkgMjM4Ljg1NjU3OSwzMzQuOTIwNTI2IDI0My4yNzAyNjMsMzQzLjAwOTIxMSBDMjU4LjgzOTczNywzNzEuNTUyNjMyIDIzNS44MjI2MzIsNDAzLjg1Mzk0NyAyMDguODg3MzY4LDQwNi41ODU3ODkgQzE2NC4xMjYwNTMsNDExLjEyNjU3OSAxNDUuNDU0NDc0LDM4NS4xNjAyNjMgMTQ2LjYwOTQ3NCwzNTguNTc4Njg0IEMxNDcuOTA4MTU4LDMyOC43Mzg0MjEgMTczLjIwOTQ3NCwyOTguMjQ3ODk1IDE0Ny4yNTk3MzcsMjg1LjI3Mzk0NyBDMTIwLjA2NDczNywyNzEuNjc3MzY4IDk3Ljk1NzYzMTYsMzI0Ljg0NjA1MyA3MS45MzQyMTA1LDMzNi43MTI4OTUgQzQ4LjM4MTA1MjYsMzQ3LjQ1NDIxMSAxNS42ODU1MjYzLDMzOS4xMjYwNTMgNC4wNjE4NDIxMSwzMTIuOTcxODQyIEMtNC4xMDIzNjg0MiwyOTQuNTkzMTU4IC0yLjYxNzYzMTU4LDI1OS4yMDQ0NzQgMzMuNzMyNjMxNiwyNDUuNzAxODQyIEM1Ni40Mzg0MjExLDIzNy4yNjg2ODQgMTA3LjAzNzM2OCwyNTYuNzMwNTI2IDEwOS42MzI4OTUsMjMyLjA3OTQ3NCBDMTEyLjYyNDQ3NCwyMDMuNjYzMTU4IDU2LjQ3NzEwNTMsMjAxLjI2NjU3OSAzOS41NzIxMDUzLDE5NC40NTI2MzIgQzkuNjYsMTgyLjM5Nzg5NSAtNy45OTQ3MzY4NCwxNTYuNjAyODk1IDUuODM3NjMxNTgsMTI4LjkzMDc4OSBDMTYuMjE2MDUyNiwxMDguMTczOTQ3IDQ2Ljc1MjYzMTYsOTkuNzI3ODk0NyA3MC4wNjA3ODk1LDEwOC44MjA1MjYgQzk3Ljk4MzQyMTEsMTE5LjcxMjg5NSAxMDIuNDY1MjYzLDE0OC42NzQ0NzQgMTE2Ljc3MTA1MywxNjAuNzE4MTU4IEMxMjkuMDk0NzM3LDE3MS4wOTg0MjEgMTQ1Ljk2MTA1MywxNzIuMzk3MTA1IDE1Ni45OTE1NzksMTY1LjI2MDc4OSBDMTY1LjEyNjMxNiwxNTkuOTk2MDUzIDE2Ny44MzQyMTEsMTQ4LjQzMzE1OCAxNjQuNzY1MjYzLDEzNy44NzA1MjYgQzE2MC42OTQyMTEsMTIzLjg0ODQyMSAxNDkuODkwMjYzLDExNS4wOTg0MjEgMTM5LjM0OTczNywxMDYuNTI1MjYzIEMxMjAuNTkxNTc5LDkxLjI3NjMxNTggOTQuMTA5NDczNyw3OC4xNjQyMTA1IDExMC4xMjg0MjEsMzYuNTQxODQyMSBDMTIzLjI1ODk0NywyLjQzMTU3ODk1IDE2MS43NywxLjIwMjg5NDc0IDE2MS43NywxLjIwMjg5NDc0IEMxNzcuMDcwNTI2LC0wLjUxNzYzMTU3OSAxOTAuNzcyMTA1LDQuMTAyMzY4NDIgMjAxLjkzNzEwNSwxNC4wNzczNjg0IEMyMTYuODYzNjg0LDI3LjQxMjM2ODQgMjE5Ljc3MDUyNiw0NS4yMzY1Nzg5IDIxNy4yNzI2MzIsNjQuMjUyNjMxNiBDMjE0Ljk5MDI2Myw4MS42MTA3ODk1IDIwOC44NDY4NDIsOTYuODEzNjg0MiAyMDUuNjQzNDIxLDExNC4wMTE1NzkgQzIwMS45MjYwNTMsMTMzLjk3ODE1OCAyMTIuNTk3MzY4LDE1NC4wOTc2MzIgMjMyLjg5MTg0MiwxNTQuODgwNTI2IEMyNTkuNTg1Nzg5LDE1NS45MTIxMDUgMjY3LjU4OTczNywxMzUuMzk0NzM3IDI3MC44NTU3ODksMTIyLjM4OTQ3NCBDMjc1LjYzNzg5NSwxMDMuMzYwNTI2IDI4MS45MTM5NDcsODUuNjk0NzM2OCAyOTkuNTc0MjExLDc0LjU2ODQyMTEgQzMyNC45MTk3MzcsNTguNTk5MjEwNSAzNjAuMTI2MDUzLDYyLjA5OTIxMDUgMzc2LjQ2LDkyLjc5MDUyNjMgQzM4OS4zODA1MjYsMTE3LjA3NSAzODUuMjMyMTA1LDE1MC41MDU1MjYgMzY1LjQxMjg5NSwxNjguNzYwNzg5IEMzNTYuNTIxMDUzLDE3Ni45NDg5NDcgMzQ1LjgyOTQ3NCwxNzkuODM1NTI2IDMzNC4yNjQ3MzcsMTc5LjkxNjU3OSBDMzE3LjY4MDI2MywxODAuMDM0NDc0IDMwMS4xMDMxNTgsMTc5LjYyNzM2OCAyODUuNzA4Njg0LDE4Ny4zODgxNTggQzI3NS4yMjg5NDcsMTkyLjY2OTQ3NCAyNzAuNjYyMzY4LDIwMS4yNzU3ODkgMjcwLjY2NDIxMSwyMTIuODExMDUzIEMyNzAuNjY0MjExLDIyNC4wNTM0MjEgMjc2LjUxNjU3OSwyMzEuMzk2MDUzIDI4NS45OTk3MzcsMjM2LjE3NDQ3NCBDMzAzLjg2MDc4OSwyNDUuMTc2ODQyIDMyMy41NzY4NDIsMjQ3LjAxNzEwNSAzNDIuODcxMDUzLDI1MC4zOTU1MjYgQzM3MC44NTA3ODksMjU1LjI5NTUyNiAzOTUuNDUyMTA1LDI2NS4xNTA3ODkgNDExLjI0NjMxNiwyOTEuMTE1MjYzIEM0MTEuMzg4MTU4LDI5MS4zNDM2ODQgNDExLjUyNjMxNiwyOTEuNTczOTQ3IDQxMS42NjA3ODksMjkxLjgwNjA1MyBDNDI5LjgsMzIyLjU0NzEwNSA0MTAuODMsMzY2LjgxMTA1MyAzNzUuMTg1MjYzLDM2OC42ODQ0NzQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcwIDc2KSIvPgo8L3N2Zz4K"},29557:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NjAiIGhlaWdodD0iNTYwIiB2aWV3Qm94PSIwIDAgNTYwIDU2MCI+CiAgPGcgZmlsbD0ibm9uZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzMgMTQwKSI+CiAgICA8cGF0aCBmaWxsPSIjRkZGIiBkPSJNNDMuODAyMDA2NiwyNjcuMzE1MiBMMjgxLjc0NTQwMywyOTAuNzk3MTA1IEMyODYuNTM5MTQ4LDMwNS43MzQ0IDI5Mi44OTQ2MjMsMzIwLjMxNDIxIDMwMi4wMDQxMzgsMzMxLjA1MjggTDcxLjczODA4NTIsMzAwLjkyNzYxOSBDNjEuNDkwNTM3NywyOTQuMTc1Njk1IDUwLjg3NzA2ODksMjgxLjA1MDM2MiA0My44MDIwMDY2LDI2Ny4zMTUyIFogTTI2Ni42ODQ4NTIsMTkyLjAxNzE0MyBDMjY3LjI4NTM4NCwyMTIuOTIzMDQ4IDI3MC4xMTY0NTksMjM5Ljk4MTU2MiAyNzUuMDMxMDEsMjYzLjAzNDEzMyBMMzMuODc2NjA5OCwyNDMuOTUwNzA1IEMyNi4zNTg1OTAyLDIyMS4yMTE4MSAyNC4wMywyMDcuOTkxODQ4IDIyLjE3MjM4MDMsMTg5LjA2NjEzMyBMMjY2LjY4NDg1MiwxOTIuMDE3MTQzIFogTTI3NS4wMzEwMSw4OS4zMDgzNDI5IEMyNzAuMTE2NDU5LDExMi4zNjA5MTQgMjY3LjI4NTM4NCwxMzkuNDE5NDI5IDI2Ni42ODQ4NTIsMTYwLjMyNTMzMyBMMjIuMTcyMzgwMywxNjMuMjc2MzQzIEMyNC4wMywxNDQuMzUwNjI5IDI2LjM1ODU5MDIsMTMxLjEzMDY2NyAzMy44NzY2MDk4LDEwOC4zOTE3NzEgTDI3NS4wMzEwMSw4OS4zMDgzNDI5IFogTTMwMi4wMDQxMzgsMjEuMjg5Njc2MiBDMjkyLjg5NDYyMywzMi4wMzAwMTkgMjg2LjUzOTE0OCw0Ni42MDgwNzYyIDI4MS43NDU0MDMsNjEuNTQ3MTIzOCBMNDMuODAyMDA2Niw4NS4wMjcyNzYyIEM1MC44NzcwNjg5LDcxLjI5MjExNDMgNjEuNDkwNTM3Nyw1OC4xNjg1MzMzIDcxLjczODA4NTIsNTEuNDE0ODU3MSBMMzAyLjAwNDEzOCwyMS4yODk2NzYyIFoiLz4KICAgIDxwYXRoIGZpbGw9IiMwMDY0MUUiIGQ9Ik0zMDMuNTY1ODY5LDI2NC42NjczNTIgQzMwNi43MjA4NDYsMjU2Ljg0NjQ3NiAzMTcuOTAzMzMxLDI1Mi4wODE3NTIgMzI1LjkzMjU5LDI1Mi42MzkwMSBDMzM0LjUxNTEwOCwyNTMuMjM0ODE5IDM0My42MzE2MjYsMjYyLjI2NDgzOCAzNDUuMjI0ODcyLDI3MS4xNDU5MDUgQzM0NS41MjA3NjEsMjcwLjgyMzQ2NyAzNDUuODMwNjU2LDI3MC41MTg1NTIgMzQ2LjE0NTgwMywyNzAuMjE4ODk1IEMzNDguOTAxNTkzLDI2Ny41ODMzMTQgMzUyLjM1NDIxLDI2NS44MzQ0MzggMzU2LjEzMjQ3OSwyNjUuMzUyNTMzIEMzNTUuNTU0NzA4LDI2Mi43OTA1NTIgMzU1LjQxNjM5MywyNjAuMDQ4MDc2IDM1NS44MTIwNzksMjU3LjIzMzc1MiBDMzU3LjIwNzQ4MiwyNDcuMzMyOCAzNjUuMTQ1Njk4LDIzOS45MDc5NjIgMzc0LjIzNDIwMywyMzkuOTgxNTYyIEMzODAuMDk5NDQ5LDI0MC4wMjg4NzYgMzg1LjI0NTEwOCwyNDMuMDMyNDU3IDM4OC41OTc5MjgsMjQ3LjY0NjQ3NiBDMzg4Ljg5NzMxOCwyNDcuMjcxNDY3IDM4OS4yMjgyMjMsMjQ2LjkyOCAzODkuNTUwMzc0LDI0Ni41Nzc1MjQgQzM5My4zODQ2NjksMjI2LjU4NjM2MiAzOTUuODE0ODA3LDIwMy45OTk5MjQgMzk2LjM2ODA2NiwxODAuMDMwODU3IEMzOTguMjY3NzA1LDk3LjYxMTEyMzggMzc3LjM3NTE3NCwzMC4yNzc2MzgxIDM0OS43MDUyMiwyOS42Mzk3NzE0IEMzMjIuMDMzNTE1LDI5LjAwMDE1MjQgMjk4LjA2MTI5Miw5NS4yOTYyMjg2IDI5Ni4xNjE2NTIsMTc3LjcxNTk2MiBDMjk2LjE2MTY1MiwxNzcuNzE1OTYyIDI5NC42OTYyMTYsMjA3Ljc3ODA1NyAzMDMuNTY1ODY5LDI2NC42NjczNTIiLz4KICAgIDxwYXRoIGZpbGw9IiNGRkQ3MDAiIGQ9Ik00OTAuOTEwNTc3LDM1NC43OTc1NjIgQzQ5Mi41NDU4NDMsMzUyLjA2NTYgNDkzLjQ1OTc3LDM0OC43OTA0IDQ5My4zOTY3NDEsMzQ1LjMxMDE3MSBDNDkzLjkyNzIzOSwzMzQuMDY1MTQzIDQ4Ni4yMTQ4NzksMzIzLjg3MTU0MyA0NzUuNDg0MTA1LDMyNS4wMDAwNzYgQzQ3NS43OTQsMzIzLjcxMzgyOSA0NzUuOTk3MDk1LDMyMi4zNzY3NjIgNDc2LjA3NTg4MiwzMjAuOTk3NjM4IEM0NzYuNzE4NDMzLDMwOS43MzMzMzMgNDY4Ljk1NzA0OSwzMDAuMDI1MTQzIDQ1OC43MzkyNjYsMjk5LjMxNTQyOSBDNDU4LjUxNTE2MSwyOTkuMzAxNDEgNDU4LjI5NDU1NywyOTkuMjk0NCA0NTguMDcyMjAzLDI5OS4yODczOSBDNDU5LjEzNDk1MSwyOTYuNDkyMzQzIDQ1OS42NjE5NDgsMjkzLjM3MTM1MiA0NTkuNDc0NjEsMjkwLjA2NDYxIEM0NTguOTQ1ODYyLDI4MC42OTI4NzYgNDUyLjQ4ODgzOSwyNzIuNzk2NjQ4IDQ0NC4wODg0MDcsMjcxLjI0MjI4NiBDNDQxLjA1NDIzNiwyNzAuNjgxNTI0IDQzOC4xMTExMDgsMjcwLjk2MDE1MiA0MzUuNDE2NTk3LDI3MS44OTQxNzEgQzQzMi44NzA5MDUsMjY1LjYxNzE0MyA0MjcuNTI1NjUyLDI2MC45NjEwNjcgNDIxLjAyMzEwOCwyNTkuOTc3OTgxIEM0MjAuNTA4MzY3LDI0OS43ODYxMzMgNDEzLjE1MzE3NCwyNDEuMzk3NDg2IDQwMy42ODI5OSwyNDAuNzQwMzQzIEMzOTcuNzI4NDUyLDI0MC4zMjY3ODEgMzkyLjI1NzE0MSwyNDMuMDY0IDM4OC41OTc5MjgsMjQ3LjY0NjQ3NiBDMzg1LjI0NTEwOCwyNDMuMDMyNDU3IDM4MC4wOTk0NDksMjQwLjAzMDYyOSAzNzQuMjM0MjAzLDIzOS45ODMzMTQgQzM2NS4xNDU2OTgsMjM5LjkwNzk2MiAzNTcuMjA3NDgyLDI0Ny4zMzI4IDM1NS44MTIwNzksMjU3LjIzNTUwNSBDMzU1LjQxNjM5MywyNjAuMDQ4MDc2IDM1NS41NTQ3MDgsMjYyLjc5MDU1MiAzNTYuMTMyNDc5LDI2NS4zNTQyODYgQzM1Mi4zNTQyMSwyNjUuODM0NDM4IDM0OC45MDE1OTMsMjY3LjU4NTA2NyAzNDYuMTQ1ODAzLDI3MC4yMTg4OTUgQzM0NS44MzA2NTYsMjcwLjUxODU1MiAzNDUuNTIwNzYxLDI3MC44MjM0NjcgMzQ1LjIyNDg3MiwyNzEuMTQ1OTA1IEMzNDMuNjMxNjI2LDI2Mi4yNjQ4MzggMzM0LjUxNTEwOCwyNTMuMjM2NTcxIDMyNS45MzI1OSwyNTIuNjM5MDEgQzMxNy45MDMzMzEsMjUyLjA4MTc1MiAzMDYuNTc1NTI4LDI1Ni45NjM4ODYgMzAzLjU2NTg2OSwyNjQuNjY3MzUyIEMzMDQuODg1OTg3LDI3OC4xMDExMDUgMzEzLjI3NTkxNSwzMTQuNzIwNjEgMzQzLjYyMTEyMSwzNDcuNTcwNzQzIEwzNDMuODkwNzQ4LDM0Ny41OTAwMTkgQzM0Ni44MTYzNjcsMzUwLjIzOTYxOSAzNTAuNjM2NjU2LDM1MS42OTkzNTIgMzU0LjcwOTA2MiwzNTEuMzM2NjEgQzM1Ny4yMzM3NDQsMzUxLjExMDU1MiAzNTkuNTU4ODMzLDM1MC4yMDYzMjQgMzYxLjU2MTc3LDM0OC44MTE0MjkgTDM2Mi4wNTAyNDksMzQ4Ljg0NDcyNCBDMzY0LjcyMDI0OSwzNTAuNzAwNDk1IDM2Ny45Mjk1MDIsMzUxLjY3MTMxNCAzNzEuMzIwODM5LDM1MS4zNjk5MDUgQzM3Mi42MTY0NDYsMzUxLjI1NDI0OCAzNzMuODUyNTI1LDM1MC45NDIzMjQgMzc1LjAyNzMyNSwzNTAuNDk3MjE5IEMzNzcuOTMzNjg1LDM1Ni41MTEzOSAzODQuNDE1MjIsMzYwLjM5ODE3MSAzOTEuNjQ5NjA3LDM1OS43NjAzMDUgQzM5Ny4yNTIyMywzNTkuMjY2MTMzIDQwMi4wMTQ0NTksMzU2LjE2NDQxOSA0MDQuODE0MDIsMzUxLjc5OTIzOCBMNDA1LjcyMDk0NCwzNTEuODYyMzI0IEM0MDguNTE3MDAzLDM1NC42MzYzNDMgNDEyLjIzMzk5MywzNTYuMjUyMDM4IDQxNi4yNDMzNywzNTYuMTMxMTI0IEM0MTkuNTU3NjcyLDM2MS4xNDk5NDMgNDI1LjY0NTI3MiwzNjQuMjM3NjM4IDQzMi4zNjMxNjcsMzYzLjY0NzA4NiBDNDM0Ljg5MzEwMiwzNjMuNDI0NTMzIDQzNy4yNTQ5NTcsMzYyLjY5MjAzOCA0MzkuMzYxMTkzLDM2MS41ODI3ODEgQzQ0Mi44NzUwODksMzY1LjkwOTQxIDQ0OC42NDIyODksMzY4LjQ4MTkwNSA0NTQuOTY5NzUxLDM2Ny45MjQ2NDggQzQ2MS4yMjU0MywzNjcuMzc2MTUyIDQ2Ni41MDk0MDMsMzYzLjkwNDY4NiA0NjkuMzg0MjQ5LDM1OS4xMDQ5MTQgQzQ3Mi4yMDgzMjEsMzYxLjM3NDI0OCA0NzUuNzQ2NzI4LDM2Mi41OTIxNTIgNDc5LjUwMzk4NywzNjIuMjU3NDQ4IEM0ODMuMTQ5MTkzLDM2MS45MzE1MDUgNDg2LjM4ODIxLDM2MC4yMDg5MTQgNDg4LjgyMTg0OSwzNTcuNjAzMTI0IEw0ODkuMjI4MDM5LDM1Ny42MzExNjIgQzQ4OS43ODEyOTgsMzU2LjgyODU3MSA0OTAuMjU0MDIsMzU2LjAwNjcwNSA0OTAuNjkzNDc1LDM1NS4xNzc4MjkgQzQ5MC43MDM5OCwzNTUuMTYyMDU3IDQ5MC43MTI3MzQsMzU1LjE0NDUzMyA0OTAuNzIxNDg5LDM1NS4xMjg3NjIgQzQ5MC43ODEwMTYsMzU1LjAxODM2MiA0OTAuODU0NTUxLDM1NC45MDk3MTQgNDkwLjkxMDU3NywzNTQuNzk3NTYyIi8+CiAgICA8cGF0aCBmaWxsPSIjMDRBNTNDIiBkPSJNMjgxLjc0NTQwMyw2MS41NDcxMjM4IEw0My44MDIwMDY2LDg1LjAyNzI3NjIgQzUwLjg3NzA2ODksNzEuMjkyMTE0MyA2MS40OTA1Mzc3LDU4LjE2ODUzMzMgNzEuNzM4MDg1Miw1MS40MTQ4NTcxIEwzMDIuMDA0MTM4LDIxLjI4OTY3NjIgQzI5Mi44OTQ2MjMsMzIuMDMwMDE5IDI4Ni41MzkxNDgsNDYuNjA4MDc2MiAyODEuNzQ1NDAzLDYxLjU0NzEyMzggWiBNMzAyLjAwNDEzOCwzMzEuMDUyOCBMNzEuNzM4MDg1MiwzMDAuOTI3NjE5IEM2MS40OTA1Mzc3LDI5NC4xNzU2OTUgNTAuODc3MDY4OSwyODEuMDUwMzYyIDQzLjgwMjAwNjYsMjY3LjMxNjk1MiBMMjgxLjc0NTQwMywyOTAuNzk3MTA1IEMyODYuNTM5MTQ4LDMwNS43MzQ0IDI5Mi44OTQ2MjMsMzIwLjMxNDIxIDMwMi4wMDQxMzgsMzMxLjA1MjggWiBNMzMuODc2NjA5OCwyNDMuOTUwNzA1IEMyNi4zNTg1OTAyLDIyMS4yMTE4MSAyNC4wMywyMDcuOTkzNiAyMi4xNzIzODAzLDE4OS4wNjYxMzMgTDI2Ni42ODQ4NTIsMTkyLjAxNzE0MyBDMjY3LjI4NTM4NCwyMTIuOTIzMDQ4IDI3MC4xMTY0NTksMjM5Ljk4MTU2MiAyNzUuMDMxMDEsMjYzLjAzNDEzMyBMMzMuODc2NjA5OCwyNDMuOTUwNzA1IFogTTMzLjg3NjYwOTgsMTA4LjM5MTc3MSBMMjc1LjAzMTAxLDg5LjMwODM0MjkgQzI3MC4xMTY0NTksMTEyLjM2MDkxNCAyNjcuMjg1Mzg0LDEzOS40MTk0MjkgMjY2LjY4NDg1MiwxNjAuMzI3MDg2IEwyMi4xNzIzODAzLDE2My4yNzYzNDMgQzI0LjAzLDE0NC4zNTA2MjkgMjYuMzU4NTkwMiwxMzEuMTMwNjY3IDMzLjg3NjYwOTgsMTA4LjM5MTc3MSBaIE0zNzguNTk3MjQ2LDI1LjcxMjY4NTcgQzM2My4zNDIzNTQsNy45MzQ3ODA5NSAzNTIuMzkwOTc3LC0wLjQxMTgwOTUyNCAzNDMuMDEwMDg1LDAuNjcyOTE0Mjg2IEMzNDEuMjYxMDE2LDAuODk1NDY2NjY3IDc2LjExNjg4NTIsMzcuODk1MjM4MSA3Ni4xMTY4ODUyLDM3Ljg5NTIzODEgQzM0LjA0MjkzNzcsNDIuMTc4MDU3MSAwLjQxNjY5NTA4MiwxMDMuMzI3MzkgMCwxNzYuMTcyMTE0IEMwLjQxNjY5NTA4MiwyNDkuMDE1MDg2IDM0LjA0MjkzNzcsMzEwLjE2NDQxOSA3Ni4xMTY4ODUyLDMxNC40NDg5OSBDNzYuMTE2ODg1MiwzMTQuNDQ4OTkgMzQxLjc1ODI0OSwzNTEuNTgzNjk1IDM0My4wMTAwODUsMzUxLjY2OTU2MiBDMzQ1LjIyODM3NCwzNTEuNjU1NTQzIDM0Ny40MTg2NDksMzUxLjM1NzYzOCAzNDkuNTc3NDEsMzUwLjgwMzg4NiBDMzQ3LjQ3NjQyNiwzNTAuMTc4Mjg2IDM0NS41MzgyNjksMzQ5LjA4MzA0OCAzNDMuODkwNzQ4LDM0Ny41OTAwMTkgTDM0My42MjExMjEsMzQ3LjU3MDc0MyBDMzEzLjI3NTkxNSwzMTQuNzIyMzYyIDMwNC44ODU5ODcsMjc4LjEwMTEwNSAzMDMuNTY1ODY5LDI2NC42NjczNTIgQzMwMy41NjkzNywyNjQuNjU2ODM4IDMwMy41NzYzNzQsMjY0LjY0ODA3NiAzMDMuNTc5ODc1LDI2NC42Mzc1NjIgQzMwMy41NzYzNzQsMjY0LjY0ODA3NiAzMDMuNTY5MzcsMjY0LjY1NjgzOCAzMDMuNTY1ODY5LDI2NC42NjczNTIgQzI5NC42OTYyMTYsMjA3Ljc3ODA1NyAyOTYuMTYxNjUyLDE3Ny43MTU5NjIgMjk2LjE2MTY1MiwxNzcuNzE1OTYyIEMyOTguMDYxMjkyLDk1LjI5NjIyODYgMzIyLjAzMzUxNSwyOS4wMDAxNTI0IDM0OS43MDUyMiwyOS42MzgwMTkgQzM3Ny4zNzUxNzQsMzAuMjc3NjM4MSAzOTguMjY3NzA1LDk3LjYxMTEyMzggMzk2LjM2ODA2NiwxODAuMDMwODU3IEMzOTUuODE0ODA3LDIwMy45OTk5MjQgMzkzLjM4NDY2OSwyMjYuNTg2MzYyIDM4OS41NTAzNzQsMjQ2LjU3NzUyNCBDMzkzLjQ4OTcxOCwyNDIuMjI2MzYyIDM5OC43NzM2OTIsMjQwLjM5MzM3MSA0MDMuNjgyOTksMjQwLjc0MDM0MyBDNDA0LjU4NjQxMywyNDAuODA1MTgxIDQwNS40NjUzMjUsMjQwLjk1NzYzOCA0MDYuMzI2NzI4LDI0MS4xNTU2NTcgQzQyMy4xMzEwOTUsMTQ5LjEyNTg2NyA0MDUuNTE0MzQ4LDU5LjI2MjAxOSAzNzguNTk3MjQ2LDI1LjcxMjY4NTcgWiIvPgogIDwvZz4KPC9zdmc+Cg=="},9390:(e,t,n)=>{var i,s,r;r="object"==typeof self&&self.self==self&&self||"object"==typeof n.g&&n.g.global==n.g&&n.g,i=[n(13469),n(19755),t],void 0===(s=function(e,t,n){r.Backbone=function(e,t,n,i){var s=e.Backbone,r=Array.prototype.slice;t.VERSION="1.2.3",t.$=i,t.noConflict=function(){return e.Backbone=s,this},t.emulateHTTP=!1,t.emulateJSON=!1;var a=function(e,t,i){n.each(t,(function(t,s){n[s]&&(e.prototype[s]=function(e,t,i){switch(e){case 1:return function(){return n[t](this[i])};case 2:return function(e){return n[t](this[i],e)};case 3:return function(e,s){return n[t](this[i],o(e,this),s)};case 4:return function(e,s,r){return n[t](this[i],o(e,this),s,r)};default:return function(){var e=r.call(arguments);return e.unshift(this[i]),n[t].apply(n,e)}}}(t,s,i))}))},o=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?l(e):n.isString(e)?function(t){return t.get(e)}:e},l=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},c=t.Events={},d=/\s+/,u=function(e,t,i,s,r){var a,o=0;if(i&&"object"==typeof i){void 0!==s&&"context"in r&&void 0===r.context&&(r.context=s);for(a=n.keys(i);o<a.length;o++)t=u(e,t,a[o],i[a[o]],r)}else if(i&&d.test(i))for(a=i.split(d);o<a.length;o++)t=e(t,a[o],s,r);else t=e(t,i,s,r);return t};c.on=function(e,t,n){return p(this,e,t,n)};var p=function(e,t,n,i,s){return e._events=u(m,e._events||{},t,n,{context:i,ctx:e,listening:s}),s&&((e._listeners||(e._listeners={}))[s.id]=s),e};c.listenTo=function(e,t,i){if(!e)return this;var s=e._listenId||(e._listenId=n.uniqueId("l")),r=this._listeningTo||(this._listeningTo={}),a=r[s];if(!a){var o=this._listenId||(this._listenId=n.uniqueId("l"));a=r[s]={obj:e,objId:s,id:o,listeningTo:r,count:0}}return p(e,t,i,this,a),this};var m=function(e,t,n,i){if(n){var s=e[t]||(e[t]=[]),r=i.context,a=i.ctx,o=i.listening;o&&o.count++,s.push({callback:n,context:r,ctx:r||a,listening:o})}return e};c.off=function(e,t,n){return this._events?(this._events=u(h,this._events,e,t,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(e,t,i){var s=this._listeningTo;if(!s)return this;for(var r=e?[e._listenId]:n.keys(s),a=0;a<r.length;a++){var o=s[r[a]];if(!o)break;o.obj.off(t,i,this)}return n.isEmpty(s)&&(this._listeningTo=void 0),this};var h=function(e,t,i,s){if(e){var r,a=0,o=s.context,l=s.listeners;if(t||i||o){for(var c=t?[t]:n.keys(e);a<c.length;a++){var d=e[t=c[a]];if(!d)break;for(var u=[],p=0;p<d.length;p++){var m=d[p];i&&i!==m.callback&&i!==m.callback._callback||o&&o!==m.context?u.push(m):(r=m.listening)&&0==--r.count&&(delete l[r.id],delete r.listeningTo[r.objId])}u.length?e[t]=u:delete e[t]}return n.size(e)?e:void 0}for(var h=n.keys(l);a<h.length;a++)delete l[(r=l[h[a]]).id],delete r.listeningTo[r.objId]}};c.once=function(e,t,i){var s=u(g,{},e,t,n.bind(this.off,this));return this.on(s,void 0,i)},c.listenToOnce=function(e,t,i){var s=u(g,{},t,i,n.bind(this.stopListening,this,e));return this.listenTo(e,s)};var g=function(e,t,i,s){if(i){var r=e[t]=n.once((function(){s(t,r),i.apply(this,arguments)}));r._callback=i}return e};c.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),i=0;i<t;i++)n[i]=arguments[i+1];return u(y,this._events,e,void 0,n),this};var y=function(e,t,n,i){if(e){var s=e[t],r=e.all;s&&r&&(r=r.slice()),s&&v(s,i),r&&v(r,[t].concat(i))}return e},v=function(e,t){var n,i=-1,s=e.length,r=t[0],a=t[1],o=t[2];switch(t.length){case 0:for(;++i<s;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<s;)(n=e[i]).callback.call(n.ctx,r);return;case 2:for(;++i<s;)(n=e[i]).callback.call(n.ctx,r,a);return;case 3:for(;++i<s;)(n=e[i]).callback.call(n.ctx,r,a,o);return;default:for(;++i<s;)(n=e[i]).callback.apply(n.ctx,t);return}};c.bind=c.on,c.unbind=c.off,n.extend(t,c);var f=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(f.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,i){if(null==e)return this;var s;if("object"==typeof e?(s=e,i=t):(s={})[e]=t,i||(i={}),!this._validate(s,i))return!1;var r=i.unset,a=i.silent,o=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,d=this.changed,u=this._previousAttributes;for(var p in s)t=s[p],n.isEqual(c[p],t)||o.push(p),n.isEqual(u[p],t)?delete d[p]:d[p]=t,r?delete c[p]:c[p]=t;if(this.id=this.get(this.idAttribute),!a){o.length&&(this._pending=i);for(var m=0;m<o.length;m++)this.trigger("change:"+o[m],this,c[o[m]],i)}if(l)return this;if(!a)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t=this._changing?this._previousAttributes:this.attributes,i={};for(var s in e){var r=e[s];n.isEqual(t[s],r)||(i[s]=r)}return!!n.size(i)&&i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,i=e.success;return e.success=function(n){var s=e.parse?t.parse(n,e):n;if(!t.set(s,e))return!1;i&&i.call(e.context,t,n,e),t.trigger("sync",t,n,e)},R(this,e),this.sync("read",this,e)},save:function(e,t,i){var s;null==e||"object"==typeof e?(s=e,i=t):(s={})[e]=t;var r=(i=n.extend({validate:!0,parse:!0},i)).wait;if(s&&!r){if(!this.set(s,i))return!1}else if(!this._validate(s,i))return!1;var a=this,o=i.success,l=this.attributes;i.success=function(e){a.attributes=l;var t=i.parse?a.parse(e,i):e;if(r&&(t=n.extend({},s,t)),t&&!a.set(t,i))return!1;o&&o.call(i.context,a,e,i),a.trigger("sync",a,e,i)},R(this,i),s&&r&&(this.attributes=n.extend({},l,s));var c=this.isNew()?"create":i.patch?"patch":"update";"patch"!==c||i.attrs||(i.attrs=s);var d=this.sync(c,this,i);return this.attributes=l,d},destroy:function(e){e=e?n.clone(e):{};var t=this,i=e.success,s=e.wait,r=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){s&&r(),i&&i.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var a=!1;return this.isNew()?n.defer(e.success):(R(this,e),a=this.sync("delete",this,e)),s||r(),a},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||k();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.defaults({validate:!0},e))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return!i||(this.trigger("invalid",this,i,n.extend(t,{validationError:i})),!1)}}),a(f,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var I=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},b={add:!0,remove:!0,merge:!0},M={add:!0,remove:!1},S=function(e,t,n){n=Math.min(Math.max(n,0),e.length);for(var i=Array(e.length-n),s=t.length,r=0;r<i.length;r++)i[r]=e[r+n];for(r=0;r<s;r++)e[r+n]=t[r];for(r=0;r<i.length;r++)e[r+s+n]=i[r]};n.extend(I.prototype,c,{model:f,initialize:function(){},toJSON:function(e){return this.map((function(t){return t.toJSON(e)}))},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,M))},remove:function(e,t){t=n.extend({},t);var i=!n.isArray(e);e=i?[e]:n.clone(e);var s=this._removeModels(e,t);return!t.silent&&s&&this.trigger("update",this,t),i?s[0]:s},set:function(e,t){if(null!=e){(t=n.defaults({},t,b)).parse&&!this._isModel(e)&&(e=this.parse(e,t));var i=!n.isArray(e);e=i?e?[e]:[]:e.slice();var s=t.at;null!=s&&(s=+s),s<0&&(s+=this.length+1);for(var r,a=[],o=[],l=[],c={},d=t.add,u=t.merge,p=t.remove,m=!1,h=this.comparator&&null==s&&!1!==t.sort,g=n.isString(this.comparator)?this.comparator:null,y=0;y<e.length;y++){r=e[y];var v=this.get(r);if(v){if(u&&r!==v){var f=this._isModel(r)?r.attributes:r;t.parse&&(f=v.parse(f,t)),v.set(f,t),h&&!m&&(m=v.hasChanged(g))}c[v.cid]||(c[v.cid]=!0,a.push(v)),e[y]=v}else d&&(r=e[y]=this._prepareModel(r,t))&&(o.push(r),this._addReference(r,t),c[r.cid]=!0,a.push(r))}if(p){for(y=0;y<this.length;y++)c[(r=this.models[y]).cid]||l.push(r);l.length&&this._removeModels(l,t)}var I=!1,M=!h&&d&&p;if(a.length&&M?(I=this.length!=a.length||n.some(this.models,(function(e,t){return e!==a[t]})),this.models.length=0,S(this.models,a,0),this.length=this.models.length):o.length&&(h&&(m=!0),S(this.models,o,null==s?this.length:s),this.length=this.models.length),m&&this.sort({silent:!0}),!t.silent){for(y=0;y<o.length;y++)null!=s&&(t.index=s+y),(r=o[y]).trigger("add",r,this,t);(m||I)&&this.trigger("sort",this,t),(o.length||l.length)&&this.trigger("update",this,t)}return i?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return r.apply(this.models,arguments)},get:function(e){if(null!=e){var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]}},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var i=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),1===i||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){var t=(e=n.extend({parse:!0},e)).success,i=this;return e.success=function(n){var s=e.reset?"reset":"set";i[s](n,e),t&&t.call(e.context,i,n,e),i.trigger("sync",i,n,e)},R(this,e),this.sync("read",this,e)},create:function(e,t){var i=(t=t?n.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;i||this.add(e,t);var s=this,r=t.success;return t.success=function(e,t,n){i&&s.add(e,n),r&&r.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;(t=t?n.clone(t):{}).collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_removeModels:function(e,t){for(var n=[],i=0;i<e.length;i++){var s=this.get(e[i]);if(s){var r=this.indexOf(s);this.models.splice(r,1),this.length--,t.silent||(t.index=r,s.trigger("remove",s,this,t)),n.push(s),this._removeReference(s,t)}}return!!n.length&&n},_isModel:function(e){return e instanceof f},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){if("add"!==e&&"remove"!==e||n===this){if("destroy"===e&&this.remove(t,i),"change"===e){var s=this.modelId(t.previousAttributes()),r=this.modelId(t.attributes);s!==r&&(null!=s&&delete this._byId[s],null!=r&&(this._byId[r]=t))}this.trigger.apply(this,arguments)}}}),a(I,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");var E=t.View=function(e){this.cid=n.uniqueId("view"),n.extend(this,n.pick(e,C)),this._ensureElement(),this.initialize.apply(this,arguments)},D=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var i=e[t];if(n.isFunction(i)||(i=this[i]),i){var s=t.match(D);this.delegate(s[1],s[2],n.bind(i,this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,i,s){var r=P[e];n.defaults(s||(s={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var a={type:r,dataType:"json"};if(s.url||(a.url=n.result(i,"url")||k()),null!=s.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(a.contentType="application/json",a.data=JSON.stringify(s.attrs||i.toJSON(s))),s.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),s.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){a.type="POST",s.emulateJSON&&(a.data._method=r);var o=s.beforeSend;s.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",r),o)return o.apply(this,arguments)}}"GET"===a.type||s.emulateJSON||(a.processData=!1);var l=s.error;s.error=function(e,t,n){s.textStatus=t,s.errorThrown=n,l&&l.call(s.context,e,t,n)};var c=s.xhr=t.ajax(n.extend(a,s));return i.trigger("request",i,c,s),c};var P={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var w=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,Z=/(\(\?)?:\w+/g,N=/\*\w+/g,A=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(w.prototype,c,{initialize:function(){},route:function(e,i,s){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(s=i,i=""),s||(s=this[i]);var r=this;return t.history.route(e,(function(n){var a=r._extractParameters(e,n);!1!==r.execute(s,a,i)&&(r.trigger.apply(r,["route:"+i].concat(a)),r.trigger("route",i,a),t.history.trigger("route",r,i,a))})),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(A,"\\$&").replace(T,"(?:$1)?").replace(Z,(function(e,t){return t?e:"([^/?]+)"})).replace(N,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,(function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null}))}});var x=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,O=/^\/+|\/+$/g,j=/#.*$/;x.started=!1,n.extend(x.prototype,c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(L,"")},start:function(e){if(x.started)throw new Error("Backbone.history has already been started");if(x.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(O,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,s=i.insertBefore(this.iframe,i.firstChild).contentWindow;s.document.open(),s.document.close(),s.location.hash="#"+this.fragment}var r=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?r("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?r("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),x.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,(function(t){if(t.route.test(e))return t.callback(e),!0})))},navigate:function(e,t){if(!x.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+e;e=e.replace(j,"");var s=this.decodeFragment(e);if(this.fragment!==s){if(this.fragment=s,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;t.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new x;f.extend=I.extend=w.extend=E.extend=x.extend=function(e,t){var i,s=this;i=e&&n.has(e,"constructor")?e.constructor:function(){return s.apply(this,arguments)},n.extend(i,s,t);var r=function(){this.constructor=i};return r.prototype=s.prototype,i.prototype=new r,e&&n.extend(i.prototype,e),i.__super__=s.prototype,i};var k=function(){throw new Error('A "url" property or function must be specified')},R=function(e,t){var n=t.error;t.error=function(i){n&&n.call(t.context,e,i,t),e.trigger("error",e,i,t)}};return t}(r,n,e,t)}.apply(t,i))||(e.exports=s)},38767:function(e,t,n){var i,s,r,a;i=n(13469),s=n(9390),e.exports=(r=i,(a=s).ChildViewContainer=function(e,t){var n=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};return t.extend(n.prototype,{add:function(e,t){var n=e.cid;return this._views[n]=e,e.model&&(this._indexByModel[e.model.cid]=n),t&&(this._indexByCustom[t]=n),this._updateLength(),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var n=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,(function(e,t){if(e===n)return delete this._indexByCustom[t],!0}),this),delete this._views[n],this._updateLength(),this},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,n){t.each(this._views,(function(i){t.isFunction(i[e])&&i[e].apply(i,n||[])}))},_updateLength:function(){this.length=t.size(this._views)}}),t.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],(function(e){n.prototype[e]=function(){var n=[t.values(this._views)].concat(t.toArray(arguments));return t[e].apply(t,n)}})),n}(0,r),a.ChildViewContainer)},37434:function(e,t,n){var i,s,r;s=n(13469),r=n(9390),n(96790),n(38767),e.exports=(function(e,t,n){"use strict";var i={};t.Marionette=i,i.$=t.$;var s=Array.prototype.slice;function r(e,t){var n=new Error(e);throw n.name=t||"Error",n}i.extend=t.Model.extend,i.getOption=function(e,t){if(e&&t)return e.options&&t in e.options&&void 0!==e.options[t]?e.options[t]:e[t]},i.normalizeMethods=function(e){var t,i={};return n.each(e,(function(e,s){t=e,n.isFunction(t)||(t=this[t]),t&&(i[s]=t)}),this),i},i.triggerMethod=function(){var e=/(^|:)(\w)/gi;function t(e,t,n){return n.toUpperCase()}return function(i){var s=this["on"+i.replace(e,t)];if(n.isFunction(this.trigger)&&this.trigger.apply(this,arguments),n.isFunction(s))return s.apply(this,n.tail(arguments))}}(),i.MonitorDOMRefresh=function(e){function t(t){t._isShown&&t._isRendered&&function(t){return e.contains(t.el)}(t)&&n.isFunction(t.triggerMethod)&&t.triggerMethod("dom:refresh")}return function(e){e.listenTo(e,"show",(function(){!function(e){e._isShown=!0,t(e)}(e)})),e.listenTo(e,"render",(function(){!function(e){e._isRendered=!0,t(e)}(e)}))}}(document.documentElement),function(e){function t(e,t,i,s){var a=s.split(/\s+/);n.each(a,(function(n){var s=e[n];s||r("Method '"+n+"' was configured as an event handler, but does not exist."),e.listenTo(t,i,s)}))}function i(e,t,n,i){e.listenTo(t,n,i)}function s(e,t,i,s){var r=s.split(/\s+/);n.each(r,(function(n){var s=e[n];e.stopListening(t,i,s)}))}function a(e,t,n,i){e.stopListening(t,n,i)}function o(e,t,i,s,r){t&&i&&(n.isFunction(i)&&(i=i.call(e)),n.each(i,(function(i,a){n.isFunction(i)?s(e,t,a,i):r(e,t,a,i)})))}e.bindEntityEvents=function(e,n,s){o(e,n,s,i,t)},e.unbindEntityEvents=function(e,t,n){o(e,t,n,a,s)}}(i),i.Callbacks=function(){this._deferred=i.$.Deferred(),this._callbacks=[]},n.extend(i.Callbacks.prototype,{add:function(e,t){this._callbacks.push({cb:e,ctx:t}),this._deferred.done((function(n,i){t&&(n=t),e.call(n,i)}))},run:function(e,t){this._deferred.resolve(t,e)},reset:function(){var e=this._callbacks;this._deferred=i.$.Deferred(),this._callbacks=[],n.each(e,(function(e){this.add(e.cb,e.ctx)}),this)}}),i.Controller=function(e){this.triggerMethod=i.triggerMethod,this.options=e||{},n.isFunction(this.initialize)&&this.initialize(this.options)},i.Controller.extend=i.extend,n.extend(i.Controller.prototype,t.Events,{close:function(){this.stopListening(),this.triggerMethod("close"),this.unbind()}}),i.Region=function(e){if(this.options=e||{},this.el=i.getOption(this,"el"),this.el||r("An 'el' must be specified for a region.","NoElError"),this.initialize){var t=Array.prototype.slice.apply(arguments);this.initialize.apply(this,t)}},n.extend(i.Region,{buildRegion:function(e,t){var i,s,a=n.isString(e),o=n.isString(e.selector),l=n.isUndefined(e.regionType),c=n.isFunction(e);c||a||o||r("Region must be specified as a Region type, a selector string or an object with selector property"),a&&(i=e),e.selector&&(i=e.selector,delete e.selector),c&&(s=e),!c&&l&&(s=t),e.regionType&&(s=e.regionType,delete e.regionType),(a||c)&&(e={}),e.el=i;var d=new s(e);return e.parentEl&&(d.getEl=function(t){var i=e.parentEl;return n.isFunction(i)&&(i=i()),i.find(t)}),d}}),n.extend(i.Region.prototype,t.Events,{show:function(e){this.ensureEl();var t=e.isClosed||n.isUndefined(e.$el),s=e!==this.currentView;s&&this.close(),e.render(),(s||t)&&this.open(e),this.currentView=e,i.triggerMethod.call(this,"show",e),i.triggerMethod.call(e,"show")},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(e){return i.$(e)},open:function(e){this.$el.empty().append(e.el)},close:function(){var e=this.currentView;e&&!e.isClosed&&(e.close?e.close():e.remove&&e.remove(),i.triggerMethod.call(this,"close",e),delete this.currentView)},attachView:function(e){this.currentView=e},reset:function(){this.close(),delete this.$el}}),i.Region.extend=i.extend,i.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={},e.Controller.prototype.constructor.call(this,t)},addRegions:function(e,t){var i={};return n.each(e,(function(e,s){n.isString(e)&&(e={selector:e}),e.selector&&(e=n.defaults({},e,t));var r=this.addRegion(s,e);i[s]=r}),this),i},addRegion:function(t,i){var s,r=n.isObject(i),a=n.isString(i),o=!!i.selector;return s=a||r&&o||n.isFunction(i)?e.Region.buildRegion(i,e.Region):i,this._store(t,s),this.triggerMethod("region:add",t,s),s},get:function(e){return this._regions[e]},removeRegion:function(e){var t=this._regions[e];this._remove(e,t)},removeRegions:function(){n.each(this._regions,(function(e,t){this._remove(t,e)}),this)},closeRegions:function(){n.each(this._regions,(function(e,t){e.close()}),this)},close:function(){this.removeRegions(),e.Controller.prototype.close.apply(this,arguments)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(e,t){t.close(),delete this._regions[e],this._setLength(),this.triggerMethod("region:remove",e,t)},_setLength:function(){this.length=n.size(this._regions)}});return n.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],(function(e){t.prototype[e]=function(){var t=[n.values(this._regions)].concat(n.toArray(arguments));return n[e].apply(n,t)}})),t}(i),i.TemplateCache=function(e){this.templateId=e},n.extend(i.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new i.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=s.call(arguments),n=t.length;if(n>0)for(e=0;e<n;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),n.extend(i.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var t=i.$(e).html();return t&&0!==t.length||r("Could not find template: '"+e+"'","NoTemplateError"),t},compileTemplate:function(e){return n.template(e)}}),i.Renderer={render:function(e,t){return e||r("Cannot render the template since it's false, null or undefined.","TemplateNotFoundError"),("function"==typeof e?e:i.TemplateCache.get(e))(t)}},i.View=t.View.extend({constructor:function(e){n.bindAll(this,"render"),this.options=n.extend({},n.result(this,"options"),n.isFunction(e)?e.call(this):e),this.events=this.normalizeUIKeys(n.result(this,"events")),t.View.prototype.constructor.apply(this,arguments),i.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)},triggerMethod:i.triggerMethod,normalizeMethods:i.normalizeMethods,getTemplate:function(){return i.getOption(this,"template")},mixinTemplateHelpers:function(e){e=e||{};var t=i.getOption(this,"templateHelpers");return n.isFunction(t)&&(t=t.call(this)),n.extend(e,t)},normalizeUIKeys:function(e){var t=this;if(void 0!==e)return n.each(n.keys(e),(function(i){var s=/@ui.[a-zA-Z_$0-9]*/g;i.match(s)&&(e[i.replace(s,(function(e){return n.result(t,"ui")[e.slice(4)]}))]=e[i],delete e[i])})),e},configureTriggers:function(){if(this.triggers){var e={},t=this.normalizeUIKeys(n.result(this,"triggers"));return n.each(t,(function(t,i){var s=n.isObject(t),r=s?t.event:t;e[i]=function(e){if(e){var n=e.preventDefault,i=e.stopPropagation,a=s?t.preventDefault:n,o=s?t.stopPropagation:i;a&&n&&n.apply(e),o&&i&&i.apply(e)}var l={view:this,model:this.model,collection:this.collection};this.triggerMethod(r,l)}}),this),e}},delegateEvents:function(e){this._delegateDOMEvents(e),i.bindEntityEvents(this,this.model,i.getOption(this,"modelEvents")),i.bindEntityEvents(this,this.collection,i.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(e){e=e||this.events,n.isFunction(e)&&(e=e.call(this));var i={},s=this.configureTriggers();n.extend(i,e,s),t.View.prototype.delegateEvents.call(this,i)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,e),i.unbindEntityEvents(this,this.model,i.getOption(this,"modelEvents")),i.unbindEntityEvents(this,this.collection,i.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){this.isClosed||!1!==this.triggerMethod("before:close")&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var e=n.result(this,"_uiBindings");this.ui={},n.each(n.keys(e),(function(t){var n=e[t];this.ui[t]=this.$(n)}),this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(n.each(this.ui,(function(e,t){delete this.ui[t]}),this),this.ui=this._uiBindings,delete this._uiBindings)}}),i.ItemView=i.View.extend({constructor:function(){i.View.prototype.constructor.apply(this,arguments)},serializeData:function(){var e={};return this.model?e=this.model.toJSON():this.collection&&(e={items:this.collection.toJSON()}),e},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var e=this.serializeData();e=this.mixinTemplateHelpers(e);var t=this.getTemplate(),n=i.Renderer.render(t,e);return this.$el.html(n),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),i.View.prototype.close.apply(this,arguments),this.triggerMethod("item:closed"))}}),i.CollectionView=i.View.extend({itemViewEventPrefix:"itemview",constructor:function(e){this._initChildViewStorage(),i.View.prototype.constructor.apply(this,arguments),this._initialEvents(),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this.appendBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerShowBufferedChildren:function(){this._isShown&&(n.each(this._bufferedChildren,(function(e){i.triggerMethod.call(e,"show")})),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this.render))},addChildView:function(e,t,n){this.closeEmptyView();var i=this.getItemView(e),s=this.collection.indexOf(e);this.addItemView(e,i,s)},onShowCalled:function(){this.children.each((function(e){i.triggerMethod.call(e,"show")}))},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.startBuffering(),this.closeEmptyView(),this.closeChildren(),this.isEmpty(this.collection)?this.showEmptyView():this.showCollection(),this.endBuffering()},showCollection:function(){var e;this.collection.each((function(t,n){e=this.getItemView(t),this.addItemView(t,e,n)}),this)},showEmptyView:function(){var e=this.getEmptyView();if(e&&!this._showingEmptyView){this._showingEmptyView=!0;var n=new t.Model;this.addItemView(n,e,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getEmptyView:function(){return i.getOption(this,"emptyView")},getItemView:function(e){var t=i.getOption(this,"itemView");return t||r("An `itemView` must be specified","NoItemViewError"),t},addItemView:function(e,t,s){var r=i.getOption(this,"itemViewOptions");n.isFunction(r)&&(r=r.call(this,e,s));var a=this.buildItemView(e,t,r);return this.addChildViewEventForwarding(a),this.triggerMethod("before:item:added",a),this.children.add(a),this.renderItemView(a,s),this._isShown&&!this.isBuffering&&i.triggerMethod.call(a,"show"),this.triggerMethod("after:item:added",a),a},addChildViewEventForwarding:function(e){var t=i.getOption(this,"itemViewEventPrefix");this.listenTo(e,"all",(function(){var r=s.call(arguments),a=r[0],o=this.normalizeMethods(this.getItemEvents());r[0]=t+":"+a,r.splice(1,0,e),void 0!==o&&n.isFunction(o[a])&&o[a].apply(this,r),i.triggerMethod.apply(this,r)}),this)},getItemEvents:function(){return n.isFunction(this.itemEvents)?this.itemEvents.call(this):this.itemEvents},renderItemView:function(e,t){e.render(),this.appendHtml(this,e,t)},buildItemView:function(e,t,i){return new t(n.extend({model:e},i))},removeItemView:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},removeChildView:function(e){e&&(this.stopListening(e),e.close?e.close():e.remove&&e.remove(),this.children.remove(e)),this.triggerMethod("item:removed",e)},isEmpty:function(e){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},appendBuffer:function(e,t){e.$el.append(t)},appendHtml:function(e,t,n){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):e.$el.append(t.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),i.View.prototype.close.apply(this,arguments))},closeChildren:function(){this.children.each((function(e){this.removeChildView(e)}),this),this.checkEmpty()}}),i.CompositeView=i.CollectionView.extend({constructor:function(){i.CollectionView.prototype.constructor.apply(this,arguments)},_initialEvents:function(){this.once("render",(function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this._renderChildren))}))},getItemView:function(e){var t=i.getOption(this,"itemView")||this.constructor;return t||r("An `itemView` must be specified","NoItemViewError"),t},serializeData:function(){var e={};return this.model&&(e=this.model.toJSON()),e},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var e=this.renderModel();return this.$el.html(e),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(this.triggerMethod("composite:collection:before:render"),i.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e);var t=this.getTemplate();return i.Renderer.render(t,e)},appendBuffer:function(e,t){this.getItemViewContainer(e).append(t)},appendHtml:function(e,t,n){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):this.getItemViewContainer(e).append(t.el)},getItemViewContainer:function(e){if("$itemViewContainer"in e)return e.$itemViewContainer;var t,s=i.getOption(e,"itemViewContainer");if(s){var a=n.isFunction(s)?s.call(this):s;(t=e.$(a)).length<=0&&r("The specified `itemViewContainer` was not found: "+e.itemViewContainer,"ItemViewContainerMissingError")}else t=e.$el;return e.$itemViewContainer=t,t},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),i.Layout=i.ItemView.extend({regionType:i.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),i.ItemView.prototype.constructor.call(this,e)},render:function(){return this.isClosed&&this._initializeRegions(),this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions(),i.ItemView.prototype.render.apply(this,arguments)},close:function(){this.isClosed||(this.regionManager.close(),i.ItemView.prototype.close.apply(this,arguments))},addRegion:function(e,t){var n={};return n[e]=t,this._buildRegions(n)[e]},addRegions:function(e){return this.regions=n.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return delete this.regions[e],this.regionManager.removeRegion(e)},_buildRegions:function(e){var t=this,n={regionType:i.getOption(this,"regionType"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,n)},_initializeRegions:function(e){var t;this._initRegionManager(),t=n.isFunction(this.regions)?this.regions(e):this.regions||{},this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each((function(e){e.reset()}))},_initRegionManager:function(){this.regionManager=new i.RegionManager,this.listenTo(this.regionManager,"region:add",(function(e,t){this[e]=t,this.trigger("region:add",e,t)})),this.listenTo(this.regionManager,"region:remove",(function(e,t){delete this[e],this.trigger("region:remove",e,t)}))}}),i.AppRouter=t.Router.extend({constructor:function(e){t.Router.prototype.constructor.apply(this,arguments),this.options=e||{};var n=i.getOption(this,"appRoutes"),s=this._getController();this.processAppRoutes(s,n)},appRoute:function(e,t){var n=this._getController();this._addAppRoute(n,e,t)},processAppRoutes:function(e,t){if(t){var i=n.keys(t).reverse();n.each(i,(function(n){this._addAppRoute(e,n,t[n])}),this)}},_getController:function(){return i.getOption(this,"controller")},_addAppRoute:function(e,t,i){var s=e[i];s||r("Method '"+i+"' was not found on the controller"),this.route(t,i,n.bind(s,e))}}),i.Application=function(e){this._initRegionManager(),this._initCallbacks=new i.Callbacks,this.vent=new t.Wreqr.EventAggregator,this.commands=new t.Wreqr.Commands,this.reqres=new t.Wreqr.RequestResponse,this.submodules={},n.extend(this,e),this.triggerMethod=i.triggerMethod},n.extend(i.Application.prototype,t.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("initialize:before",e),this._initCallbacks.run(e,this),this.triggerMethod("initialize:after",e),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(e){this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},module:function(e,t){var n=i.Module.getClass(t),r=s.call(arguments);return r.unshift(this),n.create.apply(n,r)},_initRegionManager:function(){this._regionManager=new i.RegionManager,this.listenTo(this._regionManager,"region:add",(function(e,t){this[e]=t})),this.listenTo(this._regionManager,"region:remove",(function(e,t){delete this[e]}))}}),i.Application.extend=i.extend,i.Module=function(e,t,s){this.moduleName=e,this.options=n.extend({},this.options,s),this.initialize=s.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,this.startWithParent=!0,this.triggerMethod=i.triggerMethod,n.isFunction(this.initialize)&&this.initialize(this.options,e,t)},i.Module.extend=i.extend,n.extend(i.Module.prototype,t.Events,{initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){this._isInitialized||(n.each(this.submodules,(function(t){t.startWithParent&&t.start(e)})),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e))},stop:function(){this._isInitialized&&(this._isInitialized=!1,i.triggerMethod.call(this,"before:stop"),n.each(this.submodules,(function(e){e.stop()})),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),i.triggerMethod.call(this,"stop"))},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,s){if(e){var r=n.flatten([this,this.app,t,i,i.$,n,s]);e.apply(this,r)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new i.Callbacks,this._finalizerCallbacks=new i.Callbacks}}),n.extend(i.Module,{create:function(e,t,i){var r=e,a=s.call(arguments);a.splice(0,3);var o=(t=t.split(".")).length,l=[];return l[o-1]=i,n.each(t,(function(t,n){var s=r;r=this._getModule(s,t,e,i),this._addModuleDefinition(s,r,l[n],a)}),this),r},_getModule:function(e,t,i,s,r){var a=n.extend({},s),o=this.getClass(s),l=e[t];return l||(l=new o(t,i,a),e[t]=l,e.submodules[t]=l),l},getClass:function(e){var t=i.Module;return e?e.prototype instanceof t?e:e.moduleClass||t:t},_addModuleDefinition:function(e,t,s,r){var a,o;!n.isFunction(s)||s.prototype instanceof i.Module?n.isObject(s)?(a=s.define,o=!!n.isUndefined(s.startWithParent)||s.startWithParent):o=!0:(a=s,o=!0),a&&t.addDefinition(a,r),t.startWithParent=t.startWithParent&&o,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,e.addInitializer((function(e){t.startWithParent&&t.start(e)})))}})}(0,i=r,s),i.Marionette)},12152:function(e,t,n){e.exports=function(e,t){function n(n){return{underscore:e,"./backbone-1.2.3+19b88d2+57e89d8":t}[n]}return function(e){function t(e){var n=t.cache[e];if(!n){var i={};n=t.cache[e]={id:e,exports:i},t.modules[e].call(i,n,i)}return n.exports}return t.cache=[],t.modules=[function(e,i){var s=n("underscore"),r=n("./backbone-1.2.3+19b88d2+57e89d8"),a=t(2),o=t(5),l=t(4),c=t(1),d=t(7);function u(e,t){this._superset=e,this._filtered=new a(e,t),this._sorted=new o(this._filtered,t),this._paginated=new l(this._sorted,t),c(this._paginated,this),d.call(this,this._filtered,m),d.call(this,this._sorted,h),d.call(this,this._paginated,g),this.initialize(t)}var p={superset:function(){return this._superset},getFilteredLength:function(){return this._filtered.length},removeTransforms:function(){return this._filtered.resetFilters(),this._sorted.removeSort(),this._paginated.removePagination(),this},destroy:function(){this.stopListening(),this._filtered.destroy(),this._sorted.destroy(),this._paginated.destroy(),this.length=0,this.trigger("obscura:destroy")}},m=["filtered:add","filtered:remove","filtered:reset"],h=["sorted:add","sorted:remove"],g=["paginated:change:perPage","paginated:change:page","paginated:change:numPages"];s.each(["filterBy","removeFilter","resetFilters","refilter","hasFilter","getFilters"],(function(e){p[e]=function(){var t=a.prototype[e].apply(this._filtered,arguments);return t===this._filtered?this:t}})),s.each(["setPerPage","setPage","getPerPage","getNumPages","getPage","hasNextPage","hasPrevPage","nextPage","prevPage","movePage","removePagination","firstPage","lastPage"],(function(e){p[e]=function(){var t=l.prototype[e].apply(this._paginated,arguments);return t===this._paginated?this:t}})),s.each(["setSort","reverseSort","removeSort"],(function(e){p[e]=function(){var t=o.prototype[e].apply(this._sorted,arguments);return t===this._sorted?this:t}})),s.each(["add","create","remove","set","reset","sort","parse","sync","fetch","push","pop","shift","unshift"],(function(e){p[e]=function(){throw new Error("Backbone.Obscura: Unsupported method: "+e+"called on read-only proxy")}})),s.extend(u.prototype,p,r.Events),(u=r.Collection.extend(u.prototype)).FilteredCollection=a,u.SortedCollection=o,u.PaginatedCollection=l,e.exports=u},function(e,t){var i=n("underscore"),s=n("./backbone-1.2.3+19b88d2+57e89d8"),r=["_onModelEvent","_prepareModel","_removeReference","_reset","add","initialize","sync","remove","reset","set","push","pop","unshift","shift","sort","parse","fetch","create","model","off","on","listenTo","listenToOnce","bind","trigger","once","stopListening"],a=["add","remove","reset","sort","destroy","sync","request","error"];e.exports=function(e,t){function n(){t.length=e.length}var o={};return i.each(i.functions(s.Collection.prototype),(function(t){i.contains(r,t)||(o[t]=function(){return e[t].apply(e,arguments)})})),i.extend(t,s.Events,o),t.listenTo(e,"all",n),t.listenTo(e,"all",(function(n){var s=i.toArray(arguments),r="change"===n||"change:"===n.slice(0,7);"reset"===n&&(t.models=e.models),i.contains(a,n)?(i.contains(["add","remove","destroy"],n)?s[2]=t:i.contains(["reset","sort"],n)&&(s[1]=t),t.trigger.apply(this,s)):r&&t.contains(s[1])&&t.trigger.apply(this,s)})),t.models=e.models,n(),t}},function(e,i){var s=n("underscore"),r=n("./backbone-1.2.3+19b88d2+57e89d8"),a=t(1),o=t(3);function l(){this._filterResultCache={}}function c(e){for(var t in this._filterResultCache)this._filterResultCache.hasOwnProperty(t)&&delete this._filterResultCache[t][e]}function d(e,t){this._filters[e]&&c.call(this,e),this._filters[e]=t,this.trigger("filtered:add",e)}function u(e){delete this._filters[e],c.call(this,e),this.trigger("filtered:remove",e)}function p(e){this._filterResultCache[e.cid]||(this._filterResultCache[e.cid]={});var t=this._filterResultCache[e.cid];for(var n in this._filters)if(this._filters.hasOwnProperty(n)&&(t.hasOwnProperty(n)||(t[n]=this._filters[n].fn(e)),!t[n]))return!1;return!0}function m(e){e||(e={});var t=[];this._superset&&(t=this._superset.filter(s.bind(p,this))),e.reset?this._collection.reset(t):this._collection.set(t),this.length=this._collection.length}function h(){m.call(this,{reset:!0})}function g(){var e=!(!this._superset||!this._superset.comparator);m.call(this,{reset:e})}function y(e){if(this._filterResultCache[e.cid]={},p.call(this,e)){if(!this._collection.get(e.cid)){for(var t=null,n=this.superset().indexOf(e)-1;n>=0;n-=1)if(this.contains(this.superset().at(n))){t=this.indexOf(this.superset().at(n))+1;break}t=t||0,this._collection.add(e,{at:t})}}else this._collection.get(e.cid)&&this._collection.remove(e);this.length=this._collection.length}function v(e){this._filterResultCache[e.cid]={},p.call(this,e)||this._collection.get(e.cid)&&this._collection.remove(e)}function f(e,t,n){"change:"===e.slice(0,7)&&v.call(this,arguments[1])}function I(e){this.contains(e)&&this._collection.remove(e),this.length=this._collection.length}function b(e){this._superset=e,this._collection=new r.Collection(e.toArray()),a(this._collection,this),this.resetFilters(),this.listenTo(this._superset,"reset",h),this.listenTo(this._superset,"sort",g),this.listenTo(this._superset,"add change",y),this.listenTo(this._superset,"remove",I),this.listenTo(this._superset,"all",f)}var M={defaultFilterName:"__default",filterBy:function(e,t){return t||(t=e,e=this.defaultFilterName),d.call(this,e,o(t)),m.call(this),this},removeFilter:function(e){return e||(e=this.defaultFilterName),u.call(this,e),m.call(this),this},resetFilters:function(){return this._filters={},l.call(this),this.trigger("filtered:reset"),m.call(this),this},superset:function(){return this._superset},refilter:function(e){return"object"==typeof e&&e.cid?y.call(this,e):(l.call(this),m.call(this)),this},getFilters:function(){return s.keys(this._filters)},hasFilter:function(e){return s.contains(this.getFilters(),e)},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this.length=0,this.trigger("filtered:destroy")}};s.extend(b.prototype,M,r.Events),e.exports=b},function(e,t){var i=n("underscore");function s(e,t){return i.isArray(t)||(t=null),{fn:e,keys:t}}e.exports=function(e,t){return i.isFunction(e)?s(e,t):i.isObject(e)?function(e){var t=i.keys(e),n=i.map(t,(function(t){var n=e[t];return i.isFunction(n)?function(e,t){return function(n){return t(n.get(e))}}(t,n):function(e,t){return function(n){return n.get(e)===t}}(t,n)}));return s((function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}),t)}(e):void 0}},function(e,i){var s=n("underscore"),r=n("./backbone-1.2.3+19b88d2+57e89d8"),a=t(1);function o(){var e=this.getPage()*this.getPerPage();return[e,e+this.getPerPage()]}function l(){var e=o.call(this);this._collection.reset(this.superset().slice(e[0],e[1]))}function c(){this._totalPages;var e=this.superset().length,t=this.getPerPage(),n=e%t==0?e/t:Math.floor(e/t)+1,i=this._totalPages!==n;if(this._totalPages=n,i&&this.trigger("paginated:change:numPages",{numPages:n}),this.getPage()>=n)return this.setPage(n-1),!0}function d(){c.call(this)||l.call(this)}function u(e,t){for(var n=s.max([e.length,t.length]),i=0,r=0;i<n;i+=1,r+=1)if(e[i]!==t[r])if(t[i-1]===e[i])r-=1;else{if(t[i+1]!==e[i])return e[i];r+=1}}function p(e,t,n){if(!c.call(this)){var i=o.call(this),s=i[0],r=i[1],a=u(this.superset().slice(s,r),this._collection.toArray()),l=u(this._collection.toArray(),this.superset().slice(s,r));l&&this._collection.remove(l),a&&this._collection.add(a,{at:this.superset().indexOf(a)-s})}}function m(e,t){this._superset=e,this._collection=new r.Collection(e.toArray()),this._page=0,this.setPerPage(t&&t.perPage?t.perPage:null),a(this._collection,this),this.listenTo(this._superset,"add remove",p),this.listenTo(this._superset,"reset sort",d)}var h={removePagination:function(){return this.setPerPage(null),this},setPerPage:function(e){return this._perPage=e,d.call(this),this.setPage(0),this.trigger("paginated:change:perPage",{perPage:e,numPages:this.getNumPages()}),this},setPage:function(e){var t=this.getNumPages()-1;return e=(e=(e=e>0?e:0)<t?e:t)<0?0:e,this._page=e,l.call(this),this.trigger("paginated:change:page",{page:e}),this},getPerPage:function(){return this._perPage||this.superset().length||1},getNumPages:function(){return this._totalPages},getPage:function(){return this._page},hasNextPage:function(){return this.getPage()<this.getNumPages()-1},hasPrevPage:function(){return this.getPage()>0},nextPage:function(){return this.movePage(1),this},prevPage:function(){return this.movePage(-1),this},firstPage:function(){this.setPage(0)},lastPage:function(){this.setPage(this.getNumPages()-1)},movePage:function(e){return this.setPage(this.getPage()+e),this},superset:function(){return this._superset},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this._page=0,this._totalPages=0,this.length=0,this.trigger("paginated:destroy")}};s.extend(m.prototype,h,r.Events),e.exports=m},function(e,i){var s=n("underscore"),r=n("./backbone-1.2.3+19b88d2+57e89d8"),a=t(1),o=t(6);function l(e){return s.isFunction(e)?e:function(t){return t.get(e)}}function c(e){return this._comparator?this._reverse?o(this._collection.toArray(),e,l(this._comparator)):s.sortedIndex(this._collection.toArray(),e,l(this._comparator)):this._superset.indexOf(e)}function d(e){var t=c.call(this,e);this._collection.add(e,{at:t})}function u(e){this.contains(e)&&this._collection.remove(e)}function p(e){this.contains(e)&&this._collection.indexOf(e)!==c.call(this,e)&&(this._collection.remove(e),d.call(this,e))}function m(){if(this._comparator){var e=this._superset.sortBy(this._comparator);this._collection.reset(this._reverse?e.reverse():e)}else this._collection.reset(this._superset.toArray())}function h(e){this._superset=e,this._reverse=!1,this._comparator=null,this._collection=new r.Collection(e.toArray()),a(this._collection,this),this.listenTo(this._superset,"add",d),this.listenTo(this._superset,"remove",u),this.listenTo(this._superset,"change",p),this.listenTo(this._superset,"reset",m)}var g={setSort:function(e,t){return this._reverse="desc"===t,this._comparator=e,m.call(this),e?this.trigger("sorted:add"):this.trigger("sorted:remove"),this},reverseSort:function(){return this._reverse=!this._reverse,m.call(this),this},removeSort:function(){return this.setSort(),this},superset:function(){return this._superset},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this.length=0,this.trigger("sorted:destroy")}};s.extend(h.prototype,g,r.Events),e.exports=h},function(e,t){var i=n("underscore");e.exports=function(e,t,n,s){for(var r=(n=null==n?i.identity:function(e){return i.isFunction(e)?e:function(t){return t[e]}}(n)).call(s,t),a=0,o=e.length;a<o;){var l=a+o>>>1;n.call(s,e[l])<r?o=l:a=l+1}return a}},function(e,t){var i=n("underscore");e.exports=function(e,t){i.each(t,(function(t){this.listenTo(e,t,(function(){var e=i.toArray(arguments);e.unshift(t),this.trigger.apply(this,e)}))}),this)}}],t(0)}()}(n(13469),n(9390))},96790:function(e,t,n){var i,s;i=n(13469),s=n(9390),e.exports=function(e,t){"use strict";return t.Wreqr=function(e,t,n){var i,s={};return s.Handlers=function(e,t){var n=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events,{setHandlers:function(e){t.each(e,(function(e,n){var i=null;t.isObject(e)&&!t.isFunction(e)&&(i=e.context,e=e.callback),this.setHandler(n,e,i)}),this)},setHandler:function(e,t,n){var i={callback:t,context:n};this._wreqrHandlers[e]=i,this.trigger("handler:add",e,t,n)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(t)return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(e,n),s.CommandStorage=(i=function(e){this.options=e,this._commands={},n.isFunction(this.initialize)&&this.initialize(e)},n.extend(i.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){this.getCommands(e).instances.push(t)},clearCommands:function(e){this.getCommands(e).instances=[]}}),i),s.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var n=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,n)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,t,i){var s=this.storage.getCommands(e);n.each(s.instances,(function(e){t.apply(i,e)})),this.storage.clearCommands(e)},_initializeStorage:function(e){var t,i=e.storageType||this.storageType;t=n.isFunction(i)?new i:i,this.storage=t}})}(s),s.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);if(this.hasHandler(e))return this.getHandler(e).apply(this,t)}})}(s),s.EventAggregator=function(e,t){var n=function(){};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events),n}(e,n),s}(t,t.Marionette,e),t.Wreqr}(i,s)},21356:(e,t,n)=>{!function(e){"use strict";var t=function(n,i){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,i)};t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.is("input")?"val":"html",s=n.data();e+="Text",s.resetText||n.data("resetText",n[i]()),n[i](s[e]||this.options[e]),setTimeout((function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)}),0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons"]');e.length&&"radio"===this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change").prop("type")&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each((function(){var i=e(this),s=i.data("bs.button"),r="object"==typeof n&&n;s||i.data("bs.button",s=new t(this,r)),"toggle"==n?s.toggle():n&&s.setState(n)}))},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api","[data-toggle^=button]",(function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),t.preventDefault()}))}(n(19755))},88860:(e,t,n)=>{!function(e){"use strict";var t="[data-toggle=dropdown]",n=function(t){e(t).on("click.bs.dropdown",this.toggle)};function i(){e(".dropdown-backdrop").remove(),e(t).each((function(t){var n=s(e(this));n.hasClass("open")&&(n.trigger(t=e.Event("hide.bs.dropdown")),t.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown"))}))}function s(t){var n=t.attr("data-target");n||(n=(n=t.attr("href"))&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}n.prototype.toggle=function(t){var n=e(this);if(!n.is(".disabled, :disabled")){var r=s(n),a=r.hasClass("open");if(i(),!a){if("ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",i),r.trigger(t=e.Event("show.bs.dropdown")),t.isDefaultPrevented())return;r.toggleClass("open").trigger("shown.bs.dropdown"),n.focus()}return!1}},n.prototype.keydown=function(n){if(/(38|40|27)/.test(n.keyCode)){var i=e(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var r=s(i),a=r.hasClass("open");if(!a||a&&27==n.keyCode)return 27==n.which&&r.find(t).focus(),i.click();var o=e("[role=menu] li:not(.divider):visible a",r);if(o.length){var l=o.index(o.filter(":focus"));38==n.keyCode&&l>0&&l--,40==n.keyCode&&l<o.length-1&&l++,~l||(l=0),o.eq(l).focus()}}}};var r=e.fn.dropdown;e.fn.dropdown=function(t){return this.each((function(){var i=e(this),s=i.data("dropdown");s||i.data("dropdown",s=new n(this)),"string"==typeof t&&s[t].call(i)}))},e.fn.dropdown.Constructor=n,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=r,this},e(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",(function(e){e.stopPropagation()})).on("click.bs.dropdown.data-api",t,n.prototype.toggle).on("keydown.bs.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)}(n(19755))},56150:(e,t,n)=>{!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},t.prototype.show=function(t){var n=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop((function(){var i=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show(),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:t});i?n.$element.find(".modal-dialog").one(e.support.transition.end,(function(){n.$element.focus().trigger(s)})).emulateTransitionEnd(300):n.$element.focus().trigger(s)})))},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy((function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.focus()}),this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy((function(e){27==e.which&&this.hide()}),this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop((function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")}))},t.prototype.removeBackdrop=function(){delete this.backdropMouseDownTarget,this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("mousedown.dismiss.modal",e.proxy((function(e){this.backdropMouseDownTarget=e.target}),this)),this.$element.on("mouseup.dismiss.modal",e.proxy((function(e){e.target===this.backdropMouseDownTarget&&(delete this.backdropMouseDownTarget,e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)))}),this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var n=e.fn.modal;e.fn.modal=function(n,i){return this.each((function(){var s=e(this),r=s.data("bs.modal"),a=e.extend({},t.DEFAULTS,s.data(),"object"==typeof n&&n);r||s.data("bs.modal",r=new t(this,a)),"string"==typeof n?r[n](i):a.show&&r.show(i)}))},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(t){var n=e(this),i=n.attr("href"),s=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),r=s.data("modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},s.data(),n.data());t.preventDefault(),s.modal(r,this).one("hide",(function(){n.is(":visible")&&n.focus()}))})),e(document).on("show.bs.modal",".modal",(function(){e(document.body).addClass("modal-open")})).on("hidden.bs.modal",".modal",(function(){e(document.body).removeClass("modal-open")}))}(n(19755))},76823:(e,t,n)=>{!function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,n,i){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i);for(var s=this.options.trigger.split(" "),r=s.length;r--;){var a=s[r];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var o="hover"==a?"mouseenter":"focus",l="hover"==a?"mouseleave":"blur";this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,(function(e,i){n[e]!=i&&(t[e]=i)})),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(n.timeout),n.hoverState="in",!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout((function(){"in"==n.hoverState&&n.show()}),n.options.delay.show)},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout((function(){"out"==n.hoverState&&n.hide()}),n.options.delay.hide)},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(t),t.isDefaultPrevented())return;var n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,r=s.test(i);r&&(i=i.replace(s,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(i),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var a=this.getPosition(),o=n[0].offsetWidth,l=n[0].offsetHeight;if(r){var c=this.$element.parent(),d=i,u=document.documentElement.scrollTop||document.body.scrollTop,p="body"==this.options.container?window.innerWidth:c.outerWidth(),m="body"==this.options.container?window.innerHeight:c.outerHeight(),h="body"==this.options.container?0:c.offset().left;i="bottom"==i&&a.top+a.height+l-u>m?"top":"top"==i&&a.top-u-l<0?"bottom":"right"==i&&a.right+o>p?"left":"left"==i&&a.left-o<h?"right":i,n.removeClass(d).addClass(i)}var g=this.getCalculatedOffset(i,a,o,l);this.applyPlacement(g,i),this.$element.trigger("shown.bs."+this.type)}},t.prototype.applyPlacement=function(e,t){var n,i=this.tip(),s=i[0].offsetWidth,r=i[0].offsetHeight,a=parseInt(i.css("margin-top"),10),o=parseInt(i.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(o)&&(o=0),e.top=e.top+a,e.left=e.left+o,i.offset(e).addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;if("top"==t&&c!=r&&(n=!0,e.top=e.top+r-c),/bottom|top/.test(t)){var d=0;e.left<0&&(d=-2*e.left,e.left=0,i.offset(e),l=i[0].offsetWidth,c=i[0].offsetHeight),this.replaceArrow(d-s+l,l,"left")}else this.replaceArrow(c-r,c,"top");n&&i.offset(e)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){var t=this,n=this.tip(),i=e.Event("hide.bs."+this.type);function s(){"in"!=t.hoverState&&n.detach()}if(this.$element.trigger(i),!i.isDefaultPrevented())return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?n.one(e.support.transition.end,s).emulateTransitionEnd(150):s(),this.$element.trigger("hidden.bs."+this.type),this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each((function(){var i=e(this),s=i.data("bs.tooltip"),r="object"==typeof n&&n;s||i.data("bs.tooltip",s=new t(this,r)),"string"==typeof n&&s[n]()}))},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(n(19755))},91477:(e,t,n)=>{!function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;return e(this).one(e.support.transition.end,(function(){n=!0})),setTimeout((function(){n||e(i).trigger(e.support.transition.end)}),t),this},e((function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]}}()}))}(n(19755))},62568:function(e,t,n){var i,s,r,a,o,l,c,d,u,p=n(19755);"function"==typeof(s=function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(!(e=i(String(e||"").toLowerCase()))||!e.length)return[];var t,n,r,o,l=[],c=e.split(/ +/);for(t=0,n=c.length;t<n;t++){if(r=s(c[t]),this.settings.diacritics)for(o in a)a.hasOwnProperty(o)&&(r=r.replace(new RegExp(o,"g"),a[o]));l.push({string:c[t],regex:new RegExp(r,"i")})}return l},e.prototype.iterator=function(e,t){(r(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;t<n;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)}).apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var n,i,s;e=this.prepareSearch(e,t),i=e.tokens,n=e.options.fields,s=i.length;var r,a=function(e,t){var n,i;return e?-1===(i=(e=String(e||"")).search(t.regex))?0:(n=t.string.length/e.length,0===i&&(n+=.5),n):0},o=(r=n.length)?1===r?function(e,t){return a(t[n[0]],e)}:function(e,t){for(var i=0,s=0;i<r;i++)s+=a(t[n[i]],e);return s/r}:function(){return 0};return s?1===s?function(e){return o(i[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,r=0;n<s;n++){if((t=o(i[n],e))<=0)return 0;r+=t}return r/s}:function(e){for(var t=0,n=0;t<s;t++)n+=o(i[t],e);return n/s}:function(){return 0}},e.prototype.getSortFunction=function(e,n){var i,s,r,a,o,l,c,d,u,p,m;if(m=!(e=(r=this).prepareSearch(e,n)).query&&n.sort_empty||n.sort,u=function(e,t){return"$score"===e?t.score:r.items[t.id][e]},o=[],m)for(i=0,s=m.length;i<s;i++)(e.query||"$score"!==m[i].field)&&o.push(m[i]);if(e.query){for(p=!0,i=0,s=o.length;i<s;i++)if("$score"===o[i].field){p=!1;break}p&&o.unshift({field:"$score",direction:"desc"})}else for(i=0,s=o.length;i<s;i++)if("$score"===o[i].field){o.splice(i,1);break}for(d=[],i=0,s=o.length;i<s;i++)d.push("desc"===o[i].direction?-1:1);return(l=o.length)?1===l?(a=o[0].field,c=d[0],function(e,n){return c*t(u(a,e),u(a,n))}):function(e,n){var i,s,r;for(i=0;i<l;i++)if(r=o[i].field,s=d[i]*t(u(r,e),u(r,n)))return s;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;var i=(t=n({},t)).fields,s=t.sort,a=t.sort_empty;return i&&!r(i)&&(t.fields=[i]),s&&!r(s)&&(t.sort=[s]),a&&!r(a)&&(t.sort_empty=[a]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var n,i,s,r,a=this;return i=this.prepareSearch(e,t),t=i.options,e=i.query,r=t.score||a.getScoreFunction(i),e.length?a.iterator(a.items,(function(e,s){n=r(e),(!1===t.filter||n>0)&&i.items.push({score:n,id:s})})):a.iterator(a.items,(function(e,t){i.items.push({score:1,id:t})})),(s=a.getSortFunction(i,t))&&i.items.sort(s),i.total=i.items.length,"number"==typeof t.limit&&(i.items=i.items.slice(0,t.limit)),i};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:e<t?-1:0:(e=o(String(e||"")))>(t=o(String(t||"")))?1:t>e?-1:0},n=function(e,t){var n,i,s,r;for(n=1,i=arguments.length;n<i;n++)if(r=arguments[n])for(s in r)r.hasOwnProperty(s)&&(e[s]=r[s]);return e},i=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},s=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},r=Array.isArray||p&&p.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a={a:"[aÀÁÂÃÄÅàáâãäåĀāąĄ]",c:"[cÇçćĆčČ]",d:"[dđĐďĎ]",e:"[eÈÉÊËèéêëěĚĒēęĘ]",i:"[iÌÍÎÏìíîïĪī]",l:"[lłŁ]",n:"[nÑñňŇńŃ]",o:"[oÒÓÔÕÕÖØòóôõöøŌō]",r:"[rřŘ]",s:"[sŠšśŚ]",t:"[tťŤ]",u:"[uÙÚÛÜùúûüůŮŪū]",y:"[yŸÿýÝ]",z:"[zŽžżŻźŹ]"},o=function(){var e,t,n,i,s="",r={};for(n in a)if(a.hasOwnProperty(n))for(s+=i=a[n].substring(2,a[n].length-1),e=0,t=i.length;e<t;e++)r[i.charAt(e)]=n;var o=new RegExp("["+s+"]","g");return function(e){return e.replace(o,(function(e){return r[e]})).toLowerCase()}}();return e})?(i=s.call((r={id:"sifter",exports:{},loaded:!1}).exports,n,r.exports,r),r.loaded=!0,void 0===i&&(i=r.exports)):i=s,"function"==typeof(o=function(){var e={mixin:function(e){e.plugins={},e.prototype.initializePlugins=function(e){var n,i,s,r=this,a=[];if(r.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(n=0,i=e.length;n<i;n++)"string"==typeof e[n]?a.push(e[n]):(r.plugins.settings[e[n].name]=e[n].options,a.push(e[n].name));else if(e)for(s in e)e.hasOwnProperty(s)&&(r.plugins.settings[s]=e[s],a.push(s));for(;a.length;)r.require(a.shift())},e.prototype.loadPlugin=function(t){var n=this,i=n.plugins,s=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');i.requested[t]=!0,i.loaded[t]=s.fn.apply(n,[n.plugins.settings[t]||{}]),i.names.push(t)},e.prototype.require=function(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]},e.define=function(t,n){e.plugins[t]={name:t,fn:n}}}},t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e})?(a=o.call((l={id:"microplugin",exports:{},loaded:!1}).exports,n,l.exports,l),l.loaded=!0,void 0===a&&(a=l.exports)):a=o,d=[n(19755),i,a],void 0===(u="function"==typeof(c=function(e,t,n){"use strict";var i=function(e,t){if("string"!=typeof t||t.length){var n="string"==typeof t?new RegExp(t,"i"):t,i=function(e){var t=0;if(3===e.nodeType){var s=e.data.search(n);if(s>=0&&e.data.length>0){var r=e.data.match(n),a=document.createElement("span");a.className="highlight";var o=e.splitText(s),l=(o.splitText(r[0].length),o.cloneNode(!0));a.appendChild(l),o.parentNode.replaceChild(a,o),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var c=0;c<e.childNodes.length;++c)c+=i(e.childNodes[c]);return t};return e.each((function(){i(this)}))}},s=function(){};s.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=0&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=0)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},s.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=s.prototype[t[n]]};var r=/Mac/.test(navigator.userAgent),a=r?91:17,o=r?18:17,l=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,c=function(e){return void 0!==e},d=function(e){return null==e?null:"boolean"==typeof e?e?"1":"0":e+""},u=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},p=function(e){return(e+"").replace(/\$/g,"$$$$")},m=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},h=function(e,t,n){var i,s=e.trigger,r={};for(i in e.trigger=function(){var n=arguments[0];if(-1===t.indexOf(n))return s.apply(e,arguments);r[n]=arguments},n.apply(e,[]),e.trigger=s,r)r.hasOwnProperty(i)&&s.apply(e,r[i])},g=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-i,t.length=i}return t},y=function(t){var n=null,i=function(i,s){var r,a,o,l,c,d,u,p;s=s||{},(i=i||window.event||{}).metaKey||i.altKey||(s.force||!1!==t.data("grow"))&&(r=t.val(),i.type&&"keydown"===i.type.toLowerCase()&&(o=(a=i.keyCode)>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||32===a,46===a||8===a?(p=g(t[0])).length?r=r.substring(0,p.start)+r.substring(p.start+p.length):8===a&&p.start?r=r.substring(0,p.start-1)+r.substring(p.start+1):46===a&&void 0!==p.start&&(r=r.substring(0,p.start)+r.substring(p.start+1)):o&&(d=i.shiftKey,u=String.fromCharCode(i.keyCode),r+=u=d?u.toUpperCase():u.toLowerCase())),l=t.attr("placeholder"),!r&&l&&(r=l),(c=function(t,n){if(!t)return 0;var i=e("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");!function(e,t,n){var i,s,r={};if(n)for(i=0,s=n.length;i<s;i++)r[n[i]]=e.css(n[i]);else r=e.css();t.css(r)}(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var s=i.width();return i.remove(),s}(r,t)+4)!==n&&(n=c,t.width(c),t.triggerHandler("resize")))};t.on("keydown keyup update blur",i),i()},v=function(n,i){var s,r,a,o,l=this;(o=n[0]).selectize=l;var c,d,u,p=window.getComputedStyle&&window.getComputedStyle(o,null);if(a=(a=p?p.getPropertyValue("direction"):o.currentStyle&&o.currentStyle.direction)||n.parents("[dir]:first").attr("dir")||"",e.extend(l,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===o.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(a),eventNS:".selectize"+ ++v.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?l.onSearchChange:(c=l.onSearchChange,d=i.loadThrottle,function(){var e=this,t=arguments;window.clearTimeout(u),u=window.setTimeout((function(){c.apply(e,t)}),d)})}),l.sifter=new t(this.options,{diacritics:i.diacritics}),l.settings.options){for(s=0,r=l.settings.options.length;s<r;s++)l.registerOption(l.settings.options[s]);delete l.settings.options}if(l.settings.optgroups){for(s=0,r=l.settings.optgroups.length;s<r;s++)l.registerOptionGroup(l.settings.optgroups[s]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return s.mixin(v),n.mixin(v),e.extend(v.prototype,{setup:function(){var t,n,i,s,c,d,u,p,m,h,g,v,f,I=this,b=I.settings,M=I.eventNS,S=e(window),E=e(document),D=I.$input;if(u=I.settings.mode,p=D.attr("class")||"",t=e("<div>").addClass(b.wrapperClass).addClass(p).addClass(u),n=e("<div>").addClass(b.inputClass).addClass("items").appendTo(t),i=e('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",D.is(":disabled")?"-1":I.tabIndex),d=e(b.dropdownParent||t),s=e("<div>").addClass(b.dropdownClass).addClass(u).hide().appendTo(d),c=e("<div>").addClass(b.dropdownContentClass).appendTo(s),I.settings.copyClassesToDropdown&&s.addClass(p),t.css({width:D[0].style.width}),I.plugins.names.length&&(m="plugin-"+I.plugins.names.join(" plugin-"),t.addClass(m),s.addClass(m)),(null===b.maxItems||b.maxItems>1)&&1===I.tagType&&D.attr("multiple","multiple"),I.settings.placeholder&&i.attr("placeholder",b.placeholder),!I.settings.splitOn&&I.settings.delimiter){var C=I.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");I.settings.splitOn=new RegExp("\\s*"+C+"+\\s*")}D.attr("autocorrect")&&i.attr("autocorrect",D.attr("autocorrect")),D.attr("autocapitalize")&&i.attr("autocapitalize",D.attr("autocapitalize")),I.$wrapper=t,I.$control=n,I.$control_input=i,I.$dropdown=s,I.$dropdown_content=c,s.on("mouseenter","[data-selectable]",(function(){return I.onOptionHover.apply(I,arguments)})),s.on("mousedown click","[data-selectable]",(function(){return I.onOptionSelect.apply(I,arguments)})),g="mousedown",v="*:not(input)",f=function(){return I.onItemSelect.apply(I,arguments)},(h=n).on(g,v,(function(e){for(var t=e.target;t&&t.parentNode!==h[0];)t=t.parentNode;return e.currentTarget=t,f.apply(this,[e])})),I.settings.manualInputWidth||y(i),n.on({mousedown:function(){return I.onMouseDown.apply(I,arguments)},click:function(){return I.onClick.apply(I,arguments)}}),i.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return I.onKeyDown.apply(I,arguments)},keyup:function(){return I.onKeyUp.apply(I,arguments)},keypress:function(){return I.onKeyPress.apply(I,arguments)},resize:function(){I.positionDropdown.apply(I,[])},blur:function(){return I.onBlur.apply(I,arguments)},focus:function(){return I.ignoreBlur=!1,I.onFocus.apply(I,arguments)},paste:function(){return I.onPaste.apply(I,arguments)}}),D.parents().last().find('label[for="'+D.attr("id")+'"]').on("click",(function(){I.onClick.apply(I,arguments)})),E.on("keydown"+M,(function(e){I.isCmdDown=e[r?"metaKey":"ctrlKey"],I.isCtrlDown=e[r?"altKey":"ctrlKey"],I.isShiftDown=e.shiftKey})),E.on("keyup"+M,(function(e){e.keyCode===o&&(I.isCtrlDown=!1),16===e.keyCode&&(I.isShiftDown=!1),e.keyCode===a&&(I.isCmdDown=!1)})),E.on("mousedown"+M,(function(e){if(I.isFocused){if(e.target===I.$dropdown[0]||e.target.parentNode===I.$dropdown[0])return!1;I.$control.has(e.target).length||e.target===I.$control[0]||I.blur(e.target)}})),S.on(["scroll"+M,"resize"+M].join(" "),(function(){I.isOpen&&I.positionDropdown.apply(I,arguments)})),S.on("mousemove"+M,(function(){I.ignoreHover=!1})),this.revertSettings={$children:D.children().detach(),tabindex:D.attr("tabindex")},D.attr("tabindex",-1).hide().after(I.$wrapper),e.isArray(b.items)&&(I.setValue(b.items),delete b.items),l&&D.on("invalid"+M,(function(e){e.preventDefault(),I.isInvalid=!0,I.refreshState()})),I.updateOriginalInput(),I.refreshItems(),I.refreshState(),I.updatePlaceholder(),I.isSetup=!0,D.is(":disabled")&&I.disable(),I.on("change",this.onChange),D.data("selectize",I),D.addClass("selectized"),I.trigger("initialize"),!0===b.preload&&I.onSearchChange("")},setupTemplates:function(){var t=this,n=t.settings.labelField,i=t.settings.optgroupLabelField,s={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[i])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[n])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[n])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};t.settings.render=e.extend({},s,t.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]])&&this.on(e,t)},onClick:function(e){this.isFocused||(this.focus(),e.preventDefault())},onMouseDown:function(t){var n=this,i=t.isDefaultPrevented();if(e(t.target),n.isFocused){if(t.target!==n.$control_input[0])return"single"===n.settings.mode&&t.target!==n.$control[0]?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout((function(){n.focus()}),0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var n=this;n.isFull()||n.isInputHidden||n.isLocked?t.preventDefault():n.settings.splitOn&&setTimeout((function(){for(var t=e.trim(n.$control_input.val()||"").split(n.settings.splitOn),i=0,s=t.length;i<s;i++)n.createItem(t[i])}),0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){e.target,this.$control_input[0];var t=this;if(t.isLocked)9!==e.keyCode&&e.preventDefault();else{switch(e.keyCode){case 65:if(t.isCmdDown)return void t.selectAll();break;case 27:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:if(t.$activeOption){t.ignoreHover=!0;var i=t.getAdjacentOption(t.$activeOption,-1);i.length&&t.setActiveOption(i,!0,!0)}return void e.preventDefault();case 13:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case 37:return void t.advanceSelection(-1,e);case 39:return void t.advanceSelection(1,e);case 9:return void(t.settings.selectOnTab&&t.isOpen&&t.$activeOption?(t.onOptionSelect({currentTarget:t.$activeOption}),t.settings.allowCreateEmpty&&1===t.settings.maxItems||t.isFull()||e.preventDefault()):t.settings.create&&t.createItem()&&e.preventDefault());case 8:return void t.deleteSelection(e,!0);case 46:return void t.deleteSelection(e)}!t.isFull()&&!t.isInputHidden||(r?e.metaKey:e.ctrlKey)||e.preventDefault()}},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();var n=t.$control_input.val()||"";t.lastValue!==n&&(t.lastValue=n,t.onSearchChange(n),t.refreshOptions(),t.trigger("type",n))},onSearchChange:function(e){var t=this,n=t.settings.load;n&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load((function(i){n.apply(t,[e,i])}))))},onFocus:function(e){var t=this,n=t.isFocused;if(t.isDisabled)return t.blur(),e&&e.preventDefault(),!1;t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),n||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus))return n.ignoreBlur||document.activeElement!==n.$dropdown_content[0]?void setTimeout((function(){var e=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),(t||document.body).focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.selectOnBlur&&n.$activeOption&&1===n.$activeOption.not(".create").length?(n.addItem(n.$activeOption.not(".create").data("value")),e()):n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,e):e()})):(n.ignoreBlur=!0,void n.onFocus(e))},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var n,i,s=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),(i=e(t.currentTarget)).hasClass("create")?s.createItem(null,(function(){s.settings.closeAfterSelect&&s.close()})):void 0!==(n=i.attr("data-value"))&&(s.lastQuery=null,s.setTextboxValue(""),s.addItem(n),s.settings.closeAfterSelect?s.close():!s.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&s.setActiveOption(s.getOption(n)))},onItemSelect:function(e){var t=this;t.isLocked||"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){h(this,t?[]:["change"],(function(){this.clear(t),this.addItems(e,t)}))},setActiveItem:function(t,n){var i,s,r,a,o,l,c,d,u=this;if("single"!==u.settings.mode){if(!(t=e(t)).length)return e(u.$activeItems).removeClass("active"),u.$activeItems=[],void(u.isFocused&&u.showInput());if("mousedown"===(i=n&&n.type.toLowerCase())&&u.isShiftDown&&u.$activeItems.length){for(d=u.$control.children(".active:last"),(a=Array.prototype.indexOf.apply(u.$control[0].childNodes,[d[0]]))>(o=Array.prototype.indexOf.apply(u.$control[0].childNodes,[t[0]]))&&(c=a,a=o,o=c),s=a;s<=o;s++)l=u.$control[0].childNodes[s],-1===u.$activeItems.indexOf(l)&&(e(l).addClass("active"),u.$activeItems.push(l));n.preventDefault()}else"mousedown"===i&&u.isCtrlDown||"keydown"===i&&this.isShiftDown?t.hasClass("active")?(r=u.$activeItems.indexOf(t[0]),u.$activeItems.splice(r,1),t.removeClass("active")):u.$activeItems.push(t.addClass("active")[0]):(e(u.$activeItems).removeClass("active"),u.$activeItems=[t.addClass("active")[0]]);u.hideInput(),this.isFocused||u.focus()}},setActiveOption:function(t,n,i){var s,r,a,o,l,d=this;d.$activeOption&&d.$activeOption.removeClass("active"),d.$activeOption=null,(t=e(t)).length&&(d.$activeOption=t.addClass("active"),!n&&c(n)||(s=d.$dropdown_content.height(),r=d.$activeOption.outerHeight(!0),n=d.$dropdown_content.scrollTop()||0,o=a=d.$activeOption.offset().top-d.$dropdown_content.offset().top+n,l=a-s+r,a+r>s+n?d.$dropdown_content.stop().animate({scrollTop:l},i?d.settings.scrollDuration:0):a<n&&d.$dropdown_content.stop().animate({scrollTop:o},i?d.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0}),this.settings.manualInputWidth||this.$control_input.css({position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1}),this.settings.manualInputWidth||this.$control_input.css({position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout((function(){e.ignoreFocus=!1,e.onFocus()}),0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(t){var n,i,s,r=this,a=r.settings,o=this.getSearchOptions();if(a.score&&"function"!=typeof(s=r.settings.score.apply(this,[t])))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==r.lastQuery?(r.lastQuery=t,i=r.sifter.search(t,e.extend(o,{score:s})),r.currentResults=i):i=e.extend(!0,{},r.currentResults),a.hideSelected)for(n=i.items.length-1;n>=0;n--)-1!==r.items.indexOf(d(i.items[n].id))&&i.items.splice(n,1);return i},refreshOptions:function(t){var n,s,r,a,o,l,c,u,p,m,h,g,y,v,f,I;void 0===t&&(t=!0);var b=this,M=e.trim(b.$control_input.val()),S=b.search(M),E=b.$dropdown_content,D=b.$activeOption&&d(b.$activeOption.attr("data-value"));for(a=S.items.length,"number"==typeof b.settings.maxOptions&&(a=Math.min(a,b.settings.maxOptions)),o={},l=[],n=0;n<a;n++)for(c=b.options[S.items[n].id],u=b.render("option",c),p=c[b.settings.optgroupField]||"",s=0,r=(m=e.isArray(p)?p:[p])&&m.length;s<r;s++)p=m[s],b.optgroups.hasOwnProperty(p)||(p=""),o.hasOwnProperty(p)||(o[p]=[],l.push(p)),o[p].push(u);for(this.settings.lockOptgroupOrder&&l.sort((function(e,t){return(b.optgroups[e].$order||0)-(b.optgroups[t].$order||0)})),h=[],n=0,a=l.length;n<a;n++)p=l[n],b.optgroups.hasOwnProperty(p)&&o[p].length?(g=b.render("optgroup_header",b.optgroups[p])||"",g+=o[p].join(""),h.push(b.render("optgroup",e.extend({},b.optgroups[p],{html:g})))):h.push(o[p].join(""));if(E.html(h.join("")),b.settings.highlight&&S.query.length&&S.tokens.length)for(n=0,a=S.tokens.length;n<a;n++)i(E,S.tokens[n].regex);if(!b.settings.hideSelected)for(n=0,a=b.items.length;n<a;n++)b.getOption(b.items[n]).addClass("selected");(y=b.canCreate(M))&&(E.prepend(b.render("option_create",{input:M})),I=e(E[0].childNodes[0])),b.hasOptions=S.items.length>0||y,b.hasOptions?(S.items.length>0?((f=D&&b.getOption(D))&&f.length?v=f:"single"===b.settings.mode&&b.items.length&&(v=b.getOption(b.items[0])),v&&v.length||(v=I&&!b.settings.addPrecedence?b.getAdjacentOption(I,1):E.find("[data-selectable]:first"))):v=I,b.setActiveOption(v),t&&!b.isOpen&&b.open()):(b.setActiveOption(null),t&&b.isOpen&&b.close())},addOption:function(t){var n,i,s,r=this;if(e.isArray(t))for(n=0,i=t.length;n<i;n++)r.addOption(t[n]);else(s=r.registerOption(t))&&(r.userOptions[s]=!0,r.lastQuery=null,r.trigger("option_add",s,t))},registerOption:function(e){var t=d(e[this.settings.valueField]);return!(!t||this.options.hasOwnProperty(t))&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=d(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,n){var i,s,r,a,o,l,c,u=this;if(t=d(t),r=d(n[u.settings.valueField]),null!==t&&u.options.hasOwnProperty(t)){if("string"!=typeof r)throw new Error("Value must be set in option data");c=u.options[t].$order,r!==t&&(delete u.options[t],-1!==(a=u.items.indexOf(t))&&u.items.splice(a,1,r)),n.$order=n.$order||c,u.options[r]=n,o=u.renderCache.item,l=u.renderCache.option,o&&(delete o[t],delete o[r]),l&&(delete l[t],delete l[r]),-1!==u.items.indexOf(r)&&(i=u.getItem(t),s=e(u.render("item",n)),i.hasClass("active")&&s.addClass("active"),i.replaceWith(s)),u.lastQuery=null,u.isOpen&&u.refreshOptions(!1)}},removeOption:function(e,t){var n=this;e=d(e);var i=n.renderCache.item,s=n.renderCache.option;i&&delete i[e],s&&delete s[e],delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={},e.options=e.sifter.items={},e.lastQuery=null,e.trigger("option_clear"),e.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,n){var i=this.$dropdown.find("[data-selectable]"),s=i.index(t)+n;return s>=0&&s<i.length?i.eq(s):e()},getElementWithValue:function(t,n){if(null!=(t=d(t)))for(var i=0,s=n.length;i<s;i++)if(n[i].getAttribute("data-value")===t)return e(n[i]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t,n){for(var i=e.isArray(t)?t:[t],s=0,r=i.length;s<r;s++)this.isPending=s<r-1,this.addItem(i[s],n)},addItem:function(t,n){h(this,n?[]:["change"],(function(){var i,s,r,a,o,l=this,c=l.settings.mode;t=d(t),-1===l.items.indexOf(t)?l.options.hasOwnProperty(t)&&("single"===c&&l.clear(n),"multi"===c&&l.isFull()||(i=e(l.render("item",l.options[t])),o=l.isFull(),l.items.splice(l.caretPos,0,t),l.insertAtCaret(i),(!l.isPending||!o&&l.isFull())&&l.refreshState(),l.isSetup&&(r=l.$dropdown_content.find("[data-selectable]"),l.isPending||(s=l.getOption(t),a=l.getAdjacentOption(s,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==c),a&&l.setActiveOption(l.getOption(a))),!r.length||l.isFull()?l.close():l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",t,i),l.updateOriginalInput({silent:n})))):"single"===c&&l.close()}))},removeItem:function(e,t){var n,i,s,r=this;n="object"==typeof e?e:r.getItem(e),e=d(n.attr("data-value")),-1!==(i=r.items.indexOf(e))&&(n.remove(),n.hasClass("active")&&(s=r.$activeItems.indexOf(n[0]),r.$activeItems.splice(s,1)),r.items.splice(i,1),r.lastQuery=null,!r.settings.persist&&r.userOptions.hasOwnProperty(e)&&r.removeOption(e,t),i<r.caretPos&&r.setCaret(r.caretPos-1),r.refreshState(),r.updatePlaceholder(),r.updateOriginalInput({silent:t}),r.positionDropdown(),r.trigger("item_remove",e,n))},createItem:function(t,n){var i=this,s=i.caretPos;t=t||e.trim(i.$control_input.val()||"");var r=arguments[arguments.length-1];if("function"!=typeof r&&(r=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(t))return r(),!1;i.lock();var a="function"==typeof i.settings.create?this.settings.create:function(e){var t={};return t[i.settings.labelField]=e,t[i.settings.valueField]=e,t},o=m((function(e){if(i.unlock(),!e||"object"!=typeof e)return r();var t=d(e[i.settings.valueField]);if("string"!=typeof t)return r();i.setTextboxValue(""),i.addOption(e),i.setCaret(s),i.addItem(t),i.refreshOptions(n&&"single"!==i.settings.mode),r(e)})),l=a.apply(this,[t,o]);return void 0!==l&&o(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){var e=this;e.isRequired&&(e.items.length&&(e.isInvalid=!1),e.$control_input.prop("required",undefined)),e.refreshClasses()},refreshClasses:function(){var t=this,n=t.isFull(),i=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!e.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,i,s,r=this;if(e=e||{},1===r.tagType){for(i=[],t=0,n=r.items.length;t<n;t++)s=r.options[r.items[t]][r.settings.labelField]||"",i.push('<option value="'+u(r.items[t])+'" selected="selected">'+u(s)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),r.$input.html(i.join(""))}else r.$input.val(r.getValue()),r.$input.attr("value",r.$input.val());r.isSetup&&(e.silent||r.trigger("change",r.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||e.settings.hideDropdown||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&e.hideInput(),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(t){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(t):e(this.$control[0].childNodes[n]).before(t),this.setCaret(n+1)},deleteSelection:function(t,n){var i,s,r,a,o,l,c,d,u,p=this;if(r=n||void 0===n&&t&&8===t.keyCode?-1:1,a=g(p.$control_input[0]),p.$activeOption&&!p.settings.hideSelected&&(c=p.getAdjacentOption(p.$activeOption,-1).attr("data-value")),o=[],p.$activeItems.length){for(u=p.$control.children(".active:"+(r>0?"last":"first")),l=p.$control.children(":not(input)").index(u),r>0&&l++,i=0,s=p.$activeItems.length;i<s;i++)o.push(e(p.$activeItems[i]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(p.isFocused||"single"===p.settings.mode)&&p.items.length&&(r<0&&0===a.start&&0===a.length?o.push(p.items[p.caretPos-1]):r>0&&a.start===p.$control_input.val().length&&o.push(p.items[p.caretPos]));if(!o.length||"function"==typeof p.settings.onDelete&&!1===p.settings.onDelete.apply(p,[o]))return!1;for(void 0!==l&&p.setCaret(l);o.length;)p.removeItem(o.pop());return p.showInput(),p.positionDropdown(),p.refreshOptions(!0),c&&(d=p.getOption(c)).length&&p.setActiveOption(d),!0},advanceSelection:function(e,t){var n,i,s,r,a,o=this;0!==e&&(o.rtl&&(e*=-1),n=e>0?"last":"first",i=g(o.$control_input[0]),o.isFocused&&!o.isInputHidden?(r=o.$control_input.val().length,(e<0?0===i.start&&0===i.length:i.start===r)&&!r&&o.advanceCaret(e,t)):(a=o.$control.children(".active:"+n)).length&&(s=o.$control.children(":not(input)").index(a),o.setActiveItem(null),o.setCaret(e>0?s+1:s)))},advanceCaret:function(e,t){var n,i,s=this;0!==e&&(n=e>0?"next":"prev",s.isShiftDown?(i=s.$control_input[n]()).length&&(s.hideInput(),s.setActiveItem(i),t&&t.preventDefault()):s.setCaret(s.caretPos+e))},setCaret:function(t){var n,i,s,r,a=this;if(t="single"===a.settings.mode?a.items.length:Math.max(0,Math.min(a.items.length,t)),!a.isPending)for(n=0,i=(s=a.$control.children(":not(input)")).length;n<i;n++)r=e(s[n]).detach(),n<t?a.$control_input.before(r):a.$control.append(r);a.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.$control_input.prop("disabled",!0).prop("tabindex",-1),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var t=this,n=t.eventNS,i=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),e(window).off(n),e(document).off(n),e(document.body).off(n),delete t.$input[0].selectize},render:function(e,t){var n,i,s="",r=!1,a=this,o=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return"option"!==e&&"item"!==e||(r=!!(n=d(t[a.settings.valueField]))),r&&(c(a.renderCache[e])||(a.renderCache[e]={}),a.renderCache[e].hasOwnProperty(n))?a.renderCache[e][n]:(s=a.settings.render[e].apply(this,[t,u]),"option"!==e&&"option_create"!==e||(s=s.replace(o,"<$1 data-selectable")),"optgroup"===e&&(i=t[a.settings.optgroupValueField]||"",s=s.replace(o,'<$1 data-group="'+p(u(i))+'"')),"option"!==e&&"item"!==e||(s=s.replace(o,'<$1 data-value="'+p(u(n||""))+'"')),r&&(a.renderCache[e][n]=s),s)},clearCache:function(e){void 0===e?this.renderCache={}:delete this.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var n=t.settings.createFilter;return(e.length||t.settings.allowCreateEmpty)&&("function"!=typeof n||n.apply(t,[e]))&&("string"!=typeof n||new RegExp(n).test(e))&&(!(n instanceof RegExp)||n.test(e))}}),v.count=0,v.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,selectOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,allowCreateEmpty:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",manualInputWidth:!1,dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},e.fn.selectize=function(t){var n=e.fn.selectize.defaults,i=e.extend({},n,t),s=i.dataAttr,r=i.labelField,a=i.valueField,o=i.optgroupField,l=i.optgroupLabelField,c=i.optgroupValueField;return this.each((function(){if(!this.selectize){var u=e(this),p=this.tagName.toLowerCase(),m=u.attr("placeholder")||u.attr("data-placeholder");m||i.allowEmptyOption||(m=u.children('option[value=""]').text());var h={placeholder:m,options:[],optgroups:[],items:[]};"select"===p?function(t,n){var u,p,m,h,g=n.options,y={},v=function(e){var t=s&&e.attr(s);return"string"==typeof t&&t.length?JSON.parse(t):null},f=function(t,s){t=e(t);var l=d(t.attr("value"));if(l||i.allowEmptyOption)if(y.hasOwnProperty(l)){if(s){var c=y[l][o];c?e.isArray(c)?c.push(s):y[l][o]=[c,s]:y[l][o]=s}}else{var u=v(t)||{};u[r]=u[r]||t.text(),u[a]=u[a]||l,u[o]=u[o]||s,y[l]=u,g.push(u),t.is(":selected")&&n.items.push(l)}},I=function(t){var i,s,r,a,o;for((r=(t=e(t)).attr("label"))&&((a=v(t)||{})[l]=r,a[c]=r,n.optgroups.push(a)),i=0,s=(o=e("option",t)).length;i<s;i++)f(o[i],r)};for(n.maxItems=t.attr("multiple")?null:1,u=0,p=(h=t.children()).length;u<p;u++)"optgroup"===(m=h[u].tagName.toLowerCase())?I(h[u]):"option"===m&&f(h[u])}(u,h):function(t,n){var o,l,c,d,u=t.attr(s);if(u)for(n.options=JSON.parse(u),o=0,l=n.options.length;o<l;o++)n.items.push(n.options[o][a]);else{var p=e.trim(t.val()||"");if(!i.allowEmptyOption&&!p.length)return;for(o=0,l=(c=p.split(i.delimiter)).length;o<l;o++)(d={})[r]=c[o],d[a]=c[o],n.options.push(d);n.items=c}}(u,h),new v(u,e.extend(!0,{},n,h,t))}}))},e.fn.selectize.defaults=v.defaults,e.fn.selectize.support={validity:l},v.define("remove_button",(function(t){if("single"!==this.settings.mode){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var n,i=this,s='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+u(t.title)+'">'+t.label+"</a>",r=function(e,t){var n=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,n)+t+e.substring(n)};this.setup=(n=i.setup,function(){if(t.append){var a=i.settings.render.item;i.settings.render.item=function(e){return r(a.apply(this,arguments),s)}}n.apply(this,arguments),this.$control.on("click","."+t.className,(function(t){if(t.preventDefault(),!i.isLocked){var n=e(t.currentTarget).parent();i.setActiveItem(n),i.deleteSelection()&&i.setCaret(i.items.length)}}))})}})),v.define("restore_on_backspace",(function(e){var t;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=(t=this.onKeyDown,function(n){var i,s;return 8===n.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1)>=0&&i<this.items.length?(s=this.options[this.items[i]],this.deleteSelection(n,!0)&&(this.setTextboxValue(e.text.apply(this,[s])),this.refreshOptions(!0)),void n.preventDefault()):t.apply(this,arguments)})})),v.define("restore_on_focus",(function(e){e.text=e.text||function(e){return e[this.settings.labelField]};var t=this.onFocus;this.onFocus=function(n){var i=this.caretPos-1;if(i>=0&&i<this.items.length){var s=this.options[this.items[i]],r=e.text.call(this,s);this.removeItem(s[this.settings.valueField]),this.setTextboxValue(r),this.refreshOptions(!0)}return t.apply(this,arguments)}})),v})?c.apply(t,d):c)||(e.exports=u)},83299:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTI4MCAwYzE1NC41MzYgMCAyODAgMTI1LjQ2NCAyODAgMjgwUzQzNC41MzYgNTYwIDI4MCA1NjAgMCA0MzQuNTM2IDAgMjgwIDEyNS40NjQgMCAyODAgMCIgZmlsbD0iI0U1QTAwRCIvPgogICAgPHBhdGggZD0iTTI4MCA0NzVjLTI0LjgzNyAwLTQ1LTIwLjE2My00NS00NXMyMC4xNjMtNDUgNDUtNDUgNDUgMjAuMTYzIDQ1IDQ1LTIwLjE2MyA0NS00NSA0NXpNMjUwIDkwaDYwYzExLjAzOCAwIDIwIDguOTYyIDIwIDIwbC0xMCAyMDVjMCAxMS4wMzgtOC45NjIgMjAtMjAgMjBoLTQwYy0xMS4wMzggMC0yMC04Ljk2Mi0yMC0yMGwtMTAtMjA1YzAtMTEuMDM4IDguOTYyLTIwIDIwLTIweiIgZmlsbD0iIzAwMCIvPgogIDwvZz4KPC9zdmc+Cg=="},72134:(e,t,n)=>{"use strict";e.exports=n.p+"static/dfe051b6ed1f3a59a1f6.jpg"},17401:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTUwLjEzOCA4NS42MXYtNi4xNDZjMC0yLjE4NS0xLjMzOC00LjEzMy0zLjM2Ni00Ljk5NC03LjU5NS0zLjIyNC0xMi45MS0xMC43NjUtMTIuOTEtMTkuNDcgMC0xMS42MDMgOS40NDMtMjEuMTM5IDIxLjEzOC0yMS4xMzkgMTEuNjk1IDAgMjEuMTM5IDkuNTM2IDIxLjEzOSAyMS4xMzkgMCAxMy42OS0xMC41OSAyNi42MzQtMjYgMzAuNjF6TTU1IDI0Yy0xNy4xNTEgMC0zMSAxMy45ODUtMzEgMzFzMTMuODQ5IDMxIDMxIDMxIDMxLTEzLjk4NSAzMS0zMS0xMy44NDktMzEtMzEtMzF6IiBmaWxsPSIjMzFDNEYzIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},27479:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTQzLjg5MSAyMy40NzlsMy4wMDUgNS4xODNjLTUuNDY5IDIuNjYxLTkuMTc1IDcuODczLTkuMTc1IDEzLjg1MmgzNC45OTRjMC01Ljk3OS0zLjcwNy0xMS4xOS05LjE3Ny0xMy44NTJsMy4wMDUtNS4xODNzLjE0My0uMjc1LS4xMjctLjQzYy0uMjctLjE1NS0uNDUxLjEwOS0uNDUxLjEwOWwtMy4wNSA1LjIyOWExOS4wMyAxOS4wMyAwIDAgMC03LjY5OC0xLjYwNmMtMi43NjMgMC01LjM3Ni41OC03LjY5NyAxLjYwNmwtMy4wNS01LjIyOXMtLjE3MS0uMjY0LS40NDItLjExYy0uMjcyLjE1NC0uMTM3LjQzLS4xMzcuNDNtMy4wMDUgMTAuMDRhMS42NiAxLjY2IDAgMCAxIDEuNjY0IDEuNjVjMCAuOTEtLjc0NyAxLjYyOC0xLjY2NCAxLjYyOC0uOTE2IDAtMS42NjQtLjcxOS0xLjY2NC0xLjYyNyAwLS45MS43NDgtMS42NTIgMS42NjQtMS42NTJtMTYuNjQyIDBhMS42NiAxLjY2IDAgMCAxIDEuNjY0IDEuNjUyYzAgLjkxLS43NDcgMS42MjctMS42NjQgMS42MjctLjkxNiAwLTEuNjY0LS43MTktMS42NjQtMS42MjcgMC0uOTEuNzQ4LTEuNjUyIDEuNjY0LTEuNjUybS0yNS45NiAxMS4wMTd2MjYuMzRjMCAxLjMwNyAxLjU5MyAzLjAxOCAyLjkxIDMuMDE4aDQuMTYzdjguOThjMCAyLjI4NiAxLjY3OSA0LjEyOCAzLjc2OCA0LjEyOCAyLjA4OSAwIDMuNzY4LTEuODQyIDMuNzY4LTQuMTI4di04Ljk4aDYuMDU2djguOThjMCAyLjI4NiAxLjY4IDQuMTI4IDMuNzY4IDQuMTI4czMuNzktMS44NDIgMy43OS00LjEyOHYtOC45OGg0LjE0YzEuMzE4IDAgMi45MS0xLjcxMSAyLjkxLTMuMDE4di0yNi4zNEgzNy41NzdtLTUuODA1LS41NTJjMi4wODMgMCAzLjc3IDEuODQ5IDMuNzcgNC4xMjh2MTUuNjI4YzAgMi4yNzktMS42ODggNC4xMjgtMy43NyA0LjEyOC0yLjA4MyAwLTMuNzcyLTEuODQ4LTMuNzcyLTQuMTI4VjQ4LjExYzAtMi4yNzkgMS42ODktNC4xMjggMy43NzItNC4xMjhtNDYuODg2IDBjMi4wODMgMCAzLjc3MiAxLjg0OSAzLjc3MiA0LjEyOHYxNS42MjhjMCAyLjI3OS0xLjY4OCA0LjEyOC0zLjc3MiA0LjEyOC0yLjA4MiAwLTMuNzctMS44NDgtMy43Ny00LjEyOFY0OC4xMWMwLTIuMjc5IDEuNjg3LTQuMTI4IDMuNzctNC4xMjgiIGZpbGw9IiNBNEM2MzkiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},34773:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTU2LjU1IDM5LjE0NWg1LjExNHY1Ljc3Nmg0LjkyNHY0LjA0OGgtNC45MjR2MTQuMzY5YzAgMi4yMjUuOTk0IDMuMjY2IDMuMTQ4IDMuMjY2LjU0NSAwIDEuNDItLjA3IDEuNzUyLS4xMTh2NC4wNDhjLS41NjguMTQyLTEuNzc1LjI2LTIuODg4LjI2LTUuMTM3IDAtNy4xMjUtMS45NjQtNy4xMjUtNi45MzV2LTE0Ljg5SDUzVjQ0LjkyaDMuNTV2LTUuNzc2em0zNi4yMDMgNS43NzZsLTkuMjU1IDI1LjcwOGgtNS40NjlMNjguNzUgNDQuOTJoNS40Mmw2LjU1OCAyMC42NDJoLjExOGw2LjU4MS0yMC42NDJoNS4zMjZ6bS01MC40NzEgOS41NGMtLjA0LTQuMzk4IDMuNTM4LTYuNTExIDMuNjk5LTYuNjEzLTIuMDEyLTIuOTg3LTUuMTQ0LTMuMzk3LTYuMjYxLTMuNDQ2LTIuNjY3LS4yNzQtNS4yMDMgMS41OTQtNi41NTQgMS41OTRzLTMuNDQtMS41NTMtNS42NS0xLjUxYy0yLjkwNy4wNDItNS41ODUgMS43MTQtNy4wODQgNC4zNTQtMy4wMTcgNS4zMTgtLjc3MSAxMy4xOTUgMi4xNzEgMTcuNTEgMS40MzkgMi4xMDggMy4xNTMgNC40ODIgNS40MDQgNC4zOTcgMi4xNy0uMDg2IDIuOTg4LTEuNDIzIDUuNjA4LTEuNDIzIDIuNjIgMCAzLjM1OCAxLjQyMyA1LjY1MiAxLjM3OCAyLjMzNC0uMDQyIDMuODExLTIuMTUgNS4yMzktNC4yNjcgMS42NS0yLjQ1IDIuMzMtNC44MiAyLjM3MS00Ljk0Mi0uMDUtLjAyNC00LjU1LTEuNzczLTQuNTk1LTcuMDMxbS00LjMwOC0xMi45MTNjMS4xOTYtMS40NyAyLjAwMS0zLjUxMyAxLjc4LTUuNTQ5LTEuNzIuMDcyLTMuODA2IDEuMTY1LTUuMDQzIDIuNjMzLTEuMTA3IDEuMzAxLTIuMDc4IDMuMzc5LTEuODE1IDUuMzc1IDEuOTIuMTUxIDMuODgyLS45OSA1LjA3OC0yLjQ2IiBmaWxsPSIjRkZGIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},36452:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxyYWRpYWxHcmFkaWVudCBjeD0iMTQuOTM1JSIgY3k9IjEzLjY0NCUiIGZ4PSIxNC45MzUlIiBmeT0iMTMuNjQ0JSIgcj0iMTAwLjQyNiUiIGlkPSJhIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRiIgc3RvcC1vcGFjaXR5PSIuMDk4IiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9yYWRpYWxHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQgMjQpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTQuOTIxIDE0LjI0M0MxMC40NCA1LjY3NyAyMC4wNjIgMCAzMSAwYzEyLjAzNyAwIDIyLjQ4IDYuODc1IDI3LjYxNSAxNi45MUgzMUwxOC43OTcgMzguMDQ0SDQuOTIxVjE0LjI0M3oiIGZpbGw9IiNEQjQ0MzciIGZpbGwtcnVsZT0ibm9uemVybyIvPgogICAgICAgICAgICA8cGF0aCBkPSJNNC45MiAxNC4yNDVsMTMuODc3IDIzLjhoMjQuNDF2MTAuMjU5TDI5LjU0MyA2MS45NjZDMTMuMTA5IDYxLjIwNSAwIDQ3LjYyMSAwIDMxYzAtNi4xNyAxLjgwNy0xMS45MjMgNC45Mi0xNi43NTV6IiBmaWxsPSIjMEY5RDU4IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KICAgICAgICAgICAgPHBhdGggZD0iTTU4LjYxNSAxNi45MUEzMC44NDMgMzAuODQzIDAgMCAxIDYyIDMxYzAgMTcuMTEtMTMuODkgMzEtMzEgMzEtLjQ5MyAwLS45ODMtLjAxMi0xLjQ3LS4wMzVsMTMuNjc2LTIzLjkyTDMxIDE2LjkxaDI3LjYxNXoiIGZpbGw9IiNGRkNENDAiIGZpbGwtcnVsZT0ibm9uemVybyIvPgogICAgICAgICAgICA8cGF0aCBkPSJNMzEgMTYuOTFoMjcuNjE4TDMxIDI0LjI5di03LjM4ek00LjkyMSAxNC4yNUwyNS4wOSAzNC40MTNsLTYuMjkyIDMuNjMxTDQuOTIxIDE0LjI1em0yNC42MSA0Ny43MTFsNy4zODQtMjcuNTQ3IDYuMjkxIDMuNjMxLTEzLjY3NSAyMy45MTZ6IiBmaWxsLW9wYWNpdHk9Ii4xIiBmaWxsPSIjMDAwIi8+CiAgICAgICAgICAgIDxjaXJjbGUgZmlsbD0iI0YxRjFGMSIgY3g9IjMxIiBjeT0iMzEiIHI9IjE0LjA5MSIvPgogICAgICAgICAgICA8Y2lyY2xlIGZpbGw9IiM0Mjg1RjQiIGN4PSIzMSIgY3k9IjMxIiByPSIxMS4yNzMiLz4KICAgICAgICAgICAgPGNpcmNsZSBmaWxsPSJ1cmwoI2EpIiBjeD0iMzEiIGN5PSIzMSIgcj0iMzEiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPgo="},62393:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgdmlld0JveD0iMCAwIDExMCAxMTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMTAgMEgwVjExMEgxMTBWMFoiIGZpbGw9IiMxOTFBMUMiLz4KPHBhdGggb3BhY2l0eT0iMC44NSIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00MC4yMjk5IDg0TDY0LjgzNTcgNDEuMzgyMUw3Mi43NDM1IDU1LjA3NjVMNTYuMDQzNCA4NEg0MC4yMjk5Wk01NS45NzE4IDI2TDYwLjgxNjMgMzQuMjYzNkw1Mi44NjQ4IDQ4LjAzNTVMNDAuMDU5IDI2SDU1Ljk3MThaIiBmaWxsPSJ1cmwoI3BhaW50MF9yYWRpYWwpIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNjQuNzk2NSAzMS4wMzE4TDc2LjcyMzcgNTEuNjg5N0g5MC43MTQzVjU1LjAwMzVINzQuODExNEw2NC43OTY1IDM3LjY1OTNMNDIuOTI5OSA3NS41MzIyTDMyLjk5MDYgNTguMzE3M0gxOVY1NS4wMDM1SDM0LjkwMjlMNDIuOTI5OSA2OC45MDY2QzUwLjIxOTUgNTYuMjgxNyA1Ny41MDcgNDMuNjU2NyA2NC43OTY1IDMxLjAzMThaIiBmaWxsPSJ1cmwoI3BhaW50MV9saW5lYXIpIi8+CjxkZWZzPgo8cmFkaWFsR3JhZGllbnQgaWQ9InBhaW50MF9yYWRpYWwiIGN4PSIwIiBjeT0iMCIgcj0iMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIGdyYWRpZW50VHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzIuODAzNyA1NC4wMjg0KSBzY2FsZSgyOC45NDQ4IDQ3LjA3NzUpIj4KPHN0b3Agc3RvcC1jb2xvcj0iIzczN0U4NyIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1MTU5NUUiIHN0b3Atb3BhY2l0eT0iMC43NSIvPgo8L3JhZGlhbEdyYWRpZW50Pgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MV9saW5lYXIiIHgxPSIxOC4xMTkxIiB5MT0iNTMuMjgyMiIgeDI9IjkxLjU5NTMiIHkyPSI1My4yODIyIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNDQzdCMTkiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRjRDRTFFIi8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+Cg=="},78002:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZmlsbC1vcGFjaXR5PSIuMyIgZmlsbD0iI0ZGRiIgZD0iTTM4IDI1aDE3LjQzNGwxOS4yMzggMzAtMTkuMjM4IDMwSDM4bDE5LjIzOC0zMEwzOCAyNSIvPgogICAgPC9nPgo8L3N2Zz4K"},38807:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTU1LjE4NCAyNy4yNTNjMTUuNTQ4IDAgMjguNTIgOS41MTIgMzEuNTI5IDIyLjE2LjI4IDEuMTc0LjQ3IDIuMzYyLS4wNzIgMy4xNTctLjc2NSAxLjEyNC0yLjUxNi45MTItMy43MjQuOTEyaC0yMi45OWMtMi4zMjIgMC00LjAwNy4wMy02LjE5OC0xLjA2LTEuNjkxLS44NDEtMi4yNzktMS41NDctMy40My0yLjg3NmE4LjQ2MSA4LjQ2MSAwIDAgMC02LjQxMS0yLjk0Yy00LjcwNCAwLTguNTIgMy44NTMtOC41MiA4LjYwNnMzLjgxNSA4LjYwNiA4LjUyIDguNjA2YTguNDI1IDguNDI1IDAgMCAwIDUuMzYxLTEuOTJjLjc2NS0uNjI1IDEuNzY1LTEuNzk0IDIuNDcyLTIuNTM5IDEuNzMtMS44MjEgNC40NDMtMi40MDMgNy41MzEtMi4yODRoMjQuNTZjMi42MDYtLjA2NCAzLjU1Ni40NTMgMy4wNjIgMi44NTItMi42OCAxMy4wMDMtMTUuODQ4IDIyLjg3Ni0zMS42ODcgMjIuODc2LTkuNTc3IDAtMTguMTc4LTMuNjEtMjQuMDczLTkuMzQyLS43MTEtLjY5MS0xLTEuNTc3LjAwNi0yLjE0Mi4zNzMtLjIwOS45MjUtLjMyNiAxLjY5LS4zMjhoMTYuNTA4YzEuNzY4LjEgMy4zNDMuNTYyIDQuNzQ3IDEuMzg3IDEuNjM5Ljk2NCAxLjkzNCAxLjYzIDMuMSAyLjg1MmE4LjQ1MiA4LjQ1MiAwIDAgMCA2LjEzNiAyLjYzNWM0LjcwMyAwIDguNTE5LTMuODUyIDguNTE5LTguNjA1IDAtNC43NTQtMy44MTUtOC42MDYtOC41Mi04LjYwNmE4LjQyNSA4LjQyNSAwIDAgMC01LjM2IDEuOTE5Yy0uNzY1LjYyNi0xLjc2NiAxLjc5NC0yLjQ3MiAyLjU0LTIuNjQyIDIuNzgtNy4wMTggMi4yODQtMTAuNTE1IDIuMjg0SDMyLjQ4NGMtMS45MzggMC00LjA5LjIwMS01Ljc3LS45MTMtMS4wNTgtLjcwMy0xLjc5LTEuODMtMi4zNTYtMy40NTdhMjQuMjQ3IDI0LjI0NyAwIDAgMS0uMzg0LTE0LjgwM2MuOTQzLTMuMTU0IDIuNDk4LTUuNjQ3IDcuMDkxLTUuNTIzaDE3LjA3NmMyLjQ5Mi0uMDk1IDQuNzQyLjI2NiA2LjQyNiAxLjM2OC45MjMuNjAzIDEuMjgyIDEuMTU5IDEuOTk1IDEuOTQyLjUyNS41NzcgMS4wOTYgMS4xNTIgMS41OCAxLjUxNCAxLjUxNiAxLjEzNSAzLjMzIDEuOTIgNS4zNjIgMS45MiA0LjcwNCAwIDguNTE4LTMuODUzIDguNTE4LTguNjA2IDAtNC43NTQtMy44MTMtOC42MDYtOC41MTgtOC42MDZhOC40NjQgOC40NjQgMCAwIDAtNi40ODggMy4wM2MtMS41MSAxLjc5Mi0zLjA3NyAyLjkyOS01LjExIDMuNDc4LTEuMzkuMzc1LTIuNTI0LjM2Ni0zLjkzLjM2NmgtMTQuOTZjLTIuOTUzLS4wMDgtMi44MzMtMS43MDctMS4wNzMtMy4yOSA1Ljg1OC01LjI4IDE0LjExLTguNTY3IDIzLjI0OS04LjU2NyIgZmlsbD0iIzQ1QUE0MiIvPgogICAgPC9nPgo8L3N2Zz4K"},74561:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTQ0LjQyNSA0OS4xNzNoMjEuMTFjMC03LjU0My0zLjI3LTEyLjY4NS0xMi4xODctMTIuNjg1QzQyLjgxIDM2LjQ4OCAzMi4wOTQgNDMuMzkyIDI3IDUyYzEuNTc4LTE0Ljk0MSAxMi4yMjMtMjcgMjguMjUtMjcgMTMuNzM2IDAgMjYuNzUxIDEwLjU3IDI2Ljc1MSAyOC4xNHY2LjY4SDQ0LjUzOGMwIDkuMDkgNy44ODEgMTIuNjk0IDE2LjEzIDEyLjY5NCAxMC4wNCAwIDE2LjI2NS00LjU0MyAxNi4yNjUtNC41NDN2MTIuNzM1cy03LjAyIDQuMjkzLTE4LjIxNSA0LjI5M2MtMTQuNTQ1IDAtMjQuODEzLTEwLjQ5MS0yNC44MTMtMjMuNTM2IDAtMTAuMjQgNi4xNTQtMTguNDE1IDE0LjY3OS0yMS43ODktNC4xNSA0LjU4Ni00LjE2NCA5LjUwMi00LjE2NCA5LjUwMiIgZmlsbD0iIzMyNzdCQyIvPgogICAgPC9nPgo8L3N2Zz4K"},64495:(e,t,n)=>{"use strict";e.exports=n.p+"static/e8c14a7b2f07aaa06fc6.svg"},11606:(e,t,n)=>{"use strict";e.exports=n.p+"static/b27f5dff79b3f1898b1c.svg"},8680:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTgzLjk5OSA1NS44N2MwLTQuOTAyLTEuMjY3LTkuNTA2LTMuNDktMTMuNTA3Qzg5Ljk4MiAyMC45MjYgNzAuMzYgMjQuMDY2IDY5LjI2OSAyNC4yOGE0OS44OTcgNDkuODk3IDAgMCAwLTExLjU1IDMuNzc0Yy0uNTIzLS4wMy0xLjA1LS4wNDUtMS41OC0uMDQ1LTEzLjIzOSAwLTI0LjMyIDkuMjM0LTI3LjE1NyAyMS42MTIgNi45NzgtNy44MjggMTEuODYxLTEwLjk4NiAxNC43ODYtMTIuMjUtLjQ2Ny40MTctLjkyNC44MzgtMS4zNzMgMS4yNjMtLjE1LjE0Mi0uMjk0LjI4NS0uNDQyLjQyNy0uMjk2LjI4NS0uNTkyLjU3LS44OC44NTgtLjE3My4xNzItLjM0LjM0NC0uNTEuNTE3LS4yNTUuMjYtLjUxMS41MjEtLjc2MS43ODQtLjE3OC4xODYtLjM1MS4zNzMtLjUyNi41NmE2OS4zNzYgNjkuMzc2IDAgMCAwLTIuMzggMi42NzUgODAuMzY1IDgwLjM2NSAwIDAgMC0xLjY1IDIuMDEyYy0uMTcyLjIxOC0uMzQ2LjQzNy0uNTE1LjY1NS0uMTYxLjIwNy0uMzE4LjQxNC0uNDc1LjYyMS0uMTc4LjIzNC0uMzU4LjQ2OC0uNTMxLjcwMS0uMTI0LjE2Ny0uMjQzLjMzMi0uMzY1LjQ5OGE4Ni40MjEgODYuNDIxIDAgMCAwLTMuNzE3IDUuNTA0bC0uMDM3LjA2Yy0uMjI3LjM2NS0uNDQ1LjcyNC0uNjU5IDEuMDhsLS4wMjIuMDM3YTg5LjQ5NCA4OS40OTQgMCAwIDAtMS41ODQgMi43NDZjLTIuNTA5IDQuNTQ3LTMuNzMgNy43MjQtMy43ODMgNy45MTMtNy45MjQgMjguMzI4IDE2LjgwNiAxNi4zNjUgMjAuMjU3IDE0LjU4YTI3Ljc0NyAyNy43NDcgMCAwIDAgMTIuMzI0IDIuODY4YzEyLjExNSAwIDIyLjQyMi03LjczMiAyNi4yNTgtMTguNTMxSDY3Ljc1N2MtMi4xNjYgMy42Ni02LjMzNiA2LjEzOC0xMS4xMjcgNi4xMzgtNy4wMiAwLTEyLjcxLTUuMzE4LTEyLjcxLTExLjg4aDM5Ljg1QTI4LjEzIDI4LjEzIDAgMCAwIDg0IDU1Ljg3aC0uMDAxem0tNS4yMDUtMjcuNDE3YzIuNCAxLjYyIDQuMzI0IDQuMTYyIDEuMDIgMTIuNzI2YTI3Ljk1NCAyNy45NTQgMCAwIDAtMTMuNjA3LTExLjI5M2MyLjU3OC0xLjI0NiA4Ljk2My0zLjg4IDEyLjU4Ny0xLjQzM3pNMjcuODA2IDgwLjgwNGMtMS45NTQtMi4wMDQtMi4zLTYuODg1IDIuMDEzLTE1Ljc4QTI3Ljk0MiAyNy45NDIgMCAwIDAgNDEuOTUgNzkuODUzYy0yLjc5MSAxLjUzNi0xMC4yMDIgNC45OTUtMTQuMTQ0Ljk1MnptMTYuMDUyLTI4Ljk2NmMuMjIzLTYuMzc2IDUuNzcyLTExLjQ4MiAxMi41OS0xMS40ODIgNi44MTkgMCAxMi4zNjggNS4xMDYgMTIuNTkgMTEuNDgyaC0yNS4xOHoiIGZpbGw9IiMxRUJCRUUiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},74625:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMCAwaDExMHYxMTBIMHoiLz4KICAgICAgICA8cGF0aCBkPSJNMjIuMzkgNzEuMzM4VjQ3Ljc4NGg0LjcwN3YyMy41NTRIMjIuMzl6bTIuMzY1LTI2LjkxNmMtMS41MTkgMC0yLjc1NS0xLjIxNC0yLjc1NS0yLjcxQzIyIDQwLjE3MSAyMy4yMzYgMzkgMjQuNzU1IDM5YzEuNTE4IDAgMi43NTQgMS4xNzEgMi43NTQgMi43MTEgMCAxLjQ5Ny0xLjIzNiAyLjcxMS0yLjc1NCAyLjcxMXptMjEuMzQyLTQuOTAxYzkgMCAxNC42NjEgNi4yMjQgMTQuNjYxIDE2LjE4IDAgOS45NTUtNS42NiAxNi4xNTgtMTQuNjYxIDE2LjE1OC05LjAyMyAwLTE0LjY2Mi02LjIwMy0xNC42NjItMTYuMTU4IDAtOS45NTYgNS42MzktMTYuMTggMTQuNjYyLTE2LjE4em0wIDQuMjcyYy01Ljk0MyAwLTkuNjk1IDQuNTk4LTkuNjk1IDExLjkwOCAwIDcuMjg3IDMuNzUyIDExLjg4NSA5LjY5NSAxMS44ODUgNS45NDIgMCA5LjY3My00LjU5OCA5LjY3My0xMS44ODUgMC03LjMxLTMuNzMtMTEuOTA4LTkuNjczLTExLjkwOHpNNjMuOTkgNjIuNjJoNC43OTNjLjM0NyAzLjEwMiAzLjM2MiA1LjE0IDcuNDgzIDUuMTQgMy45NDggMCA2Ljc4OS0yLjAzOCA2Ljc4OS00LjgzNiAwLTIuNDMtMS43MTQtMy44ODItNS43Ny00Ljg4bC00LjA1NS0uOTc2Yy01Ljc0OC0xLjM4OC04LjQxNi00LjA3OC04LjQxNi04LjQzNyAwLTUuNCA0LjcwNy05LjExIDExLjM4Ny05LjExIDYuNjE1IDAgMTEuMTQ4IDMuNzEgMTEuMyA5LjExaC00LjcyOGMtLjI4Mi0zLjEyMy0yLjg2My01LjAxLTYuNjM3LTUuMDEtMy43NzQgMC02LjM1NSAxLjkwOC02LjM1NSA0LjY4NSAwIDIuMjEyIDEuNjQ5IDMuNTEzIDUuNjgzIDQuNTExbDMuNDQ4Ljg0NmM2LjQyIDEuNTE4IDkuMDg4IDQuMSA5LjA4OCA4LjY3NSAwIDUuODU3LTQuNjYzIDkuNTIyLTEyLjA4IDkuNTIyLTYuOTQxIDAtMTEuNjI2LTMuNTc5LTExLjkzLTkuMjR6IiBmaWxsPSIjRkZGIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},52626:(e,t,n)=>{"use strict";e.exports=n.p+"static/88a90a622da7571f29bd.svg"},87060:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNDkuOTk0JSIgeTE9IjEuNjMxJSIgeDI9IjQ5Ljk5NCUiIHkyPSI5OC41NDMlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRjFCMkQiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGMUIyRCIgb2Zmc2V0PSIzMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGMUIyRCIgb2Zmc2V0PSI2MSUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0E3MDAxNCIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjUwLjAwNSUiIHkxPSIuODQ4JSIgeDI9IjUwLjAwNSUiIHkyPSI5OS42MDIlIiBpZD0iYiI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM5QzAwMDAiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGNEI0QiIgb2Zmc2V0PSI3MCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGNEI0QiIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTMwLjg0IDBDMTMuODA2IDAgMCAxMy44MTIgMCAzMC44NDdjMCAxNi41NDMgMTMuMDI2IDMwLjA0MiAyOS4zOCAzMC44MWEzMC43MzQgMzAuNzM0IDAgMCAwIDIyLjAyNS03LjgxNGMtMy42MTYgMi4zOTktNy44NDUgMy43NzQtMTIuMzYzIDMuNzc0LTcuMzQ4IDAtMTMuOTIzLTMuNjQ2LTE4LjM0OS05LjM5Mi0zLjQxMy00LjAyLTUuNjIzLTkuOTc1LTUuNzctMTYuNjU0di0xLjQ1NWMuMTQ3LTYuNjczIDIuMzU3LTEyLjYyNyA1Ljc2NC0xNi42NTQgNC40MjYtNS43NDYgMTEuMDA3LTkuMzg2IDE4LjM1NS05LjM4NiA0LjUxOCAwIDguNzQ3IDEuMzgxIDEyLjM2MyAzLjc4MUEzMC43MzMgMzAuNzMzIDAgMCAwIDMwLjk1NyAwaC0uMTE3eiIgZmlsbD0idXJsKCNhKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQgMjQpIi8+CiAgICAgICAgPHBhdGggZD0iTTIwLjY4NyAxMy40NjJjMi44MzYtMy4zNCA2LjQ4OS01LjM1MyAxMC40ODUtNS4zNTMgOC45OCAwIDE2LjI2MSAxMC4xODQgMTYuMjYxIDIyLjczOCAwIDEyLjU2LTcuMjggMjIuNzM3LTE2LjI2MSAyMi43MzctMy45OTYgMC03LjY0OS0yLjAxNC0xMC40NzktNS4zNTMgNC40MjYgNS43NDYgMTEgOS4zOTIgMTguMzQ5IDkuMzkyIDQuNTE4IDAgOC43NDctMS4zODEgMTIuMzYzLTMuNzc1IDYuMzEtNS42NTQgMTAuMjgyLTEzLjg2MSAxMC4yODItMjMuMDAxIDAtOS4xMzUtMy45NzItMTcuMzQ4LTEwLjI4OC0yMi45OTYtMy42MTYtMi40LTcuODQtMy43NzUtMTIuMzU3LTMuNzc1LTcuMzQ4IDAtMTMuOTIzIDMuNjQ2LTE4LjM0OSA5LjM5MiIgZmlsbD0idXJsKCNiKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQgMjQpIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},14576:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTcxLjc2IDU0Ljk5NGMtLjA3NC03Ljc0IDYuMzQ0LTExLjQ2IDYuNjM1LTExLjY0LTMuNjEtNS4yNTctOS4yMjQtNS45NzgtMTEuMjMyLTYuMDY0LTQuNzgzLS40ODItOS4zMzIgMi44MDQtMTEuNzU1IDIuODA0LTIuNDI0IDAtNi4xNjYtMi43MzEtMTAuMTMzLTIuNjU3LTUuMjE1LjA3NS0xMC4wMTggMy4wMTctMTIuNzA2IDcuNjY0LTUuNDEyIDkuMzYtMS4zODQgMjMuMjIyIDMuODkzIDMwLjgxIDIuNTggMy43MTEgNS42NTMgNy44ODkgOS42OTMgNy43MzcgMy44OS0uMTUxIDUuMzYtMi41MDMgMTAuMDU5LTIuNTAzIDQuNyAwIDYuMDIzIDIuNTAzIDEwLjEzNiAyLjQyNSA0LjE4Ni0uMDczIDYuODM2LTMuNzg0IDkuMzk3LTcuNTEgMi45NjItNC4zMSA0LjE4LTguNDgzIDQuMjUzLTguNjk3LS4wOTItLjA0Mi04LjE2NC0zLjEyLTguMjQ1LTEyLjM3M20tNy43MjgtMjIuNzI1YzIuMTQ2LTIuNTg3IDMuNTg5LTYuMTg3IDMuMTkzLTkuNzY1LTMuMDg4LjEyNS02LjgyNyAyLjA0OS05LjA0NSA0LjYzNC0xLjk4NyAyLjI5LTMuNzI2IDUuOTQ4LTMuMjU1IDkuNDYgMy40NDIuMjY1IDYuOTYyLTEuNzQ1IDkuMTA3LTQuMzMiIGZpbGw9IiNGRkYiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},96897:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxyYWRpYWxHcmFkaWVudCBjeD0iODkuMjY3JSIgY3k9IjQ5LjcxMyUiIGZ4PSI4OS4yNjclIiBmeT0iNDkuNzEzJSIgcj0iOTIuNSUiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLjYxMTIgMCAuMTkzKSIgaWQ9ImEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjlCRTAzIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNDQzdDMTkiIG9mZnNldD0iMTAwJSIvPgogICAgICAgIDwvcmFkaWFsR3JhZGllbnQ+CiAgICA8L2RlZnM+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgIDxwYXRoIGZpbGw9IiMxOTFBMUMiIGQ9Ik0wIDBoMTEwdjExMEgweiIvPgogICAgICAgIDxwYXRoIGZpbGw9InVybCgjYSkiIGQ9Ik0zOCAyNWgxNy40MzRsMTkuMjM4IDMwLTE5LjIzOCAzMEgzOGwxOS4yMzgtMzBMMzggMjUiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},72954:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMTAwJSIgeTE9IjUwJSIgeDI9IjAlIiB5Mj0iNTAlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGNENFMUUiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0NDN0MxOSIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZmlsbD0idXJsKCNhKSIgZD0iTTc4LjQ3MyA1NWwtMjAuMy0yOC45ODZMNTEuNzI4IDI2bC0zLjIyMi4wMTRMNjguODA2IDU1IDUwLjc2IDgwLjc3N2gtMy4yMjJMNjUuNTg0IDU1bC0yMC4zLTI4Ljk4NkwzOC44NCAyNmwtMy4yMjMuMDE0IDE4LjA2MSAyNS43NjRIMTlWNTVoNDAuMTRMNDEuMDg0IDI5LjIyMmgzLjIyM0w2Mi4zNjEgNTVsLTIwLjMgMjloOS42NjdsMjAuMy0yOS0xOC4wNTQtMjUuNzc4aDMuMjIzTDc1LjI1IDU1bC0yMC4zIDI5aDkuNjY3bDE4LjAxLTI1Ljc3OGg4LjcwNlY1NWgtOS42MzlMNjMuNjUgODAuNzc3aC0zLjIyMnoiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},28674:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMTAwJSIgeTE9IjUwJSIgeDI9IjAlIiB5Mj0iNTAlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGOUJFMDMiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0U1QTAwRCIgb2Zmc2V0PSI0Ny43MzglIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNDQzdDMTkiIG9mZnNldD0iMTAwJSIvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPHJhZGlhbEdyYWRpZW50IGN4PSI4OS4yNjclIiBjeT0iNDkuNzEzJSIgZng9Ijg5LjI2NyUiIGZ5PSI0OS43MTMlIiByPSI5Mi41JSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAuNjExMiAwIC4xOTMpIiBpZD0iYiI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGOUJFMDMiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0NDN0MxOSIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9yYWRpYWxHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTMxIDYyQzEzLjg3OSA2MiAwIDQ4LjEyMSAwIDMxIDAgMTMuODc5IDEzLjg3OSAwIDMxIDBjMTcuMTIxIDAgMzEgMTMuODc5IDMxIDMxIDAgMTcuMTIxLTEzLjg3OSAzMS0zMSAzMXptMC0xLjg2YzE2LjA5MyAwIDI5LjE0LTEzLjA0NyAyOS4xNC0yOS4xNFM0Ny4wOTMgMS44NiAzMSAxLjg2IDEuODYgMTQuOTA3IDEuODYgMzEgMTQuOTA3IDYwLjE0IDMxIDYwLjE0eiIgZmlsbD0idXJsKCNhKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQgMjQpIi8+CiAgICAgICAgPHBhdGggZmlsbD0idXJsKCNiKSIgZD0iTTIwLjM5OCAxMS42NTZoMTEuMjZsMTIuNDI0IDE5LjM3NS0xMi40MjUgMTkuMzc1SDIwLjM5OGwxMi40MjUtMTkuMzc1LTEyLjQyNS0xOS4zNzUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0IDI0KSIvPgogICAgPC9nPgo8L3N2Zz4K"},25017:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNTAlIiB5MT0iMCUiIHgyPSI1MCUiIHkyPSIxMDAlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMxQTgwRDMiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzFBNDU5MyIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTg5LjkxMSA2OS44NmMtMS40MTcgMS43ODgtNC44OSAzLjA2NC00Ljg5IDMuMDY0bC0yNS44MyA5LjI3OFY3NS4zNmwxOS4wMS02Ljc3NGMyLjE1Ni0uNzczIDIuNDg4LTEuODY1LjczNC0yLjQzOS0xLjc1LS41NzUtNC45Mi0uNDEtNy4wNzguMzY2TDU5LjE5IDcwLjk3NHYtNy4xMDFsLjczLS4yNDdzMy42Ni0xLjI5NiA4LjgwNy0xLjg2NmM1LjE0Ny0uNTY3IDExLjQ1LjA3OCAxNi4zOTcgMS45NTMgNS41NzUgMS43NjIgNi4yMDMgNC4zNiA0Ljc4NyA2LjE0N3pNNjEuNjUgNTguMjF2LTE3LjVjMC0yLjA1NC0uMzc5LTMuOTQ2LTIuMzA3LTQuNDgyLTEuNDc3LS40NzMtMi4zOTMuODk4LTIuMzkzIDIuOTUyVjgzTDQ1LjEzIDc5LjI1VjI3YzUuMDI1LjkzMyAxMi4zNDUgMy4xMzggMTYuMjggNC40NjUgMTAuMDEgMy40MzYgMTMuNDAzIDcuNzEyIDEzLjQwMyAxNy4zNDggMCA5LjM5Mi01Ljc5OCAxMi45NTItMTMuMTY1IDkuMzk2ek0yMy40NDYgNzQuNjQ0Yy01LjcyMy0xLjYxMS02LjY3Ni00Ljk3LTQuMDY3LTYuOTA1IDIuNDEtMS43ODYgNi41MTEtMy4xMzEgNi41MTEtMy4xMzFsMTYuOTQ1LTYuMDI1djYuODY5bC0xMi4xOTQgNC4zNjRjLTIuMTU0Ljc3My0yLjQ4NSAxLjg2Ny0uNzM1IDIuNDQgMS43NTIuNTc0IDQuOTIzLjQxIDcuMDgtLjM2NGw1Ljg1LTIuMTIydjYuMTQ1Yy0uMzcyLjA2Ni0uNzg1LjEzMi0xLjE2OC4xOTYtNS44NS45NTYtMTIuMDgxLjU1Ny0xOC4yMjItMS40Njd6IiBmaWxsPSJ1cmwoI2EpIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},36743:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMCAwaDExMHYxMTBIMHoiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNjYyRDkxIiBkPSJNMTEgMzJoODh2NDZIMTF6Ii8+CiAgICAgICAgPHBhdGggZD0iTTY2LjkyNyA1NC4zODhsLTYuMTk2IDYuMjF2LTYuMjMxaC01LjM3OHYxNS44MzVoNS4zNzh2LTYuNDI0bDYuNDY5IDYuNDI0aDYuNzdsLTguMjIxLTguMjQyIDYuODA5LTYuODIzdjkuMzk4YzAgMy4xMiAxLjg3MiA2IDYuNTg2IDYgMi4yMzggMCA0LjI5Mi0xLjI3MiA1LjI5LTIuNDI0bDIuNDE4IDIuMDlIODhWNTQuMzg0aC01LjM3OHYxMC4yNGMtLjYwNSAxLjA2LTEuNDUgMS43MjYtMi43NTQgMS43MjYtMS4zMjMgMC0xLjkzLS43ODctMS45My0zLjMwMXYtOC42NjVoLTExLjAxbS0zMy4wNzMgMTUuODRsLTQuODQ2LTYuNzRoLTEuNjN2Ni43MjZIMjJWNTBoNy43MDZjNC40NDMgMCA4LjA2OSAzLjAyOSA4LjA2OSA2Ljc1NCAwIDIuMjczLTEuMzkgNC4zMDItMy41MSA1LjU0NGw1LjY5IDcuOTI3LTYuMS0uMDAyem0tMS40NjQtMTMuNDY3YzAtMS44OC0xLjUwOS0zLjM5My0zLjM1My0zLjM5M2gtMS42NjN2Ni43NTZoMS42NjNjMS44NDUgMCAzLjM1My0xLjUxNSAzLjM1My0zLjM2M3ptMjEuOTE3IDUuNTRjMCA0LjU3OC0zLjcxNCA4LjI0NC04LjI4IDguMjQ0YTguMjI2IDguMjI2IDAgMCAxLTguMjUxLTguMjQzIDguMjI2IDguMjI2IDAgMCAxIDguMjUtOC4yNDFjNC41NjYgMCA4LjI4IDMuNjY3IDguMjggOC4yNHptLTguMjgtNC4zM2MtMS40MjEgMC0yLjYzMSAxLjkzNS0yLjYzMSA0LjMzIDAgMi4zOTcgMS4yMDggNC4zMzUgMi42MyA0LjMzNSAxLjQ1MyAwIDIuNjYtMS45MzggMi42Ni00LjMzNCAwLTIuMzk3LTEuMjA2LTQuMzMxLTIuNjYtNC4zMzF6IiBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KICAgIDwvZz4KPC9zdmc+Cg=="},95031:(e,t,n)=>{"use strict";e.exports=n.p+"static/d35160fffeea81c08373.svg"},79070:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTEwMC45NDMgNDcuMzY5YzEuMjUzIDcuMjc2LTE4LjI5OSAxNi44MDYtNDMuNjc2IDIxLjI4NC0yNS4zNzMgNC40NzgtNDYuOTU5IDIuMjA1LTQ4LjIxLTUuMDc0LTEuMjUtNy4yNzggMTguMzA3LTE2LjgwNCA0My42OC0yMS4yODEgMjUuMzc1LTQuNDggNDYuOTU3LTIuMjA4IDQ4LjIwNiA1LjA3eiIgZmlsbD0iIzAzNEVBMiIvPgogICAgICAgIDxwYXRoIGQ9Ik03Ny4wNjEgNTguMTdsLS4xMy03LjU2NmgyLjM1NXY5LjUzN0g3NS45bC0yLjM1LTcuODI2aC0uMDVsLjEzIDcuODI2aC0yLjM0di05LjUzN2gzLjUzMmwyLjE4NiA3LjU2N2guMDUzem0tNDIuODA2LTYuNjczbC0xLjMwMyA4Ljc0NGgtMi41NjhsMS43NjMtOS42MzdoNC4yMzFsMS43NTYgOS42MzdoLTIuNTU4bC0xLjI2OC04Ljc0NGgtLjA1M3ptMTEuMDkyIDYuNDc0bDEuMTc2LTcuMzY3aDMuODc5bC4yMDYgOS42MzdINDguMjNsLS4wNjMtOC42NjRoLS4wNWwtMS41OSA4LjY2NGgtMi40MTNsLTEuNTktOC42NjRoLS4wNTJsLS4wNiA4LjY2NGgtMi4zODJsLjIxLTkuNjM3aDMuODgxbDEuMTc1IDcuMzY3aC4wNXptLTE4Ljk2OS0uNDQ4Yy0uNDg5LTEuMjQ4LTMuODY4LTEuODE4LTQuMjgzLTMuNzg3LS4xLS40ODMtLjA5LS44Ny0uMDIxLTEuMzAzLjI1Mi0xLjU2OSAxLjYzNS0yLjEzNSAzLjMyNy0yLjEzNSAxLjM0NyAwIDMuMjA3LjMyOCAzLjIwNyAyLjQyN3YuNjc3aC0yLjM3MnYtLjU5NWMwLS41MjYtLjMyOS0uODc0LS44ODUtLjg3NC0uNTk1IDAtLjgwMy4zMzgtLjg2OS42NDYtLjAyMi4xMS0uMDM1LjMxNC4wMS41MDguMjcgMS4xMjggMy44OCAxLjczIDQuMjggMy43NDguMDQuMjA1LjEyNi43NS4wMSAxLjU4My0uMjI1IDEuNjA1LTEuNjQyIDIuMjAxLTMuMzYyIDIuMjAxLTEuNzg5IDAtMy40NTktLjY0OC0zLjQ1OS0yLjc5NmwuMDAyLS43NDdoMi41NTF2LjkzM2MwIC41My4zNjIuODc2Ljk1OS44NzYuNjMyIDAgLjg0Ny0uMzI3LjkyNi0uNjQ4LjA0NC0uMTguMDcyLS40OC0uMDItLjcxNHptMzAuOTMtLjAxOGMtLjQ4NC0xLjIzNS0zLjgzLTEuODAxLTQuMjQtMy43NWEzLjM2IDMuMzYgMCAwIDEtLjAyMS0xLjI4N2MuMjQ3LTEuNTU3IDEuNjE5LTIuMTE3IDMuMjkyLTIuMTE3IDEuMzM0IDAgMy4xNzguMzI2IDMuMTc4IDIuNDAzdi42N2gtMi4zNTR2LS41OWMwLS41MjItLjMyMS0uODYyLS44NzItLjg2Mi0uNTkgMC0uNzkzLjMzMS0uODYxLjY0LS4wMjMuMTA0LS4wMzYuMzA3LjAwOS41LjI2NiAxLjExNiAzLjg0IDEuNzEyIDQuMjM5IDMuNzExLjA0MS4yMDIuMTIzLjc0LjAwOCAxLjU2Ni0uMjIxIDEuNTkxLTEuNjI1IDIuMTgtMy4zMjcgMi4xOC0xLjc3MSAwLTMuNDI2LS42NDMtMy40MjYtMi43N2wuMDA0LS43MzZoMi41MjRsLjAwMi45MjVjMCAuNTE3LjM2Ljg2My45NDcuODYzLjYyOSAwIC44NDEtLjMyMi45MTktLjY0MS4wNDItLjE4MS4wNzMtLjQ3My0uMDIxLS43MDV6bTcuOTkgMS4yOTVjLjY2IDAgLjg2Ni0uNDYzLjkxMS0uN2EyLjAzIDIuMDMgMCAwIDAgLjAyMi0uMzY4VjUwLjZoMi40MDZ2Ni45MTNjLjAwNS4xNzgtLjAxMi41NDItLjAyLjYzMy0uMTcgMS44LTEuNTczIDIuMzgzLTMuMzIgMi4zODMtMS43NSAwLTMuMTU1LS41ODQtMy4zMjItMi4zODNhOC4zMzMgOC4zMzMgMCAwIDEtLjAyLS42MzNWNTAuNmgyLjQwM3Y3LjEzMmMwIC4xMjQuMDA1LjI2NS4wMjMuMzY4LjA1MS4yMzcuMjUxLjcuOTE2Ljd6bTE5Ljg0Mi0uMTAyYy42ODkgMCAuOTMtLjQ0MS45NzQtLjY5OC4wMTctLjExLjAyMi0uMjQ1LjAyMS0uMzY3di0xLjM5OWgtLjk3NnYtMS40MDdoMy4zNzN2Mi41ODdjLS4wMDMuMTgtLjAwNy4zMTMtLjAzNS42MzUtLjE1OSAxLjc1My0xLjY2IDIuMzc5LTMuMzQ1IDIuMzc5LTEuNjkgMC0zLjE4OC0uNjI2LTMuMzQ5LTIuMzc5YTcuOSA3LjkgMCAwIDEtLjAzNC0uNjM1bC4wMDItNC4wNThjMC0uMTcxLjAyMS0uNDc0LjA0LS42MzUuMjEtMS44MDEgMS42NTItMi4zOCAzLjM0LTIuMzhzMy4xNjQuNTc2IDMuMzQgMi4zOGMuMDMuMzA3LjAyLjYzNS4wMi42MzV2LjMyMWgtMi4zOTh2LS41NGMuMDAyLjAwMi0uMDAzLS4yMjktLjAzMS0uMzY2LS4wNC0uMjEzLS4yMjQtLjcwMi0uOTQ4LS43MDItLjY5NCAwLS44OTcuNDYzLS45NDguNzAyYTIuMTkgMi4xOSAwIDAgMC0uMDQuNDU1djQuNDA3Yy0uMDAyLjEyMi4wMDUuMjU2LjAyNC4zNjcuMDQyLjI1OC4yODEuNjk4Ljk3LjY5OHoiIGZpbGw9IiNGRkYiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},9811:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTM0LjI1IDQ2Yy00Ljg3NSAwLTguODQyIDMuOTY2LTguODQyIDguODQyIDAgNC44NzQgMy45NjcgOC44NCA4Ljg0MiA4Ljg0czguODQxLTMuOTY2IDguODQxLTguODRjMC00Ljg3Ni0zLjk2Ni04Ljg0Mi04Ljg0LTguODQyem0wIDE0LjUwNmMtMy4wOTIgMC01LjYwNS0yLjU0LTUuNjA1LTUuNjY0IDAtMy4xMjQgMi41MTMtNS42NjQgNS42MDUtNS42NjQgMy4wOTEgMCA1LjYwNyAyLjU0IDUuNjA3IDUuNjY0IDAgMy4xMjMtMi41MTYgNS42NjQtNS42MDcgNS42NjR6bS0xNC4yMTktNS41MThjMS4yNS45NTMgMS44ODMgMi4xNzQgMS44ODMgMy42MjUgMCAxLjM1Mi0uNjI1IDIuNjcxLTEuNzE3IDMuNjItMS4wOTcuOTQ5LTIuNjAyIDEuNDczLTQuMjQgMS40NzMtMy40MDYgMC01LjM2NC0yLjI4My01LjQ0NS0yLjM3OGwtLjI3OC0uMzMgMi41NDctMS43Mi4yMjEuMTY1Yy40MS4zMDcgMS41MiAxLjAyMiAyLjk1NiAxLjAyMiAxLjcgMCAyLjcxNi0uOTQxIDIuNzE2LTEuODUyIDAtLjM4OCAwLTEuMTk1LTMuMjAxLTIuMjEzLTEuNjQ2LS41MjItMi43NS0xLjA0LTMuNTg4LTEuNjgtMS4yNS0uOTUyLTEuODg1LTIuMTcyLTEuODg1LTMuNjI0IDAtMS4zNTIuNjI2LTIuNjcxIDEuNzE5LTMuNjE5IDEuMDk2LS45NSAyLjYtMS40NzQgNC4yMzgtMS40NzQgMy40MDYgMCA1LjM2NCAyLjI4IDUuNDQ3IDIuMzc4bC4yNzYuMzMtMi41NDUgMS43Mi0uMjItLjE2NWMtLjQxMy0uMzA4LTEuNTI2LTEuMDIzLTIuOTU4LTEuMDIzLTEuNyAwLTIuNzE1Ljk0My0yLjcxNSAxLjg1MyAwIC4zODggMCAxLjE5NSAzLjIwMSAyLjIxMyAxLjY0Ni41MjIgMi43NSAxLjA0IDMuNTg4IDEuNjh6bTM4LjcyIDEuMTF2LTkuNDY1aDMuMTU5VjYzLjUybC0xMC42NTktOS45MnY5LjQwNmgtMy4xNThWNDYuMTZsMTAuNjU4IDkuOTM2em0xNy0xMC4wMzNjNC44NzYgMCA4Ljg0MiAzLjk2NiA4Ljg0MiA4Ljg0MSAwIDQuODc1LTMuOTY2IDguODQxLTguODQyIDguODQxLTQuODc0IDAtOC44NC0zLjk2Ni04Ljg0LTguODQgMC00Ljg3NiAzLjk2Ni04Ljg0MiA4Ljg0LTguODQyem0wIDE0LjUwNWMzLjA5IDAgNS42MDYtMi41NDEgNS42MDYtNS42NjQgMC0zLjEyMi0yLjUxNS01LjY2My01LjYwNi01LjY2My0zLjA5MiAwLTUuNjA1IDIuNTQtNS42MDUgNS42NjNzMi41MTMgNS42NjQgNS42MDUgNS42NjR6bTE0LjIxOS01LjgxYy0xLjI1LS45NTQtMS44ODItMi4xNzMtMS44ODItMy42MjUgMC0xLjM1Mi42MjUtMi42NyAxLjcxNy0zLjYyIDEuMDk2LS45NSAyLjYwMS0xLjQ3NCA0LjIzOS0xLjQ3NCAzLjQwNiAwIDUuMzY0IDIuMjgzIDUuNDQ1IDIuMzc5bC4yNzguMzMtMi41NDYgMS43Mi0uMjIyLS4xNjVjLS40MS0uMzA3LTEuNTItMS4wMjItMi45NTUtMS4wMjItMS43IDAtMi43MTcuOTQxLTIuNzE3IDEuODUyIDAgLjM4OCAwIDEuMTk1IDMuMjAyIDIuMjEzIDEuNjQ2LjUyMiAyLjc1IDEuMDQgMy41ODggMS42OEM5OS4zNjcgNTUuOTggMTAwIDU3LjIgMTAwIDU4LjY1YzAgMS4zNTQtLjYyNiAyLjY3Mi0xLjcxOCAzLjYyLTEuMDk2Ljk1LTIuNiAxLjQ3NC00LjIzOCAxLjQ3NC0zLjQwNyAwLTUuMzY0LTIuMjgxLTUuNDQ1LTIuMzc4bC0uMjc5LS4zMyAyLjU0Ny0xLjcyLjIyLjE2NWMuNDEyLjMwNyAxLjUyNSAxLjAyMiAyLjk1NyAxLjAyMiAxLjcgMCAyLjcxNi0uOTQyIDIuNzE2LTEuODUzIDAtLjM4OCAwLTEuMTk1LTMuMjAyLTIuMjExLTEuNjQ2LS41MjMtMi43NS0xLjA0LTMuNTg4LTEuNjh6IiBmaWxsPSIjRkZGIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},50066:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNTAlIiB5MT0iMCUiIHgyPSI1MCUiIHkyPSIxMDAlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSIwJSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBzdG9wLW9wYWNpdHk9Ii40NSIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8cmFkaWFsR3JhZGllbnQgY3g9IjgyLjg2MiUiIGZ4PSI4Mi44NjIlIiBmeT0iNTAlIiByPSI5MS4xNTklIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KC0xIDAgMCAtLjg1MSAxLjY1NyAuOTI2KSIgaWQ9ImIiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjlCRTAzIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNDQzdDMTkiIG9mZnNldD0iMTAwJSIvPgogICAgICAgIDwvcmFkaWFsR3JhZGllbnQ+CiAgICA8L2RlZnM+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGZpbGw9IiMxOTFBMUMiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTAgMTAuNjA0aDYuODU2TDkuMDkgNy44aDEuMDFsLTIuMTg2IDIuODA0aDkuNTIzTDE5LjE4IDcuOGgxLjAxbC0xLjY5NSAyLjgwNGg5LjUyM0wyOS4yNyA3LjhoMS4wMWwtMS4yMDQgMi44MDRoOS41MjNMMzkuMzYgNy44aDEuMDFsLS43MTMgMi44MDRoOS41MjNsLjI3LTIuODA0aDEuMDFsLS4yMjEgMi44MDRoOS41MjNMNTkuNTQgNy44aDEuMDA5bC4yNyAyLjgwNGg5LjUyM0w2OS42MyA3LjhoMS4wMDlsLjc2IDIuODA0aDkuNTI0TDc5LjcyMSA3LjhoMS4wMDlsMS4yNTIgMi44MDRoOS41MjNMODkuODExIDcuOGgxLjAwOWwxLjc0MyAyLjgwNGg5LjUyM0w5OS45MDEgNy44aDEuMDA5bDIuMjM0IDIuODA0SDExMHYuNzkyaC02LjIyNGwyLjU1NyAzLjIwOEgxMTB2Ljc5MmgtMy4wMzVsMi44NzUgMy42MDhoLjE2djEuNzUxbC0uNzQ4LS45NTlIOTguMjhsMi40OTIgNC4wMDhIMTEwdi43OTJoLTguNzM1bDIuOTg5IDQuODA4SDExMHYuNzkyaC01LjI1M2wzLjk4NSA2LjQwOEgxMTB2Ljc5MmgtLjc3NWwuNzc1IDEuMjQ3djIuNTYzbC0yLjMwMy0zLjgxSDkzLjk1bDMuNTc3IDguMDA4SDExMHYuNzkySDk3Ljg4MWw0LjI5MiA5LjYwOEgxMTB2Ljc5MmgtNy40NzNsNS43MjEgMTIuODA4SDExMHYuNzkyaC0xLjM5OGwxLjM5OCAzLjEzdjUuMDI2bC0zLjUtOC4xNTZIODcuNTgyTDkxLjYwMiA4NUg4OS4yNGwtMy43Ni0xNC44MDRINjYuNTZMNjcuOTg3IDg1aC0yLjM2bC0xLjE2OC0xNC44MDRINDUuNTQxTDQ0LjM3NCA4NWgtMi4zNjFsMS40MjYtMTQuODA0SDI0LjUyTDIwLjc2IDg1SDE4LjRsNC4wMi0xNC44MDRIMy41TDAgNzguMzUydi01LjAyNmwxLjM5OC0zLjEzSDB2LS43OTJoMS43NTJsNS43MjEtMTIuODA4SDB2LS43OTJoNy44MjdsNC4yOTItOS42MDhIMHYtLjc5MmgxMi40NzNsMy41NzctOC4wMDhIMi4zMDJMMCA0MS4yMDZ2LTIuNTYzbC43NzUtMS4yNDdIMHYtLjc5MmgxLjI2OGwzLjk4NS02LjQwOEgwdi0uNzkyaDUuNzQ1bDIuOTktNC44MDhIMHYtLjc5Mmg5LjIyOGwyLjQ5Mi00LjAwOEguNzQ4bC0uNzQ4Ljk2di0xLjc1MmguMTZsMi44NzUtMy42MDhIMHYtLjc5MmgzLjY2N2wyLjU1Ny0zLjIwOEgwdi0uNzkyem0yNi4xMTEgNDUuOTkySDkuMzM3TDMuODQgNjkuNDA0aDE4Ljc5NGwzLjQ3Ny0xMi44MDh6bTE4LjYzOCAwSDI3Ljk3NWwtMy4yNTMgMTIuODA4aDE4Ljc5M2wxLjIzNC0xMi44MDh6bTE4LjYzOCAwSDQ2LjYxM2wtMS4wMSAxMi44MDhoMTguNzk0bC0xLjAxLTEyLjgwOHptMTguNjM4IDBINjUuMjUxbDEuMjM0IDEyLjgwOGgxOC43OTNsLTMuMjUzLTEyLjgwOHptMTguNjM4IDBIODMuODg5bDMuNDc3IDEyLjgwOGgxOC43OTRsLTUuNDk3LTEyLjgwOHptLTcxLjcyOC0xMC40SDEzLjhsLTQuMTIzIDkuNjA4aDE2LjY1bDIuNjA4LTkuNjA4em0xNi44MTYgMEgzMC42MTdsLTIuNDQgOS42MDhoMTYuNjQ4bC45MjYtOS42MDh6bTE2LjgxNiAwSDQ3LjQzM2wtLjc1OCA5LjYwOGgxNi42NWwtLjc1OC05LjYwOHptMTYuODE2IDBINjQuMjVsLjkyNSA5LjYwOGgxNi42NWwtMi40NC05LjYwOHptMTYuODE3IDBIODEuMDY1bDIuNjA5IDkuNjA4aDE2LjY0OUw5Ni4yIDQ2LjE5NnptLTY0Ljg3Ni04LjhIMTcuNTc3bC0zLjQzNiA4LjAwOGgxNS4wMWwyLjE3My04LjAwOHptMTUuMjc1IDBIMzIuODUybC0yLjAzNCA4LjAwOGgxNS4wMWwuNzctOC4wMDh6bTE1LjI3NSAwSDQ4LjEyNmwtLjYzIDguMDA4aDE1LjAwOWwtLjYzMS04LjAwOHptMTUuMjc0IDBINjMuNDAxbC43NzEgOC4wMDhoMTUuMDFsLTIuMDM0LTguMDA4em0xNS4yNzUgMEg3OC42NzZsMi4xNzQgOC4wMDhoMTUuMDFsLTMuNDM3LTguMDA4em0tMTcuMTA0LTcuMkg2Mi43MDdsLjYxOCA2LjQwOGgxMy42MjJsLTEuNjI4LTYuNDA4em0tNTYuMDUzIDBINi42NTRsLTMuODcyIDYuNDA4aDEzLjYyMmwyLjg2Mi02LjQwOHptMTQuMDEzIDBIMjAuNjY3bC0yLjc1IDYuNDA4SDMxLjU0bDEuNzQtNi40MDh6bTE0LjAxNCAwSDM0LjY4bC0xLjYyOCA2LjQwOGgxMy42MjJsLjYxOC02LjQwOHptMTQuMDEzIDBINDguNjk0bC0uNTA1IDYuNDA4SDYxLjgxbC0uNTA1LTYuNDA4em0yOC4wMjcgMEg3Ni43MmwxLjc0IDYuNDA4aDEzLjYyMmwtMi43NS02LjQwOHptMTQuMDEzIDBIOTAuNzM0bDIuODYyIDYuNDA4aDEzLjYyMmwtMy44NzItNi40MDh6bS04MS41NzktNS42SDEwLjAzOGwtMi45MDUgNC44MDhIMTkuNjJsMi4xNDctNC44MDh6bTEzLjAzMyAwSDIzLjA3bC0yLjA2MyA0LjgwOGgxMi40ODhsMS4zMDUtNC44MDh6bTEzLjAzMiAwSDM2LjEwM2wtMS4yMjEgNC44MDhoMTIuNDg3bC40NjMtNC44MDh6bTEzLjAzMyAwaC0xMS43M2wtLjM3OCA0LjgwOGgxMi40ODZsLS4zNzgtNC44MDh6bTI2LjA2NCAwSDc1LjJsMS4zMDUgNC44MDhoMTIuNDg4bC0yLjA2NC00LjgwOHptLTEzLjAzMiAwaC0xMS43M2wuNDY0IDQuODA4aDEyLjQ4N2wtMS4yMjEtNC44MDh6bTI2LjA2NSAwaC0xMS43M2wyLjE0OCA0LjgwOGgxMi40ODdsLTIuOTA1LTQuODA4em0tNzYuMDUtNC44SDEyLjkzOWwtMi40MjIgNC4wMDhoMTEuNjA1bDEuNzktNC4wMDh6bTEyLjE5MSAwSDI1LjEzMWwtMS43MiA0LjAwOGgxMS42MDRsMS4wODgtNC4wMDh6bTEyLjE5MiAwSDM3LjMyMmwtMS4wMTggNC4wMDhINDcuOTFsLjM4Ni00LjAwOHptMTIuMTkxIDBINDkuNTE0bC0uMzE2IDQuMDA4aDExLjYwNGwtLjMxNi00LjAwOHptMTIuMTkyIDBINjEuNzA1bC4zODYgNC4wMDhoMTEuNjA1bC0xLjAxOC00LjAwOHptMTIuMTkxIDBINzMuODk3bDEuMDg4IDQuMDA4aDExLjYwNGwtMS43Mi00LjAwOHptMTIuMTkyIDBIODYuMDg4bDEuNzkgNC4wMDhoMTEuNjA1bC0yLjQyMi00LjAwOHptLTI1LjUtNC40SDYxLjI4bC4zNDggMy42MDhoMTAuODQ3bC0uOTE2LTMuNjA4em0tNTcuMTA1IDBINC4xNzhsLTIuODEyIDMuNjA4aDEwLjg0N2wyLjI0My0zLjYwOHptMTEuNDIxIDBIMTUuNTk4bC0yLjE4IDMuNjA4aDEwLjg0OGwxLjYxMS0zLjYwOHptMTEuNDIgMEgyNy4wMmwtMS41NDggMy42MDhoMTAuODQ3bC45OC0zLjYwOHptMTEuNDIyIDBoLTEwLjI4bC0uOTE1IDMuNjA4SDQ4LjM3bC4zNDgtMy42MDh6bTExLjQyIDBINDkuODYxbC0uMjg1IDMuNjA4aDEwLjg0OGwtLjI4NS0zLjYwOHptMjIuODQyIDBINzIuNzAybC45OCAzLjYwOGgxMC44NDdsLTEuNTQ4LTMuNjA4em0xMS40MiAwSDg0LjEyNGwxLjYxMSAzLjYwOGgxMC44NDhsLTIuMTgtMy42MDh6bTExLjQyMiAwaC0xMC4yOGwyLjI0NCAzLjYwOGgxMC44NDdsLTIuODExLTMuNjA4em0tMzUuMjc5LTRoLTkuNjQ4bC4zMDkgMy4yMDhoMTAuMTU0bC0uODE1LTMuMjA4em0tNTMuNiAwSDcuMjk2bC0yLjUgMy4yMDhoMTAuMTUzbDEuOTk1LTMuMjA4em0xMC43MiAwaC05LjY0OGwtMS45MzkgMy4yMDhoMTAuMTU0bDEuNDMzLTMuMjA4em0xMC43MiAwaC05LjY0OGwtMS4zNzcgMy4yMDhoMTAuMTU0bC44Ny0zLjIwOHptMTAuNzIgMGgtOS42NDhsLS44MTUgMy4yMDhoMTAuMTU0bC4zMDktMy4yMDh6bTEwLjcyIDBoLTkuNjQ4bC0uMjUzIDMuMjA4aDEwLjE1NGwtLjI1My0zLjIwOHptMjEuNDQgMGgtOS42NDhsLjg3MSAzLjIwOGgxMC4xNTRsLTEuMzc3LTMuMjA4em0xMC43MiAwaC05LjY0OGwxLjQzMyAzLjIwOGgxMC4xNTRsLTEuOTM5LTMuMjA4em0xMC43MiAwaC05LjY0OGwxLjk5NSAzLjIwOGgxMC4xNTNsLTIuNS0zLjIwOHpNMCA3Ljc5MlY3aDExMHYuODFsLS4wMTctLjAxOEgwem0wIC4wMThWNy44aC4wMDlMMCA3LjgxeiIgZmlsbD0idXJsKCNhKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAyNSkiLz4KICAgICAgICA8cGF0aCBkPSJNMzkuNTggMjUuNDk2bDE5LjExIDI2LjI2Ny0zLjE1NyAzLjA4OS0xNi4yMTEtMjIuOTE3LjI1OS02LjQzOXptLTYuMjQgNTIuNzFoMjIuNjg2TDc3LjkzIDUxLjg1OGwtLjI0OCA2LjQzMi0yMS45MTkgMjYuMzQ3LTIyLjY3OC4wMTcuMjU1LTYuNDQ4eiIgZmlsbD0iIzk5NUMxMiIvPgogICAgICAgIDxwYXRoIGZpbGw9InVybCgjYikiIGQ9Ik0zOS41ODQuNTAzaDE2Ljc0OGwyMS42MDIgMjYuMzUzLTIxLjkxIDI2LjM1M0gzMy4zNDJsMjQuODc3LTI2LjM1M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMjUpIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},32743:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMCAwaDExMHYxMTBIMHoiLz4KICAgICAgICA8cGF0aCBkPSJNODAuMjYgNTEuNDYzdi04LjM3aDYuNjA4djkuMjUxYzAgMy45MDktNi42MDggNC43MDgtNi42MDgtLjg4em0tOS4xMDQgNS44NzRWNDYuMDNjMC0xLjc4NiAxLjU2LTIuOTM3IDMuMzc3LTIuOTM3aDIuNzl2OS44MzljMCA3LjA0NiAxMi42MjkgNy4xMDIgMTIuNjI5LS4xNDdWNDMuMjRoMy42N2MxLjMgMCAyLjM1IDEuNTI4IDIuMzUgMi45Mzd2MTEuNmMwIDIuMzM5LTEuOTAzIDMuOTY1LTQuMjU4IDMuOTY1aC0xNS44NmMtMi43OSAwLTQuNjk4LTEuNjQ0LTQuNjk4LTQuNDA1eiIgZmlsbD0iIzAwOUFDNyIvPgogICAgICAgIDxwYXRoIGQ9Ik02NC41NTYgNjcuMjU2aC00LjkxOVY1MS4zNWg0LjkxOXYxNS45MDd6bS01LjM5NS0yMS40MmMwLTEuNTQ4IDEuMzEtMi43NzcgMi44OTYtMi43NzcgMS42MjYgMCAyLjkzNSAxLjIzIDIuOTM1IDIuNzc2IDAgMS41NDctMS4zMDkgMi43NzctMi45MzUgMi43NzctMS41ODcgMC0yLjg5Ni0xLjI3LTIuODk2LTIuNzc3em0tNC41NjIgMjEuNDJINDkuNjhWNTEuMzVoNC45MnYxNS45MDd6bS01LjM5NS0yMS40MmMwLTEuNTQ4IDEuMjctMi43NzcgMi44NTctMi43NzcgMS42NjYgMCAyLjk3NSAxLjIzIDIuOTc1IDIuNzc2IDAgMS41NDctMS4zMSAyLjc3Ny0yLjk3NSAyLjc3Ny0xLjU4NyAwLTIuODU3LTEuMjctMi44NTctMi43Nzd6bS03LjMzOC0xLjQyOWg1LjE5NnMtNC45NTggMTcuOTctNS42MzIgMjAuMDcyYy0uNTU2IDEuNjI3LTEuNzg2IDIuOTM2LTMuNjUgMi45MzYtMi4xMDIgMC0zLjA5NC0xLjU0Ny0zLjU3LTIuOTM2LS40MzYtMS40MjgtMy42NS0xMy4yODgtMy42NS0xMy4yODhzLTMuMjEzIDExLjg2LTMuNjg5IDEzLjI4OGMtLjQzNiAxLjM4OS0xLjQyOCAyLjkzNi0zLjU3IDIuOTM2LTEuODI0IDAtMy4wOTQtMS4zMS0zLjYxLTIuOTM2LS42NzQtMi4xMDItNS42MzItMjAuMDcyLTUuNjMyLTIwLjA3Mmg1LjE1N2w0LjMyMyAxNi44NnMzLjI5My0xMi42NTUgMy44MDgtMTQuNDhjLjU1Ni0xLjc4NSAxLjYyNy0yLjU3OCAzLjIxNC0yLjU3OCAxLjU0NyAwIDIuNjU3Ljc5MyAzLjE3MyAyLjU3OC41NTUgMS44MjUgMy44NDggMTQuNDggMy44NDggMTQuNDhsNC4yODQtMTYuODZ6IiBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KICAgIDwvZz4KPC9zdmc+Cg=="},56199:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTI3IDM0LjkyOWwyMi44ODUtMy4xMDcuMDEgMjIuMDA2LTIyLjg3NC4xM0wyNyAzNC45Mjh6bTIyLjg3NSAyMS40MzVsLjAxNyAyMi4wMjYtMjIuODc0LTMuMTM1LS4wMDItMTkuMDM5IDIyLjg1OS4xNDh6bTIuNzc0LTI0Ljk0OUw4Mi45OTMgMjd2MjYuNTQ4bC0zMC4zNDQuMjRWMzEuNDE2ek04MyA1Ni41NzFMODIuOTkzIDgzbC0zMC4zNDQtNC4yNy0uMDQzLTIyLjIwOCAzMC4zOTQuMDV6IiBmaWxsPSIjMERBREVBIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},51773:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTI3IDM0LjkyOWwyMi44ODUtMy4xMDcuMDEgMjIuMDA2LTIyLjg3NC4xM0wyNyAzNC45Mjh6bTIyLjg3NSAyMS40MzVsLjAxNyAyMi4wMjYtMjIuODc0LTMuMTM1LS4wMDItMTkuMDM5IDIyLjg1OS4xNDh6bTIuNzc0LTI0Ljk0OUw4Mi45OTMgMjd2MjYuNTQ4bC0zMC4zNDQuMjRWMzEuNDE2ek04MyA1Ni41NzFMODIuOTkzIDgzbC0zMC4zNDQtNC4yNy0uMDQzLTIyLjIwOCAzMC4zOTQuMDV6IiBmaWxsPSIjRTgxMTIzIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},67626:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxyYWRpYWxHcmFkaWVudCBjeD0iNDMuNTQxJSIgY3k9IjM0LjQzNiUiIGZ4PSI0My41NDElIiBmeT0iMzQuNDM2JSIgcj0iNjUuNTY0JSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgwIDEgLTEuMDU2MiAwIC44IC0uMDkxKSIgaWQ9ImEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGOUY5RjkiIG9mZnNldD0iMjcuNDQlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM2NjYiIG9mZnNldD0iMTAwJSIvPgogICAgICAgIDwvcmFkaWFsR3JhZGllbnQ+CiAgICAgICAgPHJhZGlhbEdyYWRpZW50IGN4PSI0NS4wODQlIiBjeT0iMzkuMzg5JSIgZng9IjQ1LjA4NCUiIGZ5PSIzOS4zODklIiByPSI3Mi4wNCUiIGlkPSJiIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRiIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSI1NS43ODclIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iLjYiIG9mZnNldD0iNzQuNjUzJSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBzdG9wLW9wYWNpdHk9Ii42IiBvZmZzZXQ9Ijg4LjQ0MyUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRiIgc3RvcC1vcGFjaXR5PSIuNSIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9yYWRpYWxHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjY4LjkzNSUiIHkxPSI4LjU0NCUiIHgyPSIzNS4xMDQlIiB5Mj0iNDcuMDU1JSIgaWQ9ImMiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMUU3RTAxIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM3MkMwMjgiIG9mZnNldD0iNjAuMzk5JSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjQTREMDU2IiBvZmZzZXQ9IjEwMCUiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMjcuMzQ3JSIgeTE9IjUwLjg5OCUiIHgyPSI3Ny45MzglIiB5Mj0iNjUuMTk4JSIgaWQ9ImQiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMUU3RTAxIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM3MkMwMjgiIG9mZnNldD0iNjAuMzk5JSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjQTREMDU2IiBvZmZzZXQ9IjEwMCUiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMjcuMzQ3JSIgeTE9IjUwLjg5OCUiIHgyPSI3Ny45MzglIiB5Mj0iNjUuMTk4JSIgaWQ9ImUiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMUU3RTAxIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM3MkMwMjgiIG9mZnNldD0iNjAuMzk5JSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjQTREMDU2IiBvZmZzZXQ9IjEwMCUiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICA8cGF0aCBmaWxsPSIjMTkxQTFDIiBkPSJNMCAwaDExMHYxMTBIMHoiLz4KICAgICAgICA8cGF0aCBkPSJNNjEuODk1IDMwLjk4YzAgMTcuMDg4LTEzLjg1MiAzMC45NC0zMC45MzggMzAuOTRDMTMuODcgNjEuOTIuMDE5IDQ4LjA2Ny4wMTkgMzAuOTguMDE5IDEzLjg5NiAxMy44Ny4wNDQgMzAuOTU3LjA0NGMxNy4wODYgMCAzMC45MzggMTMuODUgMzAuOTM4IDMwLjkzOHoiIGZpbGw9InVybCgjYSkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0IDI0KSIvPgogICAgICAgIDxwYXRoIGQ9Ik02MS44OTUgMzAuOTgxYzAgMTcuMDg4LTEzLjg1MiAzMC45MzktMzAuOTM4IDMwLjkzOUMxMy44NyA2MS45Mi4wMTkgNDguMDY5LjAxOSAzMC45OC4wMTkgMTMuODk2IDEzLjg3LjA0MyAzMC45NTcuMDQzYzE3LjA4NiAwIDMwLjkzOCAxMy44NTEgMzAuOTM4IDMwLjkzOHoiIGZpbGwtb3BhY2l0eT0iLjQ1IiBmaWxsPSJ1cmwoI2IpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNCAyNCkiLz4KICAgICAgICA8cGF0aCBkPSJNOS43MzUgOC40NThjNC44OTMuOTQyIDEwLjYyMiA1LjQxNSAxMy4zMTQgOS4wMjggMS40ODUgMy44MzcgMi43OTcgNi45OTcgNC40NTIgMTAuNTA2YTE2OC40NCAxNjguNDQgMCAwIDEgMy40OTMtMi45NEwzMC45ODcgOS44MWMtMy42NDctMi4yOTQtOS42NzQtNS4zMTItMTYuMjQ0LTUuMTE1YTI5LjA4MyAyOS4wODMgMCAwIDAtNS4wMDggMy43NjJ6IiBmaWxsPSJ1cmwoI2MpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNCAyNCkiLz4KICAgICAgICA8cGF0aCBkPSJNNi42NDggNTAuMDg2YTMxLjI5OSAzMS4yOTkgMCAwIDAgMi44NzkgMy4xODRjLS4xNS04Ljc5MyAxMC4wNDQtMTguMjAyIDE4LTI1LjMwNmwtNC40NjgtMTAuNTMzQzE5LjY1MyAyMS42MTEgNS4zODMgMzguNiA2LjY0OSA1MC4wODZ6IiBmaWxsPSJ1cmwoI2QpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNCAyNCkiLz4KICAgICAgICA8cGF0aCBkPSJNMzAuOTEzIDguNDU4YzQuODk0Ljk0MiAxMC42MjIgNS40MTUgMTMuMzE0IDkuMDI4IDEuNDg1IDMuODM3IDIuNzk3IDYuOTk3IDQuNDUyIDEwLjUwNmExNjguNDQgMTY4LjQ0IDAgMCAxIDMuNDkzLTIuOTRMNTIuMTY1IDkuODFjLTMuNjQ2LTIuMjk0LTkuNjczLTUuMzEyLTE2LjI0NC01LjExNWEyOS4wODMgMjkuMDgzIDAgMCAwLTUuMDA4IDMuNzYyeiIgZmlsbD0idXJsKCNjKSIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMTA3LjA4NiAyNCkiLz4KICAgICAgICA8cGF0aCBkPSJNMzQuNDYgNTAuMDg2YTMxLjI5OSAzMS4yOTkgMCAwIDAgMi44NzggMy4xODRjLS4xNS04Ljc5MyAxMC4wNDUtMTguMjAyIDE4LTI1LjMwNkw1MC44NyAxNy40MzFjLTMuNDA1IDQuMTgtMTcuNjc2IDIxLjE2OS0xNi40MSAzMi42NTV6IiBmaWxsPSJ1cmwoI2UpIiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgMSAxMTMuNzE5IDI0KSIvPgogICAgPC9nPgo8L3N2Zz4K"},7333:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGZpbGw9IiMzQTQ5NTgiIGQ9Ik0wIDBoNTYwdjU2MEgweiIvPjxwYXRoIGQ9Ik00MjAgMjM4YzAtNy43MjYtNi4yNzUtMTQtMTQtMTRIMTU0Yy03LjcyNyAwLTE0IDYuMjc0LTE0IDE0djg0YzAgNy43MjcgNi4yNzMgMTQgMTQgMTRoMjUyYzcuNzI2IDAgMTQtNi4yNzMgMTQtMTR2LTg0IiBmaWxsLW9wYWNpdHk9Ii4xNDkiIGZpbGw9IiMwMDAiLz48cGF0aCBkPSJNNDA2LjE4IDIyNHMuOTUyLjAzNiAxLjQyNi4wOWMxLjAzNi4xMTkgMi4wNTkuMzU0IDMuMDQzLjcwMSAxLjkxNi42NzUgMy42NzUgMS43NzQgNS4xMjggMy4xOTIgMS40OTIgMS40NTggMi42NTQgMy4yNDYgMy4zNzIgNS4yMDQuMzU4Ljk3OC42MDYgMS45OTcuNzM3IDMuMDMuMDY4LjUzMi4xMTIgMS42MDEuMTEyIDEuNjAxdjg0LjM2cy0uMDQ0IDEuMDY5LS4xMTIgMS42MDFhMTMuOTIxNCAxMy45MjE0IDAgMDEtLjczNyAzLjAzYy0uNzE4IDEuOTU4LTEuODggMy43NDYtMy4zNzIgNS4yMDQtMS40NTMgMS40MTgtMy4yMTIgMi41MTctNS4xMjggMy4xOTItLjk4NC4zNDctMi4wMS41ODItMy4wNDMuNzAxLS40NzQuMDU0LTEuNDI2LjA5LTEuNDI2LjA5SDE1My44MnMtLjk1Mi0uMDM2LTEuNDI2LS4wOWExMy45NDMyIDEzLjk0MzIgMCAwMS0zLjA0My0uNzAxYy0xLjkxNi0uNjc1LTMuNjc1LTEuNzc0LTUuMTI4LTMuMTkyLTEuNDkyLTEuNDU4LTIuNjU0LTMuMjQ2LTMuMzcyLTUuMjA0LS4zNTgtLjk3OC0uNjA2LTEuOTk3LS43MzctMy4wMy0uMDY4LS41MzItLjExMi0xLjYwMS0uMTEyLTEuNjAxdi04NC4zNnMuMDQ0LTEuMDY5LjExMi0xLjYwMWMuMTMxLTEuMDMzLjM3OS0yLjA1Mi43MzctMy4wMy43MTgtMS45NTggMS44OC0zLjc0NiAzLjM3Mi01LjIwNCAxLjQ1My0xLjQxOCAzLjIxMi0yLjUxNyA1LjEyOC0zLjE5Mi45ODQtLjM0NyAyLjAxLS41ODIgMy4wNDMtLjcwMS40NzQtLjA1NCAxLjQyNi0uMDkgMS40MjYtLjA5aDI1Mi4zNm0tMjUyLjE1IDguOTk5cy0uNDA4LjAxLS42MTEuMDMzYy0uNDA2LjA0Ny0uODA2LjE0NC0xLjE4OC4yODktMS4zNDQuNTExLTIuNDM0IDEuNjE0LTIuOTI4IDIuOTYzLS4xOTQuNTI5LS4zIDEuNjQ4LS4zIDEuNjQ4bC4wMDEgODQuMnMuMTEyIDEuMDc0LjI5OSAxLjU4MmMuNDk0IDEuMzQ5IDEuNTg0IDIuNDUyIDIuOTI4IDIuOTYzLjUyNC4yIDEuNjM4LjMyIDEuNjM4LjMyaDI1Mi4yN3MxLjExNC0uMTIgMS42MzktLjMyYzEuMzQzLS41MTEgMi40MzMtMS42MTQgMi45MjctMi45NjMuMTg2LS41MDguMjk5LTEuNTgyLjI5OS0xLjU4MnYtODQuMjdzLS4xMi0xLjExNC0uMzItMS42MzhjLS41MTEtMS4zNDQtMS42MTQtMi40MzQtMi45NjMtMi45MjgtLjUwOC0uMTg3LTEuNTgyLS4yOTktMS41ODItLjI5OWwtMjUyLjEtLjAwMk0yMTkuMzMzIDI5NmgtNi45NjI5di0yNy4wNDNoLTguOTE3di01Ljc5NDlIMjI4LjI1djUuNzk1aC04LjkxN1YyOTZ6bTQwLjY5OTItMzIuODM3OXYyMS4yNDhjMCAyLjQyNTktLjU0MjggNC41NTIxLTEuNjI4NCA2LjM3OS0xLjA4NTYgMS44MjY4LTIuNjU0MSAzLjIyNjgtNC43MDU2IDQuMjAwMi0yLjA1MTQuOTczMy00LjQ3NzIgMS40Ni03LjI3NzMgMS40Ni00LjIyMjcgMC03LjUwMi0xLjA4Mi05LjgzNzktMy4yNDU3LTIuMzM2LTIuMTYzNy0zLjUwMzktNS4xMjQ4LTMuNTAzOS04Ljg4MzN2LTIxLjE1ODJoNi45NDA0djIwLjEwMjVjMCAyLjUzMDcuNTA5MSA0LjM4NzQgMS41Mjc0IDUuNTcwNCAxLjAxODIgMS4xODMgMi43MDI4IDEuNzc0NCA1LjA1MzcgMS43NzQ0IDIuMjc2IDAgMy45MjY5LS41OTUyIDQuOTUyNi0xLjc4NTcgMS4wMjU3LTEuMTkwNCAxLjUzODYtMy4wNTg0IDEuNTM4Ni01LjYwNHYtMjAuMDU3Nmg2Ljk0MDR6TTI5Ny4yMDUxIDI5NmgtOC44NDk2bC0xNC4yODUyLTI0Ljg0MThoLS4yMDIxYy4yODQ1IDQuMzg3NC40MjY3IDcuNTE3LjQyNjcgOS4zODg3VjI5NmgtNi4yMjE3di0zMi44Mzc5aDguNzgyM2wxNC4yNjI3IDI0LjU5NDdoLjE1NzJjLS4yMjQ2LTQuMjY3Ni0uMzM3LTcuMjg0OC0uMzM3LTkuMDUxN3YtMTUuNTQzaDYuMjY2N1YyOTZ6bTI3LjE3NzcgMGgtMTguOTEyMXYtMzIuODM3OWgxOC45MTIxdjUuNzA1aC0xMS45NDkydjcuMjFoMTEuMTE4MnY1LjcwNTFoLTExLjExODJ2OC40Njc4aDExLjk0OTJWMjk2em0xMy44MTM1LTE4LjI2MDdoMi4yNDZjMi4yMDEzIDAgMy44MjYtLjM2NjkgNC44NzQxLTEuMTAwNiAxLjA0ODItLjczMzggMS41NzIzLTEuODg2NyAxLjU3MjMtMy40NTkgMC0xLjU1NzMtLjUzNTMtMi42NjU0LTEuNjA2LTMuMzI0Mi0xLjA3MDYtLjY1ODktMi43MjktLjk4ODMtNC45NzUtLjk4ODNoLTIuMTExNHY4Ljg3MnptMCA1LjY2MDFWMjk2aC02Ljk2Mjl2LTMyLjgzNzloOS41Njg0YzQuNDYyMiAwIDcuNzY0LjgxMjMgOS45MDUyIDIuNDM3IDIuMTQxMyAxLjYyNDcgMy4yMTIgNC4wOTE2IDMuMjEyIDcuNDAwOSAwIDEuOTMxNi0uNTMxNiAzLjY0OTktMS41OTQ4IDUuMTU0OC0xLjA2MzEgMS41MDQ5LTIuNTY4IDIuNjg0LTQuNTE0NiAzLjUzNzYgNC45NDE0IDcuMzgyMiA4LjE2MDggMTIuMTUxMyA5LjY1ODIgMTQuMzA3NmgtNy43MjY2bC03LjgzODktMTIuNjAwNmgtMy43MDZ6IiBmaWxsPSIjQ0ZDRkNGIi8+PC9nPjwvc3ZnPg=="},54346:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzJmNDc0MSIvPgogPHBhdGggZD0ibTE0MCAyNDRjMC04LjI0MyA1LjgzMi0xNS4zNDcgMTQtMTYuNTE2bDI4LTMuNDgzaDE5NmwyOCAzLjQ4M2M4LjE4MyAxLjE2OSAxNCA4LjI4MSAxNCAxNi41MTZ2NzJjMCA4LjI0My01LjgzMiAxNS4zNDctMTQgMTYuNTE2bC0yOCAzLjQ4M2gtMTk2bC0yOC0zLjQ4M2MtOC4xODMtMS4xNjktMTQtOC4yODEtMTQtMTYuNTE2di03MiIgc3R5bGU9ImZpbGwtb3BhY2l0eTouMTQ5MDIiLz4KIDxwYXRoIGQ9Im0zNzggMzM2aC0xOTZsLTI4LTMuNDgzYy0uNTA2LS4wNzUtMS4wMS0uMTY4LTEuNTA2LS4yODgtMS4wODktLjI2MS0yLjE0OS0uNjM3LTMuMTU5LTEuMTItMi4xMzItMS4wMTgtNC4wMi0yLjUxNC01LjUyLTQuMzQtMS4yMzEtMS41MDItMi4xOTQtMy4yMi0yLjg0MS01LjA1LS40MzQtMS4yMzItLjcyNi0yLjUxMy0uODY5LTMuODExLS4wNjMtLjU2OS0uMTA0LTEuNzE0LS4xMDQtMS43MTR2LTcyLjM5YzAgMCAuMDQxLTEuMTQ2LjEwNC0xLjcxNi4xNDQtMS4yOTkuNDM2LTIuNTgxLjg3MS0zLjgxMi42NDgtMS44MzIgMS42MTItMy41NTEgMi44NDUtNS4wNSAxLjQ5OC0xLjgyNSAzLjM4OS0zLjMyIDUuNTE5LTQuMzM4IDEuMDEtLjQ4MiAyLjA2OS0uODU3IDMuMTU2LTEuMTE5LjQ5Ny0uMTE5Ljk5OS0uMjEyIDEuNTA0LS4yODdsMjgtMy40ODNoMTk2YzAgMCAxOC42NjcgMi4zMjIgMjggMy40ODMuNTA2LjA3NSAxLjAxLjE2OCAxLjUwNi4yODggMS4wODkuMjYxIDIuMTQ5LjYzNyAzLjE1OSAxLjEyIDIuMTMyIDEuMDE4IDQuMDIgMi41MTQgNS41MiA0LjM0IDEuMjMxIDEuNTAyIDIuMTk0IDMuMjIgMi44NDEgNS4wNS40MzQgMS4yMzIuNzI2IDIuNTEzLjg2OSAzLjgxMS4wNjMuNTY5LjEwNCAxLjcxNC4xMDQgMS43MTR2NzIuMzljMCAwLS4wNDEgMS4xNDYtLjEwNCAxLjcxNi0uMTQ0IDEuMjk5LS40MzYgMi41ODEtLjg3MSAzLjgxMi0uNjQ4IDEuODMyLTEuNjEyIDMuNTUxLTIuODQ1IDUuMDUtMS40OTggMS44MjUtMy4zODkgMy4zMi01LjUxOSA0LjMzOC0xLjAxLjQ4Mi0yLjA2OS44NTctMy4xNTYgMS4xMTktLjQ5Ny4xMTktLjk5OS4yMTItMS41MDQuMjg3bC0yOCAzLjQ4M20tLjU1OC0xMDNoLTE5NC44OGMtOS4xMjQgMS4xMzUtMTguMjc4IDIuMDUyLTI3LjM3MiAzLjQwNS0uMTEzLjAxOS0uMjI2LjAzOS0uMzM4LjA2MS0uNjQxLjEzNC0xLjI2LjM0OC0xLjg0MS42NS0uOTMxLjQ4Ni0xLjc0NSAxLjE4My0yLjM4NCAyLjAxLS40OTcuNjQ4LS44ODkgMS4zNzYtMS4xNjEgMi4xNDYtLjI5OS44NDYtLjQ2MSAyLjYyOS0uNDYxIDIuNjI5bC4wMDEgNzIuMjhjMCAwIC4xOTMgMS44MzQuNTE5IDIuNjk3LjI4Ny43NjIuNjkyIDEuNDc5IDEuMjAyIDIuMTE0LjY3MS44MzcgMS41MjQgMS41MjggMi40OTMgMS45OTEuNTk4LjI4NiAxLjIzMi40NzkgMS44ODQuNTkybC4wODcuMDE0LjAzMi4wMDQgMjcuMzM5IDMuNDAxaDE5NC44OGMwIDAgMTguMjc4LTIuMDUyIDI3LjM3MS0zLjQwNS42ODEtLjExIDEuMzQzLS4zMDcgMS45NjYtLjYwNCAxLjAyLS40ODggMS45MS0xLjIyNiAyLjU5OC0yLjEyMi40OC0uNjI1Ljg2MS0xLjMyNSAxLjEzMi0yLjA2NS4zMTctLjg2OS40OS0yLjcxLjQ5LTIuNzFsLS4wMDEtNzIuMjhjMCAwLS4xOTMtMS44MzQtLjUxOS0yLjY5OC0uMjg3LS43NjEtLjY5Mi0xLjQ3OC0xLjIwMS0yLjExMy0uNjU1LS44MTYtMS40ODItMS40OTQtMi40MjItMS45NTYtLjYxOS0uMzA1LTEuMjc4LS41MDktMS45NTYtLjYyN2wtLjA4Ni0uMDEzLS4wMzItLjAwNS0yNy4zNC0zLjQwMW0tMTMuNDQyIDM4YzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOW0tNDIgMGM0Ljk2NyAwIDkgNC4wMyA5IDkgMCA0Ljk2Ny00LjAzIDktOSA5LTQuOTY3IDAtOS00LjAzLTktOSAwLTQuOTY3IDQuMDMtOSA5LTltLTEyNiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOSIgc3R5bGU9ImZpbGw6IzkxYzUzYiIvPgo8L3N2Zz4K"},8955:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzQxNDEzZSIvPgogPHBhdGggZD0ibTg0IDI0NGMwLTguMjQzIDUuODMyLTE1LjM0NyAxNC0xNi41MTZsNTYtMy40ODNoMjUybDU2IDMuNDgzYzguMTgzIDEuMTY5IDE0IDguMjgxIDE0IDE2LjUxNnY3MmMwIDguMjQzLTUuODMyIDE1LjM0Ny0xNCAxNi41MTZsLTU2IDMuNDgzaC0yNTJsLTU2LTMuNDgzYy04LjE4My0xLjE2OS0xNC04LjI4MS0xNC0xNi41MTZ2LTcyIiBzdHlsZT0iZmlsbC1vcGFjaXR5Oi4xNDkwMiIvPgogPHBhdGggZD0ibTQwNiAzMzZoLTI1MmwtNTYtMy40ODNjLS41MDYtLjA3NS0xLjAxLS4xNjgtMS41MDYtLjI4OC0xLjA4OS0uMjYxLTIuMTQ5LS42MzctMy4xNTktMS4xMi0yLjEzMi0xLjAxOC00LjAyLTIuNTE0LTUuNTItNC4zNC0xLjIzMS0xLjUwMi0yLjE5NC0zLjIyLTIuODQxLTUuMDUtLjQzNC0xLjIzMi0uNzI2LTIuNTEzLS44NjktMy44MTEtLjA2My0uNTY5LS4xMDQtMS43MTQtLjEwNC0xLjcxNHYtNzIuMzljMCAwIC4wNDEtMS4xNDYuMTA0LTEuNzE2LjE0NC0xLjI5OS40MzYtMi41ODEuODcxLTMuODEyLjY0OC0xLjgzMiAxLjYxMi0zLjU1MSAyLjg0NS01LjA1IDEuNDk4LTEuODI1IDMuMzg5LTMuMzIgNS41MTktNC4zMzggMS4wMS0uNDgyIDIuMDY5LS44NTcgMy4xNTYtMS4xMTkuNDk3LS4xMTkuOTk5LS4yMTIgMS41MDQtLjI4N2w1Ni0zLjQ4M2gyNTJjMCAwIDM3LjMzIDIuMzIyIDU2IDMuNDgzLjUwNi4wNzUgMS4wMS4xNjggMS41MDYuMjg4IDEuMDg5LjI2MSAyLjE0OS42MzcgMy4xNTkgMS4xMiAyLjEzMiAxLjAxOCA0LjAyIDIuNTE0IDUuNTIgNC4zNCAxLjIzMSAxLjUwMiAyLjE5NCAzLjIyIDIuODQxIDUuMDUuNDM0IDEuMjMyLjcyNiAyLjUxMy44NjkgMy44MTEuMDYzLjU2OS4xMDQgMS43MTQuMTA0IDEuNzE0djcyLjM5YzAgMC0uMDQxIDEuMTQ2LS4xMDQgMS43MTYtLjE0NCAxLjI5OS0uNDM2IDIuNTgxLS44NzEgMy44MTItLjY0OCAxLjgzMi0xLjYxMiAzLjU1MS0yLjg0NSA1LjA1LTEuNDk4IDEuODI1LTMuMzg5IDMuMzItNS41MTkgNC4zMzgtMS4wMS40ODItMi4wNjkuODU3LTMuMTU2IDEuMTE5LS40OTcuMTE5LS45OTkuMjEyLTEuNTA0LjI4N2wtNTYgMy40ODNtLS4yOC0xMDNoLTI1MS40NGwtNTUuMjkgMy40MzljLS4xMDMuMDE5LS4yMDYuMDQtLjMwOC4wNjMtLjYwOC4xNDItMS4xOTUuMzU2LTEuNzQ1LjY1MS0uOTUxLjUxLTEuNzc2IDEuMjQxLTIuNDEzIDIuMTExLS40NTEuNjE0LS44MDggMS4yOTUtMS4wNjIgMi4wMS0uMjk5Ljg0NS0uNDYxIDIuNjI4LS40NjEgMi42Mjh2NzIuMjhjMCAwIC4xOTMgMS44MzQuNTE5IDIuNjk4LjI4Ny43NjEuNjkyIDEuNDc4IDEuMjAyIDIuMTEzLjY3MS44MzggMS41MjQgMS41MjggMi40OTMgMS45OTEuNTYzLjI2OSAxLjE2LjQ1OSAxLjc3NC41NzJsNTUuMjkgMy40MzloMjUxLjQ0bDU1LjI5LTMuNDM5Yy42MTItLjExMyAxLjIwNy0uMzAyIDEuNzY5LS41NyAxLjAyLS40ODggMS45MS0xLjIyNiAyLjU5OC0yLjEyMi40OC0uNjI1Ljg2MS0xLjMyNSAxLjEzMi0yLjA2NS4zMTctLjg2OS40OS0yLjcxLjQ5LTIuNzFsLS4wMDEtNzIuMjhjMCAwLS4xOTMtMS44MzQtLjUxOS0yLjY5OC0uMjg3LS43NjEtLjY5Mi0xLjQ3OC0xLjIwMS0yLjExMy0uNjcyLS44MzgtMS41MjUtMS41MjgtMi40OTUtMS45OTItLjU2My0uMjY5LTEuMTYtLjQ1OC0xLjc3My0uNTcxbC01NS4yOS0zLjQzOW0tNDEuNzIgMzhjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOW0tNDIgMGM0Ljk2NyAwIDkgNC4wMyA5IDkgMCA0Ljk2Ny00LjAzIDktOSA5LTQuOTY3IDAtOS00LjAzLTktOSAwLTQuOTY3IDQuMDMtOSA5LTltLTg0IDBjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOSIgc3R5bGU9ImZpbGw6I2Y3OTQxZSIvPgo8L3N2Zz4K"},72066:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzFlNDI1NCIvPgogPHBhdGggZD0ibTQyMCAyMzhjMC03LjcyNi02LjI3NS0xNC0xNC0xNGgtMjUyYy03LjcyNyAwLTE0IDYuMjc0LTE0IDE0djg0YzAgNy43MjcgNi4yNzMgMTQgMTQgMTRoMjUyYzcuNzI2IDAgMTQtNi4yNzMgMTQtMTR2LTg0IiBzdHlsZT0iZmlsbC1vcGFjaXR5Oi4xNDkwMiIvPgogPHBhdGggZD0ibTQwNi4xOCAyMjRjMCAwIC45NTIuMDM2IDEuNDI2LjA5IDEuMDM2LjExOSAyLjA1OS4zNTQgMy4wNDMuNzAxIDEuOTE2LjY3NSAzLjY3NSAxLjc3NCA1LjEyOCAzLjE5MiAxLjQ5MiAxLjQ1OCAyLjY1NCAzLjI0NiAzLjM3MiA1LjIwNC4zNTguOTc4LjYwNiAxLjk5Ny43MzcgMy4wMy4wNjguNTMyLjExMiAxLjYwMS4xMTIgMS42MDF2ODQuMzZjMCAwLS4wNDQgMS4wNjktLjExMiAxLjYwMS0uMTMxIDEuMDMzLS4zNzkgMi4wNTItLjczNyAzLjAzLS43MTggMS45NTgtMS44OCAzLjc0Ni0zLjM3MiA1LjIwNC0xLjQ1MyAxLjQxOC0zLjIxMiAyLjUxNy01LjEyOCAzLjE5Mi0uOTg0LjM0Ny0yLjAxLjU4Mi0zLjA0My43MDEtLjQ3NC4wNTQtMS40MjYuMDktMS40MjYuMDloLTI1Mi4zNmMwIDAtLjk1Mi0uMDM2LTEuNDI2LS4wOS0xLjAzNi0uMTE5LTIuMDU5LS4zNTQtMy4wNDMtLjcwMS0xLjkxNi0uNjc1LTMuNjc1LTEuNzc0LTUuMTI4LTMuMTkyLTEuNDkyLTEuNDU4LTIuNjU0LTMuMjQ2LTMuMzcyLTUuMjA0LS4zNTgtLjk3OC0uNjA2LTEuOTk3LS43MzctMy4wMy0uMDY4LS41MzItLjExMi0xLjYwMS0uMTEyLTEuNjAxdi04NC4zNmMwIDAgLjA0NC0xLjA2OS4xMTItMS42MDEuMTMxLTEuMDMzLjM3OS0yLjA1Mi43MzctMy4wMy43MTgtMS45NTggMS44OC0zLjc0NiAzLjM3Mi01LjIwNCAxLjQ1My0xLjQxOCAzLjIxMi0yLjUxNyA1LjEyOC0zLjE5Mi45ODQtLjM0NyAyLjAxLS41ODIgMy4wNDMtLjcwMS40NzQtLjA1NCAxLjQyNi0uMDkgMS40MjYtLjA5aDI1Mi4zNm0tMjUyLjE1IDguOTk5YzAgMC0uNDA4LjAxLS42MTEuMDMzLS40MDYuMDQ3LS44MDYuMTQ0LTEuMTg4LjI4OS0xLjM0NC41MTEtMi40MzQgMS42MTQtMi45MjggMi45NjMtLjE5NC41MjktLjMgMS42NDgtLjMgMS42NDhsLjAwMSA4NC4yYzAgMCAuMTEyIDEuMDc0LjI5OSAxLjU4Mi40OTQgMS4zNDkgMS41ODQgMi40NTIgMi45MjggMi45NjMuNTI0LjIgMS42MzguMzIgMS42MzguMzJoMjUyLjI3YzAgMCAxLjExNC0uMTIgMS42MzktLjMyIDEuMzQzLS41MTEgMi40MzMtMS42MTQgMi45MjctMi45NjMuMTg2LS41MDguMjk5LTEuNTgyLjI5OS0xLjU4MnYtODQuMjdjMCAwLS4xMi0xLjExNC0uMzItMS42MzgtLjUxMS0xLjM0NC0xLjYxNC0yLjQzNC0yLjk2My0yLjkyOC0uNTA4LS4xODctMS41ODItLjI5OS0xLjU4Mi0uMjk5bC0yNTIuMS0uMDAybTEwMS43MSA2My40MmgtNi45NjN2LTMyLjgzOGg2Ljk2M3YxMi44N2gxMy4wMXYtMTIuODdoNi45NDF2MzIuODM4aC02Ljk0MXYtMTQuMTczaC0xMy4wMXYxNC4xNzNtMzcuNTMyIDBoLTkuMjk4di0zMi44MzhoMTAuMzA5YzUuMzYxIDAgOS41MjQgMS40MTUgMTIuNDg4IDQuMjQ1IDIuOTY1IDIuODMgNC40NDggNi43ODMgNC40NDggMTEuODYgMCA1LjQwNS0xLjUzOSA5LjU0NS00LjYxNiAxMi40Mi0zLjA3NyAyLjg3NS03LjUyIDQuMzEzLTEzLjMzMSA0LjMxM20xLjM3MS0yNy4xM2gtMy43MDd2MjEuMzgzaDIuOTg4YzYuNzA4IDAgMTAuMDYtMy42MDEgMTAuMDYtMTAuODA0IDAtNy4wNS0zLjExNC0xMC41NzktOS4zNDMtMTAuNTc5IiBzdHlsZT0iZmlsbDojMzFhZmMwIi8+Cjwvc3ZnPgo="},79029:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzJmMzM0ZCIvPgogPHBhdGggZD0ibTg0IDI0NGMwLTguMjQzIDUuODMyLTE1LjM0NyAxNC0xNi41MTZsNTYtMy40ODNoMjUybDU2IDMuNDgzYzguMTgzIDEuMTY5IDE0IDguMjgxIDE0IDE2LjUxNnY3MmMwIDguMjQzLTUuODMyIDE1LjM0Ny0xNCAxNi41MTZsLTU2IDMuNDgzaC0yNTJsLTU2LTMuNDgzYy04LjE4My0xLjE2OS0xNC04LjI4MS0xNC0xNi41MTZ2LTcyIiBzdHlsZT0iZmlsbC1vcGFjaXR5Oi4xNDkwMiIvPgogPHBhdGggZD0ibTQwNiAzMzZoLTI1MmwtNTYtMy40ODNjLS41MDYtLjA3NS0xLjAxLS4xNjgtMS41MDYtLjI4OC0xLjA4OS0uMjYxLTIuMTQ5LS42MzctMy4xNTktMS4xMi0yLjEzMi0xLjAxOC00LjAyLTIuNTE0LTUuNTItNC4zNC0xLjIzMS0xLjUwMi0yLjE5NC0zLjIyLTIuODQxLTUuMDUtLjQzNC0xLjIzMi0uNzI2LTIuNTEzLS44NjktMy44MTEtLjA2My0uNTY5LS4xMDQtMS43MTQtLjEwNC0xLjcxNHYtNzIuMzljMCAwIC4wNDEtMS4xNDYuMTA0LTEuNzE2LjE0NC0xLjI5OS40MzYtMi41ODEuODcxLTMuODEyLjY0OC0xLjgzMiAxLjYxMi0zLjU1MSAyLjg0NS01LjA1IDEuNDk4LTEuODI1IDMuMzg5LTMuMzIgNS41MTktNC4zMzggMS4wMS0uNDgyIDIuMDY5LS44NTcgMy4xNTYtMS4xMTkuNDk3LS4xMTkuOTk5LS4yMTIgMS41MDQtLjI4N2w1Ni0zLjQ4M2gyNTJjMCAwIDM3LjMzIDIuMzIyIDU2IDMuNDgzLjUwNi4wNzUgMS4wMS4xNjggMS41MDYuMjg4IDEuMDg5LjI2MSAyLjE0OS42MzcgMy4xNTkgMS4xMiAyLjEzMiAxLjAxOCA0LjAyIDIuNTE0IDUuNTIgNC4zNCAxLjIzMSAxLjUwMiAyLjE5NCAzLjIyIDIuODQxIDUuMDUuNDM0IDEuMjMyLjcyNiAyLjUxMy44NjkgMy44MTEuMDYzLjU2OS4xMDQgMS43MTQuMTA0IDEuNzE0djcyLjM5YzAgMC0uMDQxIDEuMTQ2LS4xMDQgMS43MTYtLjE0NCAxLjI5OS0uNDM2IDIuNTgxLS44NzEgMy44MTItLjY0OCAxLjgzMi0xLjYxMiAzLjU1MS0yLjg0NSA1LjA1LTEuNDk4IDEuODI1LTMuMzg5IDMuMzItNS41MTkgNC4zMzgtMS4wMS40ODItMi4wNjkuODU3LTMuMTU2IDEuMTE5LS40OTcuMTE5LS45OTkuMjEyLTEuNTA0LjI4N2wtNTYgMy40ODNtLS4yOC0xMDNoLTI1MS40NGwtNTUuMjkgMy40MzljLS4xMDMuMDE5LS4yMDYuMDQtLjMwOC4wNjMtLjYwOC4xNDItMS4xOTUuMzU2LTEuNzQ1LjY1MS0uOTUxLjUxLTEuNzc2IDEuMjQxLTIuNDEzIDIuMTExLS40NTEuNjE0LS44MDggMS4yOTUtMS4wNjIgMi4wMS0uMjk5Ljg0NS0uNDYxIDIuNjI4LS40NjEgMi42Mjh2NzIuMjhjMCAwIC4xOTMgMS44MzQuNTE5IDIuNjk4LjI4Ny43NjEuNjkyIDEuNDc4IDEuMjAyIDIuMTEzLjY3MS44MzggMS41MjQgMS41MjggMi40OTMgMS45OTEuNTYzLjI2OSAxLjE2LjQ1OSAxLjc3NC41NzJsNTUuMjkgMy40MzloMjUxLjQ0bDU1LjI5LTMuNDM5Yy42MTItLjExMyAxLjIwNy0uMzAyIDEuNzY5LS41NyAxLjAyLS40ODggMS45MS0xLjIyNiAyLjU5OC0yLjEyMi40OC0uNjI1Ljg2MS0xLjMyNSAxLjEzMi0yLjA2NS4zMTctLjg2OS40OS0yLjcxLjQ5LTIuNzFsLS4wMDEtNzIuMjhjMCAwLS4xOTMtMS44MzQtLjUxOS0yLjY5OC0uMjg3LS43NjEtLjY5Mi0xLjQ3OC0xLjIwMS0yLjExMy0uNjcyLS44MzgtMS41MjUtMS41MjgtMi40OTUtMS45OTItLjU2My0uMjY5LTEuMTYtLjQ1OC0xLjc3My0uNTcxbC01NS4yOS0zLjQzOW0tNDEuNzIgMzhjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOW0tNDIgMGM0Ljk2NyAwIDkgNC4wMyA5IDkgMCA0Ljk2Ny00LjAzIDktOSA5LTQuOTY3IDAtOS00LjAzLTktOSAwLTQuOTY3IDQuMDMtOSA5LTltLTg0IDBjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOSIgc3R5bGU9ImZpbGw6Izk0NTA4ZCIvPgo8L3N2Zz4K"},21054:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTQ2Ljg5NyAyNEgzLjEyN2EuMzAyLjMwMiAwIDAgMS0uMjI1LS4xYy0uMDY2LS4wNjYtLjA2Ni0uMTY1LS4wNjYtLjI2NS4wMzItLjIuMDY2LS40LjA2Ni0uNTk5QTIuNjAzIDIuNjAzIDAgMCAwIC4zIDIwLjQ0SC4yOTlBLjI5OC4yOTggMCAwIDEgMCAyMC4xNDF2LTEuMzAzYzAtLjE2NS4xMzQtLjI5OC4yOTktLjI5OGEuNTMyLjUzMiAwIDEgMCAwLTEuMDY0LjI5OC4yOTggMCAwIDEtLjI5OS0uMjk5di0xLjMwMmMwLS4xNjUuMTM0LS4yOTguMjk5LS4yOThhLjUzMi41MzIgMCAxIDAgMC0xLjA2NS4yOTguMjk4IDAgMCAxLS4yOTktLjI5OFYxMi45MWMwLS4xNjUuMTM0LS4yOTguMjk5LS4yOThhLjUzMi41MzIgMCAxIDAgMC0xLjA2NUEuMjk4LjI5OCAwIDAgMSAwIDExLjI1VjkuOTQ1YzAtLjE2NS4xMzQtLjI5OS4yOTktLjI5OWEuNTMzLjUzMyAwIDEgMC0uMDAxLTEuMDY0QS4zNjMuMzYzIDAgMCAxIDAgOC4yMjVWNi45MmMwLS4xNjUuMTM0LS4yOTguMjk5LS4yOThhLjUzMi41MzIgMCAxIDAgMC0xLjA2NUEuMjk4LjI5OCAwIDAgMSAwIDUuMjU4di0xLjI2QzAgMy44MzUuMTM0IDMuNy4yOTkgMy43YTIuNjAzIDIuNjAzIDAgMCAwIDIuNjAzLTIuNTk2di0uMDJjMC0uMjY2LS4wMzctLjQ2Mi0uMS0uNjg1LS4wMzMtLjEgMC0uMi4wMzQtLjI2NUMyLjkwMy4wNjYgMy4wMDMgMCAzLjA2OSAwaDQzLjg2MmMuMSAwIC4yLjAzNC4yMzMuMTM0LjA2OC4wNjYuMDY4LjE2NS4wMzkuMjQ1YTIuMzk2IDIuMzk2IDAgMCAwLS4xMDUuNzA1di4wMkEyLjYwMyAyLjYwMyAwIDAgMCA0OS43IDMuN2guMDAxYy4xNjUgMCAuMjk5LjEzNC4yOTkuMjk5djEuMjU5YS4yOTguMjk4IDAgMCAxLS4yOTkuMjk4bC0uMDAyLjAwM2EuNTM5LjUzOSAwIDAgMC0uNTMzLjUzOHYuMDE2YzAgLjI5LjIzNS41MjUuNTI2LjUyNWguMDA4Yy4xNjUgMCAuMjk5LjEzNC4yOTkuMjk5djEuMjk4YS4yOTguMjk4IDAgMCAxLS4yOTkuMjk4LjUzMi41MzIgMCAxIDAgMCAxLjA2NWMuMTY1IDAgLjI5OS4xMzMuMjk5LjI5OHYxLjI5OWEuMjk4LjI5OCAwIDAgMS0uMjk5LjI5OC41MzIuNTMyIDAgMSAwIDAgMS4wNjVjLjE2NSAwIC4yOTkuMTMzLjI5OS4yOTh2MS4yOTlhLjI5OC4yOTggMCAwIDEtLjI5OS4yOTguNTMyLjUzMiAwIDEgMCAwIDEuMDY0Yy4xNjUgMCAuMjk5LjEzNC4yOTkuMjk5djEuMjk4YS4yOTguMjk4IDAgMCAxLS4yOTkuMjk4LjUzMi41MzIgMCAxIDAgMCAxLjA2NWMuMTY1IDAgLjI5OS4xMzMuMjk5LjI5OHYxLjI5OWEuMjk4LjI5OCAwIDAgMS0uMjk5LjI5OCAyLjYwMyAyLjYwMyAwIDAgMC0yLjYwMyAyLjU5N2MwIC4yLjA0My4zOTguMDY2LjU5Ny4wMTYuMTM4LjA1OC4yNiAwIC4zNDQtLjA2Mi4wOS0uMTY2LjA5LS4yNjYuMDl6TTQ2LjUzMS42NUgzLjQ3Yy4wMzQuMTY2LjAzNC4zNjYuMDM0LjUzMkEzLjIxOSAzLjIxOSAwIDAgMSAuNiA0LjM3N3YuNjkyYy41LjEzNC44MzMuNTY2LjgzMyAxLjA5OEExLjE1IDEuMTUgMCAwIDEgLjYgNy4yNjR2Ljc2NmMuNS4xMzMuODMzLjU2Ni44MzMgMS4wOThBMS4xNSAxLjE1IDAgMCAxIC42IDEwLjIyNXYuNzY1Yy41LjEzNC44MzMuNTY2LjgzMyAxLjA5OUExLjE1IDEuMTUgMCAwIDEgLjYgMTMuMTg2di43NjVjLjUuMTMzLjgzMy41NjYuODMzIDEuMDk4QTEuMTUgMS4xNSAwIDAgMSAuNiAxNi4xNDZ2Ljc2NmMuNS4xMzMuODMzLjU2Ni44MzMgMS4wOThBMS4xNSAxLjE1IDAgMCAxIC42IDE5LjEwN2wuMDEzLjczM2EzLjIxNiAzLjIxNiAwIDAgMSAyLjg4OSAzLjE5NGMuMDMzLjEgMCAuMjMzIDAgLjMzM0g0Ni41M2MwLS4xMzMtLjAzNC0uMjMzLS4wMzQtLjMzM0EzLjIxOSAzLjIxOSAwIDAgMSA0OS40IDE5Ljg0di0uNzQ0YTEuMTEgMS4xMSAwIDAgMS0uODMzLTEuMDk4QTEuMTUgMS4xNSAwIDAgMSA0OS40IDE2Ljl2LS43NjVhMS4xMSAxLjExIDAgMCAxLS44MzMtMS4wOTkgMS4xNSAxLjE1IDAgMCAxIC44MzMtMS4wOTd2LS43NjVhMS4xMSAxLjExIDAgMCAxLS44MzMtMS4wOTggMS4xNSAxLjE1IDAgMCAxIC44MzMtMS4wOTd2LS43NjZhMS4xMSAxLjExIDAgMCAxLS44MzMtMS4wOTggMS4xNSAxLjE1IDAgMCAxIC44MzMtMS4wOTd2LS43NjZhMS4wOTUgMS4wOTUgMCAwIDEtLjgzMy0xLjA4NkExLjE1IDEuMTUgMCAwIDEgNDkuNCA1LjA3bC0uMDEzLS42OTNhMy4yMTYgMy4yMTYgMCAwIDEtMi44ODktMy4xOTVjMC0uMiAwLS4zNjYuMDM0LS41MzJ6bS00Ljg2NyAxOS44Mkg4LjM3NGMtMS44NjYgMC0zLjQwMS0xLjUzLTMuNDAxLTMuMzk1VjcuMDU0YTMuNDEgMy40MSAwIDAgMSAzLjQwMS0zLjM5NmgzMy4yODdjMS44NyAwIDMuNDA1IDEuNTMzIDMuNDA1IDMuMzk1djEwLjAyYzAgMS44NjMtMS41MzMgMy4zOTYtMy40MDIgMy4zOTZ6TTQxLjY3IDQuMjlIMjAuNjgydjE1LjU1aDIwLjk4NGEyLjc2IDIuNzYgMCAwIDAgMi43NjMtMi43NTZ2LS4wMDdoLjAwNFY3LjA0N0EyLjc2IDIuNzYgMCAwIDAgNDEuNjcgNC4yOXptLTIxLjU4OCAwSDguMzczYy0xLjUzNSAwLTIuNzY4IDEuMi0yLjc2OCAyLjczdjEwLjA2M2EyLjc1NyAyLjc1NyAwIDAgMCAyLjc2IDIuNzU0aDExLjcxN1Y0LjI5em0tNy4wMDcgMTMuMzg1SDkuODA2bDMuMjctNS42MjctMy4yNy01LjYyN2gzLjI3bDMuMjY4IDUuNjI3LTMuMjY5IDUuNjI3em0yNy43OTItMS43NmMwIC40LS4xNDUuNzE2LS40MzQuOTQ3LS4yODkuMjMxLS42OTEuMzQ2LTEuMjA3LjM0Ni0uNDc0IDAtLjg5NC0uMDg5LTEuMjYtLjI2N3YtLjg3NWMuMy4xMzQuNTU1LjIyOC43NjMuMjgzLjIwOC4wNTQuMzk4LjA4Mi41Ny4wODIuMjA3IDAgLjM2Ny0uMDQuNDc3LS4xMTkuMTEtLjA3OS4xNjYtLjE5Ni4xNjYtLjM1MmEuMzg0LjM4NCAwIDAgMC0uMDc0LS4yMzIuODE3LjgxNyAwIDAgMC0uMjEzLS4xOTcgNS42OCA1LjY4IDAgMCAwLS41NzctLjMgMi43NDIgMi43NDIgMCAwIDEtLjYxMy0uMzY3IDEuMzg4IDEuMzg4IDAgMCAxLS4zMjUtLjQxMSAxLjE2NyAxLjE2NyAwIDAgMS0uMTIyLS41NDZjMC0uMzkzLjEzNC0uNzAyLjQtLjkyOC4yNjctLjIyNC42MzYtLjMzNiAxLjEwNy0uMzM2LjIzMiAwIC40NTIuMDI3LjY2Mi4wODIuMjEuMDU0LjQzLjEzLjY1OS4yM2wtLjMwNS43MzJhNC41MjEgNC41MjEgMCAwIDAtLjU4OS0uMjAzIDEuODk2IDEuODk2IDAgMCAwLS40NTgtLjA1N2MtLjE3OCAwLS4zMTUuMDQxLS40MS4xMjRhLjQwOS40MDkgMCAwIDAtLjE0NC4zMjVjMCAuMDgzLjAyLjE1NS4wNTkuMjE3LjAzOC4wNjIuMS4xMjIuMTg0LjE3OS4wODQuMDU4LjI4My4xNjIuNTk3LjMxMi40MTcuMTk5LjcwMi4zOTcuODU2LjU5Ny4xNTUuMTk5LjIzLjQ0NC4yMy43MzN6bS00LjQ5MiAwYzAgLjQtLjE0Ni43MTYtLjQzNS45NDctLjI4OC4yMzEtLjY5MS4zNDYtMS4yMDcuMzQ2LS40NzQgMC0uODk0LS4wODktMS4yNi0uMjY3di0uODc1Yy4zLjEzNC41NTUuMjI4Ljc2NC4yODMuMjA3LjA1NC4zOTcuMDgyLjU3LjA4Mi4yMDcgMCAuMzY2LS4wNC40NzYtLjExOS4xMTEtLjA3OS4xNjYtLjE5Ni4xNjYtLjM1MmEuMzkuMzkgMCAwIDAtLjA3My0uMjMyLjg0Ljg0IDAgMCAwLS4yMTQtLjE5NyA1LjY4IDUuNjggMCAwIDAtLjU3Ny0uMyAyLjc0MiAyLjc0MiAwIDAgMS0uNjEzLS4zNjcgMS4zODggMS4zODggMCAwIDEtLjMyNS0uNDExIDEuMTY3IDEuMTY3IDAgMCAxLS4xMjItLjU0NmMwLS4zOTMuMTM0LS43MDIuNDAxLS45MjguMjY2LS4yMjQuNjM1LS4zMzYgMS4xMDYtLjMzNi4yMzIgMCAuNDUyLjAyNy42NjIuMDgyLjIxLjA1NC40My4xMy42NTkuMjNsLS4zMDUuNzMyYTQuNTIxIDQuNTIxIDAgMCAwLS41ODgtLjIwMyAxLjg5NiAxLjg5NiAwIDAgMC0uNDU5LS4wNTdjLS4xNzggMC0uMzE1LjA0MS0uNDEuMTI0YS40MTIuNDEyIDAgMCAwLS4xNDQuMzI1YzAgLjA4My4wMi4xNTUuMDU5LjIxNy4wMzguMDYyLjEuMTIyLjE4NC4xNzkuMDg0LjA1OC4yODMuMTYyLjU5Ny4zMTIuNDE3LjE5OS43MDIuMzk3Ljg1Ni41OTcuMTU1LjE5OS4yMzIuNDQ0LjIzMi43MzN6bS0xMS43MDcgMS4yMzNoLS45NDR2LTQuNDQxaDEuNDIyYy41NCAwIC45NS4xMTUgMS4yMy4zNDcuMjgyLjIzMi40MjIuNTc4LjQyMiAxLjAzNyAwIC40NzgtLjE1Ljg0NC0uNDQ5IDEuMDk3LS4yOTkuMjUzLS43MjQuMzgtMS4yNzYuMzhoLS40MDV2MS41OHptNy40NiAwaC0xLjAxN2wtLjMyMi0xLjA1OGgtMS42MjJsLS4zMjMgMS4wNThoLTEuMDE3bDEuNTctNC40NmgxLjE1NGwxLjU3NyA0LjQ2ek0zMC41NjQgMTUuM2MtLjI5OS0uOTU4LS40NjctMS41LS41MDQtMS42MjVhNC4zMDMgNC4zMDMgMCAwIDEtLjA4LS4yOTljLS4wNjguMjYtLjI1OS45LS41NzYgMS45MjRoMS4xNnptLTUuNDY4LTEuODIzaC0uNDI4djEuMzE4aC4zMWMuMjkgMCAuNTA3LS4wNTcuNjUyLS4xNzEuMTQzLS4xMTUuMjE1LS4yOC4yMTUtLjUgMC0uMjItLjA2LS4zODMtLjE4LS40ODktLjEyMS0uMTA2LS4zMS0uMTU4LS41NjktLjE1OHptMTAuMzcxLTUuNjQ0SDMzLjg1di45NzZoMS41MDZ2Ljc3MWgtMS41MDZ2MS4xNDZoMS42MTh2Ljc3N2gtMi41NjJWNy4wNjNoMi41NjJ2Ljc3MXptLTYuMDEyIDIuODkzaDEuODA1di43NzdoLTIuNzVWNy4wNjNoLjk0NXYzLjY2NHptLTQuNzg3Ljc3N2gtLjk0NFY3LjA2M2gxLjQyMmMuNTQgMCAuOTUuMTE2IDEuMjMuMzQ4LjI4Mi4yMzIuNDIyLjU3Ny40MjIgMS4wMzggMCAuNDc4LS4xNS44NDMtLjQ0OSAxLjA5Ni0uMjk5LjI1NC0uNzI0LjM4LTEuMjc2LjM4aC0uNDA1djEuNTc5em0xMy4wNTEgMGgtMS4wMWwxLjQ3NS0yLjI5LTEuMzgtMi4xNTFoMS4wNGwuOTU5IDEuNTk4Ljk0LTEuNTk4aDEuMDE3bC0xLjM5NyAyLjIwMiAxLjUwMyAyLjIzOWgtMS4wNzdsLTEuMDM1LTEuNjgtMS4wMzUgMS42OHptLTEyLjYyMy0zLjY3aC0uNDI4djEuMzE5aC4zMWMuMjkgMCAuNTA3LS4wNTguNjUyLS4xNzEuMTQzLS4xMTUuMjE1LS4yODIuMjE1LS41IDAtLjIyMS0uMDYtLjM4NC0uMTgtLjQ5LS4xMjEtLjEwNC0uMzEtLjE1OC0uNTY5LS4xNTh6IiBmaWxsPSIjRTVBMDBEIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4KPC9zdmc+Cg=="},83579:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTQ4IiBoZWlnaHQ9IjM2MCIgdmlld0JveD0iMCAwIDU0OCAzNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5Hcm91cDwvdGl0bGU+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0xOTYgMTczdjEzSDgxdi0xNCIvPjxtYXNrIGlkPSJqIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTE1IiBoZWlnaHQ9IjE0IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNhIi8+PC9tYXNrPjxwYXRoIGQ9Ik02LjUyMiAxNzNDMi45MiAxNzMgMCAxNzAuNjMxIDAgMTY3LjcxVjUuMjlDMCAyLjM3IDIuOTIgMCA2LjUyMiAwaDI2Mi45NTZDMjczLjA4IDAgMjc2IDIuMzY5IDI3NiA1LjI5djE2Mi40MmMwIDIuOTIxLTIuOTIgNS4yOS02LjUyMiA1LjI5SDYuNTIyeiIgaWQ9ImIiLz48bWFzayBpZD0iayIgeD0iMCIgeT0iMCIgd2lkdGg9IjI3NiIgaGVpZ2h0PSIxNzMiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2IiLz48L21hc2s+PHBhdGggaWQ9ImMiIGQ9Ik0xMyAxNjAuMTg1aDI0OS45MVYxM0gxM3oiLz48bWFzayBpZD0ibCIgeD0iMCIgeT0iMCIgd2lkdGg9IjI0OS45MTEiIGhlaWdodD0iMTQ3LjE4NSIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYyIvPjwvbWFzaz48cmVjdCBpZD0iZCIgd2lkdGg9IjE5MiIgaGVpZ2h0PSIxNDAiIHJ4PSI2Ii8+PG1hc2sgaWQ9Im0iIHg9IjAiIHk9IjAiIHdpZHRoPSIxOTIiIGhlaWdodD0iMTQwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNkIi8+PC9tYXNrPjxwYXRoIGlkPSJlIiBkPSJNMjAgMTFoMTUydjExOEgyMHoiLz48bWFzayBpZD0ibiIgeD0iMCIgeT0iMCIgd2lkdGg9IjE1MiIgaGVpZ2h0PSIxMTgiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2UiLz48L21hc2s+PGNpcmNsZSBpZD0iZiIgY3g9IjEyIiBjeT0iNzAiIHI9IjYiLz48bWFzayBpZD0ibyIgeD0iMCIgeT0iMCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNmIi8+PC9tYXNrPjxwYXRoIGlkPSJnIiBkPSJNMCAxOGg3MnY4NEgweiIvPjxtYXNrIGlkPSJwIiB4PSIwIiB5PSIwIiB3aWR0aD0iNzIiIGhlaWdodD0iODQiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2ciLz48L21hc2s+PGNpcmNsZSBpZD0iaCIgY3g9IjM2IiBjeT0iMTA5IiByPSI1Ii8+PG1hc2sgaWQ9InEiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjaCIvPjwvbWFzaz48cmVjdCBpZD0iaSIgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyMCIgcng9IjguNCIvPjxtYXNrIGlkPSJyIiB4PSIwIiB5PSIwIiB3aWR0aD0iNzIiIGhlaWdodD0iMTIwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNpIi8+PC9tYXNrPjwvZGVmcz48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI3MiA4NykiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI2opIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNhIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjaykiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2IiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNsKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjYyIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik0xMzcuMDQyIDEyMC43NUgxMTdsMjIuMTktMzQuMzc1TDExNyA1MmgyMC4wNDJsMjIuMTkgMzQuMzc1eiIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDIyMCkiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI20pIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNkIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjbikiIHN0cm9rZS13aWR0aD0iNCIgeGxpbms6aHJlZj0iI2UiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNvKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjZiIvPjxjaXJjbGUgZmlsbD0iI0JCQiIgY3g9IjE4MCIgY3k9IjcwIiByPSIyIi8+PHBhdGggZmlsbD0iI0Y4QUQxOCIgZD0iTTk0LjU4IDEwMkg3NmwyMC42NDUtMzAuOTY4TDc2IDM4aDE4LjU4bDIwLjY0NiAzMy4wMzJ6Ii8+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYwKSI+PHJlY3Qgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyMCIgcng9IjguNCIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3ApIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNnIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjcSkiIHN0cm9rZS13aWR0aD0iNCIgeGxpbms6aHJlZj0iI2giLz48cmVjdCBmaWxsPSIjQkJCIiB4PSIzMSIgeT0iMTAiIHdpZHRoPSIxMC44IiBoZWlnaHQ9IjIuNCIgcng9IjEuMiIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3IpIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNpIi8+PHBhdGggZD0iTTM1LjAzMiA3OUgyNGwxMi4yNTgtMTguMzg3TDI0IDQxaDExLjAzMkw0Ny4yOSA2MC42MTN6IiBmaWxsPSIjRjhBRDE4Ii8+PC9nPjwvZz48L3N2Zz4="},87414:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODEwIiBoZWlnaHQ9IjIzMCIgdmlld0JveD0iMCAwIDgxMCAyMzAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5QTVMg4oaSIENvbXB1dGVyPC90aXRsZT48ZGVmcz48cGF0aCBkPSJNMTU5LjU5NSAyMDcuNDc3Yy0uNDk0LTIuNDctMi42NS05LjczMi0zLjM0Ny0yMS40NDRIOTkuMzZjLS42OTggMTEuNzEyLTIuODUzIDE4Ljk3NC0zLjM0NiAyMS40NDQtLjk3NiA0Ljg4LTQuNzkgOC44MjktMTIuMDQgMTEuMDU5LTUuOTEyIDEuODE5LTUuMTU4IDEwLjY5MyAxLjY3NCAxMC42OTNoODQuMzE0YzYuODMxIDAgNy41ODctOC44NzMgMS42NzMtMTAuNjkzLTcuMjUtMi4yMy0xMS4wNjQtNi4xNzgtMTIuMDQtMTEuMDU5eiIgaWQ9ImEiLz48bWFzayBpZD0iZCIgeD0iMCIgeT0iMCIgd2lkdGg9Ijk1LjYzMyIgaGVpZ2h0PSI0My4xOTYiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTI1NiAxNDcuNXYzMS41NjRjMCA1LjUyNy00LjQ3IDEwLjAwOC05Ljk5NiAxMC4wMDhIOS45OTZjLTUuNTIgMC05Ljk5Ni00LjQ3Ni05Ljk5Ni0xMC4wMDhWMTAuMDAzQzAgNC40OCA0LjQ3IDAgOS45OTYgMGgyMzYuMDA4QzI1MS41MjQgMCAyNTYgNC40ODUgMjU2IDEwLjAwM1YxNDcuNXoiIGlkPSJiIi8+PG1hc2sgaWQ9ImUiIHg9IjAiIHk9IjAiIHdpZHRoPSIyNTYiIGhlaWdodD0iMTg5LjA3MiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYiIvPjwvbWFzaz48Y2lyY2xlIGlkPSJjIiBjeD0iMTEwIiBjeT0iMTEwIiByPSIxMTAiLz48bWFzayBpZD0iZiIgeD0iMCIgeT0iMCIgd2lkdGg9IjIyMCIgaGVpZ2h0PSIyMjAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2MiLz48L21hc2s+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTUzKSIgc3Ryb2tlPSIjQkJCIj48dXNlIG1hc2s9InVybCgjZCkiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2EiLz48dXNlIG1hc2s9InVybCgjZSkiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2IiLz48cGF0aCBkPSJNMS41IDE0Ny41aDI1My4xOTgiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDUpIj48dXNlIHN0cm9rZT0iI0Y4QUQxOCIgbWFzaz0idXJsKCNmKSIgc3Ryb2tlLXdpZHRoPSI4IiBmaWxsPSIjMUYxRjFGIiB4bGluazpocmVmPSIjYyIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik0xMTIuMTM0IDE3OS42NjdINzIuMTFsNDQuMzEtNjkuMDU2LTQ0LjMxLTY5LjA1NWg0MC4wMjNsNDQuMzEgNjkuMDU1eiIvPjwvZz48ZyBmaWxsPSIjQkJCIj48cGF0aCBkPSJNNTA0LjUgMTE1bC0xNCAxMy41di0yN3pNNDc5IDExOGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnoiLz48L2c+PC9nPjwvc3ZnPg=="},13353:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzE1IiBoZWlnaHQ9IjE0OSIgdmlld0JveD0iMCAwIDcxNSAxNDkiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5NRURJQSBJQ09OUzwvdGl0bGU+PGRlZnM+PHBhdGggZD0iTTU3Ljg5NyAwSDEwLjAwOEM0LjQ4MiAwIDAgNC40ODEgMCAxMC4wMDh2NS41MDVMNTcuODk3IDB6bTU2Ljc3NiAwaDMuODljNS41MjcgMCAxMC4wMDggNC40ODIgMTAuMDA4IDEwLjAwOHY0MS44NkwxMTQuNjczIDB6bTEzLjg5OCAxMTQuMTY4djQuMzk1YzAgNS41MjctNC40ODEgMTAuMDA4LTEwLjAwOCAxMC4wMDhINzQuODE4bDUzLjc1My0xNC40MDN6TTE2LjAyIDEyOC41NzFoLTYuMDFDNC40OCAxMjguNTcxIDAgMTI0LjA5IDAgMTE4LjU2M1Y2OC43ODlsMTYuMDE5IDU5Ljc4MnoiIGlkPSJhIi8+PG1hc2sgaWQ9ImoiIHg9Ii0yIiB5PSItMiIgd2lkdGg9IjEzMi41NzEiIGhlaWdodD0iMTMyLjU3MSI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTS0yLTJoMTMyLjU3MXYxMzIuNTcxSC0yeiIvPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHJlY3QgaWQ9ImIiIHdpZHRoPSIxMjguNTcxIiBoZWlnaHQ9IjEyOC41NzEiIHJ4PSIxMCIvPjxtYXNrIGlkPSJrIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTI4LjU3MSIgaGVpZ2h0PSIxMjguNTcxIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNiIi8+PC9tYXNrPjxwYXRoIGQ9Ik0zOS43ODIgMjYuNTkyVjgzLjk5Yy0zLjI3OS0xLjAzNC03LjIzNC0xLjE2LTExLjI2Ny0uMTAzLTguNzY3IDIuMjk3LTE0LjQ4OCA5LjI2LTEyLjc3IDE1LjUzNSAxLjcxOCA2LjI3NiAxMC4yMjYgOS41MDUgMTguOTk1IDcuMTk3IDguMTAxLTIuMTE2IDE0LjcxLTguMjE3IDE0LjE1LTE0LjA3NmwuMDQxLTQxLjcxOCA0MC4zODYtNS4zODV2MzMuMTY1Yy0zLjI4LTEuMDM0LTcuMjM1LTEuMTYtMTEuMjY4LS4xMDItOC43NjYgMi4yOTYtMTQuNDg4IDkuMjU5LTEyLjc3IDE1LjUzNXMxMC4yMjYgOS41MDQgMTguOTk1IDcuMTk2YzguMTAxLTIuMTE2IDE0LjcxMS04LjIxNyAxNC4xNTEtMTQuMDc1IDAtMTQuNzk1LjA0LTY1Ljk1LjA0LTY1Ljk1bC01OC42ODMgNS4zODR6IiBpZD0iYyIvPjxtYXNrIGlkPSJsIiB4PSIwIiB5PSIwIiB3aWR0aD0iODMuMDI1IiBoZWlnaHQ9Ijg2LjE1NiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYyIvPjwvbWFzaz48cGF0aCBkPSJNNjYuMTEzIDkuNTk1bC00MC43MDUtMy41NmE4Ljg0NSA4Ljg0NSAwIDAgMC05LjU4NiA4LjA0bC0uMzkgNC40NTcgNTAuNjgtOC45Mzd6bTU1LjczNCA0Ljg3N2w1LjQ3NS40NzljNC44NjguNDI1IDguNDcgNC43MTcgOC4wNDQgOS41ODNsLTMuODk1IDQ0LjUxOC05LjYyNC01NC41OHptNC4yMDEgMTE2LjU2bC0uNDcgNS4zODNhOC44NDUgOC44NDUgMCAwIDEtOS41ODYgOC4wNGwtNDQuMTYtMy44NjMgNTQuMjE2LTkuNTZ6bS0xMDQuNTkgNS4xNTNsLTcuMzgtLjY0NWMtNC44NjgtLjQyNi04LjQ3LTQuNzE4LTguMDQ0LTkuNTg0bDQuNTE3LTUxLjYyNSAxMC45MDYgNjEuODU0eiIgaWQ9ImQiLz48bWFzayBpZD0ibSIgeD0iLTIiIHk9Ii0yIiB3aWR0aD0iMTMzLjQiIGhlaWdodD0iMTQyLjQ5Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNCA0aDEzMy40djE0Mi40OUg0eiIvPjx1c2UgeGxpbms6aHJlZj0iI2QiLz48L21hc2s+PHBhdGggZD0iTS42MDcgOS4wMTVBOC44NDUgOC44NDUgMCAwIDEgOS40NTUuMTY5SDExMS43NmM0Ljg4NyAwIDguODQ4IDMuOTYxIDguODQ4IDguODQ2djExMi4zMDhhOC44NDUgOC44NDUgMCAwIDEtOC44NDggOC44NDZIOS40NTVjLTQuODg2IDAtOC44NDgtMy45NjItOC44NDgtOC44NDZWOS4wMTV6IiBpZD0iZSIvPjxtYXNrIGlkPSJuIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEzMCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZSIvPjwvbWFzaz48cGF0aCBpZD0iZiIgZD0iTTE0LjYzNiAxNC4xOTdoOTAuNjQ3djgyLjAxNEgxNC42MzZ6Ii8+PG1hc2sgaWQ9Im8iIHg9IjAiIHk9IjAiIHdpZHRoPSI5MC42NDciIGhlaWdodD0iODIuMDE0IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNmIi8+PC9tYXNrPjxwYXRoIGlkPSJnIiBkPSJNMTQuNjM2IDY1Ljk5NmwzMC4yMTYtMjMuNzQxIDIzLjc0IDI2Ljk3OCAxNC4wMy0xMC43OTEgMjIuNjYxIDIwLjUwNHYxNy4yNjZIMTQuNjM2eiIvPjxtYXNrIGlkPSJwIiB4PSIwIiB5PSIwIiB3aWR0aD0iOTAuNjQ3IiBoZWlnaHQ9IjUzLjk1NyIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZyIvPjwvbWFzaz48cGF0aCBkPSJNNjMuOTcyIDguNjgxTDIyLjEyIDUuMDE5YTUgNSAwIDAgMC01LjQyIDQuNTM5bC0uNjYzIDcuNTc1IDQ3LjkzNS04LjQ1MnptNDcuODg1IDQuMTlsMTAuODcyLjk1YTUuMDA0IDUuMDA0IDAgMCAxIDQuNTQ5IDUuNDExbC00Ljc0MiA1NC4yLTEwLjY3OS02MC41NjJ6bTUuMzkxIDEyMC45OThsLS42NTEgNy40NDdhNSA1IDAgMCAxLTUuNDIgNC41MzlsLTQxLjM3NC0zLjYyIDQ3LjQ0NS04LjM2NnptLTk2LjA0MiA0LjExNGwtMTAuNjM4LS45M2E1LjAwNCA1LjAwNCAwIDAgMS00LjU0OS01LjQxMWw0LjY2Ni01My4zMjcgMTAuNTIgNTkuNjY4eiIgaWQ9ImgiLz48bWFzayBpZD0icSIgeD0iLTIiIHk9Ii0yIiB3aWR0aD0iMTI1LjI5NyIgaGVpZ2h0PSIxNDQuODc0Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNCAzaDEyNS4yOTd2MTQ0Ljg3NEg0eiIvPjx1c2UgeGxpbms6aHJlZj0iI2giLz48L21hc2s+PHBhdGggZD0iTTExIDEzLjk5NEE1IDUgMCAwIDEgMTYuMDAzIDloMTAwLjk5NEE1LjAwNCA1LjAwNCAwIDAgMSAxMjIgMTMuOTk0djEyMi41NWE1LjAwMSA1LjAwMSAwIDAgMS01IDQuOTkzSDE2Yy0yLjc2MSAwLTUtMi4yNDQtNS00Ljk5M1YxMy45OTR6IiBpZD0iaSIvPjxtYXNrIGlkPSJyIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTExIiBoZWlnaHQ9IjEzMi41MzciIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2kiLz48L21hc2s+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgc3Ryb2tlPSIjRDhGRjk1IiBzdHJva2Utd2lkdGg9IjQiPjx1c2UgbWFzaz0idXJsKCNqKSIgeGxpbms6aHJlZj0iI2EiIHRyYW5zZm9ybT0icm90YXRlKDUgMjQxLjM5NiA2NjczLjYwNykiLz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgtMTAgNDEwLjE1IC0zMjI4LjA3KSI+PHVzZSBtYXNrPSJ1cmwoI2spIiB4bGluazpocmVmPSIjYiIvPjx1c2UgbWFzaz0idXJsKCNsKSIgeGxpbms6aHJlZj0iI2MiLz48L2c+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI3OSAtMSkiIHN0cm9rZT0iI0ZGQTBERSIgc3Ryb2tlLXdpZHRoPSI0Ij48dXNlIG1hc2s9InVybCgjbSkiIHhsaW5rOmhyZWY9IiNkIi8+PGcgdHJhbnNmb3JtPSJyb3RhdGUoLTEwIDEyMi42NSA3LjEzNSkiPjx1c2UgbWFzaz0idXJsKCNuKSIgeGxpbms6aHJlZj0iI2UiLz48dXNlIG1hc2s9InVybCgjbykiIHhsaW5rOmhyZWY9IiNmIi8+PHVzZSBtYXNrPSJ1cmwoI3ApIiB4bGluazpocmVmPSIjZyIvPjwvZz48L2c+PGcgc3Ryb2tlPSIjQTRFMkZGIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMSAtMSkiPjx1c2UgbWFzaz0idXJsKCNxKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjaCIvPjx1c2UgbWFzaz0idXJsKCNyKSIgc3Ryb2tlLXdpZHRoPSI0IiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAgNjYuNSA3NS4yNjkpIiB4bGluazpocmVmPSIjaSIvPjxwYXRoIHN0cm9rZS13aWR0aD0iMiIgZD0iTTExLjgyMyAzMS4wNTNsOS43OS0xLjcyNyAxLjcyNSA5Ljc5LTkuNzg5IDEuNzI2ek0xNS45OTQgNTQuNzFsOS43OS0xLjcyNSAxLjcyNiA5Ljc4OS05Ljc5IDEuNzI2ek0yMC4xNjYgNzguMzY4bDkuNzktMS43MjcgMS43MjUgOS43OS05Ljc4OSAxLjcyNXpNMjQuMzM3IDEwMi4wMjZsOS43OS0xLjcyNiAxLjcyNiA5Ljc4OS05Ljc5IDEuNzI2ek0yOC41MSAxMjUuNjgybDkuNzg4LTEuNzI2IDEuNzI2IDkuNzktOS43ODkgMS43MjV6TTkzLjQgMTYuNjY5bDkuNzktMS43MjYgMS43MjUgOS43ODktOS43ODggMS43MjZ6TTk3LjU3MyA0MC4zMjZsOS43ODktMS43MjYgMS43MjYgOS43OS05Ljc5IDEuNzI1ek0xMDEuNzQzIDYzLjk4NGw5Ljc5LTEuNzI2IDEuNzI2IDkuNzg4LTkuNzkgMS43Mjd6TTEwNS45MTQgODcuNjRsOS43OS0xLjcyNSAxLjcyNSA5Ljc4OS05Ljc4OSAxLjcyNnpNMTEwLjA4NiAxMTEuMjk5bDkuNzktMS43MjcgMS43MjYgOS43OS05Ljc5IDEuNzI2ek0zMS43MTYgMzIuNjU5bDUyLjIxLTkuMjA2IDcuMTkxIDQwLjc4OC01Mi4yMSA5LjIwNnpNNDEuNDk3IDg4LjEzMmw1Mi4yMS05LjIwNiA3LjE5MSA0MC43ODgtNTIuMjEgOS4yMDZ6Ii8+PC9nPjwvZz48L3N2Zz4="},49730:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTQ1IiBoZWlnaHQ9IjM2MCIgdmlld0JveD0iMCAwIDk0NSAzNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5QTEFZIE1FRElBIElDT05TPC90aXRsZT48ZGVmcz48cGF0aCBpZD0iYSIgZD0iTTE5NiAxNzJ2MTRIODF2LTE0Ii8+PG1hc2sgaWQ9Im0iIHg9IjAiIHk9IjAiIHdpZHRoPSIxMTUiIGhlaWdodD0iMTQiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTYuNTIyIDE3M0MyLjkyIDE3MyAwIDE3MC42MzEgMCAxNjcuNzFWNS4yOUMwIDIuMzcgMi45MiAwIDYuNTIyIDBoMjYyLjk1NkMyNzMuMDggMCAyNzYgMi4zNjkgMjc2IDUuMjl2MTYyLjQyYzAgMi45MjEtMi45MiA1LjI5LTYuNTIyIDUuMjlINi41MjJ6IiBpZD0iYiIvPjxtYXNrIGlkPSJuIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjc2IiBoZWlnaHQ9IjE3MyIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYiIvPjwvbWFzaz48cGF0aCBpZD0iYyIgZD0iTTEzIDE2MC4xODVoMjQ5LjkxVjEzSDEzeiIvPjxtYXNrIGlkPSJvIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQ5LjkxMSIgaGVpZ2h0PSIxNDcuMTg1IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNjIi8+PC9tYXNrPjxyZWN0IGlkPSJkIiB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE0MCIgcng9IjYiLz48bWFzayBpZD0icCIgeD0iMCIgeT0iMCIgd2lkdGg9IjE5MiIgaGVpZ2h0PSIxNDAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2QiLz48L21hc2s+PHBhdGggaWQ9ImUiIGQ9Ik0yMCAxMWgxNTJ2MTE4SDIweiIvPjxtYXNrIGlkPSJxIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTUyIiBoZWlnaHQ9IjExOCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZSIvPjwvbWFzaz48Y2lyY2xlIGlkPSJmIiBjeD0iMTIiIGN5PSI3MCIgcj0iNiIvPjxtYXNrIGlkPSJyIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2YiLz48L21hc2s+PHBhdGggaWQ9ImciIGQ9Ik0wIDE4aDcydjg0SDB6Ii8+PG1hc2sgaWQ9InMiIHg9IjAiIHk9IjAiIHdpZHRoPSI3MiIgaGVpZ2h0PSI4NCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZyIvPjwvbWFzaz48Y2lyY2xlIGlkPSJoIiBjeD0iMzYiIGN5PSIxMDkiIHI9IjUiLz48bWFzayBpZD0idCIgeD0iMCIgeT0iMCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjEwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNoIi8+PC9tYXNrPjxyZWN0IGlkPSJpIiB3aWR0aD0iNzIiIGhlaWdodD0iMTIwIiByeD0iOC40Ii8+PG1hc2sgaWQ9InUiIHg9IjAiIHk9IjAiIHdpZHRoPSI3MiIgaGVpZ2h0PSIxMjAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2kiLz48L21hc2s+PHBhdGggZD0iTTE1OS41OTUgMjA3LjQ3N2MtLjQ5NC0yLjQ3LTIuNjUtOS43MzItMy4zNDctMjEuNDQ0SDk5LjM2Yy0uNjk4IDExLjcxMi0yLjg1MyAxOC45NzQtMy4zNDYgMjEuNDQ0LS45NzYgNC44OC00Ljc5IDguODI5LTEyLjA0IDExLjA1OS01LjkxMiAxLjgxOS01LjE1OCAxMC42OTMgMS42NzQgMTAuNjkzaDg0LjMxNGM2LjgzMSAwIDcuNTg3LTguODczIDEuNjczLTEwLjY5My03LjI1LTIuMjMtMTEuMDY0LTYuMTc4LTEyLjA0LTExLjA1OXoiIGlkPSJqIi8+PG1hc2sgaWQ9InYiIHg9IjAiIHk9IjAiIHdpZHRoPSI5NS42MzMiIGhlaWdodD0iNDMuMTk2IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNqIi8+PC9tYXNrPjxwYXRoIGQ9Ik0yNTYgMTQ3LjV2MzEuNTY0YzAgNS41MjctNC40NyAxMC4wMDgtOS45OTYgMTAuMDA4SDkuOTk2Yy01LjUyIDAtOS45OTYtNC40NzYtOS45OTYtMTAuMDA4VjEwLjAwM0MwIDQuNDggNC40NyAwIDkuOTk2IDBoMjM2LjAwOEMyNTEuNTI0IDAgMjU2IDQuNDg1IDI1NiAxMC4wMDNWMTQ3LjV6IiBpZD0iayIvPjxtYXNrIGlkPSJ3IiB4PSIwIiB5PSIwIiB3aWR0aD0iMjU2IiBoZWlnaHQ9IjE4OS4wNzIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2siLz48L21hc2s+PGNpcmNsZSBpZD0ibCIgY3g9IjU1IiBjeT0iNTUiIHI9IjU1Ii8+PG1hc2sgaWQ9IngiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMTAiIGhlaWdodD0iMTEwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNsIi8+PC9tYXNrPjwvZGVmcz48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDY2OSA4NykiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI20pIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNhIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjbikiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2IiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNvKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjYyIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik0xMzcuMDQyIDEyMC43NUgxMTdsMjIuMTktMzQuMzc1TDExNyA1MmgyMC4wNDJsMjIuMTkgMzQuMzc1eiIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzOTcgMjIwKSI+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjcCkiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2QiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNxKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjZSIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3IpIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNmIi8+PGNpcmNsZSBmaWxsPSIjQkJCIiBjeD0iMTgwIiBjeT0iNzAiIHI9IjIiLz48cGF0aCBmaWxsPSIjRjhBRDE4IiBkPSJNOTQuNTggMTAySDc2bDIwLjY0NS0zMC45NjhMNzYgMzhoMTguNThsMjAuNjQ2IDMzLjAzMnoiLz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDU3KSI+PHJlY3Qgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyMCIgcng9IjguNCIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3MpIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNnIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjdCkiIHN0cm9rZS13aWR0aD0iNCIgeGxpbms6aHJlZj0iI2giLz48cmVjdCBmaWxsPSIjQkJCIiB4PSIzMSIgeT0iMTAiIHdpZHRoPSIxMC44IiBoZWlnaHQ9IjIuNCIgcng9IjEuMiIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3UpIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNpIi8+PHBhdGggZD0iTTM1LjAzMiA3OUgyNGwxMi4yNTgtMTguMzg3TDI0IDQxaDExLjAzMkw0Ny4yOSA2MC42MTN6IiBmaWxsPSIjRjhBRDE4Ii8+PC9nPjxnIHN0cm9rZT0iI0JCQiIgc3Ryb2tlLXdpZHRoPSI0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik0zMzAuNTk4IDE4My4yNTRDMzQxLjM1NSAxNzIuNDEgMzQ4IDE1Ny40ODEgMzQ4IDE0MWMwLTE2LjcyMy02Ljg0MS0zMS44NDgtMTcuODc4LTQyLjcyOCIvPjxwYXRoIGQ9Ik0zMTkuOTg4IDE3Mi42NUMzMjguMDMzIDE2NC41MiAzMzMgMTUzLjM0IDMzMyAxNDFjMC0xMi41MjMtNS4xMTUtMjMuODUxLTEzLjM3LTMyLjAxTTMwOS41MDIgMTYxLjkyQTI5LjkwMiAyOS45MDIgMCAwIDAgMzE4IDE0MWMwLTguMzc2LTMuNDMzLTE1Ljk1MS04Ljk2OS0yMS4zOTQiLz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCA2NSkiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3YpIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNqIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjdykiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2siLz48cGF0aCBkPSJNMS41IDE0Ny41aDI1My4xOTgiIHN0cm9rZT0iI0JCQiIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzMgMjEpIj48dXNlIHN0cm9rZT0iI0Y4QUQxOCIgbWFzaz0idXJsKCN4KSIgc3Ryb2tlLXdpZHRoPSI2IiBmaWxsPSIjMUYxRjFGIiB4bGluazpocmVmPSIjbCIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik01Ni4zODIgODkuMzc1SDM2LjMzOUw1OC41MyA1NSAzNi4zNCAyMC42MjVoMjAuMDQzTDc4LjU3MiA1NXoiLz48L2c+PC9nPjwvZz48L3N2Zz4="},13838:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMTUiIHdpZHRoPSIzIiBoZWlnaHQ9IjE2IiByeD0iMSIgZmlsbD0iIzQ0NEY1NiIvPjxyZWN0IHg9IjEwIiB5PSIzIiB3aWR0aD0iMyIgaGVpZ2h0PSIxMyIgcng9IjEiIGZpbGw9IiM0NDRGNTYiLz48cmVjdCB4PSI1IiB5PSI3IiB3aWR0aD0iMyIgaGVpZ2h0PSI5IiByeD0iMSIgZmlsbD0iIzQ0NEY1NiIvPjxyZWN0IHk9IjEwIiB3aWR0aD0iMyIgaGVpZ2h0PSI2IiByeD0iMSIgZmlsbD0iI0U3NUI2MSIvPjwvc3ZnPg=="},468:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMTUiIHdpZHRoPSIzIiBoZWlnaHQ9IjE2IiByeD0iMSIgZmlsbD0iIzQ0NEY1NiIvPjxyZWN0IHg9IjEwIiB5PSIzIiB3aWR0aD0iMyIgaGVpZ2h0PSIxMyIgcng9IjEiIGZpbGw9IiM0NDRGNTYiLz48cmVjdCB4PSI1IiB5PSI3IiB3aWR0aD0iMyIgaGVpZ2h0PSI5IiByeD0iMSIgZmlsbD0iI0U1QTAwRCIvPjxyZWN0IHk9IjEwIiB3aWR0aD0iMyIgaGVpZ2h0PSI2IiByeD0iMSIgZmlsbD0iI0U1QTAwRCIvPjwvc3ZnPg=="},61721:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMTUiIHdpZHRoPSIzIiBoZWlnaHQ9IjE2IiByeD0iMSIgZmlsbD0iIzQ0NEY1NiIvPjxyZWN0IHg9IjEwIiB5PSIzIiB3aWR0aD0iMyIgaGVpZ2h0PSIxMyIgcng9IjEiIGZpbGw9IiNFNUEwMEQiLz48cmVjdCB4PSI1IiB5PSI3IiB3aWR0aD0iMyIgaGVpZ2h0PSI5IiByeD0iMSIgZmlsbD0iI0U1QTAwRCIvPjxyZWN0IHk9IjEwIiB3aWR0aD0iMyIgaGVpZ2h0PSI2IiByeD0iMSIgZmlsbD0iI0U1QTAwRCIvPjwvc3ZnPg=="},99717:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMTUiIHdpZHRoPSIzIiBoZWlnaHQ9IjE2IiByeD0iMSIgZmlsbD0iIzc1QUU5NCIvPjxyZWN0IHg9IjEwIiB5PSIzIiB3aWR0aD0iMyIgaGVpZ2h0PSIxMyIgcng9IjEiIGZpbGw9IiM3NUFFOTQiLz48cmVjdCB4PSI1IiB5PSI3IiB3aWR0aD0iMyIgaGVpZ2h0PSI5IiByeD0iMSIgZmlsbD0iIzc1QUU5NCIvPjxyZWN0IHk9IjEwIiB3aWR0aD0iMyIgaGVpZ2h0PSI2IiByeD0iMSIgZmlsbD0iIzc1QUU5NCIvPjwvc3ZnPg=="},43827:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDE8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTEwNzguMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJTdHJlbmd0aC1JbmRpY2F0b3JzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzc4LjAwMDAwMCwgNzU4LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLS0tMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDMyMC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNSIgZmlsbD0iIzUyNTI1MiIgeD0iMzUuNzQ0NjgwOSIgeT0iMCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMzIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5IiBmaWxsPSIjNTI1MjUyIiB4PSIyNi44MDg1MTA2IiB5PSI2LjQiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjI1LjYiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTIiIGZpbGw9IiM1MjUyNTIiIHg9IjE3Ljg3MjM0MDQiIHk9IjEyLjgiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjE5LjIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTMiIGZpbGw9IiM1MjUyNTIiIHg9IjguOTM2MTcwMjEiIHk9IjE5LjIiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjEyLjgiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTQiIGZpbGw9IiNEMDAyMUIiIHg9IjAiIHk9IjI1LjYiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjYuNCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},10487:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDI8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTk5OC4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMjQwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS01IiBmaWxsPSIjNTI1MjUyIiB4PSIzNS43NDQ2ODA5IiB5PSIwIiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIzMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHkiIGZpbGw9IiM1MjUyNTIiIHg9IjI2LjgwODUxMDYiIHk9IjYuNCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMjUuNiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMiIgZmlsbD0iIzUyNTI1MiIgeD0iMTcuODcyMzQwNCIgeT0iMTIuOCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTkuMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMyIgZmlsbD0iI0Y5ODkwMCIgeD0iOC45MzYxNzAyMSIgeT0iMTkuMiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTIuOCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNCIgZmlsbD0iI0Y5ODkwMCIgeD0iMCIgeT0iMjUuNiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iNi40IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},29321:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDM8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTkxOC4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMTYwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS01IiBmaWxsPSIjNTI1MjUyIiB4PSIzNS43NDQ2ODA5IiB5PSIwIiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIzMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHkiIGZpbGw9IiM1MjUyNTIiIHg9IjI2LjgwODUxMDYiIHk9IjYuNCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMjUuNiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMiIgZmlsbD0iI0Y5QkUwMyIgeD0iMTcuODcyMzQwNCIgeT0iMTIuOCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTkuMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMyIgZmlsbD0iI0Y5QkUwMyIgeD0iOC45MzYxNzAyMSIgeT0iMTkuMiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTIuOCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNCIgZmlsbD0iI0Y5QkUwMyIgeD0iMCIgeT0iMjUuNiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iNi40IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},59628:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDQ8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTgzOC4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS00IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgODAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTUiIGZpbGw9IiM1MjUyNTIiIHg9IjM1Ljc0NDY4MDkiIHk9IjAiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjMyIiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weSIgZmlsbD0iI0FDRDMyMSIgeD0iMjYuODA4NTEwNiIgeT0iNi40IiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIyNS42IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0yIiBmaWxsPSIjQUNEMzIxIiB4PSIxNy44NzIzNDA0IiB5PSIxMi44IiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIxOS4yIiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0zIiBmaWxsPSIjQUNEMzIxIiB4PSI4LjkzNjE3MDIxIiB5PSIxOS4yIiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIxMi44IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS00IiBmaWxsPSIjQUNEMzIxIiB4PSIwIiB5PSIyNS42IiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSI2LjQiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},89592:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTc1OC4wMDAwMDApIiBmaWxsPSIjN0VEMzIxIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS01Ij4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHkiIHg9IjI2LjgwODUxMDYiIHk9IjYuNCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMjUuNiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNSIgeD0iMzUuNzQ0NjgwOSIgeT0iMCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMzIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTIiIHg9IjE3Ljg3MjM0MDQiIHk9IjEyLjgiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjE5LjIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTMiIHg9IjguOTM2MTcwMjEiIHk9IjE5LjIiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjEyLjgiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTQiIHg9IjAiIHk9IjI1LjYiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjYuNCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},13781:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTI4MCAwQzEyNS41MTcgMCAwIDEyNS41MTcgMCAyODBzMTI1LjUxNyAyODAgMjgwIDI4MCAyODAtMTI1LjUxNyAyODAtMjgwUzQzNC40ODMgMCAyODAgMHoiIGZpbGw9IiM1MTU5NUUiLz4KICAgIDxwYXRoIGQ9Ik00MzIuMDY5IDQ2OC4yNzZjLTI0LjEzOCAyNi41NTItNzAgNTMuMTAzLTEwNi4yMDcgNTMuMTAzLTcuMjQxLTkuNjU1IDAtMTIuMDY5IDAtMjEuNzI0LTE5LjMxLTQuODI3LTMxLjM4LTIxLjcyNC00MS4wMzQtMzguNjItMi40MTQtMTkuMzEgMjQuMTM4LTM4LjYyMSAxNi44OTYtNTUuNTE4LTEyLjA2OSAyLjQxNC0yNi41NTItMi40MTQtMzYuMjA3LTkuNjU1LTQuODI3LTQuODI4LTkuNjU1LTkuNjU1LTEyLjA2OS0xNC40ODMtNy4yNDEtNC44MjctMTYuODk2LTcuMjQxLTI0LjEzOC05LjY1NS0yNi41NTEtOS42NTUtNTMuMTAzLTE5LjMxLTcyLjQxMy00MS4wMzQgMi40MTMtMTkuMzEtOS42NTYtMjguOTY2LTIxLjcyNS00My40NDktMTIuMDY5LTEyLjA2OS03LjI0MS0yNC4xMzgtMTIuMDY5LTQxLjAzNC00LjgyNy0xMi4wNy05LjY1NS0yMS43MjQtOS42NTUtMzMuNzkzIDAtMTIuMDcgNC44MjgtMjQuMTM4IDcuMjQyLTM2LjIwNyA3LjI0MS0yMS43MjQgMjEuNzI0LTQzLjQ0OCAyMS43MjQtNjcuNTg2IDIuNDE0LTkuNjU1LTE0LjQ4My0xMi4wNy0yLjQxNC0yNC4xMzggMTIuMDY5LTEyLjA3IDI4Ljk2Ni0yNi41NTIgNDguMjc2LTI2LjU1MiA5LjY1NSAwIDE0LjQ4MyA0LjgyOCAyNC4xMzggMi40MTQgOS42NTUtMi40MTQgMTkuMzEtNC44MjggMjguOTY1LTQuODI4IDE5LjMxLTIuNDE0IDM4LjYyMS03LjI0MSA1My4xMDQtMTkuMzFsMi40MTQgMi40MTRoMTQuNDgybDIuNDE0LTIuNDE0YzIxLjcyNCAxNi44OTYgNzIuNDE0IDkuNjU1IDY3LjU4NiA1MC42OXYyLjQxM2MtMTkuMzEgMi40MTQtMzMuNzkzIDAtNTMuMTAzLTcuMjQxdjIxLjcyNGMyOC45NjUgMTYuODk3IDY1LjE3MiAyOC45NjYgNzcuMjQxIDYwLjM0NS0xMi4wNjkgMTQuNDgzLTI2LjU1MSA3LjI0MS00My40NDggNy4yNDEtNC44MjggNC44MjgtNy4yNDEgOS42NTUtNC44MjggMTYuODk3LTEyLjA2OSA3LjI0MS0yNC4xMzggMTQuNDgzLTI4Ljk2NSAyOC45NjUtMi40MTQgNy4yNDIgMCAxOS4zMS0yLjQxNCAyNi41NTItNC44MjggOS42NTUtMTQuNDgzIDE2Ljg5Ny0xOS4zMSAyNi41NTIgMCAxNC40ODMgNy4yNDEgMjQuMTM4LTcuMjQyIDM2LjIwNy0xOS4zMSAwLTIxLjcyNC0xNC40ODMtMzYuMjA3LTE5LjMxLTEyLjA2OS00LjgyOC0yOC45NjUgMC00MS4wMzQtMi40MTQtMTkuMzEgNy4yNDEtMTYuODk3IDUzLjEwMyA5LjY1NSA0NS44NjIgMTIuMDctNC44MjggMTIuMDctMTIuMDcgMjguOTY2LTkuNjU2IDEyLjA2OSA3LjI0MiA0LjgyNyAyMS43MjUgNC44MjcgMzEuMzggNy4yNDIgNC44MjcgMTkuMzEgMi40MTQgMjQuMTM4IDEyLjA2OSAwIDcuMjQxLTIuNDE0IDE5LjMxIDIuNDE0IDI0LjEzOCA5LjY1NSAxNC40ODIgMzYuMjA3LTkuNjU1IDQzLjQ0OC0xMi4wNyAyMS43MjQtNy4yNCA0NS44NjItNC44MjcgNjcuNTg2LTQuODI3IDE2Ljg5NyAxMi4wNyA0My40NDkgNy4yNDIgNTcuOTMxIDI0LjEzOCA5LjY1Ni0yLjQxNCAxNi44OTctNy4yNDEgMjYuNTUyIDAtOS42NTUgMjguOTY2LTMzLjc5MyA1MC42OS01NS41MTcgNzIuNDE0eiIgZmlsbD0iI0EwQUFCMSIvPgogIDwvZz4KPC9zdmc+Cg=="},52373:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjQgMEMzNy4yNDU5IDAgNDggMTAuNzU0MSA0OCAyNEM0OCAzNy4yNDU5IDM3LjI0NTkgNDggMjQgNDhDMTAuNzU0MSA0OCAwIDM3LjI0NTkgMCAyNEMwIDEwLjc1NDEgMTAuNzU0MSAwIDI0IDBaIiBmaWxsPSIjRTVBMDBEIi8+CiAgPHBhdGggZD0iTTI0IDhMOCAyNUgyMVY0MEgyN1YyNUg0MEwyNCA4WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg=="},97125:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTEyLjcwOCAxNC42NjdhNS4zNCA1LjM0IDAgMCAxLTUuMzMzLTUuMzMzIDUuMzM5IDUuMzM5IDAgMCAxIDUuMzMzLTUuMzMzIDUuMzM5IDUuMzM5IDAgMCAxIDUuMzMzIDUuMzMzIDUuMzM5IDUuMzM5IDAgMCAxLTUuMzMzIDUuMzMzem0wLTkuMzM0Yy0yLjIwNSAwLTQgMS43OTUtNCA0czEuNzk1IDQgNCA0IDQtMS43OTUgNC00LTEuNzk1LTQtNC00ek0yMC4wNDEgMTZjLjM3IDAgLjY2Ny4yOTkuNjY3LjY2NyAwIDQuNzM3LTEuNjk1IDguNDkyLTQuNjY3IDEwLjM3N3Y4LjI4OWEuNjY3LjY2NyAwIDAgMS0uNjY3LjY2N2gtNS4zMzNhLjY2Ny42NjcgMCAwIDEtLjY2Ny0uNjY3di04LjI4OWMtMi45NzItMS44ODQtNC42NjctNS42MzgtNC42NjctMTAuMzc3IDAtLjM2OC4yOTktLjY2Ny42NjctLjY2N2gxNC42Njd6bS03LjI4IDEuMzMzaC0uMTA4bC0uNTg5IDcuMDgxLjY0My42NDMuNjQzLS42NDMtLjU4OS03LjA4MXptMi4yODQgOC43NTRsLS4wMDEtLjAwMWMyLjYxMi0xLjQ4NSA0LjE2Ni00LjY1NCA0LjMxNy04Ljc1M2gtNS4yNjRsLjYwOCA3LjI3OWEuNjY4LjY2OCAwIDAgMS0uMTkzLjUyN2wtMS4zMzMgMS4zMzNhLjY2OS42NjkgMCAwIDEtLjQ3Mi4xOTUuNjU0LjY1NCAwIDAgMS0uNDY5LS4xOTZsLTEuMzMzLTEuMzMzYS42Ny42NyAwIDAgMS0uMTkzLS41MjdsLjYwNy03LjI3N0g2LjA1NWMuMTUxIDQuMSAxLjcwNSA3LjI2OCA0LjMxNiA4Ljc1My4yMDguMTE5LjMzNy4zNC4zMzcuNTh2OGg0di04YzAtLjI0LjEyOS0uNDYxLjMzNy0uNTh6TTM1LjMzMyA1LjMzM2MuMzY4IDAgLjY2Ny4yOTkuNjY3LjY2N3YxOC42NjdhLjY2Ny42NjcgMCAwIDEtLjY2Ny42NjdIMjIuNjY2YS42NjcuNjY3IDAgMCAxIDAtMS4zMzRoMTJWNi42NjdIMjEuMzMzYS42NjcuNjY3IDAgMCAxIDAtMS4zMzRoMTR6TTIzLjAxNyAyMC41NDF2LS4wMDJhLjY2Ni42NjYgMCAwIDEtLjM5Mi0uODU2bDIuNS02LjcxN2EuNjcuNjcgMCAwIDEgLjM4NS0uMzkyLjY4LjY4IDAgMCAxIC41NDguMDMxbDMuMzg5IDEuNzcyIDEuNzUyLTUuMjU3YS42NjYuNjY2IDAgMSAxIDEuMjY0LjQyM2wtMiA2YS42Ny42NyAwIDAgMS0uMzgzLjQwOC42NzQuNjc0IDAgMCAxLS41NTctLjAyOGwtMy40MTMtMS43ODUtMi4yMzYgNi4wMTFhLjY2OS42NjkgMCAwIDEtLjg1Ny4zOTJ6IiBmaWxsPSIjQ0M3QjE5IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KPC9zdmc+Cg=="},7568:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8ZyBmaWxsPSIjQ0M3QjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzIDQpIj4KICAgIDxwYXRoIGQ9Ik0yNSwxNiBDMjAuNTg4LDE2IDE3LDE5LjU4OCAxNywyNCBDMTcsMjguNDEyIDIwLjU4OCwzMiAyNSwzMiBDMjkuNDEyLDMyIDMzLDI4LjQxMiAzMywyNCBDMzMsMTkuNTg4IDI5LjQxMiwxNiAyNSwxNiBaIE0yNSwzMC42NjcgQzIxLjMyNCwzMC42NjcgMTguMzMzLDI3LjY3NiAxOC4zMzMsMjQgQzE4LjMzMywyMC4zMjQgMjEuMzI0LDE3LjMzMyAyNSwxNy4zMzMgQzI4LjY3NiwxNy4zMzMgMzEuNjY3LDIwLjMyNCAzMS42NjcsMjQgQzMxLjY2NywyNy42NzYgMjguNjc2LDMwLjY2NyAyNSwzMC42NjcgWiIvPgogICAgPHBhdGggZD0iTTI1LDIwIEMyMi43OTUsMjAgMjEsMjEuNzk1IDIxLDI0IEMyMSwyNi4yMDUgMjIuNzk1LDI4IDI1LDI4IEMyNy4yMDUsMjggMjksMjYuMjA1IDI5LDI0IEMyOSwyMS43OTUgMjcuMjA1LDIwIDI1LDIwIFogTTI1LDI2LjY2NyBDMjMuNTI5LDI2LjY2NyAyMi4zMzMsMjUuNDcxIDIyLjMzMywyNCBDMjIuMzMzLDIyLjUyOSAyMy41MjksMjEuMzMzIDI1LDIxLjMzMyBDMjYuNDcxLDIxLjMzMyAyNy42NjcsMjIuNTI5IDI3LjY2NywyNCBDMjcuNjY3LDI1LjQ3MSAyNi40NzEsMjYuNjY3IDI1LDI2LjY2NyBaIi8+CiAgICA8cGF0aCBkPSJNMzIuMzMzIDkuMzMzTDEuNjY2IDkuMzMzQzEuMjk4IDkuMzMzLjk5OSA5LjYzMi45OTkgMTBMLjk5OSAyNi44MDFDLjk5OSAyOC4xOTcgMi4xNTggMjkuMzMzIDMuNTgzIDI5LjMzM0wxNC4zMzIgMjkuMzMzIDE0LjMzMiAyOCAzLjU4MyAyOEMyLjg5MiAyOCAyLjMzMiAyNy40NjMgMi4zMzIgMjYuODAxTDIuMzMyIDEwLjY2NiAzMS42NjUgMTAuNjY2IDMxLjY2NSAxNS45OTMgMzIuOTk4IDE1Ljk5MyAzMi45OTggMTBDMzIuOTk4IDkuNjMyIDMyLjY5OSA5LjMzMyAzMi4zMzEgOS4zMzNMMzIuMzMzIDkuMzMzek0zMSAwTDMgMEMxLjg5NyAwIDEgLjg5NyAxIDIuMDAxTDEgNy4zMzNDMSA3LjcwMSAxLjI5OSA4IDEuNjY3IDhMMzIuMzM0IDhDMzIuNzAyIDggMzMuMDAxIDcuNzAxIDMzLjAwMSA3LjMzM0wzMy4wMDEgMi4wMDFDMzMuMDAxLjg5NyAzMi4xMDQgNC40NDA4OTIxZS0xNiAzMS4wMDEgNC40NDA4OTIxZS0xNkwzMSAwek0zMS42MiAxLjc3MkwyNi43MjUgNi42NjcgMjMuMjc3IDYuNjY3IDI4LjYxIDEuMzM0IDMwLjk5OSAxLjMzNEMzMS4yODYgMS4zMzQgMzEuNTI2IDEuNTE4IDMxLjYxOSAxLjc3M0wzMS42MiAxLjc3MnpNMTIuNjExIDEuMzMzTDE2LjA1OSAxLjMzMyAxMC43MjYgNi42NjYgNy4yNzggNi42NjYgMTIuNjExIDEuMzMzek01LjM5MiA2LjY2N0wyLjYxMSA2LjY2NyA3Ljk0NCAxLjMzNCAxMC43MjUgMS4zMzQgNS4zOTIgNi42Njd6TTE3Ljk0NCAxLjMzM0wyMS4zOTIgMS4zMzMgMTYuMDU5IDYuNjY2IDEyLjYxMSA2LjY2NiAxNy45NDQgMS4zMzN6TTIzLjI3NyAxLjMzM0wyNi43MjUgMS4zMzMgMjEuMzkyIDYuNjY2IDE3Ljk0NCA2LjY2NiAyMy4yNzcgMS4zMzN6TTMgMS4zMzNMNi4wNTkgMS4zMzMgMi4zMzQgNS4wNTggMi4zMzQgMi4wMDFDMi4zMzQgMS42MzMgMi42MzMgMS4zMzMgMy4wMDEgMS4zMzNMMyAxLjMzM3pNMjguNjExIDYuNjY3TDMxLjY2NyAzLjYxMSAzMS42NjcgNi42NjcgMjguNjExIDYuNjY3eiIvPgogIDwvZz4KPC9zdmc+Cg=="},21696:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8ZyBmaWxsPSIjQ0M3QjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMCA0KSI+CiAgICA8cGF0aCBkPSJNMTUuOTUxLDE2LjQ0NCBDMTUuODUsMTYuMTkzIDE1LjYwOCwxNi4wMjkgMTUuMzM5LDE2LjAyOCBMMTIuNjY3LDE2LjAwNSBMMTIuNjY3LDEwIEMxMi42NjcsOS42MzIgMTIuMzY4LDkuMzMzIDEyLDkuMzMzIEw4LDkuMzMzIEM3LjYzMiw5LjMzMyA3LjMzMyw5LjYzMiA3LjMzMywxMCBMNy4zMzMsMTYgTDQuNjEsMTYgQzQuMzQxLDE2IDQuMDk3LDE2LjE2MyAzLjk5NCwxNi40MTIgQzMuODksMTYuNjYxIDMuOTQ3LDE2Ljk0OCA0LjEzOCwxNy4xMzkgTDkuNDcxLDIyLjQ3MiBDOS42MDIsMjIuNjAxIDkuNzcyLDIyLjY2NyA5Ljk0MywyMi42NjcgQzEwLjExMSwyMi42NjcgMTAuMjgsMjIuNjAzIDEwLjQxMSwyMi40NzUgTDE1LjgsMTcuMTcgQzE1Ljk5MiwxNi45ODEgMTYuMDUyLDE2LjY5NSAxNS45NDksMTYuNDQ1IEwxNS45NTEsMTYuNDQ0IFogTTkuOTQ4LDIxLjA2MSBMNi4yMiwxNy4zMzMgTDgsMTcuMzMzIEM4LjM2OCwxNy4zMzMgOC42NjcsMTcuMDM0IDguNjY3LDE2LjY2NiBMOC42NjcsMTAuNjY2IEwxMS4zMzQsMTAuNjY2IEwxMS4zMzQsMTYuNjY2IEMxMS4zMzQsMTcuMDMxIDExLjYyOSwxNy4zMyAxMS45OTUsMTcuMzMzIEwxMy43MTksMTcuMzQ4IEw5Ljk0OCwyMS4wNjEgWiIvPgogICAgPHBhdGggZD0iTTE2LDcuODg4NjA5MDVlLTMxIEw0LDcuODg4NjA5MDVlLTMxIEMyLjE2Myw3Ljg4ODYwOTA1ZS0zMSAwLjY2NywxLjQ5NSAwLjY2NywzLjMzMyBMMC42NjcsMjguNjY2IEMwLjY2NywzMC41MDUgMi4xNjMsMzEuOTk5IDQsMzEuOTk5IEwxNiwzMS45OTkgQzE3LjgzNywzMS45OTkgMTkuMzMzLDMwLjUwNCAxOS4zMzMsMjguNjY2IEwxOS4zMzMsMy4zMzMgQzE5LjMzMywxLjQ5NCAxNy44MzcsLTEuNzc2MzU2ODRlLTE1IDE2LDcuODg4NjA5MDVlLTMxIFogTTIsNi42NjcgTDE4LDYuNjY3IEwxOCwyNS4zMzQgTDIsMjUuMzM0IEwyLDYuNjY3IFogTTQsMS4zMzMgTDE2LDEuMzMzIEMxNy4xMDMsMS4zMzMgMTgsMi4yMyAxOCwzLjMzMyBMMTgsNS4zMzMgTDIsNS4zMzMgTDIsMy4zMzMgQzIsMi4yMyAyLjg5NywxLjMzMyA0LDEuMzMzIFogTTE2LDMwLjY2NyBMNCwzMC42NjcgQzIuODk3LDMwLjY2NyAyLDI5Ljc3IDIsMjguNjY3IEwyLDI2LjY2NyBMMTgsMjYuNjY3IEwxOCwyOC42NjcgQzE4LDI5Ljc3IDE3LjEwMywzMC42NjcgMTYsMzAuNjY3IFoiLz4KICAgIDxwYXRoIGQ9Ik02LjY2NyA0TDEzLjMzNCA0QzEzLjcwMiA0IDE0LjAwMSAzLjcwMSAxNC4wMDEgMy4zMzMgMTQuMDAxIDIuOTY1IDEzLjcwMiAyLjY2NiAxMy4zMzQgMi42NjZMNi42NjcgMi42NjZDNi4yOTkgMi42NjYgNiAyLjk2NSA2IDMuMzMzIDYgMy43MDEgNi4yOTkgNCA2LjY2NyA0ek0xMS4zMzMgMjguNjY3QzExLjMzMyAyOS40MDMgMTAuNzM2IDMwIDEwIDMwIDkuMjY0IDMwIDguNjY3IDI5LjQwMyA4LjY2NyAyOC42NjcgOC42NjcgMjcuOTMxIDkuMjY0IDI3LjMzNCAxMCAyNy4zMzQgMTAuNzM2IDI3LjMzNCAxMS4zMzMgMjcuOTMxIDExLjMzMyAyOC42Njd6Ii8+CiAgPC9nPgo8L3N2Zz4K"},52919:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8ZyBmaWxsPSIjQ0M3QjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0IDQpIj4KICAgIDxwYXRoIGQ9Ik0xMi41MzIgMTUuMjcyQzExLjIzMiAxNi41NzIgMTEuMjMyIDE4LjY4OCAxMi41MzIgMTkuOTg3IDEzLjE2MyAyMC42MTYgMTMuOTk5IDIwLjk2MiAxNC44ODkgMjAuOTYyIDE1Ljc3OSAyMC45NjIgMTYuNjE2IDIwLjYxNSAxNy4yNDYgMTkuOTg3IDE4LjU0NiAxOC42ODcgMTguNTQ2IDE2LjU3MSAxNy4yNDYgMTUuMjcyIDE1Ljk4NSAxNC4wMTUgMTMuNzkzIDE0LjAxNSAxMi41MzEgMTUuMjcyTDEyLjUzMiAxNS4yNzJ6TTE2LjMwNCAxOS4wNDRDMTUuNTQ5IDE5Ljc5OSAxNC4yMzEgMTkuNzk5IDEzLjQ3NiAxOS4wNDQgMTIuNjk2IDE4LjI2NCAxMi42OTYgMTYuOTk1IDEzLjQ3NiAxNi4yMTUgMTMuODUzIDE1LjgzOCAxNC4zNTYgMTUuNjMxIDE0Ljg5MSAxNS42MzEgMTUuNDI2IDE1LjYzMSAxNS45MjcgMTUuODM4IDE2LjMwNiAxNi4yMTUgMTcuMDgzIDE2Ljk5NSAxNy4wODMgMTguMjY0IDE2LjMwNSAxOS4wNDRMMTYuMzA0IDE5LjA0NHpNNS45MzIgMjIuODE1QzUuNjcyIDIyLjU1NSA1LjI0OSAyMi41NTUgNC45ODkgMjIuODE1IDQuNzI5IDIzLjA3NSA0LjcyOSAyMy40OTggNC45ODkgMjMuNzU4TDguNzYgMjcuNTI5QzguODkxIDI3LjY2IDkuMDYxIDI3LjcyNCA5LjIzMiAyNy43MjQgOS40MDMgMjcuNzI0IDkuNTczIDI3LjY1OSA5LjcwNCAyNy41MjkgOS45NjQgMjcuMjY5IDkuOTY0IDI2Ljg0NiA5LjcwNCAyNi41ODZMNS45MzIgMjIuODE1eiIvPgogICAgPHBhdGggZD0iTTMxLjQ2MSw1LjMzMyBMMzIuMzIyLDQuNDcyIEMzMi41ODIsNC4yMTIgMzIuNTgyLDMuNzg5IDMyLjMyMiwzLjUyOSBMMjguOTg5LDAuMTk2IEMyOC43MjksLTAuMDY0IDI4LjMwNiwtMC4wNjQgMjguMDQ2LDAuMTk2IEwyNy4xODUsMS4wNTcgTDI2LjMyNCwwLjE5NiBDMjYuMDY0LC0wLjA2NCAyNS42NDEsLTAuMDY0IDI1LjM4MSwwLjE5NiBDMjUuMTIxLDAuNDU2IDI1LjEyMSwwLjg3OSAyNS4zODEsMS4xMzkgTDI2LjI0MiwyIEwyNS4xODUsMy4wNTcgTDI0LjMyNCwyLjE5NiBDMjQuMDY0LDEuOTM2IDIzLjY0MSwxLjkzNiAyMy4zODEsMi4xOTYgQzIzLjEyMSwyLjQ1NiAyMy4xMjEsMi44NzkgMjMuMzgxLDMuMTM5IEwyNC4yNDIsNCBMMjIuNzE0LDUuNTI4IEMyMi40NTQsNS43ODggMjIuNDU0LDYuMjExIDIyLjcxNCw2LjQ3MSBMMjIuOTA5LDYuNjY3IEwxOC40MjgsMTEuMTQ4IEMxNy4zMDQsMTAuNDc1IDE2LjA4OCwxMC4xMjEgMTQuODgsMTAuMTIxIEMxMi4xMDUsMTAuMTIxIDkuOTAzLDExLjkxMiA5LjMwNywxNC41NTQgQzUuNjk0LDE0LjAxIDIuODAyLDE1LjQ5MyAxLjU3NiwxOC40NDkgQzAuMjUzLDIxLjY0MiAxLjI0NywyNS42NjkgNC4wNDgsMjguNDcgQzUuOTg1LDMwLjQwNyA4LjU0LDMxLjUxOCAxMS4wNTcsMzEuNTE4IEMxMy4zMjUsMzEuNTE4IDE1LjM1NCwzMC42MTcgMTYuNjI1LDI5LjA0NiBDMTcuNSwyNy45NjMgMTguNDAyLDI2LjA5NSAxNy45NjIsMjMuMjA5IEMxOS43MTgsMjIuODA4IDIxLjE1NSwyMS42NjggMjEuODgzLDIwLjA2NCBDMjIuNzIsMTguMjE5IDIyLjUyMywxNi4wMjMgMjEuMzcsMTQuMDkyIEwyNS44NTEsOS42MTEgTDI2LjA0Niw5LjgwNiBDMjYuMzA2LDEwLjA2NiAyNi43MjksMTAuMDY2IDI2Ljk4OSw5LjgwNiBMMjguNTE3LDguMjc4IEwyOS4zNzgsOS4xMzkgQzI5LjUxLDkuMjY4IDI5LjY4MSw5LjMzNCAyOS44NTEsOS4zMzQgQzMwLjAyMSw5LjMzNCAzMC4xOTIsOS4yNjkgMzAuMzIzLDkuMTM5IEMzMC41ODMsOC44NzkgMzAuNTgzLDguNDU2IDMwLjMyMyw4LjE5NiBMMjkuNDYsNy4zMzMgTDMwLjUxNyw2LjI3NiBMMzEuMzc4LDcuMTM3IEMzMS41MDksNy4yNjggMzEuNjc5LDcuMzMzIDMxLjg1LDcuMzMzIEMzMi4wMjEsNy4zMzMgMzIuMTkxLDcuMjY4IDMyLjMyMiw3LjEzOCBDMzIuNTgyLDYuODc4IDMyLjU4Miw2LjQ1NSAzMi4zMjIsNi4xOTUgTDMxLjQ1OSw1LjMzMiBMMzEuNDYxLDUuMzMzIFogTTI2LjUxOSw4LjM5MSBMMjYuMzI0LDguMTk2IEMyNi4wNjQsNy45MzYgMjUuNjQxLDcuOTM2IDI1LjM4MSw4LjE5NiBMMjAuMDQ4LDEzLjUyOSBDMTkuODIsMTMuNzU3IDE5Ljc4OCwxNC4xMTYgMTkuOTcyLDE0LjM4MSBDMjEuMTE5LDE2LjAyOSAyMS4zOCwxNy45NDkgMjAuNjY5LDE5LjUxNCBDMjAuMDMzLDIwLjkxNyAxOC43MzYsMjEuODIzIDE3LjExLDIyLjAwNSBDMTYuOTIzLDIyLjAyNiAxNi43NTMsMjIuMTI1IDE2LjY0MywyMi4yNzggQzE2LjUzMiwyMi40MyAxNi40OTIsMjIuNjIzIDE2LjUzMiwyMi44MDYgQzE3LjAwMSwyNC45OTQgMTYuNjczLDI2Ljg2MiAxNS41ODcsMjguMjA5IEMxNC41NzEsMjkuNDY2IDEyLjkyLDMwLjE4NiAxMS4wNTYsMzAuMTg2IEM4Ljg4OSwzMC4xODYgNi42NzcsMjkuMjE3IDQuOTg5LDI3LjUyOSBDMi41NjUsMjUuMTA1IDEuNjg4LDIxLjY2MiAyLjgwNiwxOC45NjEgQzMuNjQ1LDE2LjkzNiA1LjQ4MiwxNS43NzYgNy44NDYsMTUuNzc2IEM4LjQzNSwxNS43NzYgOS4wNjMsMTUuODQ3IDkuNzEsMTUuOTg1IEM5Ljg5NCwxNi4wMiAxMC4wODcsMTUuOTg1IDEwLjIzOSwxNS44NzMgQzEwLjM5MSwxNS43NjQgMTAuNDkxLDE1LjU5NCAxMC41MTIsMTUuNDA2IEMxMC43NzEsMTMuMDgxIDEyLjU2NSwxMS40NTUgMTQuODc3LDExLjQ1NSBDMTUuOTgyLDExLjQ1NSAxNy4xMDgsMTEuODMyIDE4LjEzNCwxMi41NDYgQzE4LjM5OCwxMi43MzEgMTguNzU3LDEyLjY5OCAxOC45ODYsMTIuNDcgTDI0LjMxOSw3LjEzNyBDMjQuNTc5LDYuODc3IDI0LjU3OSw2LjQ1NCAyNC4zMTksNi4xOTQgTDI0LjEyNCw1Ljk5OSBMMjguNTE1LDEuNjA4IEwzMC45MDYsMy45OTkgTDI2LjUxNSw4LjM5IEwyNi41MTksOC4zOTEgWiIvPgogIDwvZz4KPC9zdmc+Cg=="},31481:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTM1LjMzMyAyNi42NjdoLS42NjdWMjZhNC42NzIgNC42NzIgMCAwIDAtNC42NjctNC42NjdBNC42NzIgNC42NzIgMCAwIDAgMjUuMzMyIDI2di42NjdoLS42NjdhLjY2Ny42NjcgMCAwIDAtLjY2Ny42Njd2OGMwIC4zNjguMjk5LjY2Ny42NjcuNjY3aDEwLjY2N2EuNjY3LjY2NyAwIDAgMCAuNjY3LS42Njd2LThhLjY2Ny42NjcgMCAwIDAtLjY2Ny0uNjY3aC4wMDF6TTI2LjY2NyAyNkEzLjMzOCAzLjMzOCAwIDAgMSAzMCAyMi42NjcgMy4zMzggMy4zMzggMCAwIDEgMzMuMzMzIDI2di42NjdoLTYuNjY3VjI2aC4wMDF6bTggOC42NjdoLTkuMzMzVjI4aDkuMzMzdjYuNjY3ek0zMCAyOS4zMzNoLjAwMmMuNzM0IDAgMS4zMzMuNTk4IDEuMzMzIDEuMzMzIDAgLjQ4Ny0uMjc2Ljg5Ni0uNjY3IDEuMTI4di44NzJhLjY2Ny42NjcgMCAwIDEtMS4zMzQgMHYtLjg3MmMtLjM5MS0uMjMyLS42NjctLjY0MS0uNjY3LTEuMTI4IDAtLjczNC41OTgtMS4zMzMgMS4zMzMtMS4zMzN6bS01LjM0OS0xNi42NjZoLjAwMmMwIDMuMDI4LTEuMzIxIDUuNjkzLTMuMzE3IDcuMjQ0djMuNDIzaC0xLjMzM3YtMi42MDlhNi4zMjMgNi4zMjMgMCAwIDEtMi42ODMuNjA5IDYuMzE3IDYuMzE3IDAgMCAxLTIuNjUxLS41OTV2Mi41OTVhLjY2OS42NjkgMCAwIDEtLjQ0My42MjhsLTYuNjggMi4zODVhMy4zNCAzLjM0IDAgMCAwLTIuMjExIDMuMTM5djIuNTE1aDE1LjMzM3YxLjMzM2gtMTZhLjY2Ny42NjcgMCAwIDEtLjY2Ny0uNjY3di0zLjE4MWE0LjY3NiA0LjY3NiAwIDAgMSAzLjA5Ni00LjM5NWw2LjIzNy0yLjIyOHYtMi45MzFjLTIuMDEzLTEuNTQ2LTMuMzQ5LTQuMjIyLTMuMzQ5LTcuMjY1QzkuOTg1IDcuODg4IDEzLjI3NCA0IDE3LjMxOCA0YzQuMDQ0IDAgNy4zMzMgMy44ODggNy4zMzMgOC42Njd6bS03LjMzNC03LjMzNGwtLjAwMS4wMDFjLTIuODM1IDAtNS4yMSAyLjQxNi01LjgzNSA1LjY1MWE0LjY4IDQuNjggMCAwIDAgMS44MzUuMzQ5YzEuNzQ1IDAgMy44MTUtMS4wMzUgNC40MjgtMi4yMTVhLjY2NS42NjUgMCAwIDEgLjU3OS0uMzU5LjYyNS42MjUgMCAwIDEgLjU5Mi4zMzZjMS4xMzkgMS45OTIgMi4zMzggMi42MjQgNC4yNzUgMi4yNDlsLjAyNC0uMDAxYy0uNTEyLTMuNDE0LTIuOTU4LTYuMDExLTUuODk3LTYuMDExem0tNiA3LjMzNGMwIDQuMDQ0IDIuNjkyIDcuMzMzIDYgNy4zMzNzNi0zLjI4OSA2LTcuMzMyYTYuNTA0IDYuNTA0IDAgMCAxLTEuMTEzLjExM2MtMS41OTIgMC0yLjg0NC0uNzAyLTMuOTA3LTIuMTgxLTEuMTM5IDEuMTk2LTMuMTQ3IDIuMDY3LTQuOTggMi4wNjctLjcxNCAwLTEuMzYtLjExLTEuOTg3LS4zMjEtLjAwNC4xMDgtLjAxMy4yMTMtLjAxMy4zMjF6IiBmaWxsPSIjQ0M3QjE5IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KPC9zdmc+Cg=="},88359:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNzYgODAiPgogIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICA8cmVjdCB3aWR0aD0iMjc1Ljk2NSIgaGVpZ2h0PSI4MCIgZmlsbD0iIzAwMCIgb3BhY2l0eT0iLjI1Ii8+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4xOTggNi4wMDUpIj4KICAgICAgPGcgZmlsbD0iI0ZGRiIgb3BhY2l0eT0iLjA1Ij4KICAgICAgICA8cmVjdCB3aWR0aD0iMjU1LjU2OCIgaGVpZ2h0PSIxIiB5PSI2MC4wNDkiLz4KICAgICAgICA8cmVjdCB3aWR0aD0iMjU1LjU2OCIgaGVpZ2h0PSIxIiB5PSI0OC4wMzkiLz4KICAgICAgICA8cmVjdCB3aWR0aD0iMjU1LjU2OCIgaGVpZ2h0PSIxIiB5PSIzNi4wMjkiLz4KICAgICAgICA8cmVjdCB3aWR0aD0iMjU1LjU2OCIgaGVpZ2h0PSIxIiB5PSIyNC4wMiIvPgogICAgICAgIDxyZWN0IHdpZHRoPSIyNTUuNTY4IiBoZWlnaHQ9IjEiIHk9IjEyLjAxIi8+CiAgICAgICAgPHJlY3Qgd2lkdGg9IjI1NS41NjgiIGhlaWdodD0iMSIvPgogICAgICA8L2c+CiAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgOC43MDcpIj4KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDEwLjgwOSkiPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIyLjQwMiIgeD0iMjI2Ljc3MSIgeT0iMzAuNjI1IiBmaWxsPSIjRTY5RjIzIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iNi45MDYiIHg9IjE4OC45NzYiIHk9IjIwLjcxNyIgZmlsbD0iI0YxMzM1RSIgcng9Ii42Ii8+CiAgICAgICAgICA8cmVjdCB3aWR0aD0iMjguNzk2IiBoZWlnaHQ9IjkuNjA4IiB4PSIxNTEuMTgxIiBmaWxsPSIjRjEzMzVFIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iMS4yMDEiIHg9IjExMy4zODYiIHk9IjM3LjIzIiBmaWxsPSIjRTY5RjIzIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iNS4xMDQiIHg9Ijc1LjU5IiB5PSIzMS41MjYiIGZpbGw9IiMzNjZERkMiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIxMC41MDkiIHg9IjM3Ljc5NSIgeT0iMjQuNjIiIGZpbGw9IiMzNjZERkMiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIyLjQwMiIgeT0iMzUuNzI5IiBmaWxsPSIjMzY2REZDIiByeD0iLjYiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAyMS4wMTcpIj4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iNi45MDYiIHg9IjIyNi43NzEiIHk9IjIzLjQxOSIgZmlsbD0iI0YxMzM1RSIgcng9Ii42Ii8+CiAgICAgICAgICA8cmVjdCB3aWR0aD0iMjguNzk2IiBoZWlnaHQ9IjEyLjMxIiB4PSIxODguOTc2IiB5PSIxOC4wMTUiIGZpbGw9IiM5QUQxODYiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIzMC4zMjUiIHg9IjE1MS4xODEiIGZpbGw9IiM5QUQxODYiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIxLjUwMSIgeD0iMTEzLjM4NiIgeT0iMjguODIzIiBmaWxsPSIjMzY2REZDIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iMy4zMDMiIHg9Ijc1LjU5IiB5PSIyNy4wMjIiIGZpbGw9IiNGMTMzNUUiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSI0LjgwNCIgeD0iMzcuNzk1IiB5PSIyNS41MjEiIGZpbGw9IiNGMTMzNUUiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIxLjgwMSIgeT0iMjguNTIzIiBmaWxsPSIjRjEzMzVFIiByeD0iLjYiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAzLjkwMykiPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSI2LjMwNSIgeD0iMTUxLjE4MSIgZmlsbD0iIzM2NkRGQyIgcng9Ii42Ii8+CiAgICAgICAgICA8cmVjdCB3aWR0aD0iMjguNzk2IiBoZWlnaHQ9IjMuMzAzIiB4PSI3NS41OSIgeT0iMzQuNTI4IiBmaWxsPSIjRTY5RjIzIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iOC40MDciIHg9IjM3Ljc5NSIgeT0iMjIuNTE4IiBmaWxsPSIjRTY5RjIzIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iMS44MDEiIHk9IjQwLjIzMyIgZmlsbD0iI0U2OUYyMyIgcng9Ii42Ii8+CiAgICAgICAgPC9nPgogICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iMy4zMDMiIGZpbGw9IiNFNjlGMjMiIHJ4PSIuNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxLjE4KSIvPgogICAgICA8L2c+CiAgICAgIDxyZWN0IHdpZHRoPSIxLjUiIGhlaWdodD0iMS41MDEiIHg9IjI0MC41NyIgeT0iNjAuMzQ5IiBmaWxsPSIjRkZGIiBvcGFjaXR5PSIuMSIvPgogICAgICA8cmVjdCB3aWR0aD0iMS41IiBoZWlnaHQ9IjEuNTAxIiB4PSIxNjQuOTc5IiB5PSI2MC4zNDkiIGZpbGw9IiNGRkYiIG9wYWNpdHk9Ii4xIi8+CiAgICAgIDxyZWN0IHdpZHRoPSIxLjUiIGhlaWdodD0iMS41MDEiIHg9IjIwMi43NzQiIHk9IjYwLjM0OSIgZmlsbD0iI0ZGRiIgb3BhY2l0eT0iLjEiLz4KICAgICAgPHJlY3Qgd2lkdGg9IjEuNSIgaGVpZ2h0PSIxLjUwMSIgeD0iODkuMzg5IiB5PSI2MC4zNDkiIGZpbGw9IiNGRkYiIG9wYWNpdHk9Ii4xIi8+CiAgICAgIDxyZWN0IHdpZHRoPSIxLjUiIGhlaWdodD0iMS41MDEiIHg9IjEyNy4xODQiIHk9IjYwLjM0OSIgZmlsbD0iI0ZGRiIgb3BhY2l0eT0iLjEiLz4KICAgICAgPHJlY3Qgd2lkdGg9IjEuNSIgaGVpZ2h0PSIxLjUwMSIgeD0iNTEuNTkzIiB5PSI2MC4zNDkiIGZpbGw9IiNGRkYiIG9wYWNpdHk9Ii4xIi8+CiAgICAgIDxyZWN0IHdpZHRoPSIxLjUiIGhlaWdodD0iMS41MDEiIHg9IjEzLjc5OCIgeT0iNjAuMzQ5IiBmaWxsPSIjRkZGIiBvcGFjaXR5PSIuMSIvPgogICAgPC9nPgogICAgPGcgZmlsbD0iI0ZGRiIgb3BhY2l0eT0iLjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNDc0IDUuNTc1KSI+CiAgICAgIDxyZWN0IHdpZHRoPSIxMC45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjE5LjcwOCIgeT0iNjYuNzUzIiByeD0iMS4wOTYiLz4KICAgICAgPHJlY3Qgd2lkdGg9IjEwLjk0OSIgaGVpZ2h0PSIyLjE5MiIgeD0iNTcuNjM2IiB5PSI2Ni43NTMiIHJ4PSIxLjA5NiIvPgogICAgICA8cmVjdCB3aWR0aD0iMTAuOTQ5IiBoZWlnaHQ9IjIuMTkyIiB4PSI5NS4xNTgiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSIxMC45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjEzMy4zODMiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSIxMC45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjE3MS4wMjYiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSIxMC45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjIwOC44MzQiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSIxMS45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjI0Ni4wNTkiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSI2LjU2OSIgaGVpZ2h0PSIyLjE5MiIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSI2LjU2OSIgaGVpZ2h0PSIyLjE5MiIgeT0iMTEuNzI1IiByeD0iMS4wOTYiLz4KICAgICAgPHJlY3Qgd2lkdGg9IjYuNTY5IiBoZWlnaHQ9IjIuMTkyIiB5PSIyMy45MjUiIHJ4PSIxLjA5NiIvPgogICAgICA8cmVjdCB3aWR0aD0iNi41NjkiIGhlaWdodD0iMi4xOTIiIHk9IjM1LjgyNSIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSI2LjU2OSIgaGVpZ2h0PSIyLjE5MiIgeT0iNDcuOTI1IiByeD0iMS4wOTYiLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="},47311:(e,t,n)=>{"use strict";e.exports=n.p+"static/7a5c5fc090835f292a8f.svg"},26782:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTkuNDk3IDcuNDM4YS42ODguNjg4IDAgMSAxLTEuMzc1IDAgLjY4OC42ODggMCAwIDEgMS4zNzUgMHptMi43NSAwYS42ODguNjg4IDAgMSAxLTEuMzc1IDAgLjY4OC42ODggMCAwIDEgMS4zNzUgMHptMi43NSAwYS42ODguNjg4IDAgMSAxLTEuMzc1IDAgLjY4OC42ODggMCAwIDEgMS4zNzUgMHptMi4wNjMgMTguNTZ2LS4wMDFhLjY4OC42ODggMCAxIDEgMCAxLjM3NUg3LjQzOEEzLjQ0IDMuNDQgMCAwIDEgNCAyMy45MzZ2LTE2LjVBMy40NCAzLjQ0IDAgMCAxIDcuNDM3IDRoMjEuOTk4YTMuNDQgMy40NCAwIDAgMSAzLjQzNyAzLjQzN3YxMWEuNjg4LjY4OCAwIDEgMS0xLjM3NiAwdi03LjU2Mkg1LjM3NHYxMy4wNjJjMCAxLjEzNy45MjQgMi4wNjIgMi4wNjIgMi4wNjJoOS42MjR6TTcuNDM1IDUuMzc3YTIuMDY0IDIuMDY0IDAgMCAwLTIuMDYzIDIuMDYyVjkuNWgyNi4xMjNWNy40MzhhMi4wNjQgMi4wNjQgMCAwIDAtMi4wNjItMi4wNjJINy40MzV6TTM2LjY1NCAzMC4xNWwuMDAyLS4wMDJhLjY4NS42ODUgMCAwIDEgLjI1Mi45MzhsLTIuMDYyIDMuNTcyYS42NzcuNjc3IDAgMCAxLS40MTcuMzIuNzAxLjcwMSAwIDAgMS0uNTIzLS4wN2wtMS4wOTItLjYzMmMtLjQxLjMtLjg1Mi41NTQtMS4zMTcuNzZ2MS4yNzRjMCAuMzgtLjMwOC42ODctLjY4OC42ODdoLTQuMTI0YS42ODguNjg4IDAgMCAxLS42ODgtLjY4N3YtMS4yNjhhNy4zMTEgNy4zMTEgMCAwIDEtMS4zMzctLjc2MmwtMS4xMDguNjM1YS42OS42OSAwIDAgMS0uOTM3LS4yNTJsLTIuMDYzLTMuNTcyYS42ODguNjg4IDAgMCAxIC4yNTItLjk0bDEuMDk0LS42MzRhNi4zMjggNi4zMjggMCAwIDEgLjAwMS0xLjUzNWwtMS4wOTQtLjYzMmEuNjg3LjY4NyAwIDAgMS0uMjUtLjk0bDIuMDYzLTMuNTcyYS42OS42OSAwIDAgMSAuOTM3LS4yNTJsMS4xMDUuNjM1Yy40MTgtLjMuODY2LS41NTUgMS4zMzYtLjc2MnYtMS4yNzRjMC0uMzguMzA4LS42ODcuNjg4LS42ODdoNC4xMjRjLjM4IDAgLjY4OC4zMDguNjg4LjY4N3YxLjI3NGMuNDY0LjIwNi45MDUuNDYgMS4zMTYuNzU5bDEuMDg5LS42MzJhLjY3OS42NzkgMCAwIDEgLjUyMy0uMDcuNjkuNjkgMCAwIDEgLjQxNy4zMmwyLjA2MyAzLjU3MmMuMTkuMzMuMDc3Ljc1LS4yNTIuOTRsLTEuMDk2LjYzNGMuMDU5LjUxLjA2IDEuMDI0IDAgMS41MzRsMS4wOTguNjM0em0tMi42NTYgMy4yMjZsMS4zNzMtMi4zNzktLjkwNy0uNTI0YS42ODcuNjg3IDAgMCAxLS4zMzEtLjcyYy4wNjItLjMzNi4wOTQtLjY3My4wOTQtMS4wMDNhNS41IDUuNSAwIDAgMC0uMDk1LTEuMDAyLjY4NS42ODUgMCAwIDEgLjMzLS43MjFsLjkwNy0uNTI0LTEuMzc0LTIuMzgtLjg5NS41MjFhLjY5LjY5IDAgMCAxLS43OTItLjA3MyA1Ljg0NyA1Ljg0NyAwIDAgMC0xLjc0LTEuMDA0LjY4Ny42ODcgMCAwIDEtLjQ0Ni0uNjQ0di0xLjA0OGgtMi43NXYxLjA0OGEuNjk2LjY5NiAwIDAgMS0uNDQ3LjY0OGMtLjY2Ni4yNDctMS4yOS42MDMtMS43NTYgMS4wMDNhLjY4Ny42ODcgMCAwIDEtLjc4OS4wNzRsLS45MTItLjUyNS0xLjM3NyAyLjM4My45MDQuNTI0Yy4yNS4xNDYuMzgzLjQzMy4zMzEuNzE5YTUuNDUyIDUuNDUyIDAgMCAwLS4wOTggMS4wMDJjMCAuMzM2LjAzMy42NzIuMDk2IDEuMDAyYS42ODcuNjg3IDAgMCAxLS4zMzMuNzJsLS45MDQuNTIzIDEuMzc2IDIuMzgzLjkxNi0uNTI1YS42ODYuNjg2IDAgMCAxIC43ODkuMDc1Yy40NjYuNCAxLjA5Ljc1NSAxLjc1NCAxLjAwMy4yNy4xLjQ0OS4zNTcuNDQ4LjY0NHYxLjA0OGgyLjc1di0xLjA0OGMwLS4yODcuMTgtLjU0NC40NS0uNjQ0YTUuNzQ0IDUuNzQ0IDAgMCAwIDEuNzM3LTEuMDA0LjY5LjY5IDAgMCAxIC43OTItLjA3M2wuODk5LjUyem0tNS4yNzItOC4wNjRhMy40NCAzLjQ0IDAgMCAxIDMuNDM3IDMuNDM3IDMuNDQgMy40NCAwIDAgMS0zLjQzNyAzLjQzNyAzLjQ0IDMuNDQgMCAwIDEtMy40MzctMy40MzcgMy40NCAzLjQ0IDAgMCAxIDMuNDM3LTMuNDM3em0wIDUuNWEyLjA2NCAyLjA2NCAwIDAgMCAyLjA2My0yLjA2MyAyLjA2NCAyLjA2NCAwIDAgMC0yLjA2My0yLjA2MiAyLjA2NCAyLjA2NCAwIDAgMC0yLjA2MiAyLjA2MmMwIDEuMTM3LjkyNSAyLjA2MiAyLjA2MiAyLjA2MnoiIGZpbGw9IiNDQzdCMTkiIGZpbGwtcnVsZT0ibm9uemVybyIvPgo8L3N2Zz4K"},94275:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHZpZXdCb3g9IjAgMCA0MTQgMTM3IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHN0eWxlPSJmaWxsOiNhOGE4YTg7ZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEuNDE0MjE7Ij4KICAgIDxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLDEsLTUuNjI5MjEsLTUuMzY4KSI+CiAgICAgICAgPGcgaWQ9IkZpbGwtMSIgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsMSw1LDMwKSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yNjcuNDQ3LDY4LjY3NWMtNC4zODQsMCAtNy4yNzksLTEuMjg1IC0xMC4zMDcsLTYuMDExYy0yLjk1MSwtNC42OTcgLTcuODk3LC0xMi42IC03Ljg5NywtMTIuNmwyMS41MTEsLTI5Ljk3M2wtMTguNjgyLDBsLTE3LjA3OCwyMy43ODRsMCwtNDIuOTA3bC0xNS42MTIsMGwwLDgyLjM4bDE1LjYxMiwwbDAsLTI2LjE0OWMwLDAgOC43NDIsMTMuNzMyIDExLjM5NywxNy45NjVjNC4yODEsNi41MjkgOS45ODgsOC4yNTUgMTkuNDYxLDguMjU1bDQuNTYzLC0wLjAxMWwwLC0xNC43MjdjLTEuNjU4LDAgLTEuNjU2LC0wLjAwNiAtMi45NjgsLTAuMDA2Wk00MTAuNzM1LDY4LjY3NWMtNC4zODMsMCAtNy4yNzgsLTEuMjg1IC0xMC4zMDUsLTYuMDExYy0yLjk1MiwtNC42OTcgLTcuODk5LC0xMi42IC03Ljg5OSwtMTIuNmwyMS41MTIsLTI5Ljk3M2wtMTguNjgyLDBsLTE3LjA4LDIzLjc4NGwwLC00Mi45MDdsLTE1LjYxLDBsMCw4Mi4zOGwxNS42MSwwbDAsLTI2LjE0OWMwLDAgOC43NDQsMTMuNzMyIDExLjM5OSwxNy45NjVjNC4yODEsNi41MjkgOS45ODcsOC4yNTUgMTkuNDYxLDguMjU1bDQuNTYzLC0wLjAxMWwwLC0xNC43MjdjLTEuNjU4LDAgLTEuNjU3LC0wLjAwNiAtMi45NjksLTAuMDA2Wk0yNC43MTEsODQuMDMyYy05LjcyMiwwIC0xNy42NjEsLTEuNzg0IC0yNC4wODIsLTguMzgzbDkuOTkxLC05Ljk5YzMuMjk5LDMuMjk5IDkuMDk3LDQuNDU5IDE0LjE4LDQuNDU5YzYuMTU1LDAgOS4wOTksLTIuMDUgOS4wOTksLTUuNzA3YzAsLTEuNTE4IC0wLjM1NSwtMi43NyAtMS4yNDgsLTMuNzU1Yy0wLjgwMiwtMC44MDIgLTIuMTQyLC0xLjQzIC00LjE5NCwtMS42OTZsLTcuNjY5LC0xLjA2OGMtNS42MiwtMC44MDQgLTkuOTAxLC0yLjY3NyAtMTIuNzU2LC01LjYyMWMtMi45NDUsLTMuMDMxIC00LjM2OSwtNy4zMTMgLTQuMzY5LC0xMi43NTJjMCwtMTEuNTk2IDguNzQxLC0yMC4wNzIgMjMuMTg4LC0yMC4wNzJjOS4wOTksMCAxNS45NjgsMi4xNDEgMjEuNDA4LDcuNTgybC05LjgxMSw5LjgxMWMtNC4wMTYsLTQuMDE0IC05LjI3OCwtMy43NDYgLTEyLjA0MywtMy43NDZjLTUuNDQsMCAtNy42NjgsMy4xMjQgLTcuNjY4LDUuODg3YzAsMC44MDQgMC4yNjYsMS45NjIgMS4yNDgsMi45NDRjMC44MDMsMC44MDQgMi4xMzgsMS42MDYgNC4zNzIsMS44NzRsNy42NjcsMS4wNzFjNS43MDksMC44IDkuODEyLDIuNTg0IDEyLjQ4OSw1LjI2MmMzLjM4OSwzLjI5OSA0LjcyNSw4LjAyNCA0LjcyNSwxMy45MjNjMCwxMi45MzQgLTExLjE0NywxOS45NzcgLTI0LjUyNywxOS45NzdaTTk2LjQ4OSw3Ni44OTdjLTQuNjM5LDQuNjM5IC05Ljk5Miw3LjEzNSAtMTcuNzUxLDcuMTM1Yy03Ljc2MSwwIC0xMy4xMTIsLTIuNDk2IC0xNy43NDksLTcuMTM1Yy02LjY5LC02LjY4OSAtNi40MjMsLTE1LjYxMyAtNi40MjMsLTI1LjE2MmMwLC05LjU0MiAtMC4yNjcsLTE4LjQ2MyA2LjQyMywtMjUuMTUyYzQuNjM3LC00LjYzOSA5Ljk4OCwtNy4xMzYgMTcuNzQ5LC03LjEzNmM3Ljc1OSwwIDEzLjExMiwyLjQ5NyAxNy43NTEsNy4xMzZjNi42ODgsNi42ODkgNi40MjEsMTUuNjEgNi40MjEsMjUuMTUyYzAsOS41NDkgMC4yNjcsMTguNDczIC02LjQyMSwyNS4xNjJaTTc4LjczOCwzMy4zNjJjLTIuODU0LDAgLTUuMDg1LDEuMjUgLTYuMjQyLDIuNzY2Yy0xLjQyNiwxLjg3MiAtMi4zMiw0LjAxMyAtMi4zMiwxNS42MDdjMCwxMS42MDggMC44OTQsMTMuNjU4IDIuMzIsMTUuNTMxYzEuMTU3LDEuNTE2IDMuMzg4LDIuODUyIDYuMjQyLDIuODUyYzIuODU1LDAgNS4wODQsLTEuMzM2IDYuMjQ0LC0yLjg1MmMxLjQyNiwtMS44NzMgMi4zMTgsLTMuOTIzIDIuMzE4LC0xNS41MzFjMCwtMTEuNTk0IC0wLjg5MiwtMTMuNzM1IC0yLjMxOCwtMTUuNjA3Yy0xLjE2LC0xLjUxNiAtMy4zODksLTIuNzY2IC02LjI0NCwtMi43NjZaTTMzMi43NTgsODQuMTA1Yy03LjQwMiwwIC0xMy4wMjIsLTIuNDk4IC0xNy42NiwtNy4xMzdjLTYuNjgzLC02LjY4NyAtNi40MTcsLTE1LjYxNSAtNi40MTcsLTI1LjE1OWMwLC05LjU0OSAtMC4yNjYsLTE4LjQ2NiA2LjQxNywtMjUuMTUzYzQuNjM4LC00LjYzOSAxMC4yNTgsLTcuMTM4IDE3LjY2LC03LjEzOGMxMi4wNDQsMCAyMS43NjUsNi42OTEgMjQuMDg0LDIwLjY5NGwtMTUuODc1LDBjLTAuOTgyLC0zLjU2OSAtMi45NDQsLTYuNzc4IC04LjExOSwtNi43NzhjLTIuODU0LDAgLTQuOTkzLDEuMTU5IC02LjE1NSwyLjY3NWMtMS40MjYsMS44NzQgLTIuNDA3LDQuMTAzIC0yLjQwNywxNS43YzAsMTEuNjAxIDAuOTgxLDEzLjgzMyAyLjQwNywxNS43MDRjMS4xNjIsMS41MTggMy4zMDEsMi42NzggNi4xNTUsMi42NzhjNS4xNzUsMCA3LjEzNywtMy4yMTIgOC4xMTksLTYuNzgxbDE1Ljg3NSwwYy0yLjMxOSwxNC4wMDIgLTEyLjA0LDIwLjY5NSAtMjQuMDg0LDIwLjY5NVpNMTk2LjE4LDg4LjE3NGMwLDguMzYxIC01Ljc3NCw5LjgzOSAtOS41MDgsOS44MzlsLTUuNjc2LDAuMDM3bDAsMTMuOTI2bDYuOTIzLDAuMDI0YzE1LjUzNSwtMC4wOTkgMjQuMDA4LC04LjIxNiAyNC4wMDgsLTIzLjc5N2wtMC4wNTUsLTQ2Ljg4OWMwLC03LjMxMyAtMy4zNjcsLTEzLjExNCAtOC4yOTMsLTE2Ljg1N2MtNC4zOTQsLTMuMzM3IC0xMC4wMzYsLTUuMDE0IC0xNS42NiwtNS4wMTRjLTcuNDAzLDAgLTEzLjAyMiwyLjQ5OSAtMTcuNjU3LDcuMTM5Yy02LjY5Myw2LjY4NyAtNi40MjMsMTUuNjAzIC02LjQyMywyNS4xNTJjMCw5LjU0NCAtMC4yNywxOC40NzIgNi40MjMsMjUuMTU5YzQuNjM1LDQuNjM5IDEwLjI1NCw3LjEzNyAxNy42NTcsNy4xMzdjMi44NzMsMCA1LjQ2NCwtMC41NzMgOC4yNjEsLTEuOTE3bDAsNi4wNjFaTTE4OC4wMDksNzAuMTE2Yy0yLjg1NSwwIC00Ljk5NSwtMS4xNiAtNi4xNTUsLTIuNjc3Yy0xLjQyNywtMS44NzIgLTIuNDA4LC00LjEwNCAtMi40MDgsLTE1LjcwNWMwLC0xMS41OTcgMC45ODEsLTEzLjgyNiAyLjQwOCwtMTUuN2MxLjE2LC0xLjUxNiAzLjMsLTIuNjc1IDYuMTU1LC0yLjY3NWM1LjA4NiwwIDcuMDY0LDMuMSA4LjA2Myw2LjU5OWwwLDIzLjU2MWMtMC45OTksMy40OTIgLTIuOTc3LDYuNTk3IC04LjA2Myw2LjU5N1pNMTU3LjU0Myw0Ny41MWMwLC02LjQ4MSAwLjI1OSwtMTQuMjY2IC02LjQyMywtMjAuOTQ1Yy00LjYzNywtNC42NCAtOS45ODgsLTcuMTM3IC0xNy43NSwtNy4xMzdjLTcuNzU5LDAgLTEzLjExMywyLjQ5NyAtMTcuNzUsNy4xMzdjLTYuNjg5LDYuNjg5IC02LjQyMywxNC44NzMgLTYuNDIzLDIwLjk0MmwtMC4wMDQsMzUuOTdsMTUuNTk4LC0wLjAwNGwwLjAxNiwtMzUuOTY2YzAsLTguMTE3IDAuODkxLC05LjMwOSAyLjMxOSwtMTEuMTgxYzEuMTYsLTEuNTE1IDMuMzg4LC0yLjk4MyA2LjI0NCwtMi45ODNjMi44NTUsMCA1LjA4NCwxLjQ2OCA2LjI0MiwyLjk4M2MxLjQyNywxLjg3MiAyLjMyLDIuODUyIDIuMzIsMTEuMjJsLTAuMDI5LDM1LjkwMWwxNS42MDEsMC4wMjVsMC4wMzksLTM1Ljk2MlpNMjkyLjIxLDEyLjMzOGwwLC0xMS4zNTVsLTE1LjU1LC0wLjAwMmwtMC4wMDIsMTEuMzNsMTUuNTUyLDAuMDI3Wk0yNzYuMjQxLDIwLjA5OWwxNS44NzIsMC4wMDlsMC4wMDIsMzguNzkxYzAuMDI1LDYuNTI5IDQuNDM1LDkuNzcxIDkuNjE4LDkuNzcxbDEuODM0LDAuMDAzbDAsMTQuNzU3bC0zLjI5OSwwLjAzNmMtMTUuODQxLC0wLjA5OSAtMjQuMDA3LC04Ljc3OCAtMjQuMDA3LC0yNC4wNDNsLTAuMDIsLTM5LjMyNFoiIC8+CiAgICAgICAgPC9nPgogICAgICAgIDxwYXRoIGlkPSJjb25jZXJ0cy1ieSIgZD0iTTI0LjQ1MiwyOC43MzJsLTMuOTk2LC0zLjk5NmMtMC43NTYsMC43NTYgLTEuNDA0LDEuMTUyIC0yLjM3NiwxLjE1MmMtMC43OTIsMCAtMS4zMzIsLTAuMjUyIC0xLjgzNiwtMC43NTZjLTAuNjg0LC0wLjcyIC0wLjk3MiwtMS45OCAtMC45NzIsLTMuODE2YzAsLTEuODM2IDAuMjg4LC0zLjA5NiAwLjk3MiwtMy44MTZjMC41MDQsLTAuNTA0IDEuMDQ0LC0wLjc1NiAxLjgzNiwtMC43NTZjMC45NzIsMCAxLjYyLDAuMzk2IDIuMzc2LDEuMTUybDMuOTk2LC0zLjk5NmMtMS41ODQsLTEuNTg0IC0zLjY3MiwtMi40ODQgLTYuMzcyLC0yLjQ4NGMtMy4zNDgsMCAtOC43MTIsMS40NCAtOC43MTIsOS45YzAsOC40NiA1LjM2NCw5LjkgOC43MTIsOS45YzIuNywwIDQuNzg4LC0wLjkgNi4zNzIsLTIuNDg0Wk00My4zNTIsMjEuMzE2YzAsLTMuNzggLTAuNTA0LC01LjY1MiAtMi4xMjQsLTcuNDE2Yy0xLjE1MiwtMS4yMjQgLTMuMDk2LC0yLjQ4NCAtNi4yMjgsLTIuNDg0Yy0zLjEzMiwwIC01LjA3NiwxLjI2IC02LjIyOCwyLjQ4NGMtMS42MiwxLjc2NCAtMi4xMjQsMy42MzYgLTIuMTI0LDcuNDE2YzAsMy44MTYgMC41MDQsNS42NTIgMi4xMjQsNy40MTZjMS4xNTIsMS4yMjQgMy4wOTYsMi40ODQgNi4yMjgsMi40ODRjMy4xMzIsMCA1LjA3NiwtMS4yNiA2LjIyOCwtMi40ODRjMS42MiwtMS43NjQgMi4xMjQsLTMuNiAyLjEyNCwtNy40MTZaTTM3LjQ0OCwyMS4zMTZjMCwxLjkwOCAtMC4xMDgsMy4yNzYgLTAuODY0LDQuMDMyYy0wLjM2LDAuMzYgLTAuODY0LDAuNTQgLTEuNTg0LDAuNTRjLTAuNzIsMCAtMS4yMjQsLTAuMTggLTEuNTg0LC0wLjU0Yy0wLjc1NiwtMC43NTYgLTAuODY0LC0yLjEyNCAtMC44NjQsLTQuMDMyYzAsLTEuOTA4IDAuMTA4LC0zLjI3NiAwLjg2NCwtNC4wMzJjMC4zNiwtMC4zNiAwLjg2NCwtMC41NCAxLjU4NCwtMC41NGMwLjcyLDAgMS4yMjQsMC4xOCAxLjU4NCwwLjU0YzAuNzU2LDAuNzU2IDAuODY0LDIuMTI0IDAuODY0LDQuMDMyWk02My42OTIsMzFsMCwtMTIuMzg0YzAsLTIuMDUyIC0wLjI4OCwtMy44ODggLTEuOTQ0LC01LjU0NGMtMS4wNDQsLTEuMDQ0IC0yLjUyLC0xLjY1NiAtNC4zNTYsLTEuNjU2Yy0xLjU0OCwwIC0zLjMxMiwwLjYxMiAtNC41LDEuOGwwLC0xLjU4NGwtNS43NiwwbDAsMTkuMzY4bDUuOTA0LDBsMCwtMTEuNTkyYzAsLTIuMjMyIDEuNTg0LC0yLjY2NCAyLjM3NiwtMi42NjRjMC43OTIsMCAyLjM3NiwwLjQzMiAyLjM3NiwyLjY2NGwwLDExLjU5Mmw1LjkwNCwwWk04Mi4xOTYsMjguNzMybC0zLjk5NiwtMy45OTZjLTAuNzU2LDAuNzU2IC0xLjQwNCwxLjE1MiAtMi4zNzYsMS4xNTJjLTAuNzkyLDAgLTEuMzMyLC0wLjI1MiAtMS44MzYsLTAuNzU2Yy0wLjY4NCwtMC43MiAtMC45NzIsLTEuOTggLTAuOTcyLC0zLjgxNmMwLC0xLjgzNiAwLjI4OCwtMy4wOTYgMC45NzIsLTMuODE2YzAuNTA0LC0wLjUwNCAxLjA0NCwtMC43NTYgMS44MzYsLTAuNzU2YzAuOTcyLDAgMS42MiwwLjM5NiAyLjM3NiwxLjE1MmwzLjk5NiwtMy45OTZjLTEuNTg0LC0xLjU4NCAtMy42NzIsLTIuNDg0IC02LjM3MiwtMi40ODRjLTMuMzQ4LDAgLTguNzEyLDEuNDQgLTguNzEyLDkuOWMwLDguNDYgNS4zNjQsOS45IDguNzEyLDkuOWMyLjcsMCA0Ljc4OCwtMC45IDYuMzcyLC0yLjQ4NFpNMTAxLjYsMjMuMjI0bDAsLTIuNjI4YzAsLTUuMDc2IC0zLjA5NiwtOS4xOCAtOC43MTIsLTkuMThjLTUuMDc2LDAgLTguNjc2LDMuNTY0IC04LjY3Niw5LjljMCw4LjM1MiA0LjkzMiw5LjkgOS4yMTYsOS45YzMuNiwwIDUuNTQ0LC0xLjA4IDcuNTI0LC0zLjA2bC0zLjUyOCwtMy41MjhjLTEuMDQ0LDEuMDQ0IC0xLjk0NCwxLjYyIC0zLjk5NiwxLjYyYy0yLjE5NiwwIC0zLjQyLC0xLjQ0IC0zLjQyLC0zLjAyNGwxMS41OTIsMFpNOTUuNzY4LDE5LjNsLTUuNzYsMGMwLC0wLjQ2OCAwLjA3MiwtMS4wMDggMC4zMjQsLTEuNTEyYzAuMzYsLTAuODI4IDEuMTUyLC0xLjUxMiAyLjU1NiwtMS41MTJjMS40MDQsMCAyLjE5NiwwLjY4NCAyLjU1NiwxLjUxMmMwLjI1MiwwLjUwNCAwLjMyNCwxLjA0NCAwLjMyNCwxLjUxMlpNMTIwLjA2OCwxMy4yMTZjLTEuMzMyLC0xLjMzMiAtMi42MjgsLTEuOCAtNC41MzYsLTEuOGMtMi4wMTYsMCAtMy43MDgsMC45MzYgLTQuNTcyLDEuOGwwLC0xLjU4NGwtNS43NiwwbDAsMTkuMzY4bDUuOTA0LDBsMCwtMTEuNTkyYzAsLTIuMTk2IDEuNTg0LC0yLjY2NCAyLjM3NiwtMi42NjRjMS4wMDgsMCAxLjU0OCwwLjQzMiAyLjEyNCwxLjAwOGw0LjQ2NCwtNC41MzZaTTEzMS42OTYsMzFsMCwtNC45NjhsLTEuODcyLDBjLTAuNzkyLDAgLTEuMTg4LC0wLjQzMiAtMS4xODgsLTEuMTg4bDAsLTcuOTJsMy4wNiwwbDAsLTQuNTM2bC0zLjA2LDBsMCwtNS41NDRsLTUuOTA0LDBsMCw1LjU0NGwtMS43NjQsMGwwLDQuNTM2bDEuNzY0LDBsMCw4LjM1MmMwLDIuNjY0IDEuNzI4LDUuNzI0IDYuMDEyLDUuNzI0bDIuOTUyLDBaTTE1MC4zMDgsMjQuNjY0YzAsLTMuMDk2IC0xLjc2NCwtNS41MDggLTUuODMyLC01LjkwNGwtMi45ODgsLTAuMjg4Yy0xLjMzMiwtMC4xNDQgLTEuMjYsLTAuODY0IC0xLjI2LC0xLjA4YzAsLTAuNDMyIDAuNDY4LC0xLjExNiAxLjkwOCwtMS4xMTZjMS41MTIsMCAzLjEzMiwwLjE4IDQuMTA0LDEuMTUybDMuNjM2LC0zLjYzNmMtMS45MDgsLTEuOTA4IC00LjQ2NCwtMi4zNzYgLTcuNjMyLC0yLjM3NmMtMy44NTIsMCAtNy43MDQsMi4xMjQgLTcuNzA0LDYuNDA4YzAsMy43OCAyLjI2OCw1LjI5MiA1LjYxNiw1LjYxNmwyLjk4OCwwLjI4OGMxLjE1MiwwLjEwOCAxLjQwNCwwLjY4NCAxLjQwNCwxLjIyNGMwLDEuMDA4IC0xLjY1NiwxLjI2IC0yLjUyLDEuMjZjLTEuMDA4LDAgLTMuMDk2LDAgLTQuNzE2LC0xLjYybC0zLjgxNiwzLjgxNmMyLjY2NCwyLjY2NCA1LjUwOCwyLjgwOCA4LjQyNCwyLjgwOGM0LjUsMCA4LjM4OCwtMS45OCA4LjM4OCwtNi41NTJaTTE3OC4yMDgsMjEuMzE2YzAsLTIuODQ0IDAuMTA4LC02LjIyOCAtMS44LC04LjEzNmMtMS4xMTYsLTEuMTE2IC0yLjgwOCwtMS43NjQgLTQuNjgsLTEuNzY0Yy0xLjkwOCwwIC0zLjI0LDAuNTQgLTQuMzIsMS42MmwwLC03LjY2OGwtNS45MDQsMGwwLDI1LjYzMmw1LjcyNCwwbDAsLTEuNTg0YzEuMTg4LDEuMTg4IDIuNDQ4LDEuOCA0LjQ2NCwxLjhjMS44NzIsMCAzLjYsLTAuNjQ4IDQuNzE2LC0xLjc2NGMxLjkwOCwtMS45MDggMS44LC01LjI5MiAxLjgsLTguMTM2Wk0xNzIuMzA0LDIxLjMxNmMwLDIuODA4IC0wLjI1Miw0LjU3MiAtMi40NDgsNC41NzJjLTIuMTk2LDAgLTIuNDQ4LC0xLjc2NCAtMi40NDgsLTQuNTcyYzAsLTIuODA4IDAuMjUyLC00LjU3MiAyLjQ0OCwtNC41NzJjMi4xOTYsMCAyLjQ0OCwxLjc2NCAyLjQ0OCw0LjU3MlpNMTk4LjU0OCwxMS42MzJsLTYuMTkyLDBsLTMuMTMyLDEwLjA0NGwtMy4yNzYsLTEwLjA0NGwtNi4xOTIsMGw2LjQ0NCwxNy40NmwtMC41NCwxLjYyYy0wLjM5NiwxLjE4OCAtMC45MzYsMS40NCAtMS45OCwxLjQ0bC0xLjI2LDBsMCw1LjMyOGwyLjIzMiwwYzEuNzI4LDAgMy4yMDQsLTAuMzk2IDQuMzU2LC0xLjYyYzAuNjEyLC0wLjYxMiAxLjExNiwtMS40NCAxLjUxMiwtMi41NTZsOC4wMjgsLTIxLjY3MloiIC8+CiAgICA8L2c+Cjwvc3ZnPgo="},56151:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(19755),s=n.n(i),r=n(13469),a=n.n(r),o=n(7082),l=n(95565);const c=o.Z.extend({mixins:l.Z,initialize(e={}){e.interface&&(this.interface=e.interface),e.props&&(this.props=e.props),a().each(this.interface,(e=>{this[e]=a().bind(this._proxy,this,e)}))},_proxy(e,...t){return this.getInstance()[e](...t)},register(e,t={}){this.hasInstance()&&!t.ignorePrevious&&(this._previousInstance=this.getInstance()),this._instance=e,t.silent||this.trigger("change:instance",e)},registerOnce(e){if(!this.hasInstance()){const t=e();this.register(t.instance||t,t.options||void 0)}},restorePrevious(){this._previousInstance&&this.register(this._previousInstance)},registered(){const e=s().Deferred();return this.hasInstance()?e.resolve(this.getInstance()):this.listenToOnce(this,"change:instance",e.resolve),e.promise()},getInstance(){if(this.hasInstance())return this._instance;throw new Error("Nothing has been registered to this adapter.")},hasInstance(){return null!=this._instance},prop(e){if(a().contains(this.props,e))return this.getInstance()[e];throw new Error("The "+e+" property has not been defined for this adapter")}})},93966:(e,t,n)=>{"use strict";n.d(t,{Cq:()=>l,X_:()=>c,s4:()=>d,DB:()=>u});var i=n(19755),s=n.n(i);n(13469),n(67038);const r={},a={};function o(e,t,n){r[e]=function(e,t){if(!t)return e;const n={};return t.forEach((t=>{n[t]=(...n)=>e[t](...n)})),n}(t,n);const i=a[e];i&&(delete a[e],i.resolve(r[e]))}function l(e){for(const t in e){const n=e[t];let i,s;Array.isArray(n)?(i=n[0],s=n[1]):i=n,o(t,i,s)}}function c(e){return d(e)?s().Deferred().resolve(r[e]).promise():(a[e]||(a[e]=s().Deferred()),a[e].promise())}function d(e){return r.hasOwnProperty(e)}function u(e){return r[e]}},39670:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=new(n(56151).Z)({props:["X-Plex-Client-Identifier","X-Plex-Device","X-Plex-Device-Name","X-Plex-Device-Screen-Resolution","X-Plex-Device-Vendor","X-Plex-Model","X-Plex-Platform","X-Plex-Platform-Version","X-Plex-Product","X-Plex-Version"]})},3595:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=new(n(56151).Z)({interface:["getLanguages","load","t"]})},61682:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=new(n(56151).Z)({interface:["get","set","remove","clear"]})},94018:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(13469),s=n.n(i),r=n(67038),a=n(69434);const o={_map:{},register(e,t){(0,r.Z)(s().isFunction(t),`The "${e}" command must be a function`),this._map[e]=t},registerAll(e){s().each(e,((e,t)=>{"__esModule"!==t&&this.register(t,e)}))},hasRegistered(e){return this._map.hasOwnProperty(e)},reset(){this._map={}},execute(e,...t){const n=this._map[e];if((0,r.Z)(n,`The "${e}" command has not been registered`),n)return(0,a.Z)("[Commands] Executing",e),n(...t)}}},14e3:(e,t,n)=>{"use strict";n.d(t,{EH:()=>g,NF:()=>y,ZP:()=>I});var i=n(13469),s=n.n(i),r=n(7082),a=(n(87709),n(47909)),o=n(9390),l=n.n(o);const c={bindToModel:function(){this.bindings&&s().each(s().keys(this.bindings),(function(e){const t=this.bindings[e];let n;if(n=t.model?this[t.model]:this[this.bindingsModel]||this.model,!n)return;const i=t.modelListeners||[t.modelAttribute];s().each(i,(function(i){const r={obj:n,name:"change:"+i,callback:s().bind(this.renderBinding,this,e,t,n)};this._bindingListeners||(this._bindingListeners=[]),this._bindingListeners.push(r),this.listenTo(r.obj,r.name,r.callback)}),this),this.renderBinding(e,t,n)}),this)},unbindFromModel:function(){this.bindings&&(s().each(this._bindingListeners,(function(e){this.stopListening(e.obj,e.name,e.callback)}),this),this._bindingListeners=null)},renderBinding:function(e,t,n){const i=this.$(e),r=t.formatter,a=!!t.isHtml,o=t.autohide,l=t.hiddenClass||"hidden";let c=n.get(t.modelAttribute);if(r&&(c=r.call(this,c,i)),o){const e=s().isFunction(o)?o.call(this,c):c;i.toggleClass(l,!e)}t.manual||(!a&&s().isString(c)&&(c=s().escape(c)),i.html(c))}};var d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=Object.assign;function h(e){const t={},n=s().result(e,"responseType");return n&&n.accept&&(t.Accept=n.accept),t}const g=3e4,y=6e4,v=l().noConflict(),f=v.sync;v.sync=function(e,t,n){var{url:i,data:r,headers:o}=n,l=((e,t)=>{var n={};for(var i in e)d.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&u)for(var i of u(e))t.indexOf(i)<0&&p.call(e,i)&&(n[i]=e[i]);return n})(n,["url","data","headers"]);const c=function(e,t){return t.server?t.server:e.getXHROptions?e:e.provider?e.provider:e.server?e.server:e}(t,l),v=i||s().result(t,"syncUrl")||s().result(t,"url"),I=s().isObject(r)?a.Z.stringifyParams(r):r,b=!!I&&I.indexOf("checkFiles=1")>-1;let M=m({data:I,dataType:"text",processData:!1,headers:s().extend(h(t),o),timeout:b?y:g},l);return s().isFunction(c.getXHROptions)?M=c.getXHROptions(v,M):M.url=v,f(e,t,M)},v.wrapError=function(e,t){const n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}},s().extend(v.View.prototype,c),[v.Model,v.Collection,v.Router,v.View,v.History].forEach((e=>{e.extend=r.Z.extend}));const I=v},65652:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var i=n(13469),s=n.n(i),r=n(67038),a=n(69434),o=n(14e3),l=n(37434),c=n.n(l),d=n(19755),u=n.n(d);u().fn.isDisabled=function(){return this.hasClass("disabled")||this.hasClass("active")||this.hasClass("hidden")},u().fn.selectText=function(){const e=this[0];let t;if(document.body.createTextRange)t=document.body.createTextRange(),t.moveToElementText(e),t.select();else if(window.getSelection){const n=window.getSelection();t=document.createRange(),t.selectNodeContents(e),n.removeAllRanges(),n.addRange(t)}},u().fn.triggerReflow=function(){const e=this[0];return e&&e.offsetHeight,this},c().isNodeAttached=function(e){return o.ZP.$.contains(document.documentElement,e)};const p=s().clone(c().View.prototype),m=s().clone(c().CollectionView.prototype),h=s().clone(c().Region.prototype),g=s().clone(c().Region),y=s().clone(c().Layout.prototype),v={constructor:function(){this.wrapAfterRender(),p.constructor.apply(this,arguments),this.listenViewEvents()},listenViewEvents:function(){this.stopListeningViewEvents();const e=s().result(this,"viewEvents");e&&(this._viewEventsListeners=s().mapObject(e,(e=>s().isString(e)?this[e]:e)),this.listenTo(this,this._viewEventsListeners))},stopListeningViewEvents:function(){this._viewEventsListeners&&(this.stopListening(this,this._viewEventsListeners),delete this._viewEventsListeners)},_setElement:function(){p._setElement.apply(this,arguments),this.el&&(this.el._viewInstance?this.el._viewInstance!==this&&a.Z.warn('Multiple views registered for a single element with class="%s"',this.el.className):this.el._viewInstance=this)},_removeElement:function(){this.el&&delete this.el._viewInstance,p._removeElement.apply(this,arguments)},bindAllWhenRendered:function(){(0,r.Z)(arguments.length>0,"`bindAllWhenRendered` requires at least one function");const e=Array.isArray(arguments[0])?arguments[0]:arguments;s().each(e,(function(e){try{this[e]=this.whenRendered(this[e])}catch(t){(0,r.Z)(!1,"`bindAllWhenRendered` is unable to wrap "+JSON.stringify(e))}}),this)},whenRendered:function(e){return(0,r.Z)(s().isFunction(e),"`whenRendered` must be called with a single function"),s().bind((function(){if(this.isClosed)return;const t=s().toArray(arguments),n=s().bind((function(){this.isRendered&&!this.isClosed&&e.apply(this,t)}),this);this.isRendered?s().defer(n):this.listenToOnce(this,"render",(function(){s().defer(n)}))}),this)},wrapAfterRender:function(){void 0!==this.onlyAfterRender&&((0,r.Z)(Array.isArray(this.onlyAfterRender),"`onlyAfterRender` must be an array"),this.bindAllWhenRendered.apply(this,this.onlyAfterRender))},bindUIElements:function(){p.bindUIElements.apply(this,arguments),this.bindToModel(),this.isRendered=!0},unbindUIElements:function(){p.unbindUIElements.apply(this,arguments),this.unbindFromModel()},_getImmediateChildren:function(){return[]},_getNestedViews:function(){const e=this._getImmediateChildren();return e.length?s().reduce(e,(function(e,t){return t._getNestedViews?e.concat(t._getNestedViews()):e}),e):e}},f={constructor:function(){m.constructor.apply(this,arguments)},triggerRendered:function(){return this.isRendered=!0,m.triggerRendered.apply(this,arguments)},rebase:function(e){return this.stopListening(this.collection),this.collection=e,this._initialEvents(),s().isFunction(this._renderChildren)?this._renderChildren():this.render(),this},buildItemView:function(){const e=m.buildItemView.apply(this,arguments);return e._parentView=this,e},_getImmediateChildren:function(){return s().values(this.children._views)}},I={constructor:function(){m.constructor.apply(this,arguments)}},b={append:function(e,t,n){const i=e.isClosed||s().isUndefined(e.$el),r=e!==this.currentView;return r&&this.close(),e.render(),(r||i)&&(t||(t=this.getEl(this.el)),n?t.prepend(e.el):t.append(e.el)),this.attachView(e),c().triggerMethod.call(this,"show",e),c().triggerMethod.call(e,"show"),this._updateParentView(e),this._triggerAttached(e,t),this},prepend:function(e,t){return this.append(e,t,!0)},show:function(e){h.show.apply(this,arguments),this._updateParentView(e),this._triggerAttached(e,this.$el)},_triggerAttached:function(e,t){if(!c().isNodeAttached(t.get(0)))return;const n=s().union([e],s().result(e,"_getNestedViews")||[]);s().each(n,(function(e){e.triggerMethod&&e.triggerMethod("attached",this)}),this)},_updateParentView:function(e){e&&(e._parentView=this._parentView)}},M={buildRegion:function(e,t){const n=g.buildRegion.apply(this,arguments);return n._parentView=e._parentView,n}},S={_buildRegions:function(e){const t=s().mapObject(e,(e=>s().isString(e)?{_parentView:this,selector:e}:s().defaults(e,{_parentView:this})));return y._buildRegions.call(this,t)},_getImmediateChildren:function(){return s().chain(this.regionManager._regions).values().pluck("currentView").compact().value()}};s().extend(c().View.prototype,v),s().extend(c().ItemView.prototype,v),s().extend(c().CollectionView.prototype,v,f),s().extend(c().CompositeView.prototype,v,I),s().extend(c().Region.prototype,b),s().extend(c().Region,M),s().extend(c().Layout.prototype,S),c().extend=o.ZP.Model.extend,c().Controller.extend=c().extend,c().Region.extend=c().extend,c().Application.extend=c().extend,c().Module.extend=c().extend,c().View.extend=c().extend,c().ItemView.extend=c().extend,c().CollectionView.extend=c().extend,c().CompositeView.extend=c().extend,c().Layout.extend=c().extend;const E=c()},38910:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(19755),s=n.n(i),r=n(14e3),a=n(33295);const o={isPopulating(){return!!this.populatePromise&&"pending"===this.populatePromise.state()},isPopulated(){return!!this.populatePromise&&"resolved"===this.populatePromise.state()},populate(){return this.populatePromise?this.populatePromise:this.fetch.apply(this,arguments)},fetch(){const e=s().Deferred();let t;if(this.isPopulating())return this.populatePromise;t=this._fetch?this._fetch.apply(this,arguments):this instanceof r.ZP.Collection?r.ZP.Collection.prototype.fetch.apply(this,arguments):r.ZP.Model.prototype.fetch.apply(this,arguments);const n=e.promise();return n.rid=t.rid,this.populatePromise=n,this.failedPopulatePromise=null,t.done((n=>{this.populatePromise=s().Deferred().resolveWith(this,[this]).promise(),e.resolveWith(this,[this,n,t])})),t.fail((t=>{this.populatePromise=null,this.failedPopulatePromise=n,e.rejectWith(this,[this,t])})),n},abortPendingPopulate(){return this.isPopulating()&&a.Z.abort(this.populatePromise.rid),this.populatePromise},resetPopulatePromise(e){return this.isPopulating()||(this.populatePromise=e,this.failedPopulatePromise=null),this.populatePromise}}},12634:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(19755),s=n.n(i),r=n(13469),a=n.n(r),o=(n(67038),n(47909)),l=n(14e3),c=n(38910),d=n(59756),u=n(56442),p=(n(46053),n(27082));const m=l.ZP.Collection.extend({mixins:[c.Z],responseType:u.Ls,instanceOptions:["url","path","pageStart","pageSize","persistInCache","skipCache"],_context:["parent"],cache:null,cacheKey:function(){return a().result(this,"url")},constructor:function(e,t){t||(t={}),a().each(this.getContext(),(function(e){const n=t[e];void 0!==n&&this.setContext(e,n)}),this);const n=a().result(this,"instanceOptions");if(a().each(n,(function(e){a().has(t,e)&&(this[e]=t[e])}),this),null==this.pageStart&&null==this.pageSize||(this.pageStart||(this.pageStart=0),this.pageSize||(this.pageSize=0)),t.populated&&this.resetPopulatePromise(s().Deferred().resolve().promise()),!this.cache||this.skipCache)return l.ZP.Collection.prototype.constructor.apply(this,arguments),void this._initState();this.initialize.apply(this,arguments);const i=this.cache.getItemCacheKey(this),r=this.cache.get(i);return this.uninitialize(),r||(t.onlyIfCached?{}:(l.ZP.Collection.prototype.constructor.apply(this,arguments),this._initState(),void this.cache.store(this,i)))},uninitialize:function(){this.stopListening()},_initState:function(){d.Z.shouldCreateStateTree&&(this.state=this.toState(),this.updateState=this.updateState.bind(this),this.on("reset update sort",this.onCollectionChange,this),this.on("statechange",this.onStateChange,this))},hasContext:function(e){return this.getContext().includes(e)},getContext:function(){if(!this.context)return this._context;const e=a().result(this,"context");return this._context.concat(e)},setContext:function(e,t){-1!==this.getContext().indexOf(e)&&this[e]!==t&&(this[e]=t,this.each((function(n){n.setContext(e,t)})))},getState:function(){return this.state},updateState:function(){const e=this.state,t=this.getState();this.state=this.toState();const n=this.getState();return this.trigger("statechange",this,n,t),{name:this.name,previousState:e,nextState:n}},toState:function(){return this.name,this.reduce(this.reduceState,[])},reduceState:function(e,t){const n=t.getState();return n&&e.push(n),e},shouldUpdateModelState:function(e,t,n){return t!==n},sync:function(){return this.cache&&this.cache.store(this),l.ZP.sync.apply(this,arguments)},syncUrl:function(){let e="";if(this.url&&(e=a().result(this,"url")),this.path&&(e=o.Z.join([e,a().result(this,"path")])),null!=this.pageStart||null!=this.pageSize){const t={"X-Plex-Container-Start":this.pageStart||0,"X-Plex-Container-Size":this.pageSize||0};e=o.Z.join(e,t)}return e},parse:function(e,t){return this.name,this.convert(e)},convert:function(e){let t=e;const n=a().result(this,"responseType");if(a().isString(t)&&(a().isFunction(this.augmentResponseText)&&(t=this.augmentResponseText(t,n)),t=n.parse(t),n===u.AV&&t.MediaContainer&&(t=t.MediaContainer)),a().isFunction(this.augmentResponse)&&(t=this.augmentResponse(t,n)),Array.isArray(t))return t;const i=this.model.prototype.rootPropertyName;if(!i)return t;let s=t[i];return s?(Array.isArray(s)||(s=[s]),s):[]},clone:function(e){e||(e=this.models);const t=a().result(this,"instanceOptions"),n=a().extend(a().pick(this,t),a().pick(this,this.getContext()),{skipCache:!0,persistInCache:!1});return new this.constructor(e,n)||null},cloneDeep:function(e){e||(e=this.models);const t=a().map(e,(function(e){return e.clone()}));return this.clone(t)},clear:function(e){e=a().extend({silent:!0},e),this.abortPendingPopulate(),this.resetPopulatePromise(null),this.reset([],e)},getSaveParams:function(){return this.map((function(e){return e.getSaveParams()}))},onCollectionChange:function(){p.GF(this.updateState,this)},onStateChange:function(e,t,n){e!==this&&this.shouldUpdateModelState(e,t,n)&&p.GF(this.updateState,this)}})},53334:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var i=n(19755),s=n.n(i),r=n(13469),a=n.n(r),o=n(29705),l=n(67038),c=n(69434),d=n(47909),u=n(93966),p=n(14e3),m=n(38910),h=n(14408),g=n(59756),y=n(56442);const v=function(e,t){return e?a().reduce(t,((t,n,i)=>(a().isEqual(e[i],n)||(t[i]=n),t)),{}):t};n(46053);var f=n(95113),I=n(27082);const b=/^change:([\w]+)$/,M=e=>Array.isArray(e)?e[0]:e,S=p.ZP.Model.extend({mixins:[m.Z],name:"AbstractModel",responseType:y.Ls,hasInitialRelations:!1,_context:["parent","skipCache"],cache:null,cacheKey:function(e){return e[this.idAttribute]},constructor:function(e,t){let n;if(e||(e={}),t||(t={}),this.initialize!==p.ZP.Model.prototype.initialize&&(n=this.initialize,this.initialize=function(){}),this.getContextNames().forEach((e=>{const n=this.findOption(t,e);void 0!==n&&(this[e]=n)})),!this.cache||this.findOption(t,"skipCache"))return p.ZP.Model.prototype.constructor.apply(this,arguments),this._initModel(t),void(n&&(n.apply(this,arguments),this.initialize=n));const i=this.findOption(t,"onlyIfCached"),s=this.cache.getItemCacheKey(this,e);let r=this.cache.get(s);if(!r&&this.entityID&&(0,u.s4)("appModel")){const t=(0,u.DB)("appModel");if(t.has("entities")){const n=t.get("entities").get(this.entityType),i=this.entityID(e),s=n.get(i);s&&(r=s.get("model"))}}return r?(this.uninitialize(),i||(this.mergeStrategy&&(r.isMergingAttributes=!0),t.parse?e=r.parse(e):a().extend(e,r._getRelations(this.syncedRelations,e)),r.set(e),r.isMergingAttributes=!1),this.getContextNames().forEach((e=>{r.setContext(e,this[e]||r[e])})),t.collection&&(r.collection=t.collection),r.updateEntity(),r):i?{}:(p.ZP.Model.prototype.constructor.apply(this,arguments),this._initModel(t),n&&(n.apply(this,arguments),this.initialize=n),void this.cache.store(this,s))},uninitialize:function(){this.stopListening()},_initModel:function(e){g.Z.shouldCreateStateTree&&this.entityID&&(this.state=this.toState()),this._initRelations(e),this._initDerived(e),this._initState()},_initRelations:function(e){this._relationListeners={};const t=a().extend({},this.sessionRelations,this.syncedRelations);a().each(t,(function(e,t){this._initRelation(e,t);const n=a().bind(this._initRelation,this,e,t);this.on("change:"+t,n)}),this),this.hasInitialRelations=!0,this.set(this._getRelations(this.sessionRelations,this.attributes)),e.parse||this.set(this._getRelations(this.syncedRelations,this.attributes))},_initRelation:function(e,t){const n=this._resolveRelationDefinition(e).relationClass,i=this.get(t),s=this.previous(t),r=i&&i instanceof n;s&&s instanceof n&&a().has(this._relationListeners,t)&&(s.off("all",this._relationListeners[t]),this._relationListeners[t]=null),r&&this._forwardRelationEvents(i,t)},_initDerived:function(){a().each(this.derivedAttrs,this._setDerived,this)},_initState:function(){g.Z.shouldCreateStateTree&&(this.state=this.toState(),this.updateState=this.updateState.bind(this),this.updateEntity(),this.on("all",this.onEvent,this))},findOption:function(e,t){return e[t]||e.collection&&e.collection[t]},getContextNames:function(){return this.getContext().map(M)},getContext:function(){if(!this.context)return this._context;const e=a().result(this,"context");return this._context.concat(e)},setContext:function(e,t){if(!this.hasContext(e)||this[e]===t)return;const n=this.getContext().find((t=>M(t)===e)),i=Array.isArray(n)&&n[1]&&n[1].boundDerivedAttrs,s=i?[e,...i]:[e];let r;if(this[e]=t,s.forEach((e=>{this.hasDerived(e)&&(r=r||{},r[e]=this.derivedAttrs[e].call(this))})),r&&this.set(r),"parent"===e)return;const o=a().extend({},this.sessionRelations,this.syncedRelations);a().each(o,(function(n,i){const s=this.get(i);s&&s.setContext(e,t)}),this)},getScopedKey:function(e){return null!=e&&a().isFunction(this.cacheKey)?this.cacheKey(this.attributes)+"!"+e:e},getState:function(){return this._computedEntityID||this.state},updateState:function(){const e=this.state,t=this.getState();this.state=this.toState();const n=this.getState();return n!==t&&this.updateEntity(),this.trigger("statechange",this,n,t),{name:this.name,previousState:e,nextState:n}},updateEntity:function(){this._computedEntityID&&!this.skipCache&&((0,l.Z)(this.entityType,this.name+" requires an `entityType`"),o.Z.trigger("change:entity",{type:this.entityType,id:this._computedEntityID,model:this}))},toState:function(){this.name;const e=Object.keys(this.attributes),t=a().reduce(e,this.reduceState,{possibleEntityContainers:[]},this);return Object.defineProperty(t,"possibleEntityContainers",{enumerable:!1}),this.entityID&&(this._computedEntityID=this.entityID(t)),t},reduceState:function(e,t){const n=this.attributes[t];return n&&n.getState?(e.possibleEntityContainers.push(t),e[t]=n.getState(),e):(n&&n.initialize||(e[t]=n),e)},shouldUpdateRelationState:function(e,t,n){return t!==n},toJSON:function(e={}){this.name;const t=this.syncedAttrs,n=this.sessionRelations,i=this.syncedRelations,r=this.attributes,o={};for(const s in r){const l=e.excluded&&e.excluded.includes(s),c=n&&a().has(n,s),d=i&&a().has(i,s),u=e.syncedOnly&&(!t||!a().has(t,s));l||c||d||u||(o[s]=r[s])}let l=s().extend(!0,{},o);function c(t,n){const i=this.get(n),s=e.excluded&&e.excluded.includes(n);if(i&&!s){let t;t=e.excludeDefaults?i instanceof p.ZP.Collection?i.map((function(t){return v(a().result(t,"defaults"),t.toJSON(e))})):v(a().result(i,"defaults"),i.toJSON(e)):i.toJSON(e),l[n]=t}}return e.excludeDefaults&&(l=v(a().result(this,"defaults"),l)),e.syncedOnly||a().each(n,c,this),a().each(i,c,this),l},clone:function(){const e=a().extend(a().pick(this,this.getContextNames()),{skipCache:!0});return new this.constructor(this.toJSON(),e)||null},copy:function(e){(0,l.Z)(e instanceof this.constructor,"Only a model of the same type may be copied");const t=e.toJSON();return a().extend(t,this._getRelations(this.sessionRelations,t,{parse:!0}),this._getRelations(this.syncedRelations,t,{parse:!0})),this.set(t)},restoreDefaults:function(e){const t={};return a().each(this.attributes,(function(e,n){this.derivedAttrs&&a().has(this.derivedAttrs,n)||(t[n]=void 0)}),this),a().extend(t,this._getRelations(this.sessionRelations,{},{reset:!0}),this._getRelations(this.syncedRelations,{},{reset:!0}),a().result(this,"defaults"),e),this.set(t)},set:function(e,t,n){let i,s;return a().isObject(e)?(i=e,n=t):(i={})[e]=t,n||(n={}),!this.isMergingAttributes&&n.merge&&this.mergeStrategy&&(s=!0,this.isMergingAttributes=!0),this.isMergingAttributes&&(i=this._mergeAttributes(i)),p.ZP.Model.prototype.set.call(this,i,n),s&&(this.isMergingAttributes=!1),this},hasAttr:function(e){const t=this.sessionAttrs&&a().has(this.sessionAttrs,e),n=this.syncedAttrs&&a().has(this.syncedAttrs,e);return!(!t&&!n)},hasRelation:function(e){const t=this.sessionRelations&&a().has(this.sessionRelations,e),n=this.syncedRelations&&a().has(this.syncedRelations,e);return!(!t&&!n)},hasDerived:function(e){return!(!this.derivedAttrs||!a().has(this.derivedAttrs,e))},hasContext:function(e){return this.getContextNames().includes(e)},validate:function(e,t){const n=a().extend({},this.sessionAttrs,this.syncedAttrs,this.sessionRelations,this.syncedRelations),i=this._validateTypes(e,n);return i&&(0,l.Z)(!1,i),i},parse:function(e,t){return t&&t.save&&!this.hasResponseOnSave?this.attributes:(this.name,this.convert(e,t))},parseResponse(e){let t=e;const n=a().result(this,"responseType");let i;return a().isString(t)&&(i=!0,a().isFunction(this.augmentResponseText)&&(t=this.augmentResponseText(t,n)),t=n.parse(t)),n===y.AV&&t.MediaContainer&&(t=t.MediaContainer),a().isFunction(this.augmentResponse)&&(t=this.augmentResponse(t,n)),i&&this.rootPropertyName&&a().has(t,this.rootPropertyName)&&(t=t[this.rootPropertyName]),Array.isArray(t)&&(t=t[0]),t},convert:function(e,t){const n=this.parseResponse(e),i={};let s;a().each(this.sessionAttrs,(function(e,t){a().has(n,t)&&(i[t]=n[t])})),a().each(this.syncedAttrs,(function(e,t){if(a().has(n,t)){let s,r=e;r.typeName||(r=e.type,s=a().omit(e,"type")),i[t]=null==n[t]?n[t]:r.parse(n[t],s)}else this.has(t)&&(s||(s=a().result(this,"defaults")),i[t]=s&&a().has(s,t)?s[t]:void 0)}),this);const r=a().extend({},t,{parse:!0});return a().extend(i,this._getRelations(this.syncedRelations,n,r)),i},save:function(e,t,n){let i;null==e||"object"==typeof e?(i=e,n=t):(i={})[e]=t;const r=a().extend({save:!0},n),o=a().extend(this.getSaveParams(i),r.data);if(a().isEmpty(o))return r.success&&r.success(this),s().Deferred().resolve(this);r.data=o;const l=r.success;return r.success=function(e,t,n){e.cache&&e.cache.store(e),l&&l(e,t,n)},p.ZP.Model.prototype.save.call(this,i,r)},sync:function(e,t,n){const i=n?a().clone(n):{};if("create"===e||"update"===e){const e=i.data,t=i.url||a().result(this,"saveUrl")||a().result(this,"syncUrl")||a().result(this,"url");i.url=d.Z.join(t,e),i.data=""}return p.ZP.Model.prototype.sync.call(this,e,t,i)},getSaveParams:function(e){const t=this._getSaveAttrs(e);return a().reduce(t,(function(e,t,n){const i=t.definition;let s=t.value,r=n;if(!i)return e[r]=s,e;const o=i.relationClass;if(o){const e=o.prototype.model;let t;i.rootPropertyName?t=i.rootPropertyName:s&&s.rootPropertyName?t=s.rootPropertyName:e&&e.prototype&&(t=e.prototype.rootPropertyName),s&&(s=s.getSaveParams()),t&&(r=t)}else{let e,t;a().has(i,"type")?(e=i.type,t=a().omit(i,"type")):e=i,s=e.stringify(s,t)}return e[r]=s,e}),{},this)},startCapturingChangeEvents:function(){if(this.releaseCapturedChangeEvents)return void(0,l.Z)(!1,this.name+" is already capturing events");const e=this.set,t=[],n=a().clone(this.attributes);this.set=function(n,i,s){const r=a().extend({},s,{silent:!0});let o;return"object"==typeof n?(o=n,s=i):(o={})[n]=i,a().each(o,(function(n,i){this.get(i)!==n&&(t.push({key:i,value:n}),e.call(this,i,n,r))}),this),a().each(this._derivedListeners,(function(n){const i=n.key,s=this.derivedAttrs[i].call(this);this.get(i)!==s&&(t.push({key:i,value:s}),e.call(this,i,s,r))}),this),this},this.releaseCapturedChangeEvents=function(){this.set=e,this.releaseCapturedChangeEvents=null,this.discardCapturedChangeEvents=null,this._previousAttributes=n,this._changing=!0,a().each(t,(function(e){this.trigger("change:"+e.key,this,e.value)}),this),this._changing=!1,a().isEmpty(t)||this.trigger("change",this,{})},this.discardCapturedChangeEvents=function(){this.set=e,this.releaseCapturedChangeEvents=null,this.discardCapturedChangeEvents=null,t.length=0}},spyOnGet:function(e){const t=[],n=this.get;return this.get=function(e){return t.push("change:"+e),this.hasRelation(e)&&t.push("change:"+e+".change"),n.apply(this,arguments)},e.call(this),this.get=n,t},dispatch:function(e){},_mergeAttributes:function(e){const t=this.mergeStrategy;return t?a().reduce(e,(function(e,n,i,s){return e[i]=t(i,this.get(i),n),e}),{},this):e},_resolveRelationDefinition:function(e){return a().isFunction(e)?e.call(this):e},_getRelations:function(e,t,n){t||(t={}),n||(n={});const i={};return a().each(e,(function(e,s){const r=this._resolveRelationDefinition(e),o=r.relationClass;(0,l.Z)(o,this.name+" requires a `relationClass` for the "+s+" relation");let c=s;n.parse&&!a().has(t,s)&&a().has(r,"rootPropertyName")&&(c=r.rootPropertyName);let d=t[c];if(d instanceof o)return void(i[s]=d);if(!d&&r.deferred)return void(i[s]=void 0);let u=n.reset?null:this.get(s),m=u instanceof o;const h=o.prototype instanceof p.ZP.Collection;if(h?d=f.Z.parseArray(d):d||(d={}),m&&!h&&(n.parse&&(d=u.parse(d)),m=u.id===d[u.idAttribute||"id"]),m){u.isMergingAttributes=this.isMergingAttributes;let e=r.setOptions;a().isFunction(e)&&(e=e.call(this,n)),h?u.set(d,a().extend({parse:n.parse,remove:!this.isMergingAttributes},e)):u.set(d,a().extend({merge:!0},e)),u.isMergingAttributes=!1}else{const e={parse:n.parse};if(this.getContextNames().forEach((t=>{e[t]=this[t]})),!h){let e=r.attrs;a().isFunction(e)&&(e=e.call(this,t)),d=a().extend({},d,e)}let i=r.options;a().isFunction(i)&&(i=i.call(this,t)),a().extend(e,{parent:this},i),u=new o(d,e)}i[s]=u}),this),i},_forwardRelationEvents:function(e,t){const n=["sync","request","invalid","error","add","remove"];function i(){const i=arguments[0];if("change"===i)return;if("statechange"===i)return void(this.shouldUpdateRelationState.apply(this,a().rest(arguments,1))&&I.GF(this.updateState,this));const s=a().toArray(arguments);s[0]="change:"+t+"."+i,this.trigger.apply(this,s),a().contains(n,i)||(this.trigger("change:"+t+".change",this,e),this.trigger("change",this))}e.on("all",i,this),this._relationListeners[t]=i},_setDerived:function(e,t){let n;const i=this.spyOnGet((function(){const i=this.set;this.set=function(){(0,l.Z)(!1,this.name+" blocked `set` in the "+t+" attribute. Derived attributes are read-only.")},n=e.call(this),this.set=i}));this.set(t,n),a().each(i,(function(n){this._addDerivedListener(t,n,e)}),this)},_addDerivedListener:function(e,t,n){this._derivedListeners||(this._derivedListeners=[]);const i={key:e,name:t,callback:a().bind(this._setDerived,this,n,e)};a().findWhere(this._derivedListeners,{key:e,name:i.name})||(this._derivedListeners.push(i),this.on(i.name,i.callback))},_getSaveAttrs:function(e){let t;if(e)t=a().reduce(e,(function(e,t,n){return e[n]={definition:this.syncedAttrs[n],value:t},e}),{},this);else{const e=a().extend({},this.syncedAttrs,this.syncedRelations);t=a().reduce(e,(function(e,t,n){const i=this._resolveRelationDefinition(t);let s=i.save;return a().isFunction(s)&&(s=s.call(this)),s&&(e[n]={definition:i,value:this.get(n)}),e}),{},this)}return t},_validateTypes:function(e,t){const n=Object.keys(e),i=a().reduce(n,(function(n,i){if(this.hasDerived(i))return n;if(!a().has(t,i))return n.push(this.name+" received an unknown attribute: "+i+". All attributes must be defined in `sessionAttrs`, `syncedAttrs`, `sessionRelations`, or `syncedRelations`."),n;const s=e[i],r=this._resolveRelationDefinition(t[i]),o=r.relationClass;let l;l=o?this.hasInitialRelations?h.Z.instanceOf(o):o.prototype instanceof p.ZP.Collection?h.Z.oneOfType(h.Z.array,h.Z.object):h.Z.object:r.type?r.type:r;const c=l.validate;return c?c(s)||n.push(i+" of type "+l.typeName+" has an invalid value: "+JSON.stringify(s)):n.push(i+" has an unknown type. Specify the type in the attribute definition or use attrTypes.any as a wildcard type."),n}),[],this);if(i.length>0)return i.join("\n")},onEvent:function(e,t,n){if(!t)return void c.Z.warn("Unable to handle",e);const i=e.match(b);if(!i)return;const s=i[1];t.get(s)!==this.state[s]&&(n&&n.updateEntity&&n.updateEntity(),I.GF(this.updateState,this))}})},29415:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(19755),s=n.n(i),r=n(13469),a=n.n(r),o=n(47909),l=n(14e3),c=n(38910),d=n(89905),u=n(55983);const p=l.ZP.Collection.extend({mixins:[c.Z],cache:new d.Z,constructor:function(e,t){if(t||(t={}),this.server=t.server,this.section=t.section,this.channel=t.channel,this.device=t.device,this.parent=t.parent,this.allowInCache=t.allowInCache,this.persistInCache=t.persistInCache,this.skipCache=t.skipCache,t.url&&(this.url=t.url),t.path&&(this.path=t.path),null==t.pageStart&&null==t.pageSize||(this.pageStart=t.pageStart||0,this.pageSize=t.pageSize||0),t.populated&&this.resetPopulatePromise(s().Deferred().resolve().promise()),!t.allowInCache&&!t.persistInCache)return void l.ZP.Collection.prototype.constructor.apply(this,arguments);this.initialize.apply(this,arguments);const n=this.cache.getItemCacheKey(this);let i=this.cache.get(n);if(this.uninitialize(),t.onlyIfCached&&(i||(i={})),i)return i;l.ZP.Collection.prototype.constructor.apply(this,arguments),this.cache.store(this,n)},uninitialize:function(){this.stopListening()},sync:function(){return(this.allowInCache||this.persistInCache)&&this.cache.store(this),l.ZP.sync.apply(this,arguments)},syncUrl:function(){let e="";if(this.url&&(e=a().result(this,"url")),this.path&&(e=o.Z.join([e,a().result(this,"path")])),null!=this.pageStart||null!=this.pageSize){const t=this.pageStart||0,n=this.pageSize||0,i={};i["X-Plex-Container-Start"]=t,i["X-Plex-Container-Size"]=n,e=o.Z.join(e,i)}return e},convert:function(e,t){const n=a().isObject(e)?e:u.Z.parseXML(e);if(!t)return n;let i=n[t];return i?(Array.isArray(i)||(i=[i]),i):[]},clone:function(e){const t={server:this.server,section:this.section,parent:this.parent,url:this.url};return e||(e=this.models),new this.constructor(e,t)},cloneDeep:function(e){return e||(e=this.map((function(e){return e.clone()}))),this.clone(e)},clear:function(e){e=a().extend({silent:!0},e),this.abortPendingPopulate(),this.resetPopulatePromise(null),this.reset([],e)}});p.extend=function(){const e=l.ZP.Collection.extend.apply(this,arguments);return e.prototype.cache=new d.Z,e};const m=p},69865:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(19755),s=n.n(i),r=n(13469),a=n.n(r),o=n(67038),l=n(47909),c=n(14e3),d=n(38910),u=n(36776),p=n(55983);const m=c.ZP.Model.extend({mixins:[d.Z],cache:new u.Z,constructor:function(e,t){e||(e={}),t||(t={}),this.server=this.findOption(t,"server"),this.section=this.findOption(t,"section"),this.channel=this.findOption(t,"channel"),this.device=this.findOption(t,"device"),this.parent=this.findOption(t,"parent");const n=this.findOption(t,"skipCache");if(n)return void c.ZP.Model.prototype.constructor.apply(this,arguments);const i=this.cache.getItemCacheKey(this,e),s=this.cache.get(i);if(s)return t.parse&&(e=s.parse(e)),this.preserveCachedAttributes&&this.preserveCachedAttributes(t.url)?a().each(e,(function(e,t){a().isUndefined(s.get(t))&&!a().isUndefined(e)&&s.set(t,e)})):s.set(e),s.server=this.server||s.server,s.section=this.section||s.section,s.channel=this.channel||s.channel,s.device=this.device||s.device,s.parent=this.parent||s.parent,t.collection&&(s.collection=t.collection),s;const r=this.findOption(t,"onlyIfCached");if(r)return{};c.ZP.Model.prototype.constructor.apply(this,arguments),this.cache.store(this,i)},findOption:function(e,t){return e[t]||e.collection&&e.collection[t]},clone:function(){const e={server:this.server,section:this.section,channel:this.channel,parent:this.parent,skipCache:!0};return new this.constructor(this.attributes,e)||null},convert:function(e){return a().isObject(e)?e:p.Z.parseXML(e)},parse:function(e,t){let n=this.convert(e);return this.whitelistedAttrs&&(n=a().pick(n,this.whitelistedAttrs)),n},save:function(e,t,n){let i,r;const o=this.attributes;null==e||"object"==typeof e?(i=e,n=t):(i={})[e]=t,n=a().extend({validate:!0},n);const d=this.getSaveParams(i,n);if(a().extend(d,n.data),i&&!n.wait){if(!this.set(i,n))return!1}else if(!this._validate(i,n))return!1;if(i&&n.wait&&(this.attributes=a().extend({},o,i)),a().isEmpty(d)&&!n.force)return n.success&&n.success(this),s().Deferred().resolve(this);void 0===n.parse&&(n.parse=!0);const u=this,p=n.success;n.success=function(e){if(u.attributes=o,e){let t=u.parse(e,n);if(n.wait&&(t=a().extend(i||{},t)),a().isObject(t)&&!u.set(t,n))return!1;u.cache.store(u)}p&&p(u,e,n),u.trigger("sync",u,e,n)},c.ZP.wrapError(this,n),r=this.isNew()?"create":n.patch?"patch":"update","patch"===r&&(n.attrs=i);const m=a().result(this,"saveUrl")||a().result(this,"url");a().isEmpty(d)||(n.url=l.Z.join(m,d)),n.data="";const h=this.sync(r,this,n);return i&&n.wait&&(this.attributes=o),h},getSaveParams:function(e,t){return this.isNew()?e||this.toJSON():this.changedAttributes(e)||{}},getScopedKey:function(e){return null!=e&&a().isFunction(this.cacheKey)?this.cacheKey(this.attributes)+"!"+e:e},restoreDefaults:function(e){const t=a().result(this,"defaults");if(!t)return this.clear(e);const n=this.attributes;let i;for(i in n)i in t||this.unset(i,e);return this.set(t,e),this},startCapturingChangeEvents:function(){if(this.releaseCapturedChangeEvents)return void(0,o.Z)(!1,"This model is already capturing events");const e=this.set;let t={};this.set=function(n,i,s){let r;"object"==typeof n?(r=n,s=i):(r={})[n]=i;const o=a().extend({},s,{silent:!0}),l=e.call(this,r,o);return a().extend(t,this.changed),l},this.releaseCapturedChangeEvents=function(){a().each(t,(function(e,t){this.trigger("change:"+t,this,e)}),this),a().isEmpty(t)||this.trigger("change",this,{}),t={},this.set=e,this.releaseCapturedChangeEvents=null}}});m.extend=function(){const e=c.ZP.Model.extend.apply(this,arguments);return e.prototype.cache=new u.Z,e};const h=m},56529:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(59756),s=Object.assign;function r(e,t){return i.Z.shouldCreateFlexModels&&(e.prototype.sessionRelations=s(s({},e.prototype.sessionRelations),{desktop:t})),e}},16013:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=[]},14408:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(13469),s=n.n(i),r=n(95113),a=Object.assign;const o=["boolean","integer","float","string","object","array"];function l(e){return!0}function c(e){return s().isObject(e)&&!Array.isArray(e)}function d(e,t){t||(t={});const n=s().defaults(t,{typeName:e,parse:s().bind(r.Z.parseType,r.Z,e),stringify:s().bind(r.Z.stringifyType,r.Z,e)});var i;return n.validate=t.validate?(i=t.validate,function(e){return null==e||i(e)}):l,n.isRequired=a(a({},n),{validate:e=>null!=e&&n.validate(e),typeName:`${n.typeName}<required>`}),n}var u={any:d("any"),boolean:d("boolean",{validate:s().isBoolean}),integer:d("integer",{validate:Number.isInteger}),float:d("float",{validate:s().isNumber}),string:d("string",{validate:s().isString}),object:d("object",{validate:c}),array:d("array",{validate:Array.isArray}),list:d("list",{validate:Array.isArray}),encodedString:d("encodedString",{validate:s().isString}),queryString:d("queryString",{validate:c}),instanceOf:function(){const e=s().toArray(arguments);return d("instanceOf",{validate:function(t){return s().some(e,(function(e){return t instanceof e}))}})},oneOf:function(){const e=s().toArray(arguments);return d("oneOf",{validate:function(t){return s().contains(e,t)}})},oneOfType:function(){const e=s().toArray(arguments);return d("oneOfType",{validate:function(t){return s().some(e,(function(e){return e.validate(t)}))}})},custom:function(e){return d("custom",{validate:e})},getAttrTypeFor:function(e){if(null==e)return u.any;for(let t=0,n=o.length;t<n;t++){const n=u[o[t]];if(n.validate(e))return n}return u.any}};const p=u},59756:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(96242),s=Object.assign;const r=n(44799).Z,a=s(s({allowFlash:!1,testPrivateConnectionsWhenPublicAddressDoesNotMatch:!0,allowHttpsMediaServerConnections:!1,allowMediaServerRelayConnections:!1,allowLoopbackDiscovery:!1,allowSSO:!1,allowMixedContent:!1,allowBaseImagePreloading:!0,allowBaseImageBlobs:!0,heartbeatInterval:1e4,allowManualServers:!1,allowMobileServers:!1,allowMultiTrackAudio:!1,maximumConcurrentConnectionTests:5,shouldCreateFlexModels:!1,shouldCreateStateTree:!1,requiresSignIn:!0,requiresPlexPass:!1,myPlexAccessToken:null,continueUrl:null,primaryServer:null,shouldCreateNewSessionWhenSeekingLiveTV:!1,shouldPreferInsecureLocalConnections:!1,shouldRequestHTMLFromCloudProvider:!1,allowLiveTVPlayback:!0,seekDebounceMilliseconds:null,allowSyncSettings:!1,allowAdsOverMedia:!0,drmType:i.NONE},r),window.PLEXWEB),o=Object.freeze(a)},39879:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(12634),s=n(89653);const r=i.Z.extend({name:"PlayQueueItemCollection",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],model:s.Z})},89653:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var i=n(13469),s=n.n(i),r=n(47909),a=n(93966),o=n(53334),l=n(14408),c=n(57898),d=n(95688);const u={exclusiveBoolAttr(e){this.listenTo(this,"change:"+e,((t,n)=>{n&&this.each((i=>{i.set(e,i===t&&n)}))}))}};var p=n(12634),m=n(64297);const h=o.Z.extend({name:"LyricsSpanModel",context:["server","section"],sessionAttrs:{active:l.Z.boolean},syncedAttrs:{startOffset:l.Z.integer,endOffset:l.Z.integer,text:l.Z.string},defaults:{startOffset:-1,endOffset:-1},isPositionWithin(e){const t=this.get("startOffset"),n=this.get("endOffset");return-1!==t&&(e>=t&&(e<=n||-1===n))}}),g=p.Z.extend({name:"LyricsSpanCollection",context:["server","section"],model:h}),y=o.Z.extend({name:"LyricsLineModel",context:["server","section"],syncedAttrs:{startOffset:l.Z.integer,endOffset:l.Z.integer},syncedRelations:{spans:{relationClass:g,rootPropertyName:"Span"}},defaults:{startOffset:-1,endOffset:-1}}),v=p.Z.extend({name:"LyricsLineCollection",context:["server","section"],model:y,eachSpan(e){this.each((t=>{t.get("spans").each(e)}))}}),f=o.Z.extend({name:"LyricsStreamModel",context:["server","provider","section"],rootPropertyName:"Lyrics",mergeStrategy:m.Z,url(){return r.Z.join(this.get("key"),{format:"xml"})},sessionAttrs:{follow:l.Z.boolean,lyricsError:l.Z.object},syncedAttrs:{id:l.Z.string,key:l.Z.string,streamType:l.Z.integer,index:l.Z.integer,title:l.Z.string,selected:l.Z.boolean,codec:l.Z.string,provider:l.Z.string,format:l.Z.string,minLines:l.Z.integer,timed:l.Z.boolean},syncedRelations:{lines:{relationClass:v,rootPropertyName:"Line"}},defaults:{follow:!0,selected:!1,lyricsError:null}}),I=p.Z.extend({mixins:[u],name:"LyricsStreamCollection",context:["server","provider","section"],model:f,initialize(){this.exclusiveBoolAttr("selected")}});var b=n(36776),M=n(33631),S=n(95113),E=n(4844),D=n(15042),C=n(73004);const P=o.Z.extend({name:"PlayQueueItemModel",context:["server","provider"],syncedAttrs:{url:l.Z.string}}),w=o.Z.extend({name:"PlayQueueItemModel",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],entityType:D.PI,entityID(e=this.state){return(0,E.Z)(this.entityType,e.playQueueItemID,this.server.entityID())},idAttribute:"playQueueItemID",cache:new b.Z,cacheKey(e){return this.server&&this.server.getScopedKey(e.playQueueItemID)},sessionAttrs:{isPlayQueueItem:l.Z.boolean,isLocal:l.Z.boolean},syncedAttrs:{playQueueItemID:l.Z.string,queueIndex:l.Z.integer,key:l.Z.string,ratingKey:l.Z.string,type:l.Z.string,subtype:l.Z.string,advertisement:l.Z.boolean,allowSkipAfter:l.Z.integer,librarySectionID:l.Z.string,hasPremiumLyrics:l.Z.boolean,syncItemId:l.Z.integer,generatorID:l.Z.integer,generatorType:l.Z.integer,clientIdentifier:l.Z.string,target:l.Z.string},syncedRelations:{metadataItem:{relationClass:d.Z,deferred:!0},lyricsStreams:{relationClass:I,deferred:!0},vast:{relationClass:P,deferred:!0}},sessionRelations:{postPlay:{relationClass:c.Z,options(){return{url:`hubs/metadata/${this.get("metadataItem").id}/postplay`}}}},defaults:{isPlayQueueItem:!0,isLocal:!1},augmentResponse(e){const t=s().pick(e,Object.keys(this.syncedAttrs)),{Vast:n}=e;if(n){const e=(0,a.DB)("appModel"),i=e&&e.get("deviceSettings");(i&&i.get("debugAdKind")||M.Z.NONE)===M.Z.VAST&&(n.url=r.Z.join(n.url,{debug:1})),t.vast=n}t.metadataItem=e;const i=s().first(S.Z.parseArray(e.Media));if(i){const e=s().first(S.Z.parseArray(i.Part));if(e){const n=S.Z.parseArray(e.Stream);if(n){const e=C.Z.get("lyrics");t.lyricsStreams=s().filter(n,(t=>S.Z.parseInteger(t.streamType)===e.id))}}}return t}})},72149:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(53334),s=n(14408),r=n(39879),a=n(56442),o=n(67299);const l=i.Z.extend({name:"PlayQueueModel",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion"],idAttribute:"playQueueID",hasResponseOnSave:!0,urlRoot(){return this.get("key")},sessionAttrs:{key:s.Z.string,type:s.Z.string,repeat:s.Z.boolean,own:s.Z.boolean,isUpdatePending:s.Z.boolean,isUniversal:s.Z.boolean},syncedAttrs:{allowShuffle:s.Z.boolean,playQueueID:s.Z.string,playQueueSelectedItemOffset:s.Z.integer,playQueueSelectedItemID:s.Z.string,playQueueSelectedMetadataItemID:s.Z.string,playQueueLastAddedItemID:s.Z.string,playQueueShuffled:s.Z.boolean,playQueueSourceURI:s.Z.string,playQueueTotalCount:s.Z.integer,playQueueVersion:s.Z.integer},syncedRelations:{playQueueItems:{relationClass:r.Z,rootPropertyName:"Metadata"}},derivedAttrs:{canShuffle(){const e=-1!==(this.get("playQueueSourceURI")||"").indexOf("library://x/station");return!this.get("playQueueLastAddedItemID")&&this.get("allowShuffle")&&!e},currentIndex(){const e=this.get("playQueueItems"),t=this.get("playQueueSelectedItemID"),n=e.get(t);return e.indexOf(n)},length(){const e=this.get("playQueueTotalCount")||0,t=this.get("playQueueItems")||[];return Math.max(e,t.length)}},defaults:{repeat:!1,own:!0,isUpdatePending:!1,isUniversal:!1,allowShuffle:!0},augmentResponseText:(e,t)=>t===a.Ls?(0,o.Z)(e):e,augmentResponse(e,t){return this.responseContext.forEach((t=>{const n=e[t];void 0!==n&&this.setContext(t,n)})),e}})},46879:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(13469),s=n.n(i),r=n(47909),a=n(12634),o=n(10723);const l=a.Z.extend({name:"FilterCollection",context:["server","section","includeAdvanced"],model:o.Z,comparator:"filterType",includeAdvanced:!0,url(){const e=s().result(this.section,"url"),t=this.section.get("currentType"),n={includeAdvanced:this.includeAdvanced?1:0};return t&&(n.type=t.id),r.Z.join([e,"/filters"],n)},findUnwatchedFilter(){return this.get("unwatched")||this.get("unwatchedLeaves")}})},10723:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(53334),s=n(14408),r=n(94887);const a=i.Z.extend({name:"FilterModel",context:["server","section","type","standalone"],idAttribute:"filter",rootPropertyName:"Directory",defaults:{advanced:!1},syncedAttrs:{filter:s.Z.string,filterType:s.Z.string,type:s.Z.string,key:s.Z.string,title:s.Z.string,advanced:s.Z.boolean},syncedRelations:{options:{relationClass:r.Z}}})},94887:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(13469),s=n.n(i),r=n(47909),a=n(12634),o=n(53334),l=n(14408);const c=o.Z.extend({name:"FilterOptionModel",context:["server","section","type","standalone"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:l.Z.encodedString,type:l.Z.string,field:l.Z.string,value:l.Z.string,title:l.Z.string},augmentResponse:e=>(e.fastKey?(e.value=e.key,e.key=e.fastKey,e.field=e.type,delete e.type,delete e.fastKey):e.fastKey||e.value||(e.value=e.key),e)}),d=a.Z.extend({name:"FilterOptionCollection",context:["server","provider","section","type","standalone","includeExternalMedia"],model:c,url(){let e;this.type?e={type:this.type}:this.standalone||(e=this.getUrlParams());const t=s().result(this.section,"url");return r.Z.join([t,this.parent.id],e)},getUrlParams(){const e={},t=[],n=this.section.get("currentType"),i=this.section.get("currentFilters");return n&&(e.type=n.id),s().each(i,(t=>{t.key!==this.parent.id&&t.values.length&&(e[t.key]=t.values.join(","))})),s().each(e,((e,n)=>{"unviewedLeafCount"===n?t.push(`${n}>=${e}`):t.push(`${n}=${e}`)})),t.join("&")},augmentResponse:e=>(e.Directory&&!Array.isArray(e.Directory)&&(e.Directory=[e.Directory]),e.Directory=s().filter(e.Directory,(e=>e.title)),e),search(e){const t=this.filter((t=>t.get("title").toLowerCase().indexOf(e.toLowerCase())>-1));return this.clone(t)}})},96389:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(13469),s=n.n(i),r=n(12634),a=n(78636),o=n(19555);const l=r.Z.extend({name:"FirstCharacterCollection",context:["server","provider","section"],model:o.Z,responseType(){return(0,a.Z)(this.server)},url(){const e=s().result(this.section,"url")+"/firstCharacter",t=this.getUrlParams();return t?e+"?"+t:e},getUrlParams(){const e={},t=[],n=this.section.get("currentType");n&&(e.type=n.id);const i=this.section.get("currentFilters");return s().each(i,(t=>{t.values.length&&(e[t.key]=t.values.join(","))})),s().each(e,((n,i)=>{"unviewedLeafCount"===i?t.push(`${i}>=${e[i]}`):t.push(`${i}=${e[i]}`)})),t.join("&")}})},19555:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(53334),s=n(14408);const r=i.Z.extend({name:"FirstCharacterModel",context:["server","provider","section"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:s.Z.string,title:s.Z.string,size:s.Z.integer},urlRoot(){return`/library/sections/${this.section.id}/firstCharacter`}})},94053:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(47909),s=n(53334),r=n(14408),a=n(78636),o=n(5562),l=n(12634);const c=s.Z.extend({name:"LibraryDirectoryModel",context:["server"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:r.Z.string,title:r.Z.string}}),d=l.Z.extend({name:"LibraryDirectoryCollection",context:["server"],model:c});var u=n(3644),p=n(99086);const m=s.Z.extend({name:"LibraryDetailsModel",context:["server","provider","includeAdvanced"],responseType(){return(0,a.Z)(this.server)},url(){const e={includeDetails:1};return this.includeAdvanced&&(e.includeAdvanced=1),i.Z.join(this.get("key"),e)},sessionAttrs:{key:r.Z.string.isRequired},syncedAttrs:{librarySectionID:r.Z.string},syncedRelations:{directories:{relationClass:d,rootPropertyName:"Directory"},types:{relationClass:p.Z,rootPropertyName:"Type"},fieldTypes:{relationClass:u.Z,rootPropertyName:"FieldType"}},augmentResponse(e){if(e.Directory&&e.Directory.length&&e.Directory.some((({key:e})=>"folder"===e))&&e.Type&&e.Type.length&&e.Type.every((({type:e})=>"folder"!==e))){const t=e.librarySectionID;e.Type.push({key:`/library/sections/${t}/folder`,type:"folder",title:(0,o.Z)("Folders")})}return e}})},3644:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(12634),s=n(53334),r=n(14408);const a=s.Z.extend({name:"OperatorModel",context:["server"],idAttribute:"key",rootPropertyName:"Operator",syncedAttrs:{key:r.Z.string,title:r.Z.string}}),o=i.Z.extend({name:"OperatorCollection",context:["server"],model:a}),l=s.Z.extend({name:"MetadataFieldTypeModel",context:["server"],idAttribute:"type",rootPropertyName:"FieldType",syncedAttrs:{type:r.Z.string.isRequired},syncedRelations:{operators:{relationClass:o,rootPropertyName:"Operator"}}}),c=i.Z.extend({name:"MetadataTypeCollection",context:["server"],model:l})},99086:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(12634),s=n(53334),r=n(14408);const a=s.Z.extend({name:"FieldModel",context:["server"],idAttribute:"key",rootPropertyName:"Field",syncedAttrs:{key:r.Z.string,title:r.Z.string,type:r.Z.string,subType:r.Z.string}}),o=i.Z.extend({name:"FieldCollection",context:["server"],model:a});var l=n(46879),c=n(32919);const d=s.Z.extend({name:"MetadataTypeModel",context:["server"],idAttribute:"key",rootPropertyName:"Type",syncedAttrs:{type:r.Z.string,subtype:r.Z.string,key:r.Z.string,title:r.Z.string,context:r.Z.string},syncedRelations:{filters:{relationClass:l.Z,rootPropertyName:"Filter"},sorts:{relationClass:c.Z,rootPropertyName:"Sort"},fields:{relationClass:o,rootPropertyName:"Field"}}}),u=i.Z.extend({name:"MetadataTypeCollection",context:["server"],model:d})},33192:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(12634),s=n(78636),r=n(60963);const a=i.Z.extend({name:"SectionCollection",context:["server"],model:r.Z,url:"/library/sections",responseType(){return(0,s.Z)(this.server)}})},60963:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var i=n(13469),s=n.n(i),r=n(47909),a=n(53334),o=n(14408),l=n(68252),c=n(69881),d=n(95933);const u={unviewedLeafCount:">="},p=d.Z.extend({name:"SectionMetadataListModel",context:["server","section","identifier","mediaTagPrefix","mediaTagVersion","allowSync"],url(){let e,t,n=[];const i=this.section.get("currentFolderKey");if(i)n.push(i);else if(n.push(s().result(this.section,"url")),e=this.section.get("currentSubset").id,this.section.get("allowAdvancedFilters"))"recentlyAdded"!==e&&"newest"!==e||(e="all"),n.push(e),t=this.getParams();else{const t=this.section.get("currentFilters");t.length?n=[t[0].values[0]]:n.push(e)}let a=r.Z.join(n,t);return a=this.replaceSpecialFilterOperators(a),this.set("containerKey",a),this.server.get("isFullServer")?this.getPaginatedUrl(a):a},getParams(){const e=this.getFilterParams(),t=this.getMetadataTypeID(),n=this.getSort();return t&&t!==(0,c.getMetadataType)("photo").id&&(e.type=t),n&&(e.sort=n),this.section.get("refreshing")&&this.server.supports("timelineState")&&(e.timelineState=1),e},getFilterParams(){const e=this.section.get("currentFilters"),t={};return s().each(e,(e=>{e.values.length&&(t[e.key]=e.values.map(decodeURIComponent).join(","))})),t},getMetadataTypeID(){const e=this.section.get("currentSubset").id;let t=this.section.get("currentType").id||(0,c.getMetadataType)(this.section.get("type")).id;return/^(onDeck|recentlyAdded|recentlyViewed|newest)$/.test(e)?t===(0,c.getMetadataType)("show").id||t===(0,c.getMetadataType)("season").id?t=(0,c.getMetadataType)("episode").id:t!==(0,c.getMetadataType)("artist").id&&t!==(0,c.getMetadataType)("track").id||(t=(0,c.getMetadataType)("album").id):/^recentlyViewedShows$/.test(e)&&(t=(0,c.getMetadataType)("show").id),t},getSort(){const e=this.section.get("currentSort"),t=this.section.get("currentSubset").id;return"recentlyAdded"===t?"addedAt:desc":"newest"===t?"originallyAvailableAt:desc":e?(e.get("direction")||e.get("defaultDirection"))===l.Z.directions.DESCENDING?e.get("descKey"):e.get("key"):void 0},replaceSpecialFilterOperators:e=>(s().each(u,((t,n)=>{e=e.replace(n+"=",n+t)})),e)});var m=n(91485),h=n(36776),g=n(4844),y=n(15042),v=n(32003),f=n(5562);const I=(0,n(35981).Z)(["key"],[{key:"all",title:()=>(0,f.Z)("All")},{key:"unwatched",title:()=>(0,f.Z)("Unplayed")},{key:"newest",title:()=>(0,f.Z)("Recently Released")},{key:"recentlyAdded",title:()=>(0,f.Z)("Recently Added")},{key:"recentlyViewed",title:()=>(0,f.Z)("Recently Viewed")},{key:"recentlyViewedShows",title:()=>(0,f.Z)("Recently Viewed Shows")},{key:"onDeck",title:()=>(0,f.Z)("On Deck")},{key:"folder",title:()=>(0,f.Z)("By Folder")}]);var b=n(46879),M=n(96389),S=n(19555),E=n(12634),D=n(94887);const C=a.Z.extend({name:"LinearFilterModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{secondary:o.Z.boolean,key:o.Z.string,title:o.Z.string},syncedRelations:{options:{relationClass:D.Z}},defaults:{secondary:!1}}),P=E.Z.extend({name:"LinearFilterCollection",context:["server","section"],model:C,url(){return s().result(this.section,"url")},filterBySecondary(){const e=this.filter((e=>e.get("secondary")));return this.clone(e)}}),w=a.Z.extend({name:"LocationModel",context:["server","section"],rootPropertyName:"Location",syncedAttrs:{id:o.Z.integer,path:{type:o.Z.string,save:!0}}}),T=E.Z.extend({name:"LocationCollection",context:["server","section"],model:w}),Z=a.Z.extend({name:"MediaTypeModel",context:["server","section"],sessionAttrs:{id:o.Z.integer,typeString:o.Z.string,title:o.Z.string,plural:o.Z.string,mediaType:o.Z.string,child:o.Z.string,parent:o.Z.string,selected:o.Z.boolean},defaults:{selected:!1}}),N=E.Z.extend({name:"MediaTypeCollection",context:["server","section"],model:Z}),A=["all","recentlyAdded","recentlyViewed","recentlyViewedShows","onDeck","newest","folder"],x=a.Z.extend({name:"SectionSubsetModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",sessionAttrs:{selected:o.Z.boolean},syncedAttrs:{key:o.Z.string,title:o.Z.string,secondary:o.Z.boolean},derivedAttrs:{primary(){return!this.get("secondary")&&s().contains(A,this.get("key"))}},defaults:{selected:!1},augmentResponse:e=>("all"===e.key&&(e.title=(0,f.Z)("All")),e)},{whitelistedPrimaryKeySubsets:A}),L=E.Z.extend({name:"SectionSubsetCollection",context:["server","section"],model:x,url(){return s().result(this.section,"url")},filterPrimaries(){const e=this.filter((e=>e.get("primary")));return this.clone(e)}});var O=n(32919);const j=a.Z.extend({name:"SectionModel",context:["server"],entityType:y.Y3,entityID(e=this.state){return(0,g.Z)(this.entityType,e.key,this.server.entityID())},idAttribute:"key",rootPropertyName:"Directory",cache:new h.Z,persistInCache:!0,cacheKey(e){return this.server&&this.server.getScopedKey(e.key)},url(){return this.isNew()?s().result(this,"urlRoot")||s().result(this.collection,"url"):s().isNaN(parseInt(this.id,10))?this.id:"/library/sections/"+this.id},sessionAttrs:{isSection:o.Z.boolean,isCollectionsPopulated:o.Z.boolean,currentFilters:o.Z.array,currentFolderKey:o.Z.string,settings:o.Z.instanceOf(m.Z)},syncedAttrs:{key:o.Z.oneOfType(o.Z.string,o.Z.integer),uuid:o.Z.string,thumb:o.Z.string,art:o.Z.string,createdAt:o.Z.integer,updatedAt:o.Z.integer,allowAdvancedFilters:o.Z.boolean,allowSync:o.Z.boolean,refreshing:o.Z.boolean,name:{type:o.Z.string,save:!0},title:{type:o.Z.string,save:!0},type:{type:o.Z.string,save:!0},agent:{type:o.Z.string,save:!0},scanner:{type:o.Z.string,save:!0},language:{type:o.Z.string,save:!0},importFromiTunes:{type:o.Z.boolean,save:!0},enableAutoPhotoTags:{type:o.Z.boolean,save:!0},downloadMedia:{type:o.Z.integer,save:!0}},derivedAttrs:{serverEntityID(){return this.state?this.server.entityID():""}},syncedRelations:{locations(){return{relationClass:T,rootPropertyName:"Location",options:{section:this},save:!0}}},sessionRelations:{items(){return{relationClass:p,options:{section:this}}},currentSubset(){return{relationClass:x,options:{section:this}}},currentFirstCharacter:()=>({relationClass:S.Z,deferred:!0}),currentType:()=>({relationClass:Z,deferred:!0}),currentSort:()=>({relationClass:l.Z,deferred:!0}),types(){return{relationClass:N,options:{section:this}}},subsets(){return{relationClass:L,options:{section:this}}},filters(){return{relationClass:this.get("allowAdvancedFilters")?b.Z:P,options:{section:this}}},sorts(){return{relationClass:O.Z,options:{section:this}}},firstCharacters(){return{relationClass:M.Z,options:{section:this}}}},defaults(){return{isSection:!0,isCollectionsPopulated:!1,currentType:null,currentFilters:[],currentSort:null,currentFirstCharacter:null,currentFolderKey:null,currentSubset:I.get("all"),settings:new m.Z([],{server:this.server,url:()=>r.Z.join(["/library/sections/",this.get("key"),"/prefs"])})}},initialize(e){this.updateMediaTypes(this,e.type),this.set({currentType:this.get("types").findWhere({typeString:e.type})}),this.on("change:type",this.updateMediaTypes,this)},uninitialize(){this.off("change:type",this.updateMediaTypes,this),this.stopListening()},augmentResponse:e=>(e.allowAdvancedFilters=!!e.filters,delete e.filters,e),getSectionType(){const e=this.get("type");return v.ZP.get(e)},getSaveParams(e){const t=a.Z.prototype.getSaveParams.apply(this,arguments);if("type"in t){const e=v.ZP.get(t.type);e&&(t.type=e.typeString)}return"title"in t&&(t.name=t.title,delete t.title),s().isObject(t.type)&&(t.type=t.type.typeString),"Location"in t&&(t.location=s().pluck(t.Location,"path"),delete t.Location),t},getSyncTitle(e){const t=this.get("title"),n=[],i=this.get("currentSubset"),r=this.get("currentFilters");return e?(s().each(e,(e=>{n.push(e.get("title"))})),t+": "+n.join(", ")):"all"!==i.id?t+": "+i.get("title"):r.length?(s().each(r,(function(e){n.push(e.titles.join(", "))})),t+": "+n.join(",")):t},setAgentAndScanner(e,t,n){const i=e.defaultAgents.find((e=>t.find((t=>t.get("identifier")===e)))),s=e.defaultScanners.find((e=>n.find((t=>t.get("name")===e))));this.set({agent:i,scanner:s})},updateMediaTypes(e,t){const n=(0,c.getRelatedTypes)(t);this.get("types").reset(n)}})},32919:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(13469),s=n.n(i),r=n(47909),a=n(12634),o=n(68252);const l=a.Z.extend({name:"SortCollection",context:["server","section","typeID"],model:o.Z,url(){const e=s().result(this.section,"url"),t=this.typeID||this.section.get("currentType").id,n=t?{type:t}:{};return r.Z.join([e,"/sorts"],n)}})},68252:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(53334),s=n(14408);const r={ASCENDING:"asc",DESCENDING:"desc"},a=i.Z.extend({name:"SortModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",sessionAttrs:{selected:s.Z.boolean,direction:s.Z.string},syncedAttrs:{key:s.Z.string,descKey:s.Z.string,title:s.Z.string,isDefault:s.Z.boolean,active:s.Z.boolean,defaultDirection:s.Z.string,activeDirection:s.Z.string,firstCharacterKey:s.Z.string},defaults:{selected:!1},augmentResponse:e=>(e.defaultDirection||(e.defaultDirection=e.default||r.ASCENDING),e.isDefault=!!e.default,e.direction||(e.direction=e.defaultDirection),e),reverseSortDirection(){let e=this.get("direction")||this.get("defaultDirection");e=e&&e!==r.ASCENDING?r.ASCENDING:r.DESCENDING,this.set("direction",e)}},{directions:r})},47921:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(53334),s=n(14408),r=n(57898),a=n(45224),o=n(12319);const l=i.Z.extend({name:"AutoHubsModel",context:["server","provider","includeExternalMedia"],idAttribute:"providerEntityID",sessionAttrs:{hubKey:s.Z.string,machineIdentifier:s.Z.string,providerIdentifier:s.Z.string,contentDirectoryID:s.Z.string,isPending:s.Z.boolean.isRequired,isPopulated:s.Z.boolean.isRequired,hubsError:s.Z.object},sessionRelations:{hubs:{relationClass:r.Z,deferred:!0},server:{relationClass:o.ZP,deferred:!0},provider:{relationClass:a.Z,deferred:!0}},defaults:()=>({isPending:!0,isPopulated:!1,hubsError:null})})},47632:(e,t,n)=>{"use strict";n.d(t,{vF:()=>a,qY:()=>o,U0:()=>l,ZP:()=>u});var i=n(53334),s=n(14408),r=Object.assign;const a={hubIdentifier:s.Z.string,hubKey:s.Z.string,key:s.Z.string,style:s.Z.string,subtype:s.Z.string,title:s.Z.string,type:s.Z.string},o={friendlyName:s.Z.string,machineIdentifier:s.Z.string.isRequired,sourceTitle:s.Z.string},l={identifier:s.Z.string,providerIdentifier:s.Z.string,title:s.Z.string},c=i.Z.extend({name:"HomeHubProviderModel",syncedAttrs:r({},l)}),d=i.Z.extend({name:"HomeHubServerModel",syncedAttrs:r({},o)}),u=i.Z.extend({name:"HomeHubModel",syncedAttrs:r(r({},a),{id:s.Z.string.isRequired,directoryID:s.Z.string.isRequired,directoryKey:s.Z.string.isRequired,isHidden:s.Z.boolean.isRequired,hiddenAt:s.Z.integer}),syncedRelations:{provider:{relationClass:c},server:{relationClass:d}},defaults:{isHidden:!1}})},57898:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var i=n(13469),s=n.n(i),r=n(29705),a=n(47909),o=n(12634),l=n(56442),c=n(17524),d=n(5562),u=n(78636),p=n(67299),m=n(34885),h=n(71321),g=n(94902);const y=o.Z.extend({name:"HubCollection",context:["server","provider","section","identifier","hubKey","hubCount","count","includeEmpty","libraryHubsOnly","includeFeaturedTags","includeLibraryPlaylists","includeMeta","includeGames","includeTypeFirst","includeTypeFirstQuickLinksHubs","includeStations","includeExternalMedia","includeExternalMetadata","includeRecentChannels","asyncAugmentMetadata","excludes","excludeFields","excludeElements","allowSync","maxLength","wait"],responseContext:["identifier","allowSync"],model:g.Z,responseType(){return(0,u.Z)(this.server)},url(){let e="/hubs";this.hubKey?e=this.hubKey:this.section&&(e="/hubs/sections/"+encodeURIComponent(this.section.id));const t={};return""!==this.excludeFields&&(t.excludeFields=this.excludeFields||"summary"),this.excludeElements&&(t.excludeElements=this.excludeElements),this.count&&(t.count=this.count+1),this.hubCount&&(t.hubCount=this.hubCount),this.includeEmpty&&(t.includeEmpty=1),this.libraryHubsOnly&&(t.libraryHubsOnly=1),this.includeFeaturedTags&&(t.includeFeaturedTags=1),this.includeLibraryPlaylists&&(t.includeLibraryPlaylists=1),this.includeMeta&&(t.includeMeta=1),this.includeGames&&(t.includeGames=1),this.includeTypeFirst&&(t.includeTypeFirst=1),this.includeStations&&(t.includeStations=1),this.includeExternalMedia&&(t.includeExternalMedia=1),this.includeExternalMetadata&&(t.includeExternalMetadata=1),this.includeRecentChannels&&(t.includeRecentChannels=1),this.asyncAugmentMetadata&&(t.asyncAugmentMetadata=1),this.wait&&(t.wait=1),this.excludes&&this.excludes.length&&this.excludes.forEach((e=>{t["exclude"+(0,m.Z)(e)]=1})),a.Z.join(e,t)},initialize:function(){this.section&&this.listenTo(r.Z,"clear:sections:hubs",this.clear)},fetch(e={}){const t=s().clone(e);return e.onlyTransient&&this.populatePromise&&(t.remove=!1,t.url=a.Z.join(s().result(this,"url"),{onlyTransient:1})),o.Z.prototype.fetch.call(this,t)},augmentResponseText:(e,t)=>t===l.Ls?(0,p.Z)(e):e,augmentResponse(e){const t=this.model.prototype.rootPropertyName;if(e&&t){Array.isArray(e)?e={[t]:e}:e[t]&&!Array.isArray(e[t])&&(e={[t]:[e[t]]});let n=e[t];if(e.Meta&&n.forEach((t=>{t.Meta||(t.Meta=e.Meta)})),this.includeTypeFirst)if(this.includeTypeFirstQuickLinksHubs){if(c.wB(e.identifier,c.Rq)){const i={context:"hub.home.quicklinks",hubIdentifier:"home.quicklinks",size:2,style:"list",totalSize:2,type:"directory",Directory:[{content:1,context:"content.categories",key:"/library/sections/categories",subtype:"news",title:(0,d.Z)("Categories"),type:"genre"},{content:1,context:"content.channels",key:"/library/sections/channels",subtype:"news",title:(0,d.Z)("Channels")}]};if(!n||!n.some((e=>e.hubIdentifier===i.hubIdentifier)))if(n){const t=0===n.length?0:1;e.Hub.splice(t,0,i)}else e[t]=[i]}else if(c.wB(e.identifier,c.Y3)){const t=n&&n.find((e=>{const t=e.hubIdentifier;return t&&/^video\.quicklinks\./.test(t)}));t&&(t.Directory.some((e=>/^\/playlists\//.test(e.key)))||t.Directory.push({key:`/playlists/all?type=15&playlistType=video&sectionID=${e.librarySectionID}`,title:(0,d.Z)("Playlists")}))}}else n&&(n=n.filter((e=>{const t=e.hubIdentifier;return!t||-1===t.indexOf("quicklinks")})),e[t]=n);let i=n&&n.length;if(i){if(!this.includeEmpty)for(;i&&i--;){const e=n[i];h.vT.includes(e.style)&&e.size<=0&&n.splice(i,1)}this.maxLength&&n.splice(this.maxLength),e.size>n.length&&(e.size=String(n.length)),this.count&&n.forEach((e=>{e.more&&e.size>this.count&&(e.Metadata.splice(this.count,e.size-this.count),e.size=this.count)}))}}return this.responseContext.forEach((t=>{const n=e[t];void 0!==n&&this.setContext(t,n)})),e}})},94902:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(53334),s=n(14408),r=n(56442),a=n(78636),o=n(67299),l=n(95113),c=n(4844),d=n(15042),u=n(95933);const p=i.Z.extend({name:"HubModel",context:["server","provider","section","identifier","allowSync","includeExternalMedia"],entityType:d.km,entityID(e=this.state){return(0,c.Z)(this.entityType,e.key||e.hubKey||e.hubIdentifier,this.provider.entityID())},idAttribute:"hubIdentifier",rootPropertyName:"Hub",responseType(){return(0,a.Z)(this.server)},url(){return this.get("key")||this.get("hubKey")},syncedAttrs:{key:s.Z.string,hubKey:s.Z.string,hubIdentifier:s.Z.string,source:s.Z.string,title:s.Z.string,summary:s.Z.string,icon:s.Z.string,thumb:s.Z.string,attribution:s.Z.string,type:s.Z.string,subtype:s.Z.string,style:s.Z.string,size:s.Z.integer,totalSize:s.Z.integer,more:s.Z.boolean,random:s.Z.boolean,browse:s.Z.boolean,upNext:s.Z.boolean,context:s.Z.string,promoted:s.Z.boolean,autoAdvanceDelayMs:s.Z.integer,Meta:s.Z.object},syncedRelations:{metadataList:{relationClass:u.Z,deferred:!0}},initialize(){this.listenTo(this.get("metadataList"),"change:populatedRange",this.onPopulatedRangeChange)},augmentResponseText:(e,t)=>t===r.Ls?(0,o.Z)(e):e,augmentResponse(e){const t=null==e.totalSize?void 0:l.Z.parseInteger(e.totalSize),n=l.Z.parseInteger(e.size)||0,i=e.key||e.hubKey;return e.metadataList={containerKey:i,Metadata:e.Metadata,size:n,totalSize:t},e},onPopulatedRangeChange(e,t){const n=t.size,i=e.get("totalSize"),s={size:n};null!=i&&(s.more=i>n),this.set(s)}})},9949:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(12634),s=n(56442),r=n(78636),a=n(67299),o=n(95688);const l=i.Z.extend({name:"MetadataCollection",context:["server","provider","section","playlist","identifier","mediaTagPrefix","mediaTagVersion","allowSync","containerKey","includeExternalMedia"],model:o.Z,responseType(){return(0,r.Z)(this.server)},url(){return this.containerKey},augmentResponseText:(e,t)=>t===s.Ls?(0,a.Z)(e):e,splitByType:function(){const e={};return this.each((t=>{const n=t.get("type");e.hasOwnProperty(n)?e[n].push(t):e[n]=[t]})),e}})},95933:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var i=n(13469),s=n.n(i),r=n(47909),a=n(53334),o=n(14408),l=n(93683),c=n(56442),d=n(78636),u=n(67299),p=n(95113),m=n(4844),h=n(15042),g=n(3644),y=n(99086);const v=a.Z.extend({name:"MetaModel",context:["server","provider"],syncedAttrs:{DisplayFields:o.Z.array},syncedRelations:{types:{relationClass:y.Z,rootPropertyName:"Type"},fieldTypes:{relationClass:g.Z,rootPropertyName:"FieldType"}}});var f=n(9949);const I=a.Z.extend({mixins:[l.Z],name:"MetadataListModel",context:["server","provider","section","metadataItem","identifier","mediaTagPrefix","mediaTagVersion","allowSync","excludeFields","excludeElements","excludeAllLeaves","includeRelated","includeCollections","includeExternalMedia","includeAdvanced","includeMeta"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion","allowSync"],entityType:h.$4,entityID(e=this.state){return(0,m.Z)(this.entityType,e.entityKey||e.containerKey||e.key||this.cid,(this.provider||this.server).entityID())},idAttribute:"containerKey",collectionName:"metadataItems",responseType(){return(0,d.Z)(this.server)},url(){const e=this.getPaginatedUrl(this.get("containerKey")||this.get("key")),t={excludeElements:this.excludeElements?this.excludeElements:void 0,excludeFields:this.excludeFields?this.excludeFields:void 0,excludeAllLeaves:this.excludeAllLeaves?1:void 0,includeRelated:this.includeRelated?1:void 0,includeCollections:this.includeCollections?1:void 0,includeExternalMedia:this.includeExternalMedia?1:void 0,includeAdvanced:this.includeAdvanced?1:void 0,includeMeta:this.includeMeta?1:void 0};return e?r.Z.join(e,t):e},sessionAttrs:{isMetadataList:o.Z.boolean,entityKey:o.Z.string,containerKey:o.Z.string,containerTitle:o.Z.string,currentPageStart:o.Z.integer,currentPageSize:o.Z.integer,populatedRange:o.Z.object,isPending:o.Z.boolean,isPopulated:o.Z.boolean,error:o.Z.object},syncedAttrs:{isDirectoryList:o.Z.boolean,isMetaPopulated:o.Z.boolean,key:o.Z.string,librarySectionID:o.Z.string,totalSize:o.Z.integer,viewGroup:o.Z.string,title:o.Z.string,thumb:o.Z.string,art:o.Z.string,banner:o.Z.string,theme:o.Z.string,allowSync:o.Z.boolean},syncedRelations:{metadataItems:{relationClass:f.Z,rootPropertyName:"Metadata",options:e=>({containerKey:e.containerKey||e.key}),setOptions:e=>({remove:e.remove,at:e.at})},meta:{relationClass:v,rootPropertyName:"Meta",deferred:!0}},derivedAttrs:{firstItemType(){const e=this.getCollection().first();return e?e.get("type"):this.attributes.firstItemType},firstItemSubtype(){const e=this.getCollection().first();return e?e.get("subtype"):this.attributes.firstItemSubtype},isFirstItemLibraryItem(){const e=this.getCollection().first();return e?e.get("isLibraryItem"):this.attributes.isFirstItemLibraryItem},isChannelsList(){const e=this.getCollection().first();return e?e.get("dvrChannel"):this.attributes.isChannelsList}},defaults:()=>({isMetadataList:!0,isDirectoryList:!1,populatedRange:{start:0,end:0,size:0},isPending:!0,isPopulated:!1,isMetaPopulated:!1,error:null}),initialize(e){this._totalSizeAdjustment=0,this.startPopulatedRangeMonitor(),this.on("change:key change:containerKey",this.onContainerKeyChange,this)},uninitialize(){this.off("change:key change:containerKey",this.onContainerKeyChange,this),this.stopListening()},augmentResponseText(e,t){const n=this.get("containerKey")||this.get("key"),i=/\/folder(\?|$)/.test(n);return t===c.Ls?(0,u.Z)(e,{includeDirectories:i}):e},augmentResponse(e,t){this.responseContext.forEach((t=>{const n=e[t];void 0!==n&&this.setContext(t,n)}));const n=p.Z.parseArray(e.Metadata),i=p.Z.parseArray(e.Directory),r=p.Z.parseInteger(e.totalSize);return this.allowAllLeaves||(e.Metadata=s().reject(n,(function(e){const t=/\/allLeaves$/.test(e.key);return t&&(this._totalSizeAdjustment-=1),t}),this)),!n.length&&e.Directory&&(e.Metadata=i,e.isDirectoryList=!0),this.includeMeta&&(e.isMetaPopulated=!0),r&&this._totalSizeAdjustment&&(e.totalSize=r-this._totalSizeAdjustment),!e.title&&e.title1&&(e.title=e.title1),e},onContainerKeyChange(e,t){const n=this.get("metadataItems"),i=this.syncedRelations.metadataItems.options(this.attributes);s().each(i,((e,t)=>{n.setContext(t,e)}))}})},95688:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var i=n(13469),s=n.n(i),r=n(47909),a=n(53334),o=n(14408),l=n(56442);const c=a.Z.extend({name:"TranscodeSessionModel",context:["server"],url(){return"/transcode/sessions/"+this.id},syncedAttrs:{key:o.Z.string,progress:o.Z.float,throttled:o.Z.boolean,speed:o.Z.float,duration:o.Z.integer,videoDecision:o.Z.string,audioDecision:o.Z.string,protocol:o.Z.string,container:o.Z.string,videoCodec:o.Z.string,audioCodec:o.Z.string,audioChannels:o.Z.integer,width:o.Z.string,height:o.Z.string,transcodeHwDecoding:o.Z.string,transcodeHwEncoding:o.Z.string,timeStamp:o.Z.integer,minOffsetAvailable:o.Z.integer,maxOffsetAvailable:o.Z.integer}});var d=n(69653),u=n(36776),p=n(46453),m=n(25168),h=n(78636),g=n(1088),y=n(86953),v=n(60316),f=n(17524),I=n(55983),b=n(67299),M=n(95113),S=n(4844),E=n(15042),D=n(5562),C=n(69881),P=n(89984),w=n(73004),T=n(12634);const Z=a.Z.extend({name:"ChapterModel",context:["server","section"],syncedAttrs:{id:o.Z.integer,tag:o.Z.string,index:o.Z.integer,startTimeOffset:o.Z.integer,endTimeOffset:o.Z.integer,thumb:o.Z.string}}),N=T.Z.extend({name:"ChapterCollection",context:["server","section"],model:Z,modelId:e=>`${e.id}_${e.index}`}),A=a.Z.extend({name:"ConcertModel",context:["server","section"],syncedAttrs:{id:o.Z.integer,at:o.Z.integer,tag:o.Z.string,venue:o.Z.string,city:o.Z.string,country:o.Z.string,url:o.Z.string}}),x=T.Z.extend({name:"ConcertCollection",context:["server","section"],model:A});var L=n(64297),O=n(32553),j=n(34470),k=n(19623),R=Object.assign;const z={guid:!0,librarySectionID:!0,librarySectionTitle:!0,librarySectionUUID:!0,librarySectionKey:!0,source:!0,Context:!0,file:!0,summary:!0,tagline:!0,action:!0,attributionLogo:!0,backgroundColor:!0};function U(e){let t=0;if(!e)return t;for(let n=0,i=e.length;n<i;n++){const i=e[n].Part;if(i)for(let e=0,n=i.length;e<n;e++){const n=i[e].Stream;n&&(t+=n.length)}}return t}function V(e=[]){return(0,O.Z)(e,k.Z,(e=>e))}function B(e){return(e.hasOwnProperty("ratingKey")||e.hasOwnProperty("id"))&&e.hasOwnProperty("tag")}function F(e,t){t.forEach((t=>{null!=(null==e?void 0:e[t])&&"string"!=typeof e[t]&&(e[t]=e[t].toString())}))}const H=a.Z.extend({name:"MetadataModel",context:[["server",{boundDerivedAttrs:["serverEntityID"]}],["provider",{boundDerivedAttrs:["providerEntityID"]}],"section","playlist","identifier","mediaTagPrefix","mediaTagVersion","allowSync","containerKey","relatedOptions","includeExternalMedia"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion","allowSync"],entityType:E.TY,entityID(e=this.state){let t;if(e.source){const{serverIdentifier:n}=(0,v.Z)(e.source);n!==this.server.get("machineIdentifier")&&(t=(0,S.Z)(E.cN,n))}return(0,S.Z)(this.entityType,e.key||this.cid,t,this.server.entityID())},idAttribute:"ratingKey",rootPropertyName:"Metadata",cache:new u.Z,mergeStrategy:function(e,t,n){return"Media"===e?function(e,t,n){return n&&!t?n:((i=n||t)&&i.some((e=>e.protocol===j.K))||function(e){return e&&e.some((e=>"livetv"===e.origin))}(n||t)?function(e,t){var n,i,s,r,a,o,l,c;if(!t)return null;const d=V(e),u=V(t),p=R(R({},d),u);for(const e in d){const t=d[e],m=u[e];t&&m&&t.Overlay.length&&!m.Overlay.length&&(p[e]=R(R({},p[e]),{Overlay:t.Overlay}));const h=null!=(r=null==(s=null==(i=null==(n=null==t?void 0:t.Part)?void 0:n[0])?void 0:i.Stream)?void 0:s.length)?r:0,g=null!=(c=null==(l=null==(o=null==(a=null==m?void 0:m.Part)?void 0:a[0])?void 0:o.Stream)?void 0:l.length)?c:0;t&&m&&h>g&&(p[e]=R(R({},p[e]),{Part:t.Part}))}return Object.keys(p).map((e=>p[e]))}(t,n):function(e,t){const n=U(t),i=U(e);return n||!i?t:e}(t,n))||(0,L.Z)(e,t,n);var i}(e,t,n):function(e){const t=_.prototype.syncedAttrs[e];return!(!t||t!==o.Z.array)}(e)?function(e,t,n){if(!n)return t;if(!t)return n;if(n.length>t.length)return n;if(!n.length||n.length<t.length)return t;const i=t&&t[0],s=n&&n[0];if(!i&&s)return n;if(!s&&i)return t;const r=B(i),a=B(s);return r&&!a?t:n}(0,t,n):function(e){return!!_.prototype.syncedRelations[e]}(e)||z[e]?(0,L.Z)(e,t,n):n},responseType(){const e=this.get("key");return e&&e.indexOf("/system/services/url/lookup")>-1?l.Ls:(0,h.Z)(this.server)},url(){const e={};return this.includeExternalMedia&&(e.includeExternalMedia=1),r.Z.join(this.get("key"),e)},urlRoot(){return this.get("key")},saveUrl(){return this.get("isPlaylist")&&!this.server.supports("truePlaylistsPath")?`/library/metadata/${this.get("ratingKey")}`:s().result(this,"url")},cacheKey(e){const t=this.extractChildrenKey(e.key);return e.source&&(t.key=e.source+t.key),this.server&&this.server.getScopedKey(t.key)},sessionAttrs:{isPreFetched:o.Z.boolean,isStreamChangeInProgress:o.Z.boolean,isStreamDeleteInProgress:o.Z.boolean,metadataState:o.Z.string,mediaState:o.Z.string,isSettingsUpdating:o.Z.boolean,settingsUpdateError:o.Z.object,dvrChannel:o.Z.object,viewCountIncrementedByPlayQueueItemID:o.Z.string,downloadSubscriptionID:o.Z.string,isDownloaded:o.Z.boolean},syncedAttrs:{elementName:o.Z.string,ratingKey:o.Z.string,parentRatingKey:o.Z.string,grandparentRatingKey:o.Z.string,key:o.Z.string,childrenKey:o.Z.string,Context:o.Z.object,parentKey:o.Z.string,grandparentKey:o.Z.string,primaryExtraKey:o.Z.string,augmentationKey:o.Z.string,guid:o.Z.string,source:o.Z.string,sourceURI:o.Z.string,attribution:o.Z.string,attributionLogo:o.Z.string,action:o.Z.string,backgroundColor:o.Z.string,remoteMedia:o.Z.boolean,librarySectionID:o.Z.string,librarySectionTitle:o.Z.string,librarySectionUUID:o.Z.string,librarySectionKey:o.Z.string,type:o.Z.string,subtype:o.Z.string,title:o.Z.string,titleSort:o.Z.string,originalTitle:o.Z.string,parentTitle:o.Z.string,grandparentTitle:o.Z.string,year:o.Z.string,minYear:o.Z.string,maxYear:o.Z.string,tagline:o.Z.string,summary:o.Z.string,studio:o.Z.string,contentRating:o.Z.string,originallyAvailableAt:o.Z.string,thumb:o.Z.string,parentThumb:o.Z.string,grandparentThumb:o.Z.string,banner:o.Z.string,art:o.Z.string,parentArt:o.Z.string,grandparentArt:o.Z.string,hero:o.Z.string,theme:o.Z.string,parentTheme:o.Z.string,grandparentTheme:o.Z.string,chapterSource:o.Z.string,ratingImage:o.Z.string,audienceRating:o.Z.float,audienceRatingImage:o.Z.string,directory:o.Z.boolean,rating:o.Z.float,userRating:o.Z.float,playbackSpeed:o.Z.float,index:o.Z.integer,parentIndex:o.Z.integer,absoluteIndex:o.Z.integer,duration:o.Z.integer,preview:o.Z.boolean,viewOffset:o.Z.integer,viewCount:o.Z.integer,childCount:o.Z.integer,leafCount:o.Z.integer,viewedLeafCount:o.Z.integer,ratingCount:o.Z.integer,mediaCount:o.Z.integer,mediaCountOptimized:o.Z.integer,extraType:o.Z.integer,lastViewedAt:o.Z.integer,lastRatedAt:o.Z.integer,addedAt:o.Z.integer,updatedAt:o.Z.integer,deletedAt:o.Z.integer,Geolocation:o.Z.object,playlistID:o.Z.integer,playlistType:o.Z.string,specialPlaylistType:o.Z.string,radio:o.Z.boolean,smart:o.Z.boolean,readOnly:o.Z.boolean,icon:o.Z.string,composite:o.Z.string,content:o.Z.string,durationInSeconds:o.Z.integer,skipChildren:o.Z.boolean,skipParent:o.Z.boolean,skipDetails:o.Z.boolean,subscriptionID:o.Z.string,saved:o.Z.boolean,picked:o.Z.boolean,grandparentSubscriptionID:o.Z.string,subscriptionType:o.Z.string,grandparentSubscriptionType:o.Z.string,Channel:o.Z.array,Topic:o.Z.array,onAir:o.Z.boolean,watchlistedAt:o.Z.integer,Media:o.Z.array,Collection:o.Z.array,Director:o.Z.array,Producer:o.Z.array,Writer:o.Z.array,Studio:o.Z.array,Genre:o.Z.array,Mood:o.Z.array,Country:o.Z.array,Label:o.Z.array,Role:o.Z.array,Location:o.Z.array,Tag:o.Z.array,Autotag:o.Z.array,Marker:o.Z.array,indirect:o.Z.boolean,Origin:o.Z.object,requiresConsent:o.Z.boolean,Platform:o.Z.array,Publisher:o.Z.array},syncedRelations:{chapters:{relationClass:N,rootPropertyName:"Chapter",deferred:!0},preferences:{relationClass:d.Z,rootPropertyName:"Preferences",deferred:!0},onDeck:()=>({relationClass:H,rootPropertyName:"OnDeck",deferred:!0}),related(){const e={skipCache:!0};return this.relatedOptions&&s().extend(e,this.relatedOptions),{relationClass:n(57898).Z,rootPropertyName:"RelatedHubs",deferred:!0,options:e}},popularLeaves:()=>({relationClass:n(95933).Z,rootPropertyName:"PopularLeaves",deferred:!0}),extras:()=>({relationClass:n(95933).Z,rootPropertyName:"Extras",deferred:!0,attrs:e=>({containerKey:r.Z.join([e.key,"extras"])})}),concerts:{relationClass:x,rootPropertyName:"Concert",deferred:!0},stations:()=>({relationClass:n(9949).Z,rootPropertyName:"Stations",deferred:!0}),transcodeSession:{relationClass:c,rootPropertyName:"TranscodeSession",deferred:!0}},derivedAttrs:{identifier(){return this.identifier},serverEntityID(){if(!this.state)return null;const e=this.get("source");if(e){const{serverIdentifier:t}=(0,v.Z)(e);return(0,S.Z)(E.cN,t)}return this.server?this.server.entityID():null},providerEntityID(){if(!this.state)return null;const e=this.get("source");if(e){const{providerIdentifier:t}=(0,v.Z)(e);return(0,S.Z)(E.MC,t,this.get("serverEntityID"))}return this.provider?this.provider.entityID():null},mediaTagPrefix(){return this.mediaTagPrefix},mediaTagVersion(){return this.mediaTagVersion},allowSync(){return this.allowSync},containerKey(){return this.containerKey},isLibraryItem(){return this.isLibraryItem(this.get("identifier"),this.get("key"))},isPlaylist(){return this.get("type")===C.PLAYLIST&&!this.get("radio")},isFolder(){return/\/folder\?parent=/.test(this.get("key"))},isExtra(){return!!this.get("extraType")},isPremium(){const e=this.get("Media")||[];return s().any(e,(e=>e.premium))},hasRadioStation(){const e=this.get("stations");return!!e&&!!e.findWhere({playlistType:P.j0})},hasArtistTVStation(){const e=this.get("stations");return!!e&&!!e.findWhere({playlistType:P.pX})},unviewedLeafCount(){const e=this.get("leafCount"),t=this.get("viewedLeafCount");if(e)return e-t},downloadUrl(){const e=this.get("Media");if(e&&1===e.length){const t=s().first(s().first(e).Part),n=t&&t.key;if(n)return()=>{const e=r.Z.join(n,{download:1});return this.server.resolveUrl(e,{appendToken:!0})}}}},defaults:{isStreamChangeInProgress:!1,isStreamDeleteInProgress:!1,isSettingsUpdating:!1,isDownloaded:!1,settingsUpdateError:null,rating:0,onAir:!1,skipDetails:!1,Media:[],Collection:[],Director:[],Producer:[],Writer:[],Studio:[],Genre:[],Mood:[],Country:[],Label:[],Topic:[],Channel:[],Role:[],Location:[],Autotag:[],Tag:[],Platform:[],Publisher:[],requiresConsent:!1},fetch(e={}){return e.data&&(this._populatedParams=s().extend({},this._populatedParams,e.data)),e.usePopulatedParams&&(e.data=this._populatedParams),a.Z.prototype.fetch.call(this,e)},augmentResponseText:(e,t)=>t===l.Ls?(0,b.Z)(e):e,augmentResponse(e,t){var n;let i=e[this.rootPropertyName];i&&(Array.isArray(i)&&(i=i[0]),["attribution","augmentationKey","librarySectionID","librarySectionTitle","librarySectionUUID"].forEach((t=>{i[t]||(i[t]=e[t])})),e.type===C.CHANNEL&&(i.dvrChannel={identifier:e.identifier||e.id,thumb:e.thumb,title:e.title,callSign:e.callSign})),this.responseContext.forEach((t=>{const n=e[t]||i&&i[t];void 0!==n&&this.setContext(t,n)}));const r=i||e,a=r.Related,o=r.OnDeck,l=r.Stations,c=r.Preferences,d=this.extractChildrenKey(r.key);if(d.childrenKey&&(r.childrenKey=d.childrenKey,r.key=d.key),r.Media=this.convertMediaItems(r.Media),r.Channel=this.convertChannels(r.Channel),r.Role=this.convertRole(r.Role),r.Topic=this.convertTopics(r.Topic),r.Marker=this.convertMarkers(r.Marker),!r.source&&this.server){const e=(0,y.Z)({providerIdentifier:null==(n=this.provider)?void 0:n.get("identifier"),serverIdentifier:this.server.get("machineIdentifier")});r.source=e,r.sourceURI=`${e}${r.key}`}return a&&(r.RelatedHubs=s().compact([].concat(a.Hub,a.Directory))),o&&(r.OnDeck=o.Metadata),l&&(r.Stations=l.Metadata),c&&(r.Preferences=c.Setting),r.type===C.PHOTO&&r.childrenKey&&(r.type=C.PHOTO_ALBUM),r},extractChildrenKey(e){const t=/(.*)\/(children|items)$/.exec(e);let n;return t&&(n=e,e=t[1]),{childrenKey:n,key:e}},convertMediaItems(e){const t=M.Z.parseArray(e);return s().each(t,(e=>{F(e,["id"]),I.Z.parseBoolean(e,["indirect","optimizedForStreaming","onAir","premium","premiere","selected"]),I.Z.parseInteger(e,["duration","width","height","bitrate","audioChannels","proxyType","beginsAt","endsAt","beginOffset","startOffsetSeconds","endOffsetSeconds"]),null==e.id&&null==e.uuid&&(e.uuid=`${e.container}-${e.protocol}-${e.audioCodec}`),I.Z.parseArray(e,"Overlay"),I.Z.parseArray(e,"Part"),s().each(e.Overlay,(e=>{null!=e.duration&&(e.duration=parseInt(e.duration,10)),e.startTimeOffset=parseInt(e.startTimeOffset,10)})),s().each(e.Part,(e=>{F(e,["id"]),null!=e.exists&&(e.exists=M.Z.parseBoolean(e.exists)),null!=e.accessible&&(e.accessible=M.Z.parseBoolean(e.accessible)),I.Z.parseInteger(e,["duration","size"]),I.Z.parseBoolean(e,"optimizedForStreaming"),I.Z.parseEncodedString(e,"file"),I.Z.parseArray(e,"Stream"),s().each(e.Stream,(e=>{F(e,["id"]),I.Z.parseBoolean(e,["anamorphic","selected","default","forced","timed","cabac","hasScalingMatrix","headerStripping"]),I.Z.parseInteger(e,["index","streamType","duration","width","height","bitrate","bitDepth","level","refFrames","samplingRate","channels","minLines","offset"]),I.Z.parseFloat(e,"frameRate")}))}))})),this.addNoneSubtitlesStreams(t)},convertChannels(e){const t=M.Z.parseArray(e);return s().each(t,(e=>{I.Z.parseBoolean(e,["followed","muted"])})),t},convertRole(e){const t=M.Z.parseArray(e);return s().each(t,(e=>{I.Z.parseBoolean(e,["directory"])})),t},convertTopics(e){const t=M.Z.parseArray(e);return s().each(t,(e=>{I.Z.parseBoolean(e,["followed","muted"])})),t},convertMarkers(e){const t=M.Z.parseArray(e);return s().each(t,(e=>{I.Z.parseInteger(e,["endTimeOffset","startTimeOffset"])})),t},addNoneSubtitlesStreams(e){const t=w.Z.get("subtitles");return e.forEach((e=>{const n=e.Part,i="livetv"===e.origin;n&&n.forEach((n=>{if(!n.Stream)return;if(!i&&!(0,g.Z)(e))return;const s=n.Stream.filter((e=>e.streamType===t.id));if(s.find((e=>e.id===m.H)))return;const r=s.find((e=>e.selected)),a={id:m.H,streamType:t.id,language:(0,D.Z)("None")};r||(a.selected=!0),n.Stream.unshift(a)}))})),e},getDownloadUrl(e=0){const t=this.get("Media")[e];if(t){const e=s().first(t.Part),n=e&&e.key;if(n){const e=r.Z.join(n,{download:1});return this.server.resolveUrl(e,{appendToken:!0})}}},getFilepath(e=0){const t=this.get("Media")[e];if(t){const e=s().first(t.Part);if(e)return e.file}},getLocation(){const e=this.get("Location");return e.length?s().first(e).path:this.getFilepath()},getMediaKey(){const e=s().first(this.get("Media"));if(e){const t=s().first(e.Part);if(t)return t.key}return this.get("key")},isLibraryItem(e,t){return!(this.provider&&!this.provider.get("isLibraryProvider"))&&(i=t,(n=e)?f.wB(n,f.Y3):/^(\/sync\/[\w\d-/]*)?\/library\//.test(i));var n,i},isPlexMusicItem(){const e=this.section;return e&&e.get("agent")===p.zR}}),_=H},81318:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(47909),s=n(53334),r=n(14408),a=n(93683),o=n(56442),l=n(67299),c=n(12634),d=n(95688),u=n(4844),p=n(15042);const m=s.Z.extend({name:"PlaylistItemModel",context:["server","provider","playlist"],entityType:p.gO,entityID(e=this.state){return(0,u.Z)(this.entityType,e.playlistItemID||e.key,this.server.entityID())},idAttribute:"playlistItemID",syncedAttrs:{playlistItemID:r.Z.string,key:r.Z.string,type:r.Z.string},syncedRelations:{metadataItem:{relationClass:d.Z,deferred:!0}},augmentResponse:e=>({playlistItemID:e.playlistItemID,key:e.key,type:e.type,metadataItem:e})}),h=c.Z.extend({name:"PlaylistItemCollection",context:["server","provider","playlist"],model:m}),g=s.Z.extend({mixins:[a.Z],name:"PlaylistItemListModel",context:["server","provider","playlist","includeExternalMedia"],idAttribute:"key",collectionName:"metadataItems",url(){let e=this.getPaginatedUrl(this.get("containerKey"));return this.includeExternalMedia&&(e=i.Z.join(e,{includeExternalMedia:1})),e},sessionAttrs:{containerKey:r.Z.string,currentPageStart:r.Z.integer,currentPageSize:r.Z.integer,populatedRange:r.Z.object},syncedAttrs:{totalSize:r.Z.integer},syncedRelations:{metadataItems:{relationClass:h,rootPropertyName:"Metadata",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()},augmentResponseText:(e,t)=>t===o.Ls?(0,l.Z)(e):e})},65115:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(53334),s=n(14408);const r=i.Z.extend({name:"TagModel",context:["server","section"],idAttribute:"tag",syncedAttrs:{id:s.Z.integer,key:s.Z.string,tag:{type:s.Z.string,save:!0},tagType:s.Z.integer,librarySectionID:s.Z.string,librarySectionKey:s.Z.string,librarySectionType:s.Z.integer,librarySectionTitle:s.Z.string,filter:s.Z.string,role:s.Z.string,thumb:s.Z.string,count:s.Z.integer,directory:s.Z.boolean,type:s.Z.string,context:s.Z.string}})},12186:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(19755),s=n.n(i),r=n(67038);const a={fetch(){return(0,r.Z)(!1,"A model or collection with a controlled populate promise cannot be fetched directly"),this.populatePromise},isPopulating(){return!!this.populatePromise&&"pending"===this.populatePromise.state()},_resetPopulate(){return this.isPopulating()||(this._populateDeferred=s().Deferred(),this.populatePromise=this._populateDeferred.promise()),this.populatePromise},_resolvePopulate(){return"resolved"===this.populatePromise.state()||("rejected"===this.populatePromise.state()&&this._resetPopulate(),this._populateDeferred.resolveWith(this,[this])),this.populatePromise},_rejectPopulate(){return"rejected"===this.populatePromise.state()||("resolved"===this.populatePromise.state()&&this._resetPopulate(),this._populateDeferred.rejectWith(this,[this])),this.populatePromise}}},93683:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(19755),s=n.n(i),r=n(13469),a=n.n(r),o=n(47909),l=n(63733);const c={getCollectionName(){return this.collectionName||"items"},getCollection(){return this.get(this.getCollectionName())},getTotalSize(){return this.get("totalSize")||this.get("populatedRange").size},getPaginatedUrl(e){const t=this.get("currentPageStart"),n=this.get("currentPageSize");if(null!=t||null!=n){const i={"X-Plex-Container-Start":t||0,"X-Plex-Container-Size":n||0};return o.Z.join(e,i)}return e},getCollectionChangeEvents(){const e=this.getCollectionName();return[`change:${e}.update`,`change:${e}.reset`].join(" ")},startPopulatedRangeMonitor(){const e=this.getCollectionName();this.updatePopulatedRange(),this.on(this.getCollectionChangeEvents(),this.updatePopulatedRange,this),this.on(`change:${e}.destroy`,this.decrementTotalSize,this)},stopPopulatedRangeMonitor(){const e=this.getCollectionName();this.off(this.getCollectionChangeEvents(),this.updatePopulatedRange,this),this.off(`change:${e}.destroy`,this.decrementTotalSize,this)},fetchRange(e){const t=a().extend({},e,{remove:!1});return e.prepend&&(t.at=0),this.set({currentPageStart:e.start,currentPageSize:e.size}),this.fetch(t).promise()},populateRange(e){const t=this.getCollection(),n=this.get("populatedRange");let i=l.Z.difference(e,n)[0];if(!i)return s().Deferred().resolve().promise();if(i=l.Z.degap(i,n),this.isPopulating()){const e=this.get("currentPageStart")!==i.start,t=this.get("currentPageSize")!==i.size;if(!e&&!t)return this.populatePromise;this.abortPendingPopulate()}if(e.reloadThreshold&&i.size>e.reloadThreshold)return t.reset(),this.populateRange(a().omit(e,"reloadThreshold"));const r=a().extend({},e,i,{prepend:i.start<n.start});return this.fetchRange(r)},repopulateRange(e=0){const t=this.get("populatedRange").end;return this.set({currentPageStart:0,currentPageSize:Math.max(t,e)}),this.abortPendingPopulate(),this.fetch()},updatePopulatedRange(){const e=this.get("currentPageStart"),t=this.get("populatedRange").start,n=this.get("populatedRange").size,i=this.getCollection().length;let s;s=i?n?Math.min(t,null==e?1/0:e):e||t:0,this.set("populatedRange",{start:s,end:s+i,size:i})},decrementTotalSize(){const e=this.get("totalSize");e>0&&this.set("totalSize",e-1)}}},36740:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(53334),s=n(14408),r=n(9949),a=n(56442),o=n(31599),l=n(67299),c=n(4844),d=n(15042);const u=i.Z.extend({name:"LiveTVSessionModel",context:["server","provider"],entityType:d.RP,entityID(e=this.state){return(0,c.Z)(this.entityType,e.key||this.cid,this.server.entityID())},idAttribute:"key",rootPropertyName:"MediaSubscription",url(){return`/media/subscriptions/${this.get("key")}`},sessionAttrs:{dvrID:s.Z.integer,channelIdentifier:s.Z.string,activityUUID:s.Z.string,currentPosition:s.Z.integer,nextPosition:s.Z.integer,lastSeekPosition:s.Z.integer,startedAt:s.Z.integer,captureBuffer:s.Z.object},syncedAttrs:{key:s.Z.string,type:s.Z.integer,title:s.Z.string},syncedRelations:{grabOperation:{relationClass:o.Z,rootPropertyName:"MediaGrabOperation",deferred:!0},timeline:{relationClass:r.Z,rootPropertyName:"Timeline",deferred:!0},alsoAiring:{relationClass:r.Z,rootPropertyName:"AlsoAiring",deferred:!0}},defaults:{nextPosition:null,lastSeekPosition:null},augmentResponseText:(e,t)=>t===a.Ls?(0,l.Z)(e):e,augmentResponse(e){const t=e[this.rootPropertyName]||e,n=t.Timeline,i=t.AlsoAiring;return n&&(t.Timeline=n.Metadata),i&&(t.AlsoAiring=i.Metadata),e}})},64297:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(13469),s=n.n(i);function r(e,t,n){return void 0===n||s().isObject(t)?t:n}},52039:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(19755),s=n.n(i),r=n(12634),a=n(78636),o=n(14640),l=n(45224);const c=r.Z.extend({name:"ProviderCollection",context:["server"],model:l.Z,url:"/media/providers",responseType(){return(0,a.Z)(this.server)},fetch(){const e=this.server;let t;return t=e.get("mediaProviders")||e.get("isCloud")?r.Z.prototype.fetch.apply(this,arguments):s().Deferred().resolve(this,"").promise(),t.then((t=>{(0,o.Z)(t,e)})),t}})},89888:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(12634),s=n(86646),r=n(67006),a=n(40822);const o=i.Z.extend({name:"ProviderEPGChannelCollection",context:["server","provider"],model:s.Z,url(){return this.provider.get("features").get(r.L6).get("settings").get(a.Pt).get("key")}})},86646:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(53334),s=n(14408);const r=i.Z.extend({name:"ProviderEPGChannelModel",context:["provider"],rootPropertyName:"Channel",syncedAttrs:{id:s.Z.string,thumb:s.Z.string,title:s.Z.string,hidden:s.Z.boolean}})},30369:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i=n(12634),s=n(62730),r=n(67006),a=n(45399),o=n(53334),l=n(14408);const c=o.Z.extend({name:"ProviderActionModel",context:["server","provider"],syncedAttrs:{id:l.Z.string,key:l.Z.string,reverseKey:l.Z.string,requires:l.Z.string}}),d=i.Z.extend({name:"ProviderActionCollection",context:["server","provider"],model:c});var u=n(59638),p=n(98862);const m=o.Z.extend({name:"PivotModel",idAttribute:"key",syncedAttrs:{key:l.Z.string.isRequired,type:l.Z.oneOf(p.km,p.IY,p.t3).isRequired,id:l.Z.string,title:l.Z.string.isRequired,context:l.Z.string.isRequired,requires:l.Z.string,libraryKey:l.Z.string}}),h=i.Z.extend({name:"PivotCollection",model:m}),g=o.Z.extend({name:"ProviderDirectoryModel",context:["server","provider"],syncedAttrs:{id:l.Z.string,key:l.Z.string,hubKey:l.Z.string,title:l.Z.string,icon:l.Z.string,type:l.Z.string,subtype:l.Z.string,agent:l.Z.string,refreshing:l.Z.boolean,updatedAt:l.Z.integer,scannedAt:l.Z.integer,context:l.Z.string},syncedRelations:{pivots:{relationClass:h,rootPropertyName:"Pivot",deferred:!0}}}),y=i.Z.extend({name:"ProviderDirectoryCollection",context:["server","provider"],model:g,modelId:e=>e.key||e.hubKey}),v=o.Z.extend({name:"ProviderFeatureModel",context:["server","provider"],sessionAttrs:{isSettingsPending:l.Z.boolean,isSettingsPopulated:l.Z.boolean,settingsError:l.Z.object},syncedAttrs:{id:l.Z.string,key:l.Z.string,reverseKey:l.Z.string,scrobbleKey:l.Z.string,unscrobbleKey:l.Z.string,type:l.Z.string,flavor:l.Z.string,requires:l.Z.string,automaticLibraryFolders:l.Z.boolean,public:l.Z.boolean,storageTotal:l.Z.integer},syncedRelations:{directories:{relationClass:y,rootPropertyName:"Directory",deferred:!0},settings:{relationClass:u.Z,rootPropertyName:"Setting",deferred:!0},actions:{relationClass:d,rootPropertyName:"Action",deferred:!0,setOptions:{remove:!1}}},defaults:{isSettingsPending:!0,isSettingsPopulated:!1}}),f=i.Z.extend({name:"ProviderFeatureCollection",context:["server","provider"],model:v,modelId:e=>e.type===r.om?e.id:e.type,augmentResponse(e){let t=e.find((e=>e.type===r.aO));return null==t||Array.isArray(t.Action)||(t.Action=t.Action?[t.Action]:[]),null==t&&(t={Action:[],type:r.aO},e.push(t)),e.forEach((e=>{if(e.type===r.jN&&(null!=e.scrobbleKey||null!=e.unscrobbleKey)){const{scrobbleKey:n,unscrobbleKey:i}=e;t.Action.push({id:s.lq,key:n,reverseKey:i}),delete e.scrobbleKey,delete e.unscrobbleKey}if(e.type===r.zw){const{key:n}=e;t.Action.push({id:s.zw,key:n}),delete e.key}if(e.type===r.om&&(null!=e.key||null!=e.reverseKey)){const{key:n,reverseKey:i}=e;t.Action.push({id:e.id,key:n,reverseKey:i}),delete e.key,delete e.reverseKey}e.type===r.aO&&e.Action.forEach((e=>{e.id!==s.JL&&e.id!==s.FH&&e.id!==s.LE&&e.id!==s.Q2&&e.id!==s.mL||(e.requires=a.sy)})),e.type===r.L6&&(e.requires=a.sy)})),e}})},45224:(e,t,n)=>{"use strict";n.d(t,{q:()=>H,Z:()=>_});var i=n(19755),s=n.n(i),r=n(47909),a=n(93966),o=n(53334),l=n(14408),c=n(64297),d=n(56442),u=n(17798),p=n(67006),m=n(17524),h=n(83154),g=n(45399),y=n(64542),v=n(47486),f=n(98862),I=n(34470),b=n(41658),M=n(5562),S=n(69881),E=n(89984),D=n(89197);function C(e){return{key:e.hubKey,type:f.km,title:(0,M.Z)("Recommended"),context:v.DISCOVER_PIVOT}}function P(e,t){return{key:(0,b.Z)(e.id,t),libraryKey:e.key,type:f.IY,title:(0,M.Z)("Library"),context:v.LIBRARY_PIVOT,isContent:!0}}function w(e){const t=S.getMetadataType(S.COLLECTION);return{key:r.Z.join([e.key,"all"],{type:t.id}),type:f.IY,title:(0,M.Z)("Collections"),context:v.COLLECTIONS_PIVOT}}function T(e,t){const n=e.key.match(/\/library\/sections\/(\w+)/)[1],i=S.getMetadataType(S.PLAYLIST);return r.Z.join("/playlists/all",{type:i.id,playlistType:t,sectionID:n})}function Z(e,t){return{key:T(e,t),type:f.IY,title:(0,M.Z)("Playlists"),context:v.PLAYLISTS_PIVOT}}function N(e){return e&&-1!==e.split(",").indexOf(I.K)}function A(e,t){return e&&e.some((e=>e.type===t))}function x(e,t,n){return n.type===e&&(null==t&&null==n.subtype||null!=t&&n.subtype===t)}function L(e,t){return/\/library\/sections\/(\w+)/.test(t.key)&&x(e,null,t)}var O=n(36535),j=n(4844),k=n(15042),R=n(81463),z=n(55605),U=n(30369),V=Object.assign;function B(e){const t=(0,a.DB)("appModel").get("drmType");return V(V({},(0,y.Z)(t)),{"X-Plex-Text-Format":(0,u.Z)(e),"X-Plex-Provider-Version":"1.3"})}const F=k.MC;function H({identifier:e,serverEntityID:t}){return(0,j.Z)(F,e,t)}const _=o.Z.extend({name:"ProviderModel",context:["server"],entityType:F,entityID(e=this.state){return H({identifier:e.identifier,serverEntityID:this.server.entityID()})},idAttribute:"identifier",rootPropertyName:"MediaProvider",responseType:d.AV,url(){return this.get("baseURL")},mergeStrategy:(e,t,n)=>"protocols"===e&&n&&n.length>0?n:(0,c.Z)(e,t,n),syncedAttrs:{id:l.Z.integer,parentID:l.Z.integer,identifier:l.Z.string,providerIdentifier:l.Z.string,baseURL:l.Z.string,title:l.Z.string,sourceTitle:l.Z.string,types:l.Z.list,protocols:l.Z.list,subscriptions:l.Z.boolean,icon:l.Z.string,epgSource:l.Z.string,source:l.Z.string},sessionAttrs:{isPending:l.Z.boolean,isPopulated:l.Z.boolean,error:l.Z.object},syncedRelations:{features:{relationClass:U.Z,rootPropertyName:"Feature",options(){return{provider:this}},setOptions:{remove:!1}}},derivedAttrs:{isLibraryProvider(){return m.wB((0,O.Z)(this.get("identifier"),this.get("providerIdentifier")),m.Y3)},metricsIdentifier(){const e=this.get("providerIdentifier")||this.get("identifier");return m.wB(e,m.Ll)?e.split(":")[0]:e}},populate(){return this.get("isPopulated")?s().Deferred().resolve(this).promise():o.Z.prototype.populate.apply(this,arguments)},resolveUrl(e,t){const n=V({},t);return this.url()&&(n.baseUrl=this.url()),this.server.resolveUrl(e,n)},getXHROptions(e,t={}){const n=(0,z.Z)(e)?e:r.Z.join([this.get("baseURL"),e]),i=this.get("providerIdentifier")||this.get("identifier"),s=this.server.getXHROptions(n,V(V({},t),{headers:V(V({},B(i)),t.headers)}));return this.server.get("isCloud")&&(delete s.headers["X-Plex-Username"],delete s.headers["X-Plex-Device-Name"]),s},defaults:()=>({protocols:[],isPending:!0,isPopulated:!1,error:null}),augmentResponse(e){if(e.MediaProvider&&(e=e.MediaProvider),!e.Feature)return e;const t=m.wB(e.identifier,m.Y3);return e.Feature.forEach((n=>{if(n.type===p.L6&&(n.Setting=[]),!n.Directory||n.type!==p.P8)return;let i;if(!n.key&&t&&(n.key="/library/sections"),n.Directory.forEach(((t,n)=>{const s=t.key||t.hubKey;!t.id&&s&&(t.id=(0,R.Z)(s)),t.type===S.PLAYLIST&&(i=n),t.Pivot||(t.Pivot=function(e,t,n){return e.hubKey||"/playlists"===e.key?L(S.ARTIST,e)?[C(e),P(e,S.ARTIST),Z(e,E.j0)]:L(S.MOVIE,e)?[C(e),P(e,S.MOVIE),w(e),Z(e,E.pX)]:L(S.SHOW,e)?[C(e),P(e,S.SHOW),w(e),Z(e,E.pX)]:L(S.PHOTO,e)?[C(e),{key:D.tk.TIMELINE,type:f.t3,title:(0,M.Z)("Timeline"),context:v.TIMELINE_PIVOT},P(e,S.PHOTO),Z(e,E.pV)]:N(t)&&A(n,p.kD)?[{key:e.hubKey,type:f.km,title:(0,M.Z)("Recommended"),context:v.DVR_DISCOVER_PIVOT},{key:D.tk.GUIDE,type:f.t3,title:(0,M.Z)("Guide"),context:v.DVR_GUIDE_PIVOT},{key:D.tk.RECORDING_SCHEDULE,type:f.t3,title:(0,M.Z)("DVR Schedule"),context:v.DVR_SCHEDULE_PIVOT}]:N(t)||A(n,p.HR)?[{key:e.hubKey,type:f.km,title:(0,M.Z)("Recommended"),context:v.DVR_DISCOVER_PIVOT},{key:D.tk.GUIDE,type:f.t3,title:(0,M.Z)("Guide"),context:v.DVR_GUIDE_PIVOT}]:x(S.PLAYLIST,null,e)?[{key:r.Z.join(e.key,{playlistType:E.j0}),type:f.IY,title:(0,M.Z)("Music"),context:v.PLAYLISTS_PIVOT},{key:r.Z.join(e.key,{playlistType:E.pX}),type:f.IY,title:(0,M.Z)("Video"),context:v.PLAYLISTS_PIVOT},{key:r.Z.join(e.key,{playlistType:E.pV}),type:f.IY,title:(0,M.Z)("Photo"),context:v.PLAYLISTS_PIVOT}]:[]:[]}(t,e.protocols,e.Feature)),Array.isArray(t.Pivot)||(t.Pivot=[t.Pivot]),t.Pivot.forEach((e=>{e.id&&e.id.match(/\.(saved|watchlist|playlists)$/)&&(e.requires=g.sy)}))})),i&&i<n.Directory.length-1){const e=n.Directory[i];n.Directory.splice(i,1),n.Directory.push(e)}})),t&&!e.Feature.find((e=>e.type===p.wl))&&e.Feature.push({type:p.wl,key:h.O}),e}})},59638:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i=n(12634),s=n(53334),r=n(14408);const a=s.Z.extend({name:"ProviderCountryModel",context:["server","provider"],idAttribute:"code",rootPropertyName:"Country",syncedAttrs:{code:r.Z.string,title:r.Z.string,postalCodeFormat:r.Z.string,flavor:r.Z.string}});var o=n(67006);const l=i.Z.extend({name:"ProviderCountryCollection",context:["server","provider"],url(){return`${this.provider.get("features").findWhere({type:o.Ct}).get("key")}/countries`},model:a});var c=n(89888),d=n(86646),u=n(40822);const p=i.Z.extend({name:"ProviderEPGChannelCollection",context:["server","provider"],model:d.Z,url(){return this.provider.get("features").get(o.L6).get("settings").get(u.x8).get("key")}}),m=s.Z.extend({name:"ProviderSettingOptionsModel",context:["server","provider"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:r.Z.string,title:r.Z.string,type:r.Z.string,selected:r.Z.boolean}}),h=i.Z.extend({name:"ProviderSettingOptionsCollection",context:["server","provider"],model:m});var g=n(95113);const y={int:g.Z.parseInteger,bool:g.Z.parseBoolean,double:g.Z.parseFloat},v=s.Z.extend({name:"ProviderSettingModel",context:["server","provider"],rootPropertyName:"Setting",url(){return this.get("key")},sessionAttrs:{isOptionsPending:r.Z.boolean,isOptionsPopulated:r.Z.boolean,optionsError:r.Z.object,isLocationsPending:r.Z.boolean,isLocationsPopulated:r.Z.boolean,locationsError:r.Z.object,isLineupPending:r.Z.boolean,isLineupPopulated:r.Z.boolean,lineupError:r.Z.object,isRecentChannelsInGridPending:r.Z.boolean,isRecentChannelsInGridPopulated:r.Z.boolean,recentChannelsInGridError:r.Z.object},syncedAttrs:{country:r.Z.string,countryLabel:r.Z.string,hidden:r.Z.boolean,id:r.Z.string,key:r.Z.string,label:r.Z.string,multiselect:r.Z.boolean,postalCode:r.Z.string,required:r.Z.boolean,selectedCount:r.Z.integer,summary:r.Z.string,type:r.Z.string,value:r.Z.oneOfType(r.Z.string,r.Z.boolean,r.Z.float),min:r.Z.float,max:r.Z.float,step:r.Z.float,enumValues:r.Z.string,default:r.Z.string},sessionRelations:{locations:{relationClass:l},lineup:{relationClass:c.Z},recentChannelsInGrid:{relationClass:p}},syncedRelations:{settings:()=>({relationClass:n(59638).Z,rootPropertyName:"Setting",deferred:!0}),options:{relationClass:h,options:e=>({url:e.key})}},defaults:{isOptionsPending:!0,isOptionsPopulated:!1,optionsError:null,isLocationsPending:!0,isLocationsPopulated:!1,locationsError:null,isLineupPending:!0,isLineupPopulated:!1,lineupError:null},augmentResponse(e){const t=y[e.type];return t&&(e.value=t(e.value)),e}}),f=i.Z.extend({name:"ProviderSettingCollection",context:["server","provider"],url:"/settings",model:v})},56442:(e,t,n)=>{"use strict";n.d(t,{Ls:()=>o,AV:()=>l,fL:()=>c});var i=n(13469),s=n.n(i),r=n(95113);function a(e,t){return t||(t={}),s().defaults(t,{typeName:e,parse:s().bind(r.Z.parseType,r.Z,e)})}const o=a("xml",{accept:"application/xml"}),l=a("json",{accept:"application/json"}),c=a("text")},69273:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var i=n(47909),s=n(53334),r=n(14408),a=n(56442),o=n(78636),l=n(67299),c=n(12634),d=n(95688),u=n(65115);const p=s.Z.extend({name:"SearchResultAdditionalSourceModel",sessionAttrs:{serverEntityID:r.Z.string,providerEntityID:r.Z.string,metadataItemEntityID:r.Z.string,tagItem:r.Z.object}}),m=c.Z.extend({name:"SearchResultAdditionalSourceCollection",model:p});var h=n(4844),g=n(15042),y=Object.prototype.hasOwnProperty,v=Object.getOwnPropertySymbols,f=Object.prototype.propertyIsEnumerable,I=Object.assign;const b=s.Z.extend({name:"SearchResultModel",context:["server","provider","metricsContext"],entityType:g.Re,entityID(e=this.state){return(0,h.Z)(this.entityType,e.key,this.provider&&this.provider.entityID(),this.server.entityID())},responseType(){return(0,o.Z)(this.server)},idAttribute:"key",sessionRelations:{additionalSources:{relationClass:m}},syncedAttrs:{key:r.Z.string,reasonID:r.Z.integer,reason:r.Z.string,reasonTitle:r.Z.string},syncedRelations:{metadataItem:{relationClass:d.Z,deferred:!0},tagItem:{relationClass:u.Z,deferred:!0}},augmentResponse(e){const{key:t,reason:n,reasonTitle:i,reasonID:s}=e,r=((e,t)=>{var n={};for(var i in e)y.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&v)for(var i of v(e))t.indexOf(i)<0&&f.call(e,i)&&(n[i]=e[i]);return n})(e,["key","reason","reasonTitle","reasonID"]);return{key:t,reason:n,reasonTitle:i,reasonID:s,[r.tag?"tagItem":"metadataItem"]:I({key:t},r)}}}),M=c.Z.extend({name:"SearchResultCollection",context:["server","provider","metricsContext"],model:b,responseType(){return(0,o.Z)(this.server)}}),S=s.Z.extend({name:"SearchHubModel",context:["server","provider"],responseType(){return(0,o.Z)(this.server)},idAttribute:"hubIdentifier",syncedAttrs:{hubIdentifier:r.Z.string,size:r.Z.integer,type:r.Z.string,subtype:r.Z.string,title:r.Z.string,context:r.Z.string},syncedRelations:{metadataResults:{relationClass:M,rootPropertyName:"Metadata",options:e=>({metricsContext:e.context})},tagResults:{relationClass:M,rootPropertyName:"Directory",options:e=>({metricsContext:e.context})}}}),E=c.Z.extend({name:"SearchHubCollection",context:["server","provider"],model:S,responseType(){return(0,o.Z)(this.server)}}),D=s.Z.extend({name:"SearchModel",context:["server","provider","isContextual","includeCollections","includeExternalMedia"],responseType(){return(0,o.Z)(this.server)},url(){const e={};return this.includeCollections&&(e.includeCollections=1),this.includeExternalMedia&&(e.includeExternalMedia=1),this.isContextual&&(e.contextual=1),this.get("contentDirectoryID")&&(e.contentDirectoryID=this.get("contentDirectoryID")),i.Z.join(this.get("key"),e)},idAttribute:"providerEntityID",sessionAttrs:{providerEntityID:r.Z.string,serverEntityID:r.Z.string,key:r.Z.string,contentDirectoryID:r.Z.string,searchTitle:r.Z.string,isSearchPending:r.Z.boolean,isSearchPopulated:r.Z.boolean,searchError:r.Z.object},syncedRelations:{hubs:{relationClass:E,rootPropertyName:"Hub"}},defaults:{isSearchPending:!0,isSearchPopulated:!1,contentDirectoryID:""},augmentResponseText:(e,t)=>t===a.Ls?(0,l.Z)(e):e,augmentResponse(e){if(!e.Hub)return e;const t=Array.isArray(e.Hub)?e.Hub:[e.Hub];return e.Hub=t.filter((e=>parseInt(e.size,10)>0)),e}})},87350:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var i=n(69434),s=n(19755),r=n.n(s),a=n(13469),o=n.n(a);var l=n(47909),c=n(93966),d=n(94018),u=n(56529),p=n(14408),m=n(12319),h=n(75358),g=n(49963),y=n(12634),v=n(59756),f=n(56442),I=n(43520);const b=y.Z.extend({name:"ResourceCollection",model:I.Z,context:["server"],responseType:f.AV,url(){const e={};return v.Z.allowHttpsMediaServerConnections&&(e.includeHttps=1),v.Z.allowMediaServerRelayConnections&&(e.includeRelay=1),l.Z.join("/api/v2/resources",e)}}),{connectionTestResults:M,promiseStates:S}=m.ZP,E=m.ZP.extend({name:"CloudServerModel",connectionTestUrl:"https://plex.tv/monitoring/health",sessionAttrs:{connectionTestResult:p.Z.oneOf(M.PENDING,M.CONNECTED,M.UNAVAILABLE,M.UNAUTHORIZED).isRequired,promiseState:p.Z.oneOf(S.PENDING,S.RESOLVED,S.REJECTED).isRequired,isShared:p.Z.boolean.isRequired,isBundled:p.Z.boolean.isRequired,isCloud:p.Z.boolean.isRequired,isMerged:p.Z.boolean.isRequired,isDownForMaintenance:p.Z.boolean.isRequired,isResourcesPending:p.Z.boolean.isRequired,isResourcesPopulated:p.Z.boolean.isRequired,hasFailedResources:p.Z.boolean.isRequired,accessToken:p.Z.string,baseUrl:p.Z.string.isRequired,plexPassUrl:p.Z.string.isRequired,appsUrl:p.Z.string.isRequired,hasEventConnection:p.Z.boolean},sessionRelations:{activeConnection:{relationClass:g.Z,deferred:!0},connections:{relationClass:h.Z,options(){return{server:this}}},resources:{relationClass:b,options(){return{server:this}}}},defaults(){const e="https://plex.tv";return{connectionTestResult:M.PENDING,promiseState:S.PENDING,isShared:!1,isBundled:!1,isCloud:!0,isMerged:!1,isDownForMaintenance:!1,isResourcesPending:!1,isResourcesPopulated:!1,hasFailedResources:!1,friendlyName:"plex.tv",baseUrl:e,plexPassUrl:l.Z.join([e,"/subscription/about"]),appsUrl:l.Z.join([e,"/downloads"]),hasEventConnection:!1}},testAllConnections(){const e=this.get("connections");(0,i.Z)("[Connections] Testing all %s connection(s) for %s",e.length,this.get("debugName"));return function(e){if(!e.length)return r().Deferred().reject().promise();const t=r().Deferred();let n=e.length;return o().each(e,(function(e){e.done((function(){n--,t.resolveWith(this,arguments)})).fail((function(){n--,0===n&&t.reject()}))})),t.promise()}(e.map((e=>this.testConnection(e))))},testConnection(e){const t={server:this,connection:e,url:this.connectionTestUrl};return d.Z.execute("testServerConnection",t).done(this.onConnectionTestSuccess.bind(this)).fail(this.onConnectionTestError.bind(this))},abortConnectionTest(e){const t={server:this,connection:e,url:this.connectionTestUrl};d.Z.execute("abortServerConnectionTest",t)},deauthenticate(){this.get("resources").clear(),this._reject({connectionTestResult:this.get("connectionTestResult"),accessToken:null})},onConnectionTestSuccess(e){const t=this.get("connections").getBestConnection();i.Z.info("[Connections] Active connection to %s is %s",this.get("debugName"),t.id),this.startCapturingChangeEvents(),this.set({isDownForMaintenance:!1,connectionTestResult:M.CONNECTED,activeConnection:t}),this.releaseCapturedChangeEvents()},onConnectionTestError(e,t){e.get("isAborted")||this.get("connections").hasOnlyFailedConnections()&&this._reject({isDownForMaintenance:503===t.status})}});(0,u.Z)(E,(function(){return{relationClass:(0,c.DB)("CloudServerFlexModel"),options:{server:this}}}));const D=E},75358:(e,t,n)=>{"use strict";n.d(t,{y:()=>c,Z:()=>d});var i=n(13469),s=n.n(i),r=n(12634),a=n(59756),o=n(85790),l=n(49963);const c=(e,t)=>!e.get("relay")&&t.get("relay")?e:!t.get("relay")&&e.get("relay")||!e.get("isLoopback")&&t.get("isLoopback")?t:!t.get("isLoopback")&&e.get("isLoopback")?e:!e.get("isPrivate")&&t.get("isPrivate")?t:!t.get("isPrivate")&&e.get("isPrivate")?e:!e.get("isHttps")&&t.get("isHttps")?t:(!t.get("isHttps")&&e.get("isHttps"),e),d=r.Z.extend({name:"ConnectionCollection",context:["server"],model:l.Z,getBestConnection(){const e=a.Z.allowHttpsMediaServerConnections,t=!this.server||this.server.get("isCloud")||e,n=this.filter((e=>e.get("isConnected")&&(t||!e.get("isHttps"))));if(n.length)return s().reduce(n,c)},hasBetterConnectionCandidates(){const e=this.server&&this.server.get("activeConnection");return this.some((t=>{const n=t.get("isUntested")||t.get("isPending"),i=!e||t!==e&&c(t,e)===t;return n&&i}))},hasOnlyFailedConnections(){return this.every((e=>e.get("isFailed")))},hasFailedEveryDirectConnection(){return this.where({relay:!1}).every((e=>e.get("isFailed")))},hasMultiplePrivateV4Subnets(){let e;return this.some((t=>{const n=t.get("address");if(t.get("isPrivate")&&o.q1(n)){const t=o.iX(n);return e||(e=t),e!==t}}))}})},49963:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var i=n(13469),s=n.n(i),r=n(67038),a=n(47909),o=n(53334),l=n(14408),c=n(89410),d=n(74183),u=n(85790),p=n(12634);const m=o.Z.extend({name:"ConnectionSourceModel",context:["server"],sessionAttrs:{id:l.Z.string}}),h=p.Z.extend({name:"ConnectionSourceCollection",context:["server"],model:m}),g=l.Z.boolean.isRequired,y=o.Z.extend({name:"ConnectionModel",context:["server"],idAttribute:"uri",sessionAttrs:{currentTest:l.Z.custom((e=>Array.isArray(e)&&e.every((e=>s().isFunction(e.abort))))),testState:l.Z.oneOf(c.uf,c.hA,c.nm,c.WY,c.nZ,c.c9).isRequired,isBundled:g,isFallback:g},sessionRelations:{sources:{relationClass:h}},syncedAttrs:{uri:l.Z.string,scheme:l.Z.string,address:l.Z.string,port:l.Z.string,relay:l.Z.boolean},derivedAttrs:{isUntested(){return this.get("testState")===c.uf},isPending(){return this.get("testState")===c.hA},isConnected(){return this.get("testState")===c.nm},isUnauthorized(){return this.get("testState")===c.WY},isUnavailable(){return this.get("testState")===c.nZ},isFailed(){return this.get("isUnauthorized")||this.get("isUnavailable")},isAborted(){return this.get("testState")===c.c9},isLoopback(){const e=this.get("address");return"localhost"===e||u.lv(e)},isPrivate(){return this.get("isLoopback")||u.KF(this.get("address"))},isHttps(){return"https"===this.get("scheme")},isSecure(){return this.get("isLoopback")||this.get("isHttps")},isPlexDirect(){return/\.plex\.direct:/.test(this.get("uri"))}},defaults:{testState:c.uf,isBundled:!1,isFallback:!1,relay:!1},url(){return this.get("uri")},constructor:function(e,t){const n=s().clone(e);s().isObject(e)&&!e.uri&&((0,r.Z)(e.scheme&&e.address,`A server connection requires either a uri or a scheme and address. ${e.scheme}://${e.address}`),n.uri=`${e.scheme}://${e.address}`,e.port&&(n.uri+=":"+e.port)),o.Z.prototype.constructor.call(this,n,t)},initialize(){this.listenTo(this.get("sources"),"remove reset",this.onSourcesChange)},augmentResponse(e){const t=e.protocol;return t?s().extend({},e,{scheme:t}):e},getAddressFromUri(){return a.Z.parseUrl(this.get("uri")).hostname},getIpAddressFromPlexDirectAddress(){return(0,d.Z)(this.get("address"))},getLoopbackAttributes(){return{scheme:"http",address:"127.0.0.1",port:this.get("port")}},hasSource(e){return this.get("sources").some((t=>e&&t.get("id")===e))},onSourcesChange(){this.get("sources").length||this.trigger("destroy",this,this.collection)}})},43520:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(42902),s=n(53334),r=n(14408),a=n(75358);const o=s.Z.extend({name:"ResourceModel",context:["server"],idAttribute:"clientIdentifier",urlRoot:"/api/v2/resources",syncedAttrs:{clientIdentifier:r.Z.string,name:r.Z.string,sourceTitle:r.Z.string,accessToken:r.Z.string,product:r.Z.string,productVersion:r.Z.string,platform:r.Z.string,platformVersion:r.Z.string,device:r.Z.string,provides:r.Z.list,owned:r.Z.boolean,home:r.Z.boolean,synced:r.Z.boolean,presence:r.Z.boolean,publicAddressMatches:r.Z.boolean,httpsRequired:r.Z.boolean,createdAt:r.Z.integer,lastSeenAt:r.Z.integer,ownerId:r.Z.integer},syncedRelations:{connections:{relationClass:a.Z}},augmentResponse(e){"string"==typeof e.createdAt&&(e.createdAt=(0,i.Z)(e.createdAt)),"string"==typeof e.lastSeenAt&&(e.lastSeenAt=(0,i.Z)(e.lastSeenAt));const t=e.Device;return t?(t.connections=t.Connection,delete t.Connection,t):e}})},12319:(e,t,n)=>{"use strict";n.d(t,{Ar:()=>X,Hq:()=>J,_r:()=>W,Po:()=>te,ZP:()=>ie});var i=n(13469),s=n.n(i),r=n(67038),a=n(69434),o=n(47909),l=n(93966),c=n(39670),d=n(94018),u=n(14e3),p=n(53334),m=n(56529),h=n(14408),g=n(59756),y=n(69865),v=n(32919),f=n(93683),I=n(78636),b=n(76037),M=n(12634),S=n(19755),E=n.n(S),D=n(32707),C=n(81318);const P=p.Z.extend({name:"PlaylistModel",context:["server","containerKey"],idAttribute:"ratingKey",rootPropertyName:"Playlist",urlRoot:"/playlists",saveUrl(){return this.server.supports("truePlaylistsPath")?s().result(this,"url"):`/library/metadata/${this.id}`},sessionAttrs:{isPlaylist:h.Z.boolean,isLibraryItem:h.Z.boolean},syncedAttrs:{ratingKey:h.Z.string,key:h.Z.string,guid:h.Z.string,type:h.Z.string,playlistType:h.Z.string,title:h.Z.string,titleSort:h.Z.string,composite:h.Z.string,summary:h.Z.string,smart:h.Z.boolean,allowSync:h.Z.boolean,duration:h.Z.integer,durationInSeconds:h.Z.integer,leafCount:h.Z.integer,addedAt:h.Z.integer,updatedAt:h.Z.integer},sessionRelations:{children:{relationClass:C.Z,attrs(e){const t={};return"audio"===e.playlistType&&(t.includeRelated=1),{containerKey:o.Z.join(["/playlists",e.ratingKey,"items"],t)}},options(){return{playlist:this}}}},defaults:{isPlaylist:!0,isLibraryItem:!0},findItem(e){return this.get("children").getCollection().findWhere({playlistItemID:e})},moveItem(e,t){if(void 0===e)return;const n=t?{after:t}:{},i=o.Z.join([s().result(this,"url"),"/items/",e,"/move"],n),r=s().extend(this.server.getXHROptions(i),{type:"PUT"}),a=E().ajax(r),l=this.get("children").getCollection(),c=this.findItem(e);l.remove(c);const d=this.findItem(t),u=d?l.indexOf(d)+1:0;return l.add(c,{at:u}),a},removeItem(e){if(void 0===e)return;const t=o.Z.join([s().result(this,"url"),"/items/",e]),n=s().extend(this.server.getXHROptions(t),{type:"DELETE"}),i=E().ajax(n);i.then((e=>{this.set(this.parse(e))}));const r=this.get("children").getCollection(),a=this.findItem(e);return r.remove(a),r.trigger("destroy",a,r),i},addContent(e,t){const n=this.isNew()?"POST":"PUT",i=[s().result(this,"url")],r={};this.isNew()?(r.type=this.get("playlistType"),r.title=this.get("title"),r.smart=this.get("smart")?1:0):i.push("/items"),e.get("playQueueID")?r.playQueueID=e.get("playQueueID"):r.uri=D.Z.uri(e,t);const a=o.Z.join(i,r),l=s().extend(e.server.getXHROptions(a),{type:n}),c=E().ajax(l);return c.then((e=>{this.set(this.parse(e))})),c.promise()},isLibraryItem:(e,t)=>!0,isPlexMusicItem:()=>!1}),w=M.Z.extend({name:"PlaylistCollection",context:["server","containerKey"],model:P,url(){return this.containerKey}}),T=p.Z.extend({mixins:[f.Z],name:"PlaylistListModel",context:["server","section"],idAttribute:"key",collectionName:"playlists",responseType(){return(0,I.Z)(this.server)},url(){return this.getPaginatedUrl(s().result(this,"containerKey"))},containerKey(){const e=this.section.get("currentType"),t=this.section.get("currentSort"),n={type:15};return n.sort=t?t.id+":"+(t.get("direction")||"asc"):"titleSort:asc",e&&(n.playlistType=e),this.section.get("onlyDumb")&&(n.smart=0),o.Z.join("/playlists/all",n)},sessionAttrs:{isPlaylistList:h.Z.boolean,currentPageStart:h.Z.integer,currentPageSize:h.Z.integer,populatedRange:h.Z.object},syncedAttrs:{totalSize:h.Z.integer},syncedRelations:{playlists:{relationClass:w,rootPropertyName:"Playlist",options(e){return{containerKey:s().result(this,"containerKey")}},setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({isPlaylistList:!0,populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()},sync(e,t,n){const i=b.Z.addVersionHeader(2,n);return p.Z.prototype.sync.call(this,e,t,i)},augmentResponse:e=>(e.Metadata&&(e.Playlist=e.Metadata,delete e.Metadata),e)}),Z=y.Z.extend({name:"PlaylistsSectionModel",defaults(){return{pseudo:!0,currentType:0,sorts:new v.Z([],{section:this,server:this.server}),items:new T({},{section:this,server:this.server})}},url:()=>"/playlists"});var N=n(33192),A=n(12186),x=n(64297),L=n(52039),O=n(53145),j=n(36776),k=n(48523),R=n(4844),z=n(15042),U=n(70716),V=n(55605),B=n(75358),F=n(49963),H=n(76249),_=Object.prototype.hasOwnProperty,Q=Object.getOwnPropertySymbols,G=Object.prototype.propertyIsEnumerable,Y=Object.assign;const W={PENDING:"pending",CONNECTED:"connected",UNAVAILABLE:"unavailable",UNAUTHORIZED:"unauthorized"},K={PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"},q={SECONDARY:"secondary"},$=["camera_upload","content_filter","home","lyrics","music_videos","pass","premium_music_metadata","sync","trailers"],J="ok",X="none",ee=z.cN;function te({machineIdentifier:e}){return(0,R.Z)(ee,e)}const ne=p.Z.extend({mixins:[A.Z],name:"ServerModel",entityType:ee,entityID(e=this.state){return te({machineIdentifier:e.machineIdentifier||this.cid})},idAttribute:"machineIdentifier",connectionTestTimeout:1e4,responseType(){return(0,I.Z)(this)},mergeStrategy:x.Z,cache:new j.Z,persistInCache:!0,sessionAttrs:{connectionTestResult:h.Z.oneOf(W.PENDING,W.CONNECTED,W.UNAVAILABLE,W.UNAUTHORIZED).isRequired,promiseState:h.Z.oneOf(K.PENDING,K.RESOLVED,K.REJECTED).isRequired,sections:h.Z.instanceOf(N.Z).isRequired,playlists:h.Z.instanceOf(Z).isRequired,isShared:h.Z.boolean.isRequired,isBundled:h.Z.boolean.isRequired,isCloud:h.Z.boolean.isRequired,isMerged:h.Z.boolean.isRequired,isEmbedded:h.Z.boolean.isRequired,isInstallingServerUpdate:h.Z.boolean.isRequired,superToken:h.Z.string,accessToken:h.Z.string,sourceTitle:h.Z.string,publicAddressMatches:h.Z.boolean,httpsRequired:h.Z.boolean,presence:h.Z.boolean,home:h.Z.boolean,createdAt:h.Z.integer,lastSeenAt:h.Z.integer,ownerId:h.Z.integer,hasEventConnection:h.Z.boolean,serverClass:h.Z.oneOf(q.SECONDARY),onlyXML:h.Z.boolean,isProvidersPending:h.Z.boolean.isRequired,isProvidersPopulated:h.Z.boolean.isRequired,providersError:h.Z.object},sessionRelations:{activeConnection:{relationClass:F.Z,deferred:!0},connections:{relationClass:B.Z,options(){return{server:this}}}},syncedRelations:{providers:{relationClass:L.Z,rootPropertyName:"MediaProvider",options(){return{server:this}}}},syncedAttrs:{machineIdentifier:h.Z.string,friendlyName:h.Z.string,startState:h.Z.string,version:h.Z.string,platform:h.Z.string,platformVersion:h.Z.string,sync:h.Z.boolean,backgroundProcessing:h.Z.boolean,multiuser:h.Z.boolean,transcoderLyrics:h.Z.boolean,myPlex:h.Z.boolean,myPlexMappingState:h.Z.string,myPlexSigninState:h.Z.oneOf(J,X,"invalid"),myPlexSubscription:h.Z.boolean,myPlexUsername:h.Z.string,transcoderPhoto:h.Z.boolean,transcoderAudio:h.Z.boolean,transcoderVideo:h.Z.boolean,transcoderVideoRemuxOnly:h.Z.boolean,transcoderSubtitles:h.Z.boolean,transcoderActiveVideoSessions:h.Z.integer,allowMediaDeletion:h.Z.boolean,allowCameraUpload:h.Z.boolean,allowChannelAccess:h.Z.boolean,allowSync:h.Z.boolean,diagnostics:h.Z.list,companionProxy:h.Z.boolean,updater:h.Z.boolean,isDesktop:h.Z.boolean,photoAutoTag:h.Z.boolean,itemClusters:h.Z.boolean,updatedAt:h.Z.integer,countryCode:h.Z.string,ownerFeatures:h.Z.list,mediaProviders:h.Z.integer,maxUploadBitrate:h.Z.integer,maxUploadBitrateReason:h.Z.string,maxUploadBitrateReasonMessage:h.Z.string,streamingBrainABRVersion:h.Z.integer,livetv:h.Z.integer,games:h.Z.boolean},derivedAttrs:{debugName(){const e=this.get("machineIdentifier"),t=this.get("connections"),n=1===t.length&&t.at(0).get("isLoopback");let i=this.get("friendlyName");return!i&&this.get("isBundled")?i="[Bundled]":!i&&n&&(i="[Loopback]"),i||(e?`[${e}]`:"[Anonymous]")},shortVersion(){return(0,U.Z)(this.get("version"))},isConnected(){return this.get("connectionTestResult")===W.CONNECTED},isUnavailable(){return this.get("connectionTestResult")===W.UNAVAILABLE},isUnauthorized(){return this.get("connectionTestResult")===W.UNAUTHORIZED},isPending(){return this.get("promiseState")===K.PENDING},isPrivateConnection(){const e=this.get("activeConnection");return!(!e||!e.get("isPrivate"))},isResolved(){return this.get("promiseState")===K.RESOLVED},isRejected(){return this.get("promiseState")===K.REJECTED},isRelayed(){const e=this.get("activeConnection");return!(!e||!e.get("relay"))},isSecure(){const e=this.get("activeConnection");return!(!e||!e.get("isSecure"))},hasHttpsConnections(){return!!this.get("connections").findWhere({isHttps:!0})},hasFallbackConnections(){return!!this.get("connections").findWhere({isFallback:!0})},isMobileServer(){return this.get("serverClass")===q.SECONDARY},isFullServer(){return!this.get("isCloud")&&!this.get("isMobileServer")&&!this.get("isEmbedded")},isFullOwnedServer(){return this.get("isFullServer")&&!this.get("isShared")},isPrimaryEligible(){return!(!g.Z.allowMobileServers&&this.get("isMobileServer")||!this.get("machineIdentifier")||this.get("isUnauthorized")||this.get("isCloud")||this.get("isEmbedded"))},isOutOfDate(){return!this.get("isMobileServer")&&!this.isVersionOrNewer("1.18.3")},isClaimed:function(){return this.get("isConnected")?this.get("myPlexSigninState")===J:void 0},hasManualConnection(){return this.get("connections").some((e=>e.get("sources").some((e=>/^manual/.test(e.id)))))},hasAdaptiveBitrate(){return this.get("streamingBrainABRVersion")>=3},shared(){return this.get("isShared")},bundled(){return this.get("isBundled")},cloud(){return this.get("isCloud")},merged(){return this.get("isMerged")},connected(){return this.get("connectionTestResult")===W.PENDING?null:this.get("isConnected")},available(){return this.get("connectionTestResult")===W.PENDING?null:!this.get("isUnavailable")},authorized(){return this.get("connectionTestResult")===W.PENDING?null:this.get("isResolved")},relayed(){return this.get("isRelayed")}},defaults(){return{connectionTestResult:W.PENDING,promiseState:K.PENDING,sections:new N.Z([],{server:this}),playlists:new Z({},{server:this}),isShared:!1,isBundled:!1,isCloud:!1,isMerged:!1,isEmbedded:!1,isInstallingServerUpdate:!1,hasEventConnection:!1,sync:!1,backgroundProcessing:!1,allowChannelAccess:!1,updater:!0,ownerFeatures:[],games:!1,isProvidersPending:!0,isProvidersPopulated:!1,providersError:null}},url(e=this.get("activeConnection")){(0,r.Z)(e,"An active or manual connection is required for a server url");let t=s().result(e,"url");return/\/$/.test(t)||(t+="/"),t},initialize(){this._reset(),this.on("change:machineIdentifier",this.onMachineIdentifierChange,this),this.listenTo(this.get("connections"),{remove:this.onConnectionRemove,reset:this.onConnectionsReset})},uninitialize(){this.off("change:machineIdentifier",this.onMachineIdentifierChange,this),this.stopListening()},updateEntity(){if(!this.get("isMerged"))return p.Z.prototype.updateEntity.apply(this,arguments)},fetch(){return u.ZP.Model.prototype.fetch.apply(this,arguments)},resolveUrl(e,t={}){if((0,V.Z)(e))return e;let n;n=t.useRelativeUrl?this.get("isMobileServer")?`http://127.0.0.1:${this.getLoopbackPort()}/`:"":t.baseUrl||this.url(t.connection);const i=this.get("accessToken"),r=s().extend({},t.params);return t.appendHeaders&&s().defaults(r,this.getHeaders()),t.appendToken&&i&&(r["X-Plex-Token"]=i),o.Z.join([n,e],r)},getXHROptions(e,t={}){var{headers:n,baseUrl:i}=t,r=((e,t)=>{var n={};for(var i in e)_.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Q)for(var i of Q(e))t.indexOf(i)<0&&G.call(e,i)&&(n[i]=e[i]);return n})(t,["headers","baseUrl"]);return Y({url:this.resolveUrl(e,{baseUrl:i}),dataType:"text",headers:s().extend(this.getHeaders(),n),allowHeadersInUrl:!0,allowBlacklistedMethodHeaders:this.supports("allowBlacklistedMethodHeaders")},r)},getHeaders(){const e=c.Z.getInstance(),t=s().clone(e),n=this.get("accessToken");n&&(t["X-Plex-Token"]=n);const i=(0,l.DB)("settingFinder").find("language");return i&&(t["X-Plex-Language"]=i,t["Accept-Language"]=i),t},addConnection(e){e.sources||(e.sources=[{id:"internal"}]);const t=this.get("connections"),n=new F.Z(e),i=t.get(n.id);return i?(i.get("sources").set(e.sources,{remove:!1}),i):t.add(e)},hasSource(e){return this.get("connections").some((t=>t.hasSource(e)))},removeSource(e){const t=this.get("connections");let n=t.length-1;for(;n>=0;)t.at(n).get("sources").remove(e),n--},testAllConnections(){const e=this.get("connections");return(0,a.Z)("[Connections] Testing all %s connection(s) for %s",e.length,this.get("debugName")),this._reset(),e.each((e=>{const t=!e.get("relay"),n=!e.get("isUntested");(t||n)&&this.testConnection(e)})),this.populatePromise},testOnlyUntestedConnections(){return this.get("connections").each((e=>{const t=!e.get("relay"),n=e.get("isUntested"),i=e.get("isAborted");t&&(n||i)&&this.testConnection(e)})),this.populatePromise},testOnlyUntestedRelayConnections(){return this.get("connections").each((e=>{const t=e.get("relay"),n=e.get("isUntested");t&&n&&this.testConnection(e)})),this.populatePromise},testConnection(e,t={}){return t.server=this,t.connection=e,this.get("promiseState")===K.REJECTED&&this._reset(),d.Z.execute("testServerConnection",t).done(this.onConnectionTestSuccess.bind(this)).fail(this.onConnectionTestError.bind(this))},abortAllConnectionTests(){const e=this.get("connections");(0,a.Z)("[Connections] Aborting all pending connection tests for",this.get("debugName")),e.each((e=>{this.abortConnectionTest(e)}))},abortConnectionTest(e){const t={server:this,connection:e};d.Z.execute("abortServerConnectionTest",t)},populateIdentity(e){if(this._identityPromise)return this._identityPromise;const t=d.Z.execute("populateServerIdentity",{server:this,connection:e});return t.done((e=>{this.set("machineIdentifier",e)})),this._identityPromise=t,t},updateCacheKey(){const e=this.get("debugName"),t=this.cacheKey(this.attributes),n=this.cache.get(t);if(n){const i=n.get("debugName");a.Z.warn("[Identity] %s and %s (cached) collide",e,i),n.get("isConnected")||!this.get("isConnected")?((0,a.Z)("[Identity] Merging %s into %s (cached)",e,i),n.merge(this)):((0,a.Z)("[Identity] Merging %s (cached) into %s",i,e),this.merge(n),this.cache.store(this,t))}else this.cache.store(this,t)},merge(e){e.set("isMerged",!0),e.get("isBundled")&&this.set("isBundled",!0),e.get("connections").each((e=>{this.addConnection(e.toJSON())})),this.collection&&(this.collection.remove(e.cid,{silent:!0}),this.collection._byId[this.id]=this,this.collection.trigger("remove",e,this.collection),this.collection.trigger("update",this.collection)),this.cache.remove(e),g.Z.shouldCreateStateTree&&this.updateEntity()},hasOwnerFeature(e){if(this.supports("ownerFeatures")){const t=this.get("ownerFeatures");return!!(t&&t.indexOf(e)>-1)}return!!this.get("myPlexSubscription")&&$.indexOf(e)>-1},supports(e){const t=this.get(e);if(s().isBoolean(t))return t;const n=H.Z[e];return null!=n&&this.isVersionOrNewer(n)},isVersionOrNewer(e){const t=this.get("shortVersion");return!e||!t||(0,k.Z)(t,e)},hasRegression(e){if(!e)return!1;const t=this.isVersionOrNewer(e.introduced),n=e.resolved&&this.isVersionOrNewer(e.resolved);return t&&!n},hasOtherLoopbackServer(){return!!this.collection&&this.collection.hasLoopbackServer()},getLoopbackPort(){const e=this.get("connections").findWhere({isPrivate:!0});return e?e.get("port"):"32400"},authenticate(e){this._resolve({accessToken:e})},deauthenticate(){this._reject({accessToken:null})},_reset(){this.startCapturingChangeEvents(),this.set("promiseState",K.PENDING),this._resetPopulate(),this.releaseCapturedChangeEvents()},_resolve(e){const t=s().extend({connectionTestResult:W.CONNECTED,promiseState:K.RESOLVED},e);this.startCapturingChangeEvents(),this.set(t),g.Z.shouldCreateStateTree&&this.updateState(),this._resolvePopulate(),this.releaseCapturedChangeEvents()},_reject(e){const t=this.get("connections");t.hasOnlyFailedConnections()&&a.Z.warn("[Connections] All connections to %s failed",this.get("debugName"));const n=t.findWhere({isUnauthorized:!0})?W.UNAUTHORIZED:W.UNAVAILABLE,i=s().extend({connectionTestResult:n,promiseState:K.REJECTED},e);this.startCapturingChangeEvents(),this.set(i),this._rejectPopulate(),this.releaseCapturedChangeEvents()},_checkActiveConnection(){const e=this.get("activeConnection"),t=this.get("connections");if(e&&!t.contains(e)){const e=t.getBestConnection();e?this.set({activeConnection:e}):this.testAllConnections()}},onMachineIdentifierChange(e,t){this.collection?this.listenToOnce(this.collection,"change:machineIdentifier",(function(){this.updateCacheKey()})):this.updateCacheKey()},onConnectionRemove(e,t){t.length?this._checkActiveConnection():(this.trigger("change:connections.remove",e,t),this.trigger("change:connections.change",this,t),this.trigger("destroy",this,this.collection))},onConnectionsReset(e,t){e.length?this._checkActiveConnection():(this.trigger("change:connections.reset",e,t),this.trigger("change:connections.change",this,e),this.trigger("destroy",this,this.collection))},onConnectionTestSuccess(e,t){const n=this.get("connections").getBestConnection();if(n!==this.get("activeConnection")&&a.Z.info("[Connections] Active connection to %s is %s",this.get("debugName"),n.id),this._resolve(Y({activeConnection:n},t)),g.Z.allowLoopbackDiscovery){const e=this.get("connections"),t=this.get("activeConnection"),n=t.get("isPrivate"),i=!!e.findWhere({isLoopback:!0});!n||i||this.hasOtherLoopbackServer()||((0,a.Z)("[Connections] Adding possible loopback connection for",this.get("debugName")),this.addConnection(t.getLoopbackAttributes()))}},onConnectionTestError(e,t){if(e.get("isAborted"))return;const n=this.get("connections");!e.get("isHttps")||e.get("isUnauthorized")||e.get("relay")||(0,l.DB)("appStore").dispatch((0,O.zg)({serverEntityID:this.entityID(),address:e.get("address"),port:e.get("port")})),!this.id&&e.get("isUnauthorized")&&this.populateIdentity(e),n.hasOnlyFailedConnections()?this.id||!this._identityPromise?this._reject():this._identityPromise.always((()=>{n.hasOnlyFailedConnections()&&this._reject()})):n.hasFailedEveryDirectConnection()&&this.testOnlyUntestedRelayConnections()}},{connectionTestResults:W,promiseStates:K,serverClasses:q});(0,m.Z)(ne,(function(){return{relationClass:(0,l.DB)("ServerFlexModel"),options:{server:this}}}));const ie=ne},47985:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(12634),s=n(53334),r=n(14408);const a=s.Z.extend({name:"SectionOverviewModel",context:["server"],rootPropertyName:"Section",syncedAttrs:{id:r.Z.integer,key:r.Z.string,type:r.Z.string,title:r.Z.string}}),o=i.Z.extend({name:"SectionOverviewCollection",context:["server"],model:a}),l=s.Z.extend({name:"ServerOverviewModel",context:["server"],idAttribute:"machineIdentifier",rootPropertyName:"Server",urlRoot:"/api/servers",syncedAttrs:{machineIdentifier:r.Z.string,name:r.Z.string,address:r.Z.string,port:r.Z.string,version:r.Z.string,createdAt:r.Z.integer,updatedAt:r.Z.integer},syncedRelations:{sections:{relationClass:o,rootPropertyName:"Section"}}}),c=i.Z.extend({name:"ServerOverviewCollection",context:["server"],model:l})},91485:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(12634),s=n(53334),r=n(14408),a=n(95113);const o="bool",l="enum";function c(e,t){switch(e){case"int":case l:return a.Z.parseInteger(t);case o:return a.Z.parseBoolean(t);default:return t}}const d=s.Z.extend({idAttribute:"id",url:"/:/prefs",context:["server"],sessionAttrs:{isSaving:r.Z.boolean},syncedAttrs:{id:r.Z.string,label:r.Z.string,default:r.Z.oneOfType(r.Z.integer,r.Z.string,r.Z.boolean,r.Z.array),summary:r.Z.string,value:{type:r.Z.oneOfType(r.Z.integer,r.Z.string,r.Z.boolean,r.Z.array),save:!0},type:r.Z.oneOf("int","text",o,l,"double"),group:r.Z.string,advanced:r.Z.boolean,option:r.Z.string,hidden:r.Z.boolean,enumValues:r.Z.array,values:r.Z.string},defaults:{isSaving:!1,type:"string",summary:"",label:"",group:""},augmentResponse(e){if(e.value=c(e.type,e.value),e.advanced=c(o,e.advanced),e.hidden=c(o,e.hidden),e.enumValues&&!Array.isArray(e.enumValues)&&(e.enumValues=e.enumValues.split("|").map((t=>{const[n,i=n]=t.split(":");return{label:i,value:c(e.type,n)}}))),e.type===l&&e.values&&!Array.isArray(e.values)){let t=0;e.enumValues=e.values.split("|").map((e=>({label:e,value:t++})))}return e},getSaveParams(e){const t=s.Z.prototype.getSaveParams.apply(this,arguments);return e&&!e.hasOwnProperty("value")?(Object.keys(t).forEach((t=>delete e[t])),t):{[this.get("id")]:t.value}}}),u=i.Z.extend({name:"ServerSettingCollection",context:["server"],url:"/:/prefs",model:d,augmentResponse:e=>e.Setting?(Array.isArray(e.Setting)?e.Setting:[e.Setting]).filter((e=>e.id)):[]})},76249:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={gracenoteAttribution:"1.21.1",firstCharacterKeySortDirection:"1.20.4",pivotIDs:"1.20.4",freeLiveTVDVRSettings:"1.20.2",augmentedHubsInRelatedHubs:"1.19.5",simpleRelatedKey:"1.19.2",transientTokenProxy:"1.15.4",mediaProvidersServerRoot:"1.13.10",streamDisplayTitles:"1.13.8",bundledWebAppNewSettingsRoutes:"1.13.8",softSubtitlesWithDirectPlay:"1.13.4",truePlaylistsPath:"1.9.3",optimizeDatabaseActivity:"1.4.2",asyncCheckFiles:"1.4.0",json:"1.8.0",allowBlacklistedMethodHeaders:"1.2.1",decisionEndpoint:"1.0.3",defaultSections:"0.9.17.3",ownerFeatures:"0.9.17.0",replaceTranscodeTarget:"0.9.17.0",quickSearch:"0.9.16.0",relay:"0.9.15.0",claimServer:"0.9.14.2",searchSpecificType:"0.9.14.2",linkedYearMetadata:"0.9.14.0",streamReady:"0.9.14.0",syncOriginalQuality:"0.9.14.0",allPartsStreamSelection:"0.9.12.5",sharedChannels:"0.9.12.5",shortenTranscodeURL:"0.9.12.5",companionProxy:"0.9.12.5",editSimilarArtists:"0.9.12.2",neuterRedirect:"0.9.12.0",audioAsVideo:"0.9.12.0",compositeDelete:"0.9.12.0",batchEdit:"0.9.12.0",premiumMusic:"0.9.12.0",transientToken:"0.9.12.0",softSubtitles:"0.9.12.0",sharedSyncStatus:"0.9.11.14",reachability:"0.9.11.14",photoPlayQueues:"0.9.11.12",publicNowPlaying:"0.9.11.3",labels:"0.9.11.2",updater:"0.9.11.1",playItemsBatchAdd:"0.9.9.16",playlists:"0.9.9.13",imageFilters:"0.9.9.13",hubFilterSigns:"0.9.9.12",cancelAllUpdates:"0.9.9.10",playQueues:"0.9.9.6",sectionSettings:"0.9.9.6",hubFilters:"0.9.9.2",streamingMKV:"0.9.9.16",chunkedHTTP:"0.9.9.3",sharedSync:"0.9.9.3",dash:"0.9.8.6",specificMediaDeletion:"0.9.7.23",sharedSettings:"0.9.7.23",syncNotifications:"0.9.7.23",universalMusicTranscoder:"0.9.8.3",universalTranscoder:"0.9.7.17",sync:"0.9.7.10",artworkUpload:"0.9.7.9",firstRunPref:"0.9.7.3",timelineState:"0.9.7.2",cleanBundles:"0.9.7.0",advancedFilters:"0.9.7.0",search:"0.9.7.0",merge:"0.9.7.0",splitApart:"0.9.7.0"}},60214:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(13469),s=n.n(i),r=n(67038),a=n(61682),o=n(53334),l=n(56442);const c=o.Z.extend({name:"AbstractStorageModel",responseType:l.AV,save(e,t,n={}){const i=this.attributes;let r;if(null==e||s().isObject(e)?(r=e,n=t):(r={})[e]=t,n=s().extend({validate:!0},n),r&&!n.wait){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=s().extend({},i,r));const a=this._getStorageAdapter().getInstance().excludeDefaults,o=this.toJSON({syncedOnly:!0,excludeDefaults:!1!==a}),l=this._serialize(o),c=this._getStorageAdapter().set(this._getStorageKey(),l);return c.done((()=>{this.attributes=i,this.trigger("sync",this,i,n)})),c.fail((e=>{this.trigger("error",this,e,n)})),r&&n.wait&&(this.attributes=i),c},destroy(e={}){e.wait||this.trigger("destroy",this,this.collection,e);const t=this._getStorageAdapter().remove(this._getStorageKey());return t.done((t=>{e.wait&&this.trigger("destroy",this,this.collection,e),this.trigger("sync",this,t,e)})),t.fail((t=>{this.trigger("error",this,t,e)})),t},sync(){this._logError("does not support syncing to a server")},_getStorageAdapter:()=>a.Z,_getStorageKey(){const e=s().result(this,"storageKey");if(!e)throw new Error(`${this.name} requires a \`storageKey\` property`);return e},_fetch(e={}){const t=this._getStorageAdapter().get(this._getStorageKey());return t.done((t=>{t&&this.set(this.parse(t)),this.trigger("sync",this,t,e)})),t.fail((t=>{this.trigger("error",this,t,e)})),t},_serialize(e){let t="";try{t=JSON.stringify(e)}catch(e){this._logError("serialization error: "+e.message)}return t},_warnUnsupportedOptions(e){e.parse&&this._logError("does not support the `parse` option. The response from storage is always parsed."),e.success&&this._logError("does not support a `success` callback. Use the returned promise."),e.error&&this._logError("does not support an `error` callback. Use the returned promise.")},_logError(e){let t;try{t=this._getStorageKey()}catch(e){t="no storageKey"}(0,r.Z)(!1,`${this.name} (${t}) ${e}`)}})},93242:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(12634),s=n(31599);const r=i.Z.extend({name:"MediaGrabOperationCollection",context:["server","provider"],model:s.Z,comparator(e){const t=e.get("mediaItem");if(t)return t.beginsAt-(t.startOffsetSeconds||0)}})},31599:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(93966),s=n(53334),r=n(14408),a=n(59756),o=n(95688),l=n(19623),c=n(95113),d=n(4844),u=n(15042),p=n(87048);const m=s.Z.extend({name:"MediaGrabOperationModel",context:["server","provider"],idAttribute:"key",rootPropertyName:"MediaGrabOperation",url(){return this.get("key")},syncedAttrs:{mediaSubscriptionID:r.Z.string,provider:r.Z.string,identifier:r.Z.string,mediaIndex:r.Z.integer,channelTitle:r.Z.string,status:r.Z.string,error:r.Z.string,linkedKey:r.Z.string,key:r.Z.string,rolling:r.Z.boolean},sessionAttrs:{isLibraryMetadataItemPending:r.Z.boolean,isLibraryMetadataItemPopulated:r.Z.boolean,libraryMetadataItemError:r.Z.object},syncedRelations:{metadataItem:{relationClass:o.Z,rootPropertyName:"Metadata"},conflicts:()=>({relationClass:n(93242).Z,deferred:!0})},sessionRelations:{libraryMetadataItem:{relationClass:o.Z,deferred:!0}},derivedAttrs:{mediaItem(){const e=this.get("mediaIndex");return(this.get("metadataItem").get("Media")||[])[e]},beginsAt(){const e=this.get("mediaItem");return e&&e.beginsAt},endsAt(){const e=this.get("mediaItem");return e&&e.endsAt}},defaults:{rolling:!1,isLibraryMetadataItemPending:!0,isLibraryMetadataItemPopulated:!1,libraryMetadataItemError:null},augmentResponse(e){let t=e;if(t[this.rootPropertyName]&&(t=t[this.rootPropertyName]),t.Conflicts&&(t.conflicts=t.Conflicts.MediaGrabOperation,delete t.Conflicts),!a.Z.shouldCreateStateTree)return t;const n=t.Metadata,s=c.Z.parseArray(n.Media),r=c.Z.parseInteger(t.mediaIndex),o=(0,d.Z)(u.TY,n.key,this.server.entityID()),m=(0,i.DB)("appModel"),h=(0,p.Z)(m,u.TY,o);if(h){const e=h.get("Media").map(l.Z),n=s.map(l.Z)[r],i=e.findIndex((e=>n===e));t.mediaIndex=-1!==i?i:r+e.length}return t}})},69653:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(12634),s=n(16905);const r=i.Z.extend({name:"MediaSettingCollection",context:["server","provider"],model:s.Z,getSaveParams(){return this.reduce(((e,t)=>(e[t.id]=t.get("value"),e)),{})}})},16905:(e,t,n)=>{"use strict";n.d(t,{E:()=>a,Z:()=>l});var i=n(53334),s=n(14408),r=n(95113);const a={INT:"int",TEXT:"text",BOOL:"bool",DOUBLE:"double"};function o(e,t){switch(e){case a.INT:case a.ENUM:return r.Z.parseInteger(t);case a.BOOL:return r.Z.parseBoolean(t);case a.DOUBLE:return r.Z.parseFloat(t);default:return t}}const l=i.Z.extend({name:"MediaSettingModel",context:["server","provider"],idAttribute:"id",rootPropertyName:"Setting",syncedAttrs:{id:s.Z.string,advanced:s.Z.boolean,default:s.Z.oneOfType(s.Z.integer,s.Z.string,s.Z.boolean),hidden:s.Z.boolean,group:s.Z.string,label:s.Z.string,summary:s.Z.string,type:s.Z.oneOf(a.INT,a.TEXT,a.BOOL,a.ENUM,a.DOUBLE),value:s.Z.oneOfType(s.Z.integer,s.Z.float,s.Z.string,s.Z.boolean),min:s.Z.float,max:s.Z.float,step:s.Z.float,enumValues:s.Z.array},augmentResponse:e=>(e.default=o(e.type,e.default),e.value=o(e.type,e.value),e.enumValues&&(e.enumValues=e.enumValues.split("|").map((t=>{const[n,i=n]=t.split(":");return{label:decodeURIComponent(i),value:o(e.type,n)}}))),e),parseAndSetValue(e){this.set("value",o(this.get("type"),e))}})},14794:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var i=n(53334),s=n(14408),r=n(9949),a=n(64297),o=n(56442),l=n(67299),c=n(4844),d=n(15042),u=n(93242),p=n(69653);const m=i.Z.extend({name:"MediaSubscriptionHintModel",context:["server","provider"],syncedAttrs:{guid:s.Z.string,grandparentGuid:s.Z.string,title:s.Z.string,type:s.Z.string,subtype:s.Z.string,grandparentTitle:s.Z.string,index:s.Z.integer,parentIndex:s.Z.integer,year:s.Z.string,grandparentYear:s.Z.integer,originallyAvailableAt:s.Z.string,thumb:s.Z.string,parentThumb:s.Z.string,grandparentThumb:s.Z.string,ratingKey:s.Z.string,source:s.Z.string,parentTitle:s.Z.string,parentYear:s.Z.string}});var h=n(95688);const g=i.Z.extend({name:"MediaSubscriptionTargetModel",context:["server","provider"],syncedRelations:{metadata:{relationClass:h.Z,rootPropertyName:"Metadata",deferred:!0}}});var y=Object.prototype.hasOwnProperty,v=Object.getOwnPropertySymbols,f=Object.prototype.propertyIsEnumerable,I=Object.assign;const b=i.Z.extend({name:"MediaSubscriptionModel",context:["server","provider"],entityType:d.PK,entityID(e=this.state){return(0,c.Z)(this.entityType,e.key||this.cid,this.server.entityID())},idAttribute:"key",rootPropertyName:"MediaSubscription",urlRoot:"/media/subscriptions",mergeStrategy:a.Z,syncedAttrs:{key:s.Z.string,type:s.Z.integer,provider:s.Z.string,targetLibrarySectionID:{type:s.Z.string,save:!0},targetSectionLocationID:{type:s.Z.string,save:!0},title:s.Z.string,selected:s.Z.boolean,parameters:s.Z.string,createdAt:s.Z.integer,storageTotal:s.Z.integer},syncedRelations:{hint:{relationClass:m,rootPropertyName:"Metadata",deferred:!0},target:{relationClass:g,rootPropertyName:"Target",deferred:!0},grabOperations:{relationClass:u.Z,rootPropertyName:"MediaGrabOperation",deferred:!0},prefs:{relationClass:p.Z,rootPropertyName:"Setting",deferred:!0,save:!0},timeline:{relationClass:r.Z,rootPropertyName:"Timeline",deferred:!0}},augmentResponseText:(e,t)=>t===o.Ls?(0,l.Z)(e):e,augmentResponse(e){const t=e[this.rootPropertyName]||e,n=t.Timeline;return n&&(t.Timeline=n.Metadata),e},getSaveParams(){const e=i.Z.prototype.getSaveParams.apply(this,arguments),{Setting:t}=e,n=((e,t)=>{var n={};for(var i in e)y.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&v)for(var i of v(e))t.indexOf(i)<0&&f.call(e,i)&&(n[i]=e[i]);return n})(e,["Setting"]);return I({prefs:t},n)}})},66390:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(12634),s=n(56442),r=n(67299),a=n(14794);const o=i.Z.extend({name:"MediaSubscriptionTemplateCollection",context:["server","provider"],url:"/media/subscriptions/template",model:a.Z,augmentResponseText:(e,t)=>t===s.Ls?(0,r.Z)(e):e,augmentResponse:e=>e.SubscriptionTemplate})},86278:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(47909),s=n(12634),r=n(56442),a=n(53334),o=n(14408);const l=a.Z.extend({name:"UserFeatureModel",idAttribute:"uuid",syncedAttrs:{uuid:o.Z.string.isRequired,id:o.Z.string}}),c=s.Z.extend({name:"UserFeatureCollection",context:["server"],model:l,url:i.Z.join(["https://plex.tv","/api/v2/features"]),responseType:r.AV})},66357:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(53334),s=n(14408),r=n(95688),a=n(12634);const o=i.Z.extend({name:"SyncplaySessionUserModel",idAttribute:"deviceIdentifier",sessionAttrs:{adDisplayIndex:s.Z.integer,adDisplayTotal:s.Z.integer,deviceIdentifier:s.Z.string.isRequired,deviceName:s.Z.string.isRequired,id:s.Z.integer.isRequired,isAdPlaying:s.Z.boolean,isPresent:s.Z.boolean,isReady:s.Z.boolean,isWatching:s.Z.boolean,positionSeconds:s.Z.oneOfType(s.Z.integer,s.Z.float),thumb:s.Z.string,title:s.Z.string},defaults:{deviceIdentifier:null,deviceName:null,id:null,isAdPlaying:!1,isReady:!1,isWatching:!1,positionSeconds:0}}),l=a.Z.extend({name:"SyncplaySessionUserCollection",model:o}),c=i.Z.extend({name:"SyncplaySessionModel",idAttribute:"roomID",sessionAttrs:{notifications:s.Z.array,roomID:s.Z.string},sessionRelations:{metadataItem:{relationClass:r.Z,deferred:!0},users:{relationClass:l}},defaults:{notifications:[]}})},5513:(e,t,n)=>{"use strict";n.d(t,{v4:()=>b,Oq:()=>I,D8:()=>A,dC:()=>S,RK:()=>E,Nx:()=>D,On:()=>C,eS:()=>P,$v:()=>T,rP:()=>w,kO:()=>M,gC:()=>f,M8:()=>Z,i:()=>N,x:()=>x,f9:()=>v,CC:()=>Y,a7:()=>k,h9:()=>j,Us:()=>Q,$e:()=>z,c4:()=>U,n:()=>V,EP:()=>B,yB:()=>F,yy:()=>R,I2:()=>O,T5:()=>H,zt:()=>_,I$:()=>G,qO:()=>L});var i=n(73034),s=n(69434),r=n(4134),a=n(21809);let o,l,c=0,d=0;function u(e,t){return(0,a.Z)(e)?function(e,t){const n=e.possibleEntityContainers,i=n?n.length:0;for(let s=0;s<i;s++)if(u(e[n[s]],t))return!0;return!1}(e,t):Array.isArray(e)?function(e,t){for(let n=0,i=e.length;n<i;n++)if(u(e[n],t))return!0;return!1}(e,t):e===t}function p(e,t){return e+1>=t?0:e+1}var m=n(28440),h=n(27082),g=n(44823),y=Object.assign;const v="app/setPrimaryServer",f="app/resetPrimaryServer",I="app/changePrimaryServer",b="app/changeCompanionServer",M="app/removeCompanionServer",S="app/garbageCollectEntities",E="app/navigate",D="app/navigateBack",C="app/navigateForward",P="app/navigateHome",w="app/navigateSearch",T="app/navigatePrePlay",Z="app/saveDeviceSettings",N="app/saveLastSourcePivot",A="app/clearLastSourcePivots",x="app/savePivotParams",L=(0,i.Z)(v),O=(0,i.Z)(f),j=(0,i.Z)(I),k=(0,i.Z)(b),R=(0,i.Z)(M),z=(0,i.Z)(S),U=(0,i.Z)(E),V=(0,i.Z)(D),B=((0,i.Z)(C),(0,i.Z)(P)),F=((0,i.Z)(w),(0,i.Z)(T)),H=(0,i.Z)(Z),_=(0,i.Z)(N),Q=(0,i.Z)(A),G=(0,i.Z)(x),Y={[S](e,t){(0,h.c9)();const n=function(e,t={}){const n=null!=t.budget?t.budget:16.666666666666668,i=window.performance.now(),s=e.entities,r=Object.keys(s),a=r.length,m={};n===1/0&&(c=0,d=0);const h=s[r[c]];for(o=c,l=Math.max(Math.min(d,Object.keys(h).length-1),0);c<a;){const t=r[c],h=s[t],g=Object.keys(h),y=g.length,v=p(c,a);for(;d<y;){const s=g[d],r=p(d,y);if(u(e,s)||(m[t]||(m[t]=[]),m[t].push(s)),v===o&&r===l)return c=v,d=r,m;if(window.performance.now()-i>=n)return c=v,d=r,m;d++}if(c=v,d=0,c===o&&d===l)return m}return m}(e.getState(),t),i=e.get("entities");for(const e in n){const t=n[e];i.get(e).remove(t)}t&&t.budget===1/0&&Object.keys(n).length&&(0,h.c9)()},[N](e,t,n){const i=(0,m.SW)(e,t),s=(0,m.js)(e,t),a=e.get("user").get("experienceSettings"),o=a.get("lastSourcePivots");if(!a.get("shouldSaveLastSourcePivots"))return;const l=(0,g.Z)(i.get("machineIdentifier"),s.get("identifier"),t.directoryID);n((0,r.LN)({lastSourcePivots:y(y({},o),{[l]:t.pivotKey})}))},[A](e,t,n){n((0,r.LN)({lastSourcePivots:{}}))},[x](e,t,n){const i=(0,m.SW)(e,t),s=(0,m.js)(e,t),a=e.get("user").get("experienceSettings").get("savedPivotParams"),o=(0,g.Z)(i.get("machineIdentifier"),s.get("identifier"),t.directoryID,t.pivotKey);n((0,r.LN)({savedPivotParams:y(y({},a),{[o]:t.params})}))},[I](e,t){},[f](e,t){},[v](e,t){},[b](e,t){const n=(0,m.$w)(e,t);n?e.set("companionServer",n):s.Z.warn("[Companion] Could not find %s to use as companion server",t.serverEntityID)},[M](e){e.unset("companionServer")},[E](){},[D](){},[C](){},[P](){},[w](){},[T](){},[Z](){}}},3265:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i}),n(67038),n(21809);const i=function(e){return e}},44516:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(19755),s=n.n(i),r=n(69434);const a=2500;function o(e){const{eventSource:t,events:n,predicate:i=(()=>!0),waitDuration:o=a}=e,l=s().Deferred(),c=()=>{i(t)&&(u=window.clearTimeout(u),t.off(d),l.resolve(t))},d=n.reduce(((e,t)=>(e[t]=c,e)),{});let u=window.setTimeout((()=>{r.Z.warn('Model "%s" events %o did not pass the predicate within %dms',t.name,n,o),t.off("add",d),l.reject(t)}),o);return t.on(d),l.promise()}},49517:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(19755),s=n.n(i),r=n(44516),a=n(16487);function o(e,t){return function(e,t){return e.findWhere(t)?s().Deferred().resolve(e).promise():(0,r.Z)({eventSource:e,events:["add"],predicate:()=>!!e.findWhere(t)})}(e,t).then((e=>(0,a.Z)(e.findWhere(t))),(()=>s().Deferred().reject().promise()))}},16487:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(19755),s=n.n(i),r=n(44516);function a(e){return e.get("isPopulated")?s().Deferred().resolve(e).promise():(0,r.Z)({eventSource:e,events:["change:error","change:isPopulated"]})}},85425:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r}),n(67038);var i=n(34885),s=n(57054);function r(e){const{key:t,getModel:n,onResolved:r,onRejected:a}=e,o=(0,i.Z)(t),l=`is${o}Pending`,c=`is${o}Populated`,d=t?`${t}Error`:"error";return(t,i={},o)=>{const u=n(t,i),p=(u.sessionAttrs,u.get(l));u.set(l,!0),e.fetch(t,i,o).then((()=>{u.set({[l]:!1,[c]:!0,[d]:null}),r&&r(u,t,i,o)}),(e=>{const n=e.aborting?{[l]:p}:{[l]:!1,[d]:(0,s.Z)(e)};u.set(n),a&&a(u,t,i,o)}))}}},26564:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(19755),s=n.n(i),r=(n(67038),n(85425)),a=Object.assign;function o(e){const{key:t,getModel:n}=e;return(0,r.Z)(a(a({},e),{fetch(e,i){const r=n(e,i),a=t?r.get(t):r;return a?a.fetch(i.options).then(null,((e,t)=>s().Deferred().reject(t).promise())):s().Deferred().reject({status:0}).promise()}}))}},3241:(e,t,n)=>{"use strict";n.d(t,{y:()=>r,Z:()=>a});var i=n(57898),s=Object.assign;const r=16;function a(e){const{hubKey:t,server:n,provider:a,options:o}=e;return new i.Z([],s(s({count:r,excludes:["playlists"],libraryHubsOnly:!0,includeEmpty:!0,includeFeaturedTags:!0,includeTypeFirst:!0,includeRecentChannels:!0},o),{hubKey:t,server:n,provider:a}))}},27940:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s}),n(67038);var i=n(34885);function s(e){const{key:t,fetchActionCreator:n,getModel:s}=e,r=`is${(0,i.Z)(t)}Populated`;return(e,t,i)=>{s(e,t).get(r)||i(n(t))}}},58042:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r}),n(67038);var i=n(34885),s=n(57054);function r(e){const{key:t,getModel:n}=e,r=(0,i.Z)(t),a=`is${r}Pending`,o=`is${r}Populated`,l=t?`${t}Error`:"error";return(e,i)=>{const{startIndex:r,endIndex:c,pages:d=3,reloadThreshold:u=6,disableReloadThreshold:p}=i,m=c-r+1,h=n(e,i),g=t?h.get(t):h;h.sessionAttrs;const y=g.get("populatedRange");let v=r,f=c;if(r<y.start?v=Math.max(0,r-m*d):f=r+m*d,v>=y.start&&f<=y.end)return;const I=h.get(a);h.set(a,!0),g.populateRange({start:v,end:f,reloadThreshold:p?null:m*u}).done((()=>{h.set({[a]:!1,[o]:!0,[l]:null})})).fail(((e,t)=>{t.aborting?h.set(a,I):h.set({[a]:!1,[l]:(0,s.Z)(t)})}))}}},73054:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r}),n(67038);var i=n(34885),s=n(57054);function r(e){const{key:t,getModel:n}=e,r=(0,i.Z)(t),a=`is${r}Pending`,o=`is${r}Populated`,l=t?`${t}Error`:"error";return(e,i={})=>{const{count:r}=i,c=n(e,i),d=t?c.get(t):c;c.sessionAttrs;const u=c.get(a);c.set(a,!0),d.repopulateRange(r).done((()=>{c.set({[a]:!1,[o]:!0,[l]:null})})).fail(((e,t)=>{t.aborting?c.set(a,u):c.set({[a]:!1,[l]:(0,s.Z)(t)})}))}}},48293:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(45960),s=n(93966),r=n(47985),a=n(28440);function o(e){const t=(0,s.DB)("appModel"),n=t.get("user"),o=new r.Z(e.map((e=>({machineIdentifier:(0,a.SW)(t,{serverEntityID:e}).get("machineIdentifier")}))),{server:n.server});return(0,i.Z)(o.map((e=>e.fetch()))).then((()=>{const e=o.filter((e=>!e.isPopulated()));return o.remove(e),o}))}},34583:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(19755),s=n.n(i),r=n(93966),a=n(88050),o=n(69881),l=Object.assign;function c(e,t={}){const{allowMetrics:n,metricsProperties:i={}}=t,c=e.server,d=`/library/metadata/${e.get("ratingKey")}/analyze`,u=c.getXHROptions(d,{type:"PUT"}),p=e.get("mediaState"),m="analyzing",h=(0,o.isDirectoryType)(e.get("type"));h||e.set("mediaState",m);const g=s().ajax(u).fail((t=>{h||e.get("mediaState")!==m||e.set("mediaState",p)}));return n&&(0,r.DB)("metrics").trackClick(l(l({},i),{action:a._R,type:e.get("type")})),g.promise()}},33103:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(15634),s=n(45399);function r(e){return{includeExternalMedia:(0,i.Z)(e,s.Ao),includeExternalMetadata:!0,includeStations:!0}}},17798:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(59756),s=n(17524),r=n(36171);const a=function(e){if(!i.Z.shouldRequestHTMLFromCloudProvider)return r.rS;const t=[s.HG,s.w1];return s.wB(e,t)?r.k9:r.rS}},49897:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(19755),s=n.n(i),r=n(47909),a=n(93966),o=n(88050),l=n(62730),c=n(67006),d=Object.assign;function u(e,t,n){const{rating:i,allowMetrics:u,metricsProperties:p={}}=n,m=e.get("features").get(c.aO).get("actions").get(l.zw);if(!m)return s().Deferred().reject().promise();const h={key:t.get("ratingKey"),identifier:t.get("identifier"),rating:i},g=r.Z.join(m.get("key"),h),y=e.getXHROptions(g,{type:"PUT"}),v=t.get("userRating"),f=-1===i?void 0:i;t.set("userRating",f);const I=s().ajax(y).fail((e=>{t.get("userRating")===f&&t.set("userRating",v)}));return u&&(0,a.DB)("metrics").trackClick(d(d({},p),{action:o.zw,type:t.get("type"),rating:i})),I.promise()}},95374:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(19755),s=n.n(i),r=n(93966),a=n(90579),o=n(88050),l=Object.assign;function c(e,t={}){const{allowMetrics:n,metricsProperties:i={}}=t,c=e.server,d=`/library/metadata/${e.get("ratingKey")}/refresh`,u=c.getXHROptions(d,{type:"PUT"}),p=e.get("metadataState"),m=a.em;e.set("metadataState",m);const h=s().ajax(u).fail((t=>{e.get("metadataState")===m&&e.set("metadataState",p)}));return n&&(0,r.DB)("metrics").trackClick(l(l({},i),{action:o.RG,type:e.get("type")})),h.promise()}},56054:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(19755),s=n.n(i),r=(n(67038),n(47909)),a=n(62730),o=n(67006),l=n(4844),c=n(15042),d=n(28440),u=n(69881),p=Object.assign;function m(e,t={}){const{played:n,providerEntityID:i,serverEntityID:l,metadataItemEntityID:c}=t,u=(0,d.js)(e,t);if(null==u){const e="Could not find providerModel with provided `providerEntityID`";return s().Deferred().reject({errorMessage:e}).promise()}if(null==(0,d.SW)(e,t)){const e="Could not find serverModel with provided `serverEntityID`";return s().Deferred().reject({errorMessage:e}).promise()}const p=(0,d.tz)(e,{metadataItemEntityID:c});if(null==p){const e="Could not find metadataModel with provided `metadataItemEntityID`";return s().Deferred().reject({errorMessage:e}).promise()}const m=u.get("features").get(o.aO).get("actions").get(a.lq),y=n?m.get("key"):m.get("reverseKey"),v={identifier:p.get("identifier")||"com.plexapp.plugins.library",key:p.get("ratingKey")},f=r.Z.join(y,v),I=s().ajax(u.getXHROptions(f));return I.then((()=>{const t={providerEntityID:i,serverEntityID:l,metadataItemEntityID:p.entityID()};g(e,t,n),h(e,t,n)})),I}function h(e,t,n){const i=(0,d.tz)(e,t);if(i)if((0,u.isDirectoryType)(i.get("type"))){i.set({viewedLeafCount:n?i.get("leafCount"):0});const s=(0,l.Z)(c.$4,i.get("childrenKey"),t.providerEntityID||t.serverEntityID),r=(0,d.Ij)(e,{metadataListEntityID:s});r&&r.get("metadataItems").forEach((i=>{const s=p(p({},t),{metadataItemEntityID:i.entityID()});h(e,s,n)}))}else i.set({viewOffset:0,viewCount:n?1:0})}function g(e,t,n,i){const s=(0,d.tz)(e,t);if(!s)return;const r=(0,u.getMetadataType)(s.get("type")),a=(0,l.Z)(c.TY,s.get("parentKey"),t.serverEntityID),o=(0,d.tz)(e,{metadataItemEntityID:a});let m;if(o&&(m=(0,u.getMetadataType)(o.get("type"))),m&&m.typeString===r.parent){let r;const l=(0,u.isDirectoryType)(s.get("type"));n?r=l?s.get("unviewedLeafCount"):1:(r=l?s.get("viewedLeafCount"):1,r*=-1);const c=null!=i?i:r;o.set({viewedLeafCount:o.get("viewedLeafCount")+c}),g(e,p(p({},t),{metadataItemEntityID:a}),n,c)}}},66464:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var i=n(19755),s=n.n(i),r=n(67038),a=n(47909),o=n(95933),l=n(95688),c=n(32707),d=n(85586),u=n(61478),p=n(69881),m=n(9949),h=n(89653),g=Object.assign;let y=0;const v=function(e){y+=1;const t=y.toString(),n=g(g({},e.attributes),{playQueueItemID:t}),i=new h.Z(n,{server:e.server,provider:e.provider,parent:e.parent,parse:!0});return i.set("isLocal",!0),i};var f=Object.assign;function I(e,t,n={}){const i=t.get("type"),r=p.getMetadataType(i),o=p.getLeafType(i);if(!r)return s().Deferred().reject().promise();if(r.id===o.id){const r=e.get("playQueueItems"),a=t.get("containerKey");if(a&&!r.length&&!n.skipSiblings&&(i===p.TRACK||i===p.EPISODE||i===p.PHOTO)){const e=new m.Z([],{server:t.server,provider:t.provider});return e.fetch({url:a}).then((()=>{const t=e.models.map(v);return s().Deferred().resolve(t).promise()}))}return s().Deferred().resolve([v(t)]).promise()}if(p.getChildType(i).id===o.id){const e=a.Z.join([t.get("key"),"children"]),n=new m.Z([],{server:t.server,provider:t.provider});return n.fetch({url:e}).then((()=>{const e=n.models.map(v);return s().Deferred().resolve(e).promise()}))}return s().Deferred().reject().promise()}function b(e,t,n){const i=t.map((t=>I(e,t,n)));return s().when(...i).then(((...t)=>{const i=[].concat(...t);return e.get("playQueueItems").add(i,n),M(e)}))}function M(e,t){const n=e.get("playQueueItems");if(e.get("playQueueSelectedItemID")||!n.length)return s().Deferred().resolve(e).promise();if(t){const i=n.findWhere({metadataItem:t}),s=i?i.id:n.at(0).id;e.set("playQueueSelectedItemID",s)}else{const t=e.get("playQueueSelectedItemOffset"),i=n.at(t);e.set("playQueueSelectedItemID",i.id)}return s().Deferred().resolve(e).promise()}var S=n(58641);function E(e,t,n){const{path:i,model:s,attr:o="key"}=n;if((0,r.Z)(i||s,"A path or a model is required to build a source URI"),t.get("isUniversal")){const t=s&&s.get("source")||(0,d.Z)(e.server.get("machineIdentifier"),e.get("identifier")),n=i||s.get(o);return a.Z.join([t,n])}return i||c.Z.uri(s)}function D(e){return{type:e.playQueueModel.get("type"),shuffle:e.shuffle?1:void 0,next:e.next?1:void 0,extrasPrefixCount:e.extrasPrefixCount}}function C(e){const{playQueueModel:t}=e;if(t.get("isLocal"))return function(e){const{next:t,playQueueModel:n,metadataItemModel:i,metadataItemModels:r,metadataListModel:a,skipSiblings:o=!1}=e,l={at:t?n.get("playQueueSelectedItemOffset")+1:void 0};if(i)return I(n,i,{skipSiblings:o}).then((e=>(n.get("playQueueItems").add(e,l),M(n,i))));if(r&&r.length)return b(n,r,l);if(a){const e=a.get("metadataItems").models;return b(n,e,f(f({},l),{skipSiblings:!0}))}return s().Deferred().reject().promise()}(e).then((()=>(0,S.ZP)(t)));const n=t.isNew()?"POST":"PUT";return function(e){return e.metadataItemModel?function(e){const{playQueueModel:t,providerModel:n,playlistModel:i,metadataItemModel:r,containerKey:c,shuffle:d,playAll:m}=e,h=t.get("isUniversal"),g=r.get("type"),y=r.get("subtype"),v=g===p.SHOW,f=g===p.SEASON,I=g===p.EPISODE,b=g===p.PHOTO,M=g===p.CLIP,S=g===p.TRACK,C=!!i||r.get("isPlaylist"),P=r.get("isExtra"),w=!!r.get("radio"),T=D(e);if((v||f||I||y===u.PODCAST)&&(T.continuous=1),(v||f)&&!m&&!d){const e=!r.get("parentKey"),i=v||e?r:new l.Z({key:r.get("parentKey")},{server:r.server,provider:r.providerModel});return i.fetch({merge:!0,data:{includeOnDeck:"1"}}).then((()=>{const e=i.get("onDeck"),s=e&&v,a=e&&f&&e.get("parentRatingKey")===r.get("ratingKey");if(s||a)return T.uri=E(n,t,{model:e}),T;if(f){const e=new o.Z({containerKey:r.get("childrenKey")},{server:r.server,provider:r.provider,skipCache:!0});return e.fetch().then((()=>{const i=e.get("metadataItems"),s=i.findWhere((e=>!e.get("viewCount")));return T.uri=E(n,t,{model:s||i.first()}),T}))}return T.uri=E(n,t,{model:r}),T}))}return C?i?(h&&(T.uri=E(n,t,{model:i})),T.playlistID=i.get("ratingKey"),T.key=r.get("key")):(h&&(T.uri=E(n,t,{model:r})),T.playlistID=r.get("ratingKey")):(S||b||M&&!P)&&c&&!T.continuous?(T.uri=E(n,t,{path:h?c:`library:///directory/${encodeURIComponent(c)}`}),T.key=r.get("key")):T.uri=E(n,t,w&&h?{path:a.Z.join(r.get("key"),{includeSharedContent:1})}:{model:r}),s().Deferred().resolve(T).promise()}(e):e.metadataItemKey?function(e){const{providerModel:t,playQueueModel:n,metadataItemKey:i}=e,r=n.get("isUniversal"),a=D(e);return a.uri=E(t,n,{path:r?i:`library:///item/${encodeURIComponent(i)}`}),s().Deferred().resolve(a).promise()}(e):e.metadataItemModels&&e.metadataItemModels.length?function(e){const t=D(e);return t.uri=c.Z.uri(null,{items:e.metadataItemModels}),s().Deferred().resolve(t).promise()}(e):e.metadataListModel?function(e){const{providerModel:t,playQueueModel:n,metadataListModel:i}=e,r=D(e);return r.uri=E(t,n,{model:i,attr:"containerKey"}),s().Deferred().resolve(r).promise()}(e):s().Deferred().reject().promise()}(e).then((e=>(0,S.ZP)(t,{params:e,type:n}).then(null,(()=>s().Deferred().reject().promise()))))}},238:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p}),n(67038);var i=n(19755),s=n.n(i),r=n(53334),a=n(14408),o=n(39879);const l=r.Z.extend({name:"LocalPlayQueueModel",context:["server","provider"],url(){const e=this.get("playQueueItems"),t=this.get("playQueueSelectedItemID"),n=e.get(t);if(n)return n.get("metadataItem").get("key")},sessionAttrs:{key:a.Z.string,playQueueID:a.Z.string,isLocal:a.Z.boolean,type:a.Z.string,repeat:a.Z.boolean,own:a.Z.boolean,isUpdatePending:a.Z.boolean,playQueueShuffled:a.Z.boolean,playQueueSelectedItemID:a.Z.string},sessionRelations:{playQueueItems:{relationClass:o.Z}},derivedAttrs:{playQueueTotalCount(){return this.get("playQueueItems").length},length(){return this.get("playQueueItems").length},playQueueSelectedItemOffset(){const e=this.get("playQueueItems"),t=this.get("playQueueSelectedItemID");if(!t)return 0;const n=e.get(t);return e.indexOf(n)},currentIndex(){return this.get("playQueueSelectedItemOffset")},canShuffle:()=>!1},defaults:{isLocal:!0,repeat:!1,own:!0,isUpdatePending:!1,playQueueShuffled:!1,playQueueSelectedItemOffset:0},fetch:function(){return s().Deferred().resolve(this).promise()}});var c=n(72149),d=(n(44491),n(67006)),u=n(94803);function p(e){const{providerModel:t,playQueueID:n,playQueueType:i,playQueueRepeat:s,playQueueOwn:r=!0}=e,a=t&&t.get("features"),o=a&&a.get(d.F5),p=!!o&&o.get("flavor")===u.D7;return o?new c.Z({playQueueID:n,key:o.get("key"),type:i,repeat:s,own:r,isUniversal:p},{server:t.server,provider:t}):new l({playQueueID:n,type:i},{server:t.server,provider:t})}},47327:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(19755),s=n.n(i),r=n(69434),a=n(93966),o=n(78636),l=n(69881),c=n(95688),d=n(86953),u=n(60316);function p(e,t={}){let n=t.forceFetch||!e.get("isPreFetched")?function(e,t){const{itemProvider:n}=t,i={includeConcerts:1,includeExtras:1,includeOnDeck:1,includePopularLeaves:1,includePreferences:1,includeChapters:1,includeStations:1,includeExternalMedia:1,asyncAugmentMetadata:1};e.get("type")===l.TRACK&&(i.includeRelated=1),!t.forceSyncCheckFiles&&e.server.supports("asyncCheckFiles")?(i.asyncCheckFiles=1,i.asyncRefreshAnalysis=1,i.asyncRefreshLocalMediaAgent=1):i.checkFiles=1;const s=n||e.provider,r=(0,o.Z)(s.server),a=s.resolveUrl(e.url(),{appendHeaders:!0}),c=s.getXHROptions(a,{dataType:r.typeName,data:i,merge:!0});return e.fetch(c).done((()=>{e.set("isPreFetched",!0)}))}(e,t):s().Deferred().resolve().promise();return n=n.then((()=>{const t=e.get("Media");if(e.get("indirect")&&(!t||!t.length)){const t=function(e,t){const n=function(e){return e.get("Origin")||{key:e.get("key"),source:(0,d.Z)({serverIdentifier:e.server.get("machineIdentifier"),providerIdentifier:e.provider.get("identifier")})}}(t),i=s().Deferred(),{source:r,key:a}=n,{providerIdentifier:l,serverIdentifier:p}=(0,u.Z)(r),m=e.get("servers").get(p),h=m&&m.get("isCloud")?e.get("user"):m,g=h&&h.get("providers").get(l);let y;if(m?m.get("isConnected")?g?g.get("isPopulated")||(y="Provider is not populated"):y="Unknown provider":y="Server is not connected":y="Unknown server",y)i.reject(new Error(y));else{const e=new c.Z({key:a},{server:m,provider:g,channel:t.channel,includeExternalMedia:t.includeExternalMedia,skipCache:!0}),n=(0,o.Z)(g.server),l=g.resolveUrl(e.url(),{appendHeaders:!0}),d=g.getXHROptions(l,{dataType:n.typeName,data:{resolveIndirect:1}});e.fetch(d).then((t=>{const n=e.get("Media"),a=n?n.map((e=>s().extend(!0,{source:r},e))):[];i.resolve(a)}),(()=>{i.reject(new Error("Unable to fetch Origin metadata"))}))}return i.promise()}((0,a.DB)("appModel"),e).then((t=>{e.set({Media:t})}));return t.then(null,(e=>{r.Z.error("[Metadata] %s",e.message)})),t}})),n}},90697:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(30983);function s(e){const t=e.get("playQueue");if(!t)return;const n=t.get("currentIndex");return(0,i.bG)(e,n)}},21256:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(91135),s=n(61478),r=n(69881),a=Object.assign;function o({metadataItemModel:e,listType:t}){const n=e.get("playlistType");if(n)return n;const a=e.get("subtype");if(a===s.PODCAST)return i.j0;const o=e.get("type");return o===r.COLLECTION?l(null,a):l(t,o)}function l(e,t){let n;return e&&(n=r.getLeafType(e)),n||(n=r.getLeafType(t)),n&&n.mediaType}function c(e){const{type:t,metadataType:n,metadataItemModel:c,metadataItemModels:d,metadataListModel:u}=e;return t||(n?l(n):c?o(e):d&&d.length?o(a(a({},e),{metadataItemModel:d[0]})):u?function({metadataListModel:e,listType:t}){return e.get("firstItemSubtype")===s.PODCAST?i.j0:e.get("firstItemType")===r.COLLECTION?l(t,e.get("firstItemSubtype")):l(t,e.get("firstItemType"))}(e):void 0)}},34699:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ie});var i={};n.r(i),n.d(i,{changeAutoPlay:()=>C,changePlaybackSpeed:()=>P,changeQualityIndex:()=>I,changeStream:()=>b,changeSubtitleColor:()=>M,changeSubtitleOffset:()=>D,changeSubtitlePosition:()=>S,changeSubtitleSize:()=>E,changeVolume:()=>f,endPlayback:()=>u,mirrorDetails:()=>N,pause:()=>y,play:()=>g,playItem:()=>h,playNextItem:()=>p,playPreviousItem:()=>m,refreshRemotePlayQueue:()=>T,refreshRemoteStreams:()=>Z,seek:()=>v,setRepeat:()=>w,startPlayback:()=>d});var s={};n.r(s),n.d(s,{changeAutoPlay:()=>q,changePlaybackSpeed:()=>$,changeQualityIndex:()=>_,changeStream:()=>Q,changeSubtitleColor:()=>G,changeSubtitleOffset:()=>K,changeSubtitlePosition:()=>Y,changeSubtitleSize:()=>W,changeVolume:()=>H,endPlayback:()=>k,mirrorDetails:()=>te,pause:()=>B,play:()=>V,playItem:()=>U,playNextItem:()=>R,playPreviousItem:()=>z,refreshRemotePlayQueue:()=>X,refreshRemoteStreams:()=>ee,seek:()=>F,setRepeat:()=>J,startPlayback:()=>j});var r=n(95680),a=n(93966),o=n(18547),l=n(67470),c=n(33232);function d(e){r.startPlayback(e);const t=(0,a.DB)("remoteCastPlayerManager");e.get("playQueue").set("own",!1),t.startPlayback(e),e.set({startMetadataItemEntityID:null,startOffsetMilliseconds:null,startMediaIndex:null})}function u(e){r.endPlayback(e),(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.N7})}function p(e){(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.zb})}function m(e){(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.Fz})}function h(e,t){r.playItem(e,t);const n=(0,a.DB)("remoteCastPlayerManager"),i=e.get("playQueue"),s=i.get("playQueueItems"),l=i.get("playQueueSelectedItemID"),c=s.get(l).get("metadataItem");n.sendMessage({type:o.cb,playQueueItemID:l,key:c.get("key")})}function g(e){r.play(e),(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.NH})}function y(e){r.pause(e),(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.E7})}function v(e,t){r.seek(e,t),(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.tG,currentTime:t})}function f(e,t,n){(0,a.DB)("remoteCastPlayerManager").setVolume(t)}function I(e,t){r.changeQualityIndex(e,t);const n=c.Z.getQualityByIndex(t);(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.EJ,bitrate:n.bitrate})}function b(e,t,n){(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.f4,stream:{type:t,id:n}})}function M(e,t,n){r.changeSubtitleColor(e,t,n),(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.om,subtitleColor:t})}function S(e,t,n){r.changeSubtitlePosition(e,t,n),(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.WP,subtitlePosition:t})}function E(e,t,n){r.changeSubtitleSize(e,t,n),(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.I2,subtitleSize:t})}function D(e,t,n){(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.rx,subtitleOffset:t})}function C(e,t,n){r.changeAutoPlay(e,t,n),(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.hl,autoPlay:t})}function P(e,t){}function w(e,t){e.set({repeatAll:t.repeatAll,repeatOne:t.repeatOne}),(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.zG,repeat:(0,l.Z)(t)})}function T(e){(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.bp})}function Z(e){(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.fK})}function N(e){(0,a.DB)("remoteCastPlayerManager").mirrorDetails(e)}var A=n(70871),x=n(43149),L=n(73004);function O(e){const t=e.get("playQueue");return(0,A.ED)(t.get("type"))}function j(e){r.startPlayback(e);const t=(0,a.DB)("remotePlexPlayerManager");e.get("playQueue").set("own",!1),t.startPlayback(e)}function k(e){const t=(0,a.DB)("remotePlexPlayerManager"),n={};e.get("playQueue")&&(n.type=O(e)),r.endPlayback(e),t.sendCommand("/player/playback/stop",n)}function R(e){const t=(0,a.DB)("remotePlexPlayerManager"),n=O(e);t.sendCommand("/player/playback/skipNext",{type:n})}function z(e){const t=(0,a.DB)("remotePlexPlayerManager"),n=O(e);t.sendCommand("/player/playback/skipPrevious",{type:n})}function U(e,t){r.playItem(e,t);const n=(0,a.DB)("remotePlexPlayerManager"),i=O(e),s=e.get("playQueue"),o=s.get("playQueueItems"),l=s.get("playQueueSelectedItemID"),c=o.get(l).get("metadataItem");n.sendCommand("/player/playback/skipTo",{type:i,key:c.get("key")})}function V(e){r.play(e);const t=(0,a.DB)("remotePlexPlayerManager"),n=O(e);t.sendCommand("/player/playback/play",{type:n})}function B(e){r.pause(e);const t=(0,a.DB)("remotePlexPlayerManager"),n=O(e);t.sendCommand("/player/playback/pause",{type:n})}function F(e,t){r.seek(e,t);const n=(0,a.DB)("remotePlexPlayerManager"),i=O(e);n.seek({type:i,offset:1e3*t})}function H(e,t,n){const i=(0,a.DB)("remotePlexPlayerManager"),s=O(e);i.changeVolume({type:s,volume:t})}function _(e,t){}function Q(e,t,n){const i=(0,a.DB)("remotePlexPlayerManager"),s=O(e),r=L.Z.get(t).key;i.sendCommand("/player/playback/setStreams",{type:s,[r]:n})}function G(e,t,n){const i=(0,a.DB)("remotePlexPlayerManager"),s=O(e);i.sendCommand("/player/playback/setParameters",{type:s,subtitleColor:t}),r.changeSubtitleColor(e,t,n)}function Y(e,t,n){const i=(0,a.DB)("remotePlexPlayerManager"),s=O(e);i.sendCommand("/player/playback/setParameters",{type:s,subtitlePosition:t}),r.changeSubtitlePosition(e,t,n)}function W(e,t,n){const i=(0,a.DB)("remotePlexPlayerManager"),s=O(e);i.sendCommand("/player/playback/setParameters",{type:s,subtitleSize:t}),r.changeSubtitleSize(e,t,n)}function K(e,t,n){const i=(0,a.DB)("remotePlexPlayerManager"),s=O(e);i.sendCommand("/player/playback/setParameters",{type:s,subtitleOffset:t})}function q(e,t,n){const i=(0,a.DB)("remotePlexPlayerManager"),s=O(e);i.sendCommand("/player/playback/setParameters",{type:s,autoPlay:t?1:0}),r.changeAutoPlay(e,t,n)}function $(e,t){}function J(e,t){r.setRepeat(e,t);const n=(0,a.DB)("remotePlexPlayerManager"),i=O(e),s=e.get("repeatAll"),o=e.get("repeatOne");let l=x.Hn;s&&(l=o?x.ry:x.QN),n.sendCommand("/player/playback/setParameters",{type:i,repeat:l})}function X(e){const t=(0,a.DB)("remotePlexPlayerManager"),n=O(e),i=e.get("playQueue").get("playQueueID");t.sendCommand("/player/playback/refreshPlayQueue",{type:n,playQueueID:i})}function ee(e){const t=(0,a.DB)("remotePlexPlayerManager"),n=O(e);t.sendCommand("/player/playback/refreshStreams",{type:n})}function te(e){(0,a.DB)("remotePlexPlayerManager").mirrorDetails(e)}var ne=n(41890);function ie(e){const t=e.get("remotePlayer");return t?t.get("protocol")===ne.l?i:s:r}},86526:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(21256),s=n(67006),r=n(94803),a=n(69881),o=n(15634),l=n(45399),c=n(28440),d=Object.assign;function u(e,t){const n=t.options?d({},t.options):{},u=c.js(e,t),p=c.SW(e,t),m=t.itemProviderEntityID&&c.lp(e,{providerEntityID:t.itemProviderEntityID})||u,h=t.itemServerEntityID&&c.$w(e,{serverEntityID:t.itemServerEntityID})||p,g=function({providerModel:e,serverModel:t,itemServerModel:n,itemProviderModel:i,options:o={}}){const{containerKey:l,listType:c}=o;if(e.get("identifier")===i.get("identifier")&&t.get("machineIdentifier")===n.get("machineIdentifier"))return!0;if(c===a.TRACK&&l)return!1;const d=e.get("features").get(s.F5),u=!!d&&d.get("flavor")===r.D7&&!t.get("isCloud"),p=n.get("isShared");return!u||p}({providerModel:u,serverModel:p,itemServerModel:h,itemProviderModel:m,options:t.options});return n.serverModel=g?h:p,n.providerModel=g?m:u,(0,o.Z)(e,l.Ao)&&(n.includeExternalMedia=1),t.metadataItemEntityID&&(n.metadataItemModel=c.$R(e,t)),t.playlistMetadataItemEntityID&&(n.playlistModel=c.$R(e,{metadataItemEntityID:t.playlistMetadataItemEntityID})),t.metadataItemEntityIDs&&(n.metadataItemModels=t.metadataItemEntityIDs.map((t=>c.$R(e,{metadataItemEntityID:t})))),t.metadataListEntityID&&(n.metadataListModel=c.lK(e,t)),t.listType&&(n.type=(0,i.Z)({metadataType:t.listType})),n}},44398:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(47909),s=n(69434),r=n(94803),a=n(32707),o=n(60316),l=n(85586);var c=n(21256),d=n(67006),u=n(69881);function p(e){const{providerModel:t,itemProviderModel:n,metadataItemModel:p,metadataListModel:m,multiSelectModel:h,playQueueModel:g,smart:y,readOnly:v,recent:f}=e,I=h&&h.get("activeSelectionItems").pluck("model"),b=g?g.get("type"):(0,c.Z)({metadataItemModel:p,metadataListModel:m,metadataItemModels:I}),M=t&&t.get("features"),S=M&&M.get(d.zg),E=S&&S.get("key"),D={type:(0,u.getMetadataType)(u.PLAYLIST).id,playlistType:b,smart:y?1:0,readOnly:v?1:0};f&&(D.sort="updatedAt:desc");const C={playlistType:b,containerKey:E&&i.Z.join(E,D)};return g||(C.uri=function(e){const{providerFeatureType:t,providerModel:n,itemProviderModel:c,metadataItemModel:d,metadataListModel:u,metadataItemModels:p}=e,m=n.get("features"),h=m&&m.get(t);if(h&&h.get("flavor")===r.D7){const e=(null==d?void 0:d.get("source"))?(0,o.Z)(d.get("source")).providerIdentifier:void 0,t=e&&e!==c.get("identifier")?d.get("source"):(0,l.Z)(c.server.get("machineIdentifier"),c.get("identifier")),n=d&&d.get("key")||u&&u.get("containerKey")||function(e){if(!e)return;const[t]=e;return e.some((e=>e.get("source")!==t.get("source")))?void s.Z.warn("[Playlists] universal playlists can not contain items from multiple sources"):"/library/metadata/"+e.map((e=>e.get("ratingKey"))).join(",")}(p);return i.Z.join([t,n])}return a.Z.uri(d||u||p,{items:p})}({providerFeatureType:d.zg,providerModel:t,itemProviderModel:n,metadataItemModel:p,metadataListModel:m,metadataItemModels:I})),C}},88551:(e,t,n)=>{"use strict";function i(e,t){return null==e.get("startMetadataItemEntityID")&&null!=e.get("startOffsetMilliseconds")||e.get("startMetadataItemEntityID")===t.entityID()?e.get("startOffsetMilliseconds"):t.get("viewOffset")||0}n.d(t,{Z:()=>i})},18305:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(17626);function s(e){return e.get("isOpen")?e.get("hasError")?i.pn:e.get("isPaused")?i.rf:e.get("isBuffering")?i.l9:i.Z$:i.il}},66747:(e,t,n)=>{"use strict";n.d(t,{c2:()=>y,PD:()=>v,Qt:()=>f,j7:()=>I,dY:()=>b,rt:()=>M,$h:()=>S,O7:()=>E});var i=n(59756),s=n(34699),r=n(70468),a=n(79490),o=n(30983),l=n(27082);function c(e){const t=e.get("captureBuffer");return t&&t.startedAt}function d(e){return e.get("currentPosition")}function u(e){const t=e.get("liveTVSession");return e.get("liveTVSession")?d(t):0}function p(e){const t=e.get("liveTVSession"),n=t.get("captureBuffer");if(n){const{startedAt:e,seekStartSeconds:t,seekEndSeconds:i}=n;return{seekStartSeconds:e+t,seekEndSeconds:e+i}}const i=t.get("startedAt");return{seekStartSeconds:i+e.get("seekStartSeconds"),seekEndSeconds:i+e.get("seekEndSeconds")}}function m(e){const t=d(e);if(!t)return;const n=e.get("timeline");for(let e=0;e<n.length;e++){const i=[...n.at(e).get("Media")].sort(((e,t)=>e.endsAt-t.endsAt));for(let e=0;e<i.length;e++){const n=i[e],{beginsAt:s,endsAt:r}=n;if(s<=t&&r>t)return n}}}function h(e,t){const n=u(e),i=p(e).seekEndSeconds;return n?Math.min(i,n+t):void 0}function g(e,t){const n=u(e),i=p(e).seekStartSeconds;return n?Math.max(i,n-t):void 0}function y(e){return g(e,a.jV)}function v(e){return h(e,a.Jj)}function f(e){return g(e,a.qB)}function I(e){return h(e,a._V)}function b(e){const t=e.get("liveTVSession");if(!e.get("liveTVSession"))return;const n=p(e).seekEndSeconds,i=m(t);return i?Math.min(n,i.endsAt):void 0}function M(e){const t=e.get("liveTVSession");if(!e.get("liveTVSession"))return;const n=p(e).seekStartSeconds,i=d(t),s=m(t);if(!s)return;if(i-s.beginsAt>a.Nf)return Math.max(n,s.beginsAt);const r=function(e){const t=d(e);if(!t)return;const n=e.get("timeline");for(let e=n.length-1;e>=0;e--){const i=[...n.at(e).get("Media")].sort(((e,t)=>e.endsAt-t.endsAt));for(let e=i.length-1;e>=0;e--){const n=i[e];if(n.endsAt<=t)return n}}}(t);return r?Math.max(n,r.beginsAt):void 0}function S(e,t){1===arguments.length&&(t=e.get("currentPosition"));const n=c(e)||e.get("startedAt");return t-n}function E(e,t,n,a){if(null==n)return;const c=(0,s.Z)(e),d=(0,o.F_)(e,t),u=d.get("liveTVSession"),p=u.get("startedAt");(0,l.c9)((()=>{if(u.set({currentPosition:n,lastSeekPosition:n}),function(e,t){const n=e.get("currentDecision");if(!n||n.isDirectPlay)return!1;const s=e.get("liveTVSession"),r=s.get("startedAt");if(!s.get("captureBuffer"))return!1;if(i.Z.shouldCreateNewSessionWhenSeekingLiveTV)return!0;const a=r+e.get("seekStartSeconds"),o=r+e.get("seekEndSeconds");return!(t>=a&&t<=o)}(d,n))u.set({startedAt:n}),a((0,r.Mf)({playerType:t,decisionOptions:{offset:1e3*S(u)}}));else{const e=Math.max(n-p,0);c.seek(d,e)}}))}},95680:(e,t,n)=>{"use strict";n.r(t),n.d(t,{startPlayback:()=>m,endPlayback:()=>h,playNextItem:()=>g,playPreviousItem:()=>y,playItem:()=>v,play:()=>f,pause:()=>I,seek:()=>b,changeVolume:()=>M,changeQualityIndex:()=>S,changeStream:()=>E,changeSubtitleColor:()=>D,changeSubtitlePosition:()=>C,changeSubtitleSize:()=>P,changeSubtitleOffset:()=>w,changeAutoPlay:()=>T,changePlaybackSpeed:()=>Z,setRepeat:()=>N,refreshRemotePlayQueue:()=>A,refreshRemoteStreams:()=>x,mirrorDetails:()=>L});var i=n(5513),s=n(4134),r=n(44491),a=n(58698),o=n(30983),l=n(88551);let c=null;function d(e,t,n={}){const i=e.get("playQueue"),s=i.get("currentIndex"),c=i.get("playQueueSelectedItemOffset"),{isApplicationInitiated:d=!1,isRestoringPlayQueue:u=!1}=n,p=(0,o.bG)(e,t);if(!p)return;const m=p.get("metadataItem"),h={isMediaLoading:!0,isBuffering:!1,isLyricsVisible:!1,positionSeconds:Math.floor((0,l.Z)(e,m)/1e3),durationSeconds:Math.floor((m.get("duration")||0)/1e3),lastSeekPositionSeconds:null,metricsAutoPlay:d,hasError:!1,errorMessage:null,errorCode:null,errorCategory:null,qualityIndex:null,adState:null,adPositionSeconds:null,adDurationSeconds:null,adDisplayIndex:null,adDisplayTotal:null,adTimeOffsetSeconds:null,bufferedRanges:[],canPlayThrough:!1,mediaWidth:null,mediaHeight:null,confirmPlayerUpsellPayload:null};u||e.get("isWatchTogether")||i.get("type")===r.pV||(h.isPaused=!1),e.set(h),i.set({playQueueSelectedItemID:p.id,playQueueSelectedItemOffset:c+(t-s)}),(0,a.Z)()}function u(e,t){const n=e.get("playQueue"),i=n.get("length"),s=n.get("currentIndex")+t;return n.get("repeat")?(s+i)%i:Math.min(Math.max(0,s),i-1)}function p(e,t){c&&(c=window.clearTimeout(c)),e.set({lastSeekPositionSeconds:t,nextPositionSeconds:null})}function m(e,t,n){const i=e.get("playQueue");d(e,i.get("currentIndex"),{isRestoringPlayQueue:t,isApplicationInitiated:n})}function h(e){e.restoreDefaults({metricsContextTuple:e.get("metricsContextTuple")})}function g(e,t){d(e,u(e,1),{isApplicationInitiated:t})}function y(e){d(e,u(e,-1))}function v(e,t){d(e,t)}function f(e,t=!1){e.set({isPaused:!1}),(0,a.Z)()}function I(e,t=!1){e.set({isPaused:!0}),(0,a.Z)()}function b(e,t,n){n?function(e,t,n){e.set({nextPositionSeconds:t}),c&&window.clearTimeout(c),c=window.setTimeout((()=>{e.get("isOpen")&&(p(e,t),c=null)}),n)}(e,t,n):p(e,t),(0,a.Z)()}function M(e,t,n){n((0,i.T5)({volume:t}))}function S(e,t){e.set("qualityIndex",t)}function E(e,t,n){}function D(e,t,n){n((0,s.fB)({subtitleColor:t}))}function C(e,t,n){n((0,s.Dv)({subtitlePosition:t}))}function P(e,t,n){n((0,s.dB)({subtitleSize:t}))}function w(e,t,n){}function T(e,t,n){n((0,s.R4)({autoPlay:t}))}function Z(e,t){e.set("playbackSpeed",t)}function N(e,t){const n=e.get("playQueue");e.set({repeatAll:t.repeatAll,repeatOne:t.repeatOne}),n.set("repeat",t.repeatAll)}function A(e){}function x(e){}function L(e){}},58641:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>c});var i=n(19755),s=n.n(i),r=n(13469),a=n.n(r),o=n(47909),l=Object.assign;function c(e,t={}){return e.get("isLocal")?function(e){return s().Deferred().resolve(e).promise()}(e):function(e,t={}){const{urlPath:n="",params:i={},type:r="GET"}=t,c=o.Z.join([a().result(e,"url"),n]),d=o.Z.join(c,l(l({},i),{repeat:e.get("repeat")?1:0,own:e.get("own")?1:0,includeChapters:1,includeMarkers:1,includeGeolocation:1,includeExternalMedia:1})),u=e.provider.getXHROptions(d,{type:r}),p=e.get("playQueueSelectedItemID");return e.set("isUpdatePending",!0),s().ajax(u).promise().then((t=>{e.get("own")&&"shuffle"!==n&&"unshuffle"!==n&&p&&(p!==e.get("playQueueSelectedItemID")||p!==e.parseResponse(t).playQueueSelectedItemID)||e.set(e.parse(t));const i=e.get("playQueueItems"),r=e.get("currentIndex");return r>=0&&r<i.length?s().Deferred().resolve(e).promise():s().Deferred().reject("ERROR_PLAY_QUEUE_INDEX_INVALID").promise()}),(()=>s().Deferred().reject("ERROR_PLAY_QUEUE_COULD_NOT_POPULATE").promise())).always((()=>{e.set("isUpdatePending",!1)}))}(e,t)}},65209:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(19755),s=n.n(i),r=n(47909),a=n(67006);function o(e){const{providerModel:t,type:n,title:i,smart:o=0,playlistID:l,playQueueID:c,uri:d,includeExternalMedia:u}=e,p={uri:d,playQueueID:c};u&&(p.includeExternalMedia=1),l||(p.title=i,p.smart=o?1:0,p.type=n);const m=t.get("features"),h=m&&m.get(a.zg),g=h&&h.get("key"),y=r.Z.join([g,l&&`${l}/items`],p),v=l?"PUT":"POST",f=t.getXHROptions(y,{type:v});return s().ajax(f)}},7251:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(59223),s=Object.assign;function r(e,t,n){const r=e.get("previousOpenState");let a=e.get("openState");return r&&!t?a=r:r&&t&&(a=void 0),s({previousOpenState:a,openState:r&&t?r:i.K},n)}},93573:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(90697),s=n(17524);function r(e){const t=(0,i.Z)(e).get("metadataItem");return s.wB(t.provider.get("identifier"),s.vP)}},94207:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(69434);function s(e,t){const n=e.get("playQueue");return(...s)=>{if(e.get("isOpen")&&n&&n===e.get("playQueue"))return t(...s);i.Z.warn("[Player] Player was closed or a new playback session was started; ignoring callback")}}},53291:(e,t,n)=>{"use strict";function i({actionCreator:e,dispatch:t,hubs:n,serverModel:i}){n.server&&n.server!==i||n.forEach((s=>{const r=s.get("metadataList");if(s.server===i&&!s.get("random")&&r&&r.get("containerKey")){const i=e({metadataListEntityID:r.entityID(),count:n.count});t(i)}}))}n.d(t,{Z:()=>i})},7536:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(19755),s=n.n(i),r=n(13469),a=n.n(r),o=n(47909);function l(e,t){const n=e.server,i=a().result(e,"url"),r=n.getXHROptions(o.Z.join([i,"move"],{after:t}),{type:"PUT"});return s().ajax(r).promise()}},66050:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const i={"home.continue":[/^(movie|tv)\.inprogress\.([0-9]+)/],"home.movies.recent":[/^movie\.recentlyadded\.([0-9]+)/],"home.music.recent":[/^music\.recent\.added\.([0-9]+)/],"home.photos.recent":[/^photo\.recent\.([0-9]+)/],"home.ondeck":[/^tv\.ondeck\.([0-9]+)/],"home.television.recent":[/^tv\.recentlyadded\.([0-9]+)/],"home.videos.recent":[/^video\.recent\.([0-9]+)/]};function s(e,t){return t.some((t=>t.test(e)))}function r(e){for(const t in i)if(s(e,i[t]))return t;return e}},75300:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(19755),s=n.n(i),r=n(45960);function a(e,t){const n=e.get("serverShares");return n?(0,r.Z)(n.map((e=>e.fetch({merge:!0,scope:t})))):s().Deferred().resolve().promise()}},98124:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(93063);function s(e){return(0,i.Z)(e.get("user").get("features").getState())}},15634:(e,t,n)=>{"use strict";function i(e,t){return!!e.get("user").get("features").findWhere({uuid:t})}n.d(t,{Z:()=>i})},32091:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(19755),s=n.n(i);function r(e){const{user:t,friend:n,serverShare:i,librarySectionIDs:r,isNewFriend:a,isCreatingManagedUser:o,isNewServerShare:l}=e,c={machineIdentifier:i.get("machineIdentifier"),librarySectionIds:r};a&&(c.settings=n.getSaveParams()),l&&(a&&!o?c.invitedEmail=n.get("username"):c.invitedId=n.id);const d=i.url(),u=t.server.getXHROptions(d,{type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(c)});return s().ajax(u).promise()}},11203:(e,t,n)=>{"use strict";n.d(t,{wS:()=>k,Vf:()=>R,Y3:()=>x,se:()=>A,$T:()=>Z,Ft:()=>z,vG:()=>O,IK:()=>L,Fl:()=>j,Ls:()=>N,Zo:()=>G,tI:()=>Y,ky:()=>W,W6:()=>F,dk:()=>B,Bs:()=>U,Fj:()=>_,C_:()=>H,ZA:()=>Q,Ds:()=>V});var i=n(19755),s=n.n(i),r=n(73034),a=n(47909),o=n(93966),l=(n(67038),n(4920)),c=n(88050),d=n(73004),u=n(33295),p=Object.assign;function m(e,t){const{mediaIndex:n,streamTypeString:i,streamID:r,allParts:m,allowMetrics:h,metricsProperties:g={},updateLocalOnly:y=!1}=t,v=d.Z.get(i),f=e.provider,I=e.get("Media");let b,M;for(let e=0,t=I.length;e<t;e++){if(n>=0&&n!==e)continue;const t=I[e],i=t.Part;for(let e=0,n=i.length;e<n;e++){const n=i[e],s=n.Stream;for(let e=0,i=s.length;e<i;e++){const i=s[e];if(i.streamType===v.id&&i.id===r){b=t,M=n;break}}if(M)break}if(M)break}if(!M)return s().Deferred().reject().promise();const S={[v.key]:r};m&&(S.allParts=1);const E=function(e,t,n,i,s){const r=p({},n);r.Stream=n.Stream.map((e=>e.streamType!==i.id?e:e.id!==s||e.selected?e.id!==s&&e.selected?p(p({},e),{selected:!1}):e:p(p({},e),{selected:!0})));const a=p(p({},t),{Part:(0,l.Z)(t.Part,n,r)});return(0,l.Z)(e,t,a)}(I,b,M,v,r);if(e.set({Media:E,isStreamChangeInProgress:!y}),y)return s().Deferred().resolve().promise();const D=M.key.match(new RegExp(`^(.*/parts/${M.id})/`)),C=a.Z.join(D?D[1]:["/library/parts",M.id],S),P=f.getXHROptions(C,{type:"PUT",scope:`selectMetadataItemStream--${M.id}`});u.Z.abortAll(P.scope);const w=s().ajax(P).done((()=>{e.set("isStreamChangeInProgress",!1),e.fetch({usePopulatedParams:!0})})).fail((t=>{if(t.aborting)return;const n={isStreamChangeInProgress:!1};e.get("Media")===E&&(n.Media=I),e.set(n)}));return h&&(0,o.DB)("metrics").trackClick(p(p({},g),{action:c.xs,type:e.get("type"),context:i})),w.promise()}var h=n(32901),g=n(47486),y=n(69605),v=n(62730),f=n(67006),I=n(17524),b=n(25474),M=n(4844),S=n(15042),E=n(28440),D=n(27082),C=n(5562),P=n(69881),w=n(32003),T=Object.assign;const Z="metadata/selectMetadataItemStream",N="metadata/updateMetadataItemFollowMute",A="metadata/repopulateMetadataItem",x="metadata/removeMetadataItem",L="metadata/toggleMetadataItemSave",O="metadata/toggleMetadataItemPlexPick",j="metadata/toggleMetadataItemWatchlist",k="metadata/addMetadataItemToLibrary",R="metadata/deleteMetadataItemStream",z="metadata/setMetadataItemStreamOffset",U=(0,r.Z)(Z),V=(0,r.Z)(N),B=(0,r.Z)(A),F=(0,r.Z)(x),H=(0,r.Z)(L),_=(0,r.Z)(O),Q=(0,r.Z)(j),G=(0,r.Z)(k),Y=(0,r.Z)(R),W=((0,r.Z)(z),{[A](e,t){const n=(0,E.tz)(e,t);n&&n.fetch({data:{skipRefresh:1},usePopulatedParams:!0})},[x](e,t){const n=(0,E.tz)(e,t);n&&n.trigger("destroy",n,n.collection)},[Z](e,t,n){const{mediaIndex:i,streamTypeString:s,streamID:r,allParts:a,metricsPage:o,updateLocalOnly:l}=t;m((0,E.$R)(e,t),{mediaIndex:i,streamTypeString:s,streamID:r,allParts:a,allowMetrics:!!o,metricsProperties:{page:o},updateLocalOnly:l}).fail((e=>{e&&e.aborting||n((0,h.wp)((0,C.Z)("There was a problem selecting this stream.")))}))},[N](e,t){const{ratingKey:n,actionID:i,tagElement:r,value:d}=t,u=(0,E.js)(e,t),p=(0,E.$R)(e,t);let m;const h=p.get(r),g=h.find((e=>e.ratingKey===n)),y=T({},g);i===v.mL&&(y.followed=d,y.muted=d&&g.muted?!g.muted:g.muted,m=c.mL),i===v.Q2&&(y.muted=d,y.followed=d&&g.followed?!g.followed:g.followed,m=c.Q2);const I=(0,l.Z)(h,g,y),b=u.get("features").get(f.aO).get("actions").get(i),M=d?b.get("key"):b.get("reverseKey"),S=a.Z.join(M,{ratingKey:n});p.set(r,I);const D=u.getXHROptions(S,{type:"PUT"});s().ajax(D).then(null,(()=>{p.set(r,h)})),function(e,t,n,i={}){n&&(0,o.DB)("metrics").trackClick(T({page:n,action:e,type:t.get("type")},i))}(m,p,t.metricsPage,{identifier:u.get("metricsIdentifier"),context:g.tag,value:d})},[L](e,t,n){const i=(0,E.$R)(e,t),r=(0,E.js)(e,{providerEntityID:i.get("providerEntityID")}),o=r.get("identifier"),l=I.wB(o,I.xF);let c=i.get("ratingKey");const d=i.get("grandparentRatingKey");let u;if(d&&!l){c=d;const n=i.get("grandparentKey");if(n){const i=(0,M.Z)(S.TY,n,t.serverEntityID);u=(0,E.tz)(e,{metadataItemEntityID:i})}}const p=i.get("saved"),m=!p;i.set("saved",m),u&&u.set("saved",m);const g=r.get("features").get(f.aO).get("actions").get("save"),y=m?g.get("key"):g.get("reverseKey"),v=a.Z.join(y,{ratingKey:c}),b=r.getXHROptions(v,{type:"PUT"});s().ajax(b).then((()=>{n((0,h.jR)({serverEntityID:t.serverEntityID}))}),(()=>{i.set("saved",p),u&&u.set("saved",p)}))},[O](e,t,n){const i=(0,E.$R)(e,t),r=(0,E.js)(e,{providerEntityID:i.get("providerEntityID")}),o=i.get("ratingKey"),l=i.get("picked"),c=!l;i.set("picked",c);const d=r.get("features").get(f.aO).get("actions").get("pick"),u=c?d.get("key"):d.get("reverseKey"),p=a.Z.join(u,{ratingKey:o}),m=r.getXHROptions(p,{type:"PUT"});s().ajax(m).then((()=>{n(B({metadataItemEntityID:t.metadataItemEntityID}))}),(e=>{const t=(0,b.Z)(e.responseText);n((0,h.wp)(t.message)),i.set("picked",l)}))},[j](e,t,n){const i=(0,E.$R)(e,t),r=(0,E.js)(e,{providerEntityID:i.get("providerEntityID")}),o=i.get("ratingKey"),l=i.get("watchlistedAt"),c=l?void 0:Date.now();i.set("watchlistedAt",c);const d=r.get("features").get(f.aO).get("actions").get("addToWatchlist"),u=c?d.get("key"):d.get("reverseKey"),p=a.Z.join(u,{ratingKey:o}),m=r.getXHROptions(p,{type:"PUT"});s().ajax(m).then((()=>{t.metricsPage===y.Hx&&t.metricsProperties.context.includes(g.LIBRARY)?n((0,h.jR)({serverEntityID:t.serverEntityID})):n(B({metadataItemEntityID:t.metadataItemEntityID}))}),(e=>{const t=(0,b.Z)(e.responseText);n((0,h.wp)(t.message)),i.set("watchlistedAt",l)}))},[k](e,t,n){const i=(0,E.$R)(e,t),r=(0,E.SW)(e,t),o=(0,E.js)(e,{providerEntityID:i.get("providerEntityID")}),l=t.sectionKey.match(/\/library\/sections\/(\w+)/)[1],c={providers:`provider://${o.get("identifier")}`,prefs:{oneShot:1,remoteMedia:1},params:{libraryType:w.ZP.get(w.xF).typeID},targetLibrarySectionID:l,hints:{guid:i.get("guid"),ratingKey:i.get("ratingKey"),title:i.get("title"),parentTitle:i.get("parentTitle")},type:(0,P.getMetadataType)(i.get("type")).id},d=r.getXHROptions(a.Z.join("/media/subscriptions",c),{type:"POST"});s().ajax(d)},[R](e,t,n){const{streamKey:i,metadataItemEntityID:r}=t,a=(0,E.$R)(e,t);(0,D.c9)((()=>{a.set("isStreamDeleteInProgress",!0)}));const o=a.server.getXHROptions(i,{type:"DELETE"});s().ajax(o).then((()=>{a.set("isStreamDeleteInProgress",!1),n(B({metadataItemEntityID:r}))}),(e=>{a.set("isStreamDeleteInProgress",!1),n((0,h.wp)((0,C.Z)("There was a problem deleting this stream.")))}))},[z](e,t,n){const{mediaIndex:i,streamTypeString:s,streamID:r,allParts:a,metricsPage:o,updateLocalOnly:l}=t;m((0,E.$R)(e,t),{mediaIndex:i,streamTypeString:s,streamID:r,allParts:a,allowMetrics:!!o,metricsProperties:{page:o},updateLocalOnly:l}).fail((e=>{e&&e.aborting||n((0,h.wp)((0,C.Z)("There was a problem selecting this stream.")))}))}})},53145:(e,t,n)=>{"use strict";n.d(t,{Vr:()=>u,$Q:()=>p,R:()=>m,ay:()=>h,h9:()=>g,WV:()=>y,Cs:()=>v,mK:()=>f,Wq:()=>I,rW:()=>b,db:()=>M,RD:()=>S,l2:()=>E,kM:()=>D,$M:()=>C,Vk:()=>P,J3:()=>w,zg:()=>T,TV:()=>Z,UU:()=>N,uq:()=>A,ET:()=>x,n7:()=>L,f4:()=>O,LW:()=>j,lm:()=>k,tU:()=>R,Iy:()=>z});var i=n(13469),s=n.n(i),r=n(73034),a=n(29705),o=n(26564),l=n(27940),c=n(28440),d=n(27082);const u="server/testServer",p="server/testServers",m="server/confirmRelayConnection",h="server/addHttpFallbackConnection",g="server/startActivity",y="server/updateActivity",v="server/finishActivity",f="server/startSyntheticActivity",I="server/finishSyntheticActivity",b="server/eventConnectionOpen",M="server/eventConnectionClose",S="server/fetchProviders",E="server/populateProviders",D="server/fetchLibraries",C="server/populateLibraries",P=(0,r.Z)(u),w=((0,r.Z)(p),(0,r.Z)(m)),T=(0,r.Z)(h),Z=(0,r.Z)(g),N=(0,r.Z)(y),A=(0,r.Z)(v),x=(0,r.Z)(f),L=(0,r.Z)(I),O=(0,r.Z)(b),j=(0,r.Z)(M),k=(0,r.Z)(S),R=((0,r.Z)(E),(0,r.Z)(D)),z=((0,r.Z)(C),{[m](e,t){},[h](e,t){},[g](e,t,n){const i=(0,c.Y7)(e,t);if(!i)return;const s=t.activity;i.get("activities").add([s],{parse:!0}),s.synthetic||n(L({serverEntityID:t.serverEntityID,activityType:s.type}))},[y](e,t){const n=(0,c.Y7)(e,t);n&&n.get("activities").add([t.activity],{parse:!0,merge:!0})},[v](e,t){const n=(0,c.Y7)(e,t);n&&n.get("activities").remove(t.activity.uuid)},[f](e,t,n){(0,d.c9)((()=>{const e={type:t.activityType,synthetic:!0,uuid:`${t.activityType}-${Date.now()}`};t.title&&(e.title=t.title),t.Context&&(e.Context=t.Context),n(Z({serverEntityID:t.serverEntityID,activity:e}))}))},[I](e,t){const n=(0,c.Y7)(e,t);if(!n)return;const i=n.get("activities"),{activityType:r,Context:a,title:o}=t,l=i.findWhere((e=>e.get("type")===r&&!0===e.get("synthetic")&&(!o||e.get("title")===o)&&(!a||s().isEqual(e.get("Context"),a))));l&&i.remove(l)},[b](e,t){const n=(0,c.SW)(e,t),i=(0,c.Y7)(e,t);if(!n||!i)return;const s=i.get("activities");n.set("hasEventConnection",!0),s.fetch()},[M](e,t){const n=(0,c.SW)(e,t);n&&n.set("hasEventConnection",!1)},[S]:(0,o.Z)({key:"providers",getModel:c.SW}),[E]:(0,l.Z)({key:"providers",fetchActionCreator:k,getModel:c.SW}),[D]:(0,o.Z)({key:"libraries",getModel:c.Y7}),[C]:(0,l.Z)({key:"libraries",fetchActionCreator:R,getModel:c.Y7}),[u](e,t){const n=(0,c.SW)(e,t);a.Z.trigger("test:server",n)},[p](){a.Z.trigger("test:servers")}})},44693:(e,t,n)=>{"use strict";n.d(t,{u0:()=>h,rg:()=>g,uM:()=>y,b4:()=>f});var i=n(73034),s=n(95933),r=n(3265),a=n(44398),o=n(65209),l=n(15634),c=n(45399),d=n(28440);const u="ui/initAddToPlaylistMenu",p="ui/clearAddToPlaylistMenu",m="ui/addToExistingPlaylist",h=(0,i.Z)(u),g=(0,i.Z)(p),y=(0,i.Z)(m);function v(e){return e.get("ui").get("addToPlaylistMenu")}const f=(0,r.Z)({[u](e,t){const n=v(e),i=(0,d.tz)(e,t),r=(0,d.Ij)(e,t),o=e.get("ui").get("multiSelect"),l=(0,d.SW)(e,t),c=(0,d.js)(e,t),u=i?(0,d.js)(e,{providerEntityID:i.get("providerEntityID")}):c,{containerKey:p,uri:m}=(0,a.Z)({providerModel:c,itemProviderModel:u,metadataItemModel:i,metadataListModel:r,multiSelectModel:o,recent:!0}),h=new s.Z({containerKey:p},{server:l,provider:c});n.set({recentPlaylists:h,uri:m})},[p](e){v(e).restoreDefaults()},[m](e,t){const n=v(e),i=(0,d.js)(e,t),s=n.get("uri"),{playlistID:r}=t,a={playlistID:r,providerModel:i,uri:s};(0,l.Z)(e,c.Ao)&&(a.includeExternalMedia=!0),(0,o.Z)(a)}})},92857:(e,t,n)=>{"use strict";n.d(t,{x3:()=>M,h5:()=>S,it:()=>E,cg:()=>D,BJ:()=>C,zr:()=>T});var i=n(73034),s=n(95933),r=n(3265),a=n(44398),o=n(65209),l=n(15634),c=n(45399),d=n(32707),u=n(28440),p=n(30983),m=n(27082),h=n(57054),g=Object.assign;const y="ui/modal/initAddToPlaylistModal",v="ui/modal/clearAddToPlaylistModal",f="ui/modal/selectDestination",I="ui/modal/createPlaylist",b="ui/modal/addToPlaylist",M=(0,i.Z)(y),S=(0,i.Z)(v),E=(0,i.Z)(f),D=(0,i.Z)(I),C=(0,i.Z)(b);function P(e){return e.get("ui").get("addToPlaylistModal")}function w(e,t){(0,m.c9)((()=>{e.set({isUpdating:!0,error:null})})),(0,o.Z)(t).then((()=>{e.set({isUpdating:!1})}),(t=>{e.set({isUpdating:!1,error:(0,h.Z)(t)})}))}const T=(0,r.Z)({[y](e,t,n){const i=P(e);let s,r,a,o,l="";if(t.metadataItemEntityID)s=(0,u.$R)(e,t),l=d.Z.title(s);else if(t.metadataListEntityID)r=(0,u.lK)(e,t),l=d.Z.title(r);else if(t.playQueueID)o=(0,p.RZ)(e,t.playQueueID);else{a=e.get("ui").get("multiSelect");const t=a.get("activeSelectionItems").pluck("model");l=d.Z.title(t,{items:t})}i.set({title:l,smart:t.smart,metadataItem:s,metadataList:r,multiSelect:a,playQueue:o}),n(E(t))},[v](e){P(e).restoreDefaults()},[f](e,t){const n=P(e),i=(0,u.SW)(e,t),r=(0,u.js)(e,t),o=n.get("metadataItem"),l=n.get("metadataList"),c=n.get("multiSelect"),d=n.get("playQueue"),p=n.get("smart"),m=o?(0,u.js)(e,{providerEntityID:o.get("providerEntityID")}):r,{containerKey:h,playlistType:g,uri:y}=(0,a.Z)({providerModel:r,itemProviderModel:m,metadataItemModel:o,metadataListModel:l,multiSelectModel:c,playQueueModel:d}),v=new s.Z({containerKey:h},{server:i,provider:r});n.set({server:i,provider:r,type:g,smart:p,containerKey:h,uri:y,playlists:v})},[I](e,t){const n=P(e),i=n.get("provider"),s=n.get("playQueue"),{formData:r}=t;let a=n.pick("type","title","uri","smart");a=g(g({},a),r),a.providerModel=i,s&&(a.playQueueID=s.get("playQueueID")),(0,l.Z)(e,c.Ao)&&(a.includeExternalMedia=!0),w(n,a)},[b](e,{playlistID:t}){const n=P(e),i=n.get("provider"),s=n.get("playQueue"),r={playlistID:t,providerModel:i,uri:n.get("uri")};s&&(r.playQueueID=s.get("playQueueID")),(0,l.Z)(e,c.Ao)&&(r.includeExternalMedia=!0),w(n,r)}})},84656:(e,t,n)=>{"use strict";n.d(t,{K5:()=>L,K7:()=>N,NJ:()=>k,XK:()=>j,np:()=>Z,yd:()=>z,kB:()=>O,eU:()=>x});var i=n(19755),s=n.n(i),r=n(13469),a=n.n(r),o=n(73034),l=n(47909),c=n(14794),d=n(66390),u=n(3265),p=n(26564),m=n(28440),h=n(7536),g=n(20023),y=n(5562);function v(e,t){let n;return n=401===e.status?(0,y.Z)("You do not have permission to perform this action."):(0,g.Z)(e,t),n}var f=n(27082),I=n(69881);const b="ui/modal/initMediaSubscriptionModal",M="ui/modal/clearMediaSubscriptionModal",S="ui/modal/fetchMediaSubscription",E="ui/modal/saveMediaSubscription",D="ui/modal/changeMediaSubscriptionTemplateMode",C="ui/modal/clearMediaSubscriptionModalError",P="ui/modal/moveMediaSubscriptionModal",w="ui/modal/deleteMediaSubscriptionModal",T="ui/modal/deleteMediaGrabOperationsModal",Z=(0,o.Z)(b),N=(0,o.Z)(M),A=(0,o.Z)(S),x=(0,o.Z)(E),L=(0,o.Z)(D),O=((0,o.Z)(C),(0,o.Z)(P)),j=(0,o.Z)(w),k=(0,o.Z)(T);function R(e){return e.get("ui").get("mediaSubscriptionModal")}const z=(0,u.Z)({[b](e,t,n){const i=R(e);i.set("isMediaSubscriptionPending",!0);const r={};if(t.showConflicts&&(r.options={data:{includeGrabs:1}}),t.mediaSubscriptionEntityID)return i.set({mediaSubscription:(0,m.xS)(e,t)}),void n(A(r));const a=(0,m.SW)(e,t),o=(0,m.$R)(e,t),u=o.get("grandparentSubscriptionID")||o.get("subscriptionID");if(u)return i.set({mediaSubscription:new c.Z({key:u},{server:a})}),void n(A(r));const p=l.Z.join("/media/subscriptions/template",{guid:o.get("guid")}),h=a.getXHROptions(p);s().ajax(h).then((e=>{const t={parse:!0,server:a},n=new d.Z(e,t),s=n.findWhere({selected:!0});i.set({isMediaSubscriptionPending:!1,isMediaSubscriptionPopulated:!0,mediaSubscriptionError:null,templates:n,mediaSubscription:s})}),(e=>{const t=v(e,(0,y.Z)("There was an unexpected error"));i.set({isMediaSubscriptionPending:!1,mediaSubscriptionError:t})}))},[M](e){R(e).restoreDefaults()},[S]:(0,p.Z)({key:"mediaSubscription",getModel:R}),[E](e,t){const n=R(e),i=(0,m.SW)(e,t),r=n.get("mediaSubscription"),{targetLibrarySectionID:o,targetSectionLocationID:c=null,prefs:d}=t;(0,f.c9)((()=>{n.set({isMediaSubscriptionSaving:!0,mediaSubscriptionSaveError:null})}));const u=r.get("key"),p=r.getSaveParams(),h=s().extend(!0,{},p,{includeGrabs:1,targetLibrarySectionID:o,targetSectionLocationID:c,prefs:d});let g=l.Z.join(a().result(r,"url"),h);if(!u){const e=(0,I.getMetadataType)(r.get("hint").get("type"));g=g+"&"+r.get("parameters")+"&type="+e.id}const b=i.getXHROptions(g,{type:u?"PUT":"POST"});s().ajax(b).then((i=>{if(r.set(r.parse(i)),n.set({isMediaSubscriptionSaving:!1}),t.metadataItemEntityID){const n=(0,m.$R)(e,t);if(n){const e=r.get("hint").get("type"),t=(0,I.isParentType)(e),i=t?"grandparentSubscriptionID":"subscriptionID",s=t?"grandparentSubscriptionType":"subscriptionType";n.set({[i]:r.id,[s]:e})}}}),(e=>{const t=v(e,(0,y.Z)("There was a problem saving your changes. Please try again."));n.set({isMediaSubscriptionSaving:!1,mediaSubscriptionSaveError:t})}))},[D](e,t){const n=R(e),i=n.get("templates"),{modeIndex:s}=t;n.set("mediaSubscription",i.at(s))},[C](e,t){R(e).set({mediaSubscriptionSaveError:null,mediaSubscriptionError:null,mediaSubscriptionMoveError:null,mediaSubscriptionDeleteError:null})},[P](e,t){const n=R(e),i=n.get("mediaSubscription");(0,f.c9)((()=>{n.set({isMediaSubscriptionMoving:!0,mediaSubscriptionMoveError:null})})),(0,h.Z)(i).then((()=>{n.set({isMediaSubscriptionMoving:!1})}),(e=>{const t=v(e,(0,y.Z)("There was a problem saving your changes. Please try again."));n.set({isMediaSubscriptionMoving:!1,mediaSubscriptionMoveError:t})}))},[w](e,t,n){const i=R(e),s=i.get("mediaSubscription"),{metadataItemEntityID:r}=t;(0,f.c9)((()=>{i.set({isMediaSubscriptionDeleting:!0,mediaSubscriptionDeleteError:null})})),function(e,{appModel:t,metadataItemEntityID:n}={}){const i=e.get("key");let s=e.destroy({wait:!0});return n&&(s=s.then((()=>{if(n){const e=(0,m.$R)(t,{metadataItemEntityID:n});e.get("subscriptionID")===i?(e.unset("subscriptionID"),e.unset("subscriptionType")):e.get("grandparentSubscriptionID")===i&&(e.unset("grandparentSubscriptionID"),e.unset("grandparentSubscriptionType"))}}))),s}(s,{appModel:e,metadataItemEntityID:r}).then((()=>{i.set({isMediaSubscriptionDeleting:!1})}),(e=>{const t=v(e,(0,y.Z)("There was a problem with canceling this subscription. Please try again."));i.set({isMediaSubscriptionDeleting:!1,mediaSubscriptionDeleteError:t})}))},[T](e,t){const n=R(e),i=n.get("mediaSubscription");var r;(0,f.c9)((()=>{n.set({isMediaSubscriptionDeleting:!0,mediaSubscriptionDeleteError:null})})),(r=i.get("grabOperations"),s().when(...r.map((e=>e.destroy({wait:!0})))).then((()=>{}))).then((()=>{n.set({isMediaSubscriptionDeleting:!1})}),(e=>{const t=v(e,(0,y.Z)("There was a problem with modifying this subscription. Please try again."));n.set({isMediaSubscriptionDeleting:!1,mediaSubscriptionDeleteError:t})}))}})},34007:(e,t,n)=>{"use strict";n.d(t,{Zh:()=>q,pg:()=>se,T:()=>ie,lO:()=>K,oW:()=>W,Wm:()=>ce,o1:()=>J,oA:()=>X,O7:()=>ne,QJ:()=>ee,wW:()=>te,lS:()=>Y,H5:()=>re,NO:()=>$});var i=n(19755),s=n.n(i),r=n(73034),a=n(93966),o=n(36740),l=n(21256),c=n(86526),d=n(66747),u=n(7251),p=n(14e3),m=n(20023),h=n(5562);function g(e,t,n,i){const r=e.server.get("isCloud"),a=r?`/channels/${n}/tune`:`/livetv/dvrs/${t}/channels/${n}/tune`,o={method:"POST",headers:{"X-Plex-Session-Identifier":i.playbackSessionID},timeout:p.EH};return s().ajax(r?e.provider.getXHROptions(a,o):e.server.getXHROptions(a,o)).then(((i,a,o)=>{e.set(e.parse(i));const l=e.get("grabOperation");if(!l){const e=(0,m.Z)(o,(0,h.Z)("Could not tune channel"));return s().Deferred().reject({errorMessage:e}).promise()}const c=l.get("metadataItem"),d=c.get("Media")[l.get("mediaIndex")],u=l.get("conflicts"),p=o.getResponseHeader("X-Plex-Activity"),g=l.get("beginsAt"),y=c.get("transcodeSession"),v={dvrID:t,channelIdentifier:n,activityUUID:p,currentPosition:g,startedAt:g};let f=!1;if(y){const t=y.get("timeStamp"),n=y.get("minOffsetAvailable"),i=y.get("maxOffsetAvailable");if(t&&null!=n&&null!=i){v.captureBuffer={startedAt:t,seekStartSeconds:n,seekEndSeconds:i};const s=t+n,r=e.get("timeline").toJSON().reduce(((e,t)=>e||t.Media.find((e=>e.onAir))),null).beginsAt,a=Math.max(s,r);Date.now()/1e3-a>60&&(f=!0)}}if(e.set(v),r)return s().Deferred().resolve(e).promise();if(u&&u.length)return s().Deferred().reject({hasConflicts:!0,liveTVSession:e}).promise();if(!p)return s().Deferred().reject({errorMessage:(0,h.Z)("Could not tune channel (No activity)")}).promise();const I=d&&d.Part;return I&&I.length?(c.set("isPreFetched",!0),f?s().Deferred().reject({confirmPlayback:f,liveTVSession:e}).promise():s().Deferred().resolve(e).promise()):s().Deferred().reject({errorMessage:(0,h.Z)("Could not tune channel (No parts)")}).promise()}),((e,t)=>"abort"===t?s().Deferred().reject({errorMessage:(0,h.Z)("Could not tune channel (Timed out)")}).promise():s().Deferred().reject({errorMessage:(0,h.Z)("Could not tune channel")}).promise()))}var y=n(98124),v=n(53145),f=n(12304),I=n(96335),b=n(59223),M=n(52837),S=n(1997),E=n(66729),D=n(36535),C=n(9010),P=n(28440),w=n(30983),T=n(27082),Z=n(57054),N=n(79932),A=Object.assign;const x="ui/player/liveTVPlayer/startLiveTVPlayback",L="ui/player/liveTVPlayer/endLiveTVPlayback",O="ui/player/liveTVPlayer/confirmLiveTVPlayback",j="ui/player/liveTVPlayer/cancelConfirmLiveTVPlayback",k="ui/player/liveTVPlayer/updatePlayerLiveTVMetadata",R="ui/player/liveTVPlayer/playNextItem",z="ui/player/liveTVPlayer/playPreviousItem",U="ui/player/liveTVPlayer/skipBack",V="ui/player/liveTVPlayer/skipForward",B="ui/player/liveTVPlayer/stepBack",F="ui/player/liveTVPlayer/stepForward",H="ui/player/liveTVPlayer/seek",_="ui/player/liveTVPlayer/clearPlayerConflicts",Q="ui/player/liveTVPlayer/cancelMediaGrabber",G="ui/player/liveTVPlayer/togglePlayerAlsoAiringState",Y=(0,r.Z)(x),W=(0,r.Z)(L),K=(0,r.Z)(O),q=(0,r.Z)(j),$=(0,r.Z)(k),J=(0,r.Z)(R),X=(0,r.Z)(z),ee=(0,r.Z)(U),te=(0,r.Z)(V),ne=((0,r.Z)(B),(0,r.Z)(F),(0,r.Z)(H)),ie=(0,r.Z)(_),se=(0,r.Z)(Q),re=(0,r.Z)(G);function ae(e,t){const n=Math.floor(Date.now()/1e3);return e.get("Media").find((e=>{const i=e.beginsAt<=n&&n<=e.endsAt,s=!t||e.channelIdentifier===t;return i&&s}))}function oe(e){const t=ae(e);return t?t.channelIdentifier:void 0}function le(e,t){const n=(0,w.F_)(e,t).get("liveTVSession");n&&n.set("lastSeekPosition",n.get("currentPosition"))}const ce={[x](e,t,n){const{serverEntityID:i,providerEntityID:s}=t,r=Date.now(),d=(0,c.Z)(e,t),u=(0,l.Z)(d),p=M.f_(u),m=(0,w.F_)(e,p),v=P.SW(e,t),f=P.js(e,{providerEntityID:s}),Z=f.get("parentID"),x=d.metadataItemModel,L=(0,D.Z)(f.get("identifier"),f.get("providerIdentifier"));let O=null;if(x?O=ae(x,d.identifier):d.identifier&&(O={channelIdentifier:d.identifier,beginsAt:Math.floor(Date.now()/1e3)}),!O)return void(0,T.c9)((()=>{m.restoreDefaults({hasError:!0,errorMessage:(0,h.Z)("Unable to tune channel (Not on air)")})}));const j=e.get("remotePlayer");if(j&&!(0,C.Z)({protocol:j.get("protocol"),protocolCapabilities:j.get("protocolCapabilities"),providerIdentifier:L,userFeaturesByUUID:(0,y.Z)(e)}))return void(0,T.c9)((()=>{m.set({hasError:!0,errorMessage:(0,h.Z)("Live TV is not currently supported when connected to a remote player.")})}));(0,T.c9)((()=>{m.restoreDefaults({serverEntityID:i,providerEntityID:s,isOpen:!0,openState:b.K,isPlayQueueLoading:!0,isMediaLoading:!0,playbackStartTime:r})}));const k=new o.Z({},{server:v,provider:f}),R=O.channelIdentifier;g(k,Z,R,{playbackSessionID:m.get("playbackSessionID")}).done((()=>{m.set("liveTVSession",k);const e=k.get("grabOperation").get("metadataItem");n((0,N.wA)(A(A({},t),{liveTVSessionEntityID:k.entityID(),metadataItemEntityID:e.entityID(),playbackStartTime:r,options:{offset:void 0}})))})).fail((e=>{const{confirmPlayback:t,hasConflicts:n,errorMessage:r}=e;if(t)m.restoreDefaults({serverEntityID:i,providerEntityID:s,liveTVSession:k,confirmLiveTVPlayback:t});else if(n)m.restoreDefaults({serverEntityID:i,providerEntityID:s,liveTVSession:k,hasConflicts:n});else{const e=v.getState();(0,a.DB)("metrics").trackEvent({event:I.NY,interaction:!0,properties:{serverType:(0,E.Z)(e),connectionType:(0,S.Z)(e.activeConnection),error:"tuneFailed",identifier:R}}),m.restoreDefaults({hasError:!0,errorMessage:r})}}))},[L](e,t,n){const{playerType:i,showError:s}=t,r=(0,w.F_)(e,i);s?r.restoreDefaults({hasError:!0,errorMessage:(0,h.Z)("This live TV session has ended due to a recording conflict")}):n((0,N.Mh)({playerType:i}))},[O](e,t,n){const{playerType:i,serverEntityID:s,providerEntityID:r,offset:a}=t,o=(0,w.F_)(e,i).get("liveTVSession"),l=o.get("captureBuffer"),c=o.get("grabOperation").get("metadataItem");if(null!=a){const e=l.startedAt+Math.floor(a/1e3);o.set({currentPosition:e,lastSeekPosition:e})}n((0,N.wA)({serverEntityID:s,providerEntityID:r,liveTVSessionEntityID:o.entityID(),metadataItemEntityID:c.entityID(),startOffsetMilliseconds:a}))},[j](e,{playerType:t}){const n=(0,w.F_)(e,t);(0,T.c9)((()=>{n.restoreDefaults()}))},[k](e,t){const{serverEntityID:n,playerType:i}=t,s=(0,w.F_)(e,i),r=s.get("liveTVSession");if(!r||s.get("serverEntityID")!==n)return;const a=r.get("dvrID"),o=r.get("channelIdentifier");g(r,a,o,{playbackSessionID:s.get("playbackSessionID")})},[R](e,{playerType:t},n){const i=(0,w.F_)(e,t),s=d.dY(i);d.O7(e,t,s,n)},[z](e,{playerType:t},n){const i=(0,w.F_)(e,t),s=d.rt(i);d.O7(e,t,s,n)},[U](e,{playerType:t},n){const i=(0,w.F_)(e,t),s=d.c2(i);d.O7(e,t,s,n)},[V](e,{playerType:t},n){const i=(0,w.F_)(e,t),s=d.PD(i);d.O7(e,t,s,n)},[B](e,{playerType:t},n){const i=(0,w.F_)(e,t),s=d.Qt(i);d.O7(e,t,s,n)},[F](e,{playerType:t},n){const i=(0,w.F_)(e,t),s=d.j7(i);d.O7(e,t,s,n)},[H](e,t,n){const{playerType:i,seekPosition:s}=t;d.O7(e,i,s,n)},[_](e,{playerType:t}){const n=(0,w.F_)(e,t);(0,T.c9)((()=>{n.set({hasConflicts:!1})}))},[Q](e,t,n){const{playerType:i,grabOperationKey:r}=t,a=(0,w.F_)(e,i),o=a.get("serverEntityID"),l=P.SW(e,{serverEntityID:o}),c=a.get("liveTVSession").get("grabOperation").get("metadataItem"),d=!a.get("isOpen");if(d&&!oe(c))return void a.restoreDefaults({hasError:!0,errorMessage:(0,h.Z)("Unable to cancel conflict, please try again.")});(0,T.c9)((()=>{a.set({isConflictCancelling:!0})}));const u=l.getXHROptions(r,{type:"DELETE"});s().ajax(u).done((e=>{if(a.set({hasConflicts:!1,isConflictCancelling:!1,cancelConflictError:null}),d){const e=a.get("providerEntityID");if(!oe(c))return void a.restoreDefaults({hasError:!0,errorMessage:(0,h.Z)("Unable to tune channel after canceling a conflict, please try again.")});n(Y({serverEntityID:o,providerEntityID:e,metadataItemEntityID:c.entityID(),playerType:i}))}})).fail((e=>{a.set({isConflictCancelling:!1,cancelConflictError:(0,Z.Z)(e)})}))},[v.WV](e,t){const{serverEntityID:n,activity:i}=t,s=(0,w.F_)(e,M.Se),r=s.get("liveTVSession");if(r&&s.get("serverEntityID")===n&&r.get("activityUUID")===i.uuid&&i.Context){const e=!!i.Context.conflicts,t=s.get("hasConflicts");if(e&&!t){const e=r.get("dvrID"),t=r.get("channelIdentifier");g(r,e,t,{playbackSessionID:s.get("playbackSessionID")}).fail((({hasConflicts:e})=>{e&&s.set({hasConflicts:!0})}))}else!e&&t&&s.set({hasConflicts:!1})}},[v.Cs](e,t,n){const{serverEntityID:i,activity:s}=t,r=(0,w.F_)(e,M.Se),a=r.get("liveTVSession");if(a&&r.get("serverEntityID")===i&&a.get("activityUUID")===s.uuid){let e=(0,h.Z)("This live TV session has ended");s.Response&&s.Response.errorText?e=s.Response.errorText:r.get("hasConflicts")&&(e=(0,h.Z)("This live TV session has ended due to a recording conflict")),r.restoreDefaults({hasError:!0,errorMessage:e})}},[G](e,{playerType:t}){const n=(0,w.F_)(e,t),i=n.get("isAlsoAiringVisible");(0,T.c9)((()=>{n.set((0,u.Z)(n,i,{isSettingsVisible:!1,isChaptersVisible:!1,isAlsoAiringVisible:!i,isLyricsVisible:!1}))}))},[f.VR](e,{playerType:t}){le(e,t)},[f.RB](e,{playerType:t}){le(e,t)},[f.BB](e,{playerType:t,positionSeconds:n}){const i=(0,w.F_)(e,t),s=i.get("liveTVSession");if(!s)return;const r=i.get("serverEntityID");if(P.SW(e,{serverEntityID:r}).get("isCloud"))(0,T.c9)((()=>{const e=i.get("playbackStartTime"),t=i.get("sessionPlaybackTime");s.set({currentPosition:Math.floor((e+t)/1e3)})}));else{const e=s.get("startedAt"),t=s.get("lastSeekPosition"),i=e+n;i>t&&(0,T.c9)((()=>{s.set({currentPosition:i,lastSeekPosition:null})}))}}}},35421:(e,t,n)=>{"use strict";n.d(t,{jB:()=>v,Qi:()=>f,_7:()=>I,Q2:()=>b,U8:()=>M,$D:()=>S,zG:()=>E,Xq:()=>D,hl:()=>C,x8:()=>P,QS:()=>w,A0:()=>T,Er:()=>Z,x7:()=>N,xJ:()=>A,dU:()=>x,q$:()=>L,Ux:()=>O,Zp:()=>j,o1:()=>k,oA:()=>R,gP:()=>z,$Y:()=>U,Yj:()=>V,ul:()=>B,ZD:()=>F,Sp:()=>H,HI:()=>_,D5:()=>Q,Ie:()=>G,KA:()=>Y,FX:()=>W,yg:()=>K,Ai:()=>q,NN:()=>$,n5:()=>J,dP:()=>X,Yb:()=>ee});var i=n(73034),s=n(69434),r=n(47909),a=n(34699),o=n(58641),l=n(7251),c=n(93573),d=n(94207),u=n(79490),p=n(17524),m=n(28440),h=n(30983),g=n(27082),y=n(79932);const v="ui/player/playQueue/playNextItem",f="ui/player/playQueue/playPreviousItem",I="ui/player/playQueue/playItemByIndex",b="ui/player/playQueue/playItemByKey",M="ui/player/playQueue/playItemByID",S="ui/player/playQueue/toggleShuffle",E="ui/player/playQueue/setRepeat",D="ui/player/playQueue/toggleRepeat",C="ui/player/playQueue/setAutoPlay",P="ui/player/playQueue/showPostPlay",w="ui/player/playQueue/togglePlayerPlayQueueState",T="ui/player/playQueue/togglePlayerLyricsState",Z="ui/player/playQueue/fetchPlayQueueItemLyrics",N="ui/player/playQueue/movePlayQueueItem",A="ui/player/playQueue/removePlayQueueItem",x="ui/player/playQueue/fetchPlayQueue",L="ui/player/playQueue/savePlayQueueState",O="ui/player/playQueue/removePlayQueueState",j="ui/player/playQueue/restorePlayQueue",k=(0,i.Z)(v),R=(0,i.Z)(f),z=(0,i.Z)(I),U=(0,i.Z)(b),V=((0,i.Z)(M),(0,i.Z)(S)),B=(0,i.Z)(E),F=(0,i.Z)(D),H=(0,i.Z)(C),_=(0,i.Z)(P),Q=(0,i.Z)(w),G=(0,i.Z)(T),Y=(0,i.Z)(Z),W=(0,i.Z)(N),K=(0,i.Z)(A),q=(0,i.Z)(x),$=(0,i.Z)(L),J=(0,i.Z)(O),X=(0,i.Z)(j),ee={[v](e,{playerType:t,isApplicationInitiated:n}){const i=(0,h.F_)(e,t),s=(0,a.Z)(e);(0,c.Z)(i)||(0,g.c9)((()=>{i.get("isPostPlayVisible")&&i.set({isPostPlayVisible:!1}),s.playNextItem(i,n)}))},[f](e,{playerType:t}){const n=(0,h.F_)(e,t),i=(0,a.Z)(e);(0,c.Z)(n)||(0,g.c9)((()=>{n.set({isPostPlayVisible:!1}),n.get("positionSeconds")>u.Nf?(i.seek(n,0),i.play(n)):i.playPreviousItem(n)}))},[I](e,{playerType:t,index:n}){const i=(0,h.F_)(e,t),s=(0,a.Z)(e);(0,g.c9)((()=>{s.playItem(i,n)}))},[b](e,{playerType:t,key:n},i){const r=(0,h.F_)(e,t).get("playQueue").get("playQueueItems"),a=r.find((e=>n===e.get("metadataItem").get("key")));if(a){const e=r.indexOf(a);i(z({playerType:t,index:e}))}else s.Z.warn(`[Player] Unable to play unknown key "${n}"`)},[M](e,{playerType:t,playQueueItemID:n},i){const r=(0,h.F_)(e,t).get("playQueue").get("playQueueItems"),a=r.get(n);if(a){const e=r.indexOf(a);i(z({playerType:t,index:e}))}else s.Z.warn(`[Player] Unable to play unknown PlayQueueItemID "${n}"`)},[S](e,t,n){const{playerType:i}=t,s=(0,h.F_)(e,i),r=s.get("playQueue");(0,g.c9)((()=>{const t=!r.get("playQueueShuffled");r.set("playQueueShuffled",t);const l=t?"shuffle":"unshuffle";(0,o.ZP)(r,{urlPath:l,type:"PUT"}).done((0,d.Z)(s,(()=>{const t=(0,a.Z)(e);n($({playerType:i})),t.refreshRemotePlayQueue(s)}))).fail((0,d.Z)(s,(()=>{r.set("playQueueShuffled",!t)})))}))},[E](e,{playerType:t,repeatAll:n,repeatOne:i},s){const r=(0,h.F_)(e,t),l=r.get("playQueue"),c=(0,a.Z)(e);(0,g.c9)((()=>{c.setRepeat(r,{repeatAll:n||i,repeatOne:i}),(0,o.ZP)(l).done((0,d.Z)(r,(()=>{s($({playerType:t}))}))).fail((0,d.Z)(r,(()=>{l.set({repeatAll:!1,repeatOne:!1}),l.set("repeat",!1)})))}))},[D](e,{playerType:t},n){const i=(0,h.F_)(e,t),s=i.get("repeatAll"),r=i.get("repeatOne");n(B({playerType:t,repeatAll:!s||!r,repeatOne:s&&!r}))},[C](e,{playerType:t,autoPlay:n},i){const s=(0,h.F_)(e,t);(0,a.Z)(e).changeAutoPlay(s,n,i)},[P](e,{playerType:t},n){const i=(0,h.F_)(e,t),s=(0,a.Z)(e),r=i.get("playQueue"),o=(0,h.bG)(i,r.get("currentIndex")).get("postPlay"),l=r.provider.id,c=()=>{i.set({isSettingsVisible:!1,isChaptersVisible:!1,isPostPlayLoading:!1,isPostPlayVisible:!0}),s.pause(i,!0)};i.set({isPostPlayLoading:!0}),p.wB(l,p.Y3)?o.fetch().then((0,d.Z)(i,(()=>{const e=o.findWhere({upNext:!0});e&&o.remove(e),c()})),(0,d.Z)(i,c)):window.setTimeout((0,d.Z)(i,c),0)},[w](e,{playerType:t}){const n=(0,h.F_)(e,t),i=n.get("isPlayQueueVisible");(0,g.c9)((()=>{n.set((0,l.Z)(n,i,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!i,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!1}))}))},[T](e,{playerType:t}){const n=(0,h.F_)(e,t),i=n.get("isLyricsVisible");(0,g.c9)((()=>{n.set((0,l.Z)(n,i,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!i,isSubtitlesOffsetSettingsVisible:!1}))}))},[Z](e,t,n){const{streamID:i}=t,s=(0,m.xl)(e,t),r=s.get("metadataItem"),a=(0,m.lp)(e,{providerEntityID:r.get("providerEntityID")});if(!a)return;const o=s.get("lyricsStreams").get(i);o.set("lyricsError",null),o.fetch({merge:!0,server:a}).fail((e=>{o.set("lyricsError",e)}))},[N](e,t,n){const{playerType:i,playQueueItemEntityID:s,moveIndex:l}=t,c=(0,h.F_)(e,i),u=c.get("playQueue"),p=(0,m.xl)(e,{playQueueItemEntityID:s}),y=u.get("playQueueItems"),v=y.indexOf(p);if(v===l||v===l-1)return;const f=l>v?l-1:l,I=l>0?y.at(l-1).id:void 0,b=r.Z.join(["items",p.id,"move"]),M={after:I};(0,g.c9)((()=>{y.remove(p),y.add(p,{at:f}),(0,o.ZP)(u,{urlPath:b,params:M,type:"PUT"}).done((0,d.Z)(c,(()=>{const t=(0,a.Z)(e);n($({playerType:i})),t.refreshRemotePlayQueue(c)}))).fail((0,d.Z)(c,(()=>{y.indexOf(p)===f&&(y.remove(p),y.add(p,{at:v}))})))}))},[A](e,{playerType:t,playQueueItemEntityID:n},i){const s=(0,h.F_)(e,t),l=s.get("playQueue"),c=l.get("playQueueItems"),u=(0,m.xl)(e,{playQueueItemEntityID:n}),p=c.indexOf(u),y=r.Z.join(["items",u.id]);(0,g.c9)((()=>{c.remove(u),(0,o.ZP)(l,{urlPath:y,type:"DELETE"}).done((0,d.Z)(s,(()=>{const n=(0,a.Z)(e);i($({playerType:t})),n.refreshRemotePlayQueue(s)}))).fail((0,d.Z)(s,(()=>{c.add(u,{at:p})})))}))},[x](e,{playerType:t}){const n=(0,h.F_)(e,t).get("playQueue");(0,o.ZP)(n)},[L](e,{playerType:t}){},[O](e){},[j](e,t,n){const{serverEntityID:i,providerEntityID:s,playQueueType:r,playQueueOffset:a,playQueueRepeat:o,playQueueID:l,next:c}=t,d={serverEntityID:i,providerEntityID:s,startOffsetMilliseconds:1e3*a,options:{type:r,playQueueRepeat:o,playQueueID:l,next:c}};n((0,y.tP)(d))}}},70468:(e,t,n)=>{"use strict";n.d(t,{bY:()=>pe,kG:()=>me,wy:()=>ve,Td:()=>he,Mf:()=>ge});var i=n(19755),s=n.n(i),r=n(73034),a=(n(67038),n(93966)),o=n(47327),l=n(59756),c=n(60316),d=n(45224),u=n(12319);function p(e){let t;if(e.get("indirect")){const n=e.get("Origin");t=n&&n.source}else if(e.get("remoteMedia")){const n=e.get("Media");t=n[0]&&n[0].source}else e.get("source")&&(t=e.get("source"));return t||null}function m(e){const t=p(e);let n,i;if(t){const{serverIdentifier:e,providerIdentifier:s}=(0,c.Z)(t);i=(0,u.Po)({machineIdentifier:e}),n=(0,d.q)({identifier:s,serverEntityID:i})}else i=e.get("serverEntityID"),n=e.get("providerEntityID");return{serverEntityID:i,providerEntityID:n}}var h=n(43520);function g(e,t){if(!e.supports("transientTokenProxy"))return s().Deferred().reject().promise();const n=e.resolveUrl("/security/resources");let i=s().ajax(e.getXHROptions(n,{data:{source:t}})).promise();return i=i.then((t=>new h.Z(t,{parse:!0,server:e}))),i}var y=n(87350),v=n(35589),f=n(62367);var I=n(6272),b=n(28440);function M(e){return e.get("isConnected")||e.testOnlyUntestedConnections()}function S(e,t){return(0,c.Z)(t).isServer?function(e,t){return g(e,t).then((e=>(0,I.Z)(e,!0).testAllConnections()))}(e,t):function(e,t){return g(e,t).then((e=>{const t=function(e){const t=new y.Z({accessToken:e.get("accessToken"),machineIdentifier:v.X});t.addConnection((0,f.Z)());const n=e.get("connections").first();return new d.Z({identifier:e.get("clientIdentifier"),title:e.get("name"),baseURL:n.get("uri")},{server:t})}(e);return t.server.testAllConnections().then((()=>t.populate({merge:!0})))}))}(e,t)}var E=n(90697),D=n(47486),C=n(45399),P=n(22923),w=n(15730),T=n(96515),Z=n(30983),N=n(39957);const A=[(e,t,n)=>{const i=e.get("user").get("experienceSettings").get("reminders").get((0,N.Z)(P.M,w.TONE_MAPPING));if(i&&!(0,T.Z)(i.get("remindAfter")))return null;const s=(0,Z.F_)(e,t).get("playQueue").get("playQueueItems").get(n.playQueueItemID).get("metadataItem"),r=m(s),a=(0,b.SW)(e,r),o=s.get("Media")[n.mediaIndex],l=null==o?void 0:o.Part[n.partIndex];if(!a||!l)return null;const c=a.hasOwnerFeature(C.EQ),d=a.hasOwnerFeature(C.EZ);return!a.get("isFullOwnedServer")||!c||d||!function(e){return Array.isArray(e.Stream)&&e.Stream.some((e=>"smpte2084"===e.colorTrc))}(l)||n.canDisplayHDR||n.isDirectPlay||n.canDirectStreamVideo?null:{type:w.TONE_MAPPING,metricsContext:D.HDR_CONVERSION}}];var x=n(88551),L=n(13469),O=n.n(L),j=n(33232),k=n(73571);var R=n(94207);function z(e){return e>=2e3}function U(e){return z(e.transcodeDecisionCode)?e.transcodeDecisionText:z(e.generalDecisionCode)?e.generalDecisionText:z(e.mdeDecisionCode)?e.mdeDecisionText:e.errorMessage}var V=n(69434),B=n(47909),F=n(76249),H=n(17524),_=n(78831),Q=n(46937),G=n(51382),Y=n(64542),W=n(64335),K=n(97645),q=n(6731);var $=n(96026),J=n(95113),X=n(99317),ee=n(5562),te=n(91135),ne=Object.assign;function ie(e){return"dash"===e||"hls"===e}function se(e,t){return t.itemProvider||e.provider||t.itemServer||e.server}const re={getPlayerDecision:function(e){return this.resolvePlayerDecision(e).then(null,(t=>t.canDirectPlay&&1001===t.generalDecisionCode?(V.Z.warn("[PDE] Forcing transcode;",t.mdeDecisionText),this.resolvePlayerDecision(ne(ne({},e),{allowDirectPlay:!1}))):t))},resolvePlayerDecision:function(e){O().defaults(e,{offset:0,minVersionForDASH:F.Z.dash,minVersionForStreamingMKV:F.Z.streamingMKV,transcoderOptions:{}});const t={playbackSessionID:e.playbackSessionID||(0,X.Z)(),transcodeSessionID:e.transcodeSessionID||(0,X.Z)(),offset:e.offset};let n=this.populateMedia(t,e);return n=n.then(O().bind((function(){return this.resolveMedia(t,e)}),this)),n=n.then((function(){return s().when(t.url)})),n=n.then((function(e){return t.url=e,t})),n},populateMedia:function(e,t){const n=s().Deferred(),i=O().bind(n.resolve,n,e);return t.requireAnalysis&&function(e){const t=e?O().first(e.get("Media")):null;return!(!t||t.container)}(t.item)?t.item.fetch({scope:"player"}).always(i):O().defer(i),n.promise()},resolveMedia:function(e,t){const n=O().extend({transcodeServer:this.resolveTranscodeServer(t)},t),i=$.Z.getMediaDecision(n);if(n.originalQualityDecisionOptions){const e=$.Z.getMediaDecision(ne(ne({},n),n.originalQualityDecisionOptions));i.canPlayOriginalQuality=e.canDirectPlay||e.canDirectStreamVideo}else i.canPlayOriginalQuality=i.canDirectPlay||i.canDirectStreamVideo;const r=i.media,a=s().Deferred();return O().extend(e,i),r?e.canPlay?"webkit"===r.protocol?(V.Z.warn("[PDE] Webkit videos are not supported"),e.redirect=!0,a.reject(e).promise()):"embed"===r.protocol?(V.Z.warn("[PDE] An embed is required"),e.embed=!0,e.part=O().first(r.Part),a.reject(e).promise()):this.resolvePart(e,t):(V.Z.warn("[PDE] Unable to play item;",e.errorMessage),a.reject(e).promise()):this.resolveUrls(e,t)},resolveTranscodeServer:function(e){const t=e.itemServer||e.item.server,n=e.fallbackServer,i=e.itemProvider||e.item.provider;if(t===n||!n||!n.get("isConnected"))return t;let s;e.type===k.Z.types.VIDEO?s="transcoderVideo":e.type===k.Z.types.MUSIC&&(s="transcoderAudio");const r=!i||H.wB(i.get("identifier"),H.Y3);return s&&!t.get(s)&&n.get(s)&&r?n:t},resolvePart:function(e,t){return t.part?e.part=t.part:t.offset?1===e.media.Part.length?e.part=e.media.Part[0]:(e.part=(0,W.Z)(e.media,t.offset),e.offset=(0,K.Z)(e.media,e.part,t.offset)):e.part=O().first(e.media.Part),e.part.drm&&(e.drm=e.part.drm,e.certificate=e.part.certificate,(0,V.Z)("[PDE] DRM content decryption module:",e.drm),(0,V.Z)("[PDE] DRM certificate:",e.certificate)),this.resolveUrls(e,t)},resolveUrls:function(e,t){const n=s().Deferred();return this.validateDrmType(e,t)&&this.validatePlayerType(e,t)?(this.validateSidecarSrtSubtitles(e,t)?e.subtitlesUrl=this.resolveSubtitlesUrl(e,t):e.useSidecarSrtSubtitles=!1,this.validateSoftSubtitles(e,t)?e.subtitlesUrl=this.resolveSubtitlesUrl(e,t):e.useSoftSubtitles&&(e.useSoftSubtitles=!1),(0,V.Z)("[PDE] Player decision:",{playerType:e.playerType,protocol:e.protocol,canDirectPlay:e.canDirectPlay}),e.canDirectPlay?e.url=this.resolveDirectPlayUrl(e,t):e.url=this.resolveTranscoderUrl(e,t),e.drm&&(e.license=this.resolveLicenseUrl(e,t)),this.resolveDecision(e,t)):n.reject(e).promise()},validateDrmType:function(e,t){const n=a.DB("appModel").get("drmType"),i={music:te.j0,video:te.pX},s=!!e.drm,r=n===(0,Q.Z)(e.drm)||n===(0,Q.Z)(e.drm,i[t.type]);return s&&!r&&(e.errorCode=(0,G.ZP)(),e.errorMessage=(0,ee.Z)("Streaming this media is unsupported.")),!s||r},validatePlayerType:function(e,t){return e.media&&t.type&&t.type!==k.Z.types.PHOTO?e.canDirectPlay?("hls"===e.media.protocol?(e.protocol="hls",e.playerType=t.hasNativeHLS?"html":"flash"):"dash"===e.media.protocol?(e.protocol="dash",e.playerType="html"):(e.protocol="http",e.playerType="flv"===e.media.container?"flash":"html"),!0):this.validatePlayerTranscodeProtocol(e,t):(e.protocol="http",e.playerType="html",!0)},validatePlayerTranscodeProtocol:function(e,t){const n=e.transcodeServer,i=t.transcodeProtocol;let s,r=!0,a=!0,o=!0;if(i&&(r="dash"===i,a="http"===i,o="hls"===i),o&&t.hasNativeHLS)return e.protocol="hls",e.playerType="html",!0;if(a&&t.hasStreamingMKV){if(n.isVersionOrNewer(t.minVersionForStreamingMKV))return e.protocol="http",e.playerType="html",!0;s=t.minVersionForStreamingMKV}if(r&&t.hasDASH){if(n.isVersionOrNewer(t.minVersionForDASH))return e.protocol="dash",e.playerType="html",!0;s=t.minVersionForDASH}return t.type===k.Z.types.MUSIC?(e.protocol="http",e.playerType="html",!0):o&&t.hasFlash?(e.protocol="hls",e.playerType="flash",!0):t.type===k.Z.types.ROM?(e.protocol="parsec",!0):(e.errorMessage=s?(0,ee.Z)("Please update Plex Media Server. This feature requires {1} or later.",s):(0,ee.Z)("Streaming this media is unsupported."),!1)},validateSidecarSrtSubtitles:function(e,t){return e.useSidecarSrtSubtitles&&!e.canDirectPlay?(V.Z.warn("[PDE] Sidecar SRT is only supported when media is direct play."),!1):e.useSidecarSrtSubtitles},validateSoftSubtitles:function(e,t){return e.useSoftSubtitles&&"html"!==e.playerType?(V.Z.warn("[PDE] Only the HTML player supports soft subtitles"),!1):!e.useSoftSubtitles||e.canDirectPlay||t.allowDirectStreamVideoWithSoftSubtitles?e.useSoftSubtitles:(V.Z.warn("[PDE] Unable to use soft subtitles without direct play"),!1)},resolveDirectPlayUrl:function(e,t){const n=t.item,i=e.part,s={"X-Plex-Session-Identifier":e.playbackSessionID};e.drm&&Object.assign(s,(0,Y.Z)(e.drm));const r=i?i.key:n.get("key"),a={appendHeaders:!0,params:s};return se(n,t).resolveUrl(r,a)},resolveTranscoderUrl:function(e,t,n){const i=t.item,s=e.media,r=e.part;let a=t.transcoderOptions;O().isFunction(a)&&(a=a(e)),a=O().extend({},e.transcoderQualityOptions,a,{"X-Plex-Session-Identifier":e.playbackSessionID,session:e.transcodeSessionID,protocol:e.protocol,directPlay:e.canDirectPlay?1:0,offlineTranscode:t.offlineTranscode,context:t.context,offset:e.offset?e.offset/1e3:e.offset});const o=t.subtitlesBurnLevel;t.type!==k.Z.types.VIDEO||e.transcodeServer.get("isCloud")||(o===_.Z.NEVER?a.subtitles=e.canDirectPlay?"none":"auto":e.useSoftSubtitles?(a.subtitles=e.canDirectPlay?"sidecar":"auto",o===_.Z.AVOID&&(a.advancedSubtitles="text")):a.subtitles="burn");let l=t.profileExtra;O().isFunction(l)&&(l=l(e)),a["X-Plex-Client-Profile-Extra"]=l;const c=i.get("Media")[0],d=!!c&&"livetv"===c.origin;("hls"===a.protocol&&!t.useOffsetHLS&&!d||"dash"===a.protocol&&!d)&&((0,V.Z)("[PDE] DASH and HLS should seek forward by default, offset=0"),delete a.offset),"hls"===a.protocol&&t.useOffsetHLS&&(e.useOffsetHLS=!0,a.offset&&((0,V.Z)("[PDE] HLS started with an offset, copyts=0"),a.copyts=0)),ie(a.protocol)&&d&&(a.copyts=0),"http"===a.protocol&&(a.copyts=d?0:1),"http"!==a.protocol||e.canDirectPlay||(a["X-Plex-Chunked"]=1),t.allowIncompleteSegments&&(a["X-Plex-Incomplete-Segments"]=1),O().each(O().keys(a),(function(e){null==a[e]&&delete a[e]}));const u=t.type,p=t.transcoder,m=e.transcodeServer;if(u===k.Z.types.VIDEO)return p.video(m,i,s,r,a,n);if(u===k.Z.types.MUSIC)return p.music(m,i,a,n);if(u===k.Z.types.PHOTO){a.fallbackServer=t.fallbackServer;const e="photo"===i.get("type")?i.getMediaKey():i.get("thumb");return p.image(m,e,a)}return u===k.Z.types.ROM?p.game(m,i,s,ne(ne({},a),{displayHeight:Math.min(window.screen.height,1080),displayWidth:Math.min(window.screen.width,1920)}),n):void 0},resolveSubtitlesUrl:function(e,t){if(e.useSidecarSrtSubtitles){const n=t.itemProvider||t.item.provider,i=(0,q.Z)(e.media);return n.resolveUrl(i.key,{appendHeaders:!0,appendToken:!0,params:{format:"srt"}})}const n=this.resolveTranscoderUrl(e,t),i=B.Z.parseUrl(n).params,s=e.canDirectPlay?"/subtitles/:/transcode/universal/start":"/video/:/transcode/universal/subtitles";return e.transcodeServer.resolveUrl(s,{params:i})},resolveLicenseUrl:function(e,t){const n=t.item,i={appendHeaders:!0,params:(0,Y.Z)(e.drm)},s=se(n,t);return(0,V.Z)("[PDE] Resolving DRM license",e.part.license),s.resolveUrl(e.part.license,i)},resolveDecision:function(e,t){const n=e.transcodeServer,i=s().Deferred(),r=n.get("isCloud")||!n.supports("decisionEndpoint"),a=t.type===k.Z.types.PHOTO||t.type===k.Z.types.ROM;if(r||a)return(0,V.Z)("[PDE] Unnecessary for server to resolve decision"),i.resolve(e).promise();const o=O().clone(e);this.validatePlayerTranscodeProtocol(o,t);const l=this.resolveTranscoderUrl(o,t,"decision"),c=s().ajax(n.getXHROptions(l,{timeout:2e3}));return null!=e.offset&&!e.canDirectPlay&&ie(e.protocol)&&e.media&&"livetv"===e.media.origin&&(e.offset=0),c.done((function(t){const n=J.Z.parseXML(t);n.generalDecisionCode&&(e.generalDecisionCode=J.Z.parseInteger(n.generalDecisionCode),e.generalDecisionText=n.generalDecisionText),n.mdeDecisionCode&&(e.mdeDecisionCode=J.Z.parseInteger(n.mdeDecisionCode),e.mdeDecisionText=n.mdeDecisionText),n.transcodeDecisionCode&&(e.transcodeDecisionCode=J.Z.parseInteger(n.transcodeDecisionCode),e.transcodeDecisionText=n.transcodeDecisionText),e.abr=J.Z.parseBoolean(n.abr),e.decisionXML=t,U(e)?i.reject(e):i.resolve(e)})),c.fail((function(){V.Z.warn("[PDE] Player decision failed; the transcode server may be a slow or outdated"),i.resolve(e)})),i.promise()}};var ae=n(27082),oe=Object.assign;const le="ui/player/playerDecision/makeDecision",ce="ui/player/playerDecision/makeNextDecision",de="ui/player/playerDecision/removeDecision",ue="ui/player/playerDecision/retryDecision",pe=(0,r.Z)(le),me=(0,r.Z)(ce),he=(0,r.Z)(de),ge=(0,r.Z)(ue);function ye(e,t,n){const i=(0,Z.F_)(e,t),s=(0,E.Z)(i),r=s.get("metadataItem");if(s.get("playQueueItemID")!==n.playQueueItemID)return;const a={currentDecision:n,availableQualities:n.availableQualities,qualityIndex:n.qualityIndex,mediaIndex:n.mediaIndex,partIndex:n.partIndex,positionSeconds:n.positionSeconds,durationSeconds:n.durationSeconds};null!=i.get("startMetadataItemEntityID")&&i.get("startMetadataItemEntityID")!==r.entityID()||(a.startMetadataItemEntityID=null,a.startOffsetMilliseconds=null,a.startMediaIndex=null);const o=function(e,t,n){if(e.get("user").get("experienceSettings").get("reminders"))for(const i of A){const s=i(e,t,n);if(s)return s}return null}(e,t,n);a.confirmPlayerUpsellPayload=o,a.isPaused=!!o||i.get("isPaused"),i.set(a)}const ve={[le](e,t){const{playerType:n,playQueueItemEntityID:i,mediaIndex:r,partIndex:d,qualityIndex:u,transcodeSessionID:h,options:g={}}=t,y=(0,Z.F_)(e,n),v=b.xl(e,{playQueueItemEntityID:i});if(v.get("type")===te.pV)return;const f=y.get("decisions")[i];if(f)return void ye(e,n,f);let I,E;const D=v.get("metadataItem");let C,P=function(e,t,n){const i=n.get("metadataItem"),r=b.SW(e,{serverEntityID:t.get("serverEntityID")}),a=m(i),o={serverEntityID:i.get("serverEntityID"),providerEntityID:i.get("providerEntityID")},d=i.get("source"),u=p(i),h=b.SW(e,o),g=u&&b.SW(e,a),y=l.Z.allowTransientProxy&&r.get("isFullOwnedServer")&&r.supports("transientTokenProxy");if(!y&&(d&&!h||u&&!g))return s().Deferred().reject().promise();const v=[];return h?v.push(M(h)):y&&d&&v.push(S(r,d)),d!==u&&(g?v.push(M(g)):y&&u&&v.push(S(r,u))),s().when(...v).then((()=>function(e,t){const n=e.get("user"),i=t&&(0,c.Z)(t);return n.get("providers")&&i&&!i.isServer?n.get("providers").populate().then((e=>{const t=e.findWhere({identifier:i.providerIdentifier});return t&&t.populate()})):s().Deferred().resolve().promise()}(e,u))).then((()=>({serverModel:b.SW(e,o),providerModel:b.js(e,o),mediaServerModel:b.SW(e,a),mediaProviderModel:b.js(e,a)})))}(e,y,v).then((e=>y.get("liveTVSession")?s().Deferred().resolve().promise():(I=e.mediaServerModel,E=e.mediaProviderModel,(0,o.Z)(D,{forceSyncCheckFiles:!0,itemProvider:e.providerModel}))));P=P.then((()=>{const t=null==r?function(e,t){return null==e.get("startMetadataItemEntityID")&&null!=e.get("startMediaIndex")||e.get("startMetadataItemEntityID")===t.entityID()?e.get("startMediaIndex"):null}(y,D):r,n=D.get("Media")[t],i=n&&n.Part[d],s=(0,a.DB)("getDecisionOptions")(D,u,n);return C=oe(oe({transcodeSessionID:h,playbackSessionID:y.get("playbackSessionID"),item:D,offset:(0,x.Z)(y,D),fallbackServer:e.get("primaryServer"),media:n,part:i,itemProvider:E,itemServer:I},s),g),g.offset,re.getPlayerDecision(C)})),P.done((0,R.Z)(y,(t=>{const s=function(e,t){const{type:n,item:i,availableQualities:s,qualityIndex:r}=e,{transcodeServer:a,media:o,part:l}=t,c=i.get("Media"),d=o.Part,u=function(e,t){return O().findIndex(e,(e=>null!=e.id?e.id===t.id:null==e.uuid||e.uuid===t.uuid))}(c,o),p=function(e,t){return O().findIndex(e,(e=>null!=e.id?e.id===t.id:null==e.key||e.key===t.key))}(d,l);let m=[],h=j.Z.ORIGINAL;n===k.Z.types.VIDEO&&(m=s,h=r),t.abr&&(h=j.Z.CONVERT_AUTOMATICALLY);const g={availableQualities:m,qualityIndex:h,mediaIndex:u,partIndex:p,partCount:d.length,url:t.url,subtitlesUrl:t.subtitlesUrl,protocol:t.protocol,isDirectPlay:t.canDirectPlay,useSoftSubtitles:t.useSoftSubtitles,useSidecarSrtSubtitles:t.useSidecarSrtSubtitles,canDirectStreamVideo:t.canDirectStreamVideo,canDirectStreamAudio:t.canDirectStreamAudio,canPlayOriginalQuality:t.canPlayOriginalQuality,positionSeconds:Math.floor(t.offset/1e3),durationSeconds:Math.floor((l.duration||0)/1e3),playbackSessionID:t.playbackSessionID,canDisplayHDR:t.canDisplayHDR,canDisplayDolbyVision:t.canDisplayDolbyVision};return t.canDirectPlay||(g.transcodeSessionID=t.transcodeSessionID),t.drm&&(g.drm=t.drm,g.license=t.license,g.certificate=t.certificate),g.transcodeServerEntityID=a&&a.entityID(),g}(C,t),r=oe(oe({},s),{playQueueItemID:v.get("playQueueItemID")}),a=y.get("decisions");y.set("decisions",oe(oe({},a),{[i]:r})),ye(e,n,r)}))).fail((0,R.Z)(y,(e=>{let t;I&&E?D.get("isPreFetched")?(D.set({isPreFetched:!1}),t=U(e)):t=(0,ee.Z)("Content is unavailable"):t=(0,ee.Z)("Source is unavailable"),function(e,t,n,i){const s=e.get("playQueue"),r=s.get("playQueueItems").at(s.get("currentIndex"));t.id===r.id&&e.set({isMediaLoading:!1,hasError:!0,errorCode:i,errorMessage:n})}(y,v,t,e.errorCode)})))},[ce](e,{playerType:t},n){const i=(0,Z.F_)(e,t),s=i.get("playQueue"),r=s.get("playQueueItems"),a=s.get("currentIndex");let o=i.get("repeatOne")?a:a+1;if(i.get("repeatAll")&&o>r.length-1&&(o=0),o!==a&&o<r.length){const e=r.at(o).entityID();n(pe({playerType:t,playQueueItemEntityID:e}))}},[de](e,{playerType:t,playQueueItemEntityID:n}){const i=(0,Z.F_)(e,t);(0,ae.c9)((()=>{const e=i.get("decisions"),t=i.get("currentDecision"),s={decisions:oe(oe({},e),{[n]:null})};e[n]===t&&(s.currentDecision=null),i.set(s)}))},[ue](e,t,n){const{playerType:i,decisionOptions:s}=t,r=(0,Z.F_)(e,i),a=r.get("playQueue"),o=a.get("playQueueItems"),l=r.get("currentDecision"),c=a.get("currentIndex"),d=o.at(c).entityID();l&&n(he({playerType:i,playQueueItemEntityID:d})),n(pe(l?{playerType:i,playQueueItemEntityID:d,mediaIndex:l.mediaIndex,partIndex:l.partIndex,qualityIndex:r.get("qualityIndex"),options:oe({offset:1e3*r.get("positionSeconds")},s)}:{playerType:i,playQueueItemEntityID:d,qualityIndex:r.get("qualityIndex")}))}}},79932:(e,t,n)=>{"use strict";n.d(t,{Rt:()=>H,Bw:()=>K,qG:()=>W,l5:()=>F,tf:()=>B,Si:()=>Q,yt:()=>G,e4:()=>V,EJ:()=>k,$y:()=>R,xd:()=>z,bj:()=>U,N9:()=>Y,xT:()=>ie,lm:()=>de,Mh:()=>oe,gv:()=>he,tP:()=>ne,kP:()=>te,d7:()=>se,Kq:()=>re,lh:()=>ee,Ld:()=>le,wA:()=>q,EF:()=>$,QR:()=>J,Gh:()=>X,Em:()=>ce,Yd:()=>ae});var i=n(19755),s=n.n(i),r=n(73034),a=n(69434),o=n(47909),l=n(93966),c=n(66464),d=n(238),u=n(21256),p=n(34699),m=n(86526),h=n(95680),g=n(58641),y=n(94207),v=n(88050),f=n(47486),I=n(69605),b=n(59223),M=n(52837),S=n(17524),E=n(45399),D=n(69881);var C=n(28440),P=n(30983),w=n(27082),T=n(5562),Z=n(61478),N=n(35421),A=Object.prototype.hasOwnProperty,x=Object.getOwnPropertySymbols,L=Object.prototype.propertyIsEnumerable,O=Object.assign,j=(e,t)=>{var n={};for(var i in e)A.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&x)for(var i of x(e))t.indexOf(i)<0&&L.call(e,i)&&(n[i]=e[i]);return n};const k="ui/player/playerLifecycle/startPlayback",R="ui/player/playerLifecycle/startPrimaryExtraPlayback",z="ui/player/playerLifecycle/startRadioPlayback",U="ui/player/playerLifecycle/startRelatedMixPlayback",V="ui/player/playerLifecycle/startExistingPlayQueuePlayback",B="ui/player/playerLifecycle/queueRelatedMixPlayback",F="ui/player/playerLifecycle/queuePlayback",H="ui/player/playerControls/clearPlayerConfirmPlaybackPayload",_="ui/player/playerControls/clearPlayerConfirmNewsSunsetPayload",Q="ui/player/playerControls/resetAndClosePlayer",G="ui/player/playerControls/setMetricsPlayer",Y="ui/player/playerLifecycle/updateCurrentAd",W="ui/player/playerLifecycle/endPlayback",K="ui/player/playerLifecycle/dismissPlayerUpsell",q=(0,r.Z)(k),$=(0,r.Z)(R),J=(0,r.Z)(z),X=(0,r.Z)(U),ee=(0,r.Z)(V),te=(0,r.Z)(B),ne=(0,r.Z)(F),ie=(0,r.Z)(H),se=((0,r.Z)(_),(0,r.Z)(Q)),re=(0,r.Z)(G),ae=(0,r.Z)(Y),oe=(0,r.Z)(W),le=(0,r.Z)(k,((e={})=>{var{options:t={}}=e,n=j(e,["options"]);return O(O({},n),{metricsAction:v.Rn,options:O(O({},t),{playAll:!0})})})),ce=(0,r.Z)(k,((e={})=>{var{options:t={}}=e,n=j(e,["options"]);return O(O({},n),{metricsAction:v.cO,options:O(O({},t),{shuffle:!0})})})),de=(0,r.Z)(K);let ue;function pe(e){return e.get("related").findWhere({browse:!1}).get("metadataList")}function me(e,t,n){return(...i)=>{if(t.get("isOpen")&&e===ue)return n(...i);a.Z.warn("[Player] Player was closed or a new playback session was started; ignoring playback request")}}const he={[k](e,t,n){const{metadataItemEntityID:i,liveTVSessionEntityID:s,syncplaySessionRoomID:r,confirmPlayback:a,confirmOffset:o,confirmNewsSunset:h,confirmAdvertisingNotice:g,startOffsetMilliseconds:y=null,startMediaIndex:f=null,openState:I=b.K,isPaused:N=!1,isWatchTogetherLobbyVisible:A=!1,extrasPrefixCount:x,playbackStartTime:L=Date.now(),metricsPage:j,metricsProperties:k={}}=t,R=(0,m.Z)(e,t),z=(0,u.Z)(R),U=M.f_(z),V=(0,P.F_)(e,U),B=V.get("playQueue"),F=R.metadataItemModel,H=(0,l.DB)("appModel").get("user"),_=R.serverModel?R.serverModel.entityID():t.serverEntityID,Q=R.providerModel?R.providerModel.entityID():t.providerEntityID;if(B&&F&&B.get("playQueueSelectedMetadataItemID")===F.get("ratingKey"))return;if(!a&&B&&B.get("playQueueVersion")>1)return void V.set("confirmPlaybackPayload",t);const G={serverEntityID:_,providerEntityID:Q,syncplaySessionRoomID:r,isOpen:!0,openState:I,isPlayQueueLoading:!0,isMediaLoading:!0,isPaused:N,isWatchTogetherLobbyVisible:A,startOffsetMilliseconds:y,startMediaIndex:f,playbackStartTime:L,metricsPage:j,metricsSetting:k.setting,metricsContextTuple:k.contextTuple};if(s&&(G.liveTVSession=C._s(e,{liveTVSessionEntityID:s})),F&&function(e){const t=e.get("type"),n="channelDirectory"===t||(0,D.isDirectoryType)(t)||e.get("isFolder");return void 0===e.length&&!n}(F)&&(G.startMetadataItemEntityID=i),!g&&F&&F.get("requiresConsent")&&H.get("isFullUser")&&(!H.get("adsConsentSetAt")||H.get("adsConsentReminderAt")<Date.now()/1e3)?G.advertisingNoticePayload=t:H.get("features").get(E.$T)&&!H.get("experienceSettings").get("hasDismissedNewsSunsetBanner")&&!h&&F&&F.get("subtype")===Z.NEWS?G.confirmNewsSunsetPayload=t:!o&&F&&F.get("viewOffset")&&(G.confirmOffsetPayload=t),(0,w.c9)((()=>{V.restoreDefaults(G)})),G.advertisingNoticePayload||G.confirmOffsetPayload||G.confirmNewsSunsetPayload)return;const Y=!(y||!F||F.get("type")!==D.MOVIE),W=S.wB(R.providerModel.get("identifier"),S.vP),K=(0,c.Z)(O(O({},R),{skipSiblings:W,extrasPrefixCount:Y?x:void 0,playQueueModel:(0,d.Z)(O(O({},R),{playQueueType:z}))}));ue=K,K.done(me(K,V,(t=>{V.set({isPlayQueueLoading:!1,playQueue:t}),(0,p.Z)(e).startPlayback(V)}))).fail(me(K,V,(()=>{V.restoreDefaults({hasError:!0,errorMessage:(0,T.Z)("An error occurred loading items to play.")})}))),t.skipClickMetrics||(0,l.DB)("metrics").trackClick(O({page:t.metricsPage,action:t.metricsAction||v.NH,type:z},k))},[R](e,t,n){const i=t.options||{},s=C.$R(e,t);n(q(O(O({},t),{metadataItemEntityID:null,metricsAction:v.$W,options:O(O({},i),{metadataItemKey:s.get("primaryExtraKey"),type:"video"})})))},[U](e,t,n){const i=t.options||{},s=C.$R(e,t),r=pe(s);n(q({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsAction:v.b8,skipClickMetrics:t.skipClickMetrics,options:O(O({},i),{type:(0,u.Z)({metadataItemModel:s}),containerKey:r.get("containerKey")})}))},[z](e,t,n){const{playlistType:i}=t,s=C.$R(e,t).get("stations");if(!s.length)return;const r=s.findWhere({playlistType:i});n(q({metricsAction:v.b8,serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:r.entityID(),skipClickMetrics:t.skipClickMetrics,options:{type:(0,u.Z)({metadataItemModel:r})}}))},[V](e,t){const{serverEntityID:n,providerEntityID:i,playQueueType:s,playQueueID:r,startOffsetMilliseconds:a=null,startMediaIndex:o=null,playbackStartTime:l=Date.now()}=t,c=C.SW(e,t),u=M.f_(s),p=C.js(e,t),m=(0,P.F_)(e,u),y=(0,d.Z)({providerModel:p,playQueueID:r,playQueueType:s}),v={serverEntityID:n,providerEntityID:i,isOpen:!0,openState:b.K,isPlayQueueLoading:!0,isMediaLoading:!0,startOffsetMilliseconds:a,startMediaIndex:o,playbackStartTime:l};return c===e.get("transientServer")&&(v.metricsPage=I.sD,v.metricsContext=f.COMPANION),m.set(v),(0,g.ZP)(y).done((()=>{m.set({playQueue:y,isPlayQueueLoading:!1}),h.startPlayback(m)})).fail((()=>{m.restoreDefaults({hasError:!0,errorMessage:(0,T.Z)("An error occurred loading items to play.")})}))},[B](e,t,n){const i=C.$R(e,t),s=pe(i);n(ne({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsAction:v.AV,listType:(0,u.Z)({metadataItemModel:i}),options:{next:!0,containerKey:o.Z.join(s.get("containerKey"),{excludeSeedItem:1})}}))},[F](e,t,n){const{startOffsetMilliseconds:i=null,openState:s=b.K}=t,r=(0,m.Z)(e,t),a=(0,u.Z)(r),o=M.f_(a),h=(0,P.F_)(e,o),f=!!r.playQueueID,I=r.serverModel?r.serverModel.entityID():t.serverEntityID,S=r.providerModel?r.providerModel.entityID():t.providerEntityID;let E=h.get("playQueue"),D=!1;if(E&&h.get("providerEntityID")){const t=C.js(e,{providerEntityID:h.get("providerEntityID")}),n=h.get("providerEntityID")===S,i=E.get("isUniversal"),s=t.server.get("isFullOwnedServer");D=n||i&&s}if(D)(0,c.Z)(O(O({},r),{playQueueModel:E})).done((0,y.Z)(h,(()=>{(0,p.Z)(e).refreshRemotePlayQueue(h)}))).fail((0,y.Z)(h,(()=>{h.set({hasError:!0,errorMessage:(0,T.Z)("An error occurred loading items into the play queue.")})})));else{(0,w.c9)((()=>{h.restoreDefaults({serverEntityID:I,providerEntityID:S,isOpen:!0,openState:s,isPlayQueueLoading:!0,isMediaLoading:!0,isPaused:!r.next,repeatAll:!!r.playQueueRepeat,startOffsetMilliseconds:i,playbackStartTime:r.playbackStartTime?r.playbackStartTime:Date.now()})})),E=(0,d.Z)(O(O({},r),{playQueueType:a}));const t=f?(0,g.ZP)(E):(0,c.Z)(O(O({},r),{next:!1,playQueueModel:E}));ue=t,t.done(me(t,h,(t=>{h.set({isPlayQueueLoading:!1,playQueue:t}),(0,p.Z)(e).startPlayback(h,f)}))).fail(me(t,h,(()=>{n((0,N.n5)()),f?h.restoreDefaults():h.restoreDefaults({hasError:!0,errorMessage:(0,T.Z)("An error occurred loading items to play.")})})))}const Z=r.next?v.pe:v.PR,A=t.metricsProperties||{};t.skipClickMetrics||(0,l.DB)("metrics").trackClick(O({page:t.metricsPage,action:t.metricsAction||Z,type:a},A))},[H](e,{playerType:t,openState:n}){const i=(0,P.F_)(e,t);(0,w.c9)((()=>{i.set("confirmPlaybackPayload",null)}))},[_](e,{playerType:t}){const n=(0,P.F_)(e,t);(0,w.c9)((()=>{n.set("confirmNewsSunsetPayload",null)}))},[Q](e,{playerType:t,openState:n}){const i=(0,P.F_)(e,t);(0,w.c9)((()=>{i.restoreDefaults()}))},[G](e,{playerType:t,metricsPlayer:n}){const i=(0,P.F_)(e,t);(0,w.c9)((()=>{i.set({metricsPlayer:n})}))},[Y](e,{adDisplayIndex:t,adDisplayTotal:n,adDurationSeconds:i,adPositionSeconds:s,adState:r,adTimeOffsetSeconds:a,playerType:o}){(0,P.F_)(e,o).set({adDisplayIndex:t,adDisplayTotal:n,adDurationSeconds:i,adPositionSeconds:s,adState:r,adTimeOffsetSeconds:a})},[W](e,{playerType:t,isForced:n},i){const r=(0,P.F_)(e,t),a=r.get("liveTVSession"),l=r.get("serverEntityID"),c=C.SW(e,{serverEntityID:l}),d=(0,p.Z)(e);if((0,w.c9)((()=>{n||i((0,N.n5)()),d.endPlayback(r)})),a&&!c.get("isCloud")){const e=o.Z.join(["/media/subscriptions",a.id]);s().ajax(a.server.getXHROptions(e,{method:"DELETE"}))}},[K](e,{playerType:t}){(0,P.F_)(e,t).set({confirmPlayerUpsellPayload:null})}}},12304:(e,t,n)=>{"use strict";n.d(t,{VR:()=>pe,RB:()=>ge,tG:()=>ie,ft:()=>re,Sq:()=>ae,zV:()=>oe,nB:()=>le,R1:()=>ne,BB:()=>K,ec:()=>Je,wv:()=>Ge,mj:()=>Ye,EZ:()=>We,Kb:()=>$e,Wj:()=>Ke,YA:()=>qe,v6:()=>Be,iu:()=>Le,wO:()=>it,hY:()=>nt,ek:()=>lt,km:()=>tt,O7:()=>ke,$E:()=>we,Pn:()=>Xe,ZI:()=>et,QJ:()=>Re,wW:()=>ze,Hn:()=>Ue,oX:()=>Ve,fp:()=>Oe,ID:()=>je,Y5:()=>He,z5:()=>Fe,PR:()=>_e,$m:()=>Qe,qo:()=>st,mh:()=>at,bb:()=>rt,n9:()=>Ae,qr:()=>Te,IE:()=>xe,lj:()=>Ze,uZ:()=>Ne});var i=n(19755),s=n.n(i),r=n(13469),a=n.n(r),o=n(73034),l=n(47909),c=n(59756),d=n(4920),u=Object.assign,p=n(90697);function m(e){const t=(0,p.Z)(e),n=e.get("currentDecision");if(t&&n)return n.playQueueItemID===t.get("playQueueItemID")?n:void 0}var h=n(34699),g=n(79490),y=n(18305);const v=function(e,t){const n=l.Z.parseUrl(e),{origin:i,pathname:s,params:r}=n;return r.offset=t,l.Z.join([i,s],r)};var f=n(67038),I=n(69434),b=n(58641),M=n(7330),S=n(26781),E=n(56442),D=n(17626),C=n(67006),P=n(17524),w=n(18206),T=n(25474),Z=n(2200),N=Object.assign;function A(e){return{startedAt:(0,S.Z)(e.timeStamp),seekStartSeconds:(0,S.Z)(e.minOffsetAvailable),seekEndSeconds:(0,S.Z)(e.maxOffsetAvailable)}}var x=n(7251),L=n(93573),O=n(94207),j=n(11203),k=n(32901),R=n(84642),z=n(56669),U=n(28440),V=n(30983),B=n(27082),F=n(5562),H=n(73004),_=n(33295),Q=n(35421),G=Object.assign;const Y="ui/player/playerMedia/sendTimeline",W="ui/player/playerMedia/updatePlayerDuration",K="ui/player/playerMedia/updatePlayerPosition",q="ui/player/playerMedia/updatePlayerSeekRange",$="ui/player/playerMedia/updatePlayerBuffering",J="ui/player/playerMedia/updatePlayerLoading",X="ui/player/playerMedia/updatePlayerError",ee="ui/player/playerMedia/clearPlayerError",te="ui/player/playerMedia/tickPlayer",ne="ui/player/playerMedia/togglePlayPause",ie="ui/player/playerMedia/seek",se="ui/player/playerMedia/transcodeSeek",re="ui/player/playerMedia/skipBack",ae="ui/player/playerMedia/skipForward",oe="ui/player/playerMedia/stepBack",le="ui/player/playerMedia/stepForward",ce="ui/player/playerMedia/changeVolume",de="ui/player/playerSettings/togglePlayerSettingsState",ue="ui/player/playerSettings/togglePlayerChaptersState",pe="ui/player/playerSettings/changeQualityIndex",me="ui/player/playerSettings/togglePlayerSubtitlesOffsetState",he="ui/player/playerSettings/togglePlayerWatchTogetherParticipantsState",ge="ui/player/playerSettings/changeStream",ye="ui/player/playerSettings/changeSubtitleColor",ve="ui/player/playerSettings/changeSubtitlePosition",fe="ui/player/playerSettings/changeSubtitleSize",Ie="ui/player/playerSettings/changeSubtitleOffset",be="ui/player/playerMedia/changePlaybackSpeed",Me="ui/player/playerMedia/setItemPlaybackTime",Se="ui/player/playerMedia/setSessionPlaybackTime",Ee="ui/player/playerMedia/refreshStreams",De="ui/player/playerMedia/updateBufferedRanges",Ce="ui/player/playerMedia/updateMediaDimensions",Pe="ui/player/playerMedia/updateCanPlayThrough",we=(0,o.Z)(Y),Te=(0,o.Z)(W),Ze=(0,o.Z)(K),Ne=(0,o.Z)(q),Ae=(0,o.Z)($),xe=((0,o.Z)(J),(0,o.Z)(X)),Le=(0,o.Z)(ee),Oe=(0,o.Z)(te),je=(0,o.Z)(ne),ke=(0,o.Z)(ie),Re=((0,o.Z)(se),(0,o.Z)(re)),ze=(0,o.Z)(ae),Ue=(0,o.Z)(oe),Ve=(0,o.Z)(le),Be=(0,o.Z)(ce),Fe=(0,o.Z)(de),He=(0,o.Z)(ue),_e=(0,o.Z)(me),Qe=(0,o.Z)(he),Ge=(0,o.Z)(pe),Ye=(0,o.Z)(ge),We=(0,o.Z)(ye),Ke=(0,o.Z)(ve),qe=(0,o.Z)(fe),$e=(0,o.Z)(Ie),Je=(0,o.Z)(be),Xe=(0,o.Z)(Me),et=(0,o.Z)(Se),tt=(0,o.Z)(Ee),nt=(0,o.Z)(ne,(e=>G(G({},e),{shouldPlay:!0}))),it=(0,o.Z)(ne,(e=>G(G({},e),{shouldPause:!0}))),st=((0,o.Z)(ce,(e=>G(G({},e),{delta:5}))),(0,o.Z)(ce,(e=>G(G({},e),{delta:-5}))),(0,o.Z)(De)),rt=(0,o.Z)(Ce),at=(0,o.Z)(Pe);function ot(e,t,n){return Math.max(0,Math.min(t-g.uS,e+n))}const lt={[Y](e,t,n){var i;const{playerType:r,providerEntityID:o,mediaItemID:c,shouldRefreshPlayQueue:d,options:u={}}=t,p=(0,V.F_)(e,r),m=U.js(e,{providerEntityID:o}),h=U.xl(e,t),g=U.$R(e,t);if(!g&&P.wB(m.get("identifier"),[P.Ll,P.vP]))return;const v=h.get("isLocal")?void 0:h.get("playQueueItemID"),f=null==(i=U.VZ(e,t))?void 0:i.get("grabOperation").get("metadataItem");(function(e,t,n){const{playQueueItemID:i,mediaItemID:r,mediaIndex:o,partIndex:c,partCount:d,state:u,continuing:p,playbackTime:m,positionSeconds:h,durationSeconds:g,metricsContextTuple:y,ratingKey:v,key:f}=n,b=e.get("features").get(C.jN);if(!b)return s().Deferred().reject().promise();const x=N({ratingKey:v||t.get("ratingKey"),key:f||t.get("key"),playbackTime:m,playQueueItemID:i,state:u,hasMDE:1},y?(0,Z.IF)(y):void 0);if(u===D.il&&p&&(x.continuing=1),P.wB(e.get("identifier"),[P.Ll,P.vP])&&(x.airingID=r),null!=g){const e=1e3*h,n=1e3*g;if(d>1){const n=t.get("Media")[o],i=n.Part[c];x.time=(0,w.Z)(n,i,e),x.duration=n.duration}else x.time=e,x.duration=n;x.duration=Math.max(x.time,x.duration)}(0,I.Z)("[Player] Timeline, %s",x);const L=l.Z.join(b.get("key"),x),O=t.provider.getXHROptions(L,{headers:{accept:E.Ls.accept,"X-Plex-Session-Identifier":n.playbackSessionID}});return s().ajax(O).promise().then((e=>{const n=(0,T.Z)(e);return n.terminationCode&&(n.terminationCode=(0,S.Z)(n.terminationCode)),n.generalDecisionCode&&(n.generalDecisionCode=(0,S.Z)(n.generalDecisionCode)),n.mdeDecisionCode&&(n.mdeDecisionCode=(0,S.Z)(n.mdeDecisionCode)),n.transcodeDecisionCode&&(n.transcodeDecisionCode=(0,S.Z)(n.transcodeDecisionCode)),n.Bandwidths&&n.TranscodeSession&&(n.bandwidthTimeline={bandwidths:(0,M.Z)(n.Bandwidths.Bandwidth),transcodeSessionID:a().last(n.TranscodeSession.key.split("/"))}),n.CaptureBuffer&&n.CaptureBuffer.TranscodeSession&&(n.captureBuffer=A(n.CaptureBuffer.TranscodeSession)),n.TranscodeSession&&(n.transcodeSession=A(n.TranscodeSession)),x.time>6e4&&("progress"===n.playbackState?t.set("viewOffset",x.time):"complete"===n.playbackState&&t.set({viewOffset:0,viewCount:1})),n}))})(m,g,G({state:(0,y.Z)(p),playbackSessionID:p.get("playbackSessionID"),playQueueItemID:v,mediaItemID:c,metricsContextTuple:p.get("metricsContextTuple"),key:null==f?void 0:f.get("key"),ratingKey:null==f?void 0:f.get("ratingKey")},u)).done((0,O.Z)(p,(e=>{n((0,Q.NN)({playerType:r}));const{bandwidthTimeline:t,captureBuffer:i,transcodeSession:s}=e;p.set("bandwidthTimeline",t);const a=p.get("liveTVSession");s?(n(Ne({playerType:r,seekStartSeconds:s.seekStartSeconds,seekEndSeconds:s.seekEndSeconds})),a&&s.startedAt&&a.set({startedAt:s.startedAt,captureBuffer:i})):i&&(n(Ne({playerType:r,seekStartSeconds:i.seekStartSeconds,seekEndSeconds:i.seekEndSeconds})),a&&i.startedAt&&a.set({startedAt:i.startedAt}));const o=p.get("playQueue");d&&o.get("playQueueSelectedItemID")===h.get("playQueueItemID")&&(0,b.ZP)(o).done((0,O.Z)(p,(()=>{n((0,Q.NN)({playerType:r}))}))),e.terminationCode&&(n((0,Q.n5)()),p.restoreDefaults({hasError:!0,errorMessage:e.terminationText}))})))},[W](e,{playerType:t,durationMilliseconds:n}){const i=(0,V.F_)(e,t),s=(0,p.Z)(i).get("metadataItem"),r=m(i);if(!r)return;const a=s.get("Media")[r.mediaIndex],o=(0,R.Z)(a),l=!!o&&"vbr"===o.bitrateMode,c=n>0&&!l?n:a.duration;i.set({isMediaLoading:!1,durationSeconds:Math.floor((c||0)/1e3)})},[K](e,{playerType:t,positionSeconds:n}){const i=(0,V.F_)(e,t);(0,B.c9)((()=>{const e={positionSeconds:n},t=i.get("lastSeekPositionSeconds");null!==t&&n>t&&(e.lastSeekPositionSeconds=null),i.set(e)}))},[q](e,{playerType:t,seekStartSeconds:n,seekEndSeconds:i}){(0,V.F_)(e,t).set({seekStartSeconds:n,seekEndSeconds:i})},[$](e,{playerType:t,isBuffering:n}){(0,V.F_)(e,t).set({isBuffering:n})},[J](e,{playerType:t,isMediaLoading:n}){(0,V.F_)(e,t).set({isMediaLoading:n})},[X](e,t){(0,V.F_)(e,t.playerType).set({isMediaLoading:!1,hasError:!0,errorMessage:t.errorMessage,errorCode:t.errorCode,errorCategory:t.errorCategory})},[ee](e,{playerType:t}){const n=(0,V.F_)(e,t);(0,B.c9)((()=>{n.set({hasError:!1,errorMessage:null,errorCode:null,errorCategory:null})}))},[te](e,t,n){const{metadataItemEntityID:i,liveTVSessionEntityID:r,mediaItemID:a,playerType:o,secondsElapsed:l}=t,c=(0,V.F_)(e,o),d=c.get("playQueue"),u=m(c);if(!u)return;const p=c.get("isPaused"),h=l%30==0;if(l%10==0){const e=d.get("playQueueSelectedItemID"),t=d.get("playQueueItems").get(e);n(we({playerType:o,providerEntityID:c.get("providerEntityID"),playQueueItemEntityID:t.entityID(),metadataItemEntityID:i,liveTVSessionEntityID:r,mediaItemID:a,options:{playbackTime:c.get("itemPlaybackTime"),positionSeconds:c.get("positionSeconds"),durationSeconds:c.get("durationSeconds"),mediaIndex:u.mediaIndex,partIndex:u.partIndex,partCount:u.partCount}}))}if(h&&p&&u.transcodeSessionID){const t=u.transcodeServerEntityID;!function(e,t){(0,f.Z)(t,"A transcoder ping requires a session identifier"),(0,I.Z)("[Player] Transcoder Ping, %s",t);const n=`/video/:/transcode/universal/ping?session=${t}`;s().ajax(e.getXHROptions(n)).promise()}(U.SW(e,{serverEntityID:t}),u.transcodeSessionID)}},[ne](e,{playerType:t,shouldPlay:n,shouldPause:i,isApplicationInitiated:s},r){const a=(0,V.F_)(e,t),o=a.get("isPaused"),l=(0,h.Z)(e),c="play",d="pause";let u;s||o||!(0,L.Z)(a)?a.get("isPostPlayVisible")?(0,B.c9)((()=>{a.set({isPostPlayVisible:!1}),l.playNextItem(a,!0)})):(u=n?c:i?d:o?c:d,o&&u===d||!o&&u===c||(0,B.c9)((()=>{l[u](a,s)}))):r((0,k.wp)((0,F.Z)("Pausing is not enabled on this channel")))},[ie](e,{playerType:t,positionSeconds:n}){const i=(0,V.F_)(e,t),s=(0,h.Z)(e);(0,L.Z)(i)||(0,B.c9)((()=>{s.seek(i,n)}))},[se](e,{playerType:t,positionSeconds:n}){const i=(0,V.F_)(e,t),s=m(i);if(!s)return;const r=(0,p.Z)(i).entityID(),a=i.get("liveTVSession");let o=n;if(a){const e=a.get("captureBuffer"),t=a.get("startedAt");o+=t-e.startedAt,a.set({startedAt:t+n})}const l=G(G({},s),{url:v(s.url,o)});i.set({currentDecision:l,decisions:G(G({},i.get("decisions")),{[r]:l})})},[re](e,{playerType:t,allowDebounce:n=!0}){const i=(0,V.F_)(e,t);if((0,L.Z)(i))return;const s=(0,h.Z)(e),r=n?c.Z.seekDebounceMilliseconds:null,a=ot(i.get("nextPositionSeconds")||i.get("positionSeconds"),i.get("durationSeconds"),-g.jV);(0,B.c9)((()=>{s.seek(i,a,r)}))},[ae](e,{playerType:t,allowDebounce:n=!0}){const i=(0,V.F_)(e,t);if((0,L.Z)(i))return;const s=(0,h.Z)(e),r=i.get("positionSeconds"),a=i.get("nextPositionSeconds"),o=i.get("durationSeconds"),l=n?c.Z.seekDebounceMilliseconds:null;if(o-r>g.uS){const e=ot(a||r,o,g.Jj);(0,B.c9)((()=>{s.seek(i,e,l)}))}},[oe](e,{playerType:t}){const n=(0,V.F_)(e,t),i=(0,p.Z)(n).get("metadataItem");if((0,L.Z)(n))return;const s=(0,h.Z)(e),r=i.get("chapters"),a=n.get("positionSeconds"),o=n.get("nextPositionSeconds"),l=n.get("durationSeconds");let c;c=r&&r.length?function(e,t){if(e&&e.length){for(let n=e.length-1;n>=0;n--){const i=e.at(n),s=Math.ceil(i.get("startTimeOffset")/1e3);if(s<t-g.Nf)return s}return 0}}(r,o||a):ot(o||a,l,-g.qB),(0,B.c9)((()=>{s.seek(n,c)}))},[le](e,{playerType:t}){const n=(0,V.F_)(e,t),i=(0,p.Z)(n).get("metadataItem");if((0,L.Z)(n))return;const s=(0,h.Z)(e),r=i.get("chapters"),a=n.get("positionSeconds"),o=n.get("nextPositionSeconds"),l=n.get("durationSeconds");let c;r&&r.length?c=function(e,t){if(e&&e.length)for(let n=0;n<e.length;n++){const i=e.at(n),s=Math.ceil(i.get("startTimeOffset")/1e3);if(s>t)return s}}(r,a):l-(o||a)>g.uS&&(c=ot(o||a,l,g._V)),null!=c&&(0,B.c9)((()=>{s.seek(n,c)}))},[ce](e,{playerType:t,volume:n,delta:i},s){const r=function(e){const t=e.get("remotePlayer");return t?t.get("volume"):(0,z.Z)(e)}(e);let a=i?r+i:n;if(a=Math.max(0,Math.min(100,a)),a===r)return;const o=(0,V.F_)(e,t),l=(0,h.Z)(e);(0,B.c9)((()=>{l.changeVolume(o,a,s)}))},[de](e,{playerType:t}){const n=(0,V.F_)(e,t),i=n.get("isSettingsVisible");(0,B.c9)((()=>{n.set((0,x.Z)(n,i,{isSettingsVisible:!i,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!1,isWatchTogetherParticipantsVisible:!1}))}))},[ue](e,{playerType:t}){const n=(0,V.F_)(e,t),i=n.get("isChaptersVisible");(0,B.c9)((()=>{n.set((0,x.Z)(n,i,{isSettingsVisible:!1,isChaptersVisible:!i,isPlayQueueVisible:!1,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!1,isWatchTogetherParticipantsVisible:!1}))}))},[me](e,{playerType:t}){const n=(0,V.F_)(e,t),i=n.get("isSubtitlesOffsetSettingsVisible");(0,B.c9)((()=>{n.set((0,x.Z)(n,i,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!i,isWatchTogetherParticipantsVisible:!1}))}))},[he](e,{playerType:t}){const n=(0,V.F_)(e,t),i=n.get("isWatchTogetherParticipantsVisible");(0,B.c9)((()=>{n.set((0,x.Z)(n,i,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1,isWatchTogetherParticipantsVisible:!i}))}))},[pe](e,{playerType:t,qualityIndex:n}){const i=(0,V.F_)(e,t);(0,h.Z)(e).changeQualityIndex(i,n)},[ge](e,t,n){const{playerType:i,streamTypeString:s,streamID:r}=t,a=e.get("remotePlayer"),o=(0,V.F_)(e,i),l=(0,p.Z)(o).get("metadataItem"),c=(0,h.Z)(e);n((0,j.Bs)({metadataItemEntityID:l.entityID(),mediaIndex:o.get("mediaIndex"),streamTypeString:s,streamID:r,updateLocalOnly:!!a,allParts:o.get("partIndex")>0})),c.changeStream(o,s,r)},[ye](e,{playerType:t,subtitleColor:n},i){const s=(0,V.F_)(e,t);(0,h.Z)(e).changeSubtitleColor(s,n,i)},[ve](e,{playerType:t,subtitlePosition:n},i){const s=(0,V.F_)(e,t);(0,h.Z)(e).changeSubtitlePosition(s,n,i)},[fe](e,{playerType:t,subtitleSize:n},i){const s=(0,V.F_)(e,t);(0,h.Z)(e).changeSubtitleSize(s,n,i)},[Ie](e,t,n){const{playerType:i,subtitleOffset:r,localUpdateOnly:a}=t,o=(0,h.Z)(e),c=(0,V.F_)(e,i),m=c.get("mediaIndex")||0,g=c.get("partIndex")||0,y=(0,p.Z)(c).get("metadataItem"),v=y.get("Media"),f=v[m],I=f.Part[g],b=H.Z.get("subtitles").id,M=I.Stream.find((e=>e.streamType===b&&e.selected)),S=function(e,t,n,i,s){const r=u(u({},i),{offset:s}),a=(0,d.Z)(n.Stream,i,r),o=u(u({},n),{Stream:a}),l=u(u({},t),{Part:(0,d.Z)(t.Part,n,o)});return(0,d.Z)(e,t,l)}(v,f,I,M,r);if(y.set({Media:S}),a)return;const E={offset:r};let D=M.key;P.wB(y.provider.get("identifier"),P.uk)&&(D=`/library/parts/${I.id}`,E.subtitleStreamID=M.id);const C=l.Z.join(D,E),w=y.provider.getXHROptions(C,{type:"PUT",scope:"setMetadataItemStreamOffset--"+M.id});_.Z.abortAll(w.scope),s().ajax(w).fail((e=>{e.aborting||y.get("Media")===S&&y.set({Media:v})})),o.changeSubtitleOffset(c,r,n)},[be](e,{playerType:t,playbackSpeed:n}){const i=(0,V.F_)(e,t),s=(0,h.Z)(e),r=Math.round(10*n)/10;s.changePlaybackSpeed(i,r)},[Me](e,{playerType:t,playbackTime:n},i){(0,V.F_)(e,t).set("itemPlaybackTime",n)},[Se](e,{playerType:t,playbackTime:n},i){(0,V.F_)(e,t).set("sessionPlaybackTime",n)},[Ee](e,{playerType:t}){const n=(0,V.F_)(e,t);(0,p.Z)(n).get("metadataItem").fetch({data:{skipRefresh:1},usePopulatedParams:!0})},[De](e,{playerType:t,bufferedRanges:n}){const i=(0,V.F_)(e,t),s=n.map((e=>({startSeconds:Math.ceil(e.startSeconds),endSeconds:Math.floor(e.endSeconds)}))).sort(((e,t)=>e.startSeconds-t.startSeconds)).reduce(((e,t)=>{var n,i;const s=e.length-1;return t.startSeconds<(null==(n=e[s])?void 0:n.startSeconds)||t.startSeconds<(null==(i=e[s])?void 0:i.endSeconds)?(e[s].startSeconds=Math.min(e[s].startSeconds,t.startSeconds),e[s].endSeconds=Math.max(e[s].endSeconds,t.endSeconds)):e.push(t),e}),[]);a().isEqual(i.get("bufferedRanges"),s)||i.set({bufferedRanges:s})},[Ce](e,{playerType:t,width:n,height:i}){(0,V.F_)(e,t).set({mediaWidth:n,mediaHeight:i})},[Pe](e,{playerType:t,canPlayThrough:n}){const i=(0,V.F_)(e,t);i.get("canPlayThrough")!==n&&i.set({canPlayThrough:n})}}},32901:(e,t,n)=>{"use strict";n.d(t,{_z:()=>r,Rw:()=>a,jR:()=>o,wp:()=>l,J0:()=>c});var i=n(73034),s=n(88630);const r="ui/repopulatePage",a="ui/showAlert",o=(0,i.Z)(r),l=(0,i.Z)(a,(e=>"string"==typeof e?{type:s.p,message:e}:e)),c={[a](e,t){}}},4134:(e,t,n)=>{"use strict";n.d(t,{k_:()=>l,gk:()=>c,FC:()=>d,pL:()=>u,xZ:()=>p,tB:()=>m,Dz:()=>h,PF:()=>g,xh:()=>y,$Q:()=>f,LN:()=>I,fB:()=>b,Dv:()=>M,dB:()=>S,R4:()=>E,Kq:()=>D});var i=n(73034),s=n(69434),r=n(26564),a=n(27940),o=n(28440);const l="user/lockUser",c="user/fetchUserFeatures",d="user/populateUserFeatures",u="user/saveExperienceSettings",p="user/saveSubtitleColor",m="user/saveSubtitlePosition",h="user/saveSubtitleSize",g="user/saveAutoPlay",y=(0,i.Z)(l),v=(0,i.Z)(c),f=(0,i.Z)(d),I=(0,i.Z)(u),b=(0,i.Z)(p),M=(0,i.Z)(m),S=(0,i.Z)(h),E=(0,i.Z)(g),D={[l](e,t){s.Z.error("LOCK_USER must be handled by each project")},[c]:(0,r.Z)({key:"features",getModel:o.VX}),[d]:(0,a.Z)({key:"features",fetchActionCreator:v,getModel:o.VX}),[u](e,t){s.Z.error("SAVE_EXPERIENCE_SETTINGS must be handled by each project")},[p](e,t,n){n(I(t))},[m](e,t,n){n(I(t))},[h](e,t,n){n(I(t))},[g](e,t,n){n(I(t))}}},72194:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(22222),s=n(13469),r=n.n(s);const a=(0,i.wN)(i.PW,r().isEqual)},91121:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(22222),s=n(13469),r=n.n(s),a=n(47909),o=n(96516),l=n(77909),c=n(74995),d=n(67006),u=n(55605);const p={},m={};function h(e,t){const{serverEntityID:n,providerEntityID:s}=t,a=`${n}:${s}`;return m[a]||(m[a]=(0,o.Z)((0,i.P1)((0,c.Z)(),(0,l.Z)(),((e,t)=>{const n=e&&e.activeConnection&&e.activeConnection.uri;if(!n)return p;let i,s="/photo/:/transcode",a=!1,o=!1;if(t){const e=r().findWhere(t.features,{type:d.Yd});e&&(s=e.key,a=(0,u.Z)(s),o=e.public)}return i=a?t&&t.baseURL?t.baseURL:n:"",{accessToken:e.accessToken,baseUrl:i,isAbsoluteTranscodeKey:a,isPublicTranscoder:o,transcodeKey:s,uri:n}})),(e=>e))),m[a](e,t)}function g(e){const t=e&&e.urlParams;return(0,i.P1)(((e,{url:t})=>t),h,((e,n)=>{if(!e||n===p)return;const{accessToken:i,baseUrl:s,isAbsoluteTranscodeKey:r,isPublicTranscoder:o,transcodeKey:l,uri:c}=n;let d;if((0,u.Z)(e))d=e;else{const n={"X-Plex-Token":i};t&&Object.assign(n,t),d=a.Z.join([s,e],n)}const m=r?l:[c,l];return a.Z.join(m,{url:d,"X-Plex-Token":o?void 0:i})}))}},96516:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(68521);const r=(0,i.wN)(i.PW,s.Z)},79498:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(22222),s=n(74995),r=n(56733);function a(){return(0,i.P1)(r.Z,(0,i.P1)((0,s.Z)(),(e=>e?e.desktop.libraries:void 0)),((e,t)=>t?t.map((t=>e[t])):[]))}},56733:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(32486);const r=(0,i.P1)(s.Z,(e=>e.libraries))},81017:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(50362);function r(){return(0,i.P1)(((e,{metadataItemEntityID:t})=>t),s.Z,((e,t)=>t[e]))}},50091:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(18908);function r(){return(0,i.P1)(((e,{metadataListEntityID:t})=>t),s.Z,((e,t)=>t[e]))}},49666:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(22222),s=n(81017),r=n(70488),a=n(74253),o=n(86953);function l(){return(0,i.P1)((0,s.Z)(),r.Z,a.Z,((e,t,n)=>e&&e.source||(0,o.Z)({providerIdentifier:t.identifier,serverIdentifier:n.machineIdentifier})))}},54834:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(22222),s=n(13469),r=n.n(s),a=n(21918),o=n(30084),l=n(95113),c=n(81017);const d={s:"seconds",m:"minutes",h:"hours",d:"days",w:"weeks",M:"months",y:"years"};function u(e){if("now"===e)return{};const t=e.match(/([-+]?\d+)([smhdwMy])/);if(t){const[,e,n]=t;if(e&&n)return{[d[n]]:parseInt(e,10)}}else{const t=parseInt(e,10);if(r().isNumber(t))return t}return{}}function p(e,t){return!(!r().isObject(t)||!(0,a.Z)(e,t))||e>=t}function m(e,t){return!(!r().isObject(t)||!(0,o.Z)(e,t))||e<=t}function h(){return(0,i.P1)(((e,{containerKey:t})=>t),(0,c.Z)(),((e,t)=>{if(!t||!t.Media)return;const n=function(e){if(!e)return;const[,t]=e.split("?");return t?l.Z.parseQueryString(t):void 0}(e),i=r().sortBy(t.Media,"endsAt"),s=Date.now()/1e3;for(let e=0,t=i.length;e<t;e++){const t=i[e];if(n){const e=n["beginsAt>"],i=n["beginsAt<"],s=n["endsAt>"],r=n["endsAt<"];if(e){const n=u(e);if(m(t.beginsAt,n))continue}if(i){const e=u(i);if(p(t.beginsAt,e))continue}if(s){const e=u(s);if(m(t.endsAt,e))continue}if(r){const e=u(r);if(p(t.endsAt,e))continue}}if(t.endsAt>s)return t}return r().first(i)}))}},50362:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(32486);const r=(0,i.P1)(s.Z,(e=>e.metadataItems))},18908:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(32486);const r=(0,i.P1)(s.Z,(e=>e.metadataLists))},89971:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(32486);const r=(0,i.P1)(s.Z,(e=>e.playQueueItems))},77909:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(98727);function r(){return(0,i.P1)(((e,{providerEntityID:t})=>t),s.Z,((e,t)=>t[e]))}},98727:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(32486);const r=(0,i.P1)(s.Z,(e=>e.providers))},757:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(70488);function s(e,{metadataItemEntityID:t}){const n=e.entities.metadataItems[t],s=n&&n.providerEntityID;if(s)return(0,i.Z)(e,{providerEntityID:s})}},47933:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(22222),s=n(98727),r=n(90217),a=n(59701);const o=(0,i.P1)(r.Z,s.Z,(0,a.Z)("providers"),((e,t,n)=>e.reduce(((e,i)=>{const s=(i.isCloud?n:i.providers).map((e=>({server:i,provider:t[e]}))),r=s.length?s:[{server:i}];return e.push(...r),e}),[])))},70488:(e,t,n)=>{"use strict";n.d(t,{R:()=>a,Z:()=>l});var i=n(22222),s=n(72194),r=n(67006);function a(e){return e?{entityID:e.entityID,id:e.id,parentID:e.parentID,identifier:e.identifier,metricsIdentifier:e.metricsIdentifier,isLibraryProvider:e.isLibraryProvider,isPopulated:!!e.isPopulated,epgSource:e.epgSource,title:e.title,sourceTitle:e.sourceTitle,protocols:e.protocols.reduce(((e,t)=>(e[t]=!0,e)),{}),features:e.features.reduce(((e,t)=>{let n=t;if(t.type===r.aO){let e={type:r.aO};e=t.actions.reduce(((e,t)=>(e[t.id]=t,e)),e),n=e}return e[t.type]=n,e}),{})}:null}const o={};function l(e,{providerEntityID:t}){let n=o[t];return n||(n=(0,s.Z)((0,i.P1)(((e,t)=>e.entities.providers[t]),a),(e=>e)),o[t]=n),n(e,t)}},32486:(e,t,n)=>{"use strict";function i(e){return e.entities}n.d(t,{Z:()=>i})},77414:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(74995);const r=function(){return(0,i.P1)((0,s.Z)(),(e=>{if(e)return e.desktop.activities}))}},88413:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>l,tk:()=>c,k8:()=>d,Ol:()=>u});var i=n(22222),s=n(13469),r=n.n(s),a=n(72759),o=n(77414);function l(e){return(0,i.P1)((0,o.Z)(),(t=>r().find(t,{type:e})))}function c(){return l(a.nJ)}function d(){return l(a.zL)}function u(){return l(a.y0)}},74995:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(4524);function r(){return(0,i.P1)(((e,{serverEntityID:t})=>t),s.Z,((e,t)=>t[e]))}},4524:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(32486);const r=(0,i.P1)(s.Z,(e=>e.servers))},20531:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(22222),s=n(757),r=n(50316);const a=(0,i.P1)(r.Z,s.Z,((e,t)=>({itemServerEntityID:e&&e.entityID,itemProviderEntityID:t&&t.entityID})))},50316:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(74253);function s(e,{metadataItemEntityID:t}){const n=e.entities.metadataItems[t],s=n&&n.serverEntityID;if(s)return(0,i.Z)(e,{serverEntityID:s})}},13209:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(36237);const r=(0,i.P1)(s.Z,(e=>e.map((e=>e.entityID))))},36237:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(22222),s=n(96516),r=n(90217);const a=(0,s.Z)((0,i.P1)(r.Z,(e=>e.filter((e=>e.isFullOwnedServer&&e.isConnected)))),(e=>e))},90217:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(4524);const r=(0,i.P1)(s.Z,(e=>e.servers),(e=>e.embeddedServer),((e,t,n)=>{const i=t?t.map((t=>e[t])):[];return n&&e[n]&&i.push(e[n]),i}))},39365:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(22222),s=n(96516),r=n(90217);const a=(0,s.Z)((0,i.P1)(r.Z,(e=>e.reduce(((e,t)=>(t.isFullOwnedServer&&t.isClaimed&&t.friendlyName&&e.push(t.entityID),e)),[]))),(e=>e))},74253:(e,t,n)=>{"use strict";n.d(t,{h:()=>r,Z:()=>o});var i=n(22222),s=n(96516);function r(e){return e?{entityID:e.entityID,machineIdentifier:e.machineIdentifier,version:e.version,friendlyName:e.friendlyName,sourceTitle:e.sourceTitle,allowSync:e.allowSync,allowMediaDeletion:e.allowMediaDeletion,backgroundProcessing:e.backgroundProcessing,transcoderVideo:e.transcoderVideo,isConnected:e.isConnected,isUnavailable:e.isUnavailable,isFullServer:e.isFullServer,isFullOwnedServer:e.isFullOwnedServer,isOutOfDate:e.isOutOfDate,isCloud:e.isCloud,isShared:e.isShared,livetv:e.livetv,ownerId:e.ownerId,ownerFeatures:e.ownerFeatures}:null}const a={};function o(e,{serverEntityID:t}){let n=a[t];return n||(n=(0,s.Z)((0,i.P1)(((e,t)=>e.entities.servers[t]),r),(e=>e)),a[t]=n),n(e,t)}},77726:(e,t,n)=>{"use strict";function i(e){return e.deviceSettings}n.d(t,{Z:()=>i})},14699:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(90934);function r(){return(0,i.P1)(((e,{mediaSubscriptionEntityID:t})=>t),s.Z,((e,t)=>t[e]))}},90934:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(32486);const r=(0,i.P1)(s.Z,(e=>e.mediaSubscriptions))},90354:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(34891);function r(){return(0,i.P1)(s.Z,((e,t)=>t.friendEntityID),((e,t)=>e[t]))}},59701:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(22222),s=n(92187);const r={};function a(e){if(r[e])return r[e];const t=(0,i.P1)(s.Z,(t=>t[e]));return r[e]=t,t}},55885:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(22222),s=n(61676);const r={},a=function(e){const t=r[e]||(0,i.P1)(s.Z,(t=>!!t[e]));return r[e]=t,t}},34891:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(32486);const r=(0,i.P1)(s.Z,(e=>e.friends))},52581:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(32486);const r=(0,i.P1)(s.Z,(e=>e.homeUsers))},76892:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(59468);const r=(0,i.P1)(s.Z,(e=>e.savedPivotParams))},82261:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(92187);const r=(0,i.P1)(s.Z,(e=>e.allFriends))},81079:(e,t,n)=>{"use strict";function i(e){return!!e.user.anonymous}n.d(t,{Z:()=>i})},57358:(e,t,n)=>{"use strict";n.d(t,{n:()=>o,Z:()=>l});var i=n(22222),s=n(59701),r=n(81079),a=n(32553);function o(e,t=[],n=[]){return{anonymous:e,features:(0,a.Z)(t,(e=>e.uuid),(()=>!0)),services:(0,a.Z)(n,(e=>e.id),(e=>e))}}const l=(0,i.P1)(r.Z,(0,s.Z)("features"),(0,s.Z)("services"),o)},92187:(e,t,n)=>{"use strict";function i(e){return e.user}n.d(t,{Z:()=>i})},59468:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(92187);const r=(0,i.P1)(s.Z,(e=>e.experienceSettings))},61676:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(22222),s=n(93063),r=n(59701);const a=(0,i.P1)((0,r.Z)("features"),s.Z)},2530:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(92187);const r=(0,i.P1)(s.Z,(e=>e.desktop))},84571:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(59468);const r=(0,i.P1)(s.Z,(({language:e})=>e))},99449:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(32486);const r=(0,i.P1)(s.Z,(e=>e.watchTogetherRooms||{}))},32553:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e,t,n){return e.reduce(((e,i)=>(e[t(i)]=n(i),e)),{})}},4920:(e,t,n)=>{"use strict";function i(e,t,n){const i=e.indexOf(t);if(i<0)return e;const s=e.slice(0);return s[i]=n,s}n.d(t,{Z:()=>i})},89905:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(13469),s=n.n(i),r=n(10300);const a=r.Z.extend({maxCycles:3,maxSize:20,get:function(e){const t=r.Z.prototype.get.apply(this,arguments);return t&&t.every((function(e){return!(!e.cache||!e.cache.isListening||(e.cache.store(e),0))})),t},getItemCacheKey:function(e){let t=s().result(e,"url");return e.server&&(t=e.server.getScopedKey(t)),e.provider&&(t=e.provider.getScopedKey(t)),t}})},36776:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(13469),s=n.n(i);const r=n(10300).Z.extend({maxCycles:5,maxSize:100,getItemCacheKey:function(e,t){if(s().isFunction(e.cacheKey))return t||(t=e.toJSON()),e.cacheKey(t)}})},46453:(e,t,n)=>{"use strict";n.d(t,{HN:()=>i,E4:()=>s,$Z:()=>r,Hn:()=>a,zR:()=>o,Ut:()=>l,WX:()=>c,nQ:()=>d,Zb:()=>u,A2:()=>p,NV:()=>m});const i="com.plexapp.agents.imdb",s="com.plexapp.agents.lastfm",r="com.plexapp.agents.lyricfind",a="com.plexapp.agents.none",o="com.plexapp.agents.plexmusic",l="tv.plex.agents.music",c="tv.plex.agents.movie",d="tv.plex.agents.game",u="tv.plex.agents.series",p="com.plexapp.agents.themoviedb",m="com.plexapp.agents.thetvdb"},88630:(e,t,n)=>{"use strict";n.d(t,{p:()=>i,M:()=>s});const i="error",s="success"},89656:(e,t,n)=>{"use strict";n.d(t,{Yq:()=>i,KH:()=>s,o5:()=>r});const i=100,s=100,r=700},39374:(e,t,n)=>{"use strict";n.d(t,{mV:()=>i,bB:()=>s,_N:()=>r,jv:()=>a,S7:()=>o,YC:()=>l,hO:()=>c,av:()=>u,hd:()=>p,cW:()=>m,hJ:()=>h,pQ:()=>g,yl:()=>y,uY:()=>v,T4:()=>f,Zs:()=>I,D3:()=>b});const i="https://app.plex.tv",s="https://forums.plex.tv",r="https://www.plex.tv/media-server-downloads",a=`${r}/#plex-app`,o="https://status.plex.tv",l="https://www.plex.tv/tidal",c="https://www.plex.tv/privacy",d="?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps",u="https://support.plex.tv"+d,p="https://support.plex.tv/articles/customizing-plex-web/"+d,m="https://support.plex.tv/articles/225877427-supported-dvr-tuners-and-antennas/"+d,h="https://support.plex.tv/articles/community-supported-tuners/"+d,g="https://support.plex.tv/articles/206225077-how-to-use-secure-server-connections/"+d,y="https://support.plex.tv/articles/204985278-account-audio-subtitle-language-settings/"+d,v="https://support.plex.tv/hc/en-us/articles/115002267687-Webhooks/"+d,f="https://support.plex.tv/articles/204232573-restricting-the-shares/",I="/users/other-services",b=`https://plex.tv${I}`},45662:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});const i=2},33631:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const i={NONE:0,VAST:1};i.settings=[{value:i.NONE,title:"None"},{value:i.VAST,title:"Add ?debug=1 to ad requests"}];const s=i},84734:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const i={DISABLED:0,ENABLED:1,VERBOSE:2};i.settings=[{value:i.DISABLED,title:"Disabled"},{value:i.ENABLED,title:"Enabled"},{value:i.VERBOSE,title:"Verbose"}];const s=i},16475:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(96242),s=n(32377);const r={[i.FAIRPLAY]:s.FAIRPLAY,[i.FAIRPLAY_AUDIO]:s.FAIRPLAY,[i.FAIRPLAY_VIDEO]:s.FAIRPLAY,[i.PLAYREADY]:s.PLAYREADY,[i.PLAYREADY_AUDIO]:s.PLAYREADY,[i.PLAYREADY_VIDEO]:s.PLAYREADY,[i.WIDEVINE]:s.WIDEVINE,[i.WIDEVINE_AUDIO]:s.WIDEVINE,[i.WIDEVINE_VIDEO]:s.WIDEVINE}},96242:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FAIRPLAY:()=>r,FAIRPLAY_AUDIO:()=>a,FAIRPLAY_VIDEO:()=>o,PLAYREADY:()=>l,PLAYREADY_AUDIO:()=>c,PLAYREADY_VIDEO:()=>d,WIDEVINE:()=>u,WIDEVINE_AUDIO:()=>p,WIDEVINE_VIDEO:()=>m,NONE:()=>h});var i=n(46937),s=n(91135);const r=(0,i.Z)("fairplay"),a=(0,i.Z)("fairplay",s.j0),o=(0,i.Z)("fairplay",s.pX),l=(0,i.Z)("playready"),c=(0,i.Z)("playready",s.j0),d=(0,i.Z)("playready",s.pX),u=(0,i.Z)("widevine"),p=(0,i.Z)("widevine",s.j0),m=(0,i.Z)("widevine",s.pX),h=(0,i.Z)("none")},32377:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FAIRPLAY:()=>i,PLAYREADY:()=>s,WIDEVINE:()=>r});const i="com.apple.fps.1_0",s="com.microsoft.playready",r="com.widevine.alpha"},40498:(e,t,n)=>{"use strict";n.d(t,{ZO:()=>i,Jm:()=>s,GP:()=>r,Bi:()=>a});const i="contentRating",s="contentRating!",r="label",a="label!"},55642:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const i={NEVER:"never",SAME_NETWORK:"samenetwork",ALWAYS:"always"};i.settings=[{value:i.NEVER,title:"Never"},{value:i.SAME_NETWORK,title:"On same network as server"},{value:i.ALWAYS,title:"Always"}];const s=i},80962:(e,t,n)=>{"use strict";n.d(t,{ly:()=>i,pn:()=>s,jN:()=>r});const i="complete",s="error",r="postprocessing"},98563:(e,t,n)=>{"use strict";n.d(t,{nA:()=>i,Hc:()=>s,SU:()=>r,Bs:()=>a});const i="playlist://image.favorite",s="playlist://image.radio",r="folder",a="watchtogether"},90579:(e,t,n)=>{"use strict";n.d(t,{em:()=>i,gO:()=>s,a7:()=>r,br:()=>a});const i="queued",s="matching",r="processing",a="loading"},88050:(e,t,n)=>{"use strict";n.d(t,{ql:()=>i,GP:()=>s,AM:()=>r,ae:()=>a,XD:()=>o,n1:()=>l,yq:()=>c,ly:()=>d,NH:()=>u,cO:()=>p,Rn:()=>m,DV:()=>h,$W:()=>g,b8:()=>y,Fx:()=>v,AV:()=>f,pe:()=>I,PR:()=>b,uf:()=>M,dm:()=>S,xc:()=>E,qe:()=>D,h3:()=>C,RG:()=>P,_R:()=>w,P9:()=>T,Zy:()=>Z,t7:()=>N,RF:()=>A,J3:()=>x,FH:()=>L,a2:()=>O,Dp:()=>j,yY:()=>k,$M:()=>R,zw:()=>z,xs:()=>U,mL:()=>V,Q2:()=>B,Ao:()=>F,$J:()=>H,Go:()=>_,JL:()=>Q,hi:()=>G,UP:()=>Y,nJ:()=>W,zL:()=>K,yZ:()=>q,FR:()=>$,wl:()=>J,i0:()=>X,fV:()=>ee,uz:()=>te,Yf:()=>ne,JM:()=>ie,b1:()=>se,T5:()=>re,t6:()=>ae,wC:()=>oe,wP:()=>le,oG:()=>ce,SA:()=>de,mX:()=>ue,pg:()=>pe,ic:()=>me,kD:()=>he,J9:()=>ge,VL:()=>ye,lJ:()=>ve});const i="claim",s="dismiss",r="skip",a="confirm",o="select",l="cancel",c="learn",d="complete",u="play",p="shuffle",m="playAll",h="playVersion",g="playPrimaryExtra",y="playRelatedMix",v="playArtistTV",f="queueRelatedMix",I="playNext",b="addToQueue",M="addToPlaylist",S="edit",E="editFilters",D="markAsWatched",C="markAsUnwatched",P="refresh",w="analyze",T="fixMatch",Z="unmatch",N="merge",A="splitApart",x="sync",L="optimize",O="downloadFile",j="share",k="delete",R="getInfo",z="rate",U="selectStream",V="follow",B="mute",F="addToLibrary",H="addToSaved",_="removeFromSaved",Q="addToWatchlist",G="removeFromWatchlist",Y="removeFromContinueWatching",W="optimizeDatabase",K="cleanBundles",q="emptyTrash",$="deleteServer",J="addLibrary",X="updateLibrary",ee="cancelLibraryUpdate",te="forceRefreshLibrary",ne="editLibrary",ie="analyzeLibrary",se="deleteLibrary",re="pinToNav",ae="unpinFromNav",oe="reorderNav",le="selectSource",ce="selectTab",de="downloadServer",ue="optOutMetrics",pe="remoteAccess",me="selectPreferredServer",he="subscribe",ge="upsellTidal",ye="agree",ve="disagree"},47486:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PICKER:()=>i,FALLBACK:()=>s,STARTUP:()=>r,SERVER:()=>a,LIBRARY:()=>o,LIST:()=>l,SELECTION:()=>c,SETTINGS:()=>d,SETUP_WIZARD:()=>u,SERVER_DOWNLOAD:()=>p,AGENDA:()=>m,CALENDAR:()=>h,NAV_BAR:()=>g,COMPANION:()=>y,USERS_AND_SHARING:()=>v,DISCOVER_PIVOT:()=>f,LIBRARY_PIVOT:()=>I,PLAYLISTS_PIVOT:()=>b,COLLECTIONS_PIVOT:()=>M,TIMELINE_PIVOT:()=>S,DVR_DISCOVER_PIVOT:()=>E,DVR_GUIDE_PIVOT:()=>D,DVR_SCHEDULE_PIVOT:()=>C,WATCHLIST:()=>P,HDR_CONVERSION:()=>w});const i="picker",s="fallback",r="startup",a="server",o="library",l="list",c="selection",d="settings",u="setupWizard",p="serverDownload",m="agenda",h="calendar",g="navBar",y="companion",v="usersAndSharing",f="content.discover",I="content.library",b="content.playlists",M="content.collections",S="content.timeline",E="content.dvr.discover",D="content.dvr.guide",C="content.dvr.schedule",P="content.watchlist",w="hdr-conversion"},96335:(e,t,n)=>{"use strict";n.d(t,{Yg:()=>i,Jk:()=>s,Ip:()=>r,EE:()=>a,$R:()=>o,CM:()=>l,o$:()=>c,PS:()=>d,fB:()=>u,NY:()=>p,C7:()=>m,gS:()=>h,cn:()=>g,hx:()=>y,Iw:()=>v,l8:()=>f});const i="client:claimServer",s="client:claimServerFailure",r="client:click",a="client:relayTested",o="client:shutdown",l="client:signout",c="client:start",d="client:switchuser",u="client:view",p="playback:failure",m="playback:itemend",h="playback:itemrestart",g="playback:itemstart",y="playback:sessionend",v="watchtogether:created",f="watchtogether:joined"},69605:(e,t,n)=>{"use strict";n.d(t,{Sd:()=>i,Hx:()=>s,Y3:()=>r,sD:()=>a,ls:()=>o,fP:()=>l,xX:()=>c,$4:()=>d,r$:()=>u,yV:()=>p,G5:()=>m,H4:()=>h,dp:()=>g,YB:()=>y,jF:()=>v,yl:()=>f,w6:()=>I,Q_:()=>b,Ak:()=>M,Wv:()=>S,m9:()=>E,Vr:()=>D,YX:()=>C,mw:()=>P,jy:()=>w,jx:()=>T,Bc:()=>Z,WJ:()=>N,lz:()=>A,uf:()=>x,Vg:()=>L,Gc:()=>O,I7:()=>j,L6:()=>k,Eu:()=>R,Rs:()=>z,mU:()=>U,VP:()=>V,TD:()=>B,od:()=>F,_e:()=>H,WT:()=>_,X$:()=>Q,SK:()=>G,qT:()=>Y,go:()=>W,B8:()=>K,lP:()=>q,Md:()=>$,$e:()=>J,tl:()=>X,jB:()=>ee,cZ:()=>te,RN:()=>ne,xC:()=>ie,cJ:()=>se,yW:()=>re,Y0:()=>ae,iw:()=>oe,yF:()=>le,_g:()=>ce,O6:()=>de,s0:()=>ue,Yp:()=>pe,Pi:()=>me,Ke:()=>he,Bx:()=>ge,X4:()=>ye,LT:()=>ve,ce:()=>fe,ZZ:()=>Ie,o_:()=>be,cU:()=>Me,LO:()=>Se,DV:()=>Ee,Vk:()=>De,hw:()=>Ce,Rh:()=>Pe,zj:()=>we,BE:()=>Te,c9:()=>Ze,PX:()=>Ne});const i="home",s="source",r="library",a="preplay",o="playlists",l="searchResults",c="quickSearchResults",d="metadataList",u="player",p="account",m="plexpass",h="signIn",g="signOut",y="setupWizard",v="downloads",f="unclaimedServer",I="metadataSettings",b="status",M="devices",S="subtitles",E="subtitlesUpload",D="stopServerSession",C="stopServerSessionError",P="playHistory",w="sidebar",T="whatsNew",Z="releaseNotes",N="photoTimeline",A="unknown",x="addToPlaylist",L="watchTogetherInvite",O="watchTogetherItemError",j="usersSharing",k="settings",R="sharing",z="settingsSidebar",U="preferredServer",V="preferredSources",B="dvrSettings",F="dvrSetup",H="dvrGuide",_="dvrSchedule",Q="dvrPriority",G="dvrManageChannels",Y="dvrDeviceSettings",W="dvrAiringDetails",K="manageSubscription",q="confirmMarkAsWatched",$="confirmMarkAsUnwatched",J="confirmDelete",X="confirmOptimizeDatabase",ee="confirmCleanBundles",te="confirmEmptyTrash",ne="confirmDeleteServer",ie="confirmUpgradeLibrary",se="confirmAnalyzeLibrary",re="confirmForceRefreshLibrary",ae="confirmEmptyTrashLibrary",oe="confirmDeleteLibrary",le="confirmRemoveWebhook",ce="confirmUnlinkOauthProvider",de="confirmRemoveDVR",ue="confirmClosePlayer",pe="confirmDeleteSubtitleStream",me="confirmCancelDownload",he="confirmRemoveDownload",ge="confirmAddToHome",ye="confirmResetCustomization",ve="adConsent",fe="confirmUpsell",Ie="confirmUpdateApp",be="confirmPlayback",Me="confirmRemoteToLocalPlayback",Se="confirmLocalToRemotePlayback",Ee="playVersion",De="resumePlayback",Ce="playerError",Pe="liveTVPlayerConflict",we="liveTVJoinSession",Te="castApiMissing",Ze="adConsent",Ne="settings"},22093:(e,t,n)=>{"use strict";n.d(t,{k9:()=>i,QN:()=>s});const i="html",s=[i,"mpv","samsung_avplay","webmaf_video_player"]},98862:(e,t,n)=>{"use strict";n.d(t,{km:()=>i,IY:()=>s,t3:()=>r});const i="hub",s="list",r="view"},18547:(e,t,n)=>{"use strict";n.d(t,{NH:()=>i,E7:()=>s,tG:()=>r,N7:()=>a,Fz:()=>o,zb:()=>l,cb:()=>c,HE:()=>d,bp:()=>u,fK:()=>p,zG:()=>m,f4:()=>h,EJ:()=>g,om:()=>y,WP:()=>v,I2:()=>f,rx:()=>I,hl:()=>b});const i="PLAY",s="PAUSE",r="SEEK",a="STOP",o="PREVIOUS",l="NEXT",c="SKIPTO",d="SHOWDETAILS",u="REFRESHPLAYQUEUE",p="REFRESHSTREAMS",m="SETREPEAT",h="SETSTREAM",g="SETQUALITY",y="SETSUBTITLECOLOR",v="SETSUBTITLEPOSITION",f="SETSUBTITLESIZE",I="SETSUBTITLEOFFSET",b="SETAUTOPLAY"},70871:(e,t,n)=>{"use strict";n.d(t,{pX:()=>s,xF:()=>r,pV:()=>a,ED:()=>l,d2:()=>c});var i=n(44491);const s="video",r="music",a="photo",o={[i.pX]:s,[i.j0]:r,[i.pV]:a};function l(e){return o[e]}function c(e){for(const t in o)if(e===o[t])return t}},41890:(e,t,n)=>{"use strict";n.d(t,{l:()=>i,D:()=>s});const i="cast",s="plex"},43149:(e,t,n)=>{"use strict";n.d(t,{Hn:()=>s,ry:()=>r,QN:()=>a});var i=n(45697);const s=0,r=1,a=2;n.n(i)().oneOf([s,r,a])},79557:(e,t,n)=>{"use strict";n.d(t,{aV:()=>s,IM:()=>r,Hn:()=>a});var i=n(45697);const s="bottom-left",r="top-left",a="none";n.n(i)().oneOf([s,r,a])},44491:(e,t,n)=>{"use strict";n.d(t,{j0:()=>i,pX:()=>s,pV:()=>r,eD:()=>a});const i="audio",s="video",r="photo",a="rom"},79490:(e,t,n)=>{"use strict";n.d(t,{Nf:()=>i,jV:()=>s,Jj:()=>r,uS:()=>a,qB:()=>o,_V:()=>l});const i=5,s=10,r=30,a=5,o=600,l=600},59223:(e,t,n)=>{"use strict";n.d(t,{K:()=>i,y:()=>s});const i="full",s="mini"},52837:(e,t,n)=>{"use strict";n.d(t,{Se:()=>s,pV:()=>r,eD:()=>a,f_:()=>l});var i=n(44491);const s="audioVideo",r="photo",a="rom",o={[i.j0]:s,[i.pX]:s,[i.pV]:r,[i.eD]:a};function l(e){return o[e]}},25168:(e,t,n)=>{"use strict";n.d(t,{H:()=>i});const i="0"},17626:(e,t,n)=>{"use strict";n.d(t,{il:()=>i,Z$:()=>s,rf:()=>r,l9:()=>a,pn:()=>o});const i="stopped",s="playing",r="paused",a="buffering",o="error"},62730:(e,t,n)=>{"use strict";n.d(t,{lq:()=>i,LE:()=>s,FH:()=>r,JL:()=>a,mL:()=>o,Q2:()=>l,zw:()=>c});const i="scrobble",s="save",r="addToCatalog",a="addToWatchlist",o="follow",l="mute",c="rate"},67006:(e,t,n)=>{"use strict";n.d(t,{om:()=>i,aO:()=>s,P8:()=>r,wl:()=>a,HR:()=>o,Yd:()=>l,Ct:()=>c,d3:()=>d,uq:()=>u,IS:()=>p,F5:()=>m,zg:()=>h,Mz:()=>g,zw:()=>y,mo:()=>v,L6:()=>f,kD:()=>I,jN:()=>b});const i="action",s="actions",r="content",a="continuewatching",o="grid",l="imagetranscoder",c="location",d="manage",u="match",p="metadata",m="playqueue",h="playlist",g="promoted",y="rate",v="search",f="settings",I="subscribe",b="timeline"},94803:(e,t,n)=>{"use strict";n.d(t,{HN:()=>i,_N:()=>s,D7:()=>r});const i="download",s="record",r="universal"},17524:(e,t,n)=>{"use strict";n.d(t,{vP:()=>i,Ll:()=>s,zY:()=>r,Y3:()=>a,IS:()=>o,xF:()=>l,Rq:()=>c,HG:()=>d,uk:()=>u,w1:()=>p,QN:()=>m,wB:()=>h});const i="tv.plex.provider.epg",s="tv.plex.providers.epg",r="tv.plex.providers.epg.xmltv",a="com.plexapp.plugins.library",o="tv.plex.provider.metadata",l="tv.plex.provider.music",c="tv.plex.provider.news",d="tv.plex.provider.podcasts",u="tv.plex.provider.vod",p="tv.plex.provider.webshows",m=[i,s,r,a,"com.plexapp.plugins.library.sync",o,l,c,d,u,p];function h(e,t){return!!e&&(Array.isArray(t)||(t=[t]),t.some((t=>-1!==e.indexOf(t))))}},34470:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});const i="livetv"},40822:(e,t,n)=>{"use strict";n.d(t,{Jz:()=>i,Pt:()=>s,x8:()=>r,xy:()=>a});const i="playbackSpeed",s="lineup",r="recentChannelsInGrid",a="numRecentChannelsInGrid"},11023:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={NORMAL:0,LOCAL:42,CLOUD:43}},68187:(e,t,n)=>{"use strict";n.d(t,{Cc:()=>r,Pq:()=>a,oL:()=>l,ZH:()=>c});var i=n(5562),s=n(35981);const r="little_kid",a="unrestricted",o=(0,s.Z)(["identifier"],[{identifier:r,title:()=>(0,i.Z)("Younger Kid"),defaultUsername:()=>(0,i.Z)("Kids")},{identifier:"older_kid",title:()=>(0,i.Z)("Older Kid"),defaultUsername:()=>(0,i.Z)("Kids")},{identifier:"teen",title:()=>(0,i.Z)("Teen"),defaultUsername:()=>(0,i.Z)("Kids")},{identifier:a,title:()=>(0,i.Z)("None"),defaultUsername:()=>""}]),l=o.get,c=o.getAll},17146:(e,t,n)=>{"use strict";n.d(t,{wz:()=>i,c3:()=>s,Lx:()=>r,QQ:()=>a,OQ:()=>o,RZ:()=>l,N6:()=>c,VA:()=>d,S5:()=>u,_q:()=>p});const i="Plex Movie Scanner",s="Plex Music",r="Plex Movie",a="Plex TV Series",o="Plex Music Scanner",l="Plex Photo Scanner",c="Plex Premium Music Scanner",d="Plex Series Scanner",u="Plex Video Files Scanner",p="Plex Game"},83154:(e,t,n)=>{"use strict";n.d(t,{D:()=>i,O:()=>s});const i="/hubs",s="/hubs?identifier=home.continue,home.ondeck"},89410:(e,t,n)=>{"use strict";n.d(t,{uf:()=>i,hA:()=>s,nm:()=>r,WY:()=>a,nZ:()=>o,c9:()=>l});const i="untested",s="pending",r="connected",a="unauthorized",o="unavailable",l="aborted"},35589:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});const i="myPlex"},78831:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const i={AUTO:"auto",AVOID:"avoid",ALWAYS:"always",NEVER:"never"};i.settings=[{value:i.AUTO,title:"Automatic"},{value:i.AVOID,title:"Only image formats"},{value:i.ALWAYS,title:"Always"}];const s=i},99038:(e,t,n)=>{"use strict";n.d(t,{OR:()=>i,In:()=>s,E7:()=>r,gk:()=>a,tG:()=>o});const i="join",s="leave",r="pause",a="resume",o="seek"},36171:(e,t,n)=>{"use strict";n.d(t,{k9:()=>i,rS:()=>s});const i="html",s="plain"},96909:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(5562);const s={NONE:0,TV_ONLY:1,TV_AND_DVR:2};s.options={[s.NONE]:()=>(0,i.Z)("No Live TV and DVR access"),[s.TV_ONLY]:()=>(0,i.Z)("Allow Live TV only"),[s.TV_AND_DVR]:()=>(0,i.Z)("Allow Live TV and DVR access")},s.values=Object.keys(s.options).map((e=>({[e]:s.options[e]})));const r=s},45399:(e,t,n)=>{"use strict";n.d(t,{d6:()=>i,Ks:()=>s,JO:()=>r,Fq:()=>a,XA:()=>o,EM:()=>l,m9:()=>c,km:()=>d,Ah:()=>u,Ao:()=>p,OV:()=>m,Pv:()=>h,C1:()=>g,wz:()=>y,VA:()=>v,eT:()=>f,lX:()=>I,PL:()=>b,Ed:()=>M,iU:()=>S,jq:()=>E,LD:()=>D,CG:()=>C,vm:()=>P,Z5:()=>w,_t:()=>T,q1:()=>Z,sy:()=>N,aB:()=>A,Bs:()=>x,ZM:()=>L,cU:()=>O,EZ:()=>j,EQ:()=>k,lY:()=>R,$T:()=>z,TE:()=>U,KH:()=>V});const i="32cc8bf5-b425-4582-a52d-71b4f1cf436b",s="de789b83-9c5e-4472-bccf-791c69e67500",r="64ed42f8-259d-4957-8530-0fff2d846cd0",a="7c4200b1-a2ab-4803-adcd-6c36b22a9269",o="6f82ca43-6117-4e55-ae0e-5ea3b3e99a96",l="bb50c92f-b412-44fe-8d8a-b1684f212a44",c="b612f571-83c3-431a-88eb-3f05ce08da4a",d="222020fb-1504-492d-af33-a0b80a49558a",u="4bdcac7b-f25b-43b3-93d8-2bbcb9605fd7",p="644c4466-05fa-45e0-a478-c594cf81778f",m="75e95ee5-b482-4b02-aeff-a9faf13ead64",h="01ba4bb1-0d08-4758-b9f1-7df92631e4c1",g="f8484f94-92a8-4ca4-9f43-e83ab3f586c7",y="f3235e61-c0eb-4718-ac0a-7d6eb3d8ff75",v="298a11d3-9324-4104-8047-0ac10df4a8a6",f="4742780c-af9d-4b44-bf5b-7b27e3369aa8",I="76d69375-82b0-4b9a-871e-655f81d694af",b="67c80530-eae3-4500-a9fa-9b6947d0f6d1",M="5c1951bf-ccf1-4821-8ee7-e50f51218ae7",S="3bfd3ccf-8c63-4dbb-8f87-9b21b402c82b",E="43725019-9122-4a6d-bc50-bca06a411b7a",D="d8810b38-ec9b-494c-8555-3df6e365dfbd",C="43938a71-1295-46e9-918f-b6c4b0302011",P="65685ff8-4375-4e4c-a806-ec1f0b4a8b7f",w="6ab6677b-ad9b-444f-9ca1-b8027d05b3e1",T="b83c8dc9-5a01-4b7a-a7c9-5870c8a6e21b",Z="02da2909-ddfd-46be-9e42-65008a79fc05",N="nonAnonymousAccount",A="e352c12b-5165-4691-9ab7-70d6ea24e8e4",x="65faa2d0-f57e-4c63-a6b6-f1baa48951b1",L="4e27cf82-9fb6-4ebe-8e10-c48bfe6fbbb6",O="20824f5c-6dd9-4655-9970-e7701a73c02a",j="fd6683b9-1426-4b00-840f-cd5fb0904a6a",k="9a67bff2-cb80-4bf9-81c6-9ad2f4c78afd",R="13056a62-9bd2-47cf-aba9-bab00095fd08",z="b77e6744-c18d-415a-8e7c-7aac5d7a7750",U="3c376154-d47e-4bbf-9428-2ea2592fd20a",V="f3a99481-9671-4274-a0d3-4c06a72ef746"},22923:(e,t,n)=>{"use strict";n.d(t,{K:()=>i,M:()=>s});const i="relay",s="upsell"},90296:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});const i="tidal"},12610:(e,t,n)=>{"use strict";n.d(t,{iN:()=>i,zK:()=>s,J$:()=>r,j5:()=>a,Ku:()=>o,ZP:()=>l});const i="active",s="inactive",r="canceled",a="pending_cancellation",o="ended",l=[i,s,r,a,"lapsed",o]},1547:(e,t,n)=>{"use strict";n.d(t,{VW:()=>i,G5:()=>s,sQ:()=>r,ZP:()=>a});const i="arcade",s="plexpass",r="tidal",a=[i,s,r]},15730:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TONE_MAPPING:()=>i});const i="toneMapping"},32707:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(13469),s=n.n(i),r=n(47909),a=n(14e3),o=n(94902),l=n(46277),c=n(41105),d=n(48653),u=n(69881),p=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable;const g={uri:function(e,t){const n=t&&t.items;if(n&&n.length){if(n.length>1)return this.getBatchLibraryMetadataURI(n,t);e||(e=s().first(n))}if(e instanceof a.ZP.Model){if(e.get("isSection"))return this.getSectionURI(e,t);if(e.get("isMetadataList"))return this.getMetadataListURI(e,t);if(e.get("isPlaylist"))return this.getPlaylistURI(e,t)}return this.getLibraryMetadataURI(e,t)},parseLibraryUri:function(e){const t=r.Z.getLastSegment(e),n=decodeURIComponent(t).match(/(\/library\/sections\/\w+)\/all(?:\?(.*))?/),[,i,s=""]=n,a={};for(const e of s.split("&")){const[t,n]=e.split("=");t.startsWith("include")||(a[t]=n)}const{type:o,sourceType:l,sort:c,limit:d}=a,u=((e,t)=>{var n={};for(var i in e)p.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&m)for(var i of m(e))t.indexOf(i)<0&&h.call(e,i)&&(n[i]=e[i]);return n})(a,["type","sourceType","sort","limit"]);return{sectionKey:i,type:o,sourceType:l,sort:c,limit:d,filterString:Object.entries(u).map((([e,t])=>`${e}=${t}`)).join("&")}},getSectionURI:function(e,t){const n=s().result(e,"url"),i=e.get("currentSubset"),a=e.get("currentFolderKey"),o=e.get("currentType");let l;if("folder"===i.id)l=a||r.Z.join([n,"all"]);else{const t=e.get("items"),s=t.getParams();s.type&&delete s.type,s.timelineState&&delete s.timelineState,s.unwatchedLeaves&&(s[(0,u.getLeafType)(e.get("type")).typeString+".unwatched"]=1,delete s.unwatchedLeaves),o&&(s.sourceType=o.id),l=r.Z.join([n,i.id],s),l=t.replaceSpecialFilterOperators(l)}return this._resolveURI({prefix:"library",parts:[e.get("uuid"),"directory",l]})},getBatchLibraryMetadataURI:function(e,t){const n=this._getSectionInfo(s().first(e)),i="/library/metadata/"+s().map(e,(function(e){return e.get("ratingKey")})).join(",");return this._resolveURI({prefix:"library",parts:[n.sectionUUID,"directory",i]})},getLibraryMetadataURI:function(e,t){t||(t={});const n=this._getSectionInfo(e);let i,a=s().result(e,"url");return t.excludeSeedItem&&(a=r.Z.join(a,{excludeSeedItem:1})),i=e.models||e.collectionName||e instanceof o.Z?"directory":e.get("radio")?"station":"item",this._resolveURI({prefix:"library",parts:[n.sectionUUID,i,a]})},getMetadataListURI:function(e,t){t||(t={});const n=this._getSectionInfo(e);return this._resolveURI({prefix:"library",parts:[n.sectionUUID,"directory",r.Z.join(e.get("containerKey"),{sourceType:t.sourceType})]})},getPlaylistURI:function(e,t){return this._resolveURI({prefix:"playlist",parts:["",e.get("guid")]})},title:function(e,t){const n=t&&t.items;if(n&&n.length){if(n.length>1)return this.getBatchLibraryMetadataTitle(n,t);e=s().first(n)}return e.get("isSection")?this.getSectionTitle(e,t):e.get("isMetadataList")?this.getMetadataListTitle(e,t):this.getLibraryMetadataTitle(e,t)},getSectionTitle:function(e){const t=e.get("title"),n=e.get("currentSubset"),i=e.get("currentFilters");return"all"!==n.id?t+": "+n.get("title"):i.length?t+": "+s().flatten(s().map(i,(function(e){return e.titles}))).join(", "):t},getMetadataListTitle:function(e){return e.get("containerTitle")||e.get("title")},getBatchLibraryMetadataTitle:function(e){const t=s().map(e,(function(e){return e.get("title")}));return(0,d.Z)(t)},getLibraryMetadataTitle:function(e){const t=e.get("grandparentTitle")||e.get("parentTitle");let n=e.get("title");return t&&(n=t+" - "+n),"episode"===e.get("type")&&(n+=" ("+(0,l.Z)({seasonIndex:e.get("parentIndex"),episodeIndex:e.get("index"),date:e.get("originallyAvailableAt"),noLeadingZero:!0,separator:" "})+")"),n},_resolveURI:function(e){const t=e.parts,n=s().map(t,(function(e){return e?encodeURIComponent(e):""}));return e.prefix+"://"+n.join("/")},_getSectionInfo:function(e){let t=e.get("librarySectionUUID"),n=e.get("librarySectionID");if(!t||!n){const i=(0,c.Z)(e);s().isEmpty(i)||(t=i.get("uuid"),n=i.id)}return{sectionUUID:t,sectionID:n}}}},45435:(e,t,n)=>{"use strict";n.d(t,{y:()=>s,X:()=>r});var i=n(66050);function s(e){return a({hubIdentifier:e.get("hubIdentifier"),identifier:e.provider.get("identifier"),machineIdentifier:e.server.get("machineIdentifier")})}function r(e,t,n){const{hubIdentifier:i}=e,{identifier:s}=t,{machineIdentifier:r}=n;return a({hubIdentifier:i,identifier:s,machineIdentifier:r})}function a(e){const{identifier:t,hubIdentifier:n,machineIdentifier:s}=e;return`${s}--${t}--${(0,i.Z)(n)}`}},46572:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(77349),s=n(78343),r=n(58545),a=n(91523),o=n(61973),l=n(63500),c=n(21593),d=n(42227),u=n(42902);const p={days:i.Z,hours:s.Z,minutes:r.Z,months:a.Z,seconds:o.Z,weeks:l.Z,years:c.Z};function m(e,t={}){let n=(0,d.Z)(e);for(const e in t)n=p[e](n,t[e]);return(0,u.Z)(n)}},96263:(e,t,n)=>{"use strict";n.d(t,{DF:()=>i,_G:()=>s,ZP:()=>c});const i=30,s=365,r=36e5,a=24*r,o=["years","months","days","hours","minutes","seconds","milliseconds"],l={years:a*s,months:a*i,days:a,hours:r,minutes:6e4,seconds:1e3,milliseconds:1};function c(e){const t=e<0?-1:1,n={};let i=e*t,s=-1;for(;++s<o.length;){const e=o[s],r=l[e],a=Math.floor(i/r);n[e]=a&&a*t,i%=r}return n}},31212:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(64381);const s=function(e,t="MMMM d, yyyy"){return e?(0,i.Z)(e,t):""}},7378:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(13469),s=n.n(i),r=n(96263);const a=function(e){if(e<=0||!s().isNumber(e))return"0:00";const t=(0,r.ZP)(e),n=t.seconds,i=t.minutes,a=t.hours+24*t.days;let o="";return o=n<10?":0"+n:":"+n,o=i<10&&a>0?"0"+i+o:i+o,a>0&&(o=a+":"+o),o}},78188:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(61973),s=n(42227),r=n(42902),a=n(5562);const o=function(e,t){return function(e,{limit:t}={},n=!1){if(!e)return"";const o=new Date;e=Math.round(e),"past"===t?e=Math.min(e,(0,r.Z)(o)):"future"===t&&(e=Math.max(e,(0,r.Z)((0,i.Z)(o,1))));const l=(0,s.Z)(e).getTime()-o.getTime();let c;return c="future"===t||"past"!==t&&l>0,function({milliseconds:e,isShorthand:t,isFuture:n}){let i=Math.abs(e)/1e3;i&&(i=i<1?1:Math.round(i));const s=Math.round(i/60),r=Math.round(s/60),o=Math.round(r/24),l=Math.round(o/30),c=Math.round(o/365),d={seconds:i,minutes:s,hours:r,days:o,months:l,years:c},u={unitOfTime:i<=44&&(t?(0,a.Z)("{seconds}s",d):(0,a.Z)("a few seconds",d))||i<45&&(t?(0,a.Z)("{seconds}s",d):(0,a.Z)("{seconds} seconds",d))||s<=1&&(t?(0,a.Z)("{minutes}m",d):(0,a.Z)("a minute",d))||s<45&&(t?(0,a.Z)("{minutes}m",d):(0,a.Z)("{minutes} minutes",d))||r<=1&&(t?(0,a.Z)("{hours}h",d):(0,a.Z)("an hour",d))||r<22&&(t?(0,a.Z)("{hours}h",d):(0,a.Z)("{hours} hours",d))||o<=1&&(t?(0,a.Z)("{days}d",d):(0,a.Z)("a day",d))||o<26&&(t?(0,a.Z)("{days}d",d):(0,a.Z)("{days} days",d))||l<=1&&(t?(0,a.Z)("{months}mo",d):(0,a.Z)("a month",d))||l<11&&(t?(0,a.Z)("{months}mo",d):(0,a.Z)("{months} months",d))||c<=1&&(t?(0,a.Z)("{years}y",d):(0,a.Z)("a year",d))||(t?(0,a.Z)("{years}y",d):(0,a.Z)("{years} years",d))};return n?(0,a.Z)("in {unitOfTime}",u):(0,a.Z)("{unitOfTime} ago",u)}({milliseconds:l,isShorthand:n,isFuture:c})}(e,{limit:"past"},t)}},52752:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(64381),s=n(42227);const r=function(e,t="MMMM d, yyyy"){return e?(0,i.Z)((0,s.Z)(e),t):""}},21918:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(42902),s=n(46572);function r(e,t={}){return null!=e&&(0,s.Z)((0,i.Z)(new Date),t)<=e}},96515:(e,t,n)=>{"use strict";function i(e){return!!e&&"string"==typeof e&&Date.now()>=new Date(e).getTime()}n.d(t,{Z:()=>i})},30084:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(42902),s=n(46572);function r(e,t={}){return null!=e&&(0,s.Z)((0,i.Z)(new Date),t)>=e}},46937:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e,t){return t?`${e}:${t}`:e}},51382:(e,t,n)=>{"use strict";n.d(t,{Pe:()=>r,L7:()=>a,ZP:()=>o});var i=n(2262),s=n(85790);const r="D100",a="D200";function o(){return i.Z.isHostedHttps||s.lv(window.location.hostname)?a:i.Z.isHostedHttps?"D300":r}},64542:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s}),n(67038);var i=n(96242);const s=function(e){return{"X-Plex-Drm":e||i.NONE}}},70560:(e,t,n)=>{"use strict";n.d(t,{gU:()=>i,pu:()=>s,PF:()=>r,E$:()=>a,p0:()=>o,t2:()=>l,SK:()=>c,Ne:()=>d,ZP:()=>u});const i="=",s="!=",r="==",a="!==",o=">>=",l="<<=",c=">>=-",d="<<=-",u=[i,s,r,a,">=","<=",o,l,c,d]},24207:(e,t,n)=>{"use strict";n.d(t,{Kg:()=>i,jd:()=>s,IX:()=>r,Hu:()=>a,Si:()=>o});const i="tag",s="string",r="boolean",a="date",o="rating"},58730:(e,t,n)=>{"use strict";n.d(t,{I:()=>i,w:()=>s});const i="boolean",s="other"},23736:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i,OR:()=>s});const i="&",s=","},52331:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(13469),s=n.n(i),r=n(20112),a=(n(67038),n(58730)),o=Object.assign,l=n(70560),c=n(23736);const d=`([^&!=<>]+)(${l.ZP.sort(((e,t)=>t.length-e.length)).map(r.Z).join("|")})([^&]+)?`,u=new RegExp(d,"g"),p=new RegExp(d),m={unwatched:!0,unwatchedLeaves:!0,unmatched:!0,duplicate:!0,inProgress:!0,hdonly:!0,hdr:!0};function h(e){if(!e)return[];const t=decodeURIComponent(e).match(u);return t?t.reduce(((e,t)=>{const n=t.match(p),[,i,r,l]=n||[];let d=l?s().uniq(l.split(c.OR)):"";return 1===d.length&&(d=d[0]),function(e,t,n){const i=[...e];if(n.type===a.I){const e=s().findIndex(i,(e=>e.key===t)),r=-1===e?0:e,a=o({key:t},n);-1===e?i.push(a):i.splice(r,1,a)}else s().findWhere(i,{key:t,value:n.value})||i.push(o({key:t},n));return i}(e,i,{value:d,type:m[i]?a.I:a.w,operator:r})}),[]):[]}},46525:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(13469),s=n.n(i),r=(n(67038),n(70560)),a=n(23736);let o,l;function c(e,t){if(s().isEmpty(e))return;if(e===o)return l;const n=e.map((({key:e,value:n,operator:i=r.gU})=>{let s;s=t?Array.isArray(n)?n.join(a.OR):n:Array.isArray(n)?n.map(encodeURIComponent).join(a.OR):encodeURIComponent(n);const o=i.lastIndexOf(r.gU),l=i.substr(0,o),c=i.substr(o+1,i.lastIndexOf(r.gU));return encodeURIComponent(e)+encodeURIComponent(l)+r.gU+encodeURIComponent(c)+s}),[]);return o=e,l=n.join(a.Y),l}},20023:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(95113);function s(e,t,n="message"){if(!e)return t;const s=i.Z.parseXML(e.responseText);return s&&s[n]?s[n]:t}},78636:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(56442);function s(e){return function(e){return!!e&&(!!e.get("isCloud")||e.supports("json")&&!e.get("onlyXML")&&!e.get("isMobileServer"))}(e)?i.AV:i.Ls}},16014:(e,t,n)=>{const i=n(31212).Z,s=n(44213);e.exports=s(i)},32115:(e,t,n)=>{const i=n(52752).Z,s=n(44213);e.exports=s(i)},34018:e=>{e.exports=function(e){return encodeURIComponent(e||"")}},78356:e=>{e.exports=function(e,t,n){return e===t?n.fn(this):n.inverse(this)}},94271:e=>{e.exports=function(e,t,n){return Array.isArray(e)&&e.includes(t)?n.fn(this):n.inverse(this)}},84772:e=>{e.exports=function(e,t,n){return e!==t?n.fn(this):n.inverse(this)}},51030:(e,t,n)=>{const i=n(39247).Z,s=n(44213);e.exports=s(i)},62782:(e,t,n)=>{const i=n(10825).Z,s=n(44213);e.exports=s(i)},63208:(e,t,n)=>{const i=n(69713).Z,s=n(44213);e.exports=s(i)},54614:(e,t,n)=>{const i=n(52224).Z,s=n(44213);e.exports=s(i)},46178:(e,t,n)=>{const i=n(13469),s=n(40202);e.exports=function(e,t){const n=s.partials[e],r=i.extend({},t.hash.context||this,t.hash);return new s.SafeString(n(r))}},1780:(e,t,n)=>{const i=n(19816).Z,s=n(44213);e.exports=s(i)},11178:(e,t,n)=>{const i=n(55028).Z,s=n(44213);e.exports=s(i)},36433:(e,t,n)=>{const i=n(53221).Z,s=n(44213);e.exports=s(i)},12498:(e,t,n)=>{const i=n(1495).Z,s=n(44213);e.exports=s(i)},44213:(e,t,n)=>{const i=n(13469);e.exports=function(e){return function(){return e.apply(this,i.initial(arguments))}}},76273:(e,t,n)=>{const i=n(13469),s=n(5562).Z,r=n(40202);e.exports=function(){const e=i.initial(arguments).concat({escape:!0}),t=i.last(arguments).hash;return i.isObject(t)&&!i.isEmpty(t)&&e.splice(1,0,t),new r.SafeString(s.apply(s,e))}},49412:e=>{const t=`id${Date.now()}`;let n=0;e.exports=function(e){return`${e||t}${n++}`}},51447:(e,t,n)=>{const i=n(47909).Z.getLastSegment,s=n(44213);e.exports=s(i)},48523:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(67038);function s(e,t){(0,i.Z)(null!=e,"No `version` supplied to `isVersionOrNewer`."),(0,i.Z)(null!=t,"No `minVersion` supplied to `isVersionOrNewer`. Have you misspelled a constant?");const n=t.split("."),s=e.split(".");for(let e=0,t=n.length;e<t;e++)if(e<s.length){const t=parseInt(n[e],10),i=parseInt(s[e],10);if(t<i)return!0;if(t>i)return!1}return!0}},9481:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e,t){if(e===t)return 0;const n=e.split("."),i=t.split(".");for(let e=0;e<n.length;e++){if(!i[e])return 1;const t=parseInt(n[e],10),s=parseInt(i[e],10);if(t>s)return 1;if(t<s)return-1}return 0}},19623:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return`${e.beginsAt}-${e.channelIdentifier}-${e.endsAt}`}},18206:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e,t,n){let i=n;if(e.Part.length>1)for(let n=0,s=e.Part.length;n<s;n++){const s=e.Part[n];if(!s.duration)break;if(t.key===s.key)break;i+=s.duration}return i}},40074:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(64381),s=n(55855),r=n(78966),a=n(19013),o=n(77606),l=n(5562);const c=function(e){let t=e.episodeIndex;if(t>0||0===t)return e.noLeadingZero||(t=(0,o.Z)(t)),e.useLongName?(0,l.Z)("Episode {episodeNumber}",{episodeNumber:t}):(0,l.Z)("E{episodeNumber}",{episodeNumber:t});if(e.date&&e.dateFormat)return(0,i.Z)((0,a.Z)(e.date),e.dateFormat);if(e.date){const t=(0,a.Z)(e.date);return(0,l.Z)("{monthNumber}/{dayNumber}/{shortYear}",{monthNumber:(0,r.Z)(t)+1,dayNumber:(0,s.Z)(t),shortYear:(0,i.Z)(t,"yy")})}return""}},64335:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(13469),s=n.n(i);const r=function(e,t){let n;if(e.Part.length>1){let i=0;for(let s=0,r=e.Part.length;s<r&&(n=e.Part[s],n.duration)&&(i+=n.duration,!(i>t));s++);}else n=s().first(e.Part);return n}},89335:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e,t){return e>t?50:e<=0||t<=0?0:parseFloat((e/t*100).toFixed(2))}},97645:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e,t,n){let i=n;if(e.Part.length>1)for(let n=0,s=e.Part.length;n<s;n++){const s=e.Part[n];if(!s.duration)break;if(t.key===s.key)break;i-=s.duration}return i}},46277:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(64381),s=n(55855),r=n(78966),a=n(19013),o=n(77606),l=n(5562);const c=function(e){let t=e.seasonIndex,n=e.episodeIndex;if((n>0||0===n)&&t<1e3){e.noLeadingZero||(t=(0,o.Z)(t),n=(0,o.Z)(n));const i=e.separator;return e.useLongName?`${(0,l.Z)("Season {seasonNumber}",{seasonNumber:t})}${i||" "}${(0,l.Z)("Episode {episodeNumber}",{episodeNumber:n})}`:`${(0,l.Z)("S{seasonNumber}",{seasonNumber:t})}${i||""}${(0,l.Z)("E{episodeNumber}",{episodeNumber:n})}`}if(e.date){const t=(0,a.Z)(e.date);return(0,l.Z)("{monthNumber}/{dayNumber}/{shortYear}",{monthNumber:(0,r.Z)(t)+1,dayNumber:(0,s.Z)(t),shortYear:(0,i.Z)(t,"yy")})}return""}},85480:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(77606),s=n(5562);const r=function(e){let t=e.seasonIndex;return null==t?"":t>1e3?t:(e.noLeadingZero||(t=(0,i.Z)(t)),e.useLongName?(0,s.Z)("Season {seasonNumber}",{seasonNumber:t}):(0,s.Z)("S{seasonNumber}",{seasonNumber:t}))}},41105:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(13469),s=n.n(i),r=n(60963);function a(e,t={}){const{onlyIfCached:n=!0}=t;if(!e)return;if(e.section)return e.section;if(e.get("isSection"))return e;const i=e.get("librarySectionID");if(i){const t=new r.Z({key:i},{server:e.server,onlyIfCached:n});return s().isEmpty(t)?void 0:t}return e.parent?a(e.parent,t):void 0}},84642:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(13469),s=n.n(i),r=n(73004),a=n(98851);const o=function(e){const t=r.Z.get("audio").id,n=(0,a.Z)(e,{streamType:t,selected:!0});return s().first(n)}},6731:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(25168),s=n(73004),r=n(98851);const a=function(e){return(0,r.Z)(e,{streamType:s.Z.get("subtitles").id}).filter((e=>e.selected&&e.id!==i.H))[0]}},1088:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(13469),s=n.n(i),r=n(73004),a=n(98851);const o=function(e){const t=r.Z.get("video").id,n=(0,a.Z)(e,{streamType:t});return s().first(n)}},98851:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(13469),s=n.n(i);const r=function(e,t){const n=[];if(e){const i=s().first(e.Part);i&&i.Stream&&n.push.apply(n,s().where(i.Stream,t))}return n}},84616:(e,t,n)=>{"use strict";function i(e){return/^(idx|pgs|vobsub)$/i.test(e)}n.d(t,{Z:()=>i})},96026:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var i=n(19755),s=n.n(i),r=n(13469),a=n.n(r),o=(n(67038),n(69434)),l=n(11023),c=n(78831);var d=n(84642),u=n(6731),p=n(1088),m=n(98851),h=n(84616),g=n(33232),y=n(73571),v=n(5562),f=n(73004);const I={getMediaDecision:function(e){const t=this.augmentProfile(e);if(o.Z.info("[MDE] Augmented profile:",t),e.media)return this.analyzeMedia(e.media,t,e);const n=e.item.get("Media");if(!n.length)return{transcodeServer:e.transcodeServer,canPlay:!0,canDirectPlay:!0};if(1===n.length)return this.analyzeMedia(a().first(n),t,e);const i=a().map(n,(function(n){return this.analyzeMedia(n,t,e)}),this);return this.getBestDecision(i)},augmentProfile:function(e){const t=e.profile;if(!t)throw new Error("MDE: No player profile provided for "+e.type);const n=e.type===y.Z.types.VIDEO,i=s().extend(!0,{},t.directPlay),r=s().extend(!0,{},t.directStream),o=i.generic;o&&delete i.generic;let l=e.allowedAC3Containers;const c="*"===l;!c&&l&&(l=Array.isArray(l)?l:[l]);let d=e.allowedEAC3Containers;const u="*"===d;!u&&d&&(d=Array.isArray(d)?d:[d]);let p=e.allowedDCAContainers;const m="*"===p;!m&&p&&(p=Array.isArray(p)?p:[p]);let h=e.allowedTrueHDContainers;const g="*"===h;return!g&&h&&(h=Array.isArray(h)?h:[h]),a().each(i,(function(t,i){this.mergeGenericOptions(t,o),this.mergeMaxQualityOptions(t,e),(c||l&&a().contains(l,i))&&this.addAudioCodec("ac3",t,e),(u||d&&a().contains(d,i))&&this.addAudioCodec("eac3",t,e),(m||p&&a().contains(p,i))&&this.addAudioCodec("dca",t,e),(g||h&&a().contains(h,i))&&this.addAudioCodec("truehd",t,e);const s=t[y.Z.getStreamByType(e.type)];if(s){const t=s.codecs;a().each(t,(function(t,n){this.mergeMaxQualityOptions(t,e,!0),e.videoCodecOptions&&e.videoCodecOptions[n]&&this.mergeCodecOptions(t,e.videoCodecOptions[n])}),this)}const r=n&&t.audio;if(r&&e.audioCodecOptions){const t=r.codecs;a().each(t,(function(t,n){e.audioCodecOptions[n]&&this.mergeCodecOptions(t,e.audioCodecOptions[n])}),this)}}),this),this.mergeMaxQualityOptions(r,e),n&&(e.videoCodecOptions&&r.video&&a().each(r.video.codecs,(function(t,n){e.videoCodecOptions[n]&&this.mergeCodecOptions(t,e.videoCodecOptions[n])}),this),e.audioCodecOptions&&r.audio&&a().each(r.audio.codecs,(function(t,n){e.audioCodecOptions[n]&&this.mergeCodecOptions(t,e.audioCodecOptions[n])}),this)),{directPlay:i,directStream:r}},mergeGenericOptions:function(e,t){t&&(a().defaults(e,a().omit(t,"video","audio")),a().each(["audio","video"],(function(n){const i=t[n];let s=e[n];i&&(s||(s={},e[n]=s),a().defaults(s,a().omit(i,"codecs")),i.codecs&&a().each(i.codecs,(function(e,t){a().defaults(this.ensureCodecs(t,s),e)}),this))}),this))},mergeCodecOptions:function(e,t){a().each(t,(function(t,n){e[n]=t}),this)},ensureCodecs:function(e,t){return t.codecs||(t.codecs={}),t.codecs[e]||(t.codecs[e]={}),t.codecs[e]},mergeMaxQualityOptions:function(e,t,n){a().each([{option:"bitrate",setting:"maxBitrate"},{option:"videoResolution",setting:"maxVideoResolution"}],(function(i){if("videoResolution"===i.option&&t.type!==y.Z.types.VIDEO)return;const s=this.getMaxQualityOption(e,i.option,t);if(null==s)return;const r=i.setting,a=y.Z.getStreamByType(t.type);e.hasOwnProperty(r)?e[r]=s:e.hasOwnProperty(a)?e[a][r]=s:n||(e[a]={},e[a][r]=s)}),this)},getMaxQualityOption:function(e,t,n){const i=n.quality||{},s="max"+t.charAt(0).toUpperCase()+t.slice(1);let r=i[t];const a=this.getPrimaryStreamProperty(e,s,n);if("videoResolution"===t&&r&&(r=g.Z.getResolutionFromSize(r)),"bitrate"===t){const e=n.item.server.get("maxUploadBitrate");e&&(!r||e<r)&&(r=e)}if(r||a){let e;return e=r&&a?Math.min(r,a):r||a,e}},addAudioCodec:function(e,t,n){t.audio||(t.audio={}),this.ensureCodecs(e,t.audio)},analyzeMedia:function(e,t,n){o.Z.info("[MDE] Starting analysis of",this.getMediaTitle(e)),(0,o.Z)("[MDE] Analyzing direct play");const i=this.canDirectPlay(e,t.directPlay,n);i.result||(0,o.Z)("[MDE] Cannot direct play:",i.failedCheck);const s={finalProfile:t,transcodeServer:n.transcodeServer,preferredDirectPlayProtocol:n.preferredDirectPlayProtocol,item:n.item,media:e,canDirectPlay:i.result,canDirectPlayFailedCheck:i.failedCheck,canDisplayHDR:!!n.canDisplayHDR,canDisplayDolbyVision:!!n.canDisplayDolbyVision};let r=n.transcoderOptions||{};if(a().isFunction(r)&&(r=r(s)),n.type===y.Z.types.VIDEO){(0,o.Z)("[MDE] Analyzing video direct stream");const i=(0,p.Z)(e);if(i){const e=this.canDirectStreamVideo(i,t.directStream.video,n,r);s.canDirectStreamVideo=e.result,s.canDirectStreamVideoFailedCheck=e.failedCheck}}if(n.type!==y.Z.types.PHOTO){(0,o.Z)("[MDE] Analyzing audio direct stream");const i=(0,d.Z)(e);if(i){const e=this.canDirectStreamAudio(i,t.directStream.audio,n,r);s.canDirectStreamAudio=e.result,s.canDirectStreamAudioFailedCheck=e.failedCheck}}const l=(0,u.Z)(s.media);return l&&((0,o.Z)("[MDE] Analyzing subtitles"),a().extend(s,this.analyzeSubtitles(l,n))),(0,o.Z)("[MDE] Analyzing playability"),a().extend(s,this.canPlay(s,n)),a().extend(s,this.getEffectiveQuality(e,t.directStream,n)),(0,o.Z)("[MDE] Finished analysis of:",this.getMediaTitle(e),this.getDecisionLogs(s)),s},canDirectPlay:function(e,t,n){if(n.forceDirectPlay)return(0,o.Z)("[MDE] Direct play forced"),{result:!0};if(!1===n.allowDirectPlay&&!n.transcodeServer.get("isCloud"))return o.Z.warn("[MDE] Direct play failed; option is disabled"),{result:!1,failedCheck:"allowDirectPlay"};if(n.type===y.Z.types.VIDEO&&!this.canDirectPlayVideo(e,n))return{result:!1,failedCheck:"canDirectPlayVideo"};const i=t[e.container];if(!i)return o.Z.warn("[MDE] Direct play failed; unsupported container:",e.container),{result:!1,failedCheck:"containerProfile"};const s=a().keys(i);if(s&&s.length){for(let t=0,r=s.length;t<r;t++){const r=s[t],l=i[r];if("mimeType"===r){if(!n.skipCanPlayTypeTest&&!this.canPlayType(y.Z.getElementByType(n.type),l))return o.Z.warn("[MDE] Direct play failed; canPlayType test, %s: %s",r,l),{result:!1,failedCheck:"canPlayType"}}else if("video"===r||"audio"===r){const t=f.Z.get(r),i=(0,m.Z)(e,{streamType:t.id}),s="video"===r?(0,p.Z)(e):(0,d.Z)(e);if(!s){o.Z.warn("[MDE] No stream selected; will not be able to analyze stream codecs");continue}if("audio"===r&&s!==i[0]&&!n.allowMultiTrackAudio)return o.Z.warn("[MDE] Direct play failed; multi-track audio is required"),{result:!1,failedCheck:"allowMultiTrackAudio"};const a=this.analyzeStream(s,l,n);if(!a.result)return{result:!1,failedCheck:a.failedCheck}}else if("photo"===r){const t=this.analyzeStream(a().first(e.Part),l,n);if(!t.result)return{result:!1,failedCheck:t.failedCheck}}else if(!this.validateProfileProperty(r,l,e))return{result:!1,failedCheck:`validateProfileProperty:${r}`}}return{result:!0}}return{result:!0}},canDirectPlayVideo:function(e,t){return t.allowDirectPlay||t.transcodeServer.get("isCloud")?"hls"!==e.protocol||t.hasNativeHLS?"flv"!==e.container||t.hasFlash?!("dash"===e.protocol&&!t.hasDASH&&(o.Z.warn("[MDE] Direct play failed; cannot play DASH"),1)):(o.Z.warn("[MDE] Direct play failed; cannot play FLV"),!1):(o.Z.warn("[MDE] Direct play failed; cannot play HLS"),!1):(o.Z.warn("[MDE] Direct play failed; option is disabled"),!1)},canPlayType:function(e,t){if(e===y.Z.elements.PHOTO)return!0;const n=document.createElement(e);return!(!n.canPlayType||!n.canPlayType(t).replace(/^no$/,""))},canDirectStreamVideo:function(e,t,n,i){return i.directStream||n.transcodeServer.get("isCloud")?this.analyzeStream(e,t,n):(o.Z.warn("[MDE] Direct stream video failed; option is disabled"),{result:!1,failedCheck:"options:directStream"})},canDirectStreamAudio:function(e,t,n,i){return i.directStreamAudio||n.transcodeServer.get("isCloud")?this.analyzeStream(e,t,n):(o.Z.warn("[MDE] Direct stream audio failed; option is disabled"),{result:!1,failedCheck:"options:directStreamAudio"})},analyzeStream:function(e,t,n){const i=t&&t.codecs&&t.codecs[e.codec];for(const s in t){const r=t[s];if("codecs"===s){const t=r[e.codec];if(!t)return{result:!1,failedCheck:`noCodecInProfile:${e.codec}`};const i=this.analyzeStream(e,t,n);if(!i.result)return{result:!1,failedCheck:i.failedCheck}}else if(!(i&&s in i||this.validateProfileProperty(s,r,e)))return{result:!1,failedCheck:`validateProfileProperty:${s}`}}return{result:!0}},validateProfileProperty:function(e,t,n){const i=e.match(/^(min|max)(\w)(\w*)/);let s;if(i){const r="min"===i[1],a="max"===i[1];if(s=n[e=i[2].toLowerCase()+i[3]],null==s&&o.Z.warn("[MDE] Unable to validate %s; re-analyze the media if possible",e),null!=s&&"videoResolution"===e&&(s=g.Z.getHeightFromResolution(s),t=g.Z.getHeightFromResolution(t)),null!=s){if(r&&s<t)return o.Z.warn("[MDE] Invalid profile property; %s: %s < %s",e,s,t),!1;if(a&&s>t)return o.Z.warn("[MDE] Invalid profile property; %s: %s > %s",e,s,t),!1}}else if(s=n[e],null==s&&o.Z.warn("[MDE] Unable to validate %s; re-analyze the media if possible",e),s!==t&&!a().contains(t,s))return o.Z.warn("[MDE] Invalid profile property; %s: %s !== %s",e,s,t),!1;return!0},analyzeSubtitles:function(e,t){const n=t.subtitlesBurnLevel||c.Z.ALWAYS,i=e.codec,s=!!e.key&&void 0===i&&t.transcodeServer.get("isCloud"),r=t.transcodeServer.get("isCloud")&&("vtt"===i||"eia_608"===i);return(0,o.Z)("[MDE] Subtitle codec:",i),(0,o.Z)("[MDE] Burn level:",n),s?((0,o.Z)("[MDE] Using sidecar subtitles %s",e.key),{useSidecarSrtSubtitles:!0}):r?{canDirectPlay:!0}:n===c.Z.NEVER?{useSoftSubtitles:!1}:n===c.Z.ALWAYS?(o.Z.warn("[MDE] Direct play failed; asked to always burn subtitles"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles:burnLevelAlways",canDirectStreamVideo:!1}):t.transcodeServer.supports("softSubtitles")?(0,h.Z)(i)?(o.Z.warn("[MDE] Soft subtitles failed; bitmap subtitles"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):/^(ass|ssa)$/i.test(i)&&n===c.Z.AUTO?(o.Z.warn("[MDE] Soft subtitles failed; ASS subtitles"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):/^eia_608$/i.test(i)?(o.Z.warn("[MDE] Soft subtitles failed; Closed captioning"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):t.transcodeServer.supports("softSubtitlesWithDirectPlay")?t.allowDirectStreamVideoWithSoftSubtitles?{useSoftSubtitles:!0}:{useSoftSubtitles:!0,canDirectStreamVideo:!1}:(o.Z.warn("[MDE] Direct play failed; %s subtitles",i),t.allowDirectStreamVideoWithSoftSubtitles?{useSoftSubtitles:!0,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles"}:{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):(o.Z.warn("[MDE] Direct play failed; server support requires burn subtitles"),o.Z.warn("[MDE] Soft subtitles failed; server version"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles:softSubtitlesUnsupported",canDirectStreamVideo:!1})},canPlay:function(e,t){const n=this.validateParts(e,t)||this.validateTranscoder(e,t);return n?{canPlay:!1,errorMessage:n}:{canPlay:!0}},validateParts:function(e,t){const n=function(e){const t=[];return Array.isArray(e)||(e=[e]),a().each(e,(e=>{const n=e.Part;n&&a().each(n,(e=>{!1!==e.exists&&!1!==e.accessible||t.push(e)}))})),t}(e.media);if(!n.length)return;o.Z.warn("[MDE] Unable to play; missing parts");const i=a().first(n);return 1===Number(i.exists)?(0,v.Z)("Please check the permissions for this file."):(0,v.Z)("Please check that the file exists and the necessary drive is mounted.")},validateTranscoder:function(e,t){if(e.canDirectPlay)return;const n=t.type,i=n===y.Z.types.MUSIC,s=n===y.Z.types.VIDEO,r=t.transcodeServer,l=r.get("transcoderAudio"),c=r.get("transcoderVideo");let d;if(i||"track"===t.item.get("type")){if(d=(0,v.Z)("This server is not powerful enough to convert audio."),s&&!c)return o.Z.warn("[MDE] Unable to play; server unable to transcode music using video transcoder"),d;if(i&&!l)return o.Z.warn("[MDE] Unable to play; server unable to transcode music using audio transcoder"),d}else if(s){const n=(0,v.Z)("This server is not powerful enough to convert video. You may be able to enable playback by increasing your quality setting."),i=(0,v.Z)("This server is not powerful enough to convert video. Playback qualities are limited because an indirect connection is being used."),s=e.canDirectStreamVideo||!r.get("transcoderVideoRemuxOnly");if(d=(0,v.Z)("This server is not powerful enough to convert video."),!c||!s){if(o.Z.warn("[MDE] Unable to play; server unable to transcode video"),t.quality){if(t.quality.index===g.Z.ORIGINAL)return d;const e=a().clone(t);return e.quality=a().extend({index:g.Z.ORIGINAL},a().pick(t.quality,"attribute")),this.getMediaDecision(e).canDirectPlay?n:"relay"===r.get("maxUploadBitrateReason")?i:d}return n}}},getEffectiveQuality:function(e,t,n){const i=n.quality,s={},r={};if(e.bitrate||o.Z.warn("[MDE] Unable to determine effective quality; re-analyze the media if possible"),n.type===y.Z.types.VIDEO){s.bitrate=e.bitrate,s.videoResolution=g.Z.getHeightFromResolution(e.videoResolution);const a=this.getPrimaryStreamProperty(t,"maxBitrate",n);if(a){const t=(0,p.Z)(e),n=t?t.bitrate:e.bitrate;s.bitrate=Math.min(n,a),r.maxVideoBitrate=a}if(i&&i.videoResolution){const e=g.Z.getResolutionFromSize(i.videoResolution),t=g.Z.getHeightFromResolution(e);s.videoResolution=Math.min(s.videoResolution,t)}}else if(n.type===y.Z.types.MUSIC){s.bitrate=e.bitrate;const i=this.getPrimaryStreamProperty(t,"maxBitrate",n);i&&(s.bitrate=Math.min(e.bitrate,i),r.musicBitrate=i)}return s.transcoderQualityOptions=r,s},getPrimaryStreamProperty:function(e,t,n){const i=e[y.Z.getStreamByType(n.type)];let s=e[t];return null==s&&i&&(s=i[t]),s},getMediaTitle:function(e){let t=e.title||e.videoResolution||e.bitrate||e.container;const n=a().compact([e.container,e.videoCodec,e.audioCodec]),i=(0,p.Z)(e);return i&&n.push(i.level,i.profile),n.length&&(t+=" ("+n.join(", ")+")"),t},getDecisionLogs:function(e){const t={canPlay:e.canPlay,canDirectPlay:e.canDirectPlay},n=e.canDirectStreamVideo;null!=n&&(t.canDirectStreamVideo=n);const i=e.canDirectStreamAudio;null!=i&&(t.canDirectStreamAudio=i);const s=e.useSoftSubtitles;null!=s&&(t.useSoftSubtitles=s);const r=e.bitrate;null==r||a().isNaN(r)||(t.bitrate=r);const o=e.videoResolution;return null==o||a().isNaN(o)||(t.videoResolution=o),t},getBestDecision:function(e){const t=a().last(this.sortDecisions(e));return(0,o.Z)("[MDE] Selected %s to play:",this.getMediaTitle(t.media),this.getDecisionLogs(t)),t},sortDecisions:function(e){return a().chain(e).reverse().sortBy(this.preferHigherBitrate,this).sortBy(this.preferMoreAudioChannels,this).sortBy(this.preferDirectStreamAudio,this).sortBy(this.preferHigherResolution,this).sortBy(this.preferDirectStreamVideo,this).sortBy(this.preferDirectPlayMatchingPreferredProtocol,this).sortBy(this.preferDirectPlay,this).sortBy(this.preferHigherResolutionIfCapable,this).sortBy(this.preferCloudIfRemote,this).sortBy(this.preferDirectPlayOrDirectStreamIfUHD,this).sortBy(this.preferPlayable,this).value()},preferPlayable:function(e){return void 0===e.canPlay?null:e.canPlay},preferDirectPlayOrDirectStreamIfUHD:function(e){const t=e.media.height;if(void 0===t)return null;const n=g.Z.getResolutionFromHeight(t);return!/^\d+k$/i.test(n)||e.canDirectPlay||e.canDirectStreamVideo},preferCloudIfRemote:function(e){const t=e.media.proxyType===l.Z.CLOUD;return e.transcodeServer.get("isPrivateConnection")?!t:t},preferHigherResolutionIfCapable:function(e){const t=e.transcodeServer,n=t.get("transcoderVideo"),i=t.get("transcoderVideoRemuxOnly");return n&&!i&&(e.canDirectPlay||e.canDirectStreamVideo)?this.preferHigherResolution(e):null},preferDirectPlay:function(e){return void 0===e.canDirectPlay?null:e.canDirectPlay},preferDirectPlayMatchingPreferredProtocol:function(e){return e.canDirectPlay&&e.media.protocol&&e.preferredDirectPlayProtocol?e.media.protocol===e.preferredDirectPlayProtocol:null},preferDirectStreamVideo:function(e){return void 0===e.canDirectStreamVideo?null:e.canDirectStreamVideo},preferHigherResolution:function(e){return void 0===e.videoResolution?null:e.videoResolution},preferDirectStreamAudio:function(e){return void 0===e.canDirectStreamAudio?null:e.canDirectStreamAudio},preferMoreAudioChannels:function(e){const t=e.media.audioChannels;return void 0===t?null:t},preferHigherBitrate:function(e){return void 0===e.bitrate?null:e.bitrate}}},37201:(e,t,n)=>{"use strict";n.d(t,{Vq:()=>r,u$:()=>a}),n(67038);var i=n(69434);const s={};function r(e,t){const n=t&&!0,r=s[e];return n&&r&&r.length?((0,i.Z)("[MediaElement] Found existing media element to use. type: %s",e),r.shift()):((0,i.Z)("[MediaElement] Creating new media element. type: %s",e),document.createElement(e))}function a(e){const t=e.nodeName.toLowerCase();(0,i.Z)("[MediaElement] Releasing media element to pool. type: %s",t),s[t]||(s[t]=[]),s[t].push(e)}},27903:(e,t,n)=>{"use strict";function i(e){const t={};return(...n)=>{const i=JSON.stringify(n);if(t.hasOwnProperty(i))return t[i];{const s=e(...n);return t[i]=s,s}}}n.d(t,{Z:()=>i})},86953:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(47909),s=n(17524),r=n(35589);function a(e){const{providerIdentifier:t=s.Y3,serverIdentifier:n,key:a,parameters:o}=e;let l=n!==r.X?`server://${n}/${t}`:`provider://${t}`;return a&&(l=`${l}${a}`),o&&(l=i.Z.join(l,o)),l}},54941:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(54895);function s(e){return(0,i.Z)(e)}},39247:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(54941);function s(e){return(0,i.Z)(e.bitrate)}},54895:(e,t,n)=>{"use strict";function i(e){return e>0?`${e} kbps`:""}n.d(t,{Z:()=>i})},72369:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const i=["B","KB","MB","GB","TB"],s=function(e,t=2){if(0===e)return`${(0).toFixed(t)} ${i[0]}`;const n=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return`${(e/Math.pow(1024,n)).toFixed(t)} ${i[n]}`}},10825:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e,t){return e?/^\d+$/.test(e)?e+((null==t?void 0:t.length)?t[0]:"p"):e.toUpperCase():""}},69713:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(54895);const s=function(e){return e>=100?function(e){if(!(e>0))return"";let t=e/1e3;return t=t>=.1?Number(t.toFixed(1)):t,t+" Mbps"}(e):(0,i.Z)(e)}},52224:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(33232),s=n(5562),r=n(10825),a=n(69713);const o=function(e){if(e.index===i.Z.CONVERT_AUTOMATICALLY)return(0,s.Z)("Convert Automatically");if(e.index===i.Z.ORIGINAL)return(0,s.Z)("Original");const t=e.bitrate||e.maxVideoBitrate,n=e.videoResolution;if(!t&&!n)return(0,s.Z)("Unknown");const o=[];if(t&&o.push((0,a.Z)(t)),n&&(!t||t>=1e3)){const e=i.Z.getResolutionFromSize(n);o.push((0,r.Z)(e))}const l=o.join(", ");return e.description?l+" "+e.description:l}},60316:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(47909),s=n(17524),r=n(35589);const a=/\/([^/]+)([^$]+)?/,o={};function l(e){if(o[e])return o[e];const{protocol:t,host:n,pathname:l,search:c}=i.Z.parseUri(e),d="provider:"===t,u="server:"===t;if(!d&&!u)throw new Error("Source identifier is lacking provider or server scheme");const p=c.substr(1)||void 0,m=l.replace(/\/$/,"")||void 0,h=(null==m?void 0:m.match(a))||[],g=m&&"media"===h[1],y=g?s.Y3:h[1],v=d||g?m:h[2],f=v?v.slice(v.lastIndexOf("/")+1):void 0;return o[e]={isServer:u,serverIdentifier:d?r.X:n,providerIdentifier:d?n:y||s.Y3,key:v||"",ratingKey:f||"",parameters:p?i.Z.parseParams(p):void 0},o[e]}},35406:(e,t,n)=>{"use strict";function i(e,t){const n=t?8*Math.round(t/8):0,i=e?8*Math.round(e/8*(9/16)):0;return Math.max(n,i)}n.d(t,{Z:()=>i})},63233:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(41927),s=n(5450),r=n(80080),a=n(47323),o=n(61309),l=n(7947),c=n(99131);const d={movie:r.Z,show:c.Z,season:c.Z,episode:c.Z,artist:i.Z,album:a.Z,track:a.Z,photo:o.Z,photoalbum:o.Z,clip:s.Z,station:l.Z}},34796:(e,t,n)=>{"use strict";n.d(t,{LX:()=>i,jt:()=>s,ZP:()=>r});const i=-1,s=10,r=function(e){return e.userRating===s}},1997:(e,t,n)=>{"use strict";function i(e){if(e)return e.relay?"relayed":e.isLoopback?"localhost":e.isPrivate?"local":"remote"}n.d(t,{Z:()=>i})},66729:(e,t,n)=>{"use strict";function i(e){return e.isCloud?"online":e.isShared?"shared":"owned"}n.d(t,{Z:()=>i})},46053:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a}),n(69434);var i=n(59756);let s;function r(){if(void 0===s){const e=window.location.search.match(new RegExp("performanceReportingHost=([^&=]+)"));s=(e&&e[1]?decodeURIComponent(e[1]):i.Z.performanceReportingHost)||null}return s}const a=function(e=r){const t={};function n(n){return n&&!t[n]&&(t[n]=/^(client|playback):/.test(n)||!!e()),!!n&&t[n]}const i={startPeriod:e=>i.mark(`${e}-start`),endPeriod:(e,t)=>i.measure(e,t||`${e}-start`),mark(e){let t=null;if(n(e)){window.performance.mark(e);const n=window.performance.getEntriesByName(e);t=n[n.length-1]}return t},measure(e,t,i){let s=null;if(n(e))try{window.performance.measure(e,t,i),window.performance.clearMarks(t);const n=window.performance.getEntriesByName(e);s=n[n.length-1]}catch(e){}return s}};return i}()},58698:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(69434),s=n(93966);const r=function(){const e=Date.now(),t=(0,s.DB)("sessionStats");i.Z.debug("[Metrics] Updating session last interaction time"),t.save("lastInteractionTime",e)}},77606:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(13469),s=n.n(i);const r=function(e){return e=parseInt(e,10),s().isNaN(e)?"":(e<10?"0":"")+e}},55983:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(13469),s=n.n(i),r=n(69434);function a(e,t){Array.isArray(t)?s().each(t,e):e(t)}const o={parseXML:n(25474).Z,replaceXMLElementNames:function(e,t,n){Array.isArray(t)||(t=[t]);const i=t.join("|"),s=new RegExp("<("+i+")","g"),r=new RegExp("</("+i+")>","g");return(e=e.replace(s,"<"+n+' elementName="$1"')).replace(r,"</"+n+">")},parseEncodedString:function(e,t){e&&a((function(t){if(e.hasOwnProperty(t)){const n=e[t];if(null==n)e[t]="";else try{e[t]=decodeURIComponent(n)}catch(e){}}}),t)},parseInteger:function(e,t){e&&a((function(t){if(e.hasOwnProperty(t)){const n=e[t];e[t]=null==n||""===n?0:parseInt(n,10)}}),t)},parseFloat:function(e,t){e&&a((function(t){if(e.hasOwnProperty(t)){const n=e[t];e[t]=null===n||""===n?0:parseFloat(n)}}),t)},parseBoolean:function(e,t){e&&a((function(t){if(e.hasOwnProperty(t)){const n=e[t];e[t]=1===Number(n)||"true"===n}}),t)},parseArray:function(e,t){e&&a((function(t){if(e.hasOwnProperty(t)){const n=e[t];Array.isArray(n)||(e[t]=[n])}else e[t]=[]}),t)},parseQueryString:function(e,t,n){e&&(n||(n="&"),a((function(t){if(!e.hasOwnProperty(t))return;let i=e[t];var a;s().isObject(i)||(s().isString(i)?(i=i.trim().replace(/^(\?|#)/,""),e[t]=i?(a=i.split(n),s().reduce(a,(function(e,t){const n=t.split("=");let i=n[0],s=n[1];try{i=decodeURIComponent(i),s=void 0===s?null:decodeURIComponent(s),e.hasOwnProperty(i)?Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]:e[i]=s}catch(e){r.Z.warn("Unable to decode query string at "+i)}return e}),{})):{}):e[t]={})}),t))}}},25474:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(27098),s=n.n(i),r=n(69434);let a;const o=function(e){const t={};let n;if(!e)return r.Z.warn("[Parser] Empty XML source"),t;a=a||new(s())({attributePrefix:"",emptyNodeForm:{},ignoreRoot:!0});try{n=e&&a.xml2js(e)}catch(e){r.Z.warn("[Parser] Unable to parse XML: "+e.message)}return n||t}},67299:(e,t,n)=>{"use strict";n.d(t,{l:()=>r,Z:()=>a});var i=n(69881);let s;const r=["Video","Track","Photo","Playlist","Game"],a=function(e,t){const n=t&&t.includeDirectories,a=function(e,t,n){Array.isArray(t)||(t=[t]);const i=t.join("|"),s=new RegExp(`<(${i})`,"g"),r=new RegExp(`</(${i})>`,"g");return e.replace(s,`<${n} elementName="$1"`).replace(r,`</${n}>`)}(e,n?["Directory",...r]:r,"Metadata");return n?a:function(e){s||(s=(0,i.getAllMetadataTypes)().map((e=>e.typeString)).join("|"));const t=new RegExp(`<Directory([^>]*?)type="(${s})"([\\s\\S]*?)</Directory>`,"gm"),n=new RegExp(`<Directory([^>]*?)type="(${s})"([\\s\\S]*?)/>`,"gm");return e.replace(t,'<Metadata$1type="$2" elementName="Directory"$3</Metadata>').replace(n,'<Metadata$1type="$2" elementName="Directory"$3/>')}(a)}},70762:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return e?"1":"0"}},23100:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e={},t={}){return function(e,t){const n=Object.keys(e);return t.orFields&&t.andFields&&n.sort(((e,n)=>t.orFields.includes(e)&&t.andFields.includes(n)?-1:t.andFields.includes(e)&&t.orFields.includes(n)?1:0)),n}(e,t).reduce(((n,i,s)=>{let r=t.separator||"&";return 0===s?r="":t.orFields&&t.orFields.includes(i)?r="|":t.andFields&&t.andFields.includes(i)&&(r="&"),n+`${r}${encodeURIComponent(i)}=${encodeURIComponent(e[i])}`}),"")}},95113:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var i=n(13469),s=n.n(i),r=n(7330),a=n(95504),o=n(69434);var l=n(26781),c=n(98119);var d=n(59632),u=n(61484),p=n(25474),m=n(70762);var h=n(23100);const g={parseType:function(e,t,n){const i=this.getByType("parse",e,this._parseTypeMap);return i?i(t,n):t},stringifyType:function(e,t,n){if(s().isString(t))return t;if(null==t)return"";const i=this.getByType("stringify",e,this._stringifyTypeMap);return i?i(t,n):t},getByType:function(e,t,n){if(n&&s().has(n,t))return n[t];const i=e+(t.charAt(0).toUpperCase()+t.slice(1));return s().has(this,i)?(n[t]=this[i],this[i]):void 0},parseBoolean:a.Z,stringifyBoolean:m.Z,parseInteger:l.Z,parseFloat:function(e){return null==e||""===e?0:window.parseFloat(e)},parseString:u.Z,parseEncodedString:function(e){if(null==e)return"";try{return decodeURIComponent(e)}catch(t){return o.Z.warn("[Parser] Unable to parse encoded string"),e}},parseArray:r.Z,parseList:function(e){return e?Array.isArray(e)?e:e.split(","):[]},stringifyList:function(e){return e.join(",")},parseQueryString:d.Z,stringifyQueryString:h.Z,parseJSON:c.Z,parseXML:p.Z,reset:function(){this._parseTypeMap={json:this.parseJSON,xml:this.parseXML},this._stringifyTypeMap={}}};g.reset();const y=g},89318:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(13469),s=n.n(i),r=n(69434),a=n(79270);const o={ORIGINAL:-1,CONVERT_AUTOMATICALLY:-2,qualities:{},getQualityByIndex:function(e){if(e===this.CONVERT_AUTOMATICALLY)return{index:this.CONVERT_AUTOMATICALLY};if(e<0)return{index:this.ORIGINAL};const t={index:e};return s().each(this.qualities,(function(n,i){t[i]=s().result(this.qualities,i)[e]}),this),t},getQualityCount:function(){const e=s().first(s().keys(this.qualities));return s().result(this.qualities,e).length},getQualityAttribute:function(e){const t=(0,a.Z)(e,e.server.get("isPrivateConnection"));return"video"!==this.type?this.type+"!"+t:t},getSyncQualityAttribute:function(){return"syncQuality!"+this.type},getCurrentQuality:function(e,t,n){const i=this.getQualityAttribute(e);let a=t.get(i);return a>=this.getQualityCount()&&(r.Z.warn("Quality index "+a+" is out of bounds"),a=s().result(t,"defaults")[i],n({[i]:a})),s().extend(this.getQualityByIndex(a),{attribute:i})},getAvailableQualities:function(e){e||(e={});const t=e.lowestQualityIndex;let n=e.highestQualityIndex;const i=e.comparator,s=[];n===this.ORIGINAL&&(n=void 0);for(let e=0,r=this.getQualityCount();e<r;e++)if(!(t&&e<t)){if(n&&e>n)return s;if(i&&i.call(this,e))return s;s.push(this.getQualityByIndex(e))}return s},getResolutionFromSize:function(e){const t=e.split("x"),n=parseInt(t[1],10);return this.getResolutionFromHeight(n)},getResolutionFromHeight:function(e){return e>2560?"8k":e>1100?"4k":e>720?"1080":e>576?"720":e>480?"576":e>360?"480":"sd"},getHeightFromResolution:function(e){switch(e){case"8k":return 5120;case"4k":return 2560;case"1080":return 1080;case"720":return 720;case"576":return 576;case"480":return 480;case"sd":default:return 360}},getNearestIndex:function(e,t){if(!t)return this.ORIGINAL;let n=e.indexOf(t);if(n<0){n=0;for(let i=0,s=e.length;i<s&&!(e[i]>t);i++)n=i}return n}}},67470:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(43149);const s=function(e){return e.repeatOne?i.ry:e.repeatAll?i.QN:i.Hn}},56669:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(93966);function s(){return(0,i.DB)("settingFinder").find("volume")}},79270:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(62638);function s(e,t){return(0,i.Z)(e,t)?"localQuality":"remoteQuality"}},62638:(e,t,n)=>{"use strict";function i(e,t){const n=e.toJSON?e.toJSON():e,{isExtra:i,guid:s}=n;return!(i&&!/^file:\/\//.test(s))&&t}n.d(t,{Z:()=>i})},33232:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(13469),s=n.n(i),r=n(35406),a=n(89318),o=s().extend({},a.Z,{type:"video",qualities:{bitrate:[64,96,208,320,720,1500,2e3,3e3,4e3,8e3,1e4,12e3,2e4],videoResolution:["220x128","220x128","284x160","420x240","576x320","720x480","1280x720","1280x720","1280x720","1920x1080","1920x1080","1920x1080","1920x1080"],videoQuality:[10,20,30,30,40,60,60,75,100,60,75,90,100]},getAvailableQualitiesFor(e,t,n){if(!e||!t)return[];if(Array.isArray(e)||(e=[e]),0===e.length)return[];const i=t.get("transcoderVideo"),a=t.get("transcoderVideoRemuxOnly"),o=this.getMaximumResolution(e);if(!i||a||!o)return[];const l=t.get("maxUploadBitrate"),c=s().extend({},n,{comparator:function(e){if(l&&this.qualities.bitrate[e]>l)return!0;const t=this.qualities.videoResolution[e].split("x");return(0,r.Z)(t[0],t[1])>o}});return this.getAvailableQualities(c)},getBestAvailableQuality:function(e,t){return 0===t.length?o.ORIGINAL:t.find((t=>t.index===e.index))?e.index:s().last(t).index},getNearestIndexToBitrate:function(e){return this.getNearestIndex(this.qualities.bitrate,e)},getMinimumQuality:function(e,t){return(e===o.ORIGINAL?Number.MAX_VALUE:e)<(t===o.ORIGINAL?Number.MAX_VALUE:t)?e:t},getMaximumQuality:function(e,t){return this.getMinimumQuality(e,t)===e?t:e},getMaximumResolution:function(e){return e.reduce((function(e,t){if(!t.width&&!t.height)return e;const n=(0,r.Z)(t.width,t.height);return null===e||n>e?n:e}),null)},isExplicitQuality:function(e){return e!==o.ORIGINAL&&e!==o.CONVERT_AUTOMATICALLY}});const l=o},73571:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(13469),s=n.n(i),r=n(7082);function a(e,t){const n=s().invert(e);return s().reduce(e,((e,i)=>(e[i]=t[n[i]],e)),{})}const o={playing:"playing",paused:"paused",stopped:"paused",error:"paused",buffering:"playing"},l=new(r.Z.extend({types:{VIDEO:"video",MUSIC:"music",PHOTO:"photo",ROM:"rom"},elements:{VIDEO:"video",MUSIC:"audio",PHOTO:"photo"},streams:{VIDEO:"video",MUSIC:"audio",PHOTO:"photo"},states:{STOPPED:"stopped",PAUSED:"paused",PLAYING:"playing",BUFFERING:"buffering",ERROR:"error"},slideshowStates:{PLAYING:"playing",PAUSED:"paused"},castStates:{ERROR:"IDLE",STOPPED:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING",BUFFERING:"BUFFERING"},mediaStates:{LOADING:"LOADING",BUFFERING:"BUFFERING",READY:"READY",ERROR:"ERROR"},initialize(){this.typeByElement=a(this.elements,this.types),this.elementByType=a(this.types,this.elements),this.typeByStream=a(this.streams,this.types),this.streamByType=a(this.types,this.streams),this.statebyCastState=a(this.castStates,this.states),this.castStateByState=a(this.states,this.castStates)},getTypeByElement(e){return this.typeByElement[e]},getElementByType(e){return this.elementByType[e]},getTypeByStream(e){return this.typeByStream[e]},getStreamByType(e){return this.streamByType[e]},getStateByCastState(e){return this.statebyCastState[e]},getCastStateByState(e){return this.castStateByState[e]},getSlideshowStateByState:e=>o[e]}))},53779:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const i="placeholder-standard",s="placeholder-square",r="placeholder-widescreen",a={movie:i,show:i,season:i,episode:r,artist:s,album:s,track:s,photo:s,photoalbum:s,clip:r,playlist:s,playlistFolder:s,channel:s,channelDirectory:s,folder:"placeholder-folder",friend:"placeholder-friend",device:s,poster:i,art:r,banner:r,collection:i}},62779:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={sizes:{movie:"portrait",show:"portrait",season:"portrait",episode:"landscape",artist:"square",album:"square",track:"square",photo:"square",photoalbum:"square",clip:"landscape",playlist:"square",playlistFolder:"square",channel:"square",channelDirectory:"square",folder:"portrait",friend:"square",poster:"portrait",art:"landscape",banner:"banner",collection:"portrait"},ratios:{portrait:1/1.5,square:1,landscape:16/9,banner:5.2},getRatioByType:function(e){return this.ratios[this.sizes[e]]},getPosterWidthUsingRatio:function(e,t){return Math.round(this.ratios[e]*t)},getPosterHeightUsingRatio:function(e,t){return Math.round(this.ratios[e]&t)},getPosterWidth:function(e,t){return Math.round(t*this.getRatioByType(e))},getPosterHeight:function(e,t){return Math.round(t/this.getRatioByType(e))}}},54304:(e,t,n)=>{"use strict";n.d(t,{gn:()=>s,P_:()=>r.Z}),n(66822),n(50612);var i=n(38076);function s(e=i.Z){return"ios"===e.platformID}var r=n(41720);n(7165)},66822:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(38076);function s(e=i.Z){return"chrome"===e.id}},50612:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(38076);function s(e=i.Z){return"edge"===e.id}},41720:(e,t,n)=>{"use strict";function i(){return!1}n.d(t,{Z:()=>i})},7165:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(38076);function s(e=i.Z){return"safari"===e.id}},14640:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(62730),s=n(67006),r=n(17524),a=n(5562),o=n(30369);const l=n(45224).Z.extend({name:"LegacyLibraryProviderModel",defaults(){const e=this.server,t=e.get("isFullServer"),n=e.get("isFullOwnedServer"),l=[{type:s.P8,key:"/library/sections"},{type:s.uq,key:"/library/matches"},{type:s.IS,key:"/library/metadata"}];return t&&l.push({type:s.mo,key:"/hubs/search"},{type:s.F5,key:"/playQueues"},{type:s.zg,key:"/playlists"},{type:s.jN,key:"/:/timeline"},{type:s.aO,actions:[{id:i.lq,key:"/:/scrobble",reverseKey:"/:/unscrobble"},{id:i.zw,key:"/:/rate"}]}),n&&l.push({type:s.d3}),{identifier:r.Y3,title:(0,a.Z)("Library"),types:["video","audio","photo"],protocols:n?["stream","download"]:["stream"],features:new o.Z(l,{parse:!0,server:e})}}});function c(e,t){!t.get("isCloud")&&e.forEach((e=>{e.set({isPending:!1,isPopulated:!0})})),t.get("isCloud")||e.get(r.Y3)||e.add(new l({isPending:!1,isPopulated:!0},{server:t}))}},41658:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(47909),s=n(69881);function r(e,t){const n=["/library/sections",e,"all"];return t===s.PHOTO?i.Z.join(n):i.Z.join(n,{type:s.getMetadataType(t).id})}},85586:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(35589);function s(e,t){return e===i.X?`provider://${t}`:`server://${e}/${t}`}},24079:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(67006);function s(e,t){const n=e.get("features").get(i.P8),s=n.get("directories");if(!n||!s)return null;const r=s.find((e=>e.get("hubKey")===t||e.get("key")===t));return r?r.toJSON():null}},36535:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(17524);const s=function(e,t){const n=t||e;return i.wB(n,i.Ll)?i.Ll:n}},9010:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(41890),s=n(44491),r=n(17524),a=n(45399);const o=function({protocol:e,protocolCapabilities:t=[],providerIdentifier:n,userFeaturesByUUID:o,metadataItemModel:l,playQueueType:c,isWatchTogether:d=!1}){if(e!==i.l&&e!==i.D)return!1;if(c===s.eD)return!1;if(d)return!1;const u=r.wB(n,[r.Y3,r.HG]),p=r.wB(n,[r.Ll,r.vP]),m=r.wB(n,[r.w1,r.Rq]),h=r.wB(n,r.xF),g=r.wB(n,r.IS),y=r.wB(n,[r.uk]),v=e===i.l||o[a.JO],f=o[a.Fq],I=e===i.l||t.includes("provider-playback");return!!(u||p&&v||m&&f||h&&I||g&&I||y&&I)}},63733:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(13469),s=n.n(i);function r(e){const t=s().clone(e);return void 0!==t.last?(t.end=t.last+1,t.size=t.end-t.start):void 0!==t.size?(t.end=t.start+t.size,t.last=t.end-1):void 0!==t.end&&(t.last=t.end-1,t.size=t.end-t.start),t}function a(e,t){return s().filter(s().map(e,r),(function(e){return t?e.size>=0:e.size>0}))}const o={augment:r,difference:function(e,t,n){return e=r(e),t=r(t),a([{start:e.start,last:Math.min(e.last,t.start-1)},{start:Math.max(e.start,t.end),last:e.last}],n)},union:function(e,t,n){if(e=r(e),t=r(t),e.start>t.start){const n=e;e=t,t=n}const i=[e];return t.start<=e.end?i[0].last=Math.max(t.last,e.last):i.push(t),a(i,n)},degap:function(e,t){let n=r(e);return(t=r(t)).size?(n.start>t.end&&(n={start:t.end,end:n.end}),n.end<t.start&&(n={start:n.start,end:t.start}),r(n)):n},each:function(e,t,n){e=r(e);let i=Math.min(e.start,e.end);const s=Math.max(e.start,e.end);for(;i<=s;i++)t.call(n,i)},roundByPage:function(e,t){return e=r(e),r({start:Math.floor(e.start/t)*t,end:Math.ceil(e.end/t)*t})}}},16561:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(67294),s=n(97762),r=Object.assign;function a(e,t={}){return(0,s.renderToStaticMarkup)(i.createElement(e,r({},t)))}},72759:(e,t,n)=>{"use strict";n.d(t,{Ts:()=>i,zL:()=>s,sC:()=>r,t6:()=>a,y0:()=>o,QX:()=>l,Ij:()=>c,Gh:()=>d,TS:()=>u,ZJ:()=>p,K5:()=>m,nJ:()=>h,RG:()=>g,JW:()=>y,l1:()=>v,EW:()=>f,iJ:()=>I});const i="general.db.backup",s="general.bundle.clean",r="grabber.grab",a="grabber.assimilate",o="library.delete",l="library.update.section",c="library.refresh.items",d="library.update.item.metadata",u="media.generate.bif",p="media.generate.chapter.thumbs",m="media.generate.intros",h="general.db.optimize",g="provider.device.channelscan",y="provider.epg.load",v="provider.subscriptions.process",f="provider.subscription.refresh",I="subtitle.download"},6272:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(93966),s=n(12319),r=n(319);function a(e,t=!1){const n=t||"Plex Media Server"===e.get("product"),a=new s.ZP({machineIdentifier:e.id,friendlyName:e.get("name"),version:n?e.get("productVersion"):void 0,isShared:!e.get("owned"),accessToken:e.get("accessToken"),sourceTitle:e.get("sourceTitle"),publicAddressMatches:e.get("publicAddressMatches"),httpsRequired:e.get("httpsRequired"),platform:e.get("platform"),platformVersion:e.get("platformVersion"),presence:e.get("presence"),home:e.get("home"),serverClass:n?void 0:s.ZP.serverClasses.SECONDARY,createdAt:e.get("createdAt"),lastSeenAt:e.get("lastSeenAt"),ownerId:e.get("ownerId")},{parent:i.DB("appModel")});return(0,r.Z)(a,e),a}},62367:(e,t,n)=>{"use strict";function i(){const[,e,t]="https://plex.tv".match(/^([^:]+):\/\/(.*)$/)||[];return{scheme:e,address:t}}n.d(t,{Z:()=>i})},319:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(13469),s=n.n(i);function r(e,t){t.get("connections").each((n=>{const i=[{id:t.server.id}],r=s().extend(n.toJSON(),{sources:i});e.addConnection(r)}))}},29065:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){const{key:t,sourceType:n,machineIdentifier:i,providerIdentifier:s,directoryID:r,directoryIcon:a,title:o,serverFriendlyName:l,serverSourceTitle:c,providerSourceTitle:d,isCloud:u,isFullOwnedServer:p}=e;return{key:t,sourceType:n,machineIdentifier:i,providerIdentifier:s,directoryID:r,directoryIcon:a,title:o,serverFriendlyName:l,serverSourceTitle:c,providerSourceTitle:d,isCloud:u,isFullOwnedServer:p}}},36600:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(44823);function s(e,t,n,s){return(0,i.Z)("source",e,t,n,s)}},56971:(e,t,n)=>{"use strict";function i(e){return e.reduce(((e,t)=>{const{isFullOwnedServer:n,serverSourceTitle:i,machineIdentifier:s}=t;if(!n&&i){null==e.sharedSources[i]&&(e.sharedSources[i]=[]);const t=e.sharedSources[i];t.includes(s)||t.push(s)}return s&&n&&(null==e.ownedSources[s]&&(e.ownedSources[s]=0),e.ownedSources[s]++),e}),{sharedSources:{},ownedSources:{}})}n.d(t,{Z:()=>i})},4844:(e,t,n)=>{"use strict";function i(e,t,...n){if(!t)return;const i=[];i.push(e);for(let e=0,t=n.length;e<t;e++){const t=n[e];t&&i.push(t)}return i.push(t),i.join("--")}n.d(t,{Z:()=>i})},15042:(e,t,n)=>{"use strict";n.d(t,{cN:()=>i,MC:()=>s,Y3:()=>r,km:()=>a,xR:()=>o,YI:()=>l,vO:()=>c,Tl:()=>d,$4:()=>u,TY:()=>p,PK:()=>m,RP:()=>h,PI:()=>g,gO:()=>y,Re:()=>v,PC:()=>f,r8:()=>I});const i="servers",s="providers",r="libraries",a="hubs",o="users",l="resources",c="friends",d="homeUsers",u="metadataLists",p="metadataItems",m="mediaSubscriptions",h="liveTVSessions",g="playQueueItems",y="playlistItems",v="searchResults",f="transcodeJobs",I="watchTogetherRooms"},87048:(e,t,n)=>{"use strict";n.d(t,{l:()=>s,Z:()=>r});var i=n(69434);function s(e,t,n){const i=e.get("entities").get(t);if(i){const e=i.get(n);if(e)return e.get("model")}}function r(e,t,n){const r=s(e,t,n);return r||i.Z.warn('An entity does not exist with the type "%s" and id "%s"',t,n),r}},28440:(e,t,n)=>{"use strict";n.d(t,{VX:()=>r,bg:()=>a,SW:()=>o,$w:()=>l,Y7:()=>c,js:()=>d,lp:()=>u,en:()=>p,$d:()=>m,lK:()=>h,Ij:()=>g,$R:()=>y,tz:()=>v,xS:()=>f,_s:()=>I,VZ:()=>b,xl:()=>M,Tp:()=>S,KC:()=>E,c_:()=>D,bT:()=>C});var i=n(15042),s=n(87048);function r(e){return e.get("user")}function a(e){return e.get("user").get("desktop")}function o(e,{serverEntityID:t}){return(0,s.Z)(e,i.cN,t)}function l(e,{serverEntityID:t}){return(0,s.l)(e,i.cN,t)}function c(e,t){const n=o(e,t);return n&&n.get("desktop")}function d(e,{providerEntityID:t}){return(0,s.Z)(e,i.MC,t)}function u(e,{providerEntityID:t}){return(0,s.l)(e,i.MC,t)}function p(e,{libraryEntityID:t}){return(0,s.Z)(e,i.Y3,t)}function m(e,{hubEntityID:t}){return(0,s.Z)(e,i.km,t)}function h(e,{metadataListEntityID:t}){return(0,s.Z)(e,i.$4,t)}function g(e,{metadataListEntityID:t}){return(0,s.l)(e,i.$4,t)}function y(e,{metadataItemEntityID:t}){return(0,s.Z)(e,i.TY,t)}function v(e,{metadataItemEntityID:t}){return(0,s.l)(e,i.TY,t)}function f(e,{mediaSubscriptionEntityID:t}){return(0,s.Z)(e,i.PK,t)}function I(e,{liveTVSessionEntityID:t}){return(0,s.Z)(e,i.RP,t)}function b(e,{liveTVSessionEntityID:t}){return(0,s.l)(e,i.RP,t)}function M(e,{playQueueItemEntityID:t}){return(0,s.Z)(e,i.PI,t)}function S(e,{playlistItemEntityID:t}){return(0,s.Z)(e,i.gO,t)}function E(e,{friendEntityID:t}){return(0,s.Z)(e,i.vO,t)}function D(e,{searchResultEntityID:t}){return(0,s.Z)(e,i.Re,t)}function C(e,{watchTogetherRoomEntityID:t}){return(0,s.Z)(e,i.r8,t)}},30983:(e,t,n)=>{"use strict";function i(e,t){return e.get("ui").get(`${t}Player`)}function s(e,t){const n=e.get("ui").get("audioVideoPlayer").get("playQueue"),i=e.get("ui").get("photoPlayer").get("playQueue");return n&&n.get("playQueueID")===t?n:i&&i.get("playQueueID")===t?i:void 0}function r(e,t){const n=e.get("playQueue");if(!n)return;const i=n.get("playQueueItems");return t<0||t>=i.length?void 0:i.at(t)}n.d(t,{F_:()=>i,RZ:()=>s,bG:()=>r})},27082:(e,t,n)=>{"use strict";n.d(t,{c9:()=>y,GF:()=>v});var i=n(67038),s=n(69434);const r=[];let a,o,l,c=!1,d=!1,u=1e3/60;function p(){a&&(a=window.clearTimeout(a))}function m(){o&&(o=window.clearTimeout(o))}function h(){const e=l;l=null,m(),e&&e()}function g(){p(),m();const e=window.performance.now();let t;for(d=!0;r.length&&(!t||t-e<16.666666666666668);)r.pop()(),t=window.performance.now();d=!1,r.length?(s.Z.warn("[State] Unable to process all updates within budget; %s update(s) remaining",r.length),a=window.setTimeout(g,u)):l&&(o=window.setTimeout(h,u))}function y(e){for(p(),m(),d=!0,c=!0;r.length;)r.pop()();if(e)try{e()}catch(e){(0,i.Z)(!1,e.name+": "+e.message)}l&&h(),d=!1,c=!1}function v(e,t){if(t.isStateTreeRoot)return l=e,void(d||o||(o=window.setTimeout(h,u)));c?e():(m(),r[0]!==e&&r.unshift(e),d||a||(a=window.setTimeout(g,u)))}},43534:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return e?e.toUpperCase():""}},34885:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}},19816:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(95113),s=n(5562);const r=function(e){return e&&i.Z.parseBoolean(e)?(0,s.Z)("Yes"):(0,s.Z)("No")}},48653:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(5562);const s=function(e){if(!e||!e.length)return;const t=e.length;return 1===t?e[0]:2===t?(0,i.Z)("{1} and {2}",e[0],e[1]):3===t?(0,i.Z)("{1}, {2}, and {3}",e[0],e[1],e[2]):(0,i.Z)("{1}, {2}, and {3} others",e[0],e[1],e.length-2)}},99317:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(88167);function s(e=24){const t=(0,i.Z)(e,0,1024);let n="";for(;n.length<t;)n+=Math.random().toString(36).substring(2,t-n.length+2);return n}},70716:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(13469),s=n.n(i);const r=function(e){const t=/(\d+\.){2,3}\d+/.exec(e);return s().first(t)||e}},55028:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e,t){if(!e)return"";if(e.length>t){let n=e.substring(0,t-3);for(;!1===/\S/.test(n.charAt(n.length-1))&&n.length>1;)n=n.slice(0,-1);return n+"..."}return e}},53221:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(47909),s=n(1495);const r=function(e,t){return(0,s.Z)(i.Z.getLastSegment(e||""),t)}},1495:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e,t,n){if(!e)return"";if(e.length>t){const i=t-3-(n=n||Math.floor((t-3)/2));return e.substr(0,n)+"..."+e.substr(e.length-i)}return e}},76037:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={waitingRegex:/^(transcoded|downloaded|directplay|processed)$/,processingRegex:/^(pending|transcoding|downloading)$/,failedRegex:/^(failed|error)$/,addVersionHeader:function(e,t){return t||(t={}),t.headers||(t.headers={}),t.headers["X-Plex-Sync-Version"]=e,t},addVersionHeaderForDevice:function(e,t){const n=e&&e.get("syncList");return n&&n.get("version")?this.addVersionHeader(n.get("version"),t):t},getSyncStateFromPart:function(e){return e.transcodeState||e.syncState},getSyncStateContextFromPart:function(e){return e.transcodeStateContext||e.syncStateContext}}},81463:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(17524);function s(e){const t=e.split("/");if(""===t.shift()){const e=t[0],n=t[t.length-1];let s;return i.wB(e,i.Ll)?s=e:n&&(s=n),s}return e}},5562:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(3595);function s(e,...t){return i.Z.t.apply(i.Z,arguments)}},16551:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(13469),s=n.n(i),r=n(69434),a=n(47909),o=n(89656);const l=function(e,t){return t?e.get("Media").findIndex((e=>e.id===t)):0},c=function(e,t){const n=e.Part;return s().indexOf(n,s().findWhere(n,{key:t}))},d={extensions:{dash:".mpd",hls:".m3u8",http:""},logParams:function(e,t,n){(0,r.Z)("[Transcoder] %s (%s) options:",e,t,n)},serializeParams:function(e,t){let n,i={},r={};const o=/^X-Plex/;return s().each(e,(function(e,t){o.test(t)?r[t]=e:i[t]=e})),i=a.Z.stringifyParams(i),r=a.Z.stringifyParams(r),n=i&&r?i+"&"+r:i||r,n},image:function(e,t,n){if(!t)return"";const i=n.fallbackServer;let r,a=!1;if(i&&i.get("isConnected")&&(r=i.get("isFullServer")?i:null),r)if(e.get("cloud"))a=!0;else if(!e.get("isFullServer")){const t=!e.get("activeConnection").get("isPrivate"),n=r.get("activeConnection").get("isPrivate");a=t||n}const o=a?r:e,l=o.id===e.id,c={url:e.resolveUrl(t,{useRelativeUrl:l,appendToken:!0}),width:n.width&&Math.round(parseFloat(n.width)),height:n.height&&Math.round(parseFloat(n.height))};n.minSize&&(c.minSize=1),n.format&&(c.format=n.format),n.quality&&(c.quality=n.quality),n.filters&&s().each(n.filters,(function(e,t){void 0!==e&&(c[t]=e)}));const d="/photo/:/transcode?"+this.serializeParams(c,o);return o.resolveUrl(d,{appendToken:!0})},music:function(e,t,n,i){i||(i="start");const r=s().first(t.get("Media"));if(!r)return;const a=s().first(r.Part);if(!a)return;let o,l;e.supports("universalMusicTranscoder")?(o=s().extend({hasMDE:1,path:e.resolveUrl(t.get("key"),{useRelativeUrl:!0}),mediaIndex:0,partIndex:0},n),l="/music/:/transcode/universal/"+i):(o={identifier:t.get("identifier"),url:e.resolveUrl(a.key,{useRelativeUrl:!0}),format:"mp3",audioCodec:"libmp3lame",audioBitrate:320,audioSamples:44100},l="/music/:/transcode/generic.mp3"),this.logParams("Music",i,o),o=s().extend(o,e.getHeaders());const c=this.extensions[o.protocol];return"start"===i&&c&&(l+=c),e.resolveUrl(l+"?"+this.serializeParams(o,e))},video:function(e,t,n,i,r,a){r||(r={}),a||(a="start");const d=e.entityID()===t.get("serverEntityID"),u=e.get("activeConnection").get("isPrivate");let p=s().extend({hasMDE:1,path:e.resolveUrl(t.get("key"),{useRelativeUrl:d,appendToken:!d}),mediaIndex:l(t,n.id),partIndex:c(n,i.key),protocol:"hls",fastSeek:1,directPlay:0,directStream:1,subtitleSize:100,audioBoost:o.KH,location:u?"lan":"wan"},r);this.logParams("Video",a,p),p=s().extend(p,e.getHeaders());const m=this.extensions[p.protocol];let h="/video/:/transcode/universal/"+a;return"start"===a&&m&&(h+=m),e.resolveUrl(h+"?"+this.serializeParams(p,e))},game:function(e,t,n,i,r){i||(i={}),r||(r="start");const a=e.entityID()===t.get("serverEntityID"),o=e.get("activeConnection").get("isPrivate");let c=s().extend({path:e.resolveUrl(t.get("key"),{useRelativeUrl:a,appendToken:!a}),location:o?"lan":"wan",mediaIndex:l(t,n.id)},i,{protocol:void 0});this.logParams("Game",r,c),c=s().extend(c,e.getHeaders());const d=this.extensions[c.protocol];let u="/game/:/transcode/"+r;return"start"===r&&d&&(u+=d),e.resolveUrl(u+"?"+this.serializeParams(c,e))}}},35981:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(13469),s=n.n(i),r=n(69434);function a(e){const t=s().clone(e);return t.hasOwnProperty("title")?(t.title=s().result(t,"title"),t.hasOwnProperty("shortTitle")&&(t.shortTitle=s().result(t,"shortTitle")),t.hasOwnProperty("plural")&&(t.plural=s().result(t,"plural")),t):t}function o(e,t){const n={};return e.forEach((e=>{n[e]=t.reduceRight(((t,n)=>{const i=n[e];return null!=i&&(t[i]=n),t}),{})})),{contains:function(e){for(const t in n)if(n[t][e])return!0;return!1},get:function(e){for(const t in n){const i=n[t][e];if(i)return a(i)}r.Z.warn(`No type was found for ${e}`)},getAll:function(){return t.map(a)}}}},94716:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(58605),s=n(46453),r=n(34470);const a=function(e,t,n){const{key:a,types:o={}}=e,l=Array.isArray(t.protocols)?t.protocols.includes(r.K):t.protocols[r.K],c=a===i.Hs;if(l)return c;if(c)return!1;const d=n.agent===s.Hn;if(a===i.FM&&!d||a===i.MB&&d)return!1;const{type:u,subtype:p}=o;return n.type===u&&(null==p&&null==n.subtype||null!=p&&n.subtype===p)};function o(e,t){if(!e||!t||"hubs"===t.id||"categories"===t.id&&"news"===t.subtype||"channels"===t.id&&"news"===t.subtype)return;const n=(0,i.vK)();for(let i=0,s=n.length;i<s;i++){const s=n[i];if(a(s,e,t))return s}return n.find((e=>e.key===i.lz))}},71321:(e,t,n)=>{"use strict";n.d(t,{IY:()=>i,VJ:()=>s,M9:()=>r,vT:()=>a});const i="list",s="spotlight",r="upsell",a=["shelf","grid",i,"banner","hero"]},91135:(e,t,n)=>{"use strict";n.d(t,{Hn:()=>s,pX:()=>r,j0:()=>a,pV:()=>o,eD:()=>l});var i=n(35981);const s="none",r="video",a="audio",o="photo",l="rom",c=(0,i.Z)(["id","typeString"],[{id:0,typeString:s},{id:1,typeString:r},{id:2,typeString:a},{id:3,typeString:o},{id:999,typeString:l}]);c.get,c.getAll},61478:(e,t,n)=>{"use strict";n.r(t),n.d(t,{NEWS:()=>i,PODCAST:()=>s,WEBSHOW:()=>r,MUSIC_VIDEO:()=>a});const i="news",s="podcast",r="webshow",a="musicVideo"},69881:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MOVIE:()=>a,SHOW:()=>o,SEASON:()=>l,EPISODE:()=>c,ARTIST:()=>d,ALBUM:()=>u,TRACK:()=>p,CLIP:()=>m,TRAILER:()=>h,COMIC:()=>g,PERSON:()=>y,PHOTO:()=>v,PHOTO_ALBUM:()=>f,AUDIO:()=>I,VIDEO:()=>b,PLAYLIST:()=>M,PLAYLIST_FOLDER:()=>S,STATION:()=>E,COLLECTION:()=>D,MIXED:()=>C,FOLDER:()=>P,CHANNEL:()=>w,GAME:()=>T,containsMetadataType:()=>N,getMetadataType:()=>A,getAllMetadataTypes:()=>x,getChildType:()=>L,getLeafType:()=>O,getParentType:()=>j,getRootType:()=>k,getRelatedTypes:()=>R,isParentType:()=>z,isDirectoryType:()=>U});var i=n(5562),s=n(35981),r=n(91135);const a="movie",o="show",l="season",c="episode",d="artist",u="album",p="track",m="clip",h="trailer",g="comic",y="person",v="photo",f="photoalbum",I="audio",b="video",M="playlist",S="playlistFolder",E="station",D="collection",C="mixed",P="folder",w="channel",T="game",Z=(0,s.Z)(["id","typeString"],[{id:1,typeString:a,title:()=>(0,i.Z)("Movie"),plural:()=>(0,i.Z)("Movies"),mediaType:r.pX},{id:2,typeString:o,title:()=>(0,i.Z)("Show"),plural:()=>(0,i.Z)("Shows"),mediaType:r.Hn,child:l},{id:3,typeString:l,title:()=>(0,i.Z)("Season"),plural:()=>(0,i.Z)("Seasons"),mediaType:r.Hn,parent:o,child:c},{id:4,typeString:c,title:()=>(0,i.Z)("Episode"),plural:()=>(0,i.Z)("Episodes"),mediaType:r.pX,parent:l},{id:5,typeString:h,title:()=>(0,i.Z)("Trailer"),plural:()=>(0,i.Z)("Trailers"),mediaType:r.pX},{id:6,typeString:g,title:()=>(0,i.Z)("Comic"),plural:()=>(0,i.Z)("Comics"),mediaType:r.pV},{id:7,typeString:y,title:()=>(0,i.Z)("Person"),plural:()=>(0,i.Z)("People"),mediaType:r.Hn},{id:8,typeString:d,title:()=>(0,i.Z)("Artist"),plural:()=>(0,i.Z)("Artists"),mediaType:r.Hn,child:u},{id:9,typeString:u,title:()=>(0,i.Z)("Album"),plural:()=>(0,i.Z)("Albums"),mediaType:r.Hn,parent:d,child:p},{id:10,typeString:p,title:()=>(0,i.Z)("Track"),plural:()=>(0,i.Z)("Tracks"),mediaType:r.j0,parent:u},{id:11,typeString:"picture",title:()=>(0,i.Z)("Picture"),plural:()=>(0,i.Z)("Pictures"),mediaType:r.pV},{id:12,typeString:m,title:()=>(0,i.Z)("Clip"),plural:()=>(0,i.Z)("Clips"),mediaType:r.pX},{id:13,typeString:v,title:()=>(0,i.Z)("Photo"),plural:()=>(0,i.Z)("Photos"),mediaType:r.pV,parent:f},{id:14,typeString:f,title:()=>(0,i.Z)("Photo Album"),plural:()=>(0,i.Z)("Photo Albums"),mediaType:r.Hn,child:v},{id:15,typeString:M,title:()=>(0,i.Z)("Playlist"),plural:()=>(0,i.Z)("Playlists"),mediaType:r.Hn,parent:f},{id:16,typeString:S,title:()=>(0,i.Z)("Playlist"),plural:()=>(0,i.Z)("Playlists"),mediaType:r.Hn,child:M},{id:18,typeString:D,title:()=>(0,i.Z)("Collection"),plural:()=>(0,i.Z)("Collections"),mediaType:r.Hn},{id:19,typeString:T,title:()=>(0,i.Z)("Game"),plural:()=>(0,i.Z)("Games"),mediaType:r.eD}]),N=Z.contains,A=Z.get,x=Z.getAll;function L(e){const t=Z.get(e);if(t&&t.child)return Z.get(t.child)}function O(e){const t=Z.get(e);if(t){const e=t.child;return null==e?t:O(e)}}function j(e){const t=Z.get(e);if(t)return Z.get(t.parent)}function k(e){const t=Z.get(e);if(t){const e=t.parent;return null==e?t:k(e)}}function R(e,t){if(!t){const t=k(e);return t?R(t.id,[]):[]}const n=Z.get(e),i=L(e),s=[...t,n];return i?R(i.id,s):s}function z(e){return!!L(e)}function U(e){const t=Z.get(e);return!!t&&t.mediaType===r.Hn}},89984:(e,t,n)=>{"use strict";n.d(t,{j0:()=>i,pX:()=>s,pV:()=>r});const i="audio",s="video",r="photo"},32003:(e,t,n)=>{"use strict";n.d(t,{MB:()=>l,TV:()=>c,xF:()=>d,n1:()=>u,FM:()=>p,Wp:()=>m,ZP:()=>h});var i=n(46453),s=n(17146),r=n(5562),a=n(35981),o=n(69881);const l="movies",c="tv",d="music",u="photos",p="videos",m="game",h=(0,a.Z)(["key","typeID","typeString","rootTypeString"],[{key:l,typeID:"1",typeString:o.MOVIE,rootTypeString:o.MOVIE,title:()=>(0,r.Z)("Movies"),shortTitle:()=>(0,r.Z)("Movies"),defaultLanguage:"en",defaultAgents:[i.WX,i.HN],defaultScanners:[s.Lx,s.wz],mutual:{agent:i.WX,scanner:s.Lx}},{key:c,typeID:"2",typeString:o.SHOW,rootTypeString:o.SHOW,title:()=>(0,r.Z)("TV Shows"),shortTitle:()=>(0,r.Z)("Shows"),defaultLanguage:"en",defaultAgents:[i.NV],defaultScanners:[s.VA],mutual:{agent:i.Zb,scanner:s.QQ}},{key:d,typeID:"8",typeString:o.ARTIST,rootTypeString:o.ARTIST,title:()=>(0,r.Z)("Music"),shortTitle:()=>(0,r.Z)("Music"),defaultLanguage:"en",defaultAgents:[i.Ut,i.E4],defaultScanners:[s.c3,s.OQ],exclusiveAgents:[i.zR],exclusiveScanners:[s.N6],mutual:{agent:i.Ut,scanner:s.c3}},{key:u,typeID:"13",typeString:o.PHOTO,rootTypeString:o.PHOTO_ALBUM,title:()=>(0,r.Z)("Photos"),shortTitle:()=>(0,r.Z)("Photos"),defaultLanguage:"en",defaultAgents:[i.Hn],defaultScanners:[s.RZ],mutual:{}},{key:p,typeID:"1",typeString:o.MOVIE,rootTypeString:o.CLIP,title:()=>(0,r.Z)("Other Videos"),shortTitle:()=>(0,r.Z)("Videos"),defaultLanguage:"xn",defaultAgents:[i.Hn],defaultScanners:[s.S5],mutual:{}},{key:m,typeID:"19",typeString:o.GAME,rootTypeString:o.GAME,title:()=>(0,r.Z)("Games"),shortTitle:()=>(0,r.Z)("Games"),defaultLanguage:"en",defaultAgents:[i.nQ],defaultScanners:[s._q],mutual:{agent:i.nQ,scanner:s._q}}])},99394:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(14408),s=n(40498);function r(e){return{type:i.Z.boolean,save(){return this.has(e)}}}function a(e){return{type:i.Z.queryString,separators:["|","&"],orFields:[s.ZO,s.GP],andFields:[s.Jm,s.Bi],save(){return this.has(e)}}}const o={allowTuners:{type:i.Z.integer,save(){return this.has("allowTuners")}},allowSync:r("allowSync"),allowCameraUpload:r("allowCameraUpload"),allowChannels:r("allowChannels"),filterMovies:a("filterMovies"),filterTelevision:a("filterTelevision"),filterMusic:a("filterMusic"),filterPhotos:a("filterPhotos")}},58605:(e,t,n)=>{"use strict";n.d(t,{lz:()=>o,Hs:()=>l,MB:()=>c,xF:()=>d,Rq:()=>u,n1:()=>p,ls:()=>m,HG:()=>h,TV:()=>g,FM:()=>y,w1:()=>v,Ap:()=>f,IO:()=>I,vK:()=>M});var i=n(5562),s=n(35981),r=n(61478),a=n(69881);const o="unknown",l="dvr",c="movies",d="music",u="news",p="photos",m="playlists",h="podcasts",g="tv",y="videos",v="webShows",f="shared",I="game",b=(0,s.Z)(["key"],[{key:o,title:()=>(0,i.Z)("Unknown"),types:{}},{key:m,types:{type:a.PLAYLIST}},{key:c,types:{type:a.MOVIE}},{key:g,types:{type:a.SHOW}},{key:d,types:{type:a.ARTIST}},{key:p,types:{type:a.PHOTO}},{key:y,types:{type:a.MOVIE}},{key:"episode",types:{type:a.EPISODE}},{key:l,title:()=>(0,i.Z)("Live TV & DVR")},{key:f,types:{type:a.MIXED}},{key:u,title:()=>(0,i.Z)("News"),types:{type:a.CLIP,subtype:r.NEWS}},{key:h,types:{type:a.SHOW,subtype:r.PODCAST}},{key:v,types:{type:a.SHOW,subtype:r.WEBSHOW}},{key:I,types:{type:a.GAME}}]),M=(b.get,b.getAll)},73004:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(5562);const s=(0,n(35981).Z)(["id","typeString"],[{id:1,typeString:"video",key:"videoStreamID",title:()=>(0,i.Z)("Video")},{id:2,typeString:"audio",key:"audioStreamID",title:()=>(0,i.Z)("Audio")},{id:3,typeString:"subtitles",key:"subtitleStreamID",title:()=>(0,i.Z)("Subtitles")},{id:4,typeString:"lyrics",key:"lyricStreamID",title:()=>(0,i.Z)("Lyrics")}])},83705:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(5562);const s=(0,n(35981).Z)(["id","typeString"],[{id:0,typeString:"tag",title:()=>(0,i.Z)("Tag")},{id:1,typeString:"genre",title:()=>(0,i.Z)("Genre")},{id:2,typeString:"collection",title:()=>(0,i.Z)("Collection")},{id:3,typeString:"bookmark",title:()=>(0,i.Z)("Bookmark")},{id:4,typeString:"director",title:()=>(0,i.Z)("Director"),isPerson:!0},{id:5,typeString:"writer",title:()=>(0,i.Z)("Writer"),isPerson:!0},{id:6,typeString:"actor",title:()=>(0,i.Z)("Actor"),isPerson:!0},{id:7,typeString:"producer",title:()=>(0,i.Z)("Producer"),isPerson:!0},{id:8,typeString:"country",title:()=>(0,i.Z)("Country")},{id:9,typeString:"chapter",title:()=>(0,i.Z)("Chapter")},{id:10,typeString:"review",title:()=>(0,i.Z)("Review")},{id:11,typeString:"label",title:()=>(0,i.Z)("Label")},{id:42,typeString:"versionBackgroundProcessingTarget",title:()=>(0,i.Z)("Version Background Processing Target")},{id:200,typeString:"make",title:()=>(0,i.Z)("Make")},{id:201,typeString:"model",title:()=>(0,i.Z)("Model")},{id:202,typeString:"aperture",title:()=>(0,i.Z)("Aperture")},{id:203,typeString:"exposure",title:()=>(0,i.Z)("Exposure")},{id:204,typeString:"iso",title:()=>(0,i.Z)("ISO")},{id:205,typeString:"lens",title:()=>(0,i.Z)("Lens")},{id:206,typeString:"device",title:()=>(0,i.Z)("Device")},{id:207,typeString:"autotag",title:()=>(0,i.Z)("Autotag")},{id:400,typeString:"place",title:()=>(0,i.Z)("Place")},{id:300,typeString:"mood",title:()=>(0,i.Z)("Mood")},{id:301,typeString:"bpm",title:()=>(0,i.Z)("BPM")},{id:302,typeString:"composer",title:()=>(0,i.Z)("Composer")},{id:303,typeString:"featuring",title:()=>(0,i.Z)("Featuring")},{id:304,typeString:"trackArtist",title:()=>(0,i.Z)("Track Artist")},{id:305,typeString:"similarArtist",title:()=>(0,i.Z)("Similar Artist")},{id:306,typeString:"concert",title:()=>(0,i.Z)("Concert")}])},74183:(e,t,n)=>{"use strict";function i(e){if(/\.plex\.direct$/.test(e)){const t=e.indexOf(".");t>0&&(e=(e=e.substring(0,t)).replace(/-/g,"."))}return e}n.d(t,{Z:()=>i})},85790:(e,t,n)=>{"use strict";n.d(t,{At:()=>d,lv:()=>u,KF:()=>p,q1:()=>m,iX:()=>h});var i=n(13469),s=n.n(i);const r=/^([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/,a=/(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))/i,o=/[a-f0-9]{1,4}/gi;function l(e){const t=r.exec(e);if(null!=t)return{octets:s().map(s().rest(t),(e=>parseInt(e,10)))}}function c(e){if(!a.test(e))return;const t=e.split("::"),n=t[0].match(o),i={parts:[]};if(null!=n){if(n.length>8)return;i.parts=s().map(n,(e=>parseInt(e,16)))}if(t.length>1){const e=t[1].match(o),n=s().map(e,(e=>parseInt(e,16))),r=8-i.parts.length-n.length;if(r<0||8===r)return;s().times(r,(()=>{i.parts.push(0)})),i.parts=i.parts.concat(n)}return i}function d(e){return m(e)||function(e){const t=c(e);return!(!t||!s().all(t.parts,(e=>e>=0&&e<=65535)))}(e)}function u(e){return"localhost"===e||function(e){const t=l(e);return!(!t||127!==t.octets[0]&&!s().all(t.octets,(e=>0===e)))}(e)||function(e){const t=c(e);return!!t&&(s().all(s().take(t.parts,7),(e=>0===e))&&1===s().last(t.parts))}(e)}function p(e){return function(e){const t=l(e);if(t){if(10===t.octets[0])return!0;if(172===t.octets[0]&&t.octets[1]>=16&&t.octets[1]<=31)return!0;if(192===t.octets[0]&&168===t.octets[1])return!0}return!1}(e)||function(e){const t=c(e);return!!(t&&t.parts[0]>=64512&&t.parts[0]<=65023)}(e)}function m(e){const t=l(e);return!(!t||!s().all(t.octets,(e=>e>=0&&e<=255)))}function h(e){return m(e)?e.split(".").slice(0,-1).join("."):""}},55605:(e,t,n)=>{"use strict";function i(e){return/^\w+:\/\//.test(e)}n.d(t,{Z:()=>i})},64033:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(93966),s=n(59756);function r(e){return!e.get("experienceSettings").get("isRemoteSchemaVersionNewer")&&s.Z.allowSyncSettings&&(0,i.DB)("settingFinder").find("shouldSyncSettings")}},39957:(e,t,n)=>{"use strict";function i(e,t){return`${e}::${t}`}n.d(t,{Z:()=>i})},93063:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(32553);const s=function(e){return(0,i.Z)(e,(e=>e.uuid),(()=>!0))}},57721:(e,t,n)=>{"use strict";n.d(t,{d:()=>r});var i=n(45399);const s=["free"];function r(e,t){const n=t&&t.requires;if(!n)return!0;if(n===i.sy)return!e.anonymous;const r=e.services[n];return!!r&&!s.includes(r.subscriptionType)}},57054:(e,t,n)=>{"use strict";function i(e){return{status:e.status,statusText:e.statusText,readyState:e.readyState,responseText:e.responseText}}n.d(t,{Z:()=>i})},33295:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(19755),s=n.n(i),r=n(13469),a=n.n(r),o=n(7082),l=n(69434),c=n(47909),d=n(93966);const u=new(o.Z.extend({initialize(){a().bindAll(this,"onAjaxSend","onAjaxComplete"),this.requests=[],this.byId={}},startListening(){const e=s()(document);e.on("ajaxSend",this.onAjaxSend),e.on("ajaxComplete",this.onAjaxComplete)},stopListening(){const e=s()(document);e.off("ajaxSend",this.onAjaxSend),e.off("ajaxComplete",this.onAjaxComplete)},abortAll(e){for(let t=this.requests.length-1;t>-1;t--){const n=this.requests[t];null!=e&&e!==n.settings.scope||this.abort(n)}},abort(e){const t=a().isString(e)?this.byId[e]:e;t&&(t.xhr.aborting=!0,t.xhr.abort(),this.remove(t))},store(e,t){const n=a().uniqueId("r");e.rid=n;const i={xhr:e,settings:t};return this.requests.push(i),this.byId[n]=i,i},remove(e){const t=a().indexOf(this.requests,e);t>-1&&this.requests.splice(t,1),this.byId.hasOwnProperty(e.xhr.rid)&&delete this.byId[e.xhr.rid]},onAjaxSend(e,t,n){if(n.skipCorsWithRedirect)return;const i=this.store(t,n);t.always((()=>{t.aborting||this.remove(i)}))},onAjaxComplete(e,t,n){const i=401===t.status;if(t.aborting||!i)return;const s=c.Z.parseUrl(n.url);if(i&&("/log"===s.pathname||"/"===s.pathname||"/media/providers"===s.pathname))return;const r=(0,d.DB)("appModel").get("servers"),o=r?r.find((e=>{const t=e.get("activeConnection"),i=t&&t.get("isConnected"),s=a().result(t,"url");return!!i&&n.url.substring(0,s.length)===s})):null;o&&((0,l.Z)('[Connections] Active connection to "%s" lost authorization',o.get("debugName")),o.trigger("error:connection",o))}}))},93634:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(19755),s=n.n(i),r=n(13469),a=n.n(r),o=n(23863),l=n(89001),c=n(2262),d=n(93966),u=n(65652),p=n(59756),m=n(16551);const h="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",g=u.Z.ItemView.extend({tagName:"img",background:!1,backgroundSize:"",cache:new o.Z,initialize:function(e){e||(e={}),a().bindAll(this,"onLoad","onError","loadImage"),this.url=e.url,this.server=e.server,this.placeholder=e.placeholder,this.placeholderClass=e.placeholderClass,this.modelAttribute=e.modelAttribute,this.ignoreAttributeChanges=e.ignoreAttributeChanges,this.exposeUrl=e.exposeUrl,this.resetOnError=e.resetOnError,this.emptyImage=e.explicitEmpty?"url("+h+")":"",e.background&&(this.background=e.background),e.backgroundSize&&(this.backgroundSize=e.backgroundSize),e.format&&(this.format=e.format),e.quality&&(this.quality=e.quality),a().isFunction(e.getUrl)&&(this.getUrl=e.getUrl),this.allowBaseImageBlobs=p.Z.allowBaseImageBlobs,this.allowBaseImagePreloading=p.Z.allowBaseImagePreloading,this.setup(e)},setup:function(e){this.setDimensions(e),this.setFilters(e.filters),this.setModel(e.model,e)},setDimensions:function(e){e.width&&e.height&&(this.transcode=!0,this.width=e.width,this.height=e.height)},setFilters:function(e){this.filters=e||void 0},hasFilters:function(){return void 0!==this.filters},setModel:function(e,t){t||(t={}),this.stopListening(),this.src=null,this.model=e,e&&(this.server||(this.server=e.server),t.url||this.modelAttribute&&(this.url=this.getUrl(e.get(this.modelAttribute)),this.ignoreAttributeChanges||this.listenTo(e,"change:"+this.modelAttribute,this.onChange)))},setElement:function(e){u.Z.ItemView.prototype.setElement.apply(this,arguments),this.render({force:!0})},getUrl:function(e){return e},getTranscodeUrl:function(e){if(!this.server||!this.transcode)return e;const t=d.DB("appModel"),n=(0,l.Z)();return m.Z.image(this.server,e,{fallbackServer:t.get("primaryServer"),width:this.width*n,height:this.height*n,minSize:this.minSize,filters:this.filters,format:this.format,quality:this.quality})},render:function(e){return e||(e={}),this.url||this.placeholder||this.placeholderClass?this.src?(e.force&&this.showImage(this.src),this):(this.isPlaceholderRendered&&this.url||this.showPlaceholder(),this.url&&this.load(this.url,this.transcode).then(this.onLoad,this.onError,this.onLoad),this):this},showPlaceholder:function(){if(this.isPlaceholderRendered=!0,this.$el.removeClass("loaded"),this.placeholderClass)return this.$el.addClass(this.placeholderClass),void this.$el.css("background-image",this.emptyImage);this.placeholder?this.showImage(this.placeholder):this.clearImage()},clearImage:function(){this.background?this.$el.css("background-image",this.emptyImage):this.showImage(h)},showImage:function(e){this.background?this.showBackgroundImage(e):this.$el.attr("src",e).removeAttr("width").removeAttr("height")},showBackgroundImage:function(e){this.$el.css("background-image","url("+e+")")},load:function(e){if(!e)return s().Deferred().reject().promise();if(e=this.getTranscodeUrl(e),this.exposeUrl&&this.$el.attr("data-image-url",e),this.allowBaseImageBlobs&&c.Z.hasBlob&&c.Z.hasObjectUrl){let t=this.loadBlob(e);return t=t.then(this.loadImage,null,this.loadImage),t}return this.allowBaseImagePreloading?this.loadImage(e):s().Deferred().resolve(e).promise()},loadBlob:function(e){const t=s().Deferred();this.cancel();const n=this.cache.getBlobUrl(e);if(n)return t.resolve(n),t.promise();{const n=this.cache.getPlaceholder(e);n&&t.notify(n,!0)}const i=new window.XMLHttpRequest;return i.open("GET",e,!0),i.responseType="arraybuffer",this.xhr=i,i.onreadystatechange=a().bind((function(){if(4===i.readyState)if(i.onreadystatechange=null,this.xhr=null,200===i.status){const n=new window.Blob([i.response],{type:"image/jpeg"}),s=window.URL.createObjectURL(n);this.cache.store({url:e,blobUrl:s}),t.resolve(s)}else t.reject()}),this),i.send(),t.promise()},loadImage:function(e,t){const n=s().Deferred(),i=new window.Image;return i.onload=function(){i.onload=i.onabort=i.onerror=null,t?n.notify(e,i.width,i.height):n.resolve(e,i.width,i.height)},i.onabort=i.onerror=function(){i.onload=i.onabort=i.onerror=null,n.reject()},i.src=e,n.promise()},cancel:function(){this.xhr&&(this.xhr.onreadystatechange=null,this.xhr.abort(),this.xhr=null)},onLoad:function(e,t,n){if(this.backgroundSize){const e=t&&t>this.width||n&&n>this.height?this.backgroundSize:"auto";this.$el[0].style.backgroundSize=e}this.src=e,this.placeholderClass&&this.$el.removeClass(this.placeholderClass),this.$el.addClass("loaded"),this.showImage(e),this.trigger("load",e,t,n)},onError:function(){this.resetOnError&&this.showPlaceholder(),this.trigger("error")},onClose:function(){this.cancel()},onChange:function(e,t){if(t=this.getUrl(t),this.url===t)return this;this.url=t,this.src=null,this.render()}})},64106:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(53779),s=n(62779),r=n(93634);const a=r.Z.extend({background:!0,setup(e){this.minSize=!0,this.type=e.type,this.modelAttribute=e.modelAttribute||"thumb",!1!==e.placeholder&&(this.model&&this.model.get("isFolder")?this.placeholderClass=i.Z.folder:e.placeholderClass||(this.placeholderClass=i.Z[this.type])),r.Z.prototype.setup.apply(this,arguments)},setDimensions(e){e.width?e.height=s.Z.getPosterHeight(this.type,e.width):e.height&&(e.width=s.Z.getPosterWidth(this.type,e.height)),r.Z.prototype.setDimensions.call(this,e)},setModel(e,t){r.Z.prototype.setModel.apply(this,arguments),this.model&&this.model.get("isFolder")&&(this.placeholderClass=i.Z.folder)}})},97486:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(94184),s=n.n(i),r=n(82777),a=n(67294),o=n(75500);class l extends a.Component{render(){const{className:e,containerClassName:t,backgroundClassName:n,textClassName:i,size:o,lineWidth:l,strokeColor:c,trackColor:d,progress:u,progressText:p=`${Math.round(u)}%`,easing:m,showProgressText:h,showIndeterminate:g}=this.props,y=this.props.smoothProgressDuration/1e3,v=g?50:u,f=g?null:p,I=o/2,b=I-l,M=Math.PI*(2*b),S=o+"px",E=o-3*l+"px",D=(100-v)/100*M;return a.createElement("div",{className:t,style:{width:S,height:S,lineHeight:S}},a.createElement("svg",{className:s()(e,g&&"CircularProgressBar-indeterminate-oWvaoR spin-spin-oHlEXH"),version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:o,height:o},d?a.createElement("circle",{fill:"transparent",r:b,cx:I,cy:I,style:{strokeWidth:l,stroke:d}}):null,a.createElement(r.ww.circle,{fill:"transparent",r:b,cx:I,cy:I,strokeDasharray:M,strokeDashoffset:D,style:{strokeWidth:l,stroke:c},initial:!0,animate:{strokeDashoffset:D},transition:{duration:y,ease:m}})),a.createElement("div",{className:n,style:{width:E,height:E}}),h&&f?a.createElement("div",{className:i},f):null)}}l.defaultProps={className:"CircularProgressBar-circularProgressBar-CcbTjD",containerClassName:"CircularProgressBar-circularProgressBarContainer-2G95YB",backgroundClassName:"CircularProgressBar-circularProgressBarBackground-1LlpZu",textClassName:"CircularProgressBar-circularProgressBarText-2Pos90",size:60,lineWidth:5,strokeColor:o.Z.primaryColor,showProgressText:!0,smoothProgressDuration:1e3,easing:"easeOut"};const c=l},54611:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i=n(67294),s=n(73935),r=n(67038),a=n(69434),o=n(22093),l=n(37201),c=n(7165),d=n(5562),u=n(91135),p=n(93554),m=n(45697),h=n.n(m);function g({onPositionUpdate:e,onTick:t}){const n=(0,i.useRef)(Date.now());return(0,i.useEffect)((()=>{let t;return e&&(t=window.setInterval(e,40)),()=>{t&&window.clearInterval(t)}}),[e]),(0,i.useEffect)((()=>{let e;return t&&(e=window.setInterval((()=>{const e=Math.floor((Date.now()-n.current)/1e3);t(e)}),1e3)),()=>{e&&window.clearInterval(e)}}),[t]),null}g.propTypes={onPositionUpdate:h().func,onTick:h().func};const y=g;class v extends i.Component{constructor(e,t){super(e,t),this._nativeSeek=e=>{this._mediaEl.currentTime=e},this.onStarted=()=>{const{positionSeconds:e,onDurationMillisecondsChange:t}=this.props;this.state.isStarted||(e&&(this.props.onResumeSeek||this.props.onSeek||this._nativeSeek)(e),this.setState({isStarted:!0},(()=>{if(t){const e=this._mediaEl.duration;t(Number.isFinite(e)?Math.floor(1e3*e):0)}})))},this.onDataLoad=()=>{this._canNativelySelectAudioTrack()&&this._selectAudioTrack(),this._canNativelySelectTextTrack()&&(this._selectTextTrack(),this._mediaEl.textTracks.addEventListener("addtrack",this.onAddTrack)),(0,c.Z)()||this.onStarted()},this.onCanPlay=()=>{(0,c.Z)()&&this.onStarted()},this.onCanPlayThrough=()=>{this.props.onCanPlayThrough&&this.props.onCanPlayThrough(!0)},this.onPositionUpdate=()=>{if(!this._mediaEl)return;const e=Math.floor(1e3*this._mediaEl.currentTime);if(e!==this._lastPositionMilliseconds)this._lastPositionMilliseconds=e,this._lastPositionChangeTime=Date.now(),this._isBuffering&&(this._isBuffering=!1,this.props.onBufferingChange&&this.props.onBufferingChange(!1));else if(!this._isBuffering&&!this.props.paused){const e=Date.now()-this._lastPositionChangeTime;e>this.props.bufferingDetectionLimit&&(a.Z.warn(`[Player] Buffering detected, last position change was ${e}ms ago`),this._isBuffering=!0,this.props.onBufferingChange&&this.props.onBufferingChange(!0))}this.props.onPositionMillisecondsChange(e)},this.onProgress=()=>{if(this.props.onBufferChange){const{buffered:e}=this._mediaEl,t=[];for(let n=0;n<e.length;n++)t.push({startSeconds:e.start(n),endSeconds:e.end(n)});this.props.onBufferChange(t)}},this.onEnded=()=>{this.props.onEnd&&this.props.onEnd()},this.onError=e=>{const{code:t}=e.target.error,n=function(e){switch(e){case 1:return(0,d.Z)("Abort");case 2:return(0,d.Z)("Network");case 3:return(0,d.Z)("Decode");case 4:return(0,d.Z)("Not Supported")}}(t),i=`${t} (${n||"Unknown"})`;2===t?a.Z.warn(`[Player] An HTML media error occurred: ${i}; the player will attempt to recover`):(a.Z.warn(`[Player] A critical HTML media error occurred: ${i}; the player cannot recover`),this.props.onError&&this.props.onError({code:`h${t}`,category:n}))},this.onSeek=e=>{const t=this._mediaEl.ended;this._nativeSeek(e),this.props.onSeek&&this.props.onSeek(e),!this.props.paused&&t&&this._play()},this.onPause=()=>{this._mediaEl.ended||this.props.onPause&&this.props.onPause()},this.onPlay=()=>{this.props.onPlay&&this.props.onPlay()},this.onResize=()=>{const{videoWidth:e,videoHeight:t}=this._mediaEl;this.props.onIntrinsicDimensions&&this.props.onIntrinsicDimensions({width:e,height:t})},this.onAddTrack=()=>{this._selectTextTrack()},this.state={isStarted:!1},this._mediaListeners={loadeddata:this.onDataLoad,canplay:this.onCanPlay,canplaythrough:this.onCanPlayThrough,progress:this.onProgress,ended:this.onEnded,error:this.onError,pause:this.onPause,play:this.onPlay,resize:this.onResize},this._lastPositionMilliseconds=null,this._lastPositionChangeTime=0,this._isBuffering=!1,this._isUnmounting=!1}componentDidMount(){this._mediaEl=(0,l.Vq)(this.props.mediaType,this.props.allowRecycleElement);const e=this._mediaEl;e.className="HTMLMedia-mediaElement-2XwlNN",e.volume=Math.max(0,Math.min(this.props.volume/100,1)),Object.keys(this._mediaListeners).forEach((t=>{e.addEventListener(t,this._mediaListeners[t])})),this._node=s.findDOMNode(this),this._node.appendChild(e),this.props.onElementChange?this.props.onElementChange(e):e.src=this.props.src,this.props.isReadyToPlay&&!this.props.paused&&this.props.src&&this._play(),this._mediaEl.playbackRate=this.props.playbackSpeed,this.props.onMetricsPlayerChange(o.k9)}componentDidUpdate(e,t){(0,r.Z)(this.props.src===e.src,"Use a new `key` when changing `src`");const{lastSeekPositionSeconds:n,paused:i,volume:s,playbackSpeed:a,isReadyToPlay:o,audioStream:l,subtitleStream:c,subtitleSize:d,hasBurnedSubtitles:u,isStreamChangeInProgress:p,onStreamChange:m}=this.props,h=this._mediaEl,g=null!=n&&n!==e.lastSeekPositionSeconds,y=(!!e.audioStream&&e.audioStream.id)!==(!!l&&l.id),v=(!!e.subtitleStream&&e.subtitleStream.id)!==(!!c&&c.id),f=e.isStreamChangeInProgress&&!p,I=e.subtitleSize!==d;g&&this.onSeek(n),i===e.paused||h.ended||(i?this._pause():this._play()),s!==e.volume&&(h.volume=Math.max(0,Math.min(s/100,1))),a!==e.playbackSpeed&&(h.playbackRate=a),!o||e.isReadyToPlay||i||this._play(),this._canNativelySelectTextTrack()&&v&&!p&&this._selectTextTrack(),m&&(y&&!p||v&&!p||f||I&&u)&&m()}componentWillUnmount(){this._isUnmounting=!0,this._node.removeChild(this._mediaEl),this._mediaEl.src="",this._mediaEl.removeAttribute("src"),this._mediaEl.className="",Object.keys(this._mediaListeners).forEach((e=>{this._mediaEl.removeEventListener(e,this._mediaListeners[e])})),this._mediaEl.textTracks.removeEventListener("addtrack",this.onAddTrack),this.props.allowRecycleElement&&(0,l.u$)(this._mediaEl)}_play(){const e=this._mediaEl.play();e&&e.then&&e.then(null,(e=>{this._isUnmounting||(("AbortError"===e.name||"NotAllowedError"===e.name)&&this.props.onPause&&this.props.onPause(),a.Z.warn(e.name+": "+e.message))}))}_pause(){this._mediaEl.pause()}_canNativelySelectAudioTrack(){const{audioStreams:e,isDecisionDirectPlay:t}=this.props;return!!(e&&e.length&&t&&this._mediaEl.audioTracks)}_canNativelySelectTextTrack(){const{subtitlesStreams:e,isDecisionDirectPlay:t}=this.props;return!!(e&&e.length&&t&&this._mediaEl.textTracks.length>0)}_selectAudioTrack(){const{audioStreams:e,audioStream:t}=this.props,n=this._mediaEl.audioTracks;if(n){const i=e.findIndex((e=>e.id===t.id));for(let e=0;e<n.length;e++)n[e].enabled=e===i}}_selectTextTrack(){const{subtitleStream:e}=this.props,t=this._mediaEl.textTracks;if(t&&e){let n;for(let i=0;i<t.length;i++){const s=t[i];if(s.mode="disabled",!n){const t="captions"===s.kind&&"eia_608"===e.codec,i="subtitles"===s.kind&&"vtt"===e.codec,r=s.language===e.id||s.label===e.language;(t||i)&&r&&(n=!0,s.mode="showing")}}}}render(){const{height:e,width:t,placement:n,edgeGutterX:s,edgeGutterY:r,isStackedAbove:a,onTick:o}=this.props,l=(0,p.Z)(e,t,n,s,r,a);return i.createElement("div",{style:l},this.state.isStarted?i.createElement(y,{onPositionUpdate:this.onPositionUpdate,onTick:o}):null)}}v.defaultProps={mediaType:u.pX,positionSeconds:0,volume:100,playbackSpeed:1,allowRecycleElement:!1,isReadyToPlay:!0};const f=v},65671:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(67294),s=(n(67038),n(20112)),r=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=Object.assign,c=(e,t)=>{var n={};for(var i in e)r.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&a)for(var i of a(e))t.indexOf(i)<0&&o.call(e,i)&&(n[i]=e[i]);return n};const d="children";function u(e){const{className:t,component:n,childrenPropName:r,tags:a,message:o}=e;let u=[o],p=a.length-1,m=0;for(;p>=0;){const e=a[p],{open:t,close:n,unpaired:r,children:o,component:h,childrenPropName:g}=e,y=c(e,["open","close","unpaired","children","component","childrenPropName"]),v=t?new RegExp("(^.*)"+(0,s.Z)(`{${t}}`)+"(.*)"+(0,s.Z)(`{${n}}`)+"(.*$)"):new RegExp("(^.*)"+(0,s.Z)(`{${r}}`)+"()(.*$)"),f=[];for(let e=u.length-1;e>=0;e--){const t=u[e];if("string"!=typeof t)f.unshift(t);else{const e=t.match(v);if(e){const[,t,n,s]=e;h?f.unshift(t,i.createElement(h,l(l({key:m},y),{[g||d]:n})),s):f.unshift(t,o,s),m+=1}else f.unshift(t)}}f.length===u.length?p-=1:u=f}return i.createElement(n,l({className:t},{[r]:u}))}u.defaultProps={component:"span",childrenPropName:d};const p=u},5011:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(67294),s=n(28670),r=n(51343),a=n(69881);const o=function({className:e,type:t}){return(0,a.isDirectoryType)(t)?i.createElement(s.Z,{className:e}):i.createElement(r.Z,{className:e})}},66322:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(45697),s=n.n(i),r=n(67294),a=n(16548),o=n(23438),l=n(93966),c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=Object.assign;class m extends r.Component{constructor(){super(...arguments),this.onPress=e=>{const t=this.props,{children:n}=t,i=((e,t)=>{var n={};for(var i in e)c.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&d)for(var i of d(e))t.indexOf(i)<0&&u.call(e,i)&&(n[i]=e[i]);return n})(t,["children"]),{metricsPage:s}=this.context;(0,l.DB)("metrics").trackClick(p(p({},i),{page:s}))}}shouldComponentUpdate(e,t){return(0,o.Z)(this,e,t)}render(){const e=r.Children.only(this.props.children);return r.cloneElement(e,{onPress:(0,a.Z)(this.onPress,e.props.onPress)})}}m.propTypes={children:s().element.isRequired,action:s().string.isRequired},m.contextTypes={metricsPage:s().string.isRequired};const h=m},27929:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(45697),s=n.n(i),r=n(67294);class a extends r.Component{constructor(e,t){super(e,t),this.metricsContext=e.metricsContext}getChildContext(){return{metricsContext:this.metricsContext}}render(){return this.props.children?r.Children.only(this.props.children):null}}a.propTypes={children:s().node,metricsContext:s().string},a.childContextTypes={metricsContext:s().string};const o=a},63731:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(45697),s=n.n(i),r=n(67294),a=n(68521),o=(n(67038),n(93966)),l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t)=>{var n={};for(var i in e)l.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&c)for(var i of c(e))t.indexOf(i)<0&&d.call(e,i)&&(n[i]=e[i]);return n};class p extends r.Component{constructor(e,t){super(e,t),this.page=e.page}getChildContext(){return{metricsPage:this.page}}componentDidMount(){const e=this.props,{children:t,isDelegated:n}=e,i=u(e,["children","isDelegated"]);n||window.requestAnimationFrame((()=>{(0,o.DB)("metrics").trackView(i)}))}componentWillReceiveProps(e){}componentDidUpdate(e){const{children:t,isDelegated:n}=e,i=u(e,["children","isDelegated"]),s=this.props,{children:r,isDelegated:l}=s,c=u(s,["children","isDelegated"]),d=n!==l||!(0,a.Z)(i,c);!l&&d&&(0,o.DB)("metrics").trackView(c)}render(){return this.props.children?r.Children.only(this.props.children):null}}p.childContextTypes={metricsPage:s().string.isRequired};const m=p},16143:(e,t,n)=>{"use strict";n.d(t,{Ho:()=>r,Mf:()=>a,pN:()=>o,ZP:()=>l});var i=n(67294),s=n(5562);const r=-1,a=-1,o=-1;function l({className:e,displayIndex:t,displayTotal:n,secondsUntilAd:r}){const a=r>0&&r<=5;return t>0&&n>0?i.createElement("div",{className:e},1===n?(0,s.Z)("Ad"):(0,s.Z)("Ad {index} of {total}",{index:t,total:n})):a?i.createElement("div",{className:e},(0,s.Z)("Ad in {seconds}",{seconds:Math.round(r)})):null}},87691:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(45697),s=n.n(i),r=n(67294),a=n(37703),o=n(7506),l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=Object.assign;function p(...e){const t=(0,a.$j)(...e);return e=>{const n=t(e);function i(e,{metricsPage:t,metricsContext:i}){const{metricsContext:s}=e,a=((e,t)=>{var n={};for(var i in e)l.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&c)for(var i of c(e))t.indexOf(i)<0&&d.call(e,i)&&(n[i]=e[i]);return n})(e,["metricsContext"]);return r.createElement(n,u({metricsPage:t,metricsContext:s||i},a))}return i.displayName=`ConnectWithMetrics(${(0,o.Z)(e)})`,i.contextTypes={metricsPage:s().string,metricsContext:s().string},i.propTypes=u(u({},n.propTypes),{metricsContext:s().string}),i}}},44823:(e,t,n)=>{"use strict";function i(...e){return e.filter((e=>!!e)).join("--")}n.d(t,{Z:()=>i})},93554:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(79557);const s=(0,n(27903).Z)((function(e=-1,t=-1,n=i.IM,s=0,r=0,a){let o;if(n===i.Hn)o={display:"none"};else{switch(o={position:"absolute",width:-1===t?"100%":`${t}px`,height:-1===e?"100%":`${e}px`},n){case i.aV:o.bottom=r||0,o.left=s||0;break;case i.IM:o.top=r||0,o.left=s||0}a&&(o.zIndex=1)}return o}))},75534:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67294),s=n(57904);const r=function(){const[e]=(0,i.useState)(s.Z);return e}},78847:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(93966);function s(e){const t=(0,i.DB)("appModel").get("embeddedServer");return!!e&&!!t&&e.machineIdentifier===t.get("machineIdentifier")}},11272:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(91135),s=n(69881);function r(e){const{type:t,isLibraryItem:n,isExtra:r,Media:a}=e,o=(0,s.getMetadataType)(t);if(!o)return!1;const l=a.length;return n&&!r&&o.mediaType===i.pX&&l>1}},9220:(e,t,n)=>{"use strict";n.d(t,{Xp:()=>s,Y3:()=>r,Vz:()=>a,$4:()=>o,wl:()=>l,sD:()=>c,zg:()=>d,mo:()=>u,H1:()=>p,r$:()=>m,F5:()=>h,UC:()=>g,lD:()=>y,RK:()=>v,g$:()=>f,Uz:()=>I,jF:()=>b,Ap:()=>M,Bs:()=>S,IN:()=>E});var i=n(45697);const s="discover",r="library",a="directoryList",o="metadataList",l="continueWatching",c="prePlay",d="playlist",u="search",p="quickSearch",m="player",h="playQueue",g="liveTVTimeline",y="liveTVGrid",v="newscast",f="recommended",I="nowPlaying",b="downloads",M="shared",S="watchTogether",E="watchTogetherLobby";n.n(i)().oneOf([s,r,a,o,"timeline",l,c,"postPlayPrevious","postPlayNext",d,u,p,m,h,g,y,v,f,I,b,M,S,E])},48022:(e,t,n)=>{"use strict";n.d(t,{wR:()=>i.MOVIE,xx:()=>i.SEASON,uG:()=>i.EPISODE,c5:()=>i.ALBUM,IK:()=>i.TRACK,vu:()=>i.CLIP,pV:()=>i.PHOTO,zg:()=>i.PLAYLIST,du:()=>i.COLLECTION,V4:()=>s,t1:()=>r,nW:()=>a,SU:()=>o});var i=n(69881);const s="extra",r="mixed",a="musicVideo",o="folder"},3386:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(67006);function s(e){if(e&&e.features)return e.features.find((e=>e.type===i.P8))}},52601:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(47909),s=n(46525),r=Object.assign;let a,o;function l(e,t=window.location.hash){const n=function(e){if(a===e)return o;const t=e.split("?"),n=t.length>1?t[1]:void 0,s=n?i.Z.parseParams(n):{};return a=e,o={url:t[0],params:s},o}(t),l={type:void 0,typeKey:e.typeKey,filters:(0,s.Z)(e.filters),limit:e.limit,filterLabel:e.filterLabel,customFilter:e.customFilter?1:void 0,sort:e.sort,folderKey:e.folderKey,folderTitle:e.folderTitle,parentFolderKey:e.parentFolderKey,parentFolderTitle:e.parentFolderTitle,save:1};return l.customFilter||(l.playlistID=void 0,l.playlistTitle=void 0),i.Z.join(n.url,r(r({},n.params),l))}},87385:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(17524),s=n(26512);function r(e,t,n,r={},a){if(n){const e=n.pivots.find((({key:e})=>e.includes(n.key)));r.key=t.identifier===i.Y3?e.key:n.key}return(0,s.Z)(e,t,n,r,a)}},41431:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(97334);function s(e,t,n,s){return(0,i.Z)(e.isCloud,e.machineIdentifier,t.identifier,n,s)}},97334:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(47909);function s(e,t,n,s={},r){const a=["#!","media"];return e||a.push(encodeURIComponent(t)),a.push(encodeURIComponent(n),r),i.Z.join(a,s)}},26512:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(78847),s=n(41431),r=Object.assign;function a(e,t,n,a={},o){if(!(0,i.Z)(e))return n?(0,s.Z)(e,t,r({source:n.id},a),o):(0,s.Z)(e,t,a,o)}},89197:(e,t,n)=>{"use strict";n.d(t,{tk:()=>o,kP:()=>c,ZP:()=>d});var i=n(47909),s=n(3386),r=n(26512),a=Object.assign;const o={RECORDING_SCHEDULE:"view://dvr/recording-schedule",GUIDE:"view://dvr/guide",TIMELINE:"view://photo/timeline",SHARED_ITEMS:"view://shared-items"},l={[o.RECORDING_SCHEDULE]:{path:"schedule"},[o.GUIDE]:{path:"guide"},[o.TIMELINE]:{path:"timeline",getRouteParams:(e,t)=>({key:i.Z.join([e.key,t.id,"cluster"],{clusterZoomLevel:1})})},[o.SHARED_ITEMS]:{getRouteParams:(e,t)=>({key:t.pivots[0].key})}};function c(e){return!!l[e]}function d(e,t,n,i,o={}){if(!c(e))return;const d=l[e],u=(0,s.Z)(n);return(0,r.Z)(t,n,i,d.getRouteParams?a(a({},o),d.getRouteParams(u,i)):o,d.path)}},10612:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(13469),s=n.n(i);function r(e,t){var n=t.constructor.prototype.validate;return n?n(e):[]}function a(e){var t=this.panes[e],n=c.call(this,t);return 0===r.call(this,n,t).length}function o(e,t){var n=this.panes[t].dependentPanes;return"function"==typeof n&&(n=n.call(this)),e.concat(n||[])}function l(){var e=this.$(".change-pane-btn");e.addClass("disabled").removeClass("selected"),s().each(this.getReachablePanes(),(function(t){e.filter("."+t+"-btn").removeClass("disabled")}),this),e.filter("."+this.selectedPane+"-btn").addClass("selected")}function c(e){return this[e.model]||this[this.panesModel]||this.model}const d={showPane:function(e){if(e!==this.selectedPane){var t=this.paneRegion.currentView;t&&(this.stopListening(t,"valid",l),this.stopListening(t,"invalid",l),this.$el.removeClass("pane-"+this.selectedPane),this.onPaneHide&&this.onPaneHide(this.selectedPane,t)),this.selectedPane=e;var n=this.panes[e],i=n.constructor,r=this.paneConstructorArg?this.paneConstructorArg():{},a=new i(s().extend(r,{model:c.call(this,n)}));if(a.onModalClose){this._paneOnModalCloseCallbacks||this.listenToOnce(this,"close",(function(){s().each(this._paneOnModalCloseCallbacks,(function(e){e[1].call(e[0])}),this),this._paneOnModalCloseCallbacks=null}));var o=this._paneOnModalCloseCallbacks||[];o.push([a,a.onModalClose]),this._paneOnModalCloseCallbacks=s().uniq(o,(function(e){return e[1]}))}this.listenTo(a,"valid",l),this.listenTo(a,"invalid",l),l.call(this),this.onPaneShow&&this.onPaneShow(e,a),this.$el.addClass("pane-"+e),this.paneRegion.show(a),l.call(this)}},getReachablePanes:function(){for(var e,t,n=s().reduce(this.panes,(function(e,t){var n=t.dependentPanes;return"function"==typeof n&&(n=n.call(this)),s().union(e,n||[])}),[],this),i=s().filter(s().keys(this.panes),(function(e){return!s().contains(n,e)})),r=i;r.length;)e=s().filter(r,a,this),t=t||e.length!==r.length,r=s().reduce(e,o,[],this),i=i.concat(r);return i.isAnyInvalid=t,i},onChangePaneClick:function(e){e.preventDefault();var t=this.$(e.currentTarget);t.isDisabled()||this.showPane(t.data("pane"))}}},76154:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(13469),s=n.n(i);const r={currentState:null,enterState:function(e){if(e!==this.currentState){var t=this.currentState,n=this.states[e];if(!n)throw new Error("The state machine is unable to enter undefined state: "+e);if(t){var i=this.states[t];if(s().isFunction(i.onExit)){var r=i.onExit.call(this);if(!1===r)return}}if(this.currentState=e,s().isFunction(n.onEnter)){var a=n.onEnter.apply(this,s().rest(arguments));if(!1===a)return void(this.currentState=t)}this.triggerMethod("stateMachineChange",{from:t,to:e})}},enterNextState:function(){var e;if(this.currentState)e=this.states[this.currentState].nextState;else{if(!this.initialState)throw new Error("An initial state must be defined for the state machine");e=this.initialState}e?this.enterState(e):this.triggerMethod("stateMachineComplete")}}},10059:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(47909),s=n(53334),r=n(14408),a=n(56442),o=n(12634);const l=s.Z.extend({name:"FileModel",idAttribute:"key",rootPropertyName:"File",syncedAttrs:{key:r.Z.string,title:r.Z.string,path:r.Z.string,network:r.Z.boolean}}),c=o.Z.extend({name:"FileCollection",model:l}),d=s.Z.extend({name:"FilePathModel",context:["server","includeFiles"],idAttribute:"key",rootPropertyName:"Path",sessionAttrs:{isBackShortcut:r.Z.boolean},sessionRelations:{children:function(){var e={};return this.includeFiles&&(e.includeFiles=1),{relationClass:n(10059).Z,options:{url:i.Z.join([this.id],e)}}}},syncedAttrs:{key:r.Z.string,title:r.Z.string,path:r.Z.string,home:r.Z.boolean,network:r.Z.boolean}}),u=o.Z.extend({name:"FilePathCollection",context:["server","includeFiles"],model:d,url(){var e={};return this.includeFiles&&(e.includeFiles=1),i.Z.join(["/services/browse"],e)}}),p=s.Z.extend({name:"FilePathListModel",responseType:a.AV,context:["server","includeFiles","url"],url(){const e={};return this.includeFiles&&(e.includeFiles=1),i.Z.join(["/services/browse"],e)},sessionAttrs:{truncatedFilesCount:r.Z.integer},syncedRelations:{paths:{relationClass:u,rootPropertyName:"Path"},files:{relationClass:c,rootPropertyName:"File"}},augmentResponse:e=>(e.File&&(e.truncatedFilesCount=Math.max(0,e.File.length-500),e.File=e.File.slice(0,500)),e)})},72601:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(12634),s=n(53334),r=n(14408);const a=s.Z.extend({name:"MatchResultModel",context:["server"],idAttribute:"guid",rootPropertyName:"SearchResult",syncedAttrs:{id:r.Z.integer,guid:r.Z.string,name:r.Z.string,parentGUID:r.Z.string,parentName:r.Z.string,type:r.Z.string,index:r.Z.integer,score:r.Z.integer,thumb:r.Z.string,year:r.Z.integer,matched:r.Z.boolean,disambiguation:r.Z.string,area:r.Z.string,beginArea:r.Z.string,lifespanBegin:r.Z.string,lifespanEnd:r.Z.string,summary:r.Z.string},syncedRelations:{children:function(){return{relationClass:n(72601).Z,rootPropertyName:"SearchResult"}}},derivedAttrs:{normalizedScore:function(){var e=this.get("score");if(null!=e)return Math.min(Math.max(e,0),100)}}}),o=i.Z.extend({name:"MatchResultCollection",context:["server"],model:a,url:function(){return"/library/metadata/"+this.parent.id+"/matches"}})},75876:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(12634),s=n(81660);const r=i.Z.extend({name:"QueryRuleCollection",model:s.Z})},81660:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(53334),s=n(14408);const r=i.Z.extend({name:"QueryRuleModel",syncedAttrs:{field:s.Z.string,fieldTitle:s.Z.string,value:s.Z.string,valueTitle:s.Z.string,operator:s.Z.string,type:s.Z.string},syncedRelations:{rules:()=>({relationClass:n(75876).Z,rootPropertyName:"Rule",deferred:!0})}})},71576:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var i=n(29415),s=n(11023),r=n(19755),a=n.n(r),o=n(13469),l=n.n(o),c=n(47909),d=n(69865),u=n(9949),p=n(32707),m=n(55983),h=n(76037);const g=d.Z.extend({idAttribute:"ratingKey",whitelistedAttrs:["guid","addedAt","composite","duration","key","leafCount","playlistType","ratingKey","smart","summary","title","type","allowSync"],defaults:function(){return{children:new u.Z([],{server:this.server,parent:this,url:function(){const e="/playlists/"+this.parent.id+"/items";let t;return"audio"===this.parent.get("playlistType")&&(t={includeRelated:1}),c.Z.join(e,t)}})}},urlRoot:"/playlists",saveUrl:function(){return"/library/metadata/"+this.id},cacheKey:function(e){if(e.key)return this.server&&this.server.getScopedKey(e.key)},initialize:function(){this.listenToOnce(this.get("children"),"add",(function(e){this.set("art",e.get("art"))}))},sync:function(e,t,n){const i=h.Z.addVersionHeader(2,n);return d.Z.prototype.sync.call(this,e,t,i)},parse:function(e){let t=this.convert(e);return t.Playlist&&(t=t.Playlist),m.Z.parseInteger(t,["duration","leafCount","addedAt"]),m.Z.parseBoolean(t,["smart","allowSync"]),t.isPlaylist=!0,t},findItem:function(e){return this.get("children").findWhere({playlistItemID:e})},moveItem:function(e,t){const n=t?{after:t}:{},i=c.Z.join([l().result(this,"url"),"/items/",e,"/move"],n),s=l().extend(this.server.getXHROptions(i),{type:"PUT"}),r=a().ajax(s),o=this.get("children"),d=this.findItem(e);o.remove(d);const u=this.findItem(t),p=u?o.indexOf(u)+1:0;return o.add(d,{at:p}),r},removeItem:function(e){e=e.toString();const t=c.Z.join([l().result(this,"url"),"/items/",e]),n=l().extend(this.server.getXHROptions(t),{type:"DELETE"}),i=a().ajax(n);i.then(l().bind((function(e){this.set(this.parse(e))}),this));const s=this.get("children"),r=this.findItem(e);return s.remove(r),i},addContent:function(e,t){const n=this.isNew()?"POST":"PUT",i=[l().result(this,"url")],s={};this.isNew()?(s.type=this.get("playlistType"),s.title=this.get("title"),s.smart=this.get("smart")?1:0):i.push("/items"),e.get("playQueueID")?s.playQueueID=e.get("playQueueID"):s.uri=p.Z.uri(e,t);const r=c.Z.join(i,s),o=l().extend(e.server.getXHROptions(r),{type:n}),d=a().ajax(o);return d.then(l().bind((function(e){this.set(this.parse(e))}),this)),d.promise()},isLibraryItem:function(){return!0},isPlexMusicItem:function(){return!1}});var y=n(12634),v=n(90912);const f=y.Z.extend({name:"VersionGeneratorCollection",context:["server"],model:v.Z,url(){return c.Z.join(["playlists",this.parent.id,"items"],{type:s.Z.LOCAL})}}),I=g.extend({defaults:function(){return{children:new f([],{server:this.server,parent:this})}},findItem:function(e){return this.get("children").get(e)},addContent:function(e){var t=[l().result(this,"url"),"items",e.id],n=c.Z.join(t,e.getSaveParams()),i=l().extend(e.server.getXHROptions(n),{type:"PUT"}),s=a().ajax(i);return s.then(l().bind((function(e){this.set(this.parse(e))}),this)),s.promise()}}),b=i.Z.extend({model:I,url:"/playlists?type="+s.Z.LOCAL,parse:function(e){return this.convert(e,"Playlist")}})},90912:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var i=n(53334),s=n(14408),r=n(36776),a=n(91135);const o=i.Z.extend({name:"VersionGeneratorMediaSettingsModel",context:["server"],syncedAttrs:{videoQuality:{type:s.Z.integer,save:!0},videoResolution:{type:s.Z.string,save:!0},maxVideoBitrate:{type:s.Z.integer,save:!0},audioBoost:{type:s.Z.integer,save:!0},subtitleSize:{type:s.Z.integer,save:!0},musicBitrate:{type:s.Z.integer,save:!0},photoQuality:{type:s.Z.integer,save:!0},photoResolution:{type:s.Z.string,save:!0}}});var l=n(13469),c=n.n(l),d=n(47909),u=n(93683),p=n(56442),m=n(67299),h=n(12634),g=n(95688);const y=i.Z.extend({name:"VersionGeneratorMetadataModel",context:["server","generator"],idAttribute:"ratingKey",syncedAttrs:c().extend({},g.Z.prototype.syncedAttrs,{processingState:s.Z.string,processingStateContext:s.Z.string})}),v=h.Z.extend({name:"VersionGeneratorMetadataCollection",context:["server","generator"],model:y}),f=i.Z.extend({mixins:[u.Z],name:"VersionGeneratorMetadataListModel",context:["server","generator"],collectionName:"metadataItems",url(){const e=d.Z.join([c().result(this.generator,"url"),"items"]);return this.getPaginatedUrl(e)},sessionAttrs:{currentPageStart:s.Z.integer,currentPageSize:s.Z.integer,populatedRange:s.Z.object},syncedAttrs:{totalSize:s.Z.integer,identifier:s.Z.string,mediaTagPrefix:s.Z.string,mediaTagVersion:s.Z.string,viewGroup:s.Z.string,title:s.Z.string},syncedRelations:{metadataItems:{relationClass:v,rootPropertyName:"Metadata",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()},augmentResponseText:(e,t)=>t===p.Ls?(0,m.Z)(e):e}),I=i.Z.extend({name:"VersionGeneratorPolicyModel",context:["server"],syncedAttrs:{scope:{type:s.Z.string,save:!0},value:{type:s.Z.integer,save:!0},unwatched:{type:s.Z.boolean,save:!0}},defaults:{unwatched:!1}}),b=i.Z.extend({name:"VersionGeneratorStatusModel",context:["server"],syncedAttrs:{state:s.Z.string,failureCode:s.Z.string,failure:s.Z.string,itemsCount:s.Z.integer,itemsCompleteCount:s.Z.integer,itemsSuccessfulCount:s.Z.integer,itemsFailedCount:s.Z.integer,itemsDisabledCount:s.Z.integer,totalSize:s.Z.integer}}),M=i.Z.extend({name:"VersionGeneratorModel",context:["server","section","playlistID"],rootPropertyName:"Item",cache:new r.Z,cacheKey(e){return this.server&&this.server.getScopedKey(e.id)},urlRoot(){return`/playlists/${this.playlistID||this.parent.id}/items`},syncedAttrs:{id:s.Z.integer,clientIdentifier:s.Z.string,contentType:s.Z.string,composite:s.Z.string,type:{type:s.Z.integer,save:!0},title:{type:s.Z.string,save:!0},target:{type:s.Z.string,save:!0},targetTagID:{type:s.Z.integer,save:!0},locationID:{type:s.Z.integer,save:!0},Location:{type:s.Z.object,save:!0},Device:{type:s.Z.object,save:!0}},sessionRelations:{children:{relationClass:f,options(){return{generator:this}}}},syncedRelations:{status:{relationClass:b,rootPropertyName:"Status"},policy:{relationClass:I,rootPropertyName:"Policy",save:!0},mediaSettings:{relationClass:o,rootPropertyName:"MediaSettings",save:!0}},derivedAttrs:{isDirectory(){const e=this.get("Location");if(e.uri)return/(playlist:\/\/|library:\/\/([\w-]*)\/directory\/)/.test(e.uri)}},defaults:()=>({type:42,locationID:-1,Location:{},Device:{}}),defaultCounts:{[a.pX]:5,[a.j0]:50,[a.pV]:50},warningCounts:{[a.pX]:10,[a.j0]:100,[a.pV]:100},getSaveParams(e,t){const n=i.Z.prototype.getSaveParams.apply(this,arguments);return n.targetTagID&&(delete n.MediaSettings,delete n.Device),{Item:n}},setPolicyDefaultsFor(e){const t=this.get("policy"),n=this.get("isDirectory");return t.has("scope")||t.set("scope",n?"count":"all"),!t.has("value")&&n&&t.set("value",this.defaultCounts[e]),this},shouldShowPolicyWarning(e,t){const n=this.get("policy").get("scope");return"count"===n?t>this.warningCounts[e]:"all"===n&&this.get("isDirectory")}})},39092:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(13469),s=n.n(i),r=n(47909),a=n(12634),o=n(56442),l=n(67299),c=n(69881),d=n(53334),u=n(14408);const p=d.Z.extend({name:"MetadataAutocompleteResultModel",context:["server","section","multiMetadataItem","query"],idAttribute:"ratingKey",rootPropertyName:"Metadata",syncedAttrs:{elementName:u.Z.string,ratingKey:u.Z.string,parentRatingKey:u.Z.string,grandparentRatingKey:u.Z.string,type:u.Z.string,title:u.Z.string,parentTitle:u.Z.string,grandparentTitle:u.Z.string,tag:u.Z.string,tagType:u.Z.integer}});function m(e,t,n){const i=/!$/.test(n),s=/\.id$/.test(n);if(i||s)return e[n]=t,e;const r=n.match(/^(.+)\.(.+)/);return r&&(e.type=(0,c.getMetadataType)(r[1]).id,n=r[2]),e[n+".query"]=t,e}const h=a.Z.extend({name:"MetadataAutocompleteResultCollection",context:["server","section","multiMetadataItem","query"],model:p,url(){var e={type:(0,c.getMetadataType)(this.multiMetadataItem.get("type")).id,limit:10};return e=s().reduce(this.query,m,e),r.Z.join([this.multiMetadataItem.sectionUrl(),"autocomplete"],e)},augmentResponseText:(e,t)=>t===o.Ls?(0,l.Z)(e):e})},92056:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(12634),s=n(45381);const r=i.Z.extend({name:"MediaGrabberDeviceCollection",context:["server"],model:s.ZP,url:"/media/grabbers/devices"})},45381:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>p,vh:()=>u});var i=n(53334),s=n(14408),r=n(69653),a=n(57322),o=n(12634),l=n(9481);const c=i.Z.extend({name:"MediaGrabberDeviceChannelModel",rootPropertyName:"DeviceChannel",idAttribute:"key",syncedAttrs:{key:s.Z.string,identifier:s.Z.string,name:s.Z.string,drm:s.Z.boolean,hd:s.Z.boolean,signalStrength:s.Z.integer,signalQuality:s.Z.integer},augmentResponse:e=>(e.key=e.key||e.identifier,e)}),d=o.Z.extend({name:"MediaGrabberDeviceChannelCollection",context:["server"],model:c,comparator:(e,t)=>(0,l.Z)(e.get("identifier"),t.get("identifier"))}),u={DEAD:"dead",ALIVE:"alive"},p=i.Z.extend({name:"MediaGrabberDeviceModel",context:["server"],rootPropertyName:"Device",idAttribute:"key",sessionAttrs:{isChannelsPending:s.Z.boolean,isChannelsPopulated:s.Z.boolean,channelsError:s.Z.object,selectedSource:s.Z.string,isSaving:s.Z.boolean,saveError:s.Z.object},sessionRelations:{channels:{relationClass:d}},syncedAttrs:{key:s.Z.integer,uuid:s.Z.string,parentID:s.Z.integer,uri:s.Z.string,protocol:s.Z.string,status:s.Z.string,state:s.Z.string,lastSeenAt:s.Z.integer,make:s.Z.string,model:s.Z.string,modelNumber:s.Z.string,source:s.Z.integer,sources:s.Z.list,tuners:s.Z.integer,thumb:s.Z.string,unsupported:s.Z.boolean},syncedRelations:{channelMappings:{rootPropertyName:"ChannelMapping",relationClass:a.Z},prefs:{relationClass:r.Z,rootPropertyName:"Setting",deferred:!0,save:!0}},defaults:{isChannelsPending:!1,isChannelsPopulated:!1,channelsError:null,isSaving:!1,saveError:null,unsupported:!1}})},83654:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(12634),s=n(53334),r=n(14408);const a=s.Z.extend({name:"DVRNetworkModel",sessionAttrs:{key:r.Z.string,title:r.Z.string}}),o=i.Z.extend({name:"DVRNetworkCollection",model:a})},9947:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(53334),s=n(14408),r=n(69653),a=n(92056);const o=i.Z.extend({name:"DVRModel",context:["server"],rootPropertyName:"Dvr",idAttribute:"key",sessionAttrs:{isSaving:s.Z.boolean,saveError:s.Z.object},syncedAttrs:{key:s.Z.integer,epgIdentifier:s.Z.string,country:s.Z.string,language:s.Z.string,lineup:s.Z.string,lineupTitle:s.Z.string,uuid:s.Z.string},syncedRelations:{devices:{relationClass:a.Z,rootPropertyName:"Device"},prefs:{relationClass:r.Z,rootPropertyName:"Setting",deferred:!0,save:!0}},defaults:{isSaving:!1,saveError:null}})},57322:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(12634),s=n(53334),r=n(14408);const a=s.Z.extend({name:"ChannelMappingModel",context:["server"],rootPropertyName:"ChannelMapping",idAttribute:"deviceIdentifier",syncedAttrs:{deviceIdentifier:r.Z.string,lineupIdentifier:r.Z.string,channelKey:r.Z.string,enabled:r.Z.boolean},defaults:{enabled:!1}}),o=i.Z.extend({name:"ChannelMappingCollection",context:["server"],model:a})},73913:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(13469),s=n.n(i),r=n(12634),a=n(89905),o=n(53334),l=n(14408),c=n(56442);const d=o.Z.extend({name:"AgentAttributionModel",context:["server"],responseType:c.fL,syncedAttrs:{content:l.Z.string},url:function(){return"/system/agents/attribution?identifier="+this.parent.id},augmentResponse:function(e){return{content:e}}});var u=n(14452);const p=o.Z.extend({name:"LanguageModel",context:["server"],idAttribute:"code",rootPropertyName:"Language",syncedAttrs:{code:l.Z.string,title:l.Z.string,default:l.Z.boolean},derivedAttrs:{name:function(){return this.get("title")||(0,u.Z)(this.get("code"))}}}),m=r.Z.extend({name:"LanguageCollection",context:["server"],model:p,comparator:"name"}),h=o.Z.extend({name:"AgentModel",context:["server"],idAttribute:"identifier",rootPropertyName:"Agent",sessionAttrs:{isPrimary:l.Z.boolean,selected:l.Z.boolean},sessionRelations:{attribution:{relationClass:d}},syncedAttrs:{identifier:l.Z.string,name:l.Z.string,enabled:l.Z.boolean,hasPrefs:l.Z.boolean,order:l.Z.string},syncedRelations:{languages:{relationClass:m,rootPropertyName:"Language"}}}),g=r.Z.extend({name:"AgentCollection",context:["server","mediaTypeID","primaryAgentID","relatedAgentID"],model:h,cache:new a.Z,cacheKey:function(){var e=s().result(this,"url");return this.server&&this.server.getScopedKey(e)},url:function(){var e="/system/agents";return this.primaryAgentID?e+"/contributors?mediaType="+this.mediaTypeID+"&primaryAgent="+this.primaryAgentID:this.relatedAgentID?e+"/"+this.relatedAgentID+"/config/"+this.mediaTypeID:this.mediaTypeID?e+"?mediaType="+this.mediaTypeID:e},hasExclusiveAgent:function(e){return!!s().intersection(this.pluck("identifier"),e).length}})},43270:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(13469),s=n.n(i),r=n(12152),a=n.n(r);const o=a().extend({constructor:function(e,t,n,i){this.exclusiveAgents=t,this.agentIdentifier=n,a().call(this,e,i),this.filterBy(s().bind(this.filterExclusiveAgent,this))},filterExclusiveAgent:function(e){var t=e.get("identifier"),n=this.exclusiveAgents;if(!n)return!0;var i=this.agentIdentifier,s=-1!==n.indexOf(i),r=-1!==n.indexOf(t);return s?t===i:!r}})},1521:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(13469),s=n.n(i),r=n(53334);const a=r.Z.extend({additionalRelations:[],copyFromModel(e,t){this._copy(e,this,t)},copyToModel(e,t){this._copy(this,e,t)},_copy(e,t,n={}){const i=!!t.releaseCapturedChangeEvents;i||t.startCapturingChangeEvents(),this._copyAttributes(e,t,n),this._copyRelations(e,t,n),i||t.releaseCapturedChangeEvents()},_copyAttributes(e,t,n){const i={};s().each(this.syncedAttrs,((t,s)=>{n.included&&!n.included.includes(s)||(i[s]=e.get(s))})),t.set(i)},_copyRelations(e,t,n){s().each(this.syncedRelations,((i,s)=>{if(n.included&&!n.included.includes(s))return;if(this.additionalRelations.includes(s))return;const a=e.get(s),o=t.get(s);if(a&&o){const e=a.toJSON();o instanceof r.Z?o.set(o.parse(e)):o.set(e,{parse:!0})}}))}})},99340:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var i=n(14408),s=n(12634),r=n(53334);const a=r.Z.extend({name:"StoredConnectionSourceModel",syncedAttrs:{id:i.Z.string}}),o=s.Z.extend({name:"StoredConnectionSourceCollection",model:a}),l=r.Z.extend({name:"StoredConnectionModel",idAttribute:"uri",syncedAttrs:{uri:i.Z.string,scheme:i.Z.string,address:i.Z.string,port:i.Z.string,relay:i.Z.boolean},syncedRelations:{sources:{relationClass:o}}}),c=s.Z.extend({name:"StoredConnectionCollection",model:l});var d=n(1521),u=n(30369),p=n(45224),m=Object.assign;const h=r.Z.extend({name:"StoredProviderModel",idAttribute:"identifier",syncedAttrs:m({},p.Z.prototype.syncedAttrs),syncedRelations:{features:{relationClass:u.Z}}}),g=s.Z.extend({name:"StoredProviderCollection",model:h}),y=d.Z.extend({name:"StoredServerModel",idAttribute:"machineIdentifier",additionalRelations:["connections"],syncedAttrs:{machineIdentifier:i.Z.string,friendlyName:i.Z.string,accessToken:i.Z.string,sourceTitle:i.Z.string,home:i.Z.boolean,serverClass:i.Z.string,platform:i.Z.string,isShared:i.Z.boolean,version:i.Z.string,publicAddressMatches:i.Z.boolean,ownerId:i.Z.integer,mediaProviders:i.Z.integer},syncedRelations:{providers:{relationClass:g},connections:{relationClass:c}}})},23593:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S}),n(67038);var i=n(14408),s=n(60214),r=n(12634),a=n(93966),o=n(86278),l=n(85667),c=n(69790),d=n(57578),u=n(77727),p=n(1521),m=n(99340);const h=r.Z.extend({name:"StoredServerCollection",model:m.Z});var g=n(53334),y=n(19375),v=Object.assign;const f=g.Z.extend({name:"StoredUserSettingModel",syncedAttrs:v(v({},y.Z.prototype.syncedAttrs),{isDirty:i.Z.boolean})}),I=r.Z.extend({name:"StoredUserSettingCollection",model:f}),b=p.Z.extend({name:"StoredUserModel",additionalRelations:["servers"],syncedAttrs:{id:i.Z.integer,authToken:i.Z.string,anonymous:i.Z.boolean,username:i.Z.string,email:i.Z.string,title:i.Z.string,thumb:i.Z.string,pin:i.Z.string,home:i.Z.boolean,restricted:i.Z.boolean,guest:i.Z.boolean,hasAllEntitlements:i.Z.boolean,lastPrimaryServerID:i.Z.string},syncedRelations:{subscriptions:{relationClass:u.Z},roles:{relationClass:c.Z},entitlements:{relationClass:l.Z},services:{relationClass:d.Z},features:{relationClass:o.Z},settings:{relationClass:I},experienceSettings:()=>({relationClass:(0,a.DB)("StoredUserExperienceSettingsModel")}),servers:{relationClass:h}},clearSensitiveAttributes(){this.unset("authToken"),this.unset("pin"),this.get("servers").reset()}}),M=r.Z.extend({name:"StoredUserCollection",model:b}),S=new(s.Z.extend({name:"UserStorageModel",storageKey:"users",sessionAttrs:{activeUserID:i.Z.integer},syncedRelations:{users:{relationClass:M}},initialize(){this.debouncedSaveTimeout=null},debouncedSave(){this.debouncedSaveTimeout&&window.clearTimeout(this.debouncedSaveTimeout),this.debouncedSaveTimeout=window.setTimeout((()=>this.save()),1e3)},flushDebouncedSave(){this.debouncedSaveTimeout&&(window.clearTimeout(this.debouncedSaveTimeout),this.save())},getActiveUser(){const e=this.get("users"),t=this.get("activeUserID");if(null!=t)return e.get(t)},clearActiveUser(){const e=this.getActiveUser();return e&&e.clearSensitiveAttributes(),this.unset("activeUserID"),this.save()},getActiveServers(){const e=this.getActiveUser();if(e)return e.get("servers")}}))},75557:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w,C:()=>P});var i=n(53334),s=n(14408),r=n(69653),a=n(92056),o=n(45381),l=n(83654),c=n(12634);const d=i.Z.extend({name:"DVRSetupErrorMessageModel",sessionAttrs:{id:s.Z.string,message:s.Z.string}}),u=c.Z.extend({name:"DVRSetupErrorMessageCollection",model:d});var p=n(9947);const m=i.Z.extend({name:"EPGCountryModel",context:["server"],idAttribute:"code",rootPropertyName:"Country",syncedAttrs:{key:s.Z.string,type:s.Z.string,title:s.Z.string,code:s.Z.string,example:s.Z.string,flavor:s.Z.integer,language:s.Z.string,languageTitle:s.Z.string}}),h=c.Z.extend({name:"EPGCountryCollection",context:["server"],model:m,url:"/livetv/epg/countries"}),g=i.Z.extend({name:"EPGCountryRegionModel",context:["server"],idAttribute:"key",rootPropertyName:"Region",syncedAttrs:{key:s.Z.string,type:s.Z.string,title:s.Z.string}}),y=c.Z.extend({name:"EPGCountryRegionCollection",context:["server"],model:g}),v=i.Z.extend({name:"EPGLineupModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Lineup",syncedAttrs:{uuid:s.Z.string,type:s.Z.string,title:s.Z.string,lineupType:s.Z.integer,location:s.Z.string},defaults:{location:""}}),f=c.Z.extend({name:"EPGCountryRegionCollection",context:["server"],model:v}),I=i.Z.extend({name:"EPGLineupGroupModel",context:["server"],idAttribute:"uuid",syncedAttrs:{uuid:s.Z.string},syncedRelations:{lineups:{relationClass:f,rootPropertyName:"Lineup"}}}),b=i.Z.extend({name:"EPGLanguageModel",context:["server"],rootPropertyName:"Language",idAttribute:"code",syncedAttrs:{code:s.Z.string,title:s.Z.string}}),M=c.Z.extend({name:"EPGLanguageCollection",context:["server"],model:b,url:"/livetv/epg/languages"}),S=i.Z.extend({name:"EPGSettingsModel",context:["server"],sessionAttrs:{baseUrl:s.Z.string,postalCode:s.Z.string,isFetching:s.Z.boolean,isPopulated:s.Z.boolean},sessionRelations:{countries:{relationClass:h},languages:{relationClass:M},regions:{relationClass:y},lineupGroup:{relationClass:I},selectedCountry:{relationClass:m,deferred:!0},selectedLanguage:{relationClass:b,deferred:!0},selectedRegion:{relationClass:g,deferred:!0}},defaults:{baseUrl:"/livetv/epg/countries",isFetching:!1,isPopulated:!1,postalCode:""}}),E=i.Z.extend({name:"EPGChannelModel",context:["server"],rootPropertyName:"Channel",syncedAttrs:{identifier:s.Z.string,key:s.Z.string,callSign:s.Z.string,thumb:s.Z.string,title:s.Z.string,hd:s.Z.boolean},defaults:{hd:!1}}),D=c.Z.extend({name:"EPGChannelCollection",context:["server"],model:E});var C=n(57322);const P={DEVICE:"device",UNSUPPORTED_DEVICE:"unsupportedDevice",DEVICE_CHANNELS:"deviceChannels",EPG:"epg",EPG_MAPPING:"epgMapping",CHANNEL_MAPPING:"channelMapping",EPG_DOWNLOAD:"epgDownload"},w=i.Z.extend({name:"DVRSetupModel",context:["server"],sessionAttrs:{isDevicesPending:s.Z.boolean,isDevicesPopulated:s.Z.boolean,devicesError:s.Z.object,isDiscoveringDevices:s.Z.boolean,isChannelMappingsPending:s.Z.boolean,isChannelMappingsPopulated:s.Z.boolean,channelMappingsError:s.Z.object,isChannelMappingsSaving:s.Z.boolean,channelMappingsSaveError:s.Z.object,isLineupChannelsPending:s.Z.boolean,isLineupChannelsPopulated:s.Z.boolean,lineupChannelsError:s.Z.object,epgLineupActivityID:s.Z.string,epgDownloadActivityID:s.Z.string,step:s.Z.string,selectedLineupUUID:s.Z.string,addDevicePending:s.Z.boolean,isSavingDVR:s.Z.boolean,hasScannedChannels:s.Z.boolean},sessionRelations:{devices:{relationClass:a.Z},lineupChannels:{relationClass:D},epgSettings:{relationClass:S},channelMappings:{relationClass:C.Z},selectedDVR:{relationClass:p.Z,deferred:!0},selectedDevice:{relationClass:o.ZP,deferred:!0},selectedLanguage:{relationClass:b,deferred:!0},setupErrorMessages:{relationClass:u},scanPrefs:{relationClass:r.Z,deferred:!0},scanNetworks:{relationClass:l.Z,deferred:!0}},defaults:{step:P.DEVICE,isDevicesPending:!1,isDevicesPopulated:!1,isDiscoveringDevices:!1,devicesError:null,isChannelMappingsPending:!1,isChannelMappingsPopulated:!1,channelMappingsError:null,isChannelMappingsSaving:!1,channelMappingsSaveError:null,isLineupChannelsPending:!1,isLineupChannelsPopulated:!1,lineupChannelsError:null,epgLineupActivityID:"",epgDownloadActivityID:"",addDevicePending:!1,isSavingDVR:!1,hasScannedChannels:!1}})},24781:(e,t,n)=>{"use strict";n.d(t,{p:()=>o,Z:()=>l});var i=n(53334),s=n(14408),r=n(47985),a=n(68187);const o={WARNING:"warning",USER:"user",LIBRARIES:"libraries",RESTRICTIONS:"restrictions",SUMMARY:"summary"},l=i.Z.extend({name:"ShareModalModel",context:["server"],sessionAttrs:{steps:s.Z.array,step:s.Z.string,metadataItemEntityID:s.Z.string,friendEntityID:s.Z.string,username:s.Z.string,restrictionProfileIdentifier:s.Z.string,isNewFriend:s.Z.boolean,isAddingHomeUser:s.Z.boolean,isCreatingManagedUser:s.Z.boolean,selectedAllLibrariesMachineIdentifiers:s.Z.array,selectedLibrarySectionIDs:s.Z.array,filterOptionsTags:s.Z.object,isUsernameValidating:s.Z.boolean,isUsernameValidated:s.Z.boolean,isServerOverviewsPopulating:s.Z.boolean,isServerOverviewsPopulated:s.Z.boolean,isServerSharesPopulating:s.Z.boolean,isServerSharesPopulated:s.Z.boolean,serverSharesError:s.Z.string,isFilterOptionsTagsPopulating:s.Z.boolean,isFilterOptionsTagsPopulated:s.Z.boolean,isSharingPending:s.Z.boolean,isSharingCompleted:s.Z.boolean,sharingError:s.Z.string,inviteToken:s.Z.string,inviteTokenError:s.Z.string},sessionRelations:{serverOverviews:{relationClass:r.Z,deferred:!0}},defaults:()=>({steps:[],step:null,metadataItemEntityID:null,friendEntityID:null,username:"",restrictionProfileIdentifier:a.Cc,isNewFriend:!1,isAddingHomeUser:!1,isCreatingManagedUser:!1,selectedAllLibrariesMachineIdentifiers:null,selectedLibrarySectionIDs:null,filterOptionsTags:{},isUsernameValidating:!1,isUsernameValidated:!1,isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!1,isServerSharesPopulating:!1,isServerSharesPopulated:!1,serverSharesError:null,isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!1,isSharingPending:!1,isSharingCompleted:!1,sharingError:null,inviteToken:null,inviteTokenError:null})})},22724:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(53334),s=n(14408),r=n(4844),a=n(15042),o=n(99394),l=n(12634),c=n(1039);const d=l.Z.extend({name:"ServerShareCollection2",context:["server"],model:c.Z});var u=Object.assign;const p=i.Z.extend({name:"FriendModel2",context:["server"],rootPropertyName:"User",entityType:a.vO,entityID(e=this.state){return(0,r.Z)(this.entityType,e.id)},urlRoot(){return this.get("home")?"/api/users":"/api/friends"},sessionAttrs:{user:s.Z.string,isRemoving:s.Z.boolean},syncedAttrs:u({id:s.Z.integer,home:s.Z.boolean,protected:s.Z.boolean,restricted:s.Z.boolean,title:s.Z.string,username:s.Z.string,email:s.Z.string,thumb:s.Z.string,recommendationsPlaylistId:s.Z.string},o.Z),syncedRelations:{serverShares:{relationClass:d,rootPropertyName:"Server"}},defaults:{isRemoving:!1}})},92216:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(29415),s=n(13469),r=n.n(s),a=n(69865),o=n(55983);const l=a.Z.extend({urlRoot:"/api/home/users",whitelistedAttrs:["id","uuid","admin","protected","restricted","restrictionProfile","guest","title","username","email","thumb"],convert(e){let t=r().isObject(e)?e:o.Z.parseXML(e);return t.User&&(t=t.User),o.Z.parseInteger(t,"id"),o.Z.parseBoolean(t,["admin","protected","restricted","guest"]),t},parse(e){let t=this.convert(e);return t=r().pick(t,this.whitelistedAttrs),t},getSaveParams(e,t){if(r().isEmpty(e)){const e={};return this.get("restricted")?e.title=this.get("title"):this.isNew()&&(e.invitedEmail=this.get("username")),e}return a.Z.prototype.getSaveParams.apply(this,arguments)}}),c=i.Z.extend({model:l,url:"/api/home/users",parse(e){return this.convert(e,"User")}})},1483:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(13469),s=n.n(i),r=n(47909),a=n(53334),o=n(14408),l=n(4844),c=n(15042),d=n(99394),u=Object.assign;const p=a.Z.extend({name:"HomeUserModel",context:["server"],rootPropertyName:"User",entityType:c.Tl,entityID(e=this.state){return(0,l.Z)(this.entityType,e.id)},urlRoot(){return this.get("restricted")?"/api/v2/home/users":"/api/home/users"},saveUrl(){let e=s().result(this,"url");return this.get("restricted")&&(e=r.Z.join([e,"/restricted"])),e},pinUrl(){const e=this.get("restricted")?"/api/v2/home/users/restricted":"/api/home/users";return r.Z.join([e,this.get("id")])},sessionAttrs:{isRemoving:o.Z.boolean},syncedAttrs:u({id:o.Z.integer,uuid:o.Z.string,admin:o.Z.boolean,protected:o.Z.boolean,restricted:o.Z.boolean,restrictionProfile:o.Z.string,guest:o.Z.boolean,title:o.Z.string,username:o.Z.string,email:o.Z.string,thumb:o.Z.string},d.Z),defaults:{isRemoving:!1},getSaveParams(e){const t=a.Z.prototype.getSaveParams.apply(this,arguments);return e&&0!==Object.keys(e).length||(this.get("restrictionProfile")&&(t.restrictionProfile=this.get("restrictionProfile")),t.sharingSettings={},Object.keys(d.Z).forEach((e=>{t.hasOwnProperty(e)&&(t.sharingSettings[e]=t[e],delete t[e])})),this.get("restricted")?t.friendlyName=this.get("username"):this.isNew()&&(t.invitedEmail=this.get("username"))),t}})},1039:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(53334),s=n(14408),r=n(64297),a=n(56442),o=n(12634);const l=i.Z.extend({name:"ServerShareLibraryModel",syncedAttrs:{id:s.Z.integer,key:s.Z.string,title:s.Z.string,type:s.Z.string}}),c=o.Z.extend({name:"ServerShareLibraryCollection",context:["server"],model:l});var d=n(99394);const u=i.Z.extend({name:"ServerShareSharingSettingsModel",syncedAttrs:d.Z}),p=i.Z.extend({name:"ServerShareModel2",context:["server"],mergeStrategy:r.Z,responseType:a.AV,urlRoot:"api/v2/shared_servers",syncedAttrs:{id:s.Z.integer,serverId:s.Z.integer,machineIdentifier:s.Z.string,name:s.Z.string,owned:s.Z.boolean,admin:s.Z.boolean,pending:s.Z.boolean,accepted:s.Z.boolean,ownerId:s.Z.integer,inviteToken:s.Z.string,invitedEmail:s.Z.string,invitedAt:s.Z.string,acceptedAt:s.Z.string,lastSeenAt:s.Z.string,deletedAt:s.Z.string,leftAt:s.Z.string,numLibraries:s.Z.integer,allLibraries:s.Z.boolean},syncedRelations:{libraries:{relationClass:c},sharingSettings:{relationClass:u}}})},85667:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(12634),s=n(53334),r=n(14408);const a=s.Z.extend({name:"UserEntitlementModel",syncedAttrs:{id:r.Z.string}}),o=i.Z.extend({name:"UserEntitlementCollection",model:a})},69790:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(12634),s=n(53334),r=n(14408);const a=s.Z.extend({name:"UserRoleModel",syncedAttrs:{id:r.Z.string}}),o=i.Z.extend({name:"UserRoleCollection",model:a})},57578:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(12634),s=n(53334),r=n(14408);const a=s.Z.extend({name:"UserServiceModel",syncedAttrs:{id:r.Z.string,subscriptionType:r.Z.string}}),o=i.Z.extend({name:"UserServiceCollection",model:a})},19375:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(95504),s=n(26781),r=n(98119),a=n(53334),o=n(14408);const l={bool:i.Z,json:r.Z},c=a.Z.extend({name:"UserSettingModel",context:["server"],sessionAttrs:{isDirty:o.Z.boolean},syncedAttrs:{id:o.Z.string,type:o.Z.string,value:o.Z.oneOfType(o.Z.boolean,o.Z.object),hidden:o.Z.boolean,updatedAt:o.Z.integer},defaults:{isDirty:!1},augmentResponse(e){const t=this.get("isDirty"),n=this.get("updatedAt"),i=(0,s.Z)(e.updatedAt),r=n&&i&&n<i;if(t&&n===i||n&&i&&n>i)return this.toJSON();t&&r&&(e.isDirty=!1);const a=l[e.type];return a&&(e.value=a(e.value)),e}})},77727:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(12634),s=n(53334),r=n(14408),a=n(12610),o=n(1547);const l=s.Z.extend({name:"UserSubscriptionModel",syncedAttrs:{type:r.Z.oneOf(...o.ZP).isRequired,state:r.Z.oneOf(...a.ZP).isRequired,mode:r.Z.string.isRequired}}),c=i.Z.extend({name:"UserSubscriptionCollection",model:l})},95561:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h,U:()=>m});var i=n(14408),s=n(53334),r=n(12634),a=n(47632);const o=r.Z.extend({name:"HomeHubCollection",model:a.ZP});var l=n(99317);const c=s.Z.extend({name:"HomeSettingsModel",syncedAttrs:{hasCustomizations:i.Z.boolean.isRequired,hasSeededPreferredServerContent:i.Z.boolean.isRequired,hasSeededProviderPromotedContent:i.Z.boolean.isRequired,preferredServerID:i.Z.string,settingsKey:i.Z.string.isRequired,version:i.Z.integer.isRequired},syncedRelations:{hubs:{relationClass:o}},defaults:()=>({hasCustomizations:!1,hasSeededPreferredServerContent:!1,hasSeededProviderPromotedContent:!1,settingsKey:(0,l.Z)(),version:1})}),d=s.Z.extend({name:"SidebarSourceModel",idAttribute:"key",syncedAttrs:{key:i.Z.string.isRequired,sourceType:i.Z.string.isRequired,machineIdentifier:i.Z.string.isRequired,providerIdentifier:i.Z.string.isRequired,directoryID:i.Z.string,directoryIcon:i.Z.string,title:i.Z.string.isRequired,serverFriendlyName:i.Z.string.isRequired,serverSourceTitle:i.Z.string,providerSourceTitle:i.Z.string,detail:i.Z.string,isCloud:i.Z.boolean,isFullOwnedServer:i.Z.boolean,isHidden:i.Z.boolean.isRequired,hiddenAt:i.Z.integer},defaults:{isHidden:!1}}),u=r.Z.extend({name:"SidebarSourceCollection",model:d}),p=s.Z.extend({name:"SidebarSettingsModel",syncedAttrs:{hasCompletedSetup:i.Z.boolean.isRequired},syncedRelations:{pinnedSources:{relationClass:u}},defaults:()=>({hasCompletedSetup:!1})}),m="experience",h={sessionAttrs:{sidebarPreferredSourcesSavedEnteredPath:i.Z.string,isSidebarAllSources:i.Z.boolean.isRequired,isDirty:i.Z.boolean.isRequired,isSaving:i.Z.boolean.isRequired,saveError:i.Z.object},syncedAttrs:{updatedAt:i.Z.integer,autoHomeHubsEnabled:i.Z.boolean,shouldSaveLastSourcePivots:i.Z.boolean.isRequired,lastSourcePivots:i.Z.object.isRequired,savedPivotParams:i.Z.object.isRequired,autoPinnedProviders:i.Z.array.isRequired,dismissedUpsellModals:i.Z.array},syncedRelations:{homeSettings:{relationClass:c},sidebarSettings:{relationClass:p}},defaults:{autoHomeHubsEnabled:null,sidebarPreferredSourcesSavedEnteredPath:null,isSidebarAllSources:!1,isDirty:!1,isSaving:!1,saveError:null,shouldSaveLastSourcePivots:!0,lastSourcePivots:{},savedPivotParams:{},autoPinnedProviders:[],dismissedUpsellModals:[]}}},93066:(e,t,n)=>{"use strict";n.d(t,{Mv:()=>i,TA:()=>s,cW:()=>r,PG:()=>a,Mo:()=>o,Xx:()=>l,W:()=>c,ei:()=>d,$F:()=>u,SJ:()=>p,Hj:()=>m,w:()=>h,Op:()=>g,tL:()=>y,k4:()=>v,KG:()=>f,Yx:()=>I,zx:()=>b,PL:()=>M,yc:()=>S,pQ:()=>E,N2:()=>D,Dn:()=>C,gS:()=>P,fu:()=>w,GN:()=>T});const i="INIT_TIMELINE_PAGE",s="CLOSE_TIMELINE_PAGE",r="FETCH_TIMELINE_DETAILS",a="POPULATE_TIMELINE_DETAILS",o="RESET_EPG_SETTINGS",l="FETCH_EPG_COUNTRIES",c="FETCH_EPG_LANGUAGES",d="SELECT_EPG_COUNTRY",u="SELECT_EPG_LANGUAGE",p="SELECT_EPG_REGION",m="SET_EPG_POSTAL_CODE",h="FETCH_EPG_LINEUPS",g="CHANGE_BACKGROUND",y="CHANGE_THEME_MUSIC",v="RESET_BACKGROUND",f="INIT_PLAYLIST_PAGE",I="INIT_PLAYLIST_ITEM_LIST",b="RESET_PLAYLIST_ITEM_LIST",M="FETCH_PLAYLIST",S="POPULATE_PLAYLIST_ITEM_RANGE",E="REPOPULATE_PLAYLIST_ITEMS",D="SELECT_PLAYLIST_ITEM",C="DESELECT_PLAYLIST_ITEM",P="MOVE_PLAYLIST_ITEM",w="REMOVE_PLAYLIST_ITEM",T="REMOVE_SELECTED_ITEMS"},9936:(e,t,n)=>{"use strict";n.d(t,{CC:()=>Se,bc:()=>pe,EK:()=>me,rM:()=>be,Qg:()=>Me,_K:()=>ve,im:()=>he,nL:()=>ge,s7:()=>ue,mb:()=>ye,l4:()=>Ie,xM:()=>fe});var i=n(13469),s=n.n(i),r=n(73034),a=n(29705),o=n(69434),l=n(47909),c=n(5513),d=n(28440),u=Object.assign;function p(e,t){return e.save(u(u({},t),{isSaving:!0,saveError:null})).then((()=>{e.set({isSaving:!1})}),(t=>{const n=t&&t.message||"";e.set({isSaving:!1,saveError:{message:n}})}))}var m=n(61201),h=n(97189),g=n(38076),y=n(45697),v=n.n(y),f=n(67294),I=n(70809);function b(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",id:"plex-icon-plex-chevron"};s["aria-hidden"]=!t,s.style=i,s.className=I.Z.plexIcon+(n?" "+n:"");var r=[f.createElement.apply(f,["path",{d:"M195,0 L485.000707,0 L805,500 L485.000707,1000 L195,1000 L514.999293,500 L195,0"}].concat([]))];return t&&r.unshift(f.createElement("title",null,t)),f.createElement.apply(f,["svg",s].concat(r))}b.propTypes={"aria-label":v().string,className:v().string,style:v().object};const M=b;var S=n(93966),E=n(88050),D=n(69605),C=n(16561),P=n(10612),w=n(12634),T=n(53334),Z=n(14408);const N=T.Z.extend({name:"DownloadServerReleaseModel",context:["server"],modelId(){return this.get("build")+"-"+this.get("distro")},syncedAttrs:{label:Z.Z.string,build:Z.Z.string,distro:Z.Z.string,url:Z.Z.string}}),A=w.Z.extend({name:"DownloadServerReleaseCollection",context:["server"],model:N});var x=Object.prototype.hasOwnProperty,L=Object.getOwnPropertySymbols,O=Object.prototype.propertyIsEnumerable,j=Object.assign;const k=T.Z.extend({name:"DownloadServerPlatformModel",context:["server","type"],rootPropertyName:"Platform",idAttribute:"id",syncedAttrs:{id:Z.Z.string,name:Z.Z.string,version:Z.Z.string,date:Z.Z.integer,requirements:Z.Z.string,fixed:Z.Z.string,added:Z.Z.string,info:Z.Z.string},syncedRelations:{releases:{rootPropertyName:"Release",relationClass:A}},derivedAttrs:{type(){return this.type}},augmentResponse(e){var{release_date:t,extra_info:n,items_fixed:i,items_added:s}=e,r=((e,t)=>{var n={};for(var i in e)x.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&L)for(var i of L(e))t.indexOf(i)<0&&O.call(e,i)&&(n[i]=e[i]);return n})(e,["release_date","extra_info","items_fixed","items_added"]);return j(j({},r),{info:n,fixed:i,added:s,date:t+"000"})}}),R=w.Z.extend({name:"DownloadServerPlatformCollection",context:["server","type"],model:k}),z=T.Z.extend({name:"DownloadServerModel",context:["server"],rootPropertyName:"Type",idAttribute:"name",syncedAttrs:{name:Z.Z.string},syncedRelations:{platforms:{rootPropertyName:"Platform",relationClass:R,options:e=>({type:e.name})}}}),U=w.Z.extend({name:"DownloadServerCollection",context:["server"],url(){const e=s().result(this.server,"url");return l.Z.join([e,"api/downloads/1"])},model:z});var V=n(65652),B=n(54304),F=n(56022),H=n.n(F),_=Object.assign;const Q=V.Z.ItemView.extend({template:H(),className:"download-server-pane",serializeData:function(){const e=this.model.toJSON(),t=!(0,B.P_)(),n=!t&&"_self";return _(_({},e),{target:n,shouldUseDownload:t,shouldUseDropup:e.releases.length>1})}});var G=n(21288),Y=n(96717),W=n.n(Y),K={osx:"macos"};const q=G.Z.extend({mixins:[P.Z],name:"serverDownloadModal",className:"server-download-modal modal modal-lg fade",template:W(),ui:{downloadBtn:".download-btn",paneTabs:".show-pane-btn",loading:".server-download-loading"},regions:{paneRegion:".pane-region"},events:s().extend({"click .show-pane-btn":"onShowPaneClick","click .download-btn":"onDownloadClick"},G.Z.prototype.events),panesModel:"selectedModel",onlyAfterRender:["showPane"],initialize:function(e){G.Z.prototype.initialize.apply(this,arguments);var t=S.DB("appModel");t.get("primaryServer")||this.listenTo(t,"change:primaryServer",((e,t)=>{t&&t.id&&this.hide()})),this.downloadType=e.downloadType;var n=new U([],{server:t.get("cloudServer")}),i=n.populate();i.done((()=>{this.collection=n.get(this.downloadType).get("platforms"),this.paneSetup(),this.render(),this.ui.loading.addClass("hidden")})),S.DB("metrics").trackView({page:D.jF,firstRun:!0})},serializeData:function(){return{items:this.collection?this.collection.toJSON():[],selectedPane:this.selectedModel?this.selectedModel.get("id"):null,iconPlexChevron:(0,C.Z)(M,{className:"modal-icon"})}},selectListItem:function(){var e=this.selectedModel.get("id");this.ui.paneTabs.removeClass("selected"),this.ui.paneTabs.filter(`[data-pane="${e}"]`).addClass("selected")},paneSetup:function(){this.panes=this.collection.reduce(((e,t)=>(e[t.get("id")]={constructor:Q},e)),{});var{platformID:e}=g.Z,t=K[e]||e;this.selectedModel=this.collection.get(t)||this.collection.first(),this.showPane(this.selectedModel.get("id"))},onRender:function(){G.Z.prototype.onRender.apply(this,arguments),this.selectedModel&&this.selectListItem()},onShowPaneClick:function(e){e.preventDefault();var t=this.$(e.currentTarget).data("pane");this.selectedModel=this.collection.get(t),this.showPane(t),this.selectListItem()},onDownloadClick:function(e){var t=this.selectedModel.get("id");S.DB("metrics").trackClick({page:D.jF,firstRun:!0,action:E.SA,platform:this.downloadType,os:t}),this.hide()}});var $=n(6638),J=Object.assign;const X="app/restoreDefaultDeviceSettings",ee="app/downloadServer",te="app/discoverServers",ne="app/dismissUnclaimedServer",ie="app/redirectToRoute",se="app/redirectToUrl",re="app/toggleFullscreen",ae="app/selectAudioDevice",oe="app/updateAudioDevices",le="app/populateCloudServer",ce="app/updateNavigationHistory",de="app/updateAvailable",ue=(0,r.Z)(X),pe=((0,r.Z)(ee),(0,r.Z)(te)),me=(0,r.Z)(ne),he=(0,r.Z)(ie),ge=(0,r.Z)(se),ye=(0,r.Z)(ae),ve=((0,r.Z)(oe),(0,r.Z)(le)),fe=(0,r.Z)(ce),Ie=(0,r.Z)(de),be=(0,r.Z)(re,(e=>({isFullscreen:!0}))),Me=(0,r.Z)(re,(e=>({isFullscreen:!1}))),Se={[c.v4]:c.CC[c.v4],[c.kO]:c.CC[c.kO],[c.dC]:c.CC[c.dC],[c.On]:c.CC[c.On],[c.eS]:c.CC[c.eS],[c.rP]:c.CC[c.rP],[c.i]:c.CC[c.i],[c.D8]:c.CC[c.D8],[c.x]:c.CC[c.x],[c.M8](e,t){p(e.get("deviceSettings"),t)},[X](e){const t=e.get("deviceSettings");!function(e,{isUserRestricted:t}){const n={shouldSyncSettings:e.get("shouldSyncSettings")};t&&(n.autoLogin=e.get("autoLogin")),e.restoreDefaults(n)}(t,{isUserRestricted:e.get("user").get("restricted")}),p(t,{})},[ee](e,t){const n=new q({downloadType:t});a.Z.trigger("show:modal",n)},[te](e){a.Z.trigger("discover:servers")},[ne](e,t,n){const{machineIdentifier:i}=t,s=e.get("deviceSettings").get("dismissedUnclaimedServers");s[i]||n((0,c.T5)({dismissedUnclaimedServers:J(J({},s),{[i]:!0})}))},[c.f9](e,t){const{machineIdentifier:n}=t;e.get("servers").findServer(n).then((t=>{e.set({primaryServer:t,isWaitingForPrimaryServer:!1})}),(()=>{o.Z.warn("Unable to set primary server to:",n)}))},[c.gC](e){e.set({primaryServer:null,isWaitingForPrimaryServer:!0})},[c.Oq](e,t){const{machineIdentifier:n}=t;e.get("servers").findServer(n).done((t=>{!t.get("isOutOfDate")&&t.get("isPrimaryEligible")&&e.get("primaryServer")!==t&&e.set({primaryServer:t,isWaitingForPrimaryServer:!1})}))},[c.RK](e,t,n){const i=function(e,t=!0){let n="";return e&&("string"==typeof e.pathname?n=e.query?l.Z.join(e.pathname,e.query):e.pathname:"string"==typeof e&&(n=e)),n&&t&&0!==n.indexOf("#!")&&(n="#!"+n),n}(t);t.replace?window.location.replace(i):window.location.href=i},[c.$v](e,t,n){const{key:i,replace:s}=t,r=(0,d.SW)(e,t),a=(0,d.js)(e,t),o=(0,$.Z)(r.toJSON(),a.toJSON(),i);o&&n((0,c.c4)({pathname:o,replace:s}))},[ie](e,{route:t,params:n,replace:i}){s().defer((()=>{(0,h.Z)(t,n,i)}))},[se](e,{url:t,replace:n}){n?window.location.replace(t):window.location.href=t},[re](e,{isFullscreen:t}){e.get("isFullscreen")!==t&&e.set("isFullscreen",t)},[de](e,{isUpdateAvailable:t}){e.get("isUpdateAvailable")!==t&&e.set("isUpdateAvailable",t)},[ae](){},[oe](){},[le](e){e.get("cloudServer").populate()},[ce](e,t){const{location:n}=t,i=e.get("history");i.length&&i[i.length-1].pathname===n.pathname&&i[i.length-1].search===n.search||e.set("history",[...i,{pathname:n.pathname,search:n.search}])},[c.Nx](e,{replace:t}={}){const n=e.get("history");if(n.length<2)e.set("history",[]),(0,h.Z)("home",{},t);else{const i=n.slice(0,n.length-1);e.set("history",i);const s=i[i.length-1];t?m.Z.replace(s):m.Z.push(s)}}}},6055:(e,t,n)=>{"use strict";n.d(t,{FX:()=>r,A$:()=>a,L7:()=>o,OS:()=>l,GX:()=>c});var i=n(73034),s=n(3265);const r=(0,i.Z)("downloads/cancelDownloadActivity"),a=(0,i.Z)("downloads/createDownloadSubscription"),o=((0,i.Z)("downloads/deleteDownloadState"),(0,i.Z)("downloads/deleteDownloadSubscription")),l=((0,i.Z)("downloads/fetchDownloadSubscriptions"),(0,i.Z)("downloads/populateDownloadSubscriptions"),(0,i.Z)("downloads/processDownloadSubscriptions"),(0,i.Z)("downloads/retryDownloadSubscription")),c=((0,i.Z)("downloads/saveDownloadSubscription"),(0,i.Z)("downloads/syncDownloadViewstate"),(0,i.Z)("downloads/updateDownloadState"),(0,i.Z)("downloads/refreshDownloads"));(0,i.Z)("downloads/getDownloadDecision"),(0,s.Z)({})},32827:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(50361),s=n.n(i),r=n(95688),a=n(60316),o=n(28440),l=Object.assign;function c(e,t){const n=(0,o.SW)(e,{serverEntityID:t.server.entityID}),i=(0,o.js)(e,{providerEntityID:t.provider.entityID});let c,d;t.itemServer&&(c=(0,o.SW)(e,{serverEntityID:t.itemServer.entityID})),t.itemProvider&&(d=(0,o.js)(e,{providerEntityID:t.itemProvider.entityID}));const u=s()(l(l({},t.metadataItem),t.metadataItemState));if(u.source){const{serverIdentifier:e,providerIdentifier:n}=(0,a.Z)(u.source);e===t.server.machineIdentifier&&n===t.provider.identifier&&delete u.source}const p=new r.Z(u,{server:n,provider:i,identifier:t.provider.identifier,parse:!0});null==p._populatedParams&&(p._populatedParams={});const m={includeExternalMedia:1};return u.preferences&&(m.includePreferences=1),u.extras&&(m.includeExtras=1),u.stations&&(m.includeStations=1),u.onDeck&&(m.includeOnDeck=1),u.popularLeaves&&(m.includePopularLeaves=1),u.Concert&&(m.includeConcerts=1),u.Chapter&&(m.includeChapters=1),Object.assign(p._populatedParams,m),{serverModel:n,providerModel:i,itemServerModel:c,itemProviderModel:d,metadataItemModel:p}}},15902:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(19755),s=n.n(i),r=n(47909),a=n(93966),o=n(88050),l=Object.assign;function c(e,t){const{libraryID:n,libraryType:i,cancel:c,force:d,allowMetrics:u,metricsProperties:p={}}=t,m=d?{force:1}:void 0,h=r.Z.join(["/library/sections",n,"refresh"],m),g=e.getXHROptions(h,{type:c?"DELETE":"GET"});if(u){let e;e=c?o.fV:d?o.uz:o.i0,(0,a.DB)("metrics").trackClick(l(l({},p),{action:e,type:"all"===n?"all":i}))}return s().ajax(g).promise()}},19378:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(19755),s=n.n(i),r=n(45960),a=n(10723),o=n(40498),l=n(69881);function c(e,t){const n=e.title.toUpperCase(),i=t.title.toUpperCase();return n<i?-1:n>i?1:0}function d(e,t){const n=Array.isArray(e)?e:[e],i=s().Deferred(),d={[o.ZO]:[],[o.GP]:[]},u={[l.MOVIE]:{[o.ZO]:[],[o.GP]:[]},[l.SHOW]:{[o.ZO]:[],[o.GP]:[]},[l.ARTIST]:{[o.ZO]:[],[o.GP]:[]}},p=n.reduce(((e,t)=>(t.get("isConnected")&&e.push(t.get("sections")),e)),[]),m=p.map((e=>e.populate({scope:t})));return(0,r.Z)(m).done((()=>{p.forEach((e=>{e.forEach((e=>{const t=e.get("type");u[t]&&[o.ZO,o.GP].forEach((t=>{const n=new a.Z({filter:t},{server:e.server,section:e}).get("options");d[t].push(n)}))}))})),(0,r.Z)([...d[o.ZO].map((e=>e.fetch({scope:t}))),...d[o.GP].map((e=>e.fetch({scope:t})))]).done((()=>{d[o.ZO].forEach((e=>{const t=e.section.get("type");e.toJSON().forEach((e=>{u[t][o.ZO].find((t=>t.value===e.value))||u[t][o.ZO].push(e)}))})),d[o.GP].forEach((e=>{const t=e.section.get("type");e.toJSON().forEach((e=>{u[t][o.GP].find((t=>t.value===e.value))||u[t][o.GP].push(e)}))})),Object.keys(u).forEach((e=>{const t=u[e];t[o.ZO].sort(c),t[o.GP].sort(c)})),i.resolve(u)}))})),i.promise()}},6797:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(40498);function s(e,t,n,s){const r={};return e&&e.length&&(r[i.ZO]=e.join(",")),t&&t.length&&(r[i.Jm]=t.join(",")),n&&n.length&&(r[i.GP]=n.join(",")),s&&s.length&&(r[i.Bi]=s.join(",")),r}function r(e){const{allowSync:t,allowCameraUpload:n,allowTuners:i,moviesContentRatings:r,moviesExcludeContentRatings:a,moviesLabels:o,moviesExcludeLabels:l,televisionContentRatings:c,televisionExcludeContentRatings:d,televisionLabels:u,televisionExcludeLabels:p,musicLabels:m,musicExcludeLabels:h}=e,g={};return null!=t&&(g.allowSync=t),null!=n&&(g.allowCameraUpload=n),null!=i&&(g.allowTuners=Number(i)),null==r&&null==a&&null==o&&null==l||(g.filterMovies=s(r,a,o,l)),null==c&&null==d&&null==u&&null==p||(g.filterTelevision=s(c,d,u,p)),null==m&&null==h||(g.filterMusic=s(null,null,m,h)),g}},11491:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(19755),s=n.n(i),r=n(93966);function a(e,t){const n=(0,r.DB)("appModel").get("cloudServer"),i=function(e){if(!e)return null;const[t,n]=e.split(","),i=t.substr(5),s=window.atob(n),r=[];for(let e=0;e<s.length;e++)r.push(s.charCodeAt(e));const a=new Uint8Array(r);return new window.Blob([a],{type:i})}(e),a=new window.FormData;a.append("avatar",i),t&&a.append("userId",t);const o=n.getXHROptions("/api/v2/user",{type:"PUT",processData:!1,contentType:!1,data:a});return s().ajax(o)}},37588:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ANALYZE_METADATA_ITEM:()=>ot,CHANGE_METADATA_ITEM_FIELD:()=>Mt,CLEAR_METADATA_SETTINGS_ERROR:()=>Dt,DELETE_METADATA_ITEM:()=>lt,DELETE_METADATA_ITEM_VERSION:()=>ct,DOWNLOAD_METADATA_ITEM_VERSION:()=>dt,EDIT_METADATA_ITEM:()=>ut,FIX_METADATA_ITEM_MATCH:()=>pt,GET_METADATA_ITEM_INFO:()=>mt,MODIFY_SMART_PLAYLIST:()=>Nt,OPTIMIZE_METADATA_ITEM:()=>gt,RATE_METADATA_ITEM:()=>yt,REDISPATCH_LEGACY_METADATA_ACTION:()=>at,REFRESH_METADATA_ITEM:()=>vt,SET_DOWNLOAD_SUBSCRIPTION_ID:()=>wt,SPLIT_METADATA_ITEM_APART:()=>ft,SYNC_METADATA_ITEM:()=>It,UNMATCH_METADATA_ITEM:()=>bt,UNSET_DOWNLOAD_SUBSCRIPTION_ID:()=>Tt,UPDATE_DOWNLOAD_AVAILABILITY:()=>Ct,UPDATE_DOWNLOAD_AVAILABILITY_FROM_DELETED_TIMELINE:()=>Pt,UPDATE_DOWNLOAD_SUBSCRIPTION_IDS:()=>Zt,UPDATE_METADATA_ITEM_PLAYED_STATUS:()=>ht,UPDATE_METADATA_ITEM_REFRESHING_STATE:()=>St,UPDATE_METADATA_SETTINGS:()=>Et,analyzeMetadataItem:()=>xt,changeMetadataItemField:()=>Gt,clearMetadataSettingsError:()=>Kt,deleteMetadataItem:()=>Lt,deleteMetadataItemVersion:()=>Ot,downloadMetadataItemVersion:()=>jt,editMetadataItem:()=>kt,favoriteMetadataItem:()=>qt,fixMetadataItemMatch:()=>Rt,getMetadataItemInfo:()=>zt,markMetadataItemPlayed:()=>Xt,markMetadataItemUnplayed:()=>Jt,metadataActionHandlers:()=>ln,modifySmartPlaylist:()=>an,optimizeMetadataItem:()=>Vt,rateMetadataItem:()=>Bt,redispatchLegacyMetadataAction:()=>At,refreshMetadataItem:()=>Ft,setDownloadSubscriptionID:()=>en,splitMetadataItemApart:()=>Ht,syncMetadataItem:()=>_t,unfavoriteMetadataItem:()=>$t,unmatchMetadataItem:()=>Qt,unsetDownloadSubscriptionID:()=>tn,updateDownloadAvailability:()=>nn,updateDownloadAvailabilityFromDeletedTimeline:()=>sn,updateDownloadSubscriptionIDs:()=>rn,updateMetadataItemPlayedStatus:()=>Ut,updateMetadataItemRefreshingState:()=>Yt,updateMetadataSettings:()=>Wt});var i=n(19755),s=n.n(i),r=n(73034),a=n(29705),o=n(47909),l=n(93966),c=n(94018),d=n(94053),u=n(5513),p=n(34583),m=n(49897),h=n(95374),g=n(57054);var y=n(56054),v=n(11203),f=n(32901),I=n(88050),b=n(32707),M=Object.assign;const S=(e,t,n)=>{for(const i of t){const t=i.fields.find((({key:t})=>{const s=e.key===t||`${n}.${e.key}`===t;return n===i.type&&e.key===`${n}.${t}`||s}));if(t)return M(M({},e),{key:t.key})}};var E=n(52331),D=n(46525),C=n(34796),P=n(41658),w=n(24079),T=n(5562),Z=n(69881),N=n(26512),A=n(32827),x=n(64458),L=n(517),O=n(13469),j=n.n(O),k=n(38892),R=n(43614),z=n.n(R);const U=k.Z.extend({name:"downloadVersionModal",template:z(),serializeData:function(){var e=this.model;return{defaultLinkTarget:"_self",mediaItems:j().map(this.model.get("Media"),(function(t,n){var i=j().clone(t);i.downloadUrl=e.getDownloadUrl(n);var s=e.getFilepath(n);return s&&(i.downloadName=o.Z.getLastSegment(s)),i}))}},onClick:function(){}});var V=n(86199),B=n(10612),F=n(41208),H=n(79317),_=n(46140),Q=n.n(_);const G=H.Z.extend({template:Q(),serializeData(){return this.model.get("preferences").toJSON()},flushChanges(){const e=this.ui.form.serializeArray(),t=this.model.get("preferences");e.forEach((e=>{const n=t.get(e.name),i=n.clone();i.parseAndSetValue(e.value),i.get("value")!==n.get("value")&&t.add(i,{merge:!0})}))}});var Y=n(21288),W=n(68121),K=n.n(W),q={playlist:["general","advanced"]};const $=Y.Z.extend({mixins:[B.Z],name:"editPlaylistModal",className:"edit-metadata-modal modal modal-lg fade",template:K(),panes:{general:{constructor:F.Z},advanced:{constructor:G}},panesModel:"tempModel",events:j().extend({"click .change-pane-btn":"onChangePaneClick","click .save-btn":"onFormSubmit","submit .edit-metadata-form":"onFormSubmit"},Y.Z.prototype.events),ui:{saveBtn:".save-btn",message:".form-message",navPane:".modal-nav-pane",loadingIndicator:".modal-body-pane .loading-inline"},regions:{paneRegion:".pane-region"},onlyAfterRender:["saveChanges","showPane","showNav"],initialize:function(e){Y.Z.prototype.initialize.apply(this,arguments);var t=e.model;this.model=t;var n=t.fetch({usePopulatedParams:!0,data:{includePreferences:"1"}});(n=n.done(j().bind((function(){this.tempModel=t.clone(),this.render(),this.showNav(),this.showPane(e.selectedPane||"general"),this.listenTo(a.Z,"shortcut:save",this.saveChanges)}),this))).fail(j().bind((function(){this.ui.message.text((0,T.Z)("There was an error editing this item")),this.ui.loadingIndicator.addClass("hidden")}),this))},serializeData:function(){var e=q[this.model.get("type")]||q.movie;this.model.has("preferences")||(e=j().difference(e,["advanced"]));var t=j().reduce(e,(function(e,t){return e[t]=!0,e}),{}),n=j().escape((0,T.Z)("Edit {1}",this.model.get("title")));return{item:this.model.toJSON(),panes:t,selectedPane:this.selectedPane,paneTitle:n}},paneConstructorArg:function(){return{type:this.selectedPane}},showNav:function(){this.ui.navPane.removeClass("hidden")},saveChanges:function(){var e=this.ui.saveBtn,t=this.ui.message;if(!e.isDisabled()){t.text(""),this.paneRegion.currentView.flushChanges();var n=j().reduce(this.model.changedAttributes(this.tempModel.attributes),((e,t,n)=>(this.model.syncedAttrs[n]&&(e[n]=t),e)),{});e.addClass("active");var i=[];j().isEmpty(n)||i.push(this.model.save(n)),i.push(this.savePreferences());var r=s().when.apply(s(),i);r.done(j().bind((function(){this.hide()}),this)),r.fail((function(){t.text((0,T.Z)("Your changes could not be saved."))})),r.always((function(){e.removeClass("active")}))}},savePreferences:function(){var e=this.tempModel.get("preferences");if(!e||!e.length)return s().Deferred().resolve().promise();var t=this.model,n=o.Z.join(["/library/metadata",t.get("ratingKey"),"prefs"],e.getSaveParams()),i=this.model.server.getXHROptions(n,{type:"PUT"}),r=s().ajax(i);return r.done((function(){var n=t.get("preferences");e.forEach((function(e){n.get(e.id).set("value",e.get("value"))}))})),r},onPaneShow:function(e,t){this.listenTo(t,"focusSubmit",(function(){this.ui.saveBtn.focus()}))},onPaneHide:function(e,t){t.flushChanges(),this.stopListening(t)},onFormSubmit:function(e){e.preventDefault(),this.saveChanges()}});var J=n(65652),X=n(85213),ee=n.n(X);const te=J.Z.ItemView.extend({id:"auto-match-dropdown",tagName:"span",className:"dropdown",template:ee(),collectionEvents:{reset:"render"},events:{"click .auto-match-agent":"onClick"},serializeData:function(){return{agents:this.collection.toJSON()}},onClick:function(e){e.preventDefault();var t=s()(e.currentTarget).data("id"),n=this.model.agents.get(t);c.Z.execute("autoMatch",{item:this.model,agent:n})}});var ne=n(46453),ie=n(17146),se=n(41105),re=n(73913),ae=n(43270),oe=n(93470),le=n.n(oe),ce=n(36e3),de=n.n(ce);const ue=new Set([ne.WX,ne.Ut,ne.Zb]);function pe(e){return j().map(e,(function(e){return'<option value="'+e.value+'"'+(e.selected?" selected":"")+">"+e.label+"</option>"})).join("\n")}function me(e,t){return e.map((function(e){return{label:e.get("name"),value:e.get("identifier"),selected:t===e.get("identifier")}}))}function he(e,t){return e?e.get("languages").map((function(e){return{label:e.get("name"),value:e.id,selected:e.id===t}})):[]}const ge=J.Z.ItemView.extend({template(e){const{item:t,scannerIdentifier:n}=e;return t.type===Z.ALBUM&&n===ie.c3?le()(e):de()(e)},ui:{agentSelect:"#match-search-agent",languageSelect:"#match-search-language"},events:{"change #match-search-agent":"onAgentSelectChange"},onlyAfterRender:["updateAgents","updateLanguages"],initialize:function(){var e=(0,se.Z)(this.model).get("agent"),t=this.setupAgents(e);t.then(j().bind(this.updateAgents,this,e)),t.then(j().bind(this.updateLanguages,this,e))},serializeData:function(){var e=(0,se.Z)(this.model),t=e.get("agent"),n=this.model.agentsProxy.findWhere({identifier:t});return{item:this.model.toJSON(),agents:me(this.model.agentsProxy,t),scannerIdentifier:e.get("scanner"),languages:he(n)}},setupAgents:function(e){if(this.model.agentsPromise)return this.model.agentsPromise;var t=(0,se.Z)(this.model),n=t.getSectionType(),i=new re.Z([],{server:this.model.server,mediaTypeID:n.typeID}),s=i.populate({reset:!0,cancelable:!0});return s.then((()=>{var s=function(e,t){if(!e)return[];var n=ue.has(t);return e.filter((e=>{const t=ue.has(e.get("identifier"));return n?t:!t}))}(i,t.get("agent"));this.model.agents=i.clone(s);var r=n.exclusiveAgents;this.model.agentsProxy=new ae.Z(this.model.agents,r,e)})),this.model.agentsPromise=s,this.model.agentsPromise},updateAgents:function(e){this.ui.agentSelect.html(pe(me(this.model.agentsProxy,e)))},updateLanguages:function(e){var t=this.model.agentsProxy.findWhere({identifier:e});if(e){var n=(0,se.Z)(this.model).get("language");this.ui.languageSelect.html(pe(he(t,n)))}else this.ui.languageSelect.empty()},onAgentSelectChange:function(e){this.updateLanguages(e.currentTarget.value)},onModalClose:function(){this.model.agents=null,this.model.agentsProxy=null,this.model.agentsPromise=null}});var ye=n(72601),ve=n(21009),fe=n(66440),Ie=n.n(fe);const be=J.Z.ItemView.extend({template:Ie()}),Me={collectionEvents:{"update reset sort":"onTracksUpdate"},markDiscNumbers:function(){if(this.collection.server.supports("premiumMusic")){var e=this.collection.reduce((function(e,t,n){var i=t.get("parentIndex");return i!==e.lastDiscNumber&&(e.markers[n]=i,e.lastDiscNumber=i,e.count+=1),e}),{markers:{},lastDiscNumber:null,count:0});return this.discMarkers=e.markers,e.count}},onRender:function(){1!==this.markDiscNumbers()&&j().each(this.discMarkers,j().bind((function(e,t){this.$("li:eq("+t+") .disc-number").removeClass("hidden")}),this))},onTracksUpdate:function(){this.render()}};var Se=n(87507),Ee=n.n(Se),De=Object.assign;const Ce=J.Z.ItemView.extend({tagName:"li",template:Ee(),className:"striped-list-item",serializeData(){const e=this.model.toJSON();return De(De({},e),{escapedParentIndex:j().escape(e.parentIndex)})}}),Pe=ve.Z.extend({mixins:[Me],tagName:"ul",itemView:Ce,className:"list"}),we=/\d{4}/,Te=function({disambiguation:e="",lifespanBegin:t="",lifespanEnd:n="",area:i="",beginArea:s=""}){const r=t.match(we),a=n.match(we),o=[s,i,a?`${r}-${a}`:r].filter(Boolean);return e?[e,o.length?`(${o.join(", ")})`:null].filter(Boolean).join(" "):o.join(", ")};var Ze=n(54536),Ne=n.n(Ze);const Ae=J.Z.Layout.extend({tagName:"li",className:"striped-list-item match-result-list-item row",template:Ne(),ui:{matchExtendedInfo:".match-extended-info"},regions:{childrenRegion:".children-region"},events:{"click .match-result":"onClick"},initialize:function(e){this.item=e.item},onRender:function(){!this.model.get("summary")||this.model.get("type")!==Z.MOVIE&&this.model.get("type")!==Z.GAME&&this.model.get("type")!==Z.SHOW||this.ui.matchExtendedInfo.removeClass("hidden");var e=this.model.get("children");if(e){var t=e.first();t&&t.get("type")===Z.TRACK&&(this.ui.matchExtendedInfo.removeClass("hidden"),this.childrenRegion.show(new Pe({collection:e})))}},onClick:function(e){e.preventDefault(),c.Z.execute("match",{item:this.item,guid:this.model.id,name:this.model.get("name"),year:this.model.get("year"),children:this.model.get("children")})},serializeData(){const e=this.model.toJSON();return{year:e.year,parentName:e.parentName,name:e.name,disambiguationInfo:Te(e),thumb:e.thumb,normalizedScore:e.normalizedScore,escapedNormalizedScore:j().escape(e.normalizedScore),summary:e.summary}}}),xe=ve.Z.extend({tagName:"ul",className:"list match-result-list",itemView:Ae,emptyView:be});var Le=n(77410),Oe=n.n(Le);const je=J.Z.Layout.extend({template:Oe(),regions:{resultRegion:".result-region"},onlyAfterRender:["updateResults"],initialize:function(){this.setupResults();var e=(0,se.Z)(this.model),t={manual:1},n={reset:!0,timeout:0,data:t};/com\.plexapp\.agents\.none:\/\//.test(this.model.get("guid"))&&j().extend(n,{data:j().extend(t,{agent:e.get("agent"),language:e.get("language")}),processData:!0}),this.model.results.populate(n).then(j().bind(this.updateResults,this))},setupResults:function(){if(!this.model.results){var e=this.model.results||new ye.Z([],{server:this.model.server,parent:this.model});this.model.results=e}},updateResults:function(){this.resultRegion.show(new xe({collection:this.model.results,itemViewOptions:{item:this.model}}))},onModalClose:function(){this.model.results=null}});var ke=n(56294),Re=n.n(ke);const ze=Y.Z.extend({mixins:[B.Z],name:"fixIncorrectMatch",className:"fix-incorrect-match-modal modal modal-lg fade",template:Re(),panes:{form:{constructor:ge},results:{constructor:je}},ui:{searchBtn:".search-btn"},regions:{paneRegion:".pane-region",autoMatchDropdownRegion:".auto-match-dropdown-region"},events:j().extend({"click .auto-match-agent":"hide","click .match-result":"hide","click .search-options-btn":"onSearchOptionsClick","click .cancel-btn":"onCancelClick","click .search-btn":"onSearchClick","submit #fix-incorrect-match-form":"onSearchSubmit"},Y.Z.prototype.events),onlyAfterRender:["showPane","updateSearchBtn","showAutoMatchPicker"],initialize:function(){Y.Z.prototype.initialize.apply(this,arguments),ge.prototype.setupAgents.apply(this).then((()=>{this.showAutoMatchPicker()})),je.prototype.setupResults.apply(this),this.showPane("results")},serializeData:function(){return{location:this.model.getLocation(),showNavigation:!this.model.isPlexMusicItem()}},updateSearchBtn:function(e){this.ui.searchBtn.toggleClass("disabled","form"!==e)},showAutoMatchPicker:function(){this.autoMatchDropdownRegion.show(new te({model:this.model,collection:this.model.agentsProxy}))},fetchResults:function(e){var t=j().reduce(e.serializeArray(),(function(e,t){return e[t.name]=t.value,e}),{manual:1});this.model.results.fetch({reset:!0,data:t,processData:!0,timeout:0})},bindings:{".modal-title-text":{modelAttribute:"guid",formatter:function(e){return/com\.plexapp\.agents\.none:\/\//.test(e)?(0,T.Z)("Match"):(0,T.Z)("Fix Match")}}},onRender:function(){Y.Z.prototype.onRender.apply(this,arguments)},onPaneShow:function(e){this.updateSearchBtn(e)},onSearchOptionsClick:function(e){e.preventDefault(),this.showPane("form")},onCancelClick:function(e){e.preventDefault(),"results"!==this.selectedPane?this.showPane("results"):this.hide()},onSearchClick:function(e){e.preventDefault();var t=s()(e.currentTarget);if(!t.isDisabled()){var n=t.closest("form");this.fetchResults(n),this.showPane("results")}},onSearchSubmit:function(e){e.preventDefault();var t=s()(e.currentTarget);t.find("search-btn").isDisabled()||(this.fetchResults(t),this.showPane("results"))}});var Ue=n(35424),Ve=n(25168),Be=n(7378),Fe=n(72369),He=n(10825);const _e={h264:10,hevc:30},Qe=function(e,t){if(null==e||Number.isNaN(e))return"";const n=parseInt(e,10),i=_e[t||"h264"];return Number.isFinite(n)&&Number.isFinite(i)?(n/i).toFixed(1):String(e)};var Ge=n(43534),Ye=n(19816);const We=function(e){let t="";for(let n=0,i=e.length;n<i;n++){const i=e.charAt(n),s=i.toUpperCase();t+=0===n?s:i===s?" "+s:i}return t};var Ke=n(82941),qe=n.n(Ke),$e=["id","key","index","videoCodec","audioCodec","audioChannels","default","selected","languageCode","accessible","exists","provider","lines","minLines","follow","requiredBandwidths","deepAnalysisVersion","deepAnalysisDate","Overlay"],Je={size:Fe.Z,duration:Be.Z,codec:Ge.Z,format:Ge.Z,container:Ge.Z,videoResolution:He.Z,bitrateMode:Ge.Z,accessible:Ye.Z,exists:Ye.Z,optimizedForStreaming:Ye.Z,timed:Ye.Z,file:o.Z.getLastSegment},Xe={optimizedForStreaming:"Web Optimized",has64bitOffsets:"Has 64bit Offsets",cabac:"CABAC",postURL:"URL",codecID:"Codec ID"},et={frameRate:" fps",dialogNorm:" dB",bitrate:" kbps",samplingRate:" Hz"},tt=function(e,t){var n={properties:[]};for(var i in e)if(i!==t&&-1===j().indexOf($e,i)){var s=Xe[i],r=e[i];"level"===i&&(r=Qe(r,e.codec)),Je[i]&&(r=Je[i](r)),r&&(et[i]&&(r+=et[i]),s||(s=We(i)),n.properties.push({name:s,value:r}))}return t&&e&&(n[t]=e[t]),n};function nt(e){return j().map(e.get("Media"),(function(e){return j().extend(tt(e,"Part"),{Part:j().map(e.Part,(function(e){return j().extend(tt(e,"Stream"),{file:e.file,exists:!1!==e.exists,accessible:!1!==e.accessible,Stream:(t=e.Stream,n=j().reject(t,(function(e){return e.id===Ve.H})),i=j().sortBy(n,"streamType"),j().map(i,(function(e){return tt(e,"streamType")})))});var t,n,i}))})}))}const it=Y.Z.extend({name:"mediaInfoModal",className:"media-info-modal modal modal-lg fade",template:qe(),ui:{scroller:".modal-body-scroll",files:".files > ul",stickyProps:".media > .props, .part > .props"},events:j().extend({"click .delete-btn":"onDeleteClick"},Y.Z.prototype.events),modelEvents:{"change:Media":"onMediaChange"},initialize:function(e){Y.Z.prototype.initialize.apply(this,arguments),this.bindAllWhenRendered("onMediaChange","onScroll"),this.loading=!1,this.media=nt(this.model),this.loading=!0,this.model.fetch({usePopulatedParams:!0,data:{checkFiles:1,asyncCheckFiles:0}}).always(this.whenRendered((function(){this.model.changed.hasOwnProperty("Media")||this.updateMedia()})))},serializeData:function(){var e=this.model.get("key"),t=l.DB("appModel").get("user"),n=this.model.server;return this.model.get("isLibraryItem")&&(e=o.Z.join(e,{checkFiles:1,includeAllConcerts:1,includeBandwidths:1,includeChapters:1,includeChildren:1,includeConcerts:1,includeExtras:1,includeFields:1,includeGeolocation:1,includeLoudnessRamps:1,includeMarkers:1,includeOnDeck:1,includePopularLeaves:1,includePreferences:1,includeRelated:1,includeRelatedCount:1,includeReviews:1,includeStations:1})),{key:e,url:this.model.server.resolveUrl(e,{appendToken:!0}),media:this.media,hasFiles:this.hasFiles(),hasStreams:this.hasStreams()||this.loading,showDeleteFile:n.get("isFullOwnedServer")&&n.get("allowMediaDeletion")&&n.supports("specificMediaDeletion"),showFilepath:!n.get("shared")||t.isNinja(),loading:this.loading}},updateMedia:function(){this.loading=!1,this.rerender=!0,this.ui.scroller.off("scroll",this.onScroll),this.media=nt(this.model),this.render()},hasFiles:function(){return!!j().chain(this.media).pluck("Part").flatten().pluck("file").compact().size().value()},hasStreams:function(){return!!j().chain(this.media).pluck("Part").flatten().pluck("Stream").flatten().size().value()},onRender:function(){Y.Z.prototype.onRender.apply(this,arguments),this.ui.scroller.on("scroll",this.onScroll),this.$el.tooltip({selector:".files .label",placement:"bottom"})},onClose:function(){this.ui.scroller.off("scroll",this.onScroll)},onMediaChange:function(){this.isHidden||(this.model.get("Media").length?this.updateMedia():this.hide())},onDeleteClick:function(e){e.preventDefault(),c.Z.execute("deleteMediaItem",{item:this.model,index:s()(e.currentTarget).data("media-item")})},onScroll:function(){var e=this.ui.scroller.scrollTop(),t=this.ui.scroller.offset().top;this.ui.files.length&&(t+=parseInt(this.ui.files.css("margin-bottom"),10)),t<0?window.setTimeout(this.onScroll,500):this.ui.stickyProps.each((function(){var n=s()(this),i=n.parent().height()-n.height(),r=e-this.parentNode.offsetTop,a=Math.min(Math.max(r,0),i);a&&a===r?(n.addClass("sticky"),n.css("top",t)):(n.removeClass("sticky"),n.css("top",a))}))}});var st=n(74527),rt=Object.assign;const at="metadata/redispatchLegacyMetadataAction",ot="metadata/analyzeMetadataItem",lt="metadata/deleteMetadataItem",ct="metadata/deleteMetadataItemVersion",dt="metadata/downloadMetadataItemVersion",ut="metadata/editMetadataItem",pt="metadata/fixMetadataItemMatch",mt="metadata/getMetadataItemInfo",ht="metadata/updateMetadataItemPlayedStatus",gt="metadata/optimizeMetadataItem",yt="metadata/rateMetadataItem",vt="metadata/refreshMetadataItem",ft="metadata/splitMetadataItemApart",It="metadata/syncMetadataItem",bt="metadata/unmatchMetadataItem",Mt="metadata/changeMetadataItemField",St="metadata/updateMetadataItemRefreshingState",Et="metadata/UPDATE_METADATA_SETTINGS",Dt="CLEAR_METADATA_SETTINGS_ERROR",Ct="metadata/updateDownloadAvailability",Pt="metadata/updateDownloadAvailabilityFromDeletedTimeline",wt="metadata/setDownloadSubscriptionID",Tt="metadata/unsetDownloadSubscriptionID",Zt="metadata/updateDownloadSubscriptionIDs",Nt="metadata/modifySmartPlaylist",At=(0,r.Z)(at),xt=(0,r.Z)(ot),Lt=(0,r.Z)(lt),Ot=(0,r.Z)(ct),jt=(0,r.Z)(dt),kt=(0,r.Z)(ut),Rt=(0,r.Z)(pt),zt=(0,r.Z)(mt),Ut=(0,r.Z)(ht),Vt=(0,r.Z)(gt),Bt=(0,r.Z)(yt),Ft=(0,r.Z)(vt),Ht=(0,r.Z)(ft),_t=(0,r.Z)(It),Qt=(0,r.Z)(bt),Gt=(0,r.Z)(Mt),Yt=(0,r.Z)(St),Wt=(0,r.Z)(Et),Kt=(0,r.Z)(Dt),qt=(0,r.Z)(yt,(e=>rt(rt({},e),{rating:C.jt}))),$t=(0,r.Z)(yt,(e=>rt(rt({},e),{rating:C.LX}))),Jt=(0,r.Z)(ht,(e=>rt(rt({},e),{played:!1}))),Xt=(0,r.Z)(ht,(e=>rt(rt({},e),{played:!0}))),en=(0,r.Z)(wt),tn=(0,r.Z)(Tt),nn=(0,r.Z)(Ct),sn=(0,r.Z)(Pt),rn=(0,r.Z)(Zt),an=(0,r.Z)(Nt);function on(e,t,n,i={}){n&&(0,l.DB)("metrics").trackClick(rt({page:n,action:e,type:t.get("type")},i))}const ln={[v.$T]:v.ky[v.$T],[v.Ls]:v.ky[v.Ls],[v.se]:v.ky[v.se],[v.Y3]:v.ky[v.Y3],[v.IK]:v.ky[v.IK],[v.vG]:v.ky[v.vG],[v.Fl]:v.ky[v.Fl],[v.wS]:v.ky[v.wS],[v.Vf]:v.ky[v.Vf],[v.Ft]:v.ky[v.Ft],[at](e,t,n){const{serverModel:i,providerModel:s,itemServerModel:r,itemProviderModel:a,metadataItemModel:o}=(0,A.Z)(e,t),l=t.legacyAction.type,c=t.legacyAction.payload,d=(null==c?void 0:c.metricsProperties)||{};n({type:l,payload:rt(rt({},c),{serverEntityID:i.entityID(),providerEntityID:s.entityID(),itemServerEntityID:r?r.entityID():null,itemProviderEntityID:a?a.entityID():null,metadataItemEntityID:o.entityID(),metricsPage:t.metricsPage,metricsProperties:rt(rt({},d),t.metricsProperties),skipClickMetrics:!0})})},[ot](e,t,n){const i=(0,L.$R)(e,t),s=t.metricsPage,r={allowMetrics:!!s,metricsProperties:{page:s}};(0,p.Z)(i,r).fail((e=>{n((0,f.wp)((0,T.Z)("There was a problem analyzing this item.")))}))},[dt](e,t){const n=(0,L.$R)(e,t),i=new U({model:n});a.Z.trigger("show:modal",i)},[lt](e,t){const n=(0,L.$R)(e,t),i=t.options||{},s=n.get("isPlaylist")?"deletePlaylist":"deleteItems";c.Z.execute(s,rt({item:n},i)),on(I.yY,n,t.metricsPage)},[ct](e,t){const n=(0,L.$R)(e,t);c.Z.execute("deleteVersions",{item:n}),on(I.yY,n,t.metricsPage)},[ut](e,t){const n=(0,L.$R)(e,t),i=n.get("isPlaylist")?new $({model:n}):new V.Z({model:n});a.Z.trigger("show:modal",i),on(I.dm,n,t.metricsPage)},[pt](e,t){const n=(0,L.$R)(e,t);n.server.get("sections").fetch().then((()=>{const e=new ze({model:n});a.Z.trigger("show:modal",e),on(I.P9,n,t.metricsPage)}))},[mt](e,t){const n=(0,L.$R)(e,t),i=new it({model:n});a.Z.trigger("show:modal",i),on(I.$M,n,t.metricsPage)},[ht](e,t,n){const i=(0,L.$R)(e,t);(0,y.Z)(e,t).then((()=>{n((0,f.jR)({serverEntityID:t.serverEntityID}))}),(()=>{const e=t.played?(0,T.Z)("There was an unexpected error marking an item played."):(0,T.Z)("There was an unexpected error marking an item unplayed.");n((0,f.wp)(e))})),on(t.played?I.qe:I.h3,i,t.metricsPage)},[gt](e,t){const n=(0,L.$R)(e,t),i=new st.Z({item:n});a.Z.trigger("show:modal",i),on(I.FH,n,t.metricsPage)},[yt](e,t,n){const{rating:i,metricsPage:s}=t,r=(0,L.js)(e,t),a=(0,L.$R)(e,t),o={rating:i,allowMetrics:!!s,metricsProperties:{page:s}};(0,m.Z)(r,a,o).fail((e=>{n((0,f.wp)((0,T.Z)("There was a problem rating this item.")))}))},[vt](e,t,n){const i=(0,L.$R)(e,t),s=t.metricsPage,r={allowMetrics:!!s,metricsProperties:{page:s}};(0,h.Z)(i,r).fail((e=>{503===e.status?a.Z.trigger("show:modal",new Ue.Z({model:i.server})):n((0,f.wp)((0,T.Z)("There was a problem refreshing this item.")))}))},[ft](e,t,n){const i=(0,L.$R)(e,t);c.Z.execute("splitApart",{item:i,skipNavigate:!0}).done((()=>{n((0,f.jR)({serverEntityID:t.serverEntityID}))})),on(I.RF,i,t.metricsPage)},[It](e,t){const n=(0,L.$R)(e,t);c.Z.execute("showSyncModal",{item:n}),on(I.J3,n,t.metricsPage)},[bt](e,t){const n=(0,L.$R)(e,t);c.Z.execute("unmatch",{item:n}),on(I.Zy,n,t.metricsPage)},[Mt](e,t,n){const{providerEntityID:i,metadataItemEntityID:r,name:a,value:l,save:c}=t,d=(0,L.$R)(e,{metadataItemEntityID:r});if(!c)return void d.set({[a]:l});const u=(0,L.js)(e,{providerEntityID:i}),p=o.Z.join(d.get("key"),{[a]:l,[`${a}.locked`]:1}),m=u.getXHROptions(p,{type:"PUT"});s().ajax(m).fail((e=>{n((0,f.wp)((0,T.Z)("There was a problem editing this item.")))})),on(I.dm,d,t.metricsPage)},[St](e,t){const n=(0,L.tz)(e,t);n&&n.set({metadataState:t.metadataState,mediaState:t.mediaState})},[Et](e,t,n){const i=(0,L.js)(e,t),r=(0,L.$R)(e,t),{data:a}=t;(function(e,t,n){const i=t.get("key"),r=o.Z.join([i,"prefs"],n),a=e.getXHROptions(r,{type:"PUT"});t.set({isSettingsUpdating:!0,settingsUpdateError:null});const l=s().ajax(a);return l.then((()=>{t.set("isSettingsUpdating",!1)}),(e=>{t.set({isSettingsUpdating:!1,settingsUpdateError:(0,g.Z)(e)})})),l})(i,r,a).then((()=>{n((0,v.dk)({serverEntityID:t.serverEntityID,metadataItemEntityID:t.metadataItemEntityID}))}))},[Dt](e,t,n){(0,L.$R)(e,t).set("settingsUpdateError",null)},[Ct](){},[Zt](){},[Nt](e,t,n){const i=(0,L.SW)(e,t),s=(0,L.js)(e,t),r=(0,L.$R)(e,t);r.fetch().done((()=>{var e;const t=r.get("content"),{sectionKey:a,type:l,sort:c,limit:p,sourceType:m,filterString:h}=b.Z.parseLibraryUri(t);if((0,x.Z)()){const l=o.Z.getLastSegment(t),c=(0,w.Z)(s,a),d=c.pivots.find((e=>"library"===e.id||e.key.includes(c.key))),p=(0,N.Z)(i.toJSON(),s.toJSON(),c,{pivot:null!=(e=d.id)?e:d.key,key:decodeURIComponent(l),playlistKey:r.get("key"),advancedFilters:1});return void n((0,u.c4)({pathname:p}))}const g=new d.Z({key:a},{server:i,provider:s,includeAdvanced:!0});g.fetch().done((()=>{const e=m||l,t=e?Z.getMetadataType(e).typeString:"",o=g.get("types").toJSON(),d=(0,E.Z)(h),{supported:y,unsupported:v}=(({filters:e,types:t,type:n})=>{const i=[],s=[];for(const r of e)if("userRating"===r.key&&Array.isArray(r.value))s.push(r);else{const e=S(r,t,n);e?i.push(e):s.push(r)}return{supported:i,unsupported:s}})({filters:d,types:o,type:t});if(v.length)return void n((0,f.wp)((0,T.Z)("This playlist cannot be edited.")));const I=c?decodeURIComponent(c):"",b=(0,D.Z)(y),M=(0,w.Z)(s,a),C=M.pivots.find((({key:e})=>e.includes(M.key))).key,A=e?(0,P.Z)(M.id,t):C,x=(0,N.Z)(i.toJSON(),s.toJSON(),M,{key:C,typeKey:A,filters:b,sort:I,type:e,limit:p,customFilter:1,playlistID:r.get("ratingKey"),playlistTitle:r.get("title")});n((0,u.c4)({pathname:x}))}))}))}}},29414:(e,t,n)=>{"use strict";n.d(t,{C8:()=>x,CF:()=>L,vp:()=>O,u6:()=>j,vm:()=>k,$5:()=>R,wr:()=>z,g8:()=>U,Kn:()=>V,XX:()=>B,m8:()=>F,wZ:()=>H,rr:()=>_,q9:()=>G});var i=n(73034),s=n(29705),r=n(93966),a=n(94018),o=n(95933),l=n(26564),c=n(27940),d=n(58042),u=n(73054),p=n(88050),m=n(47486),h=n(28440),g=n(62034),y=n(517),v=n(74527),f=Object.assign;const I="metadata/metadataList/fetchMetadataList",b="metadata/metadataList/populateMetadataList",M="metadata/metadataList/populateMetadataListRange",S="metadata/metadataList/repopulateMetadataListRange",E="metadata/metadataList/syncMetadataList",D="metadata/metadataList/optimizeMetadataList",C="metadata/metadataList/selectMetadataListItem",P="metadata/metadataList/deselectMetadataListItem",w="metadata/metadataList/selectMetadataListItems",T="metadata/metadataList/deselectMetadataListItems",Z="metadata/metadataList/deselectAllMetadataListItems",N="metadata/metadataList/resetMetadataList",A="metadata/metadataList/redispatchLegacyMetadataListAction",x=(0,i.Z)(I),L=(0,i.Z)(b),O=(0,i.Z)(M),j=(0,i.Z)(S),k=(0,i.Z)(E),R=(0,i.Z)(D),z=(0,i.Z)(C),U=(0,i.Z)(P),V=(0,i.Z)(w),B=(0,i.Z)(T),F=(0,i.Z)(Z),H=(0,i.Z)(N),_=(0,i.Z)(A);function Q(e,t,n={}){(0,r.DB)("metrics").trackClick(f({page:t,action:e,context:m.LIST},n))}const G={[I]:(0,l.Z)({getModel:y.lK}),[b]:(0,c.Z)({fetchActionCreator:x,getModel:y.lK}),[M]:(0,d.Z)({getModel:y.lK}),[S]:(0,u.Z)({getModel:y.lK}),[E](e,t){const n=(0,y.lK)(e,t);a.Z.execute("showSyncModal",{item:n}),Q(p.J3,t.metricsPage,t.metricsProperties)},[D](e,t){const n=(0,y.lK)(e,t),i=new v.Z({item:n});s.Z.trigger("show:modal",i),Q(p.FH,t.metricsPage,t.metricsProperties)},[C](e,t,n){const{id:i,type:s,isRangeSelect:r}=t,a=(0,y.lK)(e,t),o=(0,y.$R)(e,{metadataItemEntityID:i}),l=a.getCollection();o&&n((0,g.Gh)({type:s,model:o,collection:l,isRangeSelect:r}))},[P](e,t,n){const i=(0,y.$R)(e,{metadataItemEntityID:t.id});i&&n((0,g.Ib)([i.id]))},[w](e,t,n){const{ids:i,type:s}=t,r=i.reduce(((t,n)=>{const i=(0,y.tz)(e,{metadataItemEntityID:n});return i&&t.push({id:i&&i.id,type:s,model:i}),t}),[]);n((0,g.GZ)(r))},[T](e,t,n){const i=t.ids.reduce(((t,n)=>{const i=(0,y.tz)(e,{metadataItemEntityID:n});return i&&t.push({id:i&&i.id}),t}),[]);n((0,g.Ib)(i))},[Z](e,t,n){const i=(0,y.lK)(e,t).getCollection();n((0,g.Nd)(i))},[N](e,t){const n=(0,y.lK)(e,t),i=n.get("entityKey");n.abortPendingPopulate(),n.resetPopulatePromise(null),n.restoreDefaults({entityKey:i,meta:i?n.get("meta"):void 0,containerKey:n.get("containerKey"),containerTitle:n.get("containerTitle")})},[A](e,t,n){const i=(0,h.SW)(e,{serverEntityID:t.server.entityID}),s=(0,h.js)(e,{providerEntityID:t.provider.entityID}),r=new o.Z({containerKey:t.containerKey},{server:i,provider:s,includeCollections:!0,includeExternalMedia:!0}),a=t.legacyAction.type,l=t.legacyAction.payload,c=(null==l?void 0:l.metricsProperties)||{};n({type:a,payload:f(f({},l),{serverEntityID:i.entityID(),providerEntityID:s.entityID(),metadataListEntityID:r.entityID(),metricsPage:t.metricsPage,metricsProperties:f(f({},c),t.metricsProperties),skipClickMetrics:!0})})}}},62034:(e,t,n)=>{"use strict";n.d(t,{aM:()=>W,Gh:()=>K,GZ:()=>q,mD:()=>$,Ib:()=>J,Nd:()=>X,Pe:()=>ne,UY:()=>ie,aU:()=>se,fR:()=>re,H3:()=>ae,mP:()=>oe,ZT:()=>le,ZP:()=>ce,PP:()=>de,hM:()=>ue,u9:()=>pe,Bf:()=>me,de:()=>he,$z:()=>ge,$e:()=>ye,tv:()=>Ie});var i=n(19755),s=n.n(i),r=n(13469),a=n.n(r),o=n(73034),l=n(29705),c=n(94018),d=n(34583),u=n(49897),p=n(95374),m=n(56054),h=n(79932),g=n(32901),y=n(34796),v=n(63733),f=n(28440),I=n(5562),b=n(32827),M=n(86199),S=n(74527),E=Object.prototype.hasOwnProperty,D=Object.getOwnPropertySymbols,C=Object.prototype.propertyIsEnumerable,P=Object.assign,w=(e,t)=>{var n={};for(var i in e)E.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&D)for(var i of D(e))t.indexOf(i)<0&&C.call(e,i)&&(n[i]=e[i]);return n};const T="multiSelect/redispatchLegacyMuliselectAction",Z="multiSelect/selectItem",N="multiSelect/selectModels",A="multiSelect/deselectAllItems",x="multiSelect/deselectModels",L="multiSelect/deselectCollection",O="multiSelect/selectRange",j="multiSelect/deselectRange",k="multiSelect/playSelectedItems",R="multiSelect/queueSelectedItems",z="multiSelect/favoriteSelectedItems",U="multiSelect/unfavoriteSelectedItems",V="multiSelect/updateSelectedItemsPlayedStatus",B="multiSelect/editSelectedItems",F="multiSelect/refreshSelectedItems",H="multiSelect/analyzeSelectedItems",_="multiSelect/syncMetadataItems",Q="multiSelect/optimizeMetadataItems",G="multiSelect/mergeSelectedItems",Y="multiSelect/deleteSelectedItems",W=(0,o.Z)(T),K=(0,o.Z)(Z),q=(0,o.Z)(N),$=(0,o.Z)(A),J=(0,o.Z)(x),X=(0,o.Z)(L),ee=(0,o.Z)(O),te=(0,o.Z)(j),ne=(0,o.Z)(k),ie=(0,o.Z)(z),se=(0,o.Z)(U),re=((0,o.Z)(V),(0,o.Z)(B)),ae=(0,o.Z)(F),oe=(0,o.Z)(H),le=(0,o.Z)(_),ce=(0,o.Z)(Q),de=(0,o.Z)(G),ue=(0,o.Z)(Y),pe=(0,o.Z)(k,(e=>{var{options:t={}}=e,n=w(e,["options"]);return P(P({},n),{options:P(P({},t),{shuffle:!0})})})),me=(0,o.Z)(V,(e=>P(P({},e),{played:!0}))),he=(0,o.Z)(V,(e=>P(P({},e),{played:!1}))),ge=(0,o.Z)(R,(e=>{var{options:t={}}=e,n=w(e,["options"]);return P(P({},n),{options:P(P({},t),{next:!1})})})),ye=(0,o.Z)(R,(e=>{var{options:t={}}=e,n=w(e,["options"]);return P(P({},n),{options:P(P({},t),{next:!0})})}));function ve(e){return e.get("ui").get("multiSelect").get("activeSelectionItems").map((e=>e.get("model").entityID()))}function fe(e){return e.map((e=>e.entityID()))}const Ie={[T](e,t,n){const i=t.items.map((t=>{const{metadataItemModel:n}=(0,b.Z)(e,t);return n})),s=t.legacyAction.type,r=t.legacyAction.payload;n({type:s,payload:P(P({},r),{items:i})})},[Z](e,t,n){const{type:i,model:s,collection:r,isRangeSelect:a=!1}=t,o=e.get("ui").get("multiSelect"),l=o.get("activeSelectionType"),c=o.get("activeSelectionRange");if(l&&l!==i)return;if(o.listenToCollection(r),!a||!c||c.collection!==r)return o.set("activeSelectionRange",{collection:r,startModel:s}),void n(q([{id:s.id,type:i,model:s}]));const d=c.startModel,u=c.endModel,p=r.indexOf(d),m=r.indexOf(s);if(u){const e=r.indexOf(u);n(te({collection:r,range:{start:p,end:e}}))}o.set("activeSelectionRange",{collection:r,startModel:d,endModel:s}),n(ee({type:i,collection:r,range:{start:p,end:m}}))},[N](e,t){e.get("ui").get("multiSelect").get("activeSelectionItems").add(t)},[A](e){e.get("ui").get("multiSelect").get("activeSelectionItems").reset()},[x](e,t){e.get("ui").get("multiSelect").get("activeSelectionItems").remove(t)},[L](e,t,n){const i=e.get("ui").get("multiSelect"),s=i.get("activeSelectionItems"),r=[];i.stopListening(t),t.each((e=>{s.get(e.id)&&r.push(e.id)})),r.length&&n(J(r))},[O](e,t,n){const{type:i,collection:s,range:r}=t,a=e.get("ui").get("multiSelect").get("activeSelectionItems"),o=[];v.Z.each(r,(e=>{const t=s.at(e);t&&!a.get(t.id)&&o.push({id:t.id,type:i,model:t})})),o.length&&n(q(o))},[j](e,t,n){const{collection:i,range:s}=t,r=e.get("ui").get("multiSelect").get("activeSelectionItems"),a=[];v.Z.each(s,(e=>{const t=i.at(e);t&&r.get(t.id)&&a.push(t.id)})),a.length&&n(J(a))},[k](e,t,n){const i=t.items?fe(t.items):ve(e);n((0,h.wA)(P(P({},t),{metadataItemEntityIDs:i})))},[R](e,t,n){const i=t.items?fe(t.items):ve(e);n((0,h.tP)(P(P({},t),{metadataItemEntityIDs:i})))},[z](e,t,n){const i=(0,f.js)(e,t),r=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("model");let a=s().Deferred().resolve().promise();r.forEach((e=>{a=a.then((()=>(0,u.Z)(i,e,{rating:y.jt})))})),a.fail((()=>{n((0,g.wp)((0,I.Z)("There was an unexpected error favoriting an item.")))}))},[U](e,t,n){const i=(0,f.js)(e,t),r=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("model");let a=s().Deferred().resolve().promise();r.forEach((e=>{a=a.then((()=>(0,u.Z)(i,e,{rating:y.LX})))})),a.fail((()=>{n((0,g.wp)((0,I.Z)("There was an unexpected error unfavoriting an item.")))}))},[V](e,t,n){const i=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("model");let r=s().Deferred().resolve().promise();i.forEach((n=>{r=r.then((()=>(0,m.Z)(e,P(P({},t),{metadataItemEntityID:n.entityID()}))))})),r.fail((()=>{const e=t.played?(0,I.Z)("There was an unexpected error marking an item played."):(0,I.Z)("There was an unexpected error marking an item unplayed.");n((0,g.wp)(e))})),r.always((()=>{const e={};i.forEach((t=>{const i=t.server.entityID();e[i]||(e[i]=!0,n((0,g.jR)({serverEntityID:i})))}))}))},[B](e,t){var n;const i=e.get("ui").get("multiSelect"),s=null!=(n=t.items)?n:i.get("activeSelectionItems").pluck("model"),r=new M.Z({items:s});l.Z.trigger("show:modal",r)},[F](e,t,n){var i;const r=e.get("ui").get("multiSelect"),a=null!=(i=t.items)?i:r.get("activeSelectionItems").pluck("model");let o=s().Deferred().resolve().promise();a.forEach((e=>{o=o.then((()=>(0,p.Z)(e)))})),o.fail((()=>{n((0,g.wp)((0,I.Z)("There was an unexpected error refreshing an item.")))}))},[H](e,t,n){var i;const r=e.get("ui").get("multiSelect"),a=null!=(i=t.items)?i:r.get("activeSelectionItems").pluck("model");let o=s().Deferred().resolve().promise();a.forEach((e=>{o=o.then((()=>(0,d.Z)(e)))})),o.fail((()=>{n((0,g.wp)((0,I.Z)("There was an unexpected error analyzing an item.")))}))},[_](e,t){var n;const i=e.get("ui").get("multiSelect"),s=null!=(n=t.items)?n:i.get("activeSelectionItems").pluck("model");c.Z.execute("showSyncModal",{item:a().first(s),items:s})},[Q](e,t){var n;const i=e.get("ui").get("multiSelect"),s=null!=(n=t.items)?n:i.get("activeSelectionItems").pluck("model"),r=new S.Z({item:a().first(s),items:s});l.Z.trigger("show:modal",r)},[G](e,t){var n;const i=e.get("ui").get("multiSelect"),s=null!=(n=t.items)?n:i.get("activeSelectionItems").pluck("model"),[r,...a]=s;c.Z.execute("merge",{item:r,items:a})},[Y](e,t,n){var i;const s=e.get("ui").get("multiSelect"),r=null!=(i=t.items)?i:s.get("activeSelectionItems").pluck("model"),a=t.options||{};c.Z.execute("deleteItems",P(P({},a),{items:r,skipConfirmation:!0}))}}},59194:(e,t,n)=>{"use strict";n.d(t,{Wy:()=>me,JZ:()=>ge,zl:()=>Se,ll:()=>ve,Af:()=>Ie,Hz:()=>be,uo:()=>fe,Q6:()=>ye,st:()=>Me,R_:()=>de,gj:()=>le,o1:()=>pe,Iy:()=>Ce,iE:()=>he,m7:()=>ue});var i=n(19755),s=n.n(i),r=n(73034),a=n(29705),o=n(47909),l=n(93966),c=n(12319),d=n(26564),u=n(27940),p=n(53145),m=n(32901),h=n(4134),g=n(88630),y=n(88050),v=n(47486),f=n(22923),I=n(96515),b=n(72759),M=n(69434),S=n(2262),E=n(59756),D=n(55642);var C=n(27082),P=n(5562),w=n(39957),T=n(45381),Z=n(9936),N=n(32827),A=n(15902),x=n(79678),L=n(517),O=n(13469),j=n.n(O),k=n(43888),R=n(64529),z=n(18039),U=n(22016),V=n.n(U);const B=R.Z.extend({className:"alert-bar notify",template:V(),events:j().extend({"click .setup-link":"onSetupClick"},R.Z.prototype.events),serializeData(){return{model:this.model.get("model"),make:this.model.get("make"),dvrSettingsRoute:(0,z.Z)(this.options.machineIdentifier,"manage","dvr")}},disableDevice(){const e=(0,l.DB)("appStore"),t=this.options.serverEntityID;t&&e.dispatch((0,k._w)({serverEntityID:t,deviceID:this.model.id,enabled:!1}))},onSetupClick(){this.hide(),this.disableDevice()},onCloseClick(e){R.Z.prototype.onCloseClick.apply(this,arguments),this.disableDevice()}});var F=n(28725),H=n(64898),_=n(90308),Q=n.n(_);const G=H.Z.extend({template:Q(),events:j().extend({"click .learn-more":"onLearnMoreClick"},H.Z.prototype.events),onRender:function(){H.Z.prototype.onRender.apply(this,arguments),(0,l.DB)("metrics").trackView({page:"relayNotification",mode:"modal",action:y.GP},{interaction:!1})},onHide(e){H.Z.prototype.onHide.apply(this,arguments),(0,l.DB)("metrics").trackClick({page:"relayNotification",mode:"modal",action:y.GP})},onLearnMoreClick(){(0,l.DB)("metrics").trackClick({page:"relayNotification",mode:"modal",action:y.yq})},serializeData(){return{serverName:this.options.serverName,escapedServerName:j().escape(this.options.serverName)}}});var Y=Object.assign;const W="server/redispatchLegacyServerAction",K="server/fetchSettings",q="server/populateSettings",$="server/updateSetting",J="server/saveSetting",X="server/addLibrary",ee="server/startLibrariesRefresh",te="server/allowHttpFallback",ne="server/optimizeDatabase",ie="server/cleanBundles",se="server/emptyTrash",re="server/deleteServer",ae="server/discoverMediaGrabberDevice",oe="server/populateHasiTunes",le=(0,r.Z)(W),ce=(0,r.Z)(K),de=(0,r.Z)(q),ue=(0,r.Z)($),pe=(0,r.Z)(J),me=(0,r.Z)(X),he=(0,r.Z)(ee),ge=(0,r.Z)(te),ye=(0,r.Z)(ne),ve=(0,r.Z)(ie),fe=(0,r.Z)(se),Ie=(0,r.Z)(re),be=(0,r.Z)(ae),Me=(0,r.Z)(oe),Se=(0,r.Z)(ee,(e=>Y(Y({},e),{cancel:!0})));function Ee(e,t){(0,l.DB)("metrics").trackClick({page:t,action:e,context:v.SERVER})}function De(e,t){const n=(0,L.SW)(e,t),i=(0,L.Y7)(e,t).get("settings").get(t.setting.id);if(i){const e=i.parse(t.setting);i.set("value",e.value),"FriendlyName"===e.id&&e.value?n.set("friendlyName",e.value):"allowMediaDeletion"===e.id&&n.set("allowMediaDeletion",e.value)}}const Ce={[p.Vr]:p.Iy[p.Vr],[p.$Q]:p.Iy[p.$Q],[p.h9]:p.Iy[p.h9],[p.WV]:p.Iy[p.WV],[p.Cs]:p.Iy[p.Cs],[p.mK]:p.Iy[p.mK],[p.Wq]:p.Iy[p.Wq],[p.rW]:p.Iy[p.rW],[p.db]:p.Iy[p.db],[p.RD]:p.Iy[p.RD],[p.l2]:p.Iy[p.l2],[p.kM]:p.Iy[p.kM],[p.$M]:p.Iy[p.$M],[W](e,t,n){const{serverModel:i,providerModel:s}=(0,N.Z)(e,t),r=t.legacyAction.type,a=t.legacyAction.payload;n({type:r,payload:Y(Y({},a),{serverEntityID:i.entityID(),providerEntityID:s.entityID()})})},[K]:(0,d.Z)({key:"settings",getModel:L.Y7}),[q]:(0,u.Z)({key:"settings",fetchActionCreator:ce,getModel:L.Y7}),[$](e,t){De(e,t)},[J](e,t){const n=(0,L.Y7)(e,t).get("settings").get(t.setting.id);(0,C.c9)((()=>n.set({isSaving:!0}))),De(e,t),n.save().then((()=>n.set({isSaving:!1})),(()=>n.set({isSaving:!1})))},[p.R](e,{machineIdentifier:t,serverName:n},i){const s=e.get("user").get("experienceSettings").get("reminders"),r=(0,w.Z)(f.K,t),o=s.get(r);if(o&&!(0,I.Z)(o.get("remindAfter")))return;const l=new G({serverName:n});a.Z.trigger("show:modal",l),i((0,x.JY)({id:r}))},[p.ay](e,t){const n=(0,L.SW)(e,t),i=e.get("user").get("experienceSettings").get("allowHttpFallback");!function(e,t,n,i){if(function(e,t){if(!e.get("isFullServer"))return!1;if(S.Z.isHostedHttps&&!E.Z.allowMixedContent)return!1;const n=t===D.Z.ALWAYS,i=t===D.Z.SAME_NETWORK;return!!(n||i&&e.get("publicAddressMatches"))}(e,i)){const i=e.addConnection({scheme:"http",address:t,port:n,isFallback:!0});(0,M.Z)("[Connections] Added insecure fallback connection for %s at %s",e.get("debugName"),i.id)}else M.Z.warn("[Connections] Prevented fallback to insecure connection for",e.get("debugName"))}(n,t.address,t.port,i)},[X](e,t){const n=(0,L.SW)(e,t),{options:i={}}=t,s=new F.Z(Y({server:n,redirect:!1!==t.redirect},i));a.Z.trigger("show:modal",s),Ee(y.wl,t.metricsPage)},[ee](e,t,n){const{cancel:i,force:s,metricsPage:r}=t,a=(0,L.SW)(e,t),o={serverModel:a,libraryID:"all",cancel:i,force:s,allowMetrics:!!r,metricsProperties:{page:r}};t.cancel&&(0,L.Y7)(e,t).get("libraries").each((e=>e.set("refreshing",!1))),(0,A.Z)(a,o).fail((()=>{const e=t.cancel?(0,P.Z)("There was a problem canceling the update."):(0,P.Z)("There was a problem updating libraries.");n((0,m.wp)(e))})).always((()=>{n((0,p.tU)({serverEntityID:t.serverEntityID}))}))},[te](e,t,n){n((0,h.LN)({allowHttpFallback:t.allowHttpFallback})),n((0,p.Vk)({serverEntityID:t.serverEntityID}))},[ne](e,t,n){const i=(0,L.SW)(e,t),r=(0,L.Y7)(e,t),a=i.supports("optimizeDatabaseActivity"),l=o.Z.join("/library/optimize",a?{async:1}:{}),c=i.getXHROptions(l,{type:"PUT"});n((0,p.ET)({serverEntityID:t.serverEntityID,activityType:b.nJ})),r.set({optimizeDatabaseError:null}),s().ajax(c).done((()=>{a||n((0,p.n7)({serverEntityID:t.serverEntityID,activityType:b.nJ}))})).fail((()=>{r.set({optimizeDatabaseError:(0,P.Z)("There was a problem optimizing the database.")}),n((0,p.n7)({serverEntityID:t.serverEntityID,activityType:b.nJ})),t.hideAlerts||n((0,m.wp)((0,P.Z)("There was a problem optimizing the database.")))})),Ee(y.nJ,t.metricsPage)},[ie](e,t,n){const i=(0,L.SW)(e,t),r=(0,L.Y7)(e,t),a=o.Z.join("/library/clean/bundles",{async:1}),l=i.getXHROptions(a,{type:"PUT"});n((0,p.ET)({serverEntityID:t.serverEntityID,activityType:b.zL})),r.set({cleanBundlesError:null}),s().ajax(l).fail((()=>{r.set({cleanBundlesError:(0,P.Z)("There was a problem removing unused bundles.")}),n((0,p.n7)({serverEntityID:t.serverEntityID,activityType:b.zL})),t.hideAlerts||n((0,m.wp)((0,P.Z)("There was a problem removing unused bundles.")))})),Ee(y.zL,t.metricsPage)},[se](e,t,n){const i=(0,L.SW)(e,t),r=(0,L.Y7)(e,t).get("libraries");(t.libraryID?s().Deferred().resolve([t.libraryID]).promise():r.populate().then((()=>r.map((({id:e})=>e))))).then((e=>{const t=e.map((e=>s().ajax(i.getXHROptions(`/library/sections/${e}/emptyTrash`,{type:"PUT"}))));return s().when(...t)})).then((()=>{n((0,m.wp)({type:g.M,message:(0,P.Z)("The trash was emptied.")}))}),(e=>{n((0,m.wp)((0,P.Z)("There was a problem emptying the trash.")))})),Ee(y.yZ,t.metricsPage)},[re](e,t,n){const i=(0,L.SW)(e,t),r=e.get("cloudServer");if(!i)return;if(r.get("isResolved")){const e=r.getXHROptions(`/api/servers/${i.id}`,{type:"DELETE"});s().ajax(e)}const a=r.get("resources").get(i.id);a&&a.trigger("destroy",a,a.collection),i.get("isFullOwnedServer")&&i.get("isConnected")?i.get("desktop").get("cloudAccount").destroy().done((()=>{i.set({myPlexSigninState:c.Ar,myPlexSubscription:!1})})).always((()=>{n((0,p.Vk)({serverEntityID:t.serverEntityID})),i.populate().fail((function(){i.trigger("destroy",i,i.collection),n((0,Z.im)({route:"home"}))}))})):(i.trigger("destroy",i,i.collection),n((0,Z.im)({route:"home"}))),Ee(y.FR,t.metricsPage)},[ae](e,t){const n=(0,L.SW)(e,t),i=e.get("ui").get("dvrSettingsUI"),s=t.device;if(i.get("isUIPopulated"))return;const r=new B({model:new T.ZP(s,{parse:!0}),serverEntityID:t.serverEntityID,machineIdentifier:n.get("machineIdentifier")});a.Z.trigger("show:bar","alertbar",r)},[oe](e,t){const n=(0,L.SW)(e,t),i=(0,L.Y7)(e,t);if(!i.get("isHasiTunesPopulated")){const e=o.Z.join("/music/iTunes"),t=n.getXHROptions(e);s().ajax(t).done((()=>{i.set({hasiTunes:!0,isHasiTunesPopulated:!0})})).fail((()=>{i.set({hasiTunes:!1,isHasiTunesPopulated:!0})}))}}}},29150:(e,t,n)=>{"use strict";n.d(t,{ib:()=>N,j3:()=>A,o6:()=>x,Gu:()=>O,xg:()=>j,os:()=>k,eA:()=>R,FV:()=>U,fv:()=>Y});var i=n(13469),s=n.n(i),r=n(73034),a=n(69434),o=n(93966),l=n(39670),c=n(66357),d=n(90697),u=n(79932),p=n(12304),m=n(44491),h=n(59223),g=n(52837),y=n(99038),v=n(30983),f=n(68295),I=n(517),b=Object.assign;const M="syncplaySessionActions/joinSession",S="syncplaySessionActions/leaveSession",E="syncplaySessionActions/setSessionError",D="syncplaySessionActions/toggleSessionLobby",C="syncplaySessionActions/syncUser",P="syncplaySessionActions/syncLobby",w="syncplaySessionActions/syncPlaystate",T="syncplaySessionActions/addNotification",Z="syncplaySessionActions/removeNotification",N=(0,r.Z)(M),A=(0,r.Z)(S),x=(0,r.Z)(E),L=((0,r.Z)(D),(0,r.Z)(D,(e=>b(b({},e),{shouldShow:!0})))),O=(0,r.Z)(D,(e=>b(b({},e),{shouldHide:!0}))),j=(0,r.Z)(C),k=(0,r.Z)(P),R=(0,r.Z)(w),z=(0,r.Z)(T),U=(0,r.Z)(Z),V=g.Se,B="WATCH_TOGETHER";function F(e){return _(e).get("rooms")}function H(e){return _(e).get("session")}function _(e){return e.get("ui").get("watchTogether")}function Q(e){return(null==e?void 0:e.deviceIdentifier)===l.Z.prop("X-Plex-Client-Identifier")}function G(e){const t=(0,v.F_)(e,V);return t.get("syncplaySessionRoomID")&&!!(0,d.Z)(t)}const Y={[M](e,t,n){const i=(0,I.bT)(e,t),s=i.get("id");_(e).set("session",new c.Z({metadataItem:i.get("metadataItem"),roomID:s})),n((0,f.Uw)()),(0,o.DB)("syncplaySessionManager").join({roomID:s,roomSourceUri:i.get("sourceUri"),roomSyncplayHost:i.get("syncplayHost"),roomSyncplayPort:i.get("syncplayPort")})},[S](e,t,n){const i=H(e);if(i){const t=_(e);(0,a.Z)("[Watch Together] Leaving session for room:",i.get("roomID")),(0,o.DB)("syncplaySessionManager").leave(),t.unset("session"),t.unset("sessionError")}},[E](e,t,n){const i=(0,v.F_)(e,V),{sessionError:s}=t;i.get("syncplaySessionRoomID")?i.set({hasError:!0,errorMessage:s}):_(e).set({sessionError:s})},[D](e,t,n){const i=(0,v.F_)(e,V),s=i.get("syncplaySessionRoomID"),r={initiator:B,playerType:V},{shouldHide:l,shouldShow:c}=t;let d;if(c&&(i.set({isWatchTogetherLobbyVisible:!0,isWatchTogetherParticipantsVisible:!1}),i.get("isPaused")||(d=(0,p.wO)(r))),l){const e=null!==i.get("adState");e&&(0,o.DB)("syncplaySessionManager").update({roomID:s,isAdPlaying:e,adDisplayIndex:i.get("adDisplayIndex"),adDisplayTotal:i.get("adDisplayIndex")}),i.get("isPaused")&&(d=(0,p.hY)(r)),i.set({isWatchTogetherLobbyVisible:!1})}(c||l)&&(0,a.Z)("[Watch Together] Session lobby is visible?",i.get("isWatchTogetherLobbyVisible")),d&&G(e)&&((0,a.Z)("[Watch Together] Dispatching after lobby visibility:",d),n(d))},[C](e,t,n){var i,s,r,o;const{event:l}=t;if(!l.user)return;const{ad:c,isPresent:d,isReady:u,positionSeconds:p,isPaused:m,user:h}=l,{deviceIdentifier:g,deviceName:v,id:I}=h,b=H(e),M=b.get("users"),S=[],E={},D=M.get(g)||M.add({deviceIdentifier:g,deviceName:v,id:I});if(!D.get("title")){const t=null==(i=F(e).get(b.get("roomID")))?void 0:i.get("users"),n=null==t?void 0:t.get(I);n?(E.title=n.get("title"),E.thumb=n.get("thumb")):_(e).get("isRoomsPending")||(a.Z.debug(`[Watch Together] Syncplay user is unknown ${h.id} (${h.deviceName})`),S.push((0,f.Uw)()))}void 0!==d&&d!==D.get("isPresent")&&(E.isPresent=d,S.push(z({type:d?y.OR:y.In,user:h}))),!1===d&&D.get("isAdPlaying")?(E.adDisplayIndex=null,E.adDisplayTotal=null,E.isAdPlaying=!1):void 0!==c&&(E.adDisplayIndex=null!=(s=null==c?void 0:c.displayIndex)?s:null,E.adDisplayTotal=null!=(r=null==c?void 0:c.displayTotal)?r:null,E.isAdPlaying=null!=(o=null==c?void 0:c.isPlaying)&&o),void 0!==u&&(E.isReady=u),void 0!==m&&(E.isWatching=!m),void 0!==p&&(E.positionSeconds=p),a.Z.debug(`[Watch Together] Updating user ${h.id} (${h.deviceName}):`,E),D.set(E),S.forEach((e=>{a.Z.debug("[Watch Together](%s) Dispatching:",C,e),n(e)}))},[w](e,t,n){const{roomID:i,event:s}=t,r=H(e);if(Q(s.user))return;const o={user:s.user},l=function(e,t){const n=(0,v.F_)(e,V),{event:i}=t,{isPaused:s,positionSeconds:r,user:o}=i,l=null!=r,c=H(e).get("users").get(null==o?void 0:o.deviceIdentifier),d={nextPlaybackSpeed:n.get("playbackSpeed"),shouldChangePlaybackSpeed:!1,shouldPause:!1,shouldResume:!1,shouldSeek:!1,shouldStartPlayback:!1};if(!n.get("syncplaySessionRoomID")&&l)return d.shouldStartPlayback=!0,d;if(null!=n.get("adState")||(null==c?void 0:c.get("isAdPlaying")))return d;if(!G(e))return d;if(d.shouldPause=!0===s&&!n.get("isPaused"),d.shouldResume=!1===s&&n.get("isPaused"),d.shouldSeek=i.shouldSeek,l&&(d.nextPlaybackSpeed=1,!d.shouldSeek)){const e=n.get("positionSeconds")-r;a.Z.debug("[Watch Together] Local position diff:",`${e}s`),d.shouldSeek=e>=4||e<=-1.75,!d.shouldSeek&&e>1.5&&(d.nextPlaybackSpeed=.95)}return d.shouldChangePlaybackSpeed=d.nextPlaybackSpeed!==n.get("playbackSpeed"),d}(e,t),c=[];if(l.shouldStartPlayback){const e=r.get("metadataItem"),t=Math.round(1e3*s.positionSeconds);(0,a.Z)(`[Watch Together] Start playback at ${t}s`),c.push((0,u.wA)({serverEntityID:e.get("serverEntityID"),providerEntityID:e.get("providerEntityID"),syncplaySessionRoomID:i,playerType:V,isPaused:!0,isWatchTogetherLobbyVisible:!0,openState:h.K,startOffsetMilliseconds:t,options:{metadataItemKey:e.get("key"),type:m.pX}}))}l.shouldChangePlaybackSpeed&&c.push((0,p.ec)({playerType:V,playbackSpeed:l.nextPlaybackSpeed})),l.shouldSeek&&(c.push((0,p.O7)({initiator:B,playerType:V,positionSeconds:Math.round(s.positionSeconds)})),s.shouldSeek&&c.push(z(b(b({},o),{type:y.tG})))),l.shouldPause&&c.push((0,p.wO)({initiator:B,playerType:V}),z(b(b({},o),{type:y.E7}))),l.shouldResume&&c.push((0,p.hY)({initiator:B,playerType:V}),z(b(b({},o),{type:y.gk}))),c.forEach((e=>{a.Z.debug("[Watch Together](%s) Dispatching:",w,e),n(e)}))},[P](e,t,n){const i=function(e,t){const{event:n}=t,{user:i}=n,s=(0,v.F_)(e,V),r=H(e),a=F(e).get(r.get("roomID")),o=r.get("users"),l=o.get(null==i?void 0:i.deviceIdentifier),c={shouldHide:!1,shouldShow:!1};if(!l)return c;const d=!a||a.get("users").every((e=>o.findWhere({id:e.get("id")}))),u=o.length>0&&o.every((e=>e.get("isReady"))),p=!Q(i)&&(null==l?void 0:l.get("isAdPlaying")),m=!!s.get("adState"),h=s.get("isWatchTogetherLobbyVisible");return p&&!m?c.shouldShow=!0:(p&&m||d&&u)&&(c.shouldHide=!0),c.shouldHide=h&&c.shouldHide,c.shouldShow=!h&&c.shouldShow,c}(e,t);i.shouldHide&&n(O(t)),i.shouldShow&&n(L(t))},[T](e,t,n){const i=(0,v.F_)(e,V),r=H(e),{type:o,user:l}=t;if(Q(l))return void a.Z.debug("[Watch Together] Ignoring notification from local user:",t);if(i.get("isWatchTogetherLobbyVisible"))return void a.Z.debug("[Watch Together] Ignoring notification while lobby visible:",t);const c={timestamp:Date.now(),type:o,uid:s().uniqueId(),userID:l.id};(0,a.Z)(`[Watch Together] Notification "${o}" from:`,l);const d=r.get("notifications").concat(c).slice(-5);r.set({notifications:d})},[Z](e,t,n){const i=H(e),s=i.get("notifications").filter((e=>e.uid!==t.uid));i.set({notifications:s})},[u.N9](e,t,n){const i=(0,v.F_)(e,V),s=i.get("syncplaySessionRoomID");if(s&&!i.get("isWatchTogetherLobbyVisible")){const{adState:e,adDisplayIndex:i,adDisplayTotal:r}=t;(0,o.DB)("syncplaySessionManager").update({roomID:s,isAdPlaying:null!=e,adDisplayIndex:i,adDisplayTotal:r}),null==e&&n(L())}},[u.qG](e,t,n){n(A())},[u.Si](e,t,n){n(A())},[p.tG](e,t){(0,v.F_)(e,V).get("syncplaySessionRoomID")&&t.initiator!==B&&(0,o.DB)("syncplaySessionManager").update({hasPendingSeek:!0})},[p.R1](e,t){const n=(0,v.F_)(e,V);n.get("syncplaySessionRoomID")&&t.initiator!==B&&!n.get("adState")&&(0,o.DB)("syncplaySessionManager").update({hasPendingPlayPause:!0})}};Object.assign(Y,{[p.ft]:Y[p.tG],[p.Sq]:Y[p.tG],[p.zV]:Y[p.tG],[p.nB]:Y[p.tG]})},41583:(e,t,n)=>{"use strict";n.d(t,{Ps:()=>C,wf:()=>w,DS:()=>A});var i=n(19755),s=n.n(i),r=n(73034),a=n(76745),o=n(47921),l=n(3241),c=n(33103),d=n(53291),u=n(32901),p=n(57358),m=n(67006),h=n(83154),g=n(35589),y=n(28440),v=n(57721),f=n(57054),I=n(44823),b=n(29414);const M="home/initAutoHomeHubContent",S="home/buildAutoHomeHubs",E="home/fetchAutoHomeHubs",D="home/restoreAutoHomeHubs",C=((0,r.Z)(M),(0,r.Z)(S)),P=(0,r.Z)(E),w=(0,r.Z)(D);function T(e){return e.get("ui").get("autoHomePage")}function Z(e){return e.map((e=>e.get("directoryID"))).join(",")}let N;const A={[M](e,t,n){T(e).set({isHubsPopulated:!0}),n(C(t))},[S](e,t={},n){const i=T(e),s=i.get("hubs");if(!i.get("isHubsPopulated"))return;const r=e.get("user").get("experienceSettings").get("sidebarSettings").get("pinnedSources").reduce(((e,t)=>{if(t.get("isHidden"))return e;const n=function(e){return(0,I.Z)(e.get("machineIdentifier"),e.get("providerIdentifier"))}(t);return e.sourcesByProviderKey[n]?e.sourcesByProviderKey[n].push(t):(e.providerKeys.push(n),e.sourcesByProviderKey[n]=[t],e.identifiersByProviderKey[n]={machineIdentifier:t.get("machineIdentifier"),providerIdentifier:t.get("providerIdentifier")}),e}),{providerKeys:[],sourcesByProviderKey:{},identifiersByProviderKey:{}}),{providerKeys:a,sourcesByProviderKey:d}=r,u=a.reduce(((t,n)=>{const i=d[n],a=s.get(n);if(a){const e=Z(i);e!==a.get("contentDirectoryID")&&a.set("contentDirectoryID",e),t.push(a)}else{const i=function(e,t,n){const{sourcesByProviderKey:i,identifiersByProviderKey:s}=n,{machineIdentifier:r,providerIdentifier:a}=s[t],d=i[t],{server:u,provider:y}=function(e,t,n){let i,s;return t===g.X?(i=e.get("cloudServer"),s=e.get("user").get("providers").get(n)):(i=e.get("servers").get(t),i&&(s=i.get("providers").get(n))),{server:i,provider:s}}(e,r,a);if(!u||!y)return;const f=function(e,t){const n=e.get("features").get(m.Mz),i=t.toJSON(),s=(0,p.n)(i.features,i.services);return n&&(0,v.d)(s,n.toJSON())?n.get("key"):e.get("isLibraryProvider")?h.D:void 0}(y,e.get("user"));return f?new o.Z({hubKey:f,machineIdentifier:r,providerIdentifier:a,server:u,provider:y,hubs:(0,l.Z)({hubKey:f,server:u,provider:y,options:(0,c.Z)(e)}),contentDirectoryID:Z(d)},{server:u,provider:y}):void 0}(e,n,r);i&&t.push(i)}return t}),[]);i.get("hubs").set(u),N&&window.clearTimeout(N),N=window.setTimeout((()=>{n(P())}),t.debounceHubContentRefresh?5e3:0)},[E](e){const t=T(e),n=t.get("hubs");if(!t.get("isHubsPopulated"))return;let i=s().Deferred().resolve();n.forEach((e=>{e.set({isPending:!0,isPopulated:!1}),i=i.then((()=>{let t=e.server.get("isConnected")?e.get("hubs").fetch({data:{contentDirectoryID:e.get("contentDirectoryID")}}):s().Deferred().reject({});return t=t.then((()=>{e.set({isPending:!1,isPopulated:!0,hubsError:null})}),(t=>{e.get("hubs").reset(),e.set({isPending:!1,isPopulated:!1,hubsError:(0,f.Z)(t)})})),(0,a.Z)(t)}))}))},[D](e){const t=T(e);t.get("hubs").reset(),t.set({isHubsPopulated:!1})},[u._z](e,t,n){const i=T(e).get("hubs"),s=(0,y.SW)(e,t);i.forEach((e=>{(0,d.Z)({actionCreator:b.u6,dispatch:n,hubs:e.get("hubs"),serverModel:s})}))}}},63800:(e,t,n)=>{"use strict";n.d(t,{ZZ:()=>r,ZX:()=>a,HF:()=>o});var i=n(73034),s=n(93066);const r=(0,i.Z)(s.Op),a=(0,i.Z)(s.tL),o=(0,i.Z)(s.k4)},43888:(e,t,n)=>{"use strict";n.d(t,{SB:()=>q,AV:()=>$,G$:()=>J,LO:()=>X,Ps:()=>ee,S6:()=>te,Si:()=>ne,FX:()=>ie,$1:()=>se,pi:()=>re,sl:()=>ae,BF:()=>oe,NS:()=>le,_1:()=>ce,SA:()=>de,Lp:()=>ue,dG:()=>pe,xj:()=>me,s6:()=>he,NK:()=>ge,q9:()=>ye,JA:()=>ve,T5:()=>fe,ds:()=>Ie,Ze:()=>be,_w:()=>Me,BA:()=>Se,US:()=>Ee,on:()=>Ae});var i=n(19755),s=n.n(i),r=n(73034),a=n(47909),o=n(14e3),l=n(69653),c=n(3265),d=n(26564),u=n(53145),p=n(20023),m=n(95113),h=n(72759),g=n(5562),y=n(57054),v=n(45381),f=n(83654),I=n(75557),b=n(517),M=Object.assign;const S="CLEAR_DVR_SETUP",E="DVR_SETUP_NEXT_STEP",D="DVR_SETUP_PREVIOUS_STEP",C="FETCH_DEVICES",P="SELECT_DEVICE",w="SELECT_DEVICE_SOURCE",T="DISCOVER_DEVICES",Z="ADD_DEVICE",N="FETCH_DEVICE_DETAILS",A="FETCH_DEVICE_CHANNELS",x="SCAN_DEVICE_CHANNELS",L="CANCEL_SCAN_DEVICE_CHANNELS",O="FIND_BEST_EPG_LINEUP",j="SELECT_EPG_LINEUP",k="FETCH_LINEUP_CHANNELS",R="FETCH_CHANNEL_MAP",z="CLEAR_CHANNEL_MAP_ERROR",U="SAVE_CHANNEL_MAP",V="CLEAR_CHANNEL_MAPPINGS_SAVE_ERROR",B="SAVE_DVR",F="ADD_DVR_DEVICE",H="REMOVE_DVR_DEVICE",_="SAVE_DVR_SETTINGS",Q="CLEAR_DVR_SETTINGS_SAVE_ERROR",G="SAVE_DEVICE_SETTINGS",Y="CLEAR_DEVICE_SETTINGS_SAVE_ERROR",W="CLEAR_DEVICE_SCAN_PREFS",K="SET_DVR_DEVICE_ENABLED",q=(0,r.Z)(S),$=(0,r.Z)(E),J=(0,r.Z)(D),X=(0,r.Z)(C),ee=(0,r.Z)(T),te=(0,r.Z)(Z),ne=(0,r.Z)(P),ie=(0,r.Z)(w),se=(0,r.Z)(N),re=(0,r.Z)(A),ae=(0,r.Z)(x),oe=(0,r.Z)(L),le=(0,r.Z)(O),ce=(0,r.Z)(j),de=(0,r.Z)(z),ue=(0,r.Z)(U),pe=(0,r.Z)(V),me=(0,r.Z)(B),he=(0,r.Z)(F),ge=(0,r.Z)(H),ye=(0,r.Z)(_),ve=(0,r.Z)(Q),fe=(0,r.Z)(G),Ie=(0,r.Z)(Y),be=(0,r.Z)(W),Me=(0,r.Z)(K),Se=(0,r.Z)(k,(e=>{const t=a.Z.join("/livetv/epg/channels",{lineup:e.lineupUUID});return M({options:{url:t,timeout:o.NF}},e)})),Ee=(0,r.Z)(R,(e=>{const t=a.Z.join("/livetv/epg/channelmap",{device:e.deviceUUID,lineup:e.lineupUUID});return M({options:{url:t}},e)}));function De(e){return e.get("ui").get("dvrSettingsUI").get("dvrSetup")}function Ce(e){return e.get("ui").get("dvrSettingsUI").get("dvrs")}function Pe(e,t){return Ce(e).get(t.dvrID)}function we(e,t){const n=De(e),i=t.deviceID;if(t.dvrID&&i){const n=Pe(e,t).get("devices").get(i);if(n)return n}if(i){const e=n.get("devices").get(i);if(e)return e}return n.get("selectedDevice")}function Te(e,t){if(t.country)return t.country;const n=De(e).get("epgSettings").get("selectedCountry");return n?n.get("code"):void 0}function Ze(e,t){const n=De(e),i=(0,b.SW)(e,t),r=we(e,t).get("channels"),o=t.data,l=[],c={};Object.keys(o).forEach((e=>{const{enabled:t,channelKey:n,lineupIdentifier:i}=o[e],s=r.get(e),a=!(!s||!s.get("drm"));t&&i&&!a&&l.push(e),i&&(c[`channelMappingByKey[${e}]`]=n,c[`channelMapping[${e}]`]=i)}));const d=a.Z.join(["/media/grabbers/devices",t.deviceID,"channelmap"],M({channelsEnabled:l.toString()},c));n.set("isChannelMappingsSaving",!0);const u=i.getXHROptions(d,{type:"PUT"}),p=s().ajax(u);return p.done((()=>{n.set({isChannelMappingsSaving:!1,channelMappingsSaveError:null});const i=function(e,t){return t.dvrID&&t.deviceID?we(e,t).get("channelMappings"):De(e).get("channelMappings")}(e,t);r.forEach((e=>{const t=e.id,n=-1!==l.indexOf(t),s=c[`channelMapping[${t}]`];s?i.add([{deviceIdentifier:t,enabled:n,lineupIdentifier:s}],{parse:!0,merge:!0}):i.remove(t)}))})),p.fail((e=>{n.set({isChannelMappingsSaving:!1,channelMappingsSaveError:(0,y.Z)(e)})})),p}function Ne(e,t){const n=(0,b.SW)(e,t),i=t.enabled,r=a.Z.join(["/media/grabbers/devices",t.deviceID],{enabled:i?1:0}),o=n.getXHROptions(r,{type:"PUT"}),l=s().ajax(o).promise();return l.done((()=>{if(De(e)){const n=we(e,t);n&&n.set("status",i?"enabled":"disabled")}})),l}const Ae=(0,c.Z)({[S](e){De(e).restoreDefaults()},[E](e,t={}){const n=De(e),i={};switch(n.get("step")){case I.C.DEVICE:n.get("selectedDevice").get("unsupported")?i.step=I.C.UNSUPPORTED_DEVICE:i.step=I.C.DEVICE_CHANNELS;break;case I.C.UNSUPPORTED_DEVICE:i.step=I.C.DEVICE_CHANNELS;break;case I.C.DEVICE_CHANNELS:t.dvrID?(i.selectedLineupUUID=Pe(e,t).get("lineup"),i.step=I.C.CHANNEL_MAPPING):i.step=I.C.EPG;break;case I.C.EPG:n.get("selectedLineupUUID")?i.step=I.C.CHANNEL_MAPPING:i.step=I.C.EPG_MAPPING;break;case I.C.EPG_MAPPING:i.step=I.C.CHANNEL_MAPPING;break;case I.C.CHANNEL_MAPPING:i.step=I.C.EPG_DOWNLOAD}n.get("setupErrorMessages").reset(),n.set(i)},[D](e,t={}){const n=De(e),i={};switch(n.get("step")){case I.C.UNSUPPORTED_DEVICE:i.step=I.C.DEVICE;break;case I.C.DEVICE_CHANNELS:i.hasScannedChannels=!1,i.step=I.C.DEVICE;break;case I.C.EPG:i.step=I.C.DEVICE_CHANNELS;break;case I.C.CHANNEL_MAPPING:t.dvrID?i.step=I.C.DEVICE_CHANNELS:i.step=I.C.EPG}n.get("setupErrorMessages").reset(),n.set(i)},[C](e,t,n){const i=De(e),s=i.get("devices");i.set("isDevicesPending",!0),s.fetch().done((()=>{i.set({isDevicesPending:!1,isDevicesPopulated:!0,devicesError:null});const e=s.filter((e=>!e.get("parentID")&&e.get("status")===v.vh.ALIVE));1===e.length&&n(ne({serverEntityID:t.serverEntityID,deviceID:e[0].id}))})).fail(((e,t)=>{i.set({isDevicesPending:!1,devicesError:(0,y.Z)(t)})}))},[T](e,t,n){const i=(0,b.SW)(e,t),r=De(e),a=i.getXHROptions("/media/grabbers/devices/discover",{type:"POST"});r.get("isDiscoveringDevices")||(r.set("isDiscoveringDevices",!0),s().ajax(a).done((e=>{const i=r.get("devices").add(e,{parse:!0,merge:!0}).filter((e=>!e.get("parentID")&&e.get("status")===v.vh.ALIVE));r.get("setupErrorMessages").remove("discoverDevices"),1===i.length&&n(ne({serverEntityID:t.serverEntityID,deviceID:i[0].id})),r.set("isDiscoveringDevices",!1)})).fail((e=>{r.get("setupErrorMessages").add({id:"discoverDevices",message:(0,p.Z)(e,(0,g.Z)("There was a problem discovering devices"))}),r.set("isDiscoveringDevices",!1)})))},[Z](e,t,n){const i=(0,b.SW)(e,t),r=De(e),o=a.Z.join(["/media/grabbers","tv.plex.grabbers.hdhomerun","devices"],{uri:t.uri}),l=i.getXHROptions(o,{type:"POST"});r.set("addDevicePending",!0),s().ajax(l).done(((e,n)=>{const i=r.get("devices").add(e,{parse:!0});if(0===i.length){const n=m.Z.parseXML(e),i=n&&n.message||(0,g.Z)("No device found at {1}",t.uri);r.get("setupErrorMessages").add({id:"addDevice",message:i}),r.set("addDevicePending",!1)}else r.get("setupErrorMessages").remove("addDevice"),r.set({addDevicePending:!1,selectedDevice:1===i.length?i[0]:r.get("selectedDevice")})})).fail((e=>{r.get("setupErrorMessages").add({id:"addDevice",message:(0,p.Z)(e,(0,g.Z)("There was a problem adding the device: {1}",t.uri))}),r.set("addDevicePending",!1)}))},[P](e,t){const n=De(e),i=we(e,t);n.set("selectedDevice",i)},[w](e,t){De(e).get("selectedDevice").set("selectedSource",t.source)},[N](e,t){const n=De(e);we(e,t).fetch().fail((e=>{n.get("setupErrorMessages").add({id:"fetchDeviceDetails",message:(0,p.Z)(e,(0,g.Z)("There was a problem getting the details for your device"))})}))},[A](e,t){const n=De(e),i=we(e,t),s=a.Z.join(["/media/grabbers/devices",i.get("key"),"channels"]);i.set("isChannelsPending",!0);const r={url:s,timeout:o.NF};i.get("channels").fetch(r).done((()=>{i.set({isChannelsPending:!1,isChannelsPopulated:!0,channelsError:null})})).fail((e=>{i.set({isChannelsPending:!1,isChannelsPopulated:!0,channelsError:null}),n.get("setupErrorMessages").add({id:"fetchDeviceDetails",message:(0,p.Z)(e,(0,g.Z)("There was a problem getting the channels for your device"))})}))},[x](e,t,n){const i=De(e),r=(0,b.SW)(e,t),o=we(e,t),c=Te(e,t),d=o.get("selectedSource")||o.get("source"),{prefs:u,network:m}=t,h=a.Z.join(["/media/grabbers/devices",o.get("key"),"scan"],{source:d,country:c,prefs:u,network:m}),y=r.getXHROptions(h,{type:"POST"});s().ajax(y).done(((e,s,r)=>{const a=r.getResponseHeader("X-Plex-Activity");if(o.get("channels").reset(),a)n(be(t));else{const t=new l.Z(e,{parse:!0});i.set("scanPrefs",t)}})).fail((e=>{i.get("setupErrorMessages").add({id:"scanDeviceChannels",message:(0,p.Z)(e,(0,g.Z)("There was a problem scanning channels"))})}))},[L](e,t,n){const i=De(e),r=(0,b.SW)(e,t),o=t.deviceID;if(!o)throw new Error("A device ID is required to cancel a channel scan.");const l=a.Z.join(["/media/grabbers/devices",o,"scan"]),c=r.getXHROptions(l,{type:"DELETE"});s().ajax(c).fail((e=>{i.get("setupErrorMessages").add({id:"cancelScanDeviceChannels",message:(0,p.Z)(e,(0,g.Z)("There was a problem canceling the current channel scan"))})}))},[O](e,t,n){const i=(0,b.SW)(e,t),r=De(e),o=r.get("selectedDevice"),l=r.get("epgSettings").get("lineupGroup"),c=a.Z.join("/livetv/epg/lineup",{device:o.get("uuid"),lineupGroup:l.get("uuid")}),d=i.getXHROptions(c);s().ajax(d).done(((e,t,n)=>{const i=n.getResponseHeader("X-Plex-Activity");r.set("epgLineupActivityID",i)})).fail((e=>{r.get("setupErrorMessages").add({id:"findBestEPGLineup",message:(0,p.Z)(e,(0,g.Z)("There was a problem mapping channels"))})}))},[j](e,t){De(e).set("selectedLineupUUID",t.lineupUUID)},[k]:(0,d.Z)({key:"lineupChannels",getModel:De}),[R](e,t){const n=De(e),i=n.get("channelMappings"),s=M({timeout:o.NF},t.options);n.set("isChannelMappingsPending",!0),i.fetch(s).done((()=>{t.forceEnabled&&i.each((e=>{e.set("enabled",e.has("lineupIdentifier"))})),n.set({isChannelMappingsPending:!1,isChannelMappingsPopulated:!0,channelMappingsError:null})})).fail(((e,t)=>{n.set({isChannelMappingsPending:!1,channelMappingsError:(0,y.Z)(t)})}))},[z](e,t){De(e).set({channelMappingsError:null,lineupChannelsError:null})},[U](e,t,n){Ze(e,t).done((()=>{n(se(t))}))},[V](e){De(e).set("channelMappingsSaveError",null)},[B](e,t,n){const i=De(e);i.set("isSavingDVR",!0);const{serverEntityID:r,deviceID:o}=t,l=Ce(e);Ne(e,{serverEntityID:r,deviceID:o,enabled:!0}).then((()=>Ze(e,t))).then((()=>{const n=(0,b.SW)(e,t),r=i.get("selectedDevice"),o=i.get("selectedLineupUUID"),l=i.get("epgSettings").get("selectedLanguage"),c=Te(e,t);i.get("setupErrorMessages").remove("saveDVR");const d=a.Z.join("/livetv/dvrs",{device:r.get("uuid"),lineup:o,language:l.get("code"),country:c}),u=n.getXHROptions(d,{type:"POST"});return s().ajax(u)})).then(((e,t,a)=>{const o=a.getResponseHeader("X-Plex-Activity"),c=l.add(e,{parse:!0})[0];if(!c)return s().Deferred().reject(a).promise();i.get("setupErrorMessages").remove("saveDVR"),i.set({epgDownloadActivityID:o,selectedDVR:c,isSavingDVR:!1}),n($({serverEntityID:r})),n((0,u.lm)({serverEntityID:r}))})).fail((e=>{i.get("setupErrorMessages").add({id:"saveDVR",message:(0,p.Z)(e,(0,g.Z)("There was a problem saving your DVR. Please try again."))}),i.set("isSavingDVR",!1)}))},[F](e,t,n){const i=De(e);i.set("isSavingDVR",!0);const{serverEntityID:r,deviceID:o}=t,l=i.get("selectedDevice"),c=Pe(e,t);Ne(e,{serverEntityID:r,deviceID:o,enabled:!0}).then((()=>Ze(e,t))).then((()=>{const n=(0,b.SW)(e,t),i=a.Z.join(["/livetv/dvrs",c.id,"devices",l.id]),r=n.getXHROptions(i,{type:"PUT"});return s().ajax(r)})).done(((e,t,s)=>{const a=s.getResponseHeader("X-Plex-Activity");c.get("devices").add([l]),i.set({epgDownloadActivityID:a,selectedDVR:c,isSavingDVR:!1}),n($({serverEntityID:r})),n((0,u.lm)({serverEntityID:r}))})).fail((e=>{i.get("setupErrorMessages").add({id:"addDVRDevice",message:(0,p.Z)(e,(0,g.Z)("There was a problem adding a new device to your DVR. Please try again."))}),i.set("isSavingDVR",!1)}))},[H](e,t,n){const i=(0,b.SW)(e,t),r=Pe(e,t),o=t.deviceID,l=a.Z.join(["/livetv/dvrs",r.id,"devices",o]),c=i.getXHROptions(l,{type:"DELETE"});s().ajax(c).done(((e,t,n)=>{r.get("devices").remove(o)}))},[_](e,t){const n=(0,b.SW)(e,t),i=Pe(e,t),r=t.prefs,o=a.Z.join(["/livetv/dvrs",t.dvrID,"prefs"],r);i.set("isSaving",!0);const l=n.getXHROptions(o,{type:"PUT"}),c=s().ajax(l);c.done((()=>{const e=i.get("prefs");Object.keys(r).forEach((t=>{e.get(t).set("value",r[t])})),i.set({isSaving:!1,saveError:null})})),c.fail((e=>{i.set({isSaving:!1,saveError:(0,y.Z)(e)})}))},[Q](e,t){Pe(e,t).set("saveError",null)},[G](e,t){const n=(0,b.SW)(e,t),i=we(e,t),r=t.prefs,o=a.Z.join(["/media/grabbers/devices",t.deviceID,"prefs"],r);i.set("isSaving",!0);const l=n.getXHROptions(o,{type:"PUT"}),c=s().ajax(l);c.done((()=>{const e=i.get("prefs");Object.keys(r).forEach((t=>{e.get(t).set("value",r[t])})),i.set({isSaving:!1,saveError:null})})),c.fail((e=>{i.set({isSaving:!1,saveError:(0,y.Z)(e)})}))},[Y](e,t){we(e,t).set("saveError",null)},[W](e){De(e).set({scanPrefs:void 0,scanNetworks:void 0})},[K](e,t){Ne(e,t)},[u.Cs](e,t,n){const i=De(e);if(!i)return;const s=i.get("selectedDevice"),r=t.activity;if(s&&r.type===h.RG&&parseInt(r.Context.deviceID,10)===s.id){const e=r.Response.Network;if(e){const t=new f.Z(e,{parse:!0});i.set("scanNetworks",t)}else i.set("hasScannedChannels",!0)}else{if(r.uuid===i.get("epgLineupActivityID"))return i.set({selectedLineupUUID:r.Response.lineup,epgLineupActivityID:""}),void n($({serverEntityID:t.serverEntityID}));r.uuid!==i.get("epgDownloadActivityID")||i.set("epgDownloadActivityID","")}}})},99051:(e,t,n)=>{"use strict";n.d(t,{Jl:()=>r,yr:()=>a,nY:()=>o,Y1:()=>l,W7:()=>c});var i=n(73034),s=n(3265);const r=(0,i.Z)("ui/modal/syncDownloadModalChangeTemplateMode"),a=(0,i.Z)("ui/modal/syncDownloadModalClose"),o=(0,i.Z)("ui/modal/syncDownloadModalOpen"),l=(0,i.Z)("ui/modal/syncDownloadModalSaveSubscription"),c=(0,s.Z)({})},40875:(e,t,n)=>{"use strict";n.r(t),n.d(t,{INIT_QUICK_SEARCH:()=>D,RESET_QUICK_SEARCH:()=>C,FETCH_QUICK_SEARCH:()=>P,CHANGE_QUICK_SEARCH_QUERY:()=>w,CHANGE_QUICK_SEARCH_SETTINGS:()=>T,SELECT_QUICK_SEARCH_RESULT:()=>Z,NAVIGATE_QUICK_SEARCH_RESULT:()=>N,PLAY_QUICK_SEARCH_RESULT:()=>A,initQuickSearch:()=>x,resetQuickSearch:()=>L,fetchQuickSearch:()=>O,changeQuickSearchQuery:()=>j,changeQuickSearchSettings:()=>k,selectQuickSearchResult:()=>R,navigateQuickSearchResult:()=>z,playQuickSearchResult:()=>U,quickSearchActionHandlers:()=>H});var i=n(73034),s=n(69273),r=n(5513),a=n(15634),o=n(79932),l=n(69605),c=n(67006),d=n(17524),u=n(45399),p=n(24079),m=n(56971),h=n(69881),g=n(83705),y=n(57054),v=n(87385),f=n(26512),I=n(64458),b=n(517),M=n(26636),S=n(60363),E=Object.assign;const D="quickSearch/initQuickSearch",C="quickSearch/resetQuickSearch",P="quickSearch/fetchQuickSearch",w="quickSearch/changeQuickSearchQuery",T="quickSearch/changeQuickSearchSettings",Z="quickSearch/selectQuickSearchResult",N="quickSearch/navigateQuickSearchResult",A="quickSearch/playQuickSearchResult",x=(0,i.Z)(D),L=(0,i.Z)(C),O=(0,i.Z)(P),j=(0,i.Z)(w),k=(0,i.Z)(T),R=(0,i.Z)(Z),z=(0,i.Z)(N),U=(0,i.Z)(A);function V(e){return e.get("ui").get("quickSearch")}function B(e){return e.map((e=>e.entityID()))}function F(e,t,n){const{isCloud:i,isFullOwnedServer:s,title:r,serverFriendlyName:a,serverSourceTitle:o,providerSourceTitle:l}=e,c=d.wB(e.providerIdentifier,d.Y3);if(i)return l?`${r} - ${l}`:r;if(s&&c)return a;if(s&&!c)return`${r} • ${a}`;const{ownedSources:u,sharedSources:p}=t,m=Object.keys(u).length,h=Object.keys(p).length,g=p[o];return(g?g.length:0)>1?n?a:`${o} • ${a}`:m>0||h>0?o:void 0}const H={[D](e,t,n){const i=V(e),r=e.get("user").get("isFullUser"),o=i.get("searches"),{searchSources:l}=t,d=(0,m.Z)(l),p=(0,a.Z)(e,u.Ao);o.reset(l.reduce(((t,n)=>{const{providerEntityID:a}=n,o=(0,b.js)(e,{providerEntityID:a});if(!o)return t;const l=o.get("features").get(c.mo),u=t.find((e=>e.id===a));if(u){if(u&&n.directoryID){const e=u.get("contentDirectoryID").split(",");e.includes(n.directoryID)||e.push(n.directoryID);const t=e.join(",");u.set("contentDirectoryID",t)}}else{const e=a===i.get("providerEntityID");t[e?"unshift":"push"](new s.Z({providerEntityID:a,serverEntityID:o.server.entityID(),key:l?l.get("key"):"/hubs/search",contentDirectoryID:n.directoryID,searchTitle:F(n,d,!r)},{server:o.server,provider:o,isContextual:e,includeCollections:!0,includeExternalMedia:p}))}return t}),[])),i.get("query")&&n(O())},[C](e){const t=V(e),n=t.get("searches");t.set({query:"",selectedResultEntityID:null}),n.each((e=>{e.restoreDefaults({providerEntityID:e.get("providerEntityID"),serverEntityID:e.get("serverEntityID"),searchTitle:e.get("searchTitle"),key:e.get("key")})}))},[P](e,t={}){const n=V(e),i=n.get("searches"),{query:s=n.get("query"),limit:r}=t;i.each((t=>{const i=t.server;if(!i.supports("quickSearch")||!i.get("isConnected"))return void t.set({isSearchPending:!1});t.abortPendingPopulate(),t.set("isSearchPending",!0);const a=t.get("providerEntityID");(0,b.js)(e,{providerEntityID:a}).populate({merge:!0}).then((()=>t.fetch({data:{sectionId:n.get("directoryID"),query:s,limit:r}}))).done((()=>{t.set({isSearchPending:!1,isSearchPopulated:!0,searchError:null})})).fail((e=>{t.set({isSearchPending:!1,searchError:(0,y.Z)(e)})}))}))},[w](e,t,n){const i=V(e);""===t.trim()?n(L()):(i.get("query").length>1&&t.length<2&&n(L()),i.set("query",t))},[T](e,t){const n=V(e),{serverEntityID:i=n.get("serverEntityID"),providerEntityID:s=n.get("providerEntityID"),providerIdentifier:r=n.get("providerIdentifier"),directoryID:a=n.get("directoryID")}=t;n.set({serverEntityID:i,providerEntityID:s,providerIdentifier:r,directoryID:a})},[Z](e,t){const n=V(e),{searchResultEntityID:i,offset:s}=t;if(i)return void n.set("selectedResultEntityID",i);const r=n.get("searches").reduce(((e,t)=>{const n=t.get("hubs").reduce(((e,t)=>e.concat(B(t.get("metadataResults")),B(t.get("tagResults")))),[]);return e.concat(n)}),[]),a=r.indexOf(n.get("selectedResultEntityID")),o=r.length-1,l=a+s,c=l<-1||l>o?s>0?-1:o:l,d=-1===c?null:r[c];n.set("selectedResultEntityID",d)},[N](e,t={},n){const i=V(e),s=null!=t.searchResultEntityID?t.searchResultEntityID:i.get("selectedResultEntityID"),a=(0,b.c_)(e,{searchResultEntityID:s});if(!a){const e=i.get("query");return n((0,r.c4)({pathname:"/search",query:{query:e}})),void n(L())}const{tagItem:o,metadataItem:l}=a.pick("tagItem","metadataItem");if(o){const{typeString:e}=g.Z.get(o.get("tagType")),t={filters:o.has("filter")?o.get("filter"):`${e}=${o.get("id")}`,filterLabel:o.get("tag"),context:a.metricsContext},i=(0,I.Z)()?(0,f.Z)(a.server.toJSON(),a.provider.toJSON(),(0,p.Z)(a.provider,o.get("librarySectionKey")),{key:o.get("key"),pageType:M.F6.List,context:a.metricsContext}):(0,v.Z)(a.server.toJSON(),a.provider.toJSON(),(0,p.Z)(a.provider,o.get("librarySectionKey")),t);return n(L()),void(i&&(window.location.hash=i))}const c=(0,p.Z)(a.provider,l.get("librarySectionKey")),d=(0,S.Z)(a.server.attributes,a.provider.attributes,l.attributes,{context:a.metricsContext,legacy:l.get("type")===h.PHOTO_ALBUM?1:void 0},c);d?(window.location.hash=d,n(L())):n(U({searchResultEntityID:s}))},[A](e,t={},n){const{options:i}=t,s=V(e),r=null!=t.searchResultEntityID?t.searchResultEntityID:s.get("selectedResultEntityID"),a=(0,b.c_)(e,{searchResultEntityID:r});if(!a)return void n(z(t));const c=a.get("metadataItem");c&&(n((0,o.wA)({serverEntityID:a.server.entityID(),providerEntityID:a.provider.entityID(),metadataItemEntityID:c.entityID(),metricsPage:l.xX,metricsContext:a.metricsContext,options:E({containerKey:c.get("skipParent")?c.get("grandparentKey"):c.get("parentKey")},i)})),n(L()))}}},35871:(e,t,n)=>{"use strict";n.d(t,{Ag:()=>H,K3:()=>_,Es:()=>Q,wV:()=>G,rV:()=>Y,b6:()=>W,av:()=>K,ly:()=>q,vX:()=>$,jD:()=>J,L1:()=>X,K_:()=>te,TR:()=>ae,$i:()=>oe,lo:()=>le});var i=n(19755),s=n.n(i),r=n(25366),a=n(73034),o=n(47909),l=n(3265),c=n(48293),d=n(75300),u=n(32091),p=n(68187),m=n(20023),h=n(86953),g=n(95113),y=n(27082),v=n(5562),f=n(33295),I=n(24781),b=n(22724),M=n(1483),S=n(1039),E=n(19378),D=n(6797),C=n(79678),P=n(517),w=n(13550),T=Object.assign;const Z="shareModal",N="ui/shareModal/initShareModal",A="ui/shareModal/resetShareModal",x="ui/shareModal/sharePreviousStep",L="ui/shareModal/shareNextStep",O="ui/shareModal/validateUsername",j="ui/shareModal/setUsername",k="ui/shareModal/setUser",R="ui/shareModal/fetchServerOverviews",z="ui/shareModal/fetchServerShares",U="ui/shareModal/setLibraryShares",V="ui/shareModal/fetchFilterOptionsTags",B="ui/shareModal/saveItemShare",F="ui/shareModal/saveLibraryShares",H=(0,a.Z)(N),_=(0,a.Z)(A),Q=(0,a.Z)(x),G=(0,a.Z)(L),Y=(0,a.Z)(O),W=(0,a.Z)(j),K=(0,a.Z)(k),q=(0,a.Z)(R),$=(0,a.Z)(z),J=(0,a.Z)(U),X=(0,a.Z)(V),ee=(0,a.Z)(B),te=(0,a.Z)(F);function ne(e){return e.get("ui").get("shareModal")}function ie(e,t){const n=e.get("servers"),{metadataItemEntityID:i,isNewFriend:s=!0,isAddingHomeUser:r,isCreatingManagedUser:a}=t,o=[];r&&o.push(I.p.WARNING),o.push(I.p.USER);const l=!!i,c=n.some((e=>e.get("isFullOwnedServer")&&e.get("isClaimed")&&e.get("friendlyName")));return!l&&c&&o.push(I.p.LIBRARIES),l||!s&&!r||o.push(I.p.RESTRICTIONS),s&&!a&&o.push(I.p.SUMMARY),o}function se(e,t){return e.findIndex((e=>e===t))}function re(e,t){return e[se(e,t)-1]}function ae(e,t){return e[se(e,t)+1]}function oe(e,t){const n=ae(e,t);return!(!n||n===I.p.SUMMARY)}const le=(0,l.Z)({[N](e,t){const n=ne(e),i=ie(e,t);n.set({steps:i,step:i[0]})},[A](e,t={}){const n=ne(e);f.Z.abortAll(Z),n.restoreDefaults(t)},[x](e,t,n){const i=ne(e),s=i.get("steps"),r=i.get("step"),a={steps:s,step:re(s,r),username:i.get("username"),restrictionProfileIdentifier:i.get("restrictionProfileIdentifier"),isUsernameValidated:!i.get("isCreatingManagedUser")};r===I.p.RESTRICTIONS&&(a.friendEntityID=i.get("friendEntityID"),a.isNewFriend=i.get("isNewFriend"),a.isAddingHomeUser=i.get("isAddingHomeUser"),a.isCreatingManagedUser=i.get("isCreatingManagedUser"),a.selectedAllLibrariesMachineIdentifiers=i.get("selectedAllLibrariesMachineIdentifiers"),a.selectedLibrarySectionIDs=i.get("selectedLibrarySectionIDs")),n(_(a))},[L](e){const t=ne(e),n=ae(t.get("steps"),t.get("step"));n&&t.set({step:n})},[O](e,t={}){const n=ne(e),i=e.get("cloudServer"),{username:r=""}=t;if(""===r.trim())return void n.set({isUsernameValidating:!1,isUsernameValidated:!1});(0,y.c9)((()=>{n.set({isUsernameValidating:!0,isUsernameValidated:!1})}));const a=o.Z.join("/api/users/validate",{invited_email:r}),l=i.getXHROptions(a,{type:"POST",scope:Z});s().ajax(l).done((()=>{n.set({isUsernameValidating:!1,isUsernameValidated:!0})})).fail((()=>{n.set({isUsernameValidating:!1})}))},[j](e,t={},n){const i=ne(e),{metadataItemEntityID:s,username:r,restrictionProfileIdentifier:a,isAddingHomeUser:o,isCreatingManagedUser:l}=t,c=e.get("user").get("allFriends");let d=c.findWhere({username:r});d||(d=c.findWhere({email:r}));const u=!!d&&!l,p=u?d.entityID():null,m=ie(e,{metadataItemEntityID:s,isNewFriend:!u,isAddingHomeUser:o,isCreatingManagedUser:l});i.set({steps:m,metadataItemEntityID:s,friendEntityID:p,username:u?d.get("title"):r,restrictionProfileIdentifier:a,isNewFriend:!u,isAddingHomeUser:o,isCreatingManagedUser:l}),n(oe(m,I.p.USER)?G():s?ee():te())},[k](e,t={},n){const i=ne(e),s=(0,P.KC)(e,t),{metadataItemEntityID:r,isAddingHomeUser:a}=t,o=s.entityID(),l=ie(e,{metadataItemEntityID:r,isNewFriend:!1,isAddingHomeUser:a,isCreatingManagedUser:!1});i.set({steps:l,metadataItemEntityID:r,friendEntityID:o,username:s.get("title"),isNewFriend:!1,isAddingHomeUser:a}),n(r?ee():G())},[R](e,t={}){const n=ne(e),{serverEntityIDs:i}=t;(0,y.c9)((()=>{n.set({isServerOverviewsPopulating:!0,isServerOverviewsPopulated:!1})})),(0,c.Z)(i).then((e=>{n.set({isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!0,serverOverviews:e})}))},[z](e,t={}){const n=ne(e),i=(0,P.KC)(e,t);f.Z.abortAll(Z),i?((0,y.c9)((()=>{n.set({isServerSharesPopulating:!0,isServerSharesPopulated:!1,serverSharesError:null})})),(0,d.Z)(i,Z).done((()=>{n.set({isServerSharesPopulating:!1,isServerSharesPopulated:!0})})).fail((()=>{n.set({isServerSharesPopulating:!1,serverSharesError:(0,v.Z)("Failed to load shares.")})}))):n.set("isServerSharesPopulated",!0)},[U](e,t={},n){const i=ne(e);i.set(t),n(oe(i.get("steps"),I.p.LIBRARIES)?G():te())},[V](e,t={}){const n=ne(e),{serverEntityIDs:i}=t,s=i.map((t=>(0,P.SW)(e,{serverEntityID:t})));f.Z.abortAll(Z),(0,y.c9)((()=>{n.set({isFilterOptionsTagsPopulating:!0,isFilterOptionsTagsPopulated:!1})})),(0,E.Z)(s,Z).done((e=>{n.set({isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!0,filterOptionsTags:e})}))},[B](e,t,n){const i=ne(e),a=i.get("metadataItemEntityID"),o=i.get("friendEntityID"),l=i.get("username"),c=i.get("isNewFriend"),d=e.get("cloudServer");(0,y.c9)((()=>{i.set({isSharingPending:!0,isSharingCompleted:!1,sharingError:null,inviteTokenError:null})}));const u=(0,P.$R)(e,{metadataItemEntityID:a}),p=(0,h.Z)({serverIdentifier:u.server.get("machineIdentifier"),key:u.get("key")}),m=(0,w.Z)({type:u.get("type"),title:u.get("title"),parentTitle:u.get("parentTitle"),grandparentTitle:u.get("grandparentTitle"),index:u.get("index"),parentIndex:u.get("parentIndex"),originallyAvailableAt:u.get("originallyAvailableAt")},r.U),g={items:[{uri:p,type:u.get("type"),title:m}]};if(o){const t=(0,P.KC)(e,{friendEntityID:o});g.invitedId=t.id}else g.invitedEmail=l;const f=d.getXHROptions("/api/v2/shared_items",{type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(g),scope:Z});s().ajax(f).then((t=>{c?function(e,t){const n=`/api/v2/shared_sources/${t}`,i=e.get("cloudServer").getXHROptions(n,{type:"GET",dataType:"json",scope:Z});return s().ajax(i).then((e=>e.inviteToken),(e=>{const t=e&&e.status?e.responseJSON.errors:null,n=t?t[0].message:(0,v.Z)("Unknown error");return(0,v.Z)("Failed to get invite link: {errorMessage}",{errorMessage:n})}))}(e,t[0].sharedSourceId).done((e=>{i.set({inviteToken:e,isSharingPending:!1,isSharingCompleted:!0})})).fail((e=>{i.set({inviteTokenError:e,isSharingPending:!1,isSharingCompleted:!0})})).always((()=>{n(G())})):i.set({isSharingPending:!1,isSharingCompleted:!0})}),(e=>{const t=e&&e.status?e.responseJSON.errors:null,n=t?t[0].message:null;i.set({isSharingPending:!1,sharingError:n||(0,v.Z)("Failed to share item")})}))},[F](e,t={},n){const{addToHome:i,restrictions:r={}}=t,a=ne(e),o=a.get("friendEntityID"),l=a.get("username"),c=a.get("restrictionProfileIdentifier"),d=a.get("isNewFriend"),h=a.get("isAddingHomeUser"),f=a.get("isCreatingManagedUser"),I=a.get("serverOverviews"),E=a.get("selectedAllLibrariesMachineIdentifiers")||[],w=a.get("selectedLibrarySectionIDs")||[],Z=e.get("user");(0,y.c9)((()=>{a.set({isSharingPending:!0,isSharingCompleted:!1,sharingError:null})}));const N=[],A=o?(0,P.KC)(e,{friendEntityID:o}):new b.Z({username:l},{server:Z.server}),x=(0,D.Z)(r);d&&A.set(x);const L=A.get("serverShares").where({owned:!0}),O=function(e=[]){return e.reduce(((e,t)=>(t.get("sections").forEach((n=>{e[n.get("id")]=t.get("machineIdentifier")})),e)),{})}(I),j=L.map((e=>e.get("machineIdentifier"))),k=Array.from(new Set(w.map((e=>O[e])))),R=Array.from(new Set([...j,...k,...E])),z=h||i&&!A.get("home")||f;let U;if(z){const e=T(T({},x),{username:l,restricted:f});c&&c!==p.Pq&&(e.restrictionProfile=c),U=new M.Z(e,{server:Z.server}).save(),f&&(U=U.then((e=>{A.set("id",parseInt(g.Z.parseXML(e).id,10))})))}else{const e=0===R.length;U=d&&e?A.save(T({user:l},x)):s().Deferred().resolve().promise()}U.done((()=>{R.forEach((e=>{const t=I.get(e);if(!t)return;const n=L.find((t=>t.get("machineIdentifier")===e)),i=E.indexOf(e)>-1,s=!n,r=!i&&!k.find((t=>t===e)),a=function(e,t){const n=e.get("sections");return t.filter((e=>n.get(e)))}(t,w),o=i?[]:a;if(s){const t=new S.Z({machineIdentifier:e}),n=(0,u.Z)({user:Z,friend:A,serverShare:t,librarySectionIDs:o,isNewFriend:d,isCreatingManagedUser:f,isNewServerShare:!0});N.push(n)}else if(r)N.push(n.destroy({wait:!0}));else{const e=(0,u.Z)({user:Z,friend:A,serverShare:n,librarySectionIDs:o,isNewFriend:d,isCreatingManagedUser:f,isNewServerShare:!1});N.push(e)}})),s().when(...N).done(((...e)=>{const t={isSharingPending:!1,isSharingCompleted:!0};if(R.length>0&&d&&!f){const n=(N.length>1?e[e.length-1]:e)[0];t.inviteToken=n.inviteToken}a.set(t),f&&Z.set("home",!0),n(G())})).fail(((...e)=>{let t;for(const n of e){const e=(0,m.Z)(n,null,"status");if(e){t=e;break}}t||(t=f?(0,v.Z)("Failed to create home user."):d?(0,v.Z)("Failed to send invite."):(0,v.Z)("Failed to update server shares.")),a.set({isSharingPending:!1,sharingError:t})})).always((()=>{n((0,C.Tp)()),n((0,C.bc)()),z&&(Z.get("homeUsers").fetch(),n((0,C.RY)()),n((0,C.Tz)()))}))})).fail((e=>{const t=(0,m.Z)(e,null,"status")||(0,v.Z)("Failed to create home user.");a.set({isSharingPending:!1,sharingError:t})}))}})},79678:(e,t,n)=>{"use strict";n.d(t,{ye:()=>ke,Ol:()=>St,CQ:()=>Tt,U_:()=>ct,Bt:()=>Dt,p7:()=>et,Mi:()=>ot,K2:()=>ut,HH:()=>Lt,Nt:()=>It,FT:()=>xt,G_:()=>ht,Tp:()=>tt,Dl:()=>gt,RY:()=>nt,xP:()=>bt,ZQ:()=>rt,bc:()=>Mt,HL:()=>lt,W1:()=>Ot,Bl:()=>st,Dg:()=>it,jT:()=>Et,tJ:()=>vt,oz:()=>Zt,EN:()=>yt,dL:()=>pt,vC:()=>Nt,fK:()=>Rt,EL:()=>dt,Y2:()=>_t,Dy:()=>Bt,zi:()=>Vt,QG:()=>wt,tF:()=>Pt,JY:()=>Ht,ay:()=>Ft,E8:()=>kt,Tz:()=>Ct,mo:()=>mt,Xe:()=>Ut,Z$:()=>zt,yA:()=>ft,Dm:()=>jt,Nq:()=>at,Kq:()=>qt});var i=n(19755),s=n.n(i),r=n(13469),a=n.n(r),o=n(73034),l=n(29705),c=n(69434),d=n(76745),u=n(47909),p=n(93966),m=n(59756),h=n(5513),g=n(26564),y=n(27940),v=n(47632),f=n(66050),I=n(45435),b=Object.assign;function M(e,t){const n={};for(const i in t)e.hasAttr(i)&&(n[i]=e.get(i));return n}var S=n(4134),E=n(99317);function D(e,t){const n=e.get("user").get("experienceSettings").get("homeSettings");n.set("settingsKey",(0,E.Z)()),t((0,S.LN)({homeSettings:n}))}var C=n(32901),P=n(88050),w=n(96335),T=n(69605),Z=n(77349);const N=[7,30,60,90];function A(e=0){return(0,Z.Z)(Date.now(),N[e]||180)}var x=n(20023);function L(e){return e.isCloud?"online":e.isFullOwnedServer?"owned":"shared"}function O(e){return e.isConnected?"online":"offline"}var j=n(66729);var k=n(95113),R=n(29065),z=n(28440),U=n(27082),V=n(5562),B=n(64033),F=n(95561),H=n(11491),_=n(80129),Q=n.n(_),G=n(16954);const Y=function(e,t){const n=e.server.getXHROptions(a().result(e,"url"),{method:"POST",dataType:"json",data:Q().stringify({urls:t},{arrayFormat:"brackets"})||"urls="});return(0,G.Z)(s().ajax(n),400).then((t=>{e.reset(t)}),(e=>s().Deferred().reject(e.status&&e.responseJSON.errors||[]).promise()))};var W=n(41583),K=n(517),q=n(43322),$=n(97189),J=n(58499),X=Object.prototype.hasOwnProperty,ee=Object.getOwnPropertySymbols,te=Object.prototype.propertyIsEnumerable,ne=Object.assign;const ie="user/changePreferredServer",se="user/fetchAllFriends",re="user/populateAllFriends",ae="user/fetchHomeUsers",oe="user/populateHomeUsers",le="user/fetchPlans",ce="user/populatePlans",de="user/updateUser",ue="user/clearUpdateUserError",pe="user/fetchWebhooks",me="user/addWebhook",he="user/replaceWebhook",ge="user/clearUpdateWebhookError",ye="user/removeWebhook",ve="user/startFirstRunExperience",fe="user/endFirstRunExperience",Ie="user/fetchHomeDetails",be="user/removeHomeUser",Me="user/removeFriend",Se="user/toggleGuestUser",Ee="user/editHomeUserPIN",De="user/fetchInvites",Ce="user/fetchSentInvites",Pe="user/acceptInvite",we="user/rejectInvite",Te="user/cancelInvite",Ze="user/showNewHomeWarnings",Ne="user/seedProviderPromotedContent",Ae="user/seedPreferredServerContent",xe="user/addHomeHubs",Le="user/removeHomeHubs",Oe="user/updateHomeHubs",je="user/reorderHomeHubs",ke="user/resetHomeSettings",Re="user/enableAutoHomeHubs",ze="user/disableAutoHomeHubs",Ue="user/pinSources",Ve="user/unpinSources",Be="user/setupSources",Fe="user/reorderPinnedSources",He="user/updatePinnedSources",_e="user/dismissUpsellModal",Qe="user/saveSetting",Ge="user/syncSettings",Ye="user/syncExperienceSettings",We="user/restoreDefaultExperienceSettings",Ke="user/restoreCustomizationSettings",qe="user/setTwoFactorEnabled",$e="user/setReminder",Je="user/removeReminder",Xe="user/resetReminders",et=(0,o.Z)(ie),tt=(0,o.Z)(se),nt=(0,o.Z)(ae),it=(0,o.Z)(oe),st=(0,o.Z)(re),rt=(0,o.Z)(le),at=((0,o.Z)(ce),(0,o.Z)(de)),ot=(0,o.Z)(ue),lt=(0,o.Z)(pe),ct=(0,o.Z)(me),dt=(0,o.Z)(he),ut=(0,o.Z)(ge),pt=(0,o.Z)(ye),mt=(0,o.Z)(ve),ht=(0,o.Z)(fe),gt=(0,o.Z)(Ie),yt=(0,o.Z)(be),vt=(0,o.Z)(Me),ft=(0,o.Z)(Se),It=(0,o.Z)(Ee),bt=(0,o.Z)(De),Mt=(0,o.Z)(Ce),St=(0,o.Z)(Pe),Et=(0,o.Z)(we),Dt=(0,o.Z)(Te),Ct=(0,o.Z)(Ze),Pt=(0,o.Z)(Ne),wt=(0,o.Z)(Ae),Tt=(0,o.Z)(xe),Zt=(0,o.Z)(Le),Nt=((0,o.Z)(Oe),(0,o.Z)(je)),At=(0,o.Z)(ke),xt=(0,o.Z)(Re),Lt=(0,o.Z)(ze),Ot=(0,o.Z)(Ue),jt=(0,o.Z)(Ve),kt=(0,o.Z)(Be),Rt=(0,o.Z)(Fe),zt=((0,o.Z)(He),(0,o.Z)(_e),(0,o.Z)(Qe),(0,o.Z)(Ge)),Ut=(0,o.Z)(Ye),Vt=(0,o.Z)(We),Bt=(0,o.Z)(Ke),Ft=(0,o.Z)(qe),Ht=(0,o.Z)($e),_t=((0,o.Z)(Je),(0,o.Z)(Xe));function Qt(e,t){if(!e.get("isSignedIn")||!m.Z.allowSyncSettings)return s().Deferred().resolve().promise();const n=Array.isArray(t)?t:[t],i=u.Z.join("/api/v2/user/settings",{sharedSettings:(0,B.Z)(e)?1:0}),r=e.server.getXHROptions(i,{type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify({value:JSON.stringify(n)})});return s().ajax(r).promise()}function Gt(e,t){if(!e)return null;const n=e.find((e=>e.id===t));return n&&n.updatedAt}function Yt(e){return e.get("user")}function Wt(e){return e.get("user").get("experienceSettings").get("sidebarSettings")}function Kt(e){return e.get("user").get("experienceSettings").get("homeSettings")}const qt={[S.gk]:S.Kq[S.gk],[S.FC]:S.Kq[S.FC],[S.xZ]:S.Kq[S.xZ],[S.tB]:S.Kq[S.tB],[S.Dz]:S.Kq[S.Dz],[S.PF]:S.Kq[S.PF],[S.k_](e){(0,U.c9)((()=>{e.get("user").set("lockState",q.Ik.Locked)}))},[ie](e,t,n){const{machineIdentifier:i}=t;Kt(e).set("preferredServerID",i),D(e,n)},[se]:(0,g.Z)({key:"allFriends",getModel:Yt}),[re]:(0,y.Z)({key:"allFriends",fetchActionCreator:tt,getModel:Yt}),[ae]:(0,g.Z)({key:"homeUsers",getModel:z.bg}),[oe]:(0,g.Z)({key:"homeUsers",fetchActionCreator:nt,getModel:z.bg}),[le]:(0,g.Z)({key:"plans",getModel:z.bg}),[ce]:(0,y.Z)({key:"plans",fetchActionCreator:rt,getModel:z.bg}),[ue](e){(0,z.bg)(e).set("updateUserError",null)},[de](e,t,n){const i=(0,z.bg)(e),r=e.get("user"),{avatar:o}=t,l=((e,t)=>{var n={};for(var i in e)X.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&ee)for(var i of ee(e))t.indexOf(i)<0&&te.call(e,i)&&(n[i]=e[i]);return n})(t,["avatar"]);let c;if(i.set({isUpdatingUser:!0,updateUserError:null}),o)c=(0,H.Z)(o);else{const e=new window.FormData;a().each(l,((t,n)=>{e.append(n,t)}));const t=a().result(r,"url"),n=null!=l.experimentalFeatures?u.Z.join([t,"settings","experimental_features"],{opt_in:l.experimentalFeatures}):t,i=r.server.getXHROptions(n,{type:"PUT",processData:!1,contentType:!1,data:null!=l.experimentalFeatures?void 0:e});c=s().ajax(i)}c.done((e=>{!t.avatar&&r.get("hasPassword")||r.fetch();const n=a().reduce(t,((e,t,n)=>(r.hasAttr(n)&&(e[n]=t),e)),{});r.set(n),i.set({isUpdatingUser:!1,updateUserError:null})})).fail((e=>{const t=k.Z.parseXML(e.responseText),n=Array.isArray(t)&&t||(Array.isArray(t.error)?t.error:[t.error]),s=a().mapObject(a().groupBy(n,(e=>e&&e.field?e.field:"request")),((e,t)=>a().flatten(e)));i.set({isUpdatingUser:!1,updateUserError:s})}))},[pe]:(0,g.Z)({key:"webhooks",getModel:z.bg}),[me](e){const t=(0,z.bg)(e);t.get("webhooks").add({}),t.set("updateWebhooksError",null)},[he](e,{oldUrl:t,newUrl:n}){const i=(0,z.bg)(e),s=i.get("webhooks");if(s.findWhere({url:t})){const e=s.map((e=>{const i=e.get("url");return i===t?n:i}));i.set({isUpdatingWebhooks:!0,updateWebhooksError:null}),Y(s,e).always((()=>{i.set("isUpdatingWebhooks",!1)})).fail((e=>{i.set("updateWebhooksError",e[0])}))}},[ge](e){(0,z.bg)(e).set("updateWebhooksError",null)},[ye](e,t){const n=(0,z.bg)(e),i=n.get("webhooks");if(!t){const e=i.filter((e=>e.get("url")!==t));return void i.reset(e)}n.set({isRemovingWebhooks:!0,updateWebhooksError:null});const s=i.map((e=>e.get("url"))).filter((e=>e!==t));Y(i,s).always((()=>{n.set("isRemovingWebhooks",!1)})).fail((e=>{n.set("updateWebhooksError",e[0])}))},[ve](e,t={},n){window.setTimeout((()=>{n((0,h.c4)({replace:!0,pathname:"/client-setup"}))}),0)},[fe](e,t,n){const{preferredServerEntityID:i}=t;if(i){!function(e,t=!0){(0,p.DB)("metrics").trackEvent({event:w.Ip,interaction:t,properties:{page:T.mU,action:P.ic,serverType:(0,j.Z)(e),status:O(e),firstRun:!0}})}((0,z.SW)(e,{serverEntityID:i}).toJSON(),t.preferredServerInteraction)}window.setTimeout((()=>{(0,$.Z)("home",{},!0)}),0)},[Ie](e){const t=(0,z.bg)(e),n=t.get("homeDetails");t.set("isHomeDetailsPending",!0),n.fetch().then((()=>{t.set({isHomeDetailsPending:!1,isHomeDetailsPopulated:!0,homeDetailsError:null})}),((e,n)=>{const i={isHomeDetailsPending:!1};404===n.status?(i.isHomeDetailsPopulated=!0,i.homeDetailsError=null):(i.isHomeDetailsPopulated=!1,i.homeDetailsError=n),t.set(i)}))},[be](e,t,n){const i=e.get("user"),r=(0,z.bg)(e),a=r.get("homeUsers"),o=i.get("homeUsers"),l=i.get("allFriends"),c=(0,K.dH)(e,t),d=i.id===c.id;(0,U.c9)((()=>{c.set("isRemoving",!0)}));const u=c.server.getXHROptions(c.url(),{type:"DELETE"});s().ajax(u).then((()=>{const e=l.get(c.id);e?(c.get("restricted")?l.remove(e):e.set("home",!1),a.remove(c)):(a.reset([c]),c.set("admin",!0),l.each((e=>{e.set("home",!1)})));const t=!!i.get("pin")||a.length>1;if(i.set("home",t),!t){const e=r.get("homeDetails"),t=i.get("homeDetails");e.restoreDefaults(),t.restoreDefaults()}o.fetch(),c.set("isRemoving",!1)}),(()=>{n((0,C.wp)({type:"error",message:d?(0,V.Z)("There was a problem leaving this home."):(0,V.Z)("There was a problem removing this user.")})),c.set({isRemoving:!1})}))},[Me](e,t,n){const i=e.get("user"),r=(0,z.bg)(e),a=r.get("homeUsers"),o=i.get("allFriends"),c=i.get("homeUsers"),d=(0,K.KC)(e,t);(0,U.c9)((()=>{d.set("isRemoving",!0)}));const p=u.Z.join(["/api/v2/friends",d.id]),m=d.server.getXHROptions(p,{type:"DELETE"});s().ajax(m).then((()=>{const e=d.get("home");r.get("invites").fetch(),r.get("sentInvites").fetch(),e&&(a.fetch(),c.fetch()),d.get("serverShares").some((e=>!e.owned))&&l.Z.trigger("discover:servers"),d.set({isRemoving:!1}),o.remove(d)}),(()=>{n((0,C.wp)({type:"error",message:(0,V.Z)("There was a problem removing this friend.")})),d.set({isRemoving:!1})}))},[Se](e,t,n){const i=e.get("user"),r=(0,z.bg)(e),a=i.get("homeSize"),o=r.get("homeDetails"),l=r.get("homeUsers"),c=i.get("allFriends"),d=i.get("homeDetails"),p=i.get("homeUsers"),m=!o.get("guestEnabled");o.set("isTogglingGuestUser",!0);const h=u.Z.join("/api/home",{guestEnabled:m?1:0}),g=m&&1===a,y=i.server.getXHROptions(h,{type:g?"POST":"PUT"});s().ajax(y).then((()=>{l.fetch(),c.fetch(),p.fetch(),m||2!==a?(d.set("guestEnabled",m),o.set({guestEnabled:m,isTogglingGuestUser:!1}),g&&i.set("home",!0)):(d.clear(),o.clear(),i.set("home",!1))}),(e=>{const t=m?(0,V.Z)("Unable to enable guest account"):(0,V.Z)("Unable to disable guest account"),i=(0,x.Z)(e,t,"status");n((0,C.wp)({type:"error",message:i})),o.set("isTogglingGuestUser",!1)}))},[Ee](e,t){const n=(0,K.dH)(e,t),i=new J.Z({model:n,isEditing:!0});l.Z.trigger("show:modal",i),i.promise.then((e=>{n.set("protected",!!e)}))},[De]:(0,g.Z)({key:"invites",getModel:z.bg}),[Ce]:(0,g.Z)({key:"sentInvites",getModel:z.bg}),[Pe](e,t,n){const i=e.get("user"),r=(0,z.bg)(e),a=r.get("invites"),o=a.get(t.inviteID),c=r.get("homeUsers").get(i.id),u=i.get("homeUsers");o.set("isAccepting",!0);const p=c.get("protected");(o.get("home")&&!p?function(e){const t=new J.Z({model:e,isEditing:!0,isEditWarning:!0});return l.Z.trigger("show:modal",t),(0,d.Z)(t.promise)}(c):s().Deferred().resolve().promise()).then((()=>o.save(null,{force:!0}))).then((()=>{a.remove(o),u.fetch(),n(nt()),n(tt()),n(Mt()),o.get("server")&&l.Z.trigger("discover:servers")}),(e=>{o.set("isAccepting",!1),n((0,C.wp)({type:"error",message:(0,V.Z)("There was a problem accepting this invite.")}))}))},[we](e,t,n){const i=(0,z.bg)(e).get("invites"),r=i.get(t.inviteID);r.set("isRemoving",!0);const a=r.server.getXHROptions(r.url(),{type:"DELETE"});s().ajax(a).then((()=>{i.remove(r),r.get("server")&&n(tt())}),(()=>{r.set("isRemoving",!1),n((0,C.wp)({type:"error",message:(0,V.Z)("There was a problem rejecting this invite.")}))}))},[Te](e,t,n){const i=(0,z.bg)(e).get("sentInvites"),r=i.get(t.inviteID);r.set("isRemoving",!0);const a=r.server.getXHROptions(r.url(),{type:"DELETE"});s().ajax(a).then((()=>{i.remove(r),r.get("server")&&n(tt())}),(()=>{r.set("isRemoving",!1),n((0,C.wp)({type:"error",message:(0,V.Z)("There was a problem canceling this invite.")}))}))},[Ze](e,t,n){const i=e.get("user"),s=(0,z.bg)(e).get("homeUsers"),r=s.get(i.id);if(r.get("protected")||s.length>1)return;const a=new J.Z({model:r,isEditing:!0,isEditWarning:!0});l.Z.trigger("show:modal",a)},[Ae](e,t,n){if(!t.hubs.length)return;const i=Kt(e),s=ne({},t);i.get("hasCustomizations")||(s.at=0),n(Tt(s)),i.set({hasSeededPreferredServerContent:!0}),D(e,n)},[Ne](e,t,n){if(!t.hubs.length)return;const i=Kt(e);n(Tt(t)),i.set({hasSeededProviderPromotedContent:!0}),D(e,n)},[xe](e,t,n){const i=Kt(e),{at:s,isUserInitiated:r,hubs:a}=t,o=s>=0?{at:s}:null,l=a.reduce(((t,n)=>{const{directoryKey:i,entityID:s,model:r}=n,a=s?(0,z.$d)(e,{hubEntityID:s}):r;return a&&t.push(function({directoryKey:e,hubModel:t}){const n=t.get("hubIdentifier"),i=(0,f.Z)(n),s=i===n?e:"/hubs";return new v.ZP(b(b({},M(t,v.vF)),{provider:b({},M(t.provider,v.U0)),server:b({},M(t.server,v.qY)),hubIdentifier:i,id:I.y(t),directoryKey:s}))}({directoryKey:i,hubModel:a})),t}),[]);l.length&&(r&&!i.get("hasCustomizations")&&i.set("hasCustomizations",!0),(0,c.Z)("[Home] user/addHomeHubs:",t,l),i.get("hubs").add(l,o),D(e,n))},[Le](e,t,n){const i=Kt(e),{isUserInitiated:s,hubs:r}=t,a=r.reduce(((t,n)=>{const{entityID:i,homeHubID:s}=n;let r=s;if(i){const t=(0,z.$d)(e,{hubEntityID:i});r=t&&I.y(t)}return r&&t.push(r),t}),[]);a.length&&(s&&!i.get("hasCustomizations")&&i.set("hasCustomizations",!0),i.get("hubs").remove(a),D(e,n))},[Oe](e,t,n){const{homeHubIDs:i,homeHubAttrs:s}=t,r=e.get("user").get("experienceSettings").get("homeSettings").get("hubs");i.forEach((e=>{const t=r.get(e);t&&t.set(s)})),D(e,n)},[je](e,t,n){const i=Kt(e),s=i.get("hubs"),{isUserInitiated:r,homeHubIDs:a}=t,o=a.map((e=>s.get(e)));r&&!i.get("hasCustomizations")&&i.set("hasCustomizations",!0),i.get("hubs").reset(o),D(e,n)},[ke](e,t,n){const i=Kt(e);i.restoreDefaults({preferredServerID:i.get("preferredServerID")}),D(e,n)},[Re](e,t,n){e.get("user").get("experienceSettings").set("autoHomeHubsEnabled",!0),n(At())},[ze](e,t,n){const i=e.get("ui").get("autoHomePage"),s=e.get("user").get("experienceSettings"),r=s.get("homeSettings");r.restoreDefaults({preferredServerID:r.get("preferredServerID"),hasSeededProviderPromotedContent:!1,hasSeededPreferredServerContent:!1}),s.set("autoHomeHubsEnabled",!1),i.restoreDefaults(),D(e,n)},[Be](e,t,n){const i=Wt(e),s=i.get("pinnedSources"),{sources:r=[]}=t;i.get("hasCompletedSetup")||i.set("hasCompletedSetup",!0);const a=r.map(R.Z);s.reset(a),n((0,S.LN)({sidebarSettings:i})),a.forEach((e=>{(0,p.DB)("metrics").trackEvent({event:w.Ip,interaction:!0,identifier:e.providerIdentifier,properties:{page:T.VP,action:P.T5,type:e.sourceType,serverType:L(e),firstRun:!0}})}))},[Ue](e,t,n){const i=Wt(e),s=i.get("pinnedSources"),{sources:r=[],interaction:a=!0}=t,o=r.map(R.Z);s.add(o),n((0,W.Ps)()),n((0,S.LN)({sidebarSettings:i})),o.forEach((e=>{(0,p.DB)("metrics").trackEvent({event:w.Ip,interaction:a,identifier:e.providerIdentifier,properties:{page:T.jy,action:P.T5,type:e.sourceType,serverType:L(e),firstRun:!1}})}))},[Ve](e,t,n){const i=Wt(e),s=i.get("pinnedSources"),{sources:r=[]}=t,a=r.map((e=>s.get(e.key)));s.remove(a),n((0,W.Ps)()),n((0,S.LN)({sidebarSettings:i})),r.forEach((e=>{(0,p.DB)("metrics").trackEvent({event:w.Ip,interaction:!0,identifier:e.providerIdentifier,properties:{page:T.jy,action:P.t6,type:e.sourceType,serverType:L(e),firstRun:!1}})}))},[Fe](e,t,n){const i=Wt(e),s=i.get("pinnedSources"),r=t.sourceKeys.map((e=>s.get(e)));s.reset(r),n((0,W.Ps)({debounceHubContentRefresh:!0})),n((0,S.LN)({sidebarSettings:i})),(0,p.DB)("metrics").trackEvent({event:w.Ip,interaction:!0,properties:{page:T.jy,action:P.wC}})},[He](e,t,n){const{sourceKeys:i,pinnedSourceAttrs:s}=t,r=Wt(e),a=r.get("pinnedSources");i.forEach((e=>{const t=a.get(e);t&&t.set(s)})),n((0,S.LN)({sidebarSettings:r}))},[_e](e,t,n){const i=e.get("user").get("experienceSettings").get("dismissedUpsellModals"),{dismissedModal:s}=t;i.includes(s)||n((0,S.LN)({dismissedUpsellModals:[...i,s]}))},[Qe](e,t,n){e.get("user").get("settings").get(t.id).set({value:t.value,isDirty:!0}),n(zt([t.id]))},[Ge](e,t){const n=e.get("user"),i=n.get("settings");Qt(n,t.map((e=>i.get(e).toJSON({syncedOnly:!0})))).then((e=>{t.forEach((t=>{const n=i.get(t),s=Gt(e,t);s&&n.set({updatedAt:s,isDirty:!1})}))}))},[S.pL](e,t,n){e.get("user").get("experienceSettings").set(ne(ne({},t),{isDirty:!0})),n(Ut())},[Ye](e){const t=e.get("user"),n=t.get("experienceSettings"),i=n.toJSON({excluded:["updatedAt"],syncedOnly:!0,excludeDefaults:!0});n.set({isSaving:!0,saveError:null}),Qt(t,{id:F.U,type:"json",value:JSON.stringify(i),hidden:!0}).then((e=>{const t=Gt(e,F.U),i={isSaving:!1};t&&(i.updatedAt=t,i.isDirty=!1),n.set(i)}),(()=>{n.set({isSaving:!1,saveError:{message:(0,V.Z)("An error occurred while syncing settings")}})}))},[We](e,t,n){const i=e.get("user").get("experienceSettings"),s={showAdvancedSettings:i.get("showAdvancedSettings"),isDirty:!0};i.restoreDefaults(s),n(Ut())},[Ke](e,t,n){const i=e.get("user").get("experienceSettings");i.set("autoHomeHubsEnabled",!0),i.get("homeSettings").restoreDefaults(),i.get("sidebarSettings").restoreDefaults(),n(Ut()),n((0,W.wf)())},[qe](e,{twoFactorEnabled:t},n){e.get("user").set({twoFactorEnabled:t})},[$e](e,t,n){const i=e.get("user").get("experienceSettings"),{id:s,data:r}=t,a=i.get("reminders"),o=a.get(s),l=o?o.get("times")+1:0;a.add({data:r,id:s,times:l,remindAfter:A(l).toISOString()},{merge:!0}),n((0,S.LN)())},[Je](e,t,n){e.get("user").get("experienceSettings").get("reminders").remove(t.id),n((0,S.LN)())},[Xe](e,t,n){const i=e.get("user").get("experienceSettings").get("reminders");(0,c.Z)(`[User] Removing ${i.length} reminders`),i.clear(),n((0,S.LN)())}}},68295:(e,t,n)=>{"use strict";n.d(t,{dB:()=>T,GX:()=>x,pS:()=>Z,TN:()=>A,KU:()=>N,Yl:()=>O,Z7:()=>w,Uw:()=>L,VV:()=>k});var i=n(73034),s=n(69434),r=n(93966),a=n(95688),o=n(49517),l=n(47327),c=n(96335),d=n(17524),u=n(86953),p=n(60316),m=n(5562),h=n(15042),g=n(29150),y=n(517),v=n(63178),f=n(13550);const I="watchTogetherRooms/tryUpdateRooms",b="watchTogetherRooms/createRoom",M="watchTogetherRooms/inviteUsers",S="watchTogetherRooms/resetCreateRoom",E="watchTogetherRooms/populateMetadataItem",D="watchTogetherRooms/deleteRoom",C="watchTogetherRooms/roomsUpdated",P="watchTogetherRooms/updateRooms",w=((0,i.Z)("watchTogetherRooms/initialize"),(0,i.Z)(I)),T=(0,i.Z)(b),Z=(0,i.Z)(M),N=(0,i.Z)(S),A=(0,i.Z)(E),x=(0,i.Z)(D),L=(0,i.Z)(P),O=(0,i.Z)(C);function j(e){return e.get("ui").get("watchTogether")}const k={[I](e,t,n){const i=(0,r.DB)("watchTogetherRoomsManager").getRoomsClient();!1===(null==i?void 0:i.isOpen)&&n(L())},[P](e,t,n){const i=(0,r.DB)("watchTogetherRoomsManager").getRoomsClient(),a=j(e);a.set({isRoomsPending:!0,isRoomsPopulated:!1}),i.rooms().then((e=>{n(O({rooms:e}))}),(e=>{s.Z.warn("[Watch Together] Unable to fetch rooms:",e),a.set({roomsError:(0,m.Z)("Unable to retrieve Watch Together rooms."),isRoomsPending:!1,isRoomsPopulated:!1})}))},[C](e,t,n){const i=j(e),s=i.get("rooms");s.set(t.rooms,{parse:!0}),i.set({isRoomsPending:!1,isRoomsPopulated:!0});const r=i.get("session");if(r){const e=s.get(r.get("roomID"));if(e){const t=e.get("users");r.get("users").forEach((e=>{const n=t.get("user");!n||e.get("thumb")&&e.get("title")||e.set({thumb:e.get("thumb")||n.get("thumb"),title:e.get("title")||n.get("title")})}))}}},[b](e,t,n){const i=j(e),a=(0,y.$R)(e,t),o=a.get("sourceURI"),l=(0,f.Z)(a.toJSON()),{userIDs:d}=t,u=(0,r.DB)("watchTogetherRoomsManager").getRoomsClient();i.set({isInvitePending:!0,isInviteCompleted:!1,inviteError:null}),u.createRoom(o,l,d).then((e=>{(0,r.DB)("metrics").trackEvent({event:c.Iw,interaction:!0,properties:{itemCount:d.length+1,playbackSessionId:e}});const t=i.get("rooms").get(e);i.set({isInvitePending:!1,isInviteCompleted:!0}),t.set({isMetadataItemPending:!1,isMetadataItemPopulated:!0,metadataItem:a}),i.get("session")||n((0,g.ib)({watchTogetherRoomEntityID:t.entityID()}))})).catch((e=>{s.Z.warn("[Watch Together] An error occurred while creating a room:",e),i.set({isInvitePending:!1,inviteError:(0,m.Z)("Unable to send invite. Please try again.")})}))},[M](e,t){const n=j(e),i=(0,y.bT)(e,t),a=(0,r.DB)("watchTogetherRoomsManager").getRoomsClient();n.set({isInvitePending:!0,isInviteCompleted:!1,inviteError:null}),a.inviteUsers(i.get("id"),t.userIDs).then((()=>{n.set({isInvitePending:!1,isInviteCompleted:!0})})).catch((e=>{s.Z.warn("[Watch Together] An error occurred while inviting users:",e),n.set({isInvitePending:!1,inviteError:(0,m.Z)("Unable to send invite. Please try again.")})}))},[S](e){j(e).set({isInvitePending:!1,isInviteCompleted:!1,inviteError:null})},[E](e,t){const n=(0,y.bT)(e,t);if(n.get("isMetadataItemPopulated"))return;const i=n.get("sourceUri"),{key:s,serverIdentifier:r,providerIdentifier:c}=(0,p.Z)(i),g=(0,u.Z)({providerIdentifier:c,serverIdentifier:r}),f=function(e,t){const{key:n,providerIdentifier:i,serverIdentifier:s}=(0,p.Z)(t),r=e.get("entities").get(h.TY).findWhere((e=>{const t=null==e?void 0:e.get("model");return t&&t.server&&t.provider&&t.server.get("machineIdentifier")===s&&t.provider.get("identifier")===i&&t.get("key")===n}));return null==r?void 0:r.get("model")}(e,i);let I;if(n.set({isMetadataItemPending:!0,metadataItemError:null}),f)I=Promise.resolve(f);else{const t=e.get("servers").findWhere({machineIdentifier:r}),n=(null==t?void 0:t.get("isCloud"))?(0,y.VX)(e):t;I=n?(0,v.Z)((0,o.Z)(n.get("providers"),{identifier:c})).then((e=>{const n=new a.Z({key:s,source:g},{server:t,provider:e});return(0,v.Z)((0,l.Z)(n)).then((()=>n))})):Promise.reject(new Error("Cannot populate from unknown server"))}I.then((e=>{const t=!e.get("key")&&d.wB(c,[d.uk])?{isMetadataItemPending:!1,isMetadataItemPopulated:!1,metadataItemError:(0,m.Z)("This item is not available in your region.")}:{isMetadataItemPending:!1,isMetadataItemPopulated:!0,metadataItem:e};n.set(t)}),(e=>{const t=null==e?void 0:e.server,i=(null==t?void 0:t.get("isConnected"))||(null==t?void 0:t.get("isUnauthorized"))?(0,m.Z)("You don’t have access to this item. Ask the owner to share it with you."):(0,m.Z)("The server is unreachable.");n.set({isMetadataItemPending:!1,isMetadataItemPopulated:!1,metadataItemError:i})}))},[D](e,t){const n=(0,y.bT)(e,t);(0,r.DB)("watchTogetherRoomsManager").getRoomsClient().deleteRoom(n.get("id")).catch((e=>{s.Z.warn("[Watch Together] An error occurred while deleting a room:",e)}))}}},3568:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(22222),s=n(81017),r=n(757),a=n(50316),o=n(57358),l=n(72181);function c(){return(0,i.P1)((0,s.Z)(),a.Z,r.Z,o.Z,((e,t,n,i)=>(0,l.ZP)({server:t,provider:n,stableUser:i,metadataItem:e})))}},63210:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(22222),s=n(81017),r=n(757),a=n(50316),o=n(69881),l=n(52601),c=n(61478),d=n(6638);function u(){return(0,i.P1)(((e,{containerKey:t})=>t),((e,{containerTitle:t})=>t),((e,{metricsContext:t})=>t),(0,s.Z)(),a.Z,r.Z,(0,i.P1)((0,s.Z)(),(e=>{if(e&&!e.skipDetails&&!e.isExtra&&!e.radio&&e.type!==o.PHOTO&&e.type!==o.CLIP)return e.type===o.TRACK&&e.subtype!==c.PODCAST?e.skipParent?e.grandparentKey:e.parentKey:e.key})),((e,t,n,i={},s,r,a)=>{if(i.isFolder){const s=e.match(/(.*?)\/folder/)[1],r={key:`${s}/all`,typeKey:`${s}/folder`,folderKey:a,folderTitle:i.title,parentFolderKey:e,parentFolderTitle:t};return n&&(r.context=n),(0,l.Z)(r)}const c={};return n&&(c.context=n),i.type===o.PHOTO_ALBUM&&(c.legacy=1),(0,d.Z)(s,r,a,c,i.playlistType)}))}},53181:(e,t,n)=>{"use strict";function i(e){return e.ui.multiSelect}n.d(t,{Z:()=>i})},51021:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(22222),s=n(34082);const r=(0,i.P1)(s.Z,(e=>e?e.desktop.activities:[]));function a(e){return(0,i.P1)(r,(t=>t.filter((t=>t.type===e))))}},12272:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(45992);function r(){return(0,i.P1)(((e,{serverEntityID:t})=>t),s.Z,((e,t)=>!(!e||e!==t)))}},45992:(e,t,n)=>{"use strict";function i(e){return e.embeddedServer}n.d(t,{Z:()=>i})},34082:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(22222),s=n(72194),r=n(4524),a=n(45992);const o=(0,s.Z)((0,i.P1)(a.Z,r.Z,((e,t)=>t[e])),(e=>e))},71675:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(59468);function r(){return(0,i.P1)(((e,{columnAdjustment:t})=>t),s.Z,((e,t)=>e||t.columnAdjustment))}},3967:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(22222),s=n(77726);const r=(0,i.P1)(s.Z,(e=>e.dismissedUnclaimedServers))},67635:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(22222),s=n(89971);function r(e,t){const{playQueueItems:n,currentIndex:i}=e,s=t[n[i]];return s&&s.metadataItem}function a(){return(0,i.P1)((({ui:e})=>e.audioVideoPlayer&&e.audioVideoPlayer.playQueue),(({ui:e})=>e.photoPlayer&&e.photoPlayer.playQueue),((e,{metadataItemEntityID:t})=>t),s.Z,((e,t,n,i)=>{if(!n)return!1;let s,a;return e&&(s=r(e,i)),t&&(a=r(t,i)),s===n||a===n}))}},15041:(e,t,n)=>{"use strict";n.d(t,{I:()=>i,n:()=>s});const i="machineIdentifier",s="sectionID"},72936:(e,t,n)=>{"use strict";n.d(t,{yV:()=>i,vz:()=>s,Yz:()=>r,od:()=>a,ap:()=>o,uh:()=>l,pp:()=>c,ID:()=>d,xq:()=>u,XA:()=>p});const i="account",s="download-button",r="downloads-page",a="dvr-setup",o="lyrics",l="nav-bar",c="server-setup",d="sonos",u="users-and-sharing",p="webhooks"},64458:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(93966),s=n(15634),r=n(45399);const a=function(){const e=(0,i.DB)("appModel"),t=(0,s.Z)(e,r.Pv),n=e.get("deviceSettings").get("v4DirectoryEnabled"),a=e.get("user").get("experienceSettings").get("autoHomeHubsEnabled");return t&&n&&a}},2078:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(59756),s=n(45399),r=n(69881);function a(e,t,n,a){if(!(e&&t&&n&&a))return!1;const{type:o,hasInvalidKey:l,deletedAt:c,isFolder:d,isMetadataList:u,firstItemType:p,dvrChannel:m,onAir:h}=a;if(!u&&(l||c||d))return!1;if(!(m||u||t.protocols.stream||h))return!1;if(u&&!p)return!1;const g=!!n[s.Ks];if(t.protocols.livetv&&(e.livetv<4||!g))return!1;if(t.protocols.livetv&&!i.Z.allowLiveTVPlayback)return!1;if(t.features.playqueue)return!0;const y=u?p:o,v=(0,r.getLeafType)(y),f=(0,r.getChildType)(y);return y===v.typeString||f.id===v.id}},517:(e,t,n)=>{"use strict";n.d(t,{KC:()=>r.KC,en:()=>r.en,$R:()=>r.$R,lK:()=>r.lK,Tp:()=>r.Tp,js:()=>r.js,c_:()=>r.c_,Y7:()=>r.Y7,SW:()=>r.SW,bg:()=>r.bg,VX:()=>r.VX,bT:()=>r.bT,tz:()=>r.tz,lp:()=>r.lp,$w:()=>r.$w,dH:()=>a,cX:()=>o});var i=n(87048),s=n(15042),r=n(28440);function a(e,{homeUserEntityID:t}){return(0,i.Z)(e,s.Tl,t)}function o(e,{playerIdentifier:t}){const n=e.get("user").get("desktop").get("cloudCompanions");for(const e of n.models){const n=e.get("cloudPlayers").findWhere({playerIdentifier:t});if(n)return n}return e.get("companionServer").get("desktop").get("players").findWhere({playerIdentifier:t})}},2098:(e,t,n)=>{"use strict";var i,s,r,a,o,l,c,d,u,p,m,h,g;n.d(t,{H_:()=>s,Sr:()=>a,Pi:()=>l,fS:()=>d,PD:()=>p,IY:()=>h}),(i||(i={})).Filter="filter",(r=s||(s={})).String="string",r.Integer="integer",r.Boolean="boolean",(o=a||(a={})).Ascending="asc",o.Descending="desc",(c=l||(l={})).Year="year",c.Decade="decade",c.Duration="duration",c.Rating="rating",c.HDR="hdr",c.FleSize="fileSize",c.Bitrate="bitrate",(u=d||(d={})).Tag="tag",u.String="string",u.Integer="integer",u.Boolean="boolean",u.Date="date",u.SubtitleLanguage="subtitleLanguage",u.AudioLanguage="audioLanguage",u.Resolution="resolution",(m=p||(p={})).AddedAt="addedAt",m.AddedAtChannelTag="addedAtChannelTag",m.AddedAtGrandparentTitle="addedAtGrandparentTitle",m.AirsAt="airsAt",m.AttributionLogo="attributionLogo",m.ChildCount="childCount",m.ContentRating="contentRating",m.Duration="duration",m.EpisodeIdentifier="episodeIdentifier",m.GrandparentTitle="grandparentTitle",m.LastRatedAt="lastRatedAt",m.LastViewedAt="lastViewedAt",m.LeafCount="leafCount",m.MediaBitrate="mediaBitrate",m.OriginallyAvailableAt="originallyAvailableAt",m.OriginalTitle="originalTitle",m.ParentTitle="parentTitle",m.Rating="rating",m.SourceTitle="sourceTitle",m.Title="title",m.TitleAttributed="titleAttributed",m.UnviewedLeafCount="unviewedLeafCount",m.UserRating="userRating",m.VideoResolution="videoResolution",m.ViewCount="viewCount",m.ViewOffset="viewOffset",m.Year="year",(g=h||(h={})).Attribution="attribution",g.Avatar="avatar",g.Background="background",g.Banner="banner",g.Clear="clear",g.CoverArt="coverArt",g.CoverPoster="coverPoster",g.CoverSquare="coverSquare",g.Snapshot="snapshot"},39537:(e,t,n)=>{"use strict";var i,s,r,a,o,l,c,d,u,p,m,h,g,y,v,f,I,b,M,S,E;n.d(t,{pG:()=>i,A:()=>r,y_:()=>o,DD:()=>u,jx:()=>h,fw:()=>y}),(s=i||(i={})).Movie="movie",s.Show="show",s.Season="season",s.Episode="episode",s.Person="person",s.Artist="artist",s.Album="album",s.Track="track",s.Clip="clip",s.Photo="photo",s.Game="game",s.PhotoAlbum="photoalbum",s.Playlist="playlist",s.Collection="collection",s.Directory="directory",s.Channel="channel",s.Hub="hub",s.List="list",(a=r||(r={}))[a.Movie=1]="Movie",a[a.Show=2]="Show",a[a.Season=3]="Season",a[a.Episode=4]="Episode",a[a.Person=7]="Person",a[a.Artist=8]="Artist",a[a.Album=9]="Album",a[a.Track=10]="Track",a[a.Clip=12]="Clip",a[a.Photo=13]="Photo",a[a.PhotoAlbum=14]="PhotoAlbum",a[a.Playlist=15]="Playlist",a[a.Collection=18]="Collection",a[a.Game=19]="Game",(l=o||(o={})).Podcast="podcast",l.Webshow="webshow",l.News="news",l.Movie="movie",l.Show="show",l.Artist="artist",l.Album="album",l.Trailer="trailer",l.DeletedScene="deletedScene",l.Interview="interview",l.MusicVideo="musicVideo",l.BehindTheScenes="behindTheScenes",l.SceneOrSample="sceneOrSample",l.LiveMusicVideo="liveMusicVideo",l.LyricMusicVideo="lyricMusicVideo",l.Concert="concert",l.Featurette="featurette",l.Short="short",l.Other="other",l.Photo="photo",l.Clip="clip",(d=c||(c={}))[d.Trailer=1]="Trailer",d[d.DeletedScene=2]="DeletedScene",d[d.Interview=3]="Interview",d[d.MusicVideo=4]="MusicVideo",d[d.BehindTheScenes=5]="BehindTheScenes",d[d.SceneOrSample=6]="SceneOrSample",d[d.LiveMusicVideo=7]="LiveMusicVideo",d[d.LyricMusicVideo=8]="LyricMusicVideo",d[d.Concert=9]="Concert",d[d.Featurette=10]="Featurette",d[d.Short=11]="Short",d[d.Other=12]="Other",(p=u||(u={})).Video="video",p.Audio="audio",p.Photo="photo",p.Rom="rom",(m||(m={})).VMAP="vmap",(g=h||(h={}))[g.Video=1]="Video",g[g.Audio=2]="Audio",g[g.Subtitles=3]="Subtitles",g[g.Lyrics=4]="Lyrics",(v=y||(y={})).Video="videoStreamID",v.Audio="audioStreamID",v.Subtitles="subtitleStreamID",v.Lyrics="lyricStreamID",(I=f||(f={})).North="north",I.NorthEast="northeast",I.East="east",I.SouthEast="southeast",I.South="south",I.SouthWest="southwest",I.West="west",I.NorthWest="northwest",I.Center="center",(M=b||(b={})).Small="small",M.Medium="medium",M.Large="large",(E=S||(S={})).Absolute="absolute",E.Relative="relative"},1193:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(76403),s=n(5686),r=n(8183);const a=(0,i.oM)({name:"metadataItemState",initialState:{},reducers:{metadataItemStatesNormalized(e,{payload:t}){Object.assign(e,t.metadataItemStates)},playedStatusUpdateRequested(e,{payload:t}){const{sourceURI:n,played:i}=t,s=e[n];if(s){const{viewedLeafCount:e,unviewedLeafCount:t,viewCount:n,viewOffset:r,tempState:a}=s;a.viewedLeafCount=e,a.unviewedLeafCount=t,a.viewCount=n,a.viewOffset=r,null!=t&&null!=e?(s.viewedLeafCount=i?t+e:0,s.unviewedLeafCount=i?0:t+e):(s.viewCount=i?(s.viewCount||0)+1:0,s.viewOffset=0)}},playedStatusUpdateSucceeded(e,{payload:t}){const{sourceURI:n}=t,i=e[n];if(i){const{tempState:e}=i;e.viewedLeafCount=void 0,e.unviewedLeafCount=void 0,e.viewCount=void 0,e.viewOffset=void 0,i.isStale=!0}},playedStatusUpdateFailed(e,{payload:t}){const n=e[t.sourceURI];if(n){const{tempState:e}=n;n.viewedLeafCount=e.viewedLeafCount,e.viewedLeafCount=void 0,n.unviewedLeafCount=e.unviewedLeafCount,e.unviewedLeafCount=void 0,n.viewCount=e.viewCount,e.viewCount=void 0,n.viewOffset=e.viewOffset,e.viewOffset=void 0}},rateRequested(e,{payload:t}){const n=e[t.sourceURI];if(n){const{lastRatedAt:e,userRating:i,tempState:s}=n,r=-1===t.rating;s.lastRatedAt=e,s.userRating=i,n.lastRatedAt=r?void 0:Date.now(),n.userRating=r?void 0:t.rating}},rateSucceeded(e,{payload:t}){const n=e[t.sourceURI];if(n){const{tempState:e}=n;e.lastRatedAt=void 0,e.userRating=void 0}},rateFailed(e,{payload:t}){const n=e[t.sourceURI];if(n){const{tempState:e}=n;n.lastRatedAt=e.lastRatedAt,e.lastRatedAt=void 0,n.userRating=e.userRating,e.userRating=void 0}},toggleWatchlistRequested(e,{payload:t}){const n=e[t.sourceURI];if(n){const{watchlistedAt:e,tempState:i}=n;i.watchlistedAt=e,n.watchlistedAt=t.added?Date.now():void 0}},toggleWatchlistSucceeded(e,{payload:t}){const n=e[t.sourceURI];if(n){const{tempState:e}=n;e.watchlistedAt=void 0,n.isStale=!0}},toggleWatchlistFailed(e,{payload:t}){const n=e[t.sourceURI];if(n){const{tempState:e}=n;n.watchlistedAt=e.watchlistedAt,e.watchlistedAt=void 0}},toggleSavedRequested(e,{payload:t}){const n=e[t.sourceURI];if(n){const{saved:e,tempState:i}=n;i.saved=e,n.saved=t.saved}},toggleSavedSucceeded(e,{payload:t}){const n=e[t.sourceURI];if(n){const{tempState:e}=n;e.saved=void 0,n.isStale=!0}},toggleSavedFailed(e,{payload:t}){const n=e[t.sourceURI];if(n){const{tempState:e}=n;n.saved=e.saved,e.saved=void 0}},streamSelectRequested(e,t){},streamSelectSucceeded(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStale=!0)},streamSelectFailed(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStale=!0)},streamDeleteRequested(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStreamDeletePending=!0)},streamDeleteSucceeded(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStreamDeletePending=!1,n.isStale=!0)},streamDeleteFailed(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStreamDeletePending=!1)},metadataProcessed(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStale=!0)},fetchRequested(e,{payload:t}){var n;const i=null!=(n=e[t.sourceURI])?n:{tempState:{},isPending:!0,isPopulated:!1,error:null,isStale:!1};(0,r.er)(i),e[t.sourceURI]=i},fetchSucceeded(e,{payload:t}){const n=e[t.sourceURI];n&&(Object.assign(n,t.metadataItemState),(0,r.vv)(n))},fetchFailed(e,{payload:t}){const n=e[t.sourceURI];n&&(0,r.VQ)(n,t.error)},fetchCancelled(e,{payload:t}){const n=e[t.sourceURI];n&&(0,r.EA)(n)},repopulateRequested(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStale=!0)},repopulateCanceled(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStale=!1)},deleted(e,{payload:t}){const n=e[t.sourceURI];n&&(n.deletedAt=Date.now(),n.isDeleted=!0)},preferenceChanged(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStale=!0)},addToLibraryRequested(e,t){},removeFromContinueWatchingRequested(e,t){},removeFromContinueWatchingSucceeded(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStale=!0)}},extraReducers:e=>{e.addCase(s.Z.actions.added,((e,{payload:t})=>{Object.assign(e,t.metadataItemStates)})),e.addCase(s.Z.actions.fetchRangeSucceeded,((e,{payload:t})=>{Object.assign(e,t.data.metadataItemStates)})),e.addCase(s.Z.actions.fetchAllSucceeded,((e,{payload:t})=>{Object.assign(e,t.data.metadataItemStates)})),e.addCase(s.Z.actions.repopulateRangeSucceeded,((e,{payload:t})=>{Object.assign(e,t.data.metadataItemStates)}))}})},5686:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y,g:()=>g});var i=n(76403),s=n(54466),r=n(39537),a=n(41538),o=n(26636),l=n(87803),c=n(60679),d=n(20019),u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable;var h=Object.assign;const g=(0,s.Z)(((e,t)=>e[t.sourceURI]),(({server:e,provider:t,data:n})=>{var i,s,h,g,y;const v=null!=(i=null==n?void 0:n.MediaContainer)?i:{},{Metadata:f=[],Directory:I}=v,b=((e,t)=>{var n={};for(var i in e)u.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&p)for(var i of p(e))t.indexOf(i)<0&&m.call(e,i)&&(n[i]=e[i]);return n})(v,["Metadata","Directory"]),M=t?function(e,t){var n;const i=(0,l.Z)(e,o.zW.Content);if(i)return(null!=(n=null==i?void 0:i.directories)?n:[]).find((e=>!!e.id&&e.id===t))}(t,String(b.librarySectionID)):void 0;null==(h=null==(s=null==b?void 0:b.Meta)?void 0:s.Type)||h.forEach((e=>{e.type===a.U.Movie&&(null==M?void 0:M.agent)===o.Py.None&&null==e.subtype&&(e.subtype=r.y_.Clip)}));const{metadataItems:S,metadataItemStates:E}=(0,d.Z)({server:e,provider:t,data:null!=I?I:f,container:b});return{items:S,totalSize:null!=(g=null==b?void 0:b.totalSize)?g:0,size:null==b?void 0:b.size,offset:null!=(y=null==b?void 0:b.offset)?y:0,meta:(0,c.Z)(null==b?void 0:b.Meta),title:null==b?void 0:b.title,metadataItemStates:E}})),y=(0,i.oM)({name:"metadataLists",initialState:{},reducers:h(h({},g.reducers),{added(e,{payload:t}){t.metadataLists.forEach((t=>{e[t.sourceURI]=h(h({},g.getDefaultPaginatedState()),t)}))},throttledRepopulateRangeRequested(e,t){},throttledFetchAllRequested(e,t){}})})},41538:(e,t,n)=>{"use strict";var i,s,r,a;n.d(t,{U:()=>i,n:()=>r}),(s=i||(i={})).Album="album",s.Artist="artist",s.Channel="channel",s.Channels="channels",s.Content="content",s.Clip="clip",s.Collection="collection",s.Directory="directory",s.Episode="episode",s.Extra="extra",s.Folder="folder",s.Mixed="mixed",s.Movie="movie",s.MusicVideo="musicVideo",s.Person="person",s.Photo="photo",s.PhotoAlbum="photoAlbum",s.Playlist="playlist",s.Season="season",s.Show="show",s.Station="station",s.Track="track",(a=r||(r={})).Hero="hero",a.List="list",a.Shelf="shelf",a.Spotlight="spotlight",a.Upsell="upsell",a.WideShelf="wideShelf",a.Grid="grid",a.PrePlayGrid="prePlayGrid",a.Table="table",a.Details="details",a.SimpleDetails="simpleDetails",a.SharedItems="sharedItems",a.Folder="folder"},56724:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(39537),s=n(20272);const r=function(e){const t=(0,s.gQ)(i.pG).find((([,t])=>t===e));return t?i.pG[t[0]]:void 0}},26636:(e,t,n)=>{"use strict";var i,s,r,a,o,l,c,d,u,p,m,h,g,y;n.d(t,{rn:()=>i,zW:()=>r,wd:()=>o,rf:()=>c,F6:()=>u,GG:()=>m,Py:()=>g}),(s=i||(i={})).Download="download",s.LiveTV="livetv",s.Stream="stream",(a=r||(r={})).Action="action",a.Actions="actions",a.Content="content",a.ContinueWatching="continuewatching",a.Grid="grid",a.ImageTranscoder="imagetranscoder",a.Integrations="integrations",a.Lineups="lineups",a.Location="location",a.Manage="manage",a.Match="match",a.Metadata="metadata",a.Playlist="playlist",a.PlayQueue="playqueue",a.Promoted="promoted",a.QueryParser="queryParser",a.Rate="rate",a.Search="search",a.Settings="settings",a.Subscribe="subscribe",a.Timeline="timeline",a.Universal="universal",(l=o||(o={})).Download="download",l.Record="record",l.Universal="universal",(d=c||(c={})).AddToCatalog="addToCatalog",d.AddToWatchlist="addToWatchlist",d.Follow="follow",d.Mute="mute",d.Pick="pick",d.Rate="rate",d.RemoveFromContinueWatching="removeFromContinueWatching",d.Save="save",d.Scrobble="scrobble",(p=u||(u={})).Hub="hub",p.List="list",p.View="view",(h=m||(m={})).RecordingSchedule="view://dvr/recording-schedule",h.Guide="view://dvr/guide",h.Timeline="view://photo/timeline",h.SharedItems="view://shared-items",(y=g||(g={})).Freebase="com.plexapp.agents.freebase",y.IMDB="com.plexapp.agents.imdb",y.LastFM="com.plexapp.agents.lastfm",y.Lyricfind="com.plexapp.agents.lyricfind",y.None="com.plexapp.agents.none",y.PlexGame="tv.plex.agents.game",y.PlexMovie="tv.plex.agents.movie",y.PlexMusic="tv.plex.agents.music",y.PlexPremiumMusic="com.plexapp.agents.plexmusic",y.TheMovieDB="com.plexapp.agents.themoviedb",y.TheTVDB="com.plexapp.agents.thetvdb"},87803:(e,t,n)=>{"use strict";function i(e,t,n){return e.features.find((e=>e.type===t&&(!n||e.flavor===n)))}n.d(t,{Z:()=>i})},67145:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(17524),s=n(36535);function r(e){return i.wB((0,s.Z)(e.identifier,e.providerIdentifier),[i.vP,i.Ll])}},46905:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(67294);function s(){const[e,t]=(0,i.useState)(!1),n=(0,i.useCallback)((()=>t(!0)),[]),s=(0,i.useCallback)((()=>t(!1)),[]),r=(0,i.useCallback)((()=>t(!e)),[e]);return(0,i.useMemo)((()=>({isOpen:e,onOpen:n,onClose:s,onToggle:r})),[e,s,n,r])}},74309:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(67294),s=n(5977),r=n(47909);const a=function(){const e=(0,s.TH)().search;return(0,i.useMemo)((()=>{const{params:t}=r.Z.parseUri(e);return t}),[e])}},26021:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(73460),s=n(53274),r=Object.assign;const a=window.ResizeObserver||s.d,o=function(e){return(0,i.Z)(r({polyfill:a},e))}},54939:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(67294),s=n(4704);const r=Symbol("NO_VALUE"),a=function(e,t,n=500){const[a,o]=(0,i.useState)(r),l=(0,s.Z)(e),c=(0,i.useRef)(0);return e===t&&l!==t&&c.current++,(0,i.useEffect)((()=>{const e=window.setTimeout((()=>{o(r)}),n);return o(t),()=>{window.clearTimeout(e)}}),[c.current,t,n]),a===r?e:a}},73754:(e,t,n)=>{"use strict";n.d(t,{HE:()=>i,p8:()=>s,nM:()=>r,IT:()=>a});const i=12,s=200,r=400,a=200},2200:(e,t,n)=>{"use strict";n.d(t,{Zn:()=>c,VJ:()=>d,IF:()=>u,ZP:()=>p});var i=n(67294),s=n(69605);const r=Symbol(void 0),a=Symbol(void 0),o=[r,r,r],l=(0,i.createContext)({metricsPage:s.lz,metricsContextTuple:o});function c(){return(0,i.useContext)(l)}function d([e,t,n]){if(e!==r)return[e,t===r||t===a?"":t,n===r||n===a?"":n].join("~").replace(/~+$/,"")}function u([e,t,n]){if(e!==r)return{context:e,row:t===a||t===r?void 0:t,col:n===a||n===r?void 0:n}}function p({children:e,metricsPage:t,metricsContextParam:n,name:s,row:d=r,column:u=r}){const{metricsPage:p,metricsContextTuple:m}=c(),h=(0,i.useMemo)((()=>{const[e,i,l]=m;return n?function(e){if(!e)return o;const[t,n,i]=e.split("~");return t?[t,n?parseInt(n,10):a,i?parseInt(i,10):a]:o}(n):s?[`${p}:${s}`,d,u]:e!==r?[e,i===r?d:i,l===r?u:l]:t&&t!==p?m:void 0}),[u,m,n,p,t,s,d]),g=(0,i.useMemo)((()=>h?{metricsPage:t||p,metricsContextTuple:h}:void 0),[h,p,t]);return g?i.createElement(l.Provider,{value:g},e):e}},24974:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(22222),s=n(70617),r=n(44719);const a=(0,s.Z)((function(e){return t=>e===r.G.Photo?t.ui.photoPlayer:t.ui.audioVideoPlayer})),o=(0,s.Z)((function(e,t){return(0,i.P1)(a(e),(e=>e[t]))}))},31298:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(...e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}}},43322:(e,t,n)=>{"use strict";var i,s,r,a,o,l,c,d;n.d(t,{Ik:()=>i,dK:()=>r,GB:()=>o,A5:()=>c}),(s=i||(i={})).Pending="pending",s.Locked="locked",s.Unlocked="unlocked",(a=r||(r={})).Empty="",a.Unsubscribed="unsubscribed",a.Active="active",a.Error="error",a.Removed="removed",(l=o||(o={})).Active="active",l.Canceled="canceled",l.Ended="ended",l.Inactive="inactive",l.PendingCancellation="pending_cancellation",(d=c||(c={})).Arcade="arcade",d.PlexPass="plexpass",d.Tidal="tidal"},50468:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const i=["free"];function s(e,t){if(!t)return!0;const n=e.find((e=>e.id===t));return!(!n||n.subscriptionType&&i.includes(n.subscriptionType))}},84893:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){var t;return null==(t=e.Type)?void 0:t.find((e=>e.active))}},49560:(e,t,n)=>{"use strict";var i,s,r,a,o,l,c,d,u,p,m,h;n.d(t,{VD:()=>i,Lw:()=>r,pz:()=>o,MT:()=>c,qZ:()=>u,Tk:()=>m}),(s=i||(i={})).ArrowDown="ArrowDown",s.ArrowLeft="ArrowLeft",s.ArrowRight="ArrowRight",s.ArrowUp="ArrowUp",s.Enter="Enter",s.KeyA="KeyA",s.KeyC="KeyC",s.KeyD="KeyD",s.KeyF="KeyF",s.KeyG="KeyG",s.KeyH="KeyH",s.KeyI="KeyI",s.KeyJ="KeyJ",s.KeyK="KeyK",s.KeyL="KeyL",s.KeyQ="KeyQ",s.KeyR="KeyR",s.KeyS="KeyS",s.KeyW="KeyW",s.KeyX="KeyX",s.KeyT="KeyT",s.KeyZ="KeyZ",s.ShiftLeft="ShiftLeft",s.ShiftRight="ShiftRight",(a=r||(r={}))[a.Button0=0]="Button0",a[a.Button1=1]="Button1",a[a.Button2=2]="Button2",a[a.Button3=3]="Button3",a[a.Button4=4]="Button4",a[a.Button5=5]="Button5",a[a.Button6=6]="Button6",a[a.Button7=7]="Button7",a[a.Button8=8]="Button8",a[a.Button9=9]="Button9",a[a.Button10=10]="Button10",a[a.Button11=11]="Button11",a[a.Button12=12]="Button12",a[a.Button13=13]="Button13",a[a.Button14=14]="Button14",a[a.Button15=15]="Button15",a[a.Button16=16]="Button16",a[a.Button17=17]="Button17",(l=o||(o={}))[l.Axis0=0]="Axis0",l[l.Axis1=1]="Axis1",l[l.Axis2=2]="Axis2",l[l.Axis3=3]="Axis3",(d=c||(c={}))[d.None=0]="None",d[d.Keyboard=1]="Keyboard",d[d.Gamepad=2]="Gamepad",(p=u||(u={}))[p.Ok=0]="Ok",p[p.UnknownFailure=8e3]="UnknownFailure",p[p.AccountLinkageMissing=8001]="AccountLinkageMissing",p[p.PlatformMissing=8002]="PlatformMissing",p[p.PlatformCoreMappingMissing=8003]="PlatformCoreMappingMissing",p[p.PlatformCoreMissing=8004]="PlatformCoreMissing",p[p.TranscoderDied=8005]="TranscoderDied",p[p.InvalidCoreMappingFile=8006]="InvalidCoreMappingFile",p[p.MissingCoreMappingFile=8007]="MissingCoreMappingFile",p[p.SessionPeerNeverShowedUp=8008]="SessionPeerNeverShowedUp",p[p.TranscoderDownloading=8009]="TranscoderDownloading",p[p.PlatformCoreDownloading=8010]="PlatformCoreDownloading",p[p.PlatformCoreMappingFileMissingOrInvalid=8011]="PlatformCoreMappingFileMissingOrInvalid",p[p.RomMissing=8012]="RomMissing",p[p.SubscriptionRequired=8013]="SubscriptionRequired",(h=m||(m={}))[h.PauseGame=1]="PauseGame",h[h.ResumeGame=2]="ResumeGame"},44719:(e,t,n)=>{"use strict";var i,s,r,a;n.d(t,{G:()=>r}),(s=i||(i={})).BottomLeft="bottom-left",s.TopLeft="top-left",s.None="none",(a=r||(r={})).AudioVideo="audioVideo",a.Photo="photo",a.Rom="rom"},8824:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(2262);function s(e,t){var n;let i=!1;for(let s=0;s<e.length;s++){const r=e[s];let a=null!=(n=r.value)?n:r;Math.abs(a)<.06&&(a=0);const o=t.values.get(s),l=o||a;a!==o&&l?(i=!0,t.values.set(s,a),t.changed.add(s)):t.changed.delete(s)}return i}function r(e){if(!i.Z.hasGamepads)return()=>{};const t=new Map,n=()=>{r=window.requestAnimationFrame(n);for(const n of window.navigator.getGamepads()){if(!(null==n?void 0:n.connected))continue;let i=t.get(n.index);if(i||t.set(n.index,i={axes:{changed:new Set,values:new Map},buttons:{changed:new Set,values:new Map},timestamp:0}),i.timestamp!==n.timestamp){const t=s(n.axes,i.axes),r=s(n.buttons,i.buttons);i.timestamp=n.timestamp,(t||r)&&e(n,i.axes,i.buttons)}}};let r=window.requestAnimationFrame(n);return()=>{t.clear(),window.cancelAnimationFrame(r)}}},63676:(e,t,n)=>{"use strict";function i(e,t){const n=new Set;function i(i){if(null==t?void 0:t(i))return;if(i.metaKey||i.ctrlKey||(i.stopImmediatePropagation(),i.preventDefault()),i.repeat)return;const s="keydown"===i.type;s?n.add(i.code):n.delete(i.code),e(i.code,s,n)}return window.addEventListener("keydown",i,!0),window.addEventListener("keyup",i,!0),()=>{window.removeEventListener("keydown",i,!0),window.removeEventListener("keyup",i,!0)}}n.d(t,{Z:()=>i})},14540:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(93966),s=n(84734);function r(){const e=(0,i.DB)("appModel").get("deviceSettings").get("debugLevel");return e===s.Z.ENABLED||e===s.Z.VERBOSE}},61201:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=(0,n(90071).q_)({hashType:"hashbang"})},97189:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(5977),s=n(61201),r=n(36996);const a=function(e,t={},n=!1){const a=r.Z[e],o=(0,i.Gn)(Array.isArray(a)?a[0]:a,t);n?s.Z.replace(o):s.Z.push(o)}},36996:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={account:"/settings/account",accountPlexTv:"/account",announcements:"/announcements",devices:"/settings/devices/:deviceTypeID?",downloads:"/downloads",firstRunExperience:"/client-setup",home:["","/dashboard"],info:"/info",login:"/login",logout:"/logout",logs:"/logs",media:"/media/:machineIdentifier?/:providerIdentifier",mediaGuideV3:"/media/:machineIdentifier?/:providerIdentifier/guide",mediaRecordingScheduleV3:"/media/:machineIdentifier?/:providerIdentifier/schedule",mediaTimelineV3:"/media/:machineIdentifier?/:providerIdentifier/timeline",onlineMediaSources:"/settings/online-media-sources",playHistory:"/server/:machineIdentifier/playHistory",playlist:["/server/:machineIdentifier/playlist","/server/:machineIdentifier/album","/server/:machineIdentifier/provider/:providerIdentifier/playlist","/server/:machineIdentifier/provider/:providerIdentifier/album","/provider/:providerIdentifier/playlist"],prePlay:["/server/:machineIdentifier/details","/server/:machineIdentifier/provider/:providerIdentifier/details","/provider/:providerIdentifier/details"],providerSettings:"/provider/:providerIdentifier/settings",search:"/search",serverDownloadMessage:"/get-plex-media-server",serverSettingsStatusSync:"/settings/server/:machineIdentifier/status/sync/:deviceID?",serverSettings:"/settings/server/:machineIdentifier/:settingsSection/:settingsGroup",serverSettingsPMS:"/settings/server/:machineIdentifier",serverSetup:"/setup/:machineIdentifier?",serverUpdate:"/server/:machineIdentifier/update",signUp:"/signUp",transientPrePlay:"/transient/provider/:providerIdentifier/details",userSharingSettings:"/settings/users-sharing/:userID",usersSharing:"/settings/users-sharing",watchNow:"/provider/:providerIdentifier/watch-now",webhooks:"/settings/webhooks",webSettings:"/settings/web/:settingsSubset?"}},38204:(e,t,n)=>{"use strict";var i,s;n.d(t,{Z:()=>r}),(s=i||(i={})).Unidentified="Unidentified",s.Alt="Alt",s.AltGraph="AltGraph",s.CapsLock="CapsLock",s.Control="Control",s.Fn="Fn",s.FnLock="FnLock",s.Hyper="Hyper",s.Meta="Meta",s.NumLock="NumLock",s.ScrollLock="ScrollLock",s.Shift="Shift",s.Super="Super",s.Symbol="Symbol",s.SymbolLock="SymbolLock",s.Enter="Enter",s.Tab="Tab",s.ArrowDown="ArrowDown",s.ArrowLeft="ArrowLeft",s.ArrowRight="ArrowRight",s.ArrowUp="ArrowUp",s.End="End",s.Home="Home",s.PageDown="PageDown",s.PageUp="PageUp",s.Backspace="Backspace",s.Clear="Clear",s.Copy="Copy",s.CrSel="CrSel",s.Cut="Cut",s.Delete="Delete",s.EraseEof="EraseEof",s.ExSel="ExSel",s.Insert="Insert",s.Paste="Paste",s.Redo="Redo",s.Undo="Undo",s.Accept="Accept",s.Again="Again",s.Attn="Attn",s.Cancel="Cancel",s.ContextMenu="ContextMenu",s.Escape="Escape",s.Execute="Execute",s.Find="Find",s.Finish="Finish",s.Help="Help",s.Pause="Pause",s.Play="Play",s.Props="Props",s.Select="Select",s.ZoomIn="ZoomIn",s.ZoomOut="ZoomOut",s.BrightnessDown="BrightnessDown",s.BrightnessUp="BrightnessUp",s.Eject="Eject",s.LogOff="LogOff",s.Power="Power",s.PowerOff="PowerOff",s.PrintScreen="PrintScreen",s.Hibernate="Hibernate",s.Standby="Standby",s.WakeUp="WakeUp",s.AllCandidates="AllCandidates",s.Alphanumeric="Alphanumeric",s.CodeInput="CodeInput",s.Compose="Compose",s.Convert="Convert",s.Dead="Dead",s.FinalMode="FinalMode",s.GroupFirst="GroupFirst",s.GroupLast="GroupLast",s.GroupNext="GroupNext",s.GroupPrevious="GroupPrevious",s.ModeChange="ModeChange",s.NextCandidate="NextCandidate",s.NonConvert="NonConvert",s.PreviousCandidate="PreviousCandidate",s.Process="Process",s.SingleCandidate="SingleCandidate",s.HangulMode="HangulMode",s.HanjaMode="HanjaMode",s.JunjaMode="JunjaMode",s.Eisu="Eisu",s.Hankaku="Hankaku",s.Hiragana="Hiragana",s.HiraganaKatakana="HiraganaKatakana",s.KanaMode="KanaMode",s.KanjiMode="KanjiMode",s.Katakana="Katakana",s.Romaji="Romaji",s.Zenkaku="Zenkaku",s.ZenkakuHanaku="ZenkakuHanaku",s.F1="F1",s.F2="F2",s.F3="F3",s.F4="F4",s.F5="F5",s.F6="F6",s.F7="F7",s.F8="F8",s.F9="F9",s.F10="F10",s.F11="F11",s.F12="F12",s.F13="F13",s.F14="F14",s.F15="F15",s.F16="F16",s.F17="F17",s.F18="F18",s.F19="F19",s.F20="F20",s.Soft1="Soft1",s.Soft2="Soft2",s.Soft3="Soft3",s.Soft4="Soft4",s.AppSwitch="AppSwitch",s.Call="Call",s.Camera="Camera",s.CameraFocus="CameraFocus",s.EndCall="EndCall",s.GoBack="GoBack",s.GoHome="GoHome",s.HeadsetHook="HeadsetHook",s.LastNumberRedial="LastNumberRedial",s.Notification="Notification",s.MannerMode="MannerMode",s.VoiceDial="VoiceDial",s.ChannelDown="ChannelDown",s.ChannelUp="ChannelUp",s.MediaFastForward="MediaFastForward",s.MediaPause="MediaPause",s.MediaPlay="MediaPlay",s.MediaPlayPause="MediaPlayPause",s.MediaRecord="MediaRecord",s.MediaRewind="MediaRewind",s.MediaStop="MediaStop",s.MediaTrackNext="MediaTrackNext",s.MediaTrackPrevious="MediaTrackPrevious",s.AudioBalanceLeft="AudioBalanceLeft",s.AudioBalanceRight="AudioBalanceRight",s.AudioBassDown="AudioBassDown",s.AudioBassBoostDown="AudioBassBoostDown",s.AudioBassBoostToggle="AudioBassBoostToggle",s.AudioBassBoostUp="AudioBassBoostUp",s.AudioBassUp="AudioBassUp",s.AudioFaderFront="AudioFaderFront",s.AudioFaderRear="AudioFaderRear",s.AudioSurroundModeNext="AudioSurroundModeNext",s.AudioTrebleDown="AudioTrebleDown",s.AudioTrebleUp="AudioTrebleUp",s.AudioVolumeDown="AudioVolumeDown",s.AudioVolumeMute="AudioVolumeMute",s.AudioVolumeUp="AudioVolumeUp",s.MicrophoneToggle="MicrophoneToggle",s.MicrophoneVolumeDown="MicrophoneVolumeDown",s.MicrophoneVolumeMute="MicrophoneVolumeMute",s.MicrophoneVolumeUp="MicrophoneVolumeUp",s.TV="TV",s.TV3DMode="TV3DMode",s.TVAntennaCable="TVAntennaCable",s.TVAudioDescription="TVAudioDescription",s.TVAudioDescriptionMixDown="TVAudioDescriptionMixDown",s.TVAudioDescriptionMixUp="TVAudioDescriptionMixUp",s.TVContentsMenu="TVContentsMenu",s.TVDataService="TVDataService",s.TVInput="TVInput",s.TVInputComponent1="TVInputComponent1",s.TVInputComponent2="TVInputComponent2",s.TVInputComposite1="TVInputComposite1",s.TVInputComposite2="TVInputComposite2",s.TVInputHDMI1="TVInputHDMI1",s.TVInputHDMI2="TVInputHDMI2",s.TVInputHDMI3="TVInputHDMI3",s.TVInputHDMI4="TVInputHDMI4",s.TVInputVGA1="TVInputVGA1",s.TVMediaContext="TVMediaContext",s.TVNetwork="TVNetwork",s.TVNumberEntry="TVNumberEntry",s.TVPower="TVPower",s.TVRadioService="TVRadioService",s.TVSatellite="TVSatellite",s.TVSatelliteBS="TVSatelliteBS",s.TVSatelliteCS="TVSatelliteCS",s.TVSatelliteToggle="TVSatelliteToggle",s.TVTerrestrialAnalog="TVTerrestrialAnalog",s.TVTerrestrialDigital="TVTerrestrialDigital",s.TVTimer="TVTimer",s.AVRInput="AVRInput",s.AVRPower="AVRPower",s.ColorF0Red="ColorF0Red",s.ColorF1Green="ColorF1Green",s.ColorF2Yellow="ColorF2Yellow",s.ColorF3Blue="ColorF3Blue",s.ColorF4Grey="ColorF4Grey",s.ColorF5Brown="ColorF5Brown",s.ClosedCaptionToggle="ClosedCaptionToggle",s.Dimmer="Dimmer",s.DisplaySwap="DisplaySwap",s.DVR="DVR",s.Exit="Exit",s.FavoriteClear0="FavoriteClear0",s.FavoriteClear1="FavoriteClear1",s.FavoriteClear2="FavoriteClear2",s.FavoriteClear3="FavoriteClear3",s.FavoriteRecall0="FavoriteRecall0",s.FavoriteRecall1="FavoriteRecall1",s.FavoriteRecall2="FavoriteRecall2",s.FavoriteRecall3="FavoriteRecall3",s.FavoriteStore0="FavoriteStore0",s.FavoriteStore1="FavoriteStore1",s.FavoriteStore2="FavoriteStore2",s.FavoriteStore3="FavoriteStore3",s.Guide="Guide",s.GuideNextDay="GuideNextDay",s.GuidePreviousDay="GuidePreviousDay",s.Info="Info",s.InstantReplay="InstantReplay",s.Link="Link",s.ListProgram="ListProgram",s.LiveContent="LiveContent",s.Lock="Lock",s.MediaApps="MediaApps",s.MediaAudioTrack="MediaAudioTrack",s.MediaLast="MediaLast",s.MediaSkipBackward="MediaSkipBackward",s.MediaSkipForward="MediaSkipForward",s.MediaStepBackward="MediaStepBackward",s.MediaStepForward="MediaStepForward",s.MediaTopMenu="MediaTopMenu",s.NavigateIn="NavigateIn",s.NavigateNext="NavigateNext",s.NavigateOut="NavigateOut",s.NavigatePrevious="NavigatePrevious",s.NextFavoriteChannel="NextFavoriteChannel",s.NextUserProfile="NextUserProfile",s.OnDemand="OnDemand",s.Pairing="Pairing",s.PinPDown="PinPDown",s.PinPMove="PinPMove",s.PinPToggle="PinPToggle",s.PinPUp="PinPUp",s.PlaySpeedDown="PlaySpeedDown",s.PlaySpeedReset="PlaySpeedReset",s.PlaySpeedUp="PlaySpeedUp",s.RandomToggle="RandomToggle",s.RcLowBattery="RcLowBattery",s.RecordSpeedNext="RecordSpeedNext",s.RfBypass="RfBypass",s.ScanChannelsToggle="ScanChannelsToggle",s.ScreenModeNext="ScreenModeNext",s.Settings="Settings",s.SplitScreenToggle="SplitScreenToggle",s.STBInput="STBInput",s.STBPower="STBPower",s.Subtitle="Subtitle",s.Teletext="Teletext",s.VideoModeNext="VideoModeNext",s.Wink="Wink",s.ZoomToggle="ZoomToggle",s.SpeechCorrectionList="SpeechCorrectionList",s.SpeechInputToggle="SpeechInputToggle",s.Close="Close",s.New="New",s.Open="Open",s.Print="Print",s.Save="Save",s.SpellCheck="SpellCheck",s.MailForward="MailForward",s.MailReply="MailReply",s.MailSend="MailSend",s.LaunchCalculator="LaunchCalculator",s.LaunchCalendar="LaunchCalendar",s.LaunchContacts="LaunchContacts",s.LaunchMail="LaunchMail",s.LaunchMediaPlayer="LaunchMediaPlayer",s.LaunchMusicPlayer="LaunchMusicPlayer",s.LaunchMyComputer="LaunchMyComputer",s.LaunchPhone="LaunchPhone",s.LaunchScreenSaver="LaunchScreenSaver",s.LaunchSpreadsheet="LaunchSpreadsheet",s.LaunchWebBrowser="LaunchWebBrowser",s.LaunchWebCam="LaunchWebCam",s.LaunchWordProcessor="LaunchWordProcessor",s.LaunchApplication1="LaunchApplication1",s.LaunchApplication2="LaunchApplication2",s.LaunchApplication3="LaunchApplication3",s.LaunchApplication4="LaunchApplication4",s.LaunchApplication5="LaunchApplication5",s.LaunchApplication6="LaunchApplication6",s.LaunchApplication7="LaunchApplication7",s.LaunchApplication8="LaunchApplication8",s.LaunchApplication9="LaunchApplication9",s.LaunchApplication10="LaunchApplication10",s.LaunchApplication11="LaunchApplication11",s.LaunchApplication12="LaunchApplication12",s.LaunchApplication13="LaunchApplication13",s.LaunchApplication14="LaunchApplication14",s.LaunchApplication15="LaunchApplication15",s.LaunchApplication16="LaunchApplication16",s.BrowserBack="BrowserBack",s.BrowserFavorites="BrowserFavorites",s.BrowserForward="BrowserForward",s.BrowserHome="BrowserHome",s.BrowserRefresh="BrowserRefresh",s.BrowserSearch="BrowserSearch",s.BrowserStop="BrowserStop",s.Decimal="Decimal",s.Key11="Key11",s.Key12="Key12",s.Multiply="Multiply",s.Add="Add",s.Divide="Divide",s.Subtract="Subtract",s.Separator="Separator";const r=i},20272:(e,t,n)=>{"use strict";n.d(t,{_2:()=>i,su:()=>s,gQ:()=>r});const i=Object.keys,s=Object.values,r=Object.entries},89571:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var i=n(9669),s=n.n(i),r=n(80129),a=n.n(r),o=n(34857),l=n(69434),c=n(47909),d=n(39670),u=n(17798),p=n(96242),m=n(55605),h=Object.prototype.hasOwnProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.propertyIsEnumerable,v=Object.assign;function f(e){if(!e)return e;const{"X-Plex-Username":t,"X-Plex-Device-Name":n}=e;return((e,t)=>{var n={};for(var i in e)h.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&g)for(var i of g(e))t.indexOf(i)<0&&y.call(e,i)&&(n[i]=e[i]);return n})(e,["X-Plex-Username","X-Plex-Device-Name"])}var I=Object.assign;const b={PUT:!0,DELETE:!0},M={Accept:!0,"Accept-Language":!0,"Content-Language":!0,"Content-Type":!0},S=/(^X-Plex-[^=]+)/i;var E=Object.prototype.hasOwnProperty,D=Object.getOwnPropertySymbols,C=Object.prototype.propertyIsEnumerable,P=Object.assign;const w=function(e){const t=P({},e);function*n(e,n){const{server:i,provider:r,timeout:p=t.timeout,allowHeadersInUrl:h=!(!i&&!r)}=n,g=((e,t)=>{var n={};for(var i in e)E.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&D)for(var i of D(e))t.indexOf(i)<0&&C.call(e,i)&&(n[i]=e[i]);return n})(n,["server","provider","timeout","allowHeadersInUrl"]),y=d.Z.hasInstance()?d.Z.getInstance():{},w=P(P({},y),n.headers);let T=e;if(i){if(!(0,m.Z)(e)){const t=(null==r?void 0:r.baseURL)?r.baseURL:i.uri;if(!t)throw new Error("Unable to make a request to a relative path without `server.uri` or `baseURL`");T=c.Z.join([t,e])}i.accessToken&&(w["X-Plex-Token"]=i.accessToken),i.isEmbedded&&(w["X-Plex-Account-ID"]="1"),r&&(w["X-Plex-Provider-Version"]=t.providerVersion,w["X-Plex-Text-Format"]=(0,u.Z)(r.identifier),t.drmType&&(w["X-Plex-Drm"]=t.drmType))}t.language&&(w["X-Plex-Language"]=t.language,w["Accept-Language"]=t.language);const Z=s().CancelToken.source();let N=P(P({},g),{url:T,cancelToken:Z?Z.token:void 0,headers:w,timeout:p,allowHeadersInUrl:h,paramsSerializer:e=>a().stringify(e,{arrayFormat:"repeat"})});(null==i?void 0:i.isCloud)&&r&&(N=function(e){return v(v({},e),{headers:f(e.headers)})}(N)),N=function(e){const{method:t="GET",headers:n={},params:i={},allowHeadersInUrl:s=!1,allowBlacklistedMethodHeaders:r=!1}=e;if(!s)return e;if(b[t]&&!r)return e;const a=I({},n),o=I({},i);return Object.keys(n).forEach((e=>{const t=n[e];M[e]||(S.test(e)?(o[e]=t,delete a[e]):l.Z.warn('[CORS] Did not move header "%s" to query string. This can result in an unnecessary OPTIONS preflight request.',e))})),I(I({},e),{headers:a,params:o})}(N);try{return yield(0,o.RE)(s().request,N)}finally{(yield(0,o.By)())&&(null==Z||Z.cancel())}}return{get:(e,t={})=>n(e,P(P({},t),{method:"GET"})),post:(e,t={},i)=>n(e,P(P({},t),{method:"POST",data:i})),put:(e,t={},i)=>n(e,P(P({},t),{method:"PUT",data:i})),del:(e,t={})=>n(e,P(P({},t),{method:"DELETE"})),setOption(e,n){t[e]=n},toPlainErrorObject(e){let t,n;(function(e){return e.isAxiosError})(e)&&(e.response?(t=e.response.status,n=e.response.data):e.request&&(t=e.request.status));const i={message:e.message,name:e.name,stack:e.stack,status:t,data:n};return l.Z.error(i),i}}}({timeout:3e4,language:"en",drmType:p.NONE,providerVersion:"3.2"})},8183:(e,t,n)=>{"use strict";function i(e){e.isPending=!0,e.error=null}function s(e){e.isPending=!1,e.isPopulated=!0}function r(e,t){e.isPending=!1,e.error=t}function a(e){e.isPending=!1,e.error=null}n.d(t,{er:()=>i,vv:()=>s,VQ:()=>r,EA:()=>a})},60679:(e,t,n)=>{"use strict";n.d(t,{P:()=>l,Z:()=>c});var i=n(2098),s=n(39537),r=n(41538),a=n(56724),o=n(84893);function l(e,t){switch(t){case s.y_.News:switch(e){case r.U.Clip:return[i.PD.Title,i.PD.AddedAtChannelTag]}break;case s.y_.Podcast:switch(e){case r.U.Show:return[i.PD.Title];case r.U.Track:return[i.PD.Title,i.PD.GrandparentTitle]}break;case s.y_.Webshow:switch(e){case r.U.Show:return[i.PD.Title];case r.U.Episode:return[i.PD.Title,i.PD.AddedAtGrandparentTitle]}}switch(e){case r.U.Movie:return[i.PD.Title,i.PD.Year];case r.U.Show:return[i.PD.Title,i.PD.ChildCount];case r.U.Season:return[i.PD.ParentTitle,i.PD.Title];case r.U.Episode:return[i.PD.GrandparentTitle,i.PD.Title,i.PD.EpisodeIdentifier];case r.U.Artist:return[i.PD.Title];case r.U.Album:return[i.PD.ParentTitle,i.PD.TitleAttributed];case r.U.Track:return[i.PD.GrandparentTitle,i.PD.Title];case r.U.Photo:case r.U.PhotoAlbum:case r.U.Clip:return[i.PD.Title];case r.U.Playlist:return[i.PD.Title,i.PD.Duration];case r.U.Collection:return[i.PD.Title,i.PD.ChildCount];case r.U.Channels:return[i.PD.Title,i.PD.AirsAt]}return[i.PD.Title]}const c=function(e){var t;if(!e)return;if(e.DisplayFields)return e;const n=(0,o.Z)(e);if(!n)return e;const s=null==(t=n.Sort)?void 0:t.find((e=>e.active));if(!s)return e;const r=(0,a.Z)(n.type);if(!r)return e;const c=l(n.type,n.subtype),d=function(e,t){switch(e.key){case"addedAt":return[i.PD.AddedAt];case"audienceRating":return[i.PD.Rating];case"beginsAt":return[i.PD.AirsAt];case"contentRating":return[i.PD.ContentRating];case"duration":return[i.PD.Duration];case"lastRatedAt":return[i.PD.LastRatedAt];case"lastViewedAt":return[i.PD.LastViewedAt];case"mediaBitrate":return[i.PD.MediaBitrate];case"mediaCount":return[i.PD.LeafCount];case"mediaHeight":return[i.PD.VideoResolution];case"originallyAvailableAt":return[i.PD.OriginallyAvailableAt];case"rating":return[i.PD.Rating];case"unviewedLeafCount":return[i.PD.UnviewedLeafCount];case"userRating":return[i.PD.UserRating];case"viewCount":return[i.PD.ViewCount];case"viewOffset":return[i.PD.ViewOffset];case"year":return[i.PD.Year]}return[]}(s);return e.DisplayFields=[{type:r,subtype:n.subtype,fields:Array.from(new Set([...c,...d]))}],e}},54466:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(34857),s=n(73754),r=n(89571),a=n(8183);function o(e,t){const n={items:[],totalSize:void 0,isPending:!1,isPopulated:!1,error:null};return{getDefaultPaginatedState:()=>n,getRepopulateRangeOptions(e){const t=Math.max(e.findIndex((e=>null!=e)),0);return{startIndex:t,size:e.length-t}},fetchAll:function*(e,n){const{server:s,provider:a,params:o}=n,l=yield(0,i.RE)(r.Z.get,e,{server:s,provider:a,params:o}),c=t?t({server:s,provider:a,data:l.data}):l.data;return yield c},fetchRange:function*(e,n){const{server:a,provider:o,params:l,startIndex:c,size:d,isPrepend:u}=n,p=a.isCloud?s.p8:s.nM,m=Math.max(Math.min(d,p),0),h=u?Math.max(c-m+1,0):c,g=yield(0,i.RE)(r.Z.get,e,{server:a,provider:o,params:l,headers:{"X-Plex-Container-Start":String(h),"X-Plex-Container-Size":String(m)}}),y=t?t({server:a,provider:o,data:g.data}):g.data;return yield y},reducers:{reset(t,{payload:i}){const s=e(t,i);Object.assign(s,n)},fetchAllRequested(t,{payload:n}){const i=e(t,n);(0,a.er)(i)},fetchAllSucceeded(t,{payload:n}){const i=e(t,n),{items:s,size:r}=n.data;(0,a.vv)(i),i.totalSize=r,i.items=s},fetchAllFailed(t,{payload:n}){const i=e(t,n);(0,a.VQ)(i,n.error)},fetchRangeRequested(t,{payload:n}){const i=e(t,n);(0,a.er)(i)},fetchRangeSucceeded(t,{payload:n}){const i=e(t,n),{items:s,totalSize:r,offset:o}=n.data;(0,a.vv)(i),i.totalSize=r;for(let e=0;e<s.length;e++)i.items[e+o]=s[e]},fetchRangeFailed(t,{payload:n}){const i=e(t,n);(0,a.VQ)(i,n.error)},repopulateRangeRequested(t,{payload:n}){const i=e(t,n);(0,a.er)(i)},repopulateRangeSucceeded(t,{payload:n}){const i=e(t,n),{items:s,totalSize:r,offset:o}=n.data;(0,a.vv)(i),i.items=[],i.totalSize=r;for(let e=0;e<s.length;e++)i.items[e+o]=s[e]},repopulateRangeFailed(t,{payload:n}){const i=e(t,n);(0,a.VQ)(i,n.error)}}}}},82150:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(50361),s=n.n(i),r=n(47909),a=n(76249),o=n(46453),l=n(48523),c=n(86953),d=n(39537),u=(n(67145),n(2098));function p(e,t){var n;if(e.Image=null!=(n=e.Image)?n:[],e.Image.find((e=>e.type===t)))return;const i=function(e,t){var n,i,s,r;switch(t){case u.IY.CoverArt:switch(e.type){case d.pG.Season:return null!=(n=e.parentArt)?n:e.art;case d.pG.Episode:return null!=(s=null!=(i=e.grandparentArt)?i:e.parentArt)?s:e.thumb;default:return e.art}case u.IY.CoverPoster:switch(e.type){case d.pG.Season:return null!=(r=e.parentTheme)?r:e.thumb;case d.pG.Episode:return e.grandparentThumb;default:return e.thumb}}}(e,t);i&&e.Image.push({alt:e.title,type:t,url:i})}var m=n(20019),h=n(65661);function g({server:e,provider:t,data:n,container:i}){var y,v,f,I,b,M,S,E,D,C,P;let w=s()(n);if(w.Context&&(Object.assign(w,w.Context),delete w.Context),w.type===d.pG.Channel&&w.Metadata){const e={id:w.id,thumb:w.thumb,title:w.title};w=s()(w.Metadata),w.liveTVChannel=e}null!=w.allowSync||(0,h.JG)(i,w,"allowSync"),null!=w.attribution||(0,h.JG)(i,w,"attribution"),null!=w.librarySectionID||(0,h.JG)(i,w,"librarySectionID"),null!=w.librarySectionTitle||(0,h.JG)(i,w,"librarySectionTitle"),null!=w.librarySectionUUID||(0,h.JG)(i,w,"librarySectionUUID"),null==i.augmentationKey||(0,l.Z)(e.version,a.Z.augmentedHubsInRelatedHubs)||(0,h.JG)(i,w,"augmentationKey");const T=/(.*)\/(children|items)$/.exec(w.key);T&&(w.childrenKey=r.Z.join(w.skipChildren?w.key.replace("/children","/grandchildren"):w.key,{excludeAllLeaves:1}),w.key=T[1]),(0,h.Dq)(w,"librarySectionID"),(0,h.dL)(w,"extraType");const Z=w.source||(0,c.Z)({serverIdentifier:e.machineIdentifier,providerIdentifier:null==t?void 0:t.identifier});w.source=Z,w.sourceURI=`${Z}${w.key}`,null==w.userState&&(w.userState=!0),w.isPlaylist=w.type===d.pG.Playlist&&!w.radio,w.isLiveTVChannel=!!w.liveTVChannel,w.isExtra=null!=w.extraType,w.isFolder=/\/folder\?parent=/.test(w.key),w.type===d.pG.Photo&&w.childrenKey&&(w.type=d.pG.PhotoAlbum),w.type===d.pG.Clip&&(null==(y=w.guid)?void 0:y.startsWith(`${o.Hn}://`))&&!w.subtype&&(w.subtype=d.y_.Photo),w.type===d.pG.Movie&&(null==(v=w.guid)?void 0:v.startsWith(`${o.Hn}://`))&&!w.subtype&&(w.subtype=d.y_.Clip),null==(f=w.Media)||f.forEach((e=>{var t;null==(t=e.Part)||t.forEach((e=>{var t;null==(t=e.Stream)||t.forEach((e=>{(0,h.Dq)(e,"id")}))}))})),function(e){p(e,u.IY.CoverArt),p(e,u.IY.CoverPoster)}(w),w.listItemKey=null!=(b=null==(I=w.Media)?void 0:I.reduce(((e,t)=>(e.push(t.id),e)),[w.sourceURI]).join("~"))?b:w.sourceURI;const N={tempState:{},isStale:!1,isPending:!1,isPopulated:!!w.userState,error:null};(0,h.pB)(w,N,"deletedAt"),(0,h.pB)(w,N,"downloadSubscriptionID"),(0,h.pB)(w,N,"subscriptionID"),(0,h.pB)(w,N,"subscriptionType"),(0,h.pB)(w,N,"grandparentSubscriptionID"),(0,h.pB)(w,N,"grandparentSubscriptionType"),(0,h.pB)(w,N,"isDownloaded"),(0,h.pB)(w,N,"lastRatedAt"),(0,h.pB)(w,N,"lastViewedAt"),(0,h.pB)(w,N,"picked"),(0,h.pB)(w,N,"saved"),(0,h.pB)(w,N,"unviewedLeafCount"),(0,h.pB)(w,N,"userRating"),(0,h.pB)(w,N,"viewCount"),(0,h.pB)(w,N,"viewOffset"),(0,h.pB)(w,N,"viewedLeafCount"),(0,h.pB)(w,N,"watchlistedAt"),null!=w.leafCount&&(N.viewedLeafCount=null!=(M=N.viewedLeafCount)?M:0,N.unviewedLeafCount=w.leafCount-N.viewedLeafCount);const A={[w.sourceURI]:N};if(null==(S=w.Stations)?void 0:S.Metadata){const n=(0,m.Z)({server:e,provider:t,data:w.Stations.Metadata,container:i});w.stations=n.metadataItems,delete w.Stations,Object.assign(A,n.metadataItemStates)}if(null==(E=w.Extras)?void 0:E.Metadata){const n=(0,m.Z)({server:e,provider:t,data:w.Extras.Metadata,container:i});w.extras=n.metadataItems,delete w.Extras,Object.assign(A,n.metadataItemStates)}if(null==(D=w.OnDeck)?void 0:D.Metadata){const n=g({server:e,provider:t,data:w.OnDeck.Metadata,container:i});w.onDeck=n.metadataItem,delete w.OnDeck,Object.assign(A,n.metadataItemStates)}if((null==(C=w.PopularLeaves)?void 0:C.Metadata)&&(null==(P=w.PopularLeaves)?void 0:P.key)){const n=(0,m.Z)({server:e,provider:t,data:w.PopularLeaves.Metadata,container:i});w.popularLeaves={key:w.PopularLeaves.key,items:n.metadataItems},delete w.PopularLeaves,Object.assign(A,n.metadataItemStates)}return w.Preferences&&(N.preferences=w.Preferences.Setting,delete w.Preferences),{metadataItem:w,metadataItemStates:w.userState?A:{}}}},20019:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(82150);function s({server:e,provider:t,data:n,container:s}){return n.reduce(((n,r)=>{const{metadataItem:a,metadataItemStates:o}=(0,i.Z)({server:e,provider:t,data:r,container:s});return n.metadataItems.push(a),Object.assign(n.metadataItemStates,o),n}),{metadataItems:[],metadataItemStates:{}})}},65661:(e,t,n)=>{"use strict";n.d(t,{dL:()=>r,ZX:()=>a,Dq:()=>o,pB:()=>l,JG:()=>c});var i=n(69434);function s(e){return(t,n,i)=>{const s=e(t[n],n);i?(t[i]=s,delete t[n]):t[n]=s}}const r=s(((e,t)=>{const n=typeof e;if("string"===n||"number"===n)return Number(e);"undefined"!==n&&i.Z.warn(`normalizeAsNumber: returning undefined for type: ${n}, property: ${t}`)})),a=s(((e,t)=>{const n=typeof e;return"boolean"===n||"number"===n?Boolean(e):"string"===n?"1"===e:void("undefined"!==n&&i.Z.warn(`normalizeAsBoolean: returning undefined for type: ${n}, property: ${t}`))})),o=s(((e,t)=>{const n=typeof e;if(null!=e)return String(e);"undefined"!==n&&i.Z.warn(`normalizeAsNumber: returning undefined for type: ${n}, property: ${t}`)}));function l(e,t,n){e.hasOwnProperty(n)&&(t[n]=e[n],delete e[n])}function c(e,t,n){e.hasOwnProperty(n)&&(t[n]=e[n])}},4704:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(67294);function s(e){const t=(0,i.useRef)();return(0,i.useEffect)((()=>{t.current=e}),[e]),t.current}},70617:(e,t,n)=>{"use strict";function i(e){const t=new Map;return(...n)=>{const i=JSON.stringify(n);if(t.has(i))return t.get(i);{const s=e(...n);return t.set(i,s),s}}}n.d(t,{Z:()=>i})},38770:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return 1===Number(e)||"true"===e}},75989:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return null==e?"":String(e)}},63178:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return e instanceof Promise?e:e instanceof Error?Promise.reject(e):"[object Function]"===Object.prototype.toString.call(null==e?void 0:e.then)?new Promise(((t,n)=>{try{e.then(t,n)}catch(e){t(e)}})):Promise.resolve(e)}},75157:(e,t,n)=>{"use strict";n.d(t,{XH:()=>i,pP:()=>r,dZ:()=>h,rG:()=>g,xP:()=>y,fz:()=>v});var i,s,r,a,o=n(42902),l=n(7069),c=n(88330),d=n(54559),u=n(77982),p=n(59319),m=n(5562);function h(e){switch(e){case i.RealTime:return(0,m.Z)("Real Time");case i.TwelveHours:return(0,m.Z)("Last 12 Hours");case i.Day:return(0,m.Z)("Last 24 Hours");case i.Week:return(0,m.Z)("Last 7 Days");case i.Month:return(0,m.Z)("Last 30 Days");case i.NinetyDays:return(0,m.Z)("Last 90 Days");case i.Year:return(0,m.Z)("Last Year");case i.AllTime:return(0,m.Z)("All Time");default:return""}}function g(e){switch(e){case i.RealTime:return 6;case i.TwelveHours:case i.Day:return 4;case i.Week:return 3;case i.Month:case i.NinetyDays:return 2;case i.Year:case i.AllTime:return 1;default:return 3}}function y(e){switch(e){case i.TwelveHours:return(0,o.Z)((0,c.Z)(new Date,12));case i.Day:return(0,o.Z)((0,l.Z)(new Date,1));case i.Week:return(0,o.Z)((0,u.Z)(new Date,1));case i.Month:return(0,o.Z)((0,d.Z)(new Date,1));case i.NinetyDays:return(0,o.Z)((0,l.Z)(new Date,90));case i.Year:return(0,o.Z)((0,p.Z)(new Date,1));case i.AllTime:return 0;default:return}}function v(e,t){switch(e){case i.TwelveHours:return"H:00";case i.Day:return t?"H:00":"HH";case i.Week:case i.Month:case i.NinetyDays:return t?"MMMM do":"MMM d";case i.Year:return t?"MMMM":"MMM";case i.AllTime:return t?"MMMM yyyy":"MMM yy";default:return t?"MMMM do":"MMM d"}}(s=i||(i={})).RealTime="real-time",s.TwelveHours="twelve-hours",s.Day="day",s.Week="week",s.Month="month",s.NinetyDays="ninety-days",s.Year="year",s.AllTime="all-time",(a=r||(r={}))[a.Year=0]="Year",a[a.Month=1]="Month",a[a.Week=2]="Week",a[a.Day=3]="Day",a[a.Hour=4]="Hour",a[a.Minutes=5]="Minutes",a[a.RealTime=6]="RealTime"},64529:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(29705),s=n(65652),r=n(17786),a=n.n(r);const o={success:!0,error:!0,notify:!0},l=s.Z.ItemView.extend({className:"alert-bar",template:a(),events:{"click .close-btn":"onCloseClick"},initialize:function(e){const t=e.alert;if(this.alert=t,t){const e=t.type;e&&o[e]&&this.$el.addClass(e)}},hide:function(){i.Z.trigger("hide:bar","alertbar")},serializeData:function(){return this.alert},onCloseClick:function(e){e.preventDefault(),this.hide()}})},79317:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(19755),s=n.n(i),r=n(13469),a=n.n(r),o=n(65652),l=n(5562);const c=o.Z.Layout.extend({events:{"click .edit-lock-addon":"onLockClick","keyup .lockable-field:not(.selectized)":"onLockableFieldChange","change .lockable-field:not(.selectized)":"onLockableFieldChange"},ui:{form:".edit-metadata-form"},serializeData:function(){var e=this.model.get("lockedFields"),t={};e&&e.each((function(e){t[e.get("name")]=e.get("locked")}));var n=this.model.toJSON(),i=this.model.get("mixedFields"),s={originallyAvailableAt:"YYYY-MM-DD",capturedTime:"YYYY-MM-DD HH:mm:ss"};return i&&i.forEach((function(e){s[e]=(0,l.Z)("MIXED")})),{item:n,locked:t,placeholders:s,canReparent:this.canReparent,canEditSimilarArtists:this.canEditSimilarArtists,disableIndices:!this.canReparent,editableTags:{}}},flushChanges:function(){},getLockedFieldsArray:function(){var e=this.ui.form,t=this.model.get("lockedFields").reduce((function(e,t){return e[t.get("name")]=t.get("locked"),e}),{});return e.find(".edit-lock-addon").each((function(e,n){var i=s()(n),r=i.data("field");i.hasClass("locked")?t[r]=!0:r in t&&(t[r]=!1)})),a().map(t,(function(e,t){return{name:t,locked:e}}))},onLockClick:function(e){e.preventDefault(),s()(e.currentTarget).hasClass("disabled")||s()(e.currentTarget).toggleClass("locked")},onLockableFieldChange:function(e){var t=e instanceof s()?e:s()(e.currentTarget);if(!e.force){var n=t.data("original-value");if(void 0===n&&(n=t.attr("value")||t.val()),t.data("original-value",n),t.val()===n)return}t.siblings(".edit-lock-addon").addClass("locked")}})},41208:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var i=n(19755),s=n.n(i),r=n(13469),a=n.n(r),o=n(5562),l=n(69881),c=n(94018),d=n(65652),u=n(33207),p=n.n(u);const m=d.Z.ItemView.extend({className:"player-slider",template:p(),dragging:!1,ui:{thumb:".player-slider-thumb",track:".player-slider-track",progress:".player-slider-progress"},events:{mousedown:"onMouseDown",touchstart:"onTouchStart"},onlyAfterRender:["displayValue"],initialize:function(e){a().bindAll(this,"onMouseMove","onMouseUp","onTouchMove","onTouchEnd"),this.$document=s()(document),this.currentValue=e.value||0},startDragging:function(){this.dragging=!0,this.$el.addClass("active")},stopDragging:function(){this.dragging=!1,this.$el.removeClass("active"),this.triggerMethod("dragComplete")},updateForPosition:function(e,t){var n=this.getValueForPosition(e);this.setValue(n)&&this.displayValue(n,t)},getValueForPosition:function(e){var t=this.ui.track,n=(e-t.offset().left)/t.width();return n=Math.min(Math.max(n,0),1),Math.round(100*n)},setValue:function(e){return this.currentValue=e,this.trigger("change:value",e),!0},displayValue:function(e,t){this.ui.thumb.css("left",e+"%"),this.ui.progress.css("width",e+"%"),this.$el.data("value",e)},onRender:function(){this.displayValue(this.currentValue)},onClose:function(){this.$document.off("mousemove",this.onMouseMove),this.$document.off("mouseup",this.onMouseUp),this.$document.off("touchmove",this.onTouchMove),this.$document.off("touchend",this.onTouchEnd)},onMouseDown:function(e){e.preventDefault(),this.$document.on("mousemove",this.onMouseMove),this.$document.on("mouseup",this.onMouseUp),this.startDragging(),this.setValue(this.getValueForPosition(e.pageX))},onTouchStart:function(e){this.$document.on("touchmove",this.onTouchMove),this.$document.on("touchend",this.onTouchEnd),this.startDragging();var t=e.originalEvent.touches[0];t&&this.updateForPosition(t.pageX)},onMouseMove:function(e){e.preventDefault(),this.updateForPosition(e.pageX)},onTouchMove:function(e){e.preventDefault();var t=e.originalEvent.touches[0];t&&this.updateForPosition(t.pageX)},onMouseUp:function(e){e.preventDefault(),this.$document.off("mousemove",this.onMouseMove),this.$document.off("mouseup",this.onMouseUp),this.updateForPosition(e.pageX),this.stopDragging()},onTouchEnd:function(e){this.$document.off("touchmove",this.onTouchMove),this.$document.off("touchend",this.onTouchEnd);var t=e.originalEvent.touches[0];t&&this.updateForPosition(t.pageX),this.stopDragging()}});var h=n(17487),g=n.n(h);const y=m.extend({tagName:"span",className:"rating star-rating",template:g(),disabled:!0,modelEvents:{"change:rating":"onRatingChange","change:userRating":"onRatingChange"},events:a().extend({mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},m.prototype.events),initialize:function(e){m.prototype.initialize.apply(this,arguments);var t=this.model.server.get("shared")&&!this.model.server.get("multiuser");this.disabled=e.disabled||t,this.passive=e.passive,this.updateRating()},updateRating:function(){this.metadataRating=this.model.get("rating")||0,this.userRating=this.model.get("userRating"),this.setValue(this.userRating>0?this.userRating:this.metadataRating)},normalizeRating:function(e){return Math.round(e/2)},serializeData:function(){var e=this.normalizeRating(this.currentValue);return{stars:[e>0,e>1,e>2,e>3,e>4]}},getValueForPosition:function(e){var t=this.$el,n=(e-t.offset().left)/t.width();return n=Math.min(Math.max(n,0),1),2*Math.ceil(5*n)},persistValue:function(){var e=this.currentValue||-1;c.Z.execute("rate",{item:this.model,rating:e,passive:this.passive}),this.updateRating(),this.render()},displayValue:function(e){this.$el.data("value",e);var t=this.normalizeRating(e);this.$(".star-icon").each((function(e){var n=t>e;s()(this).toggleClass("star",n).toggleClass("dislikes",!n)})),this.$el.toggleClass("unrated",!e)},onRender:function(){m.prototype.onRender.apply(this,arguments),this.$el.toggleClass("unrated",!this.currentValue),this.$el.toggleClass("user-rating",this.userRating>0),this.$el.toggleClass("disabled",this.disabled)},onRatingChange:function(e,t){this.updateRating(),this.render()},onMouseEnter:function(e){this.disabled||(this.$el.addClass("user-rating"),this.$el.removeClass("unrated"))},onMouseLeave:function(e){this.disabled||this.render()},onMouseMove:function(e){if(!this.disabled)if(this.dragging)this.updateForPosition(e.pageX);else{var t=this.getValueForPosition(e.pageX);this.displayValue(t)}},onDragComplete:function(){this.disabled||this.persistValue()}});var v=n(79317),f=n(39092);var I=n(10719),b=n.n(I),M=n(34512),S=n.n(M),E=n(70830),D=n.n(E),C=n(26726),P=n.n(C),w=n(8982),T=n.n(w),Z=n(3657),N=n.n(Z),A=n(18704),x=n.n(A),L=n(88949),O=n.n(L),j=n(88311),k=n.n(j),R=n(48526),z=n.n(R),U=n(52030),V=n.n(U),B=Object.assign;function F(e){return a().reduce(e,(function(e,t){return e[t]=!0,e}),{})}var H={movie:T(),show:z(),season:k(),episode:P(),artist:S(),album:b(),track:V(),photoalbum:N(),photo:x(),playlist:O(),collection:D()};const _=v.Z.extend({regions:{ratingRegion:".rating-region"},ui:a().extend({selectizeInputs:".selectize input[type=text]"},v.Z.prototype.ui),initialize:function(e){const t=this.model.get("type"),n=l.getMetadataType(t);this.template=H[t]||H[l.MOVIE],this.canSelectize=this.model.server.supports("batchEdit")&&n,this.canReparent=this.model.server.supports("batchEdit")},serializeData(){return B(B({},v.Z.prototype.serializeData.apply(this)),{supportsLinkedYears:this.model.server.supports("linkedYearMetadata"),section:this.model.section,metadataTypeName:this.model.get("type")})},flushChanges:function(){var e=this.ui.form;if(e&&e.find){var t=e.find(".selectize input[tabindex=-1]"),n=F(a().pluck(t,"name")),i=F(a().pluck(e.find("[type=number]"),"name")),r=a()(e.serializeArray()).reject((function(e){return n[e.name]}),this),o=a().reduce(r,(function(e,t){if(i[t.name]){var n=t.value.trim();if(n)return e[t.name]=parseFloat(n,10),e;if(!this.model.get(t.name))return e}return e[t.name]=t.value,e}),{},this);a().each(t,(function(e){var t=s()(e),n=t.data("updateAttr"),i=t.data("altUpdateAttr"),r=t.data("isText"),a=e.selectize.getValue();if(i)if(r)o[n]=a,o[i]=null;else{var l=e.selectize.options[a];if(l){var c=l[t.data("autocompleteAttr")];o[n]=c,o[i]=a}}else o[n]=a}));var l=this.model.get("lockedFields");l&&l.set(this.getLockedFieldsArray(),{parse:!0}),this.model.set(o)}},markInvalid:function(e){this.$(".form-group").removeClass("has-error"),a()(e).each((function(e){var t=this.$('.form-group[data-attr="'+e+'"]');t.addClass("has-error"),t.find(".control-error").text((0,o.Z)("Required"))}),this)},onRender:function(){if(this.$(".rating-region").length>0&&this.ratingRegion.show(new y({model:this.model,passive:!0})),this.canSelectize){var e=this;this.ui.selectizeInputs.each((function(t,n){!function(e,t){var n=s()(t),i=n.attr("name"),r=i.replace(/parentTitle$/,"parentRatingKey");r===i&&(r=null);var l,c=e.model.getQueryAttr(i),d=e.model.getQueryAttrSibling(i),u=c!==i,p=u?"title":i,m=u?"ratingKey":p,h=e.model.get("type");l=u?c.match(/(^.*)\./)[1]:"title"===p?h:null;var g=n.data("scopeToAttr"),y=n.data("scopeToParam"),v=n.data("ratingKey"),I=!v;v&&(v=v.toString());var b=!u,M={};y&&e.listenTo(e,"reset_selectize:"+y,(function(){N.loadedSearches={}}));var S,E,D=e.model["original.updateValues."+i];D?(S=D.updateAttr,E=D.altUpdateAttr):(S=e.model.get(i),r&&(E=parseInt(e.model.get(r),10)),e.model["original.updateValues."+i]={updateAttr:S,altUpdateAttr:E});var C=e.model["original.general."+i];if(!C){C=[];var P={};P[p]=S,P.ratingKey=v,C=[P],e.model["original.general."+i]=C}var w=[e.model.get(r)||e.model.get(i)],T=function(){var e=N.$dropdown_content.children();N.$dropdown.toggleClass("hidden",e.length<=1)},Z=function(){a().defer(T)};n.data("autocompleteAttr",p),n.data("updateAttr",i),r&&n.data("altUpdateAttr",r);var N=n.selectize({options:C,items:w,plugins:["restore_on_focus"],delimiter:null,create:!0,maxItems:1,labelField:p,valueField:m,sortField:p,searchField:[p],selectOnTab:!0,hideSelected:!1,highlight:!1,openOnFocus:!0,selectOnBlur:!0,createOnBlur:!0,persist:!0,addPrecedence:!0,allowEmptyOption:!0,allowCreateEmpty:b,manualInputWidth:!0,loadingClass:"",onFocus:function(){N.preloaded||(N.preloaded=!0,N.onSearchChange(N.$control_input.val()))},createFilter:function(e){return M[p]=e,!a()(this.options).findWhere(M)},load:function(t,n){if(t.length){var i={};if(i[c]=t,g){var s=e.model.get(g);if(!s)return void n();i[y]=s}new f.Z([],{server:e.model.server,multiMetadataItem:e.model,query:i}).fetch().done((function(e){n(e.map((function(e){return e.toJSON()}))),T()}))}else n()},render:{option:function(e,t){var n;return n=(r?e.ratingKey===String(E):e[p]===S)?'<small class="autocomplete-annotate pull-right">('+(l&&!I?(0,o.Z)("this {1}",l):(0,o.Z)("original value"))+")</small>":"","<div>"+t(e[p])+n+"</div>"},option_create:function(e,t){return e.input?'<div class="create">'+t(e.input)+"</div>":'<div class="create hidden"></div>'}},onDropdownClose:function(){N.$dropdown.addClass("hidden")},onDropdownOpen:function(){N.$dropdown.addClass("hidden"),Z()},onType:a().bind((function(e){if(N.canCreate(e)){var t=s()(N.$dropdown_content[0].childNodes[0]);N.setActiveOption(t)}Z(),this.onLockableFieldChange({currentTarget:N.$input,force:!0})}),e),onOptionAdd:function(e,t){var n=a().pick(t,p,"ratingKey");a().findWhere(C,n)||C.splice(C.length,0,t)},onChange:function(t){var s=this.options[t];if(s){if(u){var r=s.ratingKey===s[p];n.data("isText",r)}e.flushChanges();var o=e.model.changedAttributes();a().has(o,c)||a().has(o,d)?e.trigger("focusSubmit"):a().defer((function(){N.onBlur()})),e.trigger("reset_selectize:"+i),T()}}})[0].selectize;N.$dropdown.addClass("hidden")}(e,n)}))}}})},21009:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(13469),s=n.n(i),r=n(65652);const a=r.Z.CollectionView.extend({appendHtml:function(e,t,n){return this.sorted?this.sortedAppendHtml.apply(this,arguments):this.reversed?this.reversedAppendHtml.apply(this,arguments):r.Z.CollectionView.prototype.appendHtml.apply(this,arguments)},sortedAppendHtml:function(e,t,n){if(e.isBuffering){var i=e.elBuffer.childNodes;i.length<=n?e.elBuffer.appendChild(t.el):e.elBuffer.insertBefore(t.el,i[n]),e._bufferedChildren.push(t)}else{var s=e.itemViewContainer?e.$(e.itemViewContainer):e.$el,r=s.children();r.size()<=n?s.append(t.el):r.eq(n).before(t.el)}},reversedAppendHtml:function(e,t,n){e.isBuffering?(e.elBuffer.insertBefore(t.el,e.elBuffer.firstChild),e._bufferedChildren.push(t)):(e.itemViewContainer?e.$(e.itemViewContainer):e.$el).prepend(t.el)},measureList:function(){if(this.children.length){var e=this.children._views,t=e[s().first(s().keys(e))];s().defer(s().bind((function(){this.itemWidth=t.$el.outerWidth(!0),this.itemHeight=t.$el.outerHeight(!0),this.itemMarginRight=parseInt(t.$el.css("margin-right"),10),this.itemMarginBottom=parseInt(t.$el.css("margin-bottom"),10),this.triggerMethod("measure",this)}),this))}},getViewForModel:function(e){var t=this.children._indexByModel[e.cid];return this.children._views[t]},reorder:function(){var e=this.children,t=this.collection.models,n=s().map(t,(function(t,n){var i=e.findByModel(t);return i._index=n,i.el}));this.$el.append(n)},onCollectionRendered:function(){this.measure&&this.measureList()}})},21288:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(19755),s=n.n(i),r=n(13469),a=n.n(r),o=n(29705),l=n(65652),c=0,d=[];const u=l.Z.Layout.extend({className:"modal fade",focusDelay:500,animationDelay:500,events:{"hide.bs.modal":"onHide"},initialize:function(e){this.once("render",(function(){c+=1,o.Z.trigger("anyModalOpen")})),this.once("close",(function(){0==(c-=1)&&o.Z.trigger("allModalsClosed")}))},hide:function(){this.isClosed||this.isHidden||this.$el.modal("hide")},onRender:function(){this.rerender||(this.isForced?this.$el.modal({backdrop:!1,keyboard:!1}):(this.listenTo(o.Z,"shortcut:escape",a().bind((function(){d[0]===this&&this.hide()}),this)),this.listenToOnce(this,"close",(function(){var e=d.indexOf(this);-1!==e&&d.splice(e,1)})),d.unshift(this),this.$el.modal()),s()(":focus").blur())},onHide:function(e){this.isHidden=!0,a().each(this.panes,(function(e,t){var n=e.constructor.onModalClose;n&&n.apply(this)}),this),window.setTimeout(a().bind((function(){o.Z.trigger("hide:modal",this),this.trigger("close")}),this),this.animationDelay)}})},64898:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(19755),s=n.n(i),r=n(13469),a=n.n(r),o=n(21288),l=n(55722),c=n.n(l);const d=o.Z.extend({className:"confirm-modal modal modal-sm fade",template:c(),ui:{doubleConfirmMessage:".double-confirm-message",confirmBtn:".confirm-btn",confirmLabel:".confirm-btn .btn-label"},events:a().extend({"click .confirm-btn":"onConfirm"},o.Z.prototype.events),whitelistedOptions:["title","message","confirmLabel","cancelLabel","hasDanger","hideCancel"],initialize:function(e){o.Z.prototype.initialize.apply(this,arguments),this.async=e.async,this.data=a().pick(e,this.whitelistedOptions),this.promise=s().Deferred()},serializeData:function(){return a().defaults(this.data,{confirmLabel:"Yes",cancelLabel:"No"})},onRender:function(){o.Z.prototype.onRender.apply(this,arguments),window.setTimeout(a().bind((function(){this.ui.confirmBtn.focus()}),this),this.focusDelay)},onHide:function(e){o.Z.prototype.onHide.apply(this,arguments),this.promise.reject()},onConfirm:function(e){if(e.preventDefault(),this.options.requireDoubleConfirm&&!this.hasConfirmedOnce){this.hasConfirmedOnce=!0;var t=this.options.doubleConfirmMessage,n=this.options.doubleConfirmLabel;return t&&this.ui.doubleConfirmMessage.text(t),void(n&&this.ui.confirmLabel.text(n))}this.promise.resolve(),this.async?this.ui.confirmBtn.addClass("active"):this.hide()}})},86199:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_e});var i=n(12274),s=n(56514),r=n(19755),a=n.n(r),o=n(13469),l=n.n(o),c=n(29705),d=n(94036),u=n(47909),p=n(93966),m=n(94018),h=n(94053),g=n(32901),y=n(32553),v=n(17524),f=n(24207),I=n(41105),b=n(86953),M=n(5562),S=n(69881),E=n(10612),D=n(53334),C=n(14408),P=n(12634),w=n(65115);const T=P.Z.extend({name:"TagCollection",context:["server","section"],model:w.Z});var Z=n(69653),N=n(32707);const A=D.Z.extend({name:"LockedFieldModel",context:["server","section"],idAttribute:"name",syncedAttrs:{name:{type:C.Z.string,save:!0},locked:{type:C.Z.boolean,save:!0}}}),x=P.Z.extend({name:"LockedFieldCollection",context:["server","section"],model:A}),L={Autotag:"autotags",Collection:"collections",Composer:"composers",Conductor:"conductors",Country:"countries",Director:"directors",Genre:"genres",Label:"labels",Mood:"moods",Producer:"producers",Role:"roles",Similar:"similar",Style:"styles",Tag:"tags",Writer:"writers"},O={album:{title:"title",parentRatingKey:"artist.id",parentTitle:"artist.title"},track:{parentRatingKey:"album.id",parentTitle:"album.title",grandparentRatingKey:"artist.id",grandparentTitle:"artist.title"}},j=D.Z.extend({name:"MultiMetadataModel",context:["server","section"],rootPropertyName:"Common",isNew:()=>!1,url(){return u.Z.join([this.sectionUrl(),"common"],this.getUrlParams())},saveUrl(){return u.Z.join([this.sectionUrl(),"all"],this.getUrlParams())},sectionUrl(){return l().result(this.section,"url")},sessionAttrs:{metadataItems:C.Z.array.isRequired,editableTags:C.Z.array,originalSaveParams:C.Z.object,poster:C.Z.string,banner:C.Z.string,art:C.Z.string},syncedAttrs:{mixedFields:C.Z.list.isRequired,key:{type:C.Z.string,save:!0},ratingKey:{type:C.Z.string,save:!0},parentRatingKey:{type:C.Z.string,save:!0},grandparentRatingKey:{type:C.Z.string,save:!0},title:{type:C.Z.string,save:!0},titleSort:{type:C.Z.string,save:!0},originalTitle:{type:C.Z.string,save:!0},parentTitle:{type:C.Z.string,save:!0},grandparentTitle:{type:C.Z.string,save:!0},year:{type:C.Z.string,save:!0},tagline:{type:C.Z.string,save:!0},summary:{type:C.Z.string,save:!0},studio:{type:C.Z.string,save:!0},contentRating:{type:C.Z.string,save:!0},originallyAvailableAt:{type:C.Z.string,save:!0},rating:{type:C.Z.float,save:!0},userRating:{type:C.Z.float,save:!0},index:{type:C.Z.integer,save:!0},parentIndex:{type:C.Z.integer,save:!0}},sessionRelations:{preferences:{relationClass:Z.Z}},syncedRelations:Object.keys(L).reduce(((e,t)=>(e[L[t]]={relationClass:T,rootPropertyName:t,save:!0},e)),{lockedFields:{relationClass:x,rootPropertyName:"Field",save:!0}}),derivedAttrs:{type(){const e=this.getSingleMetadataItem();if(e)return e.get("type")},aggregateTitle(){if(this.get("metadataItems").length)return N.Z.title(null,{items:this.get("metadataItems")})},isSingleMetadataItem(){return 1===this.get("metadataItems").length}},defaults:()=>({metadataItems:[],mixedFields:[]}),initialize(e,t){this.set("metadataItems",l().clone(t.metadataItems))},getSingleMetadataItem(){return l().first(this.get("metadataItems"))},getUrlParams(){const e=(0,S.getMetadataType)(this.get("type")),t=l().map(this.get("metadataItems"),(e=>e.get("ratingKey")));return{type:e.id,id:t.join(","),includeExternalMedia:1}},getSaveParams(){const e=D.Z.prototype.getSaveParams.apply(this,arguments),t=this.get("originalSaveParams");if(!t)return e;const n={};if(l().each(e,((e,i)=>{const s=t[i];l().isEqual(e,s)||l().extend(n,this.getSaveParam(i,e,s))})),n.isReparenting){delete n.isReparenting;const e=O[this.get("type")];l().each(e,((e,t)=>{const i=e+".value",s=this.getQueryAttrSibling(e)+".value",r=l().has(n,i),a=l().has(n,s);if(r&&a&&i!==s&&delete n[s],!r&&!a){const e=this.get(t);e&&(n[i]=e)}}))}return n},getSaveParam(e,t,n){if("Field"===e)return this.getFieldSaveParams(e,t,n);if(L.hasOwnProperty(e))return this.getTagSaveParams(e,t,n);const i=O[this.get("type")];if(i&&l().has(i,e)){const n=i[e];return t?{isReparenting:!0,[n+".value"]:t}:void 0}return{[e+".value"]:t}},getFieldSaveParams:(e,t,n)=>t.reduce(((e,t)=>(e[t.name+".locked"]=t.locked,e)),{}),getTagSaveParams(e,t,n){const i=l().map(t,(e=>e.tag)),s=l().map(n,(e=>e.tag)),r=l().without(s,...i),a=e.toLowerCase(),o={};return i.forEach(((e,t)=>{o[a+"["+t+"].tag.tag"]=e})),r.length&&(o[a+"[].tag.tag-"]=l().map(r,encodeURIComponent).join(",")),o},getQueryAttr(e){const t=this.get("type"),n=O[t];return n&&n[e]||e},getQueryAttrSibling(e){const t=this.getQueryAttr(e).match(/(^.*\.)(.*$)/);return t?t[1]+("id"===t[2]?"title":"id"):e}});var k=n(1193),R=n(79317),z=n(46140),U=n.n(z);const V=R.Z.extend({template:U(),serializeData(){const e=this.model.get("preferences"),t=this.model.getSingleMetadataItem().get("preferences");return e.length?t.reduce(((t,n)=>{const i=e.get(n.id);return i?t.push(i.toJSON()):t.push(n.toJSON()),t}),[]):t.toJSON()},flushChanges(){const e=this.ui.form.serializeArray(),t=this.model.getSingleMetadataItem().get("preferences"),n=this.model.get("preferences");e.forEach((e=>{const i=n.get(e.name)||t.get(e.name),s=i.clone();s.parseAndSetValue(e.value),s.get("value")!==i.get("value")&&n.add(s,{merge:!0})}))}});var B=n(2262),F=n(65652),H=n(95688);const _=D.Z.extend({name:"ArtworkModel",context:["server","artworkType"],idAttribute:"ratingKey",rootPropertyName:"Photo",syncedAttrs:{key:C.Z.string,ratingKey:C.Z.string,thumb:C.Z.string,selected:C.Z.boolean}},{types:{POSTER:"poster",ART:"art",BANNER:"banner"}}),Q=P.Z.extend({name:"ArtworkCollection",context:["server","artworkType"],model:_,url(){const e=u.Z.parseUrl(l().result(this.parent,"url"));return u.Z.join([e.pathname,`${this.artworkType}s`],e.params)}});var G=n(21009),Y=n(53779),W=n(62779),K=n(93634),q=n(71539),$=n.n(q);const J=F.Z.Layout.extend({tagName:"span",template:$(),regions:{poster:".media-poster"},initialize:function(e){var t=e.artworkType,n=150;"art"===t?n=240:"banner"===t&&(n=520),this.$el.addClass(t),this.image=new K.Z({className:"media-poster-image",model:this.model,modelAttribute:"thumb",placeholderClass:Y.Z[t],width:n,height:W.Z.getPosterHeight(t,n)})},bindings:{".artwork-option":{modelAttribute:"selected",manual:!0,formatter:function(e,t){t.toggleClass("selected",e)}}},onRender:function(){this.poster.show(this.image)}}),X=G.Z.extend({className:"artwork-options-list",itemView:J});var ee=n(13990),te=n.n(ee);const ne=F.Z.Layout.extend({template:te(),dragStatus:0,ui:{upload:".upload-artwork-container",urlInput:"input[name=url]"},regions:{list:".artwork-list-container"},events:{dragenter:"onDragEnter",dragleave:"onDragLeave",dragover:"onDragOver",drop:"onDrop",keydown:"onKeyDown","change .artwork-file-control":"onFileChange","click .upload-url-btn":"onUploadUrlClick","click .cancel-url-btn":"onCancelUrlClick","click .submit-url-btn":"onUrlSubmit","submit #upload-form":"onUrlSubmit","click .upload-back-btn":"onUploadBackClick","click .artwork-option":"onArtworkOptionClick"},initialize:function(e){this.type=e.type,this.metadataItem=this.model.getSingleMetadataItem(),this.changes={},this.collection=new Q([],{server:this.model.server,section:this.model.section,parent:this.metadataItem,artworkType:this.type}),this.collection.fetch()},serializeData:function(){return{showUpload:this.model.server.supports("artworkUpload"),showFileUpload:B.Z.hasFileUpload}},flushChanges:function(){this.model.set(this.changes)},uploadFiles:function(e){if(e&&e.length){this.changes={},this.ui.upload.removeClass("show-success show-error");var t=this.collection.url(),n=l().extend(this.model.server.getXHROptions(t),{type:"POST",processData:!1}),i=[],s=l().bind((function(e){/image\//.test(e.type)&&(n.data=e,i.push(a().ajax(n)))}),this);l().each(e,s),i.length?(this.ui.upload.addClass("show-progress"),this.monitorUpload(a().when.apply(a(),i))):this.ui.upload.addClass("show-error")}},uploadUrl:function(e){this.changes={},this.ui.upload.removeClass("show-form"),this.ui.upload.addClass("show-progress"),this.ui.urlInput.val("");var t=u.Z.join(this.collection.url(),{url:e}),n=this.model.server.getXHROptions(t,{type:"POST"});this.monitorUpload(a().ajax(n))},monitorUpload:function(e){e.done(l().bind((function(){this.isClosed||this.ui.upload.addClass("show-success");var e={server:this.model.server,onlyIfCached:!0},t=new H.Z({key:this.metadataItem.get("key")},e);l().isEmpty(t)||t.fetch({usePopulatedParams:!0,data:{includePreferences:"1"}}),this.collection.fetch()}),this)),e.fail(this.whenRendered((function(){this.ui.upload.addClass("show-error")}))),e.always(this.whenRendered((function(){this.ui.upload.removeClass("show-progress")})))},onRender:function(){this.list.show(new X({collection:this.collection,itemViewOptions:{artworkType:this.type}}))},onDragEnter:function(e){this.dragStatus++,this.ui.upload.addClass("drag-hover")},onDragLeave:function(e){this.dragStatus--,0===this.dragStatus&&this.ui.upload.removeClass("drag-hover")},onDragOver:function(e){e.preventDefault()},onDrop:function(e){e.preventDefault(),e.stopPropagation(),this.dragStatus=0,this.ui.upload.removeClass("drag-hover"),this.uploadFiles(e.originalEvent.dataTransfer.files)},onKeyDown:function(e){27===e.which&&this.ui.upload.hasClass("show-form")&&(e.preventDefault(),this.ui.upload.removeClass("show-form"))},onFileChange:function(e){this.uploadFiles(e.target.files)},onUploadUrlClick:function(e){e.preventDefault(),this.ui.upload.addClass("show-form"),this.ui.urlInput.focus()},onCancelUrlClick:function(e){e.preventDefault(),this.ui.upload.removeClass("show-form")},onUrlSubmit:function(e){e.preventDefault();var t=this.ui.urlInput.val();t?this.uploadUrl(t):this.ui.upload.removeClass("show-form")},onUploadBackClick:function(e){e.preventDefault(),this.ui.upload.removeClass("show-success show-error")},onArtworkOptionClick:function(e){e.preventDefault();var t=a()(e.currentTarget),n=t.data("ratingKey");this.$(".artwork-option.selected").removeClass("selected"),t.addClass("selected"),this.changes[this.type]=n}});var ie=n(41208),se=n(29415),re=n(95933),ae=n(17441),oe=n.n(ae);const le=F.Z.ItemView.extend({template:oe(),tagName:"li",className:"well",serializeData:function(){return{file:this.model.get("file")}}});var ce=n(39706),de=n.n(ce);const ue=F.Z.CompositeView.extend({template:de(),className:"files",itemView:le,itemViewContainer:"ul",initialize:function(){this.collection=new se.Z,this.populateParts().always(this.whenRendered((function(){this.$(".loading").addClass("hidden")})))},populateParts:function(){var e=this.collection;function t(e){var t=e.get("Media");if(t&&t.length)return l().each(t,n),t}function n(e){l().each(e.Part,i)}function i(t){e.push(t)}var s=this.model.getSingleMetadataItem();return t(s)?a().Deferred().resolve():s.populate().then((function(){if(!t(s)&&s.has("childrenKey")){const e=new re.Z({containerKey:s.get("childrenKey")},{server:s.server,provider:s.provider,skipCache:!0});return e.fetch().then((function(){e.get("metadataItems").each(t)}))}}))},flushChanges:function(){}});var pe=n(76249),me=n(45399),he=(n(62568),n(60963)),ge=n(10723),ye=n(39092);const ve=function(e,t){var n=a()(t),i=n.data("name"),s=n.data("query")||n.data("name"),r=n.data("attr"),o=!!n.data("only-delete"),c=e.model.get(r).toJSON(),d=l().pluck(c,"tag"),u=e.model["original.tag."+i];u||(u=l().clone(c),e.model["original.tag."+i]=u);var p=l().difference(d,l().pluck(u,"tag"));if(p.length){var m=l().map(p,(function(e){return{tag:e}}));m.unshift(u.length,0),u.splice.apply(u,m)}var h=function(t){e.model["original.allTagsRequested."+i]=!0,new ge.Z({filter:i,filterType:"string"},{server:e.model.server,section:e.section,type:(0,S.getMetadataType)(e.model.get("type")).id}).get("options").populate().then(l().bind((function(n){e.model["original.allTagsAvailable."+i]=!0,t(n.map((function(e){return{tag:e.attributes.title}})))}),e))};n.data("original-value",n.val()),n.selectize({options:u,items:d,plugins:["remove_button"],create:!0,hideDropdown:o,labelField:"tag",valueField:"tag",sortField:"tag",searchField:["tag"],highlight:!1,createFilter:function(e){return!l()(this.options).findWhere({tag:e})},onInitialize:function(){o&&(this.$control.off("click mousedown"),this.$control.addClass("no-input"),this.$control_input.prop("disabled",!0))},onChange:function(){e.onLockableFieldChange(n)},onFocus:function(){this.onSearchChange("")},loadingClass:"",load:function(t,n){if(s!==i||t.length&&e.canAutocomplete)if(e.model["original.allTagsAvailable."+i]||0===t.length)n();else{var r={};r[s]=t;var a=new ye.Z([],{server:e.model.server,multiMetadataItem:e.model,query:r}),o=s===i?function(e){return e.toJSON()}:function(e){return{tag:e.get(s)}};a.fetch().done((function(e){var t=e.map(o);n(t)})).fail((function(){n()}))}else e.model["original.allTagsRequested."+i]?n():h.call(e,n)},render:{item:function(e,t){return'<div class="item">'+(e.tag?t(e.tag):'<span class="autocomplete-annotate">('+(0,M.Z)("blank")+")</span>")+"</div>"},option:function(e,t){return'<div class="item">'+(e.tag?t(e.tag):'<small class="autocomplete-annotate">('+(0,M.Z)("blank")+")</small>")+"</div>"}}})};var fe=n(18866),Ie=n.n(fe),be=n(81570),Me=n.n(be),Se=n(29800),Ee=n.n(Se),De=n(4922),Ce=n.n(De),Pe=n(2362),we=n.n(Pe),Te=n(79988),Ze=n.n(Te),Ne=n(58830),Ae=n.n(Ne);const xe=R.Z.extend({templatesByType:{movie:Ce(),show:Ze(),episode:Ee(),artist:Me(),album:Ie(),track:Ae(),photo:we()},ui:l().extend({tagInputs:".tag-input-hidden"},R.Z.prototype.ui),events:l().extend({"change .lockable-field":"onLockableFieldChange"},R.Z.prototype.events),initialize:function(e){this.template=this.templatesByType[this.model.get("type")]||this.templatesByType.movie,this.canAutocomplete=this.model.server.supports("batchEdit"),this.canEditSimilarArtists=this.model.server.supports("editSimilarArtists"),this.getSection()},getSection:function(){var e=this.model.section;if(!e){var t=this.model.get("librarySectionID");e=new he.Z({key:t},{server:this.model.server})}this.section=e},flushChanges:function(){var e=this.ui.form,t=l().reduce(e.serializeArray(),(function(e,t){return e[t.name]=t.value,e}),{}),n=l().reduce(this.ui.tagInputs,(function(e,t){var n=t.selectize,i=a()(t).data("name");return e[a()(t).data("attr")]=l().map(n.items,(function(e){var t=n.options[e];return{tag:t.tag,id:t.id}})),this.model["original.tag."+i]=l().toArray(n.options),e}),{},this);l().each(n,(function(e,t){this.model.get(t).set(e,{parse:!0})}),this),this.model.get("lockedFields").set(this.getLockedFieldsArray(),{parse:!0}),this.model.set(t)},serializeData(){return this.model.get("editableTags").reduce(((e,t)=>(e.editableTags[t]=!0,e)),R.Z.prototype.serializeData.apply(this,arguments))},onRender:function(){var e=this;this.ui.tagInputs.each((function(t,n){ve(e,n)}))}});var Le=n(52223),Oe=n.n(Le);const je=xe.extend({templatesByType:{movie:Oe(),show:Oe(),album:Oe(),photo:Oe()},serializeData:function(){var e=p.DB("appModel"),t=e.get("user"),n=xe.prototype.serializeData.apply(this,arguments);const i=t.get("features").get(me.d6);return l().extend(n,{showLabels:this.model.server.supports("labels"),escapedLabelsMinVersion:pe.Z.labels,hasContentFilterFeature:i,plexPassUrl:t.server.get("plexPassUrl")}),n}});var ke=n(21288),Re=n(64898),ze=n(68121),Ue=n.n(ze),Ve=Object.assign,Be={movie:["general","tags","sharing","poster","art","info","advanced"],show:["general","tags","sharing","poster","banner","art","advanced"],season:["general","poster","art","info","advanced"],episode:["general","tags","poster","art","info","advanced"],artist:["general","tags","poster","art","advanced"],album:["general","tags","sharing","poster","art","info","advanced"],track:["general","tags","info","advanced"],photoalbum:["general","poster","art","advanced"],photo:["general","tags","info","advanced"],clip:["general","info","advanced"],collection:["general","sharing","poster","art","info","advanced"]},Fe=["poster","art","banner","info","advanced"];function He({server:e,provider:t,metadataTypeName:n,sectionKey:i}){const s=new h.Z({key:`/library/sections/${i}`},{server:e,provider:t,includeAdvanced:!0});return s.populate().then((()=>{const e=s.get("types").findWhere({type:n});return e?e.get("fields").filter((e=>e.get("type")===f.Kg)).map((e=>e.get("key"))):[]}))}const _e=ke.Z.extend({mixins:[E.Z],name:"editMetadataModal",className:"edit-metadata-modal modal modal-lg fade",template:Ue(),panes:{general:{constructor:ie.Z},tags:{constructor:xe},poster:{constructor:ne},art:{constructor:ne},banner:{constructor:ne},sharing:{constructor:je},info:{constructor:ue},advanced:{constructor:V}},events:Ve({"click .change-pane-btn":"onChangePaneClick","click .save-btn":"onFormSubmit","submit .edit-metadata-form":"onFormSubmit"},ke.Z.prototype.events),ui:{saveBtn:".save-btn",message:".form-message",navPane:".modal-nav-pane",loadingIndicator:".modal-body-pane .loading-inline"},regions:{paneRegion:".pane-region"},onlyAfterRender:["saveChanges","showPane","showNav"],initialize:function(e){ke.Z.prototype.initialize.apply(this,arguments);const t=e.items||[this.model],n=t[0],i=n.server;this.model=new j({},{server:i,metadataItems:t}),this.on("before:close",this.onBeforeClose),this._initCancelable=(0,d.Z)(n.fetch({usePopulatedParams:!0,data:{includePreferences:"1"}}).then((()=>{const e=(0,I.Z)(n,{onlyIfCached:!1});return this.model.setContext("section",e),this.model.populate().then((()=>e.get("key")))})).then((e=>He({server:i,provider:n.provider,metadataTypeName:this.model.get("type"),sectionKey:e})))),this._initCancelable.promise.then((t=>{this.model.set({editableTags:t,originalSaveParams:this.model.getSaveParams()}),this.render(),this.showNav(),this.showPane(e.selectedPane||"general"),this.listenTo(c.Z,"shortcut:save",this.saveChanges)}),(({isCanceled:e})=>{e||(this.ui.message.text((0,M.Z)("There was an error editing this item")),this.ui.loadingIndicator.addClass("hidden"))}))},serializeData:function(){const e=this.model.get("type");let t=Be[e]||Be[S.MOVIE];this.model.get("isSingleMetadataItem")||(t=l().difference(t,Fe)),this.model.getSingleMetadataItem().has("preferences")||(t=l().difference(t,["advanced"])),this.model.getSingleMetadataItem().get("remoteMedia")&&(t=l().difference(t,["info"]));var n=(0,M.Z)("Edit {1}",this.model.get("aggregateTitle"),{escape:!0});return{item:this.model.toJSON(),panes:(0,y.Z)(t,(e=>e),(()=>!0)),selectedPane:this.selectedPane,paneTitle:n}},paneConstructorArg:function(){return{type:this.selectedPane}},invalidChangedAttrs:function(e){var t=[];const n=this.model.get("type");if(n===S.TRACK){var r=l().has(e,"artist.id.value")||l().has(e,"artist.title.value")||l().has(e,"album.id.value")||l().has(e,"album.title.value"),a=e["album.id.value"]||e["album.title.value"],o=e["artist.id.value"]||e["artist.title.value"];!r||o&&a||(o||t.push("grandparentTitle"),a||t.push("parentTitle"))}else if(n===S.ALBUM&&!this.model.get("isSingleMetadataItem")){const n=this.model.get("mixedFields"),i=l().has(e,"artist.title.value")||l().has(e,"artist.id.value"),s=l().includes(n,"ratingKey"),r=l().has(e,"title.value");s&&r&&!i&&t.push("parentTitle")}if(l().has(e,"originallyAvailableAt.value")){var c=e["originallyAvailableAt.value"];if(/^\d{4}$/.test(c)&&(e["originallyAvailableAt.value"]+="-01-01",c=e["originallyAvailableAt.value"]),""!==c){var d=(0,i.Z)((0,s.Z)(c,"yyyy-MM-dd",new Date)),u=(0,i.Z)((0,s.Z)(c,"yyyy-MM-dd HH:mm:ss",new Date));d||u||t.push("originallyAvailableAt")}else this.model.set("originallyAvailableAt",c)}return t},markInvalid:function(e){this.paneRegion.currentView.markInvalid(e)},showNav:function(){this.ui.navPane.removeClass("hidden")},saveChanges:function(){var e=this.ui.saveBtn,t=this.ui.message;if(!e.isDisabled()){t.text(""),this.paneRegion.currentView.flushChanges();var n=[],i=this.model.getSaveParams(),s=this.invalidChangedAttrs(i);if(s.length)this.markInvalid(s);else{e.addClass("active");var r=this.showAdvancedConfirmModal({saving:!0});r.done((()=>{["poster","banner","art"].forEach((e=>{var t=this.model.get(e);t&&n.push(m.Z.execute("changeArtwork",{item:this.model.getSingleMetadataItem(),artworkType:e,artworkRatingKey:t}))})),n.push(this.savePreferences()),n.push(this.model.save());var i=a().when.apply(a(),n);i.done((()=>{var e=p.DB("appStore").dispatch,t=this.model.server.entityID();t&&e((0,g.jR)({serverEntityID:t})),this.hide()})),i.fail((function(){t.text((0,M.Z)("Your changes could not be saved."))})),i.always((function(){e.removeClass("active")}))})),r.fail((()=>{e.removeClass("active"),this.showPane("advanced")}))}}},savePreferences:function(){var e=this.model.get("preferences");if(!e.length)return a().Deferred().resolve().promise();var t=this.model.getSingleMetadataItem(),n=u.Z.join(["/library/metadata",t.get("ratingKey"),"prefs"],e.getSaveParams()),i=this.model.server.getXHROptions(n,{type:"PUT"}),s=a().ajax(i);return s.done((()=>{var n=t.get("preferences");e.forEach((function(e){n.get(e.id).set("value",e.get("value"))}));var i=p.DB("appStore").dispatch,s=(0,b.Z)({serverIdentifier:this.model.server.get("machineIdentifier"),providerIdentifier:v.Y3,key:t.get("key")});i(k.Z.actions.preferenceChanged({sourceURI:s,preferences:e.toJSON()}))})),s},showAdvancedConfirmModal:function(){if(!this.model.get("preferences").some((function(e){return/^autoDeletion/.test(e.id)})))return a().Deferred().resolve().promise();var e=new Re.Z({title:(0,M.Z)("Confirm Deletion Settings"),message:(0,M.Z)("Deletion settings will take effect immediately! Files may be deleted and this can't be undone. Are you sure?"),confirmLabel:(0,M.Z)("Yes"),cancelLabel:(0,M.Z)("Cancel"),requireDoubleConfirm:!0,doubleConfirmMessage:(0,M.Z)("Multiple files may be deleted."),doubleConfirmLabel:(0,M.Z)("Yes, I'm sure"),hasDanger:!0});return c.Z.trigger("show:modal",e),e.promise},onBeforeClose:function(e){this._initCancelable.cancel()},onPaneShow:function(e,t){this.listenTo(t,"focusSubmit",(function(){this.ui.saveBtn.focus()}))},onPaneHide:function(e,t){t.flushChanges(),this.stopListening(t)},onFormSubmit:function(e){e.preventDefault(),this.saveChanges()}})},28725:(e,t,n)=>{"use strict";n.d(t,{Z:()=>$e});var i=n(19755),s=n.n(i),r=n(13469),a=n.n(r),o=n(29705),l=n(47909),c=n(93966),d=n(60963),u=n(76249),p=n(53145),m=n(46453),h=n(67006),g=n(17524),y=n(48523),v=n(55983),f=n(41658),I=n(36600),b=n(5562),M=n(94716),S=n(69881),E=n(32003),D=n(26512),C=n(10612),P=n(79678),w=n(64458),T=n(94018),Z=n(65652),N=n(72988),A=n.n(N);const x=Z.Z.ItemView.extend({template:A(),events:{"change input[name]":"onInputChange","change select[name]":"onInputChange"},initialize:function(){this.changes={}},serializeData:function(){return{settings:this.collection.toJSON(),escapedAgentName:a().escape(this.model.agents.get(this.model.get("agent")).get("name"))}},onInputChange:function(e){var t=s()(e.currentTarget),n=t.is(":checkbox")?t.prop("checked"):t.val();this.collection.findWhere({id:t.attr("name")}).set("value",n)}});var L=n(91485),O=n(73913),j=n(43270),k=n(12152),R=n.n(k);const z=R().extend({constructor:function(e,t,n,i){this.exclusiveScanners=t,this.scannerName=n,R().call(this,e,i),this.filterBy(a().bind(this.filterExclusiveScanner,this))},filterExclusiveScanner:function(e){var t=e.get("name"),n=this.exclusiveScanners;if(!n)return!0;var i=this.scannerName,s=-1!==n.indexOf(i),r=-1!==n.indexOf(t);return s?t===i:!r}});var U=n(12634),V=n(53334),B=n(14408);const F=V.Z.extend({name:"ScannerModel",context:["server"],rootPropertyName:"Scanner",syncedAttrs:{name:B.Z.string}}),H=U.Z.extend({name:"ScannerCollection",context:["server","sectionTypeID"],model:F,url:function(){return"/system/scanners/"+this.sectionTypeID},hasExclusiveScanner:function(e){return!!a().intersection(this.pluck("name"),e).length}}),_=Z.Z.Layout.extend({ui:{formGroup:".form-group"},onlyAfterRender:["showValidationResult"],serializeData:function(){var e={};return this.model.isNew()?e.add=!0:e.edit=!0,e.section=this.model.toJSON(),e},showValidationResult:function(e){var t=this.ui.formGroup;t.removeClass("has-error"),a().each(e,(function(e){t.filter("."+e+"-group").addClass("has-error")})),this.trigger(e.length?"invalid":"valid")},createMenuOptions:function(e,t){return a().map(e,(function(e){return'<option value="'+e.value+'"'+(e.value===t?" selected":"")+">"+e.label+"</option>"})).join("\n")},getSectionType:function(){if(this.model.sectionType)return this.model.sectionType;var e=this.model.get("type"),t=E.ZP.get(e);return"movie"===e&&this.model.get("agent")===m.Hn&&(t=E.ZP.get("videos")),this.model.sectionType=t,t},setSectionType:function(e){this.model.sectionType=e},populateAgents:function(){var e=this.getSectionType();return e?(this.model.agents||(this.model.agents=new O.Z([],{server:this.model.server,mediaTypeID:e.typeID})),this.model.agents.populate().then((function(e){return e}))):s().Deferred().reject().promise()},populateScanners:function(){var e=this.getSectionType();return e?(this.model.scanners||(this.model.scanners=new H([],{server:this.model.server,sectionTypeID:e.typeID})),this.model.scanners.populate().then((function(e){return e}))):s().Deferred().reject().promise()},populateAgentsProxy:function(){var e=this.getSectionType().exclusiveAgents,t=new j.Z(this.model.agents,e,this.model.get("agent"));return this.model.agentsProxy=t,s().Deferred().resolve(t).promise()},populateScannersProxy:function(){var e=this.getSectionType().exclusiveScanners,t=new z(this.model.scanners,e,this.model.get("scanner"));return this.model.scannersProxy=t,s().Deferred().resolve(t).promise()},populateSectionSettings:function(){if(!this.model.server.supports("sectionSettings"))return s().Deferred().resolve().promise();if(!this.model.settings){var e=new L.Z([],{server:this.model.server}),t={agent:this.model.get("agent")};if(this.model.isNew()){var n=this.getSectionType();t.type=n.typeID,e.url=l.Z.join(["/library/sections/prefs"],t)}else e.url=l.Z.join(["/library/sections/",this.model.id,"/prefs"],t);this.model.settings=e}return this.model.settings.populate().then((()=>(!(!this.model.isNew()||"music"!==this.model.get("type")||!this.model.server.supports("premiumMusic")||this.model.settings.findWhere({id:"importFromiTunes"})||!this.model.server.get("desktop").get("settings").findWhere({id:"iTunesLibraryXmlPath"}))&&this.model.settings.unshift({type:"bool",id:"importFromiTunes",value:!1,label:(0,b.Z)("Import from iTunes"),summary:(0,b.Z)("Importing from iTunes will import your music playlists. It will also import your ratings, the date you added the music, as well as play and skip counts for tracks in your library.")}),this.model.settings)))},populateSectionAgentSettings:function(){if(!this.model.agentSettings){var e=new L.Z([],{server:this.model.server,url:l.Z.join(["/:/plugins/",this.model.get("agent"),"/prefs"])});this.model.agentSettings=e}return this.model.agentSettings.populate()},onModalClose:function(){this.model.scanners=null,this.model.scannersProxy=null,this.model.agents=null,this.model.agentsProxy=null,this.model.settings=null}});var Q=n(68799),G=n.n(Q);const Y=Z.Z.ItemView.extend({template:G(),events:{"change [name]":"onEditSectionSettingInputChange"},serializeData:function(){return{settings:this.collection.toJSON(),edit:!this.model.isNew()}},onEditSectionSettingInputChange:function(e){var t=s()(e.currentTarget),n=t.attr("name");if("importFromiTunes"!==n){var i=t.is(":checkbox")?t.prop("checked"):t.val();this.collection.findWhere({id:n}).set("value",i)}else this.model.set(n,!0)}});var W=n(62288),K=n.n(W);const q=_.extend({template:K(),ui:a().extend({sectionAgent:"#edit-section-agent",sectionScanner:"#edit-section-scanner",thumbnailsCheckbox:'input[name="enableBIFGeneration"]',agentGroup:".agent-group",scannerGroup:".scanner-group"},_.prototype.ui),events:{"change #edit-section-agent":"onEditSectionAgentChange","change #edit-section-scanner":"onEditSectionScannerChange","click .delete-thumbnails-btn":"onThumbnailsDeleteClick"},regions:{sectionSettingsRegion:".section-settings-region",agentSettingsRegion:".section-agent-settings-region"},onlyAfterRender:["renderSectionAgent","renderSectionScanner","renderSectionSettings","renderSectionAgentSettings"].concat(_.prototype.onlyAfterRender),initialize:function(){this.populateCollections()},onRender:function(){this.model.agents.populate(),this.model.scanners.populate()},validate:function(e){var t=[];return e.get("agent")||t.push("agent"),e.get("scanner")||t.push("scanner"),t},renderSectionSettings:function(){var e=new Y({model:this.model,collection:this.model.settings});this.sectionSettingsRegion.show(e)},renderSectionAgentSettings:function(){var e=new x({model:this.model,collection:this.model.agentSettings});this.agentSettingsRegion.show(e)},populateCollections:function(){var e=this.populateAgents(),t=this.populateScanners(),n=this.populateSectionSettings(),i=this.populateSectionAgentSettings();return this.populateAgentsProxy(),this.populateScannersProxy(),e.then(a().bind(this.onAgentsPopulate,this)),t.then(a().bind(this.onScannersPopulate,this)),n.then(a().bind(this.renderSectionSettings,this)),i.then(a().bind(this.renderSectionAgentSettings,this)),s().when(e,t,n,i).then(a().bind(this.validate,this,this.model))},renderSectionAgent:function(){var e=this.model.agentsProxy,t=this.createMenuOptions(e.map((function(e){return{label:e.get("name"),value:e.get("identifier")}})),this.model.get("agent"));this.ui.sectionAgent.html(t),e.length>1&&this.ui.agentGroup.removeClass("hidden")},renderSectionScanner:function(){var e=this.model.scannersProxy,t=this.createMenuOptions(e.map((function(e){return{label:e.get("name"),value:e.get("name")}})),this.model.get("scanner"));this.ui.sectionScanner.html(t),e.length>1&&this.ui.scannerGroup.removeClass("hidden")},updateSectionAgent:function(e){var t=this.model.get("scanner");this.model.set("agent",e),this.agentSettingsRegion.close();var n=this.model.agents.get(e);if(n){var i=n.get("languages"),s=this.model.get("language"),r=this.getSectionType();if(!i.get(s)){var o=i.findWhere({default:!0});o||2!==s.search("-")||(o=i.get(s.substr(0,2))),o||(o=i.get(r.defaultLanguage)||i.first()),this.model.set("language",o.get("code"))}if(this.model.agentSettings=null,this.populateSectionAgentSettings().then(a().bind(this.renderSectionAgentSettings,this)),this.model.settings=null,this.populateSectionSettings().then(a().bind(this.renderSectionSettings,this)),e===r.mutual.agent)this.model.set("scanner",r.mutual.scanner),this.renderSectionScanner();else if(this.model.get("scanner")===r.mutual.scanner){var l=this.model.scanners.find((e=>e.get("name")!==t));this.model.set("scanner",l.get("name")),this.renderSectionScanner()}}this.showValidationResult(this.validate(this.model))},onEditSectionAgentChange:function(e){var t=s()(e.currentTarget).val();this.updateSectionAgent(t)},onEditSectionScannerChange:function(e){var t=s()(e.currentTarget).val(),n=this.model.get("agent"),i=this.getSectionType();if(this.model.set("scanner",t),t===i.mutual.scanner)this.updateSectionAgent(i.mutual.agent),this.renderSectionAgent();else if(this.model.get("agent")===i.mutual.agent){var r=this.model.agents.find((e=>e.get("identifier")!==n));this.updateSectionAgent(r.get("identifier")),this.renderSectionAgent()}this.showValidationResult(this.validate(this.model))},onAgentsPopulate:function(e){this.renderSectionAgent()},onScannersPopulate:function(e){this.renderSectionScanner()},onThumbnailsDeleteClick:function(e){e.preventDefault(),T.Z.execute("deleteSectionThumbnails",{section:this.model}).done(this.whenRendered((function(){this.ui.thumbnailsCheckbox.prop("checked",!1)})))}});var $=n(43298),J=n.n($);const X=_.extend({template:J()});var ee=n(12610),te=n(1547),ne=n(50468),ie=n(79931),se=n.n(ie);const re=Z.Z.ItemView.extend({template:se(),className:"row",events:{"click .remove-path-btn":"onRemovePathClick"},onRemovePathClick:function(e){e.preventDefault(),this.model.trigger("destroy",this.model,this.model.collection)}}),ae=Z.Z.CollectionView.extend({itemView:re});var oe=n(33295),le=n(10059),ce=n(6153),de=n.n(ce);const ue=Z.Z.ItemView.extend({tagName:"li",className:"striped-list-item browse-directory-list-item disabled",template:de(),serializeData:function(){return{filePath:this.model.toJSON()}}});var pe=n(40277),me=n.n(pe);const he=Z.Z.CompositeView.extend({template:me(),itemView:ue,itemViewContainer:".js-file-list-items",bindings:{".js-file-list-truncated-message":{modelAttribute:"truncatedFilesCount",formatter:e=>e?(0,b.Z)("…and {truncatedFilesCount} more",{truncatedFilesCount:e}):null}}});var ge=n(48966),ye=n.n(ge);const ve=Z.Z.ItemView.extend({tagName:"li",className:"striped-list-item browse-directory-list-item",template:ye(),ui:{link:"a",spinner:".loading"},serializeData:function(){return{filePath:this.model.toJSON(),isRoot:!this.model.parent}},select:function(e){this.ui.link.addClass("selected"),this.ui.spinner.toggleClass("hidden",!e)},unselect:function(){this.ui.link.removeClass("selected"),this.ui.spinner.addClass("hidden")}}),fe=Z.Z.CollectionView.extend({tagName:"ul",className:"list browse-directory-list",itemView:ve,selectedFilePath:null,events:{"click a":"onDirectoryClick"},collectionEvents:{reset:"onReset"},startLoadingItem:function(e){this.selectedFilePath&&this.unselectItem(this.selectedFilePath),this.selectedFilePath=e;var t=this.children.findByModel(e);t&&t.select(!0)},stopLoadingItem:function(e){var t=this.children.findByModel(e);t&&t.select(!1)},unselectItem:function(e){this.selectedFilePath=null;var t=this.children.findByModel(e);t&&t.unselect()},onReset:function(){this.parentFilePath&&this.collection.add(this.parentFilePath,{at:0})},onDirectoryClick:function(e){e.preventDefault();var t=s()(e.currentTarget).data("key"),n=this.collection.get(t)||this.parentFilePath;this.trigger("change:path",n),this.options.isRoot||(n.parent.parent?(this.parentFilePath=n.parent.parent.clone(),this.parentFilePath.set({title:".. [Back]",isBackShortcut:!0})):this.parentFilePath=null)}});var Ie=n(21288),be=n(68505),Me=n.n(be);const Se=Ie.Z.extend({name:"addFolderModal",className:"add-folder-modal modal fade",template:Me(),events:a().extend({"submit form":"onSubmitForm"},Ie.Z.prototype.events),ui:{path:'input[name="path"]'},regions:{rootList:".home-directory-container",childrenList:".path-container",childrenFileList:".file-container"},initialize:function(e){Ie.Z.prototype.initialize.apply(this,arguments),this.rootPathList=new le.Z({},{server:e.server,includeFiles:1}),this.childrenPathList=new le.Z({},{server:e.server,includeFiles:1}),this.loadRootPaths()},loadRootPaths:function(){this.rootPathList.fetch().done(this.whenRendered((function(){var e=this.rootPathList.get("paths").where({home:!0}),t=a().first(e)||this.rootPathList.get("paths").first();this.rootList.currentView.startLoadingItem(t),this.loadChildrenPaths(t)})))},loadChildrenPaths:function(e){oe.Z.abortAll("addFolderModal");var t=e.get("children"),n=t.fetch({scope:"addFolderModal"});n.done(this.whenRendered((function(){this.ui.path.val(e.get("path")),this.childrenPathList.get("paths").reset(t.get("paths").models),this.childrenPathList.get("files").reset(t.get("files").models),this.childrenPathList.set("truncatedFilesCount",t.get("truncatedFilesCount"))}))),n.fail(this.whenRendered((function(){this.childrenList.currentView.unselectItem(e),o.Z.trigger("show:alert",{type:"error",message:(0,b.Z)("Unable to load contents of '{1}'",e.get("path"))})}))),n.always(this.whenRendered((function(){this.rootList.currentView.stopLoadingItem(e)})))},onRender:function(){Ie.Z.prototype.onRender.apply(this,arguments);var e=new fe({isRoot:!0,collection:this.rootPathList.get("paths")}),t=new fe({collection:this.childrenPathList.get("paths")}),n=new he({model:this.childrenPathList,collection:this.childrenPathList.get("files")});this.listenTo(e,"change:path",this.onRootPathChange),this.listenTo(t,"change:path",this.onChildrenPathChange),this.rootList.show(e),this.childrenList.show(t),this.childrenFileList.show(n)},onRootPathChange:function(e){this.childrenList.currentView.parentFilePath=null,this.rootList.currentView.startLoadingItem(e),this.loadChildrenPaths(e)},onChildrenPathChange:function(e){this.childrenList.currentView.startLoadingItem(e),this.loadChildrenPaths(e)},onSubmitForm:function(e){e.preventDefault(),this.trigger("add:folder",this.ui.path.val()),this.hide()}});var Ee=n(81185),De=n.n(Ee),Ce=Object.assign;function Pe(e,t){return e.findWhere({type:t,state:ee.iN})||e.findWhere({type:t,state:ee.j5})}function we(e,t){return e.findWhere({type:t,state:ee.zK})||e.findWhere({type:t,state:ee.J$})||e.findWhere({type:t,state:ee.Ku})}const Te=_.extend({template:De(),fieldNames:["Location"],regions:{pathsRegion:".paths-region"},ui:Ce(Ce({},_.prototype.ui),{addFolderBtn:".add-folder-btn",addFolderPopulating:".add-folder-populating",addFolderError:".add-folder-error",arcadeDownloadMediaInput:"#arcade-download-media",arcadeGreeting:"#arcade-greeting",arcadeRequired:"#arcade-required",arcadeUpsell:"#arcade-upsell",parsecRequired:"#parsec-required"}),events:{"click .add-folder-btn":"onAddFolderClick","change input[name=path]":"onFolderChange","change input[name=downloadMedia]":"onDownloadMediaChange"},onlyAfterRender:["renderSectionLocation"].concat(_.prototype.onlyAfterRender),initialize:function(){this.listenTo(this.model.get("locations"),{add:this.onCollectionChange,remove:this.onCollectionChange}),this.model.get("type")===E.Wp&&this.listenTo((0,c.DB)("appModel").get("user"),{change:this.onUserChange}),this.renderSectionLocation(),this.showValidationResult(this.validate(this.model))},serializeData:function(){var e=this.model.get("type")===E.Wp,t=this.model.isNew()&&e,n=(0,c.DB)("appModel").get("user"),i=!!Pe(n.get("subscriptions"),te.VW),s=!(!we(n.get("subscriptions"),te.VW)&&!we(n.get("pastSubscriptions"),te.VW)),r=(0,ne.Z)(n.get("services").toJSON(),"parsec"),a=e&&i,o=t&&s&&!i,d=t&&!s&&!i,u=e&&i&&!r;return Ce(Ce({},_.prototype.serializeData.call(this)),{hideArcadeGreeting:!a,hideArcadeRequired:!o,hideArcadeUpsell:!d,hideParsecRequired:!u,isDisabled:t&&!i,isGamesSection:e,isNewGamesSection:t,subscribeURL:l.Z.join(["https://www.plex.tv","/arcade/checkout"])})},validate:function(e){var t=Pe((0,c.DB)("appModel").get("user").get("subscriptions"),te.VW);if(e.isNew()&&e.get("type")===E.Wp){if(!t)return["subscriptionRequired"];if(e.get("downloadMedia"))return[]}var n=[];return e.get("locations").length||n.push("locations"),n},renderSectionLocation:function(){var e=new ae({collection:this.model.get("locations")});this.pathsRegion.show(e)},onCollectionChange:function(){this.showValidationResult(this.validate(this.model))},onAddFolderClick:function(e){e.preventDefault();var t=new Se({server:this.model.server});this.listenToOnce(t,"add:folder",this.onAddFolder),o.Z.trigger("show:modal",t)},onAddFolder:function(e){if(e){var t={path:e};this.model.get("locations").findWhere(t)||this.model.get("locations").add(t)}},onFolderChange:function(e){var t=s()(e.currentTarget),n=t.prop("defaultValue"),i=t.val();i?(this.model.get("locations").findWhere({path:n}).set("path",i),t.prop("defaultValue",i)):t.val(n)},onDownloadMediaChange:function(e){s()(e.currentTarget).prop("checked")?(this.model.set("downloadMedia",1),this.trigger("valid")):(this.model.unset("downloadMedia"),this.trigger("invalid"))},onUserChange:function(){const{hideArcadeGreeting:e,hideArcadeRequired:t,hideArcadeUpsell:n,hideParsecRequired:i,isDisabled:s}=this.serializeData(),{addFolderBtn:r,arcadeDownloadMediaInput:a,arcadeGreeting:o,arcadeRequired:l,arcadeUpsell:c,parsecRequired:d}=this.ui;r.prop("disabled",s),a.prop("disabled",s),o.toggleClass("hidden",e),l.toggleClass("hidden",t),c.toggleClass("hidden",n),d.toggleClass("hidden",i),this.showValidationResult(this.validate(this.model))}});var Ze=n(82642),Ne=n(27749),Ae=n.n(Ne);const xe=_.extend({template:Ae(),ui:{chooseLibrary:".choose-library"},events:{"click .choose-library":"onChooseLibraryClick"},modelEvents:{"change:agent":"onSectionAgentChange","change:scanner":"onSectionScannerChange"},onlyAfterRender:["updateSelectedOffering"],initialize:function(){this.hasPremiumMusic=this.model.server.hasOwnerFeature("premium_music_metadata"),this.updateSelectedOffering()},serializeData:function(){var e=c.DB("appModel").get("user");return{hasPremiumMusic:this.hasPremiumMusic,plexPassUrl:e.server.get("plexPassUrl"),hasLyrics:this.model.server.get("transcoderLyrics")}},updateSelectedOffering:function(){var e=this.model.get("agent"),t=this.model.get("scanner");this.ui.chooseLibrary.find("input").prop("checked",!1);var n=this.ui.chooseLibrary.filter('[data-agent="'+e+'"][data-scanner="'+t+'"]').find("input");n.length||(n=this.ui.chooseLibrary.not("[data-agent][data-scanner]").find("input")),n.prop("checked",!0)},onChooseLibraryClick:function(e){var t=s()(e.currentTarget),n=t.data("agent"),i=t.data("scanner");!n&&!i||this.hasPremiumMusic?(this.model.agentSettings=null,this.model.set({agent:n||this.getSectionType().defaultAgent,scanner:i||this.getSectionType().defaultScanner})):o.Z.trigger("show:modal",new Ze.Z({model:this.model.server}))},onSectionAgentChange:function(){this.updateSelectedOffering()},onSectionScannerChange:function(){this.updateSelectedOffering()}});var Le=n(45399),Oe=n(78188),je=n(16561),ke=n(5450),Re=n(80080),ze=n(47323),Ue=n(61309),Ve=n(99131),Be=n(85669);const Fe=function(e){switch(e){case E.MB:return Re.Z;case E.xF:return ze.Z;case E.n1:return Ue.Z;case E.TV:return Ve.Z;case E.FM:return ke.Z;case E.Wp:return Be.Z}};var He=n(458),_e=n.n(He),Qe=Object.assign;function Ge(e,t){return(null==e?void 0:e.key)!==E.Wp||t.get("games")}const Ye=_.extend({template:_e(),ui:a().extend({sectionTypes:".wizard-block",sectionTitle:"#edit-section-title",sectionLanguage:"#edit-section-language",sectionLanguageGroup:".language-group"},_.prototype.ui),modelEvents:{"change:type":"onSectionTypeChange","change:title":"onSectionTitleChange","change:language":"onSectionLanguageChange"},events:{"click .section-type":"onSectionTypeClick","keyup #edit-section-title":"onEditSectionTitleChange","change #edit-section-title":"onEditSectionTitleChange","change #edit-section-language":"onEditSectionLanguageChange"},onlyAfterRender:["renderSectionLanguage","updateSectionTypesWizardBlocks","updateSectionLanguage","updateSectionTitle"].concat(_.prototype.onlyAfterRender),initialize:function(e){this.populateCollections(),this.isDefaultSection=e.isDefaultSection},serializeData:function(){var e=_.prototype.serializeData.apply(this,arguments);const t=c.DB("appModel"),n=t.get("user"),i=n.get("features").get(Le.ZM)&&this.model.server.hasOwnerFeature(Le.ZM);e.sectionTypes=E.ZP.getAll().reduce(((e,t)=>((t.key!==E.Wp||i)&&e.push(Qe(Qe({},t),{typeIcon:(0,je.Z)(Fe(t.key),{className:"wizard-block-icon"})})),e)),[]);var s=this.getSectionType();s&&(e.currentSectionKey=s.key);var r=this.model.get("updatedAt");return r&&(e.updatedAt=(0,Oe.Z)(r)),e.canChangeType=this.model.isNew()&&!this.isDefaultSection,e.hasType=!!this.model.get("type"),e.isInitialTypeSupported=Ge(this.model.sectionType,this.model.server),e.escapedUpdatedAt=a().escape(e.updatedAt),e},validate:function(e){var t=[];return e.get("type")||t.push("type"),e.get("title")||t.push("title"),e.get("language")||t.push("language"),e.get("isCollectionsPopulated")||t.push("collectionsNotPopulated"),Ge(e.sectionType,e.server)||t.push("unsupportedType"),t},populateCollections:function(){this.model.set("isCollectionsPopulated",!1);var e=this.populateAgents(),t=this.populateScanners(),n=this.getSectionType(),i=s().when(n,e,t,this.model.server.get("myPlexSubscription")&&this.model.server.supports("premiumMusic"));return this.model.isNew()&&(i=i.then(a().bind(this.model.setAgentAndScanner,this.model))),i.then(e).then(a().bind(this.onAgentsPopulate,this)).then(a().bind((function(){this.showValidationResult(this.validate(this.model))}),this)).then((()=>{this.model.isNew()&&this.model.get("type")===E.Wp?this.model.set("downloadMedia",1):this.model.unset("downloadMedia"),this.model.set("isCollectionsPopulated",!0)}))},renderSectionLanguage:function(){var e=this.model.get("language"),t=this.model.agents.get(this.model.get("agent"));if(t){var n=t.get("languages");if(!n.get(e)){var i,s=n.findWhere({default:!0});if(s&&(i=s.get("code")),!i){var r=this.model.get("type");i=E.ZP.get(r).defaultLanguage}this.model.set("language",i,{silent:!0}),e=i}var a=n.map((function(e){return{label:e.get("name"),value:e.id}}));this.updateSectionLanguage(),this.ui.sectionLanguage.html(this.createMenuOptions(a,e))}else this.ui.sectionLanguageGroup.hide()},updateSectionTypesWizardBlocks:function(){this.ui.sectionTypes.removeClass("selected"),this.ui.sectionTypes.filter('[data-key="'+this.model.get("type")+'"]').addClass("selected"),this.$el.addClass("section-type-chosen")},updateSectionLanguage:function(){this.ui.sectionLanguage.val(this.model.get("language"))},updateSectionTitle:function(){var e=this.ui.sectionTitle.val(),t=this.model.get("title");e!==t&&this.ui.sectionTitle.val(t)},onSectionTypeClick:function(e){e.preventDefault();var t=s()(e.currentTarget);if(t.hasClass("selectable")){var n=t.data("key"),i={type:n},r=E.ZP.get(n);this.model.get("title")||(i.title=r.title),this.model.set(i)}},onEditSectionTitleChange:function(e){var t=s()(e.currentTarget);this.model.set("title",t.val()),this.showValidationResult(this.validate(this.model))},onEditSectionLanguageChange:function(e){var t=s()(e.currentTarget);this.model.set("language",t.val()),this.showValidationResult(this.validate(this.model))},onSectionTypeChange:function(e,t){this.updateSectionTypesWizardBlocks();var n=E.ZP.get(t);if(!this.model.get("language")){var i=n.defaultLanguage;this.model.set("language",i)}var s=this.model.get("title"),r=this.model.previous("type"),a=E.ZP.get(r),o=a&&a.title;s&&s!==o||this.model.set("title",n.title),this.setSectionType(n),this.model.agents=null,this.model.scanners=null,this.model.settings=null;const l=Ge(n,this.model.server);this.$el.toggleClass("is-type-unsupported",!l),l&&this.populateCollections()},onSectionTitleChange:function(e,t){this.updateSectionTitle(),this.showValidationResult(this.validate(this.model))},onSectionLanguageChange:function(e,t){this.updateSectionLanguage()},onAgentsPopulate:function(e){this.renderSectionLanguage()}});var We=n(35424),Ke=n(19380),qe=n.n(Ke);const $e=Ie.Z.extend({mixins:[C.Z],name:"editSectionModal",className:"edit-section-modal modal modal-lg fade",template:qe(),panes:{type:{constructor:Ye,nextPane:"folders",dependentPanes(){return this.showFolders?["folders"]:["options","advanced"]}},folders:{constructor:Te,nextPane:"options",dependentPanes:["options","advanced"]},options:{constructor:xe,nextPane:"advanced"},advanced:{constructor:q},error:{constructor:X}},panesModel:"tempModel",ui:{sidebar:".modal-nav-list",optionsBtn:".options-btn",saveBtn:".save-btn",message:".form-message",headerSectionType:".section-type-title"},regions:{paneRegion:".pane-region"},events:a().extend({"click .change-pane-btn":"onChangePaneClick","click .save-btn":"onSaveClick","submit .edit-section-type-form":"onGeneralFormSubmit"},Ie.Z.prototype.events),onlyAfterRender:["showPane","updateMessage","updateSectionTitle","updateSectionTitleDestabilized","updateSaveBtn"],paneConstructorArg:function(){return{isDefaultSection:this.isDefaultSection}},initialize:function(e){Ie.Z.prototype.initialize.apply(this,arguments),this.server=e.server,this.redirect=e.redirect,this.isDefaultSection=e.isDefaultSection,this.isLoading=!0,this.model?(this.tempModel=this.model.clone(),this.tempModel.collection=this.model.collection):this.tempModel=new d.Z({},{server:this.server,collection:this.server.get("sections")}),this.listenTo(this.tempModel,"change:type",this.onSectionTypeChange),this.tempModel.isNew()&&e.seedAttrs&&this.tempModel.set(this.tempModel.parse(e.seedAttrs)),this._deferred=s().Deferred(),this.promise=this._deferred.promise();var t=this.server.get("providers");t.populate().done(this.whenRendered((()=>{var n=t.get(g.Y3).get("features").get(h.d3).get("automaticLibraryFolders");this.showFolders=!n,this.isLoading=!1,this.render(),this.showPane(e.selectedPane||"type")})))},serializeData:function(){var e=this.tempModel,t=e.isNew(),n=e&&(0,b.Z)("Edit {1}",e.get("title"),{escape:!0});return{isLoading:this.isLoading,add:t,edit:!t,paneTitle:n,section:e&&e.toJSON(),selectedPane:this.selectedPane,showFolders:this.showFolders}},updateMessage:function(e){this.ui.message.text(e||"")},updateSaveBtn:function(){var e=this.ui.saveBtn,t=this.panes[this.selectedPane],n=a().bind((function(n){var i,s=t.nextPane,r=this.tempModel.isNew(),a=!t.constructor.prototype.validate||0===t.constructor.prototype.validate(this.tempModel).length,o=!this.getReachablePanes().isAnyInvalid,l=this.tempModel.get("isCollectionsPopulated");this.ui.optionsBtn.toggleClass("hidden",!n.showOptions);var c=l&&(o||r&&a);i=s,n.showOptions||"options"!==s||(i=!1),o&&(i=!1),n.showOptions&&"options"===s&&(i=!0),n.showAdvanced&&"advanced"===s&&(i=!0),this.tempModel.isNew()&&"folders"===s&&(i=!0),e.toggleClass("save",!i),e.toggleClass("next",!!i),e.toggleClass("disabled",!c)}),this),i=this.tempModel.server,s=this.tempModel.sectionType,r=s&&"music"===s.key&&i.supports("premiumMusic"),o=this.tempModel.isNew();r?this.paneRegion.currentView.populateAgents().then((function(e){var t=e.findWhere({identifier:m.zR}),i=o&&t;n({showOptions:i,showAdvanced:i})})):n({})},updateSectionTitle:function(){var e=E.ZP.get(this.tempModel.get("type"));if(e){this.updateSectionTitleDestabilized();var t=a().escape(e.title);this.ui.headerSectionType.html(t)}},updateSectionTitleDestabilized:function(){this.ui.headerSectionType.addClass("section-type-title-unstable"),this.ui.headerSectionType.triggerReflow(),this.ui.headerSectionType.removeClass("section-type-title-unstable")},save:function(){var e=this.ui.saveBtn;this.updateMessage(""),e.addClass("active");var t=this.saveModel();t.always((function(){e.removeClass("active")})),t.fail(a().bind((function(e){503===e.status?o.Z.trigger("show:modal",new We.Z({model:this.server})):this.updateMessage((0,b.Z)("Your changes could not be saved."))}),this)),t.then(a().bind((function(){var e=this.model.server.entityID(),t=(0,c.DB)("appStore").dispatch;if(t((0,p.lm)({serverEntityID:e})),t((0,p.tU)({serverEntityID:e})),!this.redirect)return this._deferred.resolve(),void this.hide();var n,i={machineIdentifier:this.model.server.get("machineIdentifier"),isCloud:this.model.server.get("isCloud")},s={identifier:g.Y3,isLibraryProvider:!0},r={id:this.model.id},a=this.model.get("type"),o={};(0,w.Z)()?(o.pivot=(0,y.Z)(this.model.server.get("version"),u.Z.pivotIDs)?"library":(0,f.Z)(this.model.id,a),a===S.ARTIST&&(o.key=l.Z.join(["/library/sections",this.model.id,"all"],{type:(0,S.getMetadataType)(S.ALBUM).id,sort:"addedAt:desc"})),n=(0,D.Z)(i,s,r,o)):(o.key=(0,f.Z)(this.model.id,a),a===S.ARTIST&&(o.typeKey=`/library/sections/${this.model.id}/all?type=${(0,S.getMetadataType)(S.ALBUM).id}`,o.sort="addedAt:desc"),n=(0,D.Z)(i,s,r,o)),window.location.hash=n,this._deferred.resolve(),this.hide()}),this))},saveModel:function(){var e,t=this.getSectionSettingsParams(),n=t?{data:{prefs:t}}:{};return this.tempModel.isNew()?e=(e=this.tempModel.save(null,n)).then(a().bind((function(e,n,i){var s=v.Z.parseXML(e);if(201===i.status){if(s.Directory&&(s=s.Directory),!s.key){var r=i.getResponseHeader("Location");r&&(s.key=r.substring(r.lastIndexOf("/")+1))}var a=this.server;a.supports("advancedFilters")&&(s.filters=!0),this.model=new d.Z(s,{parse:!0,server:a}),a.get("sections").add(this.model);var o=null==t?void 0:t.hidden,l="string"==typeof o?parseInt(o,10):null;if(1!==l&&2!==l){var u=a.get("providers").get(g.Y3),p=u?(0,M.Z)(u.toJSON(),this.model.toJSON()):null,m=p?p.key:null;u&&m&&(0,c.DB)("appStore").dispatch((0,P.W1)({sources:[{key:(0,I.Z)(m,a.get("machineIdentifier"),u.get("identifier"),s.key),sourceType:m,serverEntityID:a.entityID(),machineIdentifier:a.get("machineIdentifier"),providerEntityID:u.entityID(),providerIdentifier:u.get("identifier"),providerMetricsIdentifier:u.get("metricsIdentifier"),directoryID:s.key,directoryIcon:null,title:this.model.get("title"),serverFriendlyName:a.get("friendlyName"),serverSourceTitle:a.get("sourceTitle"),isLocal:a.get("isPrivateConnection"),isUnavailable:!1,isOutOfDate:!1,isUnclaimedServer:!a.get("isClaimed"),isFullOwnedServer:a.get("isFullOwnedServer"),isProviderReady:!0}],interaction:!1}))}return i}}),this)):(this.model.copy(this.tempModel),e=this.model.save(null,n)),e.then(a().bind(this.saveAgentSettings,this))},saveSettings:function(e){var t=s().Deferred().resolve(this.model).promise();if(!this.server.supports("sectionSettings"))return t;if(!e)return t;var n=l.Z.join(["/library/sections/",this.model.id,"/prefs"],e),i=a().extend(this.server.getXHROptions(n),{type:"PUT"});return s().ajax(i).promise().then((function(){return t}))},saveAgentSettings:function(){var e=s().Deferred().resolve(this.model).promise(),t=this.tempModel.agentSettings;if(!this.tempModel.agentSettings)return e;var n=this.getSettingsChanges(t);if(a().isEmpty(n))return e;var i=t.first(),r=i.getSaveParams(n),o=a().result(t,"url"),c=l.Z.join([o,"/set"],r),d=i.server.getXHROptions(c);return s().ajax(d).promise().then((function(){return e}))},getSectionSettingsParams:function(){var e=this.tempModel.settings;if(e){var t=this.getSettingsChanges(e);if(!a().isEmpty(t))return e.first().getSaveParams(t)}},getSettingsChanges:function(e){return e.filter((function(e){return e.changedAttributes()})).reduce((function(e,t){var n=t.get("value");return"bool"===t.get("type")&&(n=n?"1":"0"),e[t.get("id")]=n,e}),{})},onPaneShow:function(e,t){this.listenTo(t,"valid",this.updateSaveBtn),this.listenTo(t,"invalid",this.updateSaveBtn),this.updateSaveBtn()},onPaneHide:function(e,t){this.stopListening(t,"valid",this.updateSaveBtn),this.stopListening(t,"invalid",this.updateSaveBtn)},onChangePaneClick:function(e){e.preventDefault();var t=this.$(e.currentTarget);t.isDisabled()||this.showPane(t.data("pane"))},onSaveClick:function(e){e.preventDefault();var t=this.ui.saveBtn;if(!t.isDisabled())if(t.hasClass("next")){var n=this.panes[this.selectedPane].nextPane;"folders"!==n||this.showFolders||(n=this.ui.sidebar.find(".options-btn").isDisabled()?"advanced":"options"),n&&!this.ui.sidebar.find("."+n+"-btn").isDisabled()&&this.showPane(n)}else this.save()},onGeneralFormSubmit:function(e){this.onSaveClick(e)},onSectionTypeChange:function(){this.updateSaveBtn()}})},35424:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(13469),s=n.n(i),r=n(12319),a=n(21288),o=n(18039),l=n(60862),c=n.n(l);const d=a.Z.extend({name:"libraryFailureModal",className:"confirm-modal modal modal-sm fade",template:c(),events:s().extend({"click .confirm-btn":"hide"},a.Z.prototype.events),serializeData(){return{isSignedIn:this.model.get("myPlexSigninState")===r.Hq,hasPlexSubscription:this.model.get("myPlexSubscription"),serverSettingsRoute:(0,o.Z)(this.model.id,"settings","general")}}})},82642:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(13469),s=n.n(i),r=n(93966),a=n(21288),o=n(27556),l=n.n(o);const c=a.Z.extend({name:"plexPassModal",template:l(),serializeData:function(){return{plexPassUrl:r.DB("appModel").get("user").server.get("plexPassUrl"),escapedFriendlyName:s().escape(this.model.get("friendlyName")),isClaimed:this.model.get("isClaimed")}}})},38892:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(19755),s=n.n(i),r=n(13469),a=n.n(r),o=n(21288);const l=o.Z.extend({className:"select-modal modal modal-sm fade",events:a().extend({"click a":"onClick"},o.Z.prototype.events),initialize:function(){o.Z.prototype.initialize.apply(this,arguments),this.promise=s().Deferred()},onRender:function(){o.Z.prototype.onRender.apply(this,arguments)},onHide:function(e){o.Z.prototype.onHide.apply(this,arguments),this.promise.reject()},onClick:function(e){e.preventDefault(),this.promise.resolve(s()(e.currentTarget).data("value")),this.hide()}})},35839:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(13469),s=n.n(i),r=n(65652),a=n(91135),o=n(69881),l=n(60603),c=n.n(l);const d=r.Z.ItemView.extend({className:"convert-policy-container",template:c(),ui:{policyUnwatchedInput:"#convert-policy-unwatched",policyScopeInput:"#convert-policy-scope",policyValueInput:"#convert-policy-value",policyWarning:".convert-warning"},events:{"change input[name=policyUnwatched]":"onPolicyUnwatchedChange","change input[name=policyScope]":"onPolicyScopeChange","keyup input[name=policyValue]":"onPolicyValueChange","change input[name=policyValue]":"onPolicyValueChange"},initialize:function(e){this.type=(0,o.getMetadataType)(this.model.get("metadataType")||"movie"),this.leafMediaType=(0,o.getLeafType)(this.type.typeString).mediaType,this.model.setPolicyDefaultsFor(this.leafMediaType)},serializeData:function(){var e={isSync:this.options.isSync,isDirectory:this.model.get("isDirectory"),policy:this.model.get("policy").toJSON()};return e.showLimitWarning=this.model.shouldShowPolicyWarning(this.leafMediaType,e.policy.value),e.showUnwatched=e.isDirectory&&this.leafMediaType===a.pX,e},updatePolicyValue:function(){var e=this.model.get("policy"),t=Math.abs(parseInt(this.ui.policyValueInput.val(),10));this.ui.policyValueInput.val(s().isNaN(t)?"":t),s().isNaN(t)&&(t=0),e.set("value","all"===e.scope?null:t);var n=this.model.shouldShowPolicyWarning(this.leafMediaType,t);this.ui.policyWarning.toggleClass("hidden",!n)},onPolicyUnwatchedChange:function(e){this.model.get("policy").set("unwatched",this.ui.policyUnwatchedInput.prop("checked"))},onPolicyScopeChange:function(e){var t=this.model.get("policy"),n=this.ui.policyScopeInput.prop("checked")?this.ui.policyScopeInput.val():"all";t.set("scope",n),this.updatePolicyValue()},onPolicyValueChange:function(e){this.updatePolicyValue()}})},74527:(e,t,n)=>{"use strict";n.d(t,{Z:()=>K});var i=n(19755),s=n.n(i),r=n(76154),a=n(71576),o=n(29415),l=n(11023),c=n(13469),d=n.n(c),u=n(69865),p=n(55983);const m=u.Z.extend({idAttribute:"title",whitelistedAttrs:["title","selected"],convert:function(e){var t=d().isObject(e)?e:p.Z.parseXML(e);return p.Z.parseBoolean(t,"selected"),t},parse:function(e,t){var n=this.convert(e);return d().pick(n,this.whitelistedAttrs)}}),h=o.Z.extend({model:m,url:"/clients/profiles?type="+l.Z.LOCAL,parse:function(e){return this.convert(e,"Profile")}}),g=u.Z.extend({name:"VersionTargetModel",whitelistedAttrs:["id","tag","tagType","MediaSettings","Device"],convert:function(e){var t=d().isObject(e)?e:p.Z.parseXML(e);return p.Z.parseInteger(t,"id"),t},parse:function(e,t){var n=this.convert(e);return d().pick(n,this.whitelistedAttrs)}}),y=o.Z.extend({model:g,url:"/library/tags?type="+l.Z.LOCAL,comparator:function(e){return e.get("MediaSettings").maxVideoBitrate},parse:function(e){return this.convert(e,"Tag")}});var v=n(21288),f=n(65652),I=n(22110),b=n.n(I);const M=f.Z.ItemView.extend({className:"modal-body",template:b(),events:{"click .try-again-link":"onTryAgainClick"},serializeData:function(){return{status:this.options.status}},onTryAgainClick:function(e){e.preventDefault(),this.triggerMethod("request:state","loading")}});var S=n(60963),E=n(95933),D=n(32707),C=n(41105),P=n(5562),w=n(90912),T=n(82295),Z=n.n(T);const N=f.Z.ItemView.extend({className:"convert-location-container form-group",template:Z(),events:{"change select[name=storageLocation]":"onLocationChange"},serializeData:function(){return{disableLocation:!this.model.isNew(),selectedLocationID:this.model.get("locationID"),locations:this.model.section&&this.model.section.get("locations").toJSON()}},onLocationChange:function(e){this.model.set("locationID",parseInt(e.currentTarget.value,10))}});var A=n(35839),x=n(45662),L=n(33232),O=n(32433),j=n.n(O);const k=f.Z.ItemView.extend({className:"convert-target-container form-group",template:j(),ui:{targetTitleInput:".convert-target-title"},events:{"change select[name=target]":"onTargetChange","keydown input[name=targetTitle]":"onTitleKeyDown","change input[name=targetTitle]":"onTitleChange","change select[name=targetProfile]":"onProfileChange","change select[name=targetQuality]":"onQualityChange"},initialize:function(e){this.targets=e.targets,this.profiles=e.profiles;var t=this.model.get("Device").profile;this.selectedProfile=t?this.profiles.get(t):this.profiles.findWhere({selected:!0}),this.availableCustomQualities=L.Z.getAvailableQualities({lowestQualityIndex:x.G}).reverse();var n=this.model.get("mediaSettings").get("maxVideoBitrate");if(n){var i=L.Z.getNearestIndexToBitrate(n);this.selectedCustomQuality=L.Z.getQualityByIndex(i)}else this.selectedCustomQuality=d().first(this.availableCustomQualities);this.model.isNew()||this.model.get("targetTagID")||this.$el.addClass("show-custom-target")},serializeData:function(){return{item:this.model.toJSON(),targets:this.targets.toJSON(),disableTarget:!this.model.isNew(),profiles:this.profiles.toJSON(),selectedProfile:this.selectedProfile.toJSON(),availableCustomQualities:this.availableCustomQualities,selectedCustomQuality:this.selectedCustomQuality}},updateDeviceProfile:function(e){this.model.get("Device").profile=this.selectedProfile.get("title")},updateMediaSettings:function(e){this.model.get("mediaSettings").set({videoQuality:e.videoQuality,videoResolution:e.videoResolution,maxVideoBitrate:e.bitrate})},onTargetChange:function(e){var t=parseInt(e.currentTarget.value,10);t>-1?(this.model.unset("target"),this.model.set({targetTagID:t,Device:{}}),this.model.get("mediaSettings").restoreDefaults()):(this.model.set("target",this.ui.targetTitleInput.val()),this.model.unset("targetTagID"),this.updateDeviceProfile(this.selectedProfile),this.updateMediaSettings(this.selectedCustomQuality)),this.$el.toggleClass("show-custom-target",-1===t)},onTitleKeyDown:function(e){190===e.which&&0===e.currentTarget.selectionStart&&e.preventDefault()},onTitleChange:function(e){this.model.set("target",e.currentTarget.value)},onProfileChange:function(e){this.selectedProfile=this.profiles.findWhere({title:e.currentTarget.value}),this.updateDeviceProfile(this.selectedProfile)},onQualityChange:function(e){var t=parseInt(e.currentTarget.value,10);this.selectedCustomQuality=L.Z.getQualityByIndex(t),this.updateMediaSettings(this.selectedCustomQuality)}});var R=n(7580),z=n.n(R);const U=f.Z.Layout.extend({template:z(),ui:{submitBtn:".submit-btn"},regions:{policyRegion:".policy-region",targetsRegion:".targets-region",locationRegion:".location-region"},events:{"change input[name=title]":"onTitleChange","submit #convert-form":"onSubmit"},initialize:function(e){if(this.playlist=e.playlist,this.targets=e.targets,this.profiles=e.profiles,this.model){this.tempModel=this.model.clone();var t=this.model.get("Location").librarySectionID;if(t){var n=new S.Z({key:t},{server:this.model.server,onlyIfCached:!0});d().isEmpty(n)||(this.tempModel.section=n)}}else{var i,s=e.item,r=e.items,a=s.has("childrenKey")?new E.Z({containerKey:s.get("childrenKey")},{server:s.server,provider:s.provider}):s,o=s.server;if(s.get("isSection"))i=s;else{var l=(0,C.Z)(s);d().isEmpty(l)||(i=l)}this.tempModel=new w.Z({title:D.Z.title(s,{items:r}),targetTagID:this.targets.first().id,Location:{uri:D.Z.uri(a,{items:r})}},{server:o,section:i})}},serializeData:function(){return{conversionItem:this.tempModel.toJSON(),isNew:this.tempModel.isNew(),showRemuxOnlyWarning:this.tempModel.server.get("transcoderVideoRemuxOnly")}},onRender:function(){this.policyRegion.show(new A.Z({model:this.tempModel,isSync:!1})),this.targetsRegion.show(new k({model:this.tempModel,targets:this.targets,profiles:this.profiles})),this.locationRegion.show(new N({model:this.tempModel}))},onTitleChange:function(e){this.tempModel.set("title",e.currentTarget.value)},onSubmit:function(e){e.preventDefault();var t=this.ui.submitBtn;if(!t.hasClass("active")){if(t.addClass("active"),!this.tempModel.get("targetTagID")&&!this.tempModel.get("target")){var n=this.tempModel.get("Device");this.tempModel.set("target",(0,P.Z)("Custom: {1}",n.profile))}var i=this.playlist.addContent(this.tempModel);i.done(this.whenRendered((function(){if(this.model){var e=d().omit(this.tempModel.toJSON(),"children");this.model.set(this.model.parse(e))}this.trigger("request:nextState")}))),i.fail(this.whenRendered((function(e){var t=e.responseText,n=p.Z.parseXML(t),i=n&&n.status;this.trigger("request:state","error",i)})))}}});var V=n(21967),B=n.n(V);const F=f.Z.ItemView.extend({className:"modal-body loading-container",template:B()});var H=n(97189),_=n(7369),Q=n.n(_);const G=f.Z.ItemView.extend({className:"modal-body",template:Q(),events:{"click .status-link":"onStatusClick"},onStatusClick:function(e){e.preventDefault(),this.triggerMethod("request:nextState"),(0,H.Z)("serverSettings",{machineIdentifier:this.options.server.id,settingsSection:"status",settingsGroup:"conversion"})}});var Y=n(63768),W=n.n(Y);const K=v.Z.extend({mixins:[r.Z],name:"convertModal",className:"convert-modal modal fade",template:W(),regions:{bodyRegion:".modal-body-region"},initialize:function(e){v.Z.prototype.initialize.apply(this,arguments),this.server=this.model?this.model.server:e.item.server;var t={server:this.server,allowInCache:!0};this.playlists=new a.Z([],t),this.targets=new y([],t),this.profiles=new h([],t)},initialState:"loading",states:{loading:{nextState:"form",onEnter:function(){this.bodyRegion.show(new F),this.listenForStateRequests();const e=this.options.item,t=e&&!e.get("isMetadataList");var n=s().when(t?e.populate():null,this.playlists.populate(),this.targets.populate(),this.profiles.populate(),this.server.get("sections").populate());n.done(this.whenRendered((function(){this.playlist=this.playlists.first(),this.playlist?this.enterNextState():this.enterState("error")}))),n.fail(this.whenRendered((function(){this.enterState("error")})))}},form:{nextState:"success",onEnter:function(){this.bodyRegion.show(new U({model:this.model,item:this.options.item,items:this.options.items,playlist:this.playlist,targets:this.targets,profiles:this.profiles})),this.listenForStateRequests()}},success:{onEnter:function(){this.model?this.hide():(this.bodyRegion.show(new G({server:this.server})),this.listenForStateRequests())}},error:{onEnter:function(e){this.bodyRegion.show(new M({status:e})),this.listenForStateRequests()}}},listenForStateRequests:function(){this.bodyRegion&&this.bodyRegion.currentView&&this.listenTo(this.bodyRegion.currentView,{"request:state":this.enterState,"request:nextState":this.enterNextState})},onRender:function(){v.Z.prototype.onRender.apply(this,arguments),this.enterNextState()},onStateMachineComplete:function(){this.hide()}})},58499:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Q});var i=n(19755),s=n.n(i),r=n(13469),a=n.n(r),o=n(93966),l=n(16013),c=n(59756),d=n(21288),u=n(64529),p=n(20367),m=n.n(p);const h=u.Z.extend({className:"user-select-alert-bar",template:m()});var g=n(38076),y=n(29705),v=n(47909),f=n(94018),I=n(65652),b=n(5562),M=n(68187),S=n(89001);const E=n(64106).Z.extend({getUrl(e){if(e){const t=(0,S.Z)();return v.Z.join(e,{size:Math.round(this.width*t)})}return e}});var D=n(74237),C=n.n(D);const P=I.Z.ItemView.extend({tagName:"li",className:"user-select-list-item",template:C(),ui:{container:".user-select-container",poster:".user-poster"},events:{"click a":"onClick"},initialize:function(e){this.disabled=e.disabled,this.posterImage=new E({model:this.model,type:"friend",width:80});var t=o.DB("appModel").get("primaryServer");t&&t.supports("imageFilters")&&(this.backgroundImage=new E({model:this.model,type:"friend",width:120,background:!0,filters:{blur:20,opacity:50,background:"000000"}}),this.backgroundImage.placeholderClass=!1)},serializeData:function(){return{disabled:this.disabled}},bindings:{".username":{modelAttribute:"title"},".managed-title":{modelAttribute:"restrictionProfile",autohide:!0,formatter(e){if(this.model.get("restricted")&&!this.model.get("guest"))return e?M.oL(e).title:(0,b.Z)("Managed User")}},".protected-icon":{modelAttribute:"protected",autohide:!0,manual:!0},".admin-icon":{modelAttribute:"admin",autohide:!0,manual:!0}},onRender:function(){this.posterImage.setElement(this.ui.poster),this.backgroundImage&&this.backgroundImage.setElement(this.ui.container)},onClose:function(){this.posterImage.close(),this.backgroundImage&&this.backgroundImage.close()},onClick:function(e){e.preventDefault(),this.trigger("selectUser",this.model)}});var w=n(91159),T=n.n(w);const Z=I.Z.Layout.extend({className:"user-select-modal-pin-container",template:T(),ui:{digitContainer:".pin-digit-container",input:".pin-input",digits:".pin-digit",loading:".loading",removeBtn:".remove-btn",saveBtn:".save-btn",pinForgotLink:".pin-forgot-link"},regions:{userList:".user-select-list"},events:{"keydown input":"onKeyDown","input input":"onInput","keyup input":"onKeyUp","focus input":"onFocus","blur input":"onBlur","change input":"onChange","animationend .pin-input-container":"onInputsAnimationEnd","webkitAnimationEnd .pin-input-container":"onInputsAnimationEnd","oAnimationEnd .pin-input-container":"onInputsAnimationEnd","click .back-btn":"onBackClick","click .remove-btn":"onRemoveClick","submit #pin-form":"onSubmit","click .pin-digit":"onPINClick","keydown .save-btn":"onSaveKeyDown"},onlyAfterRender:["confirmUser"],initialize:function(e){var t=o.DB("appModel");this.isForced=e.isForced,this.isEditing=e.isEditing,this.isEditWarning=e.isEditWarning,this.showBackButton=e.showBackButton,this.openAddManagedUser=e.openAddManagedUser,this.focusDelay=e.focusDelay,this.user=t.get("user"),this.isEditConfirmation=this.isEditing&&this.model.get("protected")&&!this.model.get("restricted")},serializeData:function(){return{isEditing:this.isEditing&&!this.isEditConfirmation,isEditWarning:this.isEditWarning,isEditConfirmation:this.isEditConfirmation,isOpeningAddManagedUser:this.openAddManagedUser,hasCurrentPIN:this.model.get("protected"),showBackButton:this.showBackButton}},focusInput:function(){this.ui.input.val(""),this.ui.input.focus()},getPIN:function(){return this.ui.input.val()},editPIN:function(e){this.ui.saveBtn.isDisabled()||(this.ui.saveBtn.addClass("disabled"),this.savePIN(e).fail(this.whenRendered((function(){this.ui.saveBtn.removeClass("disabled"),y.Z.trigger("show:alert",{type:"error",message:(0,b.Z)("This PIN could not be saved.")})}))))},removePIN:function(){this.ui.removeBtn.isDisabled()||(this.ui.removeBtn.addClass("disabled"),this.savePIN("").fail(this.whenRendered((function(){this.ui.removeBtn.removeClass("disabled"),y.Z.trigger("show:alert",{type:"error",message:(0,b.Z)("This PIN could not be removed.")})}))))},savePIN:function(e){this.ui.loading.removeClass("hidden");var t=this.model.get("restricted"),n=this.model.getSaveParams(),i={};this.currentPin&&(i.currentPin=this.currentPin),""===e&&t?i.removePin=1:i.pin=e;var r=s().extend(!0,{},n,i),o=v.Z.join(this.model.pinUrl(),r),l=this.model.server.getXHROptions(o,{type:t?"POST":"PUT"}),c=s().ajax(l);return c.done(a().bind((function(){this.model.set("protected",!!e),this.model.id===this.user.id&&(e?this.user.set("pin",this.user.hashPIN(e)):this.user.unset("pin"),this.user.set("home",this.user.hasHome())),this.trigger("resolve",e)}),this)),c.always(this.whenRendered((function(){this.ui.loading.addClass("hidden")}))),c},confirmUser:function(e){this.ui.loading.removeClass("hidden");var t=f.Z.execute("switchUser",{homeUser:this.model,pin:e,allowGuestLock:!this.isEditing});t.done(a().bind((function(){this.isEditing?(this.isEditConfirmation=!1,this.currentPin=e,this.render()):this.trigger("resolve",e,this.openAddManagedUser)}),this)),t.fail(this.whenRendered((function(){this.ui.digitContainer.addClass("shake"),this.ui.input.val(""),this.focusInput()}))),t.always(this.whenRendered((function(){this.ui.loading.addClass("hidden")})))},renderPIN:function(){var e=this.getPIN(),t=e.length,n=this.isEditing&&!this.isEditConfirmation;this.ui.digits.each((function(i,r){var a=e[i]||"";a&&!n&&(a="&bull;"),s()(r).toggleClass("current",i===t).html(a)}))},onRender:function(){this.userList.show(new P({model:this.model,disabled:!0})),this.ui.pinForgotLink.toggleClass("hidden",this.model.get("restricted")),g.Z.mobile||window.setTimeout(a().bind(this.focusInput,this),this.focusDelay)},onKeyDown:function(e){var t=e.which;13!==t&&8!==t&&46!==t&&229!==t&&(t>=48&&t<=57||t>=96&&t<=105||e.preventDefault())},onInput:function(e){var t=s()(e.currentTarget),n=t.val(),i=n.length,r=n.charAt(n.length-1);/[0-9]/.test(r)?4===n.length&&(!this.isEditing||this.isEditConfirmation?(t.blur(),this.confirmUser(this.getPIN())):this.ui.saveBtn.focus()):t.val(n.slice(0,i-1))},onKeyUp:function(e){this.renderPIN()},onFocus:function(e){this.renderPIN()},onBlur:function(e){this.renderPIN(),this.ui.digits.removeClass("current")},onChange:function(e){this.renderPIN()},onInputsAnimationEnd:function(e){s()(e.currentTarget).removeClass("shake")},onBackClick:function(e){e.preventDefault(),this.trigger("change:pane","users")},onRemoveClick:function(e){e.preventDefault(),this.removePIN()},onSubmit:function(e){e.preventDefault();var t=this.getPIN();4===t.length?this.isEditing&&!this.isEditConfirmation?this.editPIN(t):this.confirmUser(t):y.Z.trigger("show:alert",{type:"error",message:(0,b.Z)("Please enter a 4 digit PIN.")})},onSaveKeyDown:function(e){var t=e.which;8!==t&&46!==t||(e.preventDefault(),this.ui.input.val(""),this.focusInput())},onPINClick:function(){this.focusInput()}});var N=n(23593),A=n(92216),x=n(43322),L=n(21009),O=n(38170),j=n(16561),k=n(49883),R=n.n(k);const z=I.Z.ItemView.extend({tagName:"li",className:"user-select-list-item",template:R(),events:{"click a":"onClick"},initialize(e){this.disabled=e.disabled},serializeData(){return{iconAdd:(0,j.Z)(O.Z,{className:"add-icon"}),disabled:this.disabled}},onClick(e){e.preventDefault(),this.trigger("selectUser",this.model,!0)}}),U=L.Z.extend({tagName:"ul",className:"tile-list user-select-list",itemView:P,onRender(){this.options.showAddUser&&this.addItemView(this.options.adminModel,z,this.collection.length)}});var V=n(99590),B=n.n(V);const F=I.Z.Layout.extend({className:"user-select-modal-users-container",template:B(),ui:{loading:".loading"},regions:{body:".modal-body"},onlyAfterRender:["onUserPopulated","onHomeUsersPopulated","onError"],initialize:function(e){var t=o.DB("appModel");this.user=t.get("user"),this.homeUsers=this.user.get("homeUsers"),this.user.server.populate().done(a().bind(this.onUserPopulated,this)).fail(a().bind(this.onError,this))},showList:function(e){this.ui.loading.addClass("hidden");const t=e.findWhere({admin:!0});this.body.show(new U({collection:e,adminModel:t,showAddUser:!!t})),this.listenTo(this.body.currentView,"itemview:selectUser",this.onUserSelect)},selectUser:function(e,t){this.ui.loading.removeClass("hidden");var n=f.Z.execute("switchUser",{homeUser:e,switchUser:!0,allowGuestLock:!0});n.done(a().bind((function(){this.trigger("resolve",null,t)}),this)),n.always(this.whenRendered((function(){this.ui.loading.addClass("hidden")})))},onUserPopulated:function(){this.homeUsers.fetch().done(a().bind(this.onHomeUsersPopulated,this)).fail(a().bind(this.onError,this))},onHomeUsersPopulated:function(e){this.showList(e)},onError:function(){var e=N.Z.getActiveUser();if(e&&e.get("home")){var t={id:e.id,title:e.get("title"),protected:!!e.get("pin")};this.showList(new A.Z([t],{server:this.user.server,parent:this.user}))}else this.user.set("lockState",x.Ik.Unlocked),this.trigger("resolve")},onUserSelect:function(e,t,n){t.get("protected")?this.trigger("change:pane","pin",{model:t,showBackButton:!0,openAddManagedUser:n,focusDelay:0}):this.selectUser(t,n)}});var H=n(30290),_=n.n(H);const Q=d.Z.extend({name:"userSelectModal",className:"user-select-modal modal modal-transparent fade",template:_(),transparent:!0,panes:{users:F,pin:Z},regions:{content:".modal-content",alertBar:".modal-alert"},initialize:function(e){d.Z.prototype.initialize.apply(this,arguments);var t=o.DB("appModel");this.options=e,this.isForced=e.isForced,this.user=t.get("user"),this.promise=s().Deferred()},showPane:function(e,t){this.currentPane&&this.stopListening(this.currentPane);var n=new(0,this.panes[e])(a().extend({},this.options,t));return this.listenTo(n,{"change:pane":this.onChangePane,resolve:this.onResolve,reject:this.onReject}),this.currentPane=n,this.content.show(n),n},showAlertBar:function(){const e=l.Z[0];l.Z.length=0,this.alertBar.show(new h({alert:e}))},onRender:function(){d.Z.prototype.onRender.apply(this,arguments),this.model?this.showPane("pin",{focusDelay:this.focusDelay}):this.showPane("users"),this.showAlertBar()},onHide:function(e){d.Z.prototype.onHide.apply(this,arguments),"pending"===this.promise.state()&&this.promise.reject()},onChangePane:function(e,t){this.showPane(e,t)},onResolve:function(e,t){null==c.Z.continueUrl||this.options.isEditing?(t&&(window.location="#!/settings/users-sharing?addManagedUser=1"),this.promise.resolve(e),this.hide()):window.location=c.Z.continueUrl},onReject:function(){this.promise.reject(),this.hide()}})},57501:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ct});var i=n(67294),s=n(69605),r=n(53790),a=n(37703),o=n(22222),l=n(81017),c=n(24781),d=n(35871),u=n(58858),p=n(18676),m=n(75774),h=n(45610),g=n(15378),y=n(46565),v=n(93143),f=n(5562),I=n(25366),b=n(84388),M=n(40691),S=n(39571),E=n(13550);const D=function(e){const{children:t,metadataItem:n,isAddingHomeUser:s,isCreatingManagedUser:r,isSharingSingleLibrary:a,errorMessage:o,onModalClose:l}=e;let c;return c=n?(0,f.Z)("Share {metadataTitle}",{metadataTitle:(0,E.Z)(n,I.U)}):s?(0,f.Z)("Invite Home User"):r?(0,f.Z)("Create Managed User"):a?(0,f.Z)("Share Library"):(0,f.Z)("Add A Friend"),i.createElement(S.Z,{onModalClose:l},i.createElement(b.Z,null,c),o?i.createElement(M.Z,{errorMessage:o}):null,t)};var C=n(58300),P=n(44352);var w=Object.prototype.hasOwnProperty,T=Object.getOwnPropertySymbols,Z=Object.prototype.propertyIsEnumerable,N=Object.assign;const A={onNext:d.wV},x=(0,a.$j)(null,A)((function(e){const{onNext:t,onModalClose:n}=e,s=((e,t)=>{var n={};for(var i in e)w.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&T)for(var i of T(e))t.indexOf(i)<0&&Z.call(e,i)&&(n[i]=e[i]);return n})(e,["onNext","onModalClose"]);return i.createElement(p.ZP,{className:"InviteHomeUserWarning-form-27FDaQ",onSubmit:t},i.createElement(D,N({onModalClose:n},s),i.createElement(m.Z,{className:"InviteHomeUserWarning-modalBody-25mxLk ModalBody-modalBody-3v8fMY",scrollDirection:v.Hn},i.createElement(P.Z,{className:"InviteHomeUserWarning-warning-3nJ-Zs"}),i.createElement("div",null,(0,f.Z)("Inviting other users to your home is a security risk that could allow these users to access your account. You should only do this if you live in the same home and share devices."))),i.createElement(h.Z,null,i.createElement(g.Z,null,i.createElement(u.Z,{onPress:n},(0,f.Z)("Cancel")),i.createElement(C.Z,{type:"submit",kind:y._8},(0,f.Z)("Continue"))))))}));var L=n(39365),O=n(74253),j=n(90354),k=n(15041),R=n(19318),z=n(58801),U=n(7665),V=n(48604),B=n(74186),F=n(35589),H=n(7796),_=n(44963),Q=n(81093);var G=Object.assign;const Y=(0,Q.Z)((function(e){return i.createElement(_.Z,G({className:"ShareServerLibrariesServerTitle-input-205-oc CheckInput-label-25ZmsW"},e))}));var W=Object.assign;function K(e){return i.createElement(_.Z,W({},e))}K.defaultProps={className:"ShareServerLibrary-input-3n-cWI CheckInput-input-3zLcUz"};const q=(0,Q.Z)(K),$=parseInt(H.Z.serverShareListRowHeight,10);class J extends i.Component{constructor(e,t){super(e,t),this.onTogglePress=()=>{this.setState({isCollapsed:!this.state.isCollapsed})},this.onAllLibrariesToggle=()=>{this.setState({isAllLibrariesChecked:!this.state.isAllLibrariesChecked})};const{sourceServer:n,serverOverview:i,serverShare:s,selectedAllLibrariesMachineIdentifiers:r}=e;this.state={isCollapsed:n.machineIdentifier!==F.X&&n.machineIdentifier!==i.machineIdentifier,isAllLibrariesChecked:null!=r?r.includes(i.machineIdentifier):!(!s||!s.allLibraries)}}render(){const{sourceDirectory:e,sourceServer:t,serverOverview:n,serverShare:s,selectedLibrarySectionIDs:r}=this.props,{isAllLibrariesChecked:a,isCollapsed:o}=this.state,{machineIdentifier:l,name:c,sections:d}=n,u={maxHeight:o?0:(d.length||1)*$},p=e&&e.id;let m=c;return a&&(m+=` (${(0,f.Z)("All Libraries")})`),i.createElement(i.Fragment,null,i.createElement("div",{className:"ShareServerLibraries-header-2KZeGo"},i.createElement(V.Z,{className:a?"ShareServerLibraries-toggleButtonHidden-3DLUZN ShareServerLibraries-toggleButton-1nq4dd Link-link-3v-v0b":"ShareServerLibraries-toggleButton-1nq4dd Link-link-3v-v0b",onPress:this.onTogglePress},i.createElement(U.Z,{direction:o?B.pX:B.WV})),i.createElement(Y,{name:JSON.stringify({[k.I]:l}),checkboxText:m,initialValue:a,onChange:this.onAllLibrariesToggle})),i.createElement("div",{className:"ShareServerLibraries-libraries-2twLie",style:u},a||0!==d.length?null:i.createElement("div",{className:"ShareServerLibraries-emptyMessage-2TetM6"},(0,f.Z)("No libraries")),d.map((e=>{const{id:n,key:o,title:c}=e;let d;if(null!=r)d=r.includes(n);else{const e=t.machineIdentifier===l&&p===o,i=!!(s&&s.libraries&&s.libraries.find((e=>e.id===n)));d=e||i}return i.createElement(q,{key:n,className:a?"ShareServerLibraries-hidden-3vhUoS":void 0,name:JSON.stringify({[k.n]:n}),checkboxText:c,initialValue:d})}))))}}const X=J,ee=function(e){const{sourceDirectory:t,sourceServer:n,serverOverviews:s,serverShares:r,selectedAllLibrariesMachineIdentifiers:a,selectedLibrarySectionIDs:o,hasNextStep:l,isPopulating:c,showList:d,isNewFriend:I,isAddingHomeUser:b,isCreatingManagedUser:M,isSharingPending:S,errorMessage:E,onPreviousStep:P,onSubmit:w,onModalClose:T}=e;let Z;return Z=l?(0,f.Z)("Continue"):M?(0,f.Z)("Add"):I?(0,f.Z)("Send"):(0,f.Z)("Save"),i.createElement(p.ZP,{className:"ShareLibraries-form-2HKiEq",onSubmit:w},i.createElement(D,{isAddingHomeUser:b,isCreatingManagedUser:M,isSharingSingleLibrary:!!t,errorMessage:E,onModalClose:T},i.createElement(m.Z,{className:"ShareLibraries-modalBody-p-R5Zc ModalBody-modalBody-3v8fMY",scrollDirection:v.Hn},i.createElement("div",{className:"ShareLibraries-message-3bWSGl"},(0,f.Z)("Choose some libraries to share.")),c?i.createElement("div",{className:"ShareLibraries-spinnerContainer-35uJwB"},i.createElement(z.Z,null)):null,d?i.createElement(R.Z,{className:"ShareLibraries-scroller-1TV7LQ Scroller-vertical-1tg_Qg",autoScroll:!0},s.map((e=>{const{machineIdentifier:s}=e,l=r.find((e=>e.machineIdentifier===s));return i.createElement(X,{key:s,sourceDirectory:t,sourceServer:n,serverOverview:e,serverShare:l,selectedAllLibrariesMachineIdentifiers:a,selectedLibrarySectionIDs:o})}))):null),i.createElement(h.Z,{className:"ShareLibraries-modalFooter-2e23aF ModalFooter-modalFooter-3ru3TD"},i.createElement(u.Z,{onPress:T},(0,f.Z)("Cancel")),i.createElement(g.Z,null,i.createElement(u.Z,{onPress:P},(0,f.Z)("Previous")),i.createElement(C.Z,{type:"submit",kind:y._8,isDisabled:c||S,isSpinning:S},Z)))))};var te=Object.prototype.hasOwnProperty,ne=Object.getOwnPropertySymbols,ie=Object.prototype.propertyIsEnumerable,se=Object.assign;const re={dispatchFetchServerOverviews:d.ly,dispatchFetchServerShares:d.vX,dispatchSetLibraryShares:d.jD,onPreviousStep:d.Es};class ae extends i.Component{constructor(){super(...arguments),this.onSubmit=e=>{const t=Object.keys(e).reduce(((t,n)=>{if(!e[n])return t;const i=JSON.parse(n);return i.hasOwnProperty(k.n)&&t.selectedLibrarySectionIDs.push(i[k.n]),i.hasOwnProperty(k.I)&&t.selectedAllLibrariesMachineIdentifiers.push(i[k.I]),t}),{selectedAllLibrariesMachineIdentifiers:[],selectedLibrarySectionIDs:[]});this.props.dispatchSetLibraryShares(t)}}componentDidMount(){const{friendEntityID:e,sharingEligibleServerEntityIDs:t,dispatchFetchServerOverviews:n,dispatchFetchServerShares:i}=this.props;n({serverEntityIDs:t}),i({friendEntityID:e})}render(){const e=this.props,{sharingEligibleServerEntityIDs:t,dispatchFetchServerOverviews:n,dispatchFetchServerShares:s}=e,r=((e,t)=>{var n={};for(var i in e)te.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&ne)for(var i of ne(e))t.indexOf(i)<0&&ie.call(e,i)&&(n[i]=e[i]);return n})(e,["sharingEligibleServerEntityIDs","dispatchFetchServerOverviews","dispatchFetchServerShares"]);return i.createElement(ee,se(se({},r),{onSubmit:this.onSubmit}))}}const oe=(0,a.$j)((function(){return(0,o.P1)((e=>e.ui.shareModal),O.Z,L.Z,(0,j.Z)(),((e,t,n,i)=>{const{steps:s,serverOverviews:r,selectedAllLibrariesMachineIdentifiers:a,selectedLibrarySectionIDs:o,isNewFriend:l,isServerOverviewsPopulating:u,isServerOverviewsPopulated:p,isServerSharesPopulating:m,isServerSharesPopulated:h,isSharingPending:g,sharingError:y,serverSharesError:v}=e,f=u||m,I=p&&h,b=v||y;return{sharingEligibleServerEntityIDs:n,sourceServer:t,serverOverviews:r,selectedAllLibrariesMachineIdentifiers:a,selectedLibrarySectionIDs:o,serverShares:i?i.serverShares:[],hasNextStep:(0,d.$i)(s,c.p.LIBRARIES),isPopulating:f&&!b,isSharingPending:g&&!b,showList:I,isNewFriend:l,errorMessage:b}}))}),re)(ae);var le=n(13209),ce=n(59701),de=n(55885),ue=n(68187),pe=n(45399),me=n(96909),he=n(27620);var ge=Object.prototype.hasOwnProperty,ye=Object.getOwnPropertySymbols,ve=Object.prototype.propertyIsEnumerable,fe=Object.assign;const Ie=(0,Q.Z)((function(e){const{subtitle:t}=e,n=((e,t)=>{var n={};for(var i in e)ge.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&ye)for(var i of ye(e))t.indexOf(i)<0&&ve.call(e,i)&&(n[i]=e[i]);return n})(e,["subtitle"]);return i.createElement("div",{className:"ShareRestrictionsCheckInputItem-container-1At6N0"},i.createElement(_.Z,fe({size:he.HC},n)),t?i.createElement("span",{className:"ShareRestrictionsCheckInputItem-subtitle-2idVzm"},t):null)}));var be=n(40498),Me=n(69881),Se=n(32003),Ee=n(38625),De=n(28671);const Ce="ShareRestrictionsFilters-section-1oxtDi";var Pe=Object.prototype.hasOwnProperty,we=Object.getOwnPropertySymbols,Te=Object.prototype.propertyIsEnumerable,Ze=Object.assign;const Ne=function(e){const{className:t,friendFilterOptions:n}=e,s=((e,t)=>{var n={};for(var i in e)Pe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&we)for(var i of we(e))t.indexOf(i)<0&&Te.call(e,i)&&(n[i]=e[i]);return n})(e,["className","friendFilterOptions"]),{filterMovies:r,filterTelevision:a,filterMusic:o}=n,l=(0,Ee.Z)(r,be.ZO,be.Jm),c=(0,Ee.Z)(r,be.GP,be.Bi),d=(0,Ee.Z)(a,be.ZO,be.Jm),u=(0,Ee.Z)(a,be.GP,be.Bi),p=(0,Ee.Z)(o,be.GP,be.Bi);return i.createElement("div",{className:t},i.createElement("div",{className:Ce},i.createElement("div",null,(0,f.Z)("Content Restrictions"),i.createElement(I.Z,null),Se.ZP.get(Se.MB).title),i.createElement(De.Z,Ze({name:"moviesContentRatings",metadataType:Me.MOVIE,tagType:be.ZO,initialValue:l.initialAllowTags,excludedTags:l.excludeTags,onChange:l.onAllowTagsChange},s)),i.createElement(De.Z,Ze({name:"moviesExcludeContentRatings",metadataType:Me.MOVIE,tagType:be.Jm,initialValue:l.initialExcludeTags,excludedTags:l.allowTags,onChange:l.onExcludeTagsChange},s)),i.createElement(De.Z,Ze({name:"moviesLabels",metadataType:Me.MOVIE,tagType:be.GP,initialValue:c.initialAllowTags,excludedTags:c.excludeTags,onChange:c.onAllowTagsChange},s)),i.createElement(De.Z,Ze({name:"moviesExcludeLabels",metadataType:Me.MOVIE,tagType:be.Bi,initialValue:c.initialExcludeTags,excludedTags:c.allowTags,onChange:c.onExcludeTagsChange},s))),i.createElement("div",{className:Ce},i.createElement("div",null,(0,f.Z)("Content Restrictions"),i.createElement(I.Z,null),Se.ZP.get(Se.TV).title),i.createElement(De.Z,Ze({name:"televisionContentRatings",metadataType:Me.SHOW,tagType:be.ZO,initialValue:d.initialAllowTags,excludedTags:d.excludeTags,onChange:d.onAllowTagsChange},s)),i.createElement(De.Z,Ze({name:"televisionExcludeContentRatings",metadataType:Me.SHOW,tagType:be.Jm,initialValue:d.initialExcludeTags,excludedTags:d.allowTags,onChange:d.onExcludeTagsChange},s)),i.createElement(De.Z,Ze({name:"televisionLabels",metadataType:Me.SHOW,tagType:be.GP,initialValue:u.initialAllowTags,excludedTags:u.excludeTags,onChange:u.onAllowTagsChange},s)),i.createElement(De.Z,Ze({name:"televisionExcludeLabels",metadataType:Me.SHOW,tagType:be.Bi,initialValue:u.initialExcludeTags,excludedTags:u.allowTags,onChange:u.onExcludeTagsChange},s))),i.createElement("div",{className:Ce},i.createElement("div",null,(0,f.Z)("Content Restrictions"),i.createElement(I.Z,null),Se.ZP.get(Se.xF).title),i.createElement(De.Z,Ze({name:"musicLabels",metadataType:Me.ARTIST,tagType:be.GP,initialValue:p.initialAllowTags,excludedTags:p.excludeTags,onChange:p.onAllowTagsChange},s)),i.createElement(De.Z,Ze({name:"musicExcludeLabels",metadataType:Me.ARTIST,tagType:be.Bi,initialValue:p.initialExcludeTags,excludedTags:p.allowTags,onChange:p.onExcludeTagsChange},s))))};var Ae=n(66734),xe=n(1284);const Le=(0,Q.Z)((function(e){const{name:t,title:n,subtitle:s,value:r,values:a,onChange:o}=e;return i.createElement("div",null,i.createElement(Ae.Z,null,n),i.createElement(xe.Z,{name:t,value:r,values:a,size:he.HC,onChange:o}),s?i.createElement("div",{className:"ShareRestrictionsSelectInputItem-subtitle-qLF_WW"},s):null)})),Oe="ShareRestrictions-message-1guNwc",je="ShareRestrictions-section-3Xig3t";function ke(e){return parseInt(e,10)}const Re=function(e){const{friend:t,sourceDirectory:n,filterOptionsTags:s,isFilterOptionsTagsPopulating:r,isFilterOptionsTagsPopulated:a,canAddToHome:o,canShareTunersWithFriends:l,canShareDVR:c,canShowRestrictions:d,canShowRestrictionsFilters:I,isAddingHomeUser:b,isCreatingManagedUser:M,isSharingPending:S,errorMessage:E,onPreviousPress:w,onSubmit:T,onModalClose:Z}=e,N=!!t&&t.home,A=!t||t.allowSync,x=!!t&&t.allowCameraUpload,L=t?t.allowTuners:0,O=t?{filterMovies:t.filterMovies,filterTelevision:t.filterTelevision,filterMusic:t.filterMusic}:{},[j,k]=(0,i.useState)(N||b||M),z=j||l;return i.createElement(p.ZP,{className:"ShareRestrictions-form-256uAD",onSubmit:T},i.createElement(D,{isAddingHomeUser:b,isCreatingManagedUser:M,isSharingSingleLibrary:!!n,errorMessage:E,onModalClose:Z},i.createElement(m.Z,{className:"ShareRestrictions-modalBody-1lO7UE ModalBody-modalBody-3v8fMY",scrollDirection:v.Hn},i.createElement(R.Z,{className:"ShareRestrictions-scroller-1Xxpuu Scroller-vertical-1tg_Qg",autoScroll:!0},o?i.createElement("div",{className:Oe},(0,f.Z)("Users in your Home appear on the Switch User screen. The invited user will be asked to confirm Home membership.")):null,o?i.createElement("div",{className:je},i.createElement(Ie,{name:"addToHome",checkboxText:(0,f.Z)("Add to Plex Home"),initialValue:N,isDisabled:N,onChange:k})):null,j&&!M?i.createElement("div",{className:"ShareRestrictions-warningMessage-29729v ShareRestrictions-message-1guNwc"},i.createElement(P.Z,{className:"ShareRestrictions-warningIcon-2zYikI"}),(0,f.Z)("Inviting other users to your home is a security risk that could allow these users to access your account. You should only do this if you live in the same home and share devices.")):null,i.createElement("div",{className:Oe},(0,f.Z)("You can restrict this user's access to certain features and content. These restrictions apply to all items shared with this user. You can change them at any time in the Users & Sharing settings.")),i.createElement("div",{className:je},i.createElement(Ie,{name:"allowSync",checkboxText:(0,f.Z)("Allow Downloads"),subtitle:(0,f.Z)("This will allow this user to download content from your server"),initialValue:A}),d?i.createElement(Ie,{name:"allowCameraUpload",checkboxText:(0,f.Z)("Allow Camera Upload"),subtitle:(0,f.Z)("This will allow this user to upload media to your server"),initialValue:x}):null,z&&!c?i.createElement(Ie,{name:"allowTuners",checkboxText:(0,f.Z)("Allow access to Live TV"),subtitle:(0,f.Z)("Enabling this option will allow this user to access Live TV streams. It requires a library on the Plex Media Server that has DVR configured to be shared with the user"),initialValue:!!L}):null,z&&c?i.createElement(Le,{name:"allowTuners",title:(0,f.Z)("Live TV & DVR Access"),subtitle:(0,f.Z)("Enabling Live TV for this user requires sharing a library with them. Enabling DVR will show all scheduled recordings, but this user will only be able to manage their own recordings"),initialValue:L,value:me.Z.values[L],values:me.Z.values,transformValue:ke}):null),d&&I?i.createElement(Ne,{className:"ShareRestrictions-list-9ihAVb",filterOptionsTags:s,friendFilterOptions:O,isFilterOptionsTagsPopulating:r,isFilterOptionsTagsPopulated:a}):null)),i.createElement(h.Z,{className:"ShareRestrictions-modalFooter-3qZD3j ModalFooter-modalFooter-3ru3TD"},i.createElement(u.Z,{onPress:Z},(0,f.Z)("Cancel")),i.createElement(g.Z,null,i.createElement(u.Z,{onPress:w},(0,f.Z)("Previous")),i.createElement(C.Z,{type:"submit",kind:y._8,isDisabled:S,isSpinning:S},M?(0,f.Z)("Add"):(0,f.Z)("Send"))))))};var ze=Object.prototype.hasOwnProperty,Ue=Object.getOwnPropertySymbols,Ve=Object.prototype.propertyIsEnumerable,Be=Object.assign,Fe=(e,t)=>{var n={};for(var i in e)ze.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Ue)for(var i of Ue(e))t.indexOf(i)<0&&Ve.call(e,i)&&(n[i]=e[i]);return n};class He extends i.Component{componentDidMount(){const{serverEntityIDs:e,dispatchFetchFilterOptionsTags:t}=this.props;t(e)}render(){const e=this.props,{serverEntityIDs:t,dispatchFetchFilterOptionsTags:n}=e,s=Fe(e,["serverEntityIDs","dispatchFetchFilterOptionsTags"]);return i.createElement(Re,Be({},s))}}const _e=(0,a.$j)((function(){return(0,o.P1)(((e,{isAddingHomeUser:t})=>t),((e,{isCreatingManagedUser:t})=>t),(e=>e.ui.shareModal),le.Z,(0,j.Z)(),(0,ce.Z)("hasPlexPass"),(0,de.Z)(pe.jq),(0,de.Z)(pe.LD),(0,de.Z)(pe.d6),((e,t,n,i,s,r,a,o,l)=>{const{restrictionProfileIdentifier:c,filterOptionsTags:d,isFilterOptionsTagsPopulating:u,isFilterOptionsTagsPopulated:p,isSharingPending:m,sharingError:h}=n;return{serverEntityIDs:i,friend:s,filterOptionsTags:d,isFilterOptionsTagsPopulating:u,isFilterOptionsTagsPopulated:p,canAddToHome:r&&!e&&!t,canShareTunersWithFriends:a,canShareDVR:o,canShowRestrictions:l,canShowRestrictionsFilters:!c||c===ue.Pq,isSharingPending:m&&!h,errorMessage:h}}))}),(function(e){return{dispatchFetchFilterOptionsTags(t){e((0,d.L1)({serverEntityIDs:t}))},onPreviousPress(){e((0,d.Es)())},onSubmit(t){const{addToHome:n}=t,i=Fe(t,["addToHome"]);e((0,d.K_)({addToHome:n,restrictions:i}))}}}))(He);var Qe=n(45859),Ge=n(66935),Ye=n(12986),We=n(47909);const Ke=()=>{},qe=(0,a.$j)((function(){return(0,o.P1)((e=>e.ui.shareModal),(0,de.Z)(pe.OV),((e,t)=>{const{username:n,metadataItemEntityID:i,serverOverviews:s,selectedAllLibrariesMachineIdentifiers:r,selectedLibrarySectionIDs:a,inviteToken:o,inviteTokenError:l}=e;return{username:n,inviteToken:o,inviteTokenError:l,libraryCount:r?r.reduce(((e,t)=>e+s.find((e=>e.machineIdentifier===t)).sections.length),a.length):null,isSharingSingleItem:!!i,hasNewSharingInvitationFeature:t}}))}))((function(e){const{sourceDirectory:t,metadataItem:n,username:s,inviteToken:r,inviteTokenError:a,libraryCount:o,isSharingSingleItem:l,isAddingHomeUser:c,hasNewSharingInvitationFeature:d,onModalClose:p}=e,[b,M]=(0,i.useState)(!1),S=(0,Ye.Z)(b),C=(0,i.useRef)(null),P=function(e,t,n){if(n){const n={inviteToken:e};return t?n.sharedItems=1:n.sharedServers=1,We.Z.join(["https://app.plex.tv/auth","#!"],n)}return We.Z.join(["https://plex.tv","servers/shared_servers/accept"],{invite_token:e})}(r,l,d),w=(0,i.useCallback)((()=>{Qe.writeText(P),M(!0)}),[P]);let T;(0,i.useEffect)((()=>(!S&&b&&(C.current=window.setTimeout((()=>{M(!1),window.clearTimeout(C.current)}),2e3)),()=>{window.clearTimeout(C.current)})),[S,b]),T=n?(0,f.Z)("You shared {metadataTitle} with {username}.",{metadataTitle:(0,E.Z)(n,I.U),username:s}):0===o||c?(0,f.Z)("We've sent an invite to {username}.",{username:s}):1===o?(0,f.Z)("You shared a library with {username}.",{username:s}):(0,f.Z)("You shared {libraryCount} libraries with {username}.",{libraryCount:o,username:s});const Z=(n||o)&&!a;return i.createElement("div",{className:"ShareSummary-container-2-H9gR"},i.createElement(D,{metadataItem:n,isSharingSingleLibrary:!!t,onModalClose:p},i.createElement(m.Z,{className:"ShareSummary-modalBody-13keve ModalBody-modalBody-3v8fMY",scrollDirection:v.Hn},i.createElement("div",{className:"ShareSummary-content-3LA2mZ"},i.createElement("p",null,T),Z?i.createElement("p",null,(0,f.Z)("We've sent an email asking them to confirm, or they can use this link to accept the invitation"),":"):null,a?i.createElement("div",null,a):null,Z?i.createElement("div",{className:"ShareSummary-inviteLink-1HXo9I"},i.createElement(Ge.Z,{className:"ShareSummary-input-17CRcR TextInput-input-M2gRCL input-input-26w-zg",name:"inviteLink",value:P,readOnly:"readonly",onChange:Ke}),i.createElement(V.Z,{className:"ShareSummary-copyLink-2iSuoO Link-link-3v-v0b",kind:y._8,isDisabled:b||!!a,onPress:w},b?(0,f.Z)("Copied!"):(0,f.Z)("Copy link"))):null)),i.createElement(h.Z,null,i.createElement(g.Z,null,i.createElement(u.Z,{kind:y._8,onPress:p},(0,f.Z)("Finish"))))))}));var $e=n(2530);const Je={};var Xe=n(34891),et=n(52581),tt=n(82261),nt=n(79678),it=n(32448),st=n(86970),rt=n(52114);function at(e){return e.includes("@")}function ot(e,t){return!e.home&&t.home?1:e.home&&!t.home?-1:0}function lt(e){return{id:-1,title:e.trim(),thumb:`https://plex.tv/users/${encodeURIComponent(e)}/avatar`}}class ct extends i.Component{constructor(e,t){super(e,t),this.isUserSelected=e=>this.state.selectedFriendID===e.id||!this.state.selectedFriendID&&this.state.username===e.title,this.onUsernameChange=e=>{this._clearOnUsernameChangeTimeout(),this.setState({username:e,selectedFriendID:null,isChangingUsername:!0},(()=>{this.props.isCreatingManagedUser||(this._timeoutID=window.setTimeout((()=>{this._timeoutID=null,this.props.onValidateUsername({username:e})}),500))}))},this.onUserSelect=e=>{this.setState({selectedFriendID:e===this.state.selectedFriendID?null:e})},this.onRestrictionProfileSelect=e=>{this.setState({restrictionProfileIdentifier:e})},this.onSubmit=({restrictionProfileIdentifier:e})=>{const{metadataItemEntityID:t,users:n,isAddingHomeUser:i,isCreatingManagedUser:s,onSetUsername:r,onSetUser:a}=this.props,{username:o,selectedFriendID:l}=this.state;l&&-1!==l?a({metadataItemEntityID:t,friendEntityID:n.find((e=>e.id===l)).entityID,isAddingHomeUser:i}):r({metadataItemEntityID:t,username:o.trim(),restrictionProfileIdentifier:e,isAddingHomeUser:i,isCreatingManagedUser:s})},this.state={username:e.username,selectedFriendID:null,isChangingUsername:!1,restrictionProfileIdentifier:e.restrictionProfileIdentifier}}static getDerivedStateFromProps(e,t){return t.isChangingUsername&&e.isUsernameValidating?{isChangingUsername:!1}:null}componentWillUnmount(){this._clearOnUsernameChangeTimeout()}_clearOnUsernameChangeTimeout(){this._timeoutID&&window.clearTimeout(this._timeoutID)}render(){const{serverEntityID:e,sourceDirectory:t,metadataItem:n,users:s,existingHomeUsernames:r,hasNextStep:a,hasPlexPass:o,isAddingHomeUser:l,isCreatingManagedUser:c,isUsernameValidating:d,isUsernameValidated:I,isSharingPending:b,sharingError:M,onModalClose:S}=this.props,{username:E,selectedFriendID:P,isChangingUsername:w,restrictionProfileIdentifier:T}=this.state,Z=function(e,t,n){const{sourceDirectory:i,metadataItem:s,isAddingHomeUser:r,isCreatingManagedUser:a}=n,o=t.trim().toUpperCase(),l=e.filter((e=>(!r||!e.home)&&!!(i||s||r||a)&&(e.username&&e.username.toUpperCase().includes(o)||e.title&&e.title.toUpperCase().includes(o)||e.email&&e.email.toUpperCase().includes(o))));return l.sort(ot),l}(s,E,this.props),N=!I||w||function(e,t){return!!e.find((e=>e.username===t||e.title===t||e.email===t))}(Z,E)?Z:[lt(E),...Z],A=!d&&!I,x=!!s.find((e=>e.username===E||e.email===E)),L=w||d||A&&!at(E),O=""!==E.trim()&&!c&&0===N.length&&A&&!w,j=c&&r.includes(E.trim()),k=x&&!t&&!n&&!l&&!c;let R;var U;let V;O?R=at(U=E)?(0,f.Z)("An invite will be sent to {emailAddress}",{emailAddress:U.trim()}):(0,f.Z)("No Plex users found. Enter a valid email address to invite someone new"):j?R=(0,f.Z)("A Home user already exists with this name"):k&&(R=(0,f.Z)("{username} is already a friend",{username:E})),V=!n&&a?(0,f.Z)("Continue"):c?(0,f.Z)("Add"):(0,f.Z)("Send");const B=k||!P&&(b||""===E.trim()||!c&&L||j);return i.createElement(p.ZP,{className:"ShareUsers-form-1YpoGD",onSubmit:this.onSubmit},i.createElement(D,{metadataItem:n,isAddingHomeUser:l,isCreatingManagedUser:c,isSharingSingleLibrary:!!t,errorMessage:M,onModalClose:S},i.createElement(m.Z,{className:"ShareUsers-modalBody-XR4Q8k ModalBody-modalBody-3v8fMY",scrollDirection:v.Hn},i.createElement("div",{className:"ShareUsers-messages-19WYJG"},i.createElement("div",null,function(e,t){return e?(0,f.Z)("Users in your Home appear on the Switch User screen."):t?(0,f.Z)("Managed users are only available when signed in with an account in your home."):(0,f.Z)("Choose a user to invite. You can enter their Plex username or email.")}(l,c)),i.createElement("div",null,function(e,t){return e?(0,f.Z)("The invited user will be asked to confirm Home membership."):t?(0,f.Z)("You can choose any name you like and you'll be able to set restrictions on accessible media."):(0,f.Z)("New users will be asked to accept the invitation.")}(l,c))),i.createElement("div",{className:"ShareUsers-inputContainer-1btQbV"},i.createElement(Ge.Z,{name:"username",autoComplete:"off",placeholder:c?(0,f.Z)("Username"):(0,f.Z)("Username or email"),value:E,focusOnMount:!0,onChange:this.onUsernameChange}),d?i.createElement(z.Z,{className:"ShareUsers-icon-3JP7sw",size:he.HC}):null,I?i.createElement(it.Z,{className:"ShareUsers-checkIcon-zgEqGt ShareUsers-icon-3JP7sw"}):null),i.createElement("div",{className:"ShareUsers-warningMessage-2TlQRa"},R),c?i.createElement(st.Z,{name:"restrictionProfileIdentifier",className:"ShareUsers-restrictionsInput-2M7YcL RestrictionProfilesInput-input-3zuRzj SelectInput-input-1P8SoV input-input-26w-zg",initialValue:T,hasPlexPass:o,onChange:this.onRestrictionProfileSelect}):null,!c&&N.length>0?i.createElement(i.Fragment,null,i.createElement(Ae.Z,null,(0,f.Z)("Users")),i.createElement(rt.Z,{className:"ShareUsers-list-15h-Ir UserList-list-3MJnr9 Scroller-vertical-1tg_Qg",serverEntityID:e,users:N,isUserSelected:this.isUserSelected,onUserSelect:this.onUserSelect})):null),i.createElement(h.Z,null,i.createElement(g.Z,null,i.createElement(u.Z,{onPress:S},(0,f.Z)("Cancel")),i.createElement(C.Z,{type:"submit",kind:y._8,isDisabled:B,isSpinning:b},V)))))}}const dt=ct;var ut=Object.prototype.hasOwnProperty,pt=Object.getOwnPropertySymbols,mt=Object.prototype.propertyIsEnumerable,ht=Object.assign;const gt=(0,o.P1)(et.Z,function(e){if(Je.homeUsers)return Je.homeUsers;const t=(0,o.P1)($e.Z,(e=>e.homeUsers));return Je.homeUsers=t,t}(),((e,t)=>t.map((t=>e[t].title)))),yt={dispatchFetchAllFriends:nt.Tp,onValidateUsername:d.rV,onSetUsername:d.b6,onSetUser:d.av},vt=(0,a.$j)((function(){return(0,o.P1)((e=>e.ui.shareModal),tt.Z,Xe.Z,gt,(0,ce.Z)("hasPlexPass"),((e,t,n,i,s)=>{const{steps:r,username:a,restrictionProfileIdentifier:o,isNewFriend:l,isUsernameValidating:u,isUsernameValidated:p,isSharingPending:m,sharingError:h}=e;return{username:a,restrictionProfileIdentifier:o,users:t.map((e=>n[e])),existingHomeUsernames:i,hasNextStep:(0,d.$i)(r,c.p.USER),hasPlexPass:s,isNewFriend:l,isUsernameValidating:u,isUsernameValidated:p,isSharingPending:m&&!h,sharingError:h}}))}),yt)((function(e){const{dispatchFetchAllFriends:t}=e,n=((e,t)=>{var n={};for(var i in e)ut.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&pt)for(var i of pt(e))t.indexOf(i)<0&&mt.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchFetchAllFriends"]);return(0,i.useEffect)((()=>{t()}),[t]),i.createElement(dt,ht({},n))}));var ft=Object.prototype.hasOwnProperty,It=Object.getOwnPropertySymbols,bt=Object.prototype.propertyIsEnumerable,Mt=Object.assign;const St={dispatchInitShareModal:d.Ag,dispatchResetShareModal:d.K3};class Et extends i.Component{componentDidMount(){const{metadataItemEntityID:e,isAddingHomeUser:t,isCreatingManagedUser:n,dispatchInitShareModal:i}=this.props;i({metadataItemEntityID:e,isAddingHomeUser:t,isCreatingManagedUser:n})}componentDidUpdate(e,t){const{steps:n,step:i,isSharingCompleted:s,onModalClose:r}=this.props,a=!e.isSharingCompleted&&s,o=(0,d.TR)(n,i);a&&i!==c.p.SUMMARY&&!o&&r()}componentWillUnmount(){this.props.dispatchResetShareModal()}render(){const e=this.props,{step:t,dispatchResetShareModal:n}=e,s=((e,t)=>{var n={};for(var i in e)ft.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&It)for(var i of It(e))t.indexOf(i)<0&&bt.call(e,i)&&(n[i]=e[i]);return n})(e,["step","dispatchResetShareModal"]);switch(t){case c.p.WARNING:return i.createElement(x,Mt({},s));case c.p.USER:return i.createElement(vt,Mt({},s));case c.p.LIBRARIES:return i.createElement(oe,Mt({},s));case c.p.RESTRICTIONS:return i.createElement(_e,Mt({},s));case c.p.SUMMARY:return i.createElement(qe,Mt({},s));default:return null}}}const Dt=(0,a.$j)((function(){return(0,o.P1)((e=>e.ui.shareModal),(0,l.Z)(),((e,t)=>({steps:e.steps,step:e.step,friendEntityID:e.friendEntityID,isSharingCompleted:e.isSharingCompleted,metadataItem:t})))}),St)(Et),Ct=function(e){const{serverEntityID:t,metadataItemEntityID:n,sourceDirectory:a,metricsProperties:o,isAddingHomeUser:l,isCreatingManagedUser:c,isOpen:d,onModalClose:u}=e;return i.createElement(r.Z,{metricsPage:s.Eu,metricsProperties:o,isOpen:d,onModalClose:u},i.createElement(Dt,{serverEntityID:t,metadataItemEntityID:n,sourceDirectory:a,isAddingHomeUser:l,isCreatingManagedUser:c,onModalClose:u}))}},28671:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var i=n(67294),s=n(96582),r=n(81151),a=n(40084),o=n(5965),l=n(81093),c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=Object.assign;const m=(0,l.Z)((function(e){const{formGroupClassName:t,formLabelClassName:n,name:l,labelText:m,helpText:h,showErrors:g,errors:y,children:v}=e,f=((e,t)=>{var n={};for(var i in e)c.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&d)for(var i of d(e))t.indexOf(i)<0&&u.call(e,i)&&(n[i]=e[i]);return n})(e,["formGroupClassName","formLabelClassName","name","labelText","helpText","showErrors","errors","children"]);return i.createElement(r.Z,{className:t},v,i.createElement(o.Z,{className:n,showErrors:g,errors:y,name:l,labelText:m}),i.createElement(s.Z,p({name:l,hasError:g},f)),h?i.createElement(a.Z,null,h):null)}));var h=n(40498),g=n(5562),y=n(48604),v=n(53863);class f extends i.Component{constructor(){super(...arguments),this.onRemovePress=()=>{this.props.onRemove(this.props.index)}}render(){const{tag:e,getTagDisplayValue:t}=this.props;return i.createElement("span",{className:"ShareRestrictionsTag-container-aWXIzu"},i.createElement("span",{className:"ShareRestrictionsTag-tag-1B0PIX"},i.createElement(y.Z,{className:"ShareRestrictionsTag-remove-uC41Gg TagLabel-remove-jHnOZ9","aria-label":(0,g.Z)("Remove Tag"),onPress:this.onRemovePress},i.createElement(v.Z,null)),i.createElement("span",null,t(e))))}}const I=f,b={[h.ZO]:{labelText:()=>(0,g.Z)("Allow Only Ratings"),placeholder:()=>(0,g.Z)("Allow all ratings")},[h.Jm]:{labelText:()=>(0,g.Z)("Exclude Ratings"),placeholder:()=>(0,g.Z)("Don't exclude any ratings")},[h.GP]:{labelText:()=>(0,g.Z)("Allow Only Labels"),placeholder:()=>(0,g.Z)("Allow all labels")},[h.Bi]:{labelText:()=>(0,g.Z)("Exclude Labels"),placeholder:()=>(0,g.Z)("Don't exclude any labels")}};function M(e){const{metadataType:t,tagType:n,filterOptionsTags:i}=e,s=n===h.ZO||n===h.Jm?h.ZO:h.GP;return i[t][s]}const S=e=>e.value,E=e=>""===e.key?e.value:e.title,D=(e,t)=>e.title.toUpperCase().includes(t.toUpperCase()),C=e=>({key:"",title:(0,g.Z)("Add {inputValue}…",{inputValue:e}),value:e}),P=e=>e.title,w=()=>!0,T=()=>{},Z=()=>{};class N extends i.Component{static getDerivedStateFromProps(e,t){return!t.isFilterOptionsTagsPopulated&&e.isFilterOptionsTagsPopulated?{suggestions:M(e),isFilterOptionsTagsPopulated:!0}:null}constructor(e,t){super(e,t);const{isFilterOptionsTagsPopulated:n}=e;this.state={suggestions:n?M(e):[],isFilterOptionsTagsPopulated:n}}render(){const{name:e,tagType:t,initialValue:n,excludedTags:s,onChange:r}=this.props,{labelText:a,placeholder:o}=b[t];return i.createElement(m,{getSuggestionValue:S,initialValue:n,labelText:a(),placeholder:o(),makeTagFromSuggestion:E,tagComponent:I,name:e,renderSuggestion:P,shouldRenderSuggestions:w,getAddSuggestionTag:C,suggestions:this.state.suggestions,suggestionsFilter:D,excludedTags:s,onSuggestionsClearRequested:T,onSuggestionsFetchRequested:Z,onChange:r})}}const A=N},86970:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(67294),s=n(66734),r=n(1284),a=n(81093),o=n(27620),l=n(68187),c=n(5562);function d(){return l.ZH().map((e=>({[e.identifier]:e.title})))}function u(e){const{className:t,name:n,value:a,hasPlexPass:l,onChange:u}=e,p=(0,i.useMemo)(d,[]);return i.createElement("div",null,i.createElement(s.Z,null,(0,c.Z)("Restriction Profile")),i.createElement(r.Z,{className:t,name:n,value:a,values:p,size:o.HC,onChange:u}),i.createElement("div",{className:"RestrictionProfilesInput-subtitle-1MxEFT"},l?(0,c.Z)("Younger Kid allows TV-Y, G, TV-G and equivalent; Older Kid allows TV-PG, PG and equivalent; Teen allows TV-13, PG-13 and equivalent. Pick None to choose your own ratings and manage other Media Server permissions."):(0,c.Z)("Younger Kid allows TV-Y, G, TV-G and equivalent; Older Kid allows TV-PG, PG and equivalent; Teen allows TV-13, PG-13 and equivalent. With a Plex Pass, you can choose your own ratings and manage other Media Server permissions.")))}u.defaultProps={className:"RestrictionProfilesInput-input-3zuRzj SelectInput-input-1P8SoV input-input-26w-zg"};const p=(0,a.Z)(u)},52114:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var i=n(67294),s=n(19318),r=n(25366),a=n(58858),o=n(32448),l=n(18376),c=n(45697),d=n.n(c),u=n(70809);function p(e){var t=e["aria-label"],n=e.className,s=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-user-home-560"};r["aria-hidden"]=!t,r.style=s,r.className=u.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M532 504H319.2V352.8h-78.4V504H28V280L280 28l252 252v224zm-168-44.8h123.2V298.557L280 91.357l-207.2 207.2V459.2H196V308h168v151.2z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",r].concat(a))}p.propTypes={"aria-label":d().string,className:d().string,style:d().object};const m=p;class h extends i.Component{constructor(){super(...arguments),this.onPress=()=>{this.props.onSelect(this.props.user.id)}}render(){const{serverEntityID:e,user:t,isSelected:n}=this.props,{title:s,email:c,thumb:d,home:u}=t,p=c&&c!==s;return i.createElement(a.Z,{className:n?"UserListItem-selectedButton-2RoiuB UserListItem-button-1bH2-k Button-button-31pe5T Link-link-3v-v0b":"UserListItem-button-1bH2-k Button-button-31pe5T Link-link-3v-v0b",onPress:this.onPress},i.createElement(l.Z,{className:"UserListItem-avatar-7__05v AvatarImg-avatar-3gp48Z",serverEntityID:e,url:d,width:30,height:30}),i.createElement("div",{className:"UserListItem-titleContainer-e__x-P"},i.createElement("span",{className:"UserListItem-title-dZyVnY"},s),p?i.createElement("span",{className:"UserListItem-email-2x3mBa"},i.createElement(r.Z,null),c):null),n?i.createElement(o.Z,{className:"UserListItem-selectedIcon-2eZszc UserListItem-icon-28-L2o"}):null,i.createElement(m,{className:u?"UserListItem-visibleHomeIcon-2HP1-F":"UserListItem-homeIcon-3l_RUN UserListItem-icon-28-L2o"}))}}const g=h;function y(e){const{className:t,serverEntityID:n,users:r,isUserSelected:a,onUserSelect:o}=e;return i.createElement(s.Z,{className:t,autoScroll:!0},r.map((e=>i.createElement(g,{key:e.id,serverEntityID:n,user:e,isSelected:a(e),onSelect:o}))))}y.defaultProps={className:"UserList-list-3MJnr9 Scroller-vertical-1tg_Qg"};const v=y},61214:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(94184),s=n.n(i),r=n(67294),a=n(48604),o=n(23438);function l(e,t,n){return(e-t)/(n-t)*100}n(67038);const c="Slider-isDragging-20u5r4";class d extends r.Component{constructor(e,t){super(e,t),this.onMouseDown=e=>{e.preventDefault(),0===e.button&&this._startDrag(e.pageX,e.pageY,!1)},this.onMouseMove=({pageX:e,pageY:t})=>{if(this.state.isDragging)return;const n=this._getValueForPosition(e,t),i=this._trackRef.current.getBoundingClientRect(),s=this.props.isVertical?{x:i.left,y:t}:{x:e,y:i.top};this.props.onMove({position:s,positionValue:n,steppedValue:this._getSteppedValue(n)})},this.onTouchStart=e=>{e.preventDefault();const t=e.touches&&e.touches[0];t&&this._startDrag(t.pageX,t.pageY,!0)},this.onDocumentMouseMove=e=>{this._drag(e.pageX,e.pageY)},this.onDocumentTouchMove=e=>{const t=e.touches&&e.touches[0];t&&this._drag(t.pageX,e.pageY)},this.onDocumentMouseUp=e=>{this._stopDrag(e.pageX,e.pageY)},this.onDocumentTouchEnd=e=>{const t=e.changedTouches&&e.changedTouches[0];t&&this._stopDrag(t.pageX,t.pageY)},this._trackRef=r.createRef(),this.state={isDragging:!1}}shouldComponentUpdate(e,t){return(0,o.Z)(this,e,t)}componentWillUnmount(){this._stopListeningForDrag()}_listenForDrag(e){e?(document.addEventListener("touchmove",this.onDocumentTouchMove),document.addEventListener("touchcancel",this.onDocumentTouchEnd),document.addEventListener("touchend",this.onDocumentTouchEnd)):(document.addEventListener("mousemove",this.onDocumentMouseMove),document.addEventListener("mouseup",this.onDocumentMouseUp))}_stopListeningForDrag(){document.removeEventListener("mousemove",this.onDocumentMouseMove),document.removeEventListener("touchmove",this.onDocumentTouchMove),document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("touchcancel",this.onDocumentTouchEnd),document.removeEventListener("touchend",this.onDocumentTouchEnd)}_startDrag(e,t,n){this._changeValue(this._getValueForPosition(e,t)),this._listenForDrag(n),this.props.onDragStart&&this.props.onDragStart()}_drag(e,t){this.state.isDragging||(document.body.classList.add(c),this.setState({isDragging:!0})),this._changeValue(this._getValueForPosition(e,t))}_stopDrag(e,t){document.body.classList.remove(c),this._stopListeningForDrag();const n=this._getValueForPosition(e,t),i=this._getSteppedValue(n);this._changeValue(n),this.setState({isDragging:!1}),this.props.onDragComplete&&this.props.onDragComplete({positionValue:n,steppedValue:i})}_getValueForPosition(e,t){const{isVertical:n,min:i,max:s}=this.props,r=this._trackRef.current,a=r.getBoundingClientRect();let o;if(n){const e=t-document.body.scrollTop;o=(a.bottom-e)/r.offsetHeight}else o=(e-document.body.scrollLeft-a.left)/r.offsetWidth;return o=Math.min(Math.max(o,0),1),(s-i)*o+i}_getSteppedValue(e){const{min:t,max:n,stepSize:i}=this.props;if(!i)return e;const s=Math.round(e/i)*i;return Math.min(Math.max(s,t),n)}_getStickyValue(e){const{max:t,min:n,stepSize:i,stickiness:s}=this.props;if(!i||!s)return e;const r=this._getSteppedValue(e);return Math.abs(r-e)/(t-n)<s/100?r:e}_changeValue(e){const{value:t}=this.props;e!==t&&this.props.onChange({positionDelta:e-t,positionValue:e,steppedValue:this._getSteppedValue(e)})}render(){const{style:e,className:t,trackClassName:n,secondaryFillClassName:i,fillClassName:o,thumbClassName:d,thumbTrackClassName:u,label:p,tabIndex:m,value:h,min:g,max:y,secondaryMin:v,secondaryMax:f,showSecondaryFill:I,showFill:b,autoHideThumb:M,isDisabled:S,isVertical:E,onMove:D,onMouseEnter:C,onMouseLeave:P,onWheel:w}=this.props,{isDragging:T}=this.state,Z=l(this._getStickyValue(h),g,y);let N="left",A="scaleX",x="translateX";E&&(N="top",A="scaleY",x="translateY");const L=`${x}(${E?-Z:Z}%)`,O=v?l(this._getStickyValue(v),g,y):0,j=f?l(this._getStickyValue(f),g,y):0,k=`${A}(${Math.max((Z-O)/100,0)})`,R=`${A}(${Math.max((j-O)/100,0)})`;return r.createElement("div",{style:e,className:s()(t,S&&"Slider-isDisabled-2ylAzu",T&&c,M&&"Slider-hasAutoHideThumb-2KbSMI"),onWheel:S?null:w,onMouseEnter:S?null:C,onMouseLeave:S?null:P,onMouseDown:S?null:this.onMouseDown,onMouseMove:S||!D?null:this.onMouseMove,onTouchStart:S?null:this.onTouchStart},r.createElement("div",{className:n,ref:this._trackRef},I?r.createElement("div",{className:i,style:{[N]:v?O+"%":void 0,WebkitTransform:R,msTransform:R,transform:R}}):null,b?r.createElement("div",{className:o,style:{[N]:v?O+"%":void 0,WebkitTransform:k,msTransform:k,transform:k}}):null),r.createElement("div",{className:u,style:{WebkitTransform:L,msTransform:L,transform:L}},r.createElement(a.Z,{className:d,role:"slider",tabIndex:m,"aria-labelledby":p,"aria-valuemin":g,"aria-valuemax":y,"aria-valuenow":h,onMouseDown:this.onMouseDown,onMouseMove:D&&this.onMouseMove,onTouchStart:this.onTouchStart})))}}d.defaultProps={className:"Slider-slider-4zRCDI",trackClassName:"Slider-track-3iUWLY",fillClassName:"Slider-fill-35z5K8",secondaryFillClassName:"Slider-secondaryFill-30ToAR Slider-fill-35z5K8",thumbClassName:"Slider-thumb-1ZGojQ Link-link-3v-v0b",thumbTrackClassName:"Slider-thumbTrack-3yG9Xm",min:0,max:100,stepSize:0,stickiness:10,showFill:!1,showSecondaryFill:!1,autoHideThumb:!1,isDisabled:!1,isDragging:!1,isVertical:!1};const u=d},58801:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(67294),s=n(81473),r=n(5562),a=Object.assign;function o(e){return i.createElement(s.Z,a(a({},e),{loadingLabel:(0,r.Z)("Loading")}))}o.propTypes=s.Z.propTypes,o.defaultProps=s.Z.defaultProps;const l=o},90980:(e,t,n)=>{"use strict";n.d(t,{R3:()=>C,ZP:()=>T,Gb:()=>P});var i=n(67294),s=n(37703),r=n(22222),a=n(81017),o=n(74253),l=n(55885),c=n(45399),d=n(72759),u=n(5562),p=n(61478),m=n(49666);var h=n(60316),g=n(51021),y=n(45992),v=n(34504),f=n(28889),I=n(73588),b=Object.prototype.hasOwnProperty,M=Object.getOwnPropertySymbols,S=Object.prototype.propertyIsEnumerable,E=Object.assign;const D=null,C={SUBSCRIBE:"subscribe",CANCEL:"cancel",REMOVE:"remove",UPSELL:"upsell"};function P(e){const{onCancelDownloadActivity:t,onCreateDownloadSubscription:n,onDeleteDownloadSubscription:s}=e,[r,a]=(0,i.useState)({isOpen:!1,state:D}),o=(0,i.useCallback)((e=>{const t=e===C.SUBSCRIBE,i=e!==D&&!t,s=t?D:e;t&&n(),a({isOpen:i,state:s})}),[n]),l=(0,i.useCallback)((()=>a({isOpen:!1,state:D})),[]),c=(0,i.useCallback)((()=>{r.state===C.CANCEL?t():r.state===C.REMOVE&&s(),l()}),[r.state,t,l,s]);return E(E({},r),{onPress:o,onClose:l,onConfirm:c})}const w=(0,r.P1)((0,l.Z)(c.iU),(0,l.Z)(c.Ed),o.Z,((e,t,n)=>{var i;const s=t&&(null==(i=n.ownerFeatures)?void 0:i.includes(c.Ed));return!e&&!s})),T=(0,s.$j)((function(){return(0,r.P1)(((e,{isDisabled:t})=>t),(0,a.Z)(),(0,r.P1)((e=>e.downloads.states),(0,m.Z)(),(0,r.P1)((0,a.Z)(),(e=>e.ratingKey)),((e,t,n)=>e.find((e=>e.ratingKey===n&&e.sourceAttr===t)))),(e=d.sC,(0,r.P1)((0,a.Z)(),(0,m.Z)(),(0,g.Z)(e),((e,t,n)=>{const i=(0,h.Z)(t);return n.find((({Context:t})=>{let n=!1;if(t.itemKey===e.key){const e=(0,h.Z)(t.source);n=i.serverIdentifier===e.serverIdentifier&&i.providerIdentifier===e.providerIdentifier}return n}))}))),w,y.Z,((e,t,n,i,s,r)=>{const a=!!n,o=(0,f.Z)(t),l=(0,I.Z)(t),c=!l;return{canCancel:!!i&&i.cancellable,canRemove:l,canShowUpsell:!l&&s&&t.subtype!==p.PODCAST,canSubscribe:c,hasDownloadState:a,hasOfflineFile:o,hasOwnSubscription:l,isDisabled:e||!r,progress:i&&i.progress}}));var e}),(function(e,t){return{}}))((function(e){const{component:t,canCancel:n,canRemove:s,canShowUpsell:r,canSubscribe:a,metadataItemEntityID:o,metricsPage:l,providerEntityID:c,serverEntityID:d,onCancelDownloadActivity:p,onCreateDownloadSubscription:m,onDeleteDownloadSubscription:h,onPress:g}=e,y=((e,t)=>{var n={};for(var i in e)b.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&M)for(var i of M(e))t.indexOf(i)<0&&S.call(e,i)&&(n[i]=e[i]);return n})(e,["component","canCancel","canRemove","canShowUpsell","canSubscribe","metadataItemEntityID","metricsPage","providerEntityID","serverEntityID","onCancelDownloadActivity","onCreateDownloadSubscription","onDeleteDownloadSubscription","onPress"]),f=(0,i.useCallback)((()=>{let e=D;n?e=C.CANCEL:s?e=C.REMOVE:r?e=C.UPSELL:a&&(e=C.SUBSCRIBE),g&&g(e)}),[n,s,r,a,g]);let I;return I=n?(0,u.Z)("Cancel Download"):s?(0,u.Z)("Delete Download"):(0,u.Z)("Download"),i.createElement(i.Fragment,null,i.createElement(t,E(E({},y),{label:I,onPress:f})),i.createElement(v.Z,{metadataItemEntityID:o,providerEntityID:c}))}))},52097:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(67294),s=n(48604),r=n(5562),a=n(80913);var o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=Object.assign;function u(e){const{className:t,circleClassName:n,title:u}=e,p=((e,t)=>{var n={};for(var i in e)o.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&l)for(var i of l(e))t.indexOf(i)<0&&c.call(e,i)&&(n[i]=e[i]);return n})(e,["className","circleClassName","title"]);return i.createElement(s.Z,d({className:t,"aria-label":(0,r.Z)("Play {title}",{title:u})},p),i.createElement(a.Z,{className:n}))}u.defaultProps={className:"PlayButton-playButton-2dFmuo",circleClassName:"PlayButton-playCircle-2DYa77"};const p=u},10128:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(67294),s=n(48604),r=n(5562),a=n(90444),o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=Object.assign;function u(e){var{className:t,circleClassName:n,iconClassName:u,title:p}=e,m=((e,t)=>{var n={};for(var i in e)o.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&l)for(var i of l(e))t.indexOf(i)<0&&c.call(e,i)&&(n[i]=e[i]);return n})(e,["className","circleClassName","iconClassName","title"]);return i.createElement(s.Z,d({className:t,"aria-label":(0,r.Z)("Record {title}",{title:p})},m),i.createElement(a.Z,{circleClassName:n,iconClassName:u}))}u.defaultProps={className:"RecordButton-recordButton-2H5wQ_ PlayButton-playButton-2dFmuo RecordIcon-recordIconContainer-3wNYSz"};const p=u},41523:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(94184),s=n.n(i),r=n(67294),a=n(48604),o=n(5562),l=n(35771);var c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=Object.assign;function m(e){const{className:t,selectedClassName:n,circleClassName:i,iconClassName:m,title:h,isSelected:g}=e,y=((e,t)=>{var n={};for(var i in e)c.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&d)for(var i of d(e))t.indexOf(i)<0&&u.call(e,i)&&(n[i]=e[i]);return n})(e,["className","selectedClassName","circleClassName","iconClassName","title","isSelected"]);return r.createElement(a.Z,p({className:s()(t,g&&n),"aria-label":g?(0,o.Z)("Deselect {title}",{title:h}):(0,o.Z)("Select {title}",{title:h})},y),r.createElement("div",{className:i,"data-qa-id":"multipleSelectButton"},r.createElement(l.Z,{className:m})))}m.defaultProps={className:"SelectButton-selectButton-Yy19xn",selectedClassName:"SelectButton-isSelected-1XM2EB",circleClassName:"SelectButton-selectCircle-16d-90",iconClassName:"SelectButton-selectedIcon-3W_uCD"};const h=m},58300:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(67294),s=n(45915),r=n(5562),a=Object.assign;function o(e){return i.createElement(s.Z,a(a({},e),{loadingLabel:(0,r.Z)("Loading")}))}o.propTypes=s.Z.propTypes,o.defaultProps=s.Z.defaultProps;const l=o},40691:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(67294),s=n(5562),r=n(39611);const a=function({errorMessage:e}){return i.createElement("div",{className:"FormSectionError-sectionError-ilR9oj"},i.createElement(r.Z,{className:"FormSectionError-sectionErrorIcon-2CJ6gq"}),e||(0,s.Z)("There was a problem saving your changes."))}},79100:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var i=n(67294),s=n(69598),r=n(81151),a=n(40084),o=n(5965),l=n(81093),c=n(43308),d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=Object.assign;function h(e){var{formGroupClassName:t,formLabelClassName:n,inputClassName:s,name:l,labelText:h,helpText:g,showErrors:y,errors:v}=e,f=((e,t)=>{var n={};for(var i in e)d.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&u)for(var i of u(e))t.indexOf(i)<0&&p.call(e,i)&&(n[i]=e[i]);return n})(e,["formGroupClassName","formLabelClassName","inputClassName","name","labelText","helpText","showErrors","errors"]);return i.createElement(r.Z,{className:t},i.createElement(o.Z,{className:n,showErrors:y,errors:v,name:l,labelText:h}),i.createElement(c.Z,m({className:s,name:l,type:"number",hasError:y},f)),g?i.createElement(a.Z,null,g):null)}h.defaultProps={inputClassName:"NumberInputGroup-input-3iPDT3 TextInput-input-M2gRCL input-input-26w-zg"};const g=(0,l.Z)(h);var y=n(43530),v=n(81241),f=n(16905),I=n(97701),b=n(62899),M=Object.assign;function S(e=[]){return e.map((({label:e,value:t})=>({[t]:e})))}const E={playbackSpeed:b.H};function D(e){const{id:t,type:n,label:r,summary:a,value:o,initialValueModifier:l,enumValues:c,min:d,max:u,step:p}=e,m={name:t,helpText:a,initialValue:l(o)};if(Array.isArray(c))return i.createElement(y.Z,M(M({labelText:r},m),{values:S(c)}));switch(n){case f.E.TEXT:return i.createElement(v.Z,M({labelText:r},m));case f.E.BOOL:return i.createElement(s.Z,M({checkboxText:r},m));case f.E.INT:return i.createElement(g,M({labelText:r},m));case f.E.DOUBLE:return i.createElement(I.Z,M({labelText:r,min:d,max:u,stepSize:p,valueModifier:E[t]},m));default:return null}}D.defaultProps={initialValueModifier:e=>e};const C=D},97701:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(67294),s=n(81151),r=n(5965),a=n(81093),o=n(61214);class l extends i.Component{constructor(){super(...arguments),this.onChange=({steppedValue:e})=>{const t=String(this.props.stepSize),[,n]=t.split("."),i=null!=n?parseFloat(e.toFixed(n.length)):e;this.props.onChange(i)}}render(){const{name:e,value:t,min:n,max:a,stepSize:l,labelText:c,showErrors:d,errors:u,valueModifier:p}=this.props;return i.createElement(s.Z,null,i.createElement(r.Z,{showErrors:d,errors:u,name:e,labelText:c}),i.createElement("div",{className:"SliderInputGroup-sliderContainer-2EihJx input-input-26w-zg"},i.createElement(o.Z,{className:"SliderInputGroup-slider-3vKLmg Slider-slider-4zRCDI",value:t,min:n,max:a,stepSize:l,onChange:this.onChange}),i.createElement("div",{className:"SliderInputGroup-sliderValue-18qNJC"},p(t))))}}l.defaultProps={valueModifier:e=>e};const c=(0,a.Z)(l)},50930:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(94184),s=n.n(i),r=n(67294),a=n(97486),o=n(90701),l=n(45697),c=n.n(l),d=n(70809);function u(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-sync-arrow-560"};s["aria-hidden"]=!t,s.style=i,s.className=d.Z.plexIcon+(n?" "+n:"");var a=[r.createElement.apply(r,["path",{d:"M280 406l112-112h-89.6V154h-44.8v140H168l112 112"}].concat([]))];return t&&a.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(a))}u.propTypes={"aria-label":c().string,className:c().string,style:c().object};const p=u,m={downloadIcon:"DownloadIcon-downloadIcon-14Rs3Q PlexIcon-plexIcon-1hNiE2",hasShadow:"DownloadIcon-hasShadow-1sruQp",arrowIcon:"DownloadIcon-arrowIcon-3mZXmQ",progressBarContainer:"DownloadIcon-progressBarContainer-170i3y CircularProgressBar-absoluteCenterCircularProgressBarContainer-3BkZp2",hasProgress:"DownloadIcon-hasProgress-PqzxD5",showIndeterminate:"DownloadIcon-showIndeterminate-2iDYB_"};function h(e){const{className:t,isDisabled:n,showIndeterminate:i,lineWidth:l,progress:c,arrowSize:d,shadowWidth:u,showShadow:h,size:g}=e,y=null!=c&&c>=0,v=`${d}px`,f=i?o.Z.primaryColor:o.Z.selectedColor;let I;I=n?o.Z.defaultLinkDisabledLinkColor:y||i?o.Z.dimColor:"currentColor";const b={fontSize:v};if(h){const e=g+2*u;b.width=`${e}px`,b.height=`${e}px`,b.borderRadius=e/2+"px"}else b.width=`${g+l}px`,b.height=`${g+l}px`;const M=y?void 0:0;return r.createElement("div",{className:s()(t,y&&m.isDownloading,i&&m.showIndeterminate,h&&m.hasShadow),style:b},r.createElement(p,{className:m.arrowIcon}),r.createElement(a.Z,{containerClassName:m.progressBarContainer,lineWidth:l,progress:y?c:0,showIndeterminate:i,showProgressText:!1,size:g,smoothProgressDuration:M,strokeColor:f,trackColor:I}))}h.defaultProps={className:m.downloadIcon,size:18,arrowSize:19,lineWidth:1.3,showShadow:!1,shadowWidth:1};const g=h},46412:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(67294),s=n(37703),r=n(22222),a=n(72759),o=n(51021),l=n(50930),c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=Object.assign;const m=(0,s.$j)((function(){return(0,r.P1)((0,r.P1)(((e,{source:t})=>t),((e,{ratingKey:t})=>t),(0,o.Z)(a.sC),((e,t,n)=>{for(const i of n){const{Context:n}=i;if(n.itemRatingKey===t&&n.source===e&&i.progress>0)return i.progress}})),(e=>({progress:e})))}))((function(e){if(!e.hasOfflineFile&&!e.hasOwnSubscription&&void 0===e.progress)return null;const{hasOfflineFile:t,hasOwnSubscription:n,ratingKey:s,source:r}=e,a=((e,t)=>{var n={};for(var i in e)c.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&d)for(var i of d(e))t.indexOf(i)<0&&u.call(e,i)&&(n[i]=e[i]);return n})(e,["hasOfflineFile","hasOwnSubscription","ratingKey","source"]);return i.createElement(l.Z,p({},a))}))},80913:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(67294);const s=function(e){return i.createElement("svg",{className:e.className,viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M216 170l190.5 110L216 390z"}))}},90444:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67294);function s(e){const{circleClassName:t,iconClassName:n}=e;return i.createElement("div",{className:t},i.createElement("span",{className:n}))}s.defaultProps={circleClassName:"RecordIcon-recordCircle-24nR_8 PlayButton-playCircle-2DYa77",iconClassName:"RecordIcon-recordIcon-vppRrs"};const r=s},18376:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(67294),s=n(57614),r=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=Object.assign;function c(e){const{className:t}=e,n=((e,t)=>{var n={};for(var i in e)r.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&a)for(var i of a(e))t.indexOf(i)<0&&o.call(e,i)&&(n[i]=e[i]);return n})(e,["className"]);return i.createElement("div",{className:t},i.createElement(s.Z,l({},n)))}c.defaultProps={className:"AvatarImg-avatar-3gp48Z"};const d=c},84699:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(67294),s=Object.prototype.hasOwnProperty,r=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,o=Object.assign;function l(e){const{className:t,children:n,component:l,width:c,height:d,url:u}=e,p=((e,t)=>{var n={};for(var i in e)s.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&r)for(var i of r(e))t.indexOf(i)<0&&a.call(e,i)&&(n[i]=e[i]);return n})(e,["className","children","component","width","height","url"]);return i.createElement("div",{className:t,style:{width:c,height:d}},i.createElement(l,o({width:c,height:d,url:u},p)),n)}l.defaultProps={className:"PosterCard-card-3ds3Od"};const c=l},89137:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(67294),s=n(48569),r=n(57614),a=Object.assign;const o={position:"relative",top:0,left:0,display:"block",width:"100%",height:"100%"},l=function(e){return i.createElement(r.Z,a(a({},e),{component:s.Z,containerStyle:o}))}},57614:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(37703),s=n(22222),r=n(85854),a=n(59756),o=n(91121),l=n(70488),c=n(74253);const d=a.Z.allowSyncDownload?{urlParams:{"X-Plex-Account-ID":1}}:null,u=(0,i.$j)((function(){return(0,s.P1)(c.Z,l.Z,(0,o.Z)(d),((e,t,n)=>({url:n,supportsSize:!!(e&&e.isCloud&&t)})))}))(r.ZP)},64469:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i=n(67294),s=n(94184),r=n.n(s),a=n(11947);const o="SelectedMenuItem-menuItemContainer-RdnVc0";var l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=Object.assign;class p extends i.Component{constructor(){super(...arguments),this.onPress=e=>{const{value:t,onSelect:n,onPress:i}=this.props;n&&n(t),i&&i(e)}}render(){const e=this.props,{children:t,className:n,menuLabelClassName:s,iconComponent:p,isSelected:m,selectedIconAriaLabel:h}=e,g=((e,t)=>{var n={};for(var i in e)l.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&c)for(var i of c(e))t.indexOf(i)<0&&d.call(e,i)&&(n[i]=e[i]);return n})(e,["children","className","menuLabelClassName","iconComponent","isSelected","selectedIconAriaLabel"]);return i.createElement(a.Z,u(u({className:r()(n,m&&"SelectedMenuItem-isSelected-2P2GgF")},g),{onPress:this.onPress}),i.createElement("div",{className:o},i.createElement("div",{className:s},t),m?i.createElement("div",{className:"SelectedMenuItem-selectedIcon-1JConG"},i.createElement(p,{"aria-label":h})):null))}}p.defaultProps={className:o,menuLabelClassName:"SelectedMenuItem-menuLabel-1zwBwt"};const m=p;var h=n(5562),g=n(35771),y=Object.assign;function v(e){return i.createElement(m,y(y({},e),{selectedIconAriaLabel:(0,h.Z)("Selected")}))}v.defaultProps={iconComponent:g.Z};const f=v},95368:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var i=n(67294),s=n(58858),r=n(75774),a=n(45610),o=n(15378),l=n(84388),c=n(46565),d=n(27620),u=n(23438),p=n(93966),m=n(88050),h=n(5562),g=n(66322),y=n(58300),v=n(53790),f=n(39571);var I=Object.assign;class b extends i.Component{constructor(e,t){super(e,t),this.onCancel=()=>{(0,p.DB)("metrics").trackClick(I(I({},this.props.metricsProperties),{page:this.props.metricsPage,action:m.n1})),this.props.onCancel()},this.onAccordChange=e=>{this.setState({isAccordGiven:e.target.checked})},this.state={isAccordGiven:!1}}shouldComponentUpdate(e,t){return(0,u.Z)(this,e,t)}render(){const{containerClassName:e,isCancelButtonDisabled:t,isConfirmButtonSpinning:n,isOpen:u,metricsPage:p,metricsProperties:b,kind:M,title:S,message:E,accordMessage:D,confirmLabel:C,cancelLabel:P,hideCancelButton:w,onConfirm:T}=this.props,Z=!!D,N=n||Z&&!this.state.isAccordGiven;return i.createElement(v.Z,{containerClassName:e,size:d.HC,isOpen:u,metricsPage:p,metricsProperties:b,onModalClose:this.onCancel},i.createElement(f.Z,{onModalClose:this.onCancel},i.createElement(l.Z,null,S),i.createElement(r.Z,{className:"ConfirmModal-confirmBody-nK2mq9 ModalBody-modalScroller-2PYVmh ModalBody-modalBody-3v8fMY"},E,Z?i.createElement("label",{className:"ConfirmModal-accordLabel-1ITrqU"},i.createElement("input",{type:"checkbox",className:"ConfirmModal-accordInput-AnrzZG",checked:this.state.isAccordGiven,onChange:this.onAccordChange}),D):null),i.createElement(a.Z,null,i.createElement(o.Z,null,w?null:i.createElement(s.Z,{className:"ConfirmModal-cancelButton-3tl4UI",kind:c.TP,isDisabled:t,onPress:this.onCancel},P||(0,h.Z)("Cancel")),i.createElement(g.Z,I(I({},b),{action:m.ae}),i.createElement(y.Z,{className:"ConfirmModal-confirmButton-3D_XDR","data-autofocus":!0,kind:M,isDisabled:N,isSpinning:n,onPress:T},C||(0,h.Z)("OK")))))))}}b.defaultProps={isConfirmButtonSpinning:!1,kind:c._8};const M=b},34377:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(67294),s=n(75774),r=n(84388),a=n(91981),o=n(27620),l=n(93966),c=n(88050),d=n(53790),u=n(39571);var p=Object.assign;class m extends i.Component{constructor(){super(...arguments),this.onItemSelect=e=>{(0,l.DB)("metrics").trackClick(p(p({},this.props.metricsProperties),{page:this.props.metricsPage,action:c.XD,value:e})),this.props.onItemSelect(e)},this.onCancel=()=>{(0,l.DB)("metrics").trackClick(p(p({},this.props.metricsProperties),{page:this.props.metricsPage,action:c.n1})),this.props.onCancel()}}render(){const{children:e,isOpen:t,metricsPage:n,metricsProperties:l,title:c}=this.props;return i.createElement(d.Z,{size:o.HC,isOpen:t,metricsPage:n,metricsProperties:l,onModalClose:this.onCancel},i.createElement(u.Z,{onModalClose:this.onCancel},i.createElement(r.Z,null,c),i.createElement(s.Z,{innerClassName:"ListModal-listModalInnerBody-3j-5-l"},(0,a.Z)(e,(e=>i.cloneElement(e,{onSelect:this.onItemSelect}))))))}}const h=m},36245:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(67294),s=n(48604),r=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=Object.assign;class c extends i.Component{constructor(){super(...arguments),this.onPress=e=>{const{value:t,onSelect:n,onPress:i}=this.props;n&&n(t),i&&i(e)}}render(){const e=this.props,{value:t,onSelect:n}=e,c=((e,t)=>{var n={};for(var i in e)r.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&a)for(var i of a(e))t.indexOf(i)<0&&o.call(e,i)&&(n[i]=e[i]);return n})(e,["value","onSelect"]);return i.createElement(s.Z,l(l({},c),{onPress:this.onPress}))}}c.defaultProps={className:"ListModalItem-listModalItem-37Gi41"};const d=c},53790:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var i=n(67294),s=n(82777),r=n(73935),a=n(92375),o=n(88898),l=n(93839),c=n(27620),d=n(23438),u=n(10598),p=n(25713),m=n(60514);const h={modalContainer:"Modal-modalContainer-1O7tCj",modalBackdrop:"Modal-modalBackdrop-18Vhhv",modal:"Modal-modal-2XLz2p",small:"Modal-small-2cU8ty Modal-modal-2XLz2p",medium:"Modal-medium-2eyGet Modal-modal-2XLz2p",large:"Modal-large-39umIT Modal-modal-2XLz2p"},g=(0,o.Z)(u.Z.modalSpeed),y=1e3*g,v={ease:"easeOut",duration:g},f={ease:p.Z.motionEasing,duration:g},I={opacity:v},b={enter:{opacity:1,transition:I},exit:{opacity:0,transition:I}},M={scale:f,opacity:v},S={enter:{opacity:1,scale:1,transition:M},exit:{opacity:0,scale:.95,transition:M}};class E extends i.Component{constructor(){super(...arguments),this.onBackdropBeginPress=e=>{this._isBackdropPressed=this._isBackdropTarget(e)},this.onBackdropEndPress=e=>{!this.props.preventCloseOnBackdropPress&&this._isBackdropPressed&&this._isBackdropTarget(e)&&this.props.onModalClose(),this._isBackdropPressed=!1},this.onTouchMove=e=>{this._isBackdropPressed=!1},this.onTouchCancel=e=>{this._isBackdropPressed=!1},this.onKeyDown=e=>{const t=e.keyCode;t===m.Mf?l.QE(e):t===m.hY&&(e.preventDefault(),e.stopPropagation(),this.props.onModalClose(),l.sM())}}componentDidMount(){this.props.isOpen&&this._openModal()}shouldComponentUpdate(e,t){return(0,d.Z)(this,e,t)}componentDidUpdate(e){!e.isOpen&&this.props.isOpen?this._openModal():e.isOpen&&!this.props.isOpen&&this._closeModal()}componentWillUnmount(){this.props.isOpen&&this._closeModal()}_openModal(){l.LJ(r.findDOMNode(this.refs.modal)),this._autoFocusTimeoutID=window.setTimeout(l.pc,y),document.addEventListener("keydown",this.onKeyDown)}_closeModal(){window.clearTimeout(this._autoFocusTimeoutID),document.removeEventListener("keydown",this.onKeyDown)}_isBackdropTarget(e){const t=this._findEventTarget(e);if(t){const e=r.findDOMNode(this.refs.modal);return!e||!e.contains(t)}return!1}_findEventTarget(e){const t=e.changedTouches;if(!t)return e.target;if(1===t.length){const e=t[0];return document.elementFromPoint(e.clientX,e.clientY)}}render(){const{className:e,backdropClassName:t,containerClassName:n,children:r,size:o,isOpen:l}=this.props;return i.createElement(a.Z,{isOpen:l,closeTimeoutMilliseconds:y,className:n},i.createElement(s.M_,null,l?i.createElement(s.ww.div,{key:"backdrop",initial:"exit",animate:"enter",exit:"exit",variants:b,className:t,onMouseDown:this.onBackdropBeginPress,onMouseUp:this.onBackdropEndPress,onTouchStart:this.onBackdropBeginPress,onTouchEnd:this.onBackdropEndPress,onTouchMove:this.onTouchMove,onTouchCancel:this.onTouchCancel},i.createElement(s.ww.div,{key:"modal",initial:"exit",animate:"enter",exit:"exit",variants:S,className:e||h[o],ref:"modal"},r)):null))}}E.defaultProps={backdropClassName:h.modalBackdrop,containerClassName:h.modalContainer,size:c.M2,preventCloseOnBackdropPress:!1};const D=E;var C=n(63731),P=Object.prototype.hasOwnProperty,w=Object.getOwnPropertySymbols,T=Object.prototype.propertyIsEnumerable,Z=Object.assign;const N=function(e){const{children:t,metricsPage:n,metricsProperties:s}=e,r=((e,t)=>{var n={};for(var i in e)P.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&w)for(var i of w(e))t.indexOf(i)<0&&T.call(e,i)&&(n[i]=e[i]);return n})(e,["children","metricsPage","metricsProperties"]);return i.createElement(D,Z({},r),i.createElement(C.Z,Z(Z({},s),{page:n}),t))}},39571:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(67294),s=n(48604);var r=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=Object.assign;function c(e){const{className:t,children:n,iconComponent:c,onModalClose:d}=e,u=((e,t)=>{var n={};for(var i in e)r.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&a)for(var i of a(e))t.indexOf(i)<0&&o.call(e,i)&&(n[i]=e[i]);return n})(e,["className","children","iconComponent","onModalClose"]);return i.createElement("div",l({className:t},u),i.createElement(s.Z,{className:"ModalContent-closeButton-1aLFoz Link-link-3v-v0b",onPress:d},c?i.createElement(c,null):null),n)}c.defaultProps={className:"ModalContent-modalContent-rkHSzL"};const d=c;var u=n(53863),p=Object.assign;function m(e){return i.createElement(d,p({},e))}m.defaultProps=p(p({},m.defaultProps),{iconComponent:u.Z});const h=m},38132:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(67294),s=n(75774),r=n(39571);var a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=Object.assign;const d=function(e){var{children:t}=e,n=((e,t)=>{var n={};for(var i in e)a.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&o)for(var i of o(e))t.indexOf(i)<0&&l.call(e,i)&&(n[i]=e[i]);return n})(e,["children"]);return i.createElement(r.Z,c({},n),i.createElement(s.Z,{className:"ModalContentCenter-modalScroller-35LbRg ModalBody-modalScroller-2PYVmh ModalBody-modalBody-3v8fMY",innerClassName:"ModalContentCenter-innerModalBody-1iDB5E ModalBody-innerModalBody-jCNoJl"},t))}},66102:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(94184),s=n.n(i),r=n(67294),a=n(46565),o=n(39611),l=n(38132);const c={icon:"ModalContentError-icon-7HjSEb",default:"ModalContentError-default-3xaAPL",primary:"ModalContentError-primary-pMrVY-",success:"ModalContentError-success-20x587",danger:"ModalContentError-danger-2pPSTS",message:"ModalContentError-message-thZttv"};var d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=Object.assign;function h(e){const{iconClassName:t,messageClassName:n,kind:i,message:a}=e,h=((e,t)=>{var n={};for(var i in e)d.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&u)for(var i of u(e))t.indexOf(i)<0&&p.call(e,i)&&(n[i]=e[i]);return n})(e,["iconClassName","messageClassName","kind","message"]);return r.createElement(l.Z,m({},h),r.createElement(o.Z,{className:s()(c[i],t)}),r.createElement("div",{className:n},a))}h.defaultProps={iconClassName:c.icon,messageClassName:c.message,kind:a.TP};const g=h},3345:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(67294),s=n(69605),r=n(5562),a=n(72936),o=n(90980),l=n(95368),c=n(83787);const d=function(e){const{isOpen:t,state:n,onConfirm:d,onClose:u}=e,p=t&&n===o.R3.CANCEL,m=t&&n===o.R3.REMOVE,h=t&&n===o.R3.UPSELL;return i.createElement(i.Fragment,null,i.createElement(l.Z,{isOpen:p,title:(0,r.Z)("Cancel Download"),message:(0,r.Z)("Are you sure you want to cancel this download?"),metricsPage:s.Pi,confirmLabel:(0,r.Z)("Yes"),cancelLabel:(0,r.Z)("No"),onConfirm:d,onCancel:u}),i.createElement(l.Z,{isOpen:m,title:(0,r.Z)("Delete Download"),message:(0,r.Z)("Are you sure you want to delete this download?"),metricsPage:s.Ke,onConfirm:d,onCancel:u}),i.createElement(c.Z,{origin:a.vz,isOpen:h,onModalClose:u}))}},12813:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67294);function s({className:e,children:t}){return i.createElement("div",{className:e},t)}s.defaultProps={className:"PageHeaderRight-pageHeaderRight-8bsxD4"};const r=s},83427:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(67294),s=Object.prototype.hasOwnProperty,r=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,o=Object.assign;function l(e){var{children:t}=e,n=((e,t)=>{var n={};for(var i in e)s.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&r)for(var i of r(e))t.indexOf(i)<0&&a.call(e,i)&&(n[i]=e[i]);return n})(e,["children"]);return i.createElement("div",o({},n),t)}l.defaultProps={className:"PrimaryPageHeader-pageHeader-2h_9dt PageHeader-pageHeader-WpvbJc"};const c=l},91061:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67294),s=n(12813);const r=function({children:e}){return i.createElement(s.Z,{className:"PrimaryPageHeaderRight-pageHeaderRight-2uX7ln PageHeaderRight-pageHeaderRight-8bsxD4"},e)}},34504:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(45697),s=n.n(i),r=n(67294),a=n(37703),o=n(37588);const l={dispatchUpdateDownloadAvailability:o.updateDownloadAvailability,dispatchUpdateDownloadSubscriptionIDs:o.updateDownloadSubscriptionIDs};function c(e){const{dispatchUpdateDownloadAvailability:t,dispatchUpdateDownloadSubscriptionIDs:n,metadataItemEntityID:i,providerEntityID:s}=e;return(0,r.useEffect)((()=>{const e={metadataItemEntityID:i,providerEntityID:s};t(e),n(e)}),[t,n,i,s]),null}c.propTypes={metadataItemEntityID:s().string.isRequired,providerEntityID:s().string.isRequired,dispatchUpdateDownloadAvailability:s().func.isRequired,dispatchUpdateDownloadSubscriptionIDs:s().func.isRequired};const d=(0,a.$j)(null,l)(c)},55726:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var i=n(67294),s=n(37703),r=n(22222),a=n(50091),o=n(27082),l=n(29414),c=n(53181),d=n(71675),u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=Object.assign;const g={dispatchPopulateMetadataList:l.CF,dispatchPopulateMetadataListRange:l.vp,dispatchDeselectAllMetadataListItems:l.m8,dispatchResetMetadataList:l.wZ};class y extends i.Component{constructor(){super(...arguments),this.onPageRequest=e=>{const{metadataListEntityID:t,disableReloadThreshold:n,dispatchPopulateMetadataListRange:i}=this.props;i(h({metadataListEntityID:t,disableReloadThreshold:n},e))}}componentWillMount(){this._populate()}componentWillReceiveProps(e){const{containerKey:t,metadataListEntityID:n}=e;t===this.props.containerKey&&n===this.props.metadataListEntityID||this._populate(e)}componentWillUnmount(){const{metadataListEntityID:e,shouldResetOnUnmount:t}=this.props;this.props.dispatchDeselectAllMetadataListItems({metadataListEntityID:e}),t&&this.props.dispatchResetMetadataList({metadataListEntityID:e})}_populate(e=this.props){const{entityKey:t,metadataListEntityID:n,initialSize:i,dispatchPopulateMetadataList:s,dispatchPopulateMetadataListRange:r}=e;i&&(0,o.c9)((()=>{t&&this.props.dispatchResetMetadataList({metadataListEntityID:n}),i===1/0?s({metadataListEntityID:n}):r({metadataListEntityID:n,startIndex:0,endIndex:i-1,pages:1})}))}render(){const e=this.props,{component:t,dispatchPopulateMetadataListRange:n,dispatchDeselectAllMetadataListItems:s,dispatchResetMetadataList:r}=e,a=((e,t)=>{var n={};for(var i in e)u.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&p)for(var i of p(e))t.indexOf(i)<0&&m.call(e,i)&&(n[i]=e[i]);return n})(e,["component","dispatchPopulateMetadataListRange","dispatchDeselectAllMetadataListItems","dispatchResetMetadataList"]);return i.createElement(t,h(h({},a),{onPageRequest:this.onPageRequest}))}}y.defaultProps={disableReloadThreshold:!1,shouldResetOnUnmount:!1};const v=(0,s.$j)((function(){return(0,r.P1)((0,d.Z)(),(0,a.Z)(),c.Z,((e,t,n)=>({metadataItemEntityIDs:t.metadataItems,entityKey:t.entityKey,containerKey:t.containerKey||t.key,disableReloadThreshold:!!n.activeSelectionType,columnAdjustment:e,totalSize:t.totalSize,librarySectionID:t.librarySectionID,populatedRange:t.populatedRange,allowSync:t.allowSync,isPending:t.isPending,isPopulated:t.isPopulated,isMetaPopulated:t.isMetaPopulated,error:t.error,firstItemType:t.firstItemType,firstItemSubtype:t.firstItemSubtype,isFirstItemLibraryItem:t.isFirstItemLibraryItem,isDirectoryList:t.isDirectoryList,isChannelsList:t.isChannelsList})))}),g)(y)},78189:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var i=n(37703),s=n(22222),r=n(44693),a=n(67294),o=n(11947),l=n(16548),c=n(5562),d=n(55726),u=n(6657),p=n(38376),m=n(81017);const h=(0,s.P1)((0,m.Z)(),(({ratingKey:e,title:t})=>({ratingKey:e,title:t}))),g=(0,i.$j)(h)((function(e){const{ratingKey:t,title:n,onPress:i}=e,s=(0,a.useCallback)((()=>i(t)),[i,t]);return a.createElement(o.Z,{className:"MetadataMenuItem-item-28xIgE",onPress:s},n)}));function y(e){const{metadataItemEntityIDs:t,showTopSeparator:n,header:i,onItemPress:s}=e;return t.length?a.createElement(a.Fragment,null,n&&t.length?a.createElement(p.Z,null):null,i?a.createElement(u.Z,null,i):null,t.map((e=>a.createElement(g,{key:e,metadataItemEntityID:e,onPress:s})))):null}y.defaultProps={showTopSeparator:!0};const v=y,f=(0,s.P1)((e=>e.ui.addToPlaylistMenu.recentPlaylists),(e=>({recentPlaylists:e}))),I=(0,i.$j)(f,(function(e,t){const{serverEntityID:n,providerEntityID:i,metadataItemEntityID:s,metadataListEntityID:a}=t;return{onInitMenu(){e((0,r.u0)({serverEntityID:n,providerEntityID:i,metadataItemEntityID:s,metadataListEntityID:a}))},onClearMenu(){e((0,r.rg)())},onAddToExistingPlaylistPress(t){e((0,r.uM)({providerEntityID:i,playlistID:t}))}}}))((function(e){const{showAddToPlaylist:t,showAddToSmartPlaylist:n,recentPlaylists:i,customFilterRoute:s,onAddToPlaylistPress:r,onAddToSmartPlaylistPress:u,onAddToExistingPlaylistPress:p,onInitMenu:m,onClearMenu:h,onMenuClose:g}=e;(0,a.useEffect)((()=>(m(),h)),[h,m]);const y=!!s;return a.createElement(a.Fragment,null,t?a.createElement(o.Z,{onPress:r},(0,c.Z)("Add to Playlist...")):null,n?a.createElement(o.Z,{onPress:u},(0,c.Z)("Save as Smart Playlist...")):null,y?a.createElement(o.Z,{to:s},(0,c.Z)("Create Smart Playlist")):null,i?a.createElement(d.Z,{metadataListEntityID:i,component:v,initialSize:3,showTopSeparator:t||y,header:(0,c.Z)("Add to..."),onItemPress:(0,l.Z)(p,g)}):null)}))},1691:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ne});var i=n(37703),s=n(22222),r=n(11203),a=n(79932),o=n(81017),l=n(757),c=n(20531),d=n(74253),u=n(89984),p=n(87691),m=n(6055),h=n(37588),g=n(3568),y=n(45992),v=n(27154),f=n(67294),I=n(13469),b=n.n(I),M=n(31419),S=n(11947),E=n(38376),D=n(16548),C=n(46565),P=n(88050),w=n(17524),T=n(5562),Z=n(61478),N=n(66322),A=n(57501),x=n(90980),L=n(3345),O=n(98727),j=n(36237),k=n(45399),R=n(69881),z=n(3386),U=n(19402);const V="AddToLibraryMenuItem-item-2f2S4j";var B=Object.prototype.hasOwnProperty,F=Object.getOwnPropertySymbols,H=Object.prototype.propertyIsEnumerable,_=Object.assign;class Q extends f.Component{constructor(){super(...arguments),this.createOnPress=e=>{const{metadataItemEntityID:t,onItemPress:n}=this.props;return()=>n(_({metadataItemEntityID:t},e))}}render(){const{serverDirectories:e,hasMultipleServers:t,onMenuClose:n}=this.props;if(!e||!e.length)return null;if(1===e.length){const t=e[0].title,i=(0,T.Z)("Add to {libraryTitle}",{libraryTitle:t});return f.createElement(S.Z,{className:V,title:i,onPress:(0,D.Z)(this.createOnPress(e[0]),n)},i)}return f.createElement(U.Z,{label:(0,T.Z)("Add to Library"),onMenuClose:n},e.map(((e,i)=>{var{serverFriendlyName:s,title:r}=e,a=((e,t)=>{var n={};for(var i in e)B.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&F)for(var i of F(e))t.indexOf(i)<0&&H.call(e,i)&&(n[i]=e[i]);return n})(e,["serverFriendlyName","title"]);const o=r+(t?` (${s})`:"");return f.createElement(S.Z,{key:i,className:V,title:o,onPress:(0,D.Z)(this.createOnPress(a),n)},o)})))}}const G=Q,Y=(0,s.P1)(O.Z,j.Z,((e,t)=>{let n=0;return{serverDirectories:t.reduce(((t,i)=>{if(i.isOutOfDate||!i.ownerFeatures.includes(k.Ao))return t;const s=function(e,t){return e.reduce(((e,n)=>{const i=(0,z.Z)(n),s=(i?i.directories:[]).filter((e=>e.type===t));return e.push(...s),e}),[])}(i.providers.map((t=>e[t])),R.ARTIST);s.length&&(n+=1);const r=s.map((e=>({serverEntityID:i.entityID,serverFriendlyName:i.friendlyName,title:e.title,sectionKey:e.key})));return t.push(...r),t}),[]),hasMultipleServers:n>1}})),W={onItemPress:r.Zo},K=(0,i.$j)(Y,W)(G);var q=n(19469),$=n(25366),J=n(69605),X=n(1088),ee=n(10825),te=n(69713),ne=n(34377),ie=n(36245),se=Object.prototype.hasOwnProperty,re=Object.getOwnPropertySymbols,ae=Object.prototype.propertyIsEnumerable,oe=Object.assign;const le=function(e){const{mediaItems:t}=e,n=((e,t)=>{var n={};for(var i in e)se.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&re)for(var i of re(e))t.indexOf(i)<0&&ae.call(e,i)&&(n[i]=e[i]);return n})(e,["mediaItems"]);return f.createElement(ne.Z,oe({title:(0,T.Z)("Play Version"),metricsPage:J.DV},n),t.map(((e,t)=>{const n=[];if(e.bitrate&&n.push((0,te.Z)(e.bitrate)),e.videoResolution){const t=(0,X.Z)(e),i=t?t.scanType:null;n.push((0,ee.Z)(e.videoResolution,i))}const i=!!e.title,s=n.length>0;return f.createElement(ie.Z,{key:t,value:t},i?e.title:null,i&&s?f.createElement($.Z,null):null,s?n.join(", "):null,i||s?null:(0,T.Z)("Unknown"))})))};var ce=n(66788),de=n(22103),ue=n(96270),pe=n(92885),me=n(12159),he=n(78189),ge=Object.assign;const ye=function(e){const{onMenuClose:t}=e;return f.createElement(U.Z,{label:(0,T.Z)("Add to Playlist"),onMenuClose:t},f.createElement(he.Z,ge({},e)))};n(92375);var ve=n(75534);const fe=function(e){const{metadataItem:t,onMenuClose:n}=e,i=(0,ve.Z)(),s=t.downloadUrl?t.downloadUrl():null,r=s&&!0;return f.createElement(f.Fragment,null,f.createElement(S.Z,{to:s,target:s?i:null,download:r,onPress:t.downloadUrl?n:(0,D.Z)(e.onDownloadVersionPress,n)},(0,T.Z)("Download File")),null)};var Ie=Object.prototype.hasOwnProperty,be=Object.getOwnPropertySymbols,Me=Object.prototype.propertyIsEnumerable,Se=Object.assign;const Ee=function(e){const{hasDownloadState:t,hasOfflineFile:n,hasOwnSubscription:i,label:s,progress:r}=e,a=((e,t)=>{var n={};for(var i in e)Ie.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&be)for(var i of be(e))t.indexOf(i)<0&&Me.call(e,i)&&(n[i]=e[i]);return n})(e,["hasDownloadState","hasOfflineFile","hasOwnSubscription","label","progress"]);return f.createElement(S.Z,Se({},a),s)},De=["showPlay","showPlayVersion","showPlayAll","showShuffle","showQueue","showPlayPlexMix","showQueuePlexMix","showPlayTrailer","showPlayMusicVideo","showWatchTogether","showAddToPlaylist","showAddToLibrary"],Ce=["showEdit","showMarkPlayed","showMarkUnplayed","showModifySmartPlaylist","showSettings","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showDownload","showShare","showDelete","showDeleteVersion","showViewPlayHistory","showGetInfo"];function Pe(e,t){return!!b().find(e,(e=>t[e]))}function we(e){const{target:t,isOpen:n,metadataItem:i,metadataItemEntityID:s,metricsPage:r,providerEntityID:a,serverEntityID:o,onPlayVersionPress:l,onCancelDownloadActivity:c,onDeleteDownloadSubscription:d,onCreateDownloadSubscription:u,onMenuClose:p}=e,m=(0,pe.Z)(e.onMarkPlayedConfirm),h=(0,pe.Z)(e.onMarkUnplayedConfirm),g=(0,pe.Z)(),y=(0,pe.Z)(),v=(0,pe.Z)(),I=(0,pe.Z)(),b=(0,pe.Z)(),O=(0,x.Gb)({metadataItemEntityID:s,metricsPage:r,providerEntityID:a,serverEntityID:o,onCancelDownloadActivity:c,onCreateDownloadSubscription:u,onDeleteDownloadSubscription:d}),j=(0,f.useCallback)((e=>{l(e),g.onClose()}),[l,g]),k=!!i.metadataState,R=!!i.mediaState,z=Pe(De,e),U=Pe(Ce,e),V=z&&U;return f.createElement(f.Fragment,null,f.createElement(M.Z,{target:t,isOpen:n,onMenuClose:p},e.showPlay?f.createElement(S.Z,{onPress:(0,D.Z)(e.onPlayPress,p)},(0,T.Z)("Play")):null,e.showPlayVersion?f.createElement(S.Z,{onPress:(0,D.Z)(g.onOpen,p)},(0,T.Z)("Play Version...")):null,e.showPlayAll?f.createElement(S.Z,{onPress:(0,D.Z)(e.onPlayAllPress,p)},(0,T.Z)("Play All")):null,e.showShuffle?f.createElement(S.Z,{onPress:(0,D.Z)(e.onShufflePress,p)},(0,T.Z)("Shuffle")):null,e.showPlayRadio?f.createElement(S.Z,{onPress:(0,D.Z)(e.onPlayRadioPress,p)},(0,T.Z)("Play Radio")):null,e.showPlayArtistTV?f.createElement(S.Z,{onPress:(0,D.Z)(e.onPlayArtistTVPress,p)},(0,T.Z)("Play Artist TV")):null,e.showWatchTogether?f.createElement(S.Z,{onPress:(0,D.Z)(y.onOpen,p)},(0,T.Z)("Watch Together...")):null,e.showQueue?f.createElement(S.Z,{onPress:(0,D.Z)(e.onPlayNextPress,p)},(0,T.Z)("Play Next")):null,e.showQueue?f.createElement(S.Z,{onPress:(0,D.Z)(e.onAddToQueuePress,p)},(0,T.Z)("Add to Queue")):null,e.showPlayPlexMix?f.createElement(S.Z,{onPress:(0,D.Z)(e.onPlayPlexMixPress,p)},(0,T.Z)("Play Plex Mix")):null,e.showQueuePlexMix?f.createElement(S.Z,{onPress:(0,D.Z)(e.onQueuePlexMixPress,p)},(0,T.Z)("Queue Plex Mix")):null,e.showPlayTrailer?f.createElement(S.Z,{onPress:(0,D.Z)(e.onPlayPrimaryExtraPress,p)},(0,T.Z)("Play Trailer")):null,e.showPlayMusicVideo?f.createElement(S.Z,{onPress:(0,D.Z)(e.onPlayPrimaryExtraPress,p)},(0,T.Z)("Play Music Video")):null,e.showAddToWatchlist?f.createElement(S.Z,{onPress:(0,D.Z)(e.onAddToWatchlistPress,p)},i.watchlistedAt?(0,T.Z)("Remove from Watchlist"):(0,T.Z)("Add to Watchlist")):null,e.showAddToPlaylist?f.createElement(ye,{serverEntityID:o,providerEntityID:a,metadataItemEntityID:s,showAddToPlaylist:!0,onAddToPlaylistPress:(0,D.Z)(I.onOpen,p),onMenuClose:p}):null,e.showAddToSaved?f.createElement(S.Z,{onPress:(0,D.Z)(e.onAddToSavedPress,p)},(B=i.saved,F=e.providerIdentifier,i.subtype===Z.PODCAST?B?(0,T.Z)("Remove from My Podcasts"):(0,T.Z)("Add to My Podcasts"):w.wB(F,w.xF)?B?(0,T.Z)("Remove from My TIDAL"):(0,T.Z)("Add to My TIDAL"):B?(0,T.Z)("Remove from My Shows"):(0,T.Z)("Add to My Shows"))):null,e.showAddToPicks?f.createElement(S.Z,{onPress:(0,D.Z)(e.onAddToPicksPress,p)},i.picked?(0,T.Z)("Remove from Plex Picks"):(0,T.Z)("Add to Plex Picks")):null,e.showAddToLibrary?f.createElement(K,{serverEntityID:o,providerEntityID:a,metadataItemEntityID:s,onMenuClose:e.onMenuClose}):null,V?f.createElement(E.Z,null):null,e.showEdit?f.createElement(S.Z,{onPress:(0,D.Z)(e.onEditPress,p)},(0,T.Z)("Edit")):null,e.showModifySmartPlaylist?f.createElement(S.Z,{onPress:(0,D.Z)(e.onModifySmartPlaylistPress,p)},(0,T.Z)("Edit Filters")):null,e.showSettings?f.createElement(S.Z,{onPress:(0,D.Z)(v.onOpen,p)},(0,T.Z)("Settings")):null,e.showMarkPlayed?f.createElement(S.Z,{onPress:(0,D.Z)(m.onOpen,p)},(0,T.Z)("Mark as Played")):null,e.showMarkUnplayed?f.createElement(S.Z,{onPress:(0,D.Z)(h.onOpen,p)},(0,T.Z)("Mark as Unplayed")):null,e.showRefresh?f.createElement(S.Z,{isDisabled:k,onPress:(0,D.Z)(e.onRefreshPress,p)},(0,T.Z)("Refresh Metadata")):null,e.showAnalyze?f.createElement(S.Z,{isDisabled:R,onPress:(0,D.Z)(e.onAnalyzePress,p)},(0,T.Z)("Analyze")):null,e.showFixMatch?f.createElement(S.Z,{onPress:(0,D.Z)(e.onFixMatchPress,p)},(0,T.Z)("Fix Match...")):null,e.showMatch?f.createElement(S.Z,{onPress:(0,D.Z)(e.onFixMatchPress,p)},(0,T.Z)("Match...")):null,e.showUnmatch?f.createElement(S.Z,{onPress:(0,D.Z)(e.onUnmatchPress,p)},(0,T.Z)("Unmatch")):null,e.showSplitApart?f.createElement(S.Z,{onPress:(0,D.Z)(e.onSplitApartPress,p)},(0,T.Z)("Split Apart")):null,e.showSync?f.createElement(S.Z,{onPress:(0,D.Z)(e.onSyncPress,p)},(0,T.Z)("Sync...")):null,e.showSyncDownload?f.createElement(x.ZP,{component:Ee,metadataItemEntityID:s,providerEntityID:a,serverEntityID:o,onPress:(0,D.Z)(O.onPress,p)}):null,e.showOptimize?f.createElement(S.Z,{onPress:(0,D.Z)(e.onOptimizePress,p)},(0,T.Z)("Optimize...")):null,e.showDownload?f.createElement(N.Z,{action:P.a2},f.createElement(fe,{metadataItem:i,onMenuClose:p,onDownloadVersionPress:e.onDownloadVersionPress})):null,e.showShare?f.createElement(N.Z,{action:P.Dp},f.createElement(S.Z,{onPress:(0,D.Z)(b.onOpen,p)},(0,T.Z)("Share…"))):null,e.showDelete?f.createElement(S.Z,{kind:i.remoteMedia?void 0:C.T,onPress:(0,D.Z)(e.onDeletePress,p)},i.remoteMedia?(0,T.Z)("Remove"):(0,T.Z)("Delete")):null,e.showDeleteVersion?f.createElement(S.Z,{kind:C.T,onPress:(0,D.Z)(e.onDeleteVersionPress,p)},(0,T.Z)("Delete Version")):null,e.showViewPlayHistory?f.createElement(S.Z,{to:(0,me.Z)(e.machineIdentifier,i)},(0,T.Z)("View Play History")):null,e.showGetInfo?f.createElement(S.Z,{onPress:(0,D.Z)(e.onGetInfoPress,p)},(0,T.Z)("Get Info")):null),e.showMarkPlayed||e.showMarkUnplayed?f.createElement(q.Z,{isOpen:m.isOpen||h.isOpen,type:i.type,subtype:i.subtype,title:i.title,leafCount:m.isOpen?i.unviewedLeafCount:i.viewedLeafCount,markUnplayed:h.isOpen,onConfirm:m.isOpen?m.onConfirm:h.onConfirm,onCancel:m.isOpen?m.onClose:h.onClose}):null,e.showAddToPlaylist?f.createElement(de.Z,{isOpen:I.isOpen,serverEntityID:o,providerEntityID:a,metadataItemEntityID:s,onModalClose:I.onClose}):null,e.showSyncDownload?f.createElement(L.Z,{isOpen:O.isOpen,state:O.state,onConfirm:O.onConfirm,onClose:O.onClose}):null,f.createElement(le,{isOpen:g.isOpen,mediaItems:i.Media,onCancel:g.onClose,onItemSelect:j}),f.createElement(ce.Z,{serverEntityID:o,providerEntityID:a,metadataItemEntityID:s,isOpen:v.isOpen,onModalClose:v.onClose}),e.showWatchTogether?f.createElement(ue.Z,{metricsProperties:{context:e.metricsContext,page:r},serverEntityID:o,metadataItemEntityID:s,isOpen:y.isOpen,onModalClose:y.onClose}):null,e.showShare?f.createElement(A.Z,{metricsProperties:{context:e.metricsContext,page:r},serverEntityID:o,metadataItemEntityID:s,isOpen:b.isOpen,onModalClose:b.onClose}):null);var B,F}we.defaultProps={allowRedirectOnDelete:!1};const Te=we;var Ze=Object.assign;const Ne=(0,i.$j)(c.Z)((0,p.Z)((function(){return(0,s.P1)(d.Z,l.Z,y.Z,(0,o.Z)(),(0,g.Z)(),((e,t,n,i,s)=>Ze({metadataItem:i,machineIdentifier:e.machineIdentifier,providerIdentifier:t.identifier,embeddedServerEntityID:n},s)))}),(function(e,t){const n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,itemServerEntityID:t.itemServerEntityID,itemProviderEntityID:t.itemProviderEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e(a.wA(Ze(Ze({},n),{options:{containerKey:t.containerKey,listType:t.listType}})))},onPlayVersionPress(i){e(a.wA(Ze(Ze({},n),{startMediaIndex:i,options:{containerKey:t.containerKey,listType:t.listType}})))},onPlayAllPress(){e(a.Ld(n))},onShufflePress(){e(a.Em(n))},onPlayNextPress(){e(a.tP(Ze(Ze({},n),{options:{playAll:!0,next:!0}})))},onAddToQueuePress(){e(a.tP(Ze(Ze({},n),{options:{playAll:!0,next:!1}})))},onPlayPlexMixPress(){e(a.Gh(n))},onQueuePlexMixPress(){e(a.kP(n))},onPlayPrimaryExtraPress(){e(a.EF(n))},onPlayRadioPress(){e(a.QR(Ze({playlistType:u.j0},n)))},onPlayArtistTVPress(){e(a.QR(Ze({playlistType:u.pX},n)))},onAddToPicksPress(){e((0,r.Fj)(n))},onAddToSavedPress(){e((0,r.C_)(n))},onAddToWatchlistPress(){e((0,r.ZA)(n))},onMarkPlayedConfirm(){e(h.markMetadataItemPlayed(Ze(Ze({},n),{skipConfirm:!0})))},onMarkUnplayedConfirm(){e(h.markMetadataItemUnplayed(Ze(Ze({},n),{skipConfirm:!0})))},onEditPress(){e(h.editMetadataItem(n))},onRefreshPress(){e(h.refreshMetadataItem(n))},onModifySmartPlaylistPress(){e(h.modifySmartPlaylist(n))},onAnalyzePress(){e(h.analyzeMetadataItem(n))},onFixMatchPress(){e(h.fixMetadataItemMatch(n))},onUnmatchPress(){e(h.unmatchMetadataItem(n))},onSplitApartPress(){e(h.splitMetadataItemApart(n))},onSyncPress(){e(h.syncMetadataItem(n))},onOptimizePress(){e(h.optimizeMetadataItem(n))},onDownloadVersionPress(){e(h.downloadMetadataItemVersion(n))},onDeletePress(){e(h.deleteMetadataItem(Ze(Ze({},n),{options:{skipRedirect:!t.allowRedirectOnDelete}})))},onDeleteVersionPress(){e(h.deleteMetadataItemVersion(n))},onGetInfoPress(){e(h.getMetadataItemInfo(n))},onCancelDownloadActivity(){e(m.FX(n))},onDeleteDownloadSubscription(){e(m.L7(n))},onCreateDownloadSubscription(){e(m.A$(n))}}}),v.Z)(Te))},4746:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(67294),s=n(48604),r=n(57904),a=n(5562),o=n(1691),l=n(46391),c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=Object.assign;class m extends i.Component{constructor(e,t){super(e,t),this.onActionsPress=e=>{this.setState({hasBeenOpened:!0},(()=>{this.props.onMenuOpenChange(!this.props.isMenuOpen)}))},this.onActionsMenuClose=()=>{this.props.onMenuOpenChange(!1)},this._moreButtonID=(0,r.Z)(),this.state={hasBeenOpened:!1}}render(){const e=this.props,{"data-qa-id":t,className:n,iconClassName:r,tabIndex:m,serverEntityID:h,providerEntityID:g,metadataItemEntityID:y,containerKey:v,listType:f,isMenuOpen:I,onMenuOpenChange:b}=e,M=((e,t)=>{var n={};for(var i in e)c.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&d)for(var i of d(e))t.indexOf(i)<0&&u.call(e,i)&&(n[i]=e[i]);return n})(e,["data-qa-id","className","iconClassName","tabIndex","serverEntityID","providerEntityID","metadataItemEntityID","containerKey","listType","isMenuOpen","onMenuOpenChange"]);return i.createElement(s.Z,{"data-qa-id":t,id:this._moreButtonID,className:n,tabIndex:m,"aria-label":(0,a.Z)("More Actions"),"aria-haspopup":!0,onPress:this.onActionsPress},i.createElement(l.Z,{className:r}),this.state.hasBeenOpened?i.createElement(o.Z,p({serverEntityID:h,providerEntityID:g,metadataItemEntityID:y,containerKey:v,listType:f,target:this._moreButtonID,isOpen:I,onMenuClose:this.onActionsMenuClose},M)):null)}}const h=m},19469:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(67294),s=n(69605),r=n(5562),a=n(69881),o=n(95368);function l(e){return e!==a.SHOW&&e!==a.SEASON}function c({title:e,leafCount:t}){return 1===t?(0,r.Z)('Are you sure you want to mark 1 episode in "{showTitle}" as unplayed?',{showTitle:e}):(0,r.Z)('Are you sure you want to mark {numEpisodes} episodes in "{showTitle}" as unplayed?',{numEpisodes:t,showTitle:e})}function d({title:e,leafCount:t}){return 1===t?(0,r.Z)('Are you sure you want to mark 1 episode in "{showTitle}" as played?',{showTitle:e}):(0,r.Z)('Are you sure you want to mark {numEpisodes} episodes in "{showTitle}" as played?',{numEpisodes:t,showTitle:e})}class u extends i.Component{componentDidMount(){this._checkAutoConfirm()}componentDidUpdate(){this._checkAutoConfirm()}_checkAutoConfirm(){l(this.props.type)&&this.props.isOpen&&this.props.onConfirm()}render(){const{isOpen:e,type:t,markUnplayed:n,onConfirm:a,onCancel:u}=this.props;return l(t)?null:i.createElement(o.Z,{isOpen:e,metricsPage:n?s.Md:s.lP,title:n?(0,r.Z)("Mark as Unplayed"):(0,r.Z)("Mark as Played"),message:n?c(this.props):d(this.props),onConfirm:a,onCancel:u})}}const p=u},66788:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var i=n(67294),s=n(27620),r=n(69605),a=n(53790),o=n(37703),l=n(22222),c=n(81017),d=n(27082),u=n(37588),p=n(58858),m=n(45915),h=n(18676),g=n(75774),y=n(45610),v=n(15378),f=n(84388),I=n(46565),b=n(5562),M=n(40691),S=n(79100),E=n(39571);var D=Object.assign;const C=function(e){const{isSettingsUpdating:t,hasError:n,settings:s,onSubmit:r,onModalClose:a}=e;return i.createElement(h.ZP,{className:"SettingsModalContent-form-kJnOeo",onSubmit:r},i.createElement(E.Z,{onModalClose:a},i.createElement(f.Z,null,(0,b.Z)("Settings")),n?i.createElement(M.Z,{errorMessage:(0,b.Z)("There was an error saving the settings")}):null,i.createElement(g.Z,null,s.map((e=>i.createElement(S.Z,D({key:e.id},e))))),i.createElement(y.Z,null,i.createElement(v.Z,null,i.createElement(p.Z,{onPress:a},(0,b.Z)("Cancel")),i.createElement(m.Z,{kind:I._8,type:"submit",isSpinning:t},(0,b.Z)("Save"))))))};var P=Object.assign;class w extends i.Component{componentDidUpdate(e,t){!e.isSettingsUpdating||this.props.isSettingsUpdating||this.props.hasError||this.props.onModalClose()}componentWillUnmount(){this.props.onClearError()}render(){return i.createElement(C,P({},this.props))}}const T=(0,o.$j)((function(){return(0,l.P1)((0,c.Z)(),((e={})=>({settings:e.preferences,isSettingsUpdating:e.isSettingsUpdating,hasError:!!e.settingsUpdateError})))}),(function(e,t){return{onSubmit(n){(0,d.c9)((()=>{e((0,u.updateMetadataSettings)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,data:n}))}))},onClearError(){e((0,u.clearMetadataSettingsError)({metadataItemEntityID:t.metadataItemEntityID}))}}}))(w),Z=function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:o,isOpen:l,metricsProperties:c,onModalClose:d}=e;return i.createElement(a.Z,{size:s.HC,isOpen:l,metricsPage:r.w6,metricsProperties:c,onModalClose:d},i.createElement(T,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:o,onModalClose:d}))}},22103:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Te});var i=n(67294),s=n(27620),r=n(69605),a=n(53790),o=n(37703),l=n(22222),c=n(92857),d=n(18908),u=n(18676),p=n(66935),m=n(81093),h=n(75774),g=n(45610),y=n(84388),v=n(46565),f=n(5562),I=n(58300),b=n(40691),M=n(39571),S=n(55726),E=n(757),D=n(47933),C=n(70488),P=n(50316),w=n(74253),T=n(67006),Z=n(94803),N=n(17524);function A({server:e,provider:t}){if(!t||!t.features)return!1;if(e&&(e.isShared||e.isCloud||!e.isConnected))return!1;const n=[N.xF,N.Y3];return!!N.wB(t.identifier,n)&&!!t.features.find((e=>e.type===T.zg&&e.flavor===Z.D7))}var x=n(54177),L=n(57904),O=n(74186),j=n(31419),k=n(64469);class R extends i.Component{constructor(){super(...arguments),this.onPress=e=>{this.props.isSelected||this.props.onDestinationSelect(this.props.destination),this.props.onMenuClose()}}render(){const{destination:e,isSelected:t}=this.props;return i.createElement(k.Z,{isSelected:t,onPress:this.onPress},e.name)}}const z=R,U=function(e){const{target:t,isOpen:n,destination:r,destinations:a,onMenuClose:o,onDestinationSelect:l}=e;return i.createElement(j.Z,{target:t,isOpen:n,size:s.ln,onMenuClose:o},a.map(((e,t)=>i.createElement(z,{key:`playlist-destination-${t}`,destination:e,isSelected:e===r,onMenuClose:o,onDestinationSelect:l}))))};class V extends i.Component{constructor(e,t){super(e,t),this.onMenuButtonPress=()=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._menuButtonID=(0,L.Z)()}render(){const{className:e,destination:t,destinations:n,onDestinationSelect:s}=this.props,{isMenuOpen:r}=this.state;return!n||n.length<2?null:i.createElement("div",{className:e},i.createElement(x.Z,{id:this._menuButtonID,direction:r?O.UP:O.WV,onPress:this.onMenuButtonPress},t.name),i.createElement(U,{target:this._menuButtonID,isOpen:r,destination:t,destinations:n,onMenuClose:this.onMenuClose,onDestinationSelect:s}))}}const B=V,F=(0,l.P1)(D.Z,P.Z,E.Z,((e,t,n)=>{const i={server:t,provider:n},s=e.filter(A);return s.find((({server:e,provider:i})=>e.machineIdentifier===t.machineIdentifier&&i.identifier===n.identifier))||s.unshift(i),s})),H=(0,o.$j)((function(){return(0,l.P1)(w.Z,C.Z,F,((e,t,n)=>{const i=n.map((e=>({name:e.server.isCloud?(0,f.Z)("TIDAL"):e.server.friendlyName,serverEntityID:e.server.entityID,providerEntityID:e.provider.entityID})));return{destination:i.find((({serverEntityID:n,providerEntityID:i})=>n===e.entityID&&i===t.entityID)),destinations:i}}))}))(B);var _=n(31590),Q=n(58801),G=n(81017),Y=n(94184),W=n.n(Y),K=n(48604),q=n(26416),$=n(84699),J=n(5148);const X=(0,o.$j)((function(){return(0,l.P1)((0,G.Z)(),(e=>e?{isLoading:!1,playlistID:e.ratingKey,title:e.title,thumb:e.thumb||e.composite||""}:{isLoading:!0}))}))((function(e){const{className:t,serverEntityID:n,providerEntityID:s,playlistID:r,title:a,thumb:o,isLoading:l,cellIndex:c,onSelect:d}=e,u=(0,q.Z)(e),p=(0,i.useCallback)((()=>{d(r)}),[r,d]);return i.createElement("div",{className:t,style:u.style},l?null:i.createElement(K.Z,{className:W()("PlaylistListItem-container-W8NUn3",c%2&&"PlaylistListItem-alternate-2JzwxV"),onPress:p},i.createElement($.Z,{className:"PlaylistListItem-card-19-J2c PosterCard-card-3ds3Od",serverEntityID:n,providerEntityID:s,component:J.Z,width:40,height:40,url:o}),i.createElement("span",{className:"PlaylistListItem-title-CeCnF_"},a)))}));var ee=n(90961);var te=Object.prototype.hasOwnProperty,ne=Object.getOwnPropertySymbols,ie=Object.prototype.propertyIsEnumerable,se=Object.assign;const re=(0,ee.Z)(50);class ae extends i.Component{constructor(){super(...arguments),this.renderPlaylistItem=e=>{const{serverEntityID:t,providerEntityID:n,onPlaylistSelect:s}=this.props;return i.createElement(X,se(se({},e),{className:"PlaylistList-cell-3BlFt0",serverEntityID:t,providerEntityID:n,onSelect:s}))}}render(){const e=this.props,{metadataItemEntityIDs:t,isPopulated:n,totalSize:s}=e,r=((e,t)=>{var n={};for(var i in e)te.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&ne)for(var i of ne(e))t.indexOf(i)<0&&ie.call(e,i)&&(n[i]=e[i]);return n})(e,["metadataItemEntityIDs","isPopulated","totalSize"]);return n?i.createElement(_.Z,se({className:"PlaylistList-content-2TNiD8",scrollerClassName:"PlaylistList-contentScroller-3l-NtV",keyPropName:"metadataItemEntityID",items:t,size:s,layout:re,cellRenderer:this.renderPlaylistItem},r)):i.createElement(Q.Z,{className:"PlaylistList-spinner-2Q2QzH"})}}const oe=ae;var le=Object.prototype.hasOwnProperty,ce=Object.getOwnPropertySymbols,de=Object.prototype.propertyIsEnumerable,ue=Object.assign;function pe(e){if(!e)return(0,f.Z)("Title is required")}const me=(0,m.Z)((e=>{var{showErrors:t}=e,n=((e,t)=>{var n={};for(var i in e)le.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&ce)for(var i of ce(e))t.indexOf(i)<0&&de.call(e,i)&&(n[i]=e[i]);return n})(e,["showErrors"]);return i.createElement(p.Z,ue({hasError:t},n))}));class he extends i.Component{componentDidUpdate(e){this.props.isUpdating||!e.isUpdating||this.props.hasError||this.props.onModalClose()}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataListEntityID:s,title:r,smart:a,hasError:o,isUpdating:l,isMultiSelect:c,onModalClose:d,onDestinationSelect:p,onFormSubmit:m,onPlaylistSelect:E}=this.props,D=!c&&!a&&e&&t&&n;return i.createElement(M.Z,{onModalClose:d},i.createElement(y.Z,null,a?(0,f.Z)("Create Playlist"):(0,f.Z)("Add to Playlist")),D?i.createElement(H,{className:"AddToPlaylistModalContent-listModalSubheader-15IOEx",serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,onDestinationSelect:p}):null,o?i.createElement(b.Z,{errorMessage:(0,f.Z)("Something went wrong. Make sure the destination is available and try again.")}):null,a?null:i.createElement(h.Z,{innerClassName:"AddToPlaylistModalContent-listModalInnerBody-2hoRXs"},s?i.createElement(S.Z,{serverEntityID:e,providerEntityID:t,metadataListEntityID:s,component:oe,initialSize:20,onPlaylistSelect:E}):null),i.createElement(g.Z,null,i.createElement(u.ZP,{className:"AddToPlaylistModalContent-createForm-2e8eVM",onSubmit:m},i.createElement(me,{focusOnMount:!0,"data-autofocus":!0,selectTextOnFocus:!0,name:"title",initialValue:r,validations:[pe]}),i.createElement(I.Z,{className:"AddToPlaylistModalContent-createButton-2Uku0e",type:"submit",kind:v._8,isSpinning:l},(0,f.Z)("Create")))))}}const ge=he;var ye=Object.prototype.hasOwnProperty,ve=Object.getOwnPropertySymbols,fe=Object.prototype.propertyIsEnumerable,Ie=Object.assign;const be=(0,l.P1)((e=>e.ui.addToPlaylistModal),d.Z,((e,t)=>{const{metadataItem:n,metadataList:i,multiSelect:s}=e;if(n)return n;const r=t[i];return r&&r.metadataItems.length?r.metadataItems[0]:s&&s.activeSelectionItems&&s.activeSelectionItems.length?s.activeSelectionItems[0].model:void 0})),Me=(0,l.P1)((e=>e.ui.addToPlaylistModal),be,((e,t)=>({serverEntityID:e.server,providerEntityID:e.provider,metadataItemEntityID:t,metadataListEntityID:e.playlists,title:e.title,isUpdating:e.isUpdating,isMultiSelect:!!e.multiSelect,hasError:!!e.error})));class Se extends i.Component{constructor(){super(...arguments),this.onAdd=e=>{this.props.dispatchAddToPlaylist(e)}}componentDidMount(){this.props.dispatchInitAddToPlaylistModal()}componentWillUnmount(){this.props.dispatchClearAddToPlaylistModal()}render(){const e=this.props,{dispatchInitAddToPlaylistModal:t,dispatchClearAddToPlaylistModal:n,dispatchAddToPlaylist:s}=e,r=((e,t)=>{var n={};for(var i in e)ye.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&ve)for(var i of ve(e))t.indexOf(i)<0&&fe.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchInitAddToPlaylistModal","dispatchClearAddToPlaylistModal","dispatchAddToPlaylist"]);return i.createElement(ge,Ie({onPlaylistSelect:this.onAdd},r))}}const Ee=(0,o.$j)(Me,(function(e,t){return{onDestinationSelect({serverEntityID:t,providerEntityID:n}){e(c.it({serverEntityID:t,providerEntityID:n}))},onFormSubmit(t){e(c.cg({formData:t}))},dispatchInitAddToPlaylistModal(){e(c.x3({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metadataListEntityID:t.metadataListEntityID,playQueueID:t.playQueueID,smart:t.smart}))},dispatchClearAddToPlaylistModal(){e(c.h5())},dispatchAddToPlaylist(t){e(c.BJ({playlistID:t}))}}}))(Se);var De=Object.prototype.hasOwnProperty,Ce=Object.getOwnPropertySymbols,Pe=Object.prototype.propertyIsEnumerable,we=Object.assign;const Te=function(e){const{isOpen:t,onModalClose:n}=e,o=((e,t)=>{var n={};for(var i in e)De.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Ce)for(var i of Ce(e))t.indexOf(i)<0&&Pe.call(e,i)&&(n[i]=e[i]);return n})(e,["isOpen","onModalClose"]);return i.createElement(a.Z,{size:s.HC,isOpen:t,metricsPage:r.ls,onModalClose:n},i.createElement(Ee,we({onModalClose:n},o)))}},13202:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(67294),s=n(79100),r=Object.assign;const a=function(e){const{prefs:t}=e;return i.createElement("div",null,t.map((e=>{const{id:t}=e;return i.createElement(s.Z,r({key:t},e))})))}},3664:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var i=n(67294),s=n(69881),r=n(5011),a=n(84699),o=n(5148),l=n(65732),c=n(36475),d=n(97784),u=n(80126);var p=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,g=Object.assign;const y=function(e){const{component:t,isSecondary:n}=e,s=((e,t)=>{var n={};for(var i in e)p.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&m)for(var i of m(e))t.indexOf(i)<0&&h.call(e,i)&&(n[i]=e[i]);return n})(e,["component","isSecondary"]);return i.createElement(t,g({className:n?"MediaSubscriptionTitle-secondaryTitle-3ODBY0":"MediaSubscriptionTitle-title-2xYyOb"},s))};var v=Object.assign;function f(e){const{serverEntityID:t,providerEntityID:n,hint:p,target:m,useStaticHeight:h,children:g,showSubscriptionBadge:f,isDownload:I}=e,{type:b,subtype:M}=p,{thumb:S,grandparentThumb:E}=m||p,D=b===s.PLAYLIST,C=I&&D?m&&m.composite:E||S,P=I||b!==s.PLAYLIST?b:s.SHOW;return i.createElement("div",{className:"MediaSubscriptionHintPosterTitle-container-1ON72q"},i.createElement("div",{className:"MediaSubscriptionHintPosterTitle-left-Z8r-pS"},i.createElement(a.Z,{serverEntityID:t,providerEntityID:n,component:o.Z,type:P,width:130,height:(0,u.Cr)(130,P,M),url:C},f?i.createElement("div",{className:"MediaSubscriptionHintPosterTitle-subscriptionBadge-2jX4XR MetadataPosterCardOverlay-badge-2SzLhB"},i.createElement(r.Z,{type:b})):null)),i.createElement("div",{className:"MediaSubscriptionHintPosterTitle-right-3FD_oI"},i.createElement("div",{className:h?"MediaSubscriptionHintPosterTitle-staticHeightTitleContainer-8Z1F_x MediaSubscriptionHintPosterTitle-titleContainer-3DI73C":"MediaSubscriptionHintPosterTitle-titleContainer-3DI73C"},function(e){switch(e){case s.MOVIE:case s.SHOW:return[c.Z];case s.EPISODE:return[l.Z,d.Z];case s.PLAYLIST:default:return[c.Z]}}(b).map(((e,t)=>i.createElement(y,v({key:t,component:e,isSecondary:t>0},p))))),g))}f.defaultProps={useStaticHeight:!1};const I=f},75696:(e,t,n)=>{"use strict";n.d(t,{Z:()=>nt});var i=n(67294),s=n(69605),r=n(53790),a=n(37703),o=n(22222),l=n(13469),c=n.n(l),d=n(53145),u=n(84656),p=n(79498),m=n(77909),h=n(74995),g=n(90934);const y=(0,o.P1)((e=>e.ui.mediaSubscriptionModal.mediaSubscription),g.Z,((e,t)=>t[e])),v=(0,o.P1)((e=>e.ui.mediaSubscriptionModal.templates),g.Z,((e=[],t)=>e.map((e=>t[e]))));var f=n(27082),I=n(5562),b=n(69881),M=n(32003),S=n(3386),E=n(59194),D=n(66102),C=n(58801),P=n(38132),w=Object.assign;const T=function(e){return i.createElement(P.Z,w({},e),i.createElement(C.Z,null))};var Z=n(58368);var N=n(58858),A=n(75774),x=n(45610),L=n(15378),O=n(84388),j=n(46565),k=n(89197),R=n(58300),z=n(40691),U=n(39571),V=n(81017),B=n(65732);const F=(0,a.$j)((function(){return(0,o.P1)((0,V.Z)(),((e={})=>({grandparentTitle:e.grandparentTitle})))}))(B.Z);var H=n(16345),_=n(92797);var Q=Object.prototype.hasOwnProperty,G=Object.getOwnPropertySymbols,Y=Object.prototype.propertyIsEnumerable,W=Object.assign;const K=function(e){const{component:t,isSecondary:n}=e,s=((e,t)=>{var n={};for(var i in e)Q.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&G)for(var i of G(e))t.indexOf(i)<0&&Y.call(e,i)&&(n[i]=e[i]);return n})(e,["component","isSecondary"]);return i.createElement(t,W({className:n?"ConflictTitle-secondaryTitle-3j47hD":"ConflictTitle-title-3lXnmB"},s))};var q=Object.prototype.hasOwnProperty,$=Object.getOwnPropertySymbols,J=Object.prototype.propertyIsEnumerable,X=Object.assign;const ee=function(e){var{className:t,type:n}=e,s=((e,t)=>{var n={};for(var i in e)q.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&$)for(var i of $(e))t.indexOf(i)<0&&J.call(e,i)&&(n[i]=e[i]);return n})(e,["className","type"]);const r=function(e){switch(e){case"movie":case"show":return[H.Z];case"episode":return[F,_.Z];case"playlist":default:return[H.Z]}}(n);return i.createElement("div",{className:"ConflictItemRow-container-3Dznp_"},r.map(((e,t)=>i.createElement(K,X({key:t,component:e,isSecondary:t>0},s)))))};var te=Object.assign;const ne=(0,a.$j)((function(){return(0,o.P1)((0,V.Z)(),((e={})=>({type:e.type})))}))((function(e){return i.createElement(ee,te({},e))}));var ie=n(3664);class se extends i.Component{componentDidUpdate(e,t){(e.isMediaSubscriptionMoving&&!this.props.isMediaSubscriptionMoving&&null==this.props.mediaSubscriptionMoveError||e.isMediaSubscriptionDeleting&&!this.props.isMediaSubscriptionDeleting&&null==this.props.mediaSubscriptionDeleteError)&&this.props.onModalClose()}render(){const{isRecordingSchedule:e,isMediaSubscriptionDeleting:t,mediaSubscriptionDeleteError:n,isMediaSubscriptionMoving:s,mediaSubscriptionMoveError:r,serverEntityID:a,providerEntityID:o,server:l,provider:c,sourceDirectory:d,hint:u,conflicts:p,onDelete:m,onMediaMove:h,onModalClose:g}=this.props,y=r||n;return i.createElement(U.Z,{onModalClose:g},i.createElement(O.Z,null,(0,I.Z)("Conflict Detected")),y?i.createElement(z.Z,{errorMessage:y}):null,i.createElement(A.Z,{autoScroll:!0},i.createElement(ie.Z,{serverEntityID:a,providerEntityID:o,hint:u},i.createElement("div",{className:"MediaSubscriptionConflict-message-3lJ5_H"},1===p.length?(0,I.Z)("Conflicts with 1 recording"):(0,I.Z)("Conflicts with {conflictCount} recordings",{conflictCount:p.length})),i.createElement("div",{className:"MediaSubscriptionConflict-conflicts-9deJ-l"},p.map((({metadataItem:e},t)=>i.createElement(ne,{key:t,metadataItemEntityID:e})))))),i.createElement(x.Z,null,i.createElement(L.Z,null,i.createElement(R.Z,{isSpinning:t,kind:j.T,onPress:m},(0,I.Z)("Cancel This")),i.createElement(R.Z,{isSpinning:s,kind:j._8,onPress:h},(0,I.Z)("Prefer This")),e?i.createElement(N.Z,{kind:j._8,onPress:g},(0,I.Z)("Close")):i.createElement(N.Z,{kind:j._8,to:(0,k.ZP)(k.tk.RECORDING_SCHEDULE,l,c,d)},(0,I.Z)("Manage")))))}}se.defaultProps={conflicts:[]};const re=se;var ae=n(48604),oe=n(18676),le=n(79501);const ce=function(){return i.createElement("div",{className:"CancelRecordingConfirmation-cancelConfirmationMessage-3FTzV8"},i.createElement("div",null,(0,I.Z)("Are you sure you want to cancel this recording?")),i.createElement("div",null,(0,I.Z)("This will cancel any future scheduled recordings and stop any recordings already in progress.")))};var de=n(13202),ue=Object.prototype.hasOwnProperty,pe=Object.getOwnPropertySymbols,me=Object.prototype.propertyIsEnumerable;function he(e){var{className:t,children:n}=e,s=((e,t)=>{var n={};for(var i in e)ue.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&pe)for(var i of pe(e))t.indexOf(i)<0&&me.call(e,i)&&(n[i]=e[i]);return n})(e,["className","children"]);return i.createElement("div",{className:t,style:s},n)}he.defaultProps={flexGrow:1,flexShrink:0};const ge=he;var ye=n(94184),ve=n.n(ye);var fe=Object.prototype.hasOwnProperty,Ie=Object.getOwnPropertySymbols,be=Object.prototype.propertyIsEnumerable;function Me(e){var{className:t,children:n}=e,s=((e,t)=>{var n={};for(var i in e)fe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Ie)for(var i of Ie(e))t.indexOf(i)<0&&be.call(e,i)&&(n[i]=e[i]);return n})(e,["className","children"]);return i.createElement("div",{className:ve()("FlexGrid-grid-A7QIj6",t),style:s},n)}Me.defaultProps={flexDirection:"row",justifyContent:"space-between",alignItems:"center",alignContent:"center"};const Se=Me;var Ee=n(27620),De=n(66734),Ce=n(1284),Pe=n(81093),we=Object.prototype.hasOwnProperty,Te=Object.getOwnPropertySymbols,Ze=Object.prototype.propertyIsEnumerable,Ne=Object.assign;const Ae=(0,Pe.Z)((function(e){const{name:t,initialValue:n,labelText:s,showErrors:r,errors:a,validations:o}=e,l=((e,t)=>{var n={};for(var i in e)we.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Te)for(var i of Te(e))t.indexOf(i)<0&&Ze.call(e,i)&&(n[i]=e[i]);return n})(e,["name","initialValue","labelText","showErrors","errors","validations"]);return i.createElement("div",null,i.createElement(De.Z,{name:t},s),i.createElement(Ce.Z,Ne({name:t,size:Ee.HC},l)))})),xe=function(e){const{libraries:t,targetLibrarySectionID:n,targetSectionLocationID:s,selectedLibrarySectionID:r}=e,a=function(e,t){return null!=e&&t.some((t=>t.librarySectionID===e))}(n,t)?n:function([e]){if(e)return e.librarySectionID}(t),o=function(e,t,n){let i=e.find((({librarySectionID:e})=>e===t));return i||(i=e.find((({librarySectionID:e})=>e===n))),i?i.locations.map((({id:e,path:t})=>({[e]:t}))):[]}(t,r,a),l=function(e,t){return null!=e&&t.some((t=>t.hasOwnProperty(e)))}(s,o)?s:function([e]){if(!e)return;const[t]=Object.keys(e);return e[t]}(o);return i.createElement(Se,{flexWrap:"wrap"},i.createElement(ge,{flexBasis:230,maxWidth:230},i.createElement(Ae,{labelText:(0,I.Z)("Add to Library"),name:"targetLibrarySectionID",initialValue:a,size:Ee.HC,values:t.map((({title:e,librarySectionID:t},n)=>({[t]:e})))})),i.createElement(ge,{flexBasis:230,maxWidth:230},o.length>1?i.createElement(Ae,{labelText:(0,I.Z)("Location"),name:"targetSectionLocationID",size:Ee.HC,initialValue:l,values:o}):null))},Le=function(e){const{serverEntityID:t,providerEntityID:n,hint:s,target:r,initialMode:a,isDownload:o,modes:l,libraries:c,targetLibrarySectionID:d,targetSectionLocationID:u,selectedLibrarySectionID:p,prefs:m}=e,h=m&&m.onlyNewAirings,g=s.type===b.EPISODE||s.type===b.SHOW||s.type===b.PLAYLIST;return i.createElement(ie.Z,{serverEntityID:t,providerEntityID:n,hint:s,isDownload:o,showSubscriptionBadge:!o,target:r,useStaticHeight:g},i.createElement(Se,{flexWrap:"wrap"},i.createElement(ge,{flexBasis:230,maxWidth:230},l?i.createElement(Ae,{labelText:o?(0,I.Z)("Download"):(0,I.Z)("Record"),name:"mode",initialValue:a,values:l,isDisabled:l.length<2}):null),i.createElement(ge,{flexBasis:230,maxWidth:230},h?i.createElement(Ae,{name:h.id,labelText:h.label,initialValue:h.value,values:h.enumValues.map((({label:e,value:t})=>({[t]:e})))}):null)),!o&&c&&c.length?i.createElement(xe,{libraries:c,targetLibrarySectionID:d,targetSectionLocationID:u,selectedLibrarySectionID:p}):null)};var Oe=Object.prototype.hasOwnProperty,je=Object.getOwnPropertySymbols,ke=Object.prototype.propertyIsEnumerable,Re=Object.assign;class ze extends i.Component{constructor(e,t){super(e,t),this.onAdvancedPress=()=>{this.setState({isAdvanced:!this.state.isAdvanced})},this.onCancelPress=()=>{this.setState({showCancelConfirmation:!0})},this.onBackPress=()=>{this.setState({showCancelConfirmation:!1})},this.onFormChange=e=>{if(this.props.showLibraries){if(!e.targetLibrarySectionID)return;e.targetLibrarySectionID.value!==this.state.selectedLibrarySectionID&&this.setState({selectedLibrarySectionID:e.targetLibrarySectionID.value})}if(e.mode&&e.mode.value!==this.state.selectedMode){const t=e.mode.value;this.setState({selectedMode:t}),this.props.onModeChange(t)}},this.state={selectedLibrarySectionID:e.targetLibrarySectionID,selectedMode:e.initialMode,isAdvanced:!1,showCancelConfirmation:!1}}componentDidUpdate(e,t){(e.isMediaSubscriptionSaving&&!this.props.isMediaSubscriptionSaving&&null==this.props.mediaSubscriptionSaveError||e.isMediaSubscriptionDeleting&&!this.props.isMediaSubscriptionDeleting&&null==this.props.mediaSubscriptionDeleteError)&&this.props.onModalClose()}render(){const e=this.props,{mediaSubscriptionKey:t,isMediaSubscriptionSaving:n,mediaSubscriptionSaveError:s,isMediaSubscriptionDeleting:r,mediaSubscriptionDeleteError:a,prefGroups:o,onModalClose:l,onSubmit:c,onDelete:d}=e,u=((e,t)=>{var n={};for(var i in e)Oe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&je)for(var i of je(e))t.indexOf(i)<0&&ke.call(e,i)&&(n[i]=e[i]);return n})(e,["mediaSubscriptionKey","isMediaSubscriptionSaving","mediaSubscriptionSaveError","isMediaSubscriptionDeleting","mediaSubscriptionDeleteError","prefGroups","onModalClose","onSubmit","onDelete"]),{isAdvanced:p,showCancelConfirmation:m}=this.state,h=(m?"MediaSubscriptionForm-cancelConfirmation-3qqNov":p&&"MediaSubscriptionForm-advancedForm-45qd-x")||"MediaSubscriptionForm-baseForm-1CcCy6",g=!!o.advanced,y=s||a;return i.createElement(oe.ZP,{className:h,onChange:this.onFormChange,onSubmit:c},i.createElement(U.Z,{onModalClose:l},i.createElement(O.Z,null,m?(0,I.Z)("Cancel Recording"):(0,I.Z)("Record Options")),y?i.createElement(z.Z,{errorMessage:y}):null,i.createElement(A.Z,null,i.createElement("div",{key:"base",className:"MediaSubscriptionForm-baseSettings-2qdAiz"},i.createElement(Le,Re({selectedLibrarySectionID:this.state.selectedLibrarySectionID,prefs:o.basic},u))),g?i.createElement("div",{key:"advanced",className:"MediaSubscriptionForm-advancedSettings-3VLblG"},i.createElement(de.Z,Re({prefs:o.advanced},u))):null,m?i.createElement(ce,null):null),i.createElement(x.Z,{className:m?"MediaSubscriptionForm-cancelConfirmationFooter-3OUlGn ModalFooter-modalFooter-3ru3TD":"MediaSubscriptionForm-footer-2FfKgR ModalFooter-modalFooter-3ru3TD"},m?null:i.createElement(L.Z,null,g?i.createElement(ae.Z,{kind:j._8,onPress:this.onAdvancedPress},i.createElement(le.Z,{className:"MediaSubscriptionForm-advancedIcon-1i_aSR"}),p?(0,I.Z)("Show Basic"):(0,I.Z)("Show Advanced")):null),m?i.createElement(L.Z,null,i.createElement(N.Z,{onPress:this.onBackPress},(0,I.Z)("Back")),i.createElement(R.Z,{isSpinning:r,kind:j.T,onPress:d},(0,I.Z)("Yes"))):i.createElement(L.Z,null,t?i.createElement(N.Z,{kind:j.T,onPress:this.onCancelPress},(0,I.Z)("Cancel Recording")):i.createElement(N.Z,{kind:j.TP,onPress:l},(0,I.Z)("Cancel")),i.createElement(R.Z,{type:"submit",isSpinning:n,kind:j._8},t?(0,I.Z)("Save"):(0,I.Z)("Record"))))))}}const Ue=ze;var Ve=n(38170);class Be extends i.Component{componentDidUpdate(e,t){e.isMediaSubscriptionDeleting&&!this.props.isMediaSubscriptionDeleting&&null==this.props.mediaSubscriptionDeleteError&&this.props.onModalClose()}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionKey:n,hint:s,metadataType:r,isMediaSubscriptionDeleting:a,mediaSubscriptionDeleteError:o,canAddLibrary:l,onCreatePress:c,onModalClose:d,onDelete:u}=this.props,{typeString:p}=(0,b.getRootType)(r),{title:m}=M.ZP.get(p),h=l?(0,I.Z)("This recording cannot be scheduled because you don’t yet have a library for {type}.",{type:m}):(0,I.Z)("This recording cannot be scheduled because there is no library for {type}.",{type:m});let g;return g=l?n?(0,I.Z)("Please create a library or cancel the recording."):(0,I.Z)("Please try recording again after you have created your library."):(0,I.Z)("Please ask the server owner to create the library or cancel the recording."),i.createElement(U.Z,{onModalClose:d},i.createElement(O.Z,null,(0,I.Z)("Record Options")),o?i.createElement(z.Z,{errorMessage:o}):null,i.createElement(A.Z,null,i.createElement(ie.Z,{serverEntityID:e,providerEntityID:t,hint:s},i.createElement("div",{className:"MediaSubscriptionNoLibrary-errorMessage-3_PyXj"},(0,I.Z)("{type} Library Required",{type:m})),i.createElement("p",null,h),i.createElement("p",null,g),l?i.createElement(ae.Z,{kind:j._8,onPress:c},i.createElement(Ve.Z,{className:"MediaSubscriptionNoLibrary-addIcon-1_lL3x"})," ",(0,I.Z)("Create Library")):null)),i.createElement(x.Z,null,i.createElement(L.Z,null,n?i.createElement(R.Z,{isSpinning:a,kind:j.T,onPress:u},(0,I.Z)("Cancel Recording")):null,i.createElement(N.Z,{onPress:d},(0,I.Z)("Cancel")))))}}const Fe=Be;var He=Object.prototype.hasOwnProperty,_e=Object.getOwnPropertySymbols,Qe=Object.prototype.propertyIsEnumerable,Ge=Object.assign,Ye=(e,t)=>{var n={};for(var i in e)He.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&_e)for(var i of _e(e))t.indexOf(i)<0&&Qe.call(e,i)&&(n[i]=e[i]);return n};function We(){return(0,o.P1)(((e,{subscriptionType:t})=>t),(e=>"playlist"===e?"show":e))}const Ke={dispatchFetchLibraries:d.tU,dispatchAddLibrary:E.Wy,dispatchInitMediaSubscriptionModal:u.np,dispatchClearMediaSubscriptionModal:u.K7,dispatchSaveMediaSubscription:u.eU,dispatchChangeMediaSubscriptionTemplateMode:u.K5,dispatchMoveMediaSubscriptionModal:u.kB,dispatchDeleteMediaSubscriptionModal:u.XK,dispatchDeleteMediaGrabOperationsModal:u.NJ};class qe extends i.Component{constructor(e,t){super(e,t),this.onSubmit=e=>{const{serverEntityID:t,metadataItemEntityID:n}=this.props,{targetLibrarySectionID:i,targetSectionLocationID:s,mode:r}=e,a=Ye(e,["targetLibrarySectionID","targetSectionLocationID","mode"]);this.props.dispatchSaveMediaSubscription({serverEntityID:t,metadataItemEntityID:n,targetLibrarySectionID:i,targetSectionLocationID:s,prefs:a})},this.onDelete=()=>{var e;(null==(e=this.props.conflicts)?void 0:e.length)?this.props.dispatchDeleteMediaGrabOperationsModal({metadataItemEntityID:this.props.metadataItemEntityID}):this.props.dispatchDeleteMediaSubscriptionModal({metadataItemEntityID:this.props.metadataItemEntityID})},this.onModeChange=e=>{(0,f.c9)((()=>{this.props.dispatchChangeMediaSubscriptionTemplateMode({modeIndex:e})}))},this.onMediaMove=()=>{this.props.dispatchMoveMediaSubscriptionModal()},this.onCreatePress=()=>{const{metadataType:e,serverEntityID:t}=this.props,{typeString:n}=(0,b.getRootType)(e),i=M.ZP.get(n);this.props.onModalClose(),this.props.dispatchAddLibrary({serverEntityID:t,options:{redirect:!1,seedAttrs:{type:i.typeString,title:i.title,language:i.defaultLanguage}}})},this.state={showConflicts:e.showConflicts}}componentDidMount(){this._populate()}componentWillReceiveProps(e){var t;let n=this.state.showConflicts;this.props.isMediaSubscriptionSaving&&!e.isMediaSubscriptionSaving&&(null==(t=e.conflicts)?void 0:t.length)&&(n=!0),n!==this.state.showConflicts&&this.setState({showConflicts:n});const i=this.props.metadataItemEntityID!==e.metadataItemEntityID,s=this.props.mediaSubscriptionEntityID!==e.mediaSubscriptionEntityID;(i||s)&&this._populate(e)}componentWillUnmount(){this.props.dispatchClearMediaSubscriptionModal()}_populate(e=this.props){const{serverEntityID:t,mediaSubscriptionEntityID:n,metadataItemEntityID:i,showConflicts:s}=e;(0,f.c9)((()=>{e.dispatchFetchLibraries({serverEntityID:t}),e.dispatchInitMediaSubscriptionModal({serverEntityID:t,mediaSubscriptionEntityID:n,metadataItemEntityID:i,showConflicts:s})}))}render(){const{libraries:e,isLibrariesLoading:t,hasLibrariesError:n,isMediaSubscriptionPending:s,isMediaSubscriptionPopulated:r,mediaSubscriptionError:a,showLibraries:o,onModalClose:l}=this.props;return a?i.createElement(D.Z,{message:a,onModalClose:l}):n?i.createElement(D.Z,{message:(0,I.Z)("There was an unexpected error loading libraries."),onModalClose:l}):s||!r||t?i.createElement(T,{onModalClose:l}):o&&e&&!e.length?i.createElement(Fe,Ge(Ge({},this.props),{onCreatePress:this.onCreatePress,onDelete:this.onDelete})):this.state.showConflicts?i.createElement(re,Ge(Ge({},this.props),{onDelete:this.onDelete,onMediaMove:this.onMediaMove})):i.createElement(Ue,Ge(Ge({},this.props),{onModeChange:this.onModeChange,onSubmit:this.onSubmit,onDelete:this.onDelete}))}}qe.defaultProps={showConflicts:!1,showLibraries:!0};const $e=(0,a.$j)((function(){return(0,o.P1)((0,h.Z)(),(0,m.Z)(),(e=>e.ui.mediaSubscriptionModal),y,v,We(),(0,o.P1)((0,p.Z)(),We(),((e,t)=>{const n=(0,b.getRootType)(t);return e.filter((e=>{const{id:t}=(0,b.getMetadataType)(e.type);return t===n.id})).map((e=>({librarySectionID:e.key,locations:e.locations,title:e.title})))})),((e,t,n,i={},s,r,a)=>{const o=c().omit(n,"templates","mediaSubscription"),{key:l,grabOperations:d=[],prefs:u}=i,p=Ye(i,["key","grabOperations","prefs"]),m=e.isFullOwnedServer,{initialMode:h,modes:g}=function(e,t){let n,i;return t.length>1?(i=t.findIndex((e=>e.selected)),n=t.map((({title:e},t)=>({[t]:e})))):(i=0,n=e.title?[{0:e.title}]:null),{initialMode:i,modes:n}}(i,s),y=d.reduce(((e,t)=>t.conflicts&&t.conflicts.length?e.concat(t.conflicts):e),[]),v=(0,Z.Z)(u),f=(0,S.Z)(t),I=f?f.directories[0]:null,b=e&&e.desktop||{};return Ge(Ge({mediaSubscriptionKey:l,prefGroups:v,metadataType:r,libraries:a,isLibrariesLoading:!b.isLibrariesPopulated||b.isLibrariesPending,hasLibrariesError:!!b.librariesError,initialMode:h,modes:g,conflicts:y,server:e,provider:t,canAddLibrary:m,sourceDirectory:I},o),p)}))}),Ke)(qe);var Je=Object.prototype.hasOwnProperty,Xe=Object.getOwnPropertySymbols,et=Object.prototype.propertyIsEnumerable,tt=Object.assign;const nt=function(e){const{isOpen:t,metricsProperties:n,onModalClose:a}=e,o=((e,t)=>{var n={};for(var i in e)Je.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Xe)for(var i of Xe(e))t.indexOf(i)<0&&et.call(e,i)&&(n[i]=e[i]);return n})(e,["isOpen","metricsProperties","onModalClose"]);return i.createElement(r.Z,{isOpen:t,metricsPage:s.X$,metricsProperties:n,onModalClose:a},i.createElement($e,tt(tt({},o),{onModalClose:a})))}},96270:(e,t,n)=>{"use strict";n.d(t,{Z:()=>z});var i=n(67294),s=n(69605),r=n(53790),a=n(37703),o=n(22222),l=n(34891),c=n(82261),d=n(92187),u=n(99449),p=n(27082),m=n(79678),h=n(68295),g=n(58858),y=n(48604),v=n(66734),f=n(75774),I=n(45610),b=n(84388),M=n(12986),S=n(46565),E=n(93143),D=n(5562),C=n(65671),P=n(52114),w=n(58801),T=n(58300),Z=n(40691),N=n(39571);const A=function(e){const{serverEntityID:t,metadataItemEntityID:n,watchTogetherRoomEntityID:s,users:r,isLoading:a,isInvitePending:o,isInviteCompleted:l,inviteError:c,onModalClose:d,dispatchCreateRoom:u,dispatchInviteUsers:p}=e,[m,h]=(0,i.useState)([]),A=!(0,M.Z)(l)&&l&&!c;(0,i.useEffect)((()=>{A&&d()}),[A,d]);const x=(0,i.useCallback)((e=>m.includes(e.id)),[m]),L=(0,i.useCallback)((e=>{const t=m.includes(e)?m.filter((t=>t!==e)):[...m,e];h(t)}),[m]),O=(0,i.useCallback)((()=>{s?p({watchTogetherRoomEntityID:s,userIDs:m}):u({metadataItemEntityID:n,userIDs:m})}),[n,s,m,u,p]),j=r.length>0;return i.createElement(N.Z,{onModalClose:d},i.createElement(b.Z,null,(0,D.Z)("Watch Together")),c?i.createElement(Z.Z,{errorMessage:c}):null,i.createElement(f.Z,{className:"WatchTogetherInviteModalContent-modalBody-1QmrET ModalBody-modalBody-3v8fMY",scrollDirection:E.Hn},a?null:i.createElement("div",{className:"WatchTogetherInviteModalContent-message-qbZjvQ"},j?(0,D.Z)("Invite friends to watch with you."):i.createElement(C.Z,{message:(0,D.Z)("Add friends in {openSpan}Users & Sharing{closeSpan} to watch together."),tags:[{open:"openSpan",close:"closeSpan",component:y.Z,kind:S._8,to:"#!/settings/users-sharing"}]})),a?i.createElement("div",{className:"WatchTogetherInviteModalContent-spinnerContainer-3h-Fqq"},i.createElement(w.Z,null)):null,!a&&j?i.createElement(i.Fragment,null,i.createElement(v.Z,null,(0,D.Z)("Users")),i.createElement(P.Z,{className:"WatchTogetherInviteModalContent-list-2dpwK0 UserList-list-3MJnr9 Scroller-vertical-1tg_Qg",serverEntityID:t,users:r,isUserSelected:x,onUserSelect:L})):null),i.createElement(I.Z,{className:"WatchTogetherInviteModalContent-modalFooter-WaRJhX ModalFooter-modalFooter-3ru3TD"},i.createElement(g.Z,{onPress:d},(0,D.Z)("Cancel")),i.createElement(T.Z,{kind:S._8,isDisabled:o||0===m.length,isSpinning:o,onPress:O},(0,D.Z)("Invite"))))};var x=Object.prototype.hasOwnProperty,L=Object.getOwnPropertySymbols,O=Object.prototype.propertyIsEnumerable,j=Object.assign;const k={dispatchFetchAllFriends:m.Tp,dispatchCreateRoom:h.dB,dispatchInviteUsers:h.pS,dispatchResetCreateRoom:h.KU},R=(0,a.$j)((function(){return(0,o.P1)((e=>e.ui.watchTogether),d.Z,c.Z,l.Z,(0,o.P1)(((e,{watchTogetherRoomEntityID:t})=>t),u.Z,((e,t)=>t[e])),((e,t,n,i,s)=>({users:n.reduce(((e,t)=>{const n=i[t];return(!s||!s.users.find((e=>e.id===n.id)))&&e.push(n),e}),[]),isLoading:t.isAllFriendsPending,isInvitePending:e.isInvitePending,isInviteCompleted:e.isInviteCompleted,inviteError:e.inviteError})))}),k)((function(e){const{dispatchFetchAllFriends:t,dispatchResetCreateRoom:n}=e,s=((e,t)=>{var n={};for(var i in e)x.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&L)for(var i of L(e))t.indexOf(i)<0&&O.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchFetchAllFriends","dispatchResetCreateRoom"]);return(0,i.useEffect)((()=>{(0,p.c9)((()=>{t()}))}),[t]),(0,i.useEffect)((()=>n),[n]),i.createElement(A,j({},s))})),z=function(e){const{serverEntityID:t,metadataItemEntityID:n,watchTogetherRoomEntityID:a,metricsProperties:o,isOpen:l,onModalClose:c}=e;return i.createElement(r.Z,{metricsPage:s.Vg,metricsProperties:o,isOpen:l,onModalClose:c},i.createElement(R,{serverEntityID:t,metadataItemEntityID:n,watchTogetherRoomEntityID:a,onModalClose:c}))}},56473:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ve});var i=n(94184),s=n.n(i),r=n(67294),a=n(60886),o=n(23438),l=n(89267),c=n(5148),d=n(22222),u=n(59756),p=n(34007),m=n(79932),h=n(81017),g=n(49666),y=n(89335),v=n(69881),f=n(54834),I=n(757),b=n(50316),M=n(57358),S=n(98563),E=n(90579),D=n(61478),C=n(91135);function P(e,t){const{type:n,subtype:i,viewCount:s,viewOffset:r,saved:a}=e;if(null!=a&&!a)return!1;const o=n===v.TRACK&&i===D.PODCAST,l=n===v.EPISODE&&i===D.WEBSHOW;return(o||l||function(e,t){const{isLibraryItem:n,isFolder:i,isExtra:s}=e;return n&&!i&&!s&&t.mediaType===C.pX}(e,t))&&!s&&!r}function w(e,t){const{type:n,subtype:i,saved:s,unviewedLeafCount:r,isLibraryItem:a,isExtra:o}=e;if(null!=s&&!s)return!1;const l=a&&!o&&v.isDirectoryType(n)&&t.mediaType===C.pX,c=n===v.SHOW&&(i===D.PODCAST||i===D.WEBSHOW);return(l||c)&&!!r}var T=n(87691),Z=n(11272),N=n(37588),A=n(63210),x=n(21709),L=n(72181),O=n(28889),j=n(73588),k=n(27154),R=n(48604),z=n(57904),U=n(5011),V=n(52097),B=n(10128),F=n(75696);function H(e,t,n){const i=t-e,s=n-e;return(0,y.Z)(s,i)}var _=n(27202);class Q extends r.Component{constructor(e,t){super(e,t),this.tick=()=>{this.setState(this.getState(this.props)),this.setTickTimeout()},this.state=this.getState(e)}componentWillMount(){this.setTickTimeout()}componentWillReceiveProps(e,t){this.setState(this.getState(e))}shouldComponentUpdate(e,t){return(0,o.Z)(this,e,t)}componentWillUnmount(){this.tickTimeout&&window.clearTimeout(this.tickTimeout)}getState({beginsAt:e,endsAt:t}){return{progress:H(e,t,Date.now()/1e3)}}setTickTimeout(){this.tickTimeout=window.setTimeout(this.tick,6e4-Date.now()%6e4)}render(){const e=this.props.className,t=this.state.progress;return t?r.createElement(_.Z,{className:e,progress:t}):null}}const G=Q;class Y extends r.Component{constructor(e,t){super(e,t),this.onRecordPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:!1},this._moreButtonID=(0,z.Z)()}shouldComponentUpdate(e,t){return(0,o.Z)(this,e,t)}render(){const{className:e,serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,route:a,type:o,title:l,subscriptionType:c,isSubscribed:d,showLink:u,beginsAt:p,endsAt:m,showPlay:h,showRecord:g,onPlayLiveTVPress:y}=this.props,{isSubscribeModalOpen:v}=this.state;return r.createElement("div",{className:s()(e,"EPGPosterCardOverlay-overlay-Nwfy_X")},r.createElement("div",{className:"EPGPosterCardOverlay-background-1-ScA-"}),d?r.createElement("div",{className:"EPGPosterCardOverlay-subscriptionBadge-BMVIPe MetadataPosterCardOverlay-badge-2SzLhB"},r.createElement(U.Z,{type:c})):null,u?r.createElement(R.Z,{className:"EPGPosterCardOverlay-link-cMbySe",to:a}):null,r.createElement(G,{className:"EPGPosterCardOverlay-progress-q8pdJR PosterCardOverlayProgress-progress-nklF0v",beginsAt:p,endsAt:m}),h?r.createElement(V.Z,{className:u?"EPGPosterCardOverlay-playButton-37xkJ0 RecordButton-recordButton-2H5wQ_ PlayButton-playButton-2dFmuo RecordIcon-recordIconContainer-3wNYSz EPGPosterCardOverlay-button-3PdN5o MetadataPosterCardOverlay-button-28HkcF":"EPGPosterCardOverlay-playCoverButton-2DtcDc EPGPosterCardOverlay-playButton-37xkJ0 RecordButton-recordButton-2H5wQ_ PlayButton-playButton-2dFmuo RecordIcon-recordIconContainer-3wNYSz EPGPosterCardOverlay-button-3PdN5o MetadataPosterCardOverlay-button-28HkcF",circleClassName:"EPGPosterCardOverlay-playCircle-2493Vc MetadataPosterCardOverlay-playCircle-3mCEvQ PlayButton-playCircle-2DYa77 MetadataPosterCardOverlay-centerCircle-1wphgg",tabIndex:"-1",title:l,"data-qa-id":"metadataPosterPlayButton",onPress:y}):null,!h&&g?r.createElement(B.Z,{className:u?"EPGPosterCardOverlay-recordButton-1qk4sb RecordButton-recordButton-2H5wQ_ PlayButton-playButton-2dFmuo RecordIcon-recordIconContainer-3wNYSz EPGPosterCardOverlay-button-3PdN5o MetadataPosterCardOverlay-button-28HkcF":"EPGPosterCardOverlay-recordCoverButton-FFitz2 EPGPosterCardOverlay-recordButton-1qk4sb RecordButton-recordButton-2H5wQ_ PlayButton-playButton-2dFmuo RecordIcon-recordIconContainer-3wNYSz EPGPosterCardOverlay-button-3PdN5o MetadataPosterCardOverlay-button-28HkcF","data-qa-id":"metadataPosterRecordButton",circleClassName:"EPGPosterCardOverlay-recordCircle-1ss0vx RecordIcon-recordCircle-24nR_8 PlayButton-playCircle-2DYa77 MetadataPosterCardOverlay-centerCircle-1wphgg",iconClassName:"EPGPosterCardOverlay-recordIcon-t706e9 RecordIcon-recordIcon-vppRrs",tabIndex:"-1",title:l,onPress:this.onRecordPress}):null,h&&g?r.createElement(B.Z,{className:"EPGPosterCardOverlay-recordButtonBottom-1IcmXe EPGPosterCardOverlay-recordButton-1qk4sb RecordButton-recordButton-2H5wQ_ PlayButton-playButton-2dFmuo RecordIcon-recordIconContainer-3wNYSz EPGPosterCardOverlay-button-3PdN5o MetadataPosterCardOverlay-button-28HkcF","data-qa-id":"metadataPosterRecordButton",circleClassName:"EPGPosterCardOverlay-recordCircleBottom-2K3xhq EPGPosterCardOverlay-recordCircle-1ss0vx RecordIcon-recordCircle-24nR_8 PlayButton-playCircle-2DYa77 MetadataPosterCardOverlay-centerCircle-1wphgg",iconClassName:"EPGPosterCardOverlay-recordIconBottom-1KR8Kh RecordIcon-recordIcon-vppRrs",tabIndex:"-1",title:l,onPress:this.onRecordPress}):null,r.createElement(F.Z,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,isOpen:v,subscriptionType:o,onModalClose:this.onSubscribeModalClose}))}}const W=Y;var K=n(76071),q=Object.prototype.hasOwnProperty,$=Object.getOwnPropertySymbols,J=Object.prototype.propertyIsEnumerable,X=Object.assign;const ee=(0,x.Z)(K.Z),te=(0,T.Z)((function(){return(0,d.P1)(((e,{type:t})=>t),((e,{listType:t})=>t),(0,h.Z)(),b.Z,I.Z,M.Z,(0,A.Z)(),(0,d.P1)((0,h.Z)(),(e=>e&&e.viewOffset&&e.type!==v.GAME?(0,y.Z)(e.viewOffset,e.duration):0)),(0,g.Z)(),(0,f.Z)(),((e,t,n,i={},s={},r={},a,o,l,c)=>{const{subtype:d,title:p,viewCount:m,viewOffset:h,unviewedLeafCount:g,smart:y,icon:f,metadataState:I,mediaState:b,deletedAt:M,subscriptionID:D,subscriptionType:C,grandparentSubscriptionID:T,grandparentSubscriptionType:N,ratingKey:A,isFolder:x,isPlaylist:k,Media:R}=n,z=(0,L.tW)({server:i,provider:s,stableUser:r,metadataItem:n}),U=!!s.features.subscribe,V=(0,L.J5)({server:i,provider:s,stableUser:r,metadataItem:n}),B=t===v.PHOTO&&(0,L.y7)({server:i,provider:s,stableUser:r,metadataItem:n}),F=t===v.PHOTO&&(0,L.QF)({server:i,provider:s,stableUser:r,metadataItem:n}),H=(0,L.k_)({server:i,provider:s,stableUser:r,metadataItem:n}),_=v.getMetadataType(e),Q=v.getLeafType(e),G=!(!_||!Q||_.id!==Q.id),Y=R.length,W=null!=D||null!=T,K=!!y&&k,q=f===S.nA,$=I===E.gO,J=I===E.a7||I===E.br,X=!$&&!J&&!!b,ee=$||J||X,te=!ee&&!!M,ne=!(!A||!l)&&u.Z.allowSyncDownload;return{server:i,provider:s,route:a,title:p,viewCount:m,viewOffset:h,viewPercent:o,unviewedLeafCount:g,mediaCount:Y,subscriptionType:C||N,type:e,subtype:d,isSubscribed:W,isMultiVersion:(0,Z.Z)(n),isSmart:K,isFavorite:q,isMatching:$,isProcessing:J,isAnalyzing:X,isRefreshing:ee,isTrash:te,isLeafType:G,showLink:!!a,showUnplayedBadge:P(n,_),showUnplayedNumberBadge:w(n,Q),showPlay:z,showRecord:U,showEdit:V,showFavorite:B,showUnfavorite:F,showSelect:H,showMore:!x,showAvailableOffline:ne,beginsAt:c&&c.beginsAt,endsAt:c&&c.endsAt,source:l,ratingKey:A,hasOfflineFile:(0,O.Z)(n),hasOwnSubscription:(0,j.Z)(n)}}))}),(function(e,t){const n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,itemServerEntityID:t.itemServerEntityID||t.serverEntityID,itemProviderEntityID:t.itemProviderEntityID||t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e((0,m.wA)(X(X({},n),{options:{containerKey:t.containerKey,listType:t.listType}})))},onPlayLiveTVPress(){e((0,p.lS)(X(X({},n),{options:{containerKey:t.containerKey,listType:t.listType}})))},onEditPress(){e((0,N.editMetadataItem)(n))},onFavoritePress(){e((0,N.favoriteMetadataItem)(n))},onUnfavoritePress(){e((0,N.unfavoriteMetadataItem)(n))}}}),k.Z)((function(e){const{server:t,provider:n}=e,i=((e,t)=>{var n={};for(var i in e)q.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&$)for(var i of $(e))t.indexOf(i)<0&&J.call(e,i)&&(n[i]=e[i]);return n})(e,["server","provider"]),s=X(X({},i),{itemServerEntityID:e.itemServerEntityID||e.serverEntityID,itemProviderEntityID:e.itemProviderEntityID||e.providerEntityID});return n.protocols.livetv?r.createElement(W,X({},s)):e.showSelect&&!e.showLinkOnly?r.createElement(ee,X({},s)):r.createElement(K.Z,X({},s))})),ne={poster:"MetadataPosterCardFace-poster-11uR3N",face:"MetadataPosterCardFace-face-3oaw1P MetadataPosterCardFace-poster-11uR3N",isSelected:"MetadataPosterCardFace-isSelected-2dld-q",faceFront:"MetadataPosterCardFace-faceFront-2Ik1VZ",faceBack:"MetadataPosterCardFace-faceBack-3jAK_A"};var ie=Object.prototype.hasOwnProperty,se=Object.getOwnPropertySymbols,re=Object.prototype.propertyIsEnumerable,ae=Object.assign;function oe(e){const{className:t,serverEntityID:n,providerEntityID:i,metadataItemEntityID:a,itemServerEntityID:o,itemProviderEntityID:l,type:d,subtype:u,selectionType:p,activeSelectionType:m,isSelected:h,isOffscreen:g,visibleFace:y,imageWidth:v,imageHeight:f,imageUrl:I,disableCrossFade:b,icon:M,backgroundSize:S,isFolder:E,showOverlay:D,onImageLoad:C,onImageError:P,onSelectItem:w,onDeselectItem:T}=e,Z=((e,t)=>{var n={};for(var i in e)ie.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&se)for(var i of se(e))t.indexOf(i)<0&&re.call(e,i)&&(n[i]=e[i]);return n})(e,["className","serverEntityID","providerEntityID","metadataItemEntityID","itemServerEntityID","itemProviderEntityID","type","subtype","selectionType","activeSelectionType","isSelected","isOffscreen","visibleFace","imageWidth","imageHeight","imageUrl","disableCrossFade","icon","backgroundSize","isFolder","showOverlay","onImageLoad","onImageError","onSelectItem","onDeselectItem"]);return r.createElement("div",{className:s()(t,ne[y],h&&ne.isSelected)},r.createElement(c.Z,{serverEntityID:n,providerEntityID:i,itemServerEntityID:o,itemProviderEntityID:l,type:d,subtype:u,isOffscreen:g,url:I,width:v,height:f,disableCrossFade:b,icon:M,backgroundSize:S,isFolder:E,onLoad:C,onError:P}),D?r.createElement(te,ae({serverEntityID:n,providerEntityID:i,itemServerEntityID:o,itemProviderEntityID:l,metadataItemEntityID:a,type:d,selectionID:a,selectionType:p,activeSelectionType:m,isSelected:h,onSelectItem:w,onDeselectItem:T},Z)):null)}oe.defaultProps={className:ne.face,showOverlay:!0};const le=oe;var ce=Object.prototype.hasOwnProperty,de=Object.getOwnPropertySymbols,ue=Object.prototype.propertyIsEnumerable,pe=Object.assign;const me="faceFront",he="faceBack",ge=(0,a.Z)(l.Z.posterFlipSpeed);class ye extends r.Component{constructor(e,t){super(e,t),this.onImageLoad=()=>{this.state.isLoadingFace&&this._flipCard()},this.onImageError=()=>{this.state.isLoadingFace&&this._flipCard()},this.onFlipComplete=()=>{this.setState({isFlippingFace:!1,previousImageUrl:null})},this.state={visibleFace:me,isLoadingFace:!1,isFlippingFace:!1,previousImageUrl:null}}componentWillReceiveProps(e){const t=this.props.imageUrl,n=e.imageUrl&&t!==e.imageUrl;this.props.metadataKey===e.metadataKey&&n&&this._prepareFlip(t)}shouldComponentUpdate(e,t){return(0,o.Z)(this,e,t)}componentWillUnmount(){this._cancelFlip()}_prepareFlip(e){this._cancelFlip(),this.setState({isLoadingFace:!0,isFlippingFace:!0,previousImageUrl:e})}_flipCard(){this.setState((e=>({isLoadingFace:!1,visibleFace:e.visibleFace===me?he:me})),(()=>{this._flipTimeoutID=window.setTimeout(this.onFlipComplete,ge)}))}_cancelFlip(){this._flipTimeoutID&&(this._flipTimeoutID=window.clearTimeout(this._flipTimeoutID))}render(){const e=this.props,{className:t,cardClassName:n,cardFaceClassName:i,metadataKey:a,imageWidth:o,imageHeight:l,imageUrl:c}=e,d=((e,t)=>{var n={};for(var i in e)ce.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&de)for(var i of de(e))t.indexOf(i)<0&&ue.call(e,i)&&(n[i]=e[i]);return n})(e,["className","cardClassName","cardFaceClassName","metadataKey","imageWidth","imageHeight","imageUrl"]),{visibleFace:u,isLoadingFace:p,isFlippingFace:m,previousImageUrl:h}=this.state,g={width:o,height:l};return r.createElement("div",{key:a,className:t,"data-qa-id":"metadataPosterCard--"+a},r.createElement("div",{className:s()(n,u===he&&"MetadataPosterCard-isFlipped-6fHcNb"),style:g},u===me||m?r.createElement(le,pe({key:me,className:i,visibleFace:me,imageWidth:o,imageHeight:l,imageUrl:u===me&&!p||u===he&&p?c:h,disableCrossFade:m,onImageLoad:this.onImageLoad,onImageError:this.onImageError},d)):null,u===he||m?r.createElement(le,pe({key:he,className:i,visibleFace:he,imageWidth:o,imageHeight:l,imageUrl:u===he&&!p||u===me&&p?c:h,disableCrossFade:m,onImageLoad:this.onImageLoad,onImageError:this.onImageError},d)):null))}}ye.defaultProps={className:"MetadataPosterCard-cardContainer-3cMNqe",cardClassName:"MetadataPosterCard-card-72Dv8q"};const ve=ye},28868:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(94184),s=n.n(i),r=n(67294),a=n(98563),o=n(82223),l=n(7947),c=n(91608),d=n(63233);const u=function(e){const{className:t,type:n,width:i,height:u,icon:p}=e,m=function(e){switch(e){case a.Hc:return l.Z;case a.SU:return o.Z;case a.Bs:return c.Z}}(p)||d.Z[n];if(!m)return null;const h={fontSize:Math.max(14,Math.min(Math.round(i/4),42)),lineHeight:`${u}px`},g={width:`${i}px`,height:`${u}px`};return r.createElement("div",{className:s()(t,"MetadataIcon-container-1oy4SI"),style:g},r.createElement(m,{style:h}))},p=function(e){const{className:t,type:n,icon:i,width:o,height:l,isFolder:c}=e;return r.createElement(u,{className:s()(t,"MetadataPosterCardIcon-placeholderIcon-HerOkc"),type:n,icon:c?a.SU:i,width:o,height:l})}},5148:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(67294),s=n(89137),r=n(28868);const a=function(e){const{serverEntityID:t,providerEntityID:n,itemServerEntityID:a,itemProviderEntityID:o,type:l,isOffscreen:c,url:d,src:u,width:p,height:m,icon:h,backgroundSize:g,isFolder:y,disableCrossFade:v,onLoad:f,onError:I}=e;return c?null:d||u?i.createElement(s.Z,{serverEntityID:a||t,providerEntityID:o||n,url:d,src:u,width:p,height:m,backgroundPosition:"artist"===l?"center top":"center",backgroundSize:"game"===l?"contain":g,disableCrossFade:v,onLoad:f,onError:I}):i.createElement(r.Z,{type:l,width:p,height:m,isFolder:y,icon:h})}},76071:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var i=n(94184),s=n.n(i),r=n(67294),a=n(48604),o=n(14513),l=n(57904),c=n(84385),d=n(5562),u=n(58801),p=n(52097),m=n(41523),h=n(46412),g=n(34504),y=n(4746),v=n(11969),f=n(52410),I=n(54183),b=n(53191),M=n(6081),S=n(53863),E=n(39869),D=n(79501),C=n(62020),P=n(74739);function w(e){const{children:t,backgroundClassName:n,className:i,onMouseEnter:s}=e;return r.createElement("div",{className:i,onMouseEnter:s},r.createElement("div",{className:n}),t)}w.defaultProps={className:"PosterCardOverlay-overlay-35eZx2",backgroundClassName:"PosterCardOverlay-background-1aqke7"};const T=w;var Z=n(27202);const N="MetadataPosterCardOverlay-overlay-1giDeK PosterCardOverlay-overlay-35eZx2",A="MetadataPosterCardOverlay-link-1pPuo-",x="MetadataPosterCardOverlay-selectCoverButton-85-g11 MetadataPosterCardOverlay-coverButton-2ENc2v",L="MetadataPosterCardOverlay-favoriteButton-8peghi MetadataPosterCardOverlay-button-28HkcF",O="MetadataPosterCardOverlay-refreshingCircle-2aXAjl MetadataPosterCardOverlay-centerCircle-1wphgg";class j extends r.Component{constructor(e,t){super(e,t),this.onActionsMenuOpenChange=e=>{this.setState({isActionsMenuOpen:e})},this.state={isActionsMenuOpen:!1},this._selectButtonID=(0,l.Z)()}render(){const{className:e,serverEntityID:t,providerEntityID:n,itemServerEntityID:i,itemProviderEntityID:l,metadataItemEntityID:w,containerKey:j,listType:k,metricsContext:R,route:z,title:U,viewPercent:V,unviewedLeafCount:B,mediaCount:F,hasOfflineFile:H,hasOwnSubscription:_,isSubscribed:Q,isMultiVersion:G,isSmart:Y,isFavorite:W,isMatching:K,isProcessing:q,isAnalyzing:$,isRefreshing:J,isTrash:X,showUnplayedBadge:ee,showUnplayedNumberBadge:te,showLink:ne,showLinkOnly:ie,showPlay:se,showEdit:re,showSelect:ae,showMore:oe,showFavorite:le,showUnfavorite:ce,showRemove:de,showAvailableOffline:ue,canDrag:pe,hasActiveSelection:me,isSelected:he,isOtherItemSelected:ge,isConflictingTypeSelected:ye,isModifierKeyPressed:ve,isDragging:fe,isLeafType:Ie,source:be,ratingKey:Me,onMouseEnter:Se,onPlayPress:Ee,onEditPress:De,onFavoritePress:Ce,onUnfavoritePress:Pe,onRemovePress:we,onSelectPress:Te,onDeselectPress:Ze}=this.props,{isActionsMenuOpen:Ne}=this.state,Ae=ae&&(ve||ge);if(ie)return r.createElement("div",{className:s()(e,N)},ne?r.createElement(a.Z,{className:A,to:z}):null);const xe=me||fe||ve||J||X,Le=Ne,Oe=Ne||fe||J||X,je=Q||_||Ie&&H;return r.createElement(T,{className:s()(e,N,me&&"MetadataPosterCardOverlay-hasActiveSelection-1s4PcX",he&&"MetadataPosterCardOverlay-isSelected-2mtwgI",ye&&"MetadataPosterCardOverlay-isConflictingTypeSelected-14ECmu",ae&&ve&&"MetadataPosterCardOverlay-isModifierKeyPressed-1t7Ti1",fe&&"MetadataPosterCardOverlay-isDragging-2YqzvF",Ne&&"MetadataPosterCardOverlay-isActionsMenuOpen-1K9yNU"),backgroundClassName:s()("MetadataPosterCardOverlay-background-1Zjvht PosterCardOverlay-background-1aqke7",xe&&"MetadataPosterCardOverlay-selectedBackground-23R7q- PosterCardOverlay-selectedBackground-2k2OZv",Le&&"MetadataPosterCardOverlay-hoverBackground-1LzJeh PosterCardOverlay-hoverBackground-1ftvjh",Oe&&"MetadataPosterCardOverlay-visibleBackground-3S-7kU PosterCardOverlay-visibleBackground-3rgXxh"),onMouseEnter:Se},ee?r.createElement("div",{className:"MetadataPosterCardOverlay-unplayedTagContainer-1XTwt6","data-qa-id":"metadataPosterUnwatchedBadge"},r.createElement("div",{className:"MetadataPosterCardOverlay-unplayedTag-343vvg MetadataPosterCardOverlay-unplayedBadge-OAvdeH MetadataPosterCardOverlay-badge-2SzLhB"})):null,te?r.createElement("div",{"data-qa-id":"metadataPosterUnwatchedNumberBadge",className:"MetadataPosterCardOverlay-unplayedBadge-OAvdeH MetadataPosterCardOverlay-badge-2SzLhB"},B):null,G&&!je?r.createElement("div",{className:"MetadataPosterCardOverlay-versionBadge-f_3Eic MetadataPosterCardOverlay-topLeftBadge-fMpxnJ MetadataPosterCardOverlay-badge-2SzLhB","data-qa-id":"metadataPosterMultipleVersionBadge"},r.createElement(M.Z,{className:"MetadataPosterCardOverlay-versionBadgeIcon-aNntZ1"}),F):null,!Y||W||je?null:r.createElement("div",{className:"MetadataPosterCardOverlay-smartBadge-3b4zKk MetadataPosterCardOverlay-topLeftBadge-fMpxnJ MetadataPosterCardOverlay-badge-2SzLhB","data-qa-id":"metadataPosterSmartBadge"},r.createElement(D.Z,{className:"MetadataPosterCardOverlay-smartBadgeIcon-3yfWqN"})),Y&&W&&!je?r.createElement("div",{className:"MetadataPosterCardOverlay-favoriteBadge-2rsmZR MetadataPosterCardOverlay-topLeftBadge-fMpxnJ MetadataPosterCardOverlay-badge-2SzLhB","data-qa-id":"metadataPosterFavoriteBadge"},r.createElement(b.Z,{className:"MetadataPosterCardOverlay-favoriteBadgeIcon-NT5MAT"})):null,V?r.createElement(Z.Z,{className:"MetadataPosterCardOverlay-progress-3pK_ng PosterCardOverlayProgress-progress-nklF0v",progress:V}):null,J?r.createElement("div",{className:"MetadataPosterCardOverlay-refreshingSpinnerContainer-30L6k4"},r.createElement(u.Z,{className:"MetadataPosterCardOverlay-refreshingSpinner-12DLbH"})):null,K?r.createElement("div",{className:O},r.createElement(E.Z,{"aria-label":(0,d.Z)("Matching")})):null,q?r.createElement("div",{className:O},r.createElement(C.Z,{"aria-label":(0,d.Z)("Downloading Metadata")})):null,$?r.createElement("div",{className:O},r.createElement(v.Z,{"aria-label":(0,d.Z)("Analyzing")})):null,X?r.createElement("div",{className:"MetadataPosterCardOverlay-trashCircle-3QThbK MetadataPosterCardOverlay-centerCircle-1wphgg"},r.createElement(P.Z,{"aria-label":(0,d.Z)("In Trash")})):null,ne?r.createElement(a.Z,{className:A,to:z}):null,Ae&&!ye?r.createElement(a.Z,{className:x,onPress:Te}):null,Ae&&ye?r.createElement(o.Z,{className:x,component:a.Z,tooltip:(0,d.Z)("A different type is selected"),tooltipAttachment:c.jO,tooltipTarget:this._selectButtonID,showOnFocus:!1,hideOnPress:!1}):null,ue?r.createElement(h.Z,{className:"MetadataPosterCardOverlay-hasSubscriptionBadge-8-eIbE DownloadIcon-downloadIcon-14Rs3Q PlexIcon-plexIcon-1hNiE2 MetadataPosterCardOverlay-topLeftBadge-fMpxnJ MetadataPosterCardOverlay-badge-2SzLhB",source:be,ratingKey:Me,hasOfflineFile:H,hasOwnSubscription:_,showShadow:!0}):null,ue?r.createElement(g.Z,{metadataItemEntityID:w,providerEntityID:l}):null,se?r.createElement(p.Z,{className:ne?"MetadataPosterCardOverlay-playButton-oiGldp PlayButton-playButton-2dFmuo MetadataPosterCardOverlay-button-28HkcF":"MetadataPosterCardOverlay-playCoverButton-4DmHxY MetadataPosterCardOverlay-playButton-oiGldp PlayButton-playButton-2dFmuo MetadataPosterCardOverlay-button-28HkcF",circleClassName:"MetadataPosterCardOverlay-playCircle-3mCEvQ PlayButton-playCircle-2DYa77 MetadataPosterCardOverlay-centerCircle-1wphgg",component:pe?"div":"button",tabIndex:"-1",title:U,"data-qa-id":"metadataPosterPlayButton",onPress:Ee}):null,re?r.createElement(a.Z,{className:"MetadataPosterCardOverlay-editButton-7chGIc MetadataPosterCardOverlay-button-28HkcF",tabIndex:"-1","aria-label":(0,d.Z)("Edit {title}",{title:U}),"data-qa-id":"metadataPosterEditButton",onPress:De},r.createElement(f.Z,null)):null,le&&!je?r.createElement(a.Z,{className:L,tabIndex:"-1","aria-label":(0,d.Z)("Add {title} to favorites",{title:U}),"data-qa-id":"metadataPosterFavoriteButton",onPress:Ce},r.createElement(I.Z,null)):null,ce&&!je?r.createElement(a.Z,{className:L,tabIndex:"-1","aria-label":(0,d.Z)("Remove {title} from favorites",{title:U}),"data-qa-id":"metadataPosterUnfavoriteButton",onPress:Pe},r.createElement(b.Z,null)):null,de?r.createElement(a.Z,{className:"MetadataPosterCardOverlay-removeButton-2ZeZbm MetadataPosterCardOverlay-button-28HkcF",tabIndex:"-1","aria-label":(0,d.Z)("Remove {title}",{title:U}),onPress:we},r.createElement(S.Z,null)):null,oe?r.createElement(y.Z,{"data-qa-id":"metadataPosterMoreButton",className:"MetadataPosterCardOverlay-moreButton-2LskAf MetadataPosterCardOverlay-button-28HkcF",tabIndex:"-1",serverEntityID:t,providerEntityID:n,itemServerEntityID:i,itemProviderEntityID:l,metadataItemEntityID:w,containerKey:j,listType:k,metricsContext:R,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:Ne,onMenuOpenChange:this.onActionsMenuOpenChange}):null,ae?r.createElement(m.Z,{id:this._selectButtonID,className:"MetadataPosterCardOverlay-selectButton-3aCYdU SelectButton-selectButton-Yy19xn MetadataPosterCardOverlay-button-28HkcF",circleClassName:"MetadataPosterCardOverlay-selectCircle-2EOeWw SelectButton-selectCircle-16d-90",tabIndex:"-1",title:U,isSelected:he,isDisabled:ye,onPress:Te}):null,he?r.createElement(a.Z,{className:"MetadataPosterCardOverlay-deselectCoverButton-5Qwexo MetadataPosterCardOverlay-coverButton-2ENc2v",onPress:Ze}):null)}}const k=j},97863:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(94184),s=n.n(i),r=n(67294);const a=function(e){const{imageWidth:t,imageHeight:n,isSelected:i}=e,a={width:t,height:n};return r.createElement("div",{className:s()("MetadataPosterCardPlaceholder-placeholder-dAfuLC MetadataPosterCardFace-poster-11uR3N",i&&"MetadataPosterCardPlaceholder-isSelected-3ZTFWa MetadataPosterCardFace-isSelected-2dld-q"),style:a})}},27202:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67294);class s extends i.Component{constructor(e,t){super(e,t),this.state={progress:e.progress}}componentWillReceiveProps(e){this.setState({progress:e.progress})}render(){const e=this.props.className,t=this.state.progress;return i.createElement("div",{className:e},i.createElement("div",{className:"PosterCardOverlayProgress-progressTrack--vPFGK"}),i.createElement("div",{style:{transform:`translate3d(-${100-t}%, 0, 0)`},className:"PosterCardOverlayProgress-progressBar-1s57tW"}))}}s.defaultProps={progress:"PosterCardOverlayProgress-progress-nklF0v"};const r=s},65732:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67294),s=n(36475);const r=function({className:e,grandparentTitle:t}){return i.createElement(s.Z,{className:e,title:t})}},36475:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(67294);const s=function({className:e,title:t}){return i.createElement("span",{className:e,title:t},t)}},16345:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(37703),s=n(22222),r=n(81017),a=n(36475);const o=(0,i.$j)((function(){return(0,s.P1)((0,r.Z)(),((e={})=>({title:e.title})))}))(a.Z)},97784:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(67294),s=n(25366),r=n(2016),a=n(99741);const o=function({className:e,tabIndex:t,title:n,index:o,route:l,parentTitle:c,parentIndex:d,parentRoute:u,originallyAvailableAt:p}){return i.createElement("span",{className:e},i.createElement(a.Z,{tabIndex:t,title:n,index:o,route:l,parentTitle:c,parentIndex:d,parentRoute:u,originallyAvailableAt:p}),n?i.createElement(s.Z,null):null,n?i.createElement(r.Z,{tabIndex:t,title:n,route:l}):null)}},92797:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(22222),s=n(81017),r=n(70488),a=n(74253),o=n(61478),l=n(87691),c=n(6638),d=n(97784);const u=(0,l.Z)((function(){return(0,i.P1)(((e,{metricsContext:t})=>t),a.Z,r.Z,(0,s.Z)(),((e,t,n,i={})=>{const s={};e&&(s.context=e);const r=i.skipParent&&i.subtype===o.WEBSHOW;return{title:i.title,index:i.index,route:(0,c.Z)(t,n,i.key,s),parentTitle:i.parentTitle,parentIndex:r?null:i.parentIndex,parentRoute:i.skipParent?null:(0,c.Z)(t,n,i.parentKey,s),originallyAvailableAt:i.originallyAvailableAt}}))}))(d.Z)},2016:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67294),s=n(48604);const r=function({className:e,tabIndex:t,title:n,route:r}){return n?r?i.createElement(s.Z,{className:e,"data-qa-id":"metadataTitleLink",tabIndex:t,title:n,to:r},n):i.createElement("span",{className:e,title:n},n):null}},99741:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(67294),s=n(25366),r=n(48604),a=n(40074),o=n(85480);const l=function(e){const{className:t,tabIndex:n,title:l,index:c,route:d,parentTitle:u,parentIndex:p,parentRoute:m,originallyAvailableAt:h}=e,g=(0,o.Z)({seasonIndex:p,noLeadingZero:!0}),y=(0,a.Z)({episodeIndex:c,date:h,noLeadingZero:!0});return d&&m?i.createElement("span",{className:t},c>0&&g?i.createElement(r.Z,{tabIndex:n,title:u,to:m},g):null,c>0&&g?i.createElement(s.Z,{separator:"·"}):null,i.createElement(r.Z,{tabIndex:n,title:l,to:d},y)):i.createElement("span",{className:t},c>0&&g?i.createElement("span",null,g):null,c>0&&g?i.createElement(s.Z,{separator:"·"}):null,i.createElement("span",null,y))}},82737:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(67294),s=n(37703),r=n(5513),a=n(27082);class o extends i.Component{componentDidMount(){this._populate(this.props)}componentDidUpdate(e){const{machineIdentifier:t}=this.props;t&&t!==e.machineIdentifier&&this._populate(this.props)}_populate(e){const{machineIdentifier:t,dispatchSetPrimaryServer:n}=e;t&&(0,a.c9)((()=>{n({machineIdentifier:t})}))}render(){return i.createElement(i.Fragment,null,this.props.children)}}const l={dispatchSetPrimaryServer:r.qO},c=(0,s.$j)(null,l)(o)},95815:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var i=n(67294),s=n(37703),r=n(69434),a=n(5513),o=n(63800),l=n(68576),c=n(63731),d=n(22699),u=n(716),p=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,g=Object.assign;const y=function(e){const{children:t,metricsPage:n,metricsProperties:s,isMetricsDelegated:r}=e,a=((e,t)=>{var n={};for(var i in e)p.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&m)for(var i of m(e))t.indexOf(i)<0&&h.call(e,i)&&(n[i]=e[i]);return n})(e,["children","metricsPage","metricsProperties","isMetricsDelegated"]);return i.createElement(c.Z,g(g({},s),{page:n,isDelegated:r}),i.createElement(d.Z,g({className:u.Z.page},a),t))};var v=Object.prototype.hasOwnProperty,f=Object.getOwnPropertySymbols,I=Object.prototype.propertyIsEnumerable,b=Object.assign;const M={dispatchChangeBackground:o.ZZ,dispatchResetBackground:o.HF,dispatchGarbageCollectEntities:a.$e};class S extends i.Component{constructor(e,t){super(e,t),this.state={hasError:!1}}componentDidMount(){this.props.disableBackgroundPreset||this.props.dispatchChangeBackground({allowLightPreset:this.props.allowBackgroundLightPreset})}componentWillUnmount(){const{dispatchResetBackground:e,dispatchGarbageCollectEntities:t}=this.props;e(),t()}componentDidCatch(e){r.Z.error(e),this.setState({hasError:!0})}render(){const e=this.props,{dispatchChangeBackground:t,dispatchResetBackground:n,dispatchGarbageCollectEntities:s,disableBackgroundPreset:r,allowBackgroundLightPreset:a}=e,o=((e,t)=>{var n={};for(var i in e)v.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&f)for(var i of f(e))t.indexOf(i)<0&&I.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchChangeBackground","dispatchResetBackground","dispatchGarbageCollectEntities","disableBackgroundPreset","allowBackgroundLightPreset"]),{hasError:c}=this.state;return c?i.createElement(l.Z,null):i.createElement(y,b({},o))}}S.defaultProps={disableBackgroundPreset:!1,allowBackgroundLightPreset:!1};const E=(0,s.$j)(null,M)(S)},22699:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(67294),s=n(19318),r=n(19949),a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=Object.assign;class d extends i.Component{constructor(e,t){super(e,t),this.onScrollPositionChange=({scrollTop:e})=>{this.state.isScrolling||(this._currentScrollTop=e)},this.state={isScrolling:!1},this._positionKey=r.Z.getKey(e.scrollPositionKey),this._currentScrollTop=0,this._restoreScrollDelay=e.smoothScroll?e.smoothScrollDuration:e.restoreScrollDelay,this._restoreScroll=!1,this._restoreScrollTimeoutID=null}componentDidMount(){this._restoreScrollPosition()}componentDidUpdate(e){const{scrollPositionKey:t}=this.props;e.scrollPositionKey!==t&&(this._positionKey=r.Z.getKey(t))}componentWillUnmount(){this._storeScrollPosition(),this._restoreScrollTimeoutID&&window.clearTimeout(this._restoreScrollTimeoutID)}_restoreScrollPosition(){const e=r.Z.get(this._positionKey);e&&(this.setState({isScrolling:!0}),this._currentScrollTop=e.scrollTop,this._restoreScroll=!0,this._restoreScrollTimeoutID=window.setTimeout((()=>{this.setState({isScrolling:!1}),this._restoreScroll=!1}),this._restoreScrollDelay))}_storeScrollPosition(){r.Z.set(this._positionKey,{scrollTop:this._currentScrollTop})}render(){const e=this.props,{children:t,className:n,restoreScrollDelay:r,scrollPositionKey:d}=e,u=((e,t)=>{var n={};for(var i in e)a.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&o)for(var i of o(e))t.indexOf(i)<0&&l.call(e,i)&&(n[i]=e[i]);return n})(e,["children","className","restoreScrollDelay","scrollPositionKey"]);return i.createElement(s.Z,c({className:n,scrollTop:this._currentScrollTop,restoreScroll:this._restoreScroll,onScrollPositionChange:this.onScrollPositionChange},u),t)}}d.defaultProps={restoreScrollDelay:100,scrollPositionKey:"scrollPosition",smoothScroll:!0,smoothScrollDuration:400};const u=d},30263:(e,t,n)=>{"use strict";n.d(t,{Z:()=>H});var i=n(45697),s=n.n(i),r=n(37703),a=n(22222),o=n(2262),l=n(74995),c=n(12272),d=n(3967),u=n(67294),p=n(58801),m=n(82737),h=n(34198),g=n(65531),y=n(81079),v=n(9936),f=n(5977),I=n(58858),b=n(48604),M=n(46565),S=n(27620),E=n(93966),D=n(88050),C=n(69605),P=n(5562),w=n(36996),T=n(21508),Z=n(95614),N=n(18039);const A={dispatchDismissUnclaimedServer:v.EK},x=(0,r.$j)((function(){return(0,a.P1)((0,l.Z)(),y.Z,((e,t)=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,isPlexAccountRequired:t})))}),A)((function(e){const{machineIdentifier:t,friendlyName:n,isPlexAccountRequired:i,dispatchDismissUnclaimedServer:s}=e,r=(0,f.k6)(),a=(0,u.useCallback)((()=>{r.push(w.Z.login)}),[r]),o=(0,u.useCallback)((()=>{(0,E.DB)("metrics").trackClick({page:C.yl,action:D.ql})}),[]),l=(0,u.useCallback)((()=>{(0,E.DB)("metrics").trackClick({page:C.yl,action:D.GP}),s({machineIdentifier:t})}),[t,s]);return u.createElement(Z.Z,{title:(0,P.Z)("{friendlyName} server is unclaimed and not secure",{friendlyName:n}),description:(0,P.Z)("Claiming this server will associate it with your Plex account. This helps your devices find each other and helps keep your media safe.")},i?u.createElement(I.Z,{kind:M._8,size:S.ln,onPress:a},(0,P.Z)("Sign in to claim this server")):u.createElement(I.Z,{kind:M._8,size:S.ln,to:(0,N.Z)(t,"settings","general"),onPress:o},(0,P.Z)("Claim it now")),u.createElement(T.Z,null,u.createElement(b.Z,{kind:M._8,size:S.HC,onPress:l},(0,P.Z)("Don't show this again"))))}));var L=n(76249),O=n(48523),j=n(47909),k=n(39670);const R=(0,r.$j)((function(){return(0,a.P1)((0,l.Z)(),(e=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,activeConnectionUri:e.activeConnection.uri,shouldUseNewSettingsRoutes:(0,O.Z)(e.version,L.Z.bundledWebAppNewSettingsRoutes),isShared:e.isShared})))}))((function(e){const{machineIdentifier:t,friendlyName:n,activeConnectionUri:i,shouldUseNewSettingsRoutes:s,isShared:r}=e;let a;n&&(a=(0,P.Z)("The server {1} is out of date and cannot be used.",n)),a=a+" "+(0,P.Z)("This version of {productName} requires Plex Media Server {minServerVersion} or higher.",{productName:k.Z.prop("X-Plex-Product"),minServerVersion:"1.18.3"});let o="/web/index.html";return r||(o+=s?(0,N.Z)(t,"settings","general"):"#!/settings/server"),u.createElement(Z.Z,{title:"Update your Plex Media Server",description:a},u.createElement(I.Z,{to:j.Z.join([i,o]),target:"_self",kind:M._8,size:S.ln},(0,P.Z)("Open server directly")))}));var z=n(3704),U=n(81071),V=n(99434);var B=Object.assign;const F=(0,r.$j)((function(){return(0,a.P1)((e=>e.isWaitingForServers),((e,{hideUnclaimedPage:t})=>t),(0,l.Z)(),(0,c.Z)(),d.Z,((e,t,n,i,s)=>n?{hasServer:!0,showSpinner:!n.isConnected&&!n.isUnauthorized&&!n.isUnavailable,machineIdentifier:n.machineIdentifier,isUnauthorized:n.isUnauthorized,isUnavailable:n.isUnavailable,isOutOfDate:n.isOutOfDate,isInstallingServerUpdate:n.isInstallingServerUpdate,isUnclaimed:n.isConnected&&!n.isClaimed&&!s[n.machineIdentifier]&&!i&&!t,hasHttpsConnections:n.hasHttpsConnections,isHostedHttps:o.Z.isHostedHttps}:{hasServer:!1,showSpinner:e}))}))((function(e){const{serverEntityID:t,children:n,hasServer:i,showSpinner:s,machineIdentifier:r,isUnauthorized:a,isUnavailable:o,isOutOfDate:l,isUnclaimed:c,isInstallingServerUpdate:d}=e;return s?u.createElement(z.Z,null,u.createElement(p.Z,null)):i?d?u.createElement(U.Z,{serverEntityID:t}):o?u.createElement(g.Z,{serverEntityID:t}):l?u.createElement(R,{serverEntityID:t}):a?u.createElement(h.Z,null):c?u.createElement(x,{serverEntityID:t}):u.createElement(m.Z,{machineIdentifier:r},n):u.createElement(V.Z,null)}));F.propTypes=B(B({},F.propTypes),{serverEntityID:s().string.isRequired});const H=F},34198:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(67294),s=n(5562),r=n(95614);const a=function(){return i.createElement(r.Z,{title:(0,s.Z)("No soup for you!"),description:(0,s.Z)("You do not have access to this server")})}},65531:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var i=n(67294),s=n(37703),r=n(22222),a=n(58858),o=n(48604),l=n(46565),c=n(38076),d=n(47909),u=n(53145),p=n(74995),m=n(39374),h=n(5562),g=n(9936),y=n(46905),v=n(45915),f=n(65671),I=n(95614);const b=function(e){const{friendlyName:t,isPending:n,onTryAgainPress:s}=e;return i.createElement(I.Z,{title:t?(0,h.Z)("{serverName} is currently unavailable",{serverName:t}):(0,h.Z)("Server is currently unavailable"),description:i.createElement(f.Z,{message:(0,h.Z)("Verify you have a network connection and that the server is online, or see our {openLink}troubleshooting{closeLink} tips for further assistance."),tags:[{open:"openLink",close:"closeLink",component:o.Z,kind:l._8,to:"https://help.plex.tv/noserver",target:"_blank"}]})},i.createElement(v.Z,{isSpinning:n,kind:l._8,onPress:s},(0,h.Z)("Retry connection")))};var M=n(25540),S=n(80974),E=n(3704);class D extends i.Component{render(){const{title:e,description:t,children:n}=this.props;return i.createElement(E.Z,{iconSrc:S,title:e,description:i.createElement(i.Fragment,null,i.createElement(f.Z,{message:(0,h.Z)('Its "Secure connections" setting may be set to disabled, or you may need to adjust some settings on your network. You can {openLink}learn more about secure connections here{closeLink}.'),tags:[{open:"openLink",close:"closeLink",component:o.Z,to:"https://support.plex.tv/hc/en-us/articles/206225077-How-to-Use-Secure-Server-Connections",kind:l._8,target:"_blank"}]}))},t?i.createElement("div",{className:"InsecureFallbackChoicePage-description-3jwi7V EmptyPageDescription-description-Q3Qyzg"},t):null,n)}}const C=D;var P=n(22876);const w=(0,s.$j)((function(){return(0,r.P1)((0,p.Z)(),(e=>{const t=e.connections.find((e=>"http"===e.scheme));return{friendlyName:e.friendlyName,bundledConnectionUri:null==t?void 0:t.uri,shouldShowInsecureAppMessage:P.P(e),shouldAllowInsecureFallback:P.E(e),isPending:e.isPending}}))}),(function(e,t){const n={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onTryAgainPress(){e((0,g.bc)()),e(u.Vk(n))}}}))((function(e){const{friendlyName:t,bundledConnectionUri:n,shouldShowInsecureAppMessage:s,shouldAllowInsecureFallback:r,isPending:u,onTryAgainPress:p}=e,{isOpen:g,onOpen:v,onClose:f}=(0,y.Z)();if(s){const e="macos"===c.Z.platformID||"windows"===c.Z.platformID;return i.createElement(C,{title:(0,h.Z)('app.plex.tv is unable to connect to "{serverName}" securely',{serverName:t})},e?i.createElement("div",{className:"ServerUnavailableErrorPageConnector-downloadButtonContainer-uhzJqk"},i.createElement(a.Z,{to:m.jv,target:"_blank",kind:l._8},"windows"===c.Z.platformID?(0,h.Z)("Download Plex for Windows"):(0,h.Z)("Download Plex for Mac"))):null,n?i.createElement(o.Z,{to:d.Z.join([n,"/web/index.html"]),kind:l._8},e?(0,h.Z)("Or you can try to navigate directly to Plex Media Server"):(0,h.Z)("You can try to navigate directly to Plex Media Server")):null)}return r?i.createElement(C,{title:(0,h.Z)('The server "{serverName}" does not allow secure connections',{serverName:t}),description:(0,h.Z)("The app is loaded insecurely. You can attempt to use an insecure connection now.")},i.createElement(M.Z,{isOpen:g,serverEntityID:e.serverEntityID,onModalClose:f}),i.createElement(a.Z,{kind:l._8,onPress:v},(0,h.Z)("Allow Insecure Connections"))):i.createElement(b,{friendlyName:t,isPending:u,onTryAgainPress:p})}))},25540:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var i=n(37703),s=n(22222),r=n(74995),a=n(59194),o=n(67294),l=n(75774),c=n(45610),d=n(15378),u=n(84388),p=n(46565),m=n(27620),h=n(55642),g=n(69605),y=n(5562),v=n(58300),f=n(53790),I=n(39571);class b extends o.Component{constructor(e,t){super(e,t),this.onAllowFallbackConfirm=()=>{this.setState({isSubmitting:!0}),this.props.onAllowHttpFallback({serverEntityID:this.props.serverEntityID,allowHttpFallback:this.props.publicAddressMatches?h.Z.SAME_NETWORK:h.Z.ALWAYS})},this.state={isSubmitting:!1}}render(){const{publicAddressMatches:e,isOpen:t,onModalClose:n}=this.props,{isSubmitting:i}=this.state;return o.createElement(f.Z,{size:m.HC,isOpen:t,metricsPage:g.Sd,onModalClose:n},o.createElement(I.Z,{onModalClose:n},o.createElement(u.Z,null,(0,y.Z)("Allow Insecure Connections")),o.createElement(l.Z,null,e?(0,y.Z)("Insecure connections will only be allowed when you're on the same network as the server."):(0,y.Z)("Insecure connections will be allowed to any server."),o.createElement("br",null),(0,y.Z)("The Allow Fallback to Insecure Connections setting can be changed in Web Settings. Would you like to allow insecure connections?")),o.createElement(c.Z,null,o.createElement(d.Z,null,o.createElement(v.Z,{kind:p.TP,isDisabled:i,onPress:n},(0,y.Z)("Cancel")),o.createElement(v.Z,{kind:p.T,isSpinning:i,onPress:this.onAllowFallbackConfirm},(0,y.Z)("Allow"))))))}}const M=b,S={onAllowHttpFallback:a.JZ},E=(0,i.$j)((function(){return(0,s.P1)((0,r.Z)(),(e=>({publicAddressMatches:e.publicAddressMatches})))}),S)(M)},3704:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(67294),s=n(19318),r=n(46565),a=n(21508);const o={emptyPage:"EmptyPage-emptyPage-DjF6N1",content:"EmptyPage-content-3lx94H",icon:"EmptyPage-icon-1xIWV_",default:"EmptyPage-default-24UaK-",primary:"EmptyPage-primary-2RuZWG",success:"EmptyPage-success-1L-bre",danger:"EmptyPage-danger-2XXf4E",imgIcon:"EmptyPage-imgIcon-ffNjlV",title:"EmptyPage-title-5RFMGm",footer:"EmptyPage-footer-2k_SyV"};var l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=Object.assign;function p(e){const{contentClassName:t,iconClassName:n,titleClassName:r,footerClassName:p,children:m,kind:h,iconComponent:g,iconSrc:y,title:v,description:f,footer:I}=e,b=((e,t)=>{var n={};for(var i in e)l.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&c)for(var i of c(e))t.indexOf(i)<0&&d.call(e,i)&&(n[i]=e[i]);return n})(e,["contentClassName","iconClassName","titleClassName","footerClassName","children","kind","iconComponent","iconSrc","title","description","footer"]);return i.createElement(s.Z,u({className:o.emptyPage},b),i.createElement("div",{className:t},y?i.createElement("img",{className:o.imgIcon,src:y}):null,g?i.createElement("span",{className:n},i.createElement(g,{className:o[h]})):null,v?i.createElement("div",{className:r},v):null,f?i.createElement(a.Z,null,f):null,m),I?i.createElement("div",{className:p},I):null)}p.defaultProps={contentClassName:o.content,iconClassName:o.icon,titleClassName:o.title,footerClassName:o.footer,kind:r.TP};const m=p},21508:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(67294);const s=function({children:e}){return i.createElement("div",{className:"EmptyPageDescription-description-Q3Qyzg"},e)}},95614:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(67294),s=n(3704),r=n(39611);var a=Object.assign;const o=function(e){return i.createElement(s.Z,a({iconClassName:"ErrorPage-icon-2pZGG7 EmptyPage-icon-1xIWV_",iconComponent:r.Z},e))}},82598:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(67294),s=n(93143),r=n(3704),a=n(58967),o=Object.assign;const l=function(e){return i.createElement(r.Z,o({className:a.Z.innerEmptyPage,contentClassName:a.Z.innerEmptyPageContent,scrollDirection:s.Hn},e))}},14838:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(67294),s=n(93143),r=n(68576),a=n(58967),o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=Object.assign;const u=function(e){const{children:t}=e,n=((e,t)=>{var n={};for(var i in e)o.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&l)for(var i of l(e))t.indexOf(i)<0&&c.call(e,i)&&(n[i]=e[i]);return n})(e,["children"]);return i.createElement(r.Z,d({className:a.Z.innerEmptyPage,contentClassName:a.Z.innerEmptyPageContent,scrollDirection:s.Hn},n),t)}},81071:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(37703),s=n(22222),r=n(53145),a=n(74995),o=n(9936),l=n(67294),c=n(45915),d=n(46565),u=n(80974),p=n(5562),m=n(3704);const h=(0,i.$j)((function(){return(0,s.P1)((0,a.Z)(),(e=>({friendlyName:e.friendlyName,isPending:e.isPending})))}),(function(e,t){const n={serverEntityID:t.serverEntityID};return{onTryAgainPress(){e((0,o.bc)()),e(r.Vk(n))}}}))((function(e){const{friendlyName:t,isPending:n,onTryAgainPress:i}=e;return l.createElement(m.Z,{iconSrc:u,title:(0,p.Z)('The server "{serverName}" is installing an update',{serverName:t}),description:(0,p.Z)("Grab a cup of tea. This may take a couple of minutes.")},l.createElement(c.Z,{isSpinning:n,kind:d._8,onPress:i},(0,p.Z)("Retry connection")))}))},99434:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(67294),s=n(48604),r=n(46565),a=n(5562),o=n(95614);const l=function(){return i.createElement(o.Z,{title:(0,a.Z)("You must be lost"),description:(0,a.Z)("We can't find the page you're looking for")},i.createElement(s.Z,{to:"#",kind:r._8},(0,a.Z)("Go Home")))}},68576:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(67294),s=n(48604),r=n(46565),a=n(39374),o=n(5562),l=n(95614),c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=Object.assign;const m=function(e){const{children:t}=e,n=((e,t)=>{var n={};for(var i in e)c.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&d)for(var i of d(e))t.indexOf(i)<0&&u.call(e,i)&&(n[i]=e[i]);return n})(e,["children"]);return i.createElement(l.Z,p({title:(0,o.Z)("There was an unexpected error"),description:(0,o.Z)("Please visit our forums if you continue to experience problems")},n),i.createElement(s.Z,{to:a.bB,target:"_self",kind:r._8},(0,o.Z)("Go to Forums")),t)}},83787:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Q});var i=n(67294),s=n(27620),r=n(23438),a=n(93966),o=n(88050),l=n(69605),c=n(53790),d=n(37703),u=n(22222),p=n(47909),m=n(55885),h=n(92187),g=n(45399),y=n(79678),v=n(94184),f=n.n(v),I=n(58858),b=n(48604),M=n(75774),S=n(45610),E=n(84388),D=n(46565),C=n(69434),P=n(5562),w=n(66322),T=n(58801),Z=n(39571),N=n(97125),A=n(7568),x=n(21696),L=n(52919),O=n(31481),j=n(26782);const k=function({img:e,title:t,description:n}){return i.createElement("div",{className:"PlexPassFeature-feature-YnW4ll"},i.createElement("div",{className:"PlexPassFeature-featurePadding-U1Isfj"},i.createElement("img",{className:"PlexPassFeature-featureImage-QAgxr1",src:e}),i.createElement("div",{className:"PlexPassFeature-featureContainer-21ruMO"},i.createElement("div",{className:"PlexPassFeature-featureTitle-3HIuXF"},t),i.createElement("div",{className:"PlexPassFeature-featureDescription-F11NZQ"},n))))},R="PlexPassModalContent-planButton-2OghRO";var z=Object.assign;const U=function(e){const{metricsProperties:t,subscribeUrl:n,infoUrl:r,plans:a,isPlansPending:l,isPlansPopulated:c,plansError:d,origin:u,allowMarketingModalContent:m,onModalClose:h}=e,[g,y]=(0,i.useState)(),[v,U]=(0,i.useState)(!1),V=(0,i.useCallback)((e=>{try{if(!e.origin.endsWith(".plex.tv"))return;const t=JSON.parse(e.data);t.frameHeight&&y(t.frameHeight)}catch(e){C.Z.warn(e.message)}}),[]);return(0,i.useEffect)((()=>(window.addEventListener("message",V),()=>{window.removeEventListener("message",V)})),[V]),(0,i.useEffect)((()=>{let e;return m&&null==g&&(e=window.setTimeout((()=>{U(!0)}),1e3)),()=>{e&&window.clearTimeout(e)}}),[m,g]),m&&!v?i.createElement(Z.Z,{style:{visibility:null==g?"hidden":"visible"},onModalClose:h},i.createElement("iframe",{className:"PlexPassModalContent-marketingFrame-3UB02Y",src:`https://assets.plex.tv/marketing/in-app/pp-interstitial/index.html?utm_content=${u}`,style:{minHeight:g}})):i.createElement(Z.Z,{onModalClose:h},i.createElement(E.Z,{className:"PlexPassModalContent-header-2LHpX7 ModalHeader-modalHeader-aJOI_i"},i.createElement("div",{className:"PlexPassModalContent-plexPassTitle-2qmwpN"},(0,P.Z)("Plex Pass")),(0,P.Z)("Enhance your Plex experience with exclusive premium features")),i.createElement(M.Z,{innerClassName:"PlexPassModalContent-body-3jSMOl ModalBody-innerModalBody-jCNoJl"},i.createElement(k,{img:x,title:(0,P.Z)("Downloads"),description:(0,P.Z)("Enjoy your media offline on Android and iOS devices")}),i.createElement(k,{img:A,title:(0,P.Z)("Live TV & DVR"),description:(0,P.Z)("Connect a tuner and antenna to record free OTA broadcasts")}),i.createElement(k,{img:O,title:(0,P.Z)("Parental Controls"),description:(0,P.Z)("Set up managed user accounts to create custom access restrictions")}),i.createElement(k,{img:j,title:(0,P.Z)("Webhooks"),description:(0,P.Z)("Connect your media server to your home automation system")}),i.createElement(k,{img:N,title:(0,P.Z)("Server Dashboard"),description:(0,P.Z)("See the play history, bandwidth, and top users on your media server")}),i.createElement(k,{img:L,title:(0,P.Z)("Premium Music Magic"),description:(0,P.Z)("Sweet Fades, Loudness Leveling, Lyrics, and more")}),i.createElement("div",{className:"PlexPassModalContent-moreFeatures-1L7gmZ"},i.createElement(b.Z,{className:"PlexPassModalContent-link-W12ZLV",to:r,target:"_self"},(0,P.Z)("...plus more exclusive features!")))),i.createElement(S.Z,{className:"PlexPassModalContent-footer-21FcFP ModalFooter-modalFooter-3ru3TD"},l?i.createElement("div",{className:"PlexPassModalContent-spinnerContainer-3sN9Mf"},i.createElement(T.Z,null)):null,i.createElement("div",{className:f()("PlexPassModalContent-plansContainer-3y4lZx",l&&"PlexPassModalContent-isPlansPending-1jd-23")},!l&&c?a.map((e=>i.createElement(w.Z,z(z({key:e.id},t),{action:o.kD,plan:e.id}),i.createElement(I.Z,{className:R,to:p.Z.join(n,{plan:e.id,continue:window.location.href}),target:"_self",kind:D._8,size:s.ln},e.formattedPrice," — ",e.name)))):null,!l&&d?i.createElement(w.Z,z(z({},t),{action:o.kD,plan:"unknown"}),i.createElement(I.Z,{className:R,to:n,target:"_self",kind:D._8,size:s.ln},(0,P.Z)("Subscribe"))):null)))};var V=Object.assign;class B extends i.Component{componentWillMount(){this.props.isSignedIn&&this.props.fetchPlans()}componentWillReceiveProps(e){e.isSignedIn&&e.isSignedIn!==this.props.isSignedIn&&e.fetchPlans()}render(){return i.createElement(U,V({},this.props))}}const F=(0,d.$j)((function(){return(0,u.P1)(((e,{origin:t})=>t),h.Z,(0,m.Z)(g.aB),((e,t,n)=>{const i=t.desktop,s={utm_source:"app.plex.tv",utm_medium:"app",utm_campaign:"PP_in-app-upsell_01"};return e&&(s.utm_content=e),{isSignedIn:t.isSignedIn,plans:i.plans,isPlansPending:i.isPlansPending,isPlansPopulated:i.isPlansPopulated,plansError:i.plansError,subscribeUrl:p.Z.join(["https://www.plex.tv","/plex-pass/purchase"],s),infoUrl:p.Z.join(["https://www.plex.tv","/plex-pass"]),allowMarketingModalContent:n&&"en"===t.experienceSettings.language&&"us"===t.country.toLowerCase()}}))}),{fetchPlans:y.ZQ})(B);var H=Object.assign;class _ extends i.Component{constructor(){super(...arguments),this.onModalClose=()=>{(0,a.DB)("metrics").trackClick(H(H({},this.props.metricsProperties),{page:l.G5,action:o.AM})),this.props.onModalClose()}}shouldComponentUpdate(e,t){return(0,r.Z)(this,e,t)}render(){const{origin:e,isOpen:t,metricsProperties:n}=this.props;return i.createElement(c.Z,{size:s.ln,isOpen:t,metricsPage:l.G5,metricsProperties:n,onModalClose:this.onModalClose},i.createElement(F,{origin:e,metricsProperties:n,onModalClose:this.onModalClose}))}}const Q=_},21709:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(45697),s=n.n(i),r=n(67294),a=n(7506),o=n(23438),l=n(60514),c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=Object.assign;const m={[l.JU]:!0,[l.jx]:!0,[l.Ge]:!0,[l.nO]:!0,[l.u5]:!0},h=function(e){var t;return(t=class extends r.Component{constructor(e,t){super(e,t),this.onKeyDown=e=>{const{pressedModifierKeys:t}=this.state;m[e.which]&&-1===t.indexOf(e.which)&&this.setState({pressedModifierKeys:t.concat(e.which)})},this.onKeyUp=e=>{const{pressedModifierKeys:t}=this.state,n=t.indexOf(e.which);n>-1&&this.setState({pressedModifierKeys:t.slice(0,n).concat(t.slice(n+1))})},this.onMouseDown=e=>{this._isMouseDown=!0},this.onMouseUp=e=>{this._isMouseDown=!1},this.onFocusChange=e=>{this.state.pressedModifierKeys.length&&this.setState({pressedModifierKeys:[]}),this._isMouseDown=!1},this.onMouseEnter=e=>{const{selectionType:t,activeSelectionType:n}=this.props;this._isMouseDown&&n&&n===t&&this.onSelectPress(e)},this.onSelectPress=e=>{const{selectionID:t,selectionType:n,isSelected:i,onSelectItem:s}=this.props;i||s({id:t,type:n,isRangeSelect:e.shiftKey})},this.onDeselectPress=e=>{const{selectionID:t,isSelected:n,onDeselectItem:i}=this.props;n&&i({id:t})},this.state={pressedModifierKeys:[]}}componentDidMount(){document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp),document.addEventListener("mousedown",this.onMouseDown),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("dragstart",this.onFocusChange),document.addEventListener("contextmenu",this.onFocusChange),window.addEventListener("blur",this.onFocusChange)}shouldComponentUpdate(e,t){return(0,o.Z)(this,e,t)}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("dragstart",this.onFocusChange),document.removeEventListener("contextmenu",this.onFocusChange),window.removeEventListener("blur",this.onFocusChange)}render(){const t=this.props,{selectionType:n,activeSelectionType:i,isSelected:s}=t,a=((e,t)=>{var n={};for(var i in e)c.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&d)for(var i of d(e))t.indexOf(i)<0&&u.call(e,i)&&(n[i]=e[i]);return n})(t,["selectionType","activeSelectionType","isSelected"]),{pressedModifierKeys:o}=this.state,l=!!i;return r.createElement(e,p({hasActiveSelection:l,isSelected:s,isOtherItemSelected:l&&!s,isConflictingTypeSelected:l&&i!==n,isModifierKeyPressed:o.length>0,onMouseEnter:this.onMouseEnter,onSelectPress:this.onSelectPress,onDeselectPress:this.onDeselectPress},a))}}).displayName=`Selectable(${(0,a.Z)(e)})`,t.WrappedComponent=e,t.propTypes={selectionID:s().string.isRequired,selectionType:s().string.isRequired,activeSelectionType:s().string,isSelected:s().bool.isRequired,onSelectItem:s().func.isRequired,onDeselectItem:s().func.isRequired},t.defaultProps={disableSelection:!1},t}},38625:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67294);function s(e,t){return e&&e[t]?e[t].split(","):[]}function r(e,t,n){const r=s(e,t),a=s(e,n),[o,l]=(0,i.useState)(r),[c,d]=(0,i.useState)(a);return{initialAllowTags:r,initialExcludeTags:a,allowTags:o,excludeTags:c,onAllowTagsChange:(0,i.useCallback)((e=>{l(e)}),[]),onExcludeTagsChange:(0,i.useCallback)((e=>{d(e)}),[])}}},92885:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(67294);function s(e){const[t,n]=(0,i.useState)(!1);return{isOpen:t,onOpen:(0,i.useCallback)((()=>n(!0)),[]),onClose:(0,i.useCallback)((()=>n(!1)),[]),onConfirm:(0,i.useCallback)((t=>{n(!1),e&&e(t)}),[e])}}},22876:(e,t,n)=>{"use strict";n.d(t,{P:()=>o,E:()=>l});var i=n(2262),s=n(59756);function r(){return!i.Z.isHostedHttps||!!s.Z.allowMixedContent}function a(e){return e.isFullServer&&!!e.presence&&!e.httpsRequired}function o(e){return!r()&&a(e)}function l(e){const t=e.hasHttpsConnections&&!e.hasFallbackConnections;return r()&&a(e)&&t}},90961:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(57791),s=Object.assign;function r(e=40,t=10,n){return(0,i.ZP)(s({direction:i.yZ,columns:1,overscan:t,getCellWidth:e=>e.innerViewportWidth,getCellHeight:()=>e},n))}},90087:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(80126);function s(e,t,n){switch((0,i.n3)(e,t,n)){case i.oz:return 114;case i.s4:return 64;case i.Zp:return 74}}},13550:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(46277),s=n(69881);function r(e,t="·"){const{type:n,title:r,parentTitle:a,grandparentTitle:o,index:l,parentIndex:c,originallyAvailableAt:d}=e;switch(n){case s.EPISODE:{let e=`${o} ${t} ${(0,i.Z)({seasonIndex:c,episodeIndex:l,date:d,noLeadingZero:!0,separator:" · "})}`;return r&&(e+=` ${t} ${r}`),e}case s.SEASON:case s.ALBUM:return`${a} ${t} ${r}`;case s.TRACK:return`${o} ${t} ${a} ${t} ${r}`;default:return r}}},72181:(e,t,n)=>{"use strict";n.d(t,{tW:()=>M,_7:()=>S,yq:()=>C,y7:()=>w,QF:()=>T,Dd:()=>Z,h$:()=>N,J5:()=>A,wc:()=>x,Or:()=>L,L:()=>j,Jm:()=>k,k7:()=>R,k_:()=>z,ZP:()=>U});var i=n(13469),s=n.n(i),r=n(67038),a=n(59756),o=n(67006),l=n(94803),c=n(17524),d=n(45399),u=n(90296),p=n(34796),m=n(61478),h=n(69881),g=n(89984),y=n(57721),v=n(78847),f=n(2078);const I={showPlay:M,showPlayVersion:function({server:e,provider:t,stableUser:n,metadataItem:i}){return!!M({server:e,provider:t,stableUser:n,metadataItem:i})&&(t.isLibraryProvider&&i.Media&&i.Media.length>1)},showPlayAll:M,showShuffle:function({server:e,provider:t,stableUser:n,metadataItem:i}){return!i.radio&&(M({server:e,provider:t,stableUser:n,metadataItem:i})&&!!t.features.playqueue)},showQueue:S,showPlayTrailer:E,showPlayPlexMix:D,showQueuePlexMix:function({server:e,provider:t,stableUser:n,metadataItem:i}){return D({server:e,provider:t,stableUser:n,metadataItem:i})},showPlayMusicVideo:E,showPlayRadio:function({server:e,provider:t,stableUser:n,metadataItem:i}){return!!i.hasRadioStation},showPlayArtistTV:function({server:e,provider:t,stableUser:n,metadataItem:i}){return!!i.hasArtistTVStation},showAddToWatchlist:function({provider:e,stableUser:t}){return!!(e.features.actions&&e.features.actions.addToWatchlist&&(0,y.d)(t,e.features.actions.addToWatchlist))},showAddToPicks:function({server:e,provider:t,stableUser:n,metadataItem:i}){return!!(n.features[d.Ah]&&t.features.actions&&t.features.actions.pick)},showAddToPlaylist:C,showAddToSaved:function({server:e,provider:t,stableUser:n,metadataItem:i}){if(!t)return!1;const s=t.features.actions.save;return!(!s||!(0,y.d)(n,s))&&null!=i.saved},showAddToLibrary:function({server:e,provider:t,stableUser:n,metadataItem:i}){if(!t)return;const s=i.type===h.TRACK||i.type===h.ALBUM||i.type===h.ARTIST,r=c.wB(t.identifier,c.xF),a=!!n.features[d.Ao],o=(0,y.d)(n,{requires:u.s});return s&&r&&a&&o},showFavorite:w,showUnfavorite:T,showMarkPlayed:Z,showMarkUnplayed:N,showSettings:function({server:e,provider:t,stableUser:n,metadataItem:i}){const{preferences:s}=i;return!t.features.manage&&null!=s},showEdit:A,showModifySmartPlaylist:function({server:e,provider:t,stableUser:n,metadataItem:i}){return!!A({server:e,provider:t,stableUser:n,metadataItem:i})&&!!i.smart},showRefresh:x,showAnalyze:L,showFixMatch:O,showMatch:function({server:e,provider:t,stableUser:n,metadataItem:i}){return!!A({server:e,provider:t,stableUser:n,metadataItem:i})&&(!!i.guid&&!O({server:e,provider:t,stableUser:n,metadataItem:i}))},showUnmatch:function({server:e,provider:t,stableUser:n,metadataItem:i}){return O({server:e,provider:t,stableUser:n,metadataItem:i})},showSplitApart:function({server:e,provider:t,stableUser:n,metadataItem:i}){if(!A({server:e,provider:t,stableUser:n,metadataItem:i}))return!1;let r;return r=h.isParentType(i.type)?i.Location:s().filter(i.Media,(e=>!e.proxyType)),r.length>1},showSync:j,showSyncDownload:function({server:e,provider:t,stableUser:n,metadataItem:i}){if(!a.Z.allowSyncDownload)return!1;if(!t)return!1;if(!c.QN.includes(t.identifier))return!1;if(i.isPlaylist&&i.playlistType===g.pV)return!1;if(i.isDownloaded&&!i.downloadSubscriptionID)return!1;if(!i.hasOwnProperty("guid"))return!1;if(i.remoteMedia)return!1;const s=t.features[o.kD],r=(null==s?void 0:s.flavor)===l.HN&&!!n.features[d.PL];return t.isLibraryProvider?e.allowSync&&r:r},showOptimize:k,showDownload:function({server:e,provider:t,stableUser:n,metadataItem:i}){return!!a.Z.allowDirectDownload&&(!!t.protocols.download&&!i.isExtra&&!i.remoteMedia)},showShare:function({server:e,provider:t,stableUser:n,metadataItem:i}){return e.isFullOwnedServer&&t.isLibraryProvider&&!i.isExtra&&!i.remoteMedia},showDelete:R,showDeleteVersion:function({server:e,provider:t,stableUser:n,metadataItem:i}){return!!A({server:e,provider:t,stableUser:n,metadataItem:i})&&(!!e.allowMediaDeletion&&s().filter(i.Media,(e=>!!e.proxyType)).length>0)},showViewPlayHistory:function({server:e,provider:t,stableUser:n,metadataItem:i}){return e.isFullOwnedServer&&!(0,v.Z)(e)},showWatchTogether:function({server:e,provider:t,stableUser:n,metadataItem:i}){const s=!!n.features[d.Bs],r=c.wB(t.identifier,[c.Y3,c.uk]),a=i.isExtra;return s&&r&&!a},showGetInfo:function({server:e,provider:t,stableUser:n,metadataItem:i}){return!!t&&t.isLibraryProvider&&!i.isExtra&&!i.indirect},showSelect:z},b={[h.MOVIE]:["showPlay","showPlayVersion","showQueue","showPlayTrailer","showAddToWatchlist","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showDownload","showShare","showDelete","showDeleteVersion","showViewPlayHistory","showWatchTogether","showGetInfo","showSelect"],[h.SHOW]:["showPlay","showPlayAll","showShuffle","showQueue","showPlayTrailer","showAddToPicks","showAddToWatchlist","showAddToPlaylist","showAddToSaved","showMarkPlayed","showMarkUnplayed","showEdit","showSettings","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showShare","showDelete","showViewPlayHistory","showSelect"],[h.SEASON]:["showPlay","showPlayAll","showShuffle","showQueue","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showAnalyze","showSync","showSyncDownload","showOptimize","showShare","showDelete","showViewPlayHistory","showSelect"],[h.EPISODE]:["showPlay","showPlayVersion","showQueue","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showSync","showSyncDownload","showOptimize","showDownload","showShare","showDelete","showDeleteVersion","showViewPlayHistory","showWatchTogether","showGetInfo","showSelect"],[h.ARTIST]:["showPlay","showShuffle","showPlayRadio","showPlayArtistTV","showQueue","showAddToPlaylist","showAddToSaved","showAddToLibrary","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showShare","showDelete","showViewPlayHistory","showSelect"],[h.ALBUM]:["showPlay","showShuffle","showQueue","showAddToPicks","showAddToPlaylist","showAddToSaved","showAddToLibrary","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showShare","showDelete","showViewPlayHistory","showSelect"],[h.TRACK]:["showPlay","showQueue","showPlayPlexMix","showQueuePlexMix","showPlayMusicVideo","showAddToPlaylist","showAddToSaved","showAddToLibrary","showMarkPlayed","showMarkUnplayed","showEdit","showAnalyze","showSync","showSyncDownload","showDownload","showShare","showDelete","showViewPlayHistory","showGetInfo","showSelect"],[h.PHOTO_ALBUM]:["showPlay","showShuffle","showAddToPlaylist","showEdit","showAnalyze","showSync","showShare","showSelect"],[h.PHOTO]:["showPlay","showAddToPlaylist","showFavorite","showUnfavorite","showEdit","showAnalyze","showSync","showDownload","showShare","showDelete","showGetInfo","showSelect"],[h.CLIP]:["showPlay","showPlayVersion","showQueue","showPlayTrailer","showAddToPlaylist","showAddToSaved","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showDownload","showShare","showDelete","showDeleteVersion","showViewPlayHistory","showWatchTogether","showGetInfo","showSelect"],[h.PLAYLIST]:["showDelete","showEdit","showPlay","showQueue","showShuffle","showAddToSaved","showSync","showSyncDownload","showShare","showSelect","showEdit","showModifySmartPlaylist"],[h.COLLECTION]:["showPlay","showQueue","showShuffle","showAddToPlaylist","showEdit","showSync","showDelete"],[h.GAME]:["showPlay","showPlayVersion","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showDelete","showDeleteVersion","showGetInfo","showSelect"]};function M({server:e,provider:t,stableUser:n,metadataItem:i}){return(0,f.Z)(e,t,n.features,i)}function S({server:e,provider:t,stableUser:n,metadataItem:i}){const s=M({server:e,provider:t,stableUser:n,metadataItem:i}),r=i.isExtra&&i.isPremium;return s&&!!t.features.playqueue&&!r}function E({server:e,provider:t,stableUser:n,metadataItem:i}){return!!i.primaryExtraKey}function D({server:e,provider:t,stableUser:n,metadataItem:i}){return!(!i.related||!i.related.find((e=>/similarPlaylist/.test(e))))}function C({server:e,provider:t,stableUser:n,metadataItem:i}){if(!t)return!1;const s=t.features.playlist;return!(!s||!(0,y.d)(n,s))&&!(i.isExtra&&i.isPremium||(0,v.Z)(e))}function P({provider:e,stableUser:t,metadataItem:n}){return!(!e.features.actions.rate||h.isDirectoryType(n.type)||n.isFolder)}function w({server:e,provider:t,stableUser:n,metadataItem:i}){return P({provider:t,stableUser:n,metadataItem:i})&&!(0,p.ZP)(i)}function T({server:e,provider:t,stableUser:n,metadataItem:i}){return P({provider:t,stableUser:n,metadataItem:i})&&(0,p.ZP)(i)}function Z({server:e,provider:t,stableUser:n,metadataItem:i}){return!(!(t&&t.features.actions&&t.features.actions.scrobble&&t.features.actions.scrobble.key)||t.protocols.livetv||i.type===h.TRACK&&i.subtype!==m.PODCAST||null!=i.saved&&!i.saved&&!i.viewOffset||i.isExtra)&&(h.isParentType(i.type)?i.unviewedLeafCount>0:!i.viewCount||!!i.viewOffset)}function N({server:e,provider:t,stableUser:n,metadataItem:i}){return!(!(t&&t.features.actions&&t.features.actions.scrobble&&t.features.actions.scrobble.reverseKey)||t.protocols.livetv||i.type===h.TRACK&&i.subtype!==m.PODCAST||null!=i.saved&&!i.saved||i.isExtra)&&(h.isParentType(i.type)?i.viewedLeafCount>0:!!i.viewCount||!!i.viewOffset)}function A({server:e,provider:t,stableUser:n,metadataItem:i}){const{isLibraryItem:s,isPlaylist:r,isExtra:a,isFolder:o,radio:l,readOnly:c}=i,d=s&&!a&&!o&&!l;return r?!c:!!(t&&t.features.manage&&d)}function x({server:e,provider:t,stableUser:n,metadataItem:i}){return A({server:e,provider:t,stableUser:n,metadataItem:i})}function L({server:e,provider:t,stableUser:n,metadataItem:i}){return!i.indirect&&!i.remoteMedia&&A({server:e,provider:t,stableUser:n,metadataItem:i})}function O({server:e,provider:t,stableUser:n,metadataItem:i}){return!!A({server:e,provider:t,stableUser:n,metadataItem:i})&&!(!i.guid||/(local|none):\/\//.test(i.guid))}function j({server:e,provider:t,stableUser:n,metadataItem:i}){if(!a.Z.allowSync)return!1;if(!e.isFullServer)return!1;if(n.features[d.PL])return!1;const{allowSync:s,isExtra:r,isLibraryItem:o,isPlaylist:l,remoteMedia:c}=i;return!(r||c||!o&&!l||!e.allowSync||!s)}function k({server:e,provider:t,stableUser:n,metadataItem:i}){return!!A({server:e,provider:t,stableUser:n,metadataItem:i})&&!(!e.transcoderVideo||!e.backgroundProcessing)}function R({server:e,provider:t,stableUser:n,metadataItem:i}){return!!A({server:e,provider:t,stableUser:n,metadataItem:i})&&!!(i.isPlaylist||i.type===h.COLLECTION||i.remoteMedia||e.allowMediaDeletion)}function z({server:e,provider:t,stableUser:n,metadataItem:i}){return!i.radio&&t.isLibraryProvider&&!i.isFolder}function U({server:e,provider:t,stableUser:n,metadataItem:i}){const{type:a}=i,o=b[a];return o?o.reduce(((o,l)=>{const c=I[l];return(0,r.Z)(s().isFunction(c),`getMetadataActionProps: Invalid action, ${l}, for ${a}`),o[l]=!!(e&&t&&i)&&c({server:e,provider:t,stableUser:n,metadataItem:i}),o}),{}):{}}},60208:(e,t,n)=>{"use strict";n.d(t,{G:()=>c,Z:()=>d});var i=n(61478),s=n(69881),r=n(9220),a=n(80126);function o(e){return e.thumb||e.parentThumb||e.grandparentThumb}function l(e){return e.art||e.parentArt||e.grandparentArt}function c(e,t,n,a){if(a)switch(a){case r.sD:switch(t){case i.PODCAST:switch(e){case s.TRACK:return n.thumb||n.grandparentThumb}}switch(e){case s.SEASON:case s.EPISODE:case s.ALBUM:case s.TRACK:return n.thumb}break;case r.wl:case r.RK:case r.Bs:switch(e){case s.MOVIE:return l(n);case s.EPISODE:return l(n)||n.thumb}break;case r.r$:switch(e){case s.MOVIE:return l(n);case s.EPISODE:return n.thumb||l(n)}break;case r.F5:case r.zg:case r.jF:case r.Ap:switch(e){case s.EPISODE:return n.thumb}}switch(t){case i.PODCAST:switch(e){case s.SHOW:return n.thumb;case s.TRACK:return n.grandparentThumb||n.thumb}break;case i.WEBSHOW:switch(e){case s.EPISODE:return n.thumb}}switch(e){case s.MOVIE:case s.SHOW:return n.thumb;case s.SEASON:return o(n);case s.EPISODE:return n.grandparentThumb;case s.ARTIST:return n.thumb;case s.ALBUM:case s.TRACK:return o(n);case s.PHOTO:case s.PHOTO_ALBUM:case s.CLIP:return n.thumb;case s.PLAYLIST:return n.thumb||n.composite;default:return n.thumb}}function d(e,t,n,i,s,r){const o=null==e?(0,a.dz)(t,n,i,r):e,l=null==t?(0,a.Cr)(e,n,i,r):t;return{url:c(n,i,s,r),width:o,height:l}}},28889:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return!(!e||!e.isDownloaded)}},73588:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return!(!e||!e.downloadSubscriptionID)}},80126:(e,t,n)=>{"use strict";n.d(t,{s4:()=>r,Zp:()=>a,oz:()=>o,n3:()=>l,dz:()=>c,Cr:()=>d});var i=n(61478),s=n(9220);const r=1/1.5,a=1,o=16/9;function l(e,t,n){if(n)switch(n){case s.H1:switch(e){case"genre":case"channel":return a}break;case s.sD:case s.IN:switch(e){case"episode":return o}break;case s.wl:case s.RK:case s.Bs:return o;case s.r$:switch(e){case"movie":case"episode":case"game":return o}break;case s.F5:case s.zg:case s.jF:case s.Ap:switch(e){case"episode":return o}break;case s.Uz:switch(e){case"clip":return a}break;case s.lD:case s.UC:switch(e){case"clip":return r}}switch(t){case i.PODCAST:case i.WEBSHOW:switch(e){case"show":return a;case"episode":return o}}switch(e){case"channels":return a;case"movie":case"show":case"season":case"episode":return r;case"artist":case"album":case"track":case"photo":case"photoalbum":return a;case"clip":return o;case"collection":return r;case"extra":case"musicVideo":return o;case"mixed":return r;case"platform":case"directory":case"genre":return o;case"content":case"channel":case"hub":case"list":return a;case"game":return.75;default:return a}}function c(e,t,n,i){const s=l(t,n,i);return Math.round(e*s)}function d(e,t,n,i){const s=l(t,n,i);return Math.round(e/s)}},27154:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=Object.assign;function s(e,t,n){return i(i(i({},e),n),t)}},12159:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(69881),s=n(75157),r=n(13550),a=n(7118);function o(e,t,n){let o=`metadataItemID=${t.ratingKey}`;return n&&(o+=`&viewedAt=${(0,s.xP)(n)}`),(0,a.Z)(e,{filters:o,filterTitle:(0,r.Z)(t),activeTimePeriod:n,isParentType:(0,i.isParentType)(t.type)})}},7118:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(47909);function s(e,t){return i.Z.join(`#!/server/${encodeURIComponent(e)}/playHistory`,t)}},6638:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(47909),s=n(91135);function r(e,t,n,r={},a){if(!e||!t||!n)return;const o=function(e,t){const n=encodeURIComponent(e.machineIdentifier),i=encodeURIComponent(t.identifier),s=`/server/${n}`;return t.isLibraryProvider?s:`${e.isCloud?"":s}/provider/${i}`}(e,t),l=encodeURIComponent(n),c={[s.pV]:"album",[s.pX]:"playlist",[s.j0]:"playlist"},d=`#!${o}/${a?c[a]:"details"}?key=${l}`;return i.Z.join(d,r)}},60363:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(61478),s=n(69881),r=n(87385),a=n(6638);function o(e,t,n={},o,l){const c=n.type,d=n.subtype,u=n.playlistType;let p=n.key;if(!n.skipDetails&&c!==s.PHOTO)return c===s.TRACK&&d!==i.PODCAST&&(p=n.skipParent?n.grandparentKey:n.parentKey),!p&&n.librarySectionID?(0,r.Z)(e,t,l,o):(0,a.Z)(e,t,p,o,u)}},18039:(e,t,n)=>{"use strict";function i(e,t,n){return`#!/settings/server/${encodeURIComponent(e)}/${t}/${n}`}n.d(t,{Z:()=>i})},58368:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(13469),s=n.n(i);const r=function(e,t){const n=s().groupBy(e,(e=>e.advanced||t&&t.has(e.id)?"advanced":"basic"));return n.basic=s().indexBy(n.basic,"id"),n}},62899:(e,t,n)=>{"use strict";function i(e){return`${e}×`}n.d(t,{H:()=>i})},89267:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(10598);const s=Object.assign({},i.Z,{starSpeed:"0.3s",starPulseScale:1.35,starPulseSpeed:"0.15s",starPulseTimingFunction:"cubic-bezier(0.075, 0.82, 0.165, 1)",posterFlipSpeed:"0.8s",overlaySpeed:"0.3s",chartOpacitySpeed:"0.3s"})},90701:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(75500);const s="#e5a00d",r="#fafafa",a="#a0aab1",o="#1f2326",l="#343a3f",c=Object.assign({},i.Z,{v4AccentLight:s,v4AltLight:r,v4AltMedium:a,v4AltMediumDark:"#737e87",v4AltMediumLight:"#d6dcdf",v4BaseDark:o,v4BaseLight:"#444f56",v4BaseMedium:"#2a3136",v4BaseMediumLight:l,v4DefaultColor:r,v4DividerColor:o,primaryButtonColor:o,dragPreviewBackgroundColor:"rgba(76, 76, 76, 0.7)",dragPreviewOpacity:"0.9",dragPreviewLowOpacity:"0.35",dropLocationColor:"#f9be03",sliderTrackBackgroundColor:"rgba(255, 255, 255, 0.2)",sliderThumbBackgroundColor:"#ddd",sliderThumbHoverBackgroundColor:"#fff",rowOddBackgroundColor:"rgba(255, 255, 255, 0.03)",rowEvenBackgroundColor:"#292929",avatarBackgroundColor:"#999",detailsShadowColor:"#000",playerBackgroundColor:"#232426",playerTopControlsBackgroundColor:"rgba(35, 36, 38, 0.45)",playerBottomControlsBackgroundColor:"rgba(35, 36, 38, 0.8)",playerPrimaryButtonBackgroundColor:"rgba(0, 0, 0, 0.45)",miniPlayerBackgroundColor:i.Z.blackDarkerTranslucentBackgroundColor,playerSecondaryOverlayColor:"rgba(0, 0, 0, 0.4)",playerPosterActionColor:i.Z.blackDarkTranslucentBackgroundColor,playerPanelColor:"rgba(0, 0, 0, 0.6)",playerDisabledLinkColor:"rgba(255, 255, 255, 0.15)",playerShadowColor:"rgba(0, 0, 0, 0.45)",seekBarTrackColor:"rgba(0, 0, 0, 0.75)",seekBarTrackColorHover:"rgba(255, 255, 255, 0.15)",seekBarFillColor:"#cc7b19",seekBarBufferColor:"rgba(204, 123, 25, 0.3)",seekBarThumbnailShadowColor:"rgba(0, 0, 0, 0.45)",seekBarTooltipBackgroundColor:"#000",seekBarTooltipShadowColor:"rgba(0, 0, 0, 0.5)",thumbnailBackgroundColor:"rgba(0, 0, 0, 0.45)",adSeekBarFillColor:"#f9be03",equalizerBarColor:"#f9be03",htmlMediaElementBackgroundColor:"#000",toastBackgroundColor:"rgba(1, 1, 1, 0.50)",posterBackgroundColor:"rgba(0, 0, 0, 0.45)",posterHoverBackgroundColor:"radial-gradient(farthest-corner at 50% 50%, rgba(50, 50, 50, 0.5) 50%, rgb(50, 50, 50) 100%)",posterSelectedBackgroundColor:"rgba(30, 30, 30, 0.5)",posterBlendedSelectedBackgroundColor:"rgba(19, 19, 19, 0.78);",posterPlaceholderIconColor:"rgba(255, 255, 255, 0.15)",posterCenterCircleBackgroundColor:"rgba(0, 0, 0, 0.45)",posterBadgeShadowColor:"rgba(0, 0, 0, 0.6)",posterProgressTrackBackgroundColor:"rgba(0, 0, 0, 0.75)",posterVersionBadgeColor:"#556688",posterSmartBadgeColor:"rgb(142, 97, 145)",posterFavoriteBadgeColor:"rgb(229, 172, 182)",v4CardBackgroundColor:"rgba(0, 0, 0, 0.45)",v4CardShimmerBackgroundColor:"rgba(0, 0, 0, 0.3)",v4CardShadowColor:"rgba(0, 0, 0, 0.3)",v4CardHoverBackgroundColor:"rgba(30, 30, 30, 0.6)",v4CardHoverBorderColor:s,recordColor:"#f53",recordHoverColor:"lighten(#f53, 0.1)",recordBackgroundColor:"#b32",recordActiveBackgroundColor:"darken(#b32, 0.1)",dayOfWeekBackgroundColor:"rgba(255, 255, 255, 0.1)",dayOfWeekColor:"rgba(255, 255, 255, 0.75)",todayBackgroundColor:"rgba(255, 255, 255, 0.3)",todayColor:"rgba(255, 255, 255, 0.1)",calendarEventSuccessBackgroundColor:"rgba(0, 102, 153, 0.15)",calendarEventSuccessAlternateBackgroundColor:"rgba(31, 120, 165, 0.17)",calendarEventSuccessHoverBackgroundColor:"rgba(76, 148, 183, 0.20)",calendarEventErrorBackgroundColor:"rgba(187, 51, 34, 0.3)",calendarEventErrorAlternateBackgroundColor:"rgba(191, 64, 48, 0.31)",calendarEventErrorHoverBackgroundColor:"rgba(199, 87, 73, 0.34)",recordingIconColor:"#ff5533",playColor:"rgba(255, 255, 255, 0.75)",channelGridTimelineLabelColor:a,channelGridSelectedItemDetailsBackgroundColor:"rgba(0, 0, 0, 0.2)",channelGridBorderColor:l,channelGridHoverColor:"rgba(255, 255, 255, 0.2)",channelGridBackgroundColor:"rgba(160, 170, 177, 0.1)",channelGridOnAirBackgroundColor:"rgba(160, 170, 177, 0.1)",channelGridFinishedAiringBackgroundColor:"rgba(160, 170, 177, 0.3)",channelGridProgressColor:"rgba(160, 170, 177, 0.1)",channelGridMissingItemBackgroundColor:"rgba(0, 0, 0, 0)",channelGridChannelThumbBackgroundColor:"rgba(42, 49, 54, 0.5)",channelGridRecentChannelThumbBackgroundColor:"rgba(255, 255, 255, 0.05)",channelGridChannelIdentifierBackroundColor:"rgba(42, 49, 54, 0.5)",channelGridNewBadgeColor:"rgba(84, 84, 84)",filterBuilderInputBackgroundColor:"rgba(0, 0, 0, 0.6)",altFilterBuilderInputBackgroundColor:i.Z.blackDarkerTranslucentBackgroundColor,dvrBackgroundColor:i.Z.blackDarkTranslucentBackgroundColor,prePlayUnavailableButtonBackgroundColor:"rgba(255, 84, 50, 0.6)",prePlayPartialButtonBackgroundColor:"rgba(204, 123, 25, 0.6)",searchInputBackgroundColor:"rgba(255, 255, 255, 0.08)",preferredServerButtonBackgroundColor:"rgba(0, 0, 0, 0.45)",sortableHomeHubsContainerBackgroundColor:"rgba(255, 255, 255, 0.03)",sortableHomeHubsRowBackgroundColor:"rgba(255, 255, 255, 0.02)",chartTranslucentOpacity:"0.25",serverDashboardTileRowBackgroundPrimaryColor:"rgba(229, 160, 13, 0.2)",serverDashboardTileRowBackgroundSecondaryColor:"rgba(229, 160, 13, 0.15)",serverDashboardTileRowBackgroundTertiaryColor:"rgba(229, 160, 13, 0.1)",serverDashboardTileRowBackgroundQuaternaryColor:"rgba(229, 160, 13, 0.05)",sessionStopBackgroundColor:"#701f29",sessionStopIconColor:"rgba(255, 255, 255, 0.5)",sourceSidebarSelectedColor:"rgba(255, 255, 255, 0.07)"})},7796:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(86538);const s=Object.assign({},i.Z,{sliderTrackSize:"60px",sliderThumbSize:"12px",serverMenuItemHeight:"60px",sourceMenuItemHeight:"65px",sourceMenuItemGutter:"25px",posterCenterCircleSize:"42px",posterBadgeHeight:"24px",posterHoverSlideDistance:"10px",posterIconPadding:"20px",posterProgressHeight:"4px",v4CardBorderRadius:"4px",v4CardShadowSize:"4px",v4CardTitleGap:"10px",v4CardTitleHeight:"20px",v4CardCircleSize:"42px",listButtonHeight:"40px",hubCellHeaderBottomPadding:"5px",hubCellHeaderTopPadding:"25px",v4ListSpacing:"40px",v4SpotlightHeight:"350px",pagePadding:"60px",v4PagePadding:"50px",v4PagePaddingAlt:"25px",pageHeaderRowHeight:"50px",pageHeaderLeftMargin:"40px",pageHeaderTabButtonLeftRightMargin:"5px",recordingPriorityPaneWidth:"360px",recordingPriorityPaneBorderWidth:"4px",recordingPriorityDragHandleWidth:"62px",channelGridRowHeight:"60px",channelGridTitleColumnWidth:"130px",channelGridChannelColumnWidth:"250px",channelGridChannelOverflowWidth:"100px",channelGridChannelIconWidth:"80px",channelGridBorderSize:"1.5px",jumpBarCharacterHeight:"25px",jumpBarCharacterPadding:"10px",jumpBarGutter:"30px",jumpBarMargin:"10px",playCellWidth:"42px",actionsCellWidth:"82px",actionsCellPadding:"10px",summaryCellHeight:"136px",simpleSummaryCellHeight:"90px",summaryCellPadding:"20px",trackCellHeight:"60px",trackCellPadding:"10px",mosaicCellPadding:"5px",timelineGutter:"60px",prePlaySummaryMaxWidth:"750px",prePlayPosterMinWidth:"150px",prePlayPosterMaxWidth:"230px",prePlayPosterWidthRatio:"0.15",prePlayContentPadding:"20px",prePlayRatingBase:"1em",v4PrePlayListTitleGap:"20px",v4PrePlayDividerHeight:"2px",postPlayPosterWidth:"260px",postPlayTitleHeight:"40px",postPlayAutoPlayHeight:"55px",dvrSetupImageWidth:"193px",dvrSetupChannelMappingItemHeight:"40px",dvrSetupSpinnerSize:"100px",playerControlsHeight:"100px",playerControlsMinWidth:"640px",playerControlsNarrowHeight:"140px",playerControlsNarrowBreakpoint:"960px",playerControlsPosterHeight:"80px",playerControlsPosterLeftGutter:"8px",playerControlsPosterBottomGutter:"8px",playerControlsNarrowPosterBottomGutter:"48px",playerControlsContentSpacing:"20px",playerControlsSquarePosterWidth:"80px",playerControlsLandscapePosterWidth:`${Math.round(16/9*80)}px`,playerInfoBarHeight:"45px",playerTopControlsHeight:"60px",playerSideControlsWidth:"100px",playerOverlayActionEdgeGutter:"20px",playerIconButtonSize:"30px",playerIconButtonSpacing:"5px",playerVolumeSliderWidth:"32px",playerVolumeSliderHeight:"60px",seekBarHeight:"4px",seekBarTooltipMarginBottom:"4px",seekBarTooltipHeight:"23px",seekBarTooltipSmallWidth:"60px",seekBarTooltipLargeWidth:"90px",playQueueItemHeight:"68px",playQueueMoveButtonWidth:"54px",playQueueSidePadding:"60px",lyricsLineHeight:"30px",lyricsLineWidth:"640px",playerMediaOverlayInnerMargin:"1vw",playerMediaOverlayOuterMargin:"2vw",playlistItemCardWidth:"64px",playlistBadgeSize:"30px",navigationIconSize:"20px",sourceSidebarIconSize:"18px",sourceSidebarWidth:"60px",sourceSidebarExpandedWidth:"260px",sourceSidebarLeftGutter:"20px",sourceSidebarItemHeight:"50px",sourceSidebarLinkHoverStatusbarAllowance:"20px",sourceSidebarServerHeaderIconSize:"24px",homeServerListItemHeight:"40px",serverSelectMenuWidth:"260px",heroBadgeHeight:"90px",heroPageMinHeight:"600px",serverShareListRowHeight:"40px",lineupSettingChannelHeight:"40px",spotlightHubCellHeight:"324px",spotlightHubCellGap:"25px",watchTogetherLobbyPosterWidth:"260px",watchTogetherLobbyTitleHeight:"40px",downloadCellHeight:"120px"})},44799:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={allowFlash:!0,allowHttpsMediaServerConnections:!0,allowMediaServerRelayConnections:!0,allowMultipleWebSocketConnections:!0,shouldCreateFlexModels:!0,shouldCreateStateTree:!0,shouldRequestHTMLFromCloudProvider:!0,allowCloudPubSub:!0,allowLoopbackDiscovery:"http:"===window.location.protocol,allowSSO:!1,bufferingDetectionLimit:500,allowSyncSettings:!0,allowSync:!0,allowDirectDownload:!0,allowSyncDownload:!1}},15472:(e,t,n)=>{"use strict";var i={};n.r(i),n.d(i,{CLEAR_MOVE_ERROR:()=>VA,CLEAR_RECORDING_SCHEDULE_PAGE:()=>AA,FETCH_CALENDAR:()=>zA,FETCH_MEDIA_SUBSCRIPTIONS:()=>xA,GO_TO_NEXT_RANGE:()=>RA,GO_TO_PREVIOUS_RANGE:()=>kA,GO_TO_TODAY:()=>jA,INIT_RECORDING_SCHEDULE_PAGE:()=>NA,MOVE_MEDIA_SUBSCRIPTION:()=>LA,PLAY_RECORDING:()=>UA,SET_VISIBLE_DAYS:()=>OA,clearMoveError:()=>$A,clearRecordingSchedulePage:()=>FA,fetchCalendar:()=>KA,fetchMediaSubscriptions:()=>HA,goToNextRange:()=>WA,goToPreviousRange:()=>YA,goToToday:()=>GA,initRecordingSchedulePage:()=>BA,moveMediaSubscription:()=>_A,playRecording:()=>qA,recordingSchedulePageActionHandlers:()=>tx,setVisibleDays:()=>QA});var s={};n.r(s),n.d(s,{EPG_EPISODE:()=>Ck,MOSAIC:()=>Mk,POSTER:()=>bk,SHARED_ITEMS:()=>Pk,SIMPLE_SUMMARY:()=>Ek,SUMMARY:()=>Dk,TABLE:()=>Sk,default:()=>Nk,showListStyles:()=>wk,showListStylesMenu:()=>Zk,showListStylesSlider:()=>Tk});var r={};n.r(r),n.d(r,{BACKGROUND_TRANSCODE_JOBS:()=>Xre,FRIEND:()=>Vt.vO,HOME_USER:()=>Vt.Tl,HUB:()=>Vt.km,LIBRARY:()=>Vt.Y3,LIVE_TV_SESSION:()=>Vt.RP,MEDIA_SUBSCRIPTION:()=>Vt.PK,METADATA_ITEM:()=>Vt.TY,METADATA_LIST:()=>Vt.$4,PLAYLIST_ITEM:()=>Vt.gO,PLAY_QUEUE_ITEM:()=>Vt.PI,PROVIDER:()=>Vt.MC,RESOURCE:()=>Vt.YI,SEARCH_RESULT:()=>Vt.Re,SERVER:()=>Vt.cN,SYNC_METADATA_ITEM:()=>eae,TRANSCODE_JOBS:()=>Vt.PC,USER:()=>Vt.xR,WATCH_TOGETHER_ROOM:()=>Vt.r8});var a={};n.r(a),n.d(a,{fetchEPGCountries:()=>Cce,fetchEPGLanguages:()=>Pce,fetchEPGLineups:()=>Ace,resetEPGSettings:()=>Dce,selectEPGCountry:()=>wce,selectEPGLanguage:()=>Tce,selectEPGRegion:()=>Zce,setEPGPostalCode:()=>Nce});var o={};n.r(o),n.d(o,{AVAILABLE:()=>Yme,DONE:()=>Wme,DOWNLOADED:()=>Kme,DOWNLOADING:()=>qme,ERROR:()=>$me,INSTALLING:()=>Jme,NONE:()=>Xme,NOTIFY:()=>ehe});var l={};n.r(l),n.d(l,{AUTO:()=>swe,CHANNELS_2_0:()=>rwe,CHANNELS_2_1:()=>awe,CHANNELS_3_1:()=>owe,CHANNELS_5_1:()=>lwe,CHANNELS_7_1:()=>cwe});var c={};n.r(c),n.d(c,{AC3:()=>dwe,DTS:()=>uwe,DTS_HD:()=>pwe,EAC3:()=>mwe,TRUEHD:()=>hwe});var d={};n.r(d),n.d(d,{CLEAR_LIBRARY_PAGE_ERRORS:()=>_xe,DESELECT_LIBRARY_FILTER:()=>eLe,DESELECT_LIBRARY_TABLE_COLUMN:()=>rLe,FETCH_LIBRARY_DETAILS:()=>Yxe,FETCH_LIBRARY_FILTER_OPTIONS:()=>tLe,FETCH_LIBRARY_FIRST_CHARACTERS:()=>Kxe,FETCH_QUERY_PARSE:()=>$xe,INIT_LIBRARY_PAGE:()=>Hxe,INIT_LIBRARY_PAGE_METADATA_LIST:()=>Qxe,INIT_LIBRARY_PAGE_SUPPORTING_LISTS:()=>Gxe,NAVIGATE_PLAYLIST:()=>oLe,POPULATE_LIBRARY_DETAILS:()=>Wxe,POPULATE_LIBRARY_FILTER_OPTIONS:()=>nLe,POPULATE_LIBRARY_FIRST_CHARACTERS:()=>qxe,POPULATE_QUERY_PARSE:()=>Jxe,SEARCH_LIBRARY_FILTER_OPTIONS:()=>iLe,SELECT_LIBRARY_FILTER:()=>Xxe,SELECT_LIBRARY_TABLE_COLUMN:()=>sLe,UPDATE_SMART_PLAYLIST:()=>aLe,clearLibraryPageErrors:()=>cLe,deselectLibraryFilter:()=>ILe,deselectLibraryTableColumn:()=>DLe,fetchLibraryDetails:()=>pLe,fetchLibraryFilterOptions:()=>bLe,fetchLibraryFirstCharacters:()=>hLe,fetchQueryParse:()=>yLe,initLibraryPage:()=>lLe,initLibraryPageMetadataList:()=>dLe,initLibraryPageSupportingLists:()=>uLe,libraryPageActionHandlers:()=>TLe,navigatePlaylist:()=>PLe,populateLibraryDetails:()=>mLe,populateLibraryFilterOptions:()=>MLe,populateLibraryFirstCharacters:()=>gLe,populateQueryParse:()=>vLe,searchLibraryFilterOptions:()=>SLe,selectLibraryFilter:()=>fLe,selectLibraryTableColumn:()=>ELe,updateSmartPlaylist:()=>CLe});var u={};n.r(u),n.d(u,{CENTER:()=>iYe,EAST:()=>$Ge,NORTH:()=>KGe,NORTHEAST:()=>qGe,NORTHWEST:()=>nYe,SOUTH:()=>XGe,SOUTHEAST:()=>JGe,SOUTHWEST:()=>eYe,WEST:()=>tYe});var p={};n.r(p),n.d(p,{abortServerConnectionTest:()=>B5e,analyzeItems:()=>Q5e,analyzeSection:()=>G5e,authenticateWithHash:()=>$6e,authenticateWithServer:()=>q6e,autoMatch:()=>p6e,changeArtwork:()=>h6e,cleanBundles:()=>c6e,connectServer:()=>A6e,deleteAllVersionGenerators:()=>T6e,deleteFile:()=>v6e,deleteItem:()=>E6e,deleteItems:()=>$5e,deleteMediaItem:()=>n6e,deletePlaylist:()=>a6e,deleteSection:()=>s6e,deleteSectionThumbnails:()=>r6e,deleteSyncItem:()=>i9e,deleteVersionGenerator:()=>w6e,deleteVersions:()=>i6e,disableVersionGenerator:()=>C6e,emptyTrash:()=>d6e,enableVersionGenerator:()=>D6e,match:()=>u6e,merge:()=>K5e,optimize:()=>l6e,populateServerIdentity:()=>F5e,rate:()=>g6e,reconnectServer:()=>x6e,refreshMetadata:()=>_5e,refreshSyncLists:()=>s9e,remotePlaybackUnlock:()=>l9e,removeDevice:()=>r9e,removeServer:()=>j6e,reprocessVersionGenerator:()=>P6e,resetUser:()=>H6e,selectStream:()=>y6e,showSyncModal:()=>n9e,signInServer:()=>L6e,signOut:()=>o9e,splitApart:()=>W5e,switchUser:()=>Q6e,testServerConnection:()=>V5e,uninstallChannel:()=>N6e,unmatch:()=>Y5e,updateChannel:()=>Z6e,updateLibrary:()=>o6e}),n(3758),n(49810),n(99959),n(82107),n(36583),n(31110);var m=n(65652),h=n(19755),g=n.n(h),y=n(67294),v=n(73935),f=n(37703),I=n(5977),b=n(2262),M=n(93966),S=n(13469),E=n.n(S),D=n(69434),C=n(47909);const P={PUT:!0,DELETE:!0},w={Accept:!0,"Accept-Language":!0,"Content-Language":!0,"Content-Type":!0},T=/^(text\/plain|multipart\/form-data|application\/x-www-form-urlencoded)/,Z=/(^X-Plex-[^=]+)/i,N=/(^[^?]+)\?(.+$)/;function A(e){const{type:t,contentType:n,headers:i,allowHeadersInUrl:s,allowBlacklistedMethodHeaders:r}=e;if(!s)return;if(P[t]&&!r)return;const a={};let o=!1;if(E().each(i,((e,t)=>{w[t]||(Z.test(t)?(o=!0,a[t]=e,delete i[t]):D.Z.warn('Did not move header "%s" to query string. This can result in an unnecessary OPTIONS preflight request.',t))})),o){const n=e.url.match(N),[,i,s]=n||[null,e.url,null],r=s?s.split("&"):[],[o,l]=E().partition(r,(e=>Z.test(e))),c=e.data;"GET"===t&&c&&(l.push(E().isString(c)?c:C.Z.stringifyParams(c)),delete e.data),o.forEach((e=>{const t=e.match(Z);t&&delete a[t[1]]}));const d=C.Z.stringifyParams(a);d&&o.push(d),e.url=`${i}?${l.concat(o).join("&")}`}n&&!T.test(n)&&D.Z.warn('Sending %s request with Content-Type "%s". This can result in an unnecessary OPTIONS preflight request.',t,n)}var x=n(33295);function L(){return g().ajaxPrefilter(A),x.Z.startListening(),g().Deferred().resolve().promise()}var O=n(33646),j=n(45354),k=n(39666),R=n(20112),z=n(39670),U=Object.assign;const V=["X-Plex-Device","X-Plex-Model","X-Plex-Platform","X-Plex-Platform-Version","X-Plex-Product","X-Plex-Version"];var B=n(59632),F=n(76745),H=n(67038),_=n(85790);const Q=function(e){const{hostname:t,protocol:n}=e,i="file:"===n;let s;return"https:"===n?s="https":"http:"===n?s=_.lv(t)?"http-loopback":"http":i&&(s="file"),s},G=function(e){const[,t,n=""]=e.match(/(^[^#]+)(?:#(.*$))?/),[,i,s=""]=t.match(/(^[^?]+)(\?.*$)?/),[,r,a=""]=n.match(/(^[^?]*)(\?.*$)?/);return{base:i,searchParams:s,hashPath:r,hashParams:a}};var Y=Object.assign;const W=/^utm_/;function K(){const{searchParams:e,hashParams:t}=G(window.location.href),n=Y(Y({},(0,B.Z)(t)),(0,B.Z)(e));return Object.keys(n).reduce(((e,t)=>(W.test(t)&&(e[t.replace(W,"")]=n[t]),e)),{})}function q(e={}){const t=(0,M.DB)("metrics"),{context:n={}}=e;return t.set({deviceIdentifier:z.Z.prop("X-Plex-Client-Identifier"),context:Y(Y({},n),{campaign:K(),device:{product:z.Z.prop("X-Plex-Product"),version:z.Z.prop("X-Plex-Version"),platform:z.Z.prop("X-Plex-Platform"),platformVersion:z.Z.prop("X-Plex-Platform-Version"),device:z.Z.prop("X-Plex-Device"),model:z.Z.prop("X-Plex-Model"),screenResolution:z.Z.prop("X-Plex-Device-Screen-Resolution"),layout:"desktop",protocol:Q(window.location)}})}),(0,F.Z)(t.start())}function $(){return(0,D.Z)("[Sources] Initializing..."),(0,M.DB)("sourceManager").start(),(0,D.Z)("[Sources] Finished initialization"),g().Deferred().resolve().promise()}n(21356),n(88860),n(56150),n(76823),n(91477);var J=n(59756),X=n(7082),ee=n(29705),te=n(95565),ne=n(76154),ie=n(66127),se=n.n(ie);const re=m.Z.ItemView.extend({mixins:[ne.Z],className:"alert transition-in",template:se(),alertDuration:2e3,transitionDuration:500,events:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave","click .close-btn":"onCloseClick"},initialState:"transitionIn",states:{transitionIn:{nextState:"visible",onEnter:function(){this.$el.triggerReflow(),this.$el.removeClass("transition-in"),this.startTransition()}},visible:{nextState:"transitionOut",onEnter:function(){this.transitionOutTimeout=window.setTimeout(this.enterNextState,this.alertDuration)}},transitionOut:{onEnter:function(){this.$el.addClass("transition-out"),this.startTransition()}}},initialize:function(e){this.bindAllWhenRendered(["enterNextState"]),E().isString(e)&&(e={message:e}),this.type=e.type,this.message=e.message,this.type&&this.$el.addClass("has-"+this.type)},serializeData:function(){return{type:this.type,message:this.message}},startTransition:function(){window.setTimeout(this.enterNextState,this.transitionDuration)},onRender:function(){E().defer(this.enterNextState)},onStateMachineComplete:function(){this.close()},onMouseEnter:function(e){window.clearTimeout(this.transitionOutTimeout)},onMouseLeave:function(e){"visible"===this.currentState&&(window.clearTimeout(this.transitionOutTimeout),this.transitionOutTimeout=window.setTimeout(this.enterNextState,this.alertDuration/2))},onCloseClick:function(e){e.preventDefault(),"visible"===this.currentState&&(window.clearTimeout(this.transitionOutTimeout),this.enterNextState())}}),ae=X.Z.extend({mixins:[te.Z],initialize(){this.openAlerts={}},start(){this.listenTo(ee.Z,{"show:alert":this.showAlert})},showAlert:function(e){var t=e.message;if(!this.openAlerts[t]){var n=new re(e);this.openAlerts[t]=!0,this.listenToOnce(n,"close",(function(){delete this.openAlerts[t]})),g()("body").append(n.render().el)}}});function oe(){(new ae).start()}const le=X.Z.extend({mixins:[te.Z],initialize(){this.modals=[]},start(){this.listenTo(ee.Z,{"show:modal":this.showModal,"hide:modal":this.hideModal})},showModal(e){this.modals.push(e);var t=g()("body");e.transparent&&t.addClass("show-modal-transparent"),t.append(e.render().el)},hideModal(e){var t=E().indexOf(this.modals,e);t>-1&&this.modals.splice(t,1)[0].close(),e.transparent&&!E().findWhere(this.modals,{transparent:!0})&&g()("body").removeClass("show-modal-transparent")}});function ce(){(new le).start()}var de=n(22222);function ue(e){const{className:t,children:n}=e;return y.createElement("div",{className:t},n)}ue.defaultProps={className:"FullPage-container-3xAJRV"};const pe=ue;var me=n(95504),he=n(4524);const ge=(0,de.P1)(he.Z,(e=>e.cloudServer),((e,t)=>e[t]));var ye=n(59468);const ve=(0,de.P1)(ye.Z,(e=>e.autoHomeHubsEnabled));var fe=n(77726),Ie=n(55885),be=n(45399);const Me=(0,de.P1)((0,Ie.Z)(be.Pv),fe.Z,ve,((e,t,n)=>e&&t.v4DirectoryEnabled&&n));var Se=n(52837),Ee=n(74309),De=n(5562),Ce=n(39611),Pe=n(94184),we=n.n(Pe),Te=(n(8662),n(31298));const Ze={scroller:"Scroller-scroller-3Rbtv0",none:"Scroller-none-YejGTY",vertical:"Scroller-vertical-azmSz7",auto:"Scroller-auto-2UYR6N",horizontal:"Scroller-horizontal-2hHwLA",omni:"Scroller-omni-1V6HEa"};var Ne,Ae,xe=Object.assign;function Le({forwardedRef:e,className:t=Ze.scroller,style:n,children:i,scrollDirection:s=Ne.Vertical,autoScroll:r=!0,smoothScroll:a=!1,targetScrollTop:o,targetScrollLeft:l,onScrollPositionChange:c}){const d=(0,y.useRef)(null),u=(0,y.useCallback)((e=>{c&&null!=d.current&&d.current===e.target&&c({scrollTop:d.current.scrollTop,scrollLeft:d.current.scrollLeft})}),[d,c]);return(0,y.useEffect)((()=>{null==d.current||null==o&&null==l||d.current.scrollTo({top:o,left:l,behavior:a?"smooth":"auto"})}),[d,o,l,a]),y.createElement("div",{className:we()(t,Ze[s],r&&Ze.auto),style:n,ref:(0,Te.Z)(e,d),onScroll:u},i)}(Ae=Ne||(Ne={})).None="none",Ae.Vertical="vertical",Ae.Horizontal="horizontal",Ae.Omni="omni";const Oe=y.forwardRef(((e,t)=>y.createElement(Le,xe(xe({},e),{forwardedRef:t})))),je={emptyPageContentScroller:"EmptyPageContent-emptyPageContentScroller-1qvrpU PageContent-pageContentScroller-18TqCp Scroller-scroller-3Rbtv0",content:"EmptyPageContent-content-1dPJr8",icon:"EmptyPageContent-icon-cf6oKQ",imgIcon:"EmptyPageContent-imgIcon-17tzKS",title:"EmptyPageContent-title-2GQyX-",description:"EmptyPageContent-description-yBhqRI",footer:"EmptyPageContent-footer-2DFDwB"};var ke=Object.prototype.hasOwnProperty,Re=Object.getOwnPropertySymbols,ze=Object.prototype.propertyIsEnumerable,Ue=Object.assign;function Ve(e){var{children:t,className:n=je.emptyPageContentScroller,contentClassName:i=je.content,icon:s,titleClassName:r=je.title,iconSrc:a,title:o,descriptionClassName:l=je.description,description:c,footerClassName:d=je.footer,footer:u}=e,p=((e,t)=>{var n={};for(var i in e)ke.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Re)for(var i of Re(e))t.indexOf(i)<0&&ze.call(e,i)&&(n[i]=e[i]);return n})(e,["children","className","contentClassName","icon","titleClassName","iconSrc","title","descriptionClassName","description","footerClassName","footer"]);return y.createElement(Oe,Ue({className:n},p),y.createElement("div",{className:i},s?y.createElement("span",{className:je.icon},s):null,a?y.createElement("img",{className:je.imgIcon,src:a}):null,o?y.createElement("div",{className:r},o):null,c?y.createElement("div",{className:l},c):null,t),u?y.createElement("div",{className:d},u):null)}var Be=Object.assign;function Fe(e){return y.createElement(Ve,Be({icon:y.createElement(Ce.Z,null)},e))}function He({children:e}){return y.createElement(Fe,{title:(0,De.Z)("Something went wrong"),description:(0,De.Z)("An unexpected error occurred.")},e)}class _e extends y.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(e,t){super(e,t),this.state={hasError:!1}}componentDidCatch(e,t){D.Z.error(e);const n={extra:{componentStack:t.componentStack}};k.Tb(e,n)}render(){return this.state.hasError?y.createElement(He,null):y.createElement(y.Fragment,null,this.props.children)}}const Qe=_e;var Ge,Ye;(Ye=Ge||(Ge={})).Tiny="tiny",Ye.Small="small",Ye.Medium="medium",Ye.Large="large";const We=Ge,Ke={spinner:"Spinner-spinner-CSMaLA spin-spin-oHlEXH",tiny:"Spinner-tiny-1pSZja",small:"Spinner-small-3C8Kt5",medium:"Spinner-medium-c1s5-Y",large:"Spinner-large-1lEi7Z"};function qe({className:e=Ke.spinner,size:t=We.Medium}){return y.createElement("div",{className:we()(e,Ke[t]),"aria-label":(0,De.Z)("Loading")})}const $e=e=>e.user,Je=(0,de.P1)($e,(e=>e.lockState));var Xe=n(43322),et=n(69605),tt=n(9936),nt=n(95368),it=n(79932);class st extends y.Component{constructor(e,t){super(e,t),this.fadeOut=()=>{const{currentThemeMusicUrl:e}=this.state;e&&this.props.volume>0?(this.fadeOutStartMilliseconds||(this.fadeOutStartMilliseconds=Date.now()),this.setState(this.updateFrameState)):this.reset()},this.updateFrameState=e=>{const t=e.relativeVolume;let n=(i=Date.now()-this.fadeOutStartMilliseconds,-t*i/2e3+t);var i;return n=Math.max(0,n),n&&(this.fadeOutTimeoutID=window.setTimeout(this.fadeOut,100)),{volume:n}},this.onDurationMillisecondsChange=e=>{this._currentDurationMilliseconds=e},this.onPositionMillisecondsChange=e=>{const t=Math.floor(e/1e3),n=this.state.shouldStopOnEnd?0:2e3;this.state.positionSeconds!==t&&this.setState({positionSeconds:t}),this._currentDurationMilliseconds-e<=n&&!this.fadeOutTimeoutID&&this.endThemeMusic()},this.onEnd=()=>{this.reset()},this.onMetricsPlayerChange=()=>{},this.state=this.getInitialStateFromProps(e)}componentWillReceiveProps(e){const{volume:t,themeMusicUrl:n}=this.props,{volume:i,themeMusicUrl:s}=e;if(t!==i){const e={relativeVolume:this.getRelativeVolume(i)};this.fadeOutTimeoutID||(e.volume=e.relativeVolume),this.setState(e)}n!==s&&(s?this.reset(s):this.fadeOutTimeoutID||this.endThemeMusic())}componentWillUnmount(){this.reset()}getRelativeVolume(e){return.5*e}getInitialStateFromProps({currentThemeMusicUrl:e,volume:t}){const n=this.getRelativeVolume(t);return{currentThemeMusicUrl:e,relativeVolume:n,volume:n,positionSeconds:0,shouldStopOnEnd:J.Z.shouldStopThemeMusicOnNavigate}}reset(e){this.fadeOutTimeoutID=window.clearTimeout(this.fadeOutTimeoutID),this.fadeOutStartMilliseconds=null,this.setState(this.getInitialStateFromProps({currentThemeMusicUrl:e,volume:this.props.volume}))}endThemeMusic(){if(this.state.shouldStopOnEnd){const{dispatchEndPlayback:e,playerType:t}=this.props;e({playerType:t}),this.reset()}else this.fadeOut()}render(){const{currentThemeMusicUrl:e,positionSeconds:t,volume:n}=this.state;if(!e)return null;const{component:i,playerType:s}=this.props;return y.createElement(i,{key:e,mediaType:"audio",isBackgroundMedia:!0,isThemeMusic:!0,src:e,playerType:s,positionSeconds:t,volume:n,allowRecycleElement:!0,onDurationMillisecondsChange:this.onDurationMillisecondsChange,onPositionMillisecondsChange:this.onPositionMillisecondsChange,onMetricsPlayerChange:this.onMetricsPlayerChange,onEnd:this.onEnd})}}const rt=st;var at=Object.prototype.hasOwnProperty,ot=Object.getOwnPropertySymbols,lt=Object.prototype.propertyIsEnumerable,ct=Object.assign;const dt={dispatchEndPlayback:it.Mh};class ut extends y.Component{shouldComponentUpdate(e){const{volume:t,isPlayerOpen:n}=this.props;return e.volume!==t||e.isPlayerOpen!==n||!e.isBackgroundPending}render(){const e=this.props,{isBackgroundPending:t,isPlayerOpen:n}=e,i=((e,t)=>{var n={};for(var i in e)at.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&ot)for(var i of ot(e))t.indexOf(i)<0&&lt.call(e,i)&&(n[i]=e[i]);return n})(e,["isBackgroundPending","isPlayerOpen"]);return n?null:y.createElement(rt,ct({},i))}}ut.defaultProps={playerType:Se.Se};const pt=(0,f.$j)((function(){return(0,de.P1)((0,M.DB)("selectLocalVolume"),(e=>e.ui.background),(e=>e.ui.audioVideoPlayer.isOpen),((e,t,n)=>({volume:e,isBackgroundPending:t.isBackgroundPending,themeMusicUrl:t.themeMusicUrl,component:(0,M.DB)("mediaComponent").getComponent({protocol:"http",isDirectPlay:!0}),isPlayerOpen:n})))}),dt)(ut);var mt=n(48569),ht=n(23438),gt=n(76486),yt=n(46865),vt=n(57159),ft=n(57614),It=Object.assign;const bt=640,Mt={position:"absolute",width:"100%",height:"100%"},St=It(It({},Mt),{background:`url(${gt})`,zIndex:2}),Et={opacity:10,background:"343a3f"},Dt=It(It({},Et),{opacity:25,format:"png"});class Ct extends y.Component{shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,url:n,allowPreset:i,allowLightPreset:s,allowBlur:r}=this.props,a=window.innerWidth,o=window.innerHeight,l=r?Dt:Et;let c,d,u,p;if(r){const e=a/o;c=e>1?bt:bt*e,d=e>1?bt/e:bt;const t=Math.max(a/c,o/d);u=Math.round(100/t)}else c=Math.min(window.innerWidth,1920),d=Math.min(window.innerHeight,1080);return!n&&i&&(p=s?vt:yt),y.createElement("div",null,y.createElement(ft.Z,{serverEntityID:e,providerEntityID:t,url:n,emptySrc:p,width:c,height:d,upscale:r,containerStyle:Mt,filters:p?null:It(It({},l),{blur:u}),allowPixelRatioSize:!1,component:mt.Z}),y.createElement("div",{style:St}))}}Ct.defaultProps={allowBlur:!0};const Pt=Ct,wt=(0,de.P1)((e=>e.ui.background),(e=>({serverEntityID:e.server,providerEntityID:e.provider,url:e.imageUrl,allowLightPreset:e.allowLightPreset,allowBlur:e.allowBlur,isBackgroundPending:e.isBackgroundPending})));class Tt extends y.Component{shouldComponentUpdate(e){return!e.isBackgroundPending}render(){const{serverEntityID:e,providerEntityID:t,url:n,allowLightPreset:i,allowBlur:s}=this.props;return y.createElement(Pt,{serverEntityID:e,providerEntityID:t,url:n,allowPreset:!0,allowLightPreset:i,allowBlur:s})}}const Zt=(0,f.$j)((e=>wt))(Tt);function Nt(){return y.createElement("div",{className:"FullPageBackground-backgroundContainer-3pQGmT"},y.createElement(Zt,null),y.createElement(pt,null))}var At=n(26636),xt=n(2200),Lt=n(81079),Ot=n(52331),jt=n(86953),kt=n(4844),Rt=n(27082);function zt(e,t){return e===be.sy&&t}var Ut=n(40875),Vt=n(15042),Bt=n(41538),Ft=n(87803),Ht=n(70617),_t=n(98727),Qt=n(59701);const Gt={entityID:"",identifier:"",metricsIdentifier:"",title:"",features:[],protocols:[],isPending:!1,isPopulated:!1,error:null};var Yt,Wt,Kt,qt,$t=n(90217);(Wt=Yt||(Yt={})).Windows="Windows",Wt.Android="Android",Wt.Linux="Linux",Wt.FreeBSD="FreeBSD",Wt.MacOSX="MacOSX",Wt.IOS="iOS",(qt=Kt||(Kt={})).Pending="pending",qt.Connected="connected",qt.Unavailable="unavailable",qt.Unauthorized="unauthorized";const Jt={entityID:"",machineIdentifier:"",friendlyName:"Unknown",allowSync:!1,allowMediaDeletion:!1,backgroundProcessing:!1,transcoderVideo:!1,isCloud:!1,isEmbedded:!1,isFullServer:!1,isFullOwnedServer:!1,isOutOfDate:!1,isUnavailable:!1,isUnauthorized:!1,isConnected:!1,connectionTestResult:Kt.Pending,ownerFeatures:[],providers:[]},Xt=(0,Ht.Z)((function(e){return(0,de.P1)($t.Z,(t=>t.find((t=>t.machineIdentifier===e))||Jt))})),en=(0,Ht.Z)((function(e,t){return(0,de.P1)(_t.Z,Xt(e),(0,Qt.Z)("providers"),((e,n,i)=>{const s=(!n||n.isCloud?i:n.providers).find((n=>e[n].identifier===t));return s?e[s]:Gt}))})),tn=(0,Ht.Z)((function(e,t){return(0,de.P1)(en(e,t),(e=>{var t;const n=(0,Ft.Z)(e,At.zW.Content);return null!=(t=null==n?void 0:n.directories)?t:[]}))})),nn=(0,Ht.Z)((function(e,t,n){return(0,de.P1)(tn(e,t),(e=>e.find((e=>n===e.id))))}));var sn=n(72194);function rn(e){return{entityID:e.entityID,machineIdentifier:e.machineIdentifier,accessToken:e.accessToken,uri:e.activeConnection?e.activeConnection.uri:void 0,version:e.version,platform:e.platform,friendlyName:e.friendlyName,sourceTitle:e.sourceTitle,countryCode:e.countryCode,allowSync:e.allowSync,allowMediaDeletion:e.allowMediaDeletion,backgroundProcessing:e.backgroundProcessing,transcoderVideo:e.transcoderVideo,isCloud:e.isCloud,isEmbedded:e.isEmbedded,isFullServer:e.isFullServer,isFullOwnedServer:e.isFullOwnedServer,isOutOfDate:e.isOutOfDate,isUnavailable:e.isUnavailable,isUnauthorized:e.isUnauthorized,isConnected:e.isConnected,livetv:e.livetv,connectionTestResult:e.connectionTestResult,ownerId:e.ownerId,ownerFeatures:e.ownerFeatures}}const an=(0,sn.Z)((0,de.P1)($t.Z,(e=>e.map(rn))),(e=>e)),on=(0,Ht.Z)((function(e){return(0,sn.Z)((0,de.P1)(an,(t=>t.find((t=>t.machineIdentifier===e))||Jt)),(e=>e))})),ln=(0,y.createContext)([Jt,Gt,void 0]);function cn(){return(0,y.useContext)(ln)}function dn({machineIdentifier:e,providerIdentifier:t,contentDirectoryID:n,children:i}){const s=(0,f.v9)(on(e)),r=(0,f.v9)(en(e,t)),a=(0,f.v9)(nn(e,t,n)),o=(0,y.useMemo)((()=>[s,r,a]),[s,r,a]);return y.createElement(ln.Provider,{value:o},i)}const un=function(){const e=window.location.hash.replace("#!","");return(0,y.useMemo)((()=>{const{params:t}=C.Z.parseUri(e);return t}),[e])};var pn=n(5513),mn=n(63800),hn=n(19949);function gn({key:e,shouldRestoreImmediately:t=!1,onScrollPositionChange:n}){const i=(0,y.useMemo)((()=>hn.Z.getKey(`${e}!scrollPosition!`)),[e]),s=(0,y.useRef)(hn.Z.get(i)),r=(0,y.useRef)(null),[a,o]=(0,y.useState)(!(!t||!s.current)),[l,c]=(0,y.useState)(t&&s.current?s.current.scrollTop:null),[d,u]=(0,y.useState)(t&&s.current?s.current.scrollLeft:null),p=(0,y.useCallback)((()=>{const e=s.current;e&&(o(!0),c(e.scrollTop),u(e.scrollLeft),s.current=null)}),[]),m=(0,y.useCallback)((e=>{r.current=e,n&&n(e)}),[n]);return(0,y.useEffect)((()=>{a&&(o(!1),c(null),u(null))}),[a]),(0,y.useEffect)((()=>()=>{const e=r.current;e&&(e.scrollTop||e.scrollLeft)?hn.Z.set(i,e):hn.Z.remove(i)}),[i]),{isWaitingToRestoreScrollPosition:a||!t&&!!s.current,scrollRestoreProps:a?{targetScrollTop:l,targetScrollLeft:d,smoothScroll:!1,onScrollPositionChange:m}:{onScrollPositionChange:m},onScrollPositionReady:p}}const yn={pageScroller:"Page-pageScroller-2xF94- Scroller-scroller-3Rbtv0"};var vn,fn,In=Object.prototype.hasOwnProperty,bn=Object.getOwnPropertySymbols,Mn=Object.prototype.propertyIsEnumerable,Sn=Object.assign;function En(e){var{className:t=yn.pageScroller,allowBackgroundPreset:n=!0,allowBackgroundLightPreset:i=!1,onScrollPositionChange:s}=e,r=((e,t)=>{var n={};for(var i in e)In.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&bn)for(var i of bn(e))t.indexOf(i)<0&&Mn.call(e,i)&&(n[i]=e[i]);return n})(e,["className","allowBackgroundPreset","allowBackgroundLightPreset","onScrollPositionChange"]);const a=(0,f.I0)(),{scrollRestoreProps:o}=gn({key:"Page",shouldRestoreImmediately:!0,onScrollPositionChange:s});return(0,y.useEffect)((()=>(n&&a((0,mn.ZZ)({allowLightPreset:i})),()=>{a((0,mn.HF)()),a((0,pn.$e)())})),[i,n,a]),y.createElement(Qe,null,y.createElement(Oe,Sn(Sn(Sn({},r),o),{className:t})))}(fn=vn||(vn={})).Default="default",fn.Primary="primary",fn.Success="success",fn.Danger="danger";const Dn=vn;var Cn=n(93502);const Pn={link:"Link-link-2WGTd7",isHrefLink:"Link-isHrefLink-mFpWVI",default:"Link-default-1Q-OS9",primary:"Link-primary-kT5bHV",success:"Link-success-1-NeCI",danger:"Link-danger-2Cl4qd",small:"Link-small-IojJT6",medium:"Link-medium-2WwS5z",large:"Link-large-OUN5EB"};var wn=Object.prototype.hasOwnProperty,Tn=Object.getOwnPropertySymbols,Zn=Object.prototype.propertyIsEnumerable,Nn=Object.assign;function An(e){var{forwardedRef:t,children:n,to:i,component:s=(i?"a":"button"),type:r=("button"===s||"input"===s?"button":void 0),role:a=(i?"link":"button"),className:o=Pn.link,kind:l=Dn.Default,size:c,isDisabled:d=!1,onPress:u,onTouchStart:p,onTouchMove:m,onTouchEnd:h,onTouchCancel:g,onMouseDown:v,onMouseUp:f,onMouseLeave:I,onClick:b,onFocus:M,onBlur:S}=e,E=((e,t)=>{var n={};for(var i in e)wn.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Tn)for(var i of Tn(e))t.indexOf(i)<0&&Zn.call(e,i)&&(n[i]=e[i]);return n})(e,["forwardedRef","children","to","component","type","role","className","kind","size","isDisabled","onPress","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onMouseDown","onMouseUp","onMouseLeave","onClick","onFocus","onBlur"]);const[D,C]=(0,y.useState)(!1),[P,w]=(0,y.useState)(!1),T=(0,y.useRef)(!1),Z=(0,y.useRef)(!1),N=(0,y.useRef)(!1),A=(0,y.useCallback)((e=>{T.current=!0,Z.current=!0,1===e.touches.length&&(N.current=!0,C(!0)),null==p||p(e)}),[p]),x=(0,y.useCallback)((e=>{N.current=!1,C(!1),null==m||m(e)}),[m]),L=(0,y.useCallback)((e=>{C(!1),N.current&&(N.current=!1,null==u||u(e)),null==h||h(e)}),[u,h]),O=(0,y.useCallback)((e=>{T.current=!1,Z.current=!1,N.current=!1,C(!1),null==g||g(e)}),[g]),j=(0,y.useCallback)((e=>{T.current=!0,C(!0),null==v||v(e)}),[v]),k=(0,y.useCallback)((e=>{C(!1),null==f||f(e)}),[f]),R=(0,y.useCallback)((e=>{T.current=!1,C(!1),null==I||I(e)}),[I]),z=(0,y.useCallback)((e=>{T.current?T.current=!1:(w(!0),null==M||M(e))}),[M]),U=(0,y.useCallback)((e=>{T.current=!1,w(!1),null==S||S(e)}),[S]),V=(0,y.useCallback)((e=>{T.current=!1,C(!1),Z.current?Z.current=!1:(null==u||u(e),null==b||b(e))}),[u,b]),B=(0,y.useCallback)((()=>{w(!1)}),[]);(0,y.useEffect)((()=>(P&&window.addEventListener("mousemove",B),()=>{P&&window.removeEventListener("mousemove",B)})),[P,B]);const F=d?{}:{onTouchStart:A,onTouchMove:x,onTouchEnd:L,onTouchCancel:O,onMouseDown:j,onMouseUp:k,onMouseLeave:R,onFocus:z,onBlur:U,onClick:V};return y.createElement(s,Nn(Nn(Nn({},E),F),{ref:t,children:n,type:r,href:i,role:a,className:we()(o,Pn[l],c&&Pn[c],i&&Pn.isHrefLink,D&&Cn.lW,P&&Cn.GZ,d&&Cn.Pv),disabled:d}))}const xn=y.forwardRef(((e,t)=>y.createElement(An,Nn(Nn({},e),{forwardedRef:t})))),Ln={button:"Button-button-1q7C1V Link-link-2WGTd7",default:"Button-default-37HUnP",primary:"Button-primary-BXmP5W",success:"Button-success-NFsgPN",danger:"Button-danger-1pYJTx",small:"Button-small-2CYrBL",medium:"Button-medium-21zX8X",large:"Button-large-18Gbic"};var On=Object.prototype.hasOwnProperty,jn=Object.getOwnPropertySymbols,kn=Object.prototype.propertyIsEnumerable,Rn=Object.assign;function zn(e){var{className:t=Ln.button,kind:n=Dn.Default,size:i=We.Medium}=e,s=((e,t)=>{var n={};for(var i in e)On.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&jn)for(var i of jn(e))t.indexOf(i)<0&&kn.call(e,i)&&(n[i]=e[i]);return n})(e,["className","kind","size"]);return y.createElement(xn,Rn(Rn({},s),{className:we()(t,Ln.button,Ln[n],Ln[i])}))}function Un({className:e}){return y.createElement(Fe,{className:e,title:(0,De.Z)("Not found"),description:(0,De.Z)("We're having trouble finding this page. It might have been deleted")},y.createElement(zn,{to:"#"},(0,De.Z)("Go Home")))}var Vn=n(60316),Bn=n(97334);function Fn(e,t){const{isServer:n,serverIdentifier:i,providerIdentifier:s}=(0,Vn.Z)(e);return(0,Bn.Z)(!n,i,s,t)}const Hn=(0,y.createContext)({containerServer:Jt,containerProvider:Gt,containerSourceURI:"",containerKey:"",containerType:Bt.U.Mixed});function _n(){return(0,y.useContext)(Hn)}function Qn({children:e,containerServer:t,containerProvider:n,containerSourceURI:i,containerKey:s,containerType:r,containerSubtype:a,containerMeta:o,listStyle:l}){const c=(0,y.useMemo)((()=>{let e=s;if(!e){const{key:t,parameters:n}=(0,Vn.Z)(i);e=C.Z.join(t,n)}return{containerServer:t,containerProvider:n,containerSourceURI:i,containerKey:e,containerType:r,containerSubtype:a,containerMeta:o,listStyle:l}}),[s,n,t,i,a,r,o,l]);return y.createElement(Hn.Provider,{value:c},e)}var Gn=n(5686);function Yn({children:e,metadataItem:t,metadataItemState:n}){const i=(0,f.I0)(),{containerServer:s,containerProvider:r,containerSourceURI:a,containerKey:o}=_n(),l=(0,y.useMemo)((()=>t.source?(0,Vn.Z)(t.source):null),[t.source]),c=!!l&&(l.serverIdentifier!==s.machineIdentifier||l.providerIdentifier!==r.identifier);return(0,y.useEffect)((()=>{(n.isStale||n.isDeleted)&&i(Gn.Z.actions.throttledRepopulateRangeRequested({server:s,provider:r,sourceURI:a,key:o}))}),[r,s,a,o,i,n.isDeleted,n.isStale]),l&&c?y.createElement(dn,{machineIdentifier:l.serverIdentifier,providerIdentifier:l.providerIdentifier},e):y.createElement(y.Fragment,null,e)}var Wn=Object.assign;function Kn({forwardedRef:e,className:t="PosterCard-card-2-REtd",style:n,children:i}){return y.createElement("div",{className:t,style:n,ref:e},i)}const qn=y.forwardRef(((e,t)=>y.createElement(Kn,Wn(Wn({},e),{forwardedRef:t}))));var $n=Object.assign;function Jn({className:e="MetadataPosterCardPlaceholder-placeholder-23vQRH PosterCard-card-2-REtd",style:t,index:n}){return y.createElement(qn,{className:e,style:$n({animationDelay:n%12*200+"ms"},t)})}function Xn(e){return function(e){return!!e.v4}(e)?e.v4:e}const ei=(0,de.P1)(Xn,(e=>e.core)),ti=(0,de.P1)(ei,(e=>e.metadataItemState)),ni=function(e){return(0,de.P1)(ti,(t=>(e?t[e]:null)||{tempState:{},isStale:!1,isPending:!1,isPopulated:!1,error:null}))};function ii(e){const t=(0,y.useMemo)((()=>ni(e)),[e]);return(0,f.v9)(t)}function si(e){const t=(0,y.useMemo)((()=>function(e){return(0,de.P1)(ei,(t=>e&&t.metadataTimelineState[e]||{}))}(e)),[e]);return(0,f.v9)(t)}var ri=n(39537),ai=n(2098);const oi=1/1.5,li=16/9;function ci(e,t,n){const i=null==n?void 0:n.listStyle,s=null==n?void 0:n.displayImageType;if(s)return function(e){switch(e){case ai.IY.Avatar:return 1;case ai.IY.Background:return li;case ai.IY.Banner:return 5.4;case ai.IY.Clear:return 1;case ai.IY.CoverArt:return li;case ai.IY.CoverPoster:return oi;case ai.IY.CoverSquare:return 1;case ai.IY.Snapshot:return li}!function(e){throw new Error(`"${e}" is not mapped to an aspect ratio`)}(e)}(s);if(i)switch(i){case Bt.n.Hero:return li;case Bt.n.Grid:case Bt.n.Shelf:if(e===Bt.U.Channels)return 1;switch(t){case ri.y_.Webshow:switch(e){case ri.pG.Episode:return li}break;case ri.y_.Podcast:switch(e){case ri.pG.Episode:return 1}}switch(e){case ri.pG.Episode:return oi}}switch(t){case ri.y_.Clip:switch(e){case ri.pG.Movie:return li}break;case ri.y_.Podcast:case ri.y_.Webshow:switch(e){case ri.pG.Show:return 1;case ri.pG.Episode:return li}}switch(e){case ri.pG.Movie:case ri.pG.Show:case ri.pG.Season:return oi;case ri.pG.Episode:return li;case ri.pG.Artist:case ri.pG.Album:case ri.pG.Track:case ri.pG.Person:case ri.pG.Photo:case ri.pG.PhotoAlbum:case ri.pG.Playlist:return 1;case ri.pG.Clip:return li;case ri.pG.Collection:return oi;case Bt.U.Directory:return li;case Bt.U.Content:case Bt.U.Channel:case Bt.U.Folder:case Bt.U.Station:case ri.pG.Hub:case ri.pG.List:return 1;case ri.pG.Game:return.75;case Bt.U.Mixed:return oi;default:return li}}function di(e){const{width:t,height:n,aspectRatio:i}=e;if(t)return{width:t,height:Math.floor(t/i)};if(n)return{width:Math.floor(n*i),height:n};throw new Error("`getMetadataPosterDimensions` requires either a `width` or `height`")}var ui=n(6638);const pi=function(e,t){const[n,i]=cn(),{metricsContextTuple:s}=(0,xt.Zn)();if(n===Jt||i===Gt||"key"===t&&(e.skipDetails||e.type===ri.pG.Track&&e.subtype!==ri.y_.Podcast||e.type===ri.pG.Photo||e.subtype===ri.y_.Photo||e.isExtra||e.isLiveTVChannel||e.radio))return;const r=e[t];return(0,ui.Z)(n,i,r,{context:(0,xt.VJ)(s),legacy:e.type===ri.pG.PhotoAlbum?1:void 0},e.playlistType)};function mi({className:e,tabIndex:t,allowLink:n=!0,metadataItem:i}){const s=pi(i,"key");return i.title?n&&s?y.createElement(xn,{className:e,tabIndex:t,title:i.title,to:s},i.title):y.createElement("span",{className:e,title:i.title},i.title):null}var hi=n(42227),gi=n(31212),yi=n(78188);function vi(e){return null!=e?(0,gi.Z)((0,hi.Z)(e)):""}function fi({className:e,timestamp:t}){const[n,i]=(0,y.useState)((0,yi.Z)(t));return(0,y.useEffect)((()=>{if(null==t)return;const e=function(e,t){const n=Math.abs(Date.now()-1e3*e),i=36e5,s=24*i;return n<i?window.setTimeout(t,6e4):n<s?window.setTimeout(t,i):window.setTimeout(t,s)}(t,(()=>{i((0,yi.Z)(t))}));return()=>{window.clearTimeout(e)}}),[t]),n?y.createElement("span",{className:e,title:vi(t)},n):null}function Ii({className:e,metadataItem:t}){const{addedAt:n}=t;return y.createElement(fi,{className:e,timestamp:n})}var bi=n(55855),Mi=n(20466);const Si=function(e,{abbreviate:t=!1}={}){if(null==e)return"";const n=(0,Mi.Z)((0,hi.Z)(e));return t?function(e){return[(0,De.Z)("Sun"),(0,De.Z)("Mon"),(0,De.Z)("Tue"),(0,De.Z)("Wed"),(0,De.Z)("Thu"),(0,De.Z)("Fri"),(0,De.Z)("Sat")][e]}(n):function(e){return[(0,De.Z)("Sunday"),(0,De.Z)("Monday"),(0,De.Z)("Tuesday"),(0,De.Z)("Wednesday"),(0,De.Z)("Thursday"),(0,De.Z)("Friday"),(0,De.Z)("Saturday")][e]}(n)};var Ei=n(78966);const Di=function(e,{abbreviate:t=!1}={}){if(!e)return"";const n=(0,Ei.Z)((0,hi.Z)(e));return t?function(e){return[(0,De.Z)("Jan"),(0,De.Z)("Feb"),(0,De.Z)("Mar"),(0,De.Z)("Apr"),(0,De.Z)("May"),(0,De.Z)("Jun"),(0,De.Z)("Jul"),(0,De.Z)("Aug"),(0,De.Z)("Sep"),(0,De.Z)("Oct"),(0,De.Z)("Nov"),(0,De.Z)("Dec")][e]}(n):function(e){return[(0,De.Z)("January"),(0,De.Z)("February"),(0,De.Z)("March"),(0,De.Z)("April"),(0,De.Z)("May"),(0,De.Z)("June"),(0,De.Z)("July"),(0,De.Z)("August"),(0,De.Z)("September"),(0,De.Z)("October"),(0,De.Z)("November"),(0,De.Z)("December")][e]}(n)};var Ci=n(52752),Pi=n(38797);function wi(e){if(null==e)return!1;const t=(0,hi.Z)(e);return(0,Pi.Z)(Date.now(),t)}var Ti=n(3151);function Zi(e){if(null==e)return!1;const t=(0,hi.Z)(e);return(0,Ti.Z)(new Date,t)}var Ni=n(77349);function Ai(e){if(null==e)return!1;const t=(0,hi.Z)(e);return(0,Ti.Z)(t,(0,Ni.Z)(new Date,1))}var xi=n(85817);function Li(e){return!(null==e||!Zi(e))&&(0,xi.Z)((0,hi.Z)(e))>16}var Oi=n(7069);function ji(e){if(null==e)return!1;const t=(0,hi.Z)(e);return(0,Ti.Z)((0,Oi.Z)(new Date,1),t)}function ki(e,t,{timeFormat:n="h:mma"}={}){if(null==e)return"";const i=(0,Ci.Z)(e,n);let s;return s=ji(e)?(0,De.Z)("Yesterday"):Zi(e)?Li(e)?(0,De.Z)("Tonight"):(0,De.Z)("Today"):Ai(e)?(0,De.Z)("Tomorrow"):wi(e)?Si(e):(0,De.Z)("{dayOfWeekAbbreviated}, {monthAbbreviated} {dayNumber}",{dayOfWeekAbbreviated:Si(e,{abbreviate:!0}),monthAbbreviated:Di(e,{abbreviate:!0}),dayNumber:(0,bi.Z)((0,hi.Z)(e))}),t?(0,De.Z)("{1} at {2} on {3}",s,i,t):(0,De.Z)("{1} at {2}",s,i)}var Ri=n(39159);function zi(e,t,{timeFormat:n="h:mma"}={}){if(null==e)return"";const i=(0,hi.Z)(e);if(ji(e))return(0,De.Z)("Yesterday");0===(0,Ri.Z)(i)&&(n=n.replace("h:mm","h"));const s=(0,Ci.Z)(e,n);let r;return r=Zi(e)?Li(e)?(0,De.Z)("Tonight"):(0,De.Z)("Today"):Ai(e)?(0,De.Z)("Tomorrow"):wi(e)?Si(e):(0,De.Z)("{monthAbbreviated} {dayNumber}",{monthAbbreviated:Di(e,{abbreviate:!0}),dayNumber:(0,bi.Z)((0,hi.Z)(e))}),t?(0,De.Z)("{1} at {2} on {3}",r,s,t):(0,De.Z)("{1} at {2}",r,s)}var Ui=n(96263);const Vi=function(e){if(null==e)return"";const t=(0,Ui.ZP)(e),n=t.hours+24*t.days,i=t.minutes,s=t.seconds;return n&&i?(0,De.Z)("{1} hr {2} min",n,i):n?(0,De.Z)("{1} hr",n):i?(0,De.Z)("{1} min",i):s>0?(0,De.Z)("{1} sec",s):""},Bi=[[54e5,function(e){if(null==e)return"";const t=(0,Ui.ZP)(e),n=24*t.days*60,i=60*t.hours,s=t.minutes+i+n,r=t.seconds;return s?(0,De.Z)("{1} min",s):r>0?(0,De.Z)("{1} sec",r):""}],[864e5,Vi],[6048e5,function(e){if(null==e)return"";const t=(0,Ui.ZP)(e),n=t.days,i=t.hours,s=1!==n;return n&&i?s?(0,De.Z)("{1} days {2} hr",n,i):(0,De.Z)("{1} day {2} hr",n,i):n?s?(0,De.Z)("{1} days",n):(0,De.Z)("{1} day",n):(0,De.Z)("{1} hr",i)}],[1/0,function(e){if(null==e)return"";const t=(0,Ui.ZP)(e),n=t.years*Ui._G+t.months*Ui.DF+t.days;return 1!==n?(0,De.Z)("{1} days",n):(0,De.Z)("{1} day",n)}]],Fi=function(e){if(!e)return"";const t=E().find(Bi,(([t])=>e<=t));return t&&t[1](e)},Hi=function(e){if(null==e)return"";const t=Fi(1e3*e);return t?(0,De.Z)("{1} left",t):""};var _i=n(21918),Qi=n(30084),Gi=n(42902);function Yi(e,t){if(null==e||null==t)return!1;const n=(0,Gi.Z)(new Date);return n>=e&&n<=t}function Wi({now:e=Date.now(),beginsAt:t,endsAt:n,channel:i,showFullTime:s,timeFormat:r}){if(!t)return(0,De.Z)("No upcoming airings");if(Yi(t,n)){const t=n-e/1e3;return t<=60?(0,De.Z)("About to end"):Hi(t)}if((0,_i.Z)(t)&&(0,Qi.Z)(t,{minutes:60})){const n=1e3*t-e;if(n<=6e4)return i?(0,De.Z)("Starting now on {channel}",{channel:i}):(0,De.Z)("Starting now");const s=Fi(n);return i?(0,De.Z)("Starting in {duration} on {channel}",{duration:s,channel:i}):(0,De.Z)("Starting in {duration}",{duration:s})}return(s?ki:zi)(t,i,{timeFormat:r})}var Ki,qi,$i=n(89734),Ji=n.n($i),Xi=n(95113);function es(e){if("now"===e)return{};const t=e.match(/([-+]?\d+)([smhdwMy])/);if(t){const[,e,n]=t;if(function(e){if(!(e in Ki))throw Error("Unknown unit: "+e)}(n),e&&n)return{[Ki[n]]:parseInt(e,10)}}else{const t=parseInt(e,10);if("number"==typeof t)return t}return{}}function ts(e,t){return"object"==typeof t?(0,_i.Z)(e,t):e>=t}function ns(e,t){return"object"==typeof t?(0,Qi.Z)(e,t):e<=t}function is(e,t){const n=function(e){if(!e)return;const[,t]=e.split("?");return t?Xi.Z.parseQueryString(t):void 0}(t),i=Ji()(e.Media,"endsAt"),s=Date.now()/1e3;for(let e=0,t=i.length;e<t;e++){const t=i[e];if(n){const e=n["beginsAt>"],i=n["beginsAt<"],s=n["endsAt>"],r=n["endsAt<"];if(e&&t.beginsAt){const n=es(e);if(ns(t.beginsAt,n))continue}if(i&&t.beginsAt){const e=es(i);if(ts(t.beginsAt,e))continue}if(s&&t.endsAt){const e=es(s);if(ns(t.endsAt,e))continue}if(r&&t.endsAt){const e=es(r);if(ts(t.endsAt,e))continue}}if(t.endsAt&&t.endsAt>s)return t}return i[0]}function ss(e=60){const t=1e3*e,[n,i]=(0,y.useState)(Date.now());return(0,y.useEffect)((()=>{const e=window.setTimeout((()=>{i(Date.now())}),t-n%t);return()=>{window.clearTimeout(e)}}),[n,t]),n}(qi=Ki||(Ki={})).s="seconds",qi.m="minutes",qi.h="hours",qi.d="days",qi.w="weeks",qi.M="months",qi.y="years";const rs=(0,Ht.Z)((function(e){return(0,de.P1)(ye.Z,(t=>t[e]))}));function as({className:e,metadataItem:t}){const n=(0,f.v9)(rs("timeFormat")),i=ss(),s=is(t),{beginsAt:r,endsAt:a}=null!=s?s:{},o=null!=r&&null!=a?Wi({now:i,beginsAt:r,endsAt:a,timeFormat:n}):null;return o?y.createElement("span",{className:e,title:o},o):null}var os=n(45697),ls=n.n(os),cs=n(70809);function ds(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-tidal-logo-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M373.331 186.32l-93.324 93.332-93.337-93.341L280.007 93l93.332 93.309L466.67 93 560 186.318l-93.33 93.341-93.339-93.339zm.01 186.669l-93.334 93.34-93.337-93.34 93.337-93.337 93.334 93.337zm-186.67-186.67l-93.338 93.34L0 186.32 93.333 93l93.337 93.318z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}ds.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const us=ds;var ps=n(91608);const ms="com.tidal",hs={[ms]:us,"com.watchtogether":ps.Z},gs=function(e){const t=hs[e.attribution];return t?y.createElement("div",{className:e.className},y.createElement(t,null)):null};function ys({className:e,tabIndex:t,allowLink:n=!0,metadataItem:i}){const s=pi(i,"key");if(!i.title)return null;const r=y.createElement(y.Fragment,null,i.attribution?y.createElement(gs,{className:"MetadataTitleAttributed-badge-20Vp12",attribution:i.attribution}):null,i.title);return n&&s?y.createElement(xn,{className:e,tabIndex:t,title:i.title,to:s},r):y.createElement("span",{className:e,title:i.title},r)}function vs({className:e,metadataItem:t}){return t.attributionLogo?y.createElement("span",{className:e},y.createElement("img",{className:"MetadataTitleAttributionLogo-img-3WLv85",src:t.attributionLogo})):null}function fs({className:e,metadataItem:t}){const{originallyAvailableAt:n}=t;return n?y.createElement("span",{className:e},(0,gi.Z)(n)):null}var Is=n(54941),bs=n(69713);function Ms(e,t){switch(t){case ri.y_.Photo:switch(e){case ri.pG.Clip:return ri.DD.Photo}break;case ri.y_.Podcast:switch(e){case ri.pG.Show:return ri.DD.Audio}}switch(e){case ri.pG.Movie:case ri.pG.Show:case ri.pG.Season:case ri.pG.Episode:case ri.pG.Clip:return ri.DD.Video;case ri.pG.Artist:case ri.pG.Album:case ri.pG.Track:return ri.DD.Audio;case ri.pG.PhotoAlbum:case ri.pG.Photo:return ri.DD.Photo;case ri.pG.Game:return ri.DD.Rom;case ri.pG.Collection:switch(t){case ri.y_.Movie:case ri.y_.Show:return ri.DD.Video;case ri.y_.Artist:case ri.y_.Album:return ri.DD.Audio}}!function(e){throw new Error(`"${e}" is not mapped to a media type`)}(e)}function Ss({className:e,metadataItem:t}){var n;const i=Ms(t.type,t.subtype),s=null==(n=t.Media)?void 0:n[0];return null==(null==s?void 0:s.bitrate)?null:y.createElement("span",{className:e},i===ri.DD.Video?(0,bs.Z)(s.bitrate):(0,Is.Z)(s.bitrate))}function Es({className:e,metadataItem:t}){var n,i;if(null==t.addedAt&&!(null==(n=t.Channel)?void 0:n.length))return null;const s=null==(i=t.Channel)?void 0:i[0].tag;return null==s?null:y.createElement("span",{className:e},y.createElement(fi,{timestamp:t.addedAt}),null!=t.addedAt&&s?" — ":null,y.createElement("span",{title:s},s))}function Ds({className:e,metadataItem:t}){const n=t.leafCount;if(null==n)return null;switch(t.type){case ri.pG.Show:return y.createElement("span",{className:e},1===n?(0,De.Z)("{episodeCount} episode",{episodeCount:n}):(0,De.Z)("{episodeCount} episodes",{episodeCount:n}));case ri.pG.Artist:return y.createElement("span",{className:e},1===n?(0,De.Z)("{trackCount} track",{trackCount:n}):(0,De.Z)("{trackCount} tracks",{trackCount:n}))}return y.createElement("span",{className:e},1===n?(0,De.Z)("{itemCount} item",{itemCount:n}):(0,De.Z)("{itemCount} items",{itemCount:n}))}function Cs({className:e,metadataItem:t}){if(t.skipChildren)return y.createElement(Ds,{className:e,metadataItem:t});const n=t.childCount;if(null==n)return null;switch(t.type){case ri.pG.Show:return y.createElement("span",{className:e},1===n?(0,De.Z)("{seasonCount} season",{seasonCount:n}):(0,De.Z)("{seasonCount} seasons",{seasonCount:n}));case ri.pG.Season:return y.createElement("span",{className:e},1===n?(0,De.Z)("{episodeCount} episode",{episodeCount:n}):(0,De.Z)("{episodeCount} episodes",{episodeCount:n}));case ri.pG.Artist:return y.createElement("span",{className:e},1===n?(0,De.Z)("{albumCount} album",{albumCount:n}):(0,De.Z)("{albumCount} albums",{albumCount:n}));case ri.pG.Album:return y.createElement("span",{className:e},1===n?(0,De.Z)("{trackCount} track",{trackCount:n}):(0,De.Z)("{trackCount} tracks",{trackCount:n}))}return y.createElement("span",{className:e},1===t.childCount?(0,De.Z)("{itemCount} item",{itemCount:n}):(0,De.Z)("{itemCount} items",{itemCount:n}))}function Ps({className:e,metadataItem:t}){if(null==t.childCount)return null;const n=1===t.childCount,i={itemCount:t.childCount};let s;return s=t.subtype===ri.y_.Movie?n?(0,De.Z)("{itemCount} movie",i):(0,De.Z)("{itemCount} movies",i):t.subtype===ri.y_.Show?n?(0,De.Z)("{itemCount} show",i):(0,De.Z)("{itemCount} shows",i):n?(0,De.Z)("{itemCount} item",i):(0,De.Z)("{itemCount} items",i),y.createElement("span",{className:e},s)}function ws(e){if(!e)return"";const t=e.indexOf("/");return-1!==t?e.substr(t+1):e}function Ts({className:e,metadataItem:t}){return null==t.contentRating?null:y.createElement("span",{className:e},ws(t.contentRating))}const Zs={container:"CriticRating-container-1SC4rC",rating:"CriticRating-rating-2RgeS9",rt:"CriticRating-rt-34bf_j",ratingImage:"CriticRating-ratingImage-Q4kYrN",igdb:"CriticRating-igdb-kTDfex CriticRating-ratingImage-Q4kYrN",imdb:"CriticRating-imdb-3ZBLQP CriticRating-ratingImage-Q4kYrN",thetvdb:"CriticRating-thetvdb-1OjUuN CriticRating-ratingImage-Q4kYrN",tmdb:"CriticRating-tmdb-3_LDg_ CriticRating-ratingImage-Q4kYrN",certified:"CriticRating-certified-afT67R CriticRating-ratingImage-Q4kYrN",ripe:"CriticRating-ripe-3bK8b9 CriticRating-ratingImage-Q4kYrN",rotten:"CriticRating-rotten-eusLGL CriticRating-ratingImage-Q4kYrN",spilled:"CriticRating-spilled-pJsm5q CriticRating-ratingImage-Q4kYrN",upright:"CriticRating-upright-jYPY3u CriticRating-ratingImage-Q4kYrN",other:"CriticRating-other-3Fb1t2 CriticRating-ratingImage-Q4kYrN"};var Ns=Object.assign;const As=/^igdb:\/\//,xs=/^imdb:\/\//,Ls=/^rottentomatoes:\/\//,Os=/^thetvdb:\/\//,js=/^themoviedb:\/\//,ks={igdb:function({rating:e,audienceRating:t}){return y.createElement("div",{className:Zs.rating,title:(0,De.Z)("IGDB Rating")},y.createElement("div",{className:Zs.igdb}),`${Math.round(10*t)}%`)},imdb:function({rating:e,audienceRating:t}){const n=t||e;return y.createElement("div",{className:Zs.rating,title:(0,De.Z)("IMDb Rating")},y.createElement("div",{className:Zs.imdb}),n.toFixed(1))},rt:function({rating:e,ratingImage:t,audienceRating:n,audienceRatingImage:i}){const s=t&&t.substr(t.lastIndexOf(".")+1),r=n&&i&&i.substr(i.lastIndexOf(".")+1),a={certified:(0,De.Z)("Certified Fresh"),ripe:(0,De.Z)("Fresh"),rotten:(0,De.Z)("Rotten"),spilled:(0,De.Z)("Audience Rating"),upright:(0,De.Z)("Audience Rating")};return y.createElement("div",{className:Zs.rt},s?y.createElement("div",{className:Zs.rating},y.createElement("div",{className:Zs[s],title:a[s]}),`${Math.round(10*e)}%`):null,r?y.createElement("div",{className:Zs.rating},y.createElement("div",{className:Zs[r],title:a[r]}),`${Math.round(10*n)}%`):null)},thetvdb:function({audienceRating:e}){return y.createElement("div",{className:Zs.rating,title:(0,De.Z)("TheTVDB Rating")},y.createElement("div",{className:Zs.thetvdb}),`${Math.round(10*e)}%`)},tmdb:function({rating:e,audienceRating:t}){const n=t||e;return y.createElement("div",{className:Zs.rating,title:(0,De.Z)("TMDB Rating")},y.createElement("div",{className:Zs.tmdb}),`${Math.round(10*n)}%`)},other:function({rating:e}){return y.createElement("div",{className:Zs.rating},y.createElement("div",{className:Zs.other,title:(0,De.Z)("Rating")}),`${Math.round(10*e)}%`)}},Rs=function(e){const t=function({rating:e,ratingImage:t,audienceRating:n,audienceRatingImage:i}){return e||n?e&&As.test(t)||n&&As.test(i)?"igdb":e&&xs.test(t)||n&&xs.test(i)?"imdb":n&&Os.test(i)?"thetvdb":e&&js.test(t)||n&&js.test(i)?"tmdb":e&&Ls.test(t)||n&&Ls.test(i)?"rt":"other":"unrated"}(e),n=ks[t];return n?y.createElement("div",{className:Zs.container},y.createElement(n,Ns({},e))):null};function zs({className:e,metadataItem:t}){const{rating:n,ratingImage:i,audienceRating:s,audienceRatingImage:r}=t;return n||s?y.createElement("span",{className:e},y.createElement(Rs,{rating:n,ratingImage:i,audienceRating:s,audienceRatingImage:r})):null}function Us({className:e,metadataItem:t}){return null==t.duration?null:y.createElement("span",{className:e},Fi(t.duration))}function Vs({className:e,metadataItem:t}){return null==t.leafCount?null:y.createElement("span",{className:e},1===t.leafCount?(0,De.Z)("{episodeCount} episode",{episodeCount:t.leafCount}):(0,De.Z)("{episodeCount} episodes",{episodeCount:t.leafCount}))}var Bs=n(40074);function Fs({className:e,tabIndex:t,metadataItem:n}){const i=pi(n,"key"),s=(0,Bs.Z)({useLongName:!0,episodeIndex:n.index,date:n.originallyAvailableAt,noLeadingZero:!0});return i?y.createElement("span",{className:e},y.createElement(xn,{tabIndex:t,title:n.title,to:i},s)):y.createElement("span",{className:e},y.createElement("span",{title:n.title},s))}function Hs({className:e,metadataItem:t}){const{sourceTitle:n}=t;return n?y.createElement("span",{className:e,title:n},(0,De.Z)("from {sourceTitle}",{sourceTitle:n})):null}function _s({className:e,metadataItem:t}){const n=function(e){switch(e){case ri.y_.Trailer:return(0,De.Z)("Trailer");case ri.y_.DeletedScene:return(0,De.Z)("Deleted Scene");case ri.y_.Interview:return(0,De.Z)("Interview");case ri.y_.MusicVideo:return(0,De.Z)("Music Video");case ri.y_.BehindTheScenes:return(0,De.Z)("Behind the Scenes");case ri.y_.SceneOrSample:return(0,De.Z)("Scene");case ri.y_.LiveMusicVideo:return(0,De.Z)("Live Music Video");case ri.y_.LyricMusicVideo:return(0,De.Z)("Lyric Music Video");case ri.y_.Concert:return(0,De.Z)("Concert");case ri.y_.Featurette:return(0,De.Z)("Featurette");case ri.y_.Short:return(0,De.Z)("Short");case ri.y_.Other:return(0,De.Z)("Other")}}(t.subtype);return n?y.createElement("span",{className:e,title:n},n):null}function Qs({className:e,tabIndex:t,allowLink:n=!0,metadataItem:i}){const s=pi(i,"grandparentKey");return i.grandparentTitle?n&&s?y.createElement(xn,{className:e,tabIndex:t,title:i.grandparentTitle,to:s},i.grandparentTitle):y.createElement("span",{className:e,title:i.grandparentTitle},i.grandparentTitle):null}function Gs({className:e,tabIndex:t,allowLink:n,metadataItem:i}){return null!=i.addedAt||i.grandparentTitle?y.createElement("span",{className:e},y.createElement(fi,{timestamp:i.addedAt}),null!=i.addedAt&&i.grandparentTitle?" — ":null,y.createElement(Qs,{tabIndex:t,allowLink:n,metadataItem:i})):null}function Ys({className:e,metadataItem:t}){const n=ii(t.sourceURI),{lastRatedAt:i}=n;return y.createElement(fi,{className:e,timestamp:i})}function Ws({className:e,metadataItem:t}){const n=ii(t.sourceURI),{lastViewedAt:i}=n;return i?y.createElement(fi,{className:e,timestamp:i}):y.createElement("span",{className:e},(0,De.Z)("Unplayed"))}function Ks({className:e,tabIndex:t,allowLink:n=!0,metadataItem:i}){const s=pi(i,"parentKey");return i.parentTitle?n&&s?y.createElement(xn,{className:e,tabIndex:t,title:i.parentTitle,to:s},i.parentTitle):y.createElement("span",{className:e,title:i.parentTitle},i.parentTitle):null}function qs({className:e,metadataItem:t}){var n;const i=null!=(n=ii(t.sourceURI).viewCount)?n:0;return y.createElement("span",{className:e},1===i?(0,De.Z)("{playCount} play",{playCount:i}):(0,De.Z)("{playCount} plays",{playCount:i}))}var $s=n(44491);function Js({className:e,metadataItem:t}){return null==t.leafCount?null:y.createElement("span",{className:e},1===t.leafCount?(0,De.Z)("{itemCount} item",{itemCount:t.leafCount}):(0,De.Z)("{itemCount} items",{itemCount:t.leafCount}))}function Xs({className:e,metadataItem:t}){return t.playlistType===$s.pV?y.createElement(Js,{className:e,metadataItem:t}):y.createElement(Us,{className:e,metadataItem:t})}function er({className:e,metadataItem:t}){return t.skipChildren?y.createElement(Vs,{className:e,metadataItem:t}):null==t.childCount?null:y.createElement("span",{className:e},1===t.childCount?(0,De.Z)("{seasonCount} season",{seasonCount:t.childCount}):(0,De.Z)("{seasonCount} seasons",{seasonCount:t.childCount}))}var tr=n(25366),nr=n(85480);function ir({className:e,tabIndex:t,allowLink:n=!0,metadataItem:i}){const s=pi(i,"key"),r=pi(i,"parentKey"),a=(0,nr.Z)({seasonIndex:i.parentIndex,noLeadingZero:!0}),o=(0,Bs.Z)({episodeIndex:i.index,date:i.originallyAvailableAt,noLeadingZero:!0});return n&&s&&r?y.createElement("span",{className:e},i.index&&a?y.createElement(xn,{tabIndex:t,title:i.parentTitle,to:r},a):null,i.index&&a?y.createElement(tr.Z,{separator:"·"}):null,y.createElement(xn,{tabIndex:t,title:i.title,to:s},o)):y.createElement("span",{className:e},i.index&&a?y.createElement("span",{title:i.parentTitle},a):null,i.index&&a?y.createElement(tr.Z,{separator:"·"}):null,y.createElement("span",{title:i.title},o))}function sr({className:e,metadataItem:t}){const n=ii(t.sourceURI).unviewedLeafCount;return null==n?null:y.createElement("span",{className:e},(0,De.Z)("{unplayedCount} unplayed",{unplayedCount:n}))}var rr=n(88050),ar=n(1193),or=Object.assign;function lr(e){const{metricsPage:t,metricsContextTuple:n}=(0,xt.Zn)();return(0,y.useCallback)((i=>{const s=or(or({page:t,contextTuple:n},e),i);(0,M.DB)("metrics").trackClick(s)}),[JSON.stringify(e),n,t])}function cr(e){const[,t]=cn();return lr({identifier:t.metricsIdentifier,type:e.type})}var dr=n(60886);function ur(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-star-dot-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["circle",{cx:"280",cy:"280",r:"40"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}ur.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const pr=ur;function mr(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-star-empty-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m342.864 199.975l203.432 0-164.58 119.575 62.864 193.475-164.58-119.575-164.58 119.575 62.864-193.475-164.58-119.575 203.432 0 62.864-193.475c20.955 64.492 41.909 128.983 62.864 193.475m-96.666 40l-109.387 0 88.496 64.296-33.802 104.032 88.495-64.296 88.495 64.296-33.802-104.032 88.496-64.296-109.387 0-33.802-104.033c-11.267 34.678-22.535 69.355-33.802 104.033"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}mr.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const hr=mr;function gr(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-star-full-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m280 6.5l62.864 193.475 203.432 0-164.58 119.575 62.864 193.475-164.58-119.575-164.58 119.575 62.864-193.475-164.58-119.575 203.432 0 62.864-193.475"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}gr.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const yr=gr;var vr=n(61214),fr=n(89267);const Ir="StarRating-stars-Q1R3FC";var br=Object.assign;const Mr=(0,dr.Z)(fr.Z.starPulseSpeed);function Sr(e,t){return e>0?Math.min(Math.floor(e)+1,t):0}function Er({className:e,iconComponent:t,isVisible:n,isPulsing:i}){const s=we()(e,!n&&"StarRating-hidden-n37vSQ",i&&"StarRating-pulsing-3P59bP");return y.createElement(t,{className:s})}function Dr(e){return y.createElement(Er,br({iconComponent:hr,className:"StarRating-emptyStar-1W689I StarRating-star-zcRqTF"},e))}function Cr(e){return y.createElement(Er,br({iconComponent:yr,className:"StarRating-fullStar-3Gjwx4 StarRating-star-zcRqTF"},e))}function Pr(){return y.createElement(pr,{className:"StarRating-dot-2JMccJ"})}class wr extends y.Component{constructor(e,t){super(e,t),this.onSliderChange=({positionValue:e})=>{const{starCount:t}=this.props,n=Sr(e,t);this.setState({currentValue:n})},this.onSliderMove=({positionValue:e})=>{const{starCount:t}=this.props,n=Sr(e,t);0!==n&&this.setState({currentValue:n})},this.onSlideComplete=({positionValue:e})=>{const{starCount:t}=this.props,n=Sr(e,t);this.state.currentRating!==n&&(this._setRating(n),this.props.onRatingChange(n))},this.onMouseLeave=({pageX:e})=>{this.setState({currentValue:this.state.currentRating})},this.state={currentValue:e.value,currentRating:e.value,isPulsing:!1}}componentWillReceiveProps({value:e}){e=Math.max(0,Math.min(e,this.props.starCount)),this.state.currentRating!==e&&this._setRating(e)}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}componentDidUpdate(e,t){this.state.currentRating!==t.currentRating&&(window.clearTimeout(this._pulseTimeoutID),this._pulseTimeoutID=window.setTimeout((()=>{this.setState({isPulsing:!1})}),Mr))}componentWillUnmount(){window.clearTimeout(this._pulseTimeoutID)}_setRating(e){this.setState({currentValue:e,currentRating:e,isPulsing:!0})}render(){const{starCount:e,className:t}=this.props,{currentValue:n,currentRating:i,isPulsing:s}=this.state,r=!this.state.currentValue,a=!this.props.onRatingChange,o=E().range(e);return y.createElement("div",{className:we()(t,"StarRating-starRating-2PpV4V",a&&"StarRating-isReadOnly-1wEUo5",r&&"StarRating-isUnrated-19UmPc"),onMouseLeave:this.onMouseLeave},y.createElement("div",null,o.map((e=>y.createElement(Pr,{key:e})))),y.createElement("div",{className:Ir},o.map((e=>{const t=e>n-1;return y.createElement(Dr,{key:e,isVisible:t})}))),y.createElement("div",{className:Ir},o.map((e=>{const t=e<=n-1;return y.createElement(Cr,{key:e,isVisible:t,isPulsing:s&&i>e})}))),a?null:y.createElement(vr.Z,{className:"StarRating-slider-3FRfUY",trackClassName:"StarRating-track-3eD106",label:(0,De.Z)("User Rating"),tabIndex:"-1",value:this.state.currentValue,min:0,max:e,stepSize:1,autoHideThumb:!0,onChange:this.onSliderChange,onMove:this.onSliderMove,onDragComplete:this.onSlideComplete}))}}wr.defaultProps={starCount:5,value:0};const Tr=wr;function Zr({className:e,metadataItem:t}){var n;const i=(0,f.I0)(),[s,r]=cn(),a=ii(t.sourceURI),o=cr(t),l=(0,y.useCallback)((e=>{const n=0===e?-1:2*e;o({action:rr.zw,value:n}),i(ar.Z.actions.rateRequested({server:s,provider:r,sourceURI:t.sourceURI,ratingKey:t.ratingKey,rating:n}))}),[i,t.ratingKey,t.sourceURI,r,s,o]),c=(null!=(n=a.userRating)?n:0)/2;return y.createElement("div",{className:e},y.createElement(Tr,{value:c,onRatingChange:l}))}var Nr=n(10825);function Ar({className:e,metadataItem:t}){var n;const i=null==(n=t.Media)?void 0:n[0];return null==(null==i?void 0:i.videoResolution)?null:y.createElement("span",{className:e},(0,Nr.Z)(i.videoResolution))}function xr({className:e,metadataItem:t}){const n=ii(t.sourceURI);return null==t.duration||null==n.viewOffset?null:y.createElement("span",{className:e},(0,De.Z)("{timeRemaining} left",{timeRemaining:Fi(t.duration-n.viewOffset)}))}function Lr({className:e,metadataItem:t}){return t.year?y.createElement("span",{className:e},t.year):null}function Or({className:e,displayFieldName:t}){return null}var jr=Object.assign;function kr(e){switch(e){case ai.PD.AddedAt:return Ii;case ai.PD.AddedAtChannelTag:return Es;case ai.PD.AddedAtGrandparentTitle:return Gs;case ai.PD.AirsAt:return as;case ai.PD.AttributionLogo:return vs;case ai.PD.ChildCount:return Cs;case ai.PD.ContentRating:return Ts;case ai.PD.Duration:return Us;case ai.PD.EpisodeIdentifier:return ir;case ai.PD.GrandparentTitle:return Qs;case ai.PD.LastRatedAt:return Ys;case ai.PD.LastViewedAt:return Ws;case ai.PD.LeafCount:return Ds;case ai.PD.MediaBitrate:return Ss;case ai.PD.VideoResolution:return Ar;case ai.PD.OriginallyAvailableAt:return fs;case ai.PD.ParentTitle:return Ks;case ai.PD.Rating:return zs;case ai.PD.SourceTitle:return Hs;case ai.PD.Title:return mi;case ai.PD.TitleAttributed:return ys;case ai.PD.UnviewedLeafCount:return sr;case ai.PD.UserRating:return Zr;case ai.PD.ViewCount:return qs;case ai.PD.ViewOffset:return xr;case ai.PD.Year:return Lr;default:return function(e){return t=>y.createElement(Or,jr(jr({},t),{displayFieldName:e}))}(e)}}function Rr(e,t,n){const i=null==n?void 0:n.displayFieldNames;if(i)return i.map(kr);const s=null==n?void 0:n.listStyle;if(e===Bt.U.Mixed)return[null,null,null];switch(s){case Bt.n.PrePlayGrid:switch(e){case ri.pG.Season:return[mi,Vs];case ri.pG.Episode:return[mi,Fs];case ri.pG.Album:return[ys,Lr]}}switch(t){case ri.y_.News:switch(e){case ri.pG.Clip:return[{component:mi,isDoubleLine:!0},Es]}break;case ri.y_.Podcast:switch(e){case ri.pG.Show:return[{component:mi,isDoubleLine:!0}];case ri.pG.Track:return[{component:mi,isDoubleLine:!0},Qs]}break;case ri.y_.Webshow:switch(e){case ri.pG.Show:return[mi];case ri.pG.Episode:return[{component:mi,isDoubleLine:!0},Gs]}break;case ri.y_.Trailer:case ri.y_.DeletedScene:case ri.y_.Interview:case ri.y_.MusicVideo:case ri.y_.BehindTheScenes:case ri.y_.SceneOrSample:case ri.y_.LiveMusicVideo:case ri.y_.LyricMusicVideo:case ri.y_.Concert:case ri.y_.Featurette:case ri.y_.Short:case ri.y_.Other:switch(e){case ri.pG.Clip:return[mi,_s]}}switch(e){case ri.pG.Movie:return[mi,Lr];case ri.pG.Show:return[mi,er];case ri.pG.Season:return[Ks,mi];case ri.pG.Episode:return[Qs,mi,ir];case ri.pG.Artist:return[mi];case ri.pG.Album:return[Ks,mi];case ri.pG.Track:return[Qs,mi];case ri.pG.Photo:return[{component:mi}];case ri.pG.PhotoAlbum:case ri.pG.Clip:return[mi];case ri.pG.Playlist:return[mi,Xs];case ri.pG.Collection:return[mi,Ps];case ri.pG.Directory:case ri.pG.Channel:case Bt.U.Content:return[];case Bt.U.Channels:return[mi,as];case Bt.U.Photo:return[mi]}return[{component:mi,allowLink:!1}]}var zr=n(12986),Ur=n(10598),Vr=Object.assign;function Br(e){const{style:t,moveDurationMilliseconds:n=400,isVirtual:i,isVisible:s,cellIndex:r,cellX:a,cellY:o,cellWidth:l,cellHeight:c}=e,d=(0,zr.Z)(r),u=null!=d&&r!==d,p=(0,y.useRef)(u),m=p.current||u,h=(0,y.useRef)(!0);i&&!s||(h.current=!1);const g=(0,y.useReducer)((e=>e+1),0)[1],v=(0,y.useMemo)((()=>Vr(i?{position:"absolute",width:l,height:c,transform:`translate3d(${a}px, ${o}px, 0)`,zIndex:m?1:0,transition:m?`transform ${Ur.Z.defaultSpeed}`:"none",transitionDuration:m?`${n}ms`:"0"}:{position:"relative"},t)),[a,o,l,c,t,n,m,i]);return(0,y.useEffect)((()=>{let e;return m&&(p.current=!0,e=window.setTimeout((()=>{p.current=!1,g()}),2*n)),()=>{e&&window.clearTimeout(e)}}),[n,m,g]),{style:v,isOffscreenPlaceholder:h.current}}var Fr=n(76403),Hr=Object.assign;const _r=function(e,t){const n={count:0,items:{}};return{getDefaultMultiselectState:()=>n,getIdentity:t,reducers:{reset(e){let t=e;return t=n,t},selectItems(e,{payload:n}){const i=e,{items:s}=n;s.forEach((e=>{const n=t(e);i.items[n]||(i.items[n]=e,i.count+=1)}))},deselectItems(e,{payload:n}){const i=e,{items:s}=n;s.forEach((e=>{const n=t(e);i.items[n]&&(delete i.items[n],i.count-=1)}))}}}}(0,(e=>e.sourceURI)),Qr=_r.getDefaultMultiselectState(),Gr=(0,Fr.oM)({name:"metadataMultiselect",initialState:Qr,reducers:Hr({},_r.reducers)}),Yr=(0,de.P1)(Xn,(e=>e.features)),Wr=(0,de.P1)(Yr,(e=>e.metadataMultiselect));var Kr=n(38204);const qr={display:"contents "};function $r(e,t,n){const i=[];for(let s=Math.min(t,n);s<=Math.max(t,n);s++)i.push(e[s]);return i}const Jr=(0,y.createContext)({isSelectionRangeActive:!1,isSelectionRangeComplete:!1,checkItemInRange:()=>!1,onRangeStart:()=>{},onRangeEnd:()=>{},onRangeSelect:()=>{},onRangeClear:()=>{}}),Xr=function({children:e,items:t}){const[n,i]=(0,y.useState)(),[s,r]=(0,y.useState)(),[a,o]=(0,y.useState)(),[l,c]=(0,y.useState)(!1),d=(0,y.useCallback)((e=>{const i=t.indexOf(e);return null!=n&&null!=s&&i>=Math.min(n,s)&&i<=Math.max(n,s)}),[t,s,n]),u=(0,y.useCallback)((e=>{const n=t.indexOf(e);-1!==n&&(i(n),r(void 0),o(void 0))}),[t]),p=(0,y.useCallback)((e=>{const i=t.indexOf(e);-1!==i&&null!=n&&$r(t,n,i).every((e=>e))&&r(i)}),[t,n]),m=(0,y.useCallback)(((e,i)=>{null!=n&&null!=s&&(a&&i($r(t,...a)),e($r(t,n,s)),o([n,s]))}),[t,a,s,n]),h=(0,y.useCallback)((()=>{i(void 0),r(void 0),o(void 0)}),[]),g=(0,y.useCallback)((()=>{r(void 0)}),[]);(0,y.useEffect)((()=>{function e(e){e.key===Kr.Z.Shift&&c(!0)}function t(e){e.key===Kr.Z.Shift&&(c(!1),r(void 0))}function n(){c(!1),r(void 0)}return document.addEventListener("keydown",e),document.addEventListener("keyup",t),window.addEventListener("blur",n),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t),window.addEventListener("blur",n)}}),[]);const v=(0,y.useMemo)((()=>({isSelectionRangeActive:l,isSelectionRangeComplete:null!=n&&null!=s,checkItemInRange:d,onRangeStart:u,onRangeEnd:p,onRangeSelect:m,onRangeClear:h})),[d,l,h,p,m,u,s,n]);return y.createElement(Jr.Provider,{value:v},y.createElement("div",{style:qr,onMouseLeave:g},e))};function ea({isHovered:e,metadataItem:t,metadataItemState:n}){const i=(0,f.I0)(),s=t?_r.getIdentity(t):void 0,r=function(e,t,n,i,s=!1){const r=(0,f.I0)(),a=(0,f.v9)(t),o=(0,y.useMemo)((()=>!!i&&!!a.items[i]),[i,a.items]),l=!!a.count,{isSelectionRangeActive:c,isSelectionRangeComplete:d,checkItemInRange:u,onRangeStart:p,onRangeEnd:m,onRangeClear:h,onRangeSelect:g}=(0,y.useContext)(Jr),v=(0,y.useCallback)((e=>{r(n.selectItems({items:e}))}),[n,r]),I=(0,y.useCallback)((e=>{r(n.deselectItems({items:e}))}),[n,r]),b=(0,y.useCallback)((()=>{e&&(d?g(v,I):o?(I([e]),h()):(v([e]),p(e)))}),[d,o,e,I,h,g,p,v]);return(0,y.useEffect)((()=>{e&&c&&l&&s&&m(e)}),[s,c,l,e,m]),{isSelectionActive:l,isSelected:o,isInSelectionRange:c&&u(e),onToggleSelect:b}}(t,Wr,Gr.actions,s,e),a=null==n?void 0:n.isDeleted;return(0,y.useEffect)((()=>{t&&a&&r.isSelected&&i(Gr.actions.deselectItems({items:[t]}))}),[t,a,r,i,r.isSelected]),r}function ta(e,t,n){var i;return null==(i=null==n?void 0:n.find((n=>n.type===e&&n.subtype===t)))?void 0:i.fields}function na(e,t,n){var i;return null==(i=null==n?void 0:n.find((n=>n.type===e&&n.subtype===t)))?void 0:i.imageType}var ia=n(7947),sa=n(89335),ra=n(75534);function aa(){const[e,t]=(0,y.useState)(!1),n=(0,y.useRef)(null),i=(0,y.useCallback)((()=>t(!0)),[]),s=(0,y.useCallback)((()=>t(!1)),[]);return(0,y.useEffect)((()=>{const e=n.current;return e&&(e.addEventListener("mouseenter",i),e.addEventListener("mouseleave",s)),()=>{e&&(e.removeEventListener("mouseenter",i),e.removeEventListener("mouseleave",s))}}),[i,s]),[e,n]}function oa({server:e,provider:t,metadataItem:n,metadataItemState:i}){const s=(0,f.I0)(),[r,a]=aa(),[o,l]=(0,y.useState)(!1),[c,d]=(0,y.useState)(!1),u=(0,zr.Z)(o),p=(0,y.useCallback)((()=>{d(!1),l(!0),i.isPending||i.isPopulated||s(ar.Z.actions.fetchRequested({server:e,provider:t,metadataKey:n.key,sourceURI:n.sourceURI}))}),[s,n.key,n.sourceURI,i.isPending,i.isPopulated,t,e]),m=(0,y.useCallback)((()=>{d(!0),l(!1)}),[]),h=(0,y.useCallback)((()=>{d(!1)}),[]),g=(0,y.useCallback)((()=>{o?m():p()}),[o,m,p]);return(0,y.useEffect)((()=>{!u||!o||i.isPending||i.isPopulated||i.error||l(!1)}),[u,o,i.error,i.isPending,i.isPopulated]),{hoverRef:a,isHovered:r,isActionsPending:o&&i.isPending,isActionsVisible:r||o||c,actionsMenuButtonID:(0,ra.Z)(),isActionsMenuOpen:o&&!i.isPending&&!(!i.isPopulated&&!i.error),isActionsMenuClosing:c,onActionsMenuOpen:p,onActionsMenuClose:m,onActionsMenuCloseComplete:h,onActionsMenuToggle:g}}var la=n(46277),ca=Object.assign;function da(e){return function(e){var t;const{type:n,subtype:i,title:s,parentTitle:r,grandparentTitle:a}=e;let o;switch(i){case ri.y_.News:switch(n){case ri.pG.Clip:return[s,null==(t=null==e?void 0:e.Channel)?void 0:t[0].tag]}break;case ri.y_.Podcast:switch(n){case ri.pG.Track:return[s,a]}break;case ri.y_.Webshow:switch(n){case ri.pG.Episode:return[s,a]}}switch(n){case ri.pG.Movie:return[s,e.year];case ri.pG.Season:return[r,s];case ri.pG.Episode:return o={episodeIndex:e.index,date:e.originallyAvailableAt,noLeadingZero:!0,useLongName:!0},[a,(0,la.Z)(ca(ca({},o),{seasonIndex:e.parentIndex})),s];case ri.pG.Album:return[r,s];case ri.pG.Track:return[a,s];default:return[s]}}(e).filter((e=>0===e||e)).join(", ")}function ua(e,t={}){var n;const{aspectRatio:i,displayImageType:s}=t,{type:r,subtype:a,thumb:o,parentThumb:l,grandparentThumb:c,art:d,parentArt:u,composite:p,liveTVChannel:m,viewOffsetThumb:h}=e;if(s){const t=null==(n=e.Image)?void 0:n.find((e=>e.type===s));return null==t?void 0:t.url}if(m)return m.thumb;switch(i){case li:switch(r){case ri.pG.Movie:switch(a){case ri.y_.Clip:return o}return d;case ri.pG.Show:return d;case ri.pG.Season:return d||u;case ri.pG.Game:return h||o;default:return o}case oi:switch(r){case ri.pG.Season:return o;case ri.pG.Episode:return c;default:return o}case 1:switch(r){case ri.pG.Album:return o;case ri.pG.Track:switch(a){case ri.y_.Podcast:return o||l||c}return o||l;case ri.pG.Playlist:return o||p;default:return o}}return o}var pa=n(17524);function ma(e){const{providerIdentifier:t}=(0,Vn.Z)(e.source);return pa.wB(t,[pa.Ll,pa.vP])}function ha(e,t){const{type:n}=e,{viewOffset:i,viewCount:s,viewedLeafCount:r,unviewedLeafCount:a}=t;return!(n!==ri.pG.Movie&&n!==ri.pG.Show&&n!==ri.pG.Season&&n!==ri.pG.Episode&&n!==ri.pG.Track||i||!(s&&!r&&!a||r&&!a))}var ga=n(36535);function ya(e){return pa.wB((0,ga.Z)(e.identifier,e.providerIdentifier),pa.uk)}function va({className:e="Badge-badge-3V2nLB",style:t,iconClassName:n="Badge-icon-3gfym9",iconComponent:i}){return y.createElement("div",{className:e,style:t},y.createElement(i,{className:n}))}var fa=n(35771);function Ia({className:e="PlayedBadge-playedBadge-2cB8je Badge-badge-3V2nLB"}){return y.createElement(va,{className:e,iconComponent:fa.Z})}var ba=n(79501);function Ma({className:e="SmartPlaylistBadge-smartPlaylistBadge-2osofj Badge-badge-3V2nLB"}){return y.createElement(va,{className:e,iconComponent:ba.Z})}function Sa(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-in-watchlist-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{clipRule:"evenodd",d:"M42 6.15892C42 4.72113 40.8409 3.59998 39.411 3.59998H8.58903C7.15701 3.59998 6 4.74565 6 6.15892V42.9571C6 44.3949 6.90879 44.8173 8.02984 43.9554L21.9702 33.2377C23.0826 32.3824 24.9088 32.3758 26.0298 33.2377L39.9702 43.9554C41.0826 44.8107 42 44.3704 42 42.9571V6.15892Z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Sa.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const Ea=Sa;function Da({className:e="WatchlistBadge-watchlistBadge-vzvONa Badge-badge-3V2nLB"}){return y.createElement(va,{className:e,iconComponent:Ea})}function Ca({className:e="PosterCardIcon-container-UpQIlp",width:t,height:n,children:i}){const s=(0,y.useMemo)((()=>({width:`${t}px`,height:`${n}px`,fontSize:Math.max(14,Math.min(Math.round(t/4),42)),lineHeight:`${n}px`})),[n,t]);return y.createElement("div",{className:e,style:s},i)}const Pa={link:"PosterCardLink-link-2mWlqA Link-link-2WGTd7",hoveredLink:"PosterCardLink-hoveredLink-3BYG1D PosterCardLink-link-2mWlqA Link-link-2WGTd7"};var wa=Object.prototype.hasOwnProperty,Ta=Object.getOwnPropertySymbols,Za=Object.prototype.propertyIsEnumerable,Na=Object.assign;function Aa(e){var{className:t=Pa.link,hoverClassName:n=Pa.hoveredLink,isHovered:i}=e,s=((e,t)=>{var n={};for(var i in e)wa.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Ta)for(var i of Ta(e))t.indexOf(i)<0&&Za.call(e,i)&&(n[i]=e[i]);return n})(e,["className","hoverClassName","isHovered"]);return y.createElement(xn,Na({className:i?n:t},s))}var xa=n(61676);const La=(0,Ht.Z)((function(e){return(0,de.P1)(xa.Z,(t=>!!t[e]))}));var Oa=n(72759);const ja=(0,Fr.oM)({name:"servers",initialState:{},reducers:{connected(e,t){},libraryScanUpdated(e,t){}}}),ka=(0,Fr.oM)({name:"serverActivities",initialState:{},reducers:{activityStarted(e,t){},activityUpdated(e,t){},activityFinished(e,t){}},extraReducers:e=>{e.addCase(ja.actions.connected,((e,{payload:t})=>{const{server:n}=t;e[n.machineIdentifier]||(e[n.machineIdentifier]=[])}))}});var Ra,za,Ua,Va;function Ba(e,{payload:t}){const{type:n,progress:i=0,Context:s}=t.activity;if(!(null==s?void 0:s.source)||n!==Oa.EW)return;const{source:r,ratingKey:a}=s,{serverIdentifier:o,providerIdentifier:l}=(0,Vn.Z)(r),c=(0,jt.Z)({serverIdentifier:o,providerIdentifier:l,key:`/library/metadata/${a}`}),d=e.status.downloads[c];if(!d)return;const u=100===i;e.status.downloads[c]={id:d.id,subscription:u?Ra.Saved:Ra.Saving,sourceURI:c,type:d.type,relation:d.relation,progress:i}}(za=Ra||(Ra={}))[za.Subscribing=0]="Subscribing",za[za.Saving=1]="Saving",za[za.Saved=2]="Saved",(Va=Ua||(Ua={}))[Va.Self=0]="Self",Va[Va.Descendants=1]="Descendants",Va[Va.Ancestors=2]="Ancestors";const Fa=(0,Fr.oM)({name:"downloads",initialState:{status:{downloads:{},error:null},creating:{},deleting:{},providerSections:[]},reducers:{providersFetchSucceeded(e,{payload:t}){e.providerSections=t.providerSections},downloadsFetchSucceeded(e,{payload:t}){for(const n of t.items)delete e.status.downloads[n.sourceURI];for(const n of t.downloads)e.status.downloads[n.sourceURI]=n},downloadsFetchFailed(e,{payload:t}){e.status.error=t.error},subscriptionTemplatesFetchRequested(e,t){},subscriptionTemplateChanged(e,{payload:t}){t.template?e.creating[t.sourceURI]={isPending:!1,error:null,template:t.template}:delete e.creating[t.sourceURI]},subscriptionCreateRequested(e,{payload:t}){e.creating[t.sourceURI]={isPending:!0,error:null}},subscriptionCreateSucceeded(e,{payload:t}){delete e.creating[t.sourceURI],e.status.downloads[t.sourceURI]={id:t.id,sourceURI:t.sourceURI,type:t.type,subscription:Ra.Subscribing,relation:Ua.Self,progress:0}},subscriptionCreateFailed(e,{payload:t}){e.creating[t.sourceURI]={isPending:!1,error:t.error},delete e.status.downloads[t.sourceURI]},subscriptionDeleteRequested(e,{payload:t}){e.deleting[t.sourceURI]={isPending:!0,error:null}},subscriptionDeleteSucceeded(e,{payload:t}){delete e.deleting[t.sourceURI],delete e.status.downloads[t.sourceURI]},subscriptionDeleteFailed(e,{payload:t}){e.deleting[t.sourceURI]={isPending:!1,error:t.error}}},extraReducers:e=>{J.Z.allowSyncDownload&&(e.addCase(ka.actions.activityUpdated,Ba),e.addCase(ka.actions.activityFinished,Ba),e.addCase(ar.Z.actions.deleted,((e,{payload:t})=>{const{mediaProviderID:n,sourceURI:i}=t,s=e.providerSections.find((({id:e})=>n===e));if(!s)return;const{serverIdentifier:r,providerIdentifier:a}=(0,Vn.Z)(s.source),{key:o}=(0,Vn.Z)(i),l=(0,jt.Z)({serverIdentifier:r,providerIdentifier:a,key:o});delete e.status.downloads[l]})))}}),Ha=(0,de.P1)(Yr,(e=>e.downloads));function _a(e){const t=(0,f.I0)(),n=(0,y.useMemo)((()=>{return t=e.sourceURI,(0,de.P1)(Ha,(e=>e.status.downloads[t]));var t}),[e.sourceURI]),i=(0,y.useMemo)((()=>{return t=e.sourceURI,(0,de.P1)(Ha,(e=>{var n,i;const s=!!(null==(n=e.creating[t])?void 0:n.isPending),r=!!(null==(i=e.deleting[t])?void 0:i.isPending);return s||r}));var t}),[e.sourceURI]),s=(0,f.v9)(n),r=(0,f.v9)(i),a=(null==s?void 0:s.subscription)===Ra.Subscribing,o=!!s&&s.relation!==Ua.Descendants,l=!s||s.relation===Ua.Descendants,c=(null==s?void 0:s.relation)===Ua.Self;return{progress:(null==s?void 0:s.progress)||0,isPending:r,isSubscribing:a,isDownloaded:o,canDownload:l,canDeleteDownload:c,onDownload:(0,y.useCallback)((()=>{t(Fa.actions.subscriptionTemplatesFetchRequested({sourceURI:e.sourceURI,guid:e.guid,useSelected:e.type===ri.pG.Show}))}),[t,e.sourceURI,e.guid,e.type]),onDeleteDownload:(0,y.useCallback)((()=>{s&&t(Fa.actions.subscriptionDeleteRequested({id:s.id,sourceURI:e.sourceURI}))}),[t,s,e.sourceURI])}}var Qa=n(50930);function Ga({className:e,metadataItem:t,isShadowVisible:n=!1}){const{progress:i,isSubscribing:s,isDownloaded:r}=_a(t);return y.createElement("div",{className:e},r?y.createElement(Qa.Z,{progress:i<100?i:null,showShadow:n,showIndeterminate:s}):null)}function Ya(e,t){if(!e)throw new Error(t)}var Wa=n(57358),Ka=n(37588),qa=n(34007),$a=n(91135);function Ja({containerServer:e,containerProvider:t,server:n,provider:i,metadataItem:s,metadataItemState:r,metricsPage:a,metricsContextTuple:o}){const l=(0,f.I0)();return(0,y.useCallback)((c=>{l((0,Ka.redispatchLegacyMetadataAction)({server:e,provider:t,itemServer:n,itemProvider:i,metadataItem:s,metadataItemState:r,metricsPage:a,metricsProperties:{contextTuple:o},legacyAction:c}))}),[t,e,l,s,r,o,a,i,n])}function Xa(e,t,n){var i;if(ma(e)){const{beginsAt:t,endsAt:n}=null!=(i=is(e))?i:{},s=Math.floor(Date.now()/1e3);return t&&n&&s>=t&&s<n?(0,De.Z)("Watch Now"):(0,De.Z)("Watch Channel")}return t.viewOffset||n.viewOffset?(0,De.Z)("Resume"):e.onDeck&&t.viewedLeafCount&&t.unviewedLeafCount?(0,De.Z)("Next Episode"):(0,De.Z)("Play")}var eo=n(80913);const to={playButton:"PlayButton-playButton-3g-Gk- Link-link-2WGTd7",playCircle:"PlayButton-playCircle-2hG_PH"};var no=Object.prototype.hasOwnProperty,io=Object.getOwnPropertySymbols,so=Object.prototype.propertyIsEnumerable,ro=Object.assign;function ao(e){var{className:t=to.playButton,circleClassName:n=to.playCircle}=e,i=((e,t)=>{var n={};for(var i in e)no.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&io)for(var i of io(e))t.indexOf(i)<0&&so.call(e,i)&&(n[i]=e[i]);return n})(e,["className","circleClassName"]);return y.createElement(xn,ro(ro({},i),{className:t}),y.createElement(eo.Z,{className:n}))}var oo=Object.prototype.hasOwnProperty,lo=Object.getOwnPropertySymbols,co=Object.prototype.propertyIsEnumerable,uo=Object.assign;function po(e){var t,{metadataItem:n}=e,i=((e,t)=>{var n={};for(var i in e)oo.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&lo)for(var i of lo(e))t.indexOf(i)<0&&co.call(e,i)&&(n[i]=e[i]);return n})(e,["metadataItem"]);const[s,r]=cn(),{containerServer:a,containerProvider:o,containerKey:l,containerType:c}=_n(),{metricsPage:d,metricsContextTuple:u}=(0,xt.Zn)(),p=ii(n.sourceURI),m=ii(null==(t=n.onDeck)?void 0:t.sourceURI),h=(0,f.I0)(),g=Ja({containerServer:a,containerProvider:o,server:s,provider:r,metadataItem:n,metadataItemState:p,metricsPage:d,metricsContextTuple:u}),v=cr(n),I=(0,y.useCallback)((()=>{v({action:rr.NH}),g(it.wA({options:{containerKey:l,listType:c}}))}),[l,c,g,v]),b=(0,y.useCallback)((()=>{v({action:rr.NH});const e=is(n);h(qa.lS({serverEntityID:s.entityID,providerEntityID:r.entityID,metricsPage:d,metricsContext:u,options:{containerKey:l,containerType:c,type:$a.pX,identifier:e.channelIdentifier}}))}),[h,l,c,s,r,n,d,u,v]),M=(0,y.useCallback)((()=>{v({action:rr.cO}),g(it.Em())}),[g,v]),S=(0,y.useMemo)((()=>ma(n)?b:n.type===ri.pG.Artist?M:I),[n,b,I,M]);return y.createElement(ao,uo(uo({},i),{"aria-label":Xa(n,p,m),onPress:S}))}var mo=n(31419),ho=n(11947),go=n(38376),yo=n(19402),vo=n(16548),fo=n(46565),Io=n(11203),bo=n(89984),Mo=n(6657),So=n(3386);const Eo=(0,de.P1)($t.Z,_t.Z,((e,t)=>e.filter((e=>e.isFullOwnedServer&&e.isConnected&&!e.isOutOfDate&&e.ownerFeatures.includes(be.Ao))).reduce(((e,n)=>{var i;const s=n.providers.map((e=>t[e])).find((e=>e.identifier===pa.Y3));if(!s)return e;const r=(0,So.Z)(s),a=null!=(i=null==r?void 0:r.directories)?i:[],o={machineIdentifier:n.machineIdentifier,providerIdentifier:s.identifier,serverFriendlyName:n.friendlyName,targetLibraries:[]};return a.forEach((e=>{e.type===ri.pG.Artist&&o.targetLibraries.push({libraryTitle:e.title,libraryType:e.type,librarySectionID:e.id})}),[]),o.targetLibraries.length&&e.push(o),e}),[])));function Do({children:e,targetMachineIdentifier:t,targetProviderIdentifier:n,targetLibrary:i,onAddToLibrary:s}){const r=(0,f.v9)(on(t)),a=(0,f.v9)(en(t,n)),o=(0,y.useCallback)((()=>{s({targetServer:r,targetProvider:a,targetLibrarySectionID:i.librarySectionID,targetLibraryType:i.libraryType})}),[s,i,a,r]);return y.createElement(ho.Z,{onPress:o},e)}function Co({onAddToLibrary:e}){const t=(0,f.v9)(Eo);if(!t.length)return null;if(1===t.length&&1===t[0].targetLibraries.length){const n=t[0];return y.createElement(Do,{targetMachineIdentifier:n.machineIdentifier,targetProviderIdentifier:n.providerIdentifier,targetLibrary:n.targetLibraries[0],onAddToLibrary:e},(0,De.Z)("Add to {serverName}",{serverName:n.serverFriendlyName}))}return y.createElement(yo.Z,{label:(0,De.Z)("Add to Library")},t.map((t=>y.createElement(y.Fragment,{key:`${t.machineIdentifier}:${t.providerIdentifier}`},y.createElement(Mo.Z,null,t.serverFriendlyName),t.targetLibraries.map((n=>y.createElement(Do,{key:n.librarySectionID,targetMachineIdentifier:t.machineIdentifier,targetProviderIdentifier:t.providerIdentifier,targetLibrary:n,onAddToLibrary:e},(0,De.Z)("Add to {libraryName}",{libraryName:n.libraryTitle}))))))))}var Po=Object.assign;function wo({className:e,style:t,children:n,forwardedRef:i,isOpen:s=!0,closeDelayMilliseconds:r=0,allowInteractionEventBubbling:a=!1,onOpen:o,onClose:l}){const[c,d]=(0,y.useState)(s),u=(0,y.useCallback)((e=>{a||e.stopPropagation()}),[a]);return(0,y.useEffect)((()=>{let e;return s?(d(!0),null==o||o()):e=window.setTimeout((()=>{d(!1),null==l||l()}),r),()=>{e&&window.clearTimeout(e)}}),[r,s,l,o]),c?v.createPortal(y.createElement("div",{className:e,style:t,ref:i,onTouchStart:u,onTouchMove:u,onTouchEnd:u,onTouchCancel:u,onMouseDown:u,onMouseUp:u,onClick:u,onFocus:u,onBlur:u},n),document.body):null}const To=y.forwardRef(((e,t)=>y.createElement(wo,Po(Po({},e),{forwardedRef:t}))));function Zo({metadataItem:e,downloadIFrameName:t,onMenuClose:n,onDownloadVersionPress:i,onDownloadFilePress:s}){var r;const[a]=cn(),o=(0,ra.Z)(),l=1===(null==(r=e.Media)?void 0:r.length)?function(e,t){var n;if(!(null==(n=t.Part)?void 0:n.length))return;const i=t.Part[0];return C.Z.join([e.uri,i.key],{download:1,"X-Plex-Token":e.accessToken})}(a,e.Media[0]):null,c=(0,y.useCallback)((()=>{l?(null==s||s(),n()):i()}),[l,s,i,n]);return y.createElement(y.Fragment,null,y.createElement(ho.Z,{to:l,target:t||o,onPress:c},(0,De.Z)("Download File")),t?null:y.createElement(To,null,y.createElement("iframe",{name:o,style:{display:"none"}})))}var No=n(73034);function Ao({server:e,provider:t,metadataItem:n,metadataItemState:i}){const s=(0,f.I0)();return(0,y.useCallback)((r=>{s((0,Ka.redispatchLegacyMetadataAction)({server:e,provider:t,metadataItem:n,metadataItemState:i,legacyAction:r}))}),[s,n,i,t,e])}function xo({metadataItem:e,metadataItemState:t,children:n}){const[i,s]=cn(),r=(0,f.I0)(),a=Ao({server:i,provider:s,metadataItem:e,metadataItemState:t}),o=(0,kt.Z)(Vt.TY,e.key,i.entityID),l=(0,f.v9)((e=>e.entities[Vt.TY][o])),c=(0,y.useMemo)((()=>(0,No.Z)(`${o}_NO_OP`)),[o]),[d,u]=(0,y.useState)(!1),p=(0,y.useCallback)((()=>{r(ar.Z.actions.repopulateRequested({sourceURI:e.sourceURI}))}),[r,e.sourceURI]);return(0,y.useEffect)((()=>{(0,Rt.c9)((()=>{a(c())})),u(!0)}),[a,c]),y.createElement(y.Fragment,null,d&&l?n({serverEntityID:i.entityID,providerEntityID:s.entityID,metadataItemEntityID:o,onMarkStale:p}):null)}var Lo=n(1088);const Oo=function(e){const t=[];if(e.bitrate&&t.push((0,bs.Z)(e.bitrate)),e.videoResolution){const n=(0,Lo.Z)(e),i=n?n.scanType:null;t.push((0,Nr.Z)(e.videoResolution,i))}return{title:e.title,info:t.join(", ")}};var jo=n(34377),ko=n(36245);function Ro({isOpen:e,mediaItems:t,onSelect:n,onCancel:i}){return y.createElement(jo.Z,{isOpen:e,title:(0,De.Z)("Play Version"),metricsPage:et.DV,onItemSelect:n,onCancel:i},t.map(((e,t)=>{const{title:n,info:i}=Oo(e),s=!!n,r=!!(null==i?void 0:i.length);return y.createElement(ko.Z,{key:t,value:t},s?e.title:null,s&&r?y.createElement(tr.Z,null):null,r?i:null,s||r?null:(0,De.Z)("Unknown"))})))}var zo=n(61478);function Uo(e,t,n){return n===zo.PODCAST?t?(0,De.Z)("Remove from My Podcasts"):(0,De.Z)("Add to My Podcasts"):pa.wB(e,pa.xF)?t?(0,De.Z)("Remove from My TIDAL"):(0,De.Z)("Add to My TIDAL"):t?(0,De.Z)("Remove from My Shows"):(0,De.Z)("Add to My Shows")}var Vo=n(94803),Bo=n(90296),Fo=n(34796),Ho=n(69881),_o=n(57721);function Qo(e,t){var n;const i=e.features.find((e=>e.type===At.zW.Actions));return null==(n=null==i?void 0:i.actions)?void 0:n.find((e=>e.id===t))}function Go(e){return pa.wB((0,ga.Z)(e.identifier,e.providerIdentifier),pa.Y3)}const Yo={[ri.pG.Movie]:["isAddToPlaylistVisible","isAddToWatchlistVisible","isAnalyzeVisible","isDeleteVersionVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isFixMatchVisible","isGetInfoVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isMatchVisible","isOptimizeVisible","isPlayTrailerVisible","isPlayVersionVisible","isPlayVisible","isQueueVisible","isRateVisible","isRecordVisible","isRefreshVisible","isRemoveFromContinueWatchingVisible","isRemoveFromWatchlistVisible","isShareVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible","isWatchTogetherVisible"],[ri.pG.Show]:["isAddToPicksVisible","isAddToPlaylistVisible","isAddToSavedVisible","isAddToWatchlistVisible","isAnalyzeVisible","isDeleteVisible","isEditVisible","isFixMatchVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isMatchVisible","isOptimizeVisible","isPlayAllVisible","isPlayTrailerVisible","isPlayVisible","isQueueVisible","isRateVisible","isRecordVisible","isRefreshVisible","isRemoveFromSavedVisible","isRemoveFromWatchlistVisible","isSettingsVisible","isShareVisible","isShuffleVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible"],[ri.pG.Season]:["isAddToPlaylistVisible","isAnalyzeVisible","isDeleteVisible","isEditVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isOptimizeVisible","isPlayAllVisible","isPlayVisible","isQueueVisible","isRateVisible","isShareVisible","isShuffleVisible","isSyncDownloadVisible","isSyncVisible","isViewPlayHistoryVisible"],[ri.pG.Episode]:["isAddToPlaylistVisible","isAnalyzeVisible","isDeleteVersionVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isGetInfoVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isOptimizeVisible","isPlayVersionVisible","isPlayVisible","isQueueVisible","isRateVisible","isRecordVisible","isRefreshVisible","isRemoveFromContinueWatchingVisible","isShareVisible","isSyncDownloadVisible","isSyncVisible","isViewPlayHistoryVisible","isWatchTogetherVisible"],[ri.pG.Artist]:["isAddToLibraryVisible","isAddToPlaylistVisible","isAddToSavedVisible","isAnalyzeVisible","isDeleteVisible","isEditVisible","isFixMatchVisible","isMatchVisible","isPlayAllVisible","isPlayArtistTVVisible","isPlayRadioVisible","isPlayVisible","isQueueVisible","isRateVisible","isRefreshVisible","isRemoveFromSavedVisible","isShareVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible"],[ri.pG.Album]:["isAddToLibraryVisible","isAddToPicksVisible","isAddToPlaylistVisible","isAddToSavedVisible","isAnalyzeVisible","isDeleteVisible","isEditVisible","isFixMatchVisible","isMatchVisible","isPlayVisible","isQueueVisible","isRateVisible","isRefreshVisible","isRemoveFromSavedVisible","isShareVisible","isShuffleVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible"],[ri.pG.Track]:["isAddToLibraryVisible","isAddToPlaylistVisible","isAddToSavedVisible","isAnalyzeVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isGetInfoVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isPlayMusicVideoVisible","isPlayVisible","isQueueVisible","isRateVisible","isRemoveFromSavedVisible","isShareVisible","isSyncDownloadVisible","isSyncVisible","isViewPlayHistoryVisible"],[ri.pG.PhotoAlbum]:["isAddToPlaylistVisible","isAnalyzeVisible","isEditVisible","isPlayVisible","isShareVisible","isShuffleVisible","isSyncVisible"],[ri.pG.Photo]:["isAddToPlaylistVisible","isAnalyzeVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isFavoriteVisible","isGetInfoVisible","isPlayVisible","isShareVisible","isSyncVisible","isUnfavoriteVisible"],[ri.pG.Clip]:["isAddToPlaylistVisible","isAddToSavedVisible","isAnalyzeVisible","isDeleteVersionVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isFixMatchVisible","isGetInfoVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isMatchVisible","isOptimizeVisible","isPlayTrailerVisible","isPlayVersionVisible","isPlayVisible","isQueueVisible","isRateVisible","isRefreshVisible","isRemoveFromSavedVisible","isShareVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible","isWatchTogetherVisible"],[ri.pG.Playlist]:["isAddToSavedVisible","isDeleteVisible","isEditVisible","isModifySmartPlaylistVisible","isPlayVisible","isQueueVisible","isRemoveFromSavedVisible","isShareVisible","isShuffleVisible","isSyncDownloadVisible","isSyncVisible"],[ri.pG.Collection]:["isAddToPlaylistVisible","isDeleteVisible","isEditVisible","isPlayVisible","isQueueVisible","isRateVisible","isShuffleVisible","isSyncVisible"],[ri.pG.Game]:["isPlayVisible","isPlayVersionVisible","isRateVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isEditVisible","isRefreshVisible","isAnalyzeVisible","isFixMatchVisible","isUnmatchVisible","isDeleteVisible","isGetInfoVisible"]};function Wo(e,t){return!!(0,Ft.Z)(e,t)}function Ko(e,t){return!!Qo(e,t)}function qo(e){var t;return null!=(t=null==e?void 0:e.isExtra)&&t&&function(e){const t=e.Media;return!!(null==t?void 0:t.some((e=>e.premium)))}(e)}const $o=({server:e,provider:t,stableUser:n,metadataItem:i})=>function(e,t,n,i){const{isFolder:s,Media:r}=i;if((0,Ft.Z)(t,At.zW.PlayQueue))return!s;const a=!!n.features[be.Ks];return!(!t.protocols.includes(At.rn.LiveTV)||!(e.livetv&&4===e.livetv||a)||!(null==r?void 0:r.length))}(e,t,n,i),Jo=({metadataItem:e})=>!!e.primaryExtraKey,Xo=({server:e,provider:t,stableUser:n,metadataItem:i})=>{if(!t)return!1;const s=(0,Ft.Z)(t,At.zW.Playlist);return!(!s||!(0,_o.d)(n,s)||i.type===ri.pG.Game||qo(i)||e.isEmbedded)},el=({provider:e,stableUser:t,metadataItemState:n})=>{const i=Qo(e,At.rf.Save);return!!(i&&(0,_o.d)(t,i)&&n.isPopulated)},tl=({provider:e,stableUser:t,metadataItemState:n})=>{const i=Qo(e,At.rf.AddToWatchlist);return!!(i&&(0,_o.d)(t,i)&&n.isPopulated)},nl=({provider:e,stableUser:t,metadataItem:n})=>{if(!e)return!1;const i=n.type===ri.pG.Track||n.type===ri.pG.Album||n.type===ri.pG.Artist,s=pa.wB(e.identifier,pa.xF),r=!!t.features[be.Ao],a=(0,_o.d)(t,{requires:Bo.s});return i&&s&&r&&a};function il({provider:e,metadataItem:t,metadataItemState:n}){return!(!Ko(e,At.rf.Rate)||(0,Ho.isDirectoryType)(t.type)||t.isFolder||!n.isPopulated)}const sl=({provider:e,metadataItem:t})=>{const n=(0,Ft.Z)(e,At.zW.Subscribe);return ma(t)&&!!n},rl=({server:e,provider:t,metadataItem:n,metadataItemState:i})=>!!Qo(t,At.rf.Rate)&&!n.isFolder&&i.isPopulated&&!e.isEmbedded,al=({provider:e,metadataItem:t,metadataItemState:n})=>{const i=Qo(e,At.rf.Scrobble);return!(!i||!i.key||e.protocols.includes(At.rn.LiveTV)||t.type===ri.pG.Track&&t.subtype!==ri.y_.Podcast||!n.isPopulated||null!=n.saved&&!n.saved&&!n.viewOffset||t.isExtra)&&((0,Ho.isParentType)(t.type)?!!n.unviewedLeafCount&&n.unviewedLeafCount>0:!n.viewCount||!!n.viewOffset)},ol=({provider:e,metadataItem:t,metadataItemState:n})=>{const i=Qo(e,At.rf.Scrobble);return!(!i||!i.reverseKey||e.protocols.includes(At.rn.LiveTV)||t.type===ri.pG.Track&&t.subtype!==ri.y_.Podcast||!n.isPopulated||null!=n.saved&&!n.saved||t.isExtra)&&((0,Ho.isParentType)(t.type)?!!n.viewedLeafCount&&n.viewedLeafCount>0:!!n.viewCount||!!n.viewOffset)},ll=({provider:e,metadataItem:t})=>{const{isPlaylist:n,isExtra:i,isFolder:s,radio:r,readOnly:a}=t,o=!i&&!s&&!r;return n?!a:Wo(e,At.zW.Manage)&&o},cl=({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s})=>ll({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s}),dl=({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s})=>!i.indirect&&!i.remoteMedia&&ll({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s}),ul=({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s})=>!!ll({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s})&&!(!i.guid||/(local|none):\/\//.test(i.guid)),pl=({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s})=>!!ll({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s})&&i.type!==ri.pG.Game&&!(i.remoteMedia||!e.transcoderVideo||!e.backgroundProcessing),ml=({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s})=>!!ll({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s})&&!!(i.isPlaylist||i.type===ri.pG.Collection||i.remoteMedia||e.allowMediaDeletion),hl={isAddToLibraryVisible:nl,isAddToPicksVisible:({provider:e,stableUser:t})=>!(!t.features[be.Ah]||!Ko(e,At.rf.Pick)),isAddToPlaylistVisible:Xo,isAddToSavedVisible:e=>el(e)&&!1===e.metadataItemState.saved,isAddToWatchlistVisible:e=>tl(e)&&!e.metadataItemState.watchlistedAt,isAnalyzeVisible:dl,isDeleteVersionVisible:({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s})=>{var r;if(!ll({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s}))return!1;if(!e.allowMediaDeletion)return!1;const a=null==(r=i.Media)?void 0:r.filter((e=>!!e.proxyType));return!!(null==a?void 0:a.length)},isDeleteVisible:ml,isDownloadFileVisible:({provider:e,metadataItem:t})=>!(!J.Z.allowDirectDownload||!e.protocols.includes(At.rn.Download)||t.isExtra||t.remoteMedia),isEditVisible:ll,isFavoriteVisible:({provider:e,stableUser:t,metadataItem:n,metadataItemState:i})=>il({provider:e,stableUser:t,metadataItem:n,metadataItemState:i})&&!(0,Fo.ZP)(i),isFixMatchVisible:ul,isGetInfoVisible:({provider:e,metadataItem:t})=>!!e&&Go(e)&&!t.isExtra&&!t.indirect,isMarkPlayedVisible:al,isMarkUnplayedVisible:ol,isMatchVisible:({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s})=>!!ll({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s})&&!!i.guid&&!ul({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s}),isModifySmartPlaylistVisible:({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s})=>!!ll({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s})&&!!i.smart,isOptimizeVisible:pl,isPlayAllVisible:({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s})=>!(!$o({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s})||i.type!==ri.pG.Artist&&(!i.onDeck||!s.viewedLeafCount)),isPlayArtistTVVisible:({metadataItem:e})=>function(e){return!!e.stations&&e.stations.some((e=>e.playlistType===ri.DD.Video))}(e),isPlayMusicVideoVisible:Jo,isPlayRadioVisible:({metadataItem:e})=>function(e){return!!e.stations&&e.stations.some((e=>e.playlistType===ri.DD.Audio))}(e),isPlayTrailerVisible:Jo,isPlayVersionVisible:({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s})=>!!$o({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s})&&Go(t)&&!!i.Media&&i.Media.length>1,isPlayVisible:$o,isQueueVisible:({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s})=>$o({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s})&&Wo(t,At.zW.PlayQueue)&&!qo(i),isRateVisible:rl,isRecordVisible:sl,isRefreshVisible:cl,isRemoveFromContinueWatchingVisible:e=>{const t=!!e.stableUser.features[be.eT],n=Qo(e.provider,At.rf.RemoveFromContinueWatching);return t&&!!n},isRemoveFromSavedVisible:e=>el(e)&&!0===e.metadataItemState.saved,isRemoveFromWatchlistVisible:e=>tl(e)&&!!e.metadataItemState.watchlistedAt,isSettingsVisible:({provider:e,metadataItemState:t})=>!Wo(e,At.zW.Manage)&&t.isPopulated&&null!=t.preferences,isShareVisible:({server:e,provider:t,metadataItem:n})=>Go(t)&&e.isFullOwnedServer&&!n.isExtra&&!n.remoteMedia,isShuffleVisible:({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s})=>!i.radio&&$o({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s})&&Wo(t,At.zW.PlayQueue),isSplitApartVisible:({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s})=>{var r;if(!ll({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s}))return!1;let a;return a=(0,Ho.isParentType)(i.type)?i.Location:null==(r=i.Media)?void 0:r.filter((e=>!e.proxyType)),!!a&&a.length>1},isSyncDownloadVisible:({server:e,provider:t,metadataItem:n,stableUser:i})=>{if(!J.Z.allowSyncDownload)return!1;if(!t)return!1;if(!pa.QN.includes(t.identifier))return!1;if(n.isPlaylist&&n.playlistType===ri.DD.Photo)return!1;if(!n.hasOwnProperty("guid"))return!1;if(n.remoteMedia)return!1;const s=(0,Ft.Z)(t,At.zW.Subscribe),r=(null==s?void 0:s.flavor)===Vo.HN&&!!i.features[be.PL];return Go(t)?e.allowSync&&r:r},isSyncVisible:({server:e,provider:t,stableUser:n,metadataItem:i})=>{if(!J.Z.allowSync)return!1;if(!Go(t))return!1;if(n.features[be.PL])return!1;const{isExtra:s,remoteMedia:r}=i;return!s&&!r&&!(!e.allowSync||!i.allowSync)},isUnfavoriteVisible:({provider:e,stableUser:t,metadataItem:n,metadataItemState:i})=>il({provider:e,stableUser:t,metadataItem:n,metadataItemState:i})&&(0,Fo.ZP)(i),isUnmatchVisible:({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s})=>ul({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s}),isViewPlayHistoryVisible:({server:e,provider:t,metadataItem:n})=>Go(t)&&e.isFullOwnedServer&&!e.isEmbedded&&!n.isExtra,isWatchTogetherVisible:({provider:e,stableUser:t,metadataItem:n})=>{const i=!!t.features[be.Bs],s=pa.wB(e.identifier,[pa.Y3,pa.uk]);return i&&s&&!n.isExtra}};function gl({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s}){const r=Yo[i.type];return r?r.reduce(((r,a)=>{const o=hl[a];return r[a]=!!(e&&t&&i)&&o({server:e,provider:t,stableUser:n,metadataItem:i,metadataItemState:s}),r}),{}):{}}function yl(e,t){switch(t){case ri.y_.Podcast:switch(e){case ri.pG.Show:return ri.pG.Track}}switch(e){case ri.pG.Show:return ri.pG.Season;case ri.pG.Season:return ri.pG.Episode;case ri.pG.Artist:return ri.pG.Album;case ri.pG.Album:return ri.pG.Track;case ri.pG.PhotoAlbum:return ri.pG.Photo;case ri.pG.Collection:switch(t){case ri.y_.Movie:return ri.pG.Movie;case ri.y_.Show:return ri.pG.Show;case ri.y_.Artist:return ri.pG.Artist;case ri.y_.Album:return ri.pG.Album}}}function vl(e,t){switch(t){case ri.y_.Podcast:switch(e){case ri.pG.Show:return ri.pG.Track}}switch(e){case ri.pG.Show:case ri.pG.Season:return ri.pG.Episode;case ri.pG.Artist:case ri.pG.Album:return ri.pG.Track;case ri.pG.PhotoAlbum:return ri.pG.Photo;case ri.pG.Collection:switch(t){case ri.y_.Movie:return ri.pG.Movie;case ri.y_.Show:return ri.pG.Episode;case ri.y_.Artist:case ri.y_.Album:return ri.pG.Track}}}var fl,Il,bl,Ml;function Sl(e,t){let n=e[t];return n||(n={},e[t]=n),n}(Il=fl||(fl={})).Queued="queued",Il.Matching="matching",Il.Processing="processing",Il.Loading="loading",(Ml=bl||(bl={})).Analyzing="analyzing",Ml.Thumbnailing="thumbnailing";const El=(0,Fr.oM)({name:"metadataTimelineState",initialState:{},reducers:{metadataRefreshRequested(e,{payload:t}){const n=Sl(e,t.sourceURI);n.metadataState||(n.metadataState=fl.Queued)},metadataRefreshFailed(e,{payload:t}){const n=Sl(e,t.sourceURI);(null==n?void 0:n.mediaState)?n.metadataState=void 0:delete e[t.sourceURI]},mediaAnalysisRequested(e,{payload:t}){if(!t.hasChildren){const n=Sl(e,t.sourceURI);n.mediaState||(n.mediaState=bl.Analyzing)}},mediaAnalysisFailed(e,{payload:t}){const n=Sl(e,t.sourceURI);(null==n?void 0:n.metadataState)?n.mediaState=void 0:delete e[t.sourceURI]},timelineStatesChanged(e,{payload:t}){const n=Sl(e,t.sourceURI);t.metadataState||t.mediaState?(n.metadataState=t.metadataState,n.mediaState=t.mediaState):delete e[t.sourceURI]}}});var Dl=n(46905);const Cl=(0,Fr.oM)({name:"addToPlaylist",initialState:{},reducers:{playlistSaveRequested(e,{payload:t}){e[t.sourceURI]={isSaving:!0,saveError:null}},playlistSaveSucceeded(e,{payload:t}){const n=e[t.sourceURI];n.isSaving=!1,n.playlistKey=t.playlistKey},playlistSaveFailed(e,{payload:t}){const n=e[t.sourceURI];n.isSaving=!1,n.saveError=t.error}}});function Pl({playlist:e,onPlaylistPress:t}){const n=(0,y.useCallback)((()=>t(e.key)),[t,e.key]);return y.createElement(ho.Z,{onPress:n},e.title)}const wl=function(e){return(0,de.P1)(ei,(t=>t.metadataLists[e]))},Tl=function({server:e,provider:t,playlistType:n}){const i=(0,f.I0)(),s=(0,Ft.Z)(t,At.zW.Playlist),r=s?C.Z.join([s.key],{playlistType:n,smart:0,sort:"updatedAt:desc"}):void 0,a=r?(0,jt.Z)({serverIdentifier:e.machineIdentifier,providerIdentifier:t.identifier,key:r}):void 0,o=(0,y.useMemo)((()=>a?wl(a):()=>{}),[a]),l=(0,f.v9)(o);return(0,y.useEffect)((()=>{a&&!l&&i(Gn.Z.actions.added({metadataItemStates:{},metadataLists:[{sourceURI:a,items:[],offset:0}]}))}),[i,l,a]),l};function Zl({sourceURI:e,playlistType:t,advancedFiltersRoute:n,onAddToPlaylistPress:i,onAddToSmartPlaylistPress:s,onMenuClose:r,onPlaylistSave:a}){const o=(0,f.I0)(),[l,c]=cn(),d=Tl({server:l,provider:c,playlistType:t}),u=(0,y.useCallback)((t=>{o(Cl.actions.playlistSaveRequested({destinationServer:l,destinationProvider:c,playlistKey:t,sourceURI:e})),null==a||a(),r()}),[c,l,o,r,a,e]);return(0,y.useEffect)((()=>{(null==d?void 0:d.sourceURI)&&o(Gn.Z.actions.fetchRangeRequested({sourceURI:d.sourceURI,server:l,provider:c,startIndex:0,size:3}))}),[o,l,c,null==d?void 0:d.sourceURI]),y.createElement(y.Fragment,null,y.createElement(ho.Z,{onPress:(0,vo.Z)(i,r)},(0,De.Z)("Add to Playlist...")),s?y.createElement(ho.Z,{onPress:(0,vo.Z)(s,r)},(0,De.Z)("Save as Smart Playlist...")):null,n?y.createElement(ho.Z,{to:n,onPress:r},(0,De.Z)("Create Smart Playlist")):null,(null==d?void 0:d.items.length)?y.createElement(y.Fragment,null,y.createElement(go.Z,null),y.createElement(Mo.Z,null,(0,De.Z)("Add to...")),d.items.slice(0,3).map((e=>y.createElement(Pl,{key:e.key,playlist:e,onPlaylistPress:u})))):null)}var Nl=n(42283);const Al={button:"SpinnerButton-button-1CCIvZ Button-button-1q7C1V Link-link-2WGTd7",spinnerContainer:"SpinnerButton-spinnerContainer-CeEPyV",spinner:"SpinnerButton-spinner-Xia4yg Spinner-spinner-CSMaLA spin-spin-oHlEXH",label:"SpinnerButton-label-19yGUw",isSpinning:"SpinnerButton-isSpinning-3Ulf1A"};var xl=Object.prototype.hasOwnProperty,Ll=Object.getOwnPropertySymbols,Ol=Object.prototype.propertyIsEnumerable,jl=Object.assign;function kl(e){var{className:t=Al.button,spinnerSize:n=We.Small,isDisabled:i=!1,isSpinning:s=!1,children:r}=e,a=((e,t)=>{var n={};for(var i in e)xl.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Ll)for(var i of Ll(e))t.indexOf(i)<0&&Ol.call(e,i)&&(n[i]=e[i]);return n})(e,["className","spinnerSize","isDisabled","isSpinning","children"]);return y.createElement(zn,jl({className:we()(t,s&&Al.isSpinning),isDisabled:i||s},a),y.createElement("span",{className:Al.spinnerContainer},y.createElement(qe,{className:Al.spinner,size:n})),y.createElement("span",{className:Al.label},r))}const Rl={input:"TextInput-input-2FGxDj",small:"TextInput-small-HOJY2T",medium:"TextInput-medium-2CTdgu",large:"TextInput-large-2pF07V",isDisabled:"TextInput-isDisabled-2Sh2dy",hasError:"TextInput-hasError-21Dj3_"};var zl=Object.prototype.hasOwnProperty,Ul=Object.getOwnPropertySymbols,Vl=Object.prototype.propertyIsEnumerable,Bl=Object.assign;function Fl(e){var{forwardedRef:t,className:n=Rl.input,errorClassName:i=Rl.hasError,disabledClassName:s=Rl.isDisabled,isDisabled:r=!1,hasFocusOnMount:a=!1,hasError:o=!1,name:l,size:c=We.Medium,onFocus:d}=e,u=((e,t)=>{var n={};for(var i in e)zl.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Ul)for(var i of Ul(e))t.indexOf(i)<0&&Vl.call(e,i)&&(n[i]=e[i]);return n})(e,["forwardedRef","className","errorClassName","disabledClassName","isDisabled","hasFocusOnMount","hasError","name","size","onFocus"]);return y.createElement("input",Bl({className:we()(n,Rl[c],r&&s,o&&i),name:l,disabled:r,autoFocus:a,ref:t,onFocus:d},u))}const Hl=y.forwardRef(((e,t)=>y.createElement(Fl,Bl(Bl({},e),{forwardedRef:t}))));var _l=n(82777),Ql=n(88898),Gl=n(93839),Yl=n(25713),Wl=n(60514),Kl=n(46053),ql=Object.assign;function $l(e,t=!0){const{metricsPage:n,metricsContextTuple:i}=(0,xt.Zn)();(0,y.useEffect)((()=>{t?(0,M.DB)("metrics").trackView(ql(ql({},e),{page:n,contextTuple:i})):Kl.Z.startPeriod(`client:view:${n}`)}),[t,i,n,JSON.stringify(e)])}const Jl={modalContainer:"Modal-modalContainer-2u0GFY",modalBackdrop:"Modal-modalBackdrop-3DObWU",modal:"Modal-modal-2XtIR-",small:"Modal-small-1moKCP Modal-modal-2XtIR-",medium:"Modal-medium-2I8RQW Modal-modal-2XtIR-",large:"Modal-large-wDLc6- Modal-modal-2XtIR-"},Xl=(0,Ql.Z)(Ur.Z.modalSpeed),ec=1e3*Xl,tc={ease:"easeOut",duration:Xl},nc={ease:Yl.Z.motionEasing,duration:Xl},ic={opacity:tc},sc={enter:{opacity:1,transition:ic},exit:{opacity:0,transition:ic}},rc={scale:nc,opacity:tc},ac={enter:{opacity:1,scale:1,transition:rc},exit:{opacity:0,scale:.95,transition:rc}};function oc(e,t){const n=function(e){if(function(e){return e.nativeEvent instanceof MouseEvent}(e))return e.target;const t=e.changedTouches;if(1===t.length){const e=t[0];return document.elementFromPoint(e.clientX,e.clientY)}return null}(e);if(n){const e=v.findDOMNode(t);return!e||!e.contains(n)}return!1}function lc({children:e,className:t,backdropClassName:n=Jl.modalBackdrop,containerClassName:i=Jl.modalContainer,size:s=We.Medium,isOpen:r,shouldTrackOnClose:a=!1,preventCloseOnBackdropPress:o=!1,onModalClose:l}){const c=(0,y.useRef)(null),d=(0,y.useRef)(!1),u=(0,y.useCallback)((e=>{d.current=oc(e,c.current)}),[]),p=(0,y.useCallback)((e=>{!o&&d.current&&oc(e,c.current)&&l(),d.current=!1}),[l,o]),m=(0,y.useCallback)((e=>{d.current=!1}),[]),h=(0,y.useCallback)((e=>{d.current=!1}),[]),g=(0,y.useCallback)((e=>{const t=e.keyCode;t===Wl.Mf?Gl.QE(e):t===Wl.hY&&(e.preventDefault(),e.stopPropagation(),l(),Gl.sM())}),[l]),f=(0,y.useCallback)((e=>{c.current=e,e&&Gl.LJ(v.findDOMNode(e))}),[]);return $l({},r),function(e,t=!1){const{metricsPage:n}=(0,xt.Zn)(),i=(0,zr.Z)(e);(0,y.useEffect)((()=>{i&&!e&&t&&(0,M.DB)("metrics").trackView({page:n,action:rr.GP})}),[e,i,t,n])}(r,a),(0,y.useEffect)((()=>{let e;return r&&(e=window.setTimeout(Gl.pc,ec),document.addEventListener("keydown",g)),()=>{e&&window.clearTimeout(e),r&&document.removeEventListener("keydown",g)}}),[r,g]),y.createElement(To,{isOpen:r,closeDelayMilliseconds:ec,className:i},y.createElement(_l.M_,null,r?y.createElement(_l.ww.div,{key:"backdrop",initial:"exit",animate:"enter",exit:"exit",variants:sc,className:n,onMouseDown:u,onMouseUp:p,onTouchStart:u,onTouchEnd:p,onTouchMove:m,onTouchCancel:h},y.createElement(_l.ww.div,{key:"modal",initial:"exit",animate:"enter",exit:"exit",variants:ac,className:t||Jl[s],ref:f},e)):void 0))}var cc=n(53863);function dc({children:e,className:t="ModalContent-modalContent-3nQys3",onModalClose:n}){return y.createElement("div",{className:t},y.createElement(xn,{className:"ModalContent-closeButton-4AZIef Link-link-2WGTd7",onPress:n},y.createElement(cc.Z,null)),e)}function uc({message:e}){return y.createElement("div",{className:"ModalError-container-16ldVo"},y.createElement(Ce.Z,{className:"ModalError-icon-2XllX1"}),y.createElement("div",{className:"ModalError-message-3q4K2R"},e))}function pc({children:e,className:t="ModalFooter-modalFooter-5RLmoy"}){return y.createElement("div",{className:t},e)}function mc({children:e,className:t="ModalHeader-modalHeader-3KcAOv"}){return y.createElement("div",{className:t},e)}function hc({children:e,className:t="ModalSubheader-modalSubheader-1FumeI"}){return y.createElement("div",{className:t},e)}var gc=n(7665),yc=n(74186),vc=n(27620);function fc(e,t){return e.isCloud?t.sourceTitle?`${t.title} - ${t.sourceTitle}`:t.title:e.friendlyName}var Ic=n(64469);function bc({server:e,provider:t,isSelected:n,onDestinationChange:i}){const s=(0,y.useCallback)((()=>{const n=(0,jt.Z)({serverIdentifier:e.machineIdentifier,providerIdentifier:t.identifier});i(n)}),[i,t.identifier,e.machineIdentifier]);return y.createElement(Ic.Z,{isSelected:n,onPress:s},fc(e,t))}function Mc({server:e,provider:t,destinations:n,isDisabled:i,onDestinationChange:s}){const r=(0,ra.Z)(),a=(0,Dl.Z)();return y.createElement(y.Fragment,null,y.createElement(xn,{id:r,"aria-label":(0,De.Z)("Playlist destination"),isDisabled:i,onPress:a.onToggle},fc(e,t),y.createElement(gc.Z,{direction:a.isOpen?yc.UP:yc.WV})),y.createElement(mo.Z,{size:vc.ln,target:r,isOpen:a.isOpen,onMenuClose:a.onClose},n?n.map(((n,i)=>{const[r,o]=n,l=e.machineIdentifier===r.machineIdentifier&&t.identifier===o.identifier;return y.createElement(bc,{key:i,isSelected:l,server:r,provider:o,onDestinationChange:(0,vo.Z)(s,a.onClose)})})):null))}var Sc,Ec,Dc=n(57639);function Cc({direction:e=Sc.Vertical,rows:t,columns:n,overscan:i=0,innerHorizontalPadding:s=0,innerVerticalPadding:r=0,outerPaddingTop:a=0,outerPaddingRight:o=0,outerPaddingBottom:l=0,outerPaddingLeft:c=0,getCellWidth:d,getCellHeight:u}){return{getListMeasurements(i,p){const m=i.listTop,h=i.listLeft;let g=(i.viewportWidth||0)-o-c,y=(i.viewportHeight||0)-a-l;e===Sc.Vertical?g-=h:y-=m,g=Math.max(0,g),y=Math.max(0,y);const v=d({innerViewportWidth:g,innerViewportHeight:y,innerHorizontalPadding:s,innerVerticalPadding:r}),f=u({cellWidth:v,innerViewportWidth:g,innerViewportHeight:y,innerHorizontalPadding:s,innerVerticalPadding:r}),I=Math.max(0,t||Math.floor((y+r)/(f+r))),b=Math.max(0,n||Math.floor((g+s)/(v+s))),M=b*I;let S=0,E=0;return e===Sc.Vertical&&b?(S=b*(v+s)-s,E=Math.ceil(p/b)*(f+r)-r):e===Sc.Horizontal&&I&&(S=Math.ceil(p/I)*(v+s)-s,E=I*(f+r)-r),{width:S+o+c,height:E+a+l,outerPaddingTop:a,outerPaddingRight:o,outerPaddingBottom:l,outerPaddingLeft:c,listTop:m,listLeft:h,cellWidth:v,cellHeight:f,cellsPerColumn:I,cellsPerRow:b,cellsPerPage:M}},getPositionForIndex(t,n){const{listTop:i,listLeft:o,cellWidth:l,cellHeight:d}=n,u=function(t,n){return e===Sc.Vertical?t%n.cellsPerRow:Math.floor(t/n.cellsPerColumn)}(t,n),p=function(t,n){return e===Sc.Vertical?Math.floor(t/n.cellsPerRow):t%n.cellsPerColumn}(t,n);return{column:u,row:p,cellX:u*(l+s)+o+c,cellY:p*(d+r)+i+a,cellWidth:l,cellHeight:d}},getRangesForPosition(t,n,a,o){const{listTop:l,listLeft:c,cellWidth:d,cellHeight:u,cellsPerColumn:p,cellsPerRow:m,cellsPerPage:h}=o,g=u+r,y=d+s,v=t-l,f=n-c,I=e===Sc.Vertical?m:p,b=e===Sc.Vertical?v/g:f/y,M=h+2*I+i*I*2,S=Math.ceil(b)*I,E=S+h-1;let D=S-I*i;const C=(0,Dc.Z)(D,a)+M-1;return C>=a&&(D=a-M),{visibleStartIndex:(0,Dc.Z)(S,a),visibleEndIndex:(0,Dc.Z)(E,a),renderStartIndex:(0,Dc.Z)(D,a),renderEndIndex:(0,Dc.Z)(C,a)}}}}(Ec=Sc||(Sc={})).Vertical="vertical",Ec.Horizontal="horizontal";var Pc=Object.prototype.hasOwnProperty,wc=Object.getOwnPropertySymbols,Tc=Object.prototype.propertyIsEnumerable,Zc=Object.assign;function Nc(e){var{rowHeight:t,rowWidth:n=0}=e,i=((e,t)=>{var n={};for(var i in e)Pc.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&wc)for(var i of wc(e))t.indexOf(i)<0&&Tc.call(e,i)&&(n[i]=e[i]);return n})(e,["rowHeight","rowWidth"]);return Cc(Zc({direction:Sc.Vertical,columns:1,getCellWidth:e=>Math.max(n,e.innerViewportWidth),getCellHeight:()=>t},i))}var Ac=n(53274);const xc=window.ResizeObserver||Ac.d;var Lc=n(73754),Oc=Object.assign;const jc=(0,y.memo)((function({keyPropName:e,items:t,totalSize:n,layout:i,measurements:s,renderStartIndex:r,renderEndIndex:a,visibleStartIndex:o,visibleEndIndex:l,cellComponentFactory:c,minPageCount:d,minPageSize:u,pageRequestDelay:p,onPageRequest:m,onListUpdate:h}){const g=(0,zr.Z)(r),v=(0,y.useRef)(!1);r!==g&&(v.current=null!=g&&r<g),(0,y.useEffect)((()=>{let e;if(m&&d&&u){const i=v.current,s=a-r+1,o=Math.max(s*d,u);let l,c=!1;if(i){const e=Math.max(a-o+1,0);for(l=a;l>=e;){if(null==t[l]){c=!0;break}l--}}else{const e=Math.min(r+o-1,n-1);for(l=r;l<=e;){if(null==t[l]){c=!0;break}l++}}c&&(e=window.setTimeout((()=>{m({startIndex:l,size:o,isPrepend:i})}),p))}return()=>window.clearTimeout(e)}),[t,d,u,m,p,g,a,r,n]),(0,y.useEffect)((()=>{h&&h({renderStartIndex:r,renderEndIndex:a,visibleStartIndex:o,visibleEndIndex:l})}),[h,a,r,l,o]);const f=[];for(let n=r;n<=a;n++){const r=t[n],a=n>=o&&n<=l,d=i.getPositionForIndex(n,s);f.push(c(Oc({key:String(r&&e?r[e]:n),isVirtual:!0,isVisible:a,cellIndex:n,item:r},d)))}return y.createElement(y.Fragment,null,f)}));function kc({className:e,children:t,keyPropName:n,items:i,totalSize:s,layout:r,cellComponentFactory:a,viewportWidth:o,viewportHeight:l,listTop:c=0,listLeft:d=0,scrollTop:u,scrollLeft:p,isWaitingToRestoreScrollPosition:m=!1,minPageCount:h=3,minPageSize:g=24,pageRequestDelay:v=Lc.IT,onPageRequest:f,onListReady:I,onListUpdate:b}){const M=(0,y.useMemo)((()=>r.getListMeasurements({viewportWidth:o,viewportHeight:l,listTop:c,listLeft:d},s)),[o,l,r,c,d,s]),{renderStartIndex:S,renderEndIndex:E,visibleStartIndex:D,visibleEndIndex:C}=(0,y.useMemo)((()=>r.getRangesForPosition(u,p,s,M)),[r,M,p,u,s]);return(0,y.useEffect)((()=>{I&&I(M)}),[M,I]),y.createElement("div",{className:e,style:{width:M.width,height:M.height}},m?null:y.createElement(jc,{keyPropName:n,items:i,totalSize:s,layout:r,measurements:M,renderStartIndex:S,renderEndIndex:E,visibleStartIndex:D,visibleEndIndex:C,cellComponentFactory:a,minPageCount:h,minPageSize:g,pageRequestDelay:v,onPageRequest:f,onListUpdate:b}),t)}const Rc={scroller:"VirtualListScroller-scroller-2VrU8W Scroller-scroller-3Rbtv0"};var zc=Object.prototype.hasOwnProperty,Uc=Object.getOwnPropertySymbols,Vc=Object.prototype.propertyIsEnumerable,Bc=Object.assign;function Fc(e,t){if(t.shouldCenterCell){const n=(t.viewportDimension-t.cellDimension)/2,i=Math.round(e-n);return Math.max(i,0)}return e-(t.offset||0)}function Hc(e){var{className:t=Rc.scroller,scrollerKey:n="VirtualListScroller",scrollerStyle:i,virtualListClassName:s,layout:r,resizeTimeout:a,scrollDirection:o=Ne.Vertical,targetScrollIndex:l,shouldCenterScrollIndex:c=!1,autoScroll:d=!0,smoothScroll:u=!0,renderAboveList:p,renderBelowList:m,onListReady:h}=e,g=((e,t)=>{var n={};for(var i in e)zc.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Uc)for(var i of Uc(e))t.indexOf(i)<0&&Vc.call(e,i)&&(n[i]=e[i]);return n})(e,["className","scrollerKey","scrollerStyle","virtualListClassName","layout","resizeTimeout","scrollDirection","targetScrollIndex","shouldCenterScrollIndex","autoScroll","smoothScroll","renderAboveList","renderBelowList","onListReady"]);const[v,f]=(0,y.useState)({scrollTop:0,scrollLeft:0}),[I,b]=(0,y.useState)({width:0,height:0}),M=!(!I.width||!I.height),[S,E]=(0,y.useState)(void 0),D=function(e){const t=(0,y.useRef)(null),n=(0,y.useRef)(null);return(0,y.useEffect)((()=>(t.current&&(n.current=new xc(e),n.current.observe(t.current)),()=>{var e;null==(e=n.current)||e.disconnect(),n.current=null})),[e]),t}((0,y.useCallback)((([e])=>{b({width:e.target.clientWidth,height:e.target.clientHeight})}),[])),C=(0,y.useMemo)((()=>{if(!S||!I||null==l)return;const e=r.getPositionForIndex(Math.max(l,0),S);return function(e,t,n){const{shouldCenterCell:i,measurements:s,listMeasurements:r}=n;return{scrollTop:e===Ne.Vertical||e===Ne.Omni?Fc(t.cellY,{shouldCenterCell:i,viewportDimension:s.height,offset:r.outerPaddingTop,cellDimension:t.cellHeight}):0,scrollLeft:e===Ne.Horizontal||e===Ne.Omni?Fc(t.cellX,{shouldCenterCell:i,viewportDimension:s.width,offset:r.outerPaddingLeft,cellDimension:t.cellWidth}):0}}(o,e,{shouldCenterCell:c,measurements:I,listMeasurements:S})}),[r,S,I,o,c,l]);let P,w;C&&(P=C.scrollTop,w=C.scrollLeft);const T=(0,y.useCallback)((({scrollLeft:e,scrollTop:t})=>{f({scrollTop:t,scrollLeft:e})}),[]),{isWaitingToRestoreScrollPosition:Z,scrollRestoreProps:N,onScrollPositionReady:A}=gn({key:n,onScrollPositionChange:T}),x=(0,y.useCallback)((e=>{E(e),A(),h&&h(e)}),[h,A]);return y.createElement(Oe,Bc({className:t,style:i,scrollDirection:o,autoScroll:d,smoothScroll:u,targetScrollTop:P,targetScrollLeft:w,ref:D},N),p&&!Z?p(I):null,M?y.createElement(kc,Bc({className:s,layout:r,scrollTop:v.scrollTop,scrollLeft:v.scrollLeft,isWaitingToRestoreScrollPosition:Z,viewportWidth:I.width,viewportHeight:I.height,onListReady:x},g)):null,m&&!Z?m(I):null)}var _c=Object.assign;function Qc({forwardedRef:e,className:t="ListRow-row-F6OwAL",alternateClassName:n="ListRow-alternateRow-191543 ListRow-row-F6OwAL",hoveredClassName:i="ListRow-isHovered-_xWkhV",tabIndex:s,style:r={},isAlternate:a=!1,isHovered:o=!1,children:l,onFocus:c,onBlur:d}){return y.createElement("div",{tabIndex:s,style:r,className:we()(a?n:t,o&&i),ref:e,onFocus:c,onBlur:d},l)}const Gc=y.forwardRef(((e,t)=>y.createElement(Qc,_c(_c({},e),{forwardedRef:t}))));var Yc=Object.assign;function Wc({className:e="ListRowPlaceholder-placeholder-1kv0AL",style:t,index:n}){return y.createElement(Gc,{className:e,style:Yc({animationDelay:n%12*200+"ms"},t)})}var Kc=Object.prototype.hasOwnProperty,qc=Object.getOwnPropertySymbols,$c=Object.prototype.propertyIsEnumerable;function Jc(e){var{server:t,provider:n,sourceURI:i,isDisabled:s,item:r}=e,a=((e,t)=>{var n={};for(var i in e)Kc.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&qc)for(var i of qc(e))t.indexOf(i)<0&&$c.call(e,i)&&(n[i]=e[i]);return n})(e,["server","provider","sourceURI","isDisabled","item"]);const[o,l]=aa(),c=Br(a),{cellIndex:d}=a,u=(0,f.I0)(),p=(0,y.useCallback)((()=>{r&&(0,Rt.c9)((()=>{u(Cl.actions.playlistSaveRequested({destinationServer:t,destinationProvider:n,playlistKey:r.key,sourceURI:i}))}))}),[i,u,r,n,t]);if(!r)return y.createElement(Wc,{style:c.style,index:d});const{title:m,thumb:h,composite:g}=r;return y.createElement(Gc,{style:c.style,isAlternate:!!(d%2),isHovered:o,ref:l},y.createElement(xn,{className:"PlaylistListItem-item-1CmHQB Link-link-2WGTd7",isDisabled:s,onPress:p},y.createElement("div",{className:"PlaylistListItem-imageContainer-pDHV8Z"},y.createElement(ft.Z,{className:"PlaylistListItem-image-2tdEKR",serverEntityID:t.entityID,providerEntityID:n.entityID,url:h||g,width:40,height:40,component:mt.Z,preloadOnMount:!1,animateOnMount:!1})),y.createElement("div",{className:"PlaylistListItem-title-1i0gYl"},m)))}const Xc="PlaylistList-container-O8w9Oc";var ed=Object.assign;function td({server:e,provider:t,sourceURI:n,isSaving:i,playlistType:s}){var r;const a=(0,f.I0)(),o=Tl({server:e,provider:t,playlistType:s}),l=null!=(r=null==o?void 0:o.totalSize)?r:5,c=(0,y.useCallback)((n=>{(null==o?void 0:o.sourceURI)&&a(Gn.Z.actions.fetchRangeRequested(ed(ed({},n),{server:e,provider:t,sourceURI:null==o?void 0:o.sourceURI})))}),[null==o?void 0:o.sourceURI,a,e,t]);(0,y.useEffect)((()=>()=>{(null==o?void 0:o.sourceURI)&&a(Gn.Z.actions.reset({sourceURI:o.sourceURI}))}),[a,null==o?void 0:o.sourceURI,t,e]);const d=(0,y.useMemo)((()=>Nc({rowHeight:60,overscan:5})),[]),u=(0,y.useCallback)((s=>y.createElement(Jc,ed({server:e,provider:t,sourceURI:n,isDisabled:i},s))),[n,i,t,e]);if(!o)return y.createElement("div",{className:Xc});if(o.error)return y.createElement("div",{className:Xc},(0,De.Z)("There was an error loading the playlists. Please try again."));if(o.isPopulated&&!o.items.length){const n={source:fc(e,t)},i={[ri.DD.Audio]:(0,De.Z)("Save your first music playlist for {source}",n),[ri.DD.Video]:(0,De.Z)("Save your first video playlist for {source}",n),[ri.DD.Photo]:(0,De.Z)("Save your first photo playlist for {source}",n),[ri.DD.Rom]:(0,De.Z)("Save your first game playlist for {source}",n)};return y.createElement("div",{className:Xc},i[s])}return y.createElement(Hc,{className:"PlaylistList-scroller-To1bq_ VirtualListScroller-scroller-2VrU8W Scroller-scroller-3Rbtv0",keyPropName:"key",items:o.items,totalSize:l,layout:d,cellComponentFactory:u,onPageRequest:c})}const nd=function(){return(0,y.useCallback)((e=>{const t=e.target;t&&t.select()}),[])},id=(0,de.P1)(_t.Z,$t.Z,(0,Qt.Z)("providers"),((e,t,n)=>{const i=[];for(const s of t){const t=s.isCloud?n:s.providers;for(const n of t)i.push([rn(s),e[n]])}return i})),sd=(0,de.P1)(Yr,(e=>e.addToPlaylist)),rd=function(e){return(0,de.P1)(sd,(t=>t[e]))};var ad=n(4704);function od({isOpen:e,sourceURI:t,defaultDestinationSource:n,playlistType:i,defaultPlaylistTitle:s,isDestinationMenuHidden:r,isSmartPlaylist:a=!1,onModalClose:o,onPlaylistSave:l}){var c,d;const u=(0,f.I0)(),[p,m]=cn(),[h,g]=(0,y.useState)(n),{serverIdentifier:v,providerIdentifier:I}=(0,Vn.Z)(h),b=(0,y.useMemo)((()=>rd(t)),[t]),M=(0,f.v9)(b),S=null!=(c=null==M?void 0:M.isSaving)&&c,E=(0,ad.Z)(S),D=(0,f.v9)(on(v)),C=(0,f.v9)(en(v,I)),P=(0,f.v9)((([e,t])=>(0,de.P1)(id,(n=>n.reduce(((n,[i,s])=>((i.machineIdentifier!==e.machineIdentifier||s.identifier!==t.identifier)&&i.isFullOwnedServer&&i.isConnected&&(0,Ft.Z)(s,At.zW.Playlist,At.wd.Universal)&&n.push([i,s]),n)),t===Gt?[]:[[e,t]]))))([p,m])),{register:w,handleSubmit:T,errors:Z}=(0,Nl.cI)({defaultValues:{title:s}}),N="required"===(null==(d=Z.title)?void 0:d.type),A=T((({title:e})=>{(0,Rt.c9)((()=>{u(Cl.actions.playlistSaveRequested({destinationServer:D,destinationProvider:C,playlistType:i,title:e,sourceURI:t,isSmart:a}))}))})),x=nd();return(0,y.useEffect)((()=>{e&&!E&&S&&!(null==M?void 0:M.saveError)&&(null==l||l(),o())}),[e,S,E,o,l,null==M?void 0:M.saveError]),y.createElement(xt.ZP,{metricsPage:et.uf},y.createElement(lc,{isOpen:e,size:We.Small,onModalClose:o},y.createElement(dc,{onModalClose:o},y.createElement(mc,null,a?(0,De.Z)("Create Playlist"):(0,De.Z)("Add to Playlist")),!a&&P.length>1?y.createElement(hc,null,r?fc(D,C):y.createElement(Mc,{server:D,provider:C,destinations:P,isDisabled:S,onDestinationChange:g})):null,(null==M?void 0:M.saveError)?y.createElement(uc,{message:D.isCloud?(0,De.Z)("Something went wrong. Please try again in a few minutes."):(0,De.Z)("Something went wrong. Make sure the server is available and try again.")}):null,a?null:y.createElement(td,{server:D,provider:C,sourceURI:t,isSaving:S,playlistType:i}),y.createElement(pc,null,y.createElement("form",{className:"AddToPlaylistModal-form-3FE20P",onSubmit:A},y.createElement(Hl,{className:"AddToPlaylistModal-input-3sq7Ni TextInput-input-2FGxDj",name:"title",hasFocusOnMount:!0,hasError:N,ref:w({required:!0}),onFocus:x}),y.createElement(kl,{className:"AddToPlaylistModal-button-3T7eaG SpinnerButton-button-1CCIvZ Button-button-1q7C1V Link-link-2WGTd7",isSpinning:S,type:"submit",kind:Dn.Primary},(0,De.Z)("Create")))))))}var ld=n(83787);function cd({metadataItem:e,render:t,onClose:n}){var i;const{isPending:s,canDownload:r,canDeleteDownload:a,onDownload:o,onDeleteDownload:l}=_a(e),c=(0,f.v9)(La(be.Ed)),d=(0,f.v9)(La(be.iU)),u=(0,Dl.Z)(),p=(0,Dl.Z)(),[m]=cn(),h=a,g=s||!a&&!r,v=!!(null==(i=m.ownerFeatures)?void 0:i.includes(be.Ed)),I=c&&v,b=e.subtype===ri.y_.Podcast||d||I,M=(0,y.useCallback)((()=>{D.Z.warn("[Downloads] Download not permitted:","Server owner is grandfathered?",v,"Is user grandfathered?",c,"User has downloads Plex Pass gating?",d)}),[v,c,d]),S=b?(0,vo.Z)(o,n):(0,vo.Z)(M,p.onOpen),E=a?u.onOpen:S;return y.createElement(y.Fragment,null,y.createElement(nt.Z,{isOpen:u.isOpen,isConfirmButtonSpinning:s,kind:fo.T,metricsPage:et.Ke,title:(0,De.Z)("Delete Download"),message:(0,De.Z)("Are you sure you want to delete this download?"),onConfirm:(0,vo.Z)(l,u.onClose,n),onCancel:(0,vo.Z)(u.onClose,n)}),y.createElement(ld.Z,{isOpen:p.isOpen,onModalClose:(0,vo.Z)(p.onClose,n)}),t(h,g,E))}function dd({metadataItem:e,onMenuClose:t}){const n=(0,y.useCallback)(((e,t,n)=>y.createElement(ho.Z,{isDisabled:t,onPress:n},e?(0,De.Z)("Delete Download"):(0,De.Z)("Download"))),[]);return y.createElement(cd,{metadataItem:e,render:n,onClose:t})}const ud={input:"Select-input-bAL4pR",select:"Select-select-1A8Ksu",small:"Select-small-1TC95u",medium:"Select-medium-3uGwmW",large:"Select-large-1QRmSo",isDisabled:"Select-isDisabled-1aVQ0b",hasError:"Select-hasError-1i3Tp8"};var pd=Object.prototype.hasOwnProperty,md=Object.getOwnPropertySymbols,hd=Object.prototype.propertyIsEnumerable,gd=Object.assign;function yd(e){var{forwardedRef:t,className:n=ud.input,selectClassName:i=ud.select,errorClassName:s=ud.hasError,disabledClassName:r=ud.isDisabled,isDisabled:a=!1,hasError:o=!1,name:l,size:c=We.Medium,children:d}=e,u=((e,t)=>{var n={};for(var i in e)pd.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&md)for(var i of md(e))t.indexOf(i)<0&&hd.call(e,i)&&(n[i]=e[i]);return n})(e,["forwardedRef","className","selectClassName","errorClassName","disabledClassName","isDisabled","hasError","name","size","children"]);return y.createElement("span",{className:we()(n,ud[c],a&&r,o&&s)},y.createElement("select",gd({className:i,name:l,disabled:a,ref:t},u),d))}const vd=y.forwardRef(((e,t)=>y.createElement(yd,gd(gd({},e),{forwardedRef:t})))),fd={modalBody:"ModalBody-modalBody-O9hN9W",modalScroller:"ModalBody-modalScroller-NbjAvC ModalBody-modalBody-O9hN9W",innerModalBody:"ModalBody-innerModalBody-9jyEBh"};var Id=Object.prototype.hasOwnProperty,bd=Object.getOwnPropertySymbols,Md=Object.prototype.propertyIsEnumerable,Sd=Object.assign;function Ed(e){var{children:t,className:n,innerClassName:i=fd.innerModalBody}=e,s=((e,t)=>{var n={};for(var i in e)Id.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&bd)for(var i of bd(e))t.indexOf(i)<0&&Md.call(e,i)&&(n[i]=e[i]);return n})(e,["children","className","innerClassName"]);const r=s.scrollDirection!==Ne.None;return n||(n=r?fd.modalScroller:fd.modalBody),y.createElement(Oe,Sd(Sd({},s),{className:n}),r?y.createElement("div",{className:i},t):t)}function Dd({children:e,className:t="ModalFooterButtonBar-buttonBar-UJWGIc"}){return y.createElement("div",{className:t},e)}const Cd=[];function Pd({metadataItem:e}){var t,n,i;const s=(0,f.I0)(),r=(0,f.v9)((m=e.sourceURI,(0,de.P1)(Ha,(e=>e.creating[m])))),a=(0,y.useCallback)((()=>{(0,Rt.c9)((()=>{s(Fa.actions.subscriptionTemplateChanged({sourceURI:e.sourceURI,template:void 0}))}))}),[s,e.sourceURI]),o=null!=(n=null==(t=null==r?void 0:r.template)?void 0:t.Setting)?n:Cd,{defaultValues:l,preferences:c}=(0,y.useMemo)((()=>{const e={},t=o.reduce(((t,{id:n,label:i,summary:s,value:r,hidden:a,enumValues:o})=>{if(a||!o)return t;const l=o.split("|").map((e=>{const t=e.split(":");return{value:t[0],label:t[1]}}));return t.push({id:n,label:i,summary:s,options:l}),e[n]=r,t}),[]);return{defaultValues:e,preferences:t}}),[o]),{register:d,handleSubmit:u}=(0,Nl.cI)({defaultValues:l}),p=(0,y.useCallback)((t=>{(null==r?void 0:r.template)&&s(Fa.actions.subscriptionCreateRequested({sourceURI:e.sourceURI,template:null==r?void 0:r.template,settings:t}))}),[s,e.sourceURI,null==r?void 0:r.template]);var m;return y.createElement(lc,{isOpen:!!(null==r?void 0:r.template),onModalClose:a},y.createElement("form",{onSubmit:u(p)},y.createElement(dc,{onModalClose:a},y.createElement(mc,null,(0,De.Z)("Download Options")),(null==r?void 0:r.error)?y.createElement(uc,{message:(0,De.Z)("Something went wrong. Make sure the item is available and try again.")}):null,y.createElement(Ed,null,c.map((({id:e,label:t,summary:n,options:i})=>y.createElement("label",{key:e,className:"DownloadTemplateModal-preference-3Vfyon"},y.createElement("span",{className:"DownloadTemplateModal-label-15Ce8F"},t),y.createElement(vd,{name:e,ref:d},i.map(((e,t)=>y.createElement("option",{key:t,value:e.value},e.label)))),y.createElement("span",{className:"DownloadTemplateModal-description-NYQ4V_"},n))))),y.createElement(pc,null,y.createElement(Dd,null,y.createElement(zn,{onPress:a},(0,De.Z)("Cancel")),y.createElement(kl,{type:"submit",isSpinning:null!=(i=null==r?void 0:r.isPending)&&i,kind:Dn.Primary},(0,De.Z)("Save")))))))}var wd=n(57501),Td=n(19469),Zd=n(66788),Nd=n(75696),Ad=n(96270),xd=n(12159),Ld=Object.assign;const Od=["isPlayVisible","isWatchTogetherVisible","isPlayVersionVisible","isPlayAllVisible","isShuffleVisible","isQueueVisible","isPlayTrailerVisible","isPlayMusicVideoVisible","isAddToPlaylistVisible","isAddToLibraryVisible"],jd=["isEditVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSettingsVisible","isRefreshVisible","isAnalyzeVisible","isFixMatchVisible","isMatchVisible","isUnmatchVisible","isSplitApartVisible","isSyncVisible","isSyncDownloadVisible","isOptimizeVisible","isDownloadFileVisible","isShareVisible","isDeleteVisible","isDeleteVersionVisible","isViewPlayHistoryVisible","isGetInfoVisible"];function kd(e){const t=(0,y.useRef)(!1);return e.isOpen&&(t.current=!0),t.current}function Rd({actions:e,server:t,provider:n,metadataItem:i,metadataItemState:s,containerKey:r,containerType:a,allowRedirectOnDelete:o,playVersionModalState:l,confirmMarkPlayedModalState:c,confirmMarkUnplayedModalState:d,settingsModalState:u,addToPlaylistModalState:p,shareModalState:m,mediaSubscriptionModalState:h,watchTogetherModalState:g,onLegacyAction:v,onLegacyPlay:I,onMenuClose:b}){var M;const S=(0,f.I0)(),E=ii(null==(M=i.onDeck)?void 0:M.sourceURI),D=si(i.sourceURI),C=!!D.metadataState,P=!!D.mediaState,w=Od.some((t=>e[t])),T=jd.some((t=>e[t])),Z=w&&T,N=cr(i),A=(0,y.useMemo)((()=>!!r&&/continueWatching/.test(r)),[r]),x=(0,y.useCallback)((()=>{N({action:rr.NH}),I(it.wA({options:{containerKey:r,listType:a}}))}),[r,a,I,N]),L=(0,y.useCallback)((()=>{N({action:rr.NH}),I((0,qa.lS)({options:{containerKey:r,listType:a}}))}),[r,a,I,N]),O=(0,y.useCallback)((()=>{N({action:rr.Rn}),I(it.Ld())}),[I,N]),j=(0,y.useCallback)((()=>{N({action:rr.cO}),I(it.Em())}),[I,N]),k=(0,y.useCallback)((()=>{N({action:rr.pe}),I(it.tP({options:{playAll:!0,next:!0}}))}),[I,N]),R=(0,y.useCallback)((()=>{N({action:rr.PR}),I(it.tP({options:{playAll:!0,next:!1}}))}),[I,N]),z=(0,y.useCallback)((()=>{N({action:rr.$W}),I(it.EF())}),[I,N]),U=(0,y.useCallback)((()=>{N({action:rr.b8}),I(it.QR({playlistType:bo.j0}))}),[I,N]),V=(0,y.useCallback)((()=>{N({action:rr.Fx}),I(it.QR({playlistType:bo.pX}))}),[I,N]),B=(0,y.useCallback)((()=>{v((0,Io.Fj)())}),[v]),F=(0,y.useCallback)((({targetServer:e,targetProvider:s,targetLibrarySectionID:r,targetLibraryType:a})=>{N({action:rr.Ao}),S(ar.Z.actions.addToLibraryRequested({targetServer:e,targetProvider:s,targetLibrarySectionID:r,targetLibraryType:a,server:t,provider:n,metadataItem:i})),b()}),[S,i,b,n,t,N]),H=(0,y.useCallback)((e=>{let s,r;N({action:e?rr.$J:rr.Go}),!pa.wB(n.identifier,pa.xF)&&i.grandparentKey&&i.grandparentRatingKey?(s=i.grandparentKey,r=i.grandparentRatingKey):(s=i.key,r=i.ratingKey);const a=(0,jt.Z)({serverIdentifier:t.machineIdentifier,providerIdentifier:n.identifier,key:s});S(ar.Z.actions.toggleSavedRequested({server:t,provider:n,sourceURI:a,ratingKey:r,saved:e})),b()}),[S,i.grandparentKey,i.grandparentRatingKey,i.key,i.ratingKey,b,n,t,N]),_=(0,y.useCallback)((()=>{H(!0)}),[H]),Q=(0,y.useCallback)((()=>{H(!1)}),[H]),G=(0,y.useCallback)((()=>{N({action:rr.UP}),S(ar.Z.actions.removeFromContinueWatchingRequested({server:t,provider:n,sourceURI:i.sourceURI,ratingKey:i.ratingKey})),b()}),[S,i,b,n,t,N]),Y=(0,y.useCallback)((e=>{N({action:e?rr.JL:rr.hi}),S(ar.Z.actions.toggleWatchlistRequested({server:t,provider:n,sourceURI:i.sourceURI,ratingKey:i.ratingKey,added:e})),b()}),[S,i.ratingKey,i.sourceURI,b,n,t,N]),W=(0,y.useCallback)((()=>{Y(!0)}),[Y]),K=(0,y.useCallback)((()=>{Y(!1)}),[Y]),q=(0,y.useCallback)((()=>{N({action:rr.uf}),p.onOpen()}),[p,N]),$=(0,y.useCallback)((()=>{N({action:rr.uf,mode:"shortcut"})}),[N]),J=(0,y.useCallback)((()=>{N({action:rr.dm}),v(Ka.editMetadataItem())}),[v,N]),X=(0,y.useCallback)((()=>{N({action:rr.xc}),v(Ka.modifySmartPlaylist())}),[v,N]),ee=(0,y.useCallback)((()=>{u.onOpen(),b()}),[b,u]),te=(0,y.useCallback)((()=>{N({action:rr.RG}),S(El.actions.metadataRefreshRequested({server:t,provider:n,sourceURI:i.sourceURI})),b()}),[S,i.sourceURI,b,n,t,N]),ne=(0,y.useCallback)((()=>{N({action:rr._R}),S(El.actions.mediaAnalysisRequested({server:t,provider:n,sourceURI:i.sourceURI,hasChildren:!!yl(i.type,i.subtype)})),b()}),[S,i.sourceURI,i.subtype,i.type,b,n,t,N]),ie=(0,y.useCallback)((()=>{N({action:rr.P9}),v(Ka.fixMetadataItemMatch())}),[v,N]),se=(0,y.useCallback)((()=>{N({action:rr.Zy}),v(Ka.unmatchMetadataItem())}),[v,N]),re=(0,y.useCallback)((()=>{N({action:rr.RF}),v(Ka.splitMetadataItemApart())}),[v,N]),ae=(0,y.useCallback)((()=>{N({action:rr.J3}),v(Ka.syncMetadataItem())}),[v,N]),oe=(0,y.useCallback)((()=>{N({action:rr.FH}),v(Ka.optimizeMetadataItem())}),[v,N]),le=(0,y.useCallback)((()=>{N({action:rr.a2})}),[N]),ce=(0,y.useCallback)((()=>{N({action:rr.a2}),v(Ka.downloadMetadataItemVersion())}),[v,N]),de=(0,y.useCallback)((()=>{N({action:rr.Dp}),m.onOpen(),b()}),[b,m,N]),ue=(0,y.useCallback)((()=>{N({action:rr.yY}),v(Ka.deleteMetadataItem({options:{skipRedirect:!o}}))}),[o,v,N]),pe=(0,y.useCallback)((()=>{N({action:rr.yY}),v(Ka.deleteMetadataItemVersion())}),[v,N]),me=(0,y.useCallback)((()=>{N({action:rr.$M}),v(Ka.getMetadataItemInfo())}),[v,N]),he=(0,y.useCallback)((()=>{g.onOpen(),b()}),[b,g]);return y.createElement(y.Fragment,null,e.isPlayVisible?y.createElement(ho.Z,{onPress:ma(i)?L:x},Xa(i,s,E)):null,e.isWatchTogetherVisible?y.createElement(ho.Z,{onPress:he},(0,De.Z)("Watch Together...")):null,e.isPlayVersionVisible?y.createElement(ho.Z,{onPress:(0,vo.Z)(l.onOpen,b)},(0,De.Z)("Play Version...")):null,e.isPlayAllVisible?y.createElement(ho.Z,{onPress:O},(0,De.Z)("Play All")):null,e.isShuffleVisible?y.createElement(ho.Z,{onPress:j},(0,De.Z)("Shuffle")):null,e.isPlayRadioVisible?y.createElement(ho.Z,{onPress:U},(0,De.Z)("Play Radio")):null,e.isPlayArtistTVVisible?y.createElement(ho.Z,{onPress:V},(0,De.Z)("Play Artist TV")):null,e.isQueueVisible?y.createElement(ho.Z,{onPress:k},(0,De.Z)("Play Next")):null,e.isQueueVisible?y.createElement(ho.Z,{onPress:R},(0,De.Z)("Add to Queue")):null,e.isPlayTrailerVisible?y.createElement(ho.Z,{onPress:z},(0,De.Z)("Play Trailer")):null,e.isPlayMusicVideoVisible?y.createElement(ho.Z,{onPress:z},(0,De.Z)("Play Music Video")):null,e.isAddToWatchlistVisible?y.createElement(ho.Z,{onPress:W},(0,De.Z)("Add to Watchlist")):null,e.isRemoveFromWatchlistVisible?y.createElement(ho.Z,{onPress:K},(0,De.Z)("Remove from Watchlist")):null,e.isAddToPlaylistVisible?y.createElement(yo.Z,{label:(0,De.Z)("Add to Playlist"),onMenuClose:b},y.createElement(Zl,{sourceURI:i.sourceURI,playlistType:Ms(i.type,i.subtype),onAddToPlaylistPress:q,onMenuClose:b,onPlaylistSave:$})):null,e.isAddToSavedVisible?y.createElement(ho.Z,{onPress:_},Uo(n.identifier,s.saved,i.subtype)):null,e.isRemoveFromSavedVisible?y.createElement(ho.Z,{onPress:Q},Uo(n.identifier,s.saved,i.subtype)):null,e.isAddToPicksVisible?y.createElement(ho.Z,{onPress:B},s.picked?(0,De.Z)("Remove from Plex Picks"):(0,De.Z)("Add to Plex Picks")):null,e.isAddToLibraryVisible?y.createElement(Co,{onAddToLibrary:F}):null,Z?y.createElement(go.Z,null):null,e.isEditVisible?y.createElement(ho.Z,{onPress:J},(0,De.Z)("Edit")):null,e.isModifySmartPlaylistVisible?y.createElement(ho.Z,{onPress:X},(0,De.Z)("Edit Filters")):null,e.isSettingsVisible?y.createElement(ho.Z,{onPress:ee},(0,De.Z)("Settings")):null,e.isMarkPlayedVisible?y.createElement(ho.Z,{onPress:c.onOpen},(0,De.Z)("Mark as Played")):null,e.isMarkUnplayedVisible?y.createElement(ho.Z,{onPress:d.onOpen},(0,De.Z)("Mark as Unplayed")):null,A&&e.isRemoveFromContinueWatchingVisible?y.createElement(ho.Z,{onPress:G},(0,De.Z)("Remove from Continue Watching")):null,e.isRefreshVisible?y.createElement(ho.Z,{isDisabled:C,onPress:te},(0,De.Z)("Refresh Metadata")):null,e.isAnalyzeVisible?y.createElement(ho.Z,{isDisabled:P,onPress:ne},(0,De.Z)("Analyze")):null,e.isFixMatchVisible?y.createElement(ho.Z,{onPress:ie},(0,De.Z)("Fix Match...")):null,e.isMatchVisible?y.createElement(ho.Z,{onPress:ie},(0,De.Z)("Match...")):null,e.isUnmatchVisible?y.createElement(ho.Z,{onPress:se},(0,De.Z)("Unmatch")):null,e.isSplitApartVisible?y.createElement(ho.Z,{onPress:re},(0,De.Z)("Split Apart")):null,e.isSyncVisible?y.createElement(ho.Z,{onPress:ae},(0,De.Z)("Sync...")):null,e.isSyncDownloadVisible?y.createElement(dd,{metadataItem:i,onMenuClose:b}):null,e.isRecordVisible?y.createElement(ho.Z,{onPress:h.onOpen},null==s.grandparentSubscriptionID&&null==s.subscriptionID?(0,De.Z)("Record"):(0,De.Z)("Modify Recording")):null,e.isOptimizeVisible?y.createElement(ho.Z,{onPress:oe},(0,De.Z)("Optimize...")):null,e.isDownloadFileVisible?y.createElement(Zo,{metadataItem:i,downloadIFrameName:"downloadFileFrame",onMenuClose:b,onDownloadVersionPress:ce,onDownloadFilePress:le}):null,e.isShareVisible?y.createElement(ho.Z,{onPress:de},(0,De.Z)("Share…")):null,e.isDeleteVisible?y.createElement(ho.Z,{kind:i.remoteMedia?void 0:fo.T,onPress:ue},i.remoteMedia?(0,De.Z)("Remove"):(0,De.Z)("Delete")):null,e.isDeleteVersionVisible?y.createElement(ho.Z,{kind:fo.T,onPress:pe},(0,De.Z)("Delete Version")):null,e.isViewPlayHistoryVisible?y.createElement(ho.Z,{to:(0,xd.Z)(t.machineIdentifier,i)},(0,De.Z)("View Play History")):null,e.isGetInfoVisible?y.createElement(ho.Z,{onPress:me},(0,De.Z)("Get Info")):null)}function zd({className:e,target:t,isOpen:n,actionsOverride:i,metadataItem:s,allowRedirectOnDelete:r,onMenuClose:a,onMenuCloseComplete:o}){var l;const c=(0,f.I0)(),[d,u]=cn(),{metricsPage:p,metricsContextTuple:m}=(0,xt.Zn)(),{containerServer:h,containerProvider:g,containerKey:v,containerType:I}=_n(),b=ii(s.sourceURI),M=(0,f.v9)(Wa.Z),S=gl({server:d,provider:u,stableUser:M,metadataItem:s,metadataItemState:b}),E=Ld(Ld({},S),i),D=(0,Dl.Z)(),C=kd(D),P=(0,Dl.Z)(),w=kd(P),T=(0,Dl.Z)(),Z=kd(T),N=(0,Dl.Z)(),A=kd(N),x=(0,Dl.Z)(),L=kd(x),O=(0,Dl.Z)(),j=kd(O),k=(0,Dl.Z)(),R=kd(k),z=(0,Dl.Z)(),U=kd(z),V=Ao({server:d,provider:u,metadataItem:s,metadataItemState:b}),B=Ja({containerServer:h,containerProvider:g,server:d,provider:u,metadataItem:s,metadataItemState:b,metricsPage:p,metricsContextTuple:m}),F=cr(s),H=(0,y.useMemo)((()=>({page:p,contextTuple:m})),[m,p]),_=(0,y.useCallback)((e=>{V(e),a()}),[a,V]),Q=(0,y.useCallback)((e=>{B(e),a()}),[a,B]),G=(0,y.useCallback)((e=>{var t;F({action:rr.DV}),Q(it.wA({confirmOffset:!0,startOffsetMilliseconds:null!=(t=b.viewOffset)?t:0,startMediaIndex:e,options:{containerKey:v,listType:I}})),D.onClose()}),[v,I,b.viewOffset,Q,D,F]),Y=(0,y.useCallback)((e=>{F({action:e?rr.qe:rr.h3}),c(ar.Z.actions.playedStatusUpdateRequested({server:d,provider:u,sourceURI:s.sourceURI,ratingKey:s.ratingKey,played:e})),a()}),[c,s.ratingKey,s.sourceURI,a,u,d,F]),W=(0,y.useCallback)((()=>{Y(!0),P.onClose()}),[P,Y]),K=(0,y.useCallback)((()=>{Y(!1),T.onClose()}),[T,Y]);return y.createElement(y.Fragment,null,y.createElement(mo.Z,{className:e,target:t,isOpen:n,onMenuClose:a,onMenuCloseComplete:o},y.createElement(Rd,{actions:E,server:d,provider:u,metadataItem:s,metadataItemState:b,containerKey:v,containerType:I,allowRedirectOnDelete:r,playVersionModalState:D,confirmMarkPlayedModalState:P,confirmMarkUnplayedModalState:T,settingsModalState:N,addToPlaylistModalState:x,mediaSubscriptionModalState:k,shareModalState:O,watchTogetherModalState:z,onLegacyAction:_,onLegacyPlay:Q,onMenuClose:a})),C?y.createElement(Ro,{isOpen:D.isOpen,mediaItems:null!=(l=s.Media)?l:[],onSelect:G,onCancel:D.onClose}):null,w||Z?y.createElement(Td.Z,{isOpen:P.isOpen||T.isOpen,type:s.type,subtype:s.subtype,title:s.title,leafCount:P.isOpen?b.unviewedLeafCount:b.viewedLeafCount,markUnplayed:T.isOpen,onConfirm:P.isOpen?W:K,onCancel:P.isOpen?P.onClose:T.onClose}):null,L?y.createElement(od,{isOpen:x.isOpen,defaultPlaylistTitle:s.title,sourceURI:s.sourceURI,defaultDestinationSource:s.source,playlistType:Ms(s.type,s.subtype),onModalClose:x.onClose}):null,j?y.createElement(xo,{metadataItem:s,metadataItemState:b},(({serverEntityID:e,metadataItemEntityID:t})=>y.createElement(wd.Z,{isOpen:O.isOpen,serverEntityID:e,metadataItemEntityID:t,metricsProperties:H,onModalClose:O.onClose}))):null,U?y.createElement(xo,{metadataItem:s,metadataItemState:b},(({serverEntityID:e,metadataItemEntityID:t})=>y.createElement(Ad.Z,{isOpen:z.isOpen,serverEntityID:e,metadataItemEntityID:t,metricsProperties:{page:p,contextTuple:m},onModalClose:z.onClose}))):null,A?y.createElement(xo,{metadataItem:s,metadataItemState:b},(({serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,onMarkStale:i})=>y.createElement(Zd.Z,{isOpen:N.isOpen,serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metricsProperties:H,onModalClose:(0,vo.Z)(i,N.onClose)}))):null,R?y.createElement(xo,{metadataItem:s,metadataItemState:b},(({serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,onMarkStale:i})=>{const r=b.grandparentSubscriptionType||b.subscriptionType||s.type;return y.createElement(Nd.Z,{isOpen:k.isOpen,serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,subscriptionType:r,metricsProperties:H,onModalClose:(0,vo.Z)(i,k.onClose)})})):null,E.isSyncDownloadVisible?y.createElement(Pd,{metadataItem:s}):null)}var Ud=n(46391);var Vd=Object.prototype.hasOwnProperty,Bd=Object.getOwnPropertySymbols,Fd=Object.prototype.propertyIsEnumerable,Hd=Object.assign;function _d(e){var{id:t,className:n,tabIndex:i,isPending:s}=e,r=((e,t)=>{var n={};for(var i in e)Vd.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Bd)for(var i of Bd(e))t.indexOf(i)<0&&Fd.call(e,i)&&(n[i]=e[i]);return n})(e,["id","className","tabIndex","isPending"]);return y.createElement(xn,Hd({id:t,className:n,tabIndex:i,"aria-label":(0,De.Z)("More Actions"),"aria-haspopup":!0},r),s?y.createElement("div",{className:"ActionsLink-spinnerContainer-2NckGC"},y.createElement(qe,{size:We.Small})):y.createElement(Ud.Z,null))}const Qd={selectButton:"SelectButton-selectButton-1C3dP4 Link-link-2WGTd7",selectCircle:"SelectButton-selectCircle-2NTkCS",selectedIcon:"SelectButton-selectedIcon-14AfFl",unselectedCircle:"SelectButton-unselectedCircle-39XTGh SelectButton-selectCircle-2NTkCS",selectedCircle:"SelectButton-selectedCircle-2zHVBT SelectButton-selectCircle-2NTkCS",rangeCircle:"SelectButton-rangeCircle-zD8oLg SelectButton-selectCircle-2NTkCS"};var Gd=Object.prototype.hasOwnProperty,Yd=Object.getOwnPropertySymbols,Wd=Object.prototype.propertyIsEnumerable,Kd=Object.assign;function qd(e){var{className:t=Qd.selectButton,selectedCircleClassName:n=Qd.selectedCircle,rangeCircleClassName:i=Qd.rangeCircle,selectCircleClassName:s=Qd.unselectedCircle,iconClassName:r=Qd.selectedIcon,title:a,isSelected:o,isInSelectionRange:l}=e,c=((e,t)=>{var n={};for(var i in e)Gd.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Yd)for(var i of Yd(e))t.indexOf(i)<0&&Wd.call(e,i)&&(n[i]=e[i]);return n})(e,["className","selectedCircleClassName","rangeCircleClassName","selectCircleClassName","iconClassName","title","isSelected","isInSelectionRange"]);const d=(0,y.useMemo)((()=>o?n:l?i:s),[l,o,i,s,n]);return y.createElement(xn,Kd({className:t,"aria-label":o?(0,De.Z)("Deselect {title}",{title:a}):(0,De.Z)("Select {title}",{title:a})},c),y.createElement("div",{className:d,"data-qa-id":"multipleSelectButton"},o||l?y.createElement(fa.Z,{className:r}):null))}const $d=function(e){return!!Go(e)||!!pa.wB(e.identifier,pa.xF)};var Jd=n(52410);const Xd="MetadataPosterCardActions-isHidden-3a_54z";function eu({playCircleClassName:e="MetadataPosterCardActions-playCircle-3-j0JO PlayButton-playCircle-2DYa77 MetadataPosterCardCircle-cardCircle-1T_VVp",metadataItem:t,metadataItemState:n,isHovered:i,actionsMenuButtonID:s,isActionsPending:r,isActionsVisible:a,isActionsMenuOpen:o,isActionsMenuClosing:l,isSelectHidden:c,isSelected:d,isInSelectionRange:u,isSelectionActive:p,isPlayButtonCard:m,onActionsMenuClose:h,onActionsMenuCloseComplete:g,onActionsMenuToggle:v,onSelectPress:I}){const[b,M]=cn(),S=(0,f.v9)(Wa.Z),E=$o({server:b,provider:M,stableUser:S,metadataItem:t,metadataItemState:n})&&(i||o&&!n.isPending),D=ll({server:b,provider:M,stableUser:S,metadataItem:t,metadataItemState:n}),C=Ao({server:b,provider:M,metadataItem:t,metadataItemState:n}),P=cr(t),w=(0,y.useCallback)((()=>{P({action:rr.dm}),C((0,Ka.editMetadataItem)())}),[C,P]);return y.createElement(y.Fragment,null,!p&&a&&E?y.createElement(po,{className:we()(m?"MetadataPosterCardActions-playCoverButton-3ys6cq PosterCardLink-hoveredLink-3BYG1D PosterCardLink-link-2mWlqA Link-link-2WGTd7 MetadataPosterCardActions-playButton-bMvN35 PlayButton-playButton-2dFmuo MetadataPosterCardActions-button--q7OIG Link-link-2WGTd7":"MetadataPosterCardActions-playButton-bMvN35 PlayButton-playButton-2dFmuo MetadataPosterCardActions-button--q7OIG Link-link-2WGTd7",!i&&l&&Xd),circleClassName:e,tabIndex:-1,metadataItem:t}):null,$d(M)&&!t.radio&&!c&&(d||u||a)?y.createElement(qd,{className:we()("MetadataPosterCardActions-selectButton-9mUXBp SelectButton-selectButton-1C3dP4 Link-link-2WGTd7 MetadataPosterCardActions-button--q7OIG Link-link-2WGTd7",!i&&l&&Xd),isSelected:d,isInSelectionRange:u,title:da(t),tabIndex:-1,onPress:I}):null,!p&&a&&!m&&D?y.createElement(xn,{className:we()("MetadataPosterCardActions-editButton-3xqm09 MetadataPosterCardActions-button--q7OIG Link-link-2WGTd7",!i&&l&&Xd),tabIndex:-1,"aria-label":(0,De.Z)("Edit"),onPress:w},y.createElement(Jd.Z,null)):null,p||!a||m?null:y.createElement(_d,{id:s,className:we()("MetadataPosterCardActions-moreButton-2gEa9g MetadataPosterCardActions-button--q7OIG Link-link-2WGTd7",!i&&l&&Xd),isPending:r,tabIndex:-1,onPress:v}),y.createElement(zd,{target:s,isOpen:o,metadataItem:t,actionsOverride:{isPlayVisible:!1,isEditVisible:!1},onMenuClose:h,onMenuCloseComplete:g}))}var tu=Object.assign;function nu({className:e="MetadataPosterCardProgressBar-progress-2_I-C-",trackClassName:t="MetadataPosterCardProgressBar-track-2w4qWw",barClassName:n="MetadataPosterCardProgressBar-bar-28PJbT",style:i,barStyle:s,progress:r}){return y.createElement("div",{className:e,style:i},y.createElement("div",{className:t}),y.createElement("div",{className:n,style:tu(tu({},s),{transform:`translate3d(-${100-r}%, 0, 0)`})}))}var iu=n(11969),su=n(39869),ru=n(62020),au=n(74739);function ou({children:e,className:t="MetadataPosterCardCircle-cardCircle-1T_VVp"}){return y.createElement("div",{className:t},e)}function lu({children:e}){return y.createElement("div",{className:"MetadataPosterCardScanStatus-statusContainer-1ojit4"},e)}function cu({children:e}){return y.createElement(lu,null,y.createElement("div",{className:"MetadataPosterCardScanStatus-spinnerContainer-3yzhvK"},y.createElement(qe,{className:"MetadataPosterCardScanStatus-spinner-30HTx4 Spinner-spinner-CSMaLA spin-spin-oHlEXH"})),y.createElement(ou,null,e))}function du({metadataItemState:e,metadataTimelineState:t}){return t.metadataState===fl.Matching?y.createElement(cu,null,y.createElement(su.Z,{"aria-label":(0,De.Z)("Matching")})):t.metadataState===fl.Processing||t.metadataState===fl.Loading?y.createElement(cu,null,y.createElement(ru.Z,{"aria-label":(0,De.Z)("Downloading Metadata")})):t.mediaState?y.createElement(cu,null,y.createElement(iu.Z,{"aria-label":(0,De.Z)("Analyzing")})):e.deletedAt?y.createElement(lu,null,y.createElement(ou,{className:"MetadataPosterCardScanStatus-trashCircle-8nNMxU MetadataPosterCardCircle-cardCircle-1T_VVp"},y.createElement(au.Z,{"aria-label":(0,De.Z)("In Trash")}))):null}const uu="MetadataPosterCard-topRightBadge-ZKd4Ov MetadataPosterCard-badge-3iLj2g",pu=(0,dr.Z)(Ur.Z.slowSpeed),mu=(0,y.memo)((function({className:e,playCircleClassName:t,metadataItem:n,metadataItemState:i,metadataTimelineState:s,width:r,height:a,aspectRatio:o,displayImageType:l,isPlayButtonCard:c,isPlayedStatusHidden:d,isProgressBarHidden:u,isSelectHidden:p,isSelectionActive:m,isSelected:h,isInSelectionRange:g,onHover:v,onToggleSelect:I}){var b;const[M,S]=cn(),E=(0,f.v9)(La(be.q1)),{hoverRef:D,isHovered:C,actionsMenuButtonID:P,isActionsPending:w,isActionsVisible:T,isActionsMenuOpen:Z,isActionsMenuClosing:N,onActionsMenuClose:A,onActionsMenuCloseComplete:x,onActionsMenuToggle:L}=oa({server:M,provider:S,metadataItem:n,metadataItemState:i}),O=pi(n,"key"),j=c||!O,k=null!=(b=i.viewOffset)?b:0,R=(0,y.useRef)(!1),z=R.current?Ur.Z.slowSpeed:"0s",U=!p&&m,V=o||ci(n.type,n.subtype);Ya("number"==typeof r||"number"==typeof a,"`MetadataPosterCard` requires either a `width` or `height, or both");let B={width:0,height:0};null!=r&&null!=a?B={width:r,height:a}:r?B=di({width:r,aspectRatio:V}):a&&(B=di({height:a,aspectRatio:V}));const F=(0,y.useCallback)((()=>{null==I||I()}),[I]);(0,y.useEffect)((()=>{null==v||v(C)}),[C,v]),(0,y.useEffect)((()=>{const e=window.setTimeout((()=>{R.current=!0}),pu);return()=>{window.clearTimeout(e)}}),[]);let H="cover";return n.isLiveTVChannel?H="75%":n.type===ri.pG.Game&&(H="contain"),y.createElement(qn,{className:e,style:B,ref:D},n.radio?y.createElement(Ca,{width:B.width,height:B.height},y.createElement(ia.Z,null)):y.createElement(ft.Z,{className:"MetadataPosterCard-image-14Kch3",serverEntityID:M.entityID,providerEntityID:S.entityID,url:ua(n,{aspectRatio:V,displayImageType:l}),width:B.width,height:B.height,component:mt.Z,preloadOnMount:!1,animateOnMount:!1,backgroundSize:H}),C||Z?null:y.createElement(du,{metadataItemState:i,metadataTimelineState:s}),n.userState&&k>0&&!u?y.createElement(nu,{className:"MetadataPosterCard-progress-3wzXyY MetadataPosterCardProgressBar-progress-2_I-C-",style:{opacity:C||Z?0:1,animationDuration:z},barClassName:"MetadataPosterCard-progressBar-3_l1bX MetadataPosterCardProgressBar-bar-28PJbT",barStyle:{animationDuration:z},progress:(0,sa.Z)(k,n.duration)}):null,j||U?null:y.createElement(Aa,{isHovered:C||Z,to:O,"aria-label":da(n)}),U?y.createElement(Aa,{className:h?"MetadataPosterCard-selectedLink-2yBNf3 PosterCardLink-link-2mWlqA Link-link-2WGTd7":void 0,hoverClassName:h?"MetadataPosterCard-hoveredSelectedLink-3XsEZh PosterCardLink-hoveredLink-3BYG1D PosterCardLink-link-2mWlqA Link-link-2WGTd7":void 0,isHovered:g||C,"aria-label":da(n),onPress:F}):null,C||Z?null:y.createElement(Ga,{className:"MetadataPosterCard-bottomRightBadge-rTvD5e MetadataPosterCard-badge-3iLj2g",metadataItem:n,isShadowVisible:!0}),y.createElement(eu,{playCircleClassName:t,metadataItem:n,metadataItemState:i,isHovered:C,isActionsPending:w,isActionsVisible:T,actionsMenuButtonID:P,isActionsMenuOpen:Z,isActionsMenuClosing:N,isSelectHidden:p,isSelected:h,isInSelectionRange:g,isSelectionActive:U,isPlayButtonCard:j,onActionsMenuClose:A,onActionsMenuCloseComplete:x,onActionsMenuToggle:L,onSelectPress:F}),n.isPlaylist&&n.smart?y.createElement("div",{className:uu,style:{animationDuration:z}},y.createElement(Ma,null)):null,E&&!d&&(i.watchlistedAt||ha(n,i))?y.createElement("div",{className:uu,style:{animationDuration:z}},i.watchlistedAt?y.createElement(Da,null):y.createElement(Ia,null)):null,E||ya(S)||ma(n)||!n.userState||n.type!==ri.pG.Movie&&n.type!==ri.pG.Episode&&(n.type!==ri.pG.Track||n.subtype!==ri.y_.Podcast)||null!=i.saved&&!i.saved||i.viewOffset||i.viewCount?null:y.createElement("div",{className:"MetadataPosterCard-legacyUnwatchedTagMask-2GZyFo"},y.createElement("div",{className:"MetadataPosterCard-legacyUnwatchedTag-2p_o9e"})),E||ya(S)||ma(n)||n.type!==ri.pG.Show&&n.type!==ri.pG.Season||null!=i.saved&&!i.saved||!i.unviewedLeafCount?null:y.createElement("div",{className:"MetadataPosterCard-legacyUnwatchedEpisodesBadge-PxtEaD MetadataPosterCard-legacyNumberBadge-3vfppB MetadataPosterCard-badge-3iLj2g MetadataPosterCard-topRightBadge-ZKd4Ov MetadataPosterCard-badge-3iLj2g"},i.unviewedLeafCount))}));function hu({metadataItem:e,component:t,allowLink:n,isSecondary:i,isDoubleLine:s}){return y.createElement(t,{className:we()(s?"MetadataPosterCardTitle-doubleLineTitle-2FWysX MetadataPosterCardTitle-title-3Rf96m":"MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m",i&&"MetadataPosterCardTitle-isSecondary-3Nh6J0"),allowLink:n,tabIndex:-1,metadataItem:e})}var gu=Object.prototype.hasOwnProperty,yu=Object.getOwnPropertySymbols,vu=Object.prototype.propertyIsEnumerable;function fu(e){var{item:t}=e,n=((e,t)=>{var n={};for(var i in e)gu.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&yu)for(var i of yu(e))t.indexOf(i)<0&&vu.call(e,i)&&(n[i]=e[i]);return n})(e,["item"]);const{containerType:i,containerSubtype:s,containerMeta:r,listStyle:a}=_n(),o=ii(null==t?void 0:t.sourceURI),l=si(null==t?void 0:t.sourceURI),[c,d]=(0,y.useState)(!1),{isSelectionActive:u,isSelected:p,isInSelectionRange:m,onToggleSelect:h}=ea({isHovered:c,metadataItem:t,metadataItemState:o}),g=Br(n),v=(0,y.useMemo)((()=>{var e;return null!=(e=null==t?void 0:t.displayImage)?e:na(i,s,null==r?void 0:r.DisplayImage)}),[null==r?void 0:r.DisplayImage,s,i,null==t?void 0:t.displayImage]),f=(0,y.useMemo)((()=>ci(i,s,{listStyle:a,displayImageType:v})),[s,i,v,a]),I=(0,y.useMemo)((()=>di({width:n.cellWidth,aspectRatio:f})),[f,n.cellWidth]),b=(0,y.useMemo)((()=>{if(!t)return[];const e=t.type!==ri.pG.Collection&&i!==Bt.U.Mixed;return Rr(e?i:t.type,e?s:t.subtype,{listStyle:a,displayFieldNames:t.displayFields||ta(t.type,t.subtype,null==r?void 0:r.DisplayFields)})}),[s,i,null==r?void 0:r.DisplayFields,a,t]),M=(null==t?void 0:t.type)===ri.pG.Game;return t?y.createElement(Yn,{metadataItem:t,metadataItemState:o},y.createElement("div",{style:g.style},y.createElement(mu,{className:"MetadataPosterListItem-card-23SzTE PosterCard-card-2-REtd",metadataItem:t,metadataItemState:o,metadataTimelineState:l,width:I.width,height:I.height,aspectRatio:f,isSelectionActive:u,isSelected:p,isInSelectionRange:m,displayImageType:v,isProgressBarHidden:M,onHover:d,onToggleSelect:h}),b.map(((e,n)=>{if(null==e)return null;const i=function(e){return"component"in e?e:{component:e}}(e);return y.createElement(hu,{key:n,component:i.component,isSecondary:n>0,isDoubleLine:i.isDoubleLine,allowLink:i.allowLink,metadataItem:t})})))):y.createElement("div",{style:g.style},y.createElement(Jn,{style:I,index:n.cellIndex}))}const Iu="MetadataWidePosterListItem-container-3vHol2",bu="MetadataWidePosterListItem-titlesContainer-34wJzk";var Mu=Object.prototype.hasOwnProperty,Su=Object.getOwnPropertySymbols,Eu=Object.prototype.propertyIsEnumerable;function Du(e){var{item:t}=e,n=((e,t)=>{var n={};for(var i in e)Mu.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Su)for(var i of Su(e))t.indexOf(i)<0&&Eu.call(e,i)&&(n[i]=e[i]);return n})(e,["item"]);const{containerType:i,containerSubtype:s,listStyle:r}=_n(),a=ii(null==t?void 0:t.sourceURI),o=si(null==t?void 0:t.sourceURI),l=Br(n),c=(0,y.useMemo)((()=>ci(i,s,{listStyle:r})),[s,i,r]),d=(0,y.useMemo)((()=>di({height:n.cellHeight,aspectRatio:c})),[c,n.cellHeight]);return t?y.createElement(Yn,{metadataItem:t,metadataItemState:a},y.createElement("div",{className:Iu,style:l.style},y.createElement(mu,{className:"MetadataWidePosterListItem-card-2Ra5hr PosterCard-card-2-REtd",metadataItem:t,metadataItemState:a,metadataTimelineState:o,width:d.width,height:d.height,aspectRatio:c}),y.createElement("div",{className:bu},y.createElement(mi,{className:"MetadataWidePosterListItem-doubleTitle-9Q1GYt MetadataWidePosterListItem-title-2dLxc0",metadataItem:t}),y.createElement("div",{className:"MetadataWidePosterListItem-subtitle-6TrSQn MetadataWidePosterListItem-title-2dLxc0"},y.createElement(Ks,{metadataItem:t}),t.leafCount?y.createElement(y.Fragment,null,y.createElement(tr.Z,{separator:"·"}),y.createElement(Js,{metadataItem:t})):null,t.duration?y.createElement(y.Fragment,null,y.createElement(tr.Z,{separator:"·"}),y.createElement(Us,{metadataItem:t})):null)))):y.createElement("div",{className:Iu,style:l.style},y.createElement(Jn,{className:"MetadataWidePosterListItem-placeholderCard-3Yy3XE MetadataPosterCardPlaceholder-placeholder-23vQRH PosterCard-card-2-REtd",style:d,index:n.cellIndex}),y.createElement("div",{className:bu},y.createElement("div",{className:"MetadataWidePosterListItem-placeholderTitle-38ftTR"}),y.createElement("div",{className:"MetadataWidePosterListItem-placeholderSubtitle-285isH MetadataWidePosterListItem-placeholderTitle-38ftTR"})))}var Cu=n(56724);function Pu(e,t,n){const i=(0,Cu.Z)(e),s=null==n?void 0:n.displayFields;if(s){if(e===Bt.U.Mixed)return s.reduce(((e,t)=>Math.max(e,t.fields.length)),0);{const e=ta(i,t,s);if(e)return e.length}}return Rr(null!=i?i:e,t,{listStyle:null==n?void 0:n.listStyle}).reduce(((e,t)=>null!=t&&function(e){var t;return!!e&&null!=(t=e.isDoubleLine)&&t}(t)?e+2:e+1),0)}var wu=Object.prototype.hasOwnProperty,Tu=Object.getOwnPropertySymbols,Zu=Object.prototype.propertyIsEnumerable,Nu=Object.assign;function Au(e){var{columnWidth:t,rowHeight:n}=e,i=((e,t)=>{var n={};for(var i in e)wu.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Tu)for(var i of Tu(e))t.indexOf(i)<0&&Zu.call(e,i)&&(n[i]=e[i]);return n})(e,["columnWidth","rowHeight"]);return Cc(Nu({direction:Sc.Horizontal,rows:1,getCellWidth:()=>t,getCellHeight:()=>n,overscan:4},i))}var xu=Object.prototype.hasOwnProperty,Lu=Object.getOwnPropertySymbols,Ou=Object.prototype.propertyIsEnumerable,ju=Object.assign;var ku=n(7796),Ru=Object.prototype.hasOwnProperty,zu=Object.getOwnPropertySymbols,Uu=Object.prototype.propertyIsEnumerable,Vu=Object.assign;const Bu=parseInt(ku.Z.v4PagePadding,10),Fu=parseInt(ku.Z.v4CardTitleHeight,10),Hu=parseInt(ku.Z.v4CardTitleGap,10),_u=parseInt(ku.Z.v4CardShadowSize,10),Qu=parseInt(ku.Z.gapMedium,10);function Gu(e){var{listType:t,subtype:n,listStyle:i,displayFields:s,displayImages:r,columnWidth:a}=e,o=((e,t)=>{var n={};for(var i in e)Ru.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&zu)for(var i of zu(e))t.indexOf(i)<0&&Uu.call(e,i)&&(n[i]=e[i]);return n})(e,["listType","subtype","listStyle","displayFields","displayImages","columnWidth"]);const l=ci(t,n,{listStyle:i,displayImageType:na(t,n,r)}),c=o.titleCount?o.titleCount:Pu(t,n,{listStyle:i,displayFields:s});return function(e){var{columnWidth:t,aspectRatio:n,titleHeight:i,innerHorizontalPadding:s}=e,r=((e,t)=>{var n={};for(var i in e)xu.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Lu)for(var i of Lu(e))t.indexOf(i)<0&&Ou.call(e,i)&&(n[i]=e[i]);return n})(e,["columnWidth","aspectRatio","titleHeight","innerHorizontalPadding"]);return Au(ju({columnWidth:t,rowHeight:Math.floor(t/n+i),innerHorizontalPadding:s},r))}(Vu({columnWidth:l===li?2*a+Qu:a,aspectRatio:l,titleHeight:Fu*c+Hu,innerHorizontalPadding:Qu,outerPaddingTop:_u,outerPaddingRight:Bu,outerPaddingBottom:_u,outerPaddingLeft:Bu},o))}var Yu=Object.prototype.hasOwnProperty,Wu=Object.getOwnPropertySymbols,Ku=Object.prototype.propertyIsEnumerable,qu=Object.assign;const $u=parseInt(ku.Z.v4PagePadding,10),Ju=parseInt(ku.Z.v4CardShadowSize,10),Xu=parseInt(ku.Z.gapMedium,10);var ep=n(48759);const tp={iconButton:"IconButton-iconButton-1kbRFb Link-link-2WGTd7",isDisabled:"IconButton-isDisabled-3rZuxc",isActive:"IconButton-isActive-3RXALk"};var np=Object.prototype.hasOwnProperty,ip=Object.getOwnPropertySymbols,sp=Object.prototype.propertyIsEnumerable,rp=Object.assign;function ap(e){var{children:t,className:n=tp.iconButton,activeClassName:i=tp.isActive,disabledClassName:s=tp.isDisabled,iconClassName:r,iconComponent:a,isDisabled:o=!1,isActive:l=!1,title:c,ariaLabel:d}=e,u=((e,t)=>{var n={};for(var i in e)np.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&ip)for(var i of ip(e))t.indexOf(i)<0&&sp.call(e,i)&&(n[i]=e[i]);return n})(e,["children","className","activeClassName","disabledClassName","iconClassName","iconComponent","isDisabled","isActive","title","ariaLabel"]);const p=d||c;return y.createElement(xn,rp(rp({},u),{className:we()(n,o&&s,l&&i),isDisabled:o,"aria-label":p,title:c}),y.createElement(a,{className:r}),t)}function op({className:e="HubTitle-hubTitle-2NQNPv",children:t}){return y.createElement("div",{className:e,"data-qa-id":"hubTitle"},t)}function lp({hub:e,size:t,totalSize:n,initialPageSize:i,isVisible:s=!0,onPageRequest:r}){const a=!(!e.placeholder||!e.more||t||null!=n),o=(0,y.useMemo)((()=>{const e=[];return e.length=i,e}),[i]);return(0,y.useEffect)((()=>{var t;!s&&a||!e.more||null!=n||null==r||r({startIndex:null!=(t=e.initialSize)?t:0,size:i})}),[e.initialSize,e.more,a,s,r,n,i]),{isPlaceholder:a,placeholderItems:o}}function cp(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-hub-next-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m532 280l-252-252-56 56 196 196-196 196 56 56 252-252"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}cp.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const dp=cp;function up(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-hub-prev-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m28 280l252-252 56 56-196 196 196 196-56 56-252-252"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}up.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const pp=up,mp="VirtualHubScroller-hubScrollButton-WieIHz IconButton-iconButton-1kbRFb Link-link-2WGTd7";function hp({className:e="VirtualHubScroller-hub-bVNDB-",hubHeaderClassName:t="VirtualHubScroller-hubHeader-1_4Pjo",hub:n,hubTitleComponent:i,keyPropName:s,items:r,totalSize:a,initialPageSize:o=24,hasError:l,layout:c,cellComponentFactory:d,shouldCenterScrollIndex:u,onHubReady:p,onPageRequest:m}){const{title:h,initialSize:g,random:v}=n,f=(0,y.useRef)(null),[I,b]=(0,y.useState)(!1),[M,S]=(0,y.useState)("auto"),[E,D]=(0,y.useState)(!1),[C,P]=(0,y.useState)(!1),[w,T]=(0,y.useState)(),[Z,N]=function(e){const t=(0,ep.YD)({triggerOnce:!0});return void 0===window.IntersectionObserver?[void 0,!0]:t}(),A=null==a||v?g:a,x=Math.min(1e4,null!=A?A:0),L={visibility:I?"visible":"hidden"},O={height:M,overflow:"hidden"},j=(0,y.useCallback)((e=>{b(!0),S(e.height)}),[]),k=(0,y.useCallback)((e=>{const{visibleStartIndex:t,visibleEndIndex:n}=e;f.current=e,D(t>0),P(x>n+1)}),[x]),R=(0,y.useCallback)((()=>{const e=f.current;if(e){const t=e.visibleEndIndex-e.visibleStartIndex;T(Math.max(e.visibleStartIndex-t-1,0))}}),[]),z=(0,y.useCallback)((()=>{const e=f.current;e&&T(e.visibleEndIndex+1)}),[]),{isPlaceholder:U,placeholderItems:V}=lp({hub:n,size:r.length,totalSize:a,initialPageSize:o,isVisible:N,onPageRequest:m});return(0,y.useEffect)((()=>{(0===a||null==a&&l)&&(b(!0),S(0))}),[l,a]),(0,y.useEffect)((()=>{I&&(null==p||p(n))}),[I]),(0,y.useEffect)((()=>{null!=w&&T(void 0)}),[w]),U||x?y.createElement("div",{className:e,style:L,ref:Z},y.createElement("div",{className:t},i?y.createElement(i,{hub:n},h):y.createElement(op,null,h),U||!E&&!C?null:y.createElement("div",{className:"VirtualHubScroller-hubActions-3J0a6S"},y.createElement(ap,{className:mp,iconComponent:pp,isDisabled:!E,title:(0,De.Z)("Previous Page"),onPress:R}),y.createElement(ap,{className:mp,iconComponent:dp,isDisabled:!C,title:(0,De.Z)("Next Page"),onPress:z}))),y.createElement("div",{style:O},y.createElement(Hc,{scrollerKey:n.sourceURI,className:"VirtualHubScroller-hubScroller-2urYxf VirtualListScroller-scroller-2VrU8W Scroller-scroller-3Rbtv0",keyPropName:s,items:U?V:r,scrollDirection:Ne.Horizontal,targetScrollIndex:w,shouldCenterScrollIndex:u,autoScroll:!1,totalSize:U?V.length:x,layout:c,cellComponentFactory:d,onListReady:j,onListUpdate:k,onPageRequest:U||!N?void 0:m}))):null}const gp=(0,de.P1)(rs("columnWidthMultiplier"),(e=>Math.floor(80*(e-1)+120)));var yp=Object.assign;function vp({hub:e,hubTitleComponent:t,items:n,totalSize:i,hasError:s,onHubReady:r,onPageRequest:a}){const{type:o,subtype:l,style:c=Bt.n.Shelf}=e,d=(0,f.v9)(gp),{containerMeta:u}=_n(),p=(0,y.useMemo)((()=>c===Bt.n.WideShelf?function(e){var{type:t,subtype:n,columnWidth:i}=e,s=((e,t)=>{var n={};for(var i in e)Yu.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Wu)for(var i of Wu(e))t.indexOf(i)<0&&Ku.call(e,i)&&(n[i]=e[i]);return n})(e,["type","subtype","columnWidth"]);const r=ci(t,n,{listStyle:Bt.n.WideShelf});return Au(qu({columnWidth:3*i+Xu,rowHeight:Math.floor(i/r),aspectRatio:r,innerHorizontalPadding:Xu,outerPaddingTop:Ju,outerPaddingRight:$u,outerPaddingBottom:Ju,outerPaddingLeft:$u},s))}({type:o,subtype:l,columnWidth:d}):Gu({listType:o,subtype:l,listStyle:c,columnWidth:d,displayFields:null==u?void 0:u.DisplayFields,displayImages:null==u?void 0:u.DisplayImage})),[c,o,l,d,null==u?void 0:u.DisplayFields,null==u?void 0:u.DisplayImage]),m=(0,y.useMemo)((()=>e=>y.createElement(xt.ZP,{key:e.key,column:e.cellIndex},c===Bt.n.WideShelf?y.createElement(Du,yp({},e)):y.createElement(fu,yp({},e)))),[c]);return y.createElement(hp,{hub:e,hubTitleComponent:t,keyPropName:"listItemKey",items:n,totalSize:i,hasError:s,layout:p,cellComponentFactory:m,onHubReady:r,onPageRequest:a})}var fp=n(88167);const Ip=function(e,t){return e-t*Math.floor(e/t)};function bp(){const[e,t]=(0,y.useState)(!1),n=(0,y.useRef)(void 0),i=(0,y.useRef)(null),s=(0,y.useCallback)((e=>{window.clearTimeout(n.current),i.current=e.currentTarget,t(!0)}),[]),r=(0,y.useCallback)((()=>{n.current=window.setTimeout((()=>{i.current=null,t(!1)}))}),[]);return(0,y.useEffect)((()=>{function e(e){const n=e.currentTarget;t(n instanceof HTMLElement&&n.contains(i.current))}return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]),[e,s,r]}var Mp=n(26021),Sp=n(97345);const Ep=function(e,t){const n=e.match(/^#([0-9|a-f]{2})([0-9|a-f]{2})([0-9|a-f]{2})$/i);if(!n)throw new Error("invalid hex color pattern");const[,i,s,r]=n;return`rgba(${parseInt(i,16)}, ${parseInt(s,16)}, ${parseInt(r,16)}, ${t})`};function Dp(e){const{attributionLogo:t}=e;return y.createElement("img",{className:"AttributionLogo-img-1--Xrx",src:t})}function Cp({className:e,src:t}){return y.createElement("img",{className:e,src:t})}function Pp({isSelected:e,metadataItem:t}){const[n,i]=cn(),s=pi(t,"key"),r=Ep(t.backgroundColor,0),a=Ep(t.backgroundColor,1),[o,l]=aa(),c=(0,y.useMemo)((()=>({backgroundColor:a})),[a]),d=(0,y.useMemo)((()=>({backgroundImage:`linear-gradient(to left, ${r}, ${a} 400px)`})),[r,a]);return y.createElement("div",{className:o?"SpotlightHubCard-hoveredCard-2bdlGb SpotlightHubCard-card-268FO5":"SpotlightHubCard-card-268FO5",style:c,ref:l},y.createElement("div",{className:"SpotlightHubCard-colorGradient-3k1grG",style:d}),y.createElement(ft.Z,{serverEntityID:n.entityID,providerEntityID:i.entityID,className:"SpotlightHubCard-image-3H7ayz",url:t.art,size:Sp.Ko,component:Cp}),y.createElement("div",{className:"SpotlightHubCard-copyOverlay-3-1IDP"},y.createElement("div",{className:"SpotlightHubCard-title-1q33N6"},t.title),y.createElement("div",{className:"SpotlightHubCard-summary-29vFxp"},t.summary),y.createElement("div",{className:"SpotlightHubCard-action-3mvHbz"},t.action)),y.createElement("div",{className:"SpotlightHubCard-attributionLogo-suhH0i"},y.createElement(Dp,{attributionLogo:t.attributionLogo})),y.createElement(xn,{tabIndex:e?void 0:-1,to:s,className:"SpotlightHubCard-link-24YHoa",title:t.title}))}function wp({index:e,selectedIndex:t,metadataItem:n,onPress:i}){const s=(0,y.useCallback)((()=>{i(e)}),[e,i]);return y.createElement(zn,{className:"SpotlightHubDot-dotButton-2cwzlh Button-button-1q7C1V Link-link-2WGTd7",title:n.title,onPress:s},y.createElement("span",{className:e===t?"SpotlightHubDot-dotIsSelected-2TiJfK SpotlightHubDot-dot-3I4o2q":"SpotlightHubDot-dot-3I4o2q"}))}function Tp(e,t){return t*(e||0)}function Zp({hub:e,items:t,onHubReady:n}){const[i,{width:s}]=(0,Mp.Z)(),r=(0,y.useCallback)((e=>{u(Tp(s,e))}),[s]),[a,o]=(0,y.useState)(0),l=(0,y.useCallback)((({scrollLeft:e})=>{o(e)}),[]),c=function(e,t,n){return e?(0,fp.Z)(Math.floor((n-e/2)/e)+1,0,t-1):0}(s,t.length,a),[d,u]=(0,y.useState)(),[p,m,h]=bp(),[g,v]=aa(),[f,I]=(0,y.useState)(0);return(0,y.useEffect)((()=>{I(Date.now())}),[a]),(0,y.useEffect)((()=>{if(a===d)return void u(void 0);const n=Date.now()-f,i=p||g||!e.autoAdvanceDelayMs?null:window.setTimeout((()=>{u(Tp(s,Ip(c+1,t.length)))}),n>e.autoAdvanceDelayMs?500:e.autoAdvanceDelayMs-n),r=window.setTimeout((()=>{const e=Tp(s,c);e!==a&&u(e)}),1e3);return()=>{i&&window.clearTimeout(i),r&&window.clearTimeout(r)}}),[s,e.autoAdvanceDelayMs,p,g,t.length,f,c,a,d]),(0,y.useEffect)((()=>{n&&(s||0===t.length)&&n(e)}),[t.length,s,e,n]),0===t.length?null:y.createElement("div",{className:"SpotlightHubScroller-hub-3V5KIE VirtualHubScroller-hub-bVNDB-",ref:(0,Te.Z)(i,v),onFocus:m,onBlur:h},y.createElement(Oe,{className:void 0===d?"SpotlightHubScroller-hubScroller-2nwIPv VirtualHubScroller-hubScroller-2urYxf VirtualListScroller-scroller-2VrU8W Scroller-scroller-3Rbtv0":"SpotlightHubScroller-hubScrollerControlledScroll-3gsyDu SpotlightHubScroller-hubScroller-2nwIPv VirtualHubScroller-hubScroller-2urYxf VirtualListScroller-scroller-2VrU8W Scroller-scroller-3Rbtv0",scrollDirection:Ne.Horizontal,smoothScroll:!0,targetScrollLeft:d,onScrollPositionChange:l},t.map(((e,t)=>y.createElement("div",{key:t,className:"SpotlightHubScroller-cell-27a3ol"},y.createElement(xt.ZP,{column:t},y.createElement(Pp,{isSelected:t===c,metadataItem:e})))))),t.length>1?y.createElement("div",{className:"SpotlightHubScroller-dots-2oLzy4"},t.map(((e,t)=>y.createElement(wp,{key:t,metadataItem:e,index:t,selectedIndex:c,onPress:r})))):null)}var Np=n(39374);function Ap({hub:e,onHubReady:t}){const[,n]=cn(),i=lr({pane:"tidalBanner"}),s=(0,y.useCallback)((()=>{i({action:rr.J9})}),[i]);return(0,y.useEffect)((()=>{null==t||t(e)}),[e,t]),pa.wB(n.identifier,pa.xF)?y.createElement("div",{className:"TidalUpsellHub-container-CghDAD"},y.createElement("div",{className:"TidalUpsellHub-text-3Sb2np"},y.createElement("div",{className:"TidalUpsellHub-logo-2UEioL","aria-label":"Tidal"}),y.createElement("div",{className:"TidalUpsellHub-body-VoEM0K"},(0,De.Z)("Preview 60 million streaming tracks, thousands of music videos and more.")," ",y.createElement(xn,{to:Np.YC,className:"TidalUpsellHub-link-RwplUC Link-link-2WGTd7",target:"_blank",rel:"noopener noreferrer",onPress:s},(0,De.Z)("Get started at plex.tv"))))):null}var xp,Lp,Op=Object.assign;function jp({hub:e,hubTitleComponent:t,onHubReady:n}){const{sourceURI:i,key:s,type:r,subtype:a,random:o,Meta:l,style:c=Bt.n.Shelf,isStale:d}=e,u=(0,f.I0)(),[p,m]=cn(),h=(0,y.useMemo)((()=>wl(i)),[i]),g=(0,f.v9)(h);(0,y.useEffect)((()=>{d&&!o&&u(Gn.Z.actions.throttledRepopulateRangeRequested({server:p,provider:m,sourceURI:i}))}),[u,d,m,o,p,i]);const v=(0,y.useCallback)((e=>{u(Gn.Z.actions.fetchRangeRequested(Op(Op({},e),{server:p,provider:m,sourceURI:i})))}),[u,m,p,i]),I=function(e){switch(e){case Bt.n.Spotlight:return Zp;case Bt.n.Upsell:return Ap}return vp}(c);return y.createElement(Qn,{containerServer:p,containerProvider:m,containerSourceURI:g.sourceURI,containerKey:s,containerType:r,containerSubtype:a,containerMeta:l,listStyle:c},y.createElement(Xr,{items:g.items},y.createElement(I,{hub:e,hubTitleComponent:t,items:g.items,totalSize:g.totalSize,hasError:!!g.error,onHubReady:n,onPageRequest:v})))}(Lp=xp||(xp={})).Plex="com.plex",Lp.Tidal="com.tidal",Lp.WatchTogether="com.watchtogether";const kp={[xp.Tidal]:us,[xp.WatchTogether]:ps.Z};function Rp({className:e,attribution:t}){const n=kp[t];return n?y.createElement(n,{className:e}):null}function zp({children:e,hub:t}){return y.createElement(op,null,t.attribution?y.createElement(Rp,{className:"MetadataHubTitle-attribution-1DzlFO",attribution:t.attribution}):null,e)}const Up={opacity:0,pointerEvents:"none"},Vp={opacity:1,pointerEvents:"auto"};function Bp({className:e,hubs:t,hubComponent:n,hubTitleComponent:i,metricsRowOffset:s=0,onHubsReady:r}){const a=(0,y.useRef)(new Set),[o,l]=(0,y.useState)(!1),c=(0,y.useCallback)((e=>{const n=a.current;n.add(e.hubIdentifier),t.every((e=>n.has(e.hubIdentifier)))&&(l(!0),null==r||r())}),[t,r]);let d=s;return y.createElement("div",{className:e,style:o?Vp:Up},t.map(((e,t)=>y.createElement(xt.ZP,{key:t,name:e.context,row:e.initialSize||e.more?d++:void 0},y.createElement(n,{hub:e,hubTitleComponent:i,onHubReady:c})))))}const Fp={pageContentScroller:"PageContent-pageContentScroller-18TqCp Scroller-scroller-3Rbtv0"};var Hp=Object.prototype.hasOwnProperty,_p=Object.getOwnPropertySymbols,Qp=Object.prototype.propertyIsEnumerable,Gp=Object.assign;function Yp(e){var{forwardedRef:t,className:n=Fp.pageContentScroller,onScrollPositionChange:i}=e,s=((e,t)=>{var n={};for(var i in e)Hp.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&_p)for(var i of _p(e))t.indexOf(i)<0&&Qp.call(e,i)&&(n[i]=e[i]);return n})(e,["forwardedRef","className","onScrollPositionChange"]);const{scrollRestoreProps:r}=gn({key:"PageContent",shouldRestoreImmediately:!0,onScrollPositionChange:i});return y.createElement(Oe,Gp(Gp(Gp({ref:t},s),r),{className:n}))}const Wp=y.forwardRef(((e,t)=>y.createElement(Yp,Gp(Gp({},e),{forwardedRef:t}))));function Kp(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-shows-broadcast-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m280 120l120-100h70l-118.75 100h208.75v440h-560v-440h208.75l-118.75-100h70l120 100m-220 340h440v-280h-440v280"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Kp.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const qp=Kp,$p="vod.watchlist";var Jp=n(41927),Xp=n(5450),em=n(80080),tm=n(47323);function nm(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-person-auto-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M198.543 309.557a162.542 162.542 0 0 1-79.755-140.166C118.788 79.705 190.965 7 280 7c89.035 0 161.212 72.705 161.212 162.39a162.542 162.542 0 0 1-79.755 140.167C476.367 343.994 560 447.712 560 554H0c0-106.288 83.633-210.006 198.543-244.443zM40 554h480c0-106.732-107.452-213.463-240-213.463S40 447.268 40 554zm120-386.902c0 66.314 53.726 120.073 120 120.073s120-53.759 120-120.073c0-66.315-53.726-120.074-120-120.074s-120 53.759-120 120.074z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}nm.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const im=nm;var sm=n(61309),rm=n(99131),am=n(85669);function om(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-playlists-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m0 460l80 0 0 60-80 0 0-60m560 0l0 60-400 0 0-60 400 0m-560-140l80 0 0 60-80 0 0-60m160 0l400 0 0 60-400 0 0-60m-160-140l80 0 0 60-80 0 0-60m160 0l400 0 0 60-400 0 0-60m-160-140l80 0 0 60-80 0 0-60m160 0l400 0 0 60-400 0 0-60"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}om.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const lm=om;var cm=Object.prototype.hasOwnProperty,dm=Object.getOwnPropertySymbols,um=Object.prototype.propertyIsEnumerable,pm=Object.assign;function mm(e){var{type:t}=e,n=((e,t)=>{var n={};for(var i in e)cm.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&dm)for(var i of dm(e))t.indexOf(i)<0&&um.call(e,i)&&(n[i]=e[i]);return n})(e,["type"]);switch(t){case ri.pG.Movie:return y.createElement(em.Z,pm({},n));case ri.pG.Show:case ri.pG.Season:case ri.pG.Episode:return y.createElement(rm.Z,pm({},n));case ri.pG.Artist:return y.createElement(Jp.Z,pm({},n));case ri.pG.Album:case ri.pG.Track:return y.createElement(tm.Z,pm({},n));case ri.pG.Photo:case ri.pG.PhotoAlbum:return y.createElement(sm.Z,pm({},n));case ri.pG.Clip:return y.createElement(Xp.Z,pm({},n));case ri.pG.Game:return y.createElement(am.Z,pm({},n));case ri.pG.Playlist:return y.createElement(lm,pm({},n));case ri.pG.Person:return y.createElement(im,pm({},n))}!function(e){throw new Error(`"${e}" is not mapped to an icon`)}(t)}const hm=(0,Ht.Z)((function(e){return(0,de.P1)(Xt(e.machineIdentifier),(e=>{var t,n;return null!=(n=null==(t=null==e?void 0:e.desktop)?void 0:t.activities)?n:[]}))})),gm=function(e,t){return(0,de.P1)(hm(e),(e=>e.find((e=>e.type===Oa.QX&&e.Context.librarySectionID===t.id))))};function ym(e,t){const n=(0,y.useMemo)((()=>t?gm(e,t):()=>{}),[t,e]);return!!(0,f.v9)(n)||!!(null==t?void 0:t.refreshing)}const vm=function(e,t){return(0,de.P1)(hm(e),(e=>e.find((e=>e.type===Oa.JW&&e.Context.identifier===t.identifier))))};var fm,Im;(Im=fm||(fm={})).Equal="=",Im.NotEqual="!=",Im.DoubleEqual="==",Im.NotDoubleEqual="!==",Im.GreaterThanOrEqual=">=",Im.LessThanOrEqual="<=",Im.GreaterThanGreaterThanOrEqual=">>=",Im.LessThanLessThanOrEqual="<<=";const bm=fm;var Mm=n(20272),Sm=Object.assign;const Em=function(e,t){const n=[...e];if(t.filter.filterType===ai.H_.Boolean){const e=n.findIndex((e=>e.filter.filter===t.filter.filter)),i=-1===e?0:e,s=Sm(Sm({},t),{value:"string"==typeof t.value?"1"===t.value:t.value});-1===e?n.push(s):n.splice(i,1,s)}else n.find((e=>e.filter.filter===t.filter.filter&&e.value===t.value))||n.push(t);return n};function Dm(e){const t=(0,Mm._2)(bm).find((t=>bm[t]===e));return t?bm[t]:void 0}const Cm=function(e,t){if(!(null==t?void 0:t.Filter))return{strippedKey:e,filterRules:[]};const n=t.Filter,{params:i,pathname:s}=C.Z.parseUri(e,{decoder:e=>e});let r=[];for(const e in i)if(i.hasOwnProperty(e)){let t=r;const s=i[e],a=n.find((t=>e.startsWith(t.filter)));if(!a)continue;const o=Dm(`${e.substr(a.filter.length)}=`);if(!o)continue;"string"==typeof s?t=Em(t,{filter:a,operator:o,value:s}):Array.isArray(s)&&(t=s.reduce(((e,t)=>"string"!=typeof t?e:Em(e,{filter:a,operator:o,value:t})),t)),r!==t&&(r=t,delete i[e])}return{strippedKey:C.Z.join(s,i,{stringifyOptions:{encode:!1}}),filterRules:r}};var Pm=n(84893);const wm=(0,de.P1)(Yr,(e=>e.directory)),Tm=(0,de.P1)(wm,(e=>e.meta)),Zm=(0,de.P1)(Tm,(e=>e?(0,Pm.Z)(e):void 0)),Nm=function(e){return(0,de.P1)(Zm,(t=>e?Cm(e,t):void 0))};var Am=Object.assign;let xm,Lm;function Om(e,t=window.location.hash){const n=function(e){if(xm===e)return Lm;const t=e.split("?"),n=t.length>1?t[1]:void 0,i=n?C.Z.parseParams(n):{};return xm=e,Lm={url:t[0],params:i},Lm}(t);return C.Z.join(n.url,Am(Am({},n.params),e))}const jm=function(e){const t=(0,f.I0)();return(0,y.useCallback)((n=>{const i=n.currentTarget.getAttribute("href");i&&(0===n.button||n.touches)&&(n.stopPropagation(),t((0,pn.c4)({pathname:i,replace:!0}))),null==e||e(n)}),[t,e])};var km=n(18039);function Rm(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-watchlist-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M35 35.113C35 15.721 50.736 0 70.212 0H489.4c19.446 0 35.211 15.384 35.211 35.113v504.933c0 19.392-12.476 25.435-27.606 13.699L307.412 406.679c-15.246-11.826-40.083-11.735-55.212 0L62.606 553.745C47.36 565.57 35 559.775 35 540.046V35.113zm225.736 201.485v72.615h38.528v-72.615h68.083v-41.305h-68.083v-73.559h-38.528v73.559h-68.084v41.305h68.084z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Rm.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const zm=Rm;function Um({className:e,directoryKey:t,selectedPivot:n}){const[i,s,r]=cn(),a=pa.wB(s.identifier,pa.Ll),o=(0,y.useMemo)((()=>vm(i,s)),[s,i]),l=!!(0,f.v9)(o),c=ym(i,r),d=(0,y.useMemo)((()=>Nm(t)),[t]),u=(0,f.v9)(d),p=jm();return(null==n?void 0:n.id)===$p?y.createElement(Ve,{className:e,icon:y.createElement(zm,{className:"EmptyDirectoryPageContent-watchlistIcon-3K6cYz"}),title:(0,De.Z)("Watchlist"),description:(0,De.Z)("You can add movies and shows to your Watchlist to catch up on later. Once you finish watching an item in the list, or mark it as watched it will automatically be removed from the list.")}):(null==u?void 0:u.filterRules.length)?y.createElement(Ve,{icon:(null==r?void 0:r.type)?y.createElement(mm,{type:r.type}):void 0,title:(0,De.Z)("The active filter has no matches"),description:(0,De.Z)("Use the menu above to change the active filter")},y.createElement(zn,{to:Om({key:u.strippedKey}),kind:Dn.Primary,onPress:p},(0,De.Z)("Clear filter"))):a?l?y.createElement(Ve,{className:e,icon:y.createElement(qp,null),title:(0,De.Z)("We're now building your Guide"),description:(0,De.Z)("Hang tight while we download all the data for what's on")}):y.createElement(Ve,{className:e,icon:y.createElement(qp,null),title:(0,De.Z)("Your Guide is empty"),description:(0,De.Z)("Please verify your channel mappings and refresh the Guide")},y.createElement(zn,{to:(0,km.Z)(i.machineIdentifier,"manage","dvr"),kind:Dn.Primary},(0,De.Z)("Go to DVR Settings"))):c?y.createElement(Ve,{className:e,icon:(null==r?void 0:r.type)?y.createElement(mm,{type:r.type}):void 0,title:r?(0,De.Z)('"{directoryTitle}" is currently being updated',{directoryTitle:r.title}):(0,De.Z)("This page is currently being updated"),description:(0,De.Z)("Hang tight while we look for content")}):y.createElement(Ve,{className:e,icon:(null==r?void 0:r.type)?y.createElement(mm,{type:r.type}):void 0,title:r?(0,De.Z)('"{directoryTitle}" is empty',{directoryTitle:i.isCloud?null==n?void 0:n.title:r.title}):(0,De.Z)("This page is empty"),description:i.isFullOwnedServer?(0,De.Z)("Expecting more? Visit the Manage Libraries page to add folders and scan library files."):null},i.isFullOwnedServer?y.createElement(zn,{kind:Dn.Primary,to:(0,km.Z)(i.machineIdentifier,"manage","libraries")},(0,De.Z)("Manage Libraries")):null)}var Vm=n(8183),Bm=Object.assign;function Fm(e,t){const{isCloud:n,isConnected:i,isEmbedded:s,isFullOwnedServer:r,isFullServer:a,isUnauthorized:o,isUnavailable:l}=t,c={extra:{isCloud:n,isConnected:i,isEmbedded:s,isFullOwnedServer:r,isFullServer:a,isUnauthorized:o,isUnavailable:l}},d=new Error(e);D.Z.error(d,c.extra),k.Tb(d,c)}const Hm={sessionKeys:[],sessionsByKey:{},isPending:!1,isPopulated:!1,error:null,stopSessionError:null},_m=(0,Fr.oM)({name:"serverNowPlayingSessions",initialState:{},reducers:{fetchRequested(e,{payload:t}){const n=e[t.server.machineIdentifier];n&&(0,Vm.er)(n)},fetchSucceeded(e,{payload:t}){const n=e[t.server.machineIdentifier];if(!n)return;const{sessionKeys:i,sessionsByKey:s}=t.data.reduce(((e,t)=>(e.sessionKeys.push(t.sessionKey),e.sessionsByKey[t.sessionKey]=t,e)),{sessionKeys:[],sessionsByKey:{}});(0,Vm.vv)(n),n.sessionKeys=i,n.sessionsByKey=s},fetchFailed(e,{payload:t}){const n=e[t.server.machineIdentifier];n&&(0,Vm.VQ)(n,t.error)},sessionChanged(e,{payload:t}){const{server:n,message:i}=t,s=e[n.machineIdentifier];if(!s)return void Fm("Session changed without serverState",n);const r=s.sessionsByKey[i.sessionKey];r&&r.key===i.key&&(r.viewOffset=i.viewOffset,r.Player.state=i.state)},sessionStopped(e,{payload:t}){const{server:n,sessionKey:i}=t,s=e[n.machineIdentifier];s?s.sessionsByKey[i]&&(delete s.sessionsByKey[i],s.sessionKeys.splice(s.sessionKeys.indexOf(i),1)):Fm("Session stopped without serverState",n)},stopRequested(e,t){},stopFailed(e,{payload:t}){const n=e[t.server.machineIdentifier];n&&(n.stopSessionError=t.error)},stopErrorDismissed(e,{payload:t}){const n=e[t.server.machineIdentifier];n&&(n.stopSessionError=null)}},extraReducers:e=>{e.addCase(ja.actions.connected,((e,{payload:t})=>{const{server:n}=t;e[n.machineIdentifier]||(e[n.machineIdentifier]=Bm({},Hm))}))}}),Qm=(0,Fr.oM)({name:"user",initialState:{},reducers:{languageChanged(){}}}),Gm=(0,Fr.oM)({name:"players",initialState:{},reducers:{ended(e,t){}}});var Ym=Object.assign;const Wm={meta:void 0,metadataListSourceURI:void 0,filterOptions:{},firstCharacters:{isPending:!1,isPopulated:!1,error:null,items:[]},hubsList:{sourceURI:void 0,lastFetchedAt:void 0,isPending:!1,isPopulated:!1,error:null,hubs:[]}};function Km(e,t){var n;(null==(n=e.hubsList.sourceURI)?void 0:n.includes(t))&&e.hubsList.hubs.forEach((e=>{e.isStale=!0}))}const qm=(0,Fr.oM)({name:"directory",initialState:Wm,reducers:{reset:()=>Wm,resetMeta(e){e.meta=void 0},resetHubs(e){e.hubsList=Wm.hubsList},initializeListRequested(e,{payload:t}){e.metadataListSourceURI=t.sourceURI},markHubsStaleRequested(e){e.hubsList.isPending=!1},markHubsStale(e){e.hubsList.hubs.forEach((e=>{e.isStale=!0}))},markHubsStaleCanceled(e){},fetchHubsRequested(e,{payload:t}){e.hubsList.sourceURI=t.sourceURI,(0,Vm.er)(e.hubsList)},fetchHubsSucceeded(e,{payload:t}){(0,Vm.vv)(e.hubsList),e.hubsList.hubs=t.data.hubs,e.hubsList.lastFetchedAt=Date.now(),e.title=t.data.title,e.meta=t.data.meta},fetchHubsFailed(e,{payload:t}){(0,Vm.VQ)(e.hubsList,t.error)},fetchFilterOptionsRequested(e,{payload:t}){const n=t.filter;e.filterOptions[n.key]||(e.filterOptions[n.key]={isPending:!1,isPopulated:!1,error:null,options:[]}),(0,Vm.er)(e.filterOptions[n.key])},fetchFilterOptionsSucceeded(e,{payload:t}){const n=t.filter;(0,Vm.vv)(e.filterOptions[n.key]),e.filterOptions[n.key].options=t.filterOptions},fetchFilterOptionsFailed(e,{payload:t}){const n=t.filter;(0,Vm.VQ)(e.filterOptions[n.key],t.error)},fetchFirstCharactersRequested(e,t){(0,Vm.er)(e.firstCharacters)},fetchFirstCharactersSucceeded(e,{payload:t}){(0,Vm.vv)(e.firstCharacters),e.firstCharacters.items=t.firstCharacters},fetchFirstCharactersFailed(e,{payload:t}){(0,Vm.VQ)(e.firstCharacters,t.error)}},extraReducers(e){e.addCase(Gn.Z.actions.fetchRangeSucceeded,((e,{payload:t})=>{t.sourceURI===e.metadataListSourceURI&&(e.title=t.data.title,t.data.meta&&(e.meta=t.data.meta))})),e.addCase(Gn.Z.actions.reset,((e,{payload:t})=>t.sourceURI===e.metadataListSourceURI?Ym(Ym({},Wm),{filterOptions:e.filterOptions,meta:e.meta}):e)),e.addCase(Gn.Z.actions.repopulateRangeSucceeded,((e,{payload:t})=>{e.hubsList.hubs.forEach((e=>{e.sourceURI===t.sourceURI&&(e.isStale=!1)}))})),e.addCase(Gm.actions.ended,((e,{payload:t})=>{Km(e,t.source)})),e.addCase(_m.actions.sessionStopped,((e,{payload:t})=>{Km(e,(0,jt.Z)({serverIdentifier:t.server.machineIdentifier}))})),e.addCase(ja.actions.libraryScanUpdated,((e,{payload:t})=>{Km(e,(0,jt.Z)({serverIdentifier:t.server.machineIdentifier}))})),e.addCase(ar.Z.actions.playedStatusUpdateSucceeded,((e,{payload:t})=>{Km(e,(0,jt.Z)({serverIdentifier:t.server.machineIdentifier,providerIdentifier:t.provider.identifier}))})),e.addCase(ar.Z.actions.metadataProcessed,((e,{payload:t})=>{const{serverIdentifier:n,providerIdentifier:i}=(0,Vn.Z)(t.sourceURI);Km(e,(0,jt.Z)({serverIdentifier:n,providerIdentifier:i}))})),e.addCase(Qm.actions.languageChanged,(e=>{e.hubsList=Wm.hubsList}))}}),$m=function(e){const[t,n,i]=cn(),s=(0,y.useMemo)((()=>function(e,t,n){return pa.wB(t.identifier,pa.Y3)?n?gm(e,n):()=>{}:pa.wB(t.identifier,pa.Ll)?vm(e,t):()=>{}}(t,n,i)),[i,n,t]),r=!(!(0,f.v9)(s)&&!(null==i?void 0:i.refreshing)),a=(0,ad.Z)(r);(0,y.useEffect)((()=>{let t;return r?t=window.setInterval((()=>{null==e||e()}),1e4):!r&&a&&(null==e||e()),()=>{window.clearInterval(t)}}),[e,r,a])},Jm=(0,de.P1)(Yr,(e=>e.directory.hubsList));var Xm=n(48653),eh=n(62034),th=n(14513),nh=n(84385);const ih={actionButton:"ActionButton-actionButton-392O1X Button-button-1q7C1V Link-link-2WGTd7",labeledActionButton:"ActionButton-labeledActionButton-3gloir ActionButton-actionButton-392O1X Button-button-1q7C1V Link-link-2WGTd7",icon:"ActionButton-icon-asUA4S",iconActionButton:"ActionButton-iconActionButton-3RWDHb ActionButton-actionButton-392O1X Button-button-1q7C1V Link-link-2WGTd7",tooltip:"ActionButton-tooltip-1YDGxT Tooltip-topCenter-3rQrl- Tooltip-tooltip-7baWc9 Tooltip-tooltipArrow-3xCLkA Tooltip-tooltipBottomArrow-1dQ_LY Tooltip-tooltipCenterAlignArrow-2WhOj6",small:"ActionButton-small-2iEiNP",medium:"ActionButton-medium-2--fwJ",large:"ActionButton-large-3bhyDc"};var sh=Object.prototype.hasOwnProperty,rh=Object.getOwnPropertySymbols,ah=Object.prototype.propertyIsEnumerable,oh=Object.assign;function lh(e){var{isLabeled:t,className:n=(t?ih.labeledActionButton:ih.iconActionButton),iconClassName:i=ih.icon,tooltipClassName:s=ih.tooltip,kind:r,size:a=We.Medium,icon:o,tooltipAttachment:l=nh.jO,title:c}=e,d=((e,t)=>{var n={};for(var i in e)sh.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&rh)for(var i of rh(e))t.indexOf(i)<0&&ah.call(e,i)&&(n[i]=e[i]);return n})(e,["isLabeled","className","iconClassName","tooltipClassName","kind","size","icon","tooltipAttachment","title"]);return t?y.createElement(zn,oh({className:we()(n,ih[a]),kind:r},d),o?y.createElement(y.Fragment,null,y.createElement(o,{className:i})," "):null,c):y.createElement(th.Z,oh({className:we()(n,ih[a]),tooltipClassName:s,component:zn,tooltip:c,tooltipAttachment:l},d),o?y.createElement(o,{className:i}):null)}const ch=(0,de.P1)(Wr,(e=>!!e.count)),dh=(0,sn.Z)((0,de.P1)(Wr,ti,_t.Z,he.Z,(e=>e.servers),(0,Qt.Z)("providers"),((e,t,n,i,s,r)=>{const a=(o=e).count?Object.keys(o.items).map((e=>o.items[e])):[];var o;return a.length?a.map((e=>{var a;const{serverIdentifier:o,providerIdentifier:l}=(0,Vn.Z)(e.source),c=s.find((e=>{const t=i[e];return!!t&&t.machineIdentifier===o})),d=c?i[c]:Jt,u=(d.isCloud?r:d.providers).find((e=>n[e].identifier===l)),p=u?n[u]:Gt;return{metadataItem:e,metadataItemState:null!=(a=t[e.sourceURI])?a:{tempState:{},isStale:!1,isPending:!1,isPopulated:!1,error:null},server:rn(d),provider:p}})):[]})),(e=>e));var uh=n(44719),ph=Object.assign;function mh(e){if(!e.length)return!1;const[{metadataItem:t}]=e;return e.every((({metadataItem:e})=>t.type===e.type&&t.subtype===e.subtype))}function hh(e){if(!e.length)return!1;const[{server:t,provider:n}]=e;return e.every((({server:e,provider:i})=>e.machineIdentifier===t.machineIdentifier&&i.identifier===n.identifier))}function gh(e,t){return e.every((({server:e,provider:n,metadataItem:i,metadataItemState:s})=>ol({server:e,provider:n,stableUser:t,metadataItem:i,metadataItemState:s})||al({server:e,provider:n,stableUser:t,metadataItem:i,metadataItemState:s})))}function yh(e,t){return!!e.length&&!!mh(e)&&Eh(e,t,ll)}const vh=[ri.pG.Movie,ri.pG.Show,ri.pG.Season,ri.pG.Artist,ri.pG.Album];function fh(e,t){if(e.length<2)return!1;if(!yh(e,t))return!1;if(!mh(e))return!1;if(!hh(e))return!1;const[{metadataItem:n}]=e;return vh.includes(n.type)}function Ih(e,t){if(!e.length)return!1;if(!hh(e))return!1;const[{provider:n}]=e;if(!Go(n))return!1;const i=e.reduce(((e,{metadataItem:t})=>{const n=function(e){const{type:t,subtype:n,playlistType:i}=e;switch(n){case ri.y_.Photo:switch(t){case ri.pG.Clip:return uh.G.Photo}}switch(vl(t,n)||t){case ri.pG.Playlist:if(!i)throw new Error("playlistType missing from playlist metadataItem");switch(i){case ri.DD.Audio:case ri.DD.Video:return uh.G.AudioVideo;case ri.DD.Photo:return uh.G.Photo}break;case ri.pG.Track:return uh.G.AudioVideo;case ri.pG.Episode:case ri.pG.Movie:case ri.pG.Clip:return uh.G.AudioVideo;case ri.pG.Photo:return uh.G.Photo;case ri.pG.Game:return uh.G.Rom}throw new Error(`No known player type for ${t}`)}(t);return e.includes(n)||e.push(n),e}),[]);return!i.includes(uh.G.Rom)&&!(i.length>1&&i.includes(uh.G.Photo))&&Mh(e,t,$o)}function bh(e,t){if(!e.length)return!1;const[{metadataItem:n}]=e;if(e.some((({metadataItem:e})=>e.type===ri.pG.Playlist)))return!1;const i=Ms(n.type,n.subtype);return!!e.every((({metadataItem:e})=>i===Ms(e.type,e.subtype)))&&!!hh(e)&&Eh(e,t,Xo)}function Mh(e,t,n){return!!e.length&&e.every((e=>n(ph(ph({},e),{stableUser:t}))))}function Sh(e,t,n){return!!e.length&&e.some((e=>n(ph(ph({},e),{stableUser:t}))))}function Eh(e,t,n){return!!e.length&&!!hh(e)&&Mh(e,t,n)}var Dh=Object.assign;function Ch(e){return y.createElement("div",Dh({},e))}Ch.defaultProps={className:"PageHeader-pageHeader-WpvbJc"};const Ph=Ch;function wh(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-add-to-playlist-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m223.992 459.2l336 0 0 44.8-336 0 0-44.8m0-134.4l336 0 0 44.8-336 0 0-44.8m84-134.4l252 0 0 44.8-252 0 0-44.8m-218.392 0l-89.6 0 0 44.8 89.6 0 0 89.6 44.8 0 0-89.6 89.6 0 0-44.8-89.6 0 0-89.6c0 0-53.77 0-37.8 0l-7 0 0 89.6m134.392-134.4l336 0 0 44.8-336 0 0-44.8"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}wh.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const Th=wh;function Zh(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-edit-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m56 504l28-84 56 56-84 28m392-448l-336 336 56 56 336-336-56-56"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Zh.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const Nh=Zh;function Ah(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-mark-played-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M24 44.4C12.7333 44.4 3.59998 35.2666 3.59998 24C3.59998 12.7333 12.7333 3.59998 24 3.59998C35.2666 3.59998 44.4 12.7333 44.4 24C44.4 35.2666 35.2666 44.4 24 44.4ZM24 40.8C33.2784 40.8 40.8 33.2784 40.8 24C40.8 14.7216 33.2784 7.19998 24 7.19998C14.7216 7.19998 7.19998 14.7216 7.19998 24C7.19998 33.2784 14.7216 40.8 24 40.8ZM22.9177 33.9317L13.5646 28.5317L15.3646 25.414L21.6 29.014L30 14.4648L33.1177 16.2648L22.9177 33.9317Z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Ah.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const xh=Ah;function Lh(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-mark-unplayed-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{clipRule:"evenodd",d:"M24 44.4C12.7333 44.4 3.59998 35.2666 3.59998 24C3.59998 12.7333 12.7333 3.59998 24 3.59998C35.2666 3.59998 44.4 12.7333 44.4 24C44.4 35.2666 35.2666 44.4 24 44.4ZM15.3646 25.414L13.5646 28.5317L22.9176 33.9317L33.1176 16.2648L30 14.4648L21.5999 29.014L15.3646 25.414Z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Lh.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const Oh=Lh;function jh(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-more-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m168 280c0 30.897-25.103 56-56 56-30.896 0-56-25.103-56-56 0-30.897 25.104-56 56-56 31.862.965 56 25.103 56 56m112-56c-30.897 0-56 25.103-56 56 0 30.897 25.103 56 56 56 30.897 0 56-25.103 56-56 0-30.897-25.103-56-56-56m168 0c-30.897 0-56 25.103-56 56 0 30.897 25.103 56 56 56 30.897 0 56-25.103 56-56 0-30.897-25.103-56-56-56"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}jh.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const kh=jh;function Rh(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-play-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m112 504l0-448 392 224-392 224"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Rh.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const zh=Rh,Uh="PageHeaderMultiselectActions-button-1_G4Ux ActionButton-iconActionButton-3RWDHb ActionButton-actionButton-392O1X Button-button-1q7C1V Link-link-2WGTd7",Vh="PageHeaderMultiselectActions-icon-1qr3vQ",Bh="PageHeaderMultiselectActions-actions-33A4IS";function Fh(e){const[t,...n]=e;if(1===e.length)return t.sourceURI;Ya(e.every((e=>e.source===t.source)),"AddToPlaylistModal may only be used with same source items");const i=n.map((e=>e.ratingKey));return`${t.sourceURI},${i.join(",")}`}function Hh(e){return 1===e?(0,De.Z)("Are you sure you want to mark this item as unplayed?"):(0,De.Z)("Are you sure you want to mark these {selectedItemsCount} items as unplayed?",{selectedItemsCount:e})}function _h(e,t){const n=1===e;return t?n?(0,De.Z)("Are you sure you want to remove this item?"):(0,De.Z)("Are you sure you want to remove these {selectedItemsCount} items?",{selectedItemsCount:e}):n?(0,De.Z)("Are you sure you want to delete this item from your filesystem?"):(0,De.Z)("Are you sure you want to delete these {selectedItemsCount} items from your filesystem?",{selectedItemsCount:e})}const Qh=["isPlayVisible","isMarkPlayedOrUnplayedVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isAddToPlaylistVisible","isEditVisible"];function Gh({className:e="PageHeaderMultiselectActions-container-5A7tEU PageHeader-pageHeader-WpvbJc"}){const t=(0,f.I0)(),n=(0,f.v9)(Wr),i=(0,f.v9)(dh),s=(0,f.v9)(Wa.Z),r=(0,f.v9)(ch),a=function(e,t){return{isAddToLibraryVisible:Mh(e,t,nl),isAddToPlaylistVisible:bh(e,t),isAnalyzeVisible:Mh(e,t,dl),isDeleteVisible:Mh(e,t,ml),isEditVisible:yh(e,t),isMarkPlayedOrUnplayedVisible:gh(e,t),isMarkPlayedVisible:Sh(e,t,al),isMarkUnplayedVisible:Sh(e,t,ol),isMergeVisible:fh(e,t),isOptimizeVisible:Mh(e,t,pl),isPlayVisible:Ih(e,t),isRefreshVisible:Mh(e,t,cl)}}(i,s),o=(0,y.useMemo)((()=>i.map((({metadataItem:e})=>e))),[i]),l=lr({mode:"multiselect",type:(0,y.useMemo)((()=>{const e=i.map((({metadataItem:e})=>e.type));return e.filter(((t,n)=>e.indexOf(t)===n)).sort().join(",")}),[i]),itemCount:i.length}),c=n.count,d=(0,Dl.Z)(),u=(0,Dl.Z)(),p=(0,ra.Z)(),m=(0,Dl.Z)(),h=(0,Dl.Z)(),g=(0,ra.Z)(),v=(0,y.useCallback)((()=>{t(Gr.actions.reset())}),[t]),I=(0,y.useCallback)((()=>{l({action:rr.NH}),t(eh.aM({legacyAction:eh.Pe({serverEntityID:i[0].server.entityID,providerEntityID:i[0].provider.entityID}),items:i})),v()}),[t,i,v,l]),b=(0,y.useCallback)((()=>{l({action:rr.cO}),t(eh.aM({legacyAction:eh.u9({serverEntityID:i[0].server.entityID,providerEntityID:i[0].provider.entityID}),items:i})),v()}),[t,i,v,l]),M=(0,y.useCallback)((()=>{l({action:rr.pe}),t(eh.aM({legacyAction:eh.$e({serverEntityID:i[0].server.entityID,providerEntityID:i[0].provider.entityID}),items:i})),m.onClose(),v()}),[t,m,i,v,l]),S=(0,y.useCallback)((()=>{l({action:rr.PR}),t(eh.aM({legacyAction:eh.$z({serverEntityID:i[0].server.entityID,providerEntityID:i[0].provider.entityID}),items:i})),m.onClose(),v()}),[t,m,i,v,l]),E=(0,y.useCallback)((()=>{l({action:rr.uf}),v()}),[v,l]),D=(0,y.useCallback)((()=>{l({action:rr.dm}),t(eh.aM({legacyAction:eh.fR(),items:i})),v()}),[t,i,v,l]),C=(0,y.useCallback)((()=>{l({action:rr.FH}),t(eh.aM({legacyAction:eh.ZP(),items:i})),m.onClose(),v()}),[t,m,i,v,l]),P=(0,y.useCallback)((()=>{l({action:rr.yY}),t(eh.aM({legacyAction:eh.hM({options:{skipRedirect:!0}}),items:i})),v()}),[t,i,v,l]),w=(0,y.useCallback)((()=>{l({action:rr._R}),t(eh.aM({legacyAction:eh.mP(),items:i})),m.onClose(),v()}),[t,m,i,v,l]),T=(0,y.useCallback)((()=>{l({action:rr.t7}),t(eh.aM({legacyAction:eh.PP(),items:i})),m.onClose(),v()}),[t,m,i,v,l]),Z=(0,y.useCallback)((()=>{l({action:rr.RG}),t(eh.aM({legacyAction:eh.H3(),items:i})),m.onClose(),v()}),[t,m,i,v,l]),N=(0,y.useCallback)((()=>{const e=a.isMarkPlayedVisible;l({action:e?rr.qe:rr.h3}),i.forEach((({metadataItem:n,server:i,provider:s})=>{t(ar.Z.actions.playedStatusUpdateRequested({server:i,provider:s,sourceURI:n.sourceURI,ratingKey:n.ratingKey,played:e}))})),v()}),[t,a.isMarkPlayedVisible,i,v,l]),A=(0,y.useCallback)((({targetServer:e,targetProvider:n,targetLibrarySectionID:s,targetLibraryType:r})=>{l({action:rr.Ao}),i.forEach((({metadataItem:i,server:a,provider:o})=>{t(ar.Z.actions.addToLibraryRequested({targetServer:e,targetProvider:n,targetLibrarySectionID:s,targetLibraryType:r,server:a,provider:o,metadataItem:i}))})),v()}),[t,i,v,l]),x=(0,y.useCallback)((()=>{l({action:rr.uf}),h.onOpen()}),[h,l]),L=(0,y.useCallback)((()=>{t(Gr.actions.reset())}),[t]);if((0,y.useEffect)((()=>()=>{v()}),[v]),!r)return null;const O=(0,Mm.gQ)(a).every((([e,t])=>"isMarkPlayedVisible"===e||"isMarkUnplayedVisible"===e||!t)),j=(0,Mm.gQ)(a).some((([e,t])=>!Qh.includes(e)&&t)),k=i.every((({metadataItem:e})=>e.remoteMedia));return y.createElement(Ph,{className:e},y.createElement("div",{className:"PageHeaderMultiselectActions-count-HmMkQF"},y.createElement(fa.Z,{className:Vh}),(0,De.Z)("{count} items selected",{count:c})),O?y.createElement("div",{className:Bh},(0,De.Z)("No actions available for this selection")):y.createElement("div",{className:Bh},a.isPlayVisible?y.createElement(lh,{className:Uh,title:(0,De.Z)("Play"),icon:zh,onPress:I}):null,a.isMarkPlayedOrUnplayedVisible?y.createElement(lh,{className:Uh,title:a.isMarkPlayedVisible?(0,De.Z)("Mark as Played"):(0,De.Z)("Mark as Unplayed"),icon:a.isMarkPlayedVisible?xh:Oh,onPress:d.onOpen}):null,a.isAddToPlaylistVisible?y.createElement(y.Fragment,null,y.createElement(lh,{id:g,icon:Th,title:(0,De.Z)("Add to Playlist"),onPress:x}),y.createElement(od,{isOpen:h.isOpen,playlistType:Ms(o[0].type,o[0].subtype),sourceURI:Fh(o),defaultDestinationSource:o[0].source,defaultPlaylistTitle:(0,Xm.Z)(o.map((({title:e})=>e))),isDestinationMenuHidden:!0,onModalClose:h.onClose,onPlaylistSave:E})):null,a.isEditVisible?y.createElement(lh,{className:Uh,title:(0,De.Z)("Edit"),icon:Nh,onPress:D}):null,j?y.createElement(lh,{id:p,className:Uh,title:(0,De.Z)("More"),icon:kh,onPress:m.onToggle}):null,y.createElement(nt.Z,{isOpen:d.isOpen,metricsPage:a.isMarkPlayedVisible?et.lP:et.Md,title:a.isMarkPlayedVisible?(0,De.Z)("Mark as Played"):(0,De.Z)("Mark as Unplayed"),message:a.isMarkPlayedVisible?(R=i.length,1===R?(0,De.Z)("Are you sure you want to mark this item as played?"):(0,De.Z)("Are you sure you want to mark these {selectedItemsCount} items as played?",{selectedItemsCount:R})):Hh(i.length),onConfirm:N,onCancel:d.onClose}),y.createElement(mo.Z,{target:p,isOpen:m.isOpen,onMenuClose:m.onClose},a.isPlayVisible?y.createElement(ho.Z,{onPress:b},(0,De.Z)("Shuffle")):null,a.isPlayVisible?y.createElement(ho.Z,{onPress:M},(0,De.Z)("Play Next")):null,a.isPlayVisible?y.createElement(ho.Z,{onPress:S},(0,De.Z)("Add to Queue")):null,a.isRefreshVisible?y.createElement(ho.Z,{onPress:Z},(0,De.Z)("Refresh Metadata")):null,a.isAnalyzeVisible?y.createElement(ho.Z,{onPress:w},(0,De.Z)("Analyze")):null,a.isOptimizeVisible?y.createElement(ho.Z,{onPress:C},(0,De.Z)("Optimize...")):null,a.isMergeVisible?y.createElement(ho.Z,{onPress:T},(0,De.Z)("Merge")):null,a.isAddToLibraryVisible?y.createElement(Co,{onAddToLibrary:A}):null,a.isDeleteVisible?y.createElement(ho.Z,{kind:k?Dn.Default:Dn.Danger,onPress:(0,vo.Z)(u.onOpen,m.onClose)},k?(0,De.Z)("Remove"):(0,De.Z)("Delete")):null),y.createElement(nt.Z,{isOpen:u.isOpen,metricsPage:et.$e,title:k?(0,De.Z)("Remove"):(0,De.Z)("Delete"),message:_h(c,k),onConfirm:P,onCancel:u.onClose})),y.createElement("div",{className:"PageHeaderMultiselectActions-deselect-1lSYVp"},y.createElement(xn,{onPress:L},y.createElement(cc.Z,{className:Vh}),(0,De.Z)("Deselect All"))));var R}var Yh=n(76249),Wh=n(70488),Kh=n(74253),qh=n(48523),$h=n(58858),Jh=n(44352);function Xh(e){const{className:t,machineIdentifier:n,shouldRender:i,showButton:s}=e;return i?y.createElement("div",{className:t},y.createElement("div",{className:"ProgramGuideGracenoteMigrationBanner-messageContainer-3SDcOm"},y.createElement(Jh.Z,{className:"ProgramGuideGracenoteMigrationBanner-icon-2ofGHv"}),y.createElement("div",{className:"ProgramGuideGracenoteMigrationBanner-message-1t0IPw"},(0,De.Z)("Guide data for this DVR will no longer be updated after January 1, 2021. Please delete and recreate a new DVR and reschedule your recordings to ensure continued coverage."))),s?y.createElement($h.Z,{className:"ProgramGuideGracenoteMigrationBanner-button-2uZp-5 Button-button-31pe5T Link-link-3v-v0b",kind:fo.Py,to:(0,km.Z)(n,"manage","dvr")},(0,De.Z)("Get Started")):null):null}Xh.defaultProps={className:"ProgramGuideGracenoteMigrationBanner-container-3KhZOk",showButton:!0};const eg=Xh,tg=(0,f.$j)((function(){return(0,de.P1)(Kh.Z,Wh.Z,(0,Ie.Z)(be.lY),((e,t,n)=>{const i=pa.wB(t.identifier,pa.Ll),s=e.version&&(0,qh.Z)(e.version,Yh.Z.gracenoteAttribution);return{machineIdentifier:e.machineIdentifier,shouldRender:i&&s&&n&&"Plex"===t.epgSource&&e.isFullOwnedServer}}))}))(eg);var ng=Object.assign;function ig(e){return!!e&&e<=Date.now()-864e5}function sg({children:e,hub:t}){const[,,n]=cn(),{metricsContextTuple:i}=(0,xt.Zn)(),s=n&&t.key?Fn(t.source,{key:t.key,pageType:At.F6.List,source:n.id,context:(0,xt.VJ)(i)}):void 0;return y.createElement(zp,{hub:t},s?y.createElement(xn,{to:s},e):e)}function rg({sourceURI:e}){const t=(0,f.I0)(),[n,i]=cn(),{lastFetchedAt:s,sourceURI:r,hubs:a,isPopulated:o,error:l}=(0,f.v9)(Jm),c=(0,f.v9)(ch),d=(0,y.useMemo)((()=>a.every((e=>!e.initialSize&&!e.more))),[a]),u=(0,y.useCallback)((()=>{t(qm.actions.fetchHubsRequested({server:n,provider:i,sourceURI:e}))}),[t,i,n,e]);$l({},o),$m(u);const{scrollRestoreProps:p,onScrollPositionReady:m}=gn({key:"DirectoryHubsPage"});if((0,y.useEffect)((()=>{o&&(ig(s)||e!==r)&&t(qm.actions.resetHubs())}),[t,s,r,e,o]),(0,y.useEffect)((()=>{e!==r&&t(qm.actions.fetchHubsRequested({server:n,provider:i,sourceURI:e}))}),[t,r,n,e]),(0,y.useEffect)((()=>(t(qm.actions.markHubsStaleCanceled()),()=>{t(qm.actions.markHubsStaleRequested())})),[t]),ig(s)||e!==r||!o&&!l)return y.createElement(Ve,null,y.createElement(qe,null));if(l){const{status:e}=l;return 404===e?y.createElement(Un,null):y.createElement(He,null,y.createElement(zn,{kind:Dn.Primary,onPress:u},(0,De.Z)("Retry")))}return o&&d?y.createElement(Um,null):y.createElement(y.Fragment,null,c?y.createElement(Gh,null):null,y.createElement(Wp,ng({className:"DirectoryHubsPageContent-pageContentScroller-2xMm65 PageContent-pageContentScroller-18TqCp Scroller-scroller-3Rbtv0"},p),y.createElement(tg,{className:"DirectoryHubsPageContent-banner-3q_YFN ProgramGuideGracenoteMigrationBanner-container-3KhZOk",serverEntityID:n.entityID,providerEntityID:i.entityID}),y.createElement(Bp,{hubs:a,hubComponent:jp,hubTitleComponent:sg,onHubsReady:m})))}var ag=n(54939);const og={underlay:"MetadataItemLinkUnderlay-underlay-12HKlq Link-link-2WGTd7"};var lg=Object.prototype.hasOwnProperty,cg=Object.getOwnPropertySymbols,dg=Object.prototype.propertyIsEnumerable,ug=Object.assign;function pg(e){var{className:t=og.underlay,metadataItem:n,keyAttribute:i}=e,s=((e,t)=>{var n={};for(var i in e)lg.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&cg)for(var i of cg(e))t.indexOf(i)<0&&dg.call(e,i)&&(n[i]=e[i]);return n})(e,["className","metadataItem","keyAttribute"]);const r=pi(n,i);return r?y.createElement(xn,ug({className:t,to:r},s)):null}function mg({className:e,metadataItem:t}){const n=(0,Bs.Z)({useLongName:!1,episodeIndex:t.index,date:t.originallyAvailableAt,noLeadingZero:!0});return y.createElement("span",{className:e},y.createElement("span",{title:t.title},n))}function hg({className:e="RowSelectButton-selectButtonContainer-3XuLk5",visibleClassName:t="RowSelectButton-isVisible-1hsWch",isSelected:n,isInSelectionRange:i,isVisible:s,title:r,tabIndex:a,onPress:o}){return y.createElement("div",{className:we()(e,s&&t)},y.createElement(qd,{className:"RowSelectButton-selectButton-4wB5yl SelectButton-selectButton-1C3dP4 Link-link-2WGTd7",isSelected:n,isInSelectionRange:i,title:r,tabIndex:a,"aria-hidden":-1===a?"true":void 0,onPress:o}))}const gg="MetadataDetailsRow-actionsButton-2AJCaT Link-link-2WGTd7",yg=parseInt(ku.Z.summaryCellPadding,10);function vg({metadataItem:e,metadataItemState:t,style:n,cellHeight:i,cellIndex:s,isParentDetailHidden:r}){const[a,o]=cn(),l=(0,f.v9)(Wa.Z),c=si(null==e?void 0:e.sourceURI),{hoverRef:d,actionsMenuButtonID:u,isHovered:p,isActionsPending:m,isActionsVisible:h,isActionsMenuOpen:g,onActionsMenuClose:v,onActionsMenuCloseComplete:I,onActionsMenuToggle:b}=oa({server:a,provider:o,metadataItem:e,metadataItemState:t}),{isSelected:M,isInSelectionRange:S,isSelectionActive:E,onToggleSelect:D}=ea({isHovered:p,metadataItem:e,metadataItemState:t}),C=(0,y.useMemo)((()=>S?"MetadataDetailsRow-rangeListRow-1lM26x ListRow-row-F6OwAL":M?"MetadataDetailsRow-selectedListRow-2xUu0F ListRow-row-F6OwAL":void 0),[S,M]),P=Ao({server:a,provider:o,metadataItem:e,metadataItemState:t}),w=!E&&h,T=cr(e),Z=(0,y.useCallback)((()=>{D()}),[D]),N=(0,y.useCallback)((()=>{T({action:rr.dm}),P((0,Ka.editMetadataItem)())}),[P,T]),{type:A,subtype:x,childCount:L,duration:O,originallyAvailableAt:j,summary:k}=e,R=ci(A,x),z=di({height:i-2*yg,aspectRatio:R}),U=rl({server:a,provider:o,metadataItem:e,metadataItemState:t,stableUser:l}),V=ll({server:a,provider:o,metadataItem:e,metadataItemState:t,stableUser:l});return y.createElement(Gc,{className:C,alternateClassName:C,isAlternate:!!(s%2),isHovered:p,style:n,ref:d},$d(o)?y.createElement(hg,{isSelected:M,isInSelectionRange:S,isVisible:M||S||p,title:da(e),tabIndex:E?-1:void 0,onPress:Z}):null,E?y.createElement(xn,{className:"MetadataDetailsRow-selectOverlay-3gX1-o Link-link-2WGTd7",onPress:Z}):y.createElement(pg,{metadataItem:e,keyAttribute:"key","aria-label":da(e)}),y.createElement("div",{className:"MetadataDetailsRow-overlay-2JtVhz"},y.createElement("div",{className:"MetadataDetailsRow-summaryContainer-2lUbfn"},y.createElement("div",{className:"MetadataDetailsRow-posterContainer-3Jj2zE"},y.createElement(mu,{metadataItem:e,metadataItemState:t,metadataTimelineState:c,width:z.width,height:z.height,aspectRatio:R,isSelectHidden:!0,isPlayButtonCard:!0})),y.createElement("div",{className:"MetadataDetailsRow-titlesContainer-g-exM6"},y.createElement("div",{className:"MetadataDetailsRow-titleContainer-16bxoS"},y.createElement(mi,{className:k?"MetadataDetailsRow-singleTitle-3Jn3np MetadataDetailsRow-title-1X8g6o":"MetadataDetailsRow-doubleTitle-3At5aA MetadataDetailsRow-title-1X8g6o",allowLink:!1,metadataItem:e})),y.createElement("div",{className:"MetadataDetailsRow-subtitle-31qc32 MetadataDetailsRow-titleContainer-16bxoS MetadataDetailsRow-title-1X8g6o"},r?null:y.createElement(Ks,{allowLink:!1,metadataItem:e}),r&&e.type===ri.pG.Episode?y.createElement(y.Fragment,null,y.createElement(mg,{metadataItem:e}),j?y.createElement(y.Fragment,null,y.createElement(tr.Z,{separator:"·"}),y.createElement(fs,{metadataItem:e})):null):null,r&&e.type===ri.pG.Album?y.createElement(Lr,{metadataItem:e}):null,e.type===ri.pG.Movie||e.type===ri.pG.Show?y.createElement(Lr,{metadataItem:e}):null,L?y.createElement(y.Fragment,null,y.createElement(tr.Z,{separator:"·"}),y.createElement(Cs,{metadataItem:e})):null,O?y.createElement(y.Fragment,null,y.createElement(tr.Z,{separator:"·"}),y.createElement(Us,{metadataItem:e})):null,U&&(p&&!E||t.userRating)?y.createElement(Zr,{className:"MetadataDetailsRow-userRatingContainer-26lp90",metadataItem:e}):null),k?y.createElement("div",{className:"MetadataDetailsRow-summary-1sz68f"},k):null),w?y.createElement("div",{className:"MetadataDetailsRow-actions-319KcD"},V?y.createElement(xn,{className:gg,"data-qa-id":"metadataRowEditButton",onPress:N},y.createElement(Jd.Z,null)):null,y.createElement(_d,{id:u,className:gg,"data-qa-id":"metadataRowMoreButton",isPending:m,onPress:b})):null)),y.createElement(zd,{target:u,isOpen:g,metadataItem:e,actionsOverride:{isPlayVisible:!1,isEditVisible:!1},onMenuClose:v,onMenuCloseComplete:I}))}var fg=Object.prototype.hasOwnProperty,Ig=Object.getOwnPropertySymbols,bg=Object.prototype.propertyIsEnumerable;function Mg(e){var{item:t,isParentDetailHidden:n}=e,i=((e,t)=>{var n={};for(var i in e)fg.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Ig)for(var i of Ig(e))t.indexOf(i)<0&&bg.call(e,i)&&(n[i]=e[i]);return n})(e,["item","isParentDetailHidden"]);const s=ii(null==t?void 0:t.sourceURI),r=Br(i),{cellIndex:a,cellHeight:o}=i;return t?y.createElement(Yn,{metadataItem:t,metadataItemState:s},y.createElement(vg,{style:r.style,cellIndex:a,cellHeight:o,metadataItem:t,metadataItemState:s,isParentDetailHidden:n})):y.createElement(Wc,{style:r.style,index:a})}var Sg=Object.assign;const Eg=parseInt(ku.Z.summaryCellHeight,10),Dg=function(e){return Nc(Sg({rowHeight:Eg,overscan:2},e))};var Cg=Object.assign;const Pg=parseInt(ku.Z.v4PagePadding,10);function wg({className:e,items:t,totalSize:n,scrollerKey:i,smoothScroll:s,targetScrollIndex:r,onPageRequest:a,onListReady:o}){const l=(0,y.useMemo)((()=>Dg({outerPaddingLeft:Pg})),[]),c=(0,y.useCallback)((e=>y.createElement(xt.ZP,{key:e.key,row:e.row},y.createElement(Mg,Cg({},e)))),[]);return y.createElement(Hc,{className:e,layout:l,cellComponentFactory:c,keyPropName:"listItemKey",items:t,totalSize:n,autoScroll:!1,smoothScroll:s,scrollerKey:i,targetScrollIndex:r,onPageRequest:a,onListReady:o})}var Tg=n(82223);const Zg=function(e){switch(e){case li:return 114;case oi:return 64;case 1:return 74}Ya(!1,`Unknown aspectRatio ${e}`)};function Ng({metadataItem:e,style:t,cellIndex:n}){const i=Om({key:e.key}),[s,r]=aa(),a=ci(Bt.U.Folder),o=di({width:Zg(a),aspectRatio:a});return y.createElement(Gc,{isAlternate:!!(n%2),isHovered:s,style:t,ref:r},y.createElement(xn,{className:"MetadataFolderDetailsRow-underlay-3oQj8g Link-link-2WGTd7",to:i,"aria-label":da(e)}),y.createElement("div",{className:"MetadataFolderDetailsRow-overlay-2Co_bJ"},y.createElement("div",{className:"MetadataFolderDetailsRow-posterContainer-16rHv0"},y.createElement(qn,{style:o},y.createElement(Ca,{width:o.width,height:o.height},y.createElement(Tg.Z,null)))),y.createElement("div",{className:"MetadataFolderDetailsRow-titlesContainer-KubStS"},y.createElement(mi,{className:"MetadataFolderDetailsRow-doubleTitle-1Re_2Q",metadataItem:e,allowLink:!1}))))}var Ag=Object.prototype.hasOwnProperty,xg=Object.getOwnPropertySymbols,Lg=Object.prototype.propertyIsEnumerable;function Og(e){var{item:t}=e,n=((e,t)=>{var n={};for(var i in e)Ag.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&xg)for(var i of xg(e))t.indexOf(i)<0&&Lg.call(e,i)&&(n[i]=e[i]);return n})(e,["item"]);const i=ii(null==t?void 0:t.sourceURI),s=Br(n),{cellIndex:r}=n;return t?y.createElement(Yn,{metadataItem:t,metadataItemState:i},y.createElement(Ng,{style:s.style,cellIndex:r,metadataItem:t})):y.createElement(Wc,{style:s.style,index:r})}var jg=Object.assign;const kg=parseInt(ku.Z.v4PagePadding,10);function Rg({className:e,items:t,totalSize:n,scrollerKey:i,smoothScroll:s,targetScrollIndex:r,onPageRequest:a,onListReady:o}){const l=(0,y.useMemo)((()=>Dg({outerPaddingLeft:kg})),[]),c=(0,y.useCallback)((e=>{var t;return y.createElement(xt.ZP,{key:e.key,row:e.row},(null==(t=e.item)?void 0:t.isFolder)?y.createElement(Og,jg({},e)):y.createElement(Mg,jg({},e)))}),[]);return y.createElement(Hc,{className:e,layout:l,cellComponentFactory:c,keyPropName:"listItemKey",items:t,totalSize:n,autoScroll:!1,smoothScroll:s,scrollerKey:i,targetScrollIndex:r,onPageRequest:a,onListReady:o})}var zg=n(26512);var Ug=Object.prototype.hasOwnProperty,Vg=Object.getOwnPropertySymbols,Bg=Object.prototype.propertyIsEnumerable;function Fg(e){var{item:t}=e,n=((e,t)=>{var n={};for(var i in e)Ug.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Vg)for(var i of Vg(e))t.indexOf(i)<0&&Bg.call(e,i)&&(n[i]=e[i]);return n})(e,["item"]);const{metricsContextTuple:i}=(0,xt.Zn)(),[s,r,a]=cn(),{containerType:o,containerSubtype:l,listStyle:c}=_n(),d=ii(null==t?void 0:t.sourceURI),[u,p]=aa(),m=Br(n),h=(0,y.useMemo)((()=>ci(o,l,{listStyle:c})),[l,o,c]),g=(0,y.useMemo)((()=>di({width:n.cellWidth,aspectRatio:h})),[h,n.cellWidth]);if(!t)return y.createElement("div",{style:m.style},y.createElement(Jn,{style:g,index:n.cellIndex}));const v=(0,zg.Z)(s,r,a,{pageType:t.type===ri.pG.Hub?At.F6.Hub:At.F6.List,key:t.key,context:(0,xt.VJ)(i)});return y.createElement(Yn,{metadataItem:t,metadataItemState:d},y.createElement("div",{style:m.style},y.createElement(qn,{style:g,ref:p},y.createElement(ft.Z,{className:"MetadataDirectoryListItem-image-2dr9Xb",serverEntityID:s.entityID,providerEntityID:r.entityID,url:t.icon||t.thumb,width:g.width,height:g.height,component:mt.Z,preloadOnMount:!1,animateOnMount:!1,backgroundSize:t.icon?"75%":"cover"}),y.createElement(Aa,{isHovered:u,to:v,"aria-label":da(t)}),t.type===ri.pG.Directory?y.createElement("div",{className:"MetadataDirectoryListItem-titleContainer-1CnabE"},y.createElement("span",{className:"MetadataDirectoryListItem-title-2dKELZ"},t.title)):null)))}var Hg=Object.prototype.hasOwnProperty,_g=Object.getOwnPropertySymbols,Qg=Object.prototype.propertyIsEnumerable,Gg=Object.assign;const Yg=parseInt(ku.Z.v4PagePadding,10),Wg=parseInt(ku.Z.v4CardTitleHeight,10),Kg=parseInt(ku.Z.v4CardTitleGap,10),qg=parseInt(ku.Z.gapMedium,10);function $g(e){var{listType:t,subtype:n,listStyle:i,displayFields:s,displayImages:r,columnWidth:a}=e,o=((e,t)=>{var n={};for(var i in e)Hg.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&_g)for(var i of _g(e))t.indexOf(i)<0&&Qg.call(e,i)&&(n[i]=e[i]);return n})(e,["listType","subtype","listStyle","displayFields","displayImages","columnWidth"]);const l=ci(t,n,{listStyle:i,displayImageType:na(t,n,r)}),c=o.titleCount?o.titleCount:Pu(t,n,{listStyle:i,displayFields:s}),d=c?Wg*c+Kg:0,u=l===li?2*a+qg:a,p=Math.floor(u/l+d);return Cc(Gg({direction:Sc.Vertical,getCellWidth:()=>u,getCellHeight:()=>p,innerHorizontalPadding:qg,innerVerticalPadding:qg,overscan:1,outerPaddingRight:Yg,outerPaddingLeft:Yg},o))}var Jg=Object.assign;const Xg=parseInt(ku.Z.v4PagePadding,10),ey=parseInt(ku.Z.v4PagePaddingAlt,10),ty=parseInt(ku.Z.jumpBarGutter,10);function ny({className:e,listType:t,subtype:n,items:i,totalSize:s,scrollerKey:r,smoothScroll:a,targetScrollIndex:o,onPageRequest:l,onListReady:c}){const d=(0,f.v9)(gp),{containerMeta:u,listStyle:p}=_n(),m=(0,y.useMemo)((()=>$g({listType:t,subtype:n,columnWidth:d,listStyle:p,displayFields:null==u?void 0:u.DisplayFields,displayImages:null==u?void 0:u.DisplayImage,outerPaddingTop:ey,outerPaddingBottom:ey,outerPaddingRight:Xg-ty})),[t,n,d,p,null==u?void 0:u.DisplayFields,null==u?void 0:u.DisplayImage]),h=(0,y.useCallback)((e=>y.createElement(xt.ZP,{key:e.key,row:e.row,column:e.column},function(e){switch(e){case Bt.U.Directory:case Bt.U.Content:case Bt.U.Channel:return!0;default:return!1}}(t)?y.createElement(Fg,Jg({},e)):y.createElement(fu,Jg({},e)))),[t]);return y.createElement(Hc,{className:e,layout:m,cellComponentFactory:h,keyPropName:"listItemKey",items:i,totalSize:s,smoothScroll:a,autoScroll:!1,scrollerKey:r,targetScrollIndex:o,onPageRequest:l,onListReady:c})}var iy=n(13550);function sy({className:e,metadataItem:t}){const n=(0,iy.Z)(t);return n?y.createElement("span",{className:e,title:n},n):null}function ry({metadataItem:e,metadataItemState:t,style:n,cellIndex:i}){const[s,r]=cn(),a=si(null==e?void 0:e.sourceURI),o=pi(e,"key"),l=(0,zg.Z)(s,r,null,{key:e.key}),{hoverRef:c,actionsMenuButtonID:d,isHovered:u,isActionsPending:p,isActionsVisible:m,isActionsMenuOpen:h,onActionsMenuClose:g,onActionsMenuCloseComplete:v,onActionsMenuToggle:f}=oa({server:s,provider:r,metadataItem:e,metadataItemState:t}),{type:I,subtype:b}=e,M=ci(I,b),S=di({width:Zg(M),aspectRatio:M});return y.createElement(Gc,{isAlternate:!!(i%2),isHovered:u,style:n,ref:c},!e.directory&&o||e.directory?y.createElement(xn,{className:"MetadataSharedItemRow-underlay-2BTeeZ Link-link-2WGTd7",to:e.directory?l:o,"aria-label":da(e)}):null,y.createElement("div",{className:"MetadataSharedItemRow-overlay-2yLFZ1"},y.createElement("div",{className:"MetadataSharedItemRow-summaryContainer-3IJ6P0"},e.directory?y.createElement("div",{className:"MetadataSharedItemRow-posterContainer-2SyV96"},y.createElement(qn,{style:S},y.createElement(Ca,{width:S.width,height:S.height},y.createElement(mm,{type:e.type})))):y.createElement("div",{className:"MetadataSharedItemRow-playPosterContainer-2_uxur MetadataSharedItemRow-posterContainer-2SyV96"},y.createElement(mu,{playCircleClassName:"MetadataSharedItemRow-playCircle-3t5PDO MetadataPosterCardActions-playCircle-3-j0JO PlayButton-playCircle-2DYa77 MetadataPosterCardCircle-cardCircle-1T_VVp",metadataItem:e,metadataItemState:t,metadataTimelineState:a,width:S.width,height:S.height,aspectRatio:M,isSelectHidden:!0,isPlayButtonCard:!0})),y.createElement("div",{className:"MetadataSharedItemRow-titlesContainer-Yk1Ncf"},y.createElement("div",{className:"MetadataSharedItemRow-titleContainer-1MLzI2"},y.createElement(sy,{className:"MetadataSharedItemRow-doubleTitle-1e1VnU MetadataSharedItemRow-title-1AIjzA",metadataItem:e})),y.createElement("div",{className:"MetadataSharedItemRow-subtitle-1dGC3o MetadataSharedItemRow-titleContainer-1MLzI2 MetadataSharedItemRow-title-1AIjzA"},function(e){if(e.directory)switch(e.type){case ri.pG.Movie:return(0,De.Z)("Movie Library");case ri.pG.Show:return(0,De.Z)("Show Library");case ri.pG.Artist:return(0,De.Z)("Music Library");case ri.pG.Photo:return(0,De.Z)("Photo Library")}return function(e){switch(e){case ri.pG.Movie:return(0,De.Z)("Movie");case ri.pG.Show:return(0,De.Z)("Show");case ri.pG.Season:return(0,De.Z)("Season");case ri.pG.Episode:return(0,De.Z)("Episode");case ri.pG.Artist:return(0,De.Z)("Artist");case ri.pG.Album:return(0,De.Z)("Album");case ri.pG.Track:return(0,De.Z)("Track");case ri.pG.Photo:return(0,De.Z)("Photo");case ri.pG.PhotoAlbum:return(0,De.Z)("Photo Album");case ri.pG.Person:return(0,De.Z)("Person");case ri.pG.Clip:return(0,De.Z)("Clip");case ri.pG.Collection:return(0,De.Z)("Collection");case ri.pG.Game:return(0,De.Z)("Game");case ri.pG.Playlist:return(0,De.Z)("Playlist")}!function(e){throw new Error(`"${e}" is not mapped to a title`)}(e)}(e.type)}(e))),m&&!e.directory?y.createElement("div",{className:"MetadataSharedItemRow-actions-Sosl3A"},y.createElement(_d,{id:d,className:"MetadataSharedItemRow-actionsButton-BiWGvb Link-link-2WGTd7","data-qa-id":"sharedItemMoreButton",isPending:p,onPress:f})):null)),y.createElement(zd,{target:d,isOpen:h,metadataItem:e,actionsOverride:{isPlayVisible:!1,isEditVisible:!1},onMenuClose:g,onMenuCloseComplete:v}))}var ay=Object.prototype.hasOwnProperty,oy=Object.getOwnPropertySymbols,ly=Object.prototype.propertyIsEnumerable;function cy(e){var{item:t}=e,n=((e,t)=>{var n={};for(var i in e)ay.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&oy)for(var i of oy(e))t.indexOf(i)<0&&ly.call(e,i)&&(n[i]=e[i]);return n})(e,["item"]);const i=ii(null==t?void 0:t.sourceURI),s=Br(n),{cellIndex:r}=n;return t?y.createElement(Yn,{metadataItem:t,metadataItemState:i},y.createElement(ry,{style:s.style,cellIndex:r,metadataItem:t,metadataItemState:i})):y.createElement(Wc,{style:s.style,index:r})}var dy=Object.assign;const uy=parseInt(ku.Z.v4PagePadding,10);function py({className:e,items:t,totalSize:n,scrollerKey:i,smoothScroll:s,targetScrollIndex:r,onPageRequest:a,onListReady:o}){const l=(0,y.useMemo)((()=>Dg({outerPaddingLeft:uy})),[]),c=(0,y.useCallback)((e=>y.createElement(xt.ZP,{key:e.key,row:e.row},y.createElement(cy,dy({},e)))),[]);return y.createElement(Hc,{className:e,layout:l,cellComponentFactory:c,keyPropName:"listItemKey",items:t,totalSize:n,autoScroll:!1,smoothScroll:s,scrollerKey:i,targetScrollIndex:r,onPageRequest:a,onListReady:o})}var my=n(89971);function hy(e,t){const{playQueueItems:n,currentIndex:i}=e,s=t[n[i]];return null==s?void 0:s.metadataItem}function gy(e,t){return(0,de.P1)((({ui:e})=>{var t;return null==(t=e.audioVideoPlayer)?void 0:t.playQueue}),(({ui:e})=>{var t;return null==(t=e.photoPlayer)?void 0:t.playQueue}),my.Z,((n,i,s)=>{if(!e)return!1;const r=(0,kt.Z)(Vt.TY,e.key,t.entityID);let a,o;return n&&(a=hy(n,s)),i&&(o=hy(i,s)),a===r||o===r}))}function yy({className:e="DecoratorIcon-decoratorIconContainer-1rpPX5",iconClassName:t="DecoratorIcon-decoratorIcon-1zZAbG",iconComponent:n}){return y.createElement("span",{className:e},y.createElement(n,{className:t}))}function vy({className:e,metadataItem:t}){const{title:n,originalTitle:i}=t;return y.createElement("span",{className:e},y.createElement("span",{className:"MetadataTitleCombinedTitleTrackArtist-titleContainer-1AjKt6"},y.createElement("span",{className:"MetadataTitleCombinedTitleTrackArtist-title-2j93Uq","data-qa-id":"trackName"},n,i?y.createElement("span",{className:"MetadataTitleCombinedTitleTrackArtist-trackArtist-1sRk6p"},n?y.createElement(tr.Z,null):null,i):null),function(e){const{type:t,primaryExtraKey:n}=e;return t===ri.pG.Track&&!!n}(t)?y.createElement(yy,{iconComponent:rm.Z}):null))}function fy({className:e,metadataItem:t}){const n=ii(t.sourceURI);if(null==t.duration||null==n.viewOffset)return null;const i=(t.duration-n.viewOffset)/1e3;return y.createElement("span",{className:e},Hi(i))}var Iy=n(7378);function by({className:e,metadataItem:t}){const{duration:n,preview:i}=t;return i?y.createElement("span",{className:e},(0,De.Z)("Preview")):null!=n?y.createElement("span",{className:e},(0,Iy.Z)(t.duration)):null}const My={flexGrow:2,width:250};var Sy,Ey;(Ey=Sy||(Sy={})).Title="title",Ey.Season="season",Ey.SeasonShow="seasonShow",Ey.EpisodeShow="episodeShow",Ey.AlbumArtist="albumArtist",Ey.TrackAlbumArtist="trackAlbumArtist",Ey.CombinedTitleTrackArtist="combinedTitleTrackArtist",Ey.TrackAlbum="trackAlbum",Ey.Year="year",Ey.UserRating="userRating",Ey.MiniUserRating="miniUserRating",Ey.Duration="duration",Ey.MinutesLeft="minutesLeft",Ey.ViewCount="viewCount",Ey.AddedAt="addedAt",Ey.LastViewedAt="lastViewedAt",Ey.LastRatedAt="lastRatedAt",Ey.MediaBitrate="mediaBitrate",Ey.OriginallyAvailableAt="originallyAvailableAt",Ey.Rating="rating",Ey.ContentRating="contentRating",Ey.ViewOffset="viewOffset",Ey.MediaHeight="mediaHeight",Ey.Downloaded="downloaded";const Dy={key:Sy.Title,ascKey:"titleSort",descKey:"titleSort:desc",component:()=>mi,style:My},Cy={key:Sy.Season,ascKey:"season.index,season.titleSort",descKey:"season.index:desc,season.titleSort",component:()=>mi,style:My},Py={key:Sy.SeasonShow,ascKey:"show.titleSort,index",descKey:"show.titleSort:desc,index",component:()=>Ks,style:My},wy={key:Sy.EpisodeShow,ascKey:"show.titleSort,season.index:nullsLast,episode.index:nullsLast,episode.originallyAvailableAt:nullsLast,episode.titleSort,episode.id",descKey:"show.titleSort:desc,season.index:nullsLast,episode.index:nullsLast,episode.originallyAvailableAt:nullsLast,episode.titleSort,episode.id",component:()=>Qs,style:My},Ty={key:Sy.AlbumArtist,ascKey:"artist.titleSort,album.titleSort,album.index,album.id,album.originallyAvailableAt",descKey:"artist.titleSort:desc,album.titleSort,album.index,album.id,album.originallyAvailableAt",component:()=>Ks,style:My},Zy={key:Sy.TrackAlbumArtist,ascKey:"artist.titleSort,album.titleSort,album.year,track.absoluteIndex,track.index,track.titleSort,track.id",descKey:"artist.titleSort:desc,album.titleSort,album.year,track.absoluteIndex,track.index,track.titleSort,track.id",component:()=>Qs,style:My},Ny={key:Sy.CombinedTitleTrackArtist,component:()=>vy,style:My},Ay={key:Sy.TrackAlbum,ascKey:"album.titleSort",descKey:"album.titleSort:desc",component:()=>Ks,style:My},xy={key:Sy.Year,ascKey:"year",descKey:"year:desc",component:()=>Lr,style:{width:100}},Ly={key:Sy.UserRating,ascKey:"userRating",descKey:"userRating:desc",component:()=>Zr,style:{width:115}},Oy={key:Sy.MiniUserRating,component:()=>Zr,style:{width:75,padding:0}},jy={key:Sy.Rating,ascKey:"rating",descKey:"rating:desc",component:()=>zs,style:{width:150}},ky={key:Sy.ContentRating,ascKey:"contentRating",descKey:"contentRating:desc",component:()=>Ts,style:{width:100}},Ry={key:Sy.Duration,ascKey:"duration",descKey:"duration:desc",component:(e,t)=>{switch(t){case ri.y_.Podcast:switch(e){case ri.pG.Track:return Us}}switch(e){case ri.pG.Track:return by;default:return Us}},style:{width:125}},zy={key:Sy.MinutesLeft,component:()=>fy,style:{width:150}},Uy={key:Sy.ViewCount,ascKey:"viewCount",descKey:"viewCount:desc",component:()=>qs,style:{width:100}},Vy={key:Sy.ViewOffset,ascKey:"viewOffset",descKey:"viewOffset:desc",component:()=>fy,style:{width:150}},By={key:Sy.AddedAt,ascKey:"addedAt",descKey:"addedAt:desc",component:()=>Ii,style:{width:175}},Fy={key:Sy.LastViewedAt,ascKey:"lastViewedAt",descKey:"lastViewedAt:desc",component:()=>Ws,style:{width:175}},Hy={key:Sy.LastRatedAt,ascKey:"lastRatedAt",descKey:"lastRatedAt:desc",component:()=>Ys,style:{width:175}},_y={key:Sy.OriginallyAvailableAt,ascKey:"originallyAvailableAt",descKey:"originallyAvailableAt:desc",component:()=>fs,style:{width:175}},Qy={key:Sy.MediaBitrate,ascKey:"mediaBitrate",descKey:"mediaBitrate:desc",component:()=>Ss,style:{width:110}},Gy={key:Sy.MediaHeight,ascKey:"mediaHeight",descKey:"mediaHeight:desc",component:()=>Ar,style:{width:110}},Yy=[By,Ty,Ny,Ry,wy,Hy,Fy,Qy,Oy,Cy,Py,Dy,Ay,Zy,zy,Ly,Uy,xy,jy,ky,Vy,_y,Qy,Gy],Wy={tableCell:"TableCell-tableCell-3_jfgf",activeTableCell:"TableCell-activeTableCell-1IP8PN TableCell-tableCell-3_jfgf",title:"TableCell-title-3rv80l"};var Ky=Object.prototype.hasOwnProperty,qy=Object.getOwnPropertySymbols,$y=Object.prototype.propertyIsEnumerable,Jy=Object.assign;function Xy(e){var{className:t=Wy.title,cellClassName:n=Wy.tableCell,activeCellClassName:i=Wy.activeTableCell,style:s,component:r,type:a,isActiveSort:o}=e,l=((e,t)=>{var n={};for(var i in e)Ky.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&qy)for(var i of qy(e))t.indexOf(i)<0&&$y.call(e,i)&&(n[i]=e[i]);return n})(e,["className","cellClassName","activeCellClassName","style","component","type","isActiveSort"]);return y.createElement("div",{className:o?i:n,style:s},y.createElement(r,Jy(Jy({},l),{className:t})))}var ev=n(24974),tv=n(41720);function nv(e,t){return Math.random()*(t-e)+e}class iv extends y.Component{constructor(e,t){super(e,t),this._setBarValues(e),this.state=this._getInitialState(!0)}componentDidMount(){if(!this.props.isPaused)for(let e=0,t=this._bars.length;e<t;e++)this._setTransitionTimeout(e)}componentWillReceiveProps(e){const t=e.isPaused!==this.props.isPaused,n=e.width!==this.props.width,i=e.barCount!==this.props.barCount,s=e.barGap!==this.props.barGap;(t||n||i||s)&&(this._clearAllTransitionTimeouts(),this._setBarValues(e),this.setState(this._getInitialState(e.isPaused)))}componentDidUpdate(e,t){if(!this.props.isPaused)for(let e=0,n=this._bars.length;e<n;e++){const n=this._bars[e];t[n]!==this.state[n]&&this._setTransitionTimeout(e)}}componentWillUnmount(){this._clearAllTransitionTimeouts()}_setBarValues({width:e,barCount:t,barGap:n}){const i=n*(t-1);this._barGap=n,this._barWidth=Math.floor((e-i)/t),this._bars=[];for(let e=0,n=t;e<n;e++)this._bars.push("bar"+e)}_getInitialState(e){return this._bars.reduce(((t,n,i)=>(t[n]=this._getRandomStyle(i,e),t)),{})}_getRandomStyle(e,t){const{unit:n}=this.props,i=e*(this._barWidth+this._barGap),s=`scaleY(${t?.2:nv(.2,1)})`,r=nv(300,500);return{left:`${i}${n}`,width:`${this._barWidth}${n}`,backgroundColor:this.props.barColor,transitionDuration:`${r}ms`,WebkitTransform:s,msTransform:s,transform:s}}_setTransitionTimeout(e){const t=this._bars[e],n=t+"TimeoutID",i=this.state[t],s=(0,dr.Z)(i.transitionDuration)-100;this[n]=window.setTimeout((()=>{this.setState({[t]:this._getRandomStyle(e)})}),s)}_clearAllTransitionTimeouts(){for(let e=0,t=this._bars.length;e<t;e++){const t=this._bars[e]+"TimeoutID";window.clearTimeout(this[t])}}render(){const{className:e,width:t,height:n,unit:i}=this.props;return y.createElement("div",{className:e,style:{width:`${t}${i}`,height:`${n}${i}`}},this._bars.map((e=>y.createElement("div",{key:e,className:"EqualizerIcon-bar-Ysl4Zm",style:this.state[e]}))))}}iv.defaultProps={className:"EqualizerIcon-equalizer-u2_y9X",width:14,height:14,barColor:"#fff",barCount:3,barGap:2,isPaused:!0,unit:"px"};const sv=iv;var rv=n(90701);function av(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 420 343",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-static-eq-paused"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M 0 227.741 L 0 115.741 L 56 115.741 L 168 3.741 L 168 339.741 L 56 227.741 L 0 227.741 Z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}av.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const ov=av;function lv(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 420 343",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-static-eq-playing"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M 339.752 -0.011 C 388.818 41.059 420 102.759 420 171.741 C 420 240.723 388.818 302.423 339.752 343.493 L 309.905 313.646 C 351.436 280.319 378 229.132 378 171.741 C 378 114.35 351.436 63.163 309.905 29.836 L 339.752 -0.011 Z M 0 227.741 L 0 115.741 L 56 115.741 L 168 3.741 L 168 339.741 L 56 227.741 L 0 227.741 Z M 259.936 79.805 C 288.989 100.009 308 133.655 308 171.741 C 308 209.827 288.989 243.473 259.936 263.677 L 229.484 233.225 C 251.246 221.346 266 198.266 266 171.741 C 266 145.216 251.246 122.136 229.484 110.257 L 259.936 79.805 Z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}lv.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const cv=lv;function dv(e){const{barColor:t,className:n,height:i,isPaused:s,unit:r,width:a}=e,o=(0,y.useMemo)((()=>({color:t,height:`${i}${r}`,width:`${a}${r}`})),[t,i,r,a]),l=s?ov:cv;return y.createElement(l,{className:n,style:o})}dv.defaultProps={barColor:sv.defaultProps.barColor,className:sv.defaultProps.className,height:sv.defaultProps.height,isPaused:sv.defaultProps.isPaused,unit:sv.defaultProps.unit,width:sv.defaultProps.width};const uv=dv;var pv=Object.assign;const mv=function(e){const t=(0,tv.Z)()?uv:sv;return y.createElement(t,pv(pv({},e),{barColor:rv.Z.equalizerBarColor}))};function hv({className:e,buttonClassName:t,buttonTabIndex:n,style:i,metadataItem:s,isActionsPending:r,isSelectionActive:a,menuButtonID:o,onMenuButtonPress:l}){const[c,d]=cn(),u=ii(s.sourceURI),p=(0,f.v9)(Wa.Z),m=Ao({server:c,provider:d,metadataItem:s,metadataItemState:u}),h=cr(s),g=ll({server:c,provider:d,stableUser:p,metadataItem:s,metadataItemState:u}),v=(0,y.useCallback)((()=>{h({action:rr.dm}),m(Ka.editMetadataItem())}),[m,h]);return y.createElement("div",{className:e,style:i},!a&&g?y.createElement(xn,{"data-qa-id":"metadataRowEditButton",className:t,tabIndex:n,"aria-label":(0,De.Z)("Edit {title}",{title:da(s)}),onPress:v},y.createElement(Jd.Z,null)):null,a?null:y.createElement(_d,{id:o,"data-qa-id":"metadataRowMoreButton",className:t,tabIndex:n,isPending:r,onPress:l}))}const gv="MetadataTableRow-isSelectionActive-AViqHb",yv="MetadataTableRow-title-ePg3U1 TableCell-title-3rv80l",vv="MetadataTableRow-isSecondary-1Evvme";var fv=Object.assign;const Iv={width:parseInt(ku.Z.actionsCellWidth,10),justifyContent:"flex-end",padding:`0 ${parseInt(ku.Z.actionsCellPadding,10)}px`};function bv({tableColumn:e,metadataItemState:t,isActionsVisible:n,isSelectionActive:i,isTransientColumn:s}){const{key:r,style:a}=e;return r===Oy.key?fv(fv({},a),{opacity:i||!n&&null==t.userRating?0:1}):s?fv(fv({},a),Iv):a}function Mv({style:e,cellIndex:t,index:n,metadataItem:i,metadataItemState:s,tableColumns:r,hasTransientActionsCell:a=!1}){const[o,l]=cn(),c=(0,f.v9)(Wa.Z),d=(0,f.v9)(gy(i,o)),u=(0,f.v9)((0,ev.Z)(uh.G.AudioVideo,"isPaused")),{hoverRef:p,actionsMenuButtonID:m,isHovered:h,isActionsPending:g,isActionsVisible:v,isActionsMenuOpen:I,onActionsMenuClose:b,onActionsMenuCloseComplete:M,onActionsMenuToggle:S}=oa({server:o,provider:l,metadataItem:i,metadataItemState:s}),{isSelected:E,isInSelectionRange:D,isSelectionActive:C,onToggleSelect:P}=ea({isHovered:h,metadataItem:i,metadataItemState:s}),w=(0,y.useMemo)((()=>D?"MetadataTableRow-rangeListRow-wkteSC ListRow-row-F6OwAL":E?"MetadataTableRow-selectedListRow-3u1XWf ListRow-row-F6OwAL":void 0),[D,E]),T=(0,y.useRef)(null),Z=r[r.length-1],N=Z.component(i.type,i.subtype),A=(0,y.useCallback)((()=>{P()}),[P]),x=(0,y.useCallback)((e=>{e.which===Wl.K5&&i&&P()}),[i,P]),[L,O,j]=bp(),k=L||v,R=k&&$o({server:o,provider:l,stableUser:c,metadataItem:i,metadataItemState:s}),z=k&&!C;return y.createElement(Gc,{className:w,alternateClassName:w,style:e,isAlternate:!!(t%2),isHovered:h||L,ref:p,onFocus:O,onBlur:j},$d(l)?y.createElement(hg,{isSelected:E,isInSelectionRange:D,isVisible:E||D||L||h,title:da(i),tabIndex:C?-1:void 0,"aria-hidden":"true",onPress:A}):null,C?y.createElement(xn,{key:"focusLink",className:"MetadataTableRow-overlay-ByzEMm MetadataTableRow-linkCover-3Przg6 Link-link-2WGTd7",tabIndex:0,"aria-label":(0,De.Z)("Select {title}",{title:da(i)}),ref:T,onPress:C?A:void 0,onKeyPress:x}):null,y.createElement("div",{className:"MetadataTableRow-playCell-sZoj7n"},!d&&!R||C?n:null,C||d||!R?null:y.createElement(po,{tabIndex:0,metadataItem:i}),d&&!C?y.createElement(mv,{isPaused:u}):null),r.map(((e,t)=>{if(t===r.length-1)return null;const{key:n,component:a}=e,o=a(i.type,i.subtype);return y.createElement(Xy,{key:n,className:we()(yv,t>0&&vv,C&&gv),cellClassName:0===t?"MetadataTableRow-firstTableCell-3VhPM9 TableCell-tableCell-3_jfgf":void 0,style:bv({tableColumn:e,metadataItemState:s,isActionsVisible:k,isSelectionActive:C,isTransientColumn:!1}),tabIndex:C?"-1":void 0,component:o,metadataItem:i})})),J.Z.allowSyncDownload?y.createElement(Ga,{className:we()("MetadataTableRow-downloadIcon-2RZ4lG",!a&&"MetadataTableRow-outsideIcon-2x1BMZ",z&&"MetadataTableRow-hiddenIcon-3tgs7A"),metadataItem:i}):null,a&&z?null:y.createElement(Xy,{className:we()(yv,vv,C&&gv),cellClassName:void 0,style:bv({tableColumn:Z,metadataItemState:s,isActionsVisible:k,isSelectionActive:C,isTransientColumn:a}),tabIndex:C?"-1":void 0,component:N,metadataItem:i}),!a||z?y.createElement(hv,{key:"actionsCell",className:"MetadataTableRow-actionsCell-3TMyyn TableCell-tableCell-3_jfgf",buttonClassName:"MetadataTableRow-actionsButton-ZFK5Dq Link-link-2WGTd7",style:fv(fv({},Iv),{opacity:k?1:0}),isActionsPending:g,isSelectionActive:C,metadataItem:i,menuButtonID:m,onMenuButtonPress:S}):null,y.createElement(zd,{target:m,isOpen:I,metadataItem:i,onMenuClose:b,onMenuCloseComplete:M}))}var Sv=Object.prototype.hasOwnProperty,Ev=Object.getOwnPropertySymbols,Dv=Object.prototype.propertyIsEnumerable;function Cv(e){var{item:t,index:n,tableColumns:i,hasTransientActionsCell:s}=e,r=((e,t)=>{var n={};for(var i in e)Sv.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Ev)for(var i of Ev(e))t.indexOf(i)<0&&Dv.call(e,i)&&(n[i]=e[i]);return n})(e,["item","index","tableColumns","hasTransientActionsCell"]);const a=ii(null==t?void 0:t.sourceURI),o=Br(r),{cellIndex:l}=r;return t?y.createElement(Yn,{metadataItem:t,metadataItemState:a},y.createElement(Mv,{style:o.style,cellIndex:l,index:n,metadataItem:t,metadataItemState:a,tableColumns:i,hasTransientActionsCell:s})):y.createElement(Wc,{style:o.style,index:l})}var Pv=Object.assign;const wv=parseInt(ku.Z.tableRowHeight,10),Tv=parseInt(ku.Z.v4PagePadding,10),Zv=function(e){return Nc(Pv({rowHeight:wv,outerPaddingRight:Tv,outerPaddingLeft:Tv},e))};var Nv=n(4134),Av=n(26253),xv=n(72373);const Lv={sortDirectionIcon:"IconTableHeaderSortDirection-sortDirectionIcon-kvhk_W"};var Ov=Object.prototype.hasOwnProperty,jv=Object.getOwnPropertySymbols,kv=Object.prototype.propertyIsEnumerable,Rv=Object.assign;function zv(e){var{className:t=Lv.sortDirectionIcon,isAscending:n=!0}=e,i=((e,t)=>{var n={};for(var i in e)Ov.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&jv)for(var i of jv(e))t.indexOf(i)<0&&kv.call(e,i)&&(n[i]=e[i]);return n})(e,["className","isAscending"]);const s=n?Av.Z:xv.Z;return y.createElement(s,Rv({className:t,"aria-label":n?(0,De.Z)("Ascending"):(0,De.Z)("Descending")},i))}const Uv={tableHeader:"TableHeader-tableHeader-2HmQLv"};var Vv=Object.prototype.hasOwnProperty,Bv=Object.getOwnPropertySymbols,Fv=Object.prototype.propertyIsEnumerable,Hv=Object.assign;function _v(e){var{className:t=Uv.tableHeader}=e,n=((e,t)=>{var n={};for(var i in e)Vv.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Bv)for(var i of Bv(e))t.indexOf(i)<0&&Fv.call(e,i)&&(n[i]=e[i]);return n})(e,["className"]);return y.createElement("div",Hv(Hv({},n),{className:t}))}const Qv={tableHeaderCell:"TableHeaderCell-tableHeaderCell-2wlnA0 TableCell-tableCell-3_jfgf",activeTableHeaderCell:"TableHeaderCell-activeTableHeaderCell-1argHJ TableHeaderCell-tableHeaderCell-2wlnA0 TableCell-tableCell-3_jfgf"};var Gv=Object.prototype.hasOwnProperty,Yv=Object.getOwnPropertySymbols,Wv=Object.prototype.propertyIsEnumerable,Kv=Object.assign;function qv(e){var{className:t=Qv.tableHeaderCell,activeClassName:n=Qv.activeTableHeaderCell,children:i,isActive:s=!1}=e,r=((e,t)=>{var n={};for(var i in e)Gv.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Yv)for(var i of Yv(e))t.indexOf(i)<0&&Wv.call(e,i)&&(n[i]=e[i]);return n})(e,["className","activeClassName","children","isActive"]);const a=s?n:t;return y.createElement("span",Kv(Kv({},r),{className:a}),i)}const $v={tableHeaderLink:"TableHeaderLink-tableHeaderLink-GyNnjS Link-link-2WGTd7"};var Jv=Object.prototype.hasOwnProperty,Xv=Object.getOwnPropertySymbols,ef=Object.prototype.propertyIsEnumerable,tf=Object.assign;function nf(e){var{className:t=$v.tableHeaderLink,children:n}=e,i=((e,t)=>{var n={};for(var i in e)Jv.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Xv)for(var i of Xv(e))t.indexOf(i)<0&&ef.call(e,i)&&(n[i]=e[i]);return n})(e,["className","children"]);return y.createElement(xn,tf(tf({},i),{className:t}),n)}const sf={tableHeaderTitle:"TableHeaderTitle-tableHeaderTitle-2VRXAy"};var rf,af,of=Object.prototype.hasOwnProperty,lf=Object.getOwnPropertySymbols,cf=Object.prototype.propertyIsEnumerable,df=Object.assign;function uf(e){var{className:t=sf.tableHeaderTitle,children:n}=e,i=((e,t)=>{var n={};for(var i in e)of.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&lf)for(var i of lf(e))t.indexOf(i)<0&&cf.call(e,i)&&(n[i]=e[i]);return n})(e,["className","children"]);return y.createElement("span",df(df({},i),{className:t}),n)}(af=rf||(rf={})).Up="up",af.Right="right",af.Down="down",af.Left="left";const pf=rf,mf=function(e,t){return e?e.reduce(((e,n)=>{const i=Yy.find((e=>n.key===e.ascKey&&n.descKey===e.descKey));return!i||t&&!t.includes(i.key)||e.push({sort:n,tableColumn:i}),e}),[]):[]},hf=function(e){return e.active?e.activeDirection===ai.Sr.Ascending?e.descKey:e.key:e.defaultDirection===ai.Sr.Ascending?e.key:e.descKey};function gf(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-table-columns"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{clipRule:"evenodd",d:"M0 0H14V48H0V0ZM25 0H31V48H25V0ZM48 0H42V48H48V0Z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}gf.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const yf=gf;var vf=Object.assign;const ff={placement:"top-start",modifiers:[{name:"offset",options:{offset:[5]}}]};function If({className:e="DirectoryListTableHeader-tableHeader-70si3v TableHeader-tableHeader-2HmQLv",width:t,activeTableColumnSorts:n,typeKeySourceURI:i,sorts:s}){const r=(0,f.I0)(),a=(0,ra.Z)(),o=(0,Dl.Z)(),{containerKey:l}=_n(),c=(0,y.useMemo)((()=>mf(s)),[s]),d=(0,y.useMemo)((()=>rs("directoryTableColumns")),[]),u=(0,f.v9)(d),p=(0,y.useCallback)((e=>{const t=function(e,t){const n=new Set(t.map((({tableColumn:e})=>e.key)));return n.has(e)?n.delete(e):n.add(e),Array.from(n)}(e,n);if(t.length<1)return;const s=vf(vf({},u),{[i]:t});(0,Rt.c9)((()=>{r((0,Nv.LN)({directoryTableColumns:s}))}))}),[n,u,i,r]);return y.createElement(_v,{className:e,style:{width:t}},y.createElement(xn,{id:a,className:"DirectoryListTableHeader-columnMenuButton-2qKFXn Link-link-2WGTd7","aria-label":(0,De.Z)("Change Columns"),size:We.Medium,onPress:o.onToggle},y.createElement(yf,null),y.createElement(gc.Z,{direction:o.isOpen?pf.Up:pf.Down,size:We.Medium})),n.map((({tableColumn:e,sort:t},n)=>y.createElement(nf,{key:e.key,style:e.style,to:Om({key:C.Z.join(l,{sort:hf(t)},{parseParams:!0})})},y.createElement(qv,{className:0===n?"DirectoryListTableHeader-firstTableHeaderCell-X4jCM1 DirectoryListTableHeader-tableHeaderCell-2izPCh TableHeaderCell-tableHeaderCell-2wlnA0 TableCell-tableCell-3_jfgf":"DirectoryListTableHeader-tableHeaderCell-2izPCh TableHeaderCell-tableHeaderCell-2wlnA0 TableCell-tableCell-3_jfgf",activeClassName:0===n?"DirectoryListTableHeader-firstActiveTableHeaderCell-1vqxaq DirectoryListTableHeader-firstTableHeaderCell-X4jCM1 DirectoryListTableHeader-tableHeaderCell-2izPCh TableHeaderCell-tableHeaderCell-2wlnA0 TableCell-tableCell-3_jfgf DirectoryListTableHeader-activeTableHeaderCell-yZ5u23 DirectoryListTableHeader-tableHeaderCell-2izPCh TableHeaderCell-tableHeaderCell-2wlnA0 TableCell-tableCell-3_jfgf":"DirectoryListTableHeader-activeTableHeaderCell-yZ5u23 DirectoryListTableHeader-tableHeaderCell-2izPCh TableHeaderCell-tableHeaderCell-2wlnA0 TableCell-tableCell-3_jfgf",isActive:t.active},y.createElement(uf,{title:t.title},t.title),t.active?y.createElement(zv,{isAscending:t.activeDirection===ai.Sr.Ascending}):null)))),y.createElement(qv,{className:"DirectoryListTableHeader-actionsTableHeaderCell-3DkcEk DirectoryListTableHeader-tableHeaderCell-2izPCh TableHeaderCell-tableHeaderCell-2wlnA0 TableCell-tableCell-3_jfgf"}),y.createElement(mo.Z,{target:a,isOpen:o.isOpen,options:ff,onMenuClose:o.onClose},c.map((({sort:e,tableColumn:t})=>{const i=n.find((({tableColumn:e})=>e===t));return y.createElement(Ic.Z,{key:t.key,isSelected:!!i,value:t.key,onSelect:p},e.title)}))))}const bf=function(e,t){return(0,de.P1)(function(e,t,n){return(0,de.P1)(rs("directoryTableColumns"),(n=>{if(!e)return[];const i=n[e];if(i)return i;switch(t){case Bt.U.Movie:return[Dy.key,xy.key];case Bt.U.Show:return[Dy.key];case Bt.U.Season:return[Cy.key,Py.key];case Bt.U.Episode:return[Dy.key,wy.key];case Bt.U.Artist:return[Dy.key];case Bt.U.Album:return[Dy.key,Ty.key,xy.key];case Bt.U.Track:return[Dy.key,Zy.key,Ay.key,Ry.key]}return[Dy.key]}))}(e,null==t?void 0:t.type,null==t||t.subtype),(e=>(null==t?void 0:t.Sort)?mf(t.Sort,e):[]))};var Mf=Object.assign;const Sf=parseInt(ku.Z.v4PagePadding,10),Ef=parseInt(ku.Z.actionsCellWidth,10),Df=parseInt(ku.Z.playCellWidth,10);function Cf({className:e,activeType:t,items:n,totalSize:i,smoothScroll:s,scrollerKey:r,targetScrollIndex:a,onPageRequest:o,onListReady:l}){const[c,d]=cn(),u=(0,jt.Z)({serverIdentifier:c.machineIdentifier,providerIdentifier:null==d?void 0:d.identifier}),p=t?`${u}${t.key}`:void 0,m=(0,y.useMemo)((()=>bf(p,t)),[t,p]),h=(0,f.v9)(m),g=(0,y.useMemo)((()=>h.reduce(((e,{tableColumn:t})=>e+t.style.width),Df+Ef)),[h]),v=(0,y.useMemo)((()=>Zv({overscan:1,outerPaddingRight:0,rowWidth:g})),[g]),I=(0,y.useCallback)((e=>(null==t?void 0:t.Sort)&&p?y.createElement(If,{width:Math.max(Sf+g,e.width),activeTableColumnSorts:h,typeKeySourceURI:p,sorts:t.Sort}):null),[g,t,p,h]),b=(0,y.useCallback)((e=>y.createElement(xt.ZP,{key:e.key,row:e.row},y.createElement(Cv,Mf({tableColumns:h.map((({tableColumn:e})=>e))},e)))),[h]);return y.createElement(Hc,{className:e,layout:v,scrollDirection:Ne.Omni,cellComponentFactory:b,keyPropName:"listItemKey",items:n,totalSize:i,autoScroll:!1,smoothScroll:s,scrollerKey:r,targetScrollIndex:a,renderAboveList:I,onPageRequest:o,onListReady:l})}function Pf({className:e,listType:t,subtype:n,activeType:i,items:s,totalSize:r,scrollerKey:a,smoothScroll:o,targetScrollIndex:l,onPageRequest:c,onListReady:d}){const{listStyle:u}=_n(),p=function(e){switch(e){case Bt.n.Grid:return ny;case Bt.n.Details:return wg;case Bt.n.Table:return Cf;case Bt.n.SharedItems:return py;case Bt.n.Folder:return Rg}throw new Error("Failed to  map the directory list style to a list component. Check `selectDirectoryListStyle` for list style options")}(u);return y.createElement(Xr,{items:s},y.createElement(p,{className:e,listType:t,subtype:n,activeType:i,items:s,totalSize:r,scrollerKey:a,smoothScroll:o,targetScrollIndex:l,onPageRequest:c,onListReady:d}))}var wf=n(57904);const Tf={button:"SplitButton-button-3JzeSl",mainButton:"SplitButton-mainButton-1SOqzY",menuButton:"SplitButton-menuButton-2XsabI"};var Zf=Object.prototype.hasOwnProperty,Nf=Object.getOwnPropertySymbols,Af=Object.prototype.propertyIsEnumerable,xf=Object.assign;const Lf=function(e){const{className:t=Tf.button,ariaLabel:n,label:i,menuSize:s,children:r,onPress:a}=e,o=((e,t)=>{var n={};for(var i in e)Zf.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Nf)for(var i of Nf(e))t.indexOf(i)<0&&Af.call(e,i)&&(n[i]=e[i]);return n})(e,["className","ariaLabel","label","menuSize","children","onPress"]),l=n||i,[c]=(0,y.useState)((0,wf.Z)()),[d,u]=(0,y.useState)(!1),p=(0,y.useCallback)((()=>u(!d)),[d]),m=y.Children.only(r);return y.createElement("div",{className:t,id:c},y.createElement($h.Z,xf({"aria-label":l,className:Tf.mainButton,onPress:a},o),i),y.createElement($h.Z,xf({className:Tf.menuButton,onPress:p},o),y.createElement(gc.Z,null)),y.createElement(mo.Z,{target:c,isOpen:d,size:s,onMenuClose:p},y.cloneElement(m,{onMenuClose:p,onMenuOpen:p})))};function Of(e){const t=(0,Cu.Z)(e.type);return t?Ms(t,e.subtype):void 0}const jf={label:"FormLabel-label-3iI4Hz",hasError:"FormLabel-hasError-2I3ArH"};var kf=Object.prototype.hasOwnProperty,Rf=Object.getOwnPropertySymbols,zf=Object.prototype.propertyIsEnumerable,Uf=Object.assign;function Vf(e){var{className:t=jf.label,errorClassName:n=jf.hasError,children:i,name:s,hasError:r}=e,a=((e,t)=>{var n={};for(var i in e)kf.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Rf)for(var i of Rf(e))t.indexOf(i)<0&&zf.call(e,i)&&(n[i]=e[i]);return n})(e,["className","errorClassName","children","name","hasError"]);return y.createElement("label",Uf({className:we()(t,r&&n),htmlFor:s},a),i)}const Bf={queryParse:{query:void 0,isPending:!1,isPopulated:!1,error:null},playlistItem:{item:void 0,isPending:!1,isPopulated:!1,error:null},filterOptions:{}},Ff=(0,Fr.oM)({name:"advancedFilters",initialState:Bf,reducers:{reset:()=>Bf,updateQuery(e,{payload:t}){e.queryParse.query&&(e.queryParse.query.Rule=t.rules)},fetchQueryRequested(e,t){(0,Vm.er)(e.queryParse)},fetchQuerySucceeded(e,{payload:t}){(0,Vm.vv)(e.queryParse),e.queryParse.query=t.query},fetchQueryFailed(e,{payload:t}){(0,Vm.VQ)(e.queryParse,t.error)},fetchFilterOptionsRequested(e,{payload:t}){const n=t.filter;e.filterOptions[n.key]||(e.filterOptions[n.key]={isPending:!1,isPopulated:!1,error:null,options:[]}),(0,Vm.er)(e.filterOptions[n.key])},fetchFilterOptionsSucceeded(e,{payload:t}){const n=t.filter;(0,Vm.vv)(e.filterOptions[n.key]),e.filterOptions[n.key].options=t.filterOptions},fetchFilterOptionsFailed(e,{payload:t}){const n=t.filter;(0,Vm.VQ)(e.filterOptions[n.key],t.error)},fetchPlaylistRequested(e,t){(0,Vm.er)(e.playlistItem)},fetchPlaylistSucceeded(e,{payload:t}){e.playlistItem.item=t.playlistItem,(0,Vm.vv)(e.playlistItem)},fetchPlaylistFailed(e,{payload:t}){(0,Vm.VQ)(e.playlistItem,t.error)}}});var Hf=n(38170);function _f({className:e="ActionButtonBar-bar-7_FvUP",children:t}){return y.createElement("div",{className:e},t)}var Qf,Gf;(Gf=Qf||(Qf={})).Or="or",Gf.And="and";const Yf=function({className:e="FieldRatingInput-inputContainer-39OUiH",value:t,onChange:n}){const i=(0,y.useCallback)((e=>{n(0===e?"-1":String(2*e))}),[n]);return y.createElement("div",{className:e},y.createElement(Tr,{value:""===t?-1:parseInt(t,10)/2,onRatingChange:i}))},Wf={input:"FilterSelectInput-input-25Cw7U Select-input-bAL4pR"};var Kf=Object.prototype.hasOwnProperty,qf=Object.getOwnPropertySymbols,$f=Object.prototype.propertyIsEnumerable,Jf=Object.assign;const Xf=function(e){var{className:t=Wf.input,size:n=We.Small}=e,i=((e,t)=>{var n={};for(var i in e)Kf.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&qf)for(var i of qf(e))t.indexOf(i)<0&&$f.call(e,i)&&(n[i]=e[i]);return n})(e,["className","size"]);return y.createElement(vd,Jf({className:t,size:n},i))},eI=function(e,t){const[n,i]=(0,y.useState)(e);return(0,y.useEffect)((()=>{const n=window.setTimeout((()=>{i(e)}),t);return()=>{window.clearTimeout(n)}}),[t,e]),n},tI={input:"FilterTextInput-input-leeWV_ TextInput-input-2FGxDj"};var nI=Object.prototype.hasOwnProperty,iI=Object.getOwnPropertySymbols,sI=Object.prototype.propertyIsEnumerable,rI=Object.assign;function aI(e){var{className:t=tI.input,size:n=We.Small,value:i,forwardedRef:s,onChange:r,onDebouncedChange:a}=e,o=((e,t)=>{var n={};for(var i in e)nI.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&iI)for(var i of iI(e))t.indexOf(i)<0&&sI.call(e,i)&&(n[i]=e[i]);return n})(e,["className","size","value","forwardedRef","onChange","onDebouncedChange"]);const[l,c]=(0,y.useState)(i),d=eI(l,250),u=(0,y.useCallback)((e=>{null==r||r(e),c(e.target.value)}),[r,c]);return(0,y.useEffect)((()=>{i!==d&&(null==a||a(d))}),[i,l,d,a]),(0,y.useEffect)((()=>{c(i)}),[i]),y.createElement(Hl,rI({className:t,size:n,value:l,ref:s,onChange:u},o))}const oI=y.forwardRef(((e,t)=>y.createElement(aI,rI(rI({},e),{forwardedRef:t})))),lI=/^-?(\d+)([a-z]{1,3})$/,cI=function(e=""){const t=e.match(lI);if(t){const[,e,n]=t;return{value:e,suffix:n}}return t},dI=function({className:e="FieldRelativeDateInput-inputContainer-B9GSms",value:t,onChange:n}){var i,s;const r=(0,y.useMemo)((()=>cI(t)),[t]),a=null!=(i=null==r?void 0:r.value)?i:"0",o=null!=(s=null==r?void 0:r.suffix)?s:"s",l=(0,y.useCallback)((e=>{n(`-${e||"0"}${o}`)}),[n,o]),c=(0,y.useCallback)((e=>{n(`-${a}${e.target.value}`)}),[n,a]);return y.createElement("div",{className:e},y.createElement(oI,{className:"FieldRelativeDateInput-textInput-3FWi0x FilterTextInput-input-leeWV_ TextInput-input-2FGxDj",name:"dateInput",type:"number",min:"0",step:"1",required:!0,value:"0"===a?"":a,onDebouncedChange:l}),y.createElement(Xf,{className:"FieldRelativeDateInput-selectInput-2_mQVE FilterSelectInput-input-25Cw7U Select-input-bAL4pR",name:"suffixInput",value:o,onChange:c},y.createElement("option",{value:"s"},(0,De.Z)("Seconds")),y.createElement("option",{value:"m"},(0,De.Z)("Minutes")),y.createElement("option",{value:"h"},(0,De.Z)("Hours")),y.createElement("option",{value:"d"},(0,De.Z)("Days")),y.createElement("option",{value:"w"},(0,De.Z)("Weeks")),y.createElement("option",{value:"mon"},(0,De.Z)("Months")),y.createElement("option",{value:"y"},(0,De.Z)("Years"))))};var uI=n(71755),pI=n(61935);const mI={name:"applyMaxHeight",enabled:!0,phase:"beforeWrite",requires:["maxSize"],fn({state:e,options:t}){var n;const i=null!=(n=t.offset)?n:0,{height:s}=e.modifiersData.maxSize;e.styles.popper.maxHeight=s-i+"px"}};var hI=n(9966);const gI={name:"maxSize",enabled:!0,phase:"main",requiresIfExists:["offset","preventOverflow","flip"],fn({state:e,name:t,options:n}){const i=(0,hI.Z)(e,n),{x:s,y:r}=e.modifiersData.preventOverflow||{x:0,y:0},{width:a,height:o}=e.rects.popper,[l]=e.placement.split("-"),c="left"===l?"left":"right",d="top"===l?"top":"bottom";e.modifiersData[t]={width:a-i[c]-s,height:o-i[d]-r}}},yI={name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn({state:e}){e.styles.popper.width=`${e.rects.reference.width}px`},effect({state:e}){e.elements.popper.style.width=`${e.elements.reference.offsetWidth}px`}},vI=(0,de.P1)(Yr,(e=>e.advancedFilters)),fI={searchInputContainer:"FilterOptionInput-searchInputContainer-1XdkIT",button:"FilterOptionInput-button-X6SP3Z Link-link-2WGTd7",small:"FilterOptionInput-small-F-4aGi",medium:"FilterOptionInput-medium-ieAJr4",large:"FilterOptionInput-large-1ZBk6G",isDisabled:"FilterOptionInput-isDisabled-1tHcqg",hasError:"FilterOptionInput-hasError-xnbJRC",menuContainer:"FilterOptionInput-menuContainer-iyLB_R",menu:"FilterOptionInput-menu-2ODVxo",loadingMenu:"FilterOptionInput-loadingMenu-edk80w FilterOptionInput-menu-2ODVxo",scroller:"FilterOptionInput-scroller-yMI05- Scroller-scroller-3Rbtv0",input:"FilterOptionInput-input-1tiiaC FilterTextInput-input-leeWV_ TextInput-input-2FGxDj",list:"FilterOptionInput-list-2zV0wK",listItem:"FilterOptionInput-listItem-3FAB0M",listItemHighlighted:"FilterOptionInput-listItemHighlighted-1lik_m FilterOptionInput-listItem-3FAB0M"};var II=Object.assign;const bI=(0,dr.Z)(Ur.Z.menuSpeed)/1e3,MI={ease:"easeOut",duration:bI},SI={ease:Yl.Z.motionEasing,duration:bI},EI={opacity:MI,y:SI,scale:SI},DI={initial:{opacity:0,y:-10,scale:.95,transition:EI},animate:{opacity:1,y:0,scale:1,transition:EI},exit:{opacity:0,y:10,scale:.95,transition:EI}},CI=function({labelClassName:e=fI.searchInputContainer,disabledClassName:t=fI.isDisabled,errorClassName:n=fI.hasError,buttonClassName:i=fI.button,rule:s,size:r=We.Small,filter:a,isDisabled:o,hasError:l,onChange:c}){var d,u,p;const m=(0,f.I0)(),[h,g]=cn(),I=null!=(d=s.valueTitle)?d:s.value,b=(0,y.useMemo)((()=>{return e=a.key,(0,de.P1)(vI,(t=>t.filterOptions[e]));var e}),[a.key]),M=(0,f.v9)(b),[S,E]=(0,y.useState)(null==M?void 0:M.options),D=null!=(u=null!=S?S:null==M?void 0:M.options)?u:[],C=(0,y.useRef)(null),P=(0,y.useRef)(null),w=nd(),{styles:T,attributes:Z,state:N}=(0,pI.D)(C.current,P.current,{placement:"bottom-start",modifiers:(0,y.useMemo)((()=>[{name:"offset",options:{offset:[0,5]}},yI,gI,mI,{name:"applyMaxHeight",options:{offset:15}}]),[])}),A=(0,y.useCallback)((e=>{var t;return null!=(t=null==e?void 0:e.title)?t:""}),[]),{isOpen:x,highlightedIndex:L,getToggleButtonProps:O,getMenuProps:j,getComboboxProps:k,getInputProps:R,getItemProps:z,closeMenu:U}=(0,uI.Kb)({defaultHighlightedIndex:0,items:D,itemToString:A,initialInputValue:I,onSelectedItemChange:(0,y.useCallback)((({selectedItem:e})=>{e&&c(e.value,e.title)}),[c]),onInputValueChange:(0,y.useCallback)((({inputValue:e})=>{(null==M?void 0:M.options)&&E(M.options.filter((t=>A(t).toLowerCase().includes(null==e?void 0:e.toLocaleLowerCase()))))}),[null==M?void 0:M.options,A]),stateReducer:(0,y.useCallback)(((e,{changes:t})=>{var n,i,s;return e.isOpen&&!t.isOpen&&(null==(n=t.selectedItem)?void 0:n.title)!==e.inputValue?II(II({},t),{inputValue:null!=(s=null==(i=t.selectedItem)?void 0:i.title)?s:I}):t}),[I])});return(0,y.useEffect)((()=>{(null==M?void 0:M.isPopulated)||m(Ff.actions.fetchFilterOptionsRequested({server:h,provider:g,filter:a}))}),[m,a,null==M?void 0:M.isPopulated,x,g,h]),(0,y.useEffect)((()=>{var e;(null==(e=null==N?void 0:N.modifiersData.hide)?void 0:e.isReferenceHidden)&&x&&U()}),[U,x,null==(p=null==N?void 0:N.modifiersData.hide)?void 0:p.isReferenceHidden]),(0,y.useEffect)((()=>{(null==M?void 0:M.options.length)&&E(M.options)}),[null==M?void 0:M.options]),y.createElement(y.Fragment,null,y.createElement("label",II({},k({ref:C,className:we()(e,o&&t,l&&n)})),y.createElement(oI,II(II({},R({className:fI.input,onFocus:w,disabled:o})),{size:r})),y.createElement(xn,II(II(II({},O({className:we()(i,fI[r]),disabled:o})),Z.reference),{isDisabled:o}),y.createElement(gc.Z,{size:r,direction:x?pf.Up:pf.Down}))),v.createPortal(y.createElement("div",II(II({},j({className:fI.menuContainer,style:T.popper,ref:P})),Z.popper),y.createElement(_l.M_,null,x?y.createElement(_l.ww.div,{key:"container",className:(null==M?void 0:M.isPopulated)?fI.menu:fI.loadingMenu,initial:DI.initial,animate:DI.animate,exit:DI.exit},(null==M?void 0:M.isPopulated)?y.createElement(Oe,{className:fI.scroller,autoScroll:!1},y.createElement("ul",{className:fI.list},D.length?D.map(((e,t)=>y.createElement("li",II({key:e.key},z({className:L===t?fI.listItemHighlighted:fI.listItem,index:t,item:e})),e.title))):y.createElement("li",{className:fI.listItem},(0,De.Z)("No options")))):y.createElement(qe,null)):null)),document.body))},PI=[bm.DoubleEqual,bm.NotDoubleEqual],wI=[bm.Equal,bm.NotEqual],TI=function({rule:e,fieldType:t,fieldSubtype:n,filter:i,onChange:s}){var r;const a=(0,y.useCallback)((e=>{s(encodeURIComponent(e),e)}),[s]);if(i&&function(e,t){switch(e){case ai.fS.String:return PI.includes(t.operator);default:return wI.includes(t.operator)}}(t,e))return y.createElement(CI,{filter:i,rule:e,onChange:s});switch(t){case ai.fS.String:return y.createElement(oI,{name:"input",type:"text",value:null!=(r=e.valueTitle)?r:e.value,required:!0,onDebouncedChange:a});case ai.fS.Integer:switch(n){case ai.Pi.Rating:return y.createElement(Yf,{value:e.value,onChange:s})}return y.createElement(oI,{name:"input",type:"number",min:"0",value:e.value,required:!0,onDebouncedChange:a});case ai.fS.Date:return cI(e.value)?y.createElement(dI,{value:e.value,onChange:s}):y.createElement(oI,{name:"input",type:"date",pattern:"[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])",placeholder:"YYYY-MM-DD",value:e.value,required:!0,onDebouncedChange:a})}return null};function ZI(e,t,n=""){return{operator:e,title:t,defaultValue:n}}const NI=function(e){switch(e){case ai.fS.Tag:case ai.fS.AudioLanguage:case ai.fS.SubtitleLanguage:return[ZI(bm.Equal,(0,De.Z)("is")),ZI(bm.NotEqual,(0,De.Z)("is not"))];case ai.fS.Resolution:return[ZI(bm.Equal,(0,De.Z)("is"))];case ai.fS.Boolean:return[ZI(bm.Equal,(0,De.Z)("is true")),ZI(bm.NotEqual,(0,De.Z)("is false"))];case ai.fS.Integer:return[ZI(bm.Equal,(0,De.Z)("is")),ZI(bm.NotEqual,(0,De.Z)("is not")),ZI(bm.GreaterThanGreaterThanOrEqual,(0,De.Z)("is greater than")),ZI(bm.LessThanLessThanOrEqual,(0,De.Z)("is less than"))];case ai.fS.String:return[ZI(bm.Equal,(0,De.Z)("contains")),ZI(bm.NotEqual,(0,De.Z)("does not contain")),ZI(bm.DoubleEqual,(0,De.Z)("is")),ZI(bm.NotDoubleEqual,(0,De.Z)("is not")),ZI(bm.LessThanOrEqual,(0,De.Z)("begins with")),ZI(bm.GreaterThanOrEqual,(0,De.Z)("ends with"))];case ai.fS.Date:return[ZI(bm.LessThanLessThanOrEqual,(0,De.Z)("is before")),ZI(bm.GreaterThanGreaterThanOrEqual,(0,De.Z)("is after")),ZI(bm.GreaterThanGreaterThanOrEqual,(0,De.Z)("is in the last"),"-0s"),ZI(bm.LessThanLessThanOrEqual,(0,De.Z)("is not in the last"),"-0s")]}};function AI(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-subtract"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{clipRule:"evenodd",d:"M3.42847 27.4286V20.5714H44.5713V27.4286H3.42847Z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}AI.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const xI=AI,LI="AdvancedFilterOption-inputContainer-1RajtU";var OI=Object.assign;const jI=function({className:e="AdvancedFilterOption-container-2bOkHY",rowState:t,rule:n,isRemoveDisabled:i,onChange:s,onRemoveRule:r}){const{type:a,subtype:o}=t.fieldTypesByFieldKey[n.field],l=t.filterKeysByFieldKey[n.field],c=!!cI(n.value),d=(0,y.useMemo)((()=>NI(a)),[a]),u=(0,y.useMemo)((()=>t.allTypeFilters.find((({key:e})=>e===l))),[l,t.allTypeFilters]),p=(0,y.useMemo)((()=>{if(a===ai.fS.Date){const e=d.find((e=>e.operator===n.operator&&c&&e.defaultValue));if(e)return e}return d.find((e=>e.operator===n.operator))||d[0]}),[d,n.operator,c,a]),m=(0,y.useMemo)((()=>d.indexOf(p)),[d,p]),h=(0,y.useCallback)((e=>{const i=e.target.value,r=t.allTypeFields.find((e=>e.key===i));if(!r)throw new Error(`${i} did not match to any type field`);const a=t.fieldTypesByFieldKey[r.key],[o]=NI(a.type);s(OI(OI({},n),{field:r.key,fieldTitle:r.title,operator:o.operator,value:a.type===ai.fS.Boolean?"1":"",valueTitle:void 0}))}),[s,t.allTypeFields,t.fieldTypesByFieldKey,n]),g=(0,y.useCallback)((e=>{const t=parseInt(e.target.value,10),i=d[t];a===ai.fS.Date?s(OI(OI({},n),{operator:i.operator,value:i.defaultValue,valueTitle:void 0})):s(OI(OI({},n),{operator:i.operator}))}),[s,d,n,a]),v=(0,y.useCallback)(((e,t)=>{s(OI(OI({},n),{value:e,valueTitle:t}))}),[s,n]);return y.createElement("div",{className:e},y.createElement("div",{className:LI},y.createElement(Xf,{name:"field",value:n.field,onChange:h},t.allTypeFields.map(((e,t)=>y.createElement("option",{key:`${e.key}-${t}`,value:e.key},e.title))))),y.createElement("div",{className:LI},y.createElement(Xf,{name:"operator",value:String(m),onChange:g},d.map(((e,t)=>y.createElement("option",{key:t,value:t},e.title))))),a!==ai.fS.Boolean?y.createElement("div",{className:LI},y.createElement(TI,{fieldType:a,fieldSubtype:o,filter:u,rule:n,onChange:v})):null,y.createElement(lh,{title:(0,De.Z)("Remove Rule"),icon:xI,size:We.Small,isDisabled:i,onPress:r}))};var kI=Object.assign;function RI(e,t=function(e,t=[]){return{type:"composite",operator:e,Rule:t}}(Qf.And)){return kI(kI({},t),{Rule:[...t.Rule,...e]})}const zI=function(e){const[t]=e.allTypeFields,[n]=NI(t.type);return{field:t.key,fieldTitle:t.title,value:"",operator:n.operator}};var UI=Object.assign;function VI(e){const t=(0,Mm.su)(Qf).find((t=>t===e));if(t)return t;throw new Error(`'getOperatorValue' received an unknown value '${e}'`)}const BI=function e({className:t="AdvancedFilterGroup-container-3bCF6U",rowState:n,compositeRule:i,onRemoveGroup:s,onChange:r}){const a=(0,ra.Z)(),o=(0,Dl.Z)(),l=i.Rule.length,c=(0,y.useCallback)((e=>{r(UI(UI({},i),{operator:VI(e.target.value)}))}),[i,r]),d=(0,y.useCallback)((e=>()=>{const t=Array.from(i.Rule),[n]=t.splice(e,1);t.length<1&&"composite"!==n.type||r(UI(UI({},i),{Rule:t}))}),[i,r]),u=(0,y.useCallback)((()=>{const e=Array.from(i.Rule);e.unshift(zI(n)),r(UI(UI({},i),{Rule:e}))}),[i,r,n]),p=(0,y.useCallback)((()=>{const e=Array.from(i.Rule);e.unshift(RI([zI(n)])),r(UI(UI({},i),{Rule:e}))}),[i,r,n]),m=(0,y.useCallback)((e=>t=>{const n=Array.from(i.Rule);n.splice(e,1,t),r(UI(UI({},i),{Rule:n}))}),[i,r]);return y.createElement("div",{className:t},y.createElement("div",{className:"AdvancedFilterGroup-inputContainer-3ZsNec"},y.createElement(Xf,{name:"group",value:i.operator,onChange:c},y.createElement("option",{value:"and"},(0,De.Z)("Match all of the following")),y.createElement("option",{value:"or"},(0,De.Z)("Match any of the following")))),y.createElement(_f,{className:"AdvancedFilterGroup-buttons-2gf8se ActionButtonBar-bar-7_FvUP"},y.createElement(lh,{title:(0,De.Z)("Add Rule"),icon:Hf.Z,size:We.Small,onPress:u}),y.createElement(xn,{id:a,"aria-label":(0,De.Z)("More Actions"),onPress:o.onToggle},y.createElement(Ud.Z,null)),y.createElement(mo.Z,{isOpen:o.isOpen,target:a,onMenuClose:o.onClose},y.createElement(ho.Z,{onPress:(0,vo.Z)(p,o.onClose)},(0,De.Z)("Add Rule Group")),s?y.createElement(ho.Z,{onPress:(0,vo.Z)(s,o.onClose)},(0,De.Z)("Remove Rule Group")):null)),y.createElement("div",{className:"AdvancedFilterGroup-rules-1HM8Id"},i.Rule.map(((t,s)=>"composite"===t.type?y.createElement(e,{key:`${t.operator}-${s}`,compositeRule:t,rowState:n,onChange:m(s),onRemoveGroup:d(s)}):y.createElement(jI,{key:`${t.field}-${l}-${s}`,rowState:n,rule:t,isRemoveDisabled:1===i.Rule.length,onChange:m(s),onRemoveRule:d(s)})))))},FI=new RegExp(`(${["duration","mediaSize","mediaBitrate","show.writer","show.producer","show.director"].join("|")})$`),HI=function({meta:e,rules:t,onChange:n}){const i=(0,y.useMemo)((()=>{var t;return(null!=(t=e.Type)?t:[]).reduce(((e,t)=>(t.Field&&e.push(...t.Field.filter((e=>!FI.test(e.key)))),e)),[])}),[e.Type]),s=(0,y.useMemo)((()=>{var t;return(null!=(t=e.Type)?t:[]).reduce(((e,t)=>(t.Filter&&e.push(...t.Filter),e)),[])}),[e.Type]),r=(0,y.useMemo)((()=>{var t;const n=null!=(t=e.Type)?t:[],i=n.filter((e=>e.type!==Bt.U.Folder)).length>1;return n.reduce(((e,t)=>(t.Filter&&t.Filter.forEach((n=>{if(n.filterType!==ai.H_.Boolean){const s=i?`${t.type}.${n.filter}`:n.filter;e[s]=n.key}})),e)),{})}),[e.Type]),a=(0,y.useMemo)((()=>i.reduce(((e,t)=>(e[t.key]={type:t.type,subtype:t.subType},e)),{})),[i]),o=(0,y.useMemo)((()=>({allTypeFilters:s,allTypeFields:i,fieldTypesByFieldKey:a,filterKeysByFieldKey:r})),[i,s,a,r]),l=(0,y.useMemo)((()=>t?"composite"!==t.type?RI([t]):t:RI([zI(o)])),[t,o]);return y.createElement(BI,{rowState:o,compositeRule:l,onChange:n})},_I=(0,de.P1)(vI,(e=>e.playlistItem)),QI=(0,de.P1)(vI,(e=>e.queryParse));function GI(e,t=!1){const n=[];if("composite"===e.type){const i=e.Rule;for(let e=0,t=i.length;e<t;e++){const t=i[e];(t.type||""!==t.value)&&(GI(t,!0).length&&n.push(GI(t,!0)))}let s=n.length-1;for(;s>0;)n.splice(s,0,`${e.operator}=1`),s-=1;t&&n.length&&(n.unshift("push=1"),n.push("pop=1"))}else{if(""===e.value)throw new Error("Tried to encode an empty value");const t=e.operator.slice(0,-1);n.push(`${e.field}${encodeURIComponent(t)}=${e.value}`)}return n.flat(2)}function YI(e){return GI(e).join("&")}const WI=function({className:e="DirectoryListAdvancedFilters-container-3aG91w",directoryKey:t,totalSize:n,meta:i}){var s,r,a;const o=(0,f.I0)(),[l,c,d]=cn(),u=(0,jt.Z)({serverIdentifier:l.machineIdentifier,providerIdentifier:c.identifier}),p=(0,y.useMemo)((()=>C.Z.parseUri(t)),[t]),m=`${u}${t}`,h=(0,f.v9)(ch),{query:g,isPopulated:v}=(0,f.v9)(QI),I=(0,f.v9)(_I),b=(0,y.useMemo)((()=>rd(m)),[m]),M=(0,f.v9)(b),S=null!=(s=null==M?void 0:M.isSaving)&&s,E=(0,ad.Z)(S),D=(0,Pm.Z)(i),P=un(),w=P.playlistKey?Xi.Z.parseString(P.playlistKey):void 0,T=lr({identifier:c.metricsIdentifier,mode:"list",type:null==D?void 0:D.type,itemCount:n}),[Z,N]=(0,y.useState)(null!=(r=Xi.Z.parseString(p.params.limit))?r:""),A=eI(Z,250),x=(0,Dl.Z)(),L=(0,Dl.Z)(),[O,j]=(0,y.useState)(!1),k=D?Of(D):void 0,R=(0,y.useCallback)((()=>{T({action:rr.uf,mode:"shortcut"})}),[T]),z=(0,y.useCallback)((()=>{T({action:rr.uf,mode:"shortcut"})}),[T]),U=(0,y.useCallback)((()=>{j(!0),x.onOpen()}),[x]),V=(0,y.useCallback)((()=>{j(!1),x.onClose()}),[x]),B=(0,y.useCallback)((()=>{(0,Rt.c9)((()=>{w?o(Cl.actions.playlistSaveRequested({destinationServer:l,destinationProvider:c,playlistKey:w,sourceURI:m,isSmart:!0})):U()}))}),[w,o,l,c,m,U]),F=(0,y.useCallback)((e=>{const t=e.target.value;N(t)}),[]),H=(0,y.useCallback)((e=>{o(Ff.actions.updateQuery({rules:e}))}),[o]);return(0,y.useEffect)((()=>{var e;if(!(null==g?void 0:g.Rule)||"composite"===(null==(e=null==g?void 0:g.Rule)?void 0:e.type)&&g.Rule.Rule.length<1)return;const{type:n,sort:i,group:s,having:r}=p.params,a={type:n,sort:i,group:s,having:r,limit:A||void 0},l=C.Z.join(p.pathname,a),c=YI(g.Rule),d=C.Z.join(l,c,{parseParams:!1});d!==t&&o((0,pn.c4)({pathname:Om({key:d}),replace:!0}))}),[t,p.params,p.pathname,o,A,g]),(0,y.useEffect)((()=>{g||o(Ff.actions.fetchQueryRequested({server:l,provider:c,key:t.replace("/all","/query/parse")})),w&&o(Ff.actions.fetchPlaylistRequested({server:l,provider:c,key:w}))}),[g,t,w,o,l]),(0,y.useEffect)((()=>()=>{o(Ff.actions.reset())}),[o]),(0,y.useEffect)((()=>{(null==M?void 0:M.playlistKey)&&E&&!S&&!(null==M?void 0:M.saveError)&&o((0,pn.c4)({pathname:(0,ui.Z)(l,c,M.playlistKey,void 0,k),replace:!0}))}),[o,S,E,null==M?void 0:M.playlistKey,null==M?void 0:M.saveError,k,c,l]),v&&g?y.createElement("form",{className:e},y.createElement(Oe,{className:"DirectoryListAdvancedFilters-scroller-2lqIqM Scroller-scroller-3Rbtv0",scrollDirection:Ne.Omni,autoScroll:!0},I.item?y.createElement("div",{className:"DirectoryListAdvancedFilters-editHeading-1IBQC3"},I.item.title):null,y.createElement(HI,{meta:i,rules:g.Rule,onChange:H})),y.createElement("div",{className:"DirectoryListAdvancedFilters-buttonBar-1_m6Ci"},y.createElement("div",null,y.createElement(Vf,{name:"labelValue",className:"DirectoryListAdvancedFilters-formLabel-3YwPOH FormLabel-label-3iI4Hz"},(0,De.Z)("Limit to")),y.createElement(Hl,{className:"DirectoryListAdvancedFilters-textInput-1a0ZZT TextInput-input-2FGxDj",name:"labelValue",type:"number",min:0,value:Z,onChange:F})),y.createElement("div",{className:"DirectoryListAdvancedFilters-buttonCluster-oApTKP"},k?y.createElement(y.Fragment,null,y.createElement(Lf,{kind:Dn.Primary,label:I.item?(0,De.Z)("Update Playlist"):(0,De.Z)("Save As..."),isDisabled:h,onPress:B},y.createElement(Zl,{sourceURI:m,playlistType:k,onPlaylistSave:R,onAddToPlaylistPress:x.onOpen,onAddToSmartPlaylistPress:U,onMenuClose:L.onClose})),y.createElement(od,{isOpen:x.isOpen,playlistType:k,sourceURI:m,defaultDestinationSource:u,defaultPlaylistTitle:null!=(a=null==d?void 0:d.title)?a:(0,De.Z)("New Playlist"),isSmartPlaylist:O,onModalClose:V,onPlaylistSave:z})):null))):y.createElement("div",{className:"DirectoryListAdvancedFilters-loadingContainer-3cQM_Q DirectoryListAdvancedFilters-container-3aG91w"},y.createElement(qe,null))},KI=function(e){var t;return null!=(t=null==e?void 0:e.find((e=>e.active)))?t:null==e?void 0:e[0]};var qI=Object.assign;const $I=parseInt(ku.Z.jumpBarCharacterHeight,10),JI=parseInt(ku.Z.jumpBarMargin,10);function XI({className:e="DirectoryListJumpBar-character-3Pjuey Link-link-2WGTd7",scrollIndex:t,children:n,onCharacterPress:i}){const s=(0,y.useCallback)((()=>{i(t)}),[t,i]);return y.createElement(xn,{className:e,onPress:s},n)}function eb({className:e="DirectoryListJumpBar-jumpBar-1h4J5B",activeType:t,viewportHeight:n,listTotalSize:i,onFirstCharacterScroll:s}){const r=KI(null==t?void 0:t.Sort),{firstCharacters:{items:a}}=(0,f.v9)(wm),o=(0,y.useMemo)((()=>a?function(e,t){if(t<1||!e.length)return[];const{characters:n}=e.reduce(((e,t,n)=>(e.characters.push(qI(qI({},t),{position:n,scrollIndex:e.scrollIndex})),e.scrollIndex+=t.size,e)),{characters:[],scrollIndex:0}),i=[n[0],n[n.length-1]],s=Array.from(n).sort(((e,t)=>t.size-e.size));return Array.from(new Set([...i,...s])).slice(0,t).sort(((e,t)=>e.position-t.position))}(a,Math.floor((n-2*JI)/$I)):[]),[a,n]),l=!!(null==r?void 0:r.firstCharacterKey),c=o.length>=5;return r&&a&&l&&c&&i>=75?y.createElement("div",{className:e},o.map((e=>y.createElement(XI,{key:e.key,scrollIndex:e.scrollIndex,onCharacterPress:s},e.title)))):null}function tb(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-tidal-logo-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M373.331 186.32l-93.324 93.332-93.337-93.341L280.007 93l93.332 93.309L466.67 93 560 186.318l-93.33 93.341-93.339-93.339zm.01 186.669l-93.334 93.34-93.337-93.34 93.337-93.337 93.334 93.337zm-186.67-186.67l-93.338 93.34L0 186.32 93.333 93l93.337 93.318z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}tb.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const nb=tb;function ib(e){var t,n;return(null==(t=null==e?void 0:e.id)?void 0:t.includes("saved"))?(0,De.Z)("With a TIDAL subscription you can add Albums, artists, tracks and videos to My TIDAL to keep track of your favorite music."):(null==(n=null==e?void 0:e.id)?void 0:n.includes("playlists"))?(0,De.Z)("Once you have a TIDAL subscription you can add music to My TIDAL Playlists and keep the party going."):(0,De.Z)("Once you have a TIDAL subscription you can browse TIDAL content in Plex.")}function sb({className:e,pivot:t}){const n=lr(),i=(0,y.useCallback)((()=>{n({action:rr.J9})}),[n]);return y.createElement(Fe,{className:e,icon:y.createElement(nb,null),title:(0,De.Z)("TIDAL + Plex = music to your ears!"),description:ib(t)},y.createElement(zn,{target:"_blank",rel:"noopener noreferrer",to:Np.YC,onPress:i},(0,De.Z)("Learn More")))}var rb=n(35815);const ab={[Bt.U.Movie]:["isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[Bt.U.Show]:["isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[Bt.U.Season]:["isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[Bt.U.Episode]:["isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[Bt.U.Artist]:["isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[Bt.U.Album]:["isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[Bt.U.Track]:["isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[Bt.U.PhotoAlbum]:["isAddToPlaylistVisible","isPlayVisible","isShuffleVisible"],[Bt.U.Photo]:["isAddToPlaylistVisible","isPlayVisible","isShuffleVisible"]},ob=({provider:e})=>!!(0,Ft.Z)(e,At.zW.PlayQueue),lb={isAddToPlaylistVisible:({provider:e})=>!!(0,Ft.Z)(e,At.zW.Playlist),isAddToQueueVisible:ob,isPlayVisible:ob,isShuffleVisible:ob,isOptimizeVisible:({server:e,provider:t})=>Go(t)&&e.isFullOwnedServer&&e.transcoderVideo};var cb=n(29414);const db=function(e){return C.Z.stringifyParams(e,{encoder:(e,t,n,i)=>"value"===i&&"boolean"==typeof e?e?"1":"0":e})},ub=function(e,t){const{strippedKey:n,filterRules:i}=Cm(e,t),s=i.reduce(((e,{filter:n,value:i})=>{var s;const{type:r}=t,a=null==(s=t.Field)?void 0:s.find((e=>e.key===n.filter||e.key===`${r}.${n.filter}`));return a&&(e[a.key]=i),e}),{});return C.Z.join(n,db(s))};function pb(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-shuffle-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m448 441l-44.423 0c-65.833 0-103.843-28.598-141.383-96.109 5.44-10.89 10.99-22.734 16.727-35.594 3.556-7.986 4.181-9.387 5.622-12.617 36.245 74.928 65.419 102.32 119.034 102.32l44.423 0 0-77 112 98-112 98 0-77m0-322l0-77 112 98-112 98 0-77-44.423 0c-59.257 0-88.657 33.459-130.747 127.573-1.427 3.191-3.342 7.493-6.695 15.02-44.459 99.657-75.473 137.407-142.558 137.407l-95.577 0 0-42 95.577 0c43.602 0 66.367-27.71 104.202-112.518 3.333-7.485 5.267-11.827 6.711-15.055 48.4-108.225 87.24-152.427 169.087-152.427l44.423 0m-324.423 0c56.809 0 87.751 27.071 122.897 95.883-7.743 14.34-15.519 30.301-23.497 48.005-35.031-76.511-57.674-101.888-99.4-101.888l-95.577 0 0-42 95.577 0"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}pb.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const mb=pb,hb="DirectoryListActions-tooltip-8KLeHs Tooltip-bottomCenter-3puJD6 Tooltip-tooltip-7baWc9 Tooltip-tooltipArrow-3xCLkA Tooltip-tooltipTopArrow-2DrTmU Tooltip-tooltipCenterAlignArrow-2WhOj6",gb="DirectoryListActions-menu-LB_SVA Menu-menu-2zqgoE";function yb({className:e,activeType:t,selectedPivot:n,totalSize:i,listActions:s,directoryKey:r,advancedFilters:a}){var o;const l=(0,f.I0)(),[c,d,u]=cn(),{containerServer:p,containerProvider:m,containerKey:h}=_n(),{metricsPage:g,metricsContextTuple:v}=(0,xt.Zn)(),I=lr({identifier:d.metricsIdentifier,mode:"list",type:null==t?void 0:t.type,itemCount:i}),b=(0,ra.Z)(),M=(0,Dl.Z)(),S=(0,ra.Z)(),E=(0,Dl.Z)(),D=(0,Dl.Z)(),C=(0,jt.Z)({serverIdentifier:c.machineIdentifier,providerIdentifier:d.identifier}),P=`${C}${h}`,w=t?Of(t):void 0,T=(0,y.useMemo)((()=>t?ub(r,t):r),[t,r]),Z=(0,y.useCallback)((e=>{l(cb.rr({server:p,provider:m,containerKey:h,metricsPage:g,metricsProperties:{contextTuple:v},legacyAction:e}))}),[l,p,m,h,g,v]),N=(0,y.useCallback)((()=>{I({action:rr.NH}),Z(it.wA({options:{type:w}}))}),[I,w,Z]),A=(0,y.useCallback)((()=>{Z(it.Em({options:{type:w}})),I({action:rr.cO})}),[I,w,Z]),x=(0,y.useCallback)((()=>{I({action:rr.PR}),Z(it.tP({options:{playAll:!0,next:!1,type:w}})),M.onClose()}),[I,M,w,Z]),L=(0,y.useCallback)((()=>{I({action:rr.pe}),Z(it.tP({options:{playAll:!0,next:!0,type:w}})),M.onClose()}),[I,M,w,Z]),O=(0,y.useCallback)((()=>{I({action:rr.FH}),Z(cb.$5()),M.onClose()}),[I,M,Z]),j=(0,y.useCallback)((()=>{I({action:rr.uf,mode:"shortcut"})}),[I]),k=(0,y.useCallback)((()=>{I({action:rr.uf,mode:"shortcut"})}),[I]);return y.createElement(_f,{className:e},s.isPlayVisible?y.createElement(lh,{tooltipClassName:hb,icon:zh,title:(0,De.Z)("Play"),tooltipAttachment:nh.eO,onPress:N}):null,s.isShuffleVisible?y.createElement(lh,{tooltipClassName:hb,icon:mb,title:(0,De.Z)("Shuffle"),tooltipAttachment:nh.eO,onPress:A}):null,s.isAddToPlaylistVisible?y.createElement(lh,{id:S,tooltipClassName:hb,icon:Th,title:(0,De.Z)("Add to Playlist"),tooltipAttachment:nh.eO,onPress:E.onToggle}):null,s.isAddToQueueVisible||s.isOptimizeVisible?y.createElement(lh,{id:b,tooltipClassName:hb,icon:kh,title:(0,De.Z)("More"),tooltipAttachment:nh.eO,onPress:M.onToggle}):null,y.createElement(mo.Z,{className:gb,isOpen:M.isOpen,target:b,onMenuClose:M.onClose},s.isAddToQueueVisible?y.createElement(ho.Z,{onPress:L},(0,De.Z)("Play Next")):null,s.isAddToQueueVisible?y.createElement(ho.Z,{onPress:x},(0,De.Z)("Add to Queue")):null,s.isOptimizeVisible?y.createElement(ho.Z,{onPress:O},(0,De.Z)("Optimize...")):null),s.isAddToPlaylistVisible&&w?y.createElement(mo.Z,{className:gb,isOpen:E.isOpen,target:S,onMenuClose:E.onClose},y.createElement(Zl,{sourceURI:P,playlistType:w,advancedFiltersRoute:n&&!a?Om({key:T,advancedFilters:1}):void 0,onPlaylistSave:j,onAddToPlaylistPress:D.onOpen,onMenuClose:E.onClose})):null,s.isAddToPlaylistVisible&&w?y.createElement(od,{isOpen:D.isOpen,playlistType:w,sourceURI:P,defaultDestinationSource:C,defaultPlaylistTitle:null!=(o=null==u?void 0:u.title)?o:(0,De.Z)("New Playlist"),onModalClose:D.onClose,onPlaylistSave:k}):null)}var vb=n(93143);const fb={disclosureArrowLink:"DisclosureArrowLink-disclosureArrowLink-3joxcC Link-link-2WGTd7",isSelected:"DisclosureArrowLink-isSelected-2y312N",small:"DisclosureArrowLink-small-3gIQHu",medium:"DisclosureArrowLink-medium-2Bjjl7",large:"DisclosureArrowLink-large-2dFQv-",disclosureArrow:"DisclosureArrowLink-disclosureArrow-Ym60tN DisclosureArrow-disclosureArrow-11pOBF",down:"DisclosureArrowLink-down-2yCbT8",left:"DisclosureArrowLink-left-1xbptX",up:"DisclosureArrowLink-up-3wADoB",right:"DisclosureArrowLink-right-aMBg7N"};var Ib=Object.prototype.hasOwnProperty,bb=Object.getOwnPropertySymbols,Mb=Object.prototype.propertyIsEnumerable,Sb=Object.assign;function Eb(e){var{className:t=fb.disclosureArrowLink,arrowClassName:n=fb.disclosureArrow,direction:i=pf.Down,size:s=We.Large,kind:r,children:a}=e,o=((e,t)=>{var n={};for(var i in e)Ib.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&bb)for(var i of bb(e))t.indexOf(i)<0&&Mb.call(e,i)&&(n[i]=e[i]);return n})(e,["className","arrowClassName","direction","size","kind","children"]);return y.createElement(xn,Sb({className:we()(t,fb[s]),"aria-haspopup":!0,kind:r,size:s},o),a,y.createElement(gc.Z,{className:we()(n,fb[i],fb[s]),direction:i,kind:r,size:s}))}function Db({children:e,filter:t,isPending:n,isSelected:i,onFilterSelect:s}){const r=(0,y.useCallback)((()=>{s(t)}),[t,s]);return y.createElement(ho.Z,{className:i?"DisclosureFilterMenuItem-isSelected-3OFId7":void 0,onPress:r},y.createElement("span",{className:"DisclosureFilterMenuItem-menuItemContainer-DSIVIp SelectedMenuItem-menuItemContainer-RdnVc0"},y.createElement("span",{className:"DisclosureFilterMenuItem-menuLabel-gceYJ5 SelectedMenuItem-menuLabel-1zwBwt"},e),n?y.createElement(qe,{className:"DisclosureFilterMenuItem-spinner-30mOau Spinner-spinner-CSMaLA spin-spin-oHlEXH",size:We.Small}):null,!n&&i?y.createElement("span",{className:"DisclosureFilterMenuItem-selectedIcon-3rJ8Ll SelectedMenuItem-selectedIcon-1JConG"},y.createElement(fa.Z,{"aria-label":(0,De.Z)("Selected")})):null))}const Cb=(0,de.P1)(wm,(e=>e.filterOptions)),Pb=function(e,t,n){const i=[...e];for(let n=0;n<e.length;n++)e[n].filter.filterType===ai.H_.Boolean==(t.filterType===ai.H_.Boolean)&&i.splice(n,1);return Em(i,{filter:t,operator:bm.Equal,value:n})},wb=function(e,t,n){return!!e.find((e=>e.filter.filter===t.filter&&(null==n||e.value===n)))},Tb=function(e,t,n){return e.filter((e=>!(e.filter.filter===t.filter&&(null==n||e.value===n))))},Zb=function(e,t){const n=t.reduce(((e,t)=>(e[t.filter.filter]=t.value,e)),{});return C.Z.join(e,db(n))},Nb="DirectoryListFilterMenu-selectedMenuItem-1f12td SelectedMenuItem-menuItemContainer-RdnVc0";function Ab({typeKey:e,directoryKey:t,pendingFilterKey:n,filters:i,activeFilterRules:s,advancedFiltersKey:r,hasQueryParserFeature:a,onClose:o,onFilterSelect:l}){const[c,d]=function(e){return e.reduce(((e,t)=>(t.filterType===ai.H_.Boolean?e[0].push(t):e[1].push(t),e)),[[],[]])}(i),u=jm(o);return y.createElement(Oe,{className:"DirectoryListFilterMenu-menuScroller-3XYxmO Scroller-scroller-3Rbtv0",autoScroll:!0},y.createElement(Ic.Z,{key:"all",to:Om({key:e}),isSelected:!s.length,onPress:u},(0,De.Z)("All")),c.map((e=>{const n=wb(s,e);return y.createElement(Ic.Z,{key:e.key,isSelected:n,to:Om({key:Zb(t,n?Tb(s,e):Pb(s,e,!0))}),onPress:u},e.title)})),c.length?y.createElement(go.Z,null):null,d.map((e=>y.createElement(Db,{key:e.key,filter:e,isSelected:wb(s,e),isPending:n===e.key,onFilterSelect:l},e.title))),a?y.createElement(y.Fragment,null,y.createElement(go.Z,null),y.createElement(Ic.Z,{to:Om({key:r,advancedFilters:1}),onPress:u},(0,De.Z)("Advanced Filters"))):null)}function xb({directoryKey:e,selectedFilter:t,filterOptions:n,activeFilterRules:i,height:s,onFilterDeselect:r,onMenuClose:a}){const[o,l]=(0,y.useState)(""),c=n.find((e=>wb(i,t,e.value))),d=jm(a),u=(0,y.useCallback)((e=>{l(e.target.value)}),[]);return y.createElement("div",{className:"DirectoryListFilterMenu-filterOptionsContainer-2F0ER4",style:{height:Math.max(s,356)},"data-qa-id":"secondFiltersList"},y.createElement("div",{className:"DirectoryListFilterMenu-headerContainer-2TbelN"},y.createElement("div",{className:"DirectoryListFilterMenu-header-3RSMtJ","data-qa-id":"filterHeader"},y.createElement("div",{className:"DirectoryListFilterMenu-headerTitle-Cmltmj"},y.createElement(xn,{"data-qa-id":"previousFilters",onPress:r},y.createElement(pp,{className:"DirectoryListFilterMenu-backIcon-21Pk9l","aria-label":(0,De.Z)("Back")}),y.createElement("span",{className:"DirectoryListFilterMenu-filterText-31zf84"},t.title))),n.length>12?y.createElement(Hl,{className:"DirectoryListFilterMenu-searchInput-2DcGuv TextInput-input-M2gRCL input-input-26w-zg",name:"filterOptionQuery",placeholder:(0,De.Z)("Filter {filterTitle}",{filterTitle:t.title}),value:o,onChange:u}):null),y.createElement(go.Z,null)),n.length?y.createElement(Oe,{className:"DirectoryListFilterMenu-filterOptionsScroller-2MI_Hh DirectoryListFilterMenu-menuScroller-3XYxmO Scroller-scroller-3Rbtv0",autoScroll:!0},c?y.createElement(Ic.Z,{key:c.key,isSelected:!0,to:Om({key:Zb(e,Tb(i,t))}),className:Nb,onPress:d},c.title):null,n.map((n=>{if(n===c||!n.title.toLowerCase().includes(o.toLowerCase()))return null;const s=wb(i,t,n.value);return y.createElement(Ic.Z,{key:n.key,className:Nb,isSelected:s,to:Om({key:Zb(e,Pb(i,t,n.value))}),onPress:d},n.title)}))):y.createElement("div",{className:"DirectoryListFilterMenu-emptyText-1ii0cF"},(0,De.Z)("No options")))}function Lb({className:e,directoryKey:t,type:n}){const[i,s]=cn(),r=(0,f.I0)(),[a,o]=(0,y.useState)(),[l,{height:c}]=(0,Mp.Z)(),d=(0,ra.Z)(),{isOpen:u,onToggle:p,onClose:m}=(0,Dl.Z)(),h=null==n?void 0:n.Filter,g=(0,y.useMemo)((()=>Nm(t)),[t]),v=(0,f.v9)(g),I=(0,f.v9)(Cb),b=(0,y.useMemo)((()=>a?I[a]:void 0),[a,I]),M=(0,y.useMemo)((()=>null==h?void 0:h.find((e=>e.key===a))),[a,h]),S=(0,y.useMemo)((()=>({scrollDirection:vb.Hn})),[]),E=(0,y.useMemo)((()=>null==v?void 0:v.filterRules.find((({filter:e})=>e.filterType!==ai.H_.Boolean))),[null==v?void 0:v.filterRules]),D=(0,y.useMemo)((()=>E?I[E.filter.key]:void 0),[E,I]),C=(0,y.useMemo)((()=>null==v?void 0:v.filterRules.map((e=>{var t;const n=E?null==(t=I[E.filter.key])?void 0:t.options.find((e=>e.value===(null==E?void 0:E.value))):void 0;return n&&n.field===(null==E?void 0:E.filter.filter)?n.title:e.filter.title})).join(", ")),[null==v?void 0:v.filterRules,I,E]),P=!!(0,Ft.Z)(s,At.zW.QueryParser),w=(0,y.useMemo)((()=>n?ub(t,n):t),[n,t]),T=(0,y.useCallback)((e=>{r(qm.actions.fetchFilterOptionsRequested({server:i,provider:s,filter:e}))}),[r,s,i]),Z=(0,y.useCallback)((e=>{o(e.key),T(e)}),[T]),N=(0,y.useCallback)((()=>{o(void 0)}),[]),A=(0,y.useCallback)((()=>{m()}),[m]);if((0,y.useEffect)((()=>{!E||(null==D?void 0:D.isPopulated)||(null==D?void 0:D.isPending)||T(E.filter)}),[D,T,E]),!n||!h||!v)return null;const{strippedKey:x,filterRules:L}=v;return y.createElement(y.Fragment,null,y.createElement(Eb,{className:e,id:d,direction:u?pf.Up:pf.Down,onPress:p},C||(0,De.Z)("All")),y.createElement(mo.Z,{target:d,isOpen:u,size:vc.ln,scrollerProps:S,onMenuClose:A},y.createElement("div",{className:"DirectoryListFilterMenu-measureContainer-1_X2tC",ref:l},(null==b?void 0:b.isPopulated)&&M?y.createElement(xb,{height:c,directoryKey:x,selectedFilter:M,activeFilterRules:L,filterOptions:b.options,onFilterDeselect:N,onMenuClose:A}):y.createElement(Ab,{typeKey:n.key,directoryKey:x,pendingFilterKey:(null==b?void 0:b.isPending)?a:void 0,filters:h,activeFilterRules:L,hasQueryParserFeature:P,advancedFiltersKey:w,onClose:A,onFilterSelect:Z}))))}function Ob({className:e,directoryKey:t,sorts:n}){const i=(0,ra.Z)(),{isOpen:s,onToggle:r,onClose:a}=(0,Dl.Z)(),o=KI(n),l=jm(a);return!n||!o||n.length<2?null:y.createElement(y.Fragment,null,y.createElement(Eb,{className:e,id:i,direction:s?pf.Up:pf.Down,onPress:r},(0,De.Z)("By {sortTitle}",{sortTitle:o.title})),y.createElement(mo.Z,{target:i,isOpen:s,onMenuClose:a},n.map((e=>y.createElement(Ic.Z,{key:e.key,to:Om({key:C.Z.join(t,{sort:hf(e)},{parseParams:!0})}),isSelected:e.active,iconComponent:e.activeDirection===ai.Sr.Ascending?Av.Z:xv.Z,onPress:l},e.title)))))}function jb(e){switch(e){case ri.pG.Movie:return ri.A.Movie;case ri.pG.Show:return ri.A.Show;case ri.pG.Season:return ri.A.Season;case ri.pG.Episode:return ri.A.Episode;case ri.pG.Person:return ri.A.Person;case ri.pG.Artist:return ri.A.Artist;case ri.pG.Album:return ri.A.Album;case ri.pG.Track:return ri.A.Track;case ri.pG.Clip:return ri.A.Clip;case ri.pG.Photo:return ri.A.Photo;case ri.pG.PhotoAlbum:return ri.A.PhotoAlbum;case ri.pG.Playlist:return ri.A.Playlist;case ri.pG.Collection:return ri.A.Collection;case ri.pG.Game:return ri.A.Game}!function(e){throw new Error(`"${e}" is not mapped to a numeric type`)}(e)}function kb({className:e,activeType:t,types:n,advancedFilters:i,directoryKey:s}){const r=(0,ra.Z)(),{isOpen:a,onToggle:o,onClose:l}=(0,Dl.Z)(),c=jm(l);return!n||!t||n.length<2?null:y.createElement(y.Fragment,null,y.createElement(Eb,{className:e,id:r,direction:a?pf.Up:pf.Down,onPress:o},t.title),y.createElement(mo.Z,{target:r,isOpen:a,onMenuClose:l},n.map((e=>{const n=(0,Cu.Z)(e.type);return y.createElement(Ic.Z,{key:e.key,to:e.type===Bt.U.Folder?Om({key:e.key,advancedFilters:void 0}):Om({key:i&&n?s.replace(/type=\w+/,`type=${jb(n)}`):e.key}),isSelected:t===e&&e.active,onPress:c},e.title)}))))}var Rb=n(17215);const zb=(0,de.P1)(Zm,(e=>e?KI(e.Sort):void 0)),Ub=function({className:e="PageHeaderLeftGutter-container-2DnCMp",innerClassName:t="PageHeaderLeftGutter-innerContainer-1aV7NA",children:n}){return y.createElement("div",{className:e},y.createElement("div",{className:t},n))};function Vb(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-close-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M280,0C434.536,0 560,125.464 560,280C560,434.536 434.536,560 280,560C125.464,560 0,434.536 0,280C0,125.464 125.464,0 280,0ZM435.563,171.005L388.995,124.437L280,233.431L171.005,124.437L124.436,171.005L233.431,280L124.436,388.995L171.005,435.564L280,326.569L388.995,435.564L435.564,388.995L326.569,280L435.563,171.005Z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Vb.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const Bb=Vb;function Fb({className:e="DirectoryToolbarClearFiltersButton-gutter-1YruUb PageHeaderLeftGutter-container-2DnCMp",buttonClassName:t="DirectoryToolbarClearFiltersButton-resetButton-1ZlgES ToolbarButton-toolbarButton-HjswtL",advancedFilters:n}){const{containerKey:i}=_n(),s=(0,y.useMemo)((()=>Nm(i)),[i]),r=(0,f.v9)(s),a=(0,f.v9)(Zm),o=(0,f.v9)(zb),l=jm();return(null==r?void 0:r.filterRules.length)||n?y.createElement(Ub,{className:e},y.createElement(Rb.Z,{className:t,tooltip:(0,De.Z)("Clear Filter"),to:Om({key:a?C.Z.join(a.key,o?{sort:o.activeDirection===ai.Sr.Ascending?o.key:o.descKey}:{},{parseParams:!0}):"",advancedFilters:void 0}),onPress:l},y.createElement(Bb,null))):null}function Hb({className:e,children:t}){return y.createElement("div",{className:e},t)}Hb.defaultProps={className:"PageHeaderLeft-pageHeaderLeft-3u7DxT"};const _b=Hb;var Qb=n(12813);const Gb="DirectoryListToolbar-disclosureArrowLink-1gGPVi DisclosureArrowLink-disclosureArrowLink-3joxcC Link-link-2WGTd7";function Yb({className:e="DirectoryListToolbar-pageHeader-1VevdA PageHeader-pageHeader-WpvbJc",directoryKey:t,meta:n,activeType:i,selectedPivot:s,advancedFilters:r,totalSize:a}){var o,l,c,d,u,p;const[m,h]=cn(),{listStyle:g}=_n(),v=(0,y.useMemo)((()=>function({server:e,provider:t,activeType:n}){const i=n?ab[n.type]:void 0;return i?i.reduce(((i,s)=>{const r=lb[s];return i[s]=!!(e&&t&&n)&&r({server:e,provider:t,activeType:n}),i}),{}):{}}({server:m,provider:h,activeType:i})),[i,h,m]),f=(0,y.useMemo)((()=>(0,Mm.su)(v).some((e=>e))),[v]),I=null!=(l=null==(o=null==n?void 0:n.Type)?void 0:o.length)?l:0,b=null!=(d=null==(c=null==i?void 0:i.Filter)?void 0:c.length)?d:0,M=null!=(p=null==(u=null==i?void 0:i.Sort)?void 0:u.length)?p:0;return!n||I<=1&&b<1&&M<=1?null:y.createElement(Ph,{className:e},y.createElement(_b,null,y.createElement(Fb,{advancedFilters:r}),r?y.createElement("span",{className:"DirectoryListToolbar-infoText-R7nr1m"},(0,De.Z)("Advanced Filters")):y.createElement(Lb,{className:Gb,directoryKey:t,type:i}),y.createElement(kb,{className:Gb,activeType:i,types:null==n?void 0:n.Type,directoryKey:t,advancedFilters:r}),g!==Bt.n.Table?y.createElement(Ob,{className:Gb,directoryKey:t,sorts:null==i?void 0:i.Sort}):null,null!=a?y.createElement(rb.Z,null,a):null),f?y.createElement(Qb.Z,null,y.createElement(yb,{activeType:i,selectedPivot:s,listActions:v,totalSize:a,directoryKey:t,advancedFilters:r})):null)}const Wb=rs("savedDirectoryListKeys"),Kb=(0,Ht.Z)((function(e,t,n){return(0,de.P1)(Wb,(i=>{const s=n?(0,jt.Z)({serverIdentifier:e,providerIdentifier:t,key:n}):void 0;return s?i[s]:void 0}))})),qb=(0,de.P1)(ei,(e=>e.metadataLists)),$b=(0,de.P1)(wm,qb,(({metadataListSourceURI:e},t)=>e?t[e]:void 0));var Jb=Object.assign;const Xb=function(e){return(0,de.P1)(Tm,(t=>{const n=t?(0,Pm.Z)(t):void 0;if(!n||!e)return[Bt.n.Grid];if(function(e){const{providerIdentifier:t}=(0,Vn.Z)(e);return pa.wB(t,[pa.Ll,pa.vP])}(e))return[Bt.n.Grid];if(n.type===Bt.U.Folder)return[Bt.n.Folder];switch(n.subtype){case ri.y_.Webshow:switch(n.type){case Bt.U.Show:case Bt.U.Episode:return[Bt.n.Grid]}break;case ri.y_.Podcast:switch(n.type){case Bt.U.Show:case Bt.U.Track:return[Bt.n.Grid]}}switch(n.type){case Bt.U.Movie:case Bt.U.Show:case Bt.U.Album:case Bt.U.Episode:return[Bt.n.Grid,Bt.n.Details,Bt.n.Table];case Bt.U.Artist:case Bt.U.Season:return[Bt.n.Grid,Bt.n.Table];case Bt.U.Track:return[n.Sort?Bt.n.Table:Bt.n.Grid];default:return[Bt.n.Grid]}}))},eM=function(e){return(0,de.P1)(rs("directoryListStyles"),Xb(e),((t,n)=>{if(!e||!n.length)return;const i=t[e];return i&&n.includes(i)?i:n[0]}))},tM=(0,Ht.Z)((function(e){return(0,de.P1)(zb,Nm(e),((e,t)=>t&&(null==e?void 0:e.firstCharacterKey)?C.Z.join(Zb(e.firstCharacterKey,t.filterRules),{sort:e.activeDirection===ai.Sr.Ascending?e.key:e.descKey,includeCollections:1,includeExternalMedia:1},{parseParams:!0}):void 0))}));var nM=Object.assign;function iM({sourceURI:e,directoryKey:t,selectedPivot:n,listStyle:i}){var s;const r=(0,f.I0)(),[a,o]=cn(),l=un(),c=Xi.Z.parseBoolean(l.advancedFilters),[d,{height:u}]=(0,Mp.Z)(),{meta:p,metadataListSourceURI:m,firstCharacters:h}=(0,f.v9)(wm),g=(0,f.v9)($b),v=p?(0,Pm.Z)(p):void 0,I=null!=(s=null==v?void 0:v.type)?s:Bt.U.Mixed,b=null==v?void 0:v.subtype,M=function({machineIdentifier:e,providerIdentifier:t,directoryKey:n,meta:i,activeType:s,selectedPivot:r,advancedFilters:a}){const o=(0,f.I0)(),l=(0,f.v9)($b),c=(0,f.v9)(Wb),d=(0,f.v9)(Kb(e,t,null==r?void 0:r.key)),u=n||(null!=d?d:null==r?void 0:r.key),p=(null==r?void 0:r.key)?(0,jt.Z)({serverIdentifier:e,providerIdentifier:t,key:null==r?void 0:r.key}):void 0;return(0,y.useEffect)((()=>{!(p&&u&&r&&r.type===At.F6.List&&d!==u)||r.key===u&&null==d||!(null==l?void 0:l.isPopulated)||(null==i?void 0:i.Pivot)||(null==s?void 0:s.type)===Bt.U.Folder&&(null==s?void 0:s.key)!==u||a||o((0,Nv.LN)({savedDirectoryListKeys:Jb(Jb({},c),{[p]:u})}))}),[null==l?void 0:l.isPopulated,u,o,p,d,c,r,null==i?void 0:i.Pivot,null==s?void 0:s.type,null==s?void 0:s.key,a]),u}({machineIdentifier:a.machineIdentifier,providerIdentifier:o.identifier,directoryKey:t,meta:p,activeType:v,selectedPivot:n,advancedFilters:c}),S=(0,y.useMemo)((()=>M?C.Z.join(M,{includeCollections:1,includeExternalMedia:1}):void 0),[M]),E=(0,f.v9)(tM(S)),[D,P]=(0,y.useState)(),w=(0,y.useMemo)((()=>eM(e)),[e]),T=(0,f.v9)(w),Z=null!=i?i:T,N=(0,f.v9)(ch),A=null!=E&&!(null==h?void 0:h.isPopulated)&&!(null==h?void 0:h.error)||!(null==g?void 0:g.isPopulated)&&!(null==g?void 0:g.error),x=(0,ag.Z)(A,!0,250),L=(0,y.useCallback)((e=>{m&&r(Gn.Z.actions.fetchRangeRequested(nM(nM({},e),{server:a,provider:o,sourceURI:m,key:S})))}),[r,a,o,m,S]),O=(0,y.useCallback)((()=>{m&&r(Gn.Z.actions.repopulateRangeRequested({server:a,provider:o,sourceURI:m,key:S}))}),[S,r,m,o,a]),j=(0,y.useCallback)((e=>{P(e)}),[]);if($l({},!!(null==g?void 0:g.isPopulated)),$m(O),(0,y.useEffect)((()=>(S&&(0,Rt.c9)((()=>{r(qm.actions.initializeListRequested({server:a,provider:o,sourceURI:e,metadataListSourceURI:m,key:S}))})),()=>{(0,Rt.c9)((()=>{m&&r(Gn.Z.actions.reset({sourceURI:m}))}))})),[r,S,m,e]),(0,y.useEffect)((()=>{E&&null!=(null==g?void 0:g.totalSize)&&r(qm.actions.fetchFirstCharactersRequested({server:a,provider:o,key:E}))}),[r,a,o,E,null==g?void 0:g.totalSize]),(0,y.useEffect)((()=>{null!=D&&P(void 0)}),[D]),!M)return y.createElement(Un,null);if(null==g?void 0:g.error){const{status:e}=g.error;return 404===e?y.createElement(Un,null):406===e?y.createElement(sb,{pivot:n}):y.createElement(He,null)}return g&&e===m?y.createElement(Qn,{containerServer:a,containerProvider:o,containerSourceURI:e,containerType:I,containerSubtype:b,containerMeta:p,containerKey:S,listStyle:Z},N?y.createElement(Gh,null):y.createElement(Yb,{totalSize:g.totalSize,meta:p,directoryKey:M,activeType:v,selectedPivot:n,advancedFilters:c}),y.createElement(tg,{serverEntityID:a.entityID,providerEntityID:o.entityID}),c&&p?y.createElement(WI,{meta:p,directoryKey:M,totalSize:g.totalSize}):null,null==g.totalSize||x?y.createElement(Ve,null,y.createElement(qe,null)):y.createElement("div",{className:"DirectoryListPageContent-listContainer-1Xi5ny",ref:d},u?y.createElement(y.Fragment,null,0===g.totalSize?y.createElement(Um,{directoryKey:M,selectedPivot:n}):y.createElement(Pf,{className:"DirectoryListPageContent-pageContentScroller-2zymKo PageContent-pageContentScroller-18TqCp Scroller-scroller-3Rbtv0",listType:I,subtype:b,activeType:v,items:g.items,totalSize:g.totalSize,scrollerKey:"DirectoryListPage",targetScrollIndex:D,onPageRequest:L})):null,v&&u&&null!=g.totalSize?y.createElement(eb,{activeType:v,viewportHeight:u,listTotalSize:g.totalSize,onFirstCharacterScroll:j}):null)):y.createElement(Ve,null,y.createElement(qe,null))}var sM=n(21508);function rM(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 361.506",id:"plex-icon-devices"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["g",{stroke:"#e5a00d",strokeWidth:"2.95"}].concat([y.createElement.apply(y,["path",{d:"M429.683 360.028h-128.55c-3.944 0-7.606-1.77-10.045-4.86a12.609 12.609 0 01-2.384-10.87l12.32-50.859h128.774l12.322 50.86c.929 3.818.059 7.783-2.384 10.87a12.729 12.729 0 01-10.053 4.859zm-121.35-57.343l-10.607 43.78c-.345 1.436.263 2.484.655 2.988a3.448 3.448 0 002.753 1.328h128.55c1.483 0 2.366-.83 2.758-1.337.392-.495 1-1.543.655-2.98l-10.607-43.779z"}].concat([])),y.createElement.apply(y,["path",{d:"M304.68 302.685h-38.937c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h38.937c2.564 0 4.641 2.068 4.641 4.623s-2.077 4.623-4.64 4.623zM541.294 302.685H426.146c-2.567 0-4.644-2.065-4.644-4.62s2.077-4.625 4.644-4.625h115.148c4.384 0 7.949-3.548 7.949-7.918v-26.599H265.929c-2.566 0-4.642-2.067-4.642-4.622 0-2.556 2.076-4.623 4.642-4.623h292.596v35.844c0 9.462-7.728 17.163-17.231 17.163z"}].concat([])),y.createElement.apply(y,["path",{d:"M553.884 258.922a4.628 4.628 0 01-4.641-4.622V18.63c0-4.361-3.565-7.91-7.949-7.91H189.53c-4.384 0-7.947 3.549-7.947 7.91v58.967c0 2.555-2.076 4.623-4.642 4.623-2.566 0-4.642-2.068-4.642-4.623V18.63c0-9.462 7.729-17.155 17.23-17.155h351.765c9.503 0 17.23 7.693 17.23 17.155V254.3a4.628 4.628 0 01-4.64 4.622zM100.935 360.028H18.04c-9.135 0-16.565-7.403-16.565-16.496v-154.33c0-9.092 7.43-16.495 16.565-16.495h82.895c9.135 0 16.565 7.403 16.565 16.495v154.33c0 9.093-7.43 16.496-16.565 16.496zM18.04 181.952c-4.017 0-7.28 3.25-7.28 7.25v154.33c0 4 3.263 7.249 7.28 7.249h82.895c4.017 0 7.281-3.249 7.281-7.25V189.203c0-4-3.264-7.25-7.28-7.25z"}].concat([])),y.createElement.apply(y,["path",{d:"M112.088 206.735H7.777c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h104.311c2.566 0 4.642 2.068 4.642 4.623s-2.076 4.623-4.642 4.623zM112.088 323.353H7.777c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.624 4.642-4.624h104.311c2.566 0 4.642 2.069 4.642 4.624 0 2.555-2.076 4.623-4.642 4.623zM67.384 194.348H55.462c-2.566 0-4.642-2.067-4.642-4.623 0-2.555 2.076-4.622 4.642-4.622h11.922c2.566 0 4.642 2.067 4.642 4.622 0 2.556-2.076 4.623-4.642 4.623zM59.488 349.359c-6.56 0-11.9-5.32-11.9-11.855 0-6.53 5.34-11.846 11.9-11.846 6.56 0 11.9 5.316 11.9 11.846 0 6.535-5.34 11.855-11.9 11.855zm0-14.458a2.611 2.611 0 00-2.616 2.603 2.618 2.618 0 002.616 2.608 2.618 2.618 0 002.616-2.608 2.611 2.611 0 00-2.616-2.603z"}].concat([])),y.createElement.apply(y,["path",{d:"M226.172 360.03h-91.097c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h91.097c6.85 0 12.42-5.553 12.42-12.369V117.552c0-6.817-5.57-12.37-12.42-12.37H107.536c-6.846 0-12.417 5.553-12.417 12.37v40.277c0 2.555-2.076 4.623-4.642 4.623-2.566 0-4.642-2.068-4.642-4.623v-40.277c0-11.918 9.733-21.615 21.7-21.615h118.637c11.967 0 21.705 9.697 21.705 21.615v220.863c0 11.917-9.738 21.616-21.705 21.616z"}].concat([])),y.createElement.apply(y,["path",{d:"M242.129 136.557H92.848c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h149.28c2.567 0 4.643 2.068 4.643 4.623s-2.076 4.623-4.642 4.623zM242.129 315.593h-106.46c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h106.46c2.566 0 4.642 2.068 4.642 4.623s-2.076 4.623-4.642 4.623zM178.151 122.94h-17.059c-2.566 0-4.642-2.067-4.642-4.622 0-2.555 2.076-4.623 4.642-4.623h17.06c2.565 0 4.641 2.068 4.641 4.623s-2.076 4.623-4.642 4.623zM166.854 348.158c-8.287 0-15.028-6.715-15.028-14.968 0-8.252 6.741-14.97 15.028-14.97s15.028 6.718 15.028 14.97c0 8.253-6.741 14.968-15.028 14.968zm0-20.695c-3.169 0-5.744 2.567-5.744 5.727s2.575 5.724 5.744 5.724c3.169 0 5.744-2.564 5.744-5.724s-2.575-5.727-5.744-5.727zM380.652 30.415h-30.481a4.628 4.628 0 01-4.641-4.623 4.628 4.628 0 014.64-4.623h30.482a4.628 4.628 0 014.641 4.623 4.628 4.628 0 01-4.64 4.623z"}].concat([]))]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}rM.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const aM=rM;var oM=n(54183);function lM(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-parental-controls"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["g",void 0].concat([y.createElement.apply(y,["path",{d:"M548.3 559.273H361.152c-6.456 0-11.696-5.22-11.696-11.657V407.73c0-6.435 5.24-11.657 11.696-11.657H548.3c6.457 0 11.7 5.222 11.7 11.657v139.885c0 6.437-5.243 11.657-11.7 11.657zm-175.451-23.315h163.756v-116.57H372.849z"}].concat([])),y.createElement.apply(y,["path",{d:"M454.726 512.644c-6.457 0-11.697-5.22-11.697-11.657v-34.97c0-6.435 5.24-11.657 11.697-11.657 6.457 0 11.697 5.222 11.697 11.657v34.97c0 6.438-5.24 11.657-11.697 11.657z"}].concat([])),y.createElement.apply(y,["path",{d:"M454.727 489.33c12.92 0 23.392-10.44 23.392-23.314 0-12.876-10.472-23.314-23.392-23.314s-23.394 10.438-23.394 23.314c0 12.875 10.474 23.314 23.394 23.314zM524.905 419.388c-6.457 0-11.695-5.223-11.695-11.658v-23.314c0-32.127-26.222-58.286-58.484-58.286-32.26 0-58.484 26.159-58.484 58.286v23.314c0 6.435-5.24 11.658-11.697 11.658-6.457 0-11.697-5.223-11.697-11.658v-23.314c0-44.997 36.728-81.6 81.878-81.6 45.152 0 81.879 36.603 81.879 81.6v23.314c0 6.435-5.244 11.658-11.7 11.658zM11.7 559.772c-.936 0-1.872-.114-2.831-.347-6.293-1.565-10.083-7.884-8.516-14.131l14.06-56.002c6.854-27.23 26.856-48.773 53.548-57.632l103.821-34.482c24.4-10.165 35.816-50.429 38.272-65.7-17.919-16.367-34.599-40.987-34.599-63.135 0-8.253-2.456-11.657-3.743-12.287-3.65-.91-5.708-3.217-7.112-6.691-1.286-3.194-12.539-31.778-12.539-50.965 0-.956.117-1.912.352-2.821 1.286-5.106 4.865-12.59 11.345-16.973v-61.807C163.758 68.12 208.253.228 280.727.228c71.584 0 91.048 36.58 93.317 54.672 12.141 8.93 23.65 24.34 23.65 61.9v61.806c6.48 4.383 10.084 11.844 11.347 16.973.234.932.35 1.865.35 2.82 0 19.188-11.228 47.772-12.538 50.966-1.404 3.474-4.375 6.085-8.024 6.97-.351.35-2.83 3.755-2.83 12.008 0 21.1-8.353 32.034-13.358 38.562l-1.755 2.401c-3.603 5.362-10.878 6.761-16.212 3.218-5.38-3.59-6.83-10.818-3.252-16.18.749-1.096 1.638-2.285 2.62-3.591 4.024-5.246 8.562-11.19 8.562-24.41 0-17.416 7.23-27.091 14.083-31.638 3.369-9.139 8.726-25.715 9.264-36.533-.421-.933-.959-1.866-1.333-2.192-6.457 0-10.317-4.78-10.317-11.214v-69.967c0-34.318-11.065-41.313-15.79-44.297-2.831-1.795-7.603-4.803-8.282-11.214-.163-1.376.048-2.961.491-4.546-1.637-9.233-15.673-33.2-69.993-33.2-57.104 0-93.575 55.232-93.575 93.257v69.944c0 6.434-5.24 11.657-11.697 11.657.562 0 .35.792.048 1.678.515 10.842 5.918 27.488 9.264 36.604 6.854 4.57 14.083 14.222 14.083 31.638 0 15.69 15.51 36.673 30.833 49.31a11.633 11.633 0 014.257 8.975c0 14.805-13.498 75.539-53.992 92.349L75.33 453.739c-19.065 6.318-33.383 21.729-38.249 41.172l-14.06 56.002c-1.286 5.339-6.058 8.86-11.322 8.86z"}].concat([]))]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}lM.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const cM=lM,dM="PlexAccountUpsellPageContent-panel-3idWPQ",uM="PlexAccountUpsellPageContent-panelIcon-1ZltNO",pM="PlexAccountUpsellPageContent-panelTitle-2ILDzh",mM="PlexAccountUpsellPageContent-panelDescription-TBgJjR";function hM(){return y.createElement(Ve,{title:(0,De.Z)("Sign up for a free account to continue"),description:(0,De.Z)("Some benefits to a Plex account:")},y.createElement("div",{className:"PlexAccountUpsellPageContent-container-1kAyuo"},y.createElement("div",{className:dM},y.createElement(aM,{className:uM}),y.createElement("div",{className:pM},(0,De.Z)("One App, Any Device")),y.createElement("div",{className:mM},(0,De.Z)("Pick up whatever you were watching exactly where you left off on any device"))),y.createElement("div",{className:dM},y.createElement(oM.Z,{className:uM}),y.createElement("div",{className:pM},(0,De.Z)("Save Your Favorites")),y.createElement("div",{className:mM},(0,De.Z)("Save your favorite Podcasts and Web Shows. Add a TIDAL subscription to save your favorite music and playlists"))),y.createElement("div",{className:dM},y.createElement(cM,{className:uM}),y.createElement("div",{className:pM},(0,De.Z)("Parental Controls")),y.createElement("div",{className:mM},(0,De.Z)("Enable parental controls to keep things kid-friendly, or create separate accounts for your childish roommates")))),y.createElement(sM.Z,null,y.createElement(zn,{to:"#!/signUp",kind:Dn.Primary,size:We.Large},(0,De.Z)("Sign Up"))))}function gM({className:e}){const t=(0,f.I0)(),n=(0,f.v9)(rs("columnWidthMultiplier")),[i,s]=(0,y.useState)(n),r=(0,y.useCallback)((({positionValue:e})=>{s(e)}),[]);return(0,y.useEffect)((()=>{const e=Math.round(10*i)/10;let s;return i!==n&&(s=window.setTimeout((()=>{t((0,Nv.LN)({columnWidthMultiplier:e}))}),100)),()=>window.clearTimeout(s)}),[n,t,i]),y.createElement(vr.Z,{className:e,label:(0,De.Z)("Poster Size"),value:i,min:1,max:2,onChange:r})}function yM(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-column-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m504 504h-448v-44.8h448v44.8m-448-156.8h448v44.8h-448v-44.8m448-112v44.8h-448v-44.8h448m0-67.2h-448v-112h448v112"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}yM.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const vM=yM;function fM(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-detail-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m56 168h112v-112h-112v112m0 168h112v-112h-112v112m0 168h112v-112h-112v112m168-369.6h280v-44.8h-280v44.8m0 168h280v-44.8h-280v44.8m0 168h280v-44.8h-280v44.8"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}fM.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const IM=fM;function bM(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-grid-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m56 392l112 0 0 112-112 0 0-112m168 0l112 0 0 112-112 0 0-112m280 0l0 112-112 0 0-112 112 0m-448-168l112 0 0 112-112 0 0-112m168 0l112 0 0 112-112 0 0-112m168 0l112 0 0 112-112 0 0-112m-336-168l112 0 0 112-112 0 0-112m336 0l112 0 0 112-112 0 0-112m-168 0l112 0 0 112-112 0 0-112"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}bM.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const MM=bM;function SM({listStyles:e,selectedListStyle:t,onListStyleSelect:n}){const i=(0,Dl.Z)(),s=(0,ra.Z)(),r=(0,y.useCallback)((e=>{i.onClose(),null==n||n(e)}),[i,n]),a=e.length>1,o=t===Bt.n.Grid||t===Bt.n.PrePlayGrid,l=function(e){switch(e){case Bt.n.Details:case Bt.n.SimpleDetails:return IM;case Bt.n.Table:return vM;default:return MM}}(t);return o||a?y.createElement("div",{className:"MetadataListStylesMenu-stylesContainer-1jthk5"},o?y.createElement(gM,{className:"MetadataListStylesMenu-slider-1f0EqT Slider-slider-4zRCDI"}):null,y.createElement(xn,{id:s,"data-qa-id":"toolbarView",className:a?"MetadataListStylesMenu-stylesButtonWithArrow-BSNHYE MetadataListStylesMenu-stylesButton-ABbKB6 Link-link-2WGTd7":"MetadataListStylesMenu-stylesButton-ABbKB6 Link-link-2WGTd7","aria-label":(0,De.Z)("Show List Styles"),isDisabled:!a,onPress:i.onToggle},y.createElement(l,{className:"MetadataListStylesMenu-stylesIcon-1xPPD0"}),a?y.createElement(gc.Z,{direction:i.isOpen?yc.UP:yc.WV}):null),a?y.createElement(mo.Z,{target:s,isOpen:i.isOpen,onMenuClose:i.onClose},e.map((e=>{const n=function(e){switch(e){case Bt.n.Grid:case Bt.n.PrePlayGrid:return(0,De.Z)("Grid View");case Bt.n.Details:case Bt.n.SimpleDetails:return(0,De.Z)("Detail View");case Bt.n.Table:return(0,De.Z)("Table View");default:return}}(e);return n?y.createElement(Ic.Z,{key:e,isSelected:t===e,title:n,value:e,onSelect:r},n):null}))):null):null}var EM=n(98862),DM=n(83154),CM=n(36600),PM=n(58605);function wM(e){const{sourceType:t,sourceServer:n,sourceProvider:i,sourceDirectory:s}=e,r={key:(0,CM.Z)(t,n.machineIdentifier,i.identifier,s.id),sourceType:t,serverEntityID:n.entityID,machineIdentifier:n.machineIdentifier,providerEntityID:i.entityID,providerIdentifier:i.identifier,providerMetricsIdentifier:i.metricsIdentifier,directoryID:s.id,directoryIcon:s.icon,title:s.title,serverFriendlyName:n.friendlyName,serverSourceTitle:n.sourceTitle,providerSourceTitle:i.sourceTitle,isLocal:n.isConnected&&n.activeConnection&&n.activeConnection.isPrivate,isUnavailable:n.isUnavailable,isOutOfDate:n.isOutOfDate,isUnclaimedServer:n.isConnected&&!n.isClaimed&&!n.isCloud,isFullOwnedServer:n.isFullOwnedServer,isProviderReady:i.isPopulated||null!=i.error||n.isUnavailable||n.isUnauthorized};return n.isCloud?r.isCloud=!0:t===PM.Hs&&(r.title=(0,De.Z)("Live TV & DVR")),r}var TM=n(94716);function ZM(e){const{friendlyName:t,isShared:n}=e;return n?t:void 0}function NM(e){const{friendlyName:t,sourceTitle:n,isShared:i}=e;return i?n:t}var AM=n(48604);const xM=function(e){const{title:t,detail:n,route:i}=e,s=i?AM.Z:"div";return y.createElement(s,{className:i?"PageHeaderTitle-containerWithRoute-1OvXqE PageHeaderTitle-container-2mZs40":"PageHeaderTitle-container-2mZs40",to:i},y.createElement("div",{className:"PageHeaderTitle-title-2aM_Ao"},t),n?y.createElement("div",{className:"PageHeaderTitle-detail-Kgq3Y6"},n):null)};var LM=Object.prototype.hasOwnProperty,OM=Object.getOwnPropertySymbols,jM=Object.prototype.propertyIsEnumerable,kM=Object.assign;class RM extends y.Component{shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const e=this.props,{children:t,iconComponent:n,label:i,isMenuOpen:s}=e,r=((e,t)=>{var n={};for(var i in e)LM.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&OM)for(var i of OM(e))t.indexOf(i)<0&&jM.call(e,i)&&(n[i]=e[i]);return n})(e,["children","iconComponent","label","isMenuOpen"]);return y.createElement(Rb.Z,kM({"aria-haspopup":!0,"data-qa-id":"toolbarMore",tooltip:s?void 0:i,hideOnPress:!1},r),y.createElement(n,null),t)}}const zM=RM;var UM=n(77909),VM=n(77414);const BM=function(){return(0,de.P1)((0,UM.Z)(),(0,VM.Z)(),((e,t)=>e?E().find(t,(t=>t.type===Oa.JW&&t.Context.identifier===e.identifier)):null))};var FM=n(88413),HM=n(74995);const _M=(0,de.P1)(ye.Z,(e=>e.sidebarSettings)),QM=(0,de.P1)(_M,(e=>e.pinnedSources));var GM=n(46453),YM=n(87691);const WM=ls().shape({key:ls().string,directoryID:ls().string,directoryIcon:ls().string,sourceType:ls().string,title:ls().string,titleDetail:ls().string,detail:ls().string,route:ls().string,machineIdentifier:ls().string,providerIdentifier:ls().string,providerMetricsIdentifier:ls().string,isUnavailable:ls().bool,isOutOfDate:ls().bool,isUnclaimedServer:ls().bool,isSelected:ls().bool,isCloud:ls().bool});var KM=n(95688),qM=n(26564),$M=n(27940),JM=n(28440),XM=Object.assign;const eS="provider/fetchCloudProviders",tS="provider/populateCloudProviders",nS="providers/fetchProvider",iS="providers/populateProvider",sS=(0,No.Z)(eS),rS=(0,No.Z)(tS),aS=(0,No.Z)(nS,(e=>{const{options:t={}}=e;return XM(XM({},e),{options:XM(XM({},t),{allowHeadersInUrl:!1})})})),oS=(0,No.Z)(iS),lS={[eS]:(0,qM.Z)({key:"providers",getModel:JM.VX}),[tS]:(0,$M.Z)({key:"providers",fetchActionCreator:sS,getModel:JM.VX}),[nS]:(0,qM.Z)({getModel:JM.js}),[iS]:(0,$M.Z)({getModel:JM.js,fetchActionCreator:aS})};var cS=n(53145),dS=n(32901),uS=n(88630),pS=n(47486),mS=n(67006),hS=n(17146),gS=n(57054),yS=n(15902),vS=n(28725),fS=Object.assign;const IS="provider/addToCatalog",bS="provider/clearAddToCatalogError",MS="provider/scanLibraryFiles",SS="provider/editLibrary",ES="provider/analyzeLibrary",DS="provider/emptyLibraryTrash",CS="provider/deleteLibrary",PS="provider/upgradeLibrary",wS=(0,No.Z)(IS),TS=(0,No.Z)(bS),ZS=(0,No.Z)(MS),NS=(0,No.Z)(SS),AS=(0,No.Z)(DS),xS=(0,No.Z)(ES),LS=(0,No.Z)(CS),OS=(0,No.Z)(PS),jS=(0,No.Z)(MS,(e=>fS(fS({},e),{force:!0}))),kS=(0,No.Z)(MS,(e=>fS(fS({},e),{cancel:!0})));function RS(e){const t=e.get("key");return e.get("id")||t.substr(t.lastIndexOf("/")+1)}function zS(e,t){const n=(0,JM.js)(e,t).get("features").get(mS.P8),i={};return t.contentDirectory.key&&(i.key=t.contentDirectory.key),t.contentDirectory.hubKey&&(i.hubKey=t.contentDirectory.hubKey),n.get("directories").findWhere(i)}function US(e,t){const n=e.get("features").get(mS.P8).get("key");let i;return i=n?C.Z.join([n,t.get("id")]):t.get("key"),i}function VS(e,t){e(cS.lm({serverEntityID:t})),e(cS.tU({serverEntityID:t})),e((0,dS.jR)({serverEntityID:t}))}const BS={[eS]:lS[eS],[tS]:lS[tS],[nS]:lS[nS],[iS]:lS[iS],[bS](e,t){e.get("ui").get("addToCatalogModal").set("error",null)},[IS](e,t,n){const i=e.get("ui").get("addToCatalogModal"),s=(0,JM.js)(e,t),r=s.get("features").get("actions").get("actions").get("addToCatalog").get("key");if((0,Rt.c9)((()=>{i.set({isUpdating:!0,error:null})})),t.data.fileURL){const e=new window.XMLHttpRequest;return e.open("GET",t.data.fileURL,!0),e.responseType="blob",e.onload=e=>{if(200===e.target.status){const t=e.target.response,n=new window.FormData;n.append("file",t);const a=s.getXHROptions(r,{method:"POST",processData:!1,contentType:!1,data:n});g().ajax(a).then(((e,t,n)=>{i.set({isUpdating:!1})}),(e=>{i.set({isUpdating:!1,error:(0,gS.Z)(e)})}))}window.URL.revokeObjectURL(t.data.fileURL)},void e.send()}const a=C.Z.join(r,{url:t.data.channelURL}),o=s.getXHROptions(a,{method:"PUT",dataType:"json"});g().ajax(o).then(((e,t,n)=>{i.set("isUpdating",!1);const r=new KM.Z(e,{server:s.server,provider:s,parse:!0});if(!r.get("key"))return void i.set({isUpdating:!1,error:(0,gS.Z)(n)});const a=(0,ui.Z)(s.server.state,s.state,r.get("key"));window.location.hash=a}),(e=>{i.set({isUpdating:!1,error:(0,gS.Z)(e)})}))},[MS](e,t,n){const{cancel:i,force:s,metricsPage:r}=t,a=(0,JM.SW)(e,t),o=zS(e,t),l={libraryID:RS(o),libraryType:o.get("type"),cancel:i,force:s,allowMetrics:!!r,metricsProperties:{page:r}};o.set("refreshing",!i),(0,yS.Z)(a,l).fail((e=>{let t;t=i?(0,De.Z)("There was an unexpected error canceling the scan."):s?503===e.status?(0,De.Z)("An internet connection is required to refresh library metadata. Please check this server's connection and try again."):(0,De.Z)("There was an unexpected error refreshing library metadata."):503===e.status?(0,De.Z)("An internet connection is required to scan library files. Please check this server's connection and try again."):(0,De.Z)("There was an unexpected error scanning library files."),n((0,dS.wp)(t))})).always((e=>{n(cS.Vk({serverEntityID:t.serverEntityID}))}))},[SS](e,t){const n=(0,JM.SW)(e,t),i=n.get("desktop").get("libraries"),s=zS(e,t);i.fetch().then((()=>{const e=RS(s),r=i.get(e);ee.Z.trigger("show:modal",new vS.Z({server:n,model:r})),(0,M.DB)("metrics").trackClick({page:t.metricsPage,action:rr.Yf,type:r.get("type"),context:pS.LIBRARY})}))},[DS](e,t,n){const i=(0,JM.SW)(e,t),s=(0,JM.js)(e,t),r=zS(e,t),a=US(s,r),o=C.Z.join([a,"emptyTrash"]),l=i.getXHROptions(o,{type:"PUT"});g().ajax(l).done((()=>{n((0,dS.wp)({type:uS.M,message:(0,De.Z)("The trash was emptied.")}))})).fail((e=>{n((0,dS.wp)((0,De.Z)("There was a problem emptying the trash.")))})),(0,M.DB)("metrics").trackClick({page:t.metricsPage,action:rr.yZ,type:r.get("type"),context:pS.LIBRARY})},[ES](e,t,n){const i=(0,JM.SW)(e,t),s=(0,JM.js)(e,t),r=zS(e,t),a=US(s,r),o=C.Z.join([a,"analyze"]),l=i.getXHROptions(o,{type:"PUT"});g().ajax(l).fail((e=>{n((0,dS.wp)((0,De.Z)("There was a problem analyzing the library.")))})),(0,M.DB)("metrics").trackClick({page:t.metricsPage,action:rr.JM,type:r.get("type"),context:pS.LIBRARY})},[CS](e,t,n){const i=(0,JM.SW)(e,t),s=(0,JM.js)(e,t),r=zS(e,t),a=US(s,r),o=C.Z.join(a,{async:1}),l=i.getXHROptions(o,{type:"DELETE"});s.get("features").get(mS.P8).get("directories").remove(r),g().ajax(l).fail((()=>{VS(n,t.serverEntityID),n((0,dS.wp)((0,De.Z)("There was a problem deleting the library.")))})),(0,M.DB)("metrics").trackClick({page:t.metricsPage,action:rr.b1,type:r.get("type"),context:pS.LIBRARY})},[PS](e,t,n){const i=(0,JM.SW)(e,t),s=(0,JM.js)(e,t),r=zS(e,t),a=r.get("type");let o;o=a===Ho.MOVIE?{agent:GM.WX,scanner:hS.Lx}:a===Ho.ARTIST?{agent:GM.Ut,scanner:hS.c3}:{agent:GM.Zb,scanner:hS.QQ};const l=US(s,r),c=C.Z.join(l,o),d=i.getXHROptions(c,{type:"PUT"});g().ajax(d).then((()=>{VS(n,t.serverEntityID)}),(()=>{n((0,dS.wp)((0,De.Z)("There was a problem upgrading the library.")))}))},[cS.Cs](e,t,n){t.activity.type===Oa.y0&&VS(n,t.serverEntityID)}};var FS=n(59194),HS=n(3265),_S=n(12634),QS=n(9947);const GS=_S.Z.extend({name:"DVRCollection",context:["server"],model:QS.Z,url:"/livetv/dvrs"});var YS=n(75557),WS=n(517);const KS="ui/dvrSettings/initDVRSettingsUI",qS="ui/dvrSettings/clearDVRSettingsUI",$S="ui/dvrSettings/fetchDVRs",JS="ui/dvrSettings/removeDVR",XS="ui/dvrSettings/reloadGuide",eE="ui/dvrSettings/cancelReloadGuide",tE=(0,No.Z)(KS),nE=(0,No.Z)(qS),iE=(0,No.Z)($S),sE=(0,No.Z)(JS),rE=(0,No.Z)(XS),aE=(0,No.Z)(eE);function oE(e){return e.get("ui").get("dvrSettingsUI")}function lE(e,t,n){const i=(0,WS.SW)(e,t),s=C.Z.join(["/livetv/dvrs",t.dvrID,"reloadGuide"]),r=i.getXHROptions(s,{method:n});g().ajax(r)}const cE=(0,HS.Z)({[$S]:(0,qM.Z)({key:"dvrs",getModel:oE}),[KS](e,t,n){const i=oE(e),s=i.get("dvrSetup"),r=i.get("dvr"),a=(0,WS.SW)(e,t),o=a.get("machineIdentifier"),l={isUIPopulated:!0};r&&r.server.get("machineIdentifier")===o||(l.dvrs=new GS([],{server:a})),s&&s.server.get("machineIdentifier")===o?s.restoreDefaults():l.dvrSetup=new YS.Z({},{server:a}),i.set(l),(a.hasOwnerFeature("dvr")||a.hasOwnerFeature("livetv"))&&n(iE(t))},[qS](e){oE(e).set("isUIPopulated",!1)},[JS](e,t,n){const i=oE(e).get("dvrs").get(t.dvrID);i&&i.destroy().fail((()=>n((0,dS.wp)((0,De.Z)("There was a problem removing your DVR")))))},[XS](e,t,n){lE(e,t,"POST")},[eE](e,t,n){lE(e,t,"DELETE")}});var dE=n(79678);const uE={input:"Checkbox-input-3E0Vit",small:"Checkbox-small-3XhYNK",medium:"Checkbox-medium-zbYH2W",large:"Checkbox-large-1FadBK",isDisabled:"Checkbox-isDisabled-2ESZNg",hasError:"Checkbox-hasError-1Ijp7A"};var pE=Object.prototype.hasOwnProperty,mE=Object.getOwnPropertySymbols,hE=Object.prototype.propertyIsEnumerable,gE=Object.assign;function yE(e){var{forwardedRef:t,className:n=uE.input,errorClassName:i=uE.hasError,disabledClassName:s=uE.isDisabled,isDisabled:r=!1,hasError:a=!1,name:o,size:l=We.Medium}=e,c=((e,t)=>{var n={};for(var i in e)pE.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&mE)for(var i of mE(e))t.indexOf(i)<0&&hE.call(e,i)&&(n[i]=e[i]);return n})(e,["forwardedRef","className","errorClassName","disabledClassName","isDisabled","hasError","name","size"]);return y.createElement("input",gE({className:we()(n,uE[l],r&&s,a&&i),type:"checkbox",id:o,name:o,disabled:r,ref:t},c))}const vE=y.forwardRef(((e,t)=>y.createElement(yE,gE(gE({},e),{forwardedRef:t})))),fE={isImporting:!1,isImported:!1,importError:null},IE=(0,Fr.oM)({name:"importPlaylists",initialState:fE,reducers:{reset:()=>fE,importRequested(e,t){e.isImporting=!0,e.importError=null},importSucceeded(e,t){e.isImporting=!1,e.isImported=!0},importFailed(e,{payload:t}){e.isImporting=!1,e.importError=t.error}}}),bE=(0,de.P1)(Yr,(e=>e.importPlaylists)),ME={description:"ImportPlaylistsModal-description-11yZg-",row:"ImportPlaylistsModal-row-241jHh",overwrite:"ImportPlaylistsModal-overwrite-2WODB8",library:"ImportPlaylistsModal-library-1dL7tw",buttonBar:"ImportPlaylistsModal-buttonBar-2HTlSZ ModalFooterButtonBar-buttonBar-UJWGIc"};function SE({isOpen:e,onModalClose:t}){var n;const[i,s]=cn(),r=(0,f.I0)(),{isImporting:a,isImported:o,importError:l}=(0,f.v9)(bE),c=(0,Ft.Z)(s,At.zW.Content),d=(null!=(n=null==c?void 0:c.directories)?n:[]).filter((e=>e.type===ri.pG.Artist)).map((({id:e,title:t})=>({value:e,label:t}))),{register:u,handleSubmit:p}=(0,Nl.cI)({defaultValues:{importAll:!1,sectionID:null==d?void 0:d[0].value}}),m=p((({importAll:e,sectionID:t})=>{if(!d.length)return;const n=null!=t?t:d[0].value;r(IE.actions.importRequested({server:i,importAll:e,sectionID:n}))}));return(0,y.useEffect)((()=>{o&&t()}),[r,o,t]),(0,y.useEffect)((()=>{e||r(IE.actions.reset())}),[r,e]),y.createElement(lc,{size:We.Small,isOpen:e,onModalClose:t},y.createElement(dc,{onModalClose:t},y.createElement(mc,null,(0,De.Z)("Import from iTunes")),l?y.createElement(uc,{message:(0,De.Z)("Something went wrong. Make sure the server is available and try again.")}):null,y.createElement("form",{onSubmit:m},y.createElement(Ed,null,y.createElement("div",{className:ME.description},(0,De.Z)("Importing from iTunes will import your music playlists. It will also import your ratings, the date you added the music, as well as play and skip counts for tracks in your library. Depending on how many tracks you have, this process can take many minutes to complete.")),y.createElement("label",{className:ME.row},y.createElement(vE,{name:"importAll",ref:u}),y.createElement("span",{className:ME.overwrite},(0,De.Z)("Overwrite existing playlists"))),d.length>1?y.createElement("label",{className:ME.row},y.createElement("span",{className:ME.library},(0,De.Z)("Add to library:")),y.createElement(vd,{name:"sectionID",ref:u},d.map((({value:e,label:t},n)=>y.createElement("option",{key:n,value:e},t))))):null),y.createElement(pc,null,y.createElement(Dd,{className:ME.buttonBar},y.createElement(zn,{onPress:t},(0,De.Z)("Cancel")),y.createElement(kl,{className:ME.button,isSpinning:a,type:"submit",kind:Dn.Primary},(0,De.Z)("Import")))))))}var EE=Object.assign;const DE=function(e){return y.createElement(nt.Z,EE(EE({},e),{containerClassName:"SourceSidebarConfirmModal-modalContainer-1ZZ1B3 Modal-modalContainer-1O7tCj"}))};var CE=Object.assign;const PE=function(e){return y.createElement(mo.Z,CE(CE({},e),{portalClassName:"SourceSidebarMenu-menuPortal-34r8Zw Menu-menuPortal-EWigjA"}))};var wE=Object.assign;function TE(e){const{sourceDirectory:t,hasPlexMusicUpgrade:n,hasPlexMovieUpgrade:i,hasPlexSeriesUpgrade:s,isUnavailable:r,onMenuClose:a,onCancelScanLibraryPress:o,onScanLibraryPress:l,onSharePress:c,onEditLibraryPress:d,onRefreshAllLibraryMetadataPress:u,onEmptyLibraryTrashPress:p,onAnalyzeLibraryPress:m,onDeleteLibraryPress:h,onUpgradeLibraryPress:g}=e,v=r||!t;return y.createElement(y.Fragment,null,t&&t.refreshing?y.createElement(ho.Z,{onPress:(0,vo.Z)(a,o)},(0,De.Z)("Cancel Scan")):y.createElement(ho.Z,{isDisabled:v,onPress:(0,vo.Z)(a,l)},(0,De.Z)("Scan Library Files")),y.createElement(ho.Z,{isDisabled:v,onPress:(0,vo.Z)(a,c)},(0,De.Z)("Share…")),y.createElement(yo.Z,{label:(0,De.Z)("Manage Library"),isDisabled:v,onMenuClose:a},n||i||s?y.createElement(ho.Z,{isDisabled:v,onPress:(0,vo.Z)(a,g)},(0,De.Z)("Upgrade Matching")):null,y.createElement(ho.Z,{onPress:(0,vo.Z)(a,d)},(0,De.Z)("Edit...")),y.createElement(ho.Z,{onPress:(0,vo.Z)(a,u)},(0,De.Z)("Refresh All Metadata")),y.createElement(ho.Z,{onPress:(0,vo.Z)(a,p)},(0,De.Z)("Empty Trash")),y.createElement(ho.Z,{onPress:(0,vo.Z)(a,m)},(0,De.Z)("Analyze")),y.createElement(ho.Z,{kind:fo.T,onPress:(0,vo.Z)(a,h)},(0,De.Z)("Delete"))))}function ZE(e){const{machineIdentifier:t,isGuideRefreshing:n,isUnavailable:i,onMenuClose:s,onCancelRefreshGuidePress:r,onRefreshGuidePress:a}=e,o=i;return y.createElement(y.Fragment,null,y.createElement(ho.Z,{to:(0,km.Z)(t,"manage","dvr"),isDisabled:o,onPress:s},(0,De.Z)("Settings")),n?y.createElement(ho.Z,{onPress:(0,vo.Z)(s,r)},(0,De.Z)("Cancel Refresh")):y.createElement(ho.Z,{isDisabled:o,onPress:(0,vo.Z)(s,a)},(0,De.Z)("Refresh Guide")))}function NE(e){const{onMenuClose:t,onImportPlaylistsPress:n}=e;return y.createElement(ho.Z,{onPress:(0,vo.Z)(t,n)},(0,De.Z)("Import from iTunes..."))}const AE=function(e){const{provider:t,hasProviderSettings:n,hasLibraryActions:i,hasDVRActions:s,hasPlaylistsActions:r,isPinned:a,isReorderable:o,isUnavailable:l,onMenuClose:c,onTogglePinSources:d,onReorderPinSources:u}=e;return y.createElement(y.Fragment,null,y.createElement(ho.Z,{onPress:(0,vo.Z)(c,d)},a?(0,De.Z)("Unpin"):(0,De.Z)("Pin")),o?y.createElement(ho.Z,{onPress:(0,vo.Z)(c,u)},(0,De.Z)("Reorder")):null,n&&!l?y.createElement(ho.Z,{to:`#!/provider/${encodeURIComponent(t.identifier)}/settings`,onPress:c},(0,De.Z)("Personalize")):null,i?y.createElement(TE,wE({},e)):null,s?y.createElement(ZE,wE({},e)):null,r?y.createElement(NE,wE({},e)):null)};var xE=n(92885);var LE=Object.prototype.hasOwnProperty,OE=Object.getOwnPropertySymbols,jE=Object.prototype.propertyIsEnumerable,kE=Object.assign;const RE=function(e){const{machineIdentifier:t,providerIdentifier:n,serverEntityID:i,source:s,sourceDirectory:r,target:a,menuOptions:o,hasLibraryActions:l,hasPlaylistsActions:c,isDeletingLibrary:d,isOverflowMenuOpen:u,onOverflowMenuClose:p,onUpgradeLibraryPress:m,onAnalyzeLibraryPress:h,onEmptyLibraryTrashPress:g,onRefreshAllLibraryMetadataPress:v,onDeleteLibraryPress:f}=e,I=((e,t)=>{var n={};for(var i in e)LE.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&OE)for(var i of OE(e))t.indexOf(i)<0&&jE.call(e,i)&&(n[i]=e[i]);return n})(e,["machineIdentifier","providerIdentifier","serverEntityID","source","sourceDirectory","target","menuOptions","hasLibraryActions","hasPlaylistsActions","isDeletingLibrary","isOverflowMenuOpen","onOverflowMenuClose","onUpgradeLibraryPress","onAnalyzeLibraryPress","onEmptyLibraryTrashPress","onRefreshAllLibraryMetadataPress","onDeleteLibraryPress"]),b=(0,xE.Z)(),M=(0,xE.Z)(m),S=(0,xE.Z)(v),E=(0,xE.Z)(g),D=(0,xE.Z)(h),C=(0,xE.Z)(),P=(0,xE.Z)(),w=(0,zr.Z)(d);return(0,y.useEffect)((()=>{w&&!d&&C.onClose()}),[d,w,C]),y.createElement(y.Fragment,null,y.createElement(PE,{target:a,options:o,isOpen:u,onMenuClose:p},y.createElement(AE,kE(kE({},I),{serverEntityID:i,machineIdentifier:t,sourceDirectory:r,hasLibraryActions:l,hasPlaylistsActions:c,onSharePress:b.onOpen,onUpgradeLibraryPress:M.onOpen,onRefreshAllLibraryMetadataPress:S.onOpen,onEmptyLibraryTrashPress:E.onOpen,onAnalyzeLibraryPress:D.onOpen,onDeleteLibraryPress:C.onOpen,onImportPlaylistsPress:P.onOpen,onMenuClose:p}))),l?y.createElement(y.Fragment,null,y.createElement(wd.Z,{metricsProperties:{context:pS.LIST},serverEntityID:i,sourceDirectory:r,isOpen:b.isOpen,onModalClose:b.onClose}),y.createElement(DE,{isOpen:M.isOpen,metricsPage:et.xC,title:(0,De.Z)("Upgrade Library Matching?"),message:y.createElement(y.Fragment,null,y.createElement("div",null,(0,De.Z)("This library is currently using a legacy agent to match items and fetch artwork and other metadata. There is a newer, faster, and more accurate agent available for this type of media. Would you like to upgrade this library now?")),y.createElement("div",{className:"SourceActionsMenu-modalNote-2hRXsX"},(0,De.Z)('Note: Existing items in this library will not be affected until they are refreshed. You can refresh them individually or upgrade all existing items with "Refresh All Metadata".'))),confirmLabel:(0,De.Z)("Upgrade"),onConfirm:M.onConfirm,onCancel:M.onClose}),y.createElement(DE,{isOpen:S.isOpen,metricsPage:et.yW,title:(0,De.Z)("Refresh All Metadata"),message:(0,De.Z)("Forces a download of fresh media information from the internet. This can take a long time. Any locked fields are not modified."),confirmLabel:(0,De.Z)("Refresh"),onConfirm:S.onConfirm,onCancel:S.onClose}),y.createElement(DE,{isOpen:E.isOpen,metricsPage:et.Y0,title:(0,De.Z)("Empty Trash"),message:(0,De.Z)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:(0,De.Z)("Empty"),onConfirm:E.onConfirm,onCancel:E.onClose}),y.createElement(DE,{isOpen:D.isOpen,metricsPage:et.cJ,title:(0,De.Z)("Analyze Library"),message:(0,De.Z)("Analyzes all the media files in the library. The analysis captures information about the media which helps Plex decide how to optimally play back the media."),confirmLabel:(0,De.Z)("Analyze"),onConfirm:D.onConfirm,onCancel:D.onClose}),y.createElement(DE,{isOpen:C.isOpen,isConfirmButtonSpinning:d,isCancelButtonDisabled:d,metricsPage:et.iw,kind:fo.T,title:(0,De.Z)("Delete Library"),message:(0,De.Z)('The library "{libraryName}" will be removed from this server. Your media files will not be affected. This can\'t be undone. Continue?',{libraryName:s.title}),accordMessage:(0,De.Z)('Yes, delete the library "{libraryName}"',{libraryName:s.title}),confirmLabel:(0,De.Z)("Delete"),onConfirm:f,onCancel:C.onClose})):null,c?y.createElement(dn,{machineIdentifier:t,providerIdentifier:n},y.createElement(SE,{isOpen:P.isOpen,onModalClose:P.onClose})):null)};var zE=Object.prototype.hasOwnProperty,UE=Object.getOwnPropertySymbols,VE=Object.prototype.propertyIsEnumerable,BE=Object.assign;const FE={dispatchScanLibraryFiles:ZS,dispatchCancelScanLibraryFiles:kS,dispatchUpgradeLibrary:OS,dispatchEditLibrary:NS,dispatchRefreshAllLibraryMetadata:jS,dispatchEmptyLibraryTrash:AS,dispatchAnalyzeLibrary:xS,dispatchDeleteLibrary:LS,dispatchRedirectToRoute:tt.im,dispatchReloadGuide:rE,dispatchCancelReloadGuide:aE,dispatchPopulateHasiTunes:FS.st,dispatchPinSources:dE.W1,dispatchUnpinSources:dE.Dm};class HE extends y.Component{constructor(){super(...arguments),this.onScanLibraryPress=()=>{this.props.dispatchScanLibraryFiles({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onCancelScanLibraryPress=()=>{this.props.dispatchCancelScanLibraryFiles({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onEditLibraryPress=()=>{this.props.dispatchEditLibrary({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onRefreshAllLibraryMetadataPress=()=>{this.props.dispatchRefreshAllLibraryMetadata({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onEmptyLibraryTrashPress=()=>{this.props.dispatchEmptyLibraryTrash({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onAnalyzeLibraryPress=()=>{this.props.dispatchAnalyzeLibrary({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onDeleteLibraryPress=()=>{this.props.dispatchDeleteLibrary({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage}),this.props.source.isSelected&&this.props.dispatchRedirectToRoute({route:"home"})},this.onRefreshGuidePress=()=>{this.props.dispatchReloadGuide({serverEntityID:this.props.serverEntityID,dvrID:this.props.provider.parentID,metricsPage:this.props.metricsPage})},this.onCancelRefreshGuidePress=()=>{this.props.dispatchCancelReloadGuide({serverEntityID:this.props.serverEntityID,dvrID:this.props.provider.parentID,metricsPage:this.props.metricsPage})},this.onTogglePinSources=()=>{this.props.isPinned?this.props.dispatchUnpinSources({sources:[this.props.source]}):this.props.dispatchPinSources({sources:[this.props.source]})},this.onUpgradeLibraryPress=()=>{this.props.dispatchUpgradeLibrary({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory})}}componentDidMount(){const{isOwnedPlaylistSource:e,isConnected:t}=this.props;e&&t&&this._populateHasiTunes(this.props)}componentDidUpdate(e){const{isOwnedPlaylistSource:t,isConnected:n}=this.props;t&&n&&!e.isConnected&&this._populateHasiTunes(this.props)}_populateHasiTunes(e){this.props.dispatchPopulateHasiTunes({serverEntityID:e.serverEntityID})}render(){const e=this.props,{metricsPage:t,isConnected:n,isOwnedPlaylistSource:i,dispatchUpgradeLibrary:s,dispatchScanLibraryFiles:r,dispatchCancelScanLibraryFiles:a,dispatchEditLibrary:o,dispatchReloadGuide:l,dispatchCancelReloadGuide:c,dispatchPopulateHasiTunes:d,dispatchPinSources:u,dispatchUnpinSources:p}=e,m=((e,t)=>{var n={};for(var i in e)zE.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&UE)for(var i of UE(e))t.indexOf(i)<0&&VE.call(e,i)&&(n[i]=e[i]);return n})(e,["metricsPage","isConnected","isOwnedPlaylistSource","dispatchUpgradeLibrary","dispatchScanLibraryFiles","dispatchCancelScanLibraryFiles","dispatchEditLibrary","dispatchReloadGuide","dispatchCancelReloadGuide","dispatchPopulateHasiTunes","dispatchPinSources","dispatchUnpinSources"]);return y.createElement(RE,BE(BE({},m),{onScanLibraryPress:this.onScanLibraryPress,onCancelScanLibraryPress:this.onCancelScanLibraryPress,onEditLibraryPress:this.onEditLibraryPress,onAnalyzeLibraryPress:this.onAnalyzeLibraryPress,onRefreshAllLibraryMetadataPress:this.onRefreshAllLibraryMetadataPress,onEmptyLibraryTrashPress:this.onEmptyLibraryTrashPress,onDeleteLibraryPress:this.onDeleteLibraryPress,onRefreshGuidePress:this.onRefreshGuidePress,onCancelRefreshGuidePress:this.onCancelRefreshGuidePress,onTogglePinSources:this.onTogglePinSources,onUpgradeLibraryPress:this.onUpgradeLibraryPress}))}}const _E=(0,YM.Z)((function(){return(0,de.P1)(((e,{source:t})=>t),Wa.Z,Kh.Z,Wh.Z,QM,(0,FM.Ol)(),(0,de.P1)((0,HM.Z)(),(e=>e&&e.desktop.hasiTunes)),BM(),((e,t,n,i,s,r,a,o)=>{const l=s.some((t=>!!e&&t.key===e.key));if(!n||!i||!e||n.isOutOfDate)return{isUnavailable:!0,isPinned:l};const c=e.sourceType===PM.lz,d=pa.wB(i.identifier,pa.Ll),{features:{content:{directories:u=[]}={}}={}}=i||{},p=u.find((t=>t.id===e.directoryID)),m=n.isFullOwnedServer&&i.isLibraryProvider&&p&&/(\d+)$/.test(p.id)&&!c,h=n.isFullOwnedServer&&e.sourceType===PM.ls,g=!!u.find((({type:e})=>e===Ho.ARTIST)),y=i.features.settings;return{sourceDirectory:p,machineIdentifier:n.machineIdentifier,provider:i,providerIdentifier:i.identifier,hasProviderSettings:!!y&&(0,_o.d)(t,y),hasLibraryActions:m,hasPlexMusicUpgrade:p&&p.type===Ho.ARTIST&&(p.agent===GM.zR||p.agent===GM.E4),hasPlexMovieUpgrade:n.ownerFeatures&&n.ownerFeatures.includes(be.wz)&&p&&p.type===Ho.MOVIE&&(p.agent===GM.A2||p.agent===GM.HN),hasPlexSeriesUpgrade:n.ownerFeatures&&n.ownerFeatures.includes(be.VA)&&p&&p.type===Ho.SHOW&&(p.agent===GM.A2||p.agent===GM.NV),hasDVRActions:n.isFullOwnedServer&&d,hasPlaylistsActions:h&&a&&g,isConnected:n.isConnected,isUnavailable:n.isUnavailable,isPinned:l,isDeletingLibrary:!!r,isGuideRefreshing:!!o,isOwnedPlaylistSource:h}}))}),FE)(HE);_E.propTypes=BE(BE({},_E.propTypes),{source:WM,serverEntityID:ls().string,providerEntityID:ls().string});const QE=_E;function GE(e){return C.Z.join("#!/downloads",e)}function YE(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-more-vertical-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M280 168c-30.897 0-56-25.103-56-56 0-30.896 25.103-56 56-56s56 25.104 56 56c-.965 31.862-25.103 56-56 56zm56 112c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56zm0 168c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}YE.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const WE=YE;var KE,qE;function $E({overrideTitle:e,overrideDetail:t}){const[n,i,s]=cn(),r=(0,f.v9)(rs("allSavedPivotParams")),a=(0,ra.Z)(),o=(0,Dl.Z)(),l=(0,TM.Z)(i,s),c=s?wM({sourceType:l?l.key:null,sourceServer:n,sourceProvider:i,sourceDirectory:s}):void 0,d=e||function(e,t,n){return t.isEmbedded?(0,De.Z)("Downloads"):e?e.title:t.isCloud?n.title:NM(t)}(s,n,i),u=t||function(e,t){return t.isCloud?null==e?void 0:e.providerSourceTitle:t.isEmbedded?void 0:t.isFullOwnedServer?e?e.serverFriendlyName:void 0:e?`${e.serverSourceTitle} • ${e.serverFriendlyName}`:ZM(t)}(c,n),p=n.isEmbedded?GE(null==r?void 0:r.downloads):(0,zg.Z)(n,i,s,s?void 0:{key:DM.D,pageType:EM.km});return y.createElement("div",{className:"CurrentSourceBreadcrumb-container-1_ZDzv"},n.isEmbedded?y.createElement("div",{className:"CurrentSourceBreadcrumb-noButton-PKunuf"}):y.createElement(y.Fragment,null,y.createElement(zM,{className:"CurrentSourceBreadcrumb-tooltipButton-3c90LG ToolbarButton-toolbarButton-HjswtL",id:a,iconComponent:WE,label:(0,De.Z)("Actions"),isMenuOpen:o.isOpen,onPress:o.onToggle}),y.createElement(QE,{target:a,serverEntityID:n.entityID,providerEntityID:i.entityID,source:c,isOverflowMenuOpen:o.isOpen,onOverflowMenuClose:o.onClose})),y.createElement(xM,{title:d,detail:u,route:p}))}(qE=KE||(KE={})).Dvr="dvr",qE.Episode="episode",qE.Home="home",qE.Movies="movies",qE.Music="music",qE.News="news",qE.Photos="photos",qE.Playlists="playlists",qE.Podcasts="podcasts",qE.Tv="tv",qE.Videos="videos",qE.Webshows="webShows",qE.Shared="shared";const JE="tabChange",XE={button:"PivotTab-button-3biM5c Button-button-1q7C1V Link-link-2WGTd7",selectedButton:"PivotTab-selectedButton-2NYaZL PivotTab-button-3biM5c Button-button-1q7C1V Link-link-2WGTd7"};var eD=Object.prototype.hasOwnProperty,tD=Object.getOwnPropertySymbols,nD=Object.prototype.propertyIsEnumerable,iD=Object.assign;function sD(e){var{className:t=XE.button,selectedClassName:n=XE.selectedButton,isSelected:i,children:s}=e,r=((e,t)=>{var n={};for(var i in e)eD.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&tD)for(var i of tD(e))t.indexOf(i)<0&&nD.call(e,i)&&(n[i]=e[i]);return n})(e,["className","selectedClassName","isSelected","children"]);return y.createElement(zn,iD({className:i?n:t,size:We.Large},r),s)}const rD=function(e){return e.type===At.F6.View&&!Object.values(At.GG).includes(e.key)},aD=function(e,t,n,i){var s;if(!n)return;if(rD(i))return;const r=(null==(s=n.pivots)?void 0:s.includes(i))?{pivot:i.id||i.key}:{pageType:i.type,key:i.key};return(0,zg.Z)(e,t,n,r)},oD={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[parseInt(ku.Z.pageHeaderTabButtonLeftRightMargin,10)]}}]};function lD({pivots:e,selectedPivot:t,onPivotPress:n}){var i;const[s,r,a]=cn(),o=(0,ra.Z)(),l=(0,Dl.Z)();return y.createElement("div",{id:o,className:"PivotTabDropdown-container-2z16yQ","data-qa-id":"tabDropDown"},y.createElement(sD,{className:"PivotTabDropdown-button-7utMbI PageHeaderTabButton-button-3utZrS Button-button-31pe5T Link-link-3v-v0b",isSelected:!!t,onPress:l.onToggle},y.createElement("div",{className:"PivotTabDropdown-buttonContents-wtBigk"},y.createElement("div",{className:"PivotTabDropdown-title-DpDRRn"},null!=(i=null==t?void 0:t.title)?i:e[0].title),y.createElement(gc.Z,{className:we()("PivotTabDropdown-disclosureArrow-3vN8mj DisclosureArrow-disclosureArrow-11pOBF",!!t&&"PivotTabDropdown-isSelected-3fVKoE"),direction:l.isOpen?yc.UP:yc.WV}))),y.createElement(mo.Z,{isOpen:l.isOpen,target:o,options:oD,onMenuClose:l.onClose},e.map(((e,i)=>{const o=aD(s,r,a,e);return o?y.createElement(Ic.Z,{key:i,to:o,value:e.key,isSelected:e===t,onPress:(0,vo.Z)(n,l.onClose)},e.title):null}))))}function cD({pivots:e,selectedPivot:t}){const[n,i,s]=cn(),[r,{width:a}]=(0,Mp.Z)(),[o,{width:l}]=(0,Mp.Z)(),[c,d]=(0,y.useState)(l),u=l||c,p=(0,y.useMemo)((()=>e.filter((e=>!rD(e)))),[e]),m=p.length<2,h=p.length>1&&u>a,g=lr({identifier:i.metricsIdentifier,origin:JE}),v=jm((0,y.useCallback)((()=>{g({action:rr.oG})}),[g]));return(0,y.useEffect)((()=>{l&&d(l)}),[l]),m?null:y.createElement("div",{className:"PivotTabsPageHeaderCenter-pageHeaderCenter-lSexGe PageHeaderCenter-pageHeaderCenter-1RFWgu",ref:r},h?y.createElement(lD,{pivots:p,selectedPivot:t,onPivotPress:v}):y.createElement("div",{ref:o},p.map(((e,r)=>{const a=aD(n,i,s,e);return a?y.createElement(sD,{key:r,to:a,isSelected:e===t,onPress:v},e.title):null}))))}const dD=(0,de.P1)(wm,(e=>e.title));var uD=n(83427);var pD=Object.assign;function mD({sourceURI:e,selectedPivot:t}){var n;const i=(0,f.I0)(),[,,s]=cn(),r=(0,f.v9)(Tm),a=null!=(n=null==r?void 0:r.Pivot)?n:null==s?void 0:s.pivots,o=(0,f.v9)(dD),l=(0,f.v9)(rs("directoryListStyles")),c=(0,y.useMemo)((()=>eM(e)),[e]),d=(0,f.v9)(c),u=(0,y.useMemo)((()=>Xb(e)),[e]),p=(0,f.v9)(u),m=(0,y.useCallback)((t=>{if(!e)return;const n=pD(pD({},l),{[e]:t});(0,Rt.c9)((()=>{i((0,Nv.LN)({directoryListStyles:n}))}))}),[i,l,e]);return y.createElement(uD.Z,{className:"DirectoryPageHeader-pageHeader-p91RvA PrimaryPageHeader-pageHeader-2h_9dt PageHeader-pageHeader-WpvbJc"},y.createElement(_b,null,y.createElement($E,{overrideTitle:o})),a&&t?y.createElement(cD,{pivots:a,selectedPivot:t}):null,y.createElement(Qb.Z,null,y.createElement(SM,{listStyles:p,selectedListStyle:d,onListStyleSelect:m})))}var hD=n(44823);const gD=rs("lastSourcePivots"),yD=rs("shouldSaveLastSourcePivots"),vD=(0,Ht.Z)((function(e,t,n){return(0,de.P1)(gD,yD,((i,s)=>{if(s)return i[(0,hD.Z)(e,t,n)]}))})),fD=function(e=[],t){return e.find((e=>e.id?e.id===t||e.key===t:!!e.key&&e.key===t))};var ID=Object.assign;var bD=n(14408),MD=n(95933),SD=n(93683),ED=Object.assign;const DD=ED(ED({},SD.Z),{getPaginatedUrl(e){const t=this.get("beginsAt"),n=this.get("endsAt");if(null!=t||null!=n){const i={"endsAt>":t,"beginsAt<":n};return C.Z.join(e,i)}return e},fetchRange(e){const t=ED(ED({},e),{remove:!1});return e.prepend&&(t.at=0),this.set({beginsAt:e.start,endsAt:e.end}),this.fetch(t).promise()},repopulateRange(e=0){const t=this.get("populatedRange"),n=t.start,i=t.end;return this.set({beginsAt:n,endsAt:i}),this.abortPendingPopulate(),this.fetch()},updatePopulatedRange(){const e=this.get("beginsAt"),t=this.get("endsAt"),n=this.get("populatedRange"),i=n.start,s=n.end;let r,a;this.getCollection().length?i?(r=Math.min(i,null==e?1/0:e),a=Math.max(s,null==t?-1/0:t)):(r=e||i,a=t||s):(r=0,a=0),this.set("populatedRange",{start:r,end:a,size:a-r}),this.set("isPopulated",a-r>0)}}),CD=MD.Z.extend({mixins:[DD],name:"ChannelGridMetadataListModel",sessionAttrs:{isMetadataList:bD.Z.boolean,containerKey:bD.Z.string,entityKey:bD.Z.string,containerTitle:bD.Z.string,beginsAt:bD.Z.integer,endsAt:bD.Z.integer,populatedRange:bD.Z.object,isPending:bD.Z.boolean,isPopulated:bD.Z.boolean,error:bD.Z.object},defaults:()=>({isMetadataList:!0,populatedRange:{start:0,end:0,size:0},isPending:!0,isPopulated:!1,error:null})});var PD=n(89905),wD=n(53334);const TD=wD.Z.extend({name:"ProviderTagModel",context:["server","provider"],idAttribute:"id",rootPropertyName:"Directory",syncedAttrs:{id:bD.Z.integer,filter:bD.Z.string,tag:bD.Z.string,tagType:bD.Z.integer,tagValue:bD.Z.integer,thumb:bD.Z.string,channelCallSign:bD.Z.string,channelIdentifier:bD.Z.string}}),ZD=_S.Z.extend({name:"ProviderTagCollection",context:["server","provider","type"],model:TD,cache:new PD.Z,url(){const e={type:this.type};return C.Z.join([this.provider.get("identifier"),"tags"],e)}}),ND=310,AD=1800,xD="ui/channelGridPage/initChannelsGridPage",LD="ui/channelGridPage/initMetadataList",OD="ui/channelGridPage/setStartTime",jD="ui/channelGridPage/resetStartTime",kD="ui/channelGridPage/navigateTimeForward",RD="ui/channelGridPage/navigateTimeBack",zD="ui/channelGridPage/setViewportSize",UD="ui/channelGridPage/updateAiredProgress",VD="ui/channelGridPage/populateChannelPrograms",BD="ui/channelGridPage/repopulateChannelPrograms",FD="ui/channelGridPage/populateChannelsList",HD="ui/channelGridPage/fetchChannelsList",_D=(0,No.Z)(xD),QD=(0,No.Z)(LD),GD=(0,No.Z)(OD),YD=(0,No.Z)(jD),WD=(0,No.Z)(kD),KD=(0,No.Z)(RD),qD=(0,No.Z)(zD),$D=(0,No.Z)(UD),JD=(0,No.Z)(VD),XD=(0,No.Z)(BD),eC=(0,No.Z)(FD),tC=(0,No.Z)(HD);function nC(e){return e.get("ui").get("channelGridPage")}function iC(e,t){const n=Math.floor(e/AD)*AD,i=[];for(let e=0;e<=t;e++)i.push(n+e*AD);return i}const sC=(0,HS.Z)({[xD](e,t,n){const i=nC(e),{serverEntityID:s,providerEntityID:r,directoryKey:a}=t,o=(0,JM.SW)(e,{serverEntityID:s}),l=(0,JM.js)(e,{providerEntityID:r}),c={serverEntityID:s,providerEntityID:r,directoryKey:a,channelsList:new ZD(null,{server:o,provider:l,type:ND})};i.set(c),n(YD())},[LD](e,t,n){const{containerKey:i,serverEntityID:s,providerEntityID:r}=t,a=nC(e),o=(0,JM.SW)(e,{serverEntityID:s}),l=(0,JM.js)(e,{providerEntityID:r}),c=a.get("metadataList");a.get("containerKey")===i&&(null==c?void 0:c.server.get("machineIdentifier"))===o.get("machineIdentifier")&&(null==c?void 0:c.provider.get("identifier"))===l.get("identifier")||a.set({containerKey:i,metadataList:new CD({containerKey:i},{server:o,provider:l})})},[jD](e,t,n){const i=Math.floor(Date.now()/1e3);n(GD(i))},[OD](e,t,n){const i=nC(e),s=i.get("visibleColumns"),r=iC(t,s);(0,Rt.c9)((()=>{i.set({startTime:t,columnTimes:r})}))},[kD](e,t,n){const i=nC(e).get("columnTimes")[0]+AD;n(GD(i))},[RD](e,t,n){const i=nC(e).get("columnTimes")[0]-AD,s=Math.floor(Date.now()/1e3)-10800;i+AD>s&&n(GD(i))},[zD](e,t={},n){const{width:i=1,height:s=1,overflowWidth:r=0,channelWidth:a=1,channelTitleWidth:o=0}=t,l=nC(e),c=Math.floor(i+r),d=Math.max(Math.floor((i-o)/a),1)+1,u=Math.floor((c-o)/d),p=iC(l.get("startTime"),d);(0,Rt.c9)((()=>{l.set({visibleColumns:d,columnTimes:p,columnWidth:u,viewportWidth:c,viewportHeight:Math.floor(s)})}))},[UD](e){const t=nC(e),n=t.get("columnTimes"),i=n[0],s=n[n.length-1]-i,r=Math.floor(Date.now()/1e3),a=Math.min(100,Math.max(0,(r-i)/s*100));(0,Rt.c9)((()=>{t.set({airedProgress:a})}))},[VD](e){const t=nC(e),n=t.get("metadataList"),i=t.get("columnTimes"),s=t.get("viewportWidth");n&&s>0&&(n.set({isPending:!0,error:null}),n.populateRange({start:i[0],end:i[i.length-1],reloadThreshold:43200}).then((()=>{n.set({isPending:!1,isPopulated:!0,error:null})}),((e,t)=>{t.aborting||n.set({isPending:!1,error:(0,gS.Z)(t)})})))},[BD](e){const t=nC(e).get("metadataList");t.set({isPending:!0}),t.repopulateRange().then((()=>{t.set({isPending:!1,isPopulated:!0,error:null})}),((e,n)=>{n.aborting||t.set({isPending:!1,error:(0,gS.Z)(n)})}))},[dS._z](e,t,n){if(t.metadataItemEntityID||t.containerKeyPattern)return;const i=(0,JM.SW)(e,t),s=nC(e),r=s.get("metadataList"),a=s.get("channelsList");a&&r&&a.server===i&&r.server===i&&(n(XD()),n(tC()))},[FD]:(0,$M.Z)({key:"channelsList",fetchActionCreator:tC,getModel:nC}),[HD]:(0,qM.Z)({key:"channelsList",getModel:nC})});var rC=n(7506),aC=n(21809),oC=n(96516),lC=Object.prototype.hasOwnProperty,cC=Object.getOwnPropertySymbols,dC=Object.prototype.propertyIsEnumerable,uC=Object.assign,pC=(e,t)=>{var n={};for(var i in e)lC.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&cC)for(var i of cC(e))t.indexOf(i)<0&&dC.call(e,i)&&(n[i]=e[i]);return n};const mC=function(e,t,n,i){var s;const r=(0,oC.Z)(t,(e=>({identifiers:e})));return(0,f.$j)((e=>r))(((s=class extends y.Component{constructor(e,t){super(e,t),this.onRepopulate=()=>{this._repopulate()},this._isPopulated=!1,this._component=null}componentDidMount(){this._populate()}componentDidUpdate(){this._isPopulated||this._populate()}_populate(){const e=this.props,{identifiers:t,dispatch:i}=e,s=pC(e,["identifiers","dispatch"]);(0,Rt.c9)((()=>{n(i,s)}))}_repopulate(){if(!i)return this._populate();const e=this.props,{identifiers:t,dispatch:n}=e,s=pC(e,["identifiers","dispatch"]);i(n,s)}render(){if(this._isPopulated=function(e){const{identifiers:t}=e;for(const n in t)if(t[n]!==e[n])return!1;return!0}(this.props),this._isPopulated){const t=this.props,{identifiers:n,dispatch:i}=t,s=pC(t,["identifiers","dispatch"]);this._component=y.createElement(e,uC({onRepopulate:this.onRepopulate},s))}return this._component}}).propTypes={identifiers:ls().object.isRequired,dispatch:ls().func.isRequired},s.displayName=`Populatable(${(0,rC.Z)(e)})`,s.WrappedComponent=e,s))};var hC=n(68521);function gC(e){return(0,de.P1)((0,UM.Z)(),(t=>{if(t)return E().findWhere(t.features,{type:e})}))}const yC=gC.bind(null,mS.HR),vC="hdonly";var fC=n(46525);function IC(e,{type:t,filters:n,sort:i,limit:s}){const r=C.Z.join(e),a={};return t&&(a.type=t),i&&(a.sort=i),s&&(a.limit=s),C.Z.join(function(e,t){const n=(0,fC.Z)(t,!0);if(!n)return e;const i=e.indexOf("?"),s=e.length;return(e+=i>-1?i<s-1?"&":"":"?")+n}(r,n),a,{parseParams:!0})}var bC=Object.assign;function MC(){return(0,de.P1)(((e,{activeFilters:t})=>t),(0,UM.Z)(),yC(),((e=[],t,n)=>t?IC(n?n.key:`/${t.identifier}/grid`,{type:[(0,Ho.getMetadataType)(Ho.MOVIE).id,(0,Ho.getMetadataType)(Ho.EPISODE).id].join(","),filters:e.reduce(((e,t)=>(t.key===vC?e.push(bC(bC({},t),{key:"channel.value"})):e.push(t),e)),[]),sort:"beginsAt"}):null))}var SC=n(50091),EC=n(50362);const DC=function(){return(0,de.P1)((0,SC.Z)(),EC.Z,((e,t)=>e&&e.metadataItems?e.metadataItems.map((e=>t[e])):[]))};function CC(){return(0,de.P1)((0,UM.Z)(),(e=>{const t=(0,So.Z)(e);return t?t.directories:[]}))}function PC(e,t){if(e&&t)for(let n=0,i=e.length;n<i;n++){const i=e[n],{id:s}=i;if(s===t)return i}}function wC(){return(0,de.P1)(CC(),((e,{sourceDirectoryID:t})=>t),((e,t)=>PC(e,t)))}function TC(){return(0,de.P1)((0,HM.Z)(),(e=>e.isCloud))}var ZC=n(9481);const NC=e=>e.key===vC;var AC=n(27929);const xC=function(e,t){return`${e}:${t}`};var LC=n(95815),OC=n(60423),jC=n(31590);function kC(e){const{getCellHeights:t,overscan:n=0,outerPaddingTop:i=0,outerPaddingRight:s=0,outerPaddingBottom:r=0,outerPaddingLeft:a=0}=e;let o,l,c,d,u,p,m,h,g;function y(e){const t=E().findIndex(u,(t=>t>e)),n=u.length-1;return-1===t?n:Math.min(Math.max(0,t-1),n)}return{getListStyle:function(e){const n=`${e.viewportHeight}:${e.viewportWidth}`;if(n===p)return m;o=e.viewportHeight,l=e.viewportWidth-(a+s),c=t(l),u=[];let h=i;return c.forEach((e=>{u.push(h),h+=e})),d=c.reduce(((e,t)=>e+t),i+r),p=n,m={height:d,width:l},m},getLandmarks:function(){(0,H.Z)(void 0!==o,"`getListStyle` must be called before `getLandmarks`");const e=`${o}:${d}`;return e===h||(h=e,g=u.map(((e,t)=>({index:t,position:e/d})))),g},getPositionForIndex:function(e){return(0,H.Z)(void 0!==o,"`getListStyle` must be called before `getPositionForIndex`"),{cellX:a,cellY:u[e],cellWidth:l,cellHeight:c[e]}},getRelativeIndex:function(){(0,H.Z)(!1,"Stacked layouts do not support relative indexing")},getRangesForPosition:function(e,t,i){(0,H.Z)(void 0!==o,"`getListStyle` must be called before `getPositionForIndex`");const s=e+o-1,r=y(e-n*o),a=y(e),l=y(s),c=y(s+n*o);return{visibleStartIndex:(0,Dc.Z)(a,i),visibleEndIndex:(0,Dc.Z)(l,i),partiallyVisibleStartIndex:(0,Dc.Z)(a,i),partiallyVisibleEndIndex:(0,Dc.Z)(l,i),renderStartIndex:(0,Dc.Z)(r,i),renderEndIndex:(0,Dc.Z)(c,i)}}}}var RC=n(58801),zC=n(82598);const UC=function(e){const{machineIdentifier:t,isRefreshing:n}=e;if(n)return y.createElement(zC.Z,{iconComponent:qp,title:(0,De.Z)("We're now building your Guide"),description:(0,De.Z)("Hang tight while we download all the data for what's on")});const i=(0,km.Z)(t,"manage","dvr");return y.createElement(zC.Z,{iconComponent:qp,title:(0,De.Z)("The Guide is empty"),description:(0,De.Z)("Please verify your channel mappings and refresh the Guide")},y.createElement(AM.Z,{to:i,kind:fo._8},(0,De.Z)("Go to DVR Settings")))};var VC=Object.assign;const BC=(0,f.$j)((function(){return(0,de.P1)((0,HM.Z)(),BM(),((e,t)=>({machineIdentifier:e.machineIdentifier,isRefreshing:!!t})))}))((function(e){return y.createElement(UC,VC({},e))}));var FC=n(14838),HC=n(26416),_C=n(81017);const QC=(0,de.P1)(ye.Z,(e=>e.timeFormat));var GC=n(91997),YC=n(9220),WC=n(84699),KC=n(5148),qC=n(80126),$C=n(64381);const JC=function(e,t,n={}){const{includeMinuteZero:i=!0,timeFormat:s="h:mma",separator:r="-"}=n,a=(0,hi.Z)(e),o=(0,hi.Z)(t),l=(0,$C.Z)(a,"a")===(0,$C.Z)(o,"a"),c=(0,Ri.Z)(a),d=(0,Ri.Z)(o);let u=s,p=s;return i||0!==c||(u=u.replace("h:mm","h")),l&&(u=u.replace("a","")),i||0!==d||(p=p.replace("h:mm","h")),`${(0,$C.Z)(a,u)}${r}${(0,$C.Z)(o,p)}`},XC=function(e){const{beginsAt:t,endsAt:n,timeFormat:i,channelTitle:s,contentRating:r}=e,{airTime:a,duration:o}=function(e,t,n,i){const s=Math.floor(Date.now()/1e3);let r="",a="";if(s>=e&&s<=t)r=(0,De.Z)("Now on {channel}",{channel:i}),a=Hi(t-s);else{const s=JC(e,t,{timeFormat:n,separator:" - "});r=(0,De.Z)("{timeRange} on {channel}",{timeRange:s,channel:i}),a=Fi(1e3*(t-e))}return{airTime:r,duration:a}}(t,n,i,s);return y.createElement("div",{className:"ChannelsGridDetailRowAirTime-container-3bEHAD"},a,y.createElement(tr.Z,null),o,y.createElement("div",{className:"ChannelsGridDetailRowAirTime-contentRating-23GTRD"},ws(r)))};var eP=n(757),tP=n(50316),nP=n(2016);const iP=(0,YM.Z)((function(){return(0,de.P1)(((e,{metricsContext:t})=>t),tP.Z,eP.Z,(0,_C.Z)(),((e,t,n,i={})=>{const s={};return e&&(s.context=e),{grandparentTitle:i.grandparentTitle,grandparentRoute:(0,ui.Z)(t,n,i.grandparentKey,s)}}))}))((function({className:e,tabIndex:t,grandparentTitle:n,grandparentRoute:i}){return y.createElement(nP.Z,{className:e,tabIndex:t,title:n,route:i})}));var sP=n(92797),rP=n(63210);const aP=(0,YM.Z)((function(){return(0,de.P1)((0,_C.Z)(),(0,rP.Z)(),((e={},t)=>({title:e.title,route:t})))}))(nP.Z),oP=function({className:e,year:t}){return y.createElement("span",{className:e,"data-qa-id":"metadataYear"},t)},lP=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({year:e.year})))}))(oP),cP=function(e){const{type:t,metadataItemEntityID:n,serverEntityID:i,providerEntityID:s}=e,r=function(e){let t;switch(e){case Ho.MOVIE:t=[aP,lP];break;case Ho.SHOW:t=[aP,sP.Z];break;case Ho.EPISODE:t=[iP,sP.Z];break;default:t=[aP]}return t}(t);return y.createElement("div",{className:"ChannelsGridDetailRowTitle-titleContainer-3wRj5q"},r.map(((e,t)=>{const r=0===t?"ChannelsGridDetailRowTitle-primaryTitle-27xNda":"ChannelsGridDetailRowTitle-secondaryTitle-3OB1RS";return y.createElement(e,{key:t,className:r,metadataItemEntityID:n,serverEntityID:i,providerEntityID:s})})))};var dP=n(52097),uP=n(10128);const pP=function(e){const{title:t,showPlay:n,showRecord:i,onPlayPress:s,onRecordPress:r}=e;return y.createElement("div",{className:"ChannelsGridMetadataCellButtons-actions-3YMhfi"},n?y.createElement(dP.Z,{className:"ChannelsGridMetadataCellButtons-playButton-1tyxlQ PlayButton-playButton-2dFmuo ChannelsGridMetadataCellButtons-button-3ILD7f",title:t,tabIndex:"-1","data-qa-id":"guide-row-item-play",onPress:s}):null,i?y.createElement(uP.Z,{className:"ChannelsGridMetadataCellButtons-recordButton-3gQ--M RecordButton-recordButton-2H5wQ_ PlayButton-playButton-2dFmuo RecordIcon-recordIconContainer-3wNYSz ChannelsGridMetadataCellButtons-button-3ILD7f",title:t,tabIndex:"-1","data-qa-id":"guide-row-item-record",onPress:r}):null)};var mP=n(5011);function hP(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-play-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M80,0L560,280L80,560L80,0Z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}hP.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const gP=hP,yP="ChannelsGridMetadataDetailButtons-icon-1JSr0h",vP=function(e){const{subscriptionType:t,isSubscribed:n,isOnAir:i,showRecord:s,onPlayPress:r,onRecordPress:a}=e,o=i?(0,De.Z)("Watch Now"):(0,De.Z)("Watch Channel"),l=n?(0,De.Z)("Recording Scheduled"):(0,De.Z)("Record");return y.createElement("span",null,y.createElement($h.Z,{className:"ChannelsGridMetadataDetailButtons-playButton-3dYhnc",kind:fo.Py,size:vc.HC,onPress:r},y.createElement(gP,{className:yP}),o),s?y.createElement($h.Z,{className:"ChannelsGridMetadataDetailButtons-recordButton-2jqEgw ChannelsGridMetadataDetailButtons-playButton-3dYhnc",kind:fo.Py,size:vc.HC,onPress:a},y.createElement(mP.Z,{className:yP,type:t}),l):null)};class fP extends y.Component{constructor(){super(...arguments),this.onRecordPress=e=>{const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,type:s,onRecordPress:r}=this.props;r({serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,subscriptionType:s})}}render(){const{className:e,title:t,subscriptionType:n,isCompact:i,isOnAir:s,isSubscribed:r,showPlay:a,showRecord:o,onPlayPress:l}=this.props,c=i?pP:vP;return y.createElement("span",{className:e},y.createElement(c,{title:t,subscriptionType:n,isOnAir:s,isSubscribed:r,showPlay:a,showRecord:o,onPlayPress:l,onRecordPress:this.onRecordPress}))}}const IP=fP;var bP=Object.prototype.hasOwnProperty,MP=Object.getOwnPropertySymbols,SP=Object.prototype.propertyIsEnumerable,EP=Object.assign;const DP={dispatchStartLiveTVPlayback:qa.lS},CP=(0,YM.Z)((function(){return(0,de.P1)((0,_C.Z)(),(0,de.P1)(((e,{beginsAt:t})=>t),((e,{endsAt:t})=>t),((e,t)=>{const n=Math.floor(Date.now()/1e3);return n>=e&&n<=t})),((e={},t)=>{const{type:n,title:i,grandparentTitle:s,subscriptionID:r,grandparentSubscriptionID:a,subscriptionType:o,grandparentSubscriptionType:l}=e;return{type:n,title:s||i,subscriptionType:l||o||n,isSubscribed:!(!a&&!r),isOnAir:t}}))}),DP)((function(e){const{dispatchStartLiveTVPlayback:t}=e,n=((e,t)=>{var n={};for(var i in e)bP.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&MP)for(var i of MP(e))t.indexOf(i)<0&&SP.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchStartLiveTVPlayback"]),{serverEntityID:i,providerEntityID:s,channelIdentifier:r,metricsPage:a,metricsContext:o}=e,l=(0,y.useCallback)((()=>{t(EP(EP({},{serverEntityID:i,providerEntityID:s,metricsPage:a,metricsContext:o}),{options:{type:$a.pX,identifier:r}}))}),[i,s,a,o,t,r]);return y.createElement(IP,EP(EP({},n),{onPlayPress:l}))}));function PP(e){const{className:t,metadataItemEntityID:n,serverEntityID:i,providerEntityID:s,mediaIndex:r,type:a,summary:o,thumb:l,contentRating:c,beginsAt:d,endsAt:u,timeFormat:p,channelIdentifier:m,channelTitle:h,channelShortTitle:g,showRecord:v,onRecordPress:f,onNextPress:I,onPrevPress:b}=e;return y.createElement("div",{className:t},y.createElement(WC.Z,{className:"ChannelsGridDetailRow-poster-1n_qdO PosterCard-card-3ds3Od",serverEntityID:i,providerEntityID:s,component:KC.Z,type:a,width:80,height:(0,qC.Cr)(80,a,null,YC.lD),url:l}),y.createElement("div",{className:"ChannelsGridDetailRow-preplayContainer-25YCkI"},y.createElement(cP,{type:a,serverEntityID:i,providerEntityID:s,metadataItemEntityID:n}),y.createElement(XC,{beginsAt:d,endsAt:u,timeFormat:p,channelTitle:g||h,contentRating:c}),y.createElement(CP,{serverEntityID:i,providerEntityID:s,metadataItemEntityID:n,channelIdentifier:m,mediaIndex:r,beginsAt:d,endsAt:u,showPlay:!0,showRecord:v,onRecordPress:f}),y.createElement("p",null,o),y.createElement("div",{className:"ChannelsGridDetailRow-navigationContainer-16oepJ"},y.createElement(GC.Z,{iconComponent:pp,title:(0,De.Z)("Previous"),onPress:b}),y.createElement(GC.Z,{iconComponent:dp,title:(0,De.Z)("Next"),onPress:I}))))}PP.defaultProps={className:"ChannelsGridDetailRow-container-1zy84S"};const wP=PP,TP=(0,f.$j)((function(){return(0,de.P1)(((e,{mediaIndex:t})=>t),(0,_C.Z)(),gC(mS.kD),QC,((e,t,n,i)=>{const{type:s,summary:r,grandparentThumb:a,thumb:o,contentRating:l}=t,c=t.Media[e],{beginsAt:d,endsAt:u,channelTitle:p,channelShortTitle:m,channelIdentifier:h}=c;return{type:s,summary:r,thumb:a||o,contentRating:l,beginsAt:d,endsAt:u,timeFormat:i,channelIdentifier:h,channelTitle:p,channelShortTitle:m,showRecord:!!n}}))}))(wP);var ZP=n(19013);const NP=function(e){return e.remotePlayer},AP=(0,de.P1)(NP,(e=>!!e));var xP=n(56151);const LP=new xP.Z({props:["capabilities","video","music","photo"]});var OP=n(36740),jP=n(238);function kP(e){let t;if(e){const n=C.Z.parseUrl(e),i=/^\/playQueues\/([^/?]+)/.exec(n.pathname||n.href);t=i?i[1]:void 0}return t}var RP=Object.assign,zP=n(34699),UP=n(66464),VP=n(58641),BP=n(98124),FP=n(35421);const HP="able",_P="unable",QP="untested";var GP=n(41890),YP=n(59223),WP=n(25168),KP=n(35589),qP=n(33232),$P=n(9010),JP=n(30983),XP=n(73004),ew=Object.assign;const tw="ui/player/remotePlayer/changeRemotePlayer",nw="ui/player/remotePlayer/syncRemotePlayerCurrentItem",iw="ui/player/remotePlayer/syncRemotePlayerState",sw="ui/player/remotePlayer/syncRemotePlayQueueState",rw="ui/player/remotePlayer/syncRemoteQuality",aw="ui/player/remotePlayer/syncRemoteStreams",ow="ui/player/remotePlayer/syncRemoteExperienceSettings",lw="ui/player/remotePlayer/changeRemotePlayerVolume",cw="ui/player/remotePlayer/showRemotePlayerError",dw="ui/player/remotePlayer/mirrorDetails",uw="ui/player/remotePlayer/discoverRemotePlayers",pw="ui/player/remotePlayer/idleRemotePlayer",mw="ui/player/remotePlayer/removeRemotePlayer",hw="ui/player/remotePlayer/confirmRemoteToLocal",gw="ui/player/remotePlyaer/cancelLocalToRemote",yw="ui/player/remotePlayer/closeLocalToRemote",vw="ui/player/remotePlayer/confirmLocalToRemote",fw=(0,No.Z)(tw),Iw=(0,No.Z)(nw),bw=(0,No.Z)(iw),Mw=(0,No.Z)(sw),Sw=(0,No.Z)(rw),Ew=(0,No.Z)(aw),Dw=(0,No.Z)(ow),Cw=(0,No.Z)(lw),Pw=(0,No.Z)(cw),ww=(0,No.Z)(dw),Tw=(0,No.Z)(uw),Zw=(0,No.Z)(pw),Nw=(0,No.Z)(mw),Aw=(0,No.Z)(hw),xw=(0,No.Z)(gw),Lw=(0,No.Z)(yw),Ow=(0,No.Z)(vw);function jw(e,t){const n=(0,Se.f_)(t);return e.get("ui").get(n+"Player")}function kw(e,t,n){return e.get("servers").populateServer(t).then((t=>(t.get("isCloud")?e.get("user").get("providers"):t.get("providers")).populate().then((e=>e)))).then((e=>{const t=e.get(n)||e.get(pa.Y3);return t?t.populate().then((e=>e)):g().Deferred().reject().promise()}))}const Rw={[tw](e,t){const n=(0,WS.cX)(e,{playerIdentifier:t});e.set("remotePlayer",n)},[nw](e,{playQueueType:t,options:n},i){const{machineIdentifier:s,providerIdentifier:r,containerKey:a,key:o,mediaIndex:l,bitrate:c,playQueueItemID:d,shouldRefreshPlayQueue:u,initialState:p}=n;if(!a||!o)return;const m=jw(e,t);if(!m)return;const h=s||KP.X,y=e.get("servers").populateServer(h),v=kw(e,s,r),f=v.then((e=>function({providerModel:e,currentPlayQueueModel:t,containerKey:n,playQueueOptions:i}){const s=kP(n)||n;return t&&t.get("playQueueID")===s?t:(0,jP.Z)(RP({providerModel:e,playQueueID:s},i))}({providerModel:e,currentPlayQueueModel:m.get("playQueue"),containerKey:a,playQueueOptions:{playQueueType:t,playQueueOwn:!1}})));g().when(y,v,f).then(((t,n,s)=>{if(m.get("playQueue")===s){if(!m.get("isPlayQueueLoading")&&!s.get("isUpdatePending")&&u){const e=s.get("playQueueItems"),t=null!=d?e.get(d):e.find((e=>o===e.get("metadataItem").get("key")));if(m.set({isLyricsVisible:!1}),t){const n=s.get("playQueueSelectedItemID"),i=e.get(n),r=s.get("playQueueSelectedItemOffset"),a=e.indexOf(i),o=e.indexOf(t),l=t.get("metadataItem"),c=t.get("playQueueItemID");(0,D.Z)(`[Cast] The current metadata item on the remote player changed to ${l.get("title")}`),(0,VP.ZP)(s).done((()=>{s.set({playQueueSelectedItemID:c,playQueueSelectedItemOffset:r+(o-a)})}))}else(0,VP.ZP)(s)}}else!function(e,t){const{appModel:n,serverModel:i,providerModel:s,playerModel:r,playQueueModel:a,openState:o,mediaIndex:l,bitrate:c,initialState:d}=e;if(r.get("isPlayQueueLoading"))return;const u=a.get("type");r.restoreDefaults({serverEntityID:i.entityID(),providerEntityID:s.entityID(),isOpen:!0,openState:o||u===$s.j0?YP.y:YP.K,isPlayQueueLoading:!0,playQueue:a,playbackStartTime:Date.now()}),function({serverModel:e,providerModel:t,playQueueModel:n}){if(!n.get("isLocal"))return(0,VP.ZP)(n);const i={server:e,provider:t},s=new MD.Z({containerKey:n.get("playQueueID")},i);return s.fetch().then((()=>s.get("metadataItems").length?(0,UP.Z)({providerModel:t,metadataListModel:s,playQueueModel:n}).then(null,(()=>g().Deferred().reject("ERROR_COMPANION_PLAY_QUEUE_COULD_NOT_ADD_TO").promise())):g().Deferred().reject("ERROR_COMPANION_PLAY_QUEUE_EMPTY").promise()),(()=>g().Deferred().reject("ERROR_COMPANION_PLAY_QUEUE_COULD_NOT_POPULATE").promise()))}({serverModel:i,providerModel:s,playQueueModel:a}).done((()=>{r.set(ew({isPlayQueueLoading:!1},d)),t(Sw({playQueueType:u,mediaIndex:l,bitrate:c}))})).fail((()=>{const e=n.get("remotePlayer");if(e){const t=e.get("friendlyName");r.restoreDefaults({hasError:!0,errorMessage:(0,De.Z)('An error occurred loading the media being played on "{playerName}".',{playerName:t})})}}))}({appModel:e,serverModel:t,providerModel:n,playerModel:m,playQueueModel:s,openState:m.get("isOpen")?null:YP.y,mediaIndex:l,bitrate:c,initialState:p},i)})).fail((()=>{const t=e.get("remotePlayer");if(t){const e=t.get("friendlyName");m.restoreDefaults({hasError:!0,errorMessage:(0,De.Z)('"{playerName}" is playing media from an unknown source.',{playerName:e})})}}))},[iw](e,t){const{playQueueType:n,playerState:i,providerIdentifier:s,machineIdentifier:r,liveTVSessionSubscriptionKey:a,liveTVSessionStartedAt:o,liveTVSessionSeekRangeStartedAt:l,liveTVSessionSeekStartSeconds:c,liveTVSessionSeekEndSeconds:d,liveTVSessionCurrentPosition:u,liveTVSessionChannelIdentifier:p}=t,m=jw(e,n);if(!m||!m.get("isOpen"))return;const h=(0,JM.SW)(e,{serverEntityID:m.get("serverEntityID")});kw(e,r,s).then((e=>function(e,t,n,i,s,r,a,o,l,c){if(!i)return n.set({liveTVSession:null}),g().Deferred().resolve().promise();const d=n.get("liveTVSession"),u={key:i,currentPosition:l,startedAt:s,channelIdentifier:c,captureBuffer:{startedAt:r,seekStartSeconds:a,seekEndSeconds:o},nextPosition:null,lastSeekPosition:null};return d&&d.get("key")===i||n.set({liveTVSession:new OP.Z(u,{provider:t,server:t.server})}),e.get("isCloud")?(null==d||d.set(u),g().Deferred().resolve().promise()):n.get("liveTVSession").populate().then((e=>(e.set(u),e)))}(h,e,m,a,o,l,c,d,u,p))),(0,Rt.c9)((()=>{m.set(i)}))},[sw](e,t){const{playQueueType:n,playQueueVersion:i,repeatAll:s,repeatOne:r}=t,a=jw(e,n);if(!a||!a.get("isOpen"))return;const o=a.get("playQueue");if(a.set({repeatAll:s,repeatOne:r}),o){const e=o.get("playQueueVersion");o.set("repeat",s),!o.get("isUpdatePending")&&e<i&&o.fetch()}},[rw](e,{playQueueType:t,mediaIndex:n=0,bitrate:i}){const s=jw(e,t);if(!s||!s.get("isOpen")||s.get("isPlayQueueLoading"))return;const r=s.get("playQueue"),a=r.get("playQueueItems").get(r.get("playQueueSelectedItemID"));if(!a)return;const o=a.get("metadataItem"),l=(0,Ho.getMetadataType)(a.get("type"));if(!l||l.mediaType!==$a.pX)return;const c=o.get("Media")[n],d=LP.prop("video"),u=qP.Z.getAvailableQualitiesFor(c,o.server,{lowestQualityIndex:d.lowestQualityIndex}),p=e.get("user").get("experienceSettings");let m=null==i?p.defaults().localQuality:qP.Z.getNearestIndexToBitrate(i);if(qP.Z.isExplicitQuality(m)){const e=u[0],t=u[u.length-1];e&&m<e.index?m=e.index:t&&m>t.index&&(m=qP.Z.ORIGINAL)}s.set({qualityIndex:m,availableQualities:u})},[aw](e,t,n){const{playQueueType:i,key:s,mediaIndex:r=0,partIndex:a=0,audioStreamID:o,subtitleStreamID:l}=t,c=jw(e,i);if(!c||!c.get("isOpen")||c.get("isPlayQueueLoading"))return;const d=c.get("playQueue"),u=d.get("playQueueItems").get(d.get("playQueueSelectedItemID")).get("metadataItem"),p=u.get("Media")[r],m=p&&p.Part[a];if(s!==u.get("key"))return;if(!m)return;const h=E().findWhere(m.Stream,{streamType:XP.Z.get("audio").id,selected:!0}),g=E().findWhere(m.Stream,{streamType:XP.Z.get("subtitles").id,selected:!0}),y=null==o?void 0:o.toString(),v=(null==l?void 0:l.toString())||WP.H;null!=o&&h&&h.id!==y&&n((0,Io.Bs)({metadataItemEntityID:u.entityID(),mediaIndex:r,streamTypeString:"audio",streamID:y,updateLocalOnly:!0})),g&&g.id!==v&&n((0,Io.Bs)({metadataItemEntityID:u.entityID(),mediaIndex:r,streamTypeString:"subtitles",streamID:v,updateLocalOnly:!0}))},[ow](e,t){e.get("user").get("experienceSettings").set(t)},[lw](e,t){e.get("remotePlayer").set("volume",t)},[cw](e,{playQueueType:t,errorMessage:n}){const i=jw(e,t);i&&i.restoreDefaults({hasError:!0,errorMessage:n})},[dw](e,t){const n=(0,zP.Z)(e),i=(0,JM.js)(e,t),s=(0,JM.$R)(e,t),r=e.get("remotePlayer"),a=r.get("protocol"),o=r.get("protocolCapabilities");(0,$P.Z)({protocol:a,protocolCapabilities:o,providerIdentifier:(0,ga.Z)(i.get("identifier"),i.get("providerIdentifier")),userFeaturesByUUID:(0,BP.Z)(e)})&&n.mirrorDetails(s)},[uw](e){const t=e.get("companionServer");t&&(t.get("desktop").get("players").fetch(),t.get("desktop").get("neighborhoodDevices").fetch()),e.get("user").get("desktop").get("cloudCompanions").forEach((e=>{e.get("cloudPlayers").fetch().then((()=>e.set({linkState:"linked"})),((t,{status:n})=>e.set({linkState:402===n?_P:HP})))}))},[pw](e,{playQueueType:t},n){const i=jw(e,t);n((0,FP.n5)()),i.restoreDefaults()},[mw](e){const t=e.get("remotePlayer");if(!t)return;const n=e.get("ui"),i=n.get("audioVideoPlayer"),s=n.get("photoPlayer");i.get("isOpen")&&i.set({confirmRemoteToLocal:!0,controllable:null}),s.get("isOpen")&&s.set({confirmRemoteToLocal:!0,controllable:null});const r=t.get("protocol");r===GP.l?(0,M.DB)("remoteCastPlayerManager").endSession():r===GP.D&&(0,M.DB)("remotePlexPlayerManager").endSession(),e.unset("remotePlayer")},[hw](e,{playerType:t}){const n=e.get("ui").get(t+"Player"),i=n.get("playQueue"),s=i.get("playQueueItems"),r=i.get("playQueueSelectedItemID"),a=s.get(r).get("metadataItem");i.set("own",!0),(0,VP.ZP)(i),n.set({confirmRemoteToLocal:!1,startMetadataItemEntityID:a.entityID(),startOffsetMilliseconds:1e3*n.get("positionSeconds")})},[gw](e,{playerType:t},n){(0,JP.F_)(e,t).set("confirmLocalToRemote",1),n((0,it.Mh)({playerType:t}))},[yw](e,{playerType:t}){(0,JP.F_)(e,t).set("confirmLocalToRemote",1)},[vw](e,{playerType:t}){const n=(0,JP.F_)(e,t);(0,zP.Z)(e).startPlayback(n),n.set("confirmLocalToRemote",3)}};var zw=n(94285),Uw=n(99741);const Vw=(0,YM.Z)((function(){return(0,de.P1)(((e,{metricsContext:t})=>t),Kh.Z,Wh.Z,(0,_C.Z)(),((e,t,n,i={})=>{const s={};e&&(s.context=e);const r=i.skipParent&&i.subtype===zo.WEBSHOW;return{title:i.title,index:i.index,route:(0,ui.Z)(t,n,i.key,s),parentTitle:i.parentTitle,parentIndex:r?null:i.parentIndex,parentRoute:i.skipParent?null:(0,ui.Z)(t,n,i.parentKey,s),originallyAvailableAt:i.originallyAvailableAt}}))}))(Uw.Z);function Bw(e){const{className:t}=e;return y.createElement(zw.Z,{className:t},(0,De.Z)("New"))}Bw.defaultProps={className:"PremiereAiringBadge-badge-2xdD6O"};const Fw=Bw,Hw=parseInt(ku.Z.channelGridChannelColumnWidth,10),_w=.3*Hw;class Qw extends y.Component{constructor(e,t){super(e,t),this.state={placeholderWidth:_w+Math.random()*(Hw-_w)}}render(){const{className:e,children:t}=this.props,{placeholderWidth:n}=this.state;return y.createElement("div",{className:e,style:{width:`${n}px`}},y.createElement("div",{className:"ChannelsGridPlaceholder-bar-FNbCf2"},t))}}Qw.defaultProps={className:"ChannelsGridPlaceholder-container-1m1AHm"};const Gw=Qw,Yw="ChannelsGridMetadataItemCell-onAir-GeK-mF",Ww="ChannelsGridMetadataItemCell-finishedAiring-13rKEJ",Kw="ChannelsGridMetadataItemCell-content-1rWuwg";class qw extends y.Component{constructor(){super(...arguments),this.onCellPress=()=>{const{metadataItemEntityID:e,mediaIndex:t,cellIndex:n,onPress:i}=this.props;i(e,t,n)}}render(){const{className:e,metadataItemEntityID:t,serverEntityID:n,providerEntityID:i,channelIdentifier:s,mediaIndex:r,width:a,type:o,subscriptionType:l,title:c,premiere:d,canRecord:u,showEpisodeTitle:p,showLoader:m,isOnAir:h,isFinishedAiring:g,isSelected:v,isSubscribed:f,onRecordPress:I}=this.props;if(!t)return y.createElement("div",{className:we()(e,h&&Yw,g&&Ww),style:{width:`${a}px`}},m?y.createElement("div",{className:"ChannelsGridMetadataItemCell-placeholderContainer-1gI41Y"},y.createElement(Gw,null),y.createElement(Gw,null)):y.createElement("div",{className:Kw},(0,De.Z)("Unknown Airing")));const b=function(e,t){let n=null;switch(e){case Ho.MOVIE:n=lP;break;case Ho.SHOW:case Ho.EPISODE:t&&(n=Vw)}return n}(o,p);return y.createElement("div",{className:we()(e,h&&Yw,v&&"ChannelsGridMetadataItemCell-selected-1tuqu8",(h||u)&&"ChannelsGridMetadataItemCell-hoverable-1kBEts",g&&Ww),style:{width:`${a}px`},"data-qa-id":"guide-row-item"},y.createElement("div",{className:Kw},y.createElement(AM.Z,{className:"ChannelsGridMetadataItemCell-underlay-OvZi6p",onPress:this.onCellPress}),y.createElement("div",null,c),y.createElement("div",{className:"ChannelsGridMetadataItemCell-actionsContainer-3V1QvE"},y.createElement("div",{className:"ChannelsGridMetadataItemCell-subTitleContainer-1zKqch"},b?y.createElement(b,{className:"ChannelsGridMetadataItemCell-subTitle-1yKJC2",serverEntityID:n,providerEntityID:i,metadataItemEntityID:t}):null,d?y.createElement(Fw,{className:"ChannelsGridMetadataItemCell-premiereBadge-2b_On_ PremiereAiringBadge-badge-2xdD6O"}):null,f?y.createElement(zw.Z,{className:"ChannelsGridMetadataItemCell-subscriptionBadge-32is_N"},y.createElement(mP.Z,{type:l})):null),y.createElement(CP,{className:"ChannelsGridMetadataItemCell-actions-3hY2qI",isCompact:!0,serverEntityID:n,providerEntityID:i,metadataItemEntityID:t,channelIdentifier:s,mediaIndex:r,showRecord:u,showPlay:h,onRecordPress:I}))))}}qw.defaultProps={className:"ChannelsGridMetadataItemCell-container-2U3-VL"};const $w=qw;var Jw=Object.prototype.hasOwnProperty,Xw=Object.getOwnPropertySymbols,eT=Object.prototype.propertyIsEnumerable,tT=Object.assign;const nT={dispatchMirrorDetails:ww},iT=(0,f.$j)((function(){return(0,de.P1)(AP,(0,_C.Z)(),(0,de.P1)(((e,{mediaIndex:t})=>t),(0,_C.Z)(),((e,t)=>t?t.Media[e]:null)),(0,de.P1)(((e,{beginsAt:t})=>t),((e,{endsAt:t})=>t),((e,t)=>{const n=Math.floor(Date.now()/1e3);return{isOnAir:n>=e&&n<=t,isFinishedAiring:n>=t}})),gC(mS.kD),((e,t={},n,i,s)=>{const{type:r,grandparentTitle:a,title:o,subscriptionID:l,subscriptionType:c,grandparentSubscriptionID:d,grandparentSubscriptionType:u,index:p,originallyAvailableAt:m}=t,h=!!n&&n.premiere,g=null!=l||null!=d;let y=!0;if(null==p&&m){const e=new Date,t=(0,ZP.Z)(m);y=e.getDate()!==t.getDate()||e.getMonth()!==t.getMonth()||e.getFullYear()!==t.getFullYear()}return tT(tT({},i),{type:r,title:a||o,subscriptionType:c||u,showEpisodeTitle:y,isRemotePlayer:e,isSubscribed:g,premiere:h,canRecord:!!s})}))}),nT)((function(e){const{dispatchMirrorDetails:t}=e,n=((e,t)=>{var n={};for(var i in e)Jw.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Xw)for(var i of Xw(e))t.indexOf(i)<0&&eT.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchMirrorDetails"]),{serverEntityID:i,providerEntityID:s,metadataItemEntityID:r,isRemotePlayer:a,isSelected:o}=e;return(0,y.useEffect)((()=>{o&&a&&t({serverEntityID:i,providerEntityID:s,metadataItemEntityID:r})}),[a,o,i,s,r,t]),y.createElement($w,tT({},n))})),sT=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.channelGridPage),((e,t)=>{const{airedProgress:n,columnWidth:i,visibleColumns:s}=e;return{width:n/100*s*i}}))}))((function(e){const{className:t,width:n,isActive:i}=e,s={width:`${n}px`};return y.createElement("div",{className:t},y.createElement("div",{className:we()("ChannelsGridProgress-fill-2MXwF_",i&&"ChannelsGridProgress-active-2iQPOj"),style:s}))}));var rT=n(34470);function aT(){const[e,t]=(0,y.useState)(!1),n=(0,y.useCallback)((()=>{t(!0)}),[]),i=(0,y.useCallback)((()=>{t(!1)}),[]);return[e,{onMouseEnter:n,onMouseLeave:i,onFocus:n,onBlur:i}]}function oT(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-recent-channel-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M317.1429 42C185.7926 42 79.2857 148.5712 79.2857 280H0l99.6533 99.713c3.3475 3.35 8.7746 3.35 12.1219 0L211.428 280h-79.2852c0-102.34 82.7223-185.1112 185-185.1112 102.2778 0 185.0006 82.7712 185.0006 185.1112 0 102.3391-82.7228 185.1117-185.0005 185.1117-51.0069 0-97.2566-20.8926-130.5566-54.4767l-37.5292 37.5517C192.1354 491.2908 251.3366 518 317.143 518 448.493 518 555 411.4292 555 280c0-131.4288-106.5069-238-237.8571-238zm-37.1435 132.2208v132.2225l112.32 66.1117 19.8223-33.0559-92.4994-52.89V174.2208h-39.6429z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}oT.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const lT=oT;var cT=Object.assign;const dT=parseInt(ku.Z.channelGridChannelIconWidth,10),uT=parseInt(ku.Z.channelGridRowHeight,10);function pT(e){const{className:t,serverEntityID:n,providerEntityID:i,channel:s,isCloudServer:r,onPlayPress:a}=e,[o,l]=aT(),c=s.vcn||s.identifier;return y.createElement("div",cT({"data-qa-id":"guide-channel-name",className:t},l),r?null:y.createElement("div",{className:"ChannelsGridRowTitle-numberContainer-19w63A"},o?y.createElement(dP.Z,{"data-qa-id":"guide-channel-play",className:"ChannelsGridRowTitle-playButton-i1gROw PlayButton-playButton-2dFmuo",title:(0,De.Z)("Play Channel {channel}",{channel:c}),tabIndex:"-1",onPress:a}):y.createElement("span",null,c)),y.createElement("div",{className:we()("ChannelsGridRowTitle-thumbnailContainer-2MPlKU",r&&"ChannelsGridRowTitle-fullWidth-2GU8xP",s.isRecent&&"ChannelsGridRowTitle-isRecent-MgKH9o")},r&&o?y.createElement(dP.Z,{"data-qa-id":"guide-channel-play",className:"ChannelsGridRowTitle-fullWidthPlayButton-24eHBc ChannelsGridRowTitle-playButton-i1gROw PlayButton-playButton-2dFmuo",title:(0,De.Z)("Play Channel {channel}",{channel:s.callSign}),tabIndex:"-1",onPress:a}):null,s.thumb?y.createElement(ft.Z,{key:s.thumb,serverEntityID:n,providerEntityID:i,url:s.thumb,className:"ChannelsGridRowTitle-thumbnail-23YXnB",backgroundSize:"contain",width:dT,height:uT}):y.createElement("div",{className:"ChannelsGridRowTitle-channelCallSignText-2gWrKL",title:s.callSign},s.callSign)),s.isRecent?y.createElement(lT,{className:"ChannelsGridRowTitle-icon-1EBT3l"}):null)}pT.defaultProps={className:"ChannelsGridRowTitle-container-1DnP0p"};const mT=pT;var hT=Object.prototype.hasOwnProperty,gT=Object.getOwnPropertySymbols,yT=Object.prototype.propertyIsEnumerable,vT=Object.assign;const fT={dispatchStartPlayback:it.wA,dispatchStartLiveTVPlayback:qa.lS},IT=(0,YM.Z)((function(){return(0,de.P1)(TC(),(e=rT.K,(0,de.P1)((0,UM.Z)(e),(t=>t.protocols.includes(e)))),((e,t)=>({isCloudServer:e,hasLiveTVProtocol:t})));var e}),fT)((function(e){const{dispatchStartPlayback:t,dispatchStartLiveTVPlayback:n}=e,i=((e,t)=>{var n={};for(var i in e)hT.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&gT)for(var i of gT(e))t.indexOf(i)<0&&yT.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchStartPlayback","dispatchStartLiveTVPlayback"]),{serverEntityID:s,providerEntityID:r,channel:a,metricsPage:o,metricsContext:l,isCloudServer:c,hasLiveTVProtocol:d}=e,{identifier:u}=a,p=(0,y.useCallback)((()=>{const e={serverEntityID:s,providerEntityID:r,metricsPage:o,metricsContext:l};c||d?n(vT(vT({},e),{options:{type:$a.pX,identifier:u}})):t(e)}),[s,r,o,l,c,d,n,u,t]);return y.createElement(mT,vT(vT({},i),{channel:a,isCloudServer:c,onPlayPress:p}))}));function bT(e){const{className:t,rowClassName:n,serverEntityID:i,providerEntityID:s,selectedMetadataItemEntityID:r,selectedMediaIndex:a,selectedMediaItemRow:o,channel:l,cellIndex:c,columnWidth:d,columnTimes:u,isFetching:p,onMetadataItemPress:m,onRecordPress:h,onNextPress:g,onPrevPress:v,onDetailRowMeasure:f}=e,I=(0,HC.Z)(e),b=u[0],M=u[u.length-1],S=u[1]-u[0];return y.createElement("div",{className:t,style:I.style,"data-qa-id":"guide-row"},y.createElement("div",{className:n},y.createElement(IT,{className:"ChannelsGridRow-title-Y5aGQy ChannelsGridRowTitle-container-1DnP0p",serverEntityID:i,providerEntityID:s,channel:l}),y.createElement("div",{className:"ChannelsGridRow-programsContainer-1nkFtm"},y.createElement(sT,{className:"ChannelsGridRow-progress-1e5kyu"}),l.programs.map(((e,t)=>{const n=Math.max(e.beginsAt,b),u=(Math.min(e.endsAt,M)-n)/S*d,g=c===o&&r===e.metadataItemEntityID&&a===e.mediaIndex;return y.createElement(iT,{key:t,width:u,className:"ChannelsGridRow-program-3_WUYy ChannelsGridMetadataItemCell-container-2U3-VL",beginsAt:e.beginsAt,endsAt:e.endsAt,metadataItemEntityID:e.metadataItemEntityID,mediaIndex:e.mediaIndex,serverEntityID:i,providerEntityID:s,channelIdentifier:l.identifier,cellIndex:c,isSelected:g,showLoader:p&&!e.metadataItemEntityID,onPress:m,onRecordPress:h})})))),c===o?y.createElement(OC.Z,{key:r,onMeasure:f},y.createElement(TP,{serverEntityID:i,providerEntityID:s,metadataItemEntityID:r,mediaIndex:a,onRecordPress:h,onNextPress:g,onPrevPress:v})):null)}bT.defaultProps={rowClassName:"ChannelsGridRow-container-38wkQ-"};const MT=(0,y.memo)(bT),ST="ChannelsGridTimeline-navigationButton-3qQUEd";function ET(e){const{className:t,enablePrevious:n,enableNext:i,startDate:s,columnTimes:r,timeFormat:a,columnWidth:o,dispatchPrevious:l,dispatchNext:c}=e;return y.createElement("div",{className:t},y.createElement("div",{className:"ChannelsGridTimeline-dayContainer-2UPaJl"},s?(0,gi.Z)(s,"EEEE, LLL dd"):null),y.createElement("div",{className:"ChannelsGridTimeline-labelContainer-DE-gBH"},r.map(((e,t)=>y.createElement("div",{key:t,className:"ChannelsGridTimeline-label-1MPGxp",style:{width:`${o}px`}},function(e,t="HH:mm:ss"){return e?(0,$C.Z)(e,t):""}(1e3*e,a))))),y.createElement("div",{className:"ChannelsGridTimeline-navigationButtons-2GChH5"},y.createElement(GC.Z,{className:ST,iconComponent:pp,title:(0,De.Z)("Previous"),isDisabled:!n,onPress:l}),y.createElement(GC.Z,{className:ST,iconComponent:dp,title:(0,De.Z)("Next"),isDisabled:!i,onPress:c})))}ET.defaultProps={className:"ChannelsGridTimeline-container-1M5T9M"};const DT=ET,CT={dispatchNext:WD,dispatchPrevious:KD},PT=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.channelGridPage),QC,((e,t)=>{const{startTime:n,columnWidth:i}=e,s=new Date-108e5;let r=new Date(1e3*n);const a=r>s;return Zi(n)&&(r=null),{timeFormat:t,startDate:r,columnWidth:i,enablePrevious:a,enableNext:!0}}))}),CT)(DT),wT="ChannelsGrid-innerEmptyPage-3pNmC7 InnerEmptyPage-innerEmptyPage-4wvQ0- EmptyPage-emptyPage-DjF6N1";var TT=Object.assign;const ZT=parseInt(ku.Z.channelGridRowHeight,10)-1,NT={selectedMetadataItemEntityID:null,selectedMediaIndex:null,selectedMediaItemRow:-1,selectedMediaItemHeight:0};class AT extends y.Component{constructor(e,t){super(e,t),this.getCellHeights=()=>{const{selectedMediaItemRow:e,selectedMediaItemHeight:t}=this.state;return this.props.channels.map(((n,i)=>{let s=ZT;return i===e&&(s+=t||140),s}))},this._updateProgress=()=>{this.props.dispatchUpdateAiredProgress(),this._resetUpdateTimeout()},this.onMetadataItemPress=(e,t,n)=>{this.state.selectedMetadataItemEntityID!==e||this.state.selectedMediaIndex!==t||this.state.selectedMediaItemRow!==n?this.setState({selectedMetadataItemEntityID:e,selectedMediaIndex:t,selectedMediaItemRow:n,selectedMediaItemHeight:140}):this.setState(NT)},this.onDetailRowMeasure=({height:e})=>{this.setState({selectedMediaItemHeight:e})},this.onPrevPress=()=>{var e;const{selectedMetadataItemEntityID:t,selectedMediaIndex:n,selectedMediaItemRow:i}=this.state,{programs:s}=this.props.channels[i],r=s.findIndex((e=>e.metadataItemEntityID===t&&e.mediaIndex===n))-1,{metadataItemEntityID:a,mediaIndex:o}=null!=(e=s[r])?e:{};a&&this.setState({selectedMetadataItemEntityID:a,selectedMediaIndex:o}),r<=1&&this.props.dispatchNavigateTimeBack()},this.onNextPress=()=>{var e;const{selectedMetadataItemEntityID:t,selectedMediaIndex:n,selectedMediaItemRow:i}=this.state,{programs:s}=this.props.channels[i],r=s.findIndex((e=>e.metadataItemEntityID===t&&e.mediaIndex===n))+1,{metadataItemEntityID:a,mediaIndex:o}=null!=(e=s[r])?e:{};a&&this.setState({selectedMetadataItemEntityID:a,selectedMediaIndex:o}),r>=s.length-1&&this.props.dispatchNavigateTimeForward()},this.onDetailRowMeasure=({height:e})=>{this.setState({selectedMediaItemHeight:e})},this.renderCell=e=>{const{serverEntityID:t,providerEntityID:n,columnTimes:i,columnWidth:s,channels:r,isPending:a,onRecordPress:o}=this.props,{selectedMetadataItemEntityID:l,selectedMediaIndex:c,selectedMediaItemRow:d}=this.state,u=r[e.cellIndex];return u?y.createElement(MT,TT(TT({},e),{className:"ChannelsGrid-gridRowCell-39dHO5 ChannelsGrid-gridContainer-3bz1oT",rowClassName:"ChannelsGrid-gridRow-1znZPv ChannelsGridRow-container-38wkQ-",channel:u,serverEntityID:t,providerEntityID:n,selectedMetadataItemEntityID:l,selectedMediaIndex:c,selectedMediaItemRow:d,columnTimes:i,columnWidth:s,isFetching:a,onMetadataItemPress:this.onMetadataItemPress,onNextPress:this.onNextPress,onPrevPress:this.onPrevPress,onDetailRowMeasure:this.onDetailRowMeasure,onRecordPress:o})):null},this._updateTimeout=null,this.state=NT}static getDerivedStateFromProps(e,t){const{selectedMediaIndex:n,selectedMetadataItemEntityID:i,selectedMediaItemRow:s}=t,r=e.channels[s];return r&&0!==r.programs.length?r.programs.find((e=>e.mediaIndex===n&&e.metadataItemEntityID===i))?null:NT:null}componentDidMount(){this._updateProgress()}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}componentDidUpdate(e){(0,hC.Z)(this.props.columnTimes,e.columnTimes)||this._updateProgress()}_resetUpdateTimeout(){this._updateTimeout&&window.clearTimeout(this._updateTimeout);const e=6e4-Date.now()%6e4;this._updateTimeout=window.setTimeout(this._updateProgress,e)}render(){const{className:e,serverEntityID:t,providerEntityID:n,viewportWidth:i,viewportHeight:s,columnTimes:r,channels:a,isCloudServer:o,isEmpty:l,showSpinner:c,showError:d}=this.props,u=o?"uniqueId":"identifier";return y.createElement("div",{className:e},c||d||l?null:y.createElement(tg,{className:"ChannelsGrid-banner-1oKldN ProgramGuideGracenoteMigrationBanner-container-3KhZOk",serverEntityID:t,providerEntityID:n}),c||d||l?null:y.createElement(PT,{className:"ChannelsGrid-timeline-fnhU5q ChannelsGridTimeline-container-1M5T9M",columnTimes:r}),d?y.createElement(FC.Z,{className:wT,title:(0,De.Z)("There was an error loading channels")}):null,c?y.createElement(zC.Z,{className:wT},y.createElement(RC.Z,{label:(0,De.Z)("Loading channels")})):null,c||d||!l?null:y.createElement(BC,{serverEntityID:t,providerEntityID:n}),c||d||l?null:y.createElement(jC.Z,{className:"ChannelsGrid-gridContent-3f0J_F",scrollerClassName:"ChannelsGrid-gridInnerContent-1HXxYn VirtualListScroller-scroller-1ap5-a",keyPropName:u,items:a,scrollDirection:vb.yZ,viewportWidth:i,viewportHeight:s,size:a.length,layout:kC({getCellHeights:this.getCellHeights}),cellRenderer:this.renderCell,onMeasure:this.onScrollerMeasure}))}}AT.defaultProps={className:"ChannelsGrid-gridContainer-3bz1oT",columnTimes:[],isCloudServer:!1};const xT=AT;var LT=Object.assign;const OT={dispatchUpdateAiredProgress:$D,dispatchNavigateTimeForward:WD,dispatchNavigateTimeBack:KD},jT=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.channelGridPage),(0,SC.Z)(),((e,t={})=>{const{isPending:n=!0,isPopulated:i=!1,metadataItems:s=[],error:r}=t,a=!!n&&!i&&!r,o=!!r,l=i&&!n&&!r&&0===s.length;return LT(LT({},e),{isPending:n,isEmpty:l,showSpinner:a,showError:o})}))}),OT)(xT);var kT=n(89888),RT=n(40822);const zT="bool",UT="double",VT="group",BT="lineup",FT="location",HT="select",_T="provider/providerSettings/fetchProviderSettings",QT="provider/providerSettings/fetchProviderSettingSelectOptions",GT="provider/provderSettings/clearProviderSettingFetchError",YT="provider/providerSettings/fetchProviderSettingLocationOptions",WT="provider/providerSettings/populateProviderSettingLocationOptions",KT="provider/providerSettings/fetchProviderSettingLineupChannels",qT="provider/providerSettings/populateProviderSettingLineupChannels",$T="provider/providerSettings/fetchProviderSettingRecentChannelsInGrid",JT="provider/providerSettings/populateProviderSettingRecentChannelsInGrid",XT="provider/providerSettings/updateProviderSetting",eZ="provider/providerSettings/clearProviderSettingUpdateError",tZ="provider/providerSettings/populateProviderSettingOptions",nZ=(0,No.Z)(_T),iZ=(0,No.Z)(QT),sZ=(0,No.Z)(GT),rZ=(0,No.Z)(YT),aZ=(0,No.Z)(WT),oZ=(0,No.Z)(KT),lZ=(0,No.Z)(qT),cZ=(0,No.Z)($T),dZ=(0,No.Z)(JT),uZ=(0,No.Z)(XT),pZ=(0,No.Z)(eZ),mZ=(0,No.Z)(tZ);function hZ(e,t){return(0,JM.js)(e,t).get("features").get(mS.L6)}function gZ(e,t){return hZ(e,t).get("settings").get(t.settingID)}function yZ(e,t){switch(e.get("type")){case BT:{const n=e.get("lineup"),i=new kT.Z(t.map((e=>{const t=n.findWhere({id:e.id});return t.set({hidden:e.hidden}),t})));e.set("lineup",i);break}case FT:{const n=e.get("locations").get(t.country);e.set({country:t.country,countryLabel:n.get("title"),postalCode:t.postalCode});break}case HT:E().each(t,((t,n)=>{e.get("options").get(n).set({selected:t})})),e.set("selectedCount",E().values(t).filter((e=>e)).length);break;default:e.set("value",t[e.id])}}function vZ(e,t,n){const i=E().mapObject(t,((e,t)=>!0===e?"1":!1===e?"0":e)),s=C.Z.join(E().result(e,"url"),{prefs:i}),r=n.getXHROptions(s,{type:"PUT"});return g().ajax(r).then((()=>{yZ(e,t)}))}const fZ={[_T]:(0,qM.Z)({key:"settings",getModel:hZ}),[QT]:(0,qM.Z)({key:"options",getModel:gZ}),[YT]:(0,qM.Z)({key:"locations",getModel:gZ}),[WT]:(0,$M.Z)({key:"locations",fetchActionCreator:rZ,getModel:gZ}),[KT]:(0,qM.Z)({key:"lineup",getModel:gZ}),[qT]:(0,$M.Z)({key:"lineup",fetchActionCreator:oZ,getModel:gZ}),[$T]:(0,qM.Z)({key:"recentChannelsInGrid",getModel:gZ}),[JT]:(0,$M.Z)({key:"recentChannelsInGrid",fetchActionCreator:cZ,getModel:gZ}),[XT](e,t){const{settingID:n,values:i}=t,s=(0,JM.js)(e,t),r=s.get("features").get(mS.L6),a=e.get("ui").get("providerSettingsPage"),o=r.get("settings").get(n);a.set({isUpdatePending:!0,updateError:null});const l=[];if(o.get("type")===VT)o.get("settings").forEach((e=>{const t={[e.id]:i[e.id]};l.push(vZ(e,t,s))}));else if(o.get("type")===BT){const e=E().result(o,"url"),t=s.getXHROptions(e,{type:"PUT",contentType:"application/json",data:JSON.stringify(i)}),n=g().ajax(t).then((()=>{yZ(o,i)}));l.push(n)}else"int"===o.get("type")?(Object.keys(i).forEach((e=>{i[e]=parseInt(i[e],10)})),l.push(vZ(o,i,s))):l.push(vZ(o,i,s));g().when(...l).then((()=>{a.set({isUpdatePending:!1,updateError:null})}),(e=>{a.set({isUpdatePending:!1,updateError:(0,gS.Z)(e)})}))},[eZ](e,t){e.get("ui").get("providerSettingsPage").set("updateError",null)},[GT](e,t){gZ(e,t).set({optionsError:null,locationsError:null})},[tZ](e,t,n){const i=gZ(e,t),s=i.get("type");if(s===HT)(0,Rt.c9)((()=>{n(iZ(t))}));else if(s===FT)n(aZ(t));else if(s===BT){const e=i.get("id");e===RT.Pt?n(lZ(t)):e===RT.x8&&n(dZ(t))}}};var IZ=Object.prototype.hasOwnProperty,bZ=Object.getOwnPropertySymbols,MZ=Object.prototype.propertyIsEnumerable,SZ=Object.assign;function EZ(e,t){return e.find((({id:e})=>e===t))||{}}const DZ={dispatchFetchProviderSettings:nZ,dispatchFetchProviderSettingRecentChannelsInGrid:cZ,dispatchUpdateAiredProgress:$D,dispatchNavigateTimeForward:WD,dispatchNavigateTimeBack:KD};function CZ(e){const{providerEntityID:t,numRecentChannelsInGrid:n,isSettingsPending:i,dispatchFetchProviderSettings:s,dispatchFetchProviderSettingRecentChannelsInGrid:r}=e,a=((e,t)=>{var n={};for(var i in e)IZ.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&bZ)for(var i of bZ(e))t.indexOf(i)<0&&MZ.call(e,i)&&(n[i]=e[i]);return n})(e,["providerEntityID","numRecentChannelsInGrid","isSettingsPending","dispatchFetchProviderSettings","dispatchFetchProviderSettingRecentChannelsInGrid"]);return(0,y.useEffect)((()=>{s({providerEntityID:t})}),[s,t]),(0,y.useEffect)((()=>{!i&&n>0&&r({providerEntityID:t,settingID:RT.x8})}),[r,i,n,t]),y.createElement("div",null,y.createElement(xT,SZ(SZ({},a),{providerEntityID:t})))}CZ.defaultProps={numRecentChannelsInGrid:0};const PZ=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.channelGridPage),((e,{channels:t})=>t),(0,SC.Z)(),gC(mS.L6),((e,t,n={},i)=>{const{isPending:s=!0,isPopulated:r=!1,metadataItems:a=[],error:o}=n,{settings:l,isSettingsPending:c=!0,isSettingsPopulated:d=!1,settingsError:u}=i,p=EZ(l,RT.x8),m=EZ(l,RT.xy),h=m?m.value:0,{recentChannelsInGrid:g=[],isRecentChannelsInGridPending:y=!0,isRecentChannelsInGridPopulated:v=!1,recentChannelsInGridError:f}=p,I=s&&!r&&!o||c&&!d&&!u||h>0&&y&&!v&&!f,b=!!f||!!u||!!o,M=r&&!s&&!o&&0===a.length,S=[...t];if(h>0&&v){const e=g.reduce(((e,n)=>{const i=t.find((e=>e.identifier===n.id));return i&&e.push(SZ(SZ({},i),{isRecent:!0})),e}),[]);S.unshift(...e)}return S.forEach(((e,t)=>(e.uniqueId=t,e))),SZ(SZ({},e),{channels:S,numRecentChannelsInGrid:h,isCloudServer:!0,isPending:s,isSettingsPending:c,isEmpty:M,showSpinner:I,showError:b})}))}),DZ)(CZ);var wZ=Object.assign;const TZ=function(e){const{metadataListEntityID:t,serverEntityID:n,providerEntityID:i,channels:s,isCloudServer:r,onMeasure:a}=e,[o,l]=(0,y.useState)({}),c=(0,xE.Z)(),d=(0,y.useCallback)((e=>{l(e),c.onOpen()}),[c,l]),u=r?PZ:jT;return y.createElement(y.Fragment,null,y.createElement(Nd.Z,wZ(wZ({},o),{isOpen:c.isOpen,onModalClose:c.onClose})),y.createElement(OC.Z,{className:"ChannelsGridPageContent-measureContainer-5MIW-V",onMeasure:a},y.createElement(u,{className:"ChannelsGridPageContent-gridContent-30jtAY ChannelsGrid-gridContainer-3bz1oT",metadataListEntityID:t,serverEntityID:n,providerEntityID:i,channels:s,onRecordPress:d})))},ZZ=parseInt(ku.Z.channelGridChannelOverflowWidth,10),NZ=parseInt(ku.Z.channelGridChannelColumnWidth,10),AZ=parseInt(ku.Z.channelGridTitleColumnWidth,10),xZ=(0,de.P1)((e=>e.ui.channelGridPage),TC(),((e,t)=>{const{columnTimes:n}=e;return{columnTimes:n,isCloudServer:t}})),LZ={dispatchSetViewportSize:qD,dispatchResetStartTime:YD};class OZ extends y.Component{constructor(e,t){super(e,t),this._updateGrid=()=>{const{dispatchResetStartTime:e}=this.props;e(),this._resetTimeout()},this.onMeasure=e=>{const{isMeasured:t,measuredSize:n}=this.state;t&&(0,hC.Z)(n,e)||this.setState({isMeasured:!0,measuredSize:e},(()=>{this.setViewportSize(e)}))},this._updateTimeout=null,this.state={isMeasured:!1,measuredSize:null}}componentDidMount(){this._resetTimeout()}componentDidUpdate(e){const{metadataListEntityID:t,columnTimes:n}=this.props;t===e.metadataListEntityID&&(0,hC.Z)(n,e.columnTimes)||this._resetTimeout()}componentWillUnmount(){this._updateTimeout&&window.clearTimeout(this._updateTimeout)}_resetTimeout(e=this.props){const{columnTimes:t}=e;if(!t.length)return;this._updateTimeout&&(window.clearTimeout(this._updateTimeout),this._updateTimeout=null);const n=Math.floor(Date.now()/1e3);let i=7200;t[0]<=n&&t[1]>=n&&(i=t.find((e=>n<e))-n),this._updateTimeout=window.setTimeout(this._updateGrid,1e3*i)}setViewportSize(e){const{dispatchSetViewportSize:t}=this.props;t({width:e.width,height:e.height,overflowWidth:ZZ,channelWidth:NZ,channelTitleWidth:AZ}),this._resetTimeout()}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,channels:i,isCloudServer:s}=this.props;return y.createElement(TZ,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,channels:i,isCloudServer:s,onMeasure:this.onMeasure})}}const jZ=(0,f.$j)(xZ,LZ)(OZ);var kZ=n(58730);function RZ(){return(0,de.P1)((0,UM.Z)(),((e={})=>[{key:`/${e.identifier}/grid?channel.value=1`,filter:vC,filterKey:"channel.value",filterType:kZ.I,title:(0,De.Z)("HD Channels Only")}]))}var zZ=n(63593),UZ=n(89197),VZ=n(91061),BZ=n(76892);function FZ(e,t,n,i){return(0,hD.Z)(e.machineIdentifier,t.identifier,n.id,i.key)}function HZ(e,t){if(e&&e.pivots)return e.pivots.find((e=>e.key===t))}var _Z=n(32553);const QZ=(0,de.P1)((0,Qt.Z)("features"),(e=>(0,_Z.Z)(e,(e=>e.id),(()=>!0))));var GZ=Object.assign;function YZ(e,t,n,i,s){return i.type===EM.t3?(0,UZ.ZP)(i.key,e,t,n,s):(0,zg.Z)(e,t,n,GZ(GZ({},s),{key:i.key,pageType:i.type,context:i.context}))}var WZ=n(96335);const KZ=function(e){const{tab:t,component:n,onPress:i}=e,s=(0,f.I0)(),r=(0,f.v9)(Me),a=(0,y.useCallback)((e=>{if(r){const t=e.currentTarget.getAttribute("href");t&&(0===e.button||e.touches)&&(e.stopPropagation(),s((0,pn.c4)({pathname:t,replace:!0})))}i(t.id,r)}),[r,t,i,s]);return y.createElement(n,{isDisabled:t.isDisabled,isSelected:t.isSelected,to:t.route,onPress:a},t.title)},qZ=(0,f.$j)(null,(function(e,t){const{serverEntityID:n,providerEntityID:i,providerMetricsIdentifier:s,sourceDirectory:r,tab:a,metricsPage:o}=t;return{onPress(t,l){l||e((0,pn.zt)({serverEntityID:n,providerEntityID:i,directoryID:r.id,pivotKey:a.pivotKey})),(0,M.DB)("metrics").trackEvent({event:WZ.Ip,interaction:!0,properties:{page:o,identifier:s,action:rr.oG,context:a.context,origin:JE}})}}}))(KZ);var $Z=Object.prototype.hasOwnProperty,JZ=Object.getOwnPropertySymbols,XZ=Object.prototype.propertyIsEnumerable,eN=Object.assign;function tN(e){const{className:t,children:n,isSelected:i}=e,s=((e,t)=>{var n={};for(var i in e)$Z.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&JZ)for(var i of JZ(e))t.indexOf(i)<0&&XZ.call(e,i)&&(n[i]=e[i]);return n})(e,["className","children","isSelected"]);return y.createElement($h.Z,eN({className:we()(t,i&&"PageHeaderTabButton-isSelected--LulaD"),"data-qa-id":"tabButton",size:vc.ln},s),n)}tN.defaultProps={className:"PageHeaderTabButton-button-3utZrS Button-button-31pe5T Link-link-3v-v0b"};const nN=tN;function iN(){const e=(0,ra.Z)(),[t,n]=(0,y.useState)(!1),i=(0,y.useCallback)((()=>{n(!t)}),[t,n]),s=(0,y.useCallback)((()=>{n(!1)}),[n]);return{menuButtonID:e,isMenuOpen:t,onMenuButtonPress:i,onMenuClose:s}}var sN=Object.prototype.hasOwnProperty,rN=Object.getOwnPropertySymbols,aN=Object.prototype.propertyIsEnumerable,oN=Object.assign;const lN={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[parseInt(ku.Z.pageHeaderTabButtonLeftRightMargin,10)]}}]},cN=function(e){const{tabs:t,component:n,onPress:i}=e,s=((e,t)=>{var n={};for(var i in e)sN.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&rN)for(var i of rN(e))t.indexOf(i)<0&&aN.call(e,i)&&(n[i]=e[i]);return n})(e,["tabs","component","onPress"]),{menuButtonID:r,isMenuOpen:a,onMenuButtonPress:o,onMenuClose:l}=iN(),c=(0,y.useCallback)((e=>{l(),i&&i(e)}),[i,l]),d=t.find((e=>e.isSelected))||t[0];return y.createElement("div",{id:r,className:"PageHeaderTabDropdown-container-G6JHu6","data-qa-id":"tabDropDown"},y.createElement(nN,{className:"PageHeaderTabDropdown-button-1kHQQp PageHeaderTabButton-button-3utZrS Button-button-31pe5T Link-link-3v-v0b",isSelected:d.isSelected,onPress:o},y.createElement("div",{className:"PageHeaderTabDropdown-buttonContents-3kI_h4"},y.createElement("div",{className:"PageHeaderTabDropdown-title-31q--D"},d.title),y.createElement(gc.Z,{className:we()("PageHeaderTabDropdown-disclosureArrow-2qKCFZ DisclosureArrow-disclosureArrow-11pOBF",d.isSelected&&"PageHeaderTabDropdown-isSelected-1ERAX6"),direction:a?yc.UP:yc.WV}))),y.createElement(mo.Z,{isOpen:a,target:r,options:lN,onMenuClose:l},t.map(((e,t)=>y.createElement(n,oN(oN({},s),{key:t,tab:e,component:Ic.Z,onPress:c}))))))};var dN=Object.prototype.hasOwnProperty,uN=Object.getOwnPropertySymbols,pN=Object.prototype.propertyIsEnumerable,mN=Object.assign;function hN(e){const{tabs:t,component:n,hideSingleTabs:i}=e,s=((e,t)=>{var n={};for(var i in e)dN.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&uN)for(var i of uN(e))t.indexOf(i)<0&&pN.call(e,i)&&(n[i]=e[i]);return n})(e,["tabs","component","hideSingleTabs"]),[r,a]=(0,y.useState)(0),o=(0,y.useCallback)((e=>{a(e.width)}),[]),[l,c]=(0,y.useState)(0),d=(0,y.useCallback)((e=>{c(e.width)}),[]),u=t.length<2,p=t.length>1&&l>r;return u&&i?null:y.createElement(OC.Z,{className:"TabsPageHeaderCenter-pageHeaderCenter--z59R6 PageHeaderCenter-pageHeaderCenter-1RFWgu",ignoreHeight:!0,onMeasure:o},p?y.createElement(cN,mN(mN({},s),{tabs:t,component:n})):y.createElement(OC.Z,{ignoreHeight:!0,onMeasure:d},t.map(((e,t)=>y.createElement(n,mN(mN({},s),{key:t,tab:e,component:nN}))))))}hN.defaultProps={component:KZ,hideSingleTabs:!0};const gN=hN;var yN=Object.assign;const vN=(0,YM.Z)((function(){return(0,de.P1)(Wh.Z,(0,de.P1)(((e,{sourceDirectory:t})=>t),((e,{directoryKey:t})=>t),(0,HM.Z)(),(0,UM.Z)(),QZ,BZ.Z,Me,((e,t,n,i,s,r,a)=>{const o=HZ(e,t);return e.pivots.reduce(((t,l)=>{if("vod.channels"===l.id&&l.requires&&!s[l.requires])return t;const c=FZ(n,i,e,l),d=c?r[c]:{},u=a?aD(n,i,e,l):YZ(n,i,e,l,d);return u?(t.push({pivotKey:l.key,title:l.title,route:u,isSelected:!(!o||l.key!==o.key),isDisabled:!l.key,context:l.context}),t):t}),[])})),((e,t)=>({providerMetricsIdentifier:e.metricsIdentifier,tabs:t})))}))((function(e){return y.createElement(gN,yN(yN({},e),{component:qZ}))}));var fN=n(12272);function IN(e,t,n,i){return i?(0,De.Z)("Downloads"):e?e.title:t.isCloud?n.title:NM(t)}function bN(e,t){return t.isCloud?e&&e.providerSourceTitle:t.isFullOwnedServer?e?e.serverFriendlyName:null:e?`${e.serverSourceTitle} • ${e.serverFriendlyName}`:ZM(t)}const MN=(0,de.P1)(((e,{sourceDirectory:t})=>t),BZ.Z,(0,HM.Z)(),(0,UM.Z)(),(0,fN.Z)(),gC(mS.P8),((e,t,n,i,s,r)=>{if(!r)return{};const a=(0,TM.Z)(i,e),o=e?wM({sourceType:a?a.key:null,sourceServer:n,sourceProvider:i,sourceDirectory:e}):null,l=s?GE(t.downloads):(0,zg.Z)(n,i,e,e?void 0:{key:DM.D,pageType:EM.km});return{isEmbeddedServer:s,source:o,title:IN(o,n,i,s),detail:bN(o,n),route:l}})),SN=(0,f.$j)(MN)((function(e){const{serverEntityID:t,providerEntityID:n,isEmbeddedServer:i,source:s,title:r,detail:a,route:o}=e,l=iN();return y.createElement(y.Fragment,null,s&&!i?y.createElement(Ub,null,y.createElement(zM,{id:l.menuButtonID,iconComponent:WE,label:(0,De.Z)("Actions"),isMenuOpen:l.isMenuOpen,onPress:l.onMenuButtonPress}),y.createElement(QE,{target:l.menuButtonID,serverEntityID:t,providerEntityID:n,source:s,isOverflowMenuOpen:l.isMenuOpen,onOverflowMenuClose:l.onMenuClose})):null,y.createElement("div",{className:"CurrentSource-headerContainer-RXQpOZ"},y.createElement(xM,{title:r,detail:a,route:o})))}));function EN(e){const{containerComponent:t,serverEntityID:n,providerEntityID:i,sourceDirectory:s,children:r}=e;return y.createElement(t,null,y.createElement(SN,{serverEntityID:n,providerEntityID:i,sourceDirectory:s}),r?y.createElement("div",{className:"CurrentSourcePageHeaderLeft-childrenContainer-1iXDoS"},r):null)}EN.defaultProps={containerComponent:_b};const DN=EN,CN=(0,f.$j)((function(){return(0,de.P1)(BM(),(e=>({isEPGRefreshing:!!e,epgActivityProgress:e?e.progress:0,epgActivityTitle:e?e.title:""})))}))((function(e){const{className:t,isEPGRefreshing:n,epgActivityProgress:i,epgActivityTitle:s}=e;return n?y.createElement("span",{className:t},s," (",i,"%)",y.createElement(RC.Z,{className:"ProgramGuideActivityStatus-refreshingSpinner-3Ad-Zw",size:vc.HC})):null}));function PN(e){if(!e)return"";const t=e instanceof Date?e:new Date(e),n=(0,Gi.Z)(t);return(0,Ti.Z)(t,new Date)?(0,De.Z)("Today"):Si(n)}var wN=n(19318);class TN extends y.Component{constructor(){super(...arguments),this.onPress=()=>{const{option:e,onPress:t}=this.props;t(e)}}render(){const{className:e,option:t,isDisabled:n,isSelected:i}=this.props;return y.createElement(Ic.Z,{className:e,isDisabled:n,isSelected:i,onPress:this.onPress},t.title)}}const ZN=TN,NN=function(e){const{className:t,dateOptions:n,onSelectDate:i,onSelectNow:s}=e;return y.createElement(wN.Z,{className:t,autoScroll:!0},y.createElement(Ic.Z,{onPress:s},(0,De.Z)("Now")),y.createElement(go.Z,null),n.map(((e,t)=>y.createElement(ZN,{key:t,option:e,isSelected:e.isSelected,onPress:i},e.title))))};var AN=n(59910),xN=n(313),LN=n(37042),ON=n(12383);function jN(e,t){return(0,ON.Z)((0,LN.Z)(new Date(e),t))}const kN=(0,f.$j)((function(){const e=[{startHour:0,title:(0,De.Z)("Midnight")},{startHour:2,title:(0,De.Z)("Overnight")},{startHour:6,title:(0,De.Z)("Morning")},{startHour:10,title:(0,De.Z)("Daytime")},{startHour:17,title:(0,De.Z)("Evening")},{startHour:23,title:(0,De.Z)("Late Night")}];return(0,de.P1)((e=>e.ui.channelGridPage),((e,{selectedDateOption:t})=>t),((t,n={})=>{if(!n)return{timeOptions:[]};const i=(0,hi.Z)(t.startTime),s=(0,hi.Z)(n.value),r=new Date;return{timeOptions:e.map(((t,n)=>{const a=e[n+1],o=jN(s,t.startHour),l=jN(s,a?a.startHour:24),c=(0,xN.Z)(r,l),d=(0,AN.Z)(i,o)>=0&&(0,AN.Z)(i,l)<0,u=(0,xN.Z)(o,r)?(0,Gi.Z)(r):(0,Gi.Z)(o);return{title:(0,AN.Z)(r,o)>=0&&(0,AN.Z)(r,l)<0?(0,De.Z)("Now ({timeSlotTitle})",{timeSlotTitle:t.title}):t.title,value:u,isEnabled:c,isSelected:d}}))}}))}))((function(e){const{className:t,timeOptions:n,selectedDateOption:i,onDeselectDateOption:s,onSelectTime:r}=e;return y.createElement("div",{className:t},y.createElement("div",{className:"DatePickerTimeList-header-3zEbCU"},y.createElement(AM.Z,{onPress:s},y.createElement(pp,{className:"DatePickerTimeList-backIcon-RzJH6N","aria-label":(0,De.Z)("Back")})),y.createElement("span",{className:"DatePickerTimeList-headerText-3ya1tf"},i.title)),y.createElement(go.Z,null),n.map(((e,t)=>y.createElement(ZN,{key:t,option:e,isDisabled:!e.isEnabled,isSelected:e.isSelected,onPress:r},e.title))))})),RN={scrollDirection:vb.Hn,className:"DatePickerMenu-listContainer-1Kt582"};class zN extends y.Component{constructor(e,t){super(e,t),this.onSelectDate=e=>{this.setState({showTimeOptions:!0,activeDateOption:e})},this.onSelectNow=()=>{const e=Math.floor(Date.now()/1e3);this.onSelectTime({value:e})},this.onSelectTime=e=>{this.setState({showTimeOptions:!1}),this.props.dispatchSetStartTime(e.value),this.props.onMenuClose()},this.onHideOptions=e=>{this.setState({showTimeOptions:!1})},this.state={showTimeOptions:!1,activeDateOption:e.dateOptions.find((e=>e.isSelected))}}render(){const{target:e,isOpen:t,dateOptions:n,onMenuClose:i}=this.props,{showTimeOptions:s,activeDateOption:r}=this.state,a=we()("DatePickerMenu-list-1PsuWe",!!s&&"DatePickerMenu-showTimeOptions-2DAJVj");return y.createElement(mo.Z,{target:e,isOpen:t,size:vc.M2,scrollerProps:RN,onMenuClose:(0,vo.Z)(this.onHideOptions,i)},y.createElement(NN,{className:a,dateOptions:n,onSelectDate:this.onSelectDate,onSelectNow:this.onSelectNow}),y.createElement(kN,{className:a,selectedDateOption:r,onDeselectDateOption:this.onHideOptions,onSelectTime:this.onSelectTime}))}}const UN=zN,VN={dispatchSetStartTime:GD},BN=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.channelGridPage),(e=>({dateOptions:function(e){const t=[],n=(0,hi.Z)(e);for(let e=0;e<8;e++){const i=(0,Ni.Z)(new Date,e),s=PN(i),r=(0,Ti.Z)(i,n);t.push({title:s,value:(0,Gi.Z)(i),isSelected:r})}return t}(e.startTime)})))}),VN)(UN);var FN=n(52601),HN=Object.assign;function _N(e,t,n){const i=[...e];for(let e=i.length-1;e>=0;e--){const t=i[e],s=t.type===kZ.I,r=n.type===kZ.I;t&&s!==r||i.splice(e,1)}return i.push(HN({key:t},n)),i}function QN(e,t){if(!e)return!1;const n="string"==typeof t?decodeURIComponent(t):t;return!!E().find(e,(({value:e})=>Array.isArray(e)?e.indexOf(n)>-1:e===n))}var GN=Object.assign;function YN(e,t,n){if(null==n)return e.filter((e=>e.key!==t));const i=[...e];let s=i.length;for(;s-- >0;){const e=i[s],r=e.key,a=e.value;if(t===r&&n===a)i.splice(s,1);else if(t===r&&Array.isArray(a)){const t=a.indexOf(n);t>-1&&(a.splice(t,1),1===a.length?i.splice(s,1,GN(GN({},e),{value:a[0]})):a.length||i.splice(s,1))}}return i}const WN=function(e){const{typeKey:t,activeFilters:n,activeFilterLabel:i,activeSort:s,filter:r,title:a,onMenuClose:o}=e,l=jm(o),c=QN(n.filter((({key:e})=>e===r)),"1");return y.createElement(Ic.Z,{to:(0,FN.Z)({typeKey:t,filters:c?YN(n,r):_N(n,r,{value:"1",type:kZ.I}),filterLabel:i,sort:s}),isSelected:c,onPress:l},a)};class KN extends y.Component{constructor(){super(...arguments),this.onPress=e=>{this.props.onFilterSelect(this.props.filterKey)}}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{activeFilters:e,filter:t,title:n,showSpinner:i}=this.props,s=!i&&!!E().find(e,(({key:e})=>e===t));return y.createElement(ho.Z,{className:s?"DisclosureFilterMenuItem-isSelected-1ePu4z":void 0,onPress:this.onPress},y.createElement("div",{className:"DisclosureFilterMenuItem-menuItemContainer-2NcROp SelectedMenuItem-menuItemContainer-RdnVc0"},y.createElement("div",{className:"DisclosureFilterMenuItem-menuLabel-2m2Qw1 SelectedMenuItem-menuLabel-1zwBwt"},n),i?y.createElement(RC.Z,{className:"DisclosureFilterMenuItem-spinner-1yUvzx Spinner-spinner-5E5Wk_ spin-spin-oHlEXH",size:vc.HC}):null,!i&&s?y.createElement("div",{className:"DisclosureFilterMenuItem-selectedIcon-zsrcHf SelectedMenuItem-selectedIcon-1JConG"},y.createElement(fa.Z,{"aria-label":(0,De.Z)("Selected")})):null))}}const qN=KN,$N=function(e){const{className:t,typeKey:n,activeFilters:i,activeFilterLabel:s,activeSort:r,filters:a,selectedFilter:o,showSpinner:l,showCustomFilter:c,onFilterSelect:d,onMenuClose:u}=e,p=jm(u),m=E().groupBy(a,(({filterType:e})=>e===kZ.I?e:kZ.w)),h=m[kZ.I],g=m[kZ.w];return y.createElement(wN.Z,{className:we()(t,"LibraryFiltersList-filtersScroller-3-q1Hd Scroller-vertical-1tg_Qg"),autoScroll:!0},y.createElement(Ic.Z,{key:"all",to:(0,FN.Z)({typeKey:n,sort:r}),isSelected:E().isEmpty(i),onPress:p},(0,De.Z)("All")),h?h.map((e=>y.createElement(WN,{key:e.filter,typeKey:n,activeFilters:i,activeFilterLabel:s,activeSort:r,filter:e.filter,title:e.title,onMenuClose:u}))):null,g?y.createElement(go.Z,null):null,g?g.map((e=>{const t=!(!o||o.filter!==e.filter);return y.createElement(qN,{key:e.filter,typeKey:n,activeFilters:i,activeSort:r,filter:e.filter,filterKey:e.key,title:e.title,showSpinner:l&&t,onFilterSelect:d})})):null,c?y.createElement(go.Z,null):null,c?y.createElement(Ic.Z,{key:"customFilter",to:(0,FN.Z)({typeKey:n,customFilter:!0})},(0,De.Z)("Custom Filter...")):null)},JN=(0,de.zB)({filters:RZ()}),XN={dispatchSetStartTime:GD},eA=(0,f.$j)(JN,XN)((function(e){const{filters:t,target:n,isOpen:i,activeFilters:s,activeFilterLabel:r,onMenuClose:a}=e;return y.createElement(mo.Z,{target:n,isOpen:i,size:vc.ln,onMenuClose:a},y.createElement($N,{activeFilters:s,activeFilterLabel:r,showSpinner:!1,showCustomFilter:!1,filters:t,onMenuClose:a}))}));class tA extends y.Component{constructor(e,t){super(e,t),this.onDatePickerMenuButtonPress=e=>{this.setState({isDatePickerMenuOpen:!this.state.isDatePickerMenuOpen})},this.onDatePickerMenuClose=()=>{this.setState({isDatePickerMenuOpen:!1})},this.onFilterMenuButtonPress=e=>{this.setState({isFilterMenuOpen:!this.state.isFilterMenuOpen})},this.onFilterMenuClose=()=>{this.setState({isFilterMenuOpen:!1})},this.state={isDatePickerMenuOpen:!1,isFilterMenuOpen:!1},this._datePickerMenuButtonID=(0,wf.Z)(),this._filterMenuButtonID=(0,wf.Z)()}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:n,selectedFilterTitle:i,datePickerTitle:s,showEPGActivity:r,activeFilters:a,activeFilterLabel:o,totalSize:l}=this.props,{isDatePickerMenuOpen:c,isFilterMenuOpen:d}=this.state;return y.createElement(y.Fragment,null,y.createElement(uD.Z,null,y.createElement(DN,{serverEntityID:e,providerEntityID:t,sourceDirectory:n}),y.createElement(vN,{serverEntityID:e,providerEntityID:t,sourceDirectory:n,directoryKey:UZ.tk.GUIDE}),y.createElement(VZ.Z,null)),y.createElement(Ph,null,y.createElement(_b,null,y.createElement(zZ.Z,{id:this._datePickerMenuButtonID,hasMenu:!0,isMenuOpen:c,onPress:this.onDatePickerMenuButtonPress},s),y.createElement(BN,{target:this._datePickerMenuButtonID,isOpen:c,onMenuClose:this.onDatePickerMenuClose}),y.createElement(zZ.Z,{id:this._filterMenuButtonID,hasMenu:!0,isMenuOpen:d,onPress:this.onFilterMenuButtonPress},i),y.createElement(eA,{target:this._filterMenuButtonID,isOpen:d,activeFilters:a,activeFilterLabel:o,onMenuClose:this.onFilterMenuClose}),y.createElement(rb.Z,null,l)),r?y.createElement(Qb.Z,null,y.createElement(CN,{serverEntityID:e,providerEntityID:t})):null))}}const nA=tA,iA=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.channelGridPage),BM(),(0,de.P1)(((e,{activeFilters:t})=>t),((e,{activeFilterLabel:t})=>t),RZ(),((e,t,n)=>{if(!e||!e.length)return(0,De.Z)("All Channels");if(e&&1===e.length){const t=e[0],i=n.find((e=>e.filter===t.key));if(i)return i.title}return t||(0,De.Z)("Filtered")})),((e,t,n)=>({datePickerTitle:PN(1e3*e.startTime),showEPGActivity:!!t,selectedFilterTitle:n})))}))(nA),sA=function(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,sourceDirectory:s,activeFilters:r,activeFilterLabel:a,channels:o}=e;return y.createElement(AC.Z,{metricsContext:xC(et._e,pS.DVR_GUIDE_PIVOT)},y.createElement(LC.Z,{metricsPage:et._e,scrollDirection:vb.Hn},y.createElement(iA,{serverEntityID:t,providerEntityID:n,sourceDirectory:s,activeFilters:r,activeFilterLabel:a,totalSize:o.length}),y.createElement(jZ,{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,channels:o})))};function rA(e){return e?e.split(" ")[1]:""}var aA=Object.prototype.hasOwnProperty,oA=Object.getOwnPropertySymbols,lA=Object.prototype.propertyIsEnumerable,cA=Object.assign;const dA={dispatchInitMetadataList:QD,dispatchResetStartTime:YD,dispatchResetMetadataList:cb.wZ,dispatchPopulateChannelPrograms:JD,dispatchChangeQuickSearchSettings:Ut.changeQuickSearchSettings};class uA extends y.Component{componentDidMount(){this.props.containerKey&&this._populate(),this.props.providerIdentifier&&this._setSearchProviderIdentifier(this.props.providerIdentifier)}componentDidUpdate(e){const{providerIdentifier:t,containerKey:n,columnTimes:i,isRefreshing:s}=this.props;n&&n!==e.containerKey||s!==e.isRefreshing?this._populate():(0,hC.Z)(i,e.columnTimes)||this.props.dispatchPopulateChannelPrograms(),t&&t!==e.providerIdentifier&&this._setSearchProviderIdentifier(t)}componentWillUnmount(){const{metadataListEntityID:e}=this.props;e&&this.props.dispatchResetMetadataList({metadataListEntityID:e}),this._setSearchProviderIdentifier(null)}_populate(){const{serverEntityID:e,providerEntityID:t,containerKey:n,dispatchInitMetadataList:i,dispatchResetStartTime:s,dispatchPopulateChannelPrograms:r}=this.props;s(),i({containerKey:n,serverEntityID:e,providerEntityID:t}),r()}_setSearchProviderIdentifier(e){const{dispatchChangeQuickSearchSettings:t,serverEntityID:n,providerEntityID:i}=this.props;t({serverEntityID:n,providerEntityID:i,providerIdentifier:e,directoryID:null})}render(){const e=this.props,{dispatchInitMetadataList:t}=e,n=((e,t)=>{var n={};for(var i in e)aA.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&oA)for(var i of oA(e))t.indexOf(i)<0&&lA.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchInitMetadataList"]);return y.createElement(sA,cA({},n))}}const pA=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.channelGridPage),DC(),MC(),(0,UM.Z)(),wC(),BM(),(0,de.P1)((e=>e.ui.channelGridPage),((e,{activeFilters:t})=>t.some(NC)),((e,t)=>{const{channelsList:n,isChannelsListPopulated:i,isChannelsListPending:s,channelsListError:r}=e;return!i||s||r?[]:t?n.filter((e=>!!e.tagValue)):n})),TC(),((e,t,n,i,s,r,a,o)=>{let l=function(e,t,n=[]){const i=e[0],s=e[e.length-1],r=function(e,t,n){return e.reduce(((e,i)=>i&&i.Media?(i.Media.forEach(((s,r)=>{const{channelIdentifier:a,channelThumb:o,channelTitle:l,channelShortTitle:c,channelVcn:d,channelCallSign:u,beginsAt:p,endsAt:m}=s;if(e[a]||(e[a]={identifier:a,thumb:o,title:c||l,vcn:d,callSign:u||rA(l),programs:[]}),p<n&&m>t){const s={beginsAt:Math.max(p,t),endsAt:Math.min(m,n),metadataItemEntityID:i.entityID,mediaIndex:r};e[a].programs.push(s)}})),e):e),{})}(t,i,s);return n.forEach((e=>{r[e.channelIdentifier]||(r[e.channelIdentifier]={identifier:e.channelIdentifier,thumb:e.thumb,title:e.tag,vcn:e.channelVcn,callSign:e.channelCallSign,programs:[]})})),function(e,t,n,i){return Object.values(e).map((e=>(e.programs=function(e,t,n){let i=t;const s=[];e.sort(((e,t)=>e.beginsAt>t.beginsAt?1:e.beginsAt<t.beginsAt?-1:0));for(let t=0;t<e.length;t++){const n=e[t];if(n.beginsAt>i){const e={beginsAt:i,endsAt:n.beginsAt};s.push(e)}s.push(n),i=n.endsAt}if(i<n){const e={beginsAt:i,endsAt:n};s.push(e)}return s}(e.programs,t,n),e)))}(r,i,s)}(e.columnTimes,t,a);return o||(l=l.sort(((e,t)=>(0,ZC.Z)(e.vcn||e.identifier,t.vcn||t.identifier)))),{metadataListEntityID:e.metadataList,containerKey:n,sourceDirectory:s,channels:l,columnTimes:e.columnTimes,providerIdentifier:i.identifier,isRefreshing:!!r}}))}),dA)(uA),mA=(0,de.zB)({metadataListEntityID:e=>e.ui.channelGridPage.metadataList,directoryKey:(0,de.P1)(((e,{selectedDirectory:t})=>t),(e=>{if(!e)return;const t=e.key;return"/"===t.charAt(0)?t:"/library/sections/"+t}))}),hA=mC(pA,(function(e){const t=e.ui.channelGridPage;return{providerEntityID:t.providerEntityID,serverEntityID:t.serverEntityID,metadataListEntityID:t.metadataList,directoryKey:t.directoryKey}}),(function(e,t){e(_D({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,directoryKey:t.directoryKey})),e(eC())})),gA=(0,f.$j)(mA)(hA);var yA=n(99434),vA=n(33947),fA=n(83894),IA=n(69119),bA=n(56442),MA=n(93242),SA=n(67299);const EA=wD.Z.extend({name:"CalendarModel",context:["server"],url:"/media/subscriptions/scheduled",sessionAttrs:{visibleDays:bD.Z.integer,time:bD.Z.integer},syncedRelations:{scheduled:{relationClass:MA.Z,rootPropertyName:"MediaGrabOperation"}},derivedAttrs:{startTime(){const e=this.get("visibleDays"),t=(0,hi.Z)(this.get("time"));let n=(0,IA.Z)(t);return e>1&&(n=(0,Oi.Z)(n,1)),(0,Gi.Z)(n)},endTime(){const e=this.get("visibleDays"),t=(0,hi.Z)(this.get("time"));let n=(0,fA.Z)(t);return e>1&&(n=(0,Ni.Z)(n,e-2)),(0,Gi.Z)(n)},daysOfWeek(){const e=(0,hi.Z)(this.get("startTime")),t=(0,hi.Z)(this.get("endTime")),n=(0,vA.Z)(t,e);return E().times(Math.min(n+1,7),(t=>(0,Gi.Z)((0,Ni.Z)(e,t))))},days(){const e=(0,hi.Z)(this.get("startTime")),t=(0,hi.Z)(this.get("endTime")),n=(0,vA.Z)(t,e);return E().times(n+1,(t=>(0,Gi.Z)((0,Ni.Z)(e,t))))},firstEvent(){return this.get("scheduled").first()},lastEvent(){return this.get("scheduled").last()},hasPastEvents(){const e=this.get("firstEvent");return!!e&&e.get("beginsAt")<this.get("startTime")},hasFutureEvents(){const e=this.get("lastEvent");return!!e&&e.get("beginsAt")>this.get("endTime")}},defaults:()=>({visibleDays:7,time:(0,Gi.Z)(Date.now())}),augmentResponseText:(e,t)=>t===bA.Ls?(0,SA.Z)(e):e});var DA=Object.assign;function CA(e,t,n){if(Array.isArray(e))return e.map((e=>CA(e,t,n)));if((0,aC.Z)(e))for(const i in e){const s=e[i];let r;t[i]?(r=n,delete e[i]):r=i,e[r]=CA(s,t,n)}return e}const PA=function(e,t){let n=t&&t.includeDirectories?["Directory",...SA.l]:SA.l;return n=n.reduce(((e,t)=>DA(DA({},e),{[t]:t})),{}),CA(e,n,"Metadata")};var wA=n(14794);const TA=_S.Z.extend({name:"MediaSubscriptionCollection",context:["server"],instanceOptions:[..._S.Z.prototype.instanceOptions,"includeDirectories","includeGrabs","includePreferences","includeStorage","includeTarget"],model:wA.Z,url(){const e={};return this.includeGrabs&&(e.includeGrabs=1),this.includePreferences&&(e.includePreferences=1),this.includeStorage&&(e.includeStorage=1),this.includeTarget&&(e.includeTarget=1),C.Z.join("/media/subscriptions",e)},augmentResponseText(e,t){return t===bA.Ls?(0,SA.Z)(e,{includeDirectories:!!this.includeDirectories}):e},augmentResponse(e,t){return t===bA.AV?PA(e,{includeDirectories:!!this.includeDirectories}):e}});var ZA=n(7536);const NA="ui/recordingSchedulePage/initRecordingSchedulePage",AA="ui/recordingSchedulePage/clearRecordingSchedulePage",xA="ui/recordingSchedulePage/fetchMediaSubscriptions",LA="ui/recordingSchedulePage/moveMediaSubscription",OA="ui/recordingSchedulePage/setVisibleDays",jA="ui/recordingSchedulePage/goToToday",kA="ui/recordingSchedulePage/goToPreviousRange",RA="ui/recordingSchedulePage/goToNextRange",zA="ui/recordingSchedulePage/fetchCalendar",UA="ui/recordingSchedulePage/playRecording",VA="ui/recordingSchedulePage/clearMoveError",BA=(0,No.Z)(NA),FA=(0,No.Z)(AA),HA=(0,No.Z)(xA),_A=(0,No.Z)(LA),QA=(0,No.Z)(OA),GA=(0,No.Z)(jA),YA=(0,No.Z)(kA),WA=(0,No.Z)(RA),KA=(0,No.Z)(zA),qA=(0,No.Z)(UA),$A=(0,No.Z)(VA);function JA(e){return e.get("ui").get("recordingSchedulePage")}function XA(e){return JA(e).get("calendar")}function ex(e,t,n){const i=JA(e),s=(0,JM.SW)(e,t);if(i.get("isPagePopulated")){const e=i.get("calendar"),t=i.get("mediaSubscriptions");e&&e.server===s&&n(KA()),t&&t.server===s&&n(HA())}}const tx=(0,HS.Z)({[NA](e,t){const n=JA(e),i=n.get("mediaSubscriptions"),s=n.get("calendar"),r=(0,JM.SW)(e,t),a={isPagePopulated:!0,isCalendarPending:!1,isCalendarPopulated:!1,calendarError:null};i&&i.server===r||(a.mediaSubscriptions=new TA([],{server:r})),s&&s.server===r?s.restoreDefaults():a.calendar=new EA({},{server:r}),n.set(a)},[AA](e){JA(e).set("isPagePopulated",!1)},[xA]:(0,qM.Z)({key:"mediaSubscriptions",getModel:JA}),[LA](e,t){const n=JA(e),i=n.get("mediaSubscriptions"),s=(0,JM.xS)(e,t),r=s&&i.indexOf(s),{moveIndex:a}=t;if((0,Rt.c9)((()=>{n.set({mediaSubscriptionMoveError:null})})),r===a||r===a-1)return;const o=a>r?a-1:a;i.remove(s),i.add(s,{at:o});const l=o>0?i.at(o-1).id:void 0;(0,ZA.Z)(s,l).fail((e=>{i.remove(s),i.add(s,{at:r});const t=401===e.status?(0,De.Z)("You do not have permission to perform this action."):(0,De.Z)("There was a problem saving your changes. Please try again.");n.set({mediaSubscriptionMoveError:t})}))},[VA](e,t){JA(e).set({mediaSubscriptionMoveError:null})},[OA](e,t,n){XA(e).set("visibleDays",t.visibleDays)},[jA](e,t,n){XA(e).set("time",(0,Gi.Z)(new Date))},[kA](e,t,n){const i=XA(e),s=i.get("visibleDays"),r=(0,hi.Z)(i.get("time"));i.set("time",(0,Gi.Z)((0,Oi.Z)(r,s)))},[RA](e,t,n){const i=XA(e),s=i.get("visibleDays"),r=(0,hi.Z)(i.get("time"));i.set("time",(0,Gi.Z)((0,Ni.Z)(r,s)))},[zA]:(0,qM.Z)({key:"calendar",getModel:JA}),[UA](e,t,n){const{serverEntityID:i,providerEntityID:s,linkedKey:r,metricsContext:a}=t,o=(0,JM.SW)(e,t),l=new KM.Z({key:r},{server:o});l.populate().done((()=>{n((0,it.wA)({serverEntityID:i,providerEntityID:s,metadataItemEntityID:l.entityID(),metricsPage:et.WT,metricsContext:a}))}))},[cS.Cs](e,t,n){const i=t.activity;i.type===Oa.l1&&ex(e,t,n),i.type===Oa.sC&&"error"===i.Response.status&&ex(e,t,n)}});function nx(){return(0,de.P1)((0,HM.Z)(),(e=>e?e.providers:void 0))}function ix(e){return!0}function sx(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-calendar-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m0 560v-480h120v-80h80v80h160v-80h80v80h120v480h-560m300-60h80v-80h-80v80m-120 0h80v-80h-80v80m-40-80h-80v80h80v-80m360-40v-80h-80v80h80m-360-80h-80v80h80v-80m120 80v-80h-80v80h80m120 0v-80h-80v80h80m120-120v-80h-80v80h80m-360-80h-80v80h80v-80m240 0h-80v80h80v-80m-120 0h-80v80h80v-80m240 240h-80v80h80v-80"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}sx.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const rx=sx;var ax=n(65671),ox=n(22699);var lx=Object.prototype.hasOwnProperty,cx=Object.getOwnPropertySymbols,dx=Object.prototype.propertyIsEnumerable,ux=Object.assign;function px(e){var{children:t,innerClassName:n}=e,i=((e,t)=>{var n={};for(var i in e)lx.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&cx)for(var i of cx(e))t.indexOf(i)<0&&dx.call(e,i)&&(n[i]=e[i]);return n})(e,["children","innerClassName"]);return y.createElement(ox.Z,ux({className:"PageContent-pageContent-aqfjwt"},i),y.createElement("div",{className:n},t))}px.defaultProps={innerClassName:"PageContent-innerPageContent-1ra0Xh"};const mx=px;function hx(){return(0,de.P1)(((e,{providerID:t})=>t),nx(),_t.Z,((e,t,n)=>{if(e)return t.find((t=>{const i=n[t];return i&&i.identifier===e}))}))}var gx=n(90937),yx=Object.prototype.hasOwnProperty,vx=Object.getOwnPropertySymbols,fx=Object.prototype.propertyIsEnumerable,Ix=Object.assign;function bx(e){var{children:t}=e,n=((e,t)=>{var n={};for(var i in e)yx.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&vx)for(var i of vx(e))t.indexOf(i)<0&&fx.call(e,i)&&(n[i]=e[i]);return n})(e,["children"]);return y.createElement("div",Ix({},n),t)}bx.defaultProps={className:"DragPreviewLayer-dragLayer-39NVIF"};const Mx=bx,Sx="RECORDING_PRIORITY_SUBSCRIPTION",Ex="PLAY_QUEUE_ITEM",Dx="PLAYLIST_ITEM",Cx="HOME_HUB_ITEM",Px="SOURCE_ITEM",wx="LINEUP_CHANNEL";var Tx=n(42699),Zx=n(14699),Nx=n(65732),Ax=n(36475),xx=n(97784);function Lx(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-reorder-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m560 380v60h-560v-60h560m-560-130h560v60h-560v-60m0-130h560v60h-560v-60"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Lx.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const Ox=Lx,jx=function(e){const{className:t,beginsAt:n,endsAt:i,timeFormat:s}=e,r=function(e,t,n){return e?Yi(e,t)?(0,De.Z)("Airing now"):ki(e,null,{timeFormat:n}):(0,De.Z)("No upcoming airings")}(n,i,s);return y.createElement("span",{className:t},r)};var kx=n(28670);const Rx=function({className:e,type:t}){return y.createElement("span",{className:e},y.createElement(kx.Z,{className:"RecordingPrioritySubscriptionSeriesTitle-seriesIcon-2AvbRa"}),function(e){if("show"===e)return(0,De.Z)("Series")}(t))};var zx=Object.prototype.hasOwnProperty,Ux=Object.getOwnPropertySymbols,Vx=Object.prototype.propertyIsEnumerable,Bx=Object.assign;const Fx=function(e){const{component:t,isSecondary:n}=e,i=((e,t)=>{var n={};for(var i in e)zx.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Ux)for(var i of Ux(e))t.indexOf(i)<0&&Vx.call(e,i)&&(n[i]=e[i]);return n})(e,["component","isSecondary"]);return y.createElement(t,Bx({className:n?"RecordingPrioritySubscriptionTitle-secondaryTitle-1drUfm":"RecordingPrioritySubscriptionTitle-title-3KMd4v"},i))};var Hx=Object.prototype.hasOwnProperty,_x=Object.getOwnPropertySymbols,Qx=Object.prototype.propertyIsEnumerable,Gx=Object.assign;class Yx extends y.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:!1}}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const e=this.props,{serverEntityID:t,providerEntityID:n,mediaSubscriptionEntityID:i,type:s,subtype:r,thumb:a,grandparentThumb:o,connectDragSource:l}=e,c=((e,t)=>{var n={};for(var i in e)Hx.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&_x)for(var i of _x(e))t.indexOf(i)<0&&Qx.call(e,i)&&(n[i]=e[i]);return n})(e,["serverEntityID","providerEntityID","mediaSubscriptionEntityID","type","subtype","thumb","grandparentThumb","connectDragSource"]),{isSubscribeModalOpen:d}=this.state,u="playlist"===s?"show":s;return y.createElement("div",{className:"RecordingPrioritySubscription-subscription-1YOaJb"},y.createElement(AM.Z,{className:"RecordingPrioritySubscription-link-BqGmF2",onPress:this.onLinkPress},y.createElement("div",{className:"RecordingPrioritySubscription-linkContainer-bwys1W"},y.createElement(WC.Z,{className:"RecordingPrioritySubscription-posterContainer-zdbUlN",serverEntityID:t,providerEntityID:n,component:KC.Z,type:u,width:48,height:(0,qC.Cr)(48,u,r),url:o||a}),y.createElement("div",{className:"RecordingPrioritySubscription-titleContainer-29pr6j"},function(e){let t;switch(e){case"movie":t=[Ax.Z,oP];break;case"show":t=[Ax.Z,Rx];break;case"episode":t=[Nx.Z,xx.Z];break;case"playlist":t=[Ax.Z,Rx];break;default:t=[Ax.Z]}return t.push(jx),t}(s).map(((e,t)=>y.createElement(Fx,Gx({key:t,component:e,isSecondary:t>0,type:s},c))))))),l(y.createElement("div",{className:"RecordingPrioritySubscription-dragHandle-2EquQy Link-link-3v-v0b"},y.createElement(Ox,{className:"RecordingPrioritySubscription-dragIcon-3jf_4h"})),{dropEffect:"copy"}),y.createElement(Nd.Z,{isOpen:d,serverEntityID:t,providerEntityID:n,mediaSubscriptionEntityID:i,subscriptionType:s,onModalClose:this.onSubscribeModalClose}))}}Yx.defaultProps={connectDragSource:e=>e};const Wx=Yx;var Kx=Object.assign;const qx=(0,f.$j)((function(){return(0,de.P1)(QC,(0,Zx.Z)(),(0,de.P1)((e=>e.ui.recordingSchedulePage.calendar.scheduled),(0,Zx.Z)(),((e,t)=>E().find(e,(e=>(0,Tx.Z)((0,hi.Z)(e.beginsAt),new Date)&&e.mediaSubscriptionID===t.key)))),((e,t,n)=>{const i=E().pick(t.hint,"title","grandparentTitle","type","year","index","parentIndex","originallyAvailableAt","thumb","grandparentThumb");return n&&(i.beginsAt=n.beginsAt,i.endsAt=n.endsAt),i.timeFormat=e,i}))}))((function(e){return y.createElement(Wx,Kx({},e))})),$x=parseInt(ku.Z.recordingPriorityPaneWidth,10),Jx=parseInt(ku.Z.recordingPriorityDragHandleWidth,10);class Xx extends y.Component{shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,item:n,itemType:i,currentOffset:s}=this.props;if(!s||i!==Sx)return null;const{x:r,y:a}=s,o=`translate3d(${r-($x-Jx)}px, ${a}px, 0)`,l={position:"absolute",WebkitTransform:o,msTransform:o,transform:o};return y.createElement(Mx,null,y.createElement("div",{className:"RecordingPrioritySubscriptionDragPreview-dragPreview-1xybYo",style:l},y.createElement(qx,{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n.mediaSubscriptionEntityID})))}}const eL=(0,gx.rE)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(Xx);var tL=n(21914);const nL={beginDrag:({mediaSubscriptionEntityID:e})=>({mediaSubscriptionEntityID:e}),endDrag(e,t,n){e.onSubscriptionDragEnd(t.getItem(),t.didDrop())}},iL={hover(e,t,n){const i=(0,v.findDOMNode)(n).getBoundingClientRect(),s=(i.bottom-i.top)/2,r=t.getClientOffset().y-i.top,a=e.sortIndex,o=r>s?a+1:a;e.onSubscriptionDragMove(o)}};class sL extends y.Component{componentDidMount(){this.props.connectDragPreview((0,tL.rX)())}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n,isDragging:i,isDraggingBefore:s,isDraggingAfter:r,isOver:a,connectDropTarget:o,connectDragSource:l}=this.props;return o(y.createElement("div",{className:we()("RecordingPrioritySubscriptionDragSource-dragSource-3ijR4M",i&&Cn.fN,s&&a&&Cn.DT,r&&a&&Cn.QZ)},y.createElement(qx,{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n,connectDragSource:l})))}}const rL=(0,gx.GR)(Sx,iL,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((0,gx.Ej)(Sx,nL,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(sL)),aL=function(e){const{serverEntityID:t,providerEntityID:n,mediaSubscriptionEntityIDs:i,guideRoute:s,showError:r,showEmptyState:a,moveIndex:o,onSubscriptionDragMove:l,onSubscriptionDragEnd:c}=e;return y.createElement("div",{className:"RecordingPriorityPane-pane-EuHZKg"},y.createElement("div",{className:"RecordingPriorityPane-paneHeader-BI7FRQ"},(0,De.Z)("Recording Priority")),y.createElement(wN.Z,{className:"RecordingPriorityPane-paneScroller-2QicEl Scroller-vertical-1tg_Qg",autoScroll:!0},r?y.createElement("div",{className:"RecordingPriorityPane-error-jI8kMV"},y.createElement("div",null,(0,De.Z)("There was an error loading recordings.")),y.createElement("div",null,(0,De.Z)("Please try again."))):null,a?y.createElement("div",{className:"RecordingPriorityPane-empty-2JiQI7"},y.createElement("div",null,(0,De.Z)("You have no recordings scheduled.")),y.createElement("div",null,y.createElement(ax.Z,{message:(0,De.Z)("Check out the {openLink}Guide{closeLink} to browse available programming."),tags:[{open:"openLink",close:"closeLink",component:AM.Z,kind:fo._8,to:s}]}))):null,r||a?null:i.map(((e,i)=>{const s=null!=o,r=s&&o===i,a=s&&o===i+1;return y.createElement(rL,{key:e,serverEntityID:t,providerEntityID:n,mediaSubscriptionEntityID:e,isDraggingBefore:r,isDraggingAfter:a,sortIndex:i,onSubscriptionDragMove:l,onSubscriptionDragEnd:c})}))),y.createElement(eL,{serverEntityID:t,providerEntityID:n}))};var oL=Object.assign;const lL={dispatchMoveMediaSubscription:_A,dispatchClearMoveError:$A,dispatchShowAlert:dS.wp};class cL extends y.Component{constructor(e,t){super(e,t),this.onSubscriptionDragMove=e=>{this.setState({moveIndex:e})},this.onSubscriptionDragEnd=(e,t)=>{const{moveIndex:n}=this.state;t&&null!=n&&(0,Rt.c9)((()=>{this.props.dispatchMoveMediaSubscription(oL(oL({},e),{moveIndex:n}))})),this.setState({moveIndex:null})},this.state={moveIndex:null}}componentDidUpdate(e){const{mediaSubscriptionMoveError:t,dispatchShowAlert:n,dispatchClearMoveError:i}=this.props,{mediaSubscriptionMoveError:s}=e;!s&&t&&(n(t),i())}render(){return y.createElement(aL,oL({moveIndex:this.state.moveIndex,onSubscriptionDragMove:this.onSubscriptionDragMove,onSubscriptionDragEnd:this.onSubscriptionDragEnd},this.props))}}const dL=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.recordingSchedulePage),hx(),((e,t)=>{const{mediaSubscriptions:n,isMediaSubscriptionsPopulated:i,mediaSubscriptionsError:s,mediaSubscriptionMoveError:r}=e;return{providerEntityID:t,mediaSubscriptionEntityIDs:n,mediaSubscriptionMoveError:r,showError:!i&&!!s,showEmptyState:i&&!s&&!n.length}}))}),lL)(cL),uL=function({subscriptionCount:e}){return y.createElement(zC.Z,{iconComponent:rx,title:(0,De.Z)("You have no recordings scheduled"),description:1===e?(0,De.Z)("There are no upcoming airings of the item in your list"):(0,De.Z)("There are no upcoming airings of the {subscriptionCount} items in your list",{subscriptionCount:e})})},pL=function(){return(0,de.P1)((0,VM.Z)(),(0,_C.Z)(),((e,t)=>E().find(e,(e=>e.type===Oa.sC&&e.Context.itemKey&&e.Context.itemKey===t.key))))};var mL=n(80962),hL=Object.prototype.hasOwnProperty,gL=Object.getOwnPropertySymbols,yL=Object.prototype.propertyIsEnumerable,vL=Object.assign;const fL={dispatchPlayRecording:qA};class IL extends y.Component{constructor(){super(...arguments),this.onPlayPress=e=>{const{serverEntityID:t,providerEntityID:n,linkedKey:i,metricsContext:s,dispatchPlayRecording:r}=this.props;r({serverEntityID:t,providerEntityID:n,linkedKey:i,metricsContext:s})}}render(){const e=this.props,{component:t,mediaSubscriptionID:n,status:i,linkedKey:s,metricsContext:r}=e,a=((e,t)=>{var n={};for(var i in e)hL.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&gL)for(var i of gL(e))t.indexOf(i)<0&&yL.call(e,i)&&(n[i]=e[i]);return n})(e,["component","mediaSubscriptionID","status","linkedKey","metricsContext"]);return y.createElement(t,vL(vL({},a),{onPlayPress:this.onPlayPress}))}}const bL=(0,YM.Z)((function(){return(0,de.P1)(((e,{mediaSubscriptionID:t})=>t),((e,{status:t})=>t),QC,(0,de.P1)(((e,{linkedKey:t})=>t),((e,{metricsContext:t})=>t),Kh.Z,((e,t,n)=>{const i={};return t&&(i.context=t),(0,ui.Z)(n,{isLibraryProvider:!0},e,i)})),(0,_C.Z)(),pL(),hx(),((e,t,n,i,s,r,a)=>{const o=t===mL.ly,l=t===mL.pn,c=E().pick(s,"type","title","grandparentTitle","index","parentIndex","originallyAvailableAt"),d=vL({providerEntityID:a,prePlayRoute:i,isComplete:o,hasError:l,hasSubscription:!!e,showPlay:o&&!!i,timeFormat:n},c);return r?(d.isRecording=!0,d.isPostProcessing=r.Context.status===mL.jN,d.recordingProgress=r.progress):(d.isRecording=!1,d.isPostProcessing=!1),d}))}),fL)(IL);var ML=n(81473),SL=n(97486);var EL=Object.assign;function DL(e){return y.createElement(SL.Z,EL(EL({},e),{textClassName:"CircularProgressBar-circularProgressBarText-1prNYQ CircularProgressBar-circularProgressBarText-2Pos90"}))}DL.defaultProps=EL(EL({},SL.Z.defaultProps),{backgroundClassName:"CircularProgressBar-circularProgressBarBackground-18BaI- CircularProgressBar-circularProgressBarBackground-1LlpZu",strokeColor:rv.Z.primaryColor});const CL=DL;var PL=n(53790),wL=n(75774),TL=n(45610),ZL=n(15378),NL=n(84388),AL=n(51343),xL=n(39571);function LL({children:e,className:t}){return y.createElement("div",{className:t,"data-qa-id":"preplayDetailsContainer"},e)}LL.defaultProps={className:"PrePlayDetailsGroup-group-32HwHt"};const OL=LL;function jL(e){const{children:t,className:n,labelClassName:i,contentClassName:s,label:r}=e;return y.createElement("div",{className:n},y.createElement("div",{className:i},r),y.createElement("div",{className:s},t))}jL.defaultProps={className:"PrePlayDetailsGroupItem-groupItem-dJr-TN",labelClassName:"PrePlayDetailsGroupItem-label-22rP0q",contentClassName:"PrePlayDetailsGroupItem-content-2TyyJ0"};const kL=jL,RL=function({children:e,mediaItem:t}){const n=t&&t.videoResolution;let i,s=!1;if(n){const e=parseInt(n,10);s=!0,i=e>=720||4===e||8===e}return e||s?y.createElement(OL,null,e,s?y.createElement(kL,{label:(0,De.Z)("Video")},i?(0,De.Z)("HD"):(0,De.Z)("SD")):null):null},zL=6e4;function UL({beginsAt:e,endsAt:t,channel:n,showChannel:i,showFullTime:s,timeFormat:r}){if(!e)return(0,De.Z)("No upcoming airings");if(Yi(e,t)){const e=t-Date.now()/1e3;return e<=60?(0,De.Z)("About to end"):Hi(e)}if((0,_i.Z)(e)&&(0,Qi.Z)(e,{minutes:60})){const t=1e3*e-Date.now();if(t<=zL)return i&&n?(0,De.Z)("Starting now on {channel}",{channel:n}):(0,De.Z)("Starting now");const s=Fi(t);return i&&n?(0,De.Z)("Starting in {duration} on {channel}",{duration:s,channel:n}):(0,De.Z)("Starting in {duration}",{duration:s})}return(s?ki:zi)(e,i&&n,{timeFormat:r})}class VL extends y.Component{constructor(e,t){super(e,t),this.onTickTimeout=()=>{this.setState(this.getState(this.props)),this.setTickTimeout()},this.state=this.getState(e)}componentDidMount(){this.setTickTimeout()}componentWillReceiveProps(e){const t=this.getState(e);t.title!==this.state.title&&this.setState(t)}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}componentWillUnmount(){this.tickTimeout&&window.clearTimeout(this.tickTimeout)}getState(e){return{title:UL(e)}}setTickTimeout(){this.tickTimeout=window.setTimeout(this.onTickTimeout,zL-Date.now()%zL)}render(){const{className:e,beginsAt:t,endsAt:n,channel:i,showChannel:s}=this.props,{title:r}=this.state,a=s&&!!i&&Yi(t,n);return y.createElement("span",{className:e},a?y.createElement("span",null,(0,De.Z)("Now on {channel}",{channel:i}),y.createElement(tr.Z,{className:"MetadataTitleAirDate-separator-3ZLInJ DashSeparator-separator-3gTgvL"}),r):r)}}VL.defaultProps={showFullTime:!1,showChannel:!1};const BL=VL,FL=function(e){const{children:t,beginsAt:n,endsAt:i,channel:s,timeFormat:r}=e;if(!n||!i)return null;const a=Date.now()/1e3;let o;return o=i<a?(0,De.Z)("Aired"):n<=a&&i>=a?(0,De.Z)("Airing"):(0,De.Z)("Airs"),y.createElement(kL,{label:o},y.createElement(BL,{beginsAt:n,endsAt:i,channel:s,showFullTime:!0,showChannel:!0,timeFormat:r}),t)};var HL=n(3664);const _L="AiringDetailsModalContent-separator-1vM46F DashSeparator-separator-3gTgvL";var QL=Object.prototype.hasOwnProperty,GL=Object.getOwnPropertySymbols,YL=Object.prototype.propertyIsEnumerable;const WL=function(e){const{serverEntityID:t,providerEntityID:n,summary:i,error:s,mediaItem:r,isComplete:a,hasError:o,isRecording:l,recordingProgress:c,timeFormat:d,onRecordingModify:u,onModalClose:p}=e,m=((e,t)=>{var n={};for(var i in e)QL.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&GL)for(var i of GL(e))t.indexOf(i)<0&&YL.call(e,i)&&(n[i]=e[i]);return n})(e,["serverEntityID","providerEntityID","summary","error","mediaItem","isComplete","hasError","isRecording","recordingProgress","timeFormat","onRecordingModify","onModalClose"]),{beginsAt:h,endsAt:g,startOffsetSeconds:v,endOffsetSeconds:f,channelTitle:I,channelShortTitle:b}=r,M=!(!v&&!f),S=v&&Math.round(v/60),E=f&&Math.round(f/60);return y.createElement(xL.Z,{onModalClose:p},y.createElement(NL.Z,null,(0,De.Z)("Airing Details")),y.createElement(wL.Z,null,y.createElement(HL.Z,{serverEntityID:t,providerEntityID:n,hint:m},y.createElement(RL,{mediaItem:r},y.createElement(FL,{beginsAt:h,endsAt:g,channel:b||I,showFullTime:!0,showChannel:!0,timeFormat:d},y.createElement("div",null,a?y.createElement("span",null,y.createElement(fa.Z,{className:"AiringDetailsModalContent-completeIcon-3hLm5p"}),(0,De.Z)("Recorded successfully")):null,l?y.createElement("span",null,y.createElement(AL.Z,{className:"AiringDetailsModalContent-recordingIcon-3Lusls"}),(0,De.Z)("Recording"),y.createElement(tr.Z,{className:_L}),(0,De.Z)("{recordingProgress}% complete",{recordingProgress:c})):null,o?y.createElement("span",null,y.createElement(Ce.Z,{className:"AiringDetailsModalContent-errorIcon-26dONR"}),s):null,a||l||o||!M?null:y.createElement("span",null,S?y.createElement("span",null,(0,De.Z)("Recording starts {minuteOffset} min early",{minuteOffset:S}),E?y.createElement("span",null,y.createElement(tr.Z,{className:_L}),(0,De.Z)("Ends {minuteOffset} min late",{minuteOffset:E})):null):y.createElement("span",null,(0,De.Z)("Recording ends {minuteOffset} min late",{minuteOffset:E})))))),y.createElement("div",{className:"AiringDetailsModalContent-summary-4bIK0b"},i))),y.createElement(TL.Z,null,y.createElement(ZL.Z,null,y.createElement($h.Z,{kind:fo.TP,size:vc.M2,onPress:u},(0,De.Z)("Modify Recording")),y.createElement($h.Z,{kind:fo._8,size:vc.M2,onPress:p},(0,De.Z)("Close")))))};var KL=Object.assign;const qL=(0,f.$j)((function(){return(0,de.P1)(QC,(0,_C.Z)(),((e,t)=>{const n=E().pick(t,"type","title","parentTitle","grandparentTitle","thumb","parentThumb","grandparentThumb","index","parentIndex","originallyAvailableAt","summary");return n.timeFormat=e,n}))}))((function(e){return y.createElement(WL,KL({},e))}));var $L=Object.prototype.hasOwnProperty,JL=Object.getOwnPropertySymbols,XL=Object.prototype.propertyIsEnumerable,eO=Object.assign;const tO=function(e){const{isOpen:t,metricsProperties:n,metadataItemEntityID:i,onRecordingModify:s,onModalClose:r}=e,a=((e,t)=>{var n={};for(var i in e)$L.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&JL)for(var i of JL(e))t.indexOf(i)<0&&XL.call(e,i)&&(n[i]=e[i]);return n})(e,["isOpen","metricsProperties","metadataItemEntityID","onRecordingModify","onModalClose"]);return y.createElement(PL.Z,{isOpen:t,metricsPage:et.go,metricsProperties:n,onModalClose:r},y.createElement(qL,eO({metadataItemEntityID:i,onRecordingModify:s,onModalClose:r},a)))},nO=function({error:e,onPress:t}){return y.createElement(th.Z,{className:"CalendarErrorButton-errorButton-18hyyd",component:AM.Z,tooltip:e,tooltipClassName:"CalendarErrorButton-errorTooltip-1BQEeq Tooltip-bottomCenter-3puJD6 Tooltip-tooltip-7baWc9 Tooltip-tooltipArrow-3xCLkA Tooltip-tooltipTopArrow-2DrTmU Tooltip-tooltipCenterAlignArrow-2WhOj6",tooltipAttachment:nh.eO,onPress:t},y.createElement(Ce.Z,{"aria-label":e}))},iO={context:pS.AGENDA};class sO extends y.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isAiringDetailsModalOpen:!0})},this.onConflictIconPress=e=>{this.setState({isConflictsModalOpen:!0})},this.onRecordingModify=()=>{this.setState({isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!0})},this.onAiringDetailsModalClose=()=>{this.setState({isAiringDetailsModalOpen:!1})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1,isConflictsModalOpen:!1})},this.state={isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!1,isConflictsModalOpen:!1}}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n,metadataItemEntityID:i,prePlayRoute:s,type:r,title:a,grandparentTitle:o,index:l,parentIndex:c,originallyAvailableAt:d,error:u,mediaItem:p,isRecording:m,isPostProcessing:h,recordingProgress:g,isComplete:v,hasError:f,hasSubscription:I,hasConflicts:b,showPlay:M,showDate:S,timeFormat:E,onPlayPress:D}=this.props,{isAiringDetailsModalOpen:C,isSubscribeModalOpen:P,isConflictsModalOpen:w}=this.state,{beginsAt:T,endsAt:Z,startOffsetSeconds:N=0,endOffsetSeconds:A=0,premiere:x}=p,L=(0,hi.Z)(T),O=JC(T-N,Z+A,{timeFormat:E}),j=Zi(T);let k;k=ji(T)?(0,De.Z)("Yesterday"):j?(0,De.Z)("Today"):(0,De.Z)("{dayOfWeek}, {monthNumber} {dayNumber}",{dayOfWeek:Si(T,{abbreviate:!0}),monthNumber:Di(T,{abbreviate:!0}),dayNumber:(0,bi.Z)(L)});const R=o||a,z=function(e,t,n,i,s,r){return"episode"!==e?n:`${t} - ${(0,la.Z)({seasonIndex:i,episodeIndex:s,date:r})} - ${n}`}(r,o,a,c,l,d);return y.createElement("div",{className:we()("AgendaEvent-event-1AV5hW",v&&"AgendaEvent-isComplete-14RILc",f&&"AgendaEvent-hasError-1u2wWe")},y.createElement(AM.Z,{className:"AgendaEvent-underlay-2WkdTk",to:s,onPress:s?void 0:this.onLinkPress}),y.createElement("div",{className:"AgendaEvent-overlay-18_auI"},y.createElement("div",{className:we()("AgendaEvent-date-3vjQfO",j&&"AgendaEvent-isToday-3ykNcm")},S?k:null),y.createElement("div",{className:"AgendaEvent-time-1iV6UV"},O),y.createElement("div",{className:"AgendaEvent-title-S5CZYD",title:z},x?y.createElement(Fw,null):null,R,y.createElement("div",{className:"AgendaEvent-titleDetails-1Kn_z0"},"movie"===r?y.createElement(lP,{metadataItemEntityID:i}):null,"episode"===r?y.createElement(sP.Z,{metadataItemEntityID:i}):null)),y.createElement("div",{className:"AgendaEvent-status-kQ7KbA"},!m||h||f?null:y.createElement("div",{className:"AgendaEvent-recording-2DORXq"},y.createElement(CL,{size:24,backgroundClassName:"AgendaEvent-recordingProgressBackground-4fdRJR CircularProgressBar-circularProgressBarBackground-18BaI- CircularProgressBar-circularProgressBarBackground-1LlpZu",lineWidth:2,progress:g,showProgressText:!1}),y.createElement("span",{className:"AgendaEvent-recordingIcon-3YwvBI"})),m&&h&&!f?y.createElement(ML.Z,null):null,M?y.createElement(dP.Z,{title:a,onPress:D}):null,f?y.createElement(nO,{error:u,onPress:b?this.onConflictIconPress:this.onLinkPress}):null)),I?y.createElement(tO,{isOpen:C,metricsProperties:iO,serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,error:u,mediaItem:p,hasSubscription:I,isComplete:v,hasError:f,isRecording:m,recordingProgress:g,onRecordingModify:this.onRecordingModify,onModalClose:this.onAiringDetailsModalClose}):null,I?y.createElement(Nd.Z,{isOpen:P||w,metricsProperties:iO,serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n,metadataItemEntityID:i,subscriptionType:r,showConflicts:w,isRecordingSchedule:!0,onModalClose:this.onSubscribeModalClose}):null)}}const rO=sO,aO=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.recordingSchedulePage.calendar),(e=>({events:e.scheduled})))}))((function({serverEntityID:e,events:t}){return y.createElement("div",null,t.map(((n,i)=>{const s=(0,hi.Z)(n.beginsAt),r=0===i||!(0,Ti.Z)((0,hi.Z)(t[i-1].beginsAt),s),a=(0,kt.Z)(Vt.PK,n.mediaSubscriptionID,e);return y.createElement(bL,{key:i,component:rO,serverEntityID:e,providerID:n.identifier||n.provider,metadataItemEntityID:n.metadataItem,mediaSubscriptionEntityID:a,mediaSubscriptionID:n.mediaSubscriptionID,eventID:n.metadataItem.key,status:n.status,error:n.error,linkedKey:n.linkedKey,mediaItem:n.mediaItem,hasConflicts:!(!n.conflicts||!n.conflicts.length),showDate:r})})))}));var oO=n(95570);function lO(e){const t=(0,hi.Z)(e);return(0,De.Z)("{month} {dayNumber}, {year}",{month:Di(e),dayNumber:(0,bi.Z)(t),year:(0,oO.Z)(t)})}const cO=function({startTime:e,endTime:t}){const n=(0,hi.Z)(e),i=(0,hi.Z)(t),s=(0,Ti.Z)(n,i)?lO(e):`${function(e){const t=(0,hi.Z)(e);return(0,De.Z)("{month} {dayNumber}",{month:Di(e),dayNumber:(0,bi.Z)(t)})}(e)} – ${lO(t)}`;return y.createElement("span",{className:"CalendarHeaderTitle-title-1aZWPF"},s)};var dO=Object.assign;const uO=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.recordingSchedulePage),(e=>{const{firstEvent:t,lastEvent:n}=e.calendar;return{startTime:t?t.beginsAt:void 0,endTime:n?n.beginsAt:void 0}}))}))((function(e){return y.createElement("div",{className:"AgendaHeader-agendaHeader-UhG1TM"},y.createElement(cO,dO({},e)))})),pO=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.recordingSchedulePage),(e=>{const{mediaSubscriptions:t,calendar:n,isCalendarPopulated:i,calendarError:s}=e;return{showError:!i&&!!s,isEmpty:!n.scheduled.length,subscriptionCount:t.length}}))}))((function(e){const{serverEntityID:t,showError:n,isEmpty:i,subscriptionCount:s}=e;return n?y.createElement(FC.Z,{title:(0,De.Z)("There was an error loading the agenda")}):i?y.createElement(uL,{subscriptionCount:s}):y.createElement("div",null,y.createElement(uO,null),y.createElement(aO,{serverEntityID:t}))})),mO={context:pS.CALENDAR};class hO extends y.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isAiringDetailsModalOpen:!0})},this.onConflictIconPress=e=>{this.setState({isConflictsModalOpen:!0})},this.onRecordingModify=()=>{this.setState({isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!0})},this.onAiringDetailsModalClose=()=>{this.setState({isAiringDetailsModalOpen:!1})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1,isConflictsModalOpen:!1})},this.state={isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!1,isConflictsModalOpen:!1}}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n,metadataItemEntityID:i,prePlayRoute:s,type:r,grandparentTitle:a,title:o,error:l,mediaItem:c,isRecording:d,isPostProcessing:u,recordingProgress:p,isComplete:m,hasError:h,hasSubscription:g,hasConflicts:v,showPlay:f,timeFormat:I,onPlayPress:b}=this.props,{isAiringDetailsModalOpen:M,isSubscribeModalOpen:S,isConflictsModalOpen:E}=this.state,{beginsAt:D,endsAt:C,startOffsetSeconds:P=0,endOffsetSeconds:w=0,premiere:T}=c,Z=JC(D-P,C+w,{includeMinuteZero:!1,timeFormat:I}),N=a||o;return y.createElement("div",{className:we()("CalendarEvent-event-1-Un-g",m&&"CalendarEvent-isComplete-yIHUc8",h&&"CalendarEvent-hasError-tuZDir")},y.createElement(AM.Z,{className:"CalendarEvent-underlay-1HIlBn",to:s,onPress:s?void 0:this.onLinkPress}),y.createElement("div",{className:"CalendarEvent-overlay-3bEWXp"},y.createElement("div",{className:"CalendarEvent-title-YNbMg4",title:N},N),y.createElement("div",{className:"CalendarEvent-secondaryInfo-2tw-6D"},y.createElement("div",{className:"CalendarEvent-time-15MIC0"},Z),T?y.createElement(Fw,null):null),y.createElement("div",{className:"CalendarEvent-status-2ofAUb"},!d||u||h?null:y.createElement("div",{className:"CalendarEvent-recording-1L7GyE"},y.createElement(CL,{size:24,backgroundClassName:"CalendarEvent-recordingProgressBackground-1nTAFB CircularProgressBar-circularProgressBarBackground-18BaI- CircularProgressBar-circularProgressBarBackground-1LlpZu",lineWidth:2,progress:p,showProgressText:!1}),y.createElement("span",{className:"CalendarEvent-recordingIcon-FEVxNY"})),d&&u&&!h?y.createElement(ML.Z,null):null,f?y.createElement(dP.Z,{title:o,onPress:b}):null,h?y.createElement(nO,{error:l,onPress:v?this.onConflictIconPress:this.onLinkPress}):null)),g?y.createElement(tO,{isOpen:M,metricsProperties:mO,serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,error:l,mediaItem:c,isComplete:m,hasError:h,isRecording:d,recordingProgress:p,onRecordingModify:this.onRecordingModify,onModalClose:this.onAiringDetailsModalClose}):null,g?y.createElement(Nd.Z,{isOpen:S||E,metricsProperties:mO,serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n,metadataItemEntityID:i,subscriptionType:r,showConflicts:E,isRecordingSchedule:!0,onModalClose:this.onSubscribeModalClose}):null)}}const gO=hO;var yO=Object.assign;const vO=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.recordingSchedulePage.calendar),((e,{date:t})=>t),((e,t)=>({events:e.scheduled.filter((({beginsAt:e})=>(0,Ti.Z)((0,hi.Z)(e),(0,hi.Z)(t))))})))}))((function({serverEntityID:e,events:t}){return y.createElement("div",null,t.map(((t,n)=>{const i=(0,kt.Z)(Vt.PK,t.mediaSubscriptionID,e);return y.createElement(bL,{key:n,component:gO,serverEntityID:e,providerID:t.identifier||t.provider,mediaSubscriptionEntityID:i,metadataItemEntityID:t.metadataItem,mediaSubscriptionID:t.mediaSubscriptionID,eventID:t.metadataItem.key,status:t.status,error:t.error,linkedKey:t.linkedKey,mediaItem:t.mediaItem,hasConflicts:!(!t.conflicts||!t.conflicts.length)})})))}));vO.propTypes=yO({date:ls().number.isRequired},vO.propTypes);const fO=vO,IO=function({serverEntityID:e,date:t}){return y.createElement("div",{className:"CalendarDay-day-1Fh_9t"},y.createElement(fO,{serverEntityID:e,date:t}))};var bO=Object.prototype.hasOwnProperty,MO=Object.getOwnPropertySymbols,SO=Object.prototype.propertyIsEnumerable,EO=Object.assign;const DO=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.recordingSchedulePage),(e=>({days:e.calendar.days})))}))((function(e){var{days:t}=e,n=((e,t)=>{var n={};for(var i in e)bO.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&MO)for(var i of MO(e))t.indexOf(i)<0&&SO.call(e,i)&&(n[i]=e[i]);return n})(e,["days"]);return y.createElement("div",{className:"CalendarDays-calendarDays-2EGird"},t.map((e=>y.createElement(IO,EO({key:e,date:e},n)))))})),CO=function({date:e}){const t=Zi(e);let n;if(ji(e))n=(0,De.Z)("Yesterday");else if(t)n=(0,De.Z)("Today");else{const t=(0,hi.Z)(e);n=(0,De.Z)("{dayOfWeek} {monthNumber}/{dayNumber}",{dayOfWeek:Si(e,{abbreviate:!0}),monthNumber:(0,Ei.Z)(t)+1,dayNumber:(0,bi.Z)(t)})}return y.createElement("div",{className:we()("CalendarDayOfWeek-dayOfWeek-cgusNg",t&&"CalendarDayOfWeek-isToday-1T-v9M"),title:n},n)};var PO=Object.prototype.hasOwnProperty,wO=Object.getOwnPropertySymbols,TO=Object.prototype.propertyIsEnumerable,ZO=Object.assign;const NO=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.recordingSchedulePage.calendar),(e=>({daysOfWeek:e.daysOfWeek})))}))((function(e){var{daysOfWeek:t}=e,n=((e,t)=>{var n={};for(var i in e)PO.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&wO)for(var i of wO(e))t.indexOf(i)<0&&TO.call(e,i)&&(n[i]=e[i]);return n})(e,["daysOfWeek"]);return y.createElement("div",{className:"CalendarDaysOfWeek-container-24UL6v"},t.map((e=>y.createElement(CO,ZO({key:e,date:e},n)))))})),AO="CalendarHeader-calendarHeader-seOLRZ",xO="CalendarHeader-calendarNav-1PdgqO Link-link-3v-v0b",LO="CalendarHeader-calendarNavDisabled-3EUJMz";var OO=Object.assign;const jO=function(e){const{hasPastEvents:t,hasFutureEvents:n,onGoToPreviousRangePress:i,onGoToNextRangePress:s}=e;return y.createElement("div",{className:AO},y.createElement("div",{className:AO},y.createElement(AM.Z,{className:we()(xO,!t&&LO),kind:fo.TP,size:vc.M2,isDisabled:!t,onPress:i},y.createElement(pp,{"aria-label":(0,De.Z)("Previous Page")})),y.createElement(cO,OO({},e)),y.createElement(AM.Z,{className:we()(xO,!n&&LO),kind:fo.TP,size:vc.M2,isDisabled:!n,onPress:s},y.createElement(dp,{"aria-label":(0,De.Z)("Next Page")}))))};var kO=Object.assign;const RO=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.recordingSchedulePage),(e=>{const t=E().pick(e.calendar,"time","startTime","endTime","hasPastEvents","hasFutureEvents");return kO({},t)}))}))((function(e){return y.createElement(jO,kO({},e))}));class zO extends y.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e})=>{const t=this.state.visibleDays,n=Math.min(Math.floor(e/120),7);n!==t&&this.props.onVisibleDaysChange(n),this.setState({width:e,visibleDays:n})},this.state={width:null,visibleDays:0}}render(){const{serverEntityID:e,showError:t,isEmpty:n,subscriptionCount:i,visibleDays:s,onGoToPreviousRangePress:r,onGoToNextRangePress:a}=this.props;return t?y.createElement(FC.Z,{title:(0,De.Z)("There was an error loading the calendar")}):n?y.createElement(uL,{subscriptionCount:i}):y.createElement(OC.Z,{className:"Calendar-calendar-29Z7I4",ignoreHeight:!0,onMeasure:this.onMeasure},s===this.state.visibleDays?y.createElement("div",null,y.createElement(RO,{onGoToPreviousRangePress:r,onGoToNextRangePress:a}),y.createElement(NO,null),y.createElement(DO,{serverEntityID:e})):null)}}const UO=zO;var VO=Object.assign;class BO extends y.Component{constructor(){super(...arguments),this.onVisibleDaysChange=e=>{(0,Rt.c9)((()=>{this.props.setVisibleDays({visibleDays:e})}))},this.onGoToPreviousRangePress=()=>{this.props.goToPreviousRange()},this.onGoToNextRangePress=()=>{this.props.goToNextRange()}}render(){return y.createElement(UO,VO({onVisibleDaysChange:this.onVisibleDaysChange,onGoToPreviousRangePress:this.onGoToPreviousRangePress,onGoToNextRangePress:this.onGoToNextRangePress},this.props))}}const FO=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.recordingSchedulePage),(e=>{const{mediaSubscriptions:t,calendar:n,isCalendarPopulated:i,calendarError:s}=e;return{showError:!i&&!!s,isEmpty:!n.scheduled.length,subscriptionCount:t.length,visibleDays:n.visibleDays}}))}),i)(BO),HO="calendar",_O="agenda",QO=[HO,_O],GO=(0,f.$j)((function(){return(0,de.P1)(((e,{sourceDirectory:t})=>t),(0,HM.Z)(),(0,UM.Z)(),((e,t,n)=>({guideRoute:(0,UZ.ZP)(UZ.tk.GUIDE,t,n,e)})))}))((function(e){const{serverEntityID:t,showSpinner:n,showEmptyState:i,programGuideIdentifier:s,selectedViewType:r,guideRoute:a}=e;return n?y.createElement(mx,null,y.createElement(zC.Z,null,y.createElement(RC.Z,null))):i&&s?y.createElement(mx,null,y.createElement(zC.Z,{iconComponent:rx,title:(0,De.Z)("You have no recordings scheduled"),description:y.createElement(ax.Z,{message:(0,De.Z)("Check out the {openLink}Guide{closeLink} to browse available programming"),tags:[{open:"openLink",close:"closeLink",component:AM.Z,kind:fo._8,to:a}]})})):i&&!s?y.createElement(mx,null,y.createElement(zC.Z,{iconComponent:rx,title:(0,De.Z)("You have no recordings scheduled"),description:(0,De.Z)("You need a DVR before you can schedule recordings")})):y.createElement("div",{className:"RecordingSchedulePageContent-schedulePageContent-357TDo PageContent-pageContent-aqfjwt"},y.createElement(mx,{innerClassName:"RecordingSchedulePageContent-schedulePageInnerContent-1Kt44c PageContent-innerPageContent-1ra0Xh"},r===HO?y.createElement(FO,{serverEntityID:t}):null,r===_O?y.createElement(pO,{serverEntityID:t}):null),y.createElement(dL,{serverEntityID:t,providerID:s,guideRoute:a}))}));function YO(e){return e===_O?(0,De.Z)("Agenda View"):(0,De.Z)("Calendar View")}class WO extends y.Component{constructor(e,t){super(e,t),this.onViewsMenuButtonPress=e=>{this.setState({isViewsMenuOpen:!this.state.isViewsMenuOpen})},this.onViewsMenuClose=()=>{this.setState({isViewsMenuOpen:!1})},this.state={isViewsMenuOpen:!1},this._viewsMenuButtonID=(0,wf.Z)()}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:n,scheduleRoute:i,selectedViewType:s,showEPGActivity:r}=this.props,{isViewsMenuOpen:a}=this.state;return y.createElement(y.Fragment,null,y.createElement(uD.Z,null,y.createElement(DN,{serverEntityID:e,providerEntityID:t,sourceDirectory:n}),y.createElement(vN,{serverEntityID:e,providerEntityID:t,sourceDirectory:n,directoryKey:UZ.tk.RECORDING_SCHEDULE}),y.createElement(VZ.Z,null)),y.createElement(Ph,null,y.createElement(Qb.Z,null,y.createElement(zZ.Z,{id:this._viewsMenuButtonID,hasMenu:!0,isMenuOpen:a,onPress:this.onViewsMenuButtonPress},YO(s)),y.createElement(mo.Z,{target:this._viewsMenuButtonID,isOpen:a,onMenuClose:this.onViewsMenuClose},QO.map((e=>y.createElement(Ic.Z,{key:e,to:C.Z.join([i],{view:e}),isSelected:s===e,onPress:this.onViewsMenuClose},YO(e)))))),r?y.createElement(_b,null,y.createElement(CN,{serverEntityID:e,providerEntityID:t})):null))}}const KO=WO,qO=(0,f.$j)((function(){return(0,de.P1)(((e,{sourceDirectory:t})=>t),(0,HM.Z)(),(0,UM.Z)(),BM(),((e,t,n,i)=>({scheduleRoute:(0,UZ.ZP)(UZ.tk.RECORDING_SCHEDULE,t,n,e),showEPGActivity:!!i})))}))(KO),$O=(0,gx.Z5)(tL.ZP);var JO=Object.assign;class XO extends y.Component{shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:n,selectedViewType:i}=this.props;return y.createElement(AC.Z,{metricsContext:xC(et.WT,pS.DVR_SCHEDULE_PIVOT)},y.createElement(LC.Z,{metricsPage:et.WT,metricsProperties:{pane:i},scrollDirection:vb.Hn},y.createElement(qO,{serverEntityID:e,providerEntityID:t,sourceDirectory:n,selectedViewType:i}),y.createElement(tg,{serverEntityID:e,providerEntityID:t}),y.createElement(GO,JO({},this.props))))}}const ej=$O(XO),tj={initRecordingSchedulePage:BA,clearRecordingSchedulePage:FA,goToToday:GA,fetchCalendar:KA,fetchMediaSubscriptions:HA,saveExperienceSettings:Nv.LN,changeQuickSearchSettings:Ut.changeQuickSearchSettings};class nj extends y.Component{constructor(e,t){super(e,t),this._updateCalendar=()=>{this.props.goToToday(),this.props.fetchCalendar(),this._resetUpdateTimeout()},this._updateTimeoutID=null}componentWillMount(){this._populate(),this._resetUpdateTimeout(),this._saveViewType(),this.props.providerIdentifier&&this._setSearchProviderIdentifier(this.props.providerIdentifier)}componentWillReceiveProps(e){const{serverEntityID:t,time:n,selectedViewType:i}=e;t!==this.props.serverEntityID&&this._populate(e),this._updateTimeoutID&&n!==this.props.time&&this._resetUpdateTimeout(),i!==this.props.selectedViewType&&this._saveViewType(e)}componentDidUpdate(e){const{providerIdentifier:t}=this.props;t&&t!==e.providerIdentifier&&this._setSearchProviderIdentifier(t)}componentWillUnmount(){this._updateTimeoutID&&window.clearTimeout(this._updateTimeoutID),this.props.clearRecordingSchedulePage(),this._setSearchProviderIdentifier(null)}_populate(e=this.props){(0,Rt.c9)((()=>{e.initRecordingSchedulePage({serverEntityID:e.serverEntityID}),e.fetchCalendar(),e.fetchMediaSubscriptions()}))}_setSearchProviderIdentifier(e){const{changeQuickSearchSettings:t,serverEntityID:n,providerEntityID:i,sourceDirectory:s}=this.props;let r;s&&(r=s.id),t({serverEntityID:n,providerEntityID:i,providerIdentifier:e,directoryID:r})}_resetUpdateTimeout(){this._updateTimeoutID&&window.clearTimeout(this._updateTimeoutID),this._updateTimeoutID=window.setTimeout(this._updateCalendar,36e5)}_saveViewType(e=this.props){e.saveExperienceSettings({calendarViewType:e.selectedViewType})}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:n,selectedViewType:i,showSpinner:s,showEmptyState:r,programGuideIdentifier:a}=this.props;return this.props.isPagePopulated?y.createElement(ej,{serverEntityID:e,providerEntityID:t,sourceDirectory:n,selectedViewType:i,showSpinner:s,showEmptyState:r,programGuideIdentifier:a}):null}}const ij=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.recordingSchedulePage),((e,{selectedViewType:t})=>t),(0,UM.Z)(),wC(),(0,de.P1)(_t.Z,function(e,t=ix){return(0,oC.Z)(function(e,t){return(0,de.P1)(_t.Z,nx(),((n,i)=>i?i.reduce(((i,s)=>{const r=n[s];return r&&t(r)&&E().findWhere(r.features,{type:e})&&i.push(s),i}),[]):[]))}(e,t),(e=>e))}(mS.kD),((e,t)=>{const n=t[0];if(n){const t=e[n];return t&&t.identifier}})),ye.Z,((e,t,n,i,s,r)=>{const{isPagePopulated:a,isCalendarPopulated:o,calendarError:l,isMediaSubscriptionsPopulated:c,mediaSubscriptionsError:d,calendar:u}=e,p=!o&&!l||!c&&!d,m=!p&&c&&!e.mediaSubscriptions.length&&o&&!u.scheduled.length;return{sourceDirectory:i,providerIdentifier:n.identifier,isPagePopulated:a,showSpinner:p,showEmptyState:m,programGuideIdentifier:s,time:u?u.time:void 0,selectedViewType:t||r.calendarViewType}}))}),tj)(nj);function sj(){return(0,de.P1)(((e,{directoryKey:t})=>t),wC(),((e,t)=>HZ(t,e)))}var rj=n(93066);const aj=(0,No.Z)(rj.Mv),oj=(0,No.Z)(rj.TA),lj=(0,No.Z)(rj.cW),cj=(0,No.Z)(rj.PG);var dj=n(53181),uj=n(716),pj=Object.prototype.hasOwnProperty,mj=Object.getOwnPropertySymbols,hj=Object.prototype.propertyIsEnumerable,gj=Object.assign;const yj=function(e){const{serverEntityID:t,providerEntityID:n,pivot:i,sourceDirectory:s,directoryKey:r,showSecondHeader:a,children:o}=e,l=((e,t)=>{var n={};for(var i in e)pj.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&mj)for(var i of mj(e))t.indexOf(i)<0&&hj.call(e,i)&&(n[i]=e[i]);return n})(e,["serverEntityID","providerEntityID","pivot","sourceDirectory","directoryKey","showSecondHeader","children"]);return y.createElement(ox.Z,gj({className:uj.Z.page},l),y.createElement(uD.Z,null,y.createElement(DN,{serverEntityID:t,providerEntityID:n,sourceDirectory:s}),i?y.createElement(vN,{serverEntityID:t,providerEntityID:n,sourceDirectory:s,directoryKey:r}):null,y.createElement(VZ.Z,null)),a?y.createElement(Ph,null):null,y.createElement(mx,null,o))};var vj=n(63233);function fj({items:e,gap:t=0,existingItems:n=[]}){const i=E().sortBy(n,"position"),s=E().sortBy(e,"position");let r=-1/0;return s.forEach((e=>{const s=E().sortedIndex(n,e,"position"),a=n[s-1],o=n[s],l=e.position>r+t,c=!a||e.position>a.position+t,d=!o||e.position<o.position-t;l&&c&&d&&(i.push(e),r=e.position)})),E().sortBy(i,"position")}const Ij="minor",bj="major",Mj={container:"TickMarks-container-2q9ySS",ticks:"TickMarks-ticks-2eF6lM",tick:"TickMarks-tick-27kXLQ",minor:"TickMarks-minor-2arEQg TickMarks-tick-27kXLQ",major:"TickMarks-major-3Dd5H8 TickMarks-tick-27kXLQ",label:"TickMarks-label-1q0c1R"};function Sj(e){const{ticks:t,pixelProportion:n,majorTickGap:i,minorTickGap:s}=e,r=E().where(t,{type:bj}),a=E().where(t,{type:Ij}),o=fj({items:r,gap:n*i});return fj({items:a,existingItems:o,gap:n*s})}class Ej extends y.Component{constructor(e,t){super(e,t),this.state={ticks:Sj(e)}}componentWillReceiveProps(e){const{ticks:t,pixelProportion:n,majorTickGap:i,minorTickGap:s}=e,r=this.props.ticks!==t,a=this.props.pixelProportion!==n,o=this.props.majorTickGap!==i,l=this.props.minorTickGap!==s;(r||a||o||l)&&this.setState({ticks:Sj(e)})}render(){return y.createElement("div",{className:Mj.container},y.createElement("div",{className:Mj.ticks},this.state.ticks.map((({type:e,position:t,label:n})=>y.createElement("div",{key:t,className:Mj[e],style:{top:100*t+"%"}},n&&"major"===e?y.createElement("div",{className:Mj.label},n):null)))))}}Ej.defaultProps={majorTickGap:20,minorTickGap:5};const Dj=Ej;function Cj(e={},t=1){const{Media:[n={}]=[]}=e,{width:i,height:s,Part:[r={}]=[]}=n;return i&&s?(a=r.orientation)>=5&&a<9?s/i:i/s:t;var a}let Pj;const wj=(0,de.P1)(dj.Z,(e=>{const t=E().pluck(e.activeSelectionItems,"id");return Pj&&E().isEqual(Pj,t)?Pj:(Pj=t,t)}));let Tj,Zj={};function Nj(e,t){if(!e||null==t)return!1;if(e===Tj&&Zj.hasOwnProperty(t))return Zj[t];e!==Tj&&(Tj=e,Zj={});const n=-1!==e.indexOf(t);return Zj[t]=n,n}var Aj=n(73068),xj=n(41523);function Lj(){return(0,de.P1)((0,_C.Z)(),wj,((e,t)=>!!e&&Nj(t,e.ratingKey)))}var Oj=n(48022);function jj(){return(0,de.P1)(((e,{listType:t})=>t),(0,_C.Z)(),((e,t={})=>{const n=t.type;if(n){if(n===Ho.PLAYLIST)return Ho.PLAYLIST;if(n===Ho.COLLECTION)return Ho.COLLECTION;if(e===Oj.pV)return Ho.PHOTO;{const e=Ho.getLeafType(n);return e&&e.mediaType}}}))}var kj=n(56473),Rj=n(97863);const zj=parseInt(ku.Z.mosaicCellPadding,10);var Uj=Object.assign;const Vj=(0,f.$j)((function(){return(0,de.P1)((0,HM.Z)(),(0,_C.Z)(),jj(),Lj(),dj.Z,(({machineIdentifier:e},t={},n,i,s)=>{const{key:r,type:a,title:o,thumb:l}=t;return{machineIdentifier:e,metadataKey:r,type:a,title:o,thumb:l,selectionType:n,activeSelectionType:s.activeSelectionType,isSelected:i}}))}),(function(e,t){return{onSelectItem(n){e((0,cb.wr)(Uj({metadataListEntityID:t.metadataListEntityID},n)))},onDeselectItem(n){e((0,cb.g8)(Uj({metadataListEntityID:t.metadataListEntityID},n)))}}}))((function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,containerKey:s,listType:r,metadataKey:a,type:o,title:l,thumb:c,cellWidth:d,cellHeight:u,showOffscreenPlaceholder:p,selectionType:m,activeSelectionType:h,isSelected:g,onSelectItem:v,onDeselectItem:f}=e,I=(0,HC.Z)(e),b="clip"===o,M="photoalbum"===o,S=!a,E=d-2*zj,D=u-2*zj;return y.createElement("div",{className:"MetadataPhotoCell-photoContainer-3x1j-I",style:I.style},y.createElement("div",{className:"MetadataPhotoCell-photo-2k-z8S"},y.createElement("div",{className:"MetadataPhotoCell-image-2NZnEq"},S?y.createElement(Rj.Z,{imageWidth:E,imageHeight:D,isSelected:g}):null,S?null:y.createElement(kj.Z,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,containerKey:s,listType:r,metadataKey:a,type:o,imageUrl:c,imageWidth:E,imageHeight:D,selectionType:m,activeSelectionType:h,isSelected:g,isOffscreen:p,onSelectItem:v,onDeselectItem:f}),b?y.createElement("div",{className:"MetadataPhotoCell-badge-28uFUQ"},y.createElement(Xp.Z,null)):null,M?y.createElement("div",{className:"MetadataPhotoCell-title-1TKaDE"},l):null)))}));var Bj=Object.assign;function Fj(e){const{columns:t=1,rows:n=[],overscan:i=0,outerPadding:s=0,innerPadding:r=0,maximumHeight:a=0,offset:o=0}=e,l=[];let c,d,u,p,m,h=0,g=o;function y(e){return e<0?l[0]:E().find(l,(({bottom:t})=>e<s+(t+1)*m))||E().last(l)}return n.forEach((e=>{const t=h;h+=e.height;const n=h-1,i=g;g+=e.widths.length;const s=g-1,r=[];let a=0;e.widths.forEach(((e,t)=>{const n=a;a+=e,r.push({width:e,left:n,cellIndex:i+t})})),l.push(Bj(Bj({},e),{top:t,bottom:n,first:i,last:s,cellLayouts:r}))})),{getListStyle:function(e){const i=`${e.viewportWidth}:${e.viewportHeight}`;if(i===c)return d;u=e.viewportHeight;const r=e.viewportWidth-2*s,o=n.reduce(((e,t)=>e+t.height),0);return p=r/t,m=a?(a-s)/o:p,c=i,d={height:m*o,width:r},d},getPositionForIndex:function(e){(0,H.Z)(void 0!==u,"`getListStyle` must be called before `getPositionForIndex`");const t=E().find(l,(({last:t})=>e<=t)),n=E().find(t.cellLayouts,(({cellIndex:t})=>t===e));return{cellX:Math.round(n.left*p)+r+s,cellY:Math.round(t.top*m)+r+s,cellWidth:Math.round(n.width*p)-2*r,cellHeight:Math.round(t.height*m)-2*r}},getRangesForPosition:function(e=0){(0,H.Z)(void 0!==u,"`getListStyle` must be called before `getRangesForPosition`");const t=e+u-1,n=t+i*u,s=y(e-i*u).first,r=y(n).last,a=y(e).first,o=y(t).last;return{renderStartIndex:s,renderEndIndex:r,visibleStartIndex:a,visibleEndIndex:o,partiallyVisibleStartIndex:a,partiallyVisibleEndIndex:o}},getRelativeIndex:function(){(0,H.Z)(!1,"Mosaic layouts do not support relative indexing")}}}function Hj(e){return 0===e.cells.length?1/0:e.cells.reduce(((e,t)=>e+function(e){return Math.abs(e.actual-e.desired)/e.actual}(t)),0)/e.cells.length+Math.abs(e.scale-1)}function _j({cells:e},t){const n=t/e.reduce(((e,t)=>e+t.desired),0);return{scale:n,cells:e.map((({desired:e})=>({desired:e,actual:e*n})))}}function Qj(e){const{aspectRatios:t,columns:n=4,minAspectRatio:i=.4,maxAspectRatio:s=5}=e,r=t.map((e=>Math.max(i,Math.min(s,e)))),a=[];let o={scale:null,cells:[]};r.forEach((e=>{const t={desired:e};let i={scale:0,cells:o.cells.slice(0)};i.cells.push(t),i=_j(i,n),Hj(i)<=Hj(o)?o=i:(a.push(o),o=_j({scale:0,cells:[t]},n))}));const l=1/Math.max(1,o.scale);return o.scale=Math.min(1,o.scale),o.cells=o.cells.map((({desired:e,actual:t})=>({desired:e,actual:t*l}))),a.push(o),a.map((({scale:e,cells:t})=>({height:e,widths:t.map((e=>e.actual))})))}var Gj=Object.assign;function Yj(e,t){return function(n){return y.createElement(t,Gj(Gj({},e),n))}}const Wj=function(e){const t=(0,HC.Z)(e);return y.createElement("div",{style:t.style},e.children)};class Kj extends y.Component{constructor(e,t){super(e,t),this.onSelectPress=()=>{const{isSelected:e,items:t,onSelectItems:n,onDeselectItems:i}=this.props;e?i(t):n(t)},this.state={layout:this._createLayout(e),cellRenderer:this._createCellRenderer(e)}}componentWillReceiveProps(e){const t=e.aspectRatios!==this.props.aspectRatios,n=e.columns!==this.props.columns,i=e.viewportWidth!==this.props.viewportWidth,s=e.viewportHeight!==this.props.viewportHeight,r=e.serverEntityID!==this.props.serverEntityID,a=e.providerEntityID!==this.props.providerEntityID,o=e.metadataListEntityID!==this.props.metadataListEntityID,l=t||n||s||i,c=r||a||o;if(l||c){const t={};l&&(t.layout=this._createLayout(e)),c&&(t.cellRenderer=this._createCellRenderer(e)),this.setState(t)}}_createLayout(e){const t=Qj({aspectRatios:e.aspectRatios,columns:e.columns});return Fj({columns:e.columns,rows:t,maximumHeight:e.cellHeight-(e.footerHeight+e.headerHeight)})}_createCellRenderer(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,containerKey:s,listType:r}=e;return Yj({serverEntityID:t,providerEntityID:n,metadataListEntityID:i,containerKey:s,listType:r},Vj)}render(){const{cellIndex:e,cellX:t,cellY:n,cellWidth:i,cellHeight:s,isVirtual:r,title:a,items:o,size:l,viewportHeight:c,scrollTop:d,isSelected:u,hasSelection:p}=this.props,{layout:m,cellRenderer:h}=this.state;return y.createElement(Wj,{cellIndex:e,cellX:t,cellY:n,cellWidth:i,cellHeight:s,isVirtual:r},y.createElement("div",{className:we()(p&&"MetadataMomentCell-hasSelection-20fhjQ","MetadataMomentCell-header-14wqW1")},y.createElement("div",{className:"MetadataMomentCell-actions-1PiTWW"},y.createElement(xj.Z,{className:"MetadataMomentCell-selectButton-32k4Qr SelectButton-selectButton-Yy19xn",title:a,isSelected:u,onPress:this.onSelectPress})),y.createElement("div",{className:"MetadataMomentCell-title-AJwb7s"},a)),y.createElement(Aj.Z,{items:o,keyPropName:"metadataItemEntityID",size:l,cellRenderer:h,viewportWidth:i,viewportHeight:c,scrollTop:d-n,layout:m}))}}Kj.defaultProps={headerHeight:0,footerHeight:0};const qj=Kj;function $j(){return(0,de.P1)(((e,{start:t})=>t),((e,{end:t})=>t),(0,SC.Z)(),((e,t,n)=>{const{populatedRange:i,metadataItems:s}=n;return e<i.start||t>i.end?E().times(t-e,(()=>null)):s.slice(e-i.start,t-i.start)}))}function Jj(){return(0,de.P1)($j(),EC.Z,((e,t)=>e.map((e=>t[e]))))}const Xj=(0,f.$j)((function(){return(0,de.P1)((0,SC.Z)(),$j(),(0,de.P1)(((e,{avgAR:t})=>t),Jj(),((e,t)=>t.map((t=>t?Cj(t,e):e)))),(0,de.P1)(Jj(),wj,((e,t)=>e.every((e=>e&&Nj(t,e.ratingKey))))),dj.Z,((e,t,n,i,s)=>({containerKey:e.containerKey,listType:"photo",aspectRatios:n,items:t,isSelected:i,hasSelection:s.activeSelectionItems.length>0})))}),(function(e,t){return{onSelectItems(t){e((0,cb.Kn)({type:Ho.PHOTO,ids:t}))},onDeselectItems(t){e((0,cb.XX)({ids:t}))}}}))(qj);var ek=Object.prototype.hasOwnProperty,tk=Object.getOwnPropertySymbols,nk=Object.prototype.propertyIsEnumerable,ik=Object.assign;var sk=Object.assign;class rk extends y.Component{constructor(e,t){super(e,t),this.state={layout:this._createLayout(e)}}componentWillReceiveProps(e){const t=e.items!==this.props.items,n=e.columns!==this.props.columns;(t||n)&&this.setState({layout:this._createLayout(e)})}_createLayout(e){return function(e){const{columns:t=1,areas:n=[],innerPaddingTop:i=0,innerPaddingBottom:s=0}=e,r=((e,t)=>{var n={};for(var i in e)ek.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&tk)for(var i of tk(e))t.indexOf(i)<0&&nk.call(e,i)&&(n[i]=e[i]);return n})(e,["columns","areas","innerPaddingTop","innerPaddingBottom"]);return kC(ik({getCellHeights:function(e){return n.map((n=>function(e,n){return Math.max(1,Math.round(e/t))*n+(i+s)}(n,e/t)))}},r))}({columns:e.columns,areas:e.items.map((e=>e.area)),innerPaddingTop:e.headerHeight,innerPaddingBottom:e.footerHeight,outerPaddingTop:e.listPadding,outerPaddingRight:e.listPadding-e.listGutter,outerPaddingBottom:e.listPadding,outerPaddingLeft:e.listPadding})}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,columns:i,headerHeight:s,footerHeight:r,cellComponent:a}=this.props;return y.createElement(jC.Z,sk({layout:this.state.layout,cellRenderer:Yj({serverEntityID:e,providerEntityID:t,metadataListEntityID:n,columns:i,headerHeight:s,footerHeight:r},a)},this.props))}}const ak=rk;var ok=Object.prototype.hasOwnProperty,lk=Object.getOwnPropertySymbols,ck=Object.prototype.propertyIsEnumerable,dk=Object.assign;const uk={dispatchPopulateMetadataListRange:cb.vp,dispatchDeselectAllMetadataListItems:cb.m8,dispatchResetMetadataList:cb.wZ};class pk extends y.Component{constructor(){super(...arguments),this.onPageRequest=({startIndex:e,endIndex:t})=>{const{metadataListEntityID:n,disableReloadThreshold:i,items:s,dispatchPopulateMetadataListRange:r}=this.props;r({metadataListEntityID:n,disableReloadThreshold:i,startIndex:s[e].start,endIndex:s[t].end-1,pages:1})}}componentWillUnmount(){const{metadataListEntityID:e}=this.props;this.props.dispatchDeselectAllMetadataListItems({metadataListEntityID:e}),this.props.dispatchResetMetadataList({metadataListEntityID:e})}render(){const e=this.props,{dispatchPopulateMetadataListRange:t,dispatchDeselectAllMetadataListItems:n,dispatchResetMetadataList:i}=e,s=((e,t)=>{var n={};for(var i in e)ok.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&lk)for(var i of lk(e))t.indexOf(i)<0&&ck.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchPopulateMetadataListRange","dispatchDeselectAllMetadataListItems","dispatchResetMetadataList"]);return y.createElement(ak,dk({onPageRequest:this.onPageRequest},s))}}const mk=(0,f.$j)((function(){return(0,de.P1)(dj.Z,(e=>({disableReloadThreshold:!!e.activeSelectionType})))}),uk)(pk),hk=Math.max(0,parseInt(ku.Z.timelineGutter,10)-40);class gk extends y.Component{constructor(e,t){super(e,t),this.onListUpdate=e=>{const t=e.landmarks,n=e.listStyle&&e.listStyle.height;if(t!==this._landmarks){this._landmarks=t;const e=function(e,t){const n={},i={};return e.reduce(((e,{index:s,position:r})=>{const a=(0,gi.Z)(1e3*t[s],"yyyy MM"),o=a.slice(0,4);return n[o]?i[a]||(i[a]=!0,e.push({position:r,type:Ij})):(n[o]=!0,i[a]=!0,e.push({position:r,type:bj,label:o})),e}),[])}(t,E().pluck(this.props.moments,"startsAt"));this.setState({ticks:e,listHeight:n})}},this.state={ticks:null,listHeight:null}}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,moments:i,columns:s,height:r,onMomentScrollIndexChange:a}=this.props,{ticks:o,listHeight:l}=this.state,c=1/r,d=l&&l>r;return i.length?y.createElement("div",{className:"TimelinePageContent-container-2Fh_jQ"},y.createElement(mk,{className:"TimelinePageContent-stack-307wwY PageContent-pageContent-aqfjwt",scrollerClassName:"TimelinePageContent-scroller-32pe3i",serverEntityID:e,providerEntityID:t,metadataListEntityID:n,scrollPositionStorageKey:"TimelinePageContent",keyPropName:"id",items:i,size:i.length,columns:s,footerHeight:59,listPadding:55,listGutter:hk,hasNestedList:!0,cellComponent:Xj,onListScrollIndexChange:a,onListUpdate:this.onListUpdate}),y.createElement("div",{className:"TimelinePageContent-adornment-o1gAE0"},o&&d?y.createElement(Dj,{pixelProportion:c,ticks:o}):null)):y.createElement(mx,null,y.createElement(zC.Z,{iconComponent:vj.Z.photo,title:(0,De.Z)("There are no events in this library")}))}}const yk=gk;function vk({className:e,children:t}){return y.createElement("div",{className:e},t)}vk.defaultProps={className:"PageHeaderRight-pageHeaderRight-2uwihO"};const fk=vk;function Ik(e,t){return t?`${e}-${t}`:e}const bk="poster",Mk="mosaic",Sk="table",Ek="simpleSummary",Dk="summary",Ck="epgEpisode",Pk="sharedItems";function wk(e,t){return Tk(t)||Zk(e)}function Tk(e){return e===bk||e===Mk}function Zk(e){return e.length>1}const Nk=ls().oneOf([bk,Mk,Sk,Ek,Dk,Ck,Pk]);class Ak extends y.Component{constructor(){super(...arguments),this.onListStylePress=e=>{this.props.onListStylePress(this.props.listStyle)}}render(){const{isSelected:e,title:t}=this.props;return y.createElement(Ic.Z,{isSelected:e,onPress:this.onListStylePress},t)}}const xk=Ak;function Lk(e){return e===Sk?vM:e===Dk||e===Ek?IM:MM}class Ok extends y.Component{constructor(e,t){super(e,t),this.onSliderChange=({steppedValue:e})=>{this.setState({sliderValue:e}),this._clearTimeout(),this._columnAdjustmentTimeoutID=window.setTimeout((()=>{this.props.onColumnAdjustmentChange(-1*e)}),this.props.columnAdjustmentTimeout)},this.onStylesPress=e=>{this.setState({isStylesMenuOpen:!this.state.isStylesMenuOpen})},this.onStylesMenuClose=()=>{this.setState({isStylesMenuOpen:!1})},this.onListStylePress=e=>{this.props.onListStyleChange(e),this.onStylesMenuClose()},this.state={sliderValue:-1*e.columnAdjustment,isStylesMenuOpen:!1},this._stylesButtonID=(0,wf.Z)()}componentWillReceiveProps(e){e.columnAdjustment!==this.props.columnAdjustment&&this.setState({sliderValue:-1*e.columnAdjustment})}componentWillUnmount(){this._clearTimeout()}_clearTimeout(){this._columnAdjustmentTimeoutID&&window.clearTimeout(this._columnAdjustmentTimeoutID)}render(){const{listType:e,listContext:t,selectedListStyle:n,allListStyles:i}=this.props,{sliderValue:r,isStylesMenuOpen:a}=this.state,{POSTER:o,MOSAIC:l,TABLE:c,SUMMARY:d,SIMPLE_SUMMARY:u}=s,p=[{listStyle:o,title:(0,De.Z)("Grid View")},{listStyle:l,title:(0,De.Z)("Mosaic View")},{listStyle:c,title:(0,De.Z)("List View")},{listStyle:d,title:(0,De.Z)("Summary View")},{listStyle:u,title:(0,De.Z)("Summary View")}],m=Tk(n),h=Zk(i),g=Lk(n);return m||h?y.createElement("div",{className:"MetadataListStylesMenu-stylesContainer-2CTSej"},m?y.createElement(vr.Z,{className:"MetadataListStylesMenu-slider-1Hc4d8 Slider-slider-4zRCDI",label:(0,De.Z)("Poster Size"),value:r,min:-1,max:2,stepSize:1,onChange:this.onSliderChange}):null,y.createElement(AM.Z,{id:this._stylesButtonID,"data-qa-id":"toolbarView",className:h?"MetadataListStylesMenu-stylesButtonWithArrow-2PnVEh MetadataListStylesMenu-stylesButton-3iwoju":"MetadataListStylesMenu-stylesButton-3iwoju","aria-label":(0,De.Z)("Show List Styles"),isDisabled:!h,onPress:this.onStylesPress},y.createElement(g,{className:"MetadataListStylesMenu-stylesIcon-1SNh63"}),h?y.createElement(gc.Z,{direction:a?yc.UP:yc.WV}):null),h?y.createElement(mo.Z,{target:this._stylesButtonID,isOpen:a,onMenuClose:this.onStylesMenuClose},p.map((({listStyle:e,title:t})=>i.indexOf(e)>-1&&y.createElement(xk,{key:e,isSelected:n===e,title:t,listStyle:e,onListStylePress:this.onListStylePress})))):null):null}}Ok.defaultProps={selectedListStyle:bk,allListStyles:[bk],allListStyleActions:[],columnAdjustmentTimeout:500};const jk=Ok;var kk=Object.assign;const Rk=(0,de.P1)(ye.Z,(e=>({columnAdjustment:e.columnAdjustment,listStyles:e.listStyles})));class zk extends y.Component{constructor(){super(...arguments),this.onColumnAdjustmentChange=e=>{(0,Rt.c9)((()=>{this.props.saveExperienceSettings({columnAdjustment:e})}))},this.onListStyleChange=e=>{const{listStyles:t,listType:n,listSubtype:i,listContext:s}=this.props,r=Ik(n,i),a=kk(kk({},t),{[s]:kk(kk({},t[s]||{}),{[r]:e})});(0,Rt.c9)((()=>{this.props.saveExperienceSettings({listStyles:a})}))}}render(){return y.createElement(jk,kk(kk({},this.props),{onColumnAdjustmentChange:this.onColumnAdjustmentChange,onListStyleChange:this.onListStyleChange}))}}const Uk=(0,f.$j)((e=>Rk),{saveExperienceSettings:Nv.LN})(zk);var Vk=n(2078);const Bk={showPlayAll:Hk,showShuffle:function({server:e,provider:t,stableUser:n,metadataList:i}){return Hk({server:e,provider:t,stableUser:n,metadataList:i})&&!!t.features.playqueue},showQueue:function({server:e,provider:t,stableUser:n,metadataList:i}){return Hk({server:e,provider:t,stableUser:n,metadataList:i})},showAddToPlaylist:function({server:e,provider:t,stableUser:n,metadataList:i}){return!(!e.isFullServer||!i.isFirstItemLibraryItem)},showAddToCatalog:function({server:e,provider:t,stableUser:n,metadataList:i}){return!!(t.features.actions&&t.features.actions.addToCatalog&&(0,_o.d)(n,t.features.actions.addToCatalog))},showSync:function({server:e,provider:t,stableUser:n,metadataList:i}){return!!J.Z.allowSync&&(!n.features[be.PL]&&!!(e.isFullServer&&e.allowSync&&i.isFirstItemLibraryItem&&i.allowSync))},showOptimize:function({server:e,provider:t,stableUser:n,metadataList:i}){return!!(e.isFullOwnedServer&&e.transcoderVideo&&i.isFirstItemLibraryItem)}},Fk={mixed:[],movie:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],show:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showAddToCatalog","showSync","showOptimize"],season:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],episode:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],artist:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync"],album:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync"],track:["showPlayAll","showShuffle","showAddToCatalog","showQueue","showAddToPlaylist","showSync"],photoalbum:["showPlayAll","showShuffle","showAddToPlaylist","showSync"],photo:["showPlayAll","showShuffle","showAddToPlaylist","showSync"],clip:["showPlayAll","showShuffle","showAddToPlaylist","showSync","showOptimize"],genre:["showAddToCatalog"]};function Hk({server:e,provider:t,stableUser:n,metadataList:i}){return(0,Vk.Z)(e,t,n.features,i)}var _k=n(27154),Qk=n(81241),Gk=n(58300);var Yk=Object.prototype.hasOwnProperty,Wk=Object.getOwnPropertySymbols,Kk=Object.prototype.propertyIsEnumerable,qk=Object.assign;class $k extends y.Component{constructor(e,t){super(e,t),this.onChange=e=>{if(e.target.files&&e.target.files.length){const t=e.target.files[0];this.setState({filename:t.name})}this.props.onChange(e)},this.state={filename:null}}render(){const e=this.props,{inputComponent:t,className:n,inputClassName:i,buttonText:s,isDisabled:r,showFilename:a}=e,o=((e,t)=>{var n={};for(var i in e)Yk.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Wk)for(var i of Wk(e))t.indexOf(i)<0&&Kk.call(e,i)&&(n[i]=e[i]);return n})(e,["inputComponent","className","inputClassName","buttonText","isDisabled","showFilename"]),{filename:l}=this.state;return y.createElement("span",null,y.createElement(t,{className:n,component:"label"},s,y.createElement("input",qk(qk({},o),{className:i,type:"file",onChange:this.onChange}))),a?y.createElement("span",{className:we()("FileInput-filename-3Y9QPf",!l&&"FileInput-noFilename-2qpXUQ")},l||(0,De.Z)("No file selected")):null)}}$k.defaultProps={inputComponent:$h.Z,inputClassName:"FileInput-fileInput-3vtTgB",showFilename:!1};const Jk=$k;var Xk=n(40691),eR=Object.assign;const tR=function(e,t){var n;const{isUpdatingPropName:i,errorPropName:s,clearDirtyOnChangePropName:r}=t;return(n=class extends y.Component{constructor(e,t){super(e,t),this.onFormChange=e=>{this.props.onFormChange&&this.props.onFormChange(e),this.state.isDirty||this.setState({isDirty:!0})},this.state={isDirty:!1}}componentWillReceiveProps(e){let t=!1;r&&(t=this.props[r]!==e[r]);const n=this.props[i]&&!e[i]&&null===e[s];this.state.isDirty&&(t||n)&&this.setState({isDirty:!1})}render(){return y.createElement(e,eR(eR({isDirty:this.state.isDirty},this.props),{onFormChange:this.onFormChange}))}}).propTypes={onFormChange:ls().func},n.displayName=`DirtyAware(${(0,rC.Z)(e)})`,n.WrappedComponent=e,n};var nR=Object.assign;function iR(e={}){return nR({isFileImport:!1,channelURL:"",fileURL:null},e)}class sR extends y.Component{constructor(e,t){super(e,t),this.onModalClose=()=>{this.props.onClearError(),this.props.onModalClose()},this.onFileImportTogglePress=()=>{this.setState(iR({isFileImport:!this.state.isFileImport}))},this.onFileChange=e=>{let t;if(e.target.files&&e.target.files.length&&(t=e.target.files[0]),t){const e=window.URL.createObjectURL(t);this.setState({fileURL:e})}},this.onURLChange=e=>{this.setState({channelURL:e})},this.onSubmit=e=>{e.preventDefault(),this.props.onSubmit({channelURL:this.state.channelURL,fileURL:this.state.fileURL})},this.state=iR()}static getDerivedStateFromProps(e,t){return t.isOpen!==!e.isOpen?iR({isOpen:e.isOpen}):null}componentDidUpdate(e,t){this.props.isUpdating||!e.isUpdating||this.props.hasError||this.props.onModalClose()}render(){const{isOpen:e,title:t,message:n,hasError:i,hasFileImportFeature:s,textInputLabel:r,fileInputButtonLabel:a,fileImportLabel:o,urlImportLabel:l,confirmLabel:c,confirmKind:d,isUpdating:u,isDirty:p,metricsPage:m,metricsProperties:h,onFormChange:g}=this.props;return y.createElement(PL.Z,{isOpen:e,metricsPage:m,metricsProperties:h,onModalClose:this.onModalClose},y.createElement("form",{className:"AddToCatalogModal-form-QJTy46",onSubmit:this.onSubmit,onChange:g},y.createElement(xL.Z,{onModalClose:this.onModalClose},y.createElement(NL.Z,null,t),i?y.createElement(Xk.Z,{errorMessage:(0,De.Z)("Something went wrong. Make sure the URL is correct and try again.")}):null,y.createElement(wL.Z,null,y.createElement("p",null,n),s?y.createElement("p",null,y.createElement(AM.Z,{kind:fo._8,onPress:this.onFileImportTogglePress},this.state.isFileImport?l||(0,De.Z)("Import from a URL instead"):o||(0,De.Z)("Import from a file instead"))):null,y.createElement("div",{className:"AddToCatalogModal-inputContainer-2-_aRP"},this.state.isFileImport?y.createElement(Jk,{name:"file",accept:".xml, .opml",buttonText:a||(0,De.Z)("Choose File"),showFilename:!0,onChange:this.onFileChange}):y.createElement(Qk.W,{name:"channelURL",value:this.state.URLValue,labelText:r,"data-autofocus":!0,onChange:this.onURLChange})),this.state.fileURL?y.createElement("p",{className:"AddToCatalogModal-fileNote-22ZCsO"},(0,De.Z)("NOTE: Podcasts will appear as they're processed. This may take some time to complete")):null),y.createElement(TL.Z,null,y.createElement(ZL.Z,null,y.createElement(Gk.Z,{type:"submit",kind:d,isDisabled:!p,isSpinning:u},c||(0,De.Z)("Continue")))))))}}sR.defaultProps={confirmKind:fo._8,hasFileImportFeature:!1};const rR=tR(sR,{isUpdatingPropName:"isUpdating",errorPropName:"error",clearDirtyOnChangePropName:"isOpen"}),aR=(0,YM.Z)((function(){return(0,de.P1)((e=>e.ui.addToCatalogModal),(e=>({isUpdating:e.isUpdating,hasError:!!e.error})))}),(function(e,t){return{onClearError(){e(TS())},onSubmit(n){e(wS({providerEntityID:t.providerEntityID,data:n}))}}}))(rR),oR=function(e){const{providerEntityID:t,isOpen:n,onModalClose:i}=e;return y.createElement(aR,{providerEntityID:t,isOpen:n,title:(0,De.Z)("Add a Podcast"),message:(0,De.Z)("Want to add a podcast we haven’t listed? If you know the URL for the podcast, you can enter it below."),textInputLabel:(0,De.Z)("Podcast Feed"),fileInputButtonLabel:(0,De.Z)("Choose OPML File"),fileImportLabel:(0,De.Z)("Import podcasts from an OPML file instead"),urlImportLabel:(0,De.Z)("Import podcasts from a URL instead"),hasFileImportFeature:!0,onModalClose:i})};var lR=n(22103);class cR extends y.Component{constructor(e,t){super(e,t),this.onAddToCatalogPress=()=>{this.setState({isAddToCatalogModalOpen:!0})},this.onAddToCatalogClose=()=>{this.setState({isAddToCatalogModalOpen:!1})},this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1}),this.props.onMenuClose()},this.state={isAddToCatalogModalOpen:!1,isAddToPlaylistModalOpen:!1}}createOnPress(e){return()=>{e(),this.props.onMenuClose()}}render(){const e=this.props,{isAddToCatalogModalOpen:t,isAddToPlaylistModalOpen:n}=this.state;return y.createElement("div",null,e.showPlayAll?y.createElement(ho.Z,{onPress:this.createOnPress(e.onPlayAllPress)},(0,De.Z)("Play All")):null,e.showShuffle?y.createElement(ho.Z,{onPress:this.createOnPress(e.onShufflePress)},(0,De.Z)("Shuffle")):null,e.showQueue?y.createElement(ho.Z,{onPress:this.createOnPress(e.onPlayNextPress)},(0,De.Z)("Play Next")):null,e.showQueue?y.createElement(ho.Z,{onPress:this.createOnPress(e.onAddToQueuePress)},(0,De.Z)("Add to Queue")):null,e.showAddToPlaylist?y.createElement(ho.Z,{onPress:this.createOnPress(this.onAddToPlaylistPress)},(0,De.Z)("Add to Playlist...")):null,e.showAddToCatalog?y.createElement(ho.Z,{onPress:this.onAddToCatalogPress},(e.listType,e.listSubtype===zo.PODCAST?(0,De.Z)("Add Podcast by URL"):(0,De.Z)("Add to Catalog by URL"))):null,e.showSync?y.createElement(ho.Z,{onPress:this.createOnPress(e.onSyncPress)},(0,De.Z)("Sync...")):null,e.showOptimize?y.createElement(ho.Z,{onPress:this.createOnPress(e.onOptimizePress)},(0,De.Z)("Optimize...")):null,y.createElement(oR,{providerEntityID:e.providerEntityID,isOpen:t,onModalClose:this.onAddToCatalogClose}),e.showAddToPlaylist?y.createElement(lR.Z,{isOpen:n,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataListEntityID:e.metadataListEntityID,onModalClose:this.onAddToPlaylistClose}):null)}}const dR=cR;var uR=Object.prototype.hasOwnProperty,pR=Object.getOwnPropertySymbols,mR=Object.prototype.propertyIsEnumerable,hR=Object.assign;const gR=function(e){const{target:t,isOpen:n}=e,i=((e,t)=>{var n={};for(var i in e)uR.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&pR)for(var i of pR(e))t.indexOf(i)<0&&mR.call(e,i)&&(n[i]=e[i]);return n})(e,["target","isOpen"]);return y.createElement(mo.Z,{target:e.target,isOpen:e.isOpen,onMenuClose:e.onMenuClose},y.createElement(dR,hR({},i)))};var yR=Object.assign;const vR=parseInt(ku.Z.toolbarButtonWidth,10);function fR(e,t){return e.filter((e=>!!t[e]))}const IR=function(e,t,n){var i;return(i=class extends y.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e})=>{this.setState({isMeasured:!0,width:e})},this.state={isMeasured:!1}}render(){const{isMeasured:i,width:s}=this.state;let r={};return i&&(r=function(e,t,n,i){const s=Math.floor(n/i),r={showOverflow:s<e.length||t.length>0};let a=s-(r.showOverflow?1:0);return e.forEach((e=>{r[e]=a-- >0,r[e]||(r[e+"Overflow"]=!0)})),r}(fR(t,this.props),fR(n,this.props),s,vR)),y.createElement(OC.Z,{className:"measuredPageHeaderToolbar-toolbarContainer-2ZcRJ6 Measure-container-14qPC5",ignoreHeight:!0,ignorePosition:!0,onMeasure:this.onMeasure},i?y.createElement(e,yR(yR({className:"measuredPageHeaderToolbar-toolbar-ZdlNb3"},this.props),r)):null)}}).displayName=`MeasuredPageHeaderToolbar(${(0,rC.Z)(e)})`,i.WrappedComponent=e,i};function bR(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-add-podcast-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M434,504 L378,504 L378,417.4558 C306.354,404.2735 252,341.435 252,266 L294,266 C294,327.815 344.186,378 406,378 C467.814,378 518,327.815 518,266 L560,266 C560,341.435 505.646,404.2735 434,417.4558 L434,504 Z M476,126 C476,87.366 444.634,56 406,56 C367.366,56 336,87.366 336,126 L336,266 C336,304.634 367.366,336 406,336 C444.634,336 476,304.634 476,266 L476,126 Z M134.4,100.8 L134.4,190.4 L224,190.4 L224,235.2 L134.4,235.2 L134.4,324.8 L89.6,324.8 L89.6,235.2 L0,235.2 L0,190.4 L89.6,190.4 L89.6,100.8 L134.4,100.8 Z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}bR.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const MR=bR;var SR=Object.prototype.hasOwnProperty,ER=Object.getOwnPropertySymbols,DR=Object.prototype.propertyIsEnumerable,CR=Object.assign;class PR extends y.Component{constructor(e,t){super(e,t),this.onButtonPress=()=>{this.setState({isModalOpen:!0})},this.onModalClose=()=>{this.setState({isModalOpen:!1})},this.state={isModalOpen:!1}}render(){const e=this.props,{providerEntityID:t}=e,n=((e,t)=>{var n={};for(var i in e)SR.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&ER)for(var i of ER(e))t.indexOf(i)<0&&DR.call(e,i)&&(n[i]=e[i]);return n})(e,["providerEntityID"]);return y.createElement(Rb.Z,CR({tooltip:(0,De.Z)("Add Podcast by URL"),"data-qa-id":"toolbarAddCustomPodcast",onPress:this.onButtonPress},n),y.createElement(MR,null),y.createElement(oR,{providerEntityID:t,isOpen:this.state.isModalOpen,onModalClose:this.onModalClose}))}}const wR=PR;var TR=n(78189);function ZR(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,metadataListEntityID:s,customFilterRoute:r,showAddToSmartPlaylist:a,onAddToPlaylistPress:o,onAddToSmartPlaylistPress:l}=e,[c]=(0,y.useState)((0,wf.Z)()),[d,u]=(0,y.useState)(!1),p=(0,y.useCallback)((()=>{u(!d)}),[d]);return y.createElement(Rb.Z,{id:c,tooltip:d?null:(0,De.Z)("Add to Playlist"),"data-qa-id":"toolbarPlaylist",onPress:p},y.createElement(Th,null),y.createElement(gc.Z,{direction:d?yc.UP:yc.WV}),y.createElement(mo.Z,{size:vc.ln,target:c,isOpen:d,onMenuClose:p},y.createElement(TR.Z,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,metadataListEntityID:s,customFilterRoute:r,showAddToPlaylist:!0,showAddToSmartPlaylist:a,onAddToPlaylistPress:o,onAddToSmartPlaylistPress:l,onMenuOpen:p,onMenuClose:p})))}ZR.defaultProps={showAddToSmartPlaylist:!1};const NR=ZR;var AR=Object.prototype.hasOwnProperty,xR=Object.getOwnPropertySymbols,LR=Object.prototype.propertyIsEnumerable,OR=Object.assign;const jR=function(e){var{playLabel:t=(0,De.Z)("Play")}=e,n=((e,t)=>{var n={};for(var i in e)AR.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&xR)for(var i of xR(e))t.indexOf(i)<0&&LR.call(e,i)&&(n[i]=e[i]);return n})(e,["playLabel"]);return y.createElement(Rb.Z,OR({tooltip:t,"data-qa-id":"toolbarPlay"},n),y.createElement(zh,null))};var kR=Object.assign;const RR=function(e){return y.createElement(Rb.Z,kR({tooltip:(0,De.Z)("Shuffle"),"data-qa-id":"toolbarShuffle"},e),y.createElement(mb,null))};function zR(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-sync-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m280 476c108.248 0 196-87.752 196-196 0-108.248-87.752-196-196-196-108.248 0-196 87.752-196 196 0 108.248 87.752 196 196 196m0 42c-131.444 0-238-106.556-238-238 0-131.444 106.556-238 238-238 131.444 0 238 106.556 238 238 0 131.444-106.556 238-238 238m0-112l112-112-89.6 0 0-140-44.8 0 0 140-89.6 0 112 112"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}zR.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const UR=zR;var VR=Object.assign;const BR=function(e){return y.createElement(Rb.Z,VR({tooltip:(0,De.Z)("Sync"),"data-qa-id":"toolbarSync"},e),y.createElement(UR,null))};var FR=Object.assign;class HR extends y.Component{constructor(e,t){super(e,t),this.onPlayShortcut=()=>{this.props.showPlayAll&&this.props.onPlayAllPress()},this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0,isSmartPlaylist:!1})},this.onAddToSmartPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0,isSmartPlaylist:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1})},this.onActionsPress=e=>{this.setState({isActionsMenuOpen:!this.state.isActionsMenuOpen})},this.onActionsMenuClose=()=>{this.setState({isActionsMenuOpen:!1})},this.state={isActionsMenuOpen:!1,isAddToPlaylistModalOpen:!1,isSmartPlaylist:!1},this._moreButtonID=(0,wf.Z)()}componentDidMount(){ee.Z.on("shortcut:playSelected",this.onPlayShortcut)}componentWillUnmount(){ee.Z.off("shortcut:playSelected",this.onPlayShortcut)}render(){const{className:e,serverEntityID:t,providerEntityID:n,metadataListEntityID:i,customFilterRoute:s,showPlayAll:r,showPlayAllOverflow:a,showShuffle:o,showShuffleOverflow:l,showAddToPlaylist:c,showAddToPlaylistOverflow:d,showAddToSmartPlaylist:u,showAddToCatalog:p,showAddToCatalogOverflow:m,showSync:h,showSyncOverflow:g,showOverflow:v,onPlayAllPress:f,onShufflePress:I,onSyncPress:b}=this.props,{isActionsMenuOpen:M,isAddToPlaylistModalOpen:S,isSmartPlaylist:E}=this.state;return y.createElement("div",{className:e},r?y.createElement(jR,{playLabel:(0,De.Z)("Play All"),onPress:f}):null,o?y.createElement(RR,{onPress:I}):null,c?y.createElement(NR,{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,customFilterRoute:s,showAddToSmartPlaylist:u,onAddToPlaylistPress:this.onAddToPlaylistPress,onAddToSmartPlaylistPress:this.onAddToSmartPlaylistPress}):null,p?y.createElement(wR,{providerEntityID:n}):null,h?y.createElement(BR,{onPress:b}):null,v?y.createElement(zM,{id:this._moreButtonID,iconComponent:WE,label:(0,De.Z)("More..."),isMenuOpen:M,onPress:this.onActionsPress}):null,y.createElement(gR,FR(FR({},this.props),{target:this._moreButtonID,isOpen:M,showPlayAll:a,showShuffle:l,showAddToPlaylist:d,showAddToCatalog:m,showSync:g,onMenuClose:this.onActionsMenuClose})),c?y.createElement(lR.Z,{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,isOpen:S,smart:E,onModalClose:this.onAddToPlaylistClose}):null)}}const _R=IR(HR,["showPlayAll","showShuffle","showAddToPlaylist","showAddToCatalog","showSync"],["showOptimize","showQueue"]);var QR=Object.assign;const GR=(0,YM.Z)((function(){return(0,de.P1)(((e,{listType:t})=>t),Kh.Z,Wh.Z,Wa.Z,(0,SC.Z)(),((e,t,n,i,s)=>function({server:e,provider:t,stableUser:n,metadataList:i,listType:s}){const r=s||i.firstItemType||"mixed",a=Fk[r];return a?a.reduce(((s,a)=>{const o=Bk[a];return(0,H.Z)(E().isFunction(o),`getMetadataListActionProps: Invalid action, ${a}, for ${r}`),s[a]=!!(e&&t&&i)&&o({server:e,provider:t,stableUser:n,metadataList:i}),s}),{}):{}}({server:t,provider:n,stableUser:i,metadataList:s,listType:e})))}),(function(e,t){const n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataListEntityID:t.metadataListEntityID,listType:t.listType,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext||pS.LIST}};return{onPlayAllPress(){e(it.wA(n))},onShufflePress(){e(it.Em(n))},onPlayNextPress(){e(it.tP(QR(QR({},n),{options:{playAll:!0,next:!0}})))},onAddToQueuePress(){e(it.tP(QR(QR({},n),{options:{playAll:!0,next:!1}})))},onSyncPress(){e(cb.vm(n))},onOptimizePress(){e(cb.$5(n))}}}),_k.Z)(_R),YR=(0,f.$j)((function(){return(0,de.P1)((0,SC.Z)(),(e=>({totalSize:e.totalSize,listType:Oj.pV,listStyle:Mk,allListStyles:[Mk]})))}))((function(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,sourceDirectory:s,title:r,totalSize:a,listType:o,listStyle:l,allListStyles:c}=e;return y.createElement(y.Fragment,null,y.createElement(uD.Z,null,y.createElement(DN,{serverEntityID:t,providerEntityID:n,sourceDirectory:s}),y.createElement(vN,{serverEntityID:t,providerEntityID:n,sourceDirectory:s,directoryKey:UZ.tk.TIMELINE}),y.createElement(VZ.Z,null,y.createElement(Uk,{selectedListStyle:l,allListStyles:c}))),y.createElement(Ph,null,y.createElement(_b,null,y.createElement(zZ.Z,null,r),y.createElement(rb.Z,null,a)),y.createElement(fk,null,y.createElement(GR,{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,listType:o}))))}));var WR=n(97204),KR=n(72181);const qR={showPlay:ez,showShuffle:ez,showQueue:function(e,t){return t.every((({model:t,server:n,provider:i})=>(0,KR._7)({server:n,provider:i,stableUser:e,metadataItem:t})))},showAddToPlaylist:function(e,t){return t.every((({model:t,server:n,provider:i})=>(0,KR.yq)({server:n,provider:i,stableUser:e,metadataItem:t})))},showMarkPlayed:function(e,t){return t.some((({model:t,server:n,provider:i})=>(0,KR.Dd)({server:n,provider:i,stableUser:e,metadataItem:t})))},showMarkUnplayed:function(e,t){return t.some((({model:t,server:n,provider:i})=>(0,KR.h$)({server:n,provider:i,stableUser:e,metadataItem:t})))},showFavorite:function(e,t){return t.some((({model:t,server:n,provider:i})=>(0,KR.y7)({server:n,provider:i,stableUser:e,metadataItem:t})))},showUnfavorite:function(e,t){return t.every((({model:t,server:n,provider:i})=>(0,KR.QF)({server:n,provider:i,stableUser:e,metadataItem:t})))},showEdit:tz,showRefresh:function(e,t){return t.every((({model:t,server:n,provider:i})=>(0,KR.wc)({server:n,provider:i,stableUser:e,metadataItem:t})))},showAnalyze:function(e,t){return t.every((({model:t,server:n,provider:i})=>(0,KR.Or)({server:n,provider:i,stableUser:e,metadataItem:t})))},showMerge:function(e,t){if(!tz(e,t))return!1;const n=XR(t);return 1!==n.length&&(!(E().uniq(n).length>1)&&n.every((e=>-1!==JR.indexOf(e))))},showSync:function(e,t){return t.every((({model:t,server:n,provider:i})=>(0,KR.L)({server:n,provider:i,stableUser:e,metadataItem:t})))},showOptimize:function(e,t){return t.every((({model:t,server:n,provider:i})=>(0,KR.Jm)({server:n,provider:i,stableUser:e,metadataItem:t})))},showDelete:function(e,t){return t.every((({model:t,server:n,provider:i})=>!t.remoteMedia&&(0,KR.k7)({server:n,provider:i,stableUser:e,metadataItem:t})))},showRemove:function(e,t){return t.every((({model:t,server:n,provider:i})=>t.remoteMedia&&(0,KR.k7)({server:n,provider:i,stableUser:e,metadataItem:t})))}},$R={video:["showPlay","showShuffle","showQueue","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showMerge","showSync","showOptimize","showDelete"],audio:["showPlay","showShuffle","showQueue","showAddToPlaylist","showEdit","showRefresh","showAnalyze","showMerge","showSync","showDelete","showRemove"],photo:["showPlay","showShuffle","showAddToPlaylist","showFavorite","showUnfavorite","showEdit","showAnalyze","showSync","showDelete"],playlist:["showDelete"],collection:["showEdit","showDelete"],rom:["showMarkPlayed","showMarkUnplayed","showEdit","showDelete"]},JR=["movie","show","season","artist","album"];function XR(e){return e.map((e=>e.model.type))}function ez(e,t){return t.every((({model:t,server:n,provider:i})=>(0,KR.tW)({server:n,provider:i,stableUser:e,metadataItem:t})))}function tz(e,t){const n=XR(t);return!(E().uniq(n).length>1)&&t.every((({server:t,provider:n,model:i})=>(0,KR.J5)({server:t,provider:n,stableUser:e,metadataItem:i})))}var nz=Object.assign;const iz=function(e){return y.createElement(Rb.Z,nz({tooltip:(0,De.Z)("Edit"),"data-qa-id":"toolbarEdit"},e),y.createElement(Nh,null))};function sz(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-played-toggle-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M280,518 C148.556,518 42,411.444 42,280 C42,148.556 148.556,42 280,42 C411.444,42 518,148.556 518,280 C518,411.444 411.444,518 280,518 Z M280,476 C388.248,476 476,388.248 476,280 C476,171.752 388.248,84 280,84 C171.752,84 84,171.752 84,280 C84,388.248 171.752,476 280,476 Z M267.373,395.87 L158.254,332.87 L179.254,296.497 L252,338.497 L350,168.756 L386.373,189.756 L267.373,395.87 Z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}sz.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const rz=sz;class az extends y.Component{constructor(e,t){super(e,t),this.onMenuButtonPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._toolbarMenuButtonID=(0,wf.Z)()}render(){const{showMarkPlayed:e,showMarkUnplayed:t,onMarkPlayedPress:n,onMarkUnplayedPress:i}=this.props,{isMenuOpen:s}=this.state;return y.createElement(zM,{id:this._toolbarMenuButtonID,iconComponent:rz,label:(0,De.Z)("Toggle Played..."),isMenuOpen:s,onPress:this.onMenuButtonPress},y.createElement(mo.Z,{target:this._toolbarMenuButtonID,isOpen:s,onMenuClose:this.onMenuClose},e?y.createElement(ho.Z,{onPress:(0,vo.Z)(this.onMenuClose,n)},(0,De.Z)("Mark as Played")):null,t?y.createElement(ho.Z,{onPress:(0,vo.Z)(this.onMenuClose,i)},(0,De.Z)("Mark as Unplayed")):null))}}const oz=az;var lz=n(53191);class cz extends y.Component{constructor(e,t){super(e,t),this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1}),this.props.onMenuClose()},this.state={isAddToPlaylistModalOpen:!1}}render(){const e=this.props,{isAddToPlaylistModalOpen:t}=this.state;return y.createElement("div",null,e.showPlay?y.createElement(ho.Z,{onPress:(0,vo.Z)(e.onMenuClose,e.onPlaySelectedPress)},(0,De.Z)("Play")):null,e.showShuffle?y.createElement(ho.Z,{onPress:(0,vo.Z)(e.onMenuClose,e.onShufflePress)},(0,De.Z)("Shuffle")):null,e.showQueue?y.createElement(ho.Z,{onPress:(0,vo.Z)(e.onMenuClose,e.onPlaySelectedNextPress)},(0,De.Z)("Play Next")):null,e.showQueue?y.createElement(ho.Z,{onPress:(0,vo.Z)(e.onMenuClose,e.onAddToQueuePress)},(0,De.Z)("Add to Queue")):null,e.showAddToPlaylist?y.createElement(ho.Z,{onPress:this.onAddToPlaylistPress},(0,De.Z)("Add to Playlist...")):null,e.showFavorite?y.createElement(ho.Z,{onPress:(0,vo.Z)(e.onMenuClose,e.onFavoritePress)},(0,De.Z)("Add to Favorites")):null,e.showUnfavorite?y.createElement(ho.Z,{onPress:(0,vo.Z)(e.onMenuClose,e.onUnfavoritePress)},(0,De.Z)("Remove from Favorites")):null,e.showMarkPlayed?y.createElement(ho.Z,{onPress:(0,vo.Z)(e.onMenuClose,e.onMarkPlayedPress)},(0,De.Z)("Mark as Played")):null,e.showMarkUnplayed?y.createElement(ho.Z,{onPress:(0,vo.Z)(e.onMenuClose,e.onMarkUnplayedPress)},(0,De.Z)("Mark as Unplayed")):null,e.showEdit?y.createElement(ho.Z,{onPress:(0,vo.Z)(e.onMenuClose,e.onEditPress)},(0,De.Z)("Edit")):null,e.showRefresh?y.createElement(ho.Z,{onPress:(0,vo.Z)(e.onMenuClose,e.onRefreshPress)},(0,De.Z)("Refresh Metadata")):null,e.showAnalyze?y.createElement(ho.Z,{onPress:(0,vo.Z)(e.onMenuClose,e.onAnalyzePress)},(0,De.Z)("Analyze")):null,e.showMerge?y.createElement(ho.Z,{onPress:(0,vo.Z)(e.onMenuClose,e.onMergePress)},(0,De.Z)("Merge")):null,e.showSync?y.createElement(ho.Z,{onPress:(0,vo.Z)(e.onMenuClose,e.onSyncPress)},(0,De.Z)("Sync...")):null,e.showOptimize?y.createElement(ho.Z,{onPress:(0,vo.Z)(e.onMenuClose,e.onOptimizePress)},(0,De.Z)("Optimize...")):null,e.showDelete?y.createElement(ho.Z,{kind:fo.T,onPress:(0,vo.Z)(e.onMenuClose,e.onDeletePress)},(0,De.Z)("Delete")):null,e.showRemove?y.createElement(ho.Z,{onPress:(0,vo.Z)(e.onMenuClose,e.onDeletePress)},(0,De.Z)("Remove")):null,e.showAddToPlaylist?y.createElement(lR.Z,{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,isOpen:t,onModalClose:this.onAddToPlaylistClose}):null)}}const dz=cz;var uz=Object.prototype.hasOwnProperty,pz=Object.getOwnPropertySymbols,mz=Object.prototype.propertyIsEnumerable,hz=Object.assign;const gz=function(e){const{target:t,isOpen:n}=e,i=((e,t)=>{var n={};for(var i in e)uz.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&pz)for(var i of pz(e))t.indexOf(i)<0&&mz.call(e,i)&&(n[i]=e[i]);return n})(e,["target","isOpen"]);return y.createElement(mo.Z,{target:t,isOpen:n,onMenuClose:e.onMenuClose},y.createElement(dz,hz({},i)))};var yz=Object.assign;function vz(e){return 1===e?(0,De.Z)("Are you sure you want to mark this item as played?"):(0,De.Z)("Are you sure you want to mark these {selectedItemsCount} items as played?",{selectedItemsCount:e})}function fz(e){return 1===e?(0,De.Z)("Are you sure you want to mark this item as unplayed?"):(0,De.Z)("Are you sure you want to mark these {selectedItemsCount} items as unplayed?",{selectedItemsCount:e})}function Iz(e){const{selectedItemsCount:t,activeSelectionType:n,showRemove:i}=e,s=1===t;return i?s?(0,De.Z)("Are you sure you want to remove this item?"):(0,De.Z)("Are you sure you want to remove these {selectedItemsCount} items?",{selectedItemsCount:t}):n===Ho.PLAYLIST?s?(0,De.Z)("Are you sure you want to delete this playlist?"):(0,De.Z)("Are you sure you want to delete these {selectedItemsCount} playlists?",{selectedItemsCount:t}):n===Ho.COLLECTION?s?(0,De.Z)("Are you sure you want to delete this collection?"):(0,De.Z)("Are you sure you want to delete these {selectedItemsCount} collections?",{selectedItemsCount:t}):s?(0,De.Z)("Are you sure you want to delete this item from your filesystem?"):(0,De.Z)("Are you sure you want to delete these {selectedItemsCount} items from your filesystem?",{selectedItemsCount:t})}class bz extends y.Component{constructor(e,t){super(e,t),this.onPlaySelectedShortcut=()=>{const{showPlay:e,showPlayOverflow:t,onPlaySelectedPress:n}=this.props;(e||t)&&n()},this.onToggleWatchedShortcut=()=>{const{showMarkPlayed:e,showMarkUnplayed:t}=this.props;e?this.setState({isConfirmMarkPlayedModalOpen:!0}):t&&this.setState({isConfirmMarkUnplayedModalOpen:!0})},this.onEditShortcut=()=>{const{showEdit:e,showEditOverflow:t,onEditPress:n}=this.props;(e||t)&&n()},this.onActionsPress=e=>{this.setState({isActionsMenuOpen:!this.state.isActionsMenuOpen})},this.onActionsMenuClose=()=>{this.setState({isActionsMenuOpen:!1})},this.onMarkPlayedPress=e=>{this.setState({isConfirmMarkPlayedModalOpen:!0})},this.onMarkUnplayedPress=e=>{this.setState({isConfirmMarkUnplayedModalOpen:!0})},this.onMarkPlayedConfirm=()=>{this.setState({isConfirmMarkPlayedModalOpen:!1}),this.props.onMarkPlayedConfirm()},this.onMarkPlayedCancel=()=>{this.setState({isConfirmMarkPlayedModalOpen:!1})},this.onMarkUnplayedConfirm=()=>{this.setState({isConfirmMarkUnplayedModalOpen:!1}),this.props.onMarkUnplayedConfirm()},this.onMarkUnplayedCancel=()=>{this.setState({isConfirmMarkUnplayedModalOpen:!1})},this.onDeletePress=e=>{this.setState({isConfirmDeleteModalOpen:!0})},this.onDeleteConfirm=e=>{this.setState({isConfirmDeleteModalOpen:!1}),this.props.onDeleteConfirm()},this.onDeleteCancel=()=>{this.setState({isConfirmDeleteModalOpen:!1})},this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1})},this.state={isActionsMenuOpen:!1,isConfirmMarkPlayedModalOpen:!1,isConfirmMarkUnplayedModalOpen:!1,isConfirmDeleteModalOpen:!1,isAddToPlaylistModalOpen:!1},this._moreButtonID=(0,wf.Z)()}componentDidMount(){ee.Z.on("shortcut:playSelected",this.onPlaySelectedShortcut),ee.Z.on("shortcut:edit",this.onEditShortcut)}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}componentWillUnmount(){ee.Z.off("shortcut:playSelected",this.onPlaySelectedShortcut),ee.Z.off("shortcut:edit",this.onEditShortcut)}render(){const{className:e,serverEntityID:t,providerEntityID:n,selectedItemsCount:i,showPlay:s,showPlayOverflow:r,showShuffle:a,showShuffleOverflow:o,showAddToPlaylist:l,showAddToPlaylistOverflow:c,showFavorite:d,showFavoriteOverflow:u,showUnfavorite:p,showUnfavoriteOverflow:m,showTogglePlayed:h,showTogglePlayedOverflow:g,showMarkPlayed:v,showMarkUnplayed:f,showEdit:I,showEditOverflow:b,showSync:M,showSyncOverflow:S,showOverflow:E,onPlaySelectedPress:D,onShufflePress:C,onFavoritePress:P,onUnfavoritePress:w,onEditPress:T,onSyncPress:Z}=this.props,{isActionsMenuOpen:N,isConfirmMarkPlayedModalOpen:A,isConfirmMarkUnplayedModalOpen:x,isConfirmDeleteModalOpen:L,isAddToPlaylistModalOpen:O}=this.state;return y.createElement("div",{className:e},s?y.createElement(jR,{playLabel:(0,De.Z)("Play Selected"),onPress:D}):null,a?y.createElement(RR,{onPress:C}):null,l?y.createElement(NR,{serverEntityID:t,providerEntityID:n,onAddToPlaylistPress:this.onAddToPlaylistPress}):null,d?y.createElement(Rb.Z,{"data-qa-id":"toolbarFavorite",tooltip:(0,De.Z)("Add to Favorites"),onPress:P},y.createElement(oM.Z,null)):null,p?y.createElement(Rb.Z,{"data-qa-id":"toolbarUnfavorite",tooltip:(0,De.Z)("Remove from Favorites"),onPress:w},y.createElement(lz.Z,null)):null,h?y.createElement(oz,{showMarkPlayed:v,showMarkUnplayed:f,onMarkPlayedPress:this.onMarkPlayedPress,onMarkUnplayedPress:this.onMarkUnplayedPress}):null,I?y.createElement(iz,{onPress:T}):null,M?y.createElement(BR,{onPress:Z}):null,E?y.createElement(zM,{id:this._moreButtonID,iconComponent:WE,label:(0,De.Z)("More..."),isMenuOpen:N,onPress:this.onActionsPress}):null,y.createElement(gz,yz(yz({},this.props),{target:this._moreButtonID,isOpen:N,showPlay:r,showShuffle:o,showAddToPlaylist:c,showFavorite:u,showUnfavorite:m,showMarkPlayed:g&&v,showMarkUnplayed:g&&f,showEdit:b,showSync:S,onMenuClose:this.onActionsMenuClose,onMarkPlayedPress:this.onMarkPlayedPress,onMarkUnplayedPress:this.onMarkUnplayedPress,onDeletePress:this.onDeletePress})),y.createElement(nt.Z,{isOpen:A,metricsPage:et.lP,title:(0,De.Z)("Mark as Played"),message:vz(i),onConfirm:this.onMarkPlayedConfirm,onCancel:this.onMarkPlayedCancel}),y.createElement(nt.Z,{isOpen:x,metricsPage:et.Md,title:(0,De.Z)("Mark as Unplayed"),message:fz(i),onConfirm:this.onMarkUnplayedConfirm,onCancel:this.onMarkUnplayedCancel}),y.createElement(nt.Z,{isOpen:L,metricsPage:et.$e,kind:fo.T,title:this.props.showRemove?(0,De.Z)("Remove"):(0,De.Z)("Delete"),message:Iz(this.props),onConfirm:this.onDeleteConfirm,onCancel:this.onDeleteCancel}),l?y.createElement(lR.Z,{serverEntityID:t,providerEntityID:n,isOpen:O,onModalClose:this.onAddToPlaylistClose}):null)}}const Mz=IR(bz,["showPlay","showShuffle","showAddToPlaylist","showFavorite","showUnfavorite","showTogglePlayed","showEdit","showSync","showSyncDownload"],["showRefresh","showAnalyze","showMerge","showOptimize","showDelete"]);var Sz=Object.assign;const Ez=(0,YM.Z)((function(){return(0,de.P1)((0,de.P1)(he.Z,(e=>{const t={};for(const n of Object.keys(e))t[n]=(0,Kh.h)(e[n]);return t})),(0,de.P1)(_t.Z,(e=>{const t={};for(const n of Object.keys(e))t[n]=(0,Wh.R)(e[n]);return t})),(0,de.P1)(EC.Z,dj.Z,((e,{activeSelectionItems:t})=>t.map((t=>e[t.model])))),dj.Z,Wa.Z,((e,t,n,i,s)=>{const{activeSelectionType:r}=i,a=function(e,t,n){const i=$R[n],s=function(e){return E().uniq(e.map((e=>e.provider.entityID))).length>1}(t);return i.reduce(((n,i)=>{const r=qR[i];return n[i]=!s&&r(e,t),n}),{})}(s,n.map((n=>({model:n,provider:t[n.providerEntityID],server:e[n.serverEntityID]}))),r),o=a.showMarkPlayed||a.showMarkUnplayed;return Sz({activeSelectionType:r,showTogglePlayed:o},a)}))}),(function(e,t){const n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metricsPage:t.metricsPage};return{onPlaySelectedPress(){e(eh.Pe(n))},onShufflePress(){e(eh.u9(n))},onPlaySelectedNextPress(){e(eh.$e(n))},onAddToQueuePress(){e(eh.$z(n))},onFavoritePress(){e(eh.UY(n))},onUnfavoritePress(){e(eh.aU(n))},onMarkPlayedConfirm(){e(eh.Bf(n))},onMarkUnplayedConfirm(){e(eh.de(n))},onEditPress(){e(eh.fR(n))},onRefreshPress(){e(eh.H3(n))},onAnalyzePress(){e(eh.mP(n))},onMergePress(){e(eh.PP(n))},onSyncPress(){e(eh.ZT(n))},onOptimizePress(){e(eh.ZP(n))},onDeleteConfirm(){e(eh.hM(Sz(Sz({},n),{options:{skipRedirect:!t.allowRedirectOnDelete}})))},onDeselectAllPress(){e(eh.mD(n))}}}))(Mz),Dz="MultiSelectPageHeader-icon-3cjhR-";var Cz=Object.prototype.hasOwnProperty,Pz=Object.getOwnPropertySymbols,wz=Object.prototype.propertyIsEnumerable,Tz=Object.assign;function Zz(e){const{selectedItemsCount:t,toolbarComponent:n,onDeselectAllPress:i}=e,s=((e,t)=>{var n={};for(var i in e)Cz.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Pz)for(var i of Pz(e))t.indexOf(i)<0&&wz.call(e,i)&&(n[i]=e[i]);return n})(e,["selectedItemsCount","toolbarComponent","onDeselectAllPress"]);return y.createElement(Ph,{className:"MultiSelectPageHeader-multiSelectPageHeader-v5rhWY PageHeader-pageHeader-WpvbJc"},y.createElement(WR.Z,null,y.createElement("div",{className:"MultiSelectPageHeader-selectedTitle-iKZPvL"},y.createElement(fa.Z,{className:Dz}),1===t?(0,De.Z)("1 item selected"):(0,De.Z)("{selectedItemsCount} items selected",{selectedItemsCount:t})),y.createElement(AM.Z,{className:"MultiSelectPageHeader-deselectLink-yhV9Rw",onPress:i},y.createElement(cc.Z,{className:Dz}),(0,De.Z)("Deselect All"))),y.createElement(fk,null,y.createElement(n,Tz({selectedItemsCount:t},s))))}Zz.defaultProps={toolbarComponent:Ez,allowRedirectOnDelete:!1};const Nz=Zz,Az=(0,YM.Z)((function(){return(0,de.P1)(dj.Z,(e=>({selectedItemsCount:e.activeSelectionItems.length})))}),(function(e,t){const n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metricsPage:t.metricsPage};return{onDeselectAllPress(){e(eh.mD(n))}}}))(Nz);var xz=Object.assign;class Lz extends y.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e,height:t})=>{this.setState({isMeasured:!0,width:e,height:t})},this.onMomentScrollIndexChange=e=>{this.setState({currentMomentTitle:this.props.moments[e].title})},this.state={isMeasured:!1,currentMomentTitle:"",width:0,height:0}}componentDidMount(){const{librarySectionID:e,providerIdentifier:t,onLibraryChange:n}=this.props;e&&n(t,e)}componentDidUpdate(e){const{librarySectionID:t,providerIdentifier:n,onLibraryChange:i}=this.props;t&&t!==e.librarySectionID&&i(n,t)}componentWillUnmount(){this.props.onLibraryChange(null,null),this.props.onCloseTimelinePage()}render(){const{serverEntityID:e,providerEntityID:t,providerMetricsIdentifier:n,metadataListEntityID:i,sourceDirectory:s,pivot:r,isMomentListPending:a,isMomentListPopulated:o,moments:l,activeSelectionType:c,columnAdjustment:d}=this.props,{isMeasured:u,width:p,height:m,currentMomentTitle:h}=this.state,g=200-100*d,v=12+d,f=Math.min(Math.ceil(p/g),v);if(o)return y.createElement(LC.Z,{metricsPage:et.WJ,metricsProperties:{identifier:n,mode:"timeline",type:"photo",style:Mk},allowBackgroundLightPreset:!0,scrollDirection:vb.Hn},c?y.createElement(Az,{serverEntityID:e,providerEntityID:t}):y.createElement(YR,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,sourceDirectory:s,title:h}),y.createElement(OC.Z,{className:"TimelinePage-measured-1olGrj",ignorePosition:!0,onMeasure:this.onMeasure},u?y.createElement(yk,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,moments:l,columns:f,height:m,onMomentScrollIndexChange:this.onMomentScrollIndexChange}):null));const I={serverEntityID:e,providerEntityID:t,sourceDirectory:s,pivot:r,directoryKey:UZ.tk.TIMELINE,scrollDirection:vb.Hn};if(a)return y.createElement(yj,xz(xz({},I),{showSecondHeader:!0}),y.createElement(zC.Z,null,y.createElement(RC.Z,null)));const b={title:(0,De.Z)("There was an error loading the timeline for this library")};return y.createElement(yj,xz({},I),y.createElement(FC.Z,xz({},b)))}}const Oz=Lz,jz=(0,de.P1)((e=>e.ui.timelinePage.momentList),(e=>{if(!e)return[];let t=0;return e.moments.map((e=>{const n=t;t+=e.size;const{id:i,title:s,size:r,avgAR:a,startsAt:o}=e,l=e.size*(e.avgAR||1);return{start:n,end:t,area:l,id:i,title:s,size:r,avgAR:a,startsAt:o}}))})),kz=mC(Oz,(function(e){const t=e.ui.timelinePage;return{serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,momentKey:t.momentKey}}),(function(e,t){e(aj({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,libraryKey:t.libraryKey,momentKey:t.momentKey})),e(cj())})),Rz=(0,f.$j)((function(){return(0,de.P1)(((e,{libraryKey:t})=>t),(e=>e.ui.timelinePage),jz,Kh.Z,(0,UM.Z)(),wC(),sj(),dj.Z,ye.Z,((e,t,n,i,s,r,a,o,l)=>{const{details:c,containerKey:d,isMomentListPending:u,isMomentListPopulated:p}=t;return{metadataListEntityID:t.metadataList,providerIdentifier:s.identifier,providerMetricsIdentifier:s.metricsIdentifier,librarySectionID:c&&c.librarySectionID,sourceDirectory:r,pivot:a,moments:n,isMomentListPending:u,isMomentListPopulated:p,containerKey:d,momentKey:C.Z.join(e,"cluster?clusterZoomLevel=1"),activeSelectionType:o.activeSelectionType,disableReloadThreshold:!!o.activeSelectionType,columnAdjustment:l.columnAdjustment,serverVersion:i.version}}))}),(function(e,t){return{onLibraryChange(n,i){e((0,Ut.changeQuickSearchSettings)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:n,directoryID:i}))},onCloseTimelinePage(){e(oj({}))}}}))(kz);function zz({pivotType:e,sourceURI:t,directoryKey:n,selectedPivot:i}){const[s,r,a]=cn(),o=un(),l=(0,f.v9)(Lt.Z);if(zt(null==i?void 0:i.requires,l))return y.createElement(hM,null);switch(e){case At.F6.Hub:return y.createElement(xt.ZP,{name:null==i?void 0:i.context},y.createElement(rg,{sourceURI:t}));case At.F6.List:return y.createElement(xt.ZP,{name:null==i?void 0:i.context},y.createElement(iM,{directoryKey:n,sourceURI:t,selectedPivot:i}));case At.F6.View:switch(null==i?void 0:i.key){case At.GG.SharedItems:return y.createElement(xt.ZP,{name:null==i?void 0:i.context},y.createElement(iM,{directoryKey:null!=n?n:"/library/shared/all",sourceURI:t,selectedPivot:i,listStyle:Bt.n.SharedItems}));case At.GG.Guide:return y.createElement(gA,{serverEntityID:s.entityID,providerEntityID:r.entityID,sourceDirectoryID:null==a?void 0:a.id,directoryKey:At.GG.Guide,activeFilters:(0,Ot.Z)(o.filters),activeFilterLabel:o.filterLabel});case At.GG.RecordingSchedule:return y.createElement(ij,{serverEntityID:s.entityID,providerEntityID:r.entityID,sourceDirectoryID:null==a?void 0:a.id,selectedViewType:o.view});case At.GG.Timeline:{const e=(0,Ft.Z)(r,At.zW.Content);return y.createElement(Rz,{serverEntityID:s.entityID,providerEntityID:r.entityID,sourceDirectoryID:null==a?void 0:a.id,directoryKey:At.GG.Timeline,libraryKey:C.Z.join([null==e?void 0:e.key,null==a?void 0:a.id,"cluster"],{clusterZoomLevel:1})})}}}return y.createElement(yA.Z,null)}const Uz=[At.GG.Guide,At.GG.RecordingSchedule,At.GG.Timeline];function Vz({className:e,directoryKey:t,pageType:n,machineIdentifier:i,providerIdentifier:s,contentDirectoryID:r,pivotID:a}){const o=(0,f.I0)(),l=function({machineIdentifier:e,providerIdentifier:t,contentDirectoryID:n,pageType:i,pivotID:s}){var r,a;const o=(0,f.I0)(),l=(0,f.v9)(Tm),c=(0,f.v9)(nn(e,t,n)),d=(0,f.v9)(yD),u=(0,f.v9)(gD),p=(0,f.v9)(vD(e,t,n));let m;i?m=null==(r=null==l?void 0:l.Pivot)?void 0:r.find((e=>e.active)):(m=fD(null==c?void 0:c.pivots,s),m||(m=p?fD(null==c?void 0:c.pivots,p):null==(a=null==c?void 0:c.pivots)?void 0:a[0]));const h=n?(0,hD.Z)(e,t,n):void 0;return(0,y.useEffect)((()=>{d&&h&&m&&p!==m.key&&null==i&&o((0,Nv.LN)({lastSourcePivots:ID(ID({},u),{[h]:m.key})}))}),[o,p,u,s,i,m,d,h]),m}({machineIdentifier:i,providerIdentifier:s,contentDirectoryID:r,pageType:n,pivotID:a}),c=l?l.type:null!=n?n:At.F6.List,d=(null==l?void 0:l.key)||t,u=d?(0,jt.Z)({serverIdentifier:i,providerIdentifier:s,key:d}):void 0;return(0,y.useEffect)((()=>{if(!r)return;const e=(0,kt.Z)(Vt.cN,i),t=(0,kt.Z)(Vt.MC,s,e);return o((0,Ut.changeQuickSearchSettings)({serverEntityID:e,providerEntityID:t,providerIdentifier:s,directoryID:r})),()=>{o((0,Ut.changeQuickSearchSettings)({serverEntityID:null,providerEntityID:null,providerIdentifier:null,directoryID:null}))}}),[r,o,i,s]),(0,y.useEffect)((()=>()=>{(0,Rt.c9)((()=>{o(qm.actions.resetMeta())}))}),[o]),u?y.createElement(dn,{machineIdentifier:i,providerIdentifier:s,contentDirectoryID:r},y.createElement(En,{className:e,allowBackgroundLightPreset:!0,scrollDirection:Ne.None},l&&c===At.F6.View&&Uz.includes(l.key)?null:y.createElement(mD,{sourceURI:u,selectedPivot:l}),y.createElement(zz,{pivotType:c,sourceURI:u,directoryKey:t,selectedPivot:l}))):y.createElement(En,{className:e},y.createElement(Un,null))}var Bz=n(36996);const Fz=function(){const e=(0,I.$B)({path:[Bz.Z.playHistory,...Bz.Z.playlist,...Bz.Z.prePlay,Bz.Z.watchNow,Bz.Z.providerSettings,Bz.Z.mediaGuideV3,Bz.Z.mediaRecordingScheduleV3,Bz.Z.mediaTimelineV3,Bz.Z.media,Bz.Z.serverSetup,Bz.Z.serverUpdate,Bz.Z.transientPrePlay],exact:!0}),t=null==e?void 0:e.params,n=null==t?void 0:t.machineIdentifier,i=null==t?void 0:t.providerIdentifier;return n||i?{machineIdentifier:n||KP.X,providerIdentifier:i?decodeURIComponent(i):pa.Y3}:{machineIdentifier:Jt.machineIdentifier,providerIdentifier:Gt.identifier}};var Hz=n(75989),_z=n(95614);const Qz=function(){return y.createElement(_z.Z,{title:(0,De.Z)("Plex is down for maintenance"),description:(0,De.Z)("Don't worry, it will be back soon")},y.createElement(AM.Z,{to:Np.S7,target:"_blank",kind:fo._8},"status.plex.tv"))};var Gz=n(3704),Yz=n(68576);const Wz=function(){return y.createElement(_z.Z,{title:(0,De.Z)("Plex is not reachable"),description:(0,De.Z)("We are unable to connect to plex.tv at this time. Please try again later.")})};var Kz=Object.assign;const qz=(0,f.$j)((function(){return(0,de.P1)((0,Qt.Z)("isProvidersPopulated"),(0,Qt.Z)("providersError"),(0,UM.Z)(),ge,((e,t,n,i)=>n?{hasProvider:!0,hasError:!!n.error,isPending:!n.isPopulated}:{hasProvider:!1,isDownForMaintenance:i.isDownForMaintenance,isUnreachable:i.isUnavailable,hasError:!!t,isPending:!e}))}))((function(e){const{children:t,hasProvider:n,isDownForMaintenance:i,isUnreachable:s,hasError:r,isPending:a}=e;return i?y.createElement(Qz,null):s?y.createElement(Wz,null):r?y.createElement(Yz.Z,null):a?y.createElement(Gz.Z,null,y.createElement(RC.Z,null)):n?y.createElement(y.Fragment,null,t):y.createElement(yA.Z,null)}));qz.propTypes=Kz(Kz({},qz.propTypes),{providerEntityID:ls().string.isRequired});const $z=qz;var Jz=n(30263);const Xz=function(e){const{children:t,machineIdentifier:n,providerIdentifier:i}=e,s=n===KP.X?$z:Jz.Z,r=(0,kt.Z)(Vt.cN,n),a=(0,kt.Z)(Vt.MC,i,r);return y.createElement(s,{serverEntityID:r,providerEntityID:a},t)};function eU(){const e=(0,Ee.Z)(),t=(0,Hz.Z)(e.key),{machineIdentifier:n,providerIdentifier:i}=Fz(),s=e.pageType?(0,Hz.Z)(e.pageType):void 0,r=(0,Mm.su)(At.F6).find((e=>e===s));return y.createElement(xt.ZP,{metricsPage:et.Y3,metricsContextParam:(0,Hz.Z)(e.context)},y.createElement(Xz,{machineIdentifier:n,providerIdentifier:i},t||(0,Hz.Z)(e.source)?y.createElement(Vz,{directoryKey:t,machineIdentifier:n,providerIdentifier:i,contentDirectoryID:(0,Hz.Z)(e.source),pageType:r,pivotID:(0,Hz.Z)(e.pivot)}):y.createElement(yA.Z,null)))}var tU,nU,iU=n(80974),sU=n(68295);(nU=tU||(tU={})).Auto="auto",nU.Custom="custom";const rU=(0,de.P1)($e,(e=>!e.isFullUser)),aU=(0,de.P1)($e,(e=>e.services)),oU=(0,de.P1)(ye.Z,(e=>e.hasDismissedCustomHomeSunset)),lU=(0,de.P1)(an,(e=>e.some((e=>e.isFullOwnedServer)))),cU="CustomHomeSunsetModal-banner1-2srWgY CustomHomeSunsetModal-banner-3AKUun",dU="CustomHomeSunsetModal-small-2seG3h";var uU,pU,mU,hU;function gU(e,t,n){switch(e){case 0:return n?2:1;case 1:case 2:return n?4:3;case 3:return t?4:5;case 4:return 5;case 5:return n?7:6}return 7}function yU({bannerClassName:e,title:t,copy:n}){return y.createElement(Ed,{innerClassName:"CustomHomeSunsetModal-innerModalBody-2raxye ModalBody-innerModalBody-9jyEBh"},y.createElement("div",{className:e}),y.createElement("div",{className:"CustomHomeSunsetModal-copyContainer-1vy_1z"},y.createElement("div",{className:"CustomHomeSunsetModal-title-1DQYlk"},t),y.createElement("div",{className:"CustomHomeSunsetModal-copy-PXypcM"},n)))}function vU(){const e=(0,f.I0)(),t=(0,f.v9)(lU),n=(0,f.v9)(ve),i=(0,f.v9)(oU),s=(0,f.v9)(La(be.lX)),{isOpen:r,onClose:a,onOpen:o}=(0,Dl.Z)(),l=!s||i||!t&&n,[c,d]=(0,y.useState)(gU(0,t,n)),u=(0,y.useRef)([]),p=u.current[u.current.length-1],m=(0,y.useCallback)((()=>{e((0,Nv.LN)({hasDismissedCustomHomeSunset:!0})),a()}),[e,a]),h=(0,y.useCallback)((()=>{const e=gU(c,t,n);7===e?m():(d(e),u.current.push(c))}),[c,n,t,m]),g=(0,y.useCallback)((()=>{const e=u.current.pop();e&&d(e)}),[]),v=(0,y.useCallback)((()=>{m()}),[m]),I=(0,y.useCallback)((()=>{e((0,dE.FT)()),m()}),[e,m]);return(0,y.useEffect)((()=>{r||(u.current=[],d(gU(0,t,n)))}),[n,r,t]),(0,y.useEffect)((()=>{let e;return l||(e=window.setTimeout((()=>{o()}),5e3)),()=>{e&&window.clearTimeout(e)}}),[l,n,o]),l||i?null:y.createElement(lc,{isOpen:r,size:We.Medium,onModalClose:a},y.createElement(dc,{onModalClose:m},y.createElement(mc,null,"What's new?"),function(e){switch(e){case 1:return y.createElement(yU,{bannerClassName:cU,title:"Your home screen is changing",copy:"Beginning April 22, you’ll be seeing a whole new home screen. Designed to support newly launched and upcoming features for Home Screen curation, this new dynamic experience will replace your current manual view. Learn more to get the full details and benefits of this change."});case 2:return y.createElement(yU,{bannerClassName:cU,title:"The latest. The greatest.",copy:"We've got new Plex additions and enhancements ready and waiting for you. Learn more to see what’s been updated."});case 3:return y.createElement(yU,{bannerClassName:"CustomHomeSunsetModal-banner2-1Am3B7 CustomHomeSunsetModal-banner-3AKUun",title:"Automatically manage home by pinning sources",copy:"With the new Plex home screen experience, you can prioritize your content easily by pinning and ordering your favorite sources in the sidebar. As newly promoted content is made available for a source, it will be added to your home screen automatically, based on your pinned preferences."});case 4:return y.createElement(yU,{bannerClassName:"CustomHomeSunsetModal-banner3-kdx71m CustomHomeSunsetModal-banner-3AKUun",title:"Your Media Server content just got a promotion",copy:y.createElement(y.Fragment,null,"Good news! You now have control over the content promoted from your Plex Media Server to your home screen, and the home screen of your shared users. And this is just the beginning. We’ve got even more curation features on the way.",y.createElement("span",{className:dU},"* This feature does not work with manually managed home screens and requires Plex Media Server 1.22.1 or greater"))});case 5:return y.createElement(yU,{bannerClassName:"CustomHomeSunsetModal-banner4-hpuzFx CustomHomeSunsetModal-banner-3AKUun",title:"Universal Continue Watching is here.",copy:y.createElement(y.Fragment,null,"Use the new Universal Continue Watching feature to track in-progress series and movies from anywhere you watch, all in one place. Never gonna finish watching? Just remove it from the line-up.",y.createElement("span",{className:dU},"* This feature does not work with manually managed home screens"))});case 6:return y.createElement(yU,{bannerClassName:"CustomHomeSunsetModal-banner5-gVzso2 CustomHomeSunsetModal-banner-3AKUun",title:"Ready to make the switch?",copy:y.createElement(y.Fragment,null,"Migrate to the new home screen experience now to take advantage of these new features and many more coming soon. Not ready to make the move? Take your time, but keep in mind that"," ",y.createElement("strong",null,"you will automatically be switched to the new experience on April 22"),".")})}return null}(c),y.createElement(pc,null,y.createElement(Dd,null,p?y.createElement(zn,{onPress:g},"Previous"):null,2===c?y.createElement(zn,{onPress:v},"Skip"):null,6!==c?y.createElement(zn,{kind:Dn.Primary,onPress:h},function(e,t){switch(e){case 1:case 2:return"Learn More";case 5:if(t)return"Done"}return"Next"}(c,n)):null,6===c?y.createElement(zn,{onPress:v},"Not right now"):null,6===c?y.createElement(zn,{kind:Dn.Primary,onPress:I},"Make the Switch"):null))))}(pU=uU||(uU={}))[pU.Start=0]="Start",pU[pU.Screen1A=1]="Screen1A",pU[pU.Screen1B=2]="Screen1B",pU[pU.Screen2=3]="Screen2",pU[pU.Screen3=4]="Screen3",pU[pU.Screen4=5]="Screen4",pU[pU.Screen5=6]="Screen5",pU[pU.End=7]="End",(hU=mU||(mU={})).ContinueWatching="home.continue",hU.VodContinueWatching="movies.continueWatching",hU.MergedContinueWatching="continueWatching",hU.OnDeck="home.ondeck";var fU=n(45224);const IU=(0,de.P1)(rs("sidebarSettings"),(e=>e)),bU=(0,de.P1)(IU,(e=>e.pinnedSources)),MU=(0,de.P1)(bU,(e=>e.filter((e=>!e.isHidden)))),SU={type:At.zW.ContinueWatching,key:DM.O},EU=(0,de.P1)(MU,an,_t.Z,La(be.eT),((e,t,n,i)=>{const s=[],r=[],a={},o={};for(let t=0;t<e.length;t++){const{machineIdentifier:n,providerIdentifier:i,directoryID:s}=e[t],r=(0,jt.Z)({serverIdentifier:n,providerIdentifier:i});o[r]||(o[r]=[]),o[r].push(s)}for(let l=0;l<e.length;l++){const{machineIdentifier:c,providerIdentifier:d,directoryID:u}=e[l],p=(0,jt.Z)({serverIdentifier:c,providerIdentifier:d}),m=t.find((e=>e.machineIdentifier===c)),h=m?(0,fU.q)({identifier:d,serverEntityID:m.entityID}):void 0,g=h?n[h]:void 0,y=`${p}/continueWatching`,v=`${p}/${u}/promoted`;let f=g?(0,Ft.Z)(g,At.zW.ContinueWatching):void 0;!i&&pa.wB(null==g?void 0:g.identifier,pa.Y3)&&(f=SU);const I=g?(0,Ft.Z)(g,At.zW.Promoted):void 0;(null==g?void 0:g.isPopulated)&&!f||a[p]||(a[p]=!0,s.push({key:y,source:p,contentDirectoryID:o[p],server:m,provider:g,feature:f})),(null==g?void 0:g.isPopulated)&&!I||r.push({key:v,source:p,contentDirectoryID:[u],pinnedContentDirectoryID:o[p],server:m,provider:g,feature:I})}return s.concat(r)})),DU=(0,de.P1)(EU,(e=>e.filter((e=>{var t;return null!=e.server&&null!=e.provider&&(null==(t=e.feature)?void 0:t.type)===At.zW.ContinueWatching})))),CU=(0,de.P1)(Yr,(e=>e.home)),PU=(0,de.P1)(CU,(e=>e.hubsListsByKey)),wU=(0,de.P1)(DU,PU,qb,ti,((e,t,n,i)=>{const s={};for(let r=0,a=e.length;r<a;r++){const a=e[r],o=t[a.key];if(!(null==o?void 0:o.isPopulated))continue;const l=o.hubs.find((({hubIdentifier:e})=>e!==mU.OnDeck));if(!l)continue;const c=n[l.sourceURI],d=c.items.map((({sourceURI:e})=>i[e]));s[a.source]={hubsSource:a,hub:l,metadataList:c,metadataListItemState:d}}return s})),TU=(0,de.P1)(wU,(e=>{const t=Object.values(e).reduce(((e,{metadataList:t,metadataListItemState:n})=>e.concat(t.items.reduce(((e,t,i)=>{const s=n[i];return s&&e.push({metadataItem:t,metadataItemState:s}),e}),[]))),[]);return t.sort(((e,t)=>{var n,i,s,r;const a=e.metadataItem,o=t.metadataItem,l=e.metadataItemState,c=t.metadataItemState,d=null!=(i=null!=(n=null==a?void 0:a.includedAt)?n:null==l?void 0:l.lastViewedAt)?i:0;return(null!=(r=null!=(s=null==o?void 0:o.includedAt)?s:null==c?void 0:c.lastViewedAt)?r:0)-d})),t.map((({metadataItem:t})=>{const{hubsSource:n,hub:i}=e[t.source];return{listItemKey:t.sourceURI,hub:i,hubsSource:n,metadataItem:t}}))})),ZU=(0,de.P1)(wU,(e=>Object.values(e).filter((e=>{const{hub:t}=e;return t.isStale}))));var NU=Object.assign;function AU(){return y.createElement(op,null,(0,De.Z)("Continue Watching"))}const xU=(0,y.memo)((function({metricsRow:e=0,onHomeHubsReady:t}){const n=(0,f.I0)(),i=(0,f.v9)(TU),s=(0,f.v9)(ZU),r=(0,y.useMemo)((()=>({type:Bt.U.Mixed,more:!1,initialSize:i.length,isStale:!1,size:i.length,key:"",hubIdentifier:"",source:"",sourceURI:"",title:""})),[i]),a=(0,y.useMemo)((()=>[{imageType:ai.IY.CoverPoster,type:Bt.U.Mixed}]),[]),o=(0,f.v9)(gp),l=(0,y.useMemo)((()=>i.reduce(((e,t)=>{var n,i,s;return Math.max(e,null!=(s=null==(i=null==(n=t.hub.Meta)?void 0:n.DisplayFields)?void 0:i.reduce(((e,{fields:t})=>Math.max(e,t.length)),0))?s:0)}),0)),[i]),c=(0,y.useMemo)((()=>Gu({listType:Bt.U.Mixed,listStyle:Bt.n.List,columnWidth:o,titleCount:l})),[o,l]);(0,y.useEffect)((()=>{s.forEach((({hub:e,hubsSource:t})=>{n(Gn.Z.actions.throttledRepopulateRangeRequested({server:t.server,provider:t.provider,sourceURI:e.sourceURI}))}))}),[n,s]),(0,y.useEffect)((()=>{i.forEach((({hubsSource:e})=>{t(e.key)}))}),[i,t]);const d=(0,y.useMemo)((()=>t=>{var n,i,s;if(!t.item)return y.createElement(y.Fragment,null);const{metadataItem:r,hub:o,hubsSource:l}=t.item;return y.createElement(xt.ZP,{key:t.key,name:o.context,row:e,column:t.cellIndex},y.createElement(dn,{machineIdentifier:null==(n=l.server)?void 0:n.machineIdentifier,providerIdentifier:null==(i=l.provider)?void 0:i.identifier},y.createElement(Qn,{containerServer:l.server,containerProvider:l.provider,containerSourceURI:o.sourceURI,containerKey:o.key,containerType:Bt.U.Mixed,containerMeta:{DisplayFields:null==(s=o.Meta)?void 0:s.DisplayFields,DisplayImage:a},listStyle:Bt.n.Hero},y.createElement(fu,NU(NU({},t),{item:r})))))}),[a,e]);return y.createElement(hp,{hub:r,hubTitleComponent:AU,keyPropName:"listItemKey",items:i,totalSize:i.length,layout:c,cellComponentFactory:d})}));var LU=Object.assign;const OU={hubsListsByKey:{}},jU={source:"",contentDirectoryID:[],hubs:[],isPending:!1,isPopulated:!1,error:null};function kU(e,t){for(const n in e.hubsListsByKey){const i=e.hubsListsByKey[n];t&&i.source!==t||i.hubs.forEach((e=>{e.isStale=!0}))}}const RU=(0,Fr.oM)({name:"home",initialState:OU,reducers:{reset:()=>OU,markStaleRequested(e){for(const t in e.hubsListsByKey)e.hubsListsByKey[t].isPending=!1},markStale(e){kU(e)},populateAllRequested(e,{payload:t}){const n=t.hubsSources.map((e=>e.key));Object.keys(e.hubsListsByKey).forEach((t=>{n.includes(t)||delete e.hubsListsByKey[t]}))},fetchRequested(e,{payload:t}){const{hubsSource:{key:n,source:i,contentDirectoryID:s,pinnedContentDirectoryID:r}}=t;let a=e.hubsListsByKey[n];a||(a=LU(LU({},jU),{source:i})),(0,Vm.er)(a),a.contentDirectoryID=[...s],r&&(a.pinnedContentDirectoryID=[...r]),e.hubsListsByKey[n]=a},fetchSucceeded(e,{payload:t}){e.lastFetchedAt||(e.lastFetchedAt=Date.now());const n=e.hubsListsByKey[t.key];(0,Vm.vv)(n),n.hubs=t.data},fetchFailed(e,{payload:t}){let n=e.hubsListsByKey[t.key];n||(n=LU(LU({},jU),{source:t.source,contentDirectoryID:[...t.contentDirectoryID]}),e.hubsListsByKey[t.key]=n),(0,Vm.VQ)(n,t.error)}},extraReducers:e=>{e.addCase(Gn.Z.actions.repopulateRangeSucceeded,((e,{payload:t})=>{for(const n in e.hubsListsByKey)e.hubsListsByKey[n].hubs.forEach((e=>{e.sourceURI===t.sourceURI&&(e.isStale=!1)}))})),e.addCase(Gm.actions.ended,((e,{payload:t})=>{kU(e,t.source)})),e.addCase(_m.actions.sessionStopped,((e,{payload:t})=>{kU(e,(0,jt.Z)({serverIdentifier:t.server.machineIdentifier}))})),e.addCase(ja.actions.libraryScanUpdated,((e,{payload:t})=>{kU(e,(0,jt.Z)({serverIdentifier:t.server.machineIdentifier}))})),e.addCase(ar.Z.actions.playedStatusUpdateSucceeded,((e,{payload:t})=>{kU(e,(0,jt.Z)({serverIdentifier:t.server.machineIdentifier,providerIdentifier:t.provider.identifier}))})),e.addCase(ar.Z.actions.metadataProcessed,((e,{payload:t})=>{const{serverIdentifier:n,providerIdentifier:i}=(0,Vn.Z)(t.sourceURI);kU(e,(0,jt.Z)({serverIdentifier:n,providerIdentifier:i}))})),e.addCase(Qm.actions.languageChanged,(()=>OU))}}),zU=(0,de.P1)(La(be.eT),TU,((e,t)=>e&&!!t.length)),UU=(0,de.P1)($e,(e=>e.providers)),VU=(0,de.P1)(UU,_t.Z,((e,t)=>e.map((e=>t[e])))),BU=(0,de.P1)(an,VU,((e,t)=>e.some((e=>!e.isCloud&&!e.isUnauthorized))||t.some((e=>e.features.find((e=>e.type===At.zW.Content))))));var FU=n(99449);const HU=e=>e.ui.watchTogether,_U=(0,de.P1)(FU.Z,HU,((e,t)=>t.rooms.map((t=>e[t])))),QU=(0,de.P1)(_U,(e=>!!e.length));var GU=Object.assign;const YU={key:"",contentDirectoryID:[],isPending:!1,isSourceReady:!1,isSourceMissing:!1,isSourceUnavailable:!1,isSourceError:!1,isListPending:!1,isListPopulated:!1,isListEmpty:!1,isListError:!1},WU=(0,de.P1)((e=>e.isWaitingForServers),(e=>e.user.isProvidersPopulated),(e=>e.user.providersError),CU,EU,((e,t,n,i,s)=>s.map((({key:s,server:r,provider:a})=>{if(!r)return GU(GU({},YU),{key:s,isPending:e,isSourceMissing:!0});const o=GU(GU({},YU),{key:s});if(o.isSourceUnavailable=r.isUnavailable,o.isSourceError=r.isUnauthorized||!!(null==a?void 0:a.error),a){o.isSourceReady=r.isConnected&&a.isPopulated;const e=i.hubsListsByKey[s];e?(o.contentDirectoryID=Array.from(e.contentDirectoryID),e.pinnedContentDirectoryID&&(o.pinnedContentDirectoryID=Array.from(e.pinnedContentDirectoryID)),o.isPending=o.isSourceReady&&!e.isPopulated&&!e.error,o.isListPending=e.isPending,o.isListPopulated=e.isPopulated,o.isListError=!!e.error,o.isListEmpty=e.isPopulated&&(!e.hubs.length||e.hubs.every((e=>!e.initialSize&&!e.more)))):o.isPending=!o.isSourceUnavailable&&!o.isSourceError}else o.isSourceMissing=!0,r.isConnected?o.isPending=!!r.isCloud&&!t&&!n:o.isPending=!r.isUnavailable&&!r.isUnauthorized;return o})))),KU=(0,de.P1)(WU,(e=>{const t=[];let n=0;for(;e[n];){const i=e[n];if(i.isPending)break;i.isListPopulated&&!i.isListEmpty&&t.push(i.key),n++}return t})),qU=(0,oC.Z)(KU,(e=>e)),$U=(0,de.P1)(CU,(e=>e.lastFetchedAt)),JU=(0,de.P1)(EU,WU,rs("sidebarSettings"),(e=>e.ui.watchTogether.isRoomsPending),(e=>e.ui.watchTogether.rooms.length>0),La(be.eT),((e,t,n,i,s,r)=>function(e,t,n,i=!1,s=!1,r=!1){var a;if(Ya(e.length===t.length,"hubsSources and hubsStates have differing length"),!n.hasCompletedSetup)return{isPending:!0};let o=0;const l=t.length;if(r)for(let n=0;n<l;n++){const i=t[n];if((null==(a=e[n].feature)?void 0:a.type)!==At.zW.ContinueWatching){o=n;break}if(!(i.isListPopulated||i.isListEmpty||i.isListError||i.isSourceUnavailable))return{isPending:!0}}for(let e=o;e<l;e++){const n=t[e];if(n.isListPopulated&&!n.isListEmpty)return{isPopulated:!0};if(n.isPending)return{isPending:!0}}return i?{isPending:!0}:s?{isPopulated:!0}:t.length?t.every((e=>e.isListEmpty))?{isEmpty:!0}:t.some((e=>e.isSourceUnavailable))?{isUnavailable:!0}:{isError:!0}:{hasNoPinnedSources:!0}}(e,t,n,i,s,r)));var XU=Object.assign;const eV=(0,Ht.Z)((e=>(0,de.P1)(PU,La(be.eT),((t,n)=>{const i=t[e];return XU(XU({},i),{hubs:n?i.hubs.filter((e=>e.hubIdentifier!==mU.VodContinueWatching&&e.hubIdentifier!==mU.MergedContinueWatching&&e.hubIdentifier!==mU.ContinueWatching)):i.hubs})})))),tV=[mU.ContinueWatching,mU.VodContinueWatching,mU.MergedContinueWatching],nV=(0,Ht.Z)((function(e,t){return(0,de.P1)(PU,qU,La(be.eT),((n,i,s)=>{const r=i.indexOf(e);return i.slice(0,-1===r?i.length:r).reduce(((e,t)=>n[t].hubs.reduce(((e,{initialSize:t,more:n,hubIdentifier:i})=>s&&tV.includes(i)?e:e+(t||n?1:0)),e)),t)}))})),iV=(0,de.P1)(EU,(e=>{const t={},n=e.reduce(((e,{server:n})=>{if(!n||t[n.machineIdentifier])return e;const{machineIdentifier:i,sourceTitle:s,isFullOwnedServer:r}=n;return t[i]=!0,r?e.numOwnedServers++:s&&(e.numSharedServers++,e.byOwner[s]?e.byOwner[s]++:e.byOwner[s]=1),e}),{numSharedServers:0,numOwnedServers:0,byOwner:{}});return e.reduce(((e,{source:t,server:i,provider:s})=>{if(!i)return e;const{friendlyName:r,sourceTitle:a,isCloud:o,isFullOwnedServer:l}=i;return o&&s?s.sourceTitle&&(n.numOwnedServers||n.numSharedServers)?e[t]=`${s.title} (${s.sourceTitle})`:e[t]=s.title:a&&(n.numOwnedServers||n.numSharedServers>1)?1===n.byOwner[a]?e[t]=a:e[t]=`${a} (${r})`:l&&n.numOwnedServers>1&&(e[t]=r),e}),{})})),sV=(0,oC.Z)(iV,(e=>e)),rV=(0,Ht.Z)((e=>(0,de.P1)(sV,(t=>t[e]))));function aV({children:e,hub:t}){const{metricsContextTuple:n}=(0,xt.Zn)(),i=(0,f.v9)(rV(t.source)),s=Fn(t.source,{key:t.key,title:t.title,pageType:At.F6.List,context:(0,xt.VJ)(n)});return y.createElement(zp,{hub:t},y.createElement(xn,{to:s},e),i?y.createElement("span",{className:"HomeHubTitle-sourceTitle-ciUeTH"},y.createElement(tr.Z,null),i):null)}const oV=(0,y.memo)((function({hubsSource:e,metricsRowOffset:t,onHomeHubsReady:n}){var i,s;const r=(0,f.v9)(eV(e.key)),a=(0,f.v9)(nV(e.key,t)),o=(0,y.useCallback)((()=>{n(e.key)}),[e.key,n]);return e.server&&e.provider?y.createElement(dn,{key:e.key,machineIdentifier:null==(i=e.server)?void 0:i.machineIdentifier,providerIdentifier:null==(s=e.provider)?void 0:s.identifier},y.createElement(Bp,{hubs:r.hubs,hubComponent:jp,hubTitleComponent:aV,metricsRowOffset:a,onHubsReady:o})):null}));function lV({className:e}){return y.createElement("div",{className:e})}lV.defaultProps={className:"PageHeaderDivider-pageHeaderDivider-3zhiwc"};const cV=lV,dV=function({children:e}){return y.createElement("div",{className:"PageHeaderToolbar-container-BLsVTu"},e)},uV=(0,sn.Z)(ye.Z,(({homeSettings:e})=>e));function pV(e,t,n){let i=e.slice(0);if(n<0||n>i.length)return i;const s=i[t];return i=function(e,t){const n=e.slice(0);return t<0||t>=n.length||n.splice(t,1),n}(i,t),i.splice(n,0,s),i}var mV=n(34272),hV=n(92375);function gV(e={},t={}){const{identifier:n,title:i,sourceTitle:s}=e,{friendlyName:r,sourceTitle:a}=t;let o;return pa.wB(n,pa.Y3)?o=a||r:i&&(o=s?`${i} • ${s}`:i),o}function yV(){return(0,de.P1)(uV,((e,{homeHubID:t})=>t),((e,t)=>e.hubs.find((e=>e.id===t))))}const vV=function(){return(0,de.P1)((e=>e.ui.homePage.homeHubStatuses),((e,{homeHubID:t})=>t),((e,t)=>e.find((e=>e.homeHubID===t))))};var fV=n(32486);const IV=(0,de.P1)(fV.Z,(e=>e.hubs));function bV(){return(0,de.P1)(IV,vV(),((e,t)=>e[t.hub]))}function MV(){return(0,de.P1)(he.Z,vV(),((e,t)=>e[t.server]))}function SV(){return(0,de.P1)(yV(),bV(),(0,de.P1)(_t.Z,vV(),((e,t)=>e[t.provider])),MV(),((e,t,n,i)=>gV(t?n:e.provider,t?i:e.server)))}function EV(){return(0,de.P1)(bV(),yV(),((e,t)=>{let n;return e&&e.title?n=e.title:t&&t.title&&(n=t.title),n||(0,De.Z)("Unknown")}))}var DV=Object.prototype.hasOwnProperty,CV=Object.getOwnPropertySymbols,PV=Object.prototype.propertyIsEnumerable,wV=Object.assign;function TV(e){const{isMonochrome:t,isRemovable:n,tooltip:i}=e,s=((e,t)=>{var n={};for(var i in e)DV.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&CV)for(var i of CV(e))t.indexOf(i)<0&&PV.call(e,i)&&(n[i]=e[i]);return n})(e,["isMonochrome","isRemovable","tooltip"]),r=i||(n?(0,De.Z)("Remove"):(0,De.Z)("Add"));return y.createElement(th.Z,wV(wV({},s),{component:GC.Z,hideOnPress:!1,iconComponent:Hf.Z,iconClassName:n?"AddOrRemoveButton-iconRemovable-UllD2Z AddOrRemoveButton-icon-Thd0HG":"AddOrRemoveButton-icon-Thd0HG",kind:n&&!t?fo.T:fo.TP,ariaLabel:r,tooltip:r}))}TV.defaultProps={className:"AddOrRemoveButton-button-q1Kjze IconButton-button-2smHOM"};const ZV=TV;function NV(e,t){const{className:n,sourceTitle:i,title:s,style:r,isRemoved:a,connectDragSource:o,onToggleRemoveHomeHub:l}=e;return y.createElement("div",{className:we()(n,a&&"HomeHubListItem-isRemoved-3tIovU"),style:r},o(y.createElement("div",null,y.createElement(Ox,{className:"HomeHubListItem-iconReorder-2wr8m-"}))),y.createElement("span",{className:"HomeHubListItem-label-157Ah7"},y.createElement("span",{className:"HomeHubListItem-title-3QR_-i"},s),i?y.createElement(tr.Z,null):null,i||null),y.createElement(ZV,{className:"HomeHubListItem-toggleButton-2Fmuoh AddOrRemoveButton-button-q1Kjze IconButton-button-2smHOM",isRemovable:!a,tooltip:a?(0,De.Z)("Restore"):(0,De.Z)("Remove"),onPress:l}))}NV.defaultProps={className:"HomeHubListItem-listItem-1WDVJ0",isRemoved:!1,connectDragSource:e=>e};const AV=NV;var xV=Object.assign;const LV=(0,f.$j)((function(){return(0,de.P1)(EV(),SV(),((e,t)=>({title:e,sourceTitle:t})))}),(function(e,t){return{onToggleRemoveHomeHub(){t.onToggleRemoveHomeHub(t.homeHubID)}}}))(AV);LV.propTypes=xV(xV({},LV.propTypes),{homeHubID:ls().string.isRequired});const OV=LV;function jV(e,t){const{x:n,y:i}=e,s=`translate3d(${n}px, ${i}px, 0)`;return{WebkitTransform:s,msTransform:s,transform:s,width:t?`${t}px`:"100%"}}var kV=Object.prototype.hasOwnProperty,RV=Object.getOwnPropertySymbols,zV=Object.prototype.propertyIsEnumerable,UV=Object.assign;const VV=parseInt(ku.Z.homeServerListItemHeight,10);class BV extends y.Component{render(){const{item:e,style:t}=this.props;if(!e||!t)return null;const{listHeight:n,listWidth:i,listTop:s,listRight:r,listBottom:a,listLeft:o}=e,l=((e,t)=>{var n={};for(var i in e)kV.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&RV)for(var i of RV(e))t.indexOf(i)<0&&zV.call(e,i)&&(n[i]=e[i]);return n})(e,["listHeight","listWidth","listTop","listRight","listBottom","listLeft"]);return y.createElement(Mx,null,y.createElement(OV,UV(UV({},l),{style:t,className:"HomeHubListItemDragPreview-listItem-OyHI7W HomeHubListItem-listItem-1WDVJ0"})))}}const FV=(0,gx.rE)((function(e,t){const n=e.getItem(),i={item:n,style:null},s=e.getInitialSourceClientOffset(),r=e.getSourceClientOffset();if(e.getItemType()===Cx&&s&&r){let e=r.y;e-n.listTop<=0?e=n.listTop:e+VV>=n.listBottom&&(e=n.listBottom-VV),i.style=jV({x:s.x,y:e},n.listWidth)}return i}))(BV);var HV=Object.prototype.hasOwnProperty,_V=Object.getOwnPropertySymbols,QV=Object.prototype.propertyIsEnumerable,GV=Object.assign;const YV={beginDrag(e,t,n){const{homeHubID:i,listIndex:s,isRemoved:r,listHeight:a,listWidth:o,listTop:l,listRight:c,listBottom:d,listLeft:u}=e;return{dragIndex:s,homeHubID:i,isRemoved:r,listHeight:a,listWidth:o,listTop:l,listRight:c,listBottom:d,listLeft:u}},endDrag(e,t,n){e.onItemDragEnd({didDrop:t.didDrop()})}},WV={hover(e,t,n){const i=t.getClientOffset(),s=(0,v.findDOMNode)(n).getBoundingClientRect(),r=(s.bottom-s.top)/2,a=i.y-s.top,o=t.getItem().dragIndex,l=e.listIndex;let c;c=l===o?l:a>r?l+1:l,e.onItemDragMove({dragIndex:o,dropIndex:c})}};class KV extends y.Component{componentDidMount(){this.props.connectDragPreview((0,tL.rX)())}render(){const e=this.props,{isOver:t,isDragging:n,listIndex:i,dropIndex:s,listHeight:r,listWidth:a,listTop:o,listRight:l,listBottom:c,listLeft:d,isDraggingBefore:u,isDraggingAfter:p,connectDropTarget:m}=e,h=((e,t)=>{var n={};for(var i in e)HV.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&_V)for(var i of _V(e))t.indexOf(i)<0&&QV.call(e,i)&&(n[i]=e[i]);return n})(e,["isOver","isDragging","listIndex","dropIndex","listHeight","listWidth","listTop","listRight","listBottom","listLeft","isDraggingBefore","isDraggingAfter","connectDropTarget"]);return m(y.createElement("div",{className:we()("HomeHubListItemDragSource-container-2dj3-d",t&&"HomeHubListItemDragSource-isOver-W6Ufqd",n&&Cn.fN,t&&u&&Cn.DT,t&&p&&Cn.QZ)},y.createElement(OV,GV({},h))))}}const qV=(0,gx.GR)(Cx,WV,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((0,gx.Ej)(Cx,YV,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(KV));var $V=Object.assign;const JV={dragIndex:-1,dropIndex:-1,hasValidDropTarget:!1};class XV extends y.Component{constructor(e,t){super(e,t),this.onItemDragMove=e=>{const{dragIndex:t,dropIndex:n}=e,{dragIndex:i,dropIndex:s}=this.state;let r=n!==s?n:s;const a=t!==i?t:i;if((r===a||r>a&&r-a==1)&&(r=-1),a!==i||r!==s){const e={dragIndex:a,dropIndex:r,hasValidDropTarget:-1!==r};this.setState(e)}},this.onItemDragEnd=e=>{const{dragIndex:t,dropIndex:n}=this.state;let i;e.didDrop&&-1!==n&&(i=()=>{this.props.onReorderHomeHub({fromIndex:t,toIndex:n>t?n-1:n})}),this.setState(JV,i)},this.onMeasure=e=>{const{height:t,width:n,x:i,y:s}=e;this.setState({listHeight:t,listWidth:n,listTop:s,listRight:i+n,listBottom:s+t,listLeft:i})},this.state=$V($V({},JV),{listHeight:0,listWidth:0,listTop:0,listRight:0,listBottom:0,listLeft:0})}render(){const{className:e,homeHubs:t,removedHomeHubIDs:n,onToggleRemoveHomeHub:i}=this.props,{dropIndex:s,hasValidDropTarget:r}=this.state;return y.createElement(OC.Z,{className:e,ignoreTransforms:!0,onMeasure:this.onMeasure},y.createElement(wN.Z,{className:"SortableHomeHubs-scroller-2j70Sj Scroller-scroller-1krvWC",scrollDirection:vb.yZ},t.map((({id:e},t)=>{const a=t,o=r&&s===a,l=r&&s===a+1;return y.createElement(qV,$V($V({},this.state),{key:e,homeHubID:e,listIndex:a,hasValidDropTarget:r,isRemoved:!!n[e],isDraggingAfter:l,isDraggingBefore:o,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd,onToggleRemoveHomeHub:i}))})),y.createElement(hV.Z,null,y.createElement(FV,null))))}}XV.defaultProps={className:"SortableHomeHubs-container-2i1mEG Measure-container-14qPC5"};const eB=$O(XV),tB="EditHomeModalContent-pane-2LPs6F ModalBody-innerModalBody-jCNoJl",nB="EditHomeModalContent-isHidden-19_FRp",iB="EditHomeModalContent-centeredContainer-2E0ZOa",sB="EditHomeModalContent-stackedButtonsContainer-lSXdUz",rB="EditHomeModalContent-reloadIcon-2UZKrO",aB="EditHomeModalContent-splitButton-2fSRd3 ModalFooter-splitButton-iT4jXj ModalFooter-button-1lvYxT Button-button-31pe5T Link-link-3v-v0b";var oB=Object.assign;function lB(e){return{mode:e,isEditing:1===e,isEmpty:2===e,isResettingCustomization:3===e,isManageAutomaticallyOptIn:4===e,isManagedAutomatically:5===e}}function cB(e){let t;t=e.isAutoHomeHubsEnabled?5:e.homeHubs.length?1:2;const n=lB(t);return n.editableHomeHubs=e.homeHubs,n.homeHubs=e.homeHubs,n.removedHomeHubIDs={},n}class dB extends y.Component{constructor(e,t){super(e,t),this.onSaveButtonPress=()=>{const{editableHomeHubs:e,removedHomeHubIDs:t}=this.state,n=e.reduce(((e,n)=>(n.id in t||e.push(n.id),e)),[]);this.props.onReorderHomeHubs({isUserInitiated:!0,homeHubIDs:n.concat(this.props.hiddenHomeHubIDs)}),this.props.onModalClose()},this.onCancelButtonPress=()=>{this.props.onModalClose()},this.onBackButtonPress=()=>{const e=lB(this.state.editableHomeHubs.length?1:2);this.setState(e)},this.onResetCustomizationLinkPress=()=>{const e=lB(3);this.setState(e)},this.onToggleRemoveHomeHub=e=>{const{removedHomeHubIDs:t}=this.state,n=oB({},t);e in n?delete n[e]:n[e]=e,this.setState({removedHomeHubIDs:n})},this.onReorderHomeHub=({fromIndex:e,toIndex:t})=>{if(e===t)return;const{editableHomeHubs:n}=this.state;this.setState({editableHomeHubs:pV(n,e,t)})},this.onManageHomeAutomaticallyPress=()=>{this.setState(lB(4))},this.onPreviousButtonPress=()=>{this.setState(lB(1))},this.state=cB(e)}static getDerivedStateFromProps(e,t){return e.homeHubs!==t.homeHubs?cB(e):null}render(){const{settingsKey:e,onResetCustomization:t,onEnableAutoHomeHubs:n,onDisableAutoHomeHubs:i,onModalClose:s}=this.props,{editableHomeHubs:r,isEditing:a,isEmpty:o,isResettingCustomization:l,isManagedAutomatically:c,isManageAutomaticallyOptIn:d,removedHomeHubIDs:u}=this.state,p=z.Z.prop("X-Plex-Product");return y.createElement(xL.Z,{onModalClose:s},y.createElement(NL.Z,null,a||o||c?(0,De.Z)("Edit Home Screen"):null,l?(0,De.Z)("Reset Customization"):null,d?(0,De.Z)("Manage Home Automatically?"):null),y.createElement(wL.Z,{className:"EditHomeModalContent-modalBody-1Poux5 ModalBody-modalBody-3v8fMY",innerClassName:"EditHomeModalContent-innerModalBody-2kxLLc",scrollDirection:vb.Hn},y.createElement("div",{className:we()(tB,o?null:nB)},y.createElement("p",null,(0,De.Z)('Your home screen is currently empty. Click the "+" beside the title of any content row in a media source to add it to your home screen, or click "{buttonLabel}" below to reset your sidebar navigation and home screen layout to the default state, and revisit {productName} Setup.',{buttonLabel:(0,De.Z)("Reset Customization"),productName:p}))),y.createElement("div",{className:we()(tB,"EditHomeModalContent-editPane-3EFN5e",a?null:nB)},y.createElement("p",null,(0,De.Z)("Drag to reorder the content hubs shown on your home screen, or remove them entirely. Only hubs with content in them will be visible on your home screen.")),y.createElement("p",{className:iB},y.createElement(AM.Z,{kind:fo._8,onPress:this.onManageHomeAutomaticallyPress},y.createElement(iu.Z,null)," ",(0,De.Z)("Manage Home Automatically"))),a?y.createElement(eB,{className:"EditHomeModalContent-sortableServers-14mEkB SortableHomeHubs-container-2i1mEG Measure-container-14qPC5",homeHubs:r,removedHomeHubIDs:u,onReorderHomeHub:this.onReorderHomeHub,onToggleRemoveHomeHub:this.onToggleRemoveHomeHub}):null),y.createElement("div",{className:we()(tB,l?null:nB)},y.createElement("p",null,(0,De.Z)("You are about to reset your sidebar navigation and home screen layout to the default state. You’ll be redirected to the {productName} Setup screen, where you can choose a server (if you have access to more than one) and other media providers from which to build your navigation and home screen content.",{productName:p}))),y.createElement("div",{className:we()(tB,d?null:nB)},y.createElement("p",null,(0,De.Z)("Plex can use your pinned sources and other hints to provide home screen content that is valuable to you.  This will reset any home screen customization you have made.")),y.createElement("p",{className:we()(sB,iB)},y.createElement($h.Z,{kind:fo._8,onPress:n},(0,De.Z)("Let's do it!")))),y.createElement("div",{className:we()(tB,c?null:nB)},y.createElement("p",null,(0,De.Z)("Plex is currently managing your home screen automatically.")),y.createElement("p",null,(0,De.Z)("Plex uses your pinned sources and other hints to provide home screen content that is valuable to you. If you disable this setting, Plex will no longer be able to automatically suggest home screen content.")),y.createElement("p",{className:we()(sB,iB)},y.createElement($h.Z,{kind:fo._8,onPress:s},(0,De.Z)("Continue With Automatic"))),y.createElement("p",{className:iB},y.createElement($h.Z,{onPress:i},(0,De.Z)("Disable (Manually Manage)"))))),c?null:y.createElement(TL.Z,{className:"EditHomeModalContent-footer-G8dmWw ModalFooter-modalFooter-3ru3TD"},a?y.createElement(y.Fragment,{key:e},y.createElement(AM.Z,{kind:fo._8,onPress:this.onResetCustomizationLinkPress},y.createElement(mV.Z,{className:rB}),(0,De.Z)("Reset Customization")),y.createElement($h.Z,{className:aB,onPress:this.onCancelButtonPress},(0,De.Z)("Cancel")),y.createElement($h.Z,{className:"EditHomeModalContent-button-3AJufL ModalFooter-button-1lvYxT Button-button-31pe5T Link-link-3v-v0b","data-autofocus":!0,kind:fo._8,onPress:this.onSaveButtonPress},(0,De.Z)("Save"))):null,o?y.createElement(y.Fragment,null,y.createElement(AM.Z,{kind:fo._8,onPress:this.onResetCustomizationLinkPress},y.createElement(mV.Z,{className:rB}),(0,De.Z)("Reset Customization")),y.createElement($h.Z,{className:aB,"data-autofocus":!0,kind:fo._8,onPress:this.onCancelButtonPress},(0,De.Z)("Close"))):null,l?y.createElement(y.Fragment,null,y.createElement($h.Z,{onPress:this.onBackButtonPress},(0,De.Z)("Back")),y.createElement($h.Z,{className:aB,"data-autofocus":!0,onPress:this.onCancelButtonPress},(0,De.Z)("Cancel")),y.createElement($h.Z,{kind:fo.T,onPress:t},(0,De.Z)("Reset Customization"))):null,d?y.createElement(y.Fragment,null,y.createElement($h.Z,{onPress:this.onPreviousButtonPress},(0,De.Z)("Previous"))):null))}}const uB=dB,pB=(0,de.P1)(uV,ve,((e,t)=>{const n=[],i=[];return e.hubs.forEach((e=>{e.isHidden?i.push(e.id):n.push(e)})),{isAutoHomeHubsEnabled:t,homeHubs:n,hiddenHomeHubIDs:i,settingsKey:e.settingsKey}})),mB=(0,f.$j)(pB,(function(e){return{onReorderHomeHubs(t){e((0,dE.vC)(t))},onResetCustomization(){e((0,dE.mo)())},onEnableAutoHomeHubs(){e((0,dE.FT)())},onDisableAutoHomeHubs(){e((0,dE.HH)())}}}))(uB),hB=function(e){const{isOpen:t,onModalClose:n}=e;return y.createElement(PL.Z,{size:vc.M2,isOpen:t,metricsPage:et.Sd,onModalClose:n},y.createElement(mB,{onModalClose:n}))};function gB(){const[e,t]=(0,y.useState)(!1),n=(0,f.v9)(ch),i=(0,f.v9)(Lt.Z),s=(0,y.useCallback)((()=>{t(!e)}),[e]),r=(0,y.useCallback)((()=>{t(!1)}),[]);return n?y.createElement(Gh,null):y.createElement(Ph,null,y.createElement(WR.Z,null,y.createElement(zZ.Z,null,(0,De.Z)("Home"))),y.createElement(fk,null,i?null:y.createElement(y.Fragment,null,y.createElement(dV,null,y.createElement(iz,{onPress:s})),y.createElement(cV,null)),y.createElement(SM,{listStyles:[Bt.n.Grid],selectedListStyle:Bt.n.Grid}),y.createElement(hB,{isOpen:e,onModalClose:r})))}var yB=n(29150);const vB=(0,de.P1)(HU,(e=>!!e.session));function fB({isOpen:e,title:t,errorMessage:n,metricsPage:i,onModalClose:s}){return y.createElement(xt.ZP,{metricsPage:i},y.createElement(lc,{isOpen:e,size:We.Small,onModalClose:s},y.createElement(dc,{onModalClose:s},y.createElement(mc,{className:"WatchTogetherRoomErrorModal-modalHeader-3XfmYj ModalHeader-modalHeader-aJOI_i"},t),y.createElement(Ed,null,n))))}function IB({className:e="WatchTogetherHubItemPosterCard-card-2vzdV6 PosterCard-card-2-REtd",watchTogetherRoom:t,metadataItem:n,width:i,height:s,aspectRatio:r}){const[a,o]=cn(),l=(0,f.I0)(),c=(0,Dl.Z)(),d=(0,f.v9)(vB),[u,p]=aa(),{isOpen:m,onClose:h,onToggle:g}=(0,Dl.Z)(),v=(0,ra.Z)(),{entityID:I,title:b,metadataItemError:M}=t,S=m||u,E=(0,y.useCallback)((()=>{M?c.onOpen():l(yB.ib({watchTogetherRoomEntityID:I}))}),[l,I,M,c]),D=(0,y.useCallback)((()=>{E(),h()}),[E,h]),C=(0,y.useCallback)((()=>{l(sU.GX({watchTogetherRoomEntityID:I})),h()}),[l,I,h]),P=(0,y.useCallback)((()=>{c.onClose()}),[c]);return y.createElement(qn,{className:e,style:{width:i,height:s},ref:p},n?y.createElement(ft.Z,{className:"WatchTogetherHubItemPosterCard-image-13WlXC",serverEntityID:a.entityID,providerEntityID:o.entityID,url:ua(n,{aspectRatio:r}),width:i,height:s,component:mt.Z,allowSizeBracket:!0,preloadOnMount:!1,animateOnMount:!1}):y.createElement(Ca,{className:"WatchTogetherHubItemPosterCard-iconContainer-38nuER PosterCardIcon-container-UpQIlp",width:i,height:s},y.createElement(ps.Z,null)),y.createElement(Aa,{"aria-label":b,className:"WatchTogetherHubItemPosterCard-link-3PEQkF PosterCardLink-link-2mWlqA Link-link-2WGTd7",hoverClassName:"WatchTogetherHubItemPosterCard-hoveredLink-3LpBie PosterCardLink-hoveredLink-3BYG1D PosterCardLink-link-2mWlqA Link-link-2WGTd7",isHovered:u||m,onPress:E}),y.createElement(_d,{id:v,className:S?"WatchTogetherHubItemPosterCard-moreButton-3ED0MB MetadataPosterCardActions-moreButton-2gEa9g MetadataPosterCardActions-button--q7OIG Link-link-2WGTd7":"WatchTogetherHubItemPosterCard-hiddenMoreButton-1w_1hM WatchTogetherHubItemPosterCard-moreButton-3ED0MB MetadataPosterCardActions-moreButton-2gEa9g MetadataPosterCardActions-button--q7OIG Link-link-2WGTd7 MetadataPosterCardActions-isHidden-3a_54z",isPending:!1,onPress:g}),y.createElement(mo.Z,{target:v,isOpen:m,onMenuClose:h},y.createElement(ho.Z,{"aria-label":(0,De.Z)("Join"),isDisabled:d||c.isOpen,onPress:D},(0,De.Z)("Join")),y.createElement(ho.Z,{"aria-label":(0,De.Z)("Remove"),isDisabled:c.isOpen,onPress:C},(0,De.Z)("Remove"))),y.createElement(fB,{isOpen:c.isOpen,title:(0,De.Z)("Cannot access this item"),errorMessage:M,metricsPage:et.Gc,onModalClose:P}))}const bB="WatchTogetherHubItem-card-r_sn9y WatchTogetherHubItemPosterCard-card-2vzdV6 PosterCard-card-2-REtd",MB="WatchTogetherHubItem-secondaryTitle-1JTMFc WatchTogetherHubItem-title-2k0OXc MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m MetadataPosterCardTitle-isSecondary-3Nh6J0";var SB=Object.prototype.hasOwnProperty,EB=Object.getOwnPropertySymbols,DB=Object.prototype.propertyIsEnumerable;const CB=li;function PB(e){var{item:t}=e,n=((e,t)=>{var n={};for(var i in e)SB.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&EB)for(var i of EB(e))t.indexOf(i)<0&&DB.call(e,i)&&(n[i]=e[i]);return n})(e,["item"]);const i=(0,f.I0)(),s=Br(n),r=(0,f.v9)((c=null==t?void 0:t.metadataItem,(0,de.P1)(EC.Z,(e=>c?e[c]:void 0)))),a=(0,y.useMemo)((()=>di({width:n.cellWidth,aspectRatio:CB})),[n.cellWidth]),o=(0,y.useMemo)((()=>t?(0,Xm.Z)(t.users.map((e=>e.title))):""),[t]),l=(0,y.useMemo)((()=>(null==r?void 0:r.source)?(0,Vn.Z)(r.source):null),[null==r?void 0:r.source]);var c;return(0,y.useEffect)((()=>{!t||t.isMetadataItemPopulated||t.metadataItemError||i((0,sU.TN)({watchTogetherRoomEntityID:t.entityID}))}),[i,t]),!t||(null==t?void 0:t.isMetadataItemPending)?y.createElement("div",{style:s.style},y.createElement(Jn,{className:bB,style:a,index:n.cellIndex})):(null==t?void 0:t.isMetadataItemPopulated)&&r&&l?y.createElement(dn,{machineIdentifier:l.serverIdentifier,providerIdentifier:l.providerIdentifier},y.createElement("div",{style:s.style},y.createElement(IB,{className:bB,watchTogetherRoom:t,metadataItem:r,width:a.width,height:a.height,aspectRatio:CB}),y.createElement("div",{className:"WatchTogetherHubItem-title-2k0OXc MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m",title:t.title},t.title),y.createElement("div",{className:MB,title:o},o))):y.createElement("div",{style:s.style},y.createElement(IB,{className:bB,watchTogetherRoom:t,width:a.width,height:a.height,aspectRatio:CB}),y.createElement("div",{className:"WatchTogetherHubItem-splitTitleContainer-1YMhIP"},y.createElement("span",{className:"WatchTogetherHubItem-splitLineTitle-1Dmvd5 WatchTogetherHubItem-title-2k0OXc MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m",title:t.title},t.title),y.createElement("span",{className:"WatchTogetherHubItem-splitLineSecondaryTitle-mj1q59 WatchTogetherHubItem-secondaryTitle-1JTMFc WatchTogetherHubItem-title-2k0OXc MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m MetadataPosterCardTitle-isSecondary-3Nh6J0 WatchTogetherHubItem-splitLineTitle-1Dmvd5 WatchTogetherHubItem-title-2k0OXc MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m",title:(0,De.Z)("No Access")},(0,De.Z)("No Access"))),y.createElement("div",{className:MB,title:o},o))}function wB(){return y.createElement(zp,{hub:{attribution:xp.WatchTogether}},(0,De.Z)("Watch Together"))}var TB=Object.assign;const ZB={source:"watchTogether",sourceURI:"watch-together"};function NB({hubLayoutOptions:e,className:t,hubHeaderClassName:n}){const i=(0,f.I0)(),s=(0,f.v9)(HU),r=(0,f.v9)(_U),a=(0,f.v9)(gp),o=(0,Dl.Z)(),{sessionError:l}=s,c=(0,y.useMemo)((()=>Gu(TB({listType:Bt.U.Mixed,listStyle:Bt.n.Hero,columnWidth:a,titleCount:2},e))),[a,e]),d=(0,y.useCallback)((()=>{i(yB.j3())}),[i]);(0,y.useEffect)((()=>{l?o.onOpen():o.isOpen&&o.onClose()}),[o,l]);const u=(0,y.useCallback)((e=>y.createElement(PB,TB({},e))),[]);return y.createElement(y.Fragment,null,y.createElement(hp,{className:t,hubHeaderClassName:n,hub:ZB,hubTitleComponent:wB,keyPropName:"id",items:r,totalSize:r.length,layout:c,cellComponentFactory:u}),y.createElement(fB,{isOpen:o.isOpen,title:(0,De.Z)("Watch Together session error"),errorMessage:l,metricsPage:et.Gc,onModalClose:d}))}var AB=Object.assign;function xB(e){return!!e&&e<=Date.now()-864e5}function LB(){const e=(0,f.I0)(),t=(0,f.v9)(EU),n=(0,f.v9)(WU),i=(0,f.v9)(qU),s=(0,f.v9)($U),r=(0,f.v9)(rU),a=(0,f.v9)(aU),o=(0,f.v9)(BU),l=(0,f.v9)(QU),c=(0,f.v9)(zU);let d=0;l&&d++,c&&d++;const u=(0,y.useRef)(new Set),[p,m]=(0,y.useState)(!1),{isPending:h,isPopulated:g,isUnavailable:v,isError:I,isEmpty:b,hasNoPinnedSources:M}=(0,f.v9)(JU),S=(0,y.useCallback)((e=>{u.current.add(e),i.length&&i.every((e=>u.current.has(e)))&&m(!0)}),[i]);$l({mode:tU.Auto},!h);const{scrollRestoreProps:E,onScrollPositionReady:D}=gn({key:"HomePage"});return(0,y.useEffect)((()=>{p&&D()}),[p,D]),(0,y.useEffect)((()=>{xB(s)&&e(RU.actions.reset())}),[e,s]),(0,y.useEffect)((()=>{e(RU.actions.populateAllRequested({hubsSources:t,hubsStates:n,userServices:a}))}),[e,t,n,a]),(0,y.useEffect)((()=>()=>{e(RU.actions.markStaleRequested())}),[e]),(0,y.useEffect)((()=>{const t=()=>{"visible"===document.visibilityState&&xB(s)&&e(RU.actions.reset())};return document.addEventListener("visibilitychange",t),()=>{document.removeEventListener("visibilitychange",t)}}),[e,s]),(0,y.useEffect)((()=>{e((0,sU.Z7)())}),[e]),y.createElement(En,{allowBackgroundLightPreset:!0,scrollDirection:Ne.None},y.createElement(gB,null),h?y.createElement(Ve,null,y.createElement(qe,null)):null,g?y.createElement(Wp,AB({className:"HomePage-homePageContentScroller-2a5_R2 PageContent-pageContentScroller-18TqCp Scroller-scroller-3Rbtv0"},E),l?y.createElement(NB,null):null,c?y.createElement(xU,{metricsRow:l?1:0,onHomeHubsReady:S}):null,t.map((e=>i.includes(e.key)?y.createElement(oV,{key:e.key,hubsSource:e,metricsRowOffset:d,onHomeHubsReady:S}):null))):null,v?y.createElement(Fe,{title:(0,De.Z)("No content available"),description:(0,De.Z)("Check your network connection and verify that any media servers are online.")}):null,I?y.createElement(Fe,{title:(0,De.Z)("Something went wrong"),description:(0,De.Z)("There was an error loading your home screen. Please try again in a few minutes.")}):null,b&&!r?y.createElement(Ve,{iconSrc:String(iU),title:(0,De.Z)("Your home screen is currently empty"),description:(0,De.Z)("There's no content to display based on your currently pinned sources. You can always pin additional sources to your sidebar.")}):null,b&&r?y.createElement(Ve,{iconSrc:String(iU),title:(0,De.Z)("No content available"),description:(0,De.Z)("Kindly ask the Plex Home admin to share content with you.")}):null,M&&o?y.createElement(Ve,{iconSrc:String(iU),title:(0,De.Z)("Your home screen is empty"),description:(0,De.Z)("Your home screen is based on sources pinned to your sidebar. Choose a source from the More menu and pin it to see its content here.")}):null,!M||o||r?null:y.createElement(Ve,{iconSrc:String(iU),title:(0,De.Z)("Add your media to Plex"),description:(0,De.Z)("Organize, beautify, stream, and share your personal collection of movies, TV, music, and photos anywhere, on all your devices. To get started, download our free Plex Media Server software on the device where you store your media.")},y.createElement(zn,{to:Np._N,kind:Dn.Primary,size:We.Large,target:"_self"},(0,De.Z)("Get Plex Media Server"))),M&&!o&&r?y.createElement(Ve,{iconSrc:String(iU),title:(0,De.Z)("No content available"),description:(0,De.Z)("Kindly ask the Plex Home admin to share content with you.")}):null,y.createElement(vU,null))}const OB=e=>e.isPopulated||e.error,jB=(0,de.P1)((e=>e.ui.homePage),(e=>{const{homeHubStatuses:t,isContentPopulated:n}=e;return n||t.length>0&&t.every(OB)})),kB=(0,de.P1)((e=>e.ui.homePage),uV,jB,((e,t,n)=>{const{isProviderPromotedContentPopulated:i,preferredServerContentError:s,providerPromotedContentError:r}=e,{preferredServerID:a,hasSeededPreferredServerContent:o,hasSeededProviderPromotedContent:l}=t,c=!!a,d=o||!!s,u=l||i||!!r,p=c&&!d,m=!u,h=(!c||d)&&u&&!n;return{isPending:h||p||m,isContentPopulated:n,shouldFetchHomeContent:h,shouldFetchPreferredServerContent:p,shouldFetchProviderPromotedContent:m}})),RB=(0,de.P1)(ge,(e=>e.isResourcesPopulated)),zB=(0,de.P1)(ge,(e=>e.hasFailedResources)),UB=(0,de.P1)(RB,zB,(0,Qt.Z)("isProvidersPopulated"),(0,Qt.Z)("providersError"),((e,t,n,i)=>t||!!i||e&&n));var VB=n(47933);const BB=(0,de.P1)(VB.Z,UB,((e,t)=>{const n=e.some((e=>!(!e.provider||!e.provider.isPopulated)&&!!(0,So.Z)(e.provider)));return t&&!n}));function FB(e){return!e.user.isFullUser}var HB=n(92187);var _B=n(94036),QB=n(45960),GB=n(12319),YB=n(44516),WB=n(49517),KB=n(16487),qB=n(85425),$B=n(3241),JB=Object.assign;function XB(e){const{directoryKey:t,server:n,provider:i,options:s,onlyPromoted:r=!1}=e,a=JB(JB({},s),{count:1,persistInCache:!1,skipCache:!0}),o={directoryKey:t,hubModels:[]};return(0,$B.Z)({hubKey:t,server:n,provider:i,options:a}).fetch().then((e=>e.reduce(((e,t)=>((!r||r&&t.get("promoted"))&&e.hubModels.push(t),e)),o)),(()=>o))}var eF=n(33103);function tF(e){const t=e.reduce(((e,t,n)=>{const i=t.get("server").get("machineIdentifier"),s=t.get("provider").get("identifier"),r=t.get("directoryKey"),a=`${i}--${s}--${r}`;return e[a]||(e[a]={directoryKey:r,identifier:s,homeHubIDs:[],machineIdentifier:i}),e[a].homeHubIDs.push(t.get("id")),e}),{});return Object.values(t)}var nF=n(53291),iF=Object.assign;const sF="home/initHomePage",rF="home/fetchHomeContent",aF="home/fetchHomeHubs",oF="home/fetchPreferredServerContent",lF="home/fetchProviderPromotedContent",cF="home/resetHomePage",dF="home/updateHomeHubsStatus",uF=(0,No.Z)(sF),pF=(0,No.Z)(rF),mF=(0,No.Z)(aF),hF=(0,No.Z)(oF),gF=(0,No.Z)(lF),yF=(0,No.Z)(cF),vF=(0,No.Z)(dF);function fF(e){return e.get("user").get("experienceSettings").get("homeSettings")}function IF(e){return e.get("ui").get("homePage")}let bF,MF=[];const SF={[sF](e,t,n){const i=fF(e).get("hubs");Kl.Z.startPeriod(`client:view:${et.Sd}`),tF(i).forEach((e=>{const{identifier:t,homeHubIDs:i,machineIdentifier:s}=e,r={skipCache:!0},a=new GB.ZP({machineIdentifier:s},r),o=new fU.Z({identifier:t},iF(iF({},r),{server:a}));n(vF({homeHubIDs:i,status:{provider:o.entityID(),server:a.entityID()}})),o.uninitialize(),a.uninitialize()}))},[cF](e,t){MF.forEach((e=>e.cancel())),MF=[],bF=window.clearTimeout(bF),IF(e).restoreDefaults()},[dF](e,t){const{homeHubIDs:n,status:i}=t;IF(e).get("homeHubStatuses").set(n.map((e=>iF(iF({},i),{homeHubID:e}))),{remove:!1})},[aF](e,t,n){const{homeHubIDs:i,fetchDelayMS:s,options:r}=t,a=fF(e).get("hubs"),o=a.get(i[0]),l=o.get("server").get("machineIdentifier"),c=o.get("provider").get("identifier"),d=o.get("directoryKey");n(vF({homeHubIDs:i,status:{error:null,isPending:!0,isPopulated:!1}}));let u=e.get("servers").findServer(l).then((e=>e.get("isOutOfDate")?g().Deferred().reject(e).promise():e.get("isPending")?(0,YB.Z)({eventSource:e,events:["change:isPending"]}):g().Deferred().resolve(e).promise()));u=u.then((t=>{const n=t.get("isCloud")?(0,JM.VX)(e):t;return(0,WB.Z)(n.get("providers"),{identifier:c})})),s>0&&(u=function(e,t){return e.then((function(...e){const n=g().Deferred();return window.setTimeout((()=>n.resolve(...e)),t),n.promise()}))}(u,s)),u=u.then((t=>(0,$B.Z)({hubKey:d,server:t.server,provider:t,options:iF(iF({},r),(0,eF.Z)(e))}).fetch()));const p=(0,_B.Z)(u);MF.push(p),p.promise.then((e=>{i.forEach((t=>{const i=a.get(t);if(!i)return;const s={isPending:!1},r=e.findWhere({hubIdentifier:i.get("hubIdentifier")});r?(i.set("title",r.get("title")),s.isPopulated=!0,s.hub=r,s.provider=e.provider.entityID(),s.server=e.provider.server.entityID()):(s.error={isContentUnavailable:!0},D.Z.warn("[Home] home/fetchHomeHubs: missing",i)),n(vF({homeHubIDs:[t],status:s}))}))}),(({isCanceled:e}={})=>{e||n(vF({homeHubIDs:i,status:{isPending:!1,error:{}}}))}))},[rF]:(0,qB.Z)({key:"content",getModel:(e,t)=>e.get("ui").get("homePage"),fetch(e,t,n){const i=fF(e).get("hubs"),s=g().Deferred();return i.length?(tF(i).forEach((e=>{n(mF({homeHubIDs:e.homeHubIDs}))})),bF=window.clearTimeout(bF),bF=window.setTimeout(s.resolve,1e3),s.promise()):s.resolve().promise()}}),[oF]:(0,qB.Z)({key:"preferredServerContent",getModel:(e,t)=>e.get("ui").get("homePage"),fetch(e,t,n){const i=fF(e),s={identifier:pa.Y3},r=i.get("preferredServerID");let a=e.get("servers").findServer(r);return a=a.then((e=>(0,WB.Z)(e.get("providers"),s))),a=a.then((n=>XB({directoryKey:n.get("features").get(mS.Mz).get("key"),server:n.server,provider:n,options:iF(iF({},t.options),(0,eF.Z)(e))}))),a.then((e=>{const{directoryKey:t,hubModels:i}=e,s=i.map((e=>({directoryKey:t,model:e})));n((0,dE.QG)({hubs:s}))}),(()=>g().Deferred().reject({}).promise()))}}),[lF]:(0,qB.Z)({key:"providerPromotedContent",getModel:(e,t)=>e.get("ui").get("homePage"),fetch(e,t,n){const i={type:mS.Mz},s=e.get("user").get("experienceSettings").get("sidebarSettings").get("pinnedSources"),r=(0,JM.VX)(e).get("providers"),a=r.map((e=>(0,KB.Z)(e))),o=e.get("user").toJSON(),l=(0,Wa.n)(o.features,o.services);return(0,QB.Z)(a).then((()=>{const e=r.reduce(((e,t)=>{if(!t.get("isPopulated"))return e;if(!s.findWhere({providerIdentifier:t.get("identifier"),machineIdentifier:t.server.get("machineIdentifier")}))return e;const n=t.get("features").findWhere(i);return n&&(0,_o.d)(l,n.toJSON())&&e.push(n),e}),[]);return(0,QB.Z)(e.map((e=>XB({directoryKey:DM.D,server:e.server,provider:e.provider,options:t.options||{},onlyPromoted:!0}))))})).then(((...e)=>{const t=e.reduce(((e,t)=>{const{directoryKey:n,hubModels:i}=t;return e.push(...i.map((e=>({directoryKey:n,model:e})))),e}),[]);n((0,dE.tF)({hubs:t}))}),(()=>g().Deferred().reject({}).promise()))}}),[dE.ye](e,t){e.get("ui").get("homePage").restoreDefaults()},[dS._z](e,t,n){const i=IF(e).get("homeHubStatuses").reduce(((e,t)=>{const n=t.get("hub");return n?e.concat(n):e}),[]);i.count=$B.y,(0,nF.Z)({actionCreator:cb.u6,dispatch:n,hubs:i,serverModel:(0,JM.SW)(e,t)})}};var EF=n(82737);const DF=function(){return y.createElement(Gz.Z,{iconSrc:iU,title:(0,De.Z)("No content available"),description:(0,De.Z)("Kindly ask the Plex Home admin to share content with you.")})},CF=(0,de.P1)(fe.Z,(e=>e.hasDismissedServerDownloadMessage)),PF=(0,de.P1)(CF,(e=>({hasDismissedServerDownloadMessage:e}))),wF={dispatchSaveDeviceSettings:pn.T5},TF=(0,f.$j)(PF,wF)((function(e){const{hasDismissedServerDownloadMessage:t,dispatchSaveDeviceSettings:n}=e,i=(0,y.useCallback)((()=>{n({hasDismissedServerDownloadMessage:!0})}),[n]);return y.createElement(Gz.Z,{iconSrc:iU,title:(0,De.Z)("Add your media to Plex"),description:(0,De.Z)("Organize, beautify, stream, and share your personal collection of movies, TV, music, and photos anywhere, on all your devices. To get started, download our free Plex Media Server software on the device where you store your media.")},y.createElement($h.Z,{to:Np._N,kind:fo._8,size:vc.ln,target:"_self"},(0,De.Z)("Get Plex Media Server")),t?null:y.createElement(sM.Z,null,y.createElement(AM.Z,{kind:fo._8,size:vc.HC,to:"#",onPress:i},(0,De.Z)("Don't show this in my Pinned Sources sidebar"))))})),ZF=(0,oC.Z)((0,de.P1)(uV,(({hubs:e})=>e)),(e=>e)),NF=(0,de.P1)(ZF,(e=>e.map((e=>e.id))));var AF=n(71675);function xF(e,t=YC.Y3){switch(e){case"home.continue":return YC.wl;case"home.newscast":return YC.RK;case"home.recommended":return YC.g$;case"home.watchTogether":return YC.Bs;default:return t}}function LF(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-home-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M84 448V291.598a28 28 0 0 1 8.201-19.799L280 84l187.799 187.799A28 28 0 0 1 476 291.598V448c0 15.464-12.536 28-28 28H322V336h-84v140H112c-15.464 0-28-12.536-28-28z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}LF.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const OF=LF,jF="HubTitleToggleHomeHubButton-isHidden-1ODZkX",kF="HubTitleToggleHomeHubButton-isVisible-AeLh63";class RF extends y.Component{constructor(e,t){super(e,t),this.onPress=()=>{const{isHomeHub:e,shouldConfirmHomeHubRemoval:t,onToggleHomeHub:n}=this.props;e&&t?this.setState({isRemoveConfirmModalOpen:!0}):n()},this.onRemoveHomeHubConfirm=()=>{this.setState({isRemoveConfirmModalOpen:!1},this.props.onToggleHomeHub)},this.onRemoveHomeHubCancel=()=>{this.setState({isRemoveConfirmModalOpen:!1})},this.onFocus=e=>{this.setState({isFocused:!0})},this.onBlur=e=>{this.setState({isFocused:!1})},this.onMouseEnter=e=>{this.setState({isEntered:!0})},this.onMouseLeave=e=>{this.setState({isEntered:!1})},this.state={isEntered:!1,isFocused:!1,isRemoveConfirmModalOpen:!1}}render(){const{allowHomeHubIndicator:e,className:t,isHomeHub:n,isVisible:i,shouldConfirmHomeHubRemoval:s}=this.props,{isEntered:r,isFocused:a,isRemoveConfirmModalOpen:o}=this.state,l=n&&e,c=r||a;return y.createElement("div",{className:we()(t,i||c?kF:jF)},l?y.createElement(OF,{className:we()("HubTitleToggleHomeHubButton-icon-17ux5d AddOrRemoveButton-icon-Thd0HG",l&&!c?kF:jF)}):null,y.createElement(ZV,{className:we()("HubTitleToggleHomeHubButton-button-2a2WsF AddOrRemoveButton-button-q1Kjze IconButton-button-2smHOM",!l||c?kF:jF),isMonochrome:!0,isRemovable:n,tooltip:n?(0,De.Z)("Remove from Home"):(0,De.Z)("Add to Home"),onPress:this.onPress,onFocus:this.onFocus,onBlur:this.onBlur,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),s?y.createElement(nt.Z,{isOpen:o,metricsPage:"",title:(0,De.Z)("Remove From Home"),message:(0,De.Z)("Please confirm you'd like to remove this content from your home screen. You can add it back later if you change your mind."),onConfirm:this.onRemoveHomeHubConfirm,onCancel:this.onRemoveHomeHubCancel}):null)}}RF.defaultProps={className:"HubTitleToggleHomeHubButton-container-3-CNfv",shouldConfirmHomeHubRemoval:!1};const zF=RF;function UF(){return(0,de.P1)(((e,{hubEntityID:t})=>t),IV,((e,t)=>t[e]))}var VF=n(45435);function BF(){return(0,de.P1)((0,de.P1)(uV,Kh.Z,Wh.Z,UF(),((e,t,n,i)=>{if(!(i&&n&&t&&e.hubs))return;const s=VF.X(i,n,t);return e.hubs.find((e=>e.id===s))})),(e=>!!e))}const FF=/^(?:(?:[a-zA-Z]+)(?:\.)?)+(?:\.[0-9]+){2}$/,HF="channels",_F="directory";var QF=Object.prototype.hasOwnProperty,GF=Object.getOwnPropertySymbols,YF=Object.prototype.propertyIsEnumerable,WF=Object.assign;const KF={dispatchAddHomeHubs:dE.CQ,dispatchRemoveHomeHubs:dE.oz};class qF extends y.Component{constructor(){super(...arguments),this.onAddHomeHub=()=>{const{dispatchAddHomeHubs:e,directoryKey:t,hubEntityID:n}=this.props;e({isUserInitiated:!0,hubs:[{directoryKey:t,entityID:n}]})},this.onRemoveHomeHub=()=>{const{dispatchRemoveHomeHubs:e,homeHubID:t,hubEntityID:n}=this.props,i=[];t?i.push({homeHubID:t}):n&&i.push({entityID:n}),e({isUserInitiated:!0,hubs:i})},this.onToggleHomeHub=()=>{const{canAddHomeHub:e,canRemoveHomeHub:t}=this.props;t?this.onRemoveHomeHub():e&&this.onAddHomeHub()}}render(){const e=this.props,{canAddHomeHub:t,canRemoveHomeHub:n,component:i,directoryKey:s,dispatchAddHomeHubs:r,dispatchRemoveHomeHubs:a,hubEntityID:o,isHomeHub:l}=e,c=((e,t)=>{var n={};for(var i in e)QF.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&GF)for(var i of GF(e))t.indexOf(i)<0&&YF.call(e,i)&&(n[i]=e[i]);return n})(e,["canAddHomeHub","canRemoveHomeHub","component","directoryKey","dispatchAddHomeHubs","dispatchRemoveHomeHubs","hubEntityID","isHomeHub"]);return t||n?y.createElement(i,WF(WF({},c),{isHomeHub:l,onAddHomeHub:this.onAddHomeHub,onRemoveHomeHub:this.onRemoveHomeHub,onToggleHomeHub:this.onToggleHomeHub})):null}}const $F=(0,f.$j)((function(){return(0,de.P1)(((e,{directoryKey:t})=>t),((e,{homeHubID:t})=>t),UF(),BF(),((e,t,n,i)=>{const s=!!n&&n.type!==_F;return t?{isHomeHub:!0,canAddHomeHub:!1,canRemoveHomeHub:!0}:{isHomeHub:i,canAddHomeHub:(r=n.hubIdentifier,!FF.test(r)&&s&&!i&&!!e),canRemoveHomeHub:s&&i};var r}))}),KF)(qF);var JF=Object.prototype.hasOwnProperty,XF=Object.getOwnPropertySymbols,eH=Object.prototype.propertyIsEnumerable,tH=Object.assign;class nH extends y.Component{constructor(e,t){super(e,t),this.onMouseEnter=e=>{this.setState({hasMouseEntered:!0})},this.onMouseLeave=e=>{this.setState({hasMouseEntered:!1})},this.state={hasMouseEntered:!1}}render(){const e=this.props,{allowPersistentHomeHubStatus:t,allowToggleHomeHub:n,children:i,className:s,isHomeHub:r}=e,a=((e,t)=>{var n={};for(var i in e)JF.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&XF)for(var i of XF(e))t.indexOf(i)<0&&eH.call(e,i)&&(n[i]=e[i]);return n})(e,["allowPersistentHomeHubStatus","allowToggleHomeHub","children","className","isHomeHub"]),{hasMouseEntered:o}=this.state;return y.createElement("div",{className:s,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},n?y.createElement($F,tH(tH({},a),{component:zF,isHomeHub:r,isVisible:o||t&&r})):null,i)}}nH.defaultProps={className:"HubCellHeader-hubCellHeader-G-yd6D"};const iH=nH;function sH({children:e,className:t}){return y.createElement("div",{className:t,"data-qa-id":"hubTitle"},e)}sH.defaultProps={className:"HubCellTitle-hubCellTitle-3JEg8R"};const rH=sH,aH=function(e){const{onModalClose:t}=e;return y.createElement(y.Fragment,null,y.createElement(NL.Z,null,(0,De.Z)("Down for Maintenance")),y.createElement(wL.Z,null,(0,De.Z)("Plex is down for maintenance. Don't worry, it will be back soon.")),y.createElement(TL.Z,null,y.createElement($h.Z,{to:Np.S7,"data-autofocus":!0,target:"_blank",kind:fo._8,onPress:t},"status.plex.tv")))},oH=function(e){const{onModalClose:t}=e;return y.createElement(y.Fragment,null,y.createElement(NL.Z,null,(0,De.Z)("Content is Unavailable")),y.createElement(wL.Z,null,(0,De.Z)("The content provider is working normally but did not return content. The content may no longer be available.")),y.createElement(TL.Z,null,y.createElement($h.Z,{"data-autofocus":!0,kind:fo._8,onPress:t},(0,De.Z)("Okay"))))};var lH=n(76723);const cH=(0,f.$j)((function(){return(0,de.P1)((0,HM.Z)(),(e=>({friendlyName:e.friendlyName,isInstallingServerUpdate:e.isInstallingServerUpdate,isOutOfDate:e.isOutOfDate,isUnauthorized:e.isUnauthorized,isUnavailable:e.isUnavailable,sourceTitle:e.sourceTitle})))}))((function(e){const{friendlyName:t,isInstallingServerUpdate:n,isOutOfDate:i,isUnauthorized:s,isUnavailable:r,onModalClose:a}=e,o=[];let l=(0,De.Z)("Server is Unavailable");return n?o.push((0,De.Z)('The server "{serverName}" is installing an update.',{serverName:t}),(0,De.Z)("Grab a cup of tea. This may take a couple of minutes.")):i?(l=(0,De.Z)("Update Required"),o.push((0,De.Z)('The server "{serverName}" is out of date.',{serverName:t}),(0,De.Z)("This version of Plex requires Plex Media Server {version} or higher.",{version:"1.18.3"}))):s?o.push((0,De.Z)("No soup for you!"),(0,De.Z)("You do not have access to this server.")):r&&o.push((0,De.Z)('The server "{serverName}" is unavailable.',{serverName:t}),(0,De.Z)("Plex will automatically try to reconnect to this server.")),y.createElement(y.Fragment,null,y.createElement(NL.Z,null,l),y.createElement(wL.Z,null,o.join(" ")),y.createElement(TL.Z,null,y.createElement($h.Z,{className:lH.Z.button,"data-autofocus":!0,kind:fo._8,onPress:a},(0,De.Z)("Okay"))))})),dH=function(e){const{onModalClose:t}=e,n=[(0,De.Z)("There was an unexpected error."),(0,De.Z)("Please visit our forums if you continue to experience problems.")];return y.createElement(y.Fragment,null,y.createElement(NL.Z,null,(0,De.Z)("Content is Unavailable")),y.createElement(wL.Z,null,n.join(" "),y.createElement("br",null),y.createElement(AM.Z,{to:Np.bB,target:"_self",kind:fo._8,onPress:t},(0,De.Z)("Go to Forums"))),y.createElement(TL.Z,null,y.createElement($h.Z,{className:lH.Z.button,"data-autofocus":!0,kind:fo._8,onPress:t},(0,De.Z)("Okay"))))},uH=function(e){const{onModalClose:t}=e,n=[(0,De.Z)("The server associated with this content is no longer accessible."),(0,De.Z)("You can safely remove this content.")];return y.createElement(y.Fragment,null,y.createElement(NL.Z,null,(0,De.Z)("Unknown Server")),y.createElement(wL.Z,null,n.join(" ")),y.createElement(TL.Z,null,y.createElement($h.Z,{className:lH.Z.button,"data-autofocus":!0,kind:fo._8,onPress:t},(0,De.Z)("Okay"))))},pH=(0,f.$j)((function(){return(0,de.P1)(vV(),MV(),((e,t)=>{const{error:n,server:i}=e,s={};if(n&&n.isContentUnavailable)s.shouldShowHubStatus=!0;else if(t){const{isDownForMaintenance:e,isInstallingServerUpdate:n,isOutOfDate:r,isUnavailable:a,isUnauthorized:o}=t;s.serverEntityID=i,e?s.shouldShowDownForMaintenance=!0:(a||o||n||r)&&(s.shouldShowServerStatus=!0)}else s.shouldShowUnrecognized=!0;return s.shouldShowHubStatus||s.shouldShowDownForMaintenance||s.shouldShowServerStatus||s.shouldShowUnrecognized||(s.shouldShowUnexpectedError=!0),s}))}))((function(e){const{isOpen:t,serverEntityID:n,shouldShowDownForMaintenance:i,shouldShowHubStatus:s,shouldShowServerStatus:r,shouldShowUnexpectedError:a,shouldShowUnrecognized:o,onModalClose:l}=e;return y.createElement(PL.Z,{size:vc.HC,isOpen:t,metricsPage:et.Sd,onModalClose:l},y.createElement(xL.Z,{onModalClose:l},i?y.createElement(aH,{onModalClose:l}):null,s?y.createElement(oH,{onModalClose:l}):null,r?y.createElement(cH,{serverEntityID:n,onModalClose:l}):null,a?y.createElement(dH,{onModalClose:l}):null,o?y.createElement(uH,{onModalClose:l}):null))}));var mH=n(57791);function hH(e){const{cellWidth:t,aspectRatio:n,titleHeight:i=0}=e;return Math.floor(t/n+i)}function gH(e,t){const{innerViewportWidth:n,innerHorizontalPadding:i=0}=t;return Math.floor((n+i)/e)-i}function yH(e){const{innerViewportWidth:t,innerHorizontalPadding:n=0,preferredCellWidth:i,minCellWidth:s,minColumns:r=1,maxColumns:a=1/0,columnAdjustment:o=0}=e;let l=Math.round((t+n)/(i+n));l+=o,l=Math.max(Math.min(l,a),r);let c=gH(l,e);return c<s&&(c=l===r?s:gH(l-1,e)),c}function vH(e){return e===YC.wl||e===YC.RK||e===YC.Bs}function fH({type:e,aspectRatio:t,titleCount:n,context:i}){const s=parseInt(ku.Z.posterTitleHeight,10);let r,a,o,l,c,d=parseInt(ku.Z.posterTitlePadding,10);return vH(i)?(r=Math.max(2,n-1),a=300,o=200,c=2,l=6,d*=2):(r=e===Oj.t1?n+3:n,o=t>1?180:80,a=t>1?240:120,c=t>1?2:3,l=t>1?8:11),{titleHeight:r?r*s+d:0,minCellWidth:o,preferredCellWidth:a,minColumns:c,maxColumns:l}}var IH=Object.assign;const bH={};function MH(e,t,n,i=0,s=0){const r=e+(t||"")+n+i+s;if(bH.hasOwnProperty(r))return bH[r];const a=(0,qC.n3)(e,t,n),{titleHeight:o,minCellWidth:l,preferredCellWidth:c,minColumns:d,maxColumns:u}=fH({type:e,aspectRatio:a,titleCount:s,context:n}),p=(0,mH.ZP)({direction:mH._y,rows:1,overscan:0,innerHorizontalPadding:30,innerVerticalPadding:30,outerPaddingTop:10,outerPaddingRight:5,outerPaddingBottom:5,outerPaddingLeft:5,getCellWidth:e=>yH(IH(IH({},e),{preferredCellWidth:c,minCellWidth:l,minColumns:d,maxColumns:u,columnAdjustment:i})),getCellHeight:e=>hH(IH(IH({},e),{aspectRatio:a,titleHeight:o}))});return p.cellOptions={preferredCellWidth:c,minCellWidth:l,minColumns:d,maxColumns:u,columnAdjustment:i,aspectRatio:a,titleHeight:o},bH[r]=p,p}const SH=function(e){const{className:t,tabIndex:n,route:i,tag:s}=e;return s?i?y.createElement(AM.Z,{"data-qa-id":"castTitle",className:t,tabIndex:n,title:s,to:i},s):y.createElement("span",{className:t,title:s},s):null},EH=function({className:e,role:t}){return y.createElement("span",{className:e,title:t},t)},DH=(0,f.$j)((function(){return(0,de.P1)(Kh.Z,Wh.Z,tP.Z,eP.Z,((e,t,n,i)=>e&&n&&e.machineIdentifier!==n.machineIdentifier?{sourceTitle:n.sourceTitle||n.friendlyName}:{}))}))((function(e){const{className:t,sourceTitle:n}=e;return n?y.createElement("span",{className:t},(0,De.Z)("from {sourceTitle}",{sourceTitle:n})):null})),CH=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),(e=>({attributionLogo:e.attributionLogo})))}))((function(e){const{attributionLogo:t,className:n}=e;return t?y.createElement("span",{className:n},y.createElement("img",{className:"MetadataAttributionLogoTitle-img-8cMghO",src:t})):null})),PH=(0,YM.Z)((function(){return(0,de.P1)(((e,{metricsContext:t})=>t),tP.Z,eP.Z,(0,_C.Z)(),((e,t,n,i={})=>{const s={};return e&&(s.context=e),{parentTitle:i.parentTitle,parentRoute:(0,ui.Z)(t,n,i.parentKey,s)}}))}))((function({className:e,tabIndex:t,parentTitle:n,parentRoute:i}){return y.createElement(nP.Z,{className:e,tabIndex:t,title:n,route:i})}));function wH(e,t){const n=Math.abs(Date.now()-1e3*e),i=36e5;return n<i?window.setTimeout(t,6e4):n<864e5?window.setTimeout(t,i):void 0}class TH extends y.Component{constructor(e,t){super(e,t),this.trackTime=()=>{const{timestamp:e}=this.props,t=(0,yi.Z)(e);this.setState({title:t}),this.timeoutID=wH(e,this.trackTime)};const{timestamp:n}=this.props,i=(0,yi.Z)(n);this.state={title:i},this.timeoutID=wH(n,this.trackTime)}componentWillReceiveProps(e){if(e.timestamp!==this.props.timestamp){const t=(0,yi.Z)(e.timestamp);this.setState({title:t})}}componentWillUnmount(){this.timeoutID&&(this.timeoutID=window.clearTimeout(this.timeoutID))}render(){const{className:e}=this.props,{title:t}=this.state;return y.createElement("span",{className:e},t)}}const ZH=TH,NH=function({className:e,addedAt:t,title:n,route:i}){return t||n?y.createElement("span",{className:e},y.createElement(ZH,{timestamp:t}),t&&n?" — ":null,y.createElement(nP.Z,{title:n,route:i})):null},AH=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>{const{addedAt:t,Channel:n}=e;return{addedAt:t,title:n&&n[0]&&n[0].tag}}))}))(NH),xH=(0,f.$j)((function(e,t){return(0,de.P1)((0,_C.Z)(),((e={})=>({addedAt:e.addedAt})))}))((function({className:e,addedAt:t}){return y.createElement(ZH,{className:e,timestamp:t})})),LH=(0,f.$j)((function(){return(0,de.P1)(((e,{metricsContext:t})=>t),tP.Z,eP.Z,(0,_C.Z)(),((e,t,n,i={})=>{const{addedAt:s,grandparentTitle:r,grandparentKey:a}=i,o={};return e&&(o.context=e),{addedAt:s,title:r,route:(0,ui.Z)(t,n,a,o)}}))}))(NH);var OH=n(54834);function jH(){return(0,de.P1)((0,_C.Z)(),(0,OH.Z)(),((e,t)=>{if(e&&t)return E().findWhere(e.Channel,{id:t.channelID})}))}const kH=(0,f.$j)((function(){return(0,de.P1)(QC,(0,OH.Z)(),jH(),((e,t,n)=>({beginsAt:t&&t.beginsAt,endsAt:t&&t.endsAt,channel:n&&n.tag,timeFormat:e})))}))(BL),RH=function({className:e,leafCount:t}){let n;return null!=t&&(n=1===t?(0,De.Z)("{trackCount} track",{trackCount:t}):(0,De.Z)("{trackCount} tracks",{trackCount:t})),y.createElement("span",{className:e},n)},zH=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({skipChildren:e.skipChildren,childCount:e.childCount,leafCount:e.leafCount})))}))((function({className:e,skipChildren:t,childCount:n,leafCount:i}){if(t)return y.createElement(RH,{className:e,leafCount:i});let s;return null!=n&&(s=1===n?(0,De.Z)("{albumCount} album",{albumCount:n}):(0,De.Z)("{albumCount} albums",{albumCount:n})),y.createElement("span",{className:e},s)}));var UH=Object.prototype.hasOwnProperty,VH=Object.getOwnPropertySymbols,BH=Object.prototype.propertyIsEnumerable,FH=Object.assign;const HH=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({attribution:e.attribution})))}))((function(e){var{className:t,attribution:n}=e,i=((e,t)=>{var n={};for(var i in e)UH.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&VH)for(var i of VH(e))t.indexOf(i)<0&&BH.call(e,i)&&(n[i]=e[i]);return n})(e,["className","attribution"]);return y.createElement("span",{className:t},y.createElement("div",{className:"MetadataTitleAttributedLink-container-2MJkFQ"},y.createElement(gs,{className:"MetadataTitleAttributedLink-badge-3X-f_9",attribution:n}),y.createElement(aP,FH({className:"MetadataTitleAttributedLink-title-3ZOR2-"},i))))})),_H=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({attribution:e.attribution,year:e.year})))}))((function({className:e,attribution:t,year:n}){return y.createElement("span",{className:e},y.createElement("div",{className:"MetadataTitleAttributedYear-container-31smMs"},y.createElement(gs,{className:"MetadataTitleAttributedYear-badge-3wtRY0",attribution:t}),y.createElement(oP,{year:n,className:"MetadataTitleAttributedYear-title-3WPo5t"})))})),QH=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({childCount:e.childCount,subtype:e.subtype})))}))((function({className:e,childCount:t,subtype:n}){let i;if(null!=t){const e=1===t,s={itemCount:t};i=n===Ho.MOVIE?e?(0,De.Z)("{itemCount} movie",s):(0,De.Z)("{itemCount} movies",s):n===Ho.SHOW?e?(0,De.Z)("{itemCount} show",s):(0,De.Z)("{itemCount} shows",s):e?(0,De.Z)("{itemCount} item",s):(0,De.Z)("{itemCount} items",s)}return y.createElement("span",{className:e},i)}));var GH=n(16345);function YH(){return(0,de.P1)((e=>e.ui),((e,{playerType:t})=>t),((e,t)=>e[t+"Player"]))}function WH(e){return(0,de.P1)(YH(),(t=>t?t[e]:void 0))}const KH=(0,de.P1)(fV.Z,(e=>e.liveTVSessions));function qH(){return(0,de.P1)(KH,WH("liveTVSession"),((e,t)=>e[t]))}function $H(){return(0,de.P1)(qH(),(e=>e&&e.currentPosition))}var JH=n(18908);const XH=(0,de.P1)((e=>{var t;return null==(t=e.ui.channelGridPage)?void 0:t.metadataList}),JH.Z,EC.Z,((e,t,n)=>{const i=t[e];return i&&i.metadataItems?i.metadataItems.map((e=>n[e])):[]}));function e_(){return(0,de.P1)(qH(),$H(),XH,((e,t,n)=>{if(!e||null===t)return;const i=e.channelIdentifier;for(let e=0;e<n.length;e++){const s=n[e];for(let e=0;e<s.Media.length;e++){const n=s.Media[e],{beginsAt:r,endsAt:a,channelIdentifier:o}=n;if(o===i&&r<=t&&a>t)return s}}}))}function t_(){return(0,de.P1)(e_(),$H(),qH(),((e,t,n)=>{if(!e||null===t||!n)return;const i=n.channelIdentifier;return e.Media.find((e=>{const{beginsAt:n,endsAt:s,channelIdentifier:r}=e;return r===i&&n<=t&&s>t}))}))}const n_=(0,f.$j)((function(){return(0,de.P1)(QC,t_(),((e,t)=>({beginsAt:t&&t.beginsAt,endsAt:t&&t.endsAt,timeFormat:e})))}))((function(e){const{className:t,beginsAt:n,endsAt:i,timeFormat:s}=e,r=JC(n,i,{includeMinuteZero:!1,timeFormat:s});return y.createElement("span",{className:t},r)})),i_=function({className:e,date:t}){return t?y.createElement("span",{className:e},(0,gi.Z)(t)):null},s_=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({addedAt:e.addedAt})))}))((function({className:e,addedAt:t}){return t?y.createElement(i_,{className:e,date:1e3*t}):null})),r_=function({className:e,leafCount:t}){let n;return null!=t&&(n=1===t?(0,De.Z)("{episodeCount} episode",{episodeCount:t}):(0,De.Z)("{episodeCount} episodes",{episodeCount:t})),y.createElement("span",{className:e},n)},a_=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({leafCount:e.leafCount})))}))(r_);function o_({className:e,index:t,longName:n,originallyAvailableAt:i}){const s=(0,Bs.Z)({useLongName:n,episodeIndex:t,date:i,noLeadingZero:!0});return y.createElement("span",{className:e},s)}o_.defaultProps={longName:!0};const l_=o_,c_=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({index:e.index,originallyAvailableAt:e.originallyAvailableAt})))}))(l_),d_=(0,n(35981).Z)(["id","typeString"],[{id:1,typeString:"trailer",title:()=>(0,De.Z)("Trailer")},{id:2,typeString:"deletedScene",title:()=>(0,De.Z)("Deleted Scene")},{id:3,typeString:"interview",title:()=>(0,De.Z)("Interview")},{id:4,typeString:"musicVideo",title:()=>(0,De.Z)("Music Video")},{id:5,typeString:"behindTheScenes",title:()=>(0,De.Z)("Behind the Scenes")},{id:6,typeString:"scene",title:()=>(0,De.Z)("Scene")},{id:7,typeString:"liveMusicVideo",title:()=>(0,De.Z)("Live Music Video")},{id:8,typeString:"lyricMusicVideo",title:()=>(0,De.Z)("Lyric Music Video")},{id:9,typeString:"concert",title:()=>(0,De.Z)("Concert")},{id:10,typeString:"featurette",title:()=>(0,De.Z)("Featurette")},{id:11,typeString:"short",title:()=>(0,De.Z)("Short")},{id:12,typeString:"other",title:()=>(0,De.Z)("Other")}]),u_=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({extraType:e.extraType})))}))((function({className:e,extraType:t}){var n=d_.get(t);return y.createElement("span",{className:e},n?n.title:"")})),p_=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),(0,rP.Z)(),((e={},t)=>({title:e.title,route:t})))}))(nP.Z);p_.isDoubleLine=!0;const m_=p_,h_=function({className:e,duration:t,viewOffset:n}){let i;if(t&&n){const e=(t-n)/1e3;e>0&&(i=Hi(e))}return y.createElement("span",{className:e},i)},g_=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({duration:e.duration,viewOffset:e.viewOffset})))}))(h_),y_=function({className:e,duration:t}){return t?y.createElement("span",{className:e},Fi(t)):null},v_=function({className:e,leafCount:t}){let n;return null!=t&&(n=1===t?(0,De.Z)("{itemCount} item",{itemCount:t}):(0,De.Z)("{itemCount} items",{itemCount:t})),y.createElement("span",{className:e},n)},f_=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({playlistType:e.playlistType,duration:e.duration,leafCount:e.leafCount})))}))((function(e){const{className:t,playlistType:n,duration:i,leafCount:s}=e;return n===$s.pV?y.createElement(v_,{className:t,leafCount:s}):y.createElement(y_,{className:t,duration:i})})),I_=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({skipChildren:e.skipChildren,childCount:e.childCount,leafCount:e.leafCount})))}))((function({className:e,skipChildren:t,childCount:n,leafCount:i}){if(t)return y.createElement(r_,{className:e,leafCount:i});if(!n)return null;const s=1===n?(0,De.Z)("{seasonCount} season",{seasonCount:n}):(0,De.Z)("{seasonCount} seasons",{seasonCount:n});return y.createElement("span",{className:e},s)})),b_=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),(e=>({topics:e&&e.Topic})))}))((function({className:e,topics:t}){return t&&t.length?y.createElement("span",{className:e},t[0].tag):null})),M_=(0,YM.Z)((function(){return(0,de.P1)(((e,{metricsContext:t})=>t),((e,{skipGrandparent:t})=>t),tP.Z,eP.Z,(0,_C.Z)(),((e,t,n,i,s={})=>{const r={};return e&&(r.context=e),{skipParent:s.skipParent,skipGrandparent:t,parentTitle:s.parentTitle,parentRoute:(0,ui.Z)(n,i,s.parentKey,r),grandparentTitle:s.originalTitle||s.grandparentTitle,grandparentRoute:(0,ui.Z)(n,i,s.grandparentKey,r)}}))}))((function({className:e,tabIndex:t,skipParent:n,skipGrandparent:i,parentTitle:s,parentRoute:r,grandparentTitle:a,grandparentRoute:o}){return y.createElement("span",{className:e},i?null:y.createElement(nP.Z,{tabIndex:t,title:a,route:o}),!s||n||i?null:y.createElement(tr.Z,null),n?null:y.createElement(nP.Z,{tabIndex:t,title:s,route:r}))})),S_=(0,de.P1)(fV.Z,(e=>e.searchResults));function E_(){return(0,de.P1)(S_,((e,{searchResultEntityID:t})=>t),((e,t)=>e[t]))}function D_(e,t){const n=e.features.content;return n?PC(n.directories,t):null}var C_=n(87385);const P_=(0,f.$j)((function(){return(0,de.P1)(Kh.Z,Wh.Z,E_(),(0,_C.Z)(),Me,((e,t,n={},i,s)=>{const r=i||n.tagItem;return{server:e,provider:t,sourceDirectory:D_(t,r.librarySectionID),reasonID:n.reasonID,reason:n.reason,reasonTitle:n.reasonTitle,originalTitle:r.originalTitle,filter:r.filter,librarySectionKey:r.librarySectionKey,librarySectionType:r.librarySectionType,isV4DirectoryPagesEnabled:s}}))}))((function(e){const{className:t,server:n,provider:i,sourceDirectory:s,originalTitle:r,reason:a,reasonID:o,reasonTitle:l,filter:c,librarySectionKey:d,librarySectionType:u,isV4DirectoryPagesEnabled:p,onPress:m}=e;if(!a)return null;if("originalTitle"===a)return y.createElement("span",{className:t},r);if(!l)return null;const h={},g="actor"===a||"director"===a;g&&(h.filters=c||`${a}=${o}`,h.filterLabel=l);const v=p?(0,zg.Z)(n,i,s,{key:C.Z.join([d,"all"],{type:u,[a]:g?o:void 0}),pageType:At.F6.List}):(0,C_.Z)(n,i,s,h),f={director:(0,De.Z)("by"),actor:(0,De.Z)("with"),section:(0,De.Z)("in"),autotag:(0,De.Z)("tagged"),place:(0,De.Z)("in")};return v?y.createElement("span",{className:t},f[a]," ",y.createElement(AM.Z,{title:l,tabIndex:"-1",to:v,onPress:m},l)):y.createElement("span",{className:t},`${f[a]} ${l}`)}));function w_(){return(0,de.P1)(CC(),(0,_C.Z)(),((e,t)=>{if(t)return PC(e,t.librarySectionID)}))}function T_(e,t){return e.isCloud?t.sourceTitle?`${t.title} ${t.sourceTitle}`:t.title:e.friendlyName}const Z_=(0,f.$j)((function(){return(0,de.P1)(Kh.Z,Wh.Z,w_(),((e,t,n)=>({server:e,provider:t,sourceDirectory:n})))}))((function(e){const{className:t,server:n,provider:i,sourceDirectory:s}=e;if(!n.friendlyName&&!n.isCloud)return null;const r=n.isCloud&&!s?void 0:(0,zg.Z)(n,i,s,pa.wB(i.identifier,pa.Y3)?{key:DM.D,pageType:EM.km}:void 0);return y.createElement("span",{className:t},n.isCloud&&!i.sourceTitle?(0,De.Z)("on")+" ":null,r?y.createElement(AM.Z,{title:n.friendlyName,to:r},T_(n,i)):T_(n,i))}));var N_=n(83705);const A_=function(e){const{className:t,server:n,provider:i,sourceDirectory:s,id:r,tag:a,tagKey:o,filter:l,tagType:c,isV4DirectoryPagesEnabled:d}=e,{typeString:u}=N_.Z.get(c),p=l||`${u}=${r}`,m=d?(0,zg.Z)(n,i,s,{key:o,pageType:At.F6.List}):(0,C_.Z)(n,i,s,{filters:p,filterLabel:a});return y.createElement(AM.Z,{"data-qa-id":"searchTagTitle",className:t,title:a,to:m},a)};var x_=Object.assign;const L_=(0,f.$j)((function(){return(0,de.P1)(Kh.Z,Wh.Z,E_(),Me,((e,t,n={},i)=>{const s=E().pick(n.tagItem,"id","tag","tagType","librarySectionType","librarySectionID");return s.tagKey=n.tagItem.key,x_({server:e,provider:t,sourceDirectory:D_(t,n.tagItem.librarySectionID),isV4DirectoryPagesEnabled:i},s)}))}))((function(e){return y.createElement(A_,x_({},e))})),O_=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>{const t=(0,Ho.getMetadataType)(e.type),n=e.Media&&e.Media[0];return{type:t&&t.mediaType,bitrate:n&&n.bitrate}}))}))((function(e){const{className:t,type:n,bitrate:i}=e;if(null==i)return null;const s=n===$a.j0?(0,Is.Z)(i):(0,bs.Z)(i);return y.createElement("span",{className:t},s)})),j_=(0,f.$j)((function(e,t){return(0,de.P1)((0,_C.Z)(),((e={})=>({contentRating:e.contentRating})))}))((function({className:e,contentRating:t}){return y.createElement("span",{className:e},ws(t))})),k_=(0,f.$j)((function(e,t){return(0,de.P1)((0,_C.Z)(),((e={})=>({rating:e.rating,ratingImage:e.ratingImage,audienceRating:e.audienceRating,audienceRatingImage:e.audienceRatingImage})))}))((function({className:e,rating:t,ratingImage:n,audienceRating:i,audienceRatingImage:s}){return t||i?y.createElement("span",{className:e},y.createElement(Rs,{rating:t,ratingImage:n,audienceRating:i,audienceRatingImage:s})):null})),R_=(0,f.$j)((function(e,t){return(0,de.P1)((0,_C.Z)(),((e={})=>{const{duration:t}=e;return{duration:t}}))}))(y_),z_=(0,f.$j)((function(e,t){return(0,de.P1)((0,_C.Z)(),((e={})=>({lastViewedAt:e.lastViewedAt})))}))((function({className:e,lastViewedAt:t}){return y.createElement(ZH,{className:e,timestamp:t})})),U_=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({viewCount:e.viewCount})))}))((function({className:e,viewCount:t}){const n=(t>1?(0,De.Z)("{viewCount} Plays",{viewCount:t}):null)||(t>0?(0,De.Z)("{viewCount} Play",{viewCount:t}):null)||(0,De.Z)("Unplayed");return y.createElement("span",{className:e},n)})),V_=(0,f.$j)((function(e,t){return(0,de.P1)((0,_C.Z)(),((e={})=>{const{originallyAvailableAt:t}=e;return{originallyAvailableAt:t}}))}))((function({className:e,originallyAvailableAt:t}){return y.createElement("span",{className:e},(0,gi.Z)(t,"MMM d, yyyy"))})),B_=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>{const t=e.Media&&e.Media[0];return{videoResolution:t&&t.videoResolution}}))}))((function({className:e,videoResolution:t}){return y.createElement("span",{className:e},(0,Nr.Z)(t))}));var F_=n(20531),H_=n(62730),__=n(34082);const Q_=function({className:e,value:t,onRatingChange:n}){return y.createElement("span",{className:e},y.createElement(Tr,{value:t,onRatingChange:n}))};var G_=Object.prototype.hasOwnProperty,Y_=Object.getOwnPropertySymbols,W_=Object.prototype.propertyIsEnumerable,K_=Object.assign;const q_=(0,f.$j)(F_.Z)((0,YM.Z)((function(e,t){return(0,de.P1)(eP.Z,(0,_C.Z)(),(0,de.P1)(__.Z,((e,{providerEntityID:t})=>t),((e,t)=>!!e&&e.providers.length>1&&e.providers.includes(t))),((e,{hideUnrated:t})=>t),((e,t={},n,i)=>{const s=e&&e.features[mS.aO][H_.zw]&&!t.isFolder&&!n,r=(t.userRating||0)/2;return{showRating:!(!s||i&&0===r),value:r}}))}),(function(e,t){return{onRatingChange(n){e((0,Ka.rateMetadataItem)({metadataItemEntityID:t.metadataItemEntityID,providerEntityID:t.itemProviderEntityID,rating:0===n?-1:2*n,metricsPage:t.metricsPage}))}}}))((function(e){const{showRating:t}=e,n=((e,t)=>{var n={};for(var i in e)G_.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Y_)for(var i of Y_(e))t.indexOf(i)<0&&W_.call(e,i)&&(n[i]=e[i]);return n})(e,["showRating"]);return t?y.createElement(Q_,K_({},n)):null})));q_.propTypes={hideUnrated:ls().bool};const $_=q_;function J_(e,t,n){if("mixed"===e)return[];switch(n){case YC.sD:switch(e){case"season":return[aP,a_];case"episode":return[aP,c_];case"album":return[aP,_H];case"actor":return[SH,EH]}break;case YC.wl:switch(e){case"movie":return[aP,g_,lP];case"clip":return[aP,g_];case"episode":return[iP,g_,sP.Z]}break;case YC.mo:switch(t){case"news":switch(e){case"clip":return[m_,AH,null]}}switch(e){case"artist":return[aP,zH];case"photo":return[GH.Z,s_];case"photoalbum":case"clip":return[aP,s_];case"playlist":return[aP,f_];case"collection":return[aP,QH];case"actor":case"genre":case"director":case"autotag":case"tag":case"place":return[L_]}break;case YC.F5:case YC.r$:case YC.zg:case YC.UC:switch(t){case"news":switch(e){case"clip":return[GH.Z,xH]}break;case"podcast":switch(e){case"track":return[iP,sP.Z]}break;case"musicVideo":switch(e){case"clip":return[aP,M_]}}switch(e){case"episode":return[iP,sP.Z];case"clip":return[aP,s_];case"track":return[aP,M_]}break;case YC.RK:return[m_,b_,AH,null];case YC.IN:switch(e){case"participant":return[aP]}}switch(t){case"news":switch(e){case"clip":return[m_,AH,null]}break;case"podcast":switch(e){case"show":return[m_,null];case"track":return[m_,iP,null]}break;case"webshow":switch(e){case"show":return[aP];case"episode":return[m_,LH,null]}}switch(e){case"channels":return[GH.Z,kH];case"movie":return[aP,lP];case"show":return[aP,I_];case"season":return[PH,aP];case"episode":return[iP,aP,Vw];case"artist":return[aP];case"album":return[PH,HH];case"track":return[iP,aP];case"photo":return[GH.Z];case"photoalbum":case"clip":return[aP];case"extra":return[GH.Z,u_];case"musicVideo":return[iP,GH.Z];case"playlist":return[aP,f_];case"collection":return[aP,QH];case"directory":case"genre":case"content":case"channel":return[];case"game":return[aP,lP]}return[GH.Z]}function X_(e){return e.map((e=>{switch(e){case"attributionLogo":return CH;case"episodeIdentifier":case"index":return Vw;case"grandparentTitle":return iP;case"parentTitle":return PH;case"title":return aP;default:return()=>null}}))}function eQ(e,t,n={}){const{subtype:i,activeSort:s,isSearch:r,isSearchAll:a,isExternal:o,providerEntityID:l,displayFields:c}=n;if(c)return X_(c);const d=J_(e,i,t);if(r?(d.push(P_),a&&d.push(Z_)):o&&d.push(DH),pa.wB(l,pa.Ll)&&("movie"===e||"episode"===e||"mixed"===e))switch(t){case YC.F5:case YC.r$:d.push(n_);break;case YC.UC:break;default:d.push(kH)}if(s){const e=function(e){const[t]=e.split(":");switch(t){case"addedAt":return xH;case"duration":return R_;case"lastViewedAt":return z_;case"originallyAvailableAt":return V_;case"rating":case"audienceRating":return k_;case"userRating":return $_;case"viewCount":return U_;case"mediaBitrate":return O_;case"contentRating":return j_;case"mediaHeight":return B_;case"year":return lP}}(s);e&&!d.includes(e)&&d.push(e)}return d}function tQ(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-help-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m280 0c154.536 0 280 125.464 280 280 0 154.536-125.464 280-280 280-154.536 0-280-125.464-280-280 0-154.536 125.464-280 280-280m-40 440c0 22.077 17.923 40 40 40 22.077 0 40-17.923 40-40 0-22.077-17.923-40-40-40-22.077 0-40 17.923-40 40m70-80l0-6.84 0-.179c.011-2.265.168-4.528.482-6.772.586-4.188 1.706-8.299 3.324-12.206 1.56-3.765 3.581-7.337 6.005-10.613 1.378-1.861 2.886-3.622 4.506-5.277 12.286-12.48 24.784-24.75 37.148-37.152 1.253-1.265 2.48-2.554 3.674-3.873 2.298-2.538 4.482-5.178 6.544-7.91 5.64-7.475 10.359-15.64 14.021-24.258 2.605-6.129 4.675-12.484 6.18-18.972 1.516-6.534 2.457-13.201 2.81-19.9.584-11.079-.447-22.237-3.053-33.021-1.591-6.586-3.767-13.03-6.492-19.232-2.728-6.21-6.008-12.176-9.788-17.807-2.756-4.106-5.777-8.033-9.039-11.749-1.655-1.886-3.374-3.715-5.147-5.49-1.412-1.415-2.866-2.79-4.352-4.127-3.068-2.761-6.285-5.356-9.632-7.77-8.915-6.432-18.755-11.571-29.126-15.214-7.849-2.757-15.996-4.658-24.254-5.658-3.049-.369-6.113-.616-9.182-.74-1.423-.057-2.848-.086-4.272-.093-.357 0-.713 0-1.07.002-2.253.018-4.505.094-6.754.241-4.7.306-9.381.901-14.008 1.782-6.09 1.159-12.086 2.813-17.909 4.939-5.594 2.042-11.028 4.519-16.238 7.403-5.852 3.239-11.419 6.99-16.618 11.196-2.576 2.084-5.056 4.282-7.446 6.577-.342.331-.682.663-1.021.996-6.867 6.803-13.671 13.669-20.506 20.504l42.426 42.426 19.985-19.984.136-.137c1.966-1.946 4.07-3.749 6.304-5.381 3.924-2.868 8.23-5.21 12.77-6.946 3.392-1.297 6.913-2.256 10.494-2.859 3.453-.58 6.961-.829 10.461-.742 4.493.111 8.971.778 13.302 1.98 4.678 1.298 9.18 3.219 13.354 5.699 2.604 1.547 5.08 3.31 7.393 5.266 1.182 1 2.318 2.051 3.414 3.144.705.713 1.397 1.438 2.065 2.185 1.35 1.51 2.617 3.095 3.792 4.745 3.921 5.506 6.807 11.735 8.475 18.285 1.377 5.408 1.921 11.022 1.61 16.593-.35 6.263-1.783 12.458-4.219 18.239-1.715 4.068-3.921 7.928-6.559 11.468-1.484 1.993-3.105 3.879-4.843 5.655-12.294 12.486-24.797 24.764-37.169 37.173-1.121 1.131-2.22 2.283-3.292 3.46-2.284 2.506-4.452 5.119-6.494 7.825-5.604 7.427-10.259 15.565-13.819 24.161-3.431 8.283-5.844 16.985-7.167 25.852-.467 3.127-.799 6.275-.995 9.431-.098 1.587-.16 3.175-.192 4.764-.008.455-.013.91-.017 1.365-.012 2.515-.002 5.032-.002 7.546l60 0m8.826-198.747l0-.001c-.011-.01.043.043.032.032l-.032-.031"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}tQ.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const nQ=tQ;function iQ(e){const{className:t,cellWidth:n,listContext:i,listSubtype:s,listType:r}=e,a=(0,HC.Z)(e),o={position:"absolute",top:0,left:0,width:`${n}px`,height:`${(0,qC.Cr)(n,r,s,i)}px`};return y.createElement("div",{style:a.style},y.createElement("div",{className:t,style:o}))}iQ.defaultProps={className:"HomeHubPosterPlaceholderCell-posterCell-2lJyNz"};const sQ=iQ,rQ="HomeHubCell-iconButton-3Mi1ow",aQ="HomeHubCell-iconButtonIcon-3GKkjl";var oQ=Object.assign;const lQ=String.fromCharCode(183),cQ=[{id:0},{id:1},{id:2},{id:3},{id:4},{id:5},{id:6},{id:7},{id:8},{id:9},{id:10},{id:11}];class dQ extends y.Component{constructor(e,t){super(e,t),this.onListUpdate=e=>{const{listStyle:t}=e,{onListReady:n}=this.props,i=this._isReady?void 0:n;this._isReady=!0,this.setState({listHeight:t.height},i)},this.onHelpPress=()=>{this.setState({isHelpModalOpen:!0})},this.onHelpModalClose=()=>{this.setState({isHelpModalOpen:!1})},this.state={listHeight:"auto",isHelpModalOpen:!1},this._isReady=!1}render(){const{allowToggleHomeHub:e,className:t,columnAdjustment:n,errorTitle:i,hasRetried:s,hasServer:r,homeHub:a,homePageHomeHubStatus:o,shouldConfirmHomeHubRemoval:l,sourceTitle:c,title:d,onRetryHomeHub:u}=this.props,{listHeight:p}=this.state,{hubIdentifier:m,type:h,subtype:g}=a,{isPending:v}=o,f=xF(m),I=eQ(h,f,{subtype:g,isExternal:m.indexOf("external")>-1}),b=!!i;let M=null;if(d){const e=i||(v&&s?(0,De.Z)("Retrying"):null);M=y.createElement(rH,null,d,c?y.createElement(tr.Z,{className:"HomeHubCell-titleSeparator-3FlgiA MetadataHubCellHeader-titleSeparator-19Gt9X DashSeparator-separator-3gTgvL"}):null,c?y.createElement("span",{className:"HomeHubCell-sourceTitle-1tzf4y MetadataHubCellHeader-sourceTitle-MxUJmY"},c):null,e?y.createElement(tr.Z,{className:"HomeHubCell-errorSeparator-nLYfYl HomeHubCell-titleSeparator-3FlgiA MetadataHubCellHeader-titleSeparator-19Gt9X DashSeparator-separator-3gTgvL",separator:lQ}):null,e?y.createElement("span",{className:"HomeHubCell-errorTitle-3adWtt HomeHubCell-sourceTitle-1tzf4y MetadataHubCellHeader-sourceTitle-MxUJmY"},e):null)}const S={visibility:"auto"===p?"hidden":"visible"},E={height:p,overflow:"hidden"};return y.createElement("div",{className:t,style:S,"data-qa-id":"hub--"+m},y.createElement(iH,{allowToggleHomeHub:e,className:"HomeHubCell-hubCellHeader-oKu-0X HubCell-hubCellHeader-wCcWjY HubCellHeader-hubCellHeader-G-yd6D",homeHubID:o.homeHubID,isHomeHub:!0,shouldConfirmHomeHubRemoval:l},M,v?y.createElement(ML.Z,{size:vc.HC}):null,b&&r?y.createElement(GC.Z,{className:rQ,iconClassName:aQ,iconComponent:mV.Z,label:(0,De.Z)("Retry"),ariaLabel:(0,De.Z)("Retry"),onPress:u}):null,b?y.createElement(GC.Z,{className:rQ,iconClassName:aQ,iconComponent:nQ,label:(0,De.Z)("What's this?"),ariaLabel:(0,De.Z)("What's this?"),onPress:this.onHelpPress}):null),y.createElement("div",{style:E},y.createElement(jC.Z,{scrollerClassName:"HomeHubCell-hubScroller-XdlEsn HubCell-hubScroller-1NdS3v VirtualListScroller-scroller-1ap5-a",ignoreHeight:!0,keyPropName:"id",items:cQ,scrollDirection:vb.Hn,size:cQ.length,layout:MH(h,g,f,n,I.length),cellRenderer:(D={listType:h,listSubtype:g,listContext:f},function(e){return y.createElement(sQ,oQ(oQ({},D),e))}),onListUpdate:this.onListUpdate})),y.createElement(pH,{homeHubID:a.id,isOpen:this.state.isHelpModalOpen,onModalClose:this.onHelpModalClose}));var D}}dQ.defaultProps={className:"HomeHubCell-hubCell-2xLEHc HubCell-hubCell-2uIdEm"};const uQ=dQ;function pQ(e,t){return(0,sn.Z)(e,(e=>t.reduce(((t,n)=>(e&&n in e&&(t[n]=e[n]),t)),{})))}function mQ(e){if(!e)return;let t,n;const i=e.match(/^server:\/\/(.*)\/(.*)/);if(i)t=i[1],n=i[2];else{const i=e.match(/^provider:\/\/(.*)/);if(!i)return;t=KP.X,n=i[1]}const s=(0,kt.Z)(Vt.cN,t);return{serverEntityID:s,providerEntityID:(0,kt.Z)(Vt.MC,n,s)}}var hQ=n(71321);const gQ=ls().shape({key:ls().string,hubKey:ls().string,title:ls().string,icon:ls().string,type:ls().string,subtype:ls().string,agent:ls().string,updatedAt:ls().number,scannedAt:ls().number,context:ls().string});var yQ=n(41431);const vQ="MetadataSpotlightCell-title-3H3SDf";function fQ({className:e,src:t}){return y.createElement("img",{className:e,src:t})}const IQ=(0,f.$j)((function(){return(0,de.P1)(((e,{cellWidth:t})=>t),((e,{cellHeight:t})=>t),(0,_C.Z)(),((e,t,n={},i)=>{const s=(r=e,a=t,{url:n.art,width:r,height:a});var r,a;return{icon:n.icon,imageWidth:s.width,imageHeight:s.height,imageUrl:s.url,attributionLogo:n.attributionLogo,backgroundColor:n.backgroundColor,callToAction:n.action,summary:n.summary}}))}))((function(e){const{className:t,serverEntityID:n,providerEntityID:i,metadataItemEntityID:s,imageWidth:r,imageHeight:a,imageUrl:o,attributionLogo:l,backgroundColor:c="#000000",callToAction:d,summary:u,title:p}=e,m=Ep(c,0),h=Ep(c,1),g={backgroundColor:h},v={backgroundImage:`linear-gradient(to left, ${m}, ${h} 400px)`};return y.createElement("div",{style:g,className:t,"data-qa-id":"cellItem"},n?y.createElement(ft.Z,{className:"MetadataSpotlightCell-spotlightImage-3HfGuF",serverEntityID:n,providerEntityID:i,url:o,width:r,height:a,component:fQ}):null,y.createElement("div",{className:"MetadataSpotlightCell-colorOverlay-2pdYS1",style:v}),y.createElement("div",{className:"MetadataSpotlightCell-copyOverlay-26N3Y6"},p?y.createElement("div",{className:vQ},p):y.createElement(GH.Z,{className:vQ,serverEntityID:n,providerEntityID:i,metadataItemEntityID:s}),y.createElement("div",{className:"MetadataSpotlightCell-summary-Iv-Ymc"},u),d?y.createElement("div",{className:"MetadataSpotlightCell-callToAction-J0IGDP"},d):null),y.createElement("div",{className:"MetadataSpotlightCell-attributionLogo-nOkW8U"},y.createElement(Dp,{attributionLogo:l})))})),bQ=(0,f.$j)((function(){return(0,de.P1)((0,rP.Z)(),(e=>({route:e})))}))((function(e){const{children:t,route:n,onPress:i}=e;return y.createElement(AM.Z,{className:"MetadataSpotlightCellLink-link-2IlL6x",to:n,"data-qa-id":"spotlightItem",onPress:i},t)}));function MQ(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-alert-dot-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["circle",{cx:"280",cy:"280",r:"196"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}MQ.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const SQ=MQ,EQ=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),(e=>({title:e.title})))}))((function(e){const{title:t,index:n,selectedIndex:i,onPress:s}=e,r=(0,y.useCallback)((()=>{s(n)}),[n,s]),a=n===i?"SpotlightHubDot-selectedDotButton-2r4AcQ SpotlightHubDot-dotButton-1jeNiO":"SpotlightHubDot-dotButton-1jeNiO";return y.createElement(AM.Z,{className:a,title:t,onPress:r},y.createElement(SQ,null))})),DQ=function(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,metadataItemEntityIDs:s,hubIdentifier:r,metricsContext:a,containerKey:o,listType:l,listSubtype:c,listContext:d,autoAdvanceDelayMs:u,totalSize:p,onListReady:m}=e,[h,g]=(0,y.useState)({});(0,y.useEffect)((()=>{h.isMeasured&&m()}),[h,m]);const[v,f]=(0,y.useState)(0),I=s[v],b=(0,zr.Z)(I),M=b&&b!==I;(0,y.useEffect)((()=>{if(!u)return;const e=window.setInterval((()=>{f(Ip(v+1,p))}),u);return()=>{window.clearInterval(e)}}),[u,v,p]);const S=(0,y.useCallback)((()=>{f(Ip(v-1,p))}),[v,p]),E=(0,y.useCallback)((()=>{f(Ip(v+1,p))}),[v,p]),D=eQ(l,d,{providerEntityID:n,subtype:c,isExternal:r.indexOf("external")>-1});return(0,y.useEffect)((()=>{0===p&&m()}),[p,m]),0===p?null:y.createElement(OC.Z,{className:"MetadataSpotlightHubCell-hub-1L0D8C",onMeasure:g},h.isMeasured?y.createElement(y.Fragment,null,y.createElement(bQ,{metadataItemEntityID:I,metricsContext:a},y.createElement(IQ,{key:I,className:"MetadataSpotlightHubCell-cellItem-1vyr3D",serverEntityID:t,providerEntityID:n,metadataListEntityID:i,metadataItemEntityID:I,containerKey:o,listType:l,listSubtype:c,listContext:d,titleComponents:D,cellWidth:h.width,cellHeight:h.height,metricsContext:a}),M?y.createElement(IQ,{key:b,tabIndex:-1,className:"MetadataSpotlightHubCell-cellItemFade-1SMxT2 MetadataSpotlightHubCell-cellItem-1vyr3D",serverEntityID:t,providerEntityID:n,metadataListEntityID:i,metadataItemEntityID:b,containerKey:o,listType:l,listSubtype:c,listContext:d,titleComponents:D,cellWidth:h.width,cellHeight:h.height,metricsContext:a}):null),p>1?y.createElement(y.Fragment,null,y.createElement(GC.Z,{className:"MetadataSpotlightHubCell-iconButtonPrev-3qK7uU IconButton-button-2smHOM MetadataSpotlightHubCell-iconButton-2wq3W2",iconComponent:pp,title:(0,De.Z)("Previous Page"),onPress:S}),y.createElement("div",{className:"MetadataSpotlightHubCell-dotsContainer-3l8Mhv"},s.map(((e,t)=>y.createElement(EQ,{key:t,metadataItemEntityID:e,selectedIndex:v,index:t,onPress:f})))),y.createElement(GC.Z,{className:"MetadataSpotlightHubCell-iconButtonNext-1r-JSm IconButton-button-2smHOM MetadataSpotlightHubCell-iconButton-2wq3W2",iconComponent:dp,title:(0,De.Z)("Next Page"),onPress:E})):null):null)};function CQ(e,t,n,i){const{key:s,typeKey:r,title:a,type:o,subtype:l,content:c,context:d}=i;return(0,UZ.kP)(s)?(0,UZ.ZP)(s,e,t,n):/\/library\/sections\/(\w+)\/cluster/.test(s)?(0,UZ.ZP)(UZ.tk.TIMELINE,e,t,n):/\/watchnow$/.test(s)?(0,UZ.ZP)(UZ.tk.GUIDE,e,t,n):c?(0,zg.Z)(e,t,n,{key:s,typeKey:r,context:d}):(0,zg.Z)(e,t,n,{key:s,type:o,subtype:l,title:a,context:d,pageType:i.pageType})}function PQ(e){const{title:t,attribution:n,route:i,sourceTitle:s}=e;return y.createElement(rH,{className:"MetadataHubCellHeader-title-vPjgkk HubCellTitle-hubCellTitle-3JEg8R"},n?y.createElement(gs,{className:"MetadataHubCellHeader-attribution-3McSRi",attribution:n}):null,i?y.createElement(AM.Z,{to:i},t):t,s?y.createElement(tr.Z,{className:"MetadataHubCellHeader-titleSeparator-19Gt9X DashSeparator-separator-3gTgvL"}):null,s?y.createElement("span",{className:"MetadataHubCellHeader-sourceTitle-MxUJmY"},s):null)}const wQ="HubCell-hubScrollButton-u6HMl5";class TQ extends y.Component{constructor(e,t){super(e,t),this.onListUpdate=e=>{const{visibleStartIndex:t,visibleEndIndex:n,renderEndIndex:i,listStyle:s}=e,{onListReady:r}=this.props,a=this._isReady?void 0:r;this._isReady=!0,this._visibleStartIndex=t,this._visibleEndIndex=n,this._pageSize=this._visibleEndIndex-this._visibleStartIndex;const o=t>0,l=i>n;this.setState({showActions:o||l,enablePrevious:o,enableNext:l,listHeight:s.height},a)},this.onListScrollIndexChange=e=>{this._setScrollIndex(e)},this.onPreviousPress=()=>{this._setScrollIndex(this._visibleStartIndex-this._pageSize-1)},this.onNextPress=()=>{this._setScrollIndex(this._visibleEndIndex+1)},this.state={showActions:!1,enablePrevious:!1,enableNext:!1,listHeight:"auto",scrollIndex:this.props.scrollIndex||0},this._isReady=!1,this._listRef=y.createRef()}static getDerivedStateFromProps(e,t){return null!=e.scrollIndex&&e.scrollIndex!==t.scrollIndex?{scrollIndex:e.scrollIndex}:null}componentDidMount(){this.props.more&&!this.props.totalSize&&this.props.onPageRequest({startIndex:0,endIndex:this.props.size||1}),this.props.more||this.props.size||this.props.totalSize||(this._isReady=!0,this.props.onListReady&&this.props.onListReady())}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}componentDidUpdate(e){this._isReady||!e.isPending||this.props.isPending||(this._isReady=!0,this.props.onListReady&&this.props.onListReady())}_setScrollIndex(e){this.props.onListScrollIndexChange&&this.props.onListScrollIndexChange(e),null==this.props.scrollIndex&&this.setState({scrollIndex:e})}render(){const{className:e,serverEntityID:t,providerEntityID:n,hubEntityID:i,directoryKey:s,allowHomeHubIndicator:r,allowPersistentHomeHubStatus:a,allowToggleHomeHub:o,hubIdentifier:l,isHomeHub:c,title:d,style:u,sourceTitle:p,attribution:m,route:h,scrollDirection:g,size:v,more:f,random:I,totalSize:b,keyPropName:M,itemsOffset:S,items:E,layout:D,cellRenderer:C,resizeTimeout:P,shouldConfirmHomeHubRemoval:w,onPageRequest:T}=this.props,{showActions:Z,enablePrevious:N,enableNext:A,listHeight:x}=this.state;if(!v&&!b)return null;const L=I?v:b||(f?v+1:v),O={visibility:"auto"===x?"hidden":"visible"},j={height:x,overflow:"hidden"},k=u!==hQ.VJ;return y.createElement("div",{className:e,style:O,"data-qa-id":"hub--"+l},k?y.createElement(iH,{allowHomeHubIndicator:r,allowPersistentHomeHubStatus:a,allowToggleHomeHub:o,className:"HubCell-hubCellHeader-wCcWjY HubCellHeader-hubCellHeader-G-yd6D",directoryKey:s,hubEntityID:i,isHomeHub:c,providerEntityID:n,serverEntityID:t,shouldConfirmHomeHubRemoval:w},y.createElement(PQ,{title:d,attribution:m,route:h,sourceTitle:p}),Z?y.createElement("div",{className:"HubCell-hubActions-33h5ks"},y.createElement(GC.Z,{className:wQ,"data-qa-id":"hubPreviousButton",iconComponent:pp,isDisabled:!N,title:(0,De.Z)("Previous Page"),onPress:this.onPreviousPress}),y.createElement(GC.Z,{className:wQ,"data-qa-id":"hubNextButton",iconComponent:dp,isDisabled:!A,title:(0,De.Z)("Next Page"),onPress:this.onNextPress})):null):null,y.createElement("div",{style:j},y.createElement(jC.Z,{scrollerClassName:"HubCell-hubScroller-1NdS3v VirtualListScroller-scroller-1ap5-a",ignoreHeight:!0,keyPropName:M,items:E,itemsOffset:S,scrollDirection:g,scrollIndex:this.state.scrollIndex,shouldCenterScrollIndex:this.props.shouldCenterScrollIndex,size:Math.min(1e4,L),layout:D,cellRenderer:C,resizeTimeout:P,ref:this._listRef,onListUpdate:this.onListUpdate,onListScrollIndexChange:this.onListScrollIndexChange,onPageRequest:T})))}}TQ.defaultProps={className:"HubCell-hubCell-2uIdEm",shouldCenterScrollIndex:!1,scrollDirection:vb._y};const ZQ=TQ;var NQ=Object.assign;const AQ=parseInt(ku.Z.listButtonHeight,10),xQ=(0,mH.ZP)({direction:mH._y,rows:1,overscan:4,innerHorizontalPadding:30,innerVerticalPadding:30,outerPaddingTop:10,outerPaddingRight:5,outerPaddingBottom:5,outerPaddingLeft:5,getCellWidth:e=>yH(NQ(NQ({},e),{preferredCellWidth:250,minCellWidth:200,minColumns:2,maxColumns:8,columnAdjustment:0})),getCellHeight:e=>AQ});var LQ=Object.prototype.hasOwnProperty,OQ=Object.getOwnPropertySymbols,jQ=Object.prototype.propertyIsEnumerable,kQ=Object.assign;const RQ=function(e){var{className:t,component:n,isSecondary:i,isDoubleLine:s,isSplitLine:r}=e,a=((e,t)=>{var n={};for(var i in e)LQ.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&OQ)for(var i of OQ(e))t.indexOf(i)<0&&jQ.call(e,i)&&(n[i]=e[i]);return n})(e,["className","component","isSecondary","isDoubleLine","isSplitLine"]);return y.createElement(n,kQ({className:we()(t,s?"MetadataPosterTitle-doubleLineTitle-kqZ8Y9 MetadataPosterTitle-title-nXZNlz":"MetadataPosterTitle-singleLineTitle-1uEoHn MetadataPosterTitle-title-nXZNlz",i&&"MetadataPosterTitle-isSecondary-jkwKt1",r&&"MetadataPosterTitle-isSplitLine-3PX8OX")},a))},zQ=(0,YM.Z)((function(){return(0,de.P1)(((e,{cellWidth:t})=>t),((e,{type:t})=>t),(0,_C.Z)(),((e,t,n={})=>({metadataKey:n.key,metadataType:n.type,imageUrl:n.dvrChannel&&n.dvrChannel.thumb,imageWidth:e,imageHeight:(0,qC.Cr)(e,t)})))}))((function(e){const{className:t,serverEntityID:n,providerEntityID:i,metadataItemEntityID:s,metadataKey:r,metadataType:a,imageUrl:o,imageWidth:l,imageHeight:c}=e,d=(0,HC.Z)(e),u=!r,p=u||d.isPlaceholder,m=eQ(HF,YC.Xp,{providerEntityID:i});return y.createElement("div",{className:t,style:d.style},p?y.createElement("div",{className:"MetadataChannelCell-placeholder-3hqVfw MetadataPosterCardFace-poster-11uR3N",style:{width:l,height:c}}):y.createElement(kj.Z,{cardClassName:"MetadataChannelCell-card-1eCthg MetadataPosterCard-card-72Dv8q",metadataKey:r,metadataItemEntityID:s,serverEntityID:n,providerEntityID:i,type:a,imageWidth:l,imageHeight:c,imageUrl:o,backgroundSize:"contain"}),y.createElement("div",{className:"MetadataChannelCell-titleContainer-1s0zPo"},u?(0,De.Z)("Loading..."):m.map(((e,t)=>e?y.createElement(RQ,{key:t,serverEntityID:n,providerEntityID:i,metadataItemEntityID:s,component:e,isDoubleLine:e.isDoubleLine}):null))))})),UQ=(0,de.P1)(fV.Z,(e=>e.metadataDirectories));function VQ(){return(0,de.P1)(((e,{sourceDirectory:t})=>t),((e,{metricsContext:t})=>t),(0,HM.Z)(),(0,UM.Z)(),(0,_C.Z)(),((e,t,n,i,s)=>{if(s)return CQ(n,i,e,{key:s.key,typeKey:s.typeKey,title:s.title,pageType:s.type===EM.km?EM.km:EM.IY,content:s.content,context:s.context||t})}))}const BQ=(0,YM.Z)((function(){return(0,de.P1)((0,de.P1)(((e,{metadataDirectoryEntityID:t})=>t),UQ,((e,t)=>t[e])),VQ(),((e={},t)=>({directoryKey:e.key,directoryType:e.type,title:e.title,route:t})))}))((function(e){const{className:t,title:n,route:i}=e,s=(0,HC.Z)(e);return y.createElement("div",{className:t,style:s.style},y.createElement($h.Z,{className:"MetadataDirectoryButtonCell-button-10UBXA Button-button-31pe5T Link-link-3v-v0b",kind:fo.Py,size:vc.ln,to:i},n))}));var FQ=n(89137);const HQ=2*parseInt(ku.Z.posterIconPadding,10),_Q=function({serverEntityID:e,providerEntityID:t,directoryKey:n,route:i,imageWidth:s,imageHeight:r,imageUrl:a,icon:o,title:l,isOffscreen:c,isOtherItemSelected:d,onMouseEnter:u}){return y.createElement("div",{key:n,className:"MetadataDirectoryPosterCard-cardContainer-26zHJv MetadataPosterCard-cardContainer-3cMNqe","data-qa-id":"directoryPosterCard--"+n},y.createElement("div",{className:"MetadataDirectoryPosterCard-card-3W7XnD MetadataPosterCard-card-72Dv8q",style:{width:s,height:r}},y.createElement("div",{className:"MetadataDirectoryPosterCard-face-1QlBJM MetadataPosterCardFace-face-3oaw1P MetadataPosterCardFace-poster-11uR3N"},!c&&a?y.createElement(FQ.Z,{serverEntityID:e,providerEntityID:t,url:a,width:s,height:r}):null,!c&&o?y.createElement("div",{className:"MetadataDirectoryPosterCard-iconContainer-3Op5MV"},y.createElement(FQ.Z,{serverEntityID:e,providerEntityID:t,url:o,width:s-HQ,height:r-HQ,backgroundSize:"contain"})):null,c||a||o||!l?null:y.createElement("div",{className:"MetadataDirectoryPosterCard-titleContainer-3EGsWC"},y.createElement("div",{className:"MetadataDirectoryPosterCard-titleItem--qsuR-"},l)),y.createElement("div",{className:"MetadataDirectoryPosterCard-overlay-jnyiqk MetadataPosterCardOverlay-overlay-1giDeK PosterCardOverlay-overlay-35eZx2",onMouseEnter:u},y.createElement("div",{className:"MetadataDirectoryPosterCard-overlayBackground-veZiZl MetadataPosterCardOverlay-background-1Zjvht PosterCardOverlay-background-1aqke7"}),y.createElement(AM.Z,{className:"MetadataDirectoryPosterCard-overlayLink-uILaPo MetadataPosterCardOverlay-link-1pPuo-",to:i}),d?y.createElement(th.Z,{className:"MetadataDirectoryPosterCard-overlaySelectCoverButton-DPq2Gq MetadataPosterCardOverlay-selectCoverButton-85-g11 MetadataPosterCardOverlay-coverButton-2ENc2v",component:AM.Z,tooltip:(0,De.Z)("A different type is selected"),tooltipAttachment:nh.jO,showOnFocus:!1,hideOnPress:!1}):null))))},QQ="MetadataDirectoryPosterCell-titleContainer-1HRwVM",GQ=(0,YM.Z)((function(){return(0,de.P1)(((e,{listContext:t})=>t),((e,{cellWidth:t})=>t),(0,_C.Z)(),VQ(),dj.Z,((e,t,n={},i,s)=>({directoryKey:n.key,directoryType:n.type,title:n.title,thumb:n.thumb,icon:n.icon,imageWidth:t,imageHeight:(0,qC.Cr)(t,n.type,n.subtype,e),route:i,isOtherItemSelected:!!s.activeSelectionType})))}))((function(e){const{className:t,serverEntityID:n,providerEntityID:i,imageWidth:s,imageHeight:r,directoryKey:a,directoryType:o,title:l,thumb:c,icon:d,route:u,onMouseEnter:p}=e,m=(0,HC.Z)(e),h=!a,g=h||m.isPlaceholder;return y.createElement("div",{className:t,style:m.style},g?y.createElement("div",{className:"MetadataDirectoryPosterCell-placeholder-3xj_mN MetadataPosterCardFace-poster-11uR3N",style:{width:s,height:r}}):y.createElement(_Q,{serverEntityID:n,providerEntityID:i,directoryKey:a,route:u,imageWidth:s,imageHeight:r,imageUrl:c,icon:d,title:l,onMouseEnter:p}),y.createElement("div",{className:QQ},h||"directory"!==o&&"genre"!==o?null:y.createElement("div",{className:QQ},y.createElement("span",{className:"MetadataDirectoryPosterCell-title-3RVtdi"},l))))}));var YQ=Object.assign;function WQ(e){const t=function(e,t){if(t===HF)return zQ;switch(e){case hQ.IY:return BQ;default:return GQ}}(e.hubStyle,e.listType);return function(n){return y.createElement(t,YQ(YQ({},e),n))}}var KQ=Object.prototype.hasOwnProperty,qQ=Object.getOwnPropertySymbols,$Q=Object.prototype.propertyIsEnumerable,JQ=Object.assign;const XQ=function(e){const{metadataListEntityID:t,metadataItemEntityIDs:n,sourceDirectory:i,containerKey:s,listType:r,listSubtype:a,listContext:o,style:l,columnAdjustment:c,populatedRange:d,route:u}=e,p=((e,t)=>{var n={};for(var i in e)KQ.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&qQ)for(var i of qQ(e))t.indexOf(i)<0&&$Q.call(e,i)&&(n[i]=e[i]);return n})(e,["metadataListEntityID","metadataItemEntityIDs","sourceDirectory","containerKey","listType","listSubtype","listContext","style","columnAdjustment","populatedRange","route"]),{serverEntityID:m,providerEntityID:h}=p;let g;return g=l===hQ.IY?xQ:MH(r,a,o,c,eQ(r,o,{providerEntityID:h,subType:a}).length),y.createElement(ZQ,JQ(JQ({},p),{containerKey:s,keyPropName:"metadataItemEntityID",items:n,itemsOffset:d.start,layout:g,cellRenderer:WQ({serverEntityID:m,providerEntityID:h,metadataListEntityID:t,sourceDirectory:i,containerKey:s,hubStyle:l,listType:r,listContext:YC.Vz})}))};function eG(){return(0,de.P1)(((e,{providerEntityID:t})=>t),_t.Z,(0,_C.Z)(),((e,t,n={})=>!!t[n.providerEntityID||e]))}var tG=n(17798),nG=n(36171);let iG;const sG=function(e){if(!e)return"";iG||(iG=document.createElement("P")),iG.innerHTML=e;const t=iG.textContent;return iG.innerHTML="",t};function rG(){return(0,de.P1)(eP.Z,(0,_C.Z)(),((e,t={})=>{const{summary:n}=t;return(e?(0,tG.Z)(e.identifier):null)===nG.k9?sG(n):n}))}function aG(){return(0,de.P1)(((e,{listSubtype:t})=>t),(0,_C.Z)(),((e,t)=>t?t.subtype:e))}function oG(){return(0,de.P1)(((e,{listType:t})=>t),(0,_C.Z)(),((e,t)=>{if(!t)return e;const n=e===Oj.pV&&t.type===Ho.CLIP,i=e===Oj.vu&&t.type===Ho.MOVIE;return n||i?e:t.extraType?Oj.V4:t.type}))}var lG=n(21709),cG=n(60208);function dG(e,t){switch(e){case Ho.SEASON:return(0,De.Z)("Seasons");case Ho.EPISODE:return 1===t?(0,De.Z)("1 Episode"):(0,De.Z)("{episodeCount} Episodes",{episodeCount:t});case Ho.ALBUM:return 1===t?(0,De.Z)("1 Album"):(0,De.Z)("{albumCount} Albums",{albumCount:t});case Ho.TRACK:return 1===t?(0,De.Z)("1 Track"):(0,De.Z)("{trackCount} Tracks",{trackCount:t});default:return 1===t?(0,De.Z)("1 Item"):(0,De.Z)("{trackCount} Items",{trackCount:t})}}var uG=n(4746);const pG=function({className:e,index:t}){return null==t?null:y.createElement("span",{className:e},t)},mG="MetadataSummaryCell-separator-iGfPtH DashSeparator-separator-3gTgvL";var hG=Object.assign;const gG=function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,containerKey:s,listType:r,listContext:a,cellIndex:o,metadataKey:l,grandparentKey:c,type:d,index:u,title:p,parentTitle:m,summary:h,leafCount:g,duration:v,isFolder:f,route:I,isCondensed:b,isUnavailable:M,showLink:S,showEdit:E,showSelect:D,showMore:C,hasActiveSelection:P,isSelected:w,isOtherItemSelected:T,isModifierKeyPressed:Z,imageWidth:N,imageHeight:A,imageUrl:x,onEditPress:L,onSelectPress:O,onDeselectPress:j}=e,k=(0,HC.Z)(e),[R,z]=aT(),[U,V]=(0,y.useState)(!1),B=(0,Ho.getChildType)(d),F=M||k.isPlaceholder,H=a===YC.Y3,_=D&&(Z||T),Q=P?"-1":"0",G=null!=u,Y=!R;return y.createElement("div",hG({className:we()(!b&&o%2?"MetadataSummaryCell-alternateItem-wclmMn MetadataSummaryCell-item-2ksqkJ":"MetadataSummaryCell-item-2ksqkJ",P&&"MetadataSummaryCell-hasActiveSelection-f5uUSz",_&&"MetadataSummaryCell-isForcingSelection-5vhpEa",w&&"MetadataSummaryCell-isSelected-1t8VdQ",U&&"MetadataSummaryCell-isActionsMenuOpen-1X_QfW"),style:k.style},z),D?y.createElement(AM.Z,{className:"MetadataSummaryCell-selectCoverButton-1jxyD5","aria-label":w?(0,De.Z)("Deselect {title}",{title:p}):(0,De.Z)("Select {title}",{title:p}),tabIndex:S&&!P?"-1":"0",onPress:w?j:O}):null,S?y.createElement(AM.Z,{className:"MetadataSummaryCell-underlay-8Jnos2",tabIndex:Q,to:I,"aria-label":p}):null,y.createElement("div",{className:"MetadataSummaryCell-overlay-xhIvnb"},y.createElement("div",{className:"MetadataSummaryCell-posterContainer-O13JZA"},F?y.createElement(Rj.Z,{imageWidth:N,imageHeight:A}):y.createElement(kj.Z,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,containerKey:s,listType:r,listContext:a,metadataKey:l,type:d,imageWidth:N,imageHeight:A,imageUrl:x,isFolder:f,showLink:!1,showSelect:!1,showEdit:!1,showMore:!1})),y.createElement("div",{className:H?"MetadataSummaryCell-librarySummaryContainer-370FBN MetadataSummaryCell-summaryContainer-2b-kz5":"MetadataSummaryCell-summaryContainer-2b-kz5"},y.createElement("div",null,y.createElement("div",{className:"MetadataSummaryCell-titleContainer-1gsRA4"},y.createElement("div",{className:h?"MetadataSummaryCell-title-1svrXs":"MetadataSummaryCell-doubleTitle-2I5d2h"},c?y.createElement("span",null,H?y.createElement(iP,{metadataItemEntityID:i}):G&&y.createElement(pG,{index:u}),H||G?y.createElement(tr.Z,{className:mG}):null):null,p),b?null:y.createElement("div",{className:"MetadataSummaryCell-rating-1oOIOz"},y.createElement($_,{metadataItemEntityID:i,hideUnrated:Y})),y.createElement("div",{className:"MetadataSummaryCell-actions-3CiM9B"},D?y.createElement(xj.Z,{className:"MetadataSummaryCell-selectButton-2MKGg2 SelectButton-selectButton-Yy19xn MetadataSummaryCell-button-BBVAbI",tabIndex:Q,title:p,isSelected:w,onPress:O}):null,E?y.createElement(AM.Z,{"data-qa-id":"metadataSummaryEditButton",className:"MetadataSummaryCell-editButton-u8MVtp MetadataSummaryCell-button-BBVAbI",tabIndex:Q,"aria-label":(0,De.Z)("Edit {title}",{title:p}),onPress:L},y.createElement(Jd.Z,null)):null,C?y.createElement(uG.Z,{"data-qa-id":"metadataSummaryMoreButton",className:"MetadataSummaryCell-moreButton-2Vp3tB MetadataSummaryCell-button-BBVAbI",tabIndex:Q,serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,containerKey:s,listType:r,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:U,onMenuOpenChange:V}):null)),m?y.createElement("div",{className:"MetadataSummaryCell-subtitle-2OnXM9 MetadataSummaryCell-title-1svrXs"},y.createElement("span",null,y.createElement(PH,{metadataItemEntityID:i}),g?y.createElement(tr.Z,{className:mG,separator:"·"}):null,g?dG(B,g):null,v?y.createElement(tr.Z,{className:mG,separator:"·"}):null,v?y.createElement(y_,{duration:v}):null)):null,y.createElement("div",{className:m?"MetadataSummaryCell-shorterSummary-1hnGPo MetadataSummaryCell-summary-24HmlZ":"MetadataSummaryCell-summary-24HmlZ"},h)))))},yG=function(e){const{cellIndex:t,imageWidth:n,imageHeight:i}=e,s=(0,HC.Z)(e);return y.createElement("div",{className:t%2?"MetadataSummaryCellLoading-alternateLoadingItem-3SrxPI MetadataSummaryCellLoading-loadingItem-2GYCki":"MetadataSummaryCellLoading-loadingItem-2GYCki",style:s.style},y.createElement("div",{className:"MetadataSummaryCellLoading-posterContainer-NlYSAK"},y.createElement(Rj.Z,{imageWidth:n,imageHeight:i})),(0,De.Z)("Loading..."))};var vG=Object.assign;const fG=parseInt(ku.Z.summaryCellPadding,10),IG=(0,lG.Z)(gG);class bG extends y.Component{render(){return this.props.metadataKey?this.props.showSelect?y.createElement(IG,vG({},this.props)):y.createElement(gG,vG({},this.props)):y.createElement(yG,vG({},this.props))}}const MG=(0,f.$j)(F_.Z)((0,YM.Z)((function(){return(0,de.P1)(((e,{listContext:t})=>t),((e,{cellHeight:t})=>t),(0,_C.Z)(),tP.Z,eP.Z,Wa.Z,oG(),aG(),(0,rP.Z)(),rG(),jj(),Lj(),dj.Z,eG(),((e,t,n={},i,s,r,a,o,l,c,d,u,p,m)=>{const h=t-2*fG,g=(0,cG.Z)(null,h,a,o,n,e),y=!i||!s;return{metadataKey:n.key,grandparentKey:n.grandparentKey,parentTitle:n.parentTitle,type:a,index:n.index,title:n.title,leafCount:n.leafCount,duration:n.duration,summary:c,isFolder:n.isFolder,isUnavailable:!m,selectionID:n.entityID,selectionType:d,activeSelectionType:p.activeSelectionType,isSelected:u,route:l,showLink:!!l,showEdit:!y&&(0,KR.J5)({server:i,provider:s,stableUser:r,metadataItem:n}),showSelect:!y&&(0,KR.k_)({server:i,provider:s,stableUser:r,metadataItem:n}),showMore:!n.isFolder&&m,imageWidth:g.width,imageHeight:g.height,imageUrl:g.url}}))}),(function(e,t){const{metadataListEntityID:n,metadataItemEntityID:i,metricsPage:s}=t;return{onEditPress(){e((0,Ka.editMetadataItem)({metadataItemEntityID:i,metricsPage:s}))},onSelectItem(t){e((0,cb.wr)(vG({metadataListEntityID:n,id:i},t)))},onDeselectItem(t){e((0,cb.g8)(vG({metadataListEntityID:n},t)))}}}),_k.Z)(bG));var SG=Object.assign;const EG=parseInt(ku.Z.summaryCellHeight,10),DG={};var CG=Object.prototype.hasOwnProperty,PG=Object.getOwnPropertySymbols,wG=Object.prototype.propertyIsEnumerable,TG=Object.assign;var ZG=Object.assign;const NG=(0,f.$j)((function(){return(0,de.P1)(((e,{listContext:t})=>t),((e,{cellWidth:t})=>t),((e,{displayFieldDefinitions:t})=>t),(0,_C.Z)(),oG(),aG(),jj(),Lj(),dj.Z,eG(),((e,t,n,i={},s,r,a,o,l,c)=>{var d;const u=(0,cG.Z)(t,null,s,r,i,e);return{itemServerEntityID:i.serverEntityID,itemProviderEntityID:i.providerEntityID,isFeaturedHub:vH(e),metadataKey:i.key,displayFieldDefinitions:n,displayFields:(null==(d=i.Context)?void 0:d.displayFields)||ta(s,r,n),type:s,subtype:r,selectionType:a,activeSelectionType:l.activeSelectionType,isSelected:o,icon:i.icon,imageWidth:u.width,imageHeight:u.height,imageUrl:u.url,isFolder:i.isFolder,isUnavailable:!c}}))}),(function(e,t){const{metadataListEntityID:n}=t;return{onSelectItem(t){e((0,cb.wr)(ZG({metadataListEntityID:n},t)))},onDeselectItem(t){e((0,cb.g8)(ZG({metadataListEntityID:n},t)))}}}))((function(e){const{className:t,serverEntityID:n,providerEntityID:i,metadataItemEntityID:s,searchResultEntityID:r,containerKey:a,cellIndex:o,cellX:l,cellY:c,cellWidth:d,cellHeight:u,isVirtual:p,isVisible:m,isScrolling:h,listType:g,listContext:v,titleComponents:f,isFeaturedHub:I,metadataKey:b,displayFields:M,displayFieldDefinitions:S,type:E,subtype:D,selectionType:C,activeSelectionType:P,isSelected:w,isUnavailable:T,imageWidth:Z,imageHeight:N,imageUrl:A,onSelectItem:x,onDeselectItem:L}=e,O=((e,t)=>{var n={};for(var i in e)CG.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&PG)for(var i of PG(e))t.indexOf(i)<0&&wG.call(e,i)&&(n[i]=e[i]);return n})(e,["className","serverEntityID","providerEntityID","metadataItemEntityID","searchResultEntityID","containerKey","cellIndex","cellX","cellY","cellWidth","cellHeight","isVirtual","isVisible","isScrolling","listType","listContext","titleComponents","isFeaturedHub","metadataKey","displayFields","displayFieldDefinitions","type","subtype","selectionType","activeSelectionType","isSelected","isUnavailable","imageWidth","imageHeight","imageUrl","onSelectItem","onDeselectItem"]),j=(0,HC.Z)(e),k=!b,R=k||T||j.isPlaceholder,z=function(e,t,n,i,s,r){const a=t===Oj.t1,o=t===Oj.pV,l=n===Ho.COLLECTION;if(r)return X_(r);if(!a&&!o&&!l)return e;const c=J_(n,i,s),d=J_(t,i,s),u=e.filter((e=>!d.includes(e)));return c.concat(u)}(f,g,E,D,v,M||ta(E,D,S)),U=I?z.slice(0,2):[],V=I?z.slice(2):z;return y.createElement("div",{className:t,style:j.style,"data-qa-id":"cellItem"},R?y.createElement(Rj.Z,{imageWidth:Z,imageHeight:N,isSelected:w}):y.createElement(kj.Z,TG({serverEntityID:n,providerEntityID:i,metadataItemEntityID:s,containerKey:a,listType:g,listContext:v,metadataKey:b,type:E,imageWidth:Z,imageHeight:N,imageUrl:A,selectionType:C,activeSelectionType:P,isSelected:w,onSelectItem:x,onDeselectItem:L},O)),y.createElement("div",{"data-qa-id":"metadataTitleContainer",className:I?"MetadataPosterCell-continueWatchingTitleContainer-2pzpUH":"MetadataPosterCell-titleContainer-1hTuNQ"},k?(0,De.Z)("Loading..."):null,!k&&U.length?y.createElement("div",{className:"MetadataPosterCell-splitTitleContainer-UnIpGe"},U.map(((t,o)=>y.createElement(RQ,{key:o,serverEntityID:n,providerEntityID:i,metadataItemEntityID:s,searchResultEntityID:r,containerKey:a,metricsContext:e.metricsContext,component:t,isSecondary:o>0,isDoubleLine:t.isDoubleLine,isSplitLine:!0})))):null,k?null:V.map(((t,o)=>t?y.createElement(RQ,{key:o,serverEntityID:n,providerEntityID:i,metadataItemEntityID:s,searchResultEntityID:r,containerKey:a,metricsContext:e.metricsContext,component:t,isSecondary:U.length+o>0,isDoubleLine:t.isDoubleLine}):null))))}));var AG=Object.prototype.hasOwnProperty,xG=Object.getOwnPropertySymbols,LG=Object.prototype.propertyIsEnumerable,OG=Object.assign;const jG=function(e){const{metadataListEntityID:t,metadataItemEntityIDs:n,metricsContext:i,containerKey:s,listType:r,listSubtype:a,listContext:o,columnAdjustment:l,populatedRange:c,displayFieldDefinitions:d,displayFields:u}=e,p=((e,t)=>{var n={};for(var i in e)AG.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&xG)for(var i of xG(e))t.indexOf(i)<0&&LG.call(e,i)&&(n[i]=e[i]);return n})(e,["metadataListEntityID","metadataItemEntityIDs","metricsContext","containerKey","listType","listSubtype","listContext","columnAdjustment","populatedRange","displayFieldDefinitions","displayFields"]),{serverEntityID:m,providerEntityID:h,hubIdentifier:g}=p,v=eQ(r,o,{providerEntityID:h,subtype:a,isExternal:g.indexOf("external")>-1,displayFields:u}),f="relatedAlbums"===g;let I=NG;f&&(I=MG);const b=f?function(e=0){const t=e;if(DG.hasOwnProperty(t))return DG[t];const n=(0,mH.ZP)({direction:mH._y,rows:1,getCellWidth:t=>yH(SG(SG({},t),{preferredCellWidth:600,minCellWidth:400,minColumns:2,maxColumns:4,columnAdjustment:e})),getCellHeight:()=>EG});return DG[t]=n,n}(l):MH(r,a,o,l,v.length);return y.createElement(ZQ,OG(OG({},p),{containerKey:s,keyPropName:"metadataItemEntityID",items:n,itemsOffset:c.start,layout:b,cellRenderer:Yj({serverEntityID:m,providerEntityID:h,metadataListEntityID:t,containerKey:s,listType:r,listSubtype:a,listContext:o,titleComponents:v,displayFieldDefinitions:d,displayFields:u,isCondensed:!0,metricsContext:i},I)}))};var kG=n(55726),RG=n(67635);const zG=function({className:e,duration:t,isPreview:n}){return n?y.createElement("span",{className:e},(0,De.Z)("Preview")):t?y.createElement("span",{className:e},(0,Iy.Z)(t)):null},UG=(0,f.$j)((function(e,t){return(0,de.P1)((0,_C.Z)(),((e={})=>{const{duration:t,preview:n}=e;return{duration:t,isPreview:!!n}}))}))(zG);var VG=Object.assign;const BG=function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,containerKey:s,listType:r,listContext:a,cellIndex:o,metadataKey:l,type:c,title:d,isFolder:u,isUnavailable:p,route:m,showLink:h,showEdit:g,showSelect:v,showMore:f,skipGrandparent:I,hasActiveSelection:b,isSelected:M,isOtherItemSelected:S,isModifierKeyPressed:E,isPlayerPaused:D,isPlaying:C,imageWidth:P,imageHeight:w,imageUrl:T,onEditPress:Z,onPlayPress:N,onSelectPress:A,onDeselectPress:x}=e,L=(0,HC.Z)(e),[O,j]=aT(),[k,R]=(0,y.useState)(!1),z=p||L.isPlaceholder,U=v&&(E||S),V=b?"-1":"0",B=!O;return y.createElement("div",VG({className:we()(o%2?"MetadataTrackCell-alternateItem-1dFHXy MetadataTrackCell-item-2NBgzw":"MetadataTrackCell-item-2NBgzw",b&&"MetadataTrackCell-hasActiveSelection-1BZL5l",U&&"MetadataTrackCell-isForcingSelection-2n_5FB",M&&"MetadataTrackCell-isSelected-1iYlsn",k&&"MetadataTrackCell-isActionsMenuOpen-3ZOwPY"),style:L.style},j),v?y.createElement(AM.Z,{className:"MetadataTrackCell-selectCoverButton-1Jc56I","aria-label":M?(0,De.Z)("Deselect {title}",{title:d}):(0,De.Z)("Select {title}",{title:d}),tabIndex:h&&!b?"-1":"0",onPress:M?x:A}):null,h?y.createElement(AM.Z,{className:"MetadataTrackCell-underlay-3p2w0B",tabIndex:V,to:m,"aria-label":d}):null,y.createElement("div",{className:"MetadataTrackCell-overlay-2Zlkjt"},y.createElement("div",{className:"MetadataTrackCell-container-2jwwcU"},y.createElement("div",{className:"MetadataTrackCell-playIndexContainer-2oN3E1"},C?null:y.createElement(pG,{className:"MetadataTrackCell-index-3bl-Ws",index:o+1}),C||p?null:y.createElement(dP.Z,{className:"MetadataTrackCell-playButton-2THgwD PlayButton-playButton-2dFmuo MetadataTrackCell-button-1FYc7j","data-qa-id":"listItemPlayButton",tabIndex:V,title:d,onPress:N}),C?y.createElement(mv,{className:"MetadataTrackCell-equalizer-3haefZ EqualizerIcon-equalizer-u2_y9X",isPaused:D}):null),y.createElement("div",{className:"MetadataTrackCell-posterContainer-pX87XY"},z?y.createElement(Rj.Z,{imageWidth:P,imageHeight:w}):y.createElement(kj.Z,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,containerKey:s,listType:r,listContext:a,metadataKey:l,type:c,imageWidth:P,imageHeight:w,imageUrl:T,isFolder:u,showLink:!1,showSelect:!1,showEdit:!1,showMore:!1,showPlay:!1})),y.createElement("div",{className:"MetadataTrackCell-titleContainer-2QizkG"},y.createElement("div",null,d),y.createElement(M_,{className:"MetadataTrackCell-subtitle-LUzOEf",metadataItemEntityID:i,skipGrandparent:I,isSecondary:!0})),y.createElement("div",{className:"MetadataTrackCell-actionsContainer-3DgPbx"},y.createElement($_,{className:"MetadataTrackCell-rating-3jjeAV",metadataItemEntityID:i,hideUnrated:B}),y.createElement(UG,{className:"MetadataTrackCell-duration-20j9pD",metadataItemEntityID:i}),y.createElement("div",{className:"MetadataTrackCell-buttons-1d50S6"},v?y.createElement(xj.Z,{className:"MetadataTrackCell-selectButton-3RMkIi SelectButton-selectButton-Yy19xn MetadataTrackCell-button-1FYc7j",tabIndex:V,title:d,isSelected:M,onPress:A}):null,g?y.createElement(AM.Z,{"data-qa-id":"metadataTrackEditButton",className:"MetadataTrackCell-editButton-3K8Znf MetadataTrackCell-button-1FYc7j",tabIndex:V,"aria-label":(0,De.Z)("Edit {title}",{title:d}),onPress:Z},y.createElement(Jd.Z,null)):null,f?y.createElement(uG.Z,{"data-qa-id":"metadataTrackMoreButton",className:"MetadataTrackCell-moreButton-3iry0X MetadataTrackCell-button-1FYc7j",tabIndex:V,serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,containerKey:s,listType:r,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:k,onMenuOpenChange:R}):null)))))},FG=function(e){const{cellIndex:t}=e,n=(0,HC.Z)(e);return y.createElement("div",{className:t%2?"MetadataTrackCellLoading-alternateLoadingItem-CeK4yn MetadataTrackCellLoading-loadingItem-1_4PkL":"MetadataTrackCellLoading-loadingItem-1_4PkL",style:n.style},(0,De.Z)("Loading..."))};var HG=Object.assign;const _G=parseInt(ku.Z.trackCellPadding,10),QG=(0,lG.Z)(BG);class GG extends y.Component{render(){return this.props.metadataKey?this.props.showSelect?y.createElement(QG,HG({},this.props)):y.createElement(BG,HG({},this.props)):y.createElement(FG,HG({},this.props))}}const YG=(0,f.$j)(F_.Z)((0,YM.Z)((function(){return(0,de.P1)(((e,{listContext:t})=>t),((e,{cellHeight:t})=>t),(0,_C.Z)(),tP.Z,eP.Z,Wa.Z,oG(),aG(),(0,rP.Z)(),rG(),jj(),Lj(),(0,RG.Z)(),(e=>e.ui.audioVideoPlayer.isPaused),dj.Z,eG(),((e,t,n={},i,s,r,a,o,l,c,d,u,p,m,h,g)=>{const y=t-2*_G,v=(0,cG.Z)(null,y,a,o,n,e),f=!i||!s;return{metadataKey:n.key,grandparentTitle:n.grandparentTitle,type:a,index:n.index,title:n.title,summary:c,isFolder:n.isFolder,isUnavailable:!g,selectionID:n.entityID,selectionType:d,activeSelectionType:h.activeSelectionType,isSelected:u,route:l,isPlaying:p,isPlayerPaused:m,showLink:!!l,showEdit:!f&&(0,KR.J5)({server:i,provider:s,stableUser:r,metadataItem:n}),showSelect:!f&&(0,KR.k_)({server:i,provider:s,stableUser:r,metadataItem:n}),showMore:!n.isFolder&&g,imageWidth:v.width,imageHeight:v.height,imageUrl:v.url}}))}),(function(e,t){const n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,itemServerEntityID:t.itemServerEntityID,itemProviderEntityID:t.itemProviderEntityID,metadataItemEntityID:t.metadataItemEntityID,metadataListEntityID:t.metadataListEntityID,metricsPage:t.metricsPage,options:{containerKey:t.containerKey,listType:t.listType}};return{onPlayPress(){e((0,it.wA)(n))},onEditPress(){e((0,Ka.editMetadataItem)(n))},onSelectItem(t){e((0,cb.wr)(HG({metadataListEntityID:n.metadataListEntityID,id:n.metadataItemEntityID},t)))},onDeselectItem(t){e((0,cb.g8)(HG({metadataListEntityID:n.metadataListEntityID},t)))}}}),_k.Z)(GG)),WG={[Ho.TRACK]:parseInt(ku.Z.trackCellHeight,10),[Ho.ALBUM]:parseInt(ku.Z.summaryCellHeight,10)},KG={[Ho.TRACK]:YG,[Ho.ALBUM]:MG},qG={[Ho.TRACK]:3,[Ho.ALBUM]:10};class $G extends y.Component{componentDidMount(){this.props.onListReady&&this.props.onListReady()}render(){const{className:e,serverEntityID:t,providerEntityID:n,hubEntityID:i,metadataListEntityID:s,metadataItemEntityIDs:r,hubIdentifier:a,directoryKey:o,containerKey:l,title:c,attribution:d,route:u,more:p,listType:m,listContext:h}=this.props,g=WG[m],v=KG[m],f=r.slice(0,qG[m]),I=Ho.getMetadataType(m).plural,b=p||f.length!==r.length;return y.createElement("div",{className:e,"data-qa-id":"hub--"+a},y.createElement(iH,{className:"MetadataVerticalHubCell-hubCellHeader-10JhgE HubCellHeader-hubCellHeader-G-yd6D",directoryKey:o,hubEntityID:i},y.createElement(rH,{className:"MetadataVerticalHubCell-title-1_OVBL HubCellTitle-hubCellTitle-3JEg8R"},d?y.createElement(gs,{className:"MetadataVerticalHubCell-attribution-1NtWBx",attribution:d}):null,c),b?y.createElement(AM.Z,{className:"MetadataVerticalHubCell-titleButton-L6s89W",to:u},(0,De.Z)("See all {typeLabel}",{typeLabel:I})):null),y.createElement("div",{className:"MetadataVerticalHubCell-list-uHrTYQ"},f.map(((e,i)=>y.createElement(v,{key:i,serverEntityID:t,providerEntityID:n,metadataListEntityID:s,metadataItemEntityID:e,containerKey:l,listType:m,listContext:h,cellIndex:i,cellHeight:g,style:{width:"100%",height:g}})))))}}$G.defaultProps={className:"MetadataVerticalHubCell-hubCell-1eIUbQ"};const JG=$G;var XG=Object.assign;const eY=(0,YM.Z)((function(){return(0,de.P1)(((e,{sourceDirectory:t})=>t),((e,{listContext:t})=>t),((e,{allowSourceTitle:t})=>t),((e,{metricsPage:t})=>t),(0,HM.Z)(),(0,UM.Z)(),UF(),(0,de.P1)(pQ((0,UM.Z)(),["identifier","title","sourceTitle"]),pQ((0,HM.Z)(),["friendlyName","sourceTitle"]),((e,t)=>gV(e,t))),BF(),((e,t,n,i,s,r,a,o,l)=>{var c;const d=a.hubIdentifier.indexOf("music.video")>-1?Oj.nW:a.type,u=t||xF(a.hubIdentifier),p=xC(i,a.context||a.hubIdentifier);let m,h;if(a.key&&u!==YC.wl){const t={key:a.key,title:a.title,pageType:EM.IY,context:p};m=e?CQ(s,r,e,t):a.source?Fn(a.source,t):(0,yQ.Z)(s,r,t)}h="content"===a.type||a.type===HF?XQ:a.style===hQ.VJ?DQ:a.style!==hQ.IY||a.type!==Ho.TRACK&&1!==a.size?a.metadataList?jG:XQ:JG;const g={component:h,metadataListEntityID:a.metadataList,metricsContext:p,hubIdentifier:a.hubIdentifier,title:a.title,sourceTitle:n?o:null,attribution:a.attribution,route:m,style:a.style,size:a.size,more:a.more,random:a.random,autoAdvanceDelayMs:a.autoAdvanceDelayMs,displayFieldDefinitions:null==(c=a.Meta)?void 0:c.DisplayFields,containerKey:a.key,listType:d,listSubtype:a.subtype,listContext:u,isHomeHub:l};if(a.source){const{serverEntityID:e,providerEntityID:t}=mQ(a.source);g.serverEntityID=e,g.providerEntityID=t}return g}))}))(kG.Z);eY.propTypes=XG(XG({},eY.propTypes),{providerEntityID:ls().string.isRequired,serverEntityID:ls().string.isRequired,hubEntityID:ls().string.isRequired,sourceDirectory:gQ,allowSourceTitle:ls().bool});const tY=eY;var nY=Object.prototype.hasOwnProperty,iY=Object.getOwnPropertySymbols,sY=Object.prototype.propertyIsEnumerable,rY=Object.assign;const aY={dispatchFetchHomeHubs:mF,dispatchUpdateHomeHubsStatus:vF};class oY extends y.Component{constructor(e,t){super(e,t),this.onRetryHomeHub=()=>{const e={homeHubIDs:[this.props.homeHubID],fetchDelayMS:350};this.setState({hasRetried:!0},this.props.dispatchFetchHomeHubs.bind(null,e))},this.state={hasRetried:!1}}componentDidUpdate(e){const{errorTitle:t,homeHubID:n,isServerConnected:i,dispatchFetchHomeHubs:s,dispatchUpdateHomeHubsStatus:r}=this.props,a=!e.errorTitle&&t,o=i&&!e.isServerConnected,l=!i&&e.isServerConnected;a&&this.state.hasRetried&&ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was an error retrieving content.")}),(o||l)&&this.setState({hasRetried:!1},(()=>{o?s({homeHubIDs:[n]}):l&&r({homeHubIDs:[n],status:{error:{},isPending:!1,isPopulated:!1}})}))}render(){const e=this.props,{allowSourceTitle:t,dispatchFetchHomeHubs:n,dispatchUpdateHomeHubsStatus:i,homeHubID:s,homeHub:r,homePageHomeHubStatus:a,isServerConnected:o,sourceTitle:l,title:c}=e,d=((e,t)=>{var n={};for(var i in e)nY.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&iY)for(var i of iY(e))t.indexOf(i)<0&&sY.call(e,i)&&(n[i]=e[i]);return n})(e,["allowSourceTitle","dispatchFetchHomeHubs","dispatchUpdateHomeHubsStatus","homeHubID","homeHub","homePageHomeHubStatus","isServerConnected","sourceTitle","title"]);return a.isPopulated?y.createElement(tY,rY(rY({},d),{allowSourceTitle:t,hubEntityID:a.hub,providerEntityID:a.provider,serverEntityID:a.server})):y.createElement(uQ,rY(rY({},d),{hasRetried:this.state.hasRetried,homeHub:r,homePageHomeHubStatus:a,sourceTitle:l,title:c,onRetryHomeHub:this.onRetryHomeHub}))}}const lY=(0,f.$j)((function(){return(0,de.P1)((0,AF.Z)(),yV(),vV(),EV(),SV(),(0,de.P1)(vV(),MV(),((e,t)=>{const{error:n}=e;let i;return n&&(i=n.isContentUnavailable?(0,De.Z)("Content Unavailable"):t?t.isInstallingServerUpdate?(0,De.Z)("Installing Update"):t.isOutOfDate?(0,De.Z)("Update Required"):(0,De.Z)("Unreachable"):(0,De.Z)("Unknown Server")),i})),(0,de.P1)(MV(),(e=>!!e)),(0,de.P1)(MV(),(e=>!!e&&e.isConnected)),((e,{allowSourceTitle:t})=>t),((e,t,n,i,s,r,a,o,l)=>({columnAdjustment:e,errorTitle:r,hasServer:a,homeHub:t,homePageHomeHubStatus:n,isServerConnected:o,sourceTitle:l?s:null,title:i})))}),aY)(oY),cY={opacity:0,pointerEvents:"none"},dY={opacity:1,pointerEvents:"auto"};class uY extends y.Component{constructor(e,t){super(e,t),this.onListReady=()=>{++this._readyCount===this._initialCount&&this.setState({isReady:!0})},this.state={isReady:!1},this._readyCount=0}componentWillMount(){this._initialCount=this.props.homeHubIDs.length}componentWillReceiveProps(e){const t=e.homeHubIDs.length,n=this.props.homeHubIDs.length;this.state.isReady||t===n||(this._initialCount=t,this._readyCount===t&&this.setState({isReady:!0}))}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}componentDidUpdate(e,t){!t.isReady&&this.state.isReady&&(0,M.DB)("metrics").trackView({page:et.Sd,mode:tU.Custom})}render(){const{homeHubIDs:e}=this.props,{isReady:t}=this.state;return y.createElement("div",{style:t?dY:cY},e.map((e=>y.createElement(lY,{key:e,homeHubID:e,allowSourceTitle:!0,allowToggleHomeHub:!0,shouldConfirmHomeHubRemoval:!0,onListReady:this.onListReady}))))}}const pY=uY,mY=function(e){const{onResetCustomization:t}=e,n=(0,xE.Z)(t);return y.createElement(zC.Z,{iconSrc:iU,title:(0,De.Z)("Your home screen is empty"),description:y.createElement(y.Fragment,null,y.createElement(ax.Z,{message:(0,De.Z)("If this is unexpected, see our {openLink}home screen customization tips{closeLink}. If you removed everything and want it all back, choosing Reset Customization below will reset your sidebar navigation and home screen layout to the default state."),tags:[{open:"openLink",close:"closeLink",component:AM.Z,kind:fo._8,to:Np.hd,target:"_self"}]}))},y.createElement($h.Z,{kind:fo._8,size:vc.ln,onPress:n.onOpen},(0,De.Z)("Reset Customization")),y.createElement(nt.Z,{kind:fo.T,title:(0,De.Z)("Reset Customization"),message:(0,De.Z)("You are about to reset your sidebar navigation and home screen layout to the default state."),confirmLabel:(0,De.Z)("Reset Customization"),metricsPage:et.X4,isOpen:n.isOpen,onCancel:n.onClose,onConfirm:n.onConfirm}))},hY=parseInt(ku.Z.v4CardShadowSize,10),gY=(0,de.P1)(ye.Z,(e=>e.columnAdjustment)),yY=(0,de.P1)((e=>e.ui.watchTogether.rooms.length),(e=>e)),vY=function(){const e=(0,f.v9)(gY),t=(0,f.v9)(yY),[n,i]=(0,Mp.Z)(),s=(0,y.useMemo)((()=>{if(!i.width)return null;const n=MH(Oj.wR,void 0,YC.Y3,e);return n.getListStyle({listTop:i.top,listLeft:i.left,viewportHeight:i.height,viewportWidth:i.width},t),{outerPaddingLeft:hY,outerPaddingRight:hY,columnWidth:n.getPositionForIndex(0).cellWidth}}),[e,t,i]);return y.createElement("div",{ref:n},s?y.createElement(NB,{className:"WatchTogetherHubCell-hub-2zdQBb HubCell-hubCell-2uIdEm",hubHeaderClassName:"WatchTogetherHubCell-hubHeader-2L5ZVO VirtualHubScroller-hubHeader-1_4Pjo",hubLayoutOptions:s}):null)};function fY(e){return e.reduce(((e,t)=>{const{homeHubID:n,hubStatus:i,hubEntity:s,homeHub:r}=t;return r.isHidden||i&&s&&0===s.size||e.push(n),e}),[])}const IY=(0,f.$j)((function(){return(0,sn.Z)((0,de.P1)((0,de.P1)((e=>e.ui.homePage.homeHubStatuses),NF,uV,IV,he.Z,_t.Z,((e,t,n,i,s,r)=>t.map((t=>{const a=e.find((e=>e.homeHubID===t));return{homeHubID:t,homeHub:n.hubs.find((e=>e.id===t)),hubStatus:a,hubEntity:a&&i[a.hub],server:a&&s[a.server],provider:a&&r[a.provider]}})))),fY),(e=>({hubs:e})))}),(function(e){return{onResetCustomization(){e((0,dE.mo)())}}}))((function(e){const{hubs:t,hasWatchTogetherRooms:n,settingsKey:i,onResetCustomization:s}=e;return t.length>0||n?y.createElement(mx,{innerClassName:"HomePageContent-content-31PSg2 PageContent-innerPageContent-1ra0Xh",scrollPositionKey:`${i}!scrollPosition`},n?y.createElement(vY,null):null,t.length>0?y.createElement(pY,{homeHubIDs:t}):null):y.createElement(mY,{onResetCustomization:s})})),bY=(0,de.P1)(dj.Z,(e=>e.activeSelectionItems[0])),MY=(0,de.P1)(EC.Z,bY,((e,t)=>t&&e[t.model])),SY=(0,de.P1)(MY,((e={})=>{const{providerEntityID:t,serverEntityID:n}=e;return{providerEntityID:t,serverEntityID:n}})),EY=(0,YM.Z)(SY)(Az),DY={isEditModalOpen:!1};class CY extends y.Component{constructor(e,t){super(e,t),this.onEditButtonPress=()=>{this.setState({isEditModalOpen:!this.state.isEditModalOpen})},this.onModalClose=()=>{this.setState(DY)},this.state=DY}render(){const{isAnonymousUser:e}=this.props,{isEditModalOpen:t}=this.state;return y.createElement(Ph,null,y.createElement(WR.Z,null,y.createElement(xM,{title:(0,De.Z)("Home")})),y.createElement(fk,null,e?null:y.createElement(y.Fragment,null,y.createElement(dV,null,y.createElement(iz,{onPress:this.onEditButtonPress})),y.createElement(cV,null)),y.createElement(Uk,null),y.createElement(hB,{isOpen:t,onModalClose:this.onModalClose})))}}const PY=CY,wY=function(e){const{activeSelectionType:t,isPending:n,hasNoProviders:i,hasWatchTogetherRooms:s,isManagedUser:r,preferredServerID:a,settingsKey:o,shouldFetchPreferredServerContent:l,shouldFetchProviderPromotedContent:c,shouldFetchHomeContent:d,dispatchInitHomePage:u,dispatchResetHomePage:p,dispatchFetchPreferredServerContent:m,dispatchFetchProviderPromotedContent:h,dispatchFetchHomeContent:g,dispatchTryUpdateWatchTogetherRooms:v}=e;return(0,y.useEffect)((()=>(u(),p)),[]),(0,y.useEffect)((()=>{l&&m()}),[l,m]),(0,y.useEffect)((()=>{c&&h()}),[c,h]),(0,y.useEffect)((()=>{d&&g()}),[d,g]),(0,y.useEffect)((()=>{v()}),[v]),n?y.createElement(Gz.Z,null,y.createElement(RC.Z,null)):i&&!s?r?y.createElement(DF,null):y.createElement(TF,null):y.createElement(EF.Z,{machineIdentifier:a},y.createElement(LC.Z,{isMetricsDelegated:!0,metricsPage:et.Sd,allowBackgroundLightPreset:!0,scrollDirection:vb.Hn},t?y.createElement(EY,null):y.createElement(PY,null),y.createElement(IY,{settingsKey:o,hasWatchTogetherRooms:s})),y.createElement(vU,null))};var TY=Object.assign;const ZY=(0,de.P1)(HB.Z,_M,kB,uV,dj.Z,BB,FB,ge,(0,de.P1)((e=>e.ui.watchTogether.rooms),(e=>e.length>0)),((e,t,n,i,s,r,a,o,l)=>{const{isPending:c,shouldFetchHomeContent:d,shouldFetchPreferredServerContent:u,shouldFetchProviderPromotedContent:p}=n,{preferredServerID:m,settingsKey:h}=i,{hasCompletedSetup:g}=t,y=e.isProvidersPopulated||!!e.providersError||e.isProvidersPending&&o.isRejected;return{isPending:c||!y||!g,hasNoProviders:r,hasWatchTogetherRooms:l,isManagedUser:a,preferredServerID:m,settingsKey:h,shouldFetchHomeContent:d,shouldFetchPreferredServerContent:u,shouldFetchProviderPromotedContent:y&&g&&p,activeSelectionType:s.activeSelectionType}})),NY={dispatchInitHomePage:uF,dispatchResetHomePage:yF,dispatchFetchPreferredServerContent:hF,dispatchFetchProviderPromotedContent:gF,dispatchFetchHomeContent:pF,dispatchChangeQuickSearchSettings:Ut.changeQuickSearchSettings,dispatchTryUpdateWatchTogetherRooms:sU.Z7};class AY extends y.Component{componentDidMount(){this.props.dispatchChangeQuickSearchSettings({serverEntityID:null,providerEntityID:null,providerIdentifier:null,directoryID:null})}render(){return y.createElement(wY,TY({},this.props))}}const xY=(0,f.$j)(ZY,NY)(AY),LY=(0,de.P1)(uV,(e=>e.servers),he.Z,((e,t,n)=>{const{preferredServerID:i}=e;if(i)for(let e=0,s=t.length;e<s;e++){const s=n[t[e]];if(s.machineIdentifier===i)return s}})),OY=function(e){const{children:t,isPending:n}=e;return n?y.createElement(Gz.Z,null,y.createElement(RC.Z,null)):y.createElement(y.Fragment,null,t)};var jY=Object.prototype.hasOwnProperty,kY=Object.getOwnPropertySymbols,RY=Object.prototype.propertyIsEnumerable,zY=Object.assign;const UY=(0,de.P1)((e=>e.isWaitingForServers),LY,((e,t)=>({preferredServerEntityID:t&&t.entityID,isWaitingForServers:e}))),VY=(0,f.$j)(UY)((function(e){const{isWaitingForServers:t,preferredServerEntityID:n}=e,i=((e,t)=>{var n={};for(var i in e)jY.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&kY)for(var i of kY(e))t.indexOf(i)<0&&RY.call(e,i)&&(n[i]=e[i]);return n})(e,["isWaitingForServers","preferredServerEntityID"]),s=(0,y.useRef)(t);return s.current&&!t&&(s.current=t),y.createElement(OY,zY(zY({},i),{isPending:!n&&s.current}))})),BY=function(){const e=(0,f.v9)(ve),{context:t}=(0,I.UO)();return e?y.createElement(xt.ZP,{metricsPage:et.Sd,metricsContextParam:t},y.createElement(LB,null)):y.createElement(AC.Z,{metricsContext:t},y.createElement(VY,null,y.createElement(xY,null)))},FY=wD.Z.extend({name:"PlayHistoryListItemModel",syncedAttrs:{key:bD.Z.string,parentKey:bD.Z.string,grandparentKey:bD.Z.string,title:bD.Z.string,parentTitle:bD.Z.string,grandparentTitle:bD.Z.string,type:bD.Z.string,thumb:bD.Z.string,parentThumb:bD.Z.string,grandparentThumb:bD.Z.string,grandparentArt:bD.Z.string,index:bD.Z.integer,parentIndex:bD.Z.integer,originallyAvailableAt:bD.Z.string,viewedAt:bD.Z.integer,accountID:bD.Z.integer,deviceID:bD.Z.integer},derivedAttrs:{itemKey(){return this.get("key")},id(){return this.cid}}}),HY=_S.Z.extend({name:"PlayHistoryListItemCollection",context:["server"],model:FY});wD.Z.extend({mixins:[SD.Z],collectionName:"items",name:"PlayHistoryListModel",context:["server","accountID","filters","sort","limit"],responseType:bA.AV,url(){const e=this.filters.reduce(((e,t)=>(e[t.key]=t.value,e)),{});null!=this.accountID&&(e.accountID=this.accountID),null!=this.sort&&(e.sort=this.sort),null!=this.limit&&(e.limit=this.limit);let t=C.Z.join("/status/sessions/history/all",e);return t=t.replace("viewedAt=","viewedAt>="),this.getPaginatedUrl(t)},sessionAttrs:{currentPageStart:bD.Z.integer,currentPageSize:bD.Z.integer,populatedRange:bD.Z.object},syncedAttrs:{totalSize:bD.Z.integer},syncedRelations:{items:{relationClass:HY,rootPropertyName:"Metadata",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()}});var _Y=Object.assign;const QY={accounts:[],isPending:!1,isPopulated:!1,error:null},GY=(0,Fr.oM)({name:"serverAccounts",initialState:{},reducers:{populateRequested(e,t){},fetchRequested(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,Vm.er)(n)},fetchSucceeded(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,Vm.vv)(n),n.accounts=t.data},fetchFailed(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,Vm.VQ)(n,t.error)}},extraReducers:e=>{e.addCase(ja.actions.connected,((e,{payload:t})=>{const{server:n}=t;e[n.machineIdentifier]||(e[n.machineIdentifier]=_Y({},QY))}))}});var YY=Object.assign;const WY={devices:[],isPending:!1,isPopulated:!1,error:null},KY=(0,Fr.oM)({name:"serverDevices",initialState:{},reducers:{populateRequested(e,t){},fetchRequested(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,Vm.er)(n)},fetchSucceeded(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,Vm.vv)(n),n.devices=t.data},fetchFailed(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,Vm.VQ)(n,t.error)}},extraReducers:e=>{e.addCase(ja.actions.connected,((e,{payload:t})=>{const{server:n}=t;e[n.machineIdentifier]||(e[n.machineIdentifier]=YY({},WY))}))}});var qY=n(54466),$Y=Object.assign;const JY=(0,qY.Z)((e=>e),(e=>{var t,n,i;const{data:s}=e,r=s.MediaContainer;return{items:null!=(t=null==r?void 0:r.Metadata)?t:[],totalSize:null!=(n=null==r?void 0:r.totalSize)?n:0,offset:null!=(i=null==r?void 0:r.offset)?i:0}})),XY=JY.getDefaultPaginatedState(),eW=(0,Fr.oM)({name:"playHistory",initialState:XY,reducers:$Y({},JY.reducers)});function tW(e,t){return!!e&&e.some((e=>e.key===t))}const nW=(0,Ht.Z)((function(e){return(0,de.P1)(ei,(t=>t.serverAccounts[e]))})),iW=(0,Ht.Z)((function(e){return(0,de.P1)(ei,(t=>t.serverDevices[e]))}));var sW,rW;(rW=sW||(sW={})).LibrarySectionID="librarySectionID",rW.AccountID="accountID",rW.MetadataItemID="metadataItemID",rW.ViewedAt="viewedAt";const aW={key:"user",title:()=>(0,De.Z)("User"),component:function({className:e,playHistoryItem:t}){const[n]=cn(),{accountID:i}=t,s=(0,y.useMemo)((()=>((e,t)=>(0,de.P1)(nW(e),(e=>e.accounts.find((e=>e.id===t)))))(n.machineIdentifier,i)),[i,n.machineIdentifier]),r=(0,f.v9)(s);return r?y.createElement("span",{className:e,title:r.name},r.name):y.createElement("span",{className:e},(0,De.Z)("Unknown User"))},style:{flex:"1 1 250px"}},oW={key:"type",title:()=>(0,De.Z)("Type"),component:function({className:e,playHistoryItem:t}){const{type:n}=t,i=(0,Ho.getMetadataType)(n);return i?y.createElement("span",{className:e,title:i.title},i.title):null},style:{flex:"0 1 120px"}},lW={key:"title",title:()=>(0,De.Z)("Title"),component:function({className:e,playHistoryItem:t}){const n=(0,iy.Z)(t);return y.createElement("span",{className:e},y.createElement("div",{className:"PlayHistoryTableTitle-titleContainer-21J4XQ"},y.createElement("span",{className:"PlayHistoryTableTitle-title-1jQ9O-",title:n},n)))},style:{flex:"2 0 350px"}},cW={key:"player",title:()=>(0,De.Z)("Player"),component:function({className:e,playHistoryItem:t}){const[n]=cn(),{deviceID:i}=t,s=(0,f.v9)(iW(n.machineIdentifier)).devices.find((e=>e.id===i));return s?y.createElement("span",{className:e,title:s.name},s.name):y.createElement("span",{className:e},(0,De.Z)("Unknown"))},style:{flex:"1 1 150px"}},dW={key:"platform",title:()=>(0,De.Z)("Platform"),component:function({className:e,playHistoryItem:t}){const[n]=cn(),{deviceID:i}=t,s=(0,f.v9)(iW(n.machineIdentifier)).devices.find((e=>e.id===i));return s?y.createElement("span",{className:e,title:s.platform},s.platform):y.createElement("span",{className:e},(0,De.Z)("Unknown"))},style:{flex:"1 1 150px"}},uW=[{key:"viewedAt",ascKey:"viewedAt",descKey:"viewedAt:desc",title:()=>(0,De.Z)("Played"),component:function({className:e,playHistoryItem:t}){const{viewedAt:n}=t,i=(0,f.v9)(QC),s=(0,gi.Z)(1e3*n,`${i} MMM d, yyyy`);return y.createElement("span",{className:e,title:s},s)},style:{flex:"1 1 150px"}}];var pW=n(38770),mW=n(75157);const hW=Nc({rowHeight:parseInt(ku.Z.tableRowHeight,10),overscan:20}),gW=(0,de.P1)(Yr,(e=>e.playHistory));function yW({style:e,cellIndex:t}){return y.createElement("div",{className:t%2?"PlayHistoryTableRowLoading-alternateLoadingItem-116pvP PlayHistoryTableRowLoading-loadingItem-1F9PsX":"PlayHistoryTableRowLoading-loadingItem-1F9PsX",style:e},(0,De.Z)("Loading..."))}var vW=Object.prototype.hasOwnProperty,fW=Object.getOwnPropertySymbols,IW=Object.prototype.propertyIsEnumerable;function bW(e){var{item:t,activeTableColumns:n}=e,i=((e,t)=>{var n={};for(var i in e)vW.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&fW)for(var i of fW(e))t.indexOf(i)<0&&IW.call(e,i)&&(n[i]=e[i]);return n})(e,["item","activeTableColumns"]);const[s]=cn(),r=Br(i);let a;if(null==t?void 0:t.key){const e=n.some((e=>"title"===e.key)),i=t.type===Ho.TRACK?t.parentKey:t.key;a=e?(0,ui.Z)(s,{isLibraryProvider:!0},i):void 0}return t?y.createElement("div",{className:i.cellIndex%2?"PlayHistoryTableRow-alternateItem-2VXaDm PlayHistoryTableRow-item-nThGvm":"PlayHistoryTableRow-item-nThGvm",style:r.style},y.createElement(xn,{className:"PlayHistoryTableRow-columns-So_9m2 Link-link-2WGTd7","aria-label":t.title,to:a,isDisabled:!a},n.map((({style:e,component:n},i)=>y.createElement(Xy,{key:i,style:e,component:n,playHistoryItem:t}))))):y.createElement(yW,{style:r.style,cellIndex:i.cellIndex})}var MW=Object.assign;function SW({activeTableColumns:e,activeFilters:t,activeSort:n}){const i=(0,f.I0)(),[s]=cn(),r=(0,f.v9)(gW),a=(0,f.v9)(iW(s.machineIdentifier)),{items:o,totalSize:l,isPopulated:c,error:d}=r,{isPopulated:u,error:p}=a,m=(0,y.useCallback)((e=>{i(eW.actions.fetchRangeRequested(MW(MW({},e),{server:s,filters:t,sort:n})))}),[i,s,t,n]),h=(0,y.useMemo)((()=>t=>y.createElement(bW,MW(MW({},t),{activeTableColumns:e}))),[e]);return c&&l&&(u||p)?y.createElement(Hc,{className:"PlayHistoryList-playHistoryListPageContent-1REOIr PageContent-pageContentScroller-18TqCp Scroller-scroller-3Rbtv0",items:o,totalSize:l,layout:hW,cellComponentFactory:h,onPageRequest:m}):c&&!l?y.createElement(Ve,{title:(0,De.Z)("Nothing to see here"),description:(0,De.Z)("Snuggle up on the couch and play something!")}):d?y.createElement(He,null):y.createElement(Ve,null,y.createElement(qe,null))}var EW=n(7118),DW=Object.assign;function CW(e,t,n){const i=[...e],s=i.findIndex((e=>e.key===t)),r=-1===s?0:s,a=DW({key:t},n);return-1===s?i.push(a):i.splice(r,1,a),i}function PW(e,t){if(1===e.id)return-1;if(1===t.id)return 1;const n=e.name.trim().toUpperCase(),i=t.name.trim().toUpperCase();return n<i?-1:n>i?1:0}const wW=(0,Ht.Z)((function(e){return(0,de.P1)(nW(e),(e=>e.accounts.slice().sort(PW)))}));var TW=Object.assign;let ZW,NW;function AW(e,t=window.location.hash){const n=function(e){if(ZW===e)return NW;const t=e.split("?"),n=t.length>1?t[1]:void 0,i=n?C.Z.parseParams(n):{};return ZW=e,NW={url:t[0],params:i},NW}(t);return C.Z.join(n.url,TW(TW({},n.params),{filters:(0,fC.Z)(e.filters),activeTimePeriod:e.activeTimePeriod,sort:e.sort}))}function xW({activeFilters:e,activeTimePeriod:t,activeSort:n}){const[i]=cn(),s=(0,ra.Z)(),r=(0,Dl.Z)(),a=(0,y.useMemo)((()=>({key:"",title:(0,De.Z)("All Users")})),[]),o=(0,f.v9)(wW(i.machineIdentifier)),l=(0,y.useMemo)((()=>o.reduce(((e,t)=>(e.push({key:String(t.id),title:t.name}),e)),[a])),[o,a]),c=(0,y.useMemo)((()=>{const t=e.find((e=>"accountID"===e.key));return t?l.find((e=>e.key===t.value)):a}),[e,l,a]),d=(0,y.useCallback)((i=>{let s;s=i?CW(e,sW.AccountID,{value:String(i),type:kZ.w}):YN(e,sW.AccountID),window.location.hash=AW({filters:s,activeTimePeriod:t,sort:n})}),[e,t,n]);return c&&l.length?y.createElement(y.Fragment,null,y.createElement(zZ.Z,{id:s,hasMenu:!0,isMenuOpen:r.isOpen,onPress:r.onToggle},c.title),y.createElement(mo.Z,{target:s,isOpen:r.isOpen,onMenuClose:r.onClose},l.map((e=>y.createElement(Ic.Z,{key:e.key,value:e.key,isSelected:c.key===e.key,onSelect:(0,vo.Z)(d,r.onClose)},e.title))))):null}const LW=(0,Ht.Z)((function(e,t){return(0,de.P1)(tn(e,t),(e=>e.filter((e=>{const t=e.type?Ho.getMetadataType(e.type):null;return t&&t.typeString!==Ho.PLAYLIST}))))}));function OW({activeFilters:e,activeTimePeriod:t,activeSort:n}){const[i,s]=cn(),r=(0,ra.Z)(),a=(0,Dl.Z)(),o=(0,f.v9)(LW(i.machineIdentifier,s.identifier)),l=(0,y.useMemo)((()=>({key:"all",title:(0,De.Z)("All Libraries")})),[]),c=(0,y.useMemo)((()=>o.reduce(((e,t)=>(e.push({key:t.id,title:t.title}),e)),[l])),[o,l]),d=(0,y.useMemo)((()=>{const t=e.find((e=>"librarySectionID"===e.key));return t&&c.length?c.find((e=>String(e.key)===t.value)):l}),[e,c,l]),u=(0,y.useCallback)((i=>{let s;s="all"!==i?CW(e,sW.LibrarySectionID,{value:i,type:kZ.w}):YN(e,sW.LibrarySectionID),window.location.hash=AW({filters:s,activeTimePeriod:t,sort:n})}),[e,t,n]);return d&&o.length?y.createElement(y.Fragment,null,y.createElement(zZ.Z,{id:r,hasMenu:!0,isMenuOpen:a.isOpen,onPress:a.onToggle},d.title),y.createElement(mo.Z,{target:r,isOpen:a.isOpen,onMenuClose:a.onClose},c.map((e=>y.createElement(Ic.Z,{key:e.key,value:e.key,isSelected:d.key===e.key,onSelect:(0,vo.Z)(u,a.onClose)},e.title))))):null}function jW(){const[e]=cn(),t=(0,ra.Z)(),n=(0,Dl.Z)(),i=(0,f.v9)(an),s=(0,y.useMemo)((()=>i.reduce(((e,t)=>(t.isFullOwnedServer&&t.isConnected&&e.push({key:t.machineIdentifier,title:t.friendlyName}),e)),[])),[i]),r=(0,y.useMemo)((()=>s.find((t=>t.key===e.machineIdentifier))),[e,s]),a=(0,y.useCallback)((e=>{window.location.hash=(0,EW.Z)(e)}),[]);return r?y.createElement(y.Fragment,null,y.createElement(zZ.Z,{id:t,hasMenu:!0,isMenuOpen:n.isOpen,onPress:n.onToggle},r.title),y.createElement(mo.Z,{target:t,isOpen:n.isOpen,onMenuClose:n.onClose},s.map((e=>y.createElement(Ic.Z,{key:e.key,value:e.key,isSelected:r.key===e.key,onSelect:(0,vo.Z)(a,n.onClose)},e.title))))):null}function kW({activeFilters:e,activeTimePeriod:t,activeSort:n}){const i=(0,ra.Z)(),s=(0,Dl.Z)(),r=[mW.XH.Week,mW.XH.Month,mW.XH.NinetyDays,mW.XH.Year,mW.XH.AllTime],a=(0,y.useCallback)((t=>{const i=CW(e,sW.ViewedAt,{value:String((0,mW.xP)(t)),type:kZ.w});window.location.hash=AW({filters:i,activeTimePeriod:t,sort:n})}),[e,n]);return y.createElement(y.Fragment,null,y.createElement(zZ.Z,{id:i,hasMenu:!0,isMenuOpen:s.isOpen,onPress:s.onToggle},(0,mW.dZ)(t)),y.createElement(mo.Z,{target:i,isOpen:s.isOpen,onMenuClose:s.onClose},r.map((e=>y.createElement(Ic.Z,{key:e,value:e,isSelected:t===e,onSelect:(0,vo.Z)(a,s.onClose)},(0,mW.dZ)(e))))))}const RW=(0,de.P1)(gW,(e=>e.totalSize));function zW({activeFilters:e,activeFilterTitle:t,activeTimePeriod:n,activeSort:i}){const[s]=cn(),r=(0,f.v9)(RW),a=!tW(e,sW.MetadataItemID);return y.createElement(Ph,null,y.createElement(WR.Z,null,y.createElement(zZ.Z,{to:(0,EW.Z)(s.machineIdentifier)},(0,De.Z)("Play History")),t?y.createElement(zZ.Z,null,t):null,a?y.createElement(jW,null):null,a?y.createElement(y.Fragment,null,y.createElement(OW,{activeFilters:e,activeTimePeriod:n,activeSort:i}),y.createElement(xW,{activeFilters:e,activeTimePeriod:n,activeSort:i}),y.createElement(kW,{activeFilters:e,activeTimePeriod:n,activeSort:i})):null,y.createElement(rb.Z,null,r)))}function UW({activeTableColumns:e,activeFilters:t,activeTimePeriod:n,activeSort:i}){return y.createElement(_v,null,e.map((({style:e,title:s,ascKey:r,descKey:a,key:o})=>{if(!r)return y.createElement("div",{key:o,style:e,className:"PlayHistoryTableHeader-tableHeader-n2UFAk"},y.createElement(qv,null,y.createElement(uf,null,s())));const l=i===r||i===a,c=i===r;return y.createElement(nf,{key:o,style:e,to:AW({filters:t,activeTimePeriod:n,sort:c?a:r})},y.createElement(qv,{isActive:l},y.createElement(uf,null,s()),l?y.createElement(zv,{isAscending:!c}):null))})))}function VW(){var e;const t=(0,f.I0)(),[n]=cn(),i=(0,Ee.Z)(),s=(0,Ot.Z)(i.filters),r=(0,Hz.Z)(i.filterTitle),a=null!=(e=(0,Mm.su)(mW.XH).find((e=>e===(0,Hz.Z)(i.activeTimePeriod))))?e:mW.XH.AllTime,o=i.sort?(0,Hz.Z)(i.sort):"viewedAt:desc",l=(0,pW.Z)(i.isParentType),c=function(e,t){let n=[cW,dW,...uW];return!t&&tW(e,sW.MetadataItemID)||(n=[lW,...n]),tW(e,sW.LibrarySectionID)||tW(e,sW.MetadataItemID)||(n=[oW,...n]),tW(e,sW.AccountID)||(n=[aW,...n]),n}(s,l);return $l(),(0,y.useEffect)((()=>{t(KY.actions.populateRequested({server:n})),t(GY.actions.populateRequested({server:n}))}),[t,n]),(0,y.useEffect)((()=>((0,Rt.c9)((()=>{t(eW.actions.fetchRangeRequested({server:n,filters:s,sort:o,startIndex:0,size:100}))})),()=>{t(eW.actions.reset())})),[s,o,t,n]),y.createElement(En,{scrollDirection:Ne.None},y.createElement(zW,{activeFilters:s,activeFilterTitle:r,activeTimePeriod:a,activeSort:o}),y.createElement(UW,{activeTableColumns:c,activeFilters:s,activeTimePeriod:a,activeSort:o}),y.createElement(SW,{activeTableColumns:c,activeFilters:s,activeSort:o}))}function BW(){const{machineIdentifier:e,providerIdentifier:t}=Fz(),n=(0,Ee.Z)();return y.createElement(dn,{machineIdentifier:e,providerIdentifier:t},y.createElement(Xz,{machineIdentifier:e,providerIdentifier:t},y.createElement(xt.ZP,{metricsPage:et.mw,metricsContext:(0,Hz.Z)(n.context)},y.createElement(VW,null))))}function FW({children:e}){return y.createElement("div",{className:"PlayerContainer-container-2-RrdD"},e)}const HW=(0,de.P1)(fV.Z,(e=>e.playlistItems)),_W=(0,No.Z)(rj.KG),QW=(0,No.Z)(rj.Yx),GW=(0,No.Z)(rj.zx),YW=(0,No.Z)(rj.PL),WW=(0,No.Z)(rj.yc),KW=(0,No.Z)(rj.pQ),qW=(0,No.Z)(rj.N2),$W=(0,No.Z)(rj.Dn),JW=(0,No.Z)(rj.gS),XW=(0,No.Z)(rj.fu),eK=(0,No.Z)(rj.GN);var tK=n(57898),nK=n(47327),iK=n(15634),sK=n(96026),rK=Object.assign;const aK="INIT_PRE_PLAY_PAGE",oK="INIT_PRE_PLAY_DESCENDANT_LIST",lK="INIT_PRE_PLAY_SIBLING_LIST",cK="INIT_PRE_PLAY_AUGMENTED_HUBS",dK="PRE_FETCH_PRE_PLAY_METADATA_ITEM",uK="FETCH_PRE_PLAY_METADATA_ITEM",pK="FETCH_PRE_PLAY_RELATED_HUBS",mK="FETCH_PRE_PLAY_AUGMENTED_HUBS",hK="MAKE_PRE_PLAY_VIDEO_DECISION",gK="REPOPULATE_PRE_PLAY_POPULAR_TRACKS",yK=(0,No.Z)(aK),vK=(0,No.Z)(oK),fK=(0,No.Z)(lK),IK=(0,No.Z)(cK),bK=(0,No.Z)(dK),MK=(0,No.Z)(uK),SK=(0,No.Z)(pK),EK=(0,No.Z)(mK),DK=(0,No.Z)(hK),CK=(0,No.Z)(gK);function PK(e){return e.get("ui").get("prePlayPage")}function wK(e,t){const{metadataItemEntityID:n,containerKeyPattern:i}=t;if(i)return!1;const s=(0,WS.SW)(e,t),r=PK(e).get("metadataItem");return!(!r||r.server!==s||n&&r.entityID()!==n)}function TK(e,t,n){const i=PK(e),s=i.get("siblingList"),r=i.get("descendantList"),a=i.get("relatedHubs");s&&n((0,cb.u6)({metadataListEntityID:s.entityID()})),r&&(i.get("metadataItem").get("type")===Ho.ALBUM?n((0,cb.C8)({metadataListEntityID:r.entityID()})):n((0,cb.u6)({metadataListEntityID:r.entityID()}))),a&&n(SK())}function ZK(e,t){const n=(0,WS.SW)(e,t),i=PK(e),s=i.get("metadataItem");if(!s||s.server!==n)return;const r=t.activity.Context;if(!r||r.key!==s.get("key"))return;if(null==r.exists&&null==r.accessible)return;const a=!r.exists||!r.accessible;i.set("isFileUnavailable",a),a&&window.setTimeout((()=>{s.set("isPreFetched",!1)}),0)}const NK=(0,HS.Z)({[aK](e,t){const n=PK(e),i=(0,WS.SW)(e,t),s=(0,WS.js)(e,t),{providerEntityID:r,metadataKey:a}=t;if(r===n.get("providerEntityID")&&a===n.get("metadataKey"))return;const o=new KM.Z({key:a},{server:i,provider:s}),l=C.Z.join([a.replace(/(\/library)?\/metadata/,"/hubs/metadata"),"related"]),c=(0,iK.Z)(e,be.Ao),d=new tK.Z([],{server:i,provider:s,metadataItem:o,hubKey:l,includeExternalMedia:c,includeExternalMetadata:!0,asyncAugmentMetadata:!0});n.restoreDefaults({providerEntityID:r,metadataKey:a,metadataItem:o,siblingKey:n.get("siblingKey"),siblingList:n.get("siblingList"),relatedHubs:d})},[oK](e,t){const n=PK(e),i=(0,WS.SW)(e,t),s=(0,WS.js)(e,t),r=(0,WS.$R)(e,t),{providerEntityID:a,descendantKey:o}=t;if(!o)return void n.set({descendantKey:o,descendantList:void 0});if(a===n.get("providerEntityID")&&o===n.get("descendantKey"))return;const l=(0,iK.Z)(e,be.Ao),c="album"===r.get("type")||"artist"===r.get("type")&&r.get("skipChildren"),d=new MD.Z({containerKey:o},{server:i,provider:s,excludeAllLeaves:!0,includeExternalMedia:l,includeRelated:c});n.set({descendantKey:o,descendantList:d})},[lK](e,t){const n=PK(e),i=(0,WS.SW)(e,t),s=(0,WS.js)(e,t),{providerEntityID:r,siblingKey:a}=t;if(!a)return void n.set({siblingKey:a,siblingList:void 0});if(r===n.get("providerEntityID")&&a===n.get("siblingKey"))return;const o=(0,iK.Z)(e,be.Ao),l=new MD.Z({containerKey:a},{server:i,provider:s,excludeAllLeaves:!0,includeExternalMedia:o});n.set({siblingKey:a,siblingList:l})},[cK](e,t,n){const i=PK(e),s=i.get("metadataItem"),r=s.get("augmentationKey"),a=[Ho.ARTIST,Ho.ALBUM],o=[Ho.MOVIE,Ho.SHOW,Ho.SEASON,Ho.EPISODE],l=s.get("type");if(!a.includes(l)&&!o.includes(l)||!r)return void i.set({isAugmentedHubsPending:!1,isAugmentedHubsPopulated:!0});const c=new tK.Z([],{server:s.server,provider:s.provider,hubKey:s.get("augmentationKey"),excludeFields:"",wait:1});i.set({augmentedHubs:c}),n(EK())},[dK](e,t){const n=(0,WS.$R)(e,t);(0,nK.Z)(n,{forceFetch:!0})},[uK](e,t,n){const i=PK(e),s=i.get("metadataItem"),r=i.get("isMetadataItemPending");i.set("isMetadataItemPending",!0),(0,nK.Z)(s,{forceFetch:!0}).done((()=>{i.set({isMetadataItemPending:!1,isMetadataItemPopulated:!0,metadataItemError:null}),n(IK())})).fail(((e,t)=>{t.aborting?i.set("isMetadataItemPending",r):i.set({isMetadataItemPending:!1,metadataItemError:(0,gS.Z)(t)})}))},[pK]:(0,qM.Z)({key:"relatedHubs",getModel:PK}),[mK]:(0,qM.Z)({key:"augmentedHubs",getModel:PK}),[hK](e,t,n){const i=PK(e),s=e.get("user").get("experienceSettings"),r=i.get("metadataItem"),a=(0,M.DB)("getDecisionOptions")(r),o=qP.Z.getCurrentQuality(r,s,(e=>n((0,Nv.LN)(e)))),l=sK.Z.getMediaDecision(rK({item:r,transcodeServer:r.server,quality:o},a));i.set("decisionMediaItem",l.media)},[cS.WV](e,t){t.activity.type===Oa.Ij&&ZK(e,t)},[cS.Cs](e,t){t.activity.type===Oa.Ij&&ZK(e,t)},[Io.se](e,t,n){wK(e,t)&&TK(e,0,n)},[dS._z](e,t,n){const i=PK(e),s=i.get("metadataItem");if(wK(e,t))s.fetch({data:{skipRefresh:1},usePopulatedParams:!0}),TK(e,0,n);else{const r=(0,WS.SW)(e,t),a=i.get("siblingList"),o=t.parentMetadataKey;s&&s.server===r&&a&&o&&s.get("parentKey")===o&&n((0,cb.u6)({metadataListEntityID:a.entityID()}))}},[gK](e,t,n){const i=PK(e).get("metadataItem"),s=(0,WS.tz)(e,{metadataItemEntityID:t.albumMetadataItemEntityID});i&&s&&i.get("key")===s.get("parentKey")&&n((0,Io.dk)({serverEntityID:t.serverEntityID,metadataItemEntityID:i.entityID()}))}}),AK=(0,de.P1)(ye.Z,(e=>e.listStyles)),xK=(0,de.P1)(ye.Z,(e=>e.playThemeMusic)),LK=(0,de.P1)(ye.Z,(e=>e.showPrePlayArtwork));function OK(){return(0,de.P1)((0,_C.Z)(),((e={})=>{const{type:t,subtype:n,skipChildren:i}=e;if(t===Ho.COLLECTION)return n;if(t===Ho.SHOW&&n===zo.PODCAST)return Ho.TRACK;const s=i?Ho.getLeafType(t):Ho.getChildType(t);return s&&s.typeString}))}var jK=n(63731),kK=Object.assign;function RK(e,{metricsPage:t}){return y.createElement(jK.Z,kK(kK({},e),{page:t}))}RK.contextTypes={metricsPage:ls().string.isRequired};const zK=RK;var UK=Object.assign;const VK=function(e){return y.createElement(zC.Z,UK({iconClassName:"InnerErrorPage-icon-2KNdJ5 ErrorPage-icon-2pZGG7 EmptyPage-icon-1xIWV_",iconComponent:Ce.Z},e))},BK=function(){return y.createElement(VK,{title:(0,De.Z)("Nothing is here"),description:(0,De.Z)("This item may have been deleted recently")},y.createElement(AM.Z,{to:"#",kind:fo._8},(0,De.Z)("Go Home")))},FK=function(){return y.createElement(VK,{title:(0,De.Z)("You must be lost"),description:(0,De.Z)("This item does not have its own page")},y.createElement(AM.Z,{to:"#",kind:fo._8},(0,De.Z)("Go Home")))};var HK=n(49666);const _K=(0,de.P1)((e=>e.ui.libraryPage.metadataList),JH.Z,((e,t)=>t[e])),QK=(0,de.P1)((e=>e.ui.libraryPage.details),_K,((e,t)=>{const n=t&&t.meta;return n&&n.types.length?n.types:e?e.types:void 0}));function GK(){return(0,de.P1)(((e,{activeType:t})=>t),((e,{typeKey:t})=>t),QK,((e,t,n)=>{let i;return t?i=E().find(n,(e=>e.key===t)):e&&(i=E().find(n,(t=>{const n=(0,Ho.getMetadataType)(t.type),i=(0,Ho.getMetadataType)(e);return!!n&&!!i&&n.id===i.id}))),i||(i=E().first(n)),i}))}function YK(e){const{type:t,primaryExtraKey:n}=e;return"track"===t&&!!n}var WK=n(11272),KK=n(6081);function qK(e){const{className:t,iconClassName:n,iconComponent:i}=e;return y.createElement("span",{className:t},y.createElement(i,{className:n}))}qK.defaultProps={className:"MetadataTitleDecoratorIcon-decoratorIconContainer-3HZAYa",iconClassName:"MetadataTitleDecoratorIcon-decoratorIcon-k3jN5m"};const $K=qK,JK=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),(e=>e?{title:e.title,isFolder:e.isFolder,isMultiVersion:(0,WK.Z)(e),hasMusicVideo:YK(e)}:{}))}))((function(e){const{className:t,title:n,isFolder:i,isMultiVersion:s,hasMusicVideo:r}=e;return y.createElement("span",{className:t},y.createElement("div",{className:"MetadataTableTitle-titleContainer-2jX1gM"},i?y.createElement($K,{className:"MetadataTableTitle-folderIconContainer-28fOPo MetadataTitleDecoratorIcon-decoratorIconContainer-3HZAYa",iconClassName:"MetadataTableTitle-folderIcon-EPqZDd MetadataTitleDecoratorIcon-decoratorIcon-k3jN5m",iconComponent:Tg.Z}):null,y.createElement("span",{className:"MetadataTableTitle-title-2khyfF"},n),y.createElement("span",null,s?y.createElement($K,{iconClassName:"MetadataTableTitle-multiVersionIcon-1Jit6l MetadataTitleDecoratorIcon-decoratorIcon-k3jN5m",iconComponent:KK.Z}):null,r?y.createElement($K,{iconComponent:rm.Z}):null)))})),XK=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),(e=>{if(!e)return{};const{title:t,originalTitle:n}=e;return{title:t,originalTitle:n,hasMusicVideo:YK(e)}}))}))((function(e){const{className:t,title:n,originalTitle:i,hasMusicVideo:s}=e;return y.createElement("span",{className:t},y.createElement("span",{className:"MetadataTitleCombinedTitleTrackArtist-titleContainer-1CvBV-"},y.createElement("span",{className:"MetadataTitleCombinedTitleTrackArtist-title-2N5CY7","data-qa-id":"trackName"},n,i?y.createElement("span",{className:"MetadataTitleCombinedTitleTrackArtist-trackArtist-3Dm4rx"},n?y.createElement(tr.Z,null):null,i):null),s?y.createElement($K,{iconComponent:rm.Z}):null))})),eq=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({lastRatedAt:e.lastRatedAt})))}))((function({className:e,lastRatedAt:t}){return t?y.createElement(ZH,{className:e,timestamp:t}):null})),tq={unwatchedCircle:"MetadataTitleMiniProgress-unwatchedCircle-1gzpg2 MetadataTitleProgress-unwatchedCircle-1x2O97",isPartiallyWatched:"MetadataTitleMiniProgress-isPartiallyWatched-2Ctg0c",small:"MetadataTitleMiniProgress-small-RnX6ny",medium:"MetadataTitleMiniProgress-medium-12-wnN"};function nq({size:e,saved:t,viewOffset:n,viewCount:i}){return null==t||t||n?i||n?n?y.createElement("div",{className:we()(tq.unwatchedCircle,tq.isPartiallyWatched,tq[e])}):null:y.createElement("div",{className:we()(tq.unwatchedCircle,tq[e])}):null}nq.defaultProps={size:vc.M2};const iq=nq,sq=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({saved:e.saved,viewOffset:e.viewOffset,viewCount:e.viewCount})))}))(iq),rq={unwatchedCircle:"MetadataTitleProgress-unwatchedCircle-1x2O97",medium:"MetadataTitleProgress-medium-1tPGiz"};function aq(e){const{className:t,size:n,duration:i,viewOffset:s,viewCount:r,isFolder:a}=e;return a?null:r||s?y.createElement(h_,{className:t,duration:i,viewOffset:s}):y.createElement("div",{className:we()(rq.unwatchedCircle,rq[n])})}aq.defaultProps={size:vc.M2};const oq=aq,lq=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({duration:e.duration,viewOffset:e.viewOffset,viewCount:e.viewCount,isFolder:e.isFolder})))}))(oq),cq=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({originalTitle:e.originalTitle})))}))((function({className:e,originalTitle:t}){return y.createElement("span",{className:e,title:t},t)})),dq=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({unviewedLeafCount:e.unviewedLeafCount})))}))((function({className:e,unviewedLeafCount:t}){let n;return t>0&&(n=(0,De.Z)("{numEpisodes} unplayed",{numEpisodes:t})),y.createElement("span",{className:e},n)})),uq=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({viewCount:e.viewCount})))}))((function({className:e,viewCount:t}){return y.createElement("span",{className:e},t>0?t:null)})),pq={flex:"2 1 350px"},mq={flex:"0 1 200px"},hq={key:"title",ascKey:"titleSort",descKey:"titleSort:desc",title:e=>{switch(e){case Ho.MOVIE:return(0,De.Z)("Movie Title");case Ho.SHOW:return(0,De.Z)("Show Title");case Ho.EPISODE:return(0,De.Z)("Episode Title");case Ho.ARTIST:return(0,De.Z)("Artist Title");case Ho.ALBUM:return(0,De.Z)("Album Title");case Ho.TRACK:return(0,De.Z)("Track Title");default:return(0,De.Z)("Title")}},component:()=>JK,style:pq},gq={key:"season",ascKey:"season.index,season.titleSort",descKey:"season.index:desc,season.titleSort",title:()=>(0,De.Z)("Season"),component:()=>JK,style:pq},yq={key:"seasonShow",ascKey:"show.titleSort,index",descKey:"show.titleSort:desc,index",title:()=>(0,De.Z)("Show"),component:()=>PH,style:pq},vq={key:"episodeShow",ascKey:"show.titleSort,season.index:nullsLast,episode.index:nullsLast,episode.originallyAvailableAt:nullsLast,episode.titleSort,episode.id",descKey:"show.titleSort:desc,season.index:nullsLast,episode.index:nullsLast,episode.originallyAvailableAt:nullsLast,episode.titleSort,episode.id",title:()=>(0,De.Z)("Show"),component:()=>iP,style:pq},fq={key:"albumArtist",ascKey:"artist.titleSort,album.titleSort,album.index,album.id,album.originallyAvailableAt",descKey:"artist.titleSort:desc,album.titleSort,album.index,album.id,album.originallyAvailableAt",title:()=>(0,De.Z)("Album Artist"),component:()=>PH,style:pq},Iq={key:"trackAlbumArtist",ascKey:"artist.titleSort,album.titleSort,album.year,track.absoluteIndex,track.index,track.titleSort,track.id",descKey:"artist.titleSort:desc,album.titleSort,album.year,track.absoluteIndex,track.index,track.titleSort,track.id",title:()=>(0,De.Z)("Album Artist"),component:()=>iP,style:pq},bq={key:"trackArtist",title:()=>(0,De.Z)("Artist"),ascKey:"originalTitle",descKey:"originalTitle:desc",component:()=>cq,style:pq},Mq={key:"combinedTitleTrackArtist",ascKey:"titleSort",descKey:"titleSort:desc",title:()=>(0,De.Z)("Track Title"),component:()=>XK,style:pq},Sq={key:"trackAlbum",ascKey:"album.titleSort",descKey:"album.titleSort:desc",title:()=>(0,De.Z)("Album"),component:()=>PH,style:pq},Eq={key:"year",ascKey:"year",descKey:"year:desc",title:()=>(0,De.Z)("Year"),component:()=>lP,style:{flex:"0 1 150px"}},Dq={key:"criticRating",ascKey:"rating",descKey:"rating:desc",title:()=>(0,De.Z)("Critic Rating"),component:()=>k_,style:{flex:"0 0 150px"}},Cq={key:"userRating",ascKey:"userRating",descKey:"userRating:desc",title:()=>(0,De.Z)("Rating"),component:()=>$_,style:{flex:"0 0 115px"}},Pq={key:"miniUserRating",ascKey:"userRating",descKey:"userRating:desc",title:()=>(0,De.Z)("Rating"),component:()=>$_,style:{flex:"0 0 75px",padding:0}},wq={key:"contentRating",ascKey:"contentRating",descKey:"contentRating:desc",title:()=>(0,De.Z)("Content Rating"),component:()=>j_,style:{flex:"0 0 150px"}},Tq={key:"duration",ascKey:"duration",descKey:"duration:desc",title:()=>(0,De.Z)("Duration"),component:e=>{switch(e){case Ho.TRACK:return UG;default:return R_}},style:{flex:"0 1 150px"}},Zq={key:"progress",ascKey:"viewOffset",descKey:"viewOffset:desc",title:()=>(0,De.Z)("Progress"),component:()=>lq,style:{flex:"0 1 150px"}},Nq={key:"miniProgress",ascKey:"viewOffset",descKey:"viewOffset:desc",title:()=>(0,De.Z)("Progress"),component:()=>sq,style:{flex:"0 0 25px",paddingLeft:"10px",paddingRight:0}},Aq={key:"seasonCount",ascKey:"childCount",descKey:"childCount:desc",title:()=>(0,De.Z)("Seasons"),component:()=>I_,style:{flex:"0 1 150px"}},xq={key:"seasonCount",ascKey:"childCount",descKey:"childCount:desc",title:()=>(0,De.Z)("Episodes"),component:()=>a_,style:{flex:"0 1 150px"}},Lq={key:"unwatchedCount",ascKey:"unviewedLeafCount",descKey:"unviewedLeafCount:desc",title:()=>(0,De.Z)("Unplayed"),component:()=>dq,style:{flex:"0 1 150px"}},Oq={key:"playCount",ascKey:"viewCount",descKey:"viewCount:desc",title:()=>(0,De.Z)("Plays"),component:()=>uq,style:{flex:"0 1 150px"}},jq={key:"dateAdded",ascKey:"addedAt",descKey:"addedAt:desc",title:()=>(0,De.Z)("Date Added"),component:()=>s_,style:mq},kq={key:"dateViewed",ascKey:"lastViewedAt",descKey:"lastViewedAt:desc",title:()=>(0,De.Z)("Date Viewed"),component:()=>z_,style:mq},Rq={key:"releaseDate",ascKey:"originallyAvailableAt",descKey:"originallyAvailableAt:desc",title:e=>{switch(e){case"movie":return(0,De.Z)("Release Date");case"show":case"episode":return(0,De.Z)("Air Date");case"album":default:return(0,De.Z)("Release Date")}},component:()=>V_,style:mq},zq={key:"lastRatedAt",ascKey:"lastRatedAt",descKey:"lastRatedAt:desc",title:()=>(0,De.Z)("Date Rated"),component:()=>eq,style:mq},Uq={key:"resolution",ascKey:"mediaHeight",descKey:"mediaHeight:desc",title:()=>(0,De.Z)("Resolution"),component:()=>B_,style:{flex:"0 1 150px"}},Vq={key:"bitrate",ascKey:"mediaBitrate",descKey:"mediaBitrate:desc",title:()=>(0,De.Z)("Bitrate"),component:()=>O_,style:{flex:"0 1 150px"}},Bq={movie:[hq,Eq,Dq,Cq,wq,Tq,Zq,Oq,jq,kq,Rq,Uq,Vq],show:[hq,Eq,Dq,Cq,wq,Aq,Lq,jq,kq,Rq],season:[gq,yq,Cq,jq],episode:[hq,vq,Eq,Dq,Cq,Tq,Zq,Oq,jq,kq,Rq,Uq,Vq],artist:[hq,Cq,jq],album:[hq,fq,Eq,Dq,Cq,jq,Rq],track:[hq,Iq,bq,Sq,Eq,Cq,Tq,Zq,Oq,jq,zq,Vq],collection:[hq,Cq]},Fq=[hq,gq,yq,vq,fq,Iq,bq,Sq,Eq,Dq,Cq,wq,Tq,Zq,Aq,xq,Lq,Oq,jq,kq,zq,Rq,Uq,Vq];function Hq(e){return Bq[e]}function _q(e=[]){const t=e.reduce(((e,t)=>(e[t.key]=!0,e)),{});return Fq.reduce(((e,n)=>(t[n.ascKey]&&e.push(n),e)),[])}const Qq=(0,de.P1)(ye.Z,(e=>e.libraryTableColumns));function Gq(){return(0,de.P1)(((e,{listType:t})=>t),((e,{listSubtype:t})=>t),((e,{listContext:t})=>t),((e,{isFolder:t})=>t),GK(),Qq,((e,t,n,i,s={},r)=>{const a=n===YC.Y3,o=Ik(e,t);return function(e,t,n,i={}){const s=i.keys,r=i.sorts,a=i.isFolder;if(s&&s.length)return(r&&r.length&&!a?_q(r):Hq(e)).reduce(((e,t)=>(-1!==s.indexOf(t.key)&&e.push(t),e)),[]);switch(n){case YC.sD:switch(e){case Ho.SEASON:return[gq,Eq,xq,Cq];case Ho.EPISODE:return[Nq,hq,Cq];case Ho.ALBUM:return[hq,Eq,Cq];case Ho.TRACK:return[Mq,Pq]}break;case YC.$4:switch(e){case Ho.TRACK:return[hq,Iq,Sq,Cq,Tq]}}switch(t){case zo.PODCAST:switch(e){case Ho.SHOW:return[hq];case Ho.TRACK:return[hq,Tq]}}switch(e){case Ho.MOVIE:return[hq,Eq,Tq,Zq];case Ho.SHOW:return[hq,Eq,Aq,Lq];case Ho.SEASON:return[gq,yq];case Ho.EPISODE:return[hq,vq,Zq];case Ho.ARTIST:return[hq];case Ho.ALBUM:return[hq,fq,Eq];case Ho.TRACK:return[hq,Iq,Tq];case Ho.PHOTO:case Ho.PHOTO_ALBUM:case Ho.CLIP:case Ho.COLLECTION:return[hq]}return[]}(e,t,n,{isFolder:i,keys:a?r[o]:void 0,sorts:a?s.sorts:void 0})}))}var Yq=n(28889),Wq=n(73588),Kq=n(46412);var qq=Object.prototype.hasOwnProperty,$q=Object.getOwnPropertySymbols,Jq=Object.prototype.propertyIsEnumerable,Xq=Object.assign;const e$=function(e){const{style:t,component:n,isActiveSort:i}=e,s=((e,t)=>{var n={};for(var i in e)qq.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&$q)for(var i of $q(e))t.indexOf(i)<0&&Jq.call(e,i)&&(n[i]=e[i]);return n})(e,["style","component","isActiveSort"]),r=n(e.type);return y.createElement("div",{className:i?"TableCell-activeTableCell-1nev47 TableCell-tableCell-3sOWfL":"TableCell-tableCell-3sOWfL",style:t},y.createElement(r,Xq(Xq({},s),{className:"TableCell-title-3jP2Mf"})))};var t$=n(34504);const n$=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({index:e.index})))}))(pG),i$="MetadataTableRow-transientTitleLeft-1CS3Kp MetadataTableRow-transientTitle-14IqGn",s$="MetadataTableRow-transientTitleRightText-13U5G3";var r$=Object.assign;const a$=function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,containerKey:s,listType:r,listContext:a,activeSort:o,selectedSort:l,cellIndex:c,activeTableColumns:d,title:u,route:p,ratingKey:m,source:h,hasOfflineFile:g,hasOwnSubscription:v,showAvailableOffline:f,showLink:I,showPlay:b,showEdit:M,showSelect:S,showMore:E,showPlayIndex:D,showPlayCellIndex:C,showActionsDuration:P,showActionsMinutesLeft:w,hasActiveSelection:T,isSelected:Z,isOtherItemSelected:N,isModifierKeyPressed:A,isPlaying:x,isPlayerPaused:L,onPlayPress:O,onEditPress:j,onSelectPress:k,onDeselectPress:R}=e,z=(0,HC.Z)(e),[U,V]=aT(),[B,F]=(0,y.useState)(!1),H=a===YC.Y3,_=S&&(A||N),Q=T?"-1":"0",G=!U,Y=f||P||w;return y.createElement("div",r$({className:we()(c%2?"MetadataTableRow-alternateItem-36i_65 MetadataTableRow-item-38mDtn":"MetadataTableRow-item-38mDtn",T&&"MetadataTableRow-hasActiveSelection-IR414M",_&&"MetadataTableRow-isForcingSelection-3WKdev",Z&&"MetadataTableRow-isSelected-17yp57",B&&"MetadataTableRow-isActionsMenuOpen-GpaHIF"),style:z.style},V),S?y.createElement(AM.Z,{className:"MetadataTableRow-selectCoverButton-yuzveg","aria-label":Z?(0,De.Z)("Deselect {title}",{title:u}):(0,De.Z)("Select {title}",{title:u}),tabIndex:I&&!T?"-1":"0",onPress:Z?R:k}):null,I?y.createElement(AM.Z,{className:"MetadataTableRow-underlay-B2AlUg",tabIndex:Q,to:p,"aria-label":u}):null,y.createElement("div",{className:"MetadataTableRow-overlay-3nE7jI"},y.createElement("div",{className:"MetadataTableRow-playCell-3kTYHB"},D&&!x?y.createElement(n$,{className:i$,serverEntityID:t,providerEntityID:n,metadataItemEntityID:i}):null,C&&!x?y.createElement("span",{className:i$},c+1):null,b&&!x?y.createElement(dP.Z,{className:"MetadataTableRow-playButton-4fhhiF PlayButton-playButton-2dFmuo MetadataTableRow-button-3E9w21","data-qa-id":"listItemPlayButton",tabIndex:Q,title:u,onPress:O}):null,x?y.createElement(mv,{className:"MetadataTableRow-equalizer-3kX-CH EqualizerIcon-equalizer-u2_y9X",isPaused:L}):null),d.map((({style:e,component:s,ascKey:a,descKey:c},d)=>y.createElement(e$,{key:d,style:e,serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,component:s,type:r,isActiveSort:o===a||o===c||!!l&&l.key===a,hideUnrated:G}))),y.createElement("div",{className:H?"MetadataTableRow-libraryActionsCell-1v_198 MetadataTableRow-actionsCell-1Pb6-U":"MetadataTableRow-actionsCell-1Pb6-U"},Y?y.createElement("div",{className:H?i$:"MetadataTableRow-transientTitleRight-2CzC3A MetadataTableRow-transientTitle-14IqGn"},f?y.createElement(Kq.Z,{size:16,arrowSize:16,lineWidth:1.5,source:h,ratingKey:m,hasOfflineFile:g,hasOwnSubscription:v}):null,f?y.createElement(t$.Z,{metadataItemEntityID:i,providerEntityID:n}):null,P?y.createElement(UG,{className:s$,serverEntityID:t,providerEntityID:n,metadataItemEntityID:i}):null,w?y.createElement(g_,{className:s$,serverEntityID:t,providerEntityID:n,metadataItemEntityID:i}):null):null,S?y.createElement(xj.Z,{className:"MetadataTableRow-selectButton-SvEAlt SelectButton-selectButton-Yy19xn MetadataTableRow-button-3E9w21",tabIndex:Q,title:u,isSelected:Z,onPress:k}):null,M?y.createElement(AM.Z,{"data-qa-id":"metadataRowEditButton",className:"MetadataTableRow-editButton-2dS7oi MetadataTableRow-button-3E9w21",tabIndex:Q,"aria-label":(0,De.Z)("Edit {title}",{title:u}),onPress:j},y.createElement(Jd.Z,null)):null,E?y.createElement(uG.Z,{"data-qa-id":"metadataRowMoreButton",className:"MetadataTableRow-moreButton-2gnZco MetadataTableRow-button-3E9w21",tabIndex:Q,serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,containerKey:s,listType:r,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:B,onMenuOpenChange:F}):null)))},o$=function(e){const{cellIndex:t}=e,n=(0,HC.Z)(e);return y.createElement("div",{className:t%2?"MetadataTableRowLoading-alternateLoadingItem-1y9hyC MetadataTableRowLoading-loadingItem-1BOvrg":"MetadataTableRowLoading-loadingItem-1BOvrg",style:n.style},(0,De.Z)("Loading..."))};var l$=Object.assign;const c$=(0,lG.Z)(a$);class d$ extends y.Component{constructor(){super(...arguments),this.onSelectItem=e=>{this._isDoubleClick()?this._doubleClick():(this._firstClickTime=Date.now(),this.props.onSelectItem(e))},this.onDeselectItem=e=>{this._isDoubleClick()?this._doubleClick():(this._firstClickTime=Date.now(),this.props.onDeselectItem(e))}}_isDoubleClick(){return this._firstClickTime&&Date.now()-this._firstClickTime<300}_doubleClick(){const{selectionType:e,showPlay:t,onPlayPress:n,onSelectItem:i,onDeselectAllItems:s}=this.props;this._firstClickTime=0,s(),i({type:e}),t&&n()}render(){return this.props.metadataKey?this.props.showSelect?y.createElement(c$,l$(l$({},this.props),{onSelectItem:this.onSelectItem,onDeselectItem:this.onDeselectItem})):y.createElement(a$,l$({},this.props)):y.createElement(o$,l$({},this.props))}}const u$=(0,f.$j)(F_.Z)((0,YM.Z)((function(){return(0,de.P1)((0,_C.Z)(),Kh.Z,Wh.Z,Wa.Z,Gq(),oG(),(0,rP.Z)(),(0,HK.Z)(),jj(),Lj(),(0,RG.Z)(),(e=>e.ui.audioVideoPlayer.isPaused),dj.Z,((e={},t,n,i,s,r,a,o,l,c,d,u,p)=>{const m=!(!e.ratingKey||!o)&&J.Z.allowSyncDownload;return{activeTableColumns:s,metadataKey:e.key,type:r,title:e.title,selectionID:e.entityID,selectionType:l,activeSelectionType:p.activeSelectionType,isSelected:c,isPlaying:d,isPlayerPaused:u,route:a,ratingKey:e.ratingKey,source:o,hasOfflineFile:(0,Yq.Z)(e),hasOwnSubscription:(0,Wq.Z)(e),showAvailableOffline:m,showLink:!!a,showPlay:(0,KR.tW)({server:t,provider:n,stableUser:i,metadataItem:e}),showEdit:(0,KR.J5)({server:t,provider:n,stableUser:i,metadataItem:e}),showSelect:(0,KR.k_)({server:t,provider:n,stableUser:i,metadataItem:e}),showMore:!e.isFolder}}))}),(function(e,t){const{serverEntityID:n,providerEntityID:i,itemServerEntityID:s,itemProviderEntityID:r,metadataListEntityID:a,metadataItemEntityID:o,containerKey:l,listType:c,metricsPage:d,metricsContext:u}=t;return{onPlayPress(){e((0,it.wA)({serverEntityID:n,providerEntityID:i,itemServerEntityID:s,itemProviderEntityID:r,metadataItemEntityID:o,metricsPage:d,metricsContext:u,options:{containerKey:l,listType:c}}))},onEditPress(){e((0,Ka.editMetadataItem)({serverEntityID:n,providerEntityID:i,metadataItemEntityID:o,metricsPage:d}))},onSelectItem(t){e((0,cb.wr)(l$({metadataListEntityID:a,id:o},t)))},onDeselectItem(t){e((0,cb.g8)(l$({metadataListEntityID:a},t)))},onDeselectAllItems(){e((0,cb.m8)({metadataListEntityID:a}))}}}),_k.Z)(d$));function p$({className:e}){return y.createElement("div",{className:e})}p$.defaultProps={className:"PrePlayDivider-divider-1nBBzX"};const m$=p$,h$=function(){return y.createElement(m$,{className:"PrePlayListBottomDivider-bottomDivider-3zd62q PrePlayDivider-divider-1nBBzX"})},g$=function(){return y.createElement(m$,{className:"PrePlayListTopDivider-topDivider-3laa-U PrePlayDivider-divider-1nBBzX"})},y$={height:parseInt(ku.Z.tableRowHeight,10)},v$=(0,y.memo)((function(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,containerKey:s,title:r,index:a,className:o,metadataItemEntityIDs:l,listType:c}=e,d=(0,HC.Z)(e);return y.createElement("div",{className:o,style:d.style},y.createElement(iH,{className:"PrePlayDisc-header-1aXbYK HubCellHeader-hubCellHeader-G-yd6D"},y.createElement(rH,null,r||(0,De.Z)("Disc {discNumber}",{discNumber:a}))),y.createElement(g$,null),l.map(((e,r)=>y.createElement(u$,{key:e,style:y$,serverEntityID:t,providerEntityID:n,metadataListEntityID:i,containerKey:s,keyPropName:"metadataItemEntityID",metadataItemEntityID:e,cellIndex:r,listType:c,listContext:YC.sD,activeSort:"titleSort",showLink:!1,showPlayIndex:!0,showActionsDuration:!0}))),y.createElement(h$,null))})),f$="PrePlayList-emptyMessage-33Fg0f PrePlayList-emptyContainer-2slXpM",I$=function(e){const{listType:t,isPopulated:n,isPending:i,error:s,size:r,children:a}=e;return n&&r?y.createElement("div",{className:"PrePlayList-container-vGVoRn HubCell-hubCell-2uIdEm","data-qa-id":"preplayContainer--"+[t]},a):i?y.createElement("div",{className:"PrePlayList-emptyContainer-2slXpM"},y.createElement(RC.Z,null)):s?y.createElement("div",{className:f$},function(e){switch(e){case Oj.xx:return(0,De.Z)("Unable to load seasons");case Oj.uG:return(0,De.Z)("Unable to load episodes");case Oj.c5:return(0,De.Z)("Unable to load albums");case Oj.IK:return(0,De.Z)("Unable to load tracks");case Oj.pV:return(0,De.Z)("Unable to load photos");default:return(0,De.Z)("Unable to load items")}}(t)):y.createElement("div",{className:f$},function(e){switch(e){case Oj.xx:return(0,De.Z)("No seasons");case Oj.uG:return(0,De.Z)("No episodes");case Oj.c5:return(0,De.Z)("No albums");case Oj.IK:return(0,De.Z)("No tracks");case Oj.pV:return(0,De.Z)("No photos");default:return(0,De.Z)("No items")}}(t))};class b$ extends y.Component{constructor(e,t){super(e,t),this.onListContainerRef=e=>{this._setOffsetTop(e)},this._hasOffsetChanged=!1,this.state={listOffsetTop:null}}componentWillUpdate(e){this._hasOffsetChanged=e.contentHeight!==this.props.contentHeight}_setOffsetTop(e){e&&e.offsetTop!==this.state.listOffsetTop&&this.setState({listOffsetTop:e.offsetTop})}render(){const{children:e,scrollTop:t}=this.props,{listOffsetTop:n}=this.state,i=y.Children.only(e);return y.createElement("div",{ref:this._hasOffsetChanged?this._setOffsetTop.bind(this):this.onListContainerRef},null!=n?y.cloneElement(i,{scrollTop:t-n}):null)}}const M$=b$;var S$=Object.prototype.hasOwnProperty,E$=Object.getOwnPropertySymbols,D$=Object.prototype.propertyIsEnumerable,C$=Object.assign;const P$=parseInt(ku.Z.tableTitleHeight,10)+19,w$=parseInt(ku.Z.tableRowHeight,10),T$=(0,f.$j)((function(){return(0,de.P1)((0,de.P1)(((e,{metadataItemEntityIDs:t})=>t),EC.Z,((e,t)=>E().compact(e.reduce(((e,n)=>{const{entityID:i,parentIndex:s=1}=t[n],r=e[s];return r?r.metadataItemEntityIDs.push(i):e[s]={index:s,metadataItemEntityIDs:[i]},e}),[])))),(e=>({discs:e})))}))((function(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,containerKey:s,discs:r,listType:a,isPopulated:o,isPending:l,error:c,contentHeight:d,scrollTop:u}=e,p=((e,t)=>{var n={};for(var i in e)S$.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&E$)for(var i of E$(e))t.indexOf(i)<0&&D$.call(e,i)&&(n[i]=e[i]);return n})(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","discs","listType","isPopulated","isPending","error","contentHeight","scrollTop"]),m=r.reduce(((e,t)=>e+t.metadataItemEntityIDs.length),0),h=1===r.length?dG(a,m):"",g=(0,y.useMemo)((()=>kC({getCellHeights:()=>r.map((e=>P$+e.metadataItemEntityIDs.length*w$)),overscan:1})),[r]),v={serverEntityID:t,providerEntityID:n,metadataListEntityID:i,containerKey:s,title:h,listType:a};return y.createElement(I$,{listType:a,isPopulated:o,isPending:l,error:c,size:m},y.createElement(M$,{contentHeight:d,scrollTop:u},g?y.createElement(Aj.Z,C$({serverEntityID:t,providerEntityID:n,metadataListEntityID:i,keyPropName:"index",items:r,size:r.length,listType:a,listContext:et.sD,isPopulated:o,isPending:l,error:c,layout:g,cellRenderer:Yj(v,v$)},p)):null))})),Z$=parseFloat(ku.Z.prePlayPosterWidthRatio,10),N$=parseInt(ku.Z.prePlayPosterMinWidth,10),A$=parseInt(ku.Z.prePlayPosterMaxWidth,10),x$=function(e,t){const n=-1*t+1,i=e*(n/30+Z$);return Math.max(Math.min(i,A$+30*n),N$)};function L$({className:e,children:t}){return y.createElement("div",{className:e},t)}L$.defaultProps={className:"PrePlayMetadataContent-content-2UkIeM"};const O$=L$,j$=function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,metadataKey:s,type:r,subtype:a,posterWidth:o,posterHeight:l,posterUrl:c,showLinkOnly:d}=e;return y.createElement(kj.Z,{cardFaceClassName:"PrePlayPosterCard-face-ozCulL MetadataPosterCardFace-face-3oaw1P MetadataPosterCardFace-poster-11uR3N",serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,metadataKey:s,type:r,subtype:a,imageWidth:o,imageHeight:l,imageUrl:c,showLink:!1,showSelect:!1,showEdit:!1,showMore:!1,showLinkOnly:d})};function k$(e){const{children:t,serverEntityID:n,providerEntityID:i,metadataItemEntityID:s,columnAdjustment:r,showPoster:a,posterType:o,metadataKey:l,type:c,subtype:d,thumb:u,pageWidth:p}=e,m=x$(p,r),h=(0,qC.Cr)(m,o||c,d,YC.sD);return y.createElement("div",{className:"PrePlayDetailsContainer-container-1QNusy"},a?y.createElement(j$,{serverEntityID:n,providerEntityID:i,metadataItemEntityID:s,metadataKey:l,type:c,subtype:d,posterType:o,posterWidth:m,posterHeight:h,posterUrl:u}):null,a?y.createElement(O$,null,t):y.createElement("div",null,t))}k$.defaultProps={showPoster:!0};const R$=k$;function z$(e){const{className:t,linkClassName:n,server:i,provider:s,sourceDirectory:r,fallbackFilterKey:a,type:o,tags:l,limit:c}=e;if(!l||!l.length)return null;const d=o&&(0,Ho.getMetadataType)(o);return y.createElement("span",{className:t},l.map(((e,t)=>{if(t>=c)return;let o;if(e.directory&&e.key&&r)o=(0,zg.Z)(i,s,r,{key:e.key,title:e.tag});else if((e.filter||e.id)&&r){const t={filters:e.filter,filterLabel:e.tag};!t.filter&&a&&e.id&&(t.filters=`${a}=${e.id}`),d&&(t.type=d.id),e.context&&(t.context=e.context),o=(0,C_.Z)(i,s,r,t)}return y.createElement("span",{key:t},y.createElement(AM.Z,{className:n,to:o,isDisabled:!o},e.tag),t+1<c&&t+1<l.length?", ":null)})))}z$.defaultProps={linkClassName:"PrePlayTagList-tagsListLink-1cAxVN Link-link-3v-v0b",limit:1/0};const U$=z$,V$=function(e){const{server:t,provider:n,sourceDirectory:i,type:s,Genre:r}=e;return y.createElement(U$,{server:t,provider:n,sourceDirectory:i,fallbackFilterKey:"genre",type:s,tags:r,limit:2})},B$=(0,f.$j)((function(){return(0,de.P1)(Kh.Z,Wh.Z,w_(),(0,_C.Z)(),((e,t,n,i={})=>({server:e,provider:t,sourceDirectory:n,type:i.type,Genre:i.Genre})))}))(V$);function F$({className:e,children:t}){return y.createElement("div",{className:e},t)}F$.defaultProps={className:"PrePlayMetadataInnerContent-innerContent-587MD4"};const H$=F$;function _$({className:e,children:t}){return y.createElement("div",{className:e},t)}_$.defaultProps={className:"PrePlayMetadataListInnerContent-innerContent-2ww2tR"};const Q$=_$;var G$=n(54177);class Y$ extends y.Component{constructor(e,t){super(e,t),this.onLineHeightRef=e=>{e&&this.setState({lineHeight:e.clientHeight})},this.onMeasure=({height:e})=>{this.setState({expandedHeight:e})},this.onTogglePress=()=>{this.setState({isCollapsed:!this.state.isCollapsed,allowTransition:!0})},this.state={isCollapsed:!0,allowTransition:!1,lineHeight:0,expandedHeight:0}}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{className:e,dangerouslySetInnerHTML:t,children:n,labelLess:i,labelMore:s,maxLines:r}=this.props,{isCollapsed:a,allowTransition:o,expandedHeight:l,lineHeight:c}=this.state,d=c*r,u=l>d,p={overflow:"hidden",maxHeight:a?d:l};return y.createElement("div",{className:e},c?null:y.createElement("div",{className:"CollapsibleText-lineHeightMeasure-3S9LiZ",ref:this.onLineHeightRef}),y.createElement("div",{className:o?"CollapsibleText-contentTransition-uNx1of":void 0,style:p},y.createElement(OC.Z,{ignoreWidth:!0,ignorePosition:!0,onMeasure:this.onMeasure},t?y.createElement("div",{dangerouslySetInnerHTML:t}):n)),u?y.createElement(G$.Z,{className:"CollapsibleText-readMore-96xulY DisclosureArrowButton-disclosureArrowButton-eURy9V Link-link-3v-v0b",arrowClassName:"CollapsibleText-readMoreArrow-2BqtzZ DisclosureArrowButton-disclosureArrow-3LE5vH DisclosureArrow-disclosureArrow-11pOBF",direction:a?yc.WV:yc.UP,isSelected:!1,onPress:this.onTogglePress},a?s:i):null)}}Y$.defaultProps={labelLess:"Read Less",labelMore:"Read More",maxLines:3};const W$=Y$;var K$=Object.assign;function q$(e){return y.createElement(W$,K$(K$({},e),{labelLess:(0,De.Z)("Read Less"),labelMore:(0,De.Z)("Read More")}))}q$.defaultProps=K$({},W$.defaultProps);const $$=q$;function J$({className:e,dangerouslySetInnerHTML:t,children:n}){const i=n?n.split("\n"):[];return y.createElement($$,{className:e,dangerouslySetInnerHTML:t},i.length>1?i.map(((e,t)=>y.createElement("p",{key:t},e))):n)}J$.defaultProps={className:"PrePlaySummary-summary-1ltXwF"};const X$=J$;var eJ=n(32003);var tJ=Object.prototype.hasOwnProperty,nJ=Object.getOwnPropertySymbols,iJ=Object.prototype.propertyIsEnumerable,sJ=Object.assign;function rJ(e){var{className:t,name:n,width:i,height:s}=e,r=((e,t)=>{var n={};for(var i in e)tJ.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&nJ)for(var i of nJ(e))t.indexOf(i)<0&&iJ.call(e,i)&&(n[i]=e[i]);return n})(e,["className","name","width","height"]);const a=n.toUpperCase().split(" "),o=a[0].charAt(0),l=a[a.length-1].charAt(0),c=a.length>1?`${o}${l}`:n.charAt(0),d={fontSize:Math.max(14,Math.min(Math.round(i/4),42)),lineHeight:`${s}px`};return y.createElement("div",sJ({style:d,className:we()(t,"Anagram-anagram-3ZXck1")},r),c)}rJ.defaultProps={width:13,height:13};const aJ=rJ;var oJ=n(28868);const lJ=function(e){const{serverEntityID:t,providerEntityID:n,isOffscreen:i,tagType:s,librarySectionType:r,title:a,url:o,width:l,height:c,transitionProps:d,onLoad:u,onError:p}=e;if(i)return null;if(o)return y.createElement(FQ.Z,{serverEntityID:t,providerEntityID:n,url:o,width:l,height:c,transitionProps:d,backgroundPosition:"center center",onLoad:u,onError:p});const m=N_.Z.get(s);if(m&&m.isPerson)return y.createElement(aJ,{name:a,width:l,height:c});const h=eJ.ZP.get(r),g=function(e){switch(e){case"artist":return"track";default:return e}}(h&&h.typeString);return y.createElement(oJ.Z,{type:g,width:l,height:c})};var cJ=Object.prototype.hasOwnProperty,dJ=Object.getOwnPropertySymbols,uJ=Object.prototype.propertyIsEnumerable,pJ=Object.assign;function mJ(e){const{className:t,imageWidth:n,imageHeight:i,imageUrl:s,tag:r,tagType:a}=e,o=((e,t)=>{var n={};for(var i in e)cJ.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&dJ)for(var i of dJ(e))t.indexOf(i)<0&&uJ.call(e,i)&&(n[i]=e[i]);return n})(e,["className","imageWidth","imageHeight","imageUrl","tag","tagType"]),l=N_.Z.get(a),c=!!l&&l.isPerson;return y.createElement(WC.Z,pJ({key:r,className:we()(t,c&&"TagPosterCard-isPerson-ojrvVy"),component:lJ,width:n,height:i,url:s,tagType:a},o))}mJ.defaultProps={className:"TagPosterCard-card-3VDS7c MetadataPosterCardFace-poster-11uR3N"};const hJ=mJ;var gJ=Object.prototype.hasOwnProperty,yJ=Object.getOwnPropertySymbols,vJ=Object.prototype.propertyIsEnumerable,fJ=Object.assign;function IJ(e){const{route:t,children:n}=e,i=((e,t)=>{var n={};for(var i in e)gJ.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&yJ)for(var i of yJ(e))t.indexOf(i)<0&&vJ.call(e,i)&&(n[i]=e[i]);return n})(e,["route","children"]);return t?y.createElement(AM.Z,fJ({className:"PrePlayCastCell-posterCardLinkContainer-1Ce-QB PrePlayCastCell-posterCardContainer-29aY6B",to:t},i),n):y.createElement("span",fJ({className:"PrePlayCastCell-posterCardContainer-29aY6B"},i),n)}const bJ=(0,y.memo)((function(e){const{listType:t,serverEntityID:n,providerEntityID:i,server:s,provider:r,sourceDirectory:a,titleComponents:o,role:l,cellWidth:c}=e,{key:d,thumb:u,id:p,tag:m,role:h,filter:g,directory:v}=l,f=(0,HC.Z)(e);let I;return v&&d&&a?I=(0,zg.Z)(s,r,a,{key:d,title:m}):(g||p)&&a&&(I=(0,C_.Z)(s,r,a,{filters:g||`actor=${p}`,filterLabel:m})),y.createElement("div",{style:f.style},y.createElement(IJ,{route:I},y.createElement(hJ,{serverEntityID:n,providerEntityID:i,imageWidth:c,imageHeight:c,imageUrl:u,title:m,tag:m,tagType:t})),y.createElement("div",{className:"PrePlayCastCell-titleContainer-34tqYE"},o.map(((e,t)=>y.createElement(RQ,{key:t,route:I,tag:m,role:h,component:e,isSecondary:t>0})))))}));var MJ=Object.assign;function SJ(e){const{listType:t,listSubtype:n,listContext:i,serverEntityID:s,providerEntityID:r,server:a,provider:o,sourceDirectory:l,roles:c,isEmbeddedServer:d}=e;if(!c||d)return null;const u=eQ(t,i);return y.createElement("div",{className:"PrePlayCastList-castList-FTcaZG"},y.createElement(ZQ,{hubIdentifier:"cast",title:(0,De.Z)("Cast"),size:c.length,listType:t,listContext:i,columnAdjustment:1,keyPropName:"uniqueID",items:c.map((e=>({role:e,uniqueID:`${e.id||e.tag}!${e.role}`}))),layout:MH(t,n,i,1,u.length),cellRenderer:(p={listType:t,listContext:i,serverEntityID:s,providerEntityID:r,server:a,provider:o,sourceDirectory:l,titleComponents:u},e=>y.createElement(bJ,MJ(MJ({},p),e)))}));var p}SJ.defaultProps={listType:"actor",listContext:YC.sD};const EJ=SJ,DJ=(0,f.$j)((function(){return(0,de.P1)(Kh.Z,Wh.Z,w_(),(0,_C.Z)(),(0,fN.Z)(),((e,t,n,i,s)=>({server:e,provider:t,sourceDirectory:n,roles:i.Role,isEmbeddedServer:s})))}))(EJ);function CJ(){return(0,de.P1)(Wh.Z,(0,_C.Z)(),((e,t)=>{const n=e&&e.features.content;if(!t||!n)return null;if(e.protocols[rT.K])return n.directories.find((e=>e.hubKey&&!e.key));const{librarySectionKey:i,librarySectionID:s,isPlaylist:r}=t;return i||s?n.directories.find((e=>e.id?e.id===s:!!e.key&&e.key===i)):r?n.directories.find((e=>e.type===mS.zg)):void 0}))}var PJ=Object.prototype.hasOwnProperty,wJ=Object.getOwnPropertySymbols,TJ=Object.prototype.propertyIsEnumerable,ZJ=Object.assign;const NJ={dispatchPopulateProvider:oS};class AJ extends y.Component{componentDidMount(){this.props.provider.isPopulated||this._populateProvider()}componentDidUpdate(e){this.props.providerEntityID===e.providerEntityID||this.props.provider.isPopulated||this._populateProvider()}_populateProvider(){this.props.dispatchPopulateProvider({providerEntityID:this.props.providerEntityID,options:{merge:!0}})}render(){const e=this.props,{dispatchPopulateProvider:t,provider:n}=e,i=((e,t)=>{var n={};for(var i in e)PJ.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&wJ)for(var i of wJ(e))t.indexOf(i)<0&&TJ.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchPopulateProvider","provider"]);return n.isPopulated?y.createElement(tY,ZJ(ZJ({},i),{listContext:YC.Y3})):null}}const xJ=function(e,t){const n=(0,f.$j)((function(){return(0,de.P1)(t(),(({source:e})=>mQ(e)||{}))}))(e);return n.displayName=`OverrideEntityIDsWithSource(${(0,rC.Z)(e)})`,n}((0,f.$j)((function(){return(0,de.P1)(Wh.Z,(e=>({provider:e})))}),NJ)(AJ),UF),LJ={opacity:0,pointerEvents:"none"},OJ={opacity:1,pointerEvents:"auto"};class jJ extends y.Component{constructor(e,t){super(e,t),this.onListReady=()=>{++this._readyCount===this._initialCount&&this.setState({isReady:!0})},this.state={isReady:!1},this._readyCount=0}componentWillMount(){this._initialCount=this.props.hubEntityIDs.length}componentWillReceiveProps(e){const t=e.hubEntityIDs.length,n=this.props.hubEntityIDs.length;this.state.isReady||t===n||(this._initialCount=t,this._readyCount===t&&this.setState({isReady:!0}))}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{allowHomeHubIndicator:e,allowPersistentHomeHubStatus:t,allowToggleHomeHub:n,allowSourceTitle:i,className:s,serverEntityID:r,providerEntityID:a,directoryKey:o,hubEntityIDs:l,sourceDirectory:c,isPromoted:d,columnAdjustment:u,listContext:p}=this.props,{isReady:m}=this.state,h=d?xJ:tY;return y.createElement("div",{className:s,style:m?OJ:LJ},l.map((s=>y.createElement(h,{key:s,serverEntityID:r,providerEntityID:a,hubEntityID:s,sourceDirectory:c,directoryKey:o,allowHomeHubIndicator:e,allowPersistentHomeHubStatus:t,allowToggleHomeHub:n,allowSourceTitle:i,listContext:p,columnAdjustment:u,onListReady:this.onListReady}))))}}const kJ=jJ;function RJ(e){const{serverEntityID:t,providerEntityID:n,hubEntityIDs:i,sourceDirectory:s,showSpinner:r,isEmbeddedServer:a,listContext:o}=e;return a?null:r?y.createElement("div",{className:"PrePlayHubList-spinnerContainer-3vw7J6"},y.createElement(RC.Z,null)):y.createElement(kJ,{className:"PrePlayHubList-relatedList-1lU3Do",serverEntityID:t,providerEntityID:n,hubEntityIDs:i,sourceDirectory:s,listContext:o,columnAdjustment:1})}RJ.defaultsProps={listContext:YC.sD};const zJ=RJ,UJ=(0,f.$j)((function(){return(0,de.P1)((0,fN.Z)(),CJ(),(e=>e.ui.prePlayPage),((e,t,n)=>{const{relatedHubs:i,isRelatedHubsPending:s}=n;return{isEmbeddedServer:e,sourceDirectory:t,hubEntityIDs:i,showSpinner:!i.length&&s}}))}))(zJ);function VJ({className:e,children:t}){return y.createElement("div",{className:e},t)}VJ.defaultProps={className:"PrePlayLeftTitle-leftTitle-1zhnSU"};const BJ=VJ,FJ=function({attribution:e,title:t}){return y.createElement(BJ,{className:"PrePlayAttributedLeftTitle-container-3GRadG"},e?y.createElement(gs,{className:"PrePlayAttributedLeftTitle-attribution-36UJ-W",attribution:e}):null,y.createElement("div",{className:"PrePlayAttributedLeftTitle-title-1uoOXB"},t))};function HJ({className:e,children:t}){return y.createElement("div",{className:e,"data-qa-id":"preplay-mainTitle"},t)}HJ.defaultProps={className:"PrePlayPrimaryTitle-primaryTitle-1Qesge"};const _J=HJ;function QJ({className:e,children:t}){return y.createElement("div",{className:e},t)}QJ.defaultProps={className:"PrePlayRightTitle-rightTitle-2Xa_CX"};const GJ=QJ,YJ=function({serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}){return y.createElement(GJ,{className:"PrePlayRatingRightTitle-ratingRightTitle-3w1dPt PrePlayRightTitle-rightTitle-2Xa_CX"},y.createElement($_,{className:"PrePlayRatingRightTitle-starRating-wl1brL",serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}),y.createElement(k_,{className:"PrePlayRatingRightTitle-criticRating-3p-Ig2",serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}))};function WJ(e){const{children:t,className:n}=e;return y.createElement("div",{className:n,"data-qa-id":"preplay-secondTitle"},t)}WJ.defaultProps={className:"PrePlaySecondaryTitle-secondaryTitle-9VRlQS PrePlayPrimaryTitle-primaryTitle-1Qesge"};const KJ=WJ;function qJ({className:e,children:t}){return y.createElement("div",{className:e,"data-qa-id":"preplay-thirdTitle"},t)}qJ.defaultProps={className:"PrePlayTertiaryTitle-tertiaryTitle-3FCXL5"};const $J=qJ;class JJ extends y.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataListEntityID:i,metadataKey:s,attribution:r,title:a,type:o,year:l,summary:c,thumb:d,art:u,listType:p,listStyle:m,isListReady:h,pageWidth:g,pageHeight:v,scrollTop:f,columnAdjustment:I}=this.props,{isContentMeasured:b,contentWidth:M,contentHeight:S}=this.state,E=!!u,D=!(!b||!i);return y.createElement(OC.Z,{ignorePosition:!0,onMeasure:this.onContentMeasure},y.createElement(R$,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataKey:s,type:o,thumb:d,pageWidth:g,columnAdjustment:I},y.createElement(H$,null,y.createElement(_J,null,y.createElement(PH,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n})),y.createElement(KJ,null,y.createElement(FJ,{attribution:r,title:a}),y.createElement(YJ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n})),y.createElement($J,null,y.createElement(BJ,null,l),y.createElement(GJ,null,y.createElement(B$,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n})))),y.createElement(m$,null),c?y.createElement(H$,null,y.createElement(X$,null,c)):null),y.createElement(Q$,null,D?y.createElement(kG.Z,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,initialSize:1/0,listType:p,listStyle:m,showArtwork:E,component:T$,viewportWidth:M,viewportHeight:v,contentHeight:S,scrollTop:f}):null,h?y.createElement(H$,null,y.createElement(DJ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}),y.createElement(UJ,{serverEntityID:e,providerEntityID:t})):null))}}const XJ=JJ;function eX(e){const{children:t,server:n,provider:i,sourceDirectory:s,type:r,Director:a,Writer:o,Studio:l,studio:c,isLibraryProvider:d}=e;return t||a.length||o.length||c||l.length?y.createElement(OL,null,t,a.length?y.createElement(kL,{label:(0,De.Z)("Directed by")},y.createElement(U$,{server:n,provider:i,sourceDirectory:s,fallbackFilterKey:"director",type:r,tags:a})):null,o.length?y.createElement(kL,{label:(0,De.Z)("Written by")},y.createElement(U$,{server:n,provider:i,sourceDirectory:s,fallbackFilterKey:"writer",type:r,tags:o})):null,l.length?y.createElement(kL,{label:(0,De.Z)("Studio")},y.createElement(U$,{server:n,provider:i,sourceDirectory:s,fallbackFilterKey:"studio",type:r,tags:l})):null,c&&!l.length?y.createElement(kL,{label:(0,De.Z)("Studio")},y.createElement(U$,{server:n,provider:i,sourceDirectory:s,type:r,tags:[{filter:d?`studio=${encodeURIComponent(encodeURIComponent(c))}`:null,tag:c}]})):null):null}eX.defaultProps={Director:[],Writer:[]};const tX=eX,nX=(0,f.$j)((function(){return(0,de.P1)(Kh.Z,Wh.Z,w_(),(0,_C.Z)(),((e,t,n,i={})=>({server:e,provider:t,isLibraryProvider:pa.wB(t.identifier,pa.Y3),sourceDirectory:n,Director:i.Director,Writer:i.Writer,Studio:i.Studio,studio:i.studio})))}))(tX),iX=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.prePlayPage),(e=>{const{augmentedHubs:t,isAugmentedHubsPending:n}=e;return t?{hubEntityIDs:t,showSpinner:!t.length&&n}:{hubEntityIDs:[],showSpinner:!1}}))}))(zJ);var sX=n(90961);const rX=function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,cellIndex:s,metadataKey:r,route:a,title:o,type:l,summary:c,showRecord:d,hasSingleSubscription:u}=e,p=(0,HC.Z)(e),[m,h]=(0,y.useState)(!1),g=(0,y.useCallback)((e=>{h(!0)}),[]),v=(0,y.useCallback)((()=>{h(!1)}),[]);return r?y.createElement("div",{className:s%2?"EPGPrePlayEpisodeCell-alternateItem-3ze4Hj EPGPrePlayEpisodeCell-item-CKxMg1":"EPGPrePlayEpisodeCell-item-CKxMg1",style:p.style},y.createElement(AM.Z,{className:"EPGPrePlayEpisodeCell-underlay-20r18x",to:a}),y.createElement("div",{className:"EPGPrePlayEpisodeCell-overlay-1NBQeo"},y.createElement("div",{className:"EPGPrePlayEpisodeCell-primaryTitle-30cuzn"},y.createElement(sP.Z,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i})),y.createElement("div",{className:"EPGPrePlayEpisodeCell-secondaryTitle-3_gE2h"},u?y.createElement(AL.Z,{className:"EPGPrePlayEpisodeCell-subscriptionIcon-nCS_Ub","aria-label":(0,De.Z)("Recording Scheduled")}):null,y.createElement(kH,{className:"EPGPrePlayEpisodeCell-nextAiringDate-1rVW4O",metadataItemEntityID:i,showFullTime:!0}),c?y.createElement(tr.Z,{className:"EPGPrePlayEpisodeCell-separator-1i34AQ"}):null,c)),d?y.createElement(uP.Z,{className:"EPGPrePlayEpisodeCell-recordButton-16kUN0 RecordButton-recordButton-2H5wQ_ PlayButton-playButton-2dFmuo RecordIcon-recordIconContainer-3wNYSz",tabIndex:"-1",title:o,onPress:g}):null,y.createElement(Nd.Z,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,isOpen:m,subscriptionType:l,onModalClose:v})):y.createElement("div",{className:s%2?"EPGPrePlayEpisodeCell-alternateLoadingItem-3znMDn EPGPrePlayEpisodeCell-loadingItem-2xlUnw":"EPGPrePlayEpisodeCell-loadingItem-2xlUnw",style:p.style},(0,De.Z)("Loading..."))};var aX=Object.assign;const oX=(0,YM.Z)((function(){return(0,de.P1)(((e,{metricsContext:t})=>t),Kh.Z,Wh.Z,(0,_C.Z)(),((e,t,n,i={})=>{const s={};return e&&(s.context=e),{metadataKey:i.key,title:i.title,type:i.type,summary:i.summary,route:(0,ui.Z)(t,n,i.key,s),showRecord:!!n.features.subscribe,hasSingleSubscription:!!i.subscriptionID}}))}))((function(e){return y.createElement(rX,aX({},e))}));var lX=Object.assign;const cX=(0,sX.Z)(96);class dX extends y.Component{constructor(){super(...arguments),this.renderCell=e=>y.createElement(oX,lX({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,metadataListEntityID:this.props.metadataListEntityID},e))}render(){return y.createElement(Aj.Z,lX({layout:cX,cellRenderer:this.renderCell},this.props))}}const uX=dX,pX=function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,containerKey:s,listType:r,cellIndex:a,title:o,summary:l,tagline:c,route:d,showLink:u,showMore:p,isPlaying:m,isPlayerPaused:h,onPlayPress:g}=e,v=(0,HC.Z)(e),[f,I]=(0,y.useState)(!1);return y.createElement("div",{className:we()(a%2?"MetadataSimpleSummaryCell-alternateItem-1hOQfE MetadataSimpleSummaryCell-item-3KjbXi":"MetadataSimpleSummaryCell-item-3KjbXi",f&&"MetadataSimpleSummaryCell-isActionsMenuOpen-1cFUbL"),style:v.style},u?y.createElement(AM.Z,{className:"MetadataSimpleSummaryCell-underlay-35rUq_",to:d,"aria-label":o}):null,y.createElement("div",{className:"MetadataSimpleSummaryCell-overlay-1DqghH"},y.createElement("div",{className:"MetadataSimpleSummaryCell-simpleSummaryContainer-WtsdJi"},y.createElement("div",{className:"MetadataSimpleSummaryCell-indexPlayContainer-3Ol9yY"},m?null:y.createElement(c_,{className:"MetadataSimpleSummaryCell-titleEpisodeIndex-1Y7dnX",metadataItemEntityID:i,longName:!1}),m?y.createElement(mv,{isPaused:h}):y.createElement("div",{className:"MetadataSimpleSummaryCell-playButtonContainer-35iTay"},y.createElement(dP.Z,{className:"MetadataSimpleSummaryCell-playButton-BuE8K2 PlayButton-playButton-2dFmuo MetadataSimpleSummaryCell-button-XHsenA",title:o,onPress:g}))),y.createElement("div",{className:"MetadataSimpleSummaryCell-miniProgressContainer-B3NUf4"},y.createElement(sq,{metadataItemEntityID:i,size:vc.HC})),y.createElement("div",{className:"MetadataSimpleSummaryCell-titleAndSummaryContainer-8m4k5d"},y.createElement("div",{className:"MetadataSimpleSummaryCell-titleContainer-1Da8TU"},y.createElement("div",{className:"MetadataSimpleSummaryCell-title-3rsMyF"},o),y.createElement("div",{className:"MetadataSimpleSummaryCell-actions-1A2hS1"},p?y.createElement(uG.Z,{"data-qa-id":"metadataSimpleSummaryMoreButton",className:"MetadataSimpleSummaryCell-moreButton-2uiNDC MetadataSimpleSummaryCell-button-XHsenA",serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,containerKey:s,listType:r,showPlay:!1,showAddToSaved:!1,isMenuOpen:f,onMenuOpenChange:I}):null)),y.createElement("div",{className:"MetadataSimpleSummaryCell-summary-1_dktb"},c||l)))))},mX=function(e){const{cellIndex:t}=e,n=(0,HC.Z)(e);return y.createElement("div",{className:t%2?"MetadataSimpleSummaryCellLoading-alternateLoadingItem-2w1upT MetadataSimpleSummaryCellLoading-loadingItem-3a2jvE":"MetadataSimpleSummaryCellLoading-loadingItem-3a2jvE",style:n.style},(0,De.Z)("Loading..."))};var hX=Object.assign;const gX=(0,YM.Z)((function(){return(0,de.P1)(((e,{listContext:t})=>t),((e,{cellHeight:t})=>t),(0,_C.Z)(),oG(),(0,rP.Z)(),rG(),(0,RG.Z)(),(e=>e.ui.audioVideoPlayer.isPaused),((e,t,n={},i,s,r,a,o)=>({metadataKey:n.key,grandparentKey:n.grandparentKey,type:i,index:n.index,title:n.title,summary:r,tagline:n.tagline,route:s,showLink:!!s,showMore:!n.isFolder,isPlaying:a,isPlayerPaused:o})))}),(function(e,t){const{serverEntityID:n,providerEntityID:i,metadataItemEntityID:s,containerKey:r,listType:a,metricsPage:o,metricsContext:l}=t;return{onPlayPress(){e((0,it.wA)({serverEntityID:n,providerEntityID:i,metadataItemEntityID:s,metricsPage:o,metricsContext:l,options:{containerKey:r,listType:a}}))}}}),_k.Z)((function(e){const{metadataKey:t}=e;return t?y.createElement(pX,hX({},e)):y.createElement(mX,hX({},e))})),yX=parseInt(ku.Z.simpleSummaryCellHeight,10),vX=(0,sX.Z)(yX,5);var fX=Object.prototype.hasOwnProperty,IX=Object.getOwnPropertySymbols,bX=Object.prototype.propertyIsEnumerable,MX=Object.assign;const SX=function(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,containerKey:s,listType:r,listContext:a}=e,o=((e,t)=>{var n={};for(var i in e)fX.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&IX)for(var i of IX(e))t.indexOf(i)<0&&bX.call(e,i)&&(n[i]=e[i]);return n})(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","listType","listContext"]);return y.createElement(Aj.Z,MX({layout:vX,cellRenderer:Yj({serverEntityID:t,providerEntityID:n,metadataListEntityID:i,containerKey:s,listType:r,listContext:a},gX)},o))};var EX=Object.prototype.hasOwnProperty,DX=Object.getOwnPropertySymbols,CX=Object.prototype.propertyIsEnumerable,PX=Object.assign;class wX extends y.Component{constructor(e,t){super(e,t),this.state={layout:this._createLayout(e)}}componentWillReceiveProps(e){const t=this.props.aspectRatios!==e.aspectRatios,n=this.props.viewportWidth!==e.viewportWidth,i=this.props.columnAdjustment!==e.columnAdjustment;(t||n||i)&&this.setState({layout:this._createLayout(e)})}_createLayout(e=this.props){const{viewportWidth:t,columnAdjustment:n,aspectRatios:i}=e,s=Math.ceil(t/400),r=Math.max(1,s+n);return Fj({columns:r,rows:Qj({aspectRatios:i,columns:r})})}render(){if(!this.state)return null;const e=this.props,{cellRenderer:t}=e,n=((e,t)=>{var n={};for(var i in e)EX.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&DX)for(var i of DX(e))t.indexOf(i)<0&&CX.call(e,i)&&(n[i]=e[i]);return n})(e,["cellRenderer"]),{layout:i}=this.state;return y.createElement(Aj.Z,PX({layout:i,cellRenderer:t},n))}}wX.defaultProps={columnAdjustment:0};const TX=wX,ZX=(0,f.$j)((function(){return(0,de.P1)(((e,{items:t})=>t),((e,{serverEntityID:t})=>t),((e,{providerEntityID:t})=>t),((e,{metadataListEntityID:t})=>t),((e,{containerKey:t})=>t),((e,{listType:t})=>t),EC.Z,((e=[],t,n,i,s,r,a)=>({listType:r,cellRenderer:Yj({serverEntityID:t,providerEntityID:n,metadataListEntityID:i,containerKey:s,listType:r},Vj),aspectRatios:e.map((e=>Cj(a[e])))})))}))(TX);var NX=Object.assign;const AX=parseInt(ku.Z.prePlayContentPadding,10),xX={},LX={innerHorizontalPadding:30,innerVerticalPadding:30,outerPaddingTop:30,outerPaddingRight:60,outerPaddingBottom:30,outerPaddingLeft:60};function OX(e,t,n,i=0,s=0){const r=e+(t||"")+n+i+s;if(xX.hasOwnProperty(r))return xX[r];const a=(0,qC.n3)(e,t,n),{titleHeight:o,minCellWidth:l,preferredCellWidth:c,minColumns:d,maxColumns:u}=fH({type:e,aspectRatio:a,titleCount:s,context:n}),p=function(e){return e===YC.sD?NX(NX({},LX),{outerPaddingTop:10,outerPaddingRight:AX,outerPaddingBottom:5,outerPaddingLeft:AX}):LX}(n),m=(0,mH.ZP)(NX(NX({direction:mH.yZ},p),{getCellWidth:e=>yH(NX(NX({},e),{preferredCellWidth:c,minCellWidth:l,minColumns:d,maxColumns:u,columnAdjustment:i,aspectRatio:a})),getCellHeight:e=>hH(NX(NX({},e),{aspectRatio:a,titleHeight:o}))}));return m.cellOptions={minCellWidth:l,minColumns:d,maxColumns:u,columnAdjustment:i,aspectRatio:a,titleHeight:o},xX[r]=m,m}var jX=Object.prototype.hasOwnProperty,kX=Object.getOwnPropertySymbols,RX=Object.prototype.propertyIsEnumerable,zX=Object.assign;const UX=function(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,containerKey:s,listType:r,listSubtype:a,listContext:o,columnAdjustment:l}=e,c=((e,t)=>{var n={};for(var i in e)jX.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&kX)for(var i of kX(e))t.indexOf(i)<0&&RX.call(e,i)&&(n[i]=e[i]);return n})(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","listType","listSubtype","listContext","columnAdjustment"]),d=eQ(r,o,{providerEntityID:n});return y.createElement(Aj.Z,zX({layout:OX(r,a,o,l,d.length),cellRenderer:Yj({serverEntityID:t,providerEntityID:n,metadataListEntityID:i,containerKey:s,listType:r,listContext:o,titleComponents:d},NG)},c))},VX=parseInt(ku.Z.summaryCellHeight,10),BX=(0,sX.Z)(VX,5);var FX=Object.prototype.hasOwnProperty,HX=Object.getOwnPropertySymbols,_X=Object.prototype.propertyIsEnumerable,QX=Object.assign;const GX=function(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,containerKey:s,listType:r,listContext:a}=e,o=((e,t)=>{var n={};for(var i in e)FX.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&HX)for(var i of HX(e))t.indexOf(i)<0&&_X.call(e,i)&&(n[i]=e[i]);return n})(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","listType","listContext"]);return y.createElement(Aj.Z,QX({layout:BX,cellRenderer:Yj({serverEntityID:t,providerEntityID:n,metadataListEntityID:i,containerKey:s,listType:r,listContext:a},MG)},o))},YX=parseInt(ku.Z.tableRowHeight,10),WX=(0,sX.Z)(YX);var KX=Object.prototype.hasOwnProperty,qX=Object.getOwnPropertySymbols,$X=Object.prototype.propertyIsEnumerable,JX=Object.assign;const XX=function(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,containerKey:s,listType:r,listContext:a}=e,o=((e,t)=>{var n={};for(var i in e)KX.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&qX)for(var i of qX(e))t.indexOf(i)<0&&$X.call(e,i)&&(n[i]=e[i]);return n})(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","listType","listContext"]),l={serverEntityID:t,providerEntityID:n,metadataListEntityID:i,containerKey:s,listType:r,listContext:a,activeSort:"titleSort"};return"episode"===r&&(l.showPlayIndex=!0,l.showActionsMinutesLeft=!0),"track"===r&&(l.showLink=!1,l.showPlayIndex=!0,l.showActionsDuration=!0),y.createElement(Aj.Z,JX({layout:WX,cellRenderer:Yj(l,u$)},o))},e0=function(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,metadataItemEntityIDs:s,containerKey:r,listType:a,listStyle:o,populatedRange:l,isPopulated:c,isPending:d,error:u,listTitle:p,titleButtonTitle:m,titleButtonRoute:h,totalSize:g,previewSize:v,viewportWidth:f,viewportHeight:I,contentHeight:b,scrollTop:M,columnAdjustment:S,onPageRequest:E}=e,D=g||s.length,C=null!=v&&D>v?v:D,P=null!=v&&D>v,w=function(e){switch(e){case Mk:return ZX;case Sk:return XX;case Dk:return GX;case Ck:return uX;case Ek:return SX;default:return UX}}(o),T=p||dG(a,D),Z=o===Sk||o===Dk||o===Ek||o===Ck;return y.createElement(I$,{listType:a,isPopulated:c,isPending:d,error:u,size:C},T?y.createElement(iH,{className:"PrePlayDescendantList-descendantHubCellHeader-H7rExw HubCellHeader-hubCellHeader-G-yd6D"},y.createElement(rH,null,T),P||null!=m?y.createElement(AM.Z,{className:"PrePlayDescendantList-titleButton-2s27qw",to:h},m||(0,De.Z)("See all")):null):null,Z?y.createElement(g$,null):null,y.createElement(M$,{contentHeight:b,scrollTop:M},y.createElement(w,{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,containerKey:r,listType:a,listContext:YC.sD,keyPropName:"metadataItemEntityID",items:s,itemsOffset:l.start,size:C,viewportWidth:f,viewportHeight:I,columnAdjustment:S,onPageRequest:E})),Z?y.createElement(h$,null):null)};var t0=Object.assign;function n0(e){return y.createElement(jG,t0({className:"PrePlayExtrasList-extrasHubCell-29yVS8 HubCell-hubCell-2uIdEm",hubIdentifier:"extras"},e))}n0.defaultProps={listType:"extra",listContext:YC.sD,columnAdjustment:1};const i0=n0,s0=(0,f.$j)((function(){return(0,de.P1)(Wh.Z,(0,_C.Z)(),(0,SC.Z)(),((e,t={},n)=>{const i=n.metadataItems.length,s=1===i&&!!t.primaryExtraKey;return{metadataItemEntityIDs:n.metadataItems,containerKey:n.containerKey,size:s?0:i,populatedRange:n.populatedRange}}))}))(i0);var r0=n(94275);const a0=function(e){const{at:t,city:n,country:i,tag:s,url:r,venue:a}=e,o=(0,hi.Z)(t),l=(0,$C.Z)(o,"dd"),c=(0,$C.Z)(o,"MMM");return y.createElement(AM.Z,{className:"PrePlayConcert-concert-1DtjIK",target:"_blank",to:r},y.createElement("div",{className:"PrePlayConcert-concertCalendar-184aLD"},y.createElement("div",{className:"PrePlayConcert-concertMonth-2glv2E"},c),y.createElement("div",{className:"PrePlayConcert-concertDay-1ycKpJ"},l)),y.createElement("div",{className:"PrePlayConcert-concertDetails-qqD30U"},y.createElement("div",{className:"PrePlayConcert-concertTitle-3DUVAC"},s),y.createElement("div",{className:"PrePlayConcert-concertLocation-ZcoY5P"},a," (",n,", ",i,")")))};var o0=Object.assign;const l0=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({concerts:e.concerts})))}))((function({concerts:e}){return e&&e.length?y.createElement("div",{className:"PrePlayConcerts-concerts-2__thU"},y.createElement(iH,null,y.createElement(rH,null,(0,De.Z)("On Tour"),y.createElement("img",{className:"PrePlayConcerts-concertsLogo-25YfRn",src:r0}))),e.map((e=>y.createElement(a0,o0({key:e.id},e))))):null})),c0=(0,f.$j)((function(){return(0,de.P1)(Kh.Z,Wh.Z,w_(),(0,_C.Z)(),((e,t,n,i={})=>({server:e,provider:t,sourceDirectory:n,Country:i.Country,Genre:i.Genre})))}))((function(e){const{server:t,provider:n,sourceDirectory:i,Country:s,Genre:r}=e,a=!(!s||!s.length),o=!(!r||!r.length);return a||o?y.createElement($J,null,a?y.createElement(BJ,null,y.createElement(U$,{server:t,provider:n,sourceDirectory:i,fallbackFilterKey:"country",tags:s,limit:1})):null,o?y.createElement(GJ,null,y.createElement(V$,{server:t,provider:n,sourceDirectory:i,Genre:r})):null):null}));var d0=Object.prototype.hasOwnProperty,u0=Object.getOwnPropertySymbols,p0=Object.prototype.propertyIsEnumerable,m0=Object.assign;const h0=function(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,metadataItemEntityIDs:s,containerKey:r,showArtwork:a,contentHeight:o,scrollTop:l}=e,c=((e,t)=>{var n={};for(var i in e)d0.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&u0)for(var i of u0(e))t.indexOf(i)<0&&p0.call(e,i)&&(n[i]=e[i]);return n})(e,["serverEntityID","providerEntityID","metadataListEntityID","metadataItemEntityIDs","containerKey","showArtwork","contentHeight","scrollTop"]);if(!s||!s.length)return null;const d={serverEntityID:t,providerEntityID:n,metadataListEntityID:i,containerKey:r,listType:"track",listContext:YC.sD,activeSort:"titleSort",showLink:!1,showPlayIndex:!1,showPlayCellIndex:!0,showActionsDuration:!0};return y.createElement("div",{className:"PrePlayPopularTracks-popularTracksHubCell-3s6i09 HubCell-hubCell-2uIdEm","data-qa-id":"hub--popularTracks"},y.createElement(H$,null,y.createElement(rH,null,(0,De.Z)("Popular Tracks"))),y.createElement(g$,null),y.createElement(M$,{showArtwork:a,contentHeight:o,scrollTop:l},y.createElement(Aj.Z,m0({layout:WX,cellRenderer:Yj(d,u$),items:s,size:Math.min(s.length,5),keyPropName:"metadataItemEntityID"},c))),y.createElement(h$,null))};class g0 extends y.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataListEntityID:i,extrasMetadataListEntityID:s,popularLeavesMetadataListEntityID:r,metadataKey:a,attribution:o,title:l,type:c,summary:d,thumb:u,art:p,listType:m,listStyle:h,isListReady:g,pageWidth:v,pageHeight:f,scrollTop:I,columnAdjustment:b}=this.props,{isContentMeasured:M,contentWidth:S,contentHeight:E}=this.state,D=!(!M||!r),C=!(!M||!i);return y.createElement(OC.Z,{ignorePosition:!0,onMeasure:this.onContentMeasure},y.createElement(R$,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataKey:a,type:c,thumb:u,pageWidth:v,columnAdjustment:b},y.createElement(H$,null,y.createElement(_J,null,y.createElement(FJ,{attribution:o,title:l}),y.createElement(YJ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n})),y.createElement(c0,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n})),y.createElement(m$,null),y.createElement(H$,null,y.createElement(nX,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}),y.createElement(X$,null,d))),y.createElement(Q$,null,D?y.createElement(kG.Z,{serverEntityID:e,providerEntityID:t,metadataListEntityID:r,component:h0,showArtwork:!!p,viewportWidth:S,viewportHeight:f,contentHeight:E,scrollTop:I,listStyle:h}):null,C?y.createElement(kG.Z,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,listType:m,listStyle:h,component:e0,initialSize:20,showArtwork:!!p,viewportWidth:S,viewportHeight:f,contentHeight:E,scrollTop:I}):null,g?y.createElement(H$,null,s?y.createElement(s0,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataListEntityID:s,title:(0,De.Z)("Music Videos")}):null,y.createElement(l0,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}),y.createElement(UJ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}),y.createElement(iX,{serverEntityID:e,providerEntityID:t})):null))}}const y0=g0;class v0 extends y.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataListEntityID:i,metadataKey:s,title:r,minYear:a,maxYear:o,type:l,summary:c,thumb:d,art:u,listType:p,listStyle:m,isListReady:h,pageWidth:g,pageHeight:v,scrollTop:f,columnAdjustment:I}=this.props,{isContentMeasured:b,contentWidth:M,contentHeight:S}=this.state,E=!(!a||!o||a===o),D=!(!o||a!==o),C=!(!b||!i);return y.createElement(OC.Z,{ignorePosition:!0,onMeasure:this.onContentMeasure},y.createElement(R$,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataKey:s,type:l,thumb:d,pageWidth:g,columnAdjustment:I},y.createElement(H$,null,y.createElement(_J,null,y.createElement(BJ,null,r)),y.createElement(KJ,null,E||D?y.createElement(BJ,null,E?a+" — "+o:o):null,y.createElement(YJ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}))),y.createElement(m$,null),c?y.createElement(H$,null,y.createElement(X$,null,c)):null),y.createElement(Q$,null,C?y.createElement(kG.Z,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,listType:p,listStyle:m,component:e0,initialSize:20,showArtwork:!!u,viewportWidth:M,viewportHeight:v,contentHeight:S,scrollTop:f}):null,h?y.createElement(H$,null,y.createElement(UJ,{serverEntityID:e,providerEntityID:t})):null))}}const f0=v0,I0=(0,f.$j)((function(){return(0,de.P1)((0,OH.Z)(),(e=>({mediaItem:e})))}))(RL);Object.assign;const b0=(0,f.$j)((function(){return(0,de.P1)(QC,(0,OH.Z)(),jH(),((e,t,n)=>({beginsAt:t&&t.beginsAt,endsAt:t&&t.endsAt,channel:n&&n.tag,timeFormat:e})))}))(FL);class M0 extends y.Component{constructor(e,t){super(e,t),this.onRecordPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:e.isSubscribeModalOpen}}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,type:i,isSubscribed:s,subscriptionType:r,grandparentSubscriptionType:a}=this.props,{isSubscribeModalOpen:o}=this.state;return y.createElement($h.Z,{"data-qa-id":"preplayRecordButton",className:"EPGPrePlayRecordButton-recordButton-3ErFRT PrePlayStatusButton-statusButton-1Yti-- Button-default-3Y9N_s",size:vc.HC,onPress:this.onRecordPress},y.createElement(mP.Z,{className:s?"EPGPrePlayRecordButton-recordingIcon-15APG7":"EPGPrePlayRecordButton-recordIcon-1mpB2H",type:a||r||i}),s?(0,De.Z)("Recording Scheduled"):(0,De.Z)("Record"),y.createElement(Nd.Z,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,isOpen:o,subscriptionType:i,onModalClose:this.onSubscribeModalClose}))}}M0.defaultProps={isSubscribeModalOpen:!1};const S0=M0,E0=function(e){const{contentRating:t}=e;return t?y.createElement(zw.Z,{className:"PrePlayContentRating-badge-1pVgMF Badge-badge-29PpMR"},ws(t)):null},D0=(0,f.$j)((function(){return(0,de.P1)(Wh.Z,(0,_C.Z)(),((e,t={})=>({type:t.type,duration:t.duration,contentRating:t.contentRating,isSubscribed:null!=t.subscriptionID||null!=t.grandparentSubscriptionID,subscriptionType:t.subscriptionType,grandparentSubscriptionType:t.grandparentSubscriptionType,showRecord:!!e.features.subscribe})))}))((function({serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,type:i,duration:s,contentRating:r,isSubscribed:a,subscriptionType:o,grandparentSubscriptionType:l,showRecord:c,record:d}){return y.createElement(BJ,null,y.createElement(y_,{className:"EPGPrePlayStatusLeftTitle-duration-353bQX",duration:s}),y.createElement(E0,{contentRating:r}),c?y.createElement(S0,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,type:i,isSubscribed:a,subscriptionType:o,grandparentSubscriptionType:l,isSubscribeModalOpen:d}):null)})),C0=(0,f.$j)((function(){return(0,de.P1)(Kh.Z,Wh.Z,w_(),(0,_C.Z)(),((e,t,n,i={})=>({server:e,provider:t,sourceDirectory:n,Genre:i.Genre})))}))((function(e){const{server:t,provider:n,sourceDirectory:i,Genre:s}=e,r=!(!s||!s.length);return y.createElement(GJ,null,r?y.createElement(V$,{server:t,provider:n,sourceDirectory:i,Genre:s}):null)}));var P0=Object.assign;function w0(e){return y.createElement("div",{className:"PrePlayAttributionLogo-attributionLogo-2p8HTP"},y.createElement(Dp,P0({},e)))}function T0(e,t,n){return!!(e.ownerFeatures&&e.ownerFeatures.indexOf(be.EM)>-1&&t&&t.isLibraryItem&&!t.isExtra&&function(e){return!e||e.protocol===GP.l||parseInt(e.protocolVersion,10)>=3}(n))}function Z0(e,t,n){return!!(e.ownerFeatures&&e.ownerFeatures.indexOf(be.m9)>-1&&t&&t.isLibraryItem&&!t.isExtra&&function(e){return!e||e.protocol===GP.l||parseInt(e.protocolVersion,10)>=3}(n))}var N0=n(84642),A0=n(6731),x0=n(98851);var L0=Object.prototype.hasOwnProperty,O0=Object.getOwnPropertySymbols,j0=Object.prototype.propertyIsEnumerable,k0=Object.assign;const R0={audio:function(e){const{stream:t,separatorComponent:n}=e,i=[];var s,r;t.codec&&i.push((r=t.codec)?"dca"===r?"DTS":r.toUpperCase():""),t.channels&&i.push((s=t.channels,(s=parseInt(s,10))?s<2?(0,De.Z)("Mono"):s<3?(0,De.Z)("Stereo"):(s-1).toString()+".1":""));const a=t.language||(0,De.Z)("Unknown"),o=i&&i.length>0?i.join(" "):null,l=o?(0,De.Z)("{label}, {details}",{label:a,details:o}):a;return y.createElement("span",{"aria-label":l,"data-qa-id":"audioStream"},a,o?y.createElement(n,null):null,o)},subtitles:function(e){const{stream:t,separatorComponent:n}=e,i=[];t.codec&&i.push(t.codec.toUpperCase()),t.key&&i.push((0,De.Z)("External")),t.forced&&i.push((0,De.Z)("Forced"));const s=t.language||(0,De.Z)("Unknown"),r=i&&i.length>0?i.join(" "):null,a=r?(0,De.Z)("{label}, {details}",{label:s,details:r}):s;return y.createElement("span",{"aria-label":a,"data-qa-id":"subtitlesStream"},s,r?y.createElement(n,null):null,r)},video:function(e){const{mediaItem:t,separatorComponent:n}=e;let i;t.videoCodec&&(i=[t.videoCodec.toUpperCase()]);const s=(0,Lo.Z)(t),r=s&&s.scanType,a=(0,Nr.Z)(t.videoResolution,r)||(0,De.Z)("Unknown"),o=i&&i.length>0?i.join(" "):null,l=o?(0,De.Z)("{label}, {details}",{label:a,details:o}):a;return y.createElement("span",{"aria-label":l,"data-qa-id":"videoStream"},a,o?y.createElement(n,null):null,o)}},z0=(0,f.$j)((function(){return(0,de.P1)((0,HM.Z)(),(e=>({serverShortVersion:e.shortVersion})))}))((function(e){const{type:t,stream:n,mediaItem:i,serverShortVersion:s}=e,r=((e,t)=>{var n={};for(var i in e)L0.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&O0)for(var i of O0(e))t.indexOf(i)<0&&j0.call(e,i)&&(n[i]=e[i]);return n})(e,["type","stream","mediaItem","serverShortVersion"]);if(!n&&!i)return y.createElement("span",{"data-qa-id":`${t}Stream`},(0,De.Z)("None"));if(s&&(0,qh.Z)(s,Yh.Z.streamDisplayTitles)){let e;if("video"===t){const t=(0,Lo.Z)(i);e=t?t.displayTitle:(0,De.Z)("None")}else e=n.displayTitle||n.language;return y.createElement("span",{"aria-label":e,"data-qa-id":`${t}Stream`},e)}const a=R0[t];return y.createElement(a,k0(k0({},r),{stream:n,mediaItem:i}))}));var U0=Object.assign;const V0=function(e){return y.createElement(z0,U0(U0({},e),{separatorComponent:tr.Z}))};class B0 extends y.Component{constructor(){super(...arguments),this.onPress=e=>{this.props.onStreamSelect(this.props.stream.id),this.props.onMenuClose()}}render(){const{className:e,children:t,stream:n}=this.props;return y.createElement(Ic.Z,{className:e,isSelected:!!n.selected,onPress:this.onPress},t)}}const F0=B0,H0=function(e){const{target:t,isOpen:n,serverEntityID:i,audioStreams:s,onMenuClose:r,onStreamSelect:a}=e;return y.createElement(mo.Z,{target:t,isOpen:n,size:vc.ln,onMenuClose:r},s.map((e=>y.createElement(F0,{key:e.id,stream:e,onMenuClose:r,onStreamSelect:a},y.createElement(V0,{serverEntityID:i,type:"audio",stream:e}),e.title?y.createElement("span",{className:"AudioStreamMenu-extendedTitle-2XBPeE"},e.title):null))))},_0=wD.Z.extend({name:"SubtitleModel",rootPropertyName:"Stream",syncedAttrs:{id:bD.Z.integer,key:bD.Z.string,streamType:bD.Z.integer,codec:bD.Z.string,index:bD.Z.integer,language:bD.Z.string,languageCode:bD.Z.string,score:bD.Z.float,providerTitle:bD.Z.string,title:bD.Z.string,displayTitle:bD.Z.string,reason:bD.Z.string,hearingImpaired:bD.Z.boolean,perfectMatch:bD.Z.boolean,downloaded:bD.Z.boolean}}),Q0=_S.Z.extend({name:"SubtitlesCollection",context:["server","key","language","title","mediaItemID","minimumScore","hearingImpaired","forced"],model:_0,url(){const e={language:this.language};return this.title&&(e.title=this.title),this.mediaItemID&&(e.mediaItemID=this.mediaItemID),this.minimumScore&&(e.minimumScore=this.minimumScore),null!=this.hearingImpaired&&(e.hearingImpaired=this.hearingImpaired),null!=this.forced&&(e.forced=this.forced),C.Z.join([this.key,"/subtitles"],e)}});var G0=n(20023);const Y0="ui/subtitlesModal/resetMetadataItemSubtitles",W0="ui/subtitlesModal/fetchMetadataItemSubtitles",K0="ui/subtitlesModal/downloadMetadataItemSubtitle",q0="ui/subtitlesModal/clearSubtitlesDownloadError",$0=(0,No.Z)(Y0),J0=(0,No.Z)(W0),X0=(0,No.Z)(K0);(0,No.Z)(q0);let e1=null;function t1(e){return e.get("ui").get("subtitlesModal")}function n1(e,t){e1&&(e1=window.clearTimeout(e1));const n=t.get("metadataItemEntityID"),i=(0,JM.$R)(e,{metadataItemEntityID:n}),s=i.server,r=t.get("subtitlesDownloadStartTime"),a=t.get("isSubtitlesDownloaded"),o=t.get("subtitlesDownloadError"),l=t.get("subtitlesDownloadKey");a||o||(r&&Date.now()-r>3e4?t.set({subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null,isSubtitlesDownloaded:!1,subtitlesDownloadError:(0,De.Z)("Failed to download subtitles in time")}):e1=window.setTimeout((()=>{i.fetch({data:{skipRefresh:1},usePopulatedParams:!0}).then((()=>{if(i.get("Media").some((e=>e.Part.some((e=>e.Stream.some((e=>e.key===l)))))))return t.set({subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null,isSubtitlesDownloaded:!0,subtitlesDownloadError:null}),void i1(e);s.get("hasEventConnection")||n1(e,t)}),(()=>{n1(e,t)}))}),2e3))}function i1(e){const t=e.get("ui").get("audioVideoPlayer");t.get("isOpen")&&(0,zP.Z)(e).refreshRemoteStreams(t)}const s1=(0,HS.Z)({[Y0](e){const t=t1(e),n=t.get("subtitles");e1&&(e1=window.clearTimeout(e1)),n.abortPendingPopulate(),n.resetPopulatePromise(null),t.restoreDefaults()},[W0](e,t,n){const i=t1(e),s=function(e){return e.get("user").get("profile")}(e),r=(0,JM.$R)(e,t),a=r.server.entityID(),o=i.get("subtitles");o&&(o.abortPendingPopulate(),o.resetPopulatePromise(null));const l=new Q0([],{key:r.get("key"),server:r.server,provider:r.provider,language:t.language,title:t.title,mediaItemID:t.mediaItemID,minimumScore:t.minimumScore,hearingImpaired:s.get("defaultSubtitleAccessibility"),forced:s.get("defaultSubtitleForced")});i.set({subtitles:l,serverEntityID:a,metadataItemEntityID:t.metadataItemEntityID,isSubtitlesPending:!0,isSubtitlesPopulated:!1,subtitlesError:null}),l.fetch().then((e=>{i.set({isSubtitlesPending:!1,isSubtitlesPopulated:!0})}),((e,t)=>{t.aborting?i.set("isSubtitlesPending",!1):i.set({isSubtitlesPending:!1,subtitlesError:(0,G0.Z)(t,(0,De.Z)("Unable to load subtitles"))})}))},[K0](e,t,n){const i=t1(e),s=(0,JM.$R)(e,t),r=s.server,a={key:t.key,codec:t.codec,language:t.language,hearingImpaired:t.hearingImpaired?1:0,forced:t.forced?1:0,providerTitle:t.providerTitle,mediaItemID:t.mediaItemID,transient:t.transient},o=C.Z.join([s.get("key"),"/subtitles"],a),l=r.getXHROptions(o,{type:"PUT"});i.set({subtitlesDownloadKey:t.key,subtitlesDownloadStartTime:Date.now(),isSubtitlesDownloaded:!1,subtitlesDownloadError:null}),g().ajax(l).then(((t,n,s)=>{const a=s.getResponseHeader("X-Plex-Activity");i.set("subtitlesDownloadActivityID",a),r.get("hasEventConnection")||n1(e,i)}),(e=>{i.set({subtitlesDownloadKey:null,subtitlesDownloadError:(0,G0.Z)(e,(0,De.Z)("Unable to download subtitles"))})}))},[q0](e){t1(e).set("subtitlesDownloadError",null)},[cS.db](e,t){const{serverEntityID:n}=t,i=t1(e);n===i.get("serverEntityID")&&n1(e,i)},[cS.Cs](e,t,n){const{activity:i}=t;if(i.type!==Oa.iJ)return;const s=t1(e);if(i.uuid!==s.get("subtitlesDownloadActivityID"))return;const r=s.get("serverEntityID"),a=s.get("metadataItemEntityID"),o={subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null},l=null!=i.Response.error;l?(o.isSubtitlesDownloaded=!1,o.subtitlesDownloadError=i.Response.status):o.isSubtitlesDownloaded=!0,s.set(o),l||(i1(e),n((0,Io.dk)({serverEntityID:r,metadataItemEntityID:a})))}});function r1(e){return e.ui.subtitlesModal}var a1=n(53221),o1=n(1284),l1=n(66935),c1=n(11031);const d1=/(^[^-]+)-/;function u1(e){for(let t=0,n=(e=e||[]).length;t<n;t++){const n=e[t];if("xx"===n||"xn"===n)continue;if(c1.ZP[n])return n;const i=n.match(d1),s=i&&u1([i[1]]);if(s)return s}}const p1=["af","sq","ar","an","hy","az","eu","be","bn","bs","br","bg","my","ca","zh","zh-TW","cs","da","nl","en","eo","et","fi","fr","ka","de","gl","el","he","hi","hr","hu","is","id","it","ja","kn","kk","km","ko","ku","lv","lt","lb","mk","ml","ms","mn","no","oc","fa","pl","pt","pt-BR","ro","ru","sr","si","sk","sl","es","sw","sv","ta","te","tl","th","tr","uk","ur","vi"],m1=p1.reduce(((e,t)=>(e[t]=c1.ZP[t],e)),{});function h1(e){if(m1[e])return e;const t=u1([e]);return m1[t]?t:"en"}const g1=[...p1].sort(c1.wq).reduce(((e,t)=>(e.push(m1[t]),e)),[]),y1=m1;class v1 extends y.Component{constructor(){super(...arguments),this.onPress=()=>{const{subtitleKey:e,codec:t,languageCode:n,providerTitle:i,hearingImpaired:s,forced:r,onDownloadSubtitle:a}=this.props;a({key:e,codec:t,languageCode:n,providerTitle:i,hearingImpaired:s,forced:r})}}render(){const{title:e,displayTitle:t,score:n,perfectMatch:i,downloaded:s,isDownloading:r}=this.props;return y.createElement(AM.Z,{className:"SubtitleRow-item-2r7hwu",isDisabled:s||r,onPress:this.onPress},y.createElement("div",{className:"SubtitleRow-titles-15A4BQ"},y.createElement("span",{className:"SubtitleRow-title-3y_zqh"},e),y.createElement("span",{className:"SubtitleRow-secondaryTitle-3bJ-VY SubtitleRow-title-3y_zqh"},t)),y.createElement("div",{className:"SubtitleRow-score-hE6pQR"},i?y.createElement(yr,{className:"SubtitleRow-perfectMatch-3LUb2g"}):null,n),r?y.createElement("div",{className:"SubtitleRow-spinnerContainer-jDr62y"},y.createElement(RC.Z,{size:vc.HC})):null,s?y.createElement(fa.Z,{className:"SubtitleRow-downloadedIcon-34X5Ls SubtitleRow-icon-2w_Nam"}):null,r||s?null:y.createElement(UR,{className:"SubtitleRow-downloadIcon-10ImXJ SubtitleRow-icon-2w_Nam"}))}}const f1=v1,I1=function(e){const{subtitles:t,subtitlesDownloadKey:n,onDownloadSubtitle:i}=e;return y.createElement(wN.Z,null,t.map((e=>{const{key:t,title:s,displayTitle:r,providerTitle:a,score:o,codec:l,languageCode:c,hearingImpaired:d,forced:u,perfectMatch:p,downloaded:m}=e;return y.createElement(f1,{key:t,subtitleKey:t,title:s,displayTitle:r,providerTitle:a,score:o,codec:l,languageCode:c,hearingImpaired:d,forced:u,perfectMatch:p,downloaded:m,isDownloading:n===t,onDownloadSubtitle:i})})))},b1="SubtitlesModalContent-centeredContainer-3O0Ga2";class M1 extends y.Component{constructor(e,t){super(e,t),this.onSearch=()=>{const{language:e,title:t}=this.state;this.props.onFetchSubtitles({language:e,title:t})},this.onLanguageChange=e=>{const t=Object.keys(y1).find((t=>y1[t]===e));this.setState({language:t},this.onSearch)},this.onTitleChange=e=>{this.searchTimeoutID&&window.clearTimeout(this.searchTimeoutID),this.setState({title:e},(()=>{this.searchTimeoutID=window.setTimeout(this.onSearch,500)}))},this.state={language:h1(e.defaultSubtitleLanguage),title:""},this.searchTimeoutID=null}componentDidMount(){this.onSearch()}componentDidUpdate(e,t){const{isSubtitlesDownloaded:n,onModalClose:i}=this.props,{isSubtitlesDownloaded:s}=e;!s&&n&&i()}componentWillUnmount(){this.searchTimeoutID&&window.clearTimeout(this.searchTimeoutID)}render(){const{mediaTitle:e,subtitles:t,showSpinner:n,showSearchResults:i,showEmptyMessage:s,hasSubtitlesError:r,subtitlesError:a,subtitlesDownloadKey:o,hasSubtitlesDownloadError:l,subtitlesDownloadError:c,onDownloadSubtitle:d,onModalClose:u}=this.props,{language:p}=this.state;return y.createElement("div",{className:"SubtitlesModalContent-modalContainer-26JoCE"},y.createElement(xL.Z,{onModalClose:u},y.createElement(NL.Z,null,(0,De.Z)("Subtitles")),l?y.createElement("div",null,y.createElement(Xk.Z,{errorMessage:c})):null,y.createElement(wL.Z,{className:"SubtitlesModalContent-modalBody-1LbnSr ModalBody-modalBody-3v8fMY",scrollDirection:vb.Hn},y.createElement("div",{className:"SubtitlesModalContent-inputs-2_Hxt8"},y.createElement(o1.Z,{className:"SubtitlesModalContent-languageInput-1OdK6X SelectInput-input-1P8SoV input-input-26w-zg",name:"language",value:y1[p],values:g1,onChange:this.onLanguageChange}),y.createElement(l1.Z,{className:"SubtitlesModalContent-titleInput-3lo7d2 TextInput-input-M2gRCL input-input-26w-zg",name:"title",placeholder:e,onChange:this.onTitleChange})),n?y.createElement("div",{className:b1},y.createElement(RC.Z,null)):null,r?y.createElement("div",{className:b1},a):null,i?y.createElement(I1,{subtitles:t,subtitlesDownloadKey:o,onDownloadSubtitle:d}):null,s?y.createElement("div",{className:b1},(0,De.Z)("No results")):null)))}}const S1=M1,E1=(0,f.$j)((function(){return(0,de.P1)((0,Qt.Z)("profile"),(0,_C.Z)(),r1,((e,t={},n)=>{const{Media:i}=t;let s="";if(i&&i.length){const e=i[0].Part;e.length&&(s=(0,a1.Z)(e[0].file,55))}const{subtitles:r,isSubtitlesPending:a,isSubtitlesPopulated:o,subtitlesError:l,subtitlesDownloadKey:c,isSubtitlesDownloaded:d,subtitlesDownloadError:u}=n,p=a&&!l,m=o&&!l&&r.length>0,h=o&&!l&&0===r.length;return{mediaTitle:s,defaultSubtitleLanguage:e.defaultSubtitleLanguage,subtitles:r,showSpinner:p,showSearchResults:m,showEmptyMessage:h,subtitlesDownloadKey:c,isSubtitlesDownloaded:d,hasSubtitlesError:!!l,subtitlesError:l,hasSubtitlesDownloadError:!!u,subtitlesDownloadError:u}}))}),(function(e,t){const{metadataItemEntityID:n}=t;return{onFetchSubtitles({language:t,title:i}){e(J0({metadataItemEntityID:n,language:t,title:i}))},onDownloadSubtitle(t){const{key:i,codec:s,languageCode:r,providerTitle:a,hearingImpaired:o,forced:l}=t;e(X0({metadataItemEntityID:n,key:i,codec:s,language:r,providerTitle:a,hearingImpaired:o,forced:l}))}}}))(S1),D1=function(e){const{metadataItemEntityID:t,isOpen:n,onModalClose:i}=e;return y.createElement(PL.Z,{isOpen:n,metricsPage:et.Wv,onModalClose:i},y.createElement(E1,{metadataItemEntityID:t,onModalClose:i}))};var C1=Object.assign;const P1={dispatchResetMetadataItemSubtitles:$0};class w1 extends y.Component{constructor(){super(...arguments),this.onModalClose=()=>{this.props.dispatchResetMetadataItemSubtitles(),this.props.onModalClose()}}render(){return y.createElement(D1,C1(C1({},this.props),{onModalClose:this.onModalClose}))}}const T1=(0,f.$j)(null,P1)(w1),Z1=["aqt","ass","idx","jss","psb","rt","smi","srt","ssa","sub","txt","utf","utf-8","utf8","vtt"],N1="ui/subtitlesUploadModal/resetUploadSubtitles",A1="ui/subtitlesUploadModal/uploadSubtitles",x1=(0,No.Z)(N1),L1=(0,No.Z)(A1);function O1(e){return e.get("ui").get("subtitlesUploadModal")}const j1=(0,HS.Z)({[N1](e){O1(e).restoreDefaults()},[A1](e,t,n){const{file:i}=t,s=(0,JM.$R)(e,t),r=O1(e),a=i.name,o=function(e){const t=e.lastIndexOf(".");return t>=0?e.substring(t+1):null}(a);if(!Z1.includes(o))return void r.set({error:(0,De.Z)("Unsupported subtitle file format")});if(i.size>1048576)return void r.set({error:(0,De.Z)("Subtitle file exceeds 1MB size limit")});(0,Rt.c9)((()=>{r.set({isUploading:!0,isUploaded:!1,error:null})}));const l=new window.FileReader;l.onload=t=>{if(t.target.error)return void r.set({isUploading:!1,isUploaded:!1,error:(0,De.Z)("Unable to upload subtitle file")});const n=t.target.result,i=C.Z.join([s.get("key"),"subtitles"],{title:a,format:o}),l=s.server.getXHROptions(i,{method:"POST",processData:!1,contentType:!1,data:n});g().ajax(l).then((()=>{r.set({isUploading:!1,isUploaded:!0,error:null});const t=e.get("ui").get("audioVideoPlayer");s.fetch({data:{skipRefresh:1},usePopulatedParams:!0}),t.get("isOpen")&&(0,zP.Z)(e).refreshRemoteStreams(t)}),(e=>{r.set({isUploading:!1,isUploaded:!1,error:(0,G0.Z)(e,(0,De.Z)("Unable to upload subtitle file"))})}))},l.readAsText(i)}});class k1 extends y.Component{constructor(e,t){super(e,t),this.onDragEnter=(e=window.event)=>{e.preventDefault(),this.dropTargetEnteredCounter++,this.setOverDropTargetState()},this.onDragLeave=(e=window.event)=>{e.preventDefault(),this.dropTargetEnteredCounter--,this.setOverDropTargetState()},this.onFileDrop=e=>{e.preventDefault();const{metadataItemEntityID:t,dispatchUploadSubtitles:n}=this.props;let i;this.setState({isOverDropTarget:!1}),this.dropTargetEnteredCounter=0,e.dataTransfer&&e.dataTransfer.files.length?i=e.dataTransfer.files[0]:e.target.files&&e.target.files.length&&(i=e.target.files[0]),n({metadataItemEntityID:t,file:i})},this.dropTargetEnteredCounter=0,this.state={isOverDropTarget:!1}}componentDidMount(){window.addEventListener("dragover",this.onWindowDragOver),window.addEventListener("drop",this.onWindowDrop)}componentDidUpdate(e){const{isUploading:t,isUploaded:n,onModalClose:i}=this.props;e.isUploading&&!t&&n&&i()}componentWillUnmount(){window.removeEventListener("dragover",this.onWindowDragOver),window.removeEventListener("drop",this.onWindowDrop)}setOverDropTargetState(){this.state.isOverDropTarget||0===this.dropTargetEnteredCounter||this.setState({isOverDropTarget:!0}),this.state.isOverDropTarget&&0===this.dropTargetEnteredCounter&&this.setState({isOverDropTarget:!1})}onWindowDrop(e=window.event){e.preventDefault()}onWindowDragOver(e=window.event){e.preventDefault()}onDragOver(e=window.event){e.dataTransfer.dropEffect="copy"}render(){const{isUploading:e,isUploaded:t,error:n,onModalClose:i}=this.props,{isOverDropTarget:s}=this.state;return y.createElement(xL.Z,{onModalClose:i},y.createElement(NL.Z,null,(0,De.Z)("Upload Subtitle File")),n?y.createElement(Xk.Z,{errorMessage:n}):null,y.createElement(wL.Z,{className:"SubtitlesUploadModalContent-modalBody-1P9zuu ModalBody-modalBody-3v8fMY",scrollDirection:vb.Hn},y.createElement("div",{className:we()("SubtitlesUploadModalContent-container-2qD4bU",s&&"SubtitlesUploadModalContent-dropHover-kKWAnJ"),onDrop:e?null:this.onFileDrop,onDragOver:e?null:this.onDragOver,onDragEnter:e?null:this.onDragEnter,onDragLeave:e?null:this.onDragLeave},e||t?y.createElement("div",{className:"SubtitlesUploadModalContent-uploadingContainer-3wwMiE"},y.createElement(ML.Z,{label:(0,De.Z)("Uploading subtitle file")})):y.createElement("div",{className:"SubtitlesUploadModalContent-fileInputContainer-3InEO1"},y.createElement(Jk,{inputComponent:AM.Z,className:"SubtitlesUploadModalContent-fileInputLink-5XYS0V",name:"subtitleFile",buttonText:(0,De.Z)("Choose a file"),onChange:this.onFileDrop}),y.createElement("span",{className:"SubtitlesUploadModalContent-separator-vZMCFi"},"·"),(0,De.Z)("drag and drop")))),y.createElement(TL.Z,null,y.createElement(ZL.Z,null,y.createElement($h.Z,{onPress:i},(0,De.Z)("Cancel")))))}}const R1=k1,z1={dispatchUploadSubtitles:L1},U1=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.subtitlesUploadModal),(e=>e))}),z1)(R1),V1=function(e){const{metadataItemEntityID:t,isOpen:n,onModalClose:i}=e;return y.createElement(PL.Z,{className:"SubtitlesUploadModal-modal-1BU7Mi Modal-medium-2eyGet Modal-modal-2XLz2p",isOpen:n,metricsPage:et.m9,onModalClose:i},y.createElement(U1,{metadataItemEntityID:t,onModalClose:i}))};var B1=Object.prototype.hasOwnProperty,F1=Object.getOwnPropertySymbols,H1=Object.prototype.propertyIsEnumerable,_1=Object.assign;const Q1={dispatchResetUploadSubtitles:x1};class G1 extends y.Component{constructor(){super(...arguments),this.onModalClose=()=>{this.props.dispatchResetUploadSubtitles(),this.props.onModalClose()}}render(){const e=this.props,{dispatchResetUploadSubtitles:t}=e,n=((e,t)=>{var n={};for(var i in e)B1.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&F1)for(var i of F1(e))t.indexOf(i)<0&&H1.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchResetUploadSubtitles"]);return y.createElement(V1,_1(_1({},n),{onModalClose:this.onModalClose}))}}const Y1=(0,f.$j)(null,Q1)(G1);class W1 extends y.Component{constructor(e,t){super(e,t),this.onDeletePress=()=>{this.setState({isConfirmDeleteModalOpen:!0})},this.onDeleteConfirm=()=>{const{subtitlesStream:e,onStreamDelete:t}=this.props;this.setState({isConfirmDeleteModalOpen:!1}),t(e.key),this.props.onMenuClose()},this.onDeleteCancel=()=>{this.setState({isConfirmDeleteModalOpen:!1})},this.state={isConfirmDeleteModalOpen:!1}}render(){const{serverEntityID:e,subtitlesStream:t,isStreamDeleteInProgress:n,hasExternalSubtitlesStreams:i,canShowDeleteSubtitlesAction:s,onMenuClose:r,onStreamSelect:a}=this.props,o=!!t.key&&s;return y.createElement("div",{className:"SubtitlesStreamMenuItem-stream-36DboE"},y.createElement(F0,{className:i?"SubtitlesStreamMenuItem-menuItemContainer-4k-lGJ SelectedMenuItem-menuItemContainer-RdnVc0":void 0,stream:t,onMenuClose:r,onStreamSelect:a},y.createElement(V0,{serverEntityID:e,type:"subtitles",stream:t}),t.title?y.createElement("span",{className:"SubtitlesStreamMenuItem-extendedTitle-1ypKy_"},t.title):null),o?y.createElement(y.Fragment,null,y.createElement("div",{className:"SubtitlesStreamMenuItem-deleteContainer-1Lcf_H"},y.createElement(GC.Z,{className:"SubtitlesStreamMenuItem-deleteButton-2pc4ip IconButton-button-2smHOM",iconComponent:cc.Z,ariaLabel:(0,De.Z)("Delete Subtitle"),onPress:this.onDeletePress})),y.createElement(nt.Z,{isConfirmButtonSpinning:n,isOpen:this.state.isConfirmDeleteModalOpen,metricsPage:et.Yp,kind:fo.T,title:(0,De.Z)("Delete Subtitle File"),message:(0,De.Z)("Are you sure you want to delete this subtitle file?"),confirmLabel:(0,De.Z)("Delete"),onConfirm:this.onDeleteConfirm,onCancel:this.onDeleteCancel})):null)}}const K1=W1;class q1 extends y.Component{constructor(e,t){super(e,t),this.onMoreSubtitlesPress=()=>{this.setState({isSubtitlesModalOpen:!0})},this.onSubtitlesModalClose=()=>{this.setState({isSubtitlesModalOpen:!1})},this.onUploadSubtitlesPress=()=>{this.setState({isSubtitlesUploadModalOpen:!0})},this.onSubtitlesUploadModalClose=()=>{this.setState({isSubtitlesUploadModalOpen:!1})},this.state={isSubtitlesModalOpen:!1,isSubtitlesUploadModalOpen:!1}}render(){const{target:e,isOpen:t,serverEntityID:n,metadataItemEntityID:i,subtitlesStreams:s,isStreamDeleteInProgress:r,canShowDeleteSubtitlesAction:a,canShowMoreSubtitlesAction:o,canShowUploadSubtitlesAction:l,onMenuClose:c,onStreamSelect:d,onStreamDelete:u}=this.props,{isSubtitlesModalOpen:p,isSubtitlesUploadModalOpen:m}=this.state,h=s.some((e=>!!e.key));return y.createElement(y.Fragment,null,y.createElement(mo.Z,{target:e,isOpen:t,size:vc.ln,onMenuClose:c},s.map((e=>y.createElement(K1,{key:e.id,serverEntityID:n,subtitlesStream:e,isStreamDeleteInProgress:r,hasExternalSubtitlesStreams:h,canShowDeleteSubtitlesAction:a,onMenuClose:c,onStreamSelect:d,onStreamDelete:u}))),o?y.createElement(ho.Z,{onPress:this.onMoreSubtitlesPress},(0,De.Z)("Search...")):null,l?y.createElement(ho.Z,{onPress:this.onUploadSubtitlesPress},(0,De.Z)("Upload...")):null),y.createElement(T1,{metadataItemEntityID:i,isOpen:p,onModalClose:this.onSubtitlesModalClose}),y.createElement(Y1,{metadataItemEntityID:i,isOpen:m,onModalClose:this.onSubtitlesUploadModalClose}))}}const $1=q1,J1="PrePlayDetailsStreamsGroup-loadingMessage-1a0yXO";class X1 extends y.Component{constructor(e,t){super(e,t),this.onAudioStreamMenuButtonPress=e=>{this.setState({isAudioStreamMenuOpen:!this.state.isAudioStreamMenuOpen})},this.onAudioStreamMenuClose=()=>{this.setState({isAudioStreamMenuOpen:!1})},this.onSubtitlesStreamMenuButtonPress=e=>{this.setState({isSubtitlesStreamMenuOpen:!this.state.isSubtitlesStreamMenuOpen})},this.onSubtitlesStreamMenuClose=()=>{this.setState({isSubtitlesStreamMenuOpen:!1})},this.state={isAudioStreamMenuOpen:!1,isSubtitlesStreamMenuOpen:!1},this._audioStreamMenuButtonID=(0,wf.Z)(),this._subtitlesStreamMenuButtonID=(0,wf.Z)()}render(){const{serverEntityID:e,metadataItemEntityID:t,mediaItem:n,isStreamDeleteInProgress:i,canShowDeleteSubtitlesAction:s,canShowMoreSubtitlesAction:r,canShowUploadSubtitlesAction:a,onAudioStreamSelect:o,onSubtitlesStreamSelect:l,onSubtitlesStreamDelete:c}=this.props,{isAudioStreamMenuOpen:d,isSubtitlesStreamMenuOpen:u}=this.state;if(!n)return y.createElement(OL,null,y.createElement(kL,{label:(0,De.Z)("Video")},y.createElement("span",{className:J1},(0,De.Z)("Loading..."))),y.createElement(kL,{label:(0,De.Z)("Audio")},y.createElement("span",{className:J1},(0,De.Z)("Loading..."))),y.createElement(kL,{label:(0,De.Z)("Subtitles")},y.createElement("span",{className:J1},(0,De.Z)("Loading..."))));const p=XP.Z.get("audio").id,m=(0,x0.Z)(n,{streamType:p}),h=(0,N0.Z)(n),g=XP.Z.get("subtitles").id,v=(0,x0.Z)(n,{streamType:g}),f=(0,A0.Z)(n),I=r||v.length>1,b=y.createElement(V0,{serverEntityID:e,type:"audio",stream:h}),M=y.createElement(V0,{serverEntityID:e,type:"subtitles",stream:f});return y.createElement(OL,null,y.createElement(kL,{label:(0,De.Z)("Video")},y.createElement(V0,{serverEntityID:e,type:"video",mediaItem:n})),y.createElement(kL,{label:(0,De.Z)("Audio")},m.length>1?y.createElement(G$.Z,{id:this._audioStreamMenuButtonID,direction:d?yc.UP:yc.WV,onPress:this.onAudioStreamMenuButtonPress},b):b),y.createElement(kL,{label:(0,De.Z)("Subtitles")},I?y.createElement(G$.Z,{id:this._subtitlesStreamMenuButtonID,direction:u?yc.UP:yc.WV,onPress:this.onSubtitlesStreamMenuButtonPress},M):M),y.createElement(H0,{target:this._audioStreamMenuButtonID,isOpen:d,serverEntityID:e,audioStreams:m,onMenuClose:this.onAudioStreamMenuClose,onStreamSelect:o}),y.createElement($1,{target:this._subtitlesStreamMenuButtonID,isOpen:u,serverEntityID:e,metadataItemEntityID:t,subtitlesStreams:v,isStreamDeleteInProgress:i,canShowDeleteSubtitlesAction:s,canShowMoreSubtitlesAction:r,canShowUploadSubtitlesAction:a,onMenuClose:this.onSubtitlesStreamMenuClose,onStreamSelect:l,onStreamDelete:c}))}}const e4=X1;var t4=Object.prototype.hasOwnProperty,n4=Object.getOwnPropertySymbols,i4=Object.prototype.propertyIsEnumerable,s4=Object.assign;const r4={dispatchMakePrePlayVideoDecision:DK,dispatchDeleteMetadataItemStream:Io.tI,dispatchSelectMetadataItemStream:Io.Bs};class a4 extends y.Component{constructor(){super(...arguments),this.onAudioStreamSelect=e=>{this.props.dispatchSelectMetadataItemStream({metadataItemEntityID:this.props.metadataItemEntityID,streamTypeString:"audio",streamID:e,allParts:!0,metricsPage:this.props.metricsPage})},this.onSubtitlesStreamSelect=e=>{this.props.dispatchSelectMetadataItemStream({metadataItemEntityID:this.props.metadataItemEntityID,streamTypeString:"subtitles",streamID:e,allParts:!0,metricsPage:this.props.metricsPage})},this.onSubtitlesStreamDelete=e=>{this.props.dispatchDeleteMetadataItemStream({metadataItemEntityID:this.props.metadataItemEntityID,streamKey:e,metricsPage:this.props.metricsPage})}}componentDidMount(){this.props.dispatchMakePrePlayVideoDecision()}componentDidUpdate(e){e.mediaItems!==this.props.mediaItems&&e.dispatchMakePrePlayVideoDecision()}render(){const e=this.props,{metricsPage:t,dispatchMakePrePlayVideoDecision:n,dispatchSelectMetadataItemStream:i}=e,s=((e,t)=>{var n={};for(var i in e)t4.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&n4)for(var i of n4(e))t.indexOf(i)<0&&i4.call(e,i)&&(n[i]=e[i]);return n})(e,["metricsPage","dispatchMakePrePlayVideoDecision","dispatchSelectMetadataItemStream"]);return y.createElement(e4,s4(s4({},s),{onAudioStreamSelect:this.onAudioStreamSelect,onSubtitlesStreamSelect:this.onSubtitlesStreamSelect,onSubtitlesStreamDelete:this.onSubtitlesStreamDelete}))}}const o4=(0,YM.Z)((function(){return(0,de.P1)((e=>e.ui.prePlayPage.decisionMediaItem),Kh.Z,(0,_C.Z)(),(0,de.P1)((0,HM.Z)(),(0,_C.Z)(),((e,t)=>T0(e,t))),(0,de.P1)((0,HM.Z)(),(0,_C.Z)(),((e,t)=>Z0(e,t))),((e,t,n,i,s)=>({mediaItem:e,mediaItems:n.Media,isStreamDeleteInProgress:n.isStreamDeleteInProgress,canShowDeleteSubtitlesAction:t.isFullOwnedServer,canShowMoreSubtitlesAction:i,canShowUploadSubtitlesAction:s})))}),r4)(a4);function l4({className:e,separator:t}){return y.createElement("span",{className:e},t)}l4.defaultProps={className:"PrePlayDashSeparator-separator-2ajXZh",separator:"·"};const c4=l4;var d4=Object.assign;function u4(e){return y.createElement($h.Z,d4({},e))}u4.defaultProps={className:"PrePlayStatusButton-statusButton-1Yti-- Button-default-3Y9N_s",size:vc.HC};const p4=u4,m4="PrePlayRecordingStatusButton-partialButton-2IVsZi PrePlayStatusButton-statusButton-1Yti-- Button-default-3Y9N_s",h4=function(e){const{mediaGrabError:t,mediaGrabPartialRecordingReason:n,onPress:i}=e;return t?y.createElement(p4,{className:"PrePlayRecordingStatusButton-failedButton-3yH-6M PrePlayStatusButton-statusButton-1Yti-- Button-default-3Y9N_s",title:t,onPress:i},(0,De.Z)("Failed Recording")):n?y.createElement(th.Z,{tooltip:n,"aria-label":n,component:p4,className:m4,onPress:i},(0,De.Z)("Partial Recording")):y.createElement(p4,{className:m4,onPress:i},(0,De.Z)("Partial Recording"))};function g4({className:e,children:t}){return y.createElement("span",{className:e},t)}g4.defaultProps={className:"PrePlayTertiaryTitleSpacer-tertiaryTitleSpacer-3BhSOF"};const y4=g4;function v4({className:e,onPress:t}){return y.createElement(p4,{className:e,onPress:t},(0,De.Z)("Unavailable"))}v4.defaultProps={className:"PrePlayUnavailableButton-unavailableButton-2SdcZQ PrePlayStatusButton-statusButton-1Yti-- Button-default-3Y9N_s"};const f4=v4;var I4=Object.assign;const b4=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),(0,de.P1)((0,_C.Z)(),((e={})=>{const t={isPartialMediaGrab:!1,mediaGrabError:null},n=e.Media;if(!n||!n.length)return t;for(let e=0;e<n.length;e++){const i=n[e],{mediaGrabPartialRecording:s,mediaGrabError:r,mediaGrabPartialRecordingReason:a}=i;s&&(t.isPartialMediaGrab=!0),r&&(t.mediaGrabError=i.mediaGrabError),a&&(t.mediaGrabPartialRecordingReason=a)}return t})),(0,de.P1)((e=>e.ui.prePlayPage),(0,_C.Z)(),((e,t={})=>{if(e.isFileUnavailable)return!0;const n=t.Media;if(!n||!n.length)return!1;for(let e=0,t=n.length;e<t;e++){const t=n[e].Part;if(t&&t.length)for(let e=0,n=t.length;e<n;e++){const n=t[e];if(!1===n.exists||!1===n.accessible)return!0}}return!1})),((e={},t,n)=>I4({duration:e.duration,contentRating:e.contentRating,saved:e.saved,viewCount:e.viewCount,viewOffset:e.viewOffset,type:e.type,subtype:e.subtype,isFileUnavailable:n},t)))}),(function(e,t){return{onGetInfoPress(n){e((0,Ka.getMetadataItemInfo)({metadataItemEntityID:t.metadataItemEntityID}))}}}))((function(e){const{duration:t,saved:n,contentRating:i,viewCount:s,viewOffset:r,isFileUnavailable:a,isPartialMediaGrab:o,mediaGrabError:l,mediaGrabPartialRecordingReason:c,onGetInfoPress:d}=e,u=!s&&!r,p=!!r&&r<t,m=!!t||u||p,h=u&&(null==n||null!=n&&n);return y.createElement(BJ,null,m?y.createElement(y4,null,y.createElement(y_,{duration:t}),u||p?y.createElement(y.Fragment,null,t&&(h||p)?y.createElement(c4,null):null,h?(0,De.Z)("Unplayed"):null,p?y.createElement(h_,{duration:t,viewOffset:r}):null):null):null,y.createElement(E0,{contentRating:i}),a?y.createElement(f4,{onPress:d}):null,!a&&(o||l||c)?y.createElement(h4,{mediaGrabError:l,mediaGrabPartialRecordingReason:c,onPress:d}):null)})),M4=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({originallyAvailableAt:e.originallyAvailableAt})))}))((function({originallyAvailableAt:e}){return y.createElement(GJ,null,e?(0,De.Z)("{monthName} {day}, {year}",{monthName:Di((0,Gi.Z)((0,ZP.Z)(e))),day:(0,gi.Z)(e,"d"),year:(0,gi.Z)(e,"yyyy")}):null)}));function S4(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,type:s,attributionLogo:r,summary:a,showStreams:o}=e;return y.createElement(y.Fragment,null,y.createElement(H$,null,y.createElement(_J,null,y.createElement(BJ,null,y.createElement(iP,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i})),y.createElement(GJ,null,y.createElement(w0,{attributionLogo:r}))),y.createElement(KJ,null,y.createElement(BJ,null,y.createElement(sP.Z,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i})),y.createElement(YJ,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i})),y.createElement($J,null,y.createElement(b4,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i}),y.createElement(M4,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i}))),y.createElement(m$,null),y.createElement(H$,null,y.createElement(nX,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,type:s}),o?y.createElement(o4,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i}):null,y.createElement(X$,null,a)))}S4.defaultProps={showStreams:!0};const E4=S4,D4=function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,summary:s}=e;return y.createElement(y.Fragment,null,y.createElement(H$,null,y.createElement(_J,null,y.createElement(BJ,null,y.createElement(iP,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i}))),y.createElement(KJ,null,y.createElement(BJ,null,y.createElement(sP.Z,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i})),y.createElement(YJ,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i})),y.createElement($J,null,y.createElement(b4,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i}),y.createElement(M4,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i}))),y.createElement(m$,null),y.createElement(H$,null,y.createElement(X$,{dangerouslySetInnerHTML:{__html:s}})))};function C4(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-watchlist-badge-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M73 88.729C73 72.31 86.37 59 102.918 59h356.164C475.606 59 489 72.025 489 88.729v427.508c0 16.419-10.6 21.534-23.456 11.598L304.456 403.32c-12.954-10.014-34.057-9.937-46.912 0L96.456 527.835C83.502 537.849 73 532.94 73 516.237V88.729z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}C4.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const P4=C4,w4=function(e){const{watchlistedAt:t}=e;return t?y.createElement(zw.Z,{className:"PrePlayInWatchlist-badge-18d0mZ Badge-badge-29PpMR"},y.createElement(P4,{className:"PrePlayInWatchlist-icon-2zM09e"})," ",(0,De.Z)("In your Watchlist")):null};function T4(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,title:s,year:r,summary:a,watchlistedAt:o,attributionLogo:l,showGenres:c,showStreams:d}=e;return y.createElement(y.Fragment,null,y.createElement(H$,null,y.createElement(_J,null,y.createElement(BJ,null,s),y.createElement(GJ,null,y.createElement(w0,{attributionLogo:l}),y.createElement(w4,{watchlistedAt:o}))),y.createElement(KJ,null,y.createElement(BJ,null,r),y.createElement(YJ,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i})),y.createElement($J,null,y.createElement(b4,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i}),c?y.createElement(C0,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i}):null)),y.createElement(m$,null),y.createElement(H$,null,y.createElement(nX,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i}),d?y.createElement(o4,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i}):null,y.createElement(X$,null,a)))}T4.defaultProps={showGenres:!0,showStreams:!0};const Z4=T4,N4=function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,extrasMetadataListEntityID:s,metadataKey:r,attributionLogo:a,title:o,type:l,year:c,summary:d,thumb:u,pageWidth:p,columnAdjustment:m,watchlistedAt:h,showGenres:g,showStreams:v}=e;return y.createElement(y.Fragment,null,y.createElement(R$,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,metadataKey:r,type:l,thumb:u,pageWidth:p,columnAdjustment:m},y.createElement(Z4,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,extrasMetadataListEntityID:s,attributionLogo:a,title:o,year:c,summary:d,watchlistedAt:h,showGenres:g,showStreams:v})),y.createElement(Q$,null,y.createElement(H$,null,y.createElement(DJ,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i}),s?y.createElement(s0,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,metadataListEntityID:s,title:(0,De.Z)("Extras")}):null,y.createElement(iX,{serverEntityID:t,providerEntityID:n}),y.createElement(UJ,{serverEntityID:t,providerEntityID:n}))))};class A4 extends y.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataListEntityID:i,title:s,summary:r,art:a,listType:o,listStyle:l,pageHeight:c,scrollTop:d}=this.props,{isContentMeasured:u,contentWidth:p,contentHeight:m}=this.state,h=!(!u||!i);return y.createElement(OC.Z,{ignorePosition:!0,onMeasure:this.onContentMeasure},y.createElement(H$,null,y.createElement(_J,null,y.createElement(BJ,null,s),y.createElement(YJ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}))),y.createElement(m$,null),r?y.createElement(H$,null,y.createElement(X$,null,r)):null,y.createElement(Q$,null,h?y.createElement(kG.Z,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,listType:o,listStyle:l,component:e0,initialSize:1e3,showArtwork:!!a,viewportWidth:p,viewportHeight:c,contentHeight:m,scrollTop:d}):null))}}const x4=A4;function L4(e,t){switch(e){case $a.pX:return 1===t?(0,De.Z)("1 Video"):(0,De.Z)("{count} Videos",{count:t});case $a.j0:return 1===t?(0,De.Z)("1 Track"):(0,De.Z)("{count} Tracks",{count:t});default:return 1===t?(0,De.Z)("1 Item"):(0,De.Z)("{count} Items",{count:t})}}const O4=parseInt(ku.Z.playQueueItemHeight,10),j4=(0,sX.Z)(O4);function k4(){return(0,de.P1)(((e,{playlistItemEntityID:t})=>t),HW,((e,t)=>t[e]))}function R4(){return(0,de.P1)(k4(),EC.Z,(({metadataItem:e},t)=>t[e]))}var z4=n(34891),U4=n(82261);var V4=n(18376);const B4=parseInt(ku.Z.playlistBadgeSize,10);function F4(e){const{className:t,textClassName:n,serverEntityID:i,attribution:s,avatar:r,name:a,hasOwner:o}=e;return s?y.createElement("div",{className:t},y.createElement(gs,{className:"SourceBadge-attribution-3Iaaa0",attribution:s})):o?y.createElement("div",{className:t},y.createElement("span",{className:n},a),y.createElement(V4.Z,{className:"SourceBadge-avatar-2DPvSx AvatarImg-avatar-3gp48Z",serverEntityID:i,url:r,width:B4,height:B4})):null}F4.defaultProps={className:"SourceBadge-container-2qG-GJ"};const H4=F4,_4=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),(0,de.P1)(U4.Z,z4.Z,(0,de.P1)((0,_C.Z)(),tP.Z,((e={},t)=>e.source?t.ownerId:null)),((e,t,n)=>{const i=e.find((e=>{const i=t[e];return i&&i.id===n}));return i&&t[i]})),((e={},t)=>({attribution:e.attribution,hasOwner:!!t,avatar:t&&t.thumb,name:t&&t.title})))}))(H4);function Q4(e){const{className:t,indexContainerClassName:n,titlesContainerClassName:i,sourceTextClassName:s,durationContainerClassName:r,attributionContainerClassName:a,serverEntityID:o,providerEntityID:l,metadataItemEntityID:c,cellIndex:d,type:u,subtype:p,title:m,duration:h,context:g,imageWidth:v,imageHeight:f,imageUrl:I,isPlaying:b,isPlayerPaused:M,hasOfflineFile:S,hasOwnSubscription:E,showAvailableOffline:D,source:C,ratingKey:P,onPlayPress:w}=e,T=eQ(u,g,{providerEntityID:l,subtype:p});return y.createElement("div",{className:t},y.createElement("div",{className:n},b?null:y.createElement(pG,{className:"PlaylistItemMetadata-transientTitleLeft-2fP-D6 PlaylistItemMetadata-transientTitle-1aog4C",index:d+1}),b?null:y.createElement(dP.Z,{className:"PlaylistItemMetadata-playButton-zaez9Y PlayButton-playButton-2dFmuo PlaylistItemMetadata-button-3RJWpM",title:m,onPress:w}),b?y.createElement(mv,{className:"PlaylistItemMetadata-equalizer-1pAcHU EqualizerIcon-equalizer-u2_y9X",isPaused:M}):null),y.createElement("div",{className:"PlaylistItemMetadata-cardContainer-2v91Lj"},y.createElement(WC.Z,{key:c,className:"PlaylistItemMetadata-card-FOgMoU QuickSearchMetadataPosterCard-card-oRXsxj MetadataPosterButtonCard-card-3uptBn",serverEntityID:o,providerEntityID:l,component:KC.Z,width:v,height:f,url:I})),y.createElement("div",{className:i,"data-qa-id":"playlistTitleContainer"},T.map(((e,t)=>y.createElement(RQ,{key:t,serverEntityID:o,providerEntityID:l,metadataItemEntityID:c,component:e,isSecondary:t>0})))),D?y.createElement("div",{className:a},y.createElement(Kq.Z,{className:"PlaylistItemMetadata-downloadIcon-Ve8P-F DownloadIcon-downloadIcon-14Rs3Q PlexIcon-plexIcon-1hNiE2",size:16,arrowSize:16,lineWidth:1.5,source:C,ratingKey:P,hasOfflineFile:S,hasOwnSubscription:E})):null,D?y.createElement(t$.Z,{metadataItemEntityID:c,providerEntityID:l}):null,y.createElement(_4,{className:a,textClassName:s,serverEntityID:o,metadataItemEntityID:c}),h?y.createElement("div",{className:r},y.createElement(zG,{className:"PlaylistItemMetadata-transientTitleRight-YqkIA8 PlaylistItemMetadata-transientTitle-1aog4C",duration:h})):null)}Q4.defaultProps={className:"PlaylistItemMetadata-container-1f8VgC",indexContainerClassName:"PlaylistItemMetadata-indexContainer-1vXczr",titlesContainerClassName:"PlaylistItemMetadata-titlesContainer-1hRklJ",durationContainerClassName:"PlaylistItemMetadata-durationContainer-1nYSjh",attributionContainerClassName:"PlaylistItemMetadata-attributionContainer-1lzcjG SourceBadge-container-2qG-GJ"};const G4=Q4;var Y4=Object.assign;const W4=(0,YM.Z)((function(){return(0,de.P1)((0,_C.Z)(),(0,HK.Z)(),(0,RG.Z)(),(e=>e.ui.audioVideoPlayer.isPaused),((e={},t,n,i)=>{const s=YC.zg,r=(0,qC.n3)(e.type,e.subtype,s)===qC.oz?64:36,a=(0,cG.Z)(r,null,e.type,e.subtype,e,s),o=!(!e.ratingKey||!t)&&J.Z.allowSyncDownload;return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,type:e.type,subtype:e.subtype,metadataKey:e.key,duration:e.duration,ratingKey:e.ratingKey,context:s,imageWidth:a.width,imageHeight:a.height,imageUrl:a.url,isPlaying:n,isPlayerPaused:i,source:t,title:e.title,hasOfflineFile:(0,Yq.Z)(e),hasOwnSubscription:(0,Wq.Z)(e),showAvailableOffline:o}}))}),(function(e,t){const n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e((0,it.wA)(Y4(Y4({},n),{playlistMetadataItemEntityID:t.metadataListEntityID})))}}}))(G4);class K4 extends y.Component{constructor(e,t){super(e,t),this.onActionsMenuOpenChange=e=>{this.setState({isActionsMenuOpen:e})},this.state={isActionsMenuOpen:!1}}render(){const{serverEntityID:e,itemServerEntityID:t,providerEntityID:n,itemProviderEntityID:i,metadataItemEntityID:s,metadataListEntityID:r,metadataKey:a,listType:o,title:l,isSmart:c,isReadOnly:d,isSelected:u,isEmbeddedServer:p,hasActiveSelection:m,isOtherItemSelected:h,isModifierKeyPressed:g,cellIndex:v,isDragging:f,connectDragSource:I,onRemovePress:b,onSelectPress:M,onDeselectPress:S}=this.props,E=!(c||d||p),D=E&&(g||h),C=m?"-1":"0";return y.createElement("div",{className:we()(v%2?"PlaylistItemRow-alternateContainer-PgN-XN PlaylistItemRow-container-3HxFv1":"PlaylistItemRow-container-3HxFv1",m&&"PlaylistItemRow-hasActiveSelection-38RLJw",D&&"PlaylistItemRow-isForcingSelection-3xkQQu",u&&"PlaylistItemRow-isSelected-3NKyPz",f&&"PlaylistItemRow-isItemDragging-1shkqZ")},E?y.createElement(AM.Z,{className:"PlaylistItemRow-underlay-2d_aCx","aria-label":u?(0,De.Z)("Deselect {title}",{title:l}):(0,De.Z)("Select {title}",{title:l}),tabIndex:m?"0":"-1",onPress:u?S:M}):null,y.createElement("div",{className:"PlaylistItemRow-overlay-2NhQb-","data-qa-id":"playlistItem"},E?I(y.createElement("div",{className:"PlaylistItemRow-moveControl-2V4bCc","data-qa-id":"playlistReorderItem"},y.createElement(Ox,{className:"PlaylistItemRow-grabIcon-3bI_5P"}))):null,y.createElement(W4,{className:"PlaylistItemRow-metadataContainer-3PEE5a PlaylistItemMetadata-container-1f8VgC",sourceTextClassName:"PlaylistItemRow-sourceText-3BTWjv",durationContainerClassName:"PlaylistItemRow-metadataDurationContainer-1216RE PlaylistItemMetadata-durationContainer-1nYSjh",attributionContainerClassName:"PlaylistItemRow-attributionContainer-1tnPZQ PlaylistItemMetadata-attributionContainer-1lzcjG SourceBadge-container-2qG-GJ",serverEntityID:e,itemServerEntityID:t,providerEntityID:n,itemProviderEntityID:i,metadataItemEntityID:s,metadataListEntityID:r,metadataKey:a,listType:o,cellIndex:v}),y.createElement("div",{className:"PlaylistItemRow-otherControls-15EPTg"},E?y.createElement(xj.Z,{className:"PlaylistItemRow-selectButton-10onwm SelectButton-selectButton-Yy19xn PlaylistItemRow-button-FNfiLy",title:l,isSelected:u,onPress:u?S:M}):null,y.createElement(uG.Z,{"data-qa-id":"metadataRowMoreButton",className:"PlaylistItemRow-moreButton-uN_crn IconButton-button-2smHOM",tabIndex:C,serverEntityID:e,itemServerEntityID:t,providerEntityID:n,itemProviderEntityID:i,metadataItemEntityID:s,containerKey:a,listType:o,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:this.state.isActionsMenuOpen,onMenuOpenChange:this.onActionsMenuOpenChange}),E?y.createElement(GC.Z,{className:"PlaylistItemRow-removeButton-Y9iy8D IconButton-button-2smHOM","data-qa-id":"playlistRemoveButton",iconComponent:cc.Z,title:(0,De.Z)("Remove"),kind:fo.T,onPress:b}):null)))}}K4.defaultProps={isDragging:!1,connectDragSource:e=>e};const q4=K4,$4=(0,f.$j)((function(e,t){return(0,de.P1)(((e,{playlistItemEntityID:t})=>t),k4(),R4(),(0,fN.Z)(),wj,dj.Z,((e,{playlistItemID:t},n,i,s,r)=>({itemServerEntityID:n.serverEntityID,itemProviderEntityID:n.providerEntityID,metadataItemEntityID:n.entityID,metadataKey:n.key,title:n.title,selectionID:e,selectionType:n.type,activeSelectionType:r.activeSelectionType,isSelected:Nj(s,t),isEmbeddedServer:i})))}),(function(e,t){const n={playlistItemEntityID:t.playlistItemEntityID};return{onSelectItem(t){e(qW(t))},onDeselectItem(t){e($W(t))},onRemovePress(){e(XW(n))}}}))((0,lG.Z)(q4));var J4=Object.assign;class X4 extends y.Component{shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{item:e,itemType:t,currentOffset:n}=this.props;if(!n||t!==Dx)return null;const i=jV(n,e.viewportWidth);return y.createElement(Mx,null,y.createElement("div",{className:"PlaylistItemDragPreview-dragPreview-3_VVQH",style:i},y.createElement($4,J4({isDragging:!0},e))))}}const e2=(0,gx.rE)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(X4);var t2=Object.assign;const n2={beginDrag(e){const{providerEntityID:t,serverEntityID:n,metadataListEntityID:i,playlistItemEntityID:s,cellIndex:r,isSmart:a,isReadOnly:o,listType:l,viewportWidth:c}=e;return{providerEntityID:t,serverEntityID:n,metadataListEntityID:i,playlistItemEntityID:s,cellIndex:r,isSmart:a,isReadOnly:o,listType:l,viewportWidth:c}},endDrag(e,t,n){e.onItemDragEnd(t.getItem(),t.didDrop())}},i2={hover(e,t,n){const i=(0,v.findDOMNode)(n).getBoundingClientRect(),s=(i.bottom-i.top)/2,r=t.getClientOffset().y-i.top,a=e.cellIndex,o=r>s?a+1:a;e.onItemDragMove(o)}};class s2 extends y.Component{componentDidMount(){this.props.connectDragPreview((0,tL.rX)())}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{moveIndex:e,cellIndex:t,isOver:n,isDragging:i,connectDropTarget:s}=this.props,r=n&&e===t,a=n&&e===t+1;return s(y.createElement("div",{className:we()("PlaylistItemDragSource-container-7dyenh",i&&Cn.fN,r&&n&&Cn.DT,a&&n&&Cn.QZ)},y.createElement($4,t2({},this.props))))}}const r2=(0,gx.GR)(Dx,i2,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((0,gx.Ej)(Dx,n2,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(s2)),a2=function(e){return y.createElement("div",{className:e.cellIndex%2?"PlaylistItemLoading-alternateContainer-uW7Ae_ PlaylistItemLoading-container-3g2IfE":"PlaylistItemLoading-container-3g2IfE"},(0,De.Z)("Loading..."))};var o2=Object.prototype.hasOwnProperty,l2=Object.getOwnPropertySymbols,c2=Object.prototype.propertyIsEnumerable,d2=Object.assign;const u2=(0,y.memo)((function(e){const{cellIndex:t,playlistItemEntityID:n,isSmart:i,isReadOnly:s}=e,r=((e,t)=>{var n={};for(var i in e)o2.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&l2)for(var i of l2(e))t.indexOf(i)<0&&c2.call(e,i)&&(n[i]=e[i]);return n})(e,["cellIndex","playlistItemEntityID","isSmart","isReadOnly"]),a=(0,HC.Z)(e),o=i||s?$4:r2;return y.createElement("div",{style:a.style},n?y.createElement(o,d2({playlistItemEntityID:n,cellIndex:t,isSmart:i,isReadOnly:s},r)):y.createElement(a2,{cellIndex:t}))}));var p2=Object.prototype.hasOwnProperty,m2=Object.getOwnPropertySymbols,h2=Object.prototype.propertyIsEnumerable,g2=Object.assign;class y2 extends y.Component{constructor(e,t){super(e,t),this.onItemDragMove=e=>{e!==this.state.moveIndex&&this.setState({moveIndex:e})},this.onItemDragEnd=(e,t)=>{const{moveIndex:n}=this.state;t&&null!=n&&(0,Rt.c9)((()=>{this.props.dispatchMovePlaylistItem(g2(g2({},e),{moveIndex:n}))})),this.setState({moveIndex:null})},this.state={moveIndex:null}}_getItemCountLabel(){return L4(this.props.playlistType,this.props.size)}render(){const e=this.props,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,metadataKey:s,playlistType:r,contentWidth:a,contentHeight:o,scrollTop:l,items:c,isSmart:d,isReadOnly:u,size:p,duration:m,onEditFilters:h}=e,g=((e,t)=>{var n={};for(var i in e)p2.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&m2)for(var i of m2(e))t.indexOf(i)<0&&h2.call(e,i)&&(n[i]=e[i]);return n})(e,["serverEntityID","providerEntityID","metadataItemEntityID","metadataKey","playlistType","contentWidth","contentHeight","scrollTop","items","isSmart","isReadOnly","size","duration","onEditFilters"]),v={serverEntityID:t,providerEntityID:n,metadataListEntityID:i,metadataKey:s,listType:r,activeSort:"titleSort",isSmart:d,isReadOnly:u,showLink:!1,showPlayIndex:!1,showPlayCellIndex:!0,showActionsDuration:!0,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd,moveIndex:this.state.moveIndex};if(0===p)return y.createElement("div",null,r===$a.pX?(0,De.Z)("This playlist has no videos."):(0,De.Z)("This playlist has no tracks."));const f=d&&!u;return y.createElement("div",null,y.createElement(iH,{className:"PlaylistItemTable-header-3ubzi- HubCellHeader-hubCellHeader-G-yd6D"},y.createElement(rH,null,this._getItemCountLabel(),f?y.createElement(AM.Z,{className:"PlaylistItemTable-editLink-pp9l9G",kind:fo._8,onPress:h},(0,De.Z)("Edit filters")):null),m?y.createElement("span",{className:"PlaylistItemTable-durationTitle-1C4v1X"},Fi(m)):null),y.createElement(g$,null),y.createElement(Aj.Z,g2({layout:j4,containerKey:s,keyPropName:"playlistItemEntityID",cellRenderer:Yj(v,u2),items:c,size:p,viewportWidth:a,viewportHeight:o,scrollTop:l,firstItemType:r,listType:r,moveIndex:this.state.moveIndex},g)),y.createElement(h$,null),d||u?null:y.createElement(e2,{serverEntityID:t,providerEntityID:n}))}}const v2=$O(y2);var f2=Object.prototype.hasOwnProperty,I2=Object.getOwnPropertySymbols,b2=Object.prototype.propertyIsEnumerable,M2=Object.assign;class S2 extends y.Component{constructor(e,t){super(e,t),this.onItemDragMove=e=>{e!==this.state.moveIndex&&this.setState({moveIndex:e})},this.onItemDragEnd=(e,t)=>{const{moveIndex:n}=this.state;t&&null!==n&&this.props.onItemDropped(M2(M2({},e),{moveIndex:n})),this.setState({moveIndex:null})},this.state={moveIndex:null}}render(){const e=this.props,{showPreview:t,createCellRenderer:n,listComponent:i,previewComponent:s}=e,r=((e,t)=>{var n={};for(var i in e)f2.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&I2)for(var i of I2(e))t.indexOf(i)<0&&b2.call(e,i)&&(n[i]=e[i]);return n})(e,["showPreview","createCellRenderer","listComponent","previewComponent"]),a={onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd};return y.createElement(i,M2({moveIndex:this.state.moveIndex,cellRenderer:n(a)},r),t?y.createElement(s,M2({},r)):null)}}const E2=$O(S2);var D2=n(76071);class C2 extends y.Component{constructor(){super(...arguments),this.onPlayPress=()=>{this.props.onPlayPress(this.props.metadataItemEntityID)},this.onEditPress=()=>{this.props.onEditPress(this.props.metadataItemEntityID)}}render(){const{serverEntityID:e,providerEntityID:t,itemServerEntityID:n,itemProviderEntityID:i,metadataItemEntityID:s,playlistItemID:r,metadataKey:a,type:o,thumb:l,title:c,width:d,height:u,hasActiveSelection:p,isSelected:m,isOtherItemSelected:h,isModifierKeyPressed:g,isDragging:v,isSmart:f,isExternal:I,canDrag:b,connectDragSource:M,onSelectPress:S,onDeselectPress:E,onRemovePress:D}=this.props,C=o===Ho.CLIP,P=!a;return M(y.createElement("div",{className:"PlaylistPhotoItem-photoContainer-2BwjMR MetadataPhotoCell-photoContainer-3x1j-I"},y.createElement("div",{className:we()("PlaylistPhotoItem-photo-3hyRJ4 MetadataPhotoCell-photo-2k-z8S MetadataPosterCardFace-face-3oaw1P MetadataPosterCardFace-poster-11uR3N",m&&"PlaylistPhotoItem-isSelected-RdDXB3 MetadataPosterCardFace-isSelected-2dld-q")},y.createElement("div",{className:"PlaylistPhotoItem-image-3IuzlE MetadataPhotoCell-image-2NZnEq"},P?null:y.createElement(WC.Z,{key:r||a,serverEntityID:n,providerEntityID:i,component:KC.Z,url:l,width:d,height:u}),y.createElement(D2.Z,{serverEntityID:e,providerEntityID:t,itemServerEntityID:n,itemProviderEntityID:i,metadataItemEntityID:s,title:c,showPlay:!0,showEdit:!I,showSelect:!f,showRemove:!f,hasActiveSelection:p,isSelected:m,isOtherItemSelected:h,isModifierKeyPressed:g,isDragging:v,canDrag:b,onPlayPress:this.onPlayPress,onEditPress:this.onEditPress,onSelectPress:S,onDeselectPress:E,onRemovePress:D}),C?y.createElement("div",{className:"PlaylistPhotoItem-badge-3S9xL8 MetadataPhotoCell-badge-28uFUQ"},y.createElement(Xp.Z,null)):null))))}}C2.defaultProps={connectDragSource:e=>e};const P2=C2;var w2=Object.prototype.hasOwnProperty,T2=Object.getOwnPropertySymbols,Z2=Object.prototype.propertyIsEnumerable,N2=Object.assign;const A2="VERTICAL";function x2(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}function L2(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}class O2 extends y.Component{componentDidMount(){this.props.connectDragPreview((0,tL.rX)())}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const e=this.props,{dragClassName:t,indexPropName:n,moveIndex:i,isDragging:s,isOver:r,connectDropTarget:a,connectDragSource:o,connectDragPreview:l,itemComponent:c}=e,d=((e,t)=>{var n={};for(var i in e)w2.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&T2)for(var i of T2(e))t.indexOf(i)<0&&Z2.call(e,i)&&(n[i]=e[i]);return n})(e,["dragClassName","indexPropName","moveIndex","isDragging","isOver","connectDropTarget","connectDragSource","connectDragPreview","itemComponent"]),u=this.props[n],p=r&&i===u,m=r&&i===u+1;return a(y.createElement("div",{className:we()(t,s&&Cn.fN,p&&r&&Cn.DT,m&&r&&Cn.QZ)},y.createElement(c,N2({connectDragSource:o,canDrag:!0,isDragging:s},d))))}}const j2=function({itemComponent:e,dragClassName:t,dragType:n,direction:i=A2,idAttribute:s,indexPropName:r}){return(0,gx.GR)(n,function({direction:e,indexPropName:t}){return{hover(n,i,s){const r=(0,v.findDOMNode)(s).getBoundingClientRect(),a=(r.right-r.left)/2,o=(r.bottom-r.top)/2,l=i.getClientOffset(),c=l.x-r.left,d=l.y-r.top,u=n[t],p=(e===A2?d>o:c>a)?u+1:u;n.onItemDragMove(p)}}}({direction:i,indexPropName:r}),L2)((0,gx.Ej)(n,function({idAttribute:e}){return{beginDrag:t=>({[e]:t[e]}),endDrag(e,t,n){e.onItemDragEnd(t.getItem(),t.didDrop())}}}({idAttribute:s}),x2)((a={itemComponent:e,indexPropName:r,dragClassName:t},e=>y.createElement(O2,N2(N2({},a),e)))));var a}({itemComponent:P2,indexPropName:"cellIndex",direction:"HORIZONTAL",idAttribute:"playlistItemEntityID",dragType:"ALBUM_ITEM",dragClassName:"PlaylistPhotoSortableItem-draggable-207j02"});var k2=Object.prototype.hasOwnProperty,R2=Object.getOwnPropertySymbols,z2=Object.prototype.propertyIsEnumerable,U2=Object.assign;const V2=parseInt(ku.Z.mosaicCellPadding,10);var B2=Object.assign;const F2=(0,YM.Z)((function(){return(0,de.P1)(((e,{playlistItemEntityID:t})=>t),k4(),R4(),wj,dj.Z,((e,{playlistItemID:t},n={},i,s)=>{const{serverEntityID:r,providerEntityID:a,entityID:o,key:l,source:c,type:d,thumb:u,title:p}=n;return{listType:$a.pV,playlistItemID:t,itemServerEntityID:r,itemProviderEntityID:a,metadataItemEntityID:o,metadataKey:l,isExternal:!!c,type:d,thumb:u,title:p,selectionID:e,selectionType:$a.pV,activeSelectionType:s.activeSelectionType,isSelected:Nj(i,t)}}))}),(function(e,t){const n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(i){e((0,it.wA)(B2(B2({},n),{playlistMetadataItemEntityID:t.playlistMetadataItemEntityID,metadataItemEntityID:i})))},onEditPress(t){e((0,Ka.editMetadataItem)(B2(B2({},n),{metadataItemEntityID:t})))},onRemovePress(){t.onRemoveItem({playlistItemEntityID:t.playlistItemEntityID})}}}))((0,lG.Z)((function(e){const{cellX:t,cellY:n,cellWidth:i,cellHeight:s,isSmart:r}=e,a=((e,t)=>{var n={};for(var i in e)k2.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&R2)for(var i of R2(e))t.indexOf(i)<0&&z2.call(e,i)&&(n[i]=e[i]);return n})(e,["cellX","cellY","cellWidth","cellHeight","isSmart"]),o=(0,HC.Z)(e),l=r?P2:j2,c=i-2*V2,d=s-2*V2;return y.createElement("div",{style:o.style},y.createElement(l,U2({width:c,height:d,isSmart:r},a)))}))),H2=(0,f.$j)(null,(function(e){return{onSelectItem(t){e(qW(t))},onDeselectItem(t){e($W(t))},onRemoveItem(t){e(XW(t))}}}))(F2),_2=100,Q2=(0,f.$j)((function(){return(0,de.P1)(((e,{playlistItemEntityID:t})=>t),HW,EC.Z,((e,t,n)=>{const i=n[t[e].metadataItem],s=Math.min(Math.max(Cj(i),.5),2),r=s>1;return{width:r?_2*s:_2,height:r?_2:_2/s,thumb:i.thumb}}))}))((function(e){const{width:t,height:n}=e;return y.createElement(ft.Z,{serverEntityID:e.serverEntityID,url:e.thumb,width:t,height:n,component:mt.Z})}));var G2=Object.assign;class Y2 extends y.Component{render(){const{item:e,currentOffset:t,serverEntityID:n}=this.props;if(!t||!e)return null;const i=G2(G2({},jV(t)),{display:"inline-block",width:"auto"});return y.createElement(Mx,null,y.createElement("div",{className:"PlaylistPhotoDragPreview-dragPreview-2OIfzH",style:i},y.createElement(Q2,{serverEntityID:n,playlistItemEntityID:e.playlistItemEntityID})))}}const W2=(0,gx.rE)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getClientOffset()}}))(Y2);var K2=Object.prototype.hasOwnProperty,q2=Object.getOwnPropertySymbols,$2=Object.prototype.propertyIsEnumerable,J2=Object.assign;class X2 extends y.Component{constructor(){super(...arguments),this.createCellRenderer=e=>{const{serverEntityID:t,providerEntityID:n,playlistMetadataItemEntityID:i,playlistRatingKey:s,isSmart:r,listType:a}=this.props;return Yj(J2({serverEntityID:t,providerEntityID:n,playlistMetadataItemEntityID:i,ratingKey:s,listType:a,isSmart:r},e),H2)}}render(){const e=this.props,{isSmart:t,onItemDropped:n}=e,i=((e,t)=>{var n={};for(var i in e)K2.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&q2)for(var i of q2(e))t.indexOf(i)<0&&$2.call(e,i)&&(n[i]=e[i]);return n})(e,["isSmart","onItemDropped"]);return y.createElement(E2,J2({showPreview:!t,listComponent:TX,previewComponent:W2,createCellRenderer:this.createCellRenderer,onItemDropped:n},i))}}const e3=X2,t3={onItemDropped:JW},n3=(0,f.$j)((function(){return(0,de.P1)(((e,{items:t})=>t),((e,{serverEntityID:t})=>t),((e,{providerEntityID:t})=>t),(0,_C.Z)(),HW,EC.Z,((e=[],t,n,i,s,r)=>{const a=e.map((e=>{const t=s[e];return Cj(r[t.metadataItem])}));return{listType:i.playlistType,aspectRatios:a,playlistMetadataItemEntityID:i.entityID,playlistRatingKey:i.ratingKey,isSmart:!!i.smart,isReadOnly:!!i.readOnly}}))}),t3)(e3),i3="PlaylistItemList-emptyMessage-1BjFqA PlaylistItemList-emptyContainer-kb95PC";var s3=Object.prototype.hasOwnProperty,r3=Object.getOwnPropertySymbols,a3=Object.prototype.propertyIsEnumerable,o3=Object.assign;const l3=function(e){const{contentHeight:t,scrollTop:n,showArtwork:i,showSpinner:s,showError:r,listType:a,isEmpty:o}=e,l=((e,t)=>{var n={};for(var i in e)s3.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&r3)for(var i of r3(e))t.indexOf(i)<0&&a3.call(e,i)&&(n[i]=e[i]);return n})(e,["contentHeight","scrollTop","showArtwork","showSpinner","showError","listType","isEmpty"]);return s?y.createElement("div",{className:"PlaylistItemList-emptyContainer-kb95PC"},y.createElement(RC.Z,null)):r?y.createElement("div",{className:i3},(0,De.Z)("Unable to load items")):o?y.createElement("div",{className:i3},a===$a.pV?(0,De.Z)("There are no items in this album"):(0,De.Z)("There are no items in this playlist")):y.createElement(M$,{showArtwork:i,contentHeight:t,scrollTop:n},a===$a.pV?y.createElement(n3,o3({},l)):y.createElement(v2,o3({},l)))};var c3=Object.prototype.hasOwnProperty,d3=Object.getOwnPropertySymbols,u3=Object.prototype.propertyIsEnumerable,p3=Object.assign;const m3={dispatchInitPlaylistItemList:QW,dispatchResetPlaylistItemList:GW,dispatchPopulatePlaylistItemRange:WW,dispatchDeselectAllPlaylistItems:eh.mD,dispatchMovePlaylistItem:JW,dispatchModifySmartPlaylist:Ka.modifySmartPlaylist};class h3 extends y.Component{constructor(){super(...arguments),this.onPageRequest=({startIndex:e,endIndex:t})=>{const n=pa.wB(this.props.providerIdentifier,pa.xF);this.props.dispatchPopulatePlaylistItemRange({pages:n?1:void 0,startIndex:e,endIndex:t})},this.onEditFilters=()=>{this.props.dispatchModifySmartPlaylist({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,metadataItemEntityID:this.props.metadataItemEntityID})}}componentDidMount(){this._populate()}componentDidUpdate(e){this.props.metadataKey!==e.metadataKey&&this._populate()}componentWillUnmount(){this.props.dispatchDeselectAllPlaylistItems(),this.props.dispatchResetPlaylistItemList()}_populate(){const{serverEntityID:e,providerEntityID:t,metadataKey:n,providerIdentifier:i,dispatchInitPlaylistItemList:s,dispatchPopulatePlaylistItemRange:r}=this.props;s({serverEntityID:e,providerEntityID:t,metadataKey:n}),r({pages:pa.wB(i,pa.xF)?1:void 0,startIndex:0,endIndex:39})}render(){const e=this.props,{dispatchInitPlaylistItemList:t,dispatchPopulatePlaylistItemRange:n,dispatchDeselectAllPlaylistItems:i,dispatchModifySmartPlaylist:s}=e,r=((e,t)=>{var n={};for(var i in e)c3.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&d3)for(var i of d3(e))t.indexOf(i)<0&&u3.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchInitPlaylistItemList","dispatchPopulatePlaylistItemRange","dispatchDeselectAllPlaylistItems","dispatchModifySmartPlaylist"]);return y.createElement(l3,p3(p3({},r),{onEditFilters:this.onEditFilters,onPageRequest:this.onPageRequest}))}}const g3=(0,f.$j)((function(e,t){return(0,de.P1)((e=>e.ui.playlistPage),(0,_C.Z)(),eP.Z,((e,t,n)=>{const{serverEntityID:i,providerEntityID:s,metadataKey:r,playlistItemList:a={},isPlaylistItemListPending:o,isPlaylistItemListPopulated:l,playlistItemListError:c}=e,{ratingKey:d,playlistType:u,smart:p,readOnly:m,duration:h}=t,{metadataItems:g=[],populatedRange:y={},totalSize:v}=a;return{serverEntityID:i,providerEntityID:s,metadataKey:r,ratingKey:d,providerIdentifier:n.identifier,listType:u,keyPropName:"playlistItemEntityID",isSmart:!!p,isReadOnly:!!m,populatedRange:y,items:g,size:v,itemsOffset:y.start,duration:h,isEmpty:l&&!v,showArtwork:!1,showSpinner:o&&!l,showError:c}}))}),m3)(h3);class y3 extends y.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataKey:i,title:s,type:r,playlistType:a,summary:o,composite:l,thumb:c,pageWidth:d,pageHeight:u,scrollTop:p,columnAdjustment:m}=this.props,{contentWidth:h,contentHeight:g,isContentMeasured:v}=this.state;return y.createElement(OC.Z,{ignorePosition:!0,onMeasure:this.onContentMeasure},y.createElement(R$,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,showPoster:a!==$a.pV,metadataKey:i,type:r,thumb:c||l,pageWidth:d,columnAdjustment:m},y.createElement(H$,null,y.createElement(_J,null,s)),y.createElement(m$,null),o?y.createElement(H$,null,y.createElement(X$,null,o)):null),y.createElement(Q$,null,v?y.createElement(g3,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,playlistType:a,contentHeight:g,viewportWidth:h,viewportHeight:u,scrollTop:p}):null))}}const v3=y3;class f3 extends y.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataListEntityID:i,metadataKey:s,attributionLogo:r,title:a,type:o,summary:l,thumb:c,listType:d,listStyle:u,isListReady:p,pageWidth:m,pageHeight:h,scrollTop:g,columnAdjustment:v}=this.props,{isContentMeasured:f,contentWidth:I,contentHeight:b}=this.state,M=!(!f||!i);return y.createElement(OC.Z,{ignorePosition:!0,onMeasure:this.onContentMeasure},y.createElement(R$,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataKey:s,type:o,thumb:c,pageWidth:m,columnAdjustment:v},y.createElement(H$,null,y.createElement(_J,null,y.createElement(BJ,null,y.createElement(PH,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n})),y.createElement(GJ,null,y.createElement(w0,{attributionLogo:r}))),y.createElement(KJ,null,y.createElement(BJ,null,a),y.createElement(YJ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}))),y.createElement(m$,null),l?y.createElement(H$,null,y.createElement(X$,null,l)):null),y.createElement(Q$,null,M?y.createElement(kG.Z,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,listType:d,listStyle:u,component:e0,initialSize:20,viewportWidth:I,viewportHeight:h,contentHeight:b,scrollTop:g}):null,p?y.createElement(H$,null,y.createElement(DJ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}),y.createElement(iX,{serverEntityID:e,providerEntityID:t}),y.createElement(UJ,{serverEntityID:e,providerEntityID:t})):null))}}const I3=f3,b3=(0,f.$j)((function(){return(0,de.P1)(Wh.Z,(0,_C.Z)(),((e,t={})=>({type:t.type,leafCount:t.leafCount,contentRating:t.contentRating,isSubscribed:null!=t.subscriptionID||null!=t.grandparentSubscriptionID,subscriptionType:t.subscriptionType,grandparentSubscriptionType:t.grandparentSubscriptionType,showRecord:!!e.features.subscribe})))}))((function({serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,type:i,leafCount:s,contentRating:r,isSubscribed:a,subscriptionType:o,grandparentSubscriptionType:l,showRecord:c,record:d}){return y.createElement(BJ,null,y.createElement(r_,{className:"EPGPrePlayEpisodeCountLeftTitle-episodeCount-2gY1XR EPGPrePlayStatusLeftTitle-duration-353bQX",leafCount:s}),y.createElement(E0,{contentRating:r}),c?y.createElement(S0,{serverEntityID:e,metadataItemEntityID:n,providerEntityID:t,type:i,isSubscribed:a,subscriptionType:o,grandparentSubscriptionType:l,isSubscribeModalOpen:d}):null)}));class M3 extends y.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataListEntityID:i,metadataKey:s,title:r,type:a,year:o,summary:l,thumb:c,listType:d,listStyle:u,isListReady:p,pageWidth:m,pageHeight:h,scrollTop:g,columnAdjustment:v,record:f}=this.props,{isContentMeasured:I,contentWidth:b,contentHeight:M}=this.state,S=!(!I||!i);return y.createElement(OC.Z,{ignorePosition:!0,onMeasure:this.onContentMeasure},y.createElement(R$,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataKey:s,type:a,thumb:c,pageWidth:m,columnAdjustment:v},y.createElement(H$,null,y.createElement(_J,null,y.createElement(BJ,null,r)),y.createElement(KJ,null,y.createElement(BJ,null,o)),y.createElement($J,null,y.createElement(b3,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,record:f}),y.createElement(C0,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}))),y.createElement(m$,null),y.createElement(H$,null,y.createElement(nX,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}),y.createElement(X$,null,l))),y.createElement(Q$,null,S?y.createElement(kG.Z,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,listType:d,listStyle:u,component:e0,initialSize:20,viewportWidth:b,viewportHeight:h,contentHeight:M,scrollTop:g}):null,p?y.createElement(H$,null,y.createElement(DJ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}),y.createElement(UJ,{serverEntityID:e,providerEntityID:t})):null))}}const S3=M3;function E3(e){const{className:t,kind:n,size:i,saved:s,providerIdentifier:r,subtype:a,onPress:o}=e;return y.createElement($h.Z,{className:t,kind:n,size:i,onPress:o},s?y.createElement(fa.Z,{className:"PrePlayToggleMetadataItemSavedButton-iconSaved-J5sy6X PrePlayToggleMetadataItemSavedButton-icon-3nCi5W"}):null,function(e,t,n){return n===zo.PODCAST?e?(0,De.Z)("In My Podcasts"):(0,De.Z)("Add to My Podcasts"):n===zo.WEBSHOW?e?(0,De.Z)("In My Shows"):(0,De.Z)("Add to My Shows"):pa.wB(t,pa.xF)?e?(0,De.Z)("In My TIDAL"):(0,De.Z)("Add to My TIDAL"):e?(0,De.Z)("In My Shows"):(0,De.Z)("Add to My Shows")}(s,r,a))}E3.defaultProps={kind:fo.Py,size:vc.ln};const D3=E3,C3=(0,f.$j)((function(){return(0,de.P1)(eP.Z,(0,_C.Z)(),((e,t)=>({providerIdentifier:e.identifier,saved:t.saved,subtype:t.subtype})))}),(function(e,t){const n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID};return{onPress(t){e((0,Io.C_)(n))}}}))(D3),P3=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({leafCount:e.leafCount})))}))((function({leafCount:e}){return y.createElement(BJ,null,y.createElement(r_,{leafCount:e}))})),w3="PodcastShowPrePlay-addToSavedButton-39PE_8";class T3 extends y.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataListEntityID:i,metadataKey:s,title:r,type:a,subtype:o,summary:l,showAddToSaved:c,thumb:d,allEpisodes:u,listType:p,listStyle:m,isListReady:h,pageHeight:g,pageWidth:v,scrollTop:f,columnAdjustment:I,isEmbeddedServer:b}=this.props,{isContentMeasured:M,contentWidth:S,contentHeight:E}=this.state,D=!(!M||!i);let P;return D&&b?P=u?(0,De.Z)("All Downloaded Episodes"):(0,De.Z)("Recent Downloaded Episodes"):D&&(P=u?(0,De.Z)("All Episodes"):(0,De.Z)("Recent Episodes")),y.createElement(OC.Z,{className:"PodcastShowPrePlay-container-3yPsdt",ignorePosition:!0,onMeasure:this.onContentMeasure},y.createElement(R$,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataKey:s,type:a,subtype:o,thumb:d,pageWidth:v,columnAdjustment:I},y.createElement(H$,null,y.createElement(_J,null,y.createElement(BJ,null,r)),y.createElement($J,null,y.createElement(P3,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}),y.createElement(C0,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}))),y.createElement(m$,null),y.createElement(H$,null,y.createElement(X$,{dangerouslySetInnerHTML:{__html:l}}),c?y.createElement(C3,{className:w3,serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}):null)),y.createElement(Q$,null,D?y.createElement(kG.Z,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,listType:p,listStyle:m,component:e0,initialSize:20,previewSize:u?null:3,listTitle:P,titleButtonTitle:u?(0,De.Z)("See Recent Episodes"):(0,De.Z)("See All Episodes"),titleButtonRoute:C.Z.join(window.location.hash,{allEpisodes:u?void 0:1},{parseParams:!0}),viewportWidth:S,viewportHeight:g,contentHeight:E,scrollTop:f}):null,h?y.createElement(H$,null,y.createElement(UJ,{serverEntityID:e,providerEntityID:t})):null))}}const Z3=T3;class N3 extends y.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataListEntityID:i,onDeckMetadataItemEntityID:s,extrasMetadataListEntityID:r,metadataKey:a,attributionLogo:o,title:l,type:c,year:d,contentRating:u,summary:p,thumb:m,listType:h,listStyle:g,isListReady:v,pageWidth:f,pageHeight:I,scrollTop:b,columnAdjustment:M,watchlistedAt:S}=this.props,{isContentMeasured:E,contentWidth:D,contentHeight:C}=this.state,P=!(!E||!i);return y.createElement(OC.Z,{ignorePosition:!0,onMeasure:this.onContentMeasure},y.createElement(R$,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataKey:a,type:c,thumb:m,pageWidth:f,columnAdjustment:M},y.createElement(H$,null,y.createElement(_J,null,y.createElement(BJ,null,l),y.createElement(GJ,null,y.createElement(w0,{attributionLogo:o}),y.createElement(w4,{watchlistedAt:S}))),y.createElement(KJ,null,y.createElement(BJ,null,d),y.createElement(YJ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n})),y.createElement($J,null,y.createElement(BJ,null,y.createElement(y4,null,s?y.createElement("span",null,(0,De.Z)("On Deck")," ",y.createElement(tr.Z,null),y.createElement(Vw,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:s})):y.createElement(a_,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n})),y.createElement(E0,{contentRating:u})),y.createElement(C0,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}))),y.createElement(m$,null),y.createElement(H$,null,y.createElement(nX,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}),y.createElement(X$,null,p))),y.createElement(Q$,null,P?y.createElement(kG.Z,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,listType:h,listStyle:g,component:e0,initialSize:20,viewportWidth:D,viewportHeight:I,contentHeight:C,scrollTop:b}):null,v?y.createElement(H$,null,y.createElement(DJ,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}),r?y.createElement(s0,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataListEntityID:r,title:(0,De.Z)("Extras")}):null,y.createElement(iX,{serverEntityID:e,providerEntityID:t}),y.createElement(UJ,{serverEntityID:e,providerEntityID:t})):null))}}const A3=N3;class x3 extends y.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataListEntityID:i,metadataKey:s,title:r,type:a,subtype:o,summary:l,showAddToSaved:c,thumb:d,allEpisodes:u,listType:p,listStyle:m,isListReady:h,pageWidth:g,pageHeight:v,scrollTop:f,columnAdjustment:I}=this.props,{isContentMeasured:b,contentWidth:M,contentHeight:S}=this.state,E=!(!b||!i);return y.createElement(OC.Z,{ignorePosition:!0,onMeasure:this.onContentMeasure},y.createElement(R$,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataKey:s,type:a,subtype:o,thumb:d,pageWidth:g,columnAdjustment:I},y.createElement(H$,null,y.createElement(_J,null,y.createElement(BJ,null,r)),y.createElement($J,null,y.createElement(P3,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}),y.createElement(C0,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}))),y.createElement(m$,null),y.createElement(H$,null,y.createElement(X$,{dangerouslySetInnerHTML:{__html:l}}),c?y.createElement(C3,{className:w3,serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}):null)),y.createElement(Q$,null,E?y.createElement(kG.Z,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,listType:p,listStyle:m,component:e0,initialSize:20,previewSize:u?null:3,listTitle:u?(0,De.Z)("All Episodes"):(0,De.Z)("Recent Episodes"),titleButtonTitle:u?(0,De.Z)("See Recent Episodes"):(0,De.Z)("See All Episodes"),titleButtonRoute:C.Z.join(window.location.hash,{allEpisodes:u?void 0:1},{parseParams:!0}),viewportWidth:M,viewportHeight:v,contentHeight:S,scrollTop:f}):null,h?y.createElement(H$,null,y.createElement(UJ,{serverEntityID:e,providerEntityID:t})):null))}}const L3=x3;var O3=Object.prototype.hasOwnProperty,j3=Object.getOwnPropertySymbols,k3=Object.prototype.propertyIsEnumerable,R3=Object.assign;const z3={movie:N4,show:A3,season:I3,episode:function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,metadataKey:s,attributionLogo:r,type:a,summary:o,thumb:l,pageWidth:c,columnAdjustment:d}=e;return y.createElement(y.Fragment,null,y.createElement(R$,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,metadataKey:s,type:a,thumb:l,pageWidth:c,columnAdjustment:d},y.createElement(E4,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,attributionLogo:r,type:a,summary:o})),y.createElement(Q$,null,y.createElement(H$,null,y.createElement(DJ,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i}),y.createElement(iX,{serverEntityID:t,providerEntityID:n}),y.createElement(UJ,{serverEntityID:t,providerEntityID:n}))))},artist:y0,album:XJ,photoalbum:x4,clip:N4,playlist:v3,collection:f0,game:N4},U3={podcast:{show:Z3,track:function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,metadataKey:s,type:r,subtype:a,summary:o,thumb:l,pageWidth:c,columnAdjustment:d}=e;return y.createElement(y.Fragment,null,y.createElement(R$,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,metadataKey:s,type:r,subtype:a,thumb:l,pageWidth:c,columnAdjustment:d},y.createElement(D4,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,summary:o})),y.createElement(Q$,null,y.createElement(H$,null,y.createElement(UJ,{serverEntityID:t,providerEntityID:n}))))}},webshow:{show:L3,episode:function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,metadataKey:s,type:r,subtype:a,summary:o,thumb:l,pageWidth:c,columnAdjustment:d}=e;return y.createElement(y.Fragment,null,y.createElement(R$,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,metadataKey:s,type:r,subtype:a,thumb:l,pageWidth:c,columnAdjustment:d},y.createElement(D4,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,summary:o})),y.createElement(Q$,null,y.createElement(H$,null,y.createElement(UJ,{serverEntityID:t,providerEntityID:n}))))}}},V3={movie:function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,metadataKey:s,title:r,type:a,year:o,summary:l,thumb:c,pageWidth:d,columnAdjustment:u,record:p}=e;return y.createElement(y.Fragment,null,y.createElement(R$,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,metadataKey:s,type:a,thumb:c,pageWidth:d,columnAdjustment:u},y.createElement(H$,null,y.createElement(_J,null,y.createElement(BJ,null,r)),y.createElement(KJ,null,y.createElement(BJ,null,o)),y.createElement($J,null,y.createElement(D0,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,record:p}),y.createElement(C0,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i}))),y.createElement(m$,null),y.createElement(H$,null,y.createElement(nX,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i}),y.createElement(I0,{metadataItemEntityID:i},y.createElement(b0,{metadataItemEntityID:i,showFullTime:!0,showChannel:!0})),y.createElement(X$,null,l))),y.createElement(H$,null,y.createElement(Q$,null,y.createElement(H$,null,y.createElement(DJ,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i}),y.createElement(UJ,{serverEntityID:t,providerEntityID:n})))))},show:S3,episode:function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,metadataKey:s,type:r,summary:a,grandparentThumb:o,pageWidth:l,columnAdjustment:c,record:d}=e;return y.createElement(y.Fragment,null,y.createElement(R$,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,posterType:Ho.SHOW,metadataKey:s,type:r,thumb:o,pageWidth:l,columnAdjustment:c},y.createElement(H$,null,y.createElement(_J,null,y.createElement(BJ,null,y.createElement(iP,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i}))),y.createElement(KJ,null,y.createElement(BJ,null,y.createElement(sP.Z,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i}))),y.createElement($J,null,y.createElement(D0,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,record:d}),y.createElement(C0,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i}))),y.createElement(m$,null),y.createElement(H$,null,y.createElement(nX,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i}),y.createElement(I0,{metadataItemEntityID:i},y.createElement(b0,{metadataItemEntityID:i,showFullTime:!0,showChannel:!0})),y.createElement(X$,null,a))),y.createElement(H$,null,y.createElement(Q$,null,y.createElement(H$,null,y.createElement(DJ,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i}),y.createElement(UJ,{serverEntityID:t,providerEntityID:n})))))}};class B3 extends y.Component{componentDidMount(){this.props.onLibraryChange(this.props.providerIdentifier,this.props.librarySectionID),this.props.onBackgroundChange(this.props.backgroundImageUrl,!!this.props.art),this.props.onThemeMusicChange(this.props.theme),this.props.isRemotePlayer&&this.props.onMirrorDetails()}componentDidUpdate(e){const{librarySectionID:t,providerIdentifier:n,backgroundImageUrl:i,art:s,theme:r,isRemotePlayer:a,onLibraryChange:o,onBackgroundChange:l,onThemeMusicChange:c,onMirrorDetails:d}=this.props;t!==e.librarySectionID&&o(n,t),e.backgroundImageUrl!==i&&l(i,!!s),e.theme!==r&&c(r),!e.isRemotePlayer&&a&&d()}componentWillUnmount(){this.props.onLibraryChange(null,null)}render(){const e=this.props,{providerIdentifier:t,providerMetricsIdentifier:n,type:i,subtype:s,art:r,listStyle:a,onBackgroundChange:o}=e,l=((e,t)=>{var n={};for(var i in e)O3.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&j3)for(var i of j3(e))t.indexOf(i)<0&&k3.call(e,i)&&(n[i]=e[i]);return n})(e,["providerIdentifier","providerMetricsIdentifier","type","subtype","art","listStyle","onBackgroundChange"]),c=function(e,t,n){if(!e)return BK;const i=pa.wB(n,pa.Ll),s=U3[t],r=(i?V3:z3)[e];return s&&s[e]||r||FK}(i,s,t),d=i===Ho.GAME;return y.createElement(zK,{identifier:n,type:i,style:a,showArtwork:!!r},y.createElement(c,R3({type:i,subtype:s,art:r,listStyle:a,showGenres:!d,showStreams:!d},l)))}}function F3(e,t,n){if(n)switch(n){case YC.sD:switch(t){case"podcast":switch(e){case"track":return[Ek]}break;case"webshow":switch(e){case"episode":return[Ek]}}switch(e){case"track":return[Sk]}break;case et.$4:switch(e){case"track":return[Sk]}break;case YC.Ap:return[Pk]}switch(t){case"podcast":switch(e){case"show":return[bk,Sk,Dk];case"track":return[Sk,Ek]}}switch(e){case"movie":case"show":return[bk,Sk,Dk];case"season":return[bk,Sk];case"episode":case"artist":case"album":return[bk,Sk,Dk];case"track":return[bk,Sk];case"photo":case"photoalbum":return[Mk];case"clip":return[bk,Sk];case"collection":return[bk,Dk];default:return[bk]}}function H3(e,t,n,i={}){return pa.wB(i.identifier,pa.Ll)?function(e,t,n){if(n)switch(n){case YC.sD:return[Ck]}switch(e){case"show":case"episode":case"movie":return[bk]}return F3(e,t,n)}(e,t,n):F3(e,t,n)}function _3(e,t,n,i,s){if(!n)return;const r=H3(n,i,t,s);if(1===r.length)return r[0];let a;const o=Ik(n,i);return e[t]&&(a=e[t][o]),a&&r.indexOf(a)>-1?a:r[0]}const Q3=mC(B3,(function(e){return{descendantKey:e.ui.prePlayPage.descendantKey}}),(function(e,t){e(vK({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,descendantKey:t.descendantKey}))})),G3=(0,YM.Z)((function(){return(0,de.P1)(Wa.Z,Wh.Z,(0,_C.Z)(),(0,de.P1)((0,_C.Z)(),(e=>{if(!e||!e.childrenKey)return;const t=e.key,n=e.skipChildren?"grandchildren":"children";return C.Z.join([t,n])})),LK,xK,AK,OK(),(0,de.P1)((0,SC.Z)(),(e=>!(!e||!e.isPopulated))),AP,(0,fN.Z)(),((e,t,n,i,s,r,a,o,l,c,d)=>{const{type:u,subtype:p}=n,m=(0,cG.G)(u,p,n,YC.sD),h=m||n.thumb||n.parentThumb||n.grandparentThumb,g=n.grandparentArt||n.parentArt||n.art,y=n.grandparentTheme||n.parentTheme||n.theme,v=s?g||h:h||g,f=_3(a,YC.sD,o,n.subtype,t),I=(0,_o.d)(e,t.features.actions.save);return{librarySectionID:n.librarySectionID,providerIdentifier:t.identifier,providerMetricsIdentifier:t.metricsIdentifier,metadataKey:n.key,descendantKey:i,attribution:n.attribution,attributionLogo:n.attributionLogo,title:n.title,type:n.type,subtype:n.subtype,year:n.year,contentRating:n.contentRating,minYear:n.minYear,maxYear:n.maxYear,summary:n.summary,showAddToSaved:I&&null!=n.saved,thumb:m,parentThumb:n.parentThumb,grandparentThumb:n.grandparentThumb,composite:n.composite,art:s?g:void 0,theme:r?y:void 0,backgroundImageUrl:v,playlistType:n.playlistType,isListReady:l,onDeckMetadataItemEntityID:n.onDeck,extrasMetadataListEntityID:n.extras,popularLeavesMetadataListEntityID:n.popularLeaves,listType:o,listStyle:f,isRemotePlayer:c,isEmbeddedServer:d,watchlistedAt:n.watchlistedAt}}))}),(function(e,t){return{onLibraryChange(n,i){let s;t.sourceDirectory&&(s=t.sourceDirectory.id),!s&&i&&(s=i),e((0,Ut.changeQuickSearchSettings)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:n,directoryID:s}))},onBackgroundChange(n,i){e((0,mn.ZZ)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,imageUrl:n,allowBlur:!i}))},onThemeMusicChange(n){e((0,mn.ZX)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,theme:n}))},onMirrorDetails(){e(ww({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID}))}}}))(Q3);class Y3 extends y.Component{constructor(e,t){super(e,t),this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.onContentMeasure=({width:e,height:t,y:n})=>{(e||t)&&this.setState({isMeasured:!0,pageWidth:e,pageHeight:t,pageY:n})},this.state={scrollTop:0,isMeasured:!1,pageWidth:0,pageHeight:0,pageY:0}}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataListEntityID:i,columnAdjustment:s,record:r,allEpisodes:a}=this.props,{scrollTop:o,isMeasured:l,pageWidth:c,pageHeight:d,pageY:u}=this.state;return y.createElement(OC.Z,{className:"PrePlayPageContent-prePlayPageContentContainer-3ITR6t PageContent-pageContent-aqfjwt",onMeasure:this.onContentMeasure},y.createElement(mx,{className:"PrePlayPageContent-prePlayPageContent-1hhe3O",scrollTop:o,onScrollPositionChange:this.onScrollPositionChange},l?y.createElement(G3,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataListEntityID:i,pageWidth:c,pageHeight:d,pageY:u,scrollTop:o,columnAdjustment:s,record:r,allEpisodes:a}):null))}}const W3=Y3;function K3(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-page-next-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m0 320l0-80 360 0 0-160 200 200-200 200 0-160-360 0"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}K3.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const q3=K3;function $3(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-page-prev-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m200 80l-200 200 200 200 0-160 360 0 0-80-360 0 0-160"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}$3.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const J3=$3;var X3=Object.prototype.hasOwnProperty,e5=Object.getOwnPropertySymbols,t5=Object.prototype.propertyIsEnumerable,n5=Object.assign;const i5={dispatchPreFetch:bK};class s5 extends y.Component{componentDidMount(){this._preFetch()}componentDidUpdate(e){this.props.metadataItemEntityID!==e.metadataItemEntityID&&this._preFetch()}_preFetch(){const{metadataItemEntityID:e,isDisabled:t,dispatchPreFetch:n}=this.props;t||n({metadataItemEntityID:e})}render(){const e=this.props,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,dispatchPreFetch:s,metricsPage:r,metricsContext:a}=e,o=((e,t)=>{var n={};for(var i in e)X3.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&e5)for(var i of e5(e))t.indexOf(i)<0&&t5.call(e,i)&&(n[i]=e[i]);return n})(e,["serverEntityID","providerEntityID","metadataItemEntityID","dispatchPreFetch","metricsPage","metricsContext"]);return y.createElement(Rb.Z,n5({},o))}}const r5=(0,YM.Z)((function(){return(0,de.P1)(((e,{metricsContext:t})=>t),Kh.Z,Wh.Z,(0,_C.Z)(),((e,t,n,i={})=>{const s={legacy:1};return e&&(s.context=e),{to:(0,ui.Z)(t,n,i.key,s),isDisabled:!i.key}}))}),i5)(s5),a5=(0,f.$j)((function(){return(0,de.P1)(((e,{metadataItemEntityID:t})=>t),(0,SC.Z)(),((e,t={})=>{const n=t.metadataItems,i=n.indexOf(e),s=i+1,r=i-1;let a,o;return r>-1&&(a=n[r]),s>0&&s<n.length&&(o=n[s]),{previousMetadataItemEntityID:a,nextMetadataItemEntityID:o}}))}))((function({serverEntityID:e,providerEntityID:t,previousMetadataItemEntityID:n,nextMetadataItemEntityID:i}){return y.createElement("div",null,y.createElement(r5,{serverEntityID:e,"data-qa-id":"toolbarPrevious",providerEntityID:t,metadataItemEntityID:n},y.createElement(J3,null)),y.createElement(r5,{serverEntityID:e,"data-qa-id":"toolbarNext",providerEntityID:t,metadataItemEntityID:i},y.createElement(q3,null)))})),o5=(0,YM.Z)((function(){return(0,de.P1)(((e,{selectedKey:t})=>t),((e,{metricsContext:t})=>t),Kh.Z,Wh.Z,(0,_C.Z)(),(0,rP.Z)(),((e,t,n,i,s={},r)=>({title:s.title,to:r,isSelected:e===s.key})))}))((function({title:e,to:t,isSelected:n}){return t?y.createElement(Ic.Z,{to:t,isSelected:n},e):null})),l5="PrePlayPageHeaderSiblingsMenu-emptyContainer-2-w9y_",c5=function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityIDs:i,isPending:s,error:r,selectedKey:a,target:o,isOpen:l,onMenuClose:c}=e,d=!!i.length,u=!d&&s,p=!d&&!s&&!!r,m=!d&&!u&&!p;return y.createElement(mo.Z,{target:o,isOpen:l,size:vc.ln,onMenuClose:c},u?y.createElement("span",{className:l5},y.createElement(RC.Z,null)):null,p?y.createElement("span",{className:l5},(0,De.Z)("Unable to load items")):null,m?y.createElement("span",{className:l5},(0,De.Z)("No items")):null,i.map((e=>y.createElement(o5,{key:e,serverEntityID:t,providerEntityID:n,metadataItemEntityID:e,selectedKey:a}))))};var d5=n(6055),u5=n(90980),p5=n(3345),m5=n(1691);function h5(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-add-to-watchlist-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M22.2 12H25.8V16.2H30V19.8H25.8V24H22.2V19.8H18V16.2H22.2V12Z"}].concat([])),y.createElement.apply(y,["path",{clipRule:"evenodd",d:"M42 6.15892C42 4.72113 40.8409 3.59998 39.411 3.59998H8.58903C7.15701 3.59998 6 4.74565 6 6.15892V42.9571C6 44.3949 6.90879 44.8173 8.02984 43.9554L21.9702 33.2377C23.0826 32.3824 24.9088 32.3758 26.0298 33.2377L39.9702 43.9554C41.0826 44.8107 42 44.3704 42 42.9571V6.15892ZM19.7759 30.3837L9.6 38.2073V7.19998H38.4V38.2073L28.2241 30.3837C26.9296 29.3885 25.382 28.9922 23.9927 28.9938C22.6046 28.9953 21.0627 29.3944 19.7759 30.3837Z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}h5.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const g5=h5;function y5(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-remove-from-watchlist-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{clipRule:"evenodd",d:"M42 6.15892C42 4.72113 40.8409 3.59998 39.411 3.59998H8.58903C7.15701 3.59998 6 4.74565 6 6.15892V42.9571C6 44.3949 6.90879 44.8173 8.02984 43.9554L21.9702 33.2377C23.0826 32.3824 24.9088 32.3758 26.0298 33.2377L39.9702 43.9554C41.0826 44.8107 42 44.3704 42 42.9571V6.15892ZM21.4545 18L17.6361 14.1816L20.1817 11.636L24.0001 15.4544L27.8184 11.636L30.364 14.1816L26.5456 18L30.364 21.8183L27.8184 24.3639L24.0001 20.5456L20.1817 24.3639L17.6361 21.8184L21.4545 18Z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}y5.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const v5=y5,f5=(0,de.P1)((0,_C.Z)(),(e=>({watchlistedAt:e.watchlistedAt}))),I5=(0,f.$j)(f5,(function(e,t){const n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID};return{onPress(){e((0,Io.ZA)(n))}}}))((function(e){const{watchlistedAt:t,onPress:n}=e;return y.createElement(Rb.Z,{"data-qa-id":"toolbarAddToWatchList",tooltip:t?(0,De.Z)("Remove from Watchlist"):(0,De.Z)("Add to Watchlist"),onPress:n},t?y.createElement(v5,null):y.createElement(g5,null))}));function b5(e){const{markUnplayed:t,onPress:n}=e;return y.createElement(Rb.Z,{"data-qa-id":"toolbarToggleWatched",tooltip:t?(0,De.Z)("Mark as Unplayed"):(0,De.Z)("Mark as Played"),onPress:n},y.createElement(rz,null))}b5.defaultProps={markUnplayed:!1};const M5=b5;function S5(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-artist-tv-icon-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M29.218 420.218h503v-308h-503v308zm307 28v56c0 .327 18.667.327 56 0v28h-224v-28h56c.327 0 .327-18.667 0-56l-224-.5c-.49 0 0-363.01 0-363.5 0-.49 559.51 0 560 0 .327 0 .327 121.333 0 364 0 .327-74.667.327-224 0zm-55.61-139.931c-15.108 0-27.356-12.248-27.356-27.356 0-15.109 12.248-27.357 27.357-27.357 15.108 0 27.356 12.248 27.356 27.357 0 15.108-12.248 27.356-27.356 27.356zm48.566 9.768c8.87-10.546 14.193-24.034 14.193-38.734 0-18.883-8.784-35.767-22.588-46.984l15.585-13.98c18.068 15.053 29.532 37.5 29.532 62.574 0 19.632-7.029 37.654-18.753 51.778l-17.97-14.654zm-87.808-86.457c-14.337 11.207-23.516 28.42-23.516 47.723 0 15.74 6.104 30.092 16.13 40.93l-16.068 13.195c-12.096-14.23-19.372-32.54-19.372-52.515 0-24.509 10.954-46.508 28.322-61.546l14.504 12.213zm130.092 126.117c18.58-20.945 29.84-48.372 29.84-78.394 0-34.317-14.712-65.243-38.253-86.974l14.355-13.014c26.627 25.193 43.209 60.677 43.209 99.988 0 34.688-12.911 66.396-34.241 90.683l-14.91-12.289zM194.603 195.78c-21.45 21.495-34.684 50.993-34.684 83.541 0 29.677 11.003 56.819 29.203 77.67l-14.864 12.335c-20.977-24.198-33.65-55.638-33.65-90.005 0-37.324 14.948-71.197 39.25-96.09l14.745 12.55z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}S5.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const E5=S5;var D5=Object.assign;const C5=function(e){return y.createElement(Rb.Z,D5({tooltip:(0,De.Z)("Artist TV")},e),y.createElement(E5,null))};function P5(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-toolbar-play-radio-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M110.261 141.816c10.962-9.751 23.79-2.335 27.765 1.703 6.308 6.406 5.837 12.744 4.377 15.806-1.084 2.277-2.431 4.378-5.35 8.026-14.104 16.536-24.074 34.046-31.37 53.986-11.672 32.101-13.132 68.334-4.377 101.894 6.809 24.804 18.724 47.42 35.505 67.362 3.89 4.377 4.863 5.836 5.836 8.997.486 1.703.486 6.566-.244 8.755-1.459 4.62-4.863 8.269-9.727 9.97-1.216.487-14.377 4.39-23.144-2.43-1.46-.974-6.81-7.055-10.7-12.16-22.617-28.94-36.964-63.472-41.342-100.191-1.944-15.32-1.944-32.587-.243-47.908 4.621-39.639 20.67-76.846 46.448-107.243 3.892-4.621 4.657-4.867 6.566-6.566v-.001zm64.42 62.012c7.215-8.421 19.942-12.966 29.868-4.504 9.925 8.46 6.895 19.095 2.76 24.445-10.942 13.132-17.265 27.48-19.697 44.503-.486 3.89-.729 13.131-.243 17.509 1.459 18.725 8.511 35.262 20.67 49.61 3.162 3.647 4.62 6.322 4.864 10.455.486 7.054-4.395 13.258-11.186 15.565-14.348 4.871-23.388-2.675-28.494-8.754-20.671-25.778-29.426-58.608-24.562-91.681 3.161-20.914 12.067-40.863 26.02-57.148zM277.67 323.667c-11.548-.562-21.407-5.058-29.575-12.926-8.732-8.992-12.957-19.389-12.957-31.753 0-12.363 4.225-22.762 12.957-31.753 9.012-8.711 19.435-12.927 31.828-12.927 12.394 0 22.814 4.216 31.828 12.927 8.731 8.991 12.957 19.389 12.957 31.753s-4.226 22.76-12.957 31.753c-8.45 8.15-18.308 12.645-30.138 12.926-1.408.28-3.38.28-3.943 0zm172.069-181.852c1.91 1.7 2.675 1.946 6.566 6.566 25.777 30.399 41.827 67.606 46.448 107.244 1.701 15.321 1.701 32.587-.243 47.908-4.378 36.72-18.726 71.252-41.342 100.19-3.89 5.107-9.24 11.187-10.7 12.16-8.767 6.821-21.928 2.919-23.144 2.432-4.863-1.702-8.268-5.35-9.727-9.97-.73-2.19-.73-7.054-.244-8.755.973-3.162 1.946-4.621 5.836-8.998 16.78-19.941 28.696-42.557 35.505-67.361 8.755-33.56 7.295-69.794-4.376-101.894-7.297-19.941-17.267-37.451-31.372-53.987-2.918-3.648-4.265-5.748-5.35-8.026-1.459-3.062-1.93-9.4 4.378-15.806 3.975-4.037 16.802-11.454 27.765-1.703zm-64.576 62.013c13.953 16.284 22.86 36.234 26.021 57.148 4.864 33.073-3.89 65.902-24.561 91.68-5.107 6.079-14.147 13.626-28.495 8.754-6.792-2.306-11.672-8.511-11.186-15.564.243-4.134 1.702-6.81 4.863-10.456 12.16-14.348 19.212-30.885 20.67-49.61.487-4.378.244-13.618-.242-17.509-2.431-17.023-8.755-31.37-19.698-44.503-4.134-5.35-7.163-15.984 2.761-24.445 9.926-8.461 22.652-3.917 29.867 4.505z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}P5.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const w5=P5;var T5=Object.assign;const Z5=function(e){return y.createElement(Rb.Z,T5({tooltip:(0,De.Z)("Play Radio")},e),y.createElement(w5,null))};function N5(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-play-trailer-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m225.671 503.994c-.557.004-1.114.006-1.671.006-123.629 0-224-100.371-224-224 0-123.629 100.371-224 224-224 123.629 0 224 100.371 224 224 0 50.138-16.508 96.451-44.381 133.794 18.895-11.081 36.634-24.143 52.605-39.141 9.395-8.823 18.171-18.311 26.162-28.425 8.67-10.973 16.416-22.684 23.006-35.021 4.995-9.352 12.891-29.047 12.891-29.047l41.717 12.492c0 0-9.027 23.185-14.752 34.221-7.693 14.83-16.785 28.923-27.015 42.128-9.197 11.871-19.311 23.024-30.164 33.401-8.779 8.393-18.041 16.28-27.702 23.641-8.554 6.519-17.421 12.626-26.548 18.316-4.487 2.797-9.037 5.493-13.644 8.088-32.896 18.526-68.648 31.851-105.499 39.964-29.172 6.423-59.044 9.582-89.005 9.589l0-.006m-64.671-104.994c0 34.771 28.229 63 63 63 34.771 0 63-28.229 63-63 0-34.771-28.229-63-63-63-34.771 0-63 28.229-63 63m119-119c0 34.771 28.229 63 63 63 34.771 0 63-28.229 63-63 0-34.771-28.229-63-63-63-34.771 0-63 28.229-63 63m-238 0c0 34.771 28.229 63 63 63 34.771 0 63-28.229 63-63 0-34.771-28.229-63-63-63-34.771 0-63 28.229-63 63m154 0c0 15.454 12.546 28 28 28 15.454 0 28-12.546 28-28 0-15.454-12.546-28-28-28-15.454 0-28 12.546-28 28m-35-119c0 34.771 28.229 63 63 63 34.771 0 63-28.229 63-63 0-34.771-28.229-63-63-63-34.771 0-63 28.229-63 63"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}N5.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const A5=N5;var x5=Object.assign;const L5=function(e){return y.createElement(Rb.Z,x5({tooltip:(0,De.Z)("Play Trailer")},e),y.createElement(A5,null))};var O5=n(90444);var j5=Object.prototype.hasOwnProperty,k5=Object.getOwnPropertySymbols,R5=Object.prototype.propertyIsEnumerable,z5=Object.assign;const U5=function(e){var{title:t}=e,n=((e,t)=>{var n={};for(var i in e)j5.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&k5)for(var i of k5(e))t.indexOf(i)<0&&R5.call(e,i)&&(n[i]=e[i]);return n})(e,["title"]);return y.createElement(Rb.Z,z5({tooltip:(0,De.Z)("Record"),className:"ToolbarRecordButton-toolbarRecordButton-wz4UZY ToolbarButton-toolbarButton-HjswtL PlayButton-playButton-2dFmuo RecordIcon-recordIconContainer-3wNYSz","data-qa-id":"toolbarRecord"},n),y.createElement(O5.Z,null))};var V5=Object.assign;const B5=function(e){return y.createElement(Rb.Z,V5({tooltip:(0,De.Z)("Settings"),"data-qa-id":"toolbarSettings"},e),y.createElement(ba.Z,null))};function F5(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-sync-filled-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M280 518C148.6 518 42 411.4 42 280S148.6 42 280 42s238 106.6 238 238-106.6 238-238 238m0-112l112-112h-89.6V154h-44.8v140H168l112 112"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}F5.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const H5=F5;var _5=Object.prototype.hasOwnProperty,Q5=Object.getOwnPropertySymbols,G5=Object.prototype.propertyIsEnumerable,Y5=Object.assign;const W5=function(e){const{hasDownloadState:t,hasOfflineFile:n,hasOwnSubscription:i,isDisabled:s,label:r,progress:a}=e,o=((e,t)=>{var n={};for(var i in e)_5.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Q5)for(var i of Q5(e))t.indexOf(i)<0&&G5.call(e,i)&&(n[i]=e[i]);return n})(e,["hasDownloadState","hasOfflineFile","hasOwnSubscription","isDisabled","label","progress"]),l=null!==a&&a>=0;return y.createElement(Rb.Z,Y5(Y5({},o),{isDisabled:s,tooltip:r,"data-qa-id":"toolbarSync"}),!i||t||l?y.createElement(Qa.Z,{progress:a,isDisabled:s,showIndeterminate:t}):y.createElement(H5,null))},K5=IR((function(e){const{className:t,serverEntityID:n,providerEntityID:i,metadataItemEntityID:s,type:r,subtype:a,title:o,viewedLeafCount:l,unviewedLeafCount:c,isLiveTV:d,metricsPage:u,showRecord:p,showPlay:m,showPlayOverflow:h,showPlayTrailer:g,showPlayTrailerOverflow:v,showPlayRadio:f,showPlayRadioOverflow:I,showPlayArtistTV:b,showPlayArtistTVOverflow:M,showShuffle:S,showShuffleOverflow:E,showAddToPlaylist:D,showAddToPlaylistOverflow:C,showAddToSaved:P,showAddToWatchlist:w,showAddToWatchlistOverflow:T,showTogglePlayed:Z,showTogglePlayedOverflow:N,showMarkPlayed:A,showMarkUnplayed:x,showEdit:L,showEditOverflow:O,showSettings:j,showSettingsOverflow:k,showSync:R,showSyncOverflow:z,showSyncDownload:U,showSyncDownloadOverflow:V,showOverflow:B,onPlayPress:F,onPlayLiveTVPress:H,onPlayTrailerPress:_,onPlayRadioPress:Q,onPlayArtistTVPress:G,onShufflePress:Y,onEditPress:W,onSyncPress:K,onCancelDownloadActivity:q,onDeleteDownloadSubscription:$,onCreateDownloadSubscription:J}=e,X=iN(),te=(0,xE.Z)(e.onMarkPlayedConfirm),ne=(0,xE.Z)(e.onMarkUnplayedConfirm),ie=(0,xE.Z)(),se=(0,xE.Z)(),re=(0,xE.Z)(),ae=(0,u5.Gb)({metadataItemEntityID:s,metricsPage:u,providerEntityID:i,serverEntityID:n,onCancelDownloadActivity:q,onDeleteDownloadSubscription:$,onCreateDownloadSubscription:J}),oe=(0,y.useCallback)((()=>{(m||h)&&F()}),[F,m,h]),le=(0,y.useCallback)((()=>{(L||O)&&W()}),[L,O,W]);return(0,y.useEffect)((()=>(ee.Z.on("shortcut:playSelected",oe),ee.Z.on("shortcut:edit",le),()=>{ee.Z.off("shortcut:playSelected",oe),ee.Z.off("shortcut:edit",le)}))),y.createElement("div",{className:t},p?y.createElement(U5,{title:o,onPress:ie.onOpen}):null,m?y.createElement(jR,{playLabel:(0,De.Z)("Play"),onPress:d?H:F}):null,g?y.createElement(L5,{onPress:_}):null,S?y.createElement(RR,{onPress:Y}):null,f?y.createElement(Z5,{onPress:Q}):null,b?y.createElement(C5,{onPress:G}):null,w?y.createElement(I5,{metadataItemEntityID:s,providerEntityID:i,serverEntityID:n}):null,D?y.createElement(NR,{serverEntityID:n,providerEntityID:i,metadataItemEntityID:s,onAddToPlaylistPress:re.onOpen}):null,Z&&A?y.createElement(M5,{type:r,subtype:a,onPress:te.onOpen}):null,Z&&x&&!A?y.createElement(M5,{type:r,subtype:a,markUnplayed:!0,onPress:ne.onOpen}):null,L?y.createElement(iz,{onPress:W}):null,j?y.createElement(B5,{onPress:se.onOpen}):null,R?y.createElement(BR,{onPress:K}):null,U?y.createElement(u5.ZP,{component:W5,metadataItemEntityID:s,providerEntityID:i,serverEntityID:n,onPress:ae.onPress}):null,B?y.createElement(zM,{id:X.menuButtonID,iconComponent:WE,label:(0,De.Z)("More..."),isMenuOpen:X.isMenuOpen,onPress:X.onMenuButtonPress}):null,y.createElement(m5.Z,{serverEntityID:n,providerEntityID:i,metadataItemEntityID:s,allowRedirectOnDelete:!0,showPlay:h,showPlayTrailer:v,showPlayRadio:I,showPlayArtistTV:M,showQueuePlexMix:!1,showShuffle:E,showAddToPlaylist:C,showAddToSaved:P&&r!==Ho.SHOW,showAddToWatchlist:T,showEdit:O,showSettings:k,showMarkPlayed:N&&A,showMarkUnplayed:N&&x,showSync:z,showSyncDownload:V,target:X.menuButtonID,isOpen:X.isMenuOpen,onMenuClose:X.onMenuClose}),A?y.createElement(Td.Z,{isOpen:te.isOpen,type:r,subtype:a,title:o,leafCount:c,onConfirm:te.onConfirm,onCancel:te.onClose}):null,D?y.createElement(lR.Z,{serverEntityID:n,providerEntityID:i,metadataItemEntityID:s,isOpen:re.isOpen,onModalClose:re.onClose}):null,x?y.createElement(Td.Z,{isOpen:ne.isOpen,type:r,subtype:a,title:o,leafCount:l,markUnplayed:!0,onConfirm:ne.onConfirm,onCancel:ne.onClose}):null,y.createElement(Nd.Z,{serverEntityID:n,providerEntityID:i,metadataItemEntityID:s,isOpen:ie.isOpen,subscriptionType:r,onModalClose:ie.onClose}),U?y.createElement(p5.Z,{isOpen:ae.isOpen,state:ae.state,onConfirm:ae.onConfirm,onClose:ae.onClose}):null,y.createElement(Zd.Z,{serverEntityID:n,providerEntityID:i,metadataItemEntityID:s,isOpen:se.isOpen,onModalClose:se.onClose}))}),["showPlay","showPlayTrailer","showPlayRadio","showPlayArtistTV","showShuffle","showAddToWatchlist","showAddToPlaylist","showTogglePlayed","showEdit","showSettings","showSync","showSyncDownload"],["showPlayVersion","showPlayAll","showQueue","showPlayPlexMix","showPlayMusicVideo","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showOptimize","showDownload","showDelete","showDeleteVersion","showGetInfo"]);var q5=Object.assign;const $5=(0,YM.Z)((function(){return(0,de.P1)(Kh.Z,Wh.Z,Wa.Z,(0,_C.Z)(),(0,fN.Z)(),((e,t,n,i,s)=>{const{type:r,subtype:a,title:o,viewedLeafCount:l,unviewedLeafCount:c}=i,d=(0,KR.ZP)({server:e,provider:t,stableUser:n,metadataItem:i}),u=d.showMarkPlayed||d.showMarkUnplayed,p=!!t.protocols.livetv,m=!s&&e.isFullServer&&!!t.features.subscribe&&t.features.subscribe.flavor===Vo._N;return q5({type:r,subtype:a,title:o,viewedLeafCount:l,unviewedLeafCount:c,isLiveTV:p,showRecord:m,showTogglePlayed:u},d)}))}),(function(e,t){const n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e(it.wA(n))},onPlayLiveTVPress(){e((0,qa.lS)(n))},onPlayTrailerPress(){e(it.EF(n))},onPlayRadioPress(){e(it.QR(q5({playlistType:bo.j0},n)))},onPlayArtistTVPress(){e(it.QR(q5({playlistType:bo.pX},n)))},onShufflePress(){e(it.Em(n))},onMarkPlayedConfirm(){e(Ka.markMetadataItemPlayed(q5(q5({},n),{skipConfirm:!0})))},onMarkUnplayedConfirm(){e(Ka.markMetadataItemUnplayed(q5(q5({},n),{skipConfirm:!0})))},onEditPress(){e(Ka.editMetadataItem(n))},onSyncPress(){e(Ka.syncMetadataItem(n))},onGetInfoPress(){e(Ka.getMetadataItemInfo(n))},onCancelDownloadActivity(){e(d5.FX(n))},onDeleteDownloadSubscription(){e(d5.L7(n))},onCreateDownloadSubscription(){e(d5.A$(n))}}}))(K5);function J5(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-artwork-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m56 504h448v-448h-448v448m336-252l-106.2 106.2 103.8 103.8h-39.598l-126-126-126 126v-364h364v224l-70-70m-168-112c30.907 0 56 25.09 56 56 0 30.907-25.09 56-56 56-30.907 0-56-25.09-56-56 0-30.907 25.09-56 56-56"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}J5.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const X5=J5,e6="PrePlayPageHeader-divider-1HRbLi PageHeaderDivider-pageHeaderDivider-3zhiwc";class t6 extends y.Component{constructor(e,t){super(e,t),this.onSiblingsMenuButtonPress=e=>{this.setState({isSiblingsMenuOpen:!this.state.isSiblingsMenuOpen})},this.onSiblingsMenuClose=()=>{this.setState({isSiblingsMenuOpen:!1})},this.onToggleArtworkPress=e=>{this.props.onArtworkToggle(!this.props.isArtworkButtonSelected)},this.state={isSiblingsMenuOpen:!1},this._siblingsMenuButtonID=(0,wf.Z)()}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,siblingsMetadataListEntityID:i,sourceDirectory:s,metadataKey:r,grandparentTitle:a,parentTitle:o,title:l,skipParent:c,grandparentRoute:d,parentRoute:u,showArtworkButton:p,isArtworkButtonSelected:m,listType:h,listSubtype:g,listStyle:v,allListStyles:f}=this.props,{isSiblingsMenuOpen:I}=this.state;if(!r)return null;const b=!!i,M=h&&wk(f,v);return y.createElement(Ph,{className:b||p&&!M?"PrePlayPageHeader-altPageHeader-3rg9zs PrePlayPageHeader-pageHeader-2e8Pda PageHeader-pageHeader-WpvbJc":"PrePlayPageHeader-pageHeader-2e8Pda PageHeader-pageHeader-WpvbJc"},y.createElement(DN,{containerComponent:WR.Z,serverEntityID:e,providerEntityID:t,sourceDirectory:s},a?y.createElement(zZ.Z,{to:d,hasMenu:!1,isDisabled:!d},a):null,!c&&o?y.createElement(zZ.Z,{to:u,hasMenu:!1,isDisabled:!u},o):null,l?y.createElement(zZ.Z,{id:this._siblingsMenuButtonID,hasMenu:b,isMenuOpen:I,isDisabled:!b,onPress:this.onSiblingsMenuButtonPress},l):null,b?y.createElement(kG.Z,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,component:c5,initialSize:1/0,target:this._siblingsMenuButtonID,isOpen:I,selectedKey:r,onMenuClose:this.onSiblingsMenuClose}):null),y.createElement(fk,null,y.createElement($5,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}),p?y.createElement(cV,{className:e6}):null,p?y.createElement(Rb.Z,{tooltip:m?(0,De.Z)("Hide Artwork"):(0,De.Z)("Show Artwork"),"data-qa-id":"toolbarToggleArtwork",isSelected:m,hideOnPress:!1,tooltipAttachment:M||b?nh.eO:nh.OI,onPress:this.onToggleArtworkPress},y.createElement(X5,null)):null,M?y.createElement(y.Fragment,null,y.createElement(cV,{className:e6}),y.createElement(Uk,{listType:h,listSubtype:g,listContext:YC.sD,selectedListStyle:v,allListStyles:f})):null,b?y.createElement(cV,{className:e6}):null,b?y.createElement(a5,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataListEntityID:i}):null))}}const n6=mC(t6,(function(e){return{siblingKey:e.ui.prePlayPage.siblingKey}}),(function(e,t){e(fK({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,siblingKey:t.siblingKey}))})),i6=(0,YM.Z)((function(){return(0,de.P1)(((e,{metricsContext:t})=>t),(e=>e.ui.prePlayPage),Kh.Z,Wh.Z,CJ(),(0,_C.Z)(),(0,de.P1)((0,_C.Z)(),(e=>{if(!e)return;const t=e.skipParent,n=t?e.grandparentKey:e.parentKey;if(!n)return;const i=t?"grandchildren":"children";return C.Z.join([n,i])})),LK,AK,OK(),((e,t,n,i,s,r,a,o,l,c)=>{const{grandparentKey:d,parentKey:u,key:p,grandparentTitle:m,parentTitle:h,title:g,skipParent:y,subtype:v}=r,f=_3(l,YC.sD,c,v,i),I=H3(c,v,YC.sD,i),b={legacy:1};return e&&(b.context=e),{siblingsMetadataListEntityID:t.siblingList,sourceDirectory:s,metadataKey:p,siblingKey:a,grandparentTitle:m,parentTitle:h,title:g,skipParent:y,grandparentRoute:(0,ui.Z)(n,i,d,b),parentRoute:(0,ui.Z)(n,i,u,b),showArtworkButton:!!r.art,isArtworkButtonSelected:o,listType:c,listSubtype:v,listStyle:f,allListStyles:I}}))}),(function(e,t){return{onArtworkToggle(t){e((0,Nv.LN)({showPrePlayArtwork:t}))}}}))(n6),s6=function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,metadataListEntityID:s,showSpinner:r,showError:a,showNotFoundError:o,activeSelectionType:l,columnAdjustment:c,record:d,allEpisodes:u,multiSelectToolbarComponent:p}=e;return r?y.createElement(Gz.Z,null,y.createElement(RC.Z,null)):a?o?y.createElement(_z.Z,{title:(0,De.Z)("The media you're looking for isn't here"),description:(0,De.Z)("It may have been removed from the media server, or moved to a new location")},y.createElement(AM.Z,{to:"#",kind:fo._8},(0,De.Z)("Go home"))):y.createElement(Yz.Z,{title:(0,De.Z)("There was an unexpected error loading this item")}):y.createElement(LC.Z,{metricsPage:et.sD,isMetricsDelegated:!0,disableBackgroundPreset:!0,scrollDirection:vb.Hn},l?y.createElement(Az,{serverEntityID:t,providerEntityID:n,toolbarComponent:p,allowRedirectOnDelete:!0}):y.createElement(i6,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i}),y.createElement(W3,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,metadataListEntityID:s,columnAdjustment:c,record:d,allEpisodes:u}))};function r6(e){var t=e["aria-label"],n=e.className,i=e.style,s={strokeLinejoin:"round",strokeMiterlimit:"1.414",viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-toolbar-remove-from-playlist-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m560 504h-336v-44.8h336zm0-134.4h-336v-44.8h336zm-464.965-188.478 63.357-63.357 31.679 31.678-63.357 63.357 63.357 63.357-31.679 31.678-63.357-63.356-63.356 63.356-31.679-31.678 63.357-63.357-63.357-63.357 31.679-31.678zm464.965 54.078h-252v-44.8h252zm0-134.4h-336v-44.8h336z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}r6.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const a6=r6,o6=(0,f.$j)(null,(function(e,t){return{onRemovePress(){e(eK())}}}))((function({onRemovePress:e}){return y.createElement(Rb.Z,{tooltip:(0,De.Z)("Remove from Playlist"),tooltipAttachment:nh.OI,onPress:e},y.createElement(a6,null))}));var l6=Object.prototype.hasOwnProperty,c6=Object.getOwnPropertySymbols,d6=Object.prototype.propertyIsEnumerable,u6=Object.assign;const p6={dispatchChangeQuickSearchSettings:Ut.changeQuickSearchSettings};class m6 extends y.Component{constructor(){super(...arguments),this.onLibraryChange=()=>{this.props.dispatchChangeQuickSearchSettings({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,providerIdentifier:pa.Y3,directoryID:this.props.librarySectionID})}}componentDidMount(){this.onLibraryChange()}componentDidUpdate(e){this.props.librarySectionID!==e.librarySectionID&&this.onLibraryChange()}componentWillUnmount(){this.props.dispatchChangeQuickSearchSettings({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,providerIdentifier:null,sectionID:null})}render(){const e=this.props,{dispatchChangeQuickSearchSettings:t}=e,n=((e,t)=>{var n={};for(var i in e)l6.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&c6)for(var i of c6(e))t.indexOf(i)<0&&d6.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchChangeQuickSearchSettings"]);return y.createElement(s6,u6({},n))}}const h6=mC(m6,(function(e){const t=e.ui.playlistPage;return{serverEntityID:t.serverEntityID,metadataKey:t.metadataKey}}),(function(e,t){e(_W({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataKey:t.metadataKey})),e(YW())})),g6=(0,f.$j)((function(e,t){return(0,de.P1)((e=>e.ui.playlistPage),ye.Z,dj.Z,(0,de.P1)((e=>e.ui.playlistPage.playlist),(e=>e.ui.playlistPage.playlistItemList),HW,EC.Z,((e,t,n,i)=>{const s=i[e],r=s&&s.playlistType===Ho.PHOTO,a=t&&t.metadataItems.length;if(r&&a)return i[n[t.metadataItems[0]].metadataItem].librarySectionID})),((e,t,n,i)=>{const{playlist:s,isPlaylistPending:r,playlistError:a}=e,o=!r&&!!a;return{metadataItemEntityID:s,librarySectionID:i,showSpinner:r,showError:o,showNotFoundError:o&&404===a.status,columnAdjustment:t.columnAdjustment,activeSelectionType:n.activeSelectionType,multiSelectToolbarComponent:o6}}))}),p6)(h6);function y6(){const{machineIdentifier:e,providerIdentifier:t}=Fz(),n=(0,Ee.Z)(),i=(0,kt.Z)(Vt.cN,e),s=(0,kt.Z)(Vt.MC,t,i);return y.createElement(Xz,{machineIdentifier:e,providerIdentifier:t},y.createElement(AC.Z,{metricsContext:(0,Hz.Z)(n.context)},y.createElement(g6,{machineIdentifier:e,serverEntityID:i,providerEntityID:s,metadataKey:(0,Hz.Z)(n.key)})))}function v6(e,t,n){switch(n){case ri.y_.Podcast:switch(t){case ri.pG.Track:return 1===e?(0,De.Z)("1 Episode"):(0,De.Z)("{episodeCount} Episodes",{episodeCount:e})}}switch(t){case ri.pG.Movie:return 1===e?(0,De.Z)("1 Movie"):(0,De.Z)("{movieCount} Movies",{movieCount:e});case ri.pG.Show:return 1===e?(0,De.Z)("1 Show"):(0,De.Z)("{showCount} Shows",{showCount:e});case ri.pG.Season:return(0,De.Z)("Seasons");case ri.pG.Episode:return 1===e?(0,De.Z)("1 Episode"):(0,De.Z)("{episodeCount} Episodes",{episodeCount:e});case ri.pG.Album:return 1===e?(0,De.Z)("1 Album"):(0,De.Z)("{albumCount} Albums",{albumCount:e});case ri.pG.Track:return 1===e?(0,De.Z)("1 Track"):(0,De.Z)("{trackCount} Tracks",{trackCount:e});default:return 1===e?(0,De.Z)("1 Item"):(0,De.Z)("{itemCount} Items",{itemCount:e})}}const f6=(0,y.createContext)({width:0,height:0,contentHeight:0,scrollTop:0,scrollLeft:0});function I6(){return(0,y.useContext)(f6)}function b6({children:e,width:t,height:n,contentHeight:i,scrollTop:s,scrollLeft:r}){const a=(0,y.useMemo)((()=>({width:t,height:n,contentHeight:i,scrollTop:s,scrollLeft:r})),[t,n,i,s,r]);return y.createElement(f6.Provider,{value:a},e)}const M6=function(e){const[t,n]=(0,y.useState)(0),i=(0,y.useRef)(null),s=(0,y.useCallback)((e=>{i.current=e,i.current&&n(i.current.offsetTop)}),[]);return(0,y.useEffect)((()=>{i.current&&n(i.current.offsetTop)}),[e]),[t,s]},S6=(0,de.P1)(Yr,(e=>e.prePlay));function E6(){const{descendantListSourceURI:e}=(0,f.v9)(S6),t=(0,y.useMemo)((()=>e?wl(e):()=>{}),[e]);return(0,f.v9)(t)}const D6=Object.assign({},{defaultFontFamily:'"Open Sans Semibold", "Helvetica Neue", Helvetica, Arial, sans-serif',boldFontFamily:'"Open Sans Bold", "Helvetica Neue", Helvetica, Arial, sans-serif',smallFontSize:"12px",smallIconFontSize:"12px",defaultFontSize:"13px",defaultIconFontSize:"14px",largeFontSize:"15px",headerFontSize:"24px",lineHeightComputed:"1.71428571"},{hubTitleLineHeight:"24px"});function C6(e){const t=(0,f.I0)(),n=(0,f.v9)(Wr),i=(0,y.useMemo)((()=>e.every((e=>n.items[_r.getIdentity(e)]))),[e,n]),s=(0,y.useCallback)((()=>{t(Gr.actions.selectItems({items:e}))}),[t,e]),r=(0,y.useCallback)((()=>{t(Gr.actions.deselectItems({items:e}))}),[t,e]),a=(0,y.useCallback)((()=>{i?r():s()}),[i,r,s]);return{isSelectionActive:!!n.count,isSelected:i,onSelect:s,onDeselect:r,onToggleSelect:a}}function P6({className:e="PrePlayListTitle-titleContainer-2KHHbQ",selectedClassName:t="PrePlayListTitle-selectedTitleContainer-JSLk5j PrePlayListTitle-titleContainer-2KHHbQ",selectButtonClassName:n="PrePlayListTitle-selectButton-1jXCby SelectButton-selectButton-Yy19xn",isSelected:i=!1,isSelectable:s,onSelectPress:r,title:a}){return y.createElement("div",{className:i?t:e},s?y.createElement(xj.Z,{className:n,title:a,isSelected:i,onPress:r}):null,y.createElement(op,null,a))}var w6=Object.prototype.hasOwnProperty,T6=Object.getOwnPropertySymbols,Z6=Object.prototype.propertyIsEnumerable;const N6={height:parseInt(ku.Z.tableRowHeight,10)};function A6(e){var t,{item:n,title:i}=e;const s=Br(((e,t)=>{var n={};for(var i in e)w6.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&T6)for(var i of T6(e))t.indexOf(i)<0&&Z6.call(e,i)&&(n[i]=e[i]);return n})(e,["item","title"])),r=(0,y.useMemo)((()=>[Ny,Oy,Ry]),[]),{onToggleSelect:a,isSelected:o}=C6(null!=(t=null==n?void 0:n.items)?t:[]);if(!n)return null;const l=i||(0,De.Z)("Disc {discNumber}",{discNumber:n.index});return y.createElement("div",{style:s.style},y.createElement(P6,{className:"AlbumDisc-titleContainer-3KI86e PrePlayListTitle-titleContainer-2KHHbQ",selectedClassName:"AlbumDisc-selectedTitleContainer-Vhw411 PrePlayListTitle-selectedTitleContainer-JSLk5j PrePlayListTitle-titleContainer-2KHHbQ",selectButtonClassName:"AlbumDisc-selectButton-3SCDYp PrePlayListTitle-selectButton-1jXCby SelectButton-selectButton-Yy19xn",title:l,isSelectable:!0,isSelected:o,onSelectPress:a}),y.createElement("div",{className:"AlbumDisc-trackList-1G5g-i"},n.items.map(((e,t)=>{var n;return y.createElement(Cv,{key:e.key,item:e,tableColumns:r,hasTransientActionsCell:!0,index:null!=(n=e.index)?n:t,isVirtual:!1,cellIndex:t,style:N6})}))))}var x6=Object.assign;const L6=parseInt(ku.Z.v4PagePadding,10),O6=parseInt(ku.Z.v4ListSpacing,10),j6=parseInt(ku.Z.v4PrePlayListTitleGap,10),k6=parseInt(ku.Z.v4PrePlayDividerHeight,10),R6=parseInt(D6.hubTitleLineHeight,10),z6=parseInt(ku.Z.tableRowHeight,10),U6=R6+j6+2*k6;function V6({className:e="AlbumDiscList-container-2snhKW",metadataItem:t}){var n;const{type:i,subtype:s}=t,[r,a]=cn(),o=I6(),{descendantListSourceURI:l}=(0,f.v9)(S6),{totalSize:c,items:d=[]}=null!=(n=E6())?n:{},u=(0,y.useMemo)((()=>{var e;return null!=(e=d.reduce(((e,t)=>{const{parentIndex:n=1}=t,i=e[n];return i?i.items.push(t):e[n]={index:n,items:[t]},e}),[]).filter((()=>!0)))?e:[]}),[d]),p=1===u.length?v6(null!=c?c:0,ri.pG.Track):void 0,m=(0,y.useMemo)((()=>function(e){const{overscan:t=0,outerPaddingTop:n=0,outerPaddingRight:i=0,outerPaddingBottom:s=0,outerPaddingLeft:r=0,getCellHeights:a}=e;let o,l;function c(e){const t=l.findIndex((t=>t>e)),n=l.length-1;return-1===t?n:Math.min(Math.max(0,t-1),n)}return{getListMeasurements(e,t){const{viewportWidth:c,viewportHeight:d}=e,u=c-(r+i);o=a(u),l=[];let p=n;return o.forEach((e=>{l.push(p),p+=e})),{width:u,height:o.reduce(((e,t)=>e+t),n+s),outerPaddingTop:n,outerPaddingRight:i,outerPaddingBottom:s,outerPaddingLeft:r,listTop:e.listTop,listLeft:e.listLeft,viewportWidth:c,viewportHeight:d}},getPositionForIndex(e,t){const{width:n}=t;return{column:1,row:e,cellX:r,cellY:l[e],cellWidth:n,cellHeight:o[e]}},getRangesForPosition(e,n,i,s){const{viewportHeight:r}=s,a=e+r-1,o=c(e-t*r),l=c(e),d=c(a),u=c(a+t*r);return{visibleStartIndex:(0,Dc.Z)(l,i),visibleEndIndex:(0,Dc.Z)(d,i),renderStartIndex:(0,Dc.Z)(o,i),renderEndIndex:(0,Dc.Z)(u,i)}}}}({overscan:1,getCellHeights:e=>u.map((e=>U6+e.items.length*z6+O6)),outerPaddingRight:L6,outerPaddingLeft:L6})),[u]),[h,g]=M6(o.contentHeight),v=(0,y.useCallback)((e=>y.createElement(A6,x6(x6({},e),{title:p}))),[p]);return l&&c?y.createElement("div",{className:e,ref:g},y.createElement(Qn,{containerServer:r,containerProvider:a,containerSourceURI:l,containerKey:t.childrenKey,containerType:i,containerSubtype:s,listStyle:Bt.n.Table},y.createElement(Xr,{items:d},y.createElement(kc,{layout:m,cellComponentFactory:v,items:u,totalSize:c,scrollTop:o.scrollTop-h,scrollLeft:o.scrollLeft,viewportWidth:o.width,viewportHeight:o.height})))):null}function B6(e,t=!0){const n=(0,y.useRef)(!1);(0,y.useEffect)((()=>{if(t&&!n.current)return n.current=!0,e()}),[t,e,n])}const F6="autoplay",H6=function(e,t){const n=new RegExp(`(\\?|&)(${(0,R.Z)(t)}=[^\\?&]+(?:[\\?&]?))`,"g");return e.replace(n,((e,t)=>t)).replace(/(\?|&)$/,"")};function _6({kind:e,metadataItem:t,isLabeled:n,isDisabled:i}){const s=(0,y.useCallback)(((s,r,a)=>y.createElement(y.Fragment,null,y.createElement(Pd,{metadataItem:t}),y.createElement(lh,{"data-qa-id":s?"preplay-delete-download":"preplay-download",kind:e,icon:s?H5:UR,title:s?(0,De.Z)("Delete Download"):(0,De.Z)("Download"),isLabeled:n,isDisabled:i||r,onPress:a}))),[i,n,e,t]);return y.createElement(cd,{metadataItem:t,render:s})}function Q6(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-add-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{clipRule:"evenodd",d:"M27.4286 27.4286V44.5714H20.5714V27.4286H3.42857V20.5714H20.5714V3.42859H27.4286V20.5714H44.5714V27.4286H27.4286Z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Q6.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const G6=Q6,Y6="PrePlayActionBar-menu-3S5onp Menu-menu-2zqgoE";var W6=Object.assign;function K6({isPrimary:e,isDisabled:t,action:n,metadataItem:i,metadataItemState:s,onDeckMetadataItemState:r,isMediaFileUnavailable:a}){const o=(0,f.I0)(),{metricsPage:l,metricsContextTuple:c}=(0,xt.Zn)(),[d,u]=cn(),{containerServer:p,containerProvider:m}=_n(),h=Ao({server:d,provider:u,metadataItem:i,metadataItemState:s}),g=Ja({containerServer:p,containerProvider:m,server:d,provider:u,metadataItem:i,metadataItemState:s,metricsPage:l,metricsContextTuple:c}),v=cr(i),b=(0,I.k6)(),M=(0,I.TH)(),S=(0,Ee.Z)(),E=e?Dn.Primary:Dn.Default,D=(0,y.useCallback)(((e={})=>{v(W6(W6({},e),{action:rr.NH})),g(it.wA({metricsProperties:e}))}),[g,v]),C=(0,y.useCallback)(((e={})=>{v(W6(W6({},e),{action:rr.NH}));const t=is(i);o((0,qa.lS)({serverEntityID:d.entityID,providerEntityID:u.entityID,metricsPage:l,metricsContextTuple:c,metricsProperties:e,options:{type:$a.pX,identifier:t.channelIdentifier}}))}),[o,d,u,i,l,c,v]),P=(0,y.useCallback)(((e={})=>{v(W6(W6({},e),{action:rr.cO})),g(it.Em({metricsProperties:e}))}),[g,v]);let w=D;ma(i)?w=C:i.type===ri.pG.Artist&&(w=P);const T=(0,y.useCallback)((()=>{h(Ka.getMetadataItemInfo())}),[h]),Z=(0,y.useCallback)((()=>{w()}),[w]),N=(0,y.useCallback)((()=>{P()}),[P]),A=(0,y.useCallback)((()=>{v({action:rr.$W}),g(it.EF())}),[g,v]),x=(0,y.useCallback)((()=>{v({action:rr.b8}),g(it.QR({playlistType:bo.j0}))}),[g,v]),L=(0,y.useCallback)((()=>{v({action:rr.$J}),o(ar.Z.actions.toggleSavedRequested({server:d,provider:u,sourceURI:i.grandparentKey?(0,jt.Z)({serverIdentifier:d.machineIdentifier,providerIdentifier:u.identifier,key:i.grandparentKey}):i.sourceURI,ratingKey:i.grandparentRatingKey||i.ratingKey,saved:!0}))}),[o,i.grandparentKey,i.grandparentRatingKey,i.ratingKey,i.sourceURI,u,d,v]),O=(0,y.useCallback)((e=>{v({action:e?rr.JL:rr.hi}),o(ar.Z.actions.toggleWatchlistRequested({server:d,provider:u,sourceURI:i.sourceURI,ratingKey:i.ratingKey,added:e}))}),[o,i.ratingKey,i.sourceURI,u,d,v]),j=(0,y.useCallback)((()=>{O(!0)}),[O]),k=(0,y.useCallback)((()=>{O(!1)}),[O]),R=(0,y.useCallback)((e=>{v({action:e?rr.qe:rr.h3}),o(ar.Z.actions.playedStatusUpdateRequested({server:d,provider:u,sourceURI:i.sourceURI,ratingKey:i.ratingKey,played:e}))}),[o,i.ratingKey,i.sourceURI,u,d,v]),z=(0,Dl.Z)(),U=(0,y.useCallback)((()=>{R(!0),z.onClose()}),[z,R]),V=(0,Dl.Z)(),B=(0,y.useCallback)((()=>{R(!1),V.onClose()}),[V,R]),F=(0,Dl.Z)(),H=(0,Dl.Z)(),_=(0,Dl.Z)(),Q=(0,ra.Z)(),G=(0,y.useCallback)((()=>{v({action:rr.dm}),h(Ka.editMetadataItem())}),[h,v]),Y=(0,y.useCallback)((()=>{"isMarkPlayedVisible"===n?z.onOpen():V.onOpen()}),[n,z,V]);switch(B6((()=>{const e=(0,pW.Z)(S.autoplay);e&&b.replace(M.pathname+H6(M.search,"autoplay")),e&&"isPlayVisible"===n&&!a&&w({setting:F6})})),B6((()=>{"isRecordVisible"===n&&S.record&&!F.isOpen&&F.onOpen()})),(0,y.useEffect)((()=>{if("isPlayVisible"===n)return ee.Z.on("shortcut:playSelected",Z),()=>{ee.Z.off("shortcut:playSelected",Z)}})),(0,y.useEffect)((()=>{if("isEditVisible"===n)return ee.Z.on("shortcut:edit",G),()=>{ee.Z.off("shortcut:edit",G)}})),(0,y.useEffect)((()=>{if("isMarkPlayedVisible"===n||"isMarkUnplayedVisible"===n)return ee.Z.on("shortcut:togglePlayed",Y),()=>{ee.Z.off("shortcut:togglePlayed",Y)}})),n){case"isPlayVisible":return a?y.createElement(lh,{kind:Dn.Danger,title:(0,De.Z)("Unavailable"),isLabeled:!0,isDisabled:t,onPress:T}):y.createElement(lh,{"data-qa-id":"preplay-play",kind:E,icon:zh,title:Xa(i,s,r),isLabeled:e,isDisabled:t,onPress:Z});case"isPlayTrailerVisible":return y.createElement(lh,{"data-qa-id":"preplay-trailer",kind:E,icon:A5,title:(0,De.Z)("Play Trailer"),isLabeled:e,isDisabled:t,onPress:A});case"isShuffleVisible":return y.createElement(lh,{"data-qa-id":"preplay-shuffle",kind:E,icon:mb,title:(0,De.Z)("Shuffle"),isLabeled:e,isDisabled:t,onPress:N});case"isPlayRadioVisible":return y.createElement(lh,{"data-qa-id":"preplay-radio",kind:E,icon:w5,title:(0,De.Z)("Play Radio"),isLabeled:e,isDisabled:t,onPress:x});case"isMarkPlayedVisible":case"isMarkUnplayedVisible":{const r="isMarkPlayedVisible"===n;return y.createElement(y.Fragment,null,y.createElement(lh,{"data-qa-id":"preplay-togglePlayedState",kind:E,icon:r?xh:Oh,title:r?(0,De.Z)("Mark as Played"):(0,De.Z)("Mark as Unplayed"),isLabeled:e,isDisabled:t,onPress:r?z.onOpen:V.onOpen}),y.createElement(Td.Z,{isOpen:r?z.isOpen:V.isOpen,type:i.type,subtype:i.subtype,title:i.title,leafCount:r?s.unviewedLeafCount:s.viewedLeafCount,markUnplayed:V.isOpen,onConfirm:r?U:B,onCancel:r?z.onClose:V.onClose}))}case"isAddToSavedVisible":return y.createElement(lh,{"data-qa-id":"preplay-addToSaved",iconClassName:"PrePlayActionBar-addIcon-2Yq3bI ActionButton-icon-asUA4S",kind:E,icon:G6,title:Uo(u.identifier,s.saved,i.subtype),isLabeled:e,isDisabled:t,onPress:L});case"isAddToWatchlistVisible":return y.createElement(lh,{"data-qa-id":"preplay-addToWatchlist",kind:E,icon:g5,title:(0,De.Z)("Add to Watchlist"),isLabeled:e,isDisabled:t,onPress:j});case"isRemoveFromWatchlistVisible":return y.createElement(lh,{"data-qa-id":"preplay-removeFromWatchlist",kind:E,icon:v5,title:(0,De.Z)("Remove from Watchlist"),isLabeled:e,isDisabled:t,onPress:k});case"isAddToPlaylistVisible":return y.createElement(y.Fragment,null,y.createElement(lh,{"data-qa-id":"preplay-playlist",id:Q,kind:E,icon:Th,title:(0,De.Z)("Add to Playlist"),isLabeled:e,isDisabled:t,onPress:_.onToggle}),y.createElement(od,{isOpen:H.isOpen,sourceURI:i.sourceURI,playlistType:Ms(i.type,i.subtype),defaultDestinationSource:i.source,defaultPlaylistTitle:i.title,onModalClose:H.onClose}),y.createElement(mo.Z,{className:Y6,target:Q,isOpen:_.isOpen,onMenuClose:_.onClose},y.createElement(Zl,{sourceURI:i.sourceURI,playlistType:Ms(i.type,i.subtype),onAddToPlaylistPress:H.onOpen,onMenuClose:_.onClose})));case"isSyncDownloadVisible":return y.createElement(_6,{metadataItem:i,kind:E,isLabeled:e,isDisabled:t});case"isEditVisible":return y.createElement(lh,{"data-qa-id":"preplay-edit",kind:E,icon:Nh,title:(0,De.Z)("Edit"),isLabeled:e,isDisabled:t,onPress:G});case"isRecordVisible":{const n=s.grandparentSubscriptionType||s.subscriptionType||i.type;return y.createElement(y.Fragment,null,y.createElement(lh,{"data-qa-id":"preplay-record",kind:Dn.Primary,icon:n===ri.pG.Show?kx.Z:AL.Z,title:null==s.grandparentSubscriptionID&&null==s.subscriptionID?(0,De.Z)("Record"):(0,De.Z)("Modify"),isLabeled:e,isDisabled:t,onPress:F.onOpen}),y.createElement(xo,{metadataItem:i,metadataItemState:s},(({serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,onMarkStale:s})=>y.createElement(Nd.Z,{isOpen:F.isOpen,serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,subscriptionType:n,metricsProperties:{page:l,contextTuple:c},onModalClose:(0,vo.Z)(s,F.onClose)}))))}}return null}function q6({metadataItem:e,promotedActions:t}){var n;const i=(0,ra.Z)(),[s,r]=(0,y.useState)(!1),[a,o]=cn(),l=(0,f.v9)(Wa.Z),c=(0,f.v9)(ch),d=ii(e.sourceURI),u=ii(null==(n=e.onDeck)?void 0:n.sourceURI),p=(0,y.useMemo)((()=>{return t=e.sourceURI,(0,de.P1)(ni(t),S6,((e,t)=>!!e.deletedAt||t.metadata.isMediaFileUnavailable));var t}),[e.sourceURI]),m=(0,f.v9)(p),h=cr(e),g=Ao({server:a,provider:o,metadataItem:e,metadataItemState:d}),v=gl({server:a,provider:o,stableUser:l,metadataItem:e,metadataItemState:d}),I=function(e,t){return Object.keys(e).reduce(((n,i)=>{const s=i;return n[s]=!t.includes(s)&&e[s],n}),{})}(v,t),b=(0,y.useCallback)((()=>{r(!s)}),[s]),M=(0,y.useCallback)((()=>{r(!1)}),[]),S=(0,y.useCallback)((()=>{h({action:rr.$M}),g(Ka.getMetadataItemInfo())}),[g,h]);return(0,y.useEffect)((()=>{if(v.isGetInfoVisible)return ee.Z.on("shortcut:info",S),()=>{ee.Z.off("shortcut:info",S)}})),y.createElement(_f,{className:"PrePlayActionBar-container-3pCteP ActionButtonBar-bar-7_FvUP"},t.filter((e=>v[e])).map(((t,n)=>"isMarkUnplayedVisible"===t&&v.isMarkPlayedVisible?null:y.createElement(K6,{key:t,isPrimary:0===n,isDisabled:c,action:t,metadataItem:e,metadataItemState:d,isMediaFileUnavailable:m,onDeckMetadataItemState:u}))),Object.keys(I).some((e=>I[e]))?y.createElement(lh,{"data-qa-id":"preplay-more",id:i,icon:kh,title:(0,De.Z)("More"),isDisabled:c,onPress:b}):null,v.isRateVisible?y.createElement(Zr,{className:c?"PrePlayActionBar-disabledUserRating-1Jqi1a StarRating-starRating-2PpV4V":void 0,metadataItem:e}):null,y.createElement(zd,{className:Y6,target:i,isOpen:s,actionsOverride:I,metadataItem:e,onMenuClose:M}))}function $6({className:e="PrePlayMetadataContent-content-1ZqoGZ",children:t}){return y.createElement("div",{className:e},t)}function J6({className:e,metadataItem:t}){const n=ii(t.sourceURI);return null==n.viewOffset?null:y.createElement("span",{className:e},(0,De.Z)("Played for {duration}",{duration:Fi(n.viewOffset)}))}const X6={recordingBadge:"RecordingBadge-recordingBadge-3SJz9q"};function e9({className:e=X6.DVRBadge,subscriptionType:t}){const n=t===ri.pG.Show?kx.Z:AL.Z;return y.createElement(n,{className:e})}const t9="PrePlayPosterCardPlayedStatus-recordingBadge-2vuHuc RecordingBadge-recordingBadge-3SJz9q";function n9({children:e}){return y.createElement("div",{className:"PrePlayPosterCardPlayedStatus-status-2Ct-EG"},e)}function i9({children:e}){return y.createElement("span",{className:"PrePlayPosterCardPlayedStatus-label-2RajvS"},e)}function s9({metadataItem:e,metadataItemState:t}){const{onDeck:n}=e,{viewOffset:i,unviewedLeafCount:s,watchlistedAt:r}=t,[a]=cn(),o=(0,f.v9)(La(be.q1)),l=(0,f.v9)(function(e,t){return(0,de.P1)(hm(e),(e=>e.find((e=>e.type===Oa.sC&&e.Context.itemKey&&e.Context.itemKey===t.key))))}(a,e));return ma(e)?t.subscriptionID||t.grandparentSubscriptionID?y.createElement(n9,null,t.grandparentSubscriptionType?y.createElement(e9,{className:t9,subscriptionType:t.grandparentSubscriptionType}):null,t.subscriptionType&&!t.grandparentSubscriptionType?y.createElement(e9,{className:t9,subscriptionType:t.subscriptionType}):null,y.createElement(i9,null,l?(0,De.Z)("Recording"):(0,De.Z)("Scheduled"))):null:n&&s?y.createElement(n9,null,y.createElement(i9,null,(0,De.Z)("On Deck"),y.createElement(tr.Z,null),(0,la.Z)({seasonIndex:n.parentIndex,episodeIndex:n.index,date:n.originallyAvailableAt,noLeadingZero:!0,separator:" · "}))):i?y.createElement(n9,null,y.createElement(i9,null,e.type===ri.pG.Game?y.createElement(J6,{metadataItem:e}):y.createElement(fy,{metadataItem:e}))):r?y.createElement(n9,null,y.createElement(Da,{className:"PrePlayPosterCardPlayedStatus-watchlistBadge-X7Wiro WatchlistBadge-watchlistBadge-vzvONa Badge-badge-3V2nLB"}),y.createElement(i9,null,(0,De.Z)("In Watchlist"))):o&&ha(e,t)?y.createElement(n9,null,y.createElement(Ia,{className:"PrePlayPosterCardPlayedStatus-playedBadge-31zmN8 PlayedBadge-playedBadge-2cB8je Badge-badge-3V2nLB"}),y.createElement(i9,null,(0,De.Z)("Played"))):null}function r9({aspectRatio:e,metadataItem:t,children:n,isProgressBarHidden:i}){const s=ii(t.sourceURI),r=si(t.sourceURI),a=I6().width<800,o=null!=e?e:ci(t.type,t.subtype);return y.createElement("div",{className:"PrePlayDetailsContainer-container-2Krc1D"},a?null:y.createElement("div",{className:"PrePlayDetailsContainer-posterContainer-bz1c7V"},y.createElement(mu,{metadataItem:t,metadataItemState:s,metadataTimelineState:r,width:o===li?300:250,aspectRatio:o,isSelectHidden:!0,isPlayButtonCard:!0,isPlayedStatusHidden:!0,isProgressBarHidden:i}),y.createElement(s9,{metadataItem:t,metadataItemState:s})),y.createElement($6,{className:"PrePlayDetailsContainer-content-1M7jEY PrePlayMetadataContent-content-1ZqoGZ"},n))}function a9({children:e,className:t="PrePlayDetailsGroup-group-3vnThy"}){return y.createElement("div",{className:t,"data-qa-id":"preplayDetailsContainer"},e)}function o9({children:e,className:t="PrePlayDetailsGroupItem-groupItem-3i_iKj",labelClassName:n="PrePlayDetailsGroupItem-label-17kQiB",contentClassName:i="PrePlayDetailsGroupItem-content-1uxHY-",label:s}){return y.createElement("div",{className:t},y.createElement("div",{className:n},s),y.createElement("div",{className:i},e))}function l9(e,t){const n=e.Stream;return n?n.filter((e=>e.streamType===t)):[]}function c9(e,t){const n=l9(e,t);return t===ri.jx.Video?n[0]:n.find((e=>e.selected))}function d9({type:e,stream:t}){return y.createElement("span",null,t?t.displayTitle:y.createElement(y.Fragment,null,e===ri.jx.Subtitles?(0,De.Z)("Off"):(0,De.Z)("None")))}function u9({part:e,onSelect:t}){const n=(0,ra.Z)(),i=(0,Dl.Z)(),[s,r]=(0,y.useState)(c9(e,ri.jx.Audio)),a=l9(e,ri.jx.Audio),o=(0,y.useCallback)((e=>{const n=a.find((t=>t.id===e));r(n),t(ri.fw.Audio,e)}),[a,t]);return(0,y.useEffect)((()=>{r(c9(e,ri.jx.Audio))}),[e]),y.createElement(y.Fragment,null,a.length>1?y.createElement(G$.Z,{id:n,isSelected:!0,direction:i.isOpen?yc.UP:yc.WV,onPress:i.onToggle},y.createElement(d9,{type:ri.jx.Audio,stream:s})):y.createElement(d9,{type:ri.jx.Audio,stream:s}),y.createElement(mo.Z,{target:n,isOpen:i.isOpen,size:vc.ln,onMenuClose:i.onClose},a.map((e=>y.createElement(Ic.Z,{key:e.id,menuLabelClassName:"AudioStreamsMenu-menuLabelClassName-N9yKRY SelectedMenuItem-menuLabel-1zwBwt",value:e.id,isSelected:e===s,onSelect:(0,vo.Z)(o,i.onClose)},y.createElement(d9,{type:ri.jx.Audio,stream:e}),e.title?y.createElement("span",{className:"AudioStreamsMenu-extendedTitle-b3S3AZ"},e.title):null)))))}function p9({metadataItem:e,part:t,onSelect:n,onDelete:i}){var s,r;const[a,o]=cn(),l=ii(e.sourceURI),c=(0,Dl.Z)(),d=(0,Dl.Z)(),u=!(!(null==(s=a.ownerFeatures)?void 0:s.includes(be.EM))||!Go(o)),p=!(!(null==(r=a.ownerFeatures)?void 0:r.includes(be.m9))||!Go(o)),m=(0,ra.Z)(),h=(0,Dl.Z)(),g=(0,Dl.Z)(),[v,f]=(0,y.useState)(),[I,b]=(0,y.useState)(c9(t,ri.jx.Subtitles)),M=l9(t,ri.jx.Subtitles),S=(0,y.useCallback)((e=>{const t=M.find((t=>t.id===e));b(t),n(ri.fw.Subtitles,e)}),[n,M]),E=(0,y.useCallback)((()=>{v&&i(v)}),[i,v]);return(0,y.useEffect)((()=>{b(c9(t,ri.jx.Subtitles))}),[t]),(0,y.useEffect)((()=>{!l.isStreamDeletePending&&g.isOpen&&g.onClose()}),[l.isStreamDeletePending]),y.createElement(y.Fragment,null,M.length||u||p?y.createElement(G$.Z,{id:m,isSelected:!0,direction:h.isOpen?yc.UP:yc.WV,onPress:h.onToggle},M.length?y.createElement(d9,{type:ri.jx.Subtitles,stream:I}):(0,De.Z)("None")):(0,De.Z)("None"),y.createElement(mo.Z,{target:m,isOpen:h.isOpen,size:vc.ln,isAutoCloseDisabled:g.isOpen,onMenuClose:h.onClose},M.length?y.createElement(Ic.Z,{key:WP.H,value:WP.H,isSelected:!I,onSelect:(0,vo.Z)(S,h.onClose)},y.createElement(d9,{type:ri.jx.Subtitles})):null,M.map((e=>{const t=!!e.key&&a.isFullOwnedServer;return y.createElement("div",{key:e.id,className:t?"SubtitlesStreamsMenu-externalMenuItemContainer-1QSnlo":void 0},y.createElement(Ic.Z,{className:t?"SubtitlesStreamsMenu-externalMenuItem-2g64kC SelectedMenuItem-menuItemContainer-RdnVc0":void 0,menuLabelClassName:"SubtitlesStreamsMenu-menuLabelClassName-2ifVd9 SelectedMenuItem-menuLabel-1zwBwt",value:e.id,isSelected:e===I,onSelect:(0,vo.Z)(S,h.onClose)},y.createElement(d9,{type:ri.jx.Subtitles,stream:e}),e.title?y.createElement("span",{className:"SubtitlesStreamsMenu-extendedTitle-2pUsLk"},e.title):null),t?y.createElement(y.Fragment,null,y.createElement(ap,{className:"SubtitlesStreamsMenu-externalDeleteButton-Aw6kvF IconButton-iconButton-1kbRFb Link-link-2WGTd7",iconComponent:cc.Z,ariaLabel:(0,De.Z)("Delete Subtitle"),onPress:(0,vo.Z)(g.onOpen,(()=>f(e.key)))}),y.createElement(nt.Z,{isOpen:g.isOpen,isConfirmButtonSpinning:l.isStreamDeletePending,metricsPage:et.Yp,kind:fo.T,title:(0,De.Z)("Delete Subtitle File"),message:(0,De.Z)("Are you sure you want to delete this subtitle file?"),confirmLabel:(0,De.Z)("Delete"),onConfirm:E,onCancel:g.onClose})):null)})),u?y.createElement(ho.Z,{onPress:(0,vo.Z)(c.onOpen,h.onClose)},(0,De.Z)("Search...")):null,p?y.createElement(ho.Z,{onPress:(0,vo.Z)(d.onOpen,h.onClose)},(0,De.Z)("Upload...")):null),y.createElement(xo,{metadataItem:e,metadataItemState:l},(({metadataItemEntityID:e,onMarkStale:t})=>y.createElement(y.Fragment,null,y.createElement(T1,{metadataItemEntityID:e,isOpen:c.isOpen,onModalClose:(0,vo.Z)(c.onClose,t)}),y.createElement(Y1,{metadataItemEntityID:e,isOpen:d.isOpen,onModalClose:(0,vo.Z)(d.onClose,t)})))))}const m9={tagsListLink:"PrePlayTagListLink-tagsListLink-23POZP Link-link-2WGTd7"};var h9=Object.prototype.hasOwnProperty,g9=Object.getOwnPropertySymbols,y9=Object.prototype.propertyIsEnumerable,v9=Object.assign;function f9(e){var{className:t=m9.tagsListLink}=e,n=((e,t)=>{var n={};for(var i in e)h9.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&g9)for(var i of g9(e))t.indexOf(i)<0&&y9.call(e,i)&&(n[i]=e[i]);return n})(e,["className"]);return y.createElement(xn,v9({className:t},n))}const I9=function(e,t=1/0){const[n,i]=(0,y.useState)(!1),s=(0,y.useCallback)((()=>{i(!0)}),[]);return[function(e,t,n){return Ya(e>0,"`limit` must be a value greater than 0"),n?t:t>e?e-1:e}(t,e,n),s]};function b9({metadataItem:e}){var t,n,i;const s=(0,f.I0)(),[r,a]=cn(),o=null!=(n=null==(t=e.Media)?void 0:t.length)?n:0,[l,c]=I9(o,1),d=function(e){const t=e.Media;if(null==t?void 0:t.length)return 1===t.length?t[0]:Array.from(t).sort(((e,t)=>{var n,i,s,r;return(null!=(n=t.width)?n:0)-(null!=(i=e.width)?i:0)||(null!=(s=t.bitrate)?s:0)-(null!=(r=e.bitrate)?r:0)}))[0]}(e),u=(null==d?void 0:d.Part)&&d.Part[0],p=u?c9(u,ri.jx.Video):void 0,m=(0,y.useCallback)(((t,n)=>{Ya(null!=u,"A part is required to select a stream"),s(ar.Z.actions.streamSelectRequested({server:r,provider:a,sourceURI:e.sourceURI,part:u,streamIDParam:t,streamID:n,allParts:!0}))}),[s,e.sourceURI,u,a,r]),h=(0,y.useCallback)((t=>{s(ar.Z.actions.streamDeleteRequested({server:r,provider:a,sourceURI:e.sourceURI,streamKey:t}))}),[s,e.sourceURI,a,r]);return u?y.createElement(a9,null,o>1&&Go(a)?y.createElement(o9,{label:(0,De.Z)("Versions")},null==(i=e.Media)?void 0:i.map(((e,t)=>{if(t>l)return null;const{title:n,info:i}=Oo(e),s=!!n,r=!!(null==i?void 0:i.length);return y.createElement("span",{key:e.id,className:"PrePlayDetailsStreamsGroup-versionTitle-2dmTKU"},s?e.title:null,s&&r?" (":null,r?i:null,s&&r?")":null,s||r?null:(0,De.Z)("Unknown"),t+1<l&&t+1<o?", ":null)})),o>l?y.createElement(y.Fragment,null,l>1?", ":" ",y.createElement(f9,{onPress:c},(0,De.Z)("and {count} more",{count:o-1-l}))):null):null,y.createElement(o9,{label:(0,De.Z)("Video")},y.createElement(d9,{type:ri.jx.Video,stream:p})),y.createElement(o9,{label:(0,De.Z)("Audio")},y.createElement(u9,{part:u,onSelect:m})),y.createElement(o9,{label:(0,De.Z)("Subtitles")},y.createElement(p9,{metadataItem:e,part:u,onSelect:m,onDelete:h}))):null}const M9=({tag:e,server:t,provider:n,contentDirectory:i,metadataNumericType:s,fallbackFilter:r})=>{var a;let o;if(e.type===ri.pG.Directory&&e.key&&i)o=(0,zg.Z)(t,n,i,{key:e.key,title:e.tag});else if((e.filter||e.id)&&i){const l={filters:null!=(a=e.filter)?a:`${r}=${e.id}`,filterLabel:e.tag};s&&(l.type=s),e.context&&(l.context=e.context),o=(0,C_.Z)(t,n,i,l)}return o},S9=({tag:e,server:t,provider:n,contentDirectory:i,metadataNumericType:s,fallbackFilter:r})=>{if(!i)return;let a;if(e.type===ri.pG.Directory&&e.key)a=(0,zg.Z)(t,n,i,{key:e.key,pageType:At.F6.List});else if(e.filter){const[r,o]=e.filter.split("=");a=(0,zg.Z)(t,n,i,{key:C.Z.join([i.key,"all"],{type:s,[r]:o}),pageType:At.F6.List})}else e.id&&r&&(a=(0,zg.Z)(t,n,i,{key:C.Z.join([i.key,"all"],{type:s,[r]:e.id}),pageType:At.F6.List}));return a};function E9({className:e,metadataItem:t,itemClassName:n="PrePlayTagList-tagItem-CWvqID",linkClassName:i="PrePlayTagList-tagsListLink-1uPaCI PrePlayTagListLink-tagsListLink-23POZP Link-link-2WGTd7",tagName:s,limit:r=1/0}){const{type:a,[s]:o=[]}=t,l=o.length,[c,d]=I9(l,r),[u,p]=cn(),m=(0,f.v9)(Me),h=(0,f.v9)(nn(u.machineIdentifier,p.identifier,t.librarySectionID));if(!l)return null;const g=jb(a);return y.createElement("span",{className:e},o.map(((e,t)=>{if(t>=c)return null;const s=m?S9({tag:e,contentDirectory:h,server:u,provider:p,metadataNumericType:g}):M9({tag:e,contentDirectory:h,server:u,provider:p,metadataNumericType:g});return y.createElement("span",{key:t,className:n},y.createElement(f9,{className:i,to:s,isDisabled:!s},e.tag),t+1<c&&t+1<l?", ":null)})),l>c?y.createElement(y.Fragment,null,c>1?", ":" ",y.createElement(f9,{onPress:d},(0,De.Z)("and {count} more",{count:l-c}))):null)}function D9({label:e,metadataItem:t}){const[n,i]=cn(),s=(0,f.v9)(nn(n.machineIdentifier,i.identifier,t.librarySectionID)),r=(0,f.v9)(Me),{studio:a,Studio:o}=t;return y.createElement(y.Fragment,null,(null==o?void 0:o.length)?y.createElement(o9,{label:e},y.createElement(E9,{metadataItem:t,tagName:"Studio",limit:2})):null,!(null==o?void 0:o.length)&&a&&s?y.createElement(o9,{label:e},y.createElement(f9,{to:r?(0,zg.Z)(n,i,s,{key:C.Z.join([s.key,"all"],{type:jb(t.type),studio:encodeURIComponent(a)}),pageType:At.F6.List}):(0,C_.Z)(n,i,s,{filters:`studio=${encodeURIComponent(encodeURIComponent(a))}`,filterLabel:a,type:jb(t.type)})},a)):null)}function C9({className:e="PrePlaySummary-summary-tkbZC8",dangerouslySetInnerHTML:t,children:n}){const i=n?n.split("\n"):[];return y.createElement($$,{className:e,dangerouslySetInnerHTML:t},i.length>1?i.map(((e,t)=>y.createElement("p",{key:t},e))):n)}function P9({className:e,allowLink:t,metadataItem:n}){const{parentTitle:i}=n;return y.createElement("div",{className:e},y.createElement(Qs,{allowLink:t,metadataItem:n}),i?y.createElement(tr.Z,null):null,y.createElement(Ks,{allowLink:t,metadataItem:n}))}const w9=parseInt(ku.Z.trackCellPadding,10);function T9({style:e,index:t,cellIndex:n,cellHeight:i,metadataItem:s,metadataItemState:r}){const[a,o]=cn(),l=(0,f.v9)(Wa.Z),c=(0,f.v9)(gy(s,a)),d=(0,f.v9)((0,ev.Z)(uh.G.AudioVideo,"isPaused")),{hoverRef:u,actionsMenuButtonID:p,isHovered:m,isActionsPending:h,isActionsVisible:g,isActionsMenuOpen:v,onActionsMenuClose:I,onActionsMenuCloseComplete:b,onActionsMenuToggle:M}=oa({server:a,provider:o,metadataItem:s,metadataItemState:r}),{type:S,subtype:E}=s,D=ci(S,E),C=di({height:i-2*w9,aspectRatio:D}),P=g&&$o({server:a,provider:o,stableUser:l,metadataItem:s,metadataItemState:r});return y.createElement(Gc,{isAlternate:!!(n%2),isHovered:m,style:e,ref:u},y.createElement(pg,{metadataItem:s,keyAttribute:"parentKey","aria-label":da(s)}),y.createElement("div",{className:"MetadataTrackDetailsRow-overlay-xkKnPD"},y.createElement("div",{className:"MetadataTrackDetailsRow-container-3K2Nuo"},y.createElement("div",{className:"MetadataTrackDetailsRow-indexPlayContainer-3Nbe1b"},c||P?null:t,!c&&P?y.createElement(po,{metadataItem:s}):null,c?y.createElement(mv,{isPaused:d}):null),y.createElement("div",{className:"MetadataTrackDetailsRow-posterContainer-1C60_7"},y.createElement(ft.Z,{serverEntityID:a.entityID,providerEntityID:o.entityID,url:ua(s,{aspectRatio:D}),width:C.width,height:C.height,component:mt.Z,preloadOnMount:!1,animateOnMount:!1})),y.createElement("div",{className:"MetadataTrackDetailsRow-titleContainer-2ZEWIH"},y.createElement(mi,{className:"MetadataTrackDetailsRow-title-xOF3Ll",metadataItem:s}),y.createElement(P9,{className:"MetadataTrackDetailsRow-subtitle-25e09s MetadataTrackDetailsRow-title-xOF3Ll",metadataItem:s})),g?y.createElement("div",{className:"MetadataTrackDetailsRow-actions-3gSXmZ"},y.createElement(_d,{id:p,className:"MetadataTrackDetailsRow-actionsMenuButton-1gbBnz Link-link-2WGTd7","data-qa-id":"metadataTrackMoreButton",isPending:h,onPress:M})):y.createElement(by,{className:"MetadataTrackDetailsRow-duration-2CR-YR",metadataItem:s}))),y.createElement(zd,{target:p,isOpen:v,metadataItem:s,actionsOverride:{isPlayVisible:!1},onMenuClose:I,onMenuCloseComplete:b}))}var Z9=Object.prototype.hasOwnProperty,N9=Object.getOwnPropertySymbols,A9=Object.prototype.propertyIsEnumerable;function x9(e){var{index:t,item:n}=e,i=((e,t)=>{var n={};for(var i in e)Z9.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&N9)for(var i of N9(e))t.indexOf(i)<0&&A9.call(e,i)&&(n[i]=e[i]);return n})(e,["index","item"]);const s=ii(null==n?void 0:n.sourceURI),r=Br(i),{cellIndex:a,cellHeight:o}=i;return n?y.createElement(Yn,{metadataItem:n,metadataItemState:s},y.createElement(T9,{style:r.style,index:t,cellIndex:a,cellHeight:o,metadataItem:n,metadataItemState:s})):y.createElement(Wc,{style:r.style,index:a})}function L9({className:e="PrePlayListDivider-divider-2zZWI1"}){return y.createElement("div",{className:e})}var O9=Object.assign;const j9=parseInt(ku.Z.v4PagePadding,10),k9={[ri.pG.Track]:parseInt(ku.Z.trackCellHeight,10),[ri.pG.Album]:parseInt(ku.Z.summaryCellHeight,10)};function R9({hub:e,onHubReady:t}){const{title:n,sourceURI:i,key:s,type:r,subtype:a,initialSize:o,random:l,style:c=Bt.n.List,context:d,isStale:u}=e,p=(0,f.I0)(),[m,h]=cn(),g=I6(),[v,I]=M6(g.contentHeight),[b,M]=(0,y.useState)(o<3?o:3),S=k9[r],E=(0,y.useMemo)((()=>Nc({rowHeight:null!=S?S:0,outerPaddingRight:j9,outerPaddingLeft:j9,overscan:1})),[S]),D=(0,y.useMemo)((()=>wl(i)),[i]),C=(0,f.v9)(D),P=null==C?void 0:C.items.length,w=null==C?void 0:C.totalSize,T=null==w||l?o:w,Z=(0,y.useCallback)((e=>{p(Gn.Z.actions.fetchRangeRequested(O9(O9({},e),{server:m,provider:h,sourceURI:i})))}),[p,m,h,i]),N=(0,y.useCallback)((()=>{M(T)}),[T]),{isPlaceholder:A,placeholderItems:x}=lp({hub:e,size:P,totalSize:w,initialPageSize:3,onPageRequest:Z});(0,y.useEffect)((()=>{!b&&P&&M(P<3?P:3)}),[P,b]),(0,y.useEffect)((()=>{u&&!l&&p(Gn.Z.actions.throttledRepopulateRangeRequested({server:m,provider:h,sourceURI:i}))}),[p,u,h,l,m,i]),(0,y.useEffect)((()=>{t&&t(e)}),[e,t]);const L=(0,y.useCallback)((e=>r===Bt.U.Track?y.createElement(xt.ZP,{key:e.key,row:e.row,column:e.column},y.createElement(x9,O9({index:e.cellIndex+1},e))):y.createElement(Mg,O9({},e))),[r]);return A||T?y.createElement(xt.ZP,{name:d},y.createElement(Qn,{containerServer:m,containerProvider:h,containerSourceURI:C.sourceURI,containerKey:s,containerType:r,containerSubtype:a,listStyle:c},y.createElement("div",{className:"PrePlayVerticalHub-hubHeader-2lR2mm VirtualHubScroller-hubHeader-1_4Pjo"},y.createElement(zp,{hub:e},n)),y.createElement(L9,null),y.createElement("div",{ref:I},y.createElement(kc,{layout:E,cellComponentFactory:L,keyPropName:"listItemKey",items:A?x:C.items,totalSize:A?x.length:b,scrollTop:g.scrollTop-v,scrollLeft:g.scrollLeft,viewportWidth:g.width,viewportHeight:g.height,onPageRequest:A?void 0:Z})),y.createElement(L9,null),!A&&b<T?y.createElement("div",{className:"PrePlayVerticalHub-showAllContainer-3-8XTx"},y.createElement(xn,{onPress:N},(0,De.Z)("Show All"))):null,y.createElement("div",{className:"PrePlayVerticalHub-belowHub-2iS1MI"}))):null}var z9=Object.assign;const U9={descendantListSourceURI:void 0,siblingListSourceURI:void 0,popularLeavesSourceURI:void 0,extrasSourceURI:void 0,metadata:{metadataItem:void 0,isMediaFileUnavailable:!1,isStale:!1,isPending:!1,isPopulated:!1,error:null},related:{hubs:[],isPending:!1,isPopulated:!1,error:null},augmented:{hubs:[],isPending:!1,isPopulated:!1,error:null}};function V9(e,t,n){var i;const{type:s,Context:r}=n;s===Oa.Ij&&(0,jt.Z)({serverIdentifier:t.machineIdentifier,key:r.key})===(null==(i=e.metadata.metadataItem)?void 0:i.sourceURI)&&(r.exists&&r.accessible?e.metadata.isMediaFileUnavailable=!1:!1!==r.exists&&!1!==r.accessible||(e.metadata.isMediaFileUnavailable=!0))}const B9=(0,Fr.oM)({name:"prePlay",initialState:U9,reducers:{reset:e=>z9(z9({},U9),{siblingListSourceURI:e.siblingListSourceURI}),metadataItemFetchRequested(e,t){(0,Vm.er)(e.metadata)},metadataItemFetchSucceeded(e,{payload:t}){(0,Vm.vv)(e.metadata),e.descendantListSourceURI=t.descendantListSourceURI,e.siblingListSourceURI=t.siblingListSourceURI,e.popularLeavesSourceURI=t.popularLeavesSourceURI,e.extrasSourceURI=t.extrasSourceURI,e.metadata.metadataItem=t.metadataItem,e.metadata.isStale=!1},metadataItemFetchFailed(e,{payload:t}){(0,Vm.VQ)(e.metadata,t.error)},metadataItemRepopulateRequested(e,t){(0,Vm.er)(e.metadata)},relatedHubsFetchRequested(e,t){(0,Vm.er)(e.related)},relatedHubsFetchSucceeded(e,{payload:t}){(0,Vm.vv)(e.related),e.related.hubs=t.hubs},relatedHubsFetchFailed(e,{payload:t}){(0,Vm.VQ)(e.related,t.error)},augmentedHubsFetchRequested(e,t){(0,Vm.er)(e.augmented)},augmentedHubsFetchSucceeded(e,{payload:t}){(0,Vm.vv)(e.augmented),e.augmented.hubs=t.hubs},augmentedHubsFetchFailed(e,{payload:t}){(0,Vm.VQ)(e.augmented,t.error)}},extraReducers:e=>{e.addCase(ka.actions.activityUpdated,((e,{payload:t})=>{V9(e,t.server,t.activity)})),e.addCase(ka.actions.activityFinished,((e,{payload:t})=>{V9(e,t.server,t.activity)})),e.addCase(Gm.actions.ended,((e,{payload:t})=>{var n;(null==(n=e.metadata.metadataItem)?void 0:n.source)===t.source&&(e.metadata.isStale=!0)})),e.addCase(_m.actions.sessionStopped,((e,{payload:t})=>{var n;const i=(0,jt.Z)({serverIdentifier:t.server.machineIdentifier});(null==(n=e.metadata.metadataItem)?void 0:n.source)===i&&(e.metadata.isStale=!0)})),e.addCase(ar.Z.actions.playedStatusUpdateSucceeded,((e,{payload:t})=>{var n;const i=(0,jt.Z)({serverIdentifier:t.server.machineIdentifier,providerIdentifier:t.provider.identifier});(null==(n=e.metadata.metadataItem)?void 0:n.source)===i&&(e.metadata.isStale=!0)})),e.addCase(ar.Z.actions.deleted,((e,{payload:t})=>{var n;const i=null==(n=e.metadata.metadataItem)?void 0:n.sourceURI,{parentSourceURI:s,rootSourceURI:r}=t;!i||i!==s&&i!==r||(e.metadata.isStale=!0)})),e.addCase(ar.Z.actions.repopulateCanceled,((e,t)=>{e.metadata.isStale=!1}))}});function F9({hub:e,onHubReady:t}){const n=e.style===Bt.n.List?R9:jp,{serverIdentifier:i,providerIdentifier:s}=(0,Vn.Z)(e.sourceURI);return y.createElement(dn,{machineIdentifier:i,providerIdentifier:s},y.createElement(n,{hub:e,hubTitleComponent:zp,onHubReady:t}))}function H9({metadataItem:e,onHubsReady:t}){const{augmentationKey:n}=e,i=(0,f.I0)(),[s,r]=cn(),{augmented:{hubs:a,isPending:o,isPopulated:l}}=(0,f.v9)(S6);return(0,y.useEffect)((()=>{n&&i(B9.actions.augmentedHubsFetchRequested({server:s,provider:r,augmentationKey:n}))}),[i,n,r,s]),(0,y.useEffect)((()=>{(!n||l&&!a.length)&&t()}),[n,a.length,l,t]),n?!l&&o?y.createElement("div",{className:"PrePlayAugmentedHubsList-spinnerContainer-1YpoTU"},y.createElement(RC.Z,null)):y.createElement(Bp,{hubs:a,hubComponent:F9,onHubsReady:t}):null}function _9({hub:e,onHubReady:t}){const n=e.style===Bt.n.List?R9:jp,{serverIdentifier:i,providerIdentifier:s}=(0,Vn.Z)(e.sourceURI);return y.createElement(dn,{machineIdentifier:i,providerIdentifier:s},y.createElement(n,{hub:e,hubTitleComponent:zp,onHubReady:t}))}function Q9({metadataItem:e,onHubsReady:t}){const{key:n}=e,i=(0,f.I0)(),[s,r]=cn(),{related:{hubs:a,isPending:o,isPopulated:l}}=(0,f.v9)(S6),{isEmbedded:c}=s;return(0,y.useEffect)((()=>{c||i(B9.actions.relatedHubsFetchRequested({server:s,provider:r,metadataKey:n}))}),[i,c,n,r,s]),(0,y.useEffect)((()=>{c||l&&!a.length&&t()}),[a.length,c,l,t]),c?null:o?y.createElement("div",{className:"PrePlayRelatedHubsList-spinnerContainer-2Y3Qhl"},y.createElement(RC.Z,null)):y.createElement(Bp,{hubs:a,hubComponent:_9,onHubsReady:t})}function G9({className:e="PrePlayRightTitle-rightTitle-1Zn35u",children:t}){return y.createElement("div",{className:e},t)}function Y9({className:e="PrePlayAttributionTitle-rightTitle-3oLkO2 PrePlayRightTitle-rightTitle-1Zn35u",imgClassName:t="PrePlayAttributionTitle-attributionLogo-343e2p",metadataItem:n}){const{attribution:i,attributionLogo:s}=n;return s?y.createElement(G9,{className:e},y.createElement("img",{src:s,className:t})):i?y.createElement(G9,{className:e},y.createElement(gs,{attribution:i})):null}function W9({contentRating:e}){return e?y.createElement(zw.Z,{className:"PrePlayContentRating-badge-3M0hi9 Badge-badge-29PpMR"},ws(e)):null}function K9({className:e="PrePlayTertiaryTitleSpacer-tertiaryTitleSpacer-3afwW3",children:t}){return y.createElement("span",{className:e},t)}function q9({metadataItem:e}){const{duration:t,contentRating:n}=e;return y.createElement(y.Fragment,null,t?y.createElement(K9,null,y.createElement(Us,{metadataItem:e})):null,n?y.createElement(K9,null,y.createElement(W9,{contentRating:n})):null,y.createElement(zs,{metadataItem:e}))}function $9({className:e="PrePlayLeftTitle-leftTitle-2id2wu",children:t}){return y.createElement("div",{className:e},t)}function J9({className:e="PrePlayPrimaryTitle-primaryTitle-1q7FmZ",children:t}){return y.createElement("div",{className:e,"data-qa-id":"preplay-mainTitle"},t)}function X9({className:e="PrePlaySecondaryTitle-secondaryTitle-m24Glo PrePlayPrimaryTitle-primaryTitle-1q7FmZ",children:t}){return y.createElement("div",{className:e,"data-qa-id":"preplay-secondTitle"},t)}function e8({className:e="PrePlayTertiaryTitle-tertiaryTitle-2RGElY",children:t}){return y.createElement("div",{className:e,"data-qa-id":"preplay-thirdTitle"},t)}function t8(e,t){const n=(0,y.useRef)(0),i=(0,y.useRef)(void 0);return i.current||(i.current=Array.from({length:e}).map(((i,s)=>()=>{n.current=n.current|2**s,n.current===2**e-1&&t()}))),i.current}function n8({metadataItem:e,onHubsReady:t}){const{year:n,summary:i,Genre:s,Style:r}=e,[a,o]=t8(2,t);return y.createElement(y.Fragment,null,y.createElement(r9,{metadataItem:e},y.createElement(J9,null,y.createElement($9,null,y.createElement(Ks,{metadataItem:e})),y.createElement(Y9,{metadataItem:e})),y.createElement(X9,null,y.createElement(mi,{metadataItem:e,allowLink:!1})),y.createElement(e8,null,n?y.createElement(K9,null,n):null,y.createElement(q9,{metadataItem:e})),y.createElement(q6,{metadataItem:e,promotedActions:["isPlayVisible","isShuffleVisible","isAddToPlaylistVisible","isSyncDownloadVisible","isEditVisible"]}),i?y.createElement(C9,null,i):null,y.createElement(a9,null,y.createElement(D9,{label:(0,De.Z)("Record Label"),metadataItem:e}),(null==s?void 0:s.length)?y.createElement(o9,{label:(0,De.Z)("Genre")},y.createElement(E9,{metadataItem:e,tagName:"Genre",limit:3})):null,(null==r?void 0:r.length)?y.createElement(o9,{label:(0,De.Z)("Style")},y.createElement(E9,{metadataItem:e,tagName:"Style",limit:3})):null),y.createElement(b9,{metadataItem:e})),y.createElement(V6,{metadataItem:e}),y.createElement(Q9,{metadataItem:e,onHubsReady:o}),y.createElement(H9,{metadataItem:e,onHubsReady:a}))}function i8({className:e,selectedClassName:t,selectButtonClassName:n,metadataList:i,metadataItem:s}){var r,a;const o=(0,f.I0)(),[l,c]=cn(),{type:d,subtype:u,skipChildren:p}=s,m=p?vl(d,u):yl(d,u),[h,g]=(0,y.useState)(!1),v=null!=(r=i.totalSize)?r:0,I=i.items.length,{onSelect:b,onToggleSelect:M,isSelected:S}=C6(i.items);(0,y.useEffect)((()=>{h&&(I<v?o(Gn.Z.actions.fetchAllRequested({server:l,provider:c,sourceURI:i.sourceURI})):b())}),[o,h,I,i.sourceURI,b,c,l,v]),(0,y.useEffect)((()=>{S&&g(!1)}),[S]);const E=(0,y.useCallback)((()=>{I<v?g(!h):M()}),[h,I,M,v]),D=v6(null!=(a=i.totalSize)?a:0,null!=m?m:d,u);return y.createElement(P6,{className:e,selectedClassName:t,selectButtonClassName:n,title:D,isSelectable:$d(c),isSelected:S||h,onSelectPress:E})}var s8=Object.assign;const r8=parseInt(ku.Z.v4PagePadding,10);function a8({items:e,totalSize:t,viewportWidth:n,viewportHeight:i,scrollTop:s,scrollLeft:r,onPageRequest:a}){const o=(0,y.useMemo)((()=>Dg({outerPaddingRight:r8,outerPaddingLeft:r8})),[]),l=(0,y.useCallback)((e=>y.createElement(Mg,s8(s8({},e),{isParentDetailHidden:!0}))),[]);return y.createElement(y.Fragment,null,y.createElement(L9,null),y.createElement(kc,{layout:o,cellComponentFactory:l,keyPropName:"listItemKey",items:e,totalSize:t,scrollTop:s,scrollLeft:r,viewportWidth:n,viewportHeight:i,onPageRequest:a}),y.createElement(L9,null))}var o8=Object.assign;function l8({type:e,subtype:t,items:n,totalSize:i,viewportWidth:s,viewportHeight:r,scrollTop:a,scrollLeft:o,onPageRequest:l}){const c=(0,f.v9)(gp),{containerMeta:d}=_n(),u=(0,y.useMemo)((()=>$g({listType:e,subtype:t,columnWidth:c,listStyle:Bt.n.PrePlayGrid,displayFields:null==d?void 0:d.DisplayFields,displayImages:null==d?void 0:d.DisplayImage})),[c,null==d?void 0:d.DisplayFields,null==d?void 0:d.DisplayImage,t,e]),p=(0,y.useCallback)((e=>y.createElement(fu,o8({},e))),[]);return y.createElement(kc,{layout:u,cellComponentFactory:p,keyPropName:"listItemKey",items:n,totalSize:i,scrollTop:a,scrollLeft:o,viewportWidth:s,viewportHeight:r,onPageRequest:l})}function c8({style:e,cellIndex:t,metadataItem:n,metadataItemState:i}){const[s,r]=cn(),a=(0,f.v9)(Wa.Z),o=(0,f.v9)(gy(n,s)),l=(0,f.v9)((0,ev.Z)(uh.G.AudioVideo,"isPaused")),{hoverRef:c,actionsMenuButtonID:d,isHovered:u,isActionsPending:p,isActionsVisible:m,isActionsMenuOpen:h,onActionsMenuClose:g,onActionsMenuCloseComplete:v,onActionsMenuToggle:I}=oa({server:s,provider:r,metadataItem:n,metadataItemState:i}),{isSelected:b,isInSelectionRange:M,isSelectionActive:S,onToggleSelect:E}=ea({isHovered:u,metadataItem:n,metadataItemState:i}),D=(0,y.useMemo)((()=>M?"MetadataSimpleDetailsRow-rangeListRow-1l088c ListRow-row-F6OwAL":b?"MetadataSimpleDetailsRow-selectedListRow-1casYZ ListRow-row-F6OwAL":void 0),[M,b]),C=!S&&m,P=(0,y.useCallback)((()=>{E()}),[E]),w=C&&$o({server:s,provider:r,stableUser:a,metadataItem:n,metadataItemState:i});return y.createElement(Gc,{className:D,alternateClassName:D,isAlternate:!!(t%2),isHovered:u,style:e,ref:c},$d(r)?y.createElement(hg,{isSelected:b,isInSelectionRange:M,isVisible:b||M||u,title:da(n),onPress:P}):null,S?y.createElement(xn,{className:"MetadataSimpleDetailsRow-selectOverlay-2VOuZq Link-link-2WGTd7",onPress:P}):y.createElement(pg,{metadataItem:n,keyAttribute:"key","aria-label":da(n)}),y.createElement("div",{className:"MetadataSimpleDetailsRow-overlay-2MIajd"},y.createElement("div",{className:"MetadataSimpleDetailsRow-simpleSummaryContainer-5pBZw3"},y.createElement("div",{className:"MetadataSimpleDetailsRow-indexPlayContainer-2sXhqt"},o||w?null:y.createElement(mg,{className:"MetadataSimpleDetailsRow-titleEpisodeIndex-1t8hlR",metadataItem:n}),!o&&w?y.createElement(po,{metadataItem:n}):null,o?y.createElement(mv,{isPaused:l}):null),y.createElement("div",{className:"MetadataSimpleDetailsRow-titleAndSummaryContainer-MaGfcM"},y.createElement("div",{className:"MetadataSimpleDetailsRow-titleContainer-1ddzwf"},y.createElement("div",{className:"MetadataSimpleDetailsRow-title-2K95qY"},n.title),C?y.createElement("div",{className:"MetadataSimpleDetailsRow-actions-1ReUsm"},y.createElement(_d,{id:d,"data-qa-id":"metadataRowMoreButton",isPending:p,onPress:I})):null),y.createElement("div",{className:"MetadataSimpleDetailsRow-summary-3zmxqU"},function(e,t){const{tagline:n,summary:i}=t;return n||((0,tG.Z)(e.identifier)===nG.k9?sG(i):i)}(r,n))))),y.createElement(zd,{target:d,isOpen:h,metadataItem:n,actionsOverride:{isPlayVisible:!1},onMenuClose:g,onMenuCloseComplete:v}))}var d8=Object.prototype.hasOwnProperty,u8=Object.getOwnPropertySymbols,p8=Object.prototype.propertyIsEnumerable;function m8(e){var{item:t}=e,n=((e,t)=>{var n={};for(var i in e)d8.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&u8)for(var i of u8(e))t.indexOf(i)<0&&p8.call(e,i)&&(n[i]=e[i]);return n})(e,["item"]);const i=ii(null==t?void 0:t.sourceURI),s=Br(n),{cellIndex:r}=n;return t?y.createElement(Yn,{metadataItem:t,metadataItemState:i},y.createElement(c8,{style:s.style,cellIndex:r,metadataItem:t,metadataItemState:i})):y.createElement(Wc,{style:s.style,index:r})}var h8=Object.assign;const g8=parseInt(ku.Z.simpleSummaryCellHeight,10),y8=parseInt(ku.Z.v4PagePadding,10),v8=function(e){return Nc(h8({rowHeight:g8,outerPaddingRight:y8,outerPaddingLeft:y8,overscan:2},e))};var f8=Object.assign;function I8({items:e,totalSize:t,viewportWidth:n,viewportHeight:i,scrollTop:s,scrollLeft:r,onPageRequest:a}){const[o,l]=(0,y.useState)(t<3?t:3),c=(0,y.useMemo)((()=>v8()),[]),d=(0,y.useCallback)((()=>{l(t)}),[t]),u=(0,y.useCallback)((e=>y.createElement(m8,f8({},e))),[]);return y.createElement(y.Fragment,null,y.createElement(L9,null),y.createElement(kc,{layout:c,cellComponentFactory:u,keyPropName:"listItemKey",items:e,totalSize:o,scrollTop:s,scrollLeft:r,viewportWidth:n,viewportHeight:i,onPageRequest:a}),y.createElement(L9,null),y.createElement("div",{className:"PrePlaySimpleDetailsVirtualList-allEpisodesContainer-1m4J5K"},o<t?y.createElement(xn,{onPress:d},(0,De.Z)("Show All Episodes")):null))}const b8={recordIconContainer:"RecordButton-recordIconContainer-vuFSax PlayButton-playCircle-2hG_PH",recordIcon:"RecordButton-recordIcon-1tDQ_C"};var M8=Object.prototype.hasOwnProperty,S8=Object.getOwnPropertySymbols,E8=Object.prototype.propertyIsEnumerable,D8=Object.assign;function C8(e){var{iconContainerClassName:t=b8.recordIconContainer,iconClassName:n=b8.recordIcon}=e,i=((e,t)=>{var n={};for(var i in e)M8.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&S8)for(var i of S8(e))t.indexOf(i)<0&&E8.call(e,i)&&(n[i]=e[i]);return n})(e,["iconContainerClassName","iconClassName"]);return y.createElement(xn,D8({"aria-label":(0,De.Z)("Record")},i),y.createElement("span",{className:t},y.createElement("span",{className:n})))}const P8={overlay:"EPGSimpleSummaryRow-overlay-2WMmcb",titleContainer:"EPGSimpleSummaryRow-titleContainer-3gnntP",primaryTitle:"EPGSimpleSummaryRow-primaryTitle-9XyWSU",secondaryTitle:"EPGSimpleSummaryRow-secondaryTitle-1F2zXv",nextAiringDate:"EPGSimpleSummaryRow-nextAiringDate-1g7caW",separator:"EPGSimpleSummaryRow-separator-fSwMxU DashSeparator-separator-3gTgvL",subscriptionIcon:"EPGSimpleSummaryRow-subscriptionIcon-1XKlN_"};function w8({style:e,cellIndex:t,metadataItem:n,metadataItemState:i}){const{metricsPage:s,metricsContextTuple:r}=(0,xt.Zn)(),[a,o]=cn(),l=(0,f.v9)(Wa.Z),c=(0,Dl.Z)(),[d,u]=aa(),p=n&&sl({provider:o,server:a,stableUser:l,metadataItem:n,metadataItemState:i}),{summary:m}=n,{subscriptionID:h}=i;return y.createElement(Gc,{isAlternate:!!(t%2),isHovered:d,style:e,ref:u},y.createElement(pg,{metadataItem:n,keyAttribute:"key","aria-label":da(n)}),y.createElement("div",{className:P8.overlay},y.createElement("div",{className:P8.titleContainer},y.createElement("div",{className:P8.primaryTitle},y.createElement(ir,{className:P8.titleEpisodeIndex,metadataItem:n}),y.createElement(tr.Z,null),y.createElement(mi,{metadataItem:n,allowLink:!1})),y.createElement("div",{className:P8.secondaryTitle},h?y.createElement(AL.Z,{className:P8.subscriptionIcon,"aria-label":(0,De.Z)("Recording Scheduled")}):null,y.createElement(as,{className:P8.nextAiringDate,metadataItem:n}),m?y.createElement(tr.Z,{className:P8.separator}):null,m)),d&&p?y.createElement(C8,{tabIndex:-1,onPress:c.onOpen}):null),y.createElement(xo,{metadataItem:n,metadataItemState:i},(({serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,onMarkStale:o})=>y.createElement(Nd.Z,{isOpen:c.isOpen,serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,subscriptionType:i.grandparentSubscriptionType||i.subscriptionType||n.type,metricsProperties:{page:s,contextTuple:r},onModalClose:(0,vo.Z)(o,c.onClose)}))))}var T8=Object.prototype.hasOwnProperty,Z8=Object.getOwnPropertySymbols,N8=Object.prototype.propertyIsEnumerable;function A8(e){var{item:t}=e,n=((e,t)=>{var n={};for(var i in e)T8.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Z8)for(var i of Z8(e))t.indexOf(i)<0&&N8.call(e,i)&&(n[i]=e[i]);return n})(e,["item"]);const i=ii(null==t?void 0:t.sourceURI),s=Br(n),{cellIndex:r}=n;return t?y.createElement(Yn,{metadataItem:t,metadataItemState:i},y.createElement(w8,{style:s.style,cellIndex:r,metadataItem:t,metadataItemState:i})):y.createElement(Wc,{style:s.style,index:r})}var x8=Object.assign;function L8({items:e,totalSize:t,viewportWidth:n,viewportHeight:i,scrollTop:s,scrollLeft:r,onPageRequest:a}){const o=(0,y.useMemo)((()=>v8({rowHeight:96})),[]),l=(0,y.useCallback)((e=>y.createElement(A8,x8({},e))),[]);return y.createElement(y.Fragment,null,y.createElement(L9,null),y.createElement(kc,{layout:o,cellComponentFactory:l,keyPropName:"listItemKey",items:e,totalSize:t,scrollTop:s,scrollLeft:r,viewportWidth:n,viewportHeight:i,onPageRequest:a}),y.createElement(L9,null))}const O8=(0,de.P1)(S6,(e=>e.metadata.metadataItem)),j8=(0,de.P1)(O8,(e=>{if(!e)return;const t=e.skipChildren?vl(e.type,e.subtype):yl(e.type,e.subtype);return(t?function(e){const t=(0,Mm.gQ)(Bt.U).find((([,t])=>t===e));return t?Bt.U[t[0]]:void 0}(t):void 0)||void 0})),k8=(0,de.P1)(O8,j8,((e,t)=>e?`${e.source}:${e.librarySectionID}:${t}`:void 0)),R8=(0,de.P1)(O8,j8,((e,t)=>{if(!e||!t)return[];if(ma(e))return[Bt.n.SimpleDetails];switch(e.subtype){case ri.y_.Webshow:case ri.y_.Podcast:return[Bt.n.SimpleDetails]}switch(t){case Bt.U.Album:case Bt.U.Episode:return[Bt.n.PrePlayGrid,Bt.n.Details];case Bt.U.Track:return[Bt.n.Table];default:return[Bt.n.PrePlayGrid]}})),z8=(0,de.P1)(rs("prePlayListStyles"),k8,R8,((e,t,n)=>{if(!t||!n.length)return;const i=e[t];return i&&n.includes(i)?i:n[0]}));var U8=Object.assign;function V8({className:e="PrePlayDescendantList-listContainer-IWXeSY",metadataItem:t}){const n=(0,f.I0)(),[i,s]=cn(),r=I6(),{descendantListSourceURI:a}=(0,f.v9)(S6),o=(0,f.v9)(j8),l=(0,f.v9)(z8),c=E6(),[d,u]=M6(r.contentHeight),p=(0,y.useCallback)((e=>{a&&n(Gn.Z.actions.fetchRangeRequested(U8(U8({},e),{server:i,provider:s,sourceURI:a})))}),[a,n,s,i]),m=function(e,t){switch(t){case Bt.n.PrePlayGrid:return l8;case Bt.n.Details:return a8;case Bt.n.SimpleDetails:return ma(e)?L8:I8}throw new Error("Failed to map the preplay descendant list style to a list component. Check `selectPrePlayDescendantListStyles` for list style options.")}(t,l);return a&&o&&c&&c.totalSize?y.createElement("div",{className:e,ref:u},y.createElement(Qn,{containerServer:i,containerProvider:s,containerSourceURI:a,containerKey:t.childrenKey,containerType:o,containerSubtype:t.subtype,listStyle:l},y.createElement(i8,{metadataList:c,metadataItem:t}),y.createElement(Xr,{items:c.items},y.createElement(m,{type:o,subtype:t.subtype,items:c.items,totalSize:c.totalSize,scrollTop:r.scrollTop-d,scrollLeft:r.scrollLeft,viewportWidth:r.width,viewportHeight:r.height,onPageRequest:p})))):null}var B8=Object.prototype.hasOwnProperty,F8=Object.getOwnPropertySymbols,H8=Object.prototype.propertyIsEnumerable,_8=Object.assign;function Q8(){const[e,t]=cn(),{extrasSourceURI:n}=(0,f.v9)(S6),i=(0,y.useMemo)((()=>n?wl(n):()=>{}),[n]),s=(0,f.v9)(i),r=(0,f.v9)(gp),a=(0,y.useMemo)((()=>Gu({listType:Bt.U.Clip,subtype:ri.y_.Trailer,columnWidth:r})),[r]),o=(0,y.useCallback)((e=>{var{item:t}=e,n=((e,t)=>{var n={};for(var i in e)B8.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&F8)for(var i of F8(e))t.indexOf(i)<0&&H8.call(e,i)&&(n[i]=e[i]);return n})(e,["item"]);return y.createElement(fu,_8(_8({},n),{item:t}))}),[]);return s?y.createElement(Qn,{containerServer:e,containerProvider:t,containerSourceURI:s.sourceURI,containerType:Bt.U.Clip,containerSubtype:ri.y_.Trailer},y.createElement(hp,{hub:{title:(0,De.Z)("Extras"),sourceURI:s.sourceURI},keyPropName:"listItemKey",items:s.items,layout:a,cellComponentFactory:o,totalSize:s.totalSize})):null}var G8=Object.assign;function Y8({className:e="PrePlayPopularList-container-2RDS8l"}){var t,n;const i=(0,f.I0)(),{popularLeavesSourceURI:s}=(0,f.v9)(S6),r=(0,y.useMemo)((()=>s?wl(s):()=>{}),[s]),a=(0,f.v9)(r),o=I6(),[l,c]=M6(o.contentHeight),[d,u]=cn(),p=null!=(t=null==a?void 0:a.items.length)?t:0,m=null!=(n=null==a?void 0:a.totalSize)?n:p,h=null==a?void 0:a.sourceURI,[g,v]=(0,y.useState)(p<5?p:5),I=(0,y.useMemo)((()=>[Dy,Ay,Oy,Ry]),[]),b=(0,y.useMemo)((()=>Zv()),[]),M=(0,y.useCallback)((e=>{h&&i(Gn.Z.actions.fetchRangeRequested(G8(G8({},e),{server:d,provider:u,sourceURI:h})))}),[h,i,d,u]),S=(0,y.useCallback)((()=>{const e=g+10;v(e>m?m:e)}),[m,g]),E=(0,y.useCallback)((e=>y.createElement(Cv,G8({index:e.cellIndex+1,tableColumns:I,hasTransientActionsCell:!0},e))),[I]);return a?y.createElement("div",{className:e},y.createElement(Qn,{containerServer:d,containerProvider:u,containerSourceURI:a.sourceURI,containerType:ri.pG.Track},y.createElement(P6,{title:(0,De.Z)("Popular Tracks")}),y.createElement(L9,null),y.createElement("div",{ref:c},y.createElement(Xr,{items:a.items},y.createElement(kc,{keyPropName:"listItemKey",items:a.items,totalSize:g,layout:b,cellComponentFactory:E,viewportHeight:o.height,viewportWidth:o.width,scrollTop:o.scrollTop-l,scrollLeft:o.scrollLeft,onPageRequest:M}))),y.createElement(L9,null),y.createElement("div",{className:"PrePlayPopularList-moreContainer-1GYuFK"},g<m?y.createElement(xn,{onPress:S},(0,De.Z)("Show More")):null))):null}function W8({metadataItem:e,onHubsReady:t}){const{summary:n,Country:i,Genre:s,Style:r}=e,[a,o]=t8(2,t);return y.createElement(y.Fragment,null,y.createElement(r9,{metadataItem:e},y.createElement(J9,null,y.createElement($9,null,y.createElement(mi,{metadataItem:e,allowLink:!1})),y.createElement(Y9,{metadataItem:e})),y.createElement(e8,null,y.createElement(q9,{metadataItem:e})),y.createElement(q6,{metadataItem:e,promotedActions:["isPlayVisible","isPlayRadioVisible","isAddToPlaylistVisible","isSyncDownloadVisible","isEditVisible"]}),n?y.createElement(C9,null,n):null,y.createElement(a9,null,(null==i?void 0:i.length)?y.createElement(o9,{label:(0,De.Z)("Country")},y.createElement(E9,{metadataItem:e,tagName:"Country",limit:2})):null,(null==s?void 0:s.length)?y.createElement(o9,{label:(0,De.Z)("Genre")},y.createElement(E9,{metadataItem:e,tagName:"Genre",limit:3})):null,(null==r?void 0:r.length)?y.createElement(o9,{label:(0,De.Z)("Style")},y.createElement(E9,{metadataItem:e,tagName:"Style",limit:3})):null),y.createElement(b9,{metadataItem:e})),y.createElement(Y8,null),y.createElement(V8,{metadataItem:e}),y.createElement(Q8,null),y.createElement(Q9,{metadataItem:e,onHubsReady:o}),y.createElement(H9,{metadataItem:e,onHubsReady:a}))}function K8({metadataItem:e,onHubsReady:t}){const{summary:n}=e;return y.createElement(y.Fragment,null,y.createElement(r9,{metadataItem:e},y.createElement(J9,null,y.createElement($9,null,y.createElement(mi,{metadataItem:e,allowLink:!1})),y.createElement(Y9,{metadataItem:e})),y.createElement(e8,null,y.createElement(q9,{metadataItem:e})),y.createElement(q6,{metadataItem:e,promotedActions:["isPlayVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),n?y.createElement(C9,null,n):null,y.createElement(b9,{metadataItem:e})),y.createElement(Q9,{metadataItem:e,onHubsReady:t}))}function q8({metadataItem:e,onHubsReady:t}){const{title:n,summary:i,minYear:s,maxYear:r}=e,a=!(!s||!r||s===r),o=!(!r||s!==r);return y.createElement(y.Fragment,null,y.createElement(r9,{metadataItem:e},y.createElement(J9,null,n),y.createElement(X9,null,a||o?y.createElement(y.Fragment,null,a?`${s} — ${r}`:r):null),y.createElement(e8,null,y.createElement(q9,{metadataItem:e})),y.createElement(q6,{metadataItem:e,promotedActions:["isPlayVisible","isPlayTrailerVisible","isShuffleVisible","isSyncDownloadVisible","isEditVisible"]}),i?y.createElement(C9,null,i):null,y.createElement(b9,{metadataItem:e})),y.createElement(V8,{metadataItem:e}),y.createElement(Q9,{metadataItem:e,onHubsReady:t}))}function $8(e,t,n){const i=e/1e3;return n<i?(0,De.Z)("Aired"):t<=i&&n>=i?(0,De.Z)("Airing"):(0,De.Z)("Airs")}function J8({metadataItem:e}){const t=(0,f.v9)(rs("timeFormat")),n=ss(),i=is(e);if(!i)return null;const{Channel:s}=e,{videoResolution:r,beginsAt:a,endsAt:o,channelID:l}=i,c=null==s?void 0:s.find((e=>e.id===l));return y.createElement(a9,null,r?y.createElement(o9,{label:(0,De.Z)("Video")},function(e){const t=parseInt(e,10);return t>=720||4===t||8===t}(r)?(0,De.Z)("HD"):(0,De.Z)("SD")):null,null!=a&&null!=o?y.createElement(o9,{label:$8(n,a,o)},Wi({now:n,beginsAt:a,endsAt:o,channel:null==c?void 0:c.tag,timeFormat:t,showFullTime:!0,showChannel:!0})):null)}function X8({metadataItem:e,onHubsReady:t}){const{summary:n}=e;return y.createElement(y.Fragment,null,y.createElement(r9,{aspectRatio:oi,metadataItem:e},y.createElement(J9,null,y.createElement(Qs,{metadataItem:e})),y.createElement(X9,null,y.createElement(ir,{metadataItem:e}),y.createElement(tr.Z,{separator:"—"}),y.createElement(mi,{metadataItem:e,allowLink:!1})),y.createElement(e8,null,y.createElement(q9,{metadataItem:e})),y.createElement(q6,{metadataItem:e,promotedActions:["isRecordVisible","isPlayVisible"]}),n?y.createElement(C9,null,n):null,y.createElement(J8,{metadataItem:e})),y.createElement(Q9,{metadataItem:e,onHubsReady:t}))}const e7="PrePlayCastList-rounded-3uztdw",t7="PrePlayCastList-title-2_pobk MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m";var n7=Object.prototype.hasOwnProperty,i7=Object.getOwnPropertySymbols,s7=Object.prototype.propertyIsEnumerable,r7=Object.assign;function a7(e){var{server:t,provider:n,contentDirectory:i,metadataItem:s,item:r}=e,a=((e,t)=>{var n={};for(var i in e)n7.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&i7)for(var i of i7(e))t.indexOf(i)<0&&s7.call(e,i)&&(n[i]=e[i]);return n})(e,["server","provider","contentDirectory","metadataItem","item"]);const o=Br(a),l=(0,f.v9)(Me),[c,d]=aa();if(!r)return null;const{thumb:u,tag:p}=r,m=l?S9({tag:r,contentDirectory:i,server:t,provider:n,metadataNumericType:jb(s.type),fallbackFilter:"actor"}):M9({tag:r,contentDirectory:i,server:t,provider:n,metadataNumericType:jb(s.type),fallbackFilter:"actor"}),h=a.cellWidth;return y.createElement("div",{style:o.style},y.createElement(qn,{className:"PrePlayCastList-card-plWaxr PosterCard-card-2-REtd PrePlayCastList-rounded-3uztdw",ref:d},u?y.createElement(ft.Z,{className:e7,serverEntityID:t.entityID,providerEntityID:n.entityID,url:u,width:h,height:h,component:mt.Z,preloadOnMount:!1,animateOnMount:!1}):y.createElement(aJ,{className:e7,name:r.tag,width:h,height:h}),m?y.createElement(Aa,{isHovered:c,className:"PrePlayCastList-link-34Se2B PosterCardLink-link-2mWlqA Link-link-2WGTd7 PrePlayCastList-rounded-3uztdw",hoverClassName:"PrePlayCastList-hoveredLink-3YtGyE PosterCardLink-hoveredLink-3BYG1D PosterCardLink-link-2mWlqA Link-link-2WGTd7 PrePlayCastList-rounded-3uztdw",to:m}):null),y.createElement("div",{className:"PrePlayCastList-titleContainer-3hywG-"},m?y.createElement(xn,{className:t7,to:m,title:p},p):y.createElement("span",{className:t7,title:p},p),r.role?y.createElement("span",{className:"PrePlayCastList-role-1IlGcW PrePlayCastList-title-2_pobk MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m MetadataPosterCardTitle-isSecondary-3Nh6J0",title:r.role},r.role):null))}function o7({metadataItem:e}){const[t,n,i]=cn(),s=(0,f.v9)(gp),{Role:r}=e,a=(0,y.useMemo)((()=>Gu({listType:Bt.U.Person,columnWidth:s,titleCount:2})),[s]),o=(0,y.useCallback)((s=>y.createElement(a7,r7(r7({},s),{metadataItem:e,server:t,provider:n,contentDirectory:i}))),[i,e,n,t]);return y.createElement(hp,{hub:{title:(0,De.Z)("Cast"),sourceURI:C.Z.join([e.sourceURI,"castList"])},totalSize:null==r?void 0:r.length,items:null!=r?r:[],layout:a,cellComponentFactory:o})}function l7({metadataItem:e,onHubsReady:t}){const{year:n,summary:i,Genre:s}=e;return y.createElement(y.Fragment,null,y.createElement(r9,{metadataItem:e},y.createElement(J9,null,y.createElement(mi,{metadataItem:e,allowLink:!1})),y.createElement(X9,null,n),y.createElement(e8,null,y.createElement(q9,{metadataItem:e})),y.createElement(q6,{metadataItem:e,promotedActions:["isRecordVisible","isPlayVisible"]}),i?y.createElement(C9,null,i):null,y.createElement(a9,null,(null==s?void 0:s.length)?y.createElement(o9,{label:(0,De.Z)("Genre")},y.createElement(E9,{metadataItem:e,tagName:"Genre",limit:3})):null),y.createElement(J8,{metadataItem:e})),y.createElement(o7,{metadataItem:e}),y.createElement(Q9,{metadataItem:e,onHubsReady:t}))}function c7({metadataItem:e,onHubsReady:t}){const{title:n,summary:i,Genre:s}=e;return y.createElement(y.Fragment,null,y.createElement(r9,{metadataItem:e},y.createElement(J9,null,n),y.createElement(e8,null,y.createElement(q9,{metadataItem:e})),y.createElement(q6,{metadataItem:e,promotedActions:["isRecordVisible","isPlayVisible"]}),i?y.createElement(C9,null,i):null,y.createElement(a9,null,(null==s?void 0:s.length)?y.createElement(o9,{label:(0,De.Z)("Genre")},y.createElement(E9,{metadataItem:e,tagName:"Genre",limit:3})):null),y.createElement(b9,{metadataItem:e})),y.createElement(V8,{metadataItem:e}),y.createElement(o7,{metadataItem:e}),y.createElement(Q9,{metadataItem:e,onHubsReady:t}))}function d7({className:e,metadataItem:t}){const n=(0,Bs.Z)({useLongName:!0,episodeIndex:t.index,date:t.originallyAvailableAt,noLeadingZero:!0});return y.createElement("span",{className:e},y.createElement("span",{title:t.title},n))}function u7({className:e="PrePlayLowerContent-container-2JE4eA",children:t}){return y.createElement("div",{className:e},t)}function p7({metadataItem:e,onHubsReady:t}){const{summary:n,originallyAvailableAt:i,Writer:s,Director:r}=e,[a,o]=t8(2,t);return y.createElement(y.Fragment,null,y.createElement(r9,{metadataItem:e},y.createElement(J9,null,y.createElement($9,null,y.createElement(Qs,{metadataItem:e})),y.createElement(Y9,{metadataItem:e})),y.createElement(X9,null,y.createElement(Ks,{metadataItem:e})),y.createElement(X9,null,y.createElement(d7,{metadataItem:e}),y.createElement(tr.Z,{separator:"·"}),y.createElement(mi,{metadataItem:e,allowLink:!1})),y.createElement(e8,null,y.createElement(q9,{metadataItem:e}))),y.createElement(u7,null,y.createElement(q6,{metadataItem:e,promotedActions:["isPlayVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),n?y.createElement(C9,null,n):null,y.createElement(a9,null,(null==r?void 0:r.length)?y.createElement(kL,{label:(0,De.Z)("Directed by")},y.createElement(E9,{metadataItem:e,tagName:"Director",limit:2})):null,(null==s?void 0:s.length)?y.createElement(kL,{label:(0,De.Z)("Written by")},y.createElement(E9,{metadataItem:e,tagName:"Writer",limit:2})):null,i?y.createElement(kL,{label:(0,De.Z)("Released")},y.createElement(fs,{metadataItem:e})):null),y.createElement(b9,{metadataItem:e})),y.createElement(H9,{metadataItem:e,onHubsReady:a}),y.createElement(Q9,{metadataItem:e,onHubsReady:o}))}function m7({metadataItem:e,onHubsReady:t}){const{summary:n}=e;return y.createElement(y.Fragment,null,y.createElement(r9,{metadataItem:e},y.createElement(J9,null,y.createElement(Qs,{metadataItem:e})),y.createElement(X9,null,y.createElement(d7,{metadataItem:e}),y.createElement(tr.Z,{separator:"·"}),y.createElement(mi,{metadataItem:e,allowLink:!1})),y.createElement(e8,null,y.createElement(q9,{metadataItem:e})),y.createElement(q6,{metadataItem:e,promotedActions:["isPlayVisible","isSyncDownloadVisible"]})),y.createElement(u7,null,n?y.createElement(C9,{dangerouslySetInnerHTML:{__html:n}}):null),y.createElement(Q9,{metadataItem:e,onHubsReady:t}))}function h7({className:e="PrePlayDetailsColumn-container-1hJqha",children:t}){return y.createElement("div",{className:e},t)}var g7=n(71760),y7=n(46174),v7=n(84597),f7=n(28713),I7=n(29557);const b7="PrePlayReviewList-title-1t25df MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m";var M7=Object.prototype.hasOwnProperty,S7=Object.getOwnPropertySymbols,E7=Object.prototype.propertyIsEnumerable,D7=Object.assign;const C7={certified:g7,fresh:v7,rotten:f7,spilled:I7,upright:y7},P7=parseInt(ku.Z.v4PagePadding,10);function w7(e){var{server:t,provider:n,item:i}=e;const s=Br(((e,t)=>{var n={};for(var i in e)M7.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&S7)for(var i of S7(e))t.indexOf(i)<0&&E7.call(e,i)&&(n[i]=e[i]);return n})(e,["server","provider","item"]));if(!i)return null;const{text:r,tag:a,source:o,image:l,link:c}=i,d=l?l.substr(l.lastIndexOf(".")+1):"",u=C7[d];return y.createElement(qn,{className:"PrePlayReviewList-card-xBOfjI PosterCard-card-2-REtd",style:s.style},y.createElement("div",{className:"PrePlayReviewList-details-1Eq7iG"},u?y.createElement("img",{className:"PrePlayReviewList-ratingImg-37KuoF",src:u}):null,y.createElement("div",{className:"PrePlayReviewList-titleContainer-1Cam-L"},c?y.createElement(xn,{to:c,target:"_blank",rel:"noopener noreferrer",className:b7},o):y.createElement("div",{className:b7},o),y.createElement("div",{className:"PrePlayReviewList-author-2B8dXl PrePlayReviewList-title-1t25df MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m MetadataPosterCardTitle-isSecondary-3Nh6J0"},a))),y.createElement("div",{className:"PrePlayReviewList-reviewContainer-fDVrAL"},r))}function T7({metadataItem:e}){const[t,n]=cn(),{Review:i}=e,s=(0,y.useMemo)((()=>Au({columnWidth:350,rowHeight:220,innerHorizontalPadding:30,outerPaddingLeft:P7,outerPaddingRight:P7})),[]),r=(0,y.useCallback)((e=>y.createElement(w7,D7(D7({},e),{server:t,provider:n}))),[n,t]);return y.createElement(hp,{hub:{title:(0,De.Z)("Reviews"),sourceURI:C.Z.join([e.sourceURI,"reviewList"])},totalSize:null==i?void 0:i.length,items:null!=i?i:[],layout:s,cellComponentFactory:r})}function Z7({metadataItem:e,onHubsReady:t}){const{year:n,summary:i,Country:s,Director:r,Genre:a,Platform:o,Publisher:l}=e,[c,d]=t8(2,t);return y.createElement(y.Fragment,null,y.createElement(r9,{metadataItem:e,isProgressBarHidden:!0},y.createElement(J9,null,y.createElement($9,null,y.createElement(mi,{metadataItem:e,allowLink:!1})),y.createElement(Y9,{metadataItem:e})),y.createElement(X9,null,n),y.createElement(e8,null,y.createElement(q9,{metadataItem:e})),y.createElement(q6,{metadataItem:e,promotedActions:["isPlayVisible","isEditVisible"]}),i?y.createElement(C9,null,i):null,y.createElement(h7,null,y.createElement(a9,null,(null==o?void 0:o.length)?y.createElement(o9,{label:(0,De.Z)("Platform")},y.createElement(E9,{metadataItem:e,tagName:"Platform",limit:2})):null,(null==l?void 0:l.length)?y.createElement(o9,{label:(0,De.Z)("Publisher")},y.createElement(E9,{metadataItem:e,tagName:"Publisher",limit:2})):null,(null==r?void 0:r.length)?y.createElement(o9,{label:(0,De.Z)("Developer")},y.createElement(E9,{metadataItem:e,tagName:"Director",limit:2})):null,(null==s?void 0:s.length)?y.createElement(o9,{label:(0,De.Z)("Country")},y.createElement(E9,{metadataItem:e,tagName:"Country",limit:2})):null,(null==a?void 0:a.length)?y.createElement(o9,{label:(0,De.Z)("Genre")},y.createElement(E9,{metadataItem:e,tagName:"Genre",limit:3})):null))),y.createElement(o7,{metadataItem:e}),y.createElement(T7,{metadataItem:e}),y.createElement(Q8,null),y.createElement(H9,{metadataItem:e,onHubsReady:c}),y.createElement(Q9,{metadataItem:e,onHubsReady:d}))}function N7({metadataItem:e,onHubsReady:t}){const{year:n,summary:i,Director:s,Writer:r,Genre:a}=e,[o,l]=t8(2,t);return y.createElement(y.Fragment,null,y.createElement(r9,{metadataItem:e},y.createElement(J9,null,y.createElement($9,null,y.createElement(mi,{metadataItem:e,allowLink:!1})),y.createElement(Y9,{metadataItem:e})),y.createElement(X9,null,n),y.createElement(e8,null,y.createElement(q9,{metadataItem:e})),y.createElement(q6,{metadataItem:e,promotedActions:["isPlayVisible","isPlayTrailerVisible","isAddToWatchlistVisible","isRemoveFromWatchlistVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),i?y.createElement(C9,null,i):null,y.createElement(h7,null,y.createElement(a9,null,(null==s?void 0:s.length)?y.createElement(o9,{label:(0,De.Z)("Directed by")},y.createElement(E9,{metadataItem:e,tagName:"Director",limit:2})):null,(null==r?void 0:r.length)?y.createElement(o9,{label:(0,De.Z)("Written by")},y.createElement(E9,{metadataItem:e,tagName:"Writer",limit:2})):null,y.createElement(D9,{label:(0,De.Z)("Studio"),metadataItem:e}),(null==a?void 0:a.length)?y.createElement(o9,{label:(0,De.Z)("Genre")},y.createElement(E9,{metadataItem:e,tagName:"Genre",limit:3})):null),y.createElement(b9,{metadataItem:e}))),y.createElement(o7,{metadataItem:e}),y.createElement(T7,{metadataItem:e}),y.createElement(Q8,null),y.createElement(H9,{metadataItem:e,onHubsReady:o}),y.createElement(Q9,{metadataItem:e,onHubsReady:l}))}function A7({metadataItem:e}){const{summary:t}=e;return y.createElement(y.Fragment,null,y.createElement(r9,{metadataItem:e},y.createElement(J9,null,y.createElement($9,null,y.createElement(Ks,{metadataItem:e})),y.createElement(Y9,{metadataItem:e})),y.createElement(X9,null,y.createElement(mi,{metadataItem:e,allowLink:!1})),y.createElement(e8,null,y.createElement(q9,{metadataItem:e})),y.createElement(q6,{metadataItem:e,promotedActions:["isPlayVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),t?y.createElement(C9,null,t):null,y.createElement(b9,{metadataItem:e})),y.createElement(V8,{metadataItem:e}))}function x7({metadataItem:e,onHubsReady:t}){const{year:n,summary:i,Genre:s}=e;return y.createElement(y.Fragment,null,y.createElement(r9,{metadataItem:e},y.createElement(J9,null,y.createElement($9,null,y.createElement(mi,{metadataItem:e,allowLink:!1})),y.createElement(Y9,{metadataItem:e})),y.createElement(X9,null,n),y.createElement(e8,null,y.createElement(q9,{metadataItem:e})),y.createElement(q6,{metadataItem:e,promotedActions:["isPlayVisible","isPlayTrailerVisible","isAddToWatchlistVisible","isRemoveFromWatchlistVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),i?y.createElement(C9,null,i):null,y.createElement(a9,null,y.createElement(D9,{label:(0,De.Z)("Studio"),metadataItem:e}),(null==s?void 0:s.length)?y.createElement(o9,{label:(0,De.Z)("Genre")},y.createElement(E9,{metadataItem:e,tagName:"Genre",limit:3})):null),y.createElement(b9,{metadataItem:e})),y.createElement(V8,{metadataItem:e}),y.createElement(o7,{metadataItem:e}),y.createElement(Q8,null),y.createElement(Q9,{metadataItem:e,onHubsReady:t}))}function L7({metadataItem:e,onHubsReady:t}){const{summary:n,Genre:i}=e;return y.createElement(y.Fragment,null,y.createElement(r9,{metadataItem:e},y.createElement(J9,null,y.createElement(mi,{metadataItem:e,allowLink:!1})),y.createElement(q6,{metadataItem:e,promotedActions:["isPlayVisible","isAddToSavedVisible","isSyncDownloadVisible"]}),n?y.createElement(C9,{dangerouslySetInnerHTML:{__html:n}}):null,y.createElement(a9,null,(null==i?void 0:i.length)?y.createElement(o9,{label:(0,De.Z)("Genre")},y.createElement(E9,{metadataItem:e,tagName:"Genre",limit:3})):null),y.createElement(b9,{metadataItem:e})),y.createElement(V8,{metadataItem:e}),y.createElement(o7,{metadataItem:e}),y.createElement(Q8,null),y.createElement(Q9,{metadataItem:e,onHubsReady:t}))}const O7=(0,y.memo)((function({metadataItem:e,onHubsReady:t}){const n=function(e){const{type:t,subtype:n}=e;if(ma(e))switch(t){case ri.pG.Movie:return l7;case ri.pG.Show:return c7;case ri.pG.Episode:return X8}switch(n){case ri.y_.Clip:switch(t){case ri.pG.Movie:return K8}break;case ri.y_.Webshow:case ri.y_.Podcast:switch(t){case ri.pG.Show:return L7;case ri.pG.Episode:case ri.pG.Track:return m7}}switch(t){case ri.pG.Movie:return N7;case ri.pG.Show:return x7;case ri.pG.Season:return A7;case ri.pG.Episode:return p7;case ri.pG.Artist:return W8;case ri.pG.Album:return n8;case ri.pG.Collection:return q8;case ri.pG.Game:return Z7}}(e);return n?y.createElement(n,{metadataItem:e,onHubsReady:t}):y.createElement(Fe,{title:(0,De.Z)("Missing details"),description:(0,De.Z)("Pardon our dust. This item is lacking a details page.")})}));var j7=Object.assign;function k7(){const[e,t]=(0,y.useState)(!1),[n,i]=cn(),{metadata:{metadataItem:s,isPopulated:r,error:a}}=(0,f.v9)(S6),o=E6(),[l,{height:c}]=(0,Mp.Z)(),[d,{width:u,height:p}]=(0,Mp.Z)(),[m,h]=(0,y.useState)({scrollTop:0,scrollLeft:0}),g=(0,y.useCallback)((e=>{h(e)}),[]),{scrollRestoreProps:v,onScrollPositionReady:I}=gn({key:"PrePlayPage",onScrollPositionChange:g}),b=(0,y.useCallback)((()=>{t(!0)}),[t]);return(0,y.useEffect)((()=>{e&&I()}),[e,I]),!r&&!a||o&&!o.isPopulated&&!o.error?y.createElement(Ve,null,y.createElement(qe,null)):a||!s||(null==o?void 0:o.error)?y.createElement(He,null):y.createElement(Qn,{containerServer:n,containerProvider:i,containerSourceURI:s.sourceURI,containerType:s.type,containerSubtype:s.subtype},y.createElement(Wp,j7({ref:l},v),y.createElement("div",{className:"PrePlayPageContent-prePlayContentWrapper-3F9n8W",ref:d},y.createElement(b6,{width:u,height:c,contentHeight:p,scrollTop:m.scrollTop,scrollLeft:m.scrollLeft},y.createElement(O7,{metadataItem:s,onHubsReady:b})))))}function R7(){const{siblingListSourceURI:e}=(0,f.v9)(S6),t=(0,y.useMemo)((()=>e?wl(e):()=>{}),[e]);return(0,f.v9)(t)}function z7(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-sibling-nav-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M5 39.36H43.4V43.2H5V39.36ZM5 27.84H43.4V31.68H5V27.84ZM5.00104 16.32H43.4V20.16H5.00104V16.32ZM5 4.79999H43.4V8.63999H5V4.79999Z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}z7.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const U7=z7;function V7({server:e,provider:t,metadataItem:n,metricsContextTuple:i}){const s=iN(),r=R7();if(!r)return null;const{items:a}=r,o=!n;return y.createElement(y.Fragment,null,y.createElement(Rb.Z,{id:s.menuButtonID,isDisabled:o,onPress:s.onMenuButtonPress},y.createElement(U7,null),y.createElement(gc.Z,{className:o?"PrePlayPageHeaderSiblingMenu-disabledDisclosureArrow-2FgCEh PrePlayPageHeaderSiblingMenu-disclosureArrow-3DQZAb DisclosureArrow-disclosureArrow-11pOBF":"PrePlayPageHeaderSiblingMenu-disclosureArrow-3DQZAb DisclosureArrow-disclosureArrow-11pOBF",direction:s.isMenuOpen?yc.UP:yc.WV})),y.createElement(mo.Z,{isOpen:s.isMenuOpen,target:s.menuButtonID,size:vc.ln,onMenuClose:s.onMenuClose},a.map((r=>y.createElement(Ic.Z,{key:r.key,to:(0,ui.Z)(e,t,r.key,{context:(0,xt.VJ)(i)},null==n?void 0:n.playlistType),isSelected:r.key===(null==n?void 0:n.key),onPress:s.onMenuClose},r.type===ri.pG.Episode?y.createElement(y.Fragment,null,y.createElement(mg,{metadataItem:r}),y.createElement(tr.Z,null)):null,r.title)))))}function B7({metadataItem:e}){const[t,n]=cn(),{metricsContextTuple:i}=(0,xt.Zn)(),s=R7();if(!s||s.items.length<2)return null;const{items:r}=s,a=r.findIndex((t=>t.key===(null==e?void 0:e.key))),o=a<0?a:a+1,l=r[a<0?a:a-1],c=r[o],d={context:(0,xt.VJ)(i)};return y.createElement(y.Fragment,null,y.createElement(cV,null),y.createElement("div",null,y.createElement(Rb.Z,{"data-qa-id":"toolbarPrevious",to:(0,ui.Z)(t,n,null==l?void 0:l.key,d),isDisabled:!l},y.createElement(pp,null)),y.createElement(V7,{metadataItem:e,server:t,provider:n,metricsContextTuple:i}),y.createElement(Rb.Z,{"data-qa-id":"toolbarNext",to:(0,ui.Z)(t,n,null==c?void 0:c.key,d),isDisabled:!c},y.createElement(dp,null))))}var F7=Object.assign;function H7(){const e=(0,f.I0)(),{metadata:{metadataItem:t,isPopulated:n}}=(0,f.v9)(S6),i=(0,f.v9)(rs("showPrePlayArtwork")),s=(0,f.v9)(rs("prePlayListStyles")),r=(0,f.v9)(k8),a=(0,f.v9)(z8),o=(0,f.v9)(R8),l=(0,y.useCallback)((t=>{if(!r)return;const n=F7(F7({},s),{[r]:t});(0,Rt.c9)((()=>{e((0,Nv.LN)({prePlayListStyles:n}))}))}),[e,s,r]),c=(0,f.v9)(ch),d=(0,y.useCallback)((()=>{e((0,Nv.LN)({showPrePlayArtwork:!i}))}),[e,i]);return c?y.createElement(Gh,null):y.createElement(Ph,{className:"PrePlayPageHeader-pageHeader-3tBIsY PageHeader-pageHeader-WpvbJc"},y.createElement(WR.Z,null,n?y.createElement($E,null):null),y.createElement(fk,null,(null==t?void 0:t.grandparentArt)||(null==t?void 0:t.parentArt)||(null==t?void 0:t.art)?y.createElement(y.Fragment,null,y.createElement(dV,null,y.createElement(Rb.Z,{tooltip:i?(0,De.Z)("Blur Background"):(0,De.Z)("Show Background"),isSelected:i,onPress:d},y.createElement(X5,null))),y.createElement(cV,null)):null,a&&o.length>1?y.createElement(SM,{listStyles:o,selectedListStyle:a,onListStyleSelect:l}):y.createElement(SM,{listStyles:[Bt.n.PrePlayGrid],selectedListStyle:Bt.n.PrePlayGrid}),y.createElement(B7,{metadataItem:t})))}function _7({machineIdentifier:e,providerIdentifier:t,metadataKey:n}){const i=(0,f.I0)(),s=(0,f.v9)(on(e)),r=(0,f.v9)(en(e,t)),{metadata:{metadataItem:a,isPopulated:o,isStale:l}}=(0,f.v9)(S6),c=a?function(e,t){var n;const i=(0,Ft.Z)(e,At.zW.Content);if(!i)return;const s=null!=(n=null==i?void 0:i.directories)?n:[];if(e.protocols.includes(At.rn.LiveTV))return s.find((e=>e.hubKey&&!e.key));const{librarySectionID:r,isPlaylist:a}=t;return r?s.find((e=>!!e.id&&e.id===r)):a?s.find((e=>e.type===ri.pG.Playlist)):void 0}(r,a):void 0,d=ii((0,jt.Z)({serverIdentifier:s.machineIdentifier,providerIdentifier:r.identifier,key:n})),u=(0,f.v9)(rs("showPrePlayArtwork")),p=(0,f.v9)(rs("playThemeMusic")),m=(0,f.v9)(AP);return $l({identifier:r.metricsIdentifier,type:null==a?void 0:a.type},o),(0,y.useEffect)((()=>(d.isDeleted?i((0,pn.n)({replace:!0})):i(B9.actions.metadataItemFetchRequested({server:s,provider:r,metadataKey:n})),()=>{(0,Rt.c9)((()=>{i(B9.actions.reset())}))})),[n,d.isDeleted]),(0,y.useEffect)((()=>{(l||d.isStale)&&i(B9.actions.metadataItemRepopulateRequested({server:s,provider:r}))}),[l,d.isStale]),(0,y.useEffect)((()=>{if(!a)return;const e=a.thumb||a.parentThumb||a.grandparentThumb,t=a.grandparentArt||a.parentArt||a.art,n=u?t||e:e||t;i((0,mn.ZZ)({serverEntityID:s.entityID,providerEntityID:r.entityID,imageUrl:n,allowBlur:!u||!t}))}),[i,a,r.entityID,s.entityID,u]),(0,y.useEffect)((()=>{if(!a||!p)return;const e=a.grandparentTheme||a.parentTheme||a.theme;i((0,mn.ZX)({serverEntityID:s.entityID,providerEntityID:r.entityID,theme:e}))}),[i,a,p,r.entityID,s.entityID]),(0,y.useEffect)((()=>{if(a&&a.librarySectionID)return i((0,Ut.changeQuickSearchSettings)({serverEntityID:s.entityID,providerEntityID:r.entityID,providerIdentifier:r.identifier,directoryID:a.librarySectionID})),()=>{i((0,Ut.changeQuickSearchSettings)({serverEntityID:null,providerEntityID:null,providerIdentifier:null,directoryID:null}))}}),[i,a,r.entityID,r.identifier,t,s.entityID]),(0,y.useEffect)((()=>{a&&m&&i((0,Ka.redispatchLegacyMetadataAction)({server:s,provider:r,metadataItem:a,metadataItemState:d,legacyAction:ww()}))}),[i,m,a,d,r,s]),y.createElement(dn,{machineIdentifier:e,providerIdentifier:t,contentDirectoryID:null==c?void 0:c.id},y.createElement(En,{allowBackgroundPreset:!1,scrollDirection:Ne.None},y.createElement(H7,null),y.createElement(k7,null)))}function Q7(){const{machineIdentifier:e,providerIdentifier:t}=Fz(),n=(0,Ee.Z)(),i=(0,Hz.Z)(n.key);return y.createElement(Xz,{machineIdentifier:e,providerIdentifier:t},i?y.createElement(xt.ZP,{metricsPage:et.sD,metricsContextParam:(0,Hz.Z)(n.context)},y.createElement(_7,{machineIdentifier:e,providerIdentifier:t,metadataKey:i})):y.createElement(yA.Z,null))}var G7=Object.prototype.hasOwnProperty,Y7=Object.getOwnPropertySymbols,W7=Object.prototype.propertyIsEnumerable;const K7=function(e){const{children:t,hasProvider:n,showSpinner:i,showError:s}=e,r=((e,t)=>{var n={};for(var i in e)G7.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Y7)for(var i of Y7(e))t.indexOf(i)<0&&W7.call(e,i)&&(n[i]=e[i]);return n})(e,["children","hasProvider","showSpinner","showError"]);if(i)return y.createElement(Gz.Z,null,y.createElement(RC.Z,null));if(s)return y.createElement(Yz.Z,{title:(0,De.Z)("There was an unexpected error")});if(!n)return y.createElement(yA.Z,null);const a=y.Children.only(t);return y.cloneElement(a,r)};var q7=Object.prototype.hasOwnProperty,$7=Object.getOwnPropertySymbols,J7=Object.prototype.propertyIsEnumerable,X7=Object.assign;const eee={dispatchFetchProvider:aS,dispatchPopulateProvider:oS};class tee extends y.Component{constructor(){super(...arguments),this.onPopulate=({serverEntityID:e,providerEntityID:t})=>{(0,Rt.c9)((()=>{this.props.dispatchPopulateProvider({providerEntityID:t,options:{merge:!0}})}))},this.onRepopulate=({serverEntityID:e,providerEntityID:t})=>{(0,Rt.c9)((()=>{this.props.dispatchFetchProvider({providerEntityID:t,options:{merge:!0}})}))}}componentDidMount(){this.props.isProvidersPopulated&&this.onPopulate({providerEntityID:this.props.providerEntityID})}componentWillReceiveProps(e){e.providerEntityID===this.props.providerEntityID&&e.isProvidersPopulated===this.props.isProvidersPopulated||this.onRepopulate({providerEntityID:e.providerEntityID})}render(){const e=this.props,{dispatchFetchProvider:t,dispatchPopulateProvider:n}=e,i=((e,t)=>{var n={};for(var i in e)q7.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&$7)for(var i of $7(e))t.indexOf(i)<0&&J7.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchFetchProvider","dispatchPopulateProvider"]);return y.createElement(K7,X7(X7({},i),{onRetry:this.onRepopulate}))}}const nee=(0,f.$j)((function(){return(0,de.P1)((0,UM.Z)(),(e=>e?{isProvidersPopulated:!0,hasProvider:!0,providerEntityID:e.entityID,isRetrying:!!e.isPending,showSpinner:!e.isPopulated&&!e.error,showError:!!e.error}:{isProvidersPopulated:!1,hasProvider:!1,isRetrying:!0,showSpinner:!0,showError:!1}))}),eee)(tee);function iee({children:e,className:t,metricsPage:n,metricsPane:i,scrollTop:s,onScrollPositionChange:r}){return y.createElement(LC.Z,{metricsPage:n,metricsProperties:{pane:i},scrollTop:s,onScrollPositionChange:r},y.createElement("div",{className:t},e))}iee.defaultProps={className:"SettingsPage-content-2rYCzy PageContent-pageContent-aqfjwt"};const see=iee;function ree(e){return y.createElement("h2",{className:e.className},e.children)}ree.defaultProps={className:"SettingsPageHeader-header-3Fk51v"};const aee=ree;var oee=n(69598),lee=n(43530);function cee(e,t){return e?e.split("|").map((e=>{const[n,i]=e.split(":");return["int"===t?parseInt(n,10):n,i]})):null}function dee(e,t){var n;return null==(n=cee(e,t))?void 0:n.map((([e,t])=>({[e]:t})))}function uee(e){var t;const n=pee(e),i=null==(t=cee(e.enumValues,e.type))?void 0:t.find((([e])=>e===n));return i?i[1]:null}function pee(e){var t;return null!=(t=e.value)?t:e.defaultValue}var mee=n(44963),hee=n(81151),gee=n(40084),yee=n(66734),vee=n(81093);const fee=(0,vee.Z)(mee.Z),Iee=function(e){const{labelText:t,helpText:n,options:i}=e;return y.createElement(hee.Z,null,y.createElement(yee.Z,null,t),n?y.createElement(gee.Z,{className:"MultiSelectInputGroup-help-23kEGc FormHelp-help-3mqNXG"},n):null,y.createElement("div",{className:"MultiSelectInputGroup-multiSelectContainer-389CBm"},i.map((e=>y.createElement("div",{key:e.key,className:"MultiSelectInputGroup-multiSelectItem-v6ctm2"},y.createElement(fee,{name:e.key,checkboxText:e.title,initialValue:e.selected}))))))};var bee=n(97701),Mee=n(3521);const See={input:"MaskedInput-input-DlMQ6g TextInput-input-M2gRCL input-input-26w-zg",small:"MaskedInput-small-2q0Pqk TextInput-small-3LZAgL input-small-3zRGhK",large:"MaskedInput-large-1Ijhds TextInput-large-uTPWre input-large-1FHirM",isDisabled:"MaskedInput-isDisabled-25VbMD TextInput-isDisabled-3zzfyz input-isDisabled-2htfpI",hasError:"MaskedInput-hasError-1bEl5H TextInput-hasError-3sRHm_ input-hasError-1qJlnz"};var Eee=Object.prototype.hasOwnProperty,Dee=Object.getOwnPropertySymbols,Cee=Object.prototype.propertyIsEnumerable,Pee=Object.assign;class wee extends y.Component{constructor(){super(...arguments),this.setInputRef=e=>{this.inputRef=e},this.onChange=e=>{this.textMaskInputElement.update(),this.props.onChange(this.textMaskInputElement.state.previousConformedValue)}}componentDidMount(){const{value:e}=this.props,{mask:t,guide:n,pipe:i,placeholderChar:s,keepCharPositions:r}=this.props;this.textMaskInputElement=(0,Mee.createTextMaskInputElement)({inputElement:this.inputRef,mask:t,guide:n,pipe:i,placeholderChar:s,keepCharPositions:r}),this.textMaskInputElement.update(e)}componentDidUpdate(){this.textMaskInputElement.update(this.props.value)}render(){const e=this.props,{className:t,errorClassName:n,disabledClassName:i,isDisabled:s,type:r,name:a,initialValue:o,value:l,size:c,mask:d,guide:u,pipe:p,placeholderChar:m,keepCharPositions:h,hasError:g,errors:v,validations:f,onChange:I}=e,b=((e,t)=>{var n={};for(var i in e)Eee.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Dee)for(var i of Dee(e))t.indexOf(i)<0&&Cee.call(e,i)&&(n[i]=e[i]);return n})(e,["className","errorClassName","disabledClassName","isDisabled","type","name","initialValue","value","size","mask","guide","pipe","placeholderChar","keepCharPositions","hasError","errors","validations","onChange"]);return y.createElement("input",Pee(Pee({},b),{className:we()(t,See[c],s&&i,g&&n),id:a,name:a,type:r,disabled:s,defaultValue:l,ref:this.setInputRef,onChange:this.onChange}))}}wee.defaultProps={className:See.input,errorClassName:See.hasError,disabledClassName:See.isDisabled,isDisabled:!1,size:vc.ln,type:"text",hasError:!1};const Tee=wee;class Zee extends y.Component{constructor(e,t){super(e,t),this.onCountryChange=e=>{const t=this._calculateLocationState(e,this.state.postalCode,this.props.countries);this.setState(t,(()=>{this.props.onChange({country:t.country,postalCode:t.postalCode})}))},this.onPostalCodeChange=e=>{this.setState({postalCode:e},(()=>{this.props.onChange({country:this.state.country,postalCode:e})}))},this.state=this._calculateLocationState(e.initialValue.country,e.initialValue.postalCode,e.countries)}componentWillReceiveProps(e){const t=this.state.country!==e.value.country,n=this.state.postalCode!==e.value.postalCode;if(this.props.countries!==e.countries||t||n){const t=this._calculateLocationState(e.value.country,e.value.postalCode,e.countries);this.setState(t)}}_getCountryOption(e,t){return t.find((t=>t.code===e))}_countryHasPostalCode(e,t){const n=this._getCountryOption(e,t);return n&&"postalcode"===n.flavor}_calculateLocationState(e,t,n){return{country:e,postalCode:this._countryHasPostalCode(e,n)&&t?t:""}}_getSelectInputValues(e){return e.map((e=>({[e.code]:e.title})))}_getPostalCodeMask(e,t){const n=this._getCountryOption(e,t).postalCodeFormat;return n?E().map(n,(e=>"N"===e?/\d/:/\./)):[]}render(){const{labelText:e,helpText:t,countries:n,showErrors:i,errors:s,onBlur:r}=this.props,{country:a,postalCode:o}=this.state,[l]=s,c=0===n.length,d=this._countryHasPostalCode(a,n);return y.createElement(hee.Z,null,y.createElement(yee.Z,{name:"country"},e),t?y.createElement(gee.Z,{className:"LocationSettingInputGroup-help-2ZOM1R FormHelp-help-3mqNXG"},t):null,y.createElement(o1.Z,{name:"country",value:a,values:this._getSelectInputValues(n),isDisabled:c,onChange:this.onCountryChange}),d?y.createElement(yee.Z,{name:"postalCode",hasError:i,className:"LocationSettingInputGroup-secondaryLabel-2DoWFB FormLabel-label-1WQL1E"},(0,De.Z)("Postal Code"),i&&l?` — ${l}`:null):null,d?y.createElement(Tee,{mask:this._getPostalCodeMask(a,n),name:"postalCode",value:o,isDisabled:c,hasError:i,onBlur:r,onChange:this.onPostalCodeChange}):null)}}const Nee=(0,vee.Z)(Zee);var Aee=n(62899),xee=Object.assign;const Lee=[function(e){if(e.postalCode&&!/^\d{5}$/.test(e.postalCode))return(0,De.Z)("Postal Code is not in correct format")}],Oee={playbackSpeed:Aee.H},jee=function e(t){const{id:n,type:i,multiselect:s,label:r,summary:a,country:o,locations:l,postalCode:c,value:d,options:u,enumValues:p,settings:m,parentSetting:h}=t;return n===RT.xy?y.createElement(oee.Z,{name:n,checkboxText:(0,De.Z)("Display the last 3 accessed channels in Guide"),checkedValue:3,uncheckedValue:0,initialValue:d}):i===VT?y.createElement("div",null,m.map((n=>n.hidden?null:y.createElement(e,xee(xee({key:n.id},n),{parentSetting:t}))))):i===zT?y.createElement(oee.Z,{name:n,labelText:h&&h.label||r,checkboxText:r,helpText:a,initialValue:d}):i===UT?y.createElement(bee.Z,{name:n,labelText:r,min:t.min,max:t.max,stepSize:t.step,initialValue:d,valueModifier:Oee[n]}):i===FT?y.createElement(Nee,{name:n,labelText:r,helpText:a,initialValue:{country:o,postalCode:c},validations:Lee,countries:l}):i===HT&&s?y.createElement(Iee,{labelText:r,helpText:a,options:u}):p?y.createElement(lee.Z,{name:n,labelText:r,helpText:a,initialValue:d,values:dee(p,i)}):(D.Z.warn("Unsupported provider setting type:[%s]",i),null)};var kee=n(18676);const Ree="SettingsFormSection-sectionWrapper-R0ePdw";function zee(e){const{children:t,className:n,onPress:i}=e;return y.createElement(AM.Z,{className:we()(Ree,n),component:"div",onPress:i},t)}function Uee(e){const{children:t,className:n}=e;return y.createElement("div",{className:we()(Ree,n)},t)}const Vee=function(e){const{errorMessage:t,children:n,className:i,onPress:s}=e,r=s?zee:Uee;return y.createElement(r,{className:i,onPress:s},t?y.createElement(Xk.Z,{errorMessage:t}):null,y.createElement("div",{className:"SettingsFormSection-section-1E12y7"},n))};function Bee(e){const{children:t,className:n}=e;return y.createElement("div",{className:n},t)}Bee.defaultProps={className:"SettingsFormSectionActionLinks-actionLinks-27IFpO"};const Fee=Bee,Hee=function(e){const{children:t,className:n,closedNode:i,errorMessage:s,isOpen:r,onTogglePress:a}=e;return y.createElement(Vee,{className:we()(r?"CloseableFormSection-isOpen-2d4j8q":"CloseableFormSection-isClosed-2WqBVq CloseableFormSection-isPressable-2ogaVI",n),errorMessage:r?s:null,onPress:r?null:a},y.createElement(Fee,null,r?y.createElement(AM.Z,{kind:fo._8,onPress:a},(0,De.Z)("Cancel")):null,r?null:y.createElement(AM.Z,{kind:fo._8},(0,De.Z)("Edit"))),r?t:i)};function _ee(e){const{className:t,children:n}=e;return y.createElement("div",{className:t},n)}_ee.defaultProps={className:"SettingsFormSectionDetails-sectionDetails-3c6R0T"};const Qee=_ee,Gee="SubmittableFormSection-label-nKxRPX FormLabel-label-1WQL1E CloseableFormSection-isPressable-2ogaVI";function Yee(e){const{className:t,children:n,closedNode:i,title:s,errorMessage:r,buttonKind:a,buttonText:o,isDirty:l,isOpen:c,isUpdating:d,showButton:u,showButtonEnabled:p,showSpinner:m,onFormChange:h,onSubmit:g,onTogglePress:v}=e;return y.createElement(Hee,{className:t,isOpen:c,errorMessage:r,closedNode:y.createElement(Qee,{className:"SubmittableFormSection-sectionDetails-2rubli CloseableFormSection-isPressable-2ogaVI SettingsFormSectionDetails-sectionDetails-3c6R0T"},y.createElement(yee.Z,{className:Gee},s),i),onTogglePress:v},m?y.createElement(yee.Z,{className:Gee},s):null,m?y.createElement("div",{className:"SubmittableFormSection-spinnerContainer-3DCHj1"},y.createElement(RC.Z,null)):null,!m&&u?y.createElement(kee.ZP,{onSubmit:g,onChange:h},n,y.createElement("div",{className:"SubmittableFormSection-submitButton-2P9z3-"},y.createElement(Gk.Z,{type:"submit",isDisabled:!p&&!l,isSpinning:d,kind:a},o||(0,De.Z)("Save Changes")))):null,m||u?null:n)}Yee.defaultProps={buttonKind:fo._8,showButton:!0,showButtonEnabled:!1};const Wee=tR(Yee,{isUpdatingPropName:"isUpdating",errorPropName:"errorMessage",clearDirtyOnChangePropName:"isOpen"});var Kee=Object.prototype.hasOwnProperty,qee=Object.getOwnPropertySymbols,$ee=Object.prototype.propertyIsEnumerable,Jee=Object.assign;const Xee=function(e){const{setting:t}=e,n=((e,t)=>{var n={};for(var i in e)Kee.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&qee)for(var i of qee(e))t.indexOf(i)<0&&$ee.call(e,i)&&(n[i]=e[i]);return n})(e,["setting"]);return y.createElement(Wee,Jee(Jee({},n),{closedNode:uee(t),initialValue:pee(t)}))};var ete=Object.prototype.hasOwnProperty,tte=Object.getOwnPropertySymbols,nte=Object.prototype.propertyIsEnumerable,ite=Object.assign;const ste=function(e){const{setting:t}=e,n=((e,t)=>{var n={};for(var i in e)ete.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&tte)for(var i of tte(e))t.indexOf(i)<0&&nte.call(e,i)&&(n[i]=e[i]);return n})(e,["setting"]);return y.createElement(Wee,ite({closedNode:t.summary},n))};function rte(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-eye-closed-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["g",void 0].concat([y.createElement.apply(y,["path",{d:"M522.454 280c-56.558 79.108-145.66 125.848-241.414 125.848-95.82 0-184.9884-46.756-241.5154-125.848H1l3.1852 4.958C65.863 381.112 169.368 438.512 281.034 438.512c111.642 0 215.126-57.4 276.788-153.578L561 280h-38.546z"}].concat([])),y.createElement.apply(y,["path",{d:"M269.018 436.36V520h29.56v-83.64zM383.556 414.76l34.616 83.904 27.21-11.884-34.616-83.906zM480.352 361.564l54.132 71.284 23.294-18.728-54.132-71.284zM154.4628 402.434l-31.0532 87.792 27.7794 10.4 31.053-87.79zM62.8262 345.216L8.3388 416.972l23.2936 18.726 54.4874-71.754z"}].concat([]))]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}rte.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const ate=rte;function ote(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-eye-open-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["g",void 0].concat([y.createElement.apply(y,["path",{d:"M556.022 268.128C550.718 261.908 431.676 120 280.22 120 128.766 120 9.7238 261.908 4.4198 268.128c-5.893 6.784-5.893 16.394 0 23.744C9.7238 298.092 128.766 440 280.22 440c151.456 0 270.498-142.474 275.802-148.128 5.304-6.784 5.304-16.96 0-23.744zM280.22 386.29c-61.288 0-110.79-47.492-110.79-106.29 0-58.798 49.502-106.29 110.79-106.29 61.29 0 110.792 47.492 110.792 106.29 0 58.798-49.502 106.29-110.792 106.29z"}].concat([])),y.createElement.apply(y,["path",{d:"M280.224 344.452c37.102 0 67.182-28.856 67.182-64.452s-30.08-64.454-67.182-64.454c-37.104 0-67.184 28.858-67.184 64.454 0 35.596 30.08 64.452 67.184 64.452z"}].concat([]))]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}ote.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const lte=ote,cte={item:"LineupChannel-item-2KzaQ9",label:"LineupChannel-label-hq2rUQ",title:"LineupChannel-title-33qGnK",iconReorder:"LineupChannel-iconReorder-30MICz",toggleButton:"LineupChannel-toggleButton-SBZJR1 AddOrRemoveButton-button-q1Kjze IconButton-button-2smHOM",thumb:"LineupChannel-thumb-QG8kyZ"};function dte(e){const{serverEntityID:t,providerEntityID:n,className:i,channelID:s,title:r,thumb:a,style:o,hidden:l,connectDragSource:c,onToggleHideChannel:d}=e,u=(0,y.useCallback)((()=>{d&&d(s)}),[s,d]),p=l?(0,De.Z)("Show"):(0,De.Z)("Hide");return y.createElement("div",{className:we()(i,l&&cte.isHidden),style:o},c(y.createElement("div",null,y.createElement(Ox,{className:cte.iconReorder}))),y.createElement(ft.Z,{serverEntityID:t,providerEntityID:n,className:cte.thumb,url:a,width:36,height:36,backgroundSize:"contain"}),y.createElement("span",{className:cte.label},y.createElement("span",{className:cte.title},r)),y.createElement(th.Z,{className:cte.toggleButton,component:GC.Z,iconComponent:l?ate:lte,ariaLabel:p,tooltip:p,onPress:u}))}dte.defaultProps={className:cte.item,connectDragSource:e=>e};const ute=dte;var pte=Object.prototype.hasOwnProperty,mte=Object.getOwnPropertySymbols,hte=Object.prototype.propertyIsEnumerable,gte=Object.assign;const yte=parseInt(ku.Z.lineupSettingChannelHeight,10);class vte extends y.Component{render(){const{item:e,style:t}=this.props;if(!e||!t)return null;const{listHeight:n,listWidth:i,listTop:s,listRight:r,listBottom:a,listLeft:o}=e,l=((e,t)=>{var n={};for(var i in e)pte.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&mte)for(var i of mte(e))t.indexOf(i)<0&&hte.call(e,i)&&(n[i]=e[i]);return n})(e,["listHeight","listWidth","listTop","listRight","listBottom","listLeft"]);return y.createElement(Mx,null,y.createElement(ute,gte(gte({},l),{style:t})))}}const fte=(0,gx.rE)((function(e){const t=e.getItem(),n={item:t,style:null},i=e.getInitialSourceClientOffset(),s=e.getSourceClientOffset();if(e.getItemType()===wx&&i&&s){let e=s.y;e-t.listTop<=0?e=t.listTop:e+yte>=t.listBottom&&(e=t.listBottom-yte),n.style=jV({x:i.x,y:e},t.listWidth)}return n}))(vte);var Ite=Object.prototype.hasOwnProperty,bte=Object.getOwnPropertySymbols,Mte=Object.prototype.propertyIsEnumerable,Ste=Object.assign;const Ete={beginDrag(e){const{channelID:t,serverEntityID:n,providerEntityID:i,title:s,thumb:r,hidden:a,listIndex:o,listHeight:l,listWidth:c,listTop:d,listRight:u,listBottom:p,listLeft:m}=e;return{dragIndex:o,channelID:t,serverEntityID:n,providerEntityID:i,title:s,thumb:r,hidden:a,listHeight:l,listWidth:c,listTop:d,listRight:u,listBottom:p,listLeft:m}},endDrag(e,t){e.onItemDragEnd({didDrop:t.didDrop()})}},Dte={hover(e,t,n){const i=t.getClientOffset(),s=(0,v.findDOMNode)(n).getBoundingClientRect(),r=(s.bottom-s.top)/2,a=i.y-s.top,o=t.getItem().dragIndex,l=e.listIndex;let c;c=l===o?l:a>r?l+1:l,e.onItemDragMove({dragIndex:o,dropIndex:c})}};class Cte extends y.Component{componentDidMount(){this.props.connectDragPreview((0,tL.rX)())}render(){const e=this.props,{isOver:t,isDragging:n,listIndex:i,dropIndex:s,listHeight:r,listWidth:a,listTop:o,listRight:l,listBottom:c,listLeft:d,isDraggingBefore:u,isDraggingAfter:p,connectDropTarget:m}=e,h=((e,t)=>{var n={};for(var i in e)Ite.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&bte)for(var i of bte(e))t.indexOf(i)<0&&Mte.call(e,i)&&(n[i]=e[i]);return n})(e,["isOver","isDragging","listIndex","dropIndex","listHeight","listWidth","listTop","listRight","listBottom","listLeft","isDraggingBefore","isDraggingAfter","connectDropTarget"]);return m(y.createElement("div",{className:we()("LineupChannelDragSource-container-1HS7WE",t&&"LineupChannelDragSource-isOver-1gCf2-",n&&Cn.fN,t&&u&&Cn.DT,t&&p&&Cn.QZ)},y.createElement(ute,Ste({},h))))}}const Pte=(0,gx.GR)(wx,Dte,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((0,gx.Ej)(wx,Ete,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(Cte));var wte=Object.assign;const Tte={dragIndex:-1,dropIndex:-1,hasValidDropTarget:!1};class Zte extends y.Component{constructor(e,t){super(e,t),this.onItemDragMove=e=>{const{dragIndex:t,dropIndex:n}=e,{dragIndex:i,dropIndex:s}=this.state;let r=n!==s?n:s;const a=t!==i?t:i;if((r===a||r>a&&r-a==1)&&(r=-1),a!==i||r!==s){const e={dragIndex:a,dropIndex:r,hasValidDropTarget:-1!==r};this.setState(e)}},this.onItemDragEnd=e=>{const{dragIndex:t,dropIndex:n}=this.state;let i;e.didDrop&&-1!==n&&(i=()=>{this.props.onReorderChannel({fromIndex:t,toIndex:n>t?n-1:n})}),this.setState(Tte,i)},this.onMeasure=e=>{const{height:t,width:n,x:i,y:s}=e;this.setState({listHeight:t,listWidth:n,listTop:s,listRight:i+n,listBottom:s+t,listLeft:i})},this.state=wte(wte({},Tte),{listHeight:0,listWidth:0,listTop:0,listRight:0,listBottom:0,listLeft:0})}render(){const{serverEntityID:e,providerEntityID:t,lineup:n,onToggleHideChannel:i}=this.props,{dropIndex:s,hasValidDropTarget:r}=this.state;return y.createElement(OC.Z,{onMeasure:this.onMeasure},y.createElement(wN.Z,{className:"SortableLineup-scroller-3A35gH Scroller-scroller-1krvWC",scrollDirection:vb.yZ},n.map(((n,a)=>{const{id:o,title:l,thumb:c,hidden:d}=n,u=a,p=r&&s===u,m=r&&s===u+1;return y.createElement(Pte,wte(wte({},this.state),{key:o,serverEntityID:e,providerEntityID:t,channelID:o,listIndex:u,title:l,thumb:c,hidden:d,hasValidDropTarget:r,isDraggingAfter:m,isDraggingBefore:p,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd,onToggleHideChannel:i}))})),y.createElement(fte,null)))}}const Nte=$O(Zte);var Ate=Object.prototype.hasOwnProperty,xte=Object.getOwnPropertySymbols,Lte=Object.prototype.propertyIsEnumerable,Ote=Object.assign;const jte=function(e){const{serverEntityID:t,providerEntityID:n,setting:i,onTogglePress:s,onSubmit:r}=e,a=((e,t)=>{var n={};for(var i in e)Ate.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&xte)for(var i of xte(e))t.indexOf(i)<0&&Lte.call(e,i)&&(n[i]=e[i]);return n})(e,["serverEntityID","providerEntityID","setting","onTogglePress","onSubmit"]),{summary:o,lineup:l,isLineupPending:c}=i,[d,u]=(0,y.useState)(l),[p,m]=(0,y.useState)(!1),h=(0,y.useCallback)((e=>{m(!0),u(d.map((t=>t.id===e?Ote(Ote({},t),{hidden:!t.hidden}):t)))}),[d]),g=(0,y.useCallback)((({fromIndex:e,toIndex:t})=>{e!==t&&(m(!0),u(pV(d,e,t)))}),[d]),v=(0,y.useCallback)((e=>{u(l),s(e)}),[l,s]),f=(0,y.useCallback)((()=>{const e=d.map((({id:e,hidden:t})=>({id:e,hidden:t})));r(e)}),[d,r]);return(0,y.useEffect)((()=>{c||u(l)}),[c,l]),y.createElement(Wee,Ote(Ote({},a),{closedNode:o,showSpinner:c,isDirty:p,onSubmit:f,onTogglePress:v}),y.createElement(gee.Z,{className:"ProviderSettingLineupFormSection-help-3CyfPA FormHelp-help-3mqNXG"},o),y.createElement(Nte,{serverEntityID:t,providerEntityID:n,lineup:d,onReorderChannel:g,onToggleHideChannel:h}))};var kte=Object.prototype.hasOwnProperty,Rte=Object.getOwnPropertySymbols,zte=Object.prototype.propertyIsEnumerable,Ute=Object.assign;class Vte extends y.Component{constructor(){super(...arguments),this.onSubmit=e=>{const{location:t}=e;this.props.onSubmit(t)}}_getCountryPostalCodeLabel(e,t){const n=[];return e?(n.push(e),t&&n.push(t),n.join(", ")):""}render(){const e=this.props,{setting:t}=e,n=((e,t)=>{var n={};for(var i in e)kte.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Rte)for(var i of Rte(e))t.indexOf(i)<0&&zte.call(e,i)&&(n[i]=e[i]);return n})(e,["setting"]);return y.createElement(Wee,Ute(Ute({closedNode:this._getCountryPostalCodeLabel(t.countryLabel,t.postalCode),showSpinner:t.isLocationsPending},n),{onSubmit:this.onSubmit}))}}const Bte=Vte;var Fte=Object.prototype.hasOwnProperty,Hte=Object.getOwnPropertySymbols,_te=Object.prototype.propertyIsEnumerable,Qte=Object.assign;const Gte=function(e){const{setting:t}=e,n=((e,t)=>{var n={};for(var i in e)Fte.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Hte)for(var i of Hte(e))t.indexOf(i)<0&&_te.call(e,i)&&(n[i]=e[i]);return n})(e,["setting"]);return y.createElement(Wee,Qte({closedNode:(0,De.Z)("{1} selected",t.selectedCount),showSpinner:t.isOptionsPending},n))};var Yte=Object.prototype.hasOwnProperty,Wte=Object.getOwnPropertySymbols,Kte=Object.prototype.propertyIsEnumerable,qte=Object.assign;class $te extends y.Component{constructor(){super(...arguments),this.onTogglePress=()=>{const{setting:{optionsError:e,locationsError:t,lineupError:n,id:i}}=this.props;this.props.onTogglePress(i),(e||t||n)&&this.props.onOptionsFetchErrorDismiss(i)},this.onSubmit=e=>{this.props.onUpdateSetting(this.props.setting.id,e)}}render(){const{setting:e}=this.props,{id:t,summary:n,optionsError:i,locationsError:s,lineupError:r,type:a,multiselect:o,enumValues:l,value:c}=e,d=this.props,{updateError:u,onUpdateSetting:p,onTogglePress:m,onOptionsFetchErrorDismiss:h}=d,g=((e,t)=>{var n={};for(var i in e)Yte.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Wte)for(var i of Wte(e))t.indexOf(i)<0&&Kte.call(e,i)&&(n[i]=e[i]);return n})(d,["updateError","onUpdateSetting","onTogglePress","onOptionsFetchErrorDismiss"]),v=u?(0,De.Z)("Unable to save settings"):null,f=i||s||r?(0,De.Z)("There was an error loading the options"):v;return t===RT.xy?y.createElement(Wee,qte(qte({},g),{title:(0,De.Z)("Display the last 3 accessed channels in Guide"),closedNode:3===c?(0,De.Z)("Enabled"):(0,De.Z)("Disabled"),errorMessage:f,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):a===VT?y.createElement(ste,qte(qte({},g),{errorMessage:f,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):a===FT?y.createElement(Bte,qte(qte({},g),{errorMessage:f,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):a===HT&&o?y.createElement(Gte,qte(qte({},g),{errorMessage:f,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):l?y.createElement(Xee,qte(qte({},g),{errorMessage:f,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):a===BT?y.createElement(jte,qte(qte({},g),{setting:e,errorMessage:f,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):a===UT||a===zT?y.createElement(Wee,qte(qte({closedNode:n},g),{errorMessage:f,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):(D.Z.warn("Unsupported provider setting type:[%s]",a),null)}}const Jte=$te;var Xte=Object.assign;class ene extends y.Component{constructor(e,t){super(e,t),this.onTogglePress=e=>{this.props.updateError&&this.props.onUpdateErrorDismiss(),this.state.openSettingID===e?this.setState({openSettingID:null}):(this.props.onSettingViewDetail(e),this.setState({openSettingID:e}))},this.state={openSettingID:null,isUpdatePendingFromStore:e.isUpdatePending}}static getDerivedStateFromProps(e,t){const n={isUpdatePendingFromStore:e.isUpdatePending};return!t.isUpdatePendingFromStore||e.isUpdatePending||e.updateError||(n.openSettingID=null),n}render(){const{serverEntityID:e,providerEntityID:t,providerTitle:n,showSpinner:i,settings:s,isUpdatePending:r,updateError:a,onUpdateSetting:o,onOptionsFetchErrorDismiss:l}=this.props,{openSettingID:c}=this.state;return i?y.createElement(Gz.Z,null,y.createElement(RC.Z,null)):y.createElement(see,{metricsPage:et.PX,metricsPane:"settings"},y.createElement(aee,null,n,n?y.createElement(tr.Z,null):null,(0,De.Z)("Personalize")),s.map((n=>n.hidden?null:y.createElement(Jte,{key:n.id,serverEntityID:e,providerEntityID:t,title:n.label,setting:n,isOpen:c===n.id,isUpdating:r,updateError:a,onTogglePress:this.onTogglePress,onUpdateSetting:o,onOptionsFetchErrorDismiss:l},y.createElement(jee,Xte({},n))))))}}const tne=ene,nne={dispatchFetchProviderSettings:nZ,dispatchUpdateProviderSetting:uZ,dispatchClearProviderSettingUpdateError:pZ,dispatchClearProviderSettingFetchError:sZ,dispatchPopulateSettingsOptions:mZ};class ine extends y.Component{constructor(){super(...arguments),this.onUpdateErrorDismiss=()=>{this.props.dispatchClearProviderSettingUpdateError({providerEntityID:this.props.providerEntityID})},this.onOptionsFetchErrorDismiss=e=>{this.props.dispatchClearProviderSettingFetchError({providerEntityID:this.props.providerEntityID,settingID:e})},this.onUpdateSetting=(e,t)=>{this.props.dispatchUpdateProviderSetting({providerEntityID:this.props.providerEntityID,settingID:e,values:t})},this.onSettingViewDetail=e=>{this.props.dispatchPopulateSettingsOptions({providerEntityID:this.props.providerEntityID,settingID:e})}}componentDidMount(){const{providerEntityID:e}=this.props;this.props.dispatchFetchProviderSettings({providerEntityID:e})}render(){return y.createElement(tne,{serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,providerTitle:this.props.providerTitle,showSpinner:this.props.isSettingsPending,settings:this.props.settings,isUpdatePending:this.props.isUpdatePending,updateError:this.props.updateError,onSettingViewDetail:this.onSettingViewDetail,onUpdateErrorDismiss:this.onUpdateErrorDismiss,onOptionsFetchErrorDismiss:this.onOptionsFetchErrorDismiss,onUpdateSetting:this.onUpdateSetting})}}const sne=(0,f.$j)((function(){return(0,de.P1)((0,UM.Z)(),gC(mS.L6),(e=>e.ui.providerSettingsPage),((e,t,n)=>({providerEntityID:e.entityID,providerTitle:e.title,settings:t.settings,isSettingsPending:t.isSettingsPending,isUpdatePending:n.isUpdatePending,updateError:n.updateError})))}),nne)(ine);function rne(){const{machineIdentifier:e,providerIdentifier:t}=Fz(),n=(0,kt.Z)(Vt.cN,e),i=(0,kt.Z)(Vt.MC,t,n);return y.createElement(nee,{serverEntityID:n,providerEntityID:i},y.createElement(sne,{providerEntityID:i}))}var ane=n(69865),one=n(55983);const lne=ane.Z.extend({idAttribute:"key",whitelistedAttrs:["key","name","defaultAudioLanguage","autoSelectAudio","defaultSubtitleLanguage","subtitleMode"],url:function(){return this.get("key")},convert:function(e){let t=E().isObject(e)?e:one.Z.parseXML(e);return t.Account&&(t=t.Account),one.Z.parseBoolean(t,"autoSelectAudio"),t},parse:function(e){let t=this.convert(e);return t=E().pick(t,this.whitelistedAttrs),t}});var cne=n(91485);function dne(e){return(0,kt.Z)(Vt.MC,pa.Y3,e)}var une=n(71576),pne=n(29415),mne=n(11023),hne=n(39879);const gne=ane.Z.extend({idAttribute:"playQueueID",whitelistedAttrs:["playQueueID","playQueueSelectedItemID","playQueueSelectedItemOffset","playQueueSelectedMetadataItemID","playQueueLastAddedItemID","playQueueShuffled","playQueueSourceURI","playQueueTotalCount","playQueueVersion","message"],defaults:{selectedItem:null,mediaType:null,owned:!0,hasUserAdditions:!1,playQueueVersion:0},metadataElementNames:["Directory","Video","Track","Photo","Hub"],url:function(){return"/playQueues/"+this.id},initialize:function(){this.listenTo(this,"change:message",this.onMessageChange)},_fetch:function(){var e=E().result(this,"url");return this._ajax("GET",e)},convert:function(e){var t=E().isObject(e)?e:one.Z.parseXML(e);return one.Z.parseBoolean(t,"playQueueShuffled"),one.Z.parseInteger(t,["playQueueSelectedItemOffset","playQueueTotalCount","playQueueVersion"]),one.Z.parseArray(t,"Metadata"),t},parse:function(e,t){E().isString(e)&&(e=one.Z.replaceXMLElementNames(e,this.metadataElementNames,"Metadata"));var n=this.convert(e);n.id&&(n.playQueueID=n.id);var i=E().pick(n,this.whitelistedAttrs);return this.set(i,{silent:!0}),this.pendingChanges=this.changed,this.parseItems(n),i},parseItems:function(e){var t=this.get("collection"),n=e.Metadata,i=!!n.length,s=E().pluck(n,"playQueueItemID").indexOf(e.playQueueSelectedItemID),r=e.playQueueSelectedItemOffset-s;E().each(n,(function(t,n){t.queueIndex=r+n,e.identifier&&(t.identifier=e.identifier),e.mediaTagPrefix&&(t.mediaTagPrefix=e.mediaTagPrefix),e.mediaTagVersion&&(t.mediaTagVersion=e.mediaTagVersion)})),t?t.set(n,{parse:i}):(t=new hne.Z(n,{server:this.server,parent:this,parse:i}),this.set("collection",t)),t.totalSize=e.playQueueTotalCount,t.availableRange={start:r,end:r+t.length}},moveItem:function(e,t){if(e===this.get("playQueueSelectedItemID"))return g().Deferred().resolve().promise();this.set("hasUserAdditions",!0);var n={after:t||-1},i=C.Z.join([E().result(this,"url"),"/items/",e,"/move"],n);return this._ajax("PUT",i)},getUpNextRange:function(){var e=this.get("collection"),t=e.get(this.get("playQueueSelectedItemID")),n=e.indexOf(t),i=Math.max(n,0),s=i,r=this.get("playQueueLastAddedItemID");if(null!=r){var a=e.get(r),o=e.indexOf(a);o>i&&(s=o)}return{start:i,end:s}},getCurrentItem:function(){var e=this.get("playQueueSelectedItemID");return this.get("collection").findWhere({playQueueItemID:e})||null},_ajax:function(e,t){var n=E().extend(this.server.getXHROptions(t),{type:e}),i=g().ajax(n);return i.done(E().bind((function(e){this.set(this.parse(e)),E().isEmpty(this.pendingChanges)||(E().each(this.pendingChanges,(function(e,t){this.trigger("change:"+t,this,e)}),this),this.trigger("change",this),this.pendingChanges=null),this.set("selectedItem",this.getCurrentItem())}),this)),i.promise()},onMessageChange:function(e,t){t&&ee.Z.trigger("show:alert",{type:"error",message:t})}}),yne=pne.Z.extend({model:gne,url:"/playQueues?type="+mne.Z.LOCAL,parse:function(e){return this.convert(e,"PlayQueue")}});function vne(e){return(0,hD.Z)("web-client","settings",e)}function fne(e,t,n){return(0,hD.Z)("server",e,t,n)}var Ine=n(97189);const bne=m.Z.Layout.extend({template:()=>"",mountReact(){const e=(0,M.DB)("appStore");v.render(y.createElement(f.zt,{store:e},this.component(this.options)),this.el)},unmountReact(){this.isRendered&&v.unmountComponentAtNode(this.el)},onBeforeRender(){this.unmountReact()},onRender(){this.mountReact()},onClose(){this.unmountReact()}});var Mne=n(21009),Sne=n(1922),Ene=n.n(Sne);const Dne=m.Z.ItemView.extend({tagName:"li",className:"card-collapsed striped-list-item alert-list-item",template:Ene(),serializeData:function(){var e=(0,M.DB)("appModel").get("user").get("experienceSettings"),t=this.model.toJSON(),n={serverID:this.model.server.id,itemKey:"/library/metadata/"+this.model.get("itemID"),event:t,escapedServerName:E().escape(this.model.server.get("friendlyName")),escapedEventLabel:E().escape(t.label),escapedEventValue:E().escape(t.value),escapedEventUsername:E().escape(t.username),escapedEventTitle:E().escape(t.title),escapedEventPlayer:E().escape(t.player),timeFormat:e.get("timeFormat")};if(t.label=E().escape(t.label),t.value=E().escape(t.value),"playing"===t._type&&(t.username=E().escape(t.username),t.title=E().escape(t.title),t.player=E().escape(t.player)),"timeline"===t._type)switch(t.mediaTitle=this.model.get("title")||"an item",this.model.get("state")){case 0:t.stateString=(0,De.Z)("Created");break;case 1:t.stateString=(0,De.Z)("Progress for");break;case 2:t.stateString=(0,De.Z)("Matching");break;case 3:t.stateString=(0,De.Z)("Downloading metadata for");break;case 4:t.stateString=(0,De.Z)("Loading metadata for");break;case 5:t.stateString=(0,De.Z)("Finished processing");break;case 6:t.stateString=(0,De.Z)("Analyzing");break;case 9:t.stateString=(0,De.Z)("Deleted")}return n}}),Cne=Mne.Z.extend({tagName:"ul",className:"list card-list alert-list",itemView:Dne,reversed:!0});var Pne=n(98149),wne=n.n(Pne);const Tne=m.Z.Layout.extend({className:"alerts-container",template:wne(),ui:{pageCount:".page-count",previousBtn:".previous-btn",nextBtn:".next-btn"},regions:{serverDropdown:".filter-bar",list:".alert-list-container"},modelEvents:{"change:shared":"onSharedChange"},collectionEvents:{add:"onAlertAdd"},events:{"click .previous-btn":"onPreviousClick","click .next-btn":"onNextClick"},onlyAfterRender:["onAlertAdd"],initialize:function(){this.shared=this.model.get("shared"),this.page=1,this.listCollection=this.collection.clone(this.collection.page(this.page,{reverse:!0})),this.listCollection.stopListening()},serializeData:function(){var e=this.collection.pages();return{shared:this.shared,escapedPage:E().escape(this.page),escapedPages:E().escape(e),enablePrevious:this.page>1,enableNext:this.page<e}},updatePages:function(){var e=this.collection.pages();this.ui.pageCount.text((0,De.Z)("{1} of {2}",this.page,e)),this.ui.previousBtn.toggleClass("disabled",this.page<2),this.ui.nextBtn.toggleClass("disabled",this.page>=e)},updateList:function(){this.listCollection.reset(this.collection.page(this.page,{reverse:!0}))},onRender:function(){this.shared||this.list.append(new Cne({collection:this.listCollection}))},onSharedChange:function(e,t){this.shared=t,this.render()},onAlertAdd:function(e,t){this.shared||(this.updatePages(),this.updateList())},onPreviousClick:function(e){e.preventDefault(),this.ui.previousBtn.isDisabled()||(this.page--,this.updatePages(),this.updateList())},onNextClick:function(e){e.preventDefault(),this.ui.nextBtn.isDisabled()||(this.page++,this.updatePages(),this.updateList())}});var Zne=n(14e3);const Nne=X.Z.extend({mixins:[te.Z],defaultFilterName:"__default",whitelistedEvents:["add","remove","reset","sort","destroy","sync","request","error"],blacklistedMethods:["_onModelEvent","_prepareModel","_removeReference","_reset","add","initialize","sync","remove","reset","set","push","pop","unshift","shift","sort","parse","fetch","create","model","off","on","listenTo","listenToOnce","bind","trigger","once","stopListening"],constructor:function(e,t){this.superset=e,this._collection=new Zne.ZP.Collection(e.toArray()),this._proxyCollection(this._collection),this.resetFilters(),this.listenTo(e,{add:this.onSupersetAdd,remove:this.onSupersetRemove,reset:this.onSupersetReset}),this.initialize(t)},_proxyCollection:function(e){this.models=e.models,this._proxyCollectionMethods(e),this._proxyCollectionLength(e),this._proxyCollectionEvents(e)},_proxyCollectionMethods:function(e){const t={};E().each(E().functions(Zne.ZP.Collection.prototype),(function(n){E().contains(this.blacklistedMethods,n)||(t[n]=function(){return e[n].apply(e,arguments)})}),this),E().extend(this,t)},_proxyCollectionLength:function(e){const t=function(){this.length=e.length};this.listenTo(e,"all",t),t.call(this)},_proxyCollectionEvents:function(e){this.listenTo(e,"all",(function(t){const n=E().toArray(arguments),i="change"===t||"change:"===t.slice(0,7);"reset"===t&&(this.models=e.models),E().contains(this.whitelistedEvents,t)?(E().contains(["add","remove","destroy"],t)?n[2]=this:E().contains(["reset","sort"],t)&&(n[1]=this),this.trigger.apply(this,n)):i&&this.contains(n[1])&&this.trigger.apply(this,n)}))},addFilter:function(e,t){return t||(t=e,e=this.defaultFilterName),E().has(this._filters,e)&&this._invalidateCacheForFilter(e),this._filters[e]=this._createFilter(t),this._execFilters(),this.trigger("filtered:add",e),this},removeFilter:function(e){return e||(e=this.defaultFilterName),delete this._filters[e],this._invalidateCacheForFilter(e),this._execFilters(),this.trigger("filtered:remove",e),this},resetFilters:function(){return this._filters={},this._invalidateCache(),this._execFilters(),this.trigger("filtered:reset"),this},getFilters:function(){return E().keys(this._filters)},hasFilter:function(e){return E().contains(this.getFilters(),e)},refilter:function(e){return E().isObject(e)&&e.cid?this.onSupersetAdd(e):(this._invalidateCache(),this._execFilters()),this},destroy:function(){return this.stopListening(),this.superset=null,this._collection.reset([]),this.length=0,this.trigger("filtered:destroy"),this},_createFilter:function(e,t){if(E().isFunction(e))return e;throw new Error("Unsupported filter type")},_execFilters:function(e){e||(e={});let t=[];this.superset&&(t=this.superset.filter(E().bind(this._execFiltersOnModel,this))),e.reset?this._collection.reset(t):this._collection.set(t),this.length=this._collection.length},_execFiltersOnModel:function(e){this._filterResultCache[e.cid]||(this._filterResultCache[e.cid]={});const t=this._filterResultCache[e.cid];for(const n in this._filters)if(E().has(this._filters,n)&&(E().has(t,n)||(t[n]=this._filters[n](e)),!t[n]))return!1;return!0},_invalidateCache:function(){this._filterResultCache={}},_invalidateCacheForFilter:function(e){for(const t in this._filterResultCache)E().has(this._filterResultCache,t)&&delete this._filterResultCache[t][e]},onSupersetAdd:function(e){if(this._filterResultCache[e.cid]={},this._execFiltersOnModel(e)){if(!this._collection.get(e.cid)){let t=0;for(let n=this.superset.indexOf(e)-1;n>=0;n-=1)if(this.contains(this.superset.at(n))){t=this.indexOf(this.superset.at(n))+1;break}this._collection.add(e,{at:t})}}else this._collection.get(e.cid)&&this._collection.remove(e);this.length=this._collection.length},onSupersetRemove:function(e){this.contains(e)&&this._collection.remove(e),this.length=this._collection.length},onSupersetReset:function(){this._execFilters({reset:!0})}}).extend({initialize:function(e){this.playQueue=e.playQueue,this.includeSelectedItem=e.includeSelectedItem,this.addFilter(E().bind(this.filterUpNext,this)),this.listenForUpNextChanges()},listenForUpNextChanges:function(){const e=E().debounce(this.onPlayQueueChange);this.listenTo(this.playQueue,["change:playQueueSelectedItemID","change:playQueueLastAddedItemID"].join(" "),e),this.listenTo(this.playQueue.get("collection"),"change:queueIndex",e)},filterUpNext:function(e){const t=this.superset.indexOf(e),n=this.playQueue.getUpNextRange();let i=n.start;const s=n.end;return this.includeSelectedItem||(i+=1),t>=i&&t<=s},onPlayQueueChange:function(){this.refilter()}}),Ane=Nne.extend({initialize:function(e){this.playQueue=e.playQueue,this.addFilter(E().bind(this.filterAfterUpNext,this)),this.listenForUpNextChanges()},filterAfterUpNext:function(e){return this.superset.indexOf(e)>this.playQueue.getUpNextRange().end}});var xne=n(49282),Lne=n.n(xne),One=n(94018),jne=n(32707),kne=n(53779),Rne=n(64106),zne=n(90912),Une=n(76037);const Vne=zne.Z.extend({name:"SyncItemModel",context:["server","device"],urlRoot(){return`/devices/${this.device?this.device.get("clientIdentifier"):this.get("clientIdentifier")}/sync_items`},syncedAttrs:E().extend({},zne.Z.prototype.syncedAttrs,{version:{type:bD.Z.integer,save:!0},metadataType:{type:bD.Z.string,save:!0},rootTitle:{type:bD.Z.string,save:!0},machineIdentifier:{type:bD.Z.string,save:!0},Server:bD.Z.object}),defaults:()=>({Location:{},Device:{},Server:{}}),augmentResponse:e=>("photoAlbum"===e.metadataType&&(e.metadataType="photoalbum"),e),sync(e,t,n){const i=Une.Z.addVersionHeaderForDevice(this.device,n);return zne.Z.prototype.sync.call(this,e,t,i)},getSaveParams(e,t){const n=zne.Z.prototype.getSaveParams.apply(this,arguments).Item;return E().each(n,(function(e,t){""===e&&delete n[t]})),{SyncItem:n}}});var Bne=n(48143),Fne=n.n(Bne);const Hne=m.Z.ItemView.extend({className:"circle-progress",template:Fne(),size:30,lineWidth:5,strokeColor:"#cc7b19",hasSize:!1,ui:{svg:".circle-progress-bar",svgCircle:".circle-progress-bar circle"},bindings:{".circle-progress-text":{modelAttribute:"text"}},modelEvents:{"change:progress":"onProgressChange"},initialize:function(e){this.size=e.size||this.size,this.lineWidth=e.lineWidth||this.lineWidth,this.strokeColor=e.strokeColor||this.strokeColor,this.size&&(this.$el.width(this.size),this.$el.height(this.size))},drawProgressBar:function(){var e=this.size,t=e/2,n=t-this.lineWidth,i=Math.PI*(2*n);this.hasSize||(this.ui.svg.attr("width",e),this.ui.svg.attr("height",e),this.ui.svgCircle.attr("r",n),this.ui.svgCircle.attr("cx",t),this.ui.svgCircle.attr("cy",t),this.ui.svgCircle.attr("stroke-dasharray",i),this.ui.svgCircle.css("stroke-width",this.lineWidth),this.ui.svgCircle.css("stroke",this.strokeColor),this.hasSize=!0);var s=(100-this.model.get("progress"))/100*i;this.ui.svgCircle.css("stroke-dashoffset",s)},onRender:function(){this.drawProgressBar()},onProgressChange:function(){this.drawProgressBar()}});var _ne=n(50034),Qne=n.n(_ne);const Gne=m.Z.Layout.extend({mixins:[ne.Z],className:"conversion-status",template:Qne(),regions:{progressBarRegion:".progress-bar-region"},initialize:function(e){this.initialState=e.initialState,this.initialErrorMessage=e.initialErrorMessage,this.generator=e.generator,this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.progressModel=new Zne.ZP.Model({progress:0,remaining:0,speed:0})},states:{pending:{onEnter:function(){this.$el.addClass("pending")},onExit:function(){this.$el.removeClass("pending")}},converting:{onEnter:function(){this.$el.addClass("converting")},onExit:function(){this.$el.removeClass("converting")}},processed:{onEnter:function(){this.$el.addClass("processed")},onExit:function(){this.$el.removeClass("processed")}},disabled:{onEnter:function(){this.$el.addClass("disabled")},onExit:function(){this.$el.removeClass("disabled")}},error:{onEnter:function(){this.$el.addClass("error")},onExit:function(){this.$el.removeClass("error")}}},bindingsModel:"progressModel",bindings:{".conversion-status-converting-label":{model:"pausedSetting",modelAttribute:"value",formatter:function(e){return e?(0,De.Z)("Paused"):(0,De.Z)("Converting")}},".conversion-status-pending-label":{model:"pausedSetting",modelAttribute:"value",formatter:function(e){return e?(0,De.Z)("Paused"):(0,De.Z)("Waiting")}},".conversion-status-converting-speed":{modelAttribute:"speed",autohide:!0,formatter:function(e){if(e){var t=Math.round(10*e)/10;return t>10&&(t=Math.round(t)),"("+t+"x)"}}},".conversion-status-converting-percentage":{modelAttribute:"progress",formatter:function(e){return Math.round(e)+"%"}},".conversion-status-converting-progress-separator":{modelAttribute:"remaining",manual:!0,autohide:function(e){return e&&this.progressModel.get("speed")}},".conversion-status-converting-remaining":{modelAttribute:"remaining",autohide:!0,formatter:function(e){if(this.progressModel.get("speed"))return Hi(e)}}},serializeData:function(){return{initialErrorMessage:this.initialErrorMessage}},findTranscodeJob:function(){return this.transcodeJob=this.transcodeJobs.find((function(e){var t=this.model.get("ratingKey"),n=this.generator?this.generator.id:this.model.get("generatorID"),i=this.model.get("syncItemId"),s=t&&t===e.get("ratingKey"),r=n&&n===e.get("generatorID"),a=i&&i===e.get("syncItemId");return s&&(r||a)}),this),this.transcodeJob&&(this.stopListening(this.transcodeJobs),this.enterState("converting"),this.progressModel.set({progress:this.transcodeJob.get("progress"),speed:this.transcodeJob.get("speed"),remaining:this.transcodeJob.get("remaining")}),this.listenTo(this.transcodeJob,{remove:this.onTranscodeJobRemove,"change:progress":this.onTranscodeProgressChange,"change:speed":this.onTranscodeSpeedChange,"change:remaining":this.onTranscodeRemainingChange})),this.transcodeJob},onRender:function(){this.enterState(this.initialState||"pending"),this.findTranscodeJob()||this.listenTo(this.transcodeJobs,"reset add",this.findTranscodeJob),this.progressBarRegion.append(new Hne({model:this.progressModel,size:30,lineWidth:3}))},onTranscodeJobRemove:function(e){this.enterState("pending")},onTranscodeProgressChange:function(e,t){this.progressModel.set("progress",t)},onTranscodeSpeedChange:function(e,t){this.progressModel.set("speed",t)},onTranscodeRemainingChange:function(e,t){this.progressModel.set("remaining",t)}});var Yne=n(7029),Wne=n.n(Yne);const Kne=m.Z.Layout.extend({className:"striped-list-item media-list-item playlist-item version-generator-item",tagName:"li",template:Wne(),ui:{poster:".media-poster"},events:{"click .promote-btn":"onPromoteClick","click .delete-btn":"onDeleteClick"},regions:{statusRegion:".conversion-status-region"},attributes:function(){return{"data-queue-item-id":this.model.id}},initialize:function(e){this.metadataItem=e.model.get("metadataItem"),this.playQueue=e.playQueue,this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.hideDragHandle=e.hideDragHandle,this.type=this.metadataItem.get("type");var t=kne.Z[this.type];"movie"===this.type&&(t=kne.Z.art);var n="episode"===this.type?"show":this.type;this.image=new Rne.Z({model:this.metadataItem,type:n,placeholderClass:t,height:60,modelAttribute:"thumb",getUrl:this.getPosterUrl})},bindings:{".generator-title":{model:"metadataItem",modelAttribute:"title",formatter:function(e){return jne.Z.title(this.metadataItem)}},".generator-target":{modelAttribute:"target",formatter:function(e){return this.model.get("syncItemId")?(0,De.Z)("Sync"):e}},".sortable-handle":{model:"playQueue",modelAttribute:"playQueueSelectedItemID",manual:!0,autohide:function(e){return this.model.get("playQueueItemID")!==e}},".promote-btn":{modelAttribute:"queueIndex",manual:!0,autohide:function(e){var t=this.playQueue.getCurrentItem();return this.hideDragHandle||e-t.get("queueIndex")>1}}},serializeData:function(){return{hideDragHandle:this.hideDragHandle}},getPosterUrl:function(e){return"episode"===this.model.get("type")&&(this.model.get("grandparentThumb")||this.model.get("parentThumb"))||e},deleteSyncItem:function(){var e=M.DB("appModel"),t=new Vne({id:this.model.get("syncItemId"),clientIdentifier:this.model.get("clientIdentifier")},{server:e.get("user").server});return One.Z.execute("deleteSyncItem",{syncItem:t,server:this.model.server})},deleteGenerator:function(){var e=new zne.Z({id:this.model.get("generatorID")},{server:this.model.server,playlistID:this.metadataItem.get("playlistID")});return One.Z.execute("disableVersionGenerator",{generator:e,ratingKey:this.metadataItem.get("ratingKey")})},onRender:function(){this.image.setElement(this.ui.poster),this.statusRegion.show(new Gne({model:this.model,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}))},onClose:function(){this.image.close()},onCollectionSort:function(e){this.trigger("sort")},onPromoteClick:function(e){e.preventDefault();var t=this.playQueue.get("collection");this.listenToOnce(t,"sort",E().debounce(this.onCollectionSort));var n=this.model.get("playQueueItemID"),i=this.playQueue.get("playQueueSelectedItemID");this.playQueue.moveItem(n,i)},onDeleteClick:function(e){e.preventDefault(),this.model.has("syncItemId")?this.deleteSyncItem():this.deleteGenerator()}});var qne=n(64898);const $ne=Mne.Z.extend({tagName:"ol",className:"list media-list playlist-items",itemView:Kne,sorted:!0,itemEvents:{sort:"onSort"},initialize:function(){E().bindAll(this,"onItemMove")},onRender:function(){this.sortable&&this.sortable.destroy(),this.sortable=new(Lne())(this.el,E().extend({onAdd:this.onItemMove,onUpdate:this.onItemMove,handle:".sortable-handle",animation:200,scroll:!0,scrollSensitivity:100,scrollSpeed:2},this.options.sortableOptions))},onClose:function(){this.sortable&&this.sortable.destroy()},onSort:function(){this.render()},onItemMove:function(e){var t=g()(e.item).data("queue-item-id"),n=g()(e.item).prev().data("queue-item-id"),i=this.options.playQueue;if(n)i.moveItem(t,n);else{var s=i.get("selectedItem").get("metadataItem").get("title"),r=new qne.Z({title:(0,De.Z)("Convert Immediately"),message:(0,De.Z)("Do you want to start converting this item immediately? Any conversion progress for '{1}' will be lost.",s)}),a=r.promise;a.done((function(){i.moveItem(t)})),a.fail(E().bind(this.render,this)),ee.Z.trigger("show:modal",r)}}});var Jne=n(55224),Xne=n.n(Jne);const eie=m.Z.ItemView.extend({template:Xne(),serializeData(){return{manageVersionsRoute:(0,km.Z)(this.model.id,"manage","versions")}}});var tie=n(77210),nie=n.n(tie);const iie=m.Z.Layout.extend({className:"conversion-container",template:nie(),ui:{filterBar:".filter-bar",pauseBtn:".pause-btn",resumeBtn:".resume-btn",divider:".conversion-queue-divider"},regions:{filterBar:".filter-bar",upNextList:".conversion-queue-up-next-list-region",afterUpNextList:".conversion-queue-after-up-next-list-region",emptyRegion:".conversion-queue-empty-region"},events:{"click .pause-btn":"onTogglePauseClick","click .resume-btn":"onTogglePauseClick"},initialize:function(e){this.playQueue=e.playQueue,this.transcodeJobs=e.transcodeJobs,this.generators=e.generators,this.items=this.playQueue.get("collection"),this.upNextItems=new Nne(this.items,{playQueue:this.playQueue,includeSelectedItem:!0}),this.afterUpNextItems=new Ane(this.items,{playQueue:this.playQueue}),this.settings=this.model.get("desktop").get("settings"),this.pausedSetting=this.settings.get("BackgroundQueueIdlePaused"),this.listenTo(this.upNextItems,"reset add remove",this.onUpNextChange),this.listenTo(this.afterUpNextItems,"reset add remove",this.onAfterUpNextChange)},serializeData:function(){return{shouldShowList:this.model.supports("streamReady"),shouldShowDivider:!!this.afterUpNextItems.length,escapedMinServerVersion:E().escape(Yh.Z.streamReady),hasPausedSetting:!!this.pausedSetting,isPaused:this.pausedSetting&&this.pausedSetting.get("value"),errorMessage:this.getErrorMessage(),manageVersionsRoute:(0,km.Z)(this.model.id,"manage","versions")}},toggleEmptyView:function(){var e=this.upNextItems.length+this.afterUpNextItems.length>0;e?this.emptyRegion.close():this.emptyRegion.show(new eie({model:this.model})),this.$el.toggleClass("is-empty",!e),this.ui.filterBar.toggleClass("hide-actions",!e)},getErrorMessage:function(){var e=this.generators.reduce((function(e,t){var n=t.get("status");return"failed"===n.get("state")?e+=Math.max(n.get("itemsCount"),1):n.get("itemsFailedCount")&&(e+=n.get("itemsFailedCount")),e}),0);if(e)return 1===e?(0,De.Z)("There was a problem converting 1 item."):(0,De.Z)("There were problems converting {1} items.",e)},onRender:function(){var e={playQueue:this.playQueue},t={playQueue:this.playQueue,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting};this.upNextList.show(new $ne(E().extend({},e,{collection:this.upNextItems,itemViewOptions:t,sortableOptions:{sort:!0,group:{name:"upNext",pull:!1,put:["afterUpNext"]}}}))),this.afterUpNextList.show(new $ne(E().extend({},e,{collection:this.afterUpNextItems,itemViewOptions:E().extend({},t,{hideDragHandle:!0}),sortableOptions:{sort:!1,group:{name:"afterUpNext",pull:!0,put:!1}}}))),this.toggleEmptyView()},onClose:function(){this.upNextItems.destroy(),this.afterUpNextItems.destroy()},onUpNextChange:function(){this.toggleEmptyView()},onAfterUpNextChange:function(){this.ui.divider.toggleClass("hidden",!this.afterUpNextItems.length),this.toggleEmptyView()},onTogglePauseClick:function(e){e.preventDefault();var t=this.pausedSetting.get("value");this.ui.pauseBtn.toggleClass("hidden",!t),this.ui.resumeBtn.toggleClass("hidden",t),this.pausedSetting.set("value",!t),this.settings.first().save(this.pausedSetting.id,t?0:1)}}),sie=function(e,t,n=500){const[i,s]=(0,y.useState)(e);return(0,y.useEffect)((()=>{let i;return e===t?i=window.setTimeout((()=>{s(e)}),n):s(e),()=>window.clearTimeout(i)}),[e,t,n]),i};function rie({children:e,title:t}){return y.createElement("div",{className:"ServerDashboardPageHeader-header-33WQtk"},y.createElement("div",{className:"ServerDashboardPageHeader-headerTitle-2OTFDv"},t),e)}function aie({children:e,id:t,className:n="ServerDashboardMenuButton-menuButton-2MDRix DisclosureArrowButton-disclosureArrowButton-eURy9V Link-link-3v-v0b",isMenuOpen:i,onPress:s}){return y.createElement(G$.Z,{className:n,id:t,size:vc.ln,direction:i?yc.UP:yc.WV,isSelected:!1,onPress:s},e)}function oie({className:e,values:t,activeValue:n,formatter:i,onSelect:s}){const{menuButtonID:r,isMenuOpen:a,onMenuButtonPress:o,onMenuClose:l}=iN(),c=(0,y.useCallback)((e=>{l(),s(e)}),[l,s]);return y.createElement(y.Fragment,null,y.createElement(aie,{id:r,className:e,isMenuOpen:a,onPress:o},i(n)),y.createElement(mo.Z,{target:r,isOpen:a,onMenuClose:l},t.map((e=>y.createElement(Ic.Z,{key:String(e),value:e,isSelected:n===e,onSelect:c},i(e))))))}const lie={statistics:[],isPending:!1,isPopulated:!1,error:null,requestTimestampMilliseconds:null,responseTimestampMilliseconds:null},cie=(0,Fr.oM)({name:"dashboardBandwidth",initialState:lie,reducers:{reset:()=>lie,bandwidthFetchRequested(e,t){(0,Vm.er)(e)},bandwidthFetchSucceeded(e,{payload:t}){(0,Vm.vv)(e),e.statistics=t.data,e.requestTimestampMilliseconds=t.requestTimestampMilliseconds,e.responseTimestampMilliseconds=t.responseTimestampMilliseconds},bandwidthFetchFailed(e,{payload:t}){(0,Vm.VQ)(e,t.error),e.requestTimestampMilliseconds=null,e.responseTimestampMilliseconds=null},bandwidthAbortRequested(){}}});var die,uie;(uie=die||(die={})).All="all",uie.Remote="remote",uie.Local="local";const pie=(0,de.P1)(Yr,(e=>e.dashboard)),mie=(0,de.P1)(pie,(e=>e.bandwidth));function hie(e){switch(e){case die.All:return(0,De.Z)("All");case die.Remote:return(0,De.Z)("Remote");case die.Local:return(0,De.Z)("Local");default:return""}}var gie=n(63500);const yie=["bps","Kbps","Mbps","Gbps","Tbps"],vie=function(e,t=2){if(0===e)return`${(0).toFixed(t)} ${yie[0]}`;const n=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return`${(e/Math.pow(1024,n)).toFixed(t)} ${yie[n]}`};var fie=n(72369);function Iie({children:e,className:t="ServerDashboardPageMessage-container-2brmau"}){return y.createElement("div",{className:t},y.createElement("div",{className:"ServerDashboardPageMessage-message-1l3KH-"},e))}function bie({children:e,className:t="ServerDashboardSectionContent-container-3ldxdw",errorClassName:n="ServerDashboardSectionContent-errorMessage-gW8kFK ServerDashboardPageMessage-container-2brmau",isSpinnerVisible:i,errorMessage:s}){return y.createElement("div",{className:t},s?y.createElement(Iie,{className:n},s):y.createElement(y.Fragment,null,i?y.createElement(qe,{className:"ServerDashboardSectionContent-spinner-2C0Pfu Spinner-spinner-CSMaLA spin-spin-oHlEXH",size:We.Large}):null,e))}var Mie=Object.assign;function Sie(e){return y.createElement(bie,Mie(Mie({},e),{className:"ServerDashboardGraph-container-2zQG1M ServerDashboardSectionContent-container-3ldxdw",errorClassName:"ServerDashboardGraph-errorMessage-vu1ARH ServerDashboardSectionContent-errorMessage-gW8kFK ServerDashboardPageMessage-container-2brmau"}))}function Eie(e){return null==e?"":0===e?(0,De.Z)("Now").toUpperCase():e%60==0?`${Math.floor(e/60)}m`:e>60?`${Math.floor(e/60)}m ${e%60}s`:`${e}s`}var Die=Object.assign;const Cie=function(e,t){var n;const i=Object.keys(t);return(n=class extends y.Component{constructor(e,t){super(e,t),this.state=i.reduce(((e,t)=>(e[t]=null,e)),{})}componentDidMount(){this._pairs=i.map((e=>[e,(0,_B.Z)(t[e]())])),this._pairs.forEach((([e,t])=>{t.promise.then((t=>{this.setState({[e]:t})}))}))}componentWillUnmount(){this._pairs.forEach((([e,t])=>{t.cancel()}))}render(){return y.createElement(e,Die(Die({},this.props),this.state))}}).displayName=`AsyncProps(${(0,rC.Z)(e)}:${i.join(",")})`,n.WrappedComponent=e,n};function Pie(e,t,n,i,s,r){const a=t-r,o=i>=0?1:-1,l=i>=0?1:0,c=Math.min(Math.abs(n)/2,Math.abs(i)/2),d=Math.min(c,s);return`M ${e},${a+o*d}\n    A ${d},${d},0,0,${l},${e+d},${a}\n    L ${e+n-d},${a}\n    A ${d},${d},0,0,${l},${e+n},${a+o*d}\n    L ${e+n},${a+i-o*d}\n    A ${d},${d},0,0,${l},${e+n-d},${a+i}\n    L ${e+d},${a+i}\n    A ${d},${d},0,0,${l},${e},${a+i-o*d} Z`}const wie=function(e){const{x:t,y:n,width:i,height:s,radius:r,fill:a,barGap:o,data:l,dataKey:c,seriesOrdering:d,seriesIndex:u}=e,p=d.slice(0,u),m=l.find((t=>t[c]===e[c])),h=p.reduce(((e,t)=>(0!==m[t]&&e++,e)),0)*o;return y.createElement("path",{d:Pie(t,n,i,s,r,h),fill:a})};class Tie extends y.Component{constructor(){super(...arguments),this.onPress=()=>{const{dataKey:e,onPress:t}=this.props;t&&t(e)},this.onMouseEnter=()=>{const{dataKey:e,onMouseEnter:t}=this.props;t&&t(e)}}render(){const{className:e,title:t,labelColor:n,onMouseLeave:i}=this.props;return y.createElement(AM.Z,{className:e,onPress:this.onPress,onMouseEnter:this.onMouseEnter,onMouseLeave:i},y.createElement("span",{className:"LegendLabel-dot-3PrfFj",style:{backgroundColor:n}}),t)}}Tie.defaultProps={className:"LegendLabel-legendLabel-3Gv9P5 Link-link-3v-v0b"};const Zie=Tie,Nie="ChartTooltip-separator-vFC-2t";class Aie extends y.Component{componentDidUpdate(e,t){const{active:n,onActive:i,onInactive:s}=this.props,{active:r}=e;!r&&n&&i?i():r&&!n&&s&&s()}render(){const{active:e,label:t,payload:n,series:i,showTotal:s,labelFormatter:r,valueFormatter:a}=this.props;if(!e||!n)return null;const o=r?r(t):t,l=s?n.reduce(((e,t)=>e+t.value),0):null;return y.createElement("div",{className:"ChartTooltip-container-2J4bLo"},y.createElement("div",{className:"ChartTooltip-label-2wIgz5"},o),y.createElement("div",{className:Nie}),y.createElement("div",null,y.createElement("div",{className:"ChartTooltip-values-1bC38S"},n.map((e=>{const t=i.find((t=>t.dataKey===e.dataKey)).title;return y.createElement("div",{key:e.dataKey,className:"ChartTooltip-valueRow-1ri6-v"},y.createElement(Zie,{className:"ChartTooltip-LegendLabel-1yP8Mt LegendLabel-legendLabel-3Gv9P5 Link-link-3v-v0b",title:t,labelColor:e.color}),y.createElement(tr.Z,null),a(e.value))}))),s?y.createElement(y.Fragment,null,y.createElement("div",{className:Nie}),y.createElement("div",{className:"ChartTooltip-total-1kZGLh"},(0,De.Z)("Total"),y.createElement(tr.Z,null),a(l))):null))}}Aie.defaultProps={showTotal:!0};const xie=Aie;var Lie=Object.assign;function Oie(e){return e.every((e=>e.visible))}function jie(e){return function(t){return y.createElement(wie,Lie(Lie({},t),e))}}class kie extends y.Component{constructor(e,t){super(e,t),this.onMouseEnter=e=>{this.setState({hoveredDataKey:e})},this.onMouseLeave=()=>{this.setState({hoveredDataKey:null})},this.renderLegend=()=>{const{series:e,legendSummary:t,onLegendPress:n}=this.props,{hoveredDataKey:i}=this.state;return y.createElement("div",{className:"BarChart-legendContainer-1iKjld"},y.createElement("div",{className:"BarChart-legendLabels-jp4FKx"},e.map((e=>{const t=!e.visible||i&&i!==e.dataKey&&!e.selected;return y.createElement(Zie,{key:e.dataKey,className:t?"BarChart-translucentLegendLabel-2pFAXf BarChart-legendLabel-3tGKi4 LegendLabel-legendLabel-3Gv9P5 Link-link-3v-v0b":"BarChart-legendLabel-3tGKi4 LegendLabel-legendLabel-3Gv9P5 Link-link-3v-v0b",dataKey:e.dataKey,title:e.title,labelColor:e.color,onPress:n,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})}))),t?y.createElement("div",{className:"BarChart-legendSummary-1l4XPj"},t):null)},this.state={hoveredDataKey:null}}componentDidUpdate(e,t){const{recharts:n,onChartReady:i}=this.props;!e.recharts&&n&&i&&i()}render(){const{className:e,recharts:t,width:n,height:i,series:s,data:r,xAxisKey:a,stacked:o,isAnimationActive:l,showTooltipTotal:c,chartMargin:d,gridLinesStyles:u,barGap:p,legendHeight:m,tooltipLabelFormatter:h,tooltipValueFormatter:g,xAxisDomain:v,xAxisStyle:f,xAxisPadding:I,xAxisTick:b,xAxisTickMargin:M,xAxisTickLineStyle:S,xAxisTickFormatter:E,yAxisDomain:D,yAxisWidth:C,yAxisStyle:P,yAxisPadding:w,yAxisTick:T,yAxisTickMargin:Z,yAxisTickLineStyle:N,yAxisTickFormatter:A}=this.props,{hoveredDataKey:x}=this.state;if(!t)return null;const{CartesianGrid:L,Legend:O,BarChart:j,Bar:k,ResponsiveContainer:R,Tooltip:z,XAxis:U,YAxis:V}=t,B=s.map((e=>e.dataKey));return y.createElement(R,{className:e,width:n,height:i},y.createElement(j,{data:r,margin:d},y.createElement(L,Lie({},u)),y.createElement(U,{domain:v,axisLine:f,dataKey:a,padding:I,tick:b,tickLine:S,tickMargin:M,minTickGap:0,tickFormatter:E}),y.createElement(V,{domain:D,axisLine:P,padding:w,tick:T,tickLine:N,tickMargin:Z,tickCount:6,tickFormatter:A,width:C}),y.createElement(z,{cursor:!1,isAnimationActive:!1,content:(F={series:s,showTotal:c,labelFormatter:h,valueFormatter:g},function(e){return y.createElement(xie,Lie(Lie({},e),F))})}),s.map(((e,t)=>y.createElement(k,{key:e.dataKey,className:x&&x!==e.dataKey&&Oie(s)?"BarChart-translucentBar-1dpdP5 BarChart-bar-18zUry":"BarChart-bar-18zUry",dataKey:e.dataKey,shape:jie({barGap:o?p:0,data:r,dataKey:a,seriesOrdering:B,seriesIndex:t}),radius:2,fill:e.color,isAnimationActive:l,stackId:o?"stacked":null,onMouseEnter:this.onMouseEnter.bind(null,e.dataKey),onMouseLeave:this.onMouseLeave}))),y.createElement(O,{height:m,content:this.renderLegend,wrapperStyle:{paddingLeft:`${C}px`}})));var F}}kie.defaultProps={xAxisKey:"date",stacked:!0,isAnimationActive:!0,chartMargin:{top:15,right:20,bottom:10,left:0},gridLinesStyles:{horizontal:!0,vertical:!1,stroke:"rgba(255, 255, 255, 0.1)"},barGap:2,legendHeight:20,xAxisStyle:!1,xAxisPadding:{left:0,right:0},xAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},xAxisTickMargin:15,xAxisTickLineStyle:{fill:"rgba(255, 255, 255, 0.1)",strokeWidth:5},yAxisWidth:60,yAxisStyle:!1,yAxisPadding:{top:0,bottom:0},yAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},yAxisTickMargin:5,yAxisTickLineStyle:!1};const Rie=Cie(kie,{recharts:()=>n.e(935).then(n.bind(n,7935))}),zie=function(e){const{x:t,y:n,margin:i,fill:s,fontSize:r,index:a,visibleTicksCount:o,payload:l,tickFormatter:c}=e;let d="middle";0===a?d="start":a+1===o&&(d="end");const u=c?c(l.value):l.value;return y.createElement("g",{transform:`translate(${t},${n})`},y.createElement("text",{dy:i,fill:s,fontSize:r,textAnchor:d},u))};var Uie=Object.assign;function Vie(e){return e.every((e=>e.visible))}function Bie(e){return function(t){return y.createElement(xie,Uie(Uie({},t),e))}}class Fie extends y.Component{constructor(e,t){super(e,t),this.onMouseEnter=e=>{this.setState({hoveredDataKey:e})},this.onMouseLeave=()=>{this.setState({hoveredDataKey:null})},this.renderLegend=()=>{const{series:e,legendSummary:t,onLegendPress:n}=this.props,{hoveredDataKey:i}=this.state;return y.createElement("div",{className:"LineChart-legendContainer-3dy_CY"},y.createElement("div",{className:"LineChart-legendLabels-MHfWDP"},e.map((e=>{const t=!e.visible||i&&i!==e.dataKey&&!e.selected;return y.createElement(Zie,{key:e.dataKey,className:t?"LineChart-translucentLegendLabel-3OOFYB LineChart-legendLabel-3Xsegc LegendLabel-legendLabel-3Gv9P5 Link-link-3v-v0b":"LineChart-legendLabel-3Xsegc LegendLabel-legendLabel-3Gv9P5 Link-link-3v-v0b",dataKey:e.dataKey,title:e.title,labelColor:e.color,onPress:n,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})}))),t?y.createElement("div",{className:"LineChart-legendSummary-cOxna-"},t):null)},this.state={hoveredDataKey:null}}componentDidUpdate(e,t){const{recharts:n,onChartReady:i}=this.props;!e.recharts&&n&&i&&i()}render(){const{className:e,recharts:t,width:n,height:i,series:s,data:r,xAxisKey:a,connectNulls:o,lineType:l,lineStrokeWidth:c,isAnimationActive:d,showTooltipTotal:u,chartMargin:p,gridLinesStyles:m,legendHeight:h,tooltipLabelFormatter:g,tooltipValueFormatter:v,dot:f,xAxisDomain:I,xAxisStyle:b,xAxisPadding:M,xAxisTick:S,xAxisTickInterval:E,xAxisTickMargin:D,xAxisTickLineStyle:C,xAxisTickFormatter:P,yAxisDomain:w,yAxisWidth:T,yAxisStyle:Z,yAxisPadding:N,yAxisTick:A,yAxisTickMargin:x,yAxisTickLineStyle:L,yAxisTickFormatter:O,onTooltipActive:j,onTooltipInactive:k}=this.props,{hoveredDataKey:R}=this.state;if(!t)return null;const{CartesianGrid:z,Legend:U,LineChart:V,Line:B,ResponsiveContainer:F,Tooltip:H,XAxis:_,YAxis:Q}=t,G=[...s].reverse();return y.createElement(F,{className:e,width:n,height:i},y.createElement(V,{data:r,margin:p},y.createElement(z,Uie({},m)),y.createElement(_,{domain:I,axisLine:b,dataKey:a,padding:M,tick:(Y=Uie(Uie({},S),{margin:D,tickFormatter:P}),function(e){return y.createElement(zie,Uie(Uie({},e),Y))}),tickLine:C,minTickGap:0,interval:E}),y.createElement(Q,{domain:w,axisLine:Z,padding:N,tick:A,tickLine:L,tickMargin:x,tickCount:6,tickFormatter:O,width:T}),y.createElement(H,{cursor:!1,isAnimationActive:!1,content:Bie({series:s,showTotal:u,labelFormatter:g,valueFormatter:v,onActive:j,onInactive:k})}),G.map((e=>y.createElement(B,{key:e.dataKey,className:R&&R!==e.dataKey&&Vie(s)?"LineChart-translucentLine-1ZMRdU LineChart-line-1gc_dQ":"LineChart-line-1gc_dQ",type:l,dataKey:e.dataKey,dot:f,stroke:e.color,strokeWidth:c,connectNulls:o,isAnimationActive:d,onMouseEnter:this.onMouseEnter.bind(null,e.dataKey),onMouseLeave:this.onMouseLeave}))),y.createElement(U,{height:h,content:this.renderLegend,wrapperStyle:{paddingLeft:`${T}px`}})));var Y}}Fie.defaultProps={xAxisKey:"date",connectNulls:!1,lineType:"monotone",lineStrokeWidth:3,isAnimationActive:!0,chartMargin:{top:15,right:20,bottom:10,left:0},gridLinesStyles:{horizontal:!0,vertical:!1,stroke:"rgba(255, 255, 255, 0.1)"},legendHeight:20,dot:!1,xAxisStyle:!1,xAxisPadding:{left:0,right:0},xAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},xAxisTickMargin:20,xAxisTickLineStyle:{fill:"rgba(255, 255, 255, 0.1)",strokeWidth:5},yAxisWidth:75,yAxisStyle:!1,yAxisPadding:{top:0,bottom:0},yAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},yAxisTickMargin:5,yAxisTickLineStyle:!1};const Hie=Cie(Fie,{recharts:()=>n.e(935).then(n.bind(n,7935))});var _ie=Object.assign;const Qie=120;function Gie(e){return Zi(e)||(0,Gi.Z)((0,IA.Z)(new Date))<=e}function Yie(e,t,n,i=!1){if((0,mW.rG)(t)===mW.pP.Day&&Zi(e)){const e=(0,De.Z)("Today");return i?e.toUpperCase():e}return(0,$C.Z)((0,hi.Z)(e),n)}function Wie({isRemoteVisible:e,isLocalVisible:t,summedData:n}){const i=e&&t;return y.createElement(y.Fragment,null,i?(0,De.Z)("Averages"):(0,De.Z)("Average"),": ",i?y.createElement(y.Fragment,null,hie(die.Remote),y.createElement(tr.Z,null)):null,e?vie(8*(n[die.Remote]||0)/Qie,0):null,i?y.createElement(y.Fragment,null," | ",hie(die.Local),y.createElement(tr.Z,null)):null,t?vie(8*(n[die.Local]||0)/Qie,0):null)}function Kie({isRemoteVisible:e,isLocalVisible:t,summedData:n}){const i=e&&t;return y.createElement(y.Fragment,null,i?(0,De.Z)("Totals"):(0,De.Z)("Total"),": ",i?y.createElement(y.Fragment,null,hie(die.Remote),y.createElement(tr.Z,null)):null,e?(0,fie.Z)(n[die.Remote],0):null,i?y.createElement(y.Fragment,null," | ",hie(die.Local),y.createElement(tr.Z,null)):null,t?(0,fie.Z)(n[die.Local],0):null)}function qie({statistics:e,activeBandwidthSourceType:t,responseTimestampMilliseconds:n,activeTimePeriod:i,isPending:s,isPopulated:r,errorMessage:a,onGraphBandwidthSourceTypeSelect:o,onGraphTooltipActive:l,onGraphTooltipInactive:c}){const[d,u]=(0,y.useState)(!1),p=i===mW.XH.RealTime,{data:m,summedData:h}=(0,y.useMemo)((()=>p?function(e,t,n){if(null==n)return{data:[],summedData:{}};const i=t===die.All||t===die.Remote,s=t===die.All||t===die.Local,r=Math.floor(n/1e3)-Qie-1,a=Array.from(new Array(121),((e,t)=>({at:r+t,date:Qie-t,[die.Remote]:i?0:void 0,[die.Local]:s?0:void 0}))),o={};return e.forEach((e=>{const{at:t,lan:n,bytes:r}=e,l=a.findIndex((e=>e.at===Number(t)));if(-1===l)return;const c=a[l];!n&&i&&(c[die.Remote]=(c[die.Remote]||0)+r,o[die.Remote]=(o[die.Remote]||0)+r),n&&s&&(c[die.Local]=(c[die.Local]||0)+r,o[die.Local]=(o[die.Local]||0)+r),a[l]=c})),{data:a,summedData:o}}(e,t,n):function(e,t){const n=t===die.All||t===die.Remote,i=t===die.All||t===die.Local,s={},r={};return e.forEach((e=>{const{at:t,lan:a,bytes:o}=e,l=String(t);s[l]||(s[l]={}),!a&&n&&(s[l][die.Remote]=(s[l][die.Remote]||0)+o,r[die.Remote]=(r[die.Remote]||0)+o),a&&i&&(s[l][die.Local]=(s[l][die.Local]||0)+o,r[die.Local]=(r[die.Local]||0)+o)})),{data:Object.keys(s).sort().map((e=>{const t=s[e],n=parseInt(e,10);return _ie(_ie({},t),{at:n,date:n})})),summedData:r}}(e,t)),[t,p,n,e]),g=t===die.All||t===die.Remote,v=t===die.All||t===die.Local,f=[{dataKey:die.Remote,title:hie(die.Remote),visible:g,selected:t===die.Remote,color:"#366dfc"},{dataKey:die.Local,title:hie(die.Local),visible:v,selected:t===die.Local,color:"#e69f23"}],I=p?Hie:Rie,b=p?Wie:Kie,M=!d||(p?!r:s),S=(p||!s)&&r,E=(0,y.useCallback)((e=>0===e?(0,De.Z)("Now"):(0,De.Z)("{unitOfTime} ago",{unitOfTime:Eie(e)})),[]),D=(0,y.useCallback)((e=>{if((0,mW.rG)(i)===mW.pP.Week){const t=Yie(e,i,(0,mW.fz)(i,!0)),n=(0,Gi.Z)((0,gie.Z)((0,hi.Z)(e),1));return Zi(e)&&Gie(n)?(0,De.Z)("Today"):`${t} - ${Yie(n,i,(0,mW.fz)(i,!0))}`}return Yie(e,i,(0,mW.fz)(i,!0))}),[i]),C=(0,y.useCallback)((e=>vie(8*e,0)),[]),P=(0,y.useCallback)((e=>(0,fie.Z)(e,0)),[]),w=(0,y.useCallback)((e=>Eie(e)),[]),T=(0,y.useCallback)((e=>{if(i===mW.XH.Month){const t=Yie(e,i,(0,mW.fz)(i)),n=(0,Gi.Z)((0,gie.Z)((0,hi.Z)(e),1));return Zi(e)&&Gie(n)?(0,De.Z)("Today").toUpperCase():`${t} - ${Yie(n,i,(0,mW.fz)(i))}`}return Yie(e,i,(0,mW.fz)(i),!0)}),[i]),Z=(0,y.useCallback)((e=>0===e?"":p?vie(8*e,0):(0,fie.Z)(e,0)),[p]),N=(0,y.useCallback)((()=>{u(!0)}),[]);return y.createElement(Sie,{isSpinnerVisible:M,errorMessage:a},S?y.createElement(I,{width:"100%",height:280,series:f,data:m,legendSummary:y.createElement(b,{isRemoteVisible:g,isLocalVisible:v,summedData:h}),isAnimationActive:!p,xAxisTickInterval:p?9:null,tooltipLabelFormatter:p?E:D,tooltipValueFormatter:p?C:P,xAxisTickFormatter:p?w:T,yAxisTickFormatter:Z,onLegendPress:o,onChartReady:N,onTooltipActive:l,onTooltipInactive:c}):null)}function $ie(){const e=(0,f.I0)(),[t]=cn(),n=(0,y.useRef)(null),[i,s]=(0,y.useState)(die.All),r=(0,y.useMemo)((()=>[die.All,die.Remote,die.Local]),[]),[a,o]=(0,y.useState)(mW.XH.RealTime),[l,c]=(0,y.useState)(a),d=(0,y.useMemo)((()=>[mW.XH.RealTime,mW.XH.TwelveHours,mW.XH.Day,mW.XH.Week,mW.XH.Month,mW.XH.NinetyDays,mW.XH.Year,mW.XH.AllTime]),[]),{statistics:u,isPending:p,isPopulated:m,error:h,requestTimestampMilliseconds:g,responseTimestampMilliseconds:v}=(0,f.v9)(mie),I=sie(p,!0),b=(0,y.useCallback)((()=>{e(cie.actions.bandwidthFetchRequested({server:t,timespan:(0,mW.rG)(a),after:(0,mW.xP)(a)}))}),[a,e,t]),M=(0,y.useCallback)((()=>{e(cie.actions.bandwidthAbortRequested())}),[e]),S=(0,y.useCallback)((e=>{s(e)}),[]),E=(0,y.useCallback)((e=>{o(e)}),[]),D=(0,y.useCallback)((e=>{const t=e===i?die.All:e;s(t)}),[i]),C=(0,y.useCallback)((()=>{a===mW.XH.RealTime&&(n.current&&window.clearTimeout(n.current),M())}),[a,M]),P=(0,y.useCallback)((()=>{a===mW.XH.RealTime&&b()}),[a,b]);return(0,y.useEffect)((()=>(b(),M)),[b,M]),(0,y.useEffect)((()=>{if(a===mW.XH.RealTime&&g){const e=Date.now()-g,t=Math.max(1e3-e,0);n.current=window.setTimeout(b,t)}return()=>{n.current&&window.clearTimeout(n.current)}}),[g,b,a]),(0,y.useEffect)((()=>{c(a)}),[u]),(0,y.useEffect)((()=>()=>{e(cie.actions.reset())}),[e]),y.createElement("div",{className:"Bandwidth-container-1hDF2k"},y.createElement(rie,{title:(0,De.Z)("Bandwidth")},y.createElement("div",null,y.createElement(oie,{values:r,activeValue:i,formatter:hie,onSelect:S}),y.createElement(oie,{values:d,activeValue:a,formatter:mW.dZ,onSelect:E}))),y.createElement("div",{className:"Bandwidth-graph-3EwUtu"},y.createElement(qie,{statistics:u,responseTimestampMilliseconds:v,activeBandwidthSourceType:i,activeTimePeriod:l,isPending:I,isPopulated:m,errorMessage:h?(0,De.Z)("Unable to load statistics"):null,onGraphBandwidthSourceTypeSelect:D,onGraphTooltipActive:C,onGraphTooltipInactive:P})))}const Jie=(0,Ht.Z)((function(e){return(0,de.P1)(ei,(t=>t.serverNowPlayingSessions[e]))}));function Xie(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-dashboard-expand-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M46.3324414,560 L46.3324414,504 L514,504 L514,560 L46.3324414,560 Z M46.3324414,392 L46.3324414,336 L514,336 L514,392 L46.3324414,392 Z M514,4.54747351e-13 L514,224 L46,224 L46,168 L46.1324766,168 L46.1324766,39.125 L46.3324414,39.125 L46.3324414,4.54747351e-13 L514,4.54747351e-13 Z M458.00987,168 L458.00987,56 L102.122607,56 L102.122607,168 L458.00987,168 Z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Xie.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const ese=Xie;function tse({isOpen:e,errorMessage:t,metricsPage:n,onModalClose:i}){return y.createElement(xt.ZP,{metricsPage:n},y.createElement(lc,{isOpen:e,size:We.Small,onModalClose:i},y.createElement(dc,{onModalClose:i},y.createElement(mc,{className:"NowPlayingErrorModal-modalHeader-2JS5cu ModalHeader-modalHeader-aJOI_i"},(0,De.Z)("Error")),y.createElement(Ed,null,t))))}var nse=n(64335),ise=n(97645);const sse=function(e,t){if(!e.indexes)return;const n=e.indexes.split(",");return n.length?E().indexOf(n,t)>-1?t:n[0]:void 0};var rse=n(73571);const ase=[/alexa/i,/sonos/i],ose={};function lse(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-dashboard-stop-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["polygon",{points:"383.704 280 560 456.296 456.296 560 280 383.704 103.704 560 0 456.296 176.296 280 0 103.704 103.704 0 280 176.296 456.296 0 560 103.704 383.704 280"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}lse.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const cse=lse;var dse=n(50612);var use=n(43534),pse=n(17401),mse=n(27479),hse=n(34773),gse=n(36452),yse=n(62393),vse=n(78002);const fse={[pse]:/alexa/i,[mse]:/android/i,[hse]:/plex.*atv|tvos/i,[gse]:/chrome/i,[yse]:/plex.*dash/i,[n(38807)]:/dlna/i,[n(74561)]:/edge/i,[n(64495)]:/firefox/i,[n(11606)]:/google.*tv/i,[n(8680)]:/internet.*explorer|explorer.*windows/i,[n(74625)]:/ios/i,[n(52626)]:/linux/i,[n(87060)]:/opera/i,[n(14576)]:/mac/i,[n(96897)]:/konvergo|plex.*home.*theater|plex.*media.*center/i,[n(72954)]:/plexamp/i,[n(28674)]:/plex.*media.*server/i,[n(25017)]:/WebMAF|playstation|mystery.*3/i,[n(36743)]:/roku/i,[n(95031)]:/safari/i,[n(79070)]:/samsung/i,[n(9811)]:/sonos/i,[n(50066)]:/plex.*vr/i,[n(32743)]:/wii.*u/i,[n(56199)]:/windows/i,[n(51773)]:/windows.*phone|wince/i,[n(67626)]:/xbox|mystery.*5/i},Ise=E().pairs(fse),bse={};function Mse(e){for(let t=0,n=Ise.length;t<n;t++){const[n,i]=Ise[t];if(i.test(e))return n}}function Sse(e,t){let n=bse[e]||bse[t];return n||(n=e&&Mse(e),n?(bse[e]=n,n):(n=t&&Mse(t),n?(bse[t]=n,n):vse))}function Ese(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-lock-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m280 0c154.536 0 280 125.464 280 280 0 154.536-125.464 280-280 280-154.536 0-280-125.464-280-280 0-154.536 125.464-280 280-280m-160 240l0 200 320 0 0-200-40.019 0 0-40-.001 0c.02-7.756-.72-15.486-2.2-23.072-1.088-5.577-2.575-11.076-4.448-16.441-1.886-5.402-4.161-10.668-6.802-15.743-3.116-5.991-6.74-11.716-10.817-17.099-4.131-5.455-8.728-10.557-13.722-15.235-4.912-4.6-10.209-8.789-15.818-12.507-5.444-3.608-11.182-6.772-17.14-9.446-9.444-4.237-19.437-7.236-29.653-8.897-4.12-.67-8.275-1.124-12.443-1.362-2.181-.125-4.365-.187-6.549-.197-.388-.001-.776 0-1.164.001-2.183.018-4.364.087-6.544.218-4.164.251-8.315.718-12.431 1.401-10.207 1.693-20.187 4.721-29.614 8.986-6.059 2.742-11.888 5.99-17.409 9.697-5.686 3.818-11.045 8.122-16.002 12.848-4.953 4.722-9.504 9.866-13.587 15.358-4.102 5.519-7.731 11.389-10.83 17.527-2.581 5.113-4.795 10.411-6.615 15.841-1.77 5.278-3.168 10.68-4.182 16.154-1.342 7.242-2.013 14.609-1.987 21.968l-.023 0 0 40-40 0m180 160l-40 0 0-45.359c-11.952-6.92-20-19.848-20-34.641 0-22.077 17.923-40 40-40 22.077 0 40 17.923 40 40 0 14.793-8.048 27.721-20 34.641l0 45.359m39.993-160l-119.986 0 0-40-.007-.197c.015-4.685.565-9.366 1.662-13.92 1.309-5.431 3.394-10.668 6.164-15.518 3.267-5.718 7.478-10.89 12.403-15.261 4.518-4.009 9.634-7.341 15.138-9.831 4.623-2.092 9.514-3.584 14.517-4.43 2.184-.37 4.389-.617 6.6-.743 1.105-.063 2.212-.094 3.318-.1.395 0 .789.002 1.183.008 1.166.02 2.33.07 3.492.155 2.2.16 4.39.441 6.558.843 4.922.912 9.723 2.451 14.257 4.57 5.473 2.557 10.549 5.95 15.018 10.012 4.873 4.429 9.022 9.651 12.219 15.408 2.715 4.888 4.736 10.156 5.978 15.608.986 4.326 1.479 8.761 1.493 13.197l-.007.199 0 40"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Ese.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const Dse=Ese;class Cse extends y.Component{shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{className:e,isConnected:t,isUnavailable:n,isSecure:i,isRelayed:s}=this.props;return s?y.createElement(Jh.Z,{className:we()(e,"ServerConnectionStatusIcon-warningIcon-Py8CKo"),title:(0,De.Z)("Indirect"),"aria-label":(0,De.Z)("Indirect")}):n?y.createElement(Ce.Z,{className:we()(e,"ServerConnectionStatusIcon-alertIcon-2mWchA"),title:(0,De.Z)("Unavailable"),"aria-label":(0,De.Z)("Unavailable")}):i&&t?y.createElement(Dse,{className:we()(e,"ServerConnectionStatusIcon-secureIcon-3_zNyc"),title:(0,De.Z)("Secure"),"aria-label":(0,De.Z)("Secure")}):null}}const Pse=Cse,wse="SessionTileDetails-title-_7lygH",Tse="SessionTileDetails-subtitle-2ELgE6",Zse="SessionTileDetails-streamType-wxiiLG",Nse="SessionTileDetails-streams-JOZZz7";function Ase({children:e}){return y.createElement("span",null,y.createElement("span",{className:(0,dse.Z)()?"SessionTileDetails-rightArrowForEdge-1I_KJj SessionTileDetails-rightArrow-1bdgq2":"SessionTileDetails-rightArrow-1bdgq2"}),e)}function xse({local:e,relayed:t}){let n;return n=t?(0,De.Z)("Indirect"):e?"Local":(0,De.Z)("Remote"),y.createElement("span",null,n)}function Lse({className:e,server:t,session:n,internalViewOffset:i}){const{duration:s,Media:r=[],Player:a,Session:o,TranscodeSession:l}=n,c=r.find((e=>e.selected))||r[0],d=(0,A0.Z)(c);let u=(0,N0.Z)(c);if(!u){const e=XP.Z.get("audio").id;u=(0,x0.Z)(c,{streamType:e})[0]}const p=!!c.videoCodec,m=!!c.audioCodec,h=!!d;return y.createElement("div",{className:e},y.createElement("div",{className:"SessionTileDetails-playerContainer-3T4Qna"},y.createElement("div",{className:"SessionTileDetails-playerIcon-1xTPFM"},y.createElement("img",{className:"SessionTileDetails-productLogo-1icVG8",src:Sse(a.product,a.platform),width:44,height:44}),y.createElement(Pse,{className:"SessionTileDetails-statusIcon-13Y0rh",isConnected:!0,isSecure:a.secure,isRelayed:a.relayed})),y.createElement("div",{className:"SessionTileDetails-playerInformation-3cHg7A"},y.createElement("div",{className:wse,title:`${a.product} ${tr.U} ${a.title}`},a.product," ",y.createElement(tr.Z,null)," ",a.title),y.createElement("div",{className:Tse},(g=a.state)?g.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})):"",s?y.createElement(y.Fragment,null,y.createElement(tr.Z,null),`${(0,Iy.Z)(i)} / ${(0,Iy.Z)(s)}`):null),y.createElement("div",{className:Tse},y.createElement(xse,{local:a.local,relayed:a.relayed}),a.relayed?null:` (${a.address})`,o?y.createElement(y.Fragment,null,y.createElement(tr.Z,null),y.createElement("span",{title:(0,De.Z)("The amount of outgoing bandwidth reserved for this playback session")},vie(1024*n.Session.bandwidth,0))):null))),p?y.createElement("div",{className:"SessionTileDetails-videoStreamInformation-1QQfKQ SessionTileDetails-streamInformation-3PfwJD"},y.createElement("div",{className:Zse},(0,De.Z)("Video")),y.createElement("div",{className:Nse},y.createElement("div",{className:wse},y.createElement(V0,{serverEntityID:t.entityID,type:"video",mediaItem:c}),(null==l?void 0:l.transcodeHwDecoding)?" (hw)":null),y.createElement("div",{className:wse},!o||l&&null!=l.videoDecision?null:y.createElement(Ase,null,(0,De.Z)("Direct Play")),l&&"copy"===l.videoDecision?y.createElement(Ase,null,(0,De.Z)("Direct Stream")):null,l&&"transcode"===l.videoDecision?y.createElement(Ase,null,`${(0,Nr.Z)(c.videoResolution,l.scanType)||(0,De.Z)("Unknown")} `,"(",(0,use.Z)(l.videoCodec),")",y.createElement(tr.Z,null),(0,De.Z)("Transcode"),l.transcodeHwEncoding?" (hw)":null):null))):null,m?y.createElement("div",{className:"SessionTileDetails-audioStreamInformation-kblp-r SessionTileDetails-streamInformation-3PfwJD"},y.createElement("div",{className:Zse},(0,De.Z)("Audio")),y.createElement("div",{className:Nse},y.createElement("div",{className:wse},y.createElement(V0,{serverEntityID:t.entityID,type:"audio",stream:u})),y.createElement("div",{className:wse},!o||l&&null!=l.audioDecision?null:y.createElement(Ase,null,(0,De.Z)("Direct Play")),l&&"copy"===l.audioDecision?y.createElement(Ase,null,(0,De.Z)("Direct Stream")):null,l&&"transcode"===l.audioDecision?y.createElement(Ase,null,(0,use.Z)(l.audioCodec),y.createElement(tr.Z,null),(0,De.Z)("Transcode")):null))):null,h?y.createElement("div",{className:"SessionTileDetails-subtitlesStreamInformation-eOM0P9 SessionTileDetails-streamInformation-3PfwJD"},y.createElement("div",{className:Zse},(0,De.Z)("Subtitles")),y.createElement("div",{className:wse},y.createElement(V0,{serverEntityID:t.entityID,type:"subtitles",stream:(0,A0.Z)(c)}))):null);var g}const Ose={textArea:"TextArea-textArea-1qOr8l input-input-26w-zg",small:"TextArea-small-1-xdhv",large:"TextArea-large-2_UsFW",isDisabled:"TextArea-isDisabled-7dSYgA input-isDisabled-2htfpI",hasError:"TextArea-hasError-2EWXCS input-hasError-1qJlnz"};var jse=Object.prototype.hasOwnProperty,kse=Object.getOwnPropertySymbols,Rse=Object.prototype.propertyIsEnumerable,zse=Object.assign;class Use extends y.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onChange(e.target.value)}}render(){const e=this.props,{className:t,errorClassName:n,disabledClassName:i,initialValue:s,isDisabled:r,size:a,name:o,hasError:l}=e,c=((e,t)=>{var n={};for(var i in e)jse.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&kse)for(var i of kse(e))t.indexOf(i)<0&&Rse.call(e,i)&&(n[i]=e[i]);return n})(e,["className","errorClassName","disabledClassName","initialValue","isDisabled","size","name","hasError"]);return y.createElement("textarea",zse(zse({},c),{id:o,name:o,disabled:r,className:we()(t,Ose[a],r&&i,l&&n),onChange:this.onChange}))}}Use.defaultProps={className:Ose.textArea,errorClassName:Ose.hasError,disabledClassName:Ose.isDisabled,isDisabled:!1,size:vc.ln,hasError:!1,rows:2};const Vse=Use;function Bse({session:e,isOpen:t,onModalClose:n}){const i=(0,f.I0)(),[s]=cn(),[r,a]=(0,y.useState)(""),{type:o,grandparentTitle:l,parentTitle:c,title:d,parentIndex:u,index:p,originallyAvailableAt:m,User:h}=e,g=o===Ho.EPISODE?(0,la.Z)({seasonIndex:u,episodeIndex:p,date:m,noLeadingZero:!0,separator:" · "}):null,v=(0,y.useCallback)((()=>{i(_m.actions.stopRequested({server:s,session:e,reason:r})),n()}),[i,r,s,e,n]),I=(0,y.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),v()}),[v]);return y.createElement(xt.ZP,{metricsPage:et.Vr},y.createElement(lc,{isOpen:t,size:We.Small,onModalClose:n},y.createElement(dc,{onModalClose:n},y.createElement(mc,null,(0,De.Z)("Stop {title}",{title:l||c||d}),g?y.createElement(y.Fragment,null,y.createElement(tr.Z,null),g):null),y.createElement(Ed,{className:"StopServerSessionModal-modalBody-2nj8ZB ModalBody-modalBody-O9hN9W"},y.createElement("div",{className:"StopServerSessionModal-topContainer-1AmROV"},y.createElement(V4.Z,{className:"StopServerSessionModal-avatarImg-2OypET AvatarImg-avatar-3gp48Z",serverEntityID:s.entityID,url:h.thumb,width:76,height:76}),y.createElement("div",{className:"StopServerSessionModal-description-1wkznm"},y.createElement("p",null,(0,De.Z)("Do you wish to stop this item's playback?")),y.createElement("p",null,(0,De.Z)("You may supply a message that will be displayed to {username}.",{username:h.title}))))),y.createElement(pc,{className:"StopServerSessionModal-modalFooter-2DgWFu ModalFooter-modalFooter-5RLmoy"},y.createElement(yee.Z,{className:"StopServerSessionModal-formLabel-Gah4N_ FormLabel-label-1WQL1E",name:"message"},(0,De.Z)("Message")),y.createElement(kee.ZP,{className:"StopServerSessionModal-form-3Z3BPB",onSubmit:I},y.createElement(Vse,{className:"StopServerSessionModal-textArea-2i3M2D TextArea-textArea-1qOr8l input-input-26w-zg","data-autofocus":!0,name:"message",rows:4,value:r,onChange:a})),y.createElement(Dd,{className:"StopServerSessionModal-buttonBar-3Ql6OX ModalFooterButtonBar-buttonBar-UJWGIc"},y.createElement(zn,{onPress:n},(0,De.Z)("Cancel")),y.createElement(zn,{kind:Dn.Primary,onPress:v},(0,De.Z)("Stop")))))))}const Fse="SessionTile-subtitle-2HwzYw";function Hse(e){return!!e.Media&&"livetv"===(e.Media.find((e=>e.selected))||e.Media[0]).origin}const _se=(0,y.memo)((function({sessionKey:e,isDetailsExpanded:t,canStopSessions:n}){const[i,s]=cn(),r=(0,y.useMemo)((()=>function(e,t){return(0,de.P1)(Jie(e),(e=>e.sessionsByKey[t]))}(i.machineIdentifier,e)),[i.machineIdentifier,e]),a=(0,f.v9)(r),o=a.Player.state===rse.Z.states.PLAYING,[l,c]=aa(),[d,u]=(0,y.useState)(a.viewOffset||0),[p,m]=(0,y.useState)(!1),{type:h,subtype:g,duration:v,attribution:I,Media:b,User:M,Session:S,TranscodeSession:E,Player:D}=a,C=null!=a.viewOffset,P=h===ri.pG.Game;let w=null;b&&(w=P&&E?`${E.key}/frame?t=${Date.now()}`:function(e,t,n){const i=(0,nse.Z)(e,t);if(!(n=sse(i,n)))return;const s=(0,ise.Z)(e,i,t);return"/library/parts/"+i.id+"/indexes/"+n+"/"+s}(b[0],d,"hd"));const T=l&&w,Z=function(e,t,n){const{key:i,parentKey:s,grandparentKey:r,type:a,skipDetails:o,skipParent:l,extraType:c}=n;if(c||o||a===ri.pG.Photo||Hse(n))return;let d=i;return a===ri.pG.Track&&(d=l?r:s),(0,ui.Z)(e,t,d)}(i,s,a),N=Z?xn:"div",A=!(!n||!S||function(e){const{product:t}=e;return ose.hasOwnProperty(t)||(ose[t]=ase.some((e=>e.test(t)))),ose[t]}(D)),x=function(e){const{type:t,grandparentTitle:n,parentTitle:i,title:s}=e;return Hse(e)?(0,De.Z)("Live TV"):t===ri.pG.Track||t===ri.pG.Photo?s:n||i||s}(a),L=function(e){const{type:t,index:n,parentIndex:i,originallyAvailableAt:s,grandparentTitle:r,parentTitle:a,title:o,year:l}=e;if(t===ri.pG.Track||t===ri.pG.Photo)return a;const c=[];return t===ri.pG.Episode&&c.push((0,la.Z)({seasonIndex:i,episodeIndex:n,date:s,noLeadingZero:!0,separator:" · "})),r||a?c.push(o):l&&c.push(String(l)),c.join(" ")}(a),O=function(e){const{type:t,grandparentTitle:n,parentTitle:i,year:s,duration:r}=e;return t===ri.pG.Movie||t===ri.pG.Episode?Fi(r):t===ri.pG.Album||t===ri.pG.Track?n||i:t===ri.pG.Photo?String(s):void 0}(a),j=function(e){return e.type===ri.pG.Track?e.parentThumb:e.type===ri.pG.Photo?e.thumb:e.grandparentThumb||e.parentThumb||e.thumb}(a),k=C?100:104,R=(0,qC.dz)(k,h,g,YC.Uz),z=(0,y.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),m(!0)}),[]),U=(0,y.useCallback)((()=>{m(!1)}),[]);return(0,y.useEffect)((()=>{let e;if(u(a.viewOffset||0),o){const t=Date.now();e=window.setInterval((()=>{u((a.viewOffset||0)+(Date.now()-t))}),1e3)}return()=>window.clearInterval(e)}),[o,a.viewOffset]),y.createElement("div",{className:"SessionTile-listItem-2OgYvk",ref:c},y.createElement(N,{className:"SessionTile-mediaInformationContainer-2AAqfz",to:Z},y.createElement("div",{className:"SessionTile-posterContainer-3RpP4e",style:{width:R}},y.createElement(KC.Z,{serverEntityID:i.entityID,type:h,url:j,width:R,height:k}),I?y.createElement(gs,{className:"SessionTile-attribution-3Pp4KX",attribution:I}):null),y.createElement("div",{className:we()("SessionTile-infoContainer-3mj_dy",C?"SessionTile-visibleProgressBar-2aleHq":void 0)},T?y.createElement("div",{className:"SessionTile-previewThumbnailContainer-1QDCx1"},y.createElement(ft.Z,{serverEntityID:i.entityID,providerEntityID:void 0,url:w,width:P?180:214,height:k,component:mt.Z,backgroundSize:P?"contain":"cover"})):y.createElement("div",{className:"SessionTile-metadataText-3BoZsR"},y.createElement("div",{className:"SessionTile-title-3a4niU",title:x},x),y.createElement("div",{className:Fse,title:L},L),y.createElement("div",{className:Fse,title:O},O))),C?y.createElement("div",{className:"SessionTile-progressTrack-VHa2Wz"},y.createElement("div",{className:"SessionTile-playProgressPercent-1ptKaF SessionTile-progressPercent-EycJMh",style:{width:`${(0,sa.Z)(d,v)}%`}}),(null==E?void 0:E.progress)?y.createElement("div",{className:"SessionTile-transcodeProgressPercent-2KFcyo SessionTile-progressPercent-EycJMh",style:{width:`${E.progress}%`}}):null):null),y.createElement(Lse,{className:we()("SessionTile-detailsContainer-3TP9dI",t?"SessionTile-detailsContainerExpanded-QZLl3y":void 0),server:i,session:a,internalViewOffset:d}),y.createElement("div",{className:"SessionTile-userContainer-1-zUJ_"},y.createElement(V4.Z,{className:"SessionTile-avatarImg-uFfVcg AvatarImg-avatar-3gp48Z",serverEntityID:i.entityID,url:M.thumb,width:40,height:40}),y.createElement("div",{className:"SessionTile-username-3tzgnj"},M.title),A?y.createElement(xn,{className:"SessionTile-stopButton-3VYdei Link-link-2WGTd7",onPress:z},y.createElement(cse,{className:"SessionTile-stopIcon-2dEg12","aria-label":(0,De.Z)("Stop playback")}),(0,De.Z)("Stop playback")):null),y.createElement(Bse,{session:a,isOpen:p,onModalClose:U}))}));function Qse(){const e=(0,f.I0)(),[t]=cn(),[n,{width:i}]=(0,Mp.Z)(),s=(0,y.useMemo)((()=>{return e=t.machineIdentifier,(0,de.P1)(Jie(e),(e=>e.sessionKeys));var e}),[t.machineIdentifier]),r=(0,f.v9)(s),a=(0,y.useMemo)((()=>{return e=t.machineIdentifier,(0,de.P1)(Jie(e),(e=>e.stopSessionError));var e}),[t.machineIdentifier]),o=(0,f.v9)(a),l=(0,f.v9)(rs("dashboardNowPlayingShowDetails")),c=t.ownerFeatures.includes("session_kick"),d=r.length>0,u=(0,y.useCallback)((()=>{(0,Rt.c9)((()=>{e(_m.actions.stopErrorDismissed({server:t}))}))}),[e,t]),p=(0,y.useCallback)((()=>{(0,Rt.c9)((()=>{e((0,Nv.LN)({dashboardNowPlayingShowDetails:!l}))}))}),[e,l]);return(0,y.useEffect)((()=>{let n;return d&&(n=window.setInterval((()=>e(_m.actions.fetchRequested({server:t}))),5e3)),()=>window.clearInterval(n)}),[e,d,t]),y.createElement("div",{ref:n},y.createElement(tse,{isOpen:!!o,errorMessage:(0,De.Z)("There was a problem stopping playback"),metricsPage:et.YX,onModalClose:u}),y.createElement(rie,{title:(0,De.Z)("Now Playing")},d?y.createElement(th.Z,{className:"NowPlaying-toggle-2co0cB Link-link-2WGTd7",component:xn,tooltip:l?(0,De.Z)("Hide Details"):(0,De.Z)("Show Details"),"data-qa-id":"toolbarToggleNowPlayingDetails",hideOnPress:!1,onPress:p},y.createElement(ese,null)):null),y.createElement("div",{className:"NowPlaying-tilesContainer-1-y9Ln"},d&&null!=i?y.createElement("div",{className:"NowPlaying-nowPlayingList-9iWEHr"},function(e,t){const n=Math.max(Math.floor((t+40)/320),1),i=Array.from(new Array(n),(()=>[]));return e.reduce(((e,t,i)=>(e[i%n].push(t),e)),i)}(r,i).map(((e,t)=>y.createElement("div",{key:t,className:"NowPlaying-column-2r__Xz",style:{width:"280px"}},e.map((e=>y.createElement(_se,{key:e,sessionKey:e,isDetailsExpanded:l,canStopSessions:c}))))))):null,d?null:y.createElement(Iie,{className:"NowPlaying-emptyMessage-CyG-c2 ServerDashboardPageMessage-container-2brmau"},(0,De.Z)("Nothing is currently being played"))))}function Gse({className:e,accounts:t,activeAccount:n,onAccountSelect:i}){const{menuButtonID:s,isMenuOpen:r,onMenuButtonPress:a,onMenuClose:o}=iN(),l=(0,y.useCallback)((e=>{const n=t.find((t=>t.id===e));o(),i(n)}),[t,o,i]);return y.createElement(y.Fragment,null,y.createElement(aie,{id:s,className:e,isMenuOpen:r,onPress:a},n?n.name:(0,De.Z)("All Users")),y.createElement(mo.Z,{target:s,isOpen:r,onMenuClose:o},y.createElement(Ic.Z,{value:void 0,isSelected:!n,onSelect:l},(0,De.Z)("All Users")),t.map((e=>y.createElement(Ic.Z,{key:e.id,value:e.id,isSelected:(null==n?void 0:n.id)===e.id,onSelect:l},e.name)))))}const Yse={statistics:[],accounts:[],isPending:!1,isPopulated:!1,error:null},Wse=(0,Fr.oM)({name:"dashboardPlayHistory",initialState:Yse,reducers:{reset:()=>Yse,playHistoryFetchRequested(e,t){(0,Vm.er)(e)},playHistoryFetchSucceeded(e,{payload:t}){(0,Vm.vv)(e),e.statistics=t.data.statistics,e.accounts=t.data.accounts},playHistoryFetchFailed(e,{payload:t}){(0,Vm.VQ)(e,t.error)}}});var Kse,qse;(qse=Kse||(Kse={}))[qse.All=0]="All",qse[qse.Movie=1]="Movie",qse[qse.TV=4]="TV",qse[qse.Music=10]="Music",qse[qse.Photo=13]="Photo",qse[qse.Game=19]="Game";const $se=(0,de.P1)(pie,(e=>e.playHistory));function Jse(e){switch(e){case Kse.All:return(0,De.Z)("All Media");case Kse.Movie:return(0,De.Z)("Movies");case Kse.TV:return(0,De.Z)("TV");case Kse.Music:return(0,De.Z)("Music");case Kse.Photo:return(0,De.Z)("Photos");case Kse.Game:return(0,De.Z)("Games");default:return""}}function Xse(e,t){return e.date-t.date}function ere(e){return Zi(e)||(0,Gi.Z)((0,IA.Z)(new Date))<=e}function tre(e,t,n,i=!1){if((0,mW.rG)(t)===mW.pP.Day&&Zi(e)){const e=(0,De.Z)("Today");return i?e.toUpperCase():e}return(0,$C.Z)((0,hi.Z)(e),n)}function nre(e){const t=e/60,n=t/60,i=n/24,s=i/365;let r,a;return t<1?(r=e.toFixed(),a="s"):n<1?(r=t.toFixed(),a="m"):i<1?(r=n.toFixed(1),a="h"):s<1?(r=i.toFixed(1),a="d"):(r=s.toFixed(1),a="y"),`${r}${a}`}function ire({isMoviesVisible:e,isTVVisible:t,isMusicVisible:n,isPhotosVisible:i,isGamesVisible:s,summedData:r,hasGameStatistics:a}){if(!r)return null;const o=e&&t&&n&&i;return y.createElement(y.Fragment,null,o?(0,De.Z)("Totals"):(0,De.Z)("Total"),": ",o?y.createElement(y.Fragment,null,Jse(Kse.Movie),y.createElement(tr.Z,null)):null,e?nre(r[Kse.Movie]||0):null,o?y.createElement(y.Fragment,null," | ",Jse(Kse.TV),y.createElement(tr.Z,null)):null,t?nre(r[Kse.TV]||0):null,o?y.createElement(y.Fragment,null," | ",Jse(Kse.Music),y.createElement(tr.Z,null)):null,n?nre(r[Kse.Music]||0):null,o?y.createElement(y.Fragment,null," | ",Jse(Kse.Photo),y.createElement(tr.Z,null)):null,i?nre(r[Kse.Photo]||0):null,a&&o?y.createElement(y.Fragment,null," | ",Jse(Kse.Game),y.createElement(tr.Z,null)):null,a&&s?nre(r[Kse.Game]||0):null)}function sre({statistics:e,activeStatisticsMetadataType:t,activeAccount:n,activeTimePeriod:i,hasGameStatistics:s,isPending:r,isPopulated:a,errorMessage:o,onGraphMetadataTypeSelect:l}){const[c,d]=(0,y.useState)(!1),{data:u,summedData:p}=(0,y.useMemo)((()=>function(e,t,n){const i={};return{data:e.reduce(((e,s)=>{const{accountID:r,at:a,metadataType:o,duration:l}=s;if(!(o in Kse))return e;const c=e.findIndex((e=>e.date===a)),d=-1!==c;let u;return u=d?e[c]:{date:a},n&&n.id!==r?(d||e.push(u),e):(t!==Kse.All&&t!==o||(u[o]=(u[o]||0)+l,i[o]=(i[o]||0)+l,u[Kse.All]=(u[Kse.All]||0)+l,i[Kse.All]=(i[Kse.All]||0)+l),d?e[c]=u:e.push(u),e)}),[]).sort(Xse),summedData:i}}(e,t,n)),[n,t,e]),m=t===Kse.Movie,h=m||t===Kse.All,g=t===Kse.TV,v=g||t===Kse.All,f=t===Kse.Music,I=f||t===Kse.All,b=t===Kse.Photo,M=b||t===Kse.All,S=t===Kse.Game,E=S||t===Kse.All,D=[{dataKey:String(Kse.Movie),title:Jse(Kse.Movie),visible:h,selected:m,color:"#9ad186"},{dataKey:String(Kse.TV),title:Jse(Kse.TV),visible:v,selected:g,color:"#f1335e"},{dataKey:String(Kse.Music),title:Jse(Kse.Music),visible:I,selected:f,color:"#366dfc"},{dataKey:String(Kse.Photo),title:Jse(Kse.Photo),visible:M,selected:b,color:"#e69f23"}];s&&D.push({dataKey:String(Kse.Game),title:Jse(Kse.Game),visible:E,selected:S,color:"#bc9bb7"});const C=(0,y.useCallback)((e=>{if((0,mW.rG)(i)===mW.pP.Week){const t=tre(e,i,(0,mW.fz)(i,!0)),n=(0,Gi.Z)((0,gie.Z)((0,hi.Z)(e),1));return Zi(e)&&ere(n)?(0,De.Z)("Today"):`${t} - ${tre(n,i,(0,mW.fz)(i,!0))}`}return tre(e,i,(0,mW.fz)(i,!0))}),[i]),P=(0,y.useCallback)((e=>nre(e)),[]),w=(0,y.useCallback)((e=>{if(i===mW.XH.Month){const t=tre(e,i,(0,mW.fz)(i)),n=(0,Gi.Z)((0,gie.Z)((0,hi.Z)(e),1));return Zi(e)&&ere(n)?(0,De.Z)("Today").toUpperCase():`${t} - ${tre(n,i,(0,mW.fz)(i))}`}return tre(e,i,(0,mW.fz)(i),!0)}),[i]),T=(0,y.useCallback)((e=>0===e?"":nre(e)),[]),Z=(0,y.useCallback)((()=>{d(!0)}),[]);return y.createElement(Sie,{isSpinnerVisible:r||!c,errorMessage:o},!r&&a?y.createElement(Rie,{width:"100%",height:280,series:D,data:u,legendSummary:y.createElement(ire,{isMoviesVisible:h,isTVVisible:v,isMusicVisible:I,isPhotosVisible:M,isGamesVisible:E,summedData:p,hasGameStatistics:s}),tooltipLabelFormatter:C,tooltipValueFormatter:P,xAxisTickFormatter:w,yAxisTickFormatter:T,onLegendPress:l,onChartReady:Z}):null)}function rre(){const e=(0,f.I0)(),[t]=cn(),[n,i]=(0,y.useState)(null),[s,r]=(0,y.useState)(mW.XH.Month),[a,o]=(0,y.useState)(s),l=(0,y.useMemo)((()=>[mW.XH.Week,mW.XH.Month,mW.XH.NinetyDays,mW.XH.Year,mW.XH.AllTime]),[]),[c,d]=(0,y.useState)(Kse.All),{accounts:u,statistics:p,isPending:m,isPopulated:h,error:g}=(0,f.v9)($se),v=!!p.find((e=>e.metadataType===Kse.Game)),I=(0,y.useMemo)((()=>{const e=[Kse.All,Kse.Movie,Kse.TV,Kse.Music,Kse.Photo];return v?e.concat([Kse.Game]):e}),[v]),b=(0,y.useMemo)((()=>u.slice().sort(PW)),[u]),M=sie(m,!0),S=(0,y.useCallback)((e=>{d(e)}),[]),E=(0,y.useCallback)((e=>{i(e)}),[]),D=(0,y.useCallback)((e=>{r(e)}),[]),C=(0,y.useCallback)((e=>{const t=parseInt(e,10),n=t===c?Kse.All:t;d(n)}),[c]);return(0,y.useEffect)((()=>{e(Wse.actions.playHistoryFetchRequested({server:t,timespan:(0,mW.rG)(s),after:(0,mW.xP)(s)}))}),[s,e,t]),(0,y.useEffect)((()=>{o(s)}),[p]),(0,y.useEffect)((()=>()=>{e(Wse.actions.reset())}),[e]),y.createElement("div",{className:"PlayHistory-container-2F130G"},y.createElement(rie,{title:(0,De.Z)("Play History")},y.createElement("div",{className:"PlayHistory-link-1L_4cE"},y.createElement(tr.Z,null),y.createElement(xn,{to:(0,EW.Z)(t.machineIdentifier)},(0,De.Z)("View Full History"))),y.createElement("div",null,y.createElement(oie,{values:I,activeValue:c,formatter:Jse,onSelect:S}),y.createElement(Gse,{accounts:b,activeAccount:n,onAccountSelect:E}),y.createElement(oie,{values:l,activeValue:s,formatter:mW.dZ,onSelect:D}))),y.createElement(sre,{statistics:p,activeStatisticsMetadataType:c,activeAccount:n,activeTimePeriod:a,isPending:M,isPopulated:h,hasGameStatistics:v,errorMessage:g?(0,De.Z)("Unable to load history"):null,onGraphMetadataTypeSelect:C}))}function are({children:e}){return y.createElement("div",{className:"ServerDashboardPageSection-section-2mPuPV"},e)}const ore={statistics:[],isPending:!1,isPopulated:!1,isUnsupported:!1,error:null,requestTimestampMilliseconds:null},lre=(0,Fr.oM)({name:"dashboardResources",initialState:ore,reducers:{reset:()=>ore,resourcesFetchRequested(e,t){(0,Vm.er)(e),e.isUnsupported=!1},resourcesFetchSucceeded(e,{payload:t}){(0,Vm.vv)(e),e.statistics=t.data,e.requestTimestampMilliseconds=t.requestTimestampMilliseconds},resourcesFetchFailed(e,{payload:t}){(0,Vm.VQ)(e,t.error),e.isUnsupported=404===t.error.status}}});var cre,dre;(dre=cre||(cre={})).All="all",dre.System="system",dre.PlexMediaServer="plex-media-server";const ure=(0,de.P1)(pie,(e=>e.resources));function pre(e){switch(e){case cre.All:return(0,De.Z)("All");case cre.PlexMediaServer:return"Plex Media Server";case cre.System:return(0,De.Z)("System");default:return""}}function mre(e){return 0===e?(0,De.Z)("Now"):(0,De.Z)("{timeAgo} ago",{timeAgo:Eie(e)})}function hre(e){return`${e.toFixed(2)}%`}function gre(e){return Eie(e)}function yre(e){return 0===e?"":`${Math.round(e)}%`}function vre({isPlexMediaServerVisible:e,isSystemVisible:t,summedData:n}){if(!n)return null;const i=e&&t;return y.createElement(y.Fragment,null,i?(0,De.Z)("Averages"):(0,De.Z)("Average"),": ",i?y.createElement(y.Fragment,null,pre(cre.PlexMediaServer),y.createElement(tr.Z,null)):null,e?`${(n[cre.PlexMediaServer]/25).toFixed(2)}%`:null,i?y.createElement(y.Fragment,null," | ",pre(cre.System),y.createElement(tr.Z,null)):null,t?`${(n[cre.System]/25).toFixed(2)}%`:null)}function fre({statistics:e,activeResourceType:t,hostKey:n,processKey:i,hostColor:s,processColor:r,isPopulated:a,errorMessage:o,onGraphResourceTypeSelect:l,onGraphTooltipActive:c,onGraphTooltipInactive:d}){const[u,p]=(0,y.useState)(!1),{data:m,summedData:h}=(0,y.useMemo)((()=>function(e,t,n,i){const s=i===cre.All||i===cre.System,r=i===cre.All||i===cre.PlexMediaServer,a={[cre.System]:0,[cre.PlexMediaServer]:0};return{data:e.slice(-25).map(((e,i)=>(a[cre.PlexMediaServer]=a[cre.PlexMediaServer]+(e[n]||0),a[cre.System]=a[cre.System]+(e[t]||0),{at:e.at,date:120-5*i,[cre.PlexMediaServer]:r?e[n]:null,[cre.System]:s?e[t]:null}))),summedData:a}}(e,n,i,t)),[t,n,i,e]),g=t===cre.All||t===cre.PlexMediaServer,v=t===cre.All||t===cre.System,f=[{dataKey:cre.PlexMediaServer,title:pre(cre.PlexMediaServer),visible:g,selected:t===cre.PlexMediaServer,color:s},{dataKey:cre.System,title:pre(cre.System),visible:v,selected:t===cre.System,color:r}],I=(0,y.useCallback)((()=>{p(!0)}),[]);return y.createElement(Sie,{isSpinnerVisible:!a||!u,errorMessage:o},a?y.createElement(Hie,{width:"100%",height:280,series:f,data:m,legendSummary:y.createElement(vre,{isPlexMediaServerVisible:g,isSystemVisible:v,summedData:h}),isAnimationActive:!1,showTooltipTotal:!1,yAxisDomain:[0,100],xAxisTickInterval:1,tooltipLabelFormatter:mre,tooltipValueFormatter:hre,xAxisTickFormatter:gre,yAxisTickFormatter:yre,onLegendPress:l,onChartReady:I,onTooltipActive:c,onTooltipInactive:d}):null)}const Ire="ServerResources-container-2cDOKT",bre="ServerResources-graph-1sDvQ8";function Mre(){const e=(0,f.I0)(),[t]=cn(),n=(0,y.useRef)(null),[i,s]=(0,y.useState)(cre.All),[r,a]=(0,y.useState)(cre.All),o=(0,y.useMemo)((()=>[cre.All,cre.PlexMediaServer,cre.System]),[]),{statistics:l,isPopulated:c,isUnsupported:d,error:u,requestTimestampMilliseconds:p}=(0,f.v9)(ure),m=(0,y.useCallback)((()=>{e(lre.actions.resourcesFetchRequested({server:t}))}),[e,t]),h=(0,y.useCallback)((e=>{s(e)}),[]),g=(0,y.useCallback)((e=>{a(e)}),[]),v=(0,y.useCallback)((e=>{const t=e===i?cre.All:e;s(t)}),[i]),I=(0,y.useCallback)((e=>{const t=e===r?cre.All:e;a(t)}),[r]),b=(0,y.useCallback)((()=>{n.current&&window.clearTimeout(n.current)}),[]);return(0,y.useEffect)((()=>{m()}),[m]),(0,y.useEffect)((()=>{if(p){const e=Date.now()-p,t=Math.max(5e3-e,0);n.current=window.setTimeout(m,t)}return()=>{n.current&&window.clearTimeout(n.current)}}),[p,m]),(0,y.useEffect)((()=>()=>{e(lre.actions.reset())}),[e]),d?null:y.createElement(y.Fragment,null,y.createElement(are,null,y.createElement("div",{className:Ire},y.createElement(rie,{title:(0,De.Z)("CPU")},y.createElement("div",null,y.createElement(oie,{values:o,activeValue:i,formatter:pre,onSelect:h}))),y.createElement("div",{className:bre},y.createElement(fre,{statistics:l,activeResourceType:i,hostKey:"hostCpuUtilization",processKey:"processCpuUtilization",hostColor:"#9ad186",processColor:"#f1335e",isPopulated:c,errorMessage:u?(0,De.Z)("Unable to load statistics"):void 0,onGraphResourceTypeSelect:v,onGraphTooltipActive:b,onGraphTooltipInactive:m})))),y.createElement(are,null,y.createElement("div",{className:Ire},y.createElement(rie,{title:(0,De.Z)("RAM")},y.createElement("div",null,y.createElement(oie,{values:o,activeValue:r,formatter:pre,onSelect:g}))),y.createElement("div",{className:bre},y.createElement(fre,{statistics:l,activeResourceType:r,hostKey:"hostMemoryUtilization",processKey:"processMemoryUtilization",hostColor:"#33f1c5",processColor:"#bd86d1",isPopulated:c,errorMessage:u?(0,De.Z)("Unable to load statistics"):null,onGraphResourceTypeSelect:I,onGraphTooltipActive:b,onGraphTooltipInactive:m})))))}const Sre={moviesStatistics:[],tvStatistics:[],musicStatistics:[],gameStatistics:[],isPending:!1,isPopulated:!1,error:null},Ere=(0,Fr.oM)({name:"dashboardTopPlayed",initialState:Sre,reducers:{reset:()=>Sre,topPlayedFetchRequested(e,t){(0,Vm.er)(e)},topPlayedFetchSucceeded(e,{payload:t}){(0,Vm.vv)(e),e.moviesStatistics=t.data.moviesStatistics,e.tvStatistics=t.data.tvStatistics,e.musicStatistics=t.data.musicStatistics,e.gameStatistics=t.data.gameStatistics},topPlayedFetchFailed(e,{payload:t}){(0,Vm.VQ)(e,t.error)}}}),Dre=(0,de.P1)(pie,(e=>e.topPlayed));function Cre({title:e,isEmpty:t,metadataItem:n}){const[i]=cn();return y.createElement("div",{className:t?"TopPlayedColumnHeader-header-18soae":"TopPlayedColumnHeader-tintedHeader-3z8d6I TopPlayedColumnHeader-header-18soae"},!t&&n?y.createElement("div",{className:"TopPlayedColumnHeader-imageContainer-1TZhlQ"},y.createElement(FQ.Z,{serverEntityID:i.entityID,url:n.art||n.thumb,width:200,height:100,backgroundPosition:"center top"})):null,y.createElement("div",{className:t?"TopPlayedColumnHeader-emptyTitleBackground-2WSjne TopPlayedColumnHeader-titleBackground-2z6FUE":"TopPlayedColumnHeader-titleBackground-2z6FUE"},y.createElement("div",{className:"TopPlayedColumnHeader-titleText-2z0Dhq"},e)))}function Pre({className:e,style:t,metadataItem:n,activeTimePeriod:i}){const[s]=cn(),{key:r,type:a,title:o,thumb:l,globalViewCount:c,userCount:d}=n,u=a===Ho.ARTIST,p=(0,ui.Z)(s,{isLibraryProvider:!0},r);return y.createElement("div",{className:e,style:t},y.createElement(xn,{className:u?"TopPlayedColumnRow-artistPoster-2qUV2H Link-link-2WGTd7":"TopPlayedColumnRow-poster-2e1B8A Link-link-2WGTd7",to:p},y.createElement(KC.Z,{serverEntityID:s.entityID,type:a,url:l,width:u?60:53,height:u?60:80})),y.createElement("div",{className:"TopPlayedColumnRow-summary-SalQ8Q"},y.createElement(xn,{className:"TopPlayedColumnRow-itemTitle-3J-Bbs Link-link-2WGTd7",title:o,to:p},o),y.createElement(xn,{to:(0,xd.Z)(s.machineIdentifier,n,i)},1===c?(0,De.Z)("{count} play",{count:1}):(0,De.Z)("{count} plays",{count:c})),y.createElement("div",null,1===d?(0,De.Z)("{count} user",{count:1}):(0,De.Z)("{count} users",{count:d}))))}const wre=[.5,.4,.3,.2,.1,.05];function Tre({className:e,type:t,title:n,items:i=[],activeTimePeriod:s}){const r=0===i.length;return y.createElement("div",{className:e},y.createElement(Cre,{metadataItem:i[0],isEmpty:r,title:n}),r?y.createElement("div",{className:"TopPlayedColumn-emptyItem-1vTVOH TopPlayedColumn-item-1_UiZ5"},function(e){switch(e){case ri.pG.Movie:return(0,De.Z)("No Movies Played");case ri.pG.Show:return(0,De.Z)("No TV Played");case ri.pG.Artist:return(0,De.Z)("No Artists Played");case ri.pG.Game:return(0,De.Z)("No Games Played");default:return""}}(t)):i.map(((e,t)=>y.createElement(Pre,{key:e.key,className:"TopPlayedColumn-item-1_UiZ5",style:{backgroundColor:`rgba(0, 0, 0, ${wre[t]})`},metadataItem:e,activeTimePeriod:s}))))}function Zre({moviesStatistics:e,tvStatistics:t,musicStatistics:n,gameStatistics:i,activeTimePeriod:s,isSpinnerVisible:r,showList:a,errorMessage:o}){const l=a&&!o,c=function(e,t,n,i){const s=[{type:ri.pG.Movie,title:(0,De.Z)("Movies"),items:e},{type:ri.pG.Show,title:(0,De.Z)("TV"),items:t},{type:ri.pG.Artist,title:(0,De.Z)("Artists"),items:n}];return i.length>0?s.concat({type:ri.pG.Game,title:(0,De.Z)("Games"),items:i}):s}(e,t,n,i);return y.createElement(bie,{className:r?"TopPlayedList-spinnerContainer-3o-4YG TopPlayedList-container-y6cfga ServerDashboardSectionContent-container-3ldxdw":"TopPlayedList-container-y6cfga ServerDashboardSectionContent-container-3ldxdw",isSpinnerVisible:r,errorMessage:o},l?c.map((e=>y.createElement(Tre,{key:e.type,className:"TopPlayedList-column-I4lChp",type:e.type,title:e.title,items:e.items,activeTimePeriod:s}))):null)}function Nre(){const e=(0,f.I0)(),[t]=cn(),[n,i]=(0,y.useState)(null),[s,r]=(0,y.useState)(mW.XH.Month),a=(0,y.useMemo)((()=>[mW.XH.Week,mW.XH.Month,mW.XH.NinetyDays,mW.XH.Year,mW.XH.AllTime]),[]),{moviesStatistics:o,tvStatistics:l,musicStatistics:c,gameStatistics:d,isPending:u,isPopulated:p,error:m}=(0,f.v9)(Dre),h=sie(u,!0),g=(0,f.v9)(wW(t.machineIdentifier)),v=(0,y.useCallback)((e=>{i(e)}),[]),I=(0,y.useCallback)((e=>{r(e)}),[]);return(0,y.useEffect)((()=>{e(GY.actions.populateRequested({server:t}))}),[e,t]),(0,y.useEffect)((()=>{e(Ere.actions.topPlayedFetchRequested({server:t,accountID:n?n.id:void 0,viewedAt:(0,mW.xP)(s),limit:6}))}),[s,n,e,t]),(0,y.useEffect)((()=>()=>{e(Ere.actions.reset())}),[e]),y.createElement(y.Fragment,null,y.createElement(rie,{title:(0,De.Z)("Top Played")},y.createElement("div",null,y.createElement(Gse,{accounts:g,activeAccount:n,onAccountSelect:v}),y.createElement(oie,{values:a,activeValue:s,formatter:mW.dZ,onSelect:I}))),y.createElement(Zre,{moviesStatistics:o,tvStatistics:l,musicStatistics:c,gameStatistics:d,activeTimePeriod:s,isSpinnerVisible:h,showList:!h&&p,errorMessage:m?(0,De.Z)("Unable to load statistics"):null}))}const Are={statistics:[],accounts:[],isPending:!1,isPopulated:!1,error:null},xre=(0,Fr.oM)({name:"dashboardTopUsers",initialState:Are,reducers:{reset:()=>Are,topUsersFetchRequested(e,t){(0,Vm.er)(e)},topUsersFetchSucceeded(e,{payload:t}){(0,Vm.vv)(e),e.statistics=t.data.statistics,e.accounts=t.data.accounts},topUsersFetchFailed(e,{payload:t}){(0,Vm.VQ)(e,t.error)}}}),Lre=(0,de.P1)(pie,(e=>e.topUsers));var Ore=Object.prototype.hasOwnProperty,jre=Object.getOwnPropertySymbols,kre=Object.prototype.propertyIsEnumerable,Rre=Object.assign;const zre=[rv.Z.serverDashboardTileRowBackgroundPrimaryColor,rv.Z.serverDashboardTileRowBackgroundSecondaryColor,rv.Z.serverDashboardTileRowBackgroundTertiaryColor,rv.Z.serverDashboardTileRowBackgroundQuaternaryColor];function Ure(e){return Fi(1e3*e)||(0,De.Z)("{1} min",0)}const Vre=(0,y.memo)((function(e){var{activeTimePeriod:t,item:n}=e,i=((e,t)=>{var n={};for(var i in e)Ore.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&jre)for(var i of jre(e))t.indexOf(i)<0&&kre.call(e,i)&&(n[i]=e[i]);return n})(e,["activeTimePeriod","item"]);const[s]=cn(),r=Br(Rre(Rre({},i),{moveDurationMilliseconds:0}));if(!n)return null;const{accountID:a,username:o,thumb:l,playCount:c,totalDuration:d,durations:u}=n,p=Object.keys(u).sort(((e,t)=>u[e]>u[t]?-1:u[e]<u[t]?1:0));return y.createElement("div",{style:r.style},y.createElement("div",{className:"TopUsersCell-summaryContainer-KlLaIS"},y.createElement(V4.Z,{className:"TopUsersCell-avatar-LrTfuO AvatarImg-avatar-3gp48Z",serverEntityID:s.entityID,url:l,width:50,height:50}),y.createElement("div",{className:"TopUsersCell-summary-A6hS9R"},y.createElement("div",null,1===c?(0,De.Z)("{playCount} play",{playCount:c}):(0,De.Z)("{playCount} plays",{playCount:c})),y.createElement("div",null,Ure(d))),y.createElement(xn,{className:"TopUsersCell-playHistoryLink-3CGFoX Link-link-2WGTd7",to:(0,EW.Z)(s.machineIdentifier,{filters:`accountID=${a}&viewedAt=${(0,mW.xP)(t)}`,activeTimePeriod:t})},(0,De.Z)("View Play History"))),y.createElement("div",{className:"TopUsersCell-username-3kEZDP TopUsersCell-row-Ti34op",title:o},o),p.map(((e,t)=>y.createElement("div",{key:e,className:"TopUsersCell-metadataRow-2kTaFS TopUsersCell-row-Ti34op",style:{backgroundColor:zre[t]}},y.createElement("div",{className:"TopUsersCell-metadataTitle-20f8Xr"},Jse(parseInt(e,10))),y.createElement("div",{className:"TopUsersCell-duration-1UVwM4"},Ure(u[e]))))))}));var Bre=Object.assign;const Fre=Au({columnWidth:200,rowHeight:290,innerHorizontalPadding:40});function Hre({activeTimePeriod:e,accounts:t,statistics:n,isSpinnerVisible:i,showList:s,errorMessage:r,targetScrollIndex:a,smoothScroll:o,onListUpdate:l}){const c=(0,y.useMemo)((()=>function(e,t){if(!t)return[];const n=!!t.find((e=>e.metadataType===Kse.Game));return t.reduce(((t,i)=>{const{accountID:s,metadataType:r,count:a,duration:o}=i;if(!(r in Kse)||-1===s)return t;const l=t.findIndex((e=>e.accountID===s)),c=-1!==l;let d;if(c)d=t[l];else{const t=e.find((e=>e.id===s));d={accountID:s,username:null==t?void 0:t.name,thumb:null==t?void 0:t.thumb,playCount:0,totalDuration:0,durations:{[Kse.Movie]:0,[Kse.TV]:0,[Kse.Music]:0,[Kse.Photo]:0}},n&&(d.durations[Kse.Game]=0)}return d.playCount=d.playCount+a,d.totalDuration=d.totalDuration+o,d.durations[r]=d.durations[r]+o,c?t[l]=d:t.push(d),t}),[]).sort(((e,t)=>e.totalDuration>t.totalDuration?-1:e.totalDuration<t.totalDuration?1:0))}(t,n)),[t,n]),d=s&&0===c.length?(0,De.Z)("No data"):null,u=r||d,p=s&&!u,m=(0,y.useMemo)((()=>t=>y.createElement(Vre,Bre(Bre({},t),{activeTimePeriod:e}))),[e]);return y.createElement(bie,{className:i?"TopUsersList-spinnerContainer-8Ml_wv TopUsersList-container-2msq7l ServerDashboardSectionContent-container-3ldxdw":"TopUsersList-container-2msq7l ServerDashboardSectionContent-container-3ldxdw",isSpinnerVisible:i,errorMessage:u},p?y.createElement(Hc,{className:"TopUsersList-listContainer-7XyGhm VirtualListScroller-scroller-2VrU8W Scroller-scroller-3Rbtv0",keyPropName:"accountID",items:c,totalSize:c.length,layout:Fre,cellComponentFactory:m,scrollDirection:Ne.Horizontal,targetScrollIndex:a,smoothScroll:o,onListUpdate:l}):null)}const _re="TopUsers-listScrollButton-1vozQT IconButton-iconButton-1kbRFb Link-link-2WGTd7";function Qre(){const e=(0,f.I0)(),[t]=cn(),n=(0,y.useRef)(null),[i,s]=(0,y.useState)(!1),[r,a]=(0,y.useState)(!1),[o,l]=(0,y.useState)(0),[c,d]=(0,y.useState)(!1),[u,p]=(0,y.useState)(mW.XH.Week),{accounts:m,statistics:h,isPending:g,isPopulated:v,error:I}=(0,f.v9)(Lre),b=sie(g,!0),M=(0,y.useMemo)((()=>[mW.XH.Day,mW.XH.Week,mW.XH.Month,mW.XH.NinetyDays,mW.XH.Year,mW.XH.AllTime]),[]),S=(0,y.useCallback)((e=>{p(e)}),[]),E=(0,y.useCallback)((e=>{const{visibleStartIndex:t,visibleEndIndex:i,renderEndIndex:r}=e;n.current=e,s(t>0),a(r>i)}),[]),D=(0,y.useCallback)((()=>{const e=n.current;if(e){const t=e.visibleEndIndex-e.visibleStartIndex;l(Math.max(e.visibleStartIndex-t-1,0)),d(!0)}}),[]),C=(0,y.useCallback)((()=>{const e=n.current;e&&(l(e.visibleEndIndex+1),d(!0))}),[]);return(0,y.useEffect)((()=>{e(xre.actions.topUsersFetchRequested({server:t,timespan:(0,mW.rG)(u),after:(0,mW.xP)(u)}))}),[u,e,t]),(0,y.useEffect)((()=>{l(0),d(!1)}),[h]),(0,y.useEffect)((()=>()=>{e(xre.actions.reset())}),[e]),y.createElement("div",{className:"TopUsers-container-n_iDLV"},y.createElement(rie,{title:(0,De.Z)("Top Users")},y.createElement("div",null,y.createElement(oie,{values:M,activeValue:u,formatter:mW.dZ,onSelect:S}),y.createElement("div",{className:"TopUsers-listActions-2mok2H"},y.createElement(ap,{className:_re,iconComponent:pp,isDisabled:!i,title:(0,De.Z)("Previous Page"),onPress:D}),y.createElement(ap,{className:_re,iconComponent:dp,isDisabled:!r,title:(0,De.Z)("Next Page"),onPress:C})))),y.createElement(Hre,{activeTimePeriod:u,accounts:m,statistics:h,isSpinnerVisible:b,showList:!b&&v,errorMessage:I?(0,De.Z)("Unable to load statistics"):null,targetScrollIndex:o,smoothScroll:c,onListUpdate:E}))}var Gre=n(88359),Yre=n(47311);const Wre="ServerDashboardPageUpsell-image-6qzvbi";function Kre(){const e=(0,f.I0)(),t=(0,y.useCallback)((()=>{(0,Rt.c9)((()=>{e((0,Nv.LN)({hasDismissedServerDashboardUpsell:!0}))}))}),[e]);return y.createElement("div",{className:"ServerDashboardPageUpsell-upsell-3Znszn"},y.createElement("div",{className:"ServerDashboardPageUpsell-description-2KoCeh"},`${(0,De.Z)("Want more data? Get stats like top users, what's popular, and bandwidth usage with the new server Dashboard for Plex Pass holders!")} `,y.createElement(xn,{kind:Dn.Primary,to:"https://www.plex.tv/plex-pass",target:"_blank"},(0,De.Z)("Learn more"))),y.createElement("div",{className:"ServerDashboardPageUpsell-chartImageContainer-3HB1r8"},y.createElement("img",{className:Wre,src:String(Gre)})),y.createElement("div",{className:"ServerDashboardPageUpsell-listImageContainer-1xKM_D"},y.createElement("img",{className:Wre,src:String(Yre)})),y.createElement(xn,{className:"ServerDashboardPageUpsell-button-2Ltxyx Link-link-2WGTd7",onPress:t},y.createElement(cc.Z,null)))}function qre(){const[e]=cn(),t=e.ownerFeatures.includes(be.km),n=(0,f.v9)(rs("hasDismissedServerDashboardUpsell"));return y.createElement(y.Fragment,null,t||n?null:y.createElement(Kre,null),y.createElement(are,null,y.createElement(Qse,null)),t?y.createElement(y.Fragment,null,y.createElement(are,null,y.createElement($ie,null)),y.createElement(Mre,null),y.createElement(are,null,y.createElement(Qre,null)),y.createElement(are,null,y.createElement(rre,null)),y.createElement(are,null,y.createElement(Nre,null))):null)}const $re=bne.extend({component(e){const t=e.server;return y.createElement(dn,{machineIdentifier:t.get("machineIdentifier"),providerIdentifier:pa.Y3},y.createElement(qre,null))}});var Jre=n(36776);const Xre="backgroundTranscodeJobs",eae="syncMetadataItems",tae=KM.Z.extend({name:"SyncMetadataModel",entityType:eae,entityID(e=this.state){return(0,kt.Z)(this.entityType,e.ratingKey,this.syncItemId,this.server.entityID())},context:["server","device","syncItemId"],cache:new Jre.Z,cacheKey:function(){const e=KM.Z.prototype.cacheKey.apply(this,arguments);return e+"!"+this.syncItemId}}),nae=_S.Z.extend({name:"SyncMetadataCollection",context:["server","device","syncItemId"],model:tae,url(){return`/sync/items/${this.syncItemId}`},augmentResponseText:(e,t)=>t===bA.Ls?(0,SA.Z)(e):e});var iae=n(14205),sae=n.n(iae);const rae=m.Z.ItemView.extend({tagName:"li",className:"sync-status-list-item",template:sae(),ui:{poster:".media-poster"},initialize:function(e){this.syncItem=e.syncItem,this.transcodeJobs=this.model.server.get("desktop").get("transcodeJobs"),this.$el.addClass(this.model.get("type")),this.image=new Rne.Z({model:this.model,type:this.model.get("type"),getUrl:this.getPosterUrl,height:50,background:!1}),this.listenTo(this.transcodeJobs,"reset",(function(e){this.model.trigger("change:Media",this.model,this.model.get("Media"))}))},getPosterUrl:function(e){return e||this.model.get("parentThumb")||this.model.get("grandparentThumb")},analyzeTranscodeJobs:function(){var e;return this.transcodeJobs.each(E().bind((function(t){if(this.syncItem.id===t.get("syncItemId")){var n=this.model.get("thumb"),i=this.model.get("title"),s=t.get("transcodeThumb"),r=t.get("title"),a=r&&r.indexOf(i)>-1,o=!0;n&&s&&(o=new RegExp("(.+)"+t.get("thumb")+"$").exec(n)),a&&o&&(e=t)}}),this)),e&&e.get("progress")>0?{active:!0,speed:Math.round(10*e.get("speed"))/10,remaining:Hi(e.get("remaining"))||(0,De.Z)("done"),progress:Math.round(10*e.get("progress"))/10,isUploading:"upload"===e.get("type")}:{active:!1}},analyzeParts:function(){var e="complete",t=this.model.get("Media");if(!t.length)return"unknown";for(var n=0,i=t.length;n<i;n++)for(var s=t[n].Part,r=0,a=s.length;r<a;r++){var o=s[r],l=Une.Z.getSyncStateFromPart(o);Une.Z.failedRegex.test(l)&&(e=Une.Z.getSyncStateContextFromPart(o)),Une.Z.processingRegex.test(l)&&(e="downloading"===l?"downloading":"processing"),Une.Z.waitingRegex.test(l)&&"processing"!==e&&(e=o.key?"waiting":"processing")}return e},getErrorMessage:function(e){switch(e){case"sourceFileUnavailable":return(0,De.Z)("This media is inaccessible. Please check that the file exists with the correct permissions.");case"sourceFileMetadataError":return(0,De.Z)("The metadata for this media is invalid. Please reanalyze the media and try again.");case"clientProfileError":return(0,De.Z)("The client profile for the sync target is invalid.");case"ioError":return(0,De.Z)("An error occurred processing this media. Please check that the disk is not full.");case"transcoderError":return(0,De.Z)("The transcoder was unable to process this media.");case"mediaAnalysisError":return(0,De.Z)("This media was unable to be analyzed.");case"downloadFailed":return(0,De.Z)("This media was unable to be downloaded. Please check that it is still available and try again.");case"unknownError":return(0,De.Z)("An error occurred while syncing this media.")}return(0,De.Z)("An error occurred while syncing this media.")},bindings:{".title":{modelAttribute:"title"},".subtitle":{modelAttribute:"Media",manual:!0,formatter:function(e){var t=this.analyzeParts(),n=this.analyzeTranscodeJobs();switch(this.$(".subtitle").addClass("hidden"),t){case"complete":this.$(".complete-subtitle").removeClass("hidden");break;case"waiting":this.$(".waiting-subtitle").removeClass("hidden");break;case"downloading":n.active?(this.$(".downloading-subtitle").removeClass("hidden"),this.$(".transcode-progress").text(n.progress)):this.$(".processing-subtitle").removeClass("hidden");break;case"processing":n.active?(this.$(".converting-subtitle").removeClass("hidden"),this.$(".transcode-progress").text(n.progress),this.$(".transcode-remaining").text(n.remaining)):this.$(".processing-subtitle").removeClass("hidden");break;case"unknown":this.$(".unknown-subtitle").removeClass("hidden");break;default:this.$(".failed-subtitle").removeClass("hidden"),this.$(".error-message").text(this.getErrorMessage(t))}}}},onRender:function(){this.image.setElement(this.ui.poster)}}),aae=Mne.Z.extend({tagName:"ul",className:"list sync-status-list",itemView:rae});var oae=n(21288),lae=n(83273),cae=n.n(lae);const dae=oae.Z.extend({name:"syncStatusModal",template:cae(),regions:{list:".sync-status-list-container"},onRender:function(){oae.Z.prototype.onRender.apply(this,arguments),this.list.show(new aae({collection:this.collection,itemViewOptions:{syncItem:this.model}}))}});var uae=n(91939),pae=n.n(uae);const mae=m.Z.ItemView.extend({className:"modal-body",template:pae(),events:{"click .try-again-link":"onTryAgainClick"},onTryAgainClick:function(e){e.preventDefault(),this.triggerMethod("request:state","form")}});var hae=n(35839),gae=n(45662),yae=n(89318);const vae=E().extend({},yae.Z,{type:"music",qualities:{bitrate:[96,128,192,320]},getNearestIndexToBitrate:function(e){return this.getNearestIndex(this.qualities.bitrate,e)}}),fae=E().extend({},yae.Z,{type:"photo",qualities:{photoResolution:["720x480","1280x720","1920x1080","3840x2160"],photoQuality:[24,49,74,99],title:function(){return[(0,De.Z)("Low"),(0,De.Z)("Medium"),(0,De.Z)("High"),(0,De.Z)("Highest")]}},getNearestIndexToQuality:function(e){return this.getNearestIndex(this.qualities.photoQuality,e)}});var Iae=n(56524),bae=n.n(Iae);const Mae=m.Z.ItemView.extend({className:"sync-quality-container form-group",template:bae(),events:{"change select[name=videoQuality]":"onVideoQualityChange","change select[name=musicQuality]":"onMusicQualityChange","change select[name=photoQuality]":"onPhotoQualityChange"},initialize:function(e){var t=(0,M.DB)("appModel").get("user").get("experienceSettings");this.mediaSettings=this.model.get("mediaSettings"),this.mediaSettings.has("audioBoost")||this.mediaSettings.set("audioBoost",t.get("audioBoost")),this.mediaSettings.has("subtitleSize")||this.mediaSettings.set("subtitleSize",t.get("subtitleSize")),this.initVideoQuality(),this.initMusicQuality(),this.initPhotoQuality()},initVideoQuality:function(){this.availableVideoQualities=qP.Z.getAvailableQualities({lowestQualityIndex:gae.G}).reverse();var e=(0,M.DB)("appModel").get("settings"),t=this.mediaSettings.get("maxVideoBitrate"),n=t?qP.Z.getNearestIndexToBitrate(t):e.get(qP.Z.getSyncQualityAttribute());this.updateVideoQuality(qP.Z.getQualityByIndex(n))},initMusicQuality:function(){this.availableMusicQualities=vae.getAvailableQualities().reverse();var e=(0,M.DB)("appModel").get("settings"),t=this.mediaSettings.get("musicBitrate"),n=t?vae.getNearestIndexToBitrate(t):e.get(vae.getSyncQualityAttribute());this.updateMusicQuality(vae.getQualityByIndex(n))},initPhotoQuality:function(){this.availablePhotoQualities=fae.getAvailableQualities().reverse();var e=(0,M.DB)("appModel").get("settings"),t=this.mediaSettings.get("photoQuality"),n=t?fae.getNearestIndexToQuality(t):e.get(fae.getSyncQualityAttribute());this.updatePhotoQuality(fae.getQualityByIndex(n))},serializeData:function(){return{typeElement:(0,Ho.getMetadataType)(this.model.get("metadataType")).mediaType,supportsOriginalQuality:this.model.server.supports("syncOriginalQuality"),availableVideoQualities:this.availableVideoQualities,selectedVideoQuality:this.selectedVideoQuality,availableMusicQualities:this.availableMusicQualities,selectedMusicQuality:this.selectedMusicQuality,availablePhotoQualities:this.availablePhotoQualities,selectedPhotoQuality:this.selectedPhotoQuality}},updateVideoQuality:function(e){this.selectedVideoQuality=e,this.mediaSettings.set({videoQuality:e.videoQuality,videoResolution:e.videoResolution,maxVideoBitrate:e.bitrate})},updateMusicQuality:function(e){this.selectedMusicQuality=e,this.mediaSettings.set({musicBitrate:e.bitrate})},updatePhotoQuality:function(e){this.selectedPhotoQuality=e,this.mediaSettings.set({photoQuality:e.photoQuality,photoResolution:e.photoResolution})},saveQualityIndex:function(e,t){var n=parseInt(t,10);return(0,M.DB)("appModel").get("settings").save(e.getSyncQualityAttribute(),n),e.getQualityByIndex(n)},onVideoQualityChange:function(e){var t=this.saveQualityIndex(qP.Z,e.currentTarget.value);this.updateVideoQuality(t)},onMusicQualityChange:function(e){var t=this.saveQualityIndex(vae,e.currentTarget.value);this.updateMusicQuality(t)},onPhotoQualityChange:function(e){var t=this.saveQualityIndex(fae,e.currentTarget.value);this.updatePhotoQuality(t)}});var Sae=n(20166),Eae=n.n(Sae),Dae={video:"movie",audio:"track",photo:"photo"};const Cae=m.Z.Layout.extend({template:Eae(),ui:{submitBtn:".submit-btn"},regions:{policyRegion:".policy-region",qualityRegion:".quality-region"},events:{"change input[name=title]":"onTitleChange","submit #sync-form":"onSubmit"},initialize:function(e){var t=M.DB("appModel");if(this.device=e.device,this.model)this.tempModel=this.model.clone();else{var n,i,s=e.item,r=e.items;s.get("isPlaylist")?(n=s,i=Dae[s.get("playlistType")]):s.get("isMetadataList")?(n=s,i=(0,Ho.getLeafType)(s.get("firstItemType")).typeString):(n=s.has("childrenKey")?new MD.Z({containerKey:s.get("childrenKey")},{server:s.server,provider:s.provider}):s,i=(0,Ho.getLeafType)(s.get("type")).typeString),i===Ho.COLLECTION&&(i=s.get("subtype")),this.tempModel=new Vne({metadataType:i,title:jne.Z.title(s,{items:r}),rootTitle:this.getRootTitle(s),machineIdentifier:s.server.id,clientIdentifier:this.device.get("clientIdentifier"),Location:{uri:jne.Z.uri(n,{items:r})}},{parent:s.server,server:t.get("user").server,device:this.device})}},serializeData:function(){return{syncItem:this.tempModel.toJSON(),isNew:this.tempModel.isNew()}},getRootTitle:function(e){return e.section?e.section.get("title"):e.get("title")},onRender:function(){this.policyRegion.show(new hae.Z({model:this.tempModel,isSync:!0})),this.qualityRegion.show(new Mae({model:this.tempModel}))},onTitleChange:function(e){this.tempModel.set("title",e.currentTarget.value)},onSubmit:function(e){e.preventDefault();var t=this.ui.submitBtn;if(!t.hasClass("active")){t.addClass("active");var n=this.tempModel.save();n.done(E().bind((function(){if(this.model){var e=this.model.get("version")||0,t=E().omit(this.tempModel.toJSON(),"children");t.version=e+1,this.model.set(this.model.parse(t))}}),this)),(n=n.then(E().bind((function(){return One.Z.execute("refreshSyncLists",{server:this.tempModel.parent,silent:!0})}),this))).done(this.whenRendered((function(){this.trigger("request:nextState")}))),n.fail(this.whenRendered((function(){this.trigger("request:state","error")})))}}});var Pae=n(98915),wae=n.n(Pae);const Tae=m.Z.ItemView.extend({className:"modal-body",template:wae(),events:{"click .status-link":"onStatusClick"},onStatusClick:function(e){e.preventDefault(),this.triggerMethod("request:nextState"),(0,Ine.Z)("serverSettingsStatusSync",{machineIdentifier:this.options.server.id,deviceID:this.options.device.id})}});var Zae=n(24740),Nae=n.n(Zae);const Aae=oae.Z.extend({mixins:[ne.Z],name:"syncModal",className:"convert-modal modal fade",template:Nae(),regions:{bodyRegion:".modal-body-region"},initialize:function(e){oae.Z.prototype.initialize.apply(this,arguments),this.device=this.model?this.model.device:e.device},initialState:"form",states:{form:{nextState:"success",onEnter:function(){this.bodyRegion.show(new Cae({model:this.model,item:this.options.item,items:this.options.items,device:this.device})),this.listenForStateRequests()}},success:{onEnter:function(){this.model?this.hide():(this.bodyRegion.show(new Tae({server:this.options.item.server,device:this.device})),this.listenForStateRequests())}},error:{onEnter:function(){this.bodyRegion.show(new mae),this.listenForStateRequests()}}},listenForStateRequests:function(){this.bodyRegion&&this.bodyRegion.currentView&&this.listenTo(this.bodyRegion.currentView,{"request:state":this.enterState,"request:nextState":this.enterNextState})},onRender:function(){oae.Z.prototype.onRender.apply(this,arguments),this.enterNextState()},onStateMachineComplete:function(){this.hide()}});var xae=n(68070),Lae=n.n(xae);const Oae=m.Z.Layout.extend({tagName:"li",className:"poster-item media-tile-list-item sync-tile-list-item",template:Lae(),metadataItemsDelay:5e3,ui:{poster:".media-poster",transcodeStatus:".sync-status-transcode",transcodeTimeRemaining:".media-context",statusIcons:".sync-status-icon",completeIcon:".sync-complete-icon",waitingIcon:".sync-waiting-icon",processingIcon:".sync-processing-icon",failedIcon:".sync-failed-icon",unknownIcon:".sync-unknown-icon"},regions:{transcodeProgress:".sync-status-transcode"},events:{"click a":"onClick","click .edit-btn":"onEditClick","click .delete-btn":"onDeleteClick"},onlyAfterRender:["onMetadataItemsReset","onMediaChange","onTranscodeJobsReset"],initialize:function(e){this.server=e.server,this.model.parent=this.server,this.type=this.model.get("metadataType"),this.contentType=this.model.get("contentType");var t=this.type,n=this.contentType,i=150;"episode"===t?t="show":"clip"===t?i=250:"directory"===t&&(t="audio"===n?"track":"photo"===n?"photo":"movie"),this.$el.addClass(t),this.image=new Rne.Z({server:this.server,type:t,width:i}),this.progressModel=new Zne.ZP.Model({current:0});var s=this.server.get("desktop").get("transcodeJobs");this.metadataItems=new nae([],{server:this.server,device:this.model.device,syncItemId:this.model.id}),this.listenTo(this.metadataItems,"reset",this.onMetadataItemsReset),this.listenTo(s,"reset",this.onTranscodeJobsReset),this.metadataItems.fetch({reset:!0}),this.server.supports("syncNotifications")?this.listenTo(this.metadataItems,"change:Media",this.onMediaChange):this.metadataItemsInterval=window.setInterval(E().bind((function(){this.metadataItems.fetch({reset:!0})}),this),this.metadataItemsDelay)},serializeData:function(){return{syncItem:this.model.toJSON(),isFailure:!!this.model.get("status").get("failure")}},getPosterUrl:function(e){var t=e.get("thumb");return this.hasMultipleItems?this.hasSameParents?e.get("parentThumb")||e.get("grandparentThumb")||t:this.hasSameGrandparents?e.get("grandparentThumb")||e.get("parentThumb")||t:void 0:t},updatePoster:function(e){if(this.hasPoster=!0,!e){var t=this.metadataItems.first();if(!t)return;e=this.getPosterUrl(t)}this.image.url!==e&&(this.image.src=null,this.image.url=e,this.image.render())},analyzeParts:function(e){if(this.model.get("status").get("failure"))return"failed";var t=e.models,n=t.length;if(!n)return"unknown";for(var i="complete",s=[],r=[],a=0;a<n;a++){var o=t[a],l=o.get("Media");if(s.push(o.get("grandparentKey")),r.push(o.get("parentKey")),l.length||(i="unknown"),"failed"!==i&&"unknown"!==i)for(var c=0,d=l.length;c<d;c++)for(var u=l[c].Part,p=0,m=u.length;p<m;p++){var h=u[p],g=Une.Z.getSyncStateFromPart(h);Une.Z.failedRegex.test(g)&&(i="failed"),Une.Z.processingRegex.test(g)&&(i="processing"),Une.Z.waitingRegex.test(g)&&"processing"!==i&&(i=h.key?"waiting":"processing")}}return this.hasMultipleItems=n>1,this.hasSameGrandparents=1===E().compact(E().uniq(s)).length,this.hasSameParents=1===E().compact(E().uniq(r)).length,this.hasPoster||this.updatePoster(),i},bindings:{".media-title":{modelAttribute:"title"},".media-subtitle-1":{modelAttribute:"rootTitle"}},onRender:function(){this.image.setElement(this.ui.poster),this.transcodeProgress.append(new Hne({model:this.progressModel,size:56}))},onClose:function(){window.clearInterval(this.metadataItemsInterval)},onMetadataItemsReset:function(e){var t=this.analyzeParts(e);if(this.ui.statusIcons.addClass("hidden"),this.ui.transcodeStatus.hasClass("hidden"))switch(t){case"complete":this.ui.completeIcon.removeClass("hidden");break;case"waiting":this.ui.waitingIcon.removeClass("hidden");break;case"processing":this.ui.processingIcon.removeClass("hidden");break;case"failed":this.ui.failedIcon.removeClass("hidden");break;default:this.ui.unknownIcon.removeClass("hidden")}},onMediaChange:function(e,t){this.onMetadataItemsReset(this.metadataItems)},onTranscodeJobsReset:function(e){var t=e.where({syncItemId:this.model.id});if(!t.length)return this.ui.transcodeStatus.hasClass("hidden")||(this.ui.transcodeStatus.addClass("hidden"),this.ui.waitingIcon.removeClass("hidden")),this.ui.transcodeTimeRemaining.text(""),void this.updatePoster();var n=t[0],i=n.get("progress");if(this.ui.statusIcons.addClass("hidden"),i>0){this.ui.transcodeStatus.removeClass("hidden");var s=n.get("type"),r=Hi(n.get("remaining"));if(this.progressModel.set("progress",i),"download"===s)this.progressModel.set("text",i.toString()+"%"),this.ui.transcodeTimeRemaining.text((0,De.Z)("Downloading"));else if("upload"===s)this.progressModel.set("text",i.toString()+"%"),this.ui.transcodeTimeRemaining.text((0,De.Z)("Uploading"));else{if(n.get("speed")){var a=Math.round(10*n.get("speed"))/10;a>10&&(a=Math.round(a)),this.progressModel.set("text",a.toString()+"x")}else this.progressModel.set("text","");this.ui.transcodeTimeRemaining.text(r)}this.updatePoster(n.get("thumb"))}else this.ui.transcodeStatus.addClass("hidden"),this.ui.processingIcon.removeClass("hidden")},onClick:function(e){e.preventDefault(),ee.Z.trigger("show:modal",new dae({model:this.model,collection:this.metadataItems}))},onEditClick:function(e){e.stopImmediatePropagation(),e.preventDefault(),ee.Z.trigger("show:modal",new Aae({model:this.model}))},onDeleteClick:function(e){e.stopImmediatePropagation(),e.preventDefault(),One.Z.execute("deleteSyncItem",{syncItem:this.model,server:this.server})}}),jae=Mne.Z.extend({tagName:"ul",className:"tile-list media-tile-list sync-tile-list show-context",itemView:Oae});var kae=n(10129),Rae=n.n(kae);const zae=m.Z.Layout.extend({className:"sync-device-items-container",template:Rae(),ui:{loading:".row-loading",empty:".sync-empty-message",deviceMessage:".sync-device-message",deviceMessageText:".sync-device-message-text"},regions:{list:".sync-item-list-container"},onlyAfterRender:["onDebouncedSyncItemsChange"],initialize(e){this.server=e.server,this.onDebouncedSyncItemsChange=E().debounce(this.onDebouncedSyncItemsChange,100),this.listenTo(this.model,{"change:syncList":this.onSyncListChange,"change:syncList.change:syncItems.reset":this.onDebouncedSyncItemsChange,"change:syncList.change:syncItems.update":this.onDebouncedSyncItemsChange}),this.fetchSyncList()},fetchSyncList(){const e=this.model.get("syncList");e&&e.fetch().always(this.onDebouncedSyncItemsChange)},onSyncListChange(){this.fetchSyncList()},onDebouncedSyncItemsChange(){const e=this.model.get("syncList");let t;e&&(t=e.clone(),t.resetToServer(this.server.id)),this.ui.loading.addClass("hidden");const n=!t||0===t.getCollection().length;this.ui.empty.toggleClass("hidden",!n);const i=!t||t.get("isActive");if(this.ui.deviceMessage.toggleClass("hidden",i),!i){const e=t.device,n=e.get("lastSeenAt");n&&this.ui.deviceMessageText.text((0,De.Z)("{1} was last seen {2}. Syncing will resume next time you launch Plex on this device.",e.get("name"),(0,yi.Z)(n)))}t?this.list.show(new jae({collection:t.getCollection(),itemViewOptions:{server:this.server}})):this.list.close()}});var Uae=n(33588),Vae=n.n(Uae);const Bae=m.Z.Layout.extend({className:"sync-container",template:Vae(),transcodeJobDelay:2e3,ui:{devices:".nav a"},regions:{filterBar:".filter-bar",container:".sync-device-container"},modelEvents:{"change:shared":"onSharedChange"},events:{"click .dropdown-menu a":"onDeviceDropdownClick","click .nav a":"onDeviceClick","click .edit-btn":"onEditClick","click .refresh-btn":"onRefreshClick"},initialize:function(e){var t=M.DB("appModel");this.selectedDevice=e.selectedDevice,this.user=t.get("user"),this.shared=this.model.get("shared"),this.transcodeJobs=this.model.get("desktop").get("transcodeJobs"),this.allowSync=this.model.get("allowSync"),this.signedIn=this.model.get("myPlexSigninState")===GB.Hq,this.collection.length&&(this.selectedDevice||(this.selectedDevice=this.collection.first()),this.fetchTranscodeJobs())},serializeData:function(){return{showDeviceDropdown:this.collection.length>0,shared:this.shared,hasTouchScreen:b.Z.hasTouchScreen,signedIn:this.signedIn,allowSync:this.allowSync,sync:this.model.get("sync"),selectedDevice:this.selectedDevice?this.selectedDevice.toJSON():null,devices:this.collection.toJSON(),plexPassInfo:this.getPlexPassInfo()}},fetchTranscodeJobs:function(){this.transcodeJobs.fetch({reset:!0}),this.transcodeJobTimeout=window.setTimeout(E().bind(this.fetchTranscodeJobs,this),this.transcodeJobDelay)},showList:function(){this.selectedDevice?this.container.show(new zae({model:this.selectedDevice,server:this.model})):this.container.close()},getPlexPassInfo:function(){return this.signedIn||this.shared?{url:this.user.server.get("plexPassUrl"),message:(0,De.Z)("The server needs a Plex Pass to use sync."),buttonText:(0,De.Z)("Learn More"),target:"_blank",showButton:!this.shared}:{url:(0,km.Z)(this.model.id,"settings","general"),message:(0,De.Z)("The server needs to be signed in with a Plex Pass to use sync."),buttonText:(0,De.Z)("Sign In"),target:"_self",showButton:!0}},onRender:function(){this.allowSync&&this.showList()},onClose:function(){window.clearTimeout(this.transcodeJobTimeout)},onSharedChange:function(e,t){this.shared=t,this.render()},onDeviceDropdownClick:function(e){e.preventDefault();const t=g()(e.currentTarget).data("id");this.selectedDevice=this.collection.get(t),(0,Ine.Z)("serverSettingsStatusSync",{machineIdentifier:this.model.id,deviceID:t},!0),this.render()},onDeviceClick:function(e){e.preventDefault();var t=g()(e.currentTarget),n=t.data("id");this.ui.devices.removeClass("selected"),t.addClass("selected"),this.selectedDevice=this.collection.get(n),this.showList()},onEditClick:function(e){e.preventDefault(),g()(e.currentTarget).toggleClass("selected"),this.$el.toggleClass("force-hover")},onRefreshClick:function(e){e.preventDefault();var t=One.Z.execute("refreshSyncLists",{server:this.model});this.selectedDevice&&t.always(this.whenRendered((function(){this.selectedDevice.get("syncList").fetch()})))}});function Fae(){return(0,de.P1)((0,HM.Z)(),(e=>e.v4.core.serverNowPlayingSessions),((e,t)=>{var n;if(!e)return 0;const i=t[e.machineIdentifier],s=null==i?void 0:i.sessionKeys;return null!=(n=null==s?void 0:s.length)?n:0}))}function Hae({server:e,provider:t}){const n=(0,f.I0)();return(0,y.useCallback)((i=>{n((0,FS.gj)({server:e,provider:t,legacyAction:i}))}),[n,t,e])}const _ae=(0,Fr.oM)({name:"libraryManagement",initialState:{hubs:{},settings:{}},reducers:{settingsFetchRequested(e,{payload:t}){e.settings[t.server.machineIdentifier]={isPending:!0,isPopulated:!1,isUpdating:!1,error:null}},settingsFetchSucceeded(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(n.isMergeRecentlyAddedEnabled=t.isMergeRecentlyAddedEnabled,(0,Vm.vv)(n))},settingsFetchFailed(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(0,Vm.VQ)(n,t.error)},settingsUpdateRequested(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(n.isUpdating=!0)},settingsUpdateSucceeded(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(n.isMergeRecentlyAddedEnabled=t.isMergeRecentlyAddedEnabled,n.isUpdating=!1)},settingsUpdateFailed(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(n.error=t.error,n.isUpdating=!1)},markHubsStale(e,t){},hubsFetchRequested(e,{payload:t}){var n;e.hubs[t.sourceURI]={options:(null==(n=e.hubs[t.sourceURI])?void 0:n.options)||[],isPending:!0,isPopulated:!1,isResetting:!1,error:null}},hubsFetchSucceeded(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&((0,Vm.vv)(n),n.options=t.options)},hubsFetchFailed(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&(0,Vm.VQ)(n,t.error)},reorderRequested(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&((0,Vm.er)(n),n.options=t.options)},reorderSucceeded(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&(0,Vm.vv)(n)},reorderFailed(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&((0,Vm.vv)(n),n.options=t.options)},resetRequested(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&(n.isResetting=!0)},resetSucceeded(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&(n.isResetting=!1,n.options=t.options)},resetFailed(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&(n.isResetting=!1)},promoteRequested(e,t){},promoteChanged(e,{payload:t}){const n=e.hubs[t.sourceURI];if(!n)return;const i=n.options.find((e=>e.identifier===t.options.identifier));i&&(i.promotedToRecommended=t.options.promotedToRecommended,i.promotedToOwnHome=t.options.promotedToOwnHome,i.promotedToSharedHome=t.options.promotedToSharedHome)}}}),Qae=(0,de.P1)(Yr,(e=>e.libraryManagement));function Gae(){const e=(0,f.I0)(),[t]=cn(),n=t.ownerFeatures.includes(be.KH),i=(0,f.v9)((a=t.machineIdentifier,(0,de.P1)(Qae,(e=>e.settings[a])))),s=(0,y.useMemo)((()=>null!=(null==i?void 0:i.isMergeRecentlyAddedEnabled)),[i]),r=(0,y.useMemo)((()=>!i||i.isUpdating||i.isPending||!s),[s,i]);var a;(0,y.useEffect)((()=>{e(_ae.actions.settingsFetchRequested({server:t}))}),[e,t]);const o=(0,y.useCallback)((()=>{n&&!r&&e(_ae.actions.settingsUpdateRequested({server:t,isMergeRecentlyAddedEnabled:!(null==i?void 0:i.isMergeRecentlyAddedEnabled)}))}),[n,e,r,t,null==i?void 0:i.isMergeRecentlyAddedEnabled]);return n&&s?y.createElement("div",{className:"LibrarySettings-container-3TDQXp"},y.createElement(vE,{name:"recentlyAddedMerged",checked:null==i?void 0:i.isMergeRecentlyAddedEnabled,disabled:r,onChange:o}),y.createElement("div",{className:"LibrarySettings-info-2ghmzU"},y.createElement(Vf,{name:"recentlyAddedMerged",className:"LibrarySettings-label-2Jj8RV"},(0,De.Z)("Merge Recently Added items")),y.createElement("div",{className:"LibrarySettings-help-2dxz6a"},(0,De.Z)("Recently Added items from the same media type will be combined together on Home for libraries Recommended to Home. Only content from libraries pinned to the app sidebar will appear in Merged Recently Added recommendations.")))):null}function Yae({target:e,isOpen:t,contentDirectory:n,onMenuClose:i,onMenuCloseComplete:s}){const[r,a]=cn(),{metricsPage:o,metricsContextTuple:l}=(0,xt.Zn)(),c=(0,Dl.Z)(),d=(0,Dl.Z)(),u=(0,Dl.Z)(),p=(0,Dl.Z)(),m=(0,Dl.Z)(),h=Hae({server:r,provider:a}),g=(0,y.useMemo)((()=>({page:o,contextTuple:l})),[l,o]),v=(0,y.useCallback)((()=>{h(ZS({contentDirectory:n}))}),[n,h]),f=(0,y.useCallback)((()=>{h(xS({contentDirectory:n}))}),[n,h]),I=(0,y.useCallback)((()=>{h(jS({contentDirectory:n}))}),[n,h]),b=(0,y.useCallback)((()=>{h(AS({contentDirectory:n}))}),[n,h]),M=(0,y.useCallback)((()=>{h(LS({contentDirectory:n}))}),[n,h]);return y.createElement(y.Fragment,null,y.createElement(mo.Z,{target:e,isOpen:t,onMenuClose:i,onMenuCloseComplete:s},y.createElement(ho.Z,{onPress:(0,vo.Z)(i,c.onOpen)},(0,De.Z)("Share...")),y.createElement(ho.Z,{onPress:(0,vo.Z)(i,v)},(0,De.Z)("Scan Library Files")),y.createElement(ho.Z,{onPress:(0,vo.Z)(i,d.onOpen)},(0,De.Z)("Analyze")),y.createElement(ho.Z,{onPress:(0,vo.Z)(i,u.onOpen)},(0,De.Z)("Refresh All Metadata")),y.createElement(ho.Z,{onPress:(0,vo.Z)(i,p.onOpen)},(0,De.Z)("Empty Trash")),y.createElement(ho.Z,{kind:fo.T,onPress:(0,vo.Z)(i,m.onOpen)},(0,De.Z)("Delete"))),y.createElement(wd.Z,{isOpen:c.isOpen,serverEntityID:r.entityID,metricsProperties:g,onModalClose:c.onClose}),y.createElement(nt.Z,{isOpen:d.isOpen,metricsPage:et.cJ,title:(0,De.Z)("Analyze Library"),message:(0,De.Z)("Analyzes all the media files in the library. The analysis captures information about the media which helps Plex decide how to optimally play back the media."),confirmLabel:(0,De.Z)("Analyze"),onConfirm:(0,vo.Z)(d.onClose,f),onCancel:d.onClose}),y.createElement(nt.Z,{isOpen:u.isOpen,metricsPage:et.yW,title:(0,De.Z)("Refresh All Metadata"),message:(0,De.Z)("Forces a download of fresh media information from the internet. This can take a long time. Any locked fields are not modified."),confirmLabel:(0,De.Z)("Refresh"),onConfirm:(0,vo.Z)(u.onClose,I),onCancel:u.onClose}),y.createElement(nt.Z,{isOpen:p.isOpen,metricsPage:et.Y0,title:(0,De.Z)("Empty Trash"),message:(0,De.Z)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:(0,De.Z)("Empty"),onConfirm:(0,vo.Z)(p.onClose,b),onCancel:p.onClose}),y.createElement(nt.Z,{isOpen:m.isOpen,metricsPage:et.iw,kind:fo.T,title:(0,De.Z)("Delete Library"),message:(0,De.Z)('The library "{libraryName}" will be removed from this server. Your media files will not be affected. This can\'t be undone. Continue?',{libraryName:n.title}),accordMessage:(0,De.Z)('Yes, delete the library "{libraryName}"',{libraryName:n.title}),confirmLabel:(0,De.Z)("Delete"),onConfirm:(0,vo.Z)(m.onClose,M),onCancel:m.onClose}))}var Wae=n(17562);const Kae="hasDismissedHubPromotionWarning";function qae({isOpen:e,onClose:t,onAccept:n}){const i=(0,f.I0)(),[s,r]=(0,y.useState)(!1),a=(0,f.v9)(rs(Kae));(0,y.useEffect)((()=>{e&&a&&n()}),[e,a,n,t]);const o=(0,y.useCallback)((()=>r(!s)),[s]),l=(0,y.useCallback)((()=>{s&&(0,Rt.c9)((()=>{i((0,Nv.LN)({[Kae]:!0}))})),n()}),[i,s,n]);return a?null:y.createElement(lc,{size:We.Small,isOpen:e,onModalClose:t},y.createElement(dc,{onModalClose:t},y.createElement(mc,null,(0,De.Z)("Add to Shared Users' Home?")),y.createElement(Ed,null,(0,De.Z)("Matching items from this library will appear on your users’ Home screens as long as they have this library pinned to the sidebar. Be nice.")),y.createElement(pc,null,y.createElement("label",{key:"dismiss",className:"PromotionWarningModal-dismiss-2MM_1k"},y.createElement(vE,{name:"dismiss",checked:s,onChange:o}),y.createElement("span",null,(0,De.Z)("Don't show again"))),y.createElement(Dd,null,y.createElement(zn,{onPress:t},(0,De.Z)("Cancel")),y.createElement(zn,{kind:Dn.Primary,onPress:l},(0,De.Z)("Accept"))))))}const $ae="LibraryHubListItem-input-3wia70";var Jae,Xae,eoe=Object.assign;function toe({sourceURI:e,index:t,options:n,isDragging:i}){const s=(0,f.I0)(),[r]=cn(),a=(0,Dl.Z)(),o=(0,y.useCallback)((t=>{s(_ae.actions.promoteRequested({server:r,sourceURI:e,options:n,promoted:t}))}),[s,n,r,e]),l=(0,y.useCallback)((e=>{o({promotedToRecommended:e.target.checked})}),[o]),c=(0,y.useCallback)((e=>{o({promotedToOwnHome:e.target.checked})}),[o]),d=(0,y.useCallback)((e=>{o({promotedToSharedHome:e.target.checked})}),[o]),u=(0,y.useCallback)((()=>{a.isOpen&&a.onClose(),o({promotedToSharedHome:!0})}),[a,o]);return y.createElement(Wae._l,{draggableId:n.identifier,index:t},((e,s)=>y.createElement("div",eoe(eoe({ref:e.innerRef},e.draggableProps),e.dragHandleProps),y.createElement(Gc,{isAlternate:!i&&t%2==0},y.createElement("div",{className:s.isDragging?"LibraryHubListItem-draggingRow--Mg2Xr LibraryHubListItem-row-35DHXB":"LibraryHubListItem-row-35DHXB"},y.createElement("div",{className:"LibraryHubListItem-handle-2biLsK"},y.createElement(Ox,null)),y.createElement("div",{className:"LibraryHubListItem-title-1fg30O"},n.title),y.createElement("div",{className:"LibraryHubListItem-inputs-1VwwXK"},y.createElement("div",{className:$ae},y.createElement(vE,{name:Jae.Recommended,checked:n.promotedToRecommended,onChange:l})),y.createElement("div",{className:$ae},y.createElement(vE,{name:Jae.OwnHome,checked:n.promotedToOwnHome,onChange:c})),y.createElement("div",{className:$ae},y.createElement(vE,{name:Jae.SharedHome,checked:n.promotedToSharedHome,onChange:n.promotedToSharedHome?d:a.onOpen}))))),y.createElement(qae,{isOpen:a.isOpen,onClose:a.onClose,onAccept:u}))))}(Xae=Jae||(Jae={})).Recommended="recommended",Xae.OwnHome="ownHome",Xae.SharedHome="sharedHome";const noe=function(e){return(0,de.P1)(Qae,(t=>t.hubs[e]))};var ioe=Object.assign;function soe({sourceURI:e}){const t=(0,f.I0)(),[n]=cn(),i=(0,f.v9)(noe(e)),s=(0,y.useMemo)((()=>{var e;return null!=(e=null==i?void 0:i.options)?e:[]}),[null==i?void 0:i.options]),r=(0,y.useCallback)((i=>{const r=s.findIndex((({identifier:e})=>e===i.draggableId)),a=i.destination.index,o=s.slice(),[l]=o.splice(r,1);o.splice(a,0,l),(0,Rt.c9)((()=>t(_ae.actions.reorderRequested({server:n,sourceURI:e,options:o,fromIndex:r,toIndex:a}))))}),[t,s,n,e]),a=(0,y.useCallback)((()=>{t(_ae.actions.resetRequested({server:n,sourceURI:e}))}),[t,n,e]);return(0,y.useEffect)((()=>{t(_ae.actions.hubsFetchRequested({server:n,sourceURI:e}))}),[t,n,e]),y.createElement("div",null,y.createElement(Wae.Z5,{onDragEnd:r},y.createElement(Wae.bK,{droppableId:e},((t,n)=>y.createElement("div",ioe({ref:t.innerRef},t.droppableProps),s.map(((t,i)=>y.createElement(toe,{key:t.identifier,sourceURI:e,index:i,options:t,isDragging:n.isDraggingOver}))),t.placeholder)))),s.length?y.createElement("div",{className:"LibraryHubList-footer-13HO6A"},y.createElement("div",{className:"LibraryHubList-info-1NGqJY"},(0,De.Z)("Sources need to be pinned to the apps sidebar for selected recommendations to display on the Home screen")),y.createElement("div",{className:"LibraryHubList-reset-7agfO_"},y.createElement(xn,{className:"LibraryHubList-action-1RUpu1 Link-link-2WGTd7",onPress:a},y.createElement(mV.Z,{className:"LibraryHubList-resetIcon-251em_"}),(0,De.Z)("Reset Customization")))):null)}const roe="ManageLibrarySummary-action-tnVCwc Link-link-2WGTd7",aoe="ManageLibrarySummary-header-3wNLR_",ooe="ManageLibrarySummary-column-1RcUn9",loe="ManageLibrarySummary-headerIcon-KlAD1l",coe="ManageLibrarySummary-spinner-3BMt0T Spinner-spinner-CSMaLA spin-spin-oHlEXH ManageLibrarySummary-icon-Nw6Mlf";function doe({index:e,contentDirectory:t}){const[n,i]=cn(),s=(0,ra.Z)(),[r,a,o]=bp(),[l,c]=aa(),d=(0,Dl.Z)(),u=(0,Dl.Z)(),p=(0,jt.Z)({serverIdentifier:n.machineIdentifier,key:C.Z.join(["/hubs/sections",t.id,"manage"])}),m=r||l||d.isOpen||u.isOpen,h=(0,zg.Z)(n,i,t),{title:g}=t,v=Hae({server:n,provider:i}),I=ym(n,t),b=(0,f.v9)(noe(p)),M=sie(null==b?void 0:b.isPending,!0),S=n.ownerFeatures.includes(be.TE),E=(0,y.useCallback)((()=>{v(NS({contentDirectory:t}))}),[t,v]),D=t.type?yl(t.type):null,P=t.agent===GM.Hn?ri.pG.Clip:t.type,w=null!=D?D:P,T=w?y.createElement(mm,{className:"ManageLibrarySummary-icon-Nw6Mlf",type:w}):null;return y.createElement(y.Fragment,null,y.createElement(Gc,{className:"ManageLibrarySummary-row-keWtgB",alternateClassName:"ManageLibrarySummary-alternateRow-1GG0d4 ManageLibrarySummary-row-keWtgB",isAlternate:!!(e%2),isHovered:l||r,ref:c,onFocus:a,onBlur:o},y.createElement(xn,{className:"ManageLibrarySummary-underlay-18BIUS Link-link-2WGTd7",onPress:S?u.onToggle:E}),y.createElement("div",{className:"ManageLibrarySummary-overlay-3DBv93"},y.createElement("div",{className:"ManageLibrarySummary-iconContainer-2dQ2J8"},I?y.createElement(qe,{className:coe}):T),y.createElement(xn,{className:"ManageLibrarySummary-title-3n6YGi",title:g,to:h},g),y.createElement("div",{className:we()("ManageLibrarySummary-actions-1zRVm4",m&&"ManageLibrarySummary-visible-17njDO")},u.isOpen?y.createElement("div",{className:aoe},(null==b?void 0:b.options.length)?y.createElement(y.Fragment,null,y.createElement("span",{className:ooe},(0,De.Z)("Library Recommended")),y.createElement("span",{className:ooe},(0,De.Z)("Home")),y.createElement("span",{className:ooe},(0,De.Z)("Shared Users' Home"))):null,y.createElement(xn,{className:roe,onPress:u.onClose},y.createElement("span",{className:loe},M?y.createElement(qe,{className:coe}):y.createElement(gc.Z,{direction:yc.UP})))):y.createElement("div",{className:aoe},S?y.createElement(xn,{className:roe,onPress:u.onOpen},y.createElement(gc.Z,{direction:yc.WV}),(0,De.Z)("Manage Recommendations")):null,y.createElement(xn,{className:roe,onPress:E},y.createElement(Jd.Z,{className:"ManageLibrarySummary-editIcon-_dMtTY"}),(0,De.Z)("Edit Library")),y.createElement(xn,{className:roe,id:s,"data-qa-id":"metadataRowMoreButton","aria-label":(0,De.Z)("More Actions"),onPress:d.onToggle},y.createElement("span",{className:loe},y.createElement(Ud.Z,null)))))),y.createElement(Yae,{target:s,isOpen:d.isOpen,contentDirectory:t,onMenuClose:d.onClose})),u.isOpen?y.createElement(soe,{sourceURI:p}):null)}const uoe="ManageLibrariesPane-button-3uy9Gx";var poe=n(72936);function moe(e){const{className:t,iconComponent:n,title:i,text:s}=e;return y.createElement("div",{className:t},y.createElement("div",{className:"PlexPassUpsell-iconContainer-2iPdlN"},y.createElement(n,{className:"PlexPassUpsell-icon-c1vt03"})),y.createElement("div",{className:"PlexPassUpsell-title-lX_QYk"},i),y.createElement("div",{className:"PlexPassUpsell-text-QyYlfY"},s))}moe.defaultProps={className:"PlexPassUpsell-upsell-We6k8R"};const hoe=moe;function goe(e){const{className:t,iconComponent:n,title:i,text:s,moreInfo:r,children:a}=e;return y.createElement("div",{className:t},y.createElement(hoe,{className:"PlexPassUpsellInfo-upsell-1RV-Mt PlexPassUpsell-upsell-We6k8R",iconComponent:n,title:i,text:s}),y.createElement("div",{className:"PlexPassUpsellInfo-moreInfo-3eVCqS"},r),a)}goe.defaultProps={className:"PlexPassUpsellInfo-info-1sNK2J"};class yoe extends y.Component{constructor(e,t){super(e,t),this.onPlexPassPress=()=>{this.setState({isPlexPassModalOpen:!0})},this.onPlexPassModalClose=()=>{this.setState({isPlexPassModalOpen:!1})},this.state={isPlexPassModalOpen:!1}}render(){const{modalMetricsProperties:e,origin:t}=this.props,{isPlexPassModalOpen:n}=this.state;return y.createElement($h.Z,{kind:fo._8,size:vc.ln,onPress:this.onPlexPassPress},(0,De.Z)("Get a Plex Pass"),y.createElement(ld.Z,{origin:t,metricsProperties:e,isOpen:n,onModalClose:this.onPlexPassModalClose}))}}const voe=yoe;var foe=Object.assign;const Ioe=(0,f.$j)((function(){return(0,de.P1)(HB.Z,(0,HM.Z)(),((e,t)=>({machineIdentifier:t.machineIdentifier,isClaimed:t.isClaimed,isSignedIn:!!e&&e.signedIn,hasPlexSubscription:!!e&&e.hasPlexSubscription})))}))((function(e){const{machineIdentifier:t,origin:n,modalMetricsProperties:i,isSignedIn:s,isClaimed:r,hasPlexSubscription:a}=e;return a&&r?null:!a&&s?y.createElement(voe,{origin:n,modalMetricsProperties:i}):y.createElement($h.Z,{kind:fo._8,size:vc.ln,to:(0,km.Z)(t,"settings","general")},s?(0,De.Z)("Claim Server"):(0,De.Z)("Sign In"))}));Ioe.propTypes=foe(foe({},Ioe.propTypes),{serverEntityID:ls().string.isRequired});const boe=Ioe;function Moe(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-marketing-dvr-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m420 280c-77.21 0-140 62.79-140 140 0 77.21 62.79 140 140 140 77.21 0 140-62.79 140-140 0-77.21-62.79-140-140-140m0 256.67c-64.33 0-116.67-52.34-116.67-116.67 0-64.33 52.34-116.67 116.67-116.67 64.33 0 116.67 52.34 116.67 116.67 0 64.33-52.34 116.67-116.67 116.67m128.33-373.35h-.035c6.44 0 11.672 5.232 11.672 11.672v104.88h-23.328v-93.22h-513.33v282.36c0 11.584 9.8 20.982 21.892 20.982h188.11v23.328h-188.11c-24.937 0-45.22-19.88-45.22-44.31v-294.02c0-6.44 5.233-11.672 11.673-11.672h536.67m-128.33 186.67c-38.587 0-70 31.413-70 70 0 38.587 31.413 70 70 70 38.587 0 70-31.413 70-70 0-38.587-31.413-70-70-70m0 116.67c-25.742 0-46.672-20.93-46.672-46.673 0-25.742 20.93-46.672 46.672-46.672 25.743 0 46.673 20.93 46.673 46.672 0 25.743-20.93 46.673-46.673 46.673m105-466.67h.018c19.302 0 35 15.698 35 35.02v93.31c0 6.439-5.233 11.672-11.673 11.672h-536.67c-6.44 0-11.673-5.232-11.673-11.672v-93.31c0-19.32 15.697-35.02 35-35.02h490m10.833 31.03c-1.629-4.462-5.828-7.682-10.85-7.682h-41.808l-93.33 93.33h60.34l85.64-85.65m-458.97 85.65l93.33-93.33h-48.668l-93.33 93.33h48.667m459.81 0v-53.48l-53.48 53.48h53.48m-366.47-.018l93.33-93.33h-60.34l-93.33 93.33h60.34m93.33 0l93.33-93.33h-60.34l-93.33 93.33h60.34m93.33 0l93.33-93.33h-60.34l-93.33 93.33h60.34m-321.86-93.33h.017c-6.44 0-11.672 5.25-11.672 11.69v53.5l65.19-65.19h-53.52-.017"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Moe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const Soe=Moe,Eoe=(0,de.P1)(fe.Z,(e=>e.v4DVRSetupEnabled));var Doe=n(67145),Coe=n(61484);function Poe({errorMessage:e}){return y.createElement("div",{className:"FormSectionError-sectionError-2OJqtw"},y.createElement(Ce.Z,{className:"FormSectionError-sectionErrorIcon-3HK1aD"}),e||(0,De.Z)("There was a problem saving your changes."))}var woe,Toe,Zoe,Noe,Aoe,xoe,Loe,Ooe,joe,koe,Roe,zoe,Uoe=n(99317);function Voe(e){return/^[a-z]:\\|\\\\/i.test(e)&&(e=e.replace(/\\/g,"/")),/^(\/|[a-z]:\/)/i.test(e)&&(e=e.replace(/\/(.+?)(?=\/|$)/g,((e,t)=>`/${encodeURIComponent(t)}`))),"/"===e.charAt(0)&&(e=e.substring(1)),/^[a-z]+?:\/\//i.test(e)&&(e=encodeURIComponent(e)),e}(Toe=woe||(woe={})).BackupDatabase="general.db.backup",Toe.CleanBundles="general.bundle.clean",Toe.GrabberGrab="grabber.grab",Toe.GrabberAssimilate="grabber.assimilate",Toe.LibraryDelete="library.delete",Toe.LibraryUpdateSection="library.update.section",Toe.LibraryRefreshItems="library.refresh.items",Toe.MediaGenerateBIF="media.generate.bif",Toe.MediaGenerateChapterThumbs="media.generate.chapter.thumbs",Toe.MediaGenerateIntros="media.generate.intros",Toe.OptimizeDatabase="general.db.optimize",Toe.ProviderDeviceChannelScan="provider.device.channelscan",Toe.ProviderEpgLineupScan="provider.epg.lineupscan",Toe.ProviderEpgLoad="provider.epg.load",Toe.ProviderSubscriptionsProcess="provider.subscriptions.process",Toe.ProviderSubscriptionRefresh="provider.subscription.refresh",Toe.SubtitleDownload="subtitle.download",(Noe=Zoe||(Zoe={}))[Noe.Regions=0]="Regions",Noe[Noe.PostalCode=1]="PostalCode",Noe[Noe.SinglePostalCode=2]="SinglePostalCode",(xoe=Aoe||(Aoe={})).Dead="dead",xoe.Alive="alive",(Ooe=Loe||(Loe={})).Disabled="disabled",Ooe.Enabled="enabled",(koe=joe||(joe={})).Unknown="-1",koe.Antenna="0",koe.Cable="1",koe.Satellite="2",(zoe=Roe||(Roe={}))[zoe.Unknown=-1]="Unknown",zoe[zoe.OverTheAir=0]="OverTheAir",zoe[zoe.Cable=1]="Cable",zoe[zoe.Satellite=2]="Satellite",zoe[zoe.IPTV=3]="IPTV",zoe[zoe.Virtual=4]="Virtual";var Boe=Object.assign;const Foe={channels:[],isPending:!0,isPopulated:!1,error:null},Hoe={devices:{mediaGrabberDevices:[],isPending:!1,isPopulated:!1,error:null},epgDownloadActivityID:void 0,selectedDevice:void 0,selectedDVR:{dvr:void 0,isPending:!1,isPopulated:!1,error:null},channelsByDeviceKey:{},hasScannedChannels:!1,isSavingDVR:!1,isAddingDevice:!1,isDiscoveringDevices:!1,isSavingChannelMappings:!1,isCancellingChannelScan:!1,channelMappingsSaveError:null,setupErrorMessage:null};function _oe(e,{payload:t}){const{activity:n}=t;if(n.type!==woe.ProviderDeviceChannelScan)return;const i=100===(null==n?void 0:n.progress);e.hasScannedChannels=i,e.isCancellingChannelScan&&i&&(e.isCancellingChannelScan=!1)}const Qoe=(0,Fr.oM)({name:"dvrSetup",initialState:Hoe,reducers:{reset:()=>Hoe,setupReset(e){e.selectedDevice=void 0,e.hasScannedChannels=!1,e.isSavingDVR=!1,e.isAddingDevice=!1,e.isDiscoveringDevices=!1,e.isSavingChannelMappings=!1,e.channelMappingsSaveError=null,e.setupErrorMessage=null},setupErrorMessageAdded(e,{payload:t}){e.setupErrorMessage=t.message},setupErrorMessageRemoved(e,t){e.setupErrorMessage=null},devicesDiscoverRequested(e,t){e.isDiscoveringDevices=!0},devicesDiscoverSucceeded(e,{payload:t}){e.isDiscoveringDevices=!1;const{mediaGrabberDevices:n}=e.devices;for(let e=0;e<t.data.length;e++){const i=t.data[e],s=n.find((e=>i.uuid===e.uuid));s?(s.state=i.state,s.status=i.status):n.push(i)}},devicesDiscoverFailed(e,t){e.isDiscoveringDevices=!1},devicesFetchRequested({devices:e},t){(0,Vm.er)(e)},devicesFetchSucceeded({devices:e},{payload:t}){(0,Vm.vv)(e),e.mediaGrabberDevices=t.data},devicesFetchFailed({devices:e},{payload:t}){(0,Vm.VQ)(e,t.error)},deviceChannelsFetchRequested(e,{payload:t}){let n=e.channelsByDeviceKey[t.deviceKey];n||(n=Boe({},Foe),e.channelsByDeviceKey[t.deviceKey]=n),e.setupErrorMessage=null,n.channels=[],n.isPopulated=!1,(0,Vm.er)(n)},deviceChannelsFetchSucceeded(e,{payload:t}){const n=e.channelsByDeviceKey[t.deviceKey];(0,Vm.vv)(n),n.channels=t.data},deviceChannelsFetchFailed(e,{payload:t}){let n=e.channelsByDeviceKey[t.deviceKey];n||(n=Boe({},Foe),e.channelsByDeviceKey[t.deviceKey]=n),(0,Vm.VQ)(n,t.error)},deviceChannelsScanRequested(e,t){e.hasScannedChannels=!1},deviceChannelsScanFailed(e,t){e.hasScannedChannels=!0},deviceChannelsCancelScanRequested(e,t){e.isCancellingChannelScan=!0},deviceChannelsCancelScanFailed(e,t){e.isCancellingChannelScan=!1},deviceSelected(e,{payload:t}){const n=e.devices.mediaGrabberDevices.find((e=>e.key===t.deviceKey));n&&(e.selectedDevice=n)},deviceSourceSelected({devices:e},{payload:t}){const n=e.mediaGrabberDevices.find((e=>e.key===t.deviceKey));n&&(n.source=t.source)},deviceChannelMappingsSaveRequested(e,t){e.isSavingChannelMappings=!0,e.channelMappingsSaveError=null},deviceChannelMappingsSaveSucceeded(e,t){e.isSavingChannelMappings=!1,e.channelMappingsSaveError=null},deviceChannelMappingsSaveFailed(e,{payload:t}){e.isSavingChannelMappings=!1,e.channelMappingsSaveError=t.error},deviceEnableRequested(e,t){},deviceEnableSucceeded(e,{payload:t}){const n=e.devices.mediaGrabberDevices.find((e=>e.key===t.deviceKey));n&&(n.state=t.enabled?Loe.Enabled:Loe.Disabled)},deviceEnableFailed(e,t){},deviceAddRequested(e,t){e.isAddingDevice=!0},deviceAddSucceeded(e,{payload:t}){e.setupErrorMessage=null,e.isAddingDevice=!1;const n=e.devices.mediaGrabberDevices.find((e=>e.key===t.data.key));n?Object.assign(n,t.data):e.devices.mediaGrabberDevices.push(t.data)},deviceAddFailed(e,t){e.isAddingDevice=!1},dvrFetchRequested(e,t){e.setupErrorMessage=null,(0,Vm.er)(e.selectedDVR)},dvrFetchSucceeded({selectedDVR:e},{payload:t}){(0,Vm.vv)(e),e.dvr=t.dvr},dvrFetchFailed(e,{payload:t}){(0,Vm.VQ)(e.selectedDVR,t.error),e.setupErrorMessage=(0,De.Z)("There was a problem fetching your DVR. Please try again later.")},dvrSaveRequested(e,t){e.setupErrorMessage=null,e.isSavingDVR=!0},dvrSaveSucceeded(e,{payload:t}){(0,Vm.vv)(e.selectedDVR),e.epgDownloadActivityID=t.activityUUID,e.isSavingDVR=!1,e.selectedDVR.dvr=t.dvr},dvrSaveFailed(e,t){e.isSavingDVR=!1},addDVRDeviceRequested(e,t){e.setupErrorMessage=null,e.isSavingDVR=!0},addDVRDeviceSucceeded(e,{payload:t}){(0,Vm.vv)(e.selectedDVR),e.epgDownloadActivityID=t.activityUUID,e.isSavingDVR=!1,e.selectedDVR.dvr=t.dvr},addDVRDeviceFailed(e,t){e.isSavingDVR=!1}},extraReducers:e=>{e.addCase(ka.actions.activityStarted,_oe).addCase(ka.actions.activityUpdated,_oe).addCase(ka.actions.activityFinished,((e,t)=>{t.payload.activity.uuid===e.epgDownloadActivityID?e.epgDownloadActivityID=void 0:_oe(e,t)}))}});var Goe=Object.prototype.hasOwnProperty,Yoe=Object.getOwnPropertySymbols,Woe=Object.prototype.propertyIsEnumerable,Koe=Object.assign;const qoe={mappings:[],isPending:!1,isPopulated:!1,error:null},$oe={epgLineupGroups:[],isPending:!1,isPopulated:!1,error:null},Joe={channelMappings:qoe,channelsByLineupUUID:{},countries:{epgCountries:[],isPending:!1,isPopulated:!1,error:null},languages:{epgLanguages:[],isPending:!1,isPopulated:!1,error:null},regions:{epgCountryRegions:[],isPending:!1,isPopulated:!1,error:null},lineupGroups:$oe,selectedCountry:void 0,selectedLanguage:void 0,selectedRegion:void 0,selectedLineupGroups:[],postalCode:""},Xoe=(0,Fr.oM)({name:"epgSettings",initialState:Joe,reducers:{reset:()=>Joe,channelMappingsFetchRequested({channelMappings:e},t){(0,Vm.er)(e)},channelMappingsFetchSucceeded({channelMappings:e,channelsByLineupUUID:t,selectedLineupGroups:n},{payload:i}){e.mappings=i.channelMappings,(0,Vm.vv)(e),i.lineupChannels.forEach((({lineupUUID:e,channels:n})=>{t[e]=n})),n.forEach((e=>{e.isChannelMappingsFetched=!0}))},channelMappingsFetchFailed({channelMappings:e},{payload:t}){(0,Vm.VQ)(e,t.error)},channelMappingChanged({channelMappings:e},{payload:t}){const{index:n}=t,i=((e,t)=>{var n={};for(var i in e)Goe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Yoe)for(var i of Yoe(e))t.indexOf(i)<0&&Woe.call(e,i)&&(n[i]=e[i]);return n})(t,["index"]),s=e.mappings[n];Object.assign(s,i)},epgLineupGroupFetchRequested({lineupGroups:e},t){(0,Vm.er)(e)},epgLineupGroupFetchSucceeded({lineupGroups:e},{payload:t}){(0,Vm.vv)(e),e.epgLineupGroups.push({uuid:t.data.uuid,epgLineups:t.data.epgLineups})},epgLineupGroupFetchFailed({lineupGroups:e},{payload:t}){(0,Vm.VQ)(e,t.error)},bestEPGLineupSearchRequested(e,t){},bestEPGLineupSearchSucceeded({selectedLineupGroups:e},{payload:t}){const n=e.find((e=>e.uuid===t.lineupGroup.uuid));n&&(n.activityUUID=t.data,n.isSelectedLineupPending=!0)},bestEPGLineupSearchFailed(e,t){},selectedLineupSelected({selectedLineupGroups:e},{payload:t}){const n=e.find((e=>e.uuid===t.lineupGroupUUID));if(n){const e=n.epgLineups.find((e=>e.uuid===t.selectedLineupUUID));n.selectedLineup=e}},selectedEPGLineupGroupAddRequested(e,t){},selectedEPGLineupGroupAddSucceeded({selectedLineupGroups:e},{payload:t}){e.push(Koe(Koe({},t.lineupGroup),{activityUUID:void 0,selectedLineup:void 0,isChannelMappingsFetched:!1,isSelectedLineupPending:!1,isSelectedLineupPopulated:!1}))},selectedEPGLineupGroupRemoved(e,{payload:t}){e.selectedLineupGroups=e.selectedLineupGroups.filter((e=>e.uuid!==t.lineupGroupUUID))},xmltvSelectedEPGLineupGroupAdded({selectedLineupGroups:e},{payload:t}){const{path:n,title:i}=t,s=Voe(n),r={uuid:`lineup://${pa.zY}/${s}#${encodeURIComponent(i)}`,title:i,lineupType:Roe.Virtual},a={uuid:`xmltv-${(0,Uoe.Z)()}`,epgLineups:[r],activityUUID:void 0,selectedLineup:r,isChannelMappingsFetched:!1,isSelectedLineupPending:!1,isSelectedLineupPopulated:!0};e.push(a)},epgCountriesFetchRequested({countries:e},t){(0,Vm.er)(e)},epgCountriesFetchSucceeded({countries:e},{payload:t}){(0,Vm.vv)(e),e.epgCountries=t.data},epgCountriesFetchFailed({countries:e},{payload:t}){(0,Vm.VQ)(e,t.error)},epgCountrySelected(e,{payload:t}){const n=e.countries.epgCountries.find((e=>e.code===t.countryCode));e.selectedCountry=n,e.selectedRegion=void 0,e.postalCode=void 0},epgCountryRegionSelected(e,{payload:t}){const n=e.regions.epgCountryRegions.find((e=>e.key===t.regionKey));e.selectedRegion=n},epgCountryRegionsFetchRequested({regions:e},t){(0,Vm.er)(e)},epgCountryRegionsFetchSucceeded({regions:e},{payload:t}){(0,Vm.vv)(e),e.epgCountryRegions=t.data},epgCountryRegionsFetchFailed({regions:e},{payload:t}){(0,Vm.VQ)(e,t.error)},epgLanguagesFetchRequested({languages:e},t){(0,Vm.er)(e)},epgLanguagesFetchSucceeded({languages:e},{payload:t}){(0,Vm.vv)(e),e.epgLanguages=t.data},epgLanguagesFetchFailed({languages:e},{payload:t}){(0,Vm.VQ)(e,t.error)},epgLanguageSelected(e,{payload:t}){const n=e.languages.epgLanguages.find((e=>e.code===t.languageCode));e.selectedLanguage=n},epgPostalCodeChanged(e,{payload:t}){e.postalCode=t.postalCode}},extraReducers(e){e.addCase(Qoe.actions.setupReset,(e=>{e.channelMappings=qoe,e.channelsByLineupUUID={},e.lineupGroups=$oe,e.selectedRegion=void 0,e.selectedLineupGroups=[],e.postalCode=""})).addCase(ka.actions.activityFinished,((e,{payload:t})=>{const{activity:n}=t;if(n.type===woe.ProviderEpgLineupScan){const t=e.selectedLineupGroups.find((e=>e.activityUUID===n.uuid));if(t){const e=t.epgLineups.find((e=>e.uuid===n.Response.lineup));t.activityUUID=void 0,t.selectedLineup=e,t.isSelectedLineupPending=!1,t.isSelectedLineupPopulated=!0}}}))}}),ele=(0,de.P1)(Yr,(e=>e.dvrManagement)),tle=(0,de.P1)(ele,(e=>e.epgSettings));function nle({isDisabled:e,hasError:t}){const n=(0,f.I0)(),{selectedRegion:i,regions:{epgCountryRegions:s}}=(0,f.v9)(tle),r=s.length>0,a=(0,y.useMemo)((()=>s.map((e=>({value:e.key,label:e.title})))),[s]),o=(0,y.useCallback)((e=>{n(Xoe.actions.epgCountryRegionSelected({regionKey:e.currentTarget.value}))}),[n]);return r?y.createElement(y.Fragment,null,y.createElement(Vf,{className:"DVRSetupCountryRegionSelectInput-label-4Kn8Zk FormLabel-label-1WQL1E",hasError:t},(0,De.Z)("Region")),y.createElement(vd,{name:"regionSelect",value:null==i?void 0:i.key,isDisabled:e,hasError:t,onChange:o},y.createElement("option",{value:""},(0,De.Z)("Select Region")),a.map((({value:e,label:t})=>y.createElement("option",{key:e,value:e},t))))):null}function ile({deviceKey:e,isActive:t,isDisabled:n,hasError:i,onEdit:s}){var r;const a=(0,f.I0)(),[o]=cn(),{selectedCountry:l,countries:{epgCountries:c,isPending:d,isPopulated:u,error:p}}=(0,f.v9)(tle),[m,h]=(0,y.useState)(!1),g=null!=(r=null==l?void 0:l.code)?r:"",v=(0,y.useMemo)((()=>c.map((e=>({value:e.code,label:e.title})))),[c]),I=(0,y.useCallback)((e=>{a(Xoe.actions.epgCountrySelected({countryCode:e.currentTarget.value}))}),[a]),b=(0,y.useCallback)((()=>{null==s||s(e)}),[e,s]);(0,y.useEffect)((()=>{const{countryCode:e}=o;u&&(!g&&e?a(Xoe.actions.epgCountrySelected({countryCode:e})):h(!0))}),[o,g,u,h,a]),(0,y.useEffect)((()=>{g&&!m&&h(!0)}),[g,m,h]),(0,y.useEffect)((()=>{if(l){const{flavor:e}=l;e===Zoe.Regions?a(Xoe.actions.epgCountryRegionsFetchRequested({server:o,country:l})):e===Zoe.SinglePostalCode&&a(Xoe.actions.epgPostalCodeChanged({postalCode:l.example}))}}),[a,l,o]),(0,y.useEffect)((()=>{u||a(Xoe.actions.epgCountriesFetchRequested({server:o}))}),[a,u,o]);const M=t||!g?y.createElement(vd,{name:"countrySelect",value:g,isDisabled:n,hasError:i,onChange:I},y.createElement("option",{value:""},(0,De.Z)("Select Country")),v.map((({value:e,label:t},n)=>y.createElement("option",{key:n,value:e},t)))):y.createElement("div",{className:"DVRSetupCountrySelectInput-edit-XXh7d6"},null==l?void 0:l.title,n?null:y.createElement(xn,{kind:Dn.Primary,onPress:b},(0,De.Z)("Edit")));return y.createElement(y.Fragment,null,y.createElement(Vf,{className:"DVRSetupCountrySelectInput-label-yme6P4 FormLabel-label-1WQL1E",hasError:i},(0,De.Z)("Country")),d||!m?(0,De.Z)("Loading countries..."):null,p?(0,De.Z)("We couldn't fetch countries at this moment."):null,u&&m?M:null)}const sle=(0,de.P1)(tle,(({selectedCountry:e})=>e&&1===e.flavor?e.example:void 0));let rle;function ale({isDisabled:e,hasError:t}){const n=(0,f.I0)(),{selectedCountry:i}=(0,f.v9)(tle),s=(0,ad.Z)(i),r=(0,f.v9)(sle),[a,o]=(0,y.useState)(""),l=(0,y.useCallback)((e=>{o(e.currentTarget.value)}),[o]);return(0,y.useEffect)((()=>{s&&s.key!==(null==i?void 0:i.key)&&o("")}),[i,s]),(0,y.useEffect)((()=>{rle&&window.clearTimeout(rle),rle=window.setTimeout((()=>{n(Xoe.actions.epgPostalCodeChanged({postalCode:a}))}),300)}),[n,a]),r?y.createElement(y.Fragment,null,y.createElement(Vf,{className:"DVRSetupPostalCodeInput-label-3eRlyL FormLabel-label-1WQL1E",hasError:t},(0,De.Z)("Postal Code")),y.createElement(Hl,{name:"postalCodeInput",size:We.Medium,placeholder:(0,De.Z)("e.g. {postalCodeExample}",{postalCodeExample:r}),value:a,isDisabled:e,hasError:t,onChange:l})):null}const ole=(0,de.P1)(ele,(e=>e.dvrSetup)),lle=(0,de.P1)(tle,(({lineupGroups:e})=>{const{epgLineupGroups:t,isPending:n,isPopulated:i}=e;return n||!i||0===t.length?null:t[t.length-1]})),cle=(0,de.P1)(tle,(({selectedLineupGroups:e})=>e.reduce(((e,{selectedLineup:t})=>(t&&e.push(t),e)),[]))),dle=(0,oC.Z)(cle,(e=>e)),ule="DVRSetupAddLineup-section-xRT4yZ";function ple({onSetStep:e}){const t=(0,f.I0)(),[n]=cn(),{selectedDevice:i}=(0,f.v9)(ole),{selectedCountry:s,selectedRegion:r,selectedLineupGroups:a,postalCode:o,channelMappings:{isPending:l},lineupGroups:{isPending:c}}=(0,f.v9)(tle),d=(0,f.v9)(lle),u=(0,f.v9)(dle),p=(0,f.v9)(sle),[m,h]=(0,y.useState)(!1),g=(0,ad.Z)(s),v=(0,ad.Z)(r),I=(0,ad.Z)(o),b=a.every((e=>e.isSelectedLineupPopulated)),M=a.every((e=>e.isChannelMappingsFetched)),S=!(!s||!o&&!r&&s.flavor!==Zoe.SinglePostalCode),E=!!(void 0!==g&&g!==s||void 0!==v&&v!==r||void 0!==I&&I!==o),D=(0,y.useCallback)((()=>{a.length>0?e(Ice.Mapping):(t(Qoe.actions.reset()),t(Xoe.actions.reset()))}),[t,a.length,e]),C=(0,y.useCallback)((()=>{d&&t(Xoe.actions.selectedEPGLineupGroupAddRequested({lineupGroup:d}))}),[t,d]),P=(0,y.useCallback)((()=>{e(Ice.XMLTV)}),[e]);(0,y.useEffect)((()=>{i||e(Ice.Device)}),[i,e]),(0,y.useEffect)((()=>{E&&S&&s&&t(Xoe.actions.epgLineupGroupFetchRequested({server:n,country:s,region:r,postalCode:o}))}),[E,S,r,o,n,s,t]),(0,y.useEffect)((()=>{d&&i&&a&&!m&&!b&&(t(Xoe.actions.bestEPGLineupSearchRequested({server:n,device:i,lineupGroup:a[a.length-1]})),h(!0))}),[t,d,i,a,m,b,n]),(0,y.useEffect)((()=>{m&&d&&i&&0!==u.length&&(b&&M?e(Ice.Mapping):l||t(Xoe.actions.channelMappingsFetchRequested({server:n,device:i,lineups:u})))}),[t,m,l,b,M,d,e,i,u,n]);const w=(!d||d.epgLineups.length>0)&&S,T=m||c||l||!b,Z=S&&!c&&0===(null==d?void 0:d.epgLineups.length);return y.createElement(y.Fragment,null,y.createElement(Ed,{innerClassName:"DVRSetupAddLineup-innerModalBody-3JtF9F ModalBody-innerModalBody-9jyEBh"},y.createElement("p",{className:"DVRSetupAddLineup-header-2dZkLY"},0===u.length?(0,De.Z)("Add EPG data lineup or location"):(0,De.Z)("Add another EPG data lineup or location")),y.createElement("p",null,(0,De.Z)("If your tuner device can receive channels that are not present in your initial lineup, you can specify additional locations or lineups to fulfill your EPG.")),y.createElement("p",null,(0,De.Z)("Remember, your device will need to be able to tune these channels to be able to function.")),y.createElement("p",null,(0,De.Z)("Any unsaved changes to channel mappings will be lost when you add a new lineup.")),y.createElement("div",{className:"DVRSetupAddLineup-formContainer-3HkhTD"},y.createElement("div",{className:"DVRSetupAddLineup-formElements-1uy_F1"},i?y.createElement("div",{className:ule},y.createElement(ile,{deviceKey:i.key,isActive:!0,isDisabled:T,hasError:Z})):null,(null==s?void 0:s.flavor)===Zoe.Regions?y.createElement("div",{className:ule},y.createElement(nle,{isDisabled:T,hasError:Z})):null,p?y.createElement("div",{className:ule},y.createElement(ale,{isDisabled:T,hasError:Z})):null),Z?y.createElement("p",{className:"DVRSetupAddLineup-formError-2Pmnx2"},(0,De.Z)("We couldn't find Plex DVR guide data for your location at this time. Please select a different location or use an XMLTV guide.")):null),0===u.length?y.createElement(AM.Z,{kind:Dn.Primary,onPress:P},(0,De.Z)("Have an XMLTV guide on your server? Click here to use that instead.")):null),y.createElement(pc,null,y.createElement(Dd,{className:"DVRSetupAddLineup-buttonBar-26BTFh ModalFooterButtonBar-buttonBar-UJWGIc"},y.createElement(zn,{isDisabled:l,onPress:D},(0,De.Z)("Back")),y.createElement(kl,{kind:Dn.Primary,isDisabled:!w,isSpinning:T,onPress:C},(0,De.Z)("Continue")))))}const mle=function(e){return(0,de.P1)(hm(e),(e=>e.find((e=>e.type===Oa.RG))))},hle=(0,de.P1)(ole,(({devices:e})=>e.mediaGrabberDevices.filter((e=>!e.parentID&&e.status===Aoe.Alive))));var gle=n(7333),yle=n(54346),vle=n(8955),fle=n(72066),Ile=n(79029);const ble={"HDHomeRun CONNECT":yle,"HDHomeRun EXPAND":vle,"HDHomeRun EXTEND":fle,"HDHomeRun PRIME":Ile};function Mle({className:e="DVRDeviceImage-image-3r73ii",thumb:t,model:n,width:i,height:s}){const[r]=cn(),a=ble[n]||gle;return y.createElement(ft.Z,{serverEntityID:r.entityID,providerEntityID:void 0,className:e,url:t,emptySrc:a,width:i,height:s})}const Sle=e=>(0,de.P1)(ole,(t=>e?t.channelsByDeviceKey[e]:Foe));function Ele(e){switch(e){case joe.Unknown:return(0,De.Z)("Unknown");case joe.Antenna:return(0,De.Z)("Antenna");case joe.Cable:return(0,De.Z)("Cable");case joe.Satellite:return(0,De.Z)("Satellite")}}function Dle({device:e,isDisabled:t}){const n=(0,f.I0)(),{key:i,source:s,sources:r}=e,a=(0,y.useMemo)((()=>function(e,t){return e?e.map((e=>({value:e,label:Ele(e)}))):[{value:t,label:Ele(t)}]}(r,s)),[r,s]),o=(0,y.useCallback)((e=>{n(Qoe.actions.deviceSourceSelected({deviceKey:i,source:e.currentTarget.value}))}),[n,i]);return y.createElement(vd,{name:"deviceSource",value:s,isDisabled:t||1===a.length,onChange:o},a.map((({value:e,label:t},n)=>y.createElement("option",{key:n,value:e},t))))}const Cle="DVRSetupDevice-section-27gaZ7",Ple="DVRSetupDevice-button-5VHhTQ SpinnerButton-button-1CCIvZ Button-button-1q7C1V Link-link-2WGTd7";function wle({device:e,activeDeviceKey:t,onSetupStart:n,onSetStep:i}){const s=(0,f.I0)(),[r]=cn(),a=(0,y.useMemo)((()=>Sle(e.key)),[e]),o=(0,f.v9)(sle),l=(0,f.v9)(a),{lineupGroups:{isPending:c},selectedCountry:d,selectedRegion:u,postalCode:p}=(0,f.v9)(tle),m=(0,f.v9)(lle),{key:h,make:g,model:v,tuners:I,thumb:b,uri:M}=e,S=!(!d||!p&&!u&&d.flavor!==Zoe.SinglePostalCode),E=(0,y.useCallback)((()=>{(0,Rt.c9)((()=>{s(Qoe.actions.deviceSelected({deviceKey:e.key})),m&&m.epgLineups.length>0&&s(Xoe.actions.selectedEPGLineupGroupAddRequested({lineupGroup:m}))})),m&&m.epgLineups.length>0?i(Ice.Info):i(Ice.XMLTV)}),[s,e,m,i]),D=(0,y.useCallback)((()=>{n(h)}),[h,n]);(0,y.useEffect)((()=>{(null==l?void 0:l.isPending)||(null==l?void 0:l.isPopulated)||s(Qoe.actions.deviceChannelsFetchRequested({server:r,deviceKey:h}))}),[r,h,l,s]),(0,y.useEffect)((()=>{S&&d&&s(Xoe.actions.epgLineupGroupFetchRequested({server:r,country:d,region:u,postalCode:p}))}),[u,p,r,d,S,s]);const C=!(!t||t!==h),P=!(!t||t===h),w=!!t&&S,T=function(e){if(!e||e.isPending)return(0,De.Z)("Loading channels...");const{channels:t,error:n}=e,i=t.length;return n||0===i?(0,De.Z)("0 Channels (scan required)"):1===i?(0,De.Z)("1 channel"):(0,De.Z)("{channelCount} channels",{channelCount:i})}(l);return y.createElement("div",{className:"DVRSetupDevice-container-28VWBw"},y.createElement(Mle,{model:v,thumb:b,width:200,height:110}),y.createElement("div",{className:Cle},y.createElement("div",{className:"DVRSetupDevice-make-39Fb2M"},g),y.createElement("div",{className:"DVRSetupDevice-model-IEMeqN"},v),y.createElement("div",{className:"DVRSetupDevice-moreInfo-2a2TeA"},M,M&&I?y.createElement(tr.Z,null):null,I>1?(0,De.Z)("{tunersCount} tuners",{tunersCount:I}):(0,De.Z)("1 tuner"))),y.createElement("div",{className:Cle},y.createElement(Dle,{device:e,isDisabled:P}),y.createElement("div",{className:"DVRSetupDevice-channelsMessage-L-Z9-P"},T)),P?null:y.createElement("div",{className:Cle},y.createElement(ile,{deviceKey:e.key,isActive:C,onEdit:D})),C&&(null==d?void 0:d.flavor)===Zoe.Regions?y.createElement("div",{className:Cle},y.createElement(nle,null)):null,C&&o?y.createElement("div",{className:Cle},y.createElement(ale,null)):null,C||P?null:y.createElement(zn,{kind:Dn.Primary,className:Ple,onPress:D},(0,De.Z)("Setup Device")),C?y.createElement(kl,{kind:Dn.Primary,className:Ple,isDisabled:!w,isSpinning:c,onPress:E},(0,De.Z)("Next")):null,P?y.createElement("div",{className:"DVRSetupDevice-disabledText-2FIjDh"},(0,De.Z)("You can add this device later.")):null)}function Tle(){const e=(0,f.I0)(),[t]=cn(),{setupErrorMessage:n,isAddingDevice:i}=(0,f.v9)(ole),[s,r]=(0,y.useState)(!1),a=(0,ad.Z)(i),{register:o,handleSubmit:l}=(0,Nl.cI)(),c=(0,y.useCallback)((()=>{r(!s)}),[s,r]),d=l((({address:n})=>{e(Qoe.actions.deviceAddRequested({server:t,uri:n}))}));return(0,y.useEffect)((()=>{s&&a&&!i&&!n&&r(!1)}),[i,a,r,n,s]),y.createElement(y.Fragment,null,y.createElement("div",{className:"DVRSetupManualDevice-manualDeviceButtonContainer-osdd-l"},y.createElement(G$.Z,{kind:Dn.Primary,direction:s?pf.Up:pf.Down,isSelected:!1,onPress:c},(0,De.Z)("Don't see your HDHomeRun device? Enter its network address manually"))),y.createElement("div",{className:"DVRSetupManualDevice-manualDeviceContainer-1NADiu"},s?y.createElement("form",{onSubmit:d},y.createElement(Vf,null,(0,De.Z)("HDHomeRun Device Address")),y.createElement(Hl,{type:"text",name:"address",className:"DVRSetupManualDevice-manualDeviceInput-24S8Nb TextInput-input-2FGxDj",placeholder:(0,De.Z)("IP address or hostname"),ref:o({required:!0})}),y.createElement(kl,{type:"submit",kind:Dn.Primary,isSpinning:i},(0,De.Z)("Connect"))):null))}function Zle({onSetStep:e}){const t=(0,f.I0)(),[n]=cn(),[i,s]=(0,y.useState)(void 0),{devices:{isPending:r,isPopulated:a},isDiscoveringDevices:o,isCancellingChannelScan:l}=(0,f.v9)(ole),c=(0,f.v9)(hle),d=(0,y.useMemo)((()=>mle(n)),[n]),u=(0,f.v9)(d),p=(0,y.useCallback)((e=>{s(e)}),[s]);(0,y.useEffect)((()=>{(0,Rt.c9)((()=>{t(Qoe.actions.setupReset())}))}),[t]),(0,y.useEffect)((()=>{l||(u?t(Qoe.actions.deviceChannelsCancelScanRequested({server:n,deviceKey:u.Context.deviceID})):a||t(Qoe.actions.devicesFetchRequested({server:n})))}),[t,n,u,l,a]),(0,y.useEffect)((()=>{c.some((e=>e.key===i))||s(void 0)}),[c,i,s]),(0,y.useEffect)((()=>{let e;return o||l||(e=window.setTimeout((()=>{t(Qoe.actions.devicesDiscoverRequested({server:n}))}),2e3)),()=>{e&&window.clearTimeout(e)}}),[t,n,o,l]);const m=function(e,t,n){return t?(0,De.Z)("Looking for compatible devices..."):n&&e.length>0?(0,De.Z)("We found hardware we recognize!"):n&&0===e.length?(0,De.Z)("We couldn't find any hardware we recognize, but will continue to look for available devices."):(0,De.Z)("Something went wrong. Please try again later.")}(c,r||l,a),h=l||r||!c.length;return y.createElement(Ed,{innerClassName:"DVRSetupDeviceList-innerModalBody-MO8ErG ModalBody-innerModalBody-9jyEBh"},y.createElement("p",null,m),y.createElement(Tle,null),h?y.createElement("div",{className:"DVRSetupDeviceList-spinnerContainer-1wLXzY"},y.createElement(qe,null)):y.createElement(Oe,{className:"DVRSetupDeviceList-devicesContainer-1q42za",scrollDirection:Ne.Horizontal},c.map((t=>y.createElement(wle,{key:t.key,device:t,activeDeviceKey:i,onSetupStart:p,onSetStep:e})))))}const Nle={container:"AdditionalDevice-container-3FWLdG",info:"AdditionalDevice-info-1JjTik",make:"AdditionalDevice-make-RvyShE",model:"AdditionalDevice-model-28SMDN"};function Ale({device:e,onSetupPress:t}){const{make:n,model:i,thumb:s}=e;return y.createElement("div",{className:Nle.container},y.createElement(Mle,{model:i,thumb:s,width:130,height:73}),y.createElement("div",{className:Nle.info},y.createElement("div",{className:Nle.make},n),y.createElement("div",{className:Nle.model},i),y.createElement(zn,{className:Nle.button,kind:Dn.Primary,size:We.Small,onPress:t},(0,De.Z)("Setup Device"))))}function xle({onModalClose:e,onSetStep:t}){var n;const[i,s]=cn(),{devices:{isPending:r}}=(0,f.v9)(ole),{epgDownloadActivityID:a}=(0,f.v9)(ole),o=(0,f.v9)(hle),l=(0,Ft.Z)(s,At.zW.Content),c=null==(n=null==l?void 0:l.directories)?void 0:n.find((e=>e.hubKey&&!e.key)),d=c&&(0,UZ.ZP)(UZ.tk.GUIDE,i,s,c),u=(0,y.useCallback)((()=>{t(Ice.Device)}),[t]);return y.createElement(y.Fragment,null,y.createElement(Ed,{innerClassName:"DVRSetupDownload-innerModalBody-2iwooc ModalBody-innerModalBody-9jyEBh"},!r&&o.length>0?y.createElement("div",{className:"DVRSetupDownload-additionalDevices-28xFHm"},y.createElement("p",{className:"DVRSetupDownload-accentText-hBCm2K"},(0,De.Z)("Setup another device?")),o.map((e=>y.createElement(Ale,{key:e.key,device:e,onSetupPress:u})))):null,y.createElement("p",{className:"DVRSetupDownload-text-3Ejudh"},(0,De.Z)('You can now find your Guide and Channels in the sidebar under "Live TV". While we\'re grabbing the guide data, you can start browsing; it will update automatically as we download what’s on.')),a?y.createElement("div",{className:"DVRSetupDownload-spinnerContainer-26zsOO"},y.createElement(qe,{className:"DVRSetupDownload-spinner-3sESV0 Spinner-spinner-CSMaLA spin-spin-oHlEXH"}),y.createElement("p",null,(0,De.Z)("Downloading EPG data"))):null),y.createElement(pc,null,y.createElement(Dd,null,y.createElement(zn,{onPress:e},(0,De.Z)("Close")),y.createElement(zn,{kind:Dn.Primary,to:d,isDisabled:!d,onPress:e},(0,De.Z)("View Guide")))))}function Lle({activeStep:e,step:t,title:n}){const i=e===t,s=e>t,r=e<t;return y.createElement("div",{className:"DVRSetupInfoStep-container-1l-N1q"},s?y.createElement(va,{className:"DVRSetupInfoStep-done-2C07NR Badge-badge-3V2nLB DVRSetupInfoStep-step-Lesfic",iconComponent:fa.Z}):null,i?y.createElement(qe,{className:"DVRSetupInfoStep-active-1GPAed Spinner-spinner-CSMaLA spin-spin-oHlEXH DVRSetupInfoStep-step-Lesfic"}):null,r?y.createElement("div",{className:"DVRSetupInfoStep-waiting-WHer6E Badge-badge-3V2nLB DVRSetupInfoStep-step-Lesfic"}):null,n)}var Ole,jle;function kle({onSetStep:e}){const t=(0,f.I0)(),[n]=cn(),[i,s]=(0,y.useState)(1),r=(0,f.v9)(dle),{selectedDevice:a}=(0,f.v9)(ole),o=(0,y.useMemo)((()=>Sle(null==a?void 0:a.key)),[a]),{channels:l,isPending:c,isPopulated:d}=(0,f.v9)(o),{postalCode:u,selectedCountry:p,selectedLanguage:m,selectedLineupGroups:h,selectedRegion:g,languages:{epgLanguages:v},channelMappings:{isPopulated:I}}=(0,f.v9)(tle),b=h[0],M=(0,y.useCallback)((()=>{e(Ice.Device)}),[e]);return(0,y.useEffect)((()=>{0===v.length&&t(Xoe.actions.epgLanguagesFetchRequested({server:n}))}),[t,n,v,e]),(0,y.useEffect)((()=>{1===i&&(p&&m?s(2):v&&p&&!m&&t(Xoe.actions.epgLanguageSelected({languageCode:p.language})))}),[t,v,i,p,m]),(0,y.useEffect)((()=>{2===i&&(d?s(3):!a||l&&c||t(Qoe.actions.deviceChannelsFetchRequested({server:n,deviceKey:a.key})))}),[l,t,c,d,i,a,n]),(0,y.useEffect)((()=>{3!==i||!p||r||b||t(Xoe.actions.epgLineupGroupFetchRequested({server:n,country:p,region:g,postalCode:u}))}),[t,b,i,u,p,r,g,n]),(0,y.useEffect)((()=>{3===i&&a&&!(null==b?void 0:b.activityUUID)&&0===r.length&&t(Xoe.actions.bestEPGLineupSearchRequested({server:n,device:a,lineupGroup:b}))}),[t,b,i,a,r,n]),(0,y.useEffect)((()=>{3===i&&(null==b?void 0:b.isSelectedLineupPopulated)&&e(Ice.Mapping)}),[I,b,i,e,r]),y.createElement(y.Fragment,null,y.createElement(Ed,{innerClassName:"DVRSetupInfo-innerModalBody-3f5rAT ModalBody-innerModalBody-9jyEBh"},y.createElement("p",null,(0,De.Z)("Setting up your tuner and channels...")),y.createElement("div",{className:"DVRSetupInfo-container-1FE3Tl"},y.createElement(qe,{className:"DVRSetupInfo-spinner-1ZWiwq Spinner-spinner-CSMaLA spin-spin-oHlEXH"}),y.createElement("div",{className:"DVRSetupInfo-steps-3Yrk20"},y.createElement(Lle,{step:1,activeStep:i,title:(0,De.Z)("Gathering data")}),y.createElement(Lle,{step:2,activeStep:i,title:(0,De.Z)("Scanning channels")}),y.createElement(Lle,{step:3,activeStep:i,title:(0,De.Z)("Finding the best guide")})))),y.createElement(pc,null,y.createElement(Dd,{className:"DVRSetupInfo-buttonBar-1Rh95z ModalFooterButtonBar-buttonBar-UJWGIc"},y.createElement(zn,{onPress:M},(0,De.Z)("Back")))))}(jle=Ole||(Ole={}))[jle.Data=1]="Data",jle[jle.Channels=2]="Channels",jle[jle.Guide=3]="Guide";const Rle=(0,de.P1)(tle,dle,(({channelsByLineupUUID:e},t)=>t.reduce(((t,n)=>{var i;const s=null!=(i=e[n.uuid])?i:[];return t.concat(s)}),[]))),zle=(0,Ht.Z)((function(e){return(0,de.P1)(Sle(e),tle,Rle,((e,t,n)=>{const{channelMappings:i}=t;if(!(null==e?void 0:e.isPopulated)||!i.isPopulated)return[];const s=e.channels.map((e=>e.key)),r=i.mappings.map((e=>e.deviceIdentifier)),a=s.concat(r);return Array.from(new Set(a)).map((t=>{var s;const r=e.channels.find((e=>e.key===t)),a=i.mappings.find((e=>e.deviceIdentifier===t)),o=n.find((e=>(null==e?void 0:e.key)===(null==a?void 0:a.channelKey)||(null==e?void 0:e.identifier)===(null==a?void 0:a.lineupIdentifier))),{name:l="",identifier:c="",drm:d=!1,signalStrength:u,signalQuality:p,hd:m=!1}=r||{},h=!(!r||d||!(null==a?void 0:a.enabled));return{key:t,name:l,deviceIdentifier:c,channelKey:(null==a?void 0:a.channelKey)||(null==o?void 0:o.key),lineupIdentifier:(null==a?void 0:a.lineupIdentifier)||(null==o?void 0:o.identifier),signalStrength:u,signalQuality:p,enabled:h,drm:d,isChannelMissing:!r,isDeviceChannelHD:m,isLineupChannelHD:null!=(s=null==o?void 0:o.hd)&&s}})).sort(((e,t)=>(0,ZC.Z)(e.deviceIdentifier,t.deviceIdentifier)))}))}));function Ule(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-clock-hour-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m179.45 378h-106.62l29.821-29.12h51.725l25.07 29.12m-148.31-81.48l-6.069 75.88-25.07-29.12 3.167-39.48 18.737-18.2 9.236 10.92m69.934 7.28l-3.166 39.48-29.821 29.12 6.069-75.88 11.348-10.92 15.57 18.2m61.23-9.24h-58.59l-12.403-14.56 14.779-14.56h58.59l12.667 14.56-15.04 14.56m-155.18-38.36l3.167-39.48 29.821-29.12-6.07 75.88-11.347 11.2-15.571-18.48m159.93 0l3.167-39.48 29.821-29.12-6.07 75.88-11.348 11.2-15.57-18.48m-1.32-44.8h-51.724l-25.07-29.4h106.62l-29.821 29.4"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Ule.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const Vle=Ule;function Ble(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-clock-minutes-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m391.63 378h-106.62l29.821-29.12h51.725l25.07 29.12m147.79 0h-106.62l29.821-29.12h51.725l25.07 29.12m-226.16-74.2l-3.167 39.48-29.821 29.12 6.07-75.88 11.347-10.92 15.571 18.2m89.99-7.28l-6.07 75.88-25.07-29.12 3.167-39.48 18.737-18.2 9.236 10.92m57.795 7.28l-3.167 39.48-29.821 29.12 6.07-75.88 11.348-10.92 15.57 18.2m89.99-7.28l-6.069 75.88-25.07-29.12 3.167-39.48 18.737-18.2 9.236 10.92m-261.79-33.04l6.069-75.88 25.07 29.12-3.167 39.48-18.737 18.48-9.236-11.2m89.99-7.28l3.167-39.48 29.821-29.12-6.07 75.88-11.348 11.2-15.57-18.48m57.795 7.28l6.069-75.88 25.07 29.12-3.167 39.48-18.737 18.48-9.236-11.2m89.99-7.28l3.167-39.48 29.821-29.12-6.07 75.88-11.348 11.2-15.57-18.48m-149.1-44.8h-51.725l-25.07-29.4h106.62l-29.821 29.4m177.61-29.4l-29.821 29.4h-51.725l-25.07-29.4h106.62"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Ble.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const Fle=Ble;function Hle(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-clock-separator-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m218.51 378l2.375-29.12h27.71l-2.375 29.12h-27.71m11.08-134.12l2.376-29.12h27.709l-2.375 29.12h-27.71"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Hle.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const _le=Hle,Qle="ChannelScanActivity-message-bSSTcM",Gle="ChannelScanActivity-clockTime-2zXqmt ChannelScanActivity-clock-13qz96 ChannelScanActivity-icon-r4p0uJ";function Yle({className:e}){const t=(0,f.I0)(),[n]=cn(),{selectedDevice:i,hasScannedChannels:s,isCancellingChannelScan:r}=(0,f.v9)(ole),a=(0,y.useMemo)((()=>mle(n)),[n]),o=(0,y.useMemo)((()=>Sle(null==i?void 0:i.key)),[i]),l=(0,f.v9)(a),{channels:c,isPopulated:d}=(0,f.v9)(o),u=(0,y.useCallback)((()=>{i&&t(Qoe.actions.deviceChannelsScanRequested({server:n,deviceKey:i.key,source:i.source}))}),[t,n,i]),p=(0,y.useCallback)((()=>{i&&!r&&t(Qoe.actions.deviceChannelsCancelScanRequested({server:n,deviceKey:i.key}))}),[t,n,i,r]);return l?y.createElement("div",{className:e},y.createElement(CL,{size:90,progress:null==l?void 0:l.progress}),y.createElement("div",{className:Qle},(0,De.Z)("Scanning channels")),y.createElement(kl,{isSpinning:r,isDisabled:r,onPress:p},(0,De.Z)("Stop scanning"))):d&&0===c.length?y.createElement("div",{className:e},y.createElement("div",{className:"ChannelScanActivity-iconContainer-CUuV7J"},s?y.createElement(Ce.Z,{className:"ChannelScanActivity-icon-r4p0uJ"}):y.createElement(y.Fragment,null,y.createElement(Vle,{className:Gle}),y.createElement(_le,{className:"ChannelScanActivity-clock-13qz96 ChannelScanActivity-icon-r4p0uJ"}),y.createElement(Fle,{className:Gle}))),y.createElement("div",{className:Qle},s?(0,De.Z)("No channels found. Make sure your device has a signal from your antenna and try scanning again."):(0,De.Z)("Awaiting channel scan")),y.createElement(kl,{kind:Dn.Primary,isDisabled:!!l,isSpinning:!!l,onPress:u},(0,De.Z)("Scan channels"))):null}function Wle(e){return e.title?`${e.title} (${e.callSign})`:e.callSign}const Kle=(0,de.P1)(tle,dle,(({channelsByLineupUUID:e},t)=>t.reduce(((t,n)=>{var i;const s=null!=(i=e[n.uuid])?i:[];return t[n.title]=s.map((e=>({value:e.key,label:Wle(e)}))),t}),{})));function qle({className:e,index:t,selectedChannel:n,onChange:i,isDisabled:s}){const r=(0,f.v9)(Rle),a=(0,f.v9)(Kle),[o,l]=(0,y.useState)(!1),c=(0,y.useMemo)((()=>null==r?void 0:r.find((e=>e.key===n))),[r,n]),d=(0,y.useCallback)((()=>{l(!0)}),[l]),u=(0,y.useCallback)((e=>{const n=e.target.value,s=r.find((e=>e.key===n));s&&i(n,s.identifier,t)}),[t,r,i]);return y.createElement(vd,{className:e,name:`[${t}].channelKey`,value:n,isDisabled:s,onChange:u,onMouseDown:d,onTouchStart:d},y.createElement("option",{key:"",value:""},(0,De.Z)("Select Channel")),o?Object.keys(a).map(((e,t)=>y.createElement("optgroup",{key:t,label:e},a[e].map((({value:e,label:t},n)=>y.createElement("option",{key:n,value:e},t)))))):y.createElement("option",{key:"computed",value:n},c?Wle(c):null))}var $le=n(13838),Jle=n(468),Xle=n(61721),ece=n(99717);function tce({className:e,quality:t}){if(void 0===t)return null;const n=(i=t)<=25?$le:i<=50?Jle:i<=75?Xle:ece;var i;return y.createElement("img",{className:e,src:String(n),width:18,height:16})}var nce=Object.prototype.hasOwnProperty,ice=Object.getOwnPropertySymbols,sce=Object.prototype.propertyIsEnumerable;const rce=(0,y.memo)((function(e){var{item:t,enabled:n,channelKey:i,onEnabledChange:s,onChannelKeyChange:r}=e,a=((e,t)=>{var n={};for(var i in e)nce.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&ice)for(var i of ice(e))t.indexOf(i)<0&&sce.call(e,i)&&(n[i]=e[i]);return n})(e,["item","enabled","channelKey","onEnabledChange","onChannelKeyChange"]);const o=Br(a),l=a.row,{name:c,deviceIdentifier:d,signalStrength:u,signalQuality:p,drm:m,isDeviceChannelHD:h,isLineupChannelHD:g}=t||{},v=(0,y.useCallback)((e=>{s(e.currentTarget.checked,l)}),[l,s]);return t?y.createElement("div",{className:"DeviceChannelMapping-container-2Jyvyc",style:o.style},y.createElement("label",{className:"DeviceChannelMapping-deviceChannel-2nhFtH"},y.createElement("div",{className:"DeviceChannelMapping-channelEnabled-9ANDla"},m?null:y.createElement(vE,{name:`[${a.row}].enabled`,className:"DeviceChannelMapping-channelEnabledCheckbox-2xDlri Checkbox-input-3E0Vit",checked:n,onChange:v})),y.createElement("div",{className:we()("DeviceChannelMapping-deviceChannelInfo-2RxkGX",!n&&"DeviceChannelMapping-mappingDisabled-3byZOF")},y.createElement("div",{className:"DeviceChannelMapping-deviceChannelIdentifier-3Se0We"},d),y.createElement("div",{className:"DeviceChannelMapping-deviceChannelName-11V8KP"},c)),y.createElement(tce,{className:"DeviceChannelMapping-signalQuality-Pujj6Z",quality:p||u})),m?y.createElement("div",{className:"DeviceChannelMapping-drmChannel-3kT75d"},y.createElement(zw.Z,{className:"DeviceChannelMapping-drmChannelBadge-2aCQwA"},(0,De.Z)("Protected"))):y.createElement("div",{className:"DeviceChannelMapping-lineupChannel-1zEvaN"},y.createElement(qle,{index:l,className:"DeviceChannelMapping-lineupChannelSelect-3Ur0r9 Select-input-bAL4pR",selectedChannel:i,isDisabled:!n,onChange:r}),h||g?y.createElement(zw.Z,{className:"DeviceChannelMapping-hdBadge-3a1WQU"},(0,De.Z)("HD")):null)):null})),ace="DeviceChannelMappingsHeader-titleContainer-3HuV2I",oce="DeviceChannelMappingsHeader-title-1yyi2E",lce="DeviceChannelMappingsHeader-count-33TVMv";function cce({allChannelMappingsEnabled:e,allChannelMappingsDisabled:t,onAllChannelMappingsEnabledChange:n}){const i=(0,f.I0)(),[s]=cn(),{selectedDevice:r}=(0,f.v9)(ole),a=(0,y.useMemo)((()=>Sle(null==r?void 0:r.key)),[r]),o=(0,f.v9)(Rle),{channels:l}=(0,f.v9)(a),c=(0,y.useCallback)((n=>{n&&(n.indeterminate=!e&&!t)}),[e,t]),d=(0,y.useCallback)((()=>{r&&i(Qoe.actions.deviceChannelsScanRequested({server:s,deviceKey:r.key,source:r.source}))}),[i,s,r]);return y.createElement("div",{className:"DeviceChannelMappingsHeader-container-766snI"},y.createElement("div",{className:"DeviceChannelMappingsHeader-device-1bCt7L"},y.createElement(vE,{name:"toggleAll",className:"DeviceChannelMappingsHeader-checkbox-3xrRp4 Checkbox-input-3E0Vit",checked:e,ref:c,onChange:n}),y.createElement("div",{className:ace},y.createElement("div",{className:oce},(0,De.Z)("Tuner Channels")),y.createElement("div",{className:lce},(0,De.Z)("({count} Channels)",{count:l.length})),y.createElement(xn,{className:"DeviceChannelMappingsHeader-rescanButton-23ryX2 Link-link-2WGTd7",kind:Dn.Primary,onPress:d},(0,De.Z)("Rescan")))),y.createElement("div",{className:"DeviceChannelMappingsHeader-lineup-2XT2qP"},y.createElement("div",{className:ace},y.createElement("div",{className:oce},(0,De.Z)("EPG Channels")),y.createElement("div",{className:lce},(0,De.Z)("({count} Channels)",{count:o.length})))))}function dce({lineupGroup:e,isDisabled:t}){const n=(0,f.I0)(),{epgLineups:i,selectedLineup:s,uuid:r}=e,a=(0,y.useMemo)((()=>i.map((e=>({value:e.uuid,label:e.title})))),[i]),o=(0,y.useCallback)((e=>{const t=e.currentTarget.value;t&&n(Xoe.actions.selectedLineupSelected({lineupGroupUUID:r,selectedLineupUUID:t}))}),[n,r]);return y.createElement(vd,{name:r,className:"EPGLineupSelect-input-c9dgTb Select-input-bAL4pR",value:null==s?void 0:s.uuid,isDisabled:t||1===a.length,onChange:o},y.createElement("option",{value:""},(0,De.Z)("Select Guide")),a.map((({value:e,label:t},n)=>y.createElement("option",{key:n,value:e},t))))}function uce({lineupGroupUUID:e,isDisabled:t,onDeletePress:n}){const i=(0,y.useCallback)((()=>{n(e)}),[e,n]);return y.createElement(ap,{kind:Dn.Danger,className:"EPGLineups-deleteButton-28gO9e IconButton-iconButton-1kbRFb Link-link-2WGTd7",iconComponent:cc.Z,ariaLabel:(0,De.Z)("Delete Guide"),isDisabled:t,onPress:i})}function pce({onSetStep:e}){const t=(0,f.I0)(),[n]=cn(),{selectedLineupGroups:i,channelMappings:{isPending:s}}=(0,f.v9)(tle),{selectedDevice:r}=(0,f.v9)(ole),a=(0,f.v9)(Rle),o=(0,f.v9)(dle),l=(0,y.useMemo)((()=>mle(n)),[n]),c=(0,y.useMemo)((()=>Sle(null==r?void 0:r.key)),[r]),d=(0,f.v9)(l),{isPending:u,isPopulated:p}=(0,f.v9)(c),m=(0,Nl.qo)({}),h=(0,y.useMemo)((()=>{const e=o.reduce(((e,{uuid:t})=>(e[t]=0,e)),{});return Object.values(m).reduce(((e,{enabled:t,channelKey:n})=>{if(t&&n){const t=a.find((({key:e})=>e===n));(null==t?void 0:t.lineupUUID)&&e[t.lineupUUID]++}return e}),e)}),[m,a,o]),g=(0,y.useCallback)((()=>{const t=o.find((({uuid:e})=>e.includes(pa.zY)));e(t?Ice.XMLTV:Ice.AddLineup)}),[o,e]),v=(0,y.useCallback)((e=>{t(Xoe.actions.selectedEPGLineupGroupRemoved({lineupGroupUUID:e}))}),[t]);return(0,y.useEffect)((()=>{r&&(null==o?void 0:o.length)>0&&p&&t(Xoe.actions.channelMappingsFetchRequested({server:n,device:r,lineups:o}))}),[t,r,o,n,p]),y.createElement("div",{className:"EPGLineups-container-2-98yx"},y.createElement("div",null,(0,De.Z)("EPG Location")),y.createElement("div",{className:"EPGLineups-lineups-1vrnIv"},i.map(((e,t)=>{const{selectedLineup:n,uuid:r}=e;return y.createElement("div",{key:t,className:"EPGLineups-lineup-25LW38"},y.createElement("div",{className:"EPGLineups-lineupSelect-3APD7j"},y.createElement(dce,{lineupGroup:e,isDisabled:!!d}),i.length>1?y.createElement(uce,{lineupGroupUUID:r,isDisabled:!!d,onDeletePress:v}):null),!n||s||u||d?null:(0,De.Z)("{count} channels matched",{count:h[n.uuid]}))})),y.createElement(xn,{className:"EPGLineups-addLineup-1hpLOT Link-link-2WGTd7",isDisabled:!!d,onPress:g},y.createElement("span",{className:"EPGLineups-addLineupCircle-1gYugo"},"+"),(0,De.Z)("Add channels from another lineup/location"))))}const mce="DVRSetupMapping-container-WNZQtK";var hce=Object.assign;const gce=Nc({rowHeight:parseInt(ku.Z.dvrSetupChannelMappingItemHeight,10),overscan:1});function yce({dvrID:e,onSetStep:t}){const n=(0,f.I0)(),[i]=cn(),{epgDownloadActivityID:s,selectedDevice:r,hasScannedChannels:a,isSavingDVR:o}=(0,f.v9)(ole),{channelMappings:{isPending:l}}=(0,f.v9)(tle),c=(0,y.useMemo)((()=>mle(i)),[i]),d=(0,y.useMemo)((()=>Sle(null==r?void 0:r.key)),[r]),u=(0,y.useMemo)((()=>zle(null==r?void 0:r.key)),[r]),p=(0,f.v9)(c),{isPending:m}=(0,f.v9)(d),h=(0,f.v9)(u),g=(0,ad.Z)(l),[v,I]=(0,y.useState)(!1),[b,M]=(0,y.useState)(!1),S=(0,Nl.cI)({defaultValues:h}),{handleSubmit:E,register:D,reset:C,setValue:P,watch:w}=S,T=(0,y.useMemo)((()=>h.reduce(((e,t,n)=>(t.drm||e.push(`[${n}].enabled`),e)),[])),[h]),Z=w(T);(0,y.useEffect)((()=>{let e=!0,t=!0;Object.values(Z).forEach((n=>{n?e=!1:t=!1})),M(e),I(t)}),[Z,M,I]),(0,y.useEffect)((()=>{g&&!l&&C(h)}),[h,l,g,C]),(0,y.useEffect)((()=>{h.forEach(((e,t)=>{D(`[${t}].enabled`),D(`[${t}].channelKey`),D(`[${t}].deviceIdentifier`),D(`[${t}].lineupIdentifier`)}))}),[h,D]),(0,y.useEffect)((()=>{s&&t(Ice.Download)}),[s,t]),(0,y.useEffect)((()=>{r&&a&&(0,Rt.c9)((()=>{n(Qoe.actions.deviceChannelsFetchRequested({server:i,deviceKey:r.key}))}))}),[n,i,r,a]);const N=(0,y.useCallback)((e=>{h.forEach(((t,i)=>{const s=e.currentTarget.checked;t.drm||(P(`[${i}]`,{enabled:s}),n(Xoe.actions.channelMappingChanged({index:i,enabled:s})))}))}),[n,h,P]),A=(0,y.useCallback)(((e,t)=>{P(`[${t}]`,{enabled:e}),n(Xoe.actions.channelMappingChanged({index:t,enabled:e}))}),[n,P]),x=(0,y.useCallback)(((e,t,i)=>{P(`[${i}]`,{channelKey:e,lineupIdentifier:t}),n(Xoe.actions.channelMappingChanged({index:i,channelKey:e,lineupIdentifier:t}))}),[n,P]),L=(0,y.useCallback)((()=>{t(Ice.Device)}),[t]),O=E((t=>{if(!r)return;const s=Object.values(t).map((({deviceIdentifier:e,lineupIdentifier:t,channelKey:n,enabled:i})=>({deviceIdentifier:e,lineupIdentifier:t,channelKey:n,enabled:i})));n(e?Qoe.actions.addDVRDeviceRequested({server:i,dvrID:e,deviceKey:r.key,channelMappings:s}):Qoe.actions.dvrSaveRequested({server:i,device:r,channelMappings:s}))})),j=(0,y.useMemo)((()=>e=>{if(!e.item)return y.createElement(y.Fragment,null);const t=w(`[${e.row}].enabled`),n=w(`[${e.row}].channelKey`);return y.createElement(rce,hce(hce({},e),{enabled:t,channelKey:n,onEnabledChange:A,onChannelKeyChange:x}))}),[w,A,x]);return y.createElement(Nl.RV,hce({},S),y.createElement(Ed,{className:"DVRSetupMapping-modalBody-OQn50e ModalBody-modalBody-O9hN9W",innerClassName:"DVRSetupMapping-innerModalBody-3q8Pex"},y.createElement(pce,{onSetStep:t}),!p&&!m&&!l&&h.length>0?y.createElement(y.Fragment,null,y.createElement(cce,{allChannelMappingsEnabled:v,allChannelMappingsDisabled:b,onAllChannelMappingsEnabledChange:N}),y.createElement(Hc,{className:"DVRSetupMapping-scroller-3eC5KG VirtualListScroller-scroller-2VrU8W Scroller-scroller-3Rbtv0",items:h,totalSize:h.length,layout:gce,cellComponentFactory:j})):null,p||!m&&!l?null:y.createElement("div",{className:mce},y.createElement(qe,null)),y.createElement(Yle,{className:mce})),y.createElement(pc,null,y.createElement(Dd,{className:"DVRSetupMapping-buttonBar-jv1cDF ModalFooterButtonBar-buttonBar-UJWGIc"},y.createElement(zn,{onPress:L},(0,De.Z)("Back")),y.createElement(kl,{kind:Dn.Primary,isDisabled:!!p||l||0===h.length,isSpinning:o,onPress:O},(0,De.Z)("Continue")))))}function vce(){var e;const t=(0,f.I0)(),{selectedCountry:n,selectedLanguage:i,languages:{epgLanguages:s,isPending:r,isPopulated:a,error:o}}=(0,f.v9)(tle),l=null!=(e=null==i?void 0:i.code)?e:"",c=(0,y.useMemo)((()=>s.map((e=>({value:e.code,label:e.title})))),[s]),d=(0,y.useCallback)((e=>{t(Xoe.actions.epgLanguageSelected({languageCode:e.currentTarget.value}))}),[t]);return(0,y.useEffect)((()=>{a&&n&&!i&&t(Xoe.actions.epgLanguageSelected({languageCode:n.language}))}),[t,a,n,i]),y.createElement(y.Fragment,null,y.createElement(Vf,null,(0,De.Z)("Language")),r?(0,De.Z)("Loading languages..."):null,o?(0,De.Z)("We couldn't fetch languages at this moment."):null,a?y.createElement(vd,{name:"languageSelect",value:l,onChange:d},y.createElement("option",{value:""},(0,De.Z)("Select Language")),c.map((({value:e,label:t},n)=>y.createElement("option",{key:n,value:e},t)))):null)}function fce({onSetStep:e}){const t=(0,f.I0)(),[n]=cn(),{selectedDevice:i}=(0,f.v9)(ole),{selectedLineupGroups:s,languages:{isPopulated:r},channelMappings:{isPending:a,error:o}}=(0,f.v9)(tle),l=(0,f.v9)(dle),[c,d]=(0,y.useState)(!1),u=s.every((e=>e.isChannelMappingsFetched)),{register:p,errors:m,handleSubmit:h}=(0,Nl.cI)({defaultValues:{programGuideTitle:(0,De.Z)("My Guide")}}),g=(0,y.useCallback)((()=>{e(s.length>0?Ice.Mapping:Ice.Device)}),[s.length,e]),v=h((({xmltvPath:e,programGuideTitle:n})=>{t(Qoe.actions.setupErrorMessageRemoved()),t(Xoe.actions.xmltvSelectedEPGLineupGroupAdded({path:e,title:n}))})),I=(0,y.useCallback)((()=>{e(Ice.AddLineup)}),[e]);(0,y.useEffect)((()=>{d(a)}),[a,d]),(0,y.useEffect)((()=>{if(c&&o&&s.length>0){const e=s[s.length-1];(0,Rt.c9)((()=>{t(Xoe.actions.selectedEPGLineupGroupRemoved({lineupGroupUUID:e.uuid}))}))}}),[t,o,s,c,d]),(0,y.useEffect)((()=>{i&&l&&!c&&!u&&t(Xoe.actions.channelMappingsFetchRequested({server:n,device:i,lineups:l}))}),[t,i,l,c,u,n]),(0,y.useEffect)((()=>{r||t(Xoe.actions.epgLanguagesFetchRequested({server:n}))}),[t,n,r]),(0,y.useEffect)((()=>{a||o||!c||e(Ice.Mapping)}),[o,a,c,e]),(0,y.useEffect)((()=>{i||e(Ice.Device)}),[i,e]);const b=n.platform===Yt.Windows?"C:\\path\\to\\your\\xmltv_file.xml":"/path/to/your/xmltv_file.xml";return y.createElement(y.Fragment,null,y.createElement(Ed,{innerClassName:"DVRSetupUseXMLTV-innerModalBody-26vXkK ModalBody-innerModalBody-9jyEBh"},y.createElement("div",{className:"DVRSetupUseXMLTV-form-2vIT6Y"},y.createElement("p",{className:"DVRSetupUseXMLTV-title-RviasI"},(0,De.Z)("Use an XMLTV guide")),y.createElement("p",null,(0,De.Z)("If you are located somewhere that isn’t covered by Plex DVR guide data, you can specify a location to an XMLTV service to provide your guide data.")),y.createElement(hee.Z,null,y.createElement(vce,null)),y.createElement(hee.Z,null,y.createElement(Vf,{name:"xmltvPath"},(0,De.Z)("XMLTV Guide")),y.createElement(Hl,{name:"xmltvPath",placeholder:b,hasError:!!m.xmltvPath,ref:p({required:!0})})),y.createElement(hee.Z,null,y.createElement(Vf,{name:"programGuideTitle"},(0,De.Z)("Guide Title")),y.createElement(Hl,{name:"programGuideTitle",hasError:!!m.programGuideTitle,ref:p({required:!0})}))),0===l.length?y.createElement(xn,{kind:Dn.Primary,onPress:I},(0,De.Z)("Don't use XMLTV? Click here to select your location instead.")):null),y.createElement(pc,null,y.createElement(Dd,{className:"DVRSetupUseXMLTV-buttonBar-2lO_hh ModalFooterButtonBar-buttonBar-UJWGIc"},y.createElement(zn,{onPress:g},(0,De.Z)("Back")),y.createElement(kl,{kind:Dn.Primary,isSpinning:a,onPress:v},(0,De.Z)("Continue")))))}var Ice,bce;function Mce({machineIdentifier:e,providerIdentifier:t,dvrID:n,metricsContext:i,isOpen:s,onModalClose:r}){var a;const[o,l]=(0,y.useState)(Ice.Device),c=(0,f.I0)(),d=(0,zr.Z)(s),{selectedDVR:{dvr:u},setupErrorMessage:p}=(0,f.v9)(ole),m=(0,y.useCallback)((e=>{c(Qoe.actions.setupErrorMessageRemoved()),l(e)}),[c,l]);(0,y.useEffect)((()=>{d&&!s&&l(Ice.Device)}),[l,s,d]);const h=function(e){switch(e){case Ice.Device:return Zle;case Ice.XMLTV:return fce;case Ice.Info:return kle;case Ice.Mapping:return yce;case Ice.Download:return xle;case Ice.AddLineup:return ple;default:throw new Error("Unmatched DVR setup modal step: "+e)}}(o);return y.createElement(xt.ZP,{metricsPage:et.od,name:i},y.createElement(dn,{machineIdentifier:e,providerIdentifier:null!=(a=null==u?void 0:u.epgIdentifier)?a:t},y.createElement(lc,{className:"DVRSetupModal-modal-1a7RY0 Modal-medium-2I8RQW Modal-modal-2XtIR-",isOpen:s,shouldTrackOnClose:!0,onModalClose:r},y.createElement(dc,{onModalClose:r},y.createElement(mc,null,o===Ice.Download?(0,De.Z)("Setup complete"):(0,De.Z)("Tuner Setup")),p?y.createElement(Poe,{errorMessage:p}):null,y.createElement(h,{dvrID:n,onModalClose:r,onSetStep:m})))))}(bce=Ice||(Ice={})).Device="device",bce.XMLTV="xmltv",bce.Info="info",bce.Mapping="mapping",bce.Download="download",bce.AddLineup="addLineup";var Sce=n(43888);const Ece=(0,de.P1)((e=>e.ui.dvrSettingsUI),(e=>e.dvrSetup)),Dce=(0,No.Z)(rj.Mo),Cce=(0,No.Z)(rj.Xx),Pce=(0,No.Z)(rj.W),wce=(0,No.Z)(rj.ei),Tce=(0,No.Z)(rj.$F),Zce=(0,No.Z)(rj.SJ),Nce=(0,No.Z)(rj.Hj),Ace=(0,No.Z)(rj.w),xce=function(){return(0,de.P1)(((e,{deviceID:t})=>t),(0,VM.Z)(),Ece,((e,t,n)=>{const i=n.selectedDevice&&n.selectedDevice.key;return E().find(t,(t=>t.type===Oa.RG&&parseInt(t.Context.deviceID,10)===(e||i)))}))},Lce=(0,de.P1)((e=>e.ui.dvrSettingsUI),(e=>{const t=e.dvrSetup.setupErrorMessages;return t.length?t[0].message:null})),Oce=function(e){const{title:t,children:n,errorMessage:i,onModalClose:s}=e;return y.createElement(xL.Z,{onModalClose:s},y.createElement(NL.Z,null,t||(0,De.Z)("DVR Setup")),i?y.createElement(Xk.Z,{errorMessage:i}):null,n)};function jce({children:e,className:t}){return y.createElement(TL.Z,{className:t},e)}jce.defaultProps={className:"DVRSetupModalFooter-footer-Um6TLt ModalFooter-modalFooter-3ru3TD"};const kce=jce;class Rce extends y.Component{constructor(){super(...arguments),this.onNextStepPress=()=>{this.props.dvrSetupNextStep({dvrID:this.props.dvrID})}}render(){const{label:e=(0,De.Z)("Continue"),isDisabled:t}=this.props;return y.createElement($h.Z,{kind:fo._8,size:vc.M2,isDisabled:t,onPress:this.onNextStepPress},e)}}Rce.defaultProps={isDisabled:!1};const zce=(0,f.$j)(null,{dvrSetupNextStep:Sce.AV})(Rce);class Uce extends y.Component{constructor(){super(...arguments),this.onPreviousStepPress=()=>{this.props.dvrSetupPreviousStep({dvrID:this.props.dvrID})}}render(){return y.createElement($h.Z,{kind:fo.TP,size:vc.M2,onPress:this.onPreviousStepPress},(0,De.Z)("Previous"))}}const Vce=(0,f.$j)(null,{dvrSetupPreviousStep:Sce.G$})(Uce),Bce=function(){const e=(0,De.Z)("This tuner isn't officially supported by Plex, click for more information");return y.createElement(th.Z,{className:"UnsupportedDeviceIcon-unsupported-2NjgC3",component:AM.Z,tooltip:e,tooltipClassName:"UnsupportedDeviceIcon-unsupportedTooltip-2XFiwH Tooltip-bottomCenter-3puJD6 Tooltip-tooltip-7baWc9 Tooltip-tooltipArrow-3xCLkA Tooltip-tooltipTopArrow-2DrTmU Tooltip-tooltipCenterAlignArrow-2WhOj6",tooltipAttachment:nh.eO,target:"_blank",to:Np.hJ},y.createElement(Ce.Z,{className:"UnsupportedDeviceIcon-unsupportedIcon-1RWOks","aria-label":e}))};function Fce(e){const{className:t,serverEntityID:n,providerEntityID:i,model:s,thumb:r,width:a,height:o}=e;let l;switch(s){case"HDHomeRun CONNECT":l=yle;break;case"HDHomeRun EXPAND":l=vle;break;case"HDHomeRun EXTEND":l=fle;break;case"HDHomeRun PRIME":l=Ile}return y.createElement(ft.Z,{serverEntityID:n,providerEntityID:i,className:t,url:r,emptySrc:l,width:a,height:o})}Fce.defaultProps={className:"DVRDeviceImage-image-2kaCDN"};const Hce=Fce,_ce=function({className:e,uri:t}){const n=t.replace(/^https?:\/\//,"");return y.createElement("div",{className:e},n)},Qce=parseInt(ku.Z.dvrSetupImageWidth,10);class Gce extends y.Component{constructor(){super(...arguments),this.onSelectDevicePress=()=>{this.props.onSelectDevice(this.props.deviceID)}}render(){const{className:e,serverEntityID:t,make:n,model:i,uri:s,thumb:r,channelCount:a,unsupported:o,isSelectable:l,isSelected:c,includeUri:d,includeChannelCount:u}=this.props;let p;return p=1===a?(0,De.Z)("1 channel"):a>1?(0,De.Z)("{channelCount} channels",{channelCount:a}):(0,De.Z)("No channels"),y.createElement("div",{className:e},l?y.createElement(AM.Z,{onPress:this.onSelectDevicePress},y.createElement("div",{className:"DVRSetupDevice-deviceImageContainer-1AnHOa"},y.createElement(Hce,{serverEntityID:t,model:i,thumb:r,width:Qce,height:100}),c?y.createElement(xj.Z,{className:"DVRSetupDevice-selectButton-23o6Ld SelectButton-selectButton-Yy19xn",component:"div",title:i,isSelected:!0,isDisabled:!0}):null)):null,l?null:y.createElement(Hce,{serverEntityID:t,model:i,thumb:r,width:Qce,height:100}),y.createElement("div",{className:"DVRSetupDevice-details-2jWjsL"},y.createElement("div",{className:"DVRSetupDevice-make-3Qn_Kw"},n),y.createElement("div",{className:"DVRSetupDevice-modelContainer-3AXKt6"},y.createElement("div",{className:"DVRSetupDevice-model-FUafPt"},i),o?y.createElement(Bce,null):null),d?y.createElement(_ce,{className:"DVRSetupDevice-uri-3jEDaz",uri:s}):null,u?y.createElement("div",{className:"DVRSetupDevice-channelCount-1mlLrc"},p):null))}}Gce.defaultProps={includeUri:!1,includeChannelCount:!1,isSelectable:!1};const Yce=Gce,Wce=function({className:e,networks:t}){const n=t.reduce(((e,t)=>(e.push({[t.key]:t.title}),e)),[{"":(0,De.Z)("Select Network")}]);return y.createElement("div",{className:e},y.createElement(lee.Z,{name:"network",labelText:"Network",initialValue:"",values:n}))};var Kce=n(79100),qce=Object.assign;const $ce=function({className:e,prefs:t}){return y.createElement("div",{className:e},t.map((e=>{const{id:t,value:n,enumValues:i,label:s}=e,r=Array.isArray(i)?[{label:(0,De.Z)("Select {label}",{label:s}),value:""},...i]:void 0;return y.createElement(Kce.Z,qce(qce({key:t},e),{value:null==n?"":n,enumValues:r}))})))};var Jce=n(43827),Xce=n(10487),ede=n(29321),tde=n(59628),nde=n(89592);function ide(e){const{className:t,width:n,height:i,signalStrength:s}=e;if(null==s)return null;const r=function(e){return e<=20?Jce:e<=40?Xce:e<=60?ede:e<=80?tde:e<=100?nde:void 0}(s);return y.createElement("div",{className:t},y.createElement("img",{src:r,width:n,height:i}))}ide.defaultProps={className:"SignalStrength-signalStrength-2BhMGB",width:23,height:18};const sde=ide,rde=function(e){const{identifier:t,name:n,signalStrength:i,signalQuality:s}=e;return y.createElement("div",{className:"DVRSetupDeviceChannel-channel-1Xgchv"},y.createElement("div",{className:"DVRSetupDeviceChannel-channelIdentifier-397fOG"},t),y.createElement(sde,{className:"DVRSetupDeviceChannel-signalStrength-1lXGsr SignalStrength-signalStrength-2BhMGB",signalStrength:s||i}),y.createElement("div",null,n))},ade="DVRSetupDeviceInfoChannelInfo-container-l7bZws",ode="DVRSetupDeviceInfoChannelInfo-settings-1TtExJ",lde="DVRSetupDeviceInfoChannelInfo-message-qzEUio",cde="DVRSetupDeviceInfoChannelInfo-clockTime-1NRT20 DVRSetupDeviceInfoChannelInfo-clock-1COjbZ";var dde=Object.assign;const ude=function(e){const{selectedDevice:t,channelCount:n,isChannelsPending:i,channelScanActivity:s,scanPrefs:r,scanNetworks:a,hasScannedChannels:o}=e;return s?y.createElement("div",{className:ade},y.createElement(CL,{size:90,progress:s.progress}),y.createElement("div",{className:lde},(0,De.Z)("Scanning channels"))):r.length?y.createElement($ce,{className:ode,prefs:r}):a.length?y.createElement(Wce,{className:ode,networks:a}):i?y.createElement("div",{className:ade},y.createElement("div",{className:lde},(0,De.Z)("Loading channels"))):n?y.createElement("div",null,t.channels.map((e=>y.createElement(rde,dde({key:e.identifier},e))))):o?y.createElement("div",{className:ade},y.createElement("div",{className:"DVRSetupDeviceInfoChannelInfo-noChannelsIconContainer-Fsmb26"},y.createElement("div",{className:"DVRSetupDeviceInfoChannelInfo-noChannelsIconBackground-1hm-V4"},y.createElement(Ce.Z,{className:"DVRSetupDeviceInfoChannelInfo-noChannelsIcon-2IfsMd"}))),y.createElement("div",{className:lde},(0,De.Z)("No channels found. Make sure your device has a signal from your antenna and try scanning again."))):y.createElement("div",{className:ade},y.createElement("div",{className:"DVRSetupDeviceInfoChannelInfo-clockContainer-V9-6PW"},y.createElement("div",{className:"DVRSetupDeviceInfoChannelInfo-clockBackground-1vvFQ1"}),y.createElement(Vle,{className:cde}),y.createElement(_le,{className:"DVRSetupDeviceInfoChannelInfo-clock-1COjbZ"}),y.createElement(Fle,{className:cde})),y.createElement("div",{className:lde},(0,De.Z)("Awaiting channel scan")))},pde=function(e){const t=function(e){const{channelCount:t,hasSignalStrength:n,isChannelsPending:i,channelScanActivity:s,hasScanPrefs:r,hasScanNetworks:a}=e;return s?(0,De.Z)("Scanning for channels... This may take some time."):r?(0,De.Z)("We need some more information before proceeding with the channel scan."):a?(0,De.Z)("Please select a network before proceeding with the channel scan."):i?(0,De.Z)("Fetching device channels"):t?n?(0,De.Z)("We found {channelCount} channels. If these don't look right, you can scan again. Signal strength is stored at the time of scanning.",{channelCount:t}):(0,De.Z)("We found {channelCount} channels. If these don't look right, you can scan again.",{channelCount:t}):(0,De.Z)("Make sure your device is connected to your antenna or cable and click Scan Channels.")}(e);return y.createElement("div",{className:"DVRSetupDeviceInfoMessage-message-1UIhQ6"},t)};var mde=Object.assign;class hde extends y.Component{constructor(){super(...arguments),this.onScanDeviceChannelsPress=e=>{const t=this.props.scanPrefs.length?{prefs:e}:e;this.props.onScanDeviceChannels(t)},this.onDeviceSourceSelect=e=>{this.props.onDeviceSourceSelect(e),this.clearExistingScanPrefs()},this.onCountrySelect=e=>{this.props.onCountrySelect(e),this.clearExistingScanPrefs()}}clearExistingScanPrefs(){const{selectedDevice:e,scanPrefs:t,scanNetworks:n,onScanDeviceChannels:i,onClearDeviceScanPrefs:s}=this.props;t.length?(s(),i(e.deviceID)):n.length&&s()}render(){const{serverEntityID:e,dvrID:t,selectedDevice:n,setupErrorMessage:i,isChannelsPending:s,sourceOptions:r,channelScanActivity:a,isCancellingChannelScan:o,selectedCountryCode:l,countryOptions:c=[],countriesPopulated:d,scanPrefs:u,scanNetworks:p,hasScannedChannels:m,onCancelScanDeviceChannels:h,onModalClose:g}=this.props,v=n.selectedSource||n.sources[0],f=a?parseInt(a.Response.channels,10):n.channels.length,I=!(!f||a||s),b=!!u.length,M=!!p.length,S=[{"":(0,De.Z)("Select Country")},...c],E=n.channels.some((e=>null!=e.signalQuality||null!=e.signalStrength)),D=!(n&&n.channels.length&&!a&&l);return y.createElement(Oce,{errorMessage:i,onModalClose:g},y.createElement(wL.Z,{className:"DVRSetupDeviceInfo-deviceInfoBody-1uZY1r ModalBody-modalBody-3v8fMY",scrollDirection:vb.Hn},y.createElement(kee.ZP,{className:"DVRSetupDeviceInfo-deviceInfoForm-19FTDt",onSubmit:this.onScanDeviceChannelsPress},y.createElement("div",{className:"DVRSetupDeviceInfo-channelInfo-1HguW0"},y.createElement(pde,{channelCount:f,hasSignalStrength:E,isChannelsPending:s,channelScanActivity:a,hasScanPrefs:b,hasScanNetworks:M}),y.createElement("div",null,y.createElement(Gk.Z,{type:a?"button":"submit",kind:a||f||s?fo.TP:fo._8,size:vc.M2,isSpinning:o,isDisabled:!l||o,onPress:a?h:null},a?(0,De.Z)("Stop scanning"):(0,De.Z)("Scan channels")))),y.createElement("div",{className:"DVRSetupDeviceInfo-channelDetails-19x9No"},y.createElement(wN.Z,{className:"DVRSetupDeviceInfo-deviceDetails-T1XWLH"},y.createElement(Yce,mde({serverEntityID:e,deviceID:n.key,channelCount:f,includeChannelCount:!0},n)),y.createElement(hee.Z,null,y.createElement(o1.Z,{className:"DVRSetupDeviceInfo-channelScanSourceSelect-3AAmTi SelectInput-input-1P8SoV input-input-26w-zg",name:"deviceSource",value:v,values:r,isDisabled:!!a,onChange:this.onDeviceSourceSelect})),d?y.createElement(hee.Z,{className:"DVRSetupDeviceInfo-countryInputGroup-2ZraXu"},y.createElement(yee.Z,null,(0,De.Z)("Country")),y.createElement(o1.Z,{name:"countrySelect",value:l,values:S,isDisabled:!!a,onChange:this.onCountrySelect})):null),y.createElement("div",{className:"DVRSetupDeviceInfo-deviceChannelsContainer-1vIaMc"},y.createElement(wN.Z,{className:I?"DVRSetupDeviceInfo-deviceChannels-1YkepU Scroller-vertical-1tg_Qg":"DVRSetupDeviceInfo-deviceChannelsInfo-1F3agn DVRSetupDeviceInfo-deviceChannels-1YkepU Scroller-vertical-1tg_Qg",autoScroll:!0},y.createElement(ude,{selectedDevice:n,channelCount:f,isChannelsPending:s,channelScanActivity:a,scanPrefs:u,scanNetworks:p,hasScannedChannels:m})))))),y.createElement(kce,null,y.createElement(ZL.Z,null,y.createElement($h.Z,{kind:fo.TP,size:vc.M2,onPress:g},(0,De.Z)("Cancel"))),y.createElement(ZL.Z,null,y.createElement(Vce,null),y.createElement(zce,{dvrID:t,isDisabled:D}))))}}hde.defaultProps={scanPrefs:[],scanNetworks:[]};const gde=hde;var yde=Object.prototype.hasOwnProperty,vde=Object.getOwnPropertySymbols,fde=Object.prototype.propertyIsEnumerable,Ide=Object.assign;class bde extends y.Component{constructor(e,t){super(e,t),this.onCancelScanDeviceChannels=()=>{this.setState({isCancellingChannelScan:!0}),this.props.dispatchCancelScanDeviceChannels(this.props.selectedDevice.key)},this.state={isCancellingChannelScan:!1}}componentWillMount(){this.props.channelScanActivity&&this.setState({isCancellingChannelScan:!0})}componentDidMount(){const e=this.props.selectedDevice,t=e.source>-1?e.source.toString():e.sources[0];(0,Rt.c9)((()=>{this.props.dispatchFetchDeviceDetails(),this.props.dispatchFetchDeviceChannels(),this.props.dispatchFetchEPGCountries(),this.props.onDeviceSourceSelect(t),this.props.onClearDeviceScanPrefs()}))}componentWillReceiveProps(e){!e.channelScanActivity&&this.props.channelScanActivity&&this.setState({isCancellingChannelScan:!1})}componentDidUpdate(e,t){this.props.channelScanActivity||!e.channelScanActivity||this.props.scanNetworks||(0,Rt.c9)((()=>{this.props.dispatchFetchDeviceChannels()}))}componentWillUnmount(){this.props.channelScanActivity&&!this.state.isCancellingChannelScan&&this.props.dispatchCancelScanDeviceChannels(this.props.selectedDevice.key)}render(){const e=this.props,{dispatchFetchDeviceDetails:t,dispatchFetchDeviceChannels:n,dispatchFetchEPGCountries:i,dispatchCancelScanDeviceChannels:s}=e,r=((e,t)=>{var n={};for(var i in e)yde.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&vde)for(var i of vde(e))t.indexOf(i)<0&&fde.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchFetchDeviceDetails","dispatchFetchDeviceChannels","dispatchFetchEPGCountries","dispatchCancelScanDeviceChannels"]);return y.createElement(gde,Ide({isCancellingChannelScan:this.state.isCancellingChannelScan,onCancelScanDeviceChannels:this.onCancelScanDeviceChannels},r))}}const Mde=(0,f.$j)((function(){return(0,de.P1)(Ece,Lce,xce(),((e,t,n)=>{const i=e.selectedDevice,s=i.sources.reduce(((e,t)=>{switch(t){case"0":e.push({[t]:(0,De.Z)("Antenna")});break;case"1":e.push({[t]:(0,De.Z)("Cable")})}return e}),[]),{scanPrefs:r,scanNetworks:a,hasScannedChannels:o}=e,{selectedCountry:l,countries:c}=e.epgSettings,d=c.length>0,u=l?l.code:"",p=c.reduce(((e,t)=>(e.push({[t.code]:t.title}),e)),[]);return{selectedDevice:i,setupErrorMessage:t,isChannelsPending:i.isChannelsPending,sourceOptions:s,countriesPopulated:d,selectedCountryCode:u,countryOptions:p,scanPrefs:r,scanNetworks:a,hasScannedChannels:o,channelScanActivity:n}}))}),(function(e,t){const{serverEntityID:n}=t;return{dispatchFetchDeviceDetails(){e(Sce.$1({serverEntityID:n}))},dispatchFetchDeviceChannels(){e(Sce.pi({serverEntityID:n}))},dispatchFetchEPGCountries(){e(Cce({serverEntityID:n}))},dispatchCancelScanDeviceChannels(t){e(Sce.BF({serverEntityID:n,deviceID:t}))},onDeviceSourceSelect(t){e(Sce.FX({serverEntityID:n,source:t}))},onScanDeviceChannels(t={}){e(Sce.sl(Ide({serverEntityID:n},t)))},onCountrySelect(t){e(wce({serverEntityID:n,countryCode:t}))},onClearDeviceScanPrefs(){e(Sce.Ze({serverEntityID:n}))}}}))(bde);var Sde=n(45381);var Ede=Object.assign;class Dde extends y.Component{constructor(e,t){super(e,t),this.onShowDeviceAddressPress=()=>{this.setState({showManualAddress:!this.state.showManualAddress})},this.onDeviceAddressChange=e=>{this.setState({manualDeviceAddress:e})},this.onAddDevicePress=()=>{this.props.onAddDevice(this.state.manualDeviceAddress)},this.state={showManualAddress:!1,manualDeviceAddress:""}}render(){const{serverEntityID:e,selectedDevice:t,setupErrorMessage:n,addDevicePending:i,devices:s,onSelectDevice:r,onModalClose:a}=this.props,{showManualAddress:o,manualDeviceAddress:l}=this.state,c=s.length>0;return y.createElement(Oce,{errorMessage:n,onModalClose:a},y.createElement(wL.Z,null,c?y.createElement("div",null,(0,De.Z)("We found hardware we recognize!")):null,c?null:y.createElement("div",null,(0,De.Z)("Looking for compatible devices...")),y.createElement("div",{className:"DVRSetupDeviceSelector-manualDeviceButtonContainer-3FJegG"},y.createElement(G$.Z,{kind:fo._8,direction:o?yc.UP:yc.WV,isSelected:!1,onPress:this.onShowDeviceAddressPress},(0,De.Z)("Don't see your HDHomeRun device? Enter its network address manually"))),y.createElement("div",{className:"DVRSetupDeviceSelector-manualDeviceContainer-2GUqE8"},o?y.createElement("div",null,y.createElement(hee.Z,null,y.createElement(yee.Z,null,(0,De.Z)("HDHomeRun Device Address")),y.createElement(l1.Z,{type:"text",name:"manualDeviceInput",className:"DVRSetupDeviceSelector-manualDeviceInput-2bdIOT TextInput-input-M2gRCL input-input-26w-zg",value:this.state.manualDeviceAddress,placeholder:(0,De.Z)("IP address or hostname"),onChange:this.onDeviceAddressChange}),y.createElement(Gk.Z,{className:"DVRSetupDeviceSelector-addDeviceButton-3skWO6",kind:fo._8,size:vc.ln,isDisabled:!l,isSpinning:i,onPress:this.onAddDevicePress},(0,De.Z)("Connect")))):null),c?null:y.createElement("div",{className:"DVRSetupDeviceSelector-spinnerContainer-1VcnjX"},y.createElement(RC.Z,null)),c?y.createElement("div",null,y.createElement("div",{className:"DVRSetupDeviceSelector-deviceCount-hlz9Am"},1===s.length?(0,De.Z)("1 device found"):(0,De.Z)("{deviceCount} devices found",{deviceCount:s.length})),y.createElement(wN.Z,{className:"DVRSetupDeviceSelector-devices-d0UaLL",scrollDirection:vb._y},s.map((n=>{const i=t&&t.key===n.key;return y.createElement(Yce,Ede({key:n.key,className:"DVRSetupDeviceSelector-device-vc7QcN",serverEntityID:e,deviceID:n.key,isSelectable:!0,isSelected:i,includeUri:!0,onSelectDevice:r},n))})))):null),y.createElement(kce,null,y.createElement(ZL.Z,null,y.createElement($h.Z,{kind:fo.TP,size:vc.M2,onPress:a},(0,De.Z)("Cancel"))),y.createElement(ZL.Z,null,y.createElement(zce,{isDisabled:!t}))))}}const Cde=Dde;var Pde=Object.prototype.hasOwnProperty,wde=Object.getOwnPropertySymbols,Tde=Object.prototype.propertyIsEnumerable,Zde=Object.assign;const Nde=(0,de.P1)((e=>e.ui.dvrSettingsUI.dvrSetup.devices),(e=>E().filter(e,(e=>!e.parentID&&e.status===Sde.vh.ALIVE))));class Ade extends y.Component{constructor(e){super(e),this._discoverDevices=()=>{this.props.dispatchDiscoverDevices()},this._discoverTimeoutID=null,this.discoverDelay=2e3}componentDidMount(){(0,Rt.c9)((()=>{this.props.dispatchFetchDevices()})),this._discoverTimeoutID=window.setTimeout(this._discoverDevices,this.discoverDelay)}componentDidUpdate(e){!this.props.isDiscoveringDevices&&e.isDiscoveringDevices&&(this._discoverTimeoutID=window.setTimeout(this._discoverDevices,this.discoverDelay))}componentWillUnmount(){this._discoverTimeoutID&&window.clearTimeout(this._discoverTimeoutID)}render(){const e=this.props,{dispatchDiscoverDevices:t,dispatchFetchDevices:n}=e,i=((e,t)=>{var n={};for(var i in e)Pde.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&wde)for(var i of wde(e))t.indexOf(i)<0&&Tde.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchDiscoverDevices","dispatchFetchDevices"]);return y.createElement(Cde,Zde({},i))}}const xde=(0,f.$j)((function(){return(0,de.P1)(Ece,Lce,Nde,((e,t,n)=>{const{isDiscoveringDevices:i,selectedDevice:s,addDevicePending:r}=e;return{isDiscoveringDevices:i,selectedDevice:s,setupErrorMessage:t,addDevicePending:r,devices:n}}))}),(function(e,t){const{serverEntityID:n}=t;return{dispatchDiscoverDevices(){e((0,Sce.Ps)({serverEntityID:n}))},dispatchFetchDevices(){e((0,Sce.LO)({serverEntityID:n}))},onAddDevice(t){e((0,Sce.S6)({serverEntityID:n,uri:t}))},onSelectDevice(t){e((0,Sce.Si)({serverEntityID:n,deviceID:t}))}}}))(Ade),Lde="DVRSetupUnsupportedDevice-info-1pu4Gq",Ode=parseInt(ku.Z.dvrSetupImageWidth,10),jde=(0,f.$j)((function(){return(0,de.P1)(Ece,(e=>{const{make:t,model:n,thumb:i}=e.selectedDevice;return{make:t,model:n,thumb:i}}))}))((function(e){const{serverEntityID:t,dvrID:n,make:i,model:s,thumb:r,onModalClose:a}=e;return y.createElement(Oce,{title:(0,De.Z)("Unsupported Tuner"),onModalClose:a},y.createElement(wL.Z,{className:"DVRSetupUnsupportedDevice-unsupportedDeviceBody-1IS3jY ModalBody-modalBody-3v8fMY",scrollDirection:vb.Hn},y.createElement("div",{className:"DVRSetupUnsupportedDevice-imageContainer-2mgfZq"},y.createElement(Hce,{serverEntityID:t,make:i,model:s,thumb:r,width:Ode,height:100}),y.createElement("div",{className:"DVRSetupUnsupportedDevice-makeModelContainer-1kZ1Ss"},y.createElement("div",null,i),y.createElement("div",null,s))),y.createElement("div",{className:Lde},(0,De.Z)("Community Supported Tuners opens up your Plex account to access a larger variety of DVR tuners, many of which have been tested and are supported by the community. If your tuner hasn't been recognized by Plex DVR and you're up for a little adventure, this will allow you to use unsupported tuners that have not been tested by Plex.")),y.createElement("div",{className:Lde},y.createElement(ax.Z,{message:(0,De.Z)("We recommend you review our {openLink}Community Supported Tuners{closeLink} article to learn about limitations, compatibility, and how to get involved."),tags:[{open:"openLink",close:"closeLink",component:AM.Z,kind:fo._8,to:Np.hJ,target:"_blank"}]}))),y.createElement(kce,null,y.createElement(ZL.Z,null,y.createElement($h.Z,{kind:fo.TP,size:vc.M2,onPress:a},(0,De.Z)("Cancel"))),y.createElement(ZL.Z,null,y.createElement(zce,{dvrID:n,label:(0,De.Z)("Enable Unsupported Tuner")}))))})),kde=function(){return(0,de.P1)(((e,{dvrID:t})=>t),(0,VM.Z)(),Ece,((e,t,n)=>e?E().find(t,(t=>t.type===Oa.JW&&parseInt(t.Context.dvrID,10)===e)):E().find(t,{uuid:n.epgDownloadActivityID})))};function Rde(e){const{server:t,provider:n,sourceDirectory:i,setupErrorMessage:s,epgDownloadActivityID:r,progress:a,message:o,onModalClose:l}=e;let c;return n&&(c=(0,UZ.ZP)(UZ.tk.GUIDE,t,n,i)),y.createElement(Oce,{errorMessage:s,onModalClose:l},y.createElement(wL.Z,null,y.createElement("div",{className:"EPGDownload-message-3P2hel"},y.createElement("div",null,(0,De.Z)("Setup complete!")),y.createElement("div",null,(0,De.Z)("You can now find your Guide and Recordings in the sidebar under \"Live TV & DVR\". While we're grabbing the guide data, you can start browsing; it will update automatically as we download what's on."))),r?y.createElement("div",null,y.createElement("div",{className:"EPGDownload-spinnerContainer-DHp88Y"},y.createElement(CL,{size:90,progress:a}),y.createElement("div",{className:"EPGDownload-spinnerMessage-uEZxEq"},o))):null),y.createElement(TL.Z,null,y.createElement(ZL.Z,null,y.createElement($h.Z,{kind:fo.TP,size:vc.M2,onPress:l},(0,De.Z)("Close")),y.createElement($h.Z,{kind:fo._8,size:vc.M2,to:c,isDisabled:!n},(0,De.Z)("View Guide")))))}Rde.defaultProps={progress:0,message:""};const zde=Rde;var Ude=Object.assign;const Vde=(0,f.$j)((function(){return(0,de.P1)(Ece,Lce,(0,HM.Z)(),(0,de.P1)(nx(),Ece,_t.Z,((e,{selectedDVR:t},n)=>{if(t&&e){for(let i=0;i<e.length;i++){const s=n[e[i]];if(s.identifier===t.epgIdentifier)return s}return null}})),kde(),((e,t,n,i,s)=>{const{progress:r,subtitle:a}=s||{},o=(0,So.Z)(i);return{server:n,provider:i,sourceDirectory:o&&o.directories&&o.directories.find((e=>e.hubKey&&!e.key)),setupErrorMessage:t,epgDownloadActivityID:e.epgDownloadActivityID,progress:r,message:a}}))}))((function(e){return y.createElement(zde,Ude({},e))}));function Bde({setupErrorMessage:e,progress:t,onModalClose:n}){return y.createElement(Oce,{errorMessage:e,onModalClose:n},y.createElement(wL.Z,null,y.createElement("div",{className:"EPGMapping-message-2c8JcY"},y.createElement("div",null,(0,De.Z)("We're finding the best guide for your channels and location.")),y.createElement("div",null,(0,De.Z)("This should only take a few moments."))),y.createElement("div",{className:"EPGMapping-spinnerContainer-1KrcPO"},y.createElement(CL,{size:90,progress:t}))),y.createElement(kce,null,y.createElement(ZL.Z,null,y.createElement($h.Z,{kind:fo.TP,size:vc.M2,onPress:n},(0,De.Z)("Cancel")))))}Bde.defaultProps={progress:0};const Fde=Bde;var Hde=Object.assign;const _de={findBestEPGLineup:Sce.NS};class Qde extends y.Component{componentWillMount(){this._populate(this.props)}_populate(e){(0,Rt.c9)((()=>{e.findBestEPGLineup({serverEntityID:e.serverEntityID})}))}render(){return y.createElement(Fde,Hde({},this.props))}}const Gde=(0,f.$j)((function(){return(0,de.P1)(Ece,Lce,(0,VM.Z)(),((e,t,n)=>{const i=E().find(n,{uuid:e.epgLineupActivityID}),{progress:s}=i||{};return{setupErrorMessage:t,progress:s}}))}),_de)(Qde);class Yde extends y.Component{constructor(e,t){super(e,t),this.onPostalCodeChange=e=>{this.setState({postalCode:e},(()=>{this.props.onPostalCodeChange(e)}))},this.state={postalCode:""}}componentWillReceiveProps(e){this.state.postalCode!==e.postalCode&&this.setState({postalCode:e.postalCode})}focusInput(e){e&&v.findDOMNode(e).focus()}render(){const e=this.props.postalCodeExample,t=this.state.postalCode;return y.createElement(l1.Z,{name:"postalCodeInput",placeholder:`e.g. ${e}`,value:t,ref:this.focusInput,onChange:this.onPostalCodeChange})}}const Wde=Yde;var Kde=Object.assign;class qde extends y.Component{constructor(e,t){super(e,t),this._fetchEPGLineups=()=>{this.props.fetchEPGLineups({serverEntityID:this.props.serverEntityID})},this.onPostalCodeChange=e=>{this._postalCodeTimeoutID&&window.clearTimeout(this._postalCodeTimeoutID),(0,Rt.c9)((()=>{this.props.setEPGPostalCode({serverEntityID:this.props.serverEntityID,postalCode:e}),""!==e.trim()&&(this._postalCodeTimeoutID=window.setTimeout(this._fetchEPGLineups,200))}))},this._postalCodeTimeoutID=null}componentWillUnmount(){this._postalCodeTimeoutID&&window.clearTimeout(this._postalCodeTimeoutID)}render(){return y.createElement(Wde,Kde({onPostalCodeChange:this.onPostalCodeChange},this.props))}}const $de=(0,f.$j)((function(e){return{postalCode:e.ui.dvrSettingsUI.dvrSetup.epgSettings.postalCode}}),a)(qde),Jde="EPGSettings-fetchingSpinner-27Wplu Spinner-spinner-5E5Wk_ spin-spin-oHlEXH";class Xde extends y.Component{constructor(e,t){super(e,t),this.onShowXMLTVEntryPress=()=>{this.setState({showXMLTVEntry:!this.state.showXMLTVEntry})},this.onLanguageSelect=e=>{this.props.onLanguageSelect(e)},this.onRegionSelect=e=>{this.props.onRegionSelect(e)},this.onXMLTVPathChange=e=>{this.setState({xmlTVPath:e},(()=>{this.props.onXMLTVProgramGuideChange(e,this.state.programGuideTitle)}))},this.onProgramGuideTitleChange=e=>{this.setState({programGuideTitle:e},(()=>{this.props.onXMLTVProgramGuideChange(this.state.xmlTVPath,e)}))},this.state={showXMLTVEntry:!1,xmlTVPath:"",programGuideTitle:(0,De.Z)("My Guide")}}render(){const{serverEntityID:e,platform:t,setupErrorMessage:n,isFetching:i,selectedLanguageCode:s,selectedRegionCode:r,languageOptions:a=[],regionOptions:o=[],languagesPopulated:l,regionsPopulated:c,canContinue:d,postalCodeExample:u,onSubmit:p,onModalClose:m}=this.props,{showXMLTVEntry:h,xmlTVPath:g,programGuideTitle:v}=this.state,f=l,I=!(!l||!u),b=!(!l||!c),M=[{"":(0,De.Z)("Select Language")},...a],S=[{"":(0,De.Z)("Select Region")},...o],E="Windows"===t?"C:\\path\\to\\your\\xmltv_file.xml":"/path/to/your/xmltv_file.xml";return y.createElement(kee.ZP,{className:"EPGSettings-form-1bqVRD",onSubmit:p},y.createElement(Oce,{errorMessage:n,onModalClose:m},y.createElement(wL.Z,null,y.createElement("div",{className:"EPGSettings-message-3FmW4d"},y.createElement("div",null,(0,De.Z)("To download an electronic guide we need to know your location.")),y.createElement(AM.Z,{kind:fo._8,onPress:this.onShowXMLTVEntryPress},h?(0,De.Z)("Don't use XMLTV? Click here to select your location instead."):(0,De.Z)("Have an XMLTV guide on your server? Click here to use that instead."))),h?y.createElement("div",null,l?y.createElement(hee.Z,null,y.createElement(yee.Z,null,(0,De.Z)("Language")),y.createElement(o1.Z,{name:"languageSelect",values:M,value:s,onChange:this.onLanguageSelect})):null,y.createElement(hee.Z,null,y.createElement(yee.Z,null,(0,De.Z)("XMLTV Guide")),y.createElement(l1.Z,{name:"xmltvPath",placeholder:E,value:g,onChange:this.onXMLTVPathChange})),y.createElement(hee.Z,null,y.createElement(yee.Z,null,(0,De.Z)("Guide Title")),y.createElement(l1.Z,{name:"programGuideTitle",value:v,onChange:this.onProgramGuideTitleChange}))):null,h?null:y.createElement("div",null,f?y.createElement(hee.Z,null,y.createElement(yee.Z,null,(0,De.Z)("Language")),y.createElement(o1.Z,{name:"languageSelect",values:M,value:s,onChange:this.onLanguageSelect})):null,I?y.createElement(hee.Z,null,y.createElement(yee.Z,null,(0,De.Z)("Postal Code")),y.createElement($de,{serverEntityID:e,postalCodeExample:u}),i?y.createElement(RC.Z,{className:Jde}):null):null,b?y.createElement(hee.Z,null,y.createElement(yee.Z,null,(0,De.Z)("Region")),y.createElement(o1.Z,{className:"EPGSettings-regionInput-5pGfHQ SelectInput-input-1P8SoV input-input-26w-zg",name:"regionSelect",values:S,value:r,onChange:this.onRegionSelect}),i?y.createElement(RC.Z,{className:Jde}):null):null)),y.createElement(kce,null,y.createElement(ZL.Z,null,y.createElement($h.Z,{kind:fo.TP,size:vc.M2,onPress:m},(0,De.Z)("Cancel"))),y.createElement(ZL.Z,null,y.createElement(Vce,null),y.createElement($h.Z,{type:"submit",kind:fo._8,size:vc.M2,isDisabled:!d||i},(0,De.Z)("Continue"))))))}}const eue=Xde;var tue=Object.assign;const nue=tue({dvrSetupNextStep:Sce.AV,selectEPGLineup:Sce._1},a);class iue extends y.Component{constructor(){super(...arguments),this.onLanguageSelect=e=>{this.props.selectEPGLanguage({serverEntityID:this.props.serverEntityID,languageCode:e})},this.onRegionSelect=e=>{this.props.selectEPGRegion({serverEntityID:this.props.serverEntityID,regionKey:e})},this.onSubmit=()=>{this.props.dvrSetupNextStep()},this.onXMLTVProgramGuideChange=(e,t)=>{if(!e||!t)return void this.props.selectEPGLineup({lineupUUID:null});const n=`lineup://tv.plex.providers.epg.xmltv/${Voe(e)}#${encodeURIComponent(t)}`;this.props.selectEPGLineup({lineupUUID:n})}}componentWillMount(){this._populate(this.props)}_populate(e){(0,Rt.c9)((()=>{const t=e.serverEntityID;e.fetchEPGLanguages({serverEntityID:t}),e.selectEPGLineup({lineupUUID:null})}))}render(){return y.createElement(eue,tue({onLanguageSelect:this.onLanguageSelect,onRegionSelect:this.onRegionSelect,onPostalCodeChange:this.onPostalCodeChange,onXMLTVProgramGuideChange:this.onXMLTVProgramGuideChange,onSubmit:this.onSubmit},this.props))}}const sue=(0,f.$j)((function(){return(0,de.P1)((0,HM.Z)(),Ece,Lce,((e,t,n)=>{const{selectedLineupUUID:i,epgSettings:s}=t,{isFetching:r,selectedCountry:a,selectedLanguage:o,selectedRegion:l,languages:c,regions:d,lineupGroup:u}=s,p=a&&1===a.flavor?a.example:null,m=o?o.code:"",h=l?l.key:"",g=c.length>0,y=d.length>0,v=c.reduce(((e,t)=>(e.push({[t.code]:t.title}),e)),[]),f=d.reduce(((e,t)=>(e.push({[t.key]:t.title}),e)),[]);return{platform:e.platform,setupErrorMessage:n,selectedLineupUUID:i,selectedLanguageCode:m,selectedRegionCode:h,languagesPopulated:g,regionsPopulated:y,languageOptions:v,regionOptions:f,isFetching:r,postalCodeExample:p,canContinue:!(!u.lineups.length&&!i||!m)}}))}),nue)(iue),rue=function(){return(0,de.P1)((e=>e.ui.dvrSettingsUI),((e,{dvrID:t})=>t),((e,t)=>{const n=e.dvrs;return E().find(n,{key:t})}))},aue=function(){return(0,de.P1)(((e,{deviceID:t})=>t),rue(),((e,t)=>{if(t)return E().find(t.devices,{key:e})}))};function oue(){return(0,oC.Z)((0,de.P1)(Ece,aue(),((e,t)=>{const n=t?t.channels:e.selectedDevice.channels,i=t?t.channelMappings:e.channelMappings,s=e.lineupChannels,r=E().pluck(n,"key"),a=E().pluck(i,"deviceIdentifier"),o=r.concat(a);return E().uniq(o).map((e=>{const t=E().find(n,{key:e}),r=E().findWhere(i,{deviceIdentifier:e}),a=s.find((e=>r&&e.key&&e.key===r.channelKey||r&&e.identifier&&e.identifier===r.lineupIdentifier)),{name:o="",identifier:l="",drm:c=!1,signalStrength:d,signalQuality:u,hd:p=!1}=t||{};return{key:e,name:o,deviceIdentifier:l,enabled:!(!t||c||!r||!r.enabled),drm:c,isChannelMissing:!t,channelKey:r&&r.channelKey||a&&a.key,lineupIdentifier:r&&r.lineupIdentifier||a&&a.identifier,signalStrength:d,signalQuality:u,isDeviceChannelHD:p,isLineupChannelHD:!!a&&a.hd}})).sort(((e,t)=>(0,ZC.Z)(e.deviceIdentifier,t.deviceIdentifier)))})),(e=>e))}const lue=function(e){const t=`${e.identifier} ${e.callSign}`;return e.title?`${t} (${e.title})`:t},cue=(0,de.P1)(Ece,(e=>e.lineupChannels)),due=(0,de.P1)(cue,(e=>e.slice().sort(((e,t)=>(0,ZC.Z)(e.identifier,t.identifier))).reduce(((e,t)=>{const n=lue(t),i=JSON.stringify({channelKey:t.key,lineupIdentifier:t.identifier});return e.concat({[i]:n})}),[{"":(0,De.Z)("Select Channel")}]))),uue=(0,oC.Z)(due,(e=>e)),pue=function(){return y.createElement(zw.Z,{className:"EPGChannelResolution-resolution-3oEieO Badge-badge-29PpMR"},"HD")},mue="DeviceChannelMapping-mappingDisabled-3H64gU";class hue extends y.Component{constructor(e,t){super(e,t),this.onSelectPress=e=>{this.setState({showSelectOptions:!0})},this.onEnabledChange=e=>{this.setState({enabled:e},(()=>{this.props.onChange({enabled:e,channelKey:this.state.channelKey,lineupIdentifier:this.state.lineupIdentifier})}))},this.onLineupChannelChange=e=>{const{channelKey:t,lineupIdentifier:n}=JSON.parse(e||{});this.setState({channelKey:t,lineupIdentifier:n},(()=>{this.props.onChange({enabled:this.state.enabled,channelKey:t,lineupIdentifier:n})}))},this.state={enabled:e.initialValue.enabled,channelKey:e.initialValue.channelKey,lineupIdentifier:e.initialValue.lineupIdentifier,showSelectOptions:!1}}componentWillReceiveProps(e){const{enabled:t,lineupIdentifier:n}=this.state,{enabled:i,lineupIdentifier:s}=e.value;t===i&&n===s||this.setState(this.props.value)}shouldComponentUpdate(e,t){return t.enabled!==this.state.enabled||t.channelKey!==this.state.channelKey||t.lineupIdentifier!==this.state.lineupIdentifier||t.showSelectOptions!==this.state.showSelectOptions||e.deviceIdentifier!==this.props.deviceIdentifier||e.channelName!==this.props.channelName||e.initialValue.enabled!==this.props.initialValue.enabled||e.initialValue.lineupIdentifier!==this.props.initialValue.lineupIdentifier||e.initialValue.channelKey!==this.props.initialValue.channelKey||e.value.enabled!==this.props.value.enabled||e.value.lineupIdentifier!==this.props.value.lineupIdentifier||e.value.channelKey!==this.props.value.channelKey||e.lineupChannels!==this.props.lineupChannels}render(){const{name:e,deviceIdentifier:t,channelName:n,drm:i,signalStrength:s,isDeviceChannelHD:r,isLineupChannelHD:a,isChannelMissing:o,showResolution:l,lineupChannels:c,lineupChannelOptions:d}=this.props,{enabled:u,channelKey:p,lineupIdentifier:m}=this.state;if(o)return null;const h=c.find((e=>p&&m?e.key===p&&e.identifier===m:p?e.key===p:m?e.identifier===m:void 0)),g=h?lue(h):null,v=JSON.stringify({channelKey:p,lineupIdentifier:m});return y.createElement("div",{className:"DeviceChannelMapping-channelMapping-3XAZUt"},y.createElement("div",{className:"DeviceChannelMapping-deviceInfo-29oKnX"},y.createElement("div",{className:"DeviceChannelMapping-channelEnabled-3-W9nM"},i?null:y.createElement(mee.Z,{name:`${e}Check`,value:u,onChange:this.onEnabledChange})),y.createElement("label",{className:we()("DeviceChannelMapping-deviceIdentifier-1xGTln",!u&&mue),htmlFor:`${e}Check`},t),y.createElement("div",{className:we()("DeviceChannelMapping-channelName-1wvluh",!u&&mue)},n),y.createElement(sde,{className:"DeviceChannelMapping-signalStrength-1NtXLo SignalStrength-signalStrength-2BhMGB",signalStrength:s})),i?y.createElement("div",{className:"DeviceChannelMapping-drmChannel-myiCk2"},y.createElement(zw.Z,{className:"DeviceChannelMapping-drmChannelBadge-1kp_22"},(0,De.Z)("Protected"))):y.createElement("div",{className:"DeviceChannelMapping-epgChannel-3bFk6C"},y.createElement(o1.Z,{name:`${e}Select`,value:v,values:this.state.showSelectOptions?d:[{[v]:u?g||(0,De.Z)("Select Channel"):g}],size:vc.HC,isDisabled:!u,onMouseDown:this.onSelectPress,onTouchStart:this.onSelectPress,onChange:this.onLineupChannelChange}),l?y.createElement("div",{className:"DeviceChannelMapping-resolutionContainer-krvVCY"},r||a?y.createElement(pue,null):null):null))}}const gue=(0,vee.Z)(hue),yue=function(e){const{showSignalStrength:t,allChannelMappingsEnabled:n,allChannelMappingsDisabled:i,onAllChannelMappingsEnabledChange:s}=e;let r=null;return n?r=!0:i&&(r=!1),y.createElement("div",{className:"DeviceChannelMappingsHeader-container-36Wbq3"},y.createElement("div",{className:"DeviceChannelMappingsHeader-deviceChannelsContainer-319IUq"},y.createElement(mee.Z,{name:"toggleAll",value:r,onChange:s}),y.createElement("div",{className:"DeviceChannelMappingsHeader-deviceChannelsPadding-_mC1js"}),y.createElement("div",{className:"DeviceChannelMappingsHeader-deviceChannels-2qjpiA"},(0,De.Z)("Device Channels")),t?y.createElement("div",{className:"DeviceChannelMappingsHeader-signalStrength-tb6bsm"},(0,De.Z)("Strength")):null),y.createElement("div",{className:"DeviceChannelMappingsHeader-guideChannels-2CDNzg"},(0,De.Z)("Guide Channels")))};var vue=Object.assign;const fue=function(e){var t;return(t=class extends y.Component{constructor(e,t){super(e,t),this.onFormStateChange=e=>{let t=!0,n=!0;Object.keys(e).forEach((i=>{e[i].value.enabled?n=!1:t=!1})),this.setState({formState:e,allChannelMappingsEnabled:t,allChannelMappingsDisabled:n})},this.onAllChannelMappingsEnabledChange=e=>{this.setState((t=>{const n={};return Object.keys(t.formState).forEach((i=>{const s=t.formState[i].value;s.enable===e?n[i]=t.formState[i]:n[i]=vue(vue({},t.formState[i]),{value:{enabled:e,lineupIdentifier:s.lineupIdentifier}})})),{formState:n,allChannelMappingsEnabled:e,allChannelMappingsDisabled:!e}}))},this.state={formState:{},allChannelMappingsEnabled:!1,allChannelMappingsDisabled:!1}}render(){const{allChannelMappingsEnabled:t,allChannelMappingsDisabled:n}=this.state;return y.createElement(e,vue({formState:this.state.formState,allChannelMappingsEnabled:t,allChannelMappingsDisabled:n,onFormStateChange:this.onFormStateChange,onAllChannelMappingsEnabledChange:this.onAllChannelMappingsEnabledChange},this.props))}}).displayName=`DeviceChannelMappingsForm(${(0,rC.Z)(e)})`,t.WrappedComponent=e,t},Iue="DeviceChannelMappings-channelMappingsBody-26v_kE ModalBody-modalBody-3v8fMY",bue="DeviceChannelMappings-centeredContainer-2O_0f6",Mue=fue((function(e){const{dvrID:t,setupErrorMessage:n,selectedLineupUUID:i,availableLineups:s,lineupChannels:r,lineupChannelOptions:a,channelMappings:o,isChannelMappingsPending:l,isLineupChannelsPending:c,isSavingDVR:d,channelMappingsErrorMessage:u,formState:p,allChannelMappingsEnabled:m,allChannelMappingsDisabled:h,onAllChannelMappingsEnabledChange:g,onFormStateChange:v,onLineupSelect:f,onModalClose:I,onSubmit:b}=e,M=l||c,S=!!s.length,E=[{"":(0,De.Z)("Select Guide")},...s],D=i?decodeURIComponent(i.match(/#(.+?)$/)[1]):void 0;let C=!1,P=!1;for(let e=0;e<o.length&&(!C||!P);e++){const t=o[e];null==t.signalQuality&&null==t.signalStrength||(C=!0),(t.isDeviceChannelHD||t.isLineupChannelHD)&&(P=!0)}return y.createElement(kee.ZP,{className:"DeviceChannelMappings-form-1VRFRb",formState:p,onChange:v,onSubmit:b},y.createElement(Oce,{errorMessage:n,onModalClose:I},u?y.createElement(wL.Z,{className:Iue,scrollDirection:vb.Hn},y.createElement("div",{className:bue},u)):null,u?null:y.createElement(wL.Z,{className:Iue,scrollDirection:vb.Hn},S?y.createElement("div",null,y.createElement("div",{className:"DeviceChannelMappings-programGuideLabel-2Ad7c3"},(0,De.Z)("Guide")),y.createElement("div",{className:"DeviceChannelMappings-programGuideSelectContainer-zqaHte"},y.createElement(o1.Z,{name:"programGuide",values:E,value:i,onChange:f}))):null,S?null:y.createElement("div",{className:"DeviceChannelMappings-programGuideTitle-RxDb6b"},D),M?y.createElement("div",{className:bue},y.createElement(RC.Z,{label:(0,De.Z)("Loading channel mappings")})):null,!M&&i?y.createElement(wN.Z,{className:"DeviceChannelMappings-scroller-19mOrF Scroller-vertical-1tg_Qg",autoScroll:!0},y.createElement(yue,{showSignalStrength:C,allChannelMappingsEnabled:m,allChannelMappingsDisabled:h,onAllChannelMappingsEnabledChange:g}),o.map((e=>{const{key:t,deviceIdentifier:n,name:i,enabled:s,channelKey:o,lineupIdentifier:l,drm:c,signalStrength:d,signalQuality:u,isDeviceChannelHD:p,isLineupChannelHD:m,isChannelMissing:h}=e;return y.createElement(gue,{key:t,name:t,initialValue:{enabled:s,channelKey:o,lineupIdentifier:l},deviceIdentifier:n,channelName:i,drm:c,signalStrength:u||d,isDeviceChannelHD:p,isLineupChannelHD:m,isChannelMissing:h,showResolution:P,lineupChannels:r,lineupChannelOptions:a})}))):null),y.createElement(kce,null,y.createElement(ZL.Z,null,y.createElement($h.Z,{kind:fo.TP,size:vc.M2,onPress:I},(0,De.Z)("Cancel"))),y.createElement(ZL.Z,null,y.createElement(Vce,{dvrID:t}),y.createElement(Gk.Z,{type:"submit",kind:fo._8,size:vc.M2,isSpinning:d},(0,De.Z)("Continue"))))))}));var Sue=Object.assign;function Eue(e,t){if(e){const t=Xi.Z.parseXML(e.responseText);if(t.message)return t.message}else{if(!t)return;{const e=Xi.Z.parseXML(t.responseText);if(e.message)return e.message}}return(0,De.Z)("Unable to load channel mappings")}const Due={fetchLineupChannels:Sce.BA,fetchChannelMap:Sce.US,selectEPGLineup:Sce._1,clearChannelMapError:Sce.SA,saveDVR:Sce.xj,addDVRDevice:Sce.s6};class Cue extends y.Component{constructor(){super(...arguments),this.onLineupSelect=e=>{const{serverEntityID:t,selectedDevice:n}=this.props;e&&(this.props.selectEPGLineup({serverEntityID:t,lineupUUID:e}),this.props.fetchLineupChannels({serverEntityID:t,lineupUUID:e}),this.props.fetchChannelMap({serverEntityID:t,deviceUUID:n.uuid,lineupUUID:e,forceEnabled:!0}))},this.onAddDeviceSubmit=e=>{const{serverEntityID:t,dvrID:n,selectedDevice:i}=this.props;this.props.addDVRDevice({serverEntityID:t,dvrID:n,deviceID:i.key,data:e})},this.onSaveDVRSubmit=e=>{const{serverEntityID:t,selectedDevice:n}=this.props;this.props.saveDVR({serverEntityID:t,deviceID:n.key,data:e})}}componentWillMount(){this._populate(this.props)}componentWillUnmount(){this.props.clearChannelMapError()}_populate(e){const t=e.serverEntityID,n=e.selectedDevice.uuid,i=e.selectedLineupUUID;i&&(0,Rt.c9)((()=>{e.fetchLineupChannels({serverEntityID:t,lineupUUID:i}),e.fetchChannelMap({serverEntityID:t,deviceUUID:n,lineupUUID:i,forceEnabled:!0})}))}render(){const e=this.props.dvrID;return y.createElement(Mue,Sue({onLineupSelect:this.onLineupSelect,onSubmit:e?this.onAddDeviceSubmit:this.onSaveDVRSubmit},this.props))}}const Pue=(0,f.$j)((function(){return(0,de.P1)(Ece,Lce,cue,uue,oue(),((e,t,n,i,s)=>{const{selectedDevice:r,selectedLineupUUID:a,isChannelMappingsPending:o,isLineupChannelsPending:l,channelMappingsError:c,lineupChannelsError:d,isSavingDVR:u}=e;return{setupErrorMessage:t,selectedDevice:r,selectedLineupUUID:a,availableLineups:E().reduce(e.epgSettings.lineupGroup.lineups,((e,t)=>(e.push({[t.uuid]:t.title}),e)),[]),lineupChannels:n,lineupChannelOptions:i,channelMappings:s,isChannelMappingsPending:o,isLineupChannelsPending:l,isSavingDVR:u,channelMappingsErrorMessage:Eue(c,d)}}))}),Due)(Cue);var wue=Object.prototype.hasOwnProperty,Tue=Object.getOwnPropertySymbols,Zue=Object.prototype.propertyIsEnumerable,Nue=Object.assign;const Aue={clearDVRSetup:Sce.SB};class xue extends y.Component{componentWillUnmount(){this.props.clearDVRSetup()}render(){const e=this.props,{step:t}=e,n=((e,t)=>{var n={};for(var i in e)wue.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Tue)for(var i of Tue(e))t.indexOf(i)<0&&Zue.call(e,i)&&(n[i]=e[i]);return n})(e,["step"]);switch(t){case YS.C.DEVICE:return y.createElement(xde,Nue({},n));case YS.C.UNSUPPORTED_DEVICE:return y.createElement(jde,Nue({},n));case YS.C.DEVICE_CHANNELS:return y.createElement(Mde,Nue({},n));case YS.C.EPG:return y.createElement(sue,Nue({},n));case YS.C.EPG_MAPPING:return y.createElement(Gde,Nue({},n));case YS.C.CHANNEL_MAPPING:return y.createElement(Pue,Nue({},n));case YS.C.EPG_DOWNLOAD:return y.createElement(Vde,Nue({},n))}}}const Lue=(0,f.$j)((function(){return(0,de.P1)(Ece,(e=>({step:e.step})))}),Aue)(xue);var Oue=Object.assign;class jue extends y.Component{constructor(){super(...arguments),this.onModalClose=()=>{(0,M.DB)("metrics").trackClick(Oue(Oue({},this.props.metricsProperties),{page:et.od,action:rr.GP})),this.props.onModalClose()}}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,dvrID:t,isOpen:n,metricsProperties:i}=this.props;return y.createElement(PL.Z,{className:"DVRSetupModal-modal-2lRY8d Modal-medium-2eyGet Modal-modal-2XLz2p",isOpen:n,metricsPage:et.od,metricsProperties:i,preventCloseOnBackdropPress:!0,onModalClose:this.onModalClose},y.createElement(Lue,{serverEntityID:e,dvrID:t,onModalClose:this.onModalClose}))}}const kue=jue,Rue={context:pS.SETTINGS};class zue extends y.Component{constructor(e,t){super(e,t),this.onCreateDVRPress=()=>{this.setState({isDVRSetupModalOpen:!0})},this.onDVRSetupModalClose=()=>{this.setState({isDVRSetupModalOpen:!1}),this.props.onModalClose&&this.props.onModalClose()},this.state={isDVRSetupModalOpen:e.isModalOpen}}render(){const{className:e,dvrID:t,serverEntityID:n,machineIdentifier:i,providerIdentifier:s,isDvrsPending:r,isV4DVRSetupEnabled:a,hasDVRFeature:o,hasLiveTVSetupFeature:l,dvrsError:c,children:d}=this.props,{isDVRSetupModalOpen:u}=this.state,p=!r&&!t;return y.createElement("div",{className:e},d?d({serverEntityID:n,hasDVRFeature:o,hasLiveTVSetupFeature:l,noDVRs:p,dvrsError:c,onOpen:this.onCreateDVRPress}):null,a?y.createElement(Mce,{machineIdentifier:i,providerIdentifier:s,dvrID:(0,Coe.Z)(t),metricsContext:Rue.context,isOpen:u,onModalClose:this.onDVRSetupModalClose}):y.createElement(kue,{serverEntityID:n,metricsProperties:Rue,isOpen:u,onModalClose:this.onDVRSetupModalClose}))}}zue.defaultProps={isModalOpen:!1};const Uue=zue;var Vue=Object.prototype.hasOwnProperty,Bue=Object.getOwnPropertySymbols,Fue=Object.prototype.propertyIsEnumerable,Hue=Object.assign;const _ue={dispatchInitDVRSettingsUI:tE,dispatchClearDVRSettingsUI:nE};class Que extends y.Component{componentDidMount(){(0,Rt.c9)((()=>{this.props.dispatchInitDVRSettingsUI({serverEntityID:this.props.serverEntityID})}))}componentWillUnmount(){this.props.dispatchClearDVRSettingsUI()}render(){const e=this.props,{dispatchInitDVRSettingsUI:t,dispatchClearDVRSettingsUI:n}=e,i=((e,t)=>{var n={};for(var i in e)Vue.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Bue)for(var i of Bue(e))t.indexOf(i)<0&&Fue.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchInitDVRSettingsUI","dispatchClearDVRSettingsUI"]);return this.props.isUIPopulated?y.createElement(Uue,Hue({},i)):null}}const Gue=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.dvrSettingsUI),(0,HM.Z)(),(0,Ie.Z)(be.vm),_t.Z,Eoe,((e,t,n,i,s)=>{var r;const{isDvrsPending:a,dvrs:o,dvrsError:l,isUIPopulated:c}=e,d=t.providers.map((e=>i[e])).find(Doe.Z);return{machineIdentifier:t.machineIdentifier,providerIdentifier:null==d?void 0:d.identifier,isUIPopulated:c,isDvrsPending:a,dvrID:null==(r=null==o?void 0:o[0])?void 0:r.key,hasDVRFeature:!!t.ownerFeatures&&t.ownerFeatures.indexOf("dvr")>-1,hasLiveTVSetupFeature:n,isV4DVRSetupEnabled:s,dvrsError:l}}))}),_ue)(Que);var Yue=n(66102);const Wue="DVRManageChannelsInfo-scroller-1wGLvg Scroller-vertical-1tg_Qg",Kue=function(e){const{channelMappings:t,lineupChannels:n,lineupChannelOptions:i,showSignalStrength:s,channelScanActivity:r,scanPrefs:a,scanNetworks:o,allChannelMappingsEnabled:l,allChannelMappingsDisabled:c,onAllChannelMappingsEnabledChange:d}=e,u=t.some((e=>e.isDeviceChannelHD||e.isLineupChannelHD));return r?y.createElement("div",{className:"DVRManageChannelsInfo-progressContainer-3nPXNL"},y.createElement(CL,{size:90,progress:r.progress})):a.length?y.createElement(wN.Z,{className:Wue,autoScroll:!0},y.createElement($ce,{prefs:a})):o.length?y.createElement(Wce,{networks:o}):t.length?y.createElement(wN.Z,{className:Wue,autoScroll:!0},y.createElement(yue,{showSignalStrength:s,allChannelMappingsEnabled:l,allChannelMappingsDisabled:c,onAllChannelMappingsEnabledChange:d}),t.map((e=>{const{key:t,deviceIdentifier:s,name:r,enabled:a,channelKey:o,lineupIdentifier:l,drm:c,signalStrength:d,signalQuality:p,isDeviceChannelHD:m,isLineupChannelHD:h,isChannelMissing:g}=e;return y.createElement(gue,{key:t,name:t,initialValue:{enabled:a,channelKey:o,lineupIdentifier:l},deviceIdentifier:s,channelName:r,drm:c,signalStrength:p||d,isChannelMissing:g,showResolution:u,isDeviceChannelHD:m,isLineupChannelHD:h,lineupChannels:n,lineupChannelOptions:i})}))):null};class que extends y.Component{constructor(){super(...arguments),this.onScanDeviceChannelsButtonPress=()=>{const{scanPrefs:e,scanNetworks:t,channelScanActivity:n,onScanDeviceChannels:i,onCancelScanDeviceChannels:s}=this.props;e.length||t.length||(n?s():i(this.props.country))},this.onSubmit=e=>{const{scanPrefs:t,scanNetworks:n,onSubmit:i}=this.props;if(t.length||n.length){const t=this.props.scanPrefs.length?{prefs:e}:e;this.props.onScanDeviceChannels(this.props.country,t)}else i(e)}}render(){const{channelMappings:e,lineupChannels:t,lineupChannelOptions:n,isChannelMappingsPending:i,isLineupChannelsPending:s,isDeviceChannelsPending:r,channelMappingsError:a,lineupChannelsError:o,deviceChannelsError:l,isChannelMappingsSaving:c,channelMappingsSaveError:d,formState:u,allChannelMappingsEnabled:p,allChannelMappingsDisabled:m,isCancellingChannelScan:h,scanPrefs:g,scanNetworks:v,channelScanActivity:f,onAllChannelMappingsEnabledChange:I,onFormStateChange:b,onModalClose:M}=this.props,S=f&&!h,E=a||o||l,D=!S&&(i||s||r),C=f?parseInt(f.Response.channels,10):0;let P;P=1===C?(0,De.Z)("Scanning channels. 1 channel found."):C>1?(0,De.Z)("Scanning channels. {channelCount} channels found.",{channelCount:C}):(0,De.Z)("Scanning channels. No channels found.");const w=!(!g.length&&!v.length),T=e.some((e=>null!=e.signalQuality||null!=e.signalStrength)),Z=T?(0,De.Z)('Click "Scan Channels" to refresh this list, or create a new DVR to use a different lineup. Signal strength is stored at the time of scanning.'):(0,De.Z)('Click "Scan Channels" to refresh this list, or create a new DVR to use a different lineup.');return E?y.createElement(Yue.Z,{message:(0,De.Z)("Unable to load channel mappings"),onModalClose:M}):y.createElement(kee.ZP,{className:"DVRManageChannelsModalContent-form-2gUWFk",formState:u,onChange:b,onSubmit:this.onSubmit},y.createElement(xL.Z,{onModalClose:M},y.createElement(NL.Z,null,(0,De.Z)("Manage Channels")),D?y.createElement(wL.Z,null,y.createElement("div",{className:"DVRManageChannelsModalContent-centeredContainer-xu_5ie"},y.createElement(RC.Z,null))):null,!D&&d?y.createElement("div",null,y.createElement(Xk.Z,{errorMessage:(0,G0.Z)(d,(0,De.Z)("There was a problem saving your changes. Please try again."))})):null,D?null:y.createElement(wL.Z,{className:f?void 0:"DVRManageChannelsModalContent-manageChannelsBody-2kbiNk ModalBody-modalBody-3v8fMY",scrollDirection:f?vb.yZ:vb.Hn},y.createElement("div",{className:"DVRManageChannelsModalContent-scanChannelsContainer-3s1zl3"},y.createElement("div",{className:"DVRManageChannelsModalContent-scanChannelsMessage-3oYley"},f?P:Z),y.createElement("div",null,y.createElement(Gk.Z,{type:w?"submit":"button",size:vc.M2,isSpinning:h,isDisabled:h,onPress:this.onScanDeviceChannelsButtonPress},S?(0,De.Z)("Stop scanning"):(0,De.Z)("Scan channels")))),y.createElement(Kue,{channelMappings:e,lineupChannels:t,lineupChannelOptions:n,showSignalStrength:T,channelScanActivity:f,scanPrefs:g,scanNetworks:v,allChannelMappingsEnabled:p,allChannelMappingsDisabled:m,onAllChannelMappingsEnabledChange:I})),y.createElement(TL.Z,null,y.createElement(ZL.Z,null,y.createElement($h.Z,{kind:fo.TP,size:vc.M2,onPress:M},(0,De.Z)("Cancel")),y.createElement(Gk.Z,{type:"submit",kind:fo._8,size:vc.M2,isDisabled:D||!!f,isSpinning:c},(0,De.Z)("Save"))))))}}que.defaultProps={scanPrefs:[],scanNetworks:[]};const $ue=fue(que);var Jue=Object.prototype.hasOwnProperty,Xue=Object.getOwnPropertySymbols,epe=Object.prototype.propertyIsEnumerable,tpe=Object.assign;class npe extends y.Component{constructor(e,t){super(e,t),this.onCancelScanDeviceChannels=()=>{this.setState({isCancellingChannelScan:!0}),this.props.dispatchCancelScanDeviceChannels(this.props.deviceID)},this.state={isCancellingChannelScan:!!e.channelScanActivity}}componentDidMount(){const{lineupUUID:e,dispatchClearDeviceScanPrefs:t,dispatchSelectDevice:n,dispatchFetchLineupChannels:i,dispatchFetchDeviceChannels:s}=this.props;(0,Rt.c9)((()=>{t(),n(),i(e),s()}))}componentWillReceiveProps(e){!e.channelScanActivity&&this.props.channelScanActivity&&this.setState({isCancellingChannelScan:!1})}componentDidUpdate(e,t){e.isChannelMappingsSaving&&!this.props.isChannelMappingsSaving&&null==this.props.channelMappingsSaveError&&this.props.onModalClose(),this.props.channelScanActivity||!e.channelScanActivity||this.props.scanNetworks||(0,Rt.c9)((()=>{this.props.dispatchFetchDeviceChannels()}))}componentWillUnmount(){const{serverEntityID:e,dvrID:t,deviceID:n,channelScanActivity:i}=this.props;i&&!this.state.isCancellingChannelScan&&this.props.dispatchCancelScanDeviceChannels({serverEntityID:e,dvrID:t,deviceID:n})}render(){const e=this.props,{dispatchSelectDevice:t,dispatchFetchLineupChannels:n,dispatchFetchDeviceChannels:i,dispatchFetchChannelMap:s,dispatchCancelScanDeviceChannels:r,dispatchClearDeviceScanPrefs:a}=e,o=((e,t)=>{var n={};for(var i in e)Jue.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Xue)for(var i of Xue(e))t.indexOf(i)<0&&epe.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchSelectDevice","dispatchFetchLineupChannels","dispatchFetchDeviceChannels","dispatchFetchChannelMap","dispatchCancelScanDeviceChannels","dispatchClearDeviceScanPrefs"]);return y.createElement($ue,tpe({isCancellingChannelScan:this.state.isCancellingChannelScan,onCancelScanDeviceChannels:this.onCancelScanDeviceChannels},o))}}const ipe=(0,f.$j)((function(){return(0,de.P1)(rue(),aue(),oue(),xce(),Ece,cue,uue,((e,t,n,i,s,r,a)=>{const{country:o,lineup:l}=e,{isChannelMappingsPending:c,isLineupChannelsPending:d,channelMappingsError:u,lineupChannelsError:p,isChannelMappingsSaving:m,channelMappingsSaveError:h,scanPrefs:g,scanNetworks:y}=s;return{country:o,lineupUUID:e.lineup,lineupTitle:l,channelMappings:n,lineupChannels:r,lineupChannelOptions:a,isChannelMappingsPending:c,isLineupChannelsPending:d,isDeviceChannelsPending:t.isChannelsPending,channelMappingsError:u,lineupChannelsError:p,isChannelMappingsSaving:m,channelMappingsSaveError:h,deviceChannelsError:t.channelsError,scanPrefs:g,scanNetworks:y,channelScanActivity:i}}))}),(function(e,t){const{serverEntityID:n,dvrID:i,deviceID:s}=t;return{dispatchSelectDevice(){e(Sce.$1({serverEntityID:n,dvrID:i,deviceID:s}))},dispatchFetchLineupChannels(t){e(Sce.BA({serverEntityID:n,lineupUUID:t}))},dispatchFetchDeviceChannels(){e(Sce.pi({serverEntityID:n,dvrID:i,deviceID:s}))},dispatchFetchChannelMap(){e(Sce.US({serverEntityID:n}))},dispatchCancelScanDeviceChannels(){e(Sce.BF({serverEntityID:n,deviceID:s}))},dispatchClearDeviceScanPrefs(){e(Sce.Ze({serverEntityID:n}))},onScanDeviceChannels(t,r={}){e(Sce.sl(tpe({serverEntityID:n,dvrID:i,deviceID:s,country:t},r)))},onSubmit(t){(0,Rt.c9)((()=>{e(Sce.Lp({serverEntityID:n,dvrID:i,deviceID:s,data:t}))}))},onDismissSaveError(){(0,Rt.c9)((()=>{e(Sce.dG())}))}}}))(npe),spe=function(e){const{serverEntityID:t,dvrID:n,deviceID:i,metricsProperties:s,isOpen:r,onModalClose:a}=e;return y.createElement(PL.Z,{metricsPage:et.SK,metricsProperties:s,isOpen:r,preventCloseOnBackdropPress:!0,onModalClose:a},y.createElement(ipe,{serverEntityID:t,dvrID:n,deviceID:i,onModalClose:a}))};var rpe=Object.assign;class ape extends y.Component{constructor(){super(...arguments),this.onModalClose=()=>{this.props.clearDVRSetup({serverEntityID:this.props.serverEntityID}),this.props.onModalClose()}}render(){return y.createElement(spe,rpe(rpe({},this.props),{onModalClose:this.onModalClose}))}}const ope=(0,f.$j)((function(){return(0,de.P1)(rue(),aue(),((e,t)=>({dvrID:e.key,deviceID:t.key})))}),{clearDVRSetup:Sce.SB})(ape);var lpe=Object.assign;class cpe extends y.Component{componentDidUpdate(e,t){e.isSaving&&!this.props.isSaving&&null==this.props.saveError&&this.props.onModalClose()}render(){const{serverEntityID:e,model:t,uri:n,thumb:i,prefs:s,isSaving:r,saveError:a,onSubmit:o,onModalClose:l}=this.props;return y.createElement(kee.ZP,{className:"DVRDeviceSettingsModalContent-form-16KnNv",onSubmit:o},y.createElement(xL.Z,{onModalClose:l},y.createElement(NL.Z,null,(0,De.Z)("Device Settings")),a?y.createElement(Xk.Z,{errorMessage:(0,G0.Z)(a,(0,De.Z)("There was a problem saving your changes. Please try again."))}):null,y.createElement(wL.Z,null,y.createElement("div",{className:"DVRDeviceSettingsModalContent-container-2_Ip-1"},y.createElement(Hce,{className:"DVRDeviceSettingsModalContent-deviceImage-3fbBju",serverEntityID:e,model:t,thumb:i,width:150,height:150}),y.createElement("div",{className:"DVRDeviceSettingsModalContent-info-3lu81b"},y.createElement("div",{className:"DVRDeviceSettingsModalContent-model-3QA9jS"},t),y.createElement("div",null,n),y.createElement("div",{className:"DVRDeviceSettingsModalContent-settings-3KYEKO"},s.map((e=>{const{id:t}=e;return y.createElement(Kce.Z,lpe({key:t},e))})))))),y.createElement(TL.Z,null,y.createElement(ZL.Z,null,y.createElement($h.Z,{kind:fo.TP,size:vc.M2,onPress:l},(0,De.Z)("Cancel")),y.createElement(Gk.Z,{type:"submit",isSpinning:r,kind:fo._8,size:vc.M2},(0,De.Z)("Save"))))))}}const dpe=cpe;var upe=Object.assign;class ppe extends y.Component{constructor(){super(...arguments),this.onSubmit=e=>{const{serverEntityID:t,dvrID:n,deviceID:i}=this.props;(0,Rt.c9)((()=>{this.props.saveDeviceSettings({serverEntityID:t,dvrID:n,deviceID:i,prefs:e})}))},this.onModalClose=()=>{const{dvrID:e,deviceID:t}=this.props;this.props.clearDeviceSettingsSaveError({dvrID:e,deviceID:t}),this.props.onModalClose()}}render(){return y.createElement(dpe,upe(upe({},this.props),{onSubmit:this.onSubmit,onModalClose:this.onModalClose}))}}const mpe=(0,f.$j)((function(){return(0,de.P1)(((e,{dvrID:t})=>t),aue(),((e,t)=>{const{key:n,model:i,uri:s,prefs:r,thumb:a,isSaving:o,saveError:l}=t;return{dvrID:e,deviceID:n,model:i,uri:s,prefs:r,thumb:a,isSaving:o,saveError:l}}))}),{saveDeviceSettings:Sce.T5,clearDeviceSettingsSaveError:Sce.ds})(ppe);var hpe=Object.prototype.hasOwnProperty,gpe=Object.getOwnPropertySymbols,ype=Object.prototype.propertyIsEnumerable,vpe=Object.assign;const fpe=function(e){const{isOpen:t,metricsProperties:n,onModalClose:i}=e,s=((e,t)=>{var n={};for(var i in e)hpe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&gpe)for(var i of gpe(e))t.indexOf(i)<0&&ype.call(e,i)&&(n[i]=e[i]);return n})(e,["isOpen","metricsProperties","onModalClose"]);return y.createElement(PL.Z,{isOpen:t,metricsPage:et.qT,metricsProperties:n,onModalClose:i},y.createElement(mpe,vpe({onModalClose:i},s)))},Ipe="DVRDevice-separator-3u6Ink DashSeparator-separator-3gTgvL",bpe={context:pS.SETTINGS};class Mpe extends y.Component{constructor(e,t){super(e,t),this.onManageChannelsPress=()=>{this.setState({isManageChannelsModalOpen:!0})},this.onManageChannelsModalClose=()=>{this.setState({isManageChannelsModalOpen:!1})},this.onDeviceSettingsPress=()=>{this.setState({isDeviceSettingsModalOpen:!0})},this.onDeviceSettingsModalClose=()=>{this.setState({isDeviceSettingsModalOpen:!1})},this.state={isManageChannelsModalOpen:!1,isDeviceSettingsModalOpen:!1}}render(){const{serverEntityID:e,dvrID:t,deviceID:n,model:i,uri:s,thumb:r,tunerCount:a,channelCount:o,unsupported:l,activeTunerCount:c,channelMappings:d,hasPrefs:u,status:p,canRemoveDevice:m,onRemoveDevicePress:h}=this.props,g=p===Sde.vh.DEAD,v=d.filter((e=>e.enabled)).length;let f;return f=o?1===o?(0,De.Z)("1 channel"):(0,De.Z)("{channelCount} channels",{channelCount:o}):(0,De.Z)("No channels"),y.createElement("div",{className:"DVRDevice-device-1FrKNE"},y.createElement(Hce,{serverEntityID:e,model:i,thumb:r,width:100,height:100}),y.createElement("div",{className:"DVRDevice-details-kftkcD"},y.createElement("div",{className:"DVRDevice-modelContainer-35DLRD"},y.createElement("div",{className:"DVRDevice-model-1WzJ2k"},i),s?y.createElement(y.Fragment,null,y.createElement(tr.Z,{className:Ipe}),y.createElement(_ce,{className:"DVRDevice-uri-2d47ju",uri:s})):null,l?y.createElement(Bce,null):null),g?y.createElement("div",{className:"DVRDevice-deviceWarning-1Xw7HV"},y.createElement("div",{className:"DVRDevice-deviceWarningIconContainer-HC6xjQ"},y.createElement(Ce.Z,null)),(0,De.Z)("Device not found. Ensure your device is powered on and connected to your network.")):y.createElement("div",{className:"DVRDevice-info-1Pl1-R"},y.createElement("div",null,1===a?(0,De.Z)("1 tuner"):(0,De.Z)("{tunerCount} tuners",{tunerCount:a}),c?y.createElement(y.Fragment,null,y.createElement(tr.Z,{className:Ipe}),(0,De.Z)("{activeTunerCount} in use now",{activeTunerCount:c})):null),y.createElement("div",null,f,y.createElement(tr.Z,{className:Ipe}),y.createElement(AM.Z,{kind:fo._8,onPress:this.onManageChannelsPress},(0,De.Z)("{enabledChannelsCount} enabled",{enabledChannelsCount:v}))),u?y.createElement(AM.Z,{className:"DVRDevice-deviceSettingsButton-3uEPLT Link-link-3v-v0b",kind:fo._8,onPress:this.onDeviceSettingsPress},y.createElement(ba.Z,{className:"DVRDevice-deviceSettingsIcon-3ZV-PC","aria-label":(0,De.Z)("Device Settings")}),(0,De.Z)("Device Settings")):null)),m?y.createElement("div",{className:"DVRDevice-removeDeviceContainer-aVC1dd"},y.createElement(AM.Z,{className:"DVRDevice-removeDevice-3-tg0C",onPress:h},y.createElement(cc.Z,{"aria-label":(0,De.Z)("Remove Device")}))):null,y.createElement(ope,{serverEntityID:e,dvrID:t,deviceID:n,metricsProperties:bpe,isOpen:this.state.isManageChannelsModalOpen,onModalClose:this.onManageChannelsModalClose}),y.createElement(fpe,{serverEntityID:e,dvrID:t,deviceID:n,metricsProperties:bpe,isOpen:this.state.isDeviceSettingsModalOpen,onModalClose:this.onDeviceSettingsModalClose}))}}const Spe=Mpe;var Epe=Object.assign;const Dpe={fetchDeviceChannels:Sce.pi,removeDVRDevice:Sce.NK};class Cpe extends y.Component{constructor(){super(...arguments),this.onRemoveDevicePress=()=>{const{serverEntityID:e,dvrID:t,deviceID:n}=this.props;this.props.removeDVRDevice({serverEntityID:e,dvrID:t,deviceID:n})}}componentWillMount(){const{serverEntityID:e,dvrID:t,deviceID:n}=this.props;(0,Rt.c9)((()=>{this.props.fetchDeviceChannels({serverEntityID:e,dvrID:t,deviceID:n})}))}render(){return y.createElement(Spe,Epe({onRemoveDevicePress:this.onRemoveDevicePress},this.props))}}const Ppe=(0,f.$j)((function(){return(0,de.P1)(aue(),(0,VM.Z)(),((e,t)=>{const n=t.reduce(((t,n)=>{const i=n.Context&&n.Context.transcode_session;return n.type!==Oa.sC||parseInt(n.Context.deviceID,10)!==e.key||i&&t.some((e=>e.Context.transcode_session===i))||t.push(n),t}),[]);return{hasPrefs:!(!e.prefs||!e.prefs.length),channelCount:e.channels.length,activeTunerCount:n.length}}))}),Dpe)(Cpe);var wpe=Object.assign;class Tpe extends y.Component{componentDidUpdate(e,t){e.isSaving&&!this.props.isSaving&&null==this.props.saveError&&this.props.onModalClose()}render(){const{prefs:e,isSaving:t,saveError:n,onSubmit:i,onModalClose:s}=this.props;return y.createElement(kee.ZP,{className:"DVRSettingsModalContent-form-3MGXkj",onSubmit:i},y.createElement(xL.Z,{onModalClose:s},y.createElement(NL.Z,null,(0,De.Z)("DVR Settings")),n?y.createElement(Xk.Z,{errorMessage:(0,G0.Z)(n,(0,De.Z)("There was a problem saving your changes. Please try again."))}):null,y.createElement(wL.Z,null,e.map((e=>{const{id:t}=e;return y.createElement(Kce.Z,wpe({key:t},e))}))),y.createElement(TL.Z,null,y.createElement(ZL.Z,null,y.createElement($h.Z,{kind:fo.TP,size:vc.M2,onPress:s},(0,De.Z)("Cancel")),y.createElement(Gk.Z,{type:"submit",isSpinning:t,kind:fo._8,size:vc.M2},(0,De.Z)("Save"))))))}}const Zpe=Tpe;var Npe=Object.assign;class Ape extends y.Component{constructor(){super(...arguments),this.onSubmit=e=>{const{serverEntityID:t,dvrID:n}=this.props;(0,Rt.c9)((()=>{this.props.saveDVRSettings({serverEntityID:t,dvrID:n,prefs:e})}))},this.onModalClose=()=>{this.props.clearDVRSettingsSaveError({dvrID:this.props.dvrID}),this.props.onModalClose()}}render(){return y.createElement(Zpe,Npe(Npe({},this.props),{onSubmit:this.onSubmit,onModalClose:this.onModalClose}))}}const xpe=(0,f.$j)((function(){return(0,de.P1)(rue(),(e=>{const{prefs:t,isSaving:n,saveError:i}=e;return{prefs:t.filter((e=>!e.hidden)),isSaving:n,saveError:i}}))}),{saveDVRSettings:Sce.q9,clearDVRSettingsSaveError:Sce.JA})(Ape);var Lpe=Object.prototype.hasOwnProperty,Ope=Object.getOwnPropertySymbols,jpe=Object.prototype.propertyIsEnumerable,kpe=Object.assign;const Rpe=function(e){const{isOpen:t,metricsProperties:n,onModalClose:i}=e,s=((e,t)=>{var n={};for(var i in e)Lpe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Ope)for(var i of Ope(e))t.indexOf(i)<0&&jpe.call(e,i)&&(n[i]=e[i]);return n})(e,["isOpen","metricsProperties","onModalClose"]);return y.createElement(PL.Z,{isOpen:t,metricsPage:et.TD,metricsProperties:n,onModalClose:i},y.createElement(xpe,kpe({onModalClose:i},s)))},zpe="DVRListItem-separator-2uzjVB DashSeparator-separator-3gTgvL",Upe="DVRListItem-actionIcon-3GPrL9",Vpe={context:pS.SETTINGS};class Bpe extends y.Component{constructor(e,t){super(e,t),this.onRemoveDVRPress=()=>{this.setState({isRemoveDVRModalOpen:!0})},this.onRemoveDVRConfirm=()=>{this.setState({isRemoveDVRModalOpen:!1}),this.props.onRemoveDVR()},this.onRemoveDVRCancel=()=>{this.setState({isRemoveDVRModalOpen:!1})},this.onDVRSettingsPress=()=>{this.setState({isDVRSettingsModalOpen:!0})},this.onDVRSettingsModalClose=()=>{this.setState({isDVRSettingsModalOpen:!1})},this.onAddDevicePress=()=>{this.setState({isAddDeviceModalOpen:!0})},this.onModalClose=()=>{this.setState({isAddDeviceModalOpen:!1})},this.state={isRemoveDVRModalOpen:!1,isDVRSettingsModalOpen:!1,isAddDeviceModalOpen:!1}}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,dvrID:n,machineIdentifier:i,providerIdentifier:s,lineupTitle:r,devices:a,epgDownloadActivity:o,hasPrefs:l,hasDVRFeature:c,hasLiveTVSetupFeature:d,hasFreeLiveTVDVRSettings:u,isV4DVRSetupEnabled:p,onReloadGuidePress:m,onCancelReloadGuidePress:h}=this.props,{isRemoveDVRModalOpen:g,isDVRSettingsModalOpen:v}=this.state,f=(c||d&&u)&&l;return y.createElement("div",{className:"DVRListItem-dvr-3hxpQ4"},t?y.createElement(tg,{className:"DVRListItem-banner-NgBgRQ ProgramGuideGracenoteMigrationBanner-container-3KhZOk",serverEntityID:e,providerEntityID:t,showButton:!1}):null,y.createElement("div",{className:"DVRListItem-header-1AdKFz"},y.createElement("div",{className:"DVRListItem-name-1Xqaxm"},(0,De.Z)("DVR"),y.createElement(tr.Z,{className:zpe}),r),y.createElement(AM.Z,{className:"DVRListItem-deleteLink-2sz7ZZ",kind:fo._8,onPress:this.onRemoveDVRPress},(0,De.Z)("Delete DVR"))),y.createElement("div",{className:"DVRListItem-actions-26ZMNC"},y.createElement("div",null,o?y.createElement(AM.Z,{kind:fo.TP,title:(0,De.Z)("Cancel refresh"),onPress:h},y.createElement(cc.Z,{className:Upe}),o.title," (",o.progress,"%)",y.createElement(tr.Z,{className:zpe}),o.subtitle):y.createElement(AM.Z,{kind:fo._8,onPress:m},y.createElement(mV.Z,{className:Upe}),(0,De.Z)("Refresh Guide"))),f?y.createElement("div",null,y.createElement(AM.Z,{kind:fo._8,onPress:this.onDVRSettingsPress},y.createElement(ba.Z,{className:Upe,"aria-label":(0,De.Z)("DVR Settings")}),(0,De.Z)("DVR Settings"))):null),y.createElement("div",{className:"DVRListItem-devices-3k34MX"},a.map((t=>y.createElement(Ppe,{key:t.key,serverEntityID:e,dvrID:n,deviceID:t.key,canRemoveDevice:a.length>1,model:t.model,uri:t.uri,unsupported:t.unsupported,channelMappings:t.channelMappings,tunerCount:t.tuners,status:t.status,thumb:t.thumb})))),y.createElement(AM.Z,{kind:fo._8,onPress:this.onAddDevicePress},y.createElement(Hf.Z,{className:"DVRListItem-addDeviceIcon-1exeb3"}),(0,De.Z)("Add Device")),y.createElement(nt.Z,{isOpen:g,metricsPage:et.O6,title:(0,De.Z)("Delete DVR"),message:(0,De.Z)("Deleting your DVR will remove the Guide, and all scheduled recordings will be suspended. Programming you've previously recorded will remain in your library."),confirmLabel:(0,De.Z)("Delete"),kind:fo.T,onConfirm:this.onRemoveDVRConfirm,onCancel:this.onRemoveDVRCancel}),y.createElement(Rpe,{isOpen:v,serverEntityID:e,dvrID:n,metricsProperties:Vpe,onModalClose:this.onDVRSettingsModalClose}),p?y.createElement(Mce,{machineIdentifier:i,providerIdentifier:s,dvrID:(0,Coe.Z)(n),metricsContext:Vpe.context,isOpen:this.state.isAddDeviceModalOpen,onModalClose:this.onModalClose}):y.createElement(kue,{serverEntityID:e,dvrID:n,metricsProperties:Vpe,isOpen:this.state.isAddDeviceModalOpen,onModalClose:this.onModalClose}))}}const Fpe=Bpe,Hpe=(0,de.zB)({machineIdentifier:(0,de.P1)(Kh.Z,(e=>e.machineIdentifier)),providerIdentifier:(0,de.P1)((0,HM.Z)(),_t.Z,((e,t)=>{const n=e.providers.find((e=>(0,Doe.Z)(t[e])));return null==n?void 0:n.identifier})),providerEntityID:(0,de.P1)((0,HM.Z)(),_t.Z,((e,t)=>{const n=e.providers.map((e=>t[e])).find(Doe.Z);return null==n?void 0:n.entityID})),epgDownloadActivity:kde(),hasPrefs:(0,de.P1)(rue(),(e=>!!e.prefs)),hasFreeLiveTVDVRSettings:(0,de.P1)(Kh.Z,(e=>(0,qh.Z)(e.version,Yh.Z.freeLiveTVDVRSettings))),isV4DVRSetupEnabled:Eoe}),_pe=(0,f.$j)(Hpe,(function(e,t){const{serverEntityID:n,dvrID:i}=t;return{onRemoveDVR(){e(sE({serverEntityID:n,dvrID:i}))},onReloadGuidePress(){e(rE({serverEntityID:n,dvrID:i}))},onCancelReloadGuidePress(){e(aE({serverEntityID:n,dvrID:i}))}}}))(Fpe),Qpe=(0,f.$j)((function(e){const{isDvrsPending:t,dvrsError:n,dvrs:i}=e.ui.dvrSettingsUI;return{isDvrsPending:t,dvrsError:n,dvrs:i}}))((function(e){const{serverEntityID:t,isDvrsPending:n,dvrsError:i,dvrs:s,hasDVRFeature:r,hasLiveTVSetupFeature:a}=e;return i?y.createElement(VK,{title:(0,De.Z)("Unable to load DVRs")}):n?y.createElement(RC.Z,{label:(0,De.Z)("Loading DVRs")}):y.createElement("div",null,s.map((e=>y.createElement(_pe,{key:e.key,dvrID:e.key,serverEntityID:t,lineupTitle:e.lineupTitle,devices:e.devices,hasDVRFeature:r,hasLiveTVSetupFeature:a}))))})),Gpe=wD.Z.extend({name:"DeprecatedPluginModel",context:["server","channel"],idAttribute:"key",url(){return this.id?this.id:this.identifierUrl(this.get("identifier"))},identifierUrl:e=>`/:/plugins/${e}/root`,syncedAttrs:{key:bD.Z.string,identifier:bD.Z.string,type:bD.Z.string,name:bD.Z.string,title1:bD.Z.string,title2:bD.Z.string,message:bD.Z.string,summary:bD.Z.string,thumb:bD.Z.string,art:bD.Z.string,prefsKey:bD.Z.string,searchKey:bD.Z.string,installed:bD.Z.boolean,noCache:bD.Z.boolean,allowSync:bD.Z.boolean,hasPrefs:bD.Z.boolean,hasStoreServices:bD.Z.boolean,share:bD.Z.boolean,lastAccessedAt:bD.Z.integer},syncedRelations:{metadataList:{relationClass:MD.Z,attrs(e){return{containerKey:e.key?e.key:this.identifierUrl(e.identifier)}},options(e){return{channel:this,skipCache:!0}}}},derivedAttrs:{title(){return this.get("name")||this.get("title2")||this.get("title1")}},augmentResponseText:(e,t)=>t===bA.Ls?(0,SA.Z)(e,{includeDirectories:!0}):e,augmentResponse(e){if(this.has("key")&&(e.key=this.get("key")),"none"===e.key&&delete e.key,e.key){const t=e.key.match(/^\/(\w+)\//);t&&(e.type=t[1])}e.title&&(e.name=e.title);const t=Xi.Z.parseArray(e.Metadata);for(let n=t.length-1;n>=0;n--){const i=t[n];(i.settings||i.search)&&(e[i.settings?"prefsKey":"searchKey"]=i.key,t.splice(n,1))}return e.Metadata=t,e.metadataList=e,e}}),Ype=_S.Z.extend({name:"DeprecatedPluginCollection",context:["server","channel"],model:Gpe,url(){return this.containerKey},comparator:e=>e.get("title").toLowerCase(),filterByType(e){const t=this.filter((t=>t.get("type")===e));return this.clone(t)}}),Wpe=wD.Z.extend({mixins:[SD.Z],name:"DeprecatedPluginListModel",context:["server"],idAttribute:"key",collectionName:"channels",url(){const e=this.get("key")||C.Z.join(["/channels",this.get("subset")]);return this.getPaginatedUrl(e)},sessionAttrs:{key:bD.Z.string,subset:bD.Z.oneOf("all","recentlyViewed"),currentPageStart:bD.Z.integer,currentPageSize:bD.Z.integer,populatedRange:bD.Z.object},syncedAttrs:{totalSize:bD.Z.integer,viewGroup:bD.Z.string,title1:bD.Z.string,title2:bD.Z.string},syncedRelations:{channels:{relationClass:Ype,rootPropertyName:"Directory",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({subset:"all",populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()}});var Kpe=n(62250),qpe=n.n(Kpe),$pe=n(12935),Jpe=n.n($pe);const Xpe=oae.Z.extend({name:"DeprecatedPluginSettingsModal",className:"channel-settings-modal modal fade",template:Jpe(),ui:{submitBtn:".submit-btn"},events:E().extend({"change input[name]":"onInputChange","change select[name]":"onInputChange","submit #channel-settings-form":"onSubmit"},oae.Z.prototype.events),initialize:function(){oae.Z.prototype.initialize.apply(this,arguments),this.changes={}},serializeData:function(){const e=this.model.get("title")||this.model.get("name");return{escapedTitle:E().escape(e||"Preferences..."),settings:this.collection.toJSON()}},onInputChange:function(e){const t=e.currentTarget;let n=t.value;"checkbox"===t.type&&(n=t.checked),this.changes[t.name]=n},onSubmit:function(e){if(e.preventDefault(),E().isEmpty(this.changes))return void this.hide();const t=this.ui.submitBtn;if(t.hasClass("active"))return;t.addClass("active");const n=this.collection.first(),i=n.getSaveParams(this.changes),s=E().result(this.collection,"url"),r=C.Z.join([s,"/set"],i),a=g().ajax(n.server.getXHROptions(r));a.done((()=>{this.hide()})),a.fail((()=>{ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was a problem saving these settings.")})})),a.always((()=>{t.removeClass("active")}))}});var eme=n(20611),tme=n.n(eme);const nme=m.Z.ItemView.extend({tagName:"li",className:"poster-item media-tile-list-item channel",template:tme(),ui:{poster:".media-poster"},events:{"click .settings-btn":"onSettingsClick","click .uninstall-btn":"onUninstallClick"},initialize:function(e){this.image=new Rne.Z({model:this.model,type:"channel",width:150}),this.shared=this.model.server.get("shared")},serializeData:function(){return{item:this.model.toJSON(),shared:this.shared}},bindings:{".media-title":{modelAttribute:"title"},".media-subtitle-1":{modelAttribute:"type",autohide:!0,formatter:e=>"video"===e?(0,De.Z)("Video"):"music"===e?(0,De.Z)("Music"):"photos"===e?(0,De.Z)("Photo"):(0,De.Z)("Utility")}},onRender:function(){this.image.setElement(this.ui.poster)},onClose:function(){this.image.close()},onSettingsClick:function(e){if(e.preventDefault(),this.$el.hasClass("active"))return;this.$el.addClass("active");const t=new cne.Z([],{server:this.model.server,url:this.model.id+"/:/prefs"}),n=t.fetch();n.done((()=>{ee.Z.trigger("show:modal",new Xpe({model:this.model,collection:t}))})),n.always((()=>{this.$el.removeClass("active")}))},onUninstallClick:function(e){if(e.preventDefault(),this.$el.hasClass("active"))return;this.$el.addClass("active");const t=One.Z.execute("uninstallChannel",{channel:this.model});t.done((()=>{this.model.trigger("destroy",this.model,this.model.collection)})),t.always((()=>{this.$el.removeClass("active")}))}}),ime=Mne.Z.extend({tagName:"ul",className:"tile-list media-tile-list channel-tile-list",itemView:nme}),sme=m.Z.Layout.extend({className:"container",template:qpe(),ui:{navLinks:".nav a"},regions:{list:".channels-container"},events:{"click .nav a":"onNavClick","click .all-btn":"onAllClick","click .video-btn":"onVideoClick","click .music-btn":"onMusicClick","click .photo-btn":"onPhotoClick"},initialize:function({deprecatedPlugins:e}){(0,(0,M.DB)("appStore").dispatch)((0,mn.ZZ)({allowLightPreset:!1})),this.collection=e.get("channels"),this.videoCollection=this.collection.filterByType("video"),this.musicCollection=this.collection.filterByType("music"),this.photoCollection=this.collection.filterByType("photos")},serializeData:function(){return{serverID:this.collection.server.id,allCount:this.collection.length,hasInstalledChannels:this.collection.length>0,videoCount:this.videoCollection.length,musicCount:this.musicCollection.length,photoCount:this.photoCollection.length}},onRender:function(){this.list.show(new ime({collection:this.collection}))},onNavClick:function(e){this.ui.navLinks.removeClass("selected"),g()(e.currentTarget).addClass("selected")},onAllClick:function(e){e.preventDefault(),this.list.show(new ime({collection:this.collection}))},onVideoClick:function(e){e.preventDefault(),this.list.show(new ime({collection:this.videoCollection}))},onMusicClick:function(e){e.preventDefault(),this.list.show(new ime({collection:this.musicCollection}))},onPhotoClick:function(e){e.preventDefault(),this.list.show(new ime({collection:this.photoCollection}))}});class rme extends y.Component{componentDidMount(){const e=this.props.view;this._view=new e(this.props.viewOptions),this._view.render(),this._el.appendChild(this._view.el),this._view.triggerMethod("show")}shouldComponentUpdate(){return!1}componentWillUnmount(){this._view.close&&this._view.close()}render(){return y.createElement("div",{className:this.props.className,ref:e=>this._el=e})}}const ame=rme,ome=X.Z.extend({maximumDelay:30,initialize({callback:e,logFormat:t}){this._serversBeingRetried={},this.callback=e,this.logFormat=t},start(e){this._serversBeingRetried[e.cid]||this.supportsRetry(e)&&(this._serversBeingRetried[e.cid]={server:e,attempt:1},this._scheduleRetry(e))},stop(e){const t=this._serversBeingRetried[e.cid];t&&(window.clearTimeout(t.timeout),delete this._serversBeingRetried[e.cid])},stopAll(){E().each(this._serversBeingRetried,((e,t)=>{window.clearTimeout(e.timeout),delete this._serversBeingRetried[t]}))},supportsRetry:e=>!0,_scheduleRetry(e){const t=this._serversBeingRetried[e.cid],n=2*Math.min(this.maximumDelay/2,t.attempt);(0,D.Z)(this.logFormat,e.get("debugName"),n),t.timeout=window.setTimeout((()=>{this.callback(e),t.attempt++,this._scheduleRetry(e)}),1e3*n)}}),lme=ome.extend({mixins:[te.Z],initialize({appModel:e}){ome.prototype.initialize.apply(this,arguments),this.appModel=e,this.listenTo(this.appModel,"change:primaryServer",this.onPrimaryServerChange)},supportsRetry:e=>!0,onPrimaryServerChange(e,t){t&&!t.get("hasEventConnection")&&(this.stop(t),this.start(t))}}),cme=X.Z.extend({mixins:[te.Z],initialize(e){this.name=e.name||"ServerEventManager",this.appModel=e.appModel,this.servers=e.servers||this.appModel.get("servers"),this.isValidServer=e.isValidServer,this.supportsLongPolling=e.supportsLongPolling,this.allowMultipleConnections=e.allowMultipleConnections,this.allowAppendingHeaders=e.allowAppendingHeaders,this.ServerEventConnection=e.ServerEventConnection,this.connections={},this._serverRetryManager=new e.ServerRetryManager({appModel:this.appModel,callback:this.retryServerConnections.bind(this),logFormat:"[Connections] Retrying server events connection for %s in %s seconds"})},start(){this.allowMultipleConnections?this.listenTo(this.servers,{"change:isResolved":this.onServerResolvedChange,"change:isRejected":this.onServerRejectedChange,remove:this.onServerRemove,reset:this.onServersReset}):this.listenTo(this.appModel,"change:primaryServer",this.onPrimaryServerChange)},stop(){this.stopListening(),this._serverRetryManager.stopAll(),this.disconnectAll(),this.connections={}},tryConnectServer(e){const t=this.connections[e.id];this.isValidServer(e)&&!t&&(b.Z.hasWebSocket||this.supportsLongPolling?this.connect({server:e}).then(null,(()=>{this._serverRetryManager.start(e)})):e.trigger("socket:websocket",{error:!0}))},connect(e){const t=e.server;let n=this.connections[t.id];n||(n=new this.ServerEventConnection({server:t,appendHeaders:this.allowAppendingHeaders}),this.connections[t.id]=n,this.listenTo(n,{open:this.onOpen,close:this.onClose,error:this.onClose}));const i=n.open(),s=n.socket?n.socket.url:n.pollUrl;return(0,D.Z)(`[${this.name}] Opening server event connection to ${t.get("debugName")} at ${s}`),i},disconnectAll(){E().each(this.connections,(e=>{this.disconnect({connection:e})}))},disconnect(e){let t=e.connection;if(t||(t=this.connections[e.server.id]),t){const e=t.socket?t.socket.url:t.pollUrl,n=t.server;(0,D.Z)(`[${this.name}] Closing server event connection to ${n.get("debugName")} at ${e}`),this.stopListening(t),this._serverRetryManager.stop(t.server),t.close(),delete this.connections[t.server.id]}},retryServerConnections:function(e){this.isValidServer(e)&&e.get("isResolved")&&this.connect({server:e})},onPrimaryServerChange(e,t){this.disconnectAll(),t&&this.tryConnectServer(t)},onServerResolvedChange(e,t){t&&this.tryConnectServer(e)},onServerRejectedChange(e,t){t&&this.disconnect({server:e})},onServerRemove(e){const t=this.connections[e.id];if(t&&(this.disconnect({connection:t}),e.get("isMerged")&&t)){const t=this.servers.get(e.id);this.connect({server:t})}},onServersReset(e,t){const n=t.previousModels;E().each(n,(t=>{e.contains(t)||this.disconnect({server:t})}))},onOpen(e){const t=this.connections[e.id],n=t.socket?t.socket.url:t.pollUrl;D.Z.info(`[${this.name}] Opened server event connection to ${e.get("debugName")} at ${n}`),this._serverRetryManager.stop(e)},onClose(e){D.Z.warn(`[${this.name}] Unexpectedly closed server event connection to ${e.get("debugName")}`),this._serverRetryManager.start(e)}});var dme=n(12274);function ume(e,t,n){if(!t)return null;const i=new Date(t);if(!(0,dme.Z)(i))return-1;const s=i.getTime();let r,a=0,o=e.length-1;for(;a<=o;){r=Math.floor((a+o)/2);const t=e[r],i=e[r+1],l=new Date(t.time).getTime();if(!i)return s>l?r:r+1;if(s===l)return n<r?r:r+1;const c=new Date(i.time).getTime();if(s>l&&s<c)return r+1;s>l?a=r+1:s<l&&(o=r-1)}return Math.max(0,r)}var pme=n(56514);function mme(e){return(0,pme.Z)(e,"MMM dd, yyyy HH:mm:ss.SSS",new Date)}var hme=Object.assign;const gme="ui/serverLogPageActions/changeTextFilter",yme="ui/serverLogPageActions/changeTimeFilter",vme="ui/serverLogPageActions/clearFilter",fme="ui/serverLogPageActions/addLogLine",Ime="ui/serverLogPageActions/resetLogLevels",bme="ui/serverLogPageActions/toggleLogLevel",Mme="ui/serverLogPageActions/clearLog",Sme="ui/serverLogPageActions/loadLogfile",Eme="ui/serverLogPageActions/toggleTimeFilter",Dme="ui/serverLogPageActions/toggleRaw",Cme="ui/serverLogPageActions/highlightLine",Pme=(0,No.Z)(gme),wme=(0,No.Z)(yme),Tme=(0,No.Z)(vme),Zme=(0,No.Z)(fme),Nme=(0,No.Z)(Ime),Ame=(0,No.Z)(bme),xme=(0,No.Z)(Mme),Lme=(0,No.Z)(Sme),Ome=(0,No.Z)(Eme),jme=(0,No.Z)(Dme),kme=(0,No.Z)(Cme);function Rme(e,t,n){return t.all||(t.all=[]),e.index=t.all.length,Vme(e,{filter:n.get("filter"),timeFilterStart:n.get("timeFilterStart"),timeFilterEnd:n.get("timeFilterEnd"),logLevels:n.get("logLevels")})?t.filtered&&t.filtered.push(e):t.filtered||(t.filtered=t.all.slice(0)),t.all.push(e),t}function zme(e){return e.get("ui").get("serverLogPage")}function Ume(e){return e.split(/\s+/).map((e=>new RegExp((0,R.Z)(e),"i")))}function Vme(e,t){const{filter:n,timeFilterStart:i,timeFilterStartIndex:s,timeFilterEnd:r,timeFilterEndIndex:a,logLevels:o}=t;if(o.length&&-1===o.indexOf(e.level))return!1;if(i||null!=s||r||null!=a){let t,n,o;if(null!=s&&null!=a||(t=mme(e.time),null==s&&(n=i&&mme(i)),null==a&&(o=r&&mme(r))),null!=s&&s>e.index||null!=a&&a<e.index||n&&(0,Tx.Z)(n,t)||o&&(0,xN.Z)(o,t))return!1}return!n||(t.regexps||Ume(n)).every((t=>t.test(e.message)||t.test(e.thread)))}function Bme(e){const t=e.get("filter"),n=e.get("timeFilterStart"),i=e.get("timeFilterEnd"),s=e.get("logLevels"),r=e._unfilteredLogLines,a=ume(r,n,-1/0),o=ume(r,i,1/0),l=function(e,t){const n=Ume(t.filter);return e.filter((e=>Vme(e,hme(hme({},t),{regexps:n}))))}(r,{logLevels:s,filter:t,timeFilterStart:n,timeFilterStartIndex:-1===a?null:a,timeFilterEndIndex:-1===o?null:o,timeFilterEnd:i});e.set({logLines:l,unfilteredLogLinesCount:r.length,isTimeFilterStartValid:-1!==a,isTimeFilterEndValid:-1!==o})}const Fme=/^([^[]+)\[([^\]]+)]\s+([^\s]+)\s+-\s+(.*)/,Hme={ERROR:0,WARN:1,INFO:2,DEBUG:3,VERBOSE:4};function _me(e){if(!e)return null;const t=e.match(Fme),[,n,i,s,r]=t;return{time:n.trim(),thread:i.trim(),level:Hme[s],message:r.trim()}}const Qme=(0,HS.Z)({[fme](e,t){const{message:n}=t,i=zme(e);i._unfilteredLogLines||(i._unfilteredLogLines=[]);const s=i.get("logLines").length!==i._unfilteredLogLines.length,r=s?i.get("logLines"):null,a=s?r.length:null,o=Rme(n,{all:i._unfilteredLogLines.slice(0),filtered:r},i);o.filtered&&o.filtered.length!==a&&(o.filtered=o.filtered.slice(0)),i._unfilteredLogLines=o.all,i.set({unfilteredLogLinesCount:o.all.length,logLines:o.filtered||o.all})},[gme](e,t){const n=zme(e),{filter:i}=t;n.set({filter:i}),Bme(n)},[yme](e,t){const n=zme(e),{timeFilterStart:i,timeFilterEnd:s}=t;n.set({showTimeFilter:!(!i&&!s),timeFilterStart:i,timeFilterEnd:s}),Bme(n)},[vme](e){const t=zme(e);t.set({filter:"",timeFilterStart:"",timeFilterEnd:"",logLevels:[]}),Bme(t)},[Ime](e){const t=zme(e);t.set({logLevels:[]}),Bme(t)},[bme](e,t){const n=zme(e),i=n.get("logLevels"),s=i.slice(0),r=i.indexOf(t.logLevel);-1===r?s.push(t.logLevel):s.splice(r,1),n.set({logLevels:s}),Bme(n)},[Mme](e){const t=zme(e);t.set({logLines:[],unfilteredLogLinesCount:0,highlightedLineIndex:null,showRawText:!1}),t._unfilteredLogLines=[]},[Sme](e,t){const{result:n}=t,i=zme(e);let s={all:[]};i.set({logLines:[],unfilteredLogLinesCount:0});try{n.split(/\n+/).map(_me).forEach((e=>{e&&(s=Rme(e,s,i))})),i._unfilteredLogLines=s.all,i.set({unfilteredLogLinesCount:s.all.length,logLines:s.filtered||s.all})}catch(e){}},[Eme](e){const t=zme(e),n=t.get("showTimeFilter");t.set({timeFilterStart:"",timeFilterEnd:"",showTimeFilter:!n}),Bme(t)},[Dme](e){const t=zme(e);t.set("showRawText",!t.get("showRawText"))},[Cme](e,t){zme(e).set("highlightedLineIndex",t.index)}});var Gme=n(49963);const Yme="available",Wme="done",Kme="downloaded",qme="downloading",$me="error",Jme="installing",Xme="none",ehe="notify",the="account",nhe="activity",ihe="backgroundGeneratorState",she="backgroundProcessingQueue",rhe="grabber.device",ahe="log",ohe="playing",lhe="preference",che="progress",dhe="provider.change",uhe="provider.content.change",phe="provider.subscription.change",mhe="reachability",hhe="status",ghe="syncState",yhe="timeline",vhe="transcodeSession.end",fhe="transcodeSession.start",Ihe="transcodeSession.update",bhe="update.statechange",Mhe="versionState",She=X.Z.extend({mixins:te.Z,url(){const e=this.server.get("activeConnection");if(!e)return;const t=e.id.replace(/^http/,"ws");return this.server.resolveUrl("/:/websockets/notifications",{connection:new Gme.Z({uri:t}),appendToken:!0,appendHeaders:this.appendHeaders})},initialize(e){E().bindAll(this,"onOpen","onClose","onError","onMessage","getMessageTypes"),this.server=e.server,this.appendHeaders=e.appendHeaders||!1},open(){this.socket&&this.close(),this._deferred=g().Deferred();const e=E().result(this,"url");return e?(this.socket=new window.WebSocket(e),this.socket.onopen=this.onOpen,this.socket.onclose=this.onClose,this.socket.onerror=this.onError,this.socket.onmessage=this.onMessage,this._deferred.promise()):this._deferred.reject().promise()},close(){this.socket&&(this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close(),this.socket=null,this._deferred&&"pending"===this._deferred.state()&&this._deferred.reject())},testConnection(){if(!this.server.get("connected"))return;const e=this.server.get("desktop").get("update");e&&e.get("state")===Jme&&this.server.set("connected",null),this.server.trigger("error:connection",this.server)},onOpen(e){const t=M.DB("appStore"),n=this.server.entityID();n&&t.dispatch((0,cS.f4)({serverEntityID:n,event:e})),this.server.trigger("socket:websocket",{opened:!0}),this.trigger("open",this.server,e),this._deferred.resolve(this.server,e)},onClose(e){this.close();const t=M.DB("appStore"),n=this.server.entityID();n&&t.dispatch((0,cS.LW)({serverEntityID:n,event:e})),this.server.trigger("socket:websocket",{closed:!0}),this.trigger("close",this.server,e),this._deferred.reject(this.server,e),this.testConnection()},onError(e){this.close(),this.server.trigger("socket:websocket",{error:!0}),this.trigger("error",this.server,e),this._deferred.reject(this.server,e),this.testConnection()},onMessage(e){let t;try{t=JSON.parse(e.data)}catch(t){return void D.Z.warn("[Connections] Error formatting message:\n%s",e.data)}const n=!!t._elementType,i=n?E().first(t._children):t.NotificationContainer;if(i){const e=this[n?t.type:i.type];let s;s=n?Array.isArray(i)?i:[i]:function(e,t){return(-1===t.indexOf(e.type)?[]:function(e){switch(e.type){case lhe:return e.Setting;case yhe:return e.TimelineEntry;case hhe:return e.StatusNotification;case che:return e.ProgressNotification;case ohe:return e.PlaySessionStateNotification;case ghe:return e.SyncStateNotification;case ihe:return e.BackgroundGeneratorStateNotification;case Mhe:return e.VersionStateNotification;case she:return e.BackgroundProcessingQueueEventNotification;case fhe:case Ihe:case vhe:return e.TranscodeSession;case bhe:return e.AutoUpdateNotification;case mhe:return e.ReachabilityNotification;case the:return e.AccountUpdateNotification;case nhe:return e.ActivityNotification;case rhe:return e.MediaGrabberDeviceNotification;case dhe:return e.MediaProviderNotification;case uhe:return e.MediaProviderContentNotification;case ahe:return e.LogSentNotification;case phe:return e.MediaProviderSubscriptionNotification;case"clientDecision":return e.ClientDecisionRequestEventNotification}}(e))||[]}(i,this.getMessageTypes()),s.forEach((t=>{try{this.trigger("message",t)}catch(e){D.Z.error("[Connections] Error when triggering",t,e),k.Tb(e,{extra:{message:t}})}if(E().isFunction(e))try{e.call(this,t)}catch(e){D.Z.error("[Connections] Error when handling",t,e),k.Tb(e,{extra:{message:t}})}}))}}}),Ehe=[ahe],Dhe=She.extend({name:"MediaServerLogEventConnection",url(){const e=this.server.get("activeConnection").id.replace(/^http/,"ws");return this.server.resolveUrl("/:/websockets/notifications",{params:{filters:"log"},connection:new Gme.Z({uri:e}),appendToken:!0})},getMessageTypes:()=>Ehe,[ahe](e){(0,M.DB)("appStore").dispatch(Zme({message:e,serverEntityID:this.server.entityID()}))}});var Che=Object.prototype.hasOwnProperty,Phe=Object.getOwnPropertySymbols,whe=Object.prototype.propertyIsEnumerable,The=Object.assign;const Zhe=function(e){var{children:t}=e,n=((e,t)=>{var n={};for(var i in e)Che.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Phe)for(var i of Phe(e))t.indexOf(i)<0&&whe.call(e,i)&&(n[i]=e[i]);return n})(e,["children"]);return y.createElement("div",The({className:"PageHeader-pageHeader-3_6U10"},n),t)},Nhe=[4,3,2,1,0],Ahe=function(e){switch(e){case 0:return(0,De.Z)("Error");case 1:return(0,De.Z)("Warning");case 2:return(0,De.Z)("Info");case 3:return(0,De.Z)("Debug");case 4:return(0,De.Z)("Verbose");default:return(0,De.Z)("Unknown")}};class xhe extends y.Component{constructor(e,t){super(e,t),this.onMenuPress=()=>{this.setState((e=>({isMenuOpen:!e.isMenuOpen})))},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})},this.onAllPress=()=>{this.props.onResetLogLevels()},this.onLogLevelSelect=e=>{this.props.onToggleLogLevel(e)},this._buttonID=(0,wf.Z)(),this.state={isMenuOpen:!1}}render(){const{logLevels:e}=this.props,{isMenuOpen:t}=this.state;let n;return n=e.length?1===e.length?Ahe(e[0]):(0,De.Z)("Custom"):(0,De.Z)("All"),y.createElement(y.Fragment,null,y.createElement(zZ.Z,{id:this._buttonID,hasMenu:!0,isMenuOpen:t,onPress:this.onMenuPress},n),y.createElement(mo.Z,{target:this._buttonID,isOpen:t,size:vc.ln,onMenuClose:this.onMenuClose},y.createElement(Ic.Z,{key:"all",isSelected:!e.length,onPress:this.onAllPress},(0,De.Z)("All")),y.createElement(go.Z,null),Nhe.map(((t,n)=>y.createElement(Ic.Z,{key:n,value:t,isSelected:-1!==e.indexOf(t),onSelect:this.onLogLevelSelect},Ahe(t))))))}}const Lhe=xhe,Ohe=(0,de.P1)((e=>e.ui.serverLogPage.logLevels),(e=>({logLevels:e}))),jhe=(0,f.$j)(Ohe,(function(e,t){const{serverEntityID:n}=t;return{onResetLogLevels(){e(Nme({serverEntityID:n}))},onToggleLogLevel(t){e(Ame({serverEntityID:n,logLevel:t}))}}}))(Lhe);function khe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-circle-backslash-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["g",void 0].concat([y.createElement.apply(y,["path",{d:"M280 518C148.56 518 42 411.44 42 280S148.56 42 280 42s238 106.56 238 238-106.56 238-238 238m0-42c108.25 0 196-87.75 196-196S388.25 84 280 84 84 171.75 84 280s87.75 196 196 196"}].concat([])),y.createElement.apply(y,["path",{d:"M157.246 125.568l277.186 277.186-31.678 31.678-277.186-277.186"}].concat([]))]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}khe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const Rhe=khe;function zhe(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-timer-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M364 84h-56v29.99c1.22.173 2.437.36 3.653.558 8.207 1.334 16.33 3.195 24.298 5.567 8.232 2.452 16.3 5.45 24.137 8.966 9.732 4.368 19.104 9.535 27.995 15.428 9.163 6.073 17.813 12.915 25.836 20.428 8.158 7.64 15.666 15.974 22.414 24.884 6.66 8.792 12.578 18.144 17.668 27.928 4.312 8.29 8.03 16.89 11.11 25.713 3.058 8.765 5.487 17.747 7.264 26.856C474.794 282.723 476 295.36 476 308c0 8.956-.604 17.91-1.818 26.785-1.35 9.864-3.456 19.624-6.297 29.166-2.904 9.754-6.576 19.277-10.968 28.457-5.02 10.496-10.983 20.54-17.784 29.982-6.88 9.547-14.615 18.477-23.084 26.648-8.758 8.45-18.297 16.087-28.46 22.78-10.073 6.632-20.757 12.334-31.878 17-12.24 5.137-25.002 9.015-38.028 11.556-12.2 2.38-24.622 3.586-37.05 3.625-12.443.038-24.89-1.09-37.117-3.395-13.052-2.462-25.848-6.263-38.126-11.327-11.153-4.6-21.876-10.24-31.992-16.815-10.205-6.63-19.79-14.213-28.598-22.61-8.517-8.12-16.305-17.003-23.24-26.51-6.857-9.397-12.877-19.403-17.96-29.865-4.446-9.148-8.174-18.643-11.137-28.372-2.897-9.516-5.062-19.254-6.474-29.1C84.66 326.732 84 317.365 84 308c0-12.028 1.09-24.054 3.283-35.88 1.657-8.94 3.94-17.765 6.83-26.385 2.974-8.87 6.59-17.524 10.804-25.874 5.062-10.025 10.99-19.613 17.69-28.627 6.67-8.97 14.103-17.37 22.193-25.085 8.096-7.72 16.85-14.75 26.136-20.985 9.017-6.055 18.538-11.36 28.434-15.838 7.823-3.54 15.88-6.56 24.102-9.036 7.958-2.398 16.07-4.283 24.27-5.643 1.416-.235 2.836-.455 4.258-.658V84h-56V56h168v28m-83.5 70h-1c-2.815.014-5.627.094-8.436.254-5.51.315-11.005.924-16.45 1.827-12.92 2.144-25.556 5.957-37.505 11.32-7.786 3.493-15.277 7.64-22.376 12.374-6.938 4.628-13.5 9.82-19.604 15.502-6.326 5.89-12.16 12.307-17.42 19.166-5.18 6.754-9.802 13.936-13.8 21.452-3.513 6.607-6.542 13.47-9.052 20.52-2.385 6.7-4.3 13.568-5.727 20.535-2.09 10.21-3.13 20.63-3.13 31.05 0 7.212.496 14.425 1.497 21.568 1.06 7.573 2.69 15.067 4.872 22.397 2.276 7.648 5.156 15.117 8.6 22.316 4.013 8.388 8.79 16.407 14.247 23.935 5.436 7.5 11.547 14.508 18.23 20.92 7.247 6.95 15.167 13.195 23.617 18.615 7.583 4.864 15.592 9.06 23.91 12.522 9.61 4 19.63 7.01 29.854 8.97C260.436 461.085 270.218 462 280 462s19.564-.915 29.172-2.758c10.223-1.96 20.243-4.97 29.855-8.97 8.888-3.7 17.424-8.238 25.464-13.533 7.87-5.182 15.263-11.084 22.062-17.606 6.573-6.304 12.59-13.187 17.96-20.545 5.57-7.636 10.44-15.783 14.518-24.31 3.444-7.198 6.324-14.666 8.6-22.315 2.183-7.33 3.812-14.823 4.873-22.397 1-7.143 1.497-14.356 1.497-21.568 0-10.42-1.04-20.84-3.13-31.052-1.46-7.12-3.428-14.136-5.886-20.976-2.48-6.895-5.455-13.61-8.895-20.08-4.143-7.787-8.957-15.217-14.367-22.184-5.016-6.46-10.544-12.525-16.515-18.116-6.425-6.018-13.363-11.49-20.716-16.33-6.868-4.523-14.098-8.496-21.6-11.863-11.95-5.363-24.585-9.176-37.506-11.32-5.445-.902-10.94-1.51-16.45-1.826-2.81-.16-5.62-.24-8.435-.253M252 336V185.167c8.998-2.085 18.374-3.167 28-3.167 34.77 0 66.27 14.115 89.078 36.922L252 336"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}zhe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const Uhe=zhe;class Vhe extends y.Component{constructor(e,t){super(e,t),this.onTextFilterChange=e=>{this._clearOnTextFilterChangeTimeout(),this.setState({filter:e},(()=>{this._timeoutID=window.setTimeout((()=>{this._timeoutID=null,this.props.onTextFilterChange(this.state.filter)}),200)}))},this.state={filter:e.filter,filterFromStore:e.filter}}static getDerivedStateFromProps(e,t){return e.filter!==t.filterFromStore?{filter:e.filter,filterFromStore:e.filter}:null}componentWillUnmount(){this._clearOnTextFilterChangeTimeout()}_clearOnTextFilterChangeTimeout(){this._timeoutID&&window.clearTimeout(this._timeoutID)}render(){const{filter:e}=this.state;return y.createElement(l1.Z,{className:"ServerLogFilterInput-input-7qdpRT TextInput-input-M2gRCL input-input-26w-zg",size:vc.ln,name:"filter",initialValue:e,value:e,placeholder:(0,De.Z)("Filter logs"),onChange:this.onTextFilterChange})}}const Bhe=Vhe,Fhe="ServerLogTimeFilterInputs-input-1Ijzgd TextInput-input-M2gRCL input-input-26w-zg";class Hhe extends y.Component{constructor(e,t){super(e,t),this._flushValues=()=>{this._timeoutID=window.setTimeout((()=>{this._timeoutID=null,this.props.onTimeFilterChange(this.state.timeFilterStart,this.state.timeFilterEnd)}),200)},this.onFilterStartChange=e=>{this._clearOnTextFilterChangeTimeout(),this.setState({timeFilterStart:e},this._flushValues)},this.onFilterEndChange=e=>{this._clearOnTextFilterChangeTimeout(),this.setState({timeFilterEnd:e},this._flushValues)},this.state={timeFilterStart:e.timeFilterStart,timeFilterStartFromStore:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,timeFilterEndFromStore:e.timeFilterEnd}}static getDerivedStateFromProps(e,t){return e.timeFilterStart!==t.timeFilterStartFromStore||e.timeFilterEnd!==t.timeFilterEndFromStore?{timeFilterStart:e.timeFilterStart,timeFilterStartFromStore:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,timeFilterEndFromStore:e.timeFilterEnd}:null}componentWillUnmount(){this._clearOnTextFilterChangeTimeout()}_clearOnTextFilterChangeTimeout(){this._timeoutID&&window.clearTimeout(this._timeoutID)}render(){const{isTimeFilterStartValid:e,isTimeFilterEndValid:t}=this.props,{timeFilterStart:n,timeFilterEnd:i}=this.state;return y.createElement("div",{className:"ServerLogTimeFilterInputs-container-3K-TEg"},y.createElement(l1.Z,{className:Fhe,size:vc.ln,name:"timeFilterStart",hasError:!e,initialValue:n,value:n,placeholder:"Jun 15, 2018 09:00:00",onChange:this.onFilterStartChange}),y.createElement("span",{className:"ServerLogTimeFilterInputs-separator-1FFNSx"},(0,De.Z)("to")),y.createElement(l1.Z,{className:Fhe,size:vc.ln,name:"timeFilterEnd",hasError:!t,initialValue:i,value:i,placeholder:"Jun 15, 2018 09:01:00",onChange:this.onFilterEndChange}))}}const _he=Hhe;class Qhe extends y.Component{render(){const{filter:e,timeFilterStart:t,timeFilterEnd:n,isTimeFilterStartValid:i,isTimeFilterEndValid:s,showTimeFilter:r,showRawText:a,title:o,unfilteredLogLinesCount:l,logLines:c,onTextFilterChange:d,onTimeFilterChange:u,onToggleTimeFilter:p,onToggleRaw:m,onClearLog:h}=this.props,g=l-c.length;return y.createElement(y.Fragment,null,y.createElement(Zhe,null,y.createElement(WR.Z,null,o,y.createElement(tr.Z,null),(0,De.Z)("Plex Media Server Logs"),g>0?y.createElement("span",{className:"ServerLogPageHeader-controlsHiddenLinesCount-3gasWc"},y.createElement(tr.Z,null),(0,De.Z)("{hiddenLinesCount} items hidden by filters",{hiddenLinesCount:g})):null),y.createElement(fk,null,y.createElement(jhe,null),y.createElement(Bhe,{filter:e,onTextFilterChange:d}),y.createElement(Rb.Z,{tooltip:(0,De.Z)("Time Filter"),isSelected:r,onPress:p},y.createElement(Uhe,null)),y.createElement(AM.Z,{className:"ServerLogPageHeader-rawButton-1ZZ-8W",isSelected:a,onPress:m},(0,De.Z)("Raw")),y.createElement(Rb.Z,{tooltip:(0,De.Z)("Clear Logs"),onPress:h},y.createElement(Rhe,null)))),r?y.createElement(_he,{timeFilterStart:t,timeFilterEnd:n,isTimeFilterStartValid:i,isTimeFilterEndValid:s,onTimeFilterChange:u}):null)}}const Ghe=Qhe,Yhe=(0,de.P1)((e=>e.ui.serverLogPage),(e=>({filter:e.filter,timeFilterStart:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,isTimeFilterStartValid:e.isTimeFilterStartValid,isTimeFilterEndValid:e.isTimeFilterEndValid,showTimeFilter:e.showTimeFilter,showRawText:e.showRawText,logLines:e.logLines,unfilteredLogLinesCount:e.unfilteredLogLinesCount}))),Whe=(0,f.$j)(Yhe,(function(e,t){const{serverEntityID:n}=t;return{onTextFilterChange(t){(0,Rt.c9)((()=>{e(Pme({serverEntityID:n,filter:t}))}))},onTimeFilterChange(t,i){(0,Rt.c9)((()=>{e(wme({serverEntityID:n,timeFilterStart:t,timeFilterEnd:i}))}))},onToggleTimeFilter(){e(Ome({serverEntityID:n}))},onToggleRaw(){e(jme())},onClearLog(){e(xme({serverEntityID:n}))}}}))(Ghe),Khe=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.serverLogPage.highlightedLineIndex),((e,{index:t})=>t),((e,t)=>({isHighlighted:e===t})))}))((function(e){const{index:t,level:n,message:i,thread:s,time:r,isHighlighted:a,onLogLinePress:o}=e,l=(0,HC.Z)(e),c=(0,y.useCallback)((e=>{o({index:t,time:r,thread:s,level:n,message:i})}),[t,r,s,n,i,o]),d=function(e){return["ServerLogLine-levelError-2iVvKd ServerLogLine-line-1H-I_Q","ServerLogLine-levelWarning-3vfApy ServerLogLine-line-1H-I_Q","ServerLogLine-levelInfo-2aOnc8 ServerLogLine-line-1H-I_Q","ServerLogLine-levelDebug-2s-U-U ServerLogLine-line-1H-I_Q","ServerLogLine-levelVerbose-2frbHd ServerLogLine-line-1H-I_Q"][e]||"ServerLogLine-levelUnknown-3RJUF6 ServerLogLine-line-1H-I_Q"}(n);return y.createElement("div",{style:l.style},y.createElement(AM.Z,{className:we()(d,a&&"ServerLogLine-isHighlighted-33ejr5"),tabIndex:t,onPress:c},y.createElement("span",{className:"ServerLogLine-fieldTime-1iiB-G ServerLogLine-field-3V2sVv"},r),y.createElement("span",{className:"ServerLogLine-fieldThread-39qtzu ServerLogLine-field-3V2sVv"},"[",s,"]"),y.createElement("span",{className:"ServerLogLine-fieldMessage-3GtrgN ServerLogLine-field-3V2sVv"},i)))})),qhe=function(e,t){const n=e.replace(new RegExp(`\\s?${(0,R.Z)(t)}`),"").trim();return n.length?`${t} ${n}`:t},$he="ServerLogLineModal-label-3_Yevx";function Jhe(e){return["ServerLogLineModal-containerError-3BiKRv ServerLogLineModal-container-35Nqd4","ServerLogLineModal-containerWarning-2efSLd ServerLogLineModal-container-35Nqd4","ServerLogLineModal-containerInfo-F13nUW ServerLogLineModal-container-35Nqd4","ServerLogLineModal-containerDebug-3MBEvt ServerLogLineModal-container-35Nqd4","ServerLogLineModal-containerVerbose-TSJMa8 ServerLogLineModal-container-35Nqd4"][e]||"ServerLogLineModal-containerUnknown-1jmE6B ServerLogLineModal-container-35Nqd4"}function Xhe(e){return["ServerLogLineModal-levelError-3vSmLn","ServerLogLineModal-levelWarning-2ARElE","ServerLogLineModal-levelInfo-2zXr03"][e]}class ege extends y.Component{constructor(e,t){super(e,t),this.onClosePress=e=>{this.props.onClose()},this.onShowContextPress=e=>{this.props.onJumpToContext(Math.max(this.props.index-10,0))},this.onFilterFromPress=()=>{this.props.onTimeFilterChange({timeFilterStart:this.props.time,timeFilterEnd:this.props.timeFilterEnd})},this.onFilterToPress=()=>{this.props.onTimeFilterChange({timeFilterStart:this.props.timeFilterStart,timeFilterEnd:this.props.time})},this.onThreadPress=()=>{this.props.onTextFilterChange({filter:qhe(this.props.filter,this.props.thread)})},this.onTimeMenuPress=()=>{this.setState({isTimeMenuOpen:!this.state.isTimeMenuOpen})},this.onTimeMenuClose=()=>{this.setState({isTimeMenuOpen:!1})},this.onKeyDown=e=>{e.keyCode===Wl.hY&&(e.preventDefault(),e.stopPropagation(),this.props.onClose())},this._timeMenuButtonID=(0,wf.Z)(),this.state={isTimeMenuOpen:!1}}componentDidMount(){document.addEventListener("keydown",this.onKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyDown)}render(){const{level:e,time:t,thread:n,message:i}=this.props,{isTimeMenuOpen:s}=this.state;return y.createElement(wN.Z,{className:Jhe(e),autoScroll:!0},y.createElement(AM.Z,{className:"ServerLogLineModal-closeButton-2YgDuE Link-link-3v-v0b","aria-label":(0,De.Z)("Close"),onPress:this.onClosePress},y.createElement(cc.Z,null)),y.createElement("p",null,y.createElement("span",{className:$he},(0,De.Z)("Time")),y.createElement(AM.Z,{kind:fo._8,id:this._timeMenuButtonID,onPress:this.onTimeMenuPress},t,y.createElement(gc.Z,{kind:fo._8,direction:s?yc.UP:yc.WV})),y.createElement(mo.Z,{size:vc.ln,isOpen:s,target:this._timeMenuButtonID,onMenuClose:this.onTimeMenuClose},y.createElement(ho.Z,{onPress:this.onFilterFromPress},(0,De.Z)("Filter from this time")),y.createElement(ho.Z,{onPress:this.onFilterToPress},(0,De.Z)("Filter to this time")))),y.createElement("p",null,y.createElement("span",{className:$he},(0,De.Z)("Level")),y.createElement("span",{className:Xhe(e)},Ahe(e))),y.createElement("p",null,y.createElement("span",{className:$he},(0,De.Z)("Thread")),y.createElement(AM.Z,{kind:fo._8,onPress:this.onThreadPress},n)),y.createElement("p",null,y.createElement("span",{className:$he},(0,De.Z)("Message")),i),y.createElement("div",{className:"ServerLogLineModal-action-2OqArR"},y.createElement($h.Z,{onPress:this.onShowContextPress},(0,De.Z)("Clear Filters and Jump to Context"))))}}const tge=ege;class nge extends y.Component{shouldComponentUpdate(e){return e.filter!==this.props.filter||e.logLevels!==this.props.logLevels}render(){const{className:e,lines:t}=this.props;return y.createElement(wN.Z,{className:e},y.createElement("pre",null,t.reduce(((e,t)=>e+`${t.time} [${t.thread}] ${Ahe(t.level)} — ${t.message}\n`),"")))}}const ige=nge;var sge=Object.assign;const rge=(0,sX.Z)(26,10,{outerPaddingTop:10,outerPaddingBottom:10});function age(e){return!!(e.filter||e.timeFilterStart||e.timeFilterEnd||e.logLevels.length)}class oge extends y.Component{constructor(e,t){super(e,t),this.onScroll=()=>{const e=this._scrollerRef.current;e.scrollTop+e.clientHeight>=e.scrollHeight?this.setState({isSticky:!0,scrollIndex:null}):e.scrollTop<this._lastScrollTop&&this.setState({isSticky:!1}),this._lastScrollTop=e.scrollTop},this.onJumpToContext=e=>{age(this.props)?this.setState({isSticky:!1,scrollIndexAfterFilterChange:e,selectedLogLine:null},(()=>{this.props.onClearFilter()})):this.setState({isSticky:!1,scrollIndex:e,selectedLogLine:null})},this.onTextFilterChange=(...e)=>{this.setState({scrollIndex:0,selectedLogLine:null}),this.props.onTextFilterChange(...e)},this.onTimeFilterChange=(...e)=>{this.setState({scrollIndex:0,selectedLogLine:null}),this.props.onTimeFilterChange(...e)},this.onLogLinePress=e=>{this.setState({selectedLogLine:e}),this.props.onHighlightLine(e)},this.onModalClose=e=>{this.setState({selectedLogLine:null})},this.onJumpToLatestPress=()=>{this.setState({isSticky:!0})},this.renderLogLine=e=>y.createElement(Khe,sge(sge({},e),{onLogLinePress:this.onLogLinePress})),this.state={isSticky:!0,scrollIndex:0,scrollIndexAfterFilterChange:null,selectedLogLine:null},this._scrollerRef=y.createRef()}static getDerivedStateFromProps(e,t){return null==t.scrollIndexAfterFilterChange||age(e)?e.showRawText&&(!t.isSticky||t.scrollIndex||t.selectedLogLine)?{isSticky:!0,scrollIndex:0,scrollIndexAfterFilterChange:null,selectedLogLine:null}:null:{isSticky:!1,scrollIndex:t.scrollIndexAfterFilterChange,scrollIndexAfterFilterChange:null}}render(){const{filter:e,timeFilterStart:t,timeFilterEnd:n,logLevels:i,showRawText:s,logLines:r}=this.props,{isSticky:a,scrollIndex:o,selectedLogLine:l}=this.state,c=!!l,d=c||s;return y.createElement(y.Fragment,null,s?y.createElement(ige,{className:"ServerLog-rawTextScroller-fA-hku",filter:e,logLevels:i,lines:r}):null,y.createElement(jC.Z,{className:d?"ServerLog-hiddenPageContent-2eip8V":"ServerLog-pageContent-1I_bS6 PageContent-pageContent-aqfjwt",scrollerClassName:"ServerLog-pageContentScroller-3OHHNO",smoothScroll:!1,keyPropName:"index",items:r,size:r.length,layout:rge,cellRenderer:this.renderLogLine,scrollIndex:a?r.length-1:o,ref:this._scrollerRef,onScroll:this.onScroll}),y.createElement(AM.Z,{className:a?"ServerLog-jumpLinkHidden-29QP_Y ServerLog-jumpLinkVisible-1r4HC0 Link-link-3v-v0b":"ServerLog-jumpLinkVisible-1r4HC0 Link-link-3v-v0b",onPress:this.onJumpToLatestPress},(0,De.Z)("Jump to latest")),c?y.createElement(tge,sge(sge({},l),{filter:e,timeFilterStart:t,timeFilterEnd:n,onJumpToContext:this.onJumpToContext,onTextFilterChange:this.onTextFilterChange,onTimeFilterChange:this.onTimeFilterChange,onClose:this.onModalClose})):null)}}const lge=oge,cge=(0,de.P1)((e=>e.ui.serverLogPage),(e=>({filter:e.filter,timeFilterStart:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,logLevels:e.logLevels,showRawText:e.showRawText,logLines:e.logLines}))),dge=(0,f.$j)(cge,(function(e,t){const{serverEntityID:n}=t;return{onTextFilterChange(...t){e(Pme(...t))},onTimeFilterChange(...t){e(wme(...t))},onHighlightLine(t){e(kme(t))},onClearFilter(){e(Tme({serverEntityID:n}))}}}))(lge);function uge(e){const t=e.dataTransfer.items,n=t[0];return""!==n.type||"file"!==n.kind?2:t.length>1?1:void 0}class pge extends y.Component{constructor(e,t){super(e,t),this.onDragOver=e=>{this.setState({isDraggingFile:!0,fileDragError:uge(e)}),e.preventDefault()},this.onDragLeave=()=>{this.setState({isDraggingFile:!1,fileDragError:null})},this.onDrop=e=>{if(e.preventDefault(),uge(e))return void this.setState({isDraggingFile:!1,fileDragError:null});this.setState({isDroppingFile:!0});const t=e.dataTransfer.files[0],n=new window.FileReader;n.onload=()=>{this.setState({title:t.name,isDraggingFile:!1,isDroppingFile:!1}),this.props.onDrop({result:n.result})},n.readAsText(t)},this.state={title:e.title,isDraggingFile:!1,isDroppingFile:!1,fileDragError:null}}render(){const{metricsPage:e,metricsPane:t}=this.props,{title:n,isDraggingFile:i,isDroppingFile:s,fileDragError:r}=this.state,a=i&&!s&&(1===r&&(0,De.Z)("Only one file at a time")||2===r&&(0,De.Z)("Only log files are allowed")||(0,De.Z)("Load log file"));return y.createElement(LC.Z,{metricsPage:e,metricsProperties:{pane:t},scrollDirection:vb.Hn,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop},y.createElement(Whe,{title:n}),y.createElement(dge,null),i?y.createElement("div",{className:"ServerLogPage-dropFileOverlay-3TyD78"},r?y.createElement(Rhe,{className:"ServerLogPage-icon-16ZILI"}):null,a,s?y.createElement(RC.Z,null):null):null)}}const mge=pge;var hge=Object.assign;const gge={dispatchClearLog:xme,dispatchLoadLogFile:Lme};class yge extends y.Component{constructor(e,t){super(e,t),this.onDrop=(...e)=>{this._stopServerEventManager(),this.props.dispatchLoadLogFile(...e)};const n=(0,M.DB)("appModel");this._serverEventManager=new cme({name:"MediaServerLogEventManager",appModel:n,isValidServer:t=>t.entityID()===e.serverEntityID,supportsLongPolling:!1,ServerEventConnection:Dhe,ServerRetryManager:lme})}componentDidMount(){this.props.dispatchClearLog(),this._serverEventManager.start(),(0,M.DB)("appModel").get("servers").forEach((e=>{const t=e.get("isResolved");t&&this._serverEventManager.onServerResolvedChange(e,t)}))}componentWillUnmount(){this._stopServerEventManager()}_stopServerEventManager(){this._isServerEventManagerStopped||(this._serverEventManager.stop(),this.props.dispatchClearLog(),this._isServerEventManagerStopped=!0)}render(){return y.createElement(mge,hge({onDrop:this.onDrop},this.props))}}const vge=(0,f.$j)((function(){return(0,de.P1)((0,HM.Z)(),(e=>({title:e.friendlyName})))}),gge)(yge);function fge(e){return(0,de.P1)((0,HM.Z)(),(t=>{if(!t||!t.activeConnection)return null;const n=t.activeConnection.uri,i=t.accessToken?{"X-Plex-Token":t.accessToken}:{};return C.Z.join([n,e],i)}))}var Ige=n(45915);const bge={troubleshootingSection:"ServerTroubleshootingPane-troubleshootingSection-Da7m_o",buttonContainer:"ServerTroubleshootingPane-buttonContainer-3DL-WG",buttonStatus:"ServerTroubleshootingPane-buttonStatus--w8Haz",buttonStatusSuccess:"ServerTroubleshootingPane-buttonStatusSuccess-FmbXsO ServerTroubleshootingPane-buttonStatus--w8Haz",buttonStatusError:"ServerTroubleshootingPane-buttonStatusError-3wrnvJ ServerTroubleshootingPane-buttonStatus--w8Haz",button:"ServerTroubleshootingPane-button-17GQfr",description:"ServerTroubleshootingPane-description-MFwWLo"};class Mge extends y.Component{static getDerivedStateFromProps(e,t){const n=e.isCleanBundlesInProgress!==t.isCleanBundlesInProgress,i=e.isOptimizeDatabaseInProgress!==t.isOptimizeDatabaseInProgress;if(!n&&!i)return null;const s={};return n&&(s.isCleanBundlesInProgress=e.isCleanBundlesInProgress,s.isCleanBundlesComplete=t.isCleanBundlesInProgress&&!e.isCleanBundlesInProgress),i&&(s.isOptimizeDatabaseInProgress=e.isOptimizeDatabaseInProgress,s.isOptimizeDatabaseComplete=t.isOptimizeDatabaseInProgress&&!e.isOptimizeDatabaseInProgress),s}constructor(e,t){super(e,t),this.state={isCleanBundlesInProgress:!1,isOptimizeDatabaseInProgress:!1,isCleanBundlesComplete:!1,isOptimizeDatabaseComplete:!1}}render(){const{machineIdentifier:e,downloadDatabasesUrl:t,downloadLogsUrl:n,cleanBundlesError:i,optimizeDatabaseError:s,isCleanBundlesInProgress:r,isOptimizeDatabaseInProgress:a,showDownloadDatabases:o,showDownloadLogs:l,onCleanBundlesPress:c,onOptimizeDatabasePress:d}=this.props,{isCleanBundlesComplete:u,isOptimizeDatabaseComplete:p}=this.state;return y.createElement("div",null,y.createElement("div",{className:bge.troubleshootingSection},y.createElement("div",{className:bge.buttonContainer},y.createElement(Ige.Z,{className:bge.button,isSpinning:a,onPress:d},(0,De.Z)("Optimize Database")),p&&!s?y.createElement("div",{className:bge.buttonStatusSuccess},y.createElement(fa.Z,null),y.createElement("div",{className:bge.textStatus},(0,De.Z)("Optimize database complete"))):null,p&&s?y.createElement("div",{className:bge.buttonStatusError},y.createElement(cc.Z,null),y.createElement("div",{className:bge.textStatus},s)):null),y.createElement("div",{className:bge.description},(0,De.Z)("Cleans up the library database and ensures it is operating as quickly as possible. This is especially useful when you've added or removed a large amount of media from the library."))),y.createElement("div",{className:bge.troubleshootingSection},y.createElement("div",{className:bge.buttonContainer},y.createElement(Ige.Z,{className:bge.button,isSpinning:r,onPress:c},(0,De.Z)("Clean Bundles")),u&&!i?y.createElement("div",{className:bge.buttonStatusSuccess},y.createElement(fa.Z,null),y.createElement("div",null,(0,De.Z)("Bundles cleaned"))):null,u&&i?y.createElement("div",{className:bge.buttonStatusError},y.createElement(cc.Z,null),y.createElement("div",null,i)):null),y.createElement("div",{className:bge.description},y.createElement(ax.Z,{className:bge.description,message:(0,De.Z)('Poster images and other metadata for items in your library are kept in "bundle" packages. When you remove items from your library, these bundles aren’t immediately removed. Removing them can reduce the size of your install. By default, your server will automatically clean up old bundles once a week as part of {openScheduledTass}Scheduled Tasks{closeScheduledTass}.'),tags:[{open:"openScheduledTass",close:"closeScheduledTass",component:AM.Z,kind:fo._8,to:(0,km.Z)(e,"settings","butler")}]}))),l||o?y.createElement("div",{className:bge.troubleshootingSection},y.createElement("div",{className:bge.buttonContainer},l?y.createElement($h.Z,{className:bge.button,to:n,target:"_self"},(0,De.Z)("Download Logs")):null,o?y.createElement($h.Z,{className:bge.button,to:t,target:"_self"},(0,De.Z)("Download Database")):null),y.createElement("div",{className:bge.description},(0,De.Z)("The Plex Media Server logs and database can be helpful to developers and forum community members in diagnosing server issues."))):null,y.createElement("div",{className:bge.description},y.createElement(ax.Z,{className:bge.description,message:(0,De.Z)("You can find additional documentation, guides and FAQs as well as our friendly Community Forums among our {openSupportLink}support resources{closeSupportLink}."),tags:[{open:"openSupportLink",close:"closeSupportLink",component:AM.Z,kind:fo._8,to:Np.av,target:"_blank"}]})))}}const Sge=Mge;var Ege=Object.prototype.hasOwnProperty,Dge=Object.getOwnPropertySymbols,Cge=Object.prototype.propertyIsEnumerable,Pge=Object.assign;const wge={dispatchCleanBundles:FS.ll,dispatchOptimizeDatabase:FS.Q6};class Tge extends y.Component{constructor(){super(...arguments),this.onCleanBundlesPress=()=>{this.props.dispatchCleanBundles({serverEntityID:this.props.serverEntityID,hideAlerts:!0})},this.onOptimizeDatabasePress=()=>{this.props.dispatchOptimizeDatabase({serverEntityID:this.props.serverEntityID,hideAlerts:!0})}}render(){const e=this.props,{dispatchCleanBundles:t,dispatchOptimizeDatabase:n}=e,i=((e,t)=>{var n={};for(var i in e)Ege.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Dge)for(var i of Dge(e))t.indexOf(i)<0&&Cge.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchCleanBundles","dispatchOptimizeDatabase"]);return y.createElement(Sge,Pge({onCleanBundlesPress:this.onCleanBundlesPress,onOptimizeDatabasePress:this.onOptimizeDatabasePress},i))}}const Zge=(0,f.$j)((function(){return(0,de.P1)((0,HM.Z)(),fge("/diagnostics/databases"),fge("/diagnostics/logs"),FM.k8(),FM.tk(),((e,t,n,i,s)=>{const r=e.diagnostics;return{machineIdentifier:e.machineIdentifier,downloadDatabasesUrl:t,downloadLogsUrl:n,cleanBundlesError:e.desktop.cleanBundlesError,optimizeDatabaseError:e.desktop.optimizeDatabaseError,isCleanBundlesInProgress:!!i,isOptimizeDatabaseInProgress:!!s,showDownloadDatabases:!(!t||!r||-1===r.indexOf("databases")),showDownloadLogs:!(!n||!r||-1===r.indexOf("logs"))}}))}),wge)(Tge);function Nge(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-status-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m458.541 390l-71.708 143.416-2.724 4.438c-1.15 1.3-2.192 2.705-3.45 3.9-2.527 2.399-5.452 4.34-8.645 5.735-1.591.696-3.29 1.109-4.934 1.664-1.716.261-3.432.523-5.148.785-4.604-.104-5.84.169-10.313-1.132-3.345-.974-6.496-2.523-9.31-4.577-2.814-2.055-5.249-4.584-7.195-7.475-2.601-3.863-2.718-5.124-4.218-9.478l-96.634-386.535-86.172 229.793-2.235 4.682c-2.66 3.738-3.128 4.909-6.699 7.872-2.672 2.217-5.708 3.953-8.974 5.131-1.626.587-3.31 1.034-5.014 1.332-1.703.298-3.445.299-5.168.449l-120 0 0-60 99.21 0 112.7-300.534 2.359-4.891c1.068-1.462 2.007-3.027 3.203-4.386 2.401-2.73 5.278-5.001 8.491-6.702 3.213-1.701 6.708-2.804 10.315-3.255 3.608-.451 7.267-.243 10.8.615 1.759.427 3.486 1.016 5.14 1.754 3.32 1.48 6.343 3.552 8.923 6.114 2.579 2.562 4.672 5.571 6.175 8.881.748 1.648 1.192 3.419 1.788 5.128l100.331 401.324 43.732-87.464 2.448-4.059c2.706-3.207 3.231-4.214 6.646-6.719 2.557-1.874 5.394-3.331 8.407-4.318 1.501-.491 3.047-.865 4.607-1.114 1.56-.248 3.15-.249 4.725-.374l120 0 0 60-101.459 0"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Nge.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const Age=Nge,xge=function(e){const{isActive:t}=e;return t?y.createElement(Age,null):null},Lge="ok",Oge="unknown",jge="waiting",kge="mapped",Rge="ok",zge="connecting",Uge="disconnecting",Vge="unreachable",Bge=wD.Z.extend({context:["server"],url:"/myplex/account",responseType:bA.AV,sessionAttrs:{remoteAccessState:bD.Z.oneOf(zge,Uge,Vge,Rge,"")},syncedAttrs:{username:bD.Z.string,mappingState:bD.Z.oneOf(Oge,jge,"failed",kge),mappingError:bD.Z.oneOf("badauth","unreachable","myplexgone","publisherror","doublenat","jumboframes",""),signInState:bD.Z.oneOf("none","unknown","invalid",Lge),publicAddress:bD.Z.string,publicPort:bD.Z.integer,privateAddress:bD.Z.string,privatePort:bD.Z.integer,subscriptionActive:bD.Z.boolean,subscriptionState:bD.Z.string},derivedAttrs:{signedIn(){return this.get("signInState")===Lge},isWaiting(){const e=this.get("remoteAccessState");return e===zge||e===Uge}},defaults:{signedIn:!1,mappingState:null,mappingError:null,signInState:null,publicAddress:null,publicPort:null,privateAddress:null,privatePort:null},isNew(){return!this.get("signedIn")},augmentResponse(e){let t=e.MyPlex;t||(D.Z.warn(`[Account] Failed to get reachable information for account - received ${JSON.stringify(e)}`),t={});const n=t.signInState===Lge;n||(t.username=null);const i=!n||t.mappingError,s=!i&&t.mappingState===kge;return i?t.remoteAccessState=Vge:s&&(t.remoteAccessState=Rge),t}}),Fge="RemoteAccessStateIcon-unknown-2CRMhA",Hge={[zge]:y.createElement(nQ,{className:Fge}),[Uge]:y.createElement(nQ,{className:Fge}),[Vge]:y.createElement(Jh.Z,{className:"RemoteAccessStateIcon-error-rQSL7G"}),[Rge]:y.createElement(fa.Z,{className:"RemoteAccessStateIcon-ok-1TU5TC"})},_ge=function(e){const{remoteAccessState:t}=e;return Hge[t]||null},Qge=function(e){const{isClaimed:t}=e;return t?null:y.createElement(Ce.Z,{className:"ServerIsClaimedIcon-icon-3mgYUw"})};function Gge(e){return!e.isShared}function Yge(e){return!!e.desktop.isSettingsPopulated}function Wge(e,t){return t>0}function Kge(e){return e.desktop.backgroundTranscodeJobs.length>0}function qge(e){const t=e.desktop.cloudAccount;return t&&t.remoteAccessState}const $ge=[{key:"status",title:()=>(0,De.Z)("Status"),isVisible:!0,metricsPage:et.Q_,metricsPanePrefix:"",groups:[{key:"server-dashboard",title:()=>(0,De.Z)("Dashboard"),isVisible:Gge,createStatusIndicator:(e,t)=>y.createElement(xge,{isActive:Wge(0,t)})},{key:"alerts",title:()=>(0,De.Z)("Alerts"),isVisible:Gge},{key:"sync",title:()=>(0,De.Z)("Sync"),isVisible:function(e,t){return!function(e,t){return!!e.features.find((e=>e.uuid===t))}(t,be.PL)}},{key:"conversion",title:()=>(0,De.Z)("Conversions"),isVisible:Gge,createStatusIndicator:e=>y.createElement(xge,{isActive:Kge(e)})}]},{key:"settings",title:()=>(0,De.Z)("Settings"),isVisible:Gge,metricsPage:et.L6,metricsPanePrefix:"server:",groups:[{key:"general",title:()=>(0,De.Z)("General"),isVisible:Yge,createStatusIndicator:e=>y.createElement(Qge,{isClaimed:!!e.isClaimed})},{key:"remoteAccess",title:()=>(0,De.Z)("Remote Access"),isVisible:e=>Yge(e),createStatusIndicator:e=>y.createElement(_ge,{remoteAccessState:qge(e)})},{key:"agents",title:()=>(0,De.Z)("Agents"),isVisible:Yge},{key:"library",title:()=>(0,De.Z)("Library")},{key:"channels",title:()=>(0,De.Z)("Plugins"),isVisible:Yge},{key:"network",title:()=>(0,De.Z)("Network")},{key:"transcoder",title:()=>(0,De.Z)("Transcoder")},{key:"languages",title:()=>(0,De.Z)("Languages"),isVisible:Yge},{key:"dlna",title:()=>(0,De.Z)("DLNA")},{key:"butler",title:()=>(0,De.Z)("Scheduled Tasks")},{key:"extras",title:()=>(0,De.Z)("Extras")}]},{key:"manage",title:()=>(0,De.Z)("Manage"),isVisible:!0,groups:[{key:"libraries",title:()=>(0,De.Z)("Libraries"),isVisible:Gge,metricsPage:et.L6,metricsPane:"server:libraries",paneComponent:function({machineIdentifier:e,providerIdentifier:t}){const n=(0,f.v9)(tn(e,t)),i=(0,f.v9)(on(e)),s=(0,f.v9)(en(e,t)),r=(0,y.useMemo)((()=>n.filter((({key:e,hubKey:t,type:n})=>e&&t&&n))),[n]),a=Hae({server:i,provider:s}),o=(0,f.v9)(function(e){return(0,de.P1)(hm(e),(e=>e.some((({type:e})=>e===Oa.QX))))}(i)),l=(0,y.useCallback)((()=>{a(FS.Wy({redirect:!1}))}),[a]),c=(0,y.useCallback)((()=>{a(FS.iE())}),[a]),d=(0,y.useCallback)((()=>{a(FS.zl())}),[a]);return y.createElement(dn,{machineIdentifier:e,providerIdentifier:t},y.createElement("div",{className:"ManageLibrariesPane-header-yeBNk4"},y.createElement("div",{className:"ManageLibrariesPane-libraryCount-1lirDe"},1===r.length?(0,De.Z)("1 library"):(0,De.Z)("{1} libraries",r.length)),y.createElement(zn,{className:uoe,size:We.Small,onPress:l},(0,De.Z)("Add Library")),o?y.createElement(zn,{className:uoe,size:We.Small,onPress:d},(0,De.Z)("Cancel Scan")):y.createElement(zn,{className:uoe,size:We.Small,onPress:c},(0,De.Z)("Scan Library Files"))),r.map(((e,t)=>y.createElement(doe,{key:t,index:t,contentDirectory:e}))),y.createElement(Gae,null))}},{key:"versions",title:()=>(0,De.Z)("Optimized Versions"),isVisible:e=>Gge(e)&&Yge(e),metricsPage:et.Q_,metricsPane:"versions"},{key:"dvr",title:()=>(0,De.Z)("Live TV & DVR"),isVisible:e=>Gge(e)&&e.livetv>=1&&Yge(e),metricsPage:et.L6,metricsPane:"server:dvr",paneComponent:function(e){const{serverEntityID:t}=e;return y.createElement(Gue,{className:"LiveTVSettingsPage-container-1_BlGb",serverEntityID:t},(({noDVRs:e,hasDVRFeature:n,hasLiveTVSetupFeature:i,dvrsError:s,onOpen:r})=>y.createElement("div",null,e&&!s?y.createElement(goe,{iconComponent:Soe,title:(0,De.Z)("Introducing Live TV & DVR"),text:(0,De.Z)("With Plex Pass and a digital tuner, you can record over-the-air broadcast TV and watch your favorite shows, movies, news, and sports on any device, anywhere in the world. Cut the cord and love TV again."),moreInfo:y.createElement(ax.Z,{message:(0,De.Z)("To get started recording TV, connect a tuner device to your network. Here's a {openLinkSupported}list of supported devices{closeLinkSupported}. However, some tuners not officially supported {openLinkUnsupported}work as well{closeLinkUnsupported}!"),tags:[{open:"openLinkSupported",close:"closeLinkSupported",component:AM.Z,kind:fo._8,to:Np.cW,target:"_blank"},{open:"openLinkUnsupported",close:"closeLinkUnsupported",component:AM.Z,kind:fo._8,to:Np.hJ,target:"_blank"}]})},n||i?y.createElement($h.Z,{kind:fo._8,size:vc.ln,onPress:r},(0,De.Z)("Set Up Plex DVR")):y.createElement(boe,{serverEntityID:t,origin:poe.od,modalMetricsProperties:{context:"dvrSetup"}})):null,n||i?y.createElement(Qpe,{serverEntityID:t,hasDVRFeature:n,hasLiveTVSetupFeature:i}):null)))}},{key:"help",title:()=>(0,De.Z)("Troubleshooting"),isVisible:e=>Gge(e)&&Yge(e),metricsPage:et.L6,metricsPane:"server:help",paneComponent:Zge},{key:"console",title:()=>(0,De.Z)("Console"),isVisible:e=>Gge(e)&&function(e){const t=e.diagnostics;return!(!t||-1===t.indexOf("streaminglogs"))}(e),metricsPage:et.L6,metricsPane:"server:console",pageComponent:vge},{key:"plugins",title:()=>(0,De.Z)("Plugins"),isVisible:function(e){return e.allowChannelAccess},metricsPage:et.L6,metricsPane:"server:plugins",paneComponent:function(e){const{serverEntityID:t}=e,[n,i]=(0,y.useState)({deprecatedPlugins:null,isDeprecatedPluginsPending:!0,deprecatedPluginsError:!1});return B6((()=>{var e;const n=null==(e=(0,M.DB)("appModel").get("entities").get("servers").get(t))?void 0:e.get("model"),s=new Wpe({},{server:n});s.fetch().then((()=>{i({deprecatedPlugins:s,isDeprecatedPluginsPending:!1,deprecatedPluginsError:!1})}),(()=>{i({deprecatedPlugins:null,isDeprecatedPluginsPending:!1,deprecatedPluginsError:!0})}))})),n.isDeprecatedPluginsPending?y.createElement(Gz.Z,null,y.createElement(RC.Z,null)):n.deprecatedPluginsError?y.createElement(_z.Z,{title:(0,De.Z)("Plugins are not available.")}):y.createElement(ame,{view:sme,viewOptions:{deprecatedPlugins:n.deprecatedPlugins}})}}]}];function Jge(e,t,n){return!0===e||E().isFunction(e)&&e(t,n)}function Xge(){return(0,de.P1)((0,HM.Z)(),Fae(),HB.Z,(0,de.P1)((0,de.P1)((0,HM.Z)(),(e=>e?e.desktop.settings:[])),(e=>e.reduce(((e,t)=>(!t.group||e.includes(t.group)||t.hidden||e.push(t.group),e)),[]))),((e,t,n,i)=>!e||e.isUnavailable?[]:$ge.reduce(((s,r)=>{if(!Jge(r.isVisible,e,n))return s;const a=r.groups.reduce(((s,a)=>((Jge(a.isVisible,e,n)||!1!==a.isVisible&&i.includes(a.key))&&s.push({key:a.key,title:a.title(),statusIndicator:a.createStatusIndicator&&a.createStatusIndicator(e,t),pageComponent:a.pageComponent,paneComponent:a.paneComponent,route:(0,km.Z)(e.machineIdentifier,r.key,a.key)}),s)),[]);return a.length>0&&s.push({key:r.key,title:r.title(),groups:a}),s}),[])))}function eye(e,t){const n=E().findWhere($ge,{key:e}),i=E().findWhere(n.groups,{key:t});return i.metricsPage?{metricsPage:i.metricsPage,metricsPane:i.metricsPane}:{metricsPage:n.metricsPage,metricsPane:n.metricsPanePrefix+i.key}}var tye=Object.assign;const nye="serverUpdate/fetchServerUpdateStatus",iye="serverUpdate/checkForServerUpdate",sye="serverUpdate/dismissServerUpdate",rye="serverUpdate/downloadServerUpdate",aye="serverUpdate/installServerUpdate";function oye(e,t){const{download:n,initialState:i,isChecking:s=!0}=t,r={download:n?"1":"0"},a=C.Z.join("/updater/check",r),o=e.getXHROptions(a,{type:"PUT"}),l=e.get("desktop").get("update"),c={isChecking:s};null!=i&&(c.state=i),l.set(c),g().ajax(o).then(null,(()=>{l.set({isChecking:!1,state:$me})}))}function lye(e,t){const n=C.Z.join(["/updater/apply"],t),i=e.getXHROptions(n,{type:"PUT"});return g().ajax(i)}function cye(e){const t=e.get("desktop").get("update");lye(e).then((()=>{t.set("state",Jme),e.set("isInstallingServerUpdate",!0)}),(()=>{t.set("state",$me),e.set("isInstallingServerUpdate",!1)}))}function dye(e,t,n,i){const s=e.get("deviceSettings").get("dismissedServerUpdateVersions");t((0,pn.T5)({dismissedServerUpdateVersions:tye(tye({},s),{[n.get("machineIdentifier")]:i})}))}const uye=(0,No.Z)(nye),pye=(0,No.Z)(iye),mye=(0,No.Z)(sye),hye=(0,No.Z)(rye),gye=(0,No.Z)(aye),yye={[nye](e,t){const n=(0,JM.SW)(e,t),i=(0,JM.Y7)(e,t).get("update");n.get("isFullOwnedServer")&&n.get("updater")&&!n.get("isOutOfDate")&&!i.get("isChecking")&&(i.set({isChecking:!0}),i.fetch().then((()=>{const e=i.get("state");oye(n,{isChecking:e===Wme||e===$me||e===Xme})}),(()=>{i.set({isChecking:!1})})))},[iye](e,t){const{download:n,initialState:i}=t;oye((0,JM.SW)(e,t),{download:n,initialState:i})},[sye](e,t,n){const i=(0,JM.SW)(e,t);(0,JM.Y7)(e,t).get("update").get("canInstall")?lye(i,{skip:1}).then((()=>{n(uye(t))}),(()=>{dye(e,n,i,t.version)})):dye(e,n,i,t.version)},[rye](e,t){oye((0,JM.SW)(e,t),{download:!0,initialState:qme})},[aye](e,t){const n=(0,JM.SW)(e,t);if(n.get("activeConnection").get("isLoopback"))cye(n);else{const e=new qne.Z({title:(0,De.Z)("Remote Installation"),confirmLabel:(0,De.Z)("Continue"),cancelLabel:(0,De.Z)("Cancel"),message:(0,De.Z)("The installer may display dialogs that require input. Make sure you have desktop access to the computer running Plex Media Server before continuing.")});ee.Z.trigger("show:modal",e),e.promise.then((()=>cye(n)))}}};var vye=n(73913),fye=n(28257),Iye=n.n(fye);const bye=m.Z.ItemView.extend({tagName:"li",template:Iye(),bindings:{a:{modelAttribute:"selected",manual:!0,formatter:function(e){this.$el.toggleClass("active",!!e)}}}}),Mye=Mne.Z.extend({tagName:"ul",className:"agents-nav nav nav-pills nav-pills-sm",itemView:bye});var Sye=n(93634),Eye=n(46341),Dye=n.n(Eye);const Cye=oae.Z.extend({name:"agentInfoModal",className:"agent-info-modal modal fade",template:Dye(),regions:{icon:".agent-icon-container"},serializeData:function(){return{agent:this.model.toJSON(),attribution:this.model.get("attribution").get("content")}},onRender:function(){oae.Z.prototype.onRender.apply(this,arguments),this.icon.show(new Sye.Z({model:this.model,url:"/system/agents/attribution/image?identifier="+this.model.id,className:"agent-icon",width:100,height:100}))}});var Pye=n(97174),wye=n.n(Pye);const Tye=m.Z.ItemView.extend({tagName:"li",className:"card card-sortable",template:wye(),events:{"change input[type=checkbox]":"onEnabledChange","click .settings-btn":"onSettingsClick","click .info-btn":"onInfoClick"},initialize:function(){this.attribution=this.model.get("attribution"),this.attribution.fetch()},bindings:{".info-btn":{model:"attribution",modelAttribute:"content",manual:!0,autohide:!0},".settings-btn":{modelAttribute:"hasPrefs",manual:!0,autohide:!0}},onEnabledChange:function(e){this.model.set("enabled",e.target.checked)},onSettingsClick:function(e){e.preventDefault();var t=new cne.Z([],{server:this.model.server,url:"/:/plugins/"+this.model.id+"/prefs"});t.fetch().done(E().bind((function(){ee.Z.trigger("show:modal",new Xpe({model:this.model,collection:t}))}),this))},onInfoClick:function(e){e.preventDefault(),ee.Z.trigger("show:modal",new Cye({model:this.model}))}}),Zye=Mne.Z.extend({tagName:"ul",className:"list contributor-list",itemView:Tye,events:{"change input[type=checkbox]":"save",update:"save"},save:function(){var e=[];this.$(":checked").each((function(t){e.push(this.name)})),this.trigger("save",e.join(","))},onRender:function(){this.sortable=new(Lne())(this.$el[0],{draggable:".card-sortable",animation:200})},onClose:function(){this.sortable.destroy()}});var Nye=n(39390),Aye=n.n(Nye);const xye=m.Z.Layout.extend({template:Aye(),ui:{agentLabel:".agent-label",typeNavItems:".agent-types-nav li",agentNavItems:".agents-nav li"},regions:{agentsList:".agents-list-container",contributorsList:".contributors-list-container"},events:{"click .agent-types-nav a":"onAgentTypeClick","click .agents-nav a":"onAgentClick"},initialize:function(){this.bindAllWhenRendered("onAgentsReset","onContributorsReset"),this.agentTypes=[],this.agentTypes.push((0,Ho.getMetadataType)(Ho.MOVIE)),this.agentTypes.push((0,Ho.getMetadataType)(Ho.SHOW)),this.agentTypes.push((0,Ho.getMetadataType)(Ho.ARTIST)),this.agentTypes.push((0,Ho.getMetadataType)(Ho.ALBUM)),this.agentTypes.push((0,Ho.getMetadataType)(Ho.PHOTO)),this.currentType=E().first(this.agentTypes),this.populateAgents()},serializeData:function(){return{currentType:this.currentType,agentTypes:this.agentTypes}},populateAgents:function(){var e=new vye.Z([],{server:this.model,mediaTypeID:this.currentType.id});e.populate({reset:!0}).then((()=>{var t=e.filter((e=>e.get("identifier")!==GM.Ut&&e.get("identifier")!==GM.WX&&e.get("identifier")!==GM.Zb));this.agents=e.clone(t),this.onAgentsReset()}))},selectAgent:function(e){this.currentAgent&&this.currentAgent.set("selected",!1),this.currentAgent=e,e.set("selected",!0),this.ui.agentLabel.text(e.get("name")),this.additionalAgents=new vye.Z([],{server:this.model,mediaTypeID:this.currentType.id,relatedAgentID:e.id}),this.contributors=new vye.Z([],{server:this.model,mediaTypeID:this.currentType.id,primaryAgentID:e.id}),this.contributorsList.show(new Zye({collection:this.contributors})),this.listenTo(this.contributorsList.currentView,"save",this.onContributorsSave),this.populateContributors()},populateContributors:function(){var e=[];e.push(this.additionalAgents.populate({reset:!0})),e.push(this.contributors.populate({reset:!0})),g().when.apply(g(),e).done(E().bind(this.onContributorsReset,this))},onAgentsReset:function(){if(this.agentsList.show(new Mye({collection:this.agents})),this.agents.length){var e=this.agents.findWhere({selected:!0})||this.agents.first();this.selectAgent(e)}},onContributorsReset:function(){var e=E().bind((function(e){return e.id===this.currentAgent.id?(e.set("isPrimary",!0),!0):!!this.contributors.get(e.id)}),this);this.contributors.reset(this.additionalAgents.filter(e))},onAgentTypeClick:function(e){e.preventDefault();var t=g()(e.currentTarget),n=t.data("type");this.currentType=(0,Ho.getMetadataType)(n),this.populateAgents(),this.ui.typeNavItems.removeClass("active"),t.parent("li").addClass("active")},onAgentClick:function(e){e.preventDefault();var t=g()(e.target).data("identifier"),n=this.agents.get(t);n&&this.selectAgent(n)},onContributorsSave:function(e){this.currentAgent.url="system/agents/"+this.currentAgent.id+"/config/"+this.currentType.id,this.currentAgent.save({order:e}).done(E().bind((function(){this.additionalAgents.fetch({silent:!0}),this.contributors.fetch({silent:!0})}),this))}});var Lye=n(44942),Oye=n.n(Lye);const jye=m.Z.Layout.extend({className:"form-group",template:Oye(),isDisabled:!0,isActive:!1,ui:{submitBtn:".submit-btn",message:".form-message"},events:{"change #server-settings-form input[name]":"onInputChange","input #server-settings-form input[type=text]":"onInputChange","change #server-settings-form select[name]":"onInputChange","submit #server-settings-form":"onSubmit"},initialize:function(e){this.changes=e.changes},serializeData:function(){return E().where(this.collection.toJSON(),{group:this.options.group,hidden:!1})},enable:function(){this.isDisabled=!1,this.ui.submitBtn.removeClass("disabled"),this.ui.message.text(""),this.ui.message.removeClass("has-error")},updateModel:function(e,t){var n=this.collection.get(e);if(n)return n.set("value",t)},onRender:function(){E().isEmpty(this.changes)||this.enable()},onInputChange:function(e){var t=e.currentTarget,n=t.name,i=t.value,s=t.value;n&&("checkbox"===t.type&&((s=t.checked)||(i="0")),this.updateModel(n,s)&&(this.changes[t.name]=i,this.enable()))},onSubmit:function(e){e.preventDefault(),this.trigger("save")},onBeforeSave:function(){this.isActive=!0,this.ui.submitBtn.addClass("active")},onAfterSave:function(e){this.isActive=!1,this.ui.submitBtn.removeClass("active"),e?(this.isDisabled=!0,this.ui.submitBtn.addClass("disabled"),this.ui.message.removeClass("has-error"),this.ui.message.text((0,De.Z)("Your changes have been saved."))):(this.ui.message.addClass("has-error"),this.ui.message.text((0,De.Z)("Your changes could not be saved.")))}}),kye=jye.extend({prefix:"channel.",serializeData:function(){var e=jye.prototype.serializeData.apply(this,arguments),t=this.options.channelSettings.toJSON();return E().each(t,(function(e){e.id=this.prefix+e.id}),this),e.unshift.apply(e,t),e},updateModel:function(e,t){var n=jye.prototype.updateModel.apply(this,arguments);if(n)return n;var i=e.replace(this.prefix,""),s=this.options.channelSettings.get(i);return s?s.set("value",t):void 0}}),Rye=function(){return(0,de.P1)((0,HM.Z)(),(e=>e?e.desktop.cloudAccount:null))},zye=function(e){return e.ui.authCodeExchange},Uye=function(e){const t=e&&e.responseJSON,n=!t&&e&&e.responseText&&Xi.Z.parseXML(e.responseText),i=t&&t.errors||n&&n.error;return i?Array.isArray(i)?i:[i]:[]};function Vye(e,t){switch(t){case"subscription":switch(e){case"1003":return(0,De.Z)("Subscriptions have been temporarily disabled: too many failed attempts. Please try again later.")}}switch(e){case"1001":return(0,De.Z)("The username or password is incorrect");case"1003":return(0,De.Z)("Sign in has been temporarily disabled: too many failed attempts. Please try again later.");case"1010-login":return(0,De.Z)("Login is required");case"1010-password":return(0,De.Z)("Password is required");case"1010-email":return(0,De.Z)("Email is required");case"1011-username":return(0,De.Z)("Username has already been taken");case"1011-email":return(0,De.Z)("Email has already been taken");case"1028":return(0,De.Z)("Invalid verification code");case"1029":return(0,De.Z)("Please enter the verification code");case"1030":return(0,De.Z)("This account only allows signing in with an email address");case"1031":return(0,De.Z)("The username or password is incorrect. Repeated attempts may temporarily disable sign in.");case"1032-password":return(0,De.Z)("Password must be at least 8 characters");case"1033-password":return(0,De.Z)("Password is too weak");case"1034-password":return(0,De.Z)("Password must be different from username or email address");case"1035-email":return(0,De.Z)("Email is not a valid email address");case"1036-username":return(0,De.Z)("Username must not be an email address");case"1037-username":return(0,De.Z)("Username contains invalid characters");case"1038-pin":return(0,De.Z)("Pin must be 4 digits");case"1039-passwordConfirmation":return(0,De.Z)("Confirm Password must match Password");case"1040":case"1044":return(0,De.Z)("Invalid Password")}}function Bye(e,t){if(!e)return;const n=String(e.code);return Vye(`${e.code}-${e.field}`,t)||Vye(n,t)||e.message||(0,De.Z)("An unknown error occurred")}function Fye(e){const t=e&&e[0];return t?E().isObject(t)?Bye(t):t:(0,De.Z)("There was a problem signing in to Plex.")}function Hye(e){return!!e.get("shortVersion")&&(0,qh.Z)(e.get("shortVersion"),Yh.Z.mediaProvidersServerRoot)}const _ye=function(e,t,n,i){const s=e.get("user"),r=e.get("cloudServer");return s.get("anonymous")?g().Deferred().reject().promise():g().ajax(r.getXHROptions("/api/claim/token",{headers:{"X-Plex-Token":n}})).promise().then((e=>Xi.Z.parseXML(e).token)).then((e=>g().ajax(t.getXHROptions(C.Z.join("/myplex/claim",{token:e}),{type:"POST"})))).then((()=>function(e,t){const n=e.get("cloudServer").get("resources"),i={clientIdentifier:t.get("machineIdentifier")};return function(e,t={}){let n=Math.floor(Math.max(t.times||0,0));const i=Math.floor(Math.max(t.delay||0,0));t.cancel&&t.cancel.always((()=>{n=-1}));const s=g().Deferred();let r;return t.maxDuration&&(r=window.setTimeout((()=>{s.reject("maxDuration")}),t.maxDuration)),function t(){n<0||e().done((function(){r&&window.clearTimeout(r),s.resolve(...arguments)})).fail((function(){n-=1,n<0?(r&&window.clearTimeout(r),s.reject(...arguments)):"pending"===s.state()&&window.setTimeout(t,i)}))}(),s.promise()}((()=>n.fetch().then((()=>n.findWhere(i)?g().Deferred().resolve().promise():g().Deferred().reject().promise()))),{times:30,delay:1e3})}(e,t))).then((()=>{let e;return Hye(t)&&(e=t.getXHROptions("/media/providers")),t.fetch(e)})).then((()=>function(e,t,n){const i=g().Deferred();return e.get("primaryServer")===t?i.resolve():(e.once("change:primaryServer",i.resolve),n()),function(e,t){const n=g().Deferred(),i=window.setTimeout((()=>{n.reject()}),t);return e.then(n.resolve,n.reject).always((()=>{window.clearTimeout(i)})),n.promise()}(i.promise(),2e3)}(e,t,i))).then((()=>{const e=s.get("email"),n=t.get("desktop").get("cloudAccount");t.set({myPlexSigninState:GB.Hq,myPlexUsername:e}),n.set({signedIn:!0,username:e})}))},Qye=function(e){return e.get("ui").get("authCodeExchange")},Gye=function(e){const t=e.get("cloudServer");return g().ajax(t.getXHROptions("/api/v2/pins",{method:"POST",dataType:"json",data:{strong:!0}})).then((e=>e))},Yye="server/claim/claimServer",Wye="server/claim/signInThenClaimServer",Kye="server/claim/signOutServer",qye="server/claim/createPIN",$ye=(0,No.Z)(Yye),Jye=(0,No.Z)(Wye),Xye=(0,No.Z)(Kye),eve=(0,No.Z)(qye);function tve(e,t,n){const{authToken:i}=t,s=(0,JM.SW)(e,t),r=Qye(e);r.set({errorMessage:null,isBusy:!0});const a=(0,M.DB)("metrics");return _ye(e,s,i,(()=>{n((0,pn.h9)({machineIdentifier:s.id,metricsProperties:{context:pS.SETTINGS}}))})).done((()=>{a.trackEvent({event:WZ.Yg,interaction:!0})})).fail((()=>{a.trackEvent({event:WZ.Jk,interaction:!1}),r.set({errorMessage:(0,De.Z)("There was a problem claiming this server."),isBusy:!1})}))}const nve={[Yye](e,t,n){tve(e,t,n).then((()=>{Qye(e).set({errorMessage:null,isBusy:!1})}))},[Wye](e,t,n){(function(e,t){const n=e.get("user"),{authToken:i}=t;return g().ajax(n.server.getXHROptions(E().result(n,"url"),{headers:{"X-Plex-Token":i}})).then((e=>n.signIn(e,{})))})(e,t).then((()=>tve(e,t,n))).then((()=>{Qye(e).set({errorMessage:null,isBusy:!1})})).fail((t=>{const n=Uye(t);ee.Z.trigger("show:alert",{message:Fye(n)}),Qye(e).set({errorMessage:(0,De.Z)("There was a problem claiming this server."),isBusy:!1})}))},[Kye](e,t,n){const i=(0,JM.SW)(e,t).get("desktop").get("cloudAccount"),s=Qye(e);var r;s.set({errorMessage:null,isBusy:!0}),(r=i,r.destroy({timeout:0}).promise().done((()=>{r.server.set({accessToken:void 0,myPlexSigninState:GB.Ar,myPlexSubscription:!1}),r.restoreDefaults()}))).done((()=>{s.set({errorMessage:null,isBusy:!1})})).fail((()=>{s.set({errorMessage:(0,De.Z)("There was a problem signing the server out."),isBusy:!1})}))},[qye](e,t,n){const i=Gye(e),s=Qye(e);i.then((e=>{s.set({pinID:e.id,code:e.code,isBusy:!0})})),i.fail((()=>{s.set({fatalErrorMessage:(0,De.Z)("An error occurred"),isBusy:!1})}))}},ive=function(e){const{serverEntityID:t,avatarUrl:n}=e;return y.createElement("div",{className:"ServerAvatar-avatar-3IDErp"},n?null:y.createElement(Ce.Z,{className:"ServerAvatar-icon-2YedBg"}),y.createElement(V4.Z,{serverEntityID:t,url:n,width:60,height:60}))},sve=(0,de.P1)(HB.Z,(e=>({avatarUrl:e.isSignedIn?e.thumb:null}))),rve=(0,f.$j)(sve)(ive),ave=function(e){const{isSigningOut:t,username:n,serverEntityID:i,onSignOutPress:s}=e;return y.createElement("div",{className:"ClaimedServer-container-2LXv6E"},y.createElement(rve,{serverEntityID:i}),y.createElement("div",{className:"ClaimedServer-message-1W7A46"},y.createElement("div",{className:"ClaimedServer-messageHeader-ZDhlAv"},(0,De.Z)("Server signed in as")),y.createElement("div",{className:"ClaimedServer-messageDetails-3eUJrs"},n)),y.createElement(Gk.Z,{className:"ClaimedServer-button-2nxb2B SpinnerButton-button-1UV-_p Button-button-31pe5T Link-link-3v-v0b",kind:fo.TP,size:vc.M2,isSpinning:t,onPress:s},(0,De.Z)("Sign Out")))};var ove=Object.prototype.hasOwnProperty,lve=Object.getOwnPropertySymbols,cve=Object.prototype.propertyIsEnumerable,dve=Object.assign;const uve=(0,de.P1)(zye,(e=>e.isBusy)),pve={dispatchSignOutServer:Xye};class mve extends y.Component{constructor(){super(...arguments),this.onSignOutPress=e=>{this.props.dispatchSignOutServer({serverEntityID:this.props.serverEntityID})}}render(){const e=this.props,{dispatchSignOutServer:t}=e,n=((e,t)=>{var n={};for(var i in e)ove.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&lve)for(var i of lve(e))t.indexOf(i)<0&&cve.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchSignOutServer"]);return y.createElement(ave,dve(dve({},n),{onSignOutPress:this.onSignOutPress}))}}const hve=(0,f.$j)((function(){return(0,de.P1)(uve,(0,de.P1)(Rye(),(e=>e&&e.username||null)),((e,t)=>({isSigningOut:e,username:t})))}),pve)(mve),gve=function(){return window!==window.top},yve=function(){return(0,tv.Z)()||gve()};var vve=Object.assign;const fve=function(e){return y.createElement(Gk.Z,vve({className:"ClaimServerButton-button-2zeted SpinnerButton-button-1UV-_p Button-button-31pe5T Link-link-3v-v0b",kind:fo.TP,size:vc.M2,target:"_blank"},e),(0,De.Z)("Claim Server"))},Ive=(0,de.P1)((0,Qt.Z)("authToken"),(e=>({authToken:e}))),bve={dispatchClaimServer:$ye};class Mve extends y.Component{constructor(){super(...arguments),this.onClaimServerPress=()=>{this.props.dispatchClaimServer({serverEntityID:this.props.serverEntityID,authToken:this.props.authToken})}}render(){const{isBusy:e,isDisabled:t}=this.props;return y.createElement(fve,{isSpinning:e,isDisabled:t,onPress:this.onClaimServerPress})}}const Sve=(0,f.$j)(Ive,bve)(Mve),Eve=function(e,t){const n=e.get("cloudServer");return g().ajax(n.getXHROptions(`/api/v2/pins/${t}`,{dataType:"json"})).promise().then((e=>e))},Dve="user/authCodeExchange/readStoredPIN",Cve="user/authCodeExchange/preloadPIN",Pve="user/authCodeExchange/resetAuthCodeExchange",wve="user/authCodeExchange/beginPolling",Tve="user/authCodeExchange/stopPolling",Zve="user/authCodeExchange/skipSignIn",Nve=(0,No.Z)(Dve),Ave=(0,No.Z)(Cve),xve=(0,No.Z)(Pve),Lve=(0,No.Z)(wve),Ove=(0,No.Z)(Tve),jve=(0,No.Z)(Zve);function kve(e,t){const n=Qye(e);return n.set({isBusy:!0}),Gye(e).then((({id:e,code:i,expiresIn:s})=>{const r=window.setTimeout((()=>{t(Ove())}),1e3*s);n.set({code:i,pinID:e,pinTimeout:r,isBusy:!1})})).fail((()=>{n.set({fatalErrorMessage:(0,De.Z)("An error occurred"),isBusy:!1})}))}const Rve={[Pve](e,t,n){const i=Qye(e);(0,Rt.c9)((()=>{i.set({code:null,pinID:null,authToken:null,errorMessage:null})}))},[Dve](e,t,n){const i=Qye(e),s=i.get("pinIDInitial"),r=(s?g().Deferred().resolve(s).promise():g().Deferred().reject().promise()).then((()=>Eve(e,s).fail((()=>{i.set({errorMessage:(0,De.Z)("There was an error signing in")})})))).then((({authToken:e})=>e?g().Deferred().resolve(e).promise():(i.set({errorMessage:(0,De.Z)("There was an error signing in")}),g().Deferred().reject().promise()))).then((e=>{i.set({authToken:e})}));t.shouldCreatePIN&&r.fail((()=>kve(e,n)))},[Cve](e,t,n){Qye(e).set({isBusy:!0,code:null,pinID:null}),kve(e,n)},[wve]:function(e,t,n){const{pinID:i}=t,s=Qye(e);function r(){const t=s.get("pinID");i===t&&Eve(e,i).then((({authToken:e})=>{e?s.set({authToken:e}):a()})).fail((e=>{s.set({code:null,pinID:null,isBusy:!1,fatalErrorMessage:e&&404===e.status?null:(0,De.Z)("An error occurred")})}))}function a(){window.setTimeout(r,2e3)}a()},[Tve](e,t,n){const i=Qye(e),s=i.get("pinTimeout");s&&window.clearTimeout(s),i.set({pinID:null,pinTimeout:null,code:null})},[Zve](e,t,n){e.set({skipSignIn:!0})}},zve={dispatchRedirectToUrl:tt.nL};class Uve extends y.Component{componentDidMount(){const{to:e,replace:t}=this.props;this.props.dispatchRedirectToUrl({url:e,replace:t})}render(){return null}}Uve.propTypes={to:ls().string.isRequired,replace:ls().bool,dispatchRedirectToUrl:ls().func.isRequired};const Vve=(0,f.$j)(null,zve)(Uve);var Bve=n(84571);const Fve=function e(t){return function(e,t=E().identity){return Object.keys(e).forEach((n=>{e[n]=t(e[n])})),e}(function(e,t=E().identity){return Object.keys(e).forEach((n=>{t(e[n])||delete e[n]})),e}(t),(t=>E().isObject(t)?e(t):t))};var Hve=n(23100),_ve=Object.assign;function Qve(e,t){let[,n]=e.match(/(^[^#]+)?/);return n=n||"",`${n}${t}`}var Gve=n(61201),Yve=Object.prototype.hasOwnProperty,Wve=Object.getOwnPropertySymbols,Kve=Object.prototype.propertyIsEnumerable,qve=Object.assign;function $ve(e){const t=e.context||{},{user:n}=t,i=((e,t)=>{var n={};for(var i in e)Yve.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Wve)for(var i of Wve(e))t.indexOf(i)<0&&Kve.call(e,i)&&(n[i]=e[i]);return n})(t,["user"]);return Fve(qve({},i))}const Jve=function(){return(0,de.P1)(((e,{signUp:t})=>t),((e,{email:t})=>t),((e,{providerID:t})=>t),((e,{userAuthToken:t})=>t),((e,{code:t})=>t),((e,{pinID:t})=>t),((e,{errorMessage:t})=>t),(e=>e.clientID),$e,Bve.Z,((e,t,n,i,s,r,a,o,l,c)=>{const d=$ve((0,M.DB)("metrics").toJSON());if(e){const{base:e}=G(window.location.href),t={forwardUrl:e,twop:"1",context:d};return c&&(t.lang=c),l.anonymous&&(t.guestToken=l.authToken),C.Z.join(["https://www.plex.tv","sign-up/"],t)}{const e={clientID:o,context:d};if(!yve()){const t=r?function(e,t){const{base:n,searchParams:i,hashPath:s,hashParams:r}=G(e),a=(0,B.Z)(r);return`${n}${i}#${s}?${(0,Hve.Z)(_ve(_ve({},a),t))}`}(window.location.href,{pinID:r}):window.location.href;e.forwardUrl=t,(0,I.LX)(Gve.Z.location.pathname,{path:Bz.Z.serverSetup})&&(e.skipSignInUrl=Qve(window.location.href,C.Z.join(["#!/setup"],{forwardUrl:t})))}return s&&(e.code=s),n&&(e.provider=n),t&&(e.email=t),i&&(e.authToken=i),a&&(e.error=a),c&&(e.language=c),l.anonymous&&(e.guestToken=l.authToken),C.Z.join(["https://app.plex.tv/auth",C.Z.join(["#!/"],e)])}}))};var Xve=Object.prototype.hasOwnProperty,efe=Object.getOwnPropertySymbols,tfe=Object.prototype.propertyIsEnumerable,nfe=Object.assign;const ife=(0,f.$j)((function(){return(0,de.P1)(Jve(),(e=>({serviceAuthUrl:e})))}),{})((function(e){const{component:t,serviceAuthUrl:n}=e,i=((e,t)=>{var n={};for(var i in e)Xve.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&efe)for(var i of efe(e))t.indexOf(i)<0&&tfe.call(e,i)&&(n[i]=e[i]);return n})(e,["component","serviceAuthUrl"]);return y.createElement(t,nfe({to:n},i))})),sfe={dispatchReadStoredPIN:Nve,dispatchCreatePIN:eve,dispatchSignInThenClaimServer:Jye};class rfe extends y.Component{constructor(){super(...arguments),this.onClaimServerPress=()=>{this.props.dispatchCreatePIN()}}componentDidMount(){this.props.dispatchReadStoredPIN({shouldCreatePIN:!1})}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchSignInThenClaimServer({serverEntityID:this.props.serverEntityID,authToken:this.props.authToken})}render(){const{isBusy:e,isDisabled:t,pinID:n,code:i}=this.props;return n?y.createElement(ife,{component:Vve,code:i,pinID:n}):y.createElement(fve,{isSpinning:e,isDisabled:t,onPress:this.onClaimServerPress})}}const afe=(0,f.$j)(zye,sfe)(rfe),ofe={dispatchPreloadPIN:Ave,dispatchBeginPolling:Lve,dispatchStopPolling:Ove,dispatchSignInThenClaimServer:Jye};class lfe extends y.Component{constructor(){super(...arguments),this.onClaimServerPress=()=>{this.props.dispatchBeginPolling({pinID:this.props.pinID})},this.onStillTherePress=()=>{this.props.dispatchPreloadPIN()}}componentDidMount(){this.props.dispatchPreloadPIN()}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchSignInThenClaimServer({serverEntityID:this.props.serverEntityID,authToken:this.props.authToken})}componentWillUnmount(){this.props.dispatchStopPolling()}render(){const{code:e,pinID:t,isBusy:n,isDisabled:i}=this.props;return n||this.props.code?y.createElement(ife,{component:fve,code:e,pinID:t,isSpinning:n,isDisabled:i||!t,onPress:this.onClaimServerPress}):y.createElement(ax.Z,{message:(0,De.Z)("Server claiming timed out. {openLink}Try again?{closeLink}"),tags:[{open:"openLink",close:"closeLink",component:AM.Z,kind:fo._8,onPress:this.onStillTherePress}]})}}const cfe=(0,f.$j)(zye,ofe)(lfe),dfe="UnclaimedServer-message-30oUkw",ufe="UnclaimedServer-messageHeader-EfR0fl",pfe="UnclaimedServer-messageDetails-7tuEJy",mfe=function(e){const{serverEntityID:t,isBusy:n,isAnonymousUser:i,isUserRestricted:s,ClaimServerButtonConnectorComponent:r}=e;return y.createElement("div",{className:"UnclaimedServer-container-TAJWcX"},y.createElement(ive,{serverEntityID:t}),i?y.createElement("div",{className:dfe},y.createElement("div",{className:ufe},(0,De.Z)("This server is unclaimed and not secure")),y.createElement("div",{className:pfe},(0,De.Z)("You need to sign in to claim this server."))):null,s?y.createElement("div",{className:dfe},y.createElement("div",{className:ufe},(0,De.Z)("This server is unclaimed and not secure")),y.createElement("div",{className:pfe},(0,De.Z)("You are signed in as a managed user.")),y.createElement("div",{className:pfe},(0,De.Z)("Switch to a full user account to claim this server."))):null,i||s?null:y.createElement("div",{className:dfe},y.createElement("div",{className:ufe},(0,De.Z)("This server is unclaimed and not secure")),y.createElement("div",{className:pfe},(0,De.Z)("Claiming this server will associate it with your Plex account. This helps your devices find each other and helps keep your media safe."))),y.createElement(r,{serverEntityID:t,isBusy:n,isDisabled:i||s}))};var hfe=Object.assign;const gfe="SIGNED_IN_BUTTON",yfe="SIGNED_OUT_POLL_BUTTON",vfe="SIGNED_OUT_LAUNCH_BUTTON",ffe={dispatchClaimServer:$ye},Ife={[gfe]:Sve,[yfe]:cfe,[vfe]:afe};class bfe extends y.Component{render(){const{serverEntityID:e,componentType:t,isBusy:n,isAnonymousUser:i,isUserRestricted:s}=this.props;return y.createElement(mfe,{serverEntityID:e,isBusy:n,isAnonymousUser:i,isUserRestricted:s,ClaimServerButtonConnectorComponent:Ife[t]})}}const Mfe=(0,f.$j)((function(){return(0,de.P1)(zye,Lt.Z,(0,Qt.Z)("isSignedIn"),(0,Qt.Z)("restricted"),((e,t,n,i)=>{let s;return s=n?gfe:yve()?yfe:vfe,hfe({componentType:s,isUserRestricted:!!i,isAnonymousUser:t},e)}))}),ffe)(bfe);var Sfe=Object.prototype.hasOwnProperty,Efe=Object.getOwnPropertySymbols,Dfe=Object.prototype.propertyIsEnumerable,Cfe=Object.assign;const Pfe=(0,f.$j)((function(){return(0,de.P1)((0,de.P1)((0,HM.Z)(),Rye(),((e,t)=>!!(e&&e.isClaimed&&t&&t.signedIn))),(e=>({isServerClaimed:e})))}))((function(e){const{isServerClaimed:t}=e,n=((e,t)=>{var n={};for(var i in e)Sfe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Efe)for(var i of Efe(e))t.indexOf(i)<0&&Dfe.call(e,i)&&(n[i]=e[i]);return n})(e,["isServerClaimed"]);return t?y.createElement(hve,Cfe({},n)):y.createElement(Mfe,Cfe({},n))})),wfe=bne.extend({template:()=>"",mountReact(){const e=(0,M.DB)("appStore"),t=this.model.entityID();v.render(y.createElement(f.zt,{store:e},y.createElement(Pfe,{serverEntityID:t})),this.el)}});var Tfe=n(70716),Zfe=n(42094),Nfe=n.n(Zfe);function Afe(e){return e?e.split("\n"):[]}const xfe=oae.Z.extend({name:"releaseNotesModal",template:Nfe(),serializeData:function(){var e=this.model.toJSON();return e.escapedVersion=E().escape(e.version.replace(/-.*/gi,"")),e.added=Afe(e.added),e.fixed=Afe(e.fixed),e}});var Lfe=n(35549),Ofe=n.n(Lfe),jfe=Object.assign;const kfe=jfe(jfe({},o),{CHECKING:"checking"}),Rfe=m.Z.ItemView.extend({tagName:"span",className:"check-for-updates-container",template:Ofe(),ui:{checkForUpdatesBtn:".check-for-updates-btn",downloadUpdatesContainer:".downloading-updates-container",downloadProgressContainer:".downloading-progress-container",downloadProgressLabel:".downloading-progress-label",updateProgressLabel:".downloading-updates-label",updateErrorMessage:".update-error-message",installManualLink:".install-manual-link"},modelEvents:{"change:isChecking":"onIsCheckingChange","change:state":"onStateChange","change:progress":"onProgressChange"},events:{"click .check-for-updates-btn":"onCheckForUpdatesClick","click .available-updates-btn":"onDownloadUpdatesClick","click .install-updates-btn":"onInstallUpdatesClick","click .install-manual-link":"onInstallManualClick","click .release-notes-btn":"onInfoClick"},initialize:function(){M.DB("appStore").dispatch(uye({serverEntityID:this.model.server.entityID()}))},serializeData:function(){return{canCheckForUpdate:this.canCheckForUpdate(this.model)}},checkForUpdates:function(e={}){M.DB("appStore").dispatch(pye({serverEntityID:this.model.server.entityID(),download:e.download,initialState:e.initialState}))},dismissUpdates:function(){M.DB("appStore").dispatch(mye({serverEntityID:this.model.server.entityID(),version:(0,Tfe.Z)(this.model.get("version"))}))},downloadUpdates:function(){M.DB("appStore").dispatch(hye({serverEntityID:this.model.server.entityID()}))},installUpdates:function(){M.DB("appStore").dispatch(gye({serverEntityID:this.model.server.entityID()}))},waitForInstall:function(){this.onWaitingForInstallCheck(),this.listenTo(this.model.server,"change:isConnected",this.onServerConnectedChange)},setCurrentViewState:function(e){this.$el.removeClass(this.currentViewState),this.currentViewState=e,this.$el.addClass(this.currentViewState)},showUpdateState:function(){var e=this.model.get("state");this.model.previous("state")===Jme&&this.stopListening(this.model.server,"change:isConnected",this.onServerConnectedChange);var t=e;this.model.get("canInstall")||e!==Yme?this.model.get("isChecking")&&(t=kfe.CHECKING):t=kfe.NOTIFY,this.setCurrentViewState(t);var n=!(!this.model.get("added")&&!this.model.get("fixed"));if(this.$el.toggleClass("has-release-notes",n),t===kfe.INSTALLING)this.waitForInstall();else if(t===kfe.ERROR||t===kfe.NOTIFY){var i;this.model.get("error")?(i=this.model.get("error"),this.ui.installManualLink.addClass("hidden")):this.model.get("canInstall")?(i=(0,De.Z)("Something went wrong."),this.ui.installManualLink.removeClass("hidden")):(i=(0,De.Z)("An update is available."),this.ui.installManualLink.removeClass("hidden"));var s=M.DB("appModel").get("user").server,r=this.model.get("downloadURL")||s.get("appsUrl");this.ui.installManualLink.attr("href",r),this.ui.updateErrorMessage.text(i)}},canCheckForUpdate:function(e){const t=e.get("state");return!e.get("isChecking")&&(t===Wme||t===$me||t===Xme)},onViewStateChange:function(e){this.isRendered&&(this.showUpdateState(),this.ui.checkForUpdatesBtn.toggleClass("active",!this.canCheckForUpdate(e)))},onRender:function(){this.showUpdateState()},onIsCheckingChange:function(e){this.onViewStateChange(e)},onStateChange:function(e){this.onViewStateChange(e)},onProgressChange:function(e,t){E().isNumber(t)?(this.ui.downloadUpdatesContainer.css({"background-size":t+"% 100%"}),this.ui.downloadProgressContainer.removeClass("hidden"),this.ui.downloadProgressLabel.text(t)):this.ui.downloadProgressContainer.addClass("hidden")},onServerConnectedChange:function(e,t){t?this.checkForUpdates():this._waitingTimeoutID&&(this._waitingTimeoutID=window.clearTimeout(this._waitingTimeoutID))},onWaitingForInstallCheck:function(){var e=this.model.server;if(e.get("isConnected")&&this.model.get("state")===Jme){var t=e.getXHROptions("/updater/check",{type:"PUT"});g().ajax(t).promise().always((()=>{this._waitingTimeoutID=window.setTimeout(this.onWaitingForInstallCheck.bind(this),2e3)}))}},onCheckForUpdatesClick:function(e){e.preventDefault(),this.ui.checkForUpdatesBtn.isDisabled()||(this.ui.checkForUpdatesBtn.addClass("active"),this.checkForUpdates({download:!0}))},onDownloadUpdatesClick:function(e){e.preventDefault(),this.downloadUpdates()},onInstallUpdatesClick:function(e){e.preventDefault(),this.installUpdates()},onInstallManualClick:function(){this.dismissUpdates()},onInfoClick:function(e){e.preventDefault(),ee.Z.trigger("show:modal",new xfe({model:this.model}))}});var zfe=n(93824),Ufe=n.n(zfe);const Vfe=jye.extend({template:Ufe(),regions:{signIn:".sign-in-region",update:".update-region"},serializeData:function(){var e=jye.prototype.serializeData.apply(this,arguments),t=E().findWhere(e,{id:"FriendlyName"});return t&&(t.placeholder=this.model.get("friendlyName")),e},bindings:{".version":{modelAttribute:"shortVersion",formatter:function(e){return(0,De.Z)("Version {1}",e)}}},onRender:function(){jye.prototype.onRender.apply(this,arguments),this.signIn.show(new wfe({model:this.model})),this.model.get("updater")&&this.update.show(new Rfe({model:this.model.get("desktop").get("update"),collection:this.collection}))}}),Bfe=jye.extend({prefix:"account.",serializeData:function(){const e=this.options.account,t=[],n=c1.MP.map((e=>({value:e,label:c1.ZP[e]})));return t.push({id:this.prefix+"autoSelectAudio",label:(0,De.Z)("Automatically select audio and subtitle tracks"),summary:(0,De.Z)("Automatically select audio and subtitle tracks in your preferred language when possible."),default:!1,value:e.get("autoSelectAudio"),type:"bool",group:"account.language",advanced:!1,hidden:!1}),t.push({id:this.prefix+"defaultAudioLanguage",label:(0,De.Z)("Prefer audio tracks in"),default:"en",value:e.get("defaultAudioLanguage"),type:"text",group:"account.language",advanced:!1,hidden:!1,enumValues:n}),t.push({id:this.prefix+"subtitleMode",label:(0,De.Z)("Subtitle mode"),default:1,value:parseInt(e.get("subtitleMode"),10),type:"int",group:"account.language",advanced:!1,hidden:!1,enumValues:[{value:0,label:(0,De.Z)("Manually selected")},{value:1,label:(0,De.Z)("Shown with foreign audio")},{value:2,label:(0,De.Z)("Always enabled")}]}),t.push({id:this.prefix+"defaultSubtitleLanguage",label:(0,De.Z)("Prefer subtitles in"),default:"en",value:e.get("defaultSubtitleLanguage"),type:"text",group:"account.language",advanced:!1,hidden:!1,enumValues:n}),t},updateModel:function(e,t){const n=jye.prototype.updateModel.apply(this,arguments);if(n)return n;const i=e.replace(this.prefix,""),s=this.options.account;return s.has(i)?s.set(i,t):void 0}});var Ffe=n(23450),Hfe=n.n(Ffe);const _fe=jye.extend({className:"remote-access-container",template:Hfe(),ui:{manualPortMappingMode:"#ManualPortMappingMode",manualPortMappingPort:"#ManualPortMappingPort",wanTotalMaxUploadRate:"#WanTotalMaxUploadRate",uploadContainer:".remote-access-upload-container",submitBtn:".submit-btn",message:".form-message"},events:{"change .remote-access-error-container input[id]":"onErrorInputChange","click .sign-in-link":"onSignInClick","click .remote-access-enable-btn":"onEnableClick","click .retry-btn":"onRetryClick","click .remote-access-disable-btn":"onDisableClick","change input[name=WanTotalMaxUploadRate]":"onTotalRateChange","keyup input[name=WanTotalMaxUploadRate]":"onTotalRateChange","change select[name=WanPerStreamMaxUploadRate]":"onPerStreamRateChange","submit #remote-access-upload-form":"onUploadFormSubmit"},initialize:function(e){this.cloudAccount=e.cloudAccount,this.changes=e.changes,this.listenTo(this.cloudAccount,{"change:signInState":this.render,"change:remoteAccessState":this.render})},serializeData:function(){var e=this.collection.get("PublishServerOnPlexOnlineKey"),t=this.collection.get("ManualPortMappingMode"),n=this.collection.get("ManualPortMappingPort"),i=this.collection.get("WanTotalMaxUploadRate"),s=this.collection.get("WanPerStreamMaxUploadRate"),r=this.cloudAccount.toJSON(),a=!e.get("value"),o=!r.signedIn,l=a||o;const c=!(!r.privateAddress||null==r.privatePort),d=!(!r.publicAddress||null==r.publicPort);var u={forceAdvanced:!a&&!!r.mappingError,isDisabled:a,isSignedOut:o,isUnavailable:l,canEditPort:!l&&t&&t.get("value"),hasPrivateAddress:c,hasPublicAddress:d,cloudAccount:r,hasMappingSettings:!(!t||!n),hasUploadLimitSettings:!(!i||!s),mappingModeSetting:t?t.toJSON():null,mappingPortSetting:n?n.toJSON():null,uploadSettings:[]};return i&&(u.totalRateSettingID=i.id,u.totalRateSettingValue=i.get("value")/1e3),s&&u.uploadSettings.push(s.toJSON()),u},enable:function(){},enableUploadForm:function(){this.isDisabled=!1,this.ui.message.text(""),this.ui.message.removeClass("has-error"),this.ui.submitBtn.removeClass("disabled")},updateUploadSetting:function(e,t){e&&this.updateModel(e,t)&&(this.changes[e]=t,this.enable())},connect:function(){return One.Z.execute("connectServer",{cloudAccount:this.cloudAccount,value:!0})},disconnect:function(){return One.Z.execute("connectServer",{cloudAccount:this.cloudAccount,value:!1})},reconnect:function(){return One.Z.execute("reconnectServer",{cloudAccount:this.cloudAccount})},saveChanges:function(){if(E().isEmpty(this.changes))return g().Deferred().resolve().promise();var e=this.collection.first().save(this.changes);return e.done(E().bind((function(){this.changes={}}),this)),e},onErrorInputChange:function(e){jye.prototype.onInputChange.apply(this,arguments),this.ui.manualPortMappingPort.prop("disabled",!this.ui.manualPortMappingMode.prop("checked"))},onSignInClick:function(e){e.preventDefault(),(0,Ine.Z)("serverSettings",{machineIdentifier:this.model.id,settingsSection:"settings",settingsGroup:"general"})},onEnableClick:function(e){e.preventDefault(),this.connect()},onDisableClick:function(e){e.preventDefault(),this.disconnect()},onRetryClick:function(e){e.preventDefault(),this.cloudAccount.set("remoteAccessState",zge),this.saveChanges().always(E().bind(this.reconnect,this))},onTotalRateChange:function(e){var t=e.currentTarget,n=parseFloat(t.value,10),i=E().isNaN(n)?0:Math.max(n,0);this.updateUploadSetting(t.name,1e3*i),this.enableUploadForm()},onPerStreamRateChange:function(e){var t=e.currentTarget;this.updateUploadSetting(t.name,t.value),this.enableUploadForm()},onUploadFormSubmit:function(e){e.preventDefault(),this.trigger("save");var t=this.collection.get("WanTotalMaxUploadRate").get("value"),n=!t;this.ui.wanTotalMaxUploadRate.val(t/1e3),this.ui.uploadContainer.toggleClass("show-warning",n)}});var Qfe=n(60235),Gfe=n.n(Qfe);const Yfe=m.Z.ItemView.extend({className:"loading",template:Gfe(),initialize:function(e){e&&e.inline&&this.$el.addClass("loading-inline")}});var Wfe=n(38784),Kfe=n.n(Wfe);const qfe=m.Z.ItemView.extend({template:Kfe()});var $fe=n(62779);const Jfe="pending",Xfe="failed",eIe="complete";var tIe=n(89001);const nIe=Sye.Z.extend({background:!0,setup:function(e){this.model=e.model,e.noPlaceholder||(this.placeholderClass=kne.Z.playlist);const t=(0,tIe.Z)(),n={width:Math.round((e.width||e.height||256)*t),height:Math.round((e.height||e.width||256)*t),rows:e.rows||2,cols:e.columns||2,border:e.border||0,media:e.media||"thumb",repeat:e.unique?0:1},i=this.model.get("composite");i&&(this.url=this.model.server.resolveUrl(C.Z.join(i,n),{appendToken:!0}))}});var iIe=n(74527);const sIe=["Bytes","KB","MB","GB","TB"],rIe=function(e,t){if(e=parseInt(e,10),t=t||1,E().isNaN(e))return"";if(0===e)return"0 Bytes";const n=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return(e/Math.pow(1024,n)).toFixed(t)+" "+sIe[n]},aIe={OK:"ok",FILE_UNAVAILABLE:"sourceFileUnavailable",METADATA_ERROR:"sourceFileMetadataError",PROFILE_ERROR:"clientProfileError",IO_ERROR:"ioError",TRANSCODER_ERROR:"transcoderError",UNKNOWN_ERROR:"unknownError",ANALYSIS_ERROR:"mediaAnalysisError",DOWNLOAD_FAILED:"downloadFailed",CANNOT_TRANSCODE:"cannotTranscode"};var oIe=n(66330),lIe=n.n(oIe);const cIe=m.Z.Layout.extend({tagName:"li",className:"striped-list-item version-generator-metadata-list-item",template:lIe(),ui:{poster:".media-poster"},regions:{statusRegion:".conversion-status-region"},events:{"click .enable-btn":"onEnableClick","click .retry-btn":"onRetryClick"},modelEvents:{"change:processingState":"onProcessingStateChange"},initialize:function(e){this.generator=e.generator,this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.type=this.model.get("type"),this.image=new Rne.Z({model:this.model,type:"movie",height:60,modelAttribute:"episode"===this.type?"grandparentThumb":"thumb"})},bindings:{".generator-metadata-title":{modelAttribute:"title",formatter:function(e){return this.model.get("grandparentTitle")||this.model.get("parentTitle")||e}},".generator-metadata-episode-index":{modelAttribute:"index",autohide:!0,formatter:function(e){if("episode"===this.type)return(0,la.Z)({seasonIndex:this.model.get("parentIndex"),episodeIndex:e,date:this.model.get("originallyAvailableAt"),noLeadingZero:!0,separator:" · "})}},".generator-metadata-year":{modelAttribute:"year",autohide:!0,formatter:function(e){if("movie"===this.type)return e}},".conversion-status-failed-message":{modelAttribute:"processingStateContext",formatter:function(e){return this.getErrorMessage(e)}}},getErrorMessage:function(e){var t=aIe;switch(e){case t.FILE_UNAVAILABLE:return(0,De.Z)("File unavailable");case t.METADATA_ERROR:return(0,De.Z)("Invalid metadata");case t.PROFILE_ERROR:return(0,De.Z)("Invalid profile");case t.ANALYSIS_ERROR:return(0,De.Z)("Unable to analyze")}return(0,De.Z)("Unable to convert")},onRender:function(){this.image.setElement(this.ui.poster),this.statusRegion.show(new Gne({model:this.model,generator:this.generator,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting,initialState:this.model.get("processingState"),initialErrorMessage:this.getErrorMessage(this.model.get("processingStateContext"))}))},onClose:function(){this.image.close()},onProcessingStateChange:function(e,t){this.statusRegion.currentView&&this.statusRegion.currentView.enterState(t)},onEnableClick:function(e){e.preventDefault(),One.Z.execute("enableVersionGenerator",{generator:this.model.generator,ratingKey:this.model.id})},onRetryClick:function(e){e.preventDefault(),One.Z.execute("reprocessVersionGenerator",{generator:this.model.generator,ratingKey:this.model.id})}}),dIe=Mne.Z.extend({tagName:"ul",className:"list version-generator-metadata-list",itemView:cIe});var uIe=n(63565),pIe=n.n(uIe);const mIe=oae.Z.extend({mixins:[ne.Z],name:"versionGeneratorMetadataModal",className:"version-generator-metadata-modal modal fade",template:pIe(),pageSize:20,scrollThreshold:50,ui:{body:".modal-body",loading:".loading",errorMessage:".error-message"},regions:{listRegion:".list-region"},initialize:function(e){this.status=this.model.get("status"),this.listModel=e.listModel,this.collection=this.listModel.get("metadataItems"),this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.handleScroll=E().throttle(this.whenRendered(this.onScroll),100)},states:{base:{},loading:{onEnter:function(){this.ui.loading.removeClass("hidden")},onExit:function(){this.ui.loading.addClass("hidden")}},error:{onEnter:function(){this.ui.errorMessage.removeClass("hidden")},onExit:function(){this.ui.errorMessage.addClass("hidden")}}},bindings:{".generator-title":{modelAttribute:"title"},".generator-items-count":{model:"status",modelAttribute:"itemsCount",formatter:function(e){return 1===e?(0,De.Z)("{1} item",e):(0,De.Z)("{1} items",e)}},".generator-total-size":{model:"status",modelAttribute:"totalSize",formatter:function(e){return e?rIe(e):(0,De.Z)("0 files")}},".generator-failure-container":{model:"status",modelAttribute:"failure",manual:!0,autohide:function(e){return!!e}},".generator-failure-message":{model:"status",modelAttribute:"failure",formatter:function(e){return e}}},populatePage:function(){this.enterState("loading");var e=this.listModel.populateRange({start:0,end:this.listModel.get("populatedRange").end+this.pageSize});return e.done(this.whenRendered((function(){this.enterState("base")}))),e.fail(this.whenRendered((function(){this.enterState("error")}))),e},onRender:function(){oae.Z.prototype.onRender.apply(this,arguments),this.ui.body.on("scroll",this.handleScroll),this.model.fetch(),this.populatePage(),this.listRegion.show(new dIe({collection:this.collection,itemViewOptions:{generator:this.model,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}}))},onClose:function(){this.ui.body.off("scroll",this.handleScroll),this.collection.reset()},onScroll:function(){"error"!==this.currentState&&this.ui.body.prop("scrollHeight")-this.ui.body.innerHeight()-this.ui.body.scrollTop()<this.scrollThreshold&&this.listModel.get("populatedRange").end<this.listModel.get("totalSize")&&this.populatePage()}});var hIe=n(15379),gIe=n.n(hIe);const yIe=m.Z.ItemView.extend({className:"striped-list-item media-list-item playlist-item version-generator-item",tagName:"li",template:gIe(),ui:{poster:".media-poster",status:".generator-status"},events:{"click .playlist-inner-item":"onClick","click .retry-btn":"onRetryClick","click .edit-btn":"onEditClick","click .delete-btn":"onDeleteClick"},attributes:function(){return{"data-generator-id":this.model.id}},initialize:function(e){this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.status=this.model.get("status"),this.compositeImage=new nIe({model:this.model,width:$fe.Z.getPosterWidth("movie",60),height:60,rows:1,columns:1}),this.listenTo(this.transcodeJobs,"reset add remove",this.onTranscodeJobsChange)},resetState:function(){var e=["converting",Jfe,eIe,Xfe];this.ui.status.removeClass(e.join(" "))},getState:function(e){return this.transcodeJobs.findWhere({generatorID:this.model.id})?"converting":e.get("itemsFailedCount")>0?Xfe:e.get("state")},bindings:{".generator-title":{modelAttribute:"title"},".generator-target":{modelAttribute:"target"},".generator-status":{model:"status",modelAttribute:"state",modelListeners:["state","itemsFailedCount"],manual:!0,formatter:function(e,t){this.resetState(),t.addClass(this.getState(this.status))}},".generator-status-failed-message":{model:"status",modelAttribute:"itemsFailedCount",formatter:function(e){return 1===e?(0,De.Z)("1 failed item"):(0,De.Z)("{1} failed items",e)}},".retry-btn":{model:"status",modelAttribute:"state",modelListeners:["state","itemsFailedCount"],manual:!0,autohide:function(e){return this.getState(this.status)===Xfe}}},onRender:function(){this.compositeImage.setElement(this.ui.poster)},onClose:function(){this.compositeImage.close()},onTranscodeJobsChange:function(){var e=this.getState(this.status);this.resetState(),this.ui.status.addClass(e)},onClick:function(e){e.preventDefault(),ee.Z.trigger("show:modal",new mIe({model:this.model,listModel:this.model.get("children"),transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}))},onRetryClick:function(e){e.preventDefault(),e.stopImmediatePropagation(),One.Z.execute("reprocessVersionGenerator",{generator:this.model})},onEditClick:function(e){e.preventDefault(),e.stopImmediatePropagation(),ee.Z.trigger("show:modal",new iIe.Z({model:this.model}))},onDeleteClick:function(e){e.preventDefault(),e.stopImmediatePropagation(),One.Z.execute("deleteVersionGenerator",{generator:this.model})}}),vIe=Mne.Z.extend({tagName:"ol",className:"list media-list playlist-items",itemView:yIe,emptyView:qfe,sorted:!0,onRender:function(){this.sortable&&this.sortable.destroy(),this.sortable=new(Lne())(this.el,{onUpdate:E().bind(this.onItemMove,this),handle:".sortable-handle",animation:200,scroll:!0,scrollSensitivity:100,scrollSpeed:2})},onClose:function(){this.sortable&&this.sortable.destroy()},onItemMove:function(e){var t=g()(e.item).data("generator-id"),n=g()(e.item).prev().data("generator-id");this.collection.parent.moveItem(t,n)}});var fIe=n(6160),IIe=n.n(fIe);const bIe=m.Z.ItemView.extend({template:IIe(),serializeData:function(){return{isTranscoderRequired:!this.model.get("transcoderVideo"),isUpgradeRequired:!this.model.supports("streamReady"),escapedMinServerVersion:E().escape(Yh.Z.streamReady)}}});var MIe=n(77512),SIe=n.n(MIe);const EIe=jye.extend({mixins:[ne.Z],className:"versions-container",template:SIe(),ui:{message:".versions-status-message"},regions:{listRegion:".background-processing-list-region"},events:{"click .delete-all-btn":"onDeleteAllVersionsClick","click .status-conversion-btn":"onStatusConversionClick"},initialize:function(e){this.pausedSetting=this.collection.get("BackgroundQueueIdlePaused"),this.playlists=new une.Z([],{server:this.model,allowInCache:!0}),this.transcodeJobs=this.model.get("desktop").get("backgroundTranscodeJobs")},initialState:"loading",states:{loading:{nextState:"list",onEnter:function(){var e=this.model.supports("streamReady"),t=this.model.get("transcoderVideo");if(this.listRegion.show(new Yfe({inline:!0})),e&&t){var n=g().when(this.playlists.populate(),this.transcodeJobs.fetch());(n=n.then(E().bind((function(){return this.playlist=this.playlists.first(),this.playlist?(this.generators=this.playlist.get("children"),this.generators.fetch()):g().Deferred().reject().promise()}),this))).done(this.whenRendered((function(){this.enterNextState()}))),n.fail(this.whenRendered((function(){this.enterState("error")})))}else this.enterState("error")}},list:{onEnter:function(){this.toggleMessage(),this.listenTo(this.generators,"reset add remove",this.toggleMessage),this.listRegion.show(new vIe({collection:this.generators,itemViewOptions:{transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}}))},onExit:function(){this.stopListening(this.generators)}},error:{onEnter:function(){this.listRegion.show(new bIe({model:this.model}))}}},toggleMessage:function(){this.ui.message.toggleClass("hidden",!this.generators.length)},onRender:function(){this.enterNextState()},onDeleteAllVersionsClick:function(e){e.preventDefault(),One.Z.execute("deleteAllVersionGenerators",{server:this.model}).then(E().bind((function(){return this.generators.fetch()}),this))},onStatusConversionClick:function(e){e.preventDefault(),(0,Ine.Z)("serverSettings",{machineIdentifier:this.model.id,settingsSection:"status",settingsGroup:"conversion"})}});var DIe=n(61573),CIe=n.n(DIe);const PIe=m.Z.Layout.extend({className:"server-settings-container",template:CIe(),remoteAccessDecorators:{connecting:"unknown",disconnecting:"unknown",unreachable:"error",ok:"success"},regions:{serverDropdown:".filter-bar",nav:".nav-region",pane:".pane-region"},events:{"click .toggle-advanced-btn":"onToggleAdvancedClick"},panes:{general:{constructor:Vfe,group:"general",title:"General",isVisible:!0},remoteAccess:{constructor:_fe,group:"remoteAccess",title:"Remote Access",isVisible:!0},versions:{constructor:EIe,group:"versions",title:"Optimized Versions",isVisible:!0},agents:{constructor:xye,group:"agents",title:"Agents",isVisible:!0},library:{constructor:jye,group:"library",title:"Library"},channels:{constructor:kye,group:"channels",title:"Plugins",isVisible:!0},network:{constructor:jye,group:"network",title:"Network"},transcoder:{constructor:jye,group:"transcoder",title:"Transcoder"},languages:{constructor:Bfe,group:"account.language",title:"Languages",isVisible:!0},dlna:{constructor:jye,group:"dlna",title:"DLNA"},butler:{constructor:jye,group:"butler",title:"Scheduled Tasks"},extras:{constructor:jye,group:"extras",title:"Extras"}},initialize:function(e){this.defaultGroup=e.group||"general",this.account=e.account,this.cloudAccount=e.cloudAccount,this.channelSettings=e.channelSettings,this.tempSettings=this.collection.cloneDeep(),this.tempAccount=this.account.clone(),this.tempChannelSettings=this.channelSettings.cloneDeep(),this.changes={};var t=(0,M.DB)("appModel").get("user").get("experienceSettings").get("showAdvancedSettings");if(this.$el.toggleClass("show-advanced",t),this.initGroups(),this.model.supports("reachability")){var n=E().extend(this.model.getXHROptions("/myplex/refreshReachability"),{type:"PUT"});g().ajax(n)}this.listenTo(ee.Z,"shortcut:save",this.saveChanges),this.listenTo(this.collection,"change:value",this.onSettingValueChange)},initGroups:function(){var e=E().keys(this.panes);const t=E().unique(this.collection.filter((e=>e.get("group")&&!e.get("hidden"))).map((e=>e.get("group"))));this.groups=new Zne.ZP.Collection,e.forEach((e=>{const n=this.panes[e],i=n.isVisible;(!0===i||!1!==i&&E().contains(t,e))&&this.addGroup(e,n)})),E().each(t,(function(t){if(!E().contains(e,t)){var n={constructor:jye,group:t,title:t};this.panes[t]=n,this.addGroup(t,n)}}),this)},addGroup:function(e,t){var n=E().omit(t,"constructor");n.id=e,this.groups.add(n)},showPane:function(e){if(this.currentPane){if(this.currentPane.isActive)return this.currentPane;this.stopListening(this.currentPane),this.flushChanges()}var t=this.panes[e];t&&this.groups.get(e)||(0,Ine.Z)("serverSettings",{machineIdentifier:this.model.id,settingsSection:"settings",settingsGroup:"general"});var n=new(0,t.constructor)({model:this.model,collection:this.tempSettings,account:this.tempAccount,cloudAccount:this.cloudAccount,channelSettings:this.tempChannelSettings,group:t.group,changes:this.changes});return this.currentPane=n,this.pane.show(n),this.listenTo(this.currentPane,"save",this.saveChanges),n},flushChanges:function(){this.currentPane.changes&&E().extend(this.changes,this.currentPane.changes)},saveChanges:function(){if(this.flushChanges(),!this.currentPane.isDisabled&&!this.currentPane.isActive){this.currentPane.triggerMethod("before:save");var e=[],t=this.getPrefixedChanges("channel."),n=this.getPrefixedChanges("account.");if(!E().isEmpty(t)){var i=this.channelSettings.first().getSaveParams(t),s=E().result(this.channelSettings,"url"),r=C.Z.join([s,"/set"],i);e.push(g().ajax(this.model.getXHROptions(r)))}E().isEmpty(n)||e.push(this.account.save(n)),E().isEmpty(this.changes)||e.push(this.collection.first().save(this.changes));var a=g().when.apply(g(),e);a.done(E().bind((function(){var e=E().keys(this.changes);E().each(e,(function(e){var t=this.tempSettings.get(e);this.collection.get(e).set("value",t.get("value")),"ButlerUpdateChannel"===e&&this.onButlerUpdateChannelChange()}),this),this.changes={},this.currentPane&&(this.currentPane.changes&&(this.currentPane.changes={}),this.currentPane.triggerMethod("after:save",!0))}),this)),a.fail(E().bind((function(){this.currentPane&&this.currentPane.triggerMethod("after:save",!1)}),this))}},getPrefixedChanges:function(e){var t={};return E().each(this.changes,(function(n,i){0===i.lastIndexOf(e,0)&&(t[i.substring(e.length)]=n,delete this.changes[i])}),this),t},onRender:function(){this.showPane(this.defaultGroup)},onClose:function(){this.currentPane=null},onSettingValueChange:function(e,t){this.tempSettings.get(e.id).set("value",t)},onServerConnectedChange:function(e,t){t&&(this.stopListening(e,"change:connected",this.onServerConnectedChange),(0,M.DB)("appModel").set("primaryServer",e))},onToggleAdvancedClick:function(e){e.preventDefault();var t=this.$el.hasClass("show-advanced");(0,M.DB)("appStore").dispatch((0,Nv.LN)({showAdvancedSettings:!t})),this.$el.toggleClass("show-advanced",!t)},onButlerUpdateChannelChange:function(){var e=this.collection.get("ButlerTaskCheckForUpdates");e&&e.get("value")&&(0,M.DB)("appStore").dispatch(pye({serverEntityID:this.model.entityID(),download:!1}))}});var wIe=n(34198),TIe=n(65531),ZIe=n(81071);const NIe=(0,f.$j)((function(){return(0,de.P1)((0,HM.Z)(),(0,de.P1)(((e,{settingsSection:t})=>t),((e,{settingsGroup:t})=>t),((e,t)=>{const n=E().findWhere($ge,{key:e});return E().findWhere(n.groups,{key:t}).title()})),((e,t)=>({friendlyName:e?e.friendlyName:"",sourceTitle:e?e.sourceTitle:"",isShared:!(!e||!e.isShared),settingsTitle:t})))}))((function(e){const{friendlyName:t,sourceTitle:n,settingsTitle:i,isShared:s}=e,r={friendlyName:t,sourceTitle:n,isShared:s},a=NM(r),o=ZM(r),l=a&&o?`${a} (${o})`:a;return y.createElement(aee,null,l,y.createElement(tr.Z,null),i)}));var AIe=Object.prototype.hasOwnProperty,xIe=Object.getOwnPropertySymbols,LIe=Object.prototype.propertyIsEnumerable,OIe=Object.assign;const jIe=(0,f.$j)((function(){return(0,de.P1)(((e,{settingsSection:t})=>t),((e,{settingsGroup:t})=>t),Xge(),(0,HM.Z)(),Wh.Z,((e,t,n,i,s)=>{const r=function(e,t,n){const i=e.find((e=>e.key===t));return i?i.groups.find((e=>e.key===n)):null}(n,e,t);return{machineIdentifier:i&&i.machineIdentifier,providerIdentifier:s&&s.identifier,isInstallingServerUpdate:!(!i||!i.isInstallingServerUpdate),isUnavailable:!(!i||!i.isUnavailable),isUnauthorized:!(!i||!i.isUnauthorized),isSettingAccessible:!!r,isSettingsPending:!(!i||!i.desktop.isSettingsPending),pageComponent:r&&r.pageComponent,paneComponent:r&&r.paneComponent}}))}))((function(e){const{serverEntityID:t,providerEntityID:n,machineIdentifier:i,providerIdentifier:s,viewDataErrorMessage:r,isViewDataPending:a,isInstallingServerUpdate:o,isUnavailable:l,isUnauthorized:c,isSettingAccessible:d,isSettingsPending:u,settingsSection:p,settingsGroup:m,pageComponent:h,paneComponent:g,contentView:v}=e,f=((e,t)=>{var n={};for(var i in e)AIe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&xIe)for(var i of xIe(e))t.indexOf(i)<0&&LIe.call(e,i)&&(n[i]=e[i]);return n})(e,["serverEntityID","providerEntityID","machineIdentifier","providerIdentifier","viewDataErrorMessage","isViewDataPending","isInstallingServerUpdate","isUnavailable","isUnauthorized","isSettingAccessible","isSettingsPending","settingsSection","settingsGroup","pageComponent","paneComponent","contentView"]);return o?y.createElement(ZIe.Z,{serverEntityID:t}):a?y.createElement(Gz.Z,null,y.createElement(RC.Z,null)):l?y.createElement(TIe.Z,{serverEntityID:e.serverEntityID}):c?y.createElement(wIe.Z,null):r?y.createElement(_z.Z,{title:r}):d?h?y.createElement(h,OIe({serverEntityID:t},eye(p,m))):y.createElement(see,OIe({},eye(p,m)),y.createElement(NIe,{serverEntityID:t,settingsSection:p,settingsGroup:m}),g?y.createElement(g,{serverEntityID:t,providerEntityID:n,machineIdentifier:i,providerIdentifier:s}):y.createElement(ame,{view:v||PIe,viewOptions:f})):u?y.createElement(Gz.Z,null,y.createElement(RC.Z,null)):y.createElement(_z.Z,{title:(0,De.Z)("There was an unexpected error loading the settings")})})),kIe=(0,sn.Z)($t.Z,(e=>e.filter((e=>e.isPrimaryEligible)))),RIe=(0,de.P1)(kIe,(0,Ie.Z)(be.PL),((e,t)=>e.reduce(((e,n)=>{const i=n.allowSync&&!t;return n.isShared&&!i||n.isOutOfDate||e.push(n.entityID),e}),[]))),zIe=(0,oC.Z)((0,de.P1)($t.Z,(e=>e.filter((e=>(e.isFullOwnedServer||e.isShared)&&e.isConnected)))),(e=>e));function UIe(e){const{className:t,children:n}=e;return y.createElement("div",{className:t},n)}UIe.defaultProps={className:"SidebarContainer-sidebarContainer-2N7JeA"};const VIe=UIe;var BIe=Object.assign;function FIe(e){const{className:t}=e;return y.createElement(wN.Z,BIe({className:t,autoScroll:!0},e))}FIe.defaultProps={className:"SidebarScroller-scroller-gr08Fl"};const HIe=FIe;function _Ie(e,t){return e&&t?`${t} (${e})`:t||e}const QIe=function(e){const t=e.activeConnection;let n,i=!1;return e.isConnected&&t?n=e.isOutOfDate?(0,De.Z)("Needs Update"):t.relay?(0,De.Z)("Indirect"):t.isPrivate?(0,De.Z)("Nearby"):(0,De.Z)("Remote"):e.isRelayed?n=(0,De.Z)("Indirect"):e.isUnavailable?n=(0,De.Z)("Unavailable"):e.isUnauthorized?n=(0,De.Z)("Unauthorized"):(i=!0,n=(0,De.Z)("Connecting")),{isConnecting:i,status:n}};class GIe extends y.Component{shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{children:e,className:t,friendlyNameClassName:n,detailsClassName:i,to:s,isDisabled:r,isSelected:a,identifier:o,title:l,details:c,onPress:d}=this.props;return y.createElement(ho.Z,{className:we()(t,"ServerMenuItem-serverMenuItem-2DEyv7",a&&"ServerMenuItem-selectedServerMenuItem-2adnD7"),"data-qa-id":"serverMenuItem--"+o,to:s,isDisabled:r,onPress:d},y.createElement("div",{className:"ServerMenuItem-serverMenuItemContainer-21s1QS"},y.createElement("div",{className:"ServerMenuItem-serverMenuTitle-3cCSOb"},y.createElement("div",{className:n},l),y.createElement("div",{className:i},c)),y.createElement("div",{className:"ServerMenuItem-serverMenuIconContainer-oPnm2s"},a?y.createElement(fa.Z,{className:we()("ServerMenuItem-serverMenuIcon-QhVrzu","ServerMenuItem-selectedIcon-g_vsnY"),"aria-label":(0,De.Z)("Selected")}):null,e)))}}GIe.defaultProps={friendlyNameClassName:"ServerMenuItem-serverMenuFriendlyName-TDFGhw",detailsClassName:"ServerMenuItem-serverMenuDetails-pjhSWh"};const YIe=GIe;var WIe=Object.assign;const KIe=function(e){const{className:t,isFullOwnedServer:n,isInstallingServerUpdate:i,isUnavailable:s,isSettingsPending:r}=e;return i||n&&r&&!s?y.createElement("div",{className:t},y.createElement(RC.Z,{className:"ServerSettingsStatusIcon-spinner-2DICL-",size:vc.HC})):y.createElement(Pse,WIe({},e))},qIe=(0,f.$j)((function(){return(0,de.P1)((0,HM.Z)(),(e=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,sourceTitle:e.sourceTitle,activeConnection:e.activeConnection,isFullOwnedServer:e.isFullOwnedServer,isInstallingServerUpdate:e.isInstallingServerUpdate,isConnected:e.isConnected,isShared:e.isShared,isUnavailable:e.isUnavailable,isSecure:e.isSecure,isRelayed:e.isRelayed,isSettingsPending:e.desktop.isSettingsPending})))}))((function(e){const{isSelected:t,activeConnection:n,isConnected:i,isShared:s,isUnavailable:r,isSecure:a,isRelayed:o,machineIdentifier:l,friendlyName:c,sourceTitle:d,isFullOwnedServer:u,isInstallingServerUpdate:p,isSettingsPending:m,settingsSection:h,settingsGroup:g}=e,v={activeConnection:n,friendlyName:c,sourceTitle:d,isFullOwnedServer:u,isShared:s,isConnected:i,isRelayed:o,isUnavailable:r},{isConnecting:f,status:I}=QIe(v),b=_Ie(ZM(v),I),M=u&&m||f||r;return y.createElement(YIe,{className:we()(M&&"ServerSettingsServerMenuItem-disabled-1ObuBp"),friendlyNameClassName:"ServerSettingsServerMenuItem-friendlyName-vaTBWs",detailsClassName:"ServerSettingsServerMenuItem-details-3iJcIe",to:(0,km.Z)(l,h||"settings",g||"general"),isDisabled:f,isSelected:t,identifier:l,title:NM(v),details:b},y.createElement(KIe,{className:"ServerSettingsServerMenuItem-icon-Wtwdnn",isFullOwnedServer:u,isInstallingServerUpdate:p,isSettingsPending:m,isUnavailable:r,isRelayed:o,isSecure:a,isConnected:i}))})),$Ie=5*parseInt(ku.Z.serverMenuItemHeight,10),JIe={className:"ServerSettingsServerMenu-serverMenuScroller-2Pqkgc Menu-menuScroller-Y94EA9 Scroller-vertical-1tg_Qg",scrollDirection:vb.yZ,autoScroll:!0},XIe=function(e){const{target:t,serverEntityIDs:n,selectedServerEntityID:i,settingsSection:s,settingsGroup:r,isOpen:a,onMenuClose:o}=e;return y.createElement(mo.Z,{className:"ServerSettingsServerMenu-serverMenu-B1afpR Menu-menu-2zqgoE",target:t,isOpen:a,scrollerProps:JIe,maxHeight:$Ie,onMenuClose:o},n.map((e=>y.createElement(qIe,{key:e,serverEntityID:e,isSelected:e===i,settingsSection:s,settingsGroup:r}))))};function ebe(e){const{className:t,secondaryTitleClassName:n,id:i,isLoading:s,isMenuOpen:r,isDisabled:a,isSelected:o,primaryTitle:l,secondaryTitle:c,children:d,spinnerComponent:u,onPress:p}=e;return y.createElement(AM.Z,{id:i,className:we()(t,a&&"SidebarMenuButton-isDisabled-1XO84N"),"aria-haspopup":!a,"data-qa-id":"serverMenuButton",isSelected:o,isDisabled:a,onPress:p},y.createElement("div",{className:"SidebarMenuButton-sidebarMenuButtonContainer-16pfaP"},y.createElement("span",{className:"SidebarMenuButton-sidebarMenuTitle-RHj4Nd"},y.createElement("span",{className:"SidebarMenuButton-sidebarMenuPrimaryTitleContainer-1FoVzE"},y.createElement("span",{className:"SidebarMenuButton-sidebarMenuPrimaryTitle-2-iwkT"},l),a?null:y.createElement(gc.Z,{direction:r?yc.UP:yc.WV,isSelected:o})),c?y.createElement("span",{className:n},c):null),s?y.createElement(u,{size:vc.HC,className:"SidebarMenuButton-sidebarMenuSpinner-2LBcAR"}):d))}ebe.defaultProps={className:"SidebarMenuButton-sidebarMenuButton-16l9lD",secondaryTitleClassName:"SidebarMenuButton-sidebarMenuSecondaryTitle-1q0VF3",isMenuOpen:!1,isSelected:!0,isDisabled:!1,isLoading:!1,spinnerComponent:ML.Z};const tbe=ebe;var nbe=Object.assign;const ibe=function(e){return y.createElement(tbe,nbe({spinnerComponent:RC.Z},e))},sbe=(0,f.$j)((function(){return(0,de.P1)((0,HM.Z)(),(e=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,isFullOwnedServer:e.isFullOwnedServer,isInstallingServerUpdate:e.isInstallingServerUpdate,isShared:e.isShared,isConnected:e.isConnected,isUnavailable:e.isUnavailable,isSettingsPending:e.desktop.isSettingsPending,isSecure:e.isSecure,isRelayed:e.isRelayed,sourceTitle:e.sourceTitle})))}))((function(e){const{id:t,friendlyName:n,sourceTitle:i,isFullOwnedServer:s,isShared:r,isConnected:a,isInstallingServerUpdate:o,isSelected:l,isUnavailable:c,isSecure:d,isSettingsPending:u,isRelayed:p,isMenuOpen:m,onPress:h}=e,g={friendlyName:n,sourceTitle:i,isShared:r},v=_Ie(ZM(g),p?(0,De.Z)("Indirect"):null);return y.createElement(ibe,{className:"ServerSettingsServerMenuButton-button-156qhk SidebarMenuButton-sidebarMenuButton-16l9lD",secondaryTitleClassName:"ServerSettingsServerMenuButton-secondaryTitle-1OUi5Y SidebarMenuButton-sidebarMenuSecondaryTitle-1q0VF3",id:t,isMenuOpen:m,primaryTitle:NM(g),secondaryTitle:v,isSelected:l,onPress:h},y.createElement(KIe,{className:"ServerSettingsServerMenuButton-icon-3Q1tco",isFullOwnedServer:s,isInstallingServerUpdate:o,isSettingsPending:u,isUnavailable:c,isRelayed:p,isSecure:d,isConnected:a}))}));var rbe=Object.prototype.hasOwnProperty,abe=Object.getOwnPropertySymbols,obe=Object.prototype.propertyIsEnumerable,lbe=Object.assign;function cbe(e){const{className:t,children:n,iconClassName:i,titleClassName:s,iconSrc:r,iconComponent:a,iconNode:o,title:l,showSpinner:c}=e,d=((e,t)=>{var n={};for(var i in e)rbe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&abe)for(var i of abe(e))t.indexOf(i)<0&&obe.call(e,i)&&(n[i]=e[i]);return n})(e,["className","children","iconClassName","titleClassName","iconSrc","iconComponent","iconNode","title","showSpinner"]);let u;return r?u=y.createElement("img",{className:"SidebarLink-iconImg-3WUhd1",src:r}):a?u=y.createElement(a,null):o&&(u=o),y.createElement(AM.Z,lbe({className:t},d),y.createElement("div",{className:"SidebarLink-container-3HATfs"},y.createElement("div",{className:i},c?y.createElement(ML.Z,{className:"SidebarLink-spinner-1HX3C3"}):u),l?y.createElement("div",{className:s},l):null,function(e){const t=[];return y.Children.forEach(e,(e=>{y.isValidElement(e)&&t.push(e)})),t}(n).length?y.createElement("div",{className:"SidebarLink-children-15v8yl"},n):null))}cbe.defaultProps={className:"SidebarLink-sidebarLink-38wiMx Link-default-1dmcVx",iconClassName:"SidebarLink-icon-aPbgjh",titleClassName:"SidebarLink-title-1fhEPJ"};const dbe=cbe;function ube({className:e,children:t}){return y.createElement("div",{className:e},t)}ube.defaultProps={className:"SidebarListItem-sidebarListItem-3Cducl"};const pbe=ube;var mbe=Object.assign;const hbe=function(e){return y.createElement(pbe,null,y.createElement(dbe,mbe({},e)))},gbe=function({message:e,children:t}){return y.createElement("div",null,y.createElement("p",{className:"SidebarMessage-sidebarMessage-1QpFNV"},e),t)};var ybe=n(25540),vbe=n(22876);function fbe(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-unlock-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m280 160c-.02-7.756.721-15.486 2.2-23.072 1.088-5.577 2.576-11.076 4.449-16.441 1.885-5.402 4.161-10.668 6.801-15.743 3.116-5.991 6.74-11.716 10.817-17.099 4.132-5.455 8.728-10.557 13.723-15.235 4.912-4.6 10.208-8.789 15.818-12.507 5.443-3.608 11.181-6.772 17.14-9.446 9.443-4.237 19.436-7.236 29.653-8.897 4.12-.67 8.275-1.124 12.442-1.362 2.181-.125 4.365-.187 6.55-.197.387-.001.775 0 1.163.001 2.183.018 4.365.087 6.544.218 4.164.251 8.316.718 12.431 1.401 10.208 1.693 20.188 4.721 29.615 8.986 6.059 2.742 11.888 5.99 17.409 9.697 5.686 3.818 11.044 8.122 16.001 12.848 4.953 4.722 9.504 9.866 13.587 15.358 4.103 5.519 7.732 11.389 10.831 17.527 2.581 5.113 4.794 10.411 6.615 15.841 1.769 5.278 3.167 10.68 4.182 16.154 1.342 7.242 2.012 14.609 1.987 21.968l-59.984 0 .006-.197c-.015-4.685-.564-9.366-1.661-13.92-1.309-5.431-3.394-10.668-6.165-15.518-3.266-5.718-7.478-10.89-12.403-15.261-4.517-4.009-9.633-7.341-15.137-9.831-4.624-2.092-9.514-3.584-14.518-4.43-2.184-.37-4.388-.617-6.599-.743-1.106-.063-2.212-.094-3.319-.1-.394 0-.788.002-1.183.008-1.165.02-2.329.07-3.492.155-2.199.16-4.389.441-6.558.843-4.921.912-9.722 2.451-14.257 4.57-5.472 2.557-10.548 5.95-15.017 10.012-4.873 4.429-9.022 9.651-12.219 15.408-2.715 4.888-4.736 10.156-5.979 15.608-.985 4.326-1.478 8.761-1.492 13.197l.007.199 0 80 60.012 0 0 280-360 0 0-280 240 0 0-80m-40 280l0-45.359c11.952-6.92 20-19.848 20-34.641 0-22.077-17.923-40-40-40-22.077 0-40 17.923-40 40 0 14.793 8.048 27.721 20 34.641l0 45.359 40 0"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}fbe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const Ibe=fbe;class bbe extends y.Component{constructor(e,t){super(e,t),this.onRemoveServerPress=e=>{this.setState({isRemoveModalOpen:!0})},this.onRemoveConfirm=()=>{this.setState({isRemoveModalOpen:!1}),this.props.onDeleteServerConfirm(this.props.machineIdentifier)},this.onRemoveCancel=()=>{this.setState({isRemoveModalOpen:!1})},this.onAllowInsecureConnectionPress=e=>{this.setState({isAllowInsecureConnectionModalOpen:!0})},this.onAllowInsecureConnectionCancel=e=>{this.setState({isAllowInsecureConnectionModalOpen:!1})},this.state={isRemoveModalOpen:!1,isAllowInsecureConnectionModalOpen:!1}}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,friendlyName:t,presence:n,isPending:i,isBundled:s,isCloudServerResourcesPending:r,isFullServer:a,isFullOwnedServer:o,isInstallingServerUpdate:l,httpsRequired:c,hasHttpsConnections:d,hasFallbackConnections:u,onTryAgainPress:p}=this.props,{isRemoveModalOpen:m,isAllowInsecureConnectionModalOpen:h}=this.state;let g,v,f,I,b;if(l)g=!1,v=!1,f=!1,I=!1,b=(0,De.Z)('Once the server "{serverName}" has finished installing the update, Plex will automatically try to reconnect to this server.',{serverName:t});else{const e={isFullServer:a,presence:n,httpsRequired:c,hasHttpsConnections:d,hasFallbackConnections:u};g=(0,vbe.E)(e),v=(0,vbe.P)(e)||g,f=!v,I=o&&!s,b=v?(0,De.Z)('Unable to connect to "{serverName}" securely.',{serverName:t}):(0,De.Z)('The server "{serverName}" is unreachable. Make sure it\'s running, double check your network, and try again.',{serverName:t})}const M=r||i,S=M?(0,De.Z)("Connecting"):(0,De.Z)("Try again");return y.createElement(gbe,{message:b},y.createElement(hbe,{iconComponent:mV.Z,title:S,showSpinner:M,isDisabled:M,onPress:p}),g?y.createElement(y.Fragment,null,y.createElement(hbe,{iconComponent:Ibe,title:(0,De.Z)("Allow insecure connection"),onPress:this.onAllowInsecureConnectionPress}),y.createElement(ybe.Z,{serverEntityID:e,isOpen:h,onModalClose:this.onAllowInsecureConnectionCancel})):null,v?y.createElement(hbe,{to:Np.pQ,target:"_blank",iconComponent:nQ,title:(0,De.Z)("Learn more")}):null,f?y.createElement(hbe,{to:"https://help.plex.tv/noserver",target:"_blank",iconComponent:nQ,title:(0,De.Z)("Where is my server?")}):null,I?y.createElement(y.Fragment,null,y.createElement(hbe,{iconComponent:cc.Z,title:(0,De.Z)("Remove server"),onPress:this.onRemoveServerPress}),y.createElement(nt.Z,{isOpen:m,metricsPage:et.RN,kind:fo.T,title:(0,De.Z)("Remove {serverName}",{serverName:t}),message:(0,De.Z)("If this server is restarted, it will automatically be added to your account again."),confirmLabel:(0,De.Z)("Remove"),onConfirm:this.onRemoveConfirm,onCancel:this.onRemoveCancel})):null)}}const Mbe=bbe,Sbe=(0,YM.Z)((function(){return(0,de.P1)(ge,(0,HM.Z)(),((e,t)=>({machineIdentifier:t.machineIdentifier,friendlyName:t.friendlyName,presence:t.presence,isPending:t.isPending,isFullServer:t.isFullServer,isFullOwnedServer:t.isFullOwnedServer,isInstallingServerUpdate:t.isInstallingServerUpdate,isBundled:t.isBundled,isCloudServerResourcesPending:e.isResourcesPending,httpsRequired:t.httpsRequired,hasHttpsConnections:t.hasHttpsConnections,hasFallbackConnections:t.hasFallbackConnections})))}),(function(e,t){const n={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onDeleteServerConfirm(){e(FS.Af(n))},onTryAgainPress(){e((0,tt.bc)()),e(cS.Vk(n))}}}))(Mbe);function Ebe(e){const{className:t,headerContainerClassName:n,headerClassName:i,children:s,title:r,icon:a,onRef:o}=e;return y.createElement("div",{className:t,role:"navigation",ref:o},y.createElement("div",{className:n},y.createElement("div",{className:i,role:"header"},r),a?y.createElement("div",{className:"SidebarList-sidebarListHeaderIcon-2mnCdS"},a):null),s)}Ebe.defaultProps={headerContainerClassName:"SidebarList-sidebarListHeaderContainer-35CjlJ",headerClassName:"SidebarList-sidebarListHeader-1nghI5"};const Dbe=Ebe;var Cbe=Object.assign;const Pbe=function(e){return y.createElement(Dbe,Cbe({headerClassName:"SettingsSidebarList-header-2Da_fH SidebarList-sidebarListHeader-1nghI5"},e))},wbe=function(e){const{className:t,children:n,selectableKey:i,selectedKey:s,to:r,title:a}=e,o=s&&s===i;let l;return/^#/.test(r)||(l=gve()?"_blank":"_self"),y.createElement(hbe,{key:i,className:t,target:l,to:r,iconClassName:o?"SettingsSidebarListLink-selectedIcon-2HnebI SettingsSidebarListLink-icon-YbwY7p SidebarLink-icon-aPbgjh":"SettingsSidebarListLink-icon-YbwY7p SidebarLink-icon-aPbgjh",title:a,isSelected:o},n)},Tbe=function(e){const{serverEntityID:t,machineIdentifier:n,selectedKey:i,isShared:s,isInstallingServerUpdate:r,isUnavailable:a,isSettingsPending:o,settingsSections:l}=e;return r||a?y.createElement(Sbe,{serverEntityID:t}):o?null:l.map(((e,t)=>{if(s&&1===e.groups.length){const s=e.groups[0];return y.createElement(wbe,{key:t,selectableKey:fne(n,e.key,s.key),selectedKey:i,title:s.title,to:s.route})}return y.createElement(Pbe,{key:t,title:e.title},e.groups.map(((s,r)=>y.createElement(wbe,{key:`${t}${r}`,selectableKey:fne(n,e.key,s.key),selectedKey:i,title:s.title,to:s.route},s.statusIndicator))))}))};var Zbe=Object.prototype.hasOwnProperty,Nbe=Object.getOwnPropertySymbols,Abe=Object.prototype.propertyIsEnumerable,xbe=Object.assign;const Lbe={dispatchPopulateSettings:FS.R_};class Obe extends y.Component{componentDidMount(){this._populate()}componentDidUpdate(e){e.serverEntityID!==this.props.serverEntityID&&this._populate()}_populate(){const{serverEntityID:e,isConnected:t,isFullOwnedServer:n,dispatchPopulateSettings:i}=this.props;t&&n&&i({serverEntityID:e})}render(){const e=this.props,{isConnected:t,isFullOwnedServer:n,dispatchPopulateSettings:i}=e,s=((e,t)=>{var n={};for(var i in e)Zbe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Nbe)for(var i of Nbe(e))t.indexOf(i)<0&&Abe.call(e,i)&&(n[i]=e[i]);return n})(e,["isConnected","isFullOwnedServer","dispatchPopulateSettings"]);return y.createElement(Tbe,xbe({},s))}}const jbe=(0,f.$j)((function(){return(0,de.P1)((0,HM.Z)(),Xge(),((e,t)=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,isShared:e.isShared,isInstallingServerUpdate:e.isInstallingServerUpdate,isConnected:e.isConnected,isUnavailable:e.isUnavailable,isSettingsPending:e.isFullOwnedServer&&e.desktop.isSettingsPending,isFullOwnedServer:e.isFullOwnedServer,settingsSections:t})))}),Lbe)(Obe),kbe=(0,de.P1)(fe.Z,(e=>!1));var Rbe=Object.prototype.hasOwnProperty,zbe=Object.getOwnPropertySymbols,Ube=Object.prototype.propertyIsEnumerable,Vbe=Object.assign;const Bbe=(0,de.P1)(kbe,(e=>({shouldShowWarning:e}))),Fbe=(0,f.$j)(Bbe)((function(e){const{shouldShowWarning:t}=e,n=((e,t)=>{var n={};for(var i in e)Rbe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&zbe)for(var i of zbe(e))t.indexOf(i)<0&&Ube.call(e,i)&&(n[i]=e[i]);return n})(e,["shouldShowWarning"]);return y.createElement(wbe,Vbe({},n),t?y.createElement(Ce.Z,{className:"SettingsSidebar-alertIcon-2e7EKZ"}):null)})),Hbe="SettingsSidebarScrollTop";class _be extends y.Component{constructor(e,t){super(e,t),this.onMeasure=()=>{this.setState({isMeasured:!0})},this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e},(()=>{hn.Z.set(Hbe,e)}))},this.onMenuButtonPress=()=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})};const n=hn.Z.get(Hbe);this.state={isMeasured:!1,scrollTop:n||0,isMenuOpen:!1},this._serverMenuButtonID=(0,wf.Z)()}render(){const{manageableServerEntityIDs:e,serverMenuServerEntityID:t,selectedKey:n,isUserSignedIn:i,isUserAnonymous:s,isUserUnrestricted:r,isServerMenuServerEntityIDSelected:a,showAdvancedSettings:o,showQualitySettings:l,showDownloadQualitySettings:c,userTitle:d,settingsSection:u,settingsGroup:p}=this.props,{scrollTop:m,isMenuOpen:h}=this.state,g=vne();return y.createElement(jK.Z,{page:et.Rs,isDelegated:!0},y.createElement(OC.Z,{ignorePosition:!0,ignoreWidth:!0,onMeasure:this.onMeasure},y.createElement(VIe,null,this.state.isMeasured?y.createElement(HIe,{smoothScroll:!1,scrollTop:m,onScrollPositionChange:this.onScrollPositionChange},y.createElement("div",{className:"SettingsSidebar-sidebarContent-ir1SWJ"},i?y.createElement(Pbe,{title:d||(0,De.Z)("Settings")},y.createElement(wbe,{selectableKey:"account",selectedKey:n,to:"#!/settings/account",title:(0,De.Z)("Account")}),r&&!s?y.createElement(wbe,{selectableKey:"online-media-sources",selectedKey:n,to:"#!/settings/online-media-sources",title:(0,De.Z)("Online Media Sources")}):null,r&&!s?y.createElement(wbe,{selectableKey:"devices",selectedKey:n,to:"#!/settings/devices",title:(0,De.Z)("Authorized Devices")}):null,r&&!s?y.createElement(wbe,{selectableKey:"webhooks",selectedKey:n,to:"#!/settings/webhooks",title:(0,De.Z)("Webhooks")}):null,i&&!s?y.createElement(wbe,{selectableKey:"users-sharing",selectedKey:n,to:"#!/settings/users-sharing",title:(0,De.Z)("Users & Sharing")}):null):null,y.createElement(Pbe,{title:z.Z.prop("X-Plex-Product"),selectableKey:g,selectedKey:n},y.createElement(Fbe,{selectableKey:vne("general"),selectedKey:n,to:"#!/settings/web/general",title:(0,De.Z)("General")}),l?y.createElement(wbe,{selectableKey:vne("quality"),selectedKey:n,to:"#!/settings/web/quality",title:(0,De.Z)("Quality")}):null,o?y.createElement(wbe,{selectableKey:vne("debug"),selectedKey:n,to:"#!/settings/web/debug",title:(0,De.Z)("Debug")}):null,y.createElement(wbe,{selectableKey:vne("player"),selectedKey:n,to:"#!/settings/web/player",title:(0,De.Z)("Player")}),c?y.createElement(wbe,{selectableKey:vne("downloads"),selectedKey:n,to:"#!/settings/web/downloads",title:(0,De.Z)("Downloads")}):null),t?y.createElement(y.Fragment,null,y.createElement(sbe,{id:this._serverMenuButtonID,serverEntityID:t,isMenuOpen:h,isSelected:a,onPress:this.onMenuButtonPress}),y.createElement(XIe,{target:this._serverMenuButtonID,serverEntityIDs:e,selectedServerEntityID:t,isOpen:h,settingsSection:u,settingsGroup:p,onMenuClose:this.onMenuClose}),y.createElement(jbe,{serverEntityID:t,selectedKey:n})):null)):null)))}}const Qbe=_be,Gbe=(0,de.P1)(zIe,(e=>e.length>0)),Ybe=(0,f.$j)((function(){return(0,de.P1)(((e,{selectedServerEntityID:t})=>t),(e=>e.primaryServer),(e=>e.user.experienceSettings.showAdvancedSettings),(0,Ie.Z)(be.PL),HB.Z,RIe,Gbe,((e,t,n,i,s,r,a)=>{const o=function(e,t,n){return n.includes(e)?e:n.includes(t)?t:n?n[0]:null}(e,t,r);return{serverMenuServerEntityID:o,manageableServerEntityIDs:r,isUserSignedIn:s.isSignedIn,isUserAnonymous:s.anonymous,isUserUnrestricted:!s.restricted,isServerMenuServerEntityIDSelected:o===e,showAdvancedSettings:n,showQualitySettings:a,showDownloadQualitySettings:J.Z.allowSyncDownload&&i,userTitle:s.title}}))}))(Qbe);var Wbe=Object.prototype.hasOwnProperty,Kbe=Object.getOwnPropertySymbols,qbe=Object.prototype.propertyIsEnumerable,$be=Object.assign;const Jbe=bne.extend({initialize(e){const{serverID:t,settingsSection:n,settingsGroup:i}=e,s=M.DB("appModel"),r=s.get("servers");this.options={settingsSection:n,settingsGroup:i,machineIdentifier:t,isViewDataPending:!0},r.findServer(t).done(this.whenRendered((t=>((0,Rt.c9)(),s.set("primaryServer",t),t.get("isConnected")?!t.get("isShared")||t.get("allowSync")&&!s.get("user").get("features").get(be.PL)?void(!t.get("isShared")||!t.get("allowSync")||"status"===n&&"sync"===i?"settings"===n||"manage"===n?this.initializeServerSettingsView(t,e):"status"===n&&"alerts"===i?this.initializeAlertsView(t):"status"===n&&"conversion"===i?this.initializeConversionView(t):"status"===n&&"sync"===i?this.initializeSyncView(t,e):"status"===n&&"server-dashboard"===i?this.initializeServerDashboardView(t):(this.options.isViewDataPending=!1,this.render()):(0,Ine.Z)("serverSettingsStatusSync",{machineIdentifier:t.id})):(Object.assign(this.options,{viewDataErrorMessage:(0,De.Z)("You do not have access to this server"),isViewDataPending:!1}),void this.render()):(this.options.isViewDataPending=!t.get("isUnavailable")&&!t.get("isUnauthorized"),void this.render()))))).fail(this.whenRendered((()=>{Object.assign(this.options,{viewDataErrorMessage:(0,De.Z)("The server you're trying to access doesn't seem to exist."),isViewDataPending:!1}),this.render()})))},initializeServerSettingsView(e){const t=this.options.settingsGroup,n=e.get("desktop"),i=n.get("settings"),s=new lne({key:"/accounts/1"},{server:e}),r=n.get("cloudAccount"),a=new cne.Z([],{server:e,url:"/system/:/prefs"}),o=g().when(i.fetch(),s.fetch(),r.fetch(),a.fetch());o.done(this.whenRendered((()=>{Object.assign(this.options,{model:e,collection:i,account:s,cloudAccount:r,channelSettings:a,subset:"server",group:t,isViewDataPending:!1}),this.render()}))),o.fail(this.whenRendered((()=>{Object.assign(this.options,{viewDataErrorMessage:(0,De.Z)("Server settings are unavailable."),isViewDataPending:!1}),this.render()})))},initializeAlertsView(e){const t=e.get("desktop");Object.assign(this.options,{model:e,collection:t.get("alerts"),subset:"alerts",contentView:Tne,isViewDataPending:!1}),this.render()},initializeConversionView(e){const t=e.get("desktop");this.options.contentView=iie;const n=new yne([],{server:e,allowInCache:!0}),i=t.get("backgroundTranscodeJobs"),s=new une.Z([],{server:e,allowInCache:!0});let r,a;const o=g().when(n.populate(),i.fetch(),t.get("settings").fetch(),s.populate()).then((()=>{r=n.first();const e=s.first();return r&&e?(a=e.get("children"),g().when(r.fetch(),a.fetch())):g().Deferred().reject().promise()}));o.done(this.whenRendered((()=>{Object.assign(this.options,{model:e,playQueue:r,transcodeJobs:i,generators:a,subset:"conversion",isViewDataPending:!1}),this.render()}))),o.fail(this.whenRendered((()=>{Object.assign(this.options,{viewDataErrorMessage:(0,De.Z)("The conversion queue is unavailable."),isViewDataPending:!1}),this.render()})))},initializeSyncView(e,t){const{deviceID:n}=t;Object.assign(this.options,{contentView:Bae});const i=M.DB("appModel").get("user").get("desktop").get("devices"),s=i.populate();s.done(this.whenRendered((()=>{const t=i.filterSyncDevices(),s=n?t.get(n):null;Object.assign(this.options,{model:e,collection:t,selectedDevice:s,subset:"sync",isViewDataPending:!1}),this.render()}))),s.fail(this.whenRendered((()=>{Object.assign(this.options,{viewDataErrorMessage:(0,De.Z)("Sync status is unavailable."),isViewDataPending:!1}),this.render()})))},initializeServerDashboardView(e){Object.assign(this.options,{server:e,subset:"server-dashboard",contentView:$re,isViewDataPending:!1}),this.render()},component(e){const{machineIdentifier:t,settingsSection:n,settingsGroup:i,sidebarKey:s}=e,r=((e,t)=>{var n={};for(var i in e)Wbe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Kbe)for(var i of Kbe(e))t.indexOf(i)<0&&qbe.call(e,i)&&(n[i]=e[i]);return n})(e,["machineIdentifier","settingsSection","settingsGroup","sidebarKey"]),a=(0,kt.Z)(Vt.cN,t),o=s||fne(t,n,i);return y.createElement(pe,null,y.createElement(Ybe,{selectedKey:o,settingsSection:n,settingsGroup:i,selectedServerEntityID:a}),y.createElement(jIe,$be({serverEntityID:a,providerEntityID:dne(a),settingsSection:n,settingsGroup:i},r)))}});function Xbe(e){const{children:t,isWaitingForServers:n,isAnyServerAuthenticated:i,isWaitingForCloudServer:s,isCloudServerUnauthorized:r,isCloudServerConnected:a,isCloudServerUnavailable:o,isCloudServerDownForMaintenance:l,hasAttemptedSignIn:c,isUserLocked:d,isUserFeaturesPopulated:u,isUserFeaturesError:p,onPopulateUserFeatures:m}=e,h=(0,I.k6)(),g=!!(0,I.$B)({path:[Bz.Z.account,Bz.Z.announcements,Bz.Z.devices,Bz.Z.webhooks,Bz.Z.onlineMediaSources,Bz.Z.userSharingSettings,Bz.Z.usersSharing,Bz.Z.serverSettingsStatusSync],exact:!0}),[v,f]=(0,y.useState)(p||u),b=(c||o)&&!d,M=b&&a,S=u||p||v||o,E=!n&&!i&&!l&&!o&&b||g&&r;if((0,y.useEffect)((()=>{if(M){const e=window.setTimeout((()=>f(!0)),5e3);return()=>window.clearTimeout(e)}}),[M]),(0,y.useEffect)((()=>{M&&m()}),[M,m]),B6((()=>{h.push(Bz.Z.login)}),E),i&&S&&b&&(!g||a))return t;if(!s&&(g||!n&&!i)){if(l)return y.createElement(Qz,null);if(o)return y.createElement(Wz,null)}return y.createElement(Ve,null,y.createElement(qe,null))}Xbe.defaultProps={isAccountRequired:!1};const eMe=Xbe,tMe=(0,de.P1)((e=>e.downloads),(e=>!!e&&!e.isSubscriptionsPopulated&&!e.subscriptionsError)),nMe=(0,de.P1)((e=>e.downloads),(e=>!!(e&&e.subscriptions&&e.subscriptions.length>0))),iMe=(0,de.P1)($t.Z,(e=>e.some((e=>e.isCloud&&e.isResolved||!e.isCloud&&e.isConnected)))),sMe=(0,de.P1)((e=>e.isWaitingForServers),tMe,iMe,nMe,HB.Z,ge,((e,t,n,i,s,r)=>({isWaitingForServers:e||t,isAnyServerAuthenticated:n||i,isWaitingForCloudServer:!r.isResolved&&!r.isRejected,isCloudServerUnauthorized:r.isUnauthorized,isCloudServerConnected:r.isConnected,isCloudServerUnavailable:r.isUnavailable,isCloudServerDownForMaintenance:r.isDownForMaintenance,hasAttemptedSignIn:s.hasAttemptedSignIn,isUserLocked:s.isLocked,isUserFeaturesPopulated:s.isFeaturesPopulated,isUserFeaturesError:!!s.featuresError}))),rMe={onPopulateUserFeatures:Nv.$Q},aMe=(0,f.$j)(sMe,rMe)(eMe);function oMe(){const{machineIdentifier:e,deviceID:t}=(0,I.UO)(),n=(0,hD.Z)("ServerSettingsSyncView",e);return y.createElement(aMe,null,y.createElement(ame,{key:n,view:Jbe,viewOptions:{settingsSection:"status",settingsGroup:"sync",serverID:e,deviceID:t}}))}function lMe(){const{machineIdentifier:e,settingsSection:t,settingsGroup:n}=(0,I.UO)(),i=(0,f.v9)(on(e)),s=(0,hD.Z)("ServerSettingsView",e,t,n,i.connectionTestResult);return y.createElement(aMe,null,y.createElement(ame,{key:s,view:Jbe,viewOptions:{settingsSection:t,settingsGroup:n,serverID:e}}))}var cMe=Object.assign;function dMe(e){return y.createElement(pe,cMe({},e))}dMe.defaultProps={className:"FullPage-container-3nm6AH FullPage-container-3xAJRV"};const uMe=dMe;var pMe=n(61682);const mMe="user/signIn/signInWithAuthToken",hMe=(0,No.Z)(mMe),gMe={[mMe](e,t,n){const{authToken:i,onSignInSuccess:s}=t,r=e.get("user");r.get("isSignedIn")&&r.get("authToken")!==i?One.Z.execute("resetUser").then((()=>pMe.Z.set("myPlexAccessToken",i))).then((()=>window.location.reload())):function(e,{authToken:t,onSignInSuccess:n}){const i=e.get("cloudServer"),s=e.get("user");g().ajax(i.getXHROptions(E().result(s,"url"),{headers:{"X-Plex-Token":t}})).then((e=>s.signIn(e))).then((()=>{n&&n()})).fail((e=>{const t=Uye(e);ee.Z.trigger("show:alert",{message:Fye(t)})}))}(e,{authToken:i,onSignInSuccess:s})}},yMe=function(){return y.createElement("div",{className:"PlexHeaderImage-plexImageContainer-3dam9Y"},y.createElement("div",{className:"PlexHeaderImage-plexImage-31_H3X"}))};var vMe=Object.prototype.hasOwnProperty,fMe=Object.getOwnPropertySymbols,IMe=Object.prototype.propertyIsEnumerable,bMe=Object.assign;function MMe(e){const{component:t}=e,n=((e,t)=>{var n={};for(var i in e)vMe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&fMe)for(var i of fMe(e))t.indexOf(i)<0&&IMe.call(e,i)&&(n[i]=e[i]);return n})(e,["component"]);return y.createElement(t,bMe({className:"SignInFormSection-section-2-kifO"},n))}MMe.defaultProps={component:"div"};const SMe=MMe,EMe="SkipSignInMessage-item-3_5PNn",DMe=function(e){return y.createElement(SMe,null,y.createElement("div",{className:"SkipSignInMessage-header-1L78DH"},(0,De.Z)("You must be signed in for Plex to work properly. If you are not signed in…")),y.createElement("ul",{className:"SkipSignInMessage-list-32oqDh"},y.createElement("li",{className:EMe},(0,De.Z)("Any connections between your media server and players WILL NOT BE SECURE")),y.createElement("li",{className:EMe},(0,De.Z)("You may experience degraded streaming performance")),y.createElement("li",{className:EMe},(0,De.Z)("It will be more difficult, and sometimes impossible, to find your server and discover players")),y.createElement("li",{className:EMe},(0,De.Z)("You will not be able to access your media server from outside your home")),y.createElement("li",{className:EMe},(0,De.Z)("You will not be able to access content and many features provided by Plex"))))};class CMe extends y.Component{constructor(e,t){super(e,t),this.onSwitchToSkipSignInPress=()=>{this.setState({isSkipSignInVisible:!0})},this.onStillTherePress=()=>{this.setState({isSkipSignInVisible:!1}),this.props.onStillTherePress()},this.onSignInPress=()=>{this.setState({isSkipSignInVisible:!1}),this.props.onSignInPress()},this.state={isSkipSignInVisible:!1}}render(){const{to:e,code:t,signUp:n,isBusy:i,onSkipSignInPress:s}=this.props,r=!(i||t),a=!r,o=this.state.isSkipSignInVisible,l=(0,I.LX)(Gve.Z.location.pathname,{path:Bz.Z.serverSetup});return y.createElement(wN.Z,{className:"SignInLaunchPagePoll-page-lL6Yfk",autoScroll:!0},l&&!o?y.createElement(AM.Z,{className:"SignInLaunchPagePoll-switchToSkipSignInLink-15y7JQ",kind:fo._8,onPress:this.onSwitchToSkipSignInPress},(0,De.Z)("What's this?")):null,y.createElement(yMe,null),y.createElement("div",{className:"SignInLaunchPagePoll-container-D2j_G0"},o?y.createElement(DMe,null):null,y.createElement("div",{className:"SignInLaunchPagePoll-section-HJPNUj"},a?y.createElement(Ige.Z,{className:"SignInLaunchPagePoll-button-3FSSA- SpinnerButton-button-1UV-_p Button-button-31pe5T Link-link-3v-v0b Button-large-2-E0y_",kind:fo._8,size:vc.ln,to:e,target:"_blank",type:"submit",isSpinning:!t,onPress:this.onSignInPress},n?(0,De.Z)("Sign up"):(0,De.Z)("Sign in")):null,r?y.createElement(AM.Z,{kind:fo._8,onPress:this.onStillTherePress},(0,De.Z)("Are you still there?")):null)),o?y.createElement(AM.Z,{className:"SignInLaunchPagePoll-addendumLink-3bmML3",kind:fo._8,onPress:s},(0,De.Z)("Skip and accept limited functionality")):null)}}const PMe=CMe;var wMe=Object.prototype.hasOwnProperty,TMe=Object.getOwnPropertySymbols,ZMe=Object.prototype.propertyIsEnumerable,NMe=Object.assign;const AMe={dispatchPreloadPIN:Ave,dispatchBeginPolling:Lve,dispatchStopPolling:Ove,dispatchSkipSignIn:jve};class xMe extends y.Component{constructor(){super(...arguments),this.onSignInPress=()=>{this.props.dispatchBeginPolling({pinID:this.props.pinID})},this.onStillTherePress=()=>{this.props.dispatchPreloadPIN()},this.onSkipSignInPress=()=>{this.props.dispatchSkipSignIn()}}componentDidMount(){this.props.dispatchPreloadPIN()}componentWillUnmount(){this.props.dispatchStopPolling()}render(){const e=this.props,{dispatchPreloadPIN:t,dispatchBeginPolling:n,dispatchStopPolling:i,dispatchSkipSignIn:s}=e,r=((e,t)=>{var n={};for(var i in e)wMe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&TMe)for(var i of TMe(e))t.indexOf(i)<0&&ZMe.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchPreloadPIN","dispatchBeginPolling","dispatchStopPolling","dispatchSkipSignIn"]);return y.createElement(ife,NMe({component:PMe,onSignInPress:this.onSignInPress,onStillTherePress:this.onStillTherePress,onSkipSignInPress:this.onSkipSignInPress},r))}}const LMe=(0,f.$j)(zye,AMe)(xMe);var OMe=Object.prototype.hasOwnProperty,jMe=Object.getOwnPropertySymbols,kMe=Object.prototype.propertyIsEnumerable,RMe=Object.assign;const zMe={dispatchReadStoredPIN:Nve};class UMe extends y.Component{componentDidMount(){this.props.dispatchReadStoredPIN({shouldCreatePIN:!0})}render(){const e=this.props,{pinID:t,dispatchReadStoredPIN:n}=e,i=((e,t)=>{var n={};for(var i in e)OMe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&jMe)for(var i of jMe(e))t.indexOf(i)<0&&kMe.call(e,i)&&(n[i]=e[i]);return n})(e,["pinID","dispatchReadStoredPIN"]);return t?y.createElement(ife,RMe({component:Vve,replace:!0,pinID:t},i)):y.createElement(Gz.Z,null,y.createElement(RC.Z,null))}}const VMe=(0,f.$j)(zye,zMe)(UMe);var BMe=Object.prototype.hasOwnProperty,FMe=Object.getOwnPropertySymbols,HMe=Object.prototype.propertyIsEnumerable,_Me=Object.assign;const QMe={dispatchResetAuthCodeExchange:xve,dispatchSignInWithAuthToken:hMe};class GMe extends y.Component{componentDidMount(){this.props.dispatchResetAuthCodeExchange()}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchSignInWithAuthToken({authToken:this.props.authToken,onSignInSuccess:this.props.signUp?()=>(0,Ine.Z)("home"):null})}render(){const e=this.props,{providerID:t,errorMessage:n,fatalErrorMessage:i,signUp:s,isPollClient:r,dispatchResetAuthCodeExchange:a,dispatchSignInWithAuthToken:o}=e,l=((e,t)=>{var n={};for(var i in e)BMe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&FMe)for(var i of FMe(e))t.indexOf(i)<0&&HMe.call(e,i)&&(n[i]=e[i]);return n})(e,["providerID","errorMessage","fatalErrorMessage","signUp","isPollClient","dispatchResetAuthCodeExchange","dispatchSignInWithAuthToken"]);return i?y.createElement(Qz,null):t?y.createElement(ife,_Me({component:Vve,providerID:t,signUp:s,replace:!0},l)):r?y.createElement(LMe,_Me({signUp:s},l)):y.createElement(VMe,{signUp:s})}}const YMe=(0,f.$j)((function(){return(0,de.P1)(zye,(e=>_Me({isPollClient:yve()},e)))}),QMe)(GMe),WMe=bne.extend({component:e=>y.createElement(pe,null,y.createElement(YMe,{signUp:e.signUp}))});var KMe=n(40856),qMe=n.n(KMe);const $Me=m.Z.ItemView.extend({className:"setup-basic-container",template:qMe(),ui:{modalContainer:".modal-container",connectCheckbox:"#connect",publishServerCheckbox:"#PublishServerOnPlexOnlineKey",submitBtn:".submit-btn",nextBtn:".next-btn"},collectionEvents:{reset:"render"},events:{"change input[id]":"onInputChange","submit #setup-basic-form":"onSubmit","change #PublishServerOnPlexOnlineKey":"onPublishSettingChange"},initialize:function(){E().bindAll(this,"onPlexPassModalClose"),this.collection=this.model.get("desktop").get("settings"),this.collection.populate({reset:!0}),this.model.isVersionOrNewer("0.9.15.5")?this.changes={PublishServerOnPlexOnlineKey:1}:this.changes={FirstRun:0,PublishServerOnPlexOnlineKey:1};var e=this.model.get("superToken");e&&(this.changes.PlexOnlineToken=e);var t=(0,M.DB)("appModel").get("user").get("hasPlexSubscription");this.isPlexPassModalOpen=!this.model.get("isDesktop")&&!t},serializeData:function(){var e=this.model.toJSON(),t=this.collection.get("FriendlyName"),n=this.collection.get("PublishServerOnPlexOnlineKey");return{server:e,friendlyNameSetting:t?t.toJSON():null,publishSetting:n?n.toJSON():null}},mountReact:function(){v.render(y.createElement(f.zt,{store:(0,M.DB)("appStore")},y.createElement(ld.Z,{origin:poe.pp,metricsProperties:{context:pS.SETUP_WIZARD,firstRun:!0},isOpen:this.isPlexPassModalOpen,onModalClose:this.onPlexPassModalClose})),this.ui.modalContainer[0])},unmountReact:function(){this.isRendered&&v.unmountComponentAtNode(this.ui.modalContainer[0])},submit:function(){var e=this.ui.submitBtn;if(!e.hasClass("active")){e.addClass("active"),(0,M.DB)("metrics").trackClick({action:rr.pg,page:et.YB,pane:"name",firstRun:!0,value:this.ui.publishServerCheckbox.is(":checked")});var t=this.save();(t=t.done((()=>{this.ui.nextBtn.click()}))).always((function(){e.removeClass("active")}))}},save(){return this.saveChanges().then((()=>this.claimServer()))},saveChanges(){return(E().isEmpty(this.changes)?g().Deferred().resolve().promise():this.collection.first().save(this.changes)).then(null,(()=>{ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was a problem saving these settings.")})}))},claimServer(){const e=(0,M.DB)("appModel"),t=e.get("cloudServer");return!this.model.supports("claimServer")||this.model.get("isClaimed")||this.model.get("superToken")||e.get("user").get("anonymous")?g().Deferred().resolve().promise():(0,F.Z)(t.populate().then((()=>One.Z.execute("signInServer",{claim:!0,cloudAccount:this.model.get("desktop").get("cloudAccount")}).then(null,(()=>{ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was a problem claiming this server.")})})))))},onBeforeRender:function(){this.unmountReact()},onRender:function(){this.mountReact()},onClose:function(){this.unmountReact()},onInputChange:function(e){var t=e.currentTarget,n=t.value;"checkbox"===t.type&&(n=t.checked?1:0),this.changes[t.id]=n},onSubmit:function(e){e.preventDefault(),this.submit()},onPlexPassModalClose:function(){this.isPlexPassModalOpen=!1,this.mountReact()}});var JMe=n(92056),XMe=n(83579),eSe=n(67749),tSe=n.n(eSe);const nSe=m.Z.ItemView.extend({className:"setup-complete-container",template:tSe(),ui:{modalContainer:".modal-container",submitBtn:".submit-btn",doneBtn:".done-btn"},collectionEvents:{reset:"render"},events:{"change input[id]":"onInputChange","submit #setup-complete-form":"onSubmit"},initialize:function(){E().bindAll(this,"onDVRSetupModalClose"),this.collection=this.model.get("desktop").get("settings"),this.collection.populate({reset:!0}),this.changes={},this.isDVRSetupModalOpen=!1;var e=M.DB("appModel").get("user");e.get("isSignedIn")?e.fetch().done(this.whenRendered((()=>{this.ui.submitBtn.removeClass("active")}))):this.once("attached",(()=>{this.ui.submitBtn.removeClass("active")}))},serializeData:function(){var e=this.collection.get("collectUsageData");return{devicesImg:XMe,collectUsageDataSetting:e?e.toJSON():null}},mountReact:function(){v.render(y.createElement("div",null,this.isDVRSetupModalOpen?y.createElement(f.zt,{store:M.DB("appStore")},y.createElement(Gue,{serverEntityID:this.model.entityID(),isModalOpen:this.isDVRSetupModalOpen,onModalClose:this.onDVRSetupModalClose})):null),this.ui.modalContainer[0])},unmountReact:function(){this.isRendered&&v.unmountComponentAtNode(this.ui.modalContainer[0])},fetchDVRs:function(){const e=g().Deferred();return new JMe.Z([],{server:this.model}).fetch().then((t=>{t.filter((e=>!e.get("parentID")&&e.get("status")===Sde.vh.ALIVE)).length?e.resolve():e.reject()}),(()=>{e.reject()})),e.promise()},submit:function(){var e=this.ui.submitBtn;e.hasClass("active")||(e.addClass("active"),this.save().always(this.whenRendered((function(){this.ui.doneBtn.click(),e.removeClass("active")}))))},save:function(){this.saved=!0,E().has(this.changes,"collectUsageData")&&!this.changes.collectUsageData&&M.DB("metrics").trackClick({action:rr.mX,page:et.YB,pane:"complete",firstRun:!0});const e=this.collection.first().save(this.changes),t=this.model.get("sections").filter((e=>e.isNew())).map((e=>e.save())),n=g().when(e,(0,QB.Z)(t));return n.fail((()=>{ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was a problem saving these settings.")})})),n},onBeforeRender:function(){this.unmountReact()},onRender:function(){this.mountReact()},onClose:function(){this.saved||this.save(),this.unmountReact()},onInputChange:function(e){var t=e.currentTarget,n=t.value;"checkbox"===t.type&&(n=t.checked?1:0),this.changes[t.id]=n},onSubmit:function(e){e.preventDefault(),this.submit()},onDVRSetupModalClose:function(){this.isDVRSetupModalOpen=!1,this.ui.submitBtn.removeClass("active"),this.mountReact()}});var iSe=n(32747),sSe=n.n(iSe);const rSe=m.Z.ItemView.extend({className:"setup-error-container",template:sSe()});var aSe=n(87414),oSe=n(13353),lSe=n(49730),cSe=n(37648),dSe=n.n(cSe);const uSe=m.Z.ItemView.extend({className:"setup-intro-container",template:dSe(),serializeData:()=>({computerImg:aSe,mediaImg:oSe,playImg:lSe})});var pSe=n(33192),mSe=n(25332),hSe=n.n(mSe),gSe={artist:"music",movie:"film",photo:"picture",show:"display"};const ySe=m.Z.ItemView.extend({tagName:"li",className:"card-tile-list-single-item",template:hSe(),events:{"click .edit-section-btn":"onEditClick","click .delete-section-btn":"onDeleteClick"},serializeData:function(){var e=this.model.server,t=this.model.toJSON(),n=t.locations&&t.locations[0],i=t.locations?t.locations.length:0;return{section:t,serverID:e.id,icon:gSe[t.type],path:n.path,more:i-1}},bindings:{".section-title":{modelAttribute:"title"}},onEditClick:function(e){e.preventDefault();const t=this.model,n=new vS.Z({model:t,server:t.server,isDefaultSection:t.isNew()});t.isNew()&&n.promise.always((()=>{t.trigger("destroy",t,t.collection)})),ee.Z.trigger("show:modal",n)},onDeleteClick:function(e){e.preventDefault();const t=this.model;t.isNew()?t.trigger("destroy",t,t.collection):One.Z.execute("deleteSection",{section:t})}}),vSe=Mne.Z.extend({tagName:"ul",className:"list card-tile-list",itemView:ySe});var fSe=n(56167),ISe=n.n(fSe);const bSe=m.Z.Layout.extend({className:"setup-library-container",template:ISe(),regions:{list:".setup-section-list-container"},events:{"click .add-section-btn":"onAddSectionClick"},metricsValue:function(){return this.collection.size()},initialize:function(e){const t=this.model,n=t.get("sections"),i=new pSe.Z([],{server:t,url:"/services/defaultLibraries"});this.collection=n,this.model.supports("defaultSections")&&e.isFirstVisitToSubset&&g().when(i.populate(),n.populate()).done((()=>{n.length||i.forEach((e=>{e.collection=n,n.add(e)}))}))},onRender:function(){this.list.show(new vSe({collection:this.collection}))},onAddSectionClick:function(e){e.preventDefault(),ee.Z.trigger("show:modal",new vS.Z({server:this.model}))}});var MSe=n(36504),SSe=n.n(MSe);const ESe=m.Z.ItemView.extend({className:"setup-loading-container",template:SSe()});var DSe=n(55978),CSe=n.n(DSe),PSe={setupIntro:"intro",setupError:"error",setupBasic:"name",setupLibrary:"library",setupComplete:"complete"},wSe=[GM.HN,GM.NV,GM.E4];const TSe=m.Z.Layout.extend({className:"container",template:CSe(),maxAttempts:120,ui:{header:".setup-header"},regions:{container:".setup-container"},events:{"click .segment-btn":"onNavClick","click .next-btn":"onNavClick","click .done-btn":"onDoneClick"},onlyAfterRender:["onAgentsSuccess","onAgentsFail","onUpdatesComplete"],initialize:function(e){E().bindAll(this,"start","onAgentsSuccess","onAgentsFail","onUpdatesComplete","onSkipSignInChange"),(0,(0,M.DB)("appStore").dispatch)((0,mn.ZZ)({allowLightPreset:!1})),this.subset=e.subset||"setupIntro",this.attempts=0,this._visitedSubsets={},D.Z.info("Starting the setup wizard");const t=(0,M.DB)("appModel");this.model=(0,JM.SW)(t,e),this.listenTo(t,"change:skipSignIn",this.onSkipSignInChange)},serializeData:function(){return{subset:this.subset}},renderSubset:function(){if(this.model.get("shared"))return void this.navigate("setupError");const e=(0,M.DB)("appModel"),t=e.get("user").server,n=t.populate();n.done(this.whenRendered((()=>{this.navigate("setupIntro")}))),n.fail((()=>{e.get("primaryServer").get("desktop").get("settings").fetch().then((e=>!0===e.get("AcceptedEULA").get("value")?g().Deferred().resolve():g().Deferred().reject())).then(this.whenRendered((()=>{this.navigate("setupIntro")}))).fail(this.whenRendered((()=>{const n=e.get("skipSignIn"),i=t.get("isUnavailable");this.navigate(n||i?"setupIntro":"setupSignIn")})))}))},start:function(){if(this.attempts>=this.maxAttempts)return D.Z.error("Failed to start the setup wizard after "+this.attempts+" attempts"),void this.navigate("setupError");this.attempts++;var e=this.model.get("startState");if(e)(0,D.Z)("Waiting for server to start ("+e+")"),this.model.fetch().done(E().delay(this.start,500));else{var t=new vye.Z([],{server:this.model}).fetch({timeout:0});t.done(this.onAgentsSuccess),t.fail(this.onAgentsFail)}},navigate:function(e){var t="setupIntro"===e,n="setupSignIn"===e,i="setupLoading"===e,s=function(e){return{setupSignIn:WMe,setupIntro:uSe,setupLoading:ESe,setupError:rSe,setupBasic:$Me,setupLibrary:bSe,setupComplete:nSe}[e]}(e),r=PSe[e];this.previousSubset=this.subset,this.subset=e,r&&(0,M.DB)("metrics").trackView({page:et.YB,pane:r,firstRun:!0});const a=!this._visitedSubsets[e];this._visitedSubsets[e]=!0;const o=new s({model:this.model,isFirstRun:!0,isFirstVisitToSubset:a});this.container.show(o),this.ui.header.toggleClass("hidden",t||n),this.$el.addClass(e),this.previousSubset!==e&&this.$el.removeClass(this.previousSubset),i&&this.start()},onRender:function(){this.renderSubset()},onAgentsSuccess:function(e){(0,D.Z)("Looking for a core agent");const t=wSe.find((t=>e.get(t)));t?((0,D.Z)(t+" found"),this.model.get("desktop").get("settings").populate().then((e=>e.get("AcceptedEULA").save({AcceptedEULA:!0}))),One.Z.execute("updateChannel",{server:this.model,silent:!0}).always(this.onUpdatesComplete)):(D.Z.error("No core agents found"),this.navigate("setupError"))},onAgentsFail:function(){D.Z.warn("Unable to request agents"),E().delay(this.start,500)},onUpdatesComplete:function(){this.navigate("setupBasic")},onNavClick:function(e){e.preventDefault();var t=g()(e.currentTarget),n=t.data("subset");t.hasClass("segment-btn")&&"setupBasic"===this.subset&&this.container.currentView?(e.preventDefault(),this.container.currentView.submit()):this.navigate(n)},onDoneClick:function(e){e.preventDefault(),(0,M.DB)("metrics").trackClick({page:et.YB,action:rr.ly,firstRun:!0}),(0,Ine.Z)("home")},onSkipSignInChange(){this.renderSubset()}});function ZSe(){return(0,de.P1)((0,HM.Z)(),(e=>e&&e.desktop))}const NSe=(0,f.$j)((function(){return(0,de.P1)(ZSe(),(e=>{const t=e.settings.find((e=>"AcceptedEULA"===e.id));return{isSettingsPopulated:e.isSettingsPopulated,settingsError:e.settingsError,hasAcceptedEULA:!(!t||!t.value),isAcceptedEULASaving:!(!t||!t.isSaving)}}))}),(function(e,t){const{serverEntityID:n,forwardUrl:i}=t;return{onPopulateSettings(){e((0,FS.R_)({serverEntityID:n}))},onAcceptEULA(){e((0,FS.o1)({serverEntityID:n,setting:{id:"AcceptedEULA",value:!0}}))},onSkipSignIn(){(0,M.DB)("metrics").trackClick({page:et.H4,action:rr.AM,firstRun:!0}),e((0,tt.nL)({url:i}))}}}))((function(e){const{isSettingsPopulated:t,settingsError:n,hasAcceptedEULA:i,isAcceptedEULASaving:s,onPopulateSettings:r,onAcceptEULA:a,onSkipSignIn:o}=e;return B6((()=>{r()})),B6((()=>{a()}),t&&!i),B6((()=>{o()}),i&&!s),n?y.createElement(_z.Z,{title:(0,De.Z)("Media server not found"),description:(0,De.Z)("The server you're trying to access doesn't seem to exist.")}):y.createElement(Gz.Z,null,y.createElement(RC.Z,null))})),ASe=(0,f.$j)((function(){return(0,de.P1)(((e,{serverEntityID:t})=>t),(e=>e.primaryServer),(e=>e.isWaitingForPrimaryServer),ge,((e,t,n)=>({serverEntityID:e||t,isWaitingForPrimaryServer:n})))}))((function(e){const{serverEntityID:t,isWaitingForPrimaryServer:n}=e,i=(0,Ee.Z)(),s=(0,Hz.Z)(i.forwardUrl);return t?y.createElement(Jz.Z,{serverEntityID:t,hideUnclaimedPage:!0},s?y.createElement(NSe,{serverEntityID:t,forwardUrl:s}):y.createElement(ame,{key:(0,hD.Z)("SetupPage",t),className:w5e,view:TSe,viewOptions:{serverEntityID:t,subset:"setupBasic"}})):n?y.createElement(Gz.Z,null,y.createElement(RC.Z,null)):y.createElement(_z.Z,{title:(0,De.Z)("Media server not found"),description:(0,De.Z)("The server you're trying to access doesn't seem to exist.")})}));function xSe(){const e=Fz(),t=(0,kt.Z)(Vt.cN,e.machineIdentifier);return y.createElement(uMe,null,y.createElement(aMe,null,y.createElement(ASe,{serverEntityID:t})))}function LSe(e,t){const n=t?t.split("\n"):[];return n.length>0?y.createElement(y.Fragment,null,y.createElement("div",{className:"ReleaseNotesModal-listTitle-1XMHtV"},e),y.createElement("ul",null,n.map(((e,t)=>y.createElement("li",{key:t},e))))):null}const OSe=function(e){const{version:t,added:n,fixed:i,isOpen:s,onClose:r}=e;return y.createElement(PL.Z,{metricsPage:et.Bc,isOpen:s,onModalClose:r},y.createElement(xL.Z,{onModalClose:r},y.createElement(NL.Z,null,(0,De.Z)("{product} Release Notes",{product:"Plex Media Server"})),y.createElement(wL.Z,null,y.createElement("div",{className:"ReleaseNotesModal-version-2aVHjw"},(0,De.Z)("Version {version}",{version:t})),LSe((0,De.Z)("New"),n),LSe((0,De.Z)("Fixes"),i))))},jSe=function({progress:e}){return y.createElement("div",{className:"ServerDownloadProgressBar-progress-39MXqt"},y.createElement("div",{className:"ServerDownloadProgressBar-emptyBar-YQtJzO"}),y.createElement("div",{className:"ServerDownloadProgressBar-bar-3ntjnu",style:{transform:`translate3d(-${100-e}%, 0, 0)`}}))},kSe="ServerUpdatePage-actionContainer-DxyzWR EmptyPageDescription-description-Q3Qyzg",RSe=(0,f.$j)((function(){return(0,de.P1)(Kh.Z,ge,ZSe(),((e,t,n)=>{const i=n.update;return{serverEntityID:e.entityID,friendlyName:e.friendlyName,state:i.state,error:i.error,progress:i.progress,availableVersion:(0,Tfe.Z)(i.version),currentVersion:(0,Tfe.Z)(e.version),downloadURL:i.downloadURL||t.appsUrl,added:i.added,fixed:i.fixed}}))}),(function(e,t){const{serverEntityID:n}=t;return{onDismissServerUpdate(t){e(mye({serverEntityID:n,version:t}))},onInstallServerUpdate(){e(gye({serverEntityID:n}))},onDownloadServerUpdate(){e(hye({serverEntityID:n}))},onRedirectToHome(){e((0,tt.im)({route:"home"}))}}}))((function(e){const{serverEntityID:t,friendlyName:n,state:i,error:s,progress:r,availableVersion:a,currentVersion:o,downloadURL:l,added:c,fixed:d,onDismissServerUpdate:u,onInstallServerUpdate:p,onDownloadServerUpdate:m,onRedirectToHome:h}=e,g=i===Xme||i===Wme,v=(0,xE.Z)(),f=(0,y.useCallback)((()=>{u(a)}),[a,u]);if(B6((()=>{h()}),g),g)return null;if(i===Jme)return y.createElement(ZIe.Z,{serverEntityID:t});const I=(0,De.Z)("Update available for {product}",{product:"Plex Media Server"});let b=(0,De.Z)('You are currently running version {currentVersion} on the server "{friendlyName}". Version {availableVersion} is now available.',{availableVersion:a,currentVersion:o,friendlyName:n});return i===ehe&&(b=b+" "+(0,De.Z)("This update will need to be installed manually after download.")),i===$me?y.createElement(Gz.Z,{iconSrc:iU,title:I,description:s||(0,De.Z)("Something went wrong, please try again later.")}):y.createElement(Gz.Z,{iconSrc:iU,title:(0,De.Z)("Update available for {product}",{product:"Plex Media Server"}),description:c||d?y.createElement(ax.Z,{message:b+" "+(0,De.Z)("{openLink}Show release notes{closeLink}."),tags:[{open:"openLink",close:"closeLink",component:AM.Z,onPress:v.onOpen,kind:fo._8}]}):b},i===Yme?y.createElement("div",{className:kSe},y.createElement($h.Z,{kind:fo._8,size:vc.ln,onPress:m},(0,De.Z)("Download now"))):null,i===qme?y.createElement("div",{className:kSe},y.createElement("div",null,(0,De.Z)("Downloading Update ({progress}%)",{progress:r})),isNaN(r)?null:y.createElement("div",{className:"ServerUpdatePage-progressContainer-1LKAfh"},y.createElement(jSe,{progress:r}))):null,i===Kme?y.createElement("div",{className:kSe},y.createElement($h.Z,{kind:fo._8,size:vc.ln,onPress:p},(0,De.Z)("Install now"))):null,i===ehe?y.createElement("div",{className:kSe},y.createElement($h.Z,{kind:fo._8,size:vc.ln,target:"_blank",to:l,onPress:f},(0,De.Z)("Download now"))):null,i!==qme&&i!==Kme?y.createElement(sM.Z,null,y.createElement(AM.Z,{className:"ServerUpdatePage-link-1hwFrv",kind:fo._8,size:vc.HC,to:"#",onPress:f},(0,De.Z)("Skip this version"))):null,y.createElement(OSe,{isOpen:v.isOpen,version:a,added:c,fixed:d,onClose:v.onClose}))}));function zSe(){const{machineIdentifier:e}=Fz(),t=(0,kt.Z)(Vt.cN,e);return y.createElement(Jz.Z,{serverEntityID:t},y.createElement(RSe,{serverEntityID:t}))}const USe=(0,de.P1)(he.Z,(e=>e.transientServer),((e,t)=>e[t])),VSe=(0,de.P1)((e=>e.ui.prePlayPage.metadataItem),EC.Z,((e,t)=>{const n=t[e]||{};return!(!n||!n.isPreFetched)})),BSe=mC(s6,(function(e){const t=e.ui.prePlayPage;return{providerEntityID:t.providerEntityID,metadataKey:t.metadataKey}}),(function(e,t){e(yK({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataKey:t.metadataKey})),e(MK()),e(SK())})),FSe=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.prePlayPage),VSe,dj.Z,ye.Z,((e,t,n,i)=>{const{metadataItem:s,descendantList:r,isMetadataItemPending:a,metadataItemError:o}=e,l=!a&&!!o;return{metadataItemEntityID:s,metadataListEntityID:r,showSpinner:a&&!t,showError:l,showNotFoundError:l&&404===o.status,activeSelectionType:n.activeSelectionType,columnAdjustment:i.columnAdjustment}}))}))(BSe);var HSe=Object.assign;var _Se=Object.assign;const QSe=(0,f.$j)((function(){return(0,de.P1)(((e,{providerIdentifier:t})=>t),_t.Z,USe,((e,t,n)=>{if(n){const i=n.providers;for(let s=0,r=i.length;s<r;s++){const r=t[i[s]];if(r.identifier===e)return{serverEntityID:n.entityID,providerEntityID:r.entityID}}}return{}}))}))((function(e){return e.serverEntityID&&e.providerEntityID?y.createElement(FSe,HSe({},e)):y.createElement(_z.Z,{title:(0,De.Z)("No longer available"),description:(0,De.Z)("Details can only be mirrored temporarily while casting")},y.createElement(AM.Z,{to:"#",kind:fo._8},(0,De.Z)("Go Home")))}));QSe.propTypes=_Se(_Se({},QSe.propTypes),{providerIdentifier:ls().string.isRequired});const GSe=QSe;function YSe(){const{providerIdentifier:e}=Fz(),t=(0,Ee.Z)(),n=(0,Hz.Z)(t.key);return y.createElement(GSe,{providerIdentifier:e,metadataKey:n})}var WSe=n(58499);function KSe(){return y.createElement(ame,{key:"UserSelectModal",className:"UserSelectModal-darkModalBackdrop-3c7cEB",view:WSe.Z,viewOptions:{isForced:!0,backdrop:!1}})}var qSe=n(52581),$Se=n(2530),JSe=n(48293),XSe=n(75300),eEe=n(32091),tEe=n(68187),nEe=n(1483),iEe=n(1039),sEe=n(19378),rEe=n(6797),aEe=n(11491),oEe=Object.assign;const lEe="userSharingSettingsPage",cEe="ui/userSharingSettingsPage/resetUserSharingSettingsPage",dEe="ui/userSharingSettingsPage/fetchFilterOptionsTags",uEe="ui/userSharingSettingsPage/setFriendRestrictions",pEe="ui/userSharingSettingsPage/updateManagedUserProfile",mEe="ui/userSharingSettingsPage/dismissFriendError",hEe="ui/userSharingSettingsPage/fetchSharedSources",gEe="ui/userSharingSettingsPage/populateSharedItem",yEe="ui/userSharingSettingsPage/deleteSharedItem",vEe="ui/userSharingSettingsPage/fetchServerOverviews",fEe="ui/userSharingSettingsPage/fetchServerShares",IEe="ui/userSharingSettingsPage/saveLibraryShares",bEe="ui/userSharingSettingsPage/dismissSharingError",MEe="ui/userSharingSettingsPage/removeServerShare",SEe="ui/userSharingSettingsPage/dismissRemoveServerShareError",EEe="ui/userSharingSettingsPage/addToHome",DEe=(0,No.Z)(cEe),CEe=(0,No.Z)(dEe),PEe=(0,No.Z)(uEe),wEe=(0,No.Z)(pEe),TEe=(0,No.Z)(mEe),ZEe=(0,No.Z)(hEe),NEe=(0,No.Z)(gEe),AEe=(0,No.Z)(yEe),xEe=(0,No.Z)(vEe),LEe=(0,No.Z)(fEe),OEe=(0,No.Z)(IEe),jEe=(0,No.Z)(bEe),kEe=(0,No.Z)(MEe),REe=(0,No.Z)(SEe),zEe=(0,No.Z)(EEe);function UEe(e){return e.get("ui").get("userSharingSettingsPage")}function VEe(e,t,n){return e.map((e=>{if(e.origin!==t)return e;const i=e.sharedItems.filter((e=>e.id!==n));return oEe(oEe({},e),{sharedItems:i})}))}const BEe=(0,HS.Z)({[cEe](e){const t=UEe(e);x.Z.abortAll(lEe),t.restoreDefaults()},[dEe](e,t={}){const n=UEe(e),{serverEntityIDs:i}=t,s=i.map((t=>(0,WS.SW)(e,{serverEntityID:t})));x.Z.abortAll(lEe),(0,Rt.c9)((()=>{n.set({isFilterOptionsTagsPopulating:!0,isFilterOptionsTagsPopulated:!1})})),(0,sEe.Z)(s,lEe).done((e=>{n.set({filterOptionsTags:e,isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!0})}))},[uEe](e,t,n){const i=UEe(e),s=e.get("cloudServer"),{friendEntityID:r,restrictions:a}=t,{restrictionProfileIdentifier:o}=a,l=(0,WS.KC)(e,{friendEntityID:r}),c=(0,WS.bg)(e);let d;if((0,Rt.c9)((()=>{i.set({isUpdatingFriend:!0,updateFriendError:null})})),o){const e={userId:l.id};o!==tEe.Pq&&(e.restrictionProfile=o);const t=s.getXHROptions("/api/v2/home/users/restricted/profile",{type:"POST",contentType:"application/json",data:JSON.stringify(e),scope:lEe});d=g().ajax(t).then((()=>{const e=c.get("homeUsers").find((e=>e.id===l.id)),t=o===tEe.Pq?"":o;return l.fetch().then((()=>{e.set("restrictionProfile",t)}))}))}else{const e=(0,rEe.Z)(a);d=l.save(e)}d.then((()=>{i.set({isUpdatingFriend:!1})}),(()=>{i.set({isUpdatingFriend:!1,updateFriendError:(0,De.Z)("Failed to update")})}))},[pEe](e,t,n){const i=UEe(e),s=e.get("cloudServer"),r=e.get("user").get("homeUsers"),{friendEntityID:a,username:o,avatar:l}=t,c=(0,WS.KC)(e,{friendEntityID:a});let d;if((0,Rt.c9)((()=>{i.set({isUpdatingFriend:!0,updateFriendError:null})})),o){if(o.trim()===c.get("title"))return void i.set({isUpdatingFriend:!1});if(r.findWhere({title:o.trim()}))return void i.set({isUpdatingFriend:!1,updateFriendError:(0,De.Z)("A Home user already exists with this name")});const e={friendlyName:o.trim()},t=s.getXHROptions(`/api/v2/home/users/restricted/${c.id}`,{type:"POST",contentType:"application/json",data:JSON.stringify(e),scope:lEe});d=g().ajax(t)}else l&&(d=(0,aEe.Z)(l,c.id));d.then((()=>{i.set({isUpdatingFriend:!1}),r.fetch(),n((0,dE.RY)()),n((0,dE.Tp)())}),(()=>{i.set({isUpdatingFriend:!1,updateFriendError:(0,De.Z)("Failed to update")})}))},[mEe](e,t,n){UEe(e).set({updateFriendError:null})},[hEe](e,t,n){const i=UEe(e),s=e.get("cloudServer");(0,Rt.c9)((()=>{i.set({isSharedSourcesPopulating:!0,isSharedSourcesPopulated:!1,sharedSourcesError:null})}));const r=C.Z.join("/api/v2/shared_sources/owned",{invitedId:t.userID,includeItems:!0}),a=C.Z.join("/api/v2/shared_sources/received",{ownerId:t.userID,includeItems:!0}),o=s.getXHROptions(r,{type:"GET",dataType:"json",scope:lEe}),l=s.getXHROptions(a,{type:"GET",dataType:"json",scope:lEe});g().when(g().ajax(o),g().ajax(l)).then(((e,t)=>{i.set({ownedSharedSources:e[0],receivedSharedSources:t[0],isSharedSourcesPopulating:!1,isSharedSourcesPopulated:!0})}),(()=>{i.set({isSharedSourcesPopulating:!1,sharedSourcesError:(0,De.Z)("Failed to fetch shared items.")})}))},[gEe](e,t,n){const{serverIdentifier:i,providerIdentifier:s,key:r}=(0,Vn.Z)(t.uri),a=e.get("servers").get(i),o=a&&a.get("providers").get(s);o&&o.get("isPopulated")&&new KM.Z({key:r},{server:a,provider:o}).populate()},[yEe](e,t,n){const i=UEe(e),s=e.get("cloudServer"),{id:r,origin:a,isOwnedItem:o}=t;i.set("deleteSharedItemID",r);const l=s.getXHROptions(`/api/v2/shared_items/${r}`,{method:"DELETE",dataType:"json",scope:lEe});g().ajax(l).then((()=>{const e={deleteSharedItemID:null};if(o){const t=VEe(i.get("ownedSharedSources"),a,r);e.ownedSharedSources=t}else{const t=VEe(i.get("receivedSharedSources"),a,r);e.receivedSharedSources=t}i.set(e)}),(()=>{n((0,dS.wp)({type:"error",message:(0,De.Z)("There was a problem removing this shared item.")})),i.set("deleteSharedItemID",null)}))},[vEe](e,t={}){const n=UEe(e),{serverEntityIDs:i}=t;(0,Rt.c9)((()=>{n.set({isServerOverviewsPopulating:!0,isServerOverviewsPopulated:!1})})),(0,JSe.Z)(i).then((e=>{n.set({isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!0,serverOverviews:e})}))},[fEe](e,t={}){const n=UEe(e),i=(0,WS.KC)(e,t);x.Z.abortAll(lEe),(0,Rt.c9)((()=>{n.set({isServerSharesPopulating:!0,isServerSharesPopulated:!1,serverSharesError:null})})),(0,XSe.Z)(i,lEe).done((()=>{n.set({isServerSharesPopulating:!1,isServerSharesPopulated:!0})})).fail((()=>{n.set({isServerSharesPopulating:!1,serverSharesError:(0,De.Z)("Failed to load shares.")})}))},[IEe](e,t={},n){const i=UEe(e),s=e.get("user");(0,Rt.c9)((()=>{i.set({isSharingPending:!0,isSharingCompleted:!1,sharingError:null})}));const{friendEntityID:r,machineIdentifier:a,selectedLibrarySectionIDs:o,isAllLibrariesSelected:l}=t,c=(0,WS.KC)(e,{friendEntityID:r}),d=c.get("serverShares"),u=d.findWhere({machineIdentifier:a}),p=!u,m=!l&&0===o.length,h=l?[]:o;let g;if(p){const e=new iEe.Z({machineIdentifier:a});g=(0,eEe.Z)({user:s,friend:c,serverShare:e,librarySectionIDs:h,isNewFriend:!1,isNewServerShare:!0})}else g=m?u.destroy({wait:!0}):(0,eEe.Z)({user:s,friend:c,serverShare:u,librarySectionIDs:h,isNewFriend:!1,isNewServerShare:!1});g.done((e=>{p&&d.add(new iEe.Z(e,{server:s.server,parse:!0})),i.set({isSharingPending:!1,isSharingCompleted:!0})})).fail((e=>{i.set({isSharingPending:!1,sharingError:(0,G0.Z)(e,null,"status")||(0,De.Z)("Failed to update server shares.")})})).always((()=>{(0,XSe.Z)(c,lEe)}))},[bEe](e,t,n){UEe(e).set({sharingError:null})},[MEe](e,t,n){const i=UEe(e);(0,Rt.c9)((()=>{i.set({isRemoveServerSharePending:!0,isRemoveServerShareCompleted:!1,removeServerShareError:null})}));const{friendEntityID:s,machineIdentifier:r}=t,a=(0,WS.KC)(e,{friendEntityID:s});a.get("serverShares").findWhere({machineIdentifier:r}).destroy({wait:!0}).done((()=>{i.set({isRemoveServerSharePending:!1,isRemoveServerShareCompleted:!0})})).fail((e=>{i.set({isRemoveServerSharePending:!1,removeServerShareError:(0,G0.Z)(e,null,"status")||(0,De.Z)("Failed to remove server share.")})})).always((()=>{(0,XSe.Z)(a,lEe)}))},[SEe](e,t,n){UEe(e).set({removeServerShareError:null})},[EEe](e,t,n){const i=UEe(e),s=e.get("user"),r=(0,WS.KC)(e,t);(0,Rt.c9)((()=>{i.set({isUpdatingFriend:!0,updateFriendError:null})})),new nEe.Z({username:r.get("username")},{server:s.server}).save().done((()=>{i.set({isUpdatingFriend:!1}),n((0,dE.RY)()),n((0,dE.bc)()),n((0,dE.Tz)())})).fail((e=>{i.set({isUpdatingFriend:!1,updateFriendError:(0,G0.Z)(e,(0,De.Z)("Failed to add to Plex Home"),"status")})}))}}),FEe=function(e){return y.createElement("div",{className:"SettingsPageLoadingSpinner-spinnerContainer-1YRnNT"},y.createElement(RC.Z,null))};function HEe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-add-to-home-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M240.8 504H28V336h44.8v123.2H196V308h168v151.2h123.2V298.557L280 91.357l-66.322 66.321L182 126l98-98 252 252v224H319.2V352.8h-78.4V504zM134.4 190.4H224v44.8h-89.6v89.6H89.6v-89.6H0v-44.8h89.6v-89.6h44.8v89.6z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}HEe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const _Ee=HEe;function QEe(e){if(!e)return(0,De.Z)("Username is required")}function GEe(e){if(!e)return(0,De.Z)("Email address is required")}function YEe(e){if(!e)return(0,De.Z)("Password is required")}function WEe(e){if(!e)return(0,De.Z)("Password confirmation is required")}function KEe(e){if(!e)return(0,De.Z)("Current password is required")}function qEe(e){return e&&e.length<8?(0,De.Z)("Password must be at least 8 characters"):e&&e.length>128?(0,De.Z)("Password must be no longer than 128 characters"):void 0}function $Ee(e,t){if(e!==t.password.value)return(0,De.Z)("Passwords must match")}function JEe(e){if(!e)return(0,De.Z)("Verification code is required")}function XEe(e){if(!e)return(0,De.Z)("URL is required")}var eDe=n(91121);function tDe(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-avatar-crop-max-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m560 0l0 560-560 0 0-560 560 0m-420 280c0 77.268 62.732 140 140 140 77.268 0 140-62.732 140-140 0-77.268-62.732-140-140-140-77.268 0-140 62.732-140 140"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}tDe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const nDe=tDe;function iDe(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-avatar-crop-min-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m476 84l0 392-392 0 0-392 392 0m-336 196c0 77.268 62.732 140 140 140 77.268 0 140-62.732 140-140 0-77.268-62.732-140-140-140-77.268 0-140 62.732-140 140"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}iDe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const sDe=iDe,rDe="AvatarEditor-sliderEnd-3raxBW";var aDe=Object.assign;class oDe extends y.Component{constructor(e,t){super(e,t),this.setCanvasRef=e=>{this.canvas=e},this.onMouseDown=e=>{e.preventDefault(),this.startAvatarDrag(e.clientX,e.clientY)},this.onTouchStart=e=>{e.preventDefault();const t=e.touches.item(0);t&&this.startAvatarDrag(t.clientX,t.clientY,!0)},this.onTouchMove=e=>{const t=e.touches.item(0);t&&this.dragAvatar(t.clientX,t.clientY)},this.onMouseMove=e=>{this.dragAvatar(e.clientX,e.clientY)},this.onMouseUp=()=>{this.stopAvatarDrag()},this.onTouchEnd=()=>{this.stopAvatarDrag()},this.onFileDrop=e=>{let t;if(e.preventDefault(),this.setState({isOverDropTarget:!1}),this.dropTargetEnteredCounter=0,e.dataTransfer&&e.dataTransfer.files.length?t=e.dataTransfer.files[0]:e.target.files&&e.target.files.length&&(t=e.target.files[0]),t){const e=new window.FileReader;e.onload=e=>this.loadImage(e.target.result),e.readAsDataURL(t)}},this.onDragEnter=(e=window.event)=>{e.preventDefault(),this.dropTargetEnteredCounter++,this.setOverDropTargetState()},this.onDragLeave=(e=window.event)=>{e.preventDefault(),this.dropTargetEnteredCounter--,this.setOverDropTargetState()},this.onSliderChange=({steppedValue:e})=>{this.setState((t=>{const{offsetX:n,offsetY:i}=t,s=this.initialWidth*e,r=this.initialHeight*e,a=(this.imageWidth-s)/2,o=(this.imageHeight-r)/2,l=this.props.width-s,c=this.props.height-r,d=Math.max(l,Math.min(n+a,0)),u=Math.max(c,Math.min(i+o,0));return aDe(aDe({},t),{scale:e,offsetX:d,offsetY:u})}),(()=>this.props.onChange(this.getImageDataUrl())))},this.state={drag:!1,dragX:0,dragY:0,minScale:.1,maxScale:1,scale:.1,offsetX:0,offsetY:0,isOverDropTarget:!1},this.dropTargetEnteredCounter=0}componentDidMount(){window.addEventListener("dragover",this.onWindowDragOver),window.addEventListener("drop",this.onWindowDrop),this.paint(),this.loadImage(this.props.url,!0)}componentWillReceiveProps(e){this.props.url!==e.url&&this.loadImage(e.url)}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}componentDidUpdate(){this.paint()}componentWillUnmount(){window.removeEventListener("dragover",this.onWindowDragOver),window.removeEventListener("drop",this.onWindowDrop),this.stopListeningForDrag()}listenForDrag(e){e?(document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchcancel",this.onTouchEnd),document.addEventListener("touchend",this.onTouchEnd)):(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))}stopListeningForDrag(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchcancel",this.onTouchEnd),document.removeEventListener("touchend",this.onTouchEnd)}startAvatarDrag(e,t,n){this.listenForDrag(n),this.setState({drag:!0,dragX:e,dragY:t})}dragAvatar(e,t){this.state.drag&&this.setState((n=>{const{offsetX:i,offsetY:s,dragX:r,dragY:a}=n,o=this.props.width-this.imageWidth,l=this.props.height-this.imageHeight,c=Math.max(o,Math.min(i+(e-r),0)),d=Math.max(l,Math.min(s+(t-a),0));return aDe(aDe({},n),{dragX:e,dragY:t,offsetX:c,offsetY:d})}))}stopAvatarDrag(){this.stopListeningForDrag(),this.setState({drag:!1},(()=>this.props.onChange(this.getImageDataUrl())))}loadImage(e,t,n=this.props){const i=new window.Image;i.onload=()=>this.onImageLoad(i,t),/^https?:\/\//.test(e)&&i.setAttribute("crossOrigin","anonymous");let s=e;if(0!==e.indexOf("data:")){const t=(0,tIe.Z)(),i={width:Math.round(n.width*t),height:Math.round(n.height*t),minSize:1},r=e.indexOf("?");r>-1?(s=C.Z.join(e.substring(0,r),i),s+=-1===s.indexOf("?")?"?":"&",s+=e.substring(r+1)):s=C.Z.join(s,i)}i.src=s}paint(){const{width:e,height:t}=this.props,n=this.canvas.getContext("2d");n.clearRect(0,0,e,t),this.image&&this.drawImage(n);const i=document.createElement("canvas"),s=i.getContext("2d");i.width=e,i.height=t,s.fillStyle="rgba(0,0,0,0.6)",s.fillRect(0,0,i.width,i.height),s.globalCompositeOperation="destination-out",s.arc(e/2,t/2,e/2,0,2*Math.PI),s.fill(),n.drawImage(i,0,0)}drawImage(e){this.imageWidth=this.initialWidth*this.state.scale,this.imageHeight=this.initialHeight*this.state.scale,e.drawImage(this.image,this.state.offsetX,this.state.offsetY,this.imageWidth,this.imageHeight)}getImageDataUrl(){const e=document.createElement("canvas"),t=e.getContext("2d");return e.height=this.props.height,e.width=this.props.width,this.drawImage(t),e.toDataURL()}setOverDropTargetState(){this.state.isOverDropTarget||0===this.dropTargetEnteredCounter||this.setState({isOverDropTarget:!0}),this.state.isOverDropTarget&&0===this.dropTargetEnteredCounter&&this.setState({isOverDropTarget:!1})}onImageLoad(e,t){this.image=e,this.initialWidth=Math.max(this.props.width,e.width),this.initialHeight=Math.max(this.props.height,e.height);const n=e.width>e.height?e.height:e.width,i=n>this.props.width?this.props.width/n:1,s=n<=this.props.width?2:1;this.setState({drag:!1,dragX:0,dragY:0,minScale:i,maxScale:s,scale:i,offsetX:0,offsetY:0},t?null:()=>this.props.onChange(this.getImageDataUrl()))}onWindowDrop(e=window.event){e.preventDefault()}onWindowDragOver(e=window.event){e.preventDefault()}onDragStart(e=window.event){e.dataTransfer.effectAllowed="copyMove"}onDragOver(e=window.event){e.dataTransfer.dropEffect="copy"}render(){const{isOverDropTarget:e}=this.state;return y.createElement("div",{className:"AvatarEditor-avatarContainer-1zL1-r",onDrop:this.onFileDrop,onDragOver:this.onDragOver,onDragStart:this.onDragStart,onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter},y.createElement("div",{className:"AvatarEditor-avatarPane-3KGAHf"},y.createElement("canvas",{className:e?"AvatarEditor-isOverDropTarget-1CZa7W":"",width:this.props.width,height:this.props.height,ref:this.setCanvasRef,onTouchStart:this.onTouchStart,onMouseDown:this.onMouseDown}),y.createElement("div",{className:"AvatarEditor-sliderContainer-2Dbein"},y.createElement("span",{className:rDe},y.createElement(sDe,null)),y.createElement("span",{className:"AvatarEditor-sliderWrapper-3njnCy"},y.createElement(vr.Z,{className:"AvatarEditor-slider-1JYVWM Slider-slider-4zRCDI",min:this.state.minScale,max:this.state.maxScale,step:.1,value:this.state.scale,onChange:this.onSliderChange})),y.createElement("span",{className:rDe},y.createElement(nDe,null)))),y.createElement("div",{className:"AvatarEditor-avatarTextPane-1PQTuh"},y.createElement("p",null,y.createElement(Jk,{accept:"image/*",buttonText:(0,De.Z)("Choose Photo"),onChange:this.onFileDrop})),y.createElement("p",{className:"AvatarEditor-help-1qDdY3"},(0,De.Z)("You can scale your photo using the slider below, and adjust the crop by dragging it within the circle."))))}}oDe.defaultProps={height:200,width:200,onChange(){}};const lDe=(0,vee.Z)(oDe),cDe=(0,f.$j)((function(){return(0,de.P1)((0,eDe.Z)(),(e=>({url:e})))}))(lDe);var dDe=Object.assign;const uDe={isUsernameOpen:!1,isPhotoOpen:!1},pDe={onSubmit:wEe,onErrorDismiss:TEe},mDe=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.userSharingSettingsPage),ge,(0,Qt.Z)("isAllFriendsPending"),((e,t,n)=>({cloudServerEntityID:t.entityID,isAllFriendsPending:n,isUpdatingFriend:e.isUpdatingFriend,updateFriendError:e.updateFriendError})))}),pDe)((function(e){const{cloudServerEntityID:t,friend:n,isGuest:i,isAllFriendsPending:s,isUpdatingFriend:r,updateFriendError:a,onSubmit:o,onErrorDismiss:l}=e,{entityID:c,title:d,thumb:u}=n,[p,m]=(0,y.useState)(uDe),h=(0,zr.Z)(s);(0,y.useEffect)((()=>{!h||s||a||m(E().mapObject(p,(()=>!1)))}),[h,s,a,p]);const g=(0,y.useCallback)((e=>t=>{t.preventDefault(),a&&l({friendEntityID:c});const n=E().mapObject(p,((t,n)=>n===e&&!p[e]));m(n)}),[p,m,c,a,l]),v=(0,y.useCallback)(((e,t)=>({title:e,isOpen:p[t],onSubmit:e=>{o(dDe(dDe({},e),{friendEntityID:c}))},isUpdating:r||s,onTogglePress:g(t)})),[p,g,c,s,r,o]),f=(0,y.useCallback)((()=>{a&&l()}),[a,l]);return y.createElement(see,{className:"UserSharingSettingsProfile-content-20Oy-o SettingsPage-content-2rYCzy PageContent-pageContent-aqfjwt",metricsPage:et.I7,metricsPane:"profile"},i?null:y.createElement(Wee,dDe(dDe({},v((0,De.Z)("Username"),"isUsernameOpen")),{closedNode:d}),y.createElement(Qk.Z,{labelText:(0,De.Z)("Username"),name:"username",initialValue:d,errors:a?[a]:[],validations:[QEe],onChange:f})),y.createElement(Wee,dDe(dDe({},v((0,De.Z)("Photo"),"isPhotoOpen")),{closedNode:y.createElement(V4.Z,{serverEntityID:t,url:u,width:80,height:80})}),y.createElement(cDe,{serverEntityID:t,name:"avatar",width:180,height:180,initialValue:u,url:u})))}));var hDe=n(13209);function gDe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-ban-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M169.704 446.864C201.322 467.804 239.237 480 280 480c110.457 0 200-89.543 200-200 0-40.763-12.195-78.678-33.136-110.296l-277.16 277.16zm-56.568-56.568l277.16-277.16C358.678 92.196 320.763 80 280 80 169.543 80 80 169.543 80 280c0 40.763 12.195 78.678 33.136 110.296zM280 560C125.36 560 0 434.64 0 280S125.36 0 280 0s280 125.36 280 280-125.36 280-280 280z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}gDe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const yDe=gDe;var vDe=n(96909),fDe=n(86970),IDe=n(40498),bDe=n(28671),MDe=n(38625),SDe=Object.prototype.hasOwnProperty,EDe=Object.getOwnPropertySymbols,DDe=Object.prototype.propertyIsEnumerable,CDe=Object.assign;function PDe(e){const{[IDe.ZO]:t,[IDe.Jm]:n,[IDe.GP]:i,[IDe.Bi]:s}=e;if(!(t||n||i||s))return(0,De.Z)("No restrictions");const r=[t,i].reduce(((e,t)=>t?e.concat(t.split(",")):e),[]).join(", "),a=[n,s].reduce(((e,t)=>t?e.concat(t.split(",")):e),[]).join(", "),o=r.length>0,l=a.length>0;return o&&!l?(0,De.Z)("Allow only {tags}",{tags:r}):!o&&l?(0,De.Z)("Exclude only {tags}",{tags:a}):y.createElement(y.Fragment,null,y.createElement("div",null,(0,De.Z)("Allow only {tags}",{tags:r})),y.createElement("div",null,(0,De.Z)("Exclude {tags}",{tags:a})))}function wDe(e){const{label:t,metadataType:n,contentRatingsName:i,excludeContentRatingsName:s,labelsName:r,excludeLabelsName:a,filters:o,tagsProps:l}=e,c=((e,t)=>{var n={};for(var i in e)SDe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&EDe)for(var i of EDe(e))t.indexOf(i)<0&&DDe.call(e,i)&&(n[i]=e[i]);return n})(e,["label","metadataType","contentRatingsName","excludeContentRatingsName","labelsName","excludeLabelsName","filters","tagsProps"]),d=(0,MDe.Z)(o,IDe.ZO,IDe.Jm),u=(0,MDe.Z)(o,IDe.GP,IDe.Bi);return y.createElement(Wee,CDe(CDe({},c),{closedNode:PDe(o)}),y.createElement(yee.Z,null,t),i?y.createElement(bDe.Z,CDe(CDe({},l),{name:i,metadataType:n,tagType:IDe.ZO,initialValue:d.initialAllowTags,excludedTags:d.excludeTags,onChange:d.onAllowTagsChange})):null,s?y.createElement(bDe.Z,CDe(CDe({},l),{name:s,metadataType:n,tagType:IDe.Jm,initialValue:d.initialExcludeTags,excludedTags:d.allowTags,onChange:d.onExcludeTagsChange})):null,y.createElement(bDe.Z,CDe(CDe({},l),{name:r,metadataType:n,tagType:IDe.GP,initialValue:u.initialAllowTags,excludedTags:u.excludeTags,onChange:u.onAllowTagsChange})),y.createElement(bDe.Z,CDe(CDe({},l),{name:a,metadataType:n,tagType:IDe.Bi,initialValue:u.initialExcludeTags,excludedTags:u.allowTags,onChange:u.onExcludeTagsChange})))}var TDe=Object.assign;const ZDe={isRestrictionProfileOpen:!1,isAllowSyncOpen:!1,isAllowCameraUploadOpen:!1,isAllowLiveTVOpen:!1,isMovieTagsOpen:!1,isTelevisionTagsOpen:!1,isMusicTagsOpen:!1};function NDe(e){return tEe.oL(e||tEe.Pq).title}function ADe(e,t){return e?vDe.Z.options[t]():t===vDe.Z.TV_ONLY?(0,De.Z)("Enabled"):(0,De.Z)("Disabled")}function xDe(e){return parseInt(e,10)}const LDe=function(e){const{friend:t,restrictionProfile:n,filterOptionsTags:i,isFilterOptionsTagsPopulating:s,isFilterOptionsTagsPopulated:r,isUpdatingFriend:a,updateFriendError:o,hasPlexPass:l,isGuest:c,canShowRestrictions:d,canShareTuners:u,canShareDVR:p,onSubmit:m,onErrorDismiss:h}=e,{entityID:g,restricted:v,filterMovies:f,filterTelevision:I,filterMusic:b,allowSync:M,allowCameraUpload:S,allowTuners:D}=t,[C,P]=(0,y.useState)(ZDe),w=(0,zr.Z)(a);(0,y.useEffect)((()=>{!w||a||o||P(E().mapObject(C,(()=>!1)))}),[w,a,o,C]);const T=(0,y.useCallback)((e=>t=>{t.preventDefault(),o&&h({friendEntityID:g});const n=E().mapObject(C,((t,n)=>n===e&&!C[e]));P(n)}),[C,P,g,o,h]),Z=(0,y.useCallback)(((e,t)=>({title:e,isOpen:C[t],onSubmit:e=>{m({friendEntityID:g,restrictions:e})},isUpdating:a,errorMessage:o,onTogglePress:T(t)})),[C,T,g,a,o,m]),N={filterOptionsTags:i,isFilterOptionsTagsPopulating:s,isFilterOptionsTagsPopulated:r},A=d&&!n;return y.createElement(see,{className:"UserSharingSettingsRestrictions-content-3yssJ9 SettingsPage-content-2rYCzy PageContent-pageContent-aqfjwt",metricsPage:et.I7,metricsPane:"restrictions"},v&&!c?y.createElement(Wee,TDe(TDe({},Z((0,De.Z)("Restriction Profile"),"isRestrictionProfileOpen")),{closedNode:NDe(n)}),y.createElement(fDe.Z,{name:"restrictionProfileIdentifier",initialValue:n||tEe.Pq,hasPlexPass:l})):null,y.createElement(Wee,TDe(TDe({},Z((0,De.Z)("Allow Downloads"),"isAllowSyncOpen")),{closedNode:M?(0,De.Z)("Enabled"):(0,De.Z)("Disabled")}),y.createElement(oee.Z,{name:"allowSync",initialValue:M,labelText:(0,De.Z)("Allow Downloads"),checkboxText:(0,De.Z)("Allow this user to download content from your server")})),d?y.createElement(Wee,TDe(TDe({},Z((0,De.Z)("Allow Camera Upload"),"isAllowCameraUploadOpen")),{closedNode:S?(0,De.Z)("Enabled"):(0,De.Z)("Disabled")}),y.createElement(oee.Z,{name:"allowCameraUpload",initialValue:S,labelText:(0,De.Z)("Allow Camera Upload"),checkboxText:(0,De.Z)("Allow this user to upload media to your server")})):null,u?y.createElement(Wee,TDe(TDe({},Z(p?(0,De.Z)("Live TV & DVR Access"):(0,De.Z)("Allow access to Live TV"),"isAllowLiveTVOpen")),{closedNode:ADe(p,D)}),p?y.createElement(lee.Z,{name:"allowTuners",initialValue:D,value:vDe.Z.values[D],values:vDe.Z.values,transformValue:xDe,labelText:(0,De.Z)("Live TV & DVR Access"),helpText:(0,De.Z)("Enabling Live TV for this user requires sharing a library with them. Enabling DVR will show all scheduled recordings, but this user will only be able to manage their own recordings")}):y.createElement(oee.Z,{name:"allowTuners",initialValue:D,checkedValue:1,uncheckedValue:0,labelText:(0,De.Z)("Allow access to Live TV"),checkboxText:(0,De.Z)("Enabling this option will allow this user to access Live TV streams.")})):null,A?y.createElement(y.Fragment,null,y.createElement(wDe,TDe(TDe({},Z(eJ.ZP.get(eJ.MB).title,"isMovieTagsOpen")),{label:eJ.ZP.get(eJ.MB).title,metadataType:Ho.MOVIE,contentRatingsName:"moviesContentRatings",excludeContentRatingsName:"moviesExcludeContentRatings",labelsName:"moviesLabels",excludeLabelsName:"moviesExcludeLabels",filters:f,tagsProps:N})),y.createElement(wDe,TDe(TDe({},Z(eJ.ZP.get(eJ.TV).title,"isTelevisionTagsOpen")),{label:eJ.ZP.get(eJ.TV).title,metadataType:Ho.SHOW,contentRatingsName:"televisionContentRatings",excludeContentRatingsName:"televisionExcludeContentRatings",labelsName:"televisionLabels",excludeLabelsName:"televisionExcludeLabels",filters:I,tagsProps:N})),y.createElement(wDe,TDe(TDe({},Z(eJ.ZP.get(eJ.xF).title,"isMusicTagsOpen")),{label:eJ.ZP.get(eJ.xF).title,metadataType:Ho.ARTIST,labelsName:"musicLabels",excludeLabelsName:"musicExcludeLabels",filters:b,tagsProps:N}))):null,d?null:y.createElement(goe,{iconComponent:yDe,title:(0,De.Z)("Sharing Restrictions"),text:(0,De.Z)("Upgrade to a Plex Pass to get more control over the media you share."),moreInfo:y.createElement(ax.Z,{message:(0,De.Z)("See our {openLinkSupported}support article{closeLinkSupported} for more information."),tags:[{open:"openLinkSupported",close:"closeLinkSupported",component:AM.Z,kind:fo._8,to:Np.T4,target:"_blank"}]})},y.createElement(voe,{origin:poe.xq,modalMetricsProperties:{context:pS.USERS_AND_SHARING}})))};var ODe=Object.prototype.hasOwnProperty,jDe=Object.getOwnPropertySymbols,kDe=Object.prototype.propertyIsEnumerable,RDe=Object.assign;const zDe=(0,Ie.Z)(be.d6),UDe=(0,Ie.Z)(be.jq),VDe=(0,Ie.Z)(be.LD),BDe={dispatchFetchFilterOptionsTags:CEe,onSubmit:PEe,onErrorDismiss:TEe},FDe=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.userSharingSettingsPage),((e,{friend:t})=>t),hDe.Z,zDe,UDe,VDe,(0,de.P1)(((e,{friend:t})=>t),qSe.Z,((e,t)=>Object.values(t).find((t=>t.id===e.id)))),(0,Qt.Z)("hasPlexPass"),((e,t,n,i,s,r,a,o)=>{const l=s||t.home;return{serverEntityIDs:n,restrictionProfile:a?a.restrictionProfile:null,filterOptionsTags:e.filterOptionsTags,isFilterOptionsTagsPopulating:e.isFilterOptionsTagsPopulating,isFilterOptionsTagsPopulated:e.isFilterOptionsTagsPopulated,isUpdatingFriend:e.isUpdatingFriend,updateFriendError:e.updateFriendError,hasPlexPass:o,isGuest:!!a&&a.guest,canShowRestrictions:i,canShareTuners:l,canShareDVR:l&&r}}))}),BDe)((function(e){const{serverEntityIDs:t,dispatchFetchFilterOptionsTags:n}=e,i=((e,t)=>{var n={};for(var i in e)ODe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&jDe)for(var i of jDe(e))t.indexOf(i)<0&&kDe.call(e,i)&&(n[i]=e[i]);return n})(e,["serverEntityIDs","dispatchFetchFilterOptionsTags"]);return(0,y.useEffect)((()=>{n({serverEntityIDs:t})}),[t,n]),y.createElement(LDe,RDe({},i))}));var HDe=n(39365);const _De=function({serverShare:e}){const{name:t,libraries:n}=e;return y.createElement(y.Fragment,null,y.createElement(yee.Z,null,t),n.map((e=>y.createElement("div",{key:e.id,className:"FriendSharedServerLibraries-library-2EaMRB"},e.title))))};var QDe=Object.assign;function GDe(e){const{libraries:t,sharingSettings:n,allLibraries:i}=e,s=i?(0,De.Z)("All libraries"):t.map((e=>e.title)).join(", "),r=[];return n.allowSync&&r.push((0,De.Z)("Sync Allowed")),n.allowCameraUpload&&r.push((0,De.Z)("Camera Upload Allowed")),0!==n.allowTuners&&r.push(1===n.allowTuners?(0,De.Z)("Live TV Allowed"):(0,De.Z)("Live TV and DVR allowed")),y.createElement(y.Fragment,null,y.createElement("div",null,s),r.length>0?y.createElement("div",null,r.join(", ")):null)}const YDe=(0,de.P1)((e=>e.ui.userSharingSettingsPage),(e=>{const{isRemoveServerSharePending:t,isRemoveServerShareCompleted:n,removeServerShareError:i}=e;return{isRemoveServerSharePending:t&&!i,isRemoveServerShareCompleted:n,removeServerShareError:i}})),WDe={onSubmit:kEe,onErrorDismiss:REe},KDe=(0,f.$j)(YDe,WDe)((function(e){const{friend:t,serverShares:n,isRemoveServerSharePending:i,isRemoveServerShareCompleted:s,removeServerShareError:r,onSubmit:a,onErrorDismiss:o}=e,l=(0,y.useMemo)((()=>n.reduce(((e,t)=>(e[t.machineIdentifier]=!1,e)),{})),[n]),[c,d]=(0,y.useState)(l),[u,p]=(0,y.useState)(!1),[m,h]=(0,y.useState)(null),g=(0,zr.Z)(s);(0,y.useEffect)((()=>{g||!s||r||d(E().mapObject(c,(()=>!1)))}),[c,g,s,r]);const v=(0,y.useCallback)((()=>{p(!1)}),[p]),f=(0,y.useCallback)((()=>{a({friendEntityID:t.entityID,machineIdentifier:m}),p(!1)}),[t,m,p,a]),I=(0,y.useCallback)((e=>t=>{t.preventDefault(),r&&o();const n=E().mapObject(c,((t,n)=>n===e&&!c[e]));d(n)}),[c,d,r,o]),b=(0,y.useCallback)(((e,t)=>({title:e,isOpen:c[t],onSubmit:()=>{h(t),p(!0)},isUpdating:i,errorMessage:r,onTogglePress:I(t)})),[c,i,r,I]);return y.createElement(y.Fragment,null,n.map((e=>{const{machineIdentifier:t,name:n}=e;return y.createElement(Wee,QDe(QDe({},b(n,t)),{key:t,closedNode:GDe(e),buttonKind:fo.T,buttonText:(0,De.Z)("Leave Server"),showButtonEnabled:!0}),y.createElement(_De,{key:t,serverShare:e}))})),y.createElement(nt.Z,{isOpen:u,metricsPage:et.I7,kind:fo.T,title:(0,De.Z)("Leave shared server"),message:(0,De.Z)("Are you sure you want to leave this shared server?"),confirmLabel:(0,De.Z)("Leave Server"),onConfirm:f,onCancel:v}))}));var qDe=n(15041);var $De=Object.assign;const JDe=(0,vee.Z)((function(e){return y.createElement(mee.Z,$De({className:"SharedServerLibrary-input-ye6zQv CheckInput-input-3zLcUz"},e))})),XDe=function(e){const{serverOverview:t,serverShare:n}=e,{machineIdentifier:i,name:s,sections:r}=t,[a,o]=(0,y.useState)(!(!n||!n.allLibraries)),l=(0,y.useCallback)((()=>{o(!a)}),[a]);return y.createElement(y.Fragment,null,y.createElement(yee.Z,null,s),r.length>0?y.createElement(JDe,{name:JSON.stringify({[qDe.I]:i}),checkboxText:(0,De.Z)("All Libraries"),initialValue:a,onChange:l}):null,0===r.length?y.createElement("div",{className:"SharedServerLibraries-emptyMessage-5C_z61"},(0,De.Z)("No libraries")):null,a?null:r.map((e=>{const{id:t,title:i}=e,s=!!(n&&n.libraries&&n.libraries.find((e=>e.id===t)));return y.createElement(JDe,{key:t,name:JSON.stringify({[qDe.n]:t}),checkboxText:i,initialValue:s})})))};var eCe=Object.assign;function tCe(e){return e?e.allLibraries?(0,De.Z)("All libraries"):e.libraries.map((e=>e.title)).join(", "):(0,De.Z)("No shared libraries")}const nCe=(0,de.P1)((e=>e.ui.userSharingSettingsPage),(e=>{const{isSharingPending:t,isSharingCompleted:n,sharingError:i}=e;return{isSharingPending:t&&!i,isSharingCompleted:n,sharingError:i}})),iCe={onSubmit:OEe,onErrorDismiss:jEe},sCe=(0,f.$j)(nCe,iCe)((function(e){const{friend:t,serverOverviews:n,isSharingPending:i,isSharingCompleted:s,sharingError:r,onSubmit:a,onErrorDismiss:o}=e,l=(0,y.useMemo)((()=>n.reduce(((e,t)=>(e[t.machineIdentifier]=!1,e)),{})),[n]),[c,d]=(0,y.useState)(l),u=(0,zr.Z)(s);(0,y.useEffect)((()=>{u||!s||r||d(E().mapObject(c,(()=>!1)))}),[c,u,s,r]);const p=(0,y.useCallback)((e=>t=>{t.preventDefault(),r&&o();const n=E().mapObject(c,((t,n)=>n===e&&!c[e]));d(n)}),[c,d,r,o]),m=(0,y.useCallback)((e=>n=>{const i=Object.keys(n).reduce(((e,t)=>{const i=n[t],s=JSON.parse(t);return i&&s.hasOwnProperty(qDe.n)&&e.selectedLibrarySectionIDs.push(s[qDe.n]),i&&s.hasOwnProperty(qDe.I)&&(e.isAllLibrariesSelected=!0),e}),{friendEntityID:t.entityID,machineIdentifier:e,selectedLibrarySectionIDs:[],isAllLibrariesSelected:!1});a(i)}),[t,a]),h=(0,y.useCallback)(((e,t)=>({title:e,isOpen:c[t],onSubmit:m(t),isUpdating:i,errorMessage:r,onTogglePress:p(t)})),[c,m,p,i,r]);return n.map((e=>{const{name:n,machineIdentifier:i}=e,s=t.serverShares.find((e=>e.machineIdentifier===i));return y.createElement(Wee,eCe(eCe({},h(n,i)),{key:i,closedNode:tCe(s)}),y.createElement(XDe,{key:i,serverOverview:e,serverShare:s}))}))})),rCe=function({children:e}){return y.createElement("h2",{className:"UserSharingSettingsPageHeader-header-1qiBA2"},e)},aCe=function(e){const{friend:t,serverOverviews:n,isRestricted:i,isLoading:s,showList:r,errorMessage:a}=e,o=(0,y.useMemo)((()=>t.serverShares.filter((e=>!e.owned&&!e.pending))),[t]);return a?y.createElement(_z.Z,{title:(0,De.Z)("There was an unexpected error"),description:a}):y.createElement(see,{metricsPage:et.I7,metricsPane:"sharedLibraries"},s?y.createElement(FEe,null):null,r?y.createElement(y.Fragment,null,i?null:y.createElement(rCe,null,(0,De.Z)("Shared with {username}",{username:t.title})),i?null:y.createElement(sCe,{friend:t,serverOverviews:n}),o.length>0?y.createElement(rCe,null,(0,De.Z)("Shared with you")):null,o.length>0?y.createElement(KDe,{friend:t,serverShares:o}):null):null)};var oCe=Object.prototype.hasOwnProperty,lCe=Object.getOwnPropertySymbols,cCe=Object.prototype.propertyIsEnumerable,dCe=Object.assign;const uCe=(0,de.P1)((e=>e.ui.userSharingSettingsPage),HDe.Z,(0,Qt.Z)("restricted"),((e,t,n)=>{const{serverOverviews:i,isServerOverviewsPopulating:s,isServerOverviewsPopulated:r,isServerSharesPopulating:a,isServerSharesPopulated:o,serverSharesError:l}=e;return{sharingEligibleServerEntityIDs:t,serverOverviews:i,isRestricted:n,isLoading:(s||a)&&!l,showList:r&&o,errorMessage:l}})),pCe={dispatchFetchServerOverviews:xEe,dispatchFetchServerShares:LEe},mCe=(0,f.$j)(uCe,pCe)((function(e){const{friend:t,sharingEligibleServerEntityIDs:n,dispatchFetchServerOverviews:i,dispatchFetchServerShares:s}=e,r=((e,t)=>{var n={};for(var i in e)oCe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&lCe)for(var i of lCe(e))t.indexOf(i)<0&&cCe.call(e,i)&&(n[i]=e[i]);return n})(e,["friend","sharingEligibleServerEntityIDs","dispatchFetchServerOverviews","dispatchFetchServerShares"]),a=t.entityID;return(0,y.useEffect)((()=>{i({serverEntityIDs:n})}),[n,i]),(0,y.useEffect)((()=>{s({friendEntityID:a})}),[a,s]),y.createElement(aCe,dCe(dCe({},r),{friend:t}))}));var hCe=n(90087);const gCe="SharedItemCell-subtitle-1SOQ2N SharedItemCell-title-K_oI7p",yCe=function(e){const{serverEntityID:t,providerEntityID:n,cellIndex:i,id:s,origin:r,serverName:a,type:o,playlistType:l,title:c,parentTitle:d,grandparentTitle:u,leafCount:p,duration:m,imageWidth:h,imageHeight:g,imageUrl:v,isOwnedItem:f,isDeleting:I,showDelete:b,onDeleteSharedItem:M}=e,S=(0,HC.Z)(e),[E,D]=(0,y.useState)(!1),C=(0,zr.Z)(I),P=(0,y.useCallback)((()=>{D(!0)}),[]),w=(0,y.useCallback)((()=>{M({id:s,origin:r,isOwnedItem:f})}),[s,r,f,M]),T=(0,y.useCallback)((()=>{D(!1)}),[]);(0,y.useEffect)((()=>{C&&!I&&D(!1)}),[C,I]);const Z=function(e,t,n){const i=n||t;return i?`${i} · ${e}`:e}(c,d,u),N=Ho.getMetadataType(o).title,A=f?(0,De.Z)("Are you sure you want to stop sharing this item? The user will no longer be able to access it on {serverName}.",{serverName:a}):(0,De.Z)("Are you sure you want to remove this shared item? You will no longer be able to access it on {serverName}.",{serverName:a});return y.createElement("div",{className:we()(i%2?"SharedItemCell-alternateItem-1RdHpY SharedItemCell-item-Goz7Q7":"SharedItemCell-item-Goz7Q7",E&&"SharedItemCell-isDeleteConfirmModalOpen-l2UkFq"),style:S.style},y.createElement("div",{className:"SharedItemCell-posterContainer-32v9RI"},y.createElement("div",{className:"SharedItemCell-poster-1Xmy5y",style:{width:h,height:g}},y.createElement(KC.Z,{serverEntityID:t,providerEntityID:n,type:o,url:S.isPlaceholder?null:v,width:h,height:g}))),y.createElement("div",{className:"SharedItemCell-summaryContainer-49VIdB"},y.createElement("div",{className:"SharedItemCell-titleContainer-3O7Vq7"},y.createElement("div",{className:"SharedItemCell-title-K_oI7p"},Z),y.createElement("div",{className:gCe},N,p||o===Ho.TRACK&&m?y.createElement(tr.Z,{className:"SharedItemCell-separator-3CGmeo DashSeparator-separator-3gTgvL"}):null,p?function(e,t,n){if(t)return L4(t,n);let i;if(e===Ho.SHOW)i=Ho.EPISODE;else{const t=Ho.getChildType(e);t&&(i=t.typeString)}return dG(i,n)}(o,l,p):null,o===Ho.TRACK&&m?Fi(m):null),y.createElement("div",{className:gCe},a)),y.createElement("div",{className:"SharedItemCell-actions-gLmcw4"},b?y.createElement(AM.Z,{"data-qa-id":"sharedItemDeleteButton",className:"SharedItemCell-deleteButton-2C4WI9",tabIndex:"0","aria-label":(0,De.Z)("Remove {title}",{title:Z}),onPress:P},y.createElement(cc.Z,{className:"SharedItemCell-icon-2aUsWc"})):null)),y.createElement(nt.Z,{kind:fo.T,title:(0,De.Z)("Remove {title}",{title:Z}),message:A,confirmLabel:f?(0,De.Z)("Stop Sharing"):(0,De.Z)("Remove"),isOpen:E,isConfirmButtonSpinning:I,metricsPage:et.I7,onConfirm:w,onCancel:T}))};var vCe=Object.prototype.hasOwnProperty,fCe=Object.getOwnPropertySymbols,ICe=Object.prototype.propertyIsEnumerable,bCe=Object.assign;const MCe={dispatchPopulateSharedItem:NEe,onDeleteSharedItem:AEe},SCe=(0,f.$j)((function(){return(0,de.P1)(((e,{id:t})=>t),((e,{type:t})=>t),((e,{title:t})=>t),(e=>e.ui.userSharingSettingsPage.deleteSharedItemID),(0,de.P1)(((e,{uri:t})=>t),he.Z,EC.Z,((e,t,n)=>{const{key:i,serverIdentifier:s}=(0,Vn.Z)(e),r=Object.keys(t).find((e=>t[e].machineIdentifier===s)),a=Object.keys(n).find((e=>{const t=n[e];return t.key===i&&t.serverEntityID===r}));return n[a]})),(0,de.P1)(((e,{uri:t})=>t),VB.Z,((e,t)=>{const{serverIdentifier:n}=(0,Vn.Z)(e),i=t.find((e=>e.server.machineIdentifier===n));return!!(i&&i.provider&&i.provider.isPopulated)})),((e,t,n,i,s={},r)=>{const a=function(e,t){const{subtype:n}=e,i=(0,hCe.Z)(t,n,YC.Ap);return(0,cG.Z)(i,null,t,n,e,YC.Ap)}(s,t);return{serverEntityID:s.serverEntityID,providerEntityID:s.providerEntityID,isItemProviderPopulated:r,grandparentKey:s.grandparentKey,parentTitle:s.parentTitle,grandparentTitle:s.grandparentTitle,type:t,playlistType:s.playlistType,index:s.index,title:s.title||n,leafCount:s.leafCount,duration:s.duration,isDeleting:e===i,showDelete:!i,imageWidth:a.width,imageHeight:a.height,imageUrl:a.url}}))}),MCe)((function(e){const{uri:t,isItemProviderPopulated:n,dispatchPopulateSharedItem:i}=e,s=((e,t)=>{var n={};for(var i in e)vCe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&fCe)for(var i of fCe(e))t.indexOf(i)<0&&ICe.call(e,i)&&(n[i]=e[i]);return n})(e,["uri","isItemProviderPopulated","dispatchPopulateSharedItem"]);return(0,y.useEffect)((()=>{n&&i({uri:t})}),[t,n,i]),y.createElement(yCe,bCe({},s))}));var ECe=Object.prototype.hasOwnProperty,DCe=Object.getOwnPropertySymbols,CCe=Object.prototype.propertyIsEnumerable,PCe=Object.assign;const wCe=(0,sX.Z)(120);function TCe(e){return t=>y.createElement(SCe,PCe({isOwnedItem:e},t))}const ZCe=function(e){const{isOwnedItem:t}=e,n=((e,t)=>{var n={};for(var i in e)ECe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&DCe)for(var i of DCe(e))t.indexOf(i)<0&&CCe.call(e,i)&&(n[i]=e[i]);return n})(e,["isOwnedItem"]);return y.createElement(Aj.Z,PCe(PCe({},n),{keyPropName:"id",layout:wCe,cellRenderer:TCe(t)}))},NCe="UserSharingSettingsSharedMedia-message-1rMNUT";var ACe=Object.assign;function xCe(e){return e.reduce(((e,t)=>[...e,...t.sharedItems.map((e=>ACe(ACe({},e),{origin:t.origin,serverName:t.name})))]),[])}const LCe=function(e){const{userTitle:t,isRestrictedUser:n,isRestrictedFriend:i,ownedSharedSources:s,receivedSharedSources:r,isPopulated:a,isLoading:o,errorMessage:l}=e,[c,d]=(0,y.useState)(0),[u,p]=(0,y.useState)(0),[m,h]=(0,y.useState)({isContentMeasured:!1}),g=(0,y.useMemo)((()=>xCe(s)),[s]),v=(0,y.useMemo)((()=>xCe(r)),[r]),f=(0,y.useCallback)((e=>{d(e.scrollTop)}),[]),I=(0,y.useCallback)((({width:e,height:t})=>{h({isContentMeasured:!0,contentWidth:e,contentHeight:t})}),[]),b=(0,y.useCallback)((({height:e})=>{p(e)}),[]);if(l)return y.createElement(_z.Z,{title:(0,De.Z)("There was an unexpected error"),description:l});const M=!o&&m.isContentMeasured,S=a&&!n,E=a&&!i;return y.createElement(see,{metricsPage:et.I7,metricsPane:"sharedMedia",scrollTop:c,onScrollPositionChange:f},o?y.createElement(FEe,null):null,y.createElement(OC.Z,{className:"UserSharingSettingsSharedMedia-container-4FcT64 Measure-container-14qPC5",onMeasure:I},M?y.createElement(y.Fragment,null,S?y.createElement(rCe,null,(0,De.Z)("Shared with {userTitle}",{userTitle:t})):null,S&&0===g.length?y.createElement("div",{className:NCe},(0,De.Z)("You haven't shared anything yet.")):null,S&&g.length>0?y.createElement(OC.Z,{ignoreWidth:!1,ignorePosition:!1,onMeasure:b},y.createElement(ZCe,{items:g,size:g.length,viewportWidth:m.contentWidth,viewportHeight:m.contentHeight,scrollTop:c,isOwnedItem:!0})):null,E?y.createElement(rCe,null,(0,De.Z)("Shared with you")):null,E&&0===v.length?y.createElement("div",{className:NCe},(0,De.Z)("This user hasn't shared anything with you yet.")):null,E&&v.length>0?y.createElement(ZCe,{items:v,size:v.length,viewportWidth:m.contentWidth,viewportHeight:m.contentHeight,scrollTop:c-u,isOwnedItem:!1}):null):null))};var OCe=Object.prototype.hasOwnProperty,jCe=Object.getOwnPropertySymbols,kCe=Object.prototype.propertyIsEnumerable,RCe=Object.assign;const zCe={dispatchFetchSharedSources:ZEe},UCe=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.userSharingSettingsPage),((e,{friend:t})=>t),(0,Qt.Z)("restricted"),((e,t,n)=>{const{ownedSharedSources:i,receivedSharedSources:s,isSharedSourcesPopulating:r,isSharedSourcesPopulated:a,sharedSourcesError:o}=e;return{userID:t.id,userTitle:t.title,ownedSharedSources:i,receivedSharedSources:s,isRestrictedUser:n,isRestrictedFriend:t.restricted,isPopulating:r,isPopulated:a,isLoading:r&&!o,errorMessage:o}}))}),zCe)((function(e){const{userID:t,isPopulating:n,isPopulated:i,dispatchFetchSharedSources:s}=e,r=((e,t)=>{var n={};for(var i in e)OCe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&jCe)for(var i of jCe(e))t.indexOf(i)<0&&kCe.call(e,i)&&(n[i]=e[i]);return n})(e,["userID","isPopulating","isPopulated","dispatchFetchSharedSources"]);return(0,y.useEffect)((()=>{n||i||s({userID:t})}),[t,n,i,s]),y.createElement(LCe,RCe(RCe({},r),{isPopulated:i}))})),VCe="UserSharingSettingsPage-confirmMessage-2VM2wM",BCe="sharedLibraries",FCe="sharedMedia",HCe="profile",_Ce="restrictions",QCe={[BCe]:mCe,[FCe]:UCe,[HCe]:mDe,[_Ce]:FDe},GCe=function(e){const{serverEntityID:t,friend:n,isGuest:i,isUpdatingFriend:s,isPending:r,isPopulated:a,showAddToHome:o,showProfile:l,showRestrictions:c,hasError:d,dispatchAddToHome:u}=e,p=(0,zr.Z)(s),[m,h]=(0,y.useState)(BCe),[g,v]=(0,y.useState)(!1),f=(0,y.useCallback)((e=>{h(e)}),[]),I=(0,y.useCallback)((()=>v(!0)),[]),b=(0,y.useCallback)((()=>u({friendEntityID:n.entityID})),[n,u]),M=(0,y.useCallback)((()=>v(!1)),[]);(0,y.useEffect)((()=>{p&&!s&&v(!1)}),[p,s,v]);const S=(0,y.useMemo)((()=>function(e,t,n){const i=[{id:BCe,title:(0,De.Z)("Shared Libraries"),isSelected:e===BCe},{id:FCe,title:(0,De.Z)("Shared Media"),isSelected:e===FCe}];return t&&i.push({id:HCe,title:(0,De.Z)("Profile"),isSelected:e===HCe}),n&&i.push({id:_Ce,title:(0,De.Z)("Restrictions"),isSelected:e===_Ce}),i}(m,l,c)),[m,l,c]),E=QCe[m];return y.createElement(LC.Z,{metricsPage:et.yV,metricsProperties:{pane:"users-sharing"},scrollDirection:vb.Hn},!d&&r?y.createElement(FEe,null):null,!d&&a?y.createElement(Ph,{className:"UserSharingSettingsPage-pageHeader-hkZzKx PageHeader-pageHeader-WpvbJc"},y.createElement(_b,{className:"UserSharingSettingsPage-pageHeaderLeft-1roQTK PageHeaderLeft-pageHeaderLeft-3u7DxT"},y.createElement(V4.Z,{className:"UserSharingSettingsPage-avatar-1ZX94P AvatarImg-avatar-3gp48Z",serverEntityID:t,url:n.thumb,width:60,height:60}),y.createElement("div",{className:"UserSharingSettingsPage-username-2e2LWN"},n.title)),y.createElement(gN,{tabs:S,hideSingleTabs:!1,onPress:f}),y.createElement(Qb.Z,{className:"UserSharingSettingsPage-pageHeaderRight-Wa52y7 PageHeaderRight-pageHeaderRight-8bsxD4"},o?y.createElement(GC.Z,{className:"UserSharingSettingsPage-addToHomeIcon-3UmUQ5 IconButton-button-2smHOM",iconComponent:_Ee,title:(0,De.Z)("Add to Plex Home"),onPress:I}):null)):null,!d&&a?y.createElement(E,{friend:n,isGuest:i}):null,d?y.createElement(VK,{title:(0,De.Z)("An error occurred loading this user"),description:(0,De.Z)("Please try again")},y.createElement(AM.Z,{to:"#!/settings/users-sharing",kind:fo._8},(0,De.Z)("Go Back"))):null,y.createElement(nt.Z,{isOpen:g,metricsPage:et.Bx,title:(0,De.Z)("Add to Plex Home"),message:y.createElement("div",{className:"UserSharingSettingsPage-confirmMessageContainer-1C49Jj"},y.createElement(Jh.Z,{className:"UserSharingSettingsPage-confirmWarning-1AxQ8b"}),y.createElement("div",{className:VCe},(0,De.Z)("Inviting other users to your home is a security risk that could allow these users to access your account. You should only do this if you live in the same home and share devices.")),y.createElement("div",{className:VCe},(0,De.Z)("Users in your Home appear on the Switch User screen. The invited user will be asked to confirm Home membership."))),confirmLabel:(0,De.Z)("Confirm"),kind:fo.T,isConfirmButtonSpinning:s,onConfirm:b,onCancel:M}))};var YCe=Object.prototype.hasOwnProperty,WCe=Object.getOwnPropertySymbols,KCe=Object.prototype.propertyIsEnumerable,qCe=Object.assign;const $Ce=(0,de.P1)((e=>e.ui.userSharingSettingsPage),(e=>e.cloudServer),((e,{userID:t})=>t),HB.Z,$Se.Z,z4.Z,qSe.Z,(0,Qt.Z)("hasPlexPass"),((e,t,n,i,s,r,a,o)=>{const l=Object.keys(r).find((e=>r[e].id===n)),c=Object.keys(a).find((e=>a[e].id===n)),d=i.isAllFriendsPopulated,u=r[l],p=a[c],m=!!s.sentInvites.find((e=>parseInt(e.id,10)===u.id&&e.home));return{serverEntityID:t,friend:u,isGuest:!!p&&p.guest,isUpdatingFriend:e.isUpdatingFriend,isPending:i.isAllFriendsPending&&!d,isPopulated:d,hasError:!!i.allFriendsError||d&&!l,showAddToHome:o&&!(u&&u.home)&&!m,showProfile:!!p&&p.restricted,showRestrictions:!i.restricted}})),JCe={dispatchResetUserSharingSettingsPage:DEe,dispatchPopulateAllFriends:dE.Bl,dispatchPopulateHomeUsers:dE.Dg,dispatchAddToHome:zEe},XCe=(0,f.$j)($Ce,JCe)((function(e){const{dispatchResetUserSharingSettingsPage:t,dispatchPopulateAllFriends:n,dispatchPopulateHomeUsers:i}=e,s=((e,t)=>{var n={};for(var i in e)YCe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&WCe)for(var i of WCe(e))t.indexOf(i)<0&&KCe.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchResetUserSharingSettingsPage","dispatchPopulateAllFriends","dispatchPopulateHomeUsers"]);return(0,y.useEffect)((()=>{(0,Rt.c9)(n)}),[n]),(0,y.useEffect)((()=>{(0,Rt.c9)(i)}),[i]),(0,y.useEffect)((()=>t),[t]),y.createElement(GCe,qCe({},s))}));function ePe(){const{userID:e}=(0,I.UO)();return y.createElement(XCe,{userID:parseInt(e,10)})}var tPe=n(34857),nPe=n(89571),iPe=n(82150);function sPe(e){(0,M.DB)("appStore").dispatch(e)}const rPe=function(e){return(0,tPe.RE)(sPe,e)};function aPe(e){return e((0,M.DB)("appStore").getState())}const oPe=function(e){return(0,tPe.RE)(aPe,e)};var lPe=Object.prototype.hasOwnProperty,cPe=Object.getOwnPropertySymbols,dPe=Object.prototype.propertyIsEnumerable,uPe=Object.assign;function*pPe({payload:e}){const{metadataKey:t,channel:n,prePlayRouteParams:i,server:s,provider:r,metricsPage:a,metricsContextTuple:o}=e;n?yield(0,tPe.RE)(mPe,s,r,n,a,o):t?yield(0,tPe.RE)(hPe,s,r,t,a,o,i):(0,Ine.Z)("home",{},!0)}function*mPe(e,t,n,i,s){try{yield rPe((0,qa.lS)({serverEntityID:e.entityID,providerEntityID:t.entityID,metricsPage:i,metricsProperties:{setting:F6,contextTuple:s},options:{type:$a.pX,identifier:n}})),yield(0,tPe.RE)(gPe)}catch(e){}finally{(0,Ine.Z)("home",{},!0)}}function*hPe(e,t,n,i,s,r={}){var a;const o=uPe(uPe({},r),{autoplay:void 0});let l;try{const r=(yield(0,tPe.RE)(nPe.Z.get,n,{server:e,provider:t})).data.MediaContainer,{Metadata:c=[]}=r,d=((e,t)=>{var n={};for(var i in e)lPe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&cPe)for(var i of cPe(e))t.indexOf(i)<0&&dPe.call(e,i)&&(n[i]=e[i]);return n})(r,["Metadata"]),[u]=c;if(!u)return;const p=(0,iPe.Z)({server:e,provider:t,data:u,container:d});l=p.metadataItem;const m=p.metadataItemStates[l.sourceURI];yield rPe((0,Ka.redispatchLegacyMetadataAction)({containerServer:e,containerProvider:t,server:e,provider:t,metadataItem:l,metadataItemState:m,metricsPage:i,legacyAction:it.wA({metricsProperties:{setting:F6,contextTuple:s}})})),yield(0,tPe.RE)(gPe)}catch(e){}finally{const i=null==(a=(0,ui.Z)(e,t,n,o,(null==l?void 0:l.isPlaylist)?l.playlistType:void 0))?void 0:a.replace("#!","");i?Gve.Z.replace(i):(0,Ine.Z)("home",{},!0)}}function*gPe(){let e=0;for(;!((yield oPe((0,ev.Z)(uh.G.AudioVideo,"isOpen")))||e>2e3);)e+=100,yield(0,tPe.gw)(100)}const yPe=(0,Fr.PH)("watchNowSaga/watchNow");function*vPe(){yield(0,tPe.A7)(yPe.type,pPe)}var fPe=Object.prototype.hasOwnProperty,IPe=Object.getOwnPropertySymbols,bPe=Object.prototype.propertyIsEnumerable;function MPe(){const e=(0,f.I0)(),{metricsPage:t,metricsContextTuple:n}=(0,xt.Zn)(),{machineIdentifier:i,providerIdentifier:s}=Fz(),r=(0,f.v9)(on(i)),a=(0,f.v9)(en(i,s)),o=(0,Ee.Z)();return(0,y.useEffect)((()=>{const{key:i,channel:s,source:l}=o,c=((e,t)=>{var n={};for(var i in e)fPe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&IPe)for(var i of IPe(e))t.indexOf(i)<0&&bPe.call(e,i)&&(n[i]=e[i]);return n})(o,["key","channel","source"]);e(yPe({server:r,provider:a,metadataKey:i?(0,Hz.Z)(i):void 0,channel:s?(0,Hz.Z)(s):void 0,prePlayRouteParams:c,metricsPage:t,metricsContextTuple:n}))}),[o,e,t,a,r,n]),y.createElement(Gz.Z,null,y.createElement(RC.Z,null))}function SPe(){const{machineIdentifier:e,providerIdentifier:t}=Fz(),n=(0,Ee.Z)();return y.createElement(Xz,{machineIdentifier:e,providerIdentifier:t},y.createElement(xt.ZP,{metricsPage:et.sD,metricsContextParam:(0,Hz.Z)(n.context)},y.createElement(MPe,null)))}const EPe=[{key:"general",title:()=>(0,De.Z)("General")},{key:"quality",title:()=>(0,De.Z)("Quality")},{key:"debug",title:()=>(0,De.Z)("Debug"),isAdvanced:!0},{key:"player",title:()=>(0,De.Z)("Player")},{key:"downloads",title:()=>(0,De.Z)("Downloads")}];var DPe=n(26781),CPe=n(89656),PPe=n(33631),wPe=n(84734),TPe=n(55642);const ZPe=[1,2,3,4],NPe=(ls().oneOf(ZPe),bD.Z.oneOf(...ZPe)),APe={WHITE:"#ffffff",YELLOW:"#ffee00",BLACK:"#000000",CYAN:"#00ffff",BLUE:"#0000ff",GREEN:"#00ff00",MAGENTA:"#ee00ee",RED:"#ff0000",GREY:"#808080"};APe.settings=[{value:APe.WHITE,title:"White"},{value:APe.YELLOW,title:"Yellow"},{value:APe.BLACK,title:"Black"},{value:APe.CYAN,title:"Cyan"},{value:APe.BLUE,title:"Blue"},{value:APe.GREEN,title:"Green"},{value:APe.MAGENTA,title:"Magenta"},{value:APe.RED,title:"Red"},{value:APe.GREY,title:"Grey"}],APe.ALL=[APe.WHITE,APe.YELLOW,APe.BLACK,APe.CYAN,APe.BLUE,APe.GREEN,APe.MAGENTA,APe.RED,APe.GREY];const xPe=APe,LPe={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"};LPe.settings=[{value:LPe.TOP,title:"Top"},{value:LPe.MIDDLE,title:"Middle"},{value:LPe.BOTTOM,title:"Bottom"}],LPe.ALL=[LPe.TOP,LPe.MIDDLE,LPe.BOTTOM];const OPe=LPe,jPe={TINY:50,SMALL:75,NORMAL:100,LARGE:125,HUGE:200};jPe.settings=[{value:jPe.TINY,title:"Tiny"},{value:jPe.SMALL,title:"Small"},{value:jPe.NORMAL,title:"Normal"},{value:jPe.LARGE,title:"Large"},{value:jPe.HUGE,title:"Huge"}],jPe.ALL=[jPe.TINY,jPe.SMALL,jPe.NORMAL,jPe.LARGE,jPe.HUGE];const kPe=jPe;var RPe=n(78831),zPe=n(54304);function UPe(){return!(0,tv.Z)()}var VPe=n(16561),BPe=n(14452),FPe=n(3595);function HPe(){const e=Object.keys(FPe.Z.getLanguages()).map((e=>({value:e,title:(0,BPe.Z)(e)})));return e.sort(((e,t)=>e.title.localeCompare(t.title))),e}var _Pe=Object.assign;const QPe=function(e,t){const{base:n,searchParams:i,hashPath:s,hashParams:r}=G(e),a=(0,B.Z)(i);return`${n}?${(0,Hve.Z)(_Pe(_Pe({},a),t))}${(s||r?"#":"")+s+r}`};var GPe=n(64033);const YPe={amp:"&",apos:"'","#x27":"'","#x2F":"/","#39":"'","#47":"/",lt:"<",gt:">",nbsp:" ",quot:'"'};function WPe(e){let t=e;return Object.keys(YPe).forEach((e=>{t=t.replace(new RegExp((0,R.Z)(`&${e};`),"g"),YPe[e])})),t}var KPe=Object.assign;const qPe=wD.Z.extend({sessionAttrs:{protocol:bD.Z.string.isRequired,protocolCapabilities:bD.Z.array.isRequired},syncedAttrs:{friendlyName:bD.Z.string.isRequired,capabilities:bD.Z.array,volume:bD.Z.integer.isRequired},defaults:{protocol:GP.l,protocolCapabilities:["timeline","playback","mirror","playqueues","provider-playback"],volume:100},augmentResponse:e=>KPe(KPe({},e),{friendlyName:WPe(e.friendlyName)})}),$Pe="ui/player/remoteCastPlayer/changeCastApiAvailability",JPe="ui/player/remoteCastPlayer/requestCastSession",XPe="ui/player/remoteCastPlayer/changeRemoteCastPlayer",ewe=(0,No.Z)($Pe),twe=(0,No.Z)(JPe),nwe=(0,No.Z)(XPe),iwe={[$Pe](e,t){e.set({castApiAvailability:t})},[JPe](e){(0,M.DB)("remoteCastPlayerManager").requestSession()},[XPe](e,t){const n=e.get("ui"),i=n.get("audioVideoPlayer"),s=n.get("photoPlayer"),r=n.get("romPlayer");if(r.get("isOpen")&&r.set({hasError:!0,errorMessage:(0,De.Z)("Games are unsupported when connected to a remote player.")}),i.get("isOpen")){const e=i.get("isWatchTogether")?{hasError:!0,errorMessage:(0,De.Z)("Watch Together is not currently supported when connected to a remote player.")}:{confirmLocalToRemote:2,isPaused:!0};i.set(e)}s.get("isOpen")&&s.set({confirmLocalToRemote:2,isPaused:!0}),e.set("remotePlayer",new qPe(t,{parse:!0}))}},swe="auto",rwe="2.0",awe="2.1",owe="3.1",lwe="5.1",cwe="7.1",dwe="ac3",uwe="dts",pwe="dts-hd",mwe="eac3",hwe="truehd",gwe={0:{channelLayouts:Object.values(l),passthroughCodecs:[],transcodeToAC3:!1},2:{channelLayouts:Object.values(l),passthroughCodecs:Object.values(c),transcodeToAC3:!1},1:{channelLayouts:[rwe],passthroughCodecs:[dwe,uwe],transcodeToAC3:!0}},ywe="auto";var vwe={PRODUCTION:"9AC194DC",QA:"4289C4E0",NINJA:"EB90125F",CUSTOM:"custom"};vwe.settings=[{value:vwe.PRODUCTION,title:"Production"},{value:vwe.QA,title:"QA"},{value:vwe.NINJA,title:"Ninja"},{value:vwe.CUSTOM,title:"Custom"}];const fwe=vwe,Iwe={musicSettings:[{value:yae.Z.ORIGINAL,title:()=>(0,De.Z)("Original")},{value:3,title:()=>(0,De.Z)("High (320 Kbps)")},{value:2,title:()=>(0,De.Z)("Medium (192 Kbps)")},{value:1,title:()=>(0,De.Z)("Low (128 Kbps)")}],videoSettings:[{value:yae.Z.ORIGINAL,title:()=>(0,De.Z)("Original")},{value:12,title:()=>(0,De.Z)("High (20 Mbps, 1080p)")},{value:8,title:()=>(0,De.Z)("Medium (4 Mbps, 720p)")},{value:5,title:()=>(0,De.Z)("Low (1.5 Mbps, 480p)")}]};function bwe(e){var t;const{name:n,description:i}=(null==(t=e.toJSON)?void 0:t.call(e))||e;return n===ywe?(0,De.Z)("Auto select device"):i}var Mwe=n(10912),Swe=n.n(Mwe),Ewe=Object.assign,Dwe=[{value:0,title:"None"},{value:1,title:"1"},{value:2,title:"2"},{value:3,title:"3"},{value:4,title:"4"},{value:5,title:"5"}];function Cwe(e){const t=[{title:(0,De.Z)("Auto"),value:swe},{title:(0,De.Z)("2.0 (Stereo)"),value:rwe},{title:(0,De.Z)("2.1"),value:awe},{title:(0,De.Z)("3.1"),value:owe},{title:(0,De.Z)("5.1"),value:lwe},{title:(0,De.Z)("7.1"),value:cwe}],n=[{title:(0,De.Z)("Passthrough {codec}",{codec:"Dolby Digital"}),value:dwe},{title:(0,De.Z)("Passthrough {codec}",{codec:"Dolby Digital Plus"}),value:mwe},{title:(0,De.Z)("Passthrough {codec}",{codec:"DTS"}),value:uwe},{title:(0,De.Z)("Passthrough {codec}",{codec:"DTS-HD"}),value:pwe},{title:(0,De.Z)("Passthrough {codec}",{codec:"Dolby TrueHD"}),value:hwe}];return{kind:e,channelLayoutSettings:t.filter((t=>gwe[e].channelLayouts.includes(t.value))),passthroughCodecSettings:n.filter((t=>gwe[e].passthroughCodecs.includes(t.value))),transcodeToAC3Setting:{title:(0,De.Z)("Transcode to AC3"),value:gwe[e].transcodeToAC3}}}const Pwe=m.Z.ItemView.extend({className:"web-settings-container",template:Swe(),ui:{chromecastCustomGroup:"#chromecast-custom-group",customHomeStreamingSettings:".custom-home-streaming-settings",recommendedHomeStreamingSettings:".recommended-home-streaming-settings",toggleSyncBtn:".toggle-sync-btn",resetCustomizationBtn:".reset-customization-btn",restoreBtn:".restore-btn",submitBtn:".submit-btn",message:".form-message",audioDeviceName:".audio-device-name",audioDevicesFieldSets:".audio-device-fields",audioDeviceKindSelects:".audio-device-kind",audioDeviceKindFieldSets:".audio-device-kind-fields"},events:{"click .toggle-advanced-btn":"onToggleAdvancedClick","click .reload-securely-btn":"onReloadSecurelyClick","click .settings-nav a":"onSettingsGroupClick","change .audio-device-name":"onAudioDeviceChange","change .audio-device-kind":"onAudioDeviceKindChange","change #chromecastAppID":"onChromecastAppIDChange","change #useHomeStreamingRecommendedSettings":"onUseHomeStreamingRecommendedSettingsChange","change input[id]":"onInputChange","input input[type=text]":"onInputChange","change select[id]":"onInputChange","click .toggle-sync-btn":"onToggleSync","click .reset-customization-btn":"onResetCustomization","click .restore-btn":"onRestore","click .reset-reminders-btn":"onResetReminders","submit #web-settings-form":"onSubmit"},onlyAfterRender:["saveChanges","displayHomeStreamingSettings"],initialize:function(e){this.changes={};var t=(0,M.DB)("appModel"),n=t.get("user"),i=n.get("experienceSettings");this.model=t.get("deviceSettings"),this.settingsGroup=e.settingsGroup,this.listenTo(n,"change:signedIn",this.onSignedInChange),this.listenTo(t,"change:primaryServer",this.render),this.listenTo(ee.Z,"shortcut:save",this.saveChanges);const s=t.get("deviceSettings").get("audioDevices");s&&this.listenTo(s,"change",this.onAudioDevicesChange);var r=i.get("showAdvancedSettings");this.$el.toggleClass("show-advanced",r),this.displayHomeStreamingSettings(i.get("useHomeStreamingRecommendedSettings")),"general"===this.settingsGroup&&(0,M.DB)("appStore").dispatch((0,pn.T5)({hasDismissedInsecureHostedAppWarning:!0}))},serializeData:function(){var e=[{value:"h:mma",title:(0,De.Z)("12 Hour")},{value:"HH:mm",title:(0,De.Z)("24 Hour")}],t=this.model.toJSON(),n=(0,M.DB)("appModel"),i=(0,JM.VX)(n),s=i.get("experienceSettings").toJSON(),r=i.isNinja(),a=i.get("restricted"),o=i.get("isSignedIn")&&J.Z.allowSyncSettings&&!s.isRemoteSchemaVersionNewer,l=i.get("isSignedIn")&&J.Z.allowSyncSettings&&s.isRemoteSchemaVersionNewer,c=UPe(),d=LP.prop("video"),u=(0,zPe.P_)(),p=i.isNinja()?"4.54.5-09228e8":"4.54.5",m=E().escape(z.Z.prop("X-Plex-Product"));return(0,zPe.P_)()&&(p=z.Z.prop("X-Plex-Version")),Ewe(Ewe({},this.serializePlatformData()),{deviceSettings:t,experienceSettings:s,canPlayAdaptiveBitrate:c,hasSubtitleBurnLevel:!u,canDebugAds:i.isEmployee(),canDebugAdaptiveBitrate:c&&r,isAnonymous:i.get("anonymous"),isRestricted:a,isSyncSettingsAllowed:o,isSyncSettingsRestrictedBySchemaVersion:l,isHybridPlatform:u,isNinja:r,isQtDesktop:(0,zPe.P_)(),version:p,languages:HPe(),debugLevels:wPe.Z.settings,debugAdKinds:PPe.Z.settings,subtitlesBurnLevels:RPe.Z.settings,chromecastAppIDs:fwe.settings,availableQualities:qP.Z.getAvailableQualities({lowestQualityIndex:d.lowestQualityIndex}).reverse(),subtitleColors:xPe.settings,subtitlePositions:OPe.settings,subtitleSizes:kPe.settings,musicDownloadQualityLevels:Iwe.musicSettings,videoDownloadQualityLevels:Iwe.videoSettings,httpFallbackOptions:b.Z.isHostedHttps?null:TPe.Z.settings,alertIcon:(0,VPe.Z)(Ce.Z),showReloadSecurely:!1,extrasPrefixCounts:Dwe,timeFormats:e,generalSettingsRoute:"#!/settings/web/general",escapedProductName:m,hasV4DirectoryFeature:i.get("features").get(be.Pv),hasV4DVRSetupFeature:i.get("features").get(be.C1),normalizeDownmixedVolume:s.audioBoost===CPe.KH})},serializePlatformData(){if(!(0,zPe.P_)())return{};const e=this.model.get("player.audioDevice");return{audioDevices:this.model.get("audioDevices").filter((e=>e.get("present"))).map((t=>{const n=Ewe(Ewe({},t.toJSON()),{cid:t.cid,isSelected:t.get("name")===e,title:bwe(t)});return t.get("name")!==ywe&&(n.kinds=[{title:(0,De.Z)("Basic"),value:0},{title:(0,De.Z)("Optical S/PDIF"),value:1},{title:(0,De.Z)("HDMI"),value:2}],n.capabilities=[Cwe(0),Cwe(1),Cwe(2)]),n})),keepOnTopSettings:[{title:(0,De.Z)("Never"),value:0},{title:(0,De.Z)("During playback"),value:1},{title:(0,De.Z)("Always"),value:2}],refreshRateSwitchingDelaySettings:[{title:"None",value:0},{title:"1 Second",value:1e3},{title:"3 Seconds",value:3e3},{title:"5 Seconds",value:5e3}]}},saveChanges:function(){const e=this.ui.toggleSyncBtn,t=this.ui.resetCustomizationBtn,n=this.ui.restoreBtn,i=this.ui.submitBtn,s=this.ui.message;if(i.isDisabled())return;s.text(""),s.removeClass("has-error"),e.addClass("disabled"),t.addClass("disabled"),n.addClass("disabled"),i.addClass("active");const r=!!this.changes.language,a=!1===this.changes.shouldSaveLastSourcePivots,o=!(!this.changes.chromecastAppID&&!this.changes.chromecastCustomAppID),l=this.tryInterceptAudioDeviceChanges(this.changes).then((e=>this.interceptNormalizedDownmixedVolumeChange(e))).then((e=>this.saveSettings(e)));l.done(E().bind((function(){const e=(0,M.DB)("appStore");this.changes={},a&&e.dispatch((0,pn.Us)()),o&&e.dispatch(ewe(4)),r?e.dispatch(Qm.actions.languageChanged()):(i.addClass("disabled"),s.text((0,De.Z)("Your changes have been saved.")))}),this)),l.fail(E().bind((function(){const e=(0,M.DB)("appModel").get("user"),t=(0,GPe.Z)(e)?(0,De.Z)("Unable to sync these changes with other devices at this time. Plex will automatically retry later."):(0,De.Z)("Your changes could not be saved.");s.addClass("has-error"),s.text(t)}),this)),l.always(E().bind((function(){r||(e.removeClass("disabled"),t.removeClass("disabled"),n.removeClass("disabled"),i.removeClass("active"))}),this))},toggleSync:function(){const e=this.ui.toggleSyncBtn,t=this.ui.resetCustomizationBtn,n=this.ui.submitBtn,i=this.ui.message;if(e.isDisabled())return;i.text("");const s=this.getToggleSyncConfirmModal();s.promise.then((()=>(e.addClass("active"),t.addClass("disabled"),n.addClass("disabled"),this.toggleShouldSyncSettings().then((()=>{this.changes={},this.render(),s.hide()}),(()=>{i.text((0,De.Z)("An error occurred, could not load settings from your Plex profile.")),e.removeClass("active"),t.removeClass("disabled"),n.removeClass("disabled"),s.hide()}))))),ee.Z.trigger("show:modal",s)},resetCustomization:function(){const e=this.ui.resetCustomizationBtn,t=this.ui.toggleSyncBtn,n=this.ui.submitBtn,i=this.ui.message;if(e.isDisabled())return;i.text("");const s=this.getResetCustomizationConfirmModal();s.promise.then((()=>{e.addClass("active"),t.addClass("disabled"),n.addClass("disabled"),(0,M.DB)("appStore").dispatch((0,dE.mo)()),s.hide()})),ee.Z.trigger("show:modal",s)},restoreDefaults:function(){const e=this.ui.restoreBtn,t=this.ui.submitBtn,n=this.ui.message;if(e.isDisabled())return;n.text("");const i=this.getRestoreDefaultsConfirmModal();i.promise.then((()=>(e.addClass("active"),t.addClass("disabled"),this.restoreDefaultSettings().then((()=>{this.changes={},this.render(),i.hide()}),(()=>{n.text((0,De.Z)("An error occurred, defaults have not been restored.")),e.removeClass("active"),t.removeClass("disabled"),i.hide()}))))),ee.Z.trigger("show:modal",i)},getToggleSyncConfirmModal:function(){const e=(0,M.DB)("appModel").get("deviceSettings").get("shouldSyncSettings"),t=e?(0,De.Z)("Turn off settings sync"):(0,De.Z)("Turn on settings sync"),n=z.Z.prop("X-Plex-Product"),i=e?(0,De.Z)("Changes to {productName} settings and customization will no longer synchronize with other {productName} instances.",{productName:n}):(0,De.Z)("{productName} settings and customization will now be used on other {productName} instances.",{productName:n});return new qne.Z({title:t,message:i,confirmLabel:t,cancelLabel:(0,De.Z)("Cancel"),async:!0})},getResetCustomizationConfirmModal:function(){const e=(0,De.Z)("Reset customization");return new qne.Z({title:e,message:(0,De.Z)("You are about to reset your sidebar navigation and home screen layout to the default state."),confirmLabel:e,cancelLabel:(0,De.Z)("Cancel"),async:!0,hasDanger:!0})},getRestoreDefaultsConfirmModal:function(){const e=(0,M.DB)("appModel").get("user"),t=(0,GPe.Z)(e),n=(0,De.Z)("Restore defaults"),i=z.Z.prop("X-Plex-Product"),s=t?(0,De.Z)("All {productName} settings and customization will be reset and restored to their default state. This will affect other {productName} instances.",{productName:i}):(0,De.Z)("All {productName} settings and customization will be reset and restored to their default state. Other {productName} instances will not be affected.",{productName:i});return new qne.Z({title:n,message:s,confirmLabel:n,cancelLabel:(0,De.Z)("Cancel"),async:!0,hasDanger:!0})},waitForAttribute:function(e,t,n){var i=g().Deferred(),s=`change:${t}`;return e.on(s,(function t(r,a){a===n&&(e.off(s,t),i.resolve())})),i.promise()},tryInterceptAudioDeviceChanges:function(e){return(0,zPe.P_)()?this.interceptAudioDeviceChanges(e):g().Deferred().resolve(e).promise()},interceptAudioDeviceChanges:function(e){const t=(0,M.DB)("appModel").get("deviceSettings"),n=t.get("audioDevices"),i=e["player.audioDevice"],s=new Set;for(const t in e)/^ignore/.test(t)&&(s.add(document.getElementById(t).dataset.cid),delete e[t]);if(s.forEach((e=>{const t=n.get(e),i=this.getAudioDeviceSettingsFromForm(e);t&&i&&((0,D.Z)(`[Settings] Updating ${t.get("description")} (${t.get("name")}): ${JSON.stringify(i)}`),t.set(i))})),s.size||i){const s=n.get(i||t.get("player.audioDevice"));if(s)if(s.get("present")){const t={"player.audioDevice":s.get("name"),"player.audioChannelLayout":s.get("channelLayout"),"player.audioPassthroughCodecs":s.get("passthroughCodecs"),"player.transcodeToAC3Enabled":s.get("transcodeToAC3")};Object.assign(e,t),(0,D.Z)(`[Settings] Audio device changes ${s.get("description")} (${s.get("name")}): ${JSON.stringify(t)}`)}else D.Z.error(`[Settings] Expected device ${s.get("description")} (${s.get("name")}) is absent. Changes saved but refusing to select absent device.`);else D.Z.error("[Settings] Expected audio device missing.")}return g().Deferred().resolve(e).promise()},getAudioDeviceFields:function(e){return this.ui.audioDevicesFieldSets.toArray().find((t=>t.dataset.cid===e))},getAudioDeviceKindSelect:function(e){return this.ui.audioDeviceKindSelects.toArray().find((t=>t.dataset.cid===e))},getAudioDeviceKindFields:function(e,t){return this.ui.audioDeviceKindFieldSets.toArray().find((n=>n.dataset.cid===e&&n.dataset.kind===t))},getAudioDeviceSettingsFromForm:function(e){const t=this.getAudioDeviceKindSelect(e);if(!t)return null;const n=this.getAudioDeviceKindFields(e,t.value),i={channelLayout:n.querySelector("[name=channelLayout]").value,kind:parseInt(t.value,10),passthroughCodecs:[],transcodeToAC3:n.querySelector("[name=transcodeToAC3]").checked};for(const e of n.querySelectorAll("[name=passthroughCodecs]"))e.checked&&i.passthroughCodecs.push(e.value);return i},interceptNormalizedDownmixedVolumeChange:function(e){const{normalizeDownmixedVolume:t}=e;return null!=t&&(delete e.normalizeDownmixedVolume,e.audioBoost=t?CPe.KH:CPe.o5),g().Deferred().resolve(e).promise()},saveSettings:function(e){var t=[],n=(0,M.DB)("appModel"),i=[{model:n.get("deviceSettings"),actionCreator:pn.T5},{model:n.get("user").get("experienceSettings"),actionCreator:Nv.LN}].reduce(((e,{model:n,actionCreator:i})=>{var s={},r={};for(var a in e){var o,l=e[a];if(n.hasAttr(a)){const e=Object.getPrototypeOf(n),t=e.syncedAttrs[a]||e.sessionAttrs[a];"string"==typeof l&&t===bD.Z.integer&&(l=(0,DPe.Z)(l)),o=s}else o=r;o[a]=l}return Object.keys(s).length&&t.push(this.saveSettingUsingActionCreator(s,n,i)),r}),e);return Object.keys(i).length&&t.push(this.model.save(i)),t.length?g().when(...t):g().Deferred().resolve().promise()},toggleShouldSyncSettings:function(){const e=(0,M.DB)("appModel").get("deviceSettings"),t=(0,M.DB)("appModel").get("user").get("experienceSettings"),n=e.get("shouldSyncSettings");return this.saveSettingUsingActionCreator({shouldSyncSettings:!n},e,pn.T5).then((()=>this.saveSettingUsingActionCreator({},t,Nv.LN)))},restoreDefaultSettings:function(){const e=[],t=(0,M.DB)("appModel");return[{model:t.get("deviceSettings"),actionCreator:tt.s7},{model:t.get("user").get("experienceSettings"),actionCreator:dE.zi}].forEach((({model:t,actionCreator:n})=>{e.push(this.saveSettingUsingActionCreator({},t,n))})),g().when(...e)},saveSettingUsingActionCreator:function(e,t,n){if(!t.has("isSaving"))return(0,M.DB)("appStore").dispatch(n(e)),g().Deferred().resolve().promise();var i=t.get("isSaving"),s=this.waitForAttribute(t,"isSaving",!1);return s=s.then((()=>i?this.saveSettingUsingActionCreator(e,t,n):t.get("saveError")?g().Deferred().reject().promise():g().Deferred().resolve().promise())),i||window.setTimeout((()=>{(0,M.DB)("appStore").dispatch(n(e))}),0),s},displayHomeStreamingSettings:function(e){this.ui.customHomeStreamingSettings.toggleClass("hidden",e),this.ui.recommendedHomeStreamingSettings.toggleClass("hidden",!e)},onRender:function(){this.$("#"+this.settingsGroup+"-web-group").addClass("active"),this.$("#"+this.settingsGroup+"-web-group-footer").addClass("active")},onSignedInChange:function(e,t){null!=t&&this.render()},onToggleAdvancedClick:function(e){e.preventDefault();var t=this.$el.hasClass("show-advanced");this.$el.toggleClass("show-advanced",!t),t&&"debug"===this.settingsGroup&&(window.location.hash="#!/settings/web/general"),(0,M.DB)("appStore").dispatch((0,Nv.LN)({showAdvancedSettings:!t}))},onReloadSecurelyClick(e){window.location=QPe(window.location.href.replace(/^\w+:\/\//,"https://"),{secure:1})},onSettingsGroupClick:function(e){e.preventDefault();var t=g()(e.currentTarget),n=t.attr("href");this.$(".settings-group").removeClass("active"),this.$(n).addClass("active"),this.$(".nav a").removeClass("selected"),t.addClass("selected")},onChromecastAppIDChange:function(e){var t=e.currentTarget.value===fwe.CUSTOM;this.ui.chromecastCustomGroup.toggleClass("hidden",!t)},onUseHomeStreamingRecommendedSettingsChange:function(e){this.displayHomeStreamingSettings(!!e.currentTarget.checked)},onInputChange:function(e){var t=g()(e.currentTarget),n=e.currentTarget,i=n.value;"checkbox"===n.type&&(i=t.prop("checked")),"int"===t.data("type")&&(i=parseInt(i,10)),this.changes[n.id]=i,this.ui.submitBtn.removeClass("disabled"),this.ui.message.text(""),this.ui.message.removeClass("has-error")},onAudioDevicesChange:function(e){const t=this.ui.audioDeviceName[0],n=t.querySelector(`option[value=${e.cid}]`);n&&(n.disabled=!e.get("present"),n.disabled&&n.selected&&(t.selectedIndex=0,this.onAudioDeviceChange({target:t})))},onAudioDeviceChange:function(e){this.ui.audioDevicesFieldSets.each(((t,n)=>{n.classList.toggle("hidden",e.target.value!==n.dataset.cid)}))},onAudioDeviceKindChange:function(e){const{cid:t}=e.target.dataset,n=e.target.value;this.ui.audioDeviceKindFieldSets.each(((e,i)=>{i.classList.toggle("hidden",i.dataset.cid!==t||i.dataset.kind!==n)}))},onToggleSync:function(e){e.preventDefault(),this.toggleSync()},onResetCustomization:function(e){e.preventDefault(),this.resetCustomization()},onRestore:function(e){e.preventDefault(),this.restoreDefaults()},onResetReminders:function(e){e.preventDefault(),(0,M.DB)("appStore").dispatch((0,dE.Y2)())},onSubmit:function(e){e.preventDefault(),this.saveChanges()}}),wwe={onPopulateHomeUsers:dE.Dg},Twe=(0,f.$j)((function(){return(0,de.P1)(((e,{settingsSubset:t})=>t),ge,HB.Z,$Se.Z,((e,t,n,i)=>{const s=(r=e,EPe.find((e=>e.key===r)));var r;const a=s&&(n.experienceSettings.showAdvancedSettings||!s.isAdvanced),o=t.isPending&&t.connectionTestResult===GB._r.PENDING,l=!t.isResolved&&!t.isRejected||t.isResolved&&(!i.isHomeUsersPopulated&&!i.homeUsersError||!!i.homeUsersError&&i.isHomeUsersPending);return{showSpinner:!a||o||l,settingsSubset:e,title:s&&s.title,isSettingsSubsetAllowed:a,isSignedIn:n.isSignedIn}}))}),wwe)((function(e){const{settingsSubset:t,title:n,showSpinner:i,isSettingsSubsetAllowed:s,isSignedIn:r,onPopulateHomeUsers:a}=e,o=(0,I.k6)();return(0,y.useEffect)((()=>{s||(0,Ine.Z)("webSettings",{settingsSubset:"general"})}),[o,s]),(0,y.useEffect)((()=>{r&&(0,Rt.c9)(a)}),[r,a]),i?y.createElement(Gz.Z,null,y.createElement(RC.Z,null)):y.createElement(y.Fragment,null,y.createElement(Ybe,{selectedKey:"web-client--settings--"+t}),y.createElement(see,{metricsPage:et.L6,metricsPane:"web:"+t},y.createElement(aee,null,z.Z.prop("X-Plex-Product"),y.createElement(tr.Z,null),n()),y.createElement(ame,{key:(0,hD.Z)("WebSettingsView","web",t),view:Pwe,viewOptions:{subset:"web",settingsGroup:t}})))}));function Zwe(){const{settingsSubset:e}=(0,I.UO)(),t=(0,f.v9)(Bve.Z),n=(0,hD.Z)("WebClientSettingsViewPage",t);return y.createElement(Twe,{key:n,settingsSubset:e})}var Nwe=n(38076),Awe=n(15314),xwe=n.n(Awe);const Lwe=m.Z.ItemView.extend({template:xwe(),initialize:function(){var e=M.DB("appModel");this.listenTo(e,"change:primaryServer",this.render),this.listenTo(e.get("user"),"change:signedIn",this.render)},serializeData:function(){var e=M.DB("appModel"),t=e.get("user"),n=e.get("primaryServer"),i={host:window.location.host,userAgent:window.navigator.userAgent,browser:Nwe.Z,user:t.toJSON(),hasPlexSubscription:t.get("hasPlexSubscription"),cloudServer:t.server.toJSON(),cloudServerUrl:t.server.url()};return n&&(i.primaryServer=n.toJSON(),i.primaryServerUrl=n.url()),i}});var Owe=n(32051),jwe=n.n(Owe);const kwe=m.Z.ItemView.extend({className:"logs-container",template:jwe(),ui:{textarea:"textarea"},collectionEvents:{add:"onAdd"},onlyAfterRender:["onAdd"],initialize:function(){this.collection=(0,M.DB)("logs")},serializeData:function(){return{logs:this.collection.toJSONString()}},onAdd:function(e,t){this.ui.textarea.text(this.collection.toJSONString())}}),Rwe=(0,de.P1)($Se.Z,(e=>e.announcements)),zwe=(0,de.P1)(Rwe,(e=>e.filter((e=>!e.read)))),Uwe=(0,de.P1)($t.Z,(e=>e.filter((e=>!e.isCloud&&!e.isEmbedded&&!!e.friendlyName)))),Vwe=(0,de.P1)($Se.Z,(e=>e.invites)),Bwe=function(e){const{isOpen:t,errorMessage:n,onModalClose:i}=e,s=[n||(0,De.Z)("There was an unexpected error."),(0,De.Z)("Please visit our forums if you continue to experience problems.")];return y.createElement(PL.Z,{size:vc.HC,isOpen:t,metricsPage:et.Sd,onModalClose:i},y.createElement(xL.Z,{onModalClose:i},y.createElement(NL.Z,null,(0,De.Z)("There was an unexpected error")),y.createElement(wL.Z,null,s.join(" "),y.createElement("br",null),y.createElement(AM.Z,{to:Np.bB,target:"_self",kind:fo._8,onPress:i},(0,De.Z)("Go to Forums"))),y.createElement(TL.Z,null,y.createElement($h.Z,{className:lH.Z.button,"data-autofocus":!0,kind:fo._8,onPress:i},(0,De.Z)("Okay")))))},Fwe=function(){const e=(0,xE.Z)(),t=(0,De.Z)("An unexpected error is impacting the navigation bar");return y.createElement("div",{className:"ErrorNavBar-container-2UKwcq NavBar-container-1YySYJ"},y.createElement(th.Z,{component:AM.Z,tooltip:t,tooltipAttachment:nh.eO,"aria-label":t,onPress:e.onOpen},y.createElement(Ce.Z,{className:"ErrorNavBar-icon-Chcl6k"})),y.createElement(Bwe,{isOpen:e.isOpen,errorMessage:`${t}.`,onModalClose:e.onClose}))};function Hwe(){return(0,de.P1)(_t.Z,WH("providerEntityID"),((e,t)=>e[t]))}const _we=function(){return(0,de.P1)(Hwe(),(e=>(0,ga.Z)(e.identifier,e.providerIdentifier)))},Qwe=function(e){return e.castApiAvailability},Gwe=function(){return(e,t)=>t.playerType?(0,de.P1)(Qwe,_we(),xa.Z,((e,t,n)=>(0,$P.Z)({protocol:GP.l,providerIdentifier:t,userFeaturesByUUID:n})?e:1))(e,t):Qwe(e)},Ywe=(0,de.P1)($Se.Z,(({cloudCompanions:e})=>e)),Wwe=(0,de.P1)(Ywe,(e=>e.reduce(((e,{cloudPlayers:t})=>e.concat(t)),[]))),Kwe=(0,de.P1)((e=>e.companionServer),he.Z,((e,t)=>t[e])),qwe=(0,de.P1)(Kwe,(e=>e?e.desktop.players:[])),$we=(0,de.P1)(qwe,Wwe,((e,t)=>e.concat(t))),Jwe=function(){return(e,t)=>t.playerType?(0,de.P1)(_we(),xa.Z,$we,((e,t,n)=>n.filter((({protocol:n,protocolCapabilities:i})=>(0,$P.Z)({protocol:n,protocolCapabilities:i,providerIdentifier:e,userFeaturesByUUID:t})))))(e,t):$we(e,t)},Xwe=(0,de.P1)(Ywe,ge,((e,t)=>e.filter((({identifier:e})=>e.includes("sonos"))).map((e=>{const n=C.Z.join(e.linkURL,{"X-Plex-Token":t.accessToken,next:window.location.href});return{title:e?e.title:"Sonos",state:e?e.linkState:QP,url:n}})))),eTe=(0,de.P1)(Kwe,(e=>e?e.desktop.neighborhoodDevices:[])),tTe=(0,de.P1)(eTe,(e=>!!e.find((({uuid:e})=>e.includes("RINCON")))));function nTe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-remote-player-off-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M0 84v98c14.294 0 28.252 1.372 42 3.346V126h476v308H290.654c1.974 13.748 3.346 27.706 3.346 42h266V84H0m42 392c0-23.198-18.802-42-42-42v42h42m56 0h42c0-77.322-62.678-140-140-140v42c54.04 0 98 43.96 98 98m98 0h42c0-131.446-106.554-238-238-238v42c108.08 0 196 87.92 196 196"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}nTe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const iTe=nTe;function sTe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-remote-player-on-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M0 84v98c162.372 0 294 131.628 294 294h266V84H0m42 392c0-23.198-18.802-42-42-42v42h42m56 0h42c0-77.322-62.678-140-140-140v42c54.04 0 98 43.96 98 98m98 0h42c0-131.446-106.554-238-238-238v42c108.08 0 196 87.92 196 196"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}sTe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const rTe=sTe,aTe=function(e){const{isOpen:t,onClose:n}=e;return y.createElement(PL.Z,{isOpen:t,metricsPage:et.BE,size:vc.HC,onModalClose:n},y.createElement(xL.Z,{onModalClose:n},y.createElement(NL.Z,null,(0,De.Z)("Chromecast unavailable")),y.createElement(wL.Z,null,y.createElement(ax.Z,{message:(0,De.Z)("Casting to Chromecast requires a secure connection to the Plex Web app. Please visit {openLink}https://app.plex.tv{closeLink} and try again."),tags:[{open:"openLink",close:"closeLink",component:AM.Z,to:`https://app.plex.tv/desktop${window.location.hash}`,kind:fo._8}]}))))};class oTe extends y.Component{constructor(){super(...arguments),this.onPress=e=>{this.props.onPlayerSelect(this.props.playerIdentifier),this.props.onPress(e)}}render(){return y.createElement(ho.Z,{onPress:this.onPress},this.props.children)}}const lTe=oTe,cTe="RemotePlayerMenuItems-menuItemSubtitle-1kaR9F";class dTe extends y.Component{constructor(e,t){super(e,t),this.onCastPress=e=>{this.props.onCastPress(e),this.props.onMenuClose(e)},this.onCastMissingPress=e=>{this.setState({isCastMissingModalOpen:!0})},this.onCastMissingModalClose=()=>{this.setState({isCastMissingModalOpen:!1},(()=>{this.props.onMenuClose()}))},this.onSonosUpsellPress=()=>{this.setState({isPlexPassModalOpen:!0})},this.onPlexPassModalClose=()=>{this.setState({isPlexPassModalOpen:!1})},this.onDisconnectPress=e=>{this.props.onDisconnectPress(e),this.props.onMenuClose(e)},this.state={isCastMissingModalOpen:!1,isPlexPassModalOpen:!1}}render(){const{castApiAvailability:e,castAppTitle:t,sonosLinks:n,isRemotePlayer:i,remotePlayerName:s,remotePlayerProduct:r,players:a,onMenuClose:o,onPlayerSelect:l}=this.props,{isCastMissingModalOpen:c,isPlexPassModalOpen:d}=this.state,u=n.filter((({state:e})=>e===HP)),p=!i&&2===e,m=!i&&3===e,h=!i&&u.length,g=!i&&n.length&&n.every((({state:e})=>e===_P)),v=p||m||h||g,f=!i&&!!a.length,I=!(i||p||m||f);return y.createElement("div",null,i?[y.createElement("div",{key:"name",className:"RemotePlayerMenuItems-remotePlayerName-2j0yf_"},s),y.createElement("div",{key:"product",className:"RemotePlayerMenuItems-remoteProduct-3w7vsC"},r),y.createElement(ho.Z,{key:"disconnect",onPress:this.onDisconnectPress},y.createElement(yDe,{className:"RemotePlayerMenuItems-disconnectIcon-1okAr3","aria-label":(0,De.Z)("Disconnect")}),(0,De.Z)("Disconnect"))]:null,p?y.createElement(ho.Z,{key:"cast",onPress:this.onCastPress},t?(0,De.Z)("Cast ({title})...",{title:t}):(0,De.Z)("Cast...")):null,m?y.createElement(y.Fragment,null,y.createElement(aTe,{isOpen:c,onClose:this.onCastMissingModalClose}),y.createElement(ho.Z,{key:"cast",onPress:this.onCastMissingPress},(0,De.Z)("Cast..."))):null,null,h?u.map((e=>y.createElement(ho.Z,{key:e.url,to:e.url},y.createElement("div",null,e.title,"..."),y.createElement("div",{className:cTe},(0,De.Z)("Link your Sonos account"))))):null,g?y.createElement(ho.Z,{key:"sonosUpsell",onPress:this.onSonosUpsellPress},y.createElement("div",null,"Sonos..."),y.createElement("div",{className:cTe},(0,De.Z)("Upgrade to a Plex Pass"))):null,v&&f?y.createElement(go.Z,{key:"separator"}):null,f?a.map((({playerIdentifier:e,friendlyName:t,product:n})=>y.createElement(lTe,{key:e,playerIdentifier:e,onPress:o,onPlayerSelect:l},y.createElement("div",null,t),y.createElement("div",{className:"RemotePlayerMenuItems-remotePlayerProduct-2aeldf"},n)))):null,I?y.createElement("div",{className:"RemotePlayerMenuItems-emptyMessage-2mEm8c"},(0,De.Z)("No players found")):null,y.createElement(ld.Z,{origin:poe.ID,isOpen:d,onModalClose:this.onPlexPassModalClose}))}}const uTe=dTe;class pTe extends y.Component{constructor(e,t){super(e,t),this.onPress=()=>{this.setState(((e,t)=>({isMenuOpen:!e.isMenuOpen})),(()=>{this.props.onMenuChange&&this.props.onMenuChange(this.state.isMenuOpen)}))},this.onMenuClose=()=>{this.setState({isMenuOpen:!1},(()=>{this.props.onMenuChange&&this.props.onMenuChange(!1)}))},this.state={isMenuOpen:!1},this._menuButtonID=(0,wf.Z)()}componentDidUpdate(e,t){this.state.isMenuOpen&&!t.isMenuOpen&&this.props.onDiscoverPlayers()}render(){const{className:e,iconClassName:t,iconComponent:n,isRemotePlayer:i,castApiAvailability:s,castAppTitle:r,sonosLinks:a,hasCompanionServer:o,remotePlayerName:l,remotePlayerProduct:c,players:d,onPlayerSelect:u,onCastPress:p,onDisconnectPress:m}=this.props,h=2===s;return y.createElement(y.Fragment,null,y.createElement(n,{className:e,iconClassName:t,id:this._menuButtonID,ariaLabel:(0,De.Z)("Select Player"),title:this.state.isMenuOpen?null:(0,De.Z)("Select Player"),iconComponent:i?rTe:iTe,isDisabled:!h&&!o,isSelected:i,onPress:this.onPress}),y.createElement(mo.Z,{target:this._menuButtonID,isOpen:this.state.isMenuOpen,size:vc.ln,onMenuClose:this.onMenuClose},y.createElement(uTe,{castApiAvailability:s,castAppTitle:r,sonosLinks:a,isRemotePlayer:i,remotePlayerName:l,remotePlayerProduct:c,players:d,onPlayerSelect:u,onCastPress:p,onDisconnectPress:m,onMenuClose:this.onMenuClose})))}}pTe.defaultProps={iconComponent:GC.Z};const mTe=pTe,hTe=()=>{},gTe=(0,f.$j)((function(){return(0,de.P1)(Gwe(),NP,Jwe(),Xwe,tTe,(e=>e.companionServer),hTe,((e,t,n,i,s,r,a)=>({castApiAvailability:e,castAppTitle:a,sonosLinks:s?i:[],hasCompanionServer:!!r,isRemotePlayer:!!t,remotePlayerName:t&&t.friendlyName,remotePlayerProduct:t&&t.product,players:n})))}),(function(e){return{onDiscoverPlayers(t){e(Tw())},onPlayerSelect(e){(0,M.DB)("remotePlexPlayerManager").requestSession(e)},onCastPress(t){e(twe())},onDisconnectPress(t){e(Nw())}}}))(mTe);var yTe=Object.prototype.hasOwnProperty,vTe=Object.getOwnPropertySymbols,fTe=Object.prototype.propertyIsEnumerable,ITe=Object.assign;function bTe(e){const{className:t,tooltipClassName:n,tooltipFocusedClassName:i,labelClassName:s,iconClassName:r,iconComponent:a,alertIconClassName:o,alertIconComponent:l,title:c,ariaLabel:d,label:u,iconProps:p}=e,m=((e,t)=>{var n={};for(var i in e)yTe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&vTe)for(var i of vTe(e))t.indexOf(i)<0&&fTe.call(e,i)&&(n[i]=e[i]);return n})(e,["className","tooltipClassName","tooltipFocusedClassName","labelClassName","iconClassName","iconComponent","alertIconClassName","alertIconComponent","title","ariaLabel","label","iconProps"]),h=c||d;return y.createElement(th.Z,ITe({className:t,tooltipClassName:n,tooltipFocusedClassName:i,component:AM.Z,tooltip:c,"aria-label":h},m),y.createElement(a,ITe({className:r},p)),l?y.createElement(l,{className:o}):null,u?y.createElement("span",{className:s},u):null)}bTe.defaultProps={className:"NavBarIconButton-button-3Fm-24 IconButton-button-2smHOM",iconClassName:"NavBarIconButton-icon-vxS-c-",alertIconClassName:"NavBarIconButton-alertIcon-3RbSz5",tooltipClassName:"NavBarIconButton-tooltip-11tYIE Tooltip-bottomCenter-3puJD6 Tooltip-tooltip-7baWc9 Tooltip-tooltipArrow-3xCLkA Tooltip-tooltipTopArrow-2DrTmU Tooltip-tooltipCenterAlignArrow-2WhOj6",tooltipFocusedClassName:"NavBarIconButton-tooltipTriggerHasFocus-3hyJMe NavBarIconButton-tooltip-11tYIE Tooltip-bottomCenter-3puJD6 Tooltip-tooltip-7baWc9 Tooltip-tooltipArrow-3xCLkA Tooltip-tooltipTopArrow-2DrTmU Tooltip-tooltipCenterAlignArrow-2WhOj6"};const MTe=bTe;function STe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-settings-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M294 378l56-56 142.027 116.204a14 14 0 0 1 1.034 20.735l-62.122 62.122a14.001 14.001 0 0 1-20.735-1.034L294 378zm-.589-167.411C284.832 193.57 280 174.345 280 154c0-69.541 56.459-126 126-126 35.996 0 68.486 15.127 91.456 39.365L364 103.124l30.746 114.746 134.142-35.943C516.169 238.048 465.945 280 406 280c-20.345 0-39.57-4.832-56.589-13.411L103.799 512.201c-10.935 10.935-28.663 10.935-39.598 0l-16.402-16.402c-10.935-10.935-10.935-28.663 0-39.598l245.612-245.612zM84 168L28 84l28-28 84 56v28l84 84-28 28-84-84H84z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}STe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const ETe=STe,DTe=(0,de.P1)(kbe,(e=>({shouldShowAlertDot:e}))),CTe=(0,f.$j)(DTe)((function(e){const{shouldShowAlertDot:t}=e;return y.createElement(MTe,{className:"SettingsButton-button-4mlrVS NavBar-button-1cThl9 NavBarIconButton-button-3Fm-24 IconButton-button-2smHOM",to:"#!/settings/web/general",iconComponent:ETe,alertIconComponent:t?SQ:null,title:(0,De.Z)("Settings")})}));var PTe=Object.prototype.hasOwnProperty,wTe=Object.getOwnPropertySymbols,TTe=Object.prototype.propertyIsEnumerable,ZTe=Object.assign;function NTe(e){const{children:t,className:n}=e,i=((e,t)=>{var n={};for(var i in e)PTe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&wTe)for(var i of wTe(e))t.indexOf(i)<0&&TTe.call(e,i)&&(n[i]=e[i]);return n})(e,["children","className"]);return y.createElement(AM.Z,ZTe(ZTe({},i),{className:n}),t)}NTe.defaultProps={className:"NavBarButton-button-g3tE6m Link-link-3v-v0b"};const ATe=NTe,xTe=function(){const e=(0,I.k6)(),t=(0,y.useCallback)((()=>{e.push(Bz.Z.login)}),[e]);return y.createElement(ATe,{className:"NavBarSignInButton-signInButton-3Ec4_a NavBarButton-button-g3tE6m Link-link-3v-v0b","data-qa-id":"signInButton",onPress:t},(0,De.Z)("Sign In"))},LTe=function(){const e=(0,I.k6)(),t=(0,y.useCallback)((()=>{e.push(Bz.Z.signUp)}),[e]);return y.createElement(ATe,{"data-qa-id":"signUpButton",onPress:t},(0,De.Z)("Sign Up"))};function OTe(e,t,n){const{isCloud:i,isFullOwnedServer:s,serverFriendlyName:r,serverSourceTitle:a,providerSourceTitle:o}=e,{ownedSources:l,sharedSources:c}=t,d=Object.keys(l).length,u=Object.keys(c).length;if(i)return d>0||u>0?o:void 0;if(s)return d>1?r:void 0;const p=c[a];return(p?p.length:0)>1?n?r:`${a} • ${r}`:d>0||u>1?a:void 0}var jTe=n(56971),kTe=Object.assign;function RTe(e,t){const n=(0,So.Z)(e);return n&&n.directories?n.directories.find((e=>e.id===t)):null}var zTe=Object.assign;function UTe(){return(0,de.P1)(QM,HB.Z,$t.Z,ge,_t.Z,(e=>!e.user.isFullUser),((e,t,n,i,s,r)=>{const a=[];return e.forEach((e=>{if(e.isHidden)return;const r=function(e,t){return e.find((e=>e.machineIdentifier===t))}(n,e.machineIdentifier),o=function(e,t,n,i){if(!e)return null;const s=(e.isCloud?n:e.providers).find((e=>{const n=t[e];return n&&n.identifier===i}));return t[s]}(r,s,t.providers,e.providerIdentifier),l=RTe(o,e.directoryID),c=(0,TM.Z)(o,l);if(c)a.push(wM({sourceType:c.key,sourceServer:r,sourceProvider:o,sourceDirectory:l}));else{const n=function(e,t,n,i){return e?e.isCloud?e.connectionTestResult!==GB._r.UNAVAILABLE&&!i.isProvidersPopulated&&!i.providersError||t&&!t.isPopulated&&!t.error:e.connectionTestResult===GB._r.PENDING:n.isResourcesPending}(r,o,i,t);a.push(zTe(zTe({},e),{serverEntityID:r&&r.entityID,providerEntityID:o&&o.entityID,isUnavailable:!n,isProviderReady:o?o.isPopulated||null!=o.error:!n}))}})),function(e,t){const n=(0,jTe.Z)(e);return e.map((e=>kTe(kTe({},e),{titleDetail:OTe(e,n,t)})))}(a,r)}))}const VTe=(0,de.P1)((0,Qt.Z)("providers"),_t.Z,((e,t)=>e?e.map((e=>t[e])):[])),BTe=(0,de.P1)(ge,(0,Qt.Z)("isProvidersPopulated"),(0,Qt.Z)("providersError"),VTe,((e,t,n,i)=>{if(e.isRejected)return!0;const s=(t||!!n)&&i.every((e=>e.isPopulated||!!e.error));return e.isResourcesPopulated&&s}));class FTe extends y.Component{constructor(e){super(e),this.focusInput=()=>{this._input.focus()},this.onClick=e=>{this.focusInput(),this.props.onClick()},this.onFocus=()=>{this.setState({isFocused:!0})},this.onBlur=()=>{this.setState({isFocused:!1})},this.onChange=e=>{const t=e.target.value;this.searchTimeout&&window.clearTimeout(this.searchTimeout),this.setState({query:t},(()=>{this.props.onChange(t),""!==t.trim()&&(this.searchTimeout=window.setTimeout(this.props.onSearch,200))}))},this.onClearPress=e=>{e.stopPropagation(),this.searchTimeout&&window.clearTimeout(this.searchTimeout),this.setState({query:""},(()=>{this.props.onChange(""),this.focusInput()}))},this.onRef=e=>{const{onRef:t}=this.props;this._input=e,t&&t(e)},this.state={isFocused:!1,query:e.query},this.searchTimeout=null}componentWillReceiveProps(e){this.state.query!==e.query&&this.setState({query:e.query})}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}componentWillUnmount(){this.searchTimeout&&window.clearTimeout(this.searchTimeout)}render(){const{closeIcon:e,searchIcon:t}=this.props,{isFocused:n,query:i}=this.state;return y.createElement("div",{className:we()("QuickSearchInput-container-9EFNqU",n&&"QuickSearchInput-focused-1FvNjF"),onClick:this.onClick},y.createElement(t,{className:"QuickSearchInput-searchIcon-2AxXxk"}),y.createElement("input",{"data-qa-id":"quickSearchInput",className:"QuickSearchInput-searchInput-1MtOoQ",value:i,type:"text",autoComplete:"off",spellCheck:"false",ref:this.onRef,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur}),i.length>0?y.createElement(AM.Z,{onPress:this.onClearPress},y.createElement(e,{className:"QuickSearchInput-closeIcon-1vkbch"})):null)}}FTe.defaultProps={query:"",onClick:ls().func};const HTe=FTe;var _Te=Object.assign;class QTe extends y.Component{constructor(){super(...arguments),this.focusInput=()=>{this._input.focus()},this.onRef=e=>{this._input=e}}componentDidMount(){ee.Z.on("shortcut:search",this.focusInput)}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}componentWillUnmount(){ee.Z.off("shortcut:search",this.focusInput)}render(){return y.createElement(HTe,_Te(_Te({},this.props),{closeIcon:Bb,searchIcon:su.Z,onRef:this.onRef}))}}const GTe=QTe;var YTe=Object.prototype.hasOwnProperty,WTe=Object.getOwnPropertySymbols,KTe=Object.prototype.propertyIsEnumerable,qTe=Object.assign;function $Te(e){const{className:t,isSelected:n,text:i,url:s,onLinkPress:r,onLinkFocus:a}=e,o=((e,t)=>{var n={};for(var i in e)YTe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&WTe)for(var i of WTe(e))t.indexOf(i)<0&&KTe.call(e,i)&&(n[i]=e[i]);return n})(e,["className","isSelected","text","url","onLinkPress","onLinkFocus"]);return y.createElement(AM.Z,qTe({className:we()(t,n&&"QuickSearchPlaceholderLink-isPlaceholderSelected-3IGNAb"),tabIndex:"1",title:i,to:s,onPress:r,onFocus:a},o),i)}$Te.defaultProps={className:"QuickSearchPlaceholderLink-placeholder-2StQHf"};const JTe=$Te,XTe=function(e){const{query:t,isSelected:n,onLinkPress:i,onLinkFocus:s}=e,r=encodeURIComponent(t);return y.createElement(JTe,{isSelected:n,text:(0,De.Z)("Search all sources..."),url:`#!/search?query=${r}`,onLinkPress:i,onLinkFocus:s})};var eZe=Object.assign;const tZe={resetQuickSearch:Ut.resetQuickSearch,selectQuickSearchResult:Ut.selectQuickSearchResult};class nZe extends y.Component{constructor(){super(...arguments),this.onLinkPress=e=>{this.props.resetQuickSearch(),Gl.Fp()},this.onLinkFocus=e=>{this.props.selectQuickSearchResult({searchResultEntityID:null})}}render(){return y.createElement(XTe,eZe({onLinkPress:this.onLinkPress,onLinkFocus:this.onLinkFocus},this.props))}}const iZe=(0,f.$j)((0,de.P1)((e=>e.ui.quickSearch),(e=>({query:e.query,isSelected:!e.selectedResultEntityID}))),tZe)(nZe),sZe=function(e){const{children:t,title:n}=e;return y.createElement("div",null,y.createElement("h5",{className:"QuickSearchHubContainer-hubTitle-1Eze88","data-qa-id":"quickSearchHub"},n),t)};var rZe=n(60363);const aZe=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({leafCount:e.leafCount})))}))(v_);function oZe(e){const{className:t,playButtonClassName:n,playCircleClassName:i,serverEntityID:s,providerEntityID:r,imageWidth:a,imageHeight:o,imageUrl:l,title:c,isLiveTVItem:d,recordLink:u,onRecordPress:p,onPlayPress:m}=e;return y.createElement(WC.Z,{className:t,serverEntityID:s,providerEntityID:r,component:KC.Z,width:a,height:o,url:l},d?y.createElement(uP.Z,{className:"MetadataPosterButtonCard-recordButton-1_o-UB RecordIcon-recordIconContainer-3wNYSz","data-qa-id":"metadataPosterRecordButton",circleClassName:"MetadataPosterButtonCard-recordCircle-3pLHPB RecordIcon-recordCircle-24nR_8 PlayButton-playCircle-2DYa77",tabIndex:"-1",title:c,to:u,onPress:p}):y.createElement(dP.Z,{className:n,"data-qa-id":"metadataPosterPlayButton",circleClassName:i,tabIndex:"-1",title:c,onPress:m}))}oZe.defaultProps={className:"MetadataPosterButtonCard-card-3uptBn",playButtonClassName:"MetadataPosterButtonCard-playButton-3TZX1L PlayButton-playButton-2dFmuo",playCircleClassName:"MetadataPosterButtonCard-playCircle-3JXUqx PlayButton-playCircle-2DYa77",isLiveTVItem:!1};const lZe=oZe;var cZe=Object.assign;function dZe(e){return y.createElement(lZe,cZe({},e))}dZe.defaultProps={className:"QuickSearchMetadataPosterCard-card-oRXsxj MetadataPosterButtonCard-card-3uptBn"};const uZe=dZe;var pZe=Object.assign;const mZe=function(e){return y.createElement(hJ,pZe({className:"QuickSearchTagPosterCard-card-3ZFqeb TagPosterCard-card-3VDS7c MetadataPosterCardFace-poster-11uR3N"},e))};var hZe=Object.prototype.hasOwnProperty,gZe=Object.getOwnPropertySymbols,yZe=Object.prototype.propertyIsEnumerable,vZe=Object.assign;const fZe=function(e){const{className:t,component:n,isSecondary:i}=e,s=((e,t)=>{var n={};for(var i in e)hZe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&gZe)for(var i of gZe(e))t.indexOf(i)<0&&yZe.call(e,i)&&(n[i]=e[i]);return n})(e,["className","component","isSecondary"]);return y.createElement("div",{className:we()(t,"QuickSearchTitle-title-5TWMlh",i&&"QuickSearchTitle-isSecondary-1uSsLf")},y.createElement(n,vZe({tabIndex:"-1"},s)))},IZe=function({className:e,tag:t}){return y.createElement("span",{className:e},t)};var bZe=Object.assign;const MZe=(0,f.$j)((function(){return(0,de.P1)(E_(),((e={})=>({tag:e.tagItem&&e.tagItem.tag})))}))((function(e){return y.createElement(IZe,bZe({},e))}));class SZe extends y.Component{constructor(e){super(e),this.onItemPress=e=>{e.stopPropagation(),this.state.isActionsMenuOpen&&this.props.onLinkPress()},this.onItemFocus=e=>{this.props.onResultFocus(this.props.searchResultEntityID)},this.onPlayPress=e=>{e.stopPropagation(),this.props.onPlayPress(this.props.searchResultEntityID)},this.onLinkPress=e=>{e.stopPropagation(),this.props.onLinkPress()},this.onActionsMenuOpenChange=e=>{this.setState({isActionsMenuOpen:e})},this.state={isActionsMenuOpen:!1}}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}componentWillUpdate(e,t){if(e.isSelected!==this.props.isSelected&&e.isSelected){const e=v.findDOMNode(this);this.props.onScrollIntoView({scrollTop:e.offsetTop})}}render(){const{serverEntityID:e,providerEntityID:t,searchResultEntityID:n,metadataItemEntityID:i,server:s,provider:r,isSelected:a,isMetadataItem:o,imageWidth:l,imageHeight:c,imageUrl:d,resultRoute:u,metadataKey:p,metadataTitle:m,metadataType:h,metadataSubtype:g,tag:v,tagTypeString:f,librarySectionType:I,reasonTitle:b}=this.props,{isActionsMenuOpen:M}=this.state,S=o?h:f,E=o?g:null,D=r.protocols.livetv;return y.createElement(AM.Z,{component:"div","data-qa-id":"quickSearchItemButton",className:we()("QuickSearchResult-button-1d8C2k",(a||M)&&"QuickSearchResult-selected-1xNBig"),onPress:this.onItemPress,onFocus:this.onItemFocus},y.createElement(AM.Z,{className:"QuickSearchResult-underlay-3vhZ23","data-qa-id":"quickSearchItemLink",tabIndex:"1",title:o?m:v,to:u,onPress:u?this.onLinkPress:this.onPlayPress}),y.createElement("div",{className:"QuickSearchResult-overlay-2kUQsF"},y.createElement("div",{className:"QuickSearchResult-imageContainer-SySM7x"},o?y.createElement(uZe,{serverEntityID:e,providerEntityID:t,imageWidth:l,imageHeight:c,imageUrl:d,title:m,type:h,isLiveTVItem:D,recordLink:(0,ui.Z)(s,r,p,{record:1}),onRecordPress:this.onLinkPress,onPlayPress:this.onPlayPress}):y.createElement(mZe,{serverEntityID:e,providerEntityID:t,imageWidth:l,imageHeight:c,imageUrl:d,title:v,tag:v,tagType:f,librarySectionType:I})),y.createElement("div",{className:"QuickSearchResult-titles-35fL0M","data-qa-id":"quickSearchTitleContainer"},function(e,t,n){return n?function(e,t){switch(t){case"news":switch(e){case"clip":return[GH.Z,AH]}}switch(e){case"movie":return[GH.Z,lP];case"show":return[GH.Z,I_];case"episode":return[GH.Z,iP];case"artist":return[GH.Z,zH];case"album":return[GH.Z,PH];case"track":return[GH.Z,M_];case"photo":case"photoalbum":case"clip":return[GH.Z,s_];case"playlist":return[GH.Z,aZe];case"collection":return[GH.Z,QH];default:return[GH.Z,P_]}}(e,t):[MZe,P_]}(S,E,o).map(((s,r)=>{const a=r>0,o=a&&!!b;return y.createElement(fZe,{key:r,className:a?null:"QuickSearchResult-title--_2o6Z",serverEntityID:e,providerEntityID:t,searchResultEntityID:n,metadataItemEntityID:i,component:o?P_:s,isSecondary:a,onPress:this.onLinkPress})}))),o&&!D?y.createElement(uG.Z,{"data-qa-id":"quickSearchMoreButton",className:"QuickSearchResult-moreButton-3542eA",iconClassName:"QuickSearchResult-moreIcon-2CR3mb",tabIndex:"-1",serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,showPlayTrailer:!1,showPlayPlexMix:!1,showQueuePlexMix:!1,showPlayMusicVideo:!1,showEdit:!1,showRefresh:!1,showAnalyze:!1,showFixMatch:!1,showMatch:!1,showUnmatch:!1,showSplitApart:!1,showSync:!1,showOptimize:!1,showDownload:!1,showDelete:!1,showDeleteVersion:!1,isMenuOpen:M,onMenuOpenChange:this.onActionsMenuOpenChange}):null))}}SZe.defaultProps={isMetadataItem:!1};const EZe=SZe;var DZe=Object.assign;const CZe=DZe({resetQuickSearch:Ut.resetQuickSearch,selectQuickSearchResult:Ut.selectQuickSearchResult,playQuickSearchResult:Ut.playQuickSearchResult},Ka);class PZe extends y.Component{constructor(){super(...arguments),this.onLinkPress=()=>{const{serverEntityID:e}=this.props;this.props.resetQuickSearch({serverEntityID:e}),Gl.Fp()},this.onResultFocus=e=>{(0,Rt.c9)((()=>{this.props.selectQuickSearchResult({searchResultEntityID:e})}))},this.onPlayPress=e=>{const{serverEntityID:t,providerEntityID:n}=this.props;this.props.playQuickSearchResult({serverEntityID:t,providerEntityID:n,searchResultEntityID:e})}}render(){return y.createElement(EZe,DZe(DZe({},this.props),{onLinkPress:this.onLinkPress,onResultFocus:this.onResultFocus,onPlayPress:this.onPlayPress}))}}const wZe=(0,f.$j)((function(){return(0,de.P1)(((e,{metricsContext:t})=>t),Kh.Z,Wh.Z,E_(),(0,_C.Z)(),Me,((e,t,n,i={},s,r)=>{let a={server:t,provider:n,reasonID:i.reasonID,reasonTitle:i.reasonTitle};if(s){const i=(0,qC.n3)(s.type,s.subtype)===qC.s4?28:36,r=(0,cG.Z)(i,null,s.type,s.subtype,s,YC.H1),o=D_(n,s.librarySectionKey);a=DZe({metadataKey:s.key,metadataTitle:s.title,metadataType:s.type,metadataSubtype:s.subtype,typeString:s.type,imageWidth:r.width,imageHeight:r.height,imageUrl:r.url,resultRoute:(0,rZe.Z)(t,n,s,{context:e,legacy:s.type===Ho.PHOTO_ALBUM?1:void 0},o)},a)}else{const s=i.tagItem||{},o=N_.Z.get(s.tagType),l=o&&o.typeString,c=(0,cG.Z)(36,null,l,null,s,YC.H1),d=D_(n,s.librarySectionID),u={filters:s.filter?s.filter:`${l}=${s.id}`,filterLabel:s.tag,context:e},p=r?(0,zg.Z)(t,n,d,{key:s.key,pageType:At.F6.List,context:e}):(0,C_.Z)(t,n,d,u);a=DZe({tag:s.tag,tagType:s.tagType,tagTypeString:l,librarySectionType:s.librarySectionType,imageWidth:c.width,imageHeight:c.height,imageUrl:c.url,resultRoute:p},a)}return a}))}),CZe,_k.Z)(PZe);var TZe=Object.prototype.hasOwnProperty,ZZe=Object.getOwnPropertySymbols,NZe=Object.prototype.propertyIsEnumerable,AZe=Object.assign;const xZe=(0,f.$j)((function(){return(0,de.P1)(E_(),(({metadataItem:e})=>({metadataItemEntityID:e,isMetadataItem:!!e})))}))((function(e){var{component:t}=e,n=((e,t)=>{var n={};for(var i in e)TZe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&ZZe)for(var i of ZZe(e))t.indexOf(i)<0&&NZe.call(e,i)&&(n[i]=e[i]);return n})(e,["component"]);return y.createElement(t,AZe({},n))}));var LZe=Object.prototype.hasOwnProperty,OZe=Object.getOwnPropertySymbols,jZe=Object.prototype.propertyIsEnumerable,kZe=Object.assign;class RZe extends y.Component{shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const e=this.props,{title:t,selectedResultEntityID:n,metadataResults:i,tagResults:s}=e,r=((e,t)=>{var n={};for(var i in e)LZe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&OZe)for(var i of OZe(e))t.indexOf(i)<0&&jZe.call(e,i)&&(n[i]=e[i]);return n})(e,["title","selectedResultEntityID","metadataResults","tagResults"]);return y.createElement(sZe,{title:t},i.concat(s).map(((e,t)=>y.createElement(xZe,kZe({key:e,searchResultEntityID:e,component:wZe,isSelected:n===e},r)))))}}const zZe=RZe;var UZe=Object.prototype.hasOwnProperty,VZe=Object.getOwnPropertySymbols,BZe=Object.prototype.propertyIsEnumerable,FZe=Object.assign,HZe=(e,t)=>{var n={};for(var i in e)UZe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&VZe)for(var i of VZe(e))t.indexOf(i)<0&&BZe.call(e,i)&&(n[i]=e[i]);return n};function _Ze(e){const{isLoading:t,hubs:n}=e,i=HZe(e,["isLoading","hubs"]);return t?y.createElement("div",{className:"QuickSearchProvider-spinnerContainer-Db__al"},y.createElement(RC.Z,{className:"QuickSearchProvider-spinner-10qwcJ"})):n.length?y.createElement("div",null,n.map((e=>y.createElement(zZe,FZe({key:e.hubIdentifier,title:e.title,metadataResults:e.metadataResults,tagResults:e.tagResults,metricsContext:e.context},i))))):y.createElement("div",{className:"QuickSearchProvider-noResults-1jHH-y"},(0,De.Z)("No Results"))}const QZe=function(e){const{searchTitle:t,isSearchPending:n,isSearchPopulated:i}=e,s=HZe(e,["searchTitle","isSearchPending","isSearchPopulated"]);return y.createElement(y.Fragment,null,y.createElement("div",{className:"QuickSearchProvider-title-7KgtD9","aria-label":"heading","aria-level":"4"},t),y.createElement(_Ze,FZe({isLoading:n&&!e.hubs.length},s)))};var GZe=Object.assign;const YZe=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.quickSearch),(e=>({selectedResultEntityID:e.selectedResultEntityID})))}))((function(e){return y.createElement(QZe,GZe({},e))}));var WZe=Object.assign;const KZe=(0,de.P1)((e=>e.ui.quickSearch),(e=>({searches:e.searches}))),qZe=(0,f.$j)((e=>KZe(e)))((function(e){const{searches:t,onScrollIntoView:n}=e;return y.createElement(y.Fragment,null,t&&t.length?t.map((e=>y.createElement(YZe,WZe(WZe({},e),{key:e.providerEntityID,onScrollIntoView:n})))):y.createElement("div",{className:"QuickSearchProviders-noSources-1sH2lX"},(0,De.Z)("No pinned sources to search.")))}));var $Ze=Object.assign;class JZe extends y.Component{constructor(e){super(e),this.onWindowResize=()=>{this.setState({maxHeight:this.getMaxHeight()})},this.state={maxHeight:this.getMaxHeight()}}componentDidMount(){window.addEventListener("resize",this.onWindowResize)}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}getMaxHeight(){return window.innerHeight-150}render(){const{forwardedRef:e,className:t,scrollTop:n,onScrollIntoView:i,onScrollPositionChange:s}=this.props;return y.createElement(jK.Z,{page:et.xX},y.createElement(wN.Z,{className:we()("QuickSearchResults-container-3waOeb",t),style:this.state,scrollTop:n,ref:e,onScrollPositionChange:s},y.createElement(iZe,null),y.createElement(qZe,{onScrollIntoView:i})))}}const XZe=y.forwardRef(((e,t)=>y.createElement(JZe,$Ze($Ze({},e),{forwardedRef:t})))),eNe=parseInt(ku.Z.searchResultHeight,10);class tNe extends y.Component{constructor(e,t){super(e,t),this.onScrollIntoView=({scrollTop:e})=>{const t=this._resultsRef.current.clientHeight+this.state.scrollTop,n=e+eNe>t||e<this.state.scrollTop;this.setState({scrollTop:n?e:this.state.scrollTop})},this.onWindowPress=e=>{if(!this.state.isOpen)return;const t=this._searchRef.current;t&&t.contains(e.target)||this.setState({isOpen:!1})},this.onKeyDown=e=>{const{isOpen:t}=this.state;switch(e.keyCode){case Wl.JH:case Wl.LH:t&&(e.stopPropagation(),e.preventDefault(),e.keyCode===Wl.LH?this.props.selectQuickSearchResult({offset:-1}):this.props.selectQuickSearchResult({offset:1}),this.isTabScoped&&(Gl.sM(),this.isTabScoped=!1));break;case Wl.K5:if(t){const{platformID:t}=Nwe.Z,n="osx"===t?e.metaKey:e.ctrlKey,i=e.shiftKey;Gl.Fp(),this.isTabScoped=!1,n?i?this.props.playQuickSearchResult({options:{shuffle:!0}}):this.props.playQuickSearchResult():this.props.navigateQuickSearchResult()}break;case Wl.hY:e.nativeEvent.stopImmediatePropagation(),this.isTabScoped&&(Gl.sM(),this.isTabScoped=!1),t?this.setState({isOpen:!1}):this.props.changeQuickSearchQuery("");break;case Wl.Mf:if(t){if(!this.isTabScoped){const e=this._resultsRef.current;Gl.LJ(e),this.isTabScoped=!0}Gl.QE(e)}}},this.onInputClick=e=>{this.isTabScoped&&(Gl.sM(),this.isTabScoped=!1),this.state.isOpen||""===this.props.query||this.setState({isOpen:!0})},this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.onSearch=()=>{(0,Rt.c9)((()=>{this.props.fetchQuickSearch()}))},this.onInputChange=e=>{(0,Rt.c9)((()=>{this.props.changeQuickSearchQuery(e)}))},this._searchRef=y.createRef(),this._resultsRef=y.createRef(),this.isTabScoped=!1,this.state={scrollTop:0,isOpen:!1}}componentWillMount(){this._listenForPress()}componentWillReceiveProps(e,t){const{selectedResultEntityID:n,query:i}=e,s=this.props.query!==i,r=i.trim().length,a=this.state.isOpen;r&&!a&&s?this.setState({isOpen:!0}):!r&&a&&(this.setState({isOpen:!1}),this.isTabScoped&&(Gl.IB(),this.isTabScoped=!1)),null==n&&this.setState({scrollTop:0})}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}componentWillUnmount(){this._stopListeningForPress()}_listenForPress(){window.addEventListener("mouseup",this.onWindowPress),window.addEventListener("touchend",this.onWindowPress)}_stopListeningForPress(){window.removeEventListener("mouseup",this.onWindowPress),window.removeEventListener("touchend",this.onWindowPress)}render(){const{query:e}=this.props;return y.createElement("div",{className:we()("QuickSearch-container-1xPq6f"),ref:this._searchRef,onKeyDown:this.onKeyDown},y.createElement(GTe,{query:e,onChange:this.onInputChange,onSearch:this.onSearch,onClick:this.onInputClick}),this.state.isOpen?y.createElement(XZe,{scrollTop:this.state.scrollTop,ref:this._resultsRef,onScrollIntoView:this.onScrollIntoView,onScrollPositionChange:this.onScrollPositionChange}):null)}}const nNe=tNe;var iNe=Object.assign;const sNe=(0,de.P1)((e=>e.ui.quickSearch.providerEntityID),_t.Z,((e,t)=>t[e])),rNe=(0,de.P1)((e=>e.ui.quickSearch.serverEntityID),he.Z,((e,t)=>t[e])),aNe=(0,de.P1)((e=>e.ui.quickSearch.directoryID),sNe,((e,t)=>{if(!t)return;if(pa.wB(t.providerIdentifier,pa.Ll))return(0,So.Z)(t).directories.find((e=>!!e.hubKey));if(!e)return;const n=(0,So.Z)(t);return n?n.directories.find((t=>t.id?t.id===e:t.key===`/library/sections/${e}`)):void 0})),oNe=(0,de.P1)(rNe,sNe,aNe,((e,t,n)=>{let i;if(e&&t&&n){const s=(0,TM.Z)(t,n);s&&(i=wM({sourceType:s.key,sourceServer:e,sourceProvider:t,sourceDirectory:n}))}return i})),lNe=(0,sn.Z)((0,de.P1)(UTe(),oNe,((e,t)=>(t?[t,...e]:e).map((e=>({isCloud:e.isCloud,isFullOwnedServer:e.isFullOwnedServer,title:e.title,serverSourceTitle:e.serverSourceTitle,serverFriendlyName:e.serverFriendlyName,providerSourceTitle:e.providerSourceTitle,machineIdentifier:e.machineIdentifier,providerIdentifier:e.providerIdentifier,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,directoryID:e.directoryID}))))),(e=>e)),cNe=(0,de.P1)(lNe,_t.Z,Wa.Z,((e,t,n)=>e.filter((e=>{const i=t[e.providerEntityID],s=i&&i.features.find((e=>e.type===mS.mo));return s&&(0,_o.d)(n,s)})))),dNe=iNe({},Ut);class uNe extends y.Component{componentWillMount(){this._populate()}componentWillReceiveProps(e){const t=e.searchSources!==this.props.searchSources,n=e.providerEntityID!==this.props.providerEntityID;(e.hasInitialSources!==this.props.hasInitialSources||t||n)&&this._populate(e)}_populate(e=this.props){const{searchSources:t,hasInitialSources:n}=e;n&&t&&t.length&&(0,Rt.c9)((()=>{e.initQuickSearch({searchSources:t})}))}render(){return y.createElement(nNe,iNe({},this.props))}}const pNe=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.quickSearch),cNe,BTe,((e,t,n)=>({hasInitialSources:n,searchSources:t,providerEntityID:e.providerEntityID,query:e.query,selectedResultEntityID:e.selectedResultEntityID})))}),dNe)(uNe);function mNe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-back-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M56 280l224 224V322h224v-84H280V56z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}mNe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const hNe=mNe;function gNe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-fullscreen-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M532.011 28H346.44l76.891 76.892L310.2 218.023l31.788 31.788 113.131-113.132 76.892 76.892V28zM28 532.011h185.572L136.68 455.12l113.131-113.131-31.788-31.788-113.131 113.131L28 346.44v185.571z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}gNe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const yNe=gNe;function vNe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-menu-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M28 420h504v62.222H28V420zm0-171.333h504v62.222H28v-62.222zM28 78h504v62.222H28V78z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}vNe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const fNe=vNe;function INe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-windowed-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M224 336H38.428l76.892 76.892L2.189 526.023l31.788 31.788L147.108 444.68 224 521.572V336zm112-112h185.572l-76.892-76.892L557.811 33.977 526.023 2.189 412.892 115.32 336 38.428V224z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}INe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const bNe=INe;var MNe=n(70460),SNe=n.n(MNe);function ENe(e){return E().reduce(e,(function(e,t,n){var i=DNe(t);if(0===n)return e.concat(i);var s=i.length>1;return e.concat({plain:!0,split:s,s:"or"},i)}),[])}function DNe(e){var t=e.match(/(.+) (.+)/);if(t)return DNe(t[1]).concat({plain:!0,s:"then"}).concat(DNe(t[2]));var n=e.match(/(.+)\+(\S+)/);return n?DNe(n[1]).concat({plain:!0,s:"+"}).concat(DNe(n[2])):[{s:E().reduce([[/command/,"⌘"],[/up/,"↑"],[/down/,"↓"],[/left/,"←"],[/right/,"→"]],(function(e,t){return e.replace(t[0],t[1])}),e)}]}const CNe=oae.Z.extend({name:"keyboardShortcutsModal",className:"keyboard-shortcuts-modal modal fade",template:SNe(),orderedGroups:[{group:"navigation",label:"Navigation"},{group:"actions",label:"Actions"},{group:"player",label:"Player"}],initialize:function(e){oae.Z.prototype.initialize.apply(this,arguments),this.shortcuts=e.shortcuts},serializeData:function(){var e={};return E().each(this.shortcuts,(function(t){var n=t.group;("function"!=typeof t.isSupported||t.isSupported())&&(e[n]||(e[n]=[]),e[n].push(this.humanizeShortcut(t)))}),this),{groups:E().map(this.orderedGroups,(function(t){var n=E().clone(t);return n.shortcuts=e[t.group],n}),this)}},humanizeShortcut:function(e){return(e=E().clone(e)).keys=ENe(e.keys),e.label=e.label(),e}});var PNe=Object.prototype.hasOwnProperty,wNe=Object.getOwnPropertySymbols,TNe=Object.prototype.propertyIsEnumerable,ZNe=Object.assign;function NNe(e){const{children:t,badgeClassName:n,badgeLabel:i,badgeKind:s}=e,r=((e,t)=>{var n={};for(var i in e)PNe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&wNe)for(var i of wNe(e))t.indexOf(i)<0&&TNe.call(e,i)&&(n[i]=e[i]);return n})(e,["children","badgeClassName","badgeLabel","badgeKind"]);return y.createElement(ho.Z,ZNe({},r),t,y.createElement(zw.Z,{className:n,kind:s},i))}NNe.defaultProps={className:"BadgeMenuItem-badgeMenuItem-1pkQAR MenuItem-menuItem-3VIgmv",badgeClassName:"BadgeMenuItem-badge-2z7ugz Badge-badge-29PpMR",badgeKind:fo._8};const ANe=NNe,xNe=(0,f.$j)((function(){return(0,de.P1)(HB.Z,ge,zwe,Vwe,((e,t,n,i)=>({username:e.title,isSignedIn:e.signedIn,isRestricted:e.isRestricted,isCloudServerConnected:t.isConnected,isAnonymousUser:!!e.anonymous,isFullUser:e.isFullUser,announcementsCount:n.length,friendInvitesCount:i.length,appsURL:t?t.appsUrl:"https://plex.tv/downloads"})))}),(function(e,t){return{onSwitchUserPress(t){window.setTimeout((()=>{e((0,Nv.xh)())}))},onUsersAndSharingPress(e){e.preventDefault(),(0,Ine.Z)("usersSharing")},onSignInPress(e){e.preventDefault(),(0,Ine.Z)("login")},onSignOutPress(e){e.preventDefault(),(0,Ine.Z)("logout")},onKeyboardShortcutPress(e){e.preventDefault();const t=(0,M.DB)("keyboardShortcuts");ee.Z.trigger("show:modal",new CNe({shortcuts:t.shortcuts}))}}}))((function(e){const{isOpen:t,target:n,options:i,username:s,isSignedIn:r,isAnonymousUser:a,isFullUser:o,announcementsCount:l,friendInvitesCount:c,appsURL:d,isCloudServerConnected:u,onUsersAndSharingPress:p,onSwitchUserPress:m,onSignInPress:h,onSignOutPress:g,onKeyboardShortcutPress:v,onMenuClose:f}=e,I=u&&(!r||a),b=r&&o&&!a;return y.createElement(mo.Z,{isOpen:t,target:n,options:i,onMenuClose:f},s?y.createElement(Mo.Z,null,s):null,r?y.createElement(ho.Z,{to:"#!/settings/account",onPress:f},(0,De.Z)("Account")):null,r&&!a?y.createElement(ANe,{badgeLabel:c>0?c:null,onPress:(0,vo.Z)(f,p)},(0,De.Z)("Users & Sharing")):null,r?y.createElement(go.Z,null):null,r&&o&&!a?y.createElement(ANe,{to:"#!/announcements",badgeLabel:l>0?l:null,onPress:f},(0,De.Z)("Announcements")):null,u?y.createElement(ho.Z,{to:d,target:"_self",onPress:f},(0,De.Z)("Get Plex Apps")):null,u?y.createElement(ho.Z,{to:Np.av,target:"_self",onPress:f},(0,De.Z)("Help")):null,y.createElement(ho.Z,{onPress:(0,vo.Z)(f,v)},(0,De.Z)("Keyboard Shortcuts")),y.createElement(go.Z,null),a?null:y.createElement(ho.Z,{onPress:(0,vo.Z)(f,m)},(0,De.Z)("Switch User...")),I?y.createElement(ho.Z,{onPress:(0,vo.Z)(f,h)},(0,De.Z)("Sign In")):null,b?y.createElement(ho.Z,{onPress:(0,vo.Z)(f,g)},(0,De.Z)("Sign Out")):null)}));class LNe extends y.Component{constructor(e,t){super(e,t),this.onButtonPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=e=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._buttonID=(0,wf.Z)()}render(){const{className:e,tooltipClassName:t,tooltipFocusedClassName:n,serverEntityID:i,userThumb:s,badgeCount:r}=this.props;return y.createElement(y.Fragment,null,y.createElement(th.Z,{className:e,tooltipClassName:t,tooltipFocusedClassName:n,id:this._buttonID,component:G$.Z,isSelected:!1,tooltip:this.state.isMenuOpen?null:(0,De.Z)("Account"),direction:this.state.isMenuOpen?yc.UP:yc.WV,onPress:this.onButtonPress},y.createElement("div",{className:"NavBarAccountButton-avatarContainer-1akg8A"},y.createElement("div",{className:we()("NavBarAccountButton-overlay-3sFe7J",this.state.isMenuOpen&&"NavBarAccountButton-isMenuOpen-1ZeCuV")}),y.createElement(V4.Z,{serverEntityID:i,width:30,height:30,url:s})),y.createElement(zw.Z,{className:"NavBarAccountButton-badge-2pq5TE Badge-badge-29PpMR",kind:fo._8},r>0?r:null)),y.createElement(xNe,{isOpen:this.state.isMenuOpen,target:this._buttonID,onMenuClose:this.onMenuClose}))}}LNe.defaultProps={className:"NavBarAccountButton-button-3Ng0KE DisclosureArrowButton-disclosureArrowButton-eURy9V Link-link-3v-v0b",tooltipClassName:"NavBarAccountButton-tooltip-2i5Nec Tooltip-bottomCenter-3puJD6 Tooltip-tooltip-7baWc9 Tooltip-tooltipArrow-3xCLkA Tooltip-tooltipTopArrow-2DrTmU Tooltip-tooltipCenterAlignArrow-2WhOj6",tooltipFocusedClassName:"NavBarAccountButton-tooltipTriggerHasFocus-1YqijZ NavBarAccountButton-tooltip-2i5Nec Tooltip-bottomCenter-3puJD6 Tooltip-tooltip-7baWc9 Tooltip-tooltipArrow-3xCLkA Tooltip-tooltipTopArrow-2DrTmU Tooltip-tooltipCenterAlignArrow-2WhOj6"};const ONe=LNe;var jNe=n(56733),kNe=n(36237);function RNe(e,t,n){const i=function(e){const t=e.desktop&&e.desktop.update;if(t&&(t.state===Yme||t.state===Kme||t.state===qme||t.state===ehe))return(0,Tfe.Z)(t.version)}(e);return!!(e.isConnected&&e.isFullOwnedServer&&i&&i!==n&&i!==t[e.machineIdentifier])}var zNe=n(45992);const UNe=(0,de.P1)(fe.Z,(e=>e.dismissedServerUpdateVersions)),VNe=(0,de.P1)(fe.Z,(e=>e.serverUpdateDismissedVersion)),BNe={[Oa.RG]:!0,[Oa.JW]:!0,[Oa.sC]:!0,[Oa.t6]:!0,[Oa.zL]:!0,[Oa.Ts]:!0,[Oa.nJ]:!0,[Oa.y0]:!0,[Oa.QX]:!0,[Oa.Gh]:!0,[Oa.TS]:!0,[Oa.ZJ]:!0,[Oa.K5]:!0,[Oa.iJ]:!0};var FNe=n(52373);const HNe=function(e){const{className:t}=e;return y.createElement("div",{className:t},y.createElement("img",{className:"AlertRoundOpaqueIcon-img-G_UGzf",src:FNe}))},_Ne=function(e){const{title:t,subtitle:n,progress:i,isPostProcessing:s}=e;return y.createElement("div",{className:"ActivityMenuStatusItem-splitButton-23LKKZ MenuItem-menuItem-3VIgmv"},y.createElement("span",{className:"ActivityMenuStatusItem-activityTitleContainer-SCV06w"},y.createElement("span",{className:"ActivityMenuStatusItem-activityTitle-3Kd1d9",title:t},t,n?":":null),n?y.createElement("span",{className:"ActivityMenuStatusItem-activitySubtitle-23Mhyn",title:n},n):null),y.createElement("span",null,null==i||s?y.createElement(RC.Z,{size:vc.HC}):y.createElement(SL.Z,{progress:i,size:18,lineWidth:2,showProgressText:!1})))};function QNe(e){const{labelClassName:t,to:n,label:i,indicator:s,onPress:r}=e;return y.createElement(ho.Z,{className:"NavBarActivityMenuStatusItem-splitButton-1WfAm9 ActivityMenuStatusItem-splitButton-23LKKZ MenuItem-menuItem-3VIgmv",to:n,onPress:r},y.createElement("span",{className:t},i),s?y.createElement("span",{className:"NavBarActivityMenuStatusItem-statusButtonIndicator-2cc7cL"},s):null)}const GNe=(0,f.$j)((function(){return(0,de.P1)((0,HM.Z)(),Fae(),(0,de.P1)(ZSe(),(e=>e.backgroundTranscodeJobs?e.backgroundTranscodeJobs:[])),(0,de.P1)(ZSe(),(e=>e.activities?e.activities:[])),UNe,VNe,((e,t,n,i,s,r)=>({friendlyName:e.friendlyName,machineIdentifier:e.machineIdentifier,sessionsCount:t,backgroundTranscodeJobs:n,activities:i,showUpdateAvailable:RNe(e,s,r)})))}))((function(e){const{friendlyName:t,machineIdentifier:n,sessionsCount:i,backgroundTranscodeJobs:s,activities:r,showUpdateAvailable:a,onMenuClose:o}=e,l=encodeURIComponent(n);return y.createElement("div",{className:"NavBarActivityMenuStatusItem-statusContainer-2pkYvK"},y.createElement("div",{className:"NavBarActivityMenuStatusItem-statusTitle-17ooF2"},t),y.createElement(QNe,{to:`#!/settings/server/${l}/status/server-dashboard`,label:(0,De.Z)("Dashboard"),indicator:i?`${i}`:null,onPress:o}),s.length?y.createElement(QNe,{to:`#!/settings/server/${l}/status/conversion`,label:(0,De.Z)("Conversions"),indicator:`${s.length}`,onPress:o}):null,r.length?r.map((e=>{const{uuid:t,type:n,title:i,subtitle:s,progress:r,Context:a={}}=e;return BNe[n]?y.createElement(_Ne,{key:t,title:i,subtitle:s,progress:r,isPostProcessing:a.status===mL.jN}):null})):null,a?y.createElement(QNe,{labelClassName:"NavBarActivityMenuStatusItem-primaryLabel-2JmhHi",to:`#!/server/${l}/update`,label:(0,De.Z)("Server Update Available"),indicator:y.createElement(HNe,{className:"NavBarActivityMenuStatusItem-alertIndicator-RtAG8z"}),onPress:o}):null)})),YNe=(0,f.$j)((function(){return(0,de.P1)(ZSe(),(e=>({activities:e&&e.activities?e.activities.filter((e=>BNe[e.type])):[]})))}))((function(e){const{activities:t,onMenuClose:n}=e;return t.length?y.createElement("div",{className:"NavBarEmbeddedServerActivityMenuStatusItem-statusContainer-1JetCv NavBarActivityMenuStatusItem-statusContainer-2pkYvK"},y.createElement("div",{className:"NavBarEmbeddedServerActivityMenuStatusItem-statusTitle-X0Io5- NavBarActivityMenuStatusItem-statusTitle-17ooF2"},y.createElement(AM.Z,{to:GE(),onPress:n},(0,De.Z)("Downloads"))),t.map((e=>{const{uuid:t,title:n,subtitle:i,progress:s,Context:r={}}=e;return y.createElement(_Ne,{key:t,title:n,subtitle:i,progress:s,isPostProcessing:r.status===mL.jN})}))):null})),WNe={placement:"bottom-end"},KNe=function(e){const{isOpen:t,target:n,embeddedServerEntityID:i,ownedServerEntityIDs:s,onMenuClose:r}=e;return y.createElement(mo.Z,{className:"NavBarActivityMenu-menu-3fQmRF Menu-menu-2zqgoE",isOpen:t,target:n,options:WNe,onMenuClose:r},s.map((e=>y.createElement(GNe,{key:e,serverEntityID:e,onMenuClose:r}))),i?y.createElement(YNe,{key:i,serverEntityID:i,onMenuClose:r}):null)};function qNe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-activity-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M248.175 179.16l-61.448 163.858A20 20 0 0 1 168 355.996H84v-40h70.14l79.133-211.019c6.892-18.376 33.37-16.868 38.13 2.172l70.887 283.544 31.821-63.641A20 20 0 0 1 392 315.996h84v40h-71.64L353.89 456.938c-8.304 16.608-32.788 13.92-37.292-4.093l-68.422-273.686z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}qNe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const $Ne=qNe,JNe="NavBarActivityIcon-icon-1CMt1h";function XNe(e){const{className:t,iconComponent:n,isActive:i}=e;return y.createElement("span",{className:t},i?y.createElement(RC.Z,{className:"NavBarActivityIcon-activityIndicator-3P2Xg- Spinner-spinner-5E5Wk_ spin-spin-oHlEXH"}):null,y.createElement(n,{className:JNe}))}XNe.defaultProps={className:"NavBarActivityIcon-iconContainer-2dJZ6E",iconClassName:JNe,iconComponent:$Ne};const eAe=XNe;class tAe extends y.Component{constructor(e,t){super(e,t),this.onActivityPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._buttonID=(0,wf.Z)()}componentDidUpdate(e){this.props.isDisabled&&!e.isDisabled&&this.state.isMenuOpen&&this.onMenuClose()}render(){const{className:e,isDisabled:t,iconClassName:n,labelClassName:i,showActivityButton:s,embeddedServerEntityID:r,ownedServerEntityIDs:a,hasSessions:o,hasConversions:l,hasActivities:c,hasAvailableServerUpdate:d,hasLibraryRefreshing:u,activityButtonCount:p}=this.props;if(!s)return null;const m=o||l,h=c||u,g=!p&&d;return y.createElement(y.Fragment,null,y.createElement(MTe,{id:this._buttonID,isDisabled:t,className:we()(e,m&&"NavBarActivityButton-isHighlighted-2YqjDs"),iconClassName:n,labelClassName:i,iconProps:{isActive:h},iconComponent:eAe,alertIconClassName:"NavBarActivityButton-alertIcon-1WiIj6 NavBarIconButton-alertIcon-3RbSz5",alertIconComponent:g?HNe:null,ariaLabel:(0,De.Z)("Activity"),title:this.state.isMenuOpen?null:(0,De.Z)("Activity"),label:p?String(p):null,onPress:this.onActivityPress}),y.createElement(KNe,{isOpen:this.state.isMenuOpen,target:this._buttonID,embeddedServerEntityID:r,ownedServerEntityIDs:a,onMenuClose:this.onMenuClose}))}}tAe.defaultProps={iconClassName:"NavBarActivityButton-activityIcon-3gF_TD NavBarActivityIcon-iconContainer-2dJZ6E",labelClassName:"NavBarActivityButton-label-O3mt7Y"};const nAe=tAe;var iAe=Object.assign;const sAe={sessionsCount:0,backgroundTranscodeJobsCount:0,activitiesCount:0};function rAe(e,t){return e.reduce(((e,n)=>{const{backgroundTranscodeJobs:i=[],activities:s=[]}=n.desktop,r=t[n.machineIdentifier],a=null==r?void 0:r.sessionKeys.length,o=i.length,l=s.filter((e=>!!BNe[e.type])).length;return a>0&&(e.sessionsCount+=a),o>0&&(e.backgroundTranscodeJobsCount+=o),l>0&&(e.activitiesCount+=l),e}),iAe({},sAe))}const aAe=(0,de.P1)(kNe.Z,(e=>e.v4.core.serverNowPlayingSessions),((e,t)=>rAe(e,t))),oAe=(0,de.P1)(__.Z,(e=>e.v4.core.serverNowPlayingSessions),((e,t)=>e?rAe([e],t):sAe)),lAe=(0,de.P1)(aAe,oAe,((e,t)=>({activitiesCount:e.activitiesCount+t.activitiesCount,backgroundTranscodeJobsCount:e.backgroundTranscodeJobsCount+t.backgroundTranscodeJobsCount,sessionsCount:e.sessionsCount+t.sessionsCount}))),cAe=(0,de.P1)(kNe.Z,jNe.Z,((e,t)=>e.reduce(((e,n)=>{const{libraries:i}=n.desktop;return e+i.filter((e=>{const n=t[e];return!!n&&n.refreshing})).length}),0))),dAe=(0,de.P1)(kNe.Z,UNe,VNe,((e,t,n)=>e.some((e=>RNe(e,t,n))))),uAe=(0,f.$j)((function(){return(0,de.P1)(((e,{isDisabled:t})=>t),zNe.Z,hDe.Z,lAe,cAe,dAe,((e,t,n,i,s,r)=>{const a=n.length>0;let o=a;return t&&(o=!0,e=e||!a&&i.sessionsCount+i.backgroundTranscodeJobsCount+i.activitiesCount===0),{isDisabled:e,embeddedServerEntityID:t,ownedServerEntityIDs:n,showActivityButton:o,hasSessions:i.sessionsCount>0,hasConversions:i.backgroundTranscodeJobsCount>0,hasActivities:i.activitiesCount>0,hasAvailableServerUpdate:r,hasLibraryRefreshing:s>0,activityButtonCount:i.sessionsCount+i.backgroundTranscodeJobsCount}}))}))(nAe);class pAe extends y.Component{constructor(e,t){super(e,t),this.onButtonPress=e=>{this.setState({isPlexPassModalOpen:!0})},this.onModalClose=e=>{this.setState({isPlexPassModalOpen:!1})},this.state={isPlexPassModalOpen:!1}}render(){return y.createElement(y.Fragment,null,y.createElement(ATe,{onPress:this.onButtonPress},(0,De.Z)("Go Premium")),y.createElement(ld.Z,{origin:poe.uh,metricsProperties:{context:pS.NAV_BAR},isOpen:this.state.isPlexPassModalOpen,onModalClose:this.onModalClose}))}}const mAe=pAe,hAe="NavBar-button-1cThl9 NavBarIconButton-button-3Fm-24 IconButton-button-2smHOM",gAe="NavBar-buttonSeparator-2LnlnR",yAe=(0,zPe.gn)()||(0,zPe.P_)(),vAe=(0,de.P1)((e=>e.isFullscreen),(e=>e)),fAe=(0,de.P1)(ye.Z,(e=>e.isSidebarCollapsed)),IAe=(0,de.P1)((e=>e.downloads&&e.downloads.subscriptions),(e=>!!e&&e.length>0)),bAe=(0,de.P1)(Uwe,(e=>e.some((e=>e.isConnected)))),MAe=(0,f.$j)((function(){return(0,de.P1)((e=>e.history),((e,{route:t})=>t),HB.Z,zwe,Vwe,vAe,fAe,(0,de.P1)(HB.Z,ge,IAe,bAe,((e,t,n,i)=>!(e.isLocked||!t)&&(t.isResolved||n||i))),((e,t,n,i,s,r,a,o)=>{const l=(0,kt.Z)(Vt.cN,KP.X),c=/#!\/settings/.test(t),d=(0,zPe.P_)()&&(0,M.DB)("fullscreenManager").hasFullscreen;return{serverEntityID:l,hasHistory:e.length>1,hasHomeButton:c,userThumb:n.thumb,badgeCount:i.length+s.length,isFullscreen:r,isSidebarCollapsed:a,isAnonymousUser:!!n.anonymous,canGoPremium:n.canGoPremium,canEnterFullscreen:d&&!r,canExitFullscreen:d&&r,canNavigateHistory:yAe,canToggleSidebar:!c,shouldRender:o}}))}),(function(e,t){return{onBackPress(t){e((0,pn.n)())},onEnterFullscreen(e){(0,M.DB)("fullscreenManager").enter()},onExitFullscreen(e){(0,M.DB)("fullscreenManager").exit()},onToggleCollapsedSidebar(t){(0,Rt.c9)((()=>{e((0,Nv.LN)({isSidebarCollapsed:t}))}))}}}))((function(e){const{serverEntityID:t,hasHistory:n,hasHomeButton:i,userThumb:s,badgeCount:r,canEnterFullscreen:a,canExitFullscreen:o,isAnonymousUser:l,canGoPremium:c,canNavigateHistory:d,canToggleSidebar:u,isSidebarCollapsed:p,shouldRender:m,onBackPress:h,onEnterFullscreen:g,onExitFullscreen:v,onToggleCollapsedSidebar:I}=e,b=(0,f.v9)(Bve.Z),M=(0,y.useCallback)((()=>{I(!p)}),[p,I]);if(!m)return null;const S=(0,hD.Z)("NavBar",b);return y.createElement("div",{key:S,className:"NavBar-container-1YySYJ"},y.createElement("div",{className:"NavBar-left-1zHz4w NavBar-side-34QZPx"},u?y.createElement(MTe,{className:hAe,iconComponent:fNe,title:p?(0,De.Z)("Expand"):(0,De.Z)("Collapse"),onPress:M}):null,i?y.createElement(MTe,{className:hAe,to:"#",iconComponent:OF,title:(0,De.Z)("Home")}):null,y.createElement(AM.Z,{to:"#",className:"NavBar-plexLogo-2adNGd NavBarIconButton-button-3Fm-24 IconButton-button-2smHOM"}),d?y.createElement(MTe,{className:hAe,iconComponent:hNe,title:(0,De.Z)("Back"),isDisabled:!n,onPress:h}):null,y.createElement(pNe,null)),y.createElement("div",{className:"NavBar-right-2AlH9s NavBar-side-34QZPx"},c?y.createElement(mAe,null):null,l?y.createElement(y.Fragment,null,y.createElement(xTe,null),y.createElement(LTe,null)):null,c||l?y.createElement("div",{className:gAe}):null,o?y.createElement(MTe,{className:hAe,iconComponent:bNe,title:(0,De.Z)("Exit Full Screen"),onPress:v}):null,a?y.createElement(MTe,{className:hAe,iconComponent:yNe,title:(0,De.Z)("Enter Full Screen"),onPress:g}):null,a||o?y.createElement("div",{className:gAe}):null,y.createElement(uAe,{className:hAe}),y.createElement(CTe,null),y.createElement(gTe,{className:hAe,iconComponent:MTe}),y.createElement(ONe,{className:"NavBar-accountButton-1vgDr- NavBarAccountButton-button-3Ng0KE DisclosureArrowButton-disclosureArrowButton-eURy9V Link-link-3v-v0b",serverEntityID:t,userThumb:l?null:s,badgeCount:r})))}));class SAe extends y.Component{constructor(e){super(e),this.onHashChange=()=>{this.setState({route:window.location.hash})},this.state={hasError:!1,route:window.location.hash}}static getDerivedStateFromError(){return{hasError:!0}}componentDidMount(){window.addEventListener("hashchange",this.onHashChange,!1)}componentWillUnmount(){window.removeEventListener("hashchange",this.onHashChange,!1)}componentDidCatch(e){D.Z.error(e)}render(){return this.state.hasError?y.createElement(Fwe,null):y.createElement(MAe,{route:this.state.route})}}const EAe=SAe,DAe=(0,de.P1)(ge,Lt.Z,((e,t)=>({isWaitingForCloudServer:!e.isResolved&&!e.isRejected,isCloudServerAvailable:e.available,isCloudServerResolved:e.isResolved,isCloudServerRejected:e.isRejected,isCloudServerPending:e.isPending,isAnonymousUser:t}))),CAe={dispatchPopulateCloudServer:tt._K},PAe=(0,f.$j)(DAe,CAe)((function(e){const{isCloudServerAvailable:t,isCloudServerResolved:n,isCloudServerRejected:i,isCloudServerDownForMaintenance:s,isAnonymousUser:r,dispatchPopulateCloudServer:a}=e,o=(0,zr.Z)(t),l=!0===t||!1===t,c=!0!==o&&!1!==o;return B6((()=>{a()})),(0,y.useEffect)((()=>{c&&l&&a()}),[c,l,a]),n?r?y.createElement(YMe,null):y.createElement(I.l_,{to:Bz.Z.home[0]}):i&&l?t?y.createElement(YMe,null):s?y.createElement(Qz,null):y.createElement(Wz,null):y.createElement(Ve,null,y.createElement(qe,null))})),wAe=(0,de.P1)(ye.Z,(e=>e.lastSourcePivots));var TAe=n(41658);const ZAe=/^\/library\/sections\/(\w+)(\/all)?$/,NAe={dispatchNavigate:pn.c4};class AAe extends y.Component{componentDidMount(){this._maybeRedirect(this.props)}componentDidUpdate(e){this._maybeRedirect(this.props)}_maybeRedirect(e){this._hasRedirected||this.props.isSourceDirectoryNotFound||(e.dispatchNavigate({pathname:e.tabRoute,prependHashBang:!0,replace:!0}),this._hasRedirected=!0)}render(){const{isSourceDirectoryNotFound:e}=this.props;return e?y.createElement(yA.Z,null):y.createElement(Gz.Z,null,y.createElement(RC.Z,null))}}const xAe=(0,f.$j)((function(){return(0,de.P1)((0,HM.Z)(),(0,UM.Z)(),wC(),(0,de.P1)((0,HM.Z)(),(0,UM.Z)(),wC(),wAe,((e,t,n,i)=>{if(!n)return;let s=i[(0,hD.Z)(e.machineIdentifier,t.identifier,n.id)];return ZAe.test(s)&&(s=(0,TAe.Z)(n.id,n.type)),n.pivots.find((e=>e.key===s))})),BZ.Z,((e,t,n,i,s)=>{if(!n)return{isSourceDirectoryNotFound:!0};let r;return n.pivots&&(r=i||n.pivots[0]),{tabRoute:YZ(e,t,n,r,s[FZ(e,t,n,r)])}}))}),NAe)(AAe),LAe="PlexAccountUpsellPage-panel-3qqE8G",OAe="PlexAccountUpsellPage-panelIcon-1sPWA-",jAe="PlexAccountUpsellPage-panelTitle-1MIqAF",kAe="PlexAccountUpsellPage-panelDescription-26fG9A",RAe=function(){const e=(0,I.k6)(),t=(0,y.useCallback)((()=>{e.push(Bz.Z.signUp)}),[e]);return y.createElement(Gz.Z,{title:(0,De.Z)("Sign up for a free account to continue"),description:(0,De.Z)("Some benefits to a Plex account:")},y.createElement("div",{className:"PlexAccountUpsellPage-container-NJK_oG"},y.createElement("div",{className:LAe},y.createElement(aM,{className:OAe}),y.createElement("div",{className:jAe},(0,De.Z)("One App, Any Device")),y.createElement("div",{className:kAe},(0,De.Z)("Pick up whatever you were watching exactly where you left off on any device"))),y.createElement("div",{className:LAe},y.createElement(oM.Z,{className:OAe}),y.createElement("div",{className:jAe},(0,De.Z)("Save Your Favorites")),y.createElement("div",{className:kAe},(0,De.Z)("Save your favorite Podcasts and Web Shows. Add a TIDAL subscription to save your favorite music and playlists"))),y.createElement("div",{className:LAe},y.createElement(cM,{className:OAe}),y.createElement("div",{className:jAe},(0,De.Z)("Parental Controls")),y.createElement("div",{className:kAe},(0,De.Z)("Enable parental controls to keep things kid-friendly, or create separate accounts for your childish roommates")))),y.createElement(sM.Z,null,y.createElement($h.Z,{kind:fo._8,size:vc.ln,onPress:t},(0,De.Z)("Sign Up"))))},zAe=function(e){const{serverEntityID:t,providerEntityID:n,pivot:i,sourceDirectory:s,directoryKey:r,isNotFound:a,showPlexAccountUpsell:o,isPending:l,children:c}=e;return l?y.createElement(Gz.Z,null,y.createElement(RC.Z,null)):a?y.createElement(yA.Z,null):o?y.createElement(yj,{serverEntityID:t,providerEntityID:n,pivot:i,sourceDirectory:s,directoryKey:r,scrollDirection:vb.Hn},y.createElement(RAe,null)):c};function UAe(e,t){return!e&&!t||E().isEqual(e,t)}const VAe={dispatchSavePivotParams:pn.I$};class BAe extends y.Component{componentDidMount(){const{sourceDirectory:e,pivot:t,shouldSaveParams:n}=this.props;e&&t&&n&&this._savePivotDefaultParams(this.props)}componentDidUpdate(e){const{sourceDirectory:t,pivot:n,shouldSaveParams:i,params:s}=this.props;t&&n&&i&&!UAe(e.params,s)&&this._savePivotDefaultParams(this.props)}_savePivotDefaultParams(e){const{serverEntityID:t,providerEntityID:n,sourceDirectory:i,pivot:s,params:r,savedPivotParams:a,dispatchSavePivotParams:o}=e;s&&!UAe(r,a)&&o({serverEntityID:t,providerEntityID:n,directoryID:i.id,pivotKey:s.key,params:r})}render(){const{serverEntityID:e,providerEntityID:t,pivot:n,sourceDirectory:i,directoryKey:s,isNotFound:r,isPlexAccountRequired:a,isPending:o,children:l}=this.props;return y.createElement(zAe,{serverEntityID:e,providerEntityID:t,pivot:n,sourceDirectory:i,directoryKey:s,showPlexAccountUpsell:a,isNotFound:r,isPending:o},l)}}const FAe=(0,f.$j)((function(){return(0,de.P1)(((e,{sourceDirectoryID:t})=>t),wC(),sj(),(0,de.P1)((0,HM.Z)(),(0,UM.Z)(),wC(),sj(),BZ.Z,((e,t,n,i,s)=>n&&i&&s?s[FZ(e,t,n,i)]:null)),(0,de.P1)((0,HM.Z)(),(e=>e.isProvidersPending)),Lt.Z,((e,t,n,i,s,r)=>({sourceDirectoryID:e,sourceDirectory:t,pivot:n,savedPivotParams:i,isNotFound:!(!e||t),isPlexAccountRequired:!!n&&zt(n.requires,r),isPending:!!s})))}),VAe)(BAe),HAe={[UZ.tk.SHARED_ITEMS]:"/library/shared/all"};function _Ae(e={},t){return HAe[e.key]||t}function QAe({hubKey:e}){const[t,n]=cn(),i=(0,jt.Z)({serverIdentifier:t.machineIdentifier,providerIdentifier:n.providerIdentifier,key:e});return y.createElement(En,{allowBackgroundPreset:!0,scrollDirection:Ne.None},y.createElement(mD,null),y.createElement(rg,{sourceURI:i}))}var GAe=Object.prototype.hasOwnProperty,YAe=Object.getOwnPropertySymbols,WAe=Object.prototype.propertyIsEnumerable,KAe=Object.assign;const qAe=(0,f.$j)((function(){return(0,de.P1)(Kh.Z,Wh.Z,((e,t)=>({machineIdentifier:e.machineIdentifier,providerIdentifier:t.identifier})))}))((function(e){const{machineIdentifier:t,providerIdentifier:n,serverEntityID:i,providerEntityID:s}=e,r=((e,t)=>{var n={};for(var i in e)GAe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&YAe)for(var i of YAe(e))t.indexOf(i)<0&&WAe.call(e,i)&&(n[i]=e[i]);return n})(e,["machineIdentifier","providerIdentifier","serverEntityID","providerEntityID"]);return y.createElement(dn,{machineIdentifier:t,providerIdentifier:n},y.createElement(QAe,KAe({},r)))}));function $Ae(e){const t=!!(e.size||e.totalSize||e.more);return e.type!==_F&&t}var JAe=n(94902),XAe=Object.assign;const exe="INIT_DISCOVER_PAGE",txe="FETCH_HUBS",nxe="FETCH_PROMOTED_HUBS",ixe="POPULATE_PROMOTED_HUBS",sxe=(0,No.Z)(exe),rxe=(0,No.Z)(txe),axe=(0,No.Z)(nxe);function oxe(e){return e.get("ui").get("discoverPage")}(0,No.Z)(ixe);const lxe=(0,HS.Z)({[exe](e,t){const n=oxe(e),i=(0,WS.SW)(e,t),s=(0,WS.js)(e,t),{providerEntityID:r,hubKey:a}=t;if(r===n.get("providerEntityID")&&a===n.get("hubKey"))return;const o=new tK.Z([],XAe(XAe({server:i,provider:s,hubKey:a,count:16,includeMeta:!0,includeEmpty:!0,includeTypeFirst:!0,includeFeaturedTags:!0,includeRecentChannels:!0},(0,eF.Z)(e)),{excludes:["playlists"]})),l=new tK.Z([],{server:e.get("cloudServer"),url:"https://services.provider.plex.tv/home/hubs",deferred:!0,includeMeta:!0});n.restoreDefaults({providerEntityID:r,hubKey:a,hubs:o,promotedHubs:l})},[txe](e,t){const n=oxe(e);n.set("isHubsPending",!0);const i=n.get("hubs"),s=i.provider.getXHROptions(i.url(),{dataType:"json"});g().ajax(s).then((e=>{const t=e.MediaContainer;i.reset(t,{parse:!0}),n.set({isHubsPending:!1,isHubsPopulated:!0,hubsError:null,hubsTitle:t.title})}),((e,t)=>{n.set({isHubsPending:!1,hubsError:(0,gS.Z)(t)})}))},[nxe](e,t){const n=oxe(e),i=n.get("promotedHubs");n.set("isPromotedHubsPending",!0);const s=i.server.getXHROptions(i.url,{includeMeta:1,dataType:"json"});g().ajax(s).then((t=>{const{MediaContainer:{Hub:s=[]}={}}=t;s.forEach(((t,s)=>{const{source:r}=t,a=mQ(r);if(!a)return void D.Z.error(`Hub source "${r}" not in correct format.`);const o=(0,WS.$w)(e,a);if(!o)return void D.Z.error(`Server with entity id "${o.serverEntityID}" not found.`);const l=(0,WS.lp)(e,a);if(!l)return void D.Z.error(`Provider with entity id "${a.providerEntityID}" not found.`);const c=new JAe.Z(t,{server:o,provider:l,parse:!0});i.add(c);const d=(0,JM.VX)(e);n.set({isPromotedHubsPending:!1,isPromotedHubsPopulated:!0,promotedHubsError:null,knownPromotedHubCloudProviderIDs:d.get("providers").map((e=>e.entityID()))})}))}),((e,t)=>{n.set({isPromotedHubsPending:!1,promotedHubsError:(0,gS.Z)(t)})}))},[ixe](e,t,n){oxe(e).get("isPromotedHubsPopulated")||n(axe(t))},[dS._z](e,t,n){const i=oxe(e).get("hubs");!i||t.metadataItemEntityID||t.containerKeyPattern||(0,nF.Z)({actionCreator:cb.u6,dispatch:n,hubs:i,serverModel:(0,WS.SW)(e,t)})}}),cxe=(0,de.P1)(IV,(e=>e.ui.discoverPage.hubs),((e,t=[])=>!!t.find((t=>e[t].style===hQ.M9))));class dxe extends y.Component{constructor(){super(...arguments),this._repopulateProgramGuide=()=>{const{dispatchFetchProviders:e,dispatchRepopulatePage:t}=this.props;e(),t(),this._setRepopulateTimeout()}}componentDidMount(){this._setRepopulateTimeout()}componentDidUpdate(){this._setRepopulateTimeout()}componentWillUnmount(){this._clearRepopulateTimeout()}_setRepopulateTimeout(){this.props.isRefreshing&&(this._clearRepopulateTimeout(),this._repopulateTimeoutID=window.setTimeout(this._repopulateProgramGuide,15e3))}_clearRepopulateTimeout(){this._repopulateTimeoutID&&window.clearTimeout(this._repopulateTimeoutID)}render(){return null}}dxe.propTypes={serverEntityID:ls().string.isRequired,providerEntityID:ls().string.isRequired,isRefreshing:ls().bool,dispatchFetchProviders:ls().func.isRequired,dispatchRepopulatePage:ls().func.isRequired};const uxe=(0,f.$j)((function(){return(0,de.P1)(BM(),(e=>({isRefreshing:!!e})))}),(function(e,t){const{serverEntityID:n}=t;return{dispatchFetchProviders(){e((0,cS.lm)({serverEntityID:n}))},dispatchRepopulatePage(){e((0,dS.jR)({serverEntityID:n}))}}}))(dxe);var pxe=n(66322);const mxe=function(e){const{providerIdentifier:t}=e;return pa.wB(t,pa.xF)?y.createElement("div",{className:"ProviderUpsell-container-H2Wvne"},y.createElement("div",{className:"ProviderUpsell-text-I3qjmc"},y.createElement("div",{className:"ProviderUpsell-logo-RekzEx","aria-label":(0,De.Z)("TIDAL")}),y.createElement("div",{className:"ProviderUpsell-body-1WYnMw"},(0,De.Z)("Preview 60 million streaming tracks, thousands of music videos and more.")),y.createElement(pxe.Z,{metricsProperties:{pane:"tidalBanner"},action:rr.J9},y.createElement(AM.Z,{to:Np.YC,kind:fo.Py,target:"_blank"},(0,De.Z)("Learn more at plex.tv"))))):null},hxe=(0,f.$j)((function(){return(0,de.P1)(Wa.Z,Wh.Z,BM(),((e,t,n)=>{const i=t.features.actions.addToCatalog;return{provider:t,showAddToCatalog:!!i&&(0,_o.d)(e,i),showEPGActivity:!!n}}))}))((function(e){const{serverEntityID:t,providerEntityID:n,provider:i,sourceDirectory:s,hubKey:r,hubsTitle:a,showAddToCatalog:o,showEPGActivity:l}=e;return y.createElement(y.Fragment,null,y.createElement(uD.Z,null,a?y.createElement(_b,null,y.createElement(xM,{title:a,detail:i.sourceTitle})):y.createElement(DN,{serverEntityID:t,providerEntityID:n,sourceDirectory:s,hubKey:r}),s&&!a?y.createElement(vN,{serverEntityID:t,providerEntityID:n,sourceDirectory:s,directoryKey:r}):null,y.createElement(VZ.Z,null,o?y.createElement(dV,null,y.createElement(wR,{providerEntityID:n})):null,o?y.createElement(cV,null):null,y.createElement(Uk,null))),l?y.createElement(Ph,null,y.createElement(Qb.Z,null,y.createElement(CN,{serverEntityID:t,providerEntityID:n}))):null)})),gxe="tidal",yxe=(0,f.$j)((function(){return(0,de.P1)((0,HM.Z)(),(e=>({machineIdentifier:e.machineIdentifier,isCloud:e.isCloud,isFullOwnedServer:e.isFullOwnedServer})))}))((function(e){const{machineIdentifier:t,isCloud:n,isFullOwnedServer:i,isPending:s,error:r,onRepopulate:a}=e;if(s)return y.createElement(zC.Z,null,y.createElement(RC.Z,null));if(r)return y.createElement(FC.Z,{title:n?(0,De.Z)("There was an unexpected error loading this page"):(0,De.Z)("There was an unexpected error loading this library")},y.createElement(AM.Z,{kind:fo._8,onPress:a},(0,De.Z)("Retry")));const o=i?(0,De.Z)("Expecting more? Visit the Manage Libraries page to add folders and scan library files."):null;return y.createElement(zC.Z,{title:n?(0,De.Z)("This page is currently empty"):(0,De.Z)("This library is currently empty"),description:o},o?null:y.createElement("div",{className:"DiscoverEmptyLibraryPage-emptyDescription-1A6Fey"}),i?y.createElement($h.Z,{className:"DiscoverEmptyLibraryPage-manageLibraries-3I8OhN",kind:fo._8,to:(0,km.Z)(t,"manage","libraries")},(0,De.Z)("Manage libraries")):null,y.createElement(AM.Z,{kind:fo._8,onPress:a},(0,De.Z)("Retry")))})),vxe=function(e){const{serverEntityID:t,providerEntityID:n,isPending:i,error:s}=e;return i?y.createElement(zC.Z,null,y.createElement(RC.Z,null)):s?y.createElement(FC.Z,{title:(0,De.Z)("There was an unexpected error loading the Guide")}):y.createElement(BC,{serverEntityID:t,providerEntityID:n})},fxe=(0,de.P1)(HB.Z,(e=>e.subscriptions||[]));var Ixe=n(12610),bxe=n(1547);const Mxe=(0,de.P1)(fxe,(e=>{const t=e.find((e=>e.type===bxe.sQ))||{};return t.state===Ixe.iN||t.state===Ixe.j5})),Sxe=(0,f.$j)((function(){return(0,de.P1)(Mxe,(e=>({hasTidal:e})))}))((function(e){const{isPending:t,hasTidal:n}=e;return t?y.createElement(zC.Z,null,y.createElement(RC.Z,null)):n?y.createElement(VK,{title:(0,De.Z)("Account not linked"),description:(0,De.Z)("Ensure your Plex account is linked to TIDAL.")},y.createElement(AM.Z,{to:Np.D3,kind:fo._8},(0,De.Z)("Learn more"))):y.createElement(zC.Z,{iconComponent:nb,iconClassName:"DiscoverEmptyTidalPage-logo-1Nb5pZ EmptyPage-icon-1xIWV_",title:(0,De.Z)("TIDAL + Plex = music to your ears!"),description:(0,De.Z)("Need some jams? Add TIDAL streaming music to Plex and get access to 60 million of the highest quality tracks, hundreds of thousands of music videos, awesome premium Plex music features, and seamless integration with your own collection. Sign up today to start a FREE trial!")},y.createElement(pxe.Z,{action:rr.J9},y.createElement(AM.Z,{to:Np.YC,kind:fo._8,target:"_blank"},(0,De.Z)("Learn more"))))}));var Exe=Object.prototype.hasOwnProperty,Dxe=Object.getOwnPropertySymbols,Cxe=Object.prototype.propertyIsEnumerable,Pxe=Object.assign;const wxe=function(e){const{providerIdentifier:t,sourceDirectory:n}=e,i=((e,t)=>{var n={};for(var i in e)Exe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Dxe)for(var i of Dxe(e))t.indexOf(i)<0&&Cxe.call(e,i)&&(n[i]=e[i]);return n})(e,["providerIdentifier","sourceDirectory"]);return pa.wB(t,pa.Ll)?y.createElement(vxe,Pxe({},i)):n&&n.id===gxe?y.createElement(Sxe,Pxe({},i)):y.createElement(yxe,Pxe({},i))};class Txe extends y.Component{componentDidMount(){this.props.onProviderChange(this.props.providerIdentifier)}componentDidUpdate(e){this.props.providerIdentifier!==e.providerIdentifier&&this.props.onProviderChange(this.props.providerIdentifier)}componentWillUnmount(){this.props.onProviderChange(null)}render(){const{serverEntityID:e,providerEntityID:t,providerIdentifier:n,providerMetricsIdentifier:i,isProgramGuide:s,isAutoHomeHubsEnabled:r,sourceDirectory:a,activeSelectionType:o,hubEntityIDs:l,isHubsPending:c,hubsError:d,hubsTitle:u,isEmpty:p,hubKey:m,showUpsell:h,onRepopulate:g}=this.props;return y.createElement(LC.Z,{metricsPage:et.Hx,metricsProperties:{identifier:i,mode:"hub",type:a&&a.type},allowBackgroundLightPreset:!0,scrollDirection:vb.Hn},o?y.createElement(Az,{serverEntityID:e,providerEntityID:t}):y.createElement(hxe,{serverEntityID:e,providerEntityID:t,sourceDirectory:a,hubKey:m,hubsTitle:u}),y.createElement(mx,{innerClassName:"DiscoverPage-discoverPageContent-3C9mLv PageContent-innerPageContent-1ra0Xh"},h?y.createElement(mxe,{providerIdentifier:n}):null,s?y.createElement(tg,{serverEntityID:e,providerEntityID:t}):null,y.createElement("div",{className:"DiscoverPage-discoverPageList-aiXEt4"},p||c?y.createElement(wxe,{serverEntityID:e,providerEntityID:t,providerIdentifier:n,sourceDirectory:a,isPending:c,error:d,onRepopulate:g}):y.createElement(kJ,{directoryKey:m,serverEntityID:e,providerEntityID:t,hubEntityIDs:l,sourceDirectory:a,allowHomeHubIndicator:!r,allowPersistentHomeHubStatus:!r,allowToggleHomeHub:!r}))),s?y.createElement(uxe,{serverEntityID:e,providerEntityID:t}):null)}}const Zxe=Txe,Nxe=(0,de.P1)(IV,(e=>e.ui.discoverPage.hubs),(function(e,t=[]){let n=t.length;for(;n-- >0;)if($Ae(e[t[n]]))return!1;return!0})),Axe=mC(Zxe,(function(e){const t=e.ui.discoverPage;return{providerEntityID:t.providerEntityID,hubKey:t.hubKey}}),(function(e,t){e(sxe({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,hubKey:t.hubKey,sourceDirectory:t.sourceDirectory})),e(rxe({options:{onlyTransient:!0}}))})),xxe=(0,f.$j)((function(){return(0,de.P1)((0,UM.Z)(),(e=>e.ui.discoverPage),Nxe,cxe,dj.Z,ve,((e,t,n,i,s,r)=>{const a=t.hubs||[],o=pa.wB(e.identifier,pa.Ll);return{providerIdentifier:e.identifier,providerMetricsIdentifier:e.metricsIdentifier,isProgramGuide:o,isAutoHomeHubsEnabled:r,hubEntityIDs:a,isHubsPending:t.isHubsPending,hubsError:t.hubsError,hubsTitle:t.hubsTitle,isEmpty:n,showUpsell:i,activeSelectionType:s.activeSelectionType}}))}),(function(e,t){return{onProviderChange(n){let i;const s=pa.wB(n,pa.Y3);if(t.sourceDirectory&&(i=t.sourceDirectory.id),!i&&s&&t.hubKey){const e=t.hubKey.match(/\w+\/\w+\/(\d+)/);e&&([,i]=e)}e((0,Ut.changeQuickSearchSettings)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:n,directoryID:i}))}}}))(Axe);var Lxe=n(94887),Oxe=n(96389),jxe=n(94053),kxe=n(44398),Rxe=n(65209);const zxe=wD.Z.extend({name:"QueryLimitModel",rootPropertyName:"Limit",syncedAttrs:{limit:bD.Z.integer,unit:bD.Z.string}}),Uxe=_S.Z.extend({name:"QueryLimitCollection",model:zxe});var Vxe=n(81660);const Bxe=wD.Z.extend({name:"QueryParseModel",context:["server"],url(){return this.get("key")},sessionAttrs:{key:bD.Z.string},syncedAttrs:{type:bD.Z.string},syncedRelations:{rule:{relationClass:Vxe.Z,rootPropertyName:"Rule",deferred:!0},limits:{relationClass:Uxe,rootPropertyName:"Limit",deferred:!0}}});var Fxe=Object.assign;const Hxe="ui/libraryPage/initLibraryPage",_xe="ui/libraryPage/clearLibraryPageErrors",Qxe="ui/libraryPage/initLibraryPageMetadataList",Gxe="ui/libraryPage/initLibraryPageSupportingLists",Yxe="ui/libraryPage/fetchLibraryDetails",Wxe="ui/libraryPage/populateLibraryDetails",Kxe="ui/libraryPage/fetchLibraryFirstCharacters",qxe="ui/libraryPage/populateLibraryFirstCharacters",$xe="ui/libraryPage/fetchQueryParse",Jxe="ui/libraryPage/populateQueryParse",Xxe="ui/libraryPage/selectLibraryFilter",eLe="ui/libraryPage/deselectLibraryFilter",tLe="ui/libraryPage/fetchLibraryFilterOptions",nLe="ui/libraryPage/populateLibraryFilterOptions",iLe="ui/libraryPage/searchLibraryFilterOptions",sLe="ui/libraryPage/selectLibraryTableColumn",rLe="ui/libraryPage/deselectLibraryTableColumn",aLe="ui/libraryPage/updateSmartPlaylist",oLe="ui/libraryPage/navigatePlaylist",lLe=(0,No.Z)(Hxe),cLe=(0,No.Z)(_xe),dLe=(0,No.Z)(Qxe),uLe=(0,No.Z)(Gxe),pLe=(0,No.Z)(Yxe),mLe=(0,No.Z)(Wxe),hLe=(0,No.Z)(Kxe),gLe=(0,No.Z)(qxe),yLe=(0,No.Z)($xe),vLe=(0,No.Z)(Jxe),fLe=(0,No.Z)(Xxe),ILe=(0,No.Z)(eLe),bLe=(0,No.Z)(tLe),MLe=(0,No.Z)(nLe),SLe=(0,No.Z)(iLe),ELe=(0,No.Z)(sLe),DLe=(0,No.Z)(rLe),CLe=(0,No.Z)(aLe),PLe=(0,No.Z)(oLe);function wLe(e){return e.get("ui").get("libraryPage")}const TLe={[Hxe](e,t){const n=wLe(e),i=n.get("details"),s=(0,WS.SW)(e,t),r=(0,WS.js)(e,t),{providerEntityID:a,libraryKey:o,directoryKey:l}=t;if(!o&&a===n.get("providerEntityID")&&l===n.get("directoryKey"))return;if(!o)return void n.restoreDefaults({isDetailsPending:!1,isDetailsPopulated:!0,detailsError:null,directoryKey:l,providerEntityID:a});if(a===n.get("providerEntityID")&&o===n.get("libraryKey"))return;const c={providerEntityID:a,libraryKey:o,directoryKey:l};i&&i.get("libraryKey")===o?(c.details=i,c.isDetailsPending=n.get("isDetailsPending"),c.isDetailsPopulated=n.get("isDetailsPopulated"),c.detailsError=n.get("detailsError")):c.details=new jxe.Z({key:o},{server:s,provider:r,includeAdvanced:!0}),n.restoreDefaults(c)},[_xe](e,t){wLe(e).set({isUpdatePlaylistPending:!0,updatePlaylistError:null})},[Qxe](e,t){const n=wLe(e),i=(0,WS.SW)(e,t),s=(0,WS.js)(e,t),r=n.get("metadataList"),{containerKey:a}=t;if(r&&a===r.get("containerKey"))return;if(r)return void r.set({containerKey:a});const o=(0,iK.Z)(e,be.Ao),l=new MD.Z({entityKey:"libraryPageMetadataList",containerKey:a},{server:i,provider:s,includeCollections:s.get("isLibraryProvider")?1:0,includeExternalMedia:o,includeAdvanced:1,includeMeta:1});n.set({metadataList:l})},[Gxe](e,t){const n=wLe(e),i=(0,WS.SW)(e,t),s=(0,WS.js)(e,t),r=n.get("firstCharacters"),a=n.get("queryParse"),{firstCharacterKey:o,queryParseKey:l,customFilter:c}=t,d={},u=(0,iK.Z)(e,be.Ao);let p;if(o&&(p=C.Z.join(o,{includeCollections:1,includeExternalMedia:u})),o&&!r||r&&r.url!==p){const e=new Oxe.Z([],{server:i,provider:s,url:p});d.firstCharacters=e,d.isFirstCharactersPending=!1,d.isFirstCharactersPopulated=!1,d.firstCharactersError=null}!c||a&&a.get("key")===l||(d.queryParse=new Bxe({key:l},{server:i}),d.isQueryParsePending=!0,d.isQueryParsePopulated=!1,d.queryParseError=null),Object.keys(d).length&&n.set(d)},[Yxe]:(0,qM.Z)({key:"details",getModel:wLe}),[Wxe]:(0,$M.Z)({key:"details",fetchActionCreator:pLe,getModel:wLe}),[Kxe]:(0,qM.Z)({key:"firstCharacters",getModel:wLe}),[qxe]:(0,$M.Z)({key:"firstCharacters",fetchActionCreator:hLe,getModel:wLe}),[$xe]:(0,qM.Z)({key:"queryParse",getModel:wLe}),[Jxe]:(0,$M.Z)({key:"queryParse",fetchActionCreator:yLe,getModel:wLe}),[dS._z](e,t,n){const{metadataItemEntityID:i,containerKeyPattern:s}=t;if(i)return;const r=(0,WS.SW)(e,t),a=wLe(e),o=a.get("metadataList");o&&o.server===r&&(s&&!o.get("containerKey").match(s)||(n((0,cb.u6)({metadataListEntityID:o.entityID()})),a.get("firstCharacters")&&n(hLe())))},[Xxe](e,t){const n=wLe(e),i=n.get("selectedFilterOptions"),s=(0,WS.SW)(e,t),r=(0,WS.js)(e,t),{key:a}=t,o={selectedFilterKey:a},l=(0,iK.Z)(e,be.Ao)?C.Z.join(a,{includeExternalMedia:1}):a;i&&i.url===a||(o.selectedFilterOptions=new Lxe.Z([],{server:s,provider:r,url:l}),o.isSelectedFilterOptionsPending=!0,o.isSelectedFilterOptionsPopulated=!1,o.selectedFilterOptionsError=null),n.set(o)},[eLe](e){wLe(e).set({selectedFilterKey:void 0,selectedFilterOptions:void 0,filterOptionQuery:""})},[tLe]:(0,qM.Z)({key:"selectedFilterOptions",getModel:wLe}),[nLe]:(0,$M.Z)({key:"selectedFilterOptions",fetchActionCreator:bLe,getModel:wLe}),[iLe](e,t){wLe(e).set("filterOptionQuery",t)},[sLe](e,t,n){const{type:i,subtype:s,activeTableColumns:r,key:a}=t;if(-1!==E().findIndex(r,(e=>e.key===a)))return;const o=Ik(i,s),l=e.get("user").get("experienceSettings").get("libraryTableColumns"),c=r.map((e=>e.key)).concat(a);n((0,Nv.LN)({libraryTableColumns:Fxe(Fxe({},l),{[o]:c})}))},[rLe](e,t,n){const{type:i,subtype:s,activeTableColumns:r,key:a}=t;if(r.length<=1)return;const o=E().findIndex(r,(e=>e.key===a));if(-1===o)return;const l=Ik(i,s),c=e.get("user").get("experienceSettings").get("libraryTableColumns"),d=r.slice(0,o).concat(r.slice(o+1)).map((e=>e.key));n((0,Nv.LN)({libraryTableColumns:Fxe(Fxe({},c),{[l]:d})}))},[aLe](e,t,n){const i=wLe(e),s=(0,WS.js)(e,t),r=i.get("metadataList"),{playlistID:a}=t,{uri:o}=(0,kxe.Z)({providerModel:s,itemProviderModel:s,metadataListModel:r});i.set({isUpdatePlaylistPending:!0,updatePlaylistError:null}),(0,Rxe.Z)({playlistID:a,uri:o,providerModel:s}).then((()=>n(PLe(t))),(e=>{i.set("updatePlaylistError",(0,gS.Z)(e))})).always((()=>{i.set("isUpdatePlaylistPending",!1)}))},[oLe](e,t,n){const i=wLe(e),s=(0,WS.SW)(e,t),r=(0,WS.js)(e,t),a=i.get("metadataList"),{playlistID:o}=t,l=a.get("firstItemType");if(!l)return;const c=(0,Ho.getLeafType)(l).mediaType,d=(0,ui.Z)(s.toJSON(),r.toJSON(),C.Z.join(["/playlists",o]),{},c);n((0,pn.c4)({pathname:d}))}};function ZLe(e){return(0,de.P1)(((e,{libraryKey:t})=>t),((e,{activeFilters:t})=>t),((e,{activeSort:t})=>t),((e,{activeLimit:t})=>t),((e,{selectedType:t})=>t),((e,{sourceDirectory:t})=>t),((t,n,i,s,r,a)=>{const o={filters:n,sort:i,limit:s};return r&&r.key?IC([r.key.replace("/all?",`/${e}?`)],o):t?IC([t,e],o):void 0}))}function NLe(){return(0,de.P1)(((e,{activeSort:t})=>t),GK(),((e,t)=>{if(!t)return;const n=e&&E().first(e.split(":"));let i=E().find(t.sorts,(t=>!!t.active||(e?t.key===n||t.descKey===e:t.isDefault)));return i||(i=E().first(t.sorts)),i}))}var ALe=n(79498);function xLe(){return(0,de.P1)((0,ALe.Z)(),(e=>e.some((e=>e.refreshing))))}var LLe=Object.prototype.hasOwnProperty,OLe=Object.getOwnPropertySymbols,jLe=Object.prototype.propertyIsEnumerable,kLe=Object.assign;function RLe(e){const{isAscending:t}=e,n=((e,t)=>{var n={};for(var i in e)LLe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&OLe)for(var i of OLe(e))t.indexOf(i)<0&&jLe.call(e,i)&&(n[i]=e[i]);return n})(e,["isAscending"]),i=t?xv.Z:Av.Z;return y.createElement(i,kLe({"aria-label":t?(0,De.Z)("Ascending"):(0,De.Z)("Descending")},n))}RLe.defaultProps={className:"IconTableHeaderSortDirection-sortDirectionIcon-yypQeW",isAscending:!0};const zLe=RLe;var ULe=Object.prototype.hasOwnProperty,VLe=Object.getOwnPropertySymbols,BLe=Object.prototype.propertyIsEnumerable,FLe=Object.assign;function HLe(e){const{children:t}=e,n=((e,t)=>{var n={};for(var i in e)ULe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&VLe)for(var i of VLe(e))t.indexOf(i)<0&&BLe.call(e,i)&&(n[i]=e[i]);return n})(e,["children"]);return y.createElement("div",FLe({},n),t)}HLe.defaultProps={className:"TableHeader-tableHeader-1lF8K0"};const _Le=HLe;var QLe=Object.prototype.hasOwnProperty,GLe=Object.getOwnPropertySymbols,YLe=Object.prototype.propertyIsEnumerable,WLe=Object.assign;function KLe(e){const{className:t,activeClassName:n,children:i,isActive:s}=e,r=((e,t)=>{var n={};for(var i in e)QLe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&GLe)for(var i of GLe(e))t.indexOf(i)<0&&YLe.call(e,i)&&(n[i]=e[i]);return n})(e,["className","activeClassName","children","isActive"]),a=s?n:t;return y.createElement("div",WLe({className:a},r),i)}KLe.defaultProps={className:"TableHeaderCell-tableHeaderCell-15GRcK TableCell-tableCell-3sOWfL",activeClassName:"TableHeaderCell-activeTableHeaderCell-veYa_y TableHeaderCell-tableHeaderCell-15GRcK TableCell-tableCell-3sOWfL"};const qLe=KLe;var $Le=Object.prototype.hasOwnProperty,JLe=Object.getOwnPropertySymbols,XLe=Object.prototype.propertyIsEnumerable,eOe=Object.assign;function tOe(e){const{children:t}=e,n=((e,t)=>{var n={};for(var i in e)$Le.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&JLe)for(var i of JLe(e))t.indexOf(i)<0&&XLe.call(e,i)&&(n[i]=e[i]);return n})(e,["children"]);return y.createElement(AM.Z,eOe({},n),t)}tOe.defaultProps={className:"TableHeaderLink-tableHeaderLink-1cX4Ah"};const nOe=tOe;var iOe=Object.prototype.hasOwnProperty,sOe=Object.getOwnPropertySymbols,rOe=Object.prototype.propertyIsEnumerable,aOe=Object.assign;function oOe(e){const{children:t}=e,n=((e,t)=>{var n={};for(var i in e)iOe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&sOe)for(var i of sOe(e))t.indexOf(i)<0&&rOe.call(e,i)&&(n[i]=e[i]);return n})(e,["children"]);return y.createElement("div",aOe({},n),t)}oOe.defaultProps={className:"TableHeaderTitle-tableHeaderTitle-3dNZ2p"};const lOe=oOe;class cOe extends y.Component{constructor(){super(...arguments),this.onPress=e=>{(this.props.isSelected?this.props.onColumnDeselect:this.props.onColumnSelect)(this.props.columnKey),this.props.onMenuClose()}}render(){const{children:e,isSelected:t}=this.props;return y.createElement(Ic.Z,{isSelected:t,onPress:this.onPress},e)}}const dOe=cOe;class uOe extends y.Component{constructor(e,t){super(e,t),this.onChangeColumnsPress=e=>{this.setState({isColumnsMenuOpen:!this.state.isColumnsMenuOpen})},this.onColumnsMenuClose=()=>{this.setState({isColumnsMenuOpen:!1})},this.state={isColumnsMenuOpen:!1},this._columnsButtonID=(0,wf.Z)()}render(){const{activeTableColumnsByKey:e,allTableColumns:t,typeKey:n,listType:i,activeFilters:s,activeFilterLabel:r,activeSort:a,customFilter:o,selectedSort:l,isDisabled:c,onColumnSelect:d,onColumnDeselect:u}=this.props,{isColumnsMenuOpen:p}=this.state;return y.createElement(_Le,{"data-qa-id":"metadataTableHeader"},y.createElement("div",{className:"MetadataTableHeader-playCell-21MbVQ MetadataTableRow-playCell-3kTYHB TableHeaderCell-tableHeaderCell-15GRcK TableCell-tableCell-3sOWfL"}),t.map((({style:t,title:d,ascKey:u,descKey:p,key:m})=>{if(!e[m])return null;const h=a===u||a===p||l.key===u,g=a?a===u:l.key===u;return c?y.createElement("div",{key:m,style:t,className:"MetadataTableHeader-tableHeader-XCJ7yh"},y.createElement(qLe,null,y.createElement(lOe,null,d(i)))):y.createElement(nOe,{key:m,style:t,to:(0,FN.Z)({typeKey:n,filters:s,filterLabel:r,sort:g?p:u,customFilter:o})},y.createElement(qLe,{isActive:h},y.createElement(lOe,null,d(i)),h?y.createElement(zLe,{isAscending:!g}):null))})),y.createElement("div",{className:"MetadataTableHeader-actionsCell-3YQA5m MetadataTableRow-libraryActionsCell-1v_198 MetadataTableRow-actionsCell-1Pb6-U TableHeaderCell-tableHeaderCell-15GRcK TableCell-tableCell-3sOWfL"},y.createElement(AM.Z,{id:this._columnsButtonID,className:"MetadataTableHeader-columnsButton-2jTDXe","aria-label":(0,De.Z)("Change Columns"),"aria-haspopup":!0,onPress:this.onChangeColumnsPress},y.createElement(Ud.Z,null)),y.createElement(mo.Z,{target:this._columnsButtonID,isOpen:p,onMenuClose:this.onColumnsMenuClose},t.map((t=>y.createElement(dOe,{key:t.key,columnKey:t.key,isSelected:!!e[t.key],onColumnSelect:d,onColumnDeselect:u,onMenuClose:this.onColumnsMenuClose},t.title(i)))))))}}const pOe=uOe;var mOe=Object.prototype.hasOwnProperty,hOe=Object.getOwnPropertySymbols,gOe=Object.prototype.propertyIsEnumerable,yOe=Object.assign;function vOe(e=[],t){const n=e.reduce(((e,t)=>(e[t.key]=t,e)),{});return t.map((e=>{const t=n[e.ascKey];return t?yOe(yOe({},e),{title:n=>t.title||e.title(n)}):e}))}const fOe={dispatchSelectLibraryTableColumn:ELe,dispatchDeselectLibraryTableColumn:DLe};class IOe extends y.Component{constructor(){super(...arguments),this.onColumnSelect=e=>{this.props.dispatchSelectLibraryTableColumn({type:this.props.listType,subtype:this.props.listSubtype,activeTableColumns:this.props.activeTableColumns,key:e})},this.onColumnDeselect=e=>{this.props.dispatchDeselectLibraryTableColumn({type:this.props.listType,subtype:this.props.listSubtype,activeTableColumns:this.props.activeTableColumns,key:e})}}render(){const e=this.props,{dispatchSelectLibraryTableColumn:t,dispatchDeselectLibraryTableColumn:n,activeTableColumns:i}=e,s=((e,t)=>{var n={};for(var i in e)mOe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&hOe)for(var i of hOe(e))t.indexOf(i)<0&&gOe.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchSelectLibraryTableColumn","dispatchDeselectLibraryTableColumn","activeTableColumns"]);return y.createElement(pOe,yOe(yOe({},s),{onColumnSelect:this.onColumnSelect,onColumnDeselect:this.onColumnDeselect}))}}const bOe=(0,f.$j)((function(){return(0,de.P1)(((e,{listType:t})=>t),((e,{isFolder:t})=>t),Gq(),GK(),((e,t,n,i)=>{const s=t?Hq(e):_q(i.sorts),r=n.reduce(((e,t)=>(e[t.key]=t,e)),{});return{allTableColumns:vOe(i.sorts,s),activeTableColumnsByKey:r,activeTableColumns:n}}))}),fOe)(IOe);var MOe=n(58967),SOe=Object.assign;const EOe=function(e){return y.createElement(yA.Z,SOe({className:MOe.Z.innerEmptyPage,contentClassName:MOe.Z.innerEmptyPageContent,scrollDirection:vb.Hn},e))};var DOe=Object.prototype.hasOwnProperty,COe=Object.getOwnPropertySymbols,POe=Object.prototype.propertyIsEnumerable,wOe=Object.assign;const TOe=function(e){const t=function({sourceDirectory:e,hint:t,error:n}){if(e&&e.id===gxe){const e={iconComponent:nb,iconClassName:"InnerProviderErrorPage-tidal-2NA0z9 EmptyPage-icon-1xIWV_",title:(0,De.Z)("TIDAL + Plex = music to your ears!"),link:Np.YC,linkText:(0,De.Z)("Learn more"),linkTarget:"_blank",linkAction:rr.J9};if(406===n&&t){if(t.includes("saved"))return wOe(wOe({},e),{description:(0,De.Z)("With a TIDAL subscription you can add Albums, artists, tracks and videos to My TIDAL to keep track of your favorite music.")});if(t.includes("playlists"))return wOe(wOe({},e),{description:(0,De.Z)("Once you have a TIDAL subscription you can add music to My TIDAL Playlists and keep the party going.")})}}if(404===n)return{title:(0,De.Z)("You must be lost"),description:(0,De.Z)("We can't find the page you're looking for"),link:"#",linkText:(0,De.Z)("Go Home")}}(e);if(t){const{link:e,linkText:n,linkTarget:i,linkAction:s}=t,r=((e,t)=>{var n={};for(var i in e)DOe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&COe)for(var i of COe(e))t.indexOf(i)<0&&POe.call(e,i)&&(n[i]=e[i]);return n})(t,["link","linkText","linkTarget","linkAction"]),a=y.createElement(AM.Z,{to:e,kind:fo._8,target:i},n);return y.createElement(VK,wOe({},r),s?y.createElement(pxe.Z,{action:s},a):a)}return y.createElement(FC.Z,{title:e.defaultTitle},e.children)};var ZOe=n(70560),NOe=n(24207);const AOe=(0,de.P1)(QK,(e=>e.reduce(((e,t)=>(e.push.apply(e,t.fields),e)),[]))),xOe=(0,de.P1)((e=>e.ui.libraryPage.details),_K,((e,t)=>{const n=t&&t.meta;return n&&n.fieldTypes.length?n.fieldTypes:e?e.fieldTypes:void 0}));var LOe=Object.prototype.hasOwnProperty,OOe=Object.getOwnPropertySymbols,jOe=Object.prototype.propertyIsEnumerable,kOe=Object.assign;function ROe(e){var{children:t}=e,n=((e,t)=>{var n={};for(var i in e)LOe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&OOe)for(var i of OOe(e))t.indexOf(i)<0&&jOe.call(e,i)&&(n[i]=e[i]);return n})(e,["children"]);return y.createElement("div",kOe({},n),t)}ROe.defaultProps={className:"InlineFormGroup-group-2dcf9b"};const zOe=ROe;var UOe=n(5965);function VOe({className:e,name:t,labelText:n,showErrors:i,errors:s}){return y.createElement(UOe.Z,{className:e,showErrors:i,errors:s,name:t,labelText:n})}VOe.defaultProps={className:"InlineInputGroupFormLabel-label-3tPDen FormLabel-label-1WQL1E"};const BOe=VOe;var FOe=n(43308),HOe=Object.prototype.hasOwnProperty,_Oe=Object.getOwnPropertySymbols,QOe=Object.prototype.propertyIsEnumerable,GOe=Object.assign;function YOe(e){var{inputClassName:t,name:n,labelText:i,showErrors:s,errors:r,leftLabel:a}=e,o=((e,t)=>{var n={};for(var i in e)HOe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&_Oe)for(var i of _Oe(e))t.indexOf(i)<0&&QOe.call(e,i)&&(n[i]=e[i]);return n})(e,["inputClassName","name","labelText","showErrors","errors","leftLabel"]);return y.createElement(zOe,null,a?y.createElement(BOe,{hasError:s,errors:r,name:n,labelText:i}):null,y.createElement(FOe.Z,GOe({className:t,name:n,hasError:s},o)),a?null:y.createElement(BOe,{hasError:s,errors:r,name:n,labelText:i}))}YOe.defaultProps={inputClassName:"InlineNumberInputGroup-input-23msND TextInput-input-M2gRCL input-input-26w-zg",leftLabel:!0};const WOe=(0,vee.Z)(YOe),KOe=function(e){return ZOe.SK===e||ZOe.Ne===e},qOe=(0,de.P1)(xOe,(e=>e.reduce(((e,t)=>{if(t.type===NOe.Hu){const n=t.operators.filter((({key:e})=>e!==ZOe.gU&&e!==ZOe.pu));n.push({key:ZOe.SK,title:(0,De.Z)("in the last")},{key:ZOe.Ne,title:(0,De.Z)("in not the last")}),e[t.type]=n}else e[t.type]=t.operators;return e}),{})));var $Oe=n(96582),JOe=n(84909),XOe=Object.assign;const eje=[/\d/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,"-",/\d/,/\d/],tje=(0,JOe.createAutoCorrectedDatePipe)("yyyy-mm-dd");function nje(e){return y.createElement(Tee,XOe({mask:eje,pipe:tje,keepCharPositions:!0,placeholder:"yyyy-mm-dd"},e))}nje.defaultProps={placeholderChar:" ",guide:!1};const ije=nje,sje=/^([0-9]+)?([a-zA-Z]+)?$/;class rje extends y.Component{constructor(e,t){super(e,t),this.onValueChange=e=>{this.setState({inputValue:e},(()=>{this.props.onChange(`${e}${this.state.selectedUnit}`)}))},this.onUnitChange=e=>{this.setState({selectedUnit:e},(()=>{this.props.onChange(`${this.state.inputValue}${e}`)}))},this.state=this.getStateFromProps(e)}componentWillReceiveProps(e){this.props.value!==e.value&&this.setState(this.getStateFromProps(e))}getStateFromProps(e){const[t]=e.units,[,n="",i=Object.keys(t)[0]]=e.value.match(sje)||[];return{inputValue:n,selectedUnit:i}}render(){const{textInputClassName:e,selectInputClassName:t,units:n,size:i}=this.props;return y.createElement("span",{className:"UnitInput-inputs-ROjMWU"},y.createElement(l1.Z,{name:"unitValue",className:e,type:"number",value:this.state.inputValue,size:i,onChange:this.onValueChange}),y.createElement(o1.Z,{name:"unit",className:t,value:this.state.selectedUnit,values:n,size:i,onChange:this.onUnitChange}))}}const aje=rje;function oje(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-filter-add-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m280 518c-131.44 0-238-106.56-238-238 0-131.44 106.56-238 238-238 131.44 0 238 106.56 238 238 0 131.44-106.56 238-238 238m0-42c108.25 0 196-87.75 196-196 0-108.25-87.75-196-196-196-108.25 0-196 87.75-196 196 0 108.25 87.75 196 196 196m-126-218.4h103.6v-103.6h44.8v103.6h103.6v44.8h-103.6v103.6h-44.8v-103.6h-103.6v-44.8"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}oje.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const lje=oje;function cje(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-filter-remove-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m280 518c-131.44 0-238-106.56-238-238 0-131.44 106.56-238 238-238 131.44 0 238 106.56 238 238 0 131.44-106.56 238-238 238m0-42c108.25 0 196-87.75 196-196 0-108.25-87.75-196-196-196-108.25 0-196 87.75-196 196 0 108.25 87.75 196 196 196m-126-218.4h252v44.8h-252v-44.8"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}cje.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const dje=cje;class uje extends y.Component{constructor(){super(...arguments),this.onRemovePress=()=>{this.props.onRemove(this.props.index)}}render(){const{tag:e,index:t,tagCount:n,isDisabled:i,getTagDisplayValue:s}=this.props;return y.createElement("span",{className:"LibraryFilterBuilderRowTag-container-2TfHHu"},y.createElement("span",{className:"LibraryFilterBuilderRowTag-tag-2mZQDc"},i?null:y.createElement(AM.Z,{className:"LibraryFilterBuilderRowTag-remove-2FAucG TagLabel-remove-jHnOZ9","aria-label":(0,De.Z)("Remove Tag"),onPress:this.onRemovePress},y.createElement(cc.Z,null)),y.createElement("span",null,s(e))),y.createElement("span",{className:"LibraryFilterBuilderRowTag-or-1WV5Xw"},t!==n-1?(0,De.Z)("or"):null))}}const pje=uje,mje="LibraryFilterBuilderRow-rule-bEQhb5",hje="LibraryFilterBuilderRow-selectInput-3oCNcT SelectInput-input-1P8SoV input-input-26w-zg",gje="LibraryFilterBuilderRow-iconButton-2Ja1BT";var yje=Object.assign;const vje=[ZOe.gU,ZOe.pu],fje=[ZOe.PF,ZOe.E$],Ije={integer:/^\d+$/};function bje(e){const{selectedField:t,filter:n,selectedFilterOptions:i,suggestionsFilter:s,renderSuggestion:r,shouldRenderSuggestions:a,getSuggestionValue:o,getTagValue:l,getTagDisplayValue:c,makeTag:d,makeTagFromSuggestion:u,onSuggestionSelected:p,onSuggestionsFetchRequested:m,onSuggestionsClearRequested:h,onValueChange:g,onTagValueChange:v}=e;return t?t.type===NOe.IX?null:t.subType===NOe.Si?y.createElement(o1.Z,{className:hje,name:"value",size:vc.HC,values:[{"-1":(0,De.Z)("Empty")},{2:"★"},{4:"★★"},{6:"★★★"},{8:"★★★★"},{10:"★★★★★"}],value:n.value[0]?n.value[0].value:"",onChange:g}):t.type===NOe.Hu&&KOe(n.operator)?y.createElement(aje,{textInputClassName:"LibraryFilterBuilderRow-unitTextInput-36wD24 UnitInput-textInput-OVqp87 TextInput-input-M2gRCL input-input-26w-zg",selectInputClassName:hje,name:"value",size:vc.HC,units:[{s:(0,De.Z)("Seconds")},{m:(0,De.Z)("Minutes")},{h:(0,De.Z)("Hours")},{d:(0,De.Z)("Days")},{w:(0,De.Z)("Weeks")},{mon:(0,De.Z)("Months")},{y:(0,De.Z)("Years")}],value:n.value[0]?n.value[0].value:"",onChange:g}):t.type===NOe.Hu?y.createElement(ije,{className:"LibraryFilterBuilderRow-textInput-3OLpXG TextInput-input-M2gRCL input-input-26w-zg",name:"value",size:vc.HC,value:n.value[0]?n.value[0].value:"",onChange:g}):y.createElement($Oe.Z,{className:"LibraryFilterBuilderRow-tagsInput-3RV6wU AutosuggestTagsInput-tagsInput-3DMp6c TagsInput-tagsInput-3NVBXQ",value:n.value,suggestions:i,suggestionsFilter:s,renderSuggestion:r,shouldRenderSuggestions:a,getSuggestionValue:o,getTagValue:l,getTagDisplayValue:c,makeTag:d,makeTagFromSuggestion:u,tagComponent:pje,validationRegex:Ije[t.type],onSuggestionSelected:p,onSuggestionsFetchRequested:m,onSuggestionsClearRequested:h,onChange:v}):null}class Mje extends y.Component{constructor(){super(...arguments),this.shouldRenderSuggestions=e=>{const{selectedFilter:t,selectedField:{type:n},value:{operator:i}}=this.props;return!!t&&(n===NOe.jd&&fje.indexOf(i)>-1||n!==NOe.jd&&vje.indexOf(i)>-1)},this.onFieldChange=e=>{const{fieldKeyTypes:t}=this.props,{defaultOperator:n,type:i,subType:s}=t[e],r=[];i===NOe.IX&&r.push({value:1}),s===NOe.Si&&r.push({value:"-1"}),e!==this.props.value.key&&this.props.onChange({key:e,operator:n,value:r})},this.onOperatorChange=e=>{const{selectedField:t}=this.props;let n;n=t.type===NOe.Hu&&KOe(e)&&KOe(this.props.value.operator)||!KOe(e)&&!KOe(this.props.value.operator)?this.props.value.value:[],this.props.onChange(yje(yje({},this.props.value),{value:n,operator:e}))},this.onTagValueChange=e=>{this.props.onChange(yje(yje({},this.props.value),{value:Array.isArray(e)?e:[e]}))},this.onValueChange=e=>{this.props.onChange(yje(yje({},this.props.value),{value:[{value:e}]}))},this.onRemovePress=()=>{this.props.onRemovePress(this.props.index)},this.onAddPress=()=>{this.props.onAddPress(this.props.index)}}getSuggestionValue(e){return e}getTagValue(e){return e.value}getTagDisplayValue(e){return e.valueTitle||e.value}makeTag(e){return{value:encodeURIComponent(e),valueTitle:e}}makeTagFromSuggestion(e){return{value:e.value,valueTitle:e.title}}suggestionsFilter(e,t){return e.title.toLowerCase().indexOf(t.toLowerCase())>-1}renderSuggestion(e){return e.title}render(){const{isRemoveDisabled:e,value:t,operatorValues:n,fieldValues:i,selectedField:s,selectedFilterOptions:r,onSuggestionsFetchRequested:a,onSuggestionsClearRequested:o}=this.props;return y.createElement("div",{className:"LibraryFilterBuilderRow-container-sTFbsg"},y.createElement("div",{className:"LibraryFilterBuilderRow-rules-2D5k28"},y.createElement("div",{className:mje},y.createElement(o1.Z,{className:hje,name:"filter",size:vc.HC,values:i,value:t.key,onChange:this.onFieldChange})),y.createElement("div",{className:mje},y.createElement(o1.Z,{className:hje,name:"operator",size:vc.HC,values:n,value:t.operator,onChange:this.onOperatorChange})),y.createElement("div",{className:"LibraryFilterBuilderRow-value-1sdNMT"},y.createElement(bje,{selectedField:s,filter:t,selectedFilterOptions:r,suggestionsFilter:this.suggestionsFilter,renderSuggestion:this.renderSuggestion,shouldRenderSuggestions:this.shouldRenderSuggestions,getSuggestionValue:this.getSuggestionValue,getTagValue:this.getTagValue,getTagDisplayValue:this.getTagDisplayValue,makeTag:this.makeTag,makeTagFromSuggestion:this.makeTagFromSuggestion,tagComponent:pje,onSuggestionSelected:this.onSuggestionSelected,onSuggestionsFetchRequested:a,onSuggestionsClearRequested:o,onTagValueChange:this.onTagValueChange,onValueChange:this.onValueChange})),y.createElement("div",{className:"LibraryFilterBuilderRow-buttons-1SPbOI"},y.createElement(AM.Z,{className:e?"LibraryFilterBuilderRow-iconButtonDisabled-1chzGV LibraryFilterBuilderRow-iconButton-2Ja1BT":gje,"aria-label":(0,De.Z)("Remove Filter"),isDisabled:e,onPress:this.onRemovePress},y.createElement(dje,null)),y.createElement(AM.Z,{className:gje,"aria-label":(0,De.Z)("Add Filter"),onPress:this.onAddPress},y.createElement(lje,null)))))}}Mje.defaultProps={isRemoveDisabled:!1,isAddEnabled:!0,onRemovePress(){},onAddPress(){}};const Sje=Mje;var Eje=Object.prototype.hasOwnProperty,Dje=Object.getOwnPropertySymbols,Cje=Object.prototype.propertyIsEnumerable,Pje=Object.assign;const wje=new RegExp(`(${["duration","mediaSize","mediaBitrate","show.writer","show.producer","show.director"].join("|")})$`),Tje={dispatchSelectLibraryFilter:fLe,dispatchPopulateLibraryFilterOptions:MLe,dispatchDeselectLibraryFilter:ILe,dispatchSearchLibraryFilterOptions:SLe};class Zje extends y.Component{constructor(){super(...arguments),this.onSuggestionsFetchRequested=()=>{this.props.selectedFilter&&(this.props.dispatchSelectLibraryFilter({serverEntityID:this.props.serverEntityID,key:this.props.selectedFilter.key}),this.props.dispatchPopulateLibraryFilterOptions())},this.onSuggestionsClearRequested=()=>{this.props.selectedFilterOptions&&(0,Rt.c9)((()=>{this.props.dispatchDeselectLibraryFilter()}))}}render(){const e=this.props,{dispatchSelectLibraryFilter:t,dispatchPopulateLibraryFilterOptions:n,dispatchDeselectLibraryFilter:i,dispatchSearchLibraryFilterOptions:s}=e,r=((e,t)=>{var n={};for(var i in e)Eje.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Dje)for(var i of Dje(e))t.indexOf(i)<0&&Cje.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchSelectLibraryFilter","dispatchPopulateLibraryFilterOptions","dispatchDeselectLibraryFilter","dispatchSearchLibraryFilterOptions"]);return y.createElement(Sje,Pje(Pje({},r),{onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested}))}}const Nje=(0,vee.Z)((0,f.$j)((function(){return(0,de.P1)(((e,{value:t})=>t.key),QK,AOe,qOe,(e=>e.ui.libraryPage.selectedFilterOptions),((e,t,n,i,s)=>{let r,a;const o=[],l={};for(let t=0;t<n.length;t++){const s=n[t],{key:a,title:c,type:d,subType:u}=s;s.key===e&&(r=s),l[a]={type:d,subType:u,defaultOperator:i[d][0].key},wje.test(a)||o.push({[a]:c})}if(r){let e,[n,i]=r.key.split(".");if(i||(i=n,n=null),n){const{id:i}=(0,Ho.getMetadataType)(n);e=E().find(t,(e=>{const t=(0,Ho.getMetadataType)(e.type);return!!t&&t.id===i}))}else e=t[0];e&&(a=E().find(e.filters,(e=>e.filter===i)))}return{selectedField:r,fieldValues:o,selectedFilter:a,selectedFilterOptions:s,operatorValues:(r?i[r.type]:[]).map((e=>({[e.key]:e.title}))),fieldKeyTypes:l}}))}),Tje)(Zje)),Aje=function(e){const t=(0,xE.Z)(),[n,i]=(0,y.useState)(!1),{className:s,serverEntityID:r,providerEntityID:a,metadataListEntityID:o,showUpdate:l,onUpdatePress:c}=e,d=(0,y.useCallback)((()=>{i(!1),t.onOpen()}),[t]),u=(0,y.useCallback)((()=>{i(!0),t.onOpen()}),[t]),p=l?c:u,m=l?(0,De.Z)("Save"):(0,De.Z)("Save As...");return y.createElement(y.Fragment,null,y.createElement(Lf,{className:s,kind:fo._8,label:m,menuSize:vc.ln,onPress:p},y.createElement(TR.Z,{serverEntityID:r,providerEntityID:a,metadataListEntityID:o,showAddToPlaylist:!0,showAddToSmartPlaylist:!0,onAddToPlaylistPress:d,onAddToSmartPlaylistPress:u})),y.createElement(lR.Z,{serverEntityID:r,providerEntityID:a,metadataListEntityID:o,smart:n,isOpen:t.isOpen,onModalClose:t.onClose}))};var xje=Object.assign;const Lje=(0,vee.Z)(mee.Z);function Oje(e){const{defaultField:t,defaultFieldType:{type:n,operators:i}}=e,s=[];return n===kZ.I&&s.push({value:1}),{key:t.key,value:s,operator:i[0].key,id:E().uniqueId()}}function jje(e){return(e.activeFilters.length?e.activeFilters:[Oje(e)]).map((e=>xje(xje({},e),{id:E().uniqueId(e.key)})))}class kje extends y.Component{constructor(e,t){super(e,t),this.onFormSubmit=e=>{const{activeFilters:t}=this.state,{allTypeFieldsByKey:n,typeKey:i,activeSort:s}=this.props,r=t.map((t=>{const{key:i,value:s,operator:r}=e[t.id],a=s.map((e=>E().isString(e)?e:e.value));let o;const l=n[i];if(l&&l.type===NOe.Hu&&!KOe(r)){const e=(0,$C.Z)(a[0]?a[0].replace(/-+$/,""):new Date,"yyyy-MM-dd");o=[(0,dme.Z)(e)?(0,Gi.Z)(e):(0,Gi.Z)(new Date)]}else o=a;return{key:i,operator:r,value:o}})).filter((e=>e.value.length));let a;e.enableLimit&&""!==e.limit&&(a=e.limit),window.location.hash=(0,FN.Z)({typeKey:i,filters:r,sort:s,limit:a,customFilter:!0})},this.onAddPress=e=>{const t=[...this.state.activeFilters];t.splice(e+1,0,Oje(this.props)),this.setState({activeFilters:t})},this.onRemovePress=e=>{const t=[...this.state.activeFilters];t.splice(e,1),this.setState({activeFilters:t})},this.state={activeFilters:e.activeFilters?jje(e):[]}}componentWillReceiveProps(e){this.setState({activeFilters:jje(e)})}render(){const{activeFilters:e}=this.state,{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,activeLimit:s,isQueryParsePopulated:r,queryParseError:a,showUpdate:o,updateError:l,onUpdatePress:c}=this.props;if(!r)return y.createElement("div",{className:"LibraryFilterBuilder-loadingContainer-3lJDaf LibraryFilterBuilder-container-10wpoV"},a?(0,De.Z)("There was an error trying to load the filters. Reload the page and try again"):y.createElement(RC.Z,null));const d=!!s;return y.createElement(kee.ZP,{className:"LibraryFilterBuilder-container-10wpoV",onSubmit:this.onFormSubmit},e.map(((n,i)=>y.createElement(Nje,{key:n.id,serverEntityID:t,name:n.id,index:i,initialValue:n,isRemoveDisabled:e.length<2,onRemovePress:this.onRemovePress,onAddPress:this.onAddPress}))),y.createElement("div",{className:"LibraryFilterBuilder-footer-kujNsQ"},y.createElement("div",{className:"LibraryFilterBuilder-settings-2hKDOY"},y.createElement(Lje,{className:"LibraryFilterBuilder-checkInput-3RhTKo InlineInputGroupFormLabel-label-3tPDen FormLabel-label-1WQL1E",size:vc.HC,name:"enableLimit",checkboxText:(0,De.Z)("Limit to"),initialValue:d}),y.createElement(WOe,{inputClassName:"LibraryFilterBuilder-numberInput-3UF0Po InlineNumberInputGroup-input-23msND TextInput-input-M2gRCL input-input-26w-zg",size:vc.HC,name:"limit",initialValue:d?s:"",leftLabel:!1,labelText:(0,De.Z)("items")})),y.createElement("div",{className:"LibraryFilterBuilder-buttons-1m9ZOE"},l?y.createElement("span",{className:"LibraryFilterBuilder-error-1mmc_v"},(0,De.Z)("There was a problem saving the playlist")):null,y.createElement($h.Z,{type:"submit"},(0,De.Z)("Apply")),y.createElement(Aje,{className:"LibraryFilterBuilder-saveButton-3DRX52 SplitButton-button-3JzeSl",serverEntityID:t,providerEntityID:n,metadataListEntityID:i,showUpdate:o,onUpdatePress:c}))))}}const Rje=kje;var zje=Object.prototype.hasOwnProperty,Uje=Object.getOwnPropertySymbols,Vje=Object.prototype.propertyIsEnumerable,Bje=Object.assign;const Fje=/^-([0-9]+)([a-zA-Z]+)$/;function Hje(e,t){const{field:n,type:i,fieldTitle:s,valueTitle:r}=e,a=null==i?n:`${i}.${n}`,o=t[a];let l,c;return(e.operator===ZOe.p0||e.operator===ZOe.t2)&&Fje.test(e.value)&&o&&o.type===NOe.Hu?(l=e.operator+"-",c=e.value.substr(1)):o&&o.type===NOe.Hu?(l=e.operator,c=(0,$C.Z)((0,hi.Z)(e.value),"yyyy-MM-dd")):(l=e.operator,c=e.value),{key:a,keyTitle:s,operator:l,value:[{value:decodeURIComponent(c),valueTitle:r?decodeURIComponent(r):void 0}]}}function _je(e,t,n){const i=[];if("composite"===t.type&&"and"===t.operator){if(t.rules){const s=t.rules.reduce(((t,i)=>(t.push.apply(t,_je(e,i,n)),t)),[]);i.push.apply(i,s)}}else if("composite"===t.type&&"or"===t.operator){const e=t.rules.reduce(((e,t)=>{const i=Hje(t,n);return e.key=i.key,e.keyTitle=i.keyTitle,e.operator=i.operator,null==e.value&&(e.value=[]),e.value.push.apply(e.value,i.value),e}),{});i.push(e)}else i.push(Hje(t,n));return i}const Qje=(0,de.P1)(AOe,(e=>e.reduce(((e,t)=>(e[t.key]=t,e)),{}))),Gje=(0,de.P1)((e=>e.ui.libraryPage.queryParse),Qje,((e={},t)=>e.rule?_je(e.type,e.rule,t):[])),Yje=(0,de.P1)(Wh.Z,QK,xOe,Qje,Gje,(e=>e.ui.libraryPage.queryParse.key),(e=>e.ui.libraryPage.queryParseError),(e=>e.ui.libraryPage.isQueryParsePopulated),((e,{playlistID:t})=>t),(e=>e.ui.libraryPage.updatePlaylistError),(e=>e.ui.libraryPage.isUpdatePlaylistPending),((e,t,n,i,s,r,a,o,l,c,d)=>{const[u]=t,[p]=u.fields,m=E().find(n,(e=>e.type===p.type));return{supportsQueryParser:!!e.features.queryParser,activeFilters:s,allTypeFieldsByKey:i,queryParseKey:r,queryParseError:a,isQueryParsePopulated:o,defaultField:p,defaultFieldType:m,showUpdate:!!l,updateError:c,isUpdating:d}})),Wje={dispatchPopulateQueryParse:vLe,dispatchUpdateSmartPlaylist:CLe};class Kje extends y.Component{constructor(){super(...arguments),this.onUpdatePress=()=>{this.props.dispatchUpdateSmartPlaylist({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,playlistID:this.props.playlistID})}}componentDidMount(){this.props.supportsQueryParser&&this.props.dispatchPopulateQueryParse()}componentWillReceiveProps(e){this.props.queryParseKey!==e.queryParseKey&&this.props.dispatchPopulateQueryParse()}render(){const e=this.props,{dispatchPopulateQueryParse:t,dispatchUpdateSmartPlaylist:n,supportsQueryParser:i}=e,s=((e,t)=>{var n={};for(var i in e)zje.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Uje)for(var i of Uje(e))t.indexOf(i)<0&&Vje.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchPopulateQueryParse","dispatchUpdateSmartPlaylist","supportsQueryParser"]);return i?y.createElement(Rje,Bje({onUpdatePress:this.onUpdatePress},s)):null}}const qje=(0,f.$j)(Yje,Wje)(Kje);var $je=Object.prototype.hasOwnProperty,Jje=Object.getOwnPropertySymbols,Xje=Object.prototype.propertyIsEnumerable,eke=Object.assign;const tke=function(e){const{types:t,selectedType:n,libraryRoute:i,activeSort:s,activeLimit:r,activeFilters:a,customFilter:o,onMenuClose:l}=e,c=((e,t)=>{var n={};for(var i in e)$je.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Jje)for(var i of Jje(e))t.indexOf(i)<0&&Xje.call(e,i)&&(n[i]=e[i]);return n})(e,["types","selectedType","libraryRoute","activeSort","activeLimit","activeFilters","customFilter","onMenuClose"]);if(!(t&&t.length>0))return null;const d=t.reduce(((e,t)=>(t.type!==Ho.FOLDER?e.types.push(t):e.folder.push(t),e)),{types:[],folder:[]});return y.createElement(mo.Z,eke(eke({},c),{onMenuClose:l}),d.types.map((({key:e,type:t,title:l})=>y.createElement(Ic.Z,{key:e,to:(0,FN.Z)({typeKey:e,filters:o?a:void 0,sort:o?s:void 0,limit:o?r:void 0,customFilter:o},i),isSelected:n.key===e},l))),d.folder.length>0?y.createElement(go.Z,null):null,d.folder.length>0?d.folder.map((({key:e,type:t,title:s})=>y.createElement(Ic.Z,{key:e,to:(0,FN.Z)({typeKey:e,folderKey:e,save:1},i),isSelected:n.key===e,onPress:l},s))):null)};class nke extends y.Component{constructor(e,t){super(e,t),this.onTypesMenuButtonPress=e=>{this.setState({isTypesMenuOpen:!this.state.isTypesMenuOpen})},this.onTypesMenuClose=()=>{this.setState({isTypesMenuOpen:!1})},this.state={isTypesMenuOpen:!1},this._typesMenuButtonID=(0,wf.Z)()}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:n,pivot:i,directoryKey:s,folderTitle:r,parentFolderTitle:a,parentRoute:o,size:l,listType:c,listContext:d,listStyle:u,metadataTypes:p,selectedType:m,allListStyles:h}=this.props,{isTypesMenuOpen:g}=this.state;return y.createElement(y.Fragment,null,y.createElement(uD.Z,null,y.createElement(DN,{serverEntityID:e,providerEntityID:t,sourceDirectory:n}),i?y.createElement(vN,{serverEntityID:e,providerEntityID:t,sourceDirectory:n,directoryKey:s}):null,y.createElement(VZ.Z,null,y.createElement(Uk,{listType:c,listContext:d,selectedListStyle:u,allListStyles:h}))),y.createElement(Ph,null,y.createElement(Qb.Z,null,y.createElement(zZ.Z,{id:this._typesMenuButtonID,hasMenu:!0,isMenuOpen:g,onPress:this.onTypesMenuButtonPress},(null==m?void 0:m.title)||(0,De.Z)("Folders")),y.createElement(tke,{target:this._typesMenuButtonID,isOpen:g,types:p,selectedType:m,activeFilters:[],onMenuClose:this.onTypesMenuClose}),o?y.createElement(zZ.Z,{hasMenu:!1,to:o},a||n.title):null,y.createElement(zZ.Z,null,r),y.createElement(rb.Z,null,l))))}}const ike=nke,ske=(0,f.$j)((function(){return(0,de.P1)(((e,{listType:t})=>t),(0,UM.Z)(),QK,GK(),(0,SC.Z)(),(0,de.P1)(((e,{sourceDirectory:t})=>t),((e,{pivot:t})=>t),((e,{folderKey:t})=>t),((e,{folderTitle:t})=>t),((e,{parentFolderKey:t})=>t),((e,{parentFolderTitle:t})=>t),(0,HM.Z)(),(0,UM.Z)(),((e,t,n,i,s,r,a,o)=>{const l={key:t?t.key:e.key,folderKey:s,folderTitle:r};if(!s){const t=`${e.key}/folder`;if(t===n)return null;l.folderKey=t,l.folderTitle=e.title}return(0,zg.Z)(a,o,e,l)})),((e,t,n,i,s,r)=>{const a=H3(e,null,YC.Y3,t);return{parentRoute:r,size:s.totalSize||s.metadataItems.length,metadataTypes:n,selectedType:i,allListStyles:a}}))}))(ike),rke=function(){return y.createElement(zC.Z,{iconClassName:"LibraryEmptyWatchlistPage-icon-3yFgY4",iconComponent:zm,title:(0,De.Z)("Watchlist"),description:(0,De.Z)("You can add movies and shows to your Watchlist to catch up on later. Once you finish watching an item in the list, or mark it as watched it will automatically be removed from the list.")})},ake=function(e){const{serverEntityID:t,providerEntityID:n,providerIdentifier:i,error:s,typeKey:r,activeFilters:a,activeSort:o,pivot:l,listType:c,listTitle:d,isFolder:u,isLibraryRefreshing:p}=e,m=pa.wB(i,pa.Ll),h=(null==l?void 0:l.id)===$p,g=vj.Z[c];return s?y.createElement(FC.Z,{title:(0,De.Z)("There was an unexpected error loading this library")}):E().isEmpty(a)?m?y.createElement(BC,{serverEntityID:t,providerEntityID:n}):p?y.createElement(zC.Z,{iconComponent:g,title:(0,De.Z)("Libraries are currently being updated"),description:(0,De.Z)("Hang tight while we look for your content")}):h?y.createElement(rke,null):y.createElement(zC.Z,{iconComponent:g,title:u?(0,De.Z)("There are no items in this folder"):(0,De.Z)("There are no items in {listTitle}",{listTitle:d})}):y.createElement(zC.Z,{iconComponent:g,title:(0,De.Z)("The active filter has no matches"),description:(0,De.Z)("Use the menu above to change the active filter")},y.createElement(AM.Z,{to:(0,FN.Z)({typeKey:r,sort:o}),kind:fo._8},(0,De.Z)("Clear filter")))};var oke=Object.prototype.hasOwnProperty,lke=Object.getOwnPropertySymbols,cke=Object.prototype.propertyIsEnumerable,dke=Object.assign;const uke=function(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,sourceDirectory:s,containerKey:r,containerTitle:a,activeSort:o,listType:l,listSubtype:c,columnAdjustment:d}=e,u=((e,t)=>{var n={};for(var i in e)oke.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&lke)for(var i of lke(e))t.indexOf(i)<0&&cke.call(e,i)&&(n[i]=e[i]);return n})(e,["serverEntityID","providerEntityID","metadataListEntityID","sourceDirectory","containerKey","containerTitle","activeSort","listType","listSubtype","columnAdjustment"]),p=eQ(l,e.listContext,{activeSort:o,subtype:c,providerEntityID:n}),m=YC.Vz;return y.createElement(jC.Z,dke({listType:l,listContext:m,layout:OX(l,c,m,d,p.length),cellRenderer:WQ({serverEntityID:t,providerEntityID:n,metadataListEntityID:i,sourceDirectory:s,containerKey:r,containerTitle:a,listType:l,listContext:m,titleComponents:p})},u))};var pke=Object.prototype.hasOwnProperty,mke=Object.getOwnPropertySymbols,hke=Object.prototype.propertyIsEnumerable,gke=Object.assign;const yke=function(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,containerKey:s,containerTitle:r,listType:a,listContext:o}=e,l=((e,t)=>{var n={};for(var i in e)pke.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&mke)for(var i of mke(e))t.indexOf(i)<0&&hke.call(e,i)&&(n[i]=e[i]);return n})(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","containerTitle","listType","listContext"]);return y.createElement(jC.Z,gke({listType:a,listContext:o,layout:vX,cellRenderer:Yj({serverEntityID:t,providerEntityID:n,metadataListEntityID:i,listType:a,listContext:o,containerKey:s,containerTitle:r},gX)},l))};var vke=Object.prototype.hasOwnProperty,fke=Object.getOwnPropertySymbols,Ike=Object.prototype.propertyIsEnumerable,bke=Object.assign;const Mke=function(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,containerKey:s,containerTitle:r,listType:a,listContext:o}=e,l=((e,t)=>{var n={};for(var i in e)vke.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&fke)for(var i of fke(e))t.indexOf(i)<0&&Ike.call(e,i)&&(n[i]=e[i]);return n})(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","containerTitle","listType","listContext"]);return y.createElement(jC.Z,bke({listType:a,listContext:o,layout:BX,cellRenderer:Yj({serverEntityID:t,providerEntityID:n,metadataListEntityID:i,listType:a,listContext:o,containerKey:s,containerTitle:r},MG)},l))};var Ske=Object.prototype.hasOwnProperty,Eke=Object.getOwnPropertySymbols,Dke=Object.prototype.propertyIsEnumerable,Cke=Object.assign;const Pke=function(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,containerKey:s,containerTitle:r,listType:a,listSubtype:o,listContext:l,typeKey:c,isFolder:d,activeSort:u,selectedSort:p}=e,m=((e,t)=>{var n={};for(var i in e)Ske.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Eke)for(var i of Eke(e))t.indexOf(i)<0&&Dke.call(e,i)&&(n[i]=e[i]);return n})(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","containerTitle","listType","listSubtype","listContext","typeKey","isFolder","activeSort","selectedSort"]);return y.createElement(jC.Z,Cke({layout:WX,cellRenderer:Yj({serverEntityID:t,providerEntityID:n,metadataListEntityID:i,containerKey:s,containerTitle:r,listType:a,listSubtype:o,listContext:l,typeKey:c,isFolder:d,activeSort:u,selectedSort:p},u$)},m))};var wke=Object.prototype.hasOwnProperty,Tke=Object.getOwnPropertySymbols,Zke=Object.prototype.propertyIsEnumerable,Nke=Object.assign;const Ake=function(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,containerKey:s,containerTitle:r,containerDisplayFields:a,activeSort:o,listType:l,listSubtype:c,listContext:d,columnAdjustment:u}=e,p=((e,t)=>{var n={};for(var i in e)wke.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Tke)for(var i of Tke(e))t.indexOf(i)<0&&Zke.call(e,i)&&(n[i]=e[i]);return n})(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","containerTitle","containerDisplayFields","activeSort","listType","listSubtype","listContext","columnAdjustment"]),m=eQ(l,d,{providerEntityID:n,subtype:c,activeSort:o});return y.createElement(jC.Z,Nke({listType:l,listContext:d,layout:OX(l,c,d,u,m.length),cellRenderer:Yj({serverEntityID:t,providerEntityID:n,metadataListEntityID:i,listType:l,listSubtype:c,listContext:d,titleComponents:m,containerKey:s,containerTitle:r,displayFieldDefinitions:a},NG)},p))},xke=function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,containerKey:s,cellIndex:r,metadataKey:a,type:o,title:l,route:c,isDirectory:d,showLink:u,showActions:p,imageWidth:m,imageHeight:h,imageUrl:g}=e,v=(0,HC.Z)(e),[f,I]=(0,y.useState)(!1);return y.createElement("div",{className:we()(r%2?"SharedItemMetadataCell-alternateItem-108U9m SharedItemMetadataCell-item-3F8yhM":"SharedItemMetadataCell-item-3F8yhM",f&&"SharedItemMetadataCell-isActionsMenuOpen-jsDkAe"),style:v.style},u?y.createElement(AM.Z,{className:"SharedItemMetadataCell-underlay-vivEmH",to:c,"aria-label":l}):null,y.createElement("div",{className:"SharedItemMetadataCell-overlay-sMSGHW"},y.createElement("div",{className:"SharedItemMetadataCell-posterContainer-2y0xbl"},v.isPlaceholder?y.createElement(Rj.Z,{imageWidth:m,imageHeight:h}):y.createElement(kj.Z,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,containerKey:s,listType:Ho.MIXED,listContext:YC.Ap,metadataKey:a,type:o,imageWidth:m,imageHeight:h,imageUrl:g,isFolder:!1,showOverlay:!d,showLink:!1,showSelect:!1,showEdit:!1,showMore:!1})),y.createElement("div",{className:"SharedItemMetadataCell-summaryContainer-22aq8Y"},y.createElement("div",{className:"SharedItemMetadataCell-titleContainer-1SlyG_"},y.createElement("div",{className:"SharedItemMetadataCell-title-1bUesu"},l)),y.createElement("div",{className:"SharedItemMetadataCell-type-V_pUUg"},function(e,t){const n=Ho.getMetadataType(e).title;return t?(0,De.Z)("{typeTitle} Library",{typeTitle:n}):n}(o,d))),p?y.createElement("div",{className:"SharedItemMetadataCell-actions-20sRvZ"},y.createElement(uG.Z,{"data-qa-id":"sharedItemSummaryMoreButton",className:"SharedItemMetadataCell-moreButton-l2mlcn",serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,containerKey:s,listType:Ho.MIXED,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:f,onMenuOpenChange:I})):null))},Lke=function(e){const{cellIndex:t,imageWidth:n,imageHeight:i}=e,s=(0,HC.Z)(e);return y.createElement("div",{className:t%2?"SharedItemMetadataCellLoading-alternateLoadingItem-L9o9uq SharedItemMetadataCellLoading-loadingItem-z0cgos":"SharedItemMetadataCellLoading-loadingItem-z0cgos",style:s.style},y.createElement("div",{className:"SharedItemMetadataCellLoading-posterContainer-3KOp8x"},y.createElement(Rj.Z,{imageWidth:n,imageHeight:i})),(0,De.Z)("Loading..."))};var Oke=Object.assign;const jke=(0,YM.Z)((function(){return(0,de.P1)(Kh.Z,Wh.Z,CC(),(0,_C.Z)(),oG(),(0,rP.Z)(),((e,t,n,i={},s,r)=>{const a=!!i.directory,o=function(e,t){const{type:n,subtype:i}=e,s=(0,hCe.Z)(n,i,t);return(0,cG.Z)(s,null,n,i,e,t)}(i,YC.Ap);let l=r;if(a){const s=function(e,t){return e.find((e=>!!HZ(e,t)))}(n,i.key);l=(0,zg.Z)(e,t,s)}return{metadataKey:i.key,type:s,title:(0,iy.Z)(i),selectionID:i.entityID,route:l,isDirectory:a,showLink:!!l,showActions:!a,imageWidth:o.width,imageHeight:o.height,imageUrl:o.url}}))}))((function(e){return e.metadataKey?y.createElement(xke,Oke({},e)):y.createElement(Lke,Oke({},e))}));var kke=Object.prototype.hasOwnProperty,Rke=Object.getOwnPropertySymbols,zke=Object.prototype.propertyIsEnumerable,Uke=Object.assign;const Vke=function(e){const{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,containerKey:s}=e,r=((e,t)=>{var n={};for(var i in e)kke.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Rke)for(var i of Rke(e))t.indexOf(i)<0&&zke.call(e,i)&&(n[i]=e[i]);return n})(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey"]);return y.createElement(jC.Z,Uke({layout:BX,cellRenderer:Yj({serverEntityID:t,providerEntityID:n,metadataListEntityID:i,containerKey:s},jke)},r))};function Bke(e){const{children:t,serverEntityID:n,providerEntityID:i,metadataListEntityID:s,sourceDirectory:r,containerKey:a,containerTitle:o,containerDisplayFields:l,listTitle:c,listType:d,listSubtype:u,listContext:p,listStyle:m,typeKey:h,activeSort:g,selectedSort:v,isDirectoryList:f,isFolder:I,metadataItemEntityIDs:b,totalSize:M,populatedRange:S,firstItemType:E,firstItemSubtype:D,isPending:C,isPopulated:P,error:w,columnAdjustment:T,hasGutter:Z,onPageRequest:N,onListScrollIndexChange:A,onListUpdate:x,onMeasure:L,scrollIndex:O}=e,j=M||b.length;if(P&&j){const e=d||E,c=u||D,M=function(e,t){if(e)return uke;switch(t){case Sk:return Pke;case Dk:return Mke;case Ek:return yke;case Pk:return Vke;default:return Ake}}(f,m||H3(e,c,et.$4)[0]);return y.createElement(M,{className:"MetadataListPageContent-metadataListPageContent-OjKHR1 PageContent-pageContent-aqfjwt",scrollerClassName:we()("MetadataListPageContent-metadataListScroller-mKFFa_",Z&&"MetadataListPageContent-hasGutter-3wjpXz"),serverEntityID:n,providerEntityID:i,metadataListEntityID:s,sourceDirectory:r,containerKey:a,containerTitle:o,containerDisplayFields:l,listType:e,listSubtype:c,listContext:p,typeKey:h,isFolder:I,activeSort:g,selectedSort:v,scrollIndex:O,scrollPositionStorageKey:"MetadataListPageContent",keyPropName:"metadataItemEntityID",items:b,itemsOffset:S.start,size:j,columnAdjustment:T,onPageRequest:N,onListScrollIndexChange:A,onListUpdate:x,onMeasure:L},t)}if(C)return y.createElement(mx,null,y.createElement(zC.Z,null,y.createElement(RC.Z,null)));if(w){const e=c?(0,De.Z)("There was an unexpected error loading {listTitle}",{listTitle:c}):(0,De.Z)("There was an unexpected error loading this list");return y.createElement(mx,null,y.createElement(TOe,{sourceDirectory:r,hint:a,error:w.status,defaultTitle:e}))}return y.createElement(mx,null,y.createElement(zC.Z,{title:(0,De.Z)("Nothing to see here"),description:c?(0,De.Z)("There are no items in {listTitle}",{listTitle:c}):(0,De.Z)("There are no items in this list")}))}Bke.defaultProps={listContext:YC.Y3};const Fke=Bke,Hke=(0,f.$j)((function(){return(0,de.P1)((0,SC.Z)(),(e=>{var t;return{containerDisplayFields:null==(t=e.meta)?void 0:t.DisplayFields}}))}))(Fke);var _ke=Object.assign;const Qke=function(e){const{serverEntityID:t,providerEntityID:n,providerIdentifier:i,metadataItemEntityIDs:s,totalSize:r,isPending:a,isPopulated:o,error:l,typeKey:c,activeFilters:d,activeSort:u,pivot:p,listType:m,listTitle:h,isFolder:g,isLibraryRefreshing:v}=e,f=r||s.length;return a||o&&f?y.createElement(Hke,_ke({},e)):y.createElement(mx,null,y.createElement(ake,{serverEntityID:t,providerEntityID:n,providerIdentifier:i,error:l,typeKey:c,activeFilters:d,activeSort:u,pivot:p,listType:m,listTitle:h,isFolder:g,isLibraryRefreshing:v}))},Gke=(e,t)=>{const[n,i]=e.split("."),s=i?n:t,r=i||n;return s&&s!==Ho.MOVIE?`${s}.${r}`:r};var Yke=Object.assign;var Wke=Object.assign;const Kke="LibraryFilterOptionsList-emptyText-3QKCi8",qke=function(e){const{className:t,style:n,typeKey:i,activeFilters:s,activeSort:r,selectedFilter:a,filterOptions:o,filterOptionQuery:l,showError:c,showSearchInput:d,onFilterDeselect:u,onSearch:p}=e,m=a.filter;return y.createElement("div",{className:t,style:n,"data-qa-id":"secondFiltersList"},y.createElement("div",{className:"LibraryFilterOptionsList-header-2pGKxa","data-qa-id":"filterHeader"},y.createElement("div",{className:"LibraryFilterOptionsList-headerTitle-choTvY"},y.createElement(AM.Z,{"data-qa-id":"previousFilters",onPress:u},y.createElement(pp,{className:"LibraryFilterOptionsList-backIcon-99rycn","aria-label":(0,De.Z)("Back")})),y.createElement("span",{className:"LibraryFilterOptionsList-filterText-5q0NpT"},a.title)),d?y.createElement(l1.Z,{className:"LibraryFilterOptionsList-searchInput-2OWfam TextInput-input-M2gRCL input-input-26w-zg",name:"filterOptionQuery",placeholder:(0,De.Z)("Filter {filterTitle}",{filterTitle:a.title}),value:l,onChange:p}):null),y.createElement(go.Z,null),y.createElement(wN.Z,{className:d?"LibraryFilterOptionsList-filterOptionsWithSearchScroller-3O2A8- LibraryFilterOptionsList-filterOptionsScroller-3Nv1u3 Scroller-vertical-1tg_Qg":"LibraryFilterOptionsList-filterOptionsScroller-3Nv1u3 Scroller-vertical-1tg_Qg",autoScroll:!0},c?y.createElement("div",{className:Kke},(0,De.Z)("Unable to load options")):null,c||o.length?null:y.createElement("div",{className:Kke},(0,De.Z)("No options")),o.map((({value:e,title:t,isSelected:n})=>y.createElement(Ic.Z,{key:e,className:"LibraryFilterOptionsList-filterOptionMenuItem-2o4qAs MenuItem-menuItem-3VIgmv",to:(0,FN.Z)({typeKey:i,filters:n?YN(s,m,e):_N(s,m,{value:e,type:kZ.w}),filterLabel:n?void 0:t,sort:r}),isSelected:n},t)))))},$ke={scrollDirection:vb.Hn};class Jke extends y.Component{constructor(e,t){super(e,t),this.onFiltersListMeasure=({height:e})=>{this.setState({isMeasured:!0,filterOptionsHeight:Math.max(e,this.props.minHeight)})},this.state={isMeasured:!1,filterOptionsHeight:"auto"}}render(){const{target:e,isOpen:t,typeKey:n,activeFilters:i,activeFilterLabel:s,activeSort:r,filters:a,selectedFilter:o,filterOptions:l,filterOptionQuery:c,showSpinner:d,showError:u,showSearchInput:p,showCustomFilter:m,onFilterSelect:h,onFilterDeselect:g,onSearch:v,onMenuClose:f}=this.props,{isMeasured:I,filterOptionsHeight:b}=this.state,M=!!o&&!d&&I;return y.createElement(mo.Z,{target:e,isOpen:t,size:vc.ln,scrollerProps:$ke,onMenuClose:(0,vo.Z)(g,f)},y.createElement(OC.Z,{className:we()("LibraryFiltersMenu-panesContainer-Yvs4cV",M&&"LibraryFiltersMenu-showFilterOptions-4VVOgC"),ignoreWidth:!0,ignorePosition:!0,ignoreTransforms:!0,onMeasure:this.onFiltersListMeasure},y.createElement($N,{className:"LibraryFiltersMenu-filtersPane-3G8M3n LibraryFiltersMenu-pane-D8sS66",typeKey:n,activeFilters:i,activeFilterLabel:s,activeSort:r,filters:a,selectedFilter:o,showSpinner:d,showCustomFilter:m,onFilterSelect:h}),M?y.createElement(qke,{className:"LibraryFiltersMenu-filterOptionsPane-1h0Kdk LibraryFiltersMenu-pane-D8sS66",style:{height:b},typeKey:n,activeFilters:i,activeSort:r,selectedFilter:o,filterOptions:l,filterOptionQuery:c,showError:u,showSearchInput:p,onFilterDeselect:g,onSearch:v}):null))}}Jke.defaultProps={minHeight:385};const Xke=Jke;var eRe=Object.assign;class tRe extends y.Component{constructor(){super(...arguments),this.onFilterSelect=e=>{this.props.selectLibraryFilter({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,key:e}),this.props.fetchLibraryFilterOptions()},this.onFilterDeselect=()=>{this.props.deselectLibraryFilter()},this.onSearch=e=>{this.props.searchLibraryFilterOptions(e)}}render(){return y.createElement(Xke,eRe({onFilterSelect:this.onFilterSelect,onFilterDeselect:this.onFilterDeselect,onSearch:this.onSearch},this.props))}}const nRe=(0,f.$j)((function(){return(0,de.P1)(((e,{activeFilters:t})=>t),((e,{selectedType:t})=>t),(e=>e.ui.libraryPage),(0,de.P1)(((e,{activeFilters:t})=>t),((e,{selectedType:t})=>t),(e=>e.ui.libraryPage.selectedFilterKey),(e=>e.ui.libraryPage.filterOptionQuery),(e=>e.ui.libraryPage.selectedFilterOptions),((e,t,n,i,s=[])=>{const r=t&&t.filters,a=E().findWhere(r,{key:n});let o=s;if(i){const e=i.trim().toLowerCase();o=o.filter((t=>t.title.toLowerCase().indexOf(e)>-1))}if(a){const t=e.filter((e=>e.key===a.filter)),n=o.reduce(((e,n)=>{const i=QN(t,n.value);return(i?e.selected:e.unselected).push(Wke(Wke({},n),{isSelected:i})),e}),{selected:[],unselected:[]});o=n.selected.concat(n.unselected)}return o})),((e,t,n,i)=>{const{selectedFilterKey:s,filterOptionQuery:r,selectedFilterOptions:a=[],isSelectedFilterOptionsPopulated:o,selectedFilterOptionsError:l}=n,c=t&&t.filters;return{filters:c,selectedFilter:s&&E().findWhere(c,{key:s}),filterOptions:i,filterOptionQuery:r,showSpinner:!o&&!l,showError:!!l,showSearchInput:a.length>12}}))}),d)(tRe);var iRe=n(68252),sRe=Object.prototype.hasOwnProperty,rRe=Object.getOwnPropertySymbols,aRe=Object.prototype.propertyIsEnumerable,oRe=Object.assign;const{ASCENDING:lRe,DESCENDING:cRe}=iRe.Z.directions,dRe=function(e){const{typeKey:t,activeFilters:n,activeFilterLabel:i,activeSort:s,activeLimit:r,sorts:a,selectedSort:o,customFilter:l,onMenuClose:c}=e,d=((e,t)=>{var n={};for(var i in e)sRe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&rRe)for(var i of rRe(e))t.indexOf(i)<0&&aRe.call(e,i)&&(n[i]=e[i]);return n})(e,["typeKey","activeFilters","activeFilterLabel","activeSort","activeLimit","sorts","selectedSort","customFilter","onMenuClose"]);return y.createElement(mo.Z,oRe(oRe({},d),{onMenuClose:c}),a.map((({key:e,descKey:a,defaultDirection:d,title:u})=>{const p=o.key===e;let m=d;p&&(m=o.activeDirection?o.activeDirection===cRe?lRe:cRe:s?s===a?lRe:cRe:d===lRe?cRe:lRe);const h=m===cRe;return y.createElement(Ic.Z,{key:e,to:(0,FN.Z)({typeKey:t,filters:n,filterLabel:i,sort:h?a:e,limit:l?r:null,customFilter:l}),isSelected:p,iconComponent:h?Av.Z:xv.Z,selectedIconAriaLabel:h?(0,De.Z)("Ascending"):(0,De.Z)("Descending"),onPress:c},u)})))};class uRe extends y.Component{constructor(e,t){super(e,t),this.onFiltersMenuButtonPress=e=>{this.setState({isFiltersMenuOpen:!this.state.isFiltersMenuOpen})},this.onFiltersMenuClose=()=>{this.setState({isFiltersMenuOpen:!1})},this.onTypesMenuButtonPress=e=>{this.setState({isTypesMenuOpen:!this.state.isTypesMenuOpen})},this.onTypesMenuClose=()=>{this.setState({isTypesMenuOpen:!1})},this.onSortsMenuButtonPress=e=>{this.setState({isSortsMenuOpen:!this.state.isSortsMenuOpen})},this.onSortsMenuClose=()=>{this.setState({isSortsMenuOpen:!1})},this.state={isFiltersMenuOpen:!1,isTypesMenuOpen:!1,isSortsMenuOpen:!1},this._filtersMenuButtonID=(0,wf.Z)(),this._sortsMenuButtonID=(0,wf.Z)(),this._typesMenuButtonID=(0,wf.Z)()}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,provider:i,pivot:s,sourceDirectory:r,directoryKey:a,listType:o,listSubtype:l,listContext:c,listStyle:d,listTitle:u,typeKey:p,activeFilters:m,activeFilterLabel:h,activeSort:g,activeLimit:v,activeAdvancedFilters:f,metadataTypes:I,selectedType:b,selectedSort:M,selectedFilterTitle:S,customFilter:E,playlistTitle:D,totalSize:C,showSortsMenu:P,canBuildAdvancedFilter:w,allListStyles:T}=this.props,{isFiltersMenuOpen:Z,isTypesMenuOpen:N,isSortsMenuOpen:A}=this.state,x=E||m.length>0,L=!!b&&b.filters.length>0&&!E,O=!!b&&I.length>1,j=!!(P&&M&&b.sorts.length>1),k=L?S:D||u,R=w?(0,FN.Z)({typeKey:p,filters:f,sort:g,limit:v,customFilter:!0}):"";return y.createElement(y.Fragment,null,y.createElement(uD.Z,null,y.createElement(DN,{serverEntityID:e,providerEntityID:t,sourceDirectory:r}),s?y.createElement(vN,{serverEntityID:e,providerEntityID:t,sourceDirectory:r,directoryKey:a}):null,y.createElement(VZ.Z,null,y.createElement(Uk,{listType:o,listSubtype:l,listContext:c,selectedListStyle:d,allListStyles:T}))),y.createElement(Ph,null,y.createElement(_b,null,x?y.createElement(Ub,null,y.createElement(Rb.Z,{className:"LibraryPageHeader-resetButton-1RPNPG ToolbarButton-toolbarButton-HjswtL",tooltip:(0,De.Z)("Clear Filter"),to:(0,FN.Z)({typeKey:p,sort:g})},y.createElement(Bb,null))):null,k?y.createElement(zZ.Z,{id:this._filtersMenuButtonID,hasMenu:L,isMenuOpen:Z,onPress:this.onFiltersMenuButtonPress},k):null,L?y.createElement(nRe,{serverEntityID:e,providerEntityID:t,target:this._filtersMenuButtonID,isOpen:Z,typeKey:p,activeFilters:m,activeFilterLabel:h,activeSort:g,selectedType:b,showCustomFilter:!!i.features.queryParser,onMenuClose:this.onFiltersMenuClose}):null,O?y.createElement(zZ.Z,{id:this._typesMenuButtonID,hasMenu:I.length>1,isMenuOpen:N,onPress:this.onTypesMenuButtonPress},b.title):null,O?y.createElement(tke,{target:this._typesMenuButtonID,isOpen:N,types:I,activeFilters:m,activeSort:g,activeLimit:v,customFilter:E,selectedType:b,onMenuClose:this.onTypesMenuClose}):null,j?y.createElement(zZ.Z,{id:this._sortsMenuButtonID,hasMenu:!0,isMenuOpen:A,onPress:this.onSortsMenuButtonPress},(0,De.Z)("By {sortTitle}",{sortTitle:M.title})):null,j?y.createElement(dRe,{target:this._sortsMenuButtonID,isOpen:A,typeKey:p,activeFilters:m,activeFilterLabel:h,activeSort:g,activeLimit:v,customFilter:E,sorts:b.sorts,selectedSort:M,onMenuClose:this.onSortsMenuClose}):null,y.createElement(rb.Z,null,C)),y.createElement(fk,null,y.createElement(GR,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,listType:o,selectedType:b,showAddToSmartPlaylist:!w,customFilterRoute:R}))))}}uRe.defaultProps={showSortsMenu:!0};const pRe=uRe,mRe=(0,f.$j)((function(){return(0,de.P1)(((e,{listType:t})=>t),((e,{listSubtype:t})=>t),((e,{listContext:t})=>t),((e,{listStyle:t})=>t),((e,{activeFilters:t})=>t),((e,{activeTitle:t})=>t),((e,{pivot:t})=>t),Wh.Z,QK,(0,SC.Z)(),GK(),(0,de.P1)(((e,{activeFilters:t})=>t),((e,{activeFilterLabel:t})=>t),GK(),((e,t,n)=>{if(E().isEmpty(e)||!n)return(0,De.Z)("All");const i=[],s=e.reduce(((e,t)=>((t.type===kZ.I?e.boolean:e.other).push(t),e)),{boolean:[],other:[]}),r=s.boolean,a=s.other;if(1===r.length){const e=r[0],t=E().findWhere(n.filters,{filter:e.key,filterType:kZ.I});t&&i.push(t.title)}return 1===a.length&&t&&i.push(t),i.length?i.join(" "):(0,De.Z)("Filtered")})),NLe(),(0,de.P1)(((e,{listType:t})=>t),((e,{activeFilters:t})=>t),GK(),((e,t,n)=>{const i=[];for(const s of t){const t=Gke(s.key,e);n.fields.find((e=>e.key===t))&&i.push(Yke(Yke({},s),{key:t}))}return i})),((e,t,n,i,s,r,a,o,l,c,d,u,p,m)=>{const h=H3(e,t,n,o);return{provider:o,metadataTypes:l,canBuildAdvancedFilter:m.length===s.length,activeAdvancedFilters:m,selectedType:d,selectedSort:p,selectedFilterTitle:u,listTitle:r||a&&a.title,listType:e,listContext:n,listStyle:i,allListStyles:h,totalSize:c.totalSize}}))}))(pRe);class hRe extends y.Component{constructor(){super(...arguments),this.onPress=e=>{this.props.onPress(this.props.scrollIndex)}}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){return y.createElement(AM.Z,{className:"LibraryPageJumpBarCharacter-character-eMEXwD","data-qa-id":"jumpBarCharacter",onPress:this.onPress},this.props.title)}}const gRe=hRe;var yRe=Object.assign;const vRe=parseInt(ku.Z.jumpBarCharacterHeight,10);var fRe=Object.assign;function IRe(e){let t=0;return e.map(((e,n)=>{const i=fRe(fRe({},e),{position:n,scrollIndex:t});return t+=e.size,i}))}const bRe=(0,f.$j)((function(){return(0,de.P1)(Kh.Z,((e,{activeSort:t})=>t),(e=>e.ui.libraryPage.firstCharacters),((e,t,n=[])=>({firstCharacters:IRe(e.version&&!(0,qh.Z)(e.version,Yh.Z.firstCharacterKeySortDirection)&&/titleSort:desc/i.test(t)?n.slice().reverse():n)})))}))((function(e){const{firstCharacters:t,viewportHeight:n,onJumpBarItemPress:i}=e,s={height:`${n}px`},r=function(e,t){return e&&e.length&&t>0?E().sortBy(function(e,t){const n=[E().first(e),E().last(e)],i=E().sortBy(e,"size").reverse();return E().union(n,i).slice(0,t)}(e,t),"position"):[]}(t,Math.floor(n/vRe));return y.createElement("div",{className:"LibraryPageJumpBar-jumpBar-2MECV_",style:s},r.map(((e,t)=>y.createElement(gRe,yRe(yRe({key:t},e),{onPress:i})))))}));var MRe=Object.assign;class SRe extends y.Component{constructor(e,t){super(e,t),this.onListScrollIndexChange=e=>{this.setState({scrollIndex:e})},this.onListUpdate=e=>{const{listStyle:{height:t}}=e;this.setState({listHeight:t})},this.onMeasure=({height:e})=>{this.setState({viewportHeight:e})},this.onJumpBarItemPress=e=>{this.setState({scrollIndex:e})};const{listHeight:n,scrollIndex:i,viewportHeight:s}=e;this.state={listHeight:n,scrollIndex:i,viewportHeight:s}}componentDidMount(){const{librarySectionID:e,providerIdentifier:t,onLibraryChange:n}=this.props;n(t,e)}componentDidUpdate(e){const{librarySectionID:t,providerIdentifier:n,onLibraryChange:i}=this.props;(n!==e.providerIdentifier||t&&t!==e.librarySectionID)&&i(n,t)}componentWillUnmount(){this.props.onLibraryChange(null,null)}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,metadataItemEntityIDs:i,sourceDirectory:s,pivot:r,containerKey:a,containerDisplayFields:o,directoryKey:l,providerIdentifier:c,providerMetricsIdentifier:d,libraryError:u,isProgramGuide:p,showLibrarySpinner:m,showLibraryNotFound:h,selectedSort:g,listTitle:v,listType:f,listSubtype:I,listContext:b,listStyle:M,firstItemType:S,firstItemSubtype:E,activeSelectionType:D,typeKey:C,activeType:P,activeFilters:w,activeFilterLabel:T,activeSort:Z,activeLimit:N,activeTitle:A,customFilter:x,folderKey:L,folderTitle:O,parentFolderKey:j,parentFolderTitle:k,playlistID:R,playlistTitle:z,populatedRange:U,columnAdjustment:V,hasQueryParse:B,isDirectoryList:F,isLibraryRefreshing:H,isPending:_,isPopulated:Q,totalSize:G,firstCharacterCount:Y,metricsContext:W,onPageRequest:K}=this.props,{listHeight:q,scrollIndex:$,viewportHeight:J}=this.state,X=/titleSort/i.test(g.key),ee=Math.max(q,1),te=!L&&X&&Y>=5&&J/ee<=.25,ne=M===Sk,ie=!D&&!!L,se=!D&&!L,re={serverEntityID:e,providerEntityID:t,pivot:r,sourceDirectory:s,directoryKey:ie?L:l,scrollDirection:vb.Hn},ae={metricsPage:et.Hx,metricsProperties:{identifier:d,mode:"list",type:L?Oj.SU:f,customFilter:x,style:M},allowBackgroundLightPreset:!0,scrollDirection:vb.Hn},oe=r?xC(et.Y3,r.context):W;if(m)return y.createElement(AC.Z,{metricsContext:oe},y.createElement(LC.Z,MRe({},ae),y.createElement(yj,MRe(MRe({},re),{showSecondHeader:!0}),y.createElement(zC.Z,null,y.createElement(RC.Z,null)))));if(h)return y.createElement(AC.Z,{metricsContext:oe},y.createElement(LC.Z,MRe({},ae),y.createElement(yj,MRe({},re),y.createElement(EOe,null))));if(u){const e=x||w.length>0||!!Z||!!N||!!C;return y.createElement(AC.Z,{metricsContext:oe},y.createElement(LC.Z,MRe({},ae),y.createElement(yj,MRe({},re),y.createElement(TOe,{sourceDirectory:s,hint:l,error:u.status,defaultTitle:(0,De.Z)("There was an unexpected error loading this library")},e?y.createElement(AM.Z,{to:(0,FN.Z)({}),kind:fo._8},(0,De.Z)("Retry")):null))))}return y.createElement(AC.Z,{metricsContext:oe},y.createElement(LC.Z,MRe({},ae),D?y.createElement(Az,{serverEntityID:e,providerEntityID:t}):null,ie?y.createElement(ske,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,pivot:r,sourceDirectory:s,directoryKey:l,typeKey:C,listType:f,listSubtype:I,listContext:b,listStyle:M,folderKey:L,folderTitle:O,parentFolderKey:j,parentFolderTitle:k}):null,se?y.createElement(mRe,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,pivot:r,sourceDirectory:s,directoryKey:l,listType:f,listSubtype:I,listContext:b,listStyle:M,typeKey:C,activeType:P,activeTitle:A,activeFilters:w,activeFilterLabel:T,activeSort:Z,customFilter:x,playlistTitle:z,showSortsMenu:!ne}):null,y.createElement(tg,{serverEntityID:e,providerEntityID:t}),x&&B?y.createElement(qje,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,providerIdentifier:c,typeKey:C,activeSort:Z,activeLimit:N,selectedSort:g,playlistID:R}):null,ne?y.createElement(bOe,{providerEntityID:t,metadataListEntityID:n,listType:f,listSubtype:I,listContext:b,typeKey:C,activeFilters:w,activeFilterLabel:T,activeSort:Z,customFilter:x,selectedSort:g,isFolder:!!L,isDisabled:!!L}):null,y.createElement(Qke,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,metadataItemEntityIDs:i,sourceDirectory:s,containerKey:a,containerTitle:O,containerDisplayFields:o,providerIdentifier:c,hasGutter:te,scrollIndex:$,listTitle:v,listType:f,listSubtype:I,listContext:ne?b:YC.$4,listStyle:M,typeKey:C,firstItemType:S,firstItemSubtype:E,activeFilters:w,activeSort:Z,selectedSort:g,pivot:r,populatedRange:U,columnAdjustment:V,shouldResetOnUnmount:!0,totalSize:G,isLibraryRefreshing:H,isPending:_,isPopulated:Q,isFolder:!!L,isDirectoryList:F,onPageRequest:K,onListScrollIndexChange:this.onListScrollIndexChange,onListUpdate:this.onListUpdate,onMeasure:this.onMeasure}),te?y.createElement(bRe,{serverEntityID:e,activeSort:Z,viewportHeight:J,onJumpBarItemPress:this.onJumpBarItemPress}):null,p?y.createElement(uxe,{serverEntityID:e,providerEntityID:t}):null))}}SRe.defaultProps={listContext:YC.Y3,scrollIndex:0,listHeight:0,viewportHeight:0};const ERe=SRe;var DRe=Object.prototype.hasOwnProperty,CRe=Object.getOwnPropertySymbols,PRe=Object.prototype.propertyIsEnumerable,wRe=Object.assign;class TRe extends y.Component{componentDidMount(){const{isDetailsPopulated:e}=this.props;e&&this._populate()}componentDidUpdate(e){const{isDetailsPopulated:t,firstCharacterKey:n,queryParseKey:i}=this.props;!t||n===e.firstCharacterKey&&i===e.queryParseKey||this._populate()}componentWillUnmount(){this.props.dispatchClearErrors()}_populate(){const{serverEntityID:e,providerEntityID:t,firstCharacterKey:n,queryParseKey:i,customFilter:s,dispatchInitLibraryPageSupportingLists:r,dispatchPopulateLibraryFirstCharacters:a}=this.props;(n||i)&&r({serverEntityID:e,providerEntityID:t,firstCharacterKey:n,queryParseKey:i,customFilter:s}),n&&a()}render(){const e=this.props,{dispatchInitLibraryPageSupportingLists:t,dispatchPopulateLibraryFirstCharacters:n}=e,i=((e,t)=>{var n={};for(var i in e)DRe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&CRe)for(var i of CRe(e))t.indexOf(i)<0&&PRe.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchInitLibraryPageSupportingLists","dispatchPopulateLibraryFirstCharacters"]);return y.createElement(ERe,wRe({},i))}}const ZRe=(0,YM.Z)((function(){return(0,de.P1)(((e,{librarySectionID:t})=>t),((e,{folderKey:t})=>t),((e,{listContext:t})=>t),((e,{selectedType:t})=>t),((e,{isMetaPopulated:t})=>t),((e,{isChannelsList:t})=>t),((e,{error:t})=>t),(e=>e.ui.libraryPage),(0,UM.Z)(),(0,de.P1)(ZLe("firstCharacter"),((e,{selectedType:t})=>t),((e,{libraryKey:t})=>t),((e,{activeFilters:t})=>t),((e,{activeSort:t})=>t),((e,t,n,i,s)=>{if(!n&&t&&t.sorts){const e=t.sorts.find((({active:e})=>!!e)),n={filters:i,sort:s};if(e&&e.firstCharacterKey)return IC([e.firstCharacterKey],n)}if(e)return e})),ZLe("query/parse"),QK,NLe(),(0,de.P1)(((e,{sourceDirectory:t})=>t),((e,{pivot:t})=>t),((e,t)=>t?t.title:e?e.title:null)),AK,dj.Z,xLe(),((e,t,n,i={},s,r,a,o,l,c,d,u,p={},m,h,g,y)=>{const{metadataList:v,directoryKey:f,firstCharacters:I,details:b,queryParse:M,isDetailsPopulated:S,detailsError:E}=o,D=function(e,t,n,i,s){if(s)return HF;if(i.match(/^\/playlists/))return Oj.zg;if(i.match(/^\/library\/sections\/\w+\/collections$/))return Oj.du;if(e&&t){if(n){const[e]=t;if(!e)return;const n=(0,Ho.getLeafType)(e.type);return n?(0,Ho.getLeafType)(n.id).typeString:Oj.t1}return(0,Ho.containsMetadataType)(e.type)?(0,Ho.getMetadataType)(e.type).typeString:e.type}}(i,u,t,f,r),C=function(e){if(e)return e.subtype}(i),P=_3(h,n,D,C,l),w=e||b&&b.librarySectionID,T=pa.wB(l.identifier,pa.Ll);return{librarySectionID:w,firstCharacterKey:c,queryParseKey:d,hasQueryParse:!!M,metadataListEntityID:v,providerIdentifier:l.identifier,providerMetricsIdentifier:l.metricsIdentifier,isProgramGuide:T,isDetailsPopulated:S||s,showLibrarySpinner:!(E||a||S&&s&&v),showLibraryNotFound:!!E&&404===E.status,libraryError:E||a,libraryDirectories:b&&b.directories,listTitle:m,listType:D,listSubtype:C,listContext:n,listStyle:P,selectedType:i,selectedSort:p,activeSelectionType:g.activeSelectionType,isLibraryRefreshing:y,firstCharacterCount:I?I.length:0}}))}),(function(e,t){return{onLibraryChange(n,i){let s;t.sourceDirectory&&(s=t.sourceDirectory.id),s||(s=i),e((0,Ut.changeQuickSearchSettings)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:n,directoryID:s}))},dispatchInitLibraryPageSupportingLists(t){e(uLe(t))},dispatchPopulateLibraryFirstCharacters(){e(gLe())},dispatchClearErrors(){e(cLe())}}}))(TRe);var NRe=Object.assign;const ARe=mC((function(e){return y.createElement(kG.Z,NRe({component:ZRe,initialSize:50},e))}),(function(e){const t=e.ui.libraryPage;return{providerEntityID:t.providerEntityID,directoryKey:t.directoryKey,libraryKey:t.libraryKey}}),(function(e,t){const{pivot:n={}}=t;e(lLe({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,libraryKey:n.libraryKey,directoryKey:t.directoryKey})),e(dLe({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,containerKey:t.containerKey})),n.libraryKey&&e(mLe())})),xRe=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.libraryPage),(0,de.P1)(((e,{folderKey:t})=>t),((e,{directoryKey:t})=>t),((e,{typeKey:t})=>t),((e,{activeType:t})=>t),((e,{activeFilters:t})=>t),((e,{activeSort:t})=>t),((e,{activeLimit:t})=>t),((e,{sourceDirectory:t})=>t),((e,t,n,i,s,r,a,o)=>{if(e)return e;const l={type:i,filters:s,sort:r,limit:a};return IC(o&&o.type===Ho.PHOTO||!n?n||t:n,l)})),(0,UM.Z)(),GK(),((e,t,n,i)=>{const{details:s,metadataList:r}=e;return{metadataListEntityID:r,librarySectionID:s&&s.librarySectionID,providerIdentifier:n.identifier,containerKey:t,selectedType:i}}))}),(function(e,t){return{onLibraryChange(n,i){let s;s=t.sourceDirectory?t.sourceDirectory.id:i,e((0,Ut.changeQuickSearchSettings)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:n,directoryID:s}))},dispatchInitLibraryPageMetadataList(t){e(dLe(t))},dispatchPopulateLibraryFirstCharacters(){e(gLe())}}}))(ARe);function LRe(e={}){return e.key===UZ.tk.SHARED_ITEMS?YC.Ap:YC.Y3}const ORe=(0,f.$j)((function(){return(0,de.P1)(((e,{sourceDirectory:t})=>t),((e,{directoryKey:t})=>t),((e,{pageType:t})=>t),Wh.Z,((e,t,n,i)=>({canShowV4DirectoryHubsPage:n===EM.km&&pa.wB(i.identifier,pa.uk)&&e.hubKey!==t})))}))((function(e){const{serverEntityID:t,providerEntityID:n,sourceDirectory:i,directoryKey:s,pivot:r,title:a,activeType:o,activeSubtype:l,activeFilters:c,activeFilterLabel:d,activeSort:u,activeLimit:p,pageType:m,customFilter:h,typeKey:g,folderKey:v,folderTitle:f,parentFolderKey:I,parentFolderTitle:b,playlistID:M,playlistTitle:S,canShowV4DirectoryHubsPage:E}=e;return E?y.createElement(qAe,{serverEntityID:t,providerEntityID:n,sourceDirectory:i,hubKey:s}):m===EM.km?y.createElement(xxe,{serverEntityID:t,providerEntityID:n,sourceDirectory:i,title:a,hubKey:s}):y.createElement(xRe,{serverEntityID:t,providerEntityID:n,sourceDirectory:i,directoryKey:_Ae(r,s),libraryKey:r&&r.libraryKey,pivot:r,listContext:LRe(r),activeType:o,activeSubtype:l,activeFilters:c,activeFilterLabel:d,activeSort:u,activeLimit:p,activeTitle:a,customFilter:h,typeKey:g,folderKey:v,folderTitle:f||i&&i.title,parentFolderKey:I,parentFolderTitle:b,playlistID:M,playlistTitle:S})}));var jRe=Object.prototype.hasOwnProperty,kRe=Object.getOwnPropertySymbols,RRe=Object.prototype.propertyIsEnumerable,zRe=Object.assign;function URe(e){const{serverEntityID:t,providerEntityID:n,machineIdentifier:i,sourceDirectoryID:s,sourceDirectory:r,pivot:a,directoryKey:o,params:l,shouldSaveParams:c}=e,d=((e,t)=>{var n={};for(var i in e)jRe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&kRe)for(var i of kRe(e))t.indexOf(i)<0&&RRe.call(e,i)&&(n[i]=e[i]);return n})(e,["serverEntityID","providerEntityID","machineIdentifier","sourceDirectoryID","sourceDirectory","pivot","directoryKey","params","shouldSaveParams"]);return s&&!o?y.createElement(xAe,{serverEntityID:t,providerEntityID:n,sourceDirectoryID:s}):y.createElement(FAe,{serverEntityID:t,providerEntityID:n,sourceDirectoryID:s,directoryKey:o,params:l,shouldSaveParams:c},y.createElement(ORe,zRe({serverEntityID:t,providerEntityID:n,sourceDirectory:r,pivot:a,directoryKey:o},d)))}URe.propTypes={serverEntityID:ls().string.isRequired,providerEntityID:ls().string.isRequired,machineIdentifier:ls().string,sourceDirectoryID:ls().string,sourceDirectory:ls().object,pivot:ls().object,directoryKey:ls().string,params:ls().object.isRequired,shouldSaveParams:ls().bool};const VRe=(0,f.$j)((function(){return(0,de.P1)(wC(),sj(),((e,t)=>({sourceDirectory:e,pivot:t})))}))((function(e){const{machineIdentifier:t,serverEntityID:n,providerEntityID:i}=e,s=URe(e);return t===KP.X?y.createElement($z,{providerEntityID:i},s):y.createElement(Jz.Z,{serverEntityID:n},s)}));var BRe=Object.assign;function FRe(){const e=(0,I.TH)(),t=(0,Ee.Z)(),{machineIdentifier:n,providerIdentifier:i}=Fz(),s=(0,kt.Z)(Vt.cN,n),r=(0,kt.Z)(Vt.MC,i,s),a=function(e){return{type:e.type,subtype:e.subtype,filters:e.filters,filterLabel:e.filterLabel,sort:e.sort,limit:e.limit,view:e.view,pageType:e.pageType,customFilter:e.customFilter,typeKey:e.typeKey,folderKey:e.folderKey,folderTitle:e.folderTitle,parentFolderKey:e.parentFolderKey,parentFolderTitle:e.parentFolderTitle,playlistID:e.playlistID,playlistTitle:e.playlistTitle}}(t),o=function(e){return{activeType:e.type,activeSubtype:e.subtype,activeFilters:(0,Ot.Z)(e.filters),activeFilterLabel:e.filterLabel,activeSort:e.sort,activeLimit:(0,DPe.Z)(e.limit),customFilter:(0,me.Z)(e.customFilter),view:e.view,pageType:e.pageType,typeKey:e.typeKey,folderKey:e.folderKey,folderTitle:e.folderTitle,parentFolderKey:e.parentFolderKey,parentFolderTitle:e.parentFolderTitle,playlistID:e.playlistID,playlistTitle:e.playlistTitle}}(a);return y.createElement(AC.Z,{metricsContext:(0,Coe.Z)(t.context)},t.key||t.source?y.createElement(VRe,BRe(BRe({key:(0,hD.Z)("SourcePageConnector",e.pathname,e.search),serverEntityID:s,providerEntityID:r,machineIdentifier:n,sourceDirectoryID:t.source,directoryKey:t.key,title:t.title},o),{params:a,shouldSaveParams:(0,pW.Z)(t.save)})):y.createElement(yA.Z,null))}const HRe="ui/accountSettingsPage/updateUserProfile",_Re="ui/accountSettingsPage/clearUpdateUserProfileError",QRe=(0,No.Z)(HRe),GRe=(0,No.Z)(_Re);function YRe(e){return e.get("ui").get("accountSettingsPage")}const WRe={[HRe](e,t){const n=function(e){return e.get("user").get("profile")}(e),i=YRe(e);i.set({isUpdatingUserProfile:!0,updateUserProfileError:null}),n.save(t,{type:"PUT",wait:!0}).done((()=>{n.set(t),i.set({isUpdatingUserProfile:!1,updateUserProfileError:null})})).fail((e=>{i.set({isUpdatingUserProfile:!1,updateUserProfileError:Bye(e)})}))},[_Re]:e=>{YRe(e).set("updateUserProfileError",null)}};var KRe=Object.prototype.hasOwnProperty,qRe=Object.getOwnPropertySymbols,$Re=Object.prototype.propertyIsEnumerable,JRe=Object.assign;const XRe={0:{color:"#ff5533",translateFn:()=>(0,De.Z)("Too weak")},1:{color:"#ee8833",translateFn:()=>(0,De.Z)("Very weak")},2:{color:"#eebb00",translateFn:()=>(0,De.Z)("Somewhat weak")},3:{color:"#bbbb33",translateFn:()=>(0,De.Z)("Somewhat Strong")},4:{color:"#66bb55",translateFn:()=>(0,De.Z)("Very Strong")}},eze=Cie((0,vee.Z)((function(e){var{formGroupClassName:t,formLabelClassName:n,formInputClassName:i,name:s,value:r,labelText:a,showErrors:o,errors:l,zxcvbn:c}=e,d=((e,t)=>{var n={};for(var i in e)KRe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&qRe)for(var i of qRe(e))t.indexOf(i)<0&&$Re.call(e,i)&&(n[i]=e[i]);return n})(e,["formGroupClassName","formLabelClassName","formInputClassName","name","value","labelText","showErrors","errors","zxcvbn"]);const u=c&&""!==r&&!l.length?XRe[c(r).score]:null,p=E().last(l);return y.createElement(hee.Z,{className:t},y.createElement(yee.Z,{hasError:o,name:s,className:n},a,u&&!o?y.createElement("span",null," ","—"," ",y.createElement("span",{style:{color:u.color}},u.translateFn())):null,o?` — ${p}`:null),y.createElement(l1.Z,JRe({className:i,name:s,type:"password",value:r,hasError:o},d)))})),{zxcvbn:()=>n.e(322).then(n.t.bind(n,21322,23)).then((e=>e.default))});eze.defaultProps={showErrors:!1};const tze=eze;function nze({children:e,className:t="FormSectionHeader-sectionHeader-7uSWld FormLabel-label-3iI4Hz"}){return y.createElement("div",{className:t},e)}const ize=(0,de.P1)(Yr,(e=>e.twoFactorAuth)),sze={secret:{secret:void 0,provisioningUri:void 0,isPending:!1,isPopulated:!1,error:null},toggle:{isPending:!1,isPopulated:!1,error:null},recoveryCodes:{isPending:!1,isPopulated:!1,error:null},codes:[]},rze=(0,Fr.oM)({name:"twoFactorAuth",initialState:sze,reducers:{reset:()=>sze,createSecretRequested(e,t){(0,Vm.er)(e.secret)},createSecretSucceeded(e,{payload:t}){(0,Vm.vv)(e.secret),e.secret.provisioningUri=t.provisioningUri,e.secret.secret=t.secret},createSecretFailed(e,{payload:t}){(0,Vm.VQ)(e.secret,t.error)},toggleRequested(e,t){(0,Vm.er)(e.toggle)},toggleSucceeded(e,{payload:t}){(0,Vm.vv)(e.toggle),t.enabled&&(e.codes=t.codes)},toggleFailed(e,{payload:t}){(0,Vm.VQ)(e.toggle,t.error)},generateRecoveryCodesRequested(e,t){(0,Vm.er)(e.recoveryCodes)},generateRecoveryCodesSucceeded(e,{payload:t}){(0,Vm.vv)(e.recoveryCodes),e.codes=t.codes},generateRecoveryCodesFailed(e,{payload:t}){(0,Vm.VQ)(e.recoveryCodes,t.error)}}});function aze(e){var t;if(null==(t=null==e?void 0:e.data)?void 0:t.errors){const t=Bye(e.data.errors[0]);if(t)return t}return(0,De.Z)("Something went wrong. Please try again in a few minutes.")}function oze({isOpen:e,onModalClose:t}){var n;const i=(0,f.I0)(),s=(0,f.v9)(ize),r=(0,f.v9)($e).twoFactorEnabled,a=s.toggle.error,o=(0,y.useCallback)((()=>{i(rze.actions.reset()),t()}),[i,t]);(0,y.useEffect)((()=>{r||o()}),[r,o]);const{register:l,handleSubmit:c,errors:d}=(0,Nl.cI)(),u="required"===(null==(n=d.verificationCode)?void 0:n.type),p=(0,y.useCallback)((({verificationCode:e})=>{i(rze.actions.toggleRequested({enabled:!1,verificationCode:e}))}),[i]);return y.createElement(lc,{isOpen:e,onModalClose:o},y.createElement(dc,{onModalClose:o},y.createElement(mc,null,(0,De.Z)("Disable two-factor authentication")),a?y.createElement(uc,{message:aze(a)}):null,y.createElement("form",{className:"DisableTwoFactorAuthModal-modalContent-1tPIhe ModalContent-modalContent-3nQys3",onSubmit:c(p)},y.createElement(Ed,{innerClassName:"DisableTwoFactorAuthModal-innerModalBody-1gHWjF ModalBody-innerModalBody-9jyEBh"},y.createElement("div",{className:"DisableTwoFactorAuthModal-inputGroup-1Acz5d"},y.createElement(Vf,{name:"verificationCode",hasError:u},(0,De.Z)("Verification code")),y.createElement(Hl,{name:"verificationCode",defaultValue:"",autoComplete:"off",hasFocusOnMount:!0,hasError:u,ref:l({required:!0})}))),y.createElement(pc,null,y.createElement(Dd,null,y.createElement(zn,{onPress:o},(0,De.Z)("Cancel")),y.createElement(kl,{isSpinning:s.toggle.isPending,type:"submit",kind:Dn.Primary},(0,De.Z)("Disable")))))))}oze.propTypes={isOpen:ls().bool.isRequired,onModalClose:ls().func.isRequired};var lze=n(45859);const cze="RecoveryCodesModalContent-info-1AQW_D";function dze({showEnabledMessage:e,codes:t,onAcknowledgeCodes:n}){const i=(0,y.useCallback)((()=>{lze.writeText(t.join("\n"))}),[t]);return y.createElement(y.Fragment,null,y.createElement(Ed,{innerClassName:"RecoveryCodesModalContent-innerModalBody-eatGuH ModalBody-innerModalBody-9jyEBh"},e?y.createElement("span",{className:we()(cze,"RecoveryCodesModalContent-strong-15xyIR")},(0,De.Z)("Two-factor authentication is enabled!")):null,y.createElement("span",{className:cze},(0,De.Z)("Use recovery codes when you are unable to generate a verification code via your authenticator app. Store these recovery codes safely.")),y.createElement("div",{className:"RecoveryCodesModalContent-codes-2AJyTg"},t.map((e=>y.createElement("div",{key:e,className:"RecoveryCodesModalContent-code-2QE7B4"},e)))),y.createElement(zn,{onPress:i},(0,De.Z)("Copy to clipboard"))),y.createElement(pc,null,y.createElement(Dd,null,y.createElement(zn,{kind:Dn.Primary,onPress:n},(0,De.Z)("Done")))))}const uze="EnableTwoFactorAuthModal-modalContent-6yxNPJ ModalContent-modalContent-3nQys3";function pze({onConfirmed:e,onClose:t}){var n;const i=(0,f.I0)(),s=(0,f.v9)(ize),r=s.secret.isPopulated,a=s.secret.error,{register:o,handleSubmit:l,errors:c}=(0,Nl.cI)(),d="required"===(null==(n=c.currentPassword)?void 0:n.type);(0,y.useEffect)((()=>{r&&e()}),[r,e]);const u=(0,y.useCallback)((({currentPassword:e})=>{i(rze.actions.createSecretRequested({password:e}))}),[i]);return y.createElement(y.Fragment,null,a?y.createElement(uc,{message:aze(a)}):null,y.createElement("form",{className:uze,onSubmit:l(u)},y.createElement(Ed,{innerClassName:"EnableTwoFactorAuthModal-innerModalBody-18buA7 ModalBody-innerModalBody-9jyEBh"},y.createElement("div",{className:"EnableTwoFactorAuthModal-inputGroup-1JbvUw"},y.createElement(Vf,{name:"currentPassword",hasError:d},(0,De.Z)("Password")),y.createElement(Hl,{type:"password",name:"currentPassword",defaultValue:"",hasFocusOnMount:!0,hasError:d,ref:o({required:!0})}))),y.createElement(pc,null,y.createElement(Dd,null,y.createElement(zn,{onPress:t},(0,De.Z)("Cancel")),y.createElement(kl,{isSpinning:s.secret.isPending,type:"submit",kind:Dn.Primary},(0,De.Z)("Continue"))))))}const mze=y.lazy((()=>n.e(361).then(n.t.bind(n,79361,23))));function hze({onConfirmed:e,onClose:t}){var n;const i=(0,f.I0)(),s=(0,f.v9)(ize),r=s.secret.provisioningUri,a=s.secret.secret,o=s.toggle.isPopulated,l=s.toggle.error;(0,y.useEffect)((()=>{o&&e()}),[o,e]);const{register:c,handleSubmit:d,errors:u}=(0,Nl.cI)(),p="required"===(null==(n=u.verificationCode)?void 0:n.type),m=(0,y.useCallback)((({verificationCode:e})=>{i(rze.actions.toggleRequested({enabled:!0,verificationCode:e}))}),[i]);return y.createElement(y.Fragment,null,l?y.createElement(uc,{message:aze(l)}):null,y.createElement("form",{className:uze,onSubmit:d(m)},y.createElement(Ed,null,y.createElement("div",{className:"EnableTwoFactorAuthModal-secretContent-1yutW-"},y.createElement("div",{className:"EnableTwoFactorAuthModal-qrCodeContent-1STjMP"},y.createElement(y.Suspense,{fallback:y.createElement("div",{className:"EnableTwoFactorAuthModal-qrCodePlaceholder-W9W3tq"})},r?y.createElement(mze,{value:r,size:200,includeMargin:!0}):null),a?y.createElement("div",{className:"EnableTwoFactorAuthModal-textCode-reLUOS"},y.createElement(Vf,null,(0,De.Z)("Text code")),y.createElement("div",null,a)):null),y.createElement("div",{className:"EnableTwoFactorAuthModal-verificationCodeContent-e_8CdE"},y.createElement("div",null,(0,De.Z)("Scan the image with the two-factor authentication app on your phone and enter the verification code. If you can't use a barcode use the text code instead.")),y.createElement("div",{className:"EnableTwoFactorAuthModal-verificationCodeInput-2XKNnz"},y.createElement(Vf,{name:"verificationCode",hasError:p},(0,De.Z)("Verification code")),y.createElement(Hl,{name:"verificationCode",defaultValue:"",autoComplete:"off",hasFocusOnMount:!0,hasError:p,ref:c({required:!0})}))))),y.createElement(pc,null,y.createElement(Dd,null,y.createElement(zn,{onPress:t},(0,De.Z)("Cancel")),y.createElement(kl,{isSpinning:s.toggle.isPending,type:"submit",kind:Dn.Primary},(0,De.Z)("Continue"))))))}var gze,yze;function vze({isOpen:e,onEnableTwoFactorAuthComplete:t,onModalClose:n}){const[i,s]=(0,y.useState)(gze.Password),r=(0,f.I0)(),a=(0,f.v9)(ize);(0,y.useEffect)((()=>{s(gze.Password)}),[e]);const o=(0,y.useCallback)((()=>{r(rze.actions.reset()),n()}),[r,n]),l=(0,y.useCallback)((()=>{s(gze.Secret)}),[s]),c=(0,y.useCallback)((()=>{s(gze.Codes)}),[s]),d=(0,y.useCallback)((()=>{t(),o()}),[o,t]);return y.createElement(lc,{isOpen:e,onModalClose:o},y.createElement(dc,{onModalClose:o},y.createElement(mc,null,(0,De.Z)("Enable two-factor authentication")),i===gze.Password?y.createElement(pze,{onClose:o,onConfirmed:l}):null,i===gze.Secret?y.createElement(hze,{onClose:o,onConfirmed:c}):null,i===gze.Codes?y.createElement(dze,{showEnabledMessage:!0,codes:a.codes,onAcknowledgeCodes:d}):null))}(yze=gze||(gze={})).Password="Password",yze.Secret="Secret",yze.Codes="codes";const fze="GenerateRecoveryCodesModal-inputGroup-2jKg2z";function Ize({isOpen:e,onModalClose:t}){var n,i;const s=(0,f.I0)(),r=(0,f.v9)(ize),a=r.recoveryCodes.error,o=(0,y.useCallback)((()=>{s(rze.actions.reset()),t()}),[s,t]),{register:l,handleSubmit:c,errors:d}=(0,Nl.cI)(),u="required"===(null==(n=d.currentPassword)?void 0:n.type),p="required"===(null==(i=d.verificationCode)?void 0:i.type),m=(0,y.useCallback)((({currentPassword:e,verificationCode:t})=>{s(rze.actions.generateRecoveryCodesRequested({password:e,verificationCode:t}))}),[s]);return y.createElement(lc,{isOpen:e,onModalClose:o},y.createElement(dc,{onModalClose:o},y.createElement(mc,null,(0,De.Z)("Generate new recovery codes")),a?y.createElement(uc,{message:aze(a)}):null,r.recoveryCodes.isPopulated?y.createElement(dze,{codes:r.codes,onAcknowledgeCodes:o}):y.createElement("form",{className:"GenerateRecoveryCodesModal-modalContent-3T8bzi ModalContent-modalContent-3nQys3",onSubmit:c(m)},y.createElement(Ed,{innerClassName:"GenerateRecoveryCodesModal-innerModalBody-2g9hXz ModalBody-innerModalBody-9jyEBh"},y.createElement("div",{className:fze},y.createElement(Vf,{name:"currentPassword",hasError:u},(0,De.Z)("Password")),y.createElement(Hl,{type:"password",name:"currentPassword",defaultValue:"",hasFocusOnMount:!0,hasError:u,ref:l({required:!0})})),y.createElement("div",{className:fze},y.createElement(Vf,{name:"verificationCode",hasError:p},(0,De.Z)("Verification code")),y.createElement(Hl,{name:"verificationCode",defaultValue:"",autoComplete:"off",hasError:p,ref:l({required:!0})}))),y.createElement(pc,null,y.createElement(Dd,null,y.createElement(zn,{onPress:o},(0,De.Z)("Cancel")),y.createElement(kl,{isSpinning:r.recoveryCodes.isPending,type:"submit",kind:Dn.Primary},(0,De.Z)("Generate codes")))))))}const bze="TwoFactorAuthSection-sectionWrapper-OhOrPv SettingsFormSection-section-1E12y7",Mze="TwoFactorAuthSection-description-TXkuUh",Sze="TwoFactorAuthSection-action-zuA4pz";function Eze({onEnableTwoFactorAuthComplete:e}){const t=(0,f.v9)($e),n=(0,Dl.Z)(),i=(0,Dl.Z)(),s=(0,Dl.Z)();return y.createElement(y.Fragment,null,y.createElement(vze,{isOpen:n.isOpen,onEnableTwoFactorAuthComplete:e,onModalClose:n.onClose}),y.createElement(oze,{isOpen:i.isOpen,onModalClose:i.onClose}),y.createElement(Ize,{isOpen:s.isOpen,onModalClose:s.onClose}),y.createElement(nze,null,(0,De.Z)("Two-factor authentication")),t.twoFactorEnabled?y.createElement(y.Fragment,null,y.createElement("div",{className:bze},y.createElement("div",{className:Mze},(0,De.Z)("To disable two-factor authentication you will need your authenticator app or recovery codes.")),y.createElement("div",{className:Sze},y.createElement(zn,{kind:Dn.Primary,size:We.Medium,onPress:i.onOpen},(0,De.Z)("Disable")))),y.createElement("div",{className:bze},y.createElement("div",{className:Mze},(0,De.Z)("Recovery codes are used in place of generated two-factor authentication codes. Treat them as carefully as you treat your password.")),y.createElement("div",{className:Sze},y.createElement(zn,{kind:Dn.Primary,size:We.Medium,onPress:s.onOpen},(0,De.Z)("Generate new recovery codes"))))):y.createElement("div",{className:bze},y.createElement("div",{className:Mze},(0,De.Z)("Use an authenticator application on your phone to get two-factor authentication codes when prompted.")),y.createElement("div",{className:Sze},y.createElement(zn,{kind:Dn.Primary,size:We.Medium,onPress:n.onOpen},(0,De.Z)("Enable")))))}var Dze=n(21054);const Cze="AccountSummary-badgeContainer-1i-AEK",Pze="AccountSummary-textBadge-SEgM0y",wze={path:"/subscription",title:()=>(0,De.Z)("Subscriptions")},Tze={path:"/users/payments",title:()=>(0,De.Z)("Payments")},Zze={path:Np.Zs,title:()=>(0,De.Z)("Other Services")};class Nze extends y.Component{constructor(e,t){super(e,t),this.onPlexPassPress=()=>{this.setState({isPlexPassModalOpen:!0})},this.onPlexPassModalClose=()=>{this.setState({isPlexPassModalOpen:!1})},this.state={isPlexPassModalOpen:!1}}render(){const{user:e}=this.props,{isPlexPassModalOpen:t}=this.state,n=gve()?"_blank":"_self",i=function(e){return e.isEmployee?y.createElement("span",{className:Pze},"Employee"):e.isNinja&&!e.isEmployee?y.createElement("span",{className:Pze},"Ninja"):null}(e);return e.hasPlexSubscription||e.canGoPremium||!e.restricted?y.createElement(Vee,null,y.createElement("div",{className:"AccountSummary-container-19cOiE"},y.createElement("div",null,e.hasPlexSubscription?y.createElement("div",null,y.createElement("div",{className:Cze},e.hasPlexPass?y.createElement("img",{className:"AccountSummary-plexPassBadge-2o8zJK",src:Dze}):null,i),y.createElement("div",null,e.subscriptionDescription)):null,e.canGoPremium?y.createElement("div",null,i?y.createElement("div",{className:Cze},i):null,y.createElement($h.Z,{kind:fo._8,onPress:this.onPlexPassPress},(0,De.Z)("Go Premium")),y.createElement(ld.Z,{origin:poe.yV,metricsProperties:{context:et.yV},isOpen:t,onModalClose:this.onPlexPassModalClose})):null),e.restricted?null:y.createElement("div",{className:"AccountSummary-actionLinksContainer-ih4Hta"},y.createElement(Fee,{className:"AccountSummary-actionLinks-3yLggy SettingsFormSectionActionLinks-actionLinks-27IFpO"},(s=e.hasPlexSubscription,s?[wze,Tze,Zze]:[Tze,Zze]).map((({path:e,title:t},i)=>y.createElement(y.Fragment,{key:i},y.createElement(tr.Z,{className:"AccountSummary-linkSeparator-2188C8",separator:"·"}),y.createElement(AM.Z,{kind:fo._8,to:C.Z.join(["https://plex.tv",e]),target:n},t())))))))):null;var s}}const Aze=Nze;function xze(e,t){const n=e.find((e=>e.hasOwnProperty(t)));return n?n[t]:""}const Lze=function(e){const{userProfile:t,languageOptions:n,autoSelectSubtitleOptions:i,subtitleAccessibilityOptions:s,subtitleForcedOptions:r}=e,{autoSelectAudio:a,defaultAudioLanguage:o,defaultSubtitleLanguage:l,autoSelectSubtitle:c,defaultSubtitleAccessibility:d,defaultSubtitleForced:u}=t,p=[],m=xze(n,o);""!==o&&m&&p.push((0,De.Z)("{audioLanguage} audio",{audioLanguage:m}));const h=xze(n,l);let g="";""!==l&&h&&(g=(0,De.Z)("{subtitleLanguage} subtitles",{subtitleLanguage:h}));const v=xze(i,c).toLowerCase();let f;g&&v?f=g+" "+v:!g&&v?f=(0,De.Z)("Subtitles")+" "+v:g&&!v&&(f=g),f&&p.push(f);const I=a?p.join(", "):(0,De.Z)("Manually Select"),b=[xze(s,d),xze(r,u)].join(", ");return y.createElement("div",null,I?y.createElement("div",null,(0,De.Z)("Track selection")," ",y.createElement(tr.Z,null)," ",I):null,y.createElement("div",null,(0,De.Z)("Searches")," ",y.createElement(tr.Z,null)," ",b))};var Oze=Object.prototype.hasOwnProperty,jze=Object.getOwnPropertySymbols,kze=Object.prototype.propertyIsEnumerable,Rze=Object.assign;class zze extends y.Component{constructor(e,t){super(e,t),this.onSubmit=e=>{e.autoSelectSubtitle&&(e.autoSelectSubtitle=parseInt(e.autoSelectSubtitle,10)),e.defaultSubtitleAccessibility&&(e.defaultSubtitleAccessibility=parseInt(e.defaultSubtitleAccessibility,10)),e.defaultSubtitleForced&&(e.defaultSubtitleForced=parseInt(e.defaultSubtitleForced,10)),e.autoSelectAudio||(e.autoSelectSubtitle=0),this.props.onSubmit(e)},this.onFormChange=({autoSelectAudio:e})=>{e.value!==this.state.isAutoSelectAudio&&this.setState({isAutoSelectAudio:e.value})},this.state={isAutoSelectAudio:e.userProfile.autoSelectAudio},this._autoSelectSubtitleOptions=[{0:(0,De.Z)("Manually selected")},{1:(0,De.Z)("Shown with foreign audio")},{2:(0,De.Z)("Always enabled")}],this._subtitleAccessibilityOptions=[{0:(0,De.Z)("Prefer non-SDH subtitles")},{1:(0,De.Z)("Prefer SDH subtitles")},{2:(0,De.Z)("Only show SDH subtitles")},{3:(0,De.Z)("Only show non-SDH subtitles")}],this._subtitleForcedOptions=[{0:(0,De.Z)("Prefer non-forced subtitles")},{1:(0,De.Z)("Prefer forced subtitles")},{2:(0,De.Z)("Only show forced subtitles")},{3:(0,De.Z)("Only show non-forced subtitles")}],this._languageOptions=[{"":(0,De.Z)("Select Language")},...c1.MP.filter((e=>2===e.length&&-1===c1.WX.indexOf(e))).map((e=>({[e]:c1.ZP[e]})))]}componentWillReceiveProps(e){e.isOpen!==this.props.isOpen&&this.setState({isAutoSelectAudio:e.userProfile.autoSelectAudio})}render(){const e=this.props,{userProfile:t}=e,n=((e,t)=>{var n={};for(var i in e)Oze.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&jze)for(var i of jze(e))t.indexOf(i)<0&&kze.call(e,i)&&(n[i]=e[i]);return n})(e,["userProfile"]),{isAutoSelectAudio:i}=this.state;return y.createElement(Wee,Rze(Rze({},n),{title:(0,De.Z)("Audio & Subtitle Settings"),closedNode:y.createElement(Lze,{userProfile:t,languageOptions:this._languageOptions,autoSelectSubtitleOptions:this._autoSelectSubtitleOptions,subtitleAccessibilityOptions:this._subtitleAccessibilityOptions,subtitleForcedOptions:this._subtitleForcedOptions}),onFormChange:this.onFormChange,onSubmit:this.onSubmit}),y.createElement(yee.Z,null,(0,De.Z)("Audio & Subtitle Settings")),y.createElement("p",{className:"AudioSubtitleSettingsFormSection-description-1X2Np2"},(0,De.Z)("These settings determine how Plex will try to select audio and subtitle tracks when playing media in a Plex app while using your account.")),y.createElement("p",null,y.createElement(AM.Z,{kind:fo._8,to:Np.yl,target:"_blank"},(0,De.Z)("Learn more"))),y.createElement(oee.Z,{name:"autoSelectAudio",checkboxText:(0,De.Z)("Automatically select audio and subtitle tracks"),initialValue:t.autoSelectAudio}),i?y.createElement(lee.Z,{labelText:(0,De.Z)("Preferred audio language"),name:"defaultAudioLanguage",initialValue:t.defaultAudioLanguage,values:this._languageOptions}):null,i?y.createElement(lee.Z,{labelText:(0,De.Z)("Preferred subtitle language"),name:"defaultSubtitleLanguage",initialValue:t.defaultSubtitleLanguage,values:this._languageOptions}):null,i?y.createElement(lee.Z,{labelText:(0,De.Z)("Auto-select subtitle mode"),name:"autoSelectSubtitle",initialValue:t.autoSelectSubtitle,values:this._autoSelectSubtitleOptions}):null,y.createElement(lee.Z,{labelText:(0,De.Z)("Subtitles for the Deaf or Hard-of-Hearing (SDH) Searches"),name:"defaultSubtitleAccessibility",initialValue:t.defaultSubtitleAccessibility,values:this._subtitleAccessibilityOptions}),y.createElement(lee.Z,{labelText:(0,De.Z)("Forced Subtitle Searches"),name:"defaultSubtitleForced",initialValue:t.defaultSubtitleForced,values:this._subtitleForcedOptions}))}}const Uze=zze,Vze=(0,de.P1)((0,Qt.Z)("profile"),(e=>({userProfile:e}))),Bze={onSubmit:QRe},Fze=(0,f.$j)(Vze,Bze)(Uze);var Hze=n(16954);const _ze="oauth/fetchOauthProviders",Qze="oauth/unlinkOauthProvider",Gze=(0,No.Z)(_ze),Yze=(0,No.Z)(Qze),Wze={[_ze]:(0,qM.Z)({key:"oauthProviders",getModel:e=>e.get("cloudServer").get("desktop")}),[Qze](e,t,n){const i=e.get("cloudServer"),s=i.get("desktop").get("oauthProviders").findWhere(t);s.set("isUnlinking",!0);const r=i.populate().then((()=>g().ajax(i.getXHROptions(t.url,{type:"DELETE"}))));(0,Hze.Z)(r,1e3).done((()=>{s.set("unlinkError",null)})).fail((e=>{s.set("unlinkError",e)})).always((()=>{n((0,tt.bc)()),n(Gze()),s.set("isUnlinking",!1)}))}},Kze=(0,de.P1)(ge,(e=>{if(!e)return{};const t=e.desktop;return{oauthProviders:t.oauthProviders.filter((e=>e.usage&&e.usage.federatedAuth)),isOauthProvidersPending:t.isOauthProvidersPending,isOauthProvidersPopulated:t.isOauthProvidersPopulated,oauthProvidersError:t.oauthProvidersError}})),qze=function(e,t){const n=Qve(window.location.href,t);return C.Z.join([e],{origin:n})},$ze={apple:"LinkedAccount-buttonApple-3Pe9PI LinkedAccount-button-1mgqse",facebook:"LinkedAccount-buttonFacebook-2AJMnq LinkedAccount-button-1mgqse",google:"LinkedAccount-buttonGoogle-1isa66 LinkedAccount-button-1mgqse"};class Jze extends y.Component{constructor(e,t){super(e,t),this.onUnlinkPress=e=>{!this.props.hasPassword&&this.props.isLastLinkedAccount?this.setState({isUnlinkOauthProviderModalOpen:!0}):this.props.onCreatePassword(e)},this.onUnlinkCancel=()=>{this.setState({isUnlinkOauthProviderModalOpen:!1})},this.state={isUnlinkOauthProviderModalOpen:!1}}componentWillReceiveProps(e){this.props.isUnlinking&&!e.isUnlinking&&this.setState({isUnlinkOauthProviderModalOpen:!1})}render(){const{to:e,isPollClient:t,isBusy:n,code:i,providerID:s,metricsProperties:r,isDisabled:a,isLastLinkedAccount:o,hasPassword:l,label:c,linked:d,onUnlink:u,onLink:p,onCreatePassword:m,onStillTherePress:h}=this.props,{isUnlinkOauthProviderModalOpen:g}=this.state,v=d,f=!d&&!a,I=!(f||n||i||v),b=v||f||I,M=!l&&o,S=M?this.onUnlinkPress:u;return y.createElement("div",{className:d?"LinkedAccount-rowLinked-T9J4EG LinkedAccount-row-1BNFB5":"LinkedAccount-rowUnlinked-3PJEzO LinkedAccount-row-1BNFB5"},y.createElement($h.Z,{className:$ze[s],isDisabled:a,to:f?e:void 0,target:f&&t?"_blank":void 0,onPress:f?p:S}),d?(0,De.Z)("Your {oauthProvider} account is linked",{oauthProvider:c}):(0,De.Z)("Your {oauthProvider} account is not linked",{oauthProvider:c}),b?y.createElement("span",{className:"LinkedAccount-separator-2_CYeV"},"—"):null,v?y.createElement(AM.Z,{kind:fo._8,isDisabled:a,onPress:S},(0,De.Z)("Unlink")):null,M?y.createElement(nt.Z,{isConfirmButtonSpinning:a,isCancelButtonDisabled:a,isOpen:g,metricsPage:et._g,metricsProperties:r,title:(0,De.Z)("Unlink {oauthProvider}",{oauthProvider:c}),message:(0,De.Z)("To unlink, first set a password to use when signing in"),confirmLabel:(0,De.Z)("Set Password"),kind:fo.T,onConfirm:m,onCancel:this.onUnlinkCancel}):null,f?y.createElement(AM.Z,{kind:fo._8,to:e,target:t?"_blank":void 0,onPress:p},(0,De.Z)("Link")):null,I?y.createElement(ax.Z,{message:(0,De.Z)("Account linking timed out. {openLink}Try again?{closeLink}"),tags:[{open:"openLink",close:"closeLink",component:AM.Z,kind:fo._8,onPress:h}]}):null)}}const Xze=Jze;var eUe=Object.prototype.hasOwnProperty,tUe=Object.getOwnPropertySymbols,nUe=Object.prototype.propertyIsEnumerable,iUe=Object.assign,sUe=(e,t)=>{var n={};for(var i in e)eUe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&tUe)for(var i of tUe(e))t.indexOf(i)<0&&nUe.call(e,i)&&(n[i]=e[i]);return n};const rUe={dispatchUnlinkOauthProvider:Yze,dispatchPreloadPIN:Ave};class aUe extends y.Component{constructor(){super(...arguments),this.onUnlink=()=>{this.props.dispatchUnlinkOauthProvider({url:this.props.originalUrl})},this.onStillTherePress=()=>{this.props.dispatchPreloadPIN()}}render(){const e=this.props,{dispatchUnlinkOauthProvider:t}=e,n=sUe(e,["dispatchUnlinkOauthProvider"]);return y.createElement(ife,iUe(iUe({component:Xze},n),{onUnlink:this.onUnlink,onStillTherePress:this.onStillTherePress}))}}const oUe=(0,f.$j)((function(){const e=(0,de.P1)(((e,{url:t})=>t),Kze,((e,t)=>t.oauthProviders.find((t=>t.url===e))));return(0,de.P1)(((e,{url:t})=>({url:t})),((e,{returnUrl:t})=>t),(0,Qt.Z)("email"),(0,Qt.Z)("authToken"),e,zye,((e,t,n,i,s,r)=>{const{authToken:a}=r,o=sUe(r,["authToken"]),l=!s.linked&&(s.isUnlinking||yve()&&!r.code||r.isBusy);return iUe(iUe(iUe({},s),{isPollClient:yve(),userAuthToken:i,email:n,providerID:s.authName,originalUrl:s.url,url:qze(s.url,t),metricsProperties:e,isDisabled:l}),o)}))}),rUe)(aUe),lUe={dispatchFetchOauthProviders:Gze,dispatchPreloadPIN:Ave,dispatchStopPolling:Ove};class cUe extends y.Component{componentDidMount(){this.props.dispatchPreloadPIN()}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchFetchOauthProviders()}componentWillUnmount(){this.props.dispatchStopPolling()}render(){return null}}cUe.propTypes={isBusy:ls().bool.isRequired,code:ls().string,pinID:ls().number,authToken:ls().string,dispatchFetchOauthProviders:ls().func.isRequired,dispatchPreloadPIN:ls().func.isRequired,dispatchStopPolling:ls().func.isRequired};const dUe=(0,f.$j)(zye,lUe)(cUe),uUe="LinkedAccounts-dim-2fVIfp";var pUe=Object.prototype.hasOwnProperty,mUe=Object.getOwnPropertySymbols,hUe=Object.prototype.propertyIsEnumerable,gUe=Object.assign;const yUe=function(e){const{isPollClient:t,returnUrl:n,hasPassword:i,linkedOauthProviders:s,isOauthProvidersPending:r,isOauthProvidersPopulated:a,oauthProvidersError:o,lastLinkedAuthProviderID:l,onCreatePassword:c,onLink:d}=e,u=((e,t)=>{var n={};for(var i in e)pUe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&mUe)for(var i of mUe(e))t.indexOf(i)<0&&hUe.call(e,i)&&(n[i]=e[i]);return n})(e,["isPollClient","returnUrl","hasPassword","linkedOauthProviders","isOauthProvidersPending","isOauthProvidersPopulated","oauthProvidersError","lastLinkedAuthProviderID","onCreatePassword","onLink"]);let p;return p=r?y.createElement("span",{className:uUe},(0,De.Z)("Loading…")):o?y.createElement("span",{className:uUe},(0,De.Z)("Error")):s||y.createElement("span",{className:uUe},(0,De.Z)("None")),y.createElement(Wee,gUe(gUe({},u),{closedNode:p,showButton:!1}),y.createElement(yee.Z,null,(0,De.Z)("Linked Accounts")),y.createElement("div",{className:"LinkedAccounts-description-FtuInj"},(0,De.Z)("You can link your Google, Facebook, or Apple account to simplify signing in to Plex."),t?y.createElement(dUe,null):null),a&&e.oauthProviders?e.oauthProviders.map((e=>y.createElement(oUe,{key:e.url,isUnlinking:r,hasPassword:i,isLastLinkedAccount:l===e.authName,providerID:e.providerID,url:e.url,returnUrl:n,onCreatePassword:c,onLink:d}))):null)};var vUe=Object.prototype.hasOwnProperty,fUe=Object.getOwnPropertySymbols,IUe=Object.prototype.propertyIsEnumerable,bUe=Object.assign;const MUe=(0,de.P1)(Kze,zye,((e,t)=>{const n=e.oauthProviders.filter((e=>e.linked)),i=1===n.length?n[0].authName:null;return bUe(bUe({linkedOauthProviders:n.map((e=>e.label)).join(", "),lastLinkedAuthProviderID:i,returnUrl:window.location.href,isPollClient:yve()},e),t)})),SUe={dispatchFetchOauthProviders:Gze,dispatchBeginPolling:Lve};class EUe extends y.Component{constructor(){super(...arguments),this.onLink=()=>{this.props.isPollClient&&this.props.dispatchBeginPolling({pinID:this.props.pinID})}}componentDidMount(){this.props.dispatchFetchOauthProviders()}render(){const e=this.props,{dispatchFetchOauthProviders:t}=e,n=((e,t)=>{var n={};for(var i in e)vUe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&fUe)for(var i of fUe(e))t.indexOf(i)<0&&IUe.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchFetchOauthProviders"]);return y.createElement(yUe,bUe({onLink:this.onLink},n))}}const DUe=(0,f.$j)(MUe,SUe)(EUe);var CUe=Object.assign;class PUe extends y.Component{constructor(e,t){super(e,t),this.createToggleHandler=e=>t=>{null==t||t.preventDefault();const n=this.state[e];this.props.updateUserError&&this.props.onErrorDismiss(),this.setState(E().mapObject(this.state,((t,i)=>i===e&&!n)))},this.getUserFormSectionProps=(e,t)=>{const n=this.state[t];return{title:e,onTogglePress:this.createToggleHandler(t),isOpen:n,onSubmit:this.props.onSubmit,isUpdating:this.props.isUpdatingUser,errorMessage:this.props.updateUserError}},this.onCreatePassword=e=>{this.createToggleHandler("isPasswordOpen")(e)},this.onEnableTwoFactorAuthComplete=e=>{this.createToggleHandler("isTwoFactorAuthenticationOpen")(e)},this.onToggleAudioSubtitlesFormSection=e=>{this.createToggleHandler("isSelectAudioOpen")(e)},this.onAccountEmailSubmit=e=>{const t=this.props.user;t.username===t.email?this.props.onSubmit(CUe(CUe({},e),{username:e.email})):this.props.onSubmit(e)},this.state={isUsernameOpen:!1,isEmailOpen:!1,isPasswordOpen:!1,isTwoFactorAuthenticationOpen:!1,isLinkedAccountsOpen:!1,isLocaleOpen:!1,isPhotoOpen:!1,isNewsletterOpen:!1,isExperimentalFeaturesOpen:!1,isSelectAudioOpen:!1}}componentWillReceiveProps(e){const t=this.props.isUpdatingUser&&!e.isUpdatingUser&&!e.updateUserError,n=this.state.isTwoFactorAuthenticationOpen&&this.props.user.twoFactorEnabled&&!e.user.twoFactorEnabled;(t||n)&&this.setState(E().mapObject(this.state,(()=>!1)))}render(){const{serverEntityID:e,user:t,userSettingErrors:n,hasTwoFactorAuthFeature:i}=this.props,s=(0,De.Z)("System Default"),r=t.anonymous,a=!t.restricted,o=t.username===t.email,l=i&&a&&!r,c=c1.MP.map((e=>({[e]:c1.ZP[e]})));return y.createElement(see,{metricsPage:et.yV,metricsPane:"account"},y.createElement(aee,null,(0,De.Z)("Account")),r?null:y.createElement(Aze,{user:t}),r?null:y.createElement(Wee,CUe(CUe({},this.getUserFormSectionProps((0,De.Z)("Photo"),"isPhotoOpen")),{closedNode:y.createElement(V4.Z,{serverEntityID:e,url:this.props.user.thumb,width:80,height:80})}),y.createElement(yee.Z,null,(0,De.Z)("Photo")),y.createElement(cDe,{serverEntityID:e,name:"avatar",width:180,height:180,initialValue:this.props.user.thumb,url:this.props.user.thumb})),y.createElement(Wee,CUe(CUe({},this.getUserFormSectionProps((0,De.Z)("Language"),"isLocaleOpen")),{closedNode:c1.ZP[t.locale]||s}),y.createElement(lee.Z,{labelText:(0,De.Z)("Language"),helpText:(0,De.Z)("This sets the default language for Plex applications that do not provide their own language setting."),name:"locale",initialValue:t.locale,values:[{"":s},...c]})),y.createElement(Fze,{isOpen:this.state.isSelectAudioOpen,isUpdating:this.props.isUpdatingUser,errorMessage:this.props.updateUserError,onTogglePress:this.onToggleAudioSubtitlesFormSection}),a&&!r?y.createElement(Wee,CUe(CUe({},this.getUserFormSectionProps((0,De.Z)("Username"),"isUsernameOpen")),{closedNode:o?(0,De.Z)("Not set"):t.username}),y.createElement(Qk.Z,{labelText:(0,De.Z)("Username"),helpText:(0,De.Z)("Your username will be visible to friends with whom you have shared your server."),name:"username",initialValue:o?"":t.username,errors:n.username,validations:[QEe]}),y.createElement(oee.Z,{name:"emailOnlyAuth",checkboxText:(0,De.Z)("Allow username to be used when signing in"),helpText:(0,De.Z)("Your email address will be required to sign in when username sign-in is not allowed."),initialValue:t.emailOnlyAuth,checkedValue:!1,uncheckedValue:!0})):null,a&&!r?y.createElement(Wee,CUe(CUe({},this.getUserFormSectionProps((0,De.Z)("Email Address"),"isEmailOpen")),{closedNode:t.email,onSubmit:this.onAccountEmailSubmit}),y.createElement(Qk.Z,{labelText:(0,De.Z)("Email Address"),name:"email",initialValue:t.email,errors:n.email,validations:[GEe]}),y.createElement(Qk.Z,{labelText:(0,De.Z)("Password"),type:"password",name:"currentPassword",initialValue:"",validations:[YEe]}),t.twoFactorEnabled?y.createElement(Qk.Z,{labelText:(0,De.Z)("Verification code"),name:"verificationCode",autoComplete:"off",initialValue:"",validations:[JEe]}):null):null,a&&!r?y.createElement(Wee,CUe(CUe({},this.getUserFormSectionProps((0,De.Z)("Password"),"isPasswordOpen")),{closedNode:t.hasPassword?"**********":(0,De.Z)("Not set")}),y.createElement(tze,{labelText:t.hasPassword?(0,De.Z)("New Password"):(0,De.Z)("Choose Password"),name:"password",initialValue:"",errors:n.password,validations:[YEe,qEe]}),y.createElement(Qk.Z,{labelText:t.hasPassword?(0,De.Z)("Confirm New Password"):(0,De.Z)("Confirm Password"),type:"password",name:"passwordConfirmation",initialValue:"",validations:[WEe,$Ee]}),t.hasPassword?y.createElement(Qk.Z,{labelText:(0,De.Z)("Current Password"),type:"password",name:"currentPassword",initialValue:"",validations:[KEe]}):null,t.hasPassword&&t.twoFactorEnabled?y.createElement(Qk.Z,{labelText:(0,De.Z)("Verification code"),name:"verificationCode",autoComplete:"off",initialValue:"",validations:[JEe]}):null,t.hasPassword?y.createElement(oee.Z,{checkboxText:(0,De.Z)("Sign out connected devices after password change"),name:"resetDevices",initialValue:!1}):null):null,l&&t.hasPassword?y.createElement(Wee,CUe(CUe({showButton:!1},this.getUserFormSectionProps((0,De.Z)("Two-factor authentication"),"isTwoFactorAuthenticationOpen")),{closedNode:t.twoFactorEnabled?(0,De.Z)("Active"):(0,De.Z)("Inactive")}),y.createElement(Eze,{onEnableTwoFactorAuthComplete:this.onEnableTwoFactorAuthComplete})):null,l&&!t.hasPassword?y.createElement(Vee,null,y.createElement(yee.Z,null,(0,De.Z)("Two-factor authentication")),y.createElement(Qee,{className:"AccountPage-sectionDetails--Mhtog SettingsFormSectionDetails-sectionDetails-3c6R0T"},(0,De.Z)("Inactive"),y.createElement(tr.Z,null),y.createElement(AM.Z,{kind:Dn.Primary,onPress:this.onCreatePassword},(0,De.Z)("To use two-factor authentication, first set a password to use when signing in")))):null,a&&!r?y.createElement(DUe,CUe(CUe({},this.getUserFormSectionProps((0,De.Z)("Linked Accounts"),"isLinkedAccountsOpen")),{hasPassword:t.hasPassword,onCreatePassword:this.onCreatePassword})):null,a&&!r?y.createElement(Wee,CUe(CUe({},this.getUserFormSectionProps((0,De.Z)("Newsletter"),"isNewsletterOpen")),{closedNode:t.mailingListActive?(0,De.Z)("You are currently subscribed"):(0,De.Z)("You are not subscribed")}),y.createElement(oee.Z,{name:"mailingListActive",initialValue:t.mailingListActive,labelText:(0,De.Z)("Newsletter"),checkboxText:(0,De.Z)("Subscribe to our amazing, but infrequent email newsletter")})):null,a&&!r?y.createElement(Wee,CUe(CUe({},this.getUserFormSectionProps((0,De.Z)("Experimental Features"),"isExperimentalFeaturesOpen")),{closedNode:t.experimentalFeatures?(0,De.Z)("Enabled"):(0,De.Z)("Disabled")}),y.createElement(oee.Z,{name:"experimentalFeatures",initialValue:t.experimentalFeatures,labelText:(0,De.Z)("Experimental Features"),checkboxText:(0,De.Z)("Enable early access to experimental features still under development")})):null,a?y.createElement(Vee,null,y.createElement(yee.Z,null,(0,De.Z)("Privacy")),y.createElement(ax.Z,{className:"AccountPage-description-jBn45C",message:(0,De.Z)("Review our {openPolicyLink}Privacy Policy{closePolicyLink} for more information on the data that we collect, how it is used, and understand your {openAdChoicesLink}AdChoices{closeAdChoicesLink}. You can opt out of sending us certain data using your {openPreferencesLink}Privacy Preferences{closePreferencesLink} page."),tags:[{open:"openPolicyLink",close:"closePolicyLink",component:AM.Z,kind:fo._8,to:"https://www.plex.tv/about/privacy-legal/",target:"_blank"},{open:"openAdChoicesLink",close:"closeAdChoicesLink",component:AM.Z,kind:fo._8,to:"https://www.plex.tv/about/privacy-legal/#adchoices",target:"_blank"},{open:"openPreferencesLink",close:"closePreferencesLink",component:AM.Z,kind:fo._8,to:"https://www.plex.tv/about/privacy-legal/privacy-preferences/#opd",target:"_blank"}]})):null,a&&!r?y.createElement(Vee,null,y.createElement(AM.Z,{kind:fo.T,to:C.Z.join(["https://plex.tv","/users/delete"]),target:"_self"},(0,De.Z)("Delete your account"))):null)}}const wUe=PUe;var TUe=Object.prototype.hasOwnProperty,ZUe=Object.getOwnPropertySymbols,NUe=Object.prototype.propertyIsEnumerable,AUe=Object.assign;const xUe=(0,de.P1)(HB.Z,ge,(e=>e.ui.accountSettingsPage),(0,Ie.Z)(be.cU),((e,t,n,i)=>{const s=e.desktop,r=s.updateUserError?Bye(E().last(s.updateUserError[E().first(Object.keys(s.updateUserError))])):n.updateUserProfileError,a=E().mapObject(s.updateUserError,(e=>e.map((e=>Bye(e))))),o=E().pick(e,"username","anonymous","email","emailOnlyAuth","subscriptionDescription","thumb","locked","locale","canGoPremium","hasPlexSubscription","hasPlexPass","hasPassword","twoFactorEnabled","isEmployee","isNinja","mailingListActive","experimentalFeatures","restricted");return{serverEntityID:t.entityID,user:o,isUpdatingUser:s.isUpdatingUser||n.isUpdatingUserProfile,updateUserError:r,userSettingErrors:a,hasTwoFactorAuthFeature:i}})),LUe={dispatchUpdateUser:dE.Nq,dispatchClearUpdateUserError:dE.Mi,dispatchClearUpdateUserProfileError:GRe};class OUe extends y.Component{constructor(){super(...arguments),this.onErrorDismiss=()=>{this.props.dispatchClearUpdateUserError(),this.props.dispatchClearUpdateUserProfileError()},this.onSubmit=e=>{this.props.dispatchUpdateUser(e)}}render(){const e=this.props,{dispatchUpdateUser:t,dispatchClearUpdateUserError:n,dispatchClearUpdateUserProfileError:i}=e,s=((e,t)=>{var n={};for(var i in e)TUe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&ZUe)for(var i of ZUe(e))t.indexOf(i)<0&&NUe.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchUpdateUser","dispatchClearUpdateUserError","dispatchClearUpdateUserProfileError"]);return y.createElement(wUe,AUe(AUe({},s),{onErrorDismiss:this.onErrorDismiss,onSubmit:this.onSubmit,onUserProfileSubmit:this.onUserProfileSubmit}))}}const jUe=(0,f.$j)(xUe,LUe)(OUe);function kUe(){const{machineIdentifier:e,providerIdentifier:t}=Fz(),n=(0,Ee.Z)(),i=(0,kt.Z)(Vt.cN,e),s=(0,kt.Z)(Vt.MC,t,i);return y.createElement(Xz,{machineIdentifier:e,providerIdentifier:t},y.createElement(FAe,{serverEntityID:i,providerEntityID:s,sourceDirectoryID:n.source,directoryKey:UZ.tk.GUIDE},y.createElement(gA,{serverEntityID:i,providerEntityID:s,sourceDirectoryID:n.source,directoryKey:UZ.tk.GUIDE,activeFilters:(0,Ot.Z)(n.filters),activeFilterLabel:n.filterLabel})))}const RUe=(0,de.P1)($t.Z,(e=>e.filter((e=>e.isFullServer&&!!e.friendlyName)))),zUe=(0,oC.Z)((0,de.P1)(RUe,(e=>e.reduce(((e,t)=>{const{entityID:n,machineIdentifier:i}=t;return n&&i&&e.push({entityID:n,machineIdentifier:i}),e}),[]))),(e=>e));function UUe(e){return e.user.experienceSettings.homeSettings.preferredServerID}function VUe(e){const{sourceServer:t,sourceProvider:n,directories:i}=e;return i?i.reduce(((e,i)=>{const s=(0,TM.Z)(n,i);return s?((s.key!==PM.Hs||!(!i.hubKey||i.key))&&e.push(wM({sourceType:s.key,sourceServer:t,sourceProvider:n,sourceDirectory:i})),e):e}),[]):[]}var BUe=n(92179),FUe=Object.prototype.hasOwnProperty,HUe=Object.getOwnPropertySymbols,_Ue=Object.prototype.propertyIsEnumerable,QUe=Object.assign;class GUe extends y.Component{constructor(e,t){super(e,t),this.onChange=e=>{const t=this.store.getState(),n=Object.keys(t).filter((e=>this.props.names.includes(e))),i=QUe({},t);n.forEach((t=>{const n=i[t];i[t]=QUe(QUe({},n),{value:e})})),this.store.dispatch(kee.Nw.replaceState(i))},this.onFormStoreChange=()=>{const{names:e}=this.props;if(!e.length)return;const t=this.store.getState(),n=Object.keys(t).filter((e=>this.props.names.includes(e))),[i]=n,s=t[i].value,r=function(e,t,n){return e.every((e=>{const i=n[e];return!i||i.value===t}))}(n,s,t);this.setState({value:r?s:null})},this.store=this.context.formStore,this.state={value:!0}}componentWillMount(){this.unsubscribe=this.store.subscribe(this.onFormStoreChange)}componentWillUnmount(){this.unsubscribe&&this.unsubscribe()}render(){const e=this.props,{names:t,onChange:n}=e,i=((e,t)=>{var n={};for(var i in e)FUe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&HUe)for(var i of HUe(e))t.indexOf(i)<0&&_Ue.call(e,i)&&(n[i]=e[i]);return n})(e,["names","onChange"]);return t.length?y.createElement(mee.Z,QUe(QUe({},i),{value:this.state.value,onChange:(0,vo.Z)(this.onChange,n)})):null}}GUe.contextTypes={formStore:BUe.Z};const YUe=GUe;function WUe(e){const{className:t,titleBarClassName:n,titleTextClassName:i,scrollerClassName:s,title:r,rightTitle:a,children:o}=e;return y.createElement("div",{className:t},y.createElement("div",{className:n},y.createElement("span",{className:i},r),a),y.createElement(wN.Z,{className:s},o))}WUe.defaultProps={className:"FirstRunExperienceActionsContainer-container-1h1Z7A",titleBarClassName:"FirstRunExperienceActionsContainer-titleBar-1hp1JG",titleTextClassName:"FirstRunExperienceActionsContainer-titleText-1n1Ryg",scrollerClassName:"FirstRunExperienceActionsContainer-scroller-33vKc- Scroller-vertical-1tg_Qg"};const KUe=WUe,qUe="FirstRunExperienceStep-stepButton-XQ-EW4";var $Ue=Object.prototype.hasOwnProperty,JUe=Object.getOwnPropertySymbols,XUe=Object.prototype.propertyIsEnumerable,eVe=Object.assign,tVe=(e,t)=>{var n={};for(var i in e)$Ue.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&JUe)for(var i of JUe(e))t.indexOf(i)<0&&XUe.call(e,i)&&(n[i]=e[i]);return n};function nVe(e){const{step:t,isActive:n,onPress:i}=e;return y.createElement(AM.Z,{className:n?"FirstRunExperienceStep-activeStepIcon-3cbK57 FirstRunExperienceStep-stepIcon-1ki49w":"FirstRunExperienceStep-stepIcon-1ki49w",onPress:function(){i(t)}},t)}function iVe(e){const{className:t,actionsClassName:n,stepContainerClassName:i,steps:s,step:r,stepHeadingText:a,stepBodyText:o,stepButtonBackText:l,stepButtonNextText:c,children:d,component:u,onButtonBackPress:p,onButtonNextPress:m,onStepPress:h}=e,g=tVe(e,["className","actionsClassName","stepContainerClassName","steps","step","stepHeadingText","stepBodyText","stepButtonBackText","stepButtonNextText","children","component","onButtonBackPress","onButtonNextPress","onStepPress"]),v=z.Z.prop("X-Plex-Product");return y.createElement(u,eVe({className:t},g),y.createElement("div",{className:n},d),y.createElement("div",{className:i},y.createElement("div",{className:"FirstRunExperienceStep-stepText-lK0KRL"},(0,De.Z)("{productName} Setup",{productName:v}),Array.from(Array(s),((e,t)=>t+1)).map((e=>y.createElement(nVe,{key:e,step:e,isActive:r===e,onPress:h})))),y.createElement("h3",{className:"FirstRunExperienceStep-stepHeading-3sBxXP"},a),y.createElement("p",{className:"FirstRunExperienceStep-stepBody-2NcbW1"},o),l?y.createElement($h.Z,{className:qUe,onPress:p},l):null,y.createElement($h.Z,{className:qUe,kind:fo._8,type:"submit",onPress:m},c)))}iVe.defaultProps={className:"FirstRunExperienceStep-container-1Yi9mw",actionsClassName:"FirstRunExperienceStep-actions-YLgeAL",stepContainerClassName:"FirstRunExperienceStep-stepContainer-2R-hBc",component:function(e){var{children:t}=e,n=tVe(e,["children"]);return y.createElement("div",eVe({},n),t)},steps:2,step:1};const sVe=iVe;function rVe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-shared-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{clipRule:"evenodd",d:"M10.286 3.429V8.57H5.143V39.43h37.714V8.57h-5.143V3.43H48V44.57H0V3.43h10.286zM26.57 20.57h10.286L24 33.43 11.143 20.57h10.286V0h5.142v20.571z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}rVe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const aVe=rVe;function oVe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-live-dvr-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M400 10h70L351.25 110H546c7.732 0 14 6.268 14 14v412c0 7.732-6.268 14-14 14H14c-7.732 0-14-6.268-14-14V124c0-7.732 6.268-14 14-14h194.75L90 10h70l120 100L400 10zm100 433V177a7 7 0 0 0-7-7H67a7 7 0 0 0-7 7v266a7 7 0 0 0 7 7h426a7 7 0 0 0 7-7z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}oVe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const lVe=oVe;function cVe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-movies-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M560 40c0-11.038-8.962-20-20-20H20C8.962 20 0 28.962 0 40v480c0 11.038 8.962 20 20 20h520c11.038 0 20-8.962 20-20V40zM100 468v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zM400 310v180c0 5.52-4.48 10-10 10H170c-5.52 0-10-4.48-10-10V310c0-5.52 4.48-10 10-10h220c5.52 0 10 4.48 10 10zm100 78v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zM400 70v180c0 5.52-4.48 10-10 10H170c-5.52 0-10-4.48-10-10V70c0-5.52 4.48-10 10-10h220c5.52 0 10 4.48 10 10zm100 158v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8V68c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8V68c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}cVe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const dVe=cVe;function uVe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-music-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M199.855 473.52a35.61 35.61 0 0 1 .145 3.222c0 33.115-44.809 68.962-100 80-55.191 11.039-100-6.885-100-40s44.809-68.961 100-80c22.504-4.5 43.282-4.186 60 .01V96.85c0-11.257 8.788-22.154 19.612-24.319L540.388.377C551.212-1.788 560 5.594 560 16.85V392c0 .52-.05 1.028-.145 1.52.096 1.058.145 2.132.145 3.222 0 33.115-44.808 68.962-100 80-55.192 11.039-100-6.885-100-40s44.808-68.961 100-80c22.504-4.5 43.282-4.186 60 .01V124.455l-320 64V472c0 .52-.05 1.028-.145 1.52z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}uVe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const pVe=uVe;function mVe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-news-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M14 560h532c7.732 0 14-6.268 14-14V14c0-7.732-6.268-14-14-14H14C6.268 0 0 6.268 0 14v532c0 7.732 6.268 14 14 14zm46-60v-60h140v60H60zm180 0V360h260v140H240zM60 400V200h140v200H60zm180-80v-40h260v40H240zm0-80v-40h260v40H240zM60 160V60h440v100H60z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}mVe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const hVe=mVe;function gVe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-photos-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M440 120h100c11.038 0 20 8.962 20 20v360c0 11.038-8.962 20-20 20H20c-11.038 0-20-8.962-20-20V140c0-11.038 8.962-20 20-20h100V60c0-11.038 8.962-20 20-20h280c11.038 0 20 8.962 20 20v60zm-160 40c-88.306 0-160 71.694-160 160s71.694 160 160 160 160-71.694 160-160-71.694-160-160-160zm0 80c44.153 0 80 35.847 80 80s-35.847 80-80 80-80-35.847-80-80 35.847-80 80-80z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}gVe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const yVe=gVe;function vVe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-podcasts-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M240 455.992C148.757 437.44 80 356.686 80 260h60c0 77.269 62.732 140 140 140s140-62.732 140-140h60c0 96.686-68.757 177.44-160 195.992V560h-80V455.992zM360 80c0-44.153-35.847-80-80-80s-80 35.847-80 80v180c0 44.153 35.847 80 80 80s80-35.847 80-80V80z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}vVe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const fVe=vVe;function IVe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-shows-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M440 480c0-11.038-8.962-20-20-20H140c-11.038 0-20 8.962-20 20v20c0 11.038 8.962 20 20 20h280c11.038 0 20-8.962 20-20v-20zM540 40H20C8.962 40 0 48.962 0 60v360c0 11.038 8.962 20 20 20h520c11.038 0 20-8.962 20-20V60c0-11.038-8.962-20-20-20zm-40 70v220c0 5.52-4.48 10-10 10H70c-5.52 0-10-4.48-10-10V110c0-5.52 4.48-10 10-10h420c5.52 0 10 4.48 10 10z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}IVe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const bVe=IVe;function MVe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-videos-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M360 320v140c0 11.038-8.962 20-20 20H20c-11.038 0-20-8.962-20-20V100c0-11.038 8.962-20 20-20h320c11.038 0 20 8.962 20 20v140l200-120v320L360 320z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}MVe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const SVe=MVe;function EVe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-webshows-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M560 74v412c0 7.732-6.268 14-14 14H14c-7.732 0-14-6.268-14-14V74c0-7.732 6.268-14 14-14h532c7.732 0 14 6.268 14 14zm-360 86v240l200-120-200-120z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}EVe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const DVe=EVe,CVe=function(e){switch(e.sourceType){case PM.ls:return y.createElement(lm,null);case PM.MB:return y.createElement(dVe,null);case PM.TV:return y.createElement(bVe,null);case PM.xF:return y.createElement(pVe,null);case PM.n1:return y.createElement(yVe,null);case PM.FM:return y.createElement(SVe,null);case PM.Ap:return y.createElement(aVe,null);case PM.Hs:return y.createElement(lVe,null);case PM.Rq:return y.createElement(hVe,null);case PM.HG:return y.createElement(fVe,null);case PM.w1:return y.createElement(DVe,null);case PM.IO:return y.createElement(am.Z,null);case PM.lz:return y.createElement(nQ,null)}return null};var PVe=Object.prototype.hasOwnProperty,wVe=Object.getOwnPropertySymbols,TVe=Object.prototype.propertyIsEnumerable,ZVe=Object.assign;const NVe=(0,vee.Z)((function(e){const{title:t,sourceType:n,directoryIcon:i}=e,s=((e,t)=>{var n={};for(var i in e)PVe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&wVe)for(var i of wVe(e))t.indexOf(i)<0&&TVe.call(e,i)&&(n[i]=e[i]);return n})(e,["title","sourceType","directoryIcon"]);return y.createElement("label",{className:"SelectSourceItemInput-sourceItem-rJaNVf",htmlFor:s.name},y.createElement("span",{className:"SelectSourceItemInput-sourceTitle-2w_9FK"},y.createElement("span",{className:"SelectSourceItemInput-sourceIconContainer-3HnVhs"},i?y.createElement("img",{className:"SelectSourceItemInput-iconImg-1iktdK SourceSidebarItem-iconImg-3JkcZ2",src:i}):y.createElement(CVe,{sourceType:n})),t),y.createElement(mee.Z,ZVe({inputClassName:"SelectSourceItemInput-input-ba7GNp CheckInput-input-3zLcUz"},s)))})),AVe=function(e){const{isPending:t,steps:n,sources:i,onSubmit:s,onButtonBackPress:r,onStepPress:a}=e;return t?y.createElement(RC.Z,null):y.createElement(sVe,{stepHeadingText:(0,De.Z)("Customize your Media"),stepBodyText:(0,De.Z)("Choose what you’d like to have in your sidebar navigation menu. (You’ll always have easy access to everything, so you can make changes and further customize your menu later.)"),stepButtonBackText:n>1?(0,De.Z)("Go Back"):void 0,stepButtonNextText:(0,De.Z)("Finish Setup"),step:2,steps:n,component:kee.ZP,onSubmit:s,onButtonBackPress:r,onStepPress:a},y.createElement(KUe,{title:(0,De.Z)("Pinned Sources"),rightTitle:i.length?y.createElement(YUe,{inputClassName:"SelectNavigationStep-input-38xD42 CheckInput-input-3zLcUz",name:"allSources",names:i.map((e=>e.key))}):null},i.map((e=>y.createElement(NVe,{key:e.key,name:e.key,title:e.title,sourceType:e.sourceType,directoryIcon:e.directoryIcon,initialValue:!0})))))};var xVe=Object.prototype.hasOwnProperty,LVe=Object.getOwnPropertySymbols,OVe=Object.prototype.propertyIsEnumerable,jVe=Object.assign;const kVe=(0,de.P1)(LY,_t.Z,((e,t)=>(e?e.providers:[]).map((e=>t[e])))),RVe=(0,de.P1)(VTe,(e=>e.filter((e=>!/.*(staging|dev)$/.test(e.identifier)))));function zVe(e,t){return t.reduce(((t,n)=>{const i=(0,So.Z)(n),s=VUe({sourceServer:e,sourceProvider:n,directories:i&&i.directories});return t.push(...s),t}),[])}const UVe={dispatchSetupSources:dE.E8};class VVe extends y.Component{constructor(){super(...arguments),this.onSubmit=e=>{const t=this.props.sources.filter((({key:t})=>e[t]));this.props.dispatchSetupSources({sources:t})}}componentDidUpdate(){this.props.hasCompletedSetup&&this.props.onEndFirstRunExperience(),this.props.isPending||0!==this.props.sources.length||this.props.dispatchSetupSources({sources:[]})}render(){const e=this.props,{isPending:t,sources:n,onEndFirstRunExperience:i,dispatchSetupSources:s}=e,r=((e,t)=>{var n={};for(var i in e)xVe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&LVe)for(var i of LVe(e))t.indexOf(i)<0&&OVe.call(e,i)&&(n[i]=e[i]);return n})(e,["isPending","sources","onEndFirstRunExperience","dispatchSetupSources"]);return y.createElement(AVe,jVe(jVe({sources:n,isPending:t||0===n.length},r),{onSubmit:this.onSubmit}))}}const BVe=(0,f.$j)((function(){return(0,de.P1)(LY,kVe,ge,RVe,ye.Z,((e,t,n,i,s)=>{const r=zVe(e,t),a=zVe(n,i),{sidebarSettings:{hasCompletedSetup:o}}=s;return{isPending:!(!e||e.connectionTestResult!==GB._r.PENDING),sources:[...r,...a],hasCompletedSetup:o}}))}),UVe)(VVe);var FVe=Object.assign;const HVe=(0,f.$j)((function(){return pQ((0,HM.Z)(),["activeConnection","friendlyName","sourceTitle","isConnected","isOutOfDate","isRelayed","isSecure","isShared","isUnavailable"])}),(function(e,t){return{onPress(){t.onPress({entityID:t.serverEntityID,machineIdentifier:t.machineIdentifier})}}}))((function(e){const{isSelected:t,isUnavailable:n,onPress:i}=e,s=_Ie(ZM(e),QIe(e).status);return y.createElement(AM.Z,{className:we()("SelectPreferredServerItem-serverButton-2Mrsw0",t&&"SelectPreferredServerItem-isSelected-2AqAL7",n&&"SelectPreferredServerItem-isUnavailable-6GBm_E"),onPress:i},y.createElement("span",{className:"SelectPreferredServerItem-titles-1u39P-"},y.createElement("span",{className:"SelectPreferredServerItem-title-25u5_u"},NM(e)),y.createElement("span",{className:"SelectPreferredServerItem-details-y-SjkL"},s)),t?y.createElement(fa.Z,{className:"SelectPreferredServerItem-serverMenuIcon-zkCVdP","aria-label":(0,De.Z)("Selected")}):null)}));HVe.propTypes=FVe(FVe({},HVe.propTypes),{machineIdentifier:ls().string.isRequired,serverEntityID:ls().string.isRequired});const _Ve=HVe,QVe=function(e){const{preferredServerIdentifiers:t,serverIdentifiers:n,onSavePreferredServer:i,onButtonNextPress:s,onStepPress:r}=e;return y.createElement(sVe,{stepHeadingText:(0,De.Z)("Choose your Preferred Server"),stepBodyText:(0,De.Z)("It looks like you have access to more than one Plex Media Server. Choose your preferred server, and we’ll use it to build your home screen."),stepButtonNextText:(0,De.Z)("Continue"),step:1,onButtonNextPress:s,onStepPress:r},y.createElement(KUe,{title:(0,De.Z)("Plex Media Servers")},n.map((e=>y.createElement(_Ve,{key:e.entityID,serverEntityID:e.entityID,machineIdentifier:e.machineIdentifier,isSelected:t&&t.machineIdentifier===e.machineIdentifier,onPress:i})))))};var GVe=Object.assign;function YVe(e,t){return!e&&t.length>0}class WVe extends y.Component{constructor(e,t){super(e,t),this.onNextStepPress=()=>{this.setState((e=>({step:Math.max(2,e.step+1)})))},this.onBackStepPress=()=>{this.setState((e=>({step:Math.min(1,e.step-1)})))},this.onStepPress=e=>{this.setState({step:e})},this.onEndFirstRunExperience=()=>{const{preferredServerIdentifiers:e,onEndFirstRunExperience:t}=this.props;t(e?{preferredServerEntityID:e.entityID,preferredServerInteraction:e.machineIdentifier!==this.state.initialDefaultPreferredServerIdentifier}:{})},this.state={step:1}}componentDidMount(){this.props.onChangeBackground({allowLightPreset:!0}),(0,Rt.c9)((()=>{this.props.onResetCustomization()})),this._maybeCallOnSavePreferredServer(GVe(GVe({},this.props),{preferredServerIdentifiers:null}))}componentDidUpdate(){this._maybeCallOnSavePreferredServer(this.props)}componentWillUnmount(){this.props.onResetBackground()}_maybeCallOnSavePreferredServer(e){const{isPending:t,preferredServerIdentifiers:n,serverIdentifiers:i,onSavePreferredServer:s}=e;if(t)return;const r=function(e,t){return e?e.machineIdentifier:t.length>0?t[0].machineIdentifier:void 0}(n,i);!this.state.initialDefaultPreferredServerIdentifier&&r&&this.setState({initialDefaultPreferredServerIdentifier:r}),YVe(n,i)&&s({machineIdentifier:r})}render(){const{isPending:e,preferredServerIdentifiers:t,serverIdentifiers:n,onSavePreferredServer:i}=this.props,{step:s}=this.state,r=n.length<2;return e||YVe(t,n)?y.createElement(Gz.Z,null,y.createElement(RC.Z,null)):y.createElement(wN.Z,{className:"FirstRunExperiencePage-container-1yH8CD"},1!==s||r?y.createElement(BVe,{steps:r?0:2,onButtonBackPress:this.onBackStepPress,onStepPress:this.onStepPress,onEndFirstRunExperience:this.onEndFirstRunExperience}):y.createElement(QVe,{preferredServerIdentifiers:t,serverIdentifiers:n,onButtonNextPress:this.onNextStepPress,onStepPress:this.onStepPress,onSavePreferredServer:i}))}}const KVe=WVe,qVe={onChangeBackground:mn.ZZ,onResetBackground:mn.HF,onSavePreferredServer:dE.p7,onEndFirstRunExperience:dE.G_,onResetCustomization:dE.Dy},$Ve=(0,f.$j)((function(){return(0,de.P1)(BTe,UUe,zUe,((e,t,n)=>({isPending:!e,preferredServerIdentifiers:t?n.find((e=>e.machineIdentifier===t)):void 0,serverIdentifiers:n})))}),qVe)(KVe),JVe=wD.Z.extend({name:"AvailableProviderModel",context:["server"],rootPropertyName:"MediaProvider",syncedAttrs:{identifier:bD.Z.string,title:bD.Z.string}}),XVe=_S.Z.extend({name:"AvailableProvidersCollection",context:["server"],model:JVe,url:"/media/providers?ignore_opt_outs=true"});var eBe=Object.assign;const tBe="ui/onlineMediaSourcePage/initOnlineMediaSourcesPage",nBe="ui/onlineMediaSourcePage/fetchAvailableProviders",iBe="ui/onlineMediaSourcePage/fetchOptOutStatuses",sBe="ui/onlineMediaSourcePage/updateOptOutStatuses",rBe="ui/onlineMediaSourcePage/clearOnlineMediaSourcesUpdateError",aBe=(0,No.Z)(tBe),oBe=(0,No.Z)(nBe),lBe=(0,No.Z)(iBe),cBe=(0,No.Z)(sBe),dBe=(0,No.Z)(rBe);function uBe(e){return e.get("ui").get("onlineMediaSourcesPage")}function pBe(e,t={},n={}){const i=e.get("cloudServer"),s=e.get("user").get("uuid"),r=C.Z.join(["/api/v2/user",s,"settings/opt_outs"],t);return i.getXHROptions(r,eBe({dataType:"json"},n))}const mBe={[tBe](e,t,n){const i=uBe(e),s=e.get("cloudServer");i.restoreDefaults({availableProviders:new XVe([],{server:s})}),n(oBe()),n(lBe())},[nBe]:(0,qM.Z)({key:"availableProviders",getModel:uBe}),[iBe](e,t){const n=uBe(e);n.set({isOptOutStatusesPending:!0,optOutStatusesError:null});const i=pBe(e);g().ajax(i).then((e=>{n.set({optOutStatuses:e,isOptOutStatusesPending:!1,optOutStatusesError:null})}),(e=>{n.set({isOptOutStatusesPending:!1,optOutStatusesError:(0,gS.Z)(e)})}))},[sBe](e,t,n){const i=uBe(e);i.set({isUpdatePending:!0,updateError:null});const s=Object.keys(t.optOutStatuses)[0],r=t.optOutStatuses[s],a=pBe(e,{key:s,value:r},{type:"POST"});g().ajax(a).then((()=>{const e=i.get("optOutStatuses");i.set({optOutStatuses:eBe(eBe({},e),{[s]:r}),isUpdatePending:!1,updateError:null}),(0,M.DB)("serviceWorker").sendMessage({type:"CLEAR_CLOUD_MEDIA_PROVIDERS"}).finally((()=>{n(sS())}))}),(e=>{i.set({isUpdatePending:!1,updateError:(0,gS.Z)(e)})}))},[rBe](e,t){uBe(e).set("updateError",null)}};class hBe extends y.Component{constructor(e,t){super(e,t),this.createToggleHandler=e=>t=>{t.preventDefault();const n=this.state.openProviderIdentifier===e;this.props.updateError&&this.props.onErrorDismiss(),this.setState({openProviderIdentifier:n?null:e})},this.state={openProviderIdentifier:null}}componentWillReceiveProps(e){const t=this.props.showSpinner&&!e.showSpinner,n=this.props.isUpdatePending&&!e.isUpdatePending&&!e.updateError;(t||n)&&this.setState({openProviderIdentifier:null})}_getOptOutStatus(e){const t=this.props.optOutStatuses,n=pa.wB(e,[pa.xF,pa.uk])?"opt_in":"opt_out_managed";return t[e]?t[e]:n}_getAvailableOptOutOptions(e,t){const n=[{opt_in:(0,De.Z)("Enabled")},{opt_out:(0,De.Z)("Disabled")}],i=[...n,{opt_out_managed:(0,De.Z)("Disabled for Managed Users")}],s=pa.wB(e,pa.xF)?n:i;return s.find((e=>e[t]))?s:[...s,{[t]:t}]}render(){const{isUnauthorized:e,loadSettingsError:t,showSpinner:n,availableProviders:i,isUpdatePending:s,updateError:r,onUpdateStatus:a}=this.props;return e?y.createElement(_z.Z,{title:(0,De.Z)("You're not supposed to be here"),description:(0,De.Z)("You don't have access to Online Media Sources")}):t?y.createElement(Yz.Z,{title:(0,De.Z)("There was an unexpected error loading Online Media Sources")}):n?y.createElement(Gz.Z,null,y.createElement(RC.Z,null)):y.createElement(see,{metricsPage:et.yV,metricsPane:"onlineMediaSources"},y.createElement(aee,null,(0,De.Z)("Online Media Sources")),i.map((e=>{const t=this._getOptOutStatus(e.identifier),n=this._getAvailableOptOutOptions(e.identifier,t),i=n.find((e=>e[t]))[t];return y.createElement(Wee,{key:e.identifier,closedNode:i,title:e.title,isOpen:this.state.openProviderIdentifier===e.identifier,isUpdating:s,errorMessage:r&&(0,De.Z)("Unable to save settings"),onTogglePress:this.createToggleHandler(e.identifier),onUpdateStatus:a,onSubmit:a},y.createElement(lee.Z,{labelText:e.title,helpText:(0,De.Z)("Disabling {onlineMediaSource} will remove it from all Plex apps signed in with your account.",{onlineMediaSource:e.title}),name:e.identifier,initialValue:t,values:n}))})))}}const gBe=hBe,yBe=(0,de.P1)((e=>e.ui.onlineMediaSourcesPage.availableProviders),_t.Z,((e,t)=>{if(!e||!t)return;const n=Object.values(t);return e.filter((({identifier:e})=>{const t=n.find((t=>t.identifier===e));return!t||t.isPopulated&&Object.values(t.features).some((({type:e})=>e===mS.P8))}))})),vBe=(0,de.P1)((e=>e.ui.onlineMediaSourcesPage),HB.Z,yBe,((e,t,n)=>({isUnauthorized:t.restricted,availableProviders:n,optOutStatuses:e.optOutStatuses,isAvailableProvidersPending:e.isAvailableProvidersPending,availableProvidersError:e.availableProvidersError,isOptOutStatusesPending:e.isOptOutStatusesPending,optOutStatusesError:e.optOutStatusesError,isUpdatePending:e.isUpdatePending,updateError:e.updateError}))),fBe={dispatchInitOnlineMediaSourcesPage:aBe,dispatchClearOnlineMediaSourcesUpdateError:dBe,dispatchUpdateOptOutStatuses:cBe};class IBe extends y.Component{constructor(){super(...arguments),this.onErrorDismiss=()=>{this.props.dispatchClearOnlineMediaSourcesUpdateError()},this.onUpdateStatus=e=>{this.props.dispatchUpdateOptOutStatuses({optOutStatuses:e})}}componentDidMount(){(0,Rt.c9)((()=>{this.props.dispatchInitOnlineMediaSourcesPage()}))}render(){const{isUnauthorized:e,isAvailableProvidersPending:t,availableProvidersError:n,isOptOutStatusesPending:i,optOutStatusesError:s,availableProviders:r,optOutStatuses:a,updateError:o,isUpdatePending:l}=this.props;return y.createElement(gBe,{isUnauthorized:e,loadSettingsError:!(!n&&!s),showSpinner:t||i,availableProviders:r,optOutStatuses:a,isUpdatePending:l,updateError:o,onErrorDismiss:this.onErrorDismiss,onUpdateStatus:this.onUpdateStatus})}}const bBe=(0,f.$j)(vBe,fBe)(IBe);function MBe(){const{machineIdentifier:e,providerIdentifier:t}=Fz(),n=(0,Ee.Z)(),i=(0,Hz.Z)(n.key),s=(0,kt.Z)(Vt.cN,e),r=(0,kt.Z)(Vt.MC,t,s);return y.createElement(AC.Z,{metricsContext:(0,Hz.Z)(n.context)},y.createElement(Xz,{machineIdentifier:e,providerIdentifier:t},i?y.createElement(FSe,{serverEntityID:s,providerEntityID:r,metadataKey:i,record:1===parseInt((0,Hz.Z)(n.record),10),allEpisodes:1===parseInt((0,Hz.Z)(n.allEpisodes),10)}):y.createElement(yA.Z,null)))}function SBe(){const{machineIdentifier:e,providerIdentifier:t}=Fz(),n=(0,Ee.Z)(),i=(0,kt.Z)(Vt.cN,e),s=(0,kt.Z)(Vt.MC,t,i);return y.createElement(Xz,{machineIdentifier:e,providerIdentifier:t},y.createElement(FAe,{serverEntityID:i,providerEntityID:s,sourceDirectoryID:n.source,directoryKey:UZ.tk.RECORDING_SCHEDULE},y.createElement(ij,{serverEntityID:i,providerEntityID:s,sourceDirectoryID:n.source,selectedViewType:n.view})))}var EBe=n(69273);const DBe="search/fetchSearchPage",CBe="search/clearSearchPage",PBe=(0,No.Z)(DBe),wBe=(0,No.Z)(CBe);function TBe(e){return e.get("ui").get("searchPage")}const ZBe={[DBe](e,t,n){const i=TBe(e).get("searches"),{availableProviders:s,query:r,limit:a}=t,o=(0,iK.Z)(e,be.Ao);Object.keys(s).forEach((t=>{const n=s[t],r=(0,WS.SW)(e,{serverEntityID:n.serverEntityID}),a=(0,WS.js)(e,{providerEntityID:t}),l=a.get("features").get(mS.mo);l&&!i.get(t)&&i.add(new EBe.Z({providerEntityID:t,key:l.get("key")},{server:r,provider:a,includeCollections:!0,includeExternalMedia:o}))})),i.each((e=>{e.populatePromise||(e.set("isSearchPending",!0),e.fetch({data:{query:r,limit:a}}).done((()=>{e.set({isSearchPending:!1,isSearchPopulated:!0,searchError:null})})).fail((t=>{e.set({isSearchPending:!1,searchError:(0,gS.Z)(t)})})))}))},[CBe](e,t,n){const i=TBe(e);i.get("searches").each((e=>{e.abortPendingPopulate()})),i.restoreDefaults()}},NBe=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({containerKey:e.skipParent?e.grandparentKey:e.parentKey})))}))(NG),ABe=function(e){const{className:t,serverEntityID:n,providerEntityID:i,searchResultEntityID:s,imageWidth:r,imageHeight:a,imageUrl:o,tag:l,tagType:c,librarySectionType:d,titleComponents:u}=e,p=(0,HC.Z)(e),m=N_.Z.get(c),h=!!m&&m.isPerson;return y.createElement("div",{className:t,style:p.style},y.createElement("div",{className:"SearchTagPosterCell-imageContainer-2E5Rhb"},y.createElement(hJ,{serverEntityID:n,providerEntityID:i,imageWidth:r,imageHeight:a,imageUrl:o,title:l,tag:l,tagType:c,librarySectionType:d}),y.createElement(L_,{className:we()("SearchTagPosterCell-imageLink-39V6bP",h&&"SearchTagPosterCell-isPerson-2NYxF-"),serverEntityID:n,providerEntityID:i,searchResultEntityID:s})),y.createElement("div",{className:"SearchTagPosterCell-titleContainer-3GwYlI"},u.map(((e,t)=>y.createElement(RQ,{key:t,serverEntityID:n,providerEntityID:i,searchResultEntityID:s,component:e,isSecondary:t>0})))))};var xBe=Object.assign;const LBe=(0,f.$j)((function(){return(0,de.P1)(((e,{listType:t})=>t),((e,{listSubtype:t})=>t),((e,{listContext:t})=>t),((e,{cellWidth:t})=>t),E_(),((e,t,n,i,s={})=>{const r=s.tagItem,{tag:a,tagType:o,librarySectionType:l}=r,c=(0,cG.Z)(i,null,e,t,r,n);return{tag:a,tagType:o,librarySectionType:l,imageWidth:c.width,imageHeight:c.height,imageUrl:c.url}}))}))((function(e){return y.createElement(ABe,xBe({},e))}));var OBe=Object.prototype.hasOwnProperty,jBe=Object.getOwnPropertySymbols,kBe=Object.prototype.propertyIsEnumerable,RBe=Object.assign;const zBe=function(e){var{isMetadataItem:t}=e,n=((e,t)=>{var n={};for(var i in e)OBe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&jBe)for(var i of jBe(e))t.indexOf(i)<0&&kBe.call(e,i)&&(n[i]=e[i]);return n})(e,["isMetadataItem"]);return t?y.createElement(NBe,RBe(RBe({},n),{showSelect:!1})):y.createElement(LBe,RBe({},n))};var UBe=Object.assign;const VBe=function(e){const{title:t,sourceTitle:n,hubs:i,columnAdjustment:s,isSearchPending:r,isSearchPopulated:a}=e,o=n?`${t} - ${n}`:t;return y.createElement("div",null,y.createElement("div",{role:"heading","aria-level":"2",className:"SearchProviderHubs-providerTitle-28j9jU"},o,r?y.createElement(RC.Z,{className:"SearchProviderHubs-spinner-8XevJ2",size:vc.HC}):null),!i.length&&a?y.createElement(Gz.Z,{title:(0,De.Z)("No Results"),description:(0,De.Z)("Try a different query")}):i.map((e=>{const t=e.type,n=e.subtype,i=YC.mo,r=eQ(t,i,{subtype:e.subtype,isSearch:!0,isSearchAll:!0});return y.createElement(ZQ,UBe(UBe({},e),{key:e.hubIdentifier,listType:t,listContext:i,keyPropName:"searchResultEntityID",size:e.results.length,items:e.results,itemsOffset:0,layout:MH(t,n,i,s,r.length),cellRenderer:(a={listType:t,listContext:i,titleComponents:r},e=>y.createElement(xZe,UBe(UBe({component:zBe},a),e)))}));var a})))};var BBe=Object.assign;const FBe=function(e){const{isSearchCapable:t,providers:n,columnAdjustment:i}=e;return t?y.createElement(mx,{innerClassName:"SearchPageContent-content-3qtLDe HomePageContent-content-31PSg2 PageContent-innerPageContent-1ra0Xh"},n.map((e=>y.createElement(VBe,BBe({key:e.providerEntityID,columnAdjustment:i},e))))):y.createElement(_z.Z,{title:(0,De.Z)("This server does not support search"),description:(0,De.Z)("Browse libraries using the sidebar")})};var HBe=Object.assign;function _Be(){return(0,sn.Z)((0,de.P1)(VB.Z,(e=>e.reduce(((e,{server:t,provider:n})=>t&&n&&t.isConnected?(e[n.entityID]={serverEntityID:t.entityID,identifier:n.identifier,title:n.title,sourceTitle:n.sourceTitle},e):e),{}))),(e=>e))}const QBe={fetchSearchPage:PBe,clearSearchPage:wBe};class GBe extends y.Component{componentWillMount(){(0,Rt.c9)((()=>{this._clear(),this._populate()}))}componentWillReceiveProps(e){const t=e.query!==this.props.query,n=e.availableProviders!==this.props.availableProviders;(t||n)&&(0,Rt.c9)((()=>{t&&this._clear(e),this._populate(e)}))}_clear(e=this.props){e.clearSearchPage()}_populate(e=this.props){e.fetchSearchPage({availableProviders:e.availableProviders,query:e.query,limit:30})}render(){return y.createElement(FBe,HBe({},this.props))}}const YBe=(0,f.$j)((function(){return(0,de.P1)(_Be(),(0,de.P1)((e=>e.ui.searchPage.searches),_Be(),((e,t)=>{const n=e.reduce(((e,n)=>{const i=n.providerEntityID,s=t[i];if(!s)return e;let r=e[s.identifier];return r||(r=e[s.identifier]={providerEntityID:i,title:s.title,sourceTitle:s.sourceTitle,isSearchPending:!1,isSearchPopulated:!1,hubs:{}}),n.isSearchPending&&(r.isSearchPending=!0),n.isSearchPopulated&&(r.isSearchPopulated=!0),n.hubs.forEach((e=>{const t=e=>({serverEntityID:s.serverEntityID,providerEntityID:i,searchResultEntityID:e}),n=e.metadataResults.map(t),a=e.tagResults.map(t),o=r.hubs[e.hubIdentifier];o?(o.size+=e.size,o.results=o.results.concat(n,a)):r.hubs[e.hubIdentifier]={hubIdentifier:e.hubIdentifier,size:e.size,type:e.type,title:e.title,results:[].concat(n,a)}})),e}),{});return E().map(n,(e=>({providerEntityID:e.providerEntityID,title:e.title,sourceTitle:e.sourceTitle,isSearchPending:e.isSearchPending,isSearchPopulated:e.isSearchPopulated,hubs:E().values(e.hubs)})))})),ye.Z,((e,t,n)=>({availableProviders:e,isSearchCapable:!!Object.keys(e).length,columnAdjustment:n.columnAdjustment,providers:t})))}),QBe)(GBe);function WBe({className:e,children:t}){return y.createElement("div",{className:e},t)}WBe.defaultProps={className:"PageHeaderCenter-pageHeaderCenter-1RFWgu"};const KBe=WBe,qBe=function(e){const{isSearchPending:t,query:n}=e;return y.createElement(Ph,null,y.createElement(WR.Z,null,(0,De.Z)("Search All Sources")),y.createElement(KBe,null,y.createElement("span",null,t?(0,De.Z)('Searching for "{query}"',{query:n}):(0,De.Z)('Results for "{query}"',{query:n})),t?y.createElement(RC.Z,{className:"SearchPageHeader-spinner-2rJvIH",size:vc.HC}):null),y.createElement(fk,null,y.createElement(Uk,null)))},$Be=function(e){const{isSearchPending:t}=e,{query:n}=(0,Ee.Z)();return y.createElement(LC.Z,{metricsPage:et.fP,allowBackgroundLightPreset:!0,scrollDirection:vb.Hn},y.createElement(qBe,{isSearchPending:t,query:n}),y.createElement(YBe,{query:n}))};var JBe=Object.assign;const XBe={clearSearchPage:wBe};class eFe extends y.Component{componentWillUnmount(){this.props.clearSearchPage()}render(){return y.createElement($Be,JBe({},this.props))}}const tFe=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.searchPage),(e=>({isSearchPending:!!E().findWhere(e.searches,{isSearchPending:!0})})))}),XBe)(eFe);var nFe=n(96875),iFe=n.n(nFe);const sFe=m.Z.ItemView.extend({template:iFe()}),rFe=function(e,t,n){return null==n&&(n=e+"s"),1===t?e:n};var aFe=n(29880),oFe=n.n(aFe);const lFe=m.Z.ItemView.extend({tagName:"li",className:"card-tile-list-item card-2-col-item",template:oFe(),ui:{icon:".device-icon",syncInfo:".sync-info"},events:{"click .remove-device-btn":"onRemoveClick"},isMediaServer:function(){if(null==this.isServer){var e=this.model.get("product").toLowerCase();this.isServer="plex media server"===e}return this.isServer},bindings:{".device-icon":{modelAttribute:"product",modelListeners:["product","platform"],manual:!0,formatter:function(e,t){var n=Sse(e,this.model.get("platform"));t.attr("src",n)}},".name":{modelAttribute:"name",modelListeners:["name","product"],autohide:!1,formatter:function(e){return e||this.model.get("product")}},".version":{modelAttribute:"productVersion",autohide:!1},".product":{modelAttribute:"product",autohide:!1},".platform":{modelAttribute:"platform",autohide:function(e){return e&&this.isMediaServer()}},".platform-version":{modelAttribute:"platformVersion",autohide:function(e){return e&&this.isMediaServer()}},".device":{modelAttribute:"device",autohide:!1},".last-seen":{modelAttribute:"lastSeenAt",autohide:!0,formatter:function(e,t){return(0,yi.Z)(e)}},".sync-count":{modelAttribute:"syncList",autohide:!1,formatter:function(e){if(e){var t,n=e.get("itemsCompleteCount");return n&&n>0&&(t=[n,rFe("item",n)].join(" "),this.ui.syncInfo.removeClass("hidden")),t}}},".sync-size":{modelAttribute:"syncList",autohide:!1,formatter:function(e){if(e){var t,n=e.get("totalSize");return n&&n>0&&(t=["(",rIe(n),")"].join("")),t}}}},onRemoveClick:function(e){e.preventDefault(),this.isMediaServer()?One.Z.execute("removeServer",{device:this.model}):One.Z.execute("removeDevice",{device:this.model})}}),cFe=Mne.Z.extend({tagName:"ul",className:"list card-tile-list",itemView:lFe,emptyView:sFe});var dFe=n(2326),uFe=n.n(dFe);const pFe=m.Z.Layout.extend({className:"devices-container",template:uFe(),regions:{list:".device-list-container"},events:{"click .dropdown-menu a":"onDeviceTypeDropdownClick","click .nav a":"onDeviceTypeClick"},ui:{filters:".nav a"},deviceTypes:[{id:"all",title:"All",ids:["all"]},{id:"web",title:"Web",ids:["Web Client","Plex Web"]},{id:"pht",title:"HTPC",ids:["Plex Home Theater","Plex for Home Theater","PlexHomeTheater","Plex Media Center","Plex Media Player"]},{id:"desktop",title:"Desktop",ids:["Plex for Mac","Plex for Windows","Plex for Linux"]},{id:"pms",title:"Server",ids:["Plex Media Server"]},{id:"android",title:"Android",ids:["Plex for Android","Android","Plex for Android (Mobile)","Plex for Android (TV)"]},{id:"ios",title:"iOS",ids:["Plex/iOS","Plex for iOS"]},{id:"samsung",title:"Samsung",ids:["Plex for Samsung"]},{id:"google-tv",title:"Google TV",ids:["Google TV"]},{id:"windows",title:"Windows",ids:["Plex for Windows"]},{id:"apple-tv",title:"Apple TV",ids:["Plex-ATV","Plex for Apple TV"]},{id:"windows-phone",title:"Windows Phone",ids:["Plex for Windows Phone"]},{id:"plexbmc",title:"PleXBMC",ids:["PleXBMC"]},{id:"roku",title:"Roku",ids:["Plex for Roku"]},{id:"popcorn-hour",title:"Popcorn Hour",ids:["Plex for Popcorn Hour"]},{id:"playstation",title:"PlayStation",ids:["Plex for PlayStation 4","Plex for PlayStation 5"],platforms:["Mystery 3"]},{id:"xbox",title:"Xbox",ids:["Plex for Xbox","Plex for Xbox One","Plex for Xbox 360"]},{id:"other",title:"Other",ids:[]}],initialize:function(e){const t=(0,M.DB)("appModel").get("user"),n=t.get("desktop").get("devices");this.model=t,this.collection=n,this.products=this.collection.products(),this.addOtherIds(),this.filteredDeviceTypes=this.getFilteredDeviceTypes(),this.selectedDeviceType=this.getDeviceType(e.deviceTypeID),this.selectedDevices=this.getSelectedDevices(),(0,Ine.Z)("devices",{deviceTypeID:this.selectedDeviceType.id},!0)},serializeData:function(){return{selectedDeviceType:this.selectedDeviceType,deviceTypes:this.filteredDeviceTypes}},sortDeviceTypes:function(e){return E().sortBy(e,(function(e){return"all"===e.id?"":e.title.toLowerCase()}))},getDeviceType:function(e){const t=this.deviceTypes[0];return e&&this.filteredDeviceTypes.find((t=>t.id===e))||t},getSelectedDevices:function(){if("all"===this.selectedDeviceType.id)return this.collection;{const e=this.collection.filterByProducts(this.selectedDeviceType.ids);if(this.selectedDeviceType.platforms){const t=this.collection.filterByPlatforms(this.selectedDeviceType.platforms);e.add(t.models)}return e}},getFilteredDeviceTypes:function(){var e=this.deviceTypes.filter((function(e){return"all"===e.id||E().intersection(this.products,e.ids).length>0}),this);return this.sortDeviceTypes(e)},addOtherIds:function(){var e=E().flatten(E().map(this.deviceTypes,(function(e){return e.ids}))),t=E().difference(this.products,e),n=E().find(this.deviceTypes,(function(e){return"other"===e.id}));E().each(t,(function(e){n.ids.push(e)}))},onRender:function(){this.list.show(new cFe({collection:this.selectedDevices}))},onDeviceTypeDropdownClick:function(e){e.preventDefault();const t=g()(e.currentTarget).data("id");this.selectedDeviceType=this.getDeviceType(t),this.selectedDevices=this.getSelectedDevices(),(0,Ine.Z)("devices",{deviceTypeID:this.selectedDeviceType.id},!0),this.render()},onDeviceTypeClick:function(e){e.preventDefault();var t=g()(e.currentTarget),n=t.data("id"),i=this.collection;if(this.ui.filters.removeClass("selected"),t.addClass("selected"),"all"!==n){var s=E().findWhere(this.deviceTypes,{id:n});i=this.collection.filterByProducts(s.ids)}this.list.show(new cFe({collection:i}))}}),mFe=function(){const{deviceTypeID:e}=(0,I.UO)(),[t,n]=(0,y.useState)({isDevicesPopulated:!1,devicesError:!1});B6((()=>{(0,M.DB)("appModel").get("user").get("desktop").get("devices").fetch().then((()=>{n({isDevicesPopulated:!0,devicesError:!1})}),(()=>{n({isDevicesPopulated:!1,devicesError:!0})}))}));const i=!t.isDevicesPopulated&&!t.devicesError,s=!i&&t.devicesError,r=!i&&!s;return y.createElement(y.Fragment,null,i?y.createElement(Gz.Z,null,y.createElement(RC.Z,null)):null,s?y.createElement(_z.Z,{title:(0,De.Z)("Your devices are unavailable. Please try again later.")}):null,r?y.createElement(see,{metricsPage:et.Ak},y.createElement(aee,null,(0,De.Z)("Authorized Devices")),y.createElement(ame,{view:pFe,viewOptions:{deviceTypeID:e}})):null)};function hFe({component:e,selectedKey:t}){return y.createElement(pe,null,y.createElement(aMe,null,y.createElement(Ybe,{selectedKey:t}),y.createElement(e,null)))}class gFe extends y.Component{static getDerivedStateFromProps(e,t){return e.isSignedIn&&!t.isSigningOut?{isSigningOut:!0}:null}constructor(e,t){super(e,t),this.state={isSigningOut:!1}}componentDidMount(){this.state.isSigningOut&&this.props.onSignOut()}componentDidUpdate(e,t){this.state.isSigningOut&&!t.isSigningOut&&this.props.onSignOut()}render(){return y.createElement(LC.Z,{metricsPage:et.dp},y.createElement(mx,null,y.createElement(zC.Z,null,y.createElement(RC.Z,null))))}}const yFe=gFe,vFe=(0,de.P1)(HB.Z,(({isSignedIn:e})=>({isSignedIn:e}))),fFe=(0,f.$j)(vFe,(function(e){return{onSignOut(){One.Z.execute("signOut").then((()=>{e((0,tt.im)({route:"login",replace:!0}))}))}}}))(yFe);function IFe(){const{machineIdentifier:e,providerIdentifier:t}=Fz(),n=(0,Ee.Z)(),i=(0,kt.Z)(Vt.cN,e),s=(0,kt.Z)(Vt.MC,t,i);return y.createElement(Xz,{machineIdentifier:e,providerIdentifier:t},y.createElement(FAe,{serverEntityID:i,providerEntityID:s,sourceDirectoryID:n.source,directoryKey:UZ.tk.TIMELINE},y.createElement(Rz,{serverEntityID:i,providerEntityID:s,sourceDirectoryID:n.source,directoryKey:UZ.tk.TIMELINE,libraryKey:n.key})))}var bFe=n(87986),MFe=n.n(bFe);const SFe=m.Z.ItemView.extend({className:"announcement-list-item",template:MFe(),ui:{thumb:".thumb",unread:".unread"},initialize:function(){this.image=new Sye.Z({url:this.model.get("imageUrl")})},onRender:function(){this.image.setElement(this.ui.thumb),this.model.markAsRead()},onClose:function(){this.image.close()}}),EFe=Mne.Z.extend({className:"list announcement-list",itemView:SFe});var DFe=n(49682),CFe=n.n(DFe);const PFe=m.Z.Layout.extend({className:"container",template:CFe(),regions:{list:".announcements-container"},initialize:function(){const e=(0,M.DB)("appStore").dispatch,t=(0,M.DB)("appModel").get("user");this.collection=t.get("desktop").get("announcements"),e((0,mn.ZZ)({allowLightPreset:!1}))},onRender:function(){this.list.show(new EFe({collection:this.collection}))}}),wFe=function(){const[e,t]=(0,y.useState)({isAnnouncementsPending:!0,announcementsError:!1});return B6((()=>{(0,JM.bg)((0,M.DB)("appModel")).get("announcements").fetch().then((()=>{t({isAnnouncementsPending:!1,announcementsError:!1})}),(()=>{t({isAnnouncementsPending:!1,announcementsError:!0})}))})),e.isAnnouncementsPending?y.createElement(Gz.Z,null,y.createElement(RC.Z,null)):e.announcementsError?y.createElement(_z.Z,{title:(0,De.Z)("Announcements are not available.")}):y.createElement(ame,{className:w5e,view:PFe,viewOptions:{}})},TFe=(0,de.P1)($Se.Z,(e=>e.homeDetails));var ZFe=n(32448);const NFe=function(e){const{isAccepting:t,onPress:n}=e;return t?y.createElement(ML.Z,{className:"AcceptInviteButton-spinner-1zTQxk",loadingLabel:(0,De.Z)("Accepting invite"),size:vc.HC}):y.createElement(GC.Z,{className:"AcceptInviteButton-button-3iyFr3",iconComponent:ZFe.Z,title:(0,De.Z)("Accept Invite"),onPress:n})},AFe=function({title:e,onPress:t}){return y.createElement(GC.Z,{className:"RemoveUserActionButton-button-1CciJy",iconComponent:cc.Z,title:e,onPress:t})};var xFe=Object.prototype.hasOwnProperty,LFe=Object.getOwnPropertySymbols,OFe=Object.prototype.propertyIsEnumerable,jFe=Object.assign;const kFe=function(e){const{hasOtherHomeUsers:t,isSignedInUserAdmin:n}=e,i=((e,t)=>{var n={};for(var i in e)xFe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&LFe)for(var i of LFe(e))t.indexOf(i)<0&&OFe.call(e,i)&&(n[i]=e[i]);return n})(e,["hasOtherHomeUsers","isSignedInUserAdmin"]);let s=(0,De.Z)("The admin of this home will have access to your account. Other users of this home will be able to switch to your account by entering your PIN.");return t&&(s=n?(0,De.Z)("You are the admin in your current home. If you leave, the remaining users will be removed and managed users will be deleted."):(0,De.Z)("Are you sure you want to join this home? You will leave your current home.")),y.createElement(nt.Z,jFe(jFe({},i),{kind:fo.T,title:(0,De.Z)("Join Home"),message:s,confirmLabel:(0,De.Z)("Join")}))};var RFe=Object.assign;const zFe=function(e){return y.createElement(nt.Z,RFe(RFe({},e),{title:(0,De.Z)("Reject Invite"),message:(0,De.Z)("Are you sure you want to reject this invite?"),confirmLabel:(0,De.Z)("Yes"),cancelLabel:(0,De.Z)("No")}))};function UFe(e){const{className:t,children:n,userID:i}=e;return y.createElement("div",{className:t},i?y.createElement(AM.Z,{className:"UsersSettingsRow-underlay-1uxawh",to:`#!/settings/users-sharing/${i}`}):null,n)}UFe.defaultProps={className:"UsersSettingsRow-row-2j3cyi"};const VFe=UFe;function BFe({className:e,children:t}){return y.createElement("div",{className:e},t)}BFe.defaultProps={className:"UsersSettingsRowActions-container-deXd9i"};const FFe=BFe,HFe=function(e){const{serverEntityID:t,thumb:n}=e;return y.createElement("div",{className:"UsersSettingsRowAvatar-container-1gNQz9"},y.createElement(V4.Z,{serverEntityID:t,url:n,width:50,height:50}))};function _Fe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-admin-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M120 560h320v-80H120v80zM268.298 78.258C251.923 73.25 240 58.004 240 40c0-22.075 17.923-40 40-40s40 17.925 40 40c0 17.304-11.012 32.058-26.404 37.625L360 280l128.004-96.003A39.81 39.81 0 0 1 480 160c0-22.075 17.925-40 40-40s40 17.925 40 40c0 22.077-17.925 40-40 40a39.85 39.85 0 0 1-14.858-2.855L440 360v80H120v-80L54.858 197.145A39.845 39.845 0 0 1 40 200c-22.077 0-40-17.923-40-40 0-22.075 17.923-40 40-40s40 17.925 40 40c0 9-2.98 17.31-8.004 23.997L200 280l68.298-201.742z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}_Fe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const QFe=_Fe,GFe="UsersSettingsRowName-status-1gMDpC",YFe=function(e){const{title:t,subtitle:n,restrictionProfile:i,isAdmin:s,isRestricted:r}=e;let a;return r&&(a=i?tEe.oL(i).title:(0,De.Z)("Managed User")),y.createElement("div",{className:"UsersSettingsRowName-container-3t6YJ1"},y.createElement("div",{className:"UsersSettingsRowName-titleContainer-21fKGb"},y.createElement("div",{className:"UsersSettingsRowName-title-2PK5X5"},t),s?y.createElement("div",{className:"UsersSettingsRowName-statusContainer-1S9OVc"},y.createElement("div",{className:GFe},(0,De.Z)("Admin")),y.createElement(QFe,{className:"UsersSettingsRowName-admin-2X0s_t"})):null,a?y.createElement("div",{className:GFe},a):null),n?y.createElement("div",{className:"UsersSettingsRowName-subtitle-yak8BT"},y.createElement(tr.Z,null),n):null)},WFe="UsersSettingsRowShares-status-24GC4s";function KFe(e){const{serverShares:t}=e;let n=0,i=0;return t.forEach((e=>{e.owned?n+=e.numLibraries:i+=e.numLibraries})),y.createElement("div",{className:"UsersSettingsRowShares-container-1XBf7C"},i?y.createElement("div",{className:WFe},1===i?(0,De.Z)("Shares 1 library with you"):(0,De.Z)("Shares {libraryCount} libraries with you",{libraryCount:i})):null,n?y.createElement("div",{className:WFe},1===n?(0,De.Z)("Sharing 1 library with them"):(0,De.Z)("Sharing {libraryCount} libraries with them",{libraryCount:n})):null)}KFe.defaultProps={serverShares:[]};const qFe=KFe,$Fe=(0,f.$j)(null,(function(e,t){return{dispatchAcceptInvite(){e((0,dE.Ol)({inviteID:t.id}))},dispatchRejectInvite(){e((0,dE.jT)({inviteID:t.id}))}}}))((function(e){const{serverEntityID:t,thumb:n,friendlyName:i,home:s,serverShares:r,isAccepting:a,isRemoving:o,hasOtherHomeUsers:l,isSignedInUserAdmin:c,dispatchAcceptInvite:d,dispatchRejectInvite:u}=e,[p,m]=(0,y.useState)(!1),[h,g]=(0,y.useState)(!1),v=(0,y.useCallback)((()=>s?m(!0):d()),[s,d]),f=(0,y.useCallback)((()=>g(!0)),[]),I=(0,y.useCallback)((()=>m(!1)),[]),b=(0,y.useCallback)((()=>g(!1)),[]);return y.createElement(VFe,null,y.createElement(HFe,{serverEntityID:t,thumb:n}),y.createElement(YFe,{title:i,subtitle:s?(0,De.Z)("Wants you to join their home"):(0,De.Z)("Wants to share with you")}),s?y.createElement("div",{className:"UserSettingsInviteRow-homeInvite-3gfMZ0"},(0,De.Z)("Awaiting your response")):y.createElement(qFe,{serverShares:r}),y.createElement(FFe,null,y.createElement(NFe,{isAccepting:a,onPress:v}),y.createElement(AFe,{title:(0,De.Z)("Reject Invite"),onPress:f})),s?y.createElement(kFe,{isOpen:p,metricsPage:et.I7,hasOtherHomeUsers:l,isSignedInUserAdmin:c,onConfirm:d,onCancel:I}):null,y.createElement(zFe,{isOpen:h,metricsPage:et.I7,isConfirmButtonSpinning:o,onConfirm:u,onCancel:b}))}));var JFe=Object.assign;const XFe=function(e){return y.createElement(nt.Z,JFe(JFe({},e),{title:(0,De.Z)("Cancel Invite"),message:(0,De.Z)("Are you sure you want to cancel this invite?"),confirmLabel:(0,De.Z)("Yes"),cancelLabel:(0,De.Z)("No")}))},eHe=(0,f.$j)(null,(function(e,t){return{dispatchCancelInvite(){e((0,dE.Bt)({inviteID:t.id}))}}}))((function(e){const{serverEntityID:t,thumb:n,friendlyName:i,home:s,serverShares:r,isRemoving:a,dispatchCancelInvite:o}=e,[l,c]=(0,y.useState)(!1);return y.createElement(VFe,{className:"UserSettingsSentInviteRow-row-K2Zukg UsersSettingsRowFriend-row-2bfmTA UsersSettingsRow-row-2j3cyi"},y.createElement(HFe,{serverEntityID:t,thumb:n}),y.createElement(YFe,{title:i,subtitle:(0,De.Z)("Invite pending")}),s?y.createElement("div",{className:"UserSettingsSentInviteRow-homeInvite-1VI2FA"},y.createElement("div",{className:"UserSettingsSentInviteRow-status-4DjfHp"},(0,De.Z)("Awaiting their response"))):y.createElement(qFe,{serverShares:r}),y.createElement(FFe,{className:"UserSettingsSentInviteRow-actions-3LfRBX UsersSettingsRowFriend-actions-fD9qub UsersSettingsRowActions-container-deXd9i"},y.createElement(AFe,{title:(0,De.Z)("Cancel Invite"),onPress:(0,y.useCallback)((()=>c(!0)),[])})),y.createElement(XFe,{isOpen:l,metricsPage:et.I7,isConfirmButtonSpinning:a,onConfirm:o,onCancel:(0,y.useCallback)((()=>c(!1)),[])}))})),tHe=function({title:e,children:t}){return y.createElement("div",{className:"UsersSettingsPageListHeader-header-BFve_7"},y.createElement("div",{className:"UsersSettingsPageListHeader-pageHeaderLeft-28wY83"},e),y.createElement("div",{className:"UsersSettingsPageListHeader-pageHeaderRight-2nnVrU"},t))};var nHe=n(90354),iHe=Object.prototype.hasOwnProperty,sHe=Object.getOwnPropertySymbols,rHe=Object.prototype.propertyIsEnumerable,aHe=Object.assign;function oHe(e){const{title:t,serverShares:n}=e,i=((e,t)=>{var n={};for(var i in e)iHe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&sHe)for(var i of sHe(e))t.indexOf(i)<0&&rHe.call(e,i)&&(n[i]=e[i]);return n})(e,["title","serverShares"]);let s=(0,De.Z)("Are you sure you want to remove {friendName}?",{friendName:t}),r=0,a=0;n.forEach((e=>{e.owned?r+=e.numLibraries:a+=e.numLibraries}));const o=function(e,t,n){return e&&t?n>1?(0,De.Z)("You are sharing {libraryCount} libraries with each other",{libraryCount:n}):(0,De.Z)("You are sharing {libraryCount} library with each other",{libraryCount:n}):e?n>1?(0,De.Z)("You are sharing {libraryCount} libraries with this friend",{libraryCount:n}):(0,De.Z)("You are sharing {libraryCount} library with this friend",{libraryCount:n}):t?n>1?(0,De.Z)("This friend is sharing {libraryCount} libraries with you",{libraryCount:n}):(0,De.Z)("This friend is sharing {libraryCount} library with you",{libraryCount:n}):void 0}(r,a,r+a);return o&&(s+=" "+o),y.createElement(nt.Z,aHe(aHe({},i),{kind:fo.T,title:(0,De.Z)("Remove Friend"),message:s,confirmLabel:(0,De.Z)("Remove")}))}oHe.defaultProps={serverShares:[]};const lHe=oHe,cHe=(0,f.$j)((function(){return(0,de.P1)((0,nHe.Z)(),(e=>e))}),(function(e,t){return{dispatchRemove(){e((0,dE.tJ)({friendEntityID:t.friendEntityID}))}}}))((function(e){const{serverEntityID:t,id:n,title:i,thumb:s,serverShares:r,home:a,restricted:o,isRemoving:l,dispatchRemove:c}=e,d=(0,xE.Z)(),u=(0,zr.Z)(l);return(0,y.useEffect)((()=>{u&&!l&&d.isOpen&&d.onClose()}),[u,l,d]),a||o?null:y.createElement(VFe,{className:"UsersSettingsRowFriend-row-2bfmTA UsersSettingsRow-row-2j3cyi",userID:n},y.createElement(HFe,{serverEntityID:t,thumb:s}),y.createElement(YFe,{title:i}),y.createElement(qFe,{serverShares:r}),y.createElement(FFe,{className:"UsersSettingsRowFriend-actions-fD9qub UsersSettingsRowActions-container-deXd9i"},y.createElement(AFe,{title:(0,De.Z)("Remove User"),onPress:d.onOpen})),y.createElement(lHe,{isOpen:d.isOpen,metricsPage:et.I7,title:i,serverShares:r,isConfirmButtonSpinning:l,onConfirm:c,onCancel:d.onClose}))}));function dHe(){return(0,de.P1)(qSe.Z,((e,t)=>t.homeUserEntityID),((e,t)=>e[t]))}var uHe=Object.prototype.hasOwnProperty,pHe=Object.getOwnPropertySymbols,mHe=Object.prototype.propertyIsEnumerable,hHe=Object.assign;const gHe=function(e){const{isSignedInUser:t,isAdmin:n,isRestricted:i}=e,s=((e,t)=>{var n={};for(var i in e)uHe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&pHe)for(var i of pHe(e))t.indexOf(i)<0&&mHe.call(e,i)&&(n[i]=e[i]);return n})(e,["isSignedInUser","isAdmin","isRestricted"]);let r=(0,De.Z)("Remove User"),a=(0,De.Z)("You will no longer be able to switch to this user."),o=(0,De.Z)("Remove");return t?(r=(0,De.Z)("Leave Home"),a=n?(0,De.Z)("You are the admin in this home. If you leave, the remaining users will be removed and managed users will be deleted."):(0,De.Z)("Are you sure you want to leave this home?"),o=(0,De.Z)("Leave")):i&&(a=(0,De.Z)("Removing a managed user from your home will delete the managed user. Watched status for this user will be lost. This cannot be undone.")),y.createElement(nt.Z,hHe(hHe({},s),{kind:fo.T,title:r,message:a,confirmLabel:o}))};function yHe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-locked-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M120 240V120h.01c-.007-.513-.01-1.025-.01-1.537C120 53.079 173.08 0 238.462 0h83.076C386.92 0 440 53.08 440 118.463c0 .512-.003 1.025-.01 1.537h.01v120h40c22.08 0 40 17.924 40 40v240c0 22.076-17.92 40-40 40H80c-22.077 0-40-17.923-40-40V280c0-22.076 17.923-40 40-40h40zm180 240v-43.42c23.294-8.244 40-30.476 40-56.58 0-33.115-26.885-60-60-60-33.115 0-60 26.885-60 60 0 26.104 16.706 48.336 40 56.58V480h40zm20-400h-80c-22.077 0-40 17.925-40 40v120h160V120c0-22.075-17.923-40-40-40z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}yHe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const vHe=yHe;function fHe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-unlocked-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M240 80c-22.077 0-40 17.925-40 40h-80 .01c-.007-.513-.01-1.025-.01-1.537C120 53.079 173.08 0 238.462 0h83.076C386.92 0 440 53.08 440 118.463c0 .512-.003 1.025-.01 1.537h.01v120h40c22.08 0 40 17.924 40 40v240c0 22.076-17.92 40-40 40H80c-22.077 0-40-17.923-40-40V280c0-22.076 17.923-40 40-40h280V120c0-22.075-17.923-40-40-40h-80zm60 400v-43.42c23.294-8.244 40-30.476 40-56.58 0-33.115-26.885-60-60-60-33.115 0-60 26.885-60 60 0 26.104 16.706 48.336 40 56.58V480h40z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}fHe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const IHe=fHe;function bHe(e){const{isProtected:t,isGuest:n}=e,i=t?vHe:IHe;return y.createElement("div",{className:"UsersSettingsRowHome-container-9rx_CJ"},y.createElement("div",{title:t?(0,De.Z)("Has PIN"):(0,De.Z)("No PIN")},n?null:y.createElement(i,{className:t?"UsersSettingsRowHome-lockedIcon-3P6PT1 UsersSettingsRowHome-icon-339A2c":"UsersSettingsRowHome-icon-339A2c"})))}bHe.defaultProps={isProtected:!1,isGuest:!1};const MHe=bHe;var SHe=Object.assign;const EHe=(0,de.P1)(qSe.Z,(0,Qt.Z)("id"),((e,t)=>{const n=Object.values(e).find((e=>e.id===t));return!(!n||!n.restricted)})),DHe=(0,f.$j)((function(){return(0,de.P1)(((e,{signedInUserId:t})=>t),EHe,dHe(),(0,de.P1)(dHe(),U4.Z,z4.Z,((e,t,n)=>t.find((t=>n[t].id===e.id)))),((e,t,n,i)=>SHe(SHe({},n),{serverShares:i&&i.serverShares,isSignedInUser:n.id===e,isSignedInUserRestricted:t})))}),(function(e,t){return{dispatchRemove(){e((0,dE.EN)({homeUserEntityID:t.homeUserEntityID}))},dispatchEditPIN(){e((0,dE.Nt)({homeUserEntityID:t.homeUserEntityID}))}}}))((function(e){const{serverEntityID:t,id:n,title:i,thumb:s,protected:r,restricted:a,serverShares:o,isSignedInUserAdmin:l,isSignedInUserRestricted:c,isSignedInUser:d,admin:u,guest:p,restrictionProfile:m,hasOtherHomeUsers:h,isRemoving:g,dispatchEditPIN:v,dispatchRemove:f}=e,[I,b]=(0,y.useState)(!1),M=(0,zr.Z)(g);(0,y.useEffect)((()=>{M&&!g&&I&&b(!1)}),[M,g,I]);const S=(0,y.useCallback)((()=>{b(!0)}),[]),E=(0,y.useCallback)((()=>{b(!1)}),[]);let D;D=!!l||(c?u:!a);const C=!d&&D,P=l&&!d&&!p,w=d&&!a,T=l&&a&&!p;return y.createElement(VFe,{className:"UsersSettingsRowHomeUser-row-1rRd3t UsersSettingsRowFriend-row-2bfmTA UsersSettingsRow-row-2j3cyi",userID:C?n:null},y.createElement(HFe,{serverEntityID:t,thumb:s}),y.createElement(YFe,{title:i,restrictionProfile:m,isAdmin:u,isRestricted:a}),y.createElement(MHe,{isProtected:r,isGuest:p}),y.createElement(qFe,{serverShares:o}),y.createElement(FFe,{className:"UsersSettingsRowHomeUser-actions-38ibmc UsersSettingsRowFriend-actions-fD9qub UsersSettingsRowActions-container-deXd9i"},w||T?y.createElement(AM.Z,{className:"UsersSettingsRowHomeUser-editPin-1RuHUY",onPress:v},r?(0,De.Z)("Edit PIN"):(0,De.Z)("Set PIN")):null,P?y.createElement(AFe,{title:(0,De.Z)("Remove From Plex Home"),onPress:S}):null,d&&h&&!a?y.createElement(AFe,{title:(0,De.Z)("Leave Home"),onPress:S}):null),y.createElement(gHe,{isOpen:I,metricsPage:et.I7,isSignedInUser:d,isAdmin:u,isRestricted:a,isConfirmButtonSpinning:g,onConfirm:f,onCancel:E}))})),CHe="UsersSettingsPage-button-3Yjfsf";var PHe=Object.assign;function wHe(e,t){return e.filter((e=>e.home===t))}const THe=function(e){const{serverEntityID:t,isPending:n,isPopulated:i,allFriendsError:s,allFriends:r,homeDetailsError:a,homeUsersError:o,homeUsers:l,invitesError:c,invites:d,sentInvitesError:u,sentInvites:p,signedInUserId:m,guestEnabled:h,isTogglingGuestUser:g,isSignedInUserAdmin:v,isFullUser:f,hasPlexPass:I,onToggleGuestUser:b}=e,M=wHe(d,!0),S=wHe(d,!1),E=wHe(p,!0),D=wHe(p,!1),C=(0,Ee.Z)(),P=Xi.Z.parseBoolean(C.addManagedUser),[w,T]=(0,y.useState)(P),[Z,N]=(0,y.useState)(!1),[A,x]=(0,y.useState)(P),L=(0,y.useCallback)((()=>T(!0)),[]),O=(0,y.useCallback)((()=>{T(!0),N(!0)}),[]),j=(0,y.useCallback)((()=>{T(!0),x(!0)}),[]),k=(0,y.useCallback)((()=>{T(!1),N(!1),x(!1)}),[]);let R;if(a?R=(0,De.Z)("An error occurred retrieving home details. Please try again."):o?R=(0,De.Z)("An error occurred retrieving home users. Please try again."):s?R=(0,De.Z)("An error occurred retrieving friends. Please try again."):(c||u)&&(R=(0,De.Z)("An error occurred retrieving invites. Please try again.")),R)return y.createElement(_z.Z,{title:R});const z=i&&f;return y.createElement(see,{metricsPage:et.yV,metricsPane:"users-sharing"},y.createElement(aee,null,(0,De.Z)("Users & Sharing")),n&&!i?y.createElement(FEe,null):null,i?y.createElement("div",{className:"UsersSettingsPage-homeUsersList-34NhZi"},y.createElement(tHe,{title:(0,De.Z)("Home Users")},I&&v?y.createElement($h.Z,{className:CHe,size:vc.HC,onPress:O},(0,De.Z)("Invite Home User")):null,v?y.createElement(Gk.Z,{className:CHe,size:vc.HC,onPress:j},(0,De.Z)("Create Managed User")):null,v?y.createElement(Gk.Z,{className:CHe,size:vc.HC,isSpinning:g,isDisabled:g,onPress:b},h?(0,De.Z)("Disable Guest"):(0,De.Z)("Enable Guest")):null),M.map((e=>y.createElement($Fe,PHe(PHe({key:e.id},e),{serverEntityID:t,hasOtherHomeUsers:l.length>1,isSignedInUserAdmin:v})))),l.map((e=>y.createElement(DHe,{key:e,serverEntityID:t,homeUserEntityID:e,signedInUserId:m,isSignedInUserAdmin:v,hasOtherHomeUsers:l.length>1}))),v&&!I?y.createElement("div",{className:"UsersSettingsPage-upsell-1fM_YS"},y.createElement(ax.Z,{className:"UsersSettingsPage-upsellMessage-3epfNP",message:(0,De.Z)("Adding other Plex users to your home requires a Plex Pass. {openLink}Learn More{closeLink}"),tags:[{open:"openLink",close:"closeLink",component:AM.Z,to:"https://www.plex.tv/plex-pass/",target:"_blank",kind:fo._8}]})):null,E.map((e=>y.createElement(eHe,PHe(PHe({key:e.id},e),{serverEntityID:t}))))):null,z?y.createElement(y.Fragment,null,y.createElement(tHe,{title:(0,De.Z)("Friends")},y.createElement($h.Z,{className:CHe,size:vc.HC,onPress:L},(0,De.Z)("Add A Friend"))),S.map((e=>{const n=e.Server?e.Server.map((e=>PHe(PHe({},e),{owned:!1}))):void 0;return y.createElement($Fe,PHe(PHe({key:e.id},e),{serverEntityID:t,serverShares:n}))})),r.map((e=>y.createElement(cHe,{key:e,serverEntityID:t,friendEntityID:e}))),D.map((e=>{const n=e.Server?e.Server.map((e=>PHe(PHe({},e),{owned:!0}))):[];return y.createElement(eHe,PHe(PHe({key:e.id},e),{serverEntityID:t,serverShares:n}))}))):null,y.createElement(wd.Z,{metricsProperties:{context:pS.USERS_AND_SHARING},serverEntityID:t,isAddingHomeUser:Z,isCreatingManagedUser:A,isOpen:w,onModalClose:k}))};var ZHe=Object.prototype.hasOwnProperty,NHe=Object.getOwnPropertySymbols,AHe=Object.prototype.propertyIsEnumerable,xHe=Object.assign;const LHe=(0,de.P1)(qSe.Z,HB.Z,((e,t)=>{const n=Object.values(e).find((e=>e.id===t.id));return!(!n||!n.admin)})),OHe=(0,de.P1)((e=>e.cloudServer),HB.Z,$Se.Z,TFe,LHe,(0,Qt.Z)("hasPlexPass"),((e,t,n,i,s,r)=>({serverEntityID:e,isPending:t.isAllFriendsPending||n.isHomeDetailsPending||n.isHomeUsersPending||n.isInvitesPending||n.isSentInvitesPending,isPopulated:t.isAllFriendsPopulated&&n.isHomeDetailsPopulated&&n.isHomeUsersPopulated&&n.isInvitesPopulated&&n.isSentInvitesPopulated,allFriendsError:t.allFriendsError,allFriends:t.allFriends,homeDetailsError:n.homeDetailsError,homeDetails:n.homeDetails,homeUsersError:n.homeUsersError,homeUsers:n.homeUsers,invitesError:n.invitesError,invites:n.invites,sentInvitesError:n.sentInvitesError,sentInvites:n.sentInvites,signedInUserId:t.id,guestEnabled:i.guestEnabled,isTogglingGuestUser:i.isTogglingGuestUser,isSignedInUserAdmin:s,isFullUser:t.isFullUser,hasPlexPass:r}))),jHe={dispatchFetchAllFriends:dE.Tp,dispatchFetchHomeDetails:dE.Dl,dispatchFetchHomeUsers:dE.RY,dispatchFetchInvites:dE.xP,dispatchFetchSentInvites:dE.bc,onToggleGuestUser:dE.yA};class kHe extends y.Component{componentDidMount(){(0,Rt.c9)((()=>{this.props.dispatchFetchAllFriends(),this.props.dispatchFetchHomeDetails(),this.props.dispatchFetchHomeUsers(),this.props.dispatchFetchInvites(),this.props.dispatchFetchSentInvites()}))}render(){const e=this.props,{dispatchFetchAllFriends:t,dispatchFetchHomeDetails:n,dispatchFetchHomeUsers:i,dispatchFetchInvites:s,dispatchFetchSentInvites:r}=e,a=((e,t)=>{var n={};for(var i in e)ZHe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&NHe)for(var i of NHe(e))t.indexOf(i)<0&&AHe.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchFetchAllFriends","dispatchFetchHomeDetails","dispatchFetchHomeUsers","dispatchFetchInvites","dispatchFetchSentInvites"]);return y.createElement(THe,xHe({},a))}}const RHe=(0,f.$j)(OHe,jHe)(kHe);class zHe extends y.Component{constructor(){super(...arguments),this.onTogglePress=e=>{this.props.onToggle(this.props.index)},this.onRemovePress=e=>{this.props.onRemove(this.props.url)},this.onSubmit=e=>{this.props.onSubmit(this.props.url,e.url)}}render(){const{isDirty:e,isOpen:t,isUpdating:n,isRemoving:i,url:s,error:r,onFormChange:a}=this.props,o=n||i;return y.createElement(Hee,{isOpen:t,closedNode:y.createElement("div",null,y.createElement(yee.Z,{className:"WebhookFormSection-label-HXeFa7 FormLabel-label-1WQL1E CloseableFormSection-isPressable-2ogaVI"},(0,De.Z)("URL")),s),errorMessage:Bye(r),onTogglePress:this.onTogglePress},y.createElement(kee.ZP,{onSubmit:this.onSubmit,onChange:a},y.createElement(Qk.Z,{focusOnMount:!0,selectTextOnFocus:!0,labelText:(0,De.Z)("URL"),isDisabled:o,name:"url",initialValue:s,validations:s?[XEe]:[]}),y.createElement("div",{className:"WebhookFormSection-buttons-2rWtI_"},s?y.createElement(Gk.Z,{className:"WebhookFormSection-dangerButton-1Ds8yX",kind:fo.T,isSpinning:i,isDisabled:o,onPress:this.onRemovePress},(0,De.Z)("Remove")):null,y.createElement(Gk.Z,{className:"WebhookFormSection-button-XA-Z_9",type:"submit",kind:fo._8,isSpinning:n,isDisabled:o||!e},(0,De.Z)("Save Changes")))))}}const UHe=tR(zHe,{isUpdatingPropName:"isUpdating",errorPropName:"error",clearDirtyOnChangePropName:"isOpen"});var VHe=Object.assign;const BHe=(0,de.P1)(HB.Z,(e=>({hasPlexSubscription:!!e&&e.hasPlexSubscription}))),FHe=(0,f.$j)(BHe)((function(e){const{hasPlexSubscription:t,origin:n,modalMetricsProperties:i}=e;return t?null:y.createElement(voe,{origin:n,modalMetricsProperties:i})}));FHe.propTypes=VHe({},FHe.propTypes);const HHe=FHe;function _He(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40",id:"plex-icon-marketing-webhooks"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M6.665 4.166a.834.834 0 1 1-1.667 0 .834.834 0 0 1 1.667 0zm3.334 0a.834.834 0 1 1-1.668 0 .834.834 0 0 1 1.668 0zm3.333 0a.834.834 0 1 1-1.667 0 .834.834 0 0 1 1.667 0zm2.5 22.498l.001-.002a.834.834 0 0 1 0 1.667H4.168a4.17 4.17 0 0 1-4.166-4.166V4.165A4.17 4.17 0 0 1 4.168-.001h26.664a4.17 4.17 0 0 1 4.166 4.166v13.333a.834.834 0 0 1-1.667 0V8.332H1.667v15.833c0 1.378 1.121 2.5 2.5 2.5h11.665zM4.165 1.666a2.502 2.502 0 0 0-2.5 2.5v2.5H33.33v-2.5c0-1.378-1.12-2.5-2.5-2.5H4.166zm35.418 30.03l.002-.002a.83.83 0 0 1 .305 1.136l-2.499 4.33a.821.821 0 0 1-.506.388.85.85 0 0 1-.633-.085l-1.324-.766a8.668 8.668 0 0 1-1.596.921v1.544c0 .46-.373.834-.834.834h-5a.834.834 0 0 1-.833-.834v-1.536a8.862 8.862 0 0 1-1.62-.924l-1.344.77a.836.836 0 0 1-1.136-.306l-2.5-4.33a.834.834 0 0 1 .305-1.138l1.327-.769a7.67 7.67 0 0 1 0-1.861l-1.325-.766a.832.832 0 0 1-.304-1.139l2.5-4.33a.836.836 0 0 1 1.137-.306l1.34.77a9.048 9.048 0 0 1 1.619-.924V20.83c0-.46.373-.834.833-.834h5c.46 0 .834.373.834.834v1.543a8.84 8.84 0 0 1 1.594.92l1.32-.766a.822.822 0 0 1 .634-.085.837.837 0 0 1 .506.389l2.5 4.33a.834.834 0 0 1-.305 1.138l-1.329.769a8.1 8.1 0 0 1 .002 1.86l1.33.768zm-3.22 3.91v.001l1.665-2.884-1.1-.635a.832.832 0 0 1-.401-.874c.075-.406.113-.815.113-1.215 0-.396-.038-.805-.115-1.215a.83.83 0 0 1 .402-.873l1.098-.635-1.666-2.885-1.085.631a.837.837 0 0 1-.96-.089 7.087 7.087 0 0 0-2.108-1.216.833.833 0 0 1-.542-.781v-1.27h-3.333v1.27a.844.844 0 0 1-.541.785c-.808.3-1.564.731-2.129 1.216a.832.832 0 0 1-.956.09l-1.105-.636-1.67 2.888 1.096.635a.835.835 0 0 1 .402.871c-.08.43-.12.83-.12 1.215.002.408.04.815.117 1.215a.832.832 0 0 1-.404.871l-1.096.635 1.669 2.889 1.11-.636a.831.831 0 0 1 .956.09c.565.486 1.321.916 2.126 1.216.327.12.544.432.544.781v1.27h3.333v-1.27c0-.348.217-.66.544-.781a6.962 6.962 0 0 0 2.106-1.216.837.837 0 0 1 .96-.09l1.09.632zm-6.39-9.774a4.17 4.17 0 0 1 4.166 4.166 4.17 4.17 0 0 1-4.166 4.166 4.17 4.17 0 0 1-4.166-4.166 4.17 4.17 0 0 1 4.166-4.166zm0 6.666c1.379 0 2.5-1.122 2.5-2.5 0-1.379-1.121-2.5-2.5-2.5a2.502 2.502 0 0 0-2.5 2.5c0 1.378 1.122 2.5 2.5 2.5z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}_He.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const QHe=_He,GHe=function(e){const{supportPageUrl:t,hasWebhooksFeature:n,addWebHookButton:i}=e;return y.createElement("div",{className:"WebhookSettingsPageInfo-infoContainer-2Ss2xl"},y.createElement(goe,{iconComponent:QHe,title:(0,De.Z)("Webhooks"),text:(0,De.Z)('Hooked on home automation? With a Plex Pass, you can setup "webhooks" - Have Plex dim the lights when you start a movie, or send a tweet after you finish an episode of your favourite TV show.'),moreInfo:y.createElement(ax.Z,{message:(0,De.Z)("See our {openLinkDocumentation}documentation{closeLinkDocumentation} for example projects that showcase the power of webhooks."),tags:[{open:"openLinkDocumentation",close:"closeLinkDocumentation",component:AM.Z,kind:fo._8,to:t,target:"_blank"}]})},n?i:y.createElement(HHe,{origin:poe.XA,modalMetricsProperties:{context:"webhooks"}})))};class YHe extends y.Component{constructor(e,t){super(e,t),this.onToggle=e=>{const t=this.state.openFormSectionIndex===e;this.props.onErrorDismiss(),this.props.onToggle(),this.setState({openFormSectionIndex:t?null:e})},this.onRemove=e=>{this.setState({removeWebhookModalURL:e,isRemoveWebhookModalOpen:!0})},this.onSubmit=(e,t)=>{e===t?(this.setState({openFormSectionIndex:null}),this.props.onToggle()):this.props.onSubmit(e,t)},this.onRemoveWebhookConfirmPress=e=>{const{removeWebhookModalURL:t}=this.state;this.props.onRemove(t)},this.onRemoveWebhookCancelPress=e=>{this.setState({isRemoveWebhookModalOpen:!1})},this.state={openFormSectionIndex:null,isRemoveWebhookModalOpen:!1}}componentWillReceiveProps(e){!e.isRemovingWebhooks&&this.props.isRemovingWebhooks&&this.setState({openFormSectionIndex:null,isRemoveWebhookModalOpen:!1});const t=e.webhooks===this.props.webhooks?-1:E().findIndex(e.webhooks,(e=>""===e.url)),n=-1!==t,i=!e.isUpdatingWebhooks&&!e.updateWebhooksError&&this.props.isUpdatingWebhooks;n?this.setState({openFormSectionIndex:t}):i&&this.setState({openFormSectionIndex:null})}render(){const{isUserRestricted:e,hasWebhooksFeature:t,isWebhooksPending:n,isWebhooksPopulated:i,webhooksError:s,isUpdatingWebhooks:r,isRemovingWebhooks:a,updateWebhooksError:o,webhooks:l,onAddWebhookPress:c}=this.props,{openFormSectionIndex:d,removeWebhookModalURL:u,isRemoveWebhookModalOpen:p}=this.state;if(e)return y.createElement(_z.Z,{title:(0,De.Z)("You're not supposed to be here"),description:(0,De.Z)("You don't have access to webhooks settings")});if(t&&n)return y.createElement(Gz.Z,null,y.createElement(RC.Z,null));const m=l&&l.length,h=!t||!m,g=l&&E().find(l,(e=>""===e.url)),v=i&&l&&m<5&&!g,f=y.createElement($h.Z,{kind:fo._8,onPress:c},(0,De.Z)("Add webhook"));return y.createElement(see,{metricsPage:et.yV,metricsPane:"webhooks"},h?y.createElement(GHe,{supportPageUrl:Np.uY,hasWebhooksFeature:t,addWebHookButton:f}):y.createElement(y.Fragment,null,y.createElement(aee,null,(0,De.Z)("Webhooks")),y.createElement("p",null,(0,De.Z)("Plex Media Server will make requests to these webhooks on various media playback events.")),y.createElement("p",null,y.createElement(AM.Z,{kind:fo._8,to:Np.uY,target:"_blank"},(0,De.Z)("Learn more"))),l.map(((e,t)=>{const n=d===t;return y.createElement(UHe,{key:t,index:t,url:e.url,isOpen:n,isUpdating:n&&r,isRemoving:n&&a,error:n?o:null,onRemove:this.onRemove,onToggle:this.onToggle,onSubmit:this.onSubmit})})),v?y.createElement("div",{className:"WebhookSettingsPage-buttons-1e3upe"},f):null),s?y.createElement("div",{className:"WebhookSettingsPage-error-1DAgKn"},(0,De.Z)("An error occurred retrieving webhooks. Please try again.")):null,y.createElement(nt.Z,{isConfirmButtonSpinning:a,isCancelButtonDisabled:a,isOpen:p,metricsPage:et.yF,title:(0,De.Z)("Remove Webhook"),message:(0,De.Z)("Plex will no longer post updates to {url}.",{url:u}),confirmLabel:(0,De.Z)("Remove"),kind:fo.T,onConfirm:this.onRemoveWebhookConfirmPress,onCancel:this.onRemoveWebhookCancelPress}))}}const WHe=YHe;var KHe=Object.prototype.hasOwnProperty,qHe=Object.getOwnPropertySymbols,$He=Object.prototype.propertyIsEnumerable,JHe=Object.assign;const XHe=(0,de.P1)($Se.Z,(0,Ie.Z)(be.XA),((e,t)=>({isUserRestricted:!!e.restricted,webhooks:e.webhooks,isWebhooksPending:e.isWebhooksPending,isWebhooksPopulated:e.isWebhooksPopulated,webhooksError:e.webhooksError,isUpdatingWebhooks:e.isUpdatingWebhooks,isRemovingWebhooks:e.isRemovingWebhooks,updateWebhooksError:e.updateWebhooksError,hasWebhooksFeature:t}))),e_e={dispatchFetchWebhooks:dE.HL,onAddWebhookPress:()=>(0,dE.U_)(),onErrorDismiss:dE.K2,onRemove:e=>(0,dE.dL)(e),onSubmit:(e,t)=>(0,dE.EL)({oldUrl:e,newUrl:t}),onToggle:()=>(0,dE.dL)("")};class t_e extends y.Component{componentDidMount(){this.props.hasWebhooksFeature&&(0,Rt.c9)((()=>{this.props.dispatchFetchWebhooks()})),this.props.onErrorDismiss()}render(){const e=this.props,{dispatchFetchWebhooks:t}=e,n=((e,t)=>{var n={};for(var i in e)KHe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&qHe)for(var i of qHe(e))t.indexOf(i)<0&&$He.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchFetchWebhooks"]);return y.createElement(WHe,JHe({},n))}}const n_e=(0,f.$j)(XHe,e_e)(t_e);var i_e=n(12304);const s_e=function(){return WH("playQueue")},r_e=function(e=0){return(0,de.P1)(s_e(),my.Z,((t,n)=>{const i=t?t.playQueueItems:[];if(i.length){const s=t.currentIndex;let r=s+e;t.repeat&&(r=function(e,t,n){return(e+t%n+n)%n}(s,e,t.length));const a=i[r];return a&&n[a]}}))},a_e=function(){return(0,de.P1)(WH("currentDecision"),r_e(),((e,t)=>{const n=e;if(n&&n.playQueueItemID===t.playQueueItemID)return n}))},o_e="commercial",l_e="intro",c_e=function(e=0){return(0,de.P1)(r_e(e),EC.Z,((e,t)=>{if(e&&e.metadataItem)return t[e.metadataItem]}))};function d_e(e=0){return(0,de.P1)(r_e(e),EC.Z,((e,t)=>{if(e)return t[e.metadataItem]}))}const u_e=(0,de.P1)(Hwe(),(e=>!(!e||!pa.wB((0,ga.Z)(e.identifier,e.providerIdentifier),[pa.vP,pa.Ll]))));function p_e(){return(0,de.P1)(u_e,d_e(),t_(),a_e(),((e,t,n,i)=>{let s;return e?s=n:i&&(s=t.Media[i.mediaIndex]),s||null}))}var m_e=n(40111);const h_e=(0,y.createContext)(),g_e="UPDATE_POSITION_MILLISECONDS",y_e="RESET_POSITION_MILLISECONDS",v_e=(0,No.Z)(g_e),f_e=(0,No.Z)(y_e);function I_e(e,{type:t,payload:n}){switch(t){case g_e:return n;case y_e:return 0;default:return e}}var b_e=Object.prototype.hasOwnProperty,M_e=Object.getOwnPropertySymbols,S_e=Object.prototype.propertyIsEnumerable,E_e=Object.assign;const D_e=function(e){var t;const n={dispatchUpdatePositionMilliseconds:v_e,dispatchResetPositionMilliseconds:f_e};return(0,f.$j)(null,n,null,{context:h_e})(((t=class extends y.Component{constructor(){super(...arguments),this.onPositionMillisecondsChange=e=>{this.props.dispatchUpdatePositionMilliseconds(e)}}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}componentWillUnmount(){this.props.dispatchResetPositionMilliseconds()}render(){const t=this.props,{dispatchUpdatePositionMilliseconds:n,dispatchResetPositionMilliseconds:i}=t,s=((e,t)=>{var n={};for(var i in e)b_e.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&M_e)for(var i of M_e(e))t.indexOf(i)<0&&S_e.call(e,i)&&(n[i]=e[i]);return n})(t,["dispatchUpdatePositionMilliseconds","dispatchResetPositionMilliseconds"]);return y.createElement(e,E_e(E_e({},s),{onPositionMillisecondsChange:this.onPositionMillisecondsChange}))}}).displayName=`PositionMillisecondsMonitor(${(0,rC.Z)(e)})`,t.WrappedComponent=e,t.propTypes={dispatchUpdatePositionMilliseconds:ls().func.isRequired,dispatchResetPositionMilliseconds:ls().func.isRequired},t))};function C_e(){return(0,de.P1)(NP,WH("playbackSpeed"),c_e(),((e,t,n)=>e?1:t||n&&n.playbackSpeed||1))}function P_e(e){const t=e.remotePlayer;return t?t.volume:(0,M.DB)("selectLocalVolume")(e)}var w_e=n(70468);const T_e=function(){return(0,de.P1)(WH("mediaIndex"),r_e(),EC.Z,((e=0,t,n)=>{if(!t||!t.metadataItem)return;const{Media:i}=n[t.metadataItem];return i[e]}))},Z_e=function(){return(0,de.P1)(WH("partIndex"),T_e(),((e=0,t)=>{if(t)return t.Part[e]}))},N_e=function(){return(0,de.P1)(Z_e(),(e=>{if(!e)return{videoStreams:[],selectedVideoStream:null,audioStreams:[],selectedAudioStream:null,subtitlesStreams:[],selectedSubtitlesStream:null};const t=XP.Z.get("video").id,n=XP.Z.get("audio").id,i=XP.Z.get("subtitles").id,s=e.Stream.filter((e=>e.streamType===t)),r=e.Stream.filter((e=>e.streamType===n)),a=e.Stream.filter((e=>e.streamType===i)),o=s[0],l=r.find((e=>e.selected)),c=a.find((e=>e.selected));return{videoStreams:s,selectedVideoStream:o,audioStreams:r,selectedAudioStream:l,subtitlesStreams:a,selectedSubtitlesStream:c}}))};function A_e(){return(0,de.P1)(u_e,d_e(),e_(),((e,t,n)=>e?n:t))}const x_e=function(){return(0,de.P1)(WH("serverEntityID"),a_e(),he.Z,((e,t,n)=>t&&t.transcodeServerEntityID?n[t.transcodeServerEntityID]:e?n[e]:void 0))};var L_e=n(17626),O_e=n(79557);var j_e=Object.prototype.hasOwnProperty,k_e=Object.getOwnPropertySymbols,R_e=Object.prototype.propertyIsEnumerable,z_e=Object.assign;class U_e extends y.Component{constructor(e,t){super(e,t),this._mediaComponent=(0,M.DB)("mediaComponent")}render(){const e=this.props,{isDecisionPending:t,isDecisionDirectPlay:n,isDecisionDirectStreamAudio:i,isDecisionDirectStreamVideo:s,isLibraryProvider:r,hasStreamProtocol:a,isPaused:o,isAdVisible:l,decisionUrl:c,decisionProtocol:d,decisionError:u,decisionDrm:p,decisionCertificate:m,decisionLicense:h,media:g,mediaType:v,mediaSubtype:f,placement:I,shouldCoverWhenDecisionPending:b}=e,M=((e,t)=>{var n={};for(var i in e)j_e.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&k_e)for(var i of k_e(e))t.indexOf(i)<0&&R_e.call(e,i)&&(n[i]=e[i]);return n})(e,["isDecisionPending","isDecisionDirectPlay","isDecisionDirectStreamAudio","isDecisionDirectStreamVideo","isLibraryProvider","hasStreamProtocol","isPaused","isAdVisible","decisionUrl","decisionProtocol","decisionError","decisionDrm","decisionCertificate","decisionLicense","media","mediaType","mediaSubtype","placement","shouldCoverWhenDecisionPending"]);if(t)return b?y.createElement("div",{className:"PlayerMedia-isDecisionPending-3Zs8mC"}):null;const S=this._mediaComponent.getComponent({drm:p,protocol:d,isDirectPlay:n,isDirectStreamAudio:i,isDirectStreamVideo:s,isLibraryProvider:r,hasStreamProtocol:a,media:g}),E=v===$a.j0?O_e.Hn:I;return y.createElement(y.Suspense,{fallback:null},y.createElement(S,z_e(z_e({},M),{key:c,src:c,paused:o||l,placement:E,media:g,mediaType:v,mediaSubtype:f,drm:p,license:h,certificate:m,isDecisionDirectPlay:n,isDecisionDirectStreamAudio:i,isDecisionDirectStreamVideo:s})))}}const V_e=U_e;var B_e=Object.prototype.hasOwnProperty,F_e=Object.getOwnPropertySymbols,H_e=Object.prototype.propertyIsEnumerable,__e=Object.assign;function Q_e(e){const{playerType:t,mediaType:n,mediaSubtype:i,durationSeconds:s,minSecondsForPostPlay:r}=e;return n===$a.pX&&i!==zo.MUSIC_VIDEO&&t===Se.Se&&s>=r}const G_e={dispatchMakeDecision:w_e.bY,dispatchMakeNextDecision:w_e.kG,dispatchRemoveDecision:w_e.Td,dispatchRetryDecision:w_e.Mf,dispatchUpdatePlayerDuration:i_e.qr,dispatchUpdatePlayerPosition:i_e.lj,dispatchUpdatePlayerSeekRange:i_e.uZ,dispatchUpdatePlayerBuffering:i_e.n9,dispatchPause:i_e.wO,dispatchPlay:i_e.hY,dispatchUpdatePlayerError:i_e.IE,dispatchSendTimeline:i_e.$E,dispatchTickPlayer:i_e.fp,dispatchShowPostPlay:FP.HI,dispatchPlayNextItem:FP.o1,dispatchEndPlayback:it.Mh,dispatchSetMetricsPlayer:it.Kq,dispatchUpdateMediaDimensions:i_e.bb,dispatchUpdateCanPlayThrough:i_e.mh};class Y_e extends y.Component{constructor(e,t){super(e,t),this.onDurationMillisecondsChange=e=>{this.props.dispatchUpdatePlayerDuration({playerType:this.props.playerType,durationMilliseconds:e})},this.onPositionMillisecondsChange=e=>{const{playerType:t,dispatchUpdatePlayerPosition:n,onPositionMillisecondsChange:i}=this.props,s=Math.floor(e/1e3);i&&i(e),s!==this.props.positionSeconds&&n({playerType:t,positionSeconds:s})},this.onTick=e=>{const{metadataItemEntityID:t,liveTVSessionEntityID:n,mediaItemID:i,playerType:s,dispatchTickPlayer:r}=this.props;t&&i&&r({metadataItemEntityID:t,liveTVSessionEntityID:n,mediaItemID:i,playerType:s,secondsElapsed:e})},this.onBufferingChange=e=>{this.props.dispatchUpdatePlayerBuffering({playerType:this.props.playerType,isBuffering:e})},this.onPause=()=>{this.props.isAdVisible||this.props.dispatchPause({playerType:this.props.playerType,isApplicationInitiated:!0})},this.onPlay=()=>{this.props.isAdVisible||this.props.dispatchPlay({playerType:this.props.playerType,isApplicationInitiated:!0})},this.onStreamChange=()=>{const{playerType:e,playQueueItemEntityID:t,positionSeconds:n,liveTVPositionSeconds:i,qualityIndex:s,decisionMediaIndex:r,decisionPartIndex:a,dispatchMakeDecision:o,dispatchRemoveDecision:l}=this.props;l({playerType:e,playQueueItemEntityID:t}),o({playerType:e,playQueueItemEntityID:t,mediaIndex:r,partIndex:a,qualityIndex:s,options:{offset:null!=i?1e3*i:1e3*n}})},this.onMetricsPlayerChange=e=>{const{playerType:t,dispatchSetMetricsPlayer:n}=this.props;n({playerType:t,metricsPlayer:e})},this.onError=(e={})=>{const{code:t,category:n,message:i}=e,{playerType:s,isDecisionDirectPlay:r,isDecisionDirectStreamVideo:a,isDecisionDirectStreamAudio:o,canTranscodeServerTranscode:l,dispatchUpdatePlayerError:c}=this.props;r&&l?(D.Z.warn("[Player] Direct Play failed, but server can transcode. Attempting to fallback to either Direct Stream or transcode..."),this._itemRestarting(this.props,{allowDirectPlay:!1})):a&&l?(D.Z.warn("[Player] Direct Stream failed, but server can transcode. Attempting to fallback to video transcode..."),this._itemRestarting(this.props,{allowDirectPlay:!1,transcoderOptions:{directStream:0}})):o&&l?(D.Z.warn("[Player] Video transcode failed. Attempting to fallback to video and audio transcode..."),this._itemRestarting(this.props,{allowDirectPlay:!1,transcoderOptions:{directStream:0,directStreamAudio:0}})):(this.onPause(),c({playerType:s,errorCode:t,errorCategory:n,errorMessage:i}))},this.onEnd=()=>{const{playerType:e,playQueueItemEntityID:t,qualityIndex:n,repeatOne:i,repeatAll:s,isLastPlayQueueItem:r,totalCount:a,decisionMediaIndex:o,decisionPartIndex:l,decisionPartCount:c,dispatchMakeDecision:d,dispatchRemoveDecision:u,dispatchShowPostPlay:p,dispatchPlayNextItem:m,dispatchEndPlayback:h}=this.props,g=i||s&&1===a;l+1<c?(u({playerType:e,playQueueItemEntityID:t}),d({playerType:e,playQueueItemEntityID:t,qualityIndex:n,mediaIndex:o,partIndex:l+1,options:{offset:0}})):g?(u({playerType:e,playQueueItemEntityID:t}),d({playerType:e,playQueueItemEntityID:t,qualityIndex:n,mediaIndex:o,partIndex:0,options:{offset:0}})):!r||s?Q_e(this.props)?p({playerType:e}):m({playerType:e,isApplicationInitiated:!0}):h({playerType:e})},this.onIntrinsicDimensions=({width:e,height:t})=>{const{playerType:n,dispatchUpdateMediaDimensions:i}=this.props;(0,D.Z)(`[Player] Media resized: ${e}x${t} (${e/t})`),i({playerType:n,width:e,height:t})},this.onCanPlayThrough=e=>{const{playerType:t,dispatchUpdateCanPlayThrough:n}=this.props;n({playerType:t,canPlayThrough:e})},this._hasRefreshedPlayQueue=!1,this._shouldStopOnUnmount=!1}componentDidMount(){this._itemStarting(this.props),this.props.mediaType===$a.pV&&this._itemProgressing(this.props)}componentDidUpdate(e){const{playQueueItemEntityID:t,mediaItemID:n,playerType:i,mediaType:s,isDecisionPending:r,isPaused:a,isBuffering:o,hasError:l,positionSeconds:c,durationSeconds:d,preFetchSeconds:u,qualityIndex:p,dispatchMakeNextDecision:m,liveTVPositionSeconds:h,isLiveTV:g}=this.props,y=e.mediaItemID,v=g?!(!n||!y||n===y):t!==e.playQueueItemEntityID,f=r!==e.isDecisionPending,I=p!==e.qualityIndex,b=a!==e.isPaused,M=o!==e.isBuffering,S=l!==e.hasError,E=d!==e.durationSeconds;if(!I||v||f){if(v)return this._hasRefreshedPlayQueue=!1,this._hasPreFetched=!1,this._itemStopping(e,{removeDecision:!g}),this._itemStarting(this.props),void(s===$a.pV&&(this._itemProgressing(this.props,{shouldRefreshPlayQueue:!0}),this._hasRefreshedPlayQueue=!0));!this._hasPreFetched&&d>0&&d-c<u&&!Q_e(this.props)&&(this._hasPreFetched=!0,m({playerType:i})),!f&&(!this._hasRefreshedPlayQueue||b||M||S||E)&&(this._itemProgressing(this.props,{shouldRefreshPlayQueue:!this._hasRefreshedPlayQueue}),this._hasRefreshedPlayQueue=!0)}else{const e=null!=h?1e3*h:1e3*c;this._itemRestarting(this.props,{offset:e})}}componentWillUnmount(){!this.props.shouldSuppressStopOnUnmount&&this._shouldStopOnUnmount&&this._itemStopping(this.props,{continuing:!1}),this.props.onPositionMillisecondsChange&&this.props.onPositionMillisecondsChange(0)}_itemStarting(e){const{mediaType:t,playerType:n,playQueueItemEntityID:i,qualityIndex:s}=e;t!==$a.pV&&e.dispatchMakeDecision({playerType:n,playQueueItemEntityID:i,qualityIndex:s})}_itemRestarting(e,t={}){const{mediaType:n,playerType:i}=e;n!==$a.pV&&e.dispatchRetryDecision({playerType:i,decisionOptions:t})}_itemProgressing(e,{shouldRefreshPlayQueue:t=!1}={}){const{playerType:n,mediaType:i,providerEntityID:s,playQueueItemEntityID:r,metadataItemEntityID:a,mediaItemID:o,playbackTime:l,positionSeconds:c,durationSeconds:d,isPaused:u,decisionMediaIndex:p,decisionPartIndex:m,decisionPartCount:h,dispatchSendTimeline:g,liveTVSessionEntityID:y}=e,v=i===$a.pV,f=u&&!v?L_e.rf:L_e.Z$;g({playerType:n,providerEntityID:s,playQueueItemEntityID:r,metadataItemEntityID:a,liveTVSessionEntityID:y,mediaItemID:o,shouldRefreshPlayQueue:t,options:v?{state:f}:{playbackSessionID:e.playbackSessionID,playbackTime:l,positionSeconds:c,durationSeconds:d,mediaIndex:p,partIndex:m,partCount:h}}),this._shouldStopOnUnmount=!0}_itemStopping(e,{continuing:t=!0,removeDecision:n=!0}={}){e.dispatchSendTimeline({playerType:e.playerType,providerEntityID:e.providerEntityID,playQueueItemEntityID:e.playQueueItemEntityID,metadataItemEntityID:e.metadataItemEntityID,liveTVSessionEntityID:e.liveTVSessionEntityID,mediaItemID:e.mediaItemID,options:{state:L_e.il,continuing:t,playbackSessionID:e.playbackSessionID,playbackTime:e.playbackTime,positionSeconds:e.positionSeconds,durationSeconds:e.durationSeconds,mediaIndex:e.decisionMediaIndex,partIndex:e.decisionPartIndex,partCount:e.decisionPartCount}}),n&&e.mediaType!==$a.pV&&e.dispatchRemoveDecision({playerType:e.playerType,playQueueItemEntityID:e.playQueueItemEntityID}),this._shouldStopOnUnmount=!1}render(){const e=this.props,{preFetchSeconds:t,minSecondsForPostPlay:n,repeatOne:i,repeatAll:s,totalCount:r,isLastPlayQueueItem:a,isAdVisible:o,shouldSuppressStopOnUnmount:l,canTranscodeServerTranscode:c,qualityIndex:d,decisionMediaIndex:u,decisionPartIndex:p,decisionPartCount:m,dispatchMakeDecision:h,dispatchRemoveDecision:g,dispatchUpdatePlayerDuration:v,dispatchUpdatePlayerPosition:f,dispatchUpdatePlayerSeekRange:I,dispatchUpdatePlayerBuffering:b,dispatchPause:M,dispatchUpdatePlayerError:S,dispatchTickPlayer:E,dispatchShowPostPlay:D,dispatchPlayNextItem:C,dispatchEndPlayback:P,dispatchSetMetricsPlayer:w,dispatchUpdateMediaDimensions:T,dispatchUpdateCanPlayThrough:Z}=e,N=((e,t)=>{var n={};for(var i in e)B_e.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&F_e)for(var i of F_e(e))t.indexOf(i)<0&&H_e.call(e,i)&&(n[i]=e[i]);return n})(e,["preFetchSeconds","minSecondsForPostPlay","repeatOne","repeatAll","totalCount","isLastPlayQueueItem","isAdVisible","shouldSuppressStopOnUnmount","canTranscodeServerTranscode","qualityIndex","decisionMediaIndex","decisionPartIndex","decisionPartCount","dispatchMakeDecision","dispatchRemoveDecision","dispatchUpdatePlayerDuration","dispatchUpdatePlayerPosition","dispatchUpdatePlayerSeekRange","dispatchUpdatePlayerBuffering","dispatchPause","dispatchUpdatePlayerError","dispatchTickPlayer","dispatchShowPostPlay","dispatchPlayNextItem","dispatchEndPlayback","dispatchSetMetricsPlayer","dispatchUpdateMediaDimensions","dispatchUpdateCanPlayThrough"]);return o&&!J.Z.allowAdsOverMedia?null:y.createElement(V_e,__e(__e({},N),{isAdVisible:o,onMetricsPlayerChange:this.onMetricsPlayerChange,onDurationMillisecondsChange:this.onDurationMillisecondsChange,onPositionMillisecondsChange:this.onPositionMillisecondsChange,onTick:this.onTick,onBufferingChange:this.onBufferingChange,onStreamChange:this.onStreamChange,onError:this.onError,onEnd:this.onEnd,onPause:this.onPause,onPlay:this.onPlay,onIntrinsicDimensions:this.onIntrinsicDimensions,onCanPlayThrough:this.onCanPlayThrough}))}}Y_e.defaultProps={preFetchSeconds:10,minSecondsForPostPlay:300,shouldSuppressStopOnUnmount:!1};const W_e=(0,f.$j)((function(){return(0,de.P1)(function(e=0){return(0,de.P1)(r_e(e),EC.Z,_t.Z,((e,t,n)=>{if(!e||!e.metadataItem)return;const i=t[e.metadataItem];return i&&n[i.providerEntityID]}))}(),YH(),a_e(),x_e(),r_e(),r_e(1),A_e(),p_e(),N_e(),qH(),(0,de.P1)((0,M.DB)("selectRemoteQuality"),(e=>{let t=qP.Z.getQualityByIndex(e).bitrate;return null==t&&(t=2e5),1e3*t})),((e,t,n,i,s,r,a,o,l,c,d)=>{const u=t.playQueue,p=u.playQueueSelectedItemOffset,m=s.entityID,h=!r||p+1===u.length,g={providerEntityID:t.providerEntityID,mediaItemID:null==o?void 0:o.id,metadataItemEntityID:null==a?void 0:a.entityID,playQueueItemEntityID:m,liveTVSessionEntityID:null==c?void 0:c.entityID,isDecisionPending:!n,isPaused:t.isPaused,isBuffering:t.isBuffering,hasError:t.hasError,repeatOne:t.repeatOne,repeatAll:t.repeatAll,totalCount:u.length,isLastPlayQueueItem:h,playbackTime:t.itemPlaybackTime,positionSeconds:t.positionSeconds,durationSeconds:t.durationSeconds,playbackSessionID:t.playbackSessionID,lastSeekPositionSeconds:t.lastSeekPositionSeconds,videoStreams:l.videoStreams,videoStream:l.selectedVideoStream,audioStreams:l.audioStreams,audioStream:l.selectedAudioStream,subtitlesStreams:l.subtitlesStreams,subtitleStream:l.selectedSubtitlesStream,isStreamChangeInProgress:null==a?void 0:a.isStreamChangeInProgress,bufferingDetectionLimit:J.Z.bufferingDetectionLimit};if(c){const e=3===t.confirmLocalToRemote;Object.assign(g,function(e){if(!e)return{};const t=e.captureBuffer,n={liveTVSessionSubscriptionKey:e.key,liveTVSessionChannelIdentifier:e.channelIdentifier,liveTVSessionCurrentPosition:e.currentPosition,liveTVSessionStartedAt:e.startedAt};if(t){const i=t.startedAt,s=e.startedAt,r=i||s;Object.assign(n,{liveTVPositionSeconds:e.currentPosition-r,liveTVSessionSeekRangeStartedAt:t.startedAt,liveTVSessionSeekStartSeconds:t.seekStartSeconds,liveTVSessionSeekEndSeconds:t.seekEndSeconds})}return n}(c),{shouldSuppressStopOnUnmount:e,isLiveTV:!0})}return n&&(g.decisionMediaIndex=n.mediaIndex,g.decisionPartIndex=n.partIndex,g.decisionPartCount=n.partCount,g.decisionUrl=n.url,g.decisionProtocol=n.protocol,g.decisionError=n.error,g.isDecisionDirectPlay=n.isDirectPlay,g.isDecisionDirectStreamVideo=n.canDirectStreamVideo,g.isDecisionDirectStreamAudio=n.canDirectStreamAudio,g.canTranscodeServerTranscode=!i.isCloud&&(0,qh.Z)(i.version,Yh.Z.decisionEndpoint),n.playbackSessionID&&(g.playbackSessionID=n.playbackSessionID),g.hasBurnedSubtitles=l.selectedSubtitlesStream&&l.selectedSubtitlesStream.id!==WP.H&&!n.subtitlesUrl,g.decisionDrm=n.drm,g.decisionLicense=n.license,g.decisionCertificate=n.certificate),!g.isDecisionDirectPlay||"dash"!==g.decisionProtocol&&"hls"!==g.decisionProtocol||(g.bufferingGoal=10,g.defaultBandwidthEstimate=d),e&&(g.isLibraryProvider=e.isLibraryProvider,g.hasStreamProtocol=e.protocols.includes("stream")),g}))}),G_e,(function(e,t,n){const i=t;return __e(__e(__e({},n),e),i)}))(Y_e),K_e=(0,f.$j)((function(){return(0,de.P1)(WH("qualityIndex"),ye.Z,P_e,C_e(),(0,de.P1)(((e,{mediaType:t})=>t),WH("openState"),((e,t)=>e===$a.pX&&t===YP.K)),((e,t,n,i,s)=>({qualityIndex:e,subtitleSize:t.subtitleSize,volume:n,playbackSpeed:i,shouldCoverWhenDecisionPending:s})))}))(W_e);var q_e=Object.assign;const $_e=D_e((function(e){return y.createElement(K_e,q_e(q_e({},e),{type:"audio",allowRecycleElement:!0}))})),J_e=function(e,t){return(0,oC.Z)((0,de.P1)((e=>e.ui),((e,{playerType:t})=>t),((n,i=t)=>{const s=i+"Player";return n[s]?E().pick(n[s],e):{}})),(e=>e))};function X_e(){return(0,de.P1)(he.Z,WH("serverEntityID"),((e,t)=>e[t]))}var eQe=n(96242),tQe=n(22093),nQe=n(18206);const iQe="direct",sQe="copy",rQe="transcode";var aQe=n(1997),oQe=n(66729);function lQe(e,t){let n=e/t;return n=Math.round(n),n*=t,n}function cQe(e){if(null==e)return;const t=Math.round(e/1e3);let n;return n=t>=3600?300:60,lQe(t,n)}var dQe=Object.assign;const uQe="unknown",pQe={dispatchSetPlayerItemPlaybackTime:i_e.Pn,dispatchSetPlayerSessionPlaybackTime:i_e.ZI};class mQe extends y.Component{constructor(e,t){super(e,t),this.onTickTimeout=()=>{this.flushPlaybackTimes(),this.setTickTimeout(this.props)},this.itemID=null,this.itemDecision=null,this.itemMetricsProperties=null,this.itemPlaybackTimestamp=null,this.itemPlaybackMilliseconds=0,this.sessionPlaybackMilliseconds=0,this.sessionPlaybackCount=0,this.sessionAdPlaybackStartTime=0,this.hasError=!1,this.hasEnded=!1,this.hasStopped=!1,this._tickTimeout=null}componentDidMount(){this.update()}componentDidUpdate(e){this.update(e)}componentWillUnmount(){this.hasStopped=!0,this.trackItemEnd(),this.trackSessionEnd(),this.clearTickTimeout()}clearTickTimeout(){this._tickTimeout&&(this._tickTimeout=window.clearTimeout(this._tickTimeout))}setTickTimeout(e){e.isPlaying&&(this.clearTickTimeout(),this.itemPlaybackTimestamp=Date.now(),this._tickTimeout=window.setTimeout(this.onTickTimeout,1e3))}update(e={}){const{itemID:t,decision:n,isRemotePlayer:i,isAdVisible:s,isPlaying:r,hasError:a,metricsType:o,metricsPlayer:l}=this.props,{isPlaying:c}=e;if(r&&!c?this.setTickTimeout(this.props):!r&&c&&this.clearTickTimeout(),i)return void(e.isRemotePlayer||(this.trackItemEnd(),this.trackSessionEnd()));!this.hasError&&a&&(this.hasError=!0,this.trackFailure()),this.itemID&&(this.itemID===t?this.updateCurrentItem():this.trackItemEnd());const d=!this.itemID&&!this.hasError&&t&&l&&(n||o===Ho.PHOTO);d&&s&&!r&&!this.sessionAdPlaybackStartTime&&(this.sessionAdPlaybackStartTime=Date.now()),d&&r&&this.trackItemStart()}updateCurrentItem(){const{decision:e,isPlaying:t,hasEnded:n}=this.props;if(t?(this.itemPlaybackTimestamp||(this.itemPlaybackTimestamp=Date.now()),this.hasEnded=n):this.flushPlaybackTimes(),this.itemDecision&&e&&this.itemDecision!==e){let t;if(this.itemDecision.qualityIndex!==e.qualityIndex?t="quality":this.itemDecision.partIndex===e.partIndex&&(t="streams"),t){const e=this.itemMetricsProperties.offset;this.trackItemRestart(t),this.itemMetricsProperties.offset=e}}}getItemMetricsProperties(){const e={serverType:this.props.metricsServerType,connectionType:this.props.metricsConnectionType,type:this.props.metricsType,identifier:this.props.metricsIdentifier,page:this.props.metricsPage,contextTuple:this.props.metricsContextTuple,setting:this.props.metricsSetting,auto:this.props.metricsAutoPlay,protocol:this.props.metricsProtocol,offset:this.props.metricsOffset,container:this.props.metricsContainer,duration:this.props.metricsDuration,bitrate:this.props.metricsBitrate,origin:this.props.metricsOrigin,audioCodec:this.props.metricsAudioCodec,audioDecision:this.props.metricsAudioDecision,videoCodec:this.props.metricsVideoCodec,videoDecision:this.props.metricsVideoDecision,subtitleFormat:this.props.metricsSubtitleFormat,subtitleDecision:this.props.metricsSubtitleDecision,player:this.props.metricsPlayer,mode:this.props.metricsMode};return this.props.isLiveTV&&this.props.isCloudServer&&(e.guid=this.props.metricsGUID,e.group=this.props.metricsGroup,e.title=this.props.metricsTitle,e.publishedAt=this.props.metricsPublishedAt,e.containedId=this.props.metricsContainerID),e}flushPlaybackTimes(){if(!this.itemPlaybackTimestamp)return;const e=Date.now()-this.itemPlaybackTimestamp;this.itemPlaybackTimestamp=null,this.itemPlaybackMilliseconds+=e,this.sessionPlaybackMilliseconds+=e,this.setPlayerItemPlaybackTime(),this.setPlayerSessionPlaybackTime(),(0,M.DB)("metrics").addPlaybackTime(e)}trackItemStart(){this.itemID=this.props.itemID,this.itemDecision=this.props.decision,this.itemMetricsProperties=this.getItemMetricsProperties(),this.itemPlaybackTimestamp=Date.now(),this.itemPlaybackMilliseconds=0,this.sessionPlaybackCount+=1,this.hasEnded=this.props.hasEnded,this.hasError=this.props.hasError;const e=this.props.playbackStartTime,t=dQe({},this.itemMetricsProperties);if(e>0&&1===this.sessionPlaybackCount){const n=this.sessionAdPlaybackStartTime||Date.now();t.latency=n-e}this.props.syncplaySessionRoomID&&(t.format="watch-together",t.playbackSessionId=this.props.syncplaySessionRoomID),(0,M.DB)("metrics").trackEvent({event:WZ.cn,interaction:!0,properties:t}),(0,M.DB)("metrics").incrementPlaybackCount(),this.setTickTimeout(this.props)}trackItemRestart(e){this.itemDecision=this.props.decision,this.itemMetricsProperties=this.getItemMetricsProperties(),(0,M.DB)("metrics").trackEvent({event:WZ.gS,interaction:!0,properties:dQe(dQe({},this.itemMetricsProperties),{reason:e})})}trackItemEnd(){if(!this.itemID)return;let e;this.flushPlaybackTimes(),this.clearTickTimeout(),e=this.props.isRemotePlayer?"cast":this.hasError?"failed":this.hasEnded?"completed":this.hasStopped?"stopped":"skipped";const t=dQe(dQe({},this.itemMetricsProperties),{playbackTime:cQe(this.itemPlaybackMilliseconds),status:e});this.props.syncplaySessionRoomID&&(t.format="watch-together",t.playbackSessionId=this.props.syncplaySessionRoomID),(0,M.DB)("metrics").trackEvent({event:WZ.C7,interaction:!0,properties:t}),this.itemID=null,this.itemDecision=null,this.itemMetricsProperties=null,this.itemPlaybackTimestamp=null,this.itemPlaybackMilliseconds=0,this.hasError=!1,this.hasEnded=!1}trackSessionEnd(){this.sessionPlaybackCount&&(this.flushPlaybackTimes(),(0,M.DB)("metrics").trackEvent({event:WZ.hx,interaction:!0,properties:{serverType:this.props.metricsServerType,connectionType:this.props.metricsConnectionType,type:this.props.metricsType,playbackCount:this.sessionPlaybackCount,playbackTime:cQe(this.sessionPlaybackMilliseconds)}}),this.sessionPlaybackMilliseconds=0,this.sessionPlaybackCount=0,this.sessionAdPlaybackStartTime=0)}trackFailure(){(0,M.DB)("metrics").trackEvent({event:WZ.NY,interaction:!0,properties:{serverType:this.props.metricsServerType,connectionType:this.props.metricsConnectionType,container:this.props.metricsContainer,type:this.props.metricsType,error:this.props.errorCode,mode:this.props.metricsMode}})}setPlayerItemPlaybackTime(){this.props.dispatchSetPlayerItemPlaybackTime({playbackTime:this.itemPlaybackMilliseconds,playerType:this.props.playerType})}setPlayerSessionPlaybackTime(){this.props.dispatchSetPlayerSessionPlaybackTime({playbackTime:this.sessionPlaybackMilliseconds,playerType:this.props.playerType})}render(){return null}}mQe.propTypes={serverEntityID:ls().string,providerEntityID:ls().string,itemID:ls().string,playerType:ls().string.isRequired,isRemotePlayer:ls().bool,isAdVisible:ls().bool,isLiveTV:ls().bool,isCloudServer:ls().bool,decision:ls().object,isPlaying:ls().bool,hasEnded:ls().bool,hasError:ls().bool,errorCode:ls().string,playbackStartTime:ls().number.isRequired,syncplaySessionRoomID:ls().string,metricsServerType:ls().string,metricsConnectionType:ls().string,metricsType:ls().string,metricsIdentifier:ls().string,metricsPage:ls().string,metricsContextTuple:ls().array,metricsSetting:ls().string,metricsAutoPlay:ls().bool,metricsProtocol:ls().string,metricsOffset:ls().number,metricsContainer:ls().string,metricsDuration:ls().number,metricsBitrate:ls().number,metricsOrigin:ls().string,metricsAudioCodec:ls().string,metricsAudioDecision:ls().string,metricsVideoCodec:ls().string,metricsVideoDecision:ls().string,metricsSubtitleFormat:ls().string,metricsSubtitleDecision:ls().string,metricsPlayer:ls().string,metricsMode:ls().oneOf(Object.values(eQe)),metricsGUID:ls().string,metricsTitle:ls().string,metricsPublishedAt:ls().number,metricsContainerID:ls().string,metricsGroup:ls().string,dispatchSetPlayerItemPlaybackTime:ls().func.isRequired,dispatchSetPlayerSessionPlaybackTime:ls().func.isRequired},mQe.defaultProps={metricsPage:et.r$};const hQe=(0,f.$j)((function(){return(0,de.P1)(u_e,Hwe(),X_e(),A_e(),p_e(),a_e(),r_e(),(0,de.P1)(((e,{isAdVisible:t})=>t),J_e(["confirmRemoteToLocal","isPostPlayVisible","isMediaLoading","isBuffering","isPaused","hasError"]),A_e(),a_e(),((e,t,n,i)=>!(!n||n.type!==Ho.PHOTO)||!(!i||e||t.confirmRemoteToLocal||t.isPostPlayVisible||t.isMediaLoading||t.isBuffering||t.isPaused||t.hasError))),(0,de.P1)($H(),WH("positionSeconds"),A_e(),p_e(),a_e(),((e,t,n,i,s)=>{if(e){if(!i)return!1;const{beginsAt:t,endsAt:n}=i;return e>n-.9*(n-t)}if(n&&n.type===Ho.PHOTO)return!0;if(s){const e=i&&i.Part[s.partIndex];if(i&&i.duration&&e)return(0,nQe.Z)(i,e,1e3*t)>.9*i.duration}return!1})),WH("syncplaySessionRoomID"),WH("hasError"),WH("errorCode"),WH("metricsPage"),WH("metricsContextTuple"),WH("metricsAutoPlay"),WH("metricsPlayer"),WH("metricsSetting"),WH("playbackStartTime"),((e,t,n,i,s,r,a,o,l,c,d,u,p,m,h,g,y,v)=>{const f={decision:r,isPlaying:o,isLiveTV:e,hasEnded:l,hasError:d,errorCode:u,metricsPage:p,metricsContextTuple:m,metricsAutoPlay:h,metricsPlayer:g,metricsSetting:y,playbackStartTime:v,syncplaySessionRoomID:c};if(n&&(f.isCloudServer=n.isCloud,f.metricsServerType=(0,oQe.Z)(n),f.metricsConnectionType=(0,aQe.Z)(n.activeConnection)),i&&(f.metricsType=i.type,f.metricsIdentifier=i.identifier,e&&(f.metricsGUID=i.ratingKey,f.metricsTitle=i.type===Ho.EPISODE?i.grandparentTitle:i.title,f.metricsPublishedAt=s.beginsAt,f.metricsContainerID=s.channelIdentifier,f.metricsGroup=s.channelShortTitle),i.type===Ho.PHOTO&&(f.metricsPlayer=tQe.k9,i.Media.length&&(f.metricsContainer=i.Media[0].container)),i.type===Ho.GAME&&(f.metricsPlayer=tQe.k9)),f.itemID=e?null==s?void 0:s.id:null==a?void 0:a.playQueueItemID,t&&!f.metricsIdentifier&&(f.metricsIdentifier=t.identifier),r){const e=function(e){const t={};return e.isDirectPlay?(t.videoDecision=iQe,t.audioDecision=iQe,t.subtitleDecision=iQe):(t.videoDecision=e.canDirectStreamVideo?sQe:rQe,t.audioDecision=e.canDirectStreamAudio?sQe:rQe,t.subtitleDecision=e.useSoftSubtitles?sQe:rQe),t}(r),t=s&&s.Part[r.partIndex];let n;i&&(n=Ho.getMetadataType(i.type).mediaType);const a=XP.Z.get("video").id,o=t&&E().findWhere(t.Stream,{streamType:a}),l=XP.Z.get("audio").id,c=t&&E().findWhere(t.Stream,{streamType:l,selected:!0}),d=XP.Z.get("subtitles").id,u=t&&E().findWhere(t.Stream,{streamType:d,selected:!0});f.metricsProtocol=r.protocol,f.metricsOffset=r.positionSeconds,r.drm&&(f.metricsMode=r.drm),s&&(f.metricsContainer=s.container,f.metricsDuration=cQe(s.duration||i.duration),f.metricsBitrate=function(e){if(null==e)return;let t;return t=e>=10240?512:e>=1024?256:e>=512?128:e>=256?64:32,lQe(e,t)}(s.bitrate),f.metricsOrigin=s.origin),n===$a.pX&&(f.metricsVideoCodec=o&&o.codec||uQe,f.metricsVideoDecision=e.videoDecision,u&&u.id!==WP.H&&(f.metricsSubtitleFormat=u&&u.codec||uQe,f.metricsSubtitleDecision=e.subtitleDecision)),n!==$a.pX&&n!==$a.j0||(f.metricsAudioCodec=c&&c.codec||uQe,f.metricsAudioDecision=e.audioDecision)}return i&&i.type===Ho.GAME&&i.Platform.length&&(f.metricsContainer=i.Platform[0].tag),f}))}),pQe)(mQe);class gQe extends y.Component{constructor(e,t){super(e,t),this._screenSaverManager=(0,M.s4)("screenSaverManager")?(0,M.DB)("screenSaverManager"):null}componentDidMount(){this._toggleScreenSaver(this.props.isEnabled)}componentDidUpdate(e){e.isEnabled!==this.props.isEnabled&&this._toggleScreenSaver(this.props.isEnabled)}componentWillUnmount(){this._toggleScreenSaver(!0)}_toggleScreenSaver(e){this._screenSaverManager&&this._screenSaverManager.toggle(e)}render(){return null}}gQe.propTypes={isEnabled:ls().bool.isRequired};const yQe=(0,f.$j)((function(){return(0,de.P1)(J_e(["isOpen","isPaused","openState"]),(({isOpen:e,isPaused:t,openState:n})=>{const i=n===YP.K;return{isEnabled:!e||!i||t}}))}))(gQe);class vQe extends y.Component{constructor(){super(...arguments),this.onResize=e=>{this.timeoutID=window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(this.onResizeTimeout,this.props.resizeDelay)},this.onResizeTimeout=()=>{this.props.onScreenSizeChange({width:window.innerWidth,height:window.innerHeight})}}componentDidMount(){window.addEventListener("resize",this.onResize),this.onResizeTimeout()}componentWillUnmount(){window.removeEventListener("resize",this.onResize),this.timeoutID=window.clearTimeout(this.timeoutID)}render(){return null}}vQe.propTypes={resizeDelay:ls().number,onScreenSizeChange:ls().func.isRequired},vQe.defaultProps={resizeDelay:100};const fQe=vQe,IQe="ui/advertisingNoticeModal/setAdConsent",bQe="ui/advertisingNoticeModal/resetAdConsent",MQe="ui/advertisingNoticeModal/trackAdConsentAction",SQe=(0,No.Z)(IQe),EQe=(0,No.Z)(bQe),DQe=(0,No.Z)(MQe),CQe={[IQe](e,t){const n=e.get("user"),i=e.get("ui").get("advertisingNoticeModal");(0,Rt.c9)((()=>{i.set({isSaving:!0})}));const s=C.Z.join(["/api/v2/user",n.get("uuid"),"settings/consent"]),r=n.server.getXHROptions(s,{type:"PUT",data:{consent:t.consent}});let a=g().ajax(r);a=a.then((()=>n.fetch())),a.then((()=>{i.set({isSaving:!1,isSaved:!0})}),(e=>{i.set({isSaving:!1,isSaved:!0});const s=Math.round(Date.now()/1e3);n.set({adsConsent:t.consent,adsConsentSetAt:s,adsConsentReminderAt:s+86400})}))},[bQe](e){e.get("ui").get("advertisingNoticeModal").restoreDefaults()},[MQe](e,{advertisingNoticePayload:t,action:n}){const i=JM.js(e,t),s={page:et.LT,action:n,identifier:i.get("identifier")};if(t.metadataItemEntityID){const n=JM.$R(e,t);s.type=n.get("type")}(0,M.DB)("metrics").trackClick(s)}},PQe={message:"ConfirmAdvertisingNotice-message-2CNcG7",consentMessage:"ConfirmAdvertisingNotice-consentMessage-1ZcHPU"};var wQe=Object.assign;const TQe=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.advertisingNoticeModal),(0,de.P1)(((e,{advertisingNoticePayload:t})=>t),EC.Z,((e,t)=>{if(e.metadataItemEntityID)return t[e.metadataItemEntityID]})),((e,t)=>wQe(wQe({},e),{metadatItemType:t&&t.type})))}),(function(e,{playerType:t,advertisingNoticePayload:n}){return{onContinue(t){e(SQe({consent:t}))},onCancel(){e(DQe({advertisingNoticePayload:n,action:rr.n1})),e((0,it.d7)({playerType:t}))},onSaveComplete(i){e(DQe({advertisingNoticePayload:n,action:i?rr.VL:rr.lJ})),e((0,it.wA)(wQe(wQe({},n),{playerType:t,confirmAdvertisingNotice:!0}))),e(EQe())}}}))((function(e){const{isOpen:t,isSaving:n,isSaved:i,onContinue:s,onCancel:r,onSaveComplete:a}=e,o=n||i,[l,c]=(0,y.useState)(!1),d=(0,y.useCallback)((()=>{c(!0),s(!0)}),[s]),u=(0,y.useCallback)((()=>{c(!1),s(!1)}),[s]);return(0,y.useEffect)((()=>{i&&a(l)}),[l,i,a]),y.createElement(PL.Z,{size:vc.HC,isOpen:t,metricsPage:et.c9,onModalClose:r},y.createElement(xL.Z,{onModalClose:r},y.createElement(NL.Z,null,(0,De.Z)("Consent")),y.createElement(wL.Z,null,y.createElement("div",{className:PQe.message},(0,De.Z)("Plex is able to provide free-to-watch movies and shows by displaying a modest number of ads before and during playback. While it is not possible to opt out of these ads, we can provide you the best and most relevant advertising experience if you agree to the terms below.")),y.createElement(ax.Z,{className:PQe.consentMessage,component:"div",message:(0,De.Z)("I consent to Plex sharing the advertising identifiers on my devices with Plex's advertising partners. This data is used to deliver the advertising that supports content you may access through Plex on all devices on which you have Plex installed. To learn how to withdraw consent, visit our {openLinkPrivacyPolicyUrl}privacy policy{closeLinkPrivacyPolicyUrl}."),tags:[{open:"openLinkPrivacyPolicyUrl",close:"closeLinkPrivacyPolicyUrl",component:AM.Z,kind:fo._8,to:Np.hO,target:"_blank"}]})),y.createElement(TL.Z,null,y.createElement(ZL.Z,null,y.createElement(pxe.Z,{metricsProperties:{page:et.c9},action:rr.lJ},y.createElement(Gk.Z,{className:PQe.confirmButton,isSpinning:o&&!l,onPress:u},(0,De.Z)("I Do Not Agree"))),y.createElement(pxe.Z,{metricsProperties:{page:et.c9},action:rr.VL},y.createElement(Gk.Z,{className:PQe.confirmButton,"data-autofocus":!0,kind:fo._8,isSpinning:o&&l,onPress:d},(0,De.Z)("I Agree")))))))}));function ZQe(){return(0,de.P1)($H(),(0,de.P1)(qH(),EC.Z,((e,t)=>e&&(e.timeline||e.grabOperation)?e.timeline?e.timeline.map((e=>t[e])):[t[e.grabOperation.metadataItem]]:[])),((e,t)=>{if(null!=e)for(let n=0;n<t.length;n++){const i=t[n];for(let t=0;t<i.Media.length;t++){const n=i.Media[t],{beginsAt:s,endsAt:r}=n;if(s<=e&&r>e)return i}}}))}function NQe(e,t){const n=Math.max(e,t),i=Date.now()-1e3*n;return Vi(i)}class AQe extends y.Component{constructor(e,t){super(e,t),this.updateTimeAgo=()=>{const{captureBufferStartedAt:e,mediaItemBeginsAt:t}=this.props,n=6e4-1e3*(new Date).getSeconds(),i=NQe(e,t);i!==this.state.timeAgo&&this.setState({timeAgo:i}),this._updateTimeAgoTimeout=window.setTimeout(this.updateTimeAgo,n)},this.onConfirm=e=>{const{serverEntityID:t,providerEntityID:n,onConfirm:i}=this.props;i({serverEntityID:t,providerEntityID:n,offset:e})},this._updateTimeAgoTimeout=null,this.state={timeAgo:NQe(e.captureBufferStartedAt,e.mediaItemBeginsAt)}}componentDidMount(){this.props.mediaItemBeginsAt||this.onConfirm(),this.updateTimeAgo()}componentWillUnmount(){this._updateTimeAgoTimeout&&window.clearTimeout(this._updateTimeAgoTimeout)}render(){const{isOpen:e,captureBufferStartedAt:t,mediaItemBeginsAt:n,onModalClose:i}=this.props,{timeAgo:s}=this.state;return t?y.createElement(jo.Z,{isOpen:e,metricsPage:et.zj,title:(0,De.Z)("Join Session in Progress"),onItemSelect:this.onConfirm,onCancel:i},y.createElement(ko.Z,{value:1e3*Math.max(n-t,0)},(0,De.Z)("Watch from start (started {timeAgo} ago)",{timeAgo:s})),y.createElement(ko.Z,{value:null},(0,De.Z)("Watch Live"))):null}}const xQe=AQe;var LQe=Object.assign;const OQe=(0,f.$j)((function(){return(0,de.P1)(YH(),qH(),(0,de.P1)($H(),ZQe(),qH(),((e,t,n)=>{if(null!=e&&t&&n)return t.Media.find((t=>{const{beginsAt:i,endsAt:s,channelIdentifier:r}=t;return i<=e&&s>e&&n.channelIdentifier===r}))})),((e,t,n)=>{const{serverEntityID:i,providerEntityID:s}=e,r={serverEntityID:i,providerEntityID:s};if(t&&t.captureBuffer){const e=t.captureBuffer.startedAt;r.captureBufferStartedAt=e}return n?r.mediaItemBeginsAt=n.beginsAt:t&&t.grabOperation&&(r.mediaItemBeginsAt=t.grabOperation.mediaItem.beginsAt),r}))}),(function(e,{playerType:t}){return{onConfirm(n){e((0,qa.lO)(LQe(LQe({},n),{playerType:t})))},onModalClose(){e((0,qa.Zh)({playerType:t}))}}}))(xQe),jQe=(0,de.P1)(NP,(e=>e?e.friendlyName:null)),kQe=function(e){const{isOpen:t,playerName:n,onConfirm:i,onCancel:s}=e;return y.createElement(nt.Z,{isOpen:t,metricsPage:et.LO,title:(0,De.Z)("Continue Playback"),message:(0,De.Z)("Would you like to continue playback on {playerName}?",{playerName:n}),confirmLabel:(0,De.Z)("Yes"),cancelLabel:(0,De.Z)("No"),onConfirm:i,onCancel:s})};var RQe=Object.prototype.hasOwnProperty,zQe=Object.getOwnPropertySymbols,UQe=Object.prototype.propertyIsEnumerable,VQe=Object.assign;const BQe={dispatchCancelLocalToRemote:xw,dispatchConfirmLocalToRemote:Ow,dispatchCloseLocalToRemote:Lw},FQe=(0,f.$j)((function(){return(0,de.P1)(jQe,WH("confirmLocalToRemote"),((e,t)=>({playerName:e,confirmLocalToRemote:t})))}),BQe)((function(e){const{playerType:t,confirmLocalToRemote:n,dispatchCancelLocalToRemote:i,dispatchCloseLocalToRemote:s,dispatchConfirmLocalToRemote:r}=e,a=((e,t)=>{var n={};for(var i in e)RQe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&zQe)for(var i of zQe(e))t.indexOf(i)<0&&UQe.call(e,i)&&(n[i]=e[i]);return n})(e,["playerType","confirmLocalToRemote","dispatchCancelLocalToRemote","dispatchCloseLocalToRemote","dispatchConfirmLocalToRemote"]);(0,y.useEffect)((()=>{3===n&&s({playerType:t})}),[n,t,s]);const o=(0,y.useCallback)((()=>{i({playerType:t})}),[t,i]),l=(0,y.useCallback)((()=>{r({playerType:t})}),[t,r]);return y.createElement(kQe,VQe(VQe({},a),{onCancel:o,onConfirm:l}))}));var HQe=n(82956);const _Qe=function(e){const{title:t,image:n,copy:i,footer:s,isOpen:r,onModalDismiss:a}=e,o=Array.isArray(i)?i:[i];return y.createElement(PL.Z,{className:"WhatsNewModal-modal-lkP8gj Modal-modal-2XLz2p",isOpen:r,metricsPage:et.jx,onModalClose:a},y.createElement(xL.Z,{onModalClose:a},y.createElement(NL.Z,{className:"WhatsNewModal-modalHeader-1btA3U ModalHeader-modalHeader-aJOI_i"},(0,De.Z)("What's New?")),y.createElement(wL.Z,{innerClassName:"WhatsNewModal-innerModalBody-1r5hu1"},y.createElement(HQe.Z,{containerClassName:"WhatsNewModal-image-2N4dd6",component:mt.Z,src:n}),y.createElement("div",{className:"WhatsNewModal-copyContainer-D-qsT-"},y.createElement("p",{className:"WhatsNewModal-title-1Y6YlR"},t),o.map(((e,t)=>y.createElement("p",{key:t,className:"WhatsNewModal-copy-1S_Vm5"},e))))),y.createElement(TL.Z,{className:"WhatsNewModal-modalFooter-33_1qR ModalFooter-modalFooter-3ru3TD"},y.createElement($h.Z,{className:"WhatsNewModal-okButton-OSeDeE Button-button-31pe5T Link-link-3v-v0b",kind:fo._8,onPress:a},(0,De.Z)("Got it!")),s?y.createElement("p",{className:"WhatsNewModal-footer-2f3_Dv"},s):null)))};var QQe=n(72134);var GQe=Object.assign;const YQe=(0,f.$j)(null,(function(e,{confirmNewsSunsetPayload:t}){return{onModalDismiss(){e((0,Nv.LN)({hasDismissedNewsSunsetBanner:!0})),e((0,it.wA)(GQe(GQe({},t),{confirmNewsSunset:!0})))}}}))((function(e){const{isOpen:t,onModalDismiss:n}=e;return y.createElement(_Qe,{title:(0,De.Z)("This Just In: News is moving "),image:QQe,copy:(0,De.Z)("Beginning March 31st, Plex News is moving to Live TV so that you can stream channels with the news and information that matters to you, 24/7."),footer:(0,De.Z)("From March 31st the News section will be removed from Plex"),isOpen:t,onModalDismiss:n})}));var WQe=Object.assign;const KQe=(0,f.$j)((function(){return(0,de.P1)(((e,{confirmOffsetPayload:t})=>t),EC.Z,((e,t)=>{let n;return e&&(n=t[e.metadataItemEntityID]),n?{viewOffset:n.viewOffset,duration:n.duration}:{}}))}),(function(e,{playerType:t,confirmOffsetPayload:n}){return{onConfirm(t){e(it.wA(WQe(WQe({},n),{confirmPlayback:!0,confirmOffset:!0,startOffsetMilliseconds:t})))},onCancel(){e(it.d7({playerType:t}))}}}))((function(e){const{isOpen:t,viewOffset:n,duration:i,playerType:s,onConfirm:r,onCancel:a}=e,o=s===Se.eD,l=(i-n)/1e3,c=l>0;return y.createElement(jo.Z,{isOpen:t,metricsPage:et.Vk,title:o?(0,De.Z)("Resume Game"):(0,De.Z)("Resume Playback"),onItemSelect:r,onCancel:a},y.createElement(ko.Z,{value:n,autoFocus:!0},o?(0,De.Z)("Resume (played {time})",{time:Fi(n)}):y.createElement(y.Fragment,null,(0,De.Z)("Resume from {time}",{time:(0,Iy.Z)(n)}),c?y.createElement(tr.Z,null):null,c?Hi(l):null)),y.createElement(ko.Z,{value:0},o?(0,De.Z)("Restart"):(0,De.Z)("Start from the beginning")))}));var qQe=Object.assign;const $Qe=(0,f.$j)(null,(function(e,{playerType:t,confirmPlaybackPayload:n}){return{onConfirm(){e(it.wA(qQe(qQe({},n),{confirmPlayback:!0})))},onCancel(){e(it.xT({playerType:t}))}}}))((function(e){const{isOpen:t,onConfirm:n,onCancel:i}=e;return y.createElement(nt.Z,{isOpen:t,metricsPage:et.o_,title:(0,De.Z)("Play Now"),message:(0,De.Z)("This will clear changes made to the queue and play the selection instead."),confirmLabel:(0,De.Z)("Play"),onConfirm:n,onCancel:i})}));var JQe=n(22923),XQe=n(39957),eGe=n(15730);const tGe=ls().shape({metricsContext:ls().oneOf(Object.values(pS)).isRequired,type:ls().oneOf(Object.values(eGe)).isRequired});function nGe(e){const{isOpen:t,metricsPage:n,onDismiss:i,upsellPayload:s,subscribeUrl:r,onSubscribe:a}=e,o=(0,y.useCallback)((()=>{i(),a&&a()}),[i,a]);return y.createElement(PL.Z,{size:vc.HC,isOpen:t,metricsPage:n,onModalClose:i},y.createElement(xL.Z,{onModalClose:i},s.type===eGe.TONE_MAPPING?y.createElement(NL.Z,null,(0,De.Z)("HDR Conversion")):null,s.type===eGe.TONE_MAPPING?y.createElement(wL.Z,null,y.createElement("p",null,(0,De.Z)("This video needs to be converted for playback and contains High Dynamic Range (HDR) content. Colors will appear distorted on this device.")),y.createElement("p",null,(0,De.Z)('With a Plex Pass, you can preview the new "HDR tone mapping" feature to correct colors during conversion!'))):null,y.createElement(TL.Z,null,y.createElement(ZL.Z,null,y.createElement(pxe.Z,{context:s.metricsContext,action:rr.GP},y.createElement($h.Z,{onPress:i},(0,De.Z)("OK"))),y.createElement(pxe.Z,{context:s.metricsContext,action:rr.kD},y.createElement($h.Z,{"data-autofocus":!0,to:r,target:"_blank",kind:fo._8,onPress:o},(0,De.Z)("Get a Plex Pass")))))))}nGe.defaultProps={metricsPage:et.ce,subscribeUrl:C.Z.join(["https://www.plex.tv","/plex-pass"])};const iGe=nGe;var sGe=Object.assign;const rGe=(0,f.$j)(null,(function(e,t){const{upsellPayload:n,onDismiss:i}=t;return{onDismiss(){const s=(0,XQe.Z)(JQe.M,n.type);e((0,dE.JY)({id:s})),i&&i(t)}}}))(iGe);rGe.propTypes=sGe(sGe({},rGe.propTypes),{upsellPayload:tGe.isRequired,onDismiss:ls().func});const aGe=rGe;var oGe=Object.assign;const lGe=(0,f.$j)(null,(function(e,t){const{playerType:n}=t;return{onDismiss(){e((0,it.lm)({playerType:n}))}}}))(aGe);lGe.propTypes=oGe(oGe({},lGe.propTypes),{playerType:ls().oneOf([Se.Se,Se.pV,Se.eD]).isRequired});const cGe=lGe,dGe=(0,f.$j)(null,(function(e,{playerType:t}){return{onConfirm(){e(Aw({playerType:t}))},onCancel(){e((0,it.Mh)({playerType:t}))}}}))((function(e){const{isOpen:t,onConfirm:n,onCancel:i}=e;return y.createElement(nt.Z,{isOpen:t,metricsPage:et.cU,title:(0,De.Z)("Continue Playback"),message:(0,De.Z)("Would you like to continue playback here?"),confirmLabel:(0,De.Z)("Yes"),cancelLabel:(0,De.Z)("No"),onConfirm:n,onCancel:i})}));function uGe(e){const t=Math.floor(Date.now()/1e3);return e.reduce(((e,{mediaItem:n})=>{const{beginsAt:i,startOffsetSeconds:s=0}=n,r=i-s;return r>t&&(!e||r<e)?r:e}),0)}function pGe(e){return Math.max(0,e-Math.floor(Date.now()/1e3))}class mGe extends y.Component{constructor(e,t){super(e,t),this._tick=()=>{this.setState({endSeconds:pGe(this.state.endsAt)}),this._setTickTimeout()},this._tickTimeout=null;const n=uGe(e.conflicts);this.state={endsAt:n,endSeconds:pGe(n)}}componentDidMount(){this._setTickTimeout()}componentDidUpdate(e,t){const{conflicts:n,onModalClose:i}=this.props;e.conflicts!==n&&this._updateEndSeconds(),t.endSeconds>0&&0===this.state.endSeconds&&i({showError:!0})}componentWillUnmount(){this._tickTimeout&&window.clearTimeout(this._tickTimeout)}_setTickTimeout(){this.state.endSeconds&&(this._tickTimeout=window.setTimeout(this._tick,1e3))}_updateEndSeconds(){const e=uGe(this.props.conflicts);this.setState({endsAt:e,endSeconds:pGe(e)})}render(){const{endSeconds:e}=this.state,t=function(e){if(null==e)return"";const t=(0,Ui.ZP)(e),n=24*t.days*60,i=60*t.hours,s=t.minutes+i+n,r=t.seconds;return s&&r?(0,De.Z)("{1} min {2} sec",s,r):s?(0,De.Z)("{1} min",s):r>0?(0,De.Z)("{1} sec",r):""}(1e3*e);return y.createElement("span",null,(0,De.Z)("This live TV session will end in: {formattedMinutesSeconds}",{formattedMinutesSeconds:t}))}}const hGe=mGe;function gGe(e,t,n,i){const s=e===Ho.EPISODE?n:t;return i?(0,De.Z)("Stop watching {openSpan}{title}{closeSpan} and continue",{title:s}):(0,De.Z)("Stop recording {openSpan}{title}{closeSpan} and continue",{title:s})}const yGe=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),(e=>({type:e.type,title:e.title,grandparentTitle:e.grandparentTitle,thumb:e.thumb,grandparentThumb:e.grandparentThumb})))}),(function(e,t){const{playerType:n,grabOperationKey:i}=t;return{onCancelConflictPress(){e((0,qa.pg)({playerType:n,grabOperationKey:i}))}}}))((function(e){const{serverEntityID:t,type:n,title:i,grandparentTitle:s,thumb:r,grandparentThumb:a,isRolling:o,onCancelConflictPress:l}=e;return y.createElement(AM.Z,{className:"PlayerConflictItemRow-conflict-2NwGtT",onPress:l},y.createElement(ft.Z,{className:"PlayerConflictItemRow-thumbnail-2a7vQe",serverEntityID:t,url:r||a,width:53,height:80,component:mt.Z}),y.createElement("div",{className:"PlayerConflictItemRow-title-2u-Mps"},y.createElement(ax.Z,{message:gGe(n,i,s,o),tags:[{open:"openSpan",close:"closeSpan",component:"span",className:"PlayerConflictItemRow-titleHighlight-kni3ih"}]})))})),vGe=function(e){const{serverEntityID:t,hasSubscribeFeature:n,isPlayerOpen:i,playerType:s,isConflictCancelling:r,conflicts:a,error:o,onModalClose:l}=e,c=function(e,t){return e?t?(0,De.Z)("A recording is scheduled to start in a few minutes and all tuners are currently in use. Please select from one of the actions below. Selecting OK or taking no action will end this live viewing session once the recording starts."):(0,De.Z)("All tuners are in use. Please ask the server owner to free up a tuner to continue watching Live TV."):t?(0,De.Z)("Please select from one of the actions below."):(0,De.Z)("All tuners are in use. Please ask the server owner to free up a tuner to watch Live TV.")}(i,n);return y.createElement(xL.Z,{onModalClose:l},y.createElement(NL.Z,{className:"PlayerConflictModalContent-modalHeader-1ws6Yj ModalHeader-modalHeader-aJOI_i"},(0,De.Z)("All Tuners are Currently in Use")),o?y.createElement(Yue.Z,{kind:fo.T,message:(0,De.Z)("There was an error trying to cancel the selected item, please try again")}):null,y.createElement(wL.Z,{innerClassName:"PlayerConflictModalContent-innerModalBody-1AAJa0 ModalBody-innerModalBody-jCNoJl"},y.createElement("div",{className:"PlayerConflictModalContent-message-3hdp94"},c),n?y.createElement("div",{className:"PlayerConflictModalContent-conflicts-lE-S4x"},a.map((e=>y.createElement(yGe,{key:e.key,serverEntityID:t,grabOperationKey:e.key,metadataItemEntityID:e.metadataItem,playerType:s,isRolling:e.rolling,isPlayerOpen:i})))):null),y.createElement(TL.Z,null,y.createElement("div",{className:"PlayerConflictModalContent-footerMessage-1QvGoH"},i?y.createElement(hGe,{conflicts:a,onModalClose:l}):null),y.createElement(ZL.Z,null,y.createElement(Gk.Z,{isSpinning:r,kind:fo._8,onPress:l},i||!n?(0,De.Z)("OK"):(0,De.Z)("Cancel")))))},fGe=(0,f.$j)((function(){return(0,de.P1)(YH(),Hwe(),qH(),((e,t,n)=>{const i={serverEntityID:e.serverEntityID,hasSubscribeFeature:!!t.features.find((({type:e})=>"subscribe"===e)),error:e.cancelConflictError,isConflictCancelling:e.isConflictCancelling};return n&&(i.conflicts=n.grabOperation.conflicts),i}))}),(function(e,t){const{isPlayerOpen:n,playerType:i}=t;return{onModalClose({showError:t=!1}={}){e(n?(0,qa.oW)({playerType:i,showError:t}):(0,qa.T)({playerType:i}))}}}))((function(e){const{isOpen:t,isPlayerOpen:n,playerType:i,serverEntityID:s,hasSubscribeFeature:r,conflicts:a,isConflictCancelling:o,onModalClose:l}=e;return y.createElement(PL.Z,{size:vc.HC,isOpen:t,metricsPage:et.Rh,onModalClose:l},y.createElement(vGe,{isPlayerOpen:n,playerType:i,serverEntityID:s,hasSubscribeFeature:r,conflicts:a,isConflictCancelling:o,onModalClose:l}))}));var IGe=n(51382);var bGe=Object.assign;function MGe(e){const{errorCode:t,errorMessage:n,title:i}=e;return t===IGe.Pe?y.createElement(ax.Z,{message:(0,De.Z)("This browser can not play DRM-protected content over an insecure connection. Please try {openLink}https://app.plex.tv{closeLink} instead."),tags:[{open:"openLink",close:"closeLink",component:AM.Z,kind:fo._8,to:Np.mV}]}):t===IGe.L7?(0,De.Z)("An error occurred trying to play this item. Please enable DRM support in your browser then try again."):n||(i?(0,De.Z)('An error occurred trying to play "{title}".',{title:i}):(0,De.Z)("An error occurred trying to play this item."))}const SGe=(0,f.$j)((function(){return(0,de.P1)(YH(),d_e(),Z_e(),a_e(),((e,{mediaType:t})=>t),((e,{isRemotePlayer:t})=>t),((e,t,n,i,s,r)=>{const{playQueue:a,repeatAll:o,errorCode:l,errorCategory:c,isWatchTogether:d}=e,u=n&&n.entityID,p=a&&a.currentIndex,m=function(e,t,n,i){if(!e||!t)return n;const s=t&&t.Media[e.mediaIndex],r=s&&s.source?s.source:t.source;if(!r)return n;const a=(0,Vn.Z)(r);return pa.wB(a.providerIdentifier,pa.xF)&&"h4"===i?(0,De.Z)("An error occurred trying to play this item. Please make sure content from TIDAL is not already playing on another device."):n}(i,t,e.errorMessage,l),h={playQueueItemEntityID:u,showSkipButton:!!a&&(p<a.playQueueItems.length-1||o),showRetryButton:!!a&&s!==$a.pV&&!r&&!d,errorMessage:m,errorCode:l,errorCategory:c};return t&&(h.title=t.title),h}))}),(function(e,t){const n={playerType:t.playerType};return{onModalClose(){e((0,it.Mh)(n))},onSkipPress(t){e((0,FP.o1)(n))},onRetryPress(t){e((0,i_e.iu)(n)),e((0,w_e.Mf)(n))}}}))((function(e){const{isOpen:t,showSkipButton:n,showRetryButton:i,errorCode:s,errorCategory:r,onSkipPress:a,onRetryPress:o,onModalClose:l}=e;return y.createElement(PL.Z,{isOpen:t,metricsPage:et.hw,size:vc.HC,onModalClose:l},y.createElement(xL.Z,{onModalClose:l},y.createElement(NL.Z,{className:"PlayerErrorModal-modalHeader-1N1gXz ModalHeader-modalHeader-aJOI_i"},(0,De.Z)("Playback Error")),y.createElement(wL.Z,null,y.createElement(MGe,bGe({},e)),null!=s?y.createElement("p",{className:"PlayerErrorModal-errorCode-1cCXO5"},(0,De.Z)("Error code: {errorCode}",{errorCode:s}),r?` (${r})`:null):null),n||i?y.createElement(TL.Z,null,y.createElement(ZL.Z,null,n?y.createElement($h.Z,{onPress:a},(0,De.Z)("Skip")):null,i?y.createElement($h.Z,{kind:fo._8,onPress:o},(0,De.Z)("Retry")):null)):null))}));function EGe(e,t){return{src:C.Z.join(e,{width:t,height:t,minSize:1}),sizes:`${t}x${t}`,type:"image/jpeg"}}function DGe({metadataItem:e,player:t,transcodeURL:n}){return(0,y.useEffect)((()=>{const i=(null==e?void 0:e.type)===Ho.GAME,s=e&&pa.wB((0,Vn.Z)(e.source).providerIdentifier,[pa.Ll,pa.vP]),r=!!e&&!i&&!s;window.navigator.mediaSession.playbackState=r?function(e){return(null==e?void 0:e.isPaused)||(null==e?void 0:e.isBuffering)?(null==e?void 0:e.isPaused)?"paused":"none":"playing"}(t):void 0,window.navigator.mediaSession.metadata=r?new window.MediaMetadata({title:e.title,artist:e.originalTitle||e.grandparentTitle,album:e.parentTitle,artwork:n?[EGe(n,96),EGe(n,128),EGe(n,192),EGe(n,256),EGe(n,512)]:void 0}):null}),[e,t,n]),(0,y.useEffect)((()=>()=>{window.navigator.mediaSession.metadata=null,window.navigator.mediaSession.playbackState="none"}),[]),null}const CGe=(0,f.$j)((function(){return(0,de.P1)(YH(),d_e(),((e,t)=>({metadataItem:t,player:e,url:t?(0,cG.G)(t.type,t.subtype,t):void 0,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID})))}))((0,f.$j)((()=>(0,de.P1)((0,eDe.Z)(),(e=>({transcodeURL:e})))))((({metadataItem:e,player:t,transcodeURL:n,url:i,serverEntityID:s,providerEntityID:r})=>y.createElement(DGe,{url:i,serverEntityID:s,providerEntityID:r,metadataItem:e,player:t,transcodeURL:n}))));const PGe={dispatchPlayPreviousItem:FP.oA,dispatchStepBack:i_e.Hn,dispatchSkipBack:i_e.QJ,dispatchTogglePlayPause:i_e.ID,dispatchPlay:i_e.hY,dispatchPause:i_e.wO,dispatchSkipForward:i_e.wW,dispatchStepForward:i_e.oX,dispatchPlayNextItem:FP.o1,dispatchChangeVolume:i_e.v6,dispatchEndPlayback:it.Mh};class wGe extends y.Component{constructor(e,t){super(e,t),this.onPreviousShortcut=()=>{this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayPreviousItem({playerType:this.props.playerType})},this.onStepBackShortcut=()=>{const e={playerType:this.props.playerType};this.props.isCurrentMediaTypeSeekable?this.props.dispatchStepBack(e):this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayPreviousItem(e)},this.onSkipBackShortcut=()=>{const e={playerType:this.props.playerType};this.props.isCurrentMediaTypeSeekable?this.props.dispatchSkipBack(e):this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayPreviousItem(e)},this.onPlayPauseShortcut=()=>{this.props.isCurrentMediaTypePausable&&this.props.dispatchTogglePlayPause({playerType:this.props.playerType})},this.onPlayShortcut=()=>{this.props.isCurrentMediaTypePausable&&this.props.dispatchPlay({playerType:this.props.playerType})},this.onPauseShortcut=()=>{this.props.isCurrentMediaTypePausable&&this.props.dispatchPause({playerType:this.props.playerType})},this.onSkipForwardShortcut=()=>{const e={playerType:this.props.playerType};this.props.isCurrentMediaTypeSeekable?this.props.dispatchSkipForward(e):this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayNextItem(e)},this.onStepForwardShortcut=()=>{const e={playerType:this.props.playerType};this.props.isCurrentMediaTypeSeekable?this.props.dispatchStepForward(e):this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayNextItem(e)},this.onNextShortcut=()=>{this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayNextItem({playerType:this.props.playerType})},this.onVolumeChange=e=>{this.props.dispatchChangeVolume({volume:e,playerType:this.props.playerType})},this.onVolumeIncrease=()=>{this.onVolumeChange(Math.min(this.props.volume+10,100))},this.onVolumeDecrease=()=>{this.onVolumeChange(Math.max(this.props.volume-10,0))},this.onCloseShortcut=()=>{this.setState({isCloseConfirmModalOpen:!0})},this.onCloseConfirmPress=e=>{this.props.dispatchEndPlayback({playerType:this.props.playerType})},this.onCloseCancelPress=e=>{this.setState({isCloseConfirmModalOpen:!1})},this.onToggleFullscreenShortcut=()=>{this.props.onToggleFullscreenShortcut()},this.state={isCloseConfirmModalOpen:!1}}componentDidMount(){this.props.allowShortcuts&&this._startListening()}componentDidUpdate(e){const{allowShortcuts:t}=this.props;t&&!e.allowShortcuts?this._startListening():!t&&e.allowShortcuts&&this._stopListening()}componentWillUnmount(){this.props.allowShortcuts&&this._stopListening()}_startListening(){const{isCurrentMediaTypePausable:e,isCurrentMediaTypeSkippable:t}=this.props;b.Z.hasMediaSession&&(window.navigator.mediaSession.setActionHandler("play",e?this.onPlayShortcut:null),window.navigator.mediaSession.setActionHandler("pause",e?this.onPauseShortcut:null),window.navigator.mediaSession.setActionHandler("previoustrack",t?this.onPreviousShortcut:null),window.navigator.mediaSession.setActionHandler("nexttrack",t?this.onNextShortcut:null),window.navigator.mediaSession.setActionHandler("stop",this.onCloseShortcut)),ee.Z.on({"shortcut:skipPrevious":this.onPreviousShortcut,"shortcut:stepBackward":this.onStepBackShortcut,"shortcut:seekBackward":this.onSkipBackShortcut,"shortcut:playPause":this.onPlayPauseShortcut,"shortcut:play":this.onPlayShortcut,"shortcut:pause":this.onPauseShortcut,"shortcut:seekForward":this.onSkipForwardShortcut,"shortcut:stepForward":this.onStepForwardShortcut,"shortcut:skipNext":this.onNextShortcut,"shortcut:increaseVolume":this.onVolumeIncrease,"shortcut:decreaseVolume":this.onVolumeDecrease,"shortcut:toggleFullScreen":this.onToggleFullscreenShortcut,"shortcut:stop":this.onCloseShortcut})}_stopListening(){b.Z.hasMediaSession&&(window.navigator.mediaSession.setActionHandler("play",null),window.navigator.mediaSession.setActionHandler("pause",null),window.navigator.mediaSession.setActionHandler("previoustrack",null),window.navigator.mediaSession.setActionHandler("nexttrack",null),window.navigator.mediaSession.setActionHandler("stop",null)),ee.Z.off({"shortcut:skipPrevious":this.onPreviousShortcut,"shortcut:stepBackward":this.onStepBackShortcut,"shortcut:seekBackward":this.onSkipBackShortcut,"shortcut:playPause":this.onPlayPauseShortcut,"shortcut:play":this.onPlayShortcut,"shortcut:pause":this.onPauseShortcut,"shortcut:seekForward":this.onSkipForwardShortcut,"shortcut:stepForward":this.onStepForwardShortcut,"shortcut:skipNext":this.onNextShortcut,"shortcut:increaseVolume":this.onVolumeIncrease,"shortcut:decreaseVolume":this.onVolumeDecrease,"shortcut:toggleFullScreen":this.onToggleFullscreenShortcut,"shortcut:stop":this.onCloseShortcut})}render(){return y.createElement(nt.Z,{isOpen:this.state.isCloseConfirmModalOpen,metricsPage:et.s0,title:(0,De.Z)("Stop Playback"),message:(0,De.Z)("Closing the player will stop playback. Any changes to the queue will be lost."),onConfirm:this.onCloseConfirmPress,onCancel:this.onCloseCancelPress})}}const TGe=(0,f.$j)((function(){return(0,de.P1)((0,de.P1)((e=>e.ui.audioVideoPlayer.openState),(e=>e.ui.photoPlayer.openState),(e=>e.ui.romPlayer.openState),((e,{playerType:t})=>t),((e,t,n,i)=>function(e){const{playerType:t,audioVideoOpenState:n,photoOpenState:i,romOpenState:s}=e,r=t===Se.Se&&!!n,a=t===Se.pV&&!!i;if(t===Se.eD&&s)return!1;let o=0,l=0;return n===YP.y?o+=1:n===YP.K&&(o+=2),i===YP.y?l+=1:i===YP.K&&(l+=2),r&&o>=l||a&&l>o}({audioVideoOpenState:e,photoOpenState:t,romOpenState:n,playerType:i}))),d_e(),(0,de.P1)(r_e(),(e=>{let t;if(e){const n=(0,Ho.getMetadataType)(e.type);t=n&&n.mediaType}return t})),((e,{isAdVisible:t})=>t),P_e,((e,t,n,i,s)=>{const r=t&&pa.wB((0,Vn.Z)(t.source).providerIdentifier,[pa.Ll,pa.vP]),a=t&&(0,Vn.Z)(t.source).serverIdentifier===KP.X,o=r&&a;return{allowShortcuts:e,isCurrentMediaTypePausable:!o,isCurrentMediaTypeSkippable:!i&&!r,isCurrentMediaTypeSeekable:!(i||o||n!==$a.j0&&n!==$a.pX),volume:s}}))}),PGe)(wGe);class ZGe extends y.Component{constructor(e,t){super(e,t),this.title=document.title}componentDidMount(){this._updateWindowTitle()}componentDidUpdate(){this._updateWindowTitle()}componentWillUnmount(){document.title=this.title}_updateWindowTitle(){const{type:e,title:t,originalTitle:n,grandparentTitle:i,index:s,parentIndex:r,originallyAvailableAt:a,isPaused:o}=this.props;if(!t||!e)return;let l;if(e===Ho.EPISODE)l=`${i} - ${(0,la.Z)({seasonIndex:r,episodeIndex:s,date:a,noLeadingZero:!0,separator:" · "})}`;else if(e===Ho.TRACK){const e=n||i;l=e?`${e} - ${t}`:t}else l=t;o||(l=`▶ ${l}`),document.title=l}render(){return null}}ZGe.propTypes={type:ls().string,title:ls().string,originalTitle:ls().string,grandparentTitle:ls().string,index:ls().number,parentIndex:ls().number,originallyAvailableAt:ls().string,isPaused:ls().bool};const NGe=(0,f.$j)((function(){return(0,de.P1)(YH(),d_e(),((e,t)=>t?{type:t.type,title:t.title,originalTitle:t.originalTitle,grandparentTitle:t.grandparentTitle,index:t.index,parentIndex:t.parentIndex,originallyAvailableAt:t.originallyAvailableAt,isPaused:e.isPaused}:{}))}))(ZGe);var AGe=Object.prototype.hasOwnProperty,xGe=Object.getOwnPropertySymbols,LGe=Object.prototype.propertyIsEnumerable,OGe=Object.assign;function jGe(e){const{component:t}=e,n=((e,t)=>{var n={};for(var i in e)AGe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&xGe)for(var i of xGe(e))t.indexOf(i)<0&&LGe.call(e,i)&&(n[i]=e[i]);return n})(e,["component"]);return y.createElement(y.Suspense,{fallback:null},y.createElement(t,OGe(OGe({},n),{type:"video",allowRecycleElement:!0})))}jGe.defaultProps={component:K_e};const kGe=jGe,RGe=D_e(jGe);function zGe(e){const t=document.getElementById("plex").classList,n="show-video-player";e?t.add(n):t.remove(n)}var UGe=Object.assign;const VGe=parseInt(ku.Z.playerControlsPosterHeight,10),BGe=parseInt(ku.Z.playerControlsLandscapePosterWidth,10),FGe=parseInt(ku.Z.playerControlsNarrowBreakpoint,10),HGe=parseInt(ku.Z.playerControlsPosterLeftGutter,10),_Ge=parseInt(ku.Z.playerControlsPosterBottomGutter,10),QGe=parseInt(ku.Z.playerControlsNarrowPosterBottomGutter,10);class GGe extends y.Component{constructor(e,t){super(e,t),this.updateAdState=()=>{var e;const{ad:t}=this.state,{isOpen:n,onUpdateCurrentAd:i}=this.props;i&&i(t&&n?{adDisplayIndex:t.displayIndex,adDisplayTotal:t.displayTotal,adDurationSeconds:t.duration,adPositionSeconds:Math.floor(this.state.adPositionMilliseconds/1e3),adState:L_e.Z$,adTimeOffsetSeconds:null!=(e=null==t?void 0:t.timeOffset)?e:null}:{adDisplayIndex:null,adDisplayTotal:null,adDurationSeconds:null,adPositionSeconds:null,adState:null,adTimeOffsetSeconds:null})},this.onAdPositionMillisecondsChange=e=>{this.setState({adPositionMilliseconds:e})},this.onAdChange=e=>{this.setState({ad:e,adPositionMilliseconds:0,hasRequestedAds:!0})},this.onScreenSizeChange=({width:e})=>{const t=e<=FGe;t!==this.state.isNarrowLayout&&this.setState({isNarrowLayout:t})},this.onSeekBarInteractionStart=()=>{this.setState({isSeeking:!0})},this.onSeekBarInteractionEnd=()=>{this.setState({isSeeking:!1})},this.onUpdateBufferedRanges=e=>{const{onUpdateBufferedRanges:t}=this.props;t&&t(e)},this.state={ad:null,adPositionMilliseconds:0,isNarrowLayout:!1,seekEndMilliseconds:0,seekStartMilliseconds:0},this.positionMillisecondsStore=(0,m_e.MT)(I_e,0)}static getDerivedStateFromProps(e,t){const n={vast:e.vast,isRemotePlayer:e.isRemotePlayer};return t.vast===n.vast&&t.isRemotePlayer===n.isRemotePlayer||(n.hasRequestedAds=!1,n.ad=null,n.adPositionMilliseconds=0),n}componentDidMount(){zGe(this.props.showBackgroundVideoPlayer)}componentDidUpdate(e,t){e.showBackgroundVideoPlayer!==this.props.showBackgroundVideoPlayer&&zGe(this.props.showBackgroundVideoPlayer),(e.isOpen&&!this.props.isOpen||t.ad!==this.state.ad||t.ad===this.state.ad&&t.adPositionMilliseconds!==this.state.adPositionMilliseconds&&Math.floor(this.state.adPositionMilliseconds/1e3)!==this.props.adPositionSeconds)&&this.updateAdState()}componentWillUnmount(){zGe(!1)}render(){var e,t;const{adState:n,adPositionSeconds:i,adDurationSeconds:s,playerType:r,isOpen:a,isMiniPlayer:o,isRemotePlayer:l,isPlayQueueLoading:c,isPostPlayVisible:d,isFullscreen:u,isVideo:p,isGame:m,hasError:h,hasConflicts:g,confirmLiveTVPlayback:v,showBackgroundVideoPlayer:I,currentMediaType:S,currentMediaSubtype:E,confirmPlaybackPayload:D,confirmOffsetPayload:C,confirmNewsSunsetPayload:P,advertisingNoticePayload:w,confirmRemoteToLocal:T,confirmLocalToRemote:Z,confirmPlayerUpsellPayload:N,vast:A,mediaComponent:x,mediaHeight:L,mediaPlacement:O,mediaWidth:j,playerComponent:k,bufferedRanges:R,machineIdentifier:z,providerIdentifier:U,gameInputDevices:V,gamePlatformTag:B,gamePreventDefault:F,onToggleFullscreen:H}=this.props,{ad:_,adPositionMilliseconds:Q,hasRequestedAds:G,seekStartMilliseconds:Y,seekEndMilliseconds:W,isNarrowLayout:K,isSeeking:q}=this.state;if(!a)return h?y.createElement(SGe,{isOpen:!0,isRemotePlayer:l,mediaType:S,playerType:r}):g?y.createElement(fGe,{isOpen:!0,isPlayerOpen:a,playerType:r}):v?y.createElement(OQe,{isOpen:!0,isPlayerOpen:a,playerType:r}):null;const $=(p||m)&&o?{edgeGutterX:HGe,edgeGutterY:K?QGe:_Ge,height:VGe,placement:O_e.aV,width:BGe}:{height:L,placement:O,width:j},J=n===L_e.Z$,X=!!A&&!G,ee=null!=(t=null==(e=R[R.length-1])?void 0:e.endSeconds)?t:0;return y.createElement(dn,{machineIdentifier:z,providerIdentifier:U},y.createElement(f.zt,{store:this.positionMillisecondsStore,context:h_e},y.createElement(jK.Z,{page:et.r$},y.createElement("div",{className:we()(o?"Player-miniPlayerContainer-Z6fOnP":"Player-fullPlayerContainer-cPN8MA",!I&&!o&&"Player-fullPlayerContainerBackground-2RW57n")},D?y.createElement($Qe,{isOpen:!0,playerType:r,confirmPlaybackPayload:D}):null,N?y.createElement(cGe,{isOpen:!0,playerType:r,upsellPayload:N}):null,w?y.createElement(TQe,{isOpen:!0,playerType:r,advertisingNoticePayload:w}):null,C?y.createElement(KQe,{isOpen:!0,playerType:r,confirmOffsetPayload:C}):null,P?y.createElement(YQe,{isOpen:!0,playerType:r,confirmNewsSunsetPayload:P}):null,T?y.createElement(dGe,{isOpen:!0,playerType:r}):null,1!==Z?y.createElement(FQe,{isOpen:!0,playerType:r}):null,h?y.createElement(SGe,{isOpen:!0,isRemotePlayer:l,mediaType:S,playerType:r}):null,g?y.createElement(fGe,{isOpen:!0,isPlayerOpen:a,playerType:r}):null,X||d||c||l&&1===Z||T?null:y.createElement(x,UGe(UGe({},$),{gameInputDevices:V,gamePlatformTag:B,gamePreventDefault:F,playerType:r,mediaType:S,mediaSubtype:E,isNarrowLayout:K,isStackedAbove:o,isAdVisible:J,onBufferChange:this.onUpdateBufferedRanges})),!A||l||T||h?null:y.createElement(kGe,UGe(UGe({},$),{ad:_,playerType:r,isMiniPlayer:o,isFullscreen:u,isIdle:!!q,component:(0,M.DB)("adPlayerComponent").getComponent(),isStackedAbove:o,isNarrowLayout:K,positionSeconds:Math.round(Q/1e3),url:A.url,statusOverlayClassName:"Player-adPlayerDisplayIndexContainer-3XqrJB",onAdChange:this.onAdChange,onPositionMillisecondsChange:this.onAdPositionMillisecondsChange})),y.createElement(k,UGe(UGe(UGe({},this.props),$),{ad:_,isAdVisible:J,isNarrowLayout:K,seekStartMilliseconds:Y,seekEndMilliseconds:W,bufferStartMilliseconds:0,bufferEndMilliseconds:1e3*ee,adPositionMilliseconds:l?1e3*i:Q,adDurationMilliseconds:1e3*s,onSeekBarInteractionStart:this.onSeekBarInteractionStart,onSeekBarInteractionEnd:this.onSeekBarInteractionEnd})),y.createElement(TGe,{isAdVisible:J,playerType:r,onToggleFullscreenShortcut:H}),b.Z.hasMediaSession?y.createElement(CGe,{playerType:r}):null,y.createElement(NGe,{playerType:r}),y.createElement(hQe,{playerType:r,isRemotePlayer:l,isAdVisible:J}),y.createElement(yQe,{playerType:r}),y.createElement(fQe,{onScreenSizeChange:this.onScreenSizeChange})))))}}GGe.defaultProps={bufferedRanges:[],confirmLiveTVPlayback:!1,isGame:!1,isMusic:!1,isPhoto:!1,isVideo:!1,isLiveTV:!1};const YGe=GGe;function WGe(e){return e?`${e.type}:${e.startTimeOffset}:${e.endTimeOffset}`:void 0}const KGe="north",qGe="northeast",$Ge="east",JGe="southeast",XGe="south",eYe="southwest",tYe="west",nYe="northwest",iYe="center";var sYe=n(85854);const rYe=(0,f.$j)((function(){return(0,de.P1)((0,eDe.Z)(),(e=>({url:e})))}))(sYe.ZP),aYe=Math.max(256,144),oYe={maxWidth:256/1920*100+"vw",maxHeight:144/1080*100+"vh"},lYe={maxWidth:"10vw",maxHeight:"10vh"},cYe={maxWidth:128/1920*100+"vw",maxHeight:72/1080*100+"vh"},dYe=({className:e,src:t,style:n})=>y.createElement("img",{className:e,src:t,style:n}),uYe=({className:e,providerEntityID:t,overlay:n,serverEntityID:i})=>{const[s,r]=(0,y.useState)();let a;switch(n.size){case"large":a=oYe;break;case"medium":a=lYe;break;case"small":default:a=cYe}const o=(0,y.useCallback)((()=>{r(new Error("Unable to load overlay"))}),[]);return(0,y.useEffect)((()=>{r(void 0)}),[n]),s?null:y.createElement(rYe,{component:dYe,className:e,serverEntityID:i,providerEntityID:t,url:n.key,width:aYe,height:aYe,style:a,format:"png",onError:o})},pYe={outerContainer:"MediaOverlays-outerContainer-2vLlf5",innerContainer:"MediaOverlays-innerContainer-1duI6P",horizontal:"MediaOverlays-horizontal-3HPPAS",vertical:"MediaOverlays-vertical-r7Kjh3",overlay:"MediaOverlays-overlay-2jW4eN",northwest:"MediaOverlays-northwest-3rGg6H MediaOverlays-horizontal-3HPPAS",north:"MediaOverlays-north-37pgwM MediaOverlays-horizontal-3HPPAS",northeast:"MediaOverlays-northeast-1j9Ev6 MediaOverlays-horizontal-3HPPAS",east:"MediaOverlays-east-61C0rr MediaOverlays-vertical-r7Kjh3",southeast:"MediaOverlays-southeast-2A8lw9 MediaOverlays-horizontal-3HPPAS",south:"MediaOverlays-south-guNYr4 MediaOverlays-horizontal-3HPPAS",southwest:"MediaOverlays-southwest-1h3VOX MediaOverlays-horizontal-3HPPAS",west:"MediaOverlays-west-1D5o1A MediaOverlays-vertical-r7Kjh3",center:"MediaOverlays-center-2mQ58h MediaOverlays-horizontal-3HPPAS"};var mYe=Object.assign;const hYe=(0,f.$j)((function(){return(0,de.P1)(T_e(),t_(),qH(),J_e(["mediaHeight","mediaWidth","itemPlaybackTime","positionSeconds","providerEntityID","serverEntityID"]),((e,t,n,i)=>mYe(mYe({},i),{liveTVMediaItem:t,liveTVSession:n,playQueueMediaItem:e})))}))((({itemPlaybackTime:e,liveTVMediaItem:t,liveTVSession:n,mediaHeight:i,mediaWidth:s,playQueueMediaItem:r,positionSeconds:a,providerEntityID:o,serverEntityID:l})=>{const[c,d]=function(){const[e,t]=(0,y.useState)([window.innerWidth,window.innerHeight]);return(0,y.useEffect)((()=>{function e(){t([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),e}(),p=(0,y.useMemo)((()=>{const i=Math.floor(e/1e3);let s,o=-1;return n&&t?(s=t,o=n.currentPosition-t.beginsAt):r&&(s=r,o=a),(null==s?void 0:s.Overlay)?function(e,t){const{secondsSinceMediaItemAiringBegan:n,secondsSinceMediaItemPlaybackBegan:i}=t;return e.reduce(((e,t)=>{const s=t.startTimeOffset/1e3,r=s+(null==t.duration?Number.POSITIVE_INFINITY:t.duration/1e3);let a=!1;return"absolute"===t.startTimeOffsetType?a=i>=s&&i<r:"relative"===t.startTimeOffsetType&&(a=n>=s&&n<r),a&&(e.has(t.gravity)?e.get(t.gravity).push(t):e.set(t.gravity,[t])),e}),new Map)}(s.Overlay,{secondsSinceMediaItemAiringBegan:o,secondsSinceMediaItemPlaybackBegan:i}):void 0}),[e,n,t,r,a]);if(!(null==p?void 0:p.size)||!i||!s)return null;const m=Math.min(c/s,d/i);return y.createElement("div",{className:pYe.outerContainer},y.createElement("div",{className:pYe.innerContainer,style:{width:s*m/c*100+"vw",height:i*m/d*100+"vh"}},Object.values(u).map((e=>{var t;const n=null==(t=null==p?void 0:p.get(e))?void 0:t.map(((e,t)=>y.createElement(uYe,{key:t,className:pYe.overlay,overlay:e,providerEntityID:o,serverEntityID:l})));return n?y.createElement("div",{key:e,className:pYe[e]},n):null}))))}));var gYe=Object.prototype.hasOwnProperty,yYe=Object.getOwnPropertySymbols,vYe=Object.prototype.propertyIsEnumerable,fYe=Object.assign;const IYe=function(e){const t=(0,de.P1)((e=>e),(e=>({positionMilliseconds:e})));function n(t){const{positionSeconds:n,positionMilliseconds:i}=t,s=((e,t)=>{var n={};for(var i in e)gYe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&yYe)for(var i of yYe(e))t.indexOf(i)<0&&vYe.call(e,i)&&(n[i]=e[i]);return n})(t,["positionSeconds","positionMilliseconds"]);let r=i;return null!=n&&Math.abs(n-Math.floor(i/1e3))>1&&(r=1e3*n),y.createElement(e,fYe({positionSeconds:n,positionMilliseconds:r},s))}return n.displayName=`WithPositionMilliseconds(${(0,rC.Z)(e)})`,n.WrappedComponent=e,n.propTypes={positionSeconds:ls().number,positionMilliseconds:ls().number.isRequired},(0,f.$j)(t,null,null,{context:h_e})(n)};var bYe=n(28450),MYe=n.n(bYe);class SYe extends y.Component{constructor(e,t){super(e,t),this._loadSubtitles=()=>{this._loadTimeoutID&&(this._loadTimeoutID=window.clearTimeout(this._loadTimeoutID)),this._connectionTimeoutID&&(this._connectionTimeoutID=window.clearTimeout(this._connectionTimeoutID)),this._formatTimeoutID&&(this._formatTimeoutID=window.clearTimeout(this._formatTimeoutID));const{subtitlesUrl:e,positionMilliseconds:t,decisionUseSidecarSrtSubtitles:n}=this.props;this._positionAtTimeOfRequest=t,(0,D.Z)("[Subtitles] loading subtitles. position: %s url: %s",this._positionAtTimeOfRequest,e),this._abortStream(),this._xhr=new window.XMLHttpRequest;const i=new(MYe().parser.XhrStream)(this._xhr),s=n?new(MYe().parser.SrtStreamParser)(i).ass:new(MYe().parser.StreamParser)(i).minimalASS;this._openSubtitlesConnection(),s.then(this.onSubtitlesLoad,this.onSubtitlesFail)},this._getPosition=()=>{const{positionMilliseconds:e,offset:t}=this.props,n=(e+t)/1e3;if(n%1e3){const e=this._clock.currentTime;if(Math.floor(e)===n)return e}return n},this.onMeasure=({width:e,height:t})=>{this.setState({width:e,height:t})},this.onSubtitlesLoad=e=>{if(!this._isMounted)return!1;(0,D.Z)("[Subtitles] Starting to render subtitles"),this._destroySubtitles(),this._clock=new(MYe().renderers.AutoClock)(this._getPosition,1e3),this._renderer=new(MYe().renderers.WebRenderer)(e,this._clock,document.getElementById(this._rendererID),this.props.rendererOptions),this._setSubtitleSize(),this._rerenderSubtitles(),this._setClockState(),this._formatTimeoutID=window.setTimeout((()=>{this._setSubtitleColor(),this._setSubtitlePosition(),this._rerenderSubtitles()}),0)},this.onSubtitlesConnectionTimeout=()=>{(0,D.Z)("[Subtitles] Connection inactivity timeout, reopening."),this._openSubtitlesConnection()},this.onSubtitlesFail=()=>{if(!this._isMounted)return!1;const e=this._xhr.readyState,t=this._xhr.status;this._errorCount++,D.Z.warn("[Subtitles] Request failed. statusCode:%s state:%s errorCount:%s %s",t,e,this._errorCount,this._xhr.errorString||""),this._errorCount>this.props.consecutiveErrorsTolerance?this.props.onSubtitlesError():this._loadTimeoutID=window.setTimeout(this._loadSubtitles,this.props.retryTimeout)},MYe().debugMode=!1,this.state={width:0,height:0},this._rendererID=(0,wf.Z)(),this._loadTimeoutID=null,this._connectionTimeoutID=null,this._errorCount=0,this._positionAtTimeOfRequest=null,this._isMounted=!1}componentDidMount(){this._isMounted=!0,this.props.subtitlesUrl&&this._loadSubtitles()}componentDidUpdate(e,t){const{isOpen:n,isBuffering:i,isPaused:s,hasError:r,heightOffset:a,rendererOptions:o,offset:l,color:c,position:d,size:u,sizeMultiplier:p,subtitlesUrl:m}=this.props,{width:h,height:g}=this.state;if(this._shouldResetStream(e)||o!==e.rendererOptions||m!==e.subtitlesUrl)return void this._loadSubtitles();const y=c!==e.color,v=d!==e.position,f=u!==e.size||p!==e.sizeMultiplier;y&&this._setSubtitleColor(),v&&this._setSubtitlePosition(),f&&this._setSubtitleSize(),(y||v||f||h!==t.width||g!==t.height||a!==e.heightOffset)&&this._rerenderSubtitles(),n===e.isOpen&&i===e.isBuffering&&s===e.isPaused&&r===e.hasError||this._setClockState(),l!==e.offset&&this._setPosition()}componentWillUnmount(){(0,D.Z)("[Subtitles] Closing"),this._loadTimeoutID&&(this._loadTimeoutID=window.clearTimeout(this._loadTimeoutID)),this._connectionTimeoutID&&(this._connectionTimeoutID=window.clearTimeout(this._connectionTimeoutID)),this._formatTimeoutID&&(this._formatTimeoutID=window.clearTimeout(this._formatTimeoutID)),this._isMounted=!1,this._destroySubtitles(),this._abortStream()}_openSubtitlesConnection(){const{subtitlesUrl:e,isDirectPlay:t,positionSeconds:n,connectionTimeout:i}=this.props;this._abortStream(),this._xhr.onreadystatechange=e=>{4===e.currentTarget.readyState&&(e.currentTarget.status>=200&&e.currentTarget.status<300?this._errorCount=0:this.onSubtitlesFail())},i&&(this._xhr.onprogress=e=>{(0,D.Z)("[Subtitles] Received data, restarting connection timer."),window.clearTimeout(this._connectionTimeoutID),this._connectionTimeoutID=window.setTimeout(this.onSubtitlesConnectionTimeout,i)});let s=e;if(t){const t=C.Z.parseUrl(e);t.params.offset=n,s=C.Z.join([t.origin,t.pathname],t.params)}this._xhr.open("GET",s,!0),this._xhr.send()}_destroySubtitles(){this._loadTimeoutID&&(this._loadTimeout=window.clearTimeout(this._loadTimeoutID)),this._clock&&(this._clock.disable(),this._clock=null),this._renderer&&(this._renderer.disable(),this._renderer=null);const e=document.getElementById(this._rendererID);for(;e.hasChildNodes();)e.removeChild(e.lastChild)}_abortStream(){this._xhr&&((0,D.Z)("[Subtitles] Aborting existing xhr."),this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.abort())}_setSubtitleColor(){const{color:e}=this.props;if(!this._renderer)return;const t=function(e){const t=/^#?([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i.exec(e);return t?{red:parseInt(t[1],16),green:parseInt(t[2],16),blue:parseInt(t[3],16)}:null}(e),n=this._renderer.ass.styles.get("Default");t?n?((0,D.Z)("[Subtitles] Setting subtitle color to %s",e),n._primaryColor=new(MYe().parts.Color)(t.red,t.green,t.blue,1),n._outlineColor=e===xPe.BLACK?new(MYe().parts.Color)(255,255,255,1):new(MYe().parts.Color)(0,0,0,1)):D.Z.warn("[Subtitles] Unable to set subtitle color, no default style"):D.Z.warn("[Subtitles] Unable to set subtitle color, invalid color")}_setSubtitlePosition(){const{position:e}=this.props;if(!this._renderer)return;const t=this._renderer.ass.styles.get("Default");let n=2;e===OPe.MIDDLE?n=5:e===OPe.TOP&&(n=8),t?((0,D.Z)("[Subtitles] Setting subtitle position to %s",e),t._alignment=n):D.Z.warn("[Subtitles] Unable to set subtitle position, no default style")}_setSubtitleSize(){const{size:e,sizeMultiplier:t}=this.props;if(!this._renderer)return;const n=this._renderer.ass.properties,i=e*t/100;let s,r;this.state.originalResolutionX&&this.state.originalResolutionY?(s=this.state.originalResolutionX,r=this.state.originalResolutionY):(s=n.resolutionX,r=n.resolutionY,this.setState({originalResolutionX:s,originalResolutionY:r})),n.resolutionX=s/i,n.resolutionY=r/i}_rerenderSubtitles(){if(this._renderer){const{width:e,height:t}=this.state;(0,D.Z)("[Subtitles] Re-rendering subtitles"),this._renderer.resize(e,t-this.props.heightOffset)}}_setPosition(){const e=this._clock;if(!e||!e._manualClock)return;const{positionMilliseconds:t,offset:n}=this.props;e._manualClock._currentTime=(t+n)/1e3}_setClockState(){const e=this._clock;if(!e)return;const{isOpen:t,isBuffering:n,isPaused:i,hasError:s}=this.props;return n||i?((0,D.Z)("[Subtitles] Clock State: paused"),void e.pause()):!t||s?((0,D.Z)("[Subtitles] Clock State: disabled"),void e.disable()):i?void 0:((0,D.Z)("[Subtitles] Clock State: playing"),void e.play())}_shouldResetStream(e){const{isOpen:t,isMediaLoading:n,isBuffering:i,isPaused:s,hasError:r,positionMilliseconds:a,lastSeekPositionSeconds:o,decisionUseSidecarSrtSubtitles:l}=this.props;if(l)return!1;const c=this._positionAtTimeOfRequest,d=a-e.positionMilliseconds,u=d>0&&t&&!n&&!i&&!s&&!r;if(null!=o&&o!==e.lastSeekPositionSeconds)return this._resetAfterSeekStarted=!0,this._resetLater=!1,!1;if(this._resetAfterSeekStarted){const e=1e3*o<a;return!(!u||!e||(this._resetAfterSeekStarted=!1,0))}return u&&this._resetLater?(this._resetLater=!1,!0):(!this._xhr||d>1e4||a<c)&&(this._resetLater=!u,u)}render(){return y.createElement(OC.Z,{className:"Subtitles-measure-d6Tpx3",onMeasure:this.onMeasure},y.createElement("div",{id:this._rendererID,className:"Subtitles-renderer-2L1st6",role:"alert"}))}}SYe.defaultProps={offset:0,color:xPe.WHITE,position:OPe.BOTTOM,size:kPe.NORMAL,sizeMultiplier:1,heightOffset:0,consecutiveErrorsTolerance:3,connectionTimeout:null,retryTimeout:3e3,rendererOptions:{enableSvg:!1,preciseOutlines:!1}};const EYe=SYe;var DYe=Object.prototype.hasOwnProperty,CYe=Object.getOwnPropertySymbols,PYe=Object.prototype.propertyIsEnumerable,wYe=Object.assign;const TYe={dispatchMakeDecision:w_e.bY,dispatchRemoveDecision:w_e.Td,dispatchShowAlert:dS.wp};class ZYe extends y.Component{constructor(e,t){super(e,t),this.onSubtitlesError=()=>{const{playQueueItemEntityID:e,playerType:t,positionMilliseconds:n,qualityIndex:i,decisionMediaIndex:s,decisionPartIndex:r,decisionUseSidecarSrtSubtitles:a,dispatchMakeDecision:o,dispatchRemoveDecision:l}=this.props;a?this.setState({hasSidecarSrtFailed:!0}):(l({playerType:t,playQueueItemEntityID:e}),o({playerType:t,playQueueItemEntityID:e,qualityIndex:i,mediaIndex:s,partIndex:r,options:{offset:n,subtitlesBurnLevel:RPe.Z.ALWAYS}}))},this.state={hasSidecarSrtFailed:!1}}componentDidUpdate(e,t){const{hasSidecarSrtFailed:n}=this.state;n&&n!==t.hasSidecarSrtFailed&&(D.Z.error("[Subtitles] Unrecoverable error processing",this.props.subtitlesUrl),this.props.dispatchShowAlert({type:"error",message:(0,De.Z)("There was an unexpected subtitles error")}))}render(){const e=this.props,{subtitlesUrl:t,dispatchMakeDecision:n,dispatchRemoveDecision:i}=e,s=((e,t)=>{var n={};for(var i in e)DYe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&CYe)for(var i of CYe(e))t.indexOf(i)<0&&PYe.call(e,i)&&(n[i]=e[i]);return n})(e,["subtitlesUrl","dispatchMakeDecision","dispatchRemoveDecision"]);return!t||this.state.hasSidecarSrtFailed?null:y.createElement(EYe,wYe(wYe({subtitlesUrl:t},s),{onSubtitlesError:this.onSubtitlesError}))}}const NYe=IYe(ZYe),AYe=(0,f.$j)((function(){return(0,de.P1)(J_e(["isOpen","isMediaLoading","isBuffering","isPaused","hasError","qualityIndex","positionSeconds","lastSeekPositionSeconds"]),a_e(),r_e(),N_e(),(0,M.DB)("selectSubtitleSettings"),((e,t,n,i,s)=>{const r=n.entityID,a=wYe(wYe(wYe({},e),s),{playQueueItemEntityID:r});return t&&(a.decisionMediaIndex=t.mediaIndex,a.decisionPartIndex=t.partIndex,a.decisionUseSidecarSrtSubtitles=t.useSidecarSrtSubtitles,a.subtitlesUrl=t.subtitlesUrl,a.isDirectPlay=t.isDirectPlay),i.selectedSubtitlesStream&&(a.offset=i.selectedSubtitlesStream.offset),a}))}),TYe)(NYe);var xYe=Object.prototype.hasOwnProperty,LYe=Object.getOwnPropertySymbols,OYe=Object.prototype.propertyIsEnumerable,jYe=Object.assign;function kYe(e){e.nativeEvent.stopImmediatePropagation()}const RYe=(0,Ql.Z)(Ur.Z.defaultSpeed),zYe={enter:{opacity:1,duration:RYe},exit:{opacity:0,duration:RYe}},UYe=function(e){var{isHidden:t,isHiddenPolite:n,marker:i,positionSeconds:s,onPress:r}=e,a=((e,t)=>{var n={};for(var i in e)xYe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&LYe)for(var i of LYe(e))t.indexOf(i)<0&&OYe.call(e,i)&&(n[i]=e[i]);return n})(e,["isHidden","isHiddenPolite","marker","positionSeconds","onPress"]);const o=WGe(i),[l,c]=(0,y.useState)(0),{isOpen:d,onOpen:u,onClose:p}=(0,Dl.Z)(),m=(0,y.useRef)(),h=(0,y.useCallback)((e=>{kYe(e),c(s),r(Math.round(i.endTimeOffset/1e3))}),[i,s,r]);return(0,y.useEffect)((()=>{const e=1e3*s,r=!i,a=e<(null==i?void 0:i.startTimeOffset),o=e>=(null==i?void 0:i.endTimeOffset),c=l>0,d=(null==i?void 0:i.endTimeOffset)-e<500,h=n&&m.current&&s>=m.current;t||r||a||o||h||c&&d?p():n&&!m.current?m.current=s+10:r||a||o||u()}),[i,t,n,l,s,u,p]),(0,y.useEffect)((()=>()=>{m.current=0,c(0)}),[o]),y.createElement(_l.M_,null,d&&o?y.createElement(_l.ww.div,{key:o,initial:"exit",animate:"enter",exit:"exit",variants:zYe},y.createElement($h.Z,jYe(jYe({},a),{autoFocus:"autofocus",onKeyDown:kYe,onKeyUp:kYe,onTouchEnd:kYe,onTouchStart:kYe,onPress:h}),function(e){switch(e.type){case o_e:return(0,De.Z)("Skip Ads");case l_e:return(0,De.Z)("Skip Intro");case"outro":return(0,De.Z)("Skip Outro");case"recaps":return(0,De.Z)("Skip Recaps")}}(i))):null)};var VYe=Object.prototype.hasOwnProperty,BYe=Object.getOwnPropertySymbols,FYe=Object.prototype.propertyIsEnumerable,HYe=Object.assign;const _Ye=(0,f.$j)((function(){return(0,de.zB)({positionSeconds:WH("positionSeconds")})}),(function(e,{playerType:t}){return{onPress(n){e(i_e.O7({playerType:t,positionSeconds:n}))}}}))((function(e){var{playerType:t}=e,n=((e,t)=>{var n={};for(var i in e)VYe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&BYe)for(var i of BYe(e))t.indexOf(i)<0&&FYe.call(e,i)&&(n[i]=e[i]);return n})(e,["playerType"]);return y.createElement(UYe,HYe({},n))})),QYe=parseInt(ku.Z.playerControlsHeight,10);class GYe extends y.Component{constructor(){super(...arguments),this.onMeasure=e=>{this.props.onDimensionsChange&&this.props.onDimensionsChange(e)}}render(){const{className:e,bottom:t,children:n}=this.props;return y.createElement(OC.Z,{className:e,style:{bottom:t},ignoreWidth:!0,ignorePosition:!0,onMeasure:this.onMeasure},n)}}GYe.defaultProps={className:"AudioVideoStripeContainer-container-2TIa2Q",bottom:QYe};const YYe=GYe;var WYe=Object.assign;const KYe=(0,qC.n3)(Ho.MOVIE,null,YC.r$),qYe=2*(parseInt(ku.Z.posterTitleHeight,10)+parseInt(ku.Z.posterTitlePadding,10));function $Ye(e){return e-qYe}const JYe=(0,y.memo)((function(e){const{serverEntityID:t,index:n,thumb:i,tag:s,isActive:r,startTimeOffset:a,cellWidth:o,cellHeight:l,onSeekTo:c}=e,d=(0,HC.Z)(e),u=(0,y.useCallback)((()=>{const e=Math.round(a/1e3);c(e)}),[a,c]),p=n;return y.createElement("div",{style:d.style},y.createElement(AM.Z,{className:we()("VideoChapterCell-thumbWrapper-1SJ4TA",r&&"VideoChapterCell-isActive-28FrlZ"),onPress:u},y.createElement(ft.Z,{key:p,serverEntityID:t,url:i,backgroundSize:"contain",width:o,height:$Ye(l),component:mt.Z})),y.createElement("div",{className:"VideoChapterCell-titleContainer-3IuaRP"},y.createElement("div",{className:"VideoChapterCell-title-2AoBsi"},function(e,t){return t||(0,De.Z)("Chapter {index}",{index:e})}(n,s)),y.createElement("div",{className:"VideoChapterCell-secondaryTitle-cg00sr"},(0,Iy.Z)(a))))}));var XYe=Object.assign;const eWe=(0,mH.ZP)({direction:mH._y,rows:1,overscan:0,innerHorizontalPadding:30,outerPaddingTop:10,outerPaddingLeft:5,outerPaddingRight:5,getCellWidth:e=>yH(WYe(WYe({},e),{minCellWidth:135,preferredCellWidth:180,minColumns:2,maxColumns:11,aspectRatio:KYe})),getCellHeight:e=>hH(WYe(WYe({},e),{aspectRatio:KYe,titleHeight:qYe}))});class tWe extends y.Component{constructor(e,t){super(e,t),this.onHubCellScrollIndexChange=e=>{this.setState({scrollIndex:e,scrollIndexIsActiveChapter:!1})},this.state={scrollIndex:this.props.activeChapterIndex,scrollIndexIsActiveChapter:!0,activeChapterIndex:this.props.activeChapterIndex}}static getDerivedStateFromProps(e,t){return t.activeChapterIndex!==e.activeChapterIndex?{scrollIndex:e.activeChapterIndex,scrollIndexIsActiveChapter:!0,activeChapterIndex:e.activeChapterIndex}:null}render(){const{serverEntityID:e,bottom:t,activeChapterIndex:n,chapters:i,onSeekTo:s}=this.props;return y.createElement(YYe,{className:"VideoChapters-container-9F_CiL AudioVideoStripeContainer-container-2TIa2Q",bottom:t},y.createElement(ZQ,{hubIdentifier:"chapters",title:(0,De.Z)("Chapter selection"),size:i.length,keyPropName:"index",items:i.map(((e,t)=>XYe(XYe({},e),{isActive:t===n}))),layout:eWe,cellRenderer:Yj({serverEntityID:e,onSeekTo:s},JYe),scrollIndex:this.state.scrollIndex,shouldCenterScrollIndex:this.state.scrollIndexIsActiveChapter,onListScrollIndexChange:this.onHubCellScrollIndexChange}))}}const nWe=tWe,iWe=(0,f.$j)((function(){return(0,de.P1)(YH(),c_e(),(0,de.P1)(WH("positionSeconds"),d_e(),((e,t)=>t&&t.chapters?t.chapters.findIndex((t=>Math.floor(t.startTimeOffset/1e3)<=e&&Math.floor(t.endTimeOffset/1e3)>e)):-1)),((e,t,n)=>({serverEntityID:e.serverEntityID,chapters:t.chapters,activeChapterIndex:n})))}),(function(e,{playerType:t}){return{onSeekTo(n){e(i_e.O7({playerType:t,positionSeconds:n}))}}}))(nWe),sWe=function(e){const{title:t}=e;return y.createElement("div",{className:"AudioVideoFullPlayerContentHeading-heading-3mZn8Q"},t)},rWe=function(e){const{children:t}=e;return y.createElement("div",{className:"AudioVideoFullPlayerContentHeadingContainer-headingContainer-1G_G1u"},t,y.createElement("div",{className:"AudioVideoFullPlayerContentHeadingContainer-divider-2xRBwK"}))};function aWe(e){const{className:t,posterPlayButtonClassName:n,serverEntityID:i,providerEntityID:s,metadataItemEntityID:r,type:a,title:o,context:l,imageWidth:c,imageHeight:d,imageUrl:u,beginsAt:p,endsAt:m,channelTitle:h,channelShortTitle:g,timeFormat:v,onPlayPress:f}=e,I=eQ(a,l,{providerEntityID:s});return y.createElement("div",{className:t},y.createElement("div",{className:"GridAlsoAiringItemMetadata-channelInfoContainer-15mj-m"},y.createElement("div",{"data-qa-id":"alsoAiringItem-channel-name",className:"GridAlsoAiringItemMetadata-channelTitle---ngm_"},g||h)),y.createElement("div",{className:"GridAlsoAiringItemMetadata-cardContainer-tqa6Be"},y.createElement(lZe,{playButtonClassName:n,playCircleClassName:"GridAlsoAiringItemMetadata-posterPlayCircle-1eQhiw MetadataPosterButtonCard-playCircle-3JXUqx PlayButton-playCircle-2DYa77",serverEntityID:i,providerEntityID:s,imageWidth:c,imageHeight:d,imageUrl:u,title:o,onPlayPress:f})),y.createElement("div",{className:"GridAlsoAiringItemMetadata-titlesContainer-2_qQ8C"},y.createElement("div",{className:"GridAlsoAiringItemMetadata-titles-24s_2d"},I.map(((e,t)=>y.createElement(RQ,{key:t,serverEntityID:i,providerEntityID:s,metadataItemEntityID:r,component:e,isSecondary:t>0}))))),y.createElement("div",{className:"GridAlsoAiringItemMetadata-airTimeContainer-kkpXsi"},p&&m?JC(p,m,{timeFormat:v,separator:" — "}):null))}aWe.defaultProps={className:"GridAlsoAiringItemMetadata-container-1J-ebV"};const oWe=aWe,lWe=(0,f.$j)((function(){return(0,de.P1)(QC,(0,_C.Z)(),(0,OH.Z)(),((e,t,n)=>{const i=YC.UC,s=(0,qC.n3)(t.type,t.subtype,i)===qC.oz?64:36,r=(0,cG.Z)(s,null,t.type,t.subtype,t,i);return{type:t.type,title:t.title,context:i,imageWidth:r.width,imageHeight:r.height,imageUrl:r.url,beginsAt:n&&n.beginsAt,endsAt:n&&n.endsAt,channelTitle:n&&n.channelTitle,channelShortTitle:n&&n.channelShortTitle,timeFormat:e}}))}))(oWe),cWe=function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,playerType:s,onPlayPress:r}=e;return y.createElement("div",{"data-qa-id":"alsoAiringItem",className:"GridAlsoAiringItem-container-5upW0n"},y.createElement(AM.Z,{className:"GridAlsoAiringItem-underlay-2e3RW7",onPress:r}),y.createElement(lWe,{className:"GridAlsoAiringItem-metadataContainer-3PUfG5 GridAlsoAiringItemMetadata-container-1J-ebV",posterPlayButtonClassName:"GridAlsoAiringItem-metadataPosterPlayButton-21vOUv MetadataPosterButtonCard-playButton-3TZX1L PlayButton-playButton-2dFmuo",serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,playerType:s,onPlayPress:r}))};var dWe=Object.prototype.hasOwnProperty,uWe=Object.getOwnPropertySymbols,pWe=Object.prototype.propertyIsEnumerable,mWe=Object.assign;const hWe={dispatchStartLiveTVPlayback:qa.lS},gWe=(0,f.$j)(null,hWe)((function(e){const{dispatchStartLiveTVPlayback:t}=e,n=((e,t)=>{var n={};for(var i in e)dWe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&uWe)for(var i of uWe(e))t.indexOf(i)<0&&pWe.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchStartLiveTVPlayback"]),{serverEntityID:i,providerEntityID:s,metadataItemEntityID:r}=e,a=(0,y.useCallback)((()=>{t({serverEntityID:i,providerEntityID:s,metadataItemEntityID:r,metricsPage:et.r$})}),[t,i,s,r]);return y.createElement(cWe,mWe(mWe({},n),{onPlayPress:a}))})),yWe=function(e){const{serverEntityID:t,providerEntityID:n,itemEntityIDs:i,playerType:s}=e;return y.createElement("div",{className:"GridAlsoAiring-container-2g7IPX"},y.createElement(rWe,null,y.createElement(sWe,{title:(0,De.Z)("Airing Now")})),y.createElement(wN.Z,{className:"GridAlsoAiring-content--RTJkj Scroller-vertical-1tg_Qg",autoScroll:!0},i.map((e=>y.createElement(gWe,{key:e,serverEntityID:t,providerEntityID:n,metadataItemEntityID:e,playerType:s})))))};var vWe=Object.prototype.hasOwnProperty,fWe=Object.getOwnPropertySymbols,IWe=Object.prototype.propertyIsEnumerable,bWe=Object.assign;const MWe={dispatchInitMetadataList:QD,dispatchPopulateChannelPrograms:JD,dispatchRepopulateChannelPrograms:XD,dispatchResetStartTime:YD,dispatchSetViewportSize:qD},SWe=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.channelGridPage.viewportWidth),DC(),MC(),((e,t,n)=>{const i=Math.floor(Date.now()/1e3);return{containerKey:n,itemEntityIDs:t.filter((e=>e.Media[0].beginsAt<=i&&e.Media[0].endsAt>i)).map((e=>e.entityID)),shouldSetViewportSize:0===e}}))}),MWe)((function(e){const{shouldSetViewportSize:t,dispatchInitMetadataList:n,dispatchPopulateChannelPrograms:i,dispatchRepopulateChannelPrograms:s,dispatchResetStartTime:r,dispatchSetViewportSize:a}=e,o=((e,t)=>{var n={};for(var i in e)vWe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&fWe)for(var i of fWe(e))t.indexOf(i)<0&&IWe.call(e,i)&&(n[i]=e[i]);return n})(e,["shouldSetViewportSize","dispatchInitMetadataList","dispatchPopulateChannelPrograms","dispatchRepopulateChannelPrograms","dispatchResetStartTime","dispatchSetViewportSize"]),{containerKey:l,serverEntityID:c,providerEntityID:d}=e;return(0,y.useEffect)((()=>{l&&(t&&a(),r(),n({containerKey:l,serverEntityID:c,providerEntityID:d}),i())}),[l,c,d,t,n,i,r,a]),y.createElement(yWe,bWe({},o))}));var EWe=Object.assign;const DWe=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.channelGridPage),YH(),((e,t)=>({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataListEntityID:e.metadataList})))}))((function(e){return y.createElement(SWe,EWe({},e))}));var CWe=Object.assign;const PWe="ui/player/playerControls/togglePlayerOpenState",wWe=((0,No.Z)(PWe),(0,No.Z)(PWe,(e=>CWe(CWe({},e),{openState:YP.K})))),TWe=(0,No.Z)(PWe,(e=>CWe(CWe({},e),{openState:YP.y}))),ZWe={[PWe](e,{playerType:t,openState:n}){const i=(0,JP.F_)(e,t);(0,Rt.c9)((()=>{i.set({previousOpenState:void 0,openState:n,isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1})}))}};var NWe=Object.prototype.hasOwnProperty,AWe=Object.getOwnPropertySymbols,xWe=Object.prototype.propertyIsEnumerable,LWe=Object.assign;function OWe(e){const{className:t,isPrimary:n}=e,i=((e,t)=>{var n={};for(var i in e)NWe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&AWe)for(var i of AWe(e))t.indexOf(i)<0&&xWe.call(e,i)&&(n[i]=e[i]);return n})(e,["className","isPrimary"]);return y.createElement(GC.Z,LWe(LWe({},i),{className:we()(t,n&&"PlayerIconButton-isPrimary-1GYXk2")}))}OWe.defaultProps={className:"PlayerIconButton-playerButton-aW9TNw IconButton-button-2smHOM"};const jWe=OWe;function kWe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-collapse-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M280 448L28 196l56-56 196 196 196-196 56 56z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}kWe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const RWe=kWe;function zWe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-fullscreen-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M532.011 28H346.44l76.891 76.892L310.2 218.023l31.788 31.788 113.131-113.132 76.892 76.892V28zM28 532.011h185.572L136.68 455.12l113.131-113.131-31.788-31.788-113.131 113.131L28 346.44v185.571z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}zWe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const UWe=zWe;function VWe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-windowed-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M224 336H38.428l76.892 76.892L2.189 526.023l31.788 31.788L147.108 444.68 224 521.572V336zm112-112h185.572l-76.892-76.892L557.811 33.977 526.023 2.189 412.892 115.32 336 38.428V224z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}VWe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const BWe=VWe,FWe={topControls:"FullPlayerTopControls-topControls-2VIF8s",topButton:"FullPlayerTopControls-topButton-3z2b_v PlayerIconButton-playerButton-aW9TNw IconButton-button-2smHOM",castButton:"FullPlayerTopControls-castButton-1yiNbG FullPlayerTopControls-topButton-3z2b_v PlayerIconButton-playerButton-aW9TNw IconButton-button-2smHOM",remotePlayerName:"FullPlayerTopControls-remotePlayerName-1boYKp",remotePlayerProduct:"FullPlayerTopControls-remotePlayerProduct-3NjdzC"},HWe=(0,de.P1)(NP,(e=>e?e.product:null)),_We=(0,de.P1)(jQe,HWe,(0,de.P1)($we,Qwe,_we(),WH("isWatchTogether"),(0,de.P1)(s_e(),(e=>null==e?void 0:e.type)),xa.Z,((e,t,n,i,s,r)=>{const a=2===t&&(0,$P.Z)({protocol:GP.l,providerIdentifier:n,userFeaturesByUUID:r,isWatchTogether:i,playQueueType:s}),o=e.some((({protocol:e,protocolCapabilities:t})=>(0,$P.Z)({protocol:e,protocolCapabilities:t,providerIdentifier:n,userFeaturesByUUID:r,isWatchTogether:i,playQueueType:s})));return a||o})),((e,t,n)=>({remotePlayerName:e,remotePlayerProduct:t,showRemotePlayer:n}))),QWe=(0,f.$j)(_We,(function(e,t){const n={playerType:t.playerType};return{onCollapsePress(t){e(TWe(n))}}}))((function(e){const{className:t=FWe.topControls,playerType:n,showRemotePlayer:i,hasFullscreen:s,isFullscreen:r,remotePlayerName:a,remotePlayerProduct:o,onCollapsePress:l,onCastMenuChange:c,onEnterFullscreenPress:d,onExitFullscreenPress:u}=e,p=(0,I.TH)(),m=(0,ad.Z)(p);return(0,y.useEffect)((()=>{m&&p!==m&&!(0,I.LX)(m.pathname,{path:Bz.Z.watchNow,exact:!0})&&l()}),[p,m,l]),y.createElement("div",{className:t},y.createElement("div",null,y.createElement(jWe,{className:FWe.topButton,"data-qa-id":"minimizePlayerButton",iconComponent:RWe,title:(0,De.Z)("Minimize Player"),onPress:l}),a?y.createElement("span",{className:FWe.remotePlayerName},(0,De.Z)("Casting to {playerName}",{playerName:a})):null,a&&o?y.createElement("span",{className:FWe.remotePlayerProduct},"(",o,")"):null),y.createElement("div",null,i?y.createElement(gTe,{className:FWe.castButton,playerType:n,onMenuChange:c}):null,s&&r?y.createElement(jWe,{className:FWe.topButton,"data-qa-id":"windowedButton",iconComponent:BWe,title:(0,De.Z)("Exit Fullscreen"),onPress:u}):null,s&&!r?y.createElement(jWe,{className:FWe.topButton,"data-qa-id":"fullscreenButton",iconComponent:UWe,title:(0,De.Z)("Enter Fullscreen"),onPress:d}):null))})),GWe="PlayPauseOverlay-hiddenCursor-3r15wl";class YWe extends y.Component{constructor(e,t){super(e,t),this.onPress=e=>{this._cancelPlayPause(),this.setState((({isPaused:e})=>({isPaused:!e}))),this._playPauseTimeoutID=window.setTimeout((()=>{this._playPauseTimeoutID=null,this.props.isPaused!==this.state.isPaused&&this.props.onTogglePlayPress(e)}),175)},this.onDoubleClick=e=>{this.props.onToggleFullscreen()},this.state={isPaused:e.isPaused},this._playPauseTimeoutID=null}componentWillReceiveProps(e){e.isPaused===this.state.isPaused||this._playPauseTimeoutID||this.setState({isPaused:e.isPaused})}componentWillUnmount(){this._cancelPlayPause()}_cancelPlayPause(){this._playPauseTimeoutID&&(window.clearTimeout(this._playPauseTimeoutID),this._playPauseTimeoutID=null)}render(){const{className:e,isCursorHidden:t,isTogglePlayPressDisabled:n}=this.props,{isPaused:i}=this.state;return n?y.createElement("div",{className:we()(e,t&&GWe,"PlayPauseOverlay-overlay-1TG2wv"),onClick:this.onPress,onDoubleClick:this.onDoubleClick}):y.createElement(dP.Z,{className:we()(e,t&&GWe,i?"PlayPauseOverlay-playButton-2QHNcV PlayPauseOverlay-overlay-1TG2wv PlayButton-playButton-2dFmuo":"PlayPauseOverlay-pauseButton-1xHZt- PlayPauseOverlay-playButton-2QHNcV PlayPauseOverlay-overlay-1TG2wv PlayButton-playButton-2dFmuo"),circleClassName:"PlayPauseOverlay-playCircle-1xl6BG PlayButton-playCircle-2DYa77","aria-label":i?(0,De.Z)("Play"):(0,De.Z)("Pause"),onPress:this.onPress,onDoubleClick:this.onDoubleClick})}}YWe.defaultProps={isCursorHidden:!1,isTogglePlayPressDisabled:!1};const WWe=YWe,KWe=(0,f.$j)((function(){return(0,de.P1)(YH(),Hwe(),((e,t)=>{const n=pa.wB(t.identifier,pa.vP);return{isPaused:e.isPaused,isTogglePlayPressDisabled:n&&!e.isPaused}}))}),(function(e,t){const n={playerType:t.playerType};return{onTogglePlayPress(t){e((0,i_e.ID)(n))}}}))(WWe),qWe=(0,de.P1)(fe.Z,(e=>e.audioDevices||[])),$We=(0,de.P1)(qWe,(e=>e.filter((e=>e.present)))),JWe=(0,de.P1)(qWe,fe.Z,((e,t)=>e.find((e=>e.name===t["player.audioDevice"]))));var XWe=Object.prototype.hasOwnProperty,eKe=Object.getOwnPropertySymbols,tKe=Object.prototype.propertyIsEnumerable,nKe=Object.assign;class iKe extends y.Component{constructor(e,t){super(e,t),this.onToggleMenuPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=e=>{this.setState({isMenuOpen:!1})},this.onSelectPress=e=>t=>{this.props.onChange(e),this.onMenuClose()},this.state={isMenuOpen:!1},this._menuInputButtonID=(0,wf.Z)()}getSelectedValue(e,t){const n=E().find(e,(e=>{if(E().isString(e))return e===t;const[n]=E().keys(e);return n===t}));if(E().isString(n))return n;const[i]=E().keys(n);return null==n?void 0:n[i]}render(){const e=this.props,{name:t,size:n,kind:i,value:s,values:r,overrideSelectedValue:a}=e,o=((e,t)=>{var n={};for(var i in e)XWe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&eKe)for(var i of eKe(e))t.indexOf(i)<0&&tKe.call(e,i)&&(n[i]=e[i]);return n})(e,["name","size","kind","value","values","overrideSelectedValue"]),l=this.getSelectedValue(r,s);return null==l?null:y.createElement(G$.Z,{id:this._menuInputButtonID,size:n,kind:i,direction:this.state.isMenuOpen?yc.UP:yc.WV,onPress:this.onToggleMenuPress},a||l,y.createElement(mo.Z,nKe({isOpen:this.state.isMenuOpen,target:this._menuInputButtonID,onMenuClose:this.onMenuClose},o),r.map((e=>{if(E().isString(e))return y.createElement(Ic.Z,{key:e,isSelected:e===s,onPress:this.onSelectPress(e)},e);const[t]=E().keys(e);return y.createElement(Ic.Z,{key:t,isSelected:t===s,onPress:this.onSelectPress(t)},e[t])}))))}}const sKe=iKe,rKe=function(e){const{bottom:t,children:n,title:i=(0,De.Z)("Playback Settings"),onDimensionsChange:s}=e;return y.createElement(YYe,{className:"AudioVideoPlaybackSettings-container-lIjMOe AudioVideoStripeContainer-container-2TIa2Q",bottom:t,onDimensionsChange:s},y.createElement("div",{className:"AudioVideoPlaybackSettings-title--BA1sj"},i),y.createElement("div",{className:"AudioVideoPlaybackSettings-menusContainer-2DMtry","data-qa-id":"playbackSettingsContainer"},n))};function aKe({className:e,label:t,children:n,isDisabled:i}){return y.createElement("div",{className:we()(e,i&&"AudioVideoSettingsRow-isDisabled-3pKVt2")},y.createElement("div",{className:"AudioVideoSettingsRow-label-3jOrnl AudioVideoSettingsRow-cell-3uwnhq"},t),y.createElement("div",{className:"AudioVideoSettingsRow-cell-3uwnhq"},n))}aKe.defaultProps={className:"AudioVideoSettingsRow-row-17UbJZ"};const oKe=aKe;class lKe extends y.Component{constructor(e,t){super(e,t),this.onPlaybackSpeedChange=({positionValue:e})=>{this.setState({playbackSpeed:e},(()=>{this.props.onPlaybackSpeedChange(e)}))},this.state={playbackSpeed:e.playbackSpeed}}componentWillReceiveProps(e){e.playbackSpeed!==this.props.playbackSpeed&&this.setState({playbackSpeed:e.playbackSpeed})}render(){const{audioDevices:e,bottom:t,canSetPlaybackSpeed:n,playbackSpeed:i,playbackSpeedSetting:s,selectedAudioDevice:r,onAudioDeviceChange:a,onDimensionsChange:o}=this.props;return y.createElement(rKe,{bottom:t,onDimensionsChange:o},n?y.createElement(oKe,{label:(0,De.Z)("Playback Speed")},y.createElement(vr.Z,{className:"AudioSettings-slider-ovwdsU Slider-slider-4zRCDI",min:s.min,max:s.max,stepSize:s.step,value:this.state.playbackSpeed,onChange:this.onPlaybackSpeedChange}),(0,Aee.H)(i)):null,(null==e?void 0:e.length)>1?y.createElement(oKe,{label:(0,De.Z)("Audio Device")},y.createElement(sKe,{name:"audioDevice",size:vc.M2,value:r.name,values:e.map((e=>({[e.name]:bwe(e)}))),onChange:a})):null)}}lKe.defaultProps={playbackSpeedSetting:{min:.5,max:2,step:.1}};const cKe=lKe,dKe=(0,YM.Z)((function(){return(0,de.P1)(WH("controllable"),C_e(),(0,de.P1)(Hwe(),(e=>{if(!e)return;const t=E().findWhere(e.features,{type:mS.L6});return t&&E().findWhere(t.settings,{id:RT.Jz})||void 0})),$We,JWe,((e,t,n,i,s)=>({audioDevices:i,selectedAudioDevice:s,canSetPlaybackSpeed:!e||!!e.playbackSpeed,playbackSpeed:t,playbackSpeedSetting:n})))}),(function(e,t){const{playerType:n}=t;return{onAudioDeviceChange(t){e((0,tt.mb)({deviceName:t}))},onPlaybackSpeedChange(t){e(i_e.ec({playerType:n,playbackSpeed:t}))}}}))(cKe);function uKe(e){return y.createElement("div",{className:e.className},e.children)}uKe.defaultProps={className:"BottomBar-bottomBar-rwT9ad"};const pKe=uKe;function mKe(e){return y.createElement("div",{className:e.className},e.children)}mKe.defaultProps={className:"ControlsContainer-controlsContainer-2vVSNH"};const hKe=mKe;var gKe=n(79490),yKe=Object.assign;class vKe extends y.Component{constructor(e,t){super(e,t),this.onVolumeChange=e=>{const{volume:t}=this.state,n=Math.round(Math.min(100,Math.max(0,t+e)));t!==n&&this.setState({volume:n},(()=>{this.props.onVolumeChange(this.state.volume)}))},this.onVolumeIconPress=()=>{const e=this.state.volume>0;e&&(this._lastVolume=this.state.volume),this.setState({volume:e?0:this._lastVolume||100},(()=>{this.props.onVolumeChange(this.state.volume)}))},this.state={volume:e.volume}}componentWillReceiveProps({volume:e}){e!==this.state.volume&&this.setState({volume:e})}render(){const{component:e}=this.props;return y.createElement(e,yKe(yKe(yKe({},this.props),this.state),{onVolumeChange:this.onVolumeChange,onVolumeIconPress:this.onVolumeIconPress}))}}const fKe=(0,f.$j)((function(){return(0,de.P1)(((e,{isWatchTogether:t})=>t),YH(),r_e(),P_e,((e,t,n,i)=>{const s=t.controllable,r=t.playQueue,a=r.currentIndex,o=n.subtype===zo.NEWS;let l,c,d;return s?(c=!s.skipNext,l=!s.skipPrevious,d=!s.shuffle):(c=!t.repeatAll&&a>=t.playQueue.playQueueItems.length-1,l=!t.repeatAll&&a<=0&&t.positionSeconds<=gKe.Nf,d=!r.canShuffle),{metadataItemEntityID:n.metadataItem,providerEntityID:t.providerEntityID,serverEntityID:t.serverEntityID,volume:i,activateChaptersButton:t.isChaptersVisible,activateLyricsButton:t.isLyricsVisible,activateQueueButton:t.isPlayQueueVisible,activateRepeatButton:t.repeatAll,activateRepeatOneButton:t.repeatOne,activateSettingsButton:t.isSettingsVisible,activateWatchTogetherParticipantsButton:t.isWatchTogetherParticipantsVisible,activateShuffleButton:r.playQueueShuffled,disableNextButton:c,disablePauseButton:!!s&&!s.playPause,disablePlayButton:!!s&&!s.playPause,disablePreviousButton:l,disableRepeatButton:!!s&&!s.repeat,disableRepeatOneButton:!!s&&!s.repeat,disableShuffleButton:d,disableSkipBackButton:!!s&&!s.seekTo,disableSkipForwardButton:!!s&&!s.seekTo,showCloseButton:!0,showNextButton:!e,showPauseButton:!t.isPaused,showPlayButton:t.isPaused,showPreviousButton:!e,showRepeatButton:!o&&!t.repeatOne&&!e,showRepeatOneButton:t.repeatOne&&!e,showVolume:!s||s.volume}}))}),(function(e,{playerType:t}){const n={playerType:t};return{onEditPress(t){e(Ka.editMetadataItem(t))},onFavoritePress(t){e(Ka.favoriteMetadataItem(t))},onUnfavoritePress(t){e(Ka.unfavoriteMetadataItem(t))},onRepeatPress(){e(FP.ZD(n))},onRepeatOnePress(){e(FP.ZD(n))},onPreviousPress(){e(FP.oA(n))},onNextPress(){e(FP.o1(n))},onShufflePress(){e(FP.Yj(n))},onQueuePress(){e(FP.D5(n))},onLyricsPress(){e(FP.Ie(n))},onSkipBackPress(){e(i_e.QJ(n))},onPlayPress(){e(i_e.hY(n))},onPausePress(){e(i_e.wO(n))},onSkipForwardPress(){e(i_e.wW(n))},onSettingsPress(){e(i_e.z5(n))},onWatchTogetherParticipantsPress(){e(i_e.$m(n))},onChaptersPress(){e(i_e.Y5(n))},onVolumeChange(t){e(i_e.v6(yKe(yKe({},n),{volume:t})))},onClosePress(){e(it.Mh(n))}}}),(function(e,t,n){const{metadataItemEntityID:i,providerEntityID:s}=e;return yKe(yKe(yKe(yKe({},n),e),t),{onEditPress(){t.onPausePress(),t.onEditPress({metadataItemEntityID:i})},onFavoritePress(){t.onFavoritePress({metadataItemEntityID:i,providerEntityID:s})},onUnfavoritePress(){t.onUnfavoritePress({metadataItemEntityID:i,providerEntityID:s})}})}))(vKe);function IKe(e){const{className:t,children:n}=e;return y.createElement("div",{className:t},n)}IKe.defaultProps={className:"AudioVideoInfoBar-container-1L_zL_"};const bKe=IKe,MKe=function(e){const{className:t}=e;return y.createElement(bKe,{className:t},y.createElement("div",{className:"AdInfoBar-message-UWU1G6"},(0,De.Z)("Video will play after this advertisement")))};class SKe extends y.Component{constructor(e,t){super(e,t),this.onTogglePress=()=>{this.setState((e=>({isToggled:!e.isToggled})))},this.state={isToggled:!1}}render(){const{className:e,durationSeconds:t,positionSeconds:n}=this.props,i=1e3*n,s=1e3*t,r=s-i;return y.createElement(AM.Z,{className:e,"data-qa-id":"mediaDuration",onPress:this.onTogglePress},this.state.isToggled?`-${(0,Iy.Z)(r)}`:(0,Iy.Z)(i)," / ",(0,Iy.Z)(s))}}SKe.defaultProps={className:"DurationRemaining-container-3zfLur"};const EKe=SKe;function DKe(e){const{isTidal:t,isPreview:n,isLossless:i}=e,s=!t||!n&&!i;return y.createElement("div",{className:we()(e.className,s&&"MediaInfo-hidden-2KqeUN")},y.createElement("span",{className:"MediaInfo-info-ybOqZ5"},n?(0,De.Z)("TIDAL Preview"):"HI-FI"))}DKe.defaultProps={className:"MediaInfo-infoContainer-3sknNC"};const CKe=DKe,PKe=(0,f.$j)((function(){return(0,de.P1)(a_e(),(0,_C.Z)(),((e,t)=>{if(!t)return{isTidal:!1,isPreview:!1,isLossless:!1};const n=t.Media[e?e.mediaIndex:0],i=!!n&&"flac"===n.audioCodec;return{isTidal:t.attribution===ms,isPreview:!!t.preview,isLossless:i}}))}))(CKe);function wKe(e){const{className:t,playerType:n,serverEntityID:i,providerEntityID:s,metadataItemEntityID:r,type:a,subtype:o,positionSeconds:l,context:c,showStarRating:d,hasUserRating:u,isUnknownAiring:p,showDuration:m,durationSeconds:h}=e;if(p)return y.createElement("div",{className:t},(0,De.Z)("Unknown Airing"));if(!r||!a)return null;const g=eQ(a,c,{subtype:o,providerEntityID:s});return y.createElement("div",{className:we()(t,d&&u&&"PlayerControlsMetadata-hasUserRating-1iTmtz")},g.map(((e,t)=>y.createElement(RQ,{key:t,playerType:n,serverEntityID:i,providerEntityID:s,metadataItemEntityID:r,positionSeconds:l,component:e,isSecondary:t>0}))),m&&h&&null!=l?y.createElement(EKe,{className:"PlayerControlsMetadata-durationContainer-ktysVb DurationRemaining-container-3zfLur",durationSeconds:h,positionSeconds:l,"data-qa-id":"mediaDuration"}):null,y.createElement(PKe,{className:"PlayerControlsMetadata-mediaInfoContainer-iM5sqP MediaInfo-infoContainer-3sknNC",playerType:n,metadataItemEntityID:r}),d?y.createElement($_,{className:"PlayerControlsMetadata-ratingContainer-2yKg7V",serverEntityID:i,providerEntityID:s,metadataItemEntityID:r}):null)}wKe.defaultProps={className:"PlayerControlsMetadata-container-3STsmr"};const TKe=wKe;var ZKe=Object.assign;const NKe=(0,f.$j)((function(){return(0,de.P1)(YH(),(0,_C.Z)(),((e,t={})=>({serverEntityID:t.serverEntityID||e.serverEntityID,providerEntityID:t.providerEntityID||e.providerEntityID,type:t.type,subtype:t.subtype,context:YC.r$,hasUserRating:null!=t.userRating})))}))(TKe);NKe.propTypes=ZKe(ZKe({},NKe.propTypes),{metadataItemEntityID:ls().string,playerType:ls().string.isRequired});const AKe=NKe;var xKe=Object.assign;const LKe=(0,f.$j)((function(){return(0,de.P1)(e_(),(e=>({metadataItemEntityID:e&&e.entityID,isUnknownAiring:!e})))}))(AKe);LKe.propTypes=xKe(xKe({},LKe.propTypes),{playerType:ls().string.isRequired});const OKe=LKe;function jKe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-record-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["circle",{cx:"280",cy:"280",r:"196"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}jKe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const kKe=jKe,RKe=parseInt(ku.Z.playerIconButtonSize,10),zKe=(0,f.$j)((function(){return(0,de.P1)(pL(),(e=>({isRecording:!!e,recordingProgress:e&&e.progress})))}))((function(e){const{isRecording:t,recordingProgress:n,onPress:i}=e;return y.createElement("div",{className:"LiveTVRecordButton-recordButton-3brclf"},y.createElement(jWe,{className:we()(t?"LiveTVRecordButton-playerButtonRecording-1ctVQw LiveTVRecordButton-playerButton-1F_umU PlayerIconButton-playerButton-aW9TNw IconButton-button-2smHOM":"LiveTVRecordButton-playerButton-1F_umU PlayerIconButton-playerButton-aW9TNw IconButton-button-2smHOM"),iconComponent:kKe,"data-qa-id":"recordButton",title:(0,De.Z)("Record"),onPress:i}),t?y.createElement(CL,{size:RKe,containerClassName:"LiveTVRecordButton-recordingProgressBarContainer-2q8U3B CircularProgressBar-absoluteCenterCircularProgressBarContainer-3BkZp2",backgroundClassName:"LiveTVRecordButton-recordingProgressBackground-2pkIZb CircularProgressBar-circularProgressBarBackground-18BaI- CircularProgressBar-circularProgressBarBackground-1LlpZu",lineWidth:2,progress:n,showProgressText:!1}):null)}));class UKe extends y.Component{constructor(e,t){super(e,t),this.onRecordPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:!1}}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,type:i}=this.props;return n&&i?y.createElement("div",{className:"LiveTVRecord-recordButtonContainer-zCZkzs"},y.createElement(zKe,{serverEntityID:e,metadataItemEntityID:n,type:i,onPress:this.onRecordPress}),y.createElement(Nd.Z,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,isOpen:this.state.isSubscribeModalOpen,subscriptionType:i,onModalClose:this.onSubscribeModalClose})):null}}const VKe=UKe,BKe=(0,f.$j)((function(){return(0,de.P1)(ZQe(),((e={})=>{const{entityID:t,type:n}=e;return{metadataItemEntityID:t,type:n}}))}))(VKe);function FKe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-expand-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M280 140l252 252-56 56-196-196L84 448l-56-56z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}FKe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const HKe=FKe;function _Ke(e){const{className:t,cardClassName:n,serverEntityID:i,providerEntityID:s,metadataItemEntityID:r,metadataKey:a,type:o,disableExpandButton:l,imageWidth:c,imageHeight:d,imageUrl:u,isMusic:p,onExpandPress:m}=e,h=p?"music":a;return y.createElement("div",{className:t,style:{width:c}},y.createElement("div",{className:"MiniPlayerPoster-cardContainer-3S_5W3"},y.createElement(jWe,{className:"MiniPlayerPoster-expandButton-1VZC0w PlayerIconButton-playerButton-aW9TNw IconButton-button-2smHOM","data-qa-id":"expandPlayerButton",iconComponent:HKe,isDisabled:l,title:(0,De.Z)("Expand Player"),onPress:m}),y.createElement(kj.Z,{cardClassName:n,serverEntityID:i,providerEntityID:s,metadataItemEntityID:r,metadataKey:h,type:o,imageWidth:c,imageHeight:d,imageUrl:u,showLinkOnly:!0,showOverlay:!1})))}_Ke.defaultProps={className:"MiniPlayerPoster-miniPlayerPoster-3ZY-k8",cardClassName:"MiniPlayerPoster-card-Nd8Px7 MetadataPosterCard-card-72Dv8q"};const QKe=_Ke,GKe=parseInt(ku.Z.playerControlsPosterHeight,10),YKe=(0,f.$j)((function(){return(0,de.P1)(d_e(),(e=>{const t=YC.r$,n=(0,cG.Z)(null,GKe,e.type,e.subtype,e,t);return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:e.entityID,type:e.type,metadataKey:e.key,imageWidth:n.width,imageHeight:n.height,imageUrl:n.url}}))}),(function(e,{playerType:t}){const n={playerType:t};return{onExpandPress(t){e(wWe(n))}}}))(QKe);var WKe=n(3568);function KKe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-more-vertical-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M280 168c-30.897 0-56-25.103-56-56 0-30.896 25.103-56 56-56s56 25.104 56 56c-.965 31.862-25.103 56-56 56zm56 112c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56zm0 168c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}KKe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const qKe=KKe;var $Ke=Object.assign;const JKe={showDelete:!1,showDeleteVersion:!1,showEdit:!1,showFixMatch:!1,showMarkUnplayed:!1,showMarkPlayed:!1,showMatch:!1,showOptimize:!1,showPlay:!1,showPlayAll:!1,showPlayMusicVideo:!1,showPlayPlexMix:!1,showPlayTrailer:!1,showPlayVersion:!1,showWatchTogether:!1,showQueue:!1,showRefresh:!1,showSelect:!1,showShuffle:!1,showSplitApart:!1,showUnmatch:!1};class XKe extends y.Component{constructor(e,t){super(e,t),this.onPress=()=>{this.setState(((e,t)=>({isMenuOpen:!e.isMenuOpen})),(()=>{this.props.onMenuChange&&this.props.onMenuChange(this.state.isMenuOpen)}))},this.onMenuClose=()=>{this.setState({isMenuOpen:!1},(()=>{this.props.onMenuChange&&this.props.onMenuChange(!1)}))},this.state={isMenuOpen:!1},this._menuButtonID=(0,wf.Z)()}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataActionProps:i,isDisabled:s}=this.props,r=$Ke($Ke({},i),JKe);return E().values(r).some((e=>e))?y.createElement("span",null,y.createElement(jWe,{id:this._menuButtonID,"data-qa-id":"moreButton",iconComponent:qKe,isDisabled:s,title:(0,De.Z)("More Actions"),onPress:this.onPress}),y.createElement(m5.Z,$Ke($Ke({serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,target:this._menuButtonID,isOpen:this.state.isMenuOpen},JKe),{onMenuClose:this.onMenuClose}))):null}}const eqe=XKe,tqe=(0,f.$j)((function(){return(0,de.P1)((0,WKe.Z)(),(e=>({metadataActionProps:e})))}))(eqe),nqe=250,iqe=.5;function sqe(e={}){const{callback:t,axisLockDuration:n=nqe,sensitivity:i=iqe,maxAbsDelta:s=Number.MAX_SAFE_INTEGER}=e;let r,a;return e=>{e.preventDefault(),(void 0===a||e.timeStamp-a>=n)&&(r=Math.abs(e.deltaX)>Math.abs(e.deltaY)?"deltaX":"deltaY",a=e.timeStamp);const o=e[r]*i;if(!o)return;let l=Math.max(0,Math.min(s,Math.abs(o)));l*=o>0?1:-1,l=(e.nativeEvent||e).webkitDirectionInvertedFromDevice?l:-l,t(l)}}function rqe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-high-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M447.161 28.839C516.391 90.361 560 180.088 560 280s-43.609 189.639-112.839 251.161l-29.75-29.75C479.064 447.527 518 368.31 518 280S479.064 112.473 417.411 58.589l29.75-29.75zm-79.409 79.409C416.818 149.318 448 211.018 448 280c0 68.982-31.182 130.682-80.248 171.752l-29.847-29.847C379.436 388.578 406 337.391 406 280c0-57.391-26.564-108.578-68.095-141.905l29.847-29.847zM28 336V224h56l112-112v336L84 336H28zm259.936-147.936C316.989 208.268 336 241.914 336 280c0 38.086-19.011 71.732-48.064 91.936l-30.452-30.452C279.246 329.605 294 306.525 294 280s-14.754-49.605-36.516-61.484l30.452-30.452z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}rqe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const aqe=rqe;function oqe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-low-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M28 336V224h56l112-112v336L84 336H28zm259.936-147.936C316.989 208.268 336 241.914 336 280c0 38.086-19.011 71.732-48.064 91.936l-30.452-30.452C279.246 329.605 294 306.525 294 280s-14.754-49.605-36.516-61.484l30.452-30.452z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}oqe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const lqe=oqe;function cqe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-mid-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M367.752 108.248C416.818 149.318 448 211.018 448 280c0 68.982-31.182 130.682-80.248 171.752l-29.847-29.847C379.436 388.578 406 337.391 406 280c0-57.391-26.564-108.578-68.095-141.905l29.847-29.847zM28 336V224h56l112-112v336L84 336H28zm259.936-147.936C316.989 208.268 336 241.914 336 280c0 38.086-19.011 71.732-48.064 91.936l-30.452-30.452C279.246 329.605 294 306.525 294 280s-14.754-49.605-36.516-61.484l30.452-30.452z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}cqe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const dqe=cqe;function uqe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-mute-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M84 224l112-112v336L84 336H28V224h56zm306.302 56l-84.146 84.146 29.698 29.698L420 309.698l84.146 84.146 29.698-29.698L449.698 280l84.146-84.146-29.698-29.698L420 250.302l-84.146-84.146-29.698 29.698L390.302 280z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}uqe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const pqe=uqe,mqe=parseInt(ku.Z.playerVolumeSliderHeight,10);class hqe extends y.Component{constructor(e,t){super(e,t),this.onWheelDelta=e=>{this.props.onVolumeChange(e)},this.onWheel=sqe({callback:this.onWheelDelta,maxAbsDelta:mqe/10})}render(){const{className:e,volume:t,onPress:n}=this.props;let i=pqe;return t>60?i=aqe:t>40?i=dqe:t>0&&(i=lqe),y.createElement("span",{onWheel:this.onWheel},y.createElement(jWe,{className:e,title:0===t?(0,De.Z)("Unmute Volume"):(0,De.Z)("Mute Volume"),"data-qa-id":"volumeButton",iconComponent:i,onPress:n}))}}const gqe=hqe;var yqe=Object.assign;function vqe(e){return y.createElement(vr.Z,yqe(yqe({},e),{isVertical:!0}))}vqe.defaultProps={className:"VerticalSlider-slider-3NUmKG Slider-slider-4zRCDI",fillClassName:"VerticalSlider-fill-NWqIoH Slider-fill-35z5K8",thumbClassName:"VerticalSlider-thumb-1y9RTp Slider-thumb-1ZGojQ Link-link-3v-v0b",thumbTrackClassName:"VerticalSlider-thumbTrack-17wJ5r Slider-thumbTrack-3yG9Xm",trackClassName:"VerticalSlider-track-2dpm82 Slider-track-3iUWLY"};const fqe=vqe,Iqe=parseInt(ku.Z.playerVolumeSliderHeight,10);class bqe extends y.Component{constructor(e,t){super(e,t),this.onWheelDelta=e=>{this.onChange({positionDelta:e})},this.onChange=({positionDelta:e})=>{this.props.onVolumeChange(e)},this.onWheel=sqe({callback:this.onWheelDelta,maxAbsDelta:Iqe/10})}render(){const{className:e,volume:t}=this.props;return y.createElement(fqe,{className:e,trackClassName:"VolumeSlider-track-2coT9n VerticalSlider-track-2dpm82 Slider-track-3iUWLY",fillClassName:"VolumeSlider-fill-1JmRfE VerticalSlider-fill-NWqIoH Slider-fill-35z5K8",showFill:!0,autoHideThumb:!0,stepSize:1,value:t,onChange:this.onChange,onWheel:this.onWheel})}}bqe.defaultProps={className:"VolumeSlider-slider-1EfENi VerticalSlider-slider-3NUmKG Slider-slider-4zRCDI"};const Mqe=bqe;var Sqe=Object.assign;const Eqe=(0,f.$j)((function(){return(0,de.P1)(s_e(),(0,_C.Z)(),((e,t)=>{const{title:n,summary:i,originallyAvailableAt:s,addedAt:r}=t;return{title:n,summary:i,index:e.playQueueSelectedItemOffset,size:e.length,dateTaken:s||(0,Ci.Z)(r,"yyyy-MM-dd")}}))}))((function(e){const{title:t,summary:n,dateTaken:i,index:s,size:r}=e;let a="";i&&(a+=(0,gi.Z)(i)),n&&(a+=a?` ${tr.U} ${n}`:` ${n}`);const o=!(!t||!t.length),l=!!a.length,c=!!r;return y.createElement("div",{className:"PhotoMetadataControls-container-21d4Lh PlayerControlsMetadata-container-3STsmr"},o?y.createElement(RQ,{component:Ax.Z,title:t}):null,l?y.createElement(RQ,{component:Ax.Z,isSecondary:o,title:a}):null,c?y.createElement(RQ,{component:Ax.Z,isSecondary:o||l,title:(0,De.Z)("{currentIndex} of {size}",{currentIndex:s+1,size:r})}):null)}));Eqe.propTypes=Sqe(Sqe({},Eqe.propTypes),{metadataItemEntityID:ls().string.isRequired,playerType:ls().string.isRequired});const Dqe=Eqe;function Cqe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-chapters-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M392 308h140v140H392V308zm-182 0h140v140H210V308zm-182 0h140v140H28V308zm364-196h140v140H392V112zm-182 0h140v140H210V112zm-182 0h140v140H28V112z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Cqe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const Pqe=Cqe;function wqe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-edit-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M56 504l28-84 56 56-84 28zM448 56L112 392l56 56 336-336-56-56z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}wqe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const Tqe=wqe;function Zqe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-favorite-empty-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M280 143.859C204.068 24.463 56 102.755 56 212.363 56 297.505 185.084 369.926 280 504c94.916-134.074 224-206.495 224-291.637 0-109.608-143.322-187.9-224-68.504zm0 282.828c-29.423-35.231-59.797-65.569-86.373-92.971-48.407-48.933-90.169-91.015-90.169-121.353 0-45.995 40.813-80.249 77.83-80.249 22.78 0 42.712 12.723 57.899 37.189L280 229.979l37.966-59.697c17.085-25.445 37.966-39.147 60.746-39.147 36.068 0 75.932 34.254 75.932 80.249 0 30.339-41.763 72.42-89.221 120.375-25.626 29.359-56 59.697-85.423 94.928z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Zqe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const Nqe=Zqe;function Aqe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-favorite-filled-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M280 143.859C204.068 24.463 56 102.755 56 212.363 56 297.505 185.084 369.926 280 504c94.916-134.074 224-206.495 224-291.637 0-109.608-143.322-187.9-224-68.504z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Aqe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const xqe=Aqe;function Lqe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-info-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M280 476c108.248 0 196-87.752 196-196S388.248 84 280 84 84 171.752 84 280s87.752 196 196 196zm0 42C148.556 518 42 411.444 42 280 42 148.556 148.556 42 280 42c131.444 0 238 106.556 238 238 0 131.444-106.556 238-238 238zm-21-112h42V238h-42v168zm-7-224c0-7.519 2.606-14.065 7.818-19.639S271.636 154 279.636 154c8 0 14.728 2.657 20.182 7.972C305.273 167.287 308 173.963 308 182c0 8.037-2.727 14.713-8.182 20.028-5.454 5.315-12.182 7.972-20.182 7.972-8 0-14.606-2.787-19.818-8.361C254.606 196.065 252 189.519 252 182z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Lqe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const Oqe=Lqe;function jqe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-lyrics-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M280 270.66c-8.574-2.997-18.045-4.66-28-4.66-38.66 0-70 25.072-70 56s31.34 56 70 56 70-25.072 70-56V140l-42-28v158.66zM448 84c15.464 0 28 12.536 28 28v254.244a56 56 0 0 1-19.556 42.518L280 560l28-140H112c-15.464 0-28-12.536-28-28V112c0-15.464 12.536-28 28-28h336zm-126 56v56l70 49v-56l-70-49z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}jqe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const kqe=jqe;function Rqe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-next-track-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M140 476V84l294 182V112h42v336h-42V294L140 476z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Rqe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const zqe=Rqe;function Uqe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-pause-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M112 112h126v336H112V112zm210 0h126v336H322V112z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Uqe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const Vqe=Uqe;function Bqe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-play-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M168 476V84l336 196z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Bqe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const Fqe=Bqe;function Hqe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-previous-track-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M420 84v392L126 294v154H84V112h42v154z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Hqe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const _qe=Hqe;function Qqe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-queue-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M157.8 504H532v-44.8H157.8V504zm0-134.4H532v-44.8H157.8v44.8zm111.734-134.4H532v-44.8H269.534v44.8zM157.8 100.8H532V56H157.8v44.8zM196 210L28 336V84l168 126z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Qqe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const Gqe=Qqe;function Yqe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-repeat-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M168 118.906V42l112 98-112 98v-77.014l-34.983.014a64.547 64.547 0 0 0-7.861.483 62.458 62.458 0 0 0-25.438 9.029 63.5 63.5 0 0 0-20.004 19.884 62.762 62.762 0 0 0-6.156 12.684 62.5 62.5 0 0 0-3.025 12.682 64.449 64.449 0 0 0-.532 7.828c-.178 37.606-.178 103.214 0 140.82.021 2.617.193 5.232.532 7.828a62.525 62.525 0 0 0 3.025 12.683 62.776 62.776 0 0 0 6.36 13.003 63.522 63.522 0 0 0 20.61 20.062 62.48 62.48 0 0 0 24.234 8.481c2.663.348 5.347.52 8.033.533 98.204.154 196.411.463 294.614-.001a64.451 64.451 0 0 0 7.829-.532 62.433 62.433 0 0 0 24.397-8.58 63.53 63.53 0 0 0 20.752-20.444 62.693 62.693 0 0 0 6.118-12.704 62.495 62.495 0 0 0 2.962-12.501c.348-2.663.52-5.347.533-8.033.059-37.538.176-103.077-.001-140.614a64.451 64.451 0 0 0-.532-7.829 62.449 62.449 0 0 0-8.481-24.235 63.513 63.513 0 0 0-20.062-20.609 62.497 62.497 0 0 0-25.883-9.411 64.755 64.755 0 0 0-7.836-.507L294 160.953v-42.094l133.017.141a105.444 105.444 0 0 1 12.669.762 104.583 104.583 0 0 1 20.674 4.661 104.584 104.584 0 0 1 17.251 7.576 105.23 105.23 0 0 1 16.176 10.997 105.685 105.685 0 0 1 19.724 21.511 104.87 104.87 0 0 1 12.754 25.218 104.544 104.544 0 0 1 4.973 21.588 105.444 105.444 0 0 1 .761 12.349c.06 37.672.177 103.343-.001 141.014a105.465 105.465 0 0 1-.884 12.995 104.49 104.49 0 0 1-4.955 20.909 104.874 104.874 0 0 1-11.412 23.079 105.654 105.654 0 0 1-17.856 20.68 105.357 105.357 0 0 1-17.622 12.728 104.635 104.635 0 0 1-18.602 8.406 104.54 104.54 0 0 1-20.98 4.765 105.8 105.8 0 0 1-12.011.76c-98.449.465-196.903.465-295.352 0a105.465 105.465 0 0 1-12.995-.884 104.49 104.49 0 0 1-20.909-4.955 104.833 104.833 0 0 1-22.285-10.894 105.653 105.653 0 0 1-19.99-16.746 105.468 105.468 0 0 1-13.412-17.882 104.718 104.718 0 0 1-9.207-19.971 104.576 104.576 0 0 1-4.724-20.651 105.763 105.763 0 0 1-.8-12.339c-.179-37.784-.179-103.568 0-141.352a105.666 105.666 0 0 1 .841-12.668 104.568 104.568 0 0 1 4.998-21.236 104.742 104.742 0 0 1 10.384-21.485 105.542 105.542 0 0 1 34.323-33.711 104.784 104.784 0 0 1 20.481-9.594 104.592 104.592 0 0 1 29.257-5.526 113.23 113.23 0 0 1 4.038-.102l35.676-.096"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Yqe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const Wqe=Yqe;function Kqe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-repeat-one-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M168 118.906V42l112 98-112 98v-77.014l-34.983.014a64.547 64.547 0 0 0-7.861.483 62.458 62.458 0 0 0-25.438 9.029 63.5 63.5 0 0 0-20.004 19.884 62.762 62.762 0 0 0-6.156 12.684 62.5 62.5 0 0 0-3.025 12.682 64.449 64.449 0 0 0-.532 7.828c-.178 37.606-.178 103.214 0 140.82.021 2.617.193 5.232.532 7.828a62.525 62.525 0 0 0 3.025 12.683 62.776 62.776 0 0 0 6.36 13.003 63.522 63.522 0 0 0 20.61 20.062 62.48 62.48 0 0 0 24.234 8.481c2.663.348 5.347.52 8.033.533 98.204.154 196.411.463 294.614-.001a64.451 64.451 0 0 0 7.829-.532 62.433 62.433 0 0 0 24.397-8.58 63.53 63.53 0 0 0 20.752-20.444 62.693 62.693 0 0 0 6.118-12.704 62.495 62.495 0 0 0 2.962-12.501c.348-2.663.52-5.347.533-8.033.059-37.538.176-103.077-.001-140.614a64.451 64.451 0 0 0-.532-7.829 62.449 62.449 0 0 0-8.481-24.235 63.513 63.513 0 0 0-20.062-20.609 62.497 62.497 0 0 0-25.883-9.411 64.755 64.755 0 0 0-7.836-.507L294 160.953v-42.094l133.017.141a105.444 105.444 0 0 1 12.669.762 104.583 104.583 0 0 1 20.674 4.661 104.584 104.584 0 0 1 17.251 7.576 105.23 105.23 0 0 1 16.176 10.997 105.685 105.685 0 0 1 19.724 21.511 104.87 104.87 0 0 1 12.754 25.218 104.544 104.544 0 0 1 4.973 21.588 105.444 105.444 0 0 1 .761 12.349c.06 37.672.177 103.343-.001 141.014a105.465 105.465 0 0 1-.884 12.995 104.49 104.49 0 0 1-4.955 20.909 104.874 104.874 0 0 1-11.412 23.079 105.654 105.654 0 0 1-17.856 20.68 105.357 105.357 0 0 1-17.622 12.728 104.635 104.635 0 0 1-18.602 8.406 104.54 104.54 0 0 1-20.98 4.765 105.8 105.8 0 0 1-12.011.76c-98.449.465-196.903.465-295.352 0a105.465 105.465 0 0 1-12.995-.884 104.49 104.49 0 0 1-20.909-4.955 104.833 104.833 0 0 1-22.285-10.894 105.653 105.653 0 0 1-19.99-16.746 105.468 105.468 0 0 1-13.412-17.882 104.718 104.718 0 0 1-9.207-19.971 104.576 104.576 0 0 1-4.724-20.651 105.763 105.763 0 0 1-.8-12.339c-.179-37.784-.179-103.568 0-141.352a105.666 105.666 0 0 1 .841-12.668 104.568 104.568 0 0 1 4.998-21.236 104.742 104.742 0 0 1 10.384-21.485 105.542 105.542 0 0 1 34.323-33.711 104.784 104.784 0 0 1 20.481-9.594 104.592 104.592 0 0 1 29.257-5.526 113.23 113.23 0 0 1 4.038-.102l35.676-.096M392.049 385h-42V268.548L326.5 289.5 300 259l64-56 28.049.009V385"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Kqe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const qqe=Kqe;function $qe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-settings-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M126 213.205A69.97 69.97 0 0 0 105 210a69.97 69.97 0 0 0-21 3.205V56h42v157.205zm0 133.59V504H84V346.795A69.97 69.97 0 0 0 105 350a69.97 69.97 0 0 0 21-3.205zm175-49.59A69.97 69.97 0 0 0 280 294a69.97 69.97 0 0 0-21 3.205V56h42v241.205zm0 133.59V504h-42v-73.205A69.97 69.97 0 0 0 280 434a69.97 69.97 0 0 0 21-3.205zm175-301.59A69.97 69.97 0 0 0 455 126a69.97 69.97 0 0 0-21 3.205V56h42v73.205zm0 133.59V504h-42V262.795A69.97 69.97 0 0 0 455 266a69.97 69.97 0 0 0 21-3.205zM280 420c-30.928 0-56-25.072-56-56s25.072-56 56-56 56 25.072 56 56-25.072 56-56 56zm175-168c-30.928 0-56-25.072-56-56s25.072-56 56-56 56 25.072 56 56-25.072 56-56 56zm-350 84c-30.928 0-56-25.072-56-56s25.072-56 56-56 56 25.072 56 56-25.072 56-56 56z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}$qe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const Jqe=$qe;function Xqe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-shuffle-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M448 441h-44.423c-65.833 0-103.843-28.598-141.383-96.109 5.44-10.89 10.99-22.734 16.727-35.594a12267 12267 0 0 1 5.622-12.617C320.788 371.608 349.962 399 403.577 399H448v-77l112 98-112 98v-77zm0-322V42l112 98-112 98v-77h-44.423c-59.257 0-88.657 33.459-130.747 127.573-1.427 3.191-3.342 7.493-6.695 15.02C221.676 403.25 190.662 441 123.577 441H28v-42h95.577c43.602 0 66.367-27.71 104.202-112.518a10981.32 10981.32 0 0 1 6.711-15.055C282.89 163.202 321.73 119 403.577 119H448zm-324.423 0c56.809 0 87.751 27.071 122.897 95.883-7.743 14.34-15.519 30.301-23.497 48.005C187.946 186.377 165.303 161 123.577 161H28v-42h95.577z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Xqe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const e$e=Xqe;function t$e(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-skip-back-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M279.931 381.653c0 29.922-4.903 52.07-14.707 66.445-9.805 14.375-24.903 21.563-45.293 21.563-19.766 0-34.668-7.422-44.707-22.266-10.039-14.844-15.059-36.758-15.059-65.742 0-30.235 4.883-52.52 14.648-66.856 9.766-14.336 24.805-21.504 45.118-21.504 19.765 0 34.707 7.5 44.824 22.5 10.117 15 15.176 36.953 15.176 65.86zm-83.789 0c0 21.015 1.816 36.074 5.449 45.175 3.633 9.102 9.746 13.653 18.34 13.653 8.437 0 14.531-4.61 18.281-13.828 3.75-9.219 5.625-24.219 5.625-45 0-21.016-1.895-36.114-5.684-45.293-3.789-9.18-9.863-13.77-18.222-13.77-8.516 0-14.61 4.59-18.282 13.77-3.671 9.179-5.507 24.277-5.507 45.293zm-56.275-262.747l259.677.096a105.788 105.788 0 0 1 12.339.8c7.126.884 14.16 2.504 20.955 4.828a104.757 104.757 0 0 1 20.481 9.594 105.509 105.509 0 0 1 34.324 33.711 104.845 104.845 0 0 1 10.384 21.485 104.566 104.566 0 0 1 5.721 29.53c.069 1.457.106 2.915.117 4.374.18 37.784.18 103.568 0 141.352a105.283 105.283 0 0 1-.8 12.339 104.576 104.576 0 0 1-4.724 20.651 104.718 104.718 0 0 1-9.207 19.971 105.468 105.468 0 0 1-13.412 17.882 105.621 105.621 0 0 1-19.99 16.746 104.839 104.839 0 0 1-22.285 10.894 104.524 104.524 0 0 1-29.196 5.705c-1.568.08-3.137.121-4.707.134-4.868.023-35.544 0-35.544 0v-41.999s30.463.008 35.073.001a64.415 64.415 0 0 0 8.033-.533 62.47 62.47 0 0 0 24.234-8.481 63.51 63.51 0 0 0 20.61-20.062 62.772 62.772 0 0 0 6.359-13.003 62.527 62.527 0 0 0 3.026-12.683 64.65 64.65 0 0 0 .531-7.828c.179-37.606.179-103.214 0-140.82a64.65 64.65 0 0 0-.531-7.828 62.502 62.502 0 0 0-9.181-25.366 63.545 63.545 0 0 0-20.004-19.884 62.443 62.443 0 0 0-25.439-9.029 64.531 64.531 0 0 0-7.86-.483l-258.984-.014V238l-112-98 112-98v76.906zm-26.225 348.41H77.431v-99.14l.351-16.289.586-17.812c-6.015 6.015-10.195 9.96-12.539 11.835l-19.687 15.821-17.461-21.797 55.195-43.945h29.766v171.328z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}t$e.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const n$e=t$e;function i$e(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-skip-forward-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M532.03 381.68c0 29.922-4.903 52.07-14.707 66.445-9.805 14.375-24.903 21.563-45.293 21.563-19.766 0-34.668-7.422-44.707-22.266-10.039-14.844-15.059-36.758-15.059-65.742 0-30.235 4.883-52.52 14.649-66.856 9.765-14.336 24.804-21.504 45.117-21.504 19.765 0 34.707 7.5 44.824 22.5 10.117 15 15.176 36.953 15.176 65.86zm-83.789 0c0 21.015 1.816 36.074 5.449 45.175 3.633 9.102 9.746 13.653 18.34 13.653 8.437 0 14.531-4.61 18.281-13.828 3.75-9.219 5.625-24.219 5.625-45 0-21.016-1.895-36.114-5.684-45.293-3.789-9.18-9.863-13.77-18.222-13.77-8.516 0-14.61 4.59-18.282 13.77-3.671 9.179-5.507 24.277-5.507 45.293zM420 118.906V42l112 98-112 98v-77.014L161.017 161a64.547 64.547 0 0 0-7.861.483 62.458 62.458 0 0 0-25.438 9.029 63.51 63.51 0 0 0-20.004 19.884 62.488 62.488 0 0 0-9.181 25.366A64.468 64.468 0 0 0 98 223.59c-.178 37.606-.178 103.214 0 140.82.021 2.617.193 5.232.532 7.828a62.506 62.506 0 0 0 3.025 12.683 62.769 62.769 0 0 0 6.36 13.003 63.538 63.538 0 0 0 20.61 20.062 62.48 62.48 0 0 0 24.234 8.481c2.663.348 5.347.52 8.033.533 1.716.002 35.205-.001 35.205-.001v41.999s-34.008.008-35.676 0a105.32 105.32 0 0 1-12.995-.884 104.515 104.515 0 0 1-20.909-4.955 104.85 104.85 0 0 1-22.285-10.894 105.64 105.64 0 0 1-19.99-16.746 105.467 105.467 0 0 1-13.412-17.882 104.73 104.73 0 0 1-9.207-19.971 104.556 104.556 0 0 1-5.422-28.951 110.81 110.81 0 0 1-.102-4.039c-.18-37.784-.18-103.568 0-141.352a105.427 105.427 0 0 1 .841-12.668 104.553 104.553 0 0 1 4.998-21.236 104.783 104.783 0 0 1 10.384-21.485 105.55 105.55 0 0 1 34.324-33.711 104.767 104.767 0 0 1 20.48-9.594 104.59 104.59 0 0 1 29.257-5.526 113.23 113.23 0 0 1 4.038-.102L420 118.906zm-40.305 215.43c0 10.703-3.242 19.805-9.726 27.305-6.485 7.5-15.586 12.656-27.305 15.468v.703c13.828 1.719 24.297 5.918 31.406 12.598 7.11 6.68 10.664 15.684 10.664 27.012 0 16.484-5.976 29.316-17.929 38.496-11.953 9.18-29.024 13.77-51.211 13.77-18.594 0-35.078-3.086-49.453-9.258v-30.821c6.64 3.36 13.945 6.094 21.914 8.203 7.968 2.11 15.859 3.165 23.672 3.165 11.953 0 20.781-2.032 26.484-6.094 5.703-4.063 8.555-10.586 8.555-19.571 0-8.046-3.282-13.75-9.844-17.109-6.563-3.359-17.031-5.039-31.406-5.039h-13.008v-27.773h13.242c13.281 0 22.988-1.739 29.121-5.215 6.133-3.477 9.199-9.434 9.199-17.871 0-12.969-8.125-19.453-24.375-19.453-5.625 0-11.347.937-17.168 2.812-5.82 1.875-12.285 5.117-19.394 9.727l-16.758-24.961c15.625-11.25 34.258-16.875 55.898-16.875 17.735 0 31.739 3.593 42.012 10.781 10.274 7.187 15.41 17.187 15.41 30z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}i$e.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const s$e=i$e;function r$e(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-stop-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M84 84h392v392H84V84zm196 158.1l-84-84-37.9 37.9 84 84-84 84 37.9 37.9 84-84 84 84 37.9-37.9-84-84 84-84-37.9-37.9-84 84z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}r$e.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const a$e=r$e;function o$e(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-thumbnails-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M392 392h140v112H392V392zm-182 0h140v112H210V392zm-182 0h140v112H28V392zm0-42V56h504v294h-42V98H70v252H28z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}o$e.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const l$e=o$e;function c$e(e){const{className:t,durationSeconds:n,hasLiveTVProtocol:i,isMiniPlayer:s,isMusic:r,isVideo:a,isGame:o,metadataItemEntityID:l,playerType:c,positionSeconds:d,providerEntityID:u,serverEntityID:p,volume:m,activateChaptersButton:h,activateLyricsButton:g,activatePhotoInformationButton:v,activatePhotoStripButton:f,activateQueueButton:I,activateRepeatButton:b,activateRepeatOneButton:M,activateSettingsButton:S,activateWatchTogetherParticipantsButton:E,activateShuffleButton:D,disableCloseButton:C,disableLyricsButton:P,disableMenuButton:w,disableNextButton:T,disablePauseButton:Z,disablePlayButton:N,disablePreviousButton:A,disableQueueButton:x,disableRepeatButton:L,disableRepeatOneButton:O,disableSettingsButton:j,disableShuffleButton:k,disableSkipBackButton:R,disableSkipForwardButton:z,showChaptersButton:U,showCloseButton:V,showDuration:B,showEditButton:F,showFavoriteButton:H,showLyricsButton:_,showMenuButton:Q,showNextButton:G,showPauseButton:Y,showPhotoInformationButton:W,showPhotoStripButton:K,showPlayButton:q,showPreviousButton:$,showQueueButton:J,showRecordButton:X,showRepeatButton:ee,showRepeatOneButton:te,showSettingsButton:ne,showWatchTogetherParticipantsButton:ie,showShuffleButton:se,showSkipBackButton:re,showSkipForwardButton:ae,showUnfavoriteButton:oe,showVolume:le,onChaptersPress:ce,onClosePress:de,onControlsMenuChange:ue,onEditPress:pe,onFavoritePress:me,onLyricsPress:he,onNextPress:ge,onPausePress:ye,onPhotoInformationPress:ve,onPhotoStripPress:fe,onPlayPress:Ie,onPreviousPress:be,onQueuePress:Me,onRepeatOnePress:Ee,onRepeatPress:Ce,onSettingsPress:Pe,onWatchTogetherParticipantsPress:Te,onShufflePress:Ze,onSkipBackPress:Ne,onSkipForwardPress:Ae,onUnfavoritePress:xe,onVolumeChange:Le,onVolumeIconPress:Oe}=e;let je;je=c===Se.pV?Dqe:i?OKe:AKe;const ke=le&&null!=m,Re=i?null:"PlayerControls-balanceLeft-3ZDFXD",ze=a||o?"PlayerControls-hasLandscapePoster-voqTZI":"PlayerControls-hasSquarePoster-3Q-1l3";return y.createElement(y.Fragment,null,y.createElement("div",{className:we()(t,s&&ze),"data-qa-id":"playerControlsContainer"},y.createElement("div",{className:"PlayerControls-buttonGroupLeft-3OVdIj PlayerControls-buttonGroup-3bovxR"},s?y.createElement(YKe,{playerType:c,isVideo:a,isMusic:r}):null,y.createElement(je,{metadataItemEntityID:l,playerType:c,positionSeconds:d,durationSeconds:n,showDuration:B,showStarRating:r})),y.createElement("div",{className:we()("PlayerControls-buttonGroupCenter-3Os75p PlayerControls-buttonGroup-3bovxR",Re)},X?y.createElement(BKe,{playerType:c,"data-qa-id":"recordButton",serverEntityID:p,providerEntityID:u,positionSeconds:d}):null,$?y.createElement(jWe,{iconComponent:_qe,"data-qa-id":"previousButton",isDisabled:A,title:(0,De.Z)("Previous"),onPress:be}):null,re?y.createElement(jWe,{iconComponent:n$e,"data-qa-id":"skipBackButton",isDisabled:R,title:(0,De.Z)("Skip Back 10 Seconds"),onPress:Ne}):null,q?y.createElement(jWe,{iconComponent:Fqe,"data-qa-id":"resumeButton",isPrimary:!0,isDisabled:N,title:(0,De.Z)("Play"),onPress:Ie}):null,Y?y.createElement(jWe,{iconComponent:Vqe,"data-qa-id":"pauseButton",isPrimary:!0,isDisabled:Z,title:(0,De.Z)("Pause"),onPress:ye}):null,ae?y.createElement(jWe,{iconComponent:s$e,"data-qa-id":"skipForwardButton",isDisabled:z,title:(0,De.Z)("Skip Forward 30 Seconds"),onPress:Ae}):null,G?y.createElement(jWe,{iconComponent:zqe,"data-qa-id":"nextButton",isDisabled:T,title:(0,De.Z)("Next"),onPress:ge}):null,V?y.createElement(jWe,{"data-qa-id":"closeButton",isDisabled:C,iconComponent:a$e,title:(0,De.Z)("Close Player"),onPress:de}):null),y.createElement("div",{className:"PlayerControls-buttonGroupRight-3tN_y5 PlayerControls-buttonGroup-3bovxR"},Q?y.createElement(tqe,{serverEntityID:p,"data-qa-id":"moreButton",providerEntityID:u,metadataItemEntityID:l,isDisabled:w,onMenuChange:ue}):null,ee?y.createElement(jWe,{iconComponent:Wqe,"data-qa-id":"repeatButton",isDisabled:L,isActive:b,title:(0,De.Z)("Repeat"),onPress:Ce}):null,te?y.createElement(jWe,{iconComponent:qqe,"data-qa-id":"repeatOneButton",isDisabled:O,isActive:M,title:(0,De.Z)("Repeat One"),onPress:Ee}):null,se?y.createElement(jWe,{iconComponent:e$e,"data-qa-id":"shuffleButton",isDisabled:k,isActive:D,title:(0,De.Z)("Shuffle"),onPress:Ze}):null,F?y.createElement(jWe,{iconComponent:Tqe,"data-qa-id":"playerEditButton",title:(0,De.Z)("Edit"),onPress:pe}):null,H?y.createElement(jWe,{iconComponent:Nqe,"data-qa-id":"playerFavoriteButton",title:(0,De.Z)("Add to Favorites"),onPress:me}):null,oe?y.createElement(jWe,{iconComponent:xqe,"data-qa-id":"playerUnfavoriteButton",title:(0,De.Z)("Remove from Favorites"),onPress:xe}):null,W?y.createElement(jWe,{iconComponent:Oqe,"data-qa-id":"playerPhotoInfoButton",title:(0,De.Z)("Information"),isActive:v,onPress:ve}):null,K?y.createElement(jWe,{iconComponent:l$e,"data-qa-id":"playerPhotoStripButton",isActive:f,title:(0,De.Z)("Show Photo Strip"),onPress:fe}):null,_?y.createElement(jWe,{iconComponent:kqe,"data-qa-id":"lyricsButton",isDisabled:P,isSelected:g,title:(0,De.Z)("Lyrics"),onPress:he}):null,ne?y.createElement(jWe,{iconComponent:Jqe,"data-qa-id":"videoSettingsButton",isDisabled:j,isActive:S,title:(0,De.Z)("Settings"),onPress:Pe}):null,U?y.createElement(jWe,{iconComponent:Pqe,"data-qa-id":"chaptersButton",isActive:h,title:(0,De.Z)("Chapters"),onPress:ce}):null,J?y.createElement(jWe,{iconComponent:Gqe,"data-qa-id":"playQueueButton",isDisabled:x,isActive:I,title:(0,De.Z)("Play Queue"),onPress:Me}):null,ie?y.createElement(jWe,{iconComponent:ps.Z,"data-qa-id":"watchTogetherParticipantsButton",isActive:E,title:(0,De.Z)("Participants"),onPress:Te}):null,ke?y.createElement(gqe,{className:"PlayerControls-volumeButton-ln33tg PlayerIconButton-playerButton-aW9TNw IconButton-button-2smHOM","data-qa-id":"volumeButton",volume:m,onPress:Oe,onVolumeChange:Le}):null)),ke?y.createElement(Mqe,{className:"PlayerControls-volumeSlider-qbq5Ws VolumeSlider-slider-1EfENi VerticalSlider-slider-3NUmKG Slider-slider-4zRCDI",volume:m,onVolumeChange:Le}):null)}c$e.defaultProps={className:"PlayerControls-controls-32qKsv",isMusic:!1,isVideo:!1,isGame:!1,isPhoto:!1};const d$e=c$e,u$e=(0,f.$j)((function(){return(0,de.P1)(((e,{isVideo:t})=>t),((e,{isMusic:t})=>t),((e,{isAdVisible:t})=>t),((e,{isWatchTogether:t})=>t),((e,{disableNextButton:t})=>t),((e,{disablePreviousButton:t})=>t),YH(),r_e(),c_e(),Hwe(),((e,t,n,i,s,r,a,o,l,c)=>{const{isPostPlayVisible:d,positionSeconds:u,durationSeconds:p,controllable:m}=a,h=p-u,g=o.subtype===zo.NEWS,y=o.subtype===zo.PODCAST,v=l&&l.chapters&&l.chapters.length>0,f=!n&&(e&&!g&&!d||y),I=!!m&&!m.playbackSpeed&&t;return{positionSeconds:u,durationSeconds:p,hasLiveTVProtocol:c.protocols.includes("livetv"),disableLyricsButton:!(o.lyricsStreams&&o.lyricsStreams.length||o.hasPremiumLyrics),disableNextButton:n||s,disablePreviousButton:n||r,disableQueueButton:n,disableSettingsButton:I,disableSkipForwardButton:h<=gKe.uS,showChaptersButton:e&&!d&&v,showDuration:!d,showLyricsButton:t&&!y,showMenuButton:!d&&!g,showQueueButton:!i,showSettingsButton:!d&&!g,showWatchTogetherParticipantsButton:i,showShuffleButton:!g&&!i,showSkipBackButton:f,showSkipForwardButton:f}}))}))(d$e),p$e={visibleContainer:"SeekBarThumbnail-visibleContainer-3VXvIs",hiddenContainer:"SeekBarThumbnail-hiddenContainer-2EpZTF SeekBarThumbnail-visibleContainer-3VXvIs",thumbnail:"SeekBarThumbnail-thumbnail-1t9_Pe",tooltip:"SeekBarThumbnail-tooltip-2Wewq5",small:"SeekBarThumbnail-small-1Bhcbm",large:"SeekBarThumbnail-large-YO3_br"},m$e=parseInt(ku.Z.seekBarTooltipSmallWidth,10),h$e=parseInt(ku.Z.seekBarTooltipLargeWidth,10),g$e={containerWidth:99,containerHeight:99};class y$e extends y.Component{render(){const{tooltipClassName:e,serverEntityID:t,providerEntityID:n,size:i,position:s,hoverValue:r,mediaItems:a,mediaIndex:o,partIndex:l,formatValue:c,isVisible:d}=this.props;null!=r&&(this._formattedTime=c(r));const u=a&&a[o],p=function(e,t){if(!e||null==t)return;const n=sse(e);return null!=n?`/library/parts/${e.id}/indexes/${n}/${Math.floor(t)}`:void 0}(u&&u.Part[l],r);p&&(this._imageUrl=p);const{containerWidth:m,containerHeight:h}=function(e){const t=(0,Lo.Z)(e);if(null==t||null==t.width||null==t.height)return g$e;const{width:n,height:i}=t;let s=99,r=99;return n>i?s=Math.round(s*(n/i)):r=Math.round(r*(i/n)),{containerWidth:s,containerHeight:r}}(u),g=function(e,t,n){let i=e.x-t/2;return i<0?i=0:i+t>window.innerWidth&&(i=window.innerWidth-t),{left:i,top:e.y-n-10,height:n}}(s,m,h),v=function(e,t,n){const i=n===vc.ln?h$e:m$e;let s=t/2-i/2;const r=e.x-t/2;if(r<0){const t=4,n=e.x-i/2;s=Math.max(n,t)}else if(r+t>window.innerWidth){const n=t-i-4,r=t-(window.innerWidth-e.x)-i/2;s=Math.min(r,n)}return{left:s}}(s,m,i);return y.createElement("div",{className:d?p$e.visibleContainer:p$e.hiddenContainer,style:g},this._imageUrl?y.createElement(ft.Z,{className:p$e.thumbnail,serverEntityID:t,providerEntityID:n,url:this._imageUrl,width:m,height:h}):null,y.createElement("div",{className:we()(e,p$e[i]),style:v},this._formattedTime))}}y$e.defaultProps={tooltipClassName:p$e.tooltip,size:vc.HC,formatValue:Iy.Z};const v$e=y$e,f$e=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),(({Media:e}={})=>e&&e.length?{mediaItems:e}:{}))}))(v$e),I$e="SeekBar-noFillTransition-2AdPtv";var b$e=Object.prototype.hasOwnProperty,M$e=Object.getOwnPropertySymbols,S$e=Object.prototype.propertyIsEnumerable,E$e=Object.assign;class D$e extends y.Component{constructor(e,t){super(e,t),this.onChange=({positionValue:e})=>{this.props.onSeek&&this.props.onSeek({playerType:this.props.playerType,positionSeconds:Math.floor(e/1e3)})},this.onMove=({positionValue:e,position:t})=>{this.setState({hoverValue:e,portalPosition:t})},this.onMouseLeave=()=>{this.setState({hoverValue:null})},this.state={hoverValue:null,portalPosition:{x:0,y:0}}}render(){const e=this.props,{className:t,trackClassName:n,bufferClassName:i,fillClassName:s,canSeek:r,positionMilliseconds:a,offsetMilliseconds:o,durationMilliseconds:l,bufferStartMilliseconds:c,bufferEndMilliseconds:d,showBuffer:u,noFillTransition:p,isDisabled:m,onSeekEnd:h,onSeekStart:g}=e,v=((e,t)=>{var n={};for(var i in e)b$e.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&M$e)for(var i of M$e(e))t.indexOf(i)<0&&S$e.call(e,i)&&(n[i]=e[i]);return n})(e,["className","trackClassName","bufferClassName","fillClassName","canSeek","positionMilliseconds","offsetMilliseconds","durationMilliseconds","bufferStartMilliseconds","bufferEndMilliseconds","showBuffer","noFillTransition","isDisabled","onSeekEnd","onSeekStart"]);if(!r)return null;const{hoverValue:f,portalPosition:I}=this.state;return y.createElement("div",{onMouseLeave:this.onMouseLeave},y.createElement(vr.Z,{className:t,trackClassName:n,secondaryFillClassName:we()(i,p&&I$e),fillClassName:we()(s,p&&I$e),value:a,min:o,max:l,secondaryMin:c,secondaryMax:d,showFill:!0,showSecondaryFill:u,autoHideThumb:!0,isDisabled:m,onChange:this.onChange,onMove:m?null:this.onMove,onDragStart:g,onDragComplete:h}),y.createElement(hV.Z,null,y.createElement(f$e,E$e(E$e({},v),{position:I,hoverValue:f,isVisible:null!=f}))))}}D$e.defaultProps={className:"SeekBar-seekBar-1lmdAy Slider-slider-4zRCDI",trackClassName:"SeekBar-seekBarTrack-3a3mFO Slider-track-3iUWLY",fillClassName:"SeekBar-seekBarFill-1x5nN0 Slider-fill-35z5K8",bufferClassName:"SeekBar-seekBarBuffer-2Td4tP Slider-secondaryFill-30ToAR Slider-fill-35z5K8",canSeek:!0,showBuffer:!1,noFillTransition:(0,dse.Z)()||(0,tv.Z)(),isDisabled:!1};const C$e=D$e,P$e={onSeek:i_e.O7},w$e=IYe(C$e),T$e=(0,f.$j)((function(){return(0,de.P1)(YH(),r_e(),((e,t)=>{const{serverEntityID:n,providerEntityID:i,positionSeconds:s,durationSeconds:r,mediaIndex:a,partIndex:o,controllable:l}=e,c={serverEntityID:n,providerEntityID:i,metadataItemEntityID:t.metadataItem,canSeek:!!r,positionSeconds:s,durationMilliseconds:1e3*r,mediaIndex:a,partIndex:o};return l&&!l.seekTo&&(c.canSeek=!1),c}))}),P$e)(w$e);var Z$e=Object.assign;const N$e=function(e){const{durationMilliseconds:t}=e;return null!=t?y.createElement(C$e,Z$e({fillClassName:"AdSeekBar-seekBarFill-154s-i SeekBar-seekBarFill-1x5nN0 Slider-fill-35z5K8",isDisabled:!0},e)):null};function A$e(){return(0,de.P1)(WH("seekStartSeconds"),WH("seekEndSeconds"),qH(),((e=0,t=0,n)=>{const i=n&&n.captureBuffer;let s=0;return n&&i?(s=i.startedAt,e=i.seekStartSeconds,t=i.seekEndSeconds):n&&(s=n.startedAt),{seekRangeStartedAtSeconds:s,seekStartSeconds:e,seekEndSeconds:t}}))}var x$e=Object.prototype.hasOwnProperty,L$e=Object.getOwnPropertySymbols,O$e=Object.prototype.propertyIsEnumerable,j$e=Object.assign;class k$e extends y.Component{constructor(){super(...arguments),this.formatPlayerTime=e=>{const t=this.props.timeFormat;return(0,Ci.Z)(e/1e3,t)},this.onSeek=({positionSeconds:e})=>{const{seekRangeStartedAtSeconds:t,seekStartSeconds:n,seekEndSeconds:i}=this.props,s=t+n,r=t+i;e<s?e=s:e>r&&(e=r),this.props.onSeek({playerType:this.props.playerType,seekPosition:e})}}render(){const e=this.props,{isCloud:t,canSeek:n,currentPosition:i,positionMilliseconds:s,beginsAt:r,endsAt:a,durationSeconds:o,streamStartedAt:l,timeFormat:c,seekRangeStartedAtSeconds:d,seekStartSeconds:u,seekEndSeconds:p}=e,m=((e,t)=>{var n={};for(var i in e)x$e.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&L$e)for(var i of L$e(e))t.indexOf(i)<0&&O$e.call(e,i)&&(n[i]=e[i]);return n})(e,["isCloud","canSeek","currentPosition","positionMilliseconds","beginsAt","endsAt","durationSeconds","streamStartedAt","timeFormat","seekRangeStartedAtSeconds","seekStartSeconds","seekEndSeconds"]);if(!n&&!t)return y.createElement(C$e,j$e(j$e({},m),{positionMilliseconds:1,offsetMilliseconds:0,durationMilliseconds:2,showBuffer:!1,canSeek:!0,isDisabled:!0,formatValue:this.formatCurrentTime,size:vc.ln,onSeek:this.onSeek}));const h=1e3*(d?d+u:i),g=1e3*(d?d+p:i),v=1e3*r,f=1e3*(a-1),I=t?v:Math.max(v,h),b=t?f:Math.min(f,g),M=function(e){const{isCloud:t,isRemotePlayer:n,currentPosition:i,positionMilliseconds:s,streamStartedAt:r,lastSeekPosition:a}=e;return a||n||t?1e3*i:1e3*r+s}(this.props);return y.createElement(C$e,j$e(j$e({},m),{positionMilliseconds:M,offsetMilliseconds:v,durationMilliseconds:f,bufferStartMilliseconds:I,bufferEndMilliseconds:Math.max(b,0),showBuffer:!t,canSeek:n||t,isDisabled:!n||t,formatValue:this.formatPlayerTime,size:vc.ln,onSeek:this.onSeek}))}}k$e.defaultProps={beginsAt:0,endsAt:0,streamStartedAt:0,seekRangeStartedAtSeconds:0};const R$e=IYe(k$e),z$e=(0,de.P1)(QC,(e=>e.replace(":mm",":mm:ss"))),U$e={onSeek:qa.O7},V$e=(0,f.$j)((function(){return(0,de.P1)(z$e,AP,e_(),t_(),qH(),A$e(),YH(),X_e(),((e,t,n={},i={},s,r,a,o)=>{const{beginsAt:l,endsAt:c}=i,{serverEntityID:d,controllable:u,playbackStartTime:p}=a,{isCloud:m}=o,h=c-l,g={serverEntityID:d,metadataItemEntityID:n.entityID,isCloud:m,isRemotePlayer:t,canSeek:!(!h||!s),beginsAt:l,endsAt:c,playbackStartTime:p,durationSeconds:h,timeFormat:e,positionSeconds:a.positionSeconds};return!m&&r&&Object.assign(g,r),u&&!u.seekTo&&(g.canSeek=!1),s&&(g.streamStartedAt=s.startedAt,g.currentPosition=s.currentPosition,g.lastSeekPosition=s.lastSeekPosition),g}))}),U$e)(R$e);var B$e=Object.prototype.hasOwnProperty,F$e=Object.getOwnPropertySymbols,H$e=Object.prototype.propertyIsEnumerable,_$e=Object.assign;const Q$e=(0,f.$j)((function(){return(0,de.P1)(Hwe(),(e=>({hasLiveTVProtocol:e.protocols.includes("livetv")})))}))((function(e){const{isAdVisible:t,hasLiveTVProtocol:n,adPositionMilliseconds:i,adDurationMilliseconds:s}=e,r=((e,t)=>{var n={};for(var i in e)B$e.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&F$e)for(var i of F$e(e))t.indexOf(i)<0&&H$e.call(e,i)&&(n[i]=e[i]);return n})(e,["isAdVisible","hasLiveTVProtocol","adPositionMilliseconds","adDurationMilliseconds"]);return t?y.createElement(N$e,_$e(_$e({},r),{positionMilliseconds:i,durationMilliseconds:s,showBuffer:!1})):n?y.createElement(V$e,_$e({},r)):y.createElement(T$e,_$e(_$e({},r),{showBuffer:!0}))})),G$e=(0,f.$j)((function(){return(0,de.P1)(Wh.Z,$H(),A$e(),WH("isPaused"),((e,t,n,i)=>{const s=pa.wB(e.identifier,pa.vP),{disablePreviousButton:r,disableSkipForwardButton:a,disableNextButton:o}=function(e,t){const{seekRangeStartedAtSeconds:n,seekStartSeconds:i,seekEndSeconds:s}=t,r=e-n;return{disablePreviousButton:r<=gKe.Nf||r-i<=gKe.Nf,disableSkipForwardButton:s-r<=15,disableNextButton:s-r<=15}}(t,n);return{showRecordButton:!!e.features.subscribe,showRepeatButton:!1,showSettingsButton:!0,showPauseButton:!i&&!s,showPreviousButton:!s,showSkipBackButton:!s,showSkipForwardButton:!s,showNextButton:!s,disablePreviousButton:r,disableSkipForwardButton:a,disableNextButton:o}}))}),(function(e,{playerType:t}){const n={playerType:t};return{onPreviousPress(t){e(qa.oA(n))},onSkipBackPress(t){e(qa.QJ(n))},onSkipForwardPress(t){e(qa.wW(n))},onNextPress(t){e(qa.o1(n))}}}))(d$e);function Y$e(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-guide-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M28 42h112v112H28V42zm0 182h112v112H28V224zm0 182h112v112H28V406zM210 77h322v44.8H210V77zm0 182h322v44.8H210V259zm0 182h322v44.8H210V441z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}Y$e.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const W$e=Y$e,K$e=(0,f.$j)((function(){return(0,de.P1)(YH(),t_(),qH(),((e,t={},n)=>{const i=t.channelShortTitle||t.channelTitle||n&&n.channelIdentifier||(0,De.Z)("Unknown");return{isAlsoAiringVisible:e.isAlsoAiringVisible,positionSeconds:e.positionSeconds,channelTitle:i}}))}),(function(e,t){const n={playerType:t.playerType};return{onPress(t){e((0,qa.H5)(n))}}}))((function(e){const{channelTitle:t,isAlsoAiringVisible:n,onPress:i}=e;return y.createElement(AM.Z,{"data-qa-id":"channelsList",className:n?"LiveTVCurrentChannel-isActive-ApNnwA":void 0,onPress:i},y.createElement(W$e,{className:"LiveTVCurrentChannel-icon-1LI-qK"}),t)}));var q$e=Object.prototype.hasOwnProperty,$$e=Object.getOwnPropertySymbols,J$e=Object.prototype.propertyIsEnumerable,X$e=Object.assign;const eJe=function(e){const{type:t,isUnknownAiring:n}=e,i=((e,t)=>{var n={};for(var i in e)q$e.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&$$e)for(var i of $$e(e))t.indexOf(i)<0&&J$e.call(e,i)&&(n[i]=e[i]);return n})(e,["type","isUnknownAiring"]);return n?(0,De.Z)("Unknown Airing"):t===Ho.EPISODE?y.createElement(iP,X$e({},i)):y.createElement(aP,X$e({},i))};var tJe=Object.prototype.hasOwnProperty,nJe=Object.getOwnPropertySymbols,iJe=Object.prototype.propertyIsEnumerable,sJe=Object.assign;const rJe={dispatchInitMetadataList:QD,dispatchPopulateChannelPrograms:JD,dispatchResetStartTime:YD,dispatchSetViewportSize:qD},aJe=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.channelGridPage.viewportWidth),YH(),MC(),(0,de.P1)(qH(),$H(),DC(),((e,t,n)=>{if(!e||null==t)return;const i=e.channelIdentifier;let s=null,r=null;for(let e=0;e<n.length;e++){const a=n[e];for(let e=0;e<a.Media.length;e++){const n=a.Media[e],{beginsAt:o,channelIdentifier:l}=n;o>t&&l===i&&(!r||o<r.beginsAt)&&(s=a,r=n)}}return s})),((e,t,n,i)=>i?{metadataItemEntityID:i.entityID,positionSeconds:t.positionSeconds,type:i.type,shouldSetViewportSize:0===e,shouldResetChannels:!1,isUnknownAiring:!1}:{containerKey:n,shouldResetChannels:!0,shouldSetViewportSize:0===e,isUnknownAiring:!0}))}),rJe)((function(e){const{serverEntityID:t,providerEntityID:n,containerKey:i,shouldSetViewportSize:s,shouldResetChannels:r,dispatchInitMetadataList:a,dispatchPopulateChannelPrograms:o,dispatchResetStartTime:l,dispatchSetViewportSize:c}=e,d=((e,t)=>{var n={};for(var i in e)tJe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&nJe)for(var i of nJe(e))t.indexOf(i)<0&&iJe.call(e,i)&&(n[i]=e[i]);return n})(e,["serverEntityID","providerEntityID","containerKey","shouldSetViewportSize","shouldResetChannels","dispatchInitMetadataList","dispatchPopulateChannelPrograms","dispatchResetStartTime","dispatchSetViewportSize"]);return(0,y.useEffect)((()=>{s&&c()}),[s,c]),(0,y.useEffect)((()=>{!s&&r&&i&&(l(),a({containerKey:i,serverEntityID:t,providerEntityID:n}),o())}),[r,s,o,l,i,t,n,a]),y.createElement(eJe,sJe(sJe({},d),{serverEntityID:t,providerEntityID:n}))})),oJe=(0,f.$j)((function(){return(0,de.P1)((e=>e.ui.channelGridPage.metadataList),YH(),((e,t)=>({metadataListEntityID:e,serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID})))}))((function(e){const{playerType:t,metadataListEntityID:n,serverEntityID:i,providerEntityID:s}=e;return y.createElement("div",{className:"LiveTVUpNext-container-2qHALy"},y.createElement(Gqe,{className:"LiveTVUpNext-icon-1JaqjY"}),y.createElement(ax.Z,{message:(0,De.Z)("{openSpan}Up Next:{closeSpan} {openTitle}{closeTitle}"),tags:[{open:"openSpan",close:"closeSpan",component:"span",className:"LiveTVUpNext-upNext-2p9C2l"},{open:"openTitle",close:"closeTitle",component:aJe,playerType:t,metadataListEntityID:n,serverEntityID:i,providerEntityID:s}]}))})),lJe=function(e){const{playerType:t}=e;return y.createElement(bKe,null,y.createElement(K$e,{playerType:t}),y.createElement(oJe,{playerType:t}))};function cJe(e){var t=e["aria-label"],n=e.className,i=e.style,s={strokeLinejoin:"round",strokeMiterlimit:"1.414",viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-unselected-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m280 40c132.46 0 240 107.54 240 240s-107.54 240-240 240-240-107.54-240-240 107.54-240 240-240zm0 80c88.306 0 160 71.694 160 160s-71.694 160-160 160-160-71.694-160-160 71.694-160 160-160z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}cJe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const dJe=cJe,uJe={placement:"top"};class pJe extends y.Component{constructor(e,t){super(e,t),this.onFollowButtonPress=e=>{this._emitUpdateFollowMuteAction(H_.mL,!this.props.followed)},this.onMuteButtonPress=e=>{this._emitUpdateFollowMuteAction(H_.Q2,!this.props.muted)},this.onMenuButtonPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen},(()=>{this.props.onMenuChange&&this.props.onMenuChange(this.state.isMenuOpen)}))},this.onMenuClose=()=>{this.setState({isMenuOpen:!1},(()=>{this.props.onMenuChange&&this.props.onMenuChange(!1)}))},this.state={isMenuOpen:!1},this._menuButtonID=(0,wf.Z)()}_emitUpdateFollowMuteAction(e,t){const{metadataItemEntityID:n,providerEntityID:i,tagElement:s,ratingKey:r}=this.props;this.props.onUpdateFollowMute({metadataItemEntityID:n,providerEntityID:i,actionID:e,tagElement:s,ratingKey:r,value:t})}render(){const{tag:e,followed:t,muted:n}=this.props,{isMenuOpen:i}=this.state;let s,r=dJe;return!0===t?(s="MetadataFollowMuteTag-isFollowed-aSsydm",r=fa.Z):!0===n&&(s="MetadataFollowMuteTag-isMuted-2ezoN7",r=cc.Z),y.createElement(AM.Z,{id:this._menuButtonID,className:"MetadataFollowMuteTag-tag-2VwwBn",onPress:this.onMenuButtonPress},y.createElement(r,{className:we()("MetadataFollowMuteTag-icon-3Gz3HP",s)})," ",y.createElement("span",{className:"MetadataFollowMuteTag-tagText-2p0uTc"},e),y.createElement(mo.Z,{target:this._menuButtonID,isOpen:i,options:uJe,onMenuClose:this.onMenuClose},null!=t?y.createElement(ho.Z,{onPress:this.onFollowButtonPress},t?(0,De.Z)("Unfollow {tag}",{tag:e}):(0,De.Z)("Follow {tag}",{tag:e})):null,null!=n?y.createElement(ho.Z,{onPress:this.onMuteButtonPress},n?(0,De.Z)("Unblock {tag}",{tag:e}):(0,De.Z)("Block {tag}",{tag:e})):null))}}const mJe=pJe;var hJe=Object.assign;var gJe=Object.assign;const yJe=["Channel","Topic"];function vJe(e,t){const n=e.features.find((({type:e})=>e===mS.aO));return n&&n.actions&&n.actions.find((({id:e})=>e===t))}const fJe=(0,YM.Z)((function(){return(0,de.P1)(Wa.Z,d_e(),Hwe(),((e,t,n)=>{const i=[];return yJe.forEach((s=>{const r=t[s];if(r&&r.length){const t=r.reduce(function(e,t,n){const i=vJe(n,H_.mL),s=vJe(n,H_.Q2);return(n,r)=>((null!=r.followed&&i&&(0,_o.d)(t,i)||null!=r.muted&&s&&(0,_o.d)(t,s))&&n.push(gJe(gJe({},r),{tagElement:e})),n)}(s,e,n),[]);i.push(...t)}})),{metadataItemEntityID:t.entityID,providerEntityID:n.entityID,tags:i}}))}),(function(e,t){const{metricsPage:n}=t;return{onUpdateFollowMute(t){e((0,Io.Ds)(gJe({metricsPage:n},t)))}}}))((function(e){const{metadataItemEntityID:t,providerEntityID:n,tags:i,onUpdateFollowMute:s,onFollowMuteMenuChange:r}=e;return y.createElement("div",null,i.map((e=>y.createElement(mJe,hJe(hJe({key:e.ratingKey},e),{metadataItemEntityID:t,providerEntityID:n,onUpdateFollowMute:s,onMenuChange:r})))))}));fJe.propTypes=gJe(gJe({},fJe.propTypes),{playerType:ls().string.isRequired});const IJe=fJe;var bJe=Object.assign;const MJe=(0,f.$j)((function(){return(0,de.P1)(d_e(1),(e=>e?{title:e.title}:{}))}))((function(e){const{title:t}=e;return t?y.createElement("div",null,y.createElement("span",{className:"MetadataUpNext-upNext-3TjgZI"},(0,De.Z)("Up Next"))," — ",t):null}));MJe.propTypes=bJe(bJe({},MJe.propTypes),{playerType:ls().string.isRequired});const SJe=MJe,EJe=function(e){const{playerType:t,onFollowMuteMenuChange:n}=e;return y.createElement(bKe,null,y.createElement(IJe,{playerType:t,onFollowMuteMenuChange:n}),y.createElement(SJe,{playerType:t}))},DJe=(0,de.P1)(HU,(e=>e.session));var CJe=Object.prototype.hasOwnProperty,PJe=Object.getOwnPropertySymbols,wJe=Object.prototype.propertyIsEnumerable,TJe=Object.assign;function ZJe(e){const{className:t,iconComponent:n,title:i}=e,s=((e,t)=>{var n={};for(var i in e)CJe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&PJe)for(var i of PJe(e))t.indexOf(i)<0&&wJe.call(e,i)&&(n[i]=e[i]);return n})(e,["className","iconComponent","title"]);return y.createElement($h.Z,TJe({className:t,"aria-label":i},s),n?y.createElement(n,{className:"WatchTogetherLobbyControlButton-icon-2uolCc"}):null,i)}ZJe.defaultProps={className:"WatchTogetherLobbyControlButton-button-kNO8_U Button-button-31pe5T Link-link-3v-v0b"};const NJe=ZJe,AJe="WatchTogetherLobbyControls-button-3vg70p WatchTogetherLobbyControlButton-button-kNO8_U Button-button-31pe5T Link-link-3v-v0b";function xJe(e){const{className:t,elapsedSeconds:n,hasLiveTVProtocol:i,isAnyAdPlaying:s,isAnyWatching:r,isMiniPlayer:a,metadataItemEntityID:o,playerType:l,onPlay:c,onCancel:d}=e,u=(0,y.useCallback)((()=>{d({playerType:l})}),[d,l]),p=i?OKe:AKe;let m,h;return m=s?(0,De.Z)("Other viewers are watching ads. Playback will resume automatically when they're done."):r?(0,De.Z)("Session started {duration} ago.",{duration:Fi(1e3*n)}):(0,De.Z)("Playback will start automatically when everyone is ready."),h=s?(0,De.Z)("Please Wait"):n>0?(0,De.Z)("Resume"):(0,De.Z)("Start"),y.createElement("div",{className:we()(t,a&&"WatchTogetherLobbyControls-hasLandscapePoster-29Hq4C PlayerControls-hasLandscapePoster-voqTZI"),"data-qa-id":"watchTogetherLobbyControlsContainer"},y.createElement("div",{className:"WatchTogetherLobbyControls-buttonGroupLeft-KopJat PlayerControls-buttonGroupLeft-3OVdIj PlayerControls-buttonGroup-3bovxR"},a?y.createElement(YKe,{playerType:l,isVideo:!0,isMusic:!1}):null,y.createElement(p,{metadataItemEntityID:o,playerType:l,positionSeconds:n,showDuration:!1})),y.createElement("div",{className:we()("WatchTogetherLobbyControls-buttonGroupCenter-1-1bNW PlayerControls-buttonGroupCenter-3Os75p PlayerControls-buttonGroup-3bovxR",!i&&"WatchTogetherLobbyControls-balanceLeft-2iCN4Y PlayerControls-balanceLeft-3ZDFXD")},y.createElement(NJe,{className:AJe,iconComponent:Fqe,isDisabled:s,title:h,kind:fo._8,onPress:c}),y.createElement(NJe,{className:AJe,title:(0,De.Z)("Cancel"),onPress:u})),y.createElement("div",{className:"WatchTogetherLobbyControls-buttonGroupRight-28tg9V PlayerControls-buttonGroupRight-3tN_y5 PlayerControls-buttonGroup-3bovxR"},m))}xJe.defaultProps={className:"WatchTogetherLobbyControls-controls-1P_aYU PlayerControls-controls-32qKsv"};const LJe=xJe,OJe={onPlay:yB.Gu,onCancel:it.Mh},jJe=(0,f.$j)((function(){return(0,de.P1)(DJe,(e=>{const{users:t}=e,n=t.filter((e=>e.isWatching));return{elapsedSeconds:n.reduce(((e,t)=>e+t.positionSeconds),0)/n.length||0,isAnyAdPlaying:t.some((e=>e.isAdPlaying)),isAnyWatching:n.length>0}}))}),OJe)(LJe);function kJe(e){const{playerType:t,isAdVisible:n,isMiniPlayer:i,hasLiveTVProtocol:s,currentSubType:r,isWatchTogetherLobbyVisible:a,onFollowMuteMenuChange:o}=e;return a?null:n?y.createElement(MKe,null):i?null:r===zo.NEWS?y.createElement(EJe,{playerType:t,onFollowMuteMenuChange:o}):s?y.createElement(lJe,{playerType:t}):null}function RJe(e){const{playerType:t,isPostPlayVisible:n,isWatchTogetherLobbyVisible:i,isVideo:s,isMusic:r,isAdVisible:a,isMiniPlayer:o,isWatchTogether:l,hasLiveTVProtocol:c,seekStartMilliseconds:d,seekEndMilliseconds:u,bufferStartMilliseconds:p,bufferEndMilliseconds:m,adPositionMilliseconds:h,adDurationMilliseconds:g,onControlsMenuChange:v,onSeekBarInteractionStart:f,onSeekBarInteractionEnd:I}=e;let b;return b=i?jJe:c?G$e:u$e,y.createElement(pKe,null,kJe(e),y.createElement(hKe,null,n||i?null:y.createElement(Q$e,{playerType:t,isAdVisible:a,seekStartMilliseconds:d,seekEndMilliseconds:u,bufferStartMilliseconds:p,bufferEndMilliseconds:m,adPositionMilliseconds:h,adDurationMilliseconds:g,onSeekStart:f,onSeekEnd:I}),y.createElement(fKe,{component:b,playerType:t,hasLiveTVProtocol:c,isVideo:s,isMusic:r,isAdVisible:a,isWatchTogetherLobbyVisible:i,isMiniPlayer:o,isWatchTogether:l,onControlsMenuChange:v})))}kJe.propTypes=RJe.propTypes,RJe.defaultProps={isMiniPlayer:!1};const zJe=RJe,UJe=parseInt(ku.Z.pagePadding,10),VJe=2*UJe,BJe=UJe/2;function FJe(e,t,n,i,s,r){let a,o;if(e<t){const t=e-VJe-n;a=Math.min(500,t),o=(0,qC.Cr)(a,i,s,r)}else{const e=t-(VJe+90+n);o=Math.min(500,e),a=(0,qC.dz)(o,i,s,r)}return{width:a,height:o}}function HJe(e){const{className:t,serverEntityID:n,providerEntityID:i,metadataItemEntityID:s,type:r,subtype:a,context:o,imageUrl:l,bottom:c}=e,d=eQ(r,o,{providerEntityID:i,subtype:a});return y.createElement(OC.Z,{className:"AudioVideoFullMusic-measure-2RfGtW"},(({isMeasured:e,width:u,height:p})=>{if(!e)return null;const m=c?c+BJe:0,h=FJe(u,p,0,r,a,o);let g;if(m){const e=FJe(u,p,m,r,a,o);g=e.height>0?e.height/h.height:1,g=Math.max(g,.4)}else g=1;return y.createElement("div",{className:t,style:{transform:`translate(-50%, -50%) scale(${g})`}},y.createElement(kj.Z,{cardClassName:"AudioVideoFullMusic-card-1-YH81 MetadataPosterCard-card-72Dv8q",serverEntityID:n,providerEntityID:i,metadataItemEntityID:s,metadataKey:"music",type:r,imageWidth:h.width,imageHeight:h.height,imageUrl:l,showLinkOnly:!0}),y.createElement("div",{className:"AudioVideoFullMusic-titlesContainer-25wEjE"},d.map(((e,t)=>y.createElement(RQ,{key:t,className:t>0?"AudioVideoFullMusic-secondaryTitle-A2qA65 AudioVideoFullMusic-title-2vC3j5 MetadataPosterTitle-title-nXZNlz":"AudioVideoFullMusic-primaryTitle-yRUZMp AudioVideoFullMusic-title-2vC3j5 MetadataPosterTitle-title-nXZNlz",serverEntityID:n,providerEntityID:i,metadataItemEntityID:s,component:e})))))}))}HJe.defaultProps={className:"AudioVideoFullMusic-content-YOKcDs"};const _Je=HJe,QJe=(0,f.$j)((function(){return(0,de.P1)(d_e(),(e=>({serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:e.entityID,context:YC.r$,type:e.type,imageUrl:e.parentThumb||e.grandparentThumb})))}))(_Je),GJe=function(e){const{serverEntityID:t,providerEntityID:n,imageUrl:i,allowBlur:s}=e;return y.createElement("div",{className:"FullPlayerBackground-backgroundContainer-39bPLG"},y.createElement(Pt,{serverEntityID:t,providerEntityID:n,url:i,allowBlur:s}))},YJe=(0,f.$j)((function(){return(0,de.P1)(((e,{isMusic:t})=>t),YH(),r_e(),EC.Z,((e,t,n={},i)=>{const s=i[t.startMetadataItemEntityID||n.metadataItem];let r;return s&&(r=e?s.parentThumb||s.grandparentThumb:s.grandparentArt||s.art),{serverEntityID:t.serverEntityID,imageUrl:r}}))}))(GJe);function WJe(e){var t=e["aria-label"],n=e.className,i=e.style,s={strokeLinejoin:"round",strokeMiterlimit:"1.414",viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-marketing-lyrics-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m152.241 116.673c5.933-65.31 60.918-116.673 127.75-116.673 66.833 0 121.818 51.363 127.75 116.673h12.268c6.44 0 11.672 5.233 11.672 11.672 0 6.441-5.232 11.673-11.672 11.673h-12.25c-3.675 40.285-26.023 75.197-58.293 96.058l-19.827 231.997c-1.908 21.892-17.5 39.06-37.958 43.82v36.452c0 6.44-5.232 11.673-11.672 11.673s-11.673-5.233-11.673-11.673v-36.592c-20.51-4.97-36.102-22.26-38.01-44.24l-19.792-231.437c-32.305-20.86-54.653-55.756-58.293-96.058h-12.25c-6.44 0-11.672-5.233-11.672-11.673 0-6.439 5.232-11.672 11.672-11.672zm154.14 349.387 18.62-217.665c-14.052 5.25-29.172 8.278-45.01 8.278-15.837 0-30.957-3.045-45.01-8.312l18.568 217.139c1.242 13.982 12.722 24.5 26.74 24.5 13.685 0 24.902-10.29 26.092-23.94zm-38.045-151.059c0-6.441 5.233-11.673 11.673-11.673s11.672 5.233 11.672 11.673v46.672c0 6.439-5.232 11.673-11.672 11.673s-11.673-5.234-11.673-11.673zm11.655-81.674c53.918 0 97.93-40.966 103.81-93.326h-207.62c5.88 52.36 49.893 93.326 103.81 93.326zm103.81-116.672c-5.88-52.36-49.892-93.328-103.81-93.328-53.917 0-97.93 40.969-103.81 93.328z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}WJe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const KJe=WJe;function qJe(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-lyrics-timed-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M364 84h-56v29.989a194.698 194.698 0 0 1 27.951 6.126 194.755 194.755 0 0 1 24.136 8.966 195.787 195.787 0 0 1 27.995 15.427 197.227 197.227 0 0 1 48.25 45.312A196.461 196.461 0 0 1 454 217.748a194.576 194.576 0 0 1 18.374 52.568A196.97 196.97 0 0 1 476 308c0 8.956-.604 17.911-1.818 26.785a194.966 194.966 0 0 1-6.297 29.166 194.724 194.724 0 0 1-10.968 28.456 196.15 196.15 0 0 1-17.784 29.982 197.385 197.385 0 0 1-51.543 49.428 195.734 195.734 0 0 1-31.878 17.002 194.692 194.692 0 0 1-38.028 11.555 196.89 196.89 0 0 1-37.05 3.625 197.07 197.07 0 0 1-37.117-3.394 194.66 194.66 0 0 1-38.126-11.327 195.651 195.651 0 0 1-31.993-16.815 197.378 197.378 0 0 1-51.839-49.12 196.2 196.2 0 0 1-17.96-29.865 194.83 194.83 0 0 1-11.136-28.372 194.809 194.809 0 0 1-6.473-29.101A197.463 197.463 0 0 1 84 308c0-12.028 1.091-24.054 3.283-35.881a194.544 194.544 0 0 1 17.634-52.258 196.423 196.423 0 0 1 17.69-28.628 197.522 197.522 0 0 1 22.193-25.085 197.243 197.243 0 0 1 26.136-20.985 195.922 195.922 0 0 1 28.434-15.838A194.565 194.565 0 0 1 252 113.989V84h-56V56h168v28zm-83.499 70.001h-1.002c-2.814.013-5.626.093-8.435.253-5.511.315-11.005.924-16.45 1.827a152.77 152.77 0 0 0-37.505 11.318 153.954 153.954 0 0 0-22.375 12.375 155.41 155.41 0 0 0-37.024 34.668 154.38 154.38 0 0 0-13.799 21.452 152.504 152.504 0 0 0-14.78 41.055A154.8 154.8 0 0 0 126 308c0 7.212.496 14.425 1.497 21.568a152.888 152.888 0 0 0 4.872 22.397 152.714 152.714 0 0 0 8.601 22.316 154.23 154.23 0 0 0 14.247 23.934 155.398 155.398 0 0 0 18.231 20.92 155.18 155.18 0 0 0 23.616 18.615 153.646 153.646 0 0 0 23.909 12.522 152.648 152.648 0 0 0 29.855 8.97A154.944 154.944 0 0 0 280 462c9.782 0 19.564-.915 29.172-2.758a152.648 152.648 0 0 0 29.855-8.97 153.71 153.71 0 0 0 25.464-13.533 155.34 155.34 0 0 0 40.02-38.15 154.175 154.175 0 0 0 14.519-24.308 152.67 152.67 0 0 0 8.601-22.316 152.86 152.86 0 0 0 4.872-22.397A155.47 155.47 0 0 0 434 308c0-10.421-1.039-20.841-3.131-31.052a152.544 152.544 0 0 0-14.78-41.055 154.43 154.43 0 0 0-14.366-22.185 155.298 155.298 0 0 0-37.231-34.447 153.835 153.835 0 0 0-21.601-11.862 152.77 152.77 0 0 0-37.505-11.318 154.437 154.437 0 0 0-16.45-1.827c-2.809-.16-5.621-.24-8.435-.253zM252 336V185.167c8.998-2.085 18.374-3.167 28-3.167 34.771 0 66.271 14.115 89.078 36.922L252 336z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}qJe.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const $Je=qJe,JJe="AudioVideoLyrics-measure-U9K9GH",XJe="AudioVideoLyrics-rightInfo-1nomp0",eXe="AudioVideoLyrics-innerContent-2wew9s";class tXe extends y.Component{constructor(e,t){super(e,t),this.setLineRef=e=>{this.lineRef=e,this.scrollToLine()},this.onContentMeasure=({width:e})=>{this.setState({isMeasured:!0,pageWidth:e})},this.onScrollerMeasure=({height:e})=>{e&&this.setState({isScrollerMeasured:!0,scrollerHeight:e},(()=>{this.scrollToLine()}))},this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.state={isMeasured:!1,isScrollerMeasured:!1,pageWidth:0,scrollerHeight:0,scrollTop:0}}componentWillReceiveProps(e){this.props.lines!==e.lines&&this.setState({scrollTop:0})}scrollToLine(){if(!this.lineRef)return;const{scrollerHeight:e,scrollTop:t}=this.state,{height:n}=this.lineRef.getBoundingClientRect(),i=this.lineRef.offsetTop;(i+n>t+e||i<t)&&this.setState({scrollTop:i})}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,type:i,subtype:s,context:r,columnAdjustment:a,imageUrl:o,positionSeconds:l,lines:c,selectedIndex:d,lyricsStreamsCount:u,hasTimedLyrics:p,isTimedLyricsActive:m,hasLyricsError:h,hasLyricsFeature:g,isLyricFindProvider:v,onPreviousPress:f,onNextPress:I,onTimedLyricsPress:b}=this.props,{isMeasured:M,isScrollerMeasured:S,pageWidth:E,scrollTop:D}=this.state,C=x$(E,a),P=(0,qC.Cr)(C,i,s,r);return g?y.createElement(OC.Z,{className:JJe,onMeasure:this.onContentMeasure},M?y.createElement("div",{className:"AudioVideoLyrics-container-1Kqnfr"},y.createElement("div",null,y.createElement(kj.Z,{cardClassName:"AudioVideoLyrics-card-14KqOU MetadataPosterCard-card-72Dv8q",serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataKey:"music",type:i,imageWidth:C,imageHeight:P,imageUrl:o,showLinkOnly:!0})),y.createElement("div",{className:"AudioVideoLyrics-content-26dz7P"},y.createElement("div",{className:"AudioVideoLyrics-titlesContainer-3eJg2j"},y.createElement(_J,null,y.createElement(aP,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n})),y.createElement(KJ,null,y.createElement(BJ,null,y.createElement(M_,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}))),y.createElement($J,null,y.createElement(BJ,null,v?(0,De.Z)("Powered by {provider}",{provider:"LyricFind"}):null),y.createElement(GJ,null,y.createElement("span",{className:XJe},y.createElement(GC.Z,{className:we()("AudioVideoLyrics-timedLyricsButton-2og_nz IconButton-button-2smHOM",m&&"AudioVideoLyrics-isTimedLyricsActive-2BDZms"),"data-qa-id":"toggleTimedLyrics",iconComponent:$Je,title:(0,De.Z)("Timed Lyrics"),isDisabled:!p,onPress:b})),y.createElement("span",{className:XJe},(0,De.Z)("{selectedIndex} of {lyricsStreamsCount}",{selectedIndex:d+1,lyricsStreamsCount:u})),y.createElement("span",{className:XJe},y.createElement(GC.Z,{iconComponent:J3,"data-qa-id":"previousLyricsPage",title:(0,De.Z)("Previous"),isDisabled:0===d,onPress:f})),y.createElement("span",{className:XJe},y.createElement(GC.Z,{iconComponent:q3,"data-qa-id":"nextLyricsPage",title:(0,De.Z)("Next"),isDisabled:d===u-1,onPress:I}))))),h?y.createElement("div",{className:eXe},y.createElement(VK,{title:(0,De.Z)("There was an error loading the lyrics")})):null,h?null:y.createElement("div",{className:eXe},y.createElement(OC.Z,{className:JJe,onMeasure:this.onScrollerMeasure},S?y.createElement(wN.Z,{className:"AudioVideoLyrics-scroller-HGsXz1 Scroller-vertical-1tg_Qg",scrollTop:D,onScrollPositionChange:this.onScrollPositionChange},c.length?c.map((({spans:e,startOffset:t,endOffset:n},i)=>{const s=Math.round(t/1e3),r=Math.round(n/1e3),a=m&&l>=s&&-1!==t&&(l<r||-1===n);return y.createElement("div",{key:i,className:we()("AudioVideoLyrics-line-1ZbaPe",a&&"AudioVideoLyrics-isLineSelected-3eV06T"),ref:a?this.setLineRef:null},e.map((({text:e},t)=>y.createElement("span",{key:t},e))),y.createElement($Je,{className:"AudioVideoLyrics-lineTimedIcon-q-eciz"}))})):y.createElement(RC.Z,{className:"AudioVideoLyrics-spinner-iVgPUz Spinner-spinner-5E5Wk_ spin-spin-oHlEXH"})):null)))):null):y.createElement("div",{className:"AudioVideoLyrics-upsellContainer-m0YGg9"},y.createElement(hoe,{iconComponent:KJe,title:(0,De.Z)("Song Lyrics"),text:(0,De.Z)("Still think Elton is saying “Hold me closer, Tony Danza”? With a Plex Pass, enjoy timed lyrics (when available) to your favorite songs for the ultimate sing-along… with the right words!")}),y.createElement(boe,{serverEntityID:e,origin:poe.ap,modalMetricsProperties:{context:"lyrics"}}))}}const nXe=tXe;var iXe=Object.prototype.hasOwnProperty,sXe=Object.getOwnPropertySymbols,rXe=Object.prototype.propertyIsEnumerable,aXe=Object.assign;function oXe(e){return!(!e||!e.timed)}const lXe={dispatchFetchPlayQueue:FP.Ai,dispatchFetchPlayQueueItemLyrics:FP.KA};class cXe extends y.Component{constructor(e,t){super(e,t),this.onPreviousPress=()=>{this.setState((e=>({selectedLyricsStreamIndex:Math.max(0,e.selectedLyricsStreamIndex-1)})))},this.onNextPress=()=>{this.setState(((e,t)=>({selectedLyricsStreamIndex:Math.min(t.lyricsStreams.length-1,e.selectedLyricsStreamIndex+1)})))},this.onTimedLyricsPress=()=>{this.setState((e=>({isTimedLyricsActive:!e.isTimedLyricsActive})))},this.state=this.getDefaultState(e)}componentDidMount(){this._populate(),this.props.hasPremiumLyrics&&this.props.hasLyricsFeature&&this.props.dispatchFetchPlayQueue({playerType:this.props.playerType})}componentWillReceiveProps(e){this.props.lyricsStreams!==e.lyricsStreams&&this.setState(this.getDefaultState(e,this.state.selectedLyricsStreamIndex))}componentWillUpdate(e,t){if(this.state.selectedLyricsStreamIndex!==t.selectedLyricsStreamIndex){const n=e.lyricsStreams[t.selectedLyricsStreamIndex];this.setState({isTimedLyricsActive:oXe(n)})}}componentDidUpdate(e,t){const n=this.props.lyricsStreams[this.state.selectedLyricsStreamIndex];this.props.hasLyricsFeature!==e.hasLyricsFeature&&this.props.dispatchFetchPlayQueue({playerType:this.props.playerType}),!n||n.lyricsError||this.state.selectedLyricsStreamIndex===t.selectedLyricsStreamIndex&&this.props.lyricsStreams===e.lyricsStreams||this._populate()}getDefaultState(e,t=0){const n=e.lyricsStreams.length>0?t:null;return{isTimedLyricsActive:oXe(e.lyricsStreams[n]),selectedLyricsStreamIndex:n}}_populate(){const{playerType:e,playQueueItemEntityID:t,lyricsStreams:n}=this.props,{selectedLyricsStreamIndex:i}=this.state;if(null==i)return;const s=n[i];s&&!s.lines.length&&this.props.dispatchFetchPlayQueueItemLyrics({playerType:e,playQueueItemEntityID:t,streamID:s.id})}render(){const e=this.props,{dispatchFetchPlayQueue:t,dispatchFetchPlayQueueItemLyrics:n,lyricsStreams:i}=e,s=((e,t)=>{var n={};for(var i in e)iXe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&sXe)for(var i of sXe(e))t.indexOf(i)<0&&rXe.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchFetchPlayQueue","dispatchFetchPlayQueueItemLyrics","lyricsStreams"]),{isTimedLyricsActive:r,selectedLyricsStreamIndex:a}=this.state,o=i[a];return y.createElement(nXe,aXe({lines:null!=o?o.lines:[],lyricsStreamsCount:i.length,selectedIndex:a,hasTimedLyrics:oXe(o),isTimedLyricsActive:r,isLyricFindProvider:!!o&&o.provider===GM.$Z,hasLyricsError:!!o&&!!o.lyricsError,onPreviousPress:this.onPreviousPress,onNextPress:this.onNextPress,onTimedLyricsPress:this.onTimedLyricsPress},s))}}const dXe=(0,f.$j)((function(){return(0,de.P1)(YH(),X_e(),d_e(),r_e(),ye.Z,((e,t,n,i,s)=>{const r=YC.r$;return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:n.entityID,playQueueItemEntityID:i.entityID,positionSeconds:e.positionSeconds,context:r,type:n.type,imageUrl:n.parentThumb||n.grandparentThumb,lyricsStreams:i.lyricsStreams,columnAdjustment:s.columnAdjustment,hasLyricsFeature:!!i.lyricsStreams.length||t.ownerFeatures&&t.ownerFeatures.indexOf("lyrics")>-1,hasPremiumLyrics:i.hasPremiumLyrics}}))}),lXe)(cXe),uXe=[.2,.4,.6,.8];function pXe(e,t,n,i){if(n+1<i){const i=n-t-e;if(i<uXe.length)return uXe[i]}return 1}function mXe(){return(0,de.P1)(((e,{playQueueItemEntityID:t})=>t),my.Z,((e,t)=>t[e]))}function hXe(e){const{className:t,titlesContainerClassName:n,sourceTextClassName:i,durationContainerClassName:s,serverEntityID:r,providerEntityID:a,metadataItemEntityID:o,type:l,subtype:c,metadataKey:d,title:u,duration:p,isPreview:m,context:h,imageWidth:g,imageHeight:v,imageUrl:f,onPlayPress:I}=e,b=eQ(l,h,{providerEntityID:a,subtype:c});let M="";return p&&(M=m?(0,De.Z)("Preview"):l===Ho.TRACK?(0,Iy.Z)(p):Fi(p)),y.createElement("div",{className:t},y.createElement("div",{className:"AudioVideoPlayerPlayQueueMetadata-cardContainer-1gvanC"},y.createElement(lZe,{className:"AudioVideoPlayerPlayQueueMetadata-card-1Wswtn QuickSearchMetadataPosterCard-card-oRXsxj MetadataPosterButtonCard-card-3uptBn",serverEntityID:r,providerEntityID:a,metadataItemEntityID:o,metadataKey:d,title:(0,De.Z)("Play {title}",{title:u}),type:l,imageWidth:g,imageHeight:v,imageUrl:f,onPlayPress:I})),y.createElement("div",{className:n,"data-qa-id":"playQueueTitleContainer"},b.map(((e,t)=>y.createElement(RQ,{key:t,serverEntityID:r,providerEntityID:a,metadataItemEntityID:o,component:e,isSecondary:t>0})))),y.createElement(_4,{textClassName:i,serverEntityID:r,metadataItemEntityID:o}),M?y.createElement("div",{className:s},M):null)}hXe.defaultProps={className:"AudioVideoPlayerPlayQueueMetadata-container-3GQbqW",titlesContainerClassName:"AudioVideoPlayerPlayQueueMetadata-titlesContainer-1hYyka",sourceTextClassName:"AudioVideoPlayerPlayQueueMetadata-sourceText-8i0tTz",durationContainerClassName:"AudioVideoPlayerPlayQueueMetadata-durationContainer-3BsiEq"};const gXe=hXe;var yXe=Object.prototype.hasOwnProperty,vXe=Object.getOwnPropertySymbols,fXe=Object.prototype.propertyIsEnumerable,IXe=Object.assign;const bXe=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),(e=>{const t=YC.F5,n=(0,qC.n3)(e.type,e.subtype,t)===qC.oz?64:36,i=(0,cG.Z)(n,null,e.type,e.subtype,e,t);return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,type:e.type,subtype:e.subtype,metadataKey:e.key,duration:e.duration,title:e.title,isPreview:!!e.preview,context:t,imageWidth:i.width,imageHeight:i.height,imageUrl:i.url}}))}),(function(e,t){const n={playerType:t.playerType};return{onPlayPress(){e((0,FP.gP)(IXe(IXe({},n),{index:t.sortIndex}))),t.mediaType===$a.pX&&e((0,FP.D5)(n))}}}))((function(e){const{mediaType:t}=e,n=((e,t)=>{var n={};for(var i in e)yXe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&vXe)for(var i of vXe(e))t.indexOf(i)<0&&fXe.call(e,i)&&(n[i]=e[i]);return n})(e,["mediaType"]);return y.createElement(gXe,IXe({},n))})),MXe={.2:"AudioVideoPlayQueueItem-opacity20Percent-2UguL-",.4:"AudioVideoPlayQueueItem-opacity40Percent-28nUsn",.6:"AudioVideoPlayQueueItem-opacity60Percent-14EitX",.8:"AudioVideoPlayQueueItem-opacity80Percent-1KEpfE"};function SXe(e){const{metadataItemEntityID:t,playerType:n,mediaType:i,sortIndex:s,opacity:r,isCurrentItem:a,isPlayerPaused:o,isItemDragging:l,connectDragSource:c,onRemovePress:d}=e;return y.createElement("div",{className:we()("AudioVideoPlayQueueItem-container-ShjZae",l&&"AudioVideoPlayQueueItem-isItemDragging-4UNHTi",a&&"AudioVideoPlayQueueItem-isCurrentItem-3PA5GL",null!=r&&MXe[r]),"data-qa-id":"playQueueItem"},y.createElement("div",{className:"AudioVideoPlayQueueItem-leftContainer-3Lec87"},a?y.createElement(mv,{isPaused:o}):null,a?null:c(y.createElement("div",{className:"AudioVideoPlayQueueItem-moveControls-ocIKxb","data-qa-id":"playQueueReorder"},y.createElement(Ox,null)))),y.createElement(bXe,{className:"AudioVideoPlayQueueItem-metadataContainer-HgfaH0 AudioVideoPlayerPlayQueueMetadata-container-3GQbqW",sourceTextClassName:"AudioVideoPlayQueueItem-sourceText-3OehMU SourceBadge-text-jMpRAu",durationContainerClassName:"AudioVideoPlayQueueItem-metadataDurationContainer-1UxW7X AudioVideoPlayerPlayQueueMetadata-durationContainer-3BsiEq",metadataItemEntityID:t,playerType:n,mediaType:i,sortIndex:s}),a?null:y.createElement("div",{className:"AudioVideoPlayQueueItem-removeControls-3ZfGFC"},y.createElement(GC.Z,{className:"AudioVideoPlayQueueItem-removeButton-219FzW IconButton-button-2smHOM","data-qa-id":"playQueueRemove",iconComponent:cc.Z,title:(0,De.Z)("Remove"),kind:fo.T,onPress:d})))}SXe.defaultProps={opacity:1,isCurrentItem:!1,isPlayerPaused:!1,isItemDragging:!1,connectDragSource:e=>e};const EXe=SXe,DXe=(0,f.$j)((function(){return(0,de.P1)(mXe(),(e=>{const t=(0,Ho.getMetadataType)(e.type),n=t&&t.mediaType;return{metadataItemEntityID:e.metadataItem,mediaType:n}}))}),(function(e,t){return{onRemovePress(n){e((0,FP.yg)({playerType:t.playerType,playQueueItemEntityID:t.playQueueItemEntityID}))}}}))(EXe),CXe=parseInt(ku.Z.playQueueSidePadding,10);class PXe extends y.Component{shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{playerType:e,item:t,itemType:n,currentOffset:i}=this.props;if(!i||n!==Ex)return null;const{x:s,y:r}=i,a=`translate3d(${s}px, ${r}px, 0)`,o={position:"absolute",WebkitTransform:a,msTransform:a,transform:a,width:window.innerWidth-2*CXe+"px"};return y.createElement(Mx,null,y.createElement("div",{className:"AudioVideoPlayQueueDragPreview-dragPreview-2_J4Ur",style:o},y.createElement(DXe,{playQueueItemEntityID:t.playQueueItemEntityID,playerType:e,isItemDragging:!0})))}}const wXe=(0,gx.rE)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(PXe);var TXe=Object.prototype.hasOwnProperty,ZXe=Object.getOwnPropertySymbols,NXe=Object.prototype.propertyIsEnumerable,AXe=Object.assign;const xXe={beginDrag:({playQueueItemEntityID:e})=>({playQueueItemEntityID:e}),endDrag(e,t,n){e.onPlayQueueItemDragEnd(t.getItem(),t.didDrop())}},LXe={hover(e,t,n){const i=(0,v.findDOMNode)(n).getBoundingClientRect(),s=(i.bottom-i.top)/2,r=t.getClientOffset().y-i.top,a=e.sortIndex,o=r>s?a+1:a;e.onPlayQueueItemDragMove(o)}};class OXe extends y.Component{componentDidMount(){this.props.connectDragPreview((0,tL.rX)())}shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const e=this.props,{isDragging:t,isDraggingBefore:n,isDraggingAfter:i,isOver:s,connectDropTarget:r,connectDragSource:a}=e,o=((e,t)=>{var n={};for(var i in e)TXe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&ZXe)for(var i of ZXe(e))t.indexOf(i)<0&&NXe.call(e,i)&&(n[i]=e[i]);return n})(e,["isDragging","isDraggingBefore","isDraggingAfter","isOver","connectDropTarget","connectDragSource"]);return r(y.createElement("div",{className:we()("AudioVideoPlayQueueItemDragSource-container-3pUgro",t&&Cn.fN,n&&s&&Cn.DT,i&&s&&Cn.QZ)},y.createElement(DXe,AXe({connectDragSource:a},o))))}}const jXe=(0,gx.GR)(Ex,LXe,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((0,gx.Ej)(Ex,xXe,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(OXe));class kXe extends y.Component{constructor(e,t){super(e,t),this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1})},this.state={isAddToPlaylistModalOpen:!1}}render(){const{serverEntityID:e,providerEntityID:t,playQueueID:n,playQueueItemEntityIDs:i,playQueueSelectedItemOffset:s,playQueueLength:r,playerType:a,currentIndex:o,moveIndex:l,scrollTop:c,isPlayerPaused:d,showAddToPlaylist:u,onPlayQueueItemDragMove:p,onPlayQueueItemDragEnd:m}=this.props,{isAddToPlaylistModalOpen:h}=this.state,g=s-o,v=g+i.length-1;return y.createElement("div",{className:"AudioVideoPlayQueue-container-1mpldp"},y.createElement(rWe,null,y.createElement(sWe,{title:(0,De.Z)("Play Queue")}),y.createElement("div",{className:"AudioVideoPlayQueue-topContainer-2nIbGc"},y.createElement("div",{className:"AudioVideoPlayQueue-topLeft-2WAv4O"},y.createElement("span",{className:"AudioVideoPlayQueue-count-1vL_iY"},1===r?(0,De.Z)("{itemCount} item",{itemCount:r}):(0,De.Z)("{itemCount} items",{itemCount:r}))),y.createElement("div",{className:"AudioVideoPlayQueue-topRight-2E6ew6"},u?y.createElement(th.Z,{className:"AudioVideoPlayQueue-tooltipButton-1icY3e","data-qa-id":"queueAddPlaylist","aria-label":(0,De.Z)("Add to Playlist"),component:AM.Z,tooltip:(0,De.Z)("Add to Playlist"),onPress:this.onAddToPlaylistPress},y.createElement(Th,null)):null))),y.createElement(wN.Z,{className:"AudioVideoPlayQueue-content-1P-OTq Scroller-vertical-1tg_Qg",scrollTop:c,smoothScroll:!1,autoScroll:!0},i.map(((e,t)=>{const n=null!=l,i=o===t,s=n&&l===t,c=n&&l===t+1;return y.createElement(jXe,{key:e,sortIndex:t,opacity:pXe(t,g,v,r),playQueueItemEntityID:e,playerType:a,isDraggingBefore:s,isDraggingAfter:c,isCurrentItem:i,isPlayerPaused:d,onPlayQueueItemDragMove:p,onPlayQueueItemDragEnd:m})}))),y.createElement(wXe,{playerType:a}),u?y.createElement(lR.Z,{serverEntityID:e,providerEntityID:t,playQueueID:n,isOpen:h,onModalClose:this.onAddToPlaylistClose}):null)}}const RXe=kXe;var zXe=Object.prototype.hasOwnProperty,UXe=Object.getOwnPropertySymbols,VXe=Object.prototype.propertyIsEnumerable,BXe=Object.assign;const FXe=parseInt(ku.Z.playQueueItemHeight,10),HXe=(0,de.P1)((e=>e.ui.audioVideoPlayer),X_e(),Hwe(),((e,t,n)=>{const i=e.playQueue,s=pa.wB(n.identifier,pa.Y3),r=!i.isLocal&&s;return{serverEntityID:t.entityID,providerEntityID:n.entityID,playQueueID:i.playQueueID,isQueueRepeated:i.repeat,isQueueShuffled:i.playQueueShuffled,isPlayerPaused:e.isPaused,isUpdatePending:i.isUpdatePending,playQueueItemEntityIDs:i.playQueueItems,playQueueSelectedItemOffset:i.playQueueSelectedItemOffset,playQueueLength:i.length,currentIndex:i.currentIndex,showAddToPlaylist:r}})),_Xe={dispatchMovePlayQueueItem:FP.FX};class QXe extends y.Component{constructor(e,t){super(e,t),this.onPlayQueueItemDragMove=e=>{e!==this.state.moveIndex&&this.setState({moveIndex:e})},this.onPlayQueueItemDragEnd=(e,t)=>{const{playerType:n}=this.props,{moveIndex:i}=this.state;t&&null!=i&&(0,Rt.c9)((()=>{this.props.dispatchMovePlayQueueItem(BXe(BXe({playerType:n},e),{moveIndex:i}))})),this.setState({moveIndex:null})},this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.shouldUpdateScrollTop=!1,this.state={moveIndex:null,scrollTop:FXe*e.currentIndex}}componentWillReceiveProps(e){this.props.isQueueRepeated===e.isQueueRepeated&&this.props.isQueueShuffled===e.isQueueShuffled||(this.shouldUpdateScrollTop=!0),this.shouldUpdateScrollTop&&this.props.currentIndex!==e.currentIndex&&this.setState({scrollTop:FXe*e.currentIndex}),this.props.isUpdatePending&&!e.isUpdatePending&&(this.shouldUpdateScrollTop=!1)}render(){const e=this.props,{dispatchMovePlayQueueItem:t}=e,n=((e,t)=>{var n={};for(var i in e)zXe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&UXe)for(var i of UXe(e))t.indexOf(i)<0&&VXe.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchMovePlayQueueItem"]),{moveIndex:i,scrollTop:s}=this.state;return y.createElement(RXe,BXe({moveIndex:i,scrollTop:s,onPlayQueueItemDragMove:this.onPlayQueueItemDragMove,onPlayQueueItemDragEnd:this.onPlayQueueItemDragEnd,onScrollPositionChange:this.onScrollPositionChange},n))}}const GXe=$O((0,f.$j)(HXe,_Xe)(QXe)),YXe=function(e){const{title:t,summary:n}=e;return y.createElement(y.Fragment,null,y.createElement(H$,null,y.createElement(_J,null,y.createElement(BJ,null,t))),y.createElement(m$,null),y.createElement(H$,null,y.createElement(X$,null,n)))};var WXe=Object.assign;const KXe=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({type:e.type,subtype:e.subtype,title:e.title,year:e.year,summary:e.summary,attributionLogo:e.attributionLogo})))}))((function(e){const t=function(e,t){switch(t){case zo.WEBSHOW:switch(e){case Ho.EPISODE:return D4}}switch(e){case Ho.EPISODE:return E4;case Ho.MOVIE:return Z4;case Ho.CLIP:return YXe}return YXe}(e.type,e.subtype);return y.createElement(t,WXe({},e))}));var qXe=Object.assign;const $Xe="ui/player/playQueue/toggleAutoPlay",JXe=(0,No.Z)($Xe),XXe={[FP.jB]:FP.Yb[FP.jB],[FP.Qi]:FP.Yb[FP.Qi],[FP._7]:FP.Yb[FP._7],[FP.Q2]:FP.Yb[FP.Q2],[FP.U8]:FP.Yb[FP.U8],[FP.$D]:FP.Yb[FP.$D],[FP.zG]:FP.Yb[FP.zG],[FP.Xq]:FP.Yb[FP.Xq],[FP.hl]:FP.Yb[FP.hl],[FP.x8]:FP.Yb[FP.x8],[FP.QS]:FP.Yb[FP.QS],[FP.A0]:FP.Yb[FP.A0],[FP.Er]:FP.Yb[FP.Er],[FP.x7]:FP.Yb[FP.x7],[FP.xJ]:FP.Yb[FP.xJ],[FP.dU]:FP.Yb[FP.dU],[FP.Zp]:FP.Yb[FP.Zp],[FP.q$](e,{playerType:t},n){const i=e.get("user").id,s=(0,JP.F_)(e,t),r=s.get("playQueue"),a=e.get("deviceSettings"),o=s.get("providerEntityID"),l=(0,JM.js)(e,{providerEntityID:o}),c={providerEntityID:o,serverEntityID:s.get("serverEntityID"),playQueueOffset:s.get("positionSeconds"),playQueueType:r.get("type"),playQueueRepeat:r.get("repeat"),playQueueID:r.get("playQueueID")};if(pa.wB(l.get("identifier"),[pa.uk]))return;if(s.get("isWatchTogether"))return;const d=a.get("restorePlayQueue");n((0,pn.T5)({restorePlayQueue:qXe(qXe({},d),{[i]:c})}))},[FP.Ux](e,t,n){const i=e.get("user").id,s=e.get("deviceSettings").get("restorePlayQueue"),r=qXe({},s);delete r[i],n((0,pn.T5)({restorePlayQueue:r}))},[$Xe](e,{playerType:t},n){const i=e.get("user").get("experienceSettings").get("autoPlay"),s=(0,JP.F_)(e,t);(0,zP.Z)(e).changeAutoPlay(s,!i,n)}},e0e=parseInt(ku.Z.postPlayPosterWidth,10),t0e=parseInt(ku.Z.postPlayTitleHeight,10)+parseInt(ku.Z.postPlayAutoPlayHeight,10);class n0e extends y.Component{constructor(e,t){super(e,t),this.onContentMeasure=({height:e})=>{const t=Math.min((0,qC.Cr)(e0e,this.props.type,this.props.subtype,YC.sD),e-t0e),n=(0,qC.dz)(t,this.props.type,this.props.subtype,YC.sD);this.setState({isMeasured:!0,width:n,height:t})},this.onCountdown=()=>{const e=this.state.secondsLeft-1;e<=0?this.props.onPlay():this.setState({secondsLeft:e})},this.state={isMeasured:!1,width:0,height:0,secondsLeft:10}}componentDidMount(){this.props.autoPlayEnabled&&(this._tickIntervalID=window.setInterval(this.onCountdown,1e3))}componentWillReceiveProps(e){this.props.autoPlayEnabled&&!e.autoPlayEnabled&&(window.clearInterval(this._tickIntervalID),this.setState({secondsLeft:10})),!this.props.autoPlayEnabled&&e.autoPlayEnabled&&(this._tickIntervalID=window.setInterval(this.onCountdown,1e3))}componentWillUnmount(){window.clearInterval(this._tickIntervalID)}render(){const{serverEntityID:e,providerEntityID:t,type:n,posterUrl:i,autoPlayEnabled:s,onToggleAutoPlay:r,onPlay:a}=this.props,{isMeasured:o,width:l,height:c,secondsLeft:d}=this.state,u=(10-d)/9*100;return y.createElement(OC.Z,{className:"AudioVideoUpNext-container-3ramOx",onMeasure:this.onContentMeasure},y.createElement("div",{className:"AudioVideoUpNext-title-1hJ0sd"},(0,De.Z)("Playing Next")),o?y.createElement("div",{className:"AudioVideoUpNext-poster-2HPnEb",style:{width:l,height:c}},y.createElement(KC.Z,{serverEntityID:e,providerEntityID:t,type:n,width:l,height:c,url:i}),s?y.createElement("div",{className:"AudioVideoUpNext-progress-39H970"},y.createElement(CL,{size:l/4,lineWidth:3,progress:u,showProgressText:!1,easing:"linear"}),y.createElement("span",{className:"AudioVideoUpNext-timeLeft-3i8yWS"},d)):null,y.createElement(dP.Z,{className:"AudioVideoUpNext-playButton-3d-4Cs PlayButton-playButton-2dFmuo",circleClassName:"AudioVideoUpNext-playCircle-3ujMNJ PlayButton-playCircle-2DYa77","aria-label":(0,De.Z)("Play Next"),onPress:a})):null,y.createElement(mee.Z,{className:s?"AudioVideoUpNext-autoPlayOn-3fTTu3 AudioVideoUpNext-autoPlay-LdzCEf":"AudioVideoUpNext-autoPlayOff-1BkAKv AudioVideoUpNext-autoPlay-LdzCEf",name:"autoPlayCheck",value:s,checkboxText:s?(0,De.Z)("Auto Play On"):(0,De.Z)("Auto Play Off"),onChange:r}))}}const i0e=n0e,s0e=(0,f.$j)((function(){return(0,de.P1)(YH(),(0,_C.Z)(),ye.Z,((e,t={},n)=>({type:t.type,posterUrl:t.thumb,autoPlayEnabled:n.autoPlay})))}),(function(e,{playerType:t}){return{onToggleAutoPlay(){e(JXe({playerType:t}))},onPlay(){e((0,i_e.hY)({playerType:t}))}}}))(i0e),r0e=(0,f.$j)((function(){return(0,de.P1)(YH(),r_e(),r_e(1),((e,t,n)=>n?{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:n.metadataItem,hubEntityIDs:t.postPlay}:{}))}))((function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,hubEntityIDs:s,playerType:r}=e;return y.createElement("div",{className:"AudioVideoPostPlay-container-qYSeny"},y.createElement("div",{className:"AudioVideoPostPlay-poster-1-DDr-"},y.createElement(s0e,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,playerType:r})),y.createElement(wN.Z,{className:"AudioVideoPostPlay-details-pTqUIG",smoothScroll:!1,autoScroll:!0},y.createElement(KXe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,showStreams:!1}),y.createElement(H$,null,s&&s.length>0?y.createElement(kJ,{serverEntityID:t,providerEntityID:n,hubEntityIDs:s,columnAdjustment:1}):null)))})),a0e=(0,Ql.Z)(Ur.Z.defaultSpeed),o0e={enter:{opacity:1,duration:a0e},exit:{opacity:0,duration:a0e,delay:4e3}};function l0e(e){const{className:t,isToastVisible:n,isControlsVisible:i,metadataItemEntityID:s,playerType:r}=e;return i?null:y.createElement(_l.M_,null,n?y.createElement(_l.ww.div,{key:"toast",initial:"exit",animate:"enter",exit:"exit",variants:o0e,className:t},y.createElement(AKe,{className:"AudioVideoToast-metadataContainer-2L7VCx",metadataItemEntityID:s,playerType:r})):null)}l0e.defaultProps={className:"AudioVideoToast-toast-1DcGQo"};const c0e=l0e,d0e=(0,f.$j)((function(){return(0,de.P1)(YH(),r_e(),((e,{isControlsVisible:t})=>t),((e,t,n)=>{if(!t)return{isToastVisible:!1};const{positionSeconds:i,durationSeconds:s}=e,r=s-i,a=t.type===Ho.CLIP&&t.subtype===zo.MUSIC_VIDEO;return{isToastVisible:!n&&a&&(1===i||5===r),metadataItemEntityID:t.metadataItem}}))}),(function(e,t){return{}}))(c0e),u0e="SubtitlesOffsetSettings-button-ajUFhx Button-button-31pe5T Link-link-3v-v0b";class p0e extends y.Component{constructor(){super(...arguments),this.onDecreasePress=()=>{const{offset:e,dispatchChangeSubtitleOffset:t}=this.props;t(e-50)},this.onIncreasePress=()=>{const{offset:e,dispatchChangeSubtitleOffset:t}=this.props;t(e+50)},this.onResetPress=()=>{const{dispatchChangeSubtitleOffset:e}=this.props;e(0)}}render(){const{offset:e,bottom:t,dispatchCloseSubtitlesOffset:n,onDimensionsChange:i}=this.props;return y.createElement(YYe,{className:"SubtitlesOffsetSettings-container-25LnnO AudioVideoStripeContainer-container-2TIa2Q",bottom:t,onDimensionsChange:i},y.createElement(AM.Z,{className:"SubtitlesOffsetSettings-closeButton-1k6WC- Link-link-3v-v0b",onPress:n},y.createElement(cc.Z,null)),y.createElement("div",{className:"SubtitlesOffsetSettings-title-2MCFQf"},(0,De.Z)("Subtitle Offset: {offset}",{offset:`${e} ms`})),y.createElement("div",{className:"SubtitlesOffsetSettings-buttonContainer-Z6cgLx"},y.createElement($h.Z,{className:u0e,kind:fo._8,size:vc.HC,onPress:this.onDecreasePress},"-",50," ms"),y.createElement($h.Z,{className:u0e,kind:fo._8,size:vc.HC,onPress:this.onIncreasePress},"+",50," ms"),y.createElement($h.Z,{className:u0e,kind:fo._8,size:vc.HC,onPress:this.onResetPress},(0,De.Z)("Reset"))))}}p0e.defaultProps={offset:0};const m0e=p0e,h0e=(0,f.$j)((function(){return(0,de.P1)(N_e(),(e=>e.selectedSubtitlesStream))}),(function(e,t){return{dispatchChangeSubtitleOffset(n){e((0,i_e.Kb)({playerType:t.playerType,subtitleOffset:n}))},dispatchCloseSubtitlesOffset(){e((0,i_e.PR)({playerType:t.playerType}))}}}))(m0e);var g0e=n(35406);function y0e(e){return e>2560?"8K":e>1100?"4K":e>576?"HD":""}function v0e(e,t){return e<=576||e>1100||!t||t<=2e3?"":t<=3e3?(0,De.Z)("Medium"):t<=4e3?(0,De.Z)("High"):t<=8e3||t<=1e4?"":t<=12e3?(0,De.Z)("Medium"):(0,De.Z)("High")}function f0e(e){const{availableQualities:t,transcodeServer:n,currentDecision:i,currentBandwidth:s,mediaItem:r,canPlayAdaptiveBitrate:a}=e;if(!r)return[];const o=[],{maxUploadBitrate:l}=n,{bitrate:c}=r,d=!l||c&&l>c,u=i&&i.canPlayOriginalQuality;return d&&u&&o.push(function(e){const t=M0e(b0e(e.width,e.height,e.bitrate));return{index:yae.Z.ORIGINAL,explicitQuality:!1,conversionDescriptionSummary:D0e([(0,De.Z)("Original"),E0e(t)]),conversionDescription:(0,De.Z)("Play Original Quality"),conversionDescriptionExtra:t}}(r)),a&&o.push(function(e,t){const n={index:yae.Z.CONVERT_AUTOMATICALLY,explicitQuality:!1,conversionDescription:(0,De.Z)("Convert Automatically")};if(e&&e.qualityIndex===yae.Z.CONVERT_AUTOMATICALLY&&t){const e=M0e({bitrate:(0,bs.Z)(t.bandwidth),resolution:t.resolution});n.conversionDescriptionSummary=(0,De.Z)("Auto (Now: {bitrateWithResolution})",{bitrateWithResolution:e}),n.conversionDescriptionExtra=(0,De.Z)("Now: {bitrateWithResolution}",{bitrateWithResolution:e})}else n.conversionDescriptionSummary=(0,De.Z)("Convert Automatically");return n}(i,s)),d&&!u&&o.push(function(e){const t=b0e(e.width,e.height,e.bitrate),n=S0e(t),i=n?(0,De.Z)("Convert to"):(0,De.Z)("Convert");return{index:yae.Z.ORIGINAL,explicitQuality:!1,conversionDescriptionSummary:(0,De.Z)("Convert (Maximum)"),conversionDescription:D0e([i,n,E0e((0,De.Z)("Maximum"))]),conversionDescriptionExtra:t.bitrate}}(r)),o.push(...t.map(I0e).reverse()),o}function I0e(e){const t=e.videoResolution.split("x"),n=b0e(t[0],t[1],e.bitrate),i=M0e(n),s=S0e(n);return{index:e.index,explicitQuality:!0,conversionDescriptionSummary:D0e([(0,De.Z)("Convert"),E0e(i)]),conversionDescription:D0e([(0,De.Z)("Convert to"),s]),conversionDescriptionExtra:n.bitrate}}function b0e(e,t,n){const i=function(e,t,n){if(!e&&!t)return{resolution:"",description:"",descriptionExtra:""};const i=(0,g0e.Z)(e,t);return{resolution:i+"p",description:y0e(i),descriptionExtra:v0e(i,n)}}(e,t,n);return{bitrate:(0,bs.Z)(n),resolution:i.resolution,resolutionDescription:i.description,resolutionDescriptionExtra:E0e(i.descriptionExtra)}}function M0e(e){const t=D0e([e.resolution,e.resolutionDescription]);return e.bitrate?D0e([e.bitrate,t],", "):t}function S0e(e){return D0e([e.resolution,e.resolutionDescription,e.resolutionDescriptionExtra])}function E0e(e){return e&&0!==e.length?"("+e+")":""}function D0e(e,t=" "){return e.filter((e=>e)).join(t)}var C0e=n(84616);class P0e extends y.Component{constructor(){super(...arguments),this.onPress=e=>{this.props.onQualitySelect(this.props.conversionQualityIndex)}}render(){const{conversionQualityIndex:e,conversionQuality:t,isSelected:n,isHidden:i}=this.props;return y.createElement(Ic.Z,{key:e,isSelected:n,isHidden:i,onPress:this.onPress},t.conversionDescription,t.conversionDescriptionExtra?y.createElement("span",{className:"AudioVideoQualityMenuItem-itemExtraDetail-1nnvTL","data-qa-id":"playbackBitrateQuality"},t.conversionDescriptionExtra):null)}}const w0e=P0e,T0e="toggleShowAll",Z0e={placement:"top-start"};class N0e extends y.Component{constructor(e,t){super(e,t),this.onToggleMenuPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=e=>{this.setState({isMenuOpen:!1})},this.onQualitySelect=e=>{e!==T0e?(this.setState({isMenuOpen:!1}),this.props.onQualityChange(e)):this.setState({showAll:!0,qualities:this._getQualityMenuValues(this.props.availableQualities,this.props.qualityIndex,!0)})};const n=!this._canToggleShowAll(e.availableQualities);this.state={isMenuOpen:!1,showAll:n,qualities:this._getQualityMenuValues(e.availableQualities,e.qualityIndex,n)},this._menuInputButtonID=(0,wf.Z)()}componentWillReceiveProps(e){const t=e.qualityIndex!==this.props.qualityIndex,n=e.availableQualities!==this.props.availableQualities;if(t||n){let t=this.state.showAll;!n||t||this._canToggleShowAll(e.availableQualities)||(t=!0),this.setState({showAll:t,qualities:this._getQualityMenuValues(e.availableQualities,e.qualityIndex,t)})}}_canToggleShowAll(e){const t=e.some((e=>!0===e.explicitQuality)),n=!!E().findWhere(e,{index:qP.Z.CONVERT_AUTOMATICALLY});return t&&n}_getQualityMenuValues(e,t,n){const i=e.filter((e=>n||!e.explicitQuality||e.index===t));return i.push({index:T0e,conversionDescription:(0,De.Z)("Show all")}),i}render(){const e=this.props.qualityIndex,t=this.state.qualities,n=t.find((t=>t.index===e));return y.createElement(G$.Z,{id:this._menuInputButtonID,"data-qa-id":"videoQuality",size:vc.M2,direction:this.state.isMenuOpen?yc.UP:yc.WV,onPress:this.onToggleMenuPress},n.conversionDescriptionSummary,y.createElement(mo.Z,{className:"AudioVideoQualityMenuInput-menu-eRQQf0 Menu-menu-2zqgoE",isOpen:this.state.isMenuOpen,target:this._menuInputButtonID,options:Z0e,onMenuClose:this.onMenuClose},t.map((t=>y.createElement(w0e,{key:t.index,conversionQualityIndex:t.index,conversionQuality:t,isSelected:t.index===e,isHidden:this.state.showAll&&t.index===T0e,onQualitySelect:this.onQualitySelect})))))}}const A0e=N0e,x0e=(0,f.$j)((function(){return(0,de.zB)({signalStrength:(0,de.P1)(qH(),(0,VM.Z)(),((e,t)=>{if(!e)return;const n=t.find((t=>t.uuid===e.activityUUID));return n?n.Context&&n.Context.signalStrength:void 0}))})}))((function(e){const{signalStrength:t}=e;return null==t?null:y.createElement(oKe,{label:(0,De.Z)("Antenna Signal Strength")},t,"%")})),L0e=function(e){const{offset:t,isDisabled:n,onPress:i}=e;return y.createElement(AM.Z,{isSelected:!n,isDisabled:n,onPress:i},t||0," ms ",y.createElement(ba.Z,{className:"SubtitlesOffsetSettingsValue-icon-hjSfpS"}))},O0e="VideoSettings-extendedTitle-3xln_X",j0e="more",k0e="upload";class R0e extends y.Component{constructor(e,t){super(e,t),this.onSubtitleStreamChange=e=>{e===j0e?this.onMoreSubtitlesPress():e===k0e?this.onUploadSubtitlesPress():this.props.onSubtitleStreamChange(e)},this.onMoreSubtitlesPress=()=>{this.setState({isSubtitlesModalOpen:!0})},this.onSubtitlesModalClose=()=>{this.setState({isSubtitlesModalOpen:!1})},this.onUploadSubtitlesPress=()=>{this.setState({isSubtitlesUploadModalOpen:!0})},this.onSubtitlesUploadModalClose=()=>{this.setState({isSubtitlesUploadModalOpen:!1})},this.state={isSubtitlesModalOpen:!1,isSubtitlesUploadModalOpen:!1}}render(){const{bottom:e,serverEntityID:t,metadataItemEntityID:n,playerType:i,availableQualities:s,audioDevices:r,audioStreams:a,selectedAudioStream:o,selectedAudioDevice:l,subtitlesStreams:c,selectedSubtitlesStream:d,selectedSubtitlesColor:u,selectedSubtitlesPosition:p,selectedSubtitlesSize:m,autoPlay:h,qualityIndex:g,canSetVideoQuality:v,canSetAudioStream:f,canSetSubtitleStream:I,canSetSubtitleColor:b,canSetSubtitlePosition:M,canSetSubtitleSize:S,canSetSubtitleOffset:E,canSetAutoPlay:D,canShowMoreSubtitlesAction:C,canShowUploadSubtitlesAction:P,canShowLiveTVSignalStrength:w,onQualityChange:T,onAudioDeviceChange:Z,onAudioStreamChange:N,onSubtitleColorChange:A,onSubtitlePositionChange:x,onSubtitleSizeChange:L,onAutoPlayChange:O,onSubtitleOffsetPress:j}=this.props,{isSubtitlesModalOpen:k,isSubtitlesUploadModalOpen:R}=this.state,z=I&&(C||P||c.length>1),U=z&&b,V=z&&M,B=z&&S,F=z&&E,H=v&&!!s.length&&null!=g&&s.findIndex((e=>e.index===g))>-1,_=!!d&&d.id!==WP.H&&!(0,C0e.Z)(d.codec),Q=B&&_,G=U&&_,Y=V&&_,W=F&&_&&!!d&&!!d.key;let K;return z&&(K=c.map((e=>{const n=y.createElement(y.Fragment,null,y.createElement(V0,{serverEntityID:t,type:"subtitles",stream:e}),e.title?y.createElement("span",{className:O0e},e.title):null);return{[e.id]:n}})),C&&K.push({[j0e]:(0,De.Z)("Search...")}),P&&K.push({[k0e]:(0,De.Z)("Upload...")})),y.createElement(y.Fragment,null,y.createElement(rKe,{bottom:e},H?y.createElement(oKe,{label:(0,De.Z)("Quality")},y.createElement(A0e,{qualityIndex:g,availableQualities:s,onQualityChange:T})):null,y.createElement(oKe,{label:(0,De.Z)("Audio Stream")},f&&a.length>1?y.createElement(sKe,{name:"audioStream",size:vc.M2,value:`${o.id}`,overrideSelectedValue:y.createElement(V0,{serverEntityID:t,type:"audio",stream:o}),values:a.map((e=>{const n=y.createElement(y.Fragment,null,y.createElement(V0,{serverEntityID:t,type:"audio",stream:e}),e.title?y.createElement("span",{className:O0e},e.title):null);return{[e.id]:n}})),onChange:N}):y.createElement(V0,{serverEntityID:t,type:"audio",stream:o})),r&&r.length>1?y.createElement(oKe,{label:(0,De.Z)("Audio Device")},y.createElement(sKe,{name:"audioDevice",size:vc.M2,value:l.name,values:r.map((e=>({[e.name]:bwe(e)}))),onChange:Z})):null,y.createElement(oKe,{label:(0,De.Z)("Subtitles")},z?y.createElement(sKe,{name:"subtitleStream",size:vc.M2,value:`${d.id}`,overrideSelectedValue:y.createElement(V0,{serverEntityID:t,type:"subtitles",stream:d}),values:K,onChange:this.onSubtitleStreamChange}):y.createElement(V0,{serverEntityID:t,type:"subtitles",stream:d})),U?y.createElement(oKe,{label:(0,De.Z)("Subtitle Color"),isDisabled:!G},y.createElement(sKe,{name:"subtitleColor",size:vc.M2,value:u,values:xPe.settings.map((e=>({[e.value]:e.title}))),onChange:A})):null,V?y.createElement(oKe,{label:(0,De.Z)("Subtitle Position"),isDisabled:!Y},y.createElement(sKe,{name:"subtitlePosition",size:vc.M2,value:p,values:OPe.settings.map((e=>({[e.value]:e.title}))),onChange:x})):null,B?y.createElement(oKe,{label:(0,De.Z)("Subtitle Size"),isDisabled:!Q},y.createElement(sKe,{name:"subtitleSize",size:vc.M2,value:m.toString(),values:kPe.settings.map((e=>({[e.value]:e.title}))),onChange:L})):null,F?y.createElement(oKe,{label:(0,De.Z)("Subtitles Offset"),isDisabled:!W},y.createElement(L0e,{offset:d.offset,isDisabled:!W,onPress:j})):null,D?y.createElement(oKe,{label:(0,De.Z)("Auto Play")},y.createElement(mee.Z,{name:"autoPlay",size:vc.HC,value:h,onChange:O})):null,w?y.createElement(x0e,{serverEntityID:t,playerType:i}):null),y.createElement(T1,{metadataItemEntityID:n,isOpen:k,onModalClose:this.onSubtitlesModalClose}),y.createElement(Y1,{metadataItemEntityID:n,isOpen:R,onModalClose:this.onSubtitlesUploadModalClose}))}}const z0e=R0e;var U0e=Object.prototype.hasOwnProperty,V0e=Object.getOwnPropertySymbols,B0e=Object.prototype.propertyIsEnumerable,F0e=Object.assign;const H0e={dispatchChangeQualityIndex:i_e.wv,dispatchChangeStream:i_e.mj,dispatchChangeSubtitleColor:i_e.EZ,dispatchChangeSubtitlePosition:i_e.Wj,dispatchChangeSubtitleSize:i_e.YA,dispatchSelectAudioDevice:tt.mb,dispatchSetAutoPlay:FP.Sp,dispatchTogglePlayerSubtitlesOffsetState:i_e.PR};class _0e extends y.Component{constructor(){super(...arguments),this.onQualityChange=e=>{const{playerType:t,dispatchChangeQualityIndex:n}=this.props;n({playerType:t,qualityIndex:parseInt(e,10)})},this.onAudioStreamChange=e=>{const{playerType:t,dispatchChangeStream:n}=this.props;n({playerType:t,streamTypeString:"audio",streamID:e})},this.onAudioDeviceChange=e=>{const{dispatchSelectAudioDevice:t}=this.props;t({deviceName:e})},this.onSubtitleStreamChange=e=>{const{playerType:t,dispatchChangeStream:n}=this.props;n({playerType:t,streamTypeString:"subtitles",streamID:e})},this.onSubtitleColorChange=e=>{const{playerType:t,dispatchChangeSubtitleColor:n}=this.props;n({playerType:t,subtitleColor:e})},this.onSubtitlePositionChange=e=>{const{playerType:t,dispatchChangeSubtitlePosition:n}=this.props;n({playerType:t,subtitlePosition:e})},this.onSubtitleSizeChange=e=>{const{playerType:t,dispatchChangeSubtitleSize:n}=this.props;n({playerType:t,subtitleSize:parseInt(e,10)})},this.onAutoPlayChange=e=>{const{playerType:t,dispatchSetAutoPlay:n}=this.props;n({playerType:t,autoPlay:e})},this.onSubtitleOffsetPress=()=>{const{playerType:e,dispatchTogglePlayerSubtitlesOffsetState:t}=this.props;t({playerType:e})}}render(){const e=this.props,{dispatchChangeQualityIndex:t,dispatchChangeStream:n,dispatchChangeSubtitleSize:i,dispatchSetAutoPlay:s}=e,r=((e,t)=>{var n={};for(var i in e)U0e.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&V0e)for(var i of V0e(e))t.indexOf(i)<0&&B0e.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchChangeQualityIndex","dispatchChangeStream","dispatchChangeSubtitleSize","dispatchSetAutoPlay"]);return y.createElement(z0e,F0e(F0e({},r),{onQualityChange:this.onQualityChange,onAudioDeviceChange:this.onAudioDeviceChange,onAudioStreamChange:this.onAudioStreamChange,onSubtitleStreamChange:this.onSubtitleStreamChange,onSubtitleColorChange:this.onSubtitleColorChange,onSubtitlePositionChange:this.onSubtitlePositionChange,onSubtitleSizeChange:this.onSubtitleSizeChange,onAutoPlayChange:this.onAutoPlayChange,onSubtitleOffsetPress:this.onSubtitleOffsetPress}))}}const Q0e=(0,f.$j)((function(){return(0,de.P1)(((e,{isWatchTogether:t})=>t),WH("controllable"),(0,de.P1)((0,de.zB)({availableQualities:WH("availableQualities"),transcodeServer:x_e(),currentDecision:a_e(),currentBandwidth:(0,de.P1)(J_e(["bandwidthTimeline","positionSeconds"]),a_e(),((e,t)=>{const n=e.bandwidthTimeline;if(!(t&&n&&n.bandwidths&&n.transcodeSessionID&&n.transcodeSessionID===t.transcodeSessionID))return null;const i=1e3*e.positionSeconds,s=n.bandwidths.filter((e=>parseInt(e.time,10)<=i));return 0===s.length?null:E().max(s,(e=>parseInt(e.time,10)))})),mediaItem:T_e(),canPlayAdaptiveBitrate:(0,de.P1)(AP,x_e(),qH(),((e,t,n)=>UPe()&&t.hasAdaptiveBitrate&&!e&&!n))}),f0e),N_e(),x_e(),WH("qualityIndex"),WH("serverEntityID"),Hwe(),X_e(),d_e(),(0,de.P1)(NP,X_e(),d_e(),((e,t,n)=>T0(t,n,e))),(0,de.P1)(NP,X_e(),d_e(),((e,t,n)=>Z0(t,n,e))),a_e(),ye.Z,$We,JWe,((e,t,n,i,s,r,a,o,l,c,d,u,p,m,h,g)=>{const y=o.protocols.includes(rT.K),v=!y&&(!(!p||!p.subtitlesUrl)||(0,tv.Z)()),f=i.selectedSubtitlesStream;return{serverEntityID:a,metadataItemEntityID:c?c.entityID:null,availableQualities:n,audioDevices:h,audioStreams:i.audioStreams,selectedAudioStream:i.selectedAudioStream,selectedAudioDevice:g,subtitlesStreams:i.subtitlesStreams,selectedSubtitlesStream:f,selectedSubtitlesColor:m.subtitleColor,selectedSubtitlesPosition:m.subtitlePosition,selectedSubtitlesSize:m.subtitleSize,autoPlay:m.autoPlay,canSetVideoQuality:t?!!t.quality:!!s.transcoderVideo&&!s.transcoderVideoRemuxOnly,canSetAudioStream:!t||!!t.audioStream,canSetSubtitleStream:!t||!!t.subtitleStream,canSetSubtitleColor:t?!!t.subtitleColor:v,canSetSubtitlePosition:t?!!t.subtitlePosition:v,canSetSubtitleSize:t?!!t.subtitleSize:!y&&!(!f||!f.id),canSetSubtitleOffset:t?!!t.subtitleOffset:v,canSetAutoPlay:t?!!t.autoPlay:!y&&!e,canShowMoreSubtitlesAction:d,canShowUploadSubtitlesAction:u,canShowLiveTVSignalStrength:y&&!l.isCloud,qualityIndex:r}}))}),H0e)(_0e),G0e=parseInt(ku.Z.watchTogetherLobbyPosterWidth,10),Y0e=parseInt(ku.Z.watchTogetherLobbyTitleHeight,10);function W0e(){return{isMeasured:!1,width:0,height:0}}const K0e=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),((e={})=>({type:e.type,subtype:e.subtype,posterUrl:e.thumb})))}))((function(e){const{serverEntityID:t,providerEntityID:n,type:i,subtype:s,posterUrl:r}=e,[a,o]=(0,y.useState)(null),[l,c]=(0,y.useState)(W0e);return(0,y.useEffect)((()=>{let e=null;if(l.isMeasured){const t=Math.min((0,qC.Cr)(G0e,i,s,YC.IN),l.height-Y0e);e={height:t,width:(0,qC.dz)(t,i,s,YC.IN)}}o(e)}),[l,i,s]),y.createElement(OC.Z,{className:"WatchTogetherLobbyMetadataPoster-container-BAiD8M",onMeasure:c},y.createElement("div",{className:"WatchTogetherLobbyMetadataPoster-title-DJf6X-"},(0,De.Z)("Watch Together")),null!=a?y.createElement("div",{style:a},y.createElement(KC.Z,{serverEntityID:t,providerEntityID:n,type:i,width:a.width,height:a.height,url:r})):null)})),q0e=function({adDisplayIndex:e,adDisplayTotal:t,className:n,isAdPlaying:i,isPresent:s,isReady:r,isWatching:a}){let o;return o=i?t>1?(0,De.Z)("Playing ad {index} of {total}",{index:e,total:t}):(0,De.Z)("Playing ad"):a?(0,De.Z)("Watching"):r?(0,De.Z)("Ready"):s?(0,De.Z)("Buffering..."):(0,De.Z)("Invited"),y.createElement("div",{className:n,title:o},o)},$0e=function({className:e,title:t}){return y.createElement("div",{className:e,title:t},t)},J0e=(0,y.memo)((function(e){const{serverEntityID:t,watchTogetherRoomEntityID:n,cellWidth:i}=e,s=(0,HC.Z)(e),r=(0,xE.Z)();return y.createElement(AM.Z,{className:"WatchTogetherInviteParticipantCell-container-3lrCfW",style:s.style,onPress:r.onOpen},y.createElement("span",{className:"WatchTogetherInviteParticipantCell-posterCardContainer-1DxKY0 WatchTogetherParticipantCell-posterCardContainer-3S0EFr WatchTogetherParticipantCell-card-CfUlxW TagPosterCard-card-3VDS7c MetadataPosterCardFace-poster-11uR3N TagPosterCard-isPerson-ojrvVy",style:{width:i,height:i}},y.createElement(Hf.Z,{className:"WatchTogetherInviteParticipantCell-icon-1JqTgn"})),y.createElement("div",{className:"WatchTogetherInviteParticipantCell-titleContainer-1GEBTB WatchTogetherParticipantCell-titleContainer-EchPgb"},y.createElement(RQ,{title:(0,De.Z)("Invite..."),component:$0e,isSecondary:!1})),y.createElement(Ad.Z,{serverEntityID:t,watchTogetherRoomEntityID:n,isOpen:r.isOpen,onModalClose:r.onClose}))})),X0e=(0,y.memo)((function(e){const{serverEntityID:t,providerEntityID:n,titleComponents:i,listType:s,cellWidth:r,thumb:a,title:o,adDisplayIndex:l,adDisplayTotal:c,isAdPlaying:d,isWatching:u,isPresent:p,isReady:m}=e,h=(0,HC.Z)(e);return y.createElement("div",{style:h.style},y.createElement("span",{className:"WatchTogetherParticipantCell-posterCardContainer-3S0EFr"},y.createElement(hJ,{className:"WatchTogetherParticipantCell-card-CfUlxW TagPosterCard-card-3VDS7c MetadataPosterCardFace-poster-11uR3N TagPosterCard-isPerson-ojrvVy",serverEntityID:t,providerEntityID:n,imageWidth:r,imageHeight:r,imageUrl:a,tagType:s})),y.createElement("div",{className:"WatchTogetherParticipantCell-titleContainer-EchPgb"},i.map(((e,t)=>y.createElement(RQ,{key:t,title:o,adDisplayIndex:l,adDisplayTotal:c,isAdPlaying:d,isWatching:u,isPresent:p,isReady:m,component:e,isSecondary:t>0})))))}));var e1e=Object.assign;const t1e={isInviteUser:!0};function n1e(e){const{className:t,serverEntityID:n,providerEntityID:i,watchTogetherRoomEntityID:s,users:r,shouldShowInviteUsers:a,listContext:o}=e,l=function(e){switch(e){case YC.IN:return[$0e,q0e];default:return[]}}(YC.IN),c="participant",d=a?[...r,t1e]:r;return y.createElement(ZQ,{className:t,hubIdentifier:"watchTogetherParticipants",title:(0,De.Z)("Participants"),size:d.length,listType:c,listContext:o,columnAdjustment:1,keyPropName:"userKey",items:d,layout:MH(c,null,o,1,l.length),cellRenderer:(u={serverEntityID:n,providerEntityID:i,watchTogetherRoomEntityID:s,titleComponents:l,listType:c},e=>{const t=e.isInviteUser?J0e:X0e;return y.createElement(t,e1e(e1e({},u),e))})});var u}n1e.defaultProps={className:"WatchTogetherParticipantsHubCell-hubCell-y8WNmR HubCell-hubCell-2uIdEm"};const i1e=n1e;var s1e=Object.assign;function r1e(e,t){var n,i;const s=(null==(n=e.title)?void 0:n.toLowerCase())||"",r=(null==(i=t.title)?void 0:i.toLowerCase())||"";return s&&!r?-1:!s&&r||s>r?1:s<r?-1:0}const a1e=(0,de.P1)(HU,_U,((e,t)=>t.find((t=>{var n;return t.id===(null==(n=e.session)?void 0:n.roomID)})))),o1e=(0,f.$j)((function(){return(0,de.P1)(WH("providerEntityID"),WH("serverEntityID"),(0,de.P1)(DJe,a1e,((e,t)=>{const n=t?t.users.filter((t=>!e.users.find((e=>e.id===t.id)))):[],i=e.users.map((t=>{const n=e.users.filter((e=>e.id===t.id)).length>1,i=t.title||(0,De.Z)("Unknown");return s1e(s1e({},t),{title:n||!t.title?`${i} (${t.deviceName})`:i})}));return n.concat(i).sort(r1e).map((e=>s1e(s1e({},e),{userKey:e.deviceIdentifier||e.id})))})),a1e,((e,t,n,i)=>({providerEntityID:e,serverEntityID:t,shouldShowInviteUsers:!!i,watchTogetherRoomEntityID:null==i?void 0:i.entityID,users:n})))}))(i1e),l1e=(0,f.$j)((function(){return(0,de.P1)(YH(),r_e(),((e,t)=>({serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:t.metadataItem})))}))((function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,playerType:s}=e;return y.createElement("div",{className:"WatchTogetherLobby-container-3XPFco"},y.createElement("div",{className:"WatchTogetherLobby-row-3MfDiX"},y.createElement("div",{className:"WatchTogetherLobby-poster-1fofrW"},y.createElement(K0e,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,playerType:s})),y.createElement(wN.Z,{className:"WatchTogetherLobby-details-oOGtdf",smoothScroll:!1,autoScroll:!0},y.createElement(KXe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,showStreams:!1}))),y.createElement(o1e,{className:"WatchTogetherLobby-hubCell-2bmvRx WatchTogetherParticipantsHubCell-hubCell-y8WNmR HubCell-hubCell-2uIdEm",playerType:s,listContext:YC.IN}))})),c1e=function(e){const{bottom:t,playerType:n,onDimensionsChange:i}=e;return y.createElement(YYe,{className:"WatchTogetherPlayerParticipants-container-J-JV5D AudioVideoStripeContainer-container-2TIa2Q",bottom:t,onDimensionsChange:i},y.createElement(o1e,{playerType:n,listContext:YC.r$}))};var d1e=n(99038);const u1e=function(e){const{serverEntityID:t,providerEntityID:n,notification:i,user:s,onRemoveToast:r}=e;return(0,y.useEffect)((()=>{const e=i.timestamp+3e3-Date.now(),t=()=>{r({uid:i.uid})};let n;return e>0?n=window.setTimeout(t,e):t(),()=>{n&&(n=window.clearTimeout(n))}}),[r,i]),y.createElement(y.Fragment,null,y.createElement("div",{className:"WatchTogetherRoomEventToastContent-posterCardContainer-2dCmjF"},y.createElement(hJ,{className:"WatchTogetherRoomEventToastContent-card-q8wQoU TagPosterCard-card-3VDS7c MetadataPosterCardFace-poster-11uR3N TagPosterCard-isPerson-ojrvVy",serverEntityID:t,providerEntityID:n,imageWidth:30,imageHeight:30,imageUrl:s.thumb,tagType:"participant"})),function(e,t){const n=t.title||(0,De.Z)("Unknown");let i;switch(e){case d1e.OR:i=(0,De.Z)("{openSpan}{username}{closeSpan} joined",{username:n});break;case d1e.In:i=(0,De.Z)("{openSpan}{username}{closeSpan} left",{username:n});break;case d1e.E7:i=(0,De.Z)("{openSpan}{username}{closeSpan} paused",{username:n});break;case d1e.gk:i=(0,De.Z)("{openSpan}{username}{closeSpan} resumed",{username:n});break;case d1e.tG:i=(0,De.Z)("{openSpan}{username}{closeSpan} seeked",{username:n})}return y.createElement(ax.Z,{message:i,tags:[{open:"openSpan",close:"closeSpan",component:"span",className:"WatchTogetherRoomEventToastContent-username-5UU2xd"}]})}(i.type,s))},p1e=(0,Ql.Z)(Ur.Z.slowSpeed),m1e={enter:{opacity:1,duration:p1e},exit:{opacity:0,duration:p1e}};function h1e(e){const{className:t,serverEntityID:n,providerEntityID:i,notifications:s,users:r,isControlsVisible:a,onRemoveToast:o}=e;return a?null:y.createElement("div",{className:"WatchTogetherRoomEventToasts-container-t3uoHd"},y.createElement(_l.M_,null,s.map((e=>y.createElement(_l.ww.div,{key:e.uid,initial:"exit",animate:"enter",exit:"exit",variants:m1e,className:t},y.createElement(u1e,{serverEntityID:n,providerEntityID:i,notification:e,user:r.find((t=>t.id===e.userID)),onRemoveToast:o}))))))}h1e.defaultProps={className:"WatchTogetherRoomEventToasts-toast-2WC-u5"};const g1e=h1e,y1e={onRemoveToast:yB.FV},v1e=(0,f.$j)((function(){return(0,de.P1)(DJe,WH("serverEntityID"),WH("providerEntityID"),((e,t,n)=>({notifications:e.notifications,providerEntityID:n,serverEntityID:t,users:e.users})))}),y1e)(g1e),f1e="AudioVideoFullPlayer-overlayButton-10b7vz Button-button-31pe5T Link-link-3v-v0b",I1e=parseInt(ku.Z.playerControlsHeight,10),b1e=parseInt(ku.Z.playerControlsNarrowHeight,10),M1e=parseInt(ku.Z.playerInfoBarHeight,10),S1e=parseInt(ku.Z.playerOverlayActionEdgeGutter,10);function E1e(e,t){return e.isRemotePlayer||e.isMusic||e.isSettingsVisible||e.isChaptersVisible||e.isSubtitlesOffsetSettingsVisible||e.isWatchTogetherParticipantsVisible||e.isPlayQueueVisible||e.isPostPlayVisible||e.isAlsoAiringVisible||e.isWatchTogetherLobbyVisible||t.isControlsMenuOpen||t.isCastMenuOpen||t.followMuteMenuOpenCount>0||t.disableInteractionTimer}function D1e({bottom:e,children:t}){return y.createElement("div",{className:"AudioVideoFullPlayer-content-3iBzmV",style:{bottom:e}},t)}class C1e extends y.Component{constructor(e,t){super(e,t),this.onInteraction=e=>{const{keyCode:t}=e;t!==Wl.LH&&t!==Wl.JH&&(E1e(this.props,this.state)||(this.state.hideControls&&this.setState({hideControls:!1}),this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3)))},this.onInteractionTimeout=()=>{this.setState((({hideControlsCount:e})=>({hideControls:!0,hideControlsCount:e+1}))),this._interactionTimeoutID&&(window.clearTimeout(this._interactionTimeoutID),this._interactionTimeoutID=null)},this.onMouseLeave=e=>{this.setState({disableInteractionTimer:!1},(()=>{E1e(this.props,this.state)||this.onInteractionTimeout()}))},this.onControlsMouseEnter=e=>{this.setState({disableInteractionTimer:!0})},this.onControlsMouseLeave=e=>{this.setState({disableInteractionTimer:!1})},this.onControlsMenuChange=e=>{this.setState({isControlsMenuOpen:e})},this.onCastMenuChange=e=>{this.setState({isCastMenuOpen:e})},this.onFollowMuteMenuChange=e=>{this.setState((t=>({followMuteMenuOpenCount:e?t.followMuteMenuOpenCount+1:t.followMuteMenuOpenCount-1})))},this.onAudioSettingsDimensionsChange=({scrollHeight:e})=>{this.setState({audioSettingsHeight:e})},this.state={hideControls:!1,hideControlsCount:0,isControlsMenuOpen:!1,isCastMenuOpen:!1,followMuteMenuOpenCount:0,disableInteractionTimer:!1}}componentDidMount(){document.addEventListener("keyup",this.onInteraction),document.addEventListener("mousemove",this.onInteraction),document.addEventListener("mousedown",this.onInteraction),document.addEventListener("touchstart",this.onInteraction),document.addEventListener("touchend",this.onInteraction),document.addEventListener("mouseleave",this.onMouseLeave),this._bodyCursorStyleAtMount=document.body.style.cursor,E1e(this.props,this.state)||this._startInteractionTimer()}componentWillReceiveProps(e){E1e(e,this.state)&&this.state.hideControls&&this.setState({hideControls:!1}),WGe(e.marker)!==WGe(this.props.marker)&&this.setState({hideControlsCount:0}),this.props.isFullscreen!==e.isFullscreen&&this.state.disableInteractionTimer&&this.setState({disableInteractionTimer:!1})}componentDidUpdate(e,t){E1e(e,t)&&!E1e(this.props,this.state)&&this._startInteractionTimer(),!E1e(e,t)&&E1e(this.props,this.state)&&this._stopInteractionTimer(),this.state.hideControls!==t.hideControls&&(document.body.style.cursor=this.state.hideControls?"none":this._bodyCursorStyleAtMount)}componentWillUnmount(){document.removeEventListener("keyup",this.onInteraction),document.removeEventListener("mousemove",this.onInteraction),document.removeEventListener("mousedown",this.onInteraction),document.removeEventListener("touchstart",this.onInteraction),document.removeEventListener("touchend",this.onInteraction),document.removeEventListener("mouseleave",this.onMouseLeave),document.body.style.cursor=this._bodyCursorStyleAtMount,this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}_startInteractionTimer(){this._stopInteractionTimer(),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3)}_stopInteractionTimer(){this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}render(){const{playerType:e,hasFullscreen:t,isRemotePlayer:n,isPlayQueueLoading:i,isMediaLoading:s,isPostPlayLoading:r,isBuffering:a,isFullscreen:o,isSettingsVisible:l,isChaptersVisible:c,isSubtitlesOffsetSettingsVisible:d,isWatchTogetherParticipantsVisible:u,isPlayQueueVisible:p,isAlsoAiringVisible:m,isLyricsVisible:h,isPostPlayVisible:g,isWatchTogetherLobbyVisible:v,isAdVisible:f,isVideo:I,isMusic:b,isNarrowLayout:M,currentSubType:S,hasLiveTVProtocol:E,hasGridFeature:D,hasMediaOverlays:C,isWatchTogether:P,seekStartMilliseconds:w,seekEndMilliseconds:T,bufferStartMilliseconds:Z,bufferEndMilliseconds:N,adPositionMilliseconds:A,adDurationMilliseconds:x,ad:L,marker:O,onEnterFullscreenPress:j,onExitFullscreenPress:k,onToggleFullscreen:R,onSeekBarInteractionStart:z,onSeekBarInteractionEnd:U}=this.props,{hideControls:V,hideControlsCount:B,audioSettingsHeight:F}=this.state,H=(i||r||I&&!f&&(s||a))&&!g&&!m&&!v,_=!i&&l&&!c&&!p&&!m,Q=_&&b,G=_&&I,Y=!i&&!l&&c&&!p&&!m,W=!i&&p&&!m&&!l&&!c,K=!i&&!p&&m&&!l&&!c,q=I&&!i&&!r&&!p&&!m&&!g&&!v,$=!(0,tv.Z)()&&q&&!f&&!s,J=v||(!f||p)&&(n||b||s||p||m||r||g),X=S===zo.NEWS,ee=M?b1e:I1e,te=!v&&(E||f||X)?ee+M1e:ee,ne=V?null:`translateY(${-te}px)`,ie=!(!L||!L.click),se=!(!L||!L.clicksThrough),re={bottom:`${te+S1e}px`,right:`${S1e}px`};return y.createElement(y.Fragment,null,C&&q&&!f?y.createElement(hYe,{playerType:e}):null,J?y.createElement(YJe,{playerType:e,isVideo:I,isMusic:b,allowBlur:b||p||m||g||v}):null,p||m||!H?null:y.createElement("div",{className:"AudioVideoFullPlayer-spinnerContainer-34eml_"},y.createElement(RC.Z,{size:vc.ln})),$?y.createElement(AYe,{playerType:e,heightOffset:V?0:te}):null,!q||f&&se?null:y.createElement(KWe,{playerType:e,isCursorHidden:V,onToggleFullscreen:R}),f&&ie&&!v?y.createElement($h.Z,{className:f1e,size:vc.ln,style:re,onPress:L.click},(0,De.Z)("Learn more")):null,q&&!f?y.createElement(_Ye,{marker:O,className:f1e,size:vc.ln,style:re,playerType:e,isHidden:V&&B>1,isHiddenPolite:V}):null,i?null:y.createElement("div",{className:we()("AudioVideoFullPlayer-topBar-2Inl38 AudioVideoFullPlayer-bar-3p25sH",V&&"AudioVideoFullPlayer-topBarHidden-SbJJ5o",I&&"AudioVideoFullPlayer-videoTopBar-LTn8L6",p&&"AudioVideoFullPlayer-playQueueTopBar-1OocNw"),onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},y.createElement(QWe,{playerType:e,isFullscreen:o,hasFullscreen:t,onCastMenuChange:this.onCastMenuChange,onEnterFullscreenPress:j,onExitFullscreenPress:k})),i||p||h||!b?null:y.createElement(D1e,{bottom:te},y.createElement(QJe,{playerType:e,bottom:Q?F:null})),!i&&!p&&h&&b?y.createElement(D1e,{bottom:te},y.createElement(dXe,{playerType:e})):null,Q?y.createElement(dKe,{playerType:e,bottom:te,onDimensionsChange:this.onAudioSettingsDimensionsChange}):null,G?y.createElement(Q0e,{bottom:te,playerType:e,isWatchTogether:P}):null,d?y.createElement(h0e,{bottom:te,playerType:e}):null,u?y.createElement(c1e,{bottom:te,playerType:e}):null,Y?y.createElement(iWe,{bottom:te,playerType:e}):null,W?y.createElement(D1e,{bottom:te},y.createElement(GXe,{playerType:e,isVideo:I,isMusic:b})):null,K?y.createElement(D1e,{bottom:te},y.createElement(DWe,{playerType:e,isVideo:I,isMusic:b,hasLiveTVProtocol:E,hasGridFeature:D})):null,i||!g||p||m?null:y.createElement(D1e,{bottom:te},y.createElement(r0e,{playerType:e})),!i&&v?y.createElement(D1e,{bottom:te},y.createElement(l1e,{playerType:e})):null,y.createElement(d0e,{isControlsVisible:!V,playerType:e}),P&&!v?y.createElement(v1e,{isControlsVisible:!V,playerType:e}):null,i?null:y.createElement("div",{className:we()("AudioVideoFullPlayer-bottomBar-2iVScg AudioVideoFullPlayer-bar-3p25sH",V&&"AudioVideoFullPlayer-bottomBarHidden-19uV_c"),style:{bottom:-te,height:te,WebkitTransform:ne,msTransform:ne,transform:ne},onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},y.createElement(zJe,{playerType:e,isVideo:I,isMusic:b,isAdVisible:f,isPostPlayVisible:g,isWatchTogetherLobbyVisible:v,currentSubType:S,isWatchTogether:P,hasLiveTVProtocol:E,seekStartMilliseconds:w,bufferStartMilliseconds:Z,bufferEndMilliseconds:N,seekEndMilliseconds:T,adPositionMilliseconds:A,adDurationMilliseconds:x,onFollowMuteMenuChange:this.onFollowMuteMenuChange,onControlsMenuChange:this.onControlsMenuChange,onSeekBarInteractionStart:z,onSeekBarInteractionEnd:U})))}}const P1e=C1e,w1e=function(e){const{className:t,children:n,isPlayQueueLoading:i}=e;return y.createElement("div",{className:we()(t,i&&"MiniPlayerContainer-playQueueIsLoading-1zdi-w")},i?y.createElement(RC.Z,null):n)};var T1e=Object.assign;const Z1e=function(e){return y.createElement(w1e,{isPlayQueueLoading:e.isPlayQueueLoading},y.createElement(zJe,T1e({},e)))};var N1e=Object.assign;var A1e=Object.assign;const x1e=(0,f.$j)((function(){return(0,de.P1)(((e,{isMiniPlayer:t})=>t),YH(),a_e(),r_e(),Hwe(),(0,de.P1)((0,sn.Z)((0,de.P1)((0,de.P1)(c_e(),(e=>{var t;return null!=(t=null==e?void 0:e.Marker)?t:[]})),(0,Ie.Z)(be.Z5),(0,Ie.Z)(be._t),((e,t,n)=>e.filter((e=>t&&e.type===o_e||n&&e.type===l_e)))),(e=>e)),WH("positionSeconds"),((e,t)=>{const n=1e3*t;return e.find((e=>e.startTimeOffset<=n&&e.endTimeOffset>n))})),(0,de.P1)(c_e(),_t.Z,he.Z,((e,t,n)=>{let i,s;if(e){const r=n[e.serverEntityID],a=t[e.providerEntityID];i=null==r?void 0:r.machineIdentifier,s=null==a?void 0:a.identifier}return{machineIdentifier:i,providerIdentifier:s}})),p_e(),((e,t,n,i,s,r,a,o)=>{var l;let c,d,u;if(i){const e=(0,Ho.getMetadataType)(i.type);c=e&&e.mediaType,d=i.subtype,u=i.vast}const p=c===$a.j0,m=c===$a.pX,{machineIdentifier:h,providerIdentifier:g}=a;return{marker:r,isMusic:p,isVideo:m,isPlayQueueLoading:t.isPlayQueueLoading,isMediaLoading:t.isMediaLoading,isPostPlayLoading:t.isPostPlayLoading,isBuffering:t.isBuffering,isWatchTogether:t.isWatchTogether,isSettingsVisible:t.isSettingsVisible,isChaptersVisible:t.isChaptersVisible,isSubtitlesOffsetSettingsVisible:t.isSubtitlesOffsetSettingsVisible,isWatchTogetherParticipantsVisible:t.isWatchTogetherParticipantsVisible,isPlayQueueVisible:t.isPlayQueueVisible,isAlsoAiringVisible:t.isAlsoAiringVisible,isLyricsVisible:t.isLyricsVisible,isPostPlayVisible:t.isPostPlayVisible,isWatchTogetherLobbyVisible:t.isWatchTogetherLobbyVisible,hasError:t.hasError,hasConflicts:t.hasConflicts,hasMediaOverlays:!!(null==(l=null==o?void 0:o.Overlay)?void 0:l.length),confirmLiveTVPlayback:t.confirmLiveTVPlayback,hasGridFeature:!!s&&s.features.some((e=>e.type===mS.HR)),hasLiveTVProtocol:!!s&&s.protocols.includes(rT.K),showBackgroundVideoPlayer:!(!u&&!n||e),currentMediaType:c,currentSubType:d,confirmPlaybackPayload:t.confirmPlaybackPayload,confirmOffsetPayload:t.confirmOffsetPayload,confirmNewsSunsetPayload:t.confirmNewsSunsetPayload,advertisingNoticePayload:t.advertisingNoticePayload,confirmRemoteToLocal:t.confirmRemoteToLocal,confirmLocalToRemote:t.confirmLocalToRemote,adState:t.adState,adPositionSeconds:t.adPositionSeconds,adDurationSeconds:t.adDurationSeconds,adDisplayIndex:t.adDisplayIndex,adDisplayTotal:t.adDisplayTotal,vast:u,bufferedRanges:t.bufferedRanges,machineIdentifier:h,providerIdentifier:g}}))}),(function(e,t){const{playerType:n}=t;return{onUpdateBufferedRanges(t){e(i_e.qo({playerType:n,bufferedRanges:t}))},onUpdateCurrentAd(t){e(it.Yd(A1e(A1e({},t),{playerType:n})))}}}))((function(e){return y.createElement(YGe,N1e(N1e({},e),{playerType:Se.Se,mediaComponent:e.isMusic?$_e:RGe,playerComponent:e.isMiniPlayer?Z1e:P1e}))}));x1e.propTypes=A1e(A1e({},x1e.propTypes),{isMiniPlayer:ls().bool,playerType:ls().string.isRequired});const L1e=x1e;var O1e=Object.prototype.hasOwnProperty,j1e=Object.getOwnPropertySymbols,k1e=Object.prototype.propertyIsEnumerable,R1e=Object.assign;const z1e={dispatchRestorePlayQueue:FP.dP,dispatchEndPlayback:it.Mh,dispatchUpdatePlayerError:i_e.IE};class U1e extends y.Component{constructor(){super(...arguments),this.onEnterFullscreen=()=>{(0,M.DB)("fullscreenManager").enter()},this.onExitFullscreen=()=>{(0,M.DB)("fullscreenManager").exit()},this.onToggleFullscreen=()=>{this.props.isFullscreen?this.onExitFullscreen():this.onEnterFullscreen()}}componentDidMount(){this._restorePlayQueue(),this.props.isServerlessPlayer&&this.props.dispatchEndPlayback({playerType:this.props.playerType})}componentWillUnmount(){this.props.isOpen&&this.props.dispatchEndPlayback({playerType:this.props.playerType,isForced:!0})}componentDidUpdate(e){const{dispatchEndPlayback:t,isFullscreen:n,isMiniPlayer:i,isOpen:s,isServerlessPlayer:r,playerType:a}=this.props;this._restorePlayQueue(),r&&!e.isServerlessPlayer&&t({playerType:a});const o=(0,M.DB)("fullscreenManager"),l=!s&&e.isOpen,c=i&&!e.isMiniPlayer;n&&(l||c)&&o.shouldExitOnPlayerClose&&this.onExitFullscreen()}componentDidCatch(e,t){D.Z.error(e),this.props.dispatchEndPlayback({playerType:this.props.playerType}),this.props.dispatchUpdatePlayerError({playerType:this.props.playerType,errorMessage:(0,De.Z)("There was an unexpected error during playback. Please visit our forums if you continue to experience problems.")})}_restorePlayQueue(){const{playerType:e,isOpen:t,restorePlayQueuePayload:n,dispatchRestorePlayQueue:i}=this.props;(0,I.LX)(Gve.Z.location.pathname,{path:Bz.Z.watchNow,exact:!0})||t||!n||e===(0,Se.f_)(n.playQueueType)&&i(n)}render(){const e=this.props,{component:t,isServerlessPlayer:n,restorePlayQueuePayload:i,dispatchRestorePlayQueue:s,dispatchEndPlayback:r,dispatchUpdatePlayerError:a}=e,o=((e,t)=>{var n={};for(var i in e)O1e.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&j1e)for(var i of j1e(e))t.indexOf(i)<0&&k1e.call(e,i)&&(n[i]=e[i]);return n})(e,["component","isServerlessPlayer","restorePlayQueuePayload","dispatchRestorePlayQueue","dispatchEndPlayback","dispatchUpdatePlayerError"]);return n?null:y.createElement(t,R1e(R1e({},o),{onEnterFullscreenPress:this.onEnterFullscreen,onExitFullscreenPress:this.onExitFullscreen,onToggleFullscreen:this.onToggleFullscreen}))}}const V1e=(0,f.$j)((function(){return(0,de.P1)(AP,(e=>e.isFullscreen),YH(),X_e(),Hwe(),(0,de.P1)((e=>e.user.id),(0,M.DB)("selectRestorePlayQueue"),_t.Z,he.Z,((e,t,n,i)=>{let s;t&&t[e]&&(s=t[e]);const r=s&&n[s.providerEntityID],a=s&&i[s.serverEntityID];if(s&&s.playQueueID&&a&&a.isConnected&&r&&r.isPopulated)return s})),((e,t,n,i,s,r)=>{const{confirmPlayerUpsellPayload:a,isOpen:o,openState:l}=n;return{confirmPlayerUpsellPayload:a,isOpen:o,isServerlessPlayer:o&&(!i||!s),isMiniPlayer:l===YP.y,isRemotePlayer:e,isFullscreen:t,hasFullscreen:(0,M.DB)("fullscreenManager").hasFullscreen,restorePlayQueuePayload:r}}))}),z1e)(U1e);var B1e=Object.assign;function F1e(e){return(0,de.P1)((0,_C.Z)(),tP.Z,eP.Z,Wa.Z,((t,n,i,s)=>e({server:n,provider:i,stableUser:s,metadataItem:t})))}const H1e=(0,f.$j)((function(){return(0,de.P1)(r_e(),F1e(KR.J5),F1e(KR.y7),F1e(KR.QF),((e,{isVideo:t})=>t),((e,t,n,i,s)=>e?{playQueueItemEntityID:e.entityID,showEditButton:t,showFavoriteButton:n,showMenuButton:!0,showShuffleButton:!0,showUnfavoriteButton:i,showVolume:s}:{}))}))(d$e);H1e.propTypes=B1e(B1e({},H1e.propTypes),{providerEntityID:ls().string.isRequired,metadataItemEntityID:ls().string.isRequired,serverEntityID:ls().string.isRequired,playerType:ls().string.isRequired});const _1e=H1e;var Q1e=Object.prototype.hasOwnProperty,G1e=Object.getOwnPropertySymbols,Y1e=Object.prototype.propertyIsEnumerable,W1e=Object.assign;const K1e=function(e){const{playerType:t,bufferStartMilliseconds:n,bufferEndMilliseconds:i,positionMilliseconds:s}=e,r=((e,t)=>{var n={};for(var i in e)Q1e.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&G1e)for(var i of G1e(e))t.indexOf(i)<0&&Y1e.call(e,i)&&(n[i]=e[i]);return n})(e,["playerType","bufferStartMilliseconds","bufferEndMilliseconds","positionMilliseconds"]);return y.createElement(pKe,null,y.createElement(hKe,null,y.createElement(T$e,{playerType:t,bufferStartMilliseconds:n,bufferEndMilliseconds:i,positionMilliseconds:s,showBuffer:!0}),y.createElement(fKe,W1e({component:_1e,playerType:t},r))))},q1e=(0,f.$j)((function(){return(0,de.P1)(YH(),r_e(),EC.Z,((e,t={},n)=>{const i=t.metadataItem,{serverEntityID:s,providerEntityID:r,type:a,Media:[o]}=n[i],l=a===Ho.CLIP,c=o&&o.Part&&o.Part[0],d=c&&c.key;return{serverEntityID:s,providerEntityID:r,imageUrl:l?null:d}}))}))(GJe),$1e=function(e){const{items:t,currentItem:n,size:i,firstIndex:s,renderSlide:r,width:a,height:o}=e;if(!t||!t.length)return null;const l=t.indexOf(n),c=E().range(Math.max(0,l-1),Math.min(i,l+1+1));return y.createElement("div",{className:"Carousel-magazine-1xPZBb"},c.map((e=>{const n=l===e,i=e+s,c=t[e],d={position:"absolute",width:a,height:o,transform:`translate3d(${(e-l)*a}px, 0, 0)`};return y.createElement("div",{key:i,className:n?"Carousel-currentSlide-3rGyNj Carousel-slide-2icJhk":"Carousel-slide-2icJhk",style:d},c?r(c):null)})))},J1e={width:"100%",height:"100%"};class X1e extends y.Component{constructor(){super(),this.onLoad=()=>{this.setState({loading:!1})},this.onError=()=>{this.setState({error:!0})},this.state={loading:!0,error:!1}}render(){const{serverEntityID:e,providerEntityID:t,url:n,maxWidth:i,maxHeight:s}=this.props,{width:r,height:a}=function(e,t,n=2073600){const i=e*t,s=n/Math.pow((0,tIe.Z)(),2),r=Math.sqrt(Math.max(i/s,1));return{width:Math.round(e/r),height:Math.round(t/r)}}(i,s),{loading:o,error:l}=this.state;return y.createElement("div",{className:"SlideImg-slideContainer-bYujk0"},y.createElement("div",{className:"SlideImg-statusContainer-2e76Ga fadeIn-fadeIn-1nUxg7"},o&&!l?y.createElement(RC.Z,null):null,l?y.createElement("div",null,(0,De.Z)("Unable to load photo")):null),y.createElement(ft.Z,{key:n,serverEntityID:e,providerEntityID:t,url:n,width:r,height:a,containerStyle:J1e,backgroundSize:"contain",component:mt.Z,onLoad:this.onLoad,onError:this.onError}))}}const e4e=X1e;var t4e=Object.assign;const n4e=(0,f.$j)((function(){return(0,de.P1)((0,_C.Z)(),(0,de.P1)((0,_C.Z)(),(e=>{if(!e||!e.Media)return{};const{type:t,thumb:n,Media:[i]}=e,s="clip"===t,r=i&&i.Part&&i.Part[0],a=r&&r.key;return s||!a?n:a})),((e,t)=>{if(!t||!Object.keys(t).length)return{isLoading:!0};const{serverEntityID:n,providerEntityID:i}=e;return{serverEntityID:n,providerEntityID:i,isLoading:!1,url:t}}))}))((function(e){return e.isLoading?y.createElement(RC.Z,null):y.createElement(e4e,t4e({},e))}));var i4e=Object.assign;const s4e=(0,f.$j)((function(){return(0,de.P1)(mXe(),(e=>({playQueueItem:e})))}))((function(e){const{playQueueItem:t}=e;return t&&t.type===Ho.PHOTO?y.createElement(n4e,i4e({metadataItemEntityID:t.metadataItem},e)):null}));class r4e extends y.Component{constructor(){super(...arguments),this.renderSlide=e=>{const{playQueueItemEntityID:t,width:n,height:i}=this.props,s=t===e;return y.createElement(s4e,{playQueueItemEntityID:e,isCurrent:s,maxWidth:n,maxHeight:i})}}render(){const{playQueueItemEntityIDs:e,playQueueItemEntityID:t,size:n,firstIndex:i,errorMessage:s,width:r,height:a}=this.props;return y.createElement("div",{className:"PhotoCarousel-carousel-1STv6F"},s?y.createElement("div",{className:"PhotoCarousel-message-2JefCi"},y.createElement("span",null,s)):null,r&&a&&e&&!s?y.createElement($1e,{items:e,currentItem:t,size:n,firstIndex:i,width:r,height:a,renderSlide:this.renderSlide}):null)}}const a4e=r4e;function o4e(e){const{hideOverlays:t,canSkipPrevious:n,canSkipNext:i,hasFullscreen:s,isFullscreen:r,isPhoto:a,onPlayNextItem:o,onPlayPreviousItem:l,onCastMenuChange:c,onEnterFullscreenPress:d,onExitFullscreenPress:u,onToggleFullscreen:p}=e;return y.createElement("div",{className:t?"PhotoFullPlayerOverlays-hideOverlays-2cCDRv":void 0},a?null:y.createElement(KWe,{className:"PhotoFullPlayerOverlays-playButton-4xtBvb",playerType:Se.pV,isFullscreen:r,onEnterFullscreenPress:d,onExitFullscreenPress:u,onToggleFullscreen:p}),y.createElement("div",{className:"PhotoFullPlayerOverlays-topBar-2x6xvw"},y.createElement(QWe,{playerType:Se.pV,isFullscreen:r,hasFullscreen:s,onCastMenuChange:c,onEnterFullscreenPress:d,onExitFullscreenPress:u})),y.createElement(GC.Z,{className:"PhotoFullPlayerOverlays-leftButton-sfaS-J PhotoFullPlayerOverlays-button-1tQEMn",iconComponent:pp,title:(0,De.Z)("Previous Photo"),isDisabled:!n,onPress:l}),y.createElement(GC.Z,{className:"PhotoFullPlayerOverlays-rightButton-1mzPsq PhotoFullPlayerOverlays-button-1tQEMn",iconComponent:dp,title:(0,De.Z)("Next Photo"),isDisabled:!i,onPress:o}))}o4e.defaultProps={hideOverlays:!1};const l4e=o4e,c4e="ui/player/photoPlayer/fetchRelatedPhotos",d4e=(0,No.Z)(c4e),u4e=(0,HS.Z)({[c4e](e){const t=(0,JP.F_)(e,"photo"),n=t.get("playQueue").get("currentIndex"),i=(0,JP.bG)(t,n).get("metadataItem"),s=i.get("key"),r=C.Z.join([s.replace("/library/","/hubs/"),"related"]),a=new tK.Z([],{server:i.server,provider:i.provider,metadataItem:i,hubKey:r,hubCount:8});t.set({relatedHubs:a}),i.get("isLibraryItem")&&a.fetch()}});function p4e(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-camera-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m0 116.61c0-15.307 12.07-27.717 26.949-27.717h95.55l64.35-81.71c3.123-3.965 9.675-7.18 14.634-7.18h157.04c4.959 0 11.512 3.216 14.634 7.18l64.35 81.71h95.55c14.884 0 26.949 12.412 26.949 27.717v335.68c0 15.307-12.06 27.717-26.945 27.717h-506.11c-14.881 0-26.945-12.413-26.945-27.717v-335.68m142.82 11.393h-102.82v36 276h480v-276-36h-102.81l-69.69-87.998h-135.16l-69.25 87.43-.261.566",transform:"translate(0 40)"}].concat([])),y.createElement.apply(y,["path",{d:"m280 385.2c66.27 0 120-53.726 120-120 0-66.27-53.726-120-120-120-66.27 0-120 53.726-120 120 0 66.27 53.726 120 120 120m-80-120c0-44.18 35.817-80 80-80 44.18 0 80 35.817 80 80 0 44.18-35.817 80-80 80-44.18 0-80-35.817-80-80",transform:"translate(0 40)"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}p4e.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const m4e=p4e;function h4e(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-tag-auto-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"m287.75.983c-28.03 2.775-53.66 11.968-70.36 28.646-.014.014-201.52 201.63-201.52 201.63-19.19 19.2-19.18 50.3-.007 69.48l145.92 145.99c14.328 14.336 35.21 17.958 52.735 11.06l-170.85-170.94c-20.817-20.828.024-41.68.024-41.68 27.762-27.819 244.06-244.19 244.06-244.19",transform:"translate(1 50)"}].concat([])),y.createElement.apply(y,["path",{d:"m559.45 149.47l-.27-83.68c.237-16.899-5.994-33.8-18.799-46.612-12.806-12.813-29.697-19.05-46.48-18.7l-81.41-.293c-38.15-1.625-75.78 7.347-97.84 29.371-.014.014-201.52 201.63-201.52 201.63-19.19 19.2-19.18 50.3-.007 69.48l145.92 145.99c19.233 19.243 50.27 19.18 69.45-.007l201.48-201.59c21.605-21.658 30.65-58.23 29.482-95.6m-63.51-117.95c8.434-.788 17.14 2.048 23.599 8.509 6.438 6.441 9.275 15.12 8.511 23.534l-.136 109.96c-.777 20.799-8.03 39.93-22.269 54.18-.707.707-1.426 1.398-2.157 2.071-.424.482-.866.954-1.326 1.414l-187.55 187.65c-11.515 11.522-30.19 11.519-41.627.074l-132.12-132.19c-11.475-11.481-11.506-30.06.074-41.649l187.55-187.65c.458-.459.928-.899 1.408-1.321.674-.733 1.366-1.455 2.075-2.164 15.795-15.803 37.594-23 61.13-22.19l102.84-.222",transform:"translate(1 50)"}].concat([])),y.createElement.apply(y,["path",{d:"m435.92 172.81c-27.13 0-49.12-22-49.12-49.15 0-27.14 21.993-49.15 49.12-49.15 27.13 0 49.12 22 49.12 49.15 0 27.14-21.993 49.15-49.12 49.15",transform:"translate(1 50)"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}h4e.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const g4e=h4e,y4e=function(e){return y.createElement(ft.Z,{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,url:e.url,width:110,height:110,component:mt.Z})},v4e=function(e){const{serverEntityID:t,providerEntityID:n,summary:i,totalSize:s,url:r,icon:a,onPress:o}=e;return y.createElement("div",{className:"PhotoHub-hub-1pAYOM","data-qa-id":"relatedPhotoItem"},y.createElement(AM.Z,{onPress:o},y.createElement("div",{className:"PhotoHub-container-mlhS86"},y.createElement("div",{className:"PhotoHub-overlay-1UhpOf"},y.createElement("div",{className:"PhotoHub-title-3O4mM8","data-qa-id":"relatedPhotoName"},i),y.createElement("div",{className:"PhotoHub-count-4-UpA-","data-qa-id":"relatedPhotoCount"},a?y.createElement(ft.Z,{className:"PhotoHub-icon-26e56A",serverEntityID:t,providerEntityID:n,url:a,width:14,height:14}):y.createElement(g4e,null),y.createElement("span",null," ",s))),y.createElement("div",{className:"PhotoHub-body-NI6ETL"},y.createElement(y4e,{serverEntityID:t,url:r})))))};var f4e=Object.assign;class I4e extends y.Component{constructor(){super(...arguments),this.onPress=()=>{window.location.href=this.props.hubLink,this.props.endPlayback({playerType:Se.pV})}}render(){return y.createElement(v4e,f4e({onPress:this.onPress},this.props))}}const b4e=(0,f.$j)((function(){return(0,de.P1)(((e,{librarySectionKey:t})=>t),(0,HM.Z)(),(0,UM.Z)(),CC(),UF(),((e,t,n,i,s)=>({hubLink:(0,yQ.Z)(t,n,{key:s.key,title:s.title}),summary:s.summary,totalSize:s.totalSize,url:s.thumb,icon:s.icon})))}),{endPlayback:it.Mh})(I4e),M4e=function(e){const{serverEntityID:t,providerEntityID:n,librarySectionKey:i,hubEntityIDs:s}=e;return s&&s.length?y.createElement("div",{className:"PhotoHubList-container-a_W61T","data-qa-id":"relatedPhotosContainer"},y.createElement("div",{className:"PhotoHubList-title-nSrgt2"},(0,De.Z)("Related Photos")),y.createElement("div",{className:"PhotoHubList-list-FdxNWX"},s.map((e=>y.createElement(b4e,{key:e,serverEntityID:t,providerEntityID:n,librarySectionKey:i,hubEntityID:e}))))):y.createElement("div",null)};var S4e=Object.assign;const E4e=function(e){const{className:t,latitude:n,longitude:i}=e,[s,r]=(0,y.useState)(!0),[a,o]=(0,y.useState)(!1),l=(0,y.useCallback)((()=>r(!1)),[]),c=(0,y.useCallback)((()=>o(!0)),[]),d=`https://www.google.com/maps/search/?api=1&query=${n},${i}`,u={key:"59a999cb8f28fb0a54eb",center:`${n},${i}`,markers:`size:small|color:orange|{${n},${i}`},p=(0,tIe.Z)();return y.createElement("div",{className:t},y.createElement(OC.Z,{className:"PhotoMap-map-3LreyH"},(({width:e,height:t})=>y.createElement(y.Fragment,null,y.createElement("div",{className:"PhotoMap-underlay-OqcVJY"},s?y.createElement(RC.Z,null):null,a?y.createElement("span",{className:"PhotoMap-error-34r8Cw"},(0,De.Z)("Unable to load map.")):null),y.createElement(AM.Z,{to:d,target:"_blank","aria-label":(0,De.Z)("Open map in new window")},y.createElement(HQe.Z,{width:e,height:t,src:C.Z.join("https://maps.locationiq.com/v2/staticmap",S4e(S4e({},u),{size:`${e*p}x${t*p}`})),component:mt.Z,onLoad:l,onError:c}))))))},D4e="PhotoInformation-line-2TbGmY",C4e=function(e){const{className:t,serverEntityID:n,providerEntityID:i,librarySectionKey:s,hubEntityIDs:r,type:a,model:o,width:l,height:c,container:d,iso:u,aperture:p,exposure:m,size:h,hasGeolocation:g,latitude:v,longitude:f}=e;return y.createElement("div",{className:we()(t,"PhotoInformation-photoInformation-34DQBU")},y.createElement(wN.Z,{className:"PhotoInformation-scroller-17U82y Scroller-vertical-1tg_Qg",autoScroll:!0},y.createElement("div",{className:"PhotoInformation-exif-NI0DLA"},y.createElement("div",{className:D4e},o?y.createElement("div",null,o):y.createElement("div",null,"clip"===a?(0,De.Z)("Video"):(0,De.Z)("Photo")),y.createElement(m4e,null)),y.createElement("div",{className:D4e},l&&c?y.createElement("div",null,l," × ",c):null,h?y.createElement("div",null,(0,fie.Z)(h)):null,d?y.createElement("div",{className:"PhotoInformation-format-29hexN"},d):null),u?y.createElement("div",{className:D4e},y.createElement("div",null,(0,De.Z)("ISO")," ",u),y.createElement("div",null,p),y.createElement("div",null,m)):null),y.createElement(M4e,{serverEntityID:n,providerEntityID:i,librarySectionKey:s,hubEntityIDs:r})),g?y.createElement(E4e,{className:"PhotoInformation-map-2cbO9p",latitude:v,longitude:f}):null)};var P4e=Object.prototype.hasOwnProperty,w4e=Object.getOwnPropertySymbols,T4e=Object.prototype.propertyIsEnumerable,Z4e=Object.assign;const N4e={dispatchFetchRelatedPhotos:d4e};class A4e extends y.Component{componentDidMount(){this.props.dispatchFetchRelatedPhotos()}componentDidUpdate(e){e.metadataItemEntityID!==this.props.metadataItemEntityID&&this.props.dispatchFetchRelatedPhotos()}render(){const e=this.props,{dispatchFetchRelatedPhotos:t}=e,n=((e,t)=>{var n={};for(var i in e)P4e.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&w4e)for(var i of w4e(e))t.indexOf(i)<0&&T4e.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchFetchRelatedPhotos"]);return y.createElement(C4e,Z4e({},n))}}const x4e=(0,f.$j)((function(){return(0,de.P1)(YH(),d_e(),((e,t)=>{const{Media:n=[],Geolocation:i={},type:s}=t,r=i.Coordinates,a={serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,librarySectionKey:t.librarySectionKey,metadataItemEntityID:t.entityID,hubEntityIDs:e.relatedHubs||[],type:s,hasGeolocation:!!r};if(r&&(a.latitude=parseFloat(r.latitude),a.longitude=parseFloat(r.longitude)),n.length){const e=n[0],t=e.Part;a.size=t&&t[0].size,a.aperture=e.aperture,a.exposure=e.exposure,a.iso=e.iso,a.model=e.model,a.width=e.width,a.height=e.height,a.container=e.container}return a}))}),N4e)(A4e),L4e={width:"100%",height:"100%",top:0,position:"absolute",zIndex:0};class O4e extends y.Component{constructor(){super(...arguments),this.onPlayPress=()=>{this.props.onPlayPress&&this.props.onPlayPress(this.props.index)}}render(){const{className:e,serverEntityID:t,providerEntityID:n,url:i,dimension:s,onPlayPress:r}=this.props;return i?y.createElement(AM.Z,{className:e,isDisabled:!r,onPress:this.onPlayPress},y.createElement(ft.Z,{serverEntityID:t,providerEntityID:n,url:i,width:s,height:s,style:L4e,component:mt.Z})):null}}const j4e=O4e,k4e=(0,f.$j)((function(){return(0,de.P1)((0,de.P1)((0,_C.Z)(),(e=>{if(!e)return{};const{serverEntityID:t,providerEntityID:n,entityID:i,type:s,thumb:r}=e;return{serverEntityID:t,providerEntityID:n,entityID:i,url:r,isVideo:"clip"===s}})),(({serverEntityID:e,providerEntityID:t,url:n})=>({serverEntityID:e,providerEntityID:t,url:n})))}))(j4e),R4e=(0,f.$j)((function(){return(0,de.P1)(mXe(),(e=>({metadataItemEntityID:e.metadataItem})))}))(k4e);class z4e extends y.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e,height:t})=>{this.setState({isMeasured:!0,width:e,height:t})},this.state={isMeasured:!1,width:null,height:null}}render(){const{className:e,playQueueItemEntityIDs:t,playQueueItemEntityID:n,firstIndex:i,size:s,onPhotoPress:r}=this.props,{isMeasured:a,width:o,height:l}=this.state,c=t.indexOf(n)+i;let d=[],u=[],p=0;if(a){p=Math.ceil(l);const e=Math.ceil(o/p),t=function({index:e,length:t,renderableWindow:n=t,cellPadding:i=0,cellWidth:s,width:r}){const a=t*s+(t-1)*i;let o=e*(s+i)-(r/2-s/2);a>r&&(o=Math.min(Math.max(o,0),a-r));const l=[],c=Math.max(0,e-n),d=Math.min(t-1,e+n);for(let e=c;e<=d;e++)l[e]=e*(s+i)-o;return{renderStartIndex:c,renderEndIndex:d,positions:l}}({index:c,renderableWindow:e,length:s,cellPadding:2,cellWidth:p,width:o});u=E().range(t.renderStartIndex,t.renderEndIndex+1),d=t.positions}return y.createElement("div",{className:we()(e,"PhotoStrip-strip-3zu8Nq"),"data-qa-id":"photoStripContainer"},y.createElement(OC.Z,{className:"PhotoStrip-thumbs-1UW4dY",onMeasure:this.onMeasure},a?u.map((e=>{const n=d[e],s=c===e,a=t[e-i],o={position:"absolute",width:p,height:p,transform:`translate3d(${n}px, 0, 0)`};return y.createElement("div",{key:e,className:"PhotoStrip-cell-21GDlB",style:o},y.createElement("div",{className:we()("PhotoStrip-thumbContainer-1pkpNn",s&&"PhotoStrip-isSelected-1v0FNB"),"data-qa-id":"photoStripItem"},a?y.createElement(R4e,{className:"PhotoStrip-thumb-SJ5E5A",playQueueItemEntityID:a,dimension:p-4,index:e-i,onPlayPress:r}):null))})):null))}}const U4e=z4e,V4e=parseInt(ku.Z.playerControlsHeight,10),B4e=parseInt(ku.Z.playerControlsNarrowHeight,10);class F4e extends y.Component{constructor(e,t){super(e,t),this.onPhotoStripTogglePress=e=>{this.setState({isPhotoStripOpen:!this.state.isPhotoStripOpen})},this.onPhotoInformationTogglePress=e=>{this.setState({isInformationOpen:!this.state.isInformationOpen})},this.onInteraction=e=>{this.setState({hadRecentInteraction:!0}),this._startInteractionTimer()},this.onInteractionTimeout=()=>{this.setState({hadRecentInteraction:!1}),this._stopInteractionTimer()},this.onContentMeasure=e=>{this.props.onPlaybackDimensionsChange(e)},this.onControlsMenuChange=e=>{this.setState({isControlsMenuOpen:e})},this.onCastMenuChange=e=>{this.setState({isCastMenuOpen:e})},this.onControlsMouseEnter=e=>{this.setState({disableInteractionTimer:!0})},this.onControlsMouseLeave=e=>{this.setState({disableInteractionTimer:!1})},this.state={disableInteractionTimer:!1,isPhotoStripOpen:!1,isInformationOpen:!1,isControlsMenuOpen:!1,isCastMenuOpen:!1,hadRecentInteraction:!1}}componentDidMount(){this._startInteractionTimer()}componentDidUpdate(e,t){const{disableInteractionTimer:n}=this.state,{disableInteractionTimer:i}=t,s=!i&&n;i&&!n?this._startInteractionTimer():s&&this._stopInteractionTimer()}componentWillUnmount(){this._stopInteractionTimer()}_startInteractionTimer(){this.state.disableInteractionTimer||(this._stopInteractionTimer(),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3))}_stopInteractionTimer(){this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}render(){const{isPhotoStripOpen:e,isInformationOpen:t,hadRecentInteraction:n}=this.state,{playQueueItemEntityIDs:i,playQueueItemEntityID:s,isPlayQueueLoading:r,isVideo:a,isPhoto:o,size:l,firstIndex:c,width:d,height:u,canSkipPrevious:p,canSkipNext:m,errorMessage:h,positionMilliseconds:g,bufferStartMilliseconds:v,bufferEndMilliseconds:f,hasFullscreen:I,isFullscreen:b,isMediaLoading:M,isBuffering:S,isNarrowLayout:E,playerType:D,onExitFullscreenPress:C,onEnterFullscreenPress:P,onToggleFullscreen:w,onPlayNextItem:T,onPlayPreviousItem:Z,onPlayItem:N}=this.props,{isControlsMenuOpen:A,isCastMenuOpen:x}=this.state,L=e||t,O=!(L||n||A||x),j=!n&&!x,k=L,R=!o&&(M||S),z=E?B4e:V4e,U=O?null:`translateY(${-z}px)`;return y.createElement("div",{"data-qa-id":"photoPlayerContainer",className:we()("PhotoFullPlayer-fullPlayer-2eTGU_",O&&"PhotoFullPlayer-hideControls-2F2BWH",k&&"PhotoFullPlayer-dockControls-1_HPn-"),onMouseMove:this.onInteraction,onMouseDown:this.onInteraction,onTouchStart:this.onInteraction,onTouchEnd:this.onInteraction},o?y.createElement(q1e,{playerType:D,playQueueItemEntityID:s}):null,y.createElement("div",{className:"PhotoFullPlayer-player-2-a_IV"},y.createElement("div",{className:"PhotoFullPlayer-main-f3RfFs"},y.createElement(OC.Z,{className:"PhotoFullPlayer-content-vkTaYa",onMeasure:this.onContentMeasure},R?y.createElement("div",{className:"PhotoFullPlayer-spinner-3bU32L"},y.createElement(RC.Z,{size:vc.ln})):null,y.createElement(a4e,{playQueueItemEntityIDs:i,playQueueItemEntityID:s,firstIndex:c,size:l,errorMessage:h,width:d,height:u}),r?null:y.createElement(l4e,{hideOverlays:j,isPhoto:o,isFullscreen:b,hasFullscreen:I,canSkipNext:m,canSkipPrevious:p,onPlayNextItem:T,onPlayPreviousItem:Z,onCastMenuChange:this.onCastMenuChange,onEnterFullscreenPress:P,onExitFullscreenPress:C,onToggleFullscreen:w})),e?y.createElement(U4e,{className:"PhotoFullPlayer-mainFooter-38ghhx",playQueueItemEntityIDs:i,playQueueItemEntityID:s,firstIndex:c,size:l,onPhotoPress:N}):null),t?y.createElement(x4e,{className:"PhotoFullPlayer-aside-3hNVbR",playerType:D}):null),r?null:y.createElement("div",{className:"PhotoFullPlayer-bottomBar-22s1-H PhotoFullPlayer-bar-3i1tmh",style:{bottom:-z,height:z,WebkitTransform:U,msTransform:U,transform:U},onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},y.createElement(K1e,{playerType:D,isVideo:a,isPhoto:o,positionMilliseconds:g,bufferStartMilliseconds:v,bufferEndMilliseconds:f,activatePhotoInformationButton:t,activatePhotoStripButton:e,showPhotoInformationButton:!0,showPhotoStripButton:!0,onPhotoInformationPress:this.onPhotoInformationTogglePress,onPhotoStripPress:this.onPhotoStripTogglePress,onControlsMenuChange:this.onControlsMenuChange})))}}const H4e=F4e;var _4e=Object.assign;const Q4e=function(e){return y.createElement(w1e,{isPlayQueueLoading:e.isPlayQueueLoading},y.createElement(K1e,_4e({},e)))};var G4e=Object.assign;function Y4e(e){return!!e.playQueueItemEntityID&&!e.isPaused&&!e.isRemotePlayer&&e.isPhoto}class W4e extends y.Component{constructor(e,t){super(e,t),this.onSlideShowAdvance=()=>{this.props.onPlayNextItem({autoPlay:!0})},this.onPlaybackDimensionsChange=({width:e,height:t})=>{this.setState({mediaWidth:e,mediaHeight:t})},this.state={mediaHeight:0,mediaWidth:0}}componentDidMount(){Y4e(this.props)&&this._startSlideshow()}componentDidUpdate(e){const t=Y4e(e),n=Y4e(this.props),i=n!==t,s=this.props.playQueueItemEntityID!==e.playQueueItemEntityID;(i||s)&&(n?e.isPaused?this.props.onPlayNextItem({autoPlay:!0}):this._startSlideshow():this._stopSlideshow())}componentWillUnmount(){this._stopSlideshow(),this._playerTimer=window.clearTimeout(this._playerTimer)}_startSlideshow(){this._stopSlideshow(),this._slideshowTimer=window.setTimeout(this.onSlideShowAdvance,5e3)}_stopSlideshow(){this._slideshowTimer&&(this._slideshowTimer=window.clearTimeout(this._slideshowTimer))}render(){const{isMiniPlayer:e,isRemotePlayer:t}=this.props,{mediaWidth:n,mediaHeight:i}=this.state;return y.createElement(YGe,G4e(G4e({},this.props),{playerType:Se.pV,mediaWidth:n,mediaHeight:i,isRemotePlayer:t,isPostPlayVisible:!1,hasConflicts:!1,mediaComponent:RGe,playerComponent:e?Q4e:H4e,onPlaybackDimensionsChange:this.onPlaybackDimensionsChange}))}}const K4e=W4e;var q4e=Object.assign;const $4e=(0,f.$j)((function(){return(0,de.P1)(((e,{isMiniPlayer:t})=>t),YH(),a_e(),r_e(),((e,t,n,i)=>{const s={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,confirmPlaybackPayload:t.confirmPlaybackPayload,confirmNewsSunsetPayload:t.confirmNewsSunsetPayload,confirmOffsetPayload:t.confirmOffsetPayload,confirmRemoteToLocal:t.confirmRemoteToLocal,confirmLocalToRemote:t.confirmLocalToRemote,isPlayQueueLoading:t.isPlayQueueLoading,isMediaLoading:t.isMediaLoading,isPaused:t.isPaused,isBuffering:t.isBuffering,hasError:t.hasError,errorMessage:t.errorMessage,showBackgroundVideoPlayer:!!n&&!e},r=t.playQueue;if(r&&i){const e=r.currentIndex;s.playQueueItemEntityIDs=r.playQueueItems,s.playQueueItemEntityID=i.entityID,s.canSkipPrevious=e>0,s.canSkipNext=e<r.playQueueItems.length-1,s.size=r.length,s.firstIndex=r.playQueueSelectedItemOffset-e,s.currentMediaType=(0,Ho.getMetadataType)(i.type).mediaType,s.currentMediaSubtype=i.subtype}return s.isVideo=s.currentMediaType===$a.pX,s.isPhoto=s.currentMediaType===$a.pV,s}))}),(function(e,t){const{playerType:n}=t;return{onPlayPreviousItem(){e(FP.oA({playerType:n}))},onPlayNextItem(t={}){e(FP.o1({playerType:n,autoPlay:t.autoPlay}))},onPlayItem(t){e(FP.gP({playerType:n,index:t}))},onTogglePlayPause(){e(i_e.ID({playerType:n}))}}}))(K4e);$4e.propTypes=q4e(q4e({},$4e.propTypes),{playerType:ls().string.isRequired});const J4e=$4e;var X4e=n(49560),e2e=Object.assign;const t2e=function(e){return y.createElement(K_e,e2e(e2e({},e),{type:"rom"}))};var n2e=Object.assign;const i2e=function(e){return y.createElement(d$e,n2e(n2e({},e),{showRepeatButton:!1,showNextButton:!1,showPreviousButton:!1,showSettingsButton:!0}))};function s2e(e){const{isGame:t,isMiniPlayer:n,playerType:i,onControlsMenuChange:s}=e;return y.createElement(pKe,null,y.createElement(hKe,null,y.createElement(fKe,{component:i2e,playerType:i,isGame:t,isMiniPlayer:n,onControlsMenuChange:s})))}s2e.defaultProps={isMiniPlayer:!1};const r2e=s2e,a2e=(0,f.$j)((function(){return(0,de.P1)(WH("serverEntityID"),WH("startMetadataItemEntityID"),r_e(),EC.Z,((e,t,n={},i)=>{const s=i[t||n.metadataItem];let r;return s&&(r=s.grandparentArt||s.art),{serverEntityID:e,imageUrl:r}}))}))(GJe);var o2e=n(8824),l2e=n(63676);const c2e=/^[^()]+/,d2e=[!1,!1,!1,!1],u2e=function({bottom:e,gameInputDevices:t}){const n=(0,y.useRef)(d2e),[i,s]=(0,y.useState)(null);return(0,y.useEffect)((()=>{const e=(0,l2e.Z)(((e,i)=>{const r=t.findIndex((e=>e.type===X4e.MT.Keyboard));-1!==r&&(n.current[r]=i,s(Date.now()))})),i=(0,o2e.Z)(((e,i,r)=>{const a=t.findIndex((t=>t.index===e.index));-1!==a&&(n.current[a]=Array.from(i.changed).some((e=>i.values.get(e)))||Array.from(r.changed).some((e=>r.values.get(e))),s(e.timestamp))}));return n.current=[d2e],()=>{e(),i()}}),[t]),y.createElement(rKe,{bottom:e,title:(0,De.Z)("Gameplay Settings")},t.map(((e,i)=>{const{type:s}=e;let r;return r=s===X4e.MT.Gamepad?function(e,t){var n;const{id:i}=e,s=(null==(n=i.match(c2e))?void 0:n[0].trim())||i,r=t.filter((e=>e.id===i));return r.length>1?`${s} (${r.indexOf(e)+1})`:s}(e,t):s===X4e.MT.Keyboard?(0,De.Z)("Keyboard"):(0,De.Z)("None"),y.createElement(oKe,{key:i,className:n.current[i]?"RomSettings-rowPressed-1rhtyg RomSettings-row-3aslFN AudioVideoSettingsRow-row-17UbJZ":"RomSettings-row-3aslFN AudioVideoSettingsRow-row-17UbJZ",label:(0,De.Z)("Player {index}",{index:i+1})},r)})))},p2e=parseInt(ku.Z.playerControlsHeight,10),m2e=parseInt(ku.Z.playerControlsNarrowHeight,10);function h2e(e,t){return e.isSettingsVisible||t.isCastMenuOpen||t.disableInteractionTimer}class g2e extends y.Component{constructor(e,t){super(e,t),this.onInteraction=e=>{const{keyCode:t}=e;t!==Wl.LH&&t!==Wl.JH&&(t!==Wl.hY?h2e(this.props,this.state)||(this.state.hideControls&&this.setState({hideControls:!1}),this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3)):this.state.hideControls||this.onInteractionTimeout())},this.onInteractionTimeout=()=>{this.setState((({hideControlsCount:e})=>({hideControls:!0,hideControlsCount:e+1}))),this._interactionTimeoutID&&(window.clearTimeout(this._interactionTimeoutID),this._interactionTimeoutID=null)},this.onMouseLeave=e=>{this.setState({disableInteractionTimer:!1},(()=>{h2e(this.props,this.state)||this.onInteractionTimeout()}))},this.onControlsMouseEnter=e=>{this.setState({disableInteractionTimer:!0})},this.onControlsMouseLeave=e=>{this.setState({disableInteractionTimer:!1})},this.onControlsMenuChange=e=>{this.setState({isControlsMenuOpen:e})},this.onCastMenuChange=e=>{this.setState({isCastMenuOpen:e})},this.state={hideControls:!1,hideControlsCount:0,isControlsMenuOpen:!1,isCastMenuOpen:!1,disableInteractionTimer:!1}}componentDidMount(){document.addEventListener("keyup",this.onInteraction),document.addEventListener("mousemove",this.onInteraction),document.addEventListener("mousedown",this.onInteraction),document.addEventListener("touchstart",this.onInteraction),document.addEventListener("touchend",this.onInteraction),document.addEventListener("mouseleave",this.onMouseLeave),this._bodyCursorStyleAtMount=document.body.style.cursor,h2e(this.props,this.state)||this._startInteractionTimer()}componentWillReceiveProps(e){h2e(e,this.state)&&this.state.hideControls&&this.setState({hideControls:!1}),this.props.isFullscreen!==e.isFullscreen&&this.state.disableInteractionTimer&&this.setState({disableInteractionTimer:!1})}componentDidUpdate(e,t){h2e(e,t)&&!h2e(this.props,this.state)&&this._startInteractionTimer(),!h2e(e,t)&&h2e(this.props,this.state)&&this._stopInteractionTimer(),this.state.hideControls!==t.hideControls&&(document.body.style.cursor=this.state.hideControls?"none":this._bodyCursorStyleAtMount)}componentWillUnmount(){document.removeEventListener("keyup",this.onInteraction),document.removeEventListener("mousemove",this.onInteraction),document.removeEventListener("mousedown",this.onInteraction),document.removeEventListener("touchstart",this.onInteraction),document.removeEventListener("touchend",this.onInteraction),document.removeEventListener("mouseleave",this.onMouseLeave),document.body.style.cursor=this._bodyCursorStyleAtMount,this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}_startInteractionTimer(){this._stopInteractionTimer(),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3)}_stopInteractionTimer(){this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}render(){const{playerType:e,gameInputDevices:t,hasFullscreen:n,isGame:i,isPlayQueueLoading:s,isMediaLoading:r,isFullscreen:a,isNarrowLayout:o,isSettingsVisible:l,onEnterFullscreenPress:c,onExitFullscreenPress:d,onToggleFullscreen:u}=this.props,{hideControls:p}=this.state,m=s||r,h=s||r,g=o?m2e:p2e,v=p?null:`translateY(${-g}px)`;return y.createElement(y.Fragment,null,h?y.createElement(a2e,{playerType:e,allowBlur:!1}):null,m?y.createElement("div",{className:"RomFullPlayer-spinnerContainer-2P4n-6"},y.createElement(RC.Z,{size:vc.ln})):null,y.createElement(KWe,{playerType:e,isCursorHidden:p,onToggleFullscreen:u}),l?y.createElement(u2e,{gameInputDevices:t,playerType:e,bottom:g}):null,s?null:y.createElement("div",{className:we()("RomFullPlayer-topBar-2FDJXY RomFullPlayer-bar-1TUtAf",p&&"RomFullPlayer-topBarHidden-UHsD_d"),onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},y.createElement(QWe,{playerType:e,isFullscreen:a,hasFullscreen:n,onCastMenuChange:this.onCastMenuChange,onEnterFullscreenPress:c,onExitFullscreenPress:d})),s?null:y.createElement("div",{className:we()("RomFullPlayer-bottomBar-3h3vmy RomFullPlayer-bar-1TUtAf",p&&"RomFullPlayer-bottomBarHidden-1DJO4P"),style:{bottom:-g,height:g,WebkitTransform:v,msTransform:v,transform:v},onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},y.createElement(r2e,{isGame:i,playerType:e,onControlsMenuChange:this.onControlsMenuChange})))}}const y2e=g2e;var v2e=Object.assign;const f2e=function(e){return y.createElement(w1e,{isPlayQueueLoading:e.isPlayQueueLoading},y.createElement(r2e,v2e({},e)))};var I2e=Object.assign;const b2e={type:X4e.MT.Keyboard},M2e={type:X4e.MT.None},S2e=[b2e,M2e,M2e,M2e];var E2e=Object.prototype.hasOwnProperty,D2e=Object.getOwnPropertySymbols,C2e=Object.prototype.propertyIsEnumerable,P2e=Object.assign;const w2e=(0,f.$j)((function(){return(0,de.P1)(r_e(),(0,de.P1)(c_e(),(e=>{var t,n;return null==(n=null==(t=null==e?void 0:e.Platform)?void 0:t[0])?void 0:n.tag})),J_e(["isMediaLoading","isPlayQueueLoading","paused","url","confirmRemoteToLocal","confirmLocalToRemote","confirmOffsetPayload","hasError","hasConflicts","isPostPlayVisible","isSettingsVisible"]),((e,t,n)=>{var i;const{paused:s,isSettingsVisible:r}=n,a=((e,t)=>{var n={};for(var i in e)E2e.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&D2e)for(var i of D2e(e))t.indexOf(i)<0&&C2e.call(e,i)&&(n[i]=e[i]);return n})(n,["paused","isSettingsVisible"]);let o;return e&&(o=null==(i=(0,Ho.getMetadataType)(e.type))?void 0:i.mediaType),P2e(P2e({},a),{currentMediaType:o,gamePlatformTag:t,gamePreventDefault:s||r,isSettingsVisible:r,showBackgroundVideoPlayer:!1})}))}))((function(e){const[t,n]=(0,y.useState)(S2e);return(0,y.useEffect)((()=>function(e){if(!b.Z.hasGamepads)return()=>{};function t(){const e=[];for(const t of window.navigator.getGamepads())(null==t?void 0:t.connected)&&e.push(t);return e}function n(n){e(t(),n.gamepad)}window.addEventListener("gamepadconnected",n,!0),window.addEventListener("gamepaddisconnected",n,!0);const i=window.requestAnimationFrame((()=>{const n=t();n.length&&e(n)}));return()=>{window.cancelAnimationFrame(i),window.removeEventListener("gamepadconnected",n,!0),window.removeEventListener("gamepaddisconnected",n,!0)}}((e=>{const t=e.map((e=>({type:X4e.MT.Gamepad,id:e.id,index:e.index,mapping:e.mapping})));if(t.length<4){t.push(b2e);for(let e=t.length;e<4;e++)t.push(M2e)}n(t)}))),[]),y.createElement(YGe,I2e(I2e({},e),{gameInputDevices:t,mediaComponent:t2e,playerComponent:e.isMiniPlayer?f2e:y2e}))}));w2e.propTypes=P2e(P2e({},w2e.propTypes),{isOpen:ls().bool,playerType:ls().oneOf([Se.eD]).isRequired});const T2e=w2e,Z2e=(0,de.P1)(RUe,(e=>e.length>0));var N2e=n(3967);const A2e=(0,de.P1)($t.Z,(e=>e.some((e=>e.connections.some((e=>e.isLoopback))&&e.connectionTestResult===GB._r.PENDING)))),x2e=(0,de.P1)(ge,A2e,zIe,FB,Z2e,((e,t,n,i,s)=>e.isResourcesPopulated&&!t&&!n.length&&!i&&!s)),L2e=function(e){const{children:t,isSidebarCollapsed:n}=e;return y.createElement(y.Fragment,null,n?y.createElement("div",{className:"EmptySourceSidebar-sidebarUnderlay-1At2pU SourceSidebar-sidebarUnderlay-1UOMAB"}):null,y.createElement("div",{className:n?"EmptySourceSidebar-collapsedSidebar-3J6zrZ SourceSidebar-collapsedSidebar-2U6H_u SourceSidebar-sidebar-3JchBT":"EmptySourceSidebar-openSidebar-3iWJWF SourceSidebar-openSidebar-1KW2H8 SourceSidebar-sidebar-3JchBT"},t))},O2e=function(){const e=(0,xE.Z)(),t=(0,De.Z)("An unexpected error is impacting the sidebar");return y.createElement(L2e,{isSidebarCollapsed:!0},y.createElement(th.Z,{component:AM.Z,tooltip:t,tooltipAttachment:nh.ab,"aria-label":t,onPress:e.onOpen},y.createElement(Ce.Z,{className:"ErrorSourceSidebar-icon-3VZ-0a"})),y.createElement(Bwe,{isOpen:e.isOpen,errorMessage:`${t}.`,onModalClose:e.onClose}))},j2e={button:"SourceSidebarLink-button-1mtWw3 SidebarLink-sidebarLink-38wiMx Link-default-1dmcVx",isDim:"SourceSidebarLink-isDim-1Drgze",title:"SourceSidebarLink-title-1Ezq8H SidebarLink-title-1fhEPJ",iconContainer:"SourceSidebarLink-iconContainer-2v2Xu5 SidebarLink-icon-aPbgjh",isDisabled:"SourceSidebarLink-isDisabled-Zu33MY SourceSidebarLink-isDim-1Drgze",isSelected:"SourceSidebarLink-isSelected-7ttE4w",isActive:"SourceSidebarLink-isActive-1EXSwB",sourceLink:"SourceSidebarLink-sourceLink-OvtBFr",titles:"SourceSidebarLink-titles-3idRRv",detail:"SourceSidebarLink-detail-f_M36m",small:"SourceSidebarLink-small-CY_boA",medium:"SourceSidebarLink-medium-1rY0Af"};var k2e=Object.assign;function R2e(e){const{"data-qa-id":t,className:n,size:i,style:s,linkClassName:r,titleClassName:a,isActiveClassName:o,isSelectedClassName:l,icon:c,title:d,detail:u,to:p,role:m,isActive:h,isDim:g,isDisabled:v,isSelected:f,children:I,onNavigate:b,onMouseEnter:M,onMouseLeave:S,onFocus:E,onBlur:D}=e;let C,P;return p?(C=AM.Z,P={isDisabled:v,to:p,role:m,"data-qa-id":t,onPress:b}):(C="div",P={}),y.createElement("div",{className:we()(n,j2e[i],h&&o,g&&j2e.isDim,v&&j2e.isDisabled,f&&l),"data-qa-id":"sidebarSource",style:s,onMouseEnter:M,onMouseLeave:S,onFocus:E,onBlur:D},y.createElement(C,k2e(k2e({className:r},P),{title:u?`${d}, ${u}`:d}),y.createElement("div",{className:j2e.iconContainer},c),y.createElement("div",{className:j2e.titles},y.createElement("div",{className:a},d),u?y.createElement("div",{className:j2e.detail},u):null)),I)}R2e.defaultProps={className:j2e.button,size:vc.M2,linkClassName:j2e.sourceLink,titleClassName:j2e.title,isActiveClassName:j2e.isActive,isSelectedClassName:j2e.isSelected};const z2e=R2e;var U2e=Object.prototype.hasOwnProperty,V2e=Object.getOwnPropertySymbols,B2e=Object.prototype.propertyIsEnumerable,F2e=Object.assign;const H2e=function(e){const{icon:t,connectDragSource:n}=e,i=((e,t)=>{var n={};for(var i in e)U2e.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&V2e)for(var i of V2e(e))t.indexOf(i)<0&&B2e.call(e,i)&&(n[i]=e[i]);return n})(e,["icon","connectDragSource"]),s=y.createElement(z2e,F2e({icon:t||y.createElement(Ox,{className:"ReorderSourceSidebarItem-iconReorder-32BUOJ"})},i));return n?n(y.createElement("div",{className:"ReorderSourceSidebarItem-dragSource-2EihAO"},s)):s},_2e=parseInt(ku.Z.sourceSidebarItemHeight,10);class Q2e extends y.Component{render(){const{item:e,style:t}=this.props;if(!e||!t)return null;const{sourceTitle:n,sourceDetail:i}=e;return y.createElement(Mx,null,y.createElement(H2e,{style:t,title:n,detail:i}))}}const G2e=(0,gx.rE)((function(e,t){const n=e.getItem(),i={item:n,style:null},s=e.getInitialSourceClientOffset(),r=e.getSourceClientOffset();if(e.getItemType()===Px&&s&&r){let e=r.y;e-n.listTop<=0?e=n.listTop:e+_2e>=n.listBottom&&(e=n.listBottom-_2e),i.style=jV({x:s.x,y:e},n.listWidth)}return i}))(Q2e),Y2e={beginDrag(e,t,n){const{sourceTitle:i,sourceTitleDetail:s,listIndex:r,isRemoved:a,listHeight:o,listWidth:l,listTop:c,listRight:d,listBottom:u,listLeft:p}=e;return{dragIndex:r,sourceTitle:i,sourceTitleDetail:s,isRemoved:a,listHeight:o,listWidth:l,listTop:c,listRight:d,listBottom:u,listLeft:p}},endDrag(e,t,n){e.onItemDragEnd({didDrop:t.didDrop()})}},W2e={hover(e,t,n){const i=t.getClientOffset(),s=(0,v.findDOMNode)(n).getBoundingClientRect(),r=(s.bottom-s.top)/2,a=i.y-s.top,o=t.getItem().dragIndex,l=e.listIndex;let c;c=l===o?l:a>r?l+1:l,e.onItemDragMove({dragIndex:o,dropIndex:c})}};class K2e extends y.Component{componentDidMount(){this.props.connectDragPreview((0,tL.rX)())}render(){const{sourceTitle:e,sourceTitleDetail:t,isOver:n,isDragging:i,isDraggingBefore:s,isDraggingAfter:r,connectDropTarget:a,connectDragSource:o}=this.props;return a(y.createElement("div",{className:we()("SourceListItemDragSource-container-3l5oAU",n&&"SourceListItemDragSource-isOver-2dQ7dJ",i&&Cn.fN,n&&s&&Cn.DT,n&&r&&Cn.QZ)},y.createElement(H2e,{title:e,detail:t,connectDragSource:o})))}}const q2e=(0,gx.GR)(Px,W2e,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((0,gx.Ej)(Px,Y2e,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(K2e));var $2e=Object.assign;const J2e={dragIndex:-1,dropIndex:-1,hasValidDropTarget:!1};class X2e extends y.Component{constructor(e,t){super(e,t),this.onItemDragMove=e=>{const{dragIndex:t,dropIndex:n}=e,{dragIndex:i,dropIndex:s}=this.state;let r=n!==s?n:s;const a=t!==i?t:i;if((r===a||r>a&&r-a==1)&&(r=-1),a!==i||r!==s){const e={dragIndex:a,dropIndex:r,hasValidDropTarget:-1!==r};this.setState(e)}},this.onItemDragEnd=e=>{const{dragIndex:t,dropIndex:n}=this.state;let i;e.didDrop&&-1!==n&&(i=()=>{this.props.onReorderSource({fromIndex:t,toIndex:n>t?n-1:n})}),this.setState(J2e,i)},this.onMeasure=e=>{const{height:t,width:n,x:i,y:s}=e;this.setState({listHeight:t,listWidth:n,listTop:s,listRight:i+n,listBottom:s+t,listLeft:i})},this.state=$2e($2e({},J2e),{listHeight:0,listWidth:0,listTop:0,listRight:0,listBottom:0,listLeft:0})}render(){const{className:e,sources:t}=this.props,{dropIndex:n,hasValidDropTarget:i}=this.state;return y.createElement(OC.Z,{className:e,ignoreTransforms:!0,onMeasure:this.onMeasure},t.map(((e,t)=>{const s=i&&n===t,r=i&&n===t+1;return y.createElement(q2e,$2e($2e({},this.state),{key:e.key,sourceTitle:e.title,sourceTitleDetail:e.titleDetail,listIndex:t,hasValidDropTarget:i,isDraggingAfter:r,isDraggingBefore:s,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd}))})),y.createElement(hV.Z,null,y.createElement(G2e,null)))}}X2e.defaultProps={className:"SortableSources-container-tR4vQs Measure-container-14qPC5"};const e3e=$O(X2e);function t3e(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-downloads-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M280 510.588c127.35 0 230.588-103.238 230.588-230.588S407.35 49.412 280 49.412 49.412 152.65 49.412 280 152.65 510.588 280 510.588zM280 560C125.36 560 0 434.64 0 280S125.36 0 280 0s280 125.36 280 280-125.36 280-280 280zm0-131.765l131.765-131.764H306.353V131.765h-52.706V296.47H148.235L280 428.235z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}t3e.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const n3e=t3e;function i3e(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-home-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M0 520V296.569a40 40 0 0 1 11.716-28.285L280 0l268.284 268.284A40 40 0 0 1 560 296.57V520c0 22.091-17.909 40-40 40H340V360H220v200H40c-22.091 0-40-17.909-40-40z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}i3e.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const s3e=i3e;var r3e=Object.assign;function a3e(e){return y.createElement("div",r3e({},e))}a3e.defaultProps={className:"SourceSidebarHeader-header-3Ay5rt"};const o3e=a3e;var l3e=Object.assign;function c3e(e){const{className:t}=e;return y.createElement(wN.Z,l3e({className:t,autoScroll:!0},e))}c3e.defaultProps={className:"SourceSidebarScroller-scroller-pA7lLb Scroller-scroller-1krvWC"};const d3e=c3e;class u3e extends y.Component{constructor(){super(...arguments),this.onReorderSource=({fromIndex:e,toIndex:t})=>{if(e===t)return;const{sources:n,hiddenSidebarSourceKeys:i,onReorderPinnedSources:s}=this.props;s({sourceKeys:pV(n.map((e=>e.key)),e,t).concat(i)})}}render(){const{sources:e,hasDownloadsSource:t,onCloseReorderPinSources:n}=this.props;return y.createElement(y.Fragment,null,y.createElement(o3e,null,y.createElement("div",{className:"SourceSidebarReorderContent-titleContainer-1gEB2y"},y.createElement("div",{className:"SourceSidebarReorderContent-title-_Zb6aw"},(0,De.Z)("Reorder")),y.createElement(AM.Z,{className:"SourceSidebarReorderContent-closeButton-15-GjV","aria-label":(0,De.Z)("Done"),onPress:n},y.createElement(cc.Z,null)))),y.createElement(d3e,null,y.createElement("div",{className:"SourceSidebarReorderContent-expandedSidebarContent-2QMWFw SourceSidebarContent-expandedSidebarContent-3xuQnU"},y.createElement(H2e,{icon:y.createElement(s3e,null),title:(0,De.Z)("Home"),isDisabled:!0}),t?y.createElement(H2e,{icon:y.createElement(n3e,null),title:(0,De.Z)("Downloads"),isDisabled:!0}):null,y.createElement(e3e,{sources:e,onReorderSource:this.onReorderSource}))))}}const p3e=u3e,m3e=(0,de.P1)(QM,(e=>({hiddenSidebarSourceKeys:e.reduce(((e,t)=>(t.isHidden&&e.push(t.key),e)),[])}))),h3e={onReorderPinnedSources:dE.fK},g3e=(0,f.$j)(m3e,h3e)(p3e),y3e=parseInt(ku.Z.sourceSidebarServerHeaderIconSize,10),v3e=function(e){const{serverEntityID:t,thumb:n}=e;return y.createElement(V4.Z,{serverEntityID:t,url:n,width:y3e,height:y3e})},f3e=(0,f.$j)((function(){return(0,de.P1)((0,HM.Z)(),(0,de.P1)((0,HM.Z)(),U4.Z,z4.Z,((e,t,n)=>{const i=t.find((t=>n[t].id===e.ownerId));return i?n[i].thumb:null})),HB.Z,((e,t,n)=>({thumb:e.isShared?t:n.thumb})))}))(v3e);var I3e=n(83299),b3e=n(13781);const M3e="SourceSidebarBadgedIcon-image-3TewOI";function S3e({isUnavailable:e,isOutOfDate:t,isUnclaimed:n}){return e?(0,De.Z)("Unavailable"):t?(0,De.Z)("Needs update"):n?(0,De.Z)("Unclaimed"):void 0}function E3e(e){const{isRemote:t,isUnclaimed:n,isUnavailable:i,isOutOfDate:s}=e,r=i||n||s;return r||t?y.createElement("div",{className:"SourceSidebarBadgedIcon-badge-2MRPaV"},r?y.createElement("img",{className:M3e,src:I3e,"aria-label":S3e(e)}):y.createElement("img",{className:M3e,src:b3e,"aria-label":(0,De.Z)("Remote server")})):null}function D3e(e){const{icon:t,showBadgedIcon:n,isPending:i,isRemote:s,isUnavailable:r,isOutOfDate:a,isUnclaimed:o}=e;return n?i?y.createElement(RC.Z,{className:"SourceSidebarBadgedIcon-spinner-XbpJ0L"}):y.createElement("div",{className:"SourceSidebarBadgedIcon-container-AwQTL-"},t,y.createElement(E3e,{isRemote:s,isUnavailable:r,isOutOfDate:a,isUnclaimed:o})):t}D3e.defaultProps={showBadgedIcon:!0};const C3e=D3e,P3e="SourceSidebarServerHeaderActionsButtons-button-2tGSOP IconButton-button-2smHOM",w3e=(0,YM.Z)(null,(function(e,t){const n={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onAddLibraryPress(){e(FS.Wy(n))}}}))((function(e){const{className:t,isHovered:n,overflowMenuButtonID:i,isOverflowMenuOpen:s,onAddLibraryPress:r,onOverflowMenuToggle:a}=e,o=b.Z.hasTouchScreen||n||s;return y.createElement("div",{className:o?t:"SourceSidebarServerHeaderActionsButtons-hidden-32EQA5"},y.createElement(GC.Z,{className:P3e,"data-qa-id":"sidebarLibrariesAddButton",iconComponent:Hf.Z,title:(0,De.Z)("Add Library"),onPress:r}),y.createElement(GC.Z,{id:i,className:P3e,"aria-haspopup":"true","data-qa-id":"sidebarLibrariesMoreButton",iconComponent:Ud.Z,title:(0,De.Z)("More Actions"),onPress:a}))})),T3e={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,-10]}}]},Z3e=(0,YM.Z)((function(){return(0,de.P1)(xLe(),(0,FM.tk)(),(0,FM.k8)(),((e,t,n)=>({isLibraryRefreshing:e,isOptimizeDatabaseInProgress:!!t,isCleanBundlesInProgress:!!n})))}),(function(e,t){const n={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onScanLibrariesPress(){e(FS.iE(n))},onCancelScanLibrariesPress(){e(FS.zl(n))},onEmptyTrashPress(){e(FS.uo(n))},onOptimizeDatabasePress(){e(FS.Q6(n))},onCleanBundlesPress(){e(FS.ll(n))}}}))((function(e){const{serverEntityID:t,machineIdentifier:n,overflowMenuButtonID:i,isLibraryRefreshing:s,isOptimizeDatabaseInProgress:r,isCleanBundlesInProgress:a,isOverflowMenuOpen:o,onScanLibrariesPress:l,onCancelScanLibrariesPress:c,onEmptyTrashPress:d,onOptimizeDatabasePress:u,onCleanBundlesPress:p,onOverflowMenuClose:m}=e,h=(0,xE.Z)(),g=(0,xE.Z)(d),v=(0,xE.Z)(u),f=(0,xE.Z)(p);return y.createElement(y.Fragment,null,y.createElement(PE,{target:i,options:T3e,isOpen:o,onMenuClose:m},y.createElement(ho.Z,{onPress:(0,vo.Z)(m,h.onOpen)},(0,De.Z)("Share…")),s?y.createElement(ho.Z,{onPress:c},(0,De.Z)("Cancel Scan")):y.createElement(ho.Z,{onPress:l},(0,De.Z)("Scan Library Files")),y.createElement(yo.Z,{label:(0,De.Z)("Manage Server"),onMenuClose:m},y.createElement(ho.Z,{to:(0,km.Z)(n,"settings","general")},(0,De.Z)("Settings")),y.createElement(ho.Z,{onPress:g.onOpen},(0,De.Z)("Empty Trash")),y.createElement(ho.Z,{isDisabled:r,onPress:v.onOpen},(0,De.Z)("Optimize Database")),y.createElement(ho.Z,{isDisabled:a,onPress:f.onOpen},(0,De.Z)("Clean Bundles")))),y.createElement(wd.Z,{metricsProperties:{context:pS.LIST},serverEntityID:t,isOpen:h.isOpen,onModalClose:h.onClose}),y.createElement(DE,{isOpen:g.isOpen,metricsPage:et.cZ,title:(0,De.Z)("Empty Trash"),message:(0,De.Z)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:(0,De.Z)("Empty"),onConfirm:g.onConfirm,onCancel:g.onClose}),y.createElement(DE,{isOpen:v.isOpen,metricsPage:et.tl,title:(0,De.Z)("Optimize Database"),message:(0,De.Z)("Cleans up the library database and ensures it is operating as quickly as possible. This is especially useful when you've added or removed a large amount of media from the library."),confirmLabel:(0,De.Z)("Optimize"),onConfirm:v.onConfirm,onCancel:v.onClose}),y.createElement(DE,{isOpen:f.isOpen,metricsPage:et.jB,title:(0,De.Z)("Clean Bundles"),message:(0,De.Z)("The media server stores information about your media to disk, as well as posters, artwork, and other media resources from the internet. Running this task deletes any bundles which are no longer in use."),confirmLabel:(0,De.Z)("Clean"),onConfirm:f.onConfirm,onCancel:f.onClose}))}));var N3e=Object.prototype.hasOwnProperty,A3e=Object.getOwnPropertySymbols,x3e=Object.prototype.propertyIsEnumerable,L3e=Object.assign;const O3e=function(e){const{serverEntityID:t,machineIdentifier:n,hasServerActions:i,iconNode:s,iconSrc:r,isPending:a,isRemote:o,isUnavailable:l,isOutOfDate:c,isUnclaimed:d,onToggleLockedPress:u}=e,p=((e,t)=>{var n={};for(var i in e)N3e.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&A3e)for(var i of A3e(e))t.indexOf(i)<0&&x3e.call(e,i)&&(n[i]=e[i]);return n})(e,["serverEntityID","machineIdentifier","hasServerActions","iconNode","iconSrc","isPending","isRemote","isUnavailable","isOutOfDate","isUnclaimed","onToggleLockedPress"]),m=(0,ra.Z)(),[h,g]=(0,y.useState)(!1),[v,f]=aT(),I=(0,y.useCallback)((()=>{g(!h)}),[h]),b=(0,y.useCallback)((()=>{g(!1)}),[]);return(0,y.useEffect)((()=>{u&&u(h)}),[h,u]),y.createElement(y.Fragment,null,y.createElement(z2e,L3e(L3e(L3e({},p),f),{isSelectedClassName:"SourceSidebarServerHeader-isSelected-vjjpax SourceSidebarLink-isSelected-7ttE4w",titleClassName:"SourceSidebarServerHeader-title-2oT9aS SourceSidebarLink-title-1Ezq8H SidebarLink-title-1fhEPJ",isActive:h,role:"navigation",icon:y.createElement(C3e,{icon:y.createElement("div",{className:"SourceSidebarServerHeader-iconContainer-C4mhM7 SourceSidebarItem-iconImg-3JkcZ2"},s),isPending:a,isRemote:o,isUnavailable:l,isOutOfDate:c,isUnclaimed:d})}),i?y.createElement(w3e,{serverEntityID:t,className:"SourceSidebarServerHeader-actionContainer-3DMGhR",isHovered:v,overflowMenuButtonID:m,isOverflowMenuOpen:h,onOverflowMenuToggle:I}):null),i?y.createElement(Z3e,{serverEntityID:t,machineIdentifier:n,overflowMenuButtonID:m,isOverflowMenuOpen:h,onOverflowMenuToggle:I,onOverflowMenuClose:b}):null)};function j3e(e){const t=window.location.hash,n=new RegExp("^"+(0,R.Z)(e)+"\\b");return!(!t||!e)&&n.test(t)}const k3e=(0,f.$j)((function(){return(0,de.P1)((e=>e.cloudServer),HB.Z,((e,t)=>({cloudServerEntityID:e,thumb:t.thumb})))}))((function(e){const{cloudServerEntityID:t,thumb:n}=e,i="#!/get-plex-media-server";return y.createElement(O3e,{to:i,isSelected:j3e(i),iconNode:y.createElement(v3e,{serverEntityID:t,thumb:n}),title:(0,De.Z)("Your Media")})})),R3e=(0,de.P1)(QM,(e=>(0,_Z.Z)(e,(e=>e.key),(e=>e))));function z3e(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-source-pinned-560"};s["aria-hidden"]=!t,s.style=i,s.className=cs.Z.plexIcon+(n?" "+n:"");var r=[y.createElement.apply(y,["path",{d:"M220 40L160 0h240l-60 40 20 200 100 80H310l-30 240-30-240H100l100-80z"}].concat([]))];return t&&r.unshift(y.createElement("title",null,t)),y.createElement.apply(y,["svg",s].concat(r))}z3e.propTypes={"aria-label":ls().string,className:ls().string,style:ls().object};const U3e=z3e;var V3e=Object.assign;const B3e={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:({reference:e})=>[0,-.2*e.height]}}]};function F3e(e){const{serverEntityID:t,providerEntityID:n,source:i,dismissedUnclaimedServers:s,size:r,showDetail:a,showIcons:o,metricsOrigin:l,isReorderable:c,onToggleLockedPress:d,onReorderPinSources:u}=e,{machineIdentifier:p,providerIdentifier:m}=Fz(),h=(0,Ee.Z)(),g=(0,Hz.Z)(h.source),v=(0,ra.Z)(),[f,I]=(0,y.useState)(!1),[b,S]=aT(),E=(0,y.useCallback)((()=>{I(!f)}),[f]),D=(0,y.useCallback)((()=>{I(!1)}),[]);(0,y.useEffect)((()=>{d&&d(f)}),[f,d]);const C=(0,y.useCallback)((()=>{(0,M.DB)("metrics").trackEvent({event:WZ.Ip,interaction:!0,properties:{page:et.jy,identifier:i.providerMetricsIdentifier,action:rr.wP,origin:l}})}),[i,l]),P=i.sourceType===PM.lz,w=f||b,T=i.isPinned&&!w,Z=!1===i.isLocal&&!1===i.isCloud&&!1===i.isUnavailable,N=i.directoryIcon?y.createElement("img",{className:"SourceSidebarItem-iconImg-3JkcZ2",src:i.directoryIcon}):y.createElement(CVe,{sourceType:i.sourceType});return y.createElement(y.Fragment,null,y.createElement(z2e,V3e(V3e({},S),{className:"SourceSidebarItem-button-3JdHac SourceSidebarLink-button-1mtWw3 SidebarLink-sidebarLink-38wiMx Link-default-1dmcVx",size:a?r:vc.HC,isActiveClassName:"SourceSidebarItem-isActive-g82InD SourceSidebarLink-isActive-1EXSwB",isSelectedClassName:"SourceSidebarItem-isSelected-17i-oh SourceSidebarLink-isSelected-7ttE4w",isActive:f,isDim:i.isUnavailable||i.isOutOfDate||P,isSelected:p===i.machineIdentifier&&m===i.providerIdentifier&&g===i.directoryID,to:P?null:(0,Bn.Z)(i.isCloud,i.machineIdentifier,i.providerIdentifier,{source:i.directoryID}),icon:y.createElement(C3e,{icon:N,showBadgedIcon:o,isRemote:Z,isUnavailable:i.isUnavailable||P,isOutOfDate:i.isOutOfDate,isUnclaimed:i.isUnclaimedServer&&s&&!s[i.machineIdentifier]}),title:i.title,detail:a?i.titleDetail:void 0,onNavigate:C}),y.createElement("span",{className:"SourceSidebarItem-actionContainer-1hLqJz"},T?y.createElement(U3e,{className:"SourceSidebarItem-pinnedIcon-3u0m0h"}):null,y.createElement(GC.Z,{className:w?"SourceSidebarItem-overflowButton-2OZJwQ":"SourceSidebarItem-hiddenOverflowButton-2O2YM2","data-qa-id":"sidebarSourceOverflow",id:v,iconComponent:Ud.Z,title:(0,De.Z)("Actions"),onPress:E}))),y.createElement(QE,{serverEntityID:t,providerEntityID:n,source:i,target:v,menuOptions:B3e,isReorderable:c,isOverflowMenuOpen:f,onOverflowMenuClose:D,onReorderPinSources:u}))}F3e.defaultProps={showDetail:!0,showIcons:!0};const H3e=F3e;var _3e=Object.assign;const Q3e=(0,f.$j)((function(){return(0,de.P1)((0,de.P1)(((e,{providerEntityIDs:t})=>t),_t.Z,((e,t)=>e.map((e=>t[e])))),(0,HM.Z)(),R3e,((e,t,n)=>{const i=e.reduce(((e,i)=>{const s=(0,So.Z)(i);return VUe({sourceServer:t,sourceProvider:i,directories:s&&s.directories}).forEach((t=>{e.push(_3e(_3e({},t),{isPinned:!!n[t.key]}))})),e}),[]);return i.sort(((e,t)=>e.title.localeCompare(t.title))),{sources:i}}))}),(function(e,t){return{}}))((function(e){const{sources:t,onToggleLockedPress:n}=e;return y.createElement(y.Fragment,null,t.map((e=>y.createElement(H3e,{key:e.key,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,source:e,metricsOrigin:"moreSidebar",showDetail:!1,showIcons:!1,onToggleLockedPress:n}))))}));var G3e=Object.prototype.hasOwnProperty,Y3e=Object.getOwnPropertySymbols,W3e=Object.prototype.propertyIsEnumerable,K3e=Object.assign;function q3e(e){const{showTitle:t,showUnclaimed:n,isAllSources:i}=e,s=((e,t)=>{var n={};for(var i in e)G3e.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Y3e)for(var i of Y3e(e))t.indexOf(i)<0&&W3e.call(e,i)&&(n[i]=e[i]);return n})(e,["showTitle","showUnclaimed","isAllSources"]);return y.createElement(AM.Z,K3e({className:we()("SourcesToggleButton-link-3Yuz0j",i?"SourcesToggleButton-bottomBorder-2UI0Rk":"SourcesToggleButton-topBorder-3Tixcu"),"data-qa-id":"sidebarMore"},s),i?y.createElement(y.Fragment,null,y.createElement(pp,{className:"SourcesToggleButton-pinnedIcon-1X7xs5 SourcesToggleButton-icon-36D3p0"}),t?(0,De.Z)("Pinned"):null):y.createElement(y.Fragment,null,t?y.createElement(y.Fragment,null,n?y.createElement("img",{className:"SourcesToggleButton-unclaimedImage-GKR_cx",src:I3e,"aria-label":(0,De.Z)("Unclaimed")}):null,(0,De.Z)("More")):null,y.createElement(dp,{className:"SourcesToggleButton-icon-36D3p0"})))}q3e.defaultProps={showTitle:!0};const $3e=q3e,J3e=(0,de.P1)(HB.Z,(e=>({providers:e.providers,isPending:e.isProvidersPending,isPopulated:e.isProvidersPopulated,providersError:e.providersError}))),X3e=(0,f.$j)((function(){return(0,de.P1)(Uwe,J3e,(e=>e.cloudServer),N2e.Z,((e,t,n,i)=>({servers:e,cloudProviders:t,cloudServerEntityID:n,dismissedUnclaimedServers:i})))}),(function(e,t){return{}}))((function(e){const{isExpanded:t,servers:n,cloudProviders:i,cloudServerEntityID:s,dismissedUnclaimedServers:r,showServerDownloadMessage:a,onToggleAllSourcesPress:o,onToggleLockedPress:l}=e,{machineIdentifier:c,providerIdentifier:d}=Fz(),u=(0,Ee.Z)(),p=(0,I.$B)({path:Bz.Z.prePlay,exact:!0});return y.createElement(y.Fragment,null,y.createElement(o3e,null,y.createElement($3e,{isAllSources:!0,showTitle:t,onPress:o})),y.createElement(d3e,null,y.createElement("div",{className:"AllSourcesSidebarContent-container-3w3jdB"},n.map((e=>{const t=c===e.machineIdentifier&&d===pa.Y3&&!u.source&&!p;return y.createElement("div",{key:e.machineIdentifier,className:"AllSourcesSidebarContent-serverContainer-99lqaG"},y.createElement(O3e,{serverEntityID:e.entityID,machineIdentifier:e.machineIdentifier,title:NM(e),detail:ZM(e),iconNode:y.createElement(f3e,{serverEntityID:e.entityID}),isPending:e.isPending,isRemote:!e.isPrivateConnection&&!e.isUnavailable,isUnavailable:e.isUnavailable,isOutOfDate:e.isOutOfDate,isUnclaimed:e.isConnected&&!e.isClaimed&&!r[e.machineIdentifier],to:(0,zg.Z)(e,{identifier:pa.Y3},null,{key:DM.D,pageType:EM.km}),isSelected:t,hasServerActions:e.isFullOwnedServer&&e.isConnected&&!e.isOutOfDate,onToggleLockedPress:l}),y.createElement(Q3e,{serverEntityID:e.entityID,providerEntityIDs:e.providers,onToggleLockedPress:l}))})),i.providers.length?y.createElement(y.Fragment,null,y.createElement(O3e,{title:(0,De.Z)("Plex"),iconNode:y.createElement("img",{className:"AllSourcesSidebarContent-iconImg-3TK0MY",src:iU}),isPending:i.isPending,isUnavailable:i.providersError}),y.createElement(Q3e,{serverEntityID:s,providerEntityIDs:i.providers,onToggleLockedPress:l})):null,a?y.createElement("div",{className:"AllSourcesSidebarContent-extrasContainer-2h8baR"},y.createElement(k3e,null)):null)))})),e5e=(0,de.P1)(Uwe,N2e.Z,((e,t)=>({showUnclaimed:e.some((e=>e.isConnected&&!e.isClaimed&&!t[e.machineIdentifier]))}))),t5e=(0,f.$j)(e5e,(function(e,t){return{}}))($3e),n5e="#!/get-plex-media-server",i5e=function(e){const{size:t}=e;return y.createElement(z2e,{size:t,to:n5e,isSelected:j3e(n5e),icon:y.createElement(Hf.Z,null),title:(0,De.Z)("Your Media")})},s5e=(0,f.$j)((function(){return(0,de.P1)(BZ.Z,__.Z,((e,t)=>({route:GE(e.downloads),isUnavailable:!t||t.isUnavailable})))}),(function(e,t){return{}}))((function(e){const{size:t,route:n,isUnavailable:i}=e,s=!!(0,I.$B)({path:Bz.Z.downloads,exact:!0});return y.createElement(z2e,{size:t,to:n,isSelected:s,icon:y.createElement(C3e,{icon:y.createElement(n3e,null),isUnavailable:i}),title:(0,De.Z)("Downloads"),isDim:i})})),r5e=function(e){const{size:t}=e,n=(0,I.$B)({path:Bz.Z.home,exact:!0});return y.createElement(z2e,{linkClassName:"HomeSourceLink-sourceLink-25rvLd SourceSidebarLink-sourceLink-OvtBFr",size:t,"data-qa-id":"sidebarHome",to:"#",icon:y.createElement(s3e,null),title:(0,De.Z)("Home"),isSelected:!!n})};class a5e extends y.Component{shouldComponentUpdate(e,t){return(0,ht.Z)(this,e,t)}render(){const{sources:e,hasSourceDetail:t,hasDownloadsSource:n,dismissedUnclaimedServers:i,isExpanded:s,hasNoProviders:r,isMoreMenuRequired:a,showServerDownloadMessage:o,onToggleAllSourcesPress:l,onToggleLockedPress:c,onReorderPinSources:d}=this.props,u=t?void 0:vc.HC;return y.createElement(d3e,null,y.createElement("div",{className:s?"SourceSidebarContent-expandedSidebarContent-3xuQnU":void 0},y.createElement(r5e,{size:u}),e.length?e.map((e=>y.createElement(H3e,{key:e.key,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,source:e,dismissedUnclaimedServers:i,size:u,isReorderable:!0,onToggleLockedPress:c,onReorderPinSources:d}))):y.createElement("div",{className:"SourceSidebarContent-zeroState-1xuszU"},(0,De.Z)("Your favorite sources will appear here. Any source in the MORE menu below can be saved here for quick access.")),o?y.createElement(i5e,{size:u}):null,n?y.createElement(s5e,{size:u}):null,s&&a&&!r?y.createElement(t5e,{isAllSources:!1,onPress:l}):null))}}const o5e=a5e,l5e="SourceSidebar-pane-3A8XLL";var c5e,d5e;(d5e=c5e||(c5e={})).Left="left",d5e.Right="right";const u5e=(0,Ql.Z)(fr.Z.defaultSpeed),p5e={opacity:{duration:u5e},x:{duration:u5e,ease:"easeInOut"}},m5e={appear:e=>({opacity:0,scale:1,x:e===c5e.Left?"100%":"-100%",transition:p5e}),enter:{opacity:1,scale:1,x:"0%",transition:p5e},exit:e=>({opacity:0,scale:1,x:e===c5e.Left?"100%":"-100%",transition:p5e})};function h5e(e,t){return t?e?"SourceSidebar-expandedSidebar-2nQ2kA SourceSidebar-sidebar-3JchBT":"SourceSidebar-collapsedSidebar-2U6H_u SourceSidebar-sidebar-3JchBT":"SourceSidebar-openSidebar-1KW2H8 SourceSidebar-sidebar-3JchBT"}class g5e extends y.Component{constructor(e,t){super(e,t),this.onMouseEnter=()=>{this.props.isSidebarCollapsed&&(this.resetExpandTimeout(),this.setState({isMouseOver:!0}))},this.onMouseLeave=()=>{this.clearSetExpandedTimeout(),this.setState((e=>({isExpanded:!!e.isLocked&&e.isExpanded,isMouseOver:!1})))},this.onMouseMove=()=>{this.props.isSidebarCollapsed&&!this.state.isLocked&&this.resetExpandTimeout()},this.onToggleAllSourcesPress=()=>{const e=!this.props.isSidebarAllSources;this.props.onToggleAllSourcesSidebar(e)},this.onToggleLockedPress=e=>{this.setState((t=>{const n=null!=e?e:!t.isLocked;return{isLocked:n,isExpanded:!(!t.isMouseOver&&!n)&&t.isExpanded}}))},this.onReorderPinSources=()=>{this.setState({isReordering:!0,isLocked:!0})},this.onCloseReorderPinSources=()=>{this.setState({isReordering:!1,isLocked:!1})},this.state={isMouseOver:!1,isLocked:!1,isExpanded:!1,isSidebarCollapsed:e.isSidebarCollapsed,isAllSources:!1,isReordering:!1}}static getDerivedStateFromProps(e,t){return t.isSidebarCollapsed!==e.isSidebarCollapsed?{isSidebarCollapsed:e.isSidebarCollapsed}:null}componentWillUnmount(){this.clearSetExpandedTimeout()}clearSetExpandedTimeout(){this._setExpandedTimeoutID&&(window.clearTimeout(this._setExpandedTimeoutID),this._setExpandedTimeoutID=null)}resetExpandTimeout(){this.clearSetExpandedTimeout(),this._setExpandedTimeoutID=window.setTimeout((()=>this.setState({isExpanded:!0})),250)}render(){const{sources:e,hasSourceDetail:t,hasDownloadsSource:n,hasDismissedServerDownloadMessage:i,shouldShowServerDownloadMessage:s,dismissedUnclaimedServers:r,isPending:a,hasNoProviders:o,isMoreMenuRequired:l,isSidebarCollapsed:c,isSidebarAllSources:d}=this.props,{isExpanded:u,isReordering:p}=this.state,m=!c||u||p;return a?y.createElement(L2e,{isSidebarCollapsed:c},y.createElement(RC.Z,null)):y.createElement(y.Fragment,null,c?y.createElement("div",{className:"SourceSidebar-sidebarUnderlay-1UOMAB"}):null,y.createElement("div",{className:h5e(u||p,c),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseMove},p?y.createElement("div",{className:l5e},y.createElement(g3e,{sources:e,hasDownloadsSource:n,onCloseReorderPinSources:this.onCloseReorderPinSources})):y.createElement(_l.M_,{initial:!1},y.createElement(_l.ww.div,{key:d?c5e.Right:c5e.Left,initial:"appear",animate:"enter",exit:"exit",variants:m5e,custom:d?c5e.Right:c5e.Left,className:l5e},d?y.createElement(X3e,{isExpanded:m,showServerDownloadMessage:s,onToggleAllSourcesPress:this.onToggleAllSourcesPress,onToggleLockedPress:this.onToggleLockedPress}):y.createElement(o5e,{sources:e,isExpanded:m,hasSourceDetail:t,hasDownloadsSource:n,showServerDownloadMessage:s&&!i,dismissedUnclaimedServers:r,hasNoProviders:o,isMoreMenuRequired:l,onToggleAllSourcesPress:this.onToggleAllSourcesPress,onToggleLockedPress:this.onToggleLockedPress,onReorderPinSources:this.onReorderPinSources})))))}}const y5e=g5e;var v5e=Object.prototype.hasOwnProperty,f5e=Object.getOwnPropertySymbols,I5e=Object.prototype.propertyIsEnumerable,b5e=Object.assign;const M5e={dispatchSaveExperienceSettings:Nv.LN,dispatchSetupSources:dE.E8,dispatchStartFirstRunExperience:dE.mo},S5e=(0,f.$j)((function(){return(0,de.P1)(Lt.Z,BTe,Z2e,(0,de.P1)(ge,VTe,((e,t)=>t.reduce(((t,n)=>{const i=(0,So.Z)(n),s=VUe({sourceServer:e,sourceProvider:n,directories:i&&i.directories});return t.push(...s),t}),[]))),UTe(),N2e.Z,CF,x2e,ye.Z,BB,(0,de.P1)(VB.Z,UTe(),UB,((e,t,n)=>{if(!n)return!1;for(let n=0;n<e.length;n++){const{server:i,provider:s}=e[n];if(!i.isCloud&&i.friendlyName&&!i.isUnauthorized&&!i.isPending)return!0;if(i.isEmbedded)continue;if(!s)continue;const r=(0,So.Z)(s);if(!r)continue;const{directories:a}=r;if(!t.find((e=>a.find((t=>t.id===e.directoryID))&&e.providerIdentifier===s.identifier)))return!0}return!1})),((e,t,n,i,s,r,a,o,l,c,d)=>{const{isSidebarCollapsed:u,isSidebarAllSources:p,sidebarSettings:{hasCompletedSetup:m}}=l;return{isAnonymousUser:e,hasInitialSources:t,hasPreferredEligibleServers:n,dismissedUnclaimedServers:r,defaultSources:i,sources:s,hasSourceDetail:s.some((e=>!!e.titleDetail)),hasDownloadsSource:J.Z.allowSyncDownload,hasDismissedServerDownloadMessage:a,shouldShowServerDownloadMessage:o,hasCompletedSetup:m,isSidebarCollapsed:u,isSidebarAllSources:p,hasNoProviders:c,isMoreMenuRequired:d}}))}),M5e)((function(e){const{isAnonymousUser:t,hasPreferredEligibleServers:n,hasInitialSources:i,hasCompletedSetup:s,defaultSources:r,dispatchSaveExperienceSettings:a,dispatchStartFirstRunExperience:o,dispatchSetupSources:l}=e,c=((e,t)=>{var n={};for(var i in e)v5e.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&f5e)for(var i of f5e(e))t.indexOf(i)<0&&I5e.call(e,i)&&(n[i]=e[i]);return n})(e,["isAnonymousUser","hasPreferredEligibleServers","hasInitialSources","hasCompletedSetup","defaultSources","dispatchSaveExperienceSettings","dispatchStartFirstRunExperience","dispatchSetupSources"]),[d,u]=(0,y.useState)(!1);(0,y.useEffect)((()=>{t||!n||s||d?i&&!s&&l({sources:r}):(u(!0),o())}),[o,l,t,n,s,i,r,d,u]);const p=(0,y.useCallback)((e=>{a({isSidebarAllSources:e})}),[a]);return y.createElement(jK.Z,{page:et.jy,isDelegated:!0},y.createElement(y5e,b5e(b5e({},c),{isPending:!s,onToggleAllSourcesSidebar:p})))}));class E5e extends y.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e){D.Z.error(e)}render(){return this.state.hasError?y.createElement(O2e,null):y.createElement(S5e,null)}}const D5e=E5e,C5e=y.lazy((()=>n.e(67).then(n.bind(n,87067)))),P5e=y.lazy((()=>n.e(927).then(n.bind(n,48927)))),w5e="scroll-container dark-scrollbar",T5e=(0,de.P1)($e,(e=>e.hasAttemptedSignIn)),Z5e=(0,de.P1)(ge,(e=>e.isUnavailable));function N5e(){!function(){const e=(0,f.I0)(),t=(0,I.k6)();(0,y.useEffect)((()=>(e((0,tt.xM)({location:{pathname:t.location.pathname,search:t.location.search}})),t.listen((t=>{e((0,tt.xM)({location:{pathname:t.pathname,search:t.search}}))})))),[e,t])}();const e=(0,f.v9)(Me),t=(0,f.v9)(Z5e),n=(0,f.v9)(T5e),i=(0,f.v9)(Je)===Xe.Ik.Locked,s=(n||t)&&!i,r=(0,Ee.Z)(),a=(0,me.Z)(r.legacy);return y.createElement(y.Fragment,null,i?null:y.createElement(Nt,null),y.createElement(I.rs,null,y.createElement(I.AW,{exact:!0,path:Bz.Z.firstRunExperience},y.createElement("div",{className:w5e},y.createElement(uMe,null,y.createElement($Ve,null)))),y.createElement(I.AW,{exact:!0,path:Bz.Z.serverSetup,component:xSe}),y.createElement(I.AW,{exact:!0,path:Bz.Z.watchNow},y.createElement(uMe,null,y.createElement(aMe,null,y.createElement(SPe,null)))),y.createElement(I.AW,null,y.createElement("div",null,y.createElement(EAe,null)),y.createElement("div",{className:w5e},y.createElement(I.rs,null,y.createElement(I.AW,{exact:!0,path:Bz.Z.logout},y.createElement(uMe,null,y.createElement(fFe,null))),y.createElement(I.AW,{exact:!0,path:Bz.Z.login},y.createElement(uMe,null,y.createElement(PAe,null))),y.createElement(I.AW,{exact:!0,path:Bz.Z.signUp},y.createElement(uMe,null,y.createElement(YMe,{signUp:!0}))),y.createElement(I.AW,{exact:!0,path:Bz.Z.announcements},y.createElement(uMe,null,y.createElement(aMe,null,y.createElement(wFe,null)))),y.createElement(I.AW,{exact:!0,path:Bz.Z.info},y.createElement(ame,{key:"InfoView",view:Lwe})),y.createElement(I.AW,{exact:!0,path:Bz.Z.logs},y.createElement(ame,{key:"LogsView",view:kwe})),y.createElement(I.l_,{exact:!0,from:Bz.Z.serverSettingsPMS,to:(0,I.Gn)(Bz.Z.serverSettings,{machineIdentifier:":machineIdentifier",settingsSection:"settings",settingsGroup:"general"})}),y.createElement(I.AW,{exact:!0,path:Bz.Z.serverSettingsStatusSync,component:oMe}),y.createElement(I.AW,{exact:!0,path:Bz.Z.serverSettings,component:lMe}),y.createElement(I.l_,{exact:!0,from:Bz.Z.accountPlexTv,to:Bz.Z.account}),y.createElement(I.AW,{exact:!0,path:Bz.Z.account},y.createElement(hFe,{component:jUe,selectedKey:"account"})),y.createElement(I.AW,{exact:!0,path:Bz.Z.webhooks},y.createElement(hFe,{component:n_e,selectedKey:"webhooks"})),y.createElement(I.AW,{exact:!0,path:Bz.Z.usersSharing},y.createElement(hFe,{component:RHe,selectedKey:"users-sharing"})),y.createElement(I.AW,{exact:!0,path:Bz.Z.userSharingSettings},y.createElement(hFe,{component:ePe,selectedKey:"users-sharing"})),y.createElement(I.AW,{exact:!0,path:Bz.Z.onlineMediaSources},y.createElement(hFe,{component:bBe,selectedKey:"online-media-sources"})),y.createElement(I.AW,{exact:!0,path:Bz.Z.webSettings},y.createElement(pe,null,y.createElement(aMe,null,y.createElement(Zwe,null)))),y.createElement(I.AW,{exact:!0,path:Bz.Z.devices},y.createElement(hFe,{component:mFe,selectedKey:"devices"})),y.createElement(I.AW,null,y.createElement(uMe,null,y.createElement(aMe,null,y.createElement(D5e,null),y.createElement(I.rs,null,J.Z.allowSyncDownload?y.createElement(I.AW,{exact:!0,path:Bz.Z.downloads},y.createElement(Qe,null,y.createElement(y.Suspense,{fallback:y.createElement(Ve,null,y.createElement(qe,null))},y.createElement(C5e,null)))):null,y.createElement(I.AW,{exact:!0,path:Bz.Z.home,component:BY}),y.createElement(I.AW,{exact:!0,path:Bz.Z.mediaGuideV3,component:kUe}),y.createElement(I.AW,{exact:!0,path:Bz.Z.mediaRecordingScheduleV3,component:SBe}),y.createElement(I.AW,{exact:!0,path:Bz.Z.mediaTimelineV3,component:IFe}),y.createElement(I.AW,{exact:!0,path:Bz.Z.media,component:e?eU:FRe}),y.createElement(I.AW,{exact:!0,path:Bz.Z.playHistory,component:BW}),y.createElement(I.AW,{exact:!0,path:Bz.Z.playlist,component:y6}),y.createElement(I.AW,{exact:!0,path:Bz.Z.prePlay,component:a?MBe:Q7}),y.createElement(I.AW,{exact:!0,path:Bz.Z.providerSettings,component:rne}),y.createElement(I.AW,{exact:!0,path:Bz.Z.search},y.createElement(VY,null,y.createElement(tFe,null))),y.createElement(I.AW,{exact:!0,path:Bz.Z.serverDownloadMessage,component:TF}),y.createElement(I.AW,{exact:!0,path:Bz.Z.serverUpdate,component:zSe}),y.createElement(I.AW,{exact:!0,path:Bz.Z.transientPrePlay,component:YSe}),y.createElement(I.AW,{component:yA.Z})))),(b.Z.hasServiceWorker,null)))))),i?y.createElement(KSe,null):null,s?y.createElement(y.Fragment,null,y.createElement(FW,null,y.createElement(V1e,{component:L1e,playerType:Se.Se})),y.createElement(FW,null,y.createElement(V1e,{component:J4e,playerType:Se.pV})),y.createElement(FW,null,y.createElement(V1e,{isGame:!0,component:T2e,playerType:Se.eD}))):null,J.Z.allowSyncDownload?y.createElement(y.Suspense,{fallback:null},y.createElement(P5e,null)):null)}var A5e=n(16013);const x5e=function(){if(!b.Z.hasReplaceState)return g().Deferred().resolve().promise();const e=g().Deferred(),t=window.location,n=Xi.Z.parseQueryString(t.search);let i;try{i=JSON.parse(n.alerts),delete n.alerts}catch(e){}if(i){A5e.Z.push(...i);const e=`${C.Z.join([`${t.origin}${t.pathname}`],n)}${t.hash}`;window.history.replaceState({},"",e)}return e.resolve().promise()};function L5e(e){return E().isString(e)&&e.trim().length>0}function O5e(e,t){const n=(0,Uoe.Z)();return(0,D.Z)("[appModelInitializer] Generating new %s [%s]",t,n),e.set(t,n),pMe.Z.set(t,n)}function j5e(e,t){let n;const i=e.get(t);return L5e(i)?n=pMe.Z.set(t,i):(n=pMe.Z.get(t),n=n.then((n=>{if(!L5e(n))return D.Z.error("[appModelInitializer] Invalid %s found in storage [%s]",t,i),O5e(e,t);e.set(t,n)}),(()=>((0,D.Z)("[appModelInitializer] Failed to read %s from storage",t),O5e(e,t))))),n}function k5e(){const e=(0,M.DB)("appModel");return(0,QB.Z)(j5e(e,"clientID"),j5e(e,"anonymousClientID"),function(e){const t=pMe.Z.get("skipSignIn");return t.always((t=>{e.set("skipSignIn","1"===t)})),t}(e))}const R5e=X.Z.extend({lastModified:null,eTag:null,mixins:te.Z,url:function(){const e=M.DB("appModel"),t=e.get("user"),n="/sub/"+this.requestType+"/"+t.id+"/"+e.get("clientID"),i=new Gme.Z({scheme:"websockets"===this.requestType?"wss":"https",address:"pubsub.plex.tv"});return this.server.resolveUrl(n,{connection:i,appendToken:!0})},initialize:function(e){E().bindAll(this,"onSocketOpen","onSocketClose","onSocketError","onSocketMessage","onPingTimeout","onPollSuccess","onPollError"),this.server=e.server},open:function(){return(this.socket||this.pollRequest)&&this.close(),b.Z.hasWebSocket?(this._deferred=g().Deferred(),this.requestType="websockets",this.socket=new window.WebSocket(E().result(this,"url")),this.socket.onopen=this.onSocketOpen,this.socket.onclose=this.onSocketClose,this.socket.onerror=this.onSocketError,this.socket.onmessage=this.onSocketMessage,this._deferred.promise()):this.poll()},close:function(){this.pollRequest&&(x.Z.abort(this.pollRequest.rid),this.pollRequest=null),this._deferred&&"pending"===this._deferred.state()&&this._deferred.reject(),this.socket&&(this.cancelPing(),this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close(),this.socket=null)},schedulePing:function(){this.cancelPing(),this._pingTimeoutID=window.setTimeout(this.onPingTimeout,3e4)},cancelPing:function(){this._pingTimeoutID&&(window.clearTimeout(this._pingTimeoutID),this._pingTimeoutID=null)},poll:function(){this.requestType="longpolling",this.pollUrl=C.Z.join(E().result(this,"url"),{ttl:String(30)+"s"});const e=this.server.getXHROptions(this.pollUrl,{timeout:35e3});return e.headers["If-Modified-Since"]=this.lastModified?this.lastModified:"Thu, 01 Jan 1970 00:00:00 GMT",this.eTag&&(e.headers["If-None-Match"]=this.eTag),this.pollRequest=g().ajax(e).done(this.onPollSuccess).fail(this.onPollError),this.pollRequest.promise()},handleResponse:function(e){if(!e)return;const t=one.Z.parseXML(e);if(E().isObject(t)){const e=t.command;ee.Z.trigger(`cloudServer:${e}`,t)}},onSocketOpen:function(e){this.server.set("hasEventConnection",!0),this.trigger("open",this.server,e),this._deferred.resolve(this.server,e),this.schedulePing()},onSocketClose:function(e){this.close(),this.server.set("hasEventConnection",!1),this.trigger("close",this.server,e),this._deferred.reject(this.server,e)},onSocketError:function(e){this.close(),this.trigger("error",this.server,e),this._deferred.reject(this.server,e)},onSocketMessage:function(e){this.handleResponse(e.data)},onPingTimeout:function(){this._pingTimeoutID=null,this.socket.send("hello"),this.schedulePing()},onPollSuccess:function(e,t,n){this.trigger("open",this.server,e),this.lastModified=n.getResponseHeader("Last-Modified"),this.eTag=n.getResponseHeader("ETag"),this.handleResponse(e),this.poll()},onPollError:function(e,t){"abort"===t?this.poll():this.pollRequest.aborting||this.trigger("error",this.server,e)}}),z5e=ome.extend({supportsRetry:e=>e.get("isCloud")});function U5e(e){return e.get("isCloud")}const V5e=function(e){return(0,M.DB)("serverConnectionTestManager").queueConnectionTest(e)},B5e=function(e){return(0,M.DB)("serverConnectionTestManager").abortConnectionTest(e)},F5e=function(e){const{server:t,connection:n}=e;if(t.id)return g().Deferred().resolve(t.id).promise();const i=t.resolveUrl("/identity",{connection:n}),s=E().extend(t.getXHROptions(i),{timeout:t.connectionTestTimeout});(0,D.Z)(`[Identity] Requesting the machine identifier of ${t.get("debugName")} at ${i}`);let r=g().ajax(s).promise();return r=r.then((e=>{const n=g().Deferred(),i=Xi.Z.parseXML(e),s=i&&i.machineIdentifier;return s?((0,D.Z)(`[Identity] Machine identifier found for ${t.get("debugName")}: ${s}`),!t.collection||t.collection.get(s)?n.resolve(s):(t.collection.populateServer({isCloud:!0}).done((e=>{e.get("resources").populate().always((()=>{n.resolve(s)}))})),t.collection.findServer({isCloud:!0}).done((e=>{e.populate().fail((()=>{n.resolve(s)}))})).fail((()=>{n.resolve(s)})))):n.reject(),n.promise()})),r.fail((()=>{D.Z.warn(`[Identity] Machine identifier not found for ${t.get("debugName")} at ${i}`)})),r};var H5e=n(35424);const _5e=function(e){var t,n;return e.item?n=[t=e.item]:(n=e.items,t=n[0]),g().when.apply(g(),E().map(n,(function(e){var n="/library/metadata/"+e.id+"/refresh",i=E().extend(t.server.getXHROptions(n),{type:"PUT"});return g().ajax(i).promise()}))).fail((function(e){503===e.status?ee.Z.trigger("show:modal",new H5e.Z({model:t.server})):ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was a problem refreshing.")})}))},Q5e=function(e){var t=e.items;return g().when.apply(g(),E().map(t,(function(e){var t="/library/metadata/"+e.id+"/analyze",n=E().extend(e.server.getXHROptions(t),{type:"PUT"});return g().ajax(n).promise()})))},G5e=function(e){var t=g().Deferred(),n=e.section,i="/library/sections/"+n.id+"/analyze",s=E().extend(n.server.getXHROptions(i),{type:"PUT"}),r=new qne.Z({title:(0,De.Z)("Analyze Library"),message:(0,De.Z)("Analyzes all the media files in the library. The analysis captures information about the media which helps Plex decide how to optimally play back the media."),confirmLabel:(0,De.Z)("Analyze"),cancelLabel:(0,De.Z)("Cancel"),async:!0}),a=r.promise;return a.done((function(){var e=g().ajax(s);e.done((function(){t.resolve()})),e.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was a problem analyzing the library.")}),t.reject(e)})),e.always((function(e){r.hide()}))})),a.fail((function(){t.reject()})),ee.Z.trigger("show:modal",r),t.promise()},Y5e=function(e){var t=e.item,n="/library/metadata/"+t.id+"/unmatch",i=E().extend(t.server.getXHROptions(n),{type:"PUT"}),s=g().ajax(i);return s.fail((function(){ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was a problem unmatching this item.")})})),s.promise()},W5e=function(e){var t=g().Deferred(),n=e.item,i="/library/metadata/"+n.id+"/split",s=new qne.Z({title:(0,De.Z)("Split Apart"),message:(0,De.Z)("Are you sure you want to split this item apart?"),async:!0}),r=s.promise;return r.done((function(){var r=E().extend(n.server.getXHROptions(i),{type:"PUT"}),a=g().ajax(r);a.done((function(){var i,s=n.get("type");i="show"===s||"artist"===s||"album"===s?"Location":"Media",n.set(i,n.get(i).slice(0,1)),e.skipNavigate||(0,M.DB)("appStore").dispatch((0,pn.n)()),t.resolve()})),a.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was a problem splitting this item apart.")}),t.reject(e)})),a.always((function(e){s.hide()}))})),r.fail((function(){t.reject()})),ee.Z.trigger("show:modal",s),t.promise()},K5e=function(e){var t=g().Deferred(),n=e.item,i=E().pluck(e.items,"id").join(","),s="/library/metadata/"+n.id+"/merge?ids="+i,r=E().extend(n.server.getXHROptions(s),{type:"PUT"}),a=new qne.Z({title:(0,De.Z)("Merge"),message:(0,De.Z)("Are you sure you want to merge these items together?"),async:!0}),o=a.promise;return o.done((function(){var e=g().ajax(r);e.done((function(){t.resolve()})),e.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was a problem merging these items.")}),t.reject(e)})),e.always((function(e){a.hide()}))})),o.fail((function(){t.reject()})),ee.Z.trigger("show:modal",a),t.promise()};function q5e(e,t){return E().map(e,(function(e){return One.Z.execute("deleteItem",{item:e,skipRedirect:t})}))}const $5e=function(e){var t=e.items,n=e.item,i=e.skipConfirmation,s=e.skipRedirect;t||(t=[n]),n||(n=E().first(t));var r,a=n.get("Media");if(1===t.length&&a.length>1&&!n.get("remoteMedia")&&n.server.supports("specificMediaDeletion"))return One.Z.execute("deleteMediaItem",{item:n});if(i)r=g().when.apply(g(),q5e(t,s));else{var o=function(e){var t,n,i=e.item,s=e.items,r=s.length>1,a=i.get("remoteMedia"),o=i.get("type"),l=Ho.getMetadataType(o);a&&!r?(t=l.title,n=(0,De.Z)("Are you sure you want to remove {1}?",i.get("title"))):r&&s.every((e=>e.get("remoteMedia")))?(t=l.plural,n=(0,De.Z)("Are you sure you want to remove {1} items?",s.length)):o===Ho.COLLECTION?(t=l.title,n=(0,De.Z)("Are you sure you want to delete {1}? This cannot be undone.",i.get("title"))):r?(t=l.plural,n=(0,De.Z)("Are you sure you want to delete {1} items from your filesystem?",s.length)):(t=l.title,n=(0,De.Z)("Are you sure you want to delete this item from your filesystem?"));var c={title:a?(0,De.Z)("Remove {typeLabel}",{typeLabel:t}):(0,De.Z)("Delete {typeLabel}",{typeLabel:t}),message:n,confirmLabel:a?(0,De.Z)("Remove"):(0,De.Z)("Delete"),cancelLabel:(0,De.Z)("Cancel"),async:!0,hasDanger:!0};(r||Ho.isParentType(o))&&(c.requireDoubleConfirm=!0,c.doubleConfirmMessage=a?(0,De.Z)("Multiple files may be removed."):(0,De.Z)("Multiple items may be deleted."),c.doubleConfirmLabel=(0,De.Z)("Yes, I'm sure"));var d=new qne.Z(c);return ee.Z.trigger("show:modal",d),d}({item:n,items:t});r=o.promise.then((function(){return g().when.apply(g(),q5e(t,s)).always((function(){o.hide()}))}))}return r};var J5e=n(38892),X5e=n(83278),e6e=n.n(X5e);const t6e=J5e.Z.extend({name:"SelectMediaFileModal",template:e6e(),serializeData:function(){return{medias:this.model.get("Media")}}}),n6e=function(e){var t=function(e){var t=g().Deferred(),n=e.item,i=n.get("Media");if(e.index in i)return t.resolve(i[e.index]).promise();var s=new t6e({model:n}),r=s.promise;return r.done((function(e){t.resolve(i[e])})),r.fail((function(){t.reject()})),ee.Z.trigger("show:modal",s),t.promise()}(e);return t.then((function(t){var n=function(){var e=new qne.Z({title:(0,De.Z)("Delete File"),message:(0,De.Z)("Are you sure you want to delete this file from your filesystem?"),confirmLabel:(0,De.Z)("Delete"),cancelLabel:(0,De.Z)("Cancel"),async:!0,hasDanger:!0});return ee.Z.trigger("show:modal",e),e}();return n.promise.then((function(){return One.Z.execute("deleteFile",{item:e.item,media:t}).always((function(){n.hide()}))}))}))},i6e=function(e){var t=e.item,n=t.server,i=t.get("Media"),s=E().filter(i,(function(e){return!!e.proxyType})),r=function(e){var t,n=e.item,i=e.versions,s=i.length>1;if(s)t=(0,De.Z)("Are you sure you want to delete {1} versions of {2}?",i.length,n.get("title"));else{var r=E().first(i);t=(0,De.Z)("Are you sure you want to delete the {1} version of {2}?",r.title,n.get("title"))}var a=new qne.Z({title:s?(0,De.Z)("Delete Versions"):(0,De.Z)("Delete Version"),message:t,confirmLabel:(0,De.Z)("Delete"),cancelLabel:(0,De.Z)("Cancel"),async:!0,hasDanger:!0});return ee.Z.trigger("show:modal",a),a}({item:t,versions:s});return r.promise.then((function(){var e=C.Z.join(["/library/metadata/",t.id],{proxy:1}),a=E().extend(n.getXHROptions(e),{type:"DELETE"}),o=g().ajax(a);return o.done((function(){E().each(s,(function(e){i.splice(E().indexOf(i,e),1)})),t.trigger("change:Media",t,t.get("Media"))})),o.fail((function(e){var t=403===e.status?(0,De.Z)("Ensure that media deletion is enabled for library content in your server settings."):(0,De.Z)("There was a problem deleting these versions.");ee.Z.trigger("show:alert",{type:"error",message:t})})),o.always((function(){r.hide()})),o.promise()}))},s6e=function(e){var t=g().Deferred(),n=e.section,i=new qne.Z({title:(0,De.Z)("Delete Library"),message:(0,De.Z)("Are you sure you want to delete {1}?",n.get("title")),confirmLabel:(0,De.Z)("Delete"),cancelLabel:(0,De.Z)("Cancel"),requireDoubleConfirm:!0,doubleConfirmMessage:(0,De.Z)("This cannot be undone."),doubleConfirmLabel:(0,De.Z)("Yes, I'm sure"),async:!0,hasDanger:!0}),s=i.promise;return s.done((function(){var e=n.destroy({wait:!0});e?(e.done((function(){var e=M.DB("appStore").dispatch,i=n.server.entityID();i&&e((0,dS.jR)({serverEntityID:i})),t.resolve()})),e.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was a problem deleting the library.")}),t.reject(e)}))):t.resolve()})),s.fail((function(){t.reject()})),ee.Z.trigger("show:modal",i),t.promise().always((()=>{i.hide()})),t.promise()},r6e=function(e){var t=e.section,n="/library/sections/"+t.id+"/indexes",i=E().extend(t.server.getXHROptions(n),{type:"DELETE"}),s=new qne.Z({title:(0,De.Z)("Delete Preview Thumbnails"),message:(0,De.Z)("Are you sure you want to delete the preview thumbnails for items in this library? This cannot be undone."),confirmLabel:(0,De.Z)("Delete"),cancelLabel:(0,De.Z)("Cancel"),async:!0,hasDanger:!0}),r=s.promise;return r=r.then((function(){return(e=g().ajax(i)).done((function(e){ee.Z.trigger("show:alert",{type:"success",message:(0,De.Z)("The preview thumbnails for items in this library were deleted.")})})),e.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was a problem deleting the preview thumbnails for items in this library.")})})),e.always((function(e){s.hide()})),e;var e})),ee.Z.trigger("show:modal",s),r},a6e=function(e){var t=g().Deferred(),n="photo"===e.item.get("playlistType"),i=new qne.Z({title:n?(0,De.Z)("Delete Album"):(0,De.Z)("Delete Playlist"),message:(0,De.Z)("Are you sure you want to delete {1}? This cannot be undone.",e.item.get("title")),confirmLabel:(0,De.Z)("Delete"),cancelLabel:(0,De.Z)("Cancel"),async:!0,hasDanger:!0}),s=i.promise;return s.done((function(){var s=e.item.destroy();s.done((function(){e.skipRedirect||(0,M.DB)("appStore").dispatch((0,pn.n)()),t.resolve()})),s.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:n?(0,De.Z)("There was a problem deleting the album."):(0,De.Z)("There was a problem deleting the playlist.")}),t.reject(e)})),s.always((function(e){i.hide()}))})),s.fail((function(){t.reject()})),ee.Z.trigger("show:modal",i),t.promise()},o6e=function(e){var t=g().Deferred(),n=e.section,i=n?n.id:"all",s=e.cancel,r=n?n.server:e.server,a={};(e.params||{}).force&&(a.force=1);var o="/library/sections/"+i+"/refresh",l=E().extend(r.getXHROptions(o),{data:a});function c(){var e=g().ajax(l);e.done((function(){t.resolve()})),e.fail((function(e){if(503===e.status)ee.Z.trigger("show:modal",new H5e.Z({model:r}));else{var n=s?(0,De.Z)("There was a problem canceling the update."):(0,De.Z)("There was a problem updating the library.");ee.Z.trigger("show:alert",{type:"error",message:n})}t.reject(e)}))}if(s&&(l.type="DELETE",n&&n.set("refreshing",!1)),a.force){var d=new qne.Z({title:(0,De.Z)("Refresh All"),message:(0,De.Z)("Forces a download of fresh media information from the internet. This can take a long time. Any locked fields are not modified."),confirmLabel:(0,De.Z)("Refresh"),cancelLabel:(0,De.Z)("Cancel")}),u=d.promise;u.done(c),u.fail((function(){t.reject()})),ee.Z.trigger("show:modal",d)}else c();return t.promise()},l6e=function(e){var t=g().Deferred(),n=e.server,i=E().extend(n.getXHROptions("/library/optimize"),{type:"PUT"}),s=new qne.Z({title:(0,De.Z)("Optimize Database"),message:(0,De.Z)("Cleans up the library database and ensures it is operating as quickly as possible. This is especially useful when you've added or removed a large amount of media from the library."),confirmLabel:(0,De.Z)("Optimize"),cancelLabel:(0,De.Z)("Cancel"),async:!0}),r=s.promise;return r.done((function(){var e=g().ajax(i);e.done((function(){ee.Z.trigger("show:alert",{type:"success",message:(0,De.Z)("The database was optimized.")}),t.resolve()})),e.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was a problem optimizing this database.")}),t.reject(e)})),e.always((function(e){s.hide()}))})),r.fail((function(){t.reject()})),ee.Z.trigger("show:modal",s),t.promise()},c6e=function(e){var t=g().Deferred(),n=e.server,i=E().extend(n.getXHROptions("/library/clean/bundles"),{type:"PUT"}),s=new qne.Z({title:(0,De.Z)("Clean Bundles"),message:(0,De.Z)("The media server stores information about your media to disk, as well as posters, artwork, and other media resources from the internet. Running this task deletes any bundles which are no longer in use."),confirmLabel:(0,De.Z)("Clean"),cancelLabel:(0,De.Z)("Cancel"),async:!0}),r=s.promise;return r.done((function(){var e=g().ajax(i);e.done((function(){ee.Z.trigger("show:alert",{type:"success",message:(0,De.Z)("Unused bundles are being removed.")}),t.resolve()})),e.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was a problem removing unused bundles.")}),t.reject(e)})),e.always((function(e){s.hide()}))})),r.fail((function(){t.reject()})),ee.Z.trigger("show:modal",s),t.promise()},d6e=function(e){var t=g().Deferred(),n=e.section,i=n?n.server:e.server,s=[],r=[];n?s.push(n.id):i.get("sections").each((function(e){s.push(e.id)}));var a=new qne.Z({title:(0,De.Z)("Empty Trash"),message:(0,De.Z)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:(0,De.Z)("Empty"),cancelLabel:(0,De.Z)("Cancel"),async:!0}),o=a.promise;return o.done((function(){E().each(s,(function(e){var t="/library/sections/"+e+"/emptyTrash",n=E().extend(i.getXHROptions(t),{type:"PUT"});r.push(g().ajax(n))}));var e=g().when.apply(g(),r);e.done((function(){ee.Z.trigger("show:alert",{type:"success",message:(0,De.Z)("The trash was emptied.")}),t.resolve()})),e.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was a problem emptying the trash.")}),t.reject(e)})),e.always((function(e){a.hide()}))})),o.fail((function(){t.reject()})),ee.Z.trigger("show:modal",a),t.promise()},u6e=function(e){var t=e.item,n={guid:e.guid,name:e.name,year:e.year};"album"===t.get("type")&&e.children&&e.children.reduce((function(e,t){var n=t.get("id");return n&&(e["guid["+n+"]"]=t.get("guid")),e}),n);var i=C.Z.join(["/library/metadata/",t.id,"/match"],n),s=E().extend(t.server.getXHROptions(i),{type:"PUT"});return g().ajax(s).promise()},p6e=function(e){var t=g().Deferred(),n=e.item,i={agent:e.agent.id,manual:0},s=C.Z.join(["/library/metadata/",n.id,"/matches"],i),r=E().extend(n.server.getXHROptions(s)),a=g().ajax(r);return a.done((function(e){var s=E().isObject(e)?e:one.Z.parseXML(e);if(s.SearchResult){var r=s.SearchResult;Array.isArray(s.SearchResult)&&(r=s.SearchResult[0]),i={guid:r.guid,name:r.name};var a=C.Z.join(["/library/metadata/",n.id,"/match"],i),o=E().extend(n.server.getXHROptions(a),{type:"PUT"}),l=g().ajax(o);l.done((function(){t.resolve()})),l.fail((function(){ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was a problem matching this item.")}),t.reject()}))}else ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("No matches were found using this agent.")}),t.reject()})),a.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was a problem searching for matches.")}),t.reject(e)})),t.promise()};var m6e={poster:"thumb",art:"art",banner:"banner"};const h6e=function(e){var t=e.item,n={url:e.artworkRatingKey},i=C.Z.join(["/library/metadata/",t.id,e.artworkType],n),s=E().extend(t.server.getXHROptions(i),{type:"PUT"}),r=g().ajax(s);return r.done((function(n){t.set(m6e[e.artworkType],n)})),r.promise()},g6e=function(e){var t=e.item,n=e.rating,i=t.get("userRating");if(-1===n?t.unset("userRating"):t.set("userRating",n),e.passive)return g().Deferred().resolve().promise();var s={key:t.get("ratingKey"),identifier:t.get("identifier"),rating:n},r=C.Z.join("/:/rate",s),a=g().ajax(t.server.getXHROptions(r));return a.fail((function(){t.set("userRating",i),ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was a problem rating this item.")})})),a.promise()},y6e=function(e){var t=g().Deferred(),n=e.item,i=n.server,s=e.media||E().first(n.get("Media")),r=e.part||s&&E().first(s.Part),a=e.streamType,o=e.streamID;if(!s||!r)return t.reject().promise();var l={};l[a.key]=o,!e.media&&i.supports("allPartsStreamSelection")&&(l.allParts=1);var c=C.Z.join(["/library/parts/",r.id],l),d=E().extend(i.getXHROptions(c),{type:"PUT"}),u=g().ajax(d);return u.done((function(){(function(e,t,n){if(e){const i=(0,x0.Z)(e,{streamType:t.id});E().each(i,(e=>{e.selected=e.id===n}))}})(s,a,o),n.trigger("change:streams"),t.resolve()})),u.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was a problem selecting the stream for this item.")}),t.reject(e)})),t.promise()},v6e=function(e){var t,n=e.item,i=e.media,s=n.server;if(i){var r="/library/metadata/"+n.id+"/media/"+i.id,a=E().extend(s.getXHROptions(r),{type:"DELETE"});(t=g().ajax(a)).done((function(){var t=e.item.get("Media");t.splice(E().indexOf(t,i),1),n.trigger("change:Media",n,n.get("Media"))}))}else t=n.destroy({wait:!0});return t.fail((function(e){var t=403===e.status?(0,De.Z)("Ensure that media deletion is enabled for library content in your server settings."):(0,De.Z)("There was a problem deleting this item.");ee.Z.trigger("show:alert",{type:"error",message:t})})),t};var f6e=n(24079),I6e=Object.assign;function b6e(e,t){if(!e)return!1;var n=new KM.Z({key:e},{server:t.item.server,onlyIfCached:!0});return!E().isEmpty(n)&&n}function M6e(e){if(e.skipRedirect)return;const t=e.item,n=t.get("isLibraryItem")&&t.parent,i=t.get("librarySectionKey")||n&&n.get("librarySectionKey");if(!i)return void(0,M.DB)("appStore").dispatch((0,pn.n)());const s=(0,f6e.Z)(t.provider,i),r=(0,zg.Z)(t.server.toJSON(),t.provider.toJSON(),s);r?(0,M.DB)("appStore").dispatch((0,pn.c4)({pathname:r,replace:!0})):(0,M.DB)("appStore").dispatch((0,pn.n)())}function S6e(e,t){t.skipRedirect||(0,M.DB)("appStore").dispatch((0,pn.yB)({serverEntityID:e.server.entityID(),providerEntityID:e.provider.entityID(),key:e.get("key"),replace:!0}))}const E6e=function(e){var t=One.Z.execute("deleteFile",e);return t.done((function(){var t=e.item,n=b6e(t.get("parentKey"),e);if(n){var i=new MD.Z({containerKey:n.get("childrenKey")},{server:n.server,provider:n.provider,skipCache:!0});i.fetchRange({size:1}).then((()=>{if(i.getCollection().length>0)S6e(n,e);else{n.trigger("destroy",n,n.collection);var s=b6e(t.get("grandparentKey"),e);if(s){var r=new MD.Z({containerKey:s.get("childrenKey")},{server:s.server,provider:s.provider,skipCache:!0});r.fetchRange({size:1}).then((()=>{r.getCollection().length>0?S6e(s,I6e(I6e({},e),{skipRedirect:!1})):M6e(e)}))}else M6e(I6e(I6e({},e),{skipRedirect:!1}))}}))}else M6e(e)})),t},D6e=function(e){var t=e.generator,n=E().result(t,"url")+"/"+e.ratingKey+"/enable",i=E().extend(t.server.getXHROptions(n),{type:"PUT"}),s=g().ajax(i).promise();return s.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was a problem enabling this version.")})})),s},C6e=function(e){var t=e.generator,n=E().result(t,"url")+"/"+e.ratingKey+"/disable",i=function(){var e=new qne.Z({title:(0,De.Z)("Remove Version"),message:(0,De.Z)("Are you sure you want to delete this version? You can enable it again in Optimized Versions Settings."),confirmLabel:(0,De.Z)("Remove"),cancelLabel:(0,De.Z)("Cancel"),async:!0,hasDanger:!0});return ee.Z.trigger("show:modal",e),e}();return i.promise.then((function(){var e=E().extend(t.server.getXHROptions(n),{type:"PUT"}),s=g().ajax(e).promise();return s.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was a problem disabling this version.")})})),s.always((function(){i.hide()})),s}))},P6e=function(e){var t=e.generator,n=e.ratingKey,i=E().result(t,"url");n&&(i+="/"+n),i+="/reprocess";var s=E().extend(t.server.getXHROptions(i),{type:"PUT"}),r=g().ajax(s).promise();return r.fail((function(e){var t=n?(0,De.Z)("There was a problem processing this item."):(0,De.Z)("There was a problem processing these items.");ee.Z.trigger("show:alert",{type:"error",message:t})})),r},w6e=function(e){var t=e.generator,n=function(e){var t=e.generator.get("title"),n=t?(0,De.Z)("Removing this item will delete all versions created by {1}. Are you sure you want to continue?",t):(0,De.Z)("Removing this item will delete all related versions. Are you sure you want to continue?"),i=new qne.Z({title:(0,De.Z)("Delete Versions"),message:n,confirmLabel:(0,De.Z)("Remove"),cancelLabel:(0,De.Z)("Cancel"),async:!0,hasDanger:!0});return ee.Z.trigger("show:modal",i),i}(e);return n.promise.then((function(){var e=t.destroy();return e.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("Unable to stop generating these versions.")})})),e.always((function(){n.hide()})),e}))},T6e=function(e){var t=function(){var e=new qne.Z({title:(0,De.Z)("Delete All Versions"),message:(0,De.Z)("Are you sure you want to delete all versions? This cannot be undone."),confirmLabel:(0,De.Z)("Delete"),cancelLabel:(0,De.Z)("Cancel"),async:!0,hasDanger:!0});return ee.Z.trigger("show:modal",e),e}(),n=t.promise;return n.then((function(){var n="/playlists/generators?type="+mne.Z.LOCAL,i=E().extend(e.server.getXHROptions(n),{type:"DELETE"}),s=g().ajax(i).promise();return s.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was a problem deleting all versions.")})})),s.always((function(){t.hide()})),s.promise()}))},Z6e=function(e){var t,n=g().Deferred(),i=e.channel,s=i?i.server:e.server,r=e.silent;if(i){var a=i.get("identifier");t=(a?"/system/appstore/apps/"+a:i.get("key"))+"/update"}else t="/system/appstore/updates";var o=g().ajax(s.getXHROptions(t));function l(e){r||ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was a problem checking for updates.")}),n.reject(e)}return o.done((function e(t){var i=E().isObject(t)?t:one.Z.parseXML(t);if(i&&(i.message||i.Directory))if(i.message)r||ee.Z.trigger("show:alert",{type:"success",message:i.message}),n.resolve();else{one.Z.parseArray(i,"Directory");var a=i.Directory[0].key,o=g().ajax(s.getXHROptions(a));o.done(e),o.fail(l)}else l()})),o.fail(l),n.promise()},N6e=function(e){var t=g().Deferred(),n=e.channel,i=n.get("identifier"),s=(i?"/system/appstore/apps/"+i:n.get("key"))+"/uninstall",r=n.server.getXHROptions(s);function a(){var i=g().ajax(r);i.done((function(i){var s=E().isObject(i)?i:one.Z.parseXML(i);n.set("installed",!1),s.message&&!e.skipConfirmation&&ee.Z.trigger("show:alert",{type:"success",message:s.message}),t.resolve()})),i.fail((function(e){if(400===e.status){var i=new qne.Z({title:(0,De.Z)("Unable to Uninstall Plugin"),message:(0,De.Z)("This plugin could not be uninstalled, but you can disable it in the server settings."),confirmLabel:(0,De.Z)("OK"),cancelLabel:(0,De.Z)("Ignore")});i.promise.done((function(){(0,Ine.Z)("serverSettings",{machineIdentifier:n.server.id,settingsSection:"settings",settingsGroup:"channels"})})),ee.Z.trigger("show:modal",i)}else ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("This plugin could not be uninstalled.")});t.reject(e)}))}if(e.skipConfirmation)a();else{var o=new qne.Z({title:(0,De.Z)("Uninstall Plugin"),message:(0,De.Z)("Are you sure you want to uninstall this plugin?")}),l=o.promise;l.done(a),l.fail((function(){t.reject()})),ee.Z.trigger("show:modal",o)}return t.promise()},A6e=function(e){var t,n=e.cloudAccount,i=n.server.get("desktop").get("settings").get("PublishServerOnPlexOnlineKey"),s=g().Deferred();if(!n.get("isWaiting")){var r=e.value?zge:Uge;n.set("remoteAccessState",r)}var a=n.previous("remoteAccessState"),o=i.save({PublishServerOnPlexOnlineKey:e.value},{timeout:0});return o.done((function i(){n.fetch().done((function(){var r=n.get("mappingState"),a=e.value&&r===Oge,o=!e.value&&r===kge;r===jge||a||o?t||(t=window.setInterval(i,500)):(t=window.clearInterval(t),n.get("isWaiting")&&n.set("remoteAccessState",""),s.resolve())}))})),o.fail((function(t){var i;i=e.value?(0,De.Z)("There was a problem connecting your server."):(0,De.Z)("There was a problem disconnecting your server."),ee.Z.trigger("show:alert",{type:"error",message:i}),n.set("remoteAccessState",a),s.reject(t)})),s.promise()},x6e=function(e){var t=e.cloudAccount,n={cloudAccount:t,value:!1},i=One.Z.execute("connectServer",n);return(i=i.then((function(){return n.value=!0,One.Z.execute("connectServer",n)}))).then((function(){if(t.get("mappingError"))return g().Deferred().reject().promise()}))},L6e=function(e){const{cloudAccount:t,username:n,password:i,claim:s=!1}=e,r=g().Deferred(),a=t.server,o=(0,M.DB)("appModel"),l=o.get("user"),c=o.get("cloudServer"),d=a.get("accessToken");a.set("accessToken",l.get("authToken"));const u=s?function(e,t){const n=t.getXHROptions("/api/claim/token");let i=g().ajax(n).promise();return i=i.then((t=>{const{token:n}=Xi.Z.parseXML(t),i=C.Z.join("/myplex/claim",{token:n}),s=e.getXHROptions(i,{type:"POST"});return g().ajax(s).promise()})),i}(a,c):function(e,t,n){const i=C.Z.join("/myplex/account",{username:e,password:t}),s=n.getXHROptions(i,{type:"PUT"});return g().ajax(s).promise()}(n,i,a);return u.done((e=>{const n=E().isObject(e)?e:Xi.Z.parseXML(e);n&&"invalid"===n.signInState?(ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("The username or password is incorrect.")}),r.reject()):(a.set({myPlexSigninState:GB.Hq,myPlexUsername:l.get("email")}),t.set({signedIn:!0,username:l.get("email")}),r.resolve())})),u.fail((e=>{let n;a.set("accessToken",d),!0===t.get("signedIn")&&t.set("signedIn",!1),n=401===e.status?(0,De.Z)("The username or password is incorrect."):(0,De.Z)("There was a problem signing in to Plex."),ee.Z.trigger("show:alert",{type:"error",message:n}),r.reject(e)})),r.promise()};function O6e(e){e.trigger("destroy",e,e.collection),e.cache.remove(e)}const j6e=function(e){var t,n=M.DB("appModel").get("user"),i=e.device,s=e.server||function(e){var t=new GB.ZP({machineIdentifier:e},{onlyIfCached:!0});if(!E().isEmpty(t))return t}(i.get("clientIdentifier"));t=i?(0,De.Z)("If you remove the server, all syncs and shares associated with the server will be lost and you will need to sign the server in again to restore access to Plex."):(0,De.Z)("Are you sure you want to remove this server?");var r={title:(0,De.Z)("Remove Server"),message:t,confirmLabel:(0,De.Z)("Remove"),cancelLabel:(0,De.Z)("Cancel"),async:!0,hasDanger:!0};i&&(r.requireDoubleConfirm=!0,r.doubleConfirmMessage=(0,De.Z)("Are you sure you want to remove this server?"),r.doubleConfirmLabel=(0,De.Z)("Yes, I'm sure"));var a=new qne.Z(r),o=a.promise;return o=o.then((function(){return function(){var e;if(i)e=i.destroy({wait:!0});else{var t="/api/servers/"+s.id,r=E().extend(n.server.getXHROptions(t),{type:"DELETE"});e=g().ajax(r)}if(s){if(s.get("connected")&&s.get("myPlexSigninState")===GB.Hq){var o=s.get("desktop").get("cloudAccount");e=(e=e.then((function(){return o.fetch()}))).then((function(){return function(e){var t=e.get("desktop").get("cloudAccount").destroy();return t.done((function(){e.set({accessToken:void 0,myPlexSigninState:GB.Ar,myPlexSubscription:!1})})),t}(s)}))}!1===s.get("connected")?O6e(s):e.always((function(){ee.Z.trigger("test:server",s),s.populate().fail((function(){O6e(s)}))}))}return e.always((function(){a.hide()})),e.promise()}()})),ee.Z.trigger("show:modal",a),o};var k6e=n(83105);const R6e=(0,k6e.UY)({metadataItemState:ar.Z.reducer,metadataLists:Gn.Z.reducer,metadataTimelineState:El.reducer,user:Qm.reducer,serverAccounts:GY.reducer,serverActivities:ka.reducer,serverDevices:KY.reducer,serverNowPlayingSessions:_m.reducer,servers:ja.reducer}),z6e=(0,k6e.UY)({bandwidth:cie.reducer,playHistory:Wse.reducer,resources:lre.reducer,topPlayed:Ere.reducer,topUsers:xre.reducer}),U6e=(0,k6e.UY)({dvrSetup:Qoe.reducer,epgSettings:Xoe.reducer}),V6e=(0,k6e.UY)({addToPlaylist:Cl.reducer,dashboard:z6e,advancedFilters:Ff.reducer,directory:qm.reducer,downloads:Fa.reducer,dvrManagement:U6e,home:RU.reducer,importPlaylists:IE.reducer,libraryManagement:_ae.reducer,metadataMultiselect:Gr.reducer,players:Gm.reducer,playHistory:eW.reducer,prePlay:B9.reducer,twoFactorAuth:rze.reducer}),B6e=(0,k6e.UY)({core:R6e,features:V6e}),F6e=(0,Fr.PH)("v4/reset"),H6e=function(){const e=(0,M.DB)("appStore"),t=(0,M.DB)("appModel"),n=t.get("ui"),i=t.get("user"),s=t.get("fakeRouter"),r=i.server;let a=i.clearAccessToken();return a=a.fail((()=>{D.Z.warn("Failed to clear the access token and user storage")})).always((()=>{t.set("history",[]),e.dispatch(F6e()),n&&n.restoreDefaults(),s&&s.restoreDefaults(),x.Z.abortAll(),i.signOut(),i.uninitialize(),i.initialize(),ee.Z.trigger("clear:servers"),e.dispatch((0,pn.$e)({budget:1/0})),ee.Z.trigger("clearAll:cache"),r.cache.store(r)})),a=a.then((()=>function(e){const t=g().Deferred();return e&&e.then?e.then(t.resolve,t.reject):t.resolve(e),t.promise()}((0,M.DB)("serviceWorker").sendMessage({type:"SIGN_OUT"})))),(0,F.Z)(a)};var _6e=n(23593);const Q6e=function(e={}){const t=(0,M.DB)("appModel").get("user"),n=t.get("signedIn"),i=t.id!==e.homeUser.id,s=e.allowGuestLock,r=!!e.isRemoteUser,a=i||s,o=!1!==e.shouldUnlock;let l=n?One.Z.execute("authenticateWithServer",e):One.Z.execute("authenticateWithHash",e);return n&&a?l=l.then((t=>function(e,t){const n=(0,M.DB)("appModel").get("user");let i=One.Z.execute("resetUser");return i=i.then((()=>{n.activateStoredUser(t.homeUser.id);const i=_6e.Z.getActiveUser();i&&i.copyToModel(n),ee.Z.trigger("init:servers");const s={};return!1!==t.shouldUnlock&&(s.lockState=Xe.Ik.Unlocked),n.signIn(e,s)})),i.done((()=>{(0,M.DB)("metrics").trackEvent({event:WZ.PS,interaction:!0})})),i}(t,e))):l.done((()=>{const e={isRemote:r};o&&(e.lockState=Xe.Ik.Unlocked),t.set(e)})),l};var G6e=Object.assign;function Y6e(e,t={}){return G6e({includeSubscriptions:1,includeProviders:1,includeSettings:J.Z.allowSyncSettings?1:0,includeSharedSettings:(0,GPe.Z)(e)?1:0},t)}var W6e=Object.assign;const K6e=function(e){return e.headers=W6e(W6e({},z.Z.getInstance()),e.headers||{}),g().ajax(e)},q6e=function(e){var t=e.homeUser,n=M.DB("appModel").get("user"),i=t.get("uuid")||n.get("uuid"),s=Y6e(n,{pin:e.pin}),r=C.Z.join(["/api/v2/home/users/",i,"/switch"],s),a=t.server.getXHROptions(r,{type:"POST",xhrFields:{withCredentials:J.Z.allowSSO}});return K6e(a)},$6e=function(e){const t=g().Deferred().resolve().promise(),n=g().Deferred().reject().promise(),i=_6e.Z.getActiveUser();if(!i)return n;const s=i.get("pin"),r=i.get("authToken");return s||e.pin?s===(0,M.DB)("appModel").get("user").hashPIN(e.pin,r)?t:n:t};var J6e=n(82642),X6e=n(69009),e9e=n.n(X6e);const t9e=J5e.Z.extend({name:"selectDeviceModal",template:e9e(),serializeData:function(){return{devices:this.collection.toJSON()}}}),n9e=function(e){var t=M.DB("appModel").get("user"),n=e.item.server;if(n.get("myPlexSigninState")===GB.Hq)if(n.get("allowSync")){var i=t.get("desktop").get("devices").filterSyncDevices(e.item),s=E().clone(e);if(i.length){var r=new t9e({collection:i});r.promise.done((function(e){s.device=i.get(e),ee.Z.trigger("show:modal",new Aae(s))})),ee.Z.trigger("show:modal",r)}else ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("You are not signed in to any sync capable devices.")})}else ee.Z.trigger("show:modal",new J6e.Z({model:n}));else{var a=(0,De.Z)("This server needs to be connected to Plex to sync its content.");ee.Z.trigger("show:alert",{type:"error",message:a})}},i9e=function(e){var t=e.syncItem,n=e.server;if(!t.server.get("connected"))return ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("Please sign in to remove sync items.")}),g().Deferred().reject().promise();var i=function(){var e=new qne.Z({title:(0,De.Z)("Stop Syncing"),message:(0,De.Z)("Are you sure you want to stop syncing this item? All files created by this job will be removed from the device."),confirmLabel:(0,De.Z)("Remove"),cancelLabel:(0,De.Z)("Cancel"),async:!0,hasDanger:!0});return ee.Z.trigger("show:modal",e),e}(),s=i.promise.then((function(){var e=t.destroy();return e.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was a problem removing this sync item.")})})),e.always((function(){i.hide()})),e}));return s.then((function(){return One.Z.execute("refreshSyncLists",{server:n,silent:!0,skipContent:!0})}))},s9e=function(e){var t=e.server,n=E().extend(t.getXHROptions("/sync/refreshSynclists"),{type:"PUT"}),i=g().ajax(n);return e.skipContent||(i=i.then((function(e){var n=E().extend(t.getXHROptions("/sync/refreshContent"),{type:"PUT"});return g().ajax(n)}))),i.done((function(){e.silent||ee.Z.trigger("show:alert",{type:"success",message:(0,De.Z)("Synced items were refreshed.")})})),i.promise()},r9e=function(e){var t=e.device,n=(0,De.Z)("If you remove this device, you will need to sign in again on the device to restore access to Plex."),i=new qne.Z({title:(0,De.Z)("Remove Device"),message:n,confirmLabel:(0,De.Z)("Remove"),cancelLabel:(0,De.Z)("Cancel"),async:!0,hasDanger:!0}),s=i.promise;return s=s.then((function(){return(e=t.destroy({wait:!0})).fail((function(){ee.Z.trigger("show:alert",{type:"error",message:(0,De.Z)("There was a problem removing this device.")})})),e.always((function(){i.hide()})),e.promise();var e})),ee.Z.trigger("show:modal",i),s},a9e=function(e){return(0,F.Z)(K6e({url:"https://plex.tv/api/v2/users/signout",headers:{"X-Plex-Token":e.accessToken},type:"DELETE",xhrFields:{withCredentials:!1}}))},o9e=function(){(0,M.DB)("metrics").trackEvent({event:WZ.CM,interaction:!0});const e=J.Z.allowSSO,t=(0,M.DB)("appModel").get("user").get("authToken");return(0,F.Z)(e?a9e({accessToken:t}):g().Deferred().resolve().promise()).then((()=>One.Z.execute("resetUser"))).then((()=>(_6e.Z.restoreDefaults(),_6e.Z.save()))).then((()=>{e&&a9e({accessToken:t}),ee.Z.trigger("init:servers")}))},l9e=function(){const e=g().Deferred();return(0,M.DB)("appModel").get("user").get("isLocked")?e.reject():e.resolve(),e.promise()};function c9e(){return One.Z.registerAll(p),g().Deferred().resolve().promise()}const d9e="leaderStatusChanged",u9e={subscribe(){ee.Z.on("cloudServer:processRemoteControlCommand",this.onCloudServerCommand,this)},unsubscribe(){ee.Z.off("cloudServer:processRemoteControlCommand",this.onCloudServerCommand,this)},onCloudServerCommand(e){const t=e.Command,n={supportsTimeline:!1,path:t.path,commandID:t.commandID,query:{key:[t.queryKey],offset:[t.queryOffset],mediaIndex:[t.queryMediaIndex],containerKey:[t.queryContainerKey],playQueueID:[t.queryPlayqueueid],type:[t.queryType],volume:[t.queryVolume],repeat:[t.queryRepeat],autoPlay:[t.queryAutoPlay],subtitleSize:[t.querySubtitleSize],audioStreamID:[t.queryAudioStreamID],subtitleStreamID:[t.querySubtitleStreamID],token:[t.queryToken],machineIdentifier:[t.queryMachineIdentifier],protocol:[t.queryProtocol],address:[t.queryAddress],port:[t.queryPort],text:[t.queryText],field:[t.queryField]}};(0,M.DB)("localCompanionCommandHandler")(n)}};let p9e=null,m9e=null;function h9e(){const e=y9e();return!(e&&!e.isLeader())&&(0,M.DB)("settingFinder").find("companion")}function g9e(){if(!h9e())return;const e=(0,M.DB)("appModel"),t=e.get("cloudServer"),n=e.get("clientID");t&&t.get("authorized")&&n&&n!==p9e&&(p9e=n,D.Z.info('[Companion] Registering player with plex.tv, clientID="%s"',n),(0,M.DB)("companionProxy").registerPlayer(t,n).done((()=>{D.Z.info('[Companion] Registered player with plex.tv, clientID="%s"',n)})).fail((e=>{e||(e={}),p9e=null,D.Z.warn('[Companion] Couldn\'t register player with plex.tv, status="%s", response="%s"',e.status,e.responseText&&e.responseText.substr(0,100))})))}function y9e(){return(0,M.s4)("companionVote")?(0,M.DB)("companionVote"):null}function v9e(){const e=(0,M.DB)("companionProxy"),t=h9e();return m9e===t?g().Deferred().resolve().promise():(m9e=t,t?(u9e.subscribe(),g().when(e.subscribe((0,M.DB)("localCompanionCommandHandler")))):(u9e.unsubscribe(),g().when(e.unsubscribe(),function(){const e=(0,M.DB)("appModel"),t=e.get("cloudServer"),n=e.get("clientID");if(t.get("authorized")&&n)return D.Z.info('[Companion] Unregistering player with plex.tv, clientID="%s"',n),(0,M.DB)("companionProxy").unregisterPlayer(t,n).done((()=>D.Z.info('[Companion] Unregistered player with plex.tv, clientID="%s"',n))).fail(((e={})=>D.Z.warn('[Companion] Couldn\'t unregister player with plex.tv, status="%s", response="%s"',e.status,e.responseText&&e.responseText.substr(0,100))))}())))}function f9e(){const e=(0,M.DB)("appModel"),t=e.get("cloudServer");g9e(),e.on("change:clientID",g9e),t.on("change:authorized",g9e),(0,M.DB)("settingFinder").addCompanionChangeListener(v9e);const n=y9e();let i;return n&&n.on(d9e,(e=>{D.Z.info(e?"[Companion] Elected to poll leader role":"[Companion] Lost poll leader role"),v9e()})),i=h9e()?v9e().then((()=>{const e=(0,M.DB)("companionProxy").getDeepLink();return e.fail((()=>{D.Z.warn("[Companion] Ignoring error getting deep link")})),(0,F.Z)(e)})):g().Deferred().resolve().promise(),i}function I9e(){const e=(0,M.DB)("appModel");return(0,QB.Z)(e.get("settings").populate(),e.get("deviceSettings").populate())}const b9e=X.Z.extend({getStorage(){},get(e){return this._catchStorageError((t=>{const n=window.PLEXWEB,i=n&&e in n?n[e]:t.getItem(e);if(null==i)throw new Error(`${e} is not in ${this.name}`);return i}))},set(e,t){return this._catchStorageError((n=>{if(!e)throw new Error(`Unable to set value in ${this.name} without a key`);if(null==t)throw new Error(`Unable to set null or undefined value for ${e} in ${this.name}. Use the remove function.`);return n.setItem(e,t)}))},remove(e){return this._catchStorageError((t=>t.removeItem(e)))},clear(){return this._catchStorageError((e=>e.clear()))},_catchStorageError(e){const t=g().Deferred();try{t.resolve(e(this.getStorage()))}catch(e){D.Z.warn(e.message),t.reject(e)}return t.promise()}}),M9e=b9e.extend({name:"BasicVolatileStorage",initialize(){const e={};this.api={getItem:t=>e[t],setItem(t,n){e[t]=n},removeItem(t){delete e[t]},clear(){for(const t in e)e.hasOwnProperty(t)&&delete e[t]}}},getStorage(){return this.api}}),S9e=new xP.Z({interface:["get","set","remove","clear"]});var E9e=n(98119);function D9e(e,t){return pMe.Z.get(e).then((e=>(0,E9e.Z)(e,t)),(()=>{if(t)return g().Deferred().resolve(t).promise()}))}function C9e(e,t){return pMe.Z.set(e,JSON.stringify(t))}var P9e=Object.assign;const w9e=function(e){return e.isDirty=!0,D9e(_6e.Z.storageKey).then((t=>{if(t.users)return t.users.forEach((t=>{t.experienceSettings=P9e(P9e({},t.experienceSettings),e)})),C9e(_6e.Z.storageKey,t)}))};var T9e=Object.assign;const Z9e=["homeSettings"],N9e=function(){const e=(0,M.DB)("StoredUserExperienceSettingsModel"),t=Object.keys(T9e(T9e({},e.prototype.syncedAttrs),e.prototype.syncedRelations)),n=E().without(t,...Z9e),i=D9e("experience").then((e=>{const t=E().pick(e,n);return w9e(t).then((()=>pMe.Z.remove("experience")))}));return(0,F.Z)(i)};var A9e=n(60214);const x9e=A9e.Z.extend({name:"DeviceSettingsModel",storageKey:"deviceSettings",sessionAttrs:{isSaving:bD.Z.boolean,saveError:bD.Z.object},syncedAttrs:{v4DirectoryEnabled:bD.Z.boolean,v4DVRSetupEnabled:bD.Z.boolean,autoLogin:bD.Z.boolean,chromecastAppID:bD.Z.string,chromecastCustomAppID:bD.Z.string,sonosCustomBaseURL:bD.Z.string,debugAdKind:bD.Z.integer,debugLevel:bD.Z.integer,debugVideoQualityOverlay:bD.Z.boolean,directPlay:bD.Z.boolean,directStream:bD.Z.boolean,rejectDirectConnections:bD.Z.boolean,restorePlayQueue:bD.Z.object,shouldSyncSettings:bD.Z.boolean,hasDismissedInsecureHostedAppWarning:bD.Z.boolean,hasDismissedServerDownloadMessage:bD.Z.boolean,dismissedUnclaimedServers:bD.Z.object,dismissedServerUpdateVersions:bD.Z.object,volume:bD.Z.integer,serverUpdateDismissedVersion:bD.Z.string},defaults:()=>({isSaving:!1,saveError:null,v4DirectoryEnabled:!1,v4DVRSetupEnabled:!1,autoLogin:!1,chromecastAppID:fwe.PRODUCTION,debugAdKind:PPe.Z.NONE,debugLevel:wPe.Z.DISABLED,debugVideoQualityOverlay:!1,directPlay:!0,directStream:!0,rejectDirectConnections:!1,restorePlayQueue:null,shouldSyncSettings:J.Z.allowSyncSettings,hasDismissedInsecureHostedAppWarning:!1,hasDismissedServerDownloadMessage:!1,dismissedUnclaimedServers:{},dismissedServerUpdateVersions:{},volume:90})});var L9e=Object.assign;const O9e=["debugVideoQualityOverlay","restorePlayQueue","volume"],j9e=function(){const e=x9e.prototype.storageKey,t=D9e("experience").then((t=>{const n=E().pick(t,O9e);if(0!==Object.keys(n).length)return D9e(e,{}).then((t=>{const i=L9e(L9e({},t),n);return C9e(e,i)}))}));return(0,F.Z)(t)};var k9e=n(66050);function R9e(e){const t=window.navigator;let n;return e?n=[e]:t.languages?n=t.languages:t.language?n=[t.language]:t.userLanguage&&(n=[t.userLanguage]),u1(n)||"en"}const z9e=wD.Z.extend({name:"ReminderModel",syncedAttrs:{data:bD.Z.object,id:bD.Z.string.isRequired,remindAfter:bD.Z.string.isRequired,times:bD.Z.integer.isRequired}}),U9e=_S.Z.extend({name:"ReminderCollection",model:z9e});var V9e=n(95561),B9e=Object.assign;const F9e=yae.Z.ORIGINAL,H9e=A9e.Z.extend({name:"UserExperienceSettingsModel",sessionAttrs:B9e(B9e({},V9e.Z.sessionAttrs),{isRemoteSchemaVersionNewer:bD.Z.boolean}),syncedAttrs:B9e(B9e({},V9e.Z.syncedAttrs),{schemaVersion:bD.Z.integer,language:bD.Z.string,playThemeMusic:bD.Z.boolean,companion:bD.Z.boolean,allowHttpFallback:bD.Z.string,timeFormat:bD.Z.string,autoAdjustQuality:bD.Z.boolean,remoteSmallVideoAtOriginalQuality:bD.Z.boolean,useHomeStreamingRecommendedSettings:bD.Z.boolean,localQuality:bD.Z.integer,remoteQuality:bD.Z.integer,audioBoost:bD.Z.integer,subtitleColor:bD.Z.string,subtitlePosition:bD.Z.string,subtitleSize:bD.Z.integer,subtitlesBurnLevel:bD.Z.string,extrasPrefixCount:bD.Z.integer,audioForceMultiChannel:bD.Z.boolean,forceTranscodeProtocolHLS:bD.Z.boolean,autoPlay:bD.Z.boolean,calendarViewType:bD.Z.string,columnAdjustment:bD.Z.integer,columnWidthMultiplier:bD.Z.float,dashboardNowPlayingShowDetails:bD.Z.boolean,hasDismissedDVRUpsell:bD.Z.boolean,hasDismissedServerDashboardUpsell:bD.Z.boolean,hasDismissedNewsSunsetBanner:bD.Z.boolean,hasDismissedHubPromotionWarning:bD.Z.boolean,hasDismissedCustomHomeSunset:bD.Z.boolean,isSidebarCollapsed:bD.Z.boolean,libraryTableColumns:bD.Z.object,listStyles:bD.Z.object,prePlayListStyles:bD.Z.object,directoryListStyles:bD.Z.object,directoryTableColumns:bD.Z.object,savedDirectoryListKeys:bD.Z.object,relayReminders:bD.Z.object,showAdvancedSettings:bD.Z.boolean,showPrePlayArtwork:bD.Z.boolean,musicDownloadQuality:bD.Z.integer,videoDownloadQuality:bD.Z.integer,searchAllServers:bD.Z.boolean,libraryRoutes:bD.Z.object}),syncedRelations:B9e(B9e({},V9e.Z.syncedRelations),{reminders:{relationClass:U9e}}),defaults:()=>B9e(B9e({},V9e.Z.defaults),{isRemoteSchemaVersionNewer:!1,language:R9e(),playThemeMusic:!1,companion:!0,allowHttpFallback:TPe.Z.NEVER,timeFormat:"h:mma",autoAdjustQuality:!1,remoteSmallVideoAtOriginalQuality:!0,useHomeStreamingRecommendedSettings:!0,localQuality:F9e,remoteQuality:6,audioBoost:CPe.KH,subtitleColor:xPe.WHITE,subtitlePosition:OPe.BOTTOM,subtitleSize:100,subtitlesBurnLevel:RPe.Z.AUTO,extrasPrefixCount:0,audioForceMultiChannel:!1,forceTranscodeProtocolHLS:!1,autoPlay:!0,calendarViewType:HO,columnAdjustment:0,columnWidthMultiplier:1.5,dashboardNowPlayingShowDetails:!1,hasDismissedServerDashboardUpsell:!1,hasDismissedNewsSunsetBanner:!1,hasDismissedCustomHomeSunset:!1,isSidebarCollapsed:!1,libraryTableColumns:{},listStyles:{[YC.Y3]:{episode:Sk,track:Sk},[YC.sD]:{track:Sk}},prePlayListStyles:{},directoryListStyles:{},directoryTableColumns:{},savedDirectoryListKeys:{},relayReminders:{},showAdvancedSettings:!1,showPrePlayArtwork:!1,musicDownloadQuality:yae.Z.ORIGINAL,videoDownloadQuality:yae.Z.ORIGINAL,searchAllServers:!1,libraryRoutes:{}}),initialize(){this.set({schemaVersion:H9e.schemaVersion})},augmentResponse(e){if(e.schemaVersion>H9e.schemaVersion)return D.Z.warn(`[Settings] Received settings with schemaVersion of ${e.schemaVersion}; expected ${H9e.schemaVersion} or less.  Settings sharing is now disabled.`),B9e(B9e({},this.toJSON()),{isRemoteSchemaVersionNewer:!0});e=J9e(e);const t=this.get("isDirty"),n=this.get("updatedAt"),i=(0,DPe.Z)(e.updatedAt),s=n&&i&&n<i;return t&&n===i||n&&i&&n>i?this.toJSON():(t&&s&&(e.isDirty=!1),e.isRemoteSchemaVersionNewer=!1,e)}},{schemaVersion:4}),_9e=H9e;var Q9e=n(81463);function G9e(e){if(e)return e.split("--")}function Y9e(e){Object.keys(e).forEach((t=>{const n=function(e){const t=G9e(e);if(t.length<3)return e;const[n,i,s,r]=t,a=(0,Q9e.Z)(s);return(0,hD.Z)(n,i,a,r)}(t);if(n!==t){const i=e[t];e[n]=i,delete e[t]}}))}function W9e(e){e.isHidden&&!e.hiddenAt&&(e.hiddenAt=Date.now())}const K9e={1:$9e,2:function(e){const{lastSourcePivots:t,savedPivotParams:n,sidebarSettings:{pinnedSources:i}={}}=e;return t&&Y9e(t),n&&Y9e(n),i&&i.forEach((e=>{const t=G9e(e.key);if(!t)return;const n=t.pop(),i=(0,Q9e.Z)(n);if(i!==n){const n=(0,hD.Z)(...t,i);e.directoryID||(e.directoryID=i),e.key=n}})),e},3:$9e,4:function(e){if(!e.relayReminders)return e;e.reminders=e.reminders||[];for(const t in e.relayReminders){const n=(0,XQe.Z)(JQe.K,t);if(e.reminders.some((e=>e.id===n)))continue;const i=e.relayReminders[t],s={id:n,remindAfter:(0,hi.Z)(i.remindAfter).toISOString(),times:Math.max(0,i.times-1)};e.reminders.push(new z9e(s).toJSON())}return delete e.relayReminders,e}},q9e=[function(e){if(null!=e.autoHomeHubsEnabled)return e;const t=e.homeSettings;return t&&t.hasCustomizations?e.autoHomeHubsEnabled=!1:e.autoHomeHubsEnabled=!0,e},function(e){const t=e.sidebarSettings;t&&t.pinnedSources&&t.pinnedSources.forEach(W9e);const n=e.homeSettings;return n&&n.hubs&&n.hubs.forEach(W9e),e},function(e){const{audioBoost:t}=e;if(null!=t){const n=t===CPe.Yq?CPe.KH:CPe.o5,i=_9e.prototype.defaults().audioBoost;n!==t&&n!==i&&(e.audioBoost=n)}return e},function(e){var t;const n=e.homeSettings;return n&&!e.autoHomeHubsEnabled&&(n.hubs=null==(t=n.hubs)?void 0:t.reduce(((e,t)=>{const n=(0,k9e.Z)(t.hubIdentifier);return"/hubs/promoted"===t.directoryKey&&t.provider.identifier===pa.Y3?e.find((e=>{var i,s,r,a;return e.hubIdentifier===n&&(null==(i=e.provider)?void 0:i.identifier)===(null==(s=t.provider)?void 0:s.identifier)&&(null==(r=e.server)?void 0:r.machineIdentifier)===(null==(a=t.server)?void 0:a.machineIdentifier)}))||(t.directoryKey="/hubs",t.hubIdentifier=n,e.push(t)):e.push(t),e}),[])),e}];function $9e(e){return e}function J9e(e={}){let t=e.schemaVersion||0;for(;t<_9e.schemaVersion;)e.schemaVersion=++t,K9e[t](e);return q9e.forEach(((t,n)=>{try{t(e)}catch(e){D.Z.error("[User] Setting migration[%d] error",n,e)}})),e}function X9e(){const e=D9e(_6e.Z.storageKey).then((e=>{if(e.users&&e.users.some((e=>e.experienceSettings&&e.experienceSettings.schemaVersion!==_9e.schemaVersion)))return e.users.forEach((e=>{e.experienceSettings=J9e(e.experienceSettings)})),C9e(_6e.Z.storageKey,e)}));return(0,F.Z)(e)}const e8e="samenetwork",t8e=A9e.Z.extend({name:"DesktopSettingsModel",storageKey:"settingsv2",syncedAttrs:{preferInsecureConnections:bD.Z.string,"syncQuality!video":bD.Z.integer,"syncQuality!music":bD.Z.integer,"syncQuality!photo":bD.Z.integer,viewedUnclaimedServers:bD.Z.list,dismissedUnclaimedServers:bD.Z.list},defaults:()=>({preferInsecureConnections:J.Z.shouldPreferInsecureLocalConnections?e8e:"never","syncQuality!video":8,"syncQuality!music":2,"syncQuality!photo":2,viewedUnclaimedServers:[],dismissedUnclaimedServers:[]})});var n8e=Object.assign;const i8e=["autoLogin","chromecastAppID","chromecastCustomAppID","debugLevel","directPlay","directStream","rejectDirectConnections","serverUpdateDismissedVersion"],s8e=function(){const e=t8e.prototype.storageKey,t=x9e.prototype.storageKey,n=D9e(e).then((n=>{const i=E().pick(n,i8e);if(0!==Object.keys(i).length)return D9e(t,{}).then((e=>{const n=n8e(n8e({},e),i);return C9e(t,n)})).then((()=>C9e(e,E().omit(n,i8e))))}));return(0,F.Z)(n)},r8e=["allowHttpFallback","audioBoost","companion","language"],a8e=function(){const e=D9e(t8e.prototype.storageKey).then((e=>{const t=E().pick(e,r8e);if(0!==Object.keys(t).length)return w9e(t).then((()=>C9e(t8e.prototype.storageKey,E().omit(e,r8e))))}));return(0,F.Z)(e)},o8e="plexTestToken";function l8e(){const e=g().Deferred(),t=pMe.Z.set(o8e,1);return t.done((()=>{pMe.Z.remove(o8e),e.resolve()})),t.fail((t=>{const n=new M9e;D.Z.warn(`Storage module swapped for ${n.name} due to exception: "${t}"`),S9e.register(n),pMe.Z.register(n,{ignorePrevious:!0}),e.resolve()})),e.promise()}function c8e(){return function(){const e=g().Deferred(),t=S9e.get("myPlexAccessToken");return t.done((()=>{window.PLEXWEB&&window.PLEXWEB.myPlexAccessToken||pMe.Z.register(S9e.getInstance())})),t.always((()=>{e.resolve()})),e.promise()}().then(l8e).then(s8e).then(j9e).then(N9e).then(a8e).then(X9e)}var d8e=n(32377);const u8e={[d8e.FAIRPLAY]:eQe.FAIRPLAY,[d8e.PLAYREADY]:eQe.PLAYREADY,[d8e.WIDEVINE]:eQe.WIDEVINE};function p8e(e,t){return window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess(e,t):Promise.reject(new Error("NotSupportedError"))}function m8e(e,t,n){return window.MediaKeys||window.WebKitMediaKeys||window.MSMediaKeys?new Promise(((i,s)=>{const{audioCapabilities:r=[],videoCapabilities:a=[]}=n[0],o=r.concat(a).map((e=>e.contentType));o&&o.length&&o.every((n=>e.isTypeSupported(t,n)))?i({keySystem:t}):s(new Error("NotSupportedError"))})):Promise.reject(new Error("NotSupportedError"))}const h8e=function(e,t=Object.values(d8e)){const{audioCapabilities:n,videoCapabilities:i}=e,s=[{initDataTypes:["cenc"],audioCapabilities:n,videoCapabilities:i}],r=g().Deferred(),a=window.WebKitMediaKeys,o=a?m8e.bind(null,a):p8e,l=t.map((e=>o(e,s)));return Promise.allSettled(l).then((e=>{const n=e.reduce(((e,n,i)=>{const{status:s,reason:r,value:a}=n;return"fulfilled"===s?((0,D.Z)("[Player] %s is available",a.keySystem),e.push(a.keySystem)):(0,D.Z)("[Player] %s is unavailable: %s",t[i],r.message),e}),[]);n.length?r.resolve(n):r.reject()})),r.promise()},g8e=function(){return h8e({videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]}).then((e=>{const t=function(e){let t;for(const n of e)if(t=u8e[n],t)break;return t}(e);return(0,D.Z)("[Player] Supported key systems:",e),(0,D.Z)("[Player] Selected DRM type:",t),t}))};function y8e(){const e=(0,M.DB)("appModel"),t=J.Z.drmType;return(t!==eQe.NONE?g().Deferred().resolve(t).promise():(0,F.Z)(g8e())).then((t=>{e.set("drmType",t),nPe.Z.setOption("drmType",t)}),(()=>{e.unset("drmType"),nPe.Z.setOption("drmType",eQe.NONE)}))}var v8e=n(80129),f8e=n.n(v8e);const I8e=function(){const{hashParams:e}=G(window.location.href),t=f8e().parse(e.substr(1)),n=(0,DPe.Z)(t.pinID);if(n){const e=(0,M.DB)("appModel");Qye(e).set({pinIDInitial:n}),(0,Rt.c9)(),window.history.replaceState(null,null,H6(window.location.href,"pinID"))}return g().Deferred().resolve().promise()};function b8e(){const e=(0,M.DB)("fullscreenManager").initialize({dispatchEnterFullscreen(){(0,M.DB)("appStore").dispatch((0,tt.rM)())},dispatchExitFullscreen(){(0,M.DB)("appStore").dispatch((0,tt.Qg)())}});return(0,F.Z)(e)}var M8e=n(42441),S8e=n.n(M8e);function E8e(){const e=(0,M.DB)("keyboardShortcuts");let t=!0;function n(n,i,s){if(t||i instanceof window.KeyboardEvent&&"esc"===s)return e[n.fn](e,i,s)}return ee.Z.on("anyModalOpen",(()=>{t=!1})),ee.Z.on("allModalsClosed",(()=>{t=!0})),e.shortcuts.forEach((e=>{S8e().bind(e.keys,n.bind(null,e))})),g().Deferred().resolve().promise()}function D8e(){const e=(0,M.DB)("settingFinder").find("language");return nPe.Z.setOption("language",e),(0,F.Z)(FPe.Z.load(e))}var C8e=n(37201);const P8e=["touchstart","mousedown","click","keydown","keypress"];function w8e(){function e(){P8e.forEach((t=>{document.body.removeEventListener(t,e,!0)}));const t=(0,C8e.Vq)("audio",!0);function n(){t.removeEventListener("playing",n),t.removeEventListener("error",n),t.src="",t.removeAttribute("src"),(0,C8e.u$)(t)}t.addEventListener("playing",n),t.addEventListener("error",n),t.src="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAADAAAGhgBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVWqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr///////////////////////////////////////////8AAAA5TEFNRTMuOThyAc0AAAAAAAAAABSAJAiqQgAAgAAABobxtI73AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQxAACFEII9ACZ/sJZwWEoEb8w/////N//////JcxjHjf+7/v/H2PzCCFAiDtGeyBCIx7bJJ1mmEEMy6g8mm2c8nrGABB4h2Mkmn//4z/73u773R5qHHu/j/w7Kxkzh5lWRWdsifCkNAnY9Zc1HvDAhjhSHdFkHFzLmabt/AQxSg2wwzLhHIJOBnAWwVY4zrhIYhhc2kvhYDfQ4hDi2Gmh5KyFn8EcGIrHAngNgIwVIEMf5bzbAiTRoAD///8z/KVhkkWEle6IX+d/z4fvH3BShK1e5kmjkCMoxVmXhd4ROlTKo3iipasvTilY21q19ta30/v/0/idPX1v8PNxJL6ramnOVsdvMv2akO0iSYIzdJFirtzWXCZicS9vHqvSKyqm5XJBdqBwPxyfJdykhWTZ0G0ZyTZGpLKxsNwwoRhsx3tZfhwmeOBVISm3impAC/IT/8hP/EKEM1KMdVdVKM2rHV4x7HVXZvbVVKN/qq8CiV9VL9jjH/6l6qf7MBCjZmOqsAibjcP+qqqv0oxqpa/NVW286hPo1nz2L/h8+jXt//uSxCmDU2IK/ECN98KKtE5IYzNoCfbw+u9i5r8PoadUMFPKqWL4LK3T/LCraMSHGkW4bpLXR/E6LlHOVQxmslKVJ8IULktMN06N0FKCpHCoYsjC4F+Z0NVqdNFoGSTjSiyjzLdnZ2fNqTi2eHKONONKLMPMKLONKLMPQRJGlFxZRoKcJFAYEeIFiRQkUWUeYfef//Ko04soswso40UJAgMw8wosososy0EalnZyjQUGBRQGIFggOWUacWUeYmuadrZziQKKEgQsQLAhQkUJAgMQDghltLO1onp0cpkNInSFMqlYeSEJ5AHsqFdOwy1DA2sRmRJKxdKRfLhfLw5BzUxBTUUzLjk4LjJVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk4LjJVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7ksRRA8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=";const i=t.play();i&&i.then&&i.catch((()=>{}))}return(0,zPe.P_)()||P8e.forEach((t=>{document.body.addEventListener(t,e,!0)})),g().Deferred().resolve().promise()}function T8e(e){return e.get("isFullOwnedServer")||e.get("isFullServer")}function Z8e(){let e;return b.Z.hasWebSocket&&(e=new cme({name:"MediaServerEventManager",appModel:(0,M.DB)("appModel"),isValidServer:T8e,supportsLongPolling:!1,allowMultipleConnections:J.Z.allowMultipleWebSocketConnections,ServerEventConnection:(0,M.DB)("mediaServerEventConnection"),ServerRetryManager:lme}),e.start()),g().Deferred().resolve().promise()}const N8e=X.Z.extend({mixins:te.Z,name:"AbstractReporter",enabled:!1,destroyed:!1,_suspended:!1,initialize(e={}){!1!==e.enabled&&this.enable()},hasSupport:()=>!0,enable(){this.enabled||this.destroyed||!this.hasSupport()||(this.enabled=!0,this.listenTo(ee.Z,{"log:message":this.onLog,"log:group":this.onLog,"log:groupCollapsed":this.onLog,"log:groupEnd":this.onLog}),this.onEnabled())},disable(){this.enabled&&(this.enabled=!1,this.stopListening(),this.onDisabled())},destroy(){this.destroyed||(this.disable(),this.destroyed=!0,this.onDestroyed())},_suspend(){this._suspended||(this._suspended=!0,this.onSuspended())},_resume(){this._suspended&&(this._suspended=!1,this.onResumed())},onLog(e){if(this._suspended)b.Z.hasConsole&&window.console.warn("[Logging] Ignored log reentrancy:",JSON.stringify(e));else{switch(this._suspend(),e.type){case"log:message":this.onLogMessage(e);break;case"log:group":this.onLogGroup(e);break;case"log:groupCollapsed":this.onLogGroupCollapsed(e);break;case"log:groupEnd":this.onLogGroupEnd(e)}this._resume()}},onLogMessage(){},onLogGroup(){},onLogGroupCollapsed(){this.onLogGroup.apply(this,arguments)},onLogGroupEnd(){},onEnabled(){},onDisabled(){},onResumed(){},onSuspended(){},onDestroyed(){}}),A8e={[D.Z.LEVEL_LOG]:"log",[D.Z.LEVEL_DEBUG]:"debug",[D.Z.LEVEL_INFO]:"info",[D.Z.LEVEL_WARN]:"warn",[D.Z.LEVEL_ERROR]:"error"},x8e=N8e.extend({name:"ConsoleReporter",hasSupport:()=>b.Z.hasConsole,onLogMessage(e){const t=e.message,n=A8e[e.level];(window.console[n]||window.console.log).call(window.console,t)},onLogGroup(e){(window.console.group||window.console.log).call(window.console,e.message)},onLogGroupCollapsed(e){(window.console.groupCollapsed||window.console.log).call(window.console,e.message)},onLogGroupEnd(){window.console.groupEnd&&window.console.groupEnd()}});function L8e(){return new x8e,g().Deferred().resolve().promise()}var O8e=n(62367);function j8e(){(0,D.Z)("[Servers] Initializing..."),function(){const e=(0,M.DB)("appModel"),t=e.get("servers"),n=e.get("cloudServer");n.addConnection((0,O8e.Z)()),t.add(n)}(),function(e){const t=(0,M.DB)("appModel"),n=t.get("servers"),i=_6e.Z.getActiveServers();i&&i.each((e=>{if(e.get("connections").length)try{const i=new GB.ZP(e.toJSON(),{parent:t}),s=i.get("connections");s.reset(s.filter((e=>!e.get("relay")))),!i.get("isMobileServer")&&s.length>0&&(R8e(i),n.add(i))}catch(e){D.Z.warn(e)}}))}(),function(){const e=(0,M.DB)("appModel"),t=e.get("servers"),n=J.Z.primaryServer;if(!n)return;const i=new GB.ZP({machineIdentifier:n.machineIdentifier,friendlyName:n.name,isShared:n.shared,superToken:n.superToken,accessToken:n.accessToken,sourceTitle:n.sourceTitle},{parent:e});i.addConnection({scheme:n.scheme,address:n.address,port:n.port}),t.add(i)}(),function(){const e=(0,M.DB)("appModel"),t=e.get("servers"),n=new GB.ZP({isBundled:!0},{parent:e});n.addConnection({scheme:window.location.protocol.replace(":",""),address:window.location.hostname,port:window.location.port,isBundled:!0}),R8e(n),t.add(n)}(),function(){if(!J.Z.allowLoopbackDiscovery)return;const e=(0,M.DB)("appModel"),t=e.get("servers"),n=new GB.ZP({},{parent:e});n.addConnection({scheme:"http",address:"127.0.0.1",port:"32400"}),R8e(n),t.add(n)}(),(0,M.DB)("serverManager").start(),(0,M.DB)("primaryServerManager").start(),(0,M.DB)("serverConnectionManager").start(),(0,M.DB)("companionServerManager").start(),(0,M.DB)("providerManager").start(),(0,M.DB)("serverUpdateManager").start(),(0,D.Z)("[Servers] Finished initialization")}function k8e(){(0,D.Z)("[Servers] Clearing...");const e=(0,M.DB)("appModel"),t=e.get("servers");(0,M.DB)("serverManager").stop(),(0,M.DB)("primaryServerManager").stop(),(0,M.DB)("serverConnectionManager").stop(),(0,M.DB)("serverConnectionTestManager").reset(),(0,M.DB)("companionServerManager").stop(),(0,M.DB)("providerManager").stop(),(0,M.DB)("serverUpdateManager").stop(),t.uninitialize(),t.reset(),t.initialize(),e.unset("primaryServer"),e.unset("companionServer"),e.unset("transientServer")}function R8e(e){const t=e.get("connections").map((e=>e.get("uri")));(0,D.Z)("[Servers]","Initialize server",e.get("accessToken")?"with token,":"without token,",E().compact([e.get("debugName"),e.get("machineIdentifier"),...t]).join(", "))}function z8e(){return j8e(),ee.Z.on("clear:servers",k8e),ee.Z.on("init:servers",j8e),g().Deferred().resolve().promise()}var U8e=n(64529),V8e=n(18340),B8e=n.n(V8e);const F8e=U8e.Z.extend({className:"alert-bar notify",template:B8e(),events:E().extend({"click .info-link":"onInfoClick"},U8e.Z.prototype.events),initialize(){this.listenTo(this.model,"change:read",this.hide)},serializeData(){const e=this.model.get("content");return{content:sG(e),url:this.model.get("url")}},onInfoClick(e){this.hide(),this.model.markAsRead()},onCloseClick(e){U8e.Z.prototype.onCloseClick.apply(this,arguments),this.model.markAsRead()}}),H8e=X.Z.extend({mixins:te.Z,announcementsUpdateDelay:36e5,initialize(){this.user=(0,M.DB)("appModel").get("user"),E().bindAll(this,"updateAnnouncements","onSignedInChange")},start(){const e=E().debounce(this.onAnnouncementsChange),t=E().debounce(this.onSignedInChange);this.listenTo(this.user,"change:signedIn",t),this.listenTo(this.user.get("desktop"),{"change:announcements":e,"change:announcements.reset":e,"change:announcements.update":e,"change:announcements.change:read":e,"change:announcements.change:priority":e}),this.user.populate().fail(t)},stop(){window.clearTimeout(this.announcementsUpdateTimeout),this.user.get("desktop").get("announcements").clear(),this.stopListening()},updateAnnouncements(){this.user.get("restricted")||this.user.get("anonymous")||!this.user.server.get("isConnected")||(this.user.get("desktop").get("announcements").fetch(),this.announcementsUpdateTimeout&&window.clearTimeout(this.announcementsUpdateTimeout),this.announcementsUpdateTimeout=window.setTimeout(this.updateAnnouncements,this.announcementsUpdateDelay))},onSignedInChange(){this.user.get("desktop").get("announcements").clear(),this.updateAnnouncements()},onAnnouncementsChange(){if(this.user.get("isSignedIn")&&!this.user.get("restricted")){const e=this.user.get("desktop").get("announcements").findWhere({style:"priority",read:!1});e&&ee.Z.trigger("show:bar","alertbar",new F8e({model:e}))}}}),_8e=["plex_tv_auth","plex_tv_lang"];var Q8e=Object.assign;const G8e=X.Z.extend({mixins:te.Z,initialize(e){this.user=e,this.debouncedChangeTimeout=null},start(){const e=this.user;this.previousUserID=e.id,this.listenTo(e,{change:this.onUserChange,"change:isLocked":this.onIsLockedChange,"change:hasInvalidToken":this.onHasInvalidTokenChange,"change:isSignedIn":this.onIsSignedInChange}),this.listenTo(ee.Z,{"cloudServer:notifyAccountChange":this.onNotifyAccountChange});const t=e.get("isLocked"),n=e.get("hasInvalidToken"),i=e.get("isSignedIn");t&&this.onIsLockedChange(e,t),n&&this.onHasInvalidTokenChange(e,n),i&&this.onIsSignedInChangeHandleToken(e,i);const s=(0,M.DB)("settingFinder").find("autoLogin")||e.get("isUnlocked");(0,D.Z)("[UserManager] autoLogin",s),s||this._lockIfInHome()},handleInvalidToken(){var e=new qne.Z({title:(0,De.Z)("Invalid Credentials"),message:(0,De.Z)("Your credentials have expired. Please sign in again."),confirmLabel:(0,De.Z)("OK"),cancelLabel:(0,De.Z)("Ignore")});e.promise.done((()=>{(0,Ine.Z)("login")})),ee.Z.trigger("show:modal",e)},_lockIfInHome(){const e=_6e.Z.getActiveUser();e&&e.get("home")&&this.user.set("lockState",Xe.Ik.Locked)},_updateUser(e,t){if(t){const n={};t.id!==e.id&&(n.included=["experienceSettings"]),t.copyFromModel(e,n)}else _6e.Z.get("users").add(e.toJSON(),{parse:!0});_6e.Z.debouncedSave()},onHasInvalidTokenChange(e,t){t&&this.handleInvalidToken()},onUserChange(e){this.debouncedChangeTimeout&&window.clearTimeout(this.debouncedChangeTimeout);const t=_6e.Z.getActiveUser();this.debouncedChangeTimeout=window.setTimeout(this._updateUser.bind(this,e,t),0)},onIsSignedInChange(e,t){this.onIsSignedInChangeHandleToken(e,t),this.onIsSignedInChangeHandleSyncSettings(e,t),this.onIsSignedInChangeHandlePopulateUser(e,t)},onIsSignedInChangeHandleToken(e,t){if(this.stopListening(e,"change:hasInvalidToken",this.onHasInvalidTokenChange),t){if(t&&e.get("isLocked")&&(this.previousUserID=e.id),t&&e.get("restricted")&&document.cookie.split(";").forEach((e=>{const[t]=e.trim().split("=");t&&!_8e.includes(t)&&(document.cookie=`${t}=; Domain=plex.tv; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`,document.cookie=`${t}=; Domain=.plex.tv; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`,document.cookie=`${t}=; Domain=.app.plex.tv; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`)})),e.get("isFullUser")&&t){const t=e.server.getXHROptions("/api/claim/subscribe");g().ajax(Q8e(Q8e({},t),{type:"POST"}))}}else e.get("hasInvalidToken")&&this.handleInvalidToken()},onIsSignedInChangeHandleSyncSettings(e,t){if(!t)return;const n=(0,M.DB)("appStore").dispatch,i=e.get("settings"),s=e.get("experienceSettings"),r=i.reduce(((e,t)=>(t.get("isDirty")&&e.push(t.get("id")),e)),[]);s.get("isDirty")&&n((0,dE.Xe)()),r.length&&n((0,dE.Z$)(r))},onIsSignedInChangeHandlePopulateUser(e,t){if(!t)return void e.get("features").clear();const n=(0,M.DB)("appStore").dispatch,i={reset:!0};e.get("homeDetails").populate(i),e.get("homeUsers").populate(i);const s=e.get("desktop");s.get("cloudCompanions").populate(i),s.get("devices").populate(i),s.get("invites").populate(i),s.get("socialNetworks").populate(i),n(rS()),n((0,dE.Bl)())},onIsLockedChange(e,t){t&&(this.previousUserID=e.id,this.isPreviousUserRemote=e.get("isRemote"),this.listenTo(e,"change:isUnlocked",this.onNextIsUnlockedChange))},onNextIsUnlockedChange(e,t){t&&(this.stopListening(e,"change:isUnlocked",this.onNextIsUnlockedChange),window.setTimeout((()=>{const e=this.previousUserID;e&&e===this.user.id||(0,Ine.Z)("home")}),0))},onNotifyAccountChange(){this.user.fetch().then((()=>{(0,D.Z)("[User] updated account following account change notification")}),(e=>{D.Z.error("[User] Unable to update account following account change notification",e)}))}});function Y8e(){let e=(0,F.Z)(_6e.Z.populate());return e=e.then((()=>pMe.Z.get("myPlexAccessToken"))),e=e.then((e=>{const t=(0,M.DB)("appModel").get("user"),n=_6e.Z.get("users").findWhere({authToken:e});n&&(t.activateStoredUser(n.id),n.copyToModel(t))}),(()=>{const e=(0,M.DB)("appModel").get("user");e.activateStoredUser(0);const t=_6e.Z.getActiveUser();t&&t.copyToModel(e)})),(0,F.Z)(e).then((()=>{const e=(0,M.DB)("appModel").get("user");new G8e(e).start(),(new H8e).start()}))}function W8e(){return(0,M.DB)("watchTogetherRoomsManager").start(),(0,M.DB)("syncplaySessionManager").start(),g().Deferred().resolve().promise()}function K8e(){return v.render(y.createElement(f.zt,{store:(0,M.DB)("appStore")},y.createElement(I.F0,{history:Gve.Z},y.createElement(N5e,null))),document.getElementById("plex")),g().Deferred().resolve().promise()}function q8e(){let e=function(e={},t={}){const n=new RegExp((0,R.Z)("-plex-4.54.5-09228e8")),i=U({allowUrls:[n],debug:!1,dsn:"https://54c24aee6403406294dd6094728f20e0@o17675.ingest.sentry.io/5594889",environment:"public",ignoreErrors:["ResizeObserver","songId",/^Non-Error promise rejection captured/],integrations:[new O.jK.Breadcrumbs({fetch:!1,xhr:!1})],release:"desktop-desktop@4.54.5-09228e8",sampleRate:.05,version:"4.54.5"},e),s=V.reduce(((e,t)=>(e.hasOwnProperty(t)||(e[t]=z.Z.prop(t)),e)),t);return j.S1(i),Object.entries(s).forEach((([e,t])=>{k.YA(e,t)})),g().Deferred().resolve().promise()}();return e=e.then(L8e),e=e.then(c9e),e=e.then(c8e),e=e.then(x5e),b.Z.hasServiceWorker&&(e=e.then(function(){(0,D.Z)("[Workers] Initializing...");const e=g().Deferred();return(0,M.DB)("serviceWorker").register().then((t=>{(0,D.Z)("[Workers] Finished initialization"),e.resolve()})).catch((t=>{(0,D.Z)("[Workers] Failed initialization: ",t),e.resolve()})),e.promise()}())),e=e.then(k5e),e=e.then(y8e),e=e.then(L),e=e.then(I9e),e=e.then(Y8e),e=e.then(D8e),J.Z.allowCloudPubSub&&(e=e.then((()=>function(){let e;return b.Z.hasWebSocket&&(e=new cme({name:"CloudServerEventManager",appModel:(0,M.DB)("appModel"),isValidServer:U5e,supportsLongPolling:!0,allowMultipleConnections:!0,ServerEventConnection:R5e,ServerRetryManager:z5e}),e.start()),g().Deferred().resolve().promise()}()))),e=e.then(Z8e),e=e.then($),e=e.then(z8e),e=e.then(w8e),e=e.then(f9e),e=e.then(E8e),e=e.then(I8e),e=e.then(q),e=e.then(b8e),e=e.then(ce),e=e.then(oe),e=e.then(K8e),e=e.then(W8e),e}var $8e=n(40202),J8e=n.n($8e),X8e=n(10371),e7e=n.n(X8e),t7e=n(30320),n7e=n.n(t7e),i7e=n(2397),s7e=n.n(i7e),r7e=n(14118),a7e=n.n(r7e),o7e=n(71743),l7e=n.n(o7e),c7e=n(28792),d7e=n.n(c7e),u7e=n(45768),p7e=n.n(u7e);J8e().registerPartial("setting",d7e()),J8e().registerPartial("lockableTagInput",a7e()),J8e().registerPartial("lockableTextInput",l7e()),J8e().registerPartial("lockableNumericInput",s7e()),J8e().registerPartial("textInput",p7e()),J8e().registerPartial("autocompleteTextInput",e7e()),J8e().registerPartial("connectError",n7e());var m7e=n(27098),h7e=n.n(m7e);const g7e=new(h7e())({attributePrefix:"_",emptyNodeForm:{},ignoreRoot:!0}),y7e=function(e){return'<?xml version="1.0"?>'+g7e.js2xml(e)};function v7e(e){e.forEach((e=>{e.resolve()})),e.length=0}function f7e(e){e.forEach((e=>{e.reject()})),e.length=0}const I7e=X.Z.extend({mixins:[te.Z],name:"MediaServerCompanionProxy",commandID:0,initialize(){E().bindAll(this,"_checkPollRequestStatus","_pickProxyServer","_poll","_repoll","_sendResponse","_unregisterPlayer","onPollSuccess","onPollError"),this._debounceUnregisterPlayer=E().debounce(this._unregisterPlayer,2e3),this._debouncePickProxyServer=E().debounce(this._pickProxyServer,2e3),this._deepLinkDeferred=g().Deferred().resolve(),this._playerRegistrationDeferreds=[],this._playerUnregistrationDeferreds=[],this._pollRetryDelay=1e3},getDeepLink(){return this._deepLinkDeferred.promise()},publish(e){if(!this.proxyServer)return;if(this.timelineInflight)return void(this._pendingTimeline=e);this.timelineInflight=!0;const t=y7e(e),n=E().result(this.proxyServer,"url"),i=this.proxyServer.getXHROptions(`${n}player/proxy/timeline?commandID=${this.commandID}`);i.data=`timeline=${encodeURIComponent(t)}`,i.method="POST",i.contentType="application/x-www-form-urlencoded",g().ajax(i).always((()=>{this.timelineInflight=!1;const e=this._pendingTimeline;e&&(delete this._pendingTimeline,this.publish(e))}))},subscribe(e){this.started||(this.callback=e,this.started=!0,this.appModel=(0,M.DB)("appModel"),this.listenTo(this.appModel,"change:companionServer",this._debouncePickProxyServer),this._debouncePickProxyServer(this.appModel,this.appModel.get("companionServer")))},unsubscribe(){if(!this.started)return;const e=this.proxyServer;this.started=!1,this.stopListening(this.servers,"change:connected",this._debouncePickProxyServer),this.callback=null,this.proxyServer=null,e&&this._debounceUnregisterPlayer(e),this._clearPollRequestStatusCheck(),this.pollRequest&&(this.pollRequest.abort(),this.pollRequest=null)},unregisterPlayer(e,t){this.cloudServer=e,this.clientID=t;const n=g().Deferred();return this._playerUnregistrationDeferreds.push(n),n.promise()},registerPlayer(e,t){this.cloudServer=e,this.clientID=t;const n=g().Deferred();return this._playerRegistrationDeferreds.push(n),n.promise()},debugStatus(){const e=this.proxyServer;return e?`Proxied: ${e.get("debugName")}`:void 0},_pickProxyServer(e,t){this.started&&(this.proxyServer=t,this.proxyServer&&(this._registerServer(),this._poll()))},_registerServer(){if(!this.proxyServer||!this.cloudServer||!this.clientID)return;const e=this.cloudServer.getXHROptions(`devices/${this.clientID}`,{method:"POST",headers:{"X-Plex-Provides":J.Z.allowCloudPubSub?"client,player,pubsub-player":"client,player"},data:{_method:"PUT",proxiedBy:this.proxyServer.id}});g().ajax(e).done((()=>{v7e(this._playerRegistrationDeferreds)})).fail((()=>{f7e(this._playerRegistrationDeferreds)}))},_unregisterPlayer(e){if(!e||!this.cloudServer||!this.clientID)return;const t=this.cloudServer.getXHROptions(`/devices/${this.clientID}`,{method:"POST",headers:{"X-Plex-Provides":"client"},data:{_method:"PUT"}});g().ajax(t).done((()=>{v7e(this._playerUnregistrationDeferreds)})).fail((()=>{f7e(this._playerUnregistrationDeferreds)}))},_poll(){if(!this.started)return;const e=this.proxyServer;if(!e)return void D.Z.info("[Companion] No proxy server available to long poll");if(this._isPollRequestPending())return void D.Z.info("[Companion] Long poll already open to ",e.get("debugName"));this._clearPollRequestStatusCheck(),this._checkPollRequestStatusLater(),this._clearRepollLater();const t=e.getXHROptions("/player/proxy/poll",{data:{deviceClass:"pc",protocolVersion:"3",protocolCapabilities:"timeline,playback,navigation,mirror,playqueues",timeout:1}});D.Z.info("[Companion] Opening long poll to %s at %s",e.get("debugName"),t.url),this.pollRequest=g().ajax(t).done(this.onPollSuccess).fail(this.onPollError)},_repoll(){this._clearPollRequestStatusCheck(),this._clearRepollLater(),this._poll()},_isPollRequestPending(){return!!this.pollRequest&&"pending"===this.pollRequest.state()},_checkPollRequestStatus(){this._isPollRequestPending()&&this.proxyServer&&(D.Z.info("[Companion] Poll connection successfully opened with %s",this.proxyServer.get("debugName")),this._pollRetryDelay=1e3)},_checkPollRequestStatusLater(){this._pollRequestStatusCheckTimeout=window.setTimeout(this._checkPollRequestStatus,5e3)},_clearPollRequestStatusCheck(){this._pollRequestStatusCheckTimeout=window.clearTimeout(this._pollRequestStatusCheckTimeout)},_repollLater(){this._pollRetryTimeout=window.setTimeout(this._repoll,this._pollRetryDelay)},_clearRepollLater(){this._pollRetryTimeout=window.clearTimeout(this._pollRetryTimeout)},_processCommand(e){if(!this.started)return;const t={path:e.path,commandID:e.commandID,supportsTimeline:!0,query:{key:[e.queryKey],providerIdentifier:[e.queryProviderIdentifier],offset:[e.queryOffset],mediaIndex:[e.queryMediaIndex],containerKey:[e.queryContainerKey],playQueueID:[e.queryPlayqueueid],type:[e.queryType],volume:[e.queryVolume],repeat:[e.queryRepeat],shuffle:[e.queryShuffle],autoPlay:[e.queryAutoPlay],subtitleColor:[e.querySubtitleColor],subtitlePosition:[e.querySubtitlePosition],subtitleSize:[e.querySubtitleSize],subtitleOffset:[e.querySubtitleOffset],audioStreamID:[e.queryAudioStreamID],subtitleStreamID:[e.querySubtitleStreamID],token:[e.queryToken],machineIdentifier:[e.queryMachineIdentifier],protocol:[e.queryProtocol],address:[e.queryAddress],port:[e.queryPort],text:[e.queryText],field:[e.queryField]}},n="resolved"!==this._deepLinkDeferred.state();this.callback(t,n).always((e=>{n&&e&&e.deferredAction&&this._deepLinkDeferred.resolve(e.deferredAction),this._sendResponse(e.controllerResponse)}))},_sendResponse(e){if(!this.proxyServer)return;const t=parseInt(e.commandID,10);this.commandID<t&&(this.commandID=t);const n=`/player/proxy/response?commandID=${e.commandID}`,i=this.proxyServer.getXHROptions(n,{method:"POST",contentType:"application/x-www-form-urlencoded",data:{response:e.body}});g().ajax(i)},onPollSuccess(e){const t=e&&Xi.Z.parseXML(e),n=t&&t.Command;e?(t?n||D.Z.warn("[Companion] Poll succeeded without a Command response",t):D.Z.warn("[Companion] Poll succeeded without a parseable response",e),n?(this._repoll(),(Array.isArray(n)?n:[n]).forEach((e=>{try{D.Z.info("[Companion] Received %s from %s",e.path,e.deviceName),this._processCommand(e)}catch(t){D.Z.warn("[Companion] encountered %s while processing %s",t.message,e)}}),this)):this.onPollError()):this._repoll()},onPollError(e={}){const t=this.proxyServer;if(!this.started||!t)return;this._clearPollRequestStatusCheck(),this._clearRepollLater(),this._repollLater(),this._pollRetryDelay*=2;const n=t.get("debugName");D.Z.warn("[Companion] Poll failed to %s",n)}}),b7e=A9e.Z.extend({name:"SessionStatsModel",storageKey:"sessionstats",syncedAttrs:{heartbeatTime:bD.Z.integer,lastPlayingHeartbeatTime:bD.Z.integer,playbackCount:bD.Z.integer,playbackTime:bD.Z.integer,sessionId:bD.Z.string,anonymousSessionId:bD.Z.string,startTime:bD.Z.integer,lastInteractionTime:bD.Z.integer},defaults:{playbackCount:0,playbackTime:0}});var M7e=n(27978),S7e=n(27903),E7e=Object.prototype.hasOwnProperty,D7e=Object.getOwnPropertySymbols,C7e=Object.prototype.propertyIsEnumerable;const P7e=(0,S7e.Z)((function(e={},t){const n=function(e){const{mimeType:t,codecs:n}=e,i=((e,t)=>{var n={};for(var i in e)E7e.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&D7e)for(var i of D7e(e))t.indexOf(i)<0&&C7e.call(e,i)&&(n[i]=e[i]);return n})(e,["mimeType","codecs"]);if(!t)return"";const s=[t];if(n&&s.push(`codecs="${n}"`),i)for(const e in i)s.push(`${e}="${i[e]}"`);return s.join("; ")}(e),i=(0,C8e.Vq)("video",!0),s=i.canPlayType(n);return(0,C8e.u$)(i),e.codecs?"probably"===s:"probably"===s||"maybe"===s}));var w7e=n(16143),T7e=Object.prototype.hasOwnProperty,Z7e=Object.getOwnPropertySymbols,N7e=Object.prototype.propertyIsEnumerable,A7e=Object.assign;const x7e=(0,tv.Z)()?100:0;function L7e(e){return!!(0,tv.Z)()||"progressive"===e.deliveryType&&P7e(e)}class O7e extends y.Component{constructor(e,t){super(e,t),this._onLoadTimeout=()=>{this._isAdLoaded||this.onError(M7e.SM.VAST_MEDIA_FILE_TIMEOUT)},this._onPlaybackTimeout=()=>{this.onError(M7e.SM.VAST_MEDIA_FILE_TIMEOUT)},this.onMediaError=()=>{this.onError(M7e.SM.VAST_PROBLEM_DISPLAYING_MEDIA)},this.onEnd=()=>{this._lastPositionMilliseconds=null,this._lastOnPositionMillisecondsChange=null,this._clearPlaybackTimeout(),this._playNextAdOrResume()},this.onError=(e=M7e.SM.UNDEFINED_ERROR)=>{this._adPod&&this._adPod.error(e),this._playNextAdOrResume()},this.onPositionMillisecondsChange=e=>{this._isAdLoaded||(this._isAdLoaded=!0),e!==this._lastPositionMilliseconds&&(this._setPlaybackTimeout(),this._lastPositionMilliseconds=e),this._adPod?this._adPod.progress(e):D.Z.error("[AdPlayer] Unexpected position update without an adPod"),(!this._lastOnPositionMillisecondsChange||e>=this._lastOnPositionMillisecondsChange+x7e)&&(this._lastOnPositionMillisecondsChange=e,this.props.onPositionMillisecondsChange(e))},this._vmapClient=null,this._adPod=null,this._adPodPromise=null,this._isAdLoaded=!1,this._loadTimeoutID=null,this._playbackTimeoutID=null,this._lastPositionMilliseconds=null,this._lastOnPositionMillisecondsChange=null,this._mediaComponent=(0,M.DB)("mediaComponent"),this.bufferingDetectionLimit=J.Z.bufferingDetectionLimit}componentDidMount(){const{url:e,playerPositionSeconds:t,followsManualRedirect:n}=this.props;this._vmapClient=new M7e.KU({url:new window.URL(e),canPlayMedia:L7e,followsManualRedirect:n}),this._handlePositionUpdate(1e3*t,!0)}componentDidUpdate(e,t){const{ad:n,playerPositionSeconds:i,isMiniPlayer:s,isFullscreen:r,isPaused:a,isIdle:o,url:l,followsManualRedirect:c,volume:d}=this.props;l!==e.url&&(this.onEnd(),delete this._adPodPromise,this._adPod&&(this._adPod.dispose(),delete this._adPod),this._vmapClient&&this._vmapClient.dispose(),this._vmapClient=new M7e.KU({url:new window.URL(l),canPlayMedia:L7e,followsManualRedirect:c}));const u=!o&&e.isIdle;if(u||i!==e.playerPositionSeconds){const t=i-e.playerPositionSeconds,n=t<0||t>1;this._handlePositionUpdate(1e3*i,n||u)}this._adPod&&n&&(s!==e.isMiniPlayer&&(this._adPod.expanded=!s),r!==e.isFullscreen&&(this._adPod.fullscreen=r),d!==e.volume&&(this._adPod.muted=0===d),a!==e.isPaused&&(this._adPod.paused=a,a?this._clearPlaybackTimeout():this._setPlaybackTimeout()))}componentWillUnmount(){this._loadTimeoutID&&(this._loadTimeoutID=window.clearTimeout(this._loadTimeoutID)),this._playbackTimeoutID&&(this._playbackTimeoutID=window.clearTimeout(this._playbackTimeoutID)),delete this._adPodPromise,this._adPod&&(this.props.ad&&!this._isAdLoaded&&this._adPod.error(M7e.SM.VAST_MEDIA_FILE_TIMEOUT),this._adPod.dispose(),delete this._adPod),this._vmapClient&&this._vmapClient.dispose()}_handlePositionUpdate(e,t){const{isIdle:n}=this.props;if(!n)if(t&&this._vmapClient&&!this._adPodPromise&&!this.props.ad){const t=this._vmapClient.resolveAdPod(e);this._adPodPromise=t,t.then((e=>{let n;t===this._adPodPromise&&e&&(this._adPod=e,n=e.next()),n?this._playAd(n,e):(this._adPod&&(this._adPod.dispose(),delete this._adPod),delete this._adPodPromise,this.onEnd())}),(()=>{delete this._adPodPromise,this.onEnd()}))}else if(this._adPod){if(this._adPod.timeOffset>e)return;const t=this._adPod.next();t?this._playAd(t,this._adPod):(this._adPod.dispose(),delete this._adPod,delete this._adPodPromise)}else if(!this._adPodPromise&&this._vmapClient){const t=this._vmapClient.resolveNextAdPod(e);this._adPodPromise=t,t.then((e=>{t===this._adPodPromise&&(this._adPod=e,e||delete this._adPodPromise)}),(()=>{t===this._adPodPromise&&delete this._adPodPromise}))}}_playAd(e,t){const{volume:n,isMiniPlayer:i,isFullscreen:s,isPaused:r}=this.props;t.expanded=i,t.fullscreen=s,t.muted=0===n,t.paused=r,this._isAdLoaded=!1,this._loadTimeoutID=window.setTimeout(this._onLoadTimeout,8e3),this.props.onAdChange(e)}_playNextAdOrResume(){const e=this._adPod?this._adPod.next():null;e?this._playAd(e,this._adPod):(this._adPod&&this._adPod.dispose(),delete this._adPod,delete this._adPodPromise,this.props.onAdChange(e))}_setPlaybackTimeout(){this._clearPlaybackTimeout(),this.props.isPaused||(this._playbackTimeoutID=window.setTimeout(this._onPlaybackTimeout,8e3))}_clearPlaybackTimeout(){this._playbackTimeoutID=window.clearTimeout(this._playbackTimeoutID)}render(){var e,t,n,i;const s=this.props,{ad:r,url:a,isMiniPlayer:o,isPaused:l,positionSeconds:c,playerPositionSeconds:d,statusOverlayClassName:u}=s,p=((e,t)=>{var n={};for(var i in e)T7e.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Z7e)for(var i of Z7e(e))t.indexOf(i)<0&&N7e.call(e,i)&&(n[i]=e[i]);return n})(s,["ad","url","isMiniPlayer","isPaused","positionSeconds","playerPositionSeconds","statusOverlayClassName"]),m=this._adPod?Math.round((this._adPod.timeOffset-1e3*d)/1e3):w7e.pN,h=!!r,g=null!=(t=null==(e=this._adPod)?void 0:e.hasAnyCreative)&&t&&!o,v=h?this._mediaComponent.getComponent({protocol:"http",isDirectPlay:!0}):null;return y.createElement(y.Fragment,null,h?y.createElement(v,A7e(A7e({},p),{key:r.url.href,bufferingDetectionLimit:this.bufferingDetectionLimit,positionSeconds:c,paused:l,src:r.url.href,mediaType:$a.pX,onPositionMillisecondsChange:this.onPositionMillisecondsChange,onEnd:this.onEnd,onError:this.onMediaError})):null,g?y.createElement(w7e.ZP,{className:u,displayIndex:null!=(n=null==r?void 0:r.displayIndex)?n:w7e.Ho,displayTotal:null!=(i=null==r?void 0:r.displayTotal)?i:w7e.Mf,secondsUntilAd:m}):null)}}O7e.defaultProps={isIdle:!1,followsManualRedirect:!1};const j7e=O7e,k7e=(0,f.$j)((function(){return(0,de.P1)(J_e(["isPaused","positionSeconds","durationSeconds"]),P_e,((e,{volume:t})=>t),((e,t,n)=>({volume:t||n||0,isPaused:e.isPaused,playerPositionSeconds:e.positionSeconds,playerDurationSeconds:e.durationSeconds})))}),(function(e,t){const{playerType:n}=t;return{onBufferingChange(t){e((0,i_e.n9)({playerType:n,isBuffering:t}))},onPause(){e((0,i_e.wO)({playerType:n,isApplicationInitiated:!0}))},onPlay(){e((0,i_e.hY)({playerType:n,isApplicationInitiated:!0}))},onMetricsPlayerChange(t){e((0,it.Kq)({playerType:n,metricsPlayer:t}))}}}))(j7e);var R7e=n(14540);const z7e={default:k7e},U7e=y.lazy((()=>{return void 0,null,e=function*(){try{const e=(0,R7e.Z)()?"//imasdk.googleapis.com/js/sdkloader/ima3_debug.js":"//imasdk.googleapis.com/js/sdkloader/ima3.js";(0,R7e.Z)()&&(0,D.Z)("[IMA] SDK loading from",e),yield function(e){return new Promise(((t,n)=>{function i(e){var t;e&&(null==(t=a.parentNode)||t.removeChild(a)),a.removeEventListener("load",s),a.removeEventListener("error",r)}function s(){i(!1),t()}function r(){i(!0),n(new Error(`Unable to load: ${e}`))}const a=document.createElement("script");try{!function(e){const t=document.getElementsByTagName("SCRIPT");return Array.from(t).some((t=>t.src===e))}(e)?(a.addEventListener("error",r),a.addEventListener("load",s),a.type="text/javascript",a.src=e,document.body.appendChild(a)):t()}catch(e){i(!0),n(e)}}))}(e)}catch(e){return D.Z.error("[IMA] SDK load failed",e),z7e}try{return(0,R7e.Z)()&&(0,D.Z)("[IMA] SDK %s loaded",window.google.ima.VERSION),(0,R7e.Z)()&&(0,D.Z)("[IMA] Enabling VPAID"),window.google.ima.settings.setVpaidMode(window.google.ima.ImaSdkSettings.VpaidMode.ENABLED),(0,R7e.Z)()&&(0,D.Z)("[IMA] Loading ImaPlayer"),yield n.e(146).then(n.bind(n,77255))}catch(e){return D.Z.error("[IMA] Player failed to initialize",e),z7e}},new Promise(((t,n)=>{var i=t=>{try{r(e.next(t))}catch(e){n(e)}},s=t=>{try{r(e.throw(t))}catch(e){n(e)}},r=e=>e.done?t(e.value):Promise.resolve(e.value).then(i,s);r((e=e.apply(undefined,null)).next())}));var e})),V7e={getComponent:()=>(0,iK.Z)((0,M.DB)("appModel"),be.CG)?U7e:k7e},B7e="audioStream",F7e="playPause",H7e="repeat",_7e="seekTo",Q7e="shuffle",G7e="skipNext",Y7e="skipPrevious",W7e="stop",K7e="subtitleStream",q7e="volume",$7e=(...e)=>e.reduce(((e,t)=>e.concat("string"==typeof t?t.split(","):t)),[]).sort().join(","),J7e=$7e(W7e,B7e,K7e,q7e),X7e=$7e(B7e,"autoPlay",F7e,H7e,_7e,Q7e,G7e,Y7e,"stepBack","stepForward",W7e,K7e,q7e),eet={videoCloudLiveTV:J7e,video:$7e(X7e,"subtitleColor","subtitleOffset","subtitlePosition","subtitleSize"),music:$7e(F7e,H7e,_7e,Q7e,G7e,Y7e,W7e,q7e),photo:$7e(F7e,_7e,G7e,Y7e,W7e)};function tet(){return P7e({mimeType:"application/x-mpegURL"})}var net=n(54611);const iet=y.lazy((()=>Promise.all([n.e(631),n.e(76)]).then(n.bind(n,83076)))),set=y.lazy((()=>Promise.all([n.e(123),n.e(686)]).then(n.bind(n,63686)))),ret=y.lazy((()=>n.e(630).then(n.bind(n,51630)))),aet={getComponent:e=>e?"parsec"===e.protocol?ret:"dash"===e.protocol||e.drm===eQe.FAIRPLAY&&"hls"===e.protocol&&tet()?set:"hls"===e.protocol&&tet()?net.Z:"hls"===e.protocol?iet:net.Z:net.Z},oet=function(){const e=window.MediaSource||window.WebkitMediaSource,t=window.SourceBuffer||window.WebKitSourceBuffer;return!(!e||"function"!=typeof e.isTypeSupported||t&&(!t.prototype||"function"!=typeof t.prototype.appendBuffer||"function"!=typeof t.prototype.remove))};var cet=Object.prototype.hasOwnProperty,det=Object.getOwnPropertySymbols,uet=Object.prototype.propertyIsEnumerable;var pet=Object.assign;const met={videoResolution:!0},het={width:1920,height:1080,bitDepth:8,frameRate:30};function get(e,t){return E().pick(e,((e,n)=>0===n.indexOf(t)))}function yet(e,t,n,i){const s=pet(pet({},get(e,i)),get(t,i));return E().map(s,((e,s)=>{return{codec:E().has(t,s)?n:null,name:(r=s.slice(i.length),r?r.charAt(0).toLowerCase()+r.slice(1):""),value:e};var r}))}var vet=n(16551);function fet(e=LP.prop("video")){var t,n,i,s,r,a,o;const l=(null==(s=null==(i=null==(n=null==(t=e.directPlay)?void 0:t.mp4)?void 0:n.video)?void 0:i.codecs)?void 0:s.hevc)||(null==(o=null==(a=null==(r=e.directStream)?void 0:r.video)?void 0:a.codecs)?void 0:o.hevc);return(null==l?void 0:l.maxBitDepth)>=10}var Iet=n(79270),bet=n(62638);function Met(e,t){return!e||!!t&&e>=t}var Eet=Object.assign;const Det=function e(t,n,i,s={},r){const a=(0,M.DB)("appModel"),o=a.get("user").get("experienceSettings"),l=a.get("deviceSettings"),c=LP.prop("video"),d=function(e,t){return!(!UPe()||!t.server.get("hasAdaptiveBitrate")||e.get("remotePlayer"))}(a,t),u=function(e){const{profile:t,metadataItem:n,mediaItem:i,canPlayAdaptiveBitrate:s,settings:r}=e;let{qualityIndex:a}=e;const o=i?[i]:n.get("Media"),l=qP.Z.getAvailableQualitiesFor(o,n.server,{lowestQualityIndex:t.lowestQualityIndex,highestQualityIndex:t.highestQualityIndex});return null==a?a=function(e){const{mediaItems:t,transcodeServer:n,metadataItem:i,canPlayAdaptiveBitrate:s,settings:r,availableQualities:a}=e,o=function(e){return Math.max.apply(Math,e.map((e=>e.bitrate)))}(t),l=n.get("maxUploadBitrate"),c=n.get("isPrivateConnection"),d=s&&r.get("autoAdjustQuality");let{localQualityDefault:u}=r;void 0===u&&(u=qP.Z.ORIGINAL);const p=(0,bet.Z)(i,c),m=(0,Iet.Z)(i,c),h=qP.Z.getQualityByIndex(r.get(m));if(p){const e=r.get("useHomeStreamingRecommendedSettings")?u:h.index,t=qP.Z.getQualityByIndex(e),n=qP.Z.isExplicitQuality(t.index)&&Met(t.bitrate,o);return t.index===qP.Z.ORIGINAL||n?qP.Z.ORIGINAL:d?qP.Z.CONVERT_AUTOMATICALLY:qP.Z.getBestAvailableQuality(t,a)}const g=Met(l,o),y=h.index===qP.Z.ORIGINAL,v=Met(h.bitrate,o);return r.get("remoteSmallVideoAtOriginalQuality")&&g&&(y||v)?qP.Z.ORIGINAL:d?qP.Z.CONVERT_AUTOMATICALLY:y&&g?qP.Z.ORIGINAL:qP.Z.getBestAvailableQuality(h,a)}({mediaItems:o,transcodeServer:n.server,metadataItem:n,canPlayAdaptiveBitrate:s,settings:r,availableQualities:l}):qP.Z.isExplicitQuality(a)&&!l.find((e=>e.index===a))&&(a=qP.Z.ORIGINAL),{availableQualities:l,quality:qP.Z.getQualityByIndex(a),qualityIndex:a}}({profile:c,metadataItem:t,qualityIndex:n,mediaItem:r,canPlayAdaptiveBitrate:d,settings:o}),p=u.qualityIndex,m=p===qP.Z.CONVERT_AUTOMATICALLY&&d,h=l.get("directPlay")&&!m,g=l.get("directStream")&&!m?1:0,y=d&&o.get("autoAdjustQuality")&&!qP.Z.isExplicitQuality(p);let v,f=u.quality;return m&&(f=function(e,t){const n=e.server.get("isPrivateConnection");if((0,bet.Z)(e,n)&&t.get("useHomeStreamingRecommendedSettings")){const e=t.defaults().localQuality;return qP.Z.getQualityByIndex(e)}const i=(0,Iet.Z)(e,n),s=t.get(i);return qP.Z.getQualityByIndex(s)}(t,o)),p!==qP.Z.ORIGINAL&&(v=e(t,qP.Z.ORIGINAL,i,s,r)),Eet({type:rse.Z.types.VIDEO,profile:c,allowDirectPlay:h,allowDirectStreamVideoWithSoftSubtitles:!0,allowIncompleteSegments:!0,subtitlesBurnLevel:o.get("subtitlesBurnLevel"),availableQualities:u.availableQualities,qualityIndex:p,quality:f,transcoderOptions:Eet({addDebugOverlay:l.get("debugVideoQualityOverlay")?1:0,autoAdjustQuality:y||m?1:0,directStream:g,directStreamAudio:g,audioBoost:o.get("audioBoost")},s),originalQualityDecisionOptions:v},i)},Cet=oet(),Pet=oet()||tet(),wet=Cet?"dash":"hls",Tet=function(e,t,n){const i=Ho.getMetadataType(e.get("type"));return(null==i?void 0:i.mediaType)===$a.j0?function(){const e=[];return Cet&&e.push("add-transcode-target(type=musicProfile&context=streaming&protocol=dash&container=mp4&audioCodec=aac)"),Pet&&e.push("add-transcode-target(type=musicProfile&context=streaming&protocol=hls&container=mpegts&audioCodec=aac,mp3)"),{type:rse.Z.types.MUSIC,profile:LP.prop("music"),allowDirectPlay:!0,hasNativeHLS:Pet,hasDASH:Cet,transcoder:vet.Z,transcodeProtocol:wet,preferredDirectPlayProtocol:wet,transcoderOptions:{directStreamAudio:1,mediaBufferSize:12288},profileExtra:e.length?e.join("+"):null}}():(null==i?void 0:i.mediaType)===$a.eD?{type:rse.Z.types.ROM,profile:{},allowDirectPlay:!1,allowDirectStream:!1,transcoder:vet.Z,transcoderOptions:{}}:function(e,t,n){const i=(0,M.DB)("appModel").get("user").get("experienceSettings"),s={hasNativeHLS:Pet,hasDASH:Cet,hasStreamingMKV:!1,canDisplayHDR:fet(),canDisplayDolbyVision:!1,subtitlesBurnLevel:i.get("subtitlesBurnLevel"),transcoder:vet.Z,transcodeProtocol:wet,preferredDirectPlayProtocol:wet,profileExtra(e){const t=function(e){const t=e.finalProfile.directStream.video,n=(0,Lo.Z)(e.media),i=n&&n.codec,s=t.codecs&&t.codecs[i],r=yet(t,s,i,"min");let a=yet(t,s,i,"max");if(!n)return[];const o={width:n.width<=het.width,height:n.height<=het.height,bitDepth:n.bitDepth<=het.bitDepth,frameRate:n.frameRate<=het.frameRate};a=a.filter((e=>{return!0!==o[e.name]&&!0!==met[e.name]&&(t=e.name,n=e.value,!het[t]||het[t]<n);var t,n}));const l=[...r.map((({codec:e,name:t,value:n})=>function({codec:e,name:t,value:n}){return`add-limitation(scope=videoCodec&scopeName=${encodeURIComponent(e||"*")}&type=lowerBound&name=video.${encodeURIComponent(t)}&value=${encodeURIComponent(n)}&replace=true)`}({codec:e,name:t,value:n}))),...a.map((({codec:e,name:t,value:n})=>function({codec:e,name:t,value:n}){return`add-limitation(scope=videoCodec&scopeName=${encodeURIComponent(e||"*")}&type=upperBound&name=video.${encodeURIComponent(t)}&value=${encodeURIComponent(n)}&replace=true)`}({codec:e,name:t,value:n})))];return s&&"h264"!==i&&l.push(function(e){const{protocol:t,codec:n}=e;return`append-transcode-target-codec(type=videoProfile&context=streaming&protocol=${encodeURIComponent(t)}&videoCodec=${encodeURIComponent(n)})`}({protocol:e.protocol,codec:i})),l}(e),n=e.finalProfile.directStream.video.codecs.hevc;if("hevc"===e.media.videoCodec&&n){const{maxBitDepth:i}=n;t.push(function(e={}){const{maxBitDepth:t=8,protocol:n,supportsHDR:i=!1,supportsDolbyVision:s=!1}=e,r=["bt709","bt470m","bt470bg","smpte170m","smpte240m"];return t>=10&&r.push("bt2020-10"),t>=12&&r.push("bt2020-12"),t>=10&&(i||s)&&r.push("smpte2084"),`add-limitation(scope=videoTranscodeTarget&scopeName=hevc&scopeType=videoCodec&context=streaming&protocol=${n}&type=match&name=video.colorTrc&list=${r.join("|")}&isRequired=false)`}({protocol:e.protocol,maxBitDepth:i,supportsHDR:e.canDisplayHDR,supportsDolbyVision:e.canDisplayDolbyVision}))}let i=Object.keys(e.finalProfile.directStream.audio.codecs);return"dash"===e.protocol&&(i=i.filter((e=>!1===/^e?ac3$/.test(e)))),t.push(function(e){const{type:t="videoProfile",context:n="streaming",videoCodec:i,audioCodec:s,subtitleCodec:r}=e,a=((e,t)=>{var n={};for(var i in e)cet.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&det)for(var i of det(e))t.indexOf(i)<0&&uet.call(e,i)&&(n[i]=e[i]);return n})(e,["type","context","videoCodec","audioCodec","subtitleCodec"]),o={type:t,context:n};return i&&(o.videoCodec=Array.isArray(i)?i.join(","):i),s&&(o.audioCodec=Array.isArray(s)?s.join(","):s),r&&(o.subtitleCodec=Array.isArray(r)?r.join(","):r),Object.assign(o,a),`append-transcode-target-codec(${C.Z.stringifyParams(o)})`}({protocol:e.protocol,audioCodec:i.join(",")})),t.join("+")}},r=(0,M.DB)("appModel").get("user").get("experienceSettings");r.get("forceTranscodeProtocolHLS")&&"dash"===s.transcodeProtocol&&(Pet?r.get("autoAdjustQuality")?D.Z.warn("[Player] Experimental alternate streaming protocol for video playback is disabled because automatic quality adjustment is enabled"):(D.Z.warn("[Player] Experimental alternate streaming protocol for video playback is enabled"),s.transcodeProtocol="hls"):D.Z.warn("[Player] Experimental alternate streaming protocol for video playback is unsupported by this browser"));const a={subtitleSize:i.get("subtitleSize"),mediaBufferSize:102400},o=n||e.get("Media")[0];return o&&"livetv"===o.origin&&(s.allowDirectPlay=!1),Det(e,t,s,a,n)}(e,t,n)},Zet=X.Z.extend({mixins:[te.Z],name:"AjaxQueue",queue:null,request:null,enabled:!1,destroyed:!1,initialize(e={}){this.queue=[],!1!==e.enabled&&this.enable()},enable(){this.enabled||this.destroyed||(this.enabled=!0,this.onEnabled())},disable(){this.enabled&&(this.enabled=!1,this.request=null,this.onDisabled())},destroy(){this.destroyed||(this.disable(),this.queue.length=0,this.destroyed=!0,this.onDestroyed())},send(e){e&&(this.queue.push(e),this._next())},_next(){if(!this._canNext())return;const e=this.queue.shift(),t=e&&this._getAjaxOptions(e);if(t){const e=g().ajax(t);e.always(this.onAjaxAlways.bind(this,e)),this.request=e}},_canNext(){return this.enabled&&!this.request},_getAjaxOptions:e=>e,onAjaxAlways(e){this.enabled&&e===this.request&&(this.request=null,this._next())},onEnabled(){this._next()},onDisabled(){},onDestroyed(){}});function Net(){const e=new Zet;let t=null;return{setBaseUrl(e){t=e},trackEvent(n){if(!t)return void(0,H.Z)(!1,"Network metrics reporters requires a base URL to be set before tracking events");const i=C.Z.join([t,"collect/event"]),s=JSON.stringify(n);e.send({type:"POST",url:i,contentType:"text/plain",data:s})}}}const Aet=["enable","disable","set","start","trackClick","trackEvent","trackView","incrementPlaybackCount","addPlaybackTime","toJSON"],xet=["setBaseUrl","trackEvent"];var Let=n(89410),Oet=n(78636),jet=n(14640),ket=Object.assign;function Ret(e,t){const{server:n}=t,i=n.get("debugName");return D.Z.warn("[Connections] Aborting connection test for %s at %s because secure connections are disallowed",i,e),zet(0,t)}function zet(e,t){const{connection:n}=t,i=g().Deferred();return E().defer((()=>{n.set({currentTest:null,testState:Let.nZ}),i.reject(n)})),i.promise()}function Uet(e){const{server:t,connection:n}=e,i=t.resolveUrl(e.url||"/media/providers",{connection:n}),s=(0,M.DB)("appModel"),r=s.get("settings"),a=s.get("deviceSettings");if(!J.Z.allowHttpsMediaServerConnections&&n.get("isHttps")&&!t.get("isCloud"))return Ret(i,e);const o=r&&r.get("preferInsecureConnections");if(!t.get("httpsRequired")&&!t.get("isCloud")&&n.get("isHttps")&&"always"===o)return Ret(i,e);if(!t.get("httpsRequired")&&n.get("isHttps")&&o===e8e&&n.get("isPrivate")&&t.get("publicAddressMatches"))return function(e,t){const{server:n}=t,i=n.get("debugName");return D.Z.warn("[Connections] Aborting connection test for %s at %s because insecure connections are preferred",i,e),zet(0,t)}(i,e);if(!J.Z.allowMixedContent&&b.Z.isHostedHttps&&!n.get("isHttps"))return function(e,t){const{server:n}=t,i=n.get("debugName");return D.Z.warn("[Connections] Aborting connection test for %s at %s due to mixed content prevention",i,e),zet(0,t)}(i,e);const l=a&&a.get("rejectDirectConnections");return t.get("isCloud")||n.get("relay")||!l&&!J.Z.rejectDirectConnections?function(e,t){const{server:n,connection:i}=t,s=g().Deferred(),r=n.get("debugName"),a=(0,Oet.Z)(n),o=Date.now();(0,D.Z)("[Connections] Testing connection for %s at %s",r,e);const l=[],c={dataType:"text",headers:{Accept:a.accept},timeout:n.connectionTestTimeout};l.push(n.getXHROptions(e,c));const d=!Hye(n);if(null==t.url&&d){const e=n.resolveUrl("/",{connection:i});(0,D.Z)("[Connections] Testing legacy connection for %s at %s",r,e),l.push(n.getXHROptions(e,c))}if(J.Z.emulateBrokenHTTPS){const e=i.get("isHttps")&&!n.get("isCloud"),t="private"!==J.Z.emulateBrokenHTTPS||i.get("isPrivate");e&&t&&function(e){e.forEach((e=>{e.url="fail"+e.url}))}(l)}const u=l.map((e=>g().ajax(e))),p=(0,QB.Z)(...u);function m(e){i.get("relay")&&(0,M.DB)("metrics").trackEvent(ket(ket({},e),{event:WZ.EE,interaction:!1,reason:1===i.server.get("connections").length?101:102,serverType:i.server.get("isShared")?"shared":"owned",latency:Date.now()-o}))}function h(t){(0,D.Z)("[Connections] %s connected at %s",r,e),i.set({currentTest:null,testState:Let.nm}),m({status:"success"}),s.resolve(i,t)}function y(t,n){const a={currentTest:null};if(t.some((e=>e.aborting)))(0,D.Z)("[Connections] Aborted pending connection test for %s at %s",r,e),a.testState=Let.c9;else{const i=function(e){return 401===e||403===e||406===e}(n)?Let.WY:Let.nZ;m({status:"failure",error:n}),t.forEach((t=>{D.Z.warn("[Connections] %s is %s at %s (Status %s)",r,i,e,t.status)})),a.testState=i}i.set(a),s.reject(i,t)}return i.set({currentTest:u,testState:Let.hA}),p.done((()=>{const[t,i]=u;let s;if(200!==t.status&&404!==t.status?s=t.status:i&&200!==i.status&&(s=i.status),void 0!==s)return void y(u,s);if(n.get("isCloud"))return void h();const o=a.parse(t.responseText),l=i?a.parse(i.responseText):void 0,c=n.parseResponse(g().extend(!0,{},o,l)),d=c.machineIdentifier,p=n.get("isTransient")?n.get("originalMachineIdentifier"):n.get("machineIdentifier");if(!d||p&&d!==p)D.Z.warn("[Connections] %s has an unexpected machine identifier at %s",r,e),y(u);else{!0===c.mediaProviders?c.mediaProviders=1:!1===c.mediaProviders?c.mediaProviders=0:i||(c.mediaProviders=1);const e=n.parse(c);n.get("isTransient")&&(e.machineIdentifier=n.get("machineIdentifier")),e.isInstallingServerUpdate=!1,e.isProvidersPending=!1,e.isProvidersPopulated=!0,(0,jet.Z)(e.providers,n),h(e)}})),s.promise()}(i,e):function(e,t){const{server:n}=t,i=n.get("debugName");return D.Z.warn("[Connections] Aborting connection test for %s at %s due to reject direct connection debug setting",i,e),zet(0,t)}(i,e)}var Vet=n(18305);const Bet=function(){const e=(0,M.DB)("appModel").get("ui"),t=e.get("audioVideoPlayer"),n=e.get("photoPlayer"),i=e.get("romPlayer"),s=(0,Vet.Z)(t),r=(0,Vet.Z)(n);return s===L_e.Z$||r===L_e.Z$||!!i&&(0,Vet.Z)(i)===L_e.Z$},Fet=(0,de.P1)(fe.Z,(e=>e.volume));var Het=n(56669),_et=Object.prototype.hasOwnProperty,Qet=Object.getOwnPropertySymbols,Get=Object.prototype.propertyIsEnumerable,Yet=Object.assign;const Wet=GB.ZP.prototype.sessionAttrs,{isCloud:Ket}=Wet,qet=((e,t)=>{var n={};for(var i in e)_et.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Qet)for(var i of Qet(e))t.indexOf(i)<0&&Get.call(e,i)&&(n[i]=e[i]);return n})(Wet,["isCloud"]),$et=GB.ZP.extend({name:"TransientServerModel",cache:null,persistInCache:!1,sessionAttrs:Yet(Yet({},qet),{isTransient:bD.Z.boolean,originalMachineIdentifier:bD.Z.string}),derivedAttrs:Yet(Yet({},GB.ZP.prototype.derivedAttrs),{isCloud(){return this.get("originalMachineIdentifier")===KP.X}}),defaults(){const e=GB.ZP.prototype.defaults.apply(this,arguments);return Yet(Yet({},e),{friendlyName:"Transient Server",isTransient:!0})},updateCacheKey(){},testConnection(e){if(this.get("originalMachineIdentifier")!==KP.X)return GB.ZP.prototype.testConnection.apply(this,arguments);e.set({testState:Let.nm}),this.onConnectionTestSuccess(e)}});var Jet=n(70871),Xet=Object.assign;const ett="ui/player/localCompanionPlayer/runLocalCompanionPlaybackAction",ttt="ui/player/localCompanionPlayer/setTransientServer",ntt="ui/player/localCompanionPlayer/mirrorLocalDetails",itt=(0,No.Z)(ett),stt=(0,No.Z)(ttt),rtt=(0,No.Z)(ntt),att={[ett](e,{type:t,action:n},i){const{type:s,payload:r={}}=n,a=e.get("ui"),o=t===Jet.pV?Se.pV:Se.Se,l=a.get(o+"Player");l.get("isOpen")&&l.get("playQueue")&&i({type:s,payload:Xet(Xet({},r),{playerType:o})})},[ttt](e,t){e.set("transientServer",t)},[ntt](e,t){}};var ott=n(43149),ltt=n(74183),ctt=Object.assign;const dtt={"/player/timeline/subscribe":function(){(0,M.DB)("localCompanionTimelineManager").start()},"/player/timeline/unsubscribe":function(){Itt(),(0,M.DB)("localCompanionTimelineManager").stop()},"/player/mirror/details":function(e){const t=e.providerIdentifier&&e.providerIdentifier[0];let n,i;return ftt().then((()=>ytt(e))).then((e=>(n=e,vtt(n)))).then((e=>(i=e.get(t||pa.Y3),i?i.populate({merge:!0}):g().Deferred().reject().promise()))).then((()=>function(e,t,n){const i=(n.key&&n.key[0]).replace("/children",""),s=new KM.Z({key:i},{server:e,provider:t});return ptt=i,s.populate().then((()=>ptt!==i?g().Deferred().reject().promise():{metadataItemModel:s}))}(n,i,e))).then((({metadataItemModel:e})=>{htt(rtt({serverEntityID:n.entityID(),providerEntityID:i.entityID(),key:e.get("key"),parentKey:e.get("parentKey"),type:e.get("type"),subtype:e.get("subtype")}))}))},"/player/playback/playMedia":function(e){const t=e.providerIdentifier&&e.providerIdentifier[0],n=e.type&&e.type[0],i=e.offset&&e.offset[0],s=e.mediaIndex&&e.mediaIndex[0],r=e.containerKey&&e.containerKey[0];let a,o;return One.Z.execute("remotePlaybackUnlock").then((()=>ytt(e))).then((e=>(a=e,vtt(a)))).then((e=>{const n=kP(r);return n&&(o=e.get(t||pa.Y3),o)?o.populate().then((()=>({playQueueID:n}))):g().Deferred().reject().promise()})).then((({metadataItemModel:e,playQueueID:t})=>{const l=a.entityID(),c=o.entityID(),d=Jet.d2(n),u=null==i?null:parseInt(i,10),p=null==s?null:parseInt(s,10);if(e){const t=e.entityID();htt(it.wA({serverEntityID:l,providerEntityID:c,metadataItemEntityID:t,startMetadataItemEntityID:t,startOffsetMilliseconds:u,startMediaIndex:p,confirmPlayback:!0,confirmOffset:!0,options:{type:d,containerKey:r}}))}else htt(it.lh({serverEntityID:l,providerEntityID:c,playQueueType:d,playQueueID:t,startOffsetMilliseconds:u,startMediaIndex:p}))}))},"/player/playback/pause":e=>gtt(e,i_e.wO()),"/player/playback/play":e=>gtt(e,i_e.hY()),"/player/playback/stop":e=>gtt(e,it.Mh()),"/player/playback/skipNext":e=>gtt(e,FP.o1()),"/player/playback/skipPrevious":e=>gtt(e,FP.oA()),"/player/playback/stepForward":e=>gtt(e,i_e.wW()),"/player/playback/stepBack":e=>gtt(e,i_e.QJ()),"/player/playback/skipTo":function(e){const t=decodeURIComponent(e.key[0]);gtt(e,FP.$Y({key:t}))},"/player/playback/seekTo":function(e){const t=parseInt(e.offset[0],10);gtt(e,i_e.O7({positionSeconds:Math.floor(t/1e3)}))},"/player/playback/refreshPlayQueue":function(e){gtt(e,FP.Ai())},"/player/playback/refreshStreams":function(e){gtt(e,i_e.km())},"/player/playback/setParameters":function(e){const t=e.volume&&e.volume[0],n=e.repeat&&e.repeat[0],i=e.shuffle&&e.shuffle[0],s=e.autoPlay&&e.autoPlay[0],r=e.subtitleColor&&e.subtitleColor[0],a=e.subtitlePosition&&e.subtitlePosition[0],o=e.subtitleSize&&e.subtitleSize[0],l=e.subtitleOffset&&e.subtitleOffset[0];if(null!=t){const n=parseInt(t,10);gtt(e,i_e.v6({volume:n}))}if(null!=n){const t=parseInt(n,10);gtt(e,FP.ul({repeatAll:t===ott.QN,repeatOne:t===ott.ry}))}null!=i&&gtt(e,FP.Yj()),null!=s&&gtt(e,FP.Sp({autoPlay:1===parseInt(e.autoPlay,10)})),null!=r&&gtt(e,i_e.EZ({subtitleColor:r})),null!=a&&gtt(e,i_e.Wj({subtitlePosition:a})),null!=o&&gtt(e,i_e.YA({subtitleSize:parseInt(o,10)})),null!=l&&gtt(e,i_e.Kb({subtitleOffset:parseInt(l,10),localUpdateOnly:!0}))},"/player/playback/setStreams":function(e){const t=e.audioStreamID&&e.audioStreamID[0],n=e.subtitleStreamID&&e.subtitleStreamID[0];null!=t&&gtt(e,i_e.mj({streamTypeString:"audio",streamID:t.toString()})),null!=n&&gtt(e,i_e.mj({streamTypeString:"subtitles",streamID:n.toString()}))},"/player/navigation/moveLeft":()=>btt("moveLeft"),"/player/navigation/moveRight":()=>btt("moveRight"),"/player/navigation/moveUp":()=>btt("moveUp"),"/player/navigation/moveDown":()=>btt("moveDown"),"/player/navigation/select":()=>btt("select"),"/player/navigation/back":()=>btt("back"),"/player/navigation/home":function(){ftt().then((()=>{htt((0,pn.EP)())}))}};let utt,ptt;function mtt(e,t,n){return{commandID:e,body:y7e({Response:{_code:t,_status:n}}),responseCode:t}}function htt(e){(0,M.DB)("appStore").dispatch(e)}function gtt(e,t){const n=e.type&&e.type[0];n?(t.type===it.qG&&Itt(),htt(itt({type:n,action:t}))):D.Z.warn("[Companion] Ignored playback action due to missing type")}function ytt(e){const t=e.machineIdentifier[0],n=(0,M.DB)("appModel"),i=n.get("servers").get(t),s=n.get("transientServer");let r;utt=t;const a={originalMachineIdentifier:t,accessToken:e.token&&e.token[0],mediaProviders:1};i&&(a.serverClass=i.get("serverClass"),a.publicAddressMatches=i.get("publicAddressMatches"),a.version=i.get("version")),s&&s.get("originalMachineIdentifier")===t?(r=s,r.set(a)):r=new $et(ctt({machineIdentifier:`transient-${t}-${(0,wf.Z)()}`},a),{parent:n});const o=i&&i.get("isConnected")&&i.get("activeConnection");let l;if(o)l={scheme:o.get("scheme"),address:o.get("address"),port:o.get("port"),uri:o.get("uri")};else{const t=e.port&&e.port[0];let n,i=e.protocol&&e.protocol[0],s=e.address&&e.address[0],r=s;if(!i&&!s)return D.Z.warn("[Companion] Unable to create a transient server without a protocol or address"),g().Deferred().reject().promise();"https"===i&&(s=(0,ltt.Z)(s),J.Z.allowHttpsMediaServerConnections||(i="http",r=s)),n=`${i}://${r}`,t&&(n+=":"+t),l={scheme:i,address:s,port:t,uri:n}}return r.addConnection(l),r.testOnlyUntestedConnections().then((()=>utt!==t?g().Deferred().reject().promise():(r.get("isTransient")&&htt(stt(r)),r)))}function vtt(e,t){const n=(0,M.DB)("appModel").get("user"),i=e.get("isCloud")&&!e.get("isTransient")?n.get("providers"):e.get("providers");e.set({isProvidersPending:!0,isProvidersPopulated:!1,providersError:null});const s=i.populate();return s.then((()=>(e.set({isProvidersPending:!1,isProvidersPopulated:!0}),s)),(()=>(e.set({isProvidersPending:!1,providersError:{}}),s)))}function ftt(){const e=g().Deferred();return(0,M.DB)("appModel").get("user").get("isLocked")?e.reject():e.resolve(),e.promise()}function Itt(){(0,M.DB)("appModel").get("user").get("isRemote")&&htt((0,Nv.xh)())}function btt(e){ee.Z.trigger("companion:"+e),ee.Z.trigger("companion:key",e)}function Mtt(e){const{path:t,query:n,commandID:i,supportsTimeline:s}=e,r=g().Deferred(),a=dtt[t];if(function(){const e=(0,M.DB)("appModel").get("inputActivity");e&&e.notice()}(),!1!==s&&(0,M.DB)("localCompanionTimelineManager").start(),a)(a(n)||g().Deferred().resolve().promise()).done((()=>{(0,D.Z)(`[Companion] Successfully processed command from path "${t}"`);const e=mtt(i,200,"OK");r.resolve({controllerResponse:e})})).fail((()=>{D.Z.warn(`[Companion] Failed to process command from path "${t}"`);const e=mtt(i,400,"Bad Request");r.resolve({controllerResponse:e})}));else{D.Z.warn(`[Companion] Unable to handle command from unknown path "${t}"`);const e=mtt(i,400,"Bad Request");r.resolve({controllerResponse:e})}return r.promise()}function Stt(e){const t=()=>e.get("deviceSettings"),n=()=>e.get("user").get("experienceSettings"),i={autoPlay:n,autoLogin:t,companion:n,language:n,shouldSyncSettings:t,subtitleColor:n,subtitlePosition:n,subtitleSize:n,volume:t};return{find:e=>i[e]().get(e),addCompanionChangeListener(t){e.on("change:user.change:experienceSettings.change:companion",t)}}}function Ett(e){return!!(function(e){return!(!e||e.get("isCloud")||"iOS"===e.get("platform")||!e.supports("companionProxy"))}(e)&&(t=e.get("activeConnection"),t&&t.get("isPrivate")&&t.get("isConnected")));var t}function Dtt(e){return!(!Ett(e)||e.get("isShared"))}const Ctt=X.Z.extend({mixins:[te.Z],name:"CompanionServerManager",initialize(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers"),this._throttlePickCompanionServer=E().throttle(this._pickCompanionServer,2e3)},start(e){this.stop(),this.listenTo(this.servers,"change:connected change:activeConnection update",this._throttlePickCompanionServer),this.started=!0,this._pickCompanionServer()},stop(){this.stopListening(),this.started=!1},_pickCompanionServer(){this.started&&(this.companionServer&&Ett(this.companionServer)&&this.servers.contains(this.companionServer)||(this.companionServer=this.servers.find(Dtt)||this.servers.find(Ett),this.companionServer?((0,M.DB)("appStore").dispatch((0,pn.a7)({serverEntityID:this.companionServer.entityID()})),D.Z.info("[Companion] Found companion",this.companionServer.get("debugName"))):((0,M.DB)("appStore").dispatch((0,pn.yy)()),D.Z.warn("[Companion] No companion found"))))}}),Ptt=X.Z.extend({mixins:[te.Z],browserConnectionChangeDelay:2e3,initialize(e){E().bindAll(this,"onBrowserConnectionChange"),this.appModel=e.appModel,this.servers=this.appModel.get("servers"),this.settings=this.appModel.get("settings")},start(){this.stop();const e=g()(window);e.on("online",this.onBrowserConnectionChange),e.on("offline",this.onBrowserConnectionChange),this.listenTo(ee.Z,{"test:servers":this.onTestAllServers,"test:server":this.onTestServer}),this.listenTo(this.servers,{add:this.onServerAdd,remove:this.onServerRemove,reset:this.onServersReset,"error:connection":this.onServerConnectionError,"change:connections.add":this.onServerConnectionAdd,"change:connections.remove":this.onServerConnectionRemove,"change:connections.reset":this.onServerConnectionsReset,"change:connections.change:isConnected":this.onServerConnectionConnectedChange,"change:connections.change:sources.change":this.onServerConnectionSourcesChange,"change:accessToken":this.onServerAccessTokenChange,"change:isConnected":this.onServerConnectedChange,"change:isUnavailable":this.onServerUnavailableChange,"change:publicAddressMatches":this.onServerPublicAddressMatchesChange}),this.listenTo(this.settings,"sync",this.onSettingsSave),this.servers.invoke("testOnlyUntestedConnections")},stop(){this.stopListening();const e=g()(window);e.off("online",this.onBrowserConnectionChange),e.off("offline",this.onBrowserConnectionChange)},retryServerConnections:function(e){e.testAllConnections()},startFailedServerRetries(e){},stopFailedServerRetries(e){},_removeConnection(e){const{server:t}=e,n=_6e.Z.getActiveServers();if((0,D.Z)("[Connections] Removed connection %s from %s",e.id,t.get("debugName")),t.abortConnectionTest(e),n){const i=n.get(t.id),s=i&&i.get("connections");s&&s.get(e.id)&&(s.remove(e.id),s.length||n.remove(t.id),_6e.Z.debouncedSave())}},onBrowserConnectionChange(e){(0,D.Z)("[Connections] Browser online status changed to",window.navigator.onLine),window.clearTimeout(this.browserConnectionChangeTimeout),this.browserConnectionChangeTimeout=window.setTimeout((()=>{this.servers.invoke("testAllConnections")}),this.browserConnectionChangeDelay)},onTestAllServers(){this.servers.invoke("testAllConnections")},onTestServer(e){e.testAllConnections()},onServerAdd(e){e.testOnlyUntestedConnections()},onServerRemove(e){const t=_6e.Z.getActiveServers();let n;if(e.abortAllConnectionTests(),this.stopFailedServerRetries(e),t)if(e.get("isMerged")){const i=e.previous("machineIdentifier");i&&(n=t.get(i),n&&(n.set("machineIdentifier",e.id),_6e.Z.debouncedSave()))}else n=t.get(e.id),n&&(t.remove(e.id),_6e.Z.debouncedSave())},onServersReset(e,t){const n=t.previousModels;E().each(n,(t=>{e.contains(t)||(t.abortAllConnectionTests(),this.stopFailedServerRetries(t))}))},onServerConnectionError(e){D.Z.warn("[Connections] Possible connection error for %s, retrying connection tests",e.get("debugName")),e.get("isCloud")?this.appModel.get("user").signInUnsupervised():e.testAllConnections()},onServerConnectionAdd(e){const{server:t}=e;(0,D.Z)("[Connections] Added connection %s for %s",e.id,t.get("debugName")),e.get("relay")?t.get("connections").hasFailedEveryDirectConnection()&&t.testAllConnections():t.testConnection(e)},onServerConnectionRemove(e){this._removeConnection(e)},onServerConnectionsReset(e,t){const n=t.previousModels;E().each(n,(t=>{e.contains(t)||this._removeConnection(t)}))},onServerConnectionConnectedChange(e,t){const{server:n}=e,i=e.get("isBundled"),s=e.get("isFallback"),r=e.get("relay"),a=t&&!i&&!s&&!r,o=_6e.Z.getActiveServers();if(n.id&&!n.get("isCloud")&&a&&o){let t=o.get(n.id);if(t)t.copyFromModel(n);else{const e=E().omit(n.toJSON(),"connections");t=o.add(e,{merge:!0,parse:!0})}t.get("connections").add(e.toJSON(),{merge:!0,parse:!0}),_6e.Z.debouncedSave()}},onServerConnectionSourcesChange(e,t){const{server:n}=e,i=_6e.Z.getActiveServers(),s=i&&i.get(n.id);if(s){const n=s.get("connections").get(e.id);n&&(n.get("sources").set(t.toJSON()),_6e.Z.debouncedSave())}},onServerAccessTokenChange(e,t){if(!e.get("isCloud")){(0,D.Z)("[Connections] Access token for %s changed to %s",e.get("debugName"),t);const n=_6e.Z.getActiveServers(),i=n&&n.get(e.id);i&&(i.set("accessToken",t),_6e.Z.debouncedSave()),e.get("isUnauthorized")&&e.set("connectionTestResult",GB.ZP.connectionTestResults.PENDING),e.testAllConnections()}},onServerConnectedChange(e,t){t&&this.stopFailedServerRetries(e)},onServerUnavailableChange(e,t){t&&this.startFailedServerRetries(e)},onServerPublicAddressMatchesChange(e,t){void 0!==t&&e.testAllConnections()},onSettingsSave(e){e.changed.hasOwnProperty("preferInsecureConnections")&&this.servers.invoke("testAllConnections")}}),wtt=Ptt.extend({initialize(e){Ptt.prototype.initialize.apply(this,arguments),this._serverRetryManager=new ome({callback:this.retryServerConnections.bind(this),logFormat:"[Connections] Retrying connection tests for %s in %s seconds"})},stop(){Ptt.prototype.stop.apply(this,arguments),this._serverRetryManager.stopAll()},startFailedServerRetries(e){this._serverRetryManager.start(e)},stopFailedServerRetries(e){this._serverRetryManager.stop(e)}});Object.prototype.hasOwnProperty,Object.getOwnPropertySymbols,Object.prototype.propertyIsEnumerable;const Ttt=["page","type","style","mode"];var Ztt=n(58698);const Ntt=/0/g,Att=()=>(0|16*Math.random()).toString(16),xtt=function(){return"00000000-0000-4000-8000-000000000000".replace(Ntt,Att)};var Ltt=Object.assign;const Ott=X.Z.extend({mixins:te.Z,initialize(e){this.privacySettings=null,this.defaults={},this._pendingPrivacyRequest=null,this._pendingEvents=[],this.debouncedFetchPrivacySettings=E().debounce(this.fetchPrivacySettings,250),this.isPlaybackActive=e.isPlaybackActive,this.enable()},enable(){this.enabled=!0},disable(){this.enabled=!1},set(e){this.defaults=Ltt(Ltt({},this.defaults),e)},setUser(e){this.set({userId:e.id}),this.defaults.context||(this.defaults.context={}),this.defaults.context.user=e.get("subscriptions").reduce(((e,t)=>(e[t.get("type")]=t.get("mode"),e)),{anonymous:e.get("anonymous")})},fetchPrivacySettings(){this.privacySettings=null,this._pendingPrivacyRequest&&(this._pendingPrivacyRequest.abort(),this._pendingPrivacyRequest=null);const e=(0,M.DB)("appModel").get("user");if(!e.server.get("isConnected"))return g().Deferred().reject().promise();const t=e.server.getXHROptions("/api/v2/user/privacy",{dataType:"json"});return this._pendingPrivacyRequest=g().ajax(t),this._pendingPrivacyRequest.promise().done((t=>{this.setUser(e),this.setPrivacySettings(t),this.trackPendingEvents()})).always((()=>{this._pendingPrivacyRequest=null}))},setPrivacySettings(e){e&&e.metrics&&(this.privacySettings=Ltt(Ltt({},e),{metrics:e.metrics.reduce(((e,t)=>(e[t.event]=t.status,e)),{})}),(0,M.DB)("metricsReporter").setBaseUrl(e.baseUrl))},incrementPlaybackCount(){const e="playbackCount",t=(0,M.DB)("sessionStats");t.save(e,t.get(e)+1)},addPlaybackTime(e){const t="playbackTime",n=(0,M.DB)("sessionStats");n.save(t,n.get(t)+e)},trackView(e,t){const n=WZ.fB,i=Ltt({event:n,interaction:!0,properties:e},t),s=Kl.Z.measure(function(e,t){let n=e;for(let e=0;e<Ttt.length;e++){const i=t[Ttt[e]];null!=i&&(n=`${n}:${i}`)}return n}(n,e),`${n}:${e.page}-start`);s&&(i.properties=Ltt(Ltt({},i.properties),{latency:Math.round(s.duration)})),this.trackEvent(i)},trackClick(e,t){this.trackEvent(Ltt({event:WZ.Ip,interaction:!0,properties:e},t))},trackEvent(e){var t;if(!this.enabled)return;const n=null==(t=e.properties)?void 0:t.contextTuple;n&&(delete e.properties.contextTuple,Object.assign(e.properties,(0,xt.IF)(n)));const i=(0,M.DB)("sessionStats"),s=i.get("sessionId"),r=i.get("anonymousSessionId");if(!this.privacySettings)return void this._pendingEvents.push(Ltt(Ltt({},e),{sessionIdentifier:s,anonymousSessionIdentifier:r}));const a=g().extend(!0,{},this.defaults,e);a.sessionIdentifier||(a.sessionIdentifier=s),a.anonymousSessionIdentifier||(a.anonymousSessionIdentifier=r);const o=Date.now();if(e.event!==WZ.$R&&e.event!==WZ.o$){const t=i.get("lastInteractionTime"),n=i.get("lastPlayingHeartbeatTime");if(o-Math.max(t,n)>18e5)return void this.flushSession().then((()=>{this.trackEvent(e)}))}const l=this.privacySettings.metrics[a.event];l&&("off"===l||(a.interaction&&(0,Ztt.Z)(),"anonymous"===l&&(delete a.userId,a.deviceIdentifier=(0,M.DB)("appModel").get("anonymousClientID"),a.sessionIdentifier=a.anonymousSessionIdentifier),delete a.anonymousSessionIdentifier,(0,M.DB)("metricsReporter").trackEvent(a)))},trackPendingEvents(){const e=this._pendingEvents;let t=0;for(;t<e.length;)this.trackEvent(e[t]),t++;this._pendingEvents=[]},start(){const e=(0,M.DB)("appModel").get("user");return this.flushSession().then((()=>(0,F.Z)(e.server.populate()))).then((()=>this.fetchPrivacySettings())).always((()=>{this.listenTo(e.server,"change:isConnected",this.onCloudServerChange),this.listenTo(e,"change:id",this.onUserIDChange)})),g().Deferred().resolve().promise()},flushSession(){const e=(0,M.DB)("sessionStats").populate().then((()=>{this.stopSession(),this.startSession()}),(()=>{this.startSession()}));return(0,F.Z)(e)},startSession(){const e=Date.now(),t=(0,M.DB)("sessionStats");if(!this.interval){const e=J.Z.heartbeatInterval;this.interval=window.setInterval((()=>{const e=Date.now(),n={heartbeatTime:e};this.isPlaybackActive()&&(n.lastPlayingHeartbeatTime=e),t.set(n)}),e)}t.save({sessionId:xtt(),anonymousSessionId:xtt(),startTime:e,lastInteractionTime:e,heartbeatTime:e,lastPlayingHeartbeatTime:null,playbackCount:0,playbackTime:0});const n=WZ.o$,i=Kl.Z.endPeriod(n),s={event:n,interaction:!0,properties:{mode:"uno"}};i&&(s.properties.latency=Math.round(i.duration)),this.trackEvent(s)},stopSession(){const e=(0,M.DB)("sessionStats"),t=e.get("heartbeatTime"),n=e.get("playbackCount"),i=e.get("playbackTime"),s=e.get("startTime");this.trackEvent({event:WZ.$R,interaction:!1,properties:{sessionLength:Math.floor((t-s)/1e3),playbackCount:n,playbackTime:cQe(i)}})},toJSON(){return Ltt({},this.defaults)},onCloudServerChange(e,t){t?this.fetchPrivacySettings():this.privacySettings=null},onUserIDChange(){this.privacySettings=null,this.debouncedFetchPrivacySettings()}}),jtt=X.Z.extend({mixins:[te.Z],initialize(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers")},start(e){this.stop(),this.listenTo(this.appModel,{"change:primaryServer":this.onPrimaryServerChange,"change:primaryServer.change:isPrimaryEligible":this.onPrimaryServerEligibleChange,"change:primaryServer.change:isOutOfDate":this.onPrimaryServerOutOfDateChange,"change:isWaitingForServers":this.onWaitingForServersChange,"change:primaryServer.change:isRelayed":this.onPrimaryServerIsRelayedChange}),this.listenTo(this.servers,{"update reset":this.onServersUpdate}),this._setPrimaryServer(pS.STARTUP)},stop(){this.stopListening(),this._primaryServerPromise=null},_setPrimaryServer(e){if(this._primaryServerPromise)return this._primaryServerPromise;const t=(0,M.DB)("appStore");t.dispatch((0,pn.I2)());const n=this._waitForPrimaryServer();return this._primaryServerPromise=n,n.done((i=>{if(n===this._primaryServerPromise){if(this._primaryServerPromise=null,this.appModel.get("primaryServer"))return;const n=!i.get("version")&&!i.get("isRejected");i.get("isOutOfDate")||n?((0,D.Z)("[Primary Server] The server, %s, is waiting for a version",i.get("debugName")),this._setPrimaryServer(e)):t.dispatch((0,pn.h9)({machineIdentifier:i.id,metricsProperties:{context:e}}))}})).fail((()=>{n===this._primaryServerPromise&&(this._primaryServerPromise=null,this.appModel.set("isWaitingForPrimaryServer",!1))})),n},_waitForPrimaryServer(){const e=this.appModel.get("user").get("lastPrimaryServerID");let t;return e?((0,D.Z)("[Primary Server] Waiting for the last primary server, %s, to connect",e),t=this.servers.populateServer({machineIdentifier:e,isPrimaryEligible:!0,isOutOfDate:!1})):t=g().Deferred().reject().promise(),t=t.then(null,(()=>((0,D.Z)("[Primary Server] Waiting for any owned server to connect"),this.servers.populateServer({isFullOwnedServer:!0,isPrimaryEligible:!0,isOutOfDate:!1})))),t=t.then(null,(()=>((0,D.Z)("[Primary Server] Waiting for any eligible server to connect"),this.servers.populateServer({isPrimaryEligible:!0,isOutOfDate:!1})))),t=t.then(null,(()=>((0,D.Z)("[Primary Server] Waiting for any eligible server"),this.servers.findServer({isPrimaryEligible:!0,isOutOfDate:!1})))),t},onPrimaryServerChange(e,t){_6e.Z.flushDebouncedSave();const n=e.previous("primaryServer");n&&this.stopListening(n),t?(D.Z.info("[Primary Server] %s is now the primary server",t.get("debugName")),e.get("user").set("lastPrimaryServerID",t.id),t.get("isRelayed")&&(0,M.DB)("appStore").dispatch((0,cS.J3)({machineIdentifier:t.id,serverName:t.get("friendlyName")}))):e.get("isWaitingForPrimaryServer")?(0,D.Z)("[Primary Server] Waiting to set the primary server"):D.Z.warn("[Primary Server] No primary server found")},onPrimaryServerEligibleChange(e,t){const n=this.appModel.get("user");t||((0,D.Z)("[Primary Server] The previous primary server, %s, is unauthorized",e.get("debugName")),n.unset("lastPrimaryServerID"),this._setPrimaryServer(pS.FALLBACK))},onPrimaryServerOutOfDateChange(e,t){const n=this.appModel.get("user");t&&((0,D.Z)("[Primary Server] The previous primary server, %s, is out of date",e.get("debugName")),n.unset("lastPrimaryServerID"),this._setPrimaryServer(pS.FALLBACK))},onWaitingForServersChange(e,t){if(t){const t=e.get("primaryServer"),n=!t||!this.servers.get(t.id),i=e.get("isWaitingForPrimaryServer");n&&!i&&this._setPrimaryServer(pS.FALLBACK)}},onPrimaryServerIsRelayedChange(e,t){t&&(0,M.DB)("appStore").dispatch((0,cS.J3)({machineIdentifier:e.id,serverName:e.get("friendlyName")}))},onServersUpdate(){const e=this.appModel.get("user"),t=this.appModel.get("primaryServer");t?t&&!this.servers.get(t.id)&&((0,D.Z)("[Primary Server] The previous primary server, %s, was removed",t.get("debugName")),e.unset("lastPrimaryServerID"),this._setPrimaryServer(pS.FALLBACK)):this._setPrimaryServer(pS.STARTUP)}}),ktt=X.Z.extend({mixins:[te.Z],initialize(e){this.appModel=e.appModel},start(){const e=this.appModel.get("user");this.populateCloudProviders(e.get("providers")),this.listenTo(this.appModel,{"change:user.change:providers.add":this.onProviderAdd})},stop(){this.stopListening()},populateCloudProviders(e){e.each((e=>{this.populateCloudProvider(e)}))},populateCloudProvider(e){e.get("isPopulated")||(0,M.DB)("appStore").dispatch(oS({providerEntityID:e.entityID(),options:{merge:!0}}))},onProviderAdd(e){this.populateCloudProvider(e)}});function Rtt(e,t,n){return function(i){return i.server===e&&i.connection.id===t.id&&i.url===n}}const ztt=X.Z.extend({initialize(e){this.appModel=e.appModel,this.queued=[],this.executing=[],this.maximumConcurrent=J.Z.maximumConcurrentConnectionTests,this.throttledStartProcessing=E().throttle(this._startProcessing.bind(this),50,{leading:!1})},queueConnectionTest({server:e,connection:t,url:n}){const i=this._queuedOrExecuting(e,t,n);if(i)return i.deferred.promise();const s=g().Deferred();return this.queued.push({server:e,connection:t,url:n,deferred:s}),this._sortQueue(),this.throttledStartProcessing(),s.promise()},abortConnectionTest({server:e,connection:t,url:n}){return this._abortCurrentTest(e,t,n),this._removeQueuedOrExecuting(e,t,n),g().Deferred().resolve().promise()},reset(){for(this.queued.length=0;this.executing.length>0;)this.abortConnectionTest(this.executing[0])},_sortQueue(){const e=this.appModel.get("user").get("lastPrimaryServerID");this.queued.sort(((t,n)=>{const i=t.server,s=n.server,r=t.connection,a=n.connection,o=this._isManualConnection(r),l=this._isManualConnection(a),c=this._isMatchingLocation(i,r),d=this._isMatchingLocation(s,a);return i.id===e&&s.id!==e?-1:s.id===e&&i.id!==e?1:i.get("isCloud")&&!s.get("isCloud")?-1:s.get("isCloud")&&!i.get("isCloud")?1:!r.get("relay")&&a.get("relay")?-1:!a.get("relay")&&r.get("relay")?1:!r.get("isConnected")&&a.get("isConnected")?-1:!a.get("isConnected")&&r.get("isConnected")?1:!i.get("isShared")&&s.get("isShared")?-1:!s.get("isShared")&&i.get("isShared")?1:i.get("isFullServer")&&!s.get("isFullServer")?-1:s.get("isFullServer")&&!i.get("isFullServer")?1:o&&!l?-1:l&&!o?1:r.get("isBundled")&&!a.get("isBundled")?-1:a.get("isBundled")&&!r.get("isBundled")?1:c&&!d?-1:d&&!c?1:0}))},_startProcessing(){E().times(this.maximumConcurrent-this.executing.length,this._process.bind(this))},_process(){if(this.executing.length>=this.maximumConcurrent)return;if(!this.queued.length)return;const e=this.queued.shift(),{server:t,connection:n,url:i}=e;this._abortCurrentTest(t,n,i);const s=(0,M.DB)("testServerConnection")({server:t,connection:n,url:i});this.executing.push(e),s.done(((t,n)=>{e.deferred.resolve(t,n)})),s.fail(((t,n)=>{e.deferred.reject(t,n)})),s.always((()=>{const t=this.executing.indexOf(e);this.executing.splice(t,1),this._process()}))},_abortCurrentTest(e,t,n){t.get("currentTest")&&t.get("currentTest").forEach((i=>{const s=e.resolveUrl(n||i.url,{connection:t});i&&"pending"===i.state()&&((0,D.Z)("[Connections] Aborting pending connection test for %s at %s",e.get("debugName"),s),x.Z.abort(i.rid),i.abort())}))},_isManualConnection:e=>e.get("sources").some((e=>0===e.id.indexOf("manualServer"))),_isMatchingLocation(e,t){const n=e.get("publicAddressMatches"),i=t.get("isPrivate");return n&&i||!n&&!i},_queuedOrExecuting(e,t,n){const i=Rtt(e,t,n);return E().find(this.executing,i)||E().find(this.queued,i)},_removeQueuedOrExecuting(e,t,n){const i=Rtt(e,t,n),s=E().findIndex(this.executing,i),r=E().findIndex(this.queued,i);s>=0&&this.executing.splice(s,1),r>=0&&this.queued.splice(r,1)}});var Utt=n(6272),Vtt=n(319),Btt=n(99340),Ftt=Object.assign;function Htt(e){return rn(Ftt({entityID:e.entityID()},e.toJSON()))}const _tt=Object.keys(Btt.Z.prototype.syncedAttrs),Qtt=X.Z.extend({mixins:[te.Z],initialize(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers")},start(){this.stop(),this.listenTo(this.servers,{"change:promiseState":this.onServerPromiseStateChange,remove:this.onServerRemove,"update reset":this.onServersUpdateReset,"change:resources.add":this.onResourceAdd,"change:resources.remove":this.onResourceRemove,"change:resources.update":this.onResourcesUpdate,"change:resources.reset":this.onResourcesReset,"change:resources.change:presence":this.onResourcesPresenceChange,"change:resources.change:connections.update":this.onResourceConnectionsUpdate,"change:isConnected":this.onConnectedChange,"change:desktop.change:isSettingsPopulated":this.onSettingsPopulatedChange}),_tt.forEach((e=>{this.listenTo(this.servers,"change:"+e,this.onStoredServerAttributeChange.bind(this,e))})),this.listenTo(ee.Z,"discover:servers",this.onDiscoverServers),this._setAuthorized(),this._checkFoundAllServers()},stop(){this.stopListening()},_checkFoundAllServers(){this.servers.shouldWaitForInitialServers()||this.servers.shouldWaitForResources()||this.servers.shouldWaitForPendingServers()?this._waitForServers():this._foundAllServers()},_waitForServers(){this.servers.waitForServers(),(0,Rt.c9)((()=>{this.appModel.set("isWaitingForServers",!0)}))},_foundAllServers(){this.servers.foundAllServers(),(0,Rt.c9)((()=>{this.appModel.set("isWaitingForServers",!1)}))},_fetchResources(e){if(e.get("isRejected"))return D.Z.warn("[Servers] Failed to request resources through %s",e.get("debugName")),e.set({isResourcesPending:!1,hasFailedResources:!0,isDownForMaintenance:!1}),g().Deferred().reject().promise();if(!e.get("isResolved"))return(0,D.Z)("[Servers] Finding resources through unresolved cloud server %o, resolving",e.get("debugName")),e.populate().then((()=>this._fetchResources(e)));(0,D.Z)("[Servers] Finding resources through %s",e.get("debugName")),this._waitForServers(),e.set("isResourcesPending",!0);const t=e.get("resources");return t.fetch().done((()=>{(0,D.Z)("[Servers] Found %s resources through %s",t.length,e.get("debugName")),e.set({isResourcesPending:!1,isResourcesPopulated:!0,hasFailedResources:!1,isDownForMaintenance:!1})})).fail(((t,n)=>{D.Z.warn("[Servers] Failed to request resources through %s",e.get("debugName")),e.set({isResourcesPending:!1,hasFailedResources:!0,isDownForMaintenance:503===n.status})})).always((()=>{this._checkFoundAllServers()}))},_convertResourceToServer:e=>((0,D.Z)("[Servers] %s was found through %s",e.get("name"),e.server.get("debugName")),(0,Utt.Z)(e)),_removeResource(e){(0,D.Z)("[Servers] %s was removed as a resource from %s",e.get("name"),e.server.id);const t=this.servers.get(e.id);t&&t.removeSource(e.server.id)},_pruneStaleSources(e){const t=e.get("resources");let n=this.servers.length-1;for(;n>=0;){const i=this.servers.at(n),s=t.get(i.id);if(s){const t=i.get("connections");let n=t.length-1;for(;n>=0;){const i=t.at(n);i.get("sources").get(e.id)&&(s.get("connections").get(i.id)||i.get("sources").remove(e.id)),n--}}else i.removeSource(e.id);n--}},_setAuthorized(){const e=!!this.servers.findWhere({isConnected:!0,isCloud:!1}),t=!!this.servers.findWhere({isResolved:!0,isCloud:!0});this.appModel.set("authorized",e||t)},onServerPromiseStateChange(e,t){e.get("resources")&&this._fetchResources(e),this._setAuthorized(),this._checkFoundAllServers()},onStoredServerAttributeChange(e,t,n){const i=_6e.Z.getActiveServers(),s=i&&i.get(t.id);s&&null!=n&&s.get(e)!==n&&(s.set(e,n),_6e.Z.debouncedSave())},onServerRemove(e){D.Z.warn("[Servers] %s was removed",e.get("debugName")),e.cache.remove(e),ee.Z.trigger("clearWhere:cache",{server:e})},onServersUpdateReset(){this._setAuthorized(),this._checkFoundAllServers()},onDiscoverServers(){const e=this.appModel.get("cloudServer");this._fetchResources(e)},onResourceAdd(e){if(E().contains(e.get("provides"),"server")){const t=this._convertResourceToServer(e);t.get("isMobileServer")||this.servers.add(t)}},onResourceRemove(e){this._removeResource(e)},onResourcesUpdate(e){this._pruneStaleSources(e.server),this._checkFoundAllServers()},onResourcesReset(e,t){const n=t.previousModels;E().each(n,(t=>{e.contains(t)||this._removeResource(t)})),this._checkFoundAllServers()},onResourcesPresenceChange(e){const t=this.servers.get(e.id);t&&t.set("presence",e.get("presence"))},onResourceConnectionsUpdate(e){const t=e.parent,n=this.servers.get(t.id);n&&((0,Vtt.Z)(n,t),this._pruneStaleSources(e.server),this._checkFoundAllServers())},onConnectedChange(e,t){if(!t)return;const n=(0,M.DB)("appStore"),i=Htt(e);n.dispatch(ja.actions.connected({server:i})),e.get("isFullOwnedServer")&&(n.dispatch(_m.actions.fetchRequested({server:i})),n.dispatch((0,FS.R_)({serverEntityID:e.entityID()})))},onSettingsPopulatedChange(e,t){if(t){const t=e.get("settings"),n=t.get("AcceptedEULA");n&&!1===n.get("value")&&!window.location.hash.includes("/setup")&&(0,Ine.Z)("serverSetup",{machineIdentifier:t.server.id})}}}),Gtt=X.Z.extend({mixins:[te.Z],initialize(e){this.appModel=e.appModel},start(){this.stop(),this.listenTo(this.appModel.get("servers"),{"change:isConnected":this.onServerIsConnectedChange,"change:isInstallingServerUpdate":this.onIsInstallingServerUpdateChange})},stop(){this.stopListening()},onServerIsConnectedChange(e,t){t&&M.DB("appStore").dispatch(uye({serverEntityID:e.entityID()}))},onIsInstallingServerUpdateChange(e,t){t||M.DB("appStore").dispatch(uye({serverEntityID:e.entityID()}))}});var Ytt=n(29065),Wtt=n(41583);const Ktt=X.Z.extend({mixins:[te.Z],initialize(e){this.appModel=e.appModel,this.debouncedSaveTimeout=null},start(){this.listenTo(this.appModel,{"change:user.change:providers.add":this.onCloudProviderAdd,"change:user.change:providers.change:isPending":this.onCloudProviderIsPendingChange,"change:user.change:isProvidersPending":this.onCloudProvidersIsPendingChange}),this.listenTo(this.appModel.get("servers"),{"change:isConnected":this.onServerIsConnectedChange,"change:isProvidersPending":this.onServerIsProvidersPendingChange,add:this.onServerAdd,"change:friendlyName":this.onServerAttrChanged,"change:sourceTitle":this.onServerAttrChanged}),this.listenTo(this.appModel.get("cloudServer"),{"change:isResourcesPending":this.onCloudReadyChange,"change:hasFailedResources":this.onCloudReadyChange})},_getPinnedSources(){return this.appModel.get("user").get("experienceSettings").get("sidebarSettings").get("pinnedSources")},_getCustomHomeHubs(){return this.appModel.get("user").get("experienceSettings").get("homeSettings").get("hubs")},_shouldRemoveHiddenSource(e){const t=e.get("hiddenAt");return t>0&&Date.now()-t>604800},_hideCustomHomeHubs(e){e.forEach((e=>{e.get("isHidden")?this._shouldRemoveHiddenSource(e)&&(e.trigger("destroy",e,e.collection),this._debouncedSaveExperienceSettings()):(e.set({isHidden:!0,hiddenAt:Date.now()}),this._debouncedSaveExperienceSettings())}))},_hidePinnedSources(e){let t;e.forEach((e=>{e.get("isHidden")?this._shouldRemoveHiddenSource(e)&&(e.trigger("destroy",e,e.collection),this._debouncedSaveExperienceSettings()):(e.set({isHidden:!0,hiddenAt:Date.now()}),t=!0,this._debouncedSaveExperienceSettings())})),t&&(0,M.DB)("appStore").dispatch((0,Wtt.Ps)())},_hideSourcesWithNoServer(){const e=this.appModel.get("servers"),t=this._getPinnedSources().filter((t=>!e.get(t.get("machineIdentifier")))),n=this._getCustomHomeHubs().filter((t=>!e.get(t.get("server").get("machineIdentifier"))));this._hidePinnedSources(t),this._hideCustomHomeHubs(n)},_hideSourcesWithNoProvider(e,t,n,i){if(e.get("isConnected")&&n&&!i){const n=e.get("machineIdentifier"),i=this._getPinnedSources().filter((e=>{const i=e.get("machineIdentifier"),s=e.get("providerIdentifier");return i===n&&!t.get(s)})),s=this._getCustomHomeHubs().filter((e=>{const i=e.get("server").get("machineIdentifier"),s=e.get("provider").get("identifier");return i===n&&!t.get(s)}));this._hidePinnedSources(i),this._hideCustomHomeHubs(s)}},_hideCloudSourcesWithNoProvider(e){const t=this.appModel.get("cloudServer");this._hideSourcesWithNoProvider(t,e.get("providers"),e.get("isProvidersPopulated"),e.get("providersError"))},_hideServerSourcesWithNoProvider(e){this._hideSourcesWithNoProvider(e,e.get("providers"),e.get("isProvidersPopulated"),e.get("providersError"))},_updateStoredPinnedSources(e,t){const n=[];let i;this._getPinnedSources().forEach((s=>{const r=(0,Ytt.Z)(s.toJSON());if(r.machineIdentifier!==e.machineIdentifier||r.providerIdentifier!==t.identifier)return;const a=RTe(t,r.directoryID);if(!a)return void(e.isConnected&&t.isPopulated&&n.push(s));const o=(0,TM.Z)(t,a),l=(0,Ytt.Z)(wM({sourceType:o?o.key:null,sourceServer:e,sourceProvider:t,sourceDirectory:a}));s.get("isHidden")&&(l.isHidden=!1,l.hiddenAt=null,i=!0),(0,hC.Z)(r,l)||(s.set(l),this._debouncedSaveExperienceSettings())})),this._hidePinnedSources(n),i&&(0,M.DB)("appStore").dispatch((0,Wtt.Ps)())},_updateStoredHomeHubModels(e,t){const n=[];this._getCustomHomeHubs().forEach((i=>{const s=i.toJSON();if(s.server.machineIdentifier!==e.machineIdentifier||s.provider.identifier!==t.identifier)return;const r=function(e,t){const n=(0,So.Z)(e);return n&&n.directories?n.directories.find((e=>e.key===t||e.hubKey===t)):null}(t,s.directoryKey),a=t&&t.features.find((e=>e.type===mS.Mz));r||a&&a.key===s.directoryKey?i.get("isHidden")&&(i.set({isHidden:!1,hiddenAt:null}),this._debouncedSaveExperienceSettings()):e.isConnected&&t.isPopulated&&n.push(i)})),this._hideCustomHomeHubs(n)},_autoPinSources(e,t){const n=this.appModel.get("user").get("experienceSettings"),i=n.get("autoPinnedProviders"),s=n.get("sidebarSettings"),r=s.get("pinnedSources"),a=(0,hD.Z)(e.machineIdentifier,t.identifier);if(!pa.wB(t.identifier,[pa.uk,pa.vP])||i.includes(a))return;n.set({autoPinnedProviders:[...i,a]}),this._debouncedSaveExperienceSettings();const o=(0,So.Z)(t);if(!s.get("hasCompletedSetup")||!o||!o.directories)return;const l=o.directories.reduce(((n,i)=>{const s=(0,TM.Z)(t,i),a=(0,CM.Z)(s?s.key:null,e.machineIdentifier,t.identifier,i.id);if(s&&!r.get(a)){const r=wM({sourceType:s?s.key:null,sourceServer:e,sourceProvider:t,sourceDirectory:i});n.push((0,Ytt.Z)(r))}return n}),[]);l.length>0&&(0,M.DB)("appStore").dispatch((0,dE.W1)({sources:l,interaction:!1}))},_processSources(e,t){t.isPopulated&&(this._updateStoredPinnedSources(e,t),this._updateStoredHomeHubModels(e,t),this._autoPinSources(e,t))},_debouncedSaveExperienceSettings(){const e=this.appModel.get("user").get("experienceSettings");e.set({isDirty:!0}),this.debouncedSaveTimeout&&window.clearTimeout(this.debouncedSaveTimeout),this.debouncedSaveTimeout=window.setTimeout((()=>{e.get("isDirty")&&(0,M.DB)("appStore").dispatch((0,Nv.LN)())}),1e3)},_processCloudProviderChange(e){const t=this.appModel.get("cloudServer").toJSON(),n=e.toJSON();this._processSources(t,n)},_processServerChange(e){if(!e.get("isConnected")||!e.get("isProvidersPopulated"))return;const t=e.toJSON();t.providers.forEach((e=>this._processSources(t,e)))},onCloudProviderAdd(e){this._processCloudProviderChange(e)},onCloudProviderIsPendingChange(e,t){t||this._processCloudProviderChange(e)},onCloudProvidersIsPendingChange(e,t){t||this._hideCloudSourcesWithNoProvider(e)},onServerAttrChanged(e){this._processServerChange(e)},onServerIsConnectedChange(e,t){t||this._processServerChange(e)},onServerIsProvidersPendingChange(e,t){t||(this._hideServerSourcesWithNoProvider(e),this._processServerChange(e))},onServerAdd(e){this._processServerChange(e)},onCloudReadyChange(e){e.get("isResourcesPending")||e.get("hasFailedResources")||this._hideSourcesWithNoServer()}});function qtt(e,t){const n=e.get("user"),i=()=>{s&&(s=window.clearTimeout(s)),t(n,n.get("isSignedIn"))};let s=window.setTimeout(i,0);return n.on("change:isSignedIn",i),()=>{s&&(s=window.clearTimeout(s)),n.off("change:isSignedIn",i)}}const $tt=window.console.error.bind(window.console,"[Events]");class Jtt{constructor(){this.listeners=new Map}destroy(){this.removeAllListeners()}addListener(e,t){const n=this.listeners.get(e)||new Set;this.listeners.has(e)||this.listeners.set(e,n),n.add(t)}emit(e,...t){var n;null==(n=this.listeners.get(e))||n.forEach((e=>{try{e(...t)}catch(e){$tt(e)}}))}removeListener(e,t){var n;null==(n=this.listeners.get(e))||n.delete(t)}removeAllListeners(){this.listeners.forEach((e=>e.clear()))}}class Xtt{static fromJSON(e){const{playing:t,index:n,count:i,breakPosition:s}=e;return new Xtt(t,n,i,s)}constructor(e,t,n,i){this.breakPositionSeconds=null!=i?i:null,this.displayIndex=null!=t?t:null,this.displayTotal=null!=n?n:null,this.isPlaying=e}toJSON(){const e={playing:this.isPlaying};return null!=this.breakPositionSeconds&&(e.breakPosition=this.breakPositionSeconds),null!=this.displayIndex&&(e.index=this.displayIndex),null!=this.displayTotal&&(e.count=this.displayTotal),e}toString(){return JSON.stringify(this.toJSON())}}class ent{static fromJSON(e){if(!e.name)return;const t=JSON.parse(e.name);return new ent(t.uri,Xtt.fromJSON(t.ads))}constructor(e,t){this.ad=t||new Xtt(!1),this.sourceUri=e}toJSON(){const e={ads:this.ad.toJSON(),uri:this.sourceUri};return{name:JSON.stringify(e)}}}const tnt=/_+$/;class nnt{static fromJSON(e){const{deviceIdentifier:t,deviceName:n,userID:i}=e;return new nnt(i,t,n)}static fromString(e){const t=e.replace(tnt,"");return nnt.fromJSON(JSON.parse(t))}constructor(e,t,n){this.id="number"==typeof e?e:parseInt(e,10),this.deviceIdentifier=t,this.deviceName=n}toJSON(){const{deviceIdentifier:e,deviceName:t,id:n}=this;return{deviceIdentifier:e,deviceName:t,userID:String(n)}}toString(){return JSON.stringify(this.toJSON())}}class int{constructor(e,t){this.type="Hello",this.roomID=t,this.user=e}static fromJSON(e){return new int(nnt.fromString(e.username),e.room.name)}toJSON(){return{[this.type]:{room:{name:this.roomID},username:this.user.toString(),version:"1.6.4"}}}}class snt{static fromJSON(e,t){return new snt(nnt.fromString(e),t.isReady||!1,t.position,ent.fromJSON(t.file))}constructor(e,t,n,i){this.file=i||null,this.isReady=t,this.position=n,this.user=e}}class rnt{constructor(e){this.type="List",this.users=e||[]}static fromJSON(e,t){const n=e[t],i=[];for(const e in n){const t=snt.fromJSON(e,n[e]);i.push(t)}return new rnt(i)}toJSON(){return{[this.type]:{}}}}class ant{constructor(e,t,n,i){this.type="Set",this.file=null,this.hasJoined=null,this.hasLeft=null,this.isReady=null,this.user=e,"boolean"==typeof t||null===t?this.isReady=t:(this.file=null!=t?t:null,this.hasJoined=null!=n?n:this.hasJoined,this.hasLeft=null!=i?i:this.hasLeft)}static fromJSON(e,t){if(e.ready){const{isReady:t,username:n}=e.ready,i=nnt.fromString(n);return new ant(i,t)}if(e.user){const[n,i]=Object.entries(e.user)[0];if(i.room.name===t){const e=nnt.fromString(n),t=i.file&&ent.fromJSON(i.file),{joined:s=!1,left:r=!1}=i.event||{};return new ant(e,t,s,r)}}}toJSON(){const{file:e,isReady:t}=this;return e?{[this.type]:{file:e.toJSON()}}:null!=t?{[this.type]:{ready:{isReady:t}}}:void 0}}class ont{constructor(e,t,n){this.type="State",this.ignoringOnTheFly=n,this.ping=e,this.playstate=t,this.setBy=t.setBy?nnt.fromString(t.setBy):null}static fromJSON(e){const{ping:t,playstate:n,ignoringOnTheFly:i}=e;return new ont(t,n,i)}toJSON(){const{ignoringOnTheFly:e,ping:t,playstate:n}=this,i={ping:t,playstate:n};return null!=(null==e?void 0:e.client)&&null!=(null==e?void 0:e.server)?i.ignoringOnTheFly={client:e.client,server:e.server}:null!=(null==e?void 0:e.client)?i.ignoringOnTheFly={client:e.client}:null!=(null==e?void 0:e.server)&&(i.ignoringOnTheFly={server:e.server}),{[this.type]:i}}}const lnt=window.console.error.bind(window.console,"[WebSocketConnection]");class cnt extends Jtt{destroy(){super.destroy()}}class dnt extends cnt{constructor(e){super(),this.onHelloInterval=()=>{try{this.isOpen&&this.send("hello")}catch(e){lnt(`WebSocketConnection hello exception: ${e.message}`)}},this.isPingEnabled=!1!==e.isPingEnabled,this.url=e.url}get isConnecting(){var e;return 0===(null==(e=this.socket)?void 0:e.readyState)}get isOpen(){var e;return 1===(null==(e=this.socket)?void 0:e.readyState)}open(){return new Promise(((e,t)=>{if(this.isConnecting||this.isOpen)return void t(new Error("Refusing to open multiple connections"));const n=new window.WebSocket(this.url);this.socket=n,n.onerror=()=>{t(new Error("Connection error"))},n.onopen=()=>{this.isPingEnabled&&(this.pingIntervalID=window.setInterval(this.onHelloInterval,3e4)),n.onerror=null,n.onclose=e=>{this.pingIntervalID&&(window.clearInterval(this.pingIntervalID),delete this.pingIntervalID),this.emit("close",e)},n.onmessage=e=>{try{this.emit("message",this.parseMessage(e.data))}catch(e){lnt("Parse failure",e)}},this.emit("open"),e()}}))}close(e=1e3){if((this.isOpen||this.isConnecting)&&this.socket){const{socket:t}=this;delete this.socket,t.close(e),t.onopen=null,t.onclose=null,t.onerror=null,t.onmessage=null}}destroy(){super.destroy(),this.close()}send(e){var t,n;if(!this.isOpen)throw new Error(`Cannot send to socket in state ${null==(n=this.socket)?void 0:n.readyState}`);null==(t=this.socket)||t.send(e)}parseMessage(e){return JSON.parse(e)}}Object.assign,new(h7e())({attributePrefix:"",ignoreRoot:!0});const unt="[SyncplaySession]",pnt=window.console.debug.bind(window.console,unt),mnt=window.console.warn.bind(window.console,unt);class hnt extends Jtt{constructor(e){super(),this.onSocketClose=e=>{this.emit("close",e)},this.onSocketMessage=e=>{let t;pnt(`Message (${Date.now()}) <<`,e),e.Error?this.close(1011):e.Hello?t=int.fromJSON(e.Hello):e.List?t=rnt.fromJSON(e.List,this.roomID):e.Set?t=ant.fromJSON(e.Set,this.roomID):e.State&&(t=ont.fromJSON(e.State)),t&&this.emit("message",t)};const{roomID:t,roomSyncplayHost:n,roomSyncplayPort:i}=e,s=`wss://${n}:${i}/ws`;this.connection=new dnt({url:s,isPingEnabled:!1}),this.connection.addListener("close",this.onSocketClose),this.connection.addListener("message",this.onSocketMessage),this.roomID=t}destroy(){super.destroy(),this.connection.destroy()}open(){return e=this,null,t=function*(){yield this.connection.open()},new Promise(((n,i)=>{var s=e=>{try{a(t.next(e))}catch(e){i(e)}},r=e=>{try{a(t.throw(e))}catch(e){i(e)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(s,r);a((t=t.apply(e,null)).next())}));var e,t}close(e=1e3){this.connection.close(e)}send(e){const t=e.toJSON();t&&this.connection.send(JSON.stringify(t)),(t?pnt:mnt)(`Message (${Date.now()}) >>`,t||e)}}function gnt(){return window.performance.now()/1e3}class ynt{constructor(){this._lastForwardDelay=0,this.averageRtt=0,this.clientRtt=0}get lastForwardDelaySeconds(){return this._lastForwardDelay}get state(){var e,t;return{clientLatencyCalculation:gnt(),clientRtt:this.clientRtt,serverRtt:(null==(e=this.lastPing)?void 0:e.serverRtt)||0,latencyCalculation:(null==(t=this.lastPing)?void 0:t.latencyCalculation)||0}}update(e){const{clientLatencyCalculation:t,serverRtt:n}=e;this.lastPing=e,null!=t&&(this.clientRtt=gnt()-t,this.clientRtt<0||n<0||(0===this.averageRtt&&(this.averageRtt=n),this.averageRtt=.85*this.averageRtt+this.clientRtt*(1-.85),this._lastForwardDelay=this.averageRtt/2,n<this.clientRtt&&(this._lastForwardDelay+=this.clientRtt-n)))}}var vnt=Object.assign;const fnt=window.console.debug.bind(window.console,"[SyncplayClient]");function Int(e){return["User",e.id,`(${e.deviceName})`]}class bnt extends Jtt{constructor(e){super(),this.onSessionClose=e=>{this.emit("close",e)},this.onSessionMessage=e=>{e instanceof int?this.onHelloMessage(e):e instanceof rnt?this.onListMessage(e):e instanceof ant?this.onSetMessage(e):e instanceof ont&&this.onStateMessage(e)},this.onHelloMessage=e=>{this.session.send(new rnt)},this.onListMessage=e=>{e.users.forEach((e=>{this.tryEmitUserState(!0,e.isReady,e.user)})),e.users.forEach((e=>{this.tryEmitAdState(e.file,e.user)}))},this.onSetMessage=e=>{const{user:t}=e,n=null!=e.hasJoined||null!=e.hasLeft?e.hasJoined||!e.hasLeft:null;this.tryEmitUserState(n,e.isReady,t),this.tryEmitAdState(e.file,t)},this.onStateMessage=e=>{const t=this.lastSentFile!==this.file;this.pingHelper.update(e.ping),this.tryUpdateIgnoringOnTheFly(e),this.tryEmitPlaybackState(e);const n=this.shouldEchoSessionState()?{doSeek:!1,paused:e.playstate.paused,position:e.playstate.position,setBy:null}:{doSeek:this.playerBridge.hasPendingSeek,paused:this.playerBridge.isPaused,position:this.playerBridge.positionSeconds,setBy:null};t&&this.playerBridge.hasPendingSeek&&(n.doSeek=this.playerBridge.hasPendingSeek,n.position=this.playerBridge.positionSeconds);const i=this.isReady;this.playerBridge.hasPendingPlayPause=!1,this.playerBridge.hasPendingSeek=!1,this.session.send(new ont(this.pingHelper.state,n,this.ignoringOnTheFly)),t&&(this.lastSentFile=this.file,this.session.send(new ant(this.user,this.lastSentFile))),this.lastIsReady!==i&&(fnt("Setting isReady",{isReady:i,isAdPlaying:this.file.ad.isPlaying,hasInitialBuffer:this.playerBridge.hasInitialBuffer}),this.lastIsReady=i,this.session.send(new ant(this.user,this.lastIsReady)))};const{deviceIdentifier:t,deviceName:n,userID:i,playerBridge:s,roomID:r,roomSourceUri:a,roomSyncplayHost:o,roomSyncplayPort:l}=e;this.eventFields={roomID:r},this.file=new ent(a),this.ignoringOnTheFly={client:0,server:0},this.pingHelper=new ynt,this.playerBridge=s,this.roomID=r,this.roomSourceUri=a,this.user=new nnt(i,t,n),this.session=new hnt({roomID:r,roomSyncplayHost:o,roomSyncplayPort:l}),this.session.addListener("close",this.onSessionClose),this.session.addListener("message",this.onSessionMessage)}get isReady(){return!this.file.ad.isPlaying&&this.playerBridge.hasInitialBuffer}destroy(){super.destroy(),this.leave(),this.session.destroy()}join(){return e=this,null,t=function*(){yield this.session.open(),this.session.send(new int(this.user,this.roomID))},new Promise(((n,i)=>{var s=e=>{try{a(t.next(e))}catch(e){i(e)}},r=e=>{try{a(t.throw(e))}catch(e){i(e)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(s,r);a((t=t.apply(e,null)).next())}));var e,t}leave(){this.session.close(),this.file=new ent(this.roomSourceUri)}setAdState(e,t,n){var i;const s=null==(i=this.file)?void 0:i.ad;(null==s?void 0:s.isPlaying)!==e||(null==s?void 0:s.displayIndex)!==t||(null==s?void 0:s.displayTotal)!==n?this.file=new ent(this.roomSourceUri,e?new Xtt(e,t,n):void 0):fnt("Will not Set redundant session ad state",{isPlaying:e,displayIndex:t,displayTotal:n})}tryEmitAdState(e,t){if(!e)return;const{ad:n}=e,i=vnt(vnt({},this.eventFields),{ad:n,user:t});fnt(...Int(t),"ad state",n),this.emit("session",i)}tryEmitUserState(e,t,n){const i=vnt(vnt({},this.eventFields),{user:n});null!=e&&(fnt(...Int(n),"present?",e),i.isPresent=e),null!=t?(fnt(...Int(n),"ready?",t),i.isReady=t):!1===e&&(i.isReady=!1),null==e&&null==t||this.emit("session",i)}tryEmitPlaybackState(e){var t;if((null==(t=e.setBy)?void 0:t.deviceIdentifier)===this.user.deviceIdentifier||this.ignoringOnTheFly.client>0)return;const{playstate:n,setBy:i}=e,s=n.position+(n.paused?0:this.pingHelper.lastForwardDelaySeconds),r={isPaused:n.paused,positionSeconds:s,shouldSeek:n.doSeek},a=vnt(vnt({},this.eventFields),r);i?(fnt(...Int(i),"playback state",r),a.user=i):fnt("Server playback state",r),this.emit("session",a)}tryUpdateIgnoringOnTheFly(e){var t,n;const{ignoringOnTheFly:i}=this,s=null!=(null==(t=e.ignoringOnTheFly)?void 0:t.client)&&e.ignoringOnTheFly.client>0?e.ignoringOnTheFly.client:0;i.server=null!=(null==(n=e.ignoringOnTheFly)?void 0:n.server)&&e.ignoringOnTheFly.server>0?e.ignoringOnTheFly.server:0,(this.shouldEchoSessionState()||s===i.client)&&(i.client=0),this.shouldEchoSessionState()||!this.playerBridge.hasPendingPlayPause&&!this.playerBridge.hasPendingSeek||i.client++}shouldEchoSessionState(){return!this.playerBridge.isPlayerForeground||this.file.ad.isPlaying||this.ignoringOnTheFly.server>0}}let Mnt;function Snt(){const e=!!Mnt;return e||D.Z.warn("[Watch Together] Syncplay client is unavailable"),e}const Ent=class{constructor({appModel:e,appStore:t}){this.appModel=e,this.appStore=t}start(){const{appModel:e,appStore:t}=this,n=t.dispatch;qtt(e,((e,t)=>{!t&&Mnt&&n(yB.j3())}))}update({hasPendingSeek:e,hasPendingPlayPause:t,isAdPlaying:n,adDisplayIndex:i,adDisplayTotal:s}){Snt()&&(void 0!==n&&Mnt.setAdState(n,null!=i?i:void 0,null!=s?s:void 0),void 0!==t&&(Mnt.playerBridge.hasPendingPlayPause=t),void 0!==e&&(Mnt.playerBridge.hasPendingSeek=e))}leave(){Snt()&&(Mnt.destroy(),Mnt=void 0)}join({roomID:e,roomSourceUri:t,roomSyncplayHost:n,roomSyncplayPort:i}){const{appModel:s,appStore:r}=this;Mnt=new bnt({deviceIdentifier:z.Z.prop("X-Plex-Client-Identifier"),deviceName:z.Z.prop("X-Plex-Device-Name"),playerBridge:{get hasInitialBuffer(){const e=(0,M.DB)("appModel"),t=(0,JP.F_)(e,Se.Se);if(t.get("canPlayThrough"))return!0;const n=t.get("bufferedRanges"),i=t.get("positionSeconds")+5;for(let e=0;e<n.length;e++){const t=n[e];if(i>=t.startSeconds&&i<=t.endSeconds)return!0}return!1},hasPendingPlayPause:!1,hasPendingSeek:!1,get isPaused(){const e=(0,M.DB)("appModel");return(0,JP.F_)(e,Se.Se).get("isPaused")},get isPlayerForeground(){const e=(0,M.DB)("appModel");return!1===(0,JP.F_)(e,Se.Se).get("isWatchTogetherLobbyVisible")},get positionSeconds(){const e=(0,M.DB)("appModel"),t=(0,JP.F_)(e,Se.Se);return null!=t.get("lastSeekPositionSeconds")?t.get("lastSeekPositionSeconds"):t.get("positionSeconds")}},roomID:e,roomSourceUri:t,roomSyncplayHost:n,roomSyncplayPort:i,userID:s.get("user").id}),(0,D.Z)("[Watch Together] Joining session for room:",e),Mnt.join().then((()=>{(0,D.Z)("[Watch Together] Joined session for room:",e),(0,M.DB)("metrics").trackEvent({event:WZ.l8,interaction:!0,properties:{playbackSessionId:e}}),Mnt.addListener("session",(t=>{const n={roomID:e,event:t};D.Z.groupCollapsed("[Watch Together] Session event"),D.Z.debug("[Watch Together] Event:",t),r.dispatch(yB.xg(n)),r.dispatch(yB.eA(n)),r.dispatch(yB.os(n)),D.Z.groupEnd()})),Mnt.addListener("close",(t=>{D.Z.warn("[Watch Together] Session closed unexpectedly:",t),r.dispatch(yB.o6({roomID:e,sessionError:(0,De.Z)("Lost connection to the Watch Together session.")}))}))})).catch((t=>{D.Z.error("[Watch Together] Error joining session for room:",e,t),r.dispatch(yB.o6({roomID:e,sessionError:(0,De.Z)("Could not join at this time.")}))}))}};class Dnt extends cnt{constructor(){super(),this.onDispatcherMessage=e=>{this.emit("message",e)},this.onHasEventConnectionChange=()=>{this.cloudServerModel.get("hasEventConnection")?this.emit("open"):this.emit("close")};const e=(0,M.DB)("appModel");this.cloudServerModel=e.get("cloudServer"),this.cloudServerModel.on({"change:hasEventConnection":this.onHasEventConnectionChange}),ee.Z.on({"cloudServer:notifyWatchTogetherExpire":this.onDispatcherMessage,"cloudServer:notifyWatchTogetherInvite":this.onDispatcherMessage}),this.cloudServerModel.get("hasEventConnection")&&this.onHasEventConnectionChange()}get isConnecting(){return!1}get isOpen(){return this.cloudServerModel.get("hasEventConnection")}open(){return Promise.reject(new Error("Cannot open directly"))}close(){throw new Error("Cannot close directly")}send(){throw new Error("Cannot send directly")}destroy(){super.destroy(),ee.Z.off({"cloudServer:notifyWatchTogetherExpire":this.onDispatcherMessage,"cloudServer:notifyWatchTogetherInvite":this.onDispatcherMessage}),this.cloudServerModel.off({"change:hasEventConnection":this.onHasEventConnectionChange})}}var Cnt=n(9669),Pnt=n.n(Cnt),wnt=Object.assign,Tnt=(e,t,n)=>new Promise(((i,s)=>{var r=e=>{try{o(n.next(e))}catch(e){s(e)}},a=e=>{try{o(n.throw(e))}catch(e){s(e)}},o=e=>e.done?i(e.value):Promise.resolve(e.value).then(r,a);o((n=n.apply(e,t)).next())}));function Znt(e){return e}function Nnt(...e){return e.filter((e=>!!(null==e?void 0:e.trim()))).map((e=>null==e?void 0:e.replace(/^\/+|\/+$/g,""))).join("/")}const Ant="json";class xnt{constructor(e){this.endpoint="https://together.plex.tv/rooms",this.accessToken=e.accessToken}create(e,t,n){return Tnt(this,null,(function*(){return(yield Pnt().post(this.endpoint,{sourceUri:e,title:t,users:n||null},{params:{"X-Plex-Token":this.accessToken},responseType:Ant})).data}))}createInvites(e,t){return Tnt(this,null,(function*(){return(yield Pnt().post(Nnt(this.endpoint,e,"invite"),{users:t},{params:{"X-Plex-Token":this.accessToken},responseType:Ant})).data}))}delete(e){return Tnt(this,null,(function*(){yield Pnt().delete(Nnt(this.endpoint,e),{params:{"X-Plex-Token":this.accessToken},responseType:Ant})}))}get(e){return Tnt(this,null,(function*(){const t=yield Pnt().get(Nnt(this.endpoint,e),{params:{"X-Plex-Token":this.accessToken},responseType:Ant});return e?t.data:function(e){return e.rooms.map(Znt)}(t.data)}))}patch(e,t){return Tnt(this,null,(function*(){return(yield Pnt().patch(Nnt(this.endpoint,e),{params:wnt(wnt({},t),{"X-Plex-Token":this.accessToken}),responseType:Ant})).data}))}}var Lnt=(e,t,n)=>new Promise(((i,s)=>{var r=e=>{try{o(n.next(e))}catch(e){s(e)}},a=e=>{try{o(n.throw(e))}catch(e){s(e)}},o=e=>e.done?i(e.value):Promise.resolve(e.value).then(r,a);o((n=n.apply(e,t)).next())}));class Ont extends Jtt{constructor(e){super(),this.onPubSubMessage=e=>{const{command:t}=e;"notifyWatchTogetherInvite"!==t&&"notifyWatchTogetherExpire"!==t||this.rooms()},this.onPubSubClose=e=>{this.emit("close",e)};const{accessToken:t,pubsub:n}=e;this.pubsub=n,this.pubsub.addListener("close",this.onPubSubClose),this.pubsub.addListener("message",this.onPubSubMessage),this.service=new xnt({accessToken:t})}get isOpen(){return this.pubsub.isOpen}open(){return this.pubsub.open()}destroy(){super.destroy(),this.pubsub.destroy()}rooms(){return Lnt(this,null,(function*(){const e=yield this.service.get();return this.emit("rooms",e),e}))}createRoom(e,t,n){return Lnt(this,null,(function*(){const i=yield this.service.create(e,t,n);return yield this.rooms(),i.id}))}deleteRoom(e){return Lnt(this,null,(function*(){var t;try{yield this.service.delete(e)}catch(e){if(404!==(null==(t=null==e?void 0:e.response)?void 0:t.status))throw e}yield this.rooms()}))}inviteUsers(e,t){return Lnt(this,null,(function*(){yield this.service.createInvites(e,t),yield this.rooms()}))}}var jnt=n(63178);let knt;const Rnt=class{constructor({appModel:e,appStore:t}){this.appModel=e,this.appStore=t}start(){const{appModel:e,appStore:t}=this;qtt(e,((n,i)=>{if(knt&&(knt.destroy(),knt=null,(0,D.Z)("[Watch Together] stopped rooms client")),i){const i=n.id;(0,jnt.Z)(n.get("features").populate({timeout:5e3})).then((()=>{if(e.get("user").id!==i)return Promise.reject(new Error("User has changed"));if(!(0,iK.Z)(e,be.Bs))return Promise.reject(new Error("User missing feature access"));const s=n.get("authToken");knt=new Ont({accessToken:s,pubsub:new Dnt}),knt.addListener("rooms",(e=>{t.dispatch(sU.Yl({rooms:e}))})),t.dispatch(sU.Uw())})).catch((e=>{D.Z.warn("[Watch Together] cannot start",e)}))}}))}getRoomsClient(){return knt}};var znt=n(21256);const Unt={[Jet.pX]:"fullScreenVideo",[Jet.xF]:"fullScreenMusic",[Jet.pV]:"fullScreenPhoto"},Vnt="stopped";var Bnt=n(75358);function Fnt(e,t){const n=e.get("connections").filter((e=>e.get("isConnected")&&!e.get("isLoopback"))),i=n.length?n.reduce(Bnt.y):null;if(i)return{machineIdentifier:e.get("originalMachineIdentifier")||e.get("machineIdentifier"),protocol:i.get("scheme"),address:i.getAddressFromUri(),port:i.get("port")}}var Hnt=Object.assign;function _nt(e,t,n){const{getPlayerModels:i,getVolume:s}=n;let r,a=!1,o=!1;function l(t={}){if(r)return void(o=!0);if(o=!1,i(e).some((e=>e.get("isPlayQueueLoading"))))return;const n=c(Jet.pX),s=c(Jet.xF),a=c(Jet.pV),l={MediaContainer:{_location:n._location||a._location||s._location||"navigation",Timeline:[n,s,a]}};t.requestDisconnect&&(l.MediaContainer._disconnected=1),(0,D.Z)(l),(0,M.DB)("companionProxy").publish(l),r=window.setTimeout(d,1e3)}function c(t){const n={_type:t,_state:Vnt,_volume:s(e),_autoPlay:(0,M.DB)("settingFinder").find("autoPlay")?1:0,_subtitleColor:(0,M.DB)("settingFinder").find("subtitleColor"),_subtitlePosition:(0,M.DB)("settingFinder").find("subtitlePosition"),_subtitleSize:(0,M.DB)("settingFinder").find("subtitleSize"),_controllable:(0,M.DB)("companionPlayerProfile")[t]},r=function(t){const n=Jet.d2(t);return i(e).find((e=>{const t=e.get("playQueue");if(t&&t.get("type")===n)return e}))}(t);if(!r)return n;const a=r.get("serverEntityID"),o=r.get("providerEntityID"),l=(0,JM.SW)(e,{serverEntityID:a}),c=(0,JM.js)(e,{providerEntityID:o}),d=Fnt(l);c&&pa.wB(c.get("identifier"),pa.vP)&&(n._controllable=(0,M.DB)("companionPlayerProfile").videoCloudLiveTV);const u=r.get("decisions"),p=r.get("playQueue"),m=p.get("playQueueItems"),h=p.get("playQueueSelectedItemID"),g=m.get(h),y=g.get("metadataItem"),v=(0,znt.Z)({metadataItemModel:y}),f=Jet.ED(v),I=1e3*r.get("positionSeconds"),b=1e3*r.get("durationSeconds");let S=ott.Hn;return r.get("repeatOne")?S=ott.ry:r.get("repeatAll")&&(S=ott.QN),d?(n._machineIdentifier=d.machineIdentifier,n._protocol=d.protocol,n._address=d.address,n._port=d.port):n._machineIdentifier=l.get("originalMachineIdentifier")||l.get("machineIdentifier"),n._providerIdentifier=c.get("identifier"),n._itemType=f,n._key=y.get("key"),n._ratingKey=y.get("ratingKey"),n._containerKey=E().result(p,"url"),p.get("isLocal")||(n._playQueueID=p.get("playQueueID"),n._playQueueItemID=h,n._playQueueVersion=p.get("playQueueVersion")),n._state=(0,Vet.Z)(r),n._time=I,n._duration=b,n._seekRange=`0-${b}`,n._shuffle=p.get("playQueueShuffled")?1:0,n._repeat=S,r.get("openState")===YP.K&&(n._location=function(e){return Unt[e]}(t)),Hnt(Hnt({},n),function(e,t){const n=e.get("metadataItem"),i=t[e.entityID()];if(!i)return{};const s={_mediaIndex:i.mediaIndex,_partIndex:i.partIndex,_partCount:i.partCount},r=n.get("Media")[i.mediaIndex],a=r&&r.Part,o=a&&a[i.partIndex];return(o?o.Stream:[]).reduce(((e,{id:t,streamType:n,selected:i})=>t?(n===XP.Z.get("video").id?e._videoStreamID=t:i&&(n===XP.Z.get("audio").id?e._audioStreamID=t:n===XP.Z.get("subtitles").id&&(e._subtitleStreamID=t)),e):e),s)}(g,u))}function d(){r=null,o&&l()}function u(){l()}return{start:function(){a||(a=!0,((0,M.s4)("remoteCastPlayerManager")||(0,M.s4)("remotePlexPlayerManager"))&&t.dispatch(Nw()),i(e).forEach((e=>{e.on("change",u)})))},stop:function(t){a=!1,r&&(window.clearTimeout(r),r=null),i(e).forEach((e=>{e.off("change",u)})),t&&l({requestDisconnect:t})}}}var Qnt=n(7330),Gnt=n(88551),Ynt=n(25474);function Wnt(e,t){const n=Fnt(e);return n?(n.transcoderVideo=e.get("transcoderVideo")||!1,n.transcoderVideoRemuxOnly=e.get("transcoderVideoRemuxOnly")||!1,n.transcoderAudio=e.get("transcoderAudio")||!1,n.version=e.get("shortVersion"),n.myPlexSubscription=e.get("myPlexSubscription"),n.isVerifiedHostname="https"===n.protocol&&!_.At(n.address),function(e,t={}){const n=e.get("accessToken");return!e.supports("transientToken")||e.get("isCloud")||/^transient-/.test(n)?g().Deferred().resolve(n).promise():g().ajax(e.getXHROptions("/security/token",{data:{type:t.type||"delegation",scope:t.scope||"all"}})).promise().then((e=>(0,Ynt.Z)(e).token||g().Deferred().reject().promise()))}(e).then((e=>(n.accessToken=e,n)))):g().Deferred().reject().promise()}var Knt=Object.assign;const qnt="remoteCastPlayerManager";function $nt(e,t){const n=t.dispatch;let i,s,r,a,o,l=0,c=0,d=!1,u={},p={};function m(e,t={},n={}){if(!i)return g().Deferred().reject().promise();const s=C.Z.join([i.baseURL,e],Knt(Knt({},t),{commandID:l})),r=i.server.getXHROptions(s,Knt(Knt({},n),{scope:qnt,headers:{"X-Plex-Target-Client-Identifier":i.get("machineIdentifier")}}));return g().ajax(r)}function h(e={}){i&&m("/player/timeline/poll",e,{timeout:2e4}).done(((t,s,r)=>{c=0;const a=(0,Ynt.Z)(t);if((0,me.Z)(a.disconnected)&&e.wait)return void n(Nw());const o=i.get("machineIdentifier"),u=r.getResponseHeader("X-Plex-Client-Identifier"),p=(0,DPe.Z)(a.commandID),m=o===u||i.baseURL;if(!d&&m&&p>=l){const e=(0,Qnt.Z)(a.Timeline),t=E().findWhere(e,{type:"video"}),n=E().findWhere(e,{type:"music"}),i=E().findWhere(e,{type:"photo"});!t||n&&n.state&&n.state!==Vnt?n&&y(n):y(t),i&&y(i),l=p}h({wait:1})})).fail(((t,i)=>{t&&t.aborting||("error"===i?(c++,e.wait&&c<=3?(D.Z.warn("[Companion] Poll request failed; retrying..."),h({wait:1})):(D.Z.warn("[Companion] Poll request failed 3 times in a row; giving up"),n(Nw()))):h({wait:1}))}))}function y(e){const{type:t,state:i,providerIdentifier:s,machineIdentifier:r,containerKey:a,key:o}=e,l=e.playQueueItemID||e.playQueueItemId,c=Jet.d2(t),d=(0,me.Z)(e.continuing);if(i===Vnt&&!d)return u[t]=null,p[t]=null,void n(Zw({playQueueType:c}));const m=(0,DPe.Z)(e.playQueueVersion),h=(0,DPe.Z)(e.time),g=(0,DPe.Z)(e.duration),y=(0,DPe.Z)(e.mediaIndex),v=(0,DPe.Z)(e.partIndex),f=e.audioStreamID?(0,DPe.Z)(e.audioStreamID):null,I=e.subtitleStreamID?(0,DPe.Z)(e.subtitleStreamID):null,b=(0,DPe.Z)(e.volume),M=(0,DPe.Z)(e.repeat),S=(e.controllable||"").split(","),E={positionSeconds:Math.floor(h/1e3),durationSeconds:Math.floor(g/1e3),mediaIndex:y,partIndex:v,isPaused:"paused"===i,isBuffering:"buffering"===i,hasError:"error"===i,controllable:S.reduce(((e,t)=>(e[t]=!0,e)),{})},D=u[t],C=p[t],P=l!==D||m!==C;u[t]=l,p[t]=m,n(Iw({playQueueType:c,options:{providerIdentifier:s,machineIdentifier:r,containerKey:a,key:o,playQueueItemID:l,shouldRefreshPlayQueue:P,initialState:E}})),n(bw({playQueueType:c,playerState:E,providerIdentifier:s,machineIdentifier:r})),function(e){const t={};null!=e.autoPlay&&(t.autoPlay="1"===e.autoPlay),null!=e.subtitleColor&&(t.subtitleColor=e.subtitleColor),null!=e.subtitlePosition&&(t.subtitlePosition=e.subtitlePosition),null!=e.subtitleSize&&(t.subtitleSize=(0,DPe.Z)(e.subtitleSize,10)),n(Dw(t))}(e),n(Mw({playQueueType:c,playQueueVersion:m,repeatAll:M===ott.QN||M===ott.ry,repeatOne:M===ott.ry})),n(Ew({playQueueType:c,key:o,mediaIndex:y,partIndex:v,audioStreamID:f,subtitleStreamID:I})),null!=e.volume&&n(Cw(b))}function v(){s=null,null!=r&&(b(r),r=null)}function f(){a=null,null!=o&&(M(o),o=null)}function I(e,t){return i?(l++,m(e,t)):(D.Z.warn(`[Companion] Command for ${e} ignored; no current player`),g().Deferred().reject().promise())}function b(e){s?(window.clearTimeout(s),r=e):I("/player/playback/seekTo",e),s=window.setTimeout(v,200)}function M(e){a?(window.clearTimeout(a),o=e):I("/player/playback/setParameters",e),a=window.setTimeout(f,200)}return{requestSession:function(t){i=(0,WS.cX)(e,{playerIdentifier:t}),i?(n(fw(t)),l=0,c=0,h()):D.Z.warn(`[Companion] Request session ignored; no player with identifier "${t}"`)},endSession:function(){i?(s&&(window.clearTimeout(s),s=null),a&&(window.clearTimeout(a),a=null),x.Z.abortAll(qnt),m("/player/timeline/unsubscribe"),i=null,r=null,o=null,u={},p={}):D.Z.warn("[Companion] End session ignored; no current player")},startPlayback:function(e){if(!i)return void D.Z.warn("[Companion] Start playback ignored; no current player");const t=e.get("playQueue"),s=t.get("type"),r=t.get("playQueueItems").get(t.get("playQueueSelectedItemID")).get("metadataItem"),a=t.server,o=t.provider;if("speaker"===i.get("deviceClass")&&t.get("type")!==$s.j0)return void n(Pw({playQueueType:s,errorMessage:(0,De.Z)("The connected player only supports audio playback.")}));const l=1e3*e.get("positionSeconds")||Math.floor((0,Gnt.Z)(e,r));d=!0,Wnt(a).done((e=>{const i=e.machineIdentifier,a=o.get("identifier"),c={type:Jet.ED(t.get("type")),providerIdentifier:a,containerKey:C.Z.join([E().result(t,"url")],{own:1}),key:r.get("key"),offset:l,machineIdentifier:i,protocol:e.protocol,address:e.address,port:e.port,token:e.accessToken};(0,D.Z)("[Companion] Sending play media request"),I("/player/playback/playMedia",c).done((()=>{d=!1,(0,D.Z)("[Companion] Play media success"),n(bw({playQueueType:s,playerState:{isMediaLoading:!1},providerIdentifier:a,machineIdentifier:i}))})).fail((e=>{d=!1,D.Z.warn(`[Companion] Failed to play media with error "${e.status}"`),n(Pw({playQueueType:s}))}))})).fail((()=>{d=!1,n(Pw({playQueueType:s,errorMessage:(0,De.Z)('The server "{serverName}" does not have a valid connection for casting. Check that the server is claimed in server settings.',{serverName:a.get("friendlyName")})}))}))},mirrorDetails:function(e){if(!i)return void D.Z.warn("[Companion] Mirror details ignored; no current player");const t=i.get("protocolCapabilities");if(!t||-1===t.indexOf("mirror"))return void D.Z.warn("[Companion] Mirror details ignored; player does not advertise support for the `mirror` capability");const n=e.server,s=e.provider;Wnt(n).done((t=>{m("/player/mirror/details",{key:e.get("key"),providerIdentifier:s.get("identifier"),machineIdentifier:t.machineIdentifier,protocol:t.protocol,address:t.address,port:t.port,token:t.accessToken})}))},sendCommand:I,seek:b,changeVolume:M}}const Jnt=Zne.ZP.Model.extend({initialize:function(e,t){this.set("time",new Date)}}),Xnt=new(Zne.ZP.Model.extend({initialize:function(e,t){this.set("host",window.location.host),this.set("userAgent",window.navigator.userAgent),this.set("browser",Nwe.Z)},toJSON:function(){const e=this.parent,t=e.get("primaryServer"),n=e.get("user");return this.set("version","4.54.5"),t&&(t.get("activeConnection")&&this.set("primaryServerUrl",t.url()),this.set("primaryServerAuthToken",!!t.get("accessToken")),this.set("primaryServerVersion",t.get("versionFull"))),this.set("username",n.get("username")),this.set("cloudUrl",n.server.get("connections")),Zne.ZP.Model.prototype.toJSON.apply(this,arguments)}})),eit=/("?(auth_token|accessToken|X-Plex-Token|authToken|token)"?[:=].*?)("?[-\w]+"?)/g,tit=/("?(email)"?[:=]([\s]+)?)("(.*)")/g,nit=/("?(address|host|uri)"?[:=].*?)(".*")/g;function iit(e){if(e)return e.replace(eit,'$1"TOKEN"').replace(tit,'$1"EMAIL"').replace(nit,'$1"IP ADDRESS"')}var sit=/(password=)([^&]+)/;function rit(e){return e.replace(eit,"$1TOKEN").replace(sit,"$1PASSWORD")}const ait=Zne.ZP.Collection.extend({model:Jnt,initialize:function(e,t){E().bindAll(this,"onAjaxComplete","onAppModelRegistered"),this.parent=t.parent,Xnt.parent=t.parent,(0,M.X_)("appModel").done(this.onAppModelRegistered)},reconfigure(){(0,M.DB)("appModel").get("deviceSettings").get("debugLevel")?this.start():this.stop()},start:function(){this.enabled||(this.enabled=!0,this.reset(),this.listenTo(ee.Z,"log:message",this.onLogMessage),Zne.ZP.history.on("route",this.onRoute,this),g()(document).on("ajaxComplete",this.onAjaxComplete))},stop:function(){this.enabled&&(this.enabled=!1,this.reset(),this.stopListening(ee.Z),Zne.ZP.history.off("route",this.onRoute,this),g()(document).off("ajaxComplete",this.onAjaxComplete))},destroy:function(){this.stop(),this.stopListening()},add:function(){this.length>1e3&&this.shift(),Zne.ZP.Collection.prototype.add.apply(this,arguments)},toJSON:function(){var e=Zne.ZP.Collection.prototype.toJSON.apply(this,arguments);return e.unshift(E().extend({type:"info"},Xnt.toJSON())),e},toJSONString:function(){return JSON.stringify(this.toJSON(),null,2)},onAppModelRegistered:function(e){const t=e.get("deviceSettings");this.listenTo(t,"change:debugLevel",this.reconfigure),this.reconfigure()},onLogMessage:function(e){this.add(e)},onRoute:function(e,t,n){var i={type:"navigation",route:t,args:n,fragment:window.location.hash};this.add(i)},onAjaxComplete:function(e,t,n){const i=(0,M.DB)("appModel").get("deviceSettings").get("debugLevel"),s={type:"ajax",url:rit(n.url),status:t.status};var r;E().isEmpty(n.headers)||(s.headers=((r=n.headers)&&r.hasOwnProperty("X-Plex-Token")&&(r["X-Plex-Token"]="TOKEN"),r&&r.hasOwnProperty("Authorization")&&(r.Authorization="BASIC AUTHORIZATION"),r)),E().isEmpty(n.data)||(s.params=rit(n.data)),200===t.status?2===i?s.response=iit(t.responseText):s.responseLength=t.responseText?t.responseText.length:0:(s.statusText=t.statusText,s.response=iit(t.responseText)),this.add(s)}}),oit=(0,de.P1)(ye.Z,(e=>e.remoteQuality)),lit=(0,de.P1)(fe.Z,(e=>e.restorePlayQueue)),cit=(0,de.P1)(ye.Z,(e=>({color:e.subtitleColor,position:e.subtitlePosition,size:e.subtitleSize}))),dit=0,uit=5,pit=9,mit=E().reduce(SA.l,((e,t)=>(e[t]="Metadata",e)),{}),hit=function e(t){if(!t||!t._children)return t;const n=E().clone(t),i=n._children;return Array.isArray(i)&&(i.forEach((t=>{const i=t._elementType;if(t._elementType=null,t.elementName=i,i){const s=mit[i]||i,r=n[s],a=e(t);r?Array.isArray(r)?r.push(a):n[s]=[r,a]:n[s]=a}})),n._children=null),n};var git=Object.prototype.hasOwnProperty,yit=Object.getOwnPropertySymbols,vit=Object.prototype.propertyIsEnumerable,fit=Object.assign;const Iit=wD.Z.extend({context:["server"],url:"/updater/status",sessionAttrs:{isChecking:bD.Z.boolean.isRequired},syncedAttrs:{status:bD.Z.integer,canInstall:bD.Z.boolean,downloadURL:bD.Z.string,state:bD.Z.string,progress:bD.Z.integer,version:bD.Z.string,error:bD.Z.string,added:bD.Z.string,fixed:bD.Z.string},defaults:{state:Xme,status:0,progress:0,version:null,error:"",added:null,fixed:null,isChecking:!1},augmentResponse(e){const{Release:t}=e,n=((e,t)=>{var n={};for(var i in e)git.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&yit)for(var i of yit(e))t.indexOf(i)<0&&vit.call(e,i)&&(n[i]=e[i]);return n})(e,["Release"]);return t&&(e=fit(fit({},n),t)),"0"!==e.status&&(e.state=$me),e}});var bit=Object.assign;const Mit={started:cS.TV,updated:cS.UU,ended:cS.uq},Sit={started:ka.actions.activityStarted,updated:ka.actions.activityUpdated,ended:ka.actions.activityFinished},Eit=[the,nhe,ihe,she,rhe,ohe,lhe,che,dhe,uhe,phe,mhe,hhe,ghe,yhe,vhe,fhe,Ihe,bhe,Mhe],Dit=5e3;function Cit(e){const t=M.DB("appStore");t.dispatch(qa.NO({serverEntityID:e,playerType:Se.Se})),pa.wB(window.location.hash,pa.Ll)&&t.dispatch((0,dS.jR)({serverEntityID:e}))}const Pit=She.extend({initialize(e){She.prototype.initialize.apply(this,arguments),this.throttledRepopulates={}},repopulateNow(e,t){this.throttledRepopulates[e]={timestamp:Date.now()},t()},repopulateWithThrottle(e,t,n){const i=this.throttledRepopulates[e];if(i)if(i.hasTimeout);else{const s=Date.now()-i.timestamp;s<n?(window.setTimeout((()=>{this.repopulateNow(e,t)}),n-s),this.throttledRepopulates[e]={hasTimeout:!0}):this.repopulateNow(e,t)}else this.repopulateNow(e,t)},getMessageTypes:()=>Eit,[lhe](e){e.key=e.id,e.server=this.server,this.server.trigger("socket:setting",e),(0,M.DB("appStore").dispatch)((0,FS.m7)({serverEntityID:this.server.entityID(),setting:e}))},[yhe](e){if(pa.wB(e.identifier,pa.Ll))return;const{state:t,mediaProviderID:n,sectionID:i,rootItemID:s,parentItemID:r,itemID:a,metadataState:o,mediaState:l,type:c}=e,d=M.DB("appStore").dispatch,u=this.server.entityID(),p=Ho.getMetadataType(c),m=null==p?void 0:p.typeString,h=`${function(e){switch(e){case Ho.PLAYLIST:return"/playlists";case Ho.COLLECTION:return"/library/collections";default:return"/library/metadata"}}(m)}/${a}`,g=r?`/library/metadata/${r}`:null,y=s?`/library/metadata/${s}`:null,v=(0,kt.Z)(Vt.TY,h,u),f=(0,jt.Z)({serverIdentifier:this.server.get("machineIdentifier"),providerIdentifier:pa.Y3,key:h}),I=g?(0,jt.Z)({serverIdentifier:this.server.get("machineIdentifier"),providerIdentifier:pa.Y3,key:g}):null,b=y?(0,jt.Z)({serverIdentifier:this.server.get("machineIdentifier"),providerIdentifier:pa.Y3,key:y}):null;d(El.actions.timelineStatesChanged({sourceURI:f,metadataState:o,mediaState:l})),d((0,Ka.updateMetadataItemRefreshingState)({serverEntityID:u,metadataItemEntityID:v,metadataState:o,mediaState:l})),t===uit&&(d(ar.Z.actions.metadataProcessed({sourceURI:f})),d((0,Io.dk)({serverEntityID:u,metadataItemEntityID:v})),m===Ho.ALBUM&&d(CK({serverEntityID:u,albumMetadataItemEntityID:v}))),t===pit&&(d(ar.Z.actions.deleted({mediaProviderID:n,sourceURI:f,parentSourceURI:I,rootSourceURI:b})),d((0,Io.W6)({serverEntityID:u,metadataItemEntityID:v}))),t!==dit&&t!==pit||(i>0&&this.repopulateWithThrottle("section-"+i,(()=>{d((0,dS.jR)({serverEntityID:u,containerKeyPattern:new RegExp("^"+(0,R.Z)(`/library/sections/${i}`)+"\\b")}))}),Dit),s>0&&this.repopulateWithThrottle("metadata-"+s,(()=>{const e=`/library/metadata/${s}`,t=(0,kt.Z)(Vt.TY,e,u);d((0,dS.jR)({serverEntityID:u,metadataItemEntityID:t,rootMetadataKey:e}))}),Dit),r>0&&this.repopulateWithThrottle("metadata-"+r,(()=>{const e=`/library/metadata/${r}`,t=(0,kt.Z)(Vt.TY,e,u);d((0,dS.jR)({serverEntityID:u,metadataItemEntityID:t,parentMetadataKey:e}))}),Dit),m===Ho.PLAYLIST&&d((0,dS.jR)({serverEntityID:u,containerKeyPattern:new RegExp("^/playlists")}))),e.server=this.server,this.server.trigger("socket:timeline",e),ee.Z.trigger("timeline",e)},[hhe](e){if(this.server.trigger("socket:status",e),"LIBRARY_UPDATE"===e.notificationName){const e=M.DB("appStore").dispatch,t=this.server.entityID();t&&(e(ja.actions.libraryScanUpdated({server:Htt(this.server)})),e((0,cS.Vk)({serverEntityID:t})),e((0,cS.tU)({serverEntityID:t})),e((0,dS.jR)({serverEntityID:t})))}},[che](e){this.server.trigger("socket:status",e)},[ohe](e){if(!e.sessionKey||!this.server.get("isFullOwnedServer"))return;const t=M.DB("appStore").dispatch;e.state===rse.Z.states.STOPPED?(t(_m.actions.sessionStopped({server:Htt(this.server),sessionKey:e.sessionKey})),t((0,dS.jR)({serverEntityID:this.server.entityID()}))):t(_m.actions.sessionChanged({server:Htt(this.server),message:e}))},[ghe](e){const t=new tae({key:e.key},{server:this.server,syncItemId:e.syncItemId,onlyIfCached:!0});E().isEmpty(t)||t.get("Media").forEach((n=>{n.Part.forEach((n=>{n.transcodeState=e.syncFileState,n.transcodeStateContext=e.syncFileStateContext,n.syncState=e.syncState,n.syncStateContext=e.syncStateContext;const i=Une.Z.getSyncStateFromPart(n);Une.Z.waitingRegex.test(i)&&(n.key="placeholder"),t.trigger("change:Media",t,t.get("Media"))}))}))},[ihe](e){const t={server:this.server,onlyIfCached:!0},n=new zne.Z({id:e.generatorID},t);E().isEmpty(n)||n.fetch()},[Mhe](e){const t={server:this.server,onlyIfCached:!0},n=new zne.Z({id:e.generatorID},t);if(!E().isEmpty(n)){const t=n.get("children").getCollection().get(e.metadataItemID);t&&t.set({processingState:e.state,processingStateContext:e.stateContext})}},[she](e){const t=new yne([],{server:this.server,allowInCache:!0,onlyIfCached:!0});if(!E().isEmpty(t)){const e=t.first();e&&e.fetch()}},[fhe](e){const t=M.DB("appStore").dispatch;this.server.get("isShared")||("static"===e.context?this.server.get("desktop").get("backgroundTranscodeJobs").fetch():t(_m.actions.fetchRequested({server:Htt(this.server)})))},[Ihe](e){if(!this.server.get("isShared")&&"static"===e.context){const t=this.server.get("desktop").get("backgroundTranscodeJobs"),n=t.get(e.key);n?n.set(n.parse(e)):t.fetch()}},[vhe](e){this.server.get("isShared")||this["transcodeSession.start"].apply(this,arguments)},[bhe](e){const t=this.server.get("desktop").get("update"),n=E().pick(e,Object.keys(Iit.prototype.syncedAttrs));E().defaults(n,E().result(t,"defaults")),t.get("state")===qme&&n.state===Yme&&(n.state=qme),t.set(bit(bit({},n),{isChecking:!1}))},[mhe](e){this.server.get("desktop").get("cloudAccount").fetch()},[the](e){this.server.set("myPlexSubscription",e.hasPlexPass),M.DB("appModel").get("user").get("isSignedIn")&&ee.Z.trigger("discover:servers")},[nhe](e){const t=hit(e),n=M.DB("appStore"),i=this.server.entityID(),s=t.Activity||t;if(s.Context=s.Context||{},s.Response=s.Response||{},i){const e=Mit[t.event],r=Sit[t.event];e&&n.dispatch(e({serverEntityID:i,activity:s})),r&&n.dispatch(r({server:Htt(this.server),activity:s}))}},[rhe](e){const t=M.DB("appStore"),n=this.server.entityID();n&&"appeared"===e.event&&t.dispatch((0,FS.Hz)({serverEntityID:n,device:e.Device}))},[uhe](){Cit(this.server.entityID())},[phe](){Cit(this.server.entityID())},[dhe](){M.DB("appStore").dispatch((0,cS.lm)({serverEntityID:this.server.entityID()}))}}),wit=wD.Z.extend({name:"BaseAppModel",isStateTreeRoot:!0,constructor:function(){this._pendingEntities=[],this.listenTo(ee.Z,"change:entity",this.onEntityChange),wD.Z.prototype.constructor.apply(this,arguments)},initialize(){this._pendingEntities.forEach(this._addEntity.bind(this))},_addEntity({type:e,id:t,model:n}){this.get("entities").get(e).add({id:t,model:n},{merge:!0})},onEntityChange(e){this.has("entities")?this._addEntity(e):this._pendingEntities.push(e)}});var Tit=n(87350),Zit=n(12186);function Nit(e){return e.length?E().map(e,(e=>e.get("debugName"))).join(", "):"(none)"}const Ait=_S.Z.extend({mixins:[Zit.Z],name:"ServerCollection",model:GB.ZP,initialize(){this._resetPopulate()},comparator(e){const t=e.get("isShared"),n=e.get("friendlyName")||"",i=e.get("sourceTitle")||"",s=t?i+n:n;return e.get("isCloud")?"9":(t?"1":"0")+s.toLowerCase()},shouldWaitForInitialServers(){const e=this.filter((e=>(!e.id||!!e.get("resources"))&&e.isPopulating()));return!!e.length&&((0,D.Z)("[Servers] Waiting for initial servers =",Nit(e)),!0)},shouldWaitForResources(){const e=this.reduce(((e,t)=>{const n=t.get("isResolved"),i=t.get("resources"),s=i&&i.isPopulating();return n&&s&&e.push(t),e}),[]);return!!e.length&&((0,D.Z)("[Servers] Waiting for additional resources from",Nit(e)),!0)},shouldWaitForPendingServers(){if(this.findWhere({isConnected:!0}))return!1;const e=this.filter((e=>e.isPopulating()));return!!e.length&&((0,D.Z)("[Servers] Waiting for pending servers =",Nit(e)),!0)},waitForServers(){this._resetPopulate()},foundAllServers(){const e=this.where({isConnected:!0}),t=Nit(e);(0,D.Z)("[Servers] Found all servers =",t),e.length?this._resolvePopulate():this._rejectPopulate()},populateAnyServer(e=this.models){const t=g().Deferred(),n=e.slice(0),i=E().find(n,(e=>e.get("isCloud")?e.get("isResolved"):e.get("isConnected")));if(i)return(0,D.Z)("[Servers] Populate any server chose %s where servers = %s",i.get("debugName"),Nit(n)),t.resolve(i).promise();if(this.hasOnlyRejectedServers(n))return t.reject().promise();function s(e,i){E().contains(n,e)&&i&&t.resolve(e)}function r(e,i){E().contains(n,e)&&i&&this.hasOnlyRejectedServers(n)&&t.reject()}return this.on({remove:function(e){const i=n.indexOf(e);i>-1&&(n.splice(i,1),this.hasOnlyRejectedServers(n)&&t.reject())},"change:isResolved":s,"change:isRejected":r},this),t.always((()=>{this.off("change:isResolved",s,this),this.off("change:isRejected",r,this)})),t.promise()},populateServer(e){return this.findServer(e,!0).then((e=>e.get("isConnected")&&!e.get("isCloud")?g().Deferred().resolve(e):e.populate()))},findServer(e,t){const n=E().isString(e),i=n?{machineIdentifier:e}:e,s=g().Deferred();if(n){const e=this.get(i.machineIdentifier);if(e&&e.get("isResolved"))return window.setTimeout(s.resolve.bind(s,e),0),s.promise()}const r=E().has(i,"machineIdentifier"),a="add "+E().map(E().keys(i),(e=>"change:"+e)).join(" ");let o;function l(){const e=this.filterServers(i,t);e?(o=e,e.done((t=>{o===e&&s.resolve(t)})),e.fail((()=>{o===e&&(r||!this.isPopulating()?s.reject():this.populate().always(l.bind(this)))}))):this.isPopulating()||s.reject()}return l.call(this),this.on(a,l,this),this.populate().always((()=>{o||s.reject()})),s.always((()=>{this.off(a,l,this)})),s.promise()},filterServers(e,t){const n=this.where(e);if(n.length)return t?this.populateAnyServer(n):g().Deferred().resolve(n[0]).promise()},hasOnlyRejectedServers(e=this.models){return E().every(e,(e=>e.get("isRejected")))},hasLoopbackServer(e=this.models){return!!E().find(e,(e=>{const t=e.get("activeConnection");return!!t&&t.get("isLoopback")}))}});var xit=Object.assign;const Lit=wD.Z.extend({name:"EntityModel",sessionAttrs:{id:bD.Z.string.isRequired},sessionRelations:{model:{relationClass:wD.Z,deferred:!0}},toState(){const e=this.get("model"),t=xit({entityID:this.id},e.state);return Object.defineProperty(t,"possibleEntityContainers",{value:e.state.possibleEntityContainers,enumerable:!1}),t},shouldUpdateRelationState:function(){return!0}}),Oit=_S.Z.extend({name:"EntityCollection",model:Lit,toState(){const e=this.reduce(this.reduceState,{possibleEntityContainers:[]});return Object.defineProperty(e,"possibleEntityContainers",{enumerable:!1}),e},reduceState:(e,t)=>(e.possibleEntityContainers.push(t.id),e[t.id]=t.getState(),e)}),jit=wD.Z.extend({name:"SubtitlesModalModel",sessionAttrs:{serverEntityID:bD.Z.string,metadataItemEntityID:bD.Z.string,isSubtitlesPending:bD.Z.boolean,isSubtitlesPopulated:bD.Z.boolean,subtitlesError:bD.Z.string,subtitlesDownloadActivityID:bD.Z.string,subtitlesDownloadKey:bD.Z.string,subtitlesDownloadStartTime:bD.Z.integer,isSubtitlesDownloaded:bD.Z.boolean,subtitlesDownloadError:bD.Z.string},sessionRelations:{subtitles:{relationClass:Q0,deferred:!0}},defaults:{serverEntityID:null,metadataItemEntityID:null,isSubtitlesPending:!1,isSubtitlesPopulated:!1,subtitlesError:null,subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null,isSubtitlesDownloaded:!1,subtitlesDownloadError:null}}),kit=wD.Z.extend({name:"ProviderIntegrationModel",context:["server","provider"],rootPropertyName:"Integration",syncedAttrs:{id:bD.Z.string.isRequired,status:bD.Z.string.isRequired}}),Rit=_S.Z.extend({name:"ProviderIntegrationCollection",context:["server","provider"],url:"/integrations",responseType:bA.AV,model:kit}),zit=wD.Z.extend({name:"ProviderIntegrationsModel",sessionAttrs:{isIntegrationsOnboarding:bD.Z.boolean.isRequired,isIntegrationsPending:bD.Z.boolean.isRequired,isIntegrationsPopulated:bD.Z.boolean.isRequired,integrationsError:bD.Z.object},sessionRelations:{integrations:{relationClass:Rit,deferred:!0}},defaults:{isIntegrationsOnboarding:!1,isIntegrationsPending:!0,isIntegrationsPopulated:!1}}),Uit=wD.Z.extend({name:"AdvertisingNoticeModalModel",sessionAttrs:{isSaving:bD.Z.boolean,isSaved:bD.Z.boolean},defaults:{isSaving:!1,isSaved:!1}});var Vit=n(47921);const Bit=_S.Z.extend({name:"AutoHubsCollection",modelId:e=>(0,hD.Z)(e.machineIdentifier,e.providerIdentifier),model:Vit.Z}),Fit=wD.Z.extend({name:"AutoHomePageModel",sessionAttrs:{isHubsPopulated:bD.Z.boolean.isRequired},sessionRelations:{hubs:{relationClass:Bit}},defaults:{isHubsPopulated:!1}}),Hit=wD.Z.extend({name:"ChannelGridPageModel",sessionAttrs:{serverEntityID:bD.Z.string,providerEntityID:bD.Z.string,containerKey:bD.Z.string,directoryKey:bD.Z.string,startTime:bD.Z.integer,visibleColumns:bD.Z.integer,columnTimes:bD.Z.array,columnWidth:bD.Z.float,viewportWidth:bD.Z.integer,viewportHeight:bD.Z.integer,airedProgress:bD.Z.float,isChannelsListPending:bD.Z.boolean,isChannelsListPopulated:bD.Z.boolean,channelsListError:bD.Z.object},sessionRelations:{metadataList:{relationClass:CD,deferred:!0},channelsList:{relationClass:ZD,deferred:!0}},defaults:()=>({startTime:0,visibleColumns:1,columnTimes:[],columnWidth:0,viewportWidth:0,viewportHeight:0,airedProgress:0,isChannelsListPending:!0,isChannelsListPopulated:!1,channelsListError:null})}),_it=wD.Z.extend({name:"HomeHubStatusModel",idAttribute:"homeHubID",sessionAttrs:{error:bD.Z.object,homeHubID:bD.Z.string.isRequired,isPending:bD.Z.boolean.isRequired,isPopulated:bD.Z.boolean.isRequired,provider:bD.Z.string,server:bD.Z.string},sessionRelations:{hub:{relationClass:JAe.Z,deferred:!0}},defaults:()=>({error:null,isPending:!0,isPopulated:!1})}),Qit=_S.Z.extend({name:"HomeHubStatusCollection",model:_it}),Git=wD.Z.extend({name:"HomePageModel",sessionAttrs:{isContentPending:bD.Z.boolean.isRequired,isContentPopulated:bD.Z.boolean.isRequired,contentError:bD.Z.object,isPreferredServerContentPending:bD.Z.boolean.isRequired,isPreferredServerContentPopulated:bD.Z.boolean.isRequired,preferredServerContentError:bD.Z.object,isProviderPromotedContentPending:bD.Z.boolean.isRequired,isProviderPromotedContentPopulated:bD.Z.boolean.isRequired,providerPromotedContentError:bD.Z.object},sessionRelations:{homeHubStatuses:{relationClass:Qit}},defaults:()=>({isContentPending:!0,isContentPopulated:!1,contentError:null,isPreferredServerContentPending:!0,isPreferredServerContentPopulated:!1,preferredServerContentError:null,isProviderPromotedContentPending:!0,isProviderPromotedContentPopulated:!1,providerPromotedContentError:null})});var Yit=n(66390);const Wit=wD.Z.extend({name:"MediaSubscriptionModalModel",sessionAttrs:{isMediaSubscriptionPending:bD.Z.boolean,isMediaSubscriptionPopulated:bD.Z.boolean,mediaSubscriptionError:bD.Z.string,isMediaSubscriptionSaving:bD.Z.boolean,mediaSubscriptionSaveError:bD.Z.string,isMediaSubscriptionMoving:bD.Z.boolean,mediaSubscriptionMoveError:bD.Z.string,isMediaSubscriptionDeleting:bD.Z.boolean,mediaSubscriptionDeleteError:bD.Z.string},sessionRelations:{templates:{relationClass:Yit.Z,deferred:!0},mediaSubscription:{relationClass:wA.Z,deferred:!0}},defaults:{isMediaSubscriptionPending:!0,isMediaSubscriptionPopulated:!1,mediaSubscriptionError:null,isMediaSubscriptionSaving:!1,mediaSubscriptionSaveError:null,isMediaSubscriptionMoving:!1,mediaSubscriptionMoveError:null,isMediaSubscriptionDeleting:!1,mediaSubscriptionDeleteError:null}}),Kit=(0,Uoe.Z)(),qit=wD.Z.extend({name:"PlayerModel",sessionAttrs:{serverEntityID:bD.Z.string,providerEntityID:bD.Z.string,playbackSessionID:bD.Z.string,syncplaySessionRoomID:bD.Z.string,isOpen:bD.Z.boolean,previousOpenState:bD.Z.oneOf(YP.K,YP.y),openState:bD.Z.oneOf(YP.K,YP.y),isPlayQueueVisible:bD.Z.boolean,isAlsoAiringVisible:bD.Z.boolean,isLyricsVisible:bD.Z.boolean,isPostPlayVisible:bD.Z.boolean,isSettingsVisible:bD.Z.boolean,isChaptersVisible:bD.Z.boolean,isSubtitlesOffsetSettingsVisible:bD.Z.boolean,isWatchTogetherLobbyVisible:bD.Z.boolean,isWatchTogetherParticipantsVisible:bD.Z.boolean,confirmPlayerUpsellPayload:bD.Z.object,confirmPlaybackPayload:bD.Z.object,confirmOffsetPayload:bD.Z.object,confirmNewsSunsetPayload:bD.Z.object,confirmRemoteToLocal:bD.Z.boolean,confirmLocalToRemote:bD.Z.oneOf(1,3,2).isRequired,decisions:bD.Z.object.isRequired,currentDecision:bD.Z.object,startMetadataItemEntityID:bD.Z.string,startOffsetMilliseconds:bD.Z.integer,startMediaIndex:bD.Z.integer,positionSeconds:bD.Z.integer,nextPositionSeconds:bD.Z.integer,lastSeekPositionSeconds:bD.Z.integer,durationSeconds:bD.Z.integer,seekStartSeconds:bD.Z.integer,seekEndSeconds:bD.Z.integer,bandwidthTimeline:bD.Z.object,lastInteractedAt:bD.Z.integer,itemPlaybackTime:bD.Z.integer,sessionPlaybackTime:bD.Z.integer,playbackSpeed:bD.Z.float,isPlayQueueLoading:bD.Z.boolean.isRequired,isLiveTVTuning:bD.Z.boolean.isRequired,isMediaLoading:bD.Z.boolean.isRequired,isPostPlayLoading:bD.Z.boolean.isRequired,isPaused:bD.Z.boolean.isRequired,isBuffering:bD.Z.boolean.isRequired,repeatAll:bD.Z.boolean.isRequired,repeatOne:bD.Z.boolean.isRequired,mediaIndex:bD.Z.integer,partIndex:bD.Z.integer,qualityIndex:bD.Z.integer,availableQualities:bD.Z.array.isRequired,controllable:bD.Z.object,metricsPage:bD.Z.string,metricsContextTuple:bD.Z.array,metricsSetting:bD.Z.string,metricsAutoPlay:bD.Z.boolean,metricsPlayer:bD.Z.oneOf(...tQe.QN),hasError:bD.Z.boolean.isRequired,errorMessage:bD.Z.string,errorCode:bD.Z.string,errorCategory:bD.Z.string,playbackStartTime:bD.Z.integer,hasConflicts:bD.Z.boolean.isRequired,isConflictCancelling:bD.Z.boolean,cancelConflictError:bD.Z.object,confirmLiveTVPlayback:bD.Z.boolean.isRequired,adState:bD.Z.string,adPositionSeconds:bD.Z.integer,adDurationSeconds:bD.Z.integer,adDisplayIndex:bD.Z.integer,adDisplayTotal:bD.Z.integer,adTimeOffsetSeconds:bD.Z.oneOfType(bD.Z.integer,bD.Z.float),advertisingNoticePayload:bD.Z.object,bufferedRanges:bD.Z.array,canPlayThrough:bD.Z.boolean,mediaWidth:bD.Z.integer,mediaHeight:bD.Z.integer},derivedAttrs:{isWatchTogether(){return!!this.get("syncplaySessionRoomID")}},sessionRelations:{playQueue:{relationClass:wD.Z,deferred:!0},relatedHubs:{relationClass:tK.Z,deferred:!0},liveTVSession:{relationClass:OP.Z,deferred:!0}},defaults:()=>({playbackSessionID:Kit,playbackSpeed:1,isOpen:!1,isPlayQueueVisible:!1,isAlsoAiringVisible:!1,isLyricsVisible:!1,isPostPlayVisible:!1,isSettingsVisible:!1,isChaptersVisible:!1,isSubtitlesOffsetSettingsVisible:!1,isWatchTogetherLobbyVisible:!1,isWatchTogetherParticipantsVisible:!1,confirmPlaybackPayload:null,confirmOffsetPayload:null,confirmNewsSunsetPayload:null,confirmRemoteToLocal:!1,confirmLocalToRemote:1,decisions:{},startMetadataItemEntityID:null,startOffsetMilliseconds:null,startMediaIndex:null,positionSeconds:0,nextPositionSeconds:null,lastSeekPositionSeconds:null,durationSeconds:0,seekStartSeconds:0,seekEndSeconds:0,itemPlaybackTime:0,sessionPlaybackTime:0,isPlayQueueLoading:!1,isLiveTVTuning:!1,isMediaLoading:!1,isPostPlayLoading:!1,isPaused:!1,isBuffering:!1,repeatAll:!1,repeatOne:!1,availableQualities:[],metricsAutoPlay:!1,hasError:!1,errorMessage:null,errorCode:null,errorCategory:null,playbackStartTime:null,hasConflicts:!1,isConflictCancelling:!1,cancelConflictError:null,confirmLiveTVPlayback:!1,adState:null,adPositionSeconds:null,adDurationSeconds:null,adDisplayIndex:null,adDisplayTotal:null,adTimeOffsetSeconds:null,advertisingNoticePayload:null,bufferedRanges:[],canPlayThrough:!1,mediaWidth:null,mediaHeight:null})}),$it=wD.Z.extend({name:"ProviderSettingsPageModel",context:["server","provider"],sessionAttrs:{isUpdatePending:bD.Z.boolean,updateError:bD.Z.object},defaults:{isUpdatePending:!1,updateError:null}}),Jit=wD.Z.extend({name:"RecordingSchedulePageModel",sessionAttrs:{isPagePopulated:bD.Z.boolean,isMediaSubscriptionsPending:bD.Z.boolean,isMediaSubscriptionsPopulated:bD.Z.boolean,mediaSubscriptionsError:bD.Z.object,isCalendarPending:bD.Z.boolean,isCalendarPopulated:bD.Z.boolean,calendarError:bD.Z.object,mediaSubscriptionMoveError:bD.Z.string},sessionRelations:{mediaSubscriptions:{relationClass:TA,deferred:!0},calendar:{relationClass:EA,deferred:!0}},defaults:{isPagePopulated:!1,isMediaSubscriptionsPending:!1,isMediaSubscriptionsPopulated:!1,mediaSubscriptionsError:null,isCalendarPending:!1,isCalendarPopulated:!1,calendarError:null,mediaSubscriptionMoveError:null}}),Xit=_S.Z.extend({name:"SearchCollection",context:["server","provider"],model:EBe.Z}),est=wD.Z.extend({name:"SearchPageModel",sessionRelations:{searches:{relationClass:Xit}}});var tst=n(66357),nst=n(64297);const ist=wD.Z.extend({name:"WatchTogetherRoomUserModel",syncedAttrs:{id:bD.Z.integer.isRequired,subscription:bD.Z.boolean.isRequired,thumb:bD.Z.string.isRequired,title:bD.Z.string.isRequired,uuid:bD.Z.string.isRequired}}),sst=_S.Z.extend({name:"WatchTogetherRoomUserCollection",model:ist}),rst=wD.Z.extend({name:"WatchTogetherRoomModel",entityType:Vt.r8,entityID(e=this.state){return(0,kt.Z)(this.entityType,e.id)},mergeStrategy:nst.Z,sessionAttrs:{isMetadataItemPending:bD.Z.boolean,isMetadataItemPopulated:bD.Z.boolean,metadataItemError:bD.Z.string},syncedAttrs:{id:bD.Z.string.isRequired,title:bD.Z.string.isRequired,sourceUri:bD.Z.string.isRequired,startsAt:bD.Z.integer.isRequired,endsAt:bD.Z.integer.isRequired,updatedAt:bD.Z.integer.isRequired,syncplayHost:bD.Z.string.isRequired,syncplayPort:bD.Z.integer.isRequired},syncedRelations:{metadataItem:{relationClass:KM.Z,deferred:!0},users:{relationClass:sst}},defaults:{isMetadataItemPending:!0,isMetadataItemPopulated:!1,metadataItemError:null}}),ast=_S.Z.extend({name:"WatchTogetherRoomCollection",model:rst}),ost=wD.Z.extend({name:"WatchTogetherModel",sessionAttrs:{isRoomsPending:bD.Z.boolean,isRoomsPopulated:bD.Z.boolean,roomsError:bD.Z.string,isInvitePending:bD.Z.boolean,isInviteCompleted:bD.Z.boolean,inviteError:bD.Z.string,sessionError:bD.Z.string},sessionRelations:{session:{relationClass:tst.Z,deferred:!0},rooms:{relationClass:ast}},defaults:()=>({isRoomsPending:!0,isRoomsPopulated:!1,roomsError:void 0,isInvitePending:!1,isInviteCompleted:!1,inviteError:void 0,sessionError:void 0})}),lst=wD.Z.extend({name:"MultiSelectItemModel",sessionAttrs:{id:bD.Z.any.isRequired,type:bD.Z.string.isRequired},sessionRelations:{model:{relationClass:wD.Z,deferred:!0}}}),cst=_S.Z.extend({name:"MultiSelectItemCollection",model:lst}),dst=wD.Z.extend({name:"MultiSelectModel",sessionAttrs:{activeSelectionRange:bD.Z.object},sessionRelations:{activeSelectionItems:{relationClass:cst}},derivedAttrs:{activeSelectionType(){const e=this.get("activeSelectionItems").first();if(e)return e.get("type")}},initialize(){this.listenTo(this.get("activeSelectionItems"),{remove:this.resetSelectionRange,reset:this.resetSelectionRange})},listenToCollection(e){this.stopListening(e),this.listenTo(e,{reset:this.onCollectionReset,remove:this.onCollectionRemove})},resetSelectionRange(){this.set("activeSelectionRange",null)},onCollectionReset(e,t){const n=this.get("activeSelectionItems"),i=t.previousModels;E().each(i,(t=>{e.contains(t)||n.remove(t.id)}))},onCollectionRemove(e){this.get("activeSelectionItems").remove(e.id)}}),ust=wD.Z.extend({name:"AddToPlaylistMenuModel",sessionAttrs:{uri:bD.Z.string},sessionRelations:{recentPlaylists:{relationClass:MD.Z,deferred:!0}}});var pst=n(72149);const mst=wD.Z.extend({name:"AddToPlaylistModalModel",sessionAttrs:{providerEntityID:bD.Z.string,containerKey:bD.Z.string,type:bD.Z.string,title:bD.Z.string,uri:bD.Z.string,smart:bD.Z.boolean,readOnly:bD.Z.boolean,isUpdating:bD.Z.boolean,error:bD.Z.object},sessionRelations:{server:{relationClass:GB.ZP,deferred:!0},provider:{relationClass:fU.Z,deferred:!0},metadataItem:{relationClass:KM.Z,deferred:!0},metadataList:{relationClass:MD.Z,deferred:!0},multiSelect:{relationClass:dst,deferred:!0},playQueue:{relationClass:pst.Z,deferred:!0},playlists:{relationClass:MD.Z,deferred:!0}},defaults:{title:"",smart:!1,readOnly:!1,isUpdating:!1}}),hst=wD.Z.extend({name:"SubtitlesUploadModalModel",sessionAttrs:{isUploading:bD.Z.boolean,isUploaded:bD.Z.boolean,error:bD.Z.string},defaults:{isUploading:!1,isUploaded:!1,error:null}}),gst=wD.Z.extend({name:"ServerLogPageModel",sessionAttrs:{logLines:bD.Z.array.isRequired,unfilteredLogLinesCount:bD.Z.integer.isRequired,filter:bD.Z.string.isRequired,logLevels:bD.Z.array.isRequired,highlightedLineIndex:bD.Z.integer,timeFilterStart:bD.Z.string.isRequired,timeFilterEnd:bD.Z.string.isRequired,isTimeFilterStartValid:bD.Z.boolean.isRequired,isTimeFilterEndValid:bD.Z.boolean.isRequired,showTimeFilter:bD.Z.boolean.isRequired,showRawText:bD.Z.boolean.isRequired},defaults:()=>({logLines:[],unfilteredLogLinesCount:0,filter:"",logLevels:[],timeFilterStart:"",timeFilterEnd:"",isTimeFilterStartValid:!0,isTimeFilterEndValid:!0,showRawText:!1,showTimeFilter:!1})}),yst=wD.Z.extend({name:"AccountSettingsPageModel",sessionAttrs:{isUpdatingUserProfile:bD.Z.boolean.isRequired,updateUserProfileError:bD.Z.string},defaults:{isUpdatingUserProfile:!1,updateUserProfileError:null}}),vst=wD.Z.extend({name:"AddToCatalogModalModel",sessionAttrs:{isUpdating:bD.Z.boolean.isRequired,error:bD.Z.object},defaults:{isUpdating:!1,error:null}}),fst=wD.Z.extend({name:"AuthCodeExchangeModel",sessionAttrs:{code:bD.Z.string,pinID:bD.Z.integer,pinIDInitial:bD.Z.integer,pinTimeout:bD.Z.integer,authToken:bD.Z.string,isBusy:bD.Z.boolean.isRequired,errorMessage:bD.Z.string,fatalErrorMessage:bD.Z.string},defaults:{code:null,pinID:null,pinIDInitial:null,pinTimeout:null,authToken:null,isBusy:!1,errorMessage:null,fatalErrorMessage:null}}),Ist=wD.Z.extend({name:"BackgroundModel",sessionAttrs:{imageUrl:bD.Z.string,themeMusicUrl:bD.Z.string,allowLightPreset:bD.Z.boolean,allowBlur:bD.Z.boolean,isBackgroundPending:bD.Z.boolean},sessionRelations:{server:{relationClass:GB.ZP,deferred:!0},provider:{relationClass:fU.Z,deferred:!0}},defaults:{allowLightPreset:!1,allowBlur:!0,isBackgroundPending:!1}}),bst=wD.Z.extend({name:"DVRSettingsUIModel",sessionAttrs:{isDvrsPending:bD.Z.boolean,isDvrsPopulated:bD.Z.boolean,dvrsError:bD.Z.object,isUIPopulated:bD.Z.boolean},sessionRelations:{dvrs:{relationClass:GS,deferred:!0},dvrSetup:{relationClass:YS.Z,deferred:!0}},defaults:{isDvrsPending:!1,isDvrsPopulated:!1,dvrsError:null,isUIPopulated:!1}}),Mst=wD.Z.extend({name:"DiscoverPageModel",sessionAttrs:{providerEntityID:bD.Z.string,hubKey:bD.Z.string,isHubsPending:bD.Z.boolean.isRequired,isHubsPopulated:bD.Z.boolean.isRequired,hubsError:bD.Z.object,hubsTitle:bD.Z.string,isPromotedHubsPending:bD.Z.boolean.isRequired,isPromotedHubsPopulated:bD.Z.boolean.isRequired,promotedHubsError:bD.Z.object,knownPromotedHubCloudProviderIDs:bD.Z.array.isRequired},sessionRelations:{hubs:{relationClass:tK.Z,deferred:!0},promotedHubs:{relationClass:tK.Z,deferred:!0}},defaults:()=>({isHubsPending:!0,isHubsPopulated:!1,hubsError:null,hubsTitle:null,isPromotedHubsPending:!0,isPromotedHubsPopulated:!1,promotedHubsError:null,knownPromotedHubCloudProviderIDs:[]})}),Sst=wD.Z.extend({name:"LibraryPageModel",sessionAttrs:{providerEntityID:bD.Z.string,libraryKey:bD.Z.string,directoryKey:bD.Z.string,containerKey:bD.Z.string,isDetailsPending:bD.Z.boolean.isRequired,isDetailsPopulated:bD.Z.boolean.isRequired,detailsError:bD.Z.object,isFirstCharactersPending:bD.Z.boolean.isRequired,isFirstCharactersPopulated:bD.Z.boolean.isRequired,firstCharactersError:bD.Z.object,selectedFilterKey:bD.Z.string,filterOptionQuery:bD.Z.string,isSelectedFilterOptionsPending:bD.Z.boolean.isRequired,isSelectedFilterOptionsPopulated:bD.Z.boolean.isRequired,selectedFilterOptionsError:bD.Z.object,isQueryParsePending:bD.Z.boolean.isRequired,isQueryParsePopulated:bD.Z.boolean.isRequired,queryParseError:bD.Z.object,isUpdatePlaylistPending:bD.Z.boolean.isRequired,updatePlaylistError:bD.Z.object,typeKey:bD.Z.string},sessionRelations:{metadataList:{relationClass:MD.Z,deferred:!0},details:{relationClass:jxe.Z,deferred:!0},firstCharacters:{relationClass:Oxe.Z,deferred:!0},selectedFilterOptions:{relationClass:Lxe.Z,deferred:!0},queryParse:{relationClass:Bxe,deferred:!0}},defaults:{isDetailsPending:!0,isDetailsPopulated:!1,detailsError:null,isFirstCharactersPending:!0,isFirstCharactersPopulated:!1,firstCharactersError:null,selectedFilterKey:null,filterOptionQuery:"",isSelectedFilterOptionsPending:!0,isSelectedFilterOptionsPopulated:!1,selectedFilterOptionsError:null,isQueryParsePending:!0,isQueryParsePopulated:!1,queryParseError:null,isUpdatePlaylistPending:!1,updatePlaylistError:null}}),Est=wD.Z.extend({name:"MetadataListPageModel",sessionAttrs:{providerEntityID:bD.Z.string,listKey:bD.Z.string},sessionRelations:{metadataList:{relationClass:MD.Z,deferred:!0}}}),Dst=wD.Z.extend({name:"OnlineMediaSourcesPageModel",sessionAttrs:{optOutStatuses:bD.Z.object,isOptOutStatusesPending:bD.Z.boolean,optOutStatusesError:bD.Z.object,isAvailableProvidersPending:bD.Z.boolean,isAvailableProvidersPopulated:bD.Z.boolean,availableProvidersError:bD.Z.object,isUpdatePending:bD.Z.boolean,updateError:bD.Z.object},sessionRelations:{availableProviders:{relationClass:XVe,deferred:!0}},defaults:{isOptOutStatusesPending:!0,optOutStatusesError:null,isAvailableProvidersPending:!0,isAvailableProvidersPopulated:!1,availableProvidersError:null,isUpdatePending:!1,updateError:null}});var Cst=n(81318);const Pst=wD.Z.extend({name:"PlaylistPageModel",sessionAttrs:{serverEntityID:bD.Z.string,providerEntityID:bD.Z.string,metadataKey:bD.Z.string,isPlaylistPending:bD.Z.boolean.isRequired,isPlaylistPopulated:bD.Z.boolean.isRequired,playlistError:bD.Z.object,isPlaylistItemListPending:bD.Z.boolean.isRequired,isPlaylistItemListPopulated:bD.Z.boolean.isRequired,playlistItemListError:bD.Z.object},sessionRelations:{playlist:{relationClass:KM.Z,deferred:!0},playlistItemList:{relationClass:Cst.Z,deferred:!0}},defaults:{isPlaylistPending:!0,isPlaylistPopulated:!1,playlistError:null,isPlaylistItemListPending:!0,isPlaylistItemListPopulated:!1,playlistItemListError:null}});var wst=n(32919);const Tst=wD.Z.extend({name:"PlaylistsPageModel",sessionAttrs:{serverEntityID:bD.Z.string,libraryKey:bD.Z.string,containerKey:bD.Z.string,isLibraryDetailsPending:bD.Z.boolean.isRequired,isLibraryDetailsPopulated:bD.Z.boolean.isRequired,libraryDetailsError:bD.Z.object,isSortsPending:bD.Z.boolean.isRequired,isSortsPopulated:bD.Z.boolean.isRequired,sortsError:bD.Z.object},sessionRelations:{libraryDetails:{relationClass:jxe.Z,deferred:!0},playlists:{relationClass:MD.Z,deferred:!0},sorts:{relationClass:wst.Z,deferred:!0}},defaults:{isLibraryDetailsPending:!0,isLibraryDetailsPopulated:!1,libraryDetailsError:null,isSortsPending:!0,isSortsPopulated:!1,sortsError:null}}),Zst=wD.Z.extend({name:"PrePlayPageModel",sessionAttrs:{providerEntityID:bD.Z.string,metadataKey:bD.Z.string,descendantKey:bD.Z.string,siblingKey:bD.Z.string,isMetadataItemPending:bD.Z.boolean.isRequired,isMetadataItemPopulated:bD.Z.boolean.isRequired,metadataItemError:bD.Z.object,isRelatedHubsPending:bD.Z.boolean.isRequired,isRelatedHubsPopulated:bD.Z.boolean.isRequired,relatedHubsError:bD.Z.object,isAugmentedHubsPending:bD.Z.boolean.isRequired,isAugmentedHubsPopulated:bD.Z.boolean.isRequired,augmentedHubsError:bD.Z.object,isFileUnavailable:bD.Z.boolean,decisionMediaItem:bD.Z.object},sessionRelations:{metadataItem:{relationClass:KM.Z,deferred:!0},descendantList:{relationClass:MD.Z,deferred:!0},siblingList:{relationClass:MD.Z,deferred:!0},relatedHubs:{relationClass:tK.Z,deferred:!0},augmentedHubs:{relationClass:tK.Z,deferred:!0}},defaults:{isMetadataItemPending:!0,isMetadataItemPopulated:!1,metadataItemError:null,isRelatedHubsPending:!0,isRelatedHubsPopulated:!1,relatedHubsError:null,isAugmentedHubsPending:!0,isAugmentedHubsPopulated:!1,augmentedHubsError:null,isFileUnavailable:!1}}),Nst=wD.Z.extend({name:"QuickSearchModel",sessionAttrs:{query:bD.Z.string,serverEntityID:bD.Z.string,providerEntityID:bD.Z.string,providerIdentifier:bD.Z.string,directoryID:bD.Z.string,selectedResultEntityID:bD.Z.string},sessionRelations:{searches:{relationClass:Xit}},defaults:{query:"",selectedResultEntityID:null}});var Ast=n(24781);const xst=wD.Z.extend({name:"MomentModel",context:["server","provider"],idAttribute:"id",rootPropertyName:"Directory",syncedAttrs:{id:bD.Z.string,title:bD.Z.string,size:bD.Z.integer,avgAR:bD.Z.float,startsAt:bD.Z.integer,endsAt:bD.Z.integer}}),Lst=_S.Z.extend({name:"MomentCollection",context:["server","provider"],model:xst}),Ost=wD.Z.extend({name:"MomentListModel",context:["server","provider"],url(){return this.get("momentKey")},sessionAttrs:{momentKey:bD.Z.string},syncedAttrs:{key:bD.Z.string},syncedRelations:{moments:{relationClass:Lst,rootPropertyName:"Directory"}}}),jst=wD.Z.extend({name:"TimelinePageModel",sessionAttrs:{serverEntityID:bD.Z.string,providerEntityID:bD.Z.string,momentKey:bD.Z.string,isDetailsPending:bD.Z.boolean.isRequired,isDetailsPopulated:bD.Z.boolean.isRequired,detailsError:bD.Z.object,isMomentListPending:bD.Z.boolean.isRequired,isMomentListPopulated:bD.Z.boolean.isRequired,momentListError:bD.Z.object},sessionRelations:{metadataList:{relationClass:MD.Z,deferred:!0},details:{relationClass:jxe.Z,deferred:!0},momentList:{relationClass:Ost,deferred:!0}},defaults:{isDetailsPending:!0,isDetailsPopulated:!1,detailsError:null,isMomentListPending:!0,isMomentListPopulated:!1,momentListError:null}});var kst=n(47985);const Rst=wD.Z.extend({name:"UserSharingSettingsPageModel",sessionAttrs:{filterOptionsTags:bD.Z.object,isFilterOptionsTagsPopulating:bD.Z.boolean,isFilterOptionsTagsPopulated:bD.Z.boolean,isUpdatingFriend:bD.Z.boolean,updateFriendError:bD.Z.string,ownedSharedSources:bD.Z.array,receivedSharedSources:bD.Z.array,isSharedSourcesPopulating:bD.Z.boolean,isSharedSourcesPopulated:bD.Z.boolean,sharedSourcesError:bD.Z.string,deleteSharedItemID:bD.Z.integer,isServerOverviewsPopulating:bD.Z.boolean,isServerOverviewsPopulated:bD.Z.boolean,isServerSharesPopulating:bD.Z.boolean,isServerSharesPopulated:bD.Z.boolean,serverSharesError:bD.Z.string,isSharingPending:bD.Z.boolean,isSharingCompleted:bD.Z.boolean,sharingError:bD.Z.string,isRemoveServerSharePending:bD.Z.boolean,isRemoveServerShareCompleted:bD.Z.boolean,removeServerShareError:bD.Z.string},sessionRelations:{serverOverviews:{relationClass:kst.Z,deferred:!0}},defaults:()=>({filterOptionsTags:{},isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!1,isUpdatingFriend:!1,updateFriendError:null,ownedSharedSources:[],receivedSharedSources:[],isSharedSourcesPopulating:!1,isSharedSourcesPopulated:!1,sharedSourcesError:null,deleteSharedItemID:null,isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!1,isServerSharesPopulating:!1,isServerSharesPopulated:!1,serverSharesError:null,isSharingPending:!1,isSharingCompleted:!1,sharingError:null,isRemoveServerSharePending:!1,isRemoveServerShareCompleted:!1,removeServerShareError:null})}),zst=wD.Z.extend({name:"DesktopUIModel",sessionRelations:{background:{relationClass:Ist},authCodeExchange:{relationClass:fst},discoverPage:{relationClass:Mst},metadataListPage:{relationClass:Est},libraryPage:{relationClass:Sst},prePlayPage:{relationClass:Zst},timelinePage:{relationClass:jst},playlistsPage:{relationClass:Tst},dvrSettingsUI:{relationClass:bst},recordingSchedulePage:{relationClass:Jit},channelGridPage:{relationClass:Hit},mediaSubscriptionModal:{relationClass:Wit},searchPage:{relationClass:est},quickSearch:{relationClass:Nst},photoPlayer:{relationClass:qit},audioVideoPlayer:{relationClass:qit},romPlayer:{relationClass:qit},onlineMediaSourcesPage:{relationClass:Dst},accountSettingsPage:{relationClass:yst},playlistPage:{relationClass:Pst},providerSettingsPage:{relationClass:$it},addToCatalogModal:{relationClass:vst},multiSelect:{relationClass:dst},serverLogPage:{relationClass:gst},subtitlesModal:{relationClass:jit},subtitlesUploadModal:{relationClass:hst},homePage:{relationClass:Git},autoHomePage:{relationClass:Fit},addToPlaylistMenu:{relationClass:ust},addToPlaylistModal:{relationClass:mst},shareModal:{relationClass:Ast.Z},userSharingSettingsPage:{relationClass:Rst},providerIntegrations:{relationClass:zit},advertisingNoticeModal:{relationClass:Uit},watchTogether:{relationClass:ost}}});var Ust=n(2418),Vst=n.n(Ust),Bst=n(56529),Fst=n(52039),Hst=n(86278),_st=n(22724);const Qst=_S.Z.extend({name:"FriendCollection2",context:["server"],model:_st.Z,url:"/api/users"}),Gst=wD.Z.extend({name:"HomeDetailsModel",context:["server"],url:"/api/v2/home",responseType:bA.AV,sessionAttrs:{isTogglingGuestUser:bD.Z.boolean},syncedAttrs:{id:bD.Z.integer,guestUserID:bD.Z.integer,guestEnabled:bD.Z.boolean,subscription:bD.Z.boolean,name:bD.Z.string},defaults:{isTogglingGuestUser:!1}});var Yst=n(92216),Wst=n(85667);const Kst=wD.Z.extend({name:"UserProfileModel",context:["server"],url:"/api/v2/user/profile",syncedAttrs:{autoSelectAudio:bD.Z.boolean,autoSelectSubtitle:bD.Z.integer,defaultAudioLanguage:bD.Z.string,defaultSubtitleLanguage:bD.Z.string,defaultSubtitleAccessibility:bD.Z.integer,defaultSubtitleForced:bD.Z.integer}});var qst=n(69790),$st=n(57578),Jst=n(19375);const Xst=_S.Z.extend({name:"UserSettingCollection",context:["server"],model:Jst.Z});var ert=n(77727),trt=Object.prototype.hasOwnProperty,nrt=Object.getOwnPropertySymbols,irt=Object.prototype.propertyIsEnumerable,srt=Object.assign;const rrt=wD.Z.extend({mixins:[Zit.Z],name:"UserModel",context:["server"],url(){return C.Z.join("/api/v2/user",Y6e(this))},sessionAttrs:{isRemote:bD.Z.boolean,isSignedIn:bD.Z.boolean.isRequired,hasAttemptedSignIn:bD.Z.boolean.isRequired,hasInvalidToken:bD.Z.boolean.isRequired,hasInvalidAnonymousUserToken:bD.Z.boolean.isRequired,lastPrimaryServerID:bD.Z.string,lockState:bD.Z.oneOf(Xe.Ik.Pending,Xe.Ik.Locked,Xe.Ik.Unlocked).isRequired,homeUsers:bD.Z.instanceOf(Yst.Z).isRequired,isFeaturesPending:bD.Z.boolean.isRequired,isFeaturesPopulated:bD.Z.boolean.isRequired,featuresError:bD.Z.object,isAllFriendsPending:bD.Z.boolean.isRequired,isAllFriendsPopulated:bD.Z.boolean.isRequired,allFriendsError:bD.Z.object,isProvidersPending:bD.Z.boolean.isRequired,isProvidersPopulated:bD.Z.boolean.isRequired,providersError:bD.Z.object},syncedAttrs:{id:bD.Z.integer,uuid:bD.Z.string,authToken:bD.Z.string,anonymous:bD.Z.boolean,username:bD.Z.string,email:bD.Z.string,emailOnlyAuth:bD.Z.boolean,title:bD.Z.string,subscriptionDescription:bD.Z.string,locale:bD.Z.string,country:bD.Z.string,thumb:bD.Z.string,pin:bD.Z.string,home:bD.Z.boolean,restricted:bD.Z.boolean,guest:bD.Z.boolean,homeSize:bD.Z.integer,maxHomeSize:bD.Z.integer,queueUid:bD.Z.string,queueEmail:bD.Z.string,hasAllEntitlements:bD.Z.boolean,mailingListActive:bD.Z.boolean,experimentalFeatures:bD.Z.boolean,hasPassword:bD.Z.boolean,twoFactorEnabled:bD.Z.boolean,mailingListStatus:bD.Z.oneOf(Xe.dK.Empty,Xe.dK.Unsubscribed,Xe.dK.Active,Xe.dK.Error,Xe.dK.Removed),adsConsent:bD.Z.boolean,adsConsentSetAt:bD.Z.integer,adsConsentReminderAt:bD.Z.integer},sessionRelations:{features:{relationClass:Hst.Z},allFriends:{relationClass:Qst},providers:{relationClass:Fst.Z},homeDetails:{relationClass:Gst}},syncedRelations:{subscriptions:{relationClass:ert.Z},pastSubscriptions:{relationClass:ert.Z},roles:{relationClass:qst.Z},entitlements:{relationClass:Wst.Z},settings:{relationClass:Xst},experienceSettings:()=>({relationClass:(0,M.DB)("UserExperienceSettingsModel")}),services:{relationClass:$st.Z},profile:{relationClass:Kst}},derivedAttrs:{isLocked(){return this.get("lockState")===Xe.Ik.Locked},isUnlocked(){return this.get("lockState")===Xe.Ik.Unlocked},isFullUser(){return!!this.get("username")||!!this.get("anonymous")},isEmployee(){return!!this.get("roles").get("employee")},isNinja(){return this.get("isEmployee")||!!this.get("roles").get("ninja")},hasPlexSubscription(){return this.get("subscriptions").some((e=>{const t=e.get("state");return t===Ixe.iN||t===Ixe.j5}))},hasPlexPass(){return this.get("subscriptions").some((e=>{const t=e.get("type"),n=e.get("state");return t===bxe.G5&&(n===Ixe.iN||n===Ixe.j5)}))},canGoPremium(){const e=this.get("homeSize")>1,t=!1===this.get("homeDetails").get("subscription");return this.get("signedIn")&&!this.get("anonymous")&&!this.get("restricted")&&!this.get("hasPlexSubscription")&&(!e||t)},signedIn(){return this.get("isSignedIn")},locked(){const e=this.get("lockState");return e===Xe.Ik.Locked||e!==Xe.Ik.Unlocked&&null}},defaults(){const e={server:this.server,parent:this};return{id:0,isRemote:!1,isSignedIn:!1,hasAttemptedSignIn:!1,hasInvalidToken:!1,hasInvalidAnonymousUserToken:!1,hasPassword:!0,lockState:Xe.Ik.Pending,homeUsers:new Yst.Z([],e),twoFactorEnabled:!1,isFeaturesPending:!0,isFeaturesPopulated:!1,featuresError:null,isAllFriendsPending:!0,isAllFriendsPopulated:!1,allFriendsError:null,isProvidersPending:!0,isProvidersPopulated:!1,providersError:null}},initialize(e,t){this._resetPopulate(),this.onHomeUsersChange(this,this.get("homeUsers")),this.on("change:homeUsers",this.onHomeUsersChange,this),this.listenTo(this.server,{"change:isConnected":this.onServerConnectedChange,"change:isUnavailable":this.onServerUnavailableChange})},uninitialize(){this.off("change:homeUsers",this.onHomeUsersChange,this),this.stopListening()},fetch(){return Zne.ZP.Model.prototype.fetch.apply(this,arguments)},augmentResponse(e={}){const{roles:t,entitlements:n,settings:i,providers:s,subscriptions:r,pastSubscriptions:a}=e,o=((e,t)=>{var n={};for(var i in e)trt.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&nrt)for(var i of nrt(e))t.indexOf(i)<0&&irt.call(e,i)&&(n[i]=e[i]);return n})(e,["roles","entitlements","settings","providers","subscriptions","pastSubscriptions"]);let l=i&&i.setting?i.setting:[];l=Array.isArray(l)?l:[l];const c=this.get("experienceSettings");let d=!1;const u=l.reduce(((e,t)=>(t.id===V9e.U?(d=!0,e.experienceSettings=srt(srt({},(0,E9e.Z)(t.value)),{updatedAt:t.updatedAt})):e.settings.push(t),e)),{settings:[],experienceSettings:{}});return!d&&c&&(u.experienceSettings=c.toJSON({syncedOnly:!0})),o.gdprConsent&&(o.adsConsent=o.gdprConsent),o.gdprSetAt&&(o.adsConsentSetAt=o.gdprSetAt),o.gdprReminderAt&&(o.adsConsentReminderAt=o.gdprReminderAt),srt(srt(srt({},o),u),{roles:t&&t.role,hasAllEntitlements:n&&n.all,entitlements:n&&n.entitlement,services:s&&s.provider,subscriptions:r&&r.subscription,pastSubscriptions:a&&a.pastSubscription})},_getTokenPromise(){var e,t;return null==(t=null==(e=(0,M.DB)("appModel").get("ui"))?void 0:e.get("authCodeExchange"))||t.get("pinIDInitial"),(J.Z.allowSSO?this._getSSOThenStorageTokenPromise():this._getStorageTokenPromise()).then(null,(()=>(this.get("hasInvalidAnonymousUserToken"),this._getSkipAnonymousTokenPromise())))},_getSSOThenStorageTokenPromise(){const e=this._getStorageTokenPromise(),t=this._getSSOTokenPromise(),n=()=>this.get("anonymous")?((0,D.Z)("[User] SSO status is not available, try stored anonymous token"),e):((0,D.Z)("[User] SSO status is signed-out"),e.then((()=>(0,F.Z)(this.signOutDueToInvalidToken()))));return t.then((t=>t?(t=>e.then((e=>t===e?((0,D.Z)("[User] SSO status is signed-in, storage token matches SSO token"),t):((0,D.Z)("[User] SSO status is signed-in, storage token and SSO token differ"),One.Z.execute("resetUser").then((()=>{window.location.reload()})))),(()=>((0,D.Z)("[User] SSO status is signed-in, storage token is not present"),(0,F.Z)(t)))))(t):n()),(()=>((0,D.Z)("[User] SSO status is not available"),e)))},_getStorageTokenPromise:()=>pMe.Z.get("myPlexAccessToken"),_getSSOTokenPromise(){return K6e(this.server.getXHROptions("/api/v2/users/signin",{method:"POST",xhrFields:{withCredentials:!0},data:{skipAuthentication:!0},dataType:"json"})).then((e=>e.authToken),(e=>e&&400===e.status?g().Deferred().resolve(null).promise():g().Deferred().reject().promise()))},_getSkipAnonymousTokenPromise:()=>((0,D.Z)("[User] Not attempting to create an anonymous token."),g().Deferred().reject().promise()),_getAnonymousTokenPromise(){const e=function(e,t){if(!t||!t.campaign)return e;const n=Object.keys(t.campaign).reduce(((e,n)=>(e[`utm_${n}`]=t.campaign[n],e)),{});return QPe(e,n)}("/api/v2/users/anonymous",(0,M.DB)("metrics").toJSON().context);return K6e(this.server.getXHROptions(e,{method:"POST",dataType:"json"})).then((({authToken:e})=>((0,D.Z)("[User] Anonymous token promise succeeded, accessToken="+e),e)))},_getManualUserPromise(e){return g().ajax(this.server.getXHROptions(E().result(this,"url"),{headers:{"X-Plex-Token":e}}))},signInUnsupervised(){if(this._isSigningIn)return;this._isSigningIn=!0;const e=this._getTokenPromise();e.done((e=>{(0,D.Z)("[User] Token promise succeeded, accessToken="+e);const t=e?this._getManualUserPromise(e):g().Deferred().reject().promise();t.done((t=>{(0,D.Z)("[User] userPromise succeeded");const n=this.get("homeDetails");n.fetch({headers:{"X-Plex-Token":e}}).always((()=>{const e=this.parse(t);let i=this.get("lockState");if(i!==Xe.Ik.Unlocked){const t=(0,M.DB)("settingFinder").find("autoLogin"),s=!!e.guest&&!n.get("guestEnabled");i=!e.home||t&&!s?Xe.Ik.Unlocked:Xe.Ik.Locked}this.signIn(e,{lockState:i}),this._isSigningIn=!1}))})),t.fail((e=>{if((0,D.Z)("[User] userPromise failed"),e&&e.aborting)return this.set({hasAttemptedSignIn:!0}),void(this._isSigningIn=!1);!e||401!==e.status&&422!==e.status?this.signOut({hasAttemptedSignIn:!0,hasInvalidToken:!1,features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")}):this.get("anonymous")?((0,D.Z)("[User] userPromise failed for anonymous user due to invalid token."),this.signOutAnonymousUser()):((0,D.Z)("[User] userPromise failed due to invalid token."),this.signOutDueToInvalidToken()),this.server.testAllConnections(),this._isSigningIn=!1}))})),e.fail((()=>{(0,D.Z)("[User] tokenPromise failed"),this.signOut({hasAttemptedSignIn:!0,hasInvalidAnonymousUserToken:this.get("hasInvalidAnonymousUserToken"),features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")}),this._isSigningIn=!1}))},signIn(e,t={},n={}){const i=E().isString(e)?this.parse(e):e,s=i.authToken,r=srt(srt({hasAttemptedSignIn:!0,isSignedIn:!0},i),t);return this._resolve(r,n),pMe.Z.set("myPlexAccessToken",s)},signOut(e={}){return this._reject(e),g().Deferred().resolve().promise()},signOutAnonymousUser(){return(0,QB.Z)(this.signOut({hasAttemptedSignIn:!0,hasInvalidAnonymousUserToken:!0}),this.clearAccessToken())},signOutDueToInvalidToken(){return(0,QB.Z)(this.signOut({hasAttemptedSignIn:!0,hasInvalidToken:!0}),this.clearAccessToken())},activateStoredUser(e){_6e.Z.set("activeUserID",e)},clearAccessToken(){window.PLEXWEB&&window.PLEXWEB.myPlexAccessToken&&delete window.PLEXWEB.myPlexAccessToken;let e=pMe.Z.remove("myPlexAccessToken");return e=e.then((()=>_6e.Z.clearActiveUser())),e},hashPIN(e,t=this.get("authToken")){return Vst().SHA256_hash(e+t)},hasEntitlement(e){const t=this.get("hasAllEntitlements"),n=this.get("entitlements");return!(!t&&!n.get(e))},hasHome(){return!!this.get("pin")||this.get("homeUsers").length>1},isFullUser(){return this.get("isFullUser")},isEmployee(){return this.get("isEmployee")},isNinja(){return this.get("isNinja")},_resolve(e,t={}){this.startCapturingChangeEvents(),this.activateStoredUser(e.id),this.set(e),this._resolvePopulate(),this.server.authenticate(e.authToken),t.silent?this.discardCapturedChangeEvents():this.releaseCapturedChangeEvents()},_reject(e,t={}){this.startCapturingChangeEvents(),this.restoreDefaults(e),this._rejectPopulate(),this.server.deauthenticate(),t.silent?this.discardCapturedChangeEvents():this.releaseCapturedChangeEvents()},onHomeUsersChange(e,t){const n=e.previous("homeUsers");n&&this.stopListening(n),this.listenTo(this.get("homeUsers"),"reset add remove",this.onHomeUsersUpdate)},onHomeUsersUpdate(){this.set("homeSize",this.get("homeUsers").length),this.get("homeDetails").fetch()},onServerConnectedChange(e,t){t&&this.signInUnsupervised()},onServerUnavailableChange(e,t){t&&this.signOut({lockState:this.get("lockState"),features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")})}});(0,Bst.Z)(rrt,(function(){return{relationClass:(0,M.DB)("UserFlexModel")}}));const art=rrt;var ort=n(28654);function lrt(e,t,n,...i){return(0,tPe.rM)((function*(){const s={};yield(0,tPe.ib)(e,(function*(e){const r=n(e);s[r]&&(yield(0,tPe.al)(s[r])),s[r]=yield(0,tPe.rM)(t,e,...i),yield(0,tPe.v_)(s[r]),s[r]&&!s[r].isRunning()&&delete s[r]}))}))}function crt(e,t,n,...i){return(0,tPe.rM)((function*(){const s={};yield(0,tPe.ib)(e,(function*(e){var r;const a=n(e);(null==(r=s[a])?void 0:r.isRunning())||(s[a]=yield(0,tPe.rM)(t,e,...i),yield(0,tPe.v_)(s[a]),s[a]&&!s[a].isRunning()&&delete s[a])}))}))}var drt=Object.assign;function*urt({payload:e}){try{const{server:t,provider:n,metadataKey:i,sourceURI:s}=e,r=yield(0,tPe.RE)(nPe.Z.get,C.Z.join([i,"userState"]),{server:t,provider:n}),a=drt(drt({},r.data.MediaContainer.UserState),{tempState:{}});yield(0,tPe.gz)(ar.Z.actions.fetchSucceeded({sourceURI:s,metadataItemState:a}))}catch(t){yield(0,tPe.gz)(ar.Z.actions.fetchFailed({sourceURI:e.sourceURI,error:t}))}finally{(yield(0,tPe.By)())&&(yield(0,tPe.gz)(ar.Z.actions.fetchCancelled({sourceURI:e.sourceURI})))}}function*prt({payload:e}){const{server:t,provider:n,sourceURI:i,ratingKey:s,played:r}=e;try{const e=Qo(n,At.rf.Scrobble);if(!e)throw new Error("No scrobble action found on provider");const a=r?e.key:e.reverseKey;if(!a)throw new Error("The scrobble action is missing a `key` or `reverseKey`");yield(0,tPe.RE)(nPe.Z.get,a,{server:t,provider:n,params:{identifier:n.identifier,key:s}}),yield(0,tPe.gz)(ar.Z.actions.playedStatusUpdateSucceeded({server:t,provider:n,sourceURI:i,ratingKey:s,played:r}))}catch(e){yield(0,tPe.gz)(ar.Z.actions.playedStatusUpdateFailed({sourceURI:i,error:nPe.Z.toPlainErrorObject(e)}))}}function*mrt({payload:e}){const{server:t,provider:n,sourceURI:i,ratingKey:s,rating:r}=e;try{const e=Qo(n,At.rf.Rate);if(!e)throw new Error("No rate action found on provider");if(!e.key)throw new Error("The rate action is missing a `key`");yield(0,tPe.RE)(nPe.Z.put,e.key,{server:t,provider:n,params:{identifier:n.identifier,key:s,rating:r}}),yield(0,tPe.gz)(ar.Z.actions.rateSucceeded({server:t,provider:n,sourceURI:i,ratingKey:s,rating:r}))}catch(e){yield(0,tPe.gz)(ar.Z.actions.rateFailed({sourceURI:i,error:nPe.Z.toPlainErrorObject(e)}))}}function*hrt({payload:e}){const{server:t,provider:n,sourceURI:i,ratingKey:s,added:r}=e;try{const e=Qo(n,At.rf.AddToWatchlist);if(!e)throw new Error("No watchlist action found on provider");const a=r?e.key:e.reverseKey;if(!a)throw new Error("The watchlist action is missing a `key` or `reverseKey`");yield(0,tPe.RE)(nPe.Z.put,a,{server:t,provider:n,params:{ratingKey:s}}),yield(0,tPe.gz)(ar.Z.actions.toggleWatchlistSucceeded({server:t,provider:n,sourceURI:i,ratingKey:s,added:r}))}catch(e){yield(0,tPe.gz)(ar.Z.actions.toggleWatchlistFailed({sourceURI:i,error:nPe.Z.toPlainErrorObject(e)}))}}function*grt({payload:e}){const{server:t,provider:n,sourceURI:i,ratingKey:s,saved:r}=e;try{const e=Qo(n,At.rf.Save);if(!e)throw new Error("No save action found on provider");const a=r?e.key:e.reverseKey;if(!a)throw new Error("The save action is missing a `key` or `reverseKey`");yield(0,tPe.RE)(nPe.Z.put,a,{server:t,provider:n,params:{ratingKey:s}}),yield(0,tPe.gz)(ar.Z.actions.toggleSavedSucceeded({server:t,provider:n,sourceURI:i,ratingKey:s,saved:r}))}catch(e){yield(0,tPe.gz)(ar.Z.actions.toggleSavedFailed({sourceURI:i,error:nPe.Z.toPlainErrorObject(e)}))}}function*yrt({payload:e}){const{server:t,provider:n,sourceURI:i,part:s,streamIDParam:r,streamID:a,allParts:o}=e;try{const e=s.key.match(new RegExp(`^(.*/parts/${s.id})/`)),l=C.Z.join(e?e[1]:["/library/parts",s.id]);yield(0,tPe.RE)(nPe.Z.put,l,{server:t,provider:n,params:{[r]:a,allParts:o?1:0}}),yield(0,tPe.gz)(ar.Z.actions.streamSelectSucceeded({sourceURI:i}))}catch(e){yield(0,tPe.gz)(ar.Z.actions.streamSelectFailed({sourceURI:i,error:nPe.Z.toPlainErrorObject(e)}))}}function*vrt({payload:e}){const{server:t,provider:n,sourceURI:i,streamKey:s}=e;try{yield(0,tPe.RE)(nPe.Z.del,s,{server:t,provider:n}),yield(0,tPe.gz)(ar.Z.actions.streamDeleteSucceeded({sourceURI:i}))}catch(e){yield(0,tPe.gz)(ar.Z.actions.streamDeleteFailed({sourceURI:i,error:nPe.Z.toPlainErrorObject(e)}))}}function*frt({payload:e}){const{targetServer:t,targetProvider:n,targetLibrarySectionID:i,targetLibraryType:s,server:r,provider:a,metadataItem:o}=e;try{yield(0,tPe.RE)(nPe.Z.post,"/media/subscriptions",{server:t,provider:n,params:{providers:(0,jt.Z)({serverIdentifier:r.machineIdentifier,providerIdentifier:a.identifier}),prefs:{oneShot:1,remoteMedia:1},params:{libraryType:jb(s)},targetLibrarySectionID:i,hints:{guid:o.guid,ratingKey:o.ratingKey,title:o.title,parentTitle:o.parentTitle},type:jb(o.type)}})}catch(e){}}function*Irt({payload:e}){const{ratingKey:t,server:n,provider:i,sourceURI:s}=e;try{const e=Qo(i,At.rf.RemoveFromContinueWatching);if(!(null==e?void 0:e.key))throw new Error(`removeFromContinueWatching action not found on ${i.identifier}`);yield(0,tPe.RE)(nPe.Z.put,e.key,{server:n,provider:i,params:{ratingKey:t}}),yield(0,tPe.gz)(ar.Z.actions.removeFromContinueWatchingSucceeded({sourceURI:s}))}catch(e){}}function*brt(){yield(0,tPe.Fm)(ar.Z.actions.fetchRequested,urt)}function*Mrt(){yield lrt(ar.Z.actions.playedStatusUpdateRequested,prt,(({payload:e})=>e.sourceURI))}function*Srt(){yield lrt(ar.Z.actions.rateRequested,mrt,(({payload:e})=>e.sourceURI))}function*Ert(){yield lrt(ar.Z.actions.toggleWatchlistRequested,hrt,(({payload:e})=>e.sourceURI))}function*Drt(){yield lrt(ar.Z.actions.toggleSavedRequested,grt,(({payload:e})=>e.sourceURI))}function*Crt(){yield lrt(ar.Z.actions.streamSelectRequested,yrt,(({payload:e})=>e.sourceURI))}function*Prt(){yield crt(ar.Z.actions.streamDeleteRequested,vrt,(({payload:e})=>e.streamKey))}function*wrt(){yield crt(ar.Z.actions.addToLibraryRequested,frt,(({payload:e})=>e.metadataItem.sourceURI))}function*Trt(){yield crt(ar.Z.actions.removeFromContinueWatchingRequested,Irt,(({payload:e})=>e.sourceURI))}function*Zrt(){yield(0,tPe.$6)([(0,tPe.rM)(brt),(0,tPe.rM)(Trt),(0,tPe.rM)(Mrt),(0,tPe.rM)(Srt),(0,tPe.rM)(Ert),(0,tPe.rM)(Drt),(0,tPe.rM)(Crt),(0,tPe.rM)(Prt),(0,tPe.rM)(wrt)])}function Nrt(e,t,n,i,s={leading:!0,trailing:!0},...r){return(0,tPe.rM)((function*(){const a={};function*o(e,t,n){a[e]={timestamp:Date.now()},yield(0,tPe.gw)(n),yield(0,tPe.RE)(l,e,t)}function*l(e,t){a[e]={timestamp:Date.now(),task:yield(0,tPe.rM)(n,t,...r)}}yield(0,tPe.ib)(t,(function*(t){const n=i(t),r=a[n];if(r){if((null==s?void 0:s.trailing)&&r.task&&!r.task.isRunning()){const i=e-(Date.now()-r.timestamp);yield(0,tPe.RE)(o,n,t,i)}}else(null==s?void 0:s.leading)?yield(0,tPe.RE)(l,n,t):(null==s?void 0:s.trailing)&&(yield(0,tPe.RE)(o,n,t,e));const c=a[n];yield(0,tPe.gw)(e),c===a[n]&&delete a[n]}))}))}var Art=Object.assign;function*xrt({payload:e}){const{server:t,provider:n,sourceURI:i,key:s,params:r}=e;try{const{key:e,parameters:a}=(0,Vn.Z)(i),o=yield(0,tPe.RE)(Gn.g.fetchAll,null!=s?s:e,{server:t,provider:n,params:Art(Art({},r),s?void 0:a)});yield(0,tPe.gz)(Gn.Z.actions.fetchAllSucceeded({sourceURI:i,data:o}))}catch(e){yield(0,tPe.gz)(Gn.Z.actions.fetchAllFailed({sourceURI:i,error:nPe.Z.toPlainErrorObject(e)}))}}function*Lrt({payload:e}){const{server:t,provider:n,sourceURI:i,key:s,params:r,startIndex:a,size:o,isPrepend:l}=e;try{const{key:e,parameters:c}=(0,Vn.Z)(i),d=yield(0,tPe.RE)(Gn.g.fetchRange,null!=s?s:e,{server:t,provider:n,params:Art(Art({},r),s?void 0:c),startIndex:a,size:o,isPrepend:l});yield(0,tPe.gz)(Gn.Z.actions.fetchRangeSucceeded({sourceURI:i,data:d}))}catch(e){yield(0,tPe.gz)(Gn.Z.actions.fetchRangeFailed({sourceURI:i,error:nPe.Z.toPlainErrorObject(e)}))}}function*Ort({payload:e}){const{server:t,provider:n,sourceURI:i,key:s,params:r}=e;try{const e=yield(0,tPe.Ys)(wl(i)),a=Gn.g.getRepopulateRangeOptions(e.items),{key:o,parameters:l}=(0,Vn.Z)(i),c=yield(0,tPe.RE)(Gn.g.fetchRange,null!=s?s:o,Art({server:t,provider:n,params:Art(Art({},r),s?void 0:l)},a));yield(0,tPe.gz)(Gn.Z.actions.repopulateRangeSucceeded({sourceURI:i,data:c}))}catch(e){yield(0,tPe.gz)(Gn.Z.actions.repopulateRangeFailed({sourceURI:i,error:nPe.Z.toPlainErrorObject(e)}))}}function*jrt(){yield crt(Gn.Z.actions.fetchAllRequested,xrt,(({payload:e})=>e.sourceURI))}function*krt(){yield lrt(Gn.Z.actions.fetchRangeRequested,Lrt,(({payload:e})=>e.sourceURI))}function*Rrt(){yield lrt(Gn.Z.actions.repopulateRangeRequested,Ort,(({payload:e})=>e.sourceURI))}function*zrt(){yield Nrt(5e3,Gn.Z.actions.throttledRepopulateRangeRequested,Ort,(({payload:e})=>e.sourceURI))}function*Urt(){yield Nrt(5e3,Gn.Z.actions.throttledFetchAllRequested,xrt,(({payload:e})=>e.sourceURI))}function*Vrt(){yield(0,tPe.$6)([(0,tPe.rM)(jrt),(0,tPe.rM)(krt),(0,tPe.rM)(Rrt),(0,tPe.rM)(zrt),(0,tPe.rM)(Urt)])}function*Brt({payload:e}){const{server:t,provider:n,sourceURI:i}=e;try{const{key:e}=(0,Vn.Z)(i);yield(0,tPe.RE)(nPe.Z.put,C.Z.join([e,"refresh"]),{server:t,provider:n})}catch(e){yield(0,tPe.gz)(El.actions.metadataRefreshFailed({sourceURI:i,error:nPe.Z.toPlainErrorObject(e)}))}}function*Frt({payload:e}){const{server:t,provider:n,sourceURI:i}=e;try{const{key:e}=(0,Vn.Z)(i);yield(0,tPe.RE)(nPe.Z.put,C.Z.join([e,"analyze"]),{server:t,provider:n})}catch(e){yield(0,tPe.gz)(El.actions.mediaAnalysisFailed({sourceURI:i,error:nPe.Z.toPlainErrorObject(e)}))}}function*Hrt(){yield(0,tPe.ib)(El.actions.metadataRefreshRequested,Brt)}function*_rt(){yield(0,tPe.ib)(El.actions.mediaAnalysisRequested,Frt)}function*Qrt(){yield(0,tPe.$6)([(0,tPe.rM)(Hrt),(0,tPe.rM)(_rt)])}function*Grt({payload:e}){const{server:t}=e;try{(yield(0,tPe.Ys)(nW(t.machineIdentifier))).isPopulated||(yield(0,tPe.gz)(GY.actions.fetchRequested(e)))}catch(e){yield(0,tPe.gz)(GY.actions.fetchFailed({server:t,error:nPe.Z.toPlainErrorObject(e)}))}}function*Yrt({payload:e}){var t,n;const{server:i}=e;try{const e=null!=(n=null==(t=(yield(0,tPe.RE)(nPe.Z.get,"/accounts",{server:i})).data.MediaContainer)?void 0:t.Account)?n:[];yield(0,tPe.gz)(GY.actions.fetchSucceeded({server:i,data:e.filter((e=>e.name))}))}catch(e){yield(0,tPe.gz)(GY.actions.fetchFailed({server:i,error:nPe.Z.toPlainErrorObject(e)}))}}function*Wrt(){yield crt(GY.actions.populateRequested,Grt,(({payload:e})=>e.server.machineIdentifier))}function*Krt(){yield crt(GY.actions.fetchRequested,Yrt,(({payload:e})=>e.server.machineIdentifier))}function*qrt(){yield(0,tPe.$6)([(0,tPe.rM)(Wrt),(0,tPe.rM)(Krt)])}function*$rt({payload:e}){const{server:t}=e;try{(yield(0,tPe.Ys)(iW(t.machineIdentifier))).isPopulated||(yield(0,tPe.gz)(KY.actions.fetchRequested(e)))}catch(e){yield(0,tPe.gz)(KY.actions.fetchFailed({server:t,error:nPe.Z.toPlainErrorObject(e)}))}}function*Jrt({payload:e}){var t,n;const{server:i}=e;try{const e=yield(0,tPe.RE)(nPe.Z.get,"/devices",{server:i});yield(0,tPe.gz)(KY.actions.fetchSucceeded({server:i,data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.Device)?n:[]}))}catch(e){yield(0,tPe.gz)(KY.actions.fetchFailed({server:i,error:nPe.Z.toPlainErrorObject(e)}))}}function*Xrt(){yield crt(KY.actions.populateRequested,$rt,(({payload:e})=>e.server.machineIdentifier))}function*eat(){yield crt(KY.actions.fetchRequested,Jrt,(({payload:e})=>e.server.machineIdentifier))}function*tat(){yield(0,tPe.$6)([(0,tPe.rM)(Xrt),(0,tPe.rM)(eat)])}var nat=n(50361),iat=n.n(nat),sat=n(65661);function rat(e){var t,n;const{data:i}=e;return(null!=(n=null==(t=i.MediaContainer)?void 0:t.Metadata)?n:[]).map((e=>{var t;const n=iat()(e);return(0,sat.dL)(n,"viewOffset"),(0,sat.dL)(n,"duration"),null==(t=n.Media)||t.forEach((e=>{var t;null==(t=e.Part)||t.forEach((e=>{var t;null==(t=e.Stream)||t.forEach((e=>{(0,sat.ZX)(e,"selected"),(0,sat.dL)(e,"streamType")}))}))})),n}))}function*aat({payload:e}){const{server:t}=e;try{const e=yield(0,tPe.RE)(nPe.Z.get,"/status/sessions",{server:t});yield(0,tPe.gz)(_m.actions.fetchSucceeded({server:t,data:rat(e)}))}catch(e){yield(0,tPe.gz)(_m.actions.fetchFailed({server:t,error:nPe.Z.toPlainErrorObject(e)}))}}function*oat({payload:e}){const{server:t,message:n}=e;try{const e=(yield(0,tPe.Ys)(Jie(t.machineIdentifier))).sessionsByKey[n.sessionKey];e&&e.key===n.key||(yield(0,tPe.gz)(_m.actions.fetchRequested({server:t})))}catch(e){yield(0,tPe.gz)(_m.actions.stopFailed({server:t,error:nPe.Z.toPlainErrorObject(e)}))}}function*lat({payload:e}){const{server:t,session:n,reason:i}=e;try{yield(0,tPe.RE)(nPe.Z.get,"/status/sessions/terminate",{server:t,params:{sessionId:n.Session.id,reason:i}})}catch(e){yield(0,tPe.gz)(_m.actions.stopFailed({server:t,error:nPe.Z.toPlainErrorObject(e)}))}}function*cat(){yield crt(_m.actions.fetchRequested,aat,(({payload:e})=>e.server.machineIdentifier))}function*dat(){yield crt(_m.actions.sessionChanged,oat,(({payload:e})=>e.server.machineIdentifier))}function*uat(){yield(0,tPe.ib)(_m.actions.stopRequested,lat)}function*pat(){yield(0,tPe.$6)([(0,tPe.rM)(cat),(0,tPe.rM)(dat),(0,tPe.rM)(uat)])}function*mat(){yield(0,tPe.$6)([(0,tPe.rM)(Zrt),(0,tPe.rM)(Vrt),(0,tPe.rM)(Qrt),(0,tPe.rM)(qrt),(0,tPe.rM)(tat),(0,tPe.rM)(pat)])}function*hat({payload:e}){var t;const{destinationServer:n,destinationProvider:i,sourceURI:s,isSmart:r}=e;try{const a=(0,Ft.Z)(i,At.zW.Playlist);if(!(null==a?void 0:a.key))throw new Error("No playlist feature found on provider");let o,l;"playlistKey"in e?(o=C.Z.join([e.playlistKey,"items"]),l={uri:s}):(o=a.key,l={type:e.playlistType,title:e.title,smart:r?1:0,uri:s});const c="playlistKey"in e?nPe.Z.put:nPe.Z.post,d=yield(0,tPe.RE)(c,o,{server:n,provider:i,params:l}),u=null==(t=d.data.MediaContainer.Metadata)?void 0:t[0];if(!u)throw new Error("Unable to find Metadata in playlist save response");const{metadataItem:p}=(0,iPe.Z)({server:n,provider:i,data:u,container:d.data.MediaContainer});yield(0,tPe.gz)(Cl.actions.playlistSaveSucceeded({sourceURI:s,playlistKey:p.key}))}catch(t){yield(0,tPe.gz)(Cl.actions.playlistSaveFailed({sourceURI:s,error:nPe.Z.toPlainErrorObject(t)})),"playlistKey"in e&&(yield rPe((0,dS.wp)((0,De.Z)("There was a problem saving this playlist."))))}}function*gat(){yield(0,tPe.Fm)(Cl.actions.playlistSaveRequested,hat)}function*yat(){yield(0,tPe.$6)([(0,tPe.rM)(gat)])}const vat=function(e,t){return t?t.map((t=>{var n;let i;return i="field"in t?{key:t.key,field:t.field,value:String(t.value),type:t.type,title:String(t.title)}:"fastKey"in t?{key:t.fastKey,field:null!=(n=t.type)?n:e.filter,value:t.key,title:String(t.title)}:{field:e.filter,key:t.key,value:t.key,title:String(t.title)},i})):[]};function fat(e,t){const n=function(e){switch(e){case ri.A.Movie:return ri.pG.Movie;case ri.A.Show:return ri.pG.Show;case ri.A.Season:return ri.pG.Season;case ri.A.Episode:return ri.pG.Episode;case ri.A.Person:return ri.pG.Person;case ri.A.Artist:return ri.pG.Artist;case ri.A.Album:return ri.pG.Album;case ri.A.Track:return ri.pG.Track;case ri.A.Clip:return ri.pG.Clip;case ri.A.Photo:return ri.pG.Photo;case ri.A.PhotoAlbum:return ri.pG.PhotoAlbum;case ri.A.Playlist:return ri.pG.Playlist;case ri.A.Collection:return ri.pG.Collection;case ri.A.Game:return ri.pG.Game}}(t);if(!e)return e;"composite"===e.type?e.Rule.forEach((e=>{fat(e,t)})):e.type&&!e.field.includes(".")?(e.field=`${e.type}.${e.field}`,delete e.type):e.type||e.field.includes(".")||n===ri.pG.Movie||(e.field=`${n}.${e.field}`),e.type||!e.value||e.valueTitle||(e.valueTitle=e.value,e.value=encodeURIComponent(e.value))}function*Iat({payload:e}){const{server:t,provider:n,key:i}=e;try{const e=yield(0,tPe.RE)(nPe.Z.get,i,{server:t,provider:n});fat((s=e.data.Query).Rule,s.type),yield(0,tPe.gz)(Ff.actions.fetchQuerySucceeded({query:e.data.Query}))}catch(e){yield(0,tPe.gz)(Ff.actions.fetchQueryFailed({error:nPe.Z.toPlainErrorObject(e)}))}var s}function*bat({payload:e}){const{server:t,provider:n,filter:i}=e;try{const e=yield(0,tPe.RE)(nPe.Z.get,i.key,{server:t,provider:n}),s=vat(i,e.data.MediaContainer.Directory);yield(0,tPe.gz)(Ff.actions.fetchFilterOptionsSucceeded({filter:i,filterOptions:s}))}catch(e){yield(0,tPe.gz)(Ff.actions.fetchFilterOptionsFailed({filter:i,error:nPe.Z.toPlainErrorObject(e)}))}}function*Mat({payload:e}){var t;const{server:n,provider:i,key:s}=e;try{const e=yield(0,tPe.RE)(nPe.Z.get,s,{server:n,provider:i}),r=null==(t=e.data.MediaContainer.Metadata)?void 0:t[0];if(!r)throw new Error("Could not find metadata item in playlist response");yield(0,tPe.gz)(Ff.actions.fetchPlaylistSucceeded({playlistItem:(0,iPe.Z)({server:n,provider:i,data:r,container:e.data.MediaContainer}).metadataItem}))}catch(e){yield(0,tPe.gz)(Ff.actions.fetchPlaylistFailed({error:nPe.Z.toPlainErrorObject(e)}))}}function*Sat(){for(;;){const e=yield(0,tPe.A7)(Ff.actions.fetchQueryRequested,Iat);yield(0,tPe.qn)(Ff.actions.reset),yield(0,tPe.al)(e)}}function*Eat(){for(;;){const e=yield(0,tPe.A7)(Ff.actions.fetchFilterOptionsRequested,bat);yield(0,tPe.qn)(Ff.actions.reset),yield(0,tPe.al)(e)}}function*Dat(){for(;;){const e=yield(0,tPe.A7)(Ff.actions.fetchPlaylistRequested,Mat);yield(0,tPe.qn)(Ff.actions.reset),yield(0,tPe.al)(e)}}function*Cat(){yield(0,tPe.$6)([(0,tPe.rM)(Sat),(0,tPe.rM)(Eat),(0,tPe.rM)(Dat)])}function*Pat({payload:e}){var t;try{const n=Date.now(),i=yield(0,tPe.RE)(nPe.Z.get,"/statistics/bandwidth",{server:e.server,params:{timespan:e.timespan,"at>":e.after}}),s=i.data.MediaContainer,r=i.headers.Date,a=r?function(e){const t=(0,pme.Z)(e,"EEE, dd MMM yyyy HH:mm:ss 'GMT'",new Date);return t.getTime()-60*t.getTimezoneOffset()*1e3}(r):n;yield(0,tPe.gz)(cie.actions.bandwidthFetchSucceeded({data:null!=(t=null==s?void 0:s.StatisticsBandwidth)?t:[],requestTimestampMilliseconds:n,responseTimestampMilliseconds:a}))}catch(e){yield(0,tPe.gz)(cie.actions.bandwidthFetchFailed({error:nPe.Z.toPlainErrorObject(e)}))}}function*wat({payload:e}){var t;try{const n=Date.now(),i=(yield(0,tPe.RE)(nPe.Z.get,"/statistics/resources",{server:e.server,params:{timespan:(0,mW.rG)(mW.XH.RealTime)}})).data.MediaContainer;yield(0,tPe.gz)(lre.actions.resourcesFetchSucceeded({data:null!=(t=null==i?void 0:i.StatisticsResources)?t:[],requestTimestampMilliseconds:n}))}catch(e){yield(0,tPe.gz)(lre.actions.resourcesFetchFailed({error:nPe.Z.toPlainErrorObject(e)}))}}function*Tat({payload:e}){var t,n;try{const i=(yield(0,tPe.RE)(Aat,e)).data.MediaContainer;yield(0,tPe.gz)(xre.actions.topUsersFetchSucceeded({data:{statistics:null!=(t=null==i?void 0:i.StatisticsMedia)?t:[],accounts:null!=(n=null==i?void 0:i.Account)?n:[]}}))}catch(e){yield(0,tPe.gz)(xre.actions.topUsersFetchFailed({error:nPe.Z.toPlainErrorObject(e)}))}}function*Zat({payload:e}){var t,n;try{const i=(yield(0,tPe.RE)(Aat,e)).data.MediaContainer;yield(0,tPe.gz)(Wse.actions.playHistoryFetchSucceeded({data:{statistics:null!=(t=null==i?void 0:i.StatisticsMedia)?t:[],accounts:null!=(n=null==i?void 0:i.Account)?n:[]}}))}catch(e){yield(0,tPe.gz)(Wse.actions.playHistoryFetchFailed({error:nPe.Z.toPlainErrorObject(e)}))}}function*Nat({payload:e}){var t,n,i,s,r,a,o,l;try{const[c,d,u,p]=yield(0,tPe.$6)([(0,tPe.RE)(xat,e,ri.pG.Movie),(0,tPe.RE)(xat,e,ri.pG.Show),(0,tPe.RE)(xat,e,ri.pG.Artist),(0,tPe.RE)(xat,e,ri.pG.Game)]);yield(0,tPe.gz)(Ere.actions.topPlayedFetchSucceeded({data:{moviesStatistics:null!=(n=null==(t=c.data.MediaContainer)?void 0:t.Metadata)?n:[],tvStatistics:null!=(s=null==(i=d.data.MediaContainer)?void 0:i.Metadata)?s:[],musicStatistics:null!=(a=null==(r=u.data.MediaContainer)?void 0:r.Metadata)?a:[],gameStatistics:null!=(l=null==(o=p.data.MediaContainer)?void 0:o.Metadata)?l:[]}}))}catch(e){yield(0,tPe.gz)(Ere.actions.topPlayedFetchFailed({error:nPe.Z.toPlainErrorObject(e)}))}}function*Aat(e){return yield(0,tPe.RE)(nPe.Z.get,"/statistics/media",{server:e.server,params:{timespan:e.timespan,"at>":e.after}})}function*xat(e,t){return yield(0,tPe.RE)(nPe.Z.get,"/library/all/top",{server:e.server,params:{accountID:e.accountID,type:Ho.getMetadataType(t).id,"viewedAt>":e.viewedAt,limit:e.limit}})}function*Lat(){for(;;){const e=yield(0,tPe.Fm)(cie.actions.bandwidthFetchRequested,Pat);yield(0,tPe.qn)([cie.actions.reset,cie.actions.bandwidthAbortRequested]),yield(0,tPe.al)(e)}}function*Oat(){for(;;){const e=yield(0,tPe.Fm)(lre.actions.resourcesFetchRequested,wat);yield(0,tPe.qn)(lre.actions.reset),yield(0,tPe.al)(e)}}function*jat(){for(;;){const e=yield(0,tPe.A7)(xre.actions.topUsersFetchRequested,Tat);yield(0,tPe.qn)(xre.actions.reset),yield(0,tPe.al)(e)}}function*kat(){for(;;){const e=yield(0,tPe.A7)(Wse.actions.playHistoryFetchRequested,Zat);yield(0,tPe.qn)(Wse.actions.reset),yield(0,tPe.al)(e)}}function*Rat(){for(;;){const e=yield(0,tPe.A7)(Ere.actions.topPlayedFetchRequested,Nat);yield(0,tPe.qn)(Ere.actions.reset),yield(0,tPe.al)(e)}}function*zat(){yield(0,tPe.$6)([(0,tPe.rM)(Lat),(0,tPe.rM)(Oat),(0,tPe.rM)(jat),(0,tPe.rM)(kat),(0,tPe.rM)(Rat)])}var Uat=n(60679),Vat=n(20019),Bat=Object.prototype.hasOwnProperty,Fat=Object.getOwnPropertySymbols,Hat=Object.prototype.propertyIsEnumerable,_at=Object.assign;function Qat(e,t){if(null==t?void 0:t.DisplayFields)return t;const n=(0,Cu.Z)(e.type);if(!n)return t;const i=(0,Uat.P)(e.type,e.subtype);return e.style===Bt.n.Shelf&&e.hubIdentifier&&e.hubIdentifier.startsWith("external.")&&i.push(ai.PD.SourceTitle),_at(_at({},t),{DisplayFields:[{type:n,subtype:e.subtype,fields:i}]})}function Gat(e){return"relatedAlbums"===e.hubIdentifier&&e.size>1?Bt.n.WideShelf:e.style}function Yat({server:e,provider:t,contentDirectoryID:n,pinnedContentDirectoryID:i,excludedHubIdentifiers:s,data:r}){var a;const o=null!=(a=null==r?void 0:r.MediaContainer)?a:{},{Hub:l=[]}=o,c=((e,t)=>{var n={};for(var i in e)Bat.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Fat)for(var i of Fat(e))t.indexOf(i)<0&&Hat.call(e,i)&&(n[i]=e[i]);return n})(o,["Hub"]);return l.reduce(((r,a)=>{var l,d,u;if((null==s?void 0:s.length)&&(null==s?void 0:s.some((e=>e===a.hubIdentifier))))return r;const p=a.key?C.Z.join(a.key,{contentDirectoryID:null==n?void 0:n.join(","),pinnedContentDirectoryID:null==i?void 0:i.join(",")}):void 0,m=null!=(l=a.source)?l:(0,jt.Z)({serverIdentifier:e.machineIdentifier,providerIdentifier:null==t?void 0:t.identifier}),h=p?`${m}${p}`:`${m}/${a.hubIdentifier}`;let g=a.totalSize;null==g&&(g=a.more?void 0:a.size),r.hubs.push({source:m,sourceURI:h,key:p,isStale:!1,initialSize:a.size,style:Gat(a),attribution:a.attribution,autoAdvanceDelayMs:a.autoAdvanceDelayMs,context:a.context,hubIdentifier:a.hubIdentifier,Meta:Qat(a,a.Meta||o.Meta),more:a.more,placeholder:a.placeholder,random:a.random,subtype:a.subtype,title:a.title,type:a.type});const y=null!=(u=null!=(d=a.Metadata)?d:a.Directory)?u:[],{metadataItems:v,metadataItemStates:f}=(0,Vat.Z)({server:e,provider:t,data:y,container:c});return r.metadataLists.push({sourceURI:h,items:v,totalSize:g,offset:0,isPending:!1,isPopulated:!0,error:null}),Object.assign(r.metadataItemStates,f),r}),{title:c.title,meta:c.Meta,hubs:[],metadataLists:[],metadataItemStates:{}})}var Wat=Object.assign;function*Kat({payload:e}){const{server:t,provider:n,sourceURI:i,metadataListSourceURI:s,key:r,params:a}=e;i!==s&&(yield(0,tPe.gz)(qm.actions.resetMeta()),yield(0,tPe.gz)(Gn.Z.actions.added({metadataLists:[{sourceURI:i,items:[],offset:0}],metadataItemStates:{}}))),yield(0,tPe.gz)(Gn.Z.actions.fetchRangeRequested({server:t,provider:n,sourceURI:i,key:r,params:Wat(Wat({},a),{includeAdvanced:1,includeMeta:1}),startIndex:0,size:50}))}function*qat({payload:e}){const{server:t,provider:n,sourceURI:i}=e,{key:s,parameters:r}=(0,Vn.Z)(i);try{const e=Yat({server:t,provider:n,data:(yield(0,tPe.RE)(nPe.Z.get,s,{server:t,provider:n,params:Wat(Wat({},r),{count:Lc.HE,includeStations:1,includeRecentChannels:1,includeMeta:1,excludeFields:"summary"})})).data});yield(0,tPe.$6)([(0,tPe.gz)(Gn.Z.actions.added({metadataLists:e.metadataLists,metadataItemStates:e.metadataItemStates})),(0,tPe.gz)(qm.actions.fetchHubsSucceeded({sourceURI:i,data:e}))])}catch(e){yield(0,tPe.gz)(qm.actions.fetchHubsFailed({error:nPe.Z.toPlainErrorObject(e)}))}}function*$at(){yield(0,tPe.gw)(6e4),yield(0,tPe.gz)(qm.actions.markHubsStale())}function*Jat({payload:e}){const{server:t,provider:n,filter:i}=e;try{const e=yield(0,tPe.RE)(nPe.Z.get,i.key,{server:t,provider:n}),s=vat(i,e.data.MediaContainer.Directory);yield(0,tPe.gz)(qm.actions.fetchFilterOptionsSucceeded({filter:i,filterOptions:s}))}catch(e){yield(0,tPe.gz)(qm.actions.fetchFilterOptionsFailed({filter:i,error:nPe.Z.toPlainErrorObject(e)}))}}function*Xat({payload:e}){var t;const{server:n,provider:i,key:s}=e;try{const e=yield(0,tPe.RE)(nPe.Z.get,s,{server:n,provider:i});yield(0,tPe.gz)(qm.actions.fetchFirstCharactersSucceeded({key:s,firstCharacters:null!=(t=e.data.MediaContainer.Directory)?t:[]}))}catch(e){yield(0,tPe.gz)(qm.actions.fetchFirstCharactersFailed({key:s,error:nPe.Z.toPlainErrorObject(e)}))}}function*eot(){for(;;){const e=yield(0,tPe.A7)(qm.actions.initializeListRequested,Kat);yield(0,tPe.qn)(qm.actions.reset),yield(0,tPe.al)(e)}}function*tot(){for(;;){const e=yield(0,tPe.A7)(qm.actions.fetchHubsRequested,qat);yield(0,tPe.qn)([qm.actions.reset,qm.actions.resetHubs,qm.actions.markHubsStaleRequested]),yield(0,tPe.al)(e)}}function*not(){for(;;){yield(0,tPe.qn)(qm.actions.markHubsStaleRequested);const e=yield(0,tPe.RE)($at);yield(0,tPe.qn)(qm.actions.markHubsStaleCanceled),yield(0,tPe.al)(e)}}function*iot(){for(;;){const e=yield(0,tPe.A7)(qm.actions.fetchFilterOptionsRequested,Jat);yield(0,tPe.qn)(qm.actions.reset),yield(0,tPe.al)(e)}}function*sot(){for(;;){const e=yield(0,tPe.A7)(qm.actions.fetchFirstCharactersRequested,Xat);yield(0,tPe.qn)(qm.actions.reset),yield(0,tPe.al)(e)}}function*rot(){yield(0,tPe.$6)([(0,tPe.rM)(eot),(0,tPe.rM)(tot),(0,tPe.rM)(not),(0,tPe.rM)(iot),(0,tPe.rM)(sot)])}const aot=(0,sn.Z)((0,de.P1)(he.Z,(e=>e.embeddedServer),((e,t)=>rn(e[t]))),(e=>e));var oot=Object.assign;function*lot({payload:e}){yield(0,tPe.RE)(got,[e.metadataItem])}function*cot({payload:e}){const t=e.metadataLists.reduce(((e,{items:t})=>e.concat(t)),[]);yield(0,tPe.RE)(got,t)}function*dot({payload:e}){yield(0,tPe.RE)(got,e.data.items)}function*uot({payload:e}){var t,n;const{sourceURI:i,guid:s,useSelected:r}=e;try{const e=yield oPe(aot),{providerIdentifier:a,serverIdentifier:o,ratingKey:l}=(0,Vn.Z)(i),c=(0,jt.Z)({serverIdentifier:o,providerIdentifier:a});if(!l||!c)throw new Error("Unable to create a subscription for this item");yield(0,tPe.RE)(nPe.Z.post,"media/providers",{server:e,params:{url:c}});const d=(null==(n=null==(t=(yield(0,tPe.RE)(nPe.Z.get,"media/subscriptions/template",{server:e,params:{source:c,ratingKey:l,guid:s}})).data.MediaContainer.SubscriptionTemplate)?void 0:t[0])?void 0:n.MediaSubscription)||[],u=r?d.find((({selected:e})=>e)):d[0];if(!u)throw new Error("Unable to create a subscription for this item");u.Setting.some((({hidden:e})=>!e))?yield(0,tPe.gz)(Fa.actions.subscriptionTemplateChanged({sourceURI:i,template:u})):yield(0,tPe.gz)(Fa.actions.subscriptionCreateRequested({sourceURI:i,template:u}))}catch(e){yield(0,tPe.gz)(Fa.actions.subscriptionCreateFailed({sourceURI:i,error:nPe.Z.toPlainErrorObject(e)}))}}function*pot({payload:e}){var t,n,i;const{sourceURI:s,template:{type:r,targetLibrarySectionID:a,parameters:o,Setting:l},settings:c={}}=e;try{const e=yield oPe(aot),d={};for(const{id:e,value:n}of l)d[e]="oneShot"===e?"false":null!=(t=c[e])?t:n;const u=C.Z.parseParams(o),p=null==(i=null==(n=(yield(0,tPe.RE)(nPe.Z.post,"media/subscriptions",{server:e,params:oot(oot({},u),{type:r,targetLibrarySectionID:a,prefs:d})})).data.MediaContainer)?void 0:n.MediaSubscription)?void 0:i[0].key;if(!p)throw new Error("The new subscription did not contain an identifier");yield(0,tPe.gz)(Fa.actions.subscriptionCreateSucceeded({id:p,sourceURI:s,type:r}))}catch(e){yield(0,tPe.gz)(Fa.actions.subscriptionCreateFailed({sourceURI:s,error:nPe.Z.toPlainErrorObject(e)}))}}function*mot({payload:e}){const{id:t,sourceURI:n}=e;try{const e=yield oPe(aot);yield(0,tPe.RE)(nPe.Z.del,C.Z.join(["media/subscriptions",t]),{server:e}),yield(0,tPe.gz)(Fa.actions.subscriptionDeleteSucceeded({sourceURI:n}))}catch(e){yield(0,tPe.gz)(Fa.actions.subscriptionDeleteFailed({sourceURI:n,error:nPe.Z.toPlainErrorObject(e)}))}}function*hot({payload:e}){const{type:t,Context:n}=e.activity;if(!(null==n?void 0:n.source)||t!==Oa.EW)return;const{ratingKey:i,source:s}=n,{serverIdentifier:r,providerIdentifier:a}=(0,Vn.Z)(s),o=(0,jt.Z)({serverIdentifier:r,providerIdentifier:a,key:`/library/metadata/${i}`});try{yield(0,tPe.gz)(ar.Z.actions.repopulateRequested({sourceURI:o}))}catch(e){yield(0,tPe.gz)(Fa.actions.subscriptionCreateFailed({sourceURI:o,error:nPe.Z.toPlainErrorObject(e)}))}}function*got(e){try{const i=yield oPe(aot),s=((yield(0,tPe.RE)(nPe.Z.get,"media/providers",{server:i,params:{includeStorage:1}})).data.MediaContainer.MediaProvider||[]).map((e=>({id:String(e.id),source:e.source})));yield(0,tPe.gz)(Fa.actions.providersFetchSucceeded({providerSections:s}));const r={};for(const{source:e,id:t}of s)e&&(r[e]=t);const a={};e.forEach((e=>{a[e.source]?a[e.source].push(e):a[e.source]=[e]}));const o=[];for(const[e,s]of Object.entries(a)){const a=r[e];if(!a)break;const l={},c=[];for(const e of s)c.push(e.ratingKey),l[e.ratingKey]=e;const d=c.join(","),u=C.Z.join(["media/providers",a,"media/subscriptions/mapping",d]),p=(yield(0,tPe.RE)(nPe.Z.get,u,{server:i,params:{includeStorage:1}})).data.MediaContainer.MediaSubscription||[];for(const{id:e,itemRatingKey:i,type:s}of p){const r=l[i];o.push({id:e,sourceURI:r.sourceURI,subscription:Ra.Saved,type:s,relation:(t=s,n=jb(r.type),t===n?Ua.Self:t<n?Ua.Ancestors:Ua.Descendants),progress:100})}}yield(0,tPe.gz)(Fa.actions.downloadsFetchSucceeded({items:e,downloads:o}))}catch(e){yield(0,tPe.gz)(Fa.actions.downloadsFetchFailed({error:nPe.Z.toPlainErrorObject(e)}))}var t,n}function*yot(){yield(0,tPe.ib)(B9.actions.metadataItemFetchSucceeded,lot)}function*vot(){yield(0,tPe.ib)(Gn.Z.actions.added,cot)}function*fot(){yield(0,tPe.ib)(Gn.Z.actions.repopulateRangeSucceeded,dot)}function*Iot(){yield(0,tPe.ib)(Gn.Z.actions.fetchRangeSucceeded,dot)}function*bot(){yield(0,tPe.ib)(Gn.Z.actions.fetchAllSucceeded,dot)}function*Mot(){yield(0,tPe.Fm)(Fa.actions.subscriptionTemplatesFetchRequested,uot)}function*Sot(){yield(0,tPe.Fm)(Fa.actions.subscriptionCreateRequested,pot)}function*Eot(){yield(0,tPe.Fm)(Fa.actions.subscriptionDeleteRequested,mot)}function*Dot(){yield(0,tPe.ib)(ka.actions.activityFinished,hot)}function*Cot(){yield(0,tPe.$6)(J.Z.allowSyncDownload?[(0,tPe.rM)(yot),(0,tPe.rM)(vot),(0,tPe.rM)(Iot),(0,tPe.rM)(bot),(0,tPe.rM)(fot),(0,tPe.rM)(Mot),(0,tPe.rM)(Sot),(0,tPe.rM)(Eot),(0,tPe.rM)(Dot)]:[])}function Pot(e){var t,n;const i=iat()(e);return(0,sat.Dq)(i,"key"),(0,sat.Dq)(i,"source"),i.sources=null==(n=null==(t=e.sources)?void 0:t.split(","))?void 0:n.map((e=>{const t=(0,Mm.su)(joe).find((t=>t===e));return Ya(t,`Unknown Media Grabber Device Source Type ${e}`),t})),i}function wot({data:e}){var t;return(null!=(t=e.Device)?t:[]).map(Pot)}function Tot({data:e}){var t,n;const i=null==(t=e.Dvr)?void 0:t[0],s=iat()(i);return(0,sat.Dq)(s,"key"),s.Device=null==(n=null==i?void 0:i.Device)?void 0:n.map(Pot),s}var Zot=Object.assign;function*Not({payload:e}){var t;const{server:n}=e;try{const e=yield(0,tPe.RE)(nPe.Z.post,"/media/grabbers/devices/discover",{server:n});yield(0,tPe.gz)(Qoe.actions.devicesDiscoverSucceeded({server:n,data:wot({server:n,data:null==(t=e.data)?void 0:t.MediaContainer})}))}catch(e){yield(0,tPe.gz)(Qoe.actions.setupErrorMessageAdded({message:(0,De.Z)("There was a problem discovering devices")})),yield(0,tPe.gz)(Qoe.actions.devicesDiscoverFailed({server:n,error:nPe.Z.toPlainErrorObject(e)}))}}function*Aot({payload:e}){var t;const{server:n}=e;try{const e=yield(0,tPe.RE)(nPe.Z.get,"/media/grabbers/devices",{server:n});yield(0,tPe.gz)(Qoe.actions.devicesFetchSucceeded({server:n,data:wot({server:n,data:null==(t=e.data)?void 0:t.MediaContainer})}))}catch(e){yield(0,tPe.gz)(Qoe.actions.devicesFetchFailed({server:n,error:nPe.Z.toPlainErrorObject(e)}))}}function*xot({payload:e}){var t,n;const{server:i,deviceKey:s}=e;try{const e=yield(0,tPe.RE)(nPe.Z.get,C.Z.join(["/media/grabbers/devices",s,"channels"]),{server:i});yield(0,tPe.gz)(Qoe.actions.deviceChannelsFetchSucceeded({server:i,deviceKey:s,data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.DeviceChannel)?n:[]}))}catch(e){yield(0,tPe.gz)(Qoe.actions.setupErrorMessageAdded({message:(0,De.Z)("There was a problem getting the channels for your device")})),yield(0,tPe.gz)(Qoe.actions.deviceChannelsFetchFailed({deviceKey:s,error:nPe.Z.toPlainErrorObject(e)}))}}function*Lot({payload:e}){var t;const{server:n,deviceKey:i,source:s}=e;try{yield(0,tPe.RE)(nPe.Z.post,C.Z.join(["/media/grabbers/devices",i,"scan"]),{server:n,params:{source:s}})}catch(e){const n=nPe.Z.toPlainErrorObject(e);yield(0,tPe.gz)(Qoe.actions.setupErrorMessageAdded({message:null!=(t=null==n?void 0:n.message)?t:(0,De.Z)("There was a problem scanning channels")})),yield(0,tPe.gz)(Qoe.actions.deviceChannelsScanFailed())}}function*Oot({payload:e}){const{server:t,deviceKey:n}=e;try{yield(0,tPe.RE)(nPe.Z.del,C.Z.join(["/media/grabbers/devices",n,"scan"]),{server:t})}catch(e){yield(0,tPe.gz)(Qoe.actions.setupErrorMessageAdded({message:(0,De.Z)("There was a problem canceling the current channel scan")})),yield(0,tPe.gz)(Qoe.actions.deviceChannelsCancelScanFailed())}}function*jot({payload:e}){const{server:t,deviceKey:n,mappings:i}=e;try{const e=yield(0,tPe.Ys)(Sle(n)),s=[],r={};Object.values(i).forEach((({channelKey:t,deviceIdentifier:n,lineupIdentifier:i,enabled:a})=>{const o=e.channels.find((e=>e.identifier===n)),l=null==o?void 0:o.drm;a&&t&&i&&!l&&(s.push(n),r[`channelMappingByKey[${n}]`]=t,r[`channelMapping[${n}]`]=i)})),yield(0,tPe.RE)(nPe.Z.put,C.Z.join(["/media/grabbers/devices",n,"channelmap"]),{server:t,params:Zot({channelsEnabled:s.toString()},r)}),yield(0,tPe.gz)(Qoe.actions.deviceChannelMappingsSaveSucceeded())}catch(e){yield(0,tPe.gz)(Qoe.actions.deviceChannelMappingsSaveFailed({error:nPe.Z.toPlainErrorObject(e)}))}}function*kot({payload:e}){const{server:t,deviceKey:n,enabled:i}=e;try{yield(0,tPe.RE)(nPe.Z.put,C.Z.join(["/media/grabbers/devices",n]),{server:t,params:{enabled:i?1:0}}),yield(0,tPe.gz)(Qoe.actions.deviceEnableSucceeded({deviceKey:n,enabled:i}))}catch(e){yield(0,tPe.gz)(Qoe.actions.deviceEnableFailed())}}function*Rot({payload:e}){var t;const{server:n,uri:i}=e;let s=(0,De.Z)("There was a problem adding the device: {1}",i);try{const e=wot({server:n,data:null==(t=(yield(0,tPe.RE)(nPe.Z.post,"/media/grabbers/tv.plex.grabbers.hdhomerun/devices",{server:n,params:{uri:i}})).data)?void 0:t.MediaContainer});if(0===e.length)throw s=(0,De.Z)("No device found at {1}",i),new Error;yield(0,tPe.gz)(Qoe.actions.deviceAddSucceeded({server:n,data:e[0]}))}catch(e){yield(0,tPe.gz)(Qoe.actions.setupErrorMessageAdded({message:s})),yield(0,tPe.gz)(Qoe.actions.deviceAddFailed({server:n,error:nPe.Z.toPlainErrorObject(e)}))}}function*zot({payload:e}){var t;const{server:n,dvrID:i}=e;try{const e=yield(0,tPe.RE)(nPe.Z.get,C.Z.join(["/livetv/dvrs",i]),{server:n});yield(0,tPe.gz)(Qoe.actions.dvrFetchSucceeded({dvr:Tot({server:n,data:null==(t=e.data)?void 0:t.MediaContainer})}))}catch(e){yield(0,tPe.gz)(Qoe.actions.dvrFetchFailed({error:e}))}}function*Uot({payload:e}){var t;const{server:n,device:i,channelMappings:s}=e;try{const{success:e,failure:r}=yield(0,tPe.RE)(Fot,n,i.key,s);if(r)throw new Error;if(e){const{selectedCountry:e,selectedLanguage:s}=yield(0,tPe.Ys)(tle),r=yield(0,tPe.Ys)(dle),a=yield(0,tPe.RE)(nPe.Z.post,"/livetv/dvrs",{server:n,params:{device:i.uuid,lineup:r.map((e=>e.uuid)),language:s.code,country:e.code}});yield(0,tPe.gz)(Qoe.actions.dvrSaveSucceeded({activityUUID:a.headers["x-plex-activity"],dvr:Tot({server:n,data:null==(t=a.data)?void 0:t.MediaContainer})})),yield(0,tPe.gz)(Qoe.actions.devicesFetchRequested({server:n})),yield rPe(iE({serverEntityID:n.entityID}))}}catch(e){yield(0,tPe.gz)(Qoe.actions.setupErrorMessageAdded({message:(0,De.Z)("There was a problem saving your DVR. Please try again.")})),yield(0,tPe.gz)(Qoe.actions.dvrSaveFailed())}}function*Vot({payload:e}){var t;const{server:n,dvrID:i,deviceKey:s,channelMappings:r}=e;try{const{success:e,failure:a}=yield(0,tPe.RE)(Fot,n,s,r);if(a)throw new Error;if(e){const e=yield(0,tPe.Ys)(dle);yield(0,tPe.RE)(Bot,n,i,e);const r=yield(0,tPe.RE)(nPe.Z.put,C.Z.join(["/livetv/dvrs",i,"devices",s]),{server:n});yield(0,tPe.gz)(Qoe.actions.addDVRDeviceSucceeded({activityUUID:r.headers["x-plex-activity"],dvr:Tot({server:n,data:null==(t=r.data)?void 0:t.MediaContainer})})),yield(0,tPe.gz)(Qoe.actions.devicesFetchRequested({server:n})),yield rPe(iE({serverEntityID:n.entityID}))}}catch(e){yield(0,tPe.gz)(Qoe.actions.setupErrorMessageAdded({message:(0,De.Z)("There was a problem adding a new device to your DVR. Please try again.")})),yield(0,tPe.gz)(Qoe.actions.addDVRDeviceFailed())}}function*Bot(e,t,n){yield(0,tPe.$6)(n.map((n=>(0,tPe.RE)(nPe.Z.put,C.Z.join(["/livetv/dvrs",t,"lineups"]),{server:e,params:{lineup:n.uuid}}))))}function*Fot(e,t,n){return yield(0,tPe.gz)(Qoe.actions.deviceChannelMappingsSaveRequested({server:e,deviceKey:t,mappings:n})),yield(0,tPe.gz)(Qoe.actions.deviceEnableRequested({server:e,deviceKey:t,enabled:!0})),yield(0,tPe.S3)({success:(0,tPe.$6)([(0,tPe.qn)(Qoe.actions.deviceChannelMappingsSaveSucceeded),(0,tPe.qn)(Qoe.actions.deviceEnableSucceeded)]),failure:(0,tPe.S3)([(0,tPe.qn)(Qoe.actions.deviceChannelMappingsSaveFailed),(0,tPe.qn)(Qoe.actions.deviceEnableFailed)])})}function*Hot(){for(;;){const e=yield(0,tPe.A7)(Qoe.actions.devicesDiscoverRequested,Not);yield(0,tPe.qn)(Qoe.actions.reset),yield(0,tPe.al)(e)}}function*_ot(){for(;;){const e=yield(0,tPe.A7)(Qoe.actions.devicesFetchRequested,Aot);yield(0,tPe.qn)(Qoe.actions.reset),yield(0,tPe.al)(e)}}function*Qot(){for(;;){const e=yield crt(Qoe.actions.deviceChannelsFetchRequested,xot,(({payload:e})=>e.deviceKey));yield(0,tPe.qn)(Qoe.actions.reset),yield(0,tPe.al)(e)}}function*Got(){for(;;){const e=yield crt(Qoe.actions.deviceChannelsScanRequested,Lot,(({payload:e})=>e.deviceKey));yield(0,tPe.qn)(Qoe.actions.reset),yield(0,tPe.al)(e)}}function*Yot(){for(;;){const e=yield crt(Qoe.actions.deviceChannelsCancelScanRequested,Oot,(({payload:e})=>e.deviceKey));yield(0,tPe.qn)(Qoe.actions.reset),yield(0,tPe.al)(e)}}function*Wot(){for(;;){const e=yield crt(Qoe.actions.deviceChannelMappingsSaveRequested,jot,(({payload:e})=>e.deviceKey));yield(0,tPe.qn)(Qoe.actions.reset),yield(0,tPe.al)(e)}}function*Kot(){for(;;){const e=yield crt(Qoe.actions.deviceEnableRequested,kot,(({payload:e})=>e.deviceKey));yield(0,tPe.qn)(Qoe.actions.reset),yield(0,tPe.al)(e)}}function*qot(){for(;;){const e=yield(0,tPe.A7)(Qoe.actions.dvrFetchRequested,zot);yield(0,tPe.qn)(Qoe.actions.reset),yield(0,tPe.al)(e)}}function*$ot(){for(;;){const e=yield(0,tPe.A7)(Qoe.actions.deviceAddRequested,Rot);yield(0,tPe.qn)(Qoe.actions.reset),yield(0,tPe.al)(e)}}function*Jot(){for(;;){const e=yield(0,tPe.A7)(Qoe.actions.dvrSaveRequested,Uot);yield(0,tPe.qn)(Qoe.actions.reset),yield(0,tPe.al)(e)}}function*Xot(){for(;;){const e=yield(0,tPe.A7)(Qoe.actions.addDVRDeviceRequested,Vot);yield(0,tPe.qn)(Qoe.actions.reset),yield(0,tPe.al)(e)}}function*elt(){yield(0,tPe.$6)([(0,tPe.rM)(Hot),(0,tPe.rM)(_ot),(0,tPe.rM)(Qot),(0,tPe.rM)(Got),(0,tPe.rM)(Yot),(0,tPe.rM)(Wot),(0,tPe.rM)(Kot),(0,tPe.rM)($ot),(0,tPe.rM)(qot),(0,tPe.rM)(Jot),(0,tPe.rM)(Xot)])}var tlt=Object.assign,nlt=Object.assign;function ilt({data:e,lineupUUID:t}){var n;return(null!=(n=e.Channel)?n:[]).map((e=>nlt(nlt({},e),{lineupUUID:t})))}function*slt(e,t){return{lineupUUID:t,channels:ilt({server:e,lineupUUID:t,data:(yield(0,tPe.RE)(nPe.Z.get,"/livetv/epg/channels",{server:e,params:{lineup:t}})).data.MediaContainer})}}function*rlt({payload:e}){var t,n,i;const{server:s,device:r,lineups:a}=e;try{const e=yield(0,tPe.$6)(a.map((e=>(0,tPe.RE)(slt,s,e.uuid)))),t=yield(0,tPe.RE)(nPe.Z.get,"/livetv/epg/channelmap",{server:s,params:{device:r.uuid,lineup:a.map((e=>e.uuid))}}),n=function({data:e}){var t;return(null!=(t=e.ChannelMapping)?t:[]).map((e=>tlt(tlt({},e),{enabled:!!e.lineupIdentifier})))}({server:s,data:t.data.MediaContainer});yield(0,tPe.gz)(Xoe.actions.channelMappingsFetchSucceeded({channelMappings:n,lineupChannels:e}))}catch(e){yield(0,tPe.gz)(Xoe.actions.channelMappingsFetchFailed({error:nPe.Z.toPlainErrorObject(e)}));let s=(0,De.Z)("There was a problem fetching channel mappings. Please try again later.");(null==(i=null==(n=null==(t=e.response)?void 0:t.data)?void 0:n.MediaContainer)?void 0:i.message)&&(s=e.response.data.MediaContainer.message),yield(0,tPe.gz)(Qoe.actions.setupErrorMessageAdded({message:s}))}}function*alt({payload:e}){const{server:t,device:n,lineupGroup:i}=e;try{yield(0,tPe.gz)(Qoe.actions.setupErrorMessageRemoved());const e=yield(0,tPe.RE)(nPe.Z.get,C.Z.join("/livetv/epg/lineup",{device:n.uuid,lineupGroup:i.uuid}),{server:t});yield(0,tPe.gz)(Xoe.actions.bestEPGLineupSearchSucceeded({lineupGroup:i,data:e.headers["x-plex-activity"]}))}catch(e){yield(0,tPe.gz)(Qoe.actions.setupErrorMessageAdded({message:(0,De.Z)("There was a problem mapping channels")}))}}function*olt({payload:e}){var t,n;const{server:i}=e;try{const e=yield(0,tPe.RE)(nPe.Z.get,"/livetv/epg/countries",{server:i});yield(0,tPe.gz)(Xoe.actions.epgCountriesFetchSucceeded({server:i,data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.Country)?n:[]}))}catch(e){yield(0,tPe.gz)(Xoe.actions.epgCountriesFetchFailed({error:nPe.Z.toPlainErrorObject(e)}))}}function*llt({payload:e}){var t,n;const{server:i,country:s}=e;try{const e=yield(0,tPe.RE)(nPe.Z.get,C.Z.join(["/livetv/epg/countries",s.key,"regions"]),{server:i});yield(0,tPe.gz)(Xoe.actions.epgCountryRegionsFetchSucceeded({data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.Region)?n:[]}))}catch(e){yield(0,tPe.gz)(Xoe.actions.epgCountryRegionsFetchFailed({error:nPe.Z.toPlainErrorObject(e)}))}}function*clt({payload:e}){var t,n;const{server:i}=e;try{const e=yield(0,tPe.RE)(nPe.Z.get,"/livetv/epg/languages",{server:i});yield(0,tPe.gz)(Xoe.actions.epgLanguagesFetchSucceeded({data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.Language)?n:[]}))}catch(e){yield(0,tPe.gz)(Xoe.actions.epgLanguagesFetchFailed({error:nPe.Z.toPlainErrorObject(e)}))}}function*dlt({payload:e}){var t,n;const{server:i,country:s,region:r,postalCode:a}=e,o=["/livetv/epg/countries",s.key],l={};s.flavor===Zoe.Regions&&r?o.push(r.key):l.postalCode=a;const c=C.Z.join(o,l);try{const e=yield(0,tPe.RE)(nPe.Z.get,c,{server:i}),{MediaContainer:s}=e.data;yield(0,tPe.gz)(Xoe.actions.epgLineupGroupFetchSucceeded({data:{uuid:null!=(t=null==s?void 0:s.uuid)?t:"",epgLineups:null!=(n=null==s?void 0:s.Lineup)?n:[]}}))}catch(e){yield(0,tPe.gz)(Xoe.actions.epgLineupGroupFetchFailed({error:nPe.Z.toPlainErrorObject(e)}))}}function*ult({payload:e}){(yield(0,tPe.Ys)(tle)).selectedLineupGroups.find((t=>t.uuid===e.lineupGroup.uuid))?yield(0,tPe.gz)(Qoe.actions.setupErrorMessageAdded({message:(0,De.Z)("It looks like you have already set up a lineup for this location.")})):yield(0,tPe.gz)(Xoe.actions.selectedEPGLineupGroupAddSucceeded({lineupGroup:e.lineupGroup}))}function*plt(){for(;;){const e=yield(0,tPe.A7)(Xoe.actions.channelMappingsFetchRequested,rlt);yield(0,tPe.qn)(Xoe.actions.reset),yield(0,tPe.al)(e)}}function*mlt(){for(;;){const e=yield(0,tPe.A7)(Xoe.actions.bestEPGLineupSearchRequested,alt);yield(0,tPe.qn)(Xoe.actions.reset),yield(0,tPe.al)(e)}}function*hlt(){for(;;){const e=yield(0,tPe.A7)(Xoe.actions.epgCountriesFetchRequested,olt);yield(0,tPe.qn)(Xoe.actions.reset),yield(0,tPe.al)(e)}}function*glt(){for(;;){const e=yield(0,tPe.A7)(Xoe.actions.epgCountryRegionsFetchRequested,llt);yield(0,tPe.qn)(Xoe.actions.reset),yield(0,tPe.al)(e)}}function*ylt(){for(;;){const e=yield(0,tPe.A7)(Xoe.actions.epgLanguagesFetchRequested,clt);yield(0,tPe.qn)(Xoe.actions.reset),yield(0,tPe.al)(e)}}function*vlt(){for(;;){const e=yield(0,tPe.A7)(Xoe.actions.epgLineupGroupFetchRequested,dlt);yield(0,tPe.qn)(Xoe.actions.reset),yield(0,tPe.al)(e)}}function*flt(){for(;;){const e=yield(0,tPe.A7)(Xoe.actions.selectedEPGLineupGroupAddRequested,ult);yield(0,tPe.qn)(Xoe.actions.reset),yield(0,tPe.al)(e)}}function*Ilt(){yield(0,tPe.$6)([(0,tPe.rM)(plt),(0,tPe.rM)(mlt),(0,tPe.rM)(hlt),(0,tPe.rM)(glt),(0,tPe.rM)(ylt),(0,tPe.rM)(vlt),(0,tPe.rM)(flt)])}function*blt(){yield(0,tPe.$6)([(0,tPe.rM)(elt),(0,tPe.rM)(Ilt)])}var Mlt=n(50468);function*Slt({payload:e}){const{hubsSources:t,hubsStates:n,userServices:i}=e;yield(0,tPe.$6)(t.reduce(((e,t)=>{const s=n.find((e=>e.key===t.key));return s&&e.push((0,tPe.RE)(Clt,t,s,i)),e}),[]))}function*Elt({payload:e}){const{hubsSource:t,userServices:n}=e,{key:i,source:s,contentDirectoryID:r,pinnedContentDirectoryID:a,server:o,provider:l,feature:c}=t;try{if(!o||!l||!(null==c?void 0:c.key))throw new Error("Missing server, provider, or a provider feature with a key that can be used to fetch hubs");if((0,Mlt.Z)(n,c.requires)){const e={contentDirectoryID:r.join(","),pinnedContentDirectoryID:null==a?void 0:a.join(","),includeMeta:1,excludeFields:"summary"};c.type===At.zW.Promoted&&Object.assign(e,{count:Lc.HE,includeGames:1,includeRecentChannels:1,excludeContinueWatching:1});const t=yield(0,tPe.RE)(nPe.Z.get,c.key,{server:o,provider:l,params:e}),n=Yat({server:o,provider:l,contentDirectoryID:r,pinnedContentDirectoryID:a,excludedHubIdentifiers:c.type===At.zW.Promoted?[mU.ContinueWatching,mU.OnDeck]:[],data:t.data});yield(0,tPe.$6)([(0,tPe.gz)(Gn.Z.actions.added({metadataLists:n.metadataLists,metadataItemStates:n.metadataItemStates})),(0,tPe.gz)(RU.actions.fetchSucceeded({key:i,data:n.hubs}))])}else yield(0,tPe.gz)(RU.actions.fetchSucceeded({key:i,data:[]}))}catch(e){yield(0,tPe.gz)(RU.actions.fetchFailed({key:i,source:s,contentDirectoryID:r,error:nPe.Z.toPlainErrorObject(e)}))}}function*Dlt(){yield(0,tPe.gw)(6e4),yield(0,tPe.gz)(RU.actions.markStale())}function*Clt(e,t,n){var i;const{key:s,source:r,contentDirectoryID:a,pinnedContentDirectoryID:o}=e;try{const s=t.isSourceReady&&!t.isListPending&&!t.isListPopulated&&!t.isListError,r=!!t.contentDirectoryID.length&&!(0,hC.Z)(t.contentDirectoryID,a),l=!!(null==(i=t.pinnedContentDirectoryID)?void 0:i.length)&&o&&!(0,hC.Z)(t.pinnedContentDirectoryID,o);(s||r||l)&&(yield(0,tPe.gz)(RU.actions.fetchRequested({hubsSource:e,userServices:n})))}catch(e){yield(0,tPe.gz)(RU.actions.fetchFailed({key:s,source:r,contentDirectoryID:a,error:nPe.Z.toPlainErrorObject(e)}))}}function*Plt(){yield(0,tPe.ib)(RU.actions.populateAllRequested,Slt)}function*wlt(){for(;;){const e=yield lrt(RU.actions.fetchRequested,Elt,(({payload:e})=>e.hubsSource.key));yield(0,tPe.qn)(RU.actions.markStaleRequested),yield(0,tPe.al)(e)}}function*Tlt(){for(;;)yield(0,tPe.qn)(RU.actions.markStaleRequested),yield(0,tPe.S3)({task:(0,tPe.RE)(Dlt),cancel:(0,tPe.qn)(RU.actions.populateAllRequested)})}function*Zlt(){yield(0,tPe.$6)([(0,tPe.rM)(Plt),(0,tPe.rM)(wlt),(0,tPe.rM)(Tlt)])}function*Nlt({payload:e}){const{server:t,importAll:n,sectionID:i}=e;try{yield(0,tPe.RE)(nPe.Z.put,"/playlists/import/itunes",{server:t,params:{sectionID:i,force:n?1:0}}),yield(0,tPe.gz)(IE.actions.importSucceeded())}catch(e){yield(0,tPe.gz)(IE.actions.importFailed({error:nPe.Z.toPlainErrorObject(e)}))}}function*Alt(){yield(0,tPe.Fm)(IE.actions.importRequested.type,Nlt)}function*xlt(){yield(0,tPe.$6)([(0,tPe.rM)(Alt)])}var Llt=n(70762),Olt=Object.assign;const jlt="MergedRecentlyAdded";function*klt({payload:e}){var t,n;const{server:i}=e;try{const e=null==(n=null==(t=(yield(0,tPe.RE)(nPe.Z.get,":/prefs/get",{server:i,params:{id:jlt}})).data.MediaContainer.Setting)?void 0:t[0])?void 0:n.value;yield(0,tPe.gz)(_ae.actions.settingsFetchSucceeded({server:i,isMergeRecentlyAddedEnabled:e}))}catch(e){yield(0,tPe.gz)(_ae.actions.settingsFetchFailed({server:i,error:nPe.Z.toPlainErrorObject(e)}))}}function*Rlt({payload:e}){const{server:t,isMergeRecentlyAddedEnabled:n}=e;try{yield(0,tPe.RE)(nPe.Z.put,":/prefs",{server:t,params:{[jlt]:n}}),yield(0,tPe.gz)(_ae.actions.settingsUpdateSucceeded({server:t,isMergeRecentlyAddedEnabled:n})),yield(0,tPe.gz)(_ae.actions.markHubsStale())}catch(e){yield(0,tPe.gz)(_ae.actions.settingsUpdateFailed({server:t,error:nPe.Z.toPlainErrorObject(e)}))}}function*zlt(){yield(0,tPe.gz)(RU.actions.reset()),yield(0,tPe.gz)(qm.actions.reset())}function*Ult({payload:e}){const{server:t,sourceURI:n}=e;try{const e=yield(0,tPe.RE)(Hlt,t,n);yield(0,tPe.gz)(_ae.actions.hubsFetchSucceeded({sourceURI:n,options:e}))}catch(e){yield(0,tPe.gz)(_ae.actions.hubsFetchFailed({sourceURI:n,error:nPe.Z.toPlainErrorObject(e)}))}}function*Vlt({payload:e}){var t;const{server:n,sourceURI:i,options:s,fromIndex:r,toIndex:a}=e;try{const e=s[a].identifier,r=null==(t=s.find(((e,t)=>t===a-1)))?void 0:t.identifier,{key:o}=(0,Vn.Z)(i);yield(0,tPe.RE)(nPe.Z.put,C.Z.join([o,e,"move"]),{server:n,params:{after:r}}),yield(0,tPe.gz)(_ae.actions.reorderSucceeded({sourceURI:i})),yield(0,tPe.gz)(_ae.actions.markHubsStale())}catch(e){const t=Array.from(s),[n]=t.splice(a,1);t.splice(r,0,n),yield(0,tPe.gz)(_ae.actions.reorderFailed({sourceURI:i,options:t,error:nPe.Z.toPlainErrorObject(e)}))}}function*Blt({payload:e}){const{server:t,sourceURI:n}=e;try{const{key:e}=(0,Vn.Z)(n);yield(0,tPe.RE)(nPe.Z.del,e,{server:t});const i=yield(0,tPe.RE)(Hlt,t,n);yield(0,tPe.gz)(_ae.actions.resetSucceeded({sourceURI:n,options:i})),yield(0,tPe.gz)(_ae.actions.markHubsStale())}catch(e){yield(0,tPe.gz)(_ae.actions.resetFailed({sourceURI:n,error:nPe.Z.toPlainErrorObject(e)}))}}function*Flt({payload:e}){const{server:t,sourceURI:n,options:i,promoted:s}=e;try{const e=Olt(Olt({},i),s);yield(0,tPe.gz)(_ae.actions.promoteChanged({sourceURI:n,options:e}));const{key:r}=(0,Vn.Z)(n);yield(0,tPe.RE)(nPe.Z.put,C.Z.join([r,e.identifier]),{server:t,params:{promotedToRecommended:(0,Llt.Z)(e.promotedToRecommended),promotedToOwnHome:(0,Llt.Z)(e.promotedToOwnHome),promotedToSharedHome:(0,Llt.Z)(e.promotedToSharedHome)}}),yield(0,tPe.gz)(_ae.actions.markHubsStale())}catch(e){yield(0,tPe.gz)(_ae.actions.promoteChanged({sourceURI:n,options:i}))}}function*Hlt(e,t){const{key:n}=(0,Vn.Z)(t);return(yield(0,tPe.RE)(nPe.Z.get,n,{server:e})).data.MediaContainer.Hub}function*_lt(){yield(0,tPe.Fm)(_ae.actions.settingsFetchRequested,klt)}function*Qlt(){yield(0,tPe.Fm)(_ae.actions.settingsUpdateRequested,Rlt)}function*Glt(){yield(0,tPe.Fm)(_ae.actions.markHubsStale,zlt)}function*Ylt(){yield(0,tPe.Fm)([_ae.actions.hubsFetchRequested,_ae.actions.resetSucceeded],Ult)}function*Wlt(){yield(0,tPe.ib)(_ae.actions.reorderRequested,Vlt)}function*Klt(){yield(0,tPe.Fm)(_ae.actions.resetRequested,Blt)}function*qlt(){yield(0,tPe.ib)(_ae.actions.promoteRequested,Flt)}function*$lt(){yield(0,tPe.$6)([(0,tPe.rM)(_lt),(0,tPe.rM)(Qlt),(0,tPe.rM)(Glt),(0,tPe.rM)(Ylt),(0,tPe.rM)(Wlt),(0,tPe.rM)(Klt),(0,tPe.rM)(qlt)])}var Jlt=Object.assign;function Xlt(e=[]){return e.reduce(((e,t)=>(t.key===sW.ViewedAt?e["viewedAt>"]=t.value:e[t.key]=t.value,e)),{})}function*ect({payload:e}){try{const{server:t,provider:n,sort:i,filters:s,startIndex:r,size:a,isPrepend:o}=e,l=yield(0,tPe.RE)(JY.fetchRange,"/status/sessions/history/all",{server:t,provider:n,params:Jlt({sort:i},Xlt(s)),startIndex:r,size:a,isPrepend:o});yield(0,tPe.gz)(eW.actions.fetchRangeSucceeded({data:l}))}catch(e){yield(0,tPe.gz)(eW.actions.fetchRangeFailed({error:nPe.Z.toPlainErrorObject(e)}))}}function*tct(){for(;;){const e=yield(0,tPe.Fm)(eW.actions.fetchRangeRequested,ect);yield(0,tPe.qn)(eW.actions.reset),yield(0,tPe.al)(e)}}function*nct(){yield(0,tPe.$6)([(0,tPe.rM)(tct)])}var ict=Object.prototype.hasOwnProperty,sct=Object.getOwnPropertySymbols,rct=Object.prototype.propertyIsEnumerable;function act(e){return e.subtype!==ri.y_.Webshow&&e.subtype!==ri.y_.Podcast&&!ma(e)}function*oct({payload:e}){const t=yield(0,tPe.Ys)(S6);try{const n=yield(0,tPe.RE)(uct,e.server,e.provider,e.metadataKey);yield(0,tPe.RE)(pct,e.server,e.provider,n,t)}catch(e){yield(0,tPe.gz)(B9.actions.metadataItemFetchFailed({error:nPe.Z.toPlainErrorObject(e)}))}}function*lct({payload:e}){var t;try{const n=yield(0,tPe.Ys)(S6),i=null==(t=n.metadata.metadataItem)?void 0:t.key;if(!i)return;const s=yield(0,tPe.RE)(uct,e.server,e.provider,i);yield(0,tPe.RE)(pct,e.server,e.provider,s,n)}catch(e){}}function*cct({payload:e}){const{server:t,provider:n,metadataKey:i}=e,s=!t.version||(0,qh.Z)(t.version,Yh.Z.simpleRelatedKey)?C.Z.join([i,"related"]):C.Z.join([i.replace(/(\/library)?\/metadata/,"/hubs/metadata"),"related"]);try{const e=Yat({server:t,provider:n,data:(yield(0,tPe.RE)(nPe.Z.get,s,{server:t,provider:n,params:{includeAugmentations:!t.version||(0,qh.Z)(t.version,Yh.Z.augmentedHubsInRelatedHubs)?1:0,includeExternalMetadata:1,includeMeta:1}})).data});yield(0,tPe.$6)([(0,tPe.gz)(Gn.Z.actions.added({metadataLists:e.metadataLists,metadataItemStates:e.metadataItemStates})),(0,tPe.gz)(B9.actions.relatedHubsFetchSucceeded({hubs:e.hubs}))])}catch(e){yield(0,tPe.gz)(B9.actions.relatedHubsFetchFailed({error:nPe.Z.toPlainErrorObject(e)}))}}function*dct({payload:e}){const{server:t,provider:n,augmentationKey:i}=e;try{const e=Yat({server:t,provider:n,data:(yield(0,tPe.RE)(nPe.Z.get,i,{server:t,provider:n,params:{wait:1}})).data});yield(0,tPe.$6)([(0,tPe.gz)(Gn.Z.actions.added({metadataLists:e.metadataLists,metadataItemStates:e.metadataItemStates})),(0,tPe.gz)(B9.actions.augmentedHubsFetchSucceeded({hubs:e.hubs}))])}catch(e){yield(0,tPe.gz)(B9.actions.augmentedHubsFetchFailed({error:nPe.Z.toPlainErrorObject(e)}))}}function*uct(e,t,n){const i=(yield(0,tPe.RE)(nPe.Z.get,n,{server:e,provider:t,params:{includeConcerts:1,includeExtras:1,includeOnDeck:1,includePopularLeaves:1,includePreferences:1,includeReviews:1,includeChapters:1,includeStations:1,includeExternalMedia:1,asyncAugmentMetadata:1,asyncCheckFiles:1,asyncRefreshAnalysis:1,asyncRefreshLocalMediaAgent:1}})).data.MediaContainer,{Metadata:s=[]}=i,r=((e,t)=>{var n={};for(var i in e)ict.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&sct)for(var i of sct(e))t.indexOf(i)<0&&rct.call(e,i)&&(n[i]=e[i]);return n})(i,["Metadata"]),[a]=s;if(!a)throw new Error("The response did not contain a metadata item");const o=(0,iPe.Z)({server:e,provider:t,data:a,container:r}),{descendantListSourceURI:l,siblingListSourceURI:c,popularLeavesSourceURI:d,extrasSourceURI:u}=function(e){const{source:t,childrenKey:n,popularLeaves:i,extras:s}=e,r=function(e){const{skipParent:t,parentKey:n,grandparentKey:i}=e,s=t?i:n,r=t?"grandchildren":"children";if(s)return C.Z.join([s,r],{excludeAllLeaves:1})}(e),a=null==i?void 0:i.key,o=s?C.Z.join([e.key,"extras"]):void 0;return{descendantListSourceURI:n?C.Z.join([t,n]):void 0,siblingListSourceURI:act(e)&&r?C.Z.join([t,r]):void 0,popularLeavesSourceURI:a?C.Z.join([t,a]):void 0,extrasSourceURI:o?C.Z.join([t,o]):void 0}}(o.metadataItem),p={metadataItem:o.metadataItem,metadataItemStates:o.metadataItemStates,descendantListSourceURI:l,siblingListSourceURI:c,popularLeavesSourceURI:d,extrasSourceURI:u};return yield(0,tPe.gz)(B9.actions.metadataItemFetchSucceeded(p)),yield(0,tPe.gz)(ar.Z.actions.metadataItemStatesNormalized({metadataItemStates:o.metadataItemStates})),p}function*pct(e,t,n,i){var s,r;const{descendantListSourceURI:a,siblingListSourceURI:o,popularLeavesSourceURI:l,extrasSourceURI:c}=i,{metadataItem:d,descendantListSourceURI:u,siblingListSourceURI:p,popularLeavesSourceURI:m,extrasSourceURI:h}=n,g=[];u&&(u===a?yield(0,tPe.gz)((null==d?void 0:d.type)===ri.pG.Album?Gn.Z.actions.throttledFetchAllRequested({server:e,provider:t,sourceURI:u}):Gn.Z.actions.throttledRepopulateRangeRequested({server:e,provider:t,sourceURI:u})):g.push((0,tPe.RE)(mct,{server:e,provider:t,sourceURI:u,fetchAll:d.type===ri.pG.Album}))),p&&(p===o?yield(0,tPe.gz)(Gn.Z.actions.throttledFetchAllRequested({server:e,provider:t,sourceURI:p})):g.push((0,tPe.RE)(mct,{server:e,provider:t,sourceURI:p,fetchAll:!0}))),m&&(m===l?yield(0,tPe.gz)(Gn.Z.actions.throttledRepopulateRangeRequested({server:e,provider:t,sourceURI:m})):g.push((0,tPe.RE)(mct,{server:e,provider:t,sourceURI:m,items:null==(s=d.popularLeaves)?void 0:s.items}))),h&&(h===c?yield(0,tPe.gz)(Gn.Z.actions.throttledRepopulateRangeRequested({server:e,provider:t,sourceURI:h})):g.push((0,tPe.RE)(mct,{server:e,provider:t,sourceURI:h,items:d.extras,totalSize:null==(r=d.extras)?void 0:r.length}))),yield(0,tPe.$6)(g)}function*mct({server:e,provider:t,sourceURI:n,items:i=[],totalSize:s,fetchAll:r}){if(yield(0,tPe.gz)(Gn.Z.actions.added({metadataLists:[{sourceURI:n,items:i,totalSize:s,offset:0}],metadataItemStates:{}})),null==s)if(r)try{yield(0,tPe.gz)(Gn.Z.actions.fetchAllRequested({server:e,provider:t,sourceURI:n}))}catch(e){yield(0,tPe.gz)(Gn.Z.actions.fetchAllFailed({error:nPe.Z.toPlainErrorObject(e),sourceURI:n}))}else try{yield(0,tPe.gz)(Gn.Z.actions.fetchRangeRequested({server:e,provider:t,sourceURI:n,startIndex:0,size:20}))}catch(e){yield(0,tPe.gz)(Gn.Z.actions.fetchRangeFailed({error:nPe.Z.toPlainErrorObject(e),sourceURI:n}))}}function*hct(){for(;;){const e=yield(0,tPe.A7)(B9.actions.metadataItemFetchRequested,oct);yield(0,tPe.qn)(B9.actions.reset),yield(0,tPe.al)(e)}}function*gct(){for(;;){const e=yield(0,tPe.A7)(B9.actions.relatedHubsFetchRequested,cct);yield(0,tPe.qn)(B9.actions.reset),yield(0,tPe.al)(e)}}function*yct(){for(;;){const e=yield(0,tPe.A7)(B9.actions.augmentedHubsFetchRequested,dct);yield(0,tPe.qn)(B9.actions.reset),yield(0,tPe.al)(e)}}function*vct(){for(;;){const e=yield(0,tPe.A7)(B9.actions.metadataItemRepopulateRequested,lct),t=yield(0,tPe.qn)([B9.actions.reset,ar.Z.actions.playedStatusUpdateRequested,ar.Z.actions.toggleWatchlistRequested,ar.Z.actions.toggleSavedRequested,ar.Z.actions.streamSelectRequested,ar.Z.actions.streamDeleteRequested,ar.Z.actions.preferenceChanged]);t.type!==B9.actions.reset&&(yield(0,tPe.Ys)(S6)).metadata.isPending&&(yield(0,tPe.gz)(ar.Z.actions.repopulateCanceled({sourceURI:t.payload.sourceURI}))),yield(0,tPe.al)(e)}}function*fct(){yield(0,tPe.$6)([(0,tPe.rM)(hct),(0,tPe.rM)(vct),(0,tPe.rM)(gct),(0,tPe.rM)(yct)])}const Ict=on(KP.X);function*bct({payload:e}){const{password:t}=e,n=yield oPe(Ict);try{const e=yield(0,tPe.RE)(nPe.Z.post,"/api/v2/user/two_factor",{server:n},{password:t});yield(0,tPe.gz)(rze.actions.createSecretSucceeded({provisioningUri:e.data.provisioningUri,secret:e.data.secret}))}catch(e){yield(0,tPe.gz)(rze.actions.createSecretFailed({error:nPe.Z.toPlainErrorObject(e)}))}}function*Mct({payload:e}){const{enabled:t,verificationCode:n}=e,i=yield oPe(Ict);try{if(t){const e=yield(0,tPe.RE)(nPe.Z.put,"/api/v2/user/two_factor",{server:i},{verificationCode:n,resetDevices:!1});yield(0,tPe.gz)(rze.actions.toggleSucceeded({enabled:!0,codes:e.data.codes}))}else yield(0,tPe.RE)(nPe.Z.del,"/api/v2/user/two_factor",{server:i,params:{verificationCode:n}}),yield(0,tPe.gz)(rze.actions.toggleSucceeded({enabled:!1}));yield rPe((0,dE.ay)({twoFactorEnabled:t}))}catch(e){yield(0,tPe.gz)(rze.actions.toggleFailed({error:nPe.Z.toPlainErrorObject(e)}))}}function*Sct({payload:e}){const{password:t,verificationCode:n}=e,i=yield oPe(Ict);try{const e=yield(0,tPe.RE)(nPe.Z.post,"/api/v2/user/two_factor/backup_codes",{server:i},{password:t,verificationCode:n});yield(0,tPe.gz)(rze.actions.generateRecoveryCodesSucceeded({codes:e.data.codes}))}catch(e){yield(0,tPe.gz)(rze.actions.generateRecoveryCodesFailed({error:nPe.Z.toPlainErrorObject(e)}))}}function*Ect(){for(;;){const e=yield(0,tPe.Fm)(rze.actions.createSecretRequested,bct);yield(0,tPe.qn)(rze.actions.reset),yield(0,tPe.al)(e)}}function*Dct(){for(;;){const e=yield(0,tPe.Fm)(rze.actions.toggleRequested,Mct);yield(0,tPe.qn)(rze.actions.reset),yield(0,tPe.al)(e)}}function*Cct(){for(;;){const e=yield(0,tPe.Fm)(rze.actions.generateRecoveryCodesRequested,Sct);yield(0,tPe.qn)(rze.actions.reset),yield(0,tPe.al)(e)}}function*Pct(){yield(0,tPe.$6)([(0,tPe.rM)(Ect),(0,tPe.rM)(Dct),(0,tPe.rM)(Cct)])}function*wct(){yield(0,tPe.$6)([(0,tPe.rM)(yat),(0,tPe.rM)(Cat),(0,tPe.rM)(zat),(0,tPe.rM)(rot),(0,tPe.rM)(Cot),(0,tPe.rM)(blt),(0,tPe.rM)(Zlt),(0,tPe.rM)(xlt),(0,tPe.rM)($lt),(0,tPe.rM)(nct),(0,tPe.rM)(fct),(0,tPe.rM)(Pct),(0,tPe.rM)(vPe)])}const Tct=(0,ort.ZP)(),Zct=(0,Fr.xC)({reducer:(e,t)=>(t.type===F6e.type&&(e=void 0),B6e(e,t)),middleware:[Tct]});Tct.run((function*(){yield(0,tPe.$6)([(0,tPe.rM)(mat),(0,tPe.rM)(wct)])}));const Nct=Zct,Act=wD.Z.extend({name:"StoreModel",initialize(){this._currentState=Nct.getState(),Nct.subscribe((()=>{const e=Nct.getState();this.trigger("statechange",this,e,this._currentState),this._currentState=e}))},getState:()=>Nct.getState(),toJSON:()=>Nct.getState(),dispatch(e){Nct.dispatch(e)}}),xct=wit.extend({name:"DesktopAppModel",sessionAttrs:{clientID:bD.Z.string,anonymousClientID:bD.Z.string,authorized:bD.Z.boolean.isRequired,skipSignIn:bD.Z.boolean.isRequired,isWaitingForServers:bD.Z.boolean.isRequired,isWaitingForPrimaryServer:bD.Z.boolean.isRequired,history:bD.Z.array.isRequired,drmType:bD.Z.oneOf(...Object.values(eQe)),isFullscreen:bD.Z.boolean.isRequired,isUpdateAvailable:bD.Z.boolean.isRequired,castApiAvailability:NPe.isRequired,settings:bD.Z.instanceOf(t8e)},sessionRelations:{entities:{relationClass:function(e){const t={};for(const n in e)t[e[n]]={relationClass:Oit};return wD.Z.extend({name:"EntitiesModel",sessionRelations:t})}(r)},servers:{relationClass:Ait},cloudServer:{relationClass:Tit.Z,deferred:!0},primaryServer:{relationClass:GB.ZP,deferred:!0},companionServer:{relationClass:GB.ZP,deferred:!0},transientServer:{relationClass:$et,deferred:!0},user:{relationClass:art,deferred:!0},remotePlayer:{relationClass:wD.Z,deferred:!0},deviceSettings:{relationClass:x9e},ui:{relationClass:zst},v4:{relationClass:Act}},defaults(){const e=new Tit.Z({machineIdentifier:KP.X},{parent:this});return{authorized:!1,skipSignIn:!1,isWaitingForServers:!1,isWaitingForPrimaryServer:!1,isUpdateAvailable:!1,history:[],cloudServer:e,user:new art({},{server:e,parent:this}),isFullscreen:!1,castApiAvailability:1,settings:new t8e}},dispatch(e){this.get("v4").dispatch(e)}}),Lct=wD.Z.extend({name:"OauthProviderUsageModel",syncedAttrs:{federatedAuth:bD.Z.boolean,other:bD.Z.boolean}}),Oct=wD.Z.extend({name:"OauthProviderModel",rootPropertyName:"provider",sessionAttrs:{isUnlinking:bD.Z.boolean.isRequired,unlinkError:bD.Z.object},syncedAttrs:{authName:bD.Z.string,image:bD.Z.string,label:bD.Z.string.isRequired,linked:bD.Z.boolean.isRequired,nickname:bD.Z.string,url:bD.Z.string.isRequired},syncedRelations:{usage:{relationClass:Lct}},defaults:{isUnlinking:!1}}),jct=_S.Z.extend({name:"OauthProviderCollection",model:Oct,context:["server"],url:"/api/v2/authentications/providers",responseType:bA.AV}),kct=wD.Z.extend({name:"CloudServerFlexModel",context:["server"],sessionAttrs:{isOauthProvidersPending:bD.Z.boolean,isOauthProvidersPopulated:bD.Z.boolean,oauthProvidersError:bD.Z.object},sessionRelations:{oauthProviders:{relationClass:jct}},defaults:{isOauthProvidersPending:!1,isOauthProvidersPopulated:!1,oauthProvidersError:null}}),Rct=wD.Z.extend({name:"PlexPlayerModel",context:["server","baseURL"],rootPropertyName:"Server",sessionAttrs:{volume:bD.Z.integer},syncedAttrs:{machineIdentifier:bD.Z.string,name:bD.Z.string,title:bD.Z.string,address:bD.Z.string,port:bD.Z.string,deviceClass:bD.Z.string,version:bD.Z.string,product:bD.Z.string,protocol:bD.Z.string,protocolVersion:bD.Z.string,protocolCapabilities:bD.Z.list},derivedAttrs:{friendlyName(){return this.get("title")||this.get("name")||this.get("product")},playerIdentifier(){return`${this.baseURL}:${this.get("machineIdentifier")}`}},defaults:{volume:100}}),zct=_S.Z.extend({name:"PlexPlayerCollection",context:["server"],model:Rct,url:"/clients",augmentResponse(e){const t=(0,M.DB)("appModel").get("clientID"),n=parseInt(e.size,10);return 1===n&&e.Server.machineIdentifier===t?(delete e.Server,e.size="0"):n>1&&(e.Server=e.Server.filter((e=>e.machineIdentifier!==t)),e.size=e.Server.length.toString()),e}}),Uct=wD.Z.extend({name:"ActivityModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Activity",responseType(){return(0,Oet.Z)(this.server)},sessionAttrs:{synthetic:bD.Z.boolean},syncedAttrs:{uuid:bD.Z.string,userID:bD.Z.integer,title:bD.Z.string,subtitle:bD.Z.string,progress:bD.Z.integer,event:bD.Z.string,cancellable:bD.Z.boolean,type:bD.Z.string,Context:bD.Z.object,Response:bD.Z.object},defaults:()=>({Context:{},Response:{}})}),Vct=_S.Z.extend({name:"ActivityCollection",context:["server"],model:Uct,url:"/activities",responseType(){return(0,Oet.Z)(this.server)}}),Bct=pne.Z.extend({pageSize:10,pages:function(){return Math.max(Math.ceil(this.length/this.pageSize),1)},page:function(e,t){t||(t={});let n,i=0;return n=t.reverse?this.length-e*this.pageSize:e*this.pageSize-this.pageSize,n<0&&(i=n,n=0),this.models.slice(n,n+this.pageSize+i)}});let Fct=0;const Hct=ane.Z.extend({idAttribute:"id",parse:function(e){const t=e;return t.time=new Date,t.id="evt"+Fct++,"preference"===t._type&&(t.value=String(t.value)),t}}),_ct=Bct.extend({model:Hct,url:"/servers",pageSize:20,limit:1e3,initialize:function(){this.startTime=new Date,this.listenTo(this.server,"socket:setting",this.onSettingChange),this.listenTo(this.server,"socket:timeline",this.onTimeline),this.listenTo(this.server,"socket:status",this.onStatus),this.listenTo(this.server,"socket:playing",this.onPlaying),this.listenTo(this.server,"socket:websocket",this.onWebSocket)},add:function(e){this.length+1>this.limit&&this.remove(this.at(0)),Bct.prototype.add.apply(this,arguments)},onSettingChange:function(e){e.label&&this.add(E().extend({_type:"setting"},e),{parse:!0})},onTimeline:function(e){1===e.state||e.sectionID<0||this.add(E().extend({_type:"timeline"},e),{parse:!0})},onStatus:function(e){"ProgressNotification"!==e._elementType&&this.add(E().extend({_type:"status"},e),{parse:!0})},onPlaying:function(e){this.add(E().extend({_type:"playing"},e),{parse:!0})},onWebSocket:function(e){this.add(E().extend({_type:"websocket"},e),{parse:!0})}}),Qct=wD.Z.extend({name:"TranscodeJobModel",context:["server"],entityType:Vt.PC,entityID(e=this.state){return(0,kt.Z)(this.entityType,e.syncItemId,this.server.entityID())},idAttribute:"syncItemId",rootPropertyName:"TranscodeJob",syncedAttrs:{syncItemId:bD.Z.integer,syncItemTitle:bD.Z.string,key:bD.Z.string,type:bD.Z.string,progress:bD.Z.float,speed:bD.Z.float,remaining:bD.Z.string,size:bD.Z.string,title:bD.Z.string,thumb:bD.Z.string},responseType(){return(0,Oet.Z)(this.server)}}),Gct=_S.Z.extend({name:"TranscodeJobCollection",context:["server"],model:Qct,cache:new PD.Z,url:"/sync/transcodeQueue"}),Yct=wD.Z.extend({name:"BackgroundTranscodeJobModel",context:["server"],entityType:Xre,entityID(e=this.state){return(0,kt.Z)(this.entityType,e.key,this.server.entityID())},idAttribute:"key",rootPropertyName:"TranscodeJob",syncedAttrs:{queueItemID:bD.Z.integer,generatorID:bD.Z.integer,targetTagID:bD.Z.integer,syncItemId:bD.Z.integer,syncItemTitle:bD.Z.string,key:bD.Z.string,type:bD.Z.string,progress:bD.Z.float,speed:bD.Z.float,remaining:bD.Z.integer,size:bD.Z.integer,ratingKey:bD.Z.string,title:bD.Z.string,thumb:bD.Z.string}}),Wct=_S.Z.extend({name:"BackgroundTranscodeJobCollection",model:Yct,context:["server"],url:"/status/sessions/background"}),Kct=wD.Z.extend({name:"NeighborhoodDeviceModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Device",syncedAttrs:{uuid:bD.Z.string.isRequired,address:bD.Z.string.isRequired,title:bD.Z.string,manufacturer:bD.Z.string,model:bD.Z.string,modelNumber:bD.Z.string,serialNumber:bD.Z.string}}),qct=_S.Z.extend({name:"NeighborhoodDeviceCollection",context:["server"],model:Kct,url:"neighborhood/devices"}),$ct=wD.Z.extend({name:"ServerFlexModel",context:["server"],sessionAttrs:{alerts:bD.Z.instanceOf(_ct).isRequired,hasiTunes:bD.Z.boolean,isHasiTunesPopulated:bD.Z.boolean,isSettingsPending:bD.Z.boolean,isSettingsPopulated:bD.Z.boolean,settingsError:bD.Z.object,isLibrariesPending:bD.Z.boolean.isRequired,isLibrariesPopulated:bD.Z.boolean.isRequired,librariesError:bD.Z.object,cleanBundlesError:bD.Z.string,optimizeDatabaseError:bD.Z.string},sessionRelations:{settings:{relationClass:cne.Z,rootPropertyName:"Setting"},cloudAccount:{relationClass:Bge},libraries:{relationClass:pSe.Z},activities:{relationClass:Vct},transcodeJobs:{relationClass:Gct},backgroundTranscodeJobs:{relationClass:Wct},players:{relationClass:zct},neighborhoodDevices:{relationClass:qct},update:{relationClass:Iit}},defaults(){return{alerts:new _ct([],{server:this.server}),hasiTunes:!1,isHasiTunesPopulated:!1,isSettingsPending:!0,isSettingsPopulated:!1,settingsError:null,isLibrariesPending:!0,isLibrariesPopulated:!1,librariesError:null,cleanBundlesError:null,optimizeDatabaseError:null}}});var Jct=Object.assign;const Xct=A9e.Z.extend({name:"StoredUserExperienceSettingsModel",syncedAttrs:Jct(Jct({},_9e.prototype.syncedAttrs),{isDirty:bD.Z.boolean}),syncedRelations:Jct({},_9e.prototype.syncedRelations)}),edt=_S.Z.extend({name:"CloudPlayerCollection",context:["server","baseURL"],model:Rct,augmentResponse:e=>(e.Server||(e.Server=e.Player,delete e.Player),e)}),tdt=wD.Z.extend({name:"CloudCompanionModel",context:["server"],idAttribute:"identifier",rootPropertyName:"Companion",syncedAttrs:{identifier:bD.Z.string,title:bD.Z.string,baseURL:bD.Z.string,linkURL:bD.Z.string,provides:bD.Z.list},sessionAttrs:{linkState:bD.Z.string},sessionRelations:{cloudPlayers:{relationClass:edt,options(){return{url:`${this.get("baseURL")}/resources`,baseURL:this.get("baseURL")}}}},defaults:{linkState:QP}}),ndt=_S.Z.extend({name:"CloudCompanionCollection",context:["server"],model:tdt,url:"/api/v2/companions",responseType:bA.AV,augmentResponse(e){const t=e,n=(0,M.DB)("appModel"),i=(n&&n.get("deviceSettings")).get("sonosCustomBaseURL");if(i&&t&&t.length){const e=t.find((({identifier:e})=>"tv.plex.sonos"===e));e&&t.push({identifier:"tv.plex.sonos-custom",title:"Sonos (Custom)",baseURL:i,linkURL:C.Z.join([i,"link"]),provides:e.provides,token:e.token})}return e}}),idt=wD.Z.extend({name:"AnnouncementModel",context:["server"],rootPropertyName:"Announcement",syncedAttrs:{id:bD.Z.integer,title:bD.Z.string,content:bD.Z.string,imageUrl:bD.Z.string,style:bD.Z.string,url:bD.Z.string,expireAt:bD.Z.string,notifyAt:bD.Z.string,read:{type:bD.Z.boolean,save:!0}},markAsRead(){this.get("read")||this.save("read",!0)}}),sdt=_S.Z.extend({name:"AnnouncementCollection",model:idt,context:["server"],url:"api/announcements"}),rdt=_S.Z.extend({name:"SyncItemCollection",context:["server","device"],model:Vne}),adt="active",odt="snoozed",ldt="dead",cdt={ACTIVE:adt,SNOOZED:odt,DEAD:ldt},ddt=wD.Z.extend({name:"SyncListModel",context:["server","device"],url(){return this.device?`/devices/${this.device.get("clientIdentifier")}/sync_items`:`/servers/${this.server.id}/sync_lists`},syncedAttrs:{status:bD.Z.oneOf(adt,odt,ldt),clientIdentifier:bD.Z.string,version:bD.Z.integer,itemsCompleteCount:bD.Z.integer,totalSize:bD.Z.integer},syncedRelations:{syncItems:{relationClass:rdt,rootPropertyName:"SyncItems"}},derivedAttrs:{isActive(){return this.get("status")===adt}},augmentResponse:e=>(e.SyncItems&&(e.SyncItems=e.SyncItems.SyncItem),e),sync(e,t,n){const i=Une.Z.addVersionHeaderForDevice(this.get("device"),n);return wD.Z.prototype.sync.call(this,e,t,i)},getCollection(){return this.get("syncItems")},resetToServer(e){const t=this.getCollection(),n=t.filter((function(t){const n=t.get("Server");return n&&n.machineIdentifier===e}));t.reset(t.clone(n).models)}},{statuses:cdt}),udt=wD.Z.extend({name:"DeviceModel",context:["server"],rootPropertyName:"Device",url(){return"/devices/"+this.id+".xml"},syncedAttrs:{id:bD.Z.string,clientIdentifier:bD.Z.string,name:bD.Z.string,product:bD.Z.string,productVersion:bD.Z.string,platform:bD.Z.string,platformVersion:bD.Z.string,device:bD.Z.string,model:bD.Z.string,provides:bD.Z.list,screenResolution:bD.Z.string,screenDensity:bD.Z.string,lastSeenAt:bD.Z.integer},syncedRelations:{syncList:{relationClass:ddt,rootPropertyName:"SyncList",deferred:!0,options(){return{device:this}}}},supports(e){return-1!==this.get("provides").indexOf(e)}}),pdt=_S.Z.extend({name:"DeviceCollection",context:["server"],model:udt,url:"/devices.xml",filterSyncDevices(e){const t=!!e&&e.get("isPlaylist"),n=this.filter((e=>{const n=e.get("syncList"),i=n&&n.get("version")>=2,s=t&&!i;return e.supports("sync-target")&&!s}));return this.clone(n)},filterByProducts(e){const t=this.filter((t=>E().contains(e,t.get("product"))));return this.clone(t)},filterByPlatforms(e){const t=this.filter((t=>E().contains(e,t.get("platform"))));return this.clone(t)},products(){const e=this.map((e=>e.get("product")));return E().uniq(e)}}),mdt=_S.Z.extend({name:"HomeUserCollection2",context:["server"],model:nEe.Z,url:"/api/home/users",parse(e){return this.convert(e,"User")}});var hdt=n(12152),gdt=n.n(hdt);const ydt=wD.Z.extend({name:"InviteModel",context:["server"],rootPropertyName:"Invite",sessionAttrs:{isAccepting:bD.Z.boolean,isRemoving:bD.Z.boolean},syncedAttrs:{id:{type:bD.Z.string,save:!0},friend:bD.Z.boolean,home:bD.Z.boolean,server:bD.Z.boolean,friendlyName:bD.Z.string,username:bD.Z.string,email:bD.Z.string,thumb:bD.Z.string,createdAt:bD.Z.integer,Server:bD.Z.array},urlRoot:"/api/invites/requests",url(){let e;if(this.isNew())e=E().result(this,"urlRoot");else{const t=this.pick("friend","server","home");E().each(E().keys(t),(function(e){t[e]=t[e]?"1":"0"})),e=this.collection?E().result(this.collection,"url"):E().result(this,"urlRoot"),e=e.replace(/([^/])$/,"$1/")+encodeURIComponent(this.get("id")),e=C.Z.join(e,t)}return e},augmentResponse:e=>e.Server?((Array.isArray(e.Server)?e.Server:[e.Server]).forEach((e=>{e.numLibraries=(0,DPe.Z)(e.numLibraries)})),e):e,defaults:{isAccepting:!1,isRemoving:!1}}),vdt=_S.Z.extend({name:"InviteCollection",context:["server","subset"],model:ydt,url(){return"/api/invites/"+this.subset},initialize(e,t){t||(t={}),this.subset=t.subset||"requests"},filterByHome(){const e=new(gdt())(this);return e.filterBy((e=>e.get("home"))),e},filterByFriends(){const e=new(gdt())(this);return e.filterBy((e=>!e.get("home"))),e}}),fdt=ane.Z.extend({idAttribute:"key",whitelistedAttrs:["key","title","linked","maxLength"],convert:function(e){var t=E().isObject(e)?e:one.Z.parseXML(e);return one.Z.parseBoolean(t,["linked","maxLength"]),t},parse:function(e){var t=this.convert(e);return E().pick(t,this.whitelistedAttrs)}}),Idt=pne.Z.extend({model:fdt,url:"/pms/social/networks",parse:function(e){return this.convert(e,"Directory")}}),bdt=wD.Z.extend({name:"SubscriptionPlanModel",context:["server"],rootPropertyName:"plan",syncedAttrs:{id:bD.Z.string,name:bD.Z.string,price:bD.Z.float,formattedPrice:bD.Z.string,currency:bD.Z.string}}),Mdt=_S.Z.extend({name:"SubscriptionPlanCollection",context:["server"],model:bdt,url:"/api/subscriptions/plans"}),Sdt=wD.Z.extend({name:"WebhookModel",syncedAttrs:{url:bD.Z.string},defaults:{url:""}}),Edt=_S.Z.extend({name:"WebhookCollection",context:["server"],model:Sdt,url:"/api/v2/user/webhooks",responseType:bA.AV}),Ddt=wD.Z.extend({name:"UserFlexModel",context:["server"],sessionAttrs:{isHomeUsersPending:bD.Z.boolean.isRequired,isHomeUsersPopulated:bD.Z.boolean.isRequired,homeUsersError:bD.Z.object,socialNetworks:bD.Z.instanceOf(Idt).isRequired,isPlansPending:bD.Z.boolean.isRequired,isPlansPopulated:bD.Z.boolean.isRequired,plansError:bD.Z.object,isUpdatingUser:bD.Z.boolean.isRequired,updateUserError:bD.Z.object,isHomeDetailsPending:bD.Z.boolean,isHomeDetailsPopulated:bD.Z.boolean,homeDetailsError:bD.Z.object,isInvitesPending:bD.Z.boolean,isInvitesPopulated:bD.Z.boolean,invitesError:bD.Z.object,isSentInvitesPending:bD.Z.boolean,isSentInvitesPopulated:bD.Z.boolean,sentInvitesError:bD.Z.object,isWebhooksPending:bD.Z.boolean,isWebhooksPopulated:bD.Z.boolean,webhooksError:bD.Z.object,isUpdatingWebhooks:bD.Z.boolean,isRemovingWebhooks:bD.Z.boolean,updateWebhooksError:bD.Z.object},sessionRelations:{homeUsers:{relationClass:mdt},devices:{relationClass:pdt},cloudCompanions:{relationClass:ndt},announcements:{relationClass:sdt},homeDetails:{relationClass:Gst},invites:{relationClass:vdt},sentInvites:{relationClass:vdt,options:{subset:"requested"}},plans:{relationClass:Mdt},webhooks:{relationClass:Edt}},defaults(){const e={server:this.server,parent:this};return{isHomeUsersPending:!1,isHomeUsersPopulated:!1,homeUsersError:null,socialNetworks:new Idt([],e),isPlansPending:!0,isPlansPopulated:!1,plansError:null,isUpdatingUser:!1,updateUserError:null,isHomeDetailsPending:!1,isHomeDetailsPopulated:!1,homeDetailsError:null,isInvitesPending:!1,isInvitesPopulated:!1,invitesError:null,isSentInvitesPending:!1,isSentInvitesPopulated:!1,sentInvitesError:null,isWebhooksPending:!1,isWebhooksPopulated:!1,webhooksError:null,isUpdatingWebhooks:!1,isRemovingWebhooks:!1,updateWebhooksError:null}}});const Cdt="provider/providerIntegrations/initProviderIntegrations",Pdt="provider/providerIntegrations/fetchProviderIntegrations",wdt="provider/providerIntegrations/pollProviderIntegrations",Tdt="provider/providerIntegrations/integrationsOnboardingComplete",Zdt="provider/providerIntegrations/createLocastAccount",Ndt=((0,No.Z)(Cdt),(0,No.Z)(Pdt)),Adt=(0,No.Z)(wdt);function xdt(e){return e.get("ui").get("providerIntegrations")}(0,No.Z)(Tdt),(0,No.Z)(Zdt);const Ldt={[Cdt](e,t,n){xdt(e).set({isIntegrationsOnboarding:!1,isIntegrationsPending:!1,isIntegrationsPopulated:!1,integrationsError:null,integrations:new Rit([],{server:(0,JM.SW)(e,t),provider:(0,JM.js)(e,t)})}),n(Ndt())},[Pdt]:(0,qM.Z)({key:"integrations",getModel:xdt}),[wdt](e,t,n){xdt(e).set("isIntegrationsOnboarding",!0),window.setTimeout((()=>{(0,Rt.c9)((()=>{n(Ndt())}))}),3e3)},[Tdt](e){xdt(e).set("isIntegrationsOnboarding",!1)},[Zdt](e,t,n){xdt(e).set("isIntegrationsOnboarding",!0),function(){const e=g().Deferred();return window.setTimeout((()=>{e.resolve()}),3e3),e}().then((()=>{n(Adt())}))}};var Odt=n(44693),jdt=n(92857),kdt=n(84656),Rdt=n(87048),zdt=Object.assign;function Udt(e){return e.get("ui").get("dvrSettingsUI").get("dvrSetup")}function Vdt(e){return Udt(e).get("epgSettings")}function Bdt(e,t,n={}){const i=Udt(e),s=Vdt(e),r=s.get(t);return r.abortPendingPopulate(),i.get("setupErrorMessages").remove("programGuideSettings"),s.set("isFetching",!0),r.fetch(n).done((()=>{s.set({isFetching:!1,isPopulated:!0})})).fail((()=>{s.set({isFetching:!1,isPopulated:!1}),i.get("setupErrorMessages").add({id:"programGuideSettings",message:(0,De.Z)("Unable to fetch Guide settings")})}))}const Fdt=(0,HS.Z)({[rj.Mo](e){Vdt(e).restoreDefaults()},[rj.Xx](e,t,n){const i=function(e,{serverEntityID:t}){return(0,Rdt.Z)(e,Vt.cN,t)}(e,t);Bdt(e,"countries").done((()=>{const e=i.get("countryCode");e&&n(wce(zdt(zdt({},t),{countryCode:e})))}))},[rj.W](e,t,n){const i=Vdt(e);Bdt(e,"languages").done((()=>{const e=i.get("selectedCountry");e&&n(Tce(zdt(zdt({},t),{languageCode:e.get("language")})))}))},[rj.ei](e,t,n){const i=Vdt(e),s=i.get("countries").get(t.countryCode);if(i.set({selectedCountry:s,postalCode:""}),i.get("regions").reset(),i.get("lineupGroup").get("lineups").reset(),s){const r=s.get("flavor"),a=C.Z.join([i.get("baseUrl"),s.get("key")]);n(Pce(zdt(zdt({},t),{languageCode:s.get("language")}))),0===r?Bdt(e,"regions",{url:a}):2===r&&(i.set("postalCode",s.get("example")),n(Ace(t)))}},[rj.$F](e,t){const n=Vdt(e),i=n.get("languages").get(t.languageCode);n.set("selectedLanguage",i)},[rj.SJ](e,t,n){const i=Vdt(e),s=i.get("regions").get(t.regionKey);i.set("selectedRegion",s),i.get("lineupGroup").get("lineups").reset(),s&&n(Ace(t))},[rj.Hj](e,t){const n=Vdt(e),i=t.postalCode;n.set("postalCode",i),n.get("lineupGroup").get("lineups").reset()},[rj.w](e){const t=Vdt(e),n=t.get("selectedCountry"),i=[t.get("baseUrl"),n.get("key")],s={};0===n.get("flavor")?i.push(t.get("selectedRegion").get("key")):s.postalCode=t.get("postalCode"),Bdt(e,"lineupGroup",{url:C.Z.join(i,s)})}});var Hdt=Object.assign;const _dt="library/startLibraryRefresh",Qdt="library/editLibrary",Gdt="library/analyzeLibrary",Ydt="library/emptyTrashLibrary",Wdt="library/deleteLibrary";function Kdt(e,t,n){(0,M.DB)("metrics").trackClick({page:n,action:e,type:t.get("type"),context:pS.LIBRARY})}(0,No.Z)(_dt),(0,No.Z)(Qdt),(0,No.Z)(Gdt),(0,No.Z)(Ydt),(0,No.Z)(Wdt),(0,No.Z)(_dt,(e=>Hdt(Hdt({},e),{force:!0}))),(0,No.Z)(_dt,(e=>Hdt(Hdt({},e),{cancel:!0})));const qdt={[_dt](e,t,n){const{cancel:i,force:s,metricsPage:r}=t,a=(0,WS.SW)(e,t),o=(0,WS.en)(e,t),l={libraryID:o.id,libraryType:o.get("type"),cancel:i,force:s,allowMetrics:!!r,metricsProperties:{page:r}};o.set("refreshing",!i),(0,yS.Z)(a,l).fail((e=>{if(503===e.status)ee.Z.trigger("show:modal",new H5e.Z({model:a}));else{const e=t.cancel?(0,De.Z)("There was a problem canceling the update."):(0,De.Z)("There was a problem updating the library.");n((0,dS.wp)(e))}})).always((e=>{n(cS.tU({serverEntityID:t.serverEntityID}))}))},[Qdt](e,t){const n=(0,WS.SW)(e,t),i=(0,WS.en)(e,t);ee.Z.trigger("show:modal",new vS.Z({server:n,model:i})),Kdt(rr.Yf,i,t.metricsPage)},[Gdt](e,t,n){const i=(0,WS.SW)(e,t),s=(0,WS.en)(e,t),r=i.getXHROptions(`/library/sections/${s.id}/analyze`,{type:"PUT"});g().ajax(r).fail((e=>{n((0,dS.wp)((0,De.Z)("There was a problem analyzing the library.")))})),Kdt(rr.JM,s,t.metricsPage)},[Ydt](e,t,n){const i=(0,WS.SW)(e,t),s=(0,WS.en)(e,t),r=i.getXHROptions(`/library/sections/${s.id}/emptyTrash`,{type:"PUT"});g().ajax(r).done((()=>{n((0,dS.wp)({type:uS.M,message:(0,De.Z)("The trash was emptied.")}))})).fail((e=>{n((0,dS.wp)((0,De.Z)("There was a problem emptying the trash.")))})),Kdt(rr.yZ,s,t.metricsPage)},[Wdt](e,t,n){const i=(0,WS.SW)(e,t),s=(0,WS.en)(e,t);if(s.isNew())return void s.destroy();const r=C.Z.join(s.url(),{async:1}),a=i.getXHROptions(r,{type:"DELETE"});n(cS.ET({serverEntityID:t.serverEntityID,activityType:Oa.y0})),g().ajax(a).fail((()=>{n(cS.n7({serverEntityID:t.serverEntityID,activityType:Oa.y0})),n((0,dS.wp)((0,De.Z)("There was a problem deleting the library.")))})),Kdt(rr.b1,s,t.metricsPage)}};function $dt(e){return e.get("ui").get("background")}const Jdt=(0,HS.Z)({[rj.Op](e,t){const{serverEntityID:n,providerEntityID:i,imageUrl:s,allowBlur:r=!0,allowLightPreset:a=!1}=t,o=$dt(e),l=n?(0,WS.SW)(e,t):void 0,c=i?(0,WS.js)(e,t):void 0;o.set({server:l,provider:c,imageUrl:s,allowLightPreset:a,allowBlur:r,isBackgroundPending:!1})},[rj.tL](e,t){const{serverEntityID:n,theme:i}=t,s=$dt(e),r=n?(0,WS.SW)(e,t):void 0,a=r&&i?r.resolveUrl(i,{appendHeaders:!0}):void 0;s.set("themeMusicUrl",a)},[rj.k4](e){$dt(e).restoreDefaults({isBackgroundPending:!0})}});var Xdt=n(99051);const eut={[ett]:att[ett],[ttt]:att[ttt],[ntt](e,t){const n=(0,JM.SW)(e,t),i=(0,JM.js)(e,t);let s;if(n.get("isTransient"))s=`#!/transient/provider/${encodeURIComponent(i.get("identifier"))}/details?key=${encodeURIComponent(t.key)}`;else{const e={machineIdentifier:n.get("machineIdentifier")},r={identifier:i.get("identifier"),isLibraryProvider:i.get("isLibraryProvider")};s=(0,ui.Z)(e,r,t.key)}/\/transient\//.test(window.location.hash)?window.location.replace(s):window.location.hash=s}};var tut=n(86526),nut=n(7165);var iut=Object.assign;const sut={[it.$y]:it.gv[it.$y],[it.xd]:it.gv[it.xd],[it.bj]:it.gv[it.bj],[it.e4]:it.gv[it.e4],[it.tf]:it.gv[it.tf],[it.Rt]:it.gv[it.Rt],[it.Si]:it.gv[it.Si],[it.yt]:it.gv[it.yt],[it.N9]:it.gv[it.N9],[it.Bw]:it.gv[it.Bw],[it.EJ](e,t,n){const i=(0,tut.Z)(e,t),s=(0,znt.Z)(i),r=t.playerType||Se.f_(s),a=(0,JP.F_)(e,r),o=(0,JM.js)(e,t),l=(0,JM.SW)(e,t),c=(0,JM.$R)(e,t),d=e.get("user").get("experienceSettings"),u=(0,ga.Z)(o.get("identifier"),o.get("providerIdentifier")),p=e.get("remotePlayer"),m=p&&!(0,$P.Z)({protocol:p.get("protocol"),protocolCapabilities:p.get("protocolCapabilities"),providerIdentifier:u,userFeaturesByUUID:(0,BP.Z)(e),isWatchTogether:!!t.syncplaySessionRoomID,playQueueType:s}),h=e.get("user"),g=r===Se.eD&&(y=h.get("features").toJSON(),v=h.get("services").toJSON(),function(e,t){if(!t)return!0;const n=e.find((e=>e.type===t));return(null==n?void 0:n.state)===Xe.GB.Active||(null==n?void 0:n.state)===Xe.GB.PendingCancellation}(h.get("subscriptions").toJSON(),Xe.A5.Arcade)?(0,Mlt.Z)(v,"parsec")?/\bChrome\b/.test(window.navigator.userAgent)||Object.values(window.navigator.plugins).some((e=>/\bChromium\b/.test(e.name)))?y.find((({uuid:e})=>e===be.ZM))?void 0:(0,De.Z)("Sorry, game playback is unavailable."):(0,De.Z)("Please use a Chromium-based browser for game playback."):(0,De.Z)("Please link your Plex and Parsec accounts then try again."):(0,De.Z)("An active Plex Arcade subscription is required for game playback."));var y,v;let f,I;if(m?f=(0,De.Z)("This content is not currently supported when connected to this remote player."):g&&(f=g),f)return void(0,Rt.c9)((()=>{a.set({hasError:!0,errorMessage:f})}));I=a.get("isOpen")?a.get("openState"):s===$s.j0?YP.y:YP.K,(0,nut.Z)()&&pa.wB(u,[pa.uk])&&(I=YP.K);let b=!1;s===$s.pV&&t.metadataItemEntityID&&(b=c.get("type")===Ho.PHOTO);let S=t.metricsProperties||{};(function(e){const t=(0,M.DB)("appModel").get("embeddedServer");return!!e&&!!t&&e.get("machineIdentifier")===t.get("machineIdentifier")})(l)&&(S=iut(iut({},S),{origin:"sync"})),S.identifier||(S.identifier=o.get("metricsIdentifier")),it.gv[it.EJ](e,iut(iut({extrasPrefixCount:d.get("extrasPrefixCount"),openState:I,isPaused:b},t),{metricsProperties:S}),n)},[it.l5](e,t,n){it.gv[it.l5](e,iut({openState:YP.y},t),n)},[it.qG](e,t,n){const i=(0,JP.F_)(e,t.playerType),s=i.get("serverEntityID"),r=i.get("providerEntityID"),a=(0,JM.SW)(e,{serverEntityID:s}),o=(0,JM.js)(e,{providerEntityID:r});it.gv[it.qG](e,t,n),a&&o&&n(Gm.actions.ended({source:(0,jt.Z)({serverIdentifier:a.get("machineIdentifier"),providerIdentifier:o.get("identifier")})}))}};var rut=n(58042),aut=n(73054);function out(e){return e.get("ui").get("playlistPage")}const lut=(0,HS.Z)({[rj.KG](e,t){const n=out(e),i=(0,WS.SW)(e,t),s=(0,JM.js)(e,t),{serverEntityID:r,providerEntityID:a,metadataKey:o}=t;if(r===n.get("serverEntityID")&&a===n.get("providerEntityID")&&o===n.get("metadataKey"))return;const l=new KM.Z({key:o,type:Ho.PLAYLIST},{server:i,provider:s});n.restoreDefaults({serverEntityID:r,providerEntityID:a,metadataKey:o,playlist:l})},[rj.Yx](e,t){const n=out(e),i=(0,WS.SW)(e,t),s=(0,JM.js)(e,t),r=n.get("playlist"),{serverEntityID:a,metadataKey:o}=t;if(a===n.get("serverEntityID")&&o===n.get("metadataKey")&&n.get("playlistItemList"))return;const l=(0,iK.Z)(e,be.Ao),c=r.get("childrenKey"),d=new Cst.Z({containerKey:c},{server:i,provider:s,includeExternalMedia:l});n.set({playlistItemList:d})},[rj.zx](e,t){const n=out(e),i=n.get("playlistItemList");i&&(i.restoreDefaults(),n.unset("playlistItemList"))},[rj.PL]:(0,qM.Z)({key:"playlist",getModel:out}),[rj.yc]:(0,rut.Z)({key:"playlistItemList",getModel:out}),[rj.pQ]:(0,aut.Z)({key:"playlistItemList",getModel:out}),[rj.N2](e,t,n){const{id:i,type:s,isRangeSelect:r=!1}=t,a=(0,WS.Tp)(e,{playlistItemEntityID:i}),o=out(e).get("playlistItemList").getCollection();a&&n((0,eh.Gh)({type:s,model:a,collection:o,isRangeSelect:r}))},[rj.Dn](e,t,n){const i=(0,WS.Tp)(e,{playlistItemEntityID:t.id});i&&n((0,eh.Ib)([i.id]))},[rj.gS](e,t){const n=(0,WS.Tp)(e,t),i=out(e).get("playlistItemList"),s=i.getCollection(),r=s.indexOf(n),a=t.moveIndex,o=a-1;if(r===a||r===o)return;const l=a>r?a-1:a,c=C.Z.join([i.get("containerKey"),n.get("playlistItemID"),"move"],o>=0?`after=${s.at(o).id}`:void 0),d=n.provider.getXHROptions(c,{type:"PUT"});(0,Rt.c9)((()=>{s.remove(n),s.add(n,{at:l}),g().ajax(d).fail((()=>{s.indexOf(n)===l&&(s.remove(n),s.add(n,{at:r}))}))}))},[rj.fu](e,t,n){const i=(0,WS.Tp)(e,t),s=out(e).get("playlistItemList"),r=C.Z.join([s.get("containerKey"),i.get("playlistItemID")]);i.destroy({url:r}).fail((()=>{n((0,dS.wp)((0,De.Z)("There was an unexpected error removing this item.")))}))},[rj.GN](e,t,n){const i=out(e).get("playlistItemList"),s=i.get("containerKey"),r=i.getCollection(),a=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("id");let o=g().Deferred().resolve().promise();a.forEach((e=>{const t=r.get(e),n=C.Z.join([s,e]);o=o.then((()=>t.destroy({url:n,wait:!0})))})),o.fail((()=>{n((0,dS.wp)((0,De.Z)("There was an unexpected error removing an item.")))}))},[Ka.RATE_METADATA_ITEM](e,t,n){const{providerEntityID:i,rating:s}=t,r=out(e),a=r.get("playlist");if(!a)return;const o=r.get("playlistItemList");"favorites"===a.get("specialPlaylistType")&&i===r.get("providerEntityID")&&(s!==Fo.jt&&s!==Fo.LX||n(KW({count:o.get("currentPageSize")})))}}),cut="ui/playlistsPage/initPlaylistPage",dut="ui/playlistsPage/fetchSorts",uut="ui/playlistsPage/populateSorts",put="ui/playlistsPage/fetchLibraryDetails",mut="ui/playlistsPage/populateLibraryDetails",hut=((0,No.Z)(cut),(0,No.Z)(dut)),gut=((0,No.Z)(uut),(0,No.Z)(put));function yut(e){return e.get("ui").get("playlistsPage")}(0,No.Z)(mut);const vut={[cut](e,t){const n=yut(e),i=(0,WS.SW)(e,t),s=(0,JM.js)(e,t),{serverEntityID:r,libraryKey:a,containerKey:o}=t,l=r===n.get("serverEntityID"),c=a===n.get("libraryKey"),d=o===n.get("containerKey");if(l&&c&&d)return;const u=new MD.Z({containerKey:o},{server:i,provider:s});let p=n.get("libraryDetails"),m=n.get("sorts");l&&c||(p=a&&new jxe.Z({key:a},{server:i,provider:s}),m=new wst.Z([],{url:"/playlists/sorts",server:i})),n.restoreDefaults({serverEntityID:r,libraryKey:a,containerKey:o,playlists:u,libraryDetails:p,sorts:m})},[put]:(0,qM.Z)({key:"libraryDetails",getModel:yut}),[mut]:(0,$M.Z)({key:"libraryDetails",fetchActionCreator:gut,getModel:yut}),[dut]:(0,qM.Z)({key:"sorts",getModel:yut}),[uut]:(0,$M.Z)({key:"sorts",fetchActionCreator:hut,getModel:yut}),[dS._z](e,t,n){const{metadataItemEntityID:i,containerKeyPattern:s}=t,r=(0,WS.SW)(e,t),a=yut(e).get("playlists");i||a&&a.server===r&&s&&a.get("containerKey").match(s)&&n((0,cb.u6)({metadataListEntityID:a.entityID()}))}};var fut=n(35871);function Iut(e){return e.get("ui").get("timelinePage")}function but(e,t){const n=Iut(e),i=(0,WS.SW)(e,t),s=(0,WS.js)(e,t),r=n.get("momentList");r.fetch().done((()=>{const e=r.get("key")||"empty",t=n.get("metadataList");let a;a=t&&t.server===i&&t.get("containerKey")===e?t:new MD.Z({containerKey:e},{server:i,provider:s}),n.set({isMomentListPending:!1,isMomentListPopulated:!0,momentListError:null,metadataList:a})})).fail(((e,t)=>{n.set({isMomentListPending:!1,momentListError:t})}))}const Mut=(0,HS.Z)({[rj.Mv](e,t){const n=Iut(e),i=(0,WS.SW)(e,t),s=(0,WS.js)(e,t),{serverEntityID:r,providerEntityID:a,libraryKey:o,momentKey:l}=t;if(r===n.get("serverEntityID")&&a===n.get("providerEntityID")&&l===n.get("momentKey"))return;const c=new jxe.Z({key:o},{server:i,provider:s}),d=new Ost({momentKey:l},{server:i,provider:s});n.restoreDefaults({serverEntityID:r,providerEntityID:a,details:c,momentKey:l,momentList:d}),but(e,t)},[rj.TA](e){Iut(e).set({momentKey:""})},[rj.cW]:(0,qM.Z)({key:"details",getModel:Iut}),[rj.PG]:(0,$M.Z)({key:"details",fetchActionCreator:lj,getModel:Iut}),[dS._z](e,t){const{metadataItemEntityID:n,containerKeyPattern:i}=t,s=(0,WS.$w)(e,t),r=(0,WS.lp)(e,t),a=Iut(e),o=a.get("metadataList"),l=a.get("momentKey");if(n)return;if(!l||!o||o.server!==s||o.provider!==r)return;const c=o.get("containerKey");c&&(i&&!c.match(i)||but(e,t))}});var Sut=Object.assign;const Eut=Sut(Sut({},dS.J0),{[dS.Rw](e,t){ee.Z.trigger("show:alert",t)}}),Dut=[gMe,nve,Rve,tt.CC,dE.Kq,FS.Iy,yye,qdt,Ka.metadataActionHandlers,cb.q9,eh.tv,Wze,BS,Ldt,fZ,mBe,sU.VV,yB.fv,Eut,Jdt,lxe,TLe,NK,Mut,vut,WRe,lut,sC,Qme,s1,SF,Wtt.DS,Odt.b4,jdt.zr,j1,fut.lo,BEe,Xdt.W7,Ut.quickSearchActionHandlers,ZBe,cE,Sce.on,Fdt,tx,kdt.yd,ZWe,w_e.wy,i_e.ek,qa.Wm,sut,XXe,u4e,Rw,iwe,eut,CQe];n(75580);const Cut="vote/leader";function Put(e){try{return window.localStorage.getItem(e)}catch(t){D.Z.debug(`[Vote] Unable to get ${e} from storage due to error:`,t.message)}}function wut(e,t){try{return window.localStorage.setItem(e,t)}catch(n){D.Z.debug(`[Vote] Unable to set ${e}: ${t} in storage due to error:`,n.message)}}function Tut(e){try{return window.localStorage.removeItem(e)}catch(t){D.Z.debug(`[Vote] Unable to remove ${e} from storage due to error:`,t.message)}}const Zut={id:null,time:null},Nut=function(){const e=function({id:e=(0,Uoe.Z)(),getItem:t=Put,setItem:n=wut,remove:i=Tut,electionDuration:s=500,maxLeaderAge:r=9e4,minLeaderRefreshDuration:a=1e4}){function o(t=Date.now()){return l(t).id===e}function l(e){try{const{id:n,time:i}=JSON.parse(t(Cut));return e-i<r?{id:n,time:i}:Zut}catch(e){return Zut}}let c,d=!1;function u(){window.clearTimeout(c),c=window.setTimeout((()=>{const t=Date.now(),{id:n}=l(t);if(n){const t=n===e;t!==d&&(D.Z.debug(t?`[Vote:${e}] Elected`:`[Vote:${e}] Unelected`),m.leaderStatusChanged.forEach((e=>e(t)))),d=t}else D.Z.debug(`[Vote:${e}] Election ended with no leader found`),p(t)}),s)}function p(t=Date.now()){const{id:i,time:s}=l(t);i===e&&t-s>a?(D.Z.debug(`[Vote:${e}] Upvote, refreshing my leader time`),n(Cut,JSON.stringify({time:t,id:e}))):i===e?D.Z.debug(`[Vote:${e}] Upvote, chilling since leader time is fresh`):i?D.Z.debug(`[Vote:${e}] Upvote, someone else is leader`):(D.Z.debug(`[Vote:${e}] Upvote, becoming leader`),n(Cut,JSON.stringify({time:t,id:e}))),u()}const m={[d9e]:[]};return{on:function(e,t){m[e].push(t)},off:function(e,t){m[e]=m[e].filter((e=>e!==t))},isLeader:o,up:p,down:function(t=Date.now()){o(t)?(D.Z.debug(`[Vote:${e}] Downvote, stepping down as leader`),i(Cut)):D.Z.debug(`[Vote:${e}] Downvote, chilling since someone else is leader`),u()}}}({maxLeaderAge:9e4});return window.addEventListener("storage",(t=>{t.key===Cut&&e.up()})),window.addEventListener("beforeunload",(()=>{e.down()})),e.up(),window.setInterval(e.up,6e4),e},Aut=b9e.extend({name:"PersistentWebStorage",getStorage:()=>window.localStorage}),xut=b9e.extend({name:"VolatileWebStorage",getStorage:()=>window.sessionStorage});var Lut=n(16475);const Out={};function jut(e){return null==e?"":e}function kut(e,...t){let n,i=1;const s=t.length;for(;i<=s;)n=Out[i],n||(n=new RegExp((0,R.Z)(`{${i}}`),"g"),Out[i]=n),e=e.replace(n,jut(t[i-1])),i++;return e}const Rut={languages:{en:"en.json","en-GB":"en-GB.json",af:"af.json",my:"my.json",ca:"ca.json",cs:"cs.json",sr:"sr.json",da:"da.json",de:"de.json",et:"et.json",es:"es.json","es-419":"es-419.json",el:"el.json",fr:"fr.json","fr-CA":"fr-CA.json",hr:"hr.json",is:"is.json",it:"it.json",lt:"lt.json",hu:"hu.json",nl:"nl.json",no:"no.json",pl:"pl.json",pt:"pt.json","pt-BR":"pt-BR.json",ru:"ru.json",ro:"ro.json",sk:"sk.json",sl:"sl.json",fi:"fi.json",sv:"sv.json",vi:"vi.json",tr:"tr.json",uk:"uk.json",bg:"bg.json",zh:"zh.json","zh-TW":"zh-TW.json",ja:"ja.json",ko:"ko.json",th:"th.json",fa:"fa.json",ar:"ar.json",he:"he.json"},loadingPromise:null,loadingLanguage:null,getLanguages:function(){return this.languages},getTranslation:function(e){if(this.translations[this.language])return this.translations[this.language][e]},t:(zut=function(e,...t){return this.getTranslation(e,...t)},function(e,...t){return function(e,...t){return E().isObject(t[0])?function(e,t){return e.replace(/\{([a-z0-9]+?)\}/gi,((e,n)=>t.hasOwnProperty(n)?jut(t[n]):e))}(e,t[0]):E().isObject(t[t.length-1])?(t.pop(),kut(e,...t)):kut(e,...t)}(function(e,...t){if(!e)return"";const n=t[t.length-1];return E().isObject(n)&&n&&n.escape?E().escape(e):e}(zut.call(this,e)||e,e,...t),...t)}),load:function(e){if(this.loadingLanguage&&this.loadingLanguage===e)return this.loadingPromise;const t=this.getLanguages();let n;return n=E().has(t,e)?E().has(this.translations,e)?g().Deferred().resolve().promise():g().ajax({dataType:"json",url:C.Z.join([this.basePath,t[e]])}):g().Deferred().reject().promise(),this.loadingLanguage=e,this.loadingPromise=n,n.done(E().bind(this.onLoadSuccess,this,n)),n.fail(E().bind(this.onLoadError,this,n)),n},onLoadSuccess:function(e,t){const n=this.loadingLanguage;e===this.loadingPromise&&(this.loadingPromise=null,this.loadingLanguage=null,this.language=n,t&&(this.translations[n]=t))},onLoadError:function(e){e===this.loadingPromise&&(this.loadingPromise=null,this.loadingLanguage=null)}};var zut;const Uut=X.Z.extend({mixins:Rut,constructor:function(){this.basePath=C.Z.join(["/web/","translations"]),this.translations={},(0,M.X_)("appModel").done(this.onAppModelRegistered.bind(this))},_repopulateProviders(){const e=(0,M.DB)("appModel"),t=e.get("servers").map((t=>{if(t.get("isCloud")){const t=e.get("user").get("providers");return(0,QB.Z)(t.map((e=>((0,M.DB)("appStore").dispatch(aS({providerEntityID:e.entityID(),options:{merge:!0}})),(0,KB.Z)(e)))))}if(t.get("isConnected"))return(0,M.DB)("appStore").dispatch((0,cS.lm)({serverEntityID:t.entityID(),options:{merge:!0}})),(0,KB.Z)(t)}));return(0,QB.Z)(t)},onAppModelRegistered(){}}).extend({onAppModelRegistered(e){e.on("change:user.change:experienceSettings.change:language",((e,t)=>{this.load(t).done((()=>{nPe.Z.setOption("language",t),this._repopulateProviders()}))}))}}),Vut=function(){FPe.Z.register(new Uut)},But={init(){const e=(0,M.DB)("appModel"),t=`${window.innerWidth}x${window.innerHeight}`,n=`${window.screen.width}x${window.screen.height}`,i={"X-Plex-Product":"Plex Web","X-Plex-Version":"4.54.5","X-Plex-Client-Identifier":e.get("clientID"),"X-Plex-Platform":Nwe.Z.name,"X-Plex-Platform-Version":Nwe.Z.version,"X-Plex-Sync-Version":2,"X-Plex-Features":"external-media,indirect-media","X-Plex-Model":"bundled","X-Plex-Device":Nwe.Z.platform,"X-Plex-Device-Name":Nwe.Z.name,"X-Plex-Device-Screen-Resolution":`${t},${n}`};return e.on("change:clientID",((e,t)=>{i["X-Plex-Client-Identifier"]=t})),g().Deferred().resolve(i).promise()}};var Fut=n(30236),Hut=n.n(Fut),_ut=n(37214),Qut=Object.assign;const Gut={maxWidth:1920,maxHeight:1080,maxBitDepth:10},Yut={maxWidth:4096,maxHeight:2160,maxBitDepth:10},Wut=`width="${Gut.maxWidth}"; height="${Gut.maxHeight}"`,Kut=`width="${Yut.maxWidth}"; height="${Yut.maxHeight}"`;function qut(e){if(!_ut.Z)return!1;const t=(0,C8e.Vq)("video",!0),n=t.canPlayType(e);return(0,C8e.u$)(t),"probably"===n}function $ut(e){var t,n,i;return!!_ut.Z&&null!=(i=null==(n=null==(t=window.MediaSource)?void 0:t.isTypeSupported)?void 0:n.call(t,e))&&i}function Jut(e,t){if(Array.isArray(e))return Array.from(new Set(e.concat(t)))}function Xut(e,t){return(n,i)=>{e(n)&&Hut()(t,i,Jut)}}function ept({canDirectPlay:e,canDirectStream:t}={canDirectPlay:qut,canDirectStream:$ut}){const n={video:{directPlay:{},directStream:{}}},i=Xut(e,n),s=Xut(t,n);return i(`video/mp4; codecs="hvc1"; ${Wut}`,{video:{directPlay:{mp4:{video:{codecs:{hevc:Qut(Qut({},Gut),{codecID:["hvc1"]})}}}}}}),i(`video/mp4; codecs="hev1"; ${Wut}`,{video:{directPlay:{mp4:{video:{codecs:{hevc:Qut(Qut({},Gut),{codecID:["hev1"]})}}}}}}),i(`video/mp4; codecs="hvc1"; ${Kut}`,{video:{directPlay:{mp4:{video:{codecs:{hevc:Qut(Qut({},Yut),{codecID:["hvc1"]})}}}}}}),i(`video/mp4; codecs="hev1"; ${Kut}`,{video:{directPlay:{mp4:{video:{codecs:{hevc:Qut(Qut({},Yut),{codecID:["hev1"]})}}}}}}),s(`video/mp4; codecs="hvc1"; ${Wut}`,{video:{directStream:{video:{codecs:{hevc:Gut}}}}}),s(`video/mp4; codecs="hev1"; ${Wut}`,{video:{directStream:{video:{codecs:{hevc:Gut}}}}}),s(`video/mp4; codecs="dvhe"; ${Wut}`,{video:{directStream:{video:{codecs:{hevc:Gut}}}}}),s(`video/mp4; codecs="hvc1"; ${Kut}`,{video:{directStream:{video:{codecs:{hevc:Yut}}}}}),s(`video/mp4; codecs="hev1"; ${Kut}`,{video:{directStream:{video:{codecs:{hevc:Yut}}}}}),s(`video/mp4; codecs="dvhe"; ${Kut}`,{video:{directStream:{video:{codecs:{hevc:Yut}}}}}),n}var tpt=Object.assign;const npt={registerAll(){const e=But.init();e.done((e=>z.Z.register(e)));const t=new Aut;pMe.Z.register(t),S9e.register(new xut),Vut();const n=function(){const e={maxWidth:1920,maxHeight:1280},t={maxWidth:4096,maxHeight:2160},n=`width="${e.maxWidth}"; height="${e.maxHeight}"`,i=`width="${t.maxWidth}"; height="${t.maxHeight}"`,s=tpt(tpt({},e),{maxFrameRate:60}),r={capabilities:{embed:!0,redirect:!0},video:{lowestQualityIndex:2,protocols:{hls:{mimeType:"application/x-mpegURL"}},directPlay:{generic:{video:tpt({},s)},mp4:{mimeType:'video/mp4; codecs="avc1.42E01E"',video:{codecs:{h264:{}}},audio:{codecs:{aac:{}}}},ogg:{mimeType:"video/ogg"},mpegts:{protocol:"hls"},flv:{}},directStream:{video:tpt(tpt({},s),{maxBitDepth:8,codecs:{h264:{}}}),audio:{codecs:{aac:{}},maxBitrate:192,maxChannels:2}}},music:{directPlay:{mp4:{mimeType:'audio/mp4; codecs="mp4a.40.5"',audio:{codecs:{aac:{}}}},mp3:{audio:{codecs:{mp3:{}}}},ogg:{mimeType:'audio/ogg; codecs="vorbis"',audio:{codecs:{vorbis:{}}}},wav:{mimeType:"audio/wav",audio:{codecs:{pcm:{}}}},flac:{mimeType:"audio/flac",audio:{codecs:{flac:{}}}}},directStream:{audio:{codecs:{aac:{}},maxBitrate:320,maxChannels:2}}}},a=[{types:[`video/mp4; codecs="avc1.42E01E"; ${i}`],fragment:{video:{directPlay:{mp4:{video:{codecs:{h264:t}}}},directStream:{video:{codecs:{h264:t}}}}}},{types:[`video/webm; codecs="vp8, opus"; ${n}`],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:e}},audio:{codecs:{opus:{}}}}}}}},{types:[`video/webm; codecs="vp8, vorbis"; ${n}`],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:e}},audio:{codecs:{vorbis:{}}}}}}}},{types:[`video/webm; codecs="vp9, opus"; ${n}`],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:e}},audio:{codecs:{opus:{}}}}}}}},{types:[`video/webm; codecs="vp9, vorbis"; ${n}`],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:e}},audio:{codecs:{vorbis:{}}}}}}}},{types:[`video/webm; codecs="vp8, opus"; ${i}`],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:t}},audio:{codecs:{opus:{}}}}}}}},{types:[`video/webm; codecs="vp8, vorbis"; ${i}`],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:t}},audio:{codecs:{vorbis:{}}}}}}}},{types:[`video/webm; codecs="vp9, opus"; ${i}`],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:t}},audio:{codecs:{opus:{}}}}}}}},{types:[`video/webm; codecs="vp9, vorbis"; ${i}`],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:t}},audio:{codecs:{vorbis:{}}}}}}}},{types:['audio/mp4; codecs="alac"'],predicate:o,fragment:{music:{directPlay:{mp4:{audio:{codecs:{alac:{}}}}}}}}];function o(e){const t=(0,C8e.Vq)("video",!0),n=t.canPlayType(e);return(0,C8e.u$)(t),"probably"===n}const l=window.MediaSource&&window.MediaSource.isTypeSupported?window.MediaSource.isTypeSupported:o;if(a.forEach((e=>{const t=e.predicate||l;e.types.some(t)?(D.Z.debug("[Player] Types %o provided %o",e.types,e.fragment),g().extend(!0,r,e.fragment)):D.Z.debug("[Player] Types %o are unsupported",e.types)})),"safari"===Nwe.Z.id&&(0,qh.Z)(Nwe.Z.platformVersion,"10.11")){const e={codecs:{ac3:{},eac3:{}}};g().extend(!0,r.video,{directPlay:{mp4:{audio:e}},directStream:{audio:e}})}return g().extend(!0,r,ept()),D.Z.debug("[Player] Final player profile %o",r),r}(),i={audioCapabilities:[{contentType:'audio/mp4; codecs="flac"'}]},s=g8e().then((e=>{const t=Lut.Z[e];return h8e(i,[t])})).then((()=>{LP.register(g().extend(!0,{},n,{music:{directPlay:{mp4:{audio:{codecs:{flac:{}}}}}}}))}),(()=>{LP.register(n)}));return(0,QB.Z)([e,s])}};function ipt(){const e=document.documentElement,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen,n=document.cancelFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen,i=!(!t||!n);return{hasFullscreen:i,shouldExitOnPlayerClose:!0,initialize(e){const{dispatchEnterFullscreen:t,dispatchExitFullscreen:n}=e;function i(){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?t():n()}return i(),document.addEventListener("fullscreenchange",i),document.addEventListener("webkitfullscreenchange",i),document.addEventListener("mozfullscreenchange",i),document.addEventListener("MSFullscreenChange",i),g().Deferred().resolve().promise()},enter(){i&&t.call(e)},exit(){i&&n.call(document)}}}var spt=n(66747),rpt=n(18547),apt=n(67470),opt=n(66822),lpt=Object.assign;const cpt={volume:!0,shuffle:!0,quality:!0,audioStream:!0,videoStream:!0,subtitleStream:!0,subtitleColor:!0,subtitlePosition:!0,subtitleSize:!0,subtitleOffset:!0,skipPrevious:!0,skipNext:!0,autoPlay:!0,seekTo:!0,stepBack:!0,stepForward:!0,stop:!0,playPause:!0,repeat:!0},dpt=lpt(lpt({},cpt),{seekTo:!1});function upt(e,t){const n=t.dispatch;let i,s,r,a=!1,o=0,l=0,c=null,d={},u={};window.__onGCastApiAvailable=function(e){const t=!!(e&&window.cast&&window.chrome&&window.chrome.cast);if(n(ewe((t?2:(0,opt.Z)()&&3)||1)),!t)return void D.Z.warn("[Cast] API is not available");const i=window.cast.framework,s=h();s.setOptions({receiverApplicationId:m(),autoJoinPolicy:window.chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),s.addEventListener(i.CastContextEventType.SESSION_STATE_CHANGED,S)},(0,opt.Z)()&&n(ewe(3));const p=document.createElement("script");function m(){const t=e.get("deviceSettings"),n=t.get("chromecastAppID"),i=t.get("chromecastCustomAppID");return n===fwe.CUSTOM&&i?i:n||fwe.PRODUCTION}function h(){if(2===e.get("castApiAvailability"))return window.cast.framework.CastContext.getInstance()}function g(){if(s)return s.customData}function y(e){return e.isMute()?0:Math.round(100*e.getVolume())}function v(e){if(!e)return;const{customData:t,media:n}=e;if(t&&t.playQueueType)return t.playQueueType;if(n&&n.metadata&&n.metadata.metadataType){const e=window.chrome.cast.media.MetadataType;switch(n.metadata.metadataType){case e.MOVIE:case e.TV_SHOW:return $s.pX;case e.MUSIC_TRACK:return $s.j0;case e.PHOTO:return $s.pV}}}function f(e){if(!e)return;const{customData:t}=e;return t.playbackSessionID}function I(e){const t=g();if(t){const{mediaIndex:i,partIndex:r,adState:a,adTime:o,adDuration:l,liveTVSessionSubscriptionKey:c,liveTVSessionStartedAt:d,liveTVSessionSeekRangeStartedAt:u,liveTVSessionSeekStartSeconds:p,liveTVSessionSeekEndSeconds:m,liveTVSessionCurrentPosition:h,liveTVSessionChannelIdentifier:g,server:y,providerIdentifier:f,isPostPlay:I}=t,b=lpt({},I?dpt:cpt);y.machineIdentifier===KP.X&&delete b.quality,f&&pa.wB(f,[pa.Ll,pa.vP])&&(delete b.autoPlay,delete b.subtitleColor,delete b.subtitlePosition,delete b.subtitleSize,delete b.subtitleOffset),n(bw({playQueueType:v(s),playerState:lpt(lpt({},e),{mediaIndex:i,partIndex:r,adState:a,adPositionSeconds:Math.round(o/1e3||0),adDurationSeconds:Math.round(l/1e3||0),controllable:b}),liveTVSessionSubscriptionKey:c,liveTVSessionStartedAt:d,liveTVSessionSeekRangeStartedAt:u,liveTVSessionSeekStartSeconds:p,liveTVSessionSeekEndSeconds:m,liveTVSessionCurrentPosition:h,liveTVSessionChannelIdentifier:g,providerIdentifier:f,machineIdentifier:y.machineIdentifier}))}}function b(){l&&l--}function M(){o&&o--}function S(e){const t=window.cast.framework,{session:s,sessionState:r,errorCode:a}=e;switch(r){case t.SessionState.NO_SESSION:(0,D.Z)("[Cast] Session is not established");break;case t.SessionState.SESSION_STARTED:(0,D.Z)("[Cast] Session is established");break;case t.SessionState.SESSION_START_FAILED:(0,D.Z)(`[Cast] Session failed to start with code "${a}"`);break;case t.SessionState.SESSION_RESUMED:(0,D.Z)("[Cast] Connection to an already existing session is established");break;case t.SessionState.SESSION_ENDED:D.Z.warn("[Cast] Session has disconnected")}switch(i&&(i.removeEventListener(t.SessionEventType.MEDIA_SESSION,P),s.removeEventListener(t.SessionEventType.VOLUME_CHANGED,Z)),d={},u={},r){case t.SessionState.NO_SESSION:case t.SessionState.SESSION_START_FAILED:case t.SessionState.SESSION_ENDED:w(!1),i=null,n(Nw());break;case t.SessionState.SESSION_STARTED:case t.SessionState.SESSION_RESUMED:{i=s,s.addEventListener(t.SessionEventType.MEDIA_SESSION,P),s.addEventListener(t.SessionEventType.VOLUME_CHANGED,Z),n(nwe(lpt(lpt({},s.getCastDevice()),{volume:y(s)})));const e=s.getMediaSession();e&&P({mediaSession:e});break}}}function P({mediaSession:e}){s&&s.removeUpdateListener(w),s=e,e.addUpdateListener(w),d={},u={}}function w(e){const t=window.chrome.cast.media.PlayerState,i=v(s);if(i!==c&&c&&((0,D.Z)("[Cast] play queue type changed from %o to %o, idling old player",c,i),d[c]=null,u[c]=null,n(Zw({playQueueType:c}))),c=i,s&&e&&!a){const{playerState:e,currentTime:i,media:a}=s;I({isPaused:e===t.PAUSED,isBuffering:e===t.BUFFERING,positionSeconds:Math.round(i||0),durationSeconds:Math.round(a.duration||0),playbackSessionID:f(s)}),function(){const e=window.chrome.cast.media.PlayerState,t=g();if(!t)return;const{containerKey:i,key:r,playQueueItemID:a,playQueueVersion:o,mediaIndex:l,partIndex:c,bitrate:p,server:m,providerIdentifier:h}=t,y=v(s),f=d[y],I=u[y],b=a!==f||o!==I;d[y]=a,u[y]=o,n(Iw({playQueueType:v(s),options:{machineIdentifier:m.machineIdentifier,providerIdentifier:h,containerKey:i,key:r,mediaIndex:l,shouldRefreshPlayQueue:b,playQueueItemID:a,bitrate:p,initialState:{isPaused:s.playerState===e.PAUSED,isBuffering:s.playerState===e.BUFFERING,positionSeconds:Math.round(s.currentTime||0),durationSeconds:Math.round(s.media.duration||0),mediaIndex:l,partIndex:c}}}))}(),function(){const e=g();if(!e)return;const{mediaIndex:t,bitrate:i}=e;n(Sw({playQueueType:v(s),mediaIndex:t,bitrate:i}))}(),function(){const e=g();if(!e)return;const{playQueueType:t,playQueueVersion:i,repeat:s}=e;n(Mw({playQueueType:t,playQueueVersion:i,repeatAll:s===ott.QN||s===ott.ry,repeatOne:s===ott.ry}))}(),function(){const e=g();if(!e)return;const{key:t,mediaIndex:i,partIndex:r,audioStreamID:a,subtitleStreamID:o}=e;null==a&&null==o||n(Ew({playQueueType:v(s),key:t,mediaIndex:i,partIndex:r,audioStreamID:a,subtitleStreamID:o}))}(),e===t.PLAYING?r||(r=window.setTimeout(T,1e3)):r&&(window.clearTimeout(r),r=null)}else D.Z.warn("[Cast] Update ignored; no alive media session"),r&&(window.clearTimeout(r),r=null),s&&i&&s.playerState===t.IDLE&&(d[i]=null,u[i]=null,n(Zw({playQueueType:i})))}function T(){if(s){const e=Math.round(s.getEstimatedTime()||0);e&&I({positionSeconds:e}),r=window.setTimeout(T,1e3)}else D.Z.warn("[Cast] Position update ignored; no media session")}function Z(){l||o||i&&n(Cw(y(i)))}function N(e){i?((0,D.Z)(`[Cast] Sending custom message with type "${e.type}"`),i.sendMessage("urn:x-cast:plex",e,null,(e=>{D.Z.warn(`[Cast] Failed to send custom message with error "${e}"`)}))):D.Z.warn(`[Cast] Custom message "${e.type}" ignored; no cast session`)}return p.src="//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",document.head.appendChild(p),{requestSession:function(){const e=h();e?((0,D.Z)("[Cast] Requesting session"),e.requestSession()):D.Z.warn("[Cast] Request session ignored; no cast context")},endSession:function(){const e=h();e?((0,D.Z)("[Cast] Ending session"),e.endCurrentSession()):D.Z.warn("[Cast] End session ignored; no cast context"),d={},u={}},startPlayback:function(t){if(!i)return void D.Z.warn("[Cast] Start playback ignored; no cast session");const s=e.get("user"),r=e.get("deviceSettings"),o=s.get("experienceSettings"),l=t.get("playQueue"),c=l.get("type"),d=l.get("playQueueItems").get(l.get("playQueueSelectedItemID")),u=d.get("metadataItem"),p=t.get("startMediaIndex"),m=l.server,h=t.get("providerEntityID"),g=(0,WS.js)(e,{providerEntityID:h}),y=(0,Ho.getMetadataType)(d.get("type"));let v;if((y&&y.mediaType===$a.j0?$a.j0:$a.pX)===$a.pX){const e=function(e,t,n){const i=t.get("qualityIndex");if(null!=i)return i;const s=e.server.get("isPrivateConnection");if(s&&n.get("useHomeStreamingRecommendedSettings"))return n.defaults().localQuality;const r=(0,Iet.Z)(e,s);return n.get(r)}(u,t,o),n=qP.Z.getQualityByIndex(e);v=n.bitrate}a=!0,Wnt(m).done((e=>{const d=t.get("liveTVSession"),m=d?(0,spt.$h)(d):Math.floor((0,Gnt.Z)(t,u)/1e3),h={playQueueType:c,providerIdentifier:g.get("identifier"),containerKey:C.Z.join([E().result(l,"url")],{own:1}),offset:m,directPlay:r.get("directPlay"),directStream:r.get("directStream"),mediaIndex:p,bitrate:v,playbackSessionID:t.get("playbackSessionID"),audioBoost:o.get("audioBoost"),subtitleColor:o.get("subtitleColor"),subtitlePosition:o.get("subtitlePosition"),subtitleSize:o.get("subtitleSize"),autoPlay:o.get("autoPlay"),repeat:(0,apt.Z)({repeatOne:t.get("repeatOne"),repeatAll:t.get("repeatAll")}),audioForceMultiChannel:o.get("audioForceMultiChannel"),server:e,user:{username:s.get("username")},liveTVSessionSubscriptionKey:d?d.get("key"):null,liveTVSessionChannelIdentifier:d?d.get("channelIdentifier"):null,debugAdKind:r.get("debugAdKind")||PPe.Z.NONE},y=window.chrome.cast.media,f=new y.MediaInfo(u.get("key"));f.customData=h;const b=new y.LoadRequest(f);b.currentTime=m,b.autoplay=!0,(0,D.Z)("[Cast] Sending load media request"),i.loadMedia(b).then((()=>{(0,D.Z)("[Cast] Load media success"),a=!1,I({isMediaLoading:!1})}),(e=>{D.Z.warn(`[Cast] Failed to load media with error "${e}"`),a=!1,n(Pw({playQueueType:c}))}))})).fail((()=>{a=!1,n(Pw({playQueueType:c,errorMessage:(0,De.Z)('The server "{serverName}" does not have a valid connection for casting. Check that the server is claimed in server settings.',{serverName:m.get("friendlyName")})}))}))},mirrorDetails:function(t){if(!i)return void D.Z.warn("[Cast] Mirror details ignored; no cast session");const n=e.get("user"),s=t.server,r=t.provider;Wnt(s).done((e=>{const i={server:e,providerIdentifier:r.get("identifier"),user:{username:n.get("username")}},s=new window.chrome.cast.media.MediaInfo(t.get("key"));s.customData=i,N({type:rpt.HE,media:s})}))},sendMessage:N,setVolume:function(e){i?((0,D.Z)(`[Cast] Setting volume to "${e}"`),n(Cw(e)),e?(i.isMute()&&(o++,i.setMute(!1).then(M,M)),l++,i.setVolume(e/100).then(b,b)):(o++,i.setMute(!0).then(M,M))):D.Z.warn("[Cast] Set volume ignored; no cast session")}}}function ppt(){(0,M.Cq)({CloudServerFlexModel:kct,ServerFlexModel:$ct,UserFlexModel:Ddt}),(0,M.Cq)({UserExperienceSettingsModel:_9e,StoredUserExperienceSettingsModel:Xct});const e=new xct,t=function(e){return function(e,t){let n,i=[],s=i;function r(){s===i&&(s=i.slice())}function a(e){n=function(e){const t={};for(let n=0,i=e.length;n<i;n++){const i=e[n];for(const e in i){const n=t[e],s=i[e];n?Array.isArray(n)?n.push(s):t[e]=[n,s]:t[e]=s}}return t}(e)}return a(e),t.on("statechange",(function(){const e=i=s;for(let t=0,n=e.length;t<n;t++)e[t]()})),{dispatch:function e(i){const{payload:s,type:r}=i,a=r&&n[r];if(Array.isArray(a))for(let n=0,i=a.length;n<i;n++)a[n](t,s,e);else a?a(t,s,e):t.dispatch(i);return i},subscribe:function(e){let t=!0;return r(),s.push(e),function(){if(!t)return;t=!1,r();const n=s.indexOf(e);s.splice(n,1)}},getState:function(){return t.getState()},replaceActionHandlers:a}}(Dut,e)}(e);return(0,M.Cq)({appModel:e,appStore:t}),(0,M.Cq)({adPlayerComponent:V7e,companionPlayerProfile:eet,companionProxy:new I7e,companionVote:Nut(),fullscreenManager:ipt(),remoteCastPlayerManager:upt(e,t),getDecisionOptions:Tet,mediaComponent:aet,serviceWorker:(b.Z.hasServiceWorker,{register:()=>(b.Z.hasServiceWorker,(0,D.Z)("[Workers] Registered mock service worker"),Promise.resolve()),checkUpdate(){(0,D.Z)("[Workers] Mock worker checking for updates")},skipWaiting(){(0,D.Z)("[Workers] Mock worker installing")},sendMessage:e=>(D.Z.debug("[Workers] Mock worker sending message %o",e),Promise.resolve())}),sessionStats:new b7e}),function(){const e=(0,M.DB)("appModel"),t=(0,M.DB)("appStore");return(0,M.Cq)({settingFinder:Stt(e),selectRemoteQuality:oit,selectRestorePlayQueue:lit,selectSubtitleSettings:cit,selectLocalVolume:Fet}),(0,M.Cq)({metricsReporter:[Net(),xet],logs:new ait([],{parent:e}),testServerConnection:Uet}),(0,M.Cq)({companionServerManager:new Ctt({appModel:e}),keyboardShortcuts:{shortcuts:[{keys:["?"],fn:"help",group:"navigation",label:()=>(0,De.Z)("Open Keyboard Shortcuts")},{keys:["esc"],fn:"escape",group:"navigation",label:()=>(0,De.Z)("Close Modal or Menu")},{keys:["g h"],fn:"home",group:"navigation",label:()=>(0,De.Z)("Navigate to Home")},{keys:["g s"],fn:"settings",group:"navigation",label:()=>(0,De.Z)("Navigate to Settings")},{keys:["g d"],fn:"activity",group:"navigation",label:()=>(0,De.Z)("Navigate to Dashboard")},{keys:["g u"],fn:"usersSharing",group:"navigation",label:()=>(0,De.Z)("Navigate to Users & Sharing")},{keys:["/"],fn:"search",group:"actions",label:()=>(0,De.Z)("Focus Search")},{keys:["p"],fn:"playSelected",group:"actions",label:()=>(0,De.Z)("Open Player")},{keys:["w"],fn:"togglePlayed",group:"actions",label:()=>(0,De.Z)("Toggle as Played/Unplayed")},{keys:["e"],fn:"edit",group:"actions",label:()=>(0,De.Z)("Edit Metadata")},{keys:["i"],fn:"info",group:"actions",label:()=>(0,De.Z)("Get Info")},{keys:["shift+s"],fn:"save",group:"actions",label:()=>(0,De.Z)("Save Changes")},{keys:["space"],fn:"playPause",group:"player",label:()=>(0,De.Z)("Play or Pause")},{keys:["play"],fn:"play",group:"player",label:()=>(0,De.Z)("Play")},{keys:["pause"],fn:"pause",group:"player",label:()=>(0,De.Z)("Pause")},{keys:["\\"],fn:"toggleFullScreen",group:"player",label:()=>(0,De.Z)("Toggle FullScreen")},{keys:["down"],fn:"decreaseVolume",group:"player",label:()=>(0,De.Z)("Decrease Volume")},{keys:["up"],fn:"increaseVolume",group:"player",label:()=>(0,De.Z)("Increase Volume")},{keys:[",","left"],fn:"seekBackward",group:"player",label:()=>(0,De.Z)("Seek Backward (10 seconds)")},{keys:[".","right"],fn:"seekForward",group:"player",label:()=>(0,De.Z)("Seek Forward (30 seconds)")},{keys:["[","alt+left"],fn:"stepBackward",group:"player",label:()=>(0,De.Z)("Step Backward (10 minutes)")},{keys:["]","alt+right"],fn:"stepForward",group:"player",label:()=>(0,De.Z)("Step Forward (10 minutes)")},{keys:["shift+left"],fn:"skipPrevious",group:"player",label:()=>(0,De.Z)("Skip to Previous Item")},{keys:["shift+right"],fn:"skipNext",group:"player",label:()=>(0,De.Z)("Skip to Next Item")},{keys:["x"],fn:"stop",group:"player",label:()=>(0,De.Z)("Close Player")}],triggerShortcut(e){const t="shortcut:"+e;if(ee.Z.hasListener(t))return ee.Z.trigger(t),!1},help(e){ee.Z.trigger("show:modal",new CNe({shortcuts:this.shortcuts}))},escape(e){ee.Z.trigger("shortcut:escape")},home(e){(0,Ine.Z)("home")},settings(e){(0,Ine.Z)("webSettings",{settingsSubset:"general"})},activity(e){const t=M.DB("appModel").get("primaryServer");t&&!t.get("isShared")&&(0,Ine.Z)("serverSettings",{machineIdentifier:t.id,settingsSection:"status",settingsGroup:"server-dashboard"})},usersSharing(e){(0,Ine.Z)("usersSharing")},search(e){return this.triggerShortcut("search")},playSelected(e){return this.triggerShortcut("playSelected")},togglePlayed(e){return this.triggerShortcut("togglePlayed")},edit(e){return this.triggerShortcut("edit")},info(e){return this.triggerShortcut("info")},save(e){return this.triggerShortcut("save")},playPause(e){return this.triggerShortcut("playPause")},play(e){return this.triggerShortcut("play")},pause(e){return this.triggerShortcut("pause")},toggleFullScreen(e){return this.triggerShortcut("toggleFullScreen")},decreaseVolume(e){return this.triggerShortcut("decreaseVolume")},increaseVolume(e){return this.triggerShortcut("increaseVolume")},seekBackward(e){return this.triggerShortcut("seekBackward")},seekForward(e){return this.triggerShortcut("seekForward")},stepBackward(e){return this.triggerShortcut("stepBackward")},stepForward(e){return this.triggerShortcut("stepForward")},skipPrevious(e){return this.triggerShortcut("skipPrevious")},skipNext(e){return this.triggerShortcut("skipNext")},stop(e){return this.triggerShortcut("stop")}},localCompanionTimelineManager:_nt(e,t,{getPlayerModels(e){const t=e.get("ui");return[t.get("audioVideoPlayer"),t.get("photoPlayer")]},getVolume:Het.Z}),localCompanionCommandHandler:Mtt,mediaServerEventConnection:Pit,metrics:[new Ott({isPlaybackActive:Bet}),Aet],primaryServerManager:new jtt({appModel:e}),providerManager:new ktt({appModel:e}),remotePlexPlayerManager:$nt(e,t),serverConnectionManager:new wtt({appModel:e}),serverConnectionTestManager:new ztt({appModel:e}),serverManager:new Qtt({appModel:e}),serverUpdateManager:new Gtt({appModel:e}),sourceManager:new Ktt({appModel:e}),syncplaySessionManager:new Ent({appModel:e,appStore:t}),watchTogetherRoomsManager:new Rnt({appModel:e,appStore:t})}),g().Deferred().resolve().promise()}().then(npt.registerAll)}const mpt=new m.Z.Application;mpt.addInitializer((()=>ppt().then(q8e))),mpt.start()},94285:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(94184),s=n.n(i),r=n(67294),a=n(46565);const o={badge:"Badge-badge-29PpMR",isHidden:"Badge-isHidden-3bL7O5",default:"Badge-default-3Ip_0e",primary:"Badge-primary-3UX8_g",success:"Badge-success-2w8zsn",danger:"Badge-danger-2iPc_0"};function l({className:e,children:t,kind:n}){return r.createElement("span",{className:s()(e,o.badge,o[n],!t&&o.isHidden),"data-qa-id":"badgeElement"},t)}l.defaultProps={kind:a.TP};const c=l},25366:(e,t,n)=>{"use strict";n.d(t,{U:()=>s,Z:()=>a});var i=n(67294);const s="—";function r({className:e,separator:t}){return i.createElement("span",{className:e},t)}r.defaultProps={className:"DashSeparator-separator-3gTgvL",separator:s};const a=r},7665:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(94184),s=n.n(i),r=n(67294),a=n(74186),o=n(46565),l=n(27620);const c={disclosureArrow:"DisclosureArrow-disclosureArrow-11pOBF",default:"DisclosureArrow-default-1ByHEj",primary:"DisclosureArrow-primary-dUgcDZ",success:"DisclosureArrow-success-1p9egi",danger:"DisclosureArrow-danger-1l5HTi",small:"DisclosureArrow-small-3l1EMg",up:"DisclosureArrow-up-1iICUJ",right:"DisclosureArrow-right-1yxU4l",medium:"DisclosureArrow-medium-16Zvoq",large:"DisclosureArrow-large-2qzIyt",down:"DisclosureArrow-down-2xpCTE DisclosureArrow-up-1iICUJ",left:"DisclosureArrow-left-V2d3n4 DisclosureArrow-right-1yxU4l",isSelected:"DisclosureArrow-isSelected-2pyYzm"};function d({className:e,kind:t,size:n,direction:i,isSelected:a}){return r.createElement("span",{className:s()(e,c[i],c[t],c[n],a&&c.isSelected)})}d.defaultProps={className:c.disclosureArrow,direction:a.WV,kind:o.TP,size:l.M2,isSelected:!1};const u=d},60423:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(67294),s=n(23438);n(67038);const r="Measure-scrollContainer-2qGJno";class a extends i.Component{constructor(e,t){super(e,t),this._requestFrame=()=>{this._clearTimeout(),this._cancelFrame(),this._frameRequestID=window.requestAnimationFrame(this._measure)},this._requestTimeout=()=>{this._clearTimeout(),this._cancelFrame(),this._measureTimeoutID=window.setTimeout(this._requestFrame,this.props.resizeTimeout)},this._measure=()=>{const{ignoreWidth:e,ignoreHeight:t,ignorePosition:n,ignoreTransforms:i}=this.props,{isMeasured:s,width:r,scrollWidth:a,height:o,scrollHeight:l,x:c,y:d}=this.state,u=this._container;if(!u)return;const p=u.getBoundingClientRect(),m=i?u.offsetWidth:p.width,h=i?u.offsetHeight:p.height,g=!0!==s,y=!n&&(p.left!==c||p.top!==d),v=!e&&(m!==r||u.scrollWidth!==a),f=!t&&(h!==o||u.scrollHeight!==l);if(this._reset(),g||y||v||f){const i=window.getComputedStyle(u),s={isMeasured:!0};if(n||(s.x=y?p.left:c,s.y=y?p.top:d),!e){const e=parseInt(i.paddingRight,10)||0,t=parseInt(i.paddingLeft,10)||0;s.width=v?m-t-e:r,s.scrollWidth=v?u.scrollWidth:a}if(!t){const e=parseInt(i.paddingTop,10)||0,t=parseInt(i.paddingBottom,10)||0;s.height=f?h-e-t:o,s.scrollHeight=f?u.scrollHeight:l}this.setState(s),this.props.onMeasure&&this.props.onMeasure(s)}},this._setContainerRef=e=>{this._container=e;const{onContainerRef:t}=this.props;t&&t(e)},this._setExpandContainerRef=e=>{this._expandContainer=e},this._setShrinkContainerRef=e=>{this._shrinkContainer=e},this.onScroll=e=>{this._requestTimeout()};const{ignoreWidth:n,ignoreHeight:i,ignorePosition:s}=e;this.state={isMeasured:!1,width:n?void 0:0,scrollWidth:n?void 0:0,height:i?void 0:0,scrollHeight:i?void 0:0,x:s?void 0:0,y:s?void 0:0}}componentDidMount(){this._requestFrame()}shouldComponentUpdate(e,t){return(0,s.Z)(this,e,t)}componentWillUnmount(){this._cancelFrame(),this._clearTimeout()}_cancelFrame(){this._frameRequestID&&(this._frameRequestID=window.cancelAnimationFrame(this._frameRequestID))}_clearTimeout(){this._measureTimeoutID&&(this._measureTimeoutID=window.clearTimeout(this._measureTimeoutID))}_reset(){const e=this._expandContainer,t=this._shrinkContainer;e.scrollTop=1e5,e.scrollLeft=1e5,t.scrollTop=1e5,t.scrollLeft=1e5}render(){const{id:e,className:t,children:n,style:s,onKeyDown:a,onMeasure:o}=this.props,l="function"!=typeof n;return i.createElement("div",{id:e,className:t,style:s,ref:this._setContainerRef,onKeyDown:a},l?n:n(this.state),i.createElement("div",{className:r,ref:this._setExpandContainerRef,onScroll:this.onScroll},i.createElement("div",{className:"Measure-expandContent-3OLivj"})),i.createElement("div",{className:r,ref:this._setShrinkContainerRef,onScroll:this.onScroll},i.createElement("div",{className:"Measure-shrinkContent-CHZ046 Measure-expandContent-3OLivj"})))}}a.defaultProps={className:"Measure-container-14qPC5",ignoreWidth:!1,ignoreHeight:!1,ignorePosition:!1,ignoreTransforms:!1,resizeTimeout:100};const o=a},82548:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(67294),s=n(73935),r=n(73433),a=n(92375),o=n(23438),l=(n(67038),Object.assign);class c extends i.Component{constructor(e,t){super(e,t),this.onOpen=()=>{var e,t;this._open(),null==(t=(e=this.props).onOpen)||t.call(e)},this.onClose=()=>{var e,t;this._close(),null==(t=(e=this.props).onClose)||t.call(e)},this._ref=e.forwardedRef||i.createRef(),this._popper=null}shouldComponentUpdate(e,t){return(0,o.Z)(this,e,t)}componentDidUpdate(e){this._popper&&this._popper.update()}componentWillUnmount(){this._close()}_open(){const{target:e,options:t}=this.props,n=document.getElementById(e)||document.getElementsByName(e)[0];this._popper=(0,r.fi)(n,s.findDOMNode(this._ref.current),t),this._popper.update()}_close(){this._popper&&(this._popper.destroy(),this._popper=null)}render(){return i.createElement(a.Z,l(l({},this.props),{ref:this._ref,onOpen:this.onOpen,onClose:this.onClose}))}}c.defaultProps={options:{placement:"bottom-start"}};const d=i.forwardRef(((e,t)=>i.createElement(c,l(l({},e),{forwardedRef:t}))))},92375:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(67294),s=n(73935),r=Object.assign;class a extends i.Component{constructor(e,t){super(e,t),this.onCloseTimeout=()=>{this._closeTimeoutID=null,this.setState({shouldPreventPortalClose:!1},(()=>{this.props.onClose&&this.props.onClose()}))},this.onInteractionEvent=e=>{this.props.allowInteractionEventBubbling||e.stopPropagation()},this.state={isOpen:e.isOpen,shouldPreventPortalClose:!1}}static getDerivedStateFromProps(e,t){return e.isOpen===t.isOpen?null:{isOpen:e.isOpen,shouldPreventPortalClose:e.closeTimeoutMilliseconds&&!e.isOpen&&t.isOpen}}componentDidMount(){this.props.onOpen&&this.props.isOpen&&this.props.onOpen()}componentDidUpdate(e,t){!this.state.shouldPreventPortalClose&&t.shouldPreventPortalClose&&(this._closeTimeoutID=window.clearTimeout(this._closeTimeoutID)),this.state.shouldPreventPortalClose&&!t.shouldPreventPortalClose&&(this._closeTimeoutID=window.setTimeout(this.onCloseTimeout,this.props.closeTimeoutMilliseconds)),this.props.onOpen&&this.props.isOpen&&!e.isOpen&&this.props.onOpen()}componentWillUnmount(){this._closeTimeoutID&&window.clearTimeout(this._closeTimeoutID)}render(){const{className:e,style:t,children:n,forwardedRef:r}=this.props,{isOpen:a,shouldPreventPortalClose:o}=this.state;return a||o?s.createPortal(i.createElement("div",{className:e,style:t,ref:r,onTouchStart:this.onInteractionEvent,onTouchMove:this.onInteractionEvent,onTouchEnd:this.onInteractionEvent,onTouchCancel:this.onInteractionEvent,onMouseDown:this.onInteractionEvent,onMouseUp:this.onInteractionEvent,onClick:this.onInteractionEvent,onFocus:this.onInteractionEvent,onBlur:this.onInteractionEvent},n),document.body):null}}a.defaultProps={isOpen:!0,closeTimeoutMilliseconds:0,allowInteractionEventBubbling:!1};const o=i.forwardRef(((e,t)=>i.createElement(a,r(r({},e),{forwardedRef:t}))))},19318:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var i=n(94184),s=n.n(i),r=n(82777),a=n(67294),o=n(91981),l=n(93143),c=n(23438);const d={scroller:"Scroller-scroller-1krvWC",none:"Scroller-none-3jAtlQ",vertical:"Scroller-vertical-1tg_Qg",auto:"Scroller-auto-2x1TY8",horizontal:"Scroller-horizontal-2qCDv-",omni:"Scroller-omni-28-GxK",compactScroller:"Scroller-compactScroller-1Q82Ox"};var u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=Object.assign;class g extends a.Component{constructor(e,t){super(e,t),this.onScroll=e=>{if(e.target!==this._scrollerRef.current)return;const t=e.target.scrollTop,n=e.target.scrollLeft,i=t!==this._currentScrollTop,s=n!==this._currentScrollLeft;(i||s)&&this._setScrollPosition({scrollTop:t,scrollLeft:n}),this.props.onScroll&&this.props.onScroll(e)},this.onScrollPositionChange=()=>{this._animationFrameID=null,this.props.onScrollPositionChange({scrollTop:this._currentScrollTop,scrollLeft:this._currentScrollLeft})},this.onScrollTimeout=()=>{this.setState({isScrolling:!1})},this.onScrollTopUpdate=e=>{this._updateScrollPosition({scrollTop:e}),this.props.onScrollToUpdate&&this.props.onScrollToUpdate({scrollTop:e})},this.onScrollTopComplete=()=>{this._scrollTopTween=null,this.props.onScrollToComplete&&this.props.onScrollToComplete()},this.onScrollLeftUpdate=e=>{this._updateScrollPosition({scrollLeft:e}),this.props.onScrollToUpdate&&this.props.onScrollToUpdate({scrollLeft:e})},this.onScrollLeftComplete=()=>{this._scrollLeftTween=null,this.props.onScrollToComplete&&this.props.onScrollToComplete()},this.state={isScrolling:!1},this._scrollerRef=e.forwardedRef||a.createRef(),this._currentScrollTop=0,this._currentScrollLeft=0}componentDidMount(){this._scrollTo(this.props)}componentWillReceiveProps(e){e.scrollTop===this.props.scrollTop&&e.scrollLeft===this.props.scrollLeft||this.setState({isScrolling:!0})}shouldComponentUpdate(e,t){return(0,c.Z)(this,e,t)}componentDidUpdate(e){this.state.isScrolling&&(this._scrollTimeoutID&&window.clearTimeout(this._scrollTimeoutID),this._scrollTimeoutID=window.setTimeout(this.onScrollTimeout,this.props.isScrollingTimeout)),this._scrollTo(this.props)}componentWillUnmount(){this._clearTimeouts(),this._cancelScrollTo()}_setScrollPosition({scrollTop:e,scrollLeft:t}){this._clearTimeouts(),this._currentScrollTop=e,this._currentScrollLeft=t,this._animationFrameID=window.requestAnimationFrame(this.onScrollPositionChange)}_updateScrollPosition({scrollTop:e,scrollLeft:t}){const n=this._scrollerRef.current;null!=e&&(n.scrollTop=e),null!=t&&(n.scrollLeft=t)}_scrollTo({scrollTop:e,scrollLeft:t}){if(null==e&&null==t)return;const n=null!=e&&e!==this._currentScrollTop,i=null!=t&&t!==this._currentScrollLeft;if(!n&&!i)return;if(!this.props.smoothScroll&&!this.props.restoreScroll)return this._currentScrollTop=e,this._currentScrollLeft=t,void this._updateScrollPosition({scrollTop:e,scrollLeft:t});const s=this.props.smoothScrollDuration/1e3;this._scrollToPosition={};const a=this._scrollerRef.current;if(this._cancelScrollTo(),n){const t=Math.min(e,a.scrollHeight-a.clientHeight);this._scrollToPosition.scrollTop=a.scrollTop,this._scrollTopTween=(0,r.jt)(a.scrollTop,t,{type:"tween",duration:s,onUpdate:this.onScrollTopUpdate,onComplete:this.onScrollTopComplete})}if(i){const e=Math.min(t,a.scrollWidth-a.clientWidth);this._scrollToPosition.scrollLeft=a.scrollLeft,this._scrollLeftTween=(0,r.jt)(a.scrollLeft,e,{type:"tween",duration:s,onUpdate:this.onScrollLeftUpdate,onComplete:this.onScrollLeftComplete})}}_cancelScrollTo(){this._scrollTopTween&&(this._scrollTopTween.stop(),this._scrollTopTween=null),this._scrollLeftTween&&(this._scrollLeftTween.stop(),this._scrollLeftTween=null)}_clearTimeouts(){this._animationFrameID&&window.cancelAnimationFrame(this._animationFrameID),this._scrollTimeoutID&&window.clearTimeout(this._scrollTimeoutID)}render(){const e=this.props,{className:t,children:n,scrollDirection:i,autoScroll:r,compactScroller:l,enableChildrenProps:c,onScroll:g,onScrollPositionChange:y,forwardedRef:v,smoothScroll:f,restoreScroll:I,smoothScrollDuration:b,scrollTop:M,scrollLeft:S,isScrollingTimeout:E,onScrollToUpdate:D,onScrollToComplete:C}=e,P=((e,t)=>{var n={};for(var i in e)u.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&p)for(var i of p(e))t.indexOf(i)<0&&m.call(e,i)&&(n[i]=e[i]);return n})(e,["className","children","scrollDirection","autoScroll","compactScroller","enableChildrenProps","onScroll","onScrollPositionChange","forwardedRef","smoothScroll","restoreScroll","smoothScrollDuration","scrollTop","scrollLeft","isScrollingTimeout","onScrollToUpdate","onScrollToComplete"]);return a.createElement("div",h({className:s()(t,d.scroller,d[i],r&&d.auto,l&&d.compactScroller),ref:this._scrollerRef,onScroll:y?this.onScroll:g},P),c?(0,o.Z)(n,(e=>a.cloneElement(e,{isScrolling:this.state.isScrolling,scrollTop:this._currentScrollTop,scrollLeft:this._currentScrollLeft}))):n)}}g.defaultProps={scrollDirection:l.yZ,autoScroll:!1,smoothScroll:!0,restoreScroll:!1,smoothScrollDuration:400,enableChildrenProps:!1,isScrollingTimeout:100};const y=a.forwardRef(((e,t)=>a.createElement(g,h(h({},e),{forwardedRef:t}))))},81473:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(94184),s=n.n(i),r=n(67294),a=n(27620),o=n(75500);const l={spinner:"Spinner-spinner-5E5Wk_ spin-spin-oHlEXH",spinnerContainer:"Spinner-spinnerContainer-3sLo2x",spinnerLabel:"Spinner-spinnerLabel-2JHH-5",small:"Spinner-small-1GqI8b Spinner-spinner-5E5Wk_ spin-spin-oHlEXH",medium:"Spinner-medium-1KFg8C Spinner-spinner-5E5Wk_ spin-spin-oHlEXH",large:"Spinner-large-1SS9uu Spinner-spinner-5E5Wk_ spin-spin-oHlEXH"};function c({className:e,containerClassName:t,labelClassName:n,size:i,color:a,label:o,loadingLabel:c}){const d=s()(e,l[i]),u={borderTopColor:a,borderLeftColor:a};return o?r.createElement("div",{className:s()(t,l.spinnerContainer)},r.createElement("div",{className:d,style:u}),r.createElement("div",{className:s()(n,l.spinnerLabel)},o)):r.createElement("div",{className:d,style:u,"aria-label":c})}c.defaultProps={size:a.M2,color:o.Z.primaryColor};const d=c},58858:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(94184),s=n.n(i),r=n(67294),a=n(46565),o=n(27620),l=n(48604);const c={button:"Button-button-31pe5T Link-link-3v-v0b",default:"Button-default-3Y9N_s",primary:"Button-primary-3Mfwv1",success:"Button-success-xmtPMH",danger:"Button-danger-33vjss",dark:"Button-dark-2nTRxu",small:"Button-small-1V_7KT",medium:"Button-medium-18osGN",large:"Button-large-2-E0y_"};var d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=Object.assign;const h=function(e){var{className:t,children:n,kind:i=a.TP,size:h=o.M2}=e,g=((e,t)=>{var n={};for(var i in e)d.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&u)for(var i of u(e))t.indexOf(i)<0&&p.call(e,i)&&(n[i]=e[i]);return n})(e,["className","children","kind","size"]);return r.createElement(l.Z,m({className:s()(t,c.button,i&&c[i],h&&c[h])},g),n)}},54177:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var i=n(94184),s=n.n(i),r=n(67294),a=n(7665),o=n(48604),l=n(74186),c=n(27620);const d={disclosureArrowButton:"DisclosureArrowButton-disclosureArrowButton-eURy9V Link-link-3v-v0b",isSelected:"DisclosureArrowButton-isSelected-22EHKf",small:"DisclosureArrowButton-small-gmT0SJ",medium:"DisclosureArrowButton-medium-c-hVaf",large:"DisclosureArrowButton-large-274MJ5",disclosureArrow:"DisclosureArrowButton-disclosureArrow-3LE5vH DisclosureArrow-disclosureArrow-11pOBF",down:"DisclosureArrowButton-down-urmaXw",left:"DisclosureArrowButton-left-33W0n1",up:"DisclosureArrowButton-up-3uaTJI",right:"DisclosureArrowButton-right-hLO6Z4"};var u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=Object.assign;class g extends r.Component{render(){const e=this.props,{className:t,arrowClassName:n,children:i,direction:l,kind:g,size:y,isSelected:v}=e,f=((e,t)=>{var n={};for(var i in e)u.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&p)for(var i of p(e))t.indexOf(i)<0&&m.call(e,i)&&(n[i]=e[i]);return n})(e,["className","arrowClassName","children","direction","kind","size","isSelected"]),I=y||c.M2;return r.createElement(o.Z,h({className:s()(t,d[I],v&&d.isSelected),"aria-haspopup":!0,kind:g,size:y,isSelected:v},f),i,r.createElement(a.Z,{className:s()(n,d[l],d[I]),direction:l,kind:g,size:I,isSelected:v}))}}g.defaultProps={className:d.disclosureArrowButton,arrowClassName:d.disclosureArrow,direction:l.WV,isSelected:!0};const y=g},91997:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(94184),s=n.n(i),r=n(67294),a=(n(67038),n(48604));var o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=Object.assign;function u(e){const{className:t,iconComponent:n,iconClassName:i,activeClassName:u,disabledClassName:p,isDisabled:m,isActive:h,label:g,labelClassName:y,title:v,ariaLabel:f,children:I}=e,b=((e,t)=>{var n={};for(var i in e)o.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&l)for(var i of l(e))t.indexOf(i)<0&&c.call(e,i)&&(n[i]=e[i]);return n})(e,["className","iconComponent","iconClassName","activeClassName","disabledClassName","isDisabled","isActive","label","labelClassName","title","ariaLabel","children"]),M=f||v;return r.createElement(a.Z,d({className:s()(t,m&&p,h&&u),isDisabled:m,"aria-label":M,title:v},b),r.createElement(n,{className:i}),g?r.createElement("span",{className:y},g):null,I)}u.defaultProps={className:"IconButton-button-2smHOM",activeClassName:"IconButton-isActive-vKiiWB",disabledClassName:"IconButton-isDisabled-1ayz2G",labelClassName:"IconButton-label-370yeb",isDisabled:!1};const p=u},48604:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var i=n(94184),s=n.n(i),r=n(67294);const a=null;function o(){const e=document.activeElement;return e&&e.dataset&&e.dataset.uid||a}var l=n(57904),c=n(93502),d=n(46565),u=n(23438),p=n(37214);n(67038);const m={link:"Link-link-3v-v0b",default:"Link-default-1dmcVx",primary:"Link-primary-3jzk1w",success:"Link-success-2Bl1N1",danger:"Link-danger-3_v6WU",dark:"Link-dark-2H1Tz1",small:"Link-small-34WBSx",medium:"Link-medium-3srF_F",large:"Link-large-3WdTyt",isSelected:"Link-isSelected-2ZBOCj"};var h=Object.prototype.hasOwnProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.propertyIsEnumerable,v=Object.assign;let f=a;p.Z&&window.addEventListener("blur",(()=>{f=o()}));class I extends r.Component{constructor(e,t){super(e,t),this.onTouchStart=e=>{this._isTouch=!0,this._preventFocus=this._shouldPreventFocus(),1===e.touches.length&&this._activate(!0),this.props.onTouchStart&&this.props.onTouchStart(e)},this.onTouchMove=e=>{this._activate(!1),this.props.onTouchMove&&this.props.onTouchMove(e)},this.onTouchEnd=e=>{const{to:t,target:n,isDisabled:i,onTouchEnd:s}=this.props;this._isActive&&!i&&(!t||n&&"_self"!==n||(e.preventDefault(),window.location.href=t),this._press(e)),this._activate(!1),s&&s(e)},this.onTouchCancel=e=>{this._isTouch=!1,this._activate(!1),this.props.onTouchCancel&&this.props.onTouchCancel(e)},this.onMouseDown=e=>{this._isTouch||(this._preventFocus=this._shouldPreventFocus(),0===e.button&&this._activate(!0),this.props.onMouseDown&&this.props.onMouseDown(e))},this.onMouseUp=e=>{if(this._isTouch)return;const{isDisabled:t,onMouseUp:n}=this.props;this._isActive&&!t&&(this._press(e),this._preventOnClick=!0),this._activate(!1),n&&n(e)},this.onMouseLeave=e=>{this._isTouch||(this._isActive&&this.setState({isActive:!1}),this.props.onMouseLeave&&this.props.onMouseLeave(e))},this.onClick=e=>{this._preventFocus=!1;const{isDisabled:t}=this.props;this._preventOnClick||this._isTouch||this._isActive||!this._isFocused||t||this._press(e),this._preventOnClick=!1,this._isTouch=!1},this.onFocus=e=>{this._preventFocus?this._preventFocus=!1:this._uid!==f?(this._focus(!0),this.props.onFocus&&this.props.onFocus(e)):f=a},this.onBlur=e=>{this._focus(!1),this.props.onBlur&&this.props.onBlur(e)},this._preventFocus=!1,this._preventOnClick=!1,this._isTouch=!1,this._isActive=!1,this._isFocused=!1,this._uid=(0,l.Z)(),this.state={isActive:!1,isFocused:!1},this._ref=r.createRef()}componentDidMount(){!this.props.isDisabled&&this.props.focusOnEnabled&&this._ref.current.focus()}shouldComponentUpdate(e,t){return(0,u.Z)(this,e,t)}componentDidUpdate(e){const t=this.props.focusOnEnabled&&!this.props.isDisabled,n=e.focusOnEnabled&&!e.isDisabled;t&&!n&&this._ref.current.focus()}_activate(e){this._isActive=e,this.setState({isActive:e})}_focus(e){this._isFocused=e,this.setState({isFocused:e})}_shouldPreventFocus(){return!this.props.allowFocusOnPress&&!(o()===this._uid)}_press(e){const{onPress:t}=this.props;t&&t(e)}render(){const e=this.props,{className:t,to:n,kind:i,size:a,isSelected:o,isDisabled:l,component:d,allowFocusOnPress:u,role:p,focusOnEnabled:f,onPress:I}=e,b=((e,t)=>{var n={};for(var i in e)h.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&g)for(var i of g(e))t.indexOf(i)<0&&y.call(e,i)&&(n[i]=e[i]);return n})(e,["className","to","kind","size","isSelected","isDisabled","component","allowFocusOnPress","role","focusOnEnabled","onPress"]),{isActive:M,isFocused:S}=this.state,E={"data-uid":this._uid};let D=d;return n&&(D="a",E.href=n),E.role=p||(n?"link":"button"),E.className=s()(t,m.link,m[i],a&&m[a],o&&m.isSelected,M&&c.lW,S&&c.GZ,l&&c.Pv),"button"!==D&&"input"!==D||(E.type=b.type||"button",E.disabled=l),D?r.createElement(D,v(v(v({},b),E),{ref:this._ref,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchCancel,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseLeave:this.onMouseLeave,onClick:this.onClick,onFocus:this.onFocus,onBlur:this.onBlur})):null}}I.defaultProps={component:"button",kind:d.TP,isSelected:!1,isDisabled:!1,allowFocusOnPress:!1};const b=I},45915:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(94184),s=n.n(i),r=n(67294),a=n(81473),o=n(27620),l=n(75500),c=n(58858);var d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=Object.assign;function h(e){var{children:t,className:n,loadingLabel:i,spinnerSize:o,spinnerColor:l,isDisabled:h,isSpinning:g}=e,y=((e,t)=>{var n={};for(var i in e)d.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&u)for(var i of u(e))t.indexOf(i)<0&&p.call(e,i)&&(n[i]=e[i]);return n})(e,["children","className","loadingLabel","spinnerSize","spinnerColor","isDisabled","isSpinning"]);return r.createElement(c.Z,m({className:s()(n,"SpinnerButton-button-1UV-_p Button-button-31pe5T Link-link-3v-v0b",g&&"SpinnerButton-isSpinning-111LZw"),isDisabled:h||g},y),r.createElement("span",{className:"SpinnerButton-spinnerContainer-1hitOG"},r.createElement(a.Z,{className:"SpinnerButton-spinner-3wYtL3 Spinner-spinner-5E5Wk_ spin-spin-oHlEXH",color:l,loadingLabel:i,size:o})),r.createElement("span",{className:"SpinnerButton-label-2gz2xA"},t))}h.defaultProps={isDisabled:!1,isSpinning:!1,spinnerSize:o.HC,spinnerColor:l.Z.defaultColor};const g=h},17215:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(67294),s=n(48604),r=n(14513),a=n(84385);const o={toolbarButton:"ToolbarButton-toolbarButton-HjswtL",bottomLeft:"ToolbarButton-bottomLeft-WjZoEz Tooltip-bottomLeft-35U4pn Tooltip-tooltip-7baWc9 Tooltip-tooltipArrow-3xCLkA Tooltip-tooltipTopArrow-2DrTmU Tooltip-tooltipLeftAlignArrow-c459qf",bottomCenter:"ToolbarButton-bottomCenter-3ZAltW Tooltip-bottomCenter-3puJD6 Tooltip-tooltip-7baWc9 Tooltip-tooltipArrow-3xCLkA Tooltip-tooltipTopArrow-2DrTmU Tooltip-tooltipCenterAlignArrow-2WhOj6",bottomRight:"ToolbarButton-bottomRight-1-R0kH Tooltip-bottomRight-3oFr6B Tooltip-tooltip-7baWc9 Tooltip-tooltipArrow-3xCLkA Tooltip-tooltipTopArrow-2DrTmU Tooltip-tooltipRightAlignArrow-V2Ez0X",hasFocus:"ToolbarButton-hasFocus-SE-dzp"};var l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=Object.assign;class p extends i.Component{render(){const e=this.props,{children:t,tooltip:n,className:a,hasLabel:p,tooltipAttachment:m,hideOnPress:h,onPress:g}=e,y=((e,t)=>{var n={};for(var i in e)l.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&c)for(var i of c(e))t.indexOf(i)<0&&d.call(e,i)&&(n[i]=e[i]);return n})(e,["children","tooltip","className","hasLabel","tooltipAttachment","hideOnPress","onPress"]),v=o[m],f=`${v} ${o.hasFocus}`;return i.createElement(r.Z,u({className:a,"aria-label":n,component:s.Z,tooltip:n,tooltipClassName:v,tooltipFocusedClassName:f,hideOnPress:h,onPress:g},y),t)}}p.defaultProps={className:o.toolbarButton,tooltipAttachment:a.eO};const m=p},96582:(e,t,n)=>{"use strict";n.d(t,{Z:()=>z});var i=n(67294),s=n(9966),r=n(82548),a=n(57904),o=n(58808),l=n.n(o);const c={container:"AutosuggestInput-container-2T0i03",input:"AutosuggestInput-input-AGRt0G",suggestionsContainer:"AutosuggestInput-suggestionsContainer-36Dq6- Scroller-scroller-1krvWC Scroller-vertical-1tg_Qg Menu-menu-2zqgoE",suggestionsContainerOpen:"AutosuggestInput-suggestionsContainerOpen-16NsmT",suggestionsList:"AutosuggestInput-suggestionsList-3YTatD",suggestion:"AutosuggestInput-suggestion-3XS3Lp MenuItem-menuItem-3VIgmv",suggestionHighlighted:"AutosuggestInput-suggestionHighlighted-oJ1xpe"};var d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=Object.assign;function h(e){const{inputComponent:t,suggestionsComponent:n,theme:s}=e,r=((e,t)=>{var n={};for(var i in e)d.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&u)for(var i of u(e))t.indexOf(i)<0&&p.call(e,i)&&(n[i]=e[i]);return n})(e,["inputComponent","suggestionsComponent","theme"]);return i.createElement(l(),m(m({},r),{renderInputComponent:t,renderSuggestionsContainer:n,theme:m(m({},c),s)}))}h.defaultProps={inputComponent:function(e){return i.createElement("input",m({type:"text"},e))}};const g=h;var y=n(94184),v=n.n(y),f=n(13469),I=n.n(f),b=n(60514),M=n(48604);class S extends i.Component{constructor(){super(...arguments),this.onPress=()=>{const{onRemove:e,index:t}=this.props;e(t)}}render(){const{className:e,removeClassName:t,tag:n,iconComponent:s,isDisabled:r,removeLabel:a,getTagDisplayValue:o}=this.props;return i.createElement("span",{className:e},r?null:i.createElement(M.Z,{className:t,"aria-label":a,onPress:this.onPress},i.createElement(s,null)),i.createElement("span",null,o(n)))}}S.defaultProps={className:"TagLabel-tag-PcHWWi",removeClassName:"TagLabel-remove-jHnOZ9"};const E=S;var D=Object.prototype.hasOwnProperty,C=Object.getOwnPropertySymbols,P=Object.prototype.propertyIsEnumerable,w=Object.assign,T=(e,t)=>{var n={};for(var i in e)D.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&C)for(var i of C(e))t.indexOf(i)<0&&P.call(e,i)&&(n[i]=e[i]);return n};class Z extends i.Component{constructor(e,t){super(e,t),this.addTag=e=>this._addTags([e]),this.setInputRef=e=>{this.inputRef=e},this.setDivRef=e=>{this.divRef=e},this.onPaste=e=>{const{addOnPaste:t,pasteSplit:n,makeTag:i}=this.props;if(!t)return;e.preventDefault();const s=n(function(e){return window.clipboardData?window.clipboardData.getData("Text"):e.clipboardData?e.clipboardData.getData("text/plain"):""}(e)).map((e=>i(e)));this._addTags(s)},this.onKeyDown=e=>{const{onKeyDown:t}=this.props.inputProps;if(t&&t(e),e.defaultPrevented)return;const{value:n,removeKeys:i,addKeys:s,inputValue:r}=this.props,a=""===r,o=e.keyCode,l=-1!==s.indexOf(o),c=-1!==i.indexOf(o);l&&(this._accept()||o===b.K5)&&e.preventDefault(),c&&n.length>0&&a&&(e.preventDefault(),this._removeTag(n.length-1))},this.onClick=e=>{e.target===this.divRef&&(this.inputRef&&"function"==typeof this.inputRef.focus&&this.inputRef.focus(),this.onFocus())},this.onChange=e=>{const{onInputChange:t}=this.props,{onChange:n}=this.props.inputProps,i=e.target.value;n&&n(e),t(i)},this.onFocus=e=>{const{onFocus:t}=this.props.inputProps;t&&t(e),this.setState({isFocused:!0})},this.onBlur=e=>{const{onBlur:t}=this.props.inputProps;if(this.setState({isFocused:!1}),null!=e&&(t&&t(e),this.props.addOnBlur)){const t=this.props.makeTag(e.target.value);this._addTags([t])}},this.onRemove=e=>{this._removeTag(e)},this.state={isFocused:!1}}componentDidUpdate(e){const{value:t,excludedTags:n}=this.props;n!==e.excludedTags&&n.forEach((e=>{const n=t.findIndex((t=>t===e));this._removeTag(n)}))}_removeTag(e){if(e>-1&&e<this.props.value.length){const t=this.props.value.slice(0),n=t.splice(e,1);this.props.onChange(t,n,[e])}}_clearInput(){this.props.onInputChange("")}_addTags(e){const{validationRegex:t,onlyUnique:n,maxTags:i,value:s,getTagValue:r,onChange:a,onValidationReject:o}=this.props;let l;if(n&&(e=I().uniq(e,(e=>r(e)))),t&&(l=e.filter((e=>!t.test(r(e)))),e=e.filter((e=>t.test(r(e))))),e=e.filter((e=>{const t=r(e);return t?t.trim().length>0:t})),i>=0){const t=Math.max(i-s.length,0);e=e.slice(0,t)}if(o&&l&&l.length>0&&o(l),e.length>0){let t=s.concat(e);const i=[];for(let t=0;t<e.length;t++)i.push(s.length+t);n&&(t=I().uniq(t,(e=>r(e))));const o=t.length!==s.length;return o&&a(t,e,i),this._clearInput(),o}return this._clearInput(),!1}_accept(){let e=this.props.inputValue;return""!==e&&(e=this.props.makeTag(e),this._addTags([e]))}inputProps(){const{value:e,inputProps:t}=this.props,{placeholder:n,onChange:i,onFocus:s,onBlur:r}=t,a=T(t,["placeholder","onChange","onFocus","onBlur"]),o=w({className:"TagsInput-input-fQI5I7",placeholder:e.length?"":n},a);return this.props.isDisabled&&(o.isDisabled=!0),o}render(){const{id:e,className:t,errorClassName:n,focusedClassName:s,hasError:r,value:a,inputValue:o,getTagValue:l,getTagDisplayValue:c,tagProps:d,tagComponent:u,inputComponent:p,isDisabled:m}=this.props,{isFocused:h}=this.state;return i.createElement("div",{id:e,className:v()(t,h&&s,r&&n),ref:this.setDivRef,onClick:this.onClick},a.map(((e,t)=>i.createElement(u,w({key:`${l(e)}-${t}`,index:t,tagCount:a.length,tag:e,isDisabled:m,getTagDisplayValue:c,onRemove:this.onRemove},d)))),i.createElement(p,w(w({key:"input",inputRef:this.setInputRef,value:o},this.inputProps()),{addTag:this.addTag,onPaste:this.onPaste,onKeyDown:this.onKeyDown,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur})))}}Z.defaultProps={className:"TagsInput-tagsInput-3NVBXQ",errorClassName:"TagsInput-hasError-32u0D3 input-hasError-1qJlnz",addKeys:[b.Mf,b.K5],addOnBlur:!1,addOnPaste:!1,inputProps:{},removeKeys:[b.ZH],inputComponent:function(e){const{inputRef:t,addTag:n}=e,s=T(e,["inputRef","addTag"]);return i.createElement("input",w({type:"text",ref:t},s))},tagComponent:E,pasteSplit:function(e){return e.split(" ").map((e=>e.trim()))},tagProps:{},onlyUnique:!0,maxTags:-1,excludedTags:[],validationRegex:null,isDisabled:!1,getTagDisplayValue:e=>e,getTagValue:e=>e,makeTag:e=>e};const N=Z;var A=Object.prototype.hasOwnProperty,x=Object.getOwnPropertySymbols,L=Object.prototype.propertyIsEnumerable,O=Object.assign,j=(e,t)=>{var n={};for(var i in e)A.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&x)for(var i of x(e))t.indexOf(i)<0&&L.call(e,i)&&(n[i]=e[i]);return n};const k={placement:"bottom-start",modifiers:[{name:"preventOverflow",enabled:!1},{name:"flip",enabled:!1},{name:"maxSize",enabled:!0,phase:"beforeWrite",requiresIfExists:["offset","preventOverflow","flip"],fn({state:e,name:t,options:n}){const i=(0,s.Z)(e,n),{y:r}=e.modifiersData.preventOverflow||{x:0,y:0},{height:a}=e.rects.popper,[o]=e.placement.split("-"),l="top"===o?"top":"bottom";e.styles.popper.maxHeight=a-i[l]-r-14+"px",e.styles.popper.width=`${e.rects.reference.width}px`}}]};class R extends i.Component{constructor(e,t){super(e,t),this.setTagsInputRef=e=>{this.tagsInputRef=e},this.onInputChange=e=>{this.setState({inputValue:e})},this.onSuggestionSelected=(e,{suggestion:t})=>{this.tagsInputRef.addTag(this.props.makeTagFromSuggestion(t))},this.onInputFocus=(e,t)=>{this.setState({isMenuOpen:!0},(()=>t(e)))},this.onWindowPress=e=>{const t=this.suggestRef.current,n=t&&t.contains(e.target),i=!n&&document.getElementById(this.inputID),s=i&&i.contains(e.target);n||s||this.setState({isMenuOpen:!1})},this.renderInputComponent=e=>{var{ref:t}=e,n=j(e,["ref"]);const{className:s,shouldRenderSuggestions:r,tagComponent:a,validationRegex:o,value:l,makeTag:c,getTagDisplayValue:d,getTagValue:u,tagProps:p,excludedTags:m,onChange:h}=this.props,{inputValue:g}=this.state;return i.createElement(N,{id:this.inputID,className:s,inputValue:g,inputProps:O(O({},n),{inputRef:t,onFocus:e=>{this.onInputFocus(e,n.onFocus)}}),tagProps:p,value:l,validationRegex:o,tagComponent:a,addOnBlur:!r(g),getTagValue:u,getTagDisplayValue:d,makeTag:c,excludedTags:m,ref:this.setTagsInputRef,onInputChange:this.onInputChange,onChange:h})},this.renderSuggestionsComponent=e=>{const{containerProps:t}=e,{ref:n}=t,s=j(t,["ref"]),{children:a}=e;return n(this.suggestRef.current),i.createElement(r.Z,O({target:this.inputID,isOpen:this.state.isMenuOpen,options:k,ref:this.suggestRef},s),a)},this.state={inputValue:"",isMenuOpen:!1},this.suggestRef=i.createRef(),this.inputID=(0,a.Z)()}componentDidUpdate(e,t){!t.isMenuOpen&&this.state.isMenuOpen?this._enable():t.isMenuOpen&&!this.state.isMenuOpen&&this._disable()}_enable(){document.addEventListener("mouseup",this.onWindowPress),document.addEventListener("touchend",this.onWindowPress)}_disable(){document.removeEventListener("mouseup",this.onWindowPress),document.removeEventListener("touchend",this.onWindowPress)}render(){const{placeholder:e,suggestions:t,getAddSuggestionTag:n,getSuggestionValue:s,renderSuggestion:r,suggestionsFilter:a,shouldRenderSuggestions:o,theme:l,onSuggestionsClearRequested:c,onSuggestionsFetchRequested:d}=this.props,{inputValue:u}=this.state,p=n&&u.length>0?[n(u)]:[],m=t.reduce(((e,t)=>(a(t,u)&&e.push(t),e)),p);return i.createElement(g,{suggestions:m,shouldRenderSuggestions:o,getSuggestionValue:s,renderSuggestion:r,focusInputOnSuggestionClick:!1,highlightFirstSuggestion:!0,inputProps:{value:u,placeholder:e,onChange:(e,{newValue:t,method:n})=>{"enter"===n&&e.preventDefault(),"enter"===n||"click"===n?this.setState({isMenuOpen:!1}):"type"===n&&this.setState({isMenuOpen:!0})}},theme:O({input:"AutosuggestTagsInput-input-11UoB0 TagsInput-input-fQI5I7"},l),inputComponent:this.renderInputComponent,suggestionsComponent:this.renderSuggestionsComponent,onSuggestionSelected:this.onSuggestionSelected,onSuggestionsClearRequested:c,onSuggestionsFetchRequested:d})}}R.defaultProps={className:"AutosuggestTagsInput-tagsInput-3DMp6c TagsInput-tagsInput-3NVBXQ",suggestions:[],value:[],shouldRenderSuggestions:()=>!1};const z=R},44963:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(94184),s=n.n(i),r=n(67294),a=n(27620);const o={input:"CheckInput-input-3zLcUz",label:"CheckInput-label-25ZmsW",small:"CheckInput-small-3CtrUW",large:"CheckInput-large-3L0FXN",isDisabled:"CheckInput-isDisabled-2jYB-z",hasError:"CheckInput-hasError-1BhvUb"};var l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=Object.assign;class p extends r.Component{constructor(e,t){super(e,t),this.setRef=e=>{this._checkbox=e},this.onChange=e=>{const t=e.target.checked?this.props.checkedValue:this.props.uncheckedValue;this.props.value!==t&&this.props.onChange(t)},this._checkbox=null}componentDidMount(){this.setIndeterminate()}componentDidUpdate(){this.setIndeterminate()}setIndeterminate(){if(!this._checkbox)return;const{value:e,uncheckedValue:t,checkedValue:n}=this.props;this._checkbox.indeterminate=e!==t&&e!==n}render(){const e=this.props,{className:t,inputClassName:n,errorClassName:i,disabledClassName:a,isDisabled:p,size:m,checkboxText:h,name:g,initialValue:y,value:v,checkedValue:f,uncheckedValue:I,showErrors:b,hasError:M,errors:S,validations:E}=e,D=((e,t)=>{var n={};for(var i in e)l.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&c)for(var i of c(e))t.indexOf(i)<0&&d.call(e,i)&&(n[i]=e[i]);return n})(e,["className","inputClassName","errorClassName","disabledClassName","isDisabled","size","checkboxText","name","initialValue","value","checkedValue","uncheckedValue","showErrors","hasError","errors","validations"]);return r.createElement("label",{className:s()(t,o[m],p&&a,M&&i),htmlFor:g},r.createElement("input",u(u({},D),{id:g,type:"checkbox",disabled:p,className:n,checked:v===f,ref:this.setRef,onChange:this.onChange})),h)}}p.defaultProps={className:o.label,inputClassName:o.input,errorClassName:o.hasError,disabledClassName:o.isDisabled,isDisabled:!1,size:a.ln,uncheckedValue:!1,checkedValue:!0,value:!1,hasError:!1};const m=p},69598:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(67294),s=n(44963),r=n(81151),a=n(40084),o=n(66734),l=n(81093),c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=Object.assign;function m(e){var{formGroupClassName:t,labelText:n,checkboxText:l,helpText:m,showErrors:h,errors:g}=e,y=((e,t)=>{var n={};for(var i in e)c.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&d)for(var i of d(e))t.indexOf(i)<0&&u.call(e,i)&&(n[i]=e[i]);return n})(e,["formGroupClassName","labelText","checkboxText","helpText","showErrors","errors"]);const[v]=g;return i.createElement(r.Z,{className:t},n?i.createElement(o.Z,null,n):null,i.createElement(s.Z,p({hasError:h,checkboxText:i.createElement("span",null,l,h&&v?` — ${v}`:null)},y)),m?i.createElement(a.Z,null,m):null)}m.defaultProps={showErrors:!1,errors:[]};const h=(0,l.Z)(m)},18676:(e,t,n)=>{"use strict";n.d(t,{Nw:()=>v,ZP:()=>b});var i=n(67294),s=n(40111),r=n(13469),a=n.n(r),o=n(92179),l=n(73034),c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=Object.assign;const m="CHANGE",h="REPLACE_STATE",g="RESET",y="SHOW_ERRORS",v={change:(0,l.Z)(m),replaceState:(0,l.Z)(h),reset:(0,l.Z)(g),showErrors:(0,l.Z)(y)};function f(e={},{type:t,payload:n}){switch(t){case m:{const{name:t,change:i}=n;if(null==i){const n=p({},e);return delete n[t],n}return p(p({},e),{[t]:i})}case h:return n;case g:return{};case y:return a().mapObject(e,(e=>p(p({},e),{showErrors:0!==e.errors.length})));default:return e}}class I extends i.Component{constructor(e,t){super(e,t),this.onFormStoreChange=()=>{const e=this.store.getState();e!==this.prevState&&(this.prevState=e,this.props.onChange(e))},this.onSubmit=e=>{e.preventDefault(),e.nativeEvent.preventDefault();const t=this.store.getState();if(a().some(t,((e,t)=>0!==e.errors.length)))this.actions.showErrors();else{const e=a().mapObject(t,((e,t)=>e.value));this.props.onSubmit(e,t)}},this.store=(0,s.MT)(f),this.prevState=this.store.getState(),this.actions=(0,s.DE)(v,this.store.dispatch)}getChildContext(){return{formStore:this.store}}componentWillMount(){this.unsubscribe=this.store.subscribe(this.onFormStoreChange)}componentWillReceiveProps(e){e.formState&&this.store.getState()!==e.formState&&this.actions.replaceState(e.formState)}componentWillUnmount(){this.unsubscribe&&(this.unsubscribe(),this.store.replaceReducer((e=>e)))}render(){const e=this.props,{children:t,formState:n,onChange:s}=e,r=((e,t)=>{var n={};for(var i in e)c.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&d)for(var i of d(e))t.indexOf(i)<0&&u.call(e,i)&&(n[i]=e[i]);return n})(e,["children","formState","onChange"]);return i.createElement("form",p(p({},r),{onSubmit:this.onSubmit}),t)}}I.childContextTypes={formStore:o.Z},I.defaultProps={onSubmit(){},onChange(){}};const b=I},81151:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(67294),s=Object.prototype.hasOwnProperty,r=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,o=Object.assign;function l(e){var{children:t}=e,n=((e,t)=>{var n={};for(var i in e)s.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&r)for(var i of r(e))t.indexOf(i)<0&&a.call(e,i)&&(n[i]=e[i]);return n})(e,["children"]);return i.createElement("div",o({},n),t)}l.defaultProps={className:"FormGroup-group-2-m-tb"};const c=l},40084:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(67294),s=Object.prototype.hasOwnProperty,r=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,o=Object.assign;function l(e){var{children:t,className:n}=e,l=((e,t)=>{var n={};for(var i in e)s.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&r)for(var i of r(e))t.indexOf(i)<0&&a.call(e,i)&&(n[i]=e[i]);return n})(e,["children","className"]);return i.createElement("p",o(o({},l),{className:n}),t)}l.defaultProps={className:"FormHelp-help-3mqNXG"};const c=l},66734:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(94184),s=n.n(i),r=n(67294);var a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=Object.assign;function d(e){var{children:t,className:n,errorClassName:i,name:d,hasError:u}=e,p=((e,t)=>{var n={};for(var i in e)a.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&o)for(var i of o(e))t.indexOf(i)<0&&l.call(e,i)&&(n[i]=e[i]);return n})(e,["children","className","errorClassName","name","hasError"]);return r.createElement("label",c(c({},p),{className:s()(n,u&&i),htmlFor:d}),t)}d.defaultProps={className:"FormLabel-label-1WQL1E",errorClassName:"FormLabel-hasError-1qXK3S"};const u=d},5965:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67294),s=n(66734);const r=function(e){const{className:t,name:n,labelText:r,showErrors:a,errors:o}=e,[l]=o;return i.createElement(s.Z,{className:t,hasError:a,name:n},r,a&&l?` — ${l}`:null)}},43308:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(67294),s=n(66935),r=Object.assign;class a extends i.Component{constructor(){super(...arguments),this.onChange=e=>{const t=e?parseInt(e,10):null;this.props.onChange(t)}}render(){return i.createElement(s.Z,r(r({type:"number"},this.props),{selectTextOnFocus:!1,onChange:this.onChange}))}}const o=a},1284:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(94184),s=n.n(i),r=n(67294),a=n(13469),o=n.n(a),l=n(27620);const c={input:"SelectInput-input-1P8SoV input-input-26w-zg",small:"SelectInput-small-xJmRnf input-small-3zRGhK",select:"SelectInput-select-1xTFmS",large:"SelectInput-large-3ojXyW input-large-1FHirM",isDisabled:"SelectInput-isDisabled-g_R9Bx",hasError:"SelectInput-hasError-2VKByD"};var d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=Object.assign;class h extends r.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onChange(e.target.value)}}render(){const e=this.props,{className:t,errorClassName:n,disabledClassName:i,isDisabled:a,size:l,name:h,initialValue:g,value:y,values:v,hasError:f,errors:I,validations:b}=e,M=((e,t)=>{var n={};for(var i in e)d.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&u)for(var i of u(e))t.indexOf(i)<0&&p.call(e,i)&&(n[i]=e[i]);return n})(e,["className","errorClassName","disabledClassName","isDisabled","size","name","initialValue","value","values","hasError","errors","validations"]);return r.createElement("div",{className:s()(t,c[l],a&&i,f&&n)},r.createElement("select",m(m({},M),{disabled:a,className:c.select,id:h,name:h,value:y,onChange:this.onChange}),v.map(((e,t)=>{if(o().isString(e))return r.createElement("option",{key:t,value:e},e);const[n]=o().keys(e);return r.createElement("option",{key:t,value:n},o().result(e,n))}))))}}h.defaultProps={className:c.input,errorClassName:c.hasError,disabledClassName:c.isDisabled,isDisabled:!1,size:l.ln,hasError:!1};const g=h},43530:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(67294),s=n(81151),r=n(40084),a=n(5965),o=n(1284),l=n(81093),c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=Object.assign;const m=(0,l.Z)((function(e){var{formGroupClassName:t,formLabelClassName:n,name:l,labelText:m,helpText:h,showErrors:g,errors:y}=e,v=((e,t)=>{var n={};for(var i in e)c.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&d)for(var i of d(e))t.indexOf(i)<0&&u.call(e,i)&&(n[i]=e[i]);return n})(e,["formGroupClassName","formLabelClassName","name","labelText","helpText","showErrors","errors"]);return i.createElement(s.Z,{className:t},i.createElement(a.Z,{className:n,showErrors:g,errors:y,name:l,labelText:m}),i.createElement(o.Z,p({name:l,hasError:g},v)),h?i.createElement(r.Z,null,h):null)}))},66935:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(94184),s=n.n(i),r=n(67294),a=n(27620);const o={input:"TextInput-input-M2gRCL input-input-26w-zg",small:"TextInput-small-3LZAgL input-small-3zRGhK",large:"TextInput-large-uTPWre input-large-1FHirM",isDisabled:"TextInput-isDisabled-3zzfyz input-isDisabled-2htfpI",hasError:"TextInput-hasError-3sRHm_ input-hasError-1qJlnz"};var l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=Object.assign;class p extends r.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onChange(e.target.value)},this.onFocus=()=>{this._select()},this.onRef=e=>{this.inputElement=e}}componentDidMount(){this.props.focusOnMount&&(this.inputElement.focus(),this._select())}_select(){if(this.inputElement&&this.props.selectTextOnFocus){const e=this.inputElement.value,t=e?e.length:0;this.inputElement.selectionStart=0,this.inputElement.selectionEnd=t}}render(){const e=this.props,{className:t,errorClassName:n,disabledClassName:i,isDisabled:a,initialValue:p,value:m,size:h,type:g,name:y,placeholder:v,hasError:f,errors:I,validations:b,focusOnMount:M,selectTextOnFocus:S}=e,E=((e,t)=>{var n={};for(var i in e)l.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&c)for(var i of c(e))t.indexOf(i)<0&&d.call(e,i)&&(n[i]=e[i]);return n})(e,["className","errorClassName","disabledClassName","isDisabled","initialValue","value","size","type","name","placeholder","hasError","errors","validations","focusOnMount","selectTextOnFocus"]);return r.createElement("input",u(u({},E),{id:y,name:y,type:g,disabled:a,value:m,placeholder:v,className:s()(t,o[h],a&&i,f&&n),ref:M?this.onRef:null,onChange:this.onChange,onFocus:this.onFocus}))}}p.defaultProps={className:o.input,errorClassName:o.hasError,disabledClassName:o.isDisabled,isDisabled:!1,size:a.ln,type:"text",hasError:!1,focusOnMount:!1,selectTextOnFocus:!1};const m=p},81241:(e,t,n)=>{"use strict";n.d(t,{W:()=>m,Z:()=>h});var i=n(67294),s=n(81151),r=n(40084),a=n(5965),o=n(66935),l=n(81093),c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=Object.assign;function m(e){var{formGroupClassName:t,formLabelClassName:n,name:l,labelText:m,helpText:h,showErrors:g,errors:y,children:v}=e,f=((e,t)=>{var n={};for(var i in e)c.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&d)for(var i of d(e))t.indexOf(i)<0&&u.call(e,i)&&(n[i]=e[i]);return n})(e,["formGroupClassName","formLabelClassName","name","labelText","helpText","showErrors","errors","children"]);return i.createElement(s.Z,{className:t},v,i.createElement(a.Z,{className:n,showErrors:g,errors:y,name:l,labelText:m}),i.createElement(o.Z,p({name:l,hasError:g},f)),h?i.createElement(r.Z,null,h):null)}m.defaultProps={errors:[]};const h=(0,l.Z)(m)},81093:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var i=n(45697),s=n.n(i),r=n(67294),a=n(40111),o=n(13469),l=n.n(o),c=n(16548),d=n(7506),u=n(92179),p=n(68521),m=n(23438),h=(n(67038),n(21809)),g=n(18676),y=Object.prototype.hasOwnProperty,v=Object.getOwnPropertySymbols,f=Object.prototype.propertyIsEnumerable,I=Object.assign;function b(e){var t;const n=`FormInput(${(0,d.Z)(e)})`;return(t=class extends r.Component{constructor(e,t){super(e,t),this.onFormStoreChange=()=>{const{name:e}=this.props,t=this.store.getState(),n=t[e];n||this.initializeInputState(this.props),(0,p.Z)(t,this.previousFormState)||(this.previousFormState=t,this.handleStateChange(this.props)),this.state!==n&&null!=n&&this.setState(n)},this.onChange=e=>{const{transformValue:t}=this.props;this.handleStateChange(this.props,t?t(e):e)},this.onBlur=()=>{if(this.hasBlurred)return;this.hasBlurred=!0;const e=this.store.getState(),{name:t}=this.props,n=e[t],i=this.calculateErrors(n.value,e,this.props);this.actions.change({name:t,change:I(I({},n),{errors:i,showErrors:0!==i.length})})},this.store=t.formStore,this.actions=(0,a.DE)(g.Nw,this.store.dispatch),this.state=null,this.hasBlurred=!1}componentWillMount(){this.previousFormState=this.store.getState(),this.unsubscribe=this.store.subscribe(this.onFormStoreChange),this.initializeInputState(this.props)}componentWillReceiveProps(e){(0,h.Z)(e.initialValue)&&(0,h.Z)(this.props.initialValue)?(0,p.Z)(e.initialValue,this.props.initialValue)||this.handleStateChange(e,e.initialValue):l().isEqual(e.initialValue,this.props.initialValue)||this.handleStateChange(e,e.initialValue)}shouldComponentUpdate(e,t){return(0,m.Z)(this,e,t)}componentWillUnmount(){const{name:e}=this.props;this.unsubscribe&&this.unsubscribe(),this.actions.change({name:e,change:null})}initializeInputState(e){const{name:t,initialValue:n}=e,i=this.store.getState();i[t]={errors:this.calculateErrors(n,i,e),showErrors:!1,value:n},this.actions.replaceState(i)}handleStateChange(e,t){const n=this.store.getState(),{name:i}=e,s=n[i],r=Array.isArray(t)||null!=t?t:s.value,a=this.calculateErrors(r,n,e);l().isEqual(s.value,r)&&l().isEqual(s.errors,a)||this.actions.change({name:i,change:{errors:a,showErrors:this.hasBlurred&&0!==a.length,value:r}})}calculateErrors(e,t,n){const{validations:i}=n;return i.map((n=>n(e,t))).filter((e=>null!=e))}render(){const t=this.props,{validations:n,errors:i,transformValue:s,onChange:a}=t,o=((e,t)=>{var n={};for(var i in e)y.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&v)for(var i of v(e))t.indexOf(i)<0&&f.call(e,i)&&(n[i]=e[i]);return n})(t,["validations","errors","transformValue","onChange"]);if(!this.state)return null;const l=i.length>0,{value:d,errors:u,showErrors:p}=this.state;return r.createElement(e,I(I({},o),{showErrors:!!l||p,errors:l?i:u,value:d,onChange:(0,c.Z)(this.onChange,a),onBlur:this.onBlur}))}}).displayName=n,t.propTypes={name:s().string.isRequired,initialValue:s().oneOfType([s().number,s().string,s().bool,s().array,s().object]).isRequired,errors:s().arrayOf(s().string),validations:s().arrayOf(s().func),transformValue:s().func,onChange:s().func},t.contextTypes={formStore:u.Z},t.defaultProps={validations:[],errors:[]},t.WrappedComponent=e,t}},35815:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(67294),s=n(94285),r=Object.assign;function a(e){return i.createElement(s.Z,r({},e))}a.defaultProps={className:"PageHeaderBadge-badge-1Jxlh2"};const o=a},63593:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(67294),s=n(54177),r=n(48604),a=n(74186);var o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=Object.assign;class u extends i.Component{render(){const e=this.props,{linkClassName:t,buttonClassName:n,children:u,to:p,hasMenu:m,isMenuOpen:h,isSelected:g,isDisabled:y}=e,v=((e,t)=>{var n={};for(var i in e)o.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&l)for(var i of l(e))t.indexOf(i)<0&&c.call(e,i)&&(n[i]=e[i]);return n})(e,["linkClassName","buttonClassName","children","to","hasMenu","isMenuOpen","isSelected","isDisabled"]);return m||p?m?i.createElement(s.Z,d({className:n,"data-qa-id":"typeDropdownButton",isSelected:g,isDisabled:y,direction:h?a.UP:a.WV},v),u):i.createElement(r.Z,{className:t,to:p,isDisabled:y},u):i.createElement("span",{className:t},u)}}u.defaultProps={linkClassName:"PageHeaderBreadcrumbButton-link-2YiZOU",buttonClassName:"PageHeaderBreadcrumbButton-button-3jDhN7 DisclosureArrowButton-disclosureArrowButton-eURy9V Link-link-3v-v0b",hasMenu:!1,isMenuOpen:!1,isSelected:!1,isDisabled:!1};const p=u},97204:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67294);function s({className:e,children:t}){return i.createElement("div",{className:e},t)}s.defaultProps={className:"PageHeaderLeft-pageHeaderLeft-3KpuPu"};const r=s},85744:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(67294),s=Object.assign;function r(e){const{className:t,style:n,src:r,width:a,height:o,backgroundSize:l,backgroundPosition:c,backgroundRepeat:d}=e;return i.createElement("div",{className:t,style:s({width:a,height:o,backgroundImage:`url(${r})`,backgroundSize:l,backgroundPosition:c,backgroundRepeat:d},n)})}r.defaultProps={backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};const a=r},48569:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(94184),s=n.n(i),r=n(67294),a=n(60886),o=n(10598),l=n(85744);var c=Object.assign;function d(e,t,n){const{className:i,style:r,styleProps:a,durationMilliseconds:o,useCrossFade:l}=n,d=document.createElement("div");d.className=s()(i,l&&"CrossFadeImage-crossFade-aZg9GH"),Object.assign(d.style,c(c({position:"absolute",animationDuration:o+"ms",backgroundImage:`url(${e})`,width:"100%",height:"100%"},a),r)),t.appendChild(d)}function u(e){const{className:t,style:n,containerClassName:i,containerStyle:s,src:a,width:o,height:l,backgroundSize:u,backgroundPosition:p,backgroundRepeat:m,animateOnMount:h,disableCrossFade:g,durationMilliseconds:y}=e,v=(0,r.useRef)(null),f=(0,r.useRef)(!0),I=c({position:"relative",width:o,height:l},s);return(0,r.useLayoutEffect)((()=>{const e=f.current;f.current=!1;const i={className:t,style:n,styleProps:{backgroundSize:u,backgroundPosition:p,backgroundRepeat:m},durationMilliseconds:y,useCrossFade:!e||h};let s,r;return g&&(i.useCrossFade=!1),e?d(a,v.current,i):s=window.requestAnimationFrame((()=>{s=null,d(a,v.current,i),r=window.setTimeout((()=>{for(;v.current.childNodes.length>1;)(e=v.current).removeChild(e.childNodes[0]);var e}),2*y)})),()=>{s&&window.cancelAnimationFrame(s),r&&window.clearTimeout(r)}}),[t,n,a,u,p,m]),r.createElement("div",{className:i,style:I,ref:v})}u.defaultProps=c(c({},l.Z.defaultProps),{animateOnMount:!0,disableCrossFade:!1,durationMilliseconds:(0,a.Z)(o.Z.slowSpeed)});const p=u},82956:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(67294),s=n(85744),r=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=Object.assign;function c(e){e&&(e.onload=e.onabort=e.onerror=void 0)}function d(e){const{src:t,emptySrc:n,component:s,preloadOnMount:d,onLoad:u,onError:p}=e,m=((e,t)=>{var n={};for(var i in e)r.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&a)for(var i of a(e))t.indexOf(i)<0&&o.call(e,i)&&(n[i]=e[i]);return n})(e,["src","emptySrc","component","preloadOnMount","onLoad","onError"]),[h,g]=(0,i.useState)(d?null:t),[y,v]=(0,i.useState)(null),f=(0,i.useRef)(d);return(0,i.useEffect)((()=>{if(!f.current)return void(f.current=!0);if(!t)return;let e=new window.Image;return e.onload=()=>{e=c(e),g(t),v(null)},e.onabort=e.onerror=()=>{e=c(e),g(null),v(new Error(`Unable to load ${t}`))},e.src=t,()=>{e=c(e)}}),[t]),(0,i.useEffect)((()=>{!t&&h&&g(null)}),[h,t]),(0,i.useEffect)((()=>{h&&u&&u(h)}),[h,u]),(0,i.useEffect)((()=>{y&&p&&p(y)}),[y,p]),i.createElement(s,l(l({},m),{src:h||n}))}d.defaultProps={emptySrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",component:s.Z,preloadOnMount:!0};const u=d},85854:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>S});var i=n(19755),s=n.n(i),r=n(67294),a=n(23863),o=n(89001),l=n(97345),c=(n(67038),n(94036)),d=n(47909),u=n(82956),p=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,g=Object.assign;const y=new a.Z,v={},f={},I=[l.EU,l.yy,l.it,l.bS,l.Rr,l.Ko,l.ES,l.oP].sort(((e,t)=>b(e)-b(t)));function b(e){if(f.hasOwnProperty(e))return f[e];const t=e.split("-")[1];return f[e]=t,t}function M(e){const{url:t,minSize:n,format:i,quality:a,upscale:l,filters:f,allowPixelRatioSize:M,allowImageBlobs:S,supportsSize:E,onError:D}=e,C=((e,t)=>{var n={};for(var i in e)p.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&m)for(var i of m(e))t.indexOf(i)<0&&h.call(e,i)&&(n[i]=e[i]);return n})(e,["url","minSize","format","quality","upscale","filters","allowPixelRatioSize","allowImageBlobs","supportsSize","onError"]),P=function(e,t){if(!e)return;const n=Object.assign(function(e){const t=e.allowPixelRatioSize?(0,o.Z)():1,n=e.size||function(e){if(v.hasOwnProperty(e))return v[e];const t=I.find((t=>b(t)>=e))||I[I.length-1];return v[e]=t,t}(e.width);if(e.supportsSize)return{size:n,scale:Math.ceil(t)};{const i=b(n),s=e.height/e.width;return{width:Math.ceil(i*t),height:Math.ceil(s*i*t),minSize:e.minSize?1:void 0,upscale:e.upscale?1:void 0}}}(t),t.filters);t.format&&(n.format=t.format),t.quality&&(n.quality=t.quality);const i=e.indexOf("?");let s=e;return i>-1?(s=d.Z.join(e.substring(0,i),n),s+=-1===s.indexOf("?")?"?":"&",s+=e.substring(i+1)):s=d.Z.join(s,n),s}(t,e);let w,T;P&&S&&(w=y.getBlobUrl(P),w||(T=y.getPlaceholder(P)));const[Z,N]=(0,r.useState)(w||T||(S?null:P)),A=(0,r.useRef)(!1);return(0,r.useEffect)((()=>{if(A.current&&(A.current=!1,null==Z))return void(D&&D());let e;return w?Z!==w&&N(w):P&&S?(e=function(e){const t=s().Deferred(),n={cancelable:(0,c.Z)(t.promise()),xhr:null},i=new window.XMLHttpRequest;return i.open("GET",e,!0),i.responseType="arraybuffer",n.xhr=i,i.onreadystatechange=()=>{if(4===i.readyState)if(i.onreadystatechange=null,200===i.status){const n=new window.Blob([i.response],{type:"image/jpeg"}),s=window.URL.createObjectURL(n);y.store({url:e,blobUrl:s}),t.resolve(s)}else t.reject()},i.send(),n}(P),e.cancelable.promise.then((t=>{e=null,N(t)}),(({isCanceled:t}={})=>{t||(e=null,null===Z?D&&D():(A.current=!0,N(null)))}))):N(P&&!S?P:null),()=>{e&&(e.cancelable.cancel(),e.xhr&&(e.xhr.onreadystatechange=null,e.xhr.abort()))}}),[Z,P,w,S,D]),r.createElement(u.Z,g(g({},C),{src:Z,onError:D}))}M.defaultProps={minSize:!0,upscale:!0,allowPixelRatioSize:!0,allowImageBlobs:!0};const S=(0,r.memo)(M)},73068:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(94184),s=n.n(i),r=n(67294),a=n(13469),o=n.n(a),l=n(93502),c=n(68521),d=Object.assign;class u extends r.Component{constructor(e,t){super(e,t),this.state=this._getListState(e),this._keyPool=function(e=""){const t=[],n={},i={};let s=0;function r(){let n;return t.length?n=t.shift():(n=e+s,s++),n}function a(e){delete n[e]}return{getKeys(e,s,l,c=0,d){o().each(n,((n,r)=>{const a=n.item;if(null===a)t.push(r);else{const n=o().isString(a)?a:a[d],u=l.indexOf(a)+c;(u<e||u>s)&&(t.push(r),delete i[n])}}));for(let t=e;t<=s;t++){const e=l[t-c]||null,s=e&&(o().isString(e)?e:e[d]);let a=e&&i[s];a||(a=r(),e&&(i[s]=a)),n[a]={index:t,item:e}}return t.forEach(a),t.length=0,o().extend({},n)}}}("cell"),this._shouldRequestPage=!1}componentWillMount(){this.props.onListUpdate&&this.props.onListUpdate(this.state)}componentDidMount(){this._checkForPageRequest()}componentWillReceiveProps(e){const t=this._getListState(e);(0,c.Z)(this.state,t)||this.setState(t)}shouldComponentUpdate(e,t){const n=this.props,i=this.state;return e.items!==n.items||e.size!==n.size||e.viewportWidth!==n.viewportWidth||e.viewportHeight!==n.viewportHeight||e.listTop!==n.listTop||e.listLeft!==n.listLeft||e.isScrolling!==n.isScrolling||e.skipRenderCells!==n.skipRenderCells||e.layout!==n.layout||e.cellRenderer!==n.cellRenderer||t.visibleStartIndex!==i.visibleStartIndex||t.visibleEndIndex!==i.visibleEndIndex||t.partiallyVisibleStartIndex!==i.partiallyVisibleStartIndex||t.partiallyVisibleEndIndex!==i.partiallyVisibleEndIndex||t.renderStartIndex!==i.renderStartIndex||t.renderEndIndex!==i.renderEndIndex||t.moveIndex!==i.moveIndex}componentWillUpdate(e,t){this.props.onListUpdate&&t!==this.state&&this.props.onListUpdate(t)}componentDidUpdate(){this._checkForPageRequest()}_getListState(e){const t=this._getListStyle(e),n=e.layout.getLandmarks&&e.layout.getLandmarks(),i=e.layout.getRangesForPosition(e.scrollTop,e.scrollLeft,e.size);return{listStyle:t,landmarks:n,visibleStartIndex:i.visibleStartIndex,visibleEndIndex:i.visibleEndIndex,partiallyVisibleStartIndex:i.partiallyVisibleStartIndex,partiallyVisibleEndIndex:i.partiallyVisibleEndIndex,renderStartIndex:i.renderStartIndex,renderEndIndex:i.renderEndIndex,moveIndex:e.moveIndex}}_getListStyle(e){const{size:t,layout:n,viewportWidth:i,viewportHeight:s,listTop:r,listLeft:a}=e,o={viewportWidth:i,viewportHeight:s,listTop:r,listLeft:a};return n.getListStyle(o,t)}_checkForPageRequest(){const e=this.state;this._shouldRequestPage&&(this._shouldRequestPage=!1,this.props.onPageRequest({startIndex:e.renderStartIndex,endIndex:e.renderEndIndex}))}renderCells(){const{keyPropName:e,items:t,itemsOffset:n,size:i,layout:s,hasNestedList:r,viewportWidth:a,viewportHeight:l,scrollLeft:c,scrollTop:u,cellRenderer:p,isScrolling:m,onPageRequest:h}=this.props,{moveIndex:g,renderStartIndex:y,renderEndIndex:v,partiallyVisibleStartIndex:f,partiallyVisibleEndIndex:I}=this.state;if(!i)return[];let b=i>t.length&&v===t.length-1;const M=this._keyPool.getKeys(y,v,t,n,e),S=[];return o().each(M,((n,h)=>{const y=n.index,v=n.item,M=y>=f&&y<=I,E=s.getPositionForIndex(y,i,t);(null===v||r)&&(b=!0);let D={key:h,keyPropName:e,isVirtual:!0,isVisible:M,isScrolling:m,moveIndex:g,viewportWidth:a,viewportHeight:l,cellIndex:y,cellX:E.cellX,cellY:E.cellY,cellWidth:E.cellWidth,cellHeight:E.cellHeight};r&&(D.scrollLeft=c,D.scrollTop=u),o().isString(v)?D[e]=v:D=d(d({},v),D),S.push(p(D))})),this._shouldRequestPage=!!h&&b&&!m,S}render(){const e=this._getListStyle(this.props),{className:t,isScrolling:n,skipRenderCells:i,children:a}=this.props;return r.createElement("div",{className:s()(t,n&&l.be),style:e},i?null:this.renderCells(),a)}}u.defaultProps={keyPropName:"entityID",items:[],itemsOffset:0,hasNestedList:!1,listTop:0,listLeft:0,isScrolling:!1,skipRenderCells:!1};const p=u},31590:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var i=n(67294),s=n(60423),r=n(19318),a=n(73068),o=n(19949),l=n(93143),c=n(23438),d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=Object.assign;function h(e,t){if(t.shouldCenterCell){const n=(t.viewportDimension-t.cellDimension)/2,i=Math.round(e-n);return Math.max(i,0)}return e-(t.offset||0)}class g extends i.Component{constructor(e,t){super(e,t),this.onScrollPositionChange=({scrollTop:e,scrollLeft:t})=>{this.setState({scrollTop:e,scrollLeft:t})},this.onListUpdate=e=>{const{visibleStartIndex:t}=e,{scrollIndex:n,onListScrollIndexChange:i,onListUpdate:s}=this.props;this._currentScrollIndex=t,this.state.isRestoringScrollPosition&&this.setState({isRestoringScrollPosition:!1}),i&&n!==t&&i(t),s&&s(e)},this.onMeasure=e=>{const t=Math.round(e.width),n=Math.round(e.height),{onMeasure:i}=this.props;this.setState({isMeasured:!0,width:t,height:n}),i&&i(e)},this.state={isRestoringScrollPosition:!1,isMeasured:!1,width:null,height:null,scrollTop:0,scrollLeft:0},this._currentScrollIndex=0,e.scrollPositionStorageKey&&(this._scrollPositionKey=`${o.Z.getPageKey()}!scrollPosition!${e.scrollPositionStorageKey}`)}componentWillMount(){this.props.scrollIndex||this._restoreScrollPosition()}shouldComponentUpdate(e,t){return(0,c.Z)(this,e,t)}componentDidUpdate(e,t){const{scrollIndex:n,scrollDirection:i,shouldCenterScrollIndex:s,layout:r}=this.props,{scrollLeft:a,scrollTop:o,width:c,height:d,isMeasured:u}=this.state;if(null==n||n===this._currentScrollIndex&&!s)return;const p=u&&!t.isMeasured&&n>0,m=u&&n!==e.scrollIndex,g=s!==e.shouldCenterScrollIndex;if(p||m||g){const e=function(e,t,{shouldCenterCell:n,outerPaddingLeft:i,outerPaddingTop:s,scrollerWidth:r,scrollerHeight:a}){return{scrollLeft:e===l._y?h(t.cellX,{shouldCenterCell:n,offset:i,viewportDimension:r,cellDimension:t.cellWidth}):0,scrollTop:e===l.yZ?h(t.cellY,{shouldCenterCell:n,offset:s,viewportDimension:a,cellDimension:t.cellHeight}):0}}(i,r.getPositionForIndex(Math.max(n,0)),{shouldCenterCell:s,outerPaddingLeft:r.options.outerPaddingLeft,outerPaddingTop:r.options.outerPaddingTop,scrollerWidth:c,scrollerHeight:d}),t=e.scrollLeft!==a||e.scrollTop!==o;this.setState({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,isRestoringScrollPosition:p&&t})}}componentWillUnmount(){this._scrollPositionKey&&o.Z.set(this._scrollPositionKey,{scrollTop:this.state.scrollTop,scrollLeft:this.state.scrollLeft})}_restoreScrollPosition(){if(this._scrollPositionKey){const e=o.Z.get(this._scrollPositionKey);e&&this.setState(m({isRestoringScrollPosition:!0},e))}}render(){const e=this.props,{className:t,children:n,scrollerClassName:o,virtualListClassName:l,ignoreWidth:c,ignoreHeight:h,resizeTimeout:g,scrollDirection:y,scrollIndex:v,scrollPositionStorageKey:f,smoothScroll:I,scrollerStyle:b,forwardedRef:M,onListUpdate:S,onMeasure:E,onScroll:D}=e,C=((e,t)=>{var n={};for(var i in e)d.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&u)for(var i of u(e))t.indexOf(i)<0&&p.call(e,i)&&(n[i]=e[i]);return n})(e,["className","children","scrollerClassName","virtualListClassName","ignoreWidth","ignoreHeight","resizeTimeout","scrollDirection","scrollIndex","scrollPositionStorageKey","smoothScroll","scrollerStyle","forwardedRef","onListUpdate","onMeasure","onScroll"]),{isMeasured:P,isRestoringScrollPosition:w,width:T,height:Z,scrollTop:N,scrollLeft:A}=this.state;return i.createElement(s.Z,{className:t,ignoreWidth:c,ignoreHeight:h,ignorePosition:!0,resizeTimeout:g,onMeasure:this.onMeasure},P?i.createElement(r.Z,{className:o,smoothScroll:!1!==I&&!w,scrollDirection:y,scrollTop:N,scrollLeft:A,enableChildrenProps:!0,style:b,ref:M,onScroll:D,onScrollPositionChange:this.onScrollPositionChange},i.createElement(a.Z,m({className:l,viewportWidth:T,viewportHeight:Z,skipRenderCells:w,onListUpdate:this.onListUpdate},C)),n):null)}}g.defaultProps={scrollDirection:l.yZ,scrollerClassName:"VirtualListScroller-scroller-1ap5-a",shouldCenterScrollIndex:!1};const y=i.forwardRef(((e,t)=>i.createElement(g,m(m({},e),{forwardedRef:t}))))},31419:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var i=n(94184),s=n.n(i),r=n(82777),a=n(67294),o=n(82548),l=n(19318),c=n(88898),d=n(93839),u=n(57904),p=n(93143),m=n(27620),h=n(23438),g=n(10598),y=n(86538),v=n(25713),f=n(60514);const I={menuPortal:"Menu-menuPortal-EWigjA",menuScroller:"Menu-menuScroller-Y94EA9 Scroller-vertical-1tg_Qg",menu:"Menu-menu-2zqgoE",isDisabled:"Menu-isDisabled-wRjdZ6",small:"Menu-small-12AN1d",medium:"Menu-medium-1lc0aj",large:"Menu-large-qUcb6R"};var b=Object.assign;const M=(0,c.Z)(g.Z.menuSpeed),S=1e3*M,E=parseInt(y.Z.menuPadding,10),D={ease:"easeOut",duration:M},C={ease:v.Z.motionEasing,duration:M},P={opacity:D,y:C,scale:C},w={preEnter:{opacity:0,y:-10,scale:.95,transition:P},enter:{opacity:1,y:0,scale:1,transition:P},exit:{opacity:0,y:10,scale:.95,transition:P}},T=[{name:"preventOverflow",enabled:!0,options:{altAxis:!0}}];function Z(e){return Math.min(window.innerHeight-2*E,e.maxHeight)}class N extends a.Component{constructor(e,t){super(e,t),this.onResize=e=>{this.setState({maxHeight:Z(this.props)})},this.onWindowDownPress=e=>{this._isElementContainedOrTarget(e.target)||(this._willMenuClose=!0)},this.onWindowUpPress=e=>{this._willMenuClose&&!this._isElementContainedOrTarget(e.target)&&this.props.onMenuClose(),this._willMenuClose=!1},this.onKeyDown=e=>{const t=e.keyCode;t===f.Mf?d.QE(e):t===f.hY&&(e.preventDefault(),e.stopPropagation(),this.props.onMenuClose(),d.sM())},this.state={maxHeight:Z(e)},this._willMenuClose=!1,this._menuID=(0,u.Z)()}componentDidMount(){this.props.isOpen&&this._enable(),window.addEventListener("resize",this.onResize)}shouldComponentUpdate(e,t){return(0,h.Z)(this,e,t)}componentDidUpdate(e,t){const n=e.isOpen&&!e.isAutoCloseDisabled,i=this.props.isOpen&&!this.props.isAutoCloseDisabled;!n&&i?this._enable():n&&!i&&this._disable()}componentWillUnmount(){this.props.isOpen&&!this.props.isAutoCloseDisabled&&this._disable(),window.removeEventListener("resize",this.onResize)}_enable(){d.LJ(document.getElementById(this._menuID)),document.addEventListener("mousedown",this.onWindowDownPress),document.addEventListener("touchstart",this.onWindowDownPress),document.addEventListener("mouseup",this.onWindowUpPress),document.addEventListener("touchend",this.onWindowUpPress),document.addEventListener("keydown",this.onKeyDown)}_disable(){document.removeEventListener("mousedown",this.onWindowDownPress),document.removeEventListener("touchstart",this.onWindowDownPress),document.removeEventListener("mouseup",this.onWindowUpPress),document.removeEventListener("touchend",this.onWindowUpPress),document.removeEventListener("keydown",this.onKeyDown)}_isElementContainedOrTarget(e){const{target:t}=this.props,n=document.getElementById(this._menuID),i=n&&n.contains(e),s=!i&&document.getElementById(t),r=s&&s.contains(e);return i||r}render(){var e;const{children:t,className:n,portalClassName:i,target:c,options:d,isOpen:u,isDisabled:p,scrollerProps:m,size:h,onMouseEnter:g,onMouseLeave:y,onMenuCloseComplete:v}=this.props,{maxHeight:f}=this.state;return a.createElement(o.Z,{className:i,target:c,options:b(b({placement:"bottom-start"},d),{modifiers:[...T,...null!=(e=null==d?void 0:d.modifiers)?e:[]]}),isOpen:u,closeTimeoutMilliseconds:S,onClose:v},a.createElement(r.M_,null,u?a.createElement(r.ww.div,{key:"container",initial:"preEnter",animate:"enter",exit:"exit",variants:w,id:this._menuID,className:s()(n,I[h],p&&I.isDisabled),onMouseEnter:g,onMouseLeave:y},a.createElement(l.Z,b(b({},m),{style:{maxHeight:f}}),t)):null))}}N.defaultProps={className:I.menu,portalClassName:I.menuPortal,size:m.M2,maxHeight:600,isDisabled:!1,scrollerProps:{className:I.menuScroller,scrollDirection:p.yZ,autoScroll:!0}};const A=N},6657:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67294);function s(e){const{className:t,children:n}=e;return i.createElement("div",{className:t},n)}s.defaultProps={className:"MenuHeader-menuHeader-FIFR_x"};const r=s},11947:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(94184),s=n.n(i),r=n(67294),a=n(48604),o=n(46565);const l={menuItem:"MenuItem-menuItem-3VIgmv",isDisabled:"MenuItem-isDisabled-3zSARl",isHidden:"MenuItem-isHidden-ONpsgO",default:"MenuItem-default-1F7sY8",primary:"MenuItem-primary-3lXOxZ",success:"MenuItem-success-2SDcxz",danger:"MenuItem-danger-31fjUc"};var c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=Object.assign;function m(e){const{className:t,children:n,kind:i,isDisabled:o,isHidden:m}=e,h=((e,t)=>{var n={};for(var i in e)c.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&d)for(var i of d(e))t.indexOf(i)<0&&u.call(e,i)&&(n[i]=e[i]);return n})(e,["className","children","kind","isDisabled","isHidden"]);return r.createElement(a.Z,p({className:s()(t,l.menuItem,l[i],o&&l.isDisabled,m&&l.isHidden),"data-qa-id":"dropdownItem",role:"menuitem"},h),n)}m.defaultProps={kind:o.TP,isDisabled:!1};const h=m},38376:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(67294);const s=function(){return i.createElement("div",{className:"MenuSeparator-separator-12F871"})}},19402:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(67294),s=n(31419),r=n(11947),a=n(57904),o=n(45697),l=n.n(o),c=n(70809);function d(e){var t=e["aria-label"],n=e.className,s=e.style,r={viewBox:"0 0 473 540",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-triangle-right"};r["aria-hidden"]=!t,r.style=s,r.className=c.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M473 270L0 540V0l473 270z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",r].concat(a))}d.propTypes={"aria-label":l().string,className:l().string,style:l().object};const u=d,p={placement:"right-start"};class m extends i.Component{constructor(e,t){super(e,t),this._openMenu=(e=!1)=>{this.wasDismissed=!1,this._updateMenu(e,!0)},this._closeMenu=(e=!1)=>{this.wasDismissed=e,this._updateMenu(e,!1)},this.onMouseEnter=()=>{this._openMenu()},this.onMouseEnterMenu=()=>{this.wasDismissed||this._openMenu()},this.onMouseLeave=()=>{this.wasDismissed||this._closeMenu()},this.onMenuClose=()=>{this._closeMenu(!0),this.props.onMenuClose()},this.onPress=()=>{this._openMenu(!0)},this.target=(0,a.Z)(),this.state={isOpen:!1},this.wasDismissed=!1}componentWillUnmount(){window.clearTimeout(this._menuTimer)}_updateMenu(e,t){window.clearTimeout(this._menuTimer),this._menuTimer=window.setTimeout((()=>{this.setState({isOpen:t})}),e?0:100)}render(){const{label:e,children:t,isDisabled:n}=this.props,{isOpen:a}=this.state;return i.createElement(i.Fragment,null,i.createElement(r.Z,{id:this.target,className:"NestedMenuItem-item-_G_S40",isDisabled:n,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onPress:this.onPress},e,i.createElement(u,{className:"NestedMenuItem-icon-3nKGOb"})),i.createElement(s.Z,{className:"NestedMenuItem-menu-24QQlw Menu-menu-2zqgoE",isOpen:a,target:this.target,options:p,onMouseEnter:this.onMouseEnterMenu,onMouseLeave:this.onMouseLeave,onMenuClose:this.onMenuClose},t))}}const h=m},75774:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(67294),s=n(19318),r=n(93143);var a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=Object.assign;function d(e){var{children:t,className:n,innerClassName:d,scrollDirection:u}=e,p=((e,t)=>{var n={};for(var i in e)a.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&o)for(var i of o(e))t.indexOf(i)<0&&l.call(e,i)&&(n[i]=e[i]);return n})(e,["children","className","innerClassName","scrollDirection"]);const m=u!==r.Hn;return n||(n=m?"ModalBody-modalScroller-2PYVmh ModalBody-modalBody-3v8fMY":"ModalBody-modalBody-3v8fMY"),i.createElement(s.Z,c({className:n,scrollDirection:u,autoScroll:!0},p),m?i.createElement("div",{className:d},t):t)}d.defaultProps={innerClassName:"ModalBody-innerModalBody-jCNoJl"};const u=d},45610:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(67294),s=n(76723),r=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=Object.assign;function c(e){var{className:t,children:n}=e,s=((e,t)=>{var n={};for(var i in e)r.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&a)for(var i of a(e))t.indexOf(i)<0&&o.call(e,i)&&(n[i]=e[i]);return n})(e,["className","children"]);return i.createElement("div",l({className:t},s),n)}c.defaultProps={className:s.Z.modalFooter};const d=c},15378:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(67294),s=Object.prototype.hasOwnProperty,r=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,o=Object.assign;function l(e){var{children:t}=e,n=((e,t)=>{var n={};for(var i in e)s.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&r)for(var i of r(e))t.indexOf(i)<0&&a.call(e,i)&&(n[i]=e[i]);return n})(e,["children"]);return i.createElement("div",o({},n),t)}l.defaultProps={className:"ModalFooterButtonBar-buttonBar-2PvyUD"};const c=l},84388:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(67294);var s=Object.prototype.hasOwnProperty,r=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,o=Object.assign;const l=function(e){var{children:t}=e,n=((e,t)=>{var n={};for(var i in e)s.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&r)for(var i of r(e))t.indexOf(i)<0&&a.call(e,i)&&(n[i]=e[i]);return n})(e,["children"]);return i.createElement("div",o({className:"ModalHeader-modalHeader-aJOI_i"},n),t)}},14513:(e,t,n)=>{"use strict";n.d(t,{Z:()=>z});var i=n(67294),s=n(16548),r=n(57904),a=n(23438),o=n(82777),l=n(82548),c=n(88898),d=n(84385),u=n(10598),p=n(25713);const m={tooltipPortal:"Tooltip-tooltipPortal-1iNVOI",tooltip:"Tooltip-tooltip-7baWc9",tooltipArrow:"Tooltip-tooltipArrow-3xCLkA",tooltipBottomArrow:"Tooltip-tooltipBottomArrow-1dQ_LY",tooltipTopArrow:"Tooltip-tooltipTopArrow-2DrTmU",tooltipRightArrow:"Tooltip-tooltipRightArrow-twsnEc",tooltipLeftArrow:"Tooltip-tooltipLeftArrow-2rhNoc",tooltipCenterAlignArrow:"Tooltip-tooltipCenterAlignArrow-2WhOj6",tooltipLeftAlignArrow:"Tooltip-tooltipLeftAlignArrow-c459qf",tooltipRightAlignArrow:"Tooltip-tooltipRightAlignArrow-V2Ez0X",tooltipMiddleAlignArrow:"Tooltip-tooltipMiddleAlignArrow-2PnCUA",topLeft:"Tooltip-topLeft-1PkDPQ Tooltip-tooltip-7baWc9 Tooltip-tooltipArrow-3xCLkA Tooltip-tooltipBottomArrow-1dQ_LY Tooltip-tooltipLeftAlignArrow-c459qf",topCenter:"Tooltip-topCenter-3rQrl- Tooltip-tooltip-7baWc9 Tooltip-tooltipArrow-3xCLkA Tooltip-tooltipBottomArrow-1dQ_LY Tooltip-tooltipCenterAlignArrow-2WhOj6",topRight:"Tooltip-topRight-1cdM8H Tooltip-tooltip-7baWc9 Tooltip-tooltipArrow-3xCLkA Tooltip-tooltipBottomArrow-1dQ_LY Tooltip-tooltipRightAlignArrow-V2Ez0X",bottomLeft:"Tooltip-bottomLeft-35U4pn Tooltip-tooltip-7baWc9 Tooltip-tooltipArrow-3xCLkA Tooltip-tooltipTopArrow-2DrTmU Tooltip-tooltipLeftAlignArrow-c459qf",bottomCenter:"Tooltip-bottomCenter-3puJD6 Tooltip-tooltip-7baWc9 Tooltip-tooltipArrow-3xCLkA Tooltip-tooltipTopArrow-2DrTmU Tooltip-tooltipCenterAlignArrow-2WhOj6",bottomRight:"Tooltip-bottomRight-3oFr6B Tooltip-tooltip-7baWc9 Tooltip-tooltipArrow-3xCLkA Tooltip-tooltipTopArrow-2DrTmU Tooltip-tooltipRightAlignArrow-V2Ez0X",middleLeft:"Tooltip-middleLeft-2dCtM8 Tooltip-tooltip-7baWc9 Tooltip-tooltipArrow-3xCLkA Tooltip-tooltipRightArrow-twsnEc Tooltip-tooltipMiddleAlignArrow-2PnCUA",middleRight:"Tooltip-middleRight-g6A4KY Tooltip-tooltip-7baWc9 Tooltip-tooltipArrow-3xCLkA Tooltip-tooltipLeftArrow-2rhNoc Tooltip-tooltipMiddleAlignArrow-2PnCUA"};var h=Object.prototype.hasOwnProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.propertyIsEnumerable,v=Object.assign;const f=(0,c.Z)(u.Z.tooltipSpeed),I=1e3*f,b={opacity:{ease:"easeOut",duration:f},y:{ease:p.Z.motionEasing,duration:f},x:{ease:p.Z.motionEasing,duration:f},scale:{ease:p.Z.motionEasing,duration:f}};function M(e){switch(e){case d.IM:case d.jO:case d.ee:return 5;case d.aV:case d.eO:case d.OI:return-5;case d.Gf:case d.ab:default:return 0}}function S(e){switch(e){case d.IM:case d.jO:case d.ee:return 0;case d.aV:case d.eO:case d.OI:return 0;case d.Gf:return 5;case d.ab:return-5;default:return 0}}function E(e){switch(e){case d.IM:case d.jO:case d.ee:return-5;case d.aV:case d.eO:case d.OI:return 5;case d.Gf:case d.ab:default:return 0}}function D(e){switch(e){case d.IM:case d.jO:case d.ee:return 0;case d.aV:case d.eO:case d.OI:return 0;case d.Gf:return-5;case d.ab:return 5;default:return 0}}const C={before:e=>({opacity:0,y:M(e),x:S(e),scale:.95,transition:b}),enter:{opacity:1,y:0,x:.001,scale:1,transition:b},exit:e=>({opacity:0,y:E(e),x:D(e),scale:.95,transition:b})},P={[d.IM]:{placement:"top-start"},[d.jO]:{placement:"top"},[d.ee]:{placement:"top-end"},[d.aV]:{placement:"bottom-start"},[d.eO]:{placement:"bottom"},[d.OI]:{placement:"bottom-end"},[d.Gf]:{placement:"left"},[d.ab]:{placement:"right"}};function w(e){const{children:t,className:n,target:s,attachment:r,options:a,isOpen:c,onMenuClose:d}=e,u=((e,t)=>{var n={};for(var i in e)h.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&g)for(var i of g(e))t.indexOf(i)<0&&y.call(e,i)&&(n[i]=e[i]);return n})(e,["children","className","target","attachment","options","isOpen","onMenuClose"]);return i.createElement(l.Z,{className:m.tooltipPortal,target:s,options:a||P[r],isOpen:c,closeTimeoutMilliseconds:I},i.createElement(o.M_,null,c?i.createElement(o.ww.div,v({key:"container",initial:"before",animate:"enter",exit:"exit",variants:C,custom:r,className:n||m[r]},u),t):null))}w.defaultProps={attachment:d.eO};const T=w;var Z=Object.prototype.hasOwnProperty,N=Object.getOwnPropertySymbols,A=Object.prototype.propertyIsEnumerable,x=Object.assign;var L=Object.prototype.hasOwnProperty,O=Object.getOwnPropertySymbols,j=Object.prototype.propertyIsEnumerable,k=Object.assign;class R extends i.Component{constructor(e,t){super(e,t),this.onMouseEnter=e=>{this.props.showOnHover&&(this._isHovered=!0,this.setState({isOpen:!0}))},this.onMouseLeave=e=>{this.props.showOnHover&&(this._isHovered=!1,this.setState({isOpen:this._isFocused}))},this.onFocus=e=>{this.props.showOnFocus&&(this._isFocused=!0,this.setState({isOpen:!0}))},this.onBlur=e=>{this.props.showOnFocus&&(this._isFocused=!1,this.setState({isOpen:this._isHovered}))},this.onPress=e=>{this.props.hideOnPress&&(this._isHovered=!1,this._isFocused=!1,this.setState({isOpen:!1}))},this.state={isOpen:!1},this._isHovered=!1,this._isFocused=!1,this._targetID=(0,r.Z)()}shouldComponentUpdate(e,t){return(0,a.Z)(this,e,t)}componentDidUpdate(e){const{hideOnDisabled:t,isDisabled:n}=this.props,{isOpen:i}=this.state;i&&t&&n&&!e.isDisabled&&(this._isHovered=!1,this._isFocused=!1,this.setState({isOpen:!1}))}render(){const e=this.props,{id:t,component:n,tooltip:r,tooltipClassName:a,tooltipFocusedClassName:o,tooltipAttachment:l,tooltipTarget:c,tooltipOptions:d,showOnHover:u,showOnFocus:p,hideOnDisabled:m,hideOnPress:h,onMouseEnter:g,onMouseLeave:y,onFocus:v,onBlur:f,onPress:I}=e,b=((e,t)=>{var n={};for(var i in e)L.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&O)for(var i of O(e))t.indexOf(i)<0&&j.call(e,i)&&(n[i]=e[i]);return n})(e,["id","component","tooltip","tooltipClassName","tooltipFocusedClassName","tooltipAttachment","tooltipTarget","tooltipOptions","showOnHover","showOnFocus","hideOnDisabled","hideOnPress","onMouseEnter","onMouseLeave","onFocus","onBlur","onPress"]),{isOpen:M}=this.state,S=this._isFocused&&o?o:a;return i.createElement(i.Fragment,null,i.createElement(n,k({id:t||this._targetID,onMouseEnter:(0,s.Z)(this.onMouseEnter,g),onMouseLeave:(0,s.Z)(this.onMouseLeave,y),onFocus:(0,s.Z)(this.onFocus,v),onBlur:(0,s.Z)(this.onBlur,f),onPress:(0,s.Z)(this.onPress,I)},b)),r?i.createElement(T,{className:S,attachment:l,options:d,target:c||t||this._targetID,isOpen:M},r):null)}}R.defaultProps={component:function(e){const{children:t}=e,n=((e,t)=>{var n={};for(var i in e)Z.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&N)for(var i of N(e))t.indexOf(i)<0&&A.call(e,i)&&(n[i]=e[i]);return n})(e,["children"]);return i.createElement("div",x({},n),t)},showOnHover:!0,showOnFocus:!0,hideOnPress:!0,hideOnDisabled:!0};const z=R},16548:(e,t,n)=>{"use strict";function i(...e){return function(...t){for(let n=0,i=e.length;n<i;n++){const i=e[n];"function"==typeof i&&i(...t)}}}n.d(t,{Z:()=>i})},60886:(e,t,n)=>{"use strict";function i(e){const t=parseFloat(e,10);let n=e.match(/m?s/);switch(n&&(n=n[0]),n){case"s":return 1e3*t;case"ms":return t}return 0}n.d(t,{Z:()=>i})},88898:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(60886);function s(e){return(0,i.Z)(e)/1e3}},93839:(e,t,n)=>{"use strict";n.d(t,{Fp:()=>m,IB:()=>v,sM:()=>f,pc:()=>y,QE:()=>g,LJ:()=>h});var i=n(13469),s=n.n(i),r=n(67038),a=n(95504);function o(e){if(e===document)return!0;if(!e)return!1;if(!e.parentNode)return!1;if(e.style){const t=e.style;if("none"===t.display||"hidden"===t.visibility)return!1}if(window.getComputedStyle){const t=window.getComputedStyle(e);if("none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility"))return!1}return o(e.parentNode)}function l(e){let t=e.tabIndex;return null===t&&(t=void 0),!isNaN(t)&&t>=0&&function(e){if(!o(e))return!1;const t=e.nodeName.toLowerCase();return/input|select|textarea|button|object/.test(t)?!e.disabled:"a"!==t||e.href}(e)}function c(e){if(!e)return[];const t=[].slice.call(e.getElementsByTagName("*"),0).filter((e=>l(e)));return s().sortBy(t,(e=>0===e.tabIndex?1/0:e.tabIndex))}let d,u;function p(e){try{e.focus()}catch(e){}}function m(e){const t=document.activeElement,n=t&&e&&e.contains(t);t&&!n&&t.blur()}function h(e){d=document.activeElement,u=e,m(e)}function g(e){(0,r.Z)(u,"Call `startScopedFocus(element)` before `scopeTabEvent`");const t=c(u);if(!t.length)return;e.preventDefault();const n=document.activeElement,i=n?t.indexOf(n):-1,s=t.length-1;let a;-1===i?a=e.shiftKey?s:0:(a=e.shiftKey?i-1:i+1,a<0?a=s:a>s&&(a=0)),p(t[a])}function y(){(0,r.Z)(u,"Call `startScopedFocus(element)` before `scopeAutoFocus`");const e=c(u),t=s().find(e,(e=>(0,a.Z)(e.getAttribute("data-autofocus"))));t&&p(t)}function v(){u=null}function f(){d&&(p(d),d=null)}},7506:(e,t,n)=>{"use strict";function i(e){return e.displayName||e.name||"Component"}n.d(t,{Z:()=>i})},57904:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});let i=0;const s=function(){return"id-"+i++}},12986:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(67294);function s(e){const t=(0,i.useRef)();return(0,i.useEffect)((()=>{t.current=e}),[e]),t.current}},26416:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(67294),s=n(12986),r=n(10598),a=Object.assign;function o({isVirtual:e,isVisible:t,isScrolling:n}){return e&&!t||n}function l(e){const{cellIndex:t,cellX:n,cellY:l,cellWidth:c,cellHeight:d,style:u,keyPropName:p,moveDurationMilliseconds:m=400,isVirtual:h}=e,g=e[p],y=(0,s.Z)(g),v=(0,s.Z)(t),f=!(null==y||null==v||g!==y||e.cellIndex===v),I=(0,i.useReducer)((e=>e+1),0)[1],b=(0,i.useRef)(f),M=b.current||f,S=(0,i.useMemo)((()=>function({cellX:e,cellY:t,cellWidth:n,cellHeight:i,style:s,isMoving:o,moveDurationMilliseconds:l,isVirtual:c}){return a(c?{position:"absolute",width:n,height:i,transform:`translate3d(${e}px, ${t}px, 0)`,zIndex:o?1:0,transition:o?`transform ${r.Z.defaultSpeed}`:"none",transitionDuration:o?`${l}ms`:0}:{position:"relative"},s)}({cellX:n,cellY:l,cellWidth:c,cellHeight:d,style:u,moveDurationMilliseconds:m,isMoving:M,isVirtual:h})),[n,l,c,d,u,m,M,h]),E=(0,i.useRef)(o(e)?null:g);let D;return o(e)?(D=E.current!==g,D&&(E.current=null)):(D=!1,E.current=g),(0,i.useEffect)((()=>{let e;return M&&(b.current=!0,e=window.setTimeout((()=>{b.current=!1,I({})}),2*m)),()=>{e&&window.clearTimeout(e)}}),[m,M,I]),{style:S,isPlaceholder:D}}},57639:(e,t,n)=>{"use strict";function i(e,t){return Math.max(Math.min(e,t-1),0)}n.d(t,{Z:()=>i})},57791:(e,t,n)=>{"use strict";n.d(t,{yZ:()=>s,_y:()=>r,ZP:()=>a}),n(67038);var i=n(57639);const s="vertical",r="horizontal";function a(e={}){const{direction:t=s,rows:n,columns:a,overscan:o=0,innerHorizontalPadding:l=0,innerVerticalPadding:c=0,outerPaddingTop:d=0,outerPaddingRight:u=0,outerPaddingBottom:p=0,outerPaddingLeft:m=0,getCellWidth:h,getCellHeight:g}=e;let y,v,f,I,b,M,S,E,D,C;function P(e){return t===s?Math.floor(e/M):e%b}function w(e){return t===s?e%M:Math.floor(e/b)}function T(e,n){const i=P(e);return t===s?i*M:i}function Z(e,n){const i=w(e);return t===s?i:i*b}return{options:e,getListStyle:function(e,i){const o=[d,u,p,m,i];for(const t in e)o.push(e[t]);const P=o.join(":");if(P===E)return D;y=e.listTop,v=e.listLeft;let w=(e.viewportWidth||0)-u-m,T=(e.viewportHeight||0)-d-p;t===s?w-=v:T-=y,w=Math.max(0,w),T=Math.max(0,T),f=h({innerViewportWidth:w,innerViewportHeight:T,innerHorizontalPadding:l,innerVerticalPadding:c}),I=g({cellWidth:f,innerViewportWidth:w,innerViewportHeight:T,innerHorizontalPadding:l,innerVerticalPadding:c}),b=Math.max(0,n||Math.floor((T+c)/(I+c))),M=Math.max(0,a||Math.floor((w+l)/(f+l))),S=M*b;let Z=0,N=0;return t===s&&M?(Z=M*(f+l)-l,N=Math.ceil(i/M)*(I+c)-c):t===r&&b&&(Z=Math.ceil(i/b)*(f+l)-l,N=b*(I+c)-c),C={},E=P,D={width:Z+u+m,height:N+d+p},D},getRelativeIndex:function(e,n,a,o){const l=t===a;if(l&&(t===s&&1===M||t===r&&1===b))return(0,i.Z)(e+n,o);let c,d,u;a===s&&(c=l?M*n:n,d=Z(e),u=function(e,n){if(t===s){const t=n-1,i=w(e),s=(P(t)+1)*M-(M-i);let r;return r=s<n?s:t-n%M-(M-1-i),r}{const t=Z(e);return(0,i.Z)(t+(b-1),n)}}(e,o)),a===r&&(c=l?b*n:n,d=T(e),u=function(e,n){if(t===s){const t=T(e);return(0,i.Z)(t+(M-1),n)}{const t=n-1,i=P(e),s=(w(t)+1)*b-(b-i);let r;return r=s<n?s:t-n%b-(b-1-i),r}}(e,o));const p=e+c;return d||u?Math.max(Math.min(p,u),d):e},getCoordinateDistance:function(e,t){const n=P(e),i=P(t),s=w(e),r=w(t);return Math.sqrt(Math.pow(i-n,2)+Math.pow(r-s,2))},getPositionForIndex:function(e){const t=e;if(C[t])return C[t];const n=w(e),i=P(e),s={column:n,row:i,cellX:n*(f+l)+v+m,cellY:i*(I+c)+y+d,cellWidth:f,cellHeight:I};return C[t]=s,s},getRangesForPosition:function(e,n,r){const a=t===s?M:b,d=t===s?(e-y)/(I+c):(n-v)/(f+l),u=S+2*a+o*a*2,p=Math.ceil(d)*a,m=p+S-1,h=Math.floor(d)*a,g=p+S+a-1;let E=h-a*o;const D=(0,i.Z)(E,r)+u-1;return D>=r&&(E=r-u),{visibleStartIndex:(0,i.Z)(p,r),visibleEndIndex:(0,i.Z)(m,r),partiallyVisibleStartIndex:(0,i.Z)(h,r),partiallyVisibleEndIndex:(0,i.Z)(g,r),renderStartIndex:(0,i.Z)(E,r),renderEndIndex:(0,i.Z)(D,r)}}}}},91981:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(67294);function s(e,t,n){let s=0;return i.Children.map(e,(e=>{if(i.isValidElement(e)){const i=s;return s++,t.call(n,e,i)}return e}))}},93502:(e,t,n)=>{"use strict";n.d(t,{be:()=>i,lW:()=>s,GZ:()=>r,Pv:()=>a,fN:()=>o,DT:()=>l,QZ:()=>c});const i="isScrolling",s="isActive",r="isFocused",a="isDisabled",o="isDragging",l="isDraggingBefore",c="isDraggingAfter"},19949:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});let i={};const s={getPageKey:()=>window.location.hash,getKey:e=>`${s.getPageKey()}!${e}`,get:e=>i[e],set(e,t){i[e]=t},remove(e){delete i[e]},clear(){i={}}},r=s},74186:(e,t,n)=>{"use strict";n.d(t,{UP:()=>i,pX:()=>s,WV:()=>r});const i="up",s="right",r="down"},46565:(e,t,n)=>{"use strict";n.d(t,{TP:()=>i,_8:()=>s,T:()=>r,Py:()=>a});const i="default",s="primary",r="danger",a="dark"},93143:(e,t,n)=>{"use strict";n.d(t,{Hn:()=>i,yZ:()=>s,_y:()=>r});const i="none",s="vertical",r="horizontal"},92179:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(45697),s=n.n(i);const r=s().shape({subscribe:s().func.isRequired,dispatch:s().func.isRequired,getState:s().func.isRequired})},27620:(e,t,n)=>{"use strict";n.d(t,{HC:()=>i,M2:()=>s,ln:()=>r});const i="small",s="medium",r="large"},84385:(e,t,n)=>{"use strict";n.d(t,{IM:()=>i,jO:()=>s,ee:()=>r,aV:()=>a,eO:()=>o,OI:()=>l,Gf:()=>c,ab:()=>d});const i="topLeft",s="topCenter",r="topRight",a="bottomLeft",o="bottomCenter",l="bottomRight",c="middleLeft",d="middleRight"},68521:(e,t,n)=>{"use strict";function i(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;const s=Object.prototype.hasOwnProperty;for(let i=0;i<n.length;i++)if(!s.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;return!0}n.d(t,{Z:()=>i})},23438:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(68521);function s(e,t,n,s,r){const a=r||i.Z;let o=a(e.props,t);return o&&(o=a(e.state,n),o&&s&&(o=a(e.context,s))),!o}},73034:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e,t){return function(...n){const i="function"==typeof t?t(...n):n[0];return{type:e,payload:i}}}},10598:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={defaultSpeed:"0.2s",slowSpeed:"0.6s",fastSpeed:"0.1s",motionEasing:"cubic-bezier(0.6, 0.4, 0.2, 1.4)",modalSpeed:"0.2s",menuSpeed:"0.15s",tooltipSpeed:"0.15s"}},75500:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const i="#e5a00d",s="rgba(0, 0, 0, 0.15)",r="rgba(0, 0, 0, 0.3)",a={defaultColor:"#fff",quietColor:"#a8a8a8",inverseColor:"#222",primaryColor:"#cc7b19",primaryAlternateColor:"#e5a00d",selectedColor:i,successColor:"#6b5",dangerColor:"#f53",warningColor:"#f0ad4e",focusColor:"#7eb0d5",appBackgroundColor:"#444f56",darkOpaqueBackgroundColor:"#1f2326",blackDarkTranslucentBackgroundColor:s,blackDarkerTranslucentBackgroundColor:r,lightTranslucentBackgroundColor:"rgba(255, 255, 255, 0.15)",badgeBackgroundColor:s,defaultBadgeColor:"rgba(255, 255, 255, 0.7)",defaultLinkColor:"rgba(255, 255, 255, 0.7)",defaultLinkHoverColor:"#fff",defaultLinkDisabledLinkColor:"rgba(255, 255, 255, 0.3)",selectedLinkColor:i,selectedLinkHoverColor:"lighten(#e5a00d, 0.2)",defaultBackgroundColor:"rgba(255, 255, 255, 0.25)",defaultHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",defaultActiveBackgroundColor:"rgba(255, 255, 255, 0.2)",defaultDisabledBackgroundColor:"rgba(255, 255, 255, 0.15)",primaryButtonColor:"#1f2326",primaryBackgroundColor:"#e5a00d",primaryHoverBackgroundColor:"lighten(#e5a00d, 0.2)",primaryActiveBackgroundColor:"darken(#e5a00d, 0.2)",primaryDisabledColor:"rgba(0, 0, 0, 0.4)",primaryDisabledBackgroundColor:"darken(#e5a00d, 0.5)",quietBackgroundColor:"rgba(255, 255, 255, 0.08)",quietHoverBackgroundColor:"rgba(255, 255, 255, 0.1)",quietActiveBackgroundColor:"rgba(255, 255, 255, 0.06)",successBackgroundColor:"#3d7832",successHoverBackgroundColor:"lighten(#3d7832, 0.1)",successActiveBackgroundColor:"darken(#3d7832, 0.1)",successDisabledBackgroundColor:"darken(#3d7832, 0.3)",dangerBackgroundColor:"#b32",dangerHoverBackgroundColor:"lighten(#b32, 0.1)",dangerActiveBackgroundColor:"darken(#b32, 0.1)",dangerDisabledBackgroundColor:"darken(#b32, 0.3)",darkBackgroundColor:r,darkHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",darkActiveBackgroundColor:"rgba(255, 255, 255, 0.2)",darkDisabledBackgroundColor:"rgba(255, 255, 255, 0.15)",headerColor:"rgba(255, 255, 255, 0.3)",dimColor:"rgba(255, 255, 255, 0.45)",secondaryContentColor:"rgba(255, 255, 255, 0.75)",shadowColor:"rgba(0, 0, 0, 0.35)",dividerColor:r,scrollbarBackgroundColor:"rgba(255, 255, 255, 0.2)",scrollbarHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",scrollbarInactiveBackgroundColor:"rgba(255, 255, 255, 0.05)",errorBackgroundColor:"rgba(255, 85, 51, 0.3)",inputBackgroundColor:"rgba(255, 255, 255, 0.25)",inputFocusBackgroundColor:"#eee",inputColor:"#eee",inputFocusColor:"#555",inputPlaceholderColor:"#afb0b1",inputDisabledOpacity:"0.5",formSectionBackgroundColor:r,formSectionHoverBackgroundColor:s,modalBackdropBackgroundColor:"rgba(102, 102, 102, 0.6)",modalBackgroundColor:"#2d2d2d",modalBodyBackgroundColor:s,menuBackgroundColor:"#191a1c",menuDisabledBackgroundColor:"#2d2d2d",menuItemHoverBackgroundColor:"rgba(255, 255, 255, 0.08)",menuItemActiveBackgroundColor:"rgba(255, 255, 255, 0.15)",menuSeparatorBackgroundColor:"rgba(200, 200, 200, 0.15)",tooltipBackgroundColor:"#191a1c",pageHeaderBackgroundColor:"rgba(0, 0, 0, 0.7)",pageHeaderLinkColor:"#999",pageHeaderLinkHoverColor:"#eee",pageHeaderColor:"rgba(255, 255, 255, 0.75)",searchInputBackgroundColor:"rgba(255, 255, 255, 0.25)",searchFocusBackgroundColor:"#eee",searchInputColor:"#eee",searchInputFocusColor:"#555",searchImagePlaceholderBackgroundColor:"rgba(255, 255, 255, 0.1)",searchHoverResultBackgroundColor:"rgba(255, 255, 255, 0.05)",searchSelectedResultBackgroundColor:"rgba(255, 255, 255, 0.08)",searchResultTitleColor:"rgba(255, 255, 255, 0.75)",searchResultTitleSelectedColor:"rgba(255, 255, 255, 1)",searchResultSecondaryTitleColor:"rgba(255, 255, 255, 0.3)",sidebarBackgroundColor:s,sidebarMenuButtonBackgroundColor:r,sidebarMenuButtonHoverBackgroundColor:"rgba(0, 0, 0, 0.45)",sidebarMenuButtonActiveBackgroundColor:"rgba(0, 0, 0, 0.75)",stripeListAlternateBackgroundColor:"rgba(255, 255, 255, 0.02)",stripeListHoverBackgroundColor:"rgba(255, 255, 255, 0.06)",stripeListSelectedBackgroundColor:s}},86538:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={smallSize:"26px",mediumSize:"30px",largeSize:"36px",gapSmall:"15px",gapMedium:"30px",gapLarge:"60px",navigationHeaderHeight:"60px",navigationUserMenuImageSize:"34px",pageHeaderHeight:"60px",breadcrumbMargin:"25px",menuSmallWidth:"120px",menuMediumWidth:"180px",menuLargeWidth:"220px",menuPadding:"8px",menuItemTopPadding:"4px",menuItemSidePadding:"20px",toolbarButtonWidth:"50px",posterTitlePadding:"10px",posterTitleHeight:"20px",searchHubTitleHeight:"18px",searchResultWidth:"346px",searchResultHeight:"50px",sidebarWidth:"240px",sidebarRightGutterWidth:"15px",sidebarLeftGutterWidth:"25px",tableCellPadding:"20px",tableHeaderHeight:"40px",tableRowHeight:"40px",tableTitleHeight:"60px",inputMaxWidth:"360px",inputBorderRadius:"4px",autosuggestSuggestionRadius:"4px",smallArrowWidth:"6px",mediumArrowWidth:"8px",largeArrowWidth:"10px",tooltipArrowSize:"6px",tooltipMarginTop:"-6px",breakpointMobileNarrow:"320px",breakpointExtraSmall:"480px",breakpointSmall:"768px",breakpointMedium:"992px",breakpointLarge:"1200px",modalBodyPadding:"30px"}},25713:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={motionEasing:[.6,.4,.2,1.4]}},7082:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(13469),s=n.n(i);function r(){s().isFunction(this.initialize)&&this.initialize.apply(this,arguments)}r.extend=function(e,t){const n=this;let i;i=e&&s().has(e,"constructor")?e.constructor:function(){return n.apply(this,arguments)||null},s().extend(i,n,t);const r=function(){this.constructor=i};if(r.prototype=n.prototype,i.prototype=new r,e&&e.hasOwnProperty("mixins")){let t=e.mixins;delete e.mixins,Array.isArray(t)||(t=[t]),s().each(t,(function(e){s().extend(i.prototype,e)}))}return e&&s().extend(i.prototype,e),i.__super__=n.prototype,i};const a=r},10300:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(13469),s=n.n(i),r=n(7082),a=n(29705),o=n(69434),l=n(95565);const c=r.Z.extend({mixins:l.Z,maxCycles:3,maxSize:50,isListening:!1,initialize:function(){this._cache={},this.size=0,this.cycles=[],this.cycle()},startListening:function(){this.isListening||(this.isListening=!0,this.listenTo(a.Z,{"cycle:cache":this.cycle,"clearWhere:cache":this.clearWhere,"clearAll:cache":this.clearAll,"clearCycles:cache":this.clearCycles}))},get:function(e){const t=this._cache[e];return t&&t._cacheCycle&&this.setItemCycle(t,e,s().first(this.cycles)),t},store:function(e,t){t||(t=this.getItemCacheKey(e)),this.remove(e),t&&(this.startListening(),e._cacheKey=t,this._cache[t]=e,this.size++,e.persistInCache||this.setItemCycle(e,t,s().first(this.cycles)))},getItemCacheKey:function(e){return s().result(e,"cacheKey")},setItemCycle:function(e,t,n){const i=e._cacheCycle;i&&i.hasOwnProperty(t)&&delete i[t],e._cacheCycle=n,n[t]=e},cycle:function(){this.size>this.maxSize&&(o.Z.warn("Cache overflow, size: "+this.size),s().each(this.cycles.slice(1),this.removeCycle,this)),this.cycles.unshift({}),this.cycles.length>Math.max(this.maxCycles,1)&&this.removeCycle(s().last(this.cycles))},remove:function(e){if(!e||!e._cacheKey)return;const t=e._cacheKey;this._cache.hasOwnProperty(t)&&(delete this._cache[t],this.size--),e._cacheCycle&&(e._cacheCycle.hasOwnProperty(t)&&delete e._cacheCycle[t],delete e._cacheCycle),delete e._cacheKey},removeCycle:function(e){s().each(s().values(e),this.remove,this);const t=s().indexOf(this.cycles,e);this.cycles.splice(t,1)},clearWhere:function(e){const t=s().where(s().values(this._cache),e);s().each(t,this.remove,this)},clearAll:function(){s().each(s().values(this._cache),this.remove,this),this.cycles.length=0,this.cycle(),this.stopListening(),this.isListening=!1},clearCycles:function(){const e=this.cycles;for(;e.length;)this.removeCycle(e[e.length-1]);this.cycle()}})},23863:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(13469),s=n.n(i),r=n(2262),a=n(10300);const o=a.Z.extend({maxCycles:3,maxSize:50,imageParamsRegex:/&?(size|scale|width|height)=([^&]+)/g,initialize:function(){a.Z.prototype.initialize.apply(this,arguments),this._infoMemo={}},store:function(e,t){if(t||(t=this.getItemCacheKey(e)),!t)return;const n=e.url,i=this.getImageInfo(n),r={url:n,blobUrl:e.blobUrl,size:i.size};let a=this.get(t);if(a){if(!a.images.hasOwnProperty(n)){const e=a.sizes;a.images[n]=r;const t=s().sortedIndex(e,r,"size");e.splice(t,0,r)}}else a={images:{},sizes:[r]},a.images[n]=r,this.startListening(),a._cacheKey=t,this._cache[t]=a,this.size++,e.persistInCache||this.setItemCycle(a,t,s().first(this.cycles))},getItemCacheKey:function(e){return this.getImageInfo(e.url).key},getImageInfo:function(e){if(this._infoMemo.hasOwnProperty(e))return this._infoMemo[e];const t={width:"0",scale:"1"},n=e.replace(this.imageParamsRegex,(function(e,n,i){return t[n]=i,""})),i=t.size&&t.size.split("-"),s={key:n,size:(i&&2===i.length?i[1]:parseInt(t.width,10))*parseInt(t.scale,10)};return this._infoMemo[e]=s,s},removeImageInfo:function(e){this._infoMemo.hasOwnProperty(e)&&delete this._infoMemo[e]},getBlobUrl:function(e){const t=this.getImageInfo(e),n=this.get(t.key);if(n){const t=n.images[e];if(t)return t.blobUrl}},getPlaceholder:function(e){const t=this.getImageInfo(e),n=this.get(t.key);if(n){if(n.images[e])return;return s().last(n.sizes).blobUrl}},remove:function(e,t){a.Z.prototype.remove.apply(this,arguments),s().each(e.sizes,(function(e){this.removeImageInfo(e.url),r.Z.hasObjectUrl&&window.URL.revokeObjectURL(e.blobUrl)}),this)}})},89001:(e,t,n)=>{"use strict";function i(){return window.viewport&&window.viewport.pixelRatio||window.devicePixelRatio||1}n.d(t,{Z:()=>i})},97345:(e,t,n)=>{"use strict";n.d(t,{EU:()=>i,yy:()=>s,it:()=>r,bS:()=>a,Rr:()=>o,Ko:()=>l,ES:()=>c,oP:()=>d});const i="small-60",s="small-120",r="medium-240",a="medium-360",o="large-480",l="large-720",c="large-1280",d="large-1920"},60514:(e,t,n)=>{"use strict";n.d(t,{ZH:()=>i,Mf:()=>s,K5:()=>r,JU:()=>a,jx:()=>o,hY:()=>l,LH:()=>c,JH:()=>d,Ge:()=>u,nO:()=>p,u5:()=>m});const i=8,s=9,r=13,a=16,o=17,l=27,c=38,d=40,u=91,p=93,m=224},38076:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(37214);const s=/version\/(\d+(\.\d+)?)/i,r=/\/([^\s]+)\s+\(Vizio/,a=/(?:applewebkit|safari)\/(\d+(\.\d+)?)/i,o=function(e){const t=/\(.* ([^)]+)\)$/.exec(e);return t&&t[1]||void 0};function l(e){let t="",n="";e?(t=e.userAgent,n=e.platform):i.Z&&null!=window.navigator&&(t=window.navigator.userAgent,n=window.navigator.platform),this.platformVersion="0",this.detect({userAgent:t,platform:n})}l.prototype={constructor:l,browsers:[{id:"konvergo",name:"Plex Media Player",webkit:!0,regex:/plexmediaplayer/i,versionRegex:/plexmediaplayer (\d+\.\d+\.\d+)/i},{id:"wiiu",name:"Wii U",regex:/wiiu/i,versionRegex:a,webkit:!0},{id:"ps3",name:"Unknown Browser",webkit:!0,regex:/\(PLAYSTATION 3 \d\./},{id:"ps4",name:"Unknown Browser",webkit:!0,regex:/\(PlayStation 4 \d\./},{id:"ps3",name:"PlayStation 3",webkit:!0,regex:/\(PlayStation 3\)/,versionRegex:a},{id:"ps4",name:"PlayStation 4",webkit:!0,regex:/\(PlayStation 4\)/,versionRegex:a},{id:"edge",name:"Microsoft Edge",regex:/edge?|(windows phone.+chrome)/i,versionRegex:/edge?\/(\d+(\.\d+)?)/i},{id:"ie",name:"Internet Explorer",msie:!0,regex:/(msie|trident|iemobile)/i,versionRegex:/(msie |rv:)(\d+(\.\d+)?)/i,versionMatchIndex:2},{id:"opera",name:"Opera",presto:!0,regex:/opera/i,versionRegex:s},{id:"opera",name:"Opera",webkit:!0,regex:/OPR\//,versionRegex:/OPR\/\s?(\d+(\.\d+)?)/},{id:"vivaldi",name:"Vivaldi",webkit:!0,regex:/vivaldi/i,versionRegex:/Vivaldi\/\s?(\d+(\.\d+)?)/},{id:"chrome",name:"Chrome",webkit:!0,regex:/(chrome|crios|gfiber|netbox)/i,versionRegex:/(?:chrome|crios|gfibertv)[/-](\d+(\.\d+)?)/i},{id:"firefox",name:"Firefox",gecko:!0,regex:/firefox/i,versionRegex:/firefox[ /](\d+(\.\d+)?)/i},{id:"safari",name:"Safari",webkit:!0,regex:/macintosh.+safari/i,versionRegex:s},{id:"safari",name:"Safari",webkit:!0,regex:/applewebkit/i,versionRegex:a}],platforms:[{id:"metrological",name:"Metrological",tv:!0,regex:/WPE([-\w]+)?$/,version:function(e=""){const t=/WPE(?:-(\w*))?$/.exec(e);if(t&&t[1])return t[1]}},{id:"netgem",name:"Netgem",tv:!0,regex:/^Netbox/,version:function(e=""){return e.split("/")[1]||e}},{id:"netcast",name:"NetCast",tv:!0,predicate:function(e){return/netcast/i.test(e)&&!/web[o0]s/i.test(e)}},{id:"webos",name:"webOS",tv:!0,predicate:function(e){return/web[o0]s/i.test(e)&&/smarttv/i.test(e)}},{id:"blackberry",name:"Blackberry",mobile:!0,regex:/BlackBerry|RIM|BB10/,version:function(e){const t=(/PlayBook/.test(e)?/Tablet OS (\d+\.\d+)/:s).exec(e);return t&&t[1]}},{id:"ps3",name:"PlayStation 3",tv:!0,regex:/P(lay)?S(tation )?3/i,version:function(e){return window.WM_devSettings?window.WM_devSettings.version:void 0}},{id:"ps4",name:"PlayStation 4",tv:!0,regex:/P(lay)?S(tation )?4/i,version:function(e){return window.WM_devSettings?window.WM_devSettings.version:void 0}},{id:"wiiu",name:"Wii U",tv:!0,regex:/Nintendo WiiU/},{id:"tizen",name:"Tizen",tv:!0,predicate:function(e){return!!this.version(e)},version:function(e){const t=/Tizen (\d+(\.\d+)*)/i.exec(e);return t&&t[1]||void 0}},{id:"winvergo",name:"Windows",tv:!0,predicate:function(e){return i.Z&&!!window.Windows},version:function(e){try{const e=window.Windows.System.Profile.AnalyticsInfo.versionInfo.deviceFamilyVersion,t=("0000000000000000"+parseInt(e,10).toString(16)).slice(-16),n=[];let i=0;for(;i<t.length;){const e=t.substring(i,i+4),s=parseInt(e,16);n.push(s),i+=4}return n.join(".")}catch(e){}}},{id:"viera",name:"Viera",tv:!0,predicate:function(e){return!!this.version(e)},version:function(e){const t=/Viera\/(\d+(\.\d+)*)/i.exec(e);return t&&t[1]||void 0}},{id:"sta",name:"Smart TV Alliance",tv:!0,version:function(e){let t,n;if(/SmartTvA/.test(e))n=/SmartTvA\/(\d+\.\d+)/.exec(e),t=n&&n[1]||t;else{const n=[/nettv\/4/i],i=[/nettv/i],s=function(t){return t.test(e)};[/Linux i686.+Chromium\/18/,/nettv\/4.2/i,/toshiba-dtv/i,/viera/i].some(s)?t="2.0":n.some(s)?t="1.0":i.some(s)&&(t="0")}return t},predicate:function(e){return void 0!==this.version(e)}},{id:"tivo",name:"TiVo",tv:!0,regex:/TiVo/,version:function(e){const t=/TCD[^,]+/.exec(e);return t&&t[0]||void 0}},{id:"viziosmartcast",name:"Vizio SmartCast",tv:!0,predicate:function(e){return i.Z&&window.VIZIO&&window.VIZIO.isSmartCastDevice},version:function(e){}},{id:"viziomtk",name:"Vizio MTK",tv:!0,predicate:function(e){return/opera/i.test(e)&&"undefined"!=typeof iMTK_JSP}},{id:"viziosigma",name:"Vizio Sigma",tv:!0,predicate:function(e){return/opera/i.test(e)&&/vizio/i.test(e)},version:function(e){const t=r.exec(e);return t&&t[1]||void 0}},{id:"viziomtk",name:"Vizio MTK",tv:!0,predicate:function(e){return r.test(e)&&"undefined"!=typeof iMTK_JSP},version:function(e){const t=r.exec(e);return t&&t[1]||void 0}},{id:"viziosigma",name:"Vizio Sigma",tv:!0,regex:r,version:function(e){const t=r.exec(e);return t&&t[1]||void 0}},{id:"operatvstore",name:"Opera TV Store",tv:!0,predicate:function(e){const t=/Opera TV Store/.test(e),n=/TV Store/.test(e)&&/OMI\//.test(e);return t||n}},{id:"operatv",name:"Opera TV",tv:!0,regex:/opera\/\d+\.\d+ \(linux (mips|arm)/i},{id:"ios",name:"iOS",mobile:!0,regex:/(iphone|ipad|ipod)/i,version:function(e){const t=/OS (\d+_\d+)/.exec(e);return t&&t[1]?t[1].replace("_","."):void 0}},{id:"windowsphone",name:"Windows Phone",mobile:!0,regex:/windows phone/i,version:function(e){const t=/windows phone[ os]*(\d+\.\d+);/i.exec(e);return t&&t[1]}},{id:"android",name:"Android",mobile:!0,regex:/android/i,version:function(e){const t=/Android (\d+\.\d+)/.exec(e);return t&&t[1]}},{id:"webos",name:"webOS",mobile:!0,predicate:function(e){return/hpwOS/.test(e)||/web[o0]s/i.test(e)&&!/smarttv/i.test(e)},version:function(e){const t=/(?:hpw|web)OS\/(\d+\.\d+)/.exec(e);return t&&t[1]}},{id:"openelec-rpi2",name:"Embedded (Raspberry Pi)",tv:!0,regex:/plexmediaplayer.*openelec-rpi2/i,version:o},{id:"openelec",name:"Embedded",tv:!0,regex:/plexmediaplayer.*openelec/i,version:o},{id:"linuxkonvergo",name:"Linux",tv:!0,regex:/plexmediaplayer.*linux/i,version:o},{id:"osxkonvergo",name:"OSX",tv:!0,regex:/plexmediaplayer.*mac/i,version:o},{id:"windowskonvergo",name:"Windows",tv:!0,regex:/plexmediaplayer.*win/i,version:o},{id:"linux",name:"Linux",regex:/linux/i},{id:"osx",name:"OSX",regex:/Macintosh/,version:function(e){const t=/OS X (\d+)[_.]?(\d+)?/.exec(e);if(t)return t[2]?t[1]+"."+t[2]:t[1]}},{id:"windows",name:"Windows",regex:/Windows/,version:function(e){const t=/Windows [^\d;)]*(\d+\.\d+)/.exec(e);if(t)return{"6.0":"Vista / Server 2008",6.1:"7 / Server 2008 R2",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"}[t[1]]}},{id:"chromeos",name:"Chrome OS",regex:/CrOS/,version:function(e){const t=/CrOS [\S]* (\d+)[_.]?(\d+)?/.exec(e);if(t)return t[2]?t[1]+"."+t[2]:t[1]}}],detect:function(e){const t=this.runTests(this.browsers,e),n=this.runTests(this.platforms,e);let i;t?(this.id=t.id,this.name=t.name,this.version=this.getVersion(e.userAgent,t.versionRegex,t.versionMatchIndex||1),this.webkit=!!t.webkit,this.gecko=!!t.gecko,this.msie=!!t.msie,this.presto=!!t.presto):(this.id="unknown",this.name="Unknown Browser",this.version="0",this.webkit=!1,this.gecko=!1,this.msie=!1,this.presto=!1),n?(i="function"==typeof n.version?n.version(e.userAgent):n.version,this.platform=n.name,this.platformID=n.id,this.platformVersion=i||this.platformVersion,this.mobile=!!n.mobile,this.tv=!!n.tv):(this.platformID="unknown",this.platform="Unknown Platform",this.mobile=!1,this.tv=!1),this.tv||(this.platformModifierKey="osx"===this.platformID||"ios"===this.platformID?"command":"ctrl")},runTests:function(e,t){let n,i,s,r=0;for(;!0!==i&&(s=e[r++]);)n=t[s.context||"userAgent"],s.regex?i=s.regex.test(n):s.predicate&&(i=s.predicate(n));return s},getVersion:function(e,t,n){const i=e.match(t);return i&&i.length>n&&i[n]||"0"},toJSON:function(){const e={};for(const t in this)this[t]&&"browsers"!==t&&"platforms"!==t&&(e[t]=this[t]);return e}};const c=new l},37214:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)},2262:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(38076),s=n(37214);const r=function(){if(!s.Z)return!1;const e=document.createElement("canvas");return!!(e&&e.getContext&&e.getContext("2d"))}(),a={isHostedHttps:s.Z&&"https:"===window.location.protocol,hasConsole:!!(window.console&&window.console.log&&window.console.log.call),hasWebSocket:s.Z&&!!window.WebSocket,hasEventSource:s.Z&&!!window.EventSource,hasReplaceState:s.Z&&!(!window.history||!window.history.replaceState),hasFileUpload:s.Z&&!!(window.File&&window.FileList&&window.FileReader),hasMediaSource:s.Z&&!(!window.MediaSource&&!window.WebKitMediaSource),hasObjectUrl:!i.Z.presto&&s.Z&&!(!window.URL||"function"!=typeof window.URL.createObjectURL||"function"!=typeof window.URL.revokeObjectURL),hasBlob:function(){try{return!!new window.Blob}catch(e){return!1}}(),hasFullscreen:function(){if(!s.Z)return!1;const e=document.createElement("div");return!!(e.requestFullscreen||e.webkitRequestFullScreen||e.mozRequestFullScreen)}(),hasCanvas:r,hasWebGL:function(){if(!r)return!1;const e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");return!!t&&t instanceof window.WebGLRenderingContext}(),hasTouchScreen:s.Z&&!!("ontouchstart"in window),hasPageVisibility:s.Z&&(!0===document.hidden||!1===document.hidden),hasWebKitPageVisibility:s.Z&&(!0===document.webkitHidden||!1===document.webkitHidden),hasPassiveEventListeners:function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){return e=!0,!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),hasWebSpeech:s.Z&&!!window.speechSynthesis,hasServiceWorker:s.Z&&!(!window.navigator||!window.navigator.serviceWorker),hasGamepads:s.Z&&"function"==typeof window.navigator.getGamepads,hasMediaSession:s.Z&&"mediaSession"in window.navigator}},29705:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(7082),s=n(95565);const r=new(i.Z.extend({mixins:s.Z}))},14452:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(11031);function s(e){return i.ZP[e]||""}},11031:(e,t,n)=>{"use strict";n.d(t,{wq:()=>s,WX:()=>r,MP:()=>a,ZP:()=>o});const i={aa:"Afaraf",af:"Afrikaans",ab:"Abkhazian",ak:"Akan",sq:"Shqip",am:"Amharic",ar:"العربية",an:"Aragonés",hy:"Հայերեն",as:"Assamese",av:"авар мацӀ",ae:"avesta",ay:"aymar aru",az:"azərbaycan dili",ba:"башҡорт теле",bm:"bamanankan",eu:"euskara",be:"Беларуская",bn:"Bengali",bh:"भोजपुरी",bi:"Bislama",bs:"bosanski jezik",br:"brezhoneg",bg:"български език",my:"Burmese",ca:"Català",ch:"Chamoru",ce:"нохчийн мотт",cu:"ѩзыкъ словѣньскъ",cv:"чӑваш чӗлхи",kw:"Kernewek",co:"corsu",cr:"ᓀᐦᐃᔭᐍᐏᐣ",dv:"Divehi",dz:"རྫོང་ཁ",en:"English","en-GB":"English (UK)",eo:"Esperanto",et:"eesti",ee:"Eʋegbe",fo:"føroyskt",fj:"vosa Vakaviti",fy:"Frysk",ff:"Fulfulde",ka:"ქართული",gd:"Gàidhlig",ga:"Gaeilge",gl:"Galego",gv:"Gaelg",gn:"Avañe&apos;ẽ",gu:"ગુજરાતી",ht:"Kreyòl ayisyen",ha:"هَوُسَ",hz:"Otjiherero",hi:"हिन्दी",ho:"Hiri Motu",hr:"hrvatski",ig:"Asụsụ Igbo",is:"Íslenska",io:"Ido",ii:"ꆈꌠ꒿ Nuosuhxop",iu:"ᐃᓄᒃᑎᑐᑦ",ie:"Interlingue",ia:"Interlingua",id:"Bahasa Indonesia",ik:"Iñupiaq",jv:"basa Jawa",kl:"kalaallisut",kn:"ಕನ್ನಡ",ks:"कश्मीरी",kr:"Kanuri",kk:"Қазақ тілі",km:"Khmer",ki:"Gĩkũyũ",rw:"Ikinyarwanda",ky:"кыргыз тили",kv:"коми кыв",kg:"KiKongo",kj:"Kuanyama",ku:"Kurdî",lo:"Lao",la:"latine",lv:"latviešu valoda",li:"Limburgs",ln:"Lingála",lt:"lietuvių kalba",lb:"Lëtzebuergesch",lu:"Luba-Katanga",lg:"Luganda",mk:"македонски јазик",mh:"Kajin M̧ajeļ",ml:"Malayalam",mi:"te reo Māori",mr:"मराठी",ms:"bahasa Melayu",mg:"Malagasy fiteny",mt:"Malti",mo:"Moldavian",mn:"монгол",na:"Ekakairũ Naoero",nv:"Diné bizaad",nr:"isiNdebele (North)",nd:"isiNdebele (South)",ng:"Owambo",ne:"नेपाली",nn:"Norsk nynorsk",nb:"Norsk bokmål",ny:"chiCheŵa",oc:"Occitan",oj:"ᐊᓂᔑᓈᐯᒧᐎᓐ",or:"Oriya",om:"Afaan Oromoo",os:"ирон æвзаг",pa:"ਪੰਜਾਬੀ",pi:"पाऴि",ps:"پښتو",qu:"Runa Simi",rm:"rumantsch grischun",ro:"română",rn:"kiRundi",sg:"yângâ tî sängö",sa:"संस्कृतम्",sr:"српски језик",si:"Sinhala",sk:"slovenčina",sl:"Slovenščina",se:"Davvisámegiella",sm:"gagana fa&apos;a Samoa",sn:"chiShona",sd:"सिन्धी",so:"Soomaaliga",st:"Sesotho",sc:"sardu",ss:"SiSwati",su:"Basa Sunda",sw:"Kiswahili",ty:"Reo Tahiti",ta:"தமிழ்",tt:"татарча",te:"Telugu",tg:"тоҷикӣ",tl:"Wikang Tagalog",th:"ไทย",bo:"བོད་ཡིག",ti:"Tigrinya",to:"faka Tonga",tn:"Setswana",ts:"Xitsonga",tk:"Türkmen",tw:"Twi",ug:"Uyƣurqə",uk:"українська",ur:"اردو",uz:"O&apos;zbek",ve:"Tshivenḓa",vi:"Tiếng Việt",vo:"Volapük",cy:"Cymraeg",wa:"Walon",wo:"Wollof",xh:"isiXhosa",yi:"ייִדיש",yo:"Yorùbá",za:"Saɯ cueŋƅ",zu:"isiZulu",pb:"Português (Brasil)",fr:"Français","fr-CA":"Français Canadien",de:"Deutsch",sv:"Svenska",no:"Norsk",da:"Dansk",fi:"Suomeksi",nl:"Nederlands",it:"Italiano",es:"Español","es-419":"Español (Latinoamérica)",pl:"Polski",hu:"Magyar",el:"Ελληνικά",tr:"Türkçe",zh:"中文","zh-TW":"臺語",ru:"русский язык",he:"עברית",ja:"日本語",pt:"Português","pt-BR":"Português Brasileiro",ko:"한국어",cs:"čeština",fa:"فارسی",xx:"Unknown",xn:"None"};function s(e,t){return i[e].localeCompare(i[t])}const r=["xx","xn"],a=function(){const e=Object.keys(i).filter((e=>-1===r.indexOf(e)));return e.sort(s),e.concat(r)}(),o=i},67038:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(69434);const s=function(e,t="`assert` requires an error message argument",n=!1){if(e)return!0;if(i.Z.error(t),n)throw new Error(t);return!1}},69434:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(29705);const s="log:message",r="log:groupEnd",a={accessToken:1,address:1,auth_token:1,authToken:1,Authorization:1,clientIdentifier:1,email:1,host:1,myPlexAccessToken:1,password:1,uri:1,"X-Plex-Token":1},o=new RegExp("("+Object.keys(a).join("|")+")(\\s?=\\s?)(['\"]?)[^'\"\n]+(['\"]?)","g"),l=/%[sdifo]/g,c=/(error|exception)\]$/i,d={"%s":e=>e,"%d":e=>Number.parseInt(e,10),"%f":e=>Number.parseFloat(e),"%o":e=>e},u=(e,t,n)=>function(){let s;const r=arguments.length;let a;if(t=void 0===t?p.LEVEL_LOG:t,!(p.level<t)){if(0===r&&n)a=n;else if(1===r)a=p.serialize(arguments[0]);else if(r>1){const e=Array(r);let t=-1;for(;++t<r;)e[t]=p.serialize(arguments[t]);e[0]=e[0].replace(l,((t,n)=>{let i=t;return e.length>1&&(i=d[t](e[1]),e.splice(1,1)),i})),a=e.join(" ")}return!a||s&&!s.test(a)||i.Z.trigger(e,{type:e,level:t,message:a}),a}},p=u(s);p.LEVEL_NONE=-1,p.LEVEL_ERROR=0,p.LEVEL_WARN=1,p.LEVEL_INFO=2,p.LEVEL_DEBUG=3,p.LEVEL_LOG=4,p.LEVEL_GROUP=p.LEVEL_INFO,p.LEVEL_GROUP_END=p.LEVEL_INFO,p.level=p.LEVEL_LOG,p.redacts=!0,p.setLevel=e=>{p.level=Math.max(p.LEVEL_NONE,Math.min(e,p.LEVEL_LOG))},p.debug=u(s,p.LEVEL_DEBUG),p.info=u(s,p.LEVEL_INFO),p.warn=u(s,p.LEVEL_WARN),p.error=u(s,p.LEVEL_ERROR),p.group=u("log:group",p.LEVEL_GROUP,"Group"),p.groupCollapsed=u("log:groupCollapsed",p.LEVEL_GROUP,"Group"),p.groupEnd=()=>{p.level<p.LEVEL_GROUP_END||i.Z.trigger(r,{type:r,level:p.LEVEL_GROUP_END})},p.serialize=e=>{let t;switch(t=void 0===e?"[object Undefined]":null===e?"[object Null]":Object.prototype.toString.call(e),t){case"[object String]":return p.redacts?e.replace(o,"$1$2$3REDACTED$4"):e;case"[object Object]":case"[object Array]":try{const t=p.redacts?p._jsonReplacer:null;return JSON.stringify(e,t,2)}catch(e){return"Unable to serialize value"}case"[object Boolean]":case"[object Number]":case"[object Function]":case"[object RegExp]":return e.toString();case"[object Date]":return e.toUTCString();case"[object Undefined]":return"undefined";case"[object Null]":return"null";default:if(c.test(t)){const n=p._getMaxStackLength();let i=e.stacktrace||e.stack;return i&&i.length>n&&(i=i.substr(0,n-3)+"..."),p.serialize({type:t,stack:i,name:e.name,message:e.message})}return e.toString()}},p._jsonReplacer=(e,t)=>a[e]?"REDACTED":"[object String]"===Object.prototype.toString.call(t)?p.serialize(t):t,p._getMaxStackLength=()=>1e3;const m=p},88167:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e,t,n){return Math.max(Math.min(e,n),t)}},95565:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(13469),s=n.n(i);n(87709);const r=/\s+/,a=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(const s in n)e[t].apply(e,[s,n[s]].concat(i));return!1}if(r.test(n)){const s=n.split(r);for(let n=0,r=s.length;n<r;n++)e[t].apply(e,[s[n]].concat(i));return!1}return!0},o=function(e,t){let n,i=-1;const s=e.length,r=t[0],a=t[1],o=t[2];switch(t.length){case 0:for(;++i<s;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<s;)(n=e[i]).callback.call(n.ctx,r);return;case 2:for(;++i<s;)(n=e[i]).callback.call(n.ctx,r,a);return;case 3:for(;++i<s;)(n=e[i]).callback.call(n.ctx,r,a,o);return;default:for(;++i<s;)(n=e[i]).callback.apply(n.ctx,t)}},l={on:function(e,t,n){return a(this,"on",e,[t,n])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:n,ctx:n||this}),this):this},once:function(e,t,n){if(!a(this,"once",e,[t,n])||!t)return this;const i=this;var r=s().once((function(){i.off(e,r),t.apply(this,arguments)}));return r._callback=t,this.on(e,r,n)},off:function(e,t,n){let i,r,o,l,c,d,u;if(!this._events||!a(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events=void 0,this;const p=e?[e]:s().keys(this._events);for(l=0,c=p.length;l<c;l++)if(e=p[l],o=this._events[e],o){if(this._events[e]=i=[],t||n)for(d=0,u=o.length;d<u;d++)r=o[d],(t&&t!==r.callback&&t!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;const t=[].slice.call(arguments,1);if(!a(this,"trigger",e,t))return this;const n=this._events[e],i=this._events.all;return n&&o(n,t),i&&o(i,arguments),this},stopListening:function(e,t,n){let i=this._listeningTo;if(!i)return this;const r=!t&&!n;n||"object"!=typeof t||(n=this),e&&((i={})[e._listenId]=e);for(const a in i)(e=i[a]).off(t,n,this),(r||s().isEmpty(e._events))&&delete this._listeningTo[a];return this},hasListener:function(e){const t=this._events&&this._events[e];return Array.isArray(t)&&t.length>0}};s().each({listenTo:"on",listenToOnce:"once"},(function(e,t){l[t]=function(t,n,i){return(this._listeningTo||(this._listeningTo={}))[t._listenId||(t._listenId=s().uniqueId("l"))]=t,i||"object"!=typeof n||(i=this),t[e](n,i,this),this}})),l.bind=l.on,l.unbind=l.off;const c=l},87709:(e,t,n)=>{"use strict";n(67038)},21809:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const i=e=>Function.prototype.toString.call(e),s=i(Object);function r(e){if(!e||"object"!=typeof e)return!1;const t="function"==typeof e.constructor?Object.getPrototypeOf(e):Object.prototype;if(null===t)return!0;const n=t.constructor;return"function"==typeof n&&n instanceof n&&i(n)===s}},7330:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return e?Array.isArray(e)?e:[e]:[]}},95504:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return 1===Number(e)||"true"===e}},26781:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return null==e||""===e?0:parseInt(e,10)}},98119:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(69434),s=n(74307);const r=function(e,t={}){try{return JSON.parse(e)}catch(n){const r=(0,s.Z)(e)?e.substring(0,50):"no response";return i.Z.warn(`[Parser] Unable to parse JSON: ${n.message} (${r})`),t}}},59632:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(69434),s=n(21809),r=n(74307);const a=function(e,t){if(t||(t={}),(0,s.Z)(e))return e;if(!(0,r.Z)(e))return{};if(!(e=e.trim().replace(/^(\?|#)/,"")))return{};const n=t.separators&&t.separators.join("")||t.separator||"&",a=new RegExp(`[${n}]+`);return e.split(a).reduce(((e,t)=>{let[n,s]=t.split("=");try{n=decodeURIComponent(n),s=void 0===s?null:decodeURIComponent(s),e.hasOwnProperty(n)?Array.isArray(e[n])?e[n].push(s):e[n]=[e[n],s]:e[n]=s}catch(e){i.Z.warn(`[Parser] Unable to decode query string at ${n}`)}return e}),{})}},61484:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return null==e?"":String(e)}},76745:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(19755),s=n.n(i);const r=function(e){const t=s().Deferred();return e&&e.then?e.then(t.resolve,t.resolve):t.resolve(e),t.promise()}},94036:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(19755),s=n.n(i);const r=function(e){const t=s().Deferred();return e.then(t.resolve,t.reject,t.notify),{promise:t.promise(),cancel:function(){t.reject({isCanceled:!0})}}}},16954:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(19755),s=n.n(i);const r=function(e,t){const n=s().Deferred(),i=(new Date).getTime()+t;let r;function a(){const e=(new Date).getTime(),t=Math.max(i-e,0);window.setTimeout(r,t)}return e.then(((...e)=>{r=()=>n.resolve(...e)}),((...e)=>{r=()=>n.reject(...e)})),e.then(a,a),n.promise()}},45960:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(19755),s=n.n(i),r=n(76745);const a=function(...e){const t=Array.isArray(e[0])?e[0]:e;return s().when(...t.map(r.Z))}},20112:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}},74307:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return"[object String]"===window.toString.call(e)}},47909:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(80129),s=n.n(i),r=n(54998),a=n.n(r),o=Object.assign;const l=/^([^?#]*)(?:\?([^#]*))?(#.*)?/,c=/([^?]*)\??(.*)()/;function d(e,t){return s().stringify(e,o({arrayFormat:"repeat"},t))}function u(e,t){return s().parse(e,t)}function p(e,t){const n=a().parse(e),i=n.protocol?`${n.protocol}:`:"",s=n.port?String(n.port):"",r=n.hostname?s&&`${n.hostname}:${s}`||n.hostname:"",o=n.hostname||"",l=n.fragment?`#${n.fragment}`:"",c=e,d=i&&r?`${i}//${r}`:"",p=n.path||"",m=n.query?`?${n.query}`:"",h=n.query?u(n.query,t):{};return{isAbsolute:/^[\w:]*\/\//.test(e),hash:l,host:r,hostname:o,href:c,origin:d,params:h,pathname:p,port:s,protocol:i,search:m}}const m={getLastSegment:function(e){if(e){const t=/[^/\\]+$/.exec(e);return(null==t?void 0:t[0])||e}return""},stringifyParams:d,parseParams:u,parseUrl:function(e){const t=o({},p(e)),n=/file/.test(t.protocol);return t.protocol||(t.protocol=window.location.protocol),n||(t.host||(t.host=window.location.host),t.hostname||(t.hostname=window.location.hostname),t.port||(t.port=window.location.port)),t.origin||(t.origin=n?`${t.protocol}//`:`${t.protocol}//${t.host}`),t},parseUri:p,join:function(e,t,n){var i;"string"==typeof e&&(e=[e]),e=e.filter((e=>e));const s=(null==n?void 0:n.recognizeHash)?l:c,r=e.reduce(((e,t)=>{const n=function(e){return String(e).replace(/^\/|\/$/g,"")}(t).match(s);if(!n)return e;const[,i,r,a]=n;return i&&(e.path=e.path?e.path+"/"+i:i),r&&(e.params=e.params?e.params+"&"+r:r),a&&(e.hash=a),e}),{path:"",params:"",hash:""});let a;if(null==n?void 0:n.parseParams)a=d(Object.assign(u(r.params),"string"==typeof t?u(t):t));else if((r.params||t)&&(r.params&&(a=r.params),t)){const e="string"==typeof t?t:d(t,null==n?void 0:n.stringifyOptions);e&&(a=a?`${a}&${e}`:e)}return(e.length&&"/"===(null==(i=e[0])?void 0:i.charAt(0))?"/":"")+r.path+(a?"?"+a:"")+r.hash}}},2418:e=>{function t(e){for(var t=e.length,n=new Array(t),i=0;i<t;i++)n[i]=e.charCodeAt(i);return n}function n(){SHA256_H=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),SHA256_buf=new Array,SHA256_len=0}function i(e){SHA256_buf="string"==typeof e?SHA256_buf.concat(t(e)):SHA256_buf.concat(e);for(var n=0;n+64<=SHA256_buf.length;n+=64)p(SHA256_H,SHA256_buf.slice(n,n+64));SHA256_buf=SHA256_buf.slice(n),SHA256_len+=e.length}function s(){if(SHA256_buf[SHA256_buf.length]=128,SHA256_buf.length>56){for(var e=SHA256_buf.length;e<64;e++)SHA256_buf[e]=0;p(SHA256_H,SHA256_buf),SHA256_buf.length=0}for(e=SHA256_buf.length;e<59;e++)SHA256_buf[e]=0;SHA256_buf[59]=SHA256_len>>>29&255,SHA256_buf[60]=SHA256_len>>>21&255,SHA256_buf[61]=SHA256_len>>>13&255,SHA256_buf[62]=SHA256_len>>>5&255,SHA256_buf[63]=SHA256_len<<3&255,p(SHA256_H,SHA256_buf);var t=new Array(32);for(e=0;e<8;e++)t[4*e+0]=SHA256_H[e]>>>24,t[4*e+1]=SHA256_H[e]>>16&255,t[4*e+2]=SHA256_H[e]>>8&255,t[4*e+3]=255&SHA256_H[e];return SHA256_H=null,SHA256_buf=null,SHA256_len=null,t}var r=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),a=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298);function o(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function l(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function c(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e,t,n){return n^e&(t^n)}function u(e,t,n){return e&t^n&(e^t)}function p(e,t){for(var n=new Array(16),i=0;i<16;i++)n[i]=t[4*i+0]<<24|t[4*i+1]<<16|t[4*i+2]<<8|t[4*i+3];!function(e,t){for(var n=16;n<64;n++)t[n]=4294967295&(((i=t[n-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)+t[n-7]+o(t[n-15])+t[n-16];var i,s=(new Array).concat(e);for(n=0;n<64;n++){var r=s[7]+c(s[4])+d(s[4],s[5],s[6])+a[n]+t[n],p=l(s[0])+u(s[0],s[1],s[2]);s.pop(),s.unshift(r+p&4294967295),s[4]=s[4]+r&4294967295}for(n=0;n<8;n++)e[n]=e[n]+s[n]&4294967295}(e,n)}e.exports={SHA256_hash:function(e){return n(),i(e),function(e){for(var t="",n=0;n<e.length;n++)t+=r[e[n]>>4]+r[15&e[n]];return t}(s())},HMAC_SHA256_init:function(e){HMAC_SHA256_key="string"==typeof e?t(e):(new Array).concat(e),HMAC_SHA256_key.length>64&&(n(),i(HMAC_SHA256_key),HMAC_SHA256_key=s());for(var r=HMAC_SHA256_key.length;r<64;r++)HMAC_SHA256_key[r]=0;for(r=0;r<64;r++)HMAC_SHA256_key[r]^=54;n(),i(HMAC_SHA256_key)},HMAC_SHA256_write:function(e){i(e)},HMAC_SHA256_finalize:function(){for(var e=s(),t=0;t<64;t++)HMAC_SHA256_key[t]^=106;for(n(),i(HMAC_SHA256_key),i(e),t=0;t<64;t++)HMAC_SHA256_key[t]=0;return HMAC_SHA256_key=null,s()}}},48143:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,s){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{},'<svg class="circle-progress-bar" version="1.1" xmlns="http://www.w3.org/2000/svg"> <circle fill="transparent"></circle> </svg> <div class="circle-progress-text"></div> '}))},40277:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,s){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{},'<ul class="js-file-list-items list browse-directory-list"></ul> <div class="js-file-list-truncated-message css-file-list-truncated-message"></div> '}))},56022:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d="function",u=this;function p(e,t,n,s){var r,a="";return a+=' <li><a href="'+c(typeof(r=e&&e.url)===d?r.apply(e):r)+'" ',((r=i.if.call(e,s&&s.shouldUseDownload,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===r)&&(a+=r),a+=" ",((r=i.if.call(e,s&&s.target,{hash:{},inverse:u.noop,fn:u.programWithDepth(9,h,t,n),data:t}))||0===r)&&(a+=r),a+' class="download-btn">'+c(typeof(r=e&&e.label)===d?r.apply(e):r)+"</a></li> "}function m(e,t){return"download"}function h(e,t,n){var i;return""+'target="'+c(typeof(i=n&&n.target)===d?i.apply(e):i)+'"'}function g(e,t,n,s){var r,a="";return a+=' <a href="'+c(typeof(r=e&&e.url)===d?r.apply(e):r)+'" ',((r=i.if.call(e,s&&s.shouldUseDownload,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===r)&&(a+=r),a+=" ",((r=i.if.call(e,s&&s.target,{hash:{},inverse:u.noop,fn:u.programWithDepth(9,h,t,n),data:t}))||0===r)&&(a+=r),a+' class="btn btn-primary download-btn">'+c(typeof(r=e&&e.label)===d?r.apply(e):r)+"</a> "}return l+='<div class="type-'+c(typeof(o=t&&t.type)===d?o.apply(t):o)+" platform-logo platform-"+c(typeof(o=t&&t.id)===d?o.apply(t):o)+'"></div> <h2><strong>'+c(typeof(o=t&&t.name)===d?o.apply(t):o)+"</strong> "+c(s(n(76273)).call(t,"Download",{hash:{},data:a}))+"</h2> <h5>"+c(s(n(76273)).call(t,"Version",{hash:{},data:a}))+" "+c(typeof(o=t&&t.version)===d?o.apply(t):o)+"</h5> <h5>"+c(s(n(16014)).call(t,t&&t.date,{hash:{},data:a}))+'</h5> <div class="more-info"> ',((o=i.if.call(t,t&&t.requirements,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){var i,r="";return r+="<p>"+c(s(n(76273)).call(e,"Requirements",{hash:{},data:t}))+": ",((i=typeof(i=e&&e.requirements)===d?i.apply(e):i)||0===i)&&(r+=i),r+"</p>"}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.info,{hash:{},inverse:u.noop,fn:u.program(3,(function(e,t){var n,i="";return i+="<p>",((n=typeof(n=e&&e.info)===d?n.apply(e):n)||0===n)&&(i+=n),i+"</p>"}),a),data:a}))||0===o)&&(l+=o),l+=" </div> ",((o=i.if.call(t,t&&t.shouldUseDropup,{hash:{},inverse:u.programWithDepth(11,(function(e,t,n){var s,r="";return r+=' <div class="download-server-btn-group"> ',((s=i.each.call(e,e&&e.releases,{hash:{},inverse:u.noop,fn:u.programWithDepth(12,g,t,e,n),data:t}))||0===s)&&(r+=s),r+" </div> "}),a,t),fn:u.programWithDepth(5,(function(e,t,r){var a,o="";return o+=' <div class="btn-group dropup download-server-btn-group"> <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> '+c(s(n(76273)).call(e,"Download",{hash:{},data:t}))+' <span class="caret"></span> </button> <ul class="dropdown-menu"> ',((a=i.each.call(e,e&&e.releases,{hash:{},inverse:u.noop,fn:u.programWithDepth(6,p,t,e,r),data:t}))||0===a)&&(o+=a),o+" </ul> </div> "}),a,t),data:a}))||0===o)&&(l+=o),l+" "}))},15314:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c="function",d=this.escapeExpression,u=this;return l+='<h3>Browser</h3> <p><span class="text-muted">Host:</span> '+d(typeof(o=t&&t.host)===c?o.apply(t):o)+'</p> <p><span class="text-muted">User Agent:</span> '+d(typeof(o=t&&t.userAgent)===c?o.apply(t):o)+'</p> <p><span class="text-muted">Name:</span> '+d(typeof(o=null==(o=t&&t.browser)||!1===o?o:o.name)===c?o.apply(t):o)+'</p> <p><span class="text-muted">Version:</span> '+d(typeof(o=null==(o=t&&t.browser)||!1===o?o:o.version)===c?o.apply(t):o)+'</p> <p><span class="text-muted">Platform:</span> '+d(typeof(o=null==(o=t&&t.browser)||!1===o?o:o.platform)===c?o.apply(t):o)+'</p> <p><span class="text-muted">Mobile:</span> '+d(s(n(1780)).call(t,null==(o=t&&t.browser)||!1===o?o:o.mobile,{hash:{},data:a}))+'</p> <h3>User</h3> <p><span class="text-muted">Username:</span> '+d(typeof(o=null==(o=t&&t.user)||!1===o?o:o.username)===c?o.apply(t):o)+" ",((o=i.if.call(t,t&&t.hasPlexPass,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"(Plex Pass)"}),a),data:a}))||0===o)&&(l+=o),l+='</p> <p><span class="text-muted">Email:</span> '+d(typeof(o=null==(o=t&&t.user)||!1===o?o:o.email)===c?o.apply(t):o)+'</p> <p><span class="text-muted">Token:</span> '+d(typeof(o=null==(o=t&&t.user)||!1===o?o:o.accessToken)===c?o.apply(t):o)+'</p> <h3>plex.tv</h3> <p><span class="text-muted">URL:</span> '+d(typeof(o=t&&t.cloudServerUrl)===c?o.apply(t):o)+'</p> <p><span class="text-muted">Available:</span> '+d(s(n(1780)).call(t,null==(o=t&&t.cloudServer)||!1===o?o:o.available,{hash:{},data:a}))+'</p> <p><span class="text-muted">Authorized:</span> '+d(s(n(1780)).call(t,null==(o=t&&t.cloudServer)||!1===o?o:o.authorized,{hash:{},data:a}))+"</p> <h3>Primary Server</h3> ",((o=i.if.call(t,t&&t.primaryServer,{hash:{},inverse:u.program(5,(function(e,t){return' <p><span class="text-muted">none</span></p> '}),a),fn:u.program(3,(function(e,t){var n;return""+' <p><span class="text-muted">Name:</span> '+d(typeof(n=null==(n=e&&e.primaryServer)||!1===n?n:n.friendlyName)===c?n.apply(e):n)+'</p> <p><span class="text-muted">URL:</span> '+d(typeof(n=e&&e.primaryServerUrl)===c?n.apply(e):n)+'</p> <p><span class="text-muted">Version:</span> '+d(typeof(n=null==(n=e&&e.primaryServer)||!1===n?n:n.version)===c?n.apply(e):n)+'</p> <p><span class="text-muted">Token:</span> '+d(typeof(n=null==(n=e&&e.primaryServer)||!1===n?n:n.accessToken)===c?n.apply(e):n)+"</p> "}),a),data:a}))||0===o)&&(l+=o),l+" "}))},60235:e=>{e.exports=function(){return""}},32051:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,a="";return(a+='<textarea class="form-control">')+((0,this.escapeExpression)((r=n.logs)||"function"==typeof(r=t&&t.logs)?r.call(t,{hash:{},data:s}):r)+"</textarea> ")}))},17487:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,a="",o=this;function l(e,t){return"star"}function c(e,t){return"dislikes"}return((r=n.each.call(t,t&&t.stars,{hash:{},inverse:o.noop,fn:o.program(1,(function(e,t){var i,s="";return s+='<span class="star"><i class="star-icon glyphicon ',((i=n.if.call(e,e,{hash:{},inverse:o.program(4,c,t),fn:o.program(2,l,t),data:t}))||0===i)&&(s+=i),s+'"></i><span class="empty-icon"></span></span>'}),s),data:s}))||0===r)&&(a+=r),a+" "}))},98149:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return"disabled"}return l+='<div class="filter-bar"> <span class="page-count">'+d(s(n(76273)).call(t,"Page {1} of {2}",t&&t.escapedPage,t&&t.escapedPages,{hash:{},data:a}))+"</span> ",((o=i.unless.call(t,t&&t.shared,{hash:{},inverse:c.noop,fn:c.program(1,(function(e,t){var n,s="";return s+=' <div class="filter-bar-right"> <a class="previous-btn btn-gray ',((n=i.unless.call(e,e&&e.enablePrevious,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===n)&&(s+=n),s+='" href="#"> <i class="glyphicon chevron-left"></i> </a> <a class="next-btn btn-gray ',((n=i.unless.call(e,e&&e.enableNext,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===n)&&(s+=n),s+'" href="#"> <i class="glyphicon chevron-right"></i> </a> </div> '}),a),data:a}))||0===o)&&(l+=o),l+=" </div> ",((o=i.if.call(t,t&&t.shared,{hash:{},inverse:c.program(6,(function(e,t){return' <div class="alert-list-container"></div> '}),a),fn:c.program(4,(function(e,t){return""+' <div class="row row-padded"> <div class="col-md-8 col-md-offset-2"> <h4 class="text-muted text-center">'+d(s(n(76273)).call(e,"Alerts are restricted from shared users.",{hash:{},data:t}))+"</h4> </div> </div> "}),a),data:a}))||0===o)&&(l+=o),l+" "}))},77210:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return"hidden"}return l+='<div class="conversion-filter-bar filter-bar"> ',((o=i.if.call(t,t&&t.hasPausedSetting,{hash:{},inverse:c.noop,fn:c.program(1,(function(e,t){var r,a="";return a+=' <div class="filter-bar-right"> <button class="pause-btn btn btn-sm btn-default ',((r=i.if.call(e,e&&e.isPaused,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===r)&&(a+=r),a+='">'+d(s(n(76273)).call(e,"Pause",{hash:{},data:t}))+'</button> <button class="resume-btn btn btn-sm btn-primary ',((r=i.unless.call(e,e&&e.isPaused,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===r)&&(a+=r),a+'">'+d(s(n(76273)).call(e,"Resume",{hash:{},data:t}))+"</button> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=" </div> ",((o=i.if.call(t,t&&t.errorMessage,{hash:{},inverse:c.program(6,(function(e,t){return""+' <p class="conversion-status-message">'+d(s(n(76273)).call(e,"Manage your completed conversions in {1}Optimized Versions Settings{2}.",'<a href="{3}">',"</a>",e&&e.manageVersionsRoute,{hash:{},data:t}))+"</p> "}),a),fn:c.program(4,(function(e,t){var i;return""+' <p class="conversion-error-message"><i class="conversion-error-icon glyphicon circle-exclamation-mark text-danger"></i> '+d("function"==typeof(i=e&&e.errorMessage)?i.apply(e):i)+" "+d(s(n(76273)).call(e,"Check the status in {1}Optimized Versions Settings{2}.",'<a href="{3}">',"</a>",e&&e.manageVersionsRoute,{hash:{},data:t}))+"</p> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.shouldShowList,{hash:{},inverse:c.program(10,(function(e,t){return""+' <div class="row row-padded"> <h4 class="text-muted text-center"> '+d(s(n(76273)).call(e,"This requires Plex Media Server {1} or later.",e&&e.escapedMinServerVersion,{hash:{},data:t}))+" </h4> </div> "}),a),fn:c.program(8,(function(e,t){var n,s="";return s+=' <div class="conversion-queue-empty-region"></div> <div class="conversion-queue-up-next-list-region"></div> <hr class="conversion-queue-divider ',((n=i.unless.call(e,e&&e.shouldShowDivider,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===n)&&(s+=n),s+'"> <div class="conversion-queue-after-up-next-list-region"></div> '}),a),data:a}))||0===o)&&(l+=o),l+" "}))},10129:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){var a;return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{},""+'<div class="row row-loading"> <div class="loading loading-inline"></div> </div> <div class="sync-empty-message row row-padded hidden"> <h4 class="text-muted text-center"> '+(0,this.escapeExpression)((a=n(76273),a&&(a.__esModule?a.default:a)).call(t,"Nothing is synced to this device.",{hash:{},data:r}))+' </h4> </div> <div class="sync-device-message row hidden"> <h4 class="sync-device-message-text text-muted text-center"></h4> </div> <div class="sync-item-list-container"></div> '}))},33588:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t,i){var r,a="";return a+=' <li><a data-id="'+d(typeof(r=e&&e.id)===c?r.apply(e):r)+'" href="#"><span class="dropdown-truncated-label">'+d(typeof(r=e&&e.name)===c?r.apply(e):r)+"</span>",((r=s(n(78356)).call(e,null==(r=i&&i.selectedDevice)||!1===r?r:r.id,e&&e.id,{hash:{},inverse:u.noop,fn:u.program(3,m,t),data:t}))||0===r)&&(a+=r),a+"</a></li> "}function m(e,t){return'<i class="dropdown-selected-icon glyphicon ok-2"></i>'}function h(e,t){return' <div class="row"> <div class="sync-device-container col-sm-12 col-md-12"></div> </div> '}function g(e,t){return""+' <div class="row row-padded"> <h4 class="text-muted text-center">'+d(s(n(76273)).call(e,"You have no sync capable devices.",{hash:{},data:t}))+"</h4> </div> "}function y(e,t){var n,s="";return s+=' <div class="row row-padded"> <h4 class="text-muted text-center">'+d(typeof(n=null==(n=e&&e.plexPassInfo)||!1===n?n:n.message)===c?n.apply(e):n)+'</h4> <p class="text-center ',((n=i.unless.call(e,null==(n=e&&e.plexPassInfo)||!1===n?n:n.showButton,{hash:{},inverse:u.noop,fn:u.program(14,v,t),data:t}))||0===n)&&(s+=n),s+'"> <a class="btn btn-sm btn-primary" href="'+d(typeof(n=null==(n=e&&e.plexPassInfo)||!1===n?n:n.url)===c?n.apply(e):n)+'" target="'+d(typeof(n=null==(n=e&&e.plexPassInfo)||!1===n?n:n.target)===c?n.apply(e):n)+'">'+d(typeof(n=null==(n=e&&e.plexPassInfo)||!1===n?n:n.buttonText)===c?n.apply(e):n)+"</a> </p> </div> "}function v(e,t){return"hidden"}function f(e,t){return""+' <div class="row row-padded"> <h4 class="text-muted text-center">'+d(s(n(76273)).call(e,"This server does not support sync.",{hash:{},data:t}))+"</h4> </div> "}return l+='<div class="filter-bar"> ',((o=i.if.call(t,t&&t.showDeviceDropdown,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){var n,s="";return s+=' <span class="dropdown"> <a class="dropdown-toggle" href="#device-dropdown" data-toggle="dropdown"> <span class="dropdown-friendly-name">'+d(typeof(n=null==(n=e&&e.selectedDevice)||!1===n?n:n.name)===c?n.apply(e):n)+'</span> <i class="caret-icon"></i> </a> <ul class="dropdown-menu"> ',((n=i.each.call(e,e&&e.devices,{hash:{},inverse:u.noop,fn:u.programWithDepth(2,p,t,e),data:t}))||0===n)&&(s+=n),s+" </ul> </span> "}),a),data:a}))||0===o)&&(l+=o),l+=' <div class="filter-bar-right"> ',((o=i.if.call(t,t&&t.hasTouchScreen,{hash:{},inverse:u.noop,fn:u.program(5,(function(e,t){return'<a class="edit-btn btn-gray" href="#"><i class="glyphicon pencil"></i></a>'}),a),data:a}))||0===o)&&(l+=o),l+=' <a class="refresh-btn btn-gray" href="#"><i class="glyphicon repeat"></i></a> </div> </div> ',((o=i.if.call(t,t&&t.allowSync,{hash:{},inverse:u.program(12,(function(e,t){var n,s="";return s+=" ",((n=i.if.call(e,e&&e.sync,{hash:{},inverse:u.program(16,f,t),fn:u.program(13,y,t),data:t}))||0===n)&&(s+=n),s+" "}),a),fn:u.program(7,(function(e,t){var n,s="";return s+=" ",((n=i.if.call(e,e&&e.devices,{hash:{},inverse:u.program(10,g,t),fn:u.program(8,h,t),data:t}))||0===n)&&(s+=n),s+" "}),a),data:a}))||0===o)&&(l+=o),l+" "}))},17786:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,a="";return(a+='<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">')+((0,this.escapeExpression)((r=n.message)||"function"==typeof(r=t&&t.message)?r.call(t,{hash:{},data:s}):r)+"</span> ")}))},66127:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var a,o,l="";return l+='<button class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <i class="alert-icon glyphicon ',((a=(o=n(78356),o&&(o.__esModule?o.default:o)).call(t,t&&t.type,"success",{hash:{},inverse:this.program(3,(function(e,t){return"circle-exclamation-mark"}),r),fn:this.program(1,(function(e,t){return"circle-ok"}),r),data:r}))||0===a)&&(l+=a),l+='"></i> <h4>',((a="function"==typeof(a=t&&t.message)?a.apply(t):a)||0===a)&&(l+=a),l+"</h4> "}))},18340:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var a,o="",l="function",c=this.escapeExpression;return o+='<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">'+c(typeof(a=t&&t.content)===l?a.apply(t):a)+"</span> ",((a=i.if.call(t,t&&t.url,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,s;return""+' <a class="info-link link" href="'+c(typeof(i=e&&e.url)===l?i.apply(e):i)+'" target="_blank">'+c((s=n(76273),s&&(s.__esModule?s.default:s)).call(e,"More Info",{hash:{},data:t}))+"</a> "}),r),data:r}))||0===a)&&(o+=a),o+" "}))},22016:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">'+c(s(n(76273)).call(t,"A new TV tuner ({tunerMake} {tunerModel}) has been found! Plex DVR is the easiest way to record your favorite shows!",{hash:{tunerModel:t&&t.model,tunerMake:t&&t.make},data:a}))+'</span> <a class="setup-link link" href="'+c("function"==typeof(o=t&&t.dvrSettingsRoute)?o.apply(t):o)+'">'+c(s(n(76273)).call(t,"Learn more",{hash:{},data:a}))+"</a> "}))},12935:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon cogwheel"></i> ',((o=s(n(78356)).call(t,t&&t.title,"Preferences...",{hash:{},inverse:d.program(3,(function(e,t){return""+" "+c(s(n(76273)).call(e,"{1} Settings",e&&e.escapedTitle,{hash:{},data:t}))+" "}),a),fn:d.program(1,(function(e,t){return""+" "+c(s(n(76273)).call(e,"Directory Settings",{hash:{},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+=' </h4> </div> <form id="channel-settings-form"> <div class="modal-body settings-container"> ',((o=i.each.call(t,t&&t.settings,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){return""+" "+c(s(n(46178)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+' </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(s(n(76273)).call(t,"Cancel",{hash:{},data:a}))+'</button> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(s(n(76273)).call(t,"Save",{hash:{},data:a}))+"</span> </button> </div> </form> </div> </div> "}))},20611:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,a="",o=this;function l(e,t){return' <button class="settings-btn media-poster-btn btn-link" tabindex="-1"><i class="glyphicon cogwheel"></i></button> '}return a+='<div class="media-poster-container"> <div class="media-poster"> ',((r=n.unless.call(t,t&&t.shared,{hash:{},inverse:o.noop,fn:o.program(1,(function(e,t){var i,s="";return s+=' <div class="media-poster-overlay"></div> <div class="media-poster-actions"> ',((i=n.if.call(e,null==(i=e&&e.item)||!1===i?i:i.hasPrefs,{hash:{},inverse:o.noop,fn:o.program(2,l,t),data:t}))||0===i)&&(s+=i),s+' <button class="uninstall-btn media-poster-btn btn-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> '}),s),data:s}))||0===r)&&(a+=r),a+' <div class="loading loading-inline"></div> </div> <div class="media-title media-heading"></div> <div class="media-subtitle-1 media-heading secondary"></div> </div> '}))},62250:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c="function",d=this.escapeExpression,u=this;return l+='<ul class="nav nav-header pull-right"> <li><a class="all-btn btn-gray selected" href="#">'+d(s(n(76273)).call(t,"All",{hash:{},data:a})),((o=i.if.call(t,t&&t.allCount,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){var n;return""+'<span class="badge">'+d(typeof(n=e&&e.allCount)===c?n.apply(e):n)+"</span>"}),a),data:a}))||0===o)&&(l+=o),l+='</a></li> <li><a class="video-btn btn-gray" href="#">'+d(s(n(76273)).call(t,"Video",{hash:{},data:a})),((o=i.if.call(t,t&&t.videoCount,{hash:{},inverse:u.noop,fn:u.program(3,(function(e,t){var n;return""+'<span class="badge">'+d(typeof(n=e&&e.videoCount)===c?n.apply(e):n)+"</span>"}),a),data:a}))||0===o)&&(l+=o),l+='</a></li> <li><a class="music-btn btn-gray" href="#">'+d(s(n(76273)).call(t,"Music",{hash:{},data:a})),((o=i.if.call(t,t&&t.musicCount,{hash:{},inverse:u.noop,fn:u.program(5,(function(e,t){var n;return""+'<span class="badge">'+d(typeof(n=e&&e.musicCount)===c?n.apply(e):n)+"</span>"}),a),data:a}))||0===o)&&(l+=o),l+='</a></li> <li><a class="photo-btn btn-gray" href="#">'+d(s(n(76273)).call(t,"Photo",{hash:{},data:a})),((o=i.if.call(t,t&&t.photoCount,{hash:{},inverse:u.noop,fn:u.program(7,(function(e,t){var n;return""+'<span class="badge">'+d(typeof(n=e&&e.photoCount)===c?n.apply(e):n)+"</span>"}),a),data:a}))||0===o)&&(l+=o),l+="</a></li> </ul> <h2>"+d(s(n(76273)).call(t,"Plugins",{hash:{},data:a}))+"</h2> ",((o=i.unless.call(t,t&&t.hasInstalledChannels,{hash:{},inverse:u.noop,fn:u.program(9,(function(e,t){return""+' <p style="padding:20px">'+d(s(n(76273)).call(e,"No plugins installed.",{hash:{},data:t}))+"</p> "}),a),data:a}))||0===o)&&(l+=o),l+' <div class="channels-container"></div> '}))},85213:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var a,o,l="",c="function",d=this.escapeExpression;return l+='<a class="dropdown-toggle" href="#auto-match-dropdown" data-toggle="dropdown">'+d((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,"Auto Match",{hash:{},data:r}))+' <i class="caret-icon caret-icon-sm"></i></a> <ul class="dropdown-menu"> ',((a=i.each.call(t,t&&t.agents,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n;return""+' <li><a class="auto-match-agent" href="#" data-id="'+d(typeof(n=e&&e.identifier)===c?n.apply(e):n)+'">'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+"</a></li> "}),r),data:r}))||0===a)&&(l+=a),l+" </ul> "}))},46140:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var a,o="",l=this.escapeExpression;return o+='<form class="edit-metadata-form"> ',((a=i.each.call(t,t,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i;return""+" "+l((i=n(46178),i&&(i.__esModule?i.default:i)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}),r),data:r}))||0===a)&&(o+=a),o+" </form> "}))},10719:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;return l+='<form class="edit-metadata-form"> ',((o=i.if.call(t,t&&t.canReparent,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var i;return""+' <div class="row"> <div class="col-md-12 selectize"> '+c(s(n(46178)).call(e,"autocompleteTextInput",{hash:{label:"Artist",name:"parentTitle",placeholder:(i=e&&e.placeholders,null==i||!1===i?i:i.parentTitle),ratingKey:(i=e&&e.item,null==i||!1===i?i:i.parentRatingKey),title:(i=e&&e.item,null==i||!1===i?i:i.parentTitle)},data:t}))+" </div> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=' <div class="row"> <div class="col-md-12 selectize"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Album",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey),scopeToAttr:"parentRatingKey",scopeToParam:"artist.id"},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Sort Album",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-3"> <label>'+c(s(n(76273)).call(t,"Rating",{hash:{},data:a}))+'</label> <div class="rating-region"></div> </div> ',((o=i.unless.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var i;return""+' <div class="col-md-4"> '+c(s(n(46178)).call(e,"lockableTextInput",{hash:{label:"Year",name:"year",value:(i=e&&e.item,null==i||!1===i?i:i.year),placeholder:(i=e&&e.placeholders,null==i||!1===i?i:i.year),locked:(i=e&&e.locked,null==i||!1===i?i:i.year),ratingKey:(i=e&&e.item,null==i||!1===i?i:i.ratingKey)},data:t}))+" </div> "}),a),data:a}))||0===o)&&(l+=o),l+=' <div class="col-md-',((o=i.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:d.program(7,(function(e,t){return"5"}),a),fn:d.program(5,(function(e,t){return"9"}),a),data:a}))||0===o)&&(l+=o),l+' "> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(o=t&&t.item,null==o||!1===o?o:o.originallyAvailableAt),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originallyAvailableAt),locked:(o=t&&t.locked,null==o||!1===o?o:o.originallyAvailableAt)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Record Label",name:"studio",value:(o=t&&t.item,null==o||!1===o?o:o.studio),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.studio),locked:(o=t&&t.locked,null==o||!1===o?o:o.studio),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Review",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+" </div> </div> </form> "}))},18866:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(o=t&&t.locked,null==o||!1===o?o:o.genre)},data:a}))+" </div> </div> ",((o=i.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["album.style"],{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var i;return""+' <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(e,"lockableTagInput",{hash:{label:"Styles",name:"style",attribute:"styles",locked:(i=e&&e.locked,null==i||!1===i?i:i.style)},data:t}))+" </div> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["album.mood"],{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var i;return""+' <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(e,"lockableTagInput",{hash:{label:"Moods",name:"mood",attribute:"moods",locked:(i=e&&e.locked,null==i||!1===i?i:i.mood)},data:t}))+" </div> </div> "}),a),data:a}))||0===o)&&(l+=o),l+' <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(o=t&&t.locked,null==o||!1===o?o:o.collection)},data:a}))+" </div> </div> </form> "}))},34512:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Artist",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Sort Artist",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Biography",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:a}))+" </div> </div> </form> "}))},81570:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(o=t&&t.locked,null==o||!1===o?o:o.genre)},data:a}))+" </div> </div> ",((o=i.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["artist.style"],{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var i;return""+' <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(e,"lockableTagInput",{hash:{label:"Styles",name:"style",attribute:"styles",locked:(i=e&&e.locked,null==i||!1===i?i:i.style)},data:t}))+" </div> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["artist.mood"],{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var i;return""+' <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(e,"lockableTagInput",{hash:{label:"Moods",name:"mood",attribute:"moods",locked:(i=e&&e.locked,null==i||!1===i?i:i.mood)},data:t}))+" </div> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=' <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTagInput",{hash:{label:"Country",name:"country",attribute:"countries",locked:(o=t&&t.locked,null==o||!1===o?o:o.country)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(o=t&&t.locked,null==o||!1===o?o:o.collection)},data:a}))+" </div> </div> ",((o=i.if.call(t,t&&t.canEditSimilarArtists,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){var i;return""+' <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(e,"lockableTagInput",{hash:{label:"Similar Artists",name:"similar",attribute:"similar",query:"title",locked:(i=e&&e.locked,null==i||!1===i?i:i.similar)},data:t}))+" </div> </div> "}),a),data:a}))||0===o)&&(l+=o),l+" </form> "}))},13990:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return""+' <span class="artwork-file-container"> <input type="file" class="artwork-file-control" multiple> <a href="#">'+c(s(n(76273)).call(e,"choose an image",{hash:{},data:t}))+'</a> </span> <span class="upload-prompt-divider">&middot;</span> '+c(s(n(76273)).call(e,"drag and drop",{hash:{},data:t}))+' <span class="upload-prompt-divider">&middot;</span> '}return((o=i.if.call(t,t&&t.showUpload,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var r,a="";return a+=' <div class="upload-artwork-container"> <div class="upload-prompt"> ',((r=i.if.call(e,e&&e.showFileUpload,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===r)&&(a+=r),a+' <a class="upload-url-btn" href="#">'+c(s(n(76273)).call(e,"enter a url",{hash:{},data:t}))+'</a> </div> <div class="upload-progress"> '+c(s(n(76273)).call(e,"Uploading artwork...",{hash:{},data:t}))+' </div> <div class="upload-success"> '+c(s(n(76273)).call(e,"this artwork was uploaded successfully",{hash:{},data:t}))+' <span class="upload-prompt-divider">&middot;</span> '+c(s(n(76273)).call(e,"{1}upload another{2}",'<a class="upload-back-btn" href="#">',"</a>",{hash:{},data:t}))+' </div> <div class="upload-error"> '+c(s(n(76273)).call(e,"there was an error uploading this artwork",{hash:{},data:t}))+' <span class="upload-prompt-divider">&middot;</span> '+c(s(n(76273)).call(e,"{1}try again{2}",'<a class="upload-back-btn" href="#">',"</a>",{hash:{},data:t}))+' </div> <form id="upload-form" class="upload-form"> <input type="text" class="form-control" name="url" placeholder="'+c(s(n(76273)).call(e,"Enter a url to upload an image from the web",{hash:{},data:t}))+'"> <div class="upload-form-help"> <div class="pull-right">'+c(s(n(76273)).call(e,"enter to {1}upload{2}",'<a class="submit-url-btn" href="#">',"</a>",{hash:{},data:t}))+'</div> <div class="pull-left">'+c(s(n(76273)).call(e,"esc to {1}cancel{2}",'<a class="cancel-url-btn" href="#">',"</a>",{hash:{},data:t}))+"</div> </div> </form> </div> "}),a),data:a}))||0===o)&&(l+=o),l+' <div class="artwork-list-container"></div> '}))},70830:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-8 selectize"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> <div class="col-md-4 selectize"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(o=t&&t.item,null==o||!1===o?o:o.contentRating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.contentRating),locked:(o=t&&t.locked,null==o||!1===o?o:o.contentRating),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:a}))+" </div> </div> </form> "}))},26726:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-4"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(o=t&&t.item,null==o||!1===o?o:o.originallyAvailableAt),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originallyAvailableAt),locked:(o=t&&t.locked,null==o||!1===o?o:o.originallyAvailableAt)},data:a}))+' </div> <div class="col-md-4 selectize"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(o=t&&t.item,null==o||!1===o?o:o.contentRating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.contentRating),locked:(o=t&&t.locked,null==o||!1===o?o:o.contentRating),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> <div class="col-md-4"> <label>'+c(s(n(76273)).call(t,"Rating",{hash:{},data:a}))+'</label> <div class="rating-region"></div> </div> </div> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:a}))+" </div> </div> </form> "}))},29800:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTagInput",{hash:{label:"Writers",name:"writer",attribute:"writers",locked:(o=t&&t.locked,null==o||!1===o?o:o.writer)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTagInput",{hash:{label:"Directors",name:"director",attribute:"directors",locked:(o=t&&t.locked,null==o||!1===o?o:o.director)},data:a}))+" </div> </div> </form> "}))},39706:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){var a;return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{},""+"<h4>"+(0,this.escapeExpression)((a=n(76273),a&&(a.__esModule?a.default:a)).call(t,"Files",{hash:{},data:r}))+'</h4> <ul class="media-info-file-list"></ul> <div class="loading-container"><div class="loading"></div></div> '}))},17441:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,s){var r;return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{},""+((0,this.escapeExpression)((r=n.file)||"function"==typeof(r=t&&t.file)?r.call(t,{hash:{},data:s}):r)+" ")}))},8982:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Original Title",name:"originalTitle",value:(o=t&&t.item,null==o||!1===o?o:o.originalTitle),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originalTitle),locked:(o=t&&t.locked,null==o||!1===o?o:o.originalTitle),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-4"> ',((o=i.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:d.program(3,(function(e,t){var i;return""+" "+c(s(n(46178)).call(e,"lockableTextInput",{hash:{label:"Year",name:"year",value:(i=e&&e.item,null==i||!1===i?i:i.year),placeholder:(i=e&&e.placeholders,null==i||!1===i?i:i.year),locked:(i=e&&e.locked,null==i||!1===i?i:i.year)},data:t}))+" "}),a),fn:d.program(1,(function(e,t){var i;return""+" "+c(s(n(46178)).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(i=e&&e.item,null==i||!1===i?i:i.originallyAvailableAt),placeholder:(i=e&&e.placeholders,null==i||!1===i?i:i.originallyAvailableAt),locked:(i=e&&e.locked,null==i||!1===i?i:i.originallyAvailableAt)},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+=' </div> <div class="col-md-4 selectize"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(o=t&&t.item,null==o||!1===o?o:o.contentRating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.contentRating),locked:(o=t&&t.locked,null==o||!1===o?o:o.contentRating),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> <div class="col-md-4"> <label>'+c(s(n(76273)).call(t,"Rating",{hash:{},data:a}))+'</label> <div class="rating-region"></div> </div> </div> <div class="row"> <div class="col-md-',((o=i.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:d.program(7,(function(e,t){return"6"}),a),fn:d.program(5,(function(e,t){return"12"}),a),data:a}))||0===o)&&(l+=o),l+=' selectize"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Studio",name:"studio",value:(o=t&&t.item,null==o||!1===o?o:o.studio),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.studio),locked:(o=t&&t.locked,null==o||!1===o?o:o.studio),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+" </div> ",((o=i.unless.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:d.noop,fn:d.program(9,(function(e,t){var i;return""+' <div class="col-md-6"> '+c(s(n(46178)).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(i=e&&e.item,null==i||!1===i?i:i.originallyAvailableAt),placeholder:(i=e&&e.placeholders,null==i||!1===i?i:i.originallyAvailableAt),locked:(i=e&&e.locked,null==i||!1===i?i:i.originallyAvailableAt)},data:t}))+" </div> "}),a),data:a}))||0===o)&&(l+=o),l+' </div> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Tagline",name:"tagline",value:(o=t&&t.item,null==o||!1===o?o:o.tagline),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.tagline),locked:(o=t&&t.locked,null==o||!1===o?o:o.tagline)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:a}))+" </div> </div> </form> "}))},4922:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-6"> '+c(s(n(46178)).call(t,"lockableTagInput",{hash:{label:"Directors",name:"director",attribute:"directors",locked:(o=t&&t.locked,null==o||!1===o?o:o.director)},data:a}))+' </div> <div class="col-md-6"> '+c(s(n(46178)).call(t,"lockableTagInput",{hash:{label:"Country",name:"country",attribute:"countries",locked:(o=t&&t.locked,null==o||!1===o?o:o.country)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(o=t&&t.locked,null==o||!1===o?o:o.genre)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTagInput",{hash:{label:"Writers",name:"writer",attribute:"writers",locked:(o=t&&t.locked,null==o||!1===o?o:o.writer)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTagInput",{hash:{label:"Producers",name:"producer",attribute:"producers",locked:(o=t&&t.locked,null==o||!1===o?o:o.producer)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(o=t&&t.locked,null==o||!1===o?o:o.collection)},data:a}))+" </div> </div> </form> "}))},3657:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-6"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:a}))+' </div> <div class="col-md-6"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:a}))+" </div> </div> </form> "}))},18704:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-9"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Captured Time",name:"originallyAvailableAt",value:(o=t&&t.item,null==o||!1===o?o:o.originallyAvailableAt),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.capturedTime),locked:(o=t&&t.locked,null==o||!1===o?o:o.originallyAvailableAt)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:a}))+" </div> </div> </form> "}))},2362:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTagInput",{hash:{label:"Tags",name:"tag",attribute:"tags",locked:(o=t&&t.locked,null==o||!1===o?o:o.tag)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTagInput",{hash:{onlyDelete:!0,label:"Autotags",name:"autotag",attribute:"autotags",locked:(o=t&&t.locked,null==o||!1===o?o:o.autotag)},data:a}))+" </div> </div> </form> "}))},88949:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"textInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"textInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5"},data:a}))+" </div> </div> </form> "}))},88311:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:a}))+" </div> </div> </form> "}))},52223:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var i;return""+" "+c(s(n(46178)).call(e,"lockableTagInput",{hash:{label:"Labels",name:"label",attribute:"labels",locked:(i=e&&e.locked,null==i||!1===i?i:i.label)},data:t}))+" "}function p(e,t){return""+' <div class="form-group"> <label>'+c(s(n(76273)).call(e,"Labels",{hash:{},data:t}))+"</label> <p>"+c(s(n(76273)).call(e,"Labels require Plex Media Server {1} or later.",e&&e.escapedLabelsMinVersion,{hash:{},data:t}))+"</p> </div> "}return((o=i.if.call(t,t&&t.hasContentFilterFeature,{hash:{},inverse:d.program(6,(function(e,t){var i;return""+' <div class="row row-padded"> <h4 class="text-muted text-center">'+c(s(n(76273)).call(e,"You need a Plex Pass to use restrictions.",{hash:{},data:t}))+'</h4> <p class="text-center"> <a class="btn btn-sm btn-primary" href="'+c("function"==typeof(i=e&&e.plexPassUrl)?i.apply(e):i)+'" target="_blank">'+c(s(n(76273)).call(e,"Learn More",{hash:{},data:t}))+"</a> </p> </div> "}),a),fn:d.program(1,(function(e,t){var n,s="";return s+=' <form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> ',((n=i.if.call(e,e&&e.showLabels,{hash:{},inverse:d.program(4,p,t),fn:d.program(2,u,t),data:t}))||0===n)&&(s+=n),s+" </div> </div> </form> "}),a),data:a}))||0===o)&&(l+=o),l+" "}))},48526:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Original Title",name:"originalTitle",value:(o=t&&t.item,null==o||!1===o?o:o.originalTitle),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originalTitle),locked:(o=t&&t.locked,null==o||!1===o?o:o.originalTitle),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-4"> ',((o=i.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:d.program(3,(function(e,t){var i;return""+" "+c(s(n(46178)).call(e,"lockableTextInput",{hash:{label:"Year",name:"year",value:(i=e&&e.item,null==i||!1===i?i:i.year),placeholder:(i=e&&e.placeholders,null==i||!1===i?i:i.year),locked:(i=e&&e.locked,null==i||!1===i?i:i.year)},data:t}))+" "}),a),fn:d.program(1,(function(e,t){var i;return""+" "+c(s(n(46178)).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(i=e&&e.item,null==i||!1===i?i:i.originallyAvailableAt),placeholder:(i=e&&e.placeholders,null==i||!1===i?i:i.originallyAvailableAt),locked:(i=e&&e.locked,null==i||!1===i?i:i.originallyAvailableAt)},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+=' </div> <div class="col-md-4 selectize"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(o=t&&t.item,null==o||!1===o?o:o.contentRating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.contentRating),locked:(o=t&&t.locked,null==o||!1===o?o:o.contentRating),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> <div class="col-md-4"> <label>'+c(s(n(76273)).call(t,"Rating",{hash:{},data:a}))+'</label> <div class="rating-region"></div> </div> </div> <div class="row"> <div class="col-md-',((o=i.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:d.program(7,(function(e,t){return"6"}),a),fn:d.program(5,(function(e,t){return"12"}),a),data:a}))||0===o)&&(l+=o),l+=' selectize"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Studio",name:"studio",value:(o=t&&t.item,null==o||!1===o?o:o.studio),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.studio),locked:(o=t&&t.locked,null==o||!1===o?o:o.studio),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+" </div> ",((o=i.unless.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:d.noop,fn:d.program(9,(function(e,t){var i;return""+' <div class="col-md-6"> '+c(s(n(46178)).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(i=e&&e.item,null==i||!1===i?i:i.originallyAvailableAt),placeholder:(i=e&&e.placeholders,null==i||!1===i?i:i.originallyAvailableAt),locked:(i=e&&e.locked,null==i||!1===i?i:i.originallyAvailableAt)},data:t}))+" </div> "}),a),data:a}))||0===o)&&(l+=o),l+' </div> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Tagline",name:"tagline",value:(o=t&&t.item,null==o||!1===o?o:o.tagline),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.tagline),locked:(o=t&&t.locked,null==o||!1===o?o:o.tagline)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:a}))+" </div> </div> </form> "}))},79988:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(o=t&&t.locked,null==o||!1===o?o:o.genre)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(o=t&&t.locked,null==o||!1===o?o:o.collection)},data:a}))+" </div> </div> </form> "}))},52030:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> ',((o=i.if.call(t,t&&t.canReparent,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i;return""+' <div class="row"> <div class="col-md-12 selectize"> '+c(s(n(46178)).call(e,"autocompleteTextInput",{hash:{label:"Album Artist",name:"grandparentTitle",placeholder:(i=e&&e.placeholders,null==i||!1===i?i:i.grandparentTitle),ratingKey:(i=e&&e.item,null==i||!1===i?i:i.grandparentRatingKey),title:(i=e&&e.item,null==i||!1===i?i:i.grandparentTitle)},data:t}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(s(n(46178)).call(e,"autocompleteTextInput",{hash:{label:"Album",name:"parentTitle",placeholder:(i=e&&e.placeholders,null==i||!1===i?i:i.parentTitle),ratingKey:(i=e&&e.item,null==i||!1===i?i:i.parentRatingKey),title:(i=e&&e.item,null==i||!1===i?i:i.parentTitle),scopeToAttr:"grandparentRatingKey",scopeToParam:"artist.id"},data:t}))+" </div> </div> "}),a),data:a}))||0===o)&&(l+=o),l+' <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-4"> <label>'+c(s(n(76273)).call(t,"Rating",{hash:{},data:a}))+'</label> <div class="rating-region"></div> </div> <div class="col-md-4"> '+c(s(n(46178)).call(t,"lockableNumericInput",{hash:{label:"Track",name:"index",value:(o=t&&t.item,null==o||!1===o?o:o.index),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.index),locked:(o=t&&t.locked,null==o||!1===o?o:o.index),disabled:t&&t.disableIndices},data:a}))+' </div> <div class="col-md-4"> '+c(s(n(46178)).call(t,"lockableNumericInput",{hash:{label:"Disc",name:"parentIndex",value:(o=t&&t.item,null==o||!1===o?o:o.parentIndex),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.parentIndex),locked:(o=t&&t.locked,null==o||!1===o?o:o.parentIndex),disabled:t&&t.disableIndices},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(s(n(46178)).call(t,"lockableTextInput",{hash:{label:"Artist",name:"originalTitle",value:(o=t&&t.item,null==o||!1===o?o:o.originalTitle),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originalTitle),locked:(o=t&&t.locked,null==o||!1===o?o:o.originalTitle),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+" </div> </div> </form> "}))},58830:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;return l+='<form class="edit-metadata-form"> ',((o=i.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["track.style"],{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var i;return""+' <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(e,"lockableTagInput",{hash:{label:"Styles",name:"style",attribute:"styles",locked:(i=e&&e.locked,null==i||!1===i?i:i.style)},data:t}))+" </div> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["track.mood"],{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var i;return""+' <div class="row"> <div class="col-md-12"> '+c(s(n(46178)).call(e,"lockableTagInput",{hash:{label:"Moods",name:"mood",attribute:"moods",locked:(i=e&&e.locked,null==i||!1===i?i:i.mood)},data:t}))+" </div> </div> "}),a),data:a}))||0===o)&&(l+=o),l+" </form> "}))},72988:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return""+" "+c(s(n(46178)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}return((o=i.if.call(t,t&&t.settings,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var r,a="";return a+=' <div class="setup-agent-section"> <div class="setup-agent-title">'+c(s(n(76273)).call(e,"{1} Settings",e&&e.escapedAgentName,{hash:{},data:t}))+'</div> <p class="setup-agent-disclaimer">'+c(s(n(76273)).call(e,"Note: These settings will take effect for all libraries using the {1} agent.",e&&e.escapedAgentName,{hash:{},data:t}))+'</p> <div class="setup-agent-settings"> ',((r=i.each.call(e,e&&e.settings,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===r)&&(a+=r),a+" </div> </div> "}),a),data:a}))||0===o)&&(l+=o),l+" "}))},43298:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o="",l=this.escapeExpression;return o+'<form class="edit-section-type-form settings-container"> <p>'+l(s(n(76273)).call(t,"There was an error adding this library.",{hash:{},data:a}))+"</p> <p>"+l(s(n(76273)).call(t,"Please visit the {1}forums{2} and provide your logs, as described {3}here{4}.",'<a href="https://forums.plex.tv" target="_blank">',"</a>",'<a href="http://support.plex.tv/hc/en-us/articles/200250417-Log-File-Locations/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:a}))+"</p> </form> "}))},1922:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return' <i class="server-alert-icon glyphicon bullhorn"></i> '}function p(e,t){var i;return(i=s(n(78356)).call(e,null==(i=e&&e.event)||!1===i?i:i._type,"playing",{hash:{},inverse:c.program(9,h,t),fn:c.program(7,m,t),data:t}))||0===i?i:""}function m(e,t){return' <i class="server-alert-icon glyphicon imac"></i> '}function h(e,t){var i;return(i=s(n(78356)).call(e,null==(i=e&&e.event)||!1===i?i:i._type,"websocket",{hash:{},inverse:c.program(13,v,t),fn:c.program(10,g,t),data:t}))||0===i?i:""}function g(e,t){var n,s="";return s+=" ",((n=i.if.call(e,null==(n=e&&e.event)||!1===n?n:n.opened,{hash:{},inverse:c.program(11,y,t),fn:c.program(4,u,t),data:t}))||0===n)&&(s+=n),s+" "}function y(e,t){return' <i class="server-alert-icon glyphicon warning-sign"></i> '}function v(e,t){var i;return(i=s(n(78356)).call(e,null==(i=e&&e.event)||!1===i?i:i.state,0,{hash:{},inverse:c.program(16,I,t),fn:c.program(14,f,t),data:t}))||0===i?i:""}function f(e,t){return' <i class="server-alert-icon glyphicon plus"></i> '}function I(e,t){var i;return(i=s(n(78356)).call(e,null==(i=e&&e.event)||!1===i?i:i.state,5,{hash:{},inverse:c.program(19,M,t),fn:c.program(17,b,t),data:t}))||0===i?i:""}function b(e,t){return' <i class="server-alert-icon glyphicon ok-2"></i> '}function M(e,t){var i;return(i=s(n(78356)).call(e,null==(i=e&&e.event)||!1===i?i:i.state,6,{hash:{},inverse:c.program(22,E,t),fn:c.program(20,S,t),data:t}))||0===i?i:""}function S(e,t){return' <i class="server-alert-icon glyphicon magic"></i> '}function E(e,t){var i;return(i=s(n(78356)).call(e,null==(i=e&&e.event)||!1===i?i:i.state,9,{hash:{},inverse:c.program(25,C,t),fn:c.program(23,D,t),data:t}))||0===i?i:""}function D(e,t){return' <i class="server-alert-icon glyphicon bin"></i> '}function C(e,t){return' <i class="server-alert-icon glyphicon tags"></i> '}function P(e,t){var n,s="";return s+=" ",((n=i.if.call(e,null==(n=e&&e.event)||!1===n?n:n.message,{hash:{},inverse:c.program(33,T,t),fn:c.program(31,w,t),data:t}))||0===n)&&(s+=n),s+" "}function w(e,t){var i;return""+" "+d(s(n(76273)).call(e,null==(i=e&&e.event)||!1===i?i:i.message,{hash:{},data:t}))+" "}function T(e,t){var r,a="";return a+=" "+d(s(n(76273)).call(e,null==(r=e&&e.event)||!1===r?r:r.title,{hash:{},data:t})),((r=i.if.call(e,null==(r=e&&e.event)||!1===r?r:r.description,{hash:{},inverse:c.noop,fn:c.program(34,Z,t),data:t}))||0===r)&&(a+=r),a+" "}function Z(e,t){var i;return""+": "+d(s(n(76273)).call(e,null==(i=e&&e.event)||!1===i?i:i.description,{hash:{},data:t}))}function N(e,t){var i;return(i=s(n(78356)).call(e,null==(i=e&&e.event)||!1===i?i:i._type,"timeline",{hash:{},inverse:c.program(39,x,t),fn:c.program(37,A,t),data:t}))||0===i?i:""}function A(e,t){var i;return""+" "+d(s(n(76273)).call(e,null==(i=e&&e.event)||!1===i?i:i.stateString,{hash:{},data:t}))+' <a href="#!/server/'+d(s(n(34018)).call(e,e&&e.serverID,{hash:{},data:t}))+"/details?key="+d(s(n(34018)).call(e,e&&e.itemKey,{hash:{},data:t}))+'">'+d("function"==typeof(i=null==(i=e&&e.event)||!1===i?i:i.mediaTitle)?i.apply(e):i)+"</a> "}function x(e,t){var i;return(i=s(n(78356)).call(e,null==(i=e&&e.event)||!1===i?i:i._type,"playing",{hash:{},inverse:c.program(45,k,t),fn:c.program(40,L,t),data:t}))||0===i?i:""}function L(e,t){var n,s="";return s+=" ",((n=i.if.call(e,null==(n=e&&e.event)||!1===n?n:n.player,{hash:{},inverse:c.program(43,j,t),fn:c.program(41,O,t),data:t}))||0===n)&&(s+=n),s+" "}function O(e,t){return""+" "+d(s(n(76273)).call(e,"{1} started playing {2} on {3}.",e&&e.escapedEventUsername,e&&e.escapedEventTitle,e&&e.escapedEventPlayer,{hash:{},data:t}))+" "}function j(e,t){return""+" "+d(s(n(76273)).call(e,"{1} started playing {2}.",e&&e.escapedEventUsername,e&&e.escapedEventTitle,{hash:{},data:t}))+" "}function k(e,t){var i;return(i=s(n(78356)).call(e,null==(i=e&&e.event)||!1===i?i:i._type,"websocket",{hash:{},inverse:c.noop,fn:c.program(46,R,t),data:t}))||0===i?i:""}function R(e,t){var n,s="";return s+=" ",((n=i.if.call(e,null==(n=e&&e.event)||!1===n?n:n.opened,{hash:{},inverse:c.program(49,U,t),fn:c.program(47,z,t),data:t}))||0===n)&&(s+=n),s+" "}function z(e,t){return""+" "+d(s(n(76273)).call(e,"Opened connection to {1}, listening for events.",e&&e.escapedServerName,{hash:{},data:t}))+" "}function U(e,t){var n;return(n=i.if.call(e,null==(n=e&&e.event)||!1===n?n:n.closed,{hash:{},inverse:c.program(52,B,t),fn:c.program(50,V,t),data:t}))||0===n?n:""}function V(e,t){return""+" "+d(s(n(76273)).call(e,"Connection to {1} closed.",e&&e.escapedServerName,{hash:{},data:t}))+" "}function B(e,t){return""+" "+d(s(n(76273)).call(e,"Unable to listen for events on {1}.",e&&e.escapedServerName,{hash:{},data:t}))+" "}return l+='<div class="striped-list-inner-item alert-list-inner-item"> ',((o=s(n(78356)).call(t,null==(o=t&&t.event)||!1===o?o:o._type,"setting",{hash:{},inverse:c.program(3,(function(e,t){var i;return(i=s(n(78356)).call(e,null==(i=e&&e.event)||!1===i?i:i._type,"status",{hash:{},inverse:c.program(6,p,t),fn:c.program(4,u,t),data:t}))||0===i?i:""}),a),fn:c.program(1,(function(e,t){return' <i class="server-alert-icon glyphicon cogwheel"></i> '}),a),data:a}))||0===o)&&(l+=o),l+=' <div class="server-alert-details"> <span class="server-alert-time">'+d(s(n(16014)).call(t,null==(o=t&&t.event)||!1===o?o:o.time,t&&t.timeFormat,{hash:{},data:a}))+"</span> ",((o=s(n(78356)).call(t,null==(o=t&&t.event)||!1===o?o:o._type,"setting",{hash:{},inverse:c.program(29,(function(e,t){var i;return(i=s(n(78356)).call(e,null==(i=e&&e.event)||!1===i?i:i._type,"status",{hash:{},inverse:c.program(36,N,t),fn:c.program(30,P,t),data:t}))||0===i?i:""}),a),fn:c.program(27,(function(e,t){return""+" "+d(s(n(76273)).call(e,"{1} set to {2}.",e&&e.escapedEventLabel,e&&e.escapedEventValue,{hash:{},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+" </div> </div> "}))},68070:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,s){this.compilerInfo=[4,">= 1.0.0"],s=s||{};var r,a="",o=this;function l(e,t){return"hidden"}return a+='<a class="media-poster-container" href="#"> <div class="media-poster"> <div class="media-poster-overlay"></div> <div class="sync-status"> <div class="sync-status-transcode hidden"></div> <i class="sync-status-icon sync-complete-icon glyphicon ok-2 hidden"></i> <i class="sync-status-icon sync-processing-icon glyphicon more hidden"></i> <i class="sync-status-icon sync-failed-icon glyphicon warning-sign ',((r=(n=this.merge(n,e.helpers)).unless.call(t,t&&t.isFailure,{hash:{},inverse:o.noop,fn:o.program(1,l,s),data:s}))||0===r)&&(a+=r),a+='"></i> <i class="sync-status-icon sync-unknown-icon glyphicon circle-question-mark ',((r=n.if.call(t,t&&t.isFailure,{hash:{},inverse:o.noop,fn:o.program(1,l,s),data:s}))||0===r)&&(a+=r),a+'"></i> </div> <div class="media-poster-actions"> <button class="edit-btn media-poster-btn btn-link" tabindex="-1"><i class="glyphicon pencil"></i></button> <button class="delete-btn media-poster-btn btn-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> </div> <div class="media-title media-heading"></div> <div class="media-subtitle-1 media-heading secondary"></div> <div class="media-context media-heading secondary"></div> </a> '}))},14205:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o="",l=this.escapeExpression;return o+'<div class="media-poster"></div> <p class="title"></p> <p class="complete-subtitle subtitle hidden"> <i class="glyphicon ok-2"></i> '+l(s(n(76273)).call(t,"Synced",{hash:{},data:a}))+' </p> <p class="waiting-subtitle subtitle hidden"> <i class="glyphicon circle-arrow-down"></i> '+l(s(n(76273)).call(t,"Waiting to be downloaded",{hash:{},data:a}))+' </p> <p class="downloading-subtitle subtitle hidden"> <i class="glyphicon more"></i> '+l(s(n(76273)).call(t,"Downloading",{hash:{},data:a}))+' &middot; <span class="transcode-progress"></span>% </p> <p class="converting-subtitle subtitle hidden"> <i class="glyphicon more"></i> '+l(s(n(76273)).call(t,"Converting",{hash:{},data:a}))+' &middot; <span class="transcode-progress"></span>% &middot; <span class="transcode-remaining"></span> </p> <p class="processing-subtitle subtitle hidden"> <i class="glyphicon more"></i> '+l(s(n(76273)).call(t,"Waiting to be converted",{hash:{},data:a}))+' </p> <p class="unknown-subtitle subtitle hidden"> <i class="glyphicon circle-question-mark"></i> '+l(s(n(76273)).call(t,"Unknown",{hash:{},data:a}))+' </p> <p class="failed-subtitle subtitle hidden"> <i class="glyphicon warning-sign"></i> <span class="error-message"></span> </p> '}))},55224:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o="",l=this.escapeExpression;return o+'<div class="row row-padded"> <h4 class="text-muted text-center"> <p>'+l(s(n(76273)).call(t,"Conversions for sync and media optimization will appear here.",{hash:{},data:a}))+"</p> <p>"+l(s(n(76273)).call(t,"Manage your optimized versions in {1}Optimized Versions Settings{2}.",'<a href="{3}">',"</a>",t&&t.manageVersionsRoute,{hash:{},data:a}))+"</p> </h4> </div> "}))},7029:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,a,o="";return o+='<div class="show-actions striped-list-inner-item playlist-inner-item ',o+=(0,this.escapeExpression)((a=n.type)||"function"==typeof(a=t&&t.type)?a.call(t,{hash:{},data:s}):a)+'"> <div class="media-actions media-reorder"> ',((r=n.unless.call(t,t&&t.hideDragHandle,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return' <div class="sortable-handle btn-gray-link"><i class="glyphicon show-lines"></i></div> '}),s),data:s}))||0===r)&&(o+=r),o+' </div> <div class="generator-poster-container"> <div class="media-poster"></div> </div> <div class="media-actions generator-actions"> <button class="promote-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon up-arrow"></i></button> <button class="delete-btn media-action-btn btn-gray-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> <div class="media-item"> <div class="media-details"> <div class="generator-title col-lg"></div> <div class="generator-target col-md col-secondary"></div> <div class="conversion-status-region col-md col-secondary"></div> </div> </div> </div> '}))},50034:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<div class="conversion-status-container conversion-status-converting"> <div class="progress-bar-region"></div> <div class="conversion-status-converting-label-container"> <span class="conversion-status-converting-label">'+c(s(n(76273)).call(t,"Converting",{hash:{},data:a}))+'</span> <span class="conversion-status-converting-speed"></span> <div class="conversion-status-converting-progress"> <span class="conversion-status-converting-percentage"></span> <span class="conversion-status-converting-progress-separator">&middot;</span> <span class="conversion-status-converting-remaining"></span> </div> </div> </div> <div class="conversion-status-container conversion-status-processed"> <i class="conversion-status-icon glyphicon ok-2 text-success"></i> '+c(s(n(76273)).call(t,"Complete",{hash:{},data:a}))+' </div> <div class="conversion-status-container conversion-status-disabled"> <i class="conversion-status-icon glyphicon circle-exclamation-mark text-danger"></i> '+c(s(n(76273)).call(t,"Deleted",{hash:{},data:a}))+' <button class="enable-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon repeat"></i></button> </div> <div class="conversion-status-container conversion-status-error"> <i class="conversion-status-icon glyphicon circle-exclamation-mark text-danger"></i> <span class="conversion-status-failed-message">'+c("function"==typeof(o=t&&t.initialErrorMessage)?o.apply(t):o)+'</span> <button class="retry-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon repeat"></i></button> </div> <div class="conversion-status-container conversion-status-pending"> <i class="conversion-status-icon glyphicon clock"></i> <span class="conversion-status-pending-label">'+c(s(n(76273)).call(t,"Waiting",{hash:{},data:a}))+"</span> </div> "}))},71539:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,a="";return(a+='<a class="artwork-option media-poster-container" data-rating-key="')+((0,this.escapeExpression)((r=n.ratingKey)||"function"==typeof(r=t&&t.ratingKey)?r.call(t,{hash:{},data:s}):r)+'" href="#"> <div class="media-poster"></div> </a> ')}))},87507:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var a,o,l="",c=this.escapeExpression,d="function";return l+='<div class="row disc-number hidden"> '+c((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,"Disc {1}",t&&t.escapedParentIndex,{hash:{},data:r}))+' </div> <div class="row striped-list-inner-item"> <span class="col-xs-1 match-index"> '+c(typeof(a=t&&t.index)===d?a.apply(t):a)+'. </span> <span class="col-xs-11 match-track-name ',((a=i.unless.call(t,t&&t.matched,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"missing"}),r),data:r}))||0===a)&&(l+=a),l+'"> '+c(typeof(a=t&&t.name)===d?a.apply(t):a)+" </span> </div> "}))},66440:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){var a;return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{},""+'<div class="match-empty-message">'+(0,this.escapeExpression)((a=n(76273),a&&(a.__esModule?a.default:a)).call(t,"No matches found.",{hash:{},data:r}))+"</div> "}))},54536:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var a,o="",l="function",c=this.escapeExpression,d=this;function u(e,t){var n;return""+' <span class="match-year">'+c(typeof(n=e&&e.year)===l?n.apply(e):n)+'</span> <span class="match-separator">&middot;</span> '}return o+='<a class="match-result col-xs-12" href="#"> <div class="row"> <div class="col-xs-9 match-title-info"> ',((a=i.if.call(t,t&&t.parentName,{hash:{},inverse:d.program(3,(function(e,t){var n;return""+' <span class="match-name">'+c(typeof(n=e&&e.name)===l?n.apply(e):n)+"</span> "}),r),fn:d.program(1,(function(e,t){var n;return""+' <span class="match-name">'+c(typeof(n=e&&e.parentName)===l?n.apply(e):n)+'</span> &ndash; <span class="match-name">'+c(typeof(n=e&&e.name)===l?n.apply(e):n)+"</span> "}),r),data:r}))||0===a)&&(o+=a),o+=" ",((a=i.if.call(t,t&&t.disambiguationInfo,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){var n;return""+' — <span class="match-disambiguation-info">'+c(typeof(n=e&&e.disambiguationInfo)===l?n.apply(e):n)+"</span> "}),r),data:r}))||0===a)&&(o+=a),o+=" </div> ",((a=i.if.call(t,t&&t.normalizedScore,{hash:{},inverse:d.program(10,(function(e,t){var n;return""+' <div class="col-xs-3 match-score-info"> <span class="match-year">'+c(typeof(n=e&&e.year)===l?n.apply(e):n)+"</span> </div> "}),r),fn:d.program(7,(function(e,t){var s,r,a="";return a+=' <div class="col-xs-3 match-score-info" title="'+c((r=n(76273),r&&(r.__esModule?r.default:r)).call(e,"Score {1}",e&&e.escapedNormalizedScore,{hash:{},data:t}))+'"> ',((s=i.if.call(e,e&&e.year,{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===s)&&(a+=s),a+' <span class="match-score"><i class="match-score-icon glyphicon certificate"></i>'+c(typeof(s=e&&e.normalizedScore)===l?s.apply(e):s)+"</span> </div> "}),r),data:r}))||0===a)&&(o+=a),o+=' </div> <div class="row match-extended-info hidden"> ',((a=i.if.call(t,t&&t.summary,{hash:{},inverse:d.program(14,(function(e,t){return' <div class="col-xs-9 children-region"></div> '}),r),fn:d.program(12,(function(e,t){var n;return""+' <div class="col-xs-9 match-summary">'+c(typeof(n=e&&e.summary)===l?n.apply(e):n)+"</div> "}),r),data:r}))||0===a)&&(o+=a),o+' <div class="col-xs-3"> <img class="match-art" src="'+c(typeof(a=t&&t.thumb)===l?a.apply(t):a)+'"/> </div> </div> </a> '}))},38784:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o="",l=this.escapeExpression;return o+'<div class="row row-padded"> <h4 class="text-muted text-center"> <p>'+l(s(n(76273)).call(t,'Choose "Optimize..." on items in your library and optimized versions will appear here.',{hash:{},data:a}))+"</p> <p>"+l(s(n(76273)).call(t,"Monitor conversion progress in {1}Conversion Activity{2}.",'<a class="status-conversion-btn" href="#">',"</a>",{hash:{},data:a}))+"</p> </h4> </div> "}))},15379:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<a class="show-actions playlist-inner-item '+c("function"==typeof(o=t&&t.type)?o.apply(t):o)+'" href="#"> <div class="media-actions media-reorder"> <div class="sortable-handle btn-gray-link"><i class="glyphicon show-lines"></i></div> </div> <div class="generator-poster-container"> <div class="media-poster"></div> </div> <div class="media-actions generator-actions"> <button class="retry-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon repeat"></i></button> <button class="edit-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon pencil"></i></button> <button class="delete-btn media-action-btn btn-gray-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> <div class="media-item"> <div class="media-details"> <div class="generator-title col-lg"></div> <div class="generator-target col-md col-secondary"></div> <div class="generator-status col-md col-secondary"> <div class="generator-status-container generator-status-complete"> <i class="generator-status-icon glyphicon ok-2 text-success"></i> '+c(s(n(76273)).call(t,"Complete",{hash:{},data:a}))+' </div> <div class="generator-status-container generator-status-failed"> <i class="generator-status-icon glyphicon circle-exclamation-mark text-danger"></i> <span class="generator-status-failed-message">'+c(s(n(76273)).call(t,"Failed",{hash:{},data:a}))+'</span> </div> <div class="generator-status-container generator-status-converting"> <i class="generator-status-icon glyphicon restart"></i> '+c(s(n(76273)).call(t,"Converting",{hash:{},data:a}))+' </div> <div class="generator-status-container generator-status-pending"> <i class="generator-status-icon glyphicon clock"></i> '+c(s(n(76273)).call(t,"Waiting",{hash:{},data:a}))+" </div> </div> </div> </div> </a> "}))},66330:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,a="",o="function",l=this.escapeExpression;return a+='<div class="striped-list-inner-item"> <div class="generator-poster-container"> <div class="media-poster"></div> </div> <div class="conversion-status-region"></div> <div class="generator-metadata-title">',(a+=l((r=n.title)||typeof(r=t&&t.title)===o?r.call(t,{hash:{},data:s}):r)+'</div> <div class="generator-metadata-episode-index generator-metadata-subtitle"></div> <div class="generator-metadata-year generator-metadata-subtitle">')+(l((r=n.year)||typeof(r=t&&t.year)===o?r.call(t,{hash:{},data:s}):r)+"</div> </div> ")}))},6153:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,a="",o="function",l=this.escapeExpression;return a+'<a class="striped-list-item" href="#" data-key="'+l(typeof(r=null==(r=t&&t.filePath)||!1===r?r:r.key)===o?r.apply(t):r)+'"> <i class="glyphicon file"></i> '+l(typeof(r=null==(r=t&&t.filePath)||!1===r?r:r.title)===o?r.apply(t):r)+" </a> "}))},48966:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,a="",o=this,l="function",c=this.escapeExpression;function d(e,t){return"home"}function u(e,t){var i;return(i=n.if.call(e,null==(i=e&&e.filePath)||!1===i?i:i.network,{hash:{},inverse:o.program(9,m,t),fn:o.program(7,p,t),data:t}))||0===i?i:""}function p(e,t){return"globe"}function m(e,t){var i;return(i=n.if.call(e,e&&e.isRoot,{hash:{},inverse:o.program(12,g,t),fn:o.program(10,h,t),data:t}))||0===i?i:""}function h(e,t){return"hdd"}function g(e,t){return"folder-open"}return a+='<a class="striped-list-item" href="#" data-key="'+c(typeof(r=null==(r=t&&t.filePath)||!1===r?r:r.key)===l?r.apply(t):r)+'" title="'+c(typeof(r=null==(r=t&&t.filePath)||!1===r?r:r.title)===l?r.apply(t):r)+'" aria-label="'+c(typeof(r=null==(r=t&&t.filePath)||!1===r?r:r.title)===l?r.apply(t):r)+'"> <i class="folder-icon glyphicon ',((r=n.if.call(t,null==(r=t&&t.filePath)||!1===r?r:r.isBackShortcut,{hash:{},inverse:o.program(3,(function(e,t){var i;return(i=n.if.call(e,null==(i=e&&e.filePath)||!1===i?i:i.home,{hash:{},inverse:o.program(6,u,t),fn:o.program(4,d,t),data:t}))||0===i?i:""}),s),fn:o.program(1,(function(e,t){return"left-arrow"}),s),data:s}))||0===r)&&(a+=r),a+'"></i>&nbsp;'+c(typeof(r=null==(r=t&&t.filePath)||!1===r?r:r.title)===l?r.apply(t):r)+' <div class="loading loading-sm loading-inline hidden"></div> </a> '}))},28257:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,a="",o="function",l=this.escapeExpression;return a+='<a class="btn-gray" data-identifier="',(a+=l((r=n.identifier)||typeof(r=t&&t.identifier)===o?r.call(t,{hash:{},data:s}):r)+'" href="#">')+(l((r=n.name)||typeof(r=t&&t.name)===o?r.call(t,{hash:{},data:s}):r)+"</a> ")}))},97174:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var a,o,l="",c="function",d=this.escapeExpression,u=this;return l+='<div class="card-actions"> <button class="info-btn card-action-btn"><i class="glyphicon circle-info"></i></button> <button class="settings-btn card-action-btn"><i class="glyphicon cogwheel"></i></button> </div> <div class="card-handle"><i class="glyphicon show-lines"></i></div> <label for="'+d(typeof(a=t&&t.identifier)===c?a.apply(t):a)+'"> <input id="'+d(typeof(a=t&&t.identifier)===c?a.apply(t):a)+'" name="'+d(typeof(a=t&&t.identifier)===c?a.apply(t):a)+'" type="checkbox" ',((a=i.if.call(t,t&&t.enabled,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"checked"}),r),data:r}))||0===a)&&(l+=a),l+=" ",((a=i.if.call(t,t&&t.isPrimary,{hash:{},inverse:u.noop,fn:u.program(3,(function(e,t){return"disabled"}),r),data:r}))||0===a)&&(l+=a),l+"> "+d((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,t&&t.name,{hash:{},data:r}))+" </label> "}))},96875:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){var a;return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{},""+'<div class="row-padded"> <h4 class="text-muted text-center">'+(0,this.escapeExpression)((a=n(76273),a&&(a.__esModule?a.default:a)).call(t,"No devices found",{hash:{},data:r}))+"</h4> </div> "}))},29880:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,s){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{},'<div class="card card-device"> <img class="card-poster device-icon"> <div class="card-actions"> <button class="remove-device-btn card-action-btn btn-danger"><i class="glyphicon remove-2"></i></button> </div> <h4 class="name"></h4> <div class="card-details"> <div class="pull-right"> <div class="last-seen text-muted"></div> <span class="sync-info hidden"> <span class="glyphicon circle-arrow-down sync-icon"></span> <span class="sync-count"></span> <span class="sync-size"></span> </span> </div> <span class="version text-muted"></span> <div class="device-info-container"> <div class="product"></div> <div class="device text-muted"></div> <div class="platform-info text-muted"> <span class="platform"></span> <span class="platform-version"></span> </div> </div> </div> </div> '}))},25332:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var a,o="",l="function",c=this.escapeExpression,d=this;return o+='<div class="card card-section"> <div class="card-actions"> <button class="edit-section-btn card-action-btn"><i class="glyphicon pencil"></i></button> <button class="delete-section-btn card-action-btn btn-danger"><i class="glyphicon remove-2"></i></button> </div> <i class="section-icon glyphicon '+c(typeof(a=t&&t.icon)===l?a.apply(t):a)+'"></i> <span class="section-title"></span> ',((a=i.if.call(t,t&&t.path,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var n;return""+'<span class="section-path">'+c(typeof(n=e&&e.path)===l?n.apply(e):n)+"</span>"}),r),data:r}))||0===a)&&(o+=a),o+=" ",((a=i.if.call(t,t&&t.more,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var i;return""+'<span class="section-count">'+c((i=n(76273),i&&(i.__esModule?i.default:i)).call(e,"…and {count} more",{hash:{count:e&&e.more},data:t}))+"</span>"}),r),data:r}))||0===a)&&(o+=a),o+" </div> "}))},87986:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var a,o,l="",c="function",d=this.escapeExpression,u=this;return l+='<div class="card card-announcement"> <div class="unread ',((a=i.if.call(t,t&&t.read,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"hidden"}),r),data:r}))||0===a)&&(l+=a),l+='"></div> ',((a=i.if.call(t,t&&t.url,{hash:{},inverse:u.program(5,(function(e,t){var n;return""+" <h4>"+d(typeof(n=e&&e.title)===c?n.apply(e):n)+'</h4> <img class="thumb"/> '}),r),fn:u.program(3,(function(e,t){var n;return""+' <h4><a href="'+d(typeof(n=e&&e.url)===c?n.apply(e):n)+'" target="_blank">'+d(typeof(n=e&&e.title)===c?n.apply(e):n)+'</a></h4> <a href="'+d(typeof(n=e&&e.url)===c?n.apply(e):n)+'" target="_blank"> <img class="thumb"/> </a> '}),r),data:r}))||0===a)&&(l+=a),l+=' <div class="date">'+d((o=n(32115),o&&(o.__esModule?o.default:o)).call(t,t&&t.notifyAt,{hash:{},data:r}))+'</div> <div class="description">',((a=typeof(a=t&&t.content)===c?a.apply(t):a)||0===a)&&(l+=a),l+"</div> </div> "}))},68505:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o="",l=this.escapeExpression;return o+'<div class="modal-dialog"> <div class="modal-content"> <form name="add-folder-form"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon folder-plus"></i> '+l(s(n(76273)).call(t,"Add Folder",{hash:{},data:a}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <div class="row"> <div class="col-md-12"> <input type="text" name="path" class="form-control" value=""> </div> </div> <div class="row directory-container-row"> <div class="home-directory-container col-md-5"></div> <div class="col-md-7"> <div class="path-container"></div> <div class="file-container"></div> </div> </div> </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+l(s(n(76273)).call(t,"Cancel",{hash:{},data:a}))+'</button> <button type="submit" class="add-btn btn btn-primary">'+l(s(n(76273)).call(t,"Add",{hash:{},data:a}))+"</button> </div> </form> </div> </div> "}))},46341:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,a,o="",l="function";return o+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-info"></i> '+(0,this.escapeExpression)(typeof(r=null==(r=t&&t.agent)||!1===r?r:r.name)===l?r.apply(t):r)+' </h4> </div> <div class="modal-body"> <p class="agent-icon-container"></p> <p>',((r=(a=n.attribution)||typeof(a=t&&t.attribution)===l?a.call(t,{hash:{},data:s}):a)||0===r)&&(o+=r),o+"</p> </div> </div> </div> "}))},55722:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d="function",u=this;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-exclamation-mark"></i> '+c(typeof(o=t&&t.title)===d?o.apply(t):o)+'</h4> </div> <div class="modal-body"> <p class="confirm-message">'+c(typeof(o=t&&t.message)===d?o.apply(t):o)+'</p> <p class="double-confirm-message text-warning"></p> </div> <div class="modal-footer"> ',((o=i.unless.call(t,t&&t.hideCancel,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return""+' <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(s(n(76273)).call(e,e&&e.cancelLabel,{hash:{},data:t}))+"</button> "}),a),data:a}))||0===o)&&(l+=o),l+=' <button type="button" class="confirm-btn btn btn-lg ',((o=i.if.call(t,t&&t.hasDanger,{hash:{},inverse:u.program(5,(function(e,t){return"btn-primary"}),a),fn:u.program(3,(function(e,t){return"btn-danger"}),a),data:a}))||0===o)&&(l+=o),l+' btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(s(n(76273)).call(t,t&&t.confirmLabel,{hash:{},data:a}))+"</span> </button> </div> </div> </div> "}))},43614:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){var n;return""+'download="'+d(typeof(n=e&&e.downloadName)===c?n.apply(e):n)+'"'}function m(e,t){var n;return""+" "+d(typeof(n=e&&e.title)===c?n.apply(e):n)+' <span class="title-separator">•</span> '}function h(e,t){var r,a="";return a+=" "+d(s(n(62782)).call(e,e&&e.videoResolution,{hash:{},data:t})),((r=i.if.call(e,e&&e.bitrate,{hash:{},inverse:u.noop,fn:u.program(7,g,t),data:t}))||0===r)&&(a+=r),a+" "}function g(e,t){return","}function y(e,t){return""+" "+d(s(n(63208)).call(e,e&&e.bitrate,{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon download-alt"></i> '+d(s(n(76273)).call(t,"Download a Version",{hash:{},data:a}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list download-list"> ',((o=i.each.call(t,t&&t.mediaItems,{hash:{},inverse:u.noop,fn:u.programWithDepth(1,(function(e,t,r){var a,o="";return o+=' <li class="striped-list-item select-list-item download-list-item"> <a class="media" data-value="'+d(typeof(a=null==t||!1===t?t:t.index)===c?a.apply(e):a)+'" href="'+d(typeof(a=e&&e.downloadUrl)===c?a.apply(e):a)+'" target="'+d(typeof(a=r&&r.defaultLinkTarget)===c?a.apply(e):a)+'" ',((a=s(n(84772)).call(e,r&&r.defaultLinkTarget,"_blank",{hash:{},inverse:u.noop,fn:u.program(2,p,t),data:t}))||0===a)&&(o+=a),o+="> ",((a=i.if.call(e,e&&e.title,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===a)&&(o+=a),o+=" ",((a=i.if.call(e,e&&e.videoResolution,{hash:{},inverse:u.noop,fn:u.program(6,h,t),data:t}))||0===a)&&(o+=a),o+=" ",((a=i.if.call(e,e&&e.bitrate,{hash:{},inverse:u.noop,fn:u.program(9,y,t),data:t}))||0===a)&&(o+=a),o+" </a> </li> "}),a,t),data:a}))||0===o)&&(l+=o),l+" </ul> </div> </div> </div> "}))},68121:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon pencil"></i> '+c("function"==typeof(o=t&&t.paneTitle)?o.apply(t):o)+'</h4> </div> <div class="modal-body modal-body-scroll modal-body-with-panes"> <div class="modal-nav-pane dark-scrollbar hidden"> <ul class="list modal-nav-list"> ',((o=i.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.general,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return""+' <li><a class="btn-gray change-pane-btn general-btn" data-pane="general" href="#"> <i class="modal-nav-icon glyphicon align-center"></i> '+c(s(n(76273)).call(e,"General",{hash:{},data:t}))+" </a></li> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.tags,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return""+' <li><a class="btn-gray change-pane-btn tags-btn" data-pane="tags" href="#"> <i class="modal-nav-icon glyphicon tags"></i> '+c(s(n(76273)).call(e,"Tags",{hash:{},data:t}))+" </a></li> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.sharing,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){return""+' <li><a class="btn-gray change-pane-btn sharing-btn" data-pane="sharing" href="#"> <i class="modal-nav-icon glyphicon parents"></i> '+c(s(n(76273)).call(e,"Sharing",{hash:{},data:t}))+" </a></li> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.poster,{hash:{},inverse:d.noop,fn:d.program(7,(function(e,t){return""+' <li><a class="btn-gray change-pane-btn poster-btn" data-pane="poster" href="#"> <i class="modal-nav-icon glyphicon picture"></i> '+c(s(n(76273)).call(e,"Poster",{hash:{},data:t}))+" </a></li> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.banner,{hash:{},inverse:d.noop,fn:d.program(9,(function(e,t){return""+' <li><a class="btn-gray change-pane-btn banner-btn" data-pane="banner" href="#"> <i class="modal-nav-icon glyphicon picture"></i> '+c(s(n(76273)).call(e,"Banner",{hash:{},data:t}))+" </a></li> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.art,{hash:{},inverse:d.noop,fn:d.program(11,(function(e,t){return""+' <li><a class="btn-gray change-pane-btn art-btn" data-pane="art" href="#"> <i class="modal-nav-icon glyphicon picture"></i> '+c(s(n(76273)).call(e,"Background",{hash:{},data:t}))+" </a></li> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.info,{hash:{},inverse:d.noop,fn:d.program(13,(function(e,t){return""+' <li><a class="btn-gray change-pane-btn info-btn" data-pane="info" href="#"> <i class="modal-nav-icon glyphicon circle-info"></i> '+c(s(n(76273)).call(e,"Info",{hash:{},data:t}))+" </a></li> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.advanced,{hash:{},inverse:d.noop,fn:d.program(15,(function(e,t){return""+' <li><a class="btn-gray change-pane-btn advanced-btn" data-pane="advanced" href="#"> <i class="modal-nav-icon glyphicon cogwheel"></i> '+c(s(n(76273)).call(e,"Advanced",{hash:{},data:t}))+" </a></li> "}),a),data:a}))||0===o)&&(l+=o),l+' </ul> </div> <div class="modal-body-pane pane-region dark-scrollbar"> <div class="loading loading-inline"></div> </div> </div> <div class="modal-footer"> <span class="form-message"></span> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+c(s(n(76273)).call(t,"Cancel",{hash:{},data:a}))+'</button> <button type="button" class="save-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(s(n(76273)).call(t,"Save Changes",{hash:{},data:a}))+"</span> </button> </div> </div> </div> "}))},19380:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return" selected"}function p(e,t){return""+" "+c(s(n(76273)).call(e,"Select type",{hash:{},data:t}))+" "}function m(e,t){return""+" "+c(s(n(76273)).call(e,"General",{hash:{},data:t}))+" "}function h(e,t){return"disabled"}function g(e,t){return"hidden"}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> ',((o=i.if.call(t,t&&t.add,{hash:{},inverse:d.program(3,(function(e,t){var n;return""+' <i class="modal-icon glyphicon pencil"></i> '+c("function"==typeof(n=e&&e.paneTitle)?n.apply(e):n)+" "}),a),fn:d.program(1,(function(e,t){return""+' <i class="modal-icon glyphicon plus"></i> '+c(s(n(76273)).call(e,"Add {1} Library",'<span class="section-type-title"></span>',{hash:{},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+=' </h4> </div> <div class="modal-body modal-body-scroll modal-body-with-panes"> ',((o=i.if.call(t,t&&t.isLoading,{hash:{},inverse:d.program(7,(function(e,t){var r,a="";return a+=' <div class="modal-nav-pane dark-scrollbar"> <ul class="list modal-nav-list"> <li> <a class="btn-gray change-pane-btn type-btn',((r=s(n(78356)).call(e,e&&e.selectedPane,"type",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===r)&&(a+=r),a+='" data-pane="type" href="#"> <i class="modal-nav-icon glyphicon align-center"></i> ',((r=i.if.call(e,e&&e.add,{hash:{},inverse:d.program(12,m,t),fn:d.program(10,p,t),data:t}))||0===r)&&(a+=r),a+=' </a> </li> <li> <a class="btn-gray change-pane-btn folders-btn',((r=s(n(78356)).call(e,e&&e.selectedPane,"folders",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===r)&&(a+=r),a+=" ",((r=i.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,h,t),data:t}))||0===r)&&(a+=r),a+=" ",((r=i.unless.call(e,e&&e.showFolders,{hash:{},inverse:d.noop,fn:d.program(16,g,t),data:t}))||0===r)&&(a+=r),a+='" data-pane="folders" href="#"> <i class="modal-nav-icon glyphicon folder-open"></i> '+c(s(n(76273)).call(e,"Add folders",{hash:{},data:t}))+' </a> </li> <li> <a class="btn-gray change-pane-btn options-btn',((r=s(n(78356)).call(e,e&&e.selectedPane,"options",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===r)&&(a+=r),a+=" ",((r=i.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,h,t),data:t}))||0===r)&&(a+=r),a+=' hidden" data-pane="options" href="#"> <i class="modal-nav-icon glyphicon magic"></i> '+c(s(n(76273)).call(e,"Options",{hash:{},data:t}))+' </a> </li> <li> <a class="btn-gray change-pane-btn advanced-btn',((r=s(n(78356)).call(e,e&&e.selectedPane,"advanced",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===r)&&(a+=r),a+=" ",((r=i.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,h,t),data:t}))||0===r)&&(a+=r),a+'" data-pane="advanced" href="#"> <i class="modal-nav-icon glyphicon cogwheel"></i> '+c(s(n(76273)).call(e,"Advanced",{hash:{},data:t}))+' </a> </li> </ul> </div> <div class="modal-body-pane pane-region dark-scrollbar"> </div> '}),a),fn:d.program(5,(function(e,t){return' <div class="modal-body-pane pane-region dark-scrollbar"> <div class="loading loading-inline"></div> </div> '}),a),data:a}))||0===o)&&(l+=o),l+=' </div> <div class="modal-footer"> <span class="form-message"></span> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+c(s(n(76273)).call(t,"Cancel",{hash:{},data:a}))+'</button> <button type="button" class="save-btn btn btn-primary btn-loading ',((o=i.if.call(t,t&&t.add,{hash:{},inverse:d.noop,fn:d.program(14,h,a),data:a}))||0===o)&&(l+=o),l+='"> <div class="loading loading-sm"></div> <span class="btn-label"> <span class="save-btn-label-next">'+c(s(n(76273)).call(t,"Next",{hash:{},data:a}))+'</span> <span class="save-btn-label-save"> ',((o=i.if.call(t,t&&t.add,{hash:{},inverse:d.program(20,(function(e,t){return""+" "+c(s(n(76273)).call(e,"Save Changes",{hash:{},data:t}))+" "}),a),fn:d.program(18,(function(e,t){return""+" "+c(s(n(76273)).call(e,"Add Library",{hash:{},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+" </span> </span> </button> </div> </div> </div> "}))},56294:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;return l+='<div class="modal-dialog"> <div class="modal-content"> <form id="fix-incorrect-match-form"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon nameplate"></i> <span class="modal-title-text"></span></h4> ',((o=i.if.call(t,t&&t.location,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return""+' <div class="match-location"> '+c(s(n(76273)).call(e,"Location",{hash:{},data:t}))+": "+c(s(n(12498)).call(e,e&&e.location,60,12,{hash:{},data:t}))+" </div> "}),a),data:a}))||0===o)&&(l+=o),l+=' </div> <div class="modal-body modal-body-scroll dark-scrollbar"> ',((o=i.if.call(t,t&&t.showNavigation,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return""+' <ul class="list modal-list"> <li class="modal-list-item"><a class="search-options-btn" href="#">'+c(s(n(76273)).call(e,"Search Options",{hash:{},data:t}))+'</a></li> <li class="auto-match-dropdown-region modal-list-item"></li> </ul> '}),a),data:a}))||0===o)&&(l+=o),l+=' <div class="pane-region"></div> </div> <div class="modal-footer"> <div class="match-search-actions"> <button type="button" class="cancel-btn btn btn-default">'+c(s(n(76273)).call(t,"Cancel",{hash:{},data:a}))+"</button> ",((o=i.if.call(t,t&&t.showNavigation,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){return""+' <button type="submit" class="search-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(s(n(76273)).call(e,"Search",{hash:{},data:t}))+"</span> </button> "}),a),data:a}))||0===o)&&(l+=o),l+" </div> </div> </form> </div> </div> "}))},70460:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var a,o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){var n,s="";return s+=' <li> <span class="keyboard-shortcuts-keys"> ',((n=i.each.call(e,e&&e.keys,{hash:{},inverse:u.noop,fn:u.program(3,m,t),data:t}))||0===n)&&(s+=n),s+' </span> <span class="keyboard-shortcuts-label text-muted">'+d(typeof(n=e&&e.label)===c?n.apply(e):n)+"</span> </li> "}function m(e,t){var n,s="";return s+=" ",((n=i.if.call(e,e&&e.plain,{hash:{},inverse:u.noop,fn:u.program(4,h,t),data:t}))||0===n)&&(s+=n),s+=" ",((n=i.unless.call(e,e&&e.plain,{hash:{},inverse:u.noop,fn:u.program(6,g,t),data:t}))||0===n)&&(s+=n),s+=" ",((n=i.if.call(e,e&&e.split,{hash:{},inverse:u.noop,fn:u.program(8,y,t),data:t}))||0===n)&&(s+=n),s+" "}function h(e,t){var n;return""+' <span class="keyboard-shortcuts-keys-plain">'+d(typeof(n=e&&e.s)===c?n.apply(e):n)+"</span> "}function g(e,t){var n;return""+' <span class="keyboard-shortcuts-keys-key">'+d(typeof(n=e&&e.s)===c?n.apply(e):n)+"</span> "}function y(e,t){return" <br> "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon keyboard-wireless"></i> '+d((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,"Keyboard Shortcuts",{hash:{},data:r}))+' </h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> ',((a=i.each.call(t,t&&t.groups,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){var n,s="";return s+=' <h5 class="keyboard-shortcuts-header">'+d(typeof(n=e&&e.label)===c?n.apply(e):n)+'</h5> <ul class="list keyboard-shortcuts-list"> ',((n=i.each.call(e,e&&e.shortcuts,{hash:{},inverse:u.noop,fn:u.program(2,p,t),data:t}))||0===n)&&(s+=n),s+" </ul> "}),r),data:r}))||0===a)&&(l+=a),l+" </div> </div> </div> "}))},60862:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return""+" "+c(s(n(76273)).call(e,"Settings",{hash:{},data:t}))+" "}function p(e,t){return""+" "+c(s(n(76273)).call(e,"Sign In",{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-exclamation-mark"></i> ',((o=i.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(3,(function(e,t){return""+" "+c(s(n(76273)).call(e,"Plex Pass Required",{hash:{},data:t}))+" "}),a),fn:d.program(1,(function(e,t){return""+" "+c(s(n(76273)).call(e,"Internet Required",{hash:{},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+=' </h4> </div> <div class="modal-body"> <p class="confirm-message"> ',((o=i.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(7,(function(e,t){return""+" "+c(s(n(76273)).call(e,"This library requires your server be signed in to a Plex Pass account.",{hash:{},data:t}))+" "}),a),fn:d.program(5,(function(e,t){return""+" "+c(s(n(76273)).call(e,"This server cannot reach the Internet. Please verify connectivity and try again.",{hash:{},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+=' </p> </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(s(n(76273)).call(t,"Ignore",{hash:{},data:a}))+"</button> ",((o=i.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(11,(function(e,t){var n,s="";return s+=' <a class="confirm-btn btn btn-lg btn-primary" href="'+c("function"==typeof(n=e&&e.serverSettingsRoute)?n.apply(e):n)+'"> ',((n=i.if.call(e,e&&e.isSignedIn,{hash:{},inverse:d.program(14,p,t),fn:d.program(12,u,t),data:t}))||0===n)&&(s+=n),s+" </a> "}),a),fn:d.program(9,(function(e,t){return""+' <button type="button" class="confirm-btn btn btn-lg btn-primary">'+c(s(n(76273)).call(e,"OK",{hash:{},data:t}))+"</button> "}),a),data:a}))||0===o)&&(l+=o),l+" </div> </div> </div> "}))},82941:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d="function",u=this;function p(e,t,n){var s,r="";return r+=' <ul class="media-info-file-list well"> ',((s=i.if.call(e,n&&n.showDeleteFile,{hash:{},inverse:u.noop,fn:u.program(5,m,t),data:t}))||0===s)&&(r+=s),r+=" ",((s=i.each.call(e,e&&e.Part,{hash:{},inverse:u.noop,fn:u.programWithDepth(10,y,t,n),data:t}))||0===s)&&(r+=s),r+" </ul> "}function m(e,t){var i,r="";return r+=' <a href="#" data-media-item="'+c(typeof(i=null==t||!1===t?t:t.index)===d?i.apply(e):i)+'" class="delete-btn text-danger pull-right"> <i class="glyphicon bin"></i> ',((i=s(n(78356)).call(e,null==(i=e&&e.Part)||!1===i?i:i.length,"1",{hash:{},inverse:u.program(8,g,t),fn:u.program(6,h,t),data:t}))||0===i)&&(r+=i),r+" </a> "}function h(e,t){return""+" "+c(s(n(76273)).call(e,"Delete File",{hash:{},data:t}))+" "}function g(e,t){return""+" "+c(s(n(76273)).call(e,"Delete Files",{hash:{},data:t}))+" "}function y(e,t,n){var s,r="";return r+=" <li> ",((s=i.if.call(e,n&&n.showFilepath,{hash:{},inverse:u.program(13,f,t),fn:u.program(11,v,t),data:t}))||0===s)&&(r+=s),r+=" ",((s=i.unless.call(e,e&&e.accessible,{hash:{},inverse:u.noop,fn:u.program(15,I,t),data:t}))||0===s)&&(r+=s),r+" </li> "}function v(e,t){var n;return""+" "+c(typeof(n=e&&e.file)===d?n.apply(e):n)+" "}function f(e,t){return""+" "+c(s(n(51447)).call(e,e&&e.file,{hash:{},data:t}))+" "}function I(e,t){var n,s="";return s+=" ",((n=i.if.call(e,e&&e.exists,{hash:{},inverse:u.program(18,M,t),fn:u.program(16,b,t),data:t}))||0===n)&&(s+=n),s+" "}function b(e,t){return""+' <span class="label label-danger" data-toggle="tooltip" title="'+c(s(n(76273)).call(e,"Please check the permissions for this file.",{hash:{},data:t}))+'">'+c(s(n(76273)).call(e,"Inaccessible",{hash:{},data:t}))+"</span> "}function M(e,t){return""+' <span class="label label-danger" data-toggle="tooltip" title="'+c(s(n(76273)).call(e,"Please check that this file exists and the necessary drive is mounted.",{hash:{},data:t}))+'">'+c(s(n(76273)).call(e,"Unavailable",{hash:{},data:t}))+"</span> "}function S(e,t){var i;return""+' <li> <span class="detail-label">'+c(s(n(76273)).call(e,e&&e.name,{hash:{},data:t}))+'</span> <span class="detail">'+c(typeof(i=e&&e.value)===d?i.apply(e):i)+"</span> </li> "}function E(e,t,r){var a,o="";return o+=' <div class="part"> <div class="props"> <h4>'+c(s(n(76273)).call(e,"Part",{hash:{},data:t}))+"</h4> <ul> ",((a=i.each.call(e,e&&e.properties,{hash:{},inverse:u.noop,fn:u.program(21,S,t),data:t}))||0===a)&&(o+=a),o+=' </ul> </div> <div class="streams"> ',((a=i.each.call(e,e&&e.Stream,{hash:{},inverse:u.noop,fn:u.program(24,D,t),data:t}))||0===a)&&(o+=a),o+=" ",((a=i.if.call(e,r&&r.loading,{hash:{},inverse:u.noop,fn:u.program(33,N,t),data:t}))||0===a)&&(o+=a),o+" </div> </div> "}function D(e,t){var r,a="";return a+=' <div class="props"> ',((r=s(n(78356)).call(e,e&&e.streamType,"1",{hash:{},inverse:u.program(27,P,t),fn:u.program(25,C,t),data:t}))||0===r)&&(a+=r),a+=" <ul> ",((r=i.each.call(e,e&&e.properties,{hash:{},inverse:u.noop,fn:u.program(21,S,t),data:t}))||0===r)&&(a+=r),a+" </ul> </div> "}function C(e,t){return""+" <h4>"+c(s(n(76273)).call(e,"Video",{hash:{},data:t}))+"</h4> "}function P(e,t){var i;return(i=s(n(78356)).call(e,e&&e.streamType,"2",{hash:{},inverse:u.program(30,T,t),fn:u.program(28,w,t),data:t}))||0===i?i:""}function w(e,t){return""+" <h4>"+c(s(n(76273)).call(e,"Audio",{hash:{},data:t}))+"</h4> "}function T(e,t){var i;return(i=s(n(78356)).call(e,e&&e.streamType,"3",{hash:{},inverse:u.noop,fn:u.program(31,Z,t),data:t}))||0===i?i:""}function Z(e,t){return""+" <h4>"+c(s(n(76273)).call(e,"Subtitles",{hash:{},data:t}))+"</h4> "}function N(e,t){return""+' <div class="props"> <h4>'+c(s(n(76273)).call(e,"Loading",{hash:{},data:t}))+"...</h4> </div> "}function A(e,t){var i;return""+' <div class="modal-footer"> <div class="pull-left"> <a href="'+c(typeof(i=e&&e.url)===d?i.apply(e):i)+'" target="_blank">'+c(s(n(76273)).call(e,"View XML",{hash:{},data:t}))+"</a> </div> </div> "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-info"></i> '+c(s(n(76273)).call(t,"Media Info",{hash:{},data:a}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <div class="position-ref ',((o=i.unless.call(t,t&&t.hasStreams,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"hide-streams-column"}),a),data:a}))||0===o)&&(l+=o),l+='"> ',((o=i.if.call(t,t&&t.hasFiles,{hash:{},inverse:u.noop,fn:u.program(3,(function(e,t){var r,a="";return a+=' <div class="files"> <h4>'+c(s(n(76273)).call(e,"Files",{hash:{},data:t}))+"</h4> ",((r=i.each.call(e,e&&e.media,{hash:{},inverse:u.noop,fn:u.programWithDepth(4,p,t,e),data:t}))||0===r)&&(a+=r),a+" </div> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.each.call(t,t&&t.media,{hash:{},inverse:u.noop,fn:u.programWithDepth(20,(function(e,t,r){var a,o="";return o+=' <div class="media"> <div class="props"> <h4>'+c(s(n(76273)).call(e,"Media",{hash:{},data:t}))+"</h4> <ul> ",((a=i.each.call(e,e&&e.properties,{hash:{},inverse:u.noop,fn:u.program(21,S,t),data:t}))||0===a)&&(o+=a),o+=" </ul> </div> ",((a=i.each.call(e,e&&e.Part,{hash:{},inverse:u.noop,fn:u.programWithDepth(23,E,t,r),data:t}))||0===a)&&(o+=a),o+" </div> "}),a,t),data:a}))||0===o)&&(l+=o),l+=" </div> </div> ",((o=i.if.call(t,t&&t.key,{hash:{},inverse:u.noop,fn:u.programWithDepth(35,(function(e,t,n){var s;return(s=i.if.call(e,n&&n.showFilepath,{hash:{},inverse:u.noop,fn:u.program(36,A,t),data:t}))||0===s?s:""}),a,t),data:a}))||0===o)&&(l+=o),l+" </div> </div> "}))},27556:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-arrow-right"></i> '+c(s(n(76273)).call(t,"Go Premium",{hash:{},data:a}))+' </h4> </div> <div class="modal-body"> <p class="text-center"><i class="plex-image plex-pass"></i></p> <h4 class="text-center">'+c(s(n(76273)).call(t,"This feature requires a Plex Pass subscription.",{hash:{},data:a}))+"</h4> ",((o=i.if.call(t,t&&t.isClaimed,{hash:{},inverse:this.program(3,(function(e,t){return""+' <p class="text-muted">'+c(s(n(76273)).call(e,'The server "{1}" has not been claimed. This server must be claimed by an account with a Plex Pass subscription.',e&&e.escapedFriendlyName,{hash:{},data:t}))+"</p> "}),a),fn:this.program(1,(function(e,t){return""+' <p class="text-muted">'+c(s(n(76273)).call(e,"Everything you need to experience the best of Plex. Your subscription gives you premium features and exclusive access to new ones.",{hash:{},data:t}))+"</p> "}),a),data:a}))||0===o)&&(l+=o),l+' <p class="text-center"> <a class="btn btn-sm btn-primary" href="'+c("function"==typeof(o=t&&t.plexPassUrl)?o.apply(t):o)+'" target="_blank">'+c(s(n(76273)).call(t,"Learn More",{hash:{},data:a}))+"</a> </p> </div> </div> </div> "}))},90308:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-exclamation-mark"></i> '+c(s(n(76273)).call(t,"Limited Connection",{hash:{},data:a}))+" - "+c("function"==typeof(o=t&&t.serverName)?o.apply(t):o)+' </h4> </div> <div class="modal-body"> <p> '+c(s(n(76273)).call(t,"You are not connected directly to {1} so streaming quality may be limited. You may be able to connect directly to this server by changing your home network settings. {2}Learn more{3}",t&&t.escapedServerName,'<a href="https://help.plex.tv/relay" target="_blank" class="learn-more">',"</a>",{hash:{},data:a}))+' </p> </div> <div class="modal-footer"> <button type="button" class="confirm-btn btn btn-lg btn-primary">'+c(s(n(76273)).call(t,"OK",{hash:{},data:a}))+"</button> </div> </div> </div> "}))},42094:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return""+" <li>"+c("function"==typeof e?e.apply(e):e)+"</li> "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-info"></i> '+c(s(n(76273)).call(t,"Plex Media Server Release Notes",{hash:{},data:a}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <span class="text-muted">'+c(s(n(76273)).call(t,"Version {1}",t&&t.escapedVersion,{hash:{},data:a}))+"</span> ",((o=i.if.call(t,t&&t.added,{hash:{},inverse:d.noop,fn:d.programWithDepth(1,(function(e,t,r){var a,o="";return o+=' <h4 class="update-list-title">'+c(s(n(76273)).call(e,"New",{hash:{},data:t}))+"</h4> <ul> ",((a=i.each.call(e,r&&r.added,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===a)&&(o+=a),o+" </ul> "}),a,t),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.fixed,{hash:{},inverse:d.noop,fn:d.programWithDepth(4,(function(e,t,r){var a,o="";return o+=' <h4 class="update-list-title">'+c(s(n(76273)).call(e,"Fixes",{hash:{},data:t}))+"</h4> <ul> ",((a=i.each.call(e,r&&r.fixed,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===a)&&(o+=a),o+" </ul> "}),a,t),data:a}))||0===o)&&(l+=o),l+" </div> </div> </div> "}))},69009:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return""+" "+c(s(n(11178)).call(e,e&&e.name,25,{hash:{},data:t}))+" "}function p(e,t){return""+" "+c(s(n(11178)).call(e,e&&e.device,25,{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon iphone"></i> '+c(s(n(76273)).call(t,"Choose Destination",{hash:{},data:a}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list"> ',((o=i.each.call(t,t&&t.devices,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var n,s="";return s+=' <li class="striped-list-item select-list-item"> <a class="media" data-value="'+c("function"==typeof(n=e&&e.id)?n.apply(e):n)+'" href="#"> ',((n=i.if.call(e,e&&e.name,{hash:{},inverse:d.program(4,p,t),fn:d.program(2,u,t),data:t}))||0===n)&&(s+=n),s+" </a> </li> "}),a),data:a}))||0===o)&&(l+=o),l+" </ul> </div> </div> </div> "}))},83278:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon file"></i> '+c(s(n(76273)).call(t,"Select a File",{hash:{},data:a}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list"> ',((o=i.each.call(t,t&&t.medias,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,r="";return r+=' <li class="striped-list-item select-list-item"> <a class="media" data-value="'+c("function"==typeof(i=null==t||!1===t?t:t.index)?i.apply(e):i)+'" href="#"> ',((i=s(n(36433)).call(e,null==(i=null==(i=e&&e.Part)||!1===i?i:i[0])||!1===i?i:i.file,35,{hash:{},data:t}))||0===i)&&(r+=i),r+" </a> </li> "}),a),data:a}))||0===o)&&(l+=o),l+" </ul> </div> </div> </div> "}))},96717:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this,d="function",u=this.escapeExpression;function p(e,t){return" selected"}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> ',((o=typeof(o=t&&t.iconPlexChevron)===d?o.apply(t):o)||0===o)&&(l+=o),l+=" "+u(s(n(76273)).call(t,"Plex Media Server Downloads",{hash:{},data:a}))+' </h4> </div> <div class="modal-body modal-body-scroll modal-body-with-panes"> <div class="modal-nav-pane dark-scrollbar"> <ul class="list modal-nav-list"> ',((o=i.each.call(t,t&&t.items,{hash:{},inverse:c.noop,fn:c.program(1,(function(e,t){var i,r="";return r+=' <li><a class="btn-gray show-pane-btn type-btn',((i=s(n(78356)).call(e,e&&e.selectedPane,e&&e.id,{hash:{},inverse:c.noop,fn:c.program(2,p,t),data:t}))||0===i)&&(r+=i),r+'" href="#" data-pane="'+u(typeof(i=e&&e.id)===d?i.apply(e):i)+'">'+u(typeof(i=e&&e.name)===d?i.apply(e):i)+"</a></li> "}),a),data:a}))||0===o)&&(l+=o),l+' </ul> </div> <div class="modal-body-pane pane-region dark-scrollbar"> </div> </div> <div class="server-download-loading loading loading-inline"></div> </div> </div> '}))},83273:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var a,o,l="",c="function",d=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon download"></i> '+d((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,"Sync Status",{hash:{},data:r}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <h4 class="sync-item-title">'+d(typeof(a=t&&t.rootTitle)===c?a.apply(t):a)+" &middot; "+d(typeof(a=t&&t.title)===c?a.apply(t):a)+"</h4> ",((a=i.if.call(t,null==(a=t&&t.Status)||!1===a?a:a.failure,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n;return""+' <p class="text-muted"><i class="glyphicon warning-sign"></i> '+d(typeof(n=null==(n=e&&e.Status)||!1===n?n:n.failure)===c?n.apply(e):n)+"</p> "}),r),data:r}))||0===a)&&(l+=a),l+' <div class="sync-status-list-container"></div> </div> </div> </div> '}))},22110:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+='<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-error-icon"><i class="glyphicon circle-exclamation-mark"></i></p> </div> <div class="col-sm-8"> <h4> ',((o=i.if.call(t,t&&t.status,{hash:{},inverse:this.program(3,(function(e,t){return""+" "+c(s(n(76273)).call(e,"There was a problem preparing for optimization.",{hash:{},data:t}))+" "}),a),fn:this.program(1,(function(e,t){var n;return""+" "+c("function"==typeof(n=e&&e.status)?n.apply(e):n)+" "}),a),data:a}))||0===o)&&(l+=o),l+' </h4> <h4><a class="try-again-link" href="#">'+c(s(n(76273)).call(t,"Try again",{hash:{},data:a}))+"</a></h4> </div> </div> "}))},82295:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"selected"}return l+='<label class="control-label" for="convert-storage-location">'+c(s(n(76273)).call(t,"Version storage location",{hash:{},data:a}))+'</label> <select id="convert-storage-location" class="storage-location-select" name="storageLocation" ',((o=i.if.call(t,t&&t.disableLocation,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"disabled"}),a),data:a}))||0===o)&&(l+=o),l+='> <option value="-1" ',((o=s(n(78356)).call(t,t&&t.selectedLocationID,-1,{hash:{},inverse:d.noop,fn:d.program(3,u,a),data:a}))||0===o)&&(l+=o),l+=">"+c(s(n(76273)).call(t,"In folders with original items",{hash:{},data:a}))+"</option> ",((o=i.each.call(t,t&&t.locations,{hash:{},inverse:d.noop,fn:d.programWithDepth(5,(function(e,t,i){var r,a="";return a+=' <option value="'+c("function"==typeof(r=e&&e.id)?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,i&&i.selectedLocationID,e&&e.id,{hash:{},inverse:d.noop,fn:d.program(3,u,t),data:t}))||0===r)&&(a+=r),a+">"+c(s(n(12498)).call(e,e&&e.path,50,20,{hash:{},data:t}))+"</option> "}),a,t),data:a}))||0===o)&&(l+=o),l+' </select> <p class="help-block">'+c(s(n(76273)).call(t,'A "Plex Versions" folder will be created in your chosen location.',{hash:{},data:a}))+"</p> "}))},60603:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"hidden"}function p(e,t){return"checked"}return l+='<div class="form-group ',((o=i.unless.call(t,t&&t.showUnwatched,{hash:{},inverse:d.noop,fn:d.program(1,u,a),data:a}))||0===o)&&(l+=o),l+='"> <label class="control-label"> <input type="checkbox" id="convert-policy-unwatched" name="policyUnwatched" ',((o=i.if.call(t,null==(o=t&&t.policy)||!1===o?o:o.unwatched,{hash:{},inverse:d.noop,fn:d.program(3,p,a),data:a}))||0===o)&&(l+=o),l+="> "+c(s(n(76273)).call(t,"Unwatched only",{hash:{},data:a}))+' </label> </div> <div class="form-group ',((o=i.unless.call(t,t&&t.isDirectory,{hash:{},inverse:d.noop,fn:d.program(1,u,a),data:a}))||0===o)&&(l+=o),l+='"> <label class="control-label"> <input type="checkbox" id="convert-policy-scope" name="policyScope" value="count" ',((o=s(n(78356)).call(t,null==(o=t&&t.policy)||!1===o?o:o.scope,"count",{hash:{},inverse:d.noop,fn:d.program(3,p,a),data:a}))||0===o)&&(l+=o),l+="> "+c(s(n(76273)).call(t,"Limit to",{hash:{},data:a}))+' <input type="number" id="convert-policy-value" name="policyValue" class="policy-value-control form-control" ',((o=i.if.call(t,null==(o=t&&t.policy)||!1===o?o:o.value,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){var n;return""+'value="'+c("function"==typeof(n=null==(n=e&&e.policy)||!1===n?n:n.value)?n.apply(e):n)+'"'}),a),data:a}))||0===o)&&(l+=o),l+="> "+c(s(n(76273)).call(t,"items",{hash:{},data:a}))+' </label> <p class="convert-warning help-block ',((o=i.unless.call(t,t&&t.showLimitWarning,{hash:{},inverse:d.noop,fn:d.program(1,u,a),data:a}))||0===o)&&(l+=o),l+='"> <i class="convert-warning-icon glyphicon circle-exclamation-mark"></i> <span class="convert-warning-text"> ',((o=i.if.call(t,t&&t.isSync,{hash:{},inverse:d.program(9,(function(e,t){return""+" "+c(s(n(76273)).call(e,"A large number of items may be time-consuming to convert. If you have trouble, try reducing the number of items.",{hash:{},data:t}))+" "}),a),fn:d.program(7,(function(e,t){return""+" "+c(s(n(76273)).call(e,"A large number of sync items may be time-consuming to convert and transfer to your device. If you have trouble, try reducing the number of items.",{hash:{},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+" </span> </p> </div> "}))},32433:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d="function",u=this;function p(e,t){return"selected"}function m(e,t){return""+" - "+c(s(n(54614)).call(e,e&&e.mediaSettings,{hash:{},data:t}))}return l+='<select class="convert-target-select" name="target" ',((o=i.if.call(t,t&&t.disableTarget,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"disabled"}),a),data:a}))||0===o)&&(l+=o),l+="> ",((o=i.each.call(t,t&&t.targets,{hash:{},inverse:u.noop,fn:u.programWithDepth(3,(function(e,t,r){var a,o="";return o+=' <option value="'+c(typeof(a=e&&e.id)===d?a.apply(e):a)+'" ',((a=s(n(78356)).call(e,null==(a=r&&r.item)||!1===a?a:a.targetTagID,e&&e.id,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===a)&&(o+=a),o+="> "+c(typeof(a=e&&e.tag)===d?a.apply(e):a),((a=i.if.call(e,null==(a=e&&e.mediaSettings)||!1===a?a:a.videoResolution,{hash:{},inverse:u.noop,fn:u.program(6,m,t),data:t}))||0===a)&&(o+=a),o+" </option> "}),a,t),data:a}))||0===o)&&(l+=o),l+=' <option value="-1" ',((o=i.unless.call(t,null==(o=t&&t.item)||!1===o?o:o.targetTagID,{hash:{},inverse:u.noop,fn:u.program(4,p,a),data:a}))||0===o)&&(l+=o),l+=">"+c(s(n(76273)).call(t,"Custom",{hash:{},data:a}))+'</option> </select> <div class="convert-custom-target-container"> <input type="text" class="convert-target-title form-control" name="targetTitle" class="form-control" value="'+c(typeof(o=null==(o=t&&t.item)||!1===o?o:o.target)===d?o.apply(t):o)+'" placeholder="'+c(s(n(76273)).call(t,"Quality Name",{hash:{},data:a}))+'"> <select class="convert-target-profile-select" name="targetProfile"> ',((o=i.each.call(t,t&&t.profiles,{hash:{},inverse:u.noop,fn:u.programWithDepth(8,(function(e,t,i){var r,a="";return a+=' <option value="'+c(typeof(r=e&&e.title)===d?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,null==(r=i&&i.selectedProfile)||!1===r?r:r.title,e&&e.title,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+"> "+c(typeof(r=e&&e.title)===d?r.apply(e):r)+" </option> "}),a,t),data:a}))||0===o)&&(l+=o),l+=' </select> <select class="convert-target-quality-select" name="targetQuality"> ',((o=i.each.call(t,t&&t.availableCustomQualities,{hash:{},inverse:u.noop,fn:u.programWithDepth(10,(function(e,t,i){var r,a="";return a+=' <option value="'+c(typeof(r=e&&e.index)===d?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,null==(r=i&&i.selectedCustomQuality)||!1===r?r:r.index,e&&e.index,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+"> "+c(s(n(54614)).call(e,e,{hash:{},data:t}))+" </option> "}),a,t),data:a}))||0===o)&&(l+=o),l+' </select> </div> <p class="help-block">'+c(s(n(76273)).call(t,"Plex will convert your media to this quality. Each version will be stored in a separate file.",{hash:{},data:a}))+"</p> "}))},7580:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this,u="function";return l+='<form id="convert-form" class="settings-container"> <div class="modal-body"> <div class="form-group ',((o=i.unless.call(t,t&&t.showRemuxOnlyWarning,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"hidden"}),a),data:a}))||0===o)&&(l+=o),l+='"> <p class="convert-warning help-block"> <i class="convert-warning-icon glyphicon circle-exclamation-mark"></i> <span class="convert-warning-text"> '+c(s(n(76273)).call(t,"Video optimization may take a long time to complete on this server. You'll be able to use Plex normally while you wait.",{hash:{},data:a}))+' </span> </p> </div> <div class="form-group"> <label class="control-label" for="convert-title">'+c(s(n(76273)).call(t,"Title",{hash:{},data:a}))+'</label> <input type="text" id="convert-title" name="title" class="form-control" value="'+c(typeof(o=null==(o=t&&t.conversionItem)||!1===o?o:o.title)===u?o.apply(t):o)+'" placeholder="'+c(typeof(o=null==(o=t&&t.conversionItem)||!1===o?o:o.title)===u?o.apply(t):o)+'"> </div> <div class="policy-region"></div> <div class="targets-region"></div> <div class="location-region"></div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">'+c(s(n(76273)).call(t,"Cancel",{hash:{},data:a}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">',((o=i.if.call(t,t&&t.isNew,{hash:{},inverse:d.program(5,(function(e,t){return c(s(n(76273)).call(e,"Save",{hash:{},data:t}))}),a),fn:d.program(3,(function(e,t){return c(s(n(76273)).call(e,"Optimize",{hash:{},data:t}))}),a),data:a}))||0===o)&&(l+=o),l+"</span> </button> </div> </form> "}))},21967:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,s){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{},'<div class="loading loading-inline"></div> '}))},63768:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){var a;return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{},""+'<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon restart"></i> '+(0,this.escapeExpression)((a=n(76273),a&&(a.__esModule?a.default:a)).call(t,"Optimize",{hash:{},data:r}))+'</h4> </div> <div class="modal-body-region"></div> </div> </div> '}))},7369:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o="",l=this.escapeExpression;return o+'<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-success-icon"><i class="glyphicon ok-2"></i></p> </div> <div class="col-sm-8"> <h4>'+l(s(n(76273)).call(t,"This media is being converted.",{hash:{},data:a}))+"</h4> <h4>"+l(s(n(76273)).call(t,"Watch the status of the conversion {1}here{2}.",'<a class="status-link" href="#">',"</a>",{hash:{},data:a}))+"</h4> </div> </div> "}))},91939:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o="",l=this.escapeExpression;return o+'<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-error-icon"><i class="glyphicon circle-exclamation-mark"></i></p> </div> <div class="col-sm-8"> <h4>'+l(s(n(76273)).call(t,"There was a problem syncing this media.",{hash:{},data:a}))+'</h4> <h4><a class="try-again-link" href="#">'+l(s(n(76273)).call(t,"Try again",{hash:{},data:a}))+"</a></h4> </div> </div> "}))},56524:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this,d=this.escapeExpression,u="function";function p(e,t){var i,r="";return r+=' <option value="-1" ',((i=s(n(78356)).call(e,null==(i=e&&e.selectedVideoQuality)||!1===i?i:i.index,-1,{hash:{},inverse:c.noop,fn:c.program(3,m,t),data:t}))||0===i)&&(r+=i),r+"> "+d(s(n(76273)).call(e,"Original",{hash:{},data:t}))+" </option> "}function m(e,t){return"selected"}function h(e,t,i){var r,a="";return a+=' <option value="'+d(typeof(r=e&&e.index)===u?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,null==(r=i&&i.selectedVideoQuality)||!1===r?r:r.index,e&&e.index,{hash:{},inverse:c.noop,fn:c.program(3,m,t),data:t}))||0===r)&&(a+=r),a+"> "+d(s(n(54614)).call(e,e,{hash:{},data:t}))+" </option> "}function g(e,t,i){var r,a="";return a+=' <option value="'+d(typeof(r=e&&e.index)===u?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,null==(r=i&&i.selectedMusicQuality)||!1===r?r:r.index,e&&e.index,{hash:{},inverse:c.noop,fn:c.program(3,m,t),data:t}))||0===r)&&(a+=r),a+"> "+d(s(n(51030)).call(e,e,{hash:{},data:t}))+" </option> "}function y(e,t,i){var r,a="";return a+=' <option value="'+d(typeof(r=e&&e.index)===u?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,null==(r=i&&i.selectedPhotoQuality)||!1===r?r:r.index,e&&e.index,{hash:{},inverse:c.noop,fn:c.program(3,m,t),data:t}))||0===r)&&(a+=r),a+"> "+d(typeof(r=e&&e.title)===u?r.apply(e):r)+" </option> "}return((o=s(n(78356)).call(t,t&&t.typeElement,"video",{hash:{},inverse:c.noop,fn:c.program(1,(function(e,t){var n,s="";return s+=' <select class="sync-quality-select" name="videoQuality"> ',((n=i.if.call(e,e&&e.supportsOriginalQuality,{hash:{},inverse:c.noop,fn:c.program(2,p,t),data:t}))||0===n)&&(s+=n),s+=" ",((n=i.each.call(e,e&&e.availableVideoQualities,{hash:{},inverse:c.noop,fn:c.programWithDepth(5,h,t,e),data:t}))||0===n)&&(s+=n),s+" </select> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=s(n(78356)).call(t,t&&t.typeElement,"audio",{hash:{},inverse:c.noop,fn:c.program(7,(function(e,t){var n,s="";return s+=' <select class="sync-quality-select" name="musicQuality"> ',((n=i.each.call(e,e&&e.availableMusicQualities,{hash:{},inverse:c.noop,fn:c.programWithDepth(8,g,t,e),data:t}))||0===n)&&(s+=n),s+" </select> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=s(n(78356)).call(t,t&&t.typeElement,"photo",{hash:{},inverse:c.noop,fn:c.program(10,(function(e,t){var n,s="";return s+=' <select class="sync-quality-select" name="photoQuality"> ',((n=i.each.call(e,e&&e.availablePhotoQualities,{hash:{},inverse:c.noop,fn:c.programWithDepth(11,y,t,e),data:t}))||0===n)&&(s+=n),s+" </select> "}),a),data:a}))||0===o)&&(l+=o),l+' <p class="help-block">'+d(s(n(76273)).call(t,"Plex will convert your media to this quality and transfer the converted media to your device.",{hash:{},data:a}))+"</p> "}))},20166:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d="function";return l+='<form id="sync-form" class="settings-container"> <div class="modal-body"> <div class="form-group"> <label class="control-label" for="sync-title">'+c(s(n(76273)).call(t,"Title",{hash:{},data:a}))+'</label> <input type="text" id="sync-title" name="title" class="form-control" value="'+c(typeof(o=null==(o=t&&t.syncItem)||!1===o?o:o.title)===d?o.apply(t):o)+'" placeholder="'+c(typeof(o=null==(o=t&&t.syncItem)||!1===o?o:o.title)===d?o.apply(t):o)+'"> </div> <div class="policy-region"></div> <div class="quality-region"></div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">'+c(s(n(76273)).call(t,"Cancel",{hash:{},data:a}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">',((o=i.if.call(t,t&&t.isNew,{hash:{},inverse:this.program(3,(function(e,t){return c(s(n(76273)).call(e,"Save",{hash:{},data:t}))}),a),fn:this.program(1,(function(e,t){return c(s(n(76273)).call(e,"Sync",{hash:{},data:t}))}),a),data:a}))||0===o)&&(l+=o),l+"</span> </button> </div> </form> "}))},24740:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){var a;return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{},""+'<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon download"></i> '+(0,this.escapeExpression)((a=n(76273),a&&(a.__esModule?a.default:a)).call(t,"Sync",{hash:{},data:r}))+'</h4> </div> <div class="modal-body-region"></div> </div> </div> '}))},98915:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o="",l=this.escapeExpression;return o+'<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-success-icon"><i class="glyphicon ok-2"></i></p> </div> <div class="col-sm-8"> <h4>'+l(s(n(76273)).call(t,"This media is being synced.",{hash:{},data:a}))+"</h4> <h4>"+l(s(n(76273)).call(t,"Watch the status of the sync {1}here{2}.",'<a class="status-link" href="#">',"</a>",{hash:{},data:a}))+"</h4> </div> </div> "}))},63565:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){var a;return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{},""+'<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon restart"></i> <span class="generator-title"></span></h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <h4> <span class="generator-failure-container pull-right"> <i class="generator-failure-icon glyphicon circle-exclamation-mark text-danger"></i> <span class="generator-failure-message text-muted"></span> </span> <span class="generator-items-count"></span> &middot; <span class="generator-total-size"></span> </h4> <div class="list-region"></div> <div class="list-feedback-container"> <span class="loading hidden"></span> <span class="error-message text-muted hidden"> '+(0,this.escapeExpression)((a=n(76273),a&&(a.__esModule?a.default:a)).call(t,"There was a problem loading these items.",{hash:{},data:r}))+" </span> </div> </div> </div> </div> "}))},30290:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,s){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{},'<div class="modal-dialog"> <div class="modal-alert"></div> <div class="modal-content"></div> </div> '}))},49883:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var a,o,l="",c=this,d=this.escapeExpression;return((a=i.if.call(t,t&&t.disabled,{hash:{},inverse:c.program(3,(function(e,t){return' <a class="user-select-container" href="#"> '}),r),fn:c.program(1,(function(e,t){return' <div class="user-select-container"> '}),r),data:r}))||0===a)&&(l+=a),l+=' <div class="user-select-top"> <div class="user-poster img-circle"> <span class="add-icon">',((a="function"==typeof(a=t&&t.iconAdd)?a.apply(t):a)||0===a)&&(l+=a),l+='</span> </div> </div> <div class="caption"> <div class="username">'+d((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,"Add User…",{hash:{},data:r}))+"</div> </div> ",((a=i.if.call(t,t&&t.disabled,{hash:{},inverse:c.program(7,(function(e,t){return" </a> "}),r),fn:c.program(5,(function(e,t){return" </div> "}),r),data:r}))||0===a)&&(l+=a),l+" "}))},20367:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,a="";return(a+='<span class="message">')+((0,this.escapeExpression)((r=n.message)||"function"==typeof(r=t&&t.message)?r.call(t,{hash:{},data:s}):r)+"</span> ")}))},91159:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return""+" "+c(s(n(76273)).call(e,"Confirm Current PIN",{hash:{},data:t}))+" "}function p(e,t){var n;return(n=i.if.call(e,e&&e.isOpeningAddManagedUser,{hash:{},inverse:d.program(11,h,t),fn:d.program(9,m,t),data:t}))||0===n?n:""}function m(e,t){return""+" "+c(s(n(76273)).call(e,"Enter Admin PIN",{hash:{},data:t}))+" "}function h(e,t){return""+" "+c(s(n(76273)).call(e,"Enter PIN",{hash:{},data:t}))+" "}function g(e,t){return""+' <button type="button" class="remove-btn btn-gray pull-left">'+c(s(n(76273)).call(e,"Remove",{hash:{},data:t}))+"</button> "}function y(e,t){return""+' <button type="button" class="skip-btn btn-gray" data-dismiss="modal">'+c(s(n(76273)).call(e,"Skip",{hash:{},data:t}))+"</button> "}function v(e,t){return""+' <button type="button" class="cancel-btn btn-gray" data-dismiss="modal">'+c(s(n(76273)).call(e,"Cancel",{hash:{},data:t}))+"</button> "}return l+='<div class="modal-header"> <div class="home-user-dropdown-container pull-right"></div> <h4 class="modal-title"> ',((o=i.if.call(t,t&&t.showBackButton,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return' <a class="back-btn btn-gray" href="#"><i class="glyphicon chevron-left"></i></a> '}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.isEditing,{hash:{},inverse:d.program(5,(function(e,t){var n;return(n=i.if.call(e,e&&e.isEditConfirmation,{hash:{},inverse:d.program(8,p,t),fn:d.program(6,u,t),data:t}))||0===n?n:""}),a),fn:d.program(3,(function(e,t){return""+' <i class="modal-icon glyphicon pencil"></i> '+c(s(n(76273)).call(e,"Edit PIN",{hash:{},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+=' <span class="loading loading-sm hidden"></span> </h4> </div> <form id="pin-form"> <div class="modal-body"> <ul class="tile-list user-select-list disabled"></ul> <input type="number" pattern="[0-9]*" class="pin-input"> <a class="pin-forgot-link btn-gray hidden" href="https://www.plex.tv/pin-reset/" target="_blank">'+c(s(n(76273)).call(t,"Forgot?",{hash:{},data:a}))+'</a> <div class="pin-digit-container" aria-hidden="true"> <div class="pin-digit"></div> <div class="pin-digit"></div> <div class="pin-digit"></div> <div class="pin-digit"></div> </div> ',((o=i.if.call(t,t&&t.isEditWarning,{hash:{},inverse:d.noop,fn:d.program(13,(function(e,t){return""+' <p class="help-block"> '+c(s(n(76273)).call(e,"You do not currently have a PIN. This will allow any users in this home to switch to your account.",{hash:{},data:t}))+" </p> "}),a),data:a}))||0===o)&&(l+=o),l+=" </div> ",((o=i.if.call(t,t&&t.isEditing,{hash:{},inverse:d.noop,fn:d.program(15,(function(e,t){var r,a="";return a+=' <div class="modal-footer"> ',((r=i.if.call(e,e&&e.hasCurrentPIN,{hash:{},inverse:d.noop,fn:d.program(16,g,t),data:t}))||0===r)&&(a+=r),a+=" ",((r=i.if.call(e,e&&e.isEditWarning,{hash:{},inverse:d.program(20,v,t),fn:d.program(18,y,t),data:t}))||0===r)&&(a+=r),a+' <button type="submit" class="save-btn btn-link">'+c(s(n(76273)).call(e,"Save",{hash:{},data:t}))+"</button> </div> "}),a),data:a}))||0===o)&&(l+=o),l+" </form> "}))},74237:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,s){this.compilerInfo=[4,">= 1.0.0"],s=s||{};var r,a="",o=this;return((r=(n=this.merge(n,e.helpers)).if.call(t,t&&t.disabled,{hash:{},inverse:o.program(3,(function(e,t){return' <a class="user-select-container" href="#"> '}),s),fn:o.program(1,(function(e,t){return' <div class="user-select-container"> '}),s),data:s}))||0===r)&&(a+=r),a+=' <div class="user-select-top"> <div class="user-poster img-circle"></div> <i class="protected-icon user-icon glyphicon lock"></i> <i class="admin-icon user-icon glyphicon crown"></i> </div> <div class="caption"> <div class="username"></div> <div class="managed-title"></div> </div> ',((r=n.if.call(t,t&&t.disabled,{hash:{},inverse:o.program(7,(function(e,t){return" </a> "}),s),fn:o.program(5,(function(e,t){return" </div> "}),s),data:s}))||0===r)&&(a+=r),a+" "}))},99590:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){var a;return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{},""+'<div class="modal-header"> <h4 class="modal-title"> '+(0,this.escapeExpression)((a=n(76273),a&&(a.__esModule?a.default:a)).call(t,"Select User",{hash:{},data:r}))+' <span class="loading loading-sm"></span> </h4> </div> <div class="modal-body"></div> '}))},10371:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var a,o,l="",c="function",d=this.escapeExpression;return l+='<div class="form-group" data-attr="'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'"> <label for="text-'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'" class="control-label">'+d((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,t&&t.label,{hash:{},data:r}))+'<span class="control-error"></span></label> <div class="input-group selectize-group"> <input type="text" id="text-'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'" class="form-control text-field" name="'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'" placeholder="'+d(typeof(a=t&&t.placeholder)===c?a.apply(t):a)+'" data-rating-key="'+d(typeof(a=t&&t.ratingKey)===c?a.apply(t):a)+'" data-title="'+d(typeof(a=t&&t.title)===c?a.apply(t):a)+'" ',((a=i.if.call(t,t&&t.scopeToAttr,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n;return""+'data-scope-to-attr="'+d(typeof(n=e&&e.scopeToAttr)===c?n.apply(e):n)+'" data-scope-to-param="'+d(typeof(n=e&&e.scopeToParam)===c?n.apply(e):n)+'"'}),r),data:r}))||0===a)&&(l+=a),l+"> </div> </div> "}))},30320:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return""+' <h4 class="server-connect-error-header">'+c(s(n(76273)).call(e,"Problem Connecting to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(s(n(76273)).call(e,"Your server was unable to reach Plex. Please ensure that the computer or device running your server can access the internet.",{hash:{},data:t}))+"</p> "}function p(e,t){return""+' <h4 class="server-connect-error-header">'+c(s(n(76273)).call(e,"Signed in to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(s(n(76273)).call(e,"You have successfully signed your server in to Plex, but we were unable to reach it from outside your network.",{hash:{},data:t}))+"</p> "}return((o=s(n(78356)).call(t,t&&t.mappingError,"badauth",{hash:{},inverse:d.program(3,(function(e,t){var i,r="";return((i=s(n(78356)).call(e,e&&e.mappingError,"myplexgone",{hash:{},inverse:d.program(6,p,t),fn:d.program(4,u,t),data:t}))||0===i)&&(r+=i),r+" "}),a),fn:d.program(1,(function(e,t){return""+' <h4 class="server-connect-error-header">'+c(s(n(76273)).call(e,"Problem Connecting to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(s(n(76273)).call(e,"Plex was unable to authenticate your server. Please sign your server out and try again.",{hash:{},data:t}))+"</p> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=s(n(84772)).call(t,t&&t.context,"settings",{hash:{},inverse:d.noop,fn:d.program(8,(function(e,t){return""+' <p class="text-muted">'+c(s(n(76273)).call(e,"If you skip this step you will not be able to share or stream media outside your home. If you change your mind later, you can adjust this in Settings.",{hash:{},data:t}))+"</p> "}),a),data:a}))||0===o)&&(l+=o),l+' <p class="text-muted">'+c(s(n(76273)).call(t,"If you would like to enable this now, you will need to configure your router or firewall to allow Plex to contact your server. Please refer to our {1}Connecting a Server{2} article for more information.",'<a href="http://support.plex.tv/hc/en-us/articles/200484543-Connecting-a-Server/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:a}))+"</p> "}))},2397:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var a,o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){return"disabled"}return l+='<div class="form-group"> <label for="lockable-'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'">'+d((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,t&&t.label,{hash:{},data:r}))+'</label> <div class="input-group"> <a href="#" data-field="'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'" class="input-group-addon edit-lock-addon ',((a=i.if.call(t,t&&t.locked,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"locked"}),r),data:r}))||0===a)&&(l+=a),l+=" ",((a=i.if.call(t,t&&t.disabled,{hash:{},inverse:u.noop,fn:u.program(3,p,r),data:r}))||0===a)&&(l+=a),l+='" tabindex="-1"><i class="glyphicon lock"></i></a> <input type="number" id="lockable-'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'" class="form-control lockable-field" name="'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'" value="'+d(typeof(a=t&&t.value)===c?a.apply(t):a)+'" placeholder="'+d(typeof(a=t&&t.placeholder)===c?a.apply(t):a)+'" ',((a=i.if.call(t,t&&t.disabled,{hash:{},inverse:u.noop,fn:u.program(3,p,r),data:r}))||0===a)&&(l+=a),l+"> </div> </div> "}))},14118:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var a,o,l="",c="function",d=this.escapeExpression,u=this;return l+='<div class="form-group"> <label for="lockable-'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'">'+d((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,t&&t.label,{hash:{},data:r}))+'</label> <div class="input-group selectize-group"> <a href="#" data-field="'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'" class="input-group-addon edit-lock-addon',((a=i.if.call(t,t&&t.locked,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return" locked"}),r),data:r}))||0===a)&&(l+=a),l+='"><i class="glyphicon lock"></i></a> <input type="text" id="lockable-'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'" class="form-control lockable-field tag-input-hidden" data-name="'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'" data-attr="'+d(typeof(a=t&&t.attribute)===c?a.apply(t):a)+'" data-only-delete="'+d(typeof(a=t&&t.onlyDelete)===c?a.apply(t):a)+'" ',((a=i.if.call(t,t&&t.query,{hash:{},inverse:u.noop,fn:u.program(3,(function(e,t){var n;return""+'data-query="'+d(typeof(n=e&&e.query)===c?n.apply(e):n)+'"'}),r),data:r}))||0===a)&&(l+=a),l+"> </div> </div> "}))},71743:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){var n;return""+' rows="'+d(typeof(n=e&&e.rows)===c?n.apply(e):n)+'"'}function m(e,t){var n;return""+'data-scope-to-attr="'+d(typeof(n=e&&e.scopeToAttr)===c?n.apply(e):n)+'" data-scope-to-param="'+d(typeof(n=e&&e.scopeToParam)===c?n.apply(e):n)+'"'}function h(e,t){var n;return""+'data-rating-key="'+d(typeof(n=e&&e.ratingKey)===c?n.apply(e):n)+'"'}return l+='<div class="form-group selectize-group" data-attr="'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'"> <label for="lockable-'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'">'+d(s(n(76273)).call(t,t&&t.label,{hash:{},data:a}))+'</label> <div class="input-group"> <a href="#" data-field="'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'" class="input-group-addon edit-lock-addon',((o=i.if.call(t,t&&t.locked,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return" locked"}),a),data:a}))||0===o)&&(l+=o),l+='" tabindex="-1"><i class="glyphicon lock"></i></a> ',((o=s(n(78356)).call(t,t&&t.type,"textarea",{hash:{},inverse:u.program(6,(function(e,t){var n,s="";return s+=' <input type="text" id="lockable-'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" class="form-control lockable-field" name="'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" value="'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+'" placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'" ',((n=i.if.call(e,e&&e.scopeToAttr,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===n)&&(s+=n),s+=" ",((n=i.if.call(e,e&&e.ratingKey,{hash:{},inverse:u.noop,fn:u.program(9,h,t),data:t}))||0===n)&&(s+=n),s+"> "}),a),fn:u.program(3,(function(e,t){var n,s="";return s+=' <textarea class="form-control lockable-field" id="lockable-'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" name="'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'"',((n=i.if.call(e,e&&e.rows,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===n)&&(s+=n),s+' placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'">'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+"</textarea> "}),a),data:a}))||0===o)&&(l+=o),l+" </div> </div> "}))},28792:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){return"checked"}function m(e,t){var n;return""+' <p class="help-block">'+d(typeof(n=e&&e.summary)===c?n.apply(e):n)+"</p> "}function h(e,t){var n,s="";return s+=' <select id="input_'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+d(typeof(n=e&&e.idSuffix)===c?n.apply(e):n)+'" name="'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+'"> ',((n=i.each.call(e,e&&e.enumValues,{hash:{},inverse:u.noop,fn:u.programWithDepth(10,g,t,e),data:t}))||0===n)&&(s+=n),s+" </select> "}function g(e,t,i){var r,a="";return a+=' <option value="'+d(typeof(r=e&&e.value)===c?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,e&&e.value,i&&i.value,{hash:{},inverse:u.noop,fn:u.program(11,y,t),data:t}))||0===r)&&(a+=r),a+">"+d(typeof(r=e&&e.label)===c?r.apply(e):r)+"</option> "}function y(e,t){return'selected="selected"'}function v(e,t){var r,a="";return a+=' <input type="',((r=s(n(78356)).call(e,e&&e.option,"hidden",{hash:{},inverse:u.program(16,I,t),fn:u.program(14,f,t),data:t}))||0===r)&&(a+=r),a+='" id="input_'+d(typeof(r=e&&e.id)===c?r.apply(e):r)+d(typeof(r=e&&e.idSuffix)===c?r.apply(e):r)+'" class="form-control" name="'+d(typeof(r=e&&e.id)===c?r.apply(e):r)+'" value="'+d(typeof(r=e&&e.value)===c?r.apply(e):r)+'" ',((r=i.if.call(e,e&&e.placeholder,{hash:{},inverse:u.noop,fn:u.program(18,b,t),data:t}))||0===r)&&(a+=r),a+"> "}function f(e,t){return"password"}function I(e,t){return"text"}function b(e,t){var n;return""+'placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'"'}return l+='<div class="form-group ',((o=i.if.call(t,t&&t.advanced,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"advanced-setting"}),a),data:a}))||0===o)&&(l+=o),l+='"> ',((o=s(n(78356)).call(t,t&&t.type,"bool",{hash:{},inverse:u.program(8,(function(e,t){var n,s="";return s+=' <label class="control-label" for="input_'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+d(typeof(n=e&&e.idSuffix)===c?n.apply(e):n)+'">'+d(typeof(n=e&&e.label)===c?n.apply(e):n)+"</label> ",((n=i.if.call(e,e&&e.enumValues,{hash:{},inverse:u.program(13,v,t),fn:u.program(9,h,t),data:t}))||0===n)&&(s+=n),s+=" ",((n=i.if.call(e,e&&e.summary,{hash:{},inverse:u.noop,fn:u.program(6,m,t),data:t}))||0===n)&&(s+=n),s+" "}),a),fn:u.program(3,(function(e,t){var n,s="";return s+=' <label class="control-label" for="input_'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+d(typeof(n=e&&e.idSuffix)===c?n.apply(e):n)+'"> <input type="checkbox" id="input_'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+d(typeof(n=e&&e.idSuffix)===c?n.apply(e):n)+'" name="'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+'" value="1" ',((n=i.if.call(e,e&&e.value,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===n)&&(s+=n),s+="> "+d(typeof(n=e&&e.label)===c?n.apply(e):n)+" </label> ",((n=i.if.call(e,e&&e.summary,{hash:{},inverse:u.noop,fn:u.program(6,m,t),data:t}))||0===n)&&(s+=n),s+" "}),a),data:a}))||0===o)&&(l+=o),l+" </div> "}))},45768:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){var n;return""+' rows="'+d(typeof(n=e&&e.rows)===c?n.apply(e):n)+'"'}function m(e,t){var n;return""+'data-exclude-param="'+d(typeof(n=e&&e.excludeParam)===c?n.apply(e):n)+'" data-exclude-value="'+d(typeof(n=e&&e.excludeValue)===c?n.apply(e):n)+'"'}return l+='<div class="form-group"> <label for="text-'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'">'+d(s(n(76273)).call(t,t&&t.label,{hash:{},data:a}))+"</label> ",((o=s(n(78356)).call(t,t&&t.type,"textarea",{hash:{},inverse:u.program(4,(function(e,t){var n,s="";return s+=' <input type="text" id="text-'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" class="form-control text-field" name="'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" value="'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+'" placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'" ',((n=i.if.call(e,e&&e.excludeParam,{hash:{},inverse:u.noop,fn:u.program(5,m,t),data:t}))||0===n)&&(s+=n),s+"> "}),a),fn:u.program(1,(function(e,t){var n,s="";return s+=' <textarea class="form-control text-field" id="text-'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" name="'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'"',((n=i.if.call(e,e&&e.rows,{hash:{},inverse:u.noop,fn:u.program(2,p,t),data:t}))||0===n)&&(s+=n),s+' placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'">'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+"</textarea> "}),a),data:a}))||0===o)&&(l+=o),l+" </div> "}))},33207:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,s){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{},'<div class="player-slider-track"> <div class="player-slider-progress"></div> </div> <div class="player-slider-thumb"></div> '}))},62288:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-section-advanced-form settings-container"> <div class="language-group"> <input type="hidden" name="language" value="'+c("function"==typeof(o=null==(o=t&&t.section)||!1===o?o:o.language)?o.apply(t):o)+'"> </div> <div class="row"> <div class="col-md-12"> <div class="form-group scanner-group hidden"> <label for="edit-section-scanner" class="control-label"> '+c(s(n(76273)).call(t,"Scanner",{hash:{},data:a}))+' <span class="control-error">'+c(s(n(76273)).call(t,"A scanner is required.",{hash:{},data:a}))+'</span> </label> <select id="edit-section-scanner" name="scanner"></select> </div> </div> </div> <div class="row"> <div class="col-md-12"> <div class="form-group agent-group hidden"> <label for="edit-section-agent" class="control-label"> '+c(s(n(76273)).call(t,"Agent",{hash:{},data:a}))+' <span class="control-error">'+c(s(n(76273)).call(t,"An agent is required.",{hash:{},data:a}))+'</span> </label> <select id="edit-section-agent" name="agent"></select> </div> </div> </div> <div class="row"> <div class="col-md-12 section-agent-settings-region"></div> </div> <div class="row"> <div class="col-md-12 section-settings-region"></div> </div> </form> '}))},81185:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return"hidden"}function p(e,t){return"checked"}function m(e,t){return"disabled"}return l+='<form class="edit-section-folders-form settings-container"> <div id="arcade-upsell" class="',((o=i.if.call(t,t&&t.hideArcadeUpsell,{hash:{},inverse:c.noop,fn:c.program(1,u,a),data:a}))||0===o)&&(l+=o),l+='"> <p>'+d(s(n(76273)).call(t,"Introducing retro gaming in Plex, brought to you by Plex Labs!",{hash:{},data:a}))+'</p> <p class="help-block">'+d(s(n(76273)).call(t,"With a Plex Arcade subscription, you can play and stream many of your favorite retro games on Google Chrome, Microsoft Edge, Android, iOS or Apple TV devices! Try it for free for 7 days!",{hash:{},data:a}))+'</p> <p class="button-container"> <a type="button" href='+d("function"==typeof(o=t&&t.subscribeURL)?o.apply(t):o)+' target="_blank" class="subscribe-btn btn btn-primary">'+d(s(n(76273)).call(t,"Subscribe Now",{hash:{},data:a}))+'</a> </p> </div> <p id="arcade-required" class="',((o=i.if.call(t,t&&t.hideArcadeRequired,{hash:{},inverse:c.noop,fn:c.program(1,u,a),data:a}))||0===o)&&(l+=o),l+='">'+d(s(n(76273)).call(t,"Sorry, a {1}Plex Arcade subscription{2} is required to create a new Games library.",'<a href="https://www.plex.tv/subscription" target="_blank">',"</a>",{hash:{},data:a}))+'</p> <p id="arcade-greeting" class="',((o=i.if.call(t,t&&t.hideArcadeGreeting,{hash:{},inverse:c.noop,fn:c.program(1,u,a),data:a}))||0===o)&&(l+=o),l+='">'+d(s(n(76273)).call(t,"Thanks! You've got an active {1}Plex Arcade subscription{2}.",'<a href="https://www.plex.tv/subscription" target="_blank">',"</a>",{hash:{},data:a}))+'</p> <p id="parsec-required" class="',((o=i.if.call(t,t&&t.hideParsecRequired,{hash:{},inverse:c.noop,fn:c.program(1,u,a),data:a}))||0===o)&&(l+=o),l+='">'+d(s(n(76273)).call(t,"Playing games requires that you {1}create a Parsec account{2}, respond to their email confirmation, and then {3}link your Parsec account{4}.",'<a href="https://parsec.app" target="_blank">',"</a>",'<a href="https://plex.tv/users/other-services" target="_blank">',"</a>",{hash:{},data:a}))+"</p> ",((o=i.if.call(t,t&&t.isNewGamesSection,{hash:{},inverse:c.noop,fn:c.program(3,(function(e,t){var r,a="";return a+=' <div class="download-media-container"> <label> <input id="arcade-download-media" type="checkbox" name="downloadMedia" ',((r=i.if.call(e,null==(r=e&&e.section)||!1===r?r:r.downloadMedia,{hash:{},inverse:c.noop,fn:c.program(4,p,t),data:t}))||0===r)&&(a+=r),a+=" ",((r=i.if.call(e,e&&e.isDisabled,{hash:{},inverse:c.noop,fn:c.program(6,m,t),data:t}))||0===r)&&(a+=r),a+"/>"+d(s(n(76273)).call(e,"Include dozens of classic games from Atari like Asteroids, Centipede, Missile Command and more!",{hash:{},data:t}))+" </label> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=" <p>"+d(s(n(76273)).call(t,"Add folders to your library",{hash:{},data:a}))+'</p> <div class="form-group Location-group"> <div class="paths-region"></div> <p class="button-container"> <button type="button" class="add-folder-btn btn btn-icon-label btn-default" ',((o=i.if.call(t,t&&t.isDisabled,{hash:{},inverse:c.noop,fn:c.program(6,m,a),data:a}))||0===o)&&(l+=o),l+="> ",((o=i.if.call(t,t&&t.isGamesSection,{hash:{},inverse:c.noop,fn:c.program(8,(function(e,t){return""+' <i class="glyphicon folder-plus"></i> '+d(s(n(76273)).call(e,"Browse for games folder",{hash:{},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.unless.call(t,t&&t.isGamesSection,{hash:{},inverse:c.noop,fn:c.program(10,(function(e,t){return""+' <i class="glyphicon folder-plus"></i> '+d(s(n(76273)).call(e,"Browse for media folder",{hash:{},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+=' </button> </p> <p class="control-error">'+d(s(n(76273)).call(t,"At least one folder is required.",{hash:{},data:a}))+"</p> </div> ",((o=i.if.call(t,t&&t.isGamesSection,{hash:{},inverse:c.noop,fn:c.program(12,(function(e,t){return""+' <p class="help-block">'+d(s(n(76273)).call(e,"Help us out by following {1}our guide{2} to naming and organizing your games.",'<a href="https://support.plex.tv/articles/naming-and-organizing-game-files-and-cores/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+'</p> <p class="help-block">'+d(s(n(76273)).call(e,"Looking for more information? Check out our {1}Plex Arcade support articles{2}.",'<a href="https://support.plex.tv/articles/categories/features/arcade/" target="_blank">',"</a>",{hash:{},data:t}))+"</p> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.unless.call(t,t&&t.isGamesSection,{hash:{},inverse:c.noop,fn:c.program(14,(function(e,t){return""+' <p class="help-block">'+d(s(n(76273)).call(e,"Help us out by following {1}our guide{2} to naming and organizing your media.",'<a href="https://support.plex.tv/articles/naming-and-organizing-your-movie-media-files/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</p> "}),a),data:a}))||0===o)&&(l+=o),l+" </form> "}))},79931:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,a="";return(a+='<div class="col-md-12"> <div class="form-group path-group"> <input type="text" name="path" class="form-control" value="')+((0,this.escapeExpression)((r=n.path)||"function"==typeof(r=t&&t.path)?r.call(t,{hash:{},data:s}):r)+'"> <div class="path-actions"> <a href="#" class="remove-path-btn btn-link btn-gray"><i class="glyphicon remove-2"></i></a> </div> </div> </div> ')}))},27749:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;return l+='<div class="choose-library use-premium-library" data-agent="com.plexapp.agents.plexmusic" data-scanner="Plex Premium Music Scanner"> <div class="row"> <div class="col-xs-12"> <div class="row use-library-header"> <div class="col-xs-12"> <input type="radio"> <span class="header-text"> '+c(s(n(76273)).call(t,"Create a premium Plex music library!",{hash:{},data:a}))+' </span> </div> </div> <div class="row use-premium-library-body"> <div class="col-xs-8"> <ul> <li>'+c(s(n(76273)).call(t,"Access to the best artwork, artist bios, album reviews, and more",{hash:{},data:a}))+"</li> <li>"+c(s(n(76273)).call(t,"Smart mixes based on track or mood",{hash:{},data:a}))+"</li> <li>"+c(s(n(76273)).call(t,"Improved music recognition and matching",{hash:{},data:a}))+"</li> </ul> ",((o=i.unless.call(t,t&&t.hasPremiumMusic,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return""+' <p class="help-block"> '+c(s(n(76273)).call(e,"Note: An active Plex Pass is required for this service. Don't have a Plex Pass? {1}Subscribe here{2}",'<a href="{3}" target="_blank">',"</a>",e&&e.plexPassUrl,{hash:{},data:t}))+" </p> "}),a),data:a}))||0===o)&&(l+=o),l+=' </div> <div class="col-xs-4 vendor-logos"> ',((o=i.if.call(t,t&&t.hasLyrics,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return'<div class="vendor-logo vendor-logo-lyricfind"></div>'}),a),data:a}))||0===o)&&(l+=o),l+' <div class="vendor-logo vendor-logo-gracenote"></div> <div class="vendor-logo vendor-logo-plex-pass"></div> </div> </div> </div> </div> </div> <div class="choose-library use-basic-library"> <div class="row use-library-header"> <div class="col-xs-12"> <input type="radio"> '+c(s(n(76273)).call(t,"Create a basic music library",{hash:{},data:a}))+" </div> </div> </div> "}))},68799:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var i,r="";return r+=" ",((i=s(n(78356)).call(e,e&&e.id,"enableBIFGeneration",{hash:{},inverse:d.noop,fn:d.program(3,p,t),data:t}))||0===i)&&(r+=i),r+" "}function p(e,t){return""+' <div class="form-group"> <button type="button" class="delete-thumbnails-btn btn btn-sm btn-danger">'+c(s(n(76273)).call(e,"Delete Preview Thumbnails",{hash:{},data:t}))+"</button> </div> "}return((o=i.each.call(t,t&&t.settings,{hash:{},inverse:d.noop,fn:d.programWithDepth(1,(function(e,t,r){var a,o="";return o+=" "+c(s(n(46178)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" ",((a=i.if.call(e,r&&r.edit,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===a)&&(o+=a),o+" "}),a,t),data:a}))||0===o)&&(l+=o),l+" "}))},458:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this,u="function";function p(e,t){return"selectable"}function m(e,t){return"selected"}return l+='<form class="edit-section-type-form settings-container ',((o=i.if.call(t,null==(o=t&&t.section)||!1===o?o:o.type,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"section-type-chosen"}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.unless.call(t,t&&t.isInitialTypeSupported,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return"is-type-unsupported"}),a),data:a}))||0===o)&&(l+=o),l+='"> ',((o=i.if.call(t,t&&t.add,{hash:{},inverse:d.program(7,(function(e,t){return""+" <label>"+c(s(n(76273)).call(e,"Library type",{hash:{},data:t}))+"</label> "}),a),fn:d.program(5,(function(e,t){return""+' <p class="prompt">'+c(s(n(76273)).call(e,"Select your library type",{hash:{},data:t}))+"</p> "}),a),data:a}))||0===o)&&(l+=o),l+=' <div class="wizard-blocks-group form-group type-group"> ',((o=i.each.call(t,t&&t.sectionTypes,{hash:{},inverse:d.noop,fn:d.programWithDepth(9,(function(e,t,r){var a,o="";return o+='<a class="wizard-block section-type ',((a=i.if.call(e,r&&r.canChangeType,{hash:{},inverse:d.noop,fn:d.program(10,p,t),data:t}))||0===a)&&(o+=a),o+=" ",((a=s(n(78356)).call(e,r&&r.currentSectionKey,e&&e.key,{hash:{},inverse:d.noop,fn:d.program(12,m,t),data:t}))||0===a)&&(o+=a),o+='" data-key="'+c(typeof(a=e&&e.key)===u?a.apply(e):a)+'" href="#">',((a=typeof(a=e&&e.typeIcon)===u?a.apply(e):a)||0===a)&&(o+=a),o+" "+c(typeof(a=e&&e.title)===u?a.apply(e):a)+"</a>"}),a,t),data:a}))||0===o)&&(l+=o),l+=' <label class="control-label"> <span class="control-error">'+c(s(n(76273)).call(t,"You must select a media type.",{hash:{},data:a}))+'</span> </label> </div> <div class="visible-once-section-type-chosen"> ',((o=i.if.call(t,t&&t.hasType,{hash:{},inverse:d.noop,fn:d.program(14,(function(e,t){return""+' <div class="row"> <div class="col-xs-12"> <p class="prompt">'+c(s(n(76273)).call(e,"Name your library and choose language.",{hash:{},data:t}))+"</p> </div> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=' <div class="row section-type-unsupported"> <div class="col-md-7"> <label>'+c(s(n(76273)).call(t,"Sorry, this library type is unsupported by this server.",{hash:{},data:a}))+'</label> </div> </div> <div class="row section-type-supported"> <div class="col-md-7"> <div class="form-group title-group"> <div> <label for="edit-section-title" class="control-label"> '+c(s(n(76273)).call(t,"Name",{hash:{},data:a}))+' <span class="control-error">'+c(s(n(76273)).call(t,"A library name is required.",{hash:{},data:a}))+'</span> </label> </div> <input type="text" id="edit-section-title" name="title" class="form-control" value="'+c(typeof(o=null==(o=t&&t.section)||!1===o?o:o.title)===u?o.apply(t):o)+'"> </div> </div> <div class="col-md-5"> <div class="form-group language-group"> <div> <label for="edit-section-language" class="control-label"> '+c(s(n(76273)).call(t,"Language",{hash:{},data:a}))+' <span class="control-error">'+c(s(n(76273)).call(t,"A language is required.",{hash:{},data:a}))+'</span> </label> </div> <select id="edit-section-language" name="language"></select> </div> </div> </div> <div class="row section-type-supported"> <div class="col-md-12"> <span class="text-muted"> ',((o=i.if.call(t,t&&t.updatedAt,{hash:{},inverse:d.noop,fn:d.program(16,(function(e,t){return""+" "+c(s(n(76273)).call(e,"Last updated {1}",e&&e.escapedUpdatedAt,{hash:{},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+" </span> </div> </div> </div> </form> "}))},93470:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){return"selected"}function m(e,t){return""+' <option value="">'+d(s(n(76273)).call(e,"Loading...",{hash:{},data:t}))+"</option> "}return l+='<div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-title">'+d(s(n(76273)).call(t,"Artist",{hash:{},data:a}))+'</label> <input type="text" id="match-search-parentTitle" name="parentTitle" class="form-control" value="'+d(typeof(o=null==(o=t&&t.item)||!1===o?o:o.parentTitle)===c?o.apply(t):o)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-agent">'+d(s(n(76273)).call(t,"Agent",{hash:{},data:a}))+'</label> <select id="match-search-agent" name="agent"> ',((o=i.each.call(t,t&&t.agents,{hash:{},inverse:u.program(4,m,a),fn:u.program(1,(function(e,t){var n,s="";return s+=' <option value="'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+'" ',((n=i.if.call(e,e&&e.selected,{hash:{},inverse:u.noop,fn:u.program(2,p,t),data:t}))||0===n)&&(s+=n),s+">"+d(typeof(n=e&&e.label)===c?n.apply(e):n)+"</option> "}),a),data:a}))||0===o)&&(l+=o),l+=' </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-title">'+d(s(n(76273)).call(t,"Album",{hash:{},data:a}))+'</label> <input type="text" id="match-search-title" name="title" class="form-control" value="'+d(typeof(o=null==(o=t&&t.item)||!1===o?o:o.title)===c?o.apply(t):o)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-language">'+d(s(n(76273)).call(t,"Language",{hash:{},data:a}))+'</label> <select id="match-search-language" name="language"> ',((o=i.each.call(t,t&&t.languages,{hash:{},inverse:u.program(4,m,a),fn:u.program(6,(function(e,t){var n;return""+' <option value="'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+'">'+d(typeof(n=e&&e.label)===c?n.apply(e):n)+"</option> "}),a),data:a}))||0===o)&&(l+=o),l+' </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-year">'+d(s(n(76273)).call(t,"Year",{hash:{},data:a}))+'</label> <input type="text" id="match-search-year" name="year" class="form-control" value="'+d(typeof(o=null==(o=t&&t.item)||!1===o?o:o.year)===c?o.apply(t):o)+'"> </div> </div> </div> '}))},36e3:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){return"selected"}function m(e,t){return""+' <option value="">'+d(s(n(76273)).call(e,"Loading...",{hash:{},data:t}))+"</option> "}return l+='<div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-title">'+d(s(n(76273)).call(t,"Title",{hash:{},data:a}))+'</label> <input type="text" id="match-search-title" name="title" class="form-control" value="'+d(typeof(o=null==(o=t&&t.item)||!1===o?o:o.title)===c?o.apply(t):o)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-agent">'+d(s(n(76273)).call(t,"Agent",{hash:{},data:a}))+'</label> <select id="match-search-agent" name="agent"> ',((o=i.each.call(t,t&&t.agents,{hash:{},inverse:u.program(4,m,a),fn:u.program(1,(function(e,t){var n,s="";return s+=' <option value="'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+'" ',((n=i.if.call(e,e&&e.selected,{hash:{},inverse:u.noop,fn:u.program(2,p,t),data:t}))||0===n)&&(s+=n),s+">"+d(typeof(n=e&&e.label)===c?n.apply(e):n)+"</option> "}),a),data:a}))||0===o)&&(l+=o),l+=' </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-year">'+d(s(n(76273)).call(t,"Year",{hash:{},data:a}))+'</label> <input type="text" id="match-search-year" name="year" class="form-control" value="'+d(typeof(o=null==(o=t&&t.item)||!1===o?o:o.year)===c?o.apply(t):o)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-language">'+d(s(n(76273)).call(t,"Language",{hash:{},data:a}))+'</label> <select id="match-search-language" name="language"> ',((o=i.each.call(t,t&&t.languages,{hash:{},inverse:u.program(4,m,a),fn:u.program(6,(function(e,t){var n;return""+' <option value="'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+'">'+d(typeof(n=e&&e.label)===c?n.apply(e):n)+"</option> "}),a),data:a}))||0===o)&&(l+=o),l+" </select> </div> </div> </div> "}))},77410:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,s){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{},'<div class="result-region"> <div class="loading loading-inline"></div> </div> '}))},2326:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var a,o="",l="function",c=this.escapeExpression,d=this;function u(e,t){return'<i class="dropdown-selected-icon glyphicon ok-2"></i>'}return o+='<div class="filter-bar"> <span class="dropdown"> <a class="dropdown-toggle" href="#device-type-dropdown" data-toggle="dropdown"> <span class="dropdown-friendly-name">'+c(typeof(a=null==(a=t&&t.selectedDeviceType)||!1===a?a:a.title)===l?a.apply(t):a)+'</span> <i class="caret-icon"></i> </a> <ul class="dropdown-menu"> ',((a=i.each.call(t,t&&t.deviceTypes,{hash:{},inverse:d.noop,fn:d.programWithDepth(1,(function(e,t,i){var s,r,a="";return a+=' <li><a data-id="'+c(typeof(s=e&&e.id)===l?s.apply(e):s)+'" href="#"><span class="dropdown-truncated-label">'+c(typeof(s=e&&e.title)===l?s.apply(e):s)+"</span>",((s=(r=n(78356),r&&(r.__esModule?r.default:r)).call(e,null==(s=i&&i.selectedDeviceType)||!1===s?s:s.id,e&&e.id,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===s)&&(a+=s),a+"</a></li> "}),r,t),data:r}))||0===a)&&(o+=a),o+' </ul> </span> </div> <div class="device-list-container col-sm-12 col-md-12"></div> '}))},10912:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){return"selected"}function m(e,t){return"checked"}function h(e,t,i){var r,a="";return a+=' <option value="'+d(typeof(r=e&&e.value)===c?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,e&&e.value,null==(r=i&&i.experienceSettings)||!1===r?r:r.allowHttpFallback,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+">"+d(s(n(76273)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function g(e,t,i){var r,a="";return a+=' <option value="'+d(typeof(r=e&&e.value)===c?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,e&&e.value,null==(r=i&&i.deviceSettings)||!1===r?r:r["settings.keepOnTop"],{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+">"+d(typeof(r=e&&e.title)===c?r.apply(e):r)+"</option> "}function y(e,t){var n,s="";return s+=' <div class="form-group advanced-setting" > <button type="button" class="toggle-sync-btn btn btn-sm btn-default btn-loading form-control-btn"> <div class="loading loading-sm"></div> <span class="btn-label">',((n=i.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n.shouldSyncSettings,{hash:{},inverse:u.program(27,f,t),fn:u.program(25,v,t),data:t}))||0===n)&&(s+=n),s+='</span> </button> <p class="help-block"> ',((n=i.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n.shouldSyncSettings,{hash:{},inverse:u.program(31,b,t),fn:u.program(29,I,t),data:t}))||0===n)&&(s+=n),s+" </p> </div> "}function v(e,t){return d(s(n(76273)).call(e,"Turn off settings sync",{hash:{},data:t}))}function f(e,t){return d(s(n(76273)).call(e,"Turn on settings sync",{hash:{},data:t}))}function I(e,t){return""+" "+d(s(n(76273)).call(e,"Currently all {1} settings and customization are synchronized with other {1} instances.",e&&e.escapedProductName,{hash:{},data:t}))+" "}function b(e,t){return""+" "+d(s(n(76273)).call(e,"Currently all {1} settings and customization apply to this {1} instance only.",e&&e.escapedProductName,{hash:{},data:t}))+" "}function M(e,t){var r,a="";return a+=' <div class="form-group"> <label for="chromecastAppID">★ Chromecast Receiver</label> <select id="chromecastAppID"> ',((r=i.each.call(e,e&&e.chromecastAppIDs,{hash:{},inverse:u.noop,fn:u.programWithDepth(51,S,t,e),data:t}))||0===r)&&(a+=r),a+=' </select> <p class="help-block">Refresh after saving this setting for it to take effect.</p> </div> <div id="chromecast-custom-group" class="form-group ',((r=s(n(84772)).call(e,null==(r=e&&e.deviceSettings)||!1===r?r:r.chromecastAppID,"custom",{hash:{},inverse:u.noop,fn:u.program(53,E,t),data:t}))||0===r)&&(a+=r),a+'"> <label for="chromecastCustomAppID">Custom Chromecast Application ID</label> <input type="text" id="chromecastCustomAppID" class="form-control" placeholder="Application ID" value="'+d(typeof(r=null==(r=e&&e.deviceSettings)||!1===r?r:r.chromecastCustomAppID)===c?r.apply(e):r)+'"> <p class="help-block">Refresh after saving this setting for it to take effect.</p> </div> '}function S(e,t,i){var r,a="";return a+=' <option value="'+d(typeof(r=e&&e.value)===c?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,e&&e.value,null==(r=i&&i.deviceSettings)||!1===r?r:r.chromecastAppID,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+">"+d(s(n(76273)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function E(e,t){return"hidden"}function D(e,t){var i,r="";return r+=' <div class="form-group"> <label for="">★ Report Inspector Port</label> <select id="settings.webInspectorPort" data-type="int"> <option value="0" ',((i=s(n(78356)).call(e,null==(i=e&&e.deviceSettings)||!1===i?i:i["settings.webInspectorPort"],0,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===i)&&(r+=i),r+='>Disabled</option> <option value="9222" ',((i=s(n(78356)).call(e,null==(i=e&&e.deviceSettings)||!1===i?i:i["settings.webInspectorPort"],9222,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===i)&&(r+=i),r+='>9222</option> <option value="9229" ',((i=s(n(78356)).call(e,null==(i=e&&e.deviceSettings)||!1===i?i:i["settings.webInspectorPort"],9229,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===i)&&(r+=i),r+='>9229</option> <option value="9992" ',((i=s(n(78356)).call(e,null==(i=e&&e.deviceSettings)||!1===i?i:i["settings.webInspectorPort"],9992,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===i)&&(r+=i),r+'>9992</option> </select> <p class="help-block">Save then restart to take effect. Afterwards use Chrome to select Plex from chrome://inspect/#devices.</p> </div> '}function C(e,t,i){var r,a="";return a+=' <option value="'+d(typeof(r=e&&e.value)===c?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,e&&e.value,null==(r=i&&i.deviceSettings)||!1===r?r:r.debugAdKind,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+">"+d(s(n(76273)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function P(e,t){var n,s="";return s+=' <option value="'+d(typeof(n=e&&e.cid)===c?n.apply(e):n)+'" ',((n=i.if.call(e,e&&e.isSelected,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===n)&&(s+=n),s+">"+d(typeof(n=e&&e.title)===c?n.apply(e):n)+"</option> "}function w(e,t){var n,s="";return s+=' <fieldset class="audio-device-fields',((n=i.unless.call(e,e&&e.isSelected,{hash:{},inverse:u.noop,fn:u.program(72,T,t),data:t}))||0===n)&&(s+=n),s+='" data-cid="'+d(typeof(n=e&&e.cid)===c?n.apply(e):n)+'"> ',((n=i.if.call(e,e&&e.kinds,{hash:{},inverse:u.noop,fn:u.program(74,Z,t),data:t}))||0===n)&&(s+=n),s+" </fieldset> "}function T(e,t){return" hidden"}function Z(e,t){var r,a="";return a+=' <div class="form-group advanced-setting"> <label> '+d(s(n(76273)).call(e,"Audio Device Kind",{hash:{},data:t}))+' <select id="'+d(s(n(49412)).call(e,"ignore",{hash:{},data:t}))+'" class="audio-device-kind" data-cid="'+d(typeof(r=e&&e.cid)===c?r.apply(e):r)+'"> ',((r=i.each.call(e,e&&e.kinds,{hash:{},inverse:u.noop,fn:u.programWithDepth(75,N,t,e),data:t}))||0===r)&&(a+=r),a+=" </select> </label> </div> ",((r=i.each.call(e,e&&e.capabilities,{hash:{},inverse:u.noop,fn:u.programWithDepth(77,A,t,e),data:t}))||0===r)&&(a+=r),a+" "}function N(e,t,i){var r,a="";return a+=' <option value="'+d(typeof(r=e&&e.value)===c?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,e&&e.value,i&&i.kind,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+">"+d(typeof(r=e&&e.title)===c?r.apply(e):r)+"</option> "}function A(e,t,r){var a,o="";return o+=' <fieldset class="audio-device-kind-fields',((a=s(n(84772)).call(e,e&&e.kind,r&&r.kind,{hash:{},inverse:u.noop,fn:u.program(72,T,t),data:t}))||0===a)&&(o+=a),o+='" data-cid="'+d(typeof(a=r&&r.cid)===c?a.apply(e):a)+'" data-kind="'+d(typeof(a=e&&e.kind)===c?a.apply(e):a)+'"> <div class="form-group advanced-setting"> <label> '+d(s(n(76273)).call(e,"Audio Channels",{hash:{},data:t}))+' <select name="channelLayout" id="'+d(s(n(49412)).call(e,"ignore",{hash:{},data:t}))+'" data-cid="'+d(typeof(a=r&&r.cid)===c?a.apply(e):a)+'"> ',((a=i.each.call(e,e&&e.channelLayoutSettings,{hash:{},inverse:u.noop,fn:u.programWithDepth(78,x,t,r),data:t}))||0===a)&&(o+=a),o+=' </select> </label> </div> <div class="form-group advanced-setting hidden"> <label class="control-label"> <input name="transcodeToAC3" type="checkbox" id="'+d(s(n(49412)).call(e,"ignore",{hash:{},data:t}))+'" ',((a=i.if.call(e,null==(a=e&&e.transcodeToAC3Setting)||!1===a?a:a.value,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===a)&&(o+=a),o+=' disabled data-cid="'+d(typeof(a=r&&r.cid)===c?a.apply(e):a)+'" /> '+d(s(n(76273)).call(e,null==(a=e&&e.transcodeToAC3Setting)||!1===a?a:a.title,{hash:{},data:t}))+" </label> </div> ",((a=i.each.call(e,e&&e.passthroughCodecSettings,{hash:{},inverse:u.noop,fn:u.programWithDepth(80,L,t,r),data:t}))||0===a)&&(o+=a),o+" </fieldset> "}function x(e,t,i){var r,a="";return a+=' <option value="'+d(typeof(r=e&&e.value)===c?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,e&&e.value,i&&i.channelLayout,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+">"+d(typeof(r=e&&e.title)===c?r.apply(e):r)+"</option> "}function L(e,t,i){var r,a="";return a+=' <div class="form-group advanced-setting audio-passthrough-codec"> <label class="control-label"> <input name="passthroughCodecs" type="checkbox" id="'+d(s(n(49412)).call(e,"ignore",{hash:{},data:t}))+'" value="'+d(typeof(r=e&&e.value)===c?r.apply(e):r)+'" ',((r=s(n(94271)).call(e,i&&i.passthroughCodecs,e&&e.value,{hash:{},inverse:u.noop,fn:u.program(81,O,t),data:t}))||0===r)&&(a+=r),a+' data-cid="'+d(typeof(r=i&&i.cid)===c?r.apply(e):r)+'"> '+d(typeof(r=e&&e.title)===c?r.apply(e):r)+" </label> </div> "}function O(e,t){return" checked"}function j(e,t,i){var r,a="";return a+=' <option value="'+d(typeof(r=e&&e.value)===c?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,e&&e.value,null==(r=i&&i.experienceSettings)||!1===r?r:r.subtitlesBurnLevel,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+">"+d(s(n(76273)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function k(e,t){var n,s="";return s+=' <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="player.refreshRateSwitchingEnabled" ',((n=i.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n["player.refreshRateSwitchingEnabled"],{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===n)&&(s+=n),s+='> ★ Refresh Rate Switching Enabled </label> <p class="help-block">Change refresh rate of display to match video when playing in fullscreen.</p> </div> <div class="form-group advanced-setting"> <label for="player.refreshRateSwitchingDelayMilliseconds">★ Refresh Rate Switching Delay</label> <select id="player.refreshRateSwitchingDelayMilliseconds"> ',((n=i.each.call(e,e&&e.refreshRateSwitchingDelaySettings,{hash:{},inverse:u.noop,fn:u.programWithDepth(94,R,t,e),data:t}))||0===n)&&(s+=n),s+' </select> <p class="help-block">Delay to briefly pause playback after a refresh rate switch.</p> </div> '}function R(e,t,i){var r,a="";return a+=' <option value="'+d(typeof(r=e&&e.value)===c?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,e&&e.value,null==(r=i&&i.deviceSettings)||!1===r?r:r["player.refreshRateSwitchingDelayMilliseconds"],{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+">"+d(s(n(76273)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function z(e,t,i){var r,a="";return a+=' <option value="'+d(typeof(r=e&&e.value)===c?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,e&&e.value,null==(r=i&&i.experienceSettings)||!1===r?r:r.musicDownloadQuality,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+">"+d(typeof(r=e&&e.title)===c?r.apply(e):r)+"</option> "}function U(e,t,i){var r,a="";return a+=' <option value="'+d(typeof(r=e&&e.value)===c?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,e&&e.value,null==(r=i&&i.experienceSettings)||!1===r?r:r.videoDownloadQuality,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+">"+d(typeof(r=e&&e.title)===c?r.apply(e):r)+"</option> "}function V(e,t){return' <hr /> <div class="form-group advanced-setting"> <button type="button" class="reset-reminders-btn btn btn-sm btn-primary form-control-btn"> <span class="btn-label"> ★ Reset reminders</span> </button> <p class="help-block">Reset all Plex Web reminders for this user. Reload to take effect.</p> </div> '}function B(e,t){return""+" "+d(s(n(76273)).call(e,"NOTE: If {1}settings sync{2} is also turned on, settings on other {4} instances may also be reset. Use with caution.",'<a href="{3}">',"</a>",e&&e.generalSettingsRoute,e&&e.escapedProductName,{hash:{},data:t}))+" "}return l+='<div class="filter-bar"> <button class="toggle-advanced-btn btn btn-sm btn-default pull-right basic-setting">'+d(s(n(76273)).call(t,"Show Advanced",{hash:{},data:a}))+'</button> <button class="toggle-advanced-btn btn btn-sm btn-default pull-right advanced-setting">'+d(s(n(76273)).call(t,"Hide Advanced",{hash:{},data:a}))+"</button> </div> ",((o=i.if.call(t,t&&t.showReloadSecurely,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){var i,r="";return r+=' <div class="filter-bar-warning"> <span class="filter-bar-warning-text"> <span class="filter-bar-warning-alert-icon"> ',((i=typeof(i=e&&e.alertIcon)===c?i.apply(e):i)||0===i)&&(r+=i),r+" </span> "+d(s(n(76273)).call(e,"Your connection to the web app is not secure.",{hash:{},data:t}))+' </span> <button class="reload-securely-btn btn btn-sm btn-primary"> '+d(s(n(76273)).call(e,"Reload Securely",{hash:{},data:t}))+" </button> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=' <div class="row"> <div class="col-sm-12 col-md-12"> <form id="web-settings-form"> <div id="general-web-group" class="settings-group"> <h4 class="version-title"> '+d(s(n(76273)).call(t,"Version",{hash:{},data:a}))+" "+d(typeof(o=t&&t.version)===c?o.apply(t):o)+' </h4> <div class="form-group"> <label for="language">'+d(s(n(76273)).call(t,"Language",{hash:{},data:a}))+'</label> <select id="language"> ',((o=i.each.call(t,t&&t.languages,{hash:{},inverse:u.noop,fn:u.programWithDepth(3,(function(e,t,i){var r,a="";return a+=' <option value="'+d(typeof(r=e&&e.value)===c?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,e&&e.value,null==(r=i&&i.experienceSettings)||!1===r?r:r.language,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+"> "+d(typeof(r=e&&e.title)===c?r.apply(e):r)+" </option> "}),a,t),data:a}))||0===o)&&(l+=o),l+=' </select> <p class="help-block">'+d(s(n(76273)).call(t,"Help us translate this app into your language {1}here{2}.",'<a href="https://transifex.com/plex-1/plex-web" target="_blank">',"</a>",{hash:{},data:a}))+"</p> </div> ",((o=i.if.call(t,t&&t.hasV4DirectoryFeature,{hash:{},inverse:u.noop,fn:u.program(6,(function(e,t){var n,s="";return s+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="v4DirectoryEnabled" ',((n=i.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n.v4DirectoryEnabled,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===n)&&(s+=n),s+'> Experimental directory pages </label> <p class="help-block">Preview the v4 directory pages. (Requires Auto Home)</p> </div> '}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.hasV4DVRSetupFeature,{hash:{},inverse:u.noop,fn:u.program(9,(function(e,t){var n,s="";return s+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="v4DVRSetupEnabled" ',((n=i.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n.v4DVRSetupEnabled,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===n)&&(s+=n),s+'> Experimental DVR setup </label> <p class="help-block">Preview the v4 DVR setup page.</p> </div> '}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.unless.call(t,t&&t.isRestricted,{hash:{},inverse:u.noop,fn:u.program(11,(function(e,t){var r,a="";return a+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="autoLogin" ',((r=i.if.call(e,null==(r=e&&e.deviceSettings)||!1===r?r:r.autoLogin,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===r)&&(a+=r),a+"> "+d(s(n(76273)).call(e,"Automatically Sign In",{hash:{},data:t}))+' </label> <p class="help-block">'+d(s(n(76273)).call(e,"Do not prompt to select a user or enter a PIN during startup on this device.",{hash:{},data:t}))+"</p> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="shouldSaveLastSourcePivots" ',((o=i.if.call(t,null==(o=t&&t.experienceSettings)||!1===o?o:o.shouldSaveLastSourcePivots,{hash:{},inverse:u.noop,fn:u.program(7,m,a),data:a}))||0===o)&&(l+=o),l+="> "+d(s(n(76273)).call(t,"Remember selected tab",{hash:{},data:a}))+' </label> <p class="help-block">'+d(s(n(76273)).call(t,"Default to the last selected tab for a media source.",{hash:{},data:a}))+'</p> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="playThemeMusic" ',((o=i.if.call(t,null==(o=t&&t.experienceSettings)||!1===o?o:o.playThemeMusic,{hash:{},inverse:u.noop,fn:u.program(7,m,a),data:a}))||0===o)&&(l+=o),l+="> "+d(s(n(76273)).call(t,"Play Theme Music",{hash:{},data:a}))+' </label> <p class="help-block">'+d(s(n(76273)).call(t,"Automatically play theme music in the background when available.",{hash:{},data:a}))+"</p> </div> ",((o=i.unless.call(t,t&&t.isAnonymous,{hash:{},inverse:u.noop,fn:u.program(13,(function(e,t){var r,a="";return a+=' <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="companion" ',((r=i.if.call(e,null==(r=e&&e.experienceSettings)||!1===r?r:r.companion,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===r)&&(a+=r),a+"> "+d(s(n(76273)).call(e,"Advertise as player",{hash:{},data:t}))+' </label> <p class="help-block">'+d(s(n(76273)).call(e,"Allow other Plex apps to fling content to this device and control it remotely.",{hash:{},data:t}))+"</p> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.httpFallbackOptions,{hash:{},inverse:u.noop,fn:u.program(15,(function(e,t){var r,a="";return a+=' <div class="form-group advanced-setting"> <label for="allowHttpFallback">'+d(s(n(76273)).call(e,"Allow Fallback to Insecure Connections",{hash:{},data:t}))+'</label> <select id="allowHttpFallback"> ',((r=i.each.call(e,e&&e.httpFallbackOptions,{hash:{},inverse:u.noop,fn:u.programWithDepth(16,h,t,e),data:t}))||0===r)&&(a+=r),a+' </select> <p class="help-block">'+d(s(n(76273)).call(e,"Allow this app to make insecure connections to Plex Media Server if secure connections fail.",{hash:{},data:t}))+"</p> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=' <div class="form-group"> <label for="timeFormat">'+d(s(n(76273)).call(t,"Time Format",{hash:{},data:a}))+'</label> <select id="timeFormat"> ',((o=i.each.call(t,t&&t.timeFormats,{hash:{},inverse:u.noop,fn:u.programWithDepth(18,(function(e,t,i){var r,a="";return a+=' <option value="'+d(typeof(r=e&&e.value)===c?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,e&&e.value,null==(r=i&&i.experienceSettings)||!1===r?r:r.timeFormat,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+">"+d(s(n(76273)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),a,t),data:a}))||0===o)&&(l+=o),l+=" </select> </div> ",((o=i.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:u.noop,fn:u.program(20,(function(e,t){var r,a="";return a+=' <div class="form-group"> <label for="settings.keepOnTop">'+d(s(n(76273)).call(e,"Keep Plex on top of windows",{hash:{},data:t}))+'</label> <select id="settings.keepOnTop"> ',((r=i.each.call(e,e&&e.keepOnTopSettings,{hash:{},inverse:u.noop,fn:u.programWithDepth(21,g,t,e),data:t}))||0===r)&&(a+=r),a+" </select> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.unless.call(t,t&&t.isAnonymous,{hash:{},inverse:u.noop,fn:u.program(23,(function(e,t){var r,a="";return a+=' <hr class="advanced-setting" /> ',((r=i.if.call(e,e&&e.isSyncSettingsAllowed,{hash:{},inverse:u.noop,fn:u.program(24,y,t),data:t}))||0===r)&&(a+=r),a+' <div class="form-group advanced-setting" > <button type="button" class="reset-customization-btn btn btn-sm btn-default btn-loading form-control-btn"> <div class="loading loading-sm"></div> <span class="btn-label">'+d(s(n(76273)).call(e,"Reset customization",{hash:{},data:t}))+'</span> </button> <p class="help-block"> '+d(s(n(76273)).call(e,"Reset sidebar navigation and home screen layout to the default state. You’ll be redirected to the {1} Setup screen, where you can choose a server (if you have access to more than one) and other media providers from which to build your navigation and home screen content.",e&&e.escapedProducttName,{hash:{},data:t}))+" </p> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=' <hr class="advanced-setting" /> ',((o=i.if.call(t,t&&t.isSyncSettingsRestrictedBySchemaVersion,{hash:{},inverse:u.noop,fn:u.program(33,(function(e,t){var i,r="";return r+=' <p class="help-block"> <span class="inline-icon">',((i=typeof(i=e&&e.alertIcon)===c?i.apply(e):i)||0===i)&&(r+=i),r+"</span> "+d(s(n(76273)).call(e,"Any {1} settings and customization made in this {1} instance will not be synchronized with other {1} instances. This is because we have detected you have previously saved settings from a newer version of {1}.",e&&e.escapedProductName,{hash:{},data:t}))+" </p> "}),a),data:a}))||0===o)&&(l+=o),l+=' </div> <div id="quality-web-group" class="settings-group"> ',((o=i.if.call(t,t&&t.canPlayAdaptiveBitrate,{hash:{},inverse:u.noop,fn:u.program(35,(function(e,t){var r,a="";return a+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="autoAdjustQuality" ',((r=i.if.call(e,null==(r=e&&e.experienceSettings)||!1===r?r:r.autoAdjustQuality,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===r)&&(a+=r),a+"> "+d(s(n(76273)).call(e,"Automatically adjust quality (Beta)",{hash:{},data:t}))+' </label> <p class="help-block">'+d(s(n(76273)).call(e,"Plex will increase or decrease quality based on connection speed. Requires latest Plex Media Server.",{hash:{},data:t}))+"</p> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=' <h4 class="',((o=i.if.call(t,t&&t.canPlayAdaptiveBitrate,{hash:{},inverse:u.program(39,(function(e,t){return"settings-header-first"}),a),fn:u.program(37,(function(e,t){return"settings-header"}),a),data:a}))||0===o)&&(l+=o),l+='">'+d(s(n(76273)).call(t,"Internet Streaming",{hash:{},data:a}))+'</h4> <div class="form-group"> <label for="remoteQuality">'+d(s(n(76273)).call(t,"Video quality",{hash:{},data:a}))+'</label> <select id="remoteQuality" data-type="int"> <option value="-1">'+d(s(n(76273)).call(t,"Maximum",{hash:{},data:a}))+"</option> ",((o=i.each.call(t,t&&t.availableQualities,{hash:{},inverse:u.noop,fn:u.programWithDepth(41,(function(e,t,i){var r,a="";return a+=' <option value="'+d(typeof(r=e&&e.index)===c?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,e&&e.index,null==(r=i&&i.experienceSettings)||!1===r?r:r.remoteQuality,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+"> "+d(s(n(54614)).call(e,e,{hash:{},data:t}))+" </option> "}),a,t),data:a}))||0===o)&&(l+=o),l+=' </select> <p class="help-block">'+d(s(n(76273)).call(t,"Set the default quality for streaming video over the internet. If quality is set too high, videos will start slowly and pause frequently.",{hash:{},data:a}))+'</p> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="remoteSmallVideoAtOriginalQuality" ',((o=i.if.call(t,null==(o=t&&t.experienceSettings)||!1===o?o:o.remoteSmallVideoAtOriginalQuality,{hash:{},inverse:u.noop,fn:u.program(7,m,a),data:a}))||0===o)&&(l+=o),l+="> "+d(s(n(76273)).call(t,"Play smaller videos at original quality",{hash:{},data:a}))+' </label> <p class="help-block"> '+d(s(n(76273)).call(t,"When a video file is smaller than the quality above, try playing the original video without converting. This preserves full quality, but playback may pause frequently.",{hash:{},data:a}))+" ",((o=i.if.call(t,t&&t.canPlayAdaptiveBitrate,{hash:{},inverse:u.noop,fn:u.program(43,(function(e,t){return d(s(n(76273)).call(e,'"Automatically adjust quality" will be disabled for these videos.',{hash:{},data:t}))}),a),data:a}))||0===o)&&(l+=o),l+=' </p> </div> <h4 class="settings-header">'+d(s(n(76273)).call(t,"Home Streaming",{hash:{},data:a}))+'</h4> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="useHomeStreamingRecommendedSettings" ',((o=i.if.call(t,null==(o=t&&t.experienceSettings)||!1===o?o:o.useHomeStreamingRecommendedSettings,{hash:{},inverse:u.noop,fn:u.program(7,m,a),data:a}))||0===o)&&(l+=o),l+="> "+d(s(n(76273)).call(t,"Use recommended settings",{hash:{},data:a}))+' </label> <p class="help-block recommended-home-streaming-settings">'+d(s(n(76273)).call(t,"All compatible videos will play at original quality. Incompatible videos will be converted at maximum quality.",{hash:{},data:a}))+'</p> </div> <div class="form-group custom-home-streaming-settings"> <label for="localQuality">'+d(s(n(76273)).call(t,"Video quality",{hash:{},data:a}))+'</label> <select id="localQuality" data-type="int"> <option value="-1">'+d(s(n(76273)).call(t,"Maximum",{hash:{},data:a}))+"</option> ",((o=i.each.call(t,t&&t.availableQualities,{hash:{},inverse:u.noop,fn:u.programWithDepth(45,(function(e,t,i){var r,a="";return a+=' <option value="'+d(typeof(r=e&&e.index)===c?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,e&&e.index,null==(r=i&&i.experienceSettings)||!1===r?r:r.localQuality,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+"> "+d(s(n(54614)).call(e,e,{hash:{},data:t}))+" </option> "}),a,t),data:a}))||0===o)&&(l+=o),l+=' </select> <p class="help-block">'+d(s(n(76273)).call(t,"Choose the default video quality to use for local Wi-Fi streaming on home networks. If quality is set too high, videos will start slowly and pause frequently.",{hash:{},data:a}))+'</p> </div> </div> <div id="debug-web-group" class="settings-group"> <div class="form-group"> <label for="debugLevel">'+d(s(n(76273)).call(t,"Debug Level",{hash:{},data:a}))+'</label> <select id="debugLevel" data-type="int"> ',((o=i.each.call(t,t&&t.debugLevels,{hash:{},inverse:u.noop,fn:u.programWithDepth(47,(function(e,t,i){var r,a="";return a+=' <option value="'+d(typeof(r=e&&e.value)===c?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,e&&e.value,null==(r=i&&i.deviceSettings)||!1===r?r:r.debugLevel,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+">"+d(s(n(76273)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),a,t),data:a}))||0===o)&&(l+=o),l+=' </select> <p class="help-block">'+d(s(n(76273)).call(t,"You can view the debug logs {1}here{2}.",'<a href="#!/logs">',"</a>",{hash:{},data:a}))+"</p> </div> ",((o=i.if.call(t,t&&t.isNinja,{hash:{},inverse:u.noop,fn:u.program(49,(function(e,t){var n,s="";return s+=" ",((n=i.unless.call(e,e&&e.isHybridPlatform,{hash:{},inverse:u.noop,fn:u.program(50,M,t),data:t}))||0===n)&&(s+=n),s+=' <div class="form-group"> <label for="sonosCustomBaseURL">★ Custom Sonos Environment</label> <input type="text" id="sonosCustomBaseURL" class="form-control" placeholder="Base URL" value="'+d(typeof(n=null==(n=e&&e.deviceSettings)||!1===n?n:n.sonosCustomBaseURL)===c?n.apply(e):n)+'"> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="rejectDirectConnections" ',((n=i.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n.rejectDirectConnections,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===n)&&(s+=n),s+='> ★ Reject direct connections </label> <p class="help-block">Forces relayed connections if available. Refresh after saving this setting for it to take effect.</p> </div> ',((n=i.if.call(e,e&&e.isQtDesktop,{hash:{},inverse:u.noop,fn:u.program(55,D,t),data:t}))||0===n)&&(s+=n),s+" "}),a),data:a}))||0===o)&&(l+=o),l+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="directPlay" ',((o=i.if.call(t,null==(o=t&&t.deviceSettings)||!1===o?o:o.directPlay,{hash:{},inverse:u.noop,fn:u.program(7,m,a),data:a}))||0===o)&&(l+=o),l+="> "+d(s(n(76273)).call(t,"Direct Play",{hash:{},data:a}))+' </label> <p class="help-block"> ',((o=i.if.call(t,t&&t.isHybridPlatform,{hash:{},inverse:u.program(59,(function(e,t){return""+" "+d(s(n(76273)).call(e,"Allows the player to play compatible media without any conversion. In most browsers, direct play supports MP4 videos with h264 video and AAC audio. Videos with subtitles cannot be played directly.",{hash:{},data:t}))+" "}),a),fn:u.program(57,(function(e,t){return""+" "+d(s(n(76273)).call(e,"Allows the player to play compatible media without any conversion.",{hash:{},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+=' </p> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="directStream" ',((o=i.if.call(t,null==(o=t&&t.deviceSettings)||!1===o?o:o.directStream,{hash:{},inverse:u.noop,fn:u.program(7,m,a),data:a}))||0===o)&&(l+=o),l+="> "+d(s(n(76273)).call(t,"Direct Stream",{hash:{},data:a}))+' </label> <p class="help-block">'+d(s(n(76273)).call(t,"Allows the server to copy compatible audio and video streams without converting them.",{hash:{},data:a}))+"</p> </div> ",((o=i.unless.call(t,t&&t.isHybridPlatform,{hash:{},inverse:u.noop,fn:u.program(61,(function(e,t){var r,a="";return a+=' <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="forceTranscodeProtocolHLS" ',((r=i.if.call(e,null==(r=e&&e.experienceSettings)||!1===r?r:r.forceTranscodeProtocolHLS,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===r)&&(a+=r),a+"> "+d(s(n(76273)).call(e,"Use alternate streaming protocol for video playback",{hash:{},data:t}))+' </label> <p class="help-block">'+d(s(n(76273)).call(e,"Experimental workaround for Chrome, Edge, and other Chromium based browsers which may avoid unexpected skipping during video playback. The workaround will not be used if automatic quality adjusting is enabled.",{hash:{},data:t}))+"</p> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.canDebugAdaptiveBitrate,{hash:{},inverse:u.noop,fn:u.program(63,(function(e,t){var n,s="";return s+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="debugVideoQualityOverlay" ',((n=i.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n.debugVideoQualityOverlay,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===n)&&(s+=n),s+'> Video quality overlay </label> <p class="help-block">Burns a quality information overlay on video when automatically adjusting quality.</p> </div> '}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.canDebugAds,{hash:{},inverse:u.noop,fn:u.program(65,(function(e,t){var n,s="";return s+=' <div class="form-group"> <label for="debugAdKind">★ Debug advertisements</label> <select id="debugAdKind" data-type="int"> ',((n=i.each.call(e,e&&e.debugAdKinds,{hash:{},inverse:u.noop,fn:u.programWithDepth(66,C,t,e),data:t}))||0===n)&&(s+=n),s+' </select> <p class="help-block">Instructs ad supporting providers to return one or more advertisements. Remember to disable any ad blockers.</p> </div> '}),a),data:a}))||0===o)&&(l+=o),l+=' </div> <div id="player-web-group" class="settings-group"> <h4 class="settings-header-first">'+d(s(n(76273)).call(t,"Audio & Subtitles",{hash:{},data:a}))+'</h4> <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="normalizeDownmixedVolume" ',((o=i.if.call(t,t&&t.normalizeDownmixedVolume,{hash:{},inverse:u.noop,fn:u.program(7,m,a),data:a}))||0===o)&&(l+=o),l+="> "+d(s(n(76273)).call(t,"Normalize Multi-channel Audio",{hash:{},data:a}))+' </label> <p class="help-block">'+d(s(n(76273)).call(t,"Reduce volume to avoid clipping when converting from multi-channel audio formats.",{hash:{},data:a}))+"</p> </div> ",((o=i.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:u.noop,fn:u.program(68,(function(e,t){var r,a="";return a+=' <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="player.exclusiveAudioEnabled" ',((r=i.if.call(e,null==(r=e&&e.deviceSettings)||!1===r?r:r["player.exclusiveAudioEnabled"],{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===r)&&(a+=r),a+="> "+d(s(n(76273)).call(e,"Exclusive Audio",{hash:{},data:t}))+' </label> <p class="help-block">'+d(s(n(76273)).call(e,"Bypasses the system audio mixer, ensuring that only the media's audio is sent unchanged to the output device. This prevents sounds from other applications on the selected device.",{hash:{},data:t}))+'</p> </div> <div class="form-group advanced-setting"> <label> '+d(s(n(76273)).call(e,"Audio Device",{hash:{},data:t}))+' <select id="player.audioDevice" class="audio-device-name"> ',((r=i.each.call(e,e&&e.audioDevices,{hash:{},inverse:u.noop,fn:u.program(69,P,t),data:t}))||0===r)&&(a+=r),a+=" </select> </label> </div> ",((r=i.each.call(e,e&&e.audioDevices,{hash:{},inverse:u.noop,fn:u.program(71,w,t),data:t}))||0===r)&&(a+=r),a+" "}),a),data:a}))||0===o)&&(l+=o),l+=' <div class="form-group"> <label for="subtitleColor">'+d(s(n(76273)).call(t,"Subtitle Color",{hash:{},data:a}))+'</label> <select id="subtitleColor"> ',((o=i.each.call(t,t&&t.subtitleColors,{hash:{},inverse:u.noop,fn:u.programWithDepth(83,(function(e,t,i){var r,a="";return a+=' <option value="'+d(typeof(r=e&&e.value)===c?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,e&&e.value,null==(r=i&&i.experienceSettings)||!1===r?r:r.subtitleColor,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+">"+d(s(n(76273)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),a,t),data:a}))||0===o)&&(l+=o),l+=' </select> </div> <div class="form-group"> <label for="subtitlePosition">'+d(s(n(76273)).call(t,"Subtitle Position",{hash:{},data:a}))+'</label> <select id="subtitlePosition"> ',((o=i.each.call(t,t&&t.subtitlePositions,{hash:{},inverse:u.noop,fn:u.programWithDepth(85,(function(e,t,i){var r,a="";return a+=' <option value="'+d(typeof(r=e&&e.value)===c?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,e&&e.value,null==(r=i&&i.experienceSettings)||!1===r?r:r.subtitlePosition,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+">"+d(s(n(76273)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),a,t),data:a}))||0===o)&&(l+=o),l+=' </select> </div> <div class="form-group"> <label for="subtitleSize">'+d(s(n(76273)).call(t,"Subtitle Size",{hash:{},data:a}))+'</label> <select id="subtitleSize" data-type="int"> ',((o=i.each.call(t,t&&t.subtitleSizes,{hash:{},inverse:u.noop,fn:u.programWithDepth(87,(function(e,t,i){var r,a="";return a+=' <option value="'+d(typeof(r=e&&e.value)===c?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,e&&e.value,null==(r=i&&i.experienceSettings)||!1===r?r:r.subtitleSize,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+">"+d(s(n(76273)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),a,t),data:a}))||0===o)&&(l+=o),l+=" </select> </div> ",((o=i.if.call(t,t&&t.hasSubtitleBurnLevel,{hash:{},inverse:u.noop,fn:u.program(89,(function(e,t){var r,a="";return a+=' <div class="form-group advanced-setting"> <label for="subtitlesBurnLevel">'+d(s(n(76273)).call(e,"Burn Subtitles",{hash:{},data:t}))+'</label> <select id="subtitlesBurnLevel"> ',((r=i.each.call(e,e&&e.subtitlesBurnLevels,{hash:{},inverse:u.noop,fn:u.programWithDepth(90,j,t,e),data:t}))||0===r)&&(a+=r),a+' </select> <p class="help-block">'+d(s(n(76273)).call(e,"Determines if the server should burn in subtitles when converting video depending on the subtitles format. Avoiding burn in improves server performance and is only supported by the HTML5 player.",{hash:{},data:t}))+"</p> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:u.noop,fn:u.program(92,(function(e,t){var r,a="";return a+=' <h4 class="settings-header advanced-setting">'+d(s(n(76273)).call(e,"Video",{hash:{},data:t}))+'</h4> <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="player.hardwareDecodingEnabled" ',((r=i.if.call(e,null==(r=e&&e.deviceSettings)||!1===r?r:r["player.hardwareDecodingEnabled"],{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===r)&&(a+=r),a+="> "+d(s(n(76273)).call(e,"Use Hardware Decoding",{hash:{},data:t}))+' </label> <p class="help-block">'+d(s(n(76273)).call(e,"Hardware decoding may improve video playback performance. Disable this setting if you encounter unexpected playback problems.",{hash:{},data:t}))+"</p> </div> ",((r=i.if.call(e,e&&e.isNinja,{hash:{},inverse:u.noop,fn:u.program(93,k,t),data:t}))||0===r)&&(a+=r),a+" "}),a),data:a}))||0===o)&&(l+=o),l+=' <h4 class="settings-header">'+d(s(n(76273)).call(t,"Extras",{hash:{},data:a}))+'</h4> <div class="form-group"> <label for="extrasPrefixCount">'+d(s(n(76273)).call(t,"Cinema Trailers to Play Before Movies",{hash:{},data:a}))+'</label> <select id="extrasPrefixCount" data-type="int"> ',((o=i.each.call(t,t&&t.extrasPrefixCounts,{hash:{},inverse:u.noop,fn:u.programWithDepth(96,(function(e,t,i){var r,a="";return a+=' <option value="'+d(typeof(r=e&&e.value)===c?r.apply(e):r)+'" ',((r=s(n(78356)).call(e,e&&e.value,null==(r=i&&i.experienceSettings)||!1===r?r:r.extrasPrefixCount,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===r)&&(a+=r),a+">"+d(s(n(76273)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),a,t),data:a}))||0===o)&&(l+=o),l+=" </select> </div> ",((o=i.unless.call(t,t&&t.isHybridPlatform,{hash:{},inverse:u.noop,fn:u.program(98,(function(e,t){var r,a="";return a+=' <h4 class="settings-header advanced-setting">'+d(s(n(76273)).call(e,"Chromecast",{hash:{},data:t}))+'</h4> <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="audioForceMultiChannel" ',((r=i.if.call(e,null==(r=e&&e.experienceSettings)||!1===r?r:r.audioForceMultiChannel,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===r)&&(a+=r),a+"> "+d(s(n(76273)).call(e,"Force multi-channel audio support",{hash:{},data:t}))+' </label> <p class="help-block">'+d(s(n(76273)).call(e,"Forces Chromecast to allow six channel surround sound whether or not the device reports support.",{hash:{},data:t}))+"</p> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=" </div> ",((o=i.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:u.noop,fn:u.program(100,(function(e,t){var r,a="";return a+=' <div id="downloads-web-group" class="settings-group"> <div class="form-group"> <label for="musicDownloadQuality">'+d(s(n(76273)).call(e,"Music Quality",{hash:{},data:t}))+'</label> <select id="musicDownloadQuality" data-type="int"> ',((r=i.each.call(e,e&&e.musicDownloadQualityLevels,{hash:{},inverse:u.noop,fn:u.programWithDepth(101,z,t,e),data:t}))||0===r)&&(a+=r),a+=' </select> </div> <div class="form-group"> <label for="videoDownloadQuality">'+d(s(n(76273)).call(e,"Video Quality",{hash:{},data:t}))+'</label> <select id="videoDownloadQuality" data-type="int"> ',((r=i.each.call(e,e&&e.videoDownloadQualityLevels,{hash:{},inverse:u.noop,fn:u.programWithDepth(103,U,t,e),data:t}))||0===r)&&(a+=r),a+' </select> </div> <p class="help-block">'+d(s(n(76273)).call(e,"Lower quality downloads use less disk space. Media will be converted on the server.",{hash:{},data:t}))+"</p> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+d(s(n(76273)).call(t,"Save Changes",{hash:{},data:a}))+'</span> </button> <span class="form-message"></span> </div> ',((o=i.unless.call(t,t&&t.isAnonymous,{hash:{},inverse:u.noop,fn:u.program(105,(function(e,t){var r,a="";return a+=' <div id="debug-web-group-footer" class="settings-group"> ',((r=i.if.call(e,e&&e.isNinja,{hash:{},inverse:u.noop,fn:u.program(106,V,t),data:t}))||0===r)&&(a+=r),a+=' <hr /> <div class="form-group"> <button type="button" class="restore-btn btn btn-sm btn-danger btn-loading form-control-btn"> <div class="loading loading-sm"></div> <span class="btn-label">'+d(s(n(76273)).call(e,"Restore defaults",{hash:{},data:t}))+'</span> </button> <p class="help-block"> '+d(s(n(76273)).call(e,"All {1} settings and customization will be reset and restored to their default state.",e&&e.escapedProductName,{hash:{},data:t}))+" ",((r=i.if.call(e,e&&e.isSyncSettingsAllowed,{hash:{},inverse:u.noop,fn:u.program(108,B,t),data:t}))||0===r)&&(a+=r),a+" </p> </div> <hr /> </div> "}),a),data:a}))||0===o)&&(l+=o),l+" </form> </div> </div> "}))},39390:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return"active"}return l+='<ul class="agent-types-nav nav nav-pills"> ',((o=i.each.call(t,t&&t.agentTypes,{hash:{},inverse:c.noop,fn:c.programWithDepth(1,(function(e,t,i){var r,a="";return a+=' <li class="',((r=s(n(78356)).call(e,null==(r=i&&i.currentType)||!1===r?r:r.id,e&&e.id,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===r)&&(a+=r),a+'"> <a class="btn-gray" data-type="'+d("function"==typeof(r=e&&e.typeString)?r.apply(e):r)+'" href="#">'+d(s(n(76273)).call(e,e&&e.plural,{hash:{},data:t}))+"</a> </li> "}),a,t),data:a}))||0===o)&&(l+=o),l+' </ul> <div class="agents-list-container"></div> <p class="help-block sortable-help-block">'+d(s(n(76273)).call(t,"Select which additional agents should contribute to metadata from {1}, and drag them to change the order of preference.",'<span class="agent-label"></span>',{hash:{},data:a}))+'</p> <div class="contributors-list-container"></div> '}))},93824:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+='<div class="sign-in-region"></div> <form id="server-settings-form"> <div class="form-group"> <h4 class="version-header"><span class="version"></span> <span class="update-region"></span></h4> </div> ',((o=i.each.call(t,t,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return""+" "+c(s(n(46178)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(s(n(76273)).call(t,"Save Changes",{hash:{},data:a}))+'</span> </button> <span class="form-message"></span> </div> </form> '}))},44942:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+='<form id="server-settings-form"> ',((o=i.each.call(t,t,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return""+" "+c(s(n(46178)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(s(n(76273)).call(t,"Save Changes",{hash:{},data:a}))+'</span> </button> <span class="form-message"></span> </div> </form> '}))},23450:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this,u="function";function p(e,t){return""+' <h4 class="status-header status-header-single"> <span class="loading loading-sm"></span> '+c(s(n(76273)).call(e,"Disconnecting server...",{hash:{},data:t}))+" </h4> "}function m(e,t){var n;return(n=i.if.call(e,e&&e.isUnavailable,{hash:{},inverse:d.program(12,v,t),fn:d.program(7,h,t),data:t}))||0===n?n:""}function h(e,t){var r,a="";return a+=' <h4 class="status-header text-danger">'+c(s(n(76273)).call(e,"Not available outside your network",{hash:{},data:t}))+"</h4> ",((r=i.if.call(e,e&&e.isSignedOut,{hash:{},inverse:d.program(10,y,t),fn:d.program(8,g,t),data:t}))||0===r)&&(a+=r),a+" "}function g(e,t){return""+' <span class="status-description help-block">'+c(s(n(76273)).call(e,"First {1}sign in{2} to access your server from anywhere.",'<a class="sign-in-link" href="#">',"</a>",{hash:{},data:t}))+"</span> "}function y(e,t){return""+' <span class="status-description help-block">'+c(s(n(76273)).call(e,"Enable to access your server from anywhere.",{hash:{},data:t}))+'</span> <button class="remote-access-enable-btn btn btn-sm btn-primary">'+c(s(n(76273)).call(e,"Enable Remote Access",{hash:{},data:t}))+"</button> "}function v(e,t){var r,a="";return a+=" ",((r=s(n(78356)).call(e,null==(r=e&&e.cloudAccount)||!1===r?r:r.remoteAccessState,"unreachable",{hash:{},inverse:d.program(19,S,t),fn:d.program(13,f,t),data:t}))||0===r)&&(a+=r),a+=' <button class="remote-access-disable-btn btn btn-sm btn-default">'+c(s(n(76273)).call(e,"Disable Remote Access",{hash:{},data:t}))+"</button> ",((r=i.if.call(e,null==(r=e&&e.mappingModeSetting)||!1===r?r:r.value,{hash:{},inverse:d.noop,fn:d.program(21,E,t),data:t}))||0===r)&&(a+=r),a+" "}function f(e,t){var i,r="";return r+=' <h4 class="status-header text-danger">'+c(s(n(76273)).call(e,"Not available outside your network",{hash:{},data:t}))+'</h4> <span class="unreachable-description status-description help-block">'+c(s(n(76273)).call(e,"Your server is signed in to Plex, but is not reachable from outside your network. {1}Learn more{2}",'<a href="https://support.plex.tv/articles/200289506/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</span> ",((i=s(n(78356)).call(e,null==(i=e&&e.cloudAccount)||!1===i?i:i.mappingError,"jumboframes",{hash:{},inverse:d.program(16,b,t),fn:d.program(14,I,t),data:t}))||0===i)&&(r+=i),r+" "}function I(e,t){return""+' <span class="jumbo-frames-description status-details help-block"> <span class="help-tip">'+c(s(n(76273)).call(e,"Tip:",{hash:{},data:t}))+"</span> "+c(s(n(76273)).call(e,'It looks like the devices between your server and the internet have "jumbo frames" enabled which can cause issues with remote access. Disable jumbo frames on at least one device and try again.',{hash:{},data:t}))+" </span> "}function b(e,t){var i;return(i=s(n(78356)).call(e,null==(i=e&&e.cloudAccount)||!1===i?i:i.mappingError,"doublenat",{hash:{},inverse:d.noop,fn:d.program(17,M,t),data:t}))||0===i?i:""}function M(e,t){return""+' <span class="double-nat-description status-details help-block"> <span class="help-tip">'+c(s(n(76273)).call(e,"Tip:",{hash:{},data:t}))+"</span> "+c(s(n(76273)).call(e,'It looks like your server may be connected to the internet through multiple routers or other network devices. Try connecting it directly to your primary device, or visit our support site for more information about troubleshooting this "Double-NAT" scenario. {1}Learn more{2}','<a href="https://support.plex.tv/articles/200931138/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+" </span> "}function S(e,t){return""+' <h4 class="status-header text-success">'+c(s(n(76273)).call(e,"Fully accessible outside your network",{hash:{},data:t}))+'</h4> <span class="status-description help-block"> '+c(s(n(76273)).call(e,"You can access this server from signed-in Plex apps or in a browser at {1}.",'<a href="https://plex.tv/web" target="_blank">https://plex.tv/web</a>',{hash:{},data:t}))+" </span> "}function E(e,t){return""+' <p class="remote-access-disable-message help-block"> <i class="remote-access-disable-warning-icon glyphicon circle-exclamation-mark"></i> '+c(s(n(76273)).call(e,"You currently have Remote Access enabled through a manually-specified port. If you wish to disable Remote Access, you will need to remove your manual port forwarding from your router.",{hash:{},data:t}))+" </p> "}function D(e,t){var r,a="";return a+=' <div class="remote-access-advanced"> <div class="remote-access-mapping-container ',((r=i.unless.call(e,e&&e.forceAdvanced,{hash:{},inverse:d.noop,fn:d.program(25,C,t),data:t}))||0===r)&&(a+=r),a+='"> <hr> <i class="plex-image server server-xs server-logo"></i> <div class="remote-access-mapping"> <span class="mapping-label text-muted">'+c(s(n(76273)).call(e,"Private",{hash:{},data:t}))+'</span> <span class="mapping-address"> ',((r=i.if.call(e,e&&e.hasPrivateAddress,{hash:{},inverse:d.program(29,w,t),fn:d.program(27,P,t),data:t}))||0===r)&&(a+=r),a+=" </span> ",((r=i.if.call(e,e&&e.hasPublicAddress,{hash:{},inverse:d.program(33,Z,t),fn:d.program(31,T,t),data:t}))||0===r)&&(a+=r),a+=' <span class="mapping-label text-muted">'+c(s(n(76273)).call(e,"Public",{hash:{},data:t}))+'</span> <span class="mapping-address"> ',((r=i.if.call(e,e&&e.hasPublicAddress,{hash:{},inverse:d.program(29,w,t),fn:d.program(35,N,t),data:t}))||0===r)&&(a+=r),a+=" </span> ",((r=s(n(78356)).call(e,null==(r=e&&e.cloudAccount)||!1===r?r:r.remoteAccessState,"ok",{hash:{},inverse:d.program(33,Z,t),fn:d.program(31,T,t),data:t}))||0===r)&&(a+=r),a+=' <span class="mapping-internet ',((r=s(n(84772)).call(e,null==(r=e&&e.cloudAccount)||!1===r?r:r.remoteAccessState,"ok",{hash:{},inverse:d.noop,fn:d.program(37,A,t),data:t}))||0===r)&&(a+=r),a+='"> <i class="mapping-internet-icon glyphicon globe text-muted"></i> '+c(s(n(76273)).call(e,"Internet",{hash:{},data:t}))+" </span> </div> </div> ",((r=i.if.call(e,e&&e.hasMappingSettings,{hash:{},inverse:d.noop,fn:d.program(39,x,t),data:t}))||0===r)&&(a+=r),a+" </div> "}function C(e,t){return"advanced-setting"}function P(e,t){var n;return""+' <span class="mapping-value">'+c(typeof(n=null==(n=e&&e.cloudAccount)||!1===n?n:n.privateAddress)===u?n.apply(e):n)+'</span> <span class="mapping-separator text-muted">:</span> <span class="mapping-value">'+c(typeof(n=null==(n=e&&e.cloudAccount)||!1===n?n:n.privatePort)===u?n.apply(e):n)+"</span> "}function w(e,t){return""+' <span class="mapping-empty-value">'+c(s(n(76273)).call(e,"Unknown IP",{hash:{},data:t}))+"</span> "}function T(e,t){return' <i class="mapping-icon glyphicon left-arrow text-success"></i> '}function Z(e,t){return' <i class="mapping-icon glyphicon remove-2 text-danger"></i> '}function N(e,t){var n;return""+' <span class="mapping-value">'+c(typeof(n=null==(n=e&&e.cloudAccount)||!1===n?n:n.publicAddress)===u?n.apply(e):n)+'</span> <span class="mapping-separator text-muted">:</span> <span class="mapping-value">'+c(typeof(n=null==(n=e&&e.cloudAccount)||!1===n?n:n.publicPort)===u?n.apply(e):n)+"</span> "}function A(e,t){return"unreachable"}function x(e,t){var r,a="";return a+=' <div class="remote-access-error-container ',((r=i.unless.call(e,e&&e.forceAdvanced,{hash:{},inverse:d.noop,fn:d.program(25,C,t),data:t}))||0===r)&&(a+=r),a+='"> <div class="form-inline"> <div class="checkbox"> <label class="',((r=i.if.call(e,e&&e.isUnavailable,{hash:{},inverse:d.noop,fn:d.program(40,L,t),data:t}))||0===r)&&(a+=r),a+='"> <input type="checkbox" id="'+c(typeof(r=null==(r=e&&e.mappingModeSetting)||!1===r?r:r.id)===u?r.apply(e):r)+'" name="'+c(typeof(r=null==(r=e&&e.mappingModeSetting)||!1===r?r:r.id)===u?r.apply(e):r)+'" value="1" ',((r=i.if.call(e,e&&e.isUnavailable,{hash:{},inverse:d.noop,fn:d.program(40,L,t),data:t}))||0===r)&&(a+=r),a+=" ",((r=i.if.call(e,null==(r=e&&e.mappingModeSetting)||!1===r?r:r.value,{hash:{},inverse:d.noop,fn:d.program(42,O,t),data:t}))||0===r)&&(a+=r),a+="> "+c(s(n(76273)).call(e,"Manually specify public port",{hash:{},data:t}))+' </label> </div> <div class="form-group"> <input type="text" id="'+c(typeof(r=null==(r=e&&e.mappingPortSetting)||!1===r?r:r.id)===u?r.apply(e):r)+'" name="'+c(typeof(r=null==(r=e&&e.mappingPortSetting)||!1===r?r:r.id)===u?r.apply(e):r)+'" class="form-control" value="'+c(typeof(r=null==(r=e&&e.mappingPortSetting)||!1===r?r:r.value)===u?r.apply(e):r)+'" ',((r=i.unless.call(e,e&&e.canEditPort,{hash:{},inverse:d.noop,fn:d.program(40,L,t),data:t}))||0===r)&&(a+=r),a+='> </div> <button class="retry-btn btn btn-primary btn-loading" ',((r=i.if.call(e,e&&e.isUnavailable,{hash:{},inverse:d.noop,fn:d.program(40,L,t),data:t}))||0===r)&&(a+=r),a+='> <div class="loading loading-sm"></div> <span class="btn-label">',((r=s(n(78356)).call(e,null==(r=e&&e.cloudAccount)||!1===r?r:r.remoteAccessState,"unreachable",{hash:{},inverse:d.program(46,k,t),fn:d.program(44,j,t),data:t}))||0===r)&&(a+=r),a+'</span> </button> </div> <p class="help-block">'+c(s(n(76273)).call(e,"You may need to enable this to establish a direct connection from outside your network. You may also need to configure your router. Detailed instructions are available {1}here{2}.",'<a href="https://support.plex.tv/articles/200931138/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</p> </div> "}function L(e,t){return"disabled"}function O(e,t){return"checked"}function j(e,t){return c(s(n(76273)).call(e,"Retry",{hash:{},data:t}))}function k(e,t){return c(s(n(76273)).call(e,"Apply",{hash:{},data:t}))}function R(e,t){return"show-warning"}function z(e,t){var n;return c(typeof(n=e&&e.totalRateSettingValue)===u?n.apply(e):n)}function U(e,t){return""+" "+c(s(n(46178)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}return l+='<i class="remote-access-status-icon glyphicon globe"></i> <div class="remote-access-status-message"> ',((o=s(n(78356)).call(t,null==(o=t&&t.cloudAccount)||!1===o?o:o.remoteAccessState,"connecting",{hash:{},inverse:d.program(3,(function(e,t){var i;return(i=s(n(78356)).call(e,null==(i=e&&e.cloudAccount)||!1===i?i:i.remoteAccessState,"disconnecting",{hash:{},inverse:d.program(6,m,t),fn:d.program(4,p,t),data:t}))||0===i?i:""}),a),fn:d.program(1,(function(e,t){return""+' <h4 class="status-header status-header-single"> <span class="loading loading-sm"></span> '+c(s(n(76273)).call(e,"Connecting server...",{hash:{},data:t}))+" </h4> "}),a),data:a}))||0===o)&&(l+=o),l+=" </div> ",((o=s(n(84772)).call(t,null==(o=t&&t.cloudAccount)||!1===o?o:o.remoteAccessState,"connecting",{hash:{},inverse:d.noop,fn:d.program(23,(function(e,t){var i,r="";return r+=" ",((i=s(n(84772)).call(e,null==(i=e&&e.cloudAccount)||!1===i?i:i.remoteAccessState,"disconnecting",{hash:{},inverse:d.noop,fn:d.program(24,D,t),data:t}))||0===i)&&(r+=i),r+" "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.hasUploadLimitSettings,{hash:{},inverse:d.noop,fn:d.program(48,(function(e,t){var r,a="";return a+=' <div class="remote-access-upload-container ',((r=i.unless.call(e,e&&e.totalRateSettingValue,{hash:{},inverse:d.noop,fn:d.program(49,R,t),data:t}))||0===r)&&(a+=r),a+='"> <hr> <div class="remote-access-upload-icon-container"> <i class="remote-access-upload-icon glyphicon circle-arrow-top"></i> <i class="remote-access-upload-warning-icon glyphicon circle-exclamation-mark"></i> </div> <form id="remote-access-upload-form" class="remote-access-upload-form"> <div class="remote-access-upload-speed-header">'+c(s(n(76273)).call(e,"No upload speed set",{hash:{},data:t}))+'</div> <div class="form-group"> <div class="form-inline"> <div class="form-group"> '+c(s(n(76273)).call(e,"Internet upload speed",{hash:{},data:t}))+' <input type="text" id="'+c(typeof(r=e&&e.totalRateSettingID)===u?r.apply(e):r)+'" name="'+c(typeof(r=e&&e.totalRateSettingID)===u?r.apply(e):r)+'" class="remote-access-upload-speed-control form-control" value="',((r=i.if.call(e,e&&e.totalRateSettingValue,{hash:{},inverse:d.noop,fn:d.program(51,z,t),data:t}))||0===r)&&(a+=r),a+='" > '+c(s(n(76273)).call(e,"Mbps",{hash:{},data:t}))+' </div> <p class="help-block"> '+c(s(n(76273)).call(e,"You can use {1}speedtest.net{2} to determine your internet upload capacity.",'<a href="http://speedtest.net" target="_blank" rel="noopener noreferrer">',"</a>",{hash:{},data:t}))+" <br> "+c(s(n(76273)).call(e,"Enter an upload speed here and Plex can ensure it operates within this boundary.",{hash:{},data:t}))+" </p> </div> </div> ",((r=i.each.call(e,e&&e.uploadSettings,{hash:{},inverse:d.noop,fn:d.program(53,U,t),data:t}))||0===r)&&(a+=r),a+' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(s(n(76273)).call(e,"Save Changes",{hash:{},data:t}))+'</span> </button> <span class="form-message"></span> </div> </form> </div> '}),a),data:a}))||0===o)&&(l+=o),l+" "}))},35549:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+='<a href="#" class="check-for-updates-btn label label-btn label-primary ',((o=i.unless.call(t,t&&t.canCheckForUpdate,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"active"}),a),data:a}))||0===o)&&(l+=o),l+'"> <i class="label-icon glyphicon upload"></i> '+c(s(n(76273)).call(t,"Check for Updates",{hash:{},data:a}))+' </a> <a href="#" class="checking-for-updates-btn label label-btn label-primary active"> <i class="label-icon glyphicon upload"></i> '+c(s(n(76273)).call(t,"Checking for Updates",{hash:{},data:a}))+' </a> <a href="#" class="available-updates-btn label label-btn label-primary"> <i class="label-icon glyphicon download"></i> '+c(s(n(76273)).call(t,"Download Updates",{hash:{},data:a}))+' </a> <span class="downloading-updates-container label label-btn label-progress active"> <i class="label-icon glyphicon download"></i> '+c(s(n(76273)).call(t,"Downloading Update",{hash:{},data:a}))+' <span class="downloading-progress-container hidden">(<span class="downloading-progress-label"></span>%)</span ></span> <a href="#" class="install-updates-btn label label-btn label-primary"> <i class="label-icon glyphicon download"></i> '+c(s(n(76273)).call(t,"Install Update",{hash:{},data:a}))+' </a> <a href="#" class="installing-updates-btn label label-btn label-primary active"> <i class="label-icon glyphicon upload"></i> '+c(s(n(76273)).call(t,"Installing",{hash:{},data:a}))+' </a> <span class="install-info-label up-to-date-label"> <i class="success-icon glyphicon ok-2"></i> '+c(s(n(76273)).call(t,"Up to date",{hash:{},data:a}))+' </span> <span class="install-info-label install-error-label"> <i class="failure-icon glyphicon circle-exclamation-mark"></i> <span class="update-error-message"></span> <a class="install-manual-link" href="https://plex.tv/downloads" target="_blank">'+c(s(n(76273)).call(t,"Please install manually.",{hash:{},data:a}))+'</a> </span> <a href="#" class="release-notes-btn label label-btn label-default"> <i class="label-icon glyphicon circle-info"></i> '+c(s(n(76273)).call(t,"What's New",{hash:{},data:a}))+" </a> "}))},6160:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return""+" "+c(s(n(76273)).call(e,"This Plex Media Server platform is not capable of converting video.",{hash:{},data:t}))+" "}function p(e,t){return""+" "+c(s(n(76273)).call(e,"There was a problem requesting media versions from this server.",{hash:{},data:t}))+" "}return l+='<div class="row row-padded"> <h4 class="text-muted text-center"> ',((o=i.if.call(t,t&&t.isUpgradeRequired,{hash:{},inverse:d.program(3,(function(e,t){var n;return(n=i.if.call(e,e&&e.isTranscoderRequired,{hash:{},inverse:d.program(6,p,t),fn:d.program(4,u,t),data:t}))||0===n?n:""}),a),fn:d.program(1,(function(e,t){return""+" "+c(s(n(76273)).call(e,"Optimized Versions requires Plex Media Server {1} or later.",e&&e.escapedMinServerVersion,{hash:{},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+" </h4> </div> "}))},77512:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o="",l=this.escapeExpression;return o+'<p class="versions-status-message hidden"> <button class="delete-all-btn btn btn-sm btn-danger pull-right">'+l(s(n(76273)).call(t,"Delete All Versions",{hash:{},data:a}))+"</button> "+l(s(n(76273)).call(t,"Monitor conversion progress in {1}Conversion Activity{2}.",'<a class="status-conversion-btn" href="#">',"</a>",{hash:{},data:a}))+' </p> <div class="background-processing-list-region"></div> '}))},61573:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+='<div class="filter-bar"> ',((o=i.unless.call(t,t&&t.shared,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return""+' <div class="filter-bar-right"> <button class="toggle-advanced-btn btn btn-sm btn-default basic-setting">'+c(s(n(76273)).call(e,"Show Advanced",{hash:{},data:t}))+'</button> <button class="toggle-advanced-btn btn btn-sm btn-default advanced-setting">'+c(s(n(76273)).call(e,"Hide Advanced",{hash:{},data:t}))+"</button> </div> "}),a),data:a}))||0===o)&&(l+=o),l+' </div> <div class="settings-row row"> <div class="pane-region col-sm-12 col-md-12"></div> </div> '}))},40856:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){var n;return d(typeof(n=null==(n=e&&e.friendlyNameSetting)||!1===n?n:n.value)===c?n.apply(e):n)}function m(e,t){var n;return d(typeof(n=null==(n=e&&e.server)||!1===n?n:n.friendlyName)===c?n.apply(e):n)}return l+='<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <form id="setup-basic-form" class="settings-container"> ',((o=i.if.call(t,t&&t.friendlyNameSetting,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){var r,a="";return a+=' <div class="setup-basic-form-group form-group"> <p class="text-muted"> '+d(s(n(76273)).call(e,"Give your server a friendly name to help identify it in Plex apps and on your network.",{hash:{},data:t}))+' </p> <input type="text" id="'+d(typeof(r=null==(r=e&&e.friendlyNameSetting)||!1===r?r:r.id)===c?r.apply(e):r)+'" class="form-control" value="',((r=i.if.call(e,null==(r=e&&e.friendlyNameSetting)||!1===r?r:r.value,{hash:{},inverse:u.program(4,m,t),fn:u.program(2,p,t),data:t}))||0===r)&&(a+=r),a+'" placeholder="'+d(typeof(r=null==(r=e&&e.server)||!1===r?r:r.friendlyName)===c?r.apply(e):r)+'"> </div> '}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.publishSetting,{hash:{},inverse:u.noop,fn:u.program(6,(function(e,t){var i;return""+' <div class="setup-basic-form-group form-group"> <div class="publish-checkbox checkbox"> <label for="'+d(typeof(i=null==(i=e&&e.publishSetting)||!1===i?i:i.id)===c?i.apply(e):i)+'"> <input type="checkbox" id="'+d(typeof(i=null==(i=e&&e.publishSetting)||!1===i?i:i.id)===c?i.apply(e):i)+'" checked> '+d(s(n(76273)).call(e,"Allow me to access my media outside my home",{hash:{},data:t}))+' </label> </div> <p class="text-muted"> '+d(s(n(76273)).call(e,"Plex will attempt to automatically configure your network to allow Plex apps outside your home to access Plex Media Server on this computer. Remember this computer will need to be turned on to access your media.",{hash:{},data:t}))+" </p> </div> "}),a),data:a}))||0===o)&&(l+=o),l+' <div class="setup-footer"> <button type="submit" class="submit-btn btn btn-primary btn-loading btn-lg"> <div class="loading loading-sm"></div> <span class="btn-label">'+d(s(n(76273)).call(t,"Next",{hash:{},data:a}))+'</span> </button> <button class="next-btn hidden" data-subset="setupLibrary"></button> </div> </form> </div> </div> <div class="modal-container"></div> '}))},67749:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){return"checked"}return l+='<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <div class="setup-apps-container"> <img class="setup-apps-image" src="'+d(typeof(o=t&&t.devicesImg)===c?o.apply(t):o)+'"> <a href="https://plex.tv/downloads" target="_blank" class="btn btn-default btn-lg">'+d(s(n(76273)).call(t,"Get Plex Apps",{hash:{},data:a}))+'</a> </div> <p class="text-muted">'+d(s(n(76273)).call(t,"All set! Your Plex Media Server is working hard to find your media and make it beautiful. Grab the Plex app for all your favorite devices to get the most out of Plex and start streaming everywhere!",{hash:{},data:a}))+'</p> <form id="setup-complete-form" class="settings-container"> ',((o=i.if.call(t,t&&t.collectUsageDataSetting,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){var r,a="";return a+=' <div class="checkbox"> <label for="'+d(typeof(r=null==(r=e&&e.collectUsageDataSetting)||!1===r?r:r.id)===c?r.apply(e):r)+'"> <input type="checkbox" id="'+d(typeof(r=null==(r=e&&e.collectUsageDataSetting)||!1===r?r:r.id)===c?r.apply(e):r)+'" name="'+d(typeof(r=null==(r=e&&e.collectUsageDataSetting)||!1===r?r:r.id)===c?r.apply(e):r)+'" value="1" ',((r=i.if.call(e,null==(r=e&&e.collectUsageDataSetting)||!1===r?r:r.value,{hash:{},inverse:u.noop,fn:u.program(2,p,t),data:t}))||0===r)&&(a+=r),a+"> "+d(s(n(76273)).call(e,"Send anonymous usage data to Plex",{hash:{},data:t}))+' </label> </div> <p class="setup-complete-help text-muted"> '+d(s(n(76273)).call(e,"Help us improve everyone's Plex experience by sending anonymous usage data.",{hash:{},data:t}))+" </p> "}),a),data:a}))||0===o)&&(l+=o),l+' <div class="setup-footer setup-done-footer"> <button class="next-btn btn btn-default btn-lg" data-subset="setupLibrary">'+d(s(n(76273)).call(t,"Back",{hash:{},data:a}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading btn-lg active"> <div class="loading loading-sm"></div> <span class="btn-label">'+d(s(n(76273)).call(t,"Done",{hash:{},data:a}))+'</span> </button> <button class="done-btn btn btn-primary btn-lg hidden"></button> </div> </form> </div> </div> <div class="modal-container"></div> '}))},32747:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+='<div class="row row-padded"> <div class="col-md-8 col-md-offset-2"> ',((o=i.if.call(t,t&&t.shared,{hash:{},inverse:this.program(3,(function(e,t){return""+" <h1>"+c(s(n(76273)).call(e,"A problem has been detected with a core component of Plex Media Server.",{hash:{},data:t}))+'</h1> <h2 class="text-muted">'+c(s(n(76273)).call(e,"Please visit the {1}forums{2} and provide your logs, as described {3}here{4}.",'<a href="https://forums.plex.tv" target="_blank">',"</a>",'<a href="http://support.plex.tv/hc/en-us/articles/200250417-Log-File-Locations/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</h2> "}),a),fn:this.program(1,(function(e,t){return""+" <h1>"+c(s(n(76273)).call(e,"Setup is not allowed for shared servers.",{hash:{},data:t}))+"</h1> "}),a),data:a}))||0===o)&&(l+=o),l+" </div> </div> "}))},37648:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d="function";return l+'<h2 class="setup-intro-header">'+c(s(n(76273)).call(t,"How Plex Works",{hash:{},data:a}))+"</h2> <h4>"+c(s(n(76273)).call(t,"Plex Media Server runs on the computer where you keep your media",{hash:{},data:a}))+'</h4> <img class="setup-intro-img setup-intro-computer-img" src='+c(typeof(o=t&&t.computerImg)===d?o.apply(t):o)+"> <h4>"+c(s(n(76273)).call(t,"Plex scans your media, automatically organizes it, and makes it beautiful",{hash:{},data:a}))+'</h4> <img class="setup-intro-img setup-intro-media-img" src='+c(typeof(o=t&&t.mediaImg)===d?o.apply(t):o)+"> <h4>"+c(s(n(76273)).call(t,"Play your media on any screen with your favorite Plex app",{hash:{},data:a}))+'</h4> <img class="setup-intro-img setup-intro-play-img" src='+c(typeof(o=t&&t.playImg)===d?o.apply(t):o)+'> <p> <button class="next-btn btn btn-primary btn-lg" data-subset="setupLoading">'+c(s(n(76273)).call(t,"Got it!",{hash:{},data:a}))+"</button> </p> "}))},56167:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o="",l=this.escapeExpression;return o+'<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <h4>'+l(s(n(76273)).call(t,"Organize Your Media",{hash:{},data:a}))+'</h4> <p class="text-muted">'+l(s(n(76273)).call(t,"Plex organizes your media into libraries. You can add as many libraries as you want, and you can have multiple libraries with the same type.",{hash:{},data:a}))+'</p> <p class="setup-add-section-container"> <button class="add-section-btn btn btn-default">'+l(s(n(76273)).call(t,"Add Library",{hash:{},data:a}))+'</button> </p> <div class="setup-section-list-container"></div> <div class="setup-footer"> <button class="next-btn btn btn-default btn-lg" data-subset="setupBasic">'+l(s(n(76273)).call(t,"Back",{hash:{},data:a}))+'</button> <button class="next-btn btn btn-primary btn-lg" data-subset="setupComplete">'+l(s(n(76273)).call(t,"Next",{hash:{},data:a}))+"</button> </div> </div> </div> "}))},36504:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){var a;return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{},""+'<div class="loading loading-inline"></div> <p class="loading-title">'+(0,this.escapeExpression)((a=n(76273),a&&(a.__esModule?a.default:a)).call(t,"Please wait a moment while Plex starts.",{hash:{},data:r}))+"</p> "}))},55978:(e,t,n)=>{var i=n(40202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,r,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),a=a||{};var o="",l=this.escapeExpression;return o+'<div class="setup-header row hidden"> <div class="col-sm-6 col-sm-offset-3"> <div class="sign-in-logo text-center"> <i class="plex-image plex-logo"></i> </div> <h2>'+l(s(n(76273)).call(t,"Server Setup",{hash:{},data:a}))+'</h2> <div class="setup-progress"> <div class="basic-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupBasic" href="#">'+l(s(n(76273)).call(t,"Name",{hash:{},data:a}))+'</a> </div> <div class="library-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupLibrary" href="#">'+l(s(n(76273)).call(t,"Media Library",{hash:{},data:a}))+'</a> </div> <div class="complete-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupComplete" href="#">'+l(s(n(76273)).call(t,"Finish",{hash:{},data:a}))+'</a> </div> </div> </div> </div> <div class="setup-container"></div> '}))},49682:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,s,r){var a;return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{},""+"<h2>"+(0,this.escapeExpression)((a=n(76273),a&&(a.__esModule?a.default:a)).call(t,"Announcements",{hash:{},data:r}))+'</h2> <div class="announcements-container"></div> '}))},716:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={page:"Page-page-8FUkWi"}},58967:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={innerEmptyPage:"InnerEmptyPage-innerEmptyPage-4wvQ0- EmptyPage-emptyPage-DjF6N1",innerEmptyPageContent:"InnerEmptyPage-innerEmptyPageContent-2cbr3y EmptyPage-content-3lx94H"}},70809:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={plexIcon:"PlexIcon-plexIcon-1hNiE2"}},76723:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={modalFooter:"ModalFooter-modalFooter-3ru3TD",button:"ModalFooter-button-1lvYxT Button-button-31pe5T Link-link-3v-v0b",splitButton:"ModalFooter-splitButton-iT4jXj ModalFooter-button-1lvYxT Button-button-31pe5T Link-link-3v-v0b"}},38170:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-add-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"m320 320l0 200-80 0 0-200-200 0 0-80 200 0 0-200 80 0 0 200 200 0 0 80-200 0"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},41927:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-artist-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"m250 306.694l-157.846 67.947-40-69.282 258.305-192.603 77.647 134.488-78.106 33.622 0 279.134-60 0 0-253.306m88.09-226.08c7.93-10.767 18.16-20.107 30.474-27.217 47.797-27.595 109.007-11.194 136.603 36.603 27.595 47.797 11.194 109.007-36.603 136.603-12.314 7.109-25.518 11.298-38.808 12.783l-91.666-158.772"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},32448:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 129 100",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-check"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"m111.162 0l17.838 17.227-79.928 82.773-49.072-52.714 18.136-16.912 31.292 33.558 61.734-63.932"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},5450:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-clips-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"m360 520l-360 0 0-400 360 0 0 160 200-120 0 320-200-120 0 160"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},28670:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 1040 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-series-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"m692.44 113.13c20.864-8.465 43.67-13.13 67.56-13.13 99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-23.887 0-46.693-4.663-67.56-13.13 8.427-8.706 16.197-18.05 23.22-27.921 7.981-11.218 14.995-23.12 20.937-35.54 5.493-11.483 10.07-23.405 13.662-35.616 3.45-11.718 5.996-23.7 7.615-35.808 3.366-25.18 2.733-50.894-1.896-75.872-2.033-10.968-4.835-21.794-8.381-32.37-3.723-11.11-8.266-21.937-13.577-32.378-6.233-12.253-13.523-23.967-21.757-34.975-6.107-8.164-12.733-15.939-19.823-23.264m-412.44-13.13c99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-99.34 0-180-80.65-180-180 0-99.34 80.66-180 180-180m172.44 13.13c20.864-8.465 43.67-13.13 67.56-13.13 99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-23.887 0-46.693-4.663-67.56-13.13 8.26-8.534 15.889-17.677 22.802-27.334 8.154-11.39 15.31-23.492 21.355-36.13 5.494-11.482 10.07-23.403 13.662-35.614 3.45-11.718 5.997-23.701 7.615-35.809 3.366-25.18 2.732-50.893-1.896-75.871-2.033-10.968-4.835-21.793-8.38-32.369-3.724-11.11-8.267-21.937-13.578-32.379-6.233-12.253-13.523-23.967-21.757-34.975-6.107-8.164-12.733-15.939-19.823-23.264"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},51343:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-single-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"m280 100c99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-99.34 0-180-80.65-180-180 0-99.34 80.66-180 180-180"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},82223:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-folder-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"m80 160l480 0-80 360-480 0 80-360m400-80l-10 39.838c-127.207-.297-430 .162-430 .162l-40 200 0-260c0-11.038 8.961-20 20-20l200 0c11.039 0 20 8.962 20 20l0 20 240 0"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},80080:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-movies-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"m0 560l560 0 0-520-560 0 0 520m120-40l-60 0 0-40 60 0 0 40m380 0l-60 0 0-40 60 0 0 40m-100 0l-240 0 0-200 240 0 0 200m100-80l-60 0 0-40 60 0 0 40m-380 0l-60 0 0-40 60 0 0 40m0-80l-60 0 0-40 60 0 0 40m380 0l-60 0 0-40 60 0 0 40m-100-80l-240 0 0-200 240 0 0 200m100 0l-60 0 0-40 60 0 0 40m-380 0l-60 0 0-40 60 0 0 40m0-80l-60 0 0-40 60 0 0 40m380 0l-60 0 0-40 60 0 0 40m0-80l-60 0 0-40 60 0 0 40m-380 0l-60 0 0-40 60 0 0 40"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},47323:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-music-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"m199.855 473.521c.096 1.057.145 2.131.145 3.221 0 33.115-44.808 68.962-100 80-55.192 11.039-100-6.885-100-40 0-33.115 44.808-68.961 100-80 22.504-4.501 43.282-4.186 60 .01l0-356.752 400-80 0 392c0 .52-.05 1.028-.145 1.521.096 1.057.145 2.131.145 3.221 0 33.115-44.808 68.962-100 80-55.192 11.039-100-6.885-100-40 0-33.115 44.808-68.961 100-80 22.504-4.501 43.282-4.186 60 .01l0-232.852-320 64.2 0 283.9c0 .52-.05 1.028-.145 1.521"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},61309:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-photos-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"m440 120l120 0 0 400-560 0 0-400 120 0 0-80 320 0 0 80m-320 200c0 88.306 71.694 160 160 160 88.306 0 160-71.694 160-160 0-88.306-71.694-160-160-160-88.306 0-160 71.694-160 160m80 0c0 44.153 35.847 80 80 80 44.153 0 80-35.847 80-80 0-44.153-35.847-80-80-80-44.153 0-80 35.847-80 80"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},7947:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-radio-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"M67.585 105.999c13.653-12.146 29.63-2.91 34.582 2.12 7.857 7.98 7.27 15.873 5.452 19.688-1.351 2.836-3.028 5.453-6.664 9.996-17.568 20.597-29.986 42.405-39.073 67.243-14.538 39.982-16.356 85.112-5.451 126.912 8.48 30.895 23.321 59.064 44.222 83.903 4.846 5.45 6.057 7.268 7.269 11.205.606 2.122.606 8.179-.303 10.905-1.817 5.755-6.058 10.299-12.116 12.418-1.515.606-17.907 5.469-28.827-3.028-1.818-1.211-8.482-8.785-13.327-15.145-28.17-36.044-46.04-79.056-51.493-124.792-2.422-19.082-2.422-40.588-.302-59.671 5.755-49.371 25.745-95.714 57.852-133.575 4.847-5.756 5.8-6.063 8.179-8.179zm80.238 77.238c8.986-10.49 24.838-16.15 37.2-5.61 12.362 10.538 8.589 23.784 3.439 30.447-13.63 16.356-21.505 34.228-24.534 55.43-.605 4.846-.908 16.356-.303 21.808 1.817 23.323 10.602 43.92 25.746 61.791 3.938 4.544 5.754 7.875 6.058 13.024.605 8.785-5.474 16.513-13.933 19.386-17.87 6.067-29.13-3.332-35.49-10.904-25.747-32.107-36.652-72.998-30.593-114.192 3.938-26.049 15.03-50.896 32.41-71.18zm128.276 149.264c-14.384-.7-26.663-6.3-36.837-16.1-10.876-11.2-16.138-24.15-16.138-39.55 0-15.398 5.262-28.35 16.138-39.549 11.225-10.85 24.207-16.1 39.643-16.1 15.437 0 28.416 5.25 39.644 16.1 10.874 11.199 16.137 24.15 16.137 39.55 0 15.4-5.263 28.349-16.137 39.55-10.526 10.15-22.804 15.75-37.54 16.1-1.753.349-4.209.349-4.91 0zm214.318-226.503c2.379 2.117 3.332 2.423 8.179 8.178 32.107 37.862 52.097 84.205 57.852 133.576 2.12 19.084 2.12 40.588-.302 59.671-5.453 45.736-23.324 88.748-51.492 124.792-4.846 6.36-11.51 13.933-13.328 15.145-10.92 8.496-27.312 3.635-28.827 3.029-6.058-2.12-10.299-6.664-12.116-12.419-.909-2.726-.909-8.785-.303-10.904 1.212-3.938 2.423-5.755 7.269-11.207 20.9-24.837 35.742-53.007 44.222-83.901 10.905-41.8 9.087-86.932-5.45-126.913-9.088-24.837-21.506-46.647-39.075-67.243-3.635-4.543-5.312-7.16-6.663-9.996-1.817-3.815-2.405-11.709 5.452-19.688 4.952-5.028 20.928-14.266 34.582-2.12zm-80.431 77.238c17.379 20.284 28.473 45.131 32.41 71.18 6.058 41.194-4.846 82.084-30.592 114.191-6.36 7.573-17.62 16.972-35.49 10.905-8.46-2.873-14.54-10.601-13.934-19.386.303-5.15 2.12-8.481 6.057-13.024 15.145-17.87 23.93-38.468 25.746-61.79.606-5.453.303-16.963-.302-21.809-3.028-21.202-10.905-39.073-24.534-55.43-5.15-6.664-8.923-19.909 3.438-30.447 12.363-10.54 28.214-4.88 37.2 5.61z"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},99131:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-shows-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"m440 520l0 40-320 0 0-40 320 0m120-40l-560 0 0-440 560 0 0 440m-60-380l-440 0 0 280 440 0 0-280"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},91608:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-watch-together"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{clipRule:"evenodd",d:"M32 21c3.32 0 5.98-2.68 5.98-6S35.32 9 32 9c-3.32 0-6 2.68-6 6s2.68 6 6 6zm-15.999 0c3.32 0 5.979-2.68 5.979-6s-2.659-6-5.979-6c-3.32 0-6 2.68-6 6s2.68 6 6 6zm0 4C11.341 25 2 27.73 2 33.167V39h28v-5.833C30 27.73 20.66 25 16.001 25zM32 25c-.58 0-1.24.047-1.94.117 2.32 1.96 3.94 4.596 3.94 8.05V39h12v-5.833C46 27.73 36.66 25 32 25z"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},39611:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-alert-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"m280 0l-280 520 560 0-280-520m0 400c22.077 0 40 17.923 40 40 0 22.077-17.923 40-40 40-22.077 0-40-17.923-40-40 0-22.077 17.923-40 40-40m-30-40l0-220 60 0 0 220-60 0"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},44352:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-alert-round-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"m280 0c154.536 0 280 125.464 280 280 0 154.536-125.464 280-280 280-154.536 0-280-125.464-280-280 0-154.536 125.464-280 280-280m-40 420c0 22.077 17.923 40 40 40 22.077 0 40-17.923 40-40 0-22.077-17.923-40-40-40-22.077 0-40 17.923-40 40m60-320l-40 0c-11.038 0-20 8.962-20 20l0 200c0 11.038 8.962 20 20 20l40 0c11.038 0 20-8.962 20-20l0-200c0-11.038-8.962-20-20-20"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},11969:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-analyzing-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"m336 364l15.027 67.524c.858 3.854 2.685 7.18 5.477 9.972 2.792 2.792 6.118 4.619 9.972 5.477l67.524 15.027-67.524 15.027c-3.854.858-7.18 2.685-9.972 5.477-2.792 2.792-4.619 6.118-5.477 9.972l-15.027 67.524-15.027-67.524c-.858-3.854-2.685-7.18-5.477-9.972-2.792-2.792-6.118-4.619-9.972-5.477l-67.524-15.027 67.524-15.027c3.854-.858 7.18-2.685 9.972-5.477 2.792-2.792 4.619-6.118 5.477-9.972l15.027-67.524m-315 140l343-343 35 35-343 343-35-35m441-266l15.027 67.523c.858 3.855 2.685 7.181 5.477 9.973 2.792 2.792 6.118 4.619 9.972 5.476l67.524 15.028-67.524 15.027c-3.854.858-7.18 2.685-9.972 5.477-2.792 2.792-4.619 6.118-5.477 9.972l-15.027 67.524-15.027-67.524c-.858-3.854-2.685-7.18-5.477-9.972-2.792-2.792-6.118-4.619-9.972-5.477l-67.524-15.027 67.524-15.028c3.854-.857 7.18-2.684 9.972-5.476 2.792-2.792 4.619-6.118 5.477-9.973l15.027-67.523m-322-238l21.468 96.462c1.2 5.396 3.914 10.338 7.823 14.247 3.909 3.909 8.851 6.623 14.247 7.823l96.462 21.468-96.462 21.468c-5.396 1.2-10.338 3.914-14.247 7.823-3.909 3.909-6.623 8.851-7.823 14.247l-21.468 96.462-21.468-96.462c-1.2-5.396-3.914-10.338-7.823-14.247-3.909-3.909-8.851-6.623-14.247-7.823l-96.462-21.468 96.462-21.468c5.396-1.2 10.338-3.914 14.247-7.823 3.909-3.909 6.623-8.851 7.823-14.247l21.468-96.462m252 133l35 35 112-112-35-35-112 112"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},52410:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-edit-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"m0 560l40-120 80 80-120 40m480-560l-400 400 80 80 400-400-80-80"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},54183:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-favorite-empty-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"M280.409154,516 L40.4101704,278.317013 C-13.4700568,224.772577 -13.4700568,137.681549 40.4101704,84.1371127 C94.2619347,30.6209624 181.927598,30.6209624 235.807825,84.1371127 L280.010674,128.064481 L324.18506,84.1371127 C378.065287,30.6209624 465.73095,30.6209624 519.611177,84.1371127 C573.462941,137.681549 573.462941,224.772577 519.611177,278.317013 L280.409154,516 Z M279.611348,451.652619 L479.792832,260.692492 C518.735723,223.398694 525.522119,157.229004 486.579229,119.960019 C448.828204,83.7828011 390.389111,76.569777 338.530931,131.136016 L280,187.188371 L221.443159,131.136016 C165.95959,82.5852498 112.168614,83.7828011 74.4175887,119.960019 C35.4746985,157.229004 41.2642774,223.398694 80.2071677,260.692492 L279.611348,451.652619 Z"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},53191:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-favorite-full-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"M280.409154,516 L40.4101704,278.317013 C-13.4700568,224.772577 -13.4700568,137.681549 40.4101704,84.1371127 C94.2619347,30.6209624 181.927598,30.6209624 235.807825,84.1371127 L280.010674,128.064481 L324.18506,84.1371127 C378.065287,30.6209624 465.73095,30.6209624 519.611177,84.1371127 C573.462941,137.681549 573.462941,224.772577 519.611177,278.317013 L280.409154,516 Z"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},6081:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-files-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"m480 240l0 240-240 0 0-240 240 0m-40 40l-160 0 0 160 160 0 0-160m-40-120l0 40-200 0 0 200-40 0 0-240 240 0m-80-80l0 40-200 0 0 200-40 0 0-240 240 0"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},85669:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",id:"plex-icon-games-24px"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"M15 7.5V2H9v5.5l3 3 3-3zM7.5 9H2v6h5.5l3-3-3-3zM9 16.5V22h6v-5.5l-3-3-3 3zM16.5 9l-3 3 3 3H22V9h-5.5z"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},46391:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-more-vertical-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"M350 280c0 38.634-31.366 70-70 70s-70-31.366-70-70 31.366-70 70-70 70 31.366 70 70m0-210c0 38.634-31.366 70-70 70s-70-31.366-70-70 31.366-70 70-70 70 31.366 70 70m0 420c0 38.634-31.366 70-70 70s-70-31.366-70-70 31.366-70 70-70 70 31.366 70 70"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},34272:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-reload-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"m280 560c-1.807-.003-3.614-.017-5.421-.052-3.292-.062-6.584-.182-9.873-.359-9.731-.525-19.435-1.554-29.059-3.089-11.735-1.871-23.35-4.493-34.75-7.849-11.774-3.466-23.317-7.714-34.53-12.705-13.924-6.197-27.338-13.54-40.067-21.922-13.116-8.636-25.504-18.374-36.998-29.074-11.686-10.88-22.446-22.753-32.124-35.451-9.55-12.53-18.044-25.862-25.357-39.816-6.195-11.822-11.541-24.088-15.978-36.676-4.407-12.5-7.916-25.316-10.495-38.317-3.569-17.998-5.348-36.343-5.348-54.69 0-12.5.823-25 2.48-37.39 1.885-14.104 4.851-28.063 8.869-41.713 4.106-13.949 9.311-27.574 15.547-40.711 7.129-15.019 15.603-29.397 25.281-42.915 9.786-13.67 20.8-26.46 32.864-38.17 12.674-12.302 26.506-23.411 41.259-33.125 14.39-9.476 29.653-17.622 45.541-24.289 17.483-7.337 35.716-12.877 54.325-16.507 17.427-3.4 35.175-5.122 52.929-5.179 17.775-.056 35.554 1.556 53.023 4.85 18.646 3.516 36.926 8.946 54.466 16.181 15.934 6.572 31.253 14.628 45.705 24.02 14.578 9.474 28.271 20.305 40.854 32.302 1.622 1.546 3.224 3.111 4.808 4.695l82.049-82.049 0 220-220 0 81.382-81.382c-.709-.71-1.423-1.413-2.142-2.112-9.074-8.807-18.975-16.76-29.536-23.715-10.101-6.651-20.804-12.386-31.942-17.1-12.43-5.261-25.396-9.245-38.635-11.871-12.45-2.469-25.133-3.735-37.825-3.816-12.729-.08-25.466 1.027-37.984 3.347-13.29 2.463-26.324 6.29-38.836 11.406-11.386 4.656-22.336 10.374-32.671 17.047-10.456 6.75-20.28 14.475-29.313 23.036-8.883 8.419-17 17.646-24.213 27.534-6.997 9.59-13.143 19.801-18.331 30.479-4.523 9.309-8.318 18.972-11.333 28.873-2.889 9.484-5.061 19.185-6.498 28.995-1.42 9.691-2.123 19.485-2.123 29.279 0 13.333 1.307 26.665 3.942 39.736 1.824 9.049 4.281 17.969 7.35 26.674 3.163 8.971 6.973 17.713 11.389 26.139 5.226 9.973 11.299 19.501 18.124 28.456 6.932 9.096 14.639 17.599 23.009 25.392 7.933 7.385 16.461 14.131 25.477 20.146 8.881 5.924 18.236 11.138 27.949 15.569 7.946 3.624 16.131 6.723 24.485 9.267 8.087 2.463 16.331 4.405 24.666 5.815 6.853 1.159 13.767 1.958 20.704 2.398 2.353.149 4.708.257 7.065.325 1.296.037 2.592.059 3.889.074.65.005 1.301.008 1.951.009l.259 79.999-.259.001"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},53863:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-remove-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"m120 70l-50 50 160 160-160 160 50 50 160-160 160 160 50-50-160-160 160-160-50-50-160 160-160-160"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},39869:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-search-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"M351.883,407.883C315.613,433.168 271.525,448 224,448C100.371,448 0,347.629 0,224C0,100.371 100.371,0 224,0C347.629,0 448,100.371 448,224C448,271.525 433.168,315.613 407.883,351.883L560,504L504,560L351.883,407.883ZM56,224C56,316.722 131.278,392 224,392C316.722,392 392,316.722 392,224C392,131.278 316.722,56 224,56C131.278,56 56,131.278 56,224Z"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},35771:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-selected-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"m78.756 298.564l-40 69.282 242.488 140 240-415.692-69.282-40-200 346.41-173.206-100"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},79501:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-settings-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"m200 280c0 44.153 35.847 80 80 80 44.153 0 80-35.847 80-80 0-44.153-35.847-80-80-80-44.153 0-80 35.847-80 80m-115.992-40c5.189-25.52 15.244-49.281 29.153-70.271l-61.151-61.15 56.569-56.569 61.15 61.151c20.99-13.909 44.751-23.964 70.271-29.153l0-84.008 80 0 0 84.008c25.52 5.189 49.281 15.244 70.271 29.153l61.15-61.151 56.569 56.569-61.151 61.15c13.909 20.99 23.964 44.751 29.153 70.271l84.008 0 0 80-84.008 0c-5.189 25.52-15.244 49.282-29.153 70.271l61.151 61.15-56.569 56.569-61.15-61.151c-20.99 13.909-44.751 23.964-70.271 29.153l0 84.008-80 0 0-84.008c-25.52-5.189-49.281-15.244-70.271-29.153l-61.15 61.151-56.569-56.569 61.151-61.15c-13.909-20.989-23.964-44.751-29.153-70.271l-84.008 0 0-80 84.008 0"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},26253:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-sort-ascending-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"m280 80l-200 200h160v200h80v-200h160l-200-200"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},72373:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-sort-descending-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"m80 280h160v-200h80v200h160l-200 200-200-200"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},62020:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-tagging-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"m252 56l308 308-196 196-308-308 0-196 196 0m-21 42l-133 0 0 133 266 266 133-133-266-266m-49 42c23.18 0 42 18.82 42 42 0 23.18-18.82 42-42 42-23.18 0-42-18.82-42-42 0-23.18 18.82-42 42-42"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o},74739:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),s=n.n(i),r=n(67294),a=n(70809);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-trash-560"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"m238 42c0-23.181 18.82-42 42-42 23.18 0 42 18.82 42 42l182 0 0 42-28 0 0 476-392 0 0-476-28 0 0-42 182 0m196 42l-308 0 0 434 308 0 0-434m-217 56l0 322-42 0 0-322 42 0m84 0l0 322-42 0 0-322 42 0m84 0l0 322-42 0 0-322 42 0"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o}},e=>{"use strict";var t=t=>e(e.s=t);e.O(void 0,[54],(()=>(t(73611),t(15472))))}]);