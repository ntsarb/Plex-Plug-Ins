(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{OG2d:function(e,a,t){e.exports={formContent:"SyncDownloadModal-formContent-1o6jrJ ModalContent-modalContent-UQlV4k"}},mvma:function(e,a,t){"use strict";t.r(a);var n=t("/MKj"),o=t("G4qV"),r=t("hhQi");var c=t("q1tI"),l=t.n(c),s=t("iZkF"),i=t("IIsI"),d=t("wmCi"),u=t("Xo9w"),m=t("deD6"),b=t("ebYq");var p=t("KDda"),S=t("oSTF"),f=t("hOze"),g=t("9wnK"),y=t("8vbc"),O=t("Gkyr"),w=t("Zgl5"),M=t("uif/"),v=t("qNMu"),C=t("66GW"),E=t("Uia1"),j=t("graF"),D=t("DQgx");var h=function(e){const{errorMessage:a,isMediaSubscriptionSaving:t,prefGroups:n,className:o,onModalClose:r,onSubmit:s,...i}=e,d=Object(M.a)(t)&&!t;return Object(c.useEffect)(()=>{d&&!a&&r()},[a,d,r]),l.a.createElement(f.b,{className:o,onSubmit:s},l.a.createElement(w.a,null,Object(C.default)("Download Options")),a?l.a.createElement(j.a,{errorMessage:a}):null,l.a.createElement(g.a,null,l.a.createElement("div",{key:"advanced"},l.a.createElement(D.a,{...i,prefs:n.advanced}))),l.a.createElement(y.a,null,l.a.createElement(O.a,null,l.a.createElement(S.a,{kind:v.c,onPress:r},Object(C.default)("Cancel")),l.a.createElement(E.a,{type:"submit",isSpinning:t,kind:v.d},Object(C.default)("Save")))))};const k=new Set(["autoDeletionItemPolicyUnwatchedLibrary","autoDeletionItemPolicyWatchedLibrary"]),K={dispatchSyncDownloadModalChangeTemplateMode:r.b,dispatchSyncDownloadSaveSubscription:r.e};var G=Object(n.b)((function(){return Object(o.a)((e,{modal:a})=>a,Object(b.a)(),Object(o.a)(e=>e.downloads.states,(e,{modal:a})=>a,(e,a)=>{const{sourceAttr:t,ratingKey:n}=a;return e.some(e=>e.ratingKey===n&&e.sourceAttr===t&&"saving"===e.state)}),m.a,(e,a,t,n)=>{const{hint:o}=a,r=a.target&&n[a.target.metadata],c=Object(p.a)(a.prefs,k);return{errorMessage:e.error,hint:o,isMediaSubscriptionSaving:t,prefGroups:c,target:r}})}),K)((function(e){const{dispatchSyncDownloadModalChangeTemplateMode:a,dispatchSyncDownloadSaveSubscription:t,modal:n,...o}=e,{ratingKey:r,sourceAttr:s}=n,i=Object(c.useCallback)(e=>{const{mode:a,...n}=e;t({prefs:n,ratingKey:r,sourceAttr:s})},[r,s,t]);return l.a.createElement(h,{...o,onSubmit:i})})),I=t("OG2d"),A=t.n(I);var q=function(e){const{isOpen:a,modal:t,onSyncDownloadModalClose:n}=e,{error:o,mediaSubscription:r,ratingKey:m,sourceAttr:b}=t,p=Object(c.useCallback)(()=>{n({ratingKey:m,sourceAttr:b})},[m,b,n]);return l.a.createElement(i.a,{isOpen:a,metricsPage:s.S,onModalClose:p},o&&!r?l.a.createElement(u.a,{message:o,onModalClose:p}):l.a.createElement(d.a,{onModalClose:p},l.a.createElement(G,{className:A.a.formContent,modal:t,mediaSubscriptionEntityID:r,onModalClose:p})))};var N=function(e){return e.modal?l.a.createElement(q,{...e,isOpen:!0}):null};const P=Object(o.a)((function(e){return e.ui.syncDownloadModals}),e=>({modal:e.find(e=>e.isOpen)})),F={onSyncDownloadModalClose:r.c};a.default=Object(n.b)(P,F)(N)}}]);