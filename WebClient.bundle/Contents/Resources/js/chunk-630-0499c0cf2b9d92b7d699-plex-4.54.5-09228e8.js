(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[630],{72025:function(t,e,n){"use strict";var o;function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}var s="undefined"!=typeof window&&window===this?this:void 0!==n.g&&null!=n.g?n.g:this,a="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};function c(t,e){if(e){var n=s;t=t.split(".");for(var o=0;o<t.length-1;o++){var r=t[o];r in n||(n[r]={}),n=n[r]}(e=e(o=n[t=t[t.length-1]]))!=o&&null!=e&&a(n,t,{configurable:!0,writable:!0,value:e})}}function u(){u=function(){},s.Symbol||(s.Symbol=p)}function l(t,e){this.b=t,a(this,"description",{configurable:!0,writable:!0,value:e})}c("Promise",(function(t){function e(t){this.c=0,this.h=void 0,this.b=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.b=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.c=function(t){if(null==this.b){this.b=[];var e=this;this.f((function(){e.h()}))}this.b.push(t)};var r=s.setTimeout;n.prototype.f=function(t){r(t,0)},n.prototype.h=function(){for(;this.b&&this.b.length;){var t=this.b;this.b=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.g(t)}}}this.b=null},n.prototype.g=function(t){this.f((function(){throw t}))},e.prototype.f=function(){function t(t){return function(o){n||(n=!0,t.call(e,o))}}var e=this,n=!1;return{resolve:t(this.s),reject:t(this.g)}},e.prototype.s=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.u(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.o(t):this.i(t)}},e.prototype.o=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.w(e,t):this.i(t)},e.prototype.g=function(t){this.j(2,t)},e.prototype.i=function(t){this.j(1,t)},e.prototype.j=function(t,e){if(0!=this.c)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.c);this.c=t,this.h=e,this.l()},e.prototype.l=function(){if(null!=this.b){for(var t=0;t<this.b.length;++t)a.c(this.b[t]);this.b=null}};var a=new n;return e.prototype.u=function(t){var e=this.f();t.A(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function o(t,e){return"function"==typeof t?function(e){try{r(t(e))}catch(t){i(t)}}:e}var r,i,s=new e((function(t,e){r=t,i=e}));return this.A(o(t,r),o(n,i)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.A=function(t,e){function n(){switch(o.c){case 1:t(o.h);break;case 2:e(o.h);break;default:throw Error("Unexpected state: "+o.c)}}var o=this;null==this.b?a.c(n):this.b.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).A(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).A(i(s.length-1),e),r=n.next()}while(!r.done)}))},e})),l.prototype.toString=function(){return this.b};var f,p=(f=0,function t(e){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new l("jscomp_symbol_"+(e||"")+"_"+f++,e)});function h(){u();var t=s.Symbol.iterator;t||(t=s.Symbol.iterator=s.Symbol("Symbol.iterator")),"function"!=typeof Array.prototype[t]&&a(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return function(t){return h(),(t={next:t})[s.Symbol.iterator]=function(){return this},t}(r(this))}}),h=function(){}}function d(){this.g=!1,this.c=null,this.i=void 0,this.b=1,this.l=this.h=0,this.f=null}function g(t){if(t.g)throw new TypeError("Generator is already running");t.g=!0}function b(t,e){t.f={I:e,ea:!0},t.b=t.h||t.l}function m(t,e,n){return t.b=n,{value:e}}function y(t){this.b=new d,this.c=t}function v(t,e,n,o){try{var r=e.call(t.b.c,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return t.b.g=!1,r;var i=r.value}catch(e){return t.b.c=null,b(t.b,e),w(t)}return t.b.c=null,o.call(t.b,i),w(t)}function w(t){for(;t.b.b;)try{var e=t.c(t.b);if(e)return t.b.g=!1,{value:e.value,done:!1}}catch(e){t.b.i=void 0,b(t.b,e)}if(t.b.g=!1,t.b.f){if(e=t.b.f,t.b.f=null,e.ea)throw e.I;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function S(t){this.next=function(e){return g(t.b),t.b.c?e=v(t,t.b.c.next,e,t.b.j):(t.b.j(e),e=w(t)),e},this.throw=function(e){return g(t.b),t.b.c?e=v(t,t.b.c.throw,e,t.b.j):(b(t.b,e),e=w(t)),e},this.return=function(e){return function(t,e){g(t.b);var n=t.b.c;return n?v(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.b.return):(t.b.return(e),w(t))}(t,e)},h(),this[Symbol.iterator]=function(){return this}}function L(t){return function(t){function e(e){return t.next(e)}function n(e){return t.throw(e)}return new Promise((function(o,r){!function t(i){i.done?o(i.value):Promise.resolve(i.value).then(e,n).then(t,r)}(t.next())}))}(new S(new y(t)))}function N(t,e){if(null==t)throw new TypeError("The 'this' value for String.prototype."+e+" must not be null or undefined");return t+""}function R(t,e,n,o){return n=o?n.bind(o):n,t.addEventListener(e,n),[t,e,n]}function E(t){for(var e=(t=i(t)).next();!e.done;e=t.next())(e=e.value)[0].removeEventListener(e[1],e[2])}d.prototype.j=function(t){this.i=t},d.prototype.return=function(t){this.f={return:t},this.b=this.l},c("Object.entries",(function(t){return t||function(t){var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push([e,t[e]]);return n}})),c("Array.from",(function(t){return t||function(t,e,n){e=null!=e?e:function(t){return t};var o=[],r="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];if("function"==typeof r){t=r.call(t);for(var i=0;!(r=t.next()).done;)o.push(e.call(n,r.value,i++))}else for(r=t.length,i=0;i<r;i++)o.push(e.call(n,t[i],i));return o}})),c("String.prototype.repeat",(function(t){return t||function(t){var e=N(this,"repeat");if(0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var n="";t;)1&t&&(n+=e),(t>>>=1)&&(e+=e);return n}})),c("String.prototype.padStart",(function(t){return t||function(t,e){var n=N(this,"padStart");return t-=n.length,e=void 0!==e?String(e):" ",(0<t&&e?e.repeat(Math.ceil(t/e.length)).substring(0,t):"")+n}}));var C={PARSEC_OK:0,PARSEC_CONNECTING:20,CONNECT_WRN_APPROVAL:6,CONNECT_WRN_DECLINED:8,CONNECT_WRN_PEER_GONE:99,CONNECT_WRN_UNCONFIRMED:100,PARSEC_NOT_RUNNING:-3,WS_ERR_CONNECT:-6101,WS_ERR_CLOSE:-6105,NAT_ERR_WEBRTC:-6200},D={All:255,None:0,Gamepad:1,Mouse:2,Keyboard:4},k={KeyA:4,KeyB:5,KeyC:6,KeyD:7,KeyE:8,KeyF:9,KeyG:10,KeyH:11,KeyI:12,KeyJ:13,KeyK:14,KeyL:15,KeyM:16,KeyN:17,KeyO:18,KeyP:19,KeyQ:20,KeyR:21,KeyS:22,KeyT:23,KeyU:24,KeyV:25,KeyW:26,KeyX:27,KeyY:28,KeyZ:29,Digit1:30,Digit2:31,Digit3:32,Digit4:33,Digit5:34,Digit6:35,Digit7:36,Digit8:37,Digit9:38,Digit0:39,Enter:40,Escape:41,Backspace:42,Tab:43,Space:44,Minus:45,Equal:46,BracketLeft:47,BracketRight:48,Backslash:49,Semicolon:51,Quote:52,Backquote:53,Comma:54,Period:55,Slash:56,CapsLock:57,F1:58,F2:59,F3:60,F4:61,F5:62,F6:63,F7:64,F8:65,F9:66,F10:67,F11:68,F12:69,PrintScreen:70,ScrollLock:71,Pause:72,Insert:73,Home:74,PageUp:75,Delete:76,End:77,PageDown:78,ArrowRight:79,ArrowLeft:80,ArrowDown:81,ArrowUp:82,NumLock:83,NumpadDivide:84,NumpadMultiply:85,NumpadEnter:86,NumpadPlus:87,NumpadMinus:88,Numpad1:89,Numpad2:90,Numpad3:91,Numpad4:92,Numpad5:93,Numpad6:94,Numpad7:95,Numpad8:96,Numpad9:97,Numpad0:98,NumpadPeriod:99,ContextMenu:101,ControlLeft:224,ShiftLeft:225,AltLeft:226,MetaLeft:227,ControlRight:228,ShiftRight:229,AltRight:230,MetaRight:231},P={0:0,1:1,2:2,3:3,4:9,5:10,8:4,9:6,10:7,11:8,12:11,13:12,14:13,15:14};function B(t,e,n){var o=this;this.g=t,this.f=e,this.h=n,this.b={},this.c=setInterval((function(){for(var t=navigator.getGamepads(),e=0;4>e;e++)if(t[e]){var n=o.b[e];n||(n=o.b[e]={axes:[],buttons:[]});for(var r=0;r<t[e].buttons.length;r++){var i=t[e].buttons[r].value;void 0!==n.buttons[r]&&n.buttons[r]!==i&&o.g(e,r,i),n.buttons[r]=i}for(r=0;r<t[e].axes.length;r++)i=t[e].axes[r],.05>Math.abs(i)&&(i=0),void 0!==n.axes[r]&&n.axes[r]!==i&&o.f(e,r,i),n.axes[r]=i}else o.b[e]&&(delete o.b[e],o.h(e))}),20)}function A(t,e){this.b=t,this.f=e,this.block=this.h=this.o=!1,this.c=[],this.l=null,this.i={},this.g=null,this.s=0,this.j=[]}function _(t){E(t.c),t.c=[],t.l&&t.l.m()}B.prototype.m=function(){clearInterval(this.c)},(o=A.prototype).F=function(t){if(!this.block){var e="mousedown"===t.type,n=0;if(document.pointerLockElement||this.o&&t.target.requestPointerLock(),e&&0===t.button&&t.ctrlKey&&t.shiftKey)t.target.requestPointerLock();else{switch(t.button){case 0:n=1;break;case 1:n=2;break;case 2:n=3;break;case 3:n=4;break;case 4:n=5}this.f({type:2,button:n,pressed:!!e})}}},o.M=function(t){t.preventDefault()},o.P=function(t){if(!this.block){var e=0;if(document.pointerLockElement){e=1;var n=t.movementX;t=t.movementY}else n=t.clientX,t=t.clientY;this.f({type:4,relative:!!e,x:n,y:t})}},o.S=function(t){this.block||this.f({type:3,x:t.deltaX/-100,y:t.deltaY/-100})},o.D=function(t){if(!this.block){var e=k[t.code];if(e){t.preventDefault();var n=0;t.shiftKey&&(n|=3),t.ctrlKey&&(n|=192),t.altKey&&(n|=768),t.metaKey&&(n|=3072),t.getModifierState("NumLock")&&(n|=4096),t.getModifierState("CapsLock")&&(n|=8192),this.f({type:1,code:e,mod:n,pressed:"keydown"==t.type})}}},o.N=function(t,e,n){this.block||(6===e||7===e?this.C(t,e-2,n):void 0!==(e=P[e])&&this.f({type:5,button:e,id:t,pressed:!!n}))},o.C=function(t,e,n){this.block||this.f({type:6,axis:e,id:t,value:0<n?32767*n:32768*n})},o.O=function(t){this.f({type:7,id:t})},o.R=function(){if(!document.pointerLockElement&&!this.h){var t={type:1,code:k.Escape,mod:0,pressed:!0};this.f(t),t.pressed=!1,this.f(t)}this.h=!1},o.m=function(){_(this);var t=document.querySelector("head");if(this.j)for(var e=i(this.j),n=e.next();!n.done;n=e.next())t.removeChild(n.value);this.g&&this.b.classList.remove(this.g),this.b.style.cursor="",document.pointerLockElement&&(this.h=!0,document.exitPointerLock())};var T=1e3/60/1e3,I=(/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)?200:100)/1e3;function O(t,e){t.playbackRate=e,t.play().catch((function(){}))}function x(t,e,n){var o=this;this.b=t,this.l=!0,this.type=e,this.s=n,this.f=this.c=null,this.o='video/mp4; codecs="avc1.64001e"'===this.type,this.g=[],this.j=[],this.h=null,this.i=0,this.w=function(){var t=o.b.seekable;if(t&&0<t.length){var e=(t=t.end(0))-o.b.currentTime;'video/mp4; codecs="avc1.64001e"'===o.type?(o.i=e>.025?o.i+1:0,60<o.i&&1==o.b.playbackRate?O(o.b,e>3*T?10:1.25):e<T&&1!=o.b.playbackRate&&O(o.b,1)):e>3*I?o.b.currentTime=t+1e3:e>1.5*I&&1==o.b.playbackRate?O(o.b,10):e<I&&10==o.b.playbackRate&&O(o.b,1)}}}function M(t){t.f=new MediaSource,t.b.src=URL.createObjectURL(t.f),t.b.load(),t.g.push(R(t.b,"error",(function(){console.error(t.b.error.message)}),null)),t.g.push(R(t.f,"sourceopen",(function(){t.c=t.f.addSourceBuffer(t.type),t.c.mode="sequence",t.g.push(R(t.c,"update",t.u,t)),t.b.play().catch((function(){})),t.h=setInterval(t.w,1)}),null))}function Z(t,e){e=new Uint8Array(e),'audio/mp4; codecs="opus"'===t.type&&t.l&&(t.l=!1,M(t)),'video/mp4; codecs="avc1.64001e"'===t.type&&102===e[4]&&(t.m(),M(t),t.o=!1),t.o||(t.j.push(e),t.u())}function G(t,e,n,o){var r=new ArrayBuffer(13),i=new DataView(r);return i.setInt32(0,e),i.setInt32(4,n),i.setInt32(8,o),i.setInt8(12,t),r}function K(t,e,n){var o=new ArrayBuffer(13+n.length+1),r=n.length+1,i=new DataView(o);for(i.setInt32(0,r),i.setInt32(4,e),i.setInt32(8,0),i.setInt8(12,t),t=(new TextEncoder).encode(n),e=new Int8Array(o,13),r=0;r<n.length;r++)e[r]=t[r];return o}x.prototype.u=function(){if(0<this.j.length&&this.c&&!this.c.updating)try{var t=this.j.shift();this.c.appendBuffer(t)}catch(t){console.warn(t),this.m(),this.s&&this.s()}},x.prototype.m=function(){this.h&&clearInterval(this.h),this.b.pause(),E(this.g),this.f&&(this.c&&(this.f.removeSourceBuffer(this.c),this.c=null),this.f.endOfStream(),URL.revokeObjectURL(this.b.src),this.f=null),this.b.src="",'video/mp4; codecs="avc1.64001e"'===this.type&&this.b.load(),this.l=!0,this.o='video/mp4; codecs="avc1.64001e"'===this.type,this.g=[],this.j=[],this.h=null,this.i=0};var j={},U=1;function q(t){var e=U++;return j[e]=t,e}function F(t){var e=t.getInt16(32),n=t.getInt32(16),o=0<n?new Uint8Array(t.buffer,34,n-1):null;return o=o?q(o):0,{type:1,cursor:{size:n,positionX:t.getInt16(24),positionY:t.getInt16(26),width:t.getInt16(20),height:t.getInt16(22),hotX:t.getInt16(28),hotY:t.getInt16(30),modeUpdate:!0,imageUpdate:0<o,relative:!!(256&e),hidden:!!(512&e),png:!0},key:o}}function W(t){var e=this;this.l=t,this.i=!1,this.j="",this.h=!1,this.b=this.sdp=null,this.c={},this.g=[],this.f=null,this.b=new RTCPeerConnection({iceServers:[{urls:"stun:stun.parsec.gg:3478"}]}),this.b.onicecandidate=function(t){t.candidate&&"udp"===(t=t.candidate.candidate.replace("candidate:","").split(" "))[2].toLowerCase()&&e.l(t[4],parseInt(t[5],10),!1,"srflx"===t[7],"host"===t[7])}}function X(t,e,n,o,r){t.c[n]=t.b.createDataChannel(e,{negotiated:!0,id:n}),t.c[n].binaryType="arraybuffer",t.c[n].onopen=o,t.c[n].onmessage=r}function Y(t){for(;0<t.g.length;){var e=t.g.shift();t.b.addIceCandidate(new RTCIceCandidate({candidate:"candidate:2395300328 1 udp 2113937151 "+e.ip+" "+e.port+" typ "+(e.from_stun?"srflx":"host")+" generation 0 ufrag "+t.j+" network-cost 50",sdpMid:t.sdp.a.mid,sdpMLineIndex:0}))}}function V(t,e){this.c=e,this.g=t,this.f="",this.b=null,this.h=[],this.i=this.j=!1,this.timeout=null}function z(t,e){t.b&&(e=JSON.stringify(e),t.b.readyState==WebSocket.OPEN?t.b.send(e):t.h.push(e))}function H(t,e,n){var o=this;this.status=C.PARSEC_NOT_RUNNING,this.w=performance.now(),this.L={encodeLatency:0,decodeLatency:0,networkLatency:0},this.f=[],this.c=this.signal=this.b=null,this.j=[],this.i="",this.video=t,this.ga=n||t,this.g=D.None,this.s=[],this.o={},this.u=0,this.l=new x(e,'audio/mp4; codecs="opus"',null),this.h=new x(t,'video/mp4; codecs="avc1.64001e"',(function(){o.b&&o.b.send(G(13,0,0,0),0)})),this.j.push(R(window,"beforeunload",(function(){return o.m(),null}),null))}function J(t,e){if(t.signal&&t.status==C.PARSEC_CONNECTING){var n=t.signal;z(n,{action:"offer_cancel",version:1,payload:{to:n.f,attempt_id:n.g}})}t.signal&&(t.signal.close(1e3),t.signal=null),e!=C.PARSEC_OK&&(t.b&&t.status==C.PARSEC_OK&&t.b.send(G(10,0,0,0),0),t.b&&(t.b.close(),t.b=null),t.h.m(),t.l.m(),t.c&&(t.c.m(),t.c=null)),t.status=e,t.s=[],t.o={},t.u=0}W.prototype.close=function(){for(var t=i(Object.entries(this.c)),e=t.next();!e.done;e=t.next())e.value[1].close();this.b.close()},W.prototype.send=function(t,e){"open"==this.c[e].readyState&&this.c[e].send(t)},V.prototype.close=function(t){this.i=!0,this.b&&(this.b.close(t),this.b=null),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},(o=H.prototype).m=function(){E(this.j),this.G()},o.fa=function(){},o.da=function(){return this.i},o.J=function(t){var e=j[t];return null!=e&&delete j[t],null==e?null:e},o.K=function(t){if(this.g=t,this.c){var e=this.c;_(e),t&D.Gamepad&&(e.l=new B(e.N.bind(e),e.C.bind(e),e.O.bind(e))),t&D.Mouse&&(e.c.push(R(e.b,"mousedown",e.F,e)),e.c.push(R(e.b,"mouseup",e.F,e)),e.c.push(R(e.b,"contextmenu",e.M,e)),e.c.push(R(e.b,"mousemove",e.P,e)),e.c.push(R(e.b,"wheel",e.S,e)),e.c.push(R(document,"pointerlockchange",e.R,e))),t&D.Keyboard&&(e.c.push(R(window,"keyup",e.D,e)),e.c.push(R(window,"keydown",e.D,e)))}},o.U=function(t,e,n){var o,r,s,a,c,u=this;return L((function(l){if(1==l.b)return u.status!=C.PARSEC_NOT_RUNNING?l.return():(u.status=C.PARSEC_CONNECTING,j={},U=1,u.l.m(),u.h.m(),u.f=[],u.i=function(){for(var t=[],e=new Uint8Array(4),n=0;6>n;n++)crypto.getRandomValues(e),t.push(Array.from(e).map((function(t){return t.toString(16).padStart(2,"0")})).join(""));return t.join("-")}(),u.signal=new V(u.i,(function(t){J(u,t)})),o=function(t,e,n,o,r){if(u.signal){var i=u.signal;z(i,{action:"candex",version:1,payload:{to:i.f,attempt_id:i.g,data:{ver_data:1,ip:t,port:e,lan:r,from_stun:o,sync:n}}})}},r=function(){u.j.push(R(document,"visibilitychange",(function(){document.hidden?(u.h.m(),u.b&&u.b.send(G(19,0,0,0),0)):u.b&&u.b.send(G(13,0,0,0),0)}),null));var t=window.screen.width,e=window.screen.height;(800>t||600>e||1920<t||1080<e)&&(t=1920,e=1080),u.b&&u.b.send(function(t,e){return K(11,0,t=JSON.stringify({_version:1,_max_w:6e4,_max_h:6e4,_flags:0,resolutionX:t,resolutionY:e,refreshRate:60,mediaContainer:2}))}(t,e),0),J(u,C.PARSEC_OK)},u.b=new W(o),X(u.b,"control",0,r,(function(t){u.w=performance.now();var e={v:(t=new DataView(t.data)).getInt32(0),B:t.getInt32(4),ca:t.getInt32(8),type:t.getInt8(12)};switch(e.type){case 10:u.status=e.v;break;case 21:u.L={encodeLatency:parseFloat(e.B)/1e3,decodeLatency:0,networkLatency:0,packetsSent:0,fastRTs:0,slowRTs:0,bitrate:0};break;case 20:u.g&D.Gamepad||u.f.push({type:2,gamepadID:e.v,motorBig:e.B,motorSmall:e.ca});break;case 16:u.f.push({type:e.v?4:5});break;case 28:u.u=e.v;break;case 17:u.f.push(function(t,e){return e=q(new Uint8Array(e.buffer,13,t.v)),{type:3,id:t.B,key:e}}(e,t));break;case 9:u.g&D.Mouse?u.c&&function(t,e,n){if(t.b.style.cursor=e.cursor.hidden?"none":"",t.o=e.cursor.relative,t.o?t.b.requestPointerLock():document.pointerLockElement&&(t.h=!0,document.exitPointerLock()),e.cursor.imageUpdate){n=n(e.key),n=btoa(String.fromCharCode.apply(String,n instanceof Array?n:function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(i(n))));var o=e.cursor.hotX;if(e=e.cursor.hotY,!t.i[n]){t.i[n]="cursor-x-"+t.s;var r=document.createElement("style");r.type="text/css",r.innerHTML=".cursor-x-"+t.s+++" {cursor: url(data:image/png;base64,"+n+") "+o+" "+e+", auto;}",document.querySelector("head").appendChild(r),t.j.push(r)}t.g&&t.b.classList.remove(t.g),t.b.classList.add(t.i[n]),t.g=t.i[n]}}(u.c,F(t),(function(t){return u.J(t)})):u.f.push(F(t));break;case 25:t=function(t,e){e=JSON.parse(new TextDecoder("utf-8").decode(new Uint8Array(e.buffer,13,t.v-1)));for(var n={},o=0;o<e.length;o++)e[o].id==t.B&&(n=e[o]);return{list:e,me:n}}(e,t),u.s=t.list,u.o=t.me}})),X(u.b,"video",1,null,(function(t){Z(u.h,t.data)})),X(u.b,"audio",2,null,(function(t){Z(u.l,t.data)})),m(l,function(t){var e;return L((function(n){if(1==n.b)return e=t,m(n,t.b.createOffer(),2);e.f=n.i;for(var o=t.f.sdp.split("\n"),r={},i=0;i<o.length;i++){var s=o[i].split("="),a=s[0];s=s[1],a&&("a"===a?(r.a||(r.a={}),a=s.split(/:(.+)/),r.a[a[0]]=a[1]):r[a]=s)}return t.sdp=r,n.return({ice_ufrag:t.sdp.a["ice-ufrag"],ice_pwd:t.sdp.a["ice-pwd"],fingerprint:t.sdp.a.fingerprint})}))}(u.b),2));s=l.i,a=function(t,e,n){u.b&&function(t,e,n,o){var r,i;L((function(s){switch(s.b){case 1:if(!t.f)throw"Offer is not set";if(t.h){s.b=0;break}return t.j=e,m(s,t.b.setLocalDescription(t.f),3);case 3:s.h=4;var a=t.sdp.a.mid;return r="v=0\r\no=- "+function(){var t=new Uint8Array(16);return crypto.getRandomValues(t),t.map((function(t){return t%10})).join("")}()+" 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE "+a+"\r\na=msid-semantic: WMS *\r\nm=application 9 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\nb=AS:30\r\na=ice-ufrag:"+e+"\r\na=ice-pwd:"+n+"\r\na=ice-options:trickle\r\na=fingerprint:"+o+"\r\na=setup:active\r\na=mid:"+a+"\r\na=sendrecv\r\na=sctpmap:5000 webrtc-datachannel 256\r\na=max-message-size:1073741823\r\n",m(s,t.b.setRemoteDescription(new RTCSessionDescription({type:"answer",sdp:r})),6);case 6:s.b=5,s.h=0;break;case 4:s.h=0,a=s.f.I,s.f=null,i=a,console.log(i);case 5:t.i&&Y(t),t.h=!0,s.b=0}}))}(u.b,t,e,n)},c=function(t,e,n,o){u.b&&function(t,e,n,o,r){o?(t.i=!0,setTimeout((function(){t.l("1.2.3.4",1234,!0,!1,!1)}),500)):t.g.push({ip:e.replace("::ffff:",""),port:n,from_stun:r}),t.h&&t.i&&Y(t)}(u.b,t,e,n,o)},u.signal&&function(t,e,n,o,r,i,s){t.b=new WebSocket("wss://kessel-ws.parsecgaming.com:443/?session_id="+e+"&role=client&version=1&sdk_version=0"),t.f=n,t.b.onclose=function(){t.i||t.c(C.WS_ERR_CLOSE)},t.b.onerror=function(){t.c(C.WS_ERR_CONNECT)},t.b.onopen=function(){for(;0<t.h.length;)t.b.send(t.h.shift());z(t,{action:"offer",version:1,payload:{to:t.f,attempt_id:t.g,secret:o||"",data:{ver_data:1,creds:r,mode:2,versions:{p2p:1,bud:1,init:1,video:1,audio:1,control:1}}}}),t.timeout=setTimeout((function(){t.c(C.CONNECT_WRN_APPROVAL)}),3e4)},t.b.onmessage=function(e){switch((e=JSON.parse(e.data)).action){case"answer_relay":if(t.j=!0,!e.payload.approved){t.c(C.CONNECT_WRN_DECLINED);break}t.timeout&&clearTimeout(t.timeout),t.timeout=setTimeout((function(){t.c(C.NAT_ERR_WEBRTC)}),1e4),e=e.payload.data.creds,i(e.ice_ufrag,e.ice_pwd,e.fingerprint);break;case"candex_relay":e=e.payload.data,s(e.ip,e.port,e.sync,e.from_stun);break;case"close":var n=C.WS_ERR_CLOSE;switch(e.payload.reason){case"HOST_NOT_FOUND":n=C.CONNECT_WRN_PEER_GONE;break;case"USER_UNCONFIRMED":n=C.CONNECT_WRN_UNCONFIRMED}t.c(n)}}}(u.signal,t,e,n,s,a,c),u.c||(u.c=new A(u.ga,(function(t){u.H(t)})),u.K(u.g)),l.b=0}))},o.Z=function(){return this.status},o.Y=function(){return this.o},o.W=function(){return this.u},o.V=function(){return this.s},o.G=function(){J(this,C.PARSEC_NOT_RUNNING)},o.ba=function(t,e){this.b&&this.status==C.PARSEC_OK&&this.b.send(K(17,t,e),0)},o.H=function(t){this.b&&this.status==C.PARSEC_OK&&this.b.send(function(t,e){switch(t.type){case 4:if(!t.relative){var n=e.videoWidth,o=e.videoHeight,r=e.offsetWidth,i=e.offsetHeight,s=Math.min(r/n,i/o);e=n*s,s*=o,i=Math.max((i-s)/2,0),(r=Math.round(n/e*(t.x-Math.max((r-e)/2,0))))===n-1&&(r=n),r>n&&(r=n),0>r&&(r=0),t.x=r,(n=Math.round(o/s*(t.y-i)))===o-1&&(n=o),n>o&&(n=o),0>n&&(n=0),t.y=n}return G(3,t.relative?1:0,t.x,t.y);case 2:return G(1,t.button,t.pressed?1:0,0);case 1:return G(0,t.code,t.mod,t.pressed?1:0);case 3:return G(2,t.x,t.y,0);case 5:return G(4,t.button,t.pressed?1:0,t.id);case 6:return G(5,t.axis,t.value,t.id);case 7:return G(6,0,0,t.id);case 9:return G(24,0,0,0)}}(t,this.video),0)},o.aa=function(){return this.f.shift()},o.X=function(){return this.L},o.$=function(){return this.status==C.PARSEC_OK&&5e3<performance.now()-this.w},o.T=function(t){this.c&&(this.c.block=t)},H.prototype.destroy=H.prototype.m,H.prototype.setLogCallback=H.prototype.fa,H.prototype.getAttemptID=H.prototype.da,H.prototype.getBuffer=H.prototype.J,H.prototype.handleInput=H.prototype.K,H.prototype.clientConnect=H.prototype.U,H.prototype.clientGetStatus=H.prototype.Z,H.prototype.clientGetSelf=H.prototype.Y,H.prototype.clientGetHostMode=H.prototype.W,H.prototype.clientGetGuests=H.prototype.V,H.prototype.clientDisconnect=H.prototype.G,H.prototype.clientSendUserData=H.prototype.ba,H.prototype.clientSendMessage=H.prototype.H,H.prototype.clientPollEvents=H.prototype.aa,H.prototype.clientGetMetrics=H.prototype.X,H.prototype.clientNetworkFailure=H.prototype.$,H.prototype.clientBlockInput=H.prototype.T,H.prototype.Input=D,H.prototype.Status=C,window.Parsec=H},51630:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>F});var o,r,i,s,a,c,u=n(9669),l=n.n(u),f=n(67294),p=n(69434),h=(n(72025),n(5562)),d=n(93554),g=n(49560);(r=o||(o={}))[r.Keyboard=1]="Keyboard",r[r.MouseButton=2]="MouseButton",r[r.MouseWheel=3]="MouseWheel",r[r.MouseMotion=4]="MouseMotion",r[r.GamepadButton=5]="GamepadButton",r[r.GamepadAxis=6]="GamepadAxis",r[r.GamepadUnplug=7]="GamepadUnplug",r[r.GamepadState=8]="GamepadState",r[r.Release=9]="Release",(s=i||(i={}))[s.A=0]="A",s[s.B=1]="B",s[s.X=2]="X",s[s.Y=3]="Y",s[s.Back=4]="Back",s[s.Guide=5]="Guide",s[s.Start=6]="Start",s[s.LeftStick=7]="LeftStick",s[s.RightStick=8]="RightStick",s[s.LeftShoulder=9]="LeftShoulder",s[s.RightShoulder=10]="RightShoulder",s[s.DPadUp=11]="DPadUp",s[s.DPadDown=12]="DPadDown",s[s.DPadLeft=13]="DPadLeft",s[s.DPadRight=14]="DPadRight",(c=a||(a={}))[c.LeftX=0]="LeftX",c[c.LeftY=1]="LeftY",c[c.RightX=2]="RightX",c[c.RightY=3]="RightY",c[c.LeftTrigger=4]="LeftTrigger",c[c.RightTrigger=5]="RightTrigger";function b(t){const e=new Map;return function(n,o){let r=o;r>0&&r<.3||r<0&&r>-.3?r=0:r>.85?r=1:r<-.85?r=-1:r>0?r-=.3:r<0&&(r+=.3),r<0?r*=32768:r>0&&(r*=32767),r=Math.round(r),t&&(r=t(r));const i=e.get(n)||0;if(!(Math.abs(r-i)<.1)||!r&&i)return e.set(n,r),r}}function m(t){const e=b((t=>t<0?-32768:t>0?32767:t));return(n,r)=>{const i=e(n,r);if(void 0!==i)return{axis:t,id:n,type:o.GamepadAxis,value:i}}}function y(t){const e=b();return(n,r)=>{const i=e(n,r);if(void 0!==i)return{axis:t,id:n,type:o.GamepadAxis,value:i}}}function v(t,e){const n=b();let r;return(i,s)=>{const a=n(i,s),c=0!==a;if(void 0===a)return;let u;if(a<0?u=t:a>0&&(u=e),c&&r===u)return;const l=[];return r&&r!==u&&l.push({button:r,id:i,pressed:!1,type:o.GamepadButton}),r=u,u&&l.push({button:u,id:i,pressed:c,type:o.GamepadButton}),l}}function w(t){return(e,n)=>({button:t,id:e,pressed:0!==n,type:o.GamepadButton})}const S={axes:{[g.pz.Axis0]:y(a.LeftX),[g.pz.Axis1]:y(a.LeftY),[g.pz.Axis2]:y(a.RightX),[g.pz.Axis3]:y(a.RightY)},buttons:{[g.Lw.Button0]:w(i.A),[g.Lw.Button1]:w(i.B),[g.Lw.Button2]:w(i.X),[g.Lw.Button3]:w(i.Y),[g.Lw.Button4]:w(i.LeftShoulder),[g.Lw.Button5]:w(i.RightShoulder),[g.Lw.Button6]:y(a.LeftTrigger),[g.Lw.Button7]:y(a.RightTrigger),[g.Lw.Button8]:w(i.Back),[g.Lw.Button9]:w(i.Start),[g.Lw.Button12]:w(i.DPadUp),[g.Lw.Button13]:w(i.DPadDown),[g.Lw.Button14]:w(i.DPadLeft),[g.Lw.Button15]:w(i.DPadRight)},keys:{[g.VD.KeyX]:w(i.A),[g.VD.KeyZ]:w(i.B),[g.VD.KeyS]:w(i.X),[g.VD.KeyA]:w(i.Y),[g.VD.KeyQ]:w(i.LeftShoulder),[g.VD.KeyW]:w(i.RightShoulder),[g.VD.ShiftRight]:w(i.Back),[g.VD.Enter]:w(i.Start),[g.VD.ArrowUp]:w(i.DPadUp),[g.VD.ArrowDown]:w(i.DPadDown),[g.VD.ArrowLeft]:w(i.DPadLeft),[g.VD.ArrowRight]:w(i.DPadRight)}},L={axes:{[g.pz.Axis0]:v(i.DPadLeft,i.DPadRight),[g.pz.Axis1]:v(i.DPadUp,i.DPadDown)},buttons:{[g.Lw.Button12]:w(i.DPadUp),[g.Lw.Button13]:w(i.DPadDown),[g.Lw.Button14]:w(i.DPadLeft),[g.Lw.Button15]:w(i.DPadRight)},keys:S.keys};var N=Object.assign;const R=N(N({},L),{buttons:N(N({},L.buttons),{[g.Lw.Button0]:w(i.B),[g.Lw.Button1]:w(i.A),[g.Lw.Button8]:w(i.Back),[g.Lw.Button9]:w(i.Start)})});var E=Object.assign;const C=E(E({},L),{buttons:E(E({},L.buttons),{[g.Lw.Button0]:w(i.B),[g.Lw.Button1]:w(i.A),[g.Lw.Button4]:w(i.LeftShoulder),[g.Lw.Button5]:w(i.RightShoulder),[g.Lw.Button8]:w(i.Back),[g.Lw.Button9]:w(i.Start)})});var D=Object.assign;const k=D(D({},L),{buttons:D(D({},L.buttons),{[g.Lw.Button0]:w(i.B),[g.Lw.Button1]:w(i.A),[g.Lw.Button2]:w(i.Y),[g.Lw.Button3]:w(i.B),[g.Lw.Button9]:w(i.Start)})});var P=Object.assign;const B=P(P({},L),{axes:{[g.pz.Axis0]:y(a.LeftX),[g.pz.Axis1]:y(a.LeftY),[g.pz.Axis2]:m(a.RightX),[g.pz.Axis3]:m(a.RightY)},buttons:P(P({},L.buttons),{[g.Lw.Button0]:w(i.B),[g.Lw.Button2]:w(i.Y),[g.Lw.Button4]:w(i.LeftShoulder),[g.Lw.Button5]:w(i.RightShoulder),[g.Lw.Button6]:w(i.Back),[g.Lw.Button7]:w(i.Back),[g.Lw.Button9]:w(i.Start)})});var A=Object.assign;const _=A(A({},L),{buttons:A(A({},L.buttons),{[g.Lw.Button0]:w(i.B),[g.Lw.Button1]:w(i.A),[g.Lw.Button8]:w(i.Back),[g.Lw.Button9]:w(i.Start)})});var T=Object.assign;const I=T(T({},L),{buttons:T(T({},L.buttons),{[g.Lw.Button0]:w(i.B),[g.Lw.Button1]:w(i.A),[g.Lw.Button9]:w(i.Start)})});var O=Object.assign;const x=O(O({},L),{buttons:O(O({},L.buttons),{[g.Lw.Button0]:w(i.B),[g.Lw.Button1]:w(i.A),[g.Lw.Button9]:w(i.B)})});var M=Object.assign;const Z=M(M({},L),{buttons:M(M({},L.buttons),{[g.Lw.Button0]:w(i.B),[g.Lw.Button1]:w(i.A),[g.Lw.Button2]:w(i.Y),[g.Lw.Button3]:w(i.X),[g.Lw.Button4]:w(i.LeftShoulder),[g.Lw.Button5]:w(i.RightShoulder),[g.Lw.Button8]:w(i.Back),[g.Lw.Button9]:w(i.Start)})});var G=n(8824),K=n(63676),j=n(38204);const U=function({inputDevices:t,paused:e,peerID:n,platformTag:o,preventDefault:r,sessionID:i,style:s,volume:a,onConnected:c,onError:u,onPause:l}){const[d,b]=(0,f.useState)(null),[m,y]=(0,f.useState)(null),[v,w]=(0,f.useState)(null),L=(0,f.useCallback)((t=>{let e=null,n=null;if(t){const o=t.appendChild(document.createElement("video"));o.className="ParsecGame-mediaElement-hh8U9x HTMLMedia-mediaElement-2XwlNN",n=t.appendChild(document.createElement("audio")),e=new window.Parsec(o,n,t)}y(n),w(e)}),[]);return(0,f.useEffect)((()=>()=>{v&&(v.destroy(),(0,p.Z)("[Game] Destroyed"))}),[v]),(0,f.useEffect)((()=>{if(!v||!n||!i)return;(0,p.Z)("[Game] Starting status monitor");let t=window.setInterval((()=>{b(v.clientGetStatus())}),250);return(0,p.Z)("[Game] Connecting..."),v.setLogCallback(p.Z),v.handleInput(v.Input.None),v.clientConnect(i,n),()=>{t&&((0,p.Z)("[Game] Stopping status monitor"),t=window.clearInterval(t)),v.clientGetStatus()!==v.Status.PARSEC_CONNECTING&&v.clientGetStatus()!==v.Status.PARSEC_OK||((0,p.Z)("[Game] Disconnecting..."),v.clientDisconnect())}}),[v,n,i]),(0,f.useEffect)((()=>{if(!v)return;const{Status:t}=v;if(c(d===t.PARSEC_OK),null!==d&&d!==t.PARSEC_CONNECTING&&d!==t.PARSEC_OK&&d!==t.PARSEC_NOT_RUNNING){const t=new Error(function(t,e){const{Status:n}=e;switch(t){case n.CONNECT_WRN_PEER_GONE:return(0,h.Z)("Unable to start game session.");case n.CONNECT_WRN_UNCONFIRMED:return(0,h.Z)("Please complete Parsec account email verification.");case n.NAT_ERR_WEBRTC:return(0,h.Z)("Network configuration prevents direct connection to game session.");default:return(0,h.Z)("A critical error occurred.")}}(d,v));t.category=function(t,e){const{Status:n}=e;switch(t){case n.CONNECT_WRN_UNCONFIRMED:return(0,h.Z)("Parsec Account");case n.CONNECT_WRN_PEER_GONE:return(0,h.Z)("Game Server");case n.NAT_ERR_WEBRTC:return(0,h.Z)("Network");default:return(0,h.Z)("Unknown")}}(d,v),t.code=String(d),p.Z.error("[Game] Fatal error!",t),p.Z.error("[Game] Disconnecting..."),v.clientDisconnect(),u(t)}}),[v,d,c,u]),(0,f.useEffect)((()=>{if(!v||d!==v.Status.PARSEC_OK)return;const t=e||r?g.Tk.PauseGame:g.Tk.ResumeGame;(0,p.Z)(`[Game] Sending data: ${t}`),v.clientSendUserData(t,"")}),[d,e,v,r]),(0,f.useEffect)((()=>{if(!v||d!==v.Status.PARSEC_OK||r)return;const e=function(t){switch(t){case"Atari 2600":case"Atari 7800":return R;case"Game Boy":case"Game Boy Color":case"Nintendo Entertainment System":return _;case"Game Boy Advance":return C;case"Nintendo 64":return B;case"Super Nintendo Entertainment System":return Z;case"Sega Master System":return x;case"Sega Game Gear":return I;case"Sega 32X":case"Sega Genesis":return k;default:return S}}(o),n=t.findIndex((t=>t.type===g.MT.Keyboard)),i=(0,K.Z)(((t,o)=>{const r=e.keys[t];if(-1!==n&&r){const t=r(n,o?1:0);if(t){const e=Array.isArray(t)?t:[t];for(const t of e)v.clientSendMessage(t)}}}),(t=>t.key===j.Z.Escape)),s=(0,G.Z)(((n,o,r)=>{const i=t.findIndex((t=>t.index===n.index));if(-1!==i){for(const t of o.changed){const n=e.axes[t];if(n){const e=n(i,o.values.get(t));if(e){const t=Array.isArray(e)?e:[e];for(const e of t)v.clientSendMessage(e)}}}for(const t of r.changed){const n=e.buttons[t];if(n){const e=n(i,r.values.get(t));if(e){const t=Array.isArray(e)?e:[e];for(const e of t)v.clientSendMessage(e)}}}}}));return()=>{i(),s()}}),[d,t,v,o,r]),(0,f.useEffect)((()=>{m&&(m.volume=Math.max(0,Math.min(a/100,1)))}),[m,a]),(0,f.useEffect)((()=>{if(!v)return;const t=()=>{v.clientGetStatus()===v.Status.PARSEC_OK&&v.clientSendUserData(g.Tk.PauseGame,"")},e=()=>{"hidden"===document.visibilityState&&l&&l()};return window.addEventListener("unload",t,!1),document.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("unload",t,!1),document.removeEventListener("visibilitychange",e,!1)}}),[v,l]),f.createElement("div",{style:s,ref:L})};function q({edgeGutterX:t,edgeGutterY:e,gameInputDevices:n,gamePlatformTag:o,gamePreventDefault:r,height:i,isStackedAbove:s,paused:a,placement:c,positionSeconds:u,src:b,volume:m,width:y,onDurationMillisecondsChange:v,onPause:w,onPositionMillisecondsChange:S,onError:L,onTick:N}){const R=(0,f.useRef)(1e3*u),[E,C]=(0,f.useState)(null),[D,k]=(0,f.useState)(null),[P,B]=(0,f.useState)(!1);(0,f.useEffect)((()=>{const t=l().CancelToken.source(),e=Date.now();return(0,p.Z)("[Game] Fetching session identifiers..."),l().get(b,{cancelToken:t.token}).then((t=>{(0,p.Z)(`[Game] Fetched session identifiers in ${(Date.now()-e)/1e3}s`);const{MediaContainer:n}=t.data;(null==n?void 0:n.status)===g.qZ.Ok?k({peerID:n.peerID,sessionID:n.sessionID}):C({core:null==n?void 0:n.core,status:null==n?void 0:n.status,progress:null==n?void 0:n.progress})}),(t=>{const e=l().isCancel(t);p.Z.warn(`[Game] Session identifier request error; cancelled? ${e}`),e||C({status:g.qZ.UnknownFailure})})),()=>{t.cancel()}}),[b]),(0,f.useEffect)((()=>{var t;if(E){const e=new Error(function(t,e){const{core:n,progress:o,status:r}=t;switch(parseInt(r,10)){case g.qZ.AccountLinkageMissing:return(0,h.Z)("Parsec account not found. Ensure that your Plex account is linked to a Parsec account.");case g.qZ.SubscriptionRequired:return(0,h.Z)("An active Plex Arcade subscription is required for game playback.");case g.qZ.PlatformMissing:return(0,h.Z)("The core mapping file is missing the {platform} platform.",{platform:e});case g.qZ.PlatformCoreMappingMissing:return n?(0,h.Z)("The core mapping file is missing the {core} core for {platform}.",{core:n,platform:e}):(0,h.Z)("The core mapping file is missing a core for {platform}.",{platform:e});case g.qZ.PlatformCoreMissing:return n?(0,h.Z)("The core mapping file is missing the {core} core.",{core:n}):(0,h.Z)("The core mapping file is missing a core.");case g.qZ.TranscoderDied:return(0,h.Z)("The game transcoder exited unexpectedly.");case g.qZ.InvalidCoreMappingFile:return(0,h.Z)("The core mapping file is invalid.");case g.qZ.MissingCoreMappingFile:case g.qZ.PlatformCoreMappingFileMissingOrInvalid:return(0,h.Z)("The core mapping file is missing or invalid.");case g.qZ.SessionPeerNeverShowedUp:return(0,h.Z)("Unable to start a game session.");case g.qZ.TranscoderDownloading:return(0,h.Z)("The game transcoder is downloading; {progress}% complete.",{progress:o});case g.qZ.PlatformCoreDownloading:return n?(0,h.Z)("The {core} core for {platform} is downloading; {progress}% complete.",{core:n,platform:e,progress:o}):(0,h.Z)("A core for {platform} is downloading; {progress}% complete.",{platform:e,progress:o});case g.qZ.RomMissing:return(0,h.Z)("Media not found.");default:return(0,h.Z)("An unknown error occurred.")}}(E,o));e.category=function(t){switch(parseInt(t,10)){case g.qZ.AccountLinkageMissing:case g.qZ.SubscriptionRequired:return(0,h.Z)("Account");case g.qZ.PlatformMissing:case g.qZ.PlatformCoreMappingMissing:case g.qZ.PlatformCoreMissing:case g.qZ.InvalidCoreMappingFile:case g.qZ.MissingCoreMappingFile:case g.qZ.PlatformCoreMappingFileMissingOrInvalid:return(0,h.Z)("Game Setup");case g.qZ.TranscoderDied:case g.qZ.SessionPeerNeverShowedUp:case g.qZ.UnknownFailure:case g.qZ.TranscoderDownloading:case g.qZ.PlatformCoreDownloading:case g.qZ.RomMissing:return(0,h.Z)("Game Server");default:return(0,h.Z)("Unknown")}}(E.status),e.code=String(null!=(t=E.status)?t:-1),p.Z.error("[Game] Fatal error!",e),L(e)}}),[E,o,L]),(0,f.useEffect)((()=>{if(!P)return;const t=Date.now(),e=window.setInterval((()=>{const e=Date.now()-t,n=R.current+e,o=Math.floor(n/1e3);S(n),N(o)}),1e3);return v(-1),()=>{window.clearInterval(e)}}),[P,S,v,N]);const A=(0,d.Z)(i,y,c,t,e,s);return f.createElement(U,{inputDevices:n,paused:a,peerID:null==D?void 0:D.peerID,platformTag:o,preventDefault:r,sessionID:null==D?void 0:D.sessionID,style:A,volume:m,onConnected:B,onError:L,onPause:w})}q.defaultProps={positionSeconds:0,volume:100};const F=q}}]);