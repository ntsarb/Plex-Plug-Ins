/*! For license information please see main-179-d8c1966d81b207430e8e-plex-4.59.2-5569e89.js.LICENSE.txt */
(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[179],{76486:(e,t,n)=>{"use strict";e.exports=n.p+"static/b38a559594ac52d049ba.png"},46865:(e,t,n)=>{"use strict";e.exports=n.p+"static/24cb7f1a5e2d0102f05f.png"},57159:(e,t,n)=>{"use strict";e.exports=n.p+"static/479017288a229d836f44.png"},80974:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ic3Ryb2tlLW1pdGVybGltaXQ6MS40MTQyMTtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2UtbGluZWpvaW46cm91bmQiPgogPGNpcmNsZSBpZD0iMCIgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIiBzdHlsZT0iZmlsbDp1cmwoIzMpIi8+CiA8Y2lyY2xlIGlkPSIxIiBjeD0iNTAiIGN5PSI1MCIgcj0iNDciIHN0eWxlPSJmaWxsOnVybCgjNCkiLz4KIDxwYXRoIGlkPSIyIiBkPSJtMzIuOSAxOC44bDE4LjE2MSAwIDIwLjAzOSAzMS4yNS0yMC4wMzkgMzEuMjUtMTguMTYxIDAgMjAuMDM5LTMxLjI1LTIwLjAzOS0zMS4yNSIgc3R5bGU9ImZpbGw6dXJsKCM1KSIvPgogPGRlZnM+CiAgPGxpbmVhckdyYWRpZW50IGlkPSIzIiB4MT0iMTAwIiB4Mj0iMCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICA8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojZjliZTAzIi8+CiAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6I2NjN2IxOSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPGxpbmVhckdyYWRpZW50IGlkPSI0IiB4MT0iOTciIHgyPSIzIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgIDxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiMyODI4MjgiLz4KICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojMWYxZjFmIi8+CiAgPC9saW5lYXJHcmFkaWVudD4KICA8cmFkaWFsR3JhZGllbnQgaWQ9IjUiIGN4PSI2NyIgY3k9IjQ5LjkiIHI9IjU3LjgxMjMiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4bGluazpocmVmPSIjMyIvPgogPC9kZWZzPgo8L3N2Zz4K"},9390:(e,t,n)=>{var r,i,s;s="object"==typeof self&&self.self==self&&self||"object"==typeof n.g&&n.g.global==n.g&&n.g,r=[n(13469),n(19755),t],void 0===(i=function(e,t,n){s.Backbone=function(e,t,n,r){var i=e.Backbone,s=Array.prototype.slice;t.VERSION="1.2.3",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var a=function(e,t,r){n.each(t,(function(t,i){n[i]&&(e.prototype[i]=function(e,t,r){switch(e){case 1:return function(){return n[t](this[r])};case 2:return function(e){return n[t](this[r],e)};case 3:return function(e,i){return n[t](this[r],o(e,this),i)};case 4:return function(e,i,s){return n[t](this[r],o(e,this),i,s)};default:return function(){var e=s.call(arguments);return e.unshift(this[r]),n[t].apply(n,e)}}}(t,i,r))}))},o=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?l(e):n.isString(e)?function(t){return t.get(e)}:e},l=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},c=t.Events={},d=/\s+/,u=function(e,t,r,i,s){var a,o=0;if(r&&"object"==typeof r){void 0!==i&&"context"in s&&void 0===s.context&&(s.context=i);for(a=n.keys(r);o<a.length;o++)t=u(e,t,a[o],r[a[o]],s)}else if(r&&d.test(r))for(a=r.split(d);o<a.length;o++)t=e(t,a[o],i,s);else t=e(t,r,i,s);return t};c.on=function(e,t,n){return p(this,e,t,n)};var p=function(e,t,n,r,i){return e._events=u(m,e._events||{},t,n,{context:r,ctx:e,listening:i}),i&&((e._listeners||(e._listeners={}))[i.id]=i),e};c.listenTo=function(e,t,r){if(!e)return this;var i=e._listenId||(e._listenId=n.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),a=s[i];if(!a){var o=this._listenId||(this._listenId=n.uniqueId("l"));a=s[i]={obj:e,objId:i,id:o,listeningTo:s,count:0}}return p(e,t,r,this,a),this};var m=function(e,t,n,r){if(n){var i=e[t]||(e[t]=[]),s=r.context,a=r.ctx,o=r.listening;o&&o.count++,i.push({callback:n,context:s,ctx:s||a,listening:o})}return e};c.off=function(e,t,n){return this._events?(this._events=u(h,this._events,e,t,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(e,t,r){var i=this._listeningTo;if(!i)return this;for(var s=e?[e._listenId]:n.keys(i),a=0;a<s.length;a++){var o=i[s[a]];if(!o)break;o.obj.off(t,r,this)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var h=function(e,t,r,i){if(e){var s,a=0,o=i.context,l=i.listeners;if(t||r||o){for(var c=t?[t]:n.keys(e);a<c.length;a++){var d=e[t=c[a]];if(!d)break;for(var u=[],p=0;p<d.length;p++){var m=d[p];r&&r!==m.callback&&r!==m.callback._callback||o&&o!==m.context?u.push(m):(s=m.listening)&&0==--s.count&&(delete l[s.id],delete s.listeningTo[s.objId])}u.length?e[t]=u:delete e[t]}return n.size(e)?e:void 0}for(var h=n.keys(l);a<h.length;a++)delete l[(s=l[h[a]]).id],delete s.listeningTo[s.objId]}};c.once=function(e,t,r){var i=u(g,{},e,t,n.bind(this.off,this));return this.on(i,void 0,r)},c.listenToOnce=function(e,t,r){var i=u(g,{},t,r,n.bind(this.stopListening,this,e));return this.listenTo(e,i)};var g=function(e,t,r,i){if(r){var s=e[t]=n.once((function(){i(t,s),r.apply(this,arguments)}));s._callback=r}return e};c.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),r=0;r<t;r++)n[r]=arguments[r+1];return u(y,this._events,e,void 0,n),this};var y=function(e,t,n,r){if(e){var i=e[t],s=e.all;i&&s&&(s=s.slice()),i&&v(i,r),s&&v(s,[t].concat(r))}return e},v=function(e,t){var n,r=-1,i=e.length,s=t[0],a=t[1],o=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,s);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,s,a);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,s,a,o);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t);return}};c.bind=c.on,c.unbind=c.off,n.extend(t,c);var f=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(f.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,r){if(null==e)return this;var i;if("object"==typeof e?(i=e,r=t):(i={})[e]=t,r||(r={}),!this._validate(i,r))return!1;var s=r.unset,a=r.silent,o=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,d=this.changed,u=this._previousAttributes;for(var p in i)t=i[p],n.isEqual(c[p],t)||o.push(p),n.isEqual(u[p],t)?delete d[p]:d[p]=t,s?delete c[p]:c[p]=t;if(this.id=this.get(this.idAttribute),!a){o.length&&(this._pending=r);for(var m=0;m<o.length;m++)this.trigger("change:"+o[m],this,c[o[m]],r)}if(l)return this;if(!a)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t=this._changing?this._previousAttributes:this.attributes,r={};for(var i in e){var s=e[i];n.isEqual(t[i],s)||(r[i]=s)}return!!n.size(r)&&r},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,r=e.success;return e.success=function(n){var i=e.parse?t.parse(n,e):n;if(!t.set(i,e))return!1;r&&r.call(e.context,t,n,e),t.trigger("sync",t,n,e)},R(this,e),this.sync("read",this,e)},save:function(e,t,r){var i;null==e||"object"==typeof e?(i=e,r=t):(i={})[e]=t;var s=(r=n.extend({validate:!0,parse:!0},r)).wait;if(i&&!s){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var a=this,o=r.success,l=this.attributes;r.success=function(e){a.attributes=l;var t=r.parse?a.parse(e,r):e;if(s&&(t=n.extend({},i,t)),t&&!a.set(t,r))return!1;o&&o.call(r.context,a,e,r),a.trigger("sync",a,e,r)},R(this,r),i&&s&&(this.attributes=n.extend({},l,i));var c=this.isNew()?"create":r.patch?"patch":"update";"patch"!==c||r.attrs||(r.attrs=i);var d=this.sync(c,this,r);return this.attributes=l,d},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=e.wait,s=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){i&&s(),r&&r.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var a=!1;return this.isNew()?n.defer(e.success):(R(this,e),a=this.sync("delete",this,e)),i||s(),a},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||j();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.defaults({validate:!0},e))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return!r||(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1)}}),a(f,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var b=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},S={add:!0,remove:!0,merge:!0},I={add:!0,remove:!1},Z=function(e,t,n){n=Math.min(Math.max(n,0),e.length);for(var r=Array(e.length-n),i=t.length,s=0;s<r.length;s++)r[s]=e[s+n];for(s=0;s<i;s++)e[s+n]=t[s];for(s=0;s<r.length;s++)e[s+i+n]=r[s]};n.extend(b.prototype,c,{model:f,initialize:function(){},toJSON:function(e){return this.map((function(t){return t.toJSON(e)}))},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,I))},remove:function(e,t){t=n.extend({},t);var r=!n.isArray(e);e=r?[e]:n.clone(e);var i=this._removeModels(e,t);return!t.silent&&i&&this.trigger("update",this,t),r?i[0]:i},set:function(e,t){if(null!=e){(t=n.defaults({},t,S)).parse&&!this._isModel(e)&&(e=this.parse(e,t));var r=!n.isArray(e);e=r?e?[e]:[]:e.slice();var i=t.at;null!=i&&(i=+i),i<0&&(i+=this.length+1);for(var s,a=[],o=[],l=[],c={},d=t.add,u=t.merge,p=t.remove,m=!1,h=this.comparator&&null==i&&!1!==t.sort,g=n.isString(this.comparator)?this.comparator:null,y=0;y<e.length;y++){s=e[y];var v=this.get(s);if(v){if(u&&s!==v){var f=this._isModel(s)?s.attributes:s;t.parse&&(f=v.parse(f,t)),v.set(f,t),h&&!m&&(m=v.hasChanged(g))}c[v.cid]||(c[v.cid]=!0,a.push(v)),e[y]=v}else d&&(s=e[y]=this._prepareModel(s,t))&&(o.push(s),this._addReference(s,t),c[s.cid]=!0,a.push(s))}if(p){for(y=0;y<this.length;y++)c[(s=this.models[y]).cid]||l.push(s);l.length&&this._removeModels(l,t)}var b=!1,I=!h&&d&&p;if(a.length&&I?(b=this.length!=a.length||n.some(this.models,(function(e,t){return e!==a[t]})),this.models.length=0,Z(this.models,a,0),this.length=this.models.length):o.length&&(h&&(m=!0),Z(this.models,o,null==i?this.length:i),this.length=this.models.length),m&&this.sort({silent:!0}),!t.silent){for(y=0;y<o.length;y++)null!=i&&(t.index=i+y),(s=o[y]).trigger("add",s,this,t);(m||b)&&this.trigger("sort",this,t),(o.length||l.length)&&this.trigger("update",this,t)}return r?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return s.apply(this.models,arguments)},get:function(e){if(null!=e){var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]}},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var r=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),1===r||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){var t=(e=n.extend({parse:!0},e)).success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t.call(e.context,r,n,e),r.trigger("sync",r,n,e)},R(this,e),this.sync("read",this,e)},create:function(e,t){var r=(t=t?n.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;r||this.add(e,t);var i=this,s=t.success;return t.success=function(e,t,n){r&&i.add(e,n),s&&s.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;(t=t?n.clone(t):{}).collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_removeModels:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=this.get(e[r]);if(i){var s=this.indexOf(i);this.models.splice(s,1),this.length--,t.silent||(t.index=s,i.trigger("remove",i,this,t)),n.push(i),this._removeReference(i,t)}}return!!n.length&&n},_isModel:function(e){return e instanceof f},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if("add"!==e&&"remove"!==e||n===this){if("destroy"===e&&this.remove(t,r),"change"===e){var i=this.modelId(t.previousAttributes()),s=this.modelId(t.attributes);i!==s&&(null!=i&&delete this._byId[i],null!=s&&(this._byId[s]=t))}this.trigger.apply(this,arguments)}}}),a(b,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");var P=t.View=function(e){this.cid=n.uniqueId("view"),n.extend(this,n.pick(e,M)),this._ensureElement(),this.initialize.apply(this,arguments)},E=/^(\S+)\s*(.*)$/,M=["model","collection","el","id","attributes","className","tagName","events"];n.extend(P.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var r=e[t];if(n.isFunction(r)||(r=this[r]),r){var i=t.match(E);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,r,i){var s=C[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var a={type:s,dataType:"json"};if(i.url||(a.url=n.result(r,"url")||j()),null!=i.data||!r||"create"!==e&&"update"!==e&&"patch"!==e||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){a.type="POST",i.emulateJSON&&(a.data._method=s);var o=i.beforeSend;i.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",s),o)return o.apply(this,arguments)}}"GET"===a.type||i.emulateJSON||(a.processData=!1);var l=i.error;i.error=function(e,t,n){i.textStatus=t,i.errorThrown=n,l&&l.call(i.context,e,t,n)};var c=i.xhr=t.ajax(n.extend(a,i));return r.trigger("request",r,c,i),c};var C={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var w=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},D=/\((.*?)\)/g,T=/(\(\?)?:\w+/g,O=/\*\w+/g,x=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(w.prototype,c,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var s=this;return t.history.route(e,(function(n){var a=s._extractParameters(e,n);!1!==s.execute(i,a,r)&&(s.trigger.apply(s,["route:"+r].concat(a)),s.trigger("route",r,a),t.history.trigger("route",s,r,a))})),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(x,"\\$&").replace(D,"(?:$1)?").replace(T,(function(e,t){return t?e:"([^/?]+)"})).replace(O,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,(function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null}))}});var A=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},N=/^[#\/]|\s+$/g,k=/^\/+|\/+$/g,L=/#.*$/;A.started=!1,n.extend(A.prototype,c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(N,"")},start:function(e){if(A.started)throw new Error("Backbone.history has already been started");if(A.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(k,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var s=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),A.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,(function(t){if(t.route.test(e))return t.callback(e),!0})))},navigate:function(e,t){if(!A.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+e;e=e.replace(L,"");var i=this.decodeFragment(e);if(this.fragment!==i){if(this.fragment=i,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var s=this.iframe.contentWindow;t.replace||(s.document.open(),s.document.close()),this._updateHash(s.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new A;f.extend=b.extend=w.extend=P.extend=A.extend=function(e,t){var r,i=this;r=e&&n.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,t);var s=function(){this.constructor=r};return s.prototype=i.prototype,r.prototype=new s,e&&n.extend(r.prototype,e),r.__super__=i.prototype,r};var j=function(){throw new Error('A "url" property or function must be specified')},R=function(e,t){var n=t.error;t.error=function(r){n&&n.call(t.context,e,r,t),e.trigger("error",e,r,t)}};return t}(s,n,e,t)}.apply(t,r))||(e.exports=i)},38767:function(e,t,n){var r,i,s,a;r=n(13469),i=n(9390),e.exports=(s=r,(a=i).ChildViewContainer=function(e,t){var n=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};return t.extend(n.prototype,{add:function(e,t){var n=e.cid;return this._views[n]=e,e.model&&(this._indexByModel[e.model.cid]=n),t&&(this._indexByCustom[t]=n),this._updateLength(),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var n=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,(function(e,t){if(e===n)return delete this._indexByCustom[t],!0}),this),delete this._views[n],this._updateLength(),this},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,n){t.each(this._views,(function(r){t.isFunction(r[e])&&r[e].apply(r,n||[])}))},_updateLength:function(){this.length=t.size(this._views)}}),t.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],(function(e){n.prototype[e]=function(){var n=[t.values(this._views)].concat(t.toArray(arguments));return t[e].apply(t,n)}})),n}(0,s),a.ChildViewContainer)},37434:function(e,t,n){var r,i,s;i=n(13469),s=n(9390),n(96790),n(38767),e.exports=(function(e,t,n){"use strict";var r={};t.Marionette=r,r.$=t.$;var i=Array.prototype.slice;function s(e,t){var n=new Error(e);throw n.name=t||"Error",n}r.extend=t.Model.extend,r.getOption=function(e,t){if(e&&t)return e.options&&t in e.options&&void 0!==e.options[t]?e.options[t]:e[t]},r.normalizeMethods=function(e){var t,r={};return n.each(e,(function(e,i){t=e,n.isFunction(t)||(t=this[t]),t&&(r[i]=t)}),this),r},r.triggerMethod=function(){var e=/(^|:)(\w)/gi;function t(e,t,n){return n.toUpperCase()}return function(r){var i=this["on"+r.replace(e,t)];if(n.isFunction(this.trigger)&&this.trigger.apply(this,arguments),n.isFunction(i))return i.apply(this,n.tail(arguments))}}(),r.MonitorDOMRefresh=function(e){function t(t){t._isShown&&t._isRendered&&function(t){return e.contains(t.el)}(t)&&n.isFunction(t.triggerMethod)&&t.triggerMethod("dom:refresh")}return function(e){e.listenTo(e,"show",(function(){!function(e){e._isShown=!0,t(e)}(e)})),e.listenTo(e,"render",(function(){!function(e){e._isRendered=!0,t(e)}(e)}))}}(document.documentElement),function(e){function t(e,t,r,i){var a=i.split(/\s+/);n.each(a,(function(n){var i=e[n];i||s("Method '"+n+"' was configured as an event handler, but does not exist."),e.listenTo(t,r,i)}))}function r(e,t,n,r){e.listenTo(t,n,r)}function i(e,t,r,i){var s=i.split(/\s+/);n.each(s,(function(n){var i=e[n];e.stopListening(t,r,i)}))}function a(e,t,n,r){e.stopListening(t,n,r)}function o(e,t,r,i,s){t&&r&&(n.isFunction(r)&&(r=r.call(e)),n.each(r,(function(r,a){n.isFunction(r)?i(e,t,a,r):s(e,t,a,r)})))}e.bindEntityEvents=function(e,n,i){o(e,n,i,r,t)},e.unbindEntityEvents=function(e,t,n){o(e,t,n,a,i)}}(r),r.Callbacks=function(){this._deferred=r.$.Deferred(),this._callbacks=[]},n.extend(r.Callbacks.prototype,{add:function(e,t){this._callbacks.push({cb:e,ctx:t}),this._deferred.done((function(n,r){t&&(n=t),e.call(n,r)}))},run:function(e,t){this._deferred.resolve(t,e)},reset:function(){var e=this._callbacks;this._deferred=r.$.Deferred(),this._callbacks=[],n.each(e,(function(e){this.add(e.cb,e.ctx)}),this)}}),r.Controller=function(e){this.triggerMethod=r.triggerMethod,this.options=e||{},n.isFunction(this.initialize)&&this.initialize(this.options)},r.Controller.extend=r.extend,n.extend(r.Controller.prototype,t.Events,{close:function(){this.stopListening(),this.triggerMethod("close"),this.unbind()}}),r.Region=function(e){if(this.options=e||{},this.el=r.getOption(this,"el"),this.el||s("An 'el' must be specified for a region.","NoElError"),this.initialize){var t=Array.prototype.slice.apply(arguments);this.initialize.apply(this,t)}},n.extend(r.Region,{buildRegion:function(e,t){var r,i,a=n.isString(e),o=n.isString(e.selector),l=n.isUndefined(e.regionType),c=n.isFunction(e);c||a||o||s("Region must be specified as a Region type, a selector string or an object with selector property"),a&&(r=e),e.selector&&(r=e.selector,delete e.selector),c&&(i=e),!c&&l&&(i=t),e.regionType&&(i=e.regionType,delete e.regionType),(a||c)&&(e={}),e.el=r;var d=new i(e);return e.parentEl&&(d.getEl=function(t){var r=e.parentEl;return n.isFunction(r)&&(r=r()),r.find(t)}),d}}),n.extend(r.Region.prototype,t.Events,{show:function(e){this.ensureEl();var t=e.isClosed||n.isUndefined(e.$el),i=e!==this.currentView;i&&this.close(),e.render(),(i||t)&&this.open(e),this.currentView=e,r.triggerMethod.call(this,"show",e),r.triggerMethod.call(e,"show")},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(e){return r.$(e)},open:function(e){this.$el.empty().append(e.el)},close:function(){var e=this.currentView;e&&!e.isClosed&&(e.close?e.close():e.remove&&e.remove(),r.triggerMethod.call(this,"close",e),delete this.currentView)},attachView:function(e){this.currentView=e},reset:function(){this.close(),delete this.$el}}),r.Region.extend=r.extend,r.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={},e.Controller.prototype.constructor.call(this,t)},addRegions:function(e,t){var r={};return n.each(e,(function(e,i){n.isString(e)&&(e={selector:e}),e.selector&&(e=n.defaults({},e,t));var s=this.addRegion(i,e);r[i]=s}),this),r},addRegion:function(t,r){var i,s=n.isObject(r),a=n.isString(r),o=!!r.selector;return i=a||s&&o||n.isFunction(r)?e.Region.buildRegion(r,e.Region):r,this._store(t,i),this.triggerMethod("region:add",t,i),i},get:function(e){return this._regions[e]},removeRegion:function(e){var t=this._regions[e];this._remove(e,t)},removeRegions:function(){n.each(this._regions,(function(e,t){this._remove(t,e)}),this)},closeRegions:function(){n.each(this._regions,(function(e,t){e.close()}),this)},close:function(){this.removeRegions(),e.Controller.prototype.close.apply(this,arguments)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(e,t){t.close(),delete this._regions[e],this._setLength(),this.triggerMethod("region:remove",e,t)},_setLength:function(){this.length=n.size(this._regions)}});return n.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],(function(e){t.prototype[e]=function(){var t=[n.values(this._regions)].concat(n.toArray(arguments));return n[e].apply(n,t)}})),t}(r),r.TemplateCache=function(e){this.templateId=e},n.extend(r.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new r.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=i.call(arguments),n=t.length;if(n>0)for(e=0;e<n;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),n.extend(r.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var t=r.$(e).html();return t&&0!==t.length||s("Could not find template: '"+e+"'","NoTemplateError"),t},compileTemplate:function(e){return n.template(e)}}),r.Renderer={render:function(e,t){return e||s("Cannot render the template since it's false, null or undefined.","TemplateNotFoundError"),("function"==typeof e?e:r.TemplateCache.get(e))(t)}},r.View=t.View.extend({constructor:function(e){n.bindAll(this,"render"),this.options=n.extend({},n.result(this,"options"),n.isFunction(e)?e.call(this):e),this.events=this.normalizeUIKeys(n.result(this,"events")),t.View.prototype.constructor.apply(this,arguments),r.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)},triggerMethod:r.triggerMethod,normalizeMethods:r.normalizeMethods,getTemplate:function(){return r.getOption(this,"template")},mixinTemplateHelpers:function(e){e=e||{};var t=r.getOption(this,"templateHelpers");return n.isFunction(t)&&(t=t.call(this)),n.extend(e,t)},normalizeUIKeys:function(e){var t=this;if(void 0!==e)return n.each(n.keys(e),(function(r){var i=/@ui.[a-zA-Z_$0-9]*/g;r.match(i)&&(e[r.replace(i,(function(e){return n.result(t,"ui")[e.slice(4)]}))]=e[r],delete e[r])})),e},configureTriggers:function(){if(this.triggers){var e={},t=this.normalizeUIKeys(n.result(this,"triggers"));return n.each(t,(function(t,r){var i=n.isObject(t),s=i?t.event:t;e[r]=function(e){if(e){var n=e.preventDefault,r=e.stopPropagation,a=i?t.preventDefault:n,o=i?t.stopPropagation:r;a&&n&&n.apply(e),o&&r&&r.apply(e)}var l={view:this,model:this.model,collection:this.collection};this.triggerMethod(s,l)}}),this),e}},delegateEvents:function(e){this._delegateDOMEvents(e),r.bindEntityEvents(this,this.model,r.getOption(this,"modelEvents")),r.bindEntityEvents(this,this.collection,r.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(e){e=e||this.events,n.isFunction(e)&&(e=e.call(this));var r={},i=this.configureTriggers();n.extend(r,e,i),t.View.prototype.delegateEvents.call(this,r)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,e),r.unbindEntityEvents(this,this.model,r.getOption(this,"modelEvents")),r.unbindEntityEvents(this,this.collection,r.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){this.isClosed||!1!==this.triggerMethod("before:close")&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var e=n.result(this,"_uiBindings");this.ui={},n.each(n.keys(e),(function(t){var n=e[t];this.ui[t]=this.$(n)}),this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(n.each(this.ui,(function(e,t){delete this.ui[t]}),this),this.ui=this._uiBindings,delete this._uiBindings)}}),r.ItemView=r.View.extend({constructor:function(){r.View.prototype.constructor.apply(this,arguments)},serializeData:function(){var e={};return this.model?e=this.model.toJSON():this.collection&&(e={items:this.collection.toJSON()}),e},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var e=this.serializeData();e=this.mixinTemplateHelpers(e);var t=this.getTemplate(),n=r.Renderer.render(t,e);return this.$el.html(n),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),r.View.prototype.close.apply(this,arguments),this.triggerMethod("item:closed"))}}),r.CollectionView=r.View.extend({itemViewEventPrefix:"itemview",constructor:function(e){this._initChildViewStorage(),r.View.prototype.constructor.apply(this,arguments),this._initialEvents(),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this.appendBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerShowBufferedChildren:function(){this._isShown&&(n.each(this._bufferedChildren,(function(e){r.triggerMethod.call(e,"show")})),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this.render))},addChildView:function(e,t,n){this.closeEmptyView();var r=this.getItemView(e),i=this.collection.indexOf(e);this.addItemView(e,r,i)},onShowCalled:function(){this.children.each((function(e){r.triggerMethod.call(e,"show")}))},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.startBuffering(),this.closeEmptyView(),this.closeChildren(),this.isEmpty(this.collection)?this.showEmptyView():this.showCollection(),this.endBuffering()},showCollection:function(){var e;this.collection.each((function(t,n){e=this.getItemView(t),this.addItemView(t,e,n)}),this)},showEmptyView:function(){var e=this.getEmptyView();if(e&&!this._showingEmptyView){this._showingEmptyView=!0;var n=new t.Model;this.addItemView(n,e,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getEmptyView:function(){return r.getOption(this,"emptyView")},getItemView:function(e){var t=r.getOption(this,"itemView");return t||s("An `itemView` must be specified","NoItemViewError"),t},addItemView:function(e,t,i){var s=r.getOption(this,"itemViewOptions");n.isFunction(s)&&(s=s.call(this,e,i));var a=this.buildItemView(e,t,s);return this.addChildViewEventForwarding(a),this.triggerMethod("before:item:added",a),this.children.add(a),this.renderItemView(a,i),this._isShown&&!this.isBuffering&&r.triggerMethod.call(a,"show"),this.triggerMethod("after:item:added",a),a},addChildViewEventForwarding:function(e){var t=r.getOption(this,"itemViewEventPrefix");this.listenTo(e,"all",(function(){var s=i.call(arguments),a=s[0],o=this.normalizeMethods(this.getItemEvents());s[0]=t+":"+a,s.splice(1,0,e),void 0!==o&&n.isFunction(o[a])&&o[a].apply(this,s),r.triggerMethod.apply(this,s)}),this)},getItemEvents:function(){return n.isFunction(this.itemEvents)?this.itemEvents.call(this):this.itemEvents},renderItemView:function(e,t){e.render(),this.appendHtml(this,e,t)},buildItemView:function(e,t,r){return new t(n.extend({model:e},r))},removeItemView:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},removeChildView:function(e){e&&(this.stopListening(e),e.close?e.close():e.remove&&e.remove(),this.children.remove(e)),this.triggerMethod("item:removed",e)},isEmpty:function(e){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},appendBuffer:function(e,t){e.$el.append(t)},appendHtml:function(e,t,n){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):e.$el.append(t.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),r.View.prototype.close.apply(this,arguments))},closeChildren:function(){this.children.each((function(e){this.removeChildView(e)}),this),this.checkEmpty()}}),r.CompositeView=r.CollectionView.extend({constructor:function(){r.CollectionView.prototype.constructor.apply(this,arguments)},_initialEvents:function(){this.once("render",(function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this._renderChildren))}))},getItemView:function(e){var t=r.getOption(this,"itemView")||this.constructor;return t||s("An `itemView` must be specified","NoItemViewError"),t},serializeData:function(){var e={};return this.model&&(e=this.model.toJSON()),e},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var e=this.renderModel();return this.$el.html(e),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(this.triggerMethod("composite:collection:before:render"),r.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e);var t=this.getTemplate();return r.Renderer.render(t,e)},appendBuffer:function(e,t){this.getItemViewContainer(e).append(t)},appendHtml:function(e,t,n){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):this.getItemViewContainer(e).append(t.el)},getItemViewContainer:function(e){if("$itemViewContainer"in e)return e.$itemViewContainer;var t,i=r.getOption(e,"itemViewContainer");if(i){var a=n.isFunction(i)?i.call(this):i;(t=e.$(a)).length<=0&&s("The specified `itemViewContainer` was not found: "+e.itemViewContainer,"ItemViewContainerMissingError")}else t=e.$el;return e.$itemViewContainer=t,t},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),r.Layout=r.ItemView.extend({regionType:r.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),r.ItemView.prototype.constructor.call(this,e)},render:function(){return this.isClosed&&this._initializeRegions(),this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions(),r.ItemView.prototype.render.apply(this,arguments)},close:function(){this.isClosed||(this.regionManager.close(),r.ItemView.prototype.close.apply(this,arguments))},addRegion:function(e,t){var n={};return n[e]=t,this._buildRegions(n)[e]},addRegions:function(e){return this.regions=n.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return delete this.regions[e],this.regionManager.removeRegion(e)},_buildRegions:function(e){var t=this,n={regionType:r.getOption(this,"regionType"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,n)},_initializeRegions:function(e){var t;this._initRegionManager(),t=n.isFunction(this.regions)?this.regions(e):this.regions||{},this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each((function(e){e.reset()}))},_initRegionManager:function(){this.regionManager=new r.RegionManager,this.listenTo(this.regionManager,"region:add",(function(e,t){this[e]=t,this.trigger("region:add",e,t)})),this.listenTo(this.regionManager,"region:remove",(function(e,t){delete this[e],this.trigger("region:remove",e,t)}))}}),r.AppRouter=t.Router.extend({constructor:function(e){t.Router.prototype.constructor.apply(this,arguments),this.options=e||{};var n=r.getOption(this,"appRoutes"),i=this._getController();this.processAppRoutes(i,n)},appRoute:function(e,t){var n=this._getController();this._addAppRoute(n,e,t)},processAppRoutes:function(e,t){if(t){var r=n.keys(t).reverse();n.each(r,(function(n){this._addAppRoute(e,n,t[n])}),this)}},_getController:function(){return r.getOption(this,"controller")},_addAppRoute:function(e,t,r){var i=e[r];i||s("Method '"+r+"' was not found on the controller"),this.route(t,r,n.bind(i,e))}}),r.Application=function(e){this._initRegionManager(),this._initCallbacks=new r.Callbacks,this.vent=new t.Wreqr.EventAggregator,this.commands=new t.Wreqr.Commands,this.reqres=new t.Wreqr.RequestResponse,this.submodules={},n.extend(this,e),this.triggerMethod=r.triggerMethod},n.extend(r.Application.prototype,t.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("initialize:before",e),this._initCallbacks.run(e,this),this.triggerMethod("initialize:after",e),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(e){this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},module:function(e,t){var n=r.Module.getClass(t),s=i.call(arguments);return s.unshift(this),n.create.apply(n,s)},_initRegionManager:function(){this._regionManager=new r.RegionManager,this.listenTo(this._regionManager,"region:add",(function(e,t){this[e]=t})),this.listenTo(this._regionManager,"region:remove",(function(e,t){delete this[e]}))}}),r.Application.extend=r.extend,r.Module=function(e,t,i){this.moduleName=e,this.options=n.extend({},this.options,i),this.initialize=i.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,this.startWithParent=!0,this.triggerMethod=r.triggerMethod,n.isFunction(this.initialize)&&this.initialize(this.options,e,t)},r.Module.extend=r.extend,n.extend(r.Module.prototype,t.Events,{initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){this._isInitialized||(n.each(this.submodules,(function(t){t.startWithParent&&t.start(e)})),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e))},stop:function(){this._isInitialized&&(this._isInitialized=!1,r.triggerMethod.call(this,"before:stop"),n.each(this.submodules,(function(e){e.stop()})),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),r.triggerMethod.call(this,"stop"))},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,i){if(e){var s=n.flatten([this,this.app,t,r,r.$,n,i]);e.apply(this,s)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new r.Callbacks,this._finalizerCallbacks=new r.Callbacks}}),n.extend(r.Module,{create:function(e,t,r){var s=e,a=i.call(arguments);a.splice(0,3);var o=(t=t.split(".")).length,l=[];return l[o-1]=r,n.each(t,(function(t,n){var i=s;s=this._getModule(i,t,e,r),this._addModuleDefinition(i,s,l[n],a)}),this),s},_getModule:function(e,t,r,i,s){var a=n.extend({},i),o=this.getClass(i),l=e[t];return l||(l=new o(t,r,a),e[t]=l,e.submodules[t]=l),l},getClass:function(e){var t=r.Module;return e?e.prototype instanceof t?e:e.moduleClass||t:t},_addModuleDefinition:function(e,t,i,s){var a,o;!n.isFunction(i)||i.prototype instanceof r.Module?n.isObject(i)?(a=i.define,o=!!n.isUndefined(i.startWithParent)||i.startWithParent):o=!0:(a=i,o=!0),a&&t.addDefinition(a,s),t.startWithParent=t.startWithParent&&o,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,e.addInitializer((function(e){t.startWithParent&&t.start(e)})))}})}(0,r=s,i),r.Marionette)},12152:function(e,t,n){e.exports=function(e,t){function n(n){return{underscore:e,"./backbone-1.2.3+19b88d2+57e89d8":t}[n]}return function(e){function t(e){var n=t.cache[e];if(!n){var r={};n=t.cache[e]={id:e,exports:r},t.modules[e].call(r,n,r)}return n.exports}return t.cache=[],t.modules=[function(e,r){var i=n("underscore"),s=n("./backbone-1.2.3+19b88d2+57e89d8"),a=t(2),o=t(5),l=t(4),c=t(1),d=t(7);function u(e,t){this._superset=e,this._filtered=new a(e,t),this._sorted=new o(this._filtered,t),this._paginated=new l(this._sorted,t),c(this._paginated,this),d.call(this,this._filtered,m),d.call(this,this._sorted,h),d.call(this,this._paginated,g),this.initialize(t)}var p={superset:function(){return this._superset},getFilteredLength:function(){return this._filtered.length},removeTransforms:function(){return this._filtered.resetFilters(),this._sorted.removeSort(),this._paginated.removePagination(),this},destroy:function(){this.stopListening(),this._filtered.destroy(),this._sorted.destroy(),this._paginated.destroy(),this.length=0,this.trigger("obscura:destroy")}},m=["filtered:add","filtered:remove","filtered:reset"],h=["sorted:add","sorted:remove"],g=["paginated:change:perPage","paginated:change:page","paginated:change:numPages"];i.each(["filterBy","removeFilter","resetFilters","refilter","hasFilter","getFilters"],(function(e){p[e]=function(){var t=a.prototype[e].apply(this._filtered,arguments);return t===this._filtered?this:t}})),i.each(["setPerPage","setPage","getPerPage","getNumPages","getPage","hasNextPage","hasPrevPage","nextPage","prevPage","movePage","removePagination","firstPage","lastPage"],(function(e){p[e]=function(){var t=l.prototype[e].apply(this._paginated,arguments);return t===this._paginated?this:t}})),i.each(["setSort","reverseSort","removeSort"],(function(e){p[e]=function(){var t=o.prototype[e].apply(this._sorted,arguments);return t===this._sorted?this:t}})),i.each(["add","create","remove","set","reset","sort","parse","sync","fetch","push","pop","shift","unshift"],(function(e){p[e]=function(){throw new Error("Backbone.Obscura: Unsupported method: "+e+"called on read-only proxy")}})),i.extend(u.prototype,p,s.Events),(u=s.Collection.extend(u.prototype)).FilteredCollection=a,u.SortedCollection=o,u.PaginatedCollection=l,e.exports=u},function(e,t){var r=n("underscore"),i=n("./backbone-1.2.3+19b88d2+57e89d8"),s=["_onModelEvent","_prepareModel","_removeReference","_reset","add","initialize","sync","remove","reset","set","push","pop","unshift","shift","sort","parse","fetch","create","model","off","on","listenTo","listenToOnce","bind","trigger","once","stopListening"],a=["add","remove","reset","sort","destroy","sync","request","error"];e.exports=function(e,t){function n(){t.length=e.length}var o={};return r.each(r.functions(i.Collection.prototype),(function(t){r.contains(s,t)||(o[t]=function(){return e[t].apply(e,arguments)})})),r.extend(t,i.Events,o),t.listenTo(e,"all",n),t.listenTo(e,"all",(function(n){var i=r.toArray(arguments),s="change"===n||"change:"===n.slice(0,7);"reset"===n&&(t.models=e.models),r.contains(a,n)?(r.contains(["add","remove","destroy"],n)?i[2]=t:r.contains(["reset","sort"],n)&&(i[1]=t),t.trigger.apply(this,i)):s&&t.contains(i[1])&&t.trigger.apply(this,i)})),t.models=e.models,n(),t}},function(e,r){var i=n("underscore"),s=n("./backbone-1.2.3+19b88d2+57e89d8"),a=t(1),o=t(3);function l(){this._filterResultCache={}}function c(e){for(var t in this._filterResultCache)this._filterResultCache.hasOwnProperty(t)&&delete this._filterResultCache[t][e]}function d(e,t){this._filters[e]&&c.call(this,e),this._filters[e]=t,this.trigger("filtered:add",e)}function u(e){delete this._filters[e],c.call(this,e),this.trigger("filtered:remove",e)}function p(e){this._filterResultCache[e.cid]||(this._filterResultCache[e.cid]={});var t=this._filterResultCache[e.cid];for(var n in this._filters)if(this._filters.hasOwnProperty(n)&&(t.hasOwnProperty(n)||(t[n]=this._filters[n].fn(e)),!t[n]))return!1;return!0}function m(e){e||(e={});var t=[];this._superset&&(t=this._superset.filter(i.bind(p,this))),e.reset?this._collection.reset(t):this._collection.set(t),this.length=this._collection.length}function h(){m.call(this,{reset:!0})}function g(){var e=!(!this._superset||!this._superset.comparator);m.call(this,{reset:e})}function y(e){if(this._filterResultCache[e.cid]={},p.call(this,e)){if(!this._collection.get(e.cid)){for(var t=null,n=this.superset().indexOf(e)-1;n>=0;n-=1)if(this.contains(this.superset().at(n))){t=this.indexOf(this.superset().at(n))+1;break}t=t||0,this._collection.add(e,{at:t})}}else this._collection.get(e.cid)&&this._collection.remove(e);this.length=this._collection.length}function v(e){this._filterResultCache[e.cid]={},p.call(this,e)||this._collection.get(e.cid)&&this._collection.remove(e)}function f(e,t,n){"change:"===e.slice(0,7)&&v.call(this,arguments[1])}function b(e){this.contains(e)&&this._collection.remove(e),this.length=this._collection.length}function S(e){this._superset=e,this._collection=new s.Collection(e.toArray()),a(this._collection,this),this.resetFilters(),this.listenTo(this._superset,"reset",h),this.listenTo(this._superset,"sort",g),this.listenTo(this._superset,"add change",y),this.listenTo(this._superset,"remove",b),this.listenTo(this._superset,"all",f)}var I={defaultFilterName:"__default",filterBy:function(e,t){return t||(t=e,e=this.defaultFilterName),d.call(this,e,o(t)),m.call(this),this},removeFilter:function(e){return e||(e=this.defaultFilterName),u.call(this,e),m.call(this),this},resetFilters:function(){return this._filters={},l.call(this),this.trigger("filtered:reset"),m.call(this),this},superset:function(){return this._superset},refilter:function(e){return"object"==typeof e&&e.cid?y.call(this,e):(l.call(this),m.call(this)),this},getFilters:function(){return i.keys(this._filters)},hasFilter:function(e){return i.contains(this.getFilters(),e)},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this.length=0,this.trigger("filtered:destroy")}};i.extend(S.prototype,I,s.Events),e.exports=S},function(e,t){var r=n("underscore");function i(e,t){return r.isArray(t)||(t=null),{fn:e,keys:t}}e.exports=function(e,t){return r.isFunction(e)?i(e,t):r.isObject(e)?function(e){var t=r.keys(e),n=r.map(t,(function(t){var n=e[t];return r.isFunction(n)?function(e,t){return function(n){return t(n.get(e))}}(t,n):function(e,t){return function(n){return n.get(e)===t}}(t,n)}));return i((function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}),t)}(e):void 0}},function(e,r){var i=n("underscore"),s=n("./backbone-1.2.3+19b88d2+57e89d8"),a=t(1);function o(){var e=this.getPage()*this.getPerPage();return[e,e+this.getPerPage()]}function l(){var e=o.call(this);this._collection.reset(this.superset().slice(e[0],e[1]))}function c(){this._totalPages;var e=this.superset().length,t=this.getPerPage(),n=e%t==0?e/t:Math.floor(e/t)+1,r=this._totalPages!==n;if(this._totalPages=n,r&&this.trigger("paginated:change:numPages",{numPages:n}),this.getPage()>=n)return this.setPage(n-1),!0}function d(){c.call(this)||l.call(this)}function u(e,t){for(var n=i.max([e.length,t.length]),r=0,s=0;r<n;r+=1,s+=1)if(e[r]!==t[s])if(t[r-1]===e[r])s-=1;else{if(t[r+1]!==e[r])return e[r];s+=1}}function p(e,t,n){if(!c.call(this)){var r=o.call(this),i=r[0],s=r[1],a=u(this.superset().slice(i,s),this._collection.toArray()),l=u(this._collection.toArray(),this.superset().slice(i,s));l&&this._collection.remove(l),a&&this._collection.add(a,{at:this.superset().indexOf(a)-i})}}function m(e,t){this._superset=e,this._collection=new s.Collection(e.toArray()),this._page=0,this.setPerPage(t&&t.perPage?t.perPage:null),a(this._collection,this),this.listenTo(this._superset,"add remove",p),this.listenTo(this._superset,"reset sort",d)}var h={removePagination:function(){return this.setPerPage(null),this},setPerPage:function(e){return this._perPage=e,d.call(this),this.setPage(0),this.trigger("paginated:change:perPage",{perPage:e,numPages:this.getNumPages()}),this},setPage:function(e){var t=this.getNumPages()-1;return e=(e=(e=e>0?e:0)<t?e:t)<0?0:e,this._page=e,l.call(this),this.trigger("paginated:change:page",{page:e}),this},getPerPage:function(){return this._perPage||this.superset().length||1},getNumPages:function(){return this._totalPages},getPage:function(){return this._page},hasNextPage:function(){return this.getPage()<this.getNumPages()-1},hasPrevPage:function(){return this.getPage()>0},nextPage:function(){return this.movePage(1),this},prevPage:function(){return this.movePage(-1),this},firstPage:function(){this.setPage(0)},lastPage:function(){this.setPage(this.getNumPages()-1)},movePage:function(e){return this.setPage(this.getPage()+e),this},superset:function(){return this._superset},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this._page=0,this._totalPages=0,this.length=0,this.trigger("paginated:destroy")}};i.extend(m.prototype,h,s.Events),e.exports=m},function(e,r){var i=n("underscore"),s=n("./backbone-1.2.3+19b88d2+57e89d8"),a=t(1),o=t(6);function l(e){return i.isFunction(e)?e:function(t){return t.get(e)}}function c(e){return this._comparator?this._reverse?o(this._collection.toArray(),e,l(this._comparator)):i.sortedIndex(this._collection.toArray(),e,l(this._comparator)):this._superset.indexOf(e)}function d(e){var t=c.call(this,e);this._collection.add(e,{at:t})}function u(e){this.contains(e)&&this._collection.remove(e)}function p(e){this.contains(e)&&this._collection.indexOf(e)!==c.call(this,e)&&(this._collection.remove(e),d.call(this,e))}function m(){if(this._comparator){var e=this._superset.sortBy(this._comparator);this._collection.reset(this._reverse?e.reverse():e)}else this._collection.reset(this._superset.toArray())}function h(e){this._superset=e,this._reverse=!1,this._comparator=null,this._collection=new s.Collection(e.toArray()),a(this._collection,this),this.listenTo(this._superset,"add",d),this.listenTo(this._superset,"remove",u),this.listenTo(this._superset,"change",p),this.listenTo(this._superset,"reset",m)}var g={setSort:function(e,t){return this._reverse="desc"===t,this._comparator=e,m.call(this),e?this.trigger("sorted:add"):this.trigger("sorted:remove"),this},reverseSort:function(){return this._reverse=!this._reverse,m.call(this),this},removeSort:function(){return this.setSort(),this},superset:function(){return this._superset},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this.length=0,this.trigger("sorted:destroy")}};i.extend(h.prototype,g,s.Events),e.exports=h},function(e,t){var r=n("underscore");e.exports=function(e,t,n,i){for(var s=(n=null==n?r.identity:function(e){return r.isFunction(e)?e:function(t){return t[e]}}(n)).call(i,t),a=0,o=e.length;a<o;){var l=a+o>>>1;n.call(i,e[l])<s?o=l:a=l+1}return a}},function(e,t){var r=n("underscore");e.exports=function(e,t){r.each(t,(function(t){this.listenTo(e,t,(function(){var e=r.toArray(arguments);e.unshift(t),this.trigger.apply(this,e)}))}),this)}}],t(0)}()}(n(13469),n(9390))},96790:function(e,t,n){var r,i;r=n(13469),i=n(9390),e.exports=function(e,t){"use strict";return t.Wreqr=function(e,t,n){var r,i={};return i.Handlers=function(e,t){var n=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events,{setHandlers:function(e){t.each(e,(function(e,n){var r=null;t.isObject(e)&&!t.isFunction(e)&&(r=e.context,e=e.callback),this.setHandler(n,e,r)}),this)},setHandler:function(e,t,n){var r={callback:t,context:n};this._wreqrHandlers[e]=r,this.trigger("handler:add",e,t,n)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(t)return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(e,n),i.CommandStorage=(r=function(e){this.options=e,this._commands={},n.isFunction(this.initialize)&&this.initialize(e)},n.extend(r.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){this.getCommands(e).instances.push(t)},clearCommands:function(e){this.getCommands(e).instances=[]}}),r),i.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var n=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,n)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,t,r){var i=this.storage.getCommands(e);n.each(i.instances,(function(e){t.apply(r,e)})),this.storage.clearCommands(e)},_initializeStorage:function(e){var t,r=e.storageType||this.storageType;t=n.isFunction(r)?new r:r,this.storage=t}})}(i),i.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);if(this.hasHandler(e))return this.getHandler(e).apply(this,t)}})}(i),i.EventAggregator=function(e,t){var n=function(){};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events),n}(e,n),i}(t,t.Marionette,e),t.Wreqr}(r,i)},21356:(e,t,n)=>{!function(e){"use strict";var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r)};t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.is("input")?"val":"html",i=n.data();e+="Text",i.resetText||n.data("resetText",n[r]()),n[r](i[e]||this.options[e]),setTimeout((function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)}),0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons"]');e.length&&"radio"===this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change").prop("type")&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each((function(){var r=e(this),i=r.data("bs.button"),s="object"==typeof n&&n;i||r.data("bs.button",i=new t(this,s)),"toggle"==n?i.toggle():n&&i.setState(n)}))},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api","[data-toggle^=button]",(function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),t.preventDefault()}))}(n(19755))},88860:(e,t,n)=>{!function(e){"use strict";var t="[data-toggle=dropdown]",n=function(t){e(t).on("click.bs.dropdown",this.toggle)};function r(){e(".dropdown-backdrop").remove(),e(t).each((function(t){var n=i(e(this));n.hasClass("open")&&(n.trigger(t=e.Event("hide.bs.dropdown")),t.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown"))}))}function i(t){var n=t.attr("data-target");n||(n=(n=t.attr("href"))&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}n.prototype.toggle=function(t){var n=e(this);if(!n.is(".disabled, :disabled")){var s=i(n),a=s.hasClass("open");if(r(),!a){if("ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",r),s.trigger(t=e.Event("show.bs.dropdown")),t.isDefaultPrevented())return;s.toggleClass("open").trigger("shown.bs.dropdown"),n.focus()}return!1}},n.prototype.keydown=function(n){if(/(38|40|27)/.test(n.keyCode)){var r=e(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var s=i(r),a=s.hasClass("open");if(!a||a&&27==n.keyCode)return 27==n.which&&s.find(t).focus(),r.click();var o=e("[role=menu] li:not(.divider):visible a",s);if(o.length){var l=o.index(o.filter(":focus"));38==n.keyCode&&l>0&&l--,40==n.keyCode&&l<o.length-1&&l++,~l||(l=0),o.eq(l).focus()}}}};var s=e.fn.dropdown;e.fn.dropdown=function(t){return this.each((function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this)),"string"==typeof t&&i[t].call(r)}))},e.fn.dropdown.Constructor=n,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",(function(e){e.stopPropagation()})).on("click.bs.dropdown.data-api",t,n.prototype.toggle).on("keydown.bs.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)}(n(19755))},56150:(e,t,n)=>{!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},t.prototype.show=function(t){var n=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop((function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show(),r&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$element.find(".modal-dialog").one(e.support.transition.end,(function(){n.$element.focus().trigger(i)})).emulateTransitionEnd(300):n.$element.focus().trigger(i)})))},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy((function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.focus()}),this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy((function(e){27==e.which&&this.hide()}),this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop((function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")}))},t.prototype.removeBackdrop=function(){delete this.backdropMouseDownTarget,this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("mousedown.dismiss.modal",e.proxy((function(e){this.backdropMouseDownTarget=e.target}),this)),this.$element.on("mouseup.dismiss.modal",e.proxy((function(e){e.target===this.backdropMouseDownTarget&&(delete this.backdropMouseDownTarget,e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)))}),this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;r?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var n=e.fn.modal;e.fn.modal=function(n,r){return this.each((function(){var i=e(this),s=i.data("bs.modal"),a=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n);s||i.data("bs.modal",s=new t(this,a)),"string"==typeof n?s[n](r):a.show&&s.show(r)}))},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(s,this).one("hide",(function(){n.is(":visible")&&n.focus()}))})),e(document).on("show.bs.modal",".modal",(function(){e(document.body).addClass("modal-open")})).on("hidden.bs.modal",".modal",(function(){e(document.body).removeClass("modal-open")}))}(n(19755))},76823:(e,t,n)=>{!function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,n,r){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r);for(var i=this.options.trigger.split(" "),s=i.length;s--;){var a=i[s];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var o="hover"==a?"mouseenter":"focus",l="hover"==a?"mouseleave":"blur";this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,(function(e,r){n[e]!=r&&(t[e]=r)})),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(n.timeout),n.hoverState="in",!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout((function(){"in"==n.hoverState&&n.show()}),n.options.delay.show)},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout((function(){"out"==n.hoverState&&n.hide()}),n.options.delay.hide)},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(t),t.isDefaultPrevented())return;var n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,s=i.test(r);s&&(r=r.replace(i,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(r),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var a=this.getPosition(),o=n[0].offsetWidth,l=n[0].offsetHeight;if(s){var c=this.$element.parent(),d=r,u=document.documentElement.scrollTop||document.body.scrollTop,p="body"==this.options.container?window.innerWidth:c.outerWidth(),m="body"==this.options.container?window.innerHeight:c.outerHeight(),h="body"==this.options.container?0:c.offset().left;r="bottom"==r&&a.top+a.height+l-u>m?"top":"top"==r&&a.top-u-l<0?"bottom":"right"==r&&a.right+o>p?"left":"left"==r&&a.left-o<h?"right":r,n.removeClass(d).addClass(r)}var g=this.getCalculatedOffset(r,a,o,l);this.applyPlacement(g,r),this.$element.trigger("shown.bs."+this.type)}},t.prototype.applyPlacement=function(e,t){var n,r=this.tip(),i=r[0].offsetWidth,s=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),o=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(o)&&(o=0),e.top=e.top+a,e.left=e.left+o,r.offset(e).addClass("in");var l=r[0].offsetWidth,c=r[0].offsetHeight;if("top"==t&&c!=s&&(n=!0,e.top=e.top+s-c),/bottom|top/.test(t)){var d=0;e.left<0&&(d=-2*e.left,e.left=0,r.offset(e),l=r[0].offsetWidth,c=r[0].offsetHeight),this.replaceArrow(d-i+l,l,"left")}else this.replaceArrow(c-s,c,"top");n&&r.offset(e)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){var t=this,n=this.tip(),r=e.Event("hide.bs."+this.type);function i(){"in"!=t.hoverState&&n.detach()}if(this.$element.trigger(r),!r.isDefaultPrevented())return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?n.one(e.support.transition.end,i).emulateTransitionEnd(150):i(),this.$element.trigger("hidden.bs."+this.type),this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each((function(){var r=e(this),i=r.data("bs.tooltip"),s="object"==typeof n&&n;i||r.data("bs.tooltip",i=new t(this,s)),"string"==typeof n&&i[n]()}))},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(n(19755))},91477:(e,t,n)=>{!function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;return e(this).one(e.support.transition.end,(function(){n=!0})),setTimeout((function(){n||e(r).trigger(e.support.transition.end)}),t),this},e((function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]}}()}))}(n(19755))},62568:function(e,t,n){var r,i,s,a,o,l,c,d,u,p=n(19755);"function"==typeof(i=function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(!(e=r(String(e||"").toLowerCase()))||!e.length)return[];var t,n,s,o,l=[],c=e.split(/ +/);for(t=0,n=c.length;t<n;t++){if(s=i(c[t]),this.settings.diacritics)for(o in a)a.hasOwnProperty(o)&&(s=s.replace(new RegExp(o,"g"),a[o]));l.push({string:c[t],regex:new RegExp(s,"i")})}return l},e.prototype.iterator=function(e,t){(s(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;t<n;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)}).apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var n,r,i;e=this.prepareSearch(e,t),r=e.tokens,n=e.options.fields,i=r.length;var s,a=function(e,t){var n,r;return e?-1===(r=(e=String(e||"")).search(t.regex))?0:(n=t.string.length/e.length,0===r&&(n+=.5),n):0},o=(s=n.length)?1===s?function(e,t){return a(t[n[0]],e)}:function(e,t){for(var r=0,i=0;r<s;r++)i+=a(t[n[r]],e);return i/s}:function(){return 0};return i?1===i?function(e){return o(r[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,s=0;n<i;n++){if((t=o(r[n],e))<=0)return 0;s+=t}return s/i}:function(e){for(var t=0,n=0;t<i;t++)n+=o(r[t],e);return n/i}:function(){return 0}},e.prototype.getSortFunction=function(e,n){var r,i,s,a,o,l,c,d,u,p,m;if(m=!(e=(s=this).prepareSearch(e,n)).query&&n.sort_empty||n.sort,u=function(e,t){return"$score"===e?t.score:s.items[t.id][e]},o=[],m)for(r=0,i=m.length;r<i;r++)(e.query||"$score"!==m[r].field)&&o.push(m[r]);if(e.query){for(p=!0,r=0,i=o.length;r<i;r++)if("$score"===o[r].field){p=!1;break}p&&o.unshift({field:"$score",direction:"desc"})}else for(r=0,i=o.length;r<i;r++)if("$score"===o[r].field){o.splice(r,1);break}for(d=[],r=0,i=o.length;r<i;r++)d.push("desc"===o[r].direction?-1:1);return(l=o.length)?1===l?(a=o[0].field,c=d[0],function(e,n){return c*t(u(a,e),u(a,n))}):function(e,n){var r,i,s;for(r=0;r<l;r++)if(s=o[r].field,i=d[r]*t(u(s,e),u(s,n)))return i;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;var r=(t=n({},t)).fields,i=t.sort,a=t.sort_empty;return r&&!s(r)&&(t.fields=[r]),i&&!s(i)&&(t.sort=[i]),a&&!s(a)&&(t.sort_empty=[a]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var n,r,i,s,a=this;return r=this.prepareSearch(e,t),t=r.options,e=r.query,s=t.score||a.getScoreFunction(r),e.length?a.iterator(a.items,(function(e,i){n=s(e),(!1===t.filter||n>0)&&r.items.push({score:n,id:i})})):a.iterator(a.items,(function(e,t){r.items.push({score:1,id:t})})),(i=a.getSortFunction(r,t))&&r.items.sort(i),r.total=r.items.length,"number"==typeof t.limit&&(r.items=r.items.slice(0,t.limit)),r};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:e<t?-1:0:(e=o(String(e||"")))>(t=o(String(t||"")))?1:t>e?-1:0},n=function(e,t){var n,r,i,s;for(n=1,r=arguments.length;n<r;n++)if(s=arguments[n])for(i in s)s.hasOwnProperty(i)&&(e[i]=s[i]);return e},r=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},i=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},s=Array.isArray||p&&p.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a={a:"[aÀÁÂÃÄÅàáâãäåĀāąĄ]",c:"[cÇçćĆčČ]",d:"[dđĐďĎ]",e:"[eÈÉÊËèéêëěĚĒēęĘ]",i:"[iÌÍÎÏìíîïĪī]",l:"[lłŁ]",n:"[nÑñňŇńŃ]",o:"[oÒÓÔÕÕÖØòóôõöøŌō]",r:"[rřŘ]",s:"[sŠšśŚ]",t:"[tťŤ]",u:"[uÙÚÛÜùúûüůŮŪū]",y:"[yŸÿýÝ]",z:"[zŽžżŻźŹ]"},o=function(){var e,t,n,r,i="",s={};for(n in a)if(a.hasOwnProperty(n))for(i+=r=a[n].substring(2,a[n].length-1),e=0,t=r.length;e<t;e++)s[r.charAt(e)]=n;var o=new RegExp("["+i+"]","g");return function(e){return e.replace(o,(function(e){return s[e]})).toLowerCase()}}();return e})?(r=i.call((s={id:"sifter",exports:{},loaded:!1}).exports,n,s.exports,s),s.loaded=!0,void 0===r&&(r=s.exports)):r=i,"function"==typeof(o=function(){var e={mixin:function(e){e.plugins={},e.prototype.initializePlugins=function(e){var n,r,i,s=this,a=[];if(s.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(n=0,r=e.length;n<r;n++)"string"==typeof e[n]?a.push(e[n]):(s.plugins.settings[e[n].name]=e[n].options,a.push(e[n].name));else if(e)for(i in e)e.hasOwnProperty(i)&&(s.plugins.settings[i]=e[i],a.push(i));for(;a.length;)s.require(a.shift())},e.prototype.loadPlugin=function(t){var n=this,r=n.plugins,i=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');r.requested[t]=!0,r.loaded[t]=i.fn.apply(n,[n.plugins.settings[t]||{}]),r.names.push(t)},e.prototype.require=function(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]},e.define=function(t,n){e.plugins[t]={name:t,fn:n}}}},t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e})?(a=o.call((l={id:"microplugin",exports:{},loaded:!1}).exports,n,l.exports,l),l.loaded=!0,void 0===a&&(a=l.exports)):a=o,d=[n(19755),r,a],void 0===(u="function"==typeof(c=function(e,t,n){"use strict";var r=function(e,t){if("string"!=typeof t||t.length){var n="string"==typeof t?new RegExp(t,"i"):t,r=function(e){var t=0;if(3===e.nodeType){var i=e.data.search(n);if(i>=0&&e.data.length>0){var s=e.data.match(n),a=document.createElement("span");a.className="highlight";var o=e.splitText(i),l=(o.splitText(s[0].length),o.cloneNode(!0));a.appendChild(l),o.parentNode.replaceChild(a,o),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var c=0;c<e.childNodes.length;++c)c+=r(e.childNodes[c]);return t};return e.each((function(){r(this)}))}},i=function(){};i.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=0&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=0)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=i.prototype[t[n]]};var s=/Mac/.test(navigator.userAgent),a=s?91:17,o=s?18:17,l=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,c=function(e){return void 0!==e},d=function(e){return null==e?null:"boolean"==typeof e?e?"1":"0":e+""},u=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},p=function(e){return(e+"").replace(/\$/g,"$$$$")},m=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},h=function(e,t,n){var r,i=e.trigger,s={};for(r in e.trigger=function(){var n=arguments[0];if(-1===t.indexOf(n))return i.apply(e,arguments);s[n]=arguments},n.apply(e,[]),e.trigger=i,s)s.hasOwnProperty(r)&&i.apply(e,s[r])},g=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),r=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-r,t.length=r}return t},y=function(t){var n=null,r=function(r,i){var s,a,o,l,c,d,u,p;i=i||{},(r=r||window.event||{}).metaKey||r.altKey||(i.force||!1!==t.data("grow"))&&(s=t.val(),r.type&&"keydown"===r.type.toLowerCase()&&(o=(a=r.keyCode)>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||32===a,46===a||8===a?(p=g(t[0])).length?s=s.substring(0,p.start)+s.substring(p.start+p.length):8===a&&p.start?s=s.substring(0,p.start-1)+s.substring(p.start+1):46===a&&void 0!==p.start&&(s=s.substring(0,p.start)+s.substring(p.start+1)):o&&(d=r.shiftKey,u=String.fromCharCode(r.keyCode),s+=u=d?u.toUpperCase():u.toLowerCase())),l=t.attr("placeholder"),!s&&l&&(s=l),(c=function(t,n){if(!t)return 0;var r=e("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");!function(e,t,n){var r,i,s={};if(n)for(r=0,i=n.length;r<i;r++)s[n[r]]=e.css(n[r]);else s=e.css();t.css(s)}(n,r,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var i=r.width();return r.remove(),i}(s,t)+4)!==n&&(n=c,t.width(c),t.triggerHandler("resize")))};t.on("keydown keyup update blur",r),r()},v=function(n,r){var i,s,a,o,l=this;(o=n[0]).selectize=l;var c,d,u,p=window.getComputedStyle&&window.getComputedStyle(o,null);if(a=(a=p?p.getPropertyValue("direction"):o.currentStyle&&o.currentStyle.direction)||n.parents("[dir]:first").attr("dir")||"",e.extend(l,{order:0,settings:r,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===o.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(a),eventNS:".selectize"+ ++v.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===r.loadThrottle?l.onSearchChange:(c=l.onSearchChange,d=r.loadThrottle,function(){var e=this,t=arguments;window.clearTimeout(u),u=window.setTimeout((function(){c.apply(e,t)}),d)})}),l.sifter=new t(this.options,{diacritics:r.diacritics}),l.settings.options){for(i=0,s=l.settings.options.length;i<s;i++)l.registerOption(l.settings.options[i]);delete l.settings.options}if(l.settings.optgroups){for(i=0,s=l.settings.optgroups.length;i<s;i++)l.registerOptionGroup(l.settings.optgroups[i]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return i.mixin(v),n.mixin(v),e.extend(v.prototype,{setup:function(){var t,n,r,i,c,d,u,p,m,h,g,v,f,b=this,S=b.settings,I=b.eventNS,Z=e(window),P=e(document),E=b.$input;if(u=b.settings.mode,p=E.attr("class")||"",t=e("<div>").addClass(S.wrapperClass).addClass(p).addClass(u),n=e("<div>").addClass(S.inputClass).addClass("items").appendTo(t),r=e('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",E.is(":disabled")?"-1":b.tabIndex),d=e(S.dropdownParent||t),i=e("<div>").addClass(S.dropdownClass).addClass(u).hide().appendTo(d),c=e("<div>").addClass(S.dropdownContentClass).appendTo(i),b.settings.copyClassesToDropdown&&i.addClass(p),t.css({width:E[0].style.width}),b.plugins.names.length&&(m="plugin-"+b.plugins.names.join(" plugin-"),t.addClass(m),i.addClass(m)),(null===S.maxItems||S.maxItems>1)&&1===b.tagType&&E.attr("multiple","multiple"),b.settings.placeholder&&r.attr("placeholder",S.placeholder),!b.settings.splitOn&&b.settings.delimiter){var M=b.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");b.settings.splitOn=new RegExp("\\s*"+M+"+\\s*")}E.attr("autocorrect")&&r.attr("autocorrect",E.attr("autocorrect")),E.attr("autocapitalize")&&r.attr("autocapitalize",E.attr("autocapitalize")),b.$wrapper=t,b.$control=n,b.$control_input=r,b.$dropdown=i,b.$dropdown_content=c,i.on("mouseenter","[data-selectable]",(function(){return b.onOptionHover.apply(b,arguments)})),i.on("mousedown click","[data-selectable]",(function(){return b.onOptionSelect.apply(b,arguments)})),g="mousedown",v="*:not(input)",f=function(){return b.onItemSelect.apply(b,arguments)},(h=n).on(g,v,(function(e){for(var t=e.target;t&&t.parentNode!==h[0];)t=t.parentNode;return e.currentTarget=t,f.apply(this,[e])})),b.settings.manualInputWidth||y(r),n.on({mousedown:function(){return b.onMouseDown.apply(b,arguments)},click:function(){return b.onClick.apply(b,arguments)}}),r.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return b.onKeyDown.apply(b,arguments)},keyup:function(){return b.onKeyUp.apply(b,arguments)},keypress:function(){return b.onKeyPress.apply(b,arguments)},resize:function(){b.positionDropdown.apply(b,[])},blur:function(){return b.onBlur.apply(b,arguments)},focus:function(){return b.ignoreBlur=!1,b.onFocus.apply(b,arguments)},paste:function(){return b.onPaste.apply(b,arguments)}}),E.parents().last().find('label[for="'+E.attr("id")+'"]').on("click",(function(){b.onClick.apply(b,arguments)})),P.on("keydown"+I,(function(e){b.isCmdDown=e[s?"metaKey":"ctrlKey"],b.isCtrlDown=e[s?"altKey":"ctrlKey"],b.isShiftDown=e.shiftKey})),P.on("keyup"+I,(function(e){e.keyCode===o&&(b.isCtrlDown=!1),16===e.keyCode&&(b.isShiftDown=!1),e.keyCode===a&&(b.isCmdDown=!1)})),P.on("mousedown"+I,(function(e){if(b.isFocused){if(e.target===b.$dropdown[0]||e.target.parentNode===b.$dropdown[0])return!1;b.$control.has(e.target).length||e.target===b.$control[0]||b.blur(e.target)}})),Z.on(["scroll"+I,"resize"+I].join(" "),(function(){b.isOpen&&b.positionDropdown.apply(b,arguments)})),Z.on("mousemove"+I,(function(){b.ignoreHover=!1})),this.revertSettings={$children:E.children().detach(),tabindex:E.attr("tabindex")},E.attr("tabindex",-1).hide().after(b.$wrapper),e.isArray(S.items)&&(b.setValue(S.items),delete S.items),l&&E.on("invalid"+I,(function(e){e.preventDefault(),b.isInvalid=!0,b.refreshState()})),b.updateOriginalInput(),b.refreshItems(),b.refreshState(),b.updatePlaceholder(),b.isSetup=!0,E.is(":disabled")&&b.disable(),b.on("change",this.onChange),E.data("selectize",b),E.addClass("selectized"),b.trigger("initialize"),!0===S.preload&&b.onSearchChange("")},setupTemplates:function(){var t=this,n=t.settings.labelField,r=t.settings.optgroupLabelField,i={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[r])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[n])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[n])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};t.settings.render=e.extend({},i,t.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]])&&this.on(e,t)},onClick:function(e){this.isFocused||(this.focus(),e.preventDefault())},onMouseDown:function(t){var n=this,r=t.isDefaultPrevented();if(e(t.target),n.isFocused){if(t.target!==n.$control_input[0])return"single"===n.settings.mode&&t.target!==n.$control[0]?n.isOpen?n.close():n.open():r||n.setActiveItem(null),!1}else r||window.setTimeout((function(){n.focus()}),0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var n=this;n.isFull()||n.isInputHidden||n.isLocked?t.preventDefault():n.settings.splitOn&&setTimeout((function(){for(var t=e.trim(n.$control_input.val()||"").split(n.settings.splitOn),r=0,i=t.length;r<i;r++)n.createItem(t[r])}),0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){e.target,this.$control_input[0];var t=this;if(t.isLocked)9!==e.keyCode&&e.preventDefault();else{switch(e.keyCode){case 65:if(t.isCmdDown)return void t.selectAll();break;case 27:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:if(t.$activeOption){t.ignoreHover=!0;var r=t.getAdjacentOption(t.$activeOption,-1);r.length&&t.setActiveOption(r,!0,!0)}return void e.preventDefault();case 13:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case 37:return void t.advanceSelection(-1,e);case 39:return void t.advanceSelection(1,e);case 9:return void(t.settings.selectOnTab&&t.isOpen&&t.$activeOption?(t.onOptionSelect({currentTarget:t.$activeOption}),t.settings.allowCreateEmpty&&1===t.settings.maxItems||t.isFull()||e.preventDefault()):t.settings.create&&t.createItem()&&e.preventDefault());case 8:return void t.deleteSelection(e,!0);case 46:return void t.deleteSelection(e)}!t.isFull()&&!t.isInputHidden||(s?e.metaKey:e.ctrlKey)||e.preventDefault()}},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();var n=t.$control_input.val()||"";t.lastValue!==n&&(t.lastValue=n,t.onSearchChange(n),t.refreshOptions(),t.trigger("type",n))},onSearchChange:function(e){var t=this,n=t.settings.load;n&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load((function(r){n.apply(t,[e,r])}))))},onFocus:function(e){var t=this,n=t.isFocused;if(t.isDisabled)return t.blur(),e&&e.preventDefault(),!1;t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),n||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus))return n.ignoreBlur||document.activeElement!==n.$dropdown_content[0]?void setTimeout((function(){var e=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),(t||document.body).focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.selectOnBlur&&n.$activeOption&&1===n.$activeOption.not(".create").length?(n.addItem(n.$activeOption.not(".create").data("value")),e()):n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,e):e()})):(n.ignoreBlur=!0,void n.onFocus(e))},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var n,r,i=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),(r=e(t.currentTarget)).hasClass("create")?i.createItem(null,(function(){i.settings.closeAfterSelect&&i.close()})):void 0!==(n=r.attr("data-value"))&&(i.lastQuery=null,i.setTextboxValue(""),i.addItem(n),i.settings.closeAfterSelect?i.close():!i.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&i.setActiveOption(i.getOption(n)))},onItemSelect:function(e){var t=this;t.isLocked||"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){h(this,t?[]:["change"],(function(){this.clear(t),this.addItems(e,t)}))},setActiveItem:function(t,n){var r,i,s,a,o,l,c,d,u=this;if("single"!==u.settings.mode){if(!(t=e(t)).length)return e(u.$activeItems).removeClass("active"),u.$activeItems=[],void(u.isFocused&&u.showInput());if("mousedown"===(r=n&&n.type.toLowerCase())&&u.isShiftDown&&u.$activeItems.length){for(d=u.$control.children(".active:last"),(a=Array.prototype.indexOf.apply(u.$control[0].childNodes,[d[0]]))>(o=Array.prototype.indexOf.apply(u.$control[0].childNodes,[t[0]]))&&(c=a,a=o,o=c),i=a;i<=o;i++)l=u.$control[0].childNodes[i],-1===u.$activeItems.indexOf(l)&&(e(l).addClass("active"),u.$activeItems.push(l));n.preventDefault()}else"mousedown"===r&&u.isCtrlDown||"keydown"===r&&this.isShiftDown?t.hasClass("active")?(s=u.$activeItems.indexOf(t[0]),u.$activeItems.splice(s,1),t.removeClass("active")):u.$activeItems.push(t.addClass("active")[0]):(e(u.$activeItems).removeClass("active"),u.$activeItems=[t.addClass("active")[0]]);u.hideInput(),this.isFocused||u.focus()}},setActiveOption:function(t,n,r){var i,s,a,o,l,d=this;d.$activeOption&&d.$activeOption.removeClass("active"),d.$activeOption=null,(t=e(t)).length&&(d.$activeOption=t.addClass("active"),!n&&c(n)||(i=d.$dropdown_content.height(),s=d.$activeOption.outerHeight(!0),n=d.$dropdown_content.scrollTop()||0,o=a=d.$activeOption.offset().top-d.$dropdown_content.offset().top+n,l=a-i+s,a+s>i+n?d.$dropdown_content.stop().animate({scrollTop:l},r?d.settings.scrollDuration:0):a<n&&d.$dropdown_content.stop().animate({scrollTop:o},r?d.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0}),this.settings.manualInputWidth||this.$control_input.css({position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1}),this.settings.manualInputWidth||this.$control_input.css({position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout((function(){e.ignoreFocus=!1,e.onFocus()}),0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(t){var n,r,i,s=this,a=s.settings,o=this.getSearchOptions();if(a.score&&"function"!=typeof(i=s.settings.score.apply(this,[t])))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==s.lastQuery?(s.lastQuery=t,r=s.sifter.search(t,e.extend(o,{score:i})),s.currentResults=r):r=e.extend(!0,{},s.currentResults),a.hideSelected)for(n=r.items.length-1;n>=0;n--)-1!==s.items.indexOf(d(r.items[n].id))&&r.items.splice(n,1);return r},refreshOptions:function(t){var n,i,s,a,o,l,c,u,p,m,h,g,y,v,f,b;void 0===t&&(t=!0);var S=this,I=e.trim(S.$control_input.val()),Z=S.search(I),P=S.$dropdown_content,E=S.$activeOption&&d(S.$activeOption.attr("data-value"));for(a=Z.items.length,"number"==typeof S.settings.maxOptions&&(a=Math.min(a,S.settings.maxOptions)),o={},l=[],n=0;n<a;n++)for(c=S.options[Z.items[n].id],u=S.render("option",c),p=c[S.settings.optgroupField]||"",i=0,s=(m=e.isArray(p)?p:[p])&&m.length;i<s;i++)p=m[i],S.optgroups.hasOwnProperty(p)||(p=""),o.hasOwnProperty(p)||(o[p]=[],l.push(p)),o[p].push(u);for(this.settings.lockOptgroupOrder&&l.sort((function(e,t){return(S.optgroups[e].$order||0)-(S.optgroups[t].$order||0)})),h=[],n=0,a=l.length;n<a;n++)p=l[n],S.optgroups.hasOwnProperty(p)&&o[p].length?(g=S.render("optgroup_header",S.optgroups[p])||"",g+=o[p].join(""),h.push(S.render("optgroup",e.extend({},S.optgroups[p],{html:g})))):h.push(o[p].join(""));if(P.html(h.join("")),S.settings.highlight&&Z.query.length&&Z.tokens.length)for(n=0,a=Z.tokens.length;n<a;n++)r(P,Z.tokens[n].regex);if(!S.settings.hideSelected)for(n=0,a=S.items.length;n<a;n++)S.getOption(S.items[n]).addClass("selected");(y=S.canCreate(I))&&(P.prepend(S.render("option_create",{input:I})),b=e(P[0].childNodes[0])),S.hasOptions=Z.items.length>0||y,S.hasOptions?(Z.items.length>0?((f=E&&S.getOption(E))&&f.length?v=f:"single"===S.settings.mode&&S.items.length&&(v=S.getOption(S.items[0])),v&&v.length||(v=b&&!S.settings.addPrecedence?S.getAdjacentOption(b,1):P.find("[data-selectable]:first"))):v=b,S.setActiveOption(v),t&&!S.isOpen&&S.open()):(S.setActiveOption(null),t&&S.isOpen&&S.close())},addOption:function(t){var n,r,i,s=this;if(e.isArray(t))for(n=0,r=t.length;n<r;n++)s.addOption(t[n]);else(i=s.registerOption(t))&&(s.userOptions[i]=!0,s.lastQuery=null,s.trigger("option_add",i,t))},registerOption:function(e){var t=d(e[this.settings.valueField]);return!(!t||this.options.hasOwnProperty(t))&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=d(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,n){var r,i,s,a,o,l,c,u=this;if(t=d(t),s=d(n[u.settings.valueField]),null!==t&&u.options.hasOwnProperty(t)){if("string"!=typeof s)throw new Error("Value must be set in option data");c=u.options[t].$order,s!==t&&(delete u.options[t],-1!==(a=u.items.indexOf(t))&&u.items.splice(a,1,s)),n.$order=n.$order||c,u.options[s]=n,o=u.renderCache.item,l=u.renderCache.option,o&&(delete o[t],delete o[s]),l&&(delete l[t],delete l[s]),-1!==u.items.indexOf(s)&&(r=u.getItem(t),i=e(u.render("item",n)),r.hasClass("active")&&i.addClass("active"),r.replaceWith(i)),u.lastQuery=null,u.isOpen&&u.refreshOptions(!1)}},removeOption:function(e,t){var n=this;e=d(e);var r=n.renderCache.item,i=n.renderCache.option;r&&delete r[e],i&&delete i[e],delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={},e.options=e.sifter.items={},e.lastQuery=null,e.trigger("option_clear"),e.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,n){var r=this.$dropdown.find("[data-selectable]"),i=r.index(t)+n;return i>=0&&i<r.length?r.eq(i):e()},getElementWithValue:function(t,n){if(null!=(t=d(t)))for(var r=0,i=n.length;r<i;r++)if(n[r].getAttribute("data-value")===t)return e(n[r]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t,n){for(var r=e.isArray(t)?t:[t],i=0,s=r.length;i<s;i++)this.isPending=i<s-1,this.addItem(r[i],n)},addItem:function(t,n){h(this,n?[]:["change"],(function(){var r,i,s,a,o,l=this,c=l.settings.mode;t=d(t),-1===l.items.indexOf(t)?l.options.hasOwnProperty(t)&&("single"===c&&l.clear(n),"multi"===c&&l.isFull()||(r=e(l.render("item",l.options[t])),o=l.isFull(),l.items.splice(l.caretPos,0,t),l.insertAtCaret(r),(!l.isPending||!o&&l.isFull())&&l.refreshState(),l.isSetup&&(s=l.$dropdown_content.find("[data-selectable]"),l.isPending||(i=l.getOption(t),a=l.getAdjacentOption(i,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==c),a&&l.setActiveOption(l.getOption(a))),!s.length||l.isFull()?l.close():l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",t,r),l.updateOriginalInput({silent:n})))):"single"===c&&l.close()}))},removeItem:function(e,t){var n,r,i,s=this;n="object"==typeof e?e:s.getItem(e),e=d(n.attr("data-value")),-1!==(r=s.items.indexOf(e))&&(n.remove(),n.hasClass("active")&&(i=s.$activeItems.indexOf(n[0]),s.$activeItems.splice(i,1)),s.items.splice(r,1),s.lastQuery=null,!s.settings.persist&&s.userOptions.hasOwnProperty(e)&&s.removeOption(e,t),r<s.caretPos&&s.setCaret(s.caretPos-1),s.refreshState(),s.updatePlaceholder(),s.updateOriginalInput({silent:t}),s.positionDropdown(),s.trigger("item_remove",e,n))},createItem:function(t,n){var r=this,i=r.caretPos;t=t||e.trim(r.$control_input.val()||"");var s=arguments[arguments.length-1];if("function"!=typeof s&&(s=function(){}),"boolean"!=typeof n&&(n=!0),!r.canCreate(t))return s(),!1;r.lock();var a="function"==typeof r.settings.create?this.settings.create:function(e){var t={};return t[r.settings.labelField]=e,t[r.settings.valueField]=e,t},o=m((function(e){if(r.unlock(),!e||"object"!=typeof e)return s();var t=d(e[r.settings.valueField]);if("string"!=typeof t)return s();r.setTextboxValue(""),r.addOption(e),r.setCaret(i),r.addItem(t),r.refreshOptions(n&&"single"!==r.settings.mode),s(e)})),l=a.apply(this,[t,o]);return void 0!==l&&o(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){var e=this;e.isRequired&&(e.items.length&&(e.isInvalid=!1),e.$control_input.prop("required",undefined)),e.refreshClasses()},refreshClasses:function(){var t=this,n=t.isFull(),r=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",r).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!e.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!n&&!r)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,r,i,s=this;if(e=e||{},1===s.tagType){for(r=[],t=0,n=s.items.length;t<n;t++)i=s.options[s.items[t]][s.settings.labelField]||"",r.push('<option value="'+u(s.items[t])+'" selected="selected">'+u(i)+"</option>");r.length||this.$input.attr("multiple")||r.push('<option value="" selected="selected"></option>'),s.$input.html(r.join(""))}else s.$input.val(s.getValue()),s.$input.attr("value",s.$input.val());s.isSetup&&(e.silent||s.trigger("change",s.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||e.settings.hideDropdown||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&e.hideInput(),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(t){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(t):e(this.$control[0].childNodes[n]).before(t),this.setCaret(n+1)},deleteSelection:function(t,n){var r,i,s,a,o,l,c,d,u,p=this;if(s=n||void 0===n&&t&&8===t.keyCode?-1:1,a=g(p.$control_input[0]),p.$activeOption&&!p.settings.hideSelected&&(c=p.getAdjacentOption(p.$activeOption,-1).attr("data-value")),o=[],p.$activeItems.length){for(u=p.$control.children(".active:"+(s>0?"last":"first")),l=p.$control.children(":not(input)").index(u),s>0&&l++,r=0,i=p.$activeItems.length;r<i;r++)o.push(e(p.$activeItems[r]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(p.isFocused||"single"===p.settings.mode)&&p.items.length&&(s<0&&0===a.start&&0===a.length?o.push(p.items[p.caretPos-1]):s>0&&a.start===p.$control_input.val().length&&o.push(p.items[p.caretPos]));if(!o.length||"function"==typeof p.settings.onDelete&&!1===p.settings.onDelete.apply(p,[o]))return!1;for(void 0!==l&&p.setCaret(l);o.length;)p.removeItem(o.pop());return p.showInput(),p.positionDropdown(),p.refreshOptions(!0),c&&(d=p.getOption(c)).length&&p.setActiveOption(d),!0},advanceSelection:function(e,t){var n,r,i,s,a,o=this;0!==e&&(o.rtl&&(e*=-1),n=e>0?"last":"first",r=g(o.$control_input[0]),o.isFocused&&!o.isInputHidden?(s=o.$control_input.val().length,(e<0?0===r.start&&0===r.length:r.start===s)&&!s&&o.advanceCaret(e,t)):(a=o.$control.children(".active:"+n)).length&&(i=o.$control.children(":not(input)").index(a),o.setActiveItem(null),o.setCaret(e>0?i+1:i)))},advanceCaret:function(e,t){var n,r,i=this;0!==e&&(n=e>0?"next":"prev",i.isShiftDown?(r=i.$control_input[n]()).length&&(i.hideInput(),i.setActiveItem(r),t&&t.preventDefault()):i.setCaret(i.caretPos+e))},setCaret:function(t){var n,r,i,s,a=this;if(t="single"===a.settings.mode?a.items.length:Math.max(0,Math.min(a.items.length,t)),!a.isPending)for(n=0,r=(i=a.$control.children(":not(input)")).length;n<r;n++)s=e(i[n]).detach(),n<t?a.$control_input.before(s):a.$control.append(s);a.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.$control_input.prop("disabled",!0).prop("tabindex",-1),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var t=this,n=t.eventNS,r=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(r.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:r.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),e(window).off(n),e(document).off(n),e(document.body).off(n),delete t.$input[0].selectize},render:function(e,t){var n,r,i="",s=!1,a=this,o=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return"option"!==e&&"item"!==e||(s=!!(n=d(t[a.settings.valueField]))),s&&(c(a.renderCache[e])||(a.renderCache[e]={}),a.renderCache[e].hasOwnProperty(n))?a.renderCache[e][n]:(i=a.settings.render[e].apply(this,[t,u]),"option"!==e&&"option_create"!==e||(i=i.replace(o,"<$1 data-selectable")),"optgroup"===e&&(r=t[a.settings.optgroupValueField]||"",i=i.replace(o,'<$1 data-group="'+p(u(r))+'"')),"option"!==e&&"item"!==e||(i=i.replace(o,'<$1 data-value="'+p(u(n||""))+'"')),s&&(a.renderCache[e][n]=i),i)},clearCache:function(e){void 0===e?this.renderCache={}:delete this.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var n=t.settings.createFilter;return(e.length||t.settings.allowCreateEmpty)&&("function"!=typeof n||n.apply(t,[e]))&&("string"!=typeof n||new RegExp(n).test(e))&&(!(n instanceof RegExp)||n.test(e))}}),v.count=0,v.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,selectOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,allowCreateEmpty:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",manualInputWidth:!1,dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},e.fn.selectize=function(t){var n=e.fn.selectize.defaults,r=e.extend({},n,t),i=r.dataAttr,s=r.labelField,a=r.valueField,o=r.optgroupField,l=r.optgroupLabelField,c=r.optgroupValueField;return this.each((function(){if(!this.selectize){var u=e(this),p=this.tagName.toLowerCase(),m=u.attr("placeholder")||u.attr("data-placeholder");m||r.allowEmptyOption||(m=u.children('option[value=""]').text());var h={placeholder:m,options:[],optgroups:[],items:[]};"select"===p?function(t,n){var u,p,m,h,g=n.options,y={},v=function(e){var t=i&&e.attr(i);return"string"==typeof t&&t.length?JSON.parse(t):null},f=function(t,i){t=e(t);var l=d(t.attr("value"));if(l||r.allowEmptyOption)if(y.hasOwnProperty(l)){if(i){var c=y[l][o];c?e.isArray(c)?c.push(i):y[l][o]=[c,i]:y[l][o]=i}}else{var u=v(t)||{};u[s]=u[s]||t.text(),u[a]=u[a]||l,u[o]=u[o]||i,y[l]=u,g.push(u),t.is(":selected")&&n.items.push(l)}},b=function(t){var r,i,s,a,o;for((s=(t=e(t)).attr("label"))&&((a=v(t)||{})[l]=s,a[c]=s,n.optgroups.push(a)),r=0,i=(o=e("option",t)).length;r<i;r++)f(o[r],s)};for(n.maxItems=t.attr("multiple")?null:1,u=0,p=(h=t.children()).length;u<p;u++)"optgroup"===(m=h[u].tagName.toLowerCase())?b(h[u]):"option"===m&&f(h[u])}(u,h):function(t,n){var o,l,c,d,u=t.attr(i);if(u)for(n.options=JSON.parse(u),o=0,l=n.options.length;o<l;o++)n.items.push(n.options[o][a]);else{var p=e.trim(t.val()||"");if(!r.allowEmptyOption&&!p.length)return;for(o=0,l=(c=p.split(r.delimiter)).length;o<l;o++)(d={})[s]=c[o],d[a]=c[o],n.options.push(d);n.items=c}}(u,h),new v(u,e.extend(!0,{},n,h,t))}}))},e.fn.selectize.defaults=v.defaults,e.fn.selectize.support={validity:l},v.define("remove_button",(function(t){if("single"!==this.settings.mode){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var n,r=this,i='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+u(t.title)+'">'+t.label+"</a>",s=function(e,t){var n=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,n)+t+e.substring(n)};this.setup=(n=r.setup,function(){if(t.append){var a=r.settings.render.item;r.settings.render.item=function(e){return s(a.apply(this,arguments),i)}}n.apply(this,arguments),this.$control.on("click","."+t.className,(function(t){if(t.preventDefault(),!r.isLocked){var n=e(t.currentTarget).parent();r.setActiveItem(n),r.deleteSelection()&&r.setCaret(r.items.length)}}))})}})),v.define("restore_on_backspace",(function(e){var t;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=(t=this.onKeyDown,function(n){var r,i;return 8===n.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(r=this.caretPos-1)>=0&&r<this.items.length?(i=this.options[this.items[r]],this.deleteSelection(n,!0)&&(this.setTextboxValue(e.text.apply(this,[i])),this.refreshOptions(!0)),void n.preventDefault()):t.apply(this,arguments)})})),v.define("restore_on_focus",(function(e){e.text=e.text||function(e){return e[this.settings.labelField]};var t=this.onFocus;this.onFocus=function(n){var r=this.caretPos-1;if(r>=0&&r<this.items.length){var i=this.options[this.items[r]],s=e.text.call(this,i);this.removeItem(i[this.settings.valueField]),this.setTextboxValue(s),this.refreshOptions(!0)}return t.apply(this,arguments)}})),v})?c.apply(t,d):c)||(e.exports=u)},83299:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTI4MCAwYzE1NC41MzYgMCAyODAgMTI1LjQ2NCAyODAgMjgwUzQzNC41MzYgNTYwIDI4MCA1NjAgMCA0MzQuNTM2IDAgMjgwIDEyNS40NjQgMCAyODAgMCIgZmlsbD0iI0U1QTAwRCIvPgogICAgPHBhdGggZD0iTTI4MCA0NzVjLTI0LjgzNyAwLTQ1LTIwLjE2My00NS00NXMyMC4xNjMtNDUgNDUtNDUgNDUgMjAuMTYzIDQ1IDQ1LTIwLjE2MyA0NS00NSA0NXpNMjUwIDkwaDYwYzExLjAzOCAwIDIwIDguOTYyIDIwIDIwbC0xMCAyMDVjMCAxMS4wMzgtOC45NjIgMjAtMjAgMjBoLTQwYy0xMS4wMzggMC0yMC04Ljk2Mi0yMC0yMGwtMTAtMjA1YzAtMTEuMDM4IDguOTYyLTIwIDIwLTIweiIgZmlsbD0iIzAwMCIvPgogIDwvZz4KPC9zdmc+Cg=="},7333:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGZpbGw9IiMzQTQ5NTgiIGQ9Ik0wIDBoNTYwdjU2MEgweiIvPjxwYXRoIGQ9Ik00MjAgMjM4YzAtNy43MjYtNi4yNzUtMTQtMTQtMTRIMTU0Yy03LjcyNyAwLTE0IDYuMjc0LTE0IDE0djg0YzAgNy43MjcgNi4yNzMgMTQgMTQgMTRoMjUyYzcuNzI2IDAgMTQtNi4yNzMgMTQtMTR2LTg0IiBmaWxsLW9wYWNpdHk9Ii4xNDkiIGZpbGw9IiMwMDAiLz48cGF0aCBkPSJNNDA2LjE4IDIyNHMuOTUyLjAzNiAxLjQyNi4wOWMxLjAzNi4xMTkgMi4wNTkuMzU0IDMuMDQzLjcwMSAxLjkxNi42NzUgMy42NzUgMS43NzQgNS4xMjggMy4xOTIgMS40OTIgMS40NTggMi42NTQgMy4yNDYgMy4zNzIgNS4yMDQuMzU4Ljk3OC42MDYgMS45OTcuNzM3IDMuMDMuMDY4LjUzMi4xMTIgMS42MDEuMTEyIDEuNjAxdjg0LjM2cy0uMDQ0IDEuMDY5LS4xMTIgMS42MDFhMTMuOTIxNCAxMy45MjE0IDAgMDEtLjczNyAzLjAzYy0uNzE4IDEuOTU4LTEuODggMy43NDYtMy4zNzIgNS4yMDQtMS40NTMgMS40MTgtMy4yMTIgMi41MTctNS4xMjggMy4xOTItLjk4NC4zNDctMi4wMS41ODItMy4wNDMuNzAxLS40NzQuMDU0LTEuNDI2LjA5LTEuNDI2LjA5SDE1My44MnMtLjk1Mi0uMDM2LTEuNDI2LS4wOWExMy45NDMyIDEzLjk0MzIgMCAwMS0zLjA0My0uNzAxYy0xLjkxNi0uNjc1LTMuNjc1LTEuNzc0LTUuMTI4LTMuMTkyLTEuNDkyLTEuNDU4LTIuNjU0LTMuMjQ2LTMuMzcyLTUuMjA0LS4zNTgtLjk3OC0uNjA2LTEuOTk3LS43MzctMy4wMy0uMDY4LS41MzItLjExMi0xLjYwMS0uMTEyLTEuNjAxdi04NC4zNnMuMDQ0LTEuMDY5LjExMi0xLjYwMWMuMTMxLTEuMDMzLjM3OS0yLjA1Mi43MzctMy4wMy43MTgtMS45NTggMS44OC0zLjc0NiAzLjM3Mi01LjIwNCAxLjQ1My0xLjQxOCAzLjIxMi0yLjUxNyA1LjEyOC0zLjE5Mi45ODQtLjM0NyAyLjAxLS41ODIgMy4wNDMtLjcwMS40NzQtLjA1NCAxLjQyNi0uMDkgMS40MjYtLjA5aDI1Mi4zNm0tMjUyLjE1IDguOTk5cy0uNDA4LjAxLS42MTEuMDMzYy0uNDA2LjA0Ny0uODA2LjE0NC0xLjE4OC4yODktMS4zNDQuNTExLTIuNDM0IDEuNjE0LTIuOTI4IDIuOTYzLS4xOTQuNTI5LS4zIDEuNjQ4LS4zIDEuNjQ4bC4wMDEgODQuMnMuMTEyIDEuMDc0LjI5OSAxLjU4MmMuNDk0IDEuMzQ5IDEuNTg0IDIuNDUyIDIuOTI4IDIuOTYzLjUyNC4yIDEuNjM4LjMyIDEuNjM4LjMyaDI1Mi4yN3MxLjExNC0uMTIgMS42MzktLjMyYzEuMzQzLS41MTEgMi40MzMtMS42MTQgMi45MjctMi45NjMuMTg2LS41MDguMjk5LTEuNTgyLjI5OS0xLjU4MnYtODQuMjdzLS4xMi0xLjExNC0uMzItMS42MzhjLS41MTEtMS4zNDQtMS42MTQtMi40MzQtMi45NjMtMi45MjgtLjUwOC0uMTg3LTEuNTgyLS4yOTktMS41ODItLjI5OWwtMjUyLjEtLjAwMk0yMTkuMzMzIDI5NmgtNi45NjI5di0yNy4wNDNoLTguOTE3di01Ljc5NDlIMjI4LjI1djUuNzk1aC04LjkxN1YyOTZ6bTQwLjY5OTItMzIuODM3OXYyMS4yNDhjMCAyLjQyNTktLjU0MjggNC41NTIxLTEuNjI4NCA2LjM3OS0xLjA4NTYgMS44MjY4LTIuNjU0MSAzLjIyNjgtNC43MDU2IDQuMjAwMi0yLjA1MTQuOTczMy00LjQ3NzIgMS40Ni03LjI3NzMgMS40Ni00LjIyMjcgMC03LjUwMi0xLjA4Mi05LjgzNzktMy4yNDU3LTIuMzM2LTIuMTYzNy0zLjUwMzktNS4xMjQ4LTMuNTAzOS04Ljg4MzN2LTIxLjE1ODJoNi45NDA0djIwLjEwMjVjMCAyLjUzMDcuNTA5MSA0LjM4NzQgMS41Mjc0IDUuNTcwNCAxLjAxODIgMS4xODMgMi43MDI4IDEuNzc0NCA1LjA1MzcgMS43NzQ0IDIuMjc2IDAgMy45MjY5LS41OTUyIDQuOTUyNi0xLjc4NTcgMS4wMjU3LTEuMTkwNCAxLjUzODYtMy4wNTg0IDEuNTM4Ni01LjYwNHYtMjAuMDU3Nmg2Ljk0MDR6TTI5Ny4yMDUxIDI5NmgtOC44NDk2bC0xNC4yODUyLTI0Ljg0MThoLS4yMDIxYy4yODQ1IDQuMzg3NC40MjY3IDcuNTE3LjQyNjcgOS4zODg3VjI5NmgtNi4yMjE3di0zMi44Mzc5aDguNzgyM2wxNC4yNjI3IDI0LjU5NDdoLjE1NzJjLS4yMjQ2LTQuMjY3Ni0uMzM3LTcuMjg0OC0uMzM3LTkuMDUxN3YtMTUuNTQzaDYuMjY2N1YyOTZ6bTI3LjE3NzcgMGgtMTguOTEyMXYtMzIuODM3OWgxOC45MTIxdjUuNzA1aC0xMS45NDkydjcuMjFoMTEuMTE4MnY1LjcwNTFoLTExLjExODJ2OC40Njc4aDExLjk0OTJWMjk2em0xMy44MTM1LTE4LjI2MDdoMi4yNDZjMi4yMDEzIDAgMy44MjYtLjM2NjkgNC44NzQxLTEuMTAwNiAxLjA0ODItLjczMzggMS41NzIzLTEuODg2NyAxLjU3MjMtMy40NTkgMC0xLjU1NzMtLjUzNTMtMi42NjU0LTEuNjA2LTMuMzI0Mi0xLjA3MDYtLjY1ODktMi43MjktLjk4ODMtNC45NzUtLjk4ODNoLTIuMTExNHY4Ljg3MnptMCA1LjY2MDFWMjk2aC02Ljk2Mjl2LTMyLjgzNzloOS41Njg0YzQuNDYyMiAwIDcuNzY0LjgxMjMgOS45MDUyIDIuNDM3IDIuMTQxMyAxLjYyNDcgMy4yMTIgNC4wOTE2IDMuMjEyIDcuNDAwOSAwIDEuOTMxNi0uNTMxNiAzLjY0OTktMS41OTQ4IDUuMTU0OC0xLjA2MzEgMS41MDQ5LTIuNTY4IDIuNjg0LTQuNTE0NiAzLjUzNzYgNC45NDE0IDcuMzgyMiA4LjE2MDggMTIuMTUxMyA5LjY1ODIgMTQuMzA3NmgtNy43MjY2bC03LjgzODktMTIuNjAwNmgtMy43MDZ6IiBmaWxsPSIjQ0ZDRkNGIi8+PC9nPjwvc3ZnPg=="},54346:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzJmNDc0MSIvPgogPHBhdGggZD0ibTE0MCAyNDRjMC04LjI0MyA1LjgzMi0xNS4zNDcgMTQtMTYuNTE2bDI4LTMuNDgzaDE5NmwyOCAzLjQ4M2M4LjE4MyAxLjE2OSAxNCA4LjI4MSAxNCAxNi41MTZ2NzJjMCA4LjI0My01LjgzMiAxNS4zNDctMTQgMTYuNTE2bC0yOCAzLjQ4M2gtMTk2bC0yOC0zLjQ4M2MtOC4xODMtMS4xNjktMTQtOC4yODEtMTQtMTYuNTE2di03MiIgc3R5bGU9ImZpbGwtb3BhY2l0eTouMTQ5MDIiLz4KIDxwYXRoIGQ9Im0zNzggMzM2aC0xOTZsLTI4LTMuNDgzYy0uNTA2LS4wNzUtMS4wMS0uMTY4LTEuNTA2LS4yODgtMS4wODktLjI2MS0yLjE0OS0uNjM3LTMuMTU5LTEuMTItMi4xMzItMS4wMTgtNC4wMi0yLjUxNC01LjUyLTQuMzQtMS4yMzEtMS41MDItMi4xOTQtMy4yMi0yLjg0MS01LjA1LS40MzQtMS4yMzItLjcyNi0yLjUxMy0uODY5LTMuODExLS4wNjMtLjU2OS0uMTA0LTEuNzE0LS4xMDQtMS43MTR2LTcyLjM5YzAgMCAuMDQxLTEuMTQ2LjEwNC0xLjcxNi4xNDQtMS4yOTkuNDM2LTIuNTgxLjg3MS0zLjgxMi42NDgtMS44MzIgMS42MTItMy41NTEgMi44NDUtNS4wNSAxLjQ5OC0xLjgyNSAzLjM4OS0zLjMyIDUuNTE5LTQuMzM4IDEuMDEtLjQ4MiAyLjA2OS0uODU3IDMuMTU2LTEuMTE5LjQ5Ny0uMTE5Ljk5OS0uMjEyIDEuNTA0LS4yODdsMjgtMy40ODNoMTk2YzAgMCAxOC42NjcgMi4zMjIgMjggMy40ODMuNTA2LjA3NSAxLjAxLjE2OCAxLjUwNi4yODggMS4wODkuMjYxIDIuMTQ5LjYzNyAzLjE1OSAxLjEyIDIuMTMyIDEuMDE4IDQuMDIgMi41MTQgNS41MiA0LjM0IDEuMjMxIDEuNTAyIDIuMTk0IDMuMjIgMi44NDEgNS4wNS40MzQgMS4yMzIuNzI2IDIuNTEzLjg2OSAzLjgxMS4wNjMuNTY5LjEwNCAxLjcxNC4xMDQgMS43MTR2NzIuMzljMCAwLS4wNDEgMS4xNDYtLjEwNCAxLjcxNi0uMTQ0IDEuMjk5LS40MzYgMi41ODEtLjg3MSAzLjgxMi0uNjQ4IDEuODMyLTEuNjEyIDMuNTUxLTIuODQ1IDUuMDUtMS40OTggMS44MjUtMy4zODkgMy4zMi01LjUxOSA0LjMzOC0xLjAxLjQ4Mi0yLjA2OS44NTctMy4xNTYgMS4xMTktLjQ5Ny4xMTktLjk5OS4yMTItMS41MDQuMjg3bC0yOCAzLjQ4M20tLjU1OC0xMDNoLTE5NC44OGMtOS4xMjQgMS4xMzUtMTguMjc4IDIuMDUyLTI3LjM3MiAzLjQwNS0uMTEzLjAxOS0uMjI2LjAzOS0uMzM4LjA2MS0uNjQxLjEzNC0xLjI2LjM0OC0xLjg0MS42NS0uOTMxLjQ4Ni0xLjc0NSAxLjE4My0yLjM4NCAyLjAxLS40OTcuNjQ4LS44ODkgMS4zNzYtMS4xNjEgMi4xNDYtLjI5OS44NDYtLjQ2MSAyLjYyOS0uNDYxIDIuNjI5bC4wMDEgNzIuMjhjMCAwIC4xOTMgMS44MzQuNTE5IDIuNjk3LjI4Ny43NjIuNjkyIDEuNDc5IDEuMjAyIDIuMTE0LjY3MS44MzcgMS41MjQgMS41MjggMi40OTMgMS45OTEuNTk4LjI4NiAxLjIzMi40NzkgMS44ODQuNTkybC4wODcuMDE0LjAzMi4wMDQgMjcuMzM5IDMuNDAxaDE5NC44OGMwIDAgMTguMjc4LTIuMDUyIDI3LjM3MS0zLjQwNS42ODEtLjExIDEuMzQzLS4zMDcgMS45NjYtLjYwNCAxLjAyLS40ODggMS45MS0xLjIyNiAyLjU5OC0yLjEyMi40OC0uNjI1Ljg2MS0xLjMyNSAxLjEzMi0yLjA2NS4zMTctLjg2OS40OS0yLjcxLjQ5LTIuNzFsLS4wMDEtNzIuMjhjMCAwLS4xOTMtMS44MzQtLjUxOS0yLjY5OC0uMjg3LS43NjEtLjY5Mi0xLjQ3OC0xLjIwMS0yLjExMy0uNjU1LS44MTYtMS40ODItMS40OTQtMi40MjItMS45NTYtLjYxOS0uMzA1LTEuMjc4LS41MDktMS45NTYtLjYyN2wtLjA4Ni0uMDEzLS4wMzItLjAwNS0yNy4zNC0zLjQwMW0tMTMuNDQyIDM4YzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOW0tNDIgMGM0Ljk2NyAwIDkgNC4wMyA5IDkgMCA0Ljk2Ny00LjAzIDktOSA5LTQuOTY3IDAtOS00LjAzLTktOSAwLTQuOTY3IDQuMDMtOSA5LTltLTEyNiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOSIgc3R5bGU9ImZpbGw6IzkxYzUzYiIvPgo8L3N2Zz4K"},8955:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzQxNDEzZSIvPgogPHBhdGggZD0ibTg0IDI0NGMwLTguMjQzIDUuODMyLTE1LjM0NyAxNC0xNi41MTZsNTYtMy40ODNoMjUybDU2IDMuNDgzYzguMTgzIDEuMTY5IDE0IDguMjgxIDE0IDE2LjUxNnY3MmMwIDguMjQzLTUuODMyIDE1LjM0Ny0xNCAxNi41MTZsLTU2IDMuNDgzaC0yNTJsLTU2LTMuNDgzYy04LjE4My0xLjE2OS0xNC04LjI4MS0xNC0xNi41MTZ2LTcyIiBzdHlsZT0iZmlsbC1vcGFjaXR5Oi4xNDkwMiIvPgogPHBhdGggZD0ibTQwNiAzMzZoLTI1MmwtNTYtMy40ODNjLS41MDYtLjA3NS0xLjAxLS4xNjgtMS41MDYtLjI4OC0xLjA4OS0uMjYxLTIuMTQ5LS42MzctMy4xNTktMS4xMi0yLjEzMi0xLjAxOC00LjAyLTIuNTE0LTUuNTItNC4zNC0xLjIzMS0xLjUwMi0yLjE5NC0zLjIyLTIuODQxLTUuMDUtLjQzNC0xLjIzMi0uNzI2LTIuNTEzLS44NjktMy44MTEtLjA2My0uNTY5LS4xMDQtMS43MTQtLjEwNC0xLjcxNHYtNzIuMzljMCAwIC4wNDEtMS4xNDYuMTA0LTEuNzE2LjE0NC0xLjI5OS40MzYtMi41ODEuODcxLTMuODEyLjY0OC0xLjgzMiAxLjYxMi0zLjU1MSAyLjg0NS01LjA1IDEuNDk4LTEuODI1IDMuMzg5LTMuMzIgNS41MTktNC4zMzggMS4wMS0uNDgyIDIuMDY5LS44NTcgMy4xNTYtMS4xMTkuNDk3LS4xMTkuOTk5LS4yMTIgMS41MDQtLjI4N2w1Ni0zLjQ4M2gyNTJjMCAwIDM3LjMzIDIuMzIyIDU2IDMuNDgzLjUwNi4wNzUgMS4wMS4xNjggMS41MDYuMjg4IDEuMDg5LjI2MSAyLjE0OS42MzcgMy4xNTkgMS4xMiAyLjEzMiAxLjAxOCA0LjAyIDIuNTE0IDUuNTIgNC4zNCAxLjIzMSAxLjUwMiAyLjE5NCAzLjIyIDIuODQxIDUuMDUuNDM0IDEuMjMyLjcyNiAyLjUxMy44NjkgMy44MTEuMDYzLjU2OS4xMDQgMS43MTQuMTA0IDEuNzE0djcyLjM5YzAgMC0uMDQxIDEuMTQ2LS4xMDQgMS43MTYtLjE0NCAxLjI5OS0uNDM2IDIuNTgxLS44NzEgMy44MTItLjY0OCAxLjgzMi0xLjYxMiAzLjU1MS0yLjg0NSA1LjA1LTEuNDk4IDEuODI1LTMuMzg5IDMuMzItNS41MTkgNC4zMzgtMS4wMS40ODItMi4wNjkuODU3LTMuMTU2IDEuMTE5LS40OTcuMTE5LS45OTkuMjEyLTEuNTA0LjI4N2wtNTYgMy40ODNtLS4yOC0xMDNoLTI1MS40NGwtNTUuMjkgMy40MzljLS4xMDMuMDE5LS4yMDYuMDQtLjMwOC4wNjMtLjYwOC4xNDItMS4xOTUuMzU2LTEuNzQ1LjY1MS0uOTUxLjUxLTEuNzc2IDEuMjQxLTIuNDEzIDIuMTExLS40NTEuNjE0LS44MDggMS4yOTUtMS4wNjIgMi4wMS0uMjk5Ljg0NS0uNDYxIDIuNjI4LS40NjEgMi42Mjh2NzIuMjhjMCAwIC4xOTMgMS44MzQuNTE5IDIuNjk4LjI4Ny43NjEuNjkyIDEuNDc4IDEuMjAyIDIuMTEzLjY3MS44MzggMS41MjQgMS41MjggMi40OTMgMS45OTEuNTYzLjI2OSAxLjE2LjQ1OSAxLjc3NC41NzJsNTUuMjkgMy40MzloMjUxLjQ0bDU1LjI5LTMuNDM5Yy42MTItLjExMyAxLjIwNy0uMzAyIDEuNzY5LS41NyAxLjAyLS40ODggMS45MS0xLjIyNiAyLjU5OC0yLjEyMi40OC0uNjI1Ljg2MS0xLjMyNSAxLjEzMi0yLjA2NS4zMTctLjg2OS40OS0yLjcxLjQ5LTIuNzFsLS4wMDEtNzIuMjhjMCAwLS4xOTMtMS44MzQtLjUxOS0yLjY5OC0uMjg3LS43NjEtLjY5Mi0xLjQ3OC0xLjIwMS0yLjExMy0uNjcyLS44MzgtMS41MjUtMS41MjgtMi40OTUtMS45OTItLjU2My0uMjY5LTEuMTYtLjQ1OC0xLjc3My0uNTcxbC01NS4yOS0zLjQzOW0tNDEuNzIgMzhjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOW0tNDIgMGM0Ljk2NyAwIDkgNC4wMyA5IDkgMCA0Ljk2Ny00LjAzIDktOSA5LTQuOTY3IDAtOS00LjAzLTktOSAwLTQuOTY3IDQuMDMtOSA5LTltLTg0IDBjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOSIgc3R5bGU9ImZpbGw6I2Y3OTQxZSIvPgo8L3N2Zz4K"},72066:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzFlNDI1NCIvPgogPHBhdGggZD0ibTQyMCAyMzhjMC03LjcyNi02LjI3NS0xNC0xNC0xNGgtMjUyYy03LjcyNyAwLTE0IDYuMjc0LTE0IDE0djg0YzAgNy43MjcgNi4yNzMgMTQgMTQgMTRoMjUyYzcuNzI2IDAgMTQtNi4yNzMgMTQtMTR2LTg0IiBzdHlsZT0iZmlsbC1vcGFjaXR5Oi4xNDkwMiIvPgogPHBhdGggZD0ibTQwNi4xOCAyMjRjMCAwIC45NTIuMDM2IDEuNDI2LjA5IDEuMDM2LjExOSAyLjA1OS4zNTQgMy4wNDMuNzAxIDEuOTE2LjY3NSAzLjY3NSAxLjc3NCA1LjEyOCAzLjE5MiAxLjQ5MiAxLjQ1OCAyLjY1NCAzLjI0NiAzLjM3MiA1LjIwNC4zNTguOTc4LjYwNiAxLjk5Ny43MzcgMy4wMy4wNjguNTMyLjExMiAxLjYwMS4xMTIgMS42MDF2ODQuMzZjMCAwLS4wNDQgMS4wNjktLjExMiAxLjYwMS0uMTMxIDEuMDMzLS4zNzkgMi4wNTItLjczNyAzLjAzLS43MTggMS45NTgtMS44OCAzLjc0Ni0zLjM3MiA1LjIwNC0xLjQ1MyAxLjQxOC0zLjIxMiAyLjUxNy01LjEyOCAzLjE5Mi0uOTg0LjM0Ny0yLjAxLjU4Mi0zLjA0My43MDEtLjQ3NC4wNTQtMS40MjYuMDktMS40MjYuMDloLTI1Mi4zNmMwIDAtLjk1Mi0uMDM2LTEuNDI2LS4wOS0xLjAzNi0uMTE5LTIuMDU5LS4zNTQtMy4wNDMtLjcwMS0xLjkxNi0uNjc1LTMuNjc1LTEuNzc0LTUuMTI4LTMuMTkyLTEuNDkyLTEuNDU4LTIuNjU0LTMuMjQ2LTMuMzcyLTUuMjA0LS4zNTgtLjk3OC0uNjA2LTEuOTk3LS43MzctMy4wMy0uMDY4LS41MzItLjExMi0xLjYwMS0uMTEyLTEuNjAxdi04NC4zNmMwIDAgLjA0NC0xLjA2OS4xMTItMS42MDEuMTMxLTEuMDMzLjM3OS0yLjA1Mi43MzctMy4wMy43MTgtMS45NTggMS44OC0zLjc0NiAzLjM3Mi01LjIwNCAxLjQ1My0xLjQxOCAzLjIxMi0yLjUxNyA1LjEyOC0zLjE5Mi45ODQtLjM0NyAyLjAxLS41ODIgMy4wNDMtLjcwMS40NzQtLjA1NCAxLjQyNi0uMDkgMS40MjYtLjA5aDI1Mi4zNm0tMjUyLjE1IDguOTk5YzAgMC0uNDA4LjAxLS42MTEuMDMzLS40MDYuMDQ3LS44MDYuMTQ0LTEuMTg4LjI4OS0xLjM0NC41MTEtMi40MzQgMS42MTQtMi45MjggMi45NjMtLjE5NC41MjktLjMgMS42NDgtLjMgMS42NDhsLjAwMSA4NC4yYzAgMCAuMTEyIDEuMDc0LjI5OSAxLjU4Mi40OTQgMS4zNDkgMS41ODQgMi40NTIgMi45MjggMi45NjMuNTI0LjIgMS42MzguMzIgMS42MzguMzJoMjUyLjI3YzAgMCAxLjExNC0uMTIgMS42MzktLjMyIDEuMzQzLS41MTEgMi40MzMtMS42MTQgMi45MjctMi45NjMuMTg2LS41MDguMjk5LTEuNTgyLjI5OS0xLjU4MnYtODQuMjdjMCAwLS4xMi0xLjExNC0uMzItMS42MzgtLjUxMS0xLjM0NC0xLjYxNC0yLjQzNC0yLjk2My0yLjkyOC0uNTA4LS4xODctMS41ODItLjI5OS0xLjU4Mi0uMjk5bC0yNTIuMS0uMDAybTEwMS43MSA2My40MmgtNi45NjN2LTMyLjgzOGg2Ljk2M3YxMi44N2gxMy4wMXYtMTIuODdoNi45NDF2MzIuODM4aC02Ljk0MXYtMTQuMTczaC0xMy4wMXYxNC4xNzNtMzcuNTMyIDBoLTkuMjk4di0zMi44MzhoMTAuMzA5YzUuMzYxIDAgOS41MjQgMS40MTUgMTIuNDg4IDQuMjQ1IDIuOTY1IDIuODMgNC40NDggNi43ODMgNC40NDggMTEuODYgMCA1LjQwNS0xLjUzOSA5LjU0NS00LjYxNiAxMi40Mi0zLjA3NyAyLjg3NS03LjUyIDQuMzEzLTEzLjMzMSA0LjMxM20xLjM3MS0yNy4xM2gtMy43MDd2MjEuMzgzaDIuOTg4YzYuNzA4IDAgMTAuMDYtMy42MDEgMTAuMDYtMTAuODA0IDAtNy4wNS0zLjExNC0xMC41NzktOS4zNDMtMTAuNTc5IiBzdHlsZT0iZmlsbDojMzFhZmMwIi8+Cjwvc3ZnPgo="},79029:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzJmMzM0ZCIvPgogPHBhdGggZD0ibTg0IDI0NGMwLTguMjQzIDUuODMyLTE1LjM0NyAxNC0xNi41MTZsNTYtMy40ODNoMjUybDU2IDMuNDgzYzguMTgzIDEuMTY5IDE0IDguMjgxIDE0IDE2LjUxNnY3MmMwIDguMjQzLTUuODMyIDE1LjM0Ny0xNCAxNi41MTZsLTU2IDMuNDgzaC0yNTJsLTU2LTMuNDgzYy04LjE4My0xLjE2OS0xNC04LjI4MS0xNC0xNi41MTZ2LTcyIiBzdHlsZT0iZmlsbC1vcGFjaXR5Oi4xNDkwMiIvPgogPHBhdGggZD0ibTQwNiAzMzZoLTI1MmwtNTYtMy40ODNjLS41MDYtLjA3NS0xLjAxLS4xNjgtMS41MDYtLjI4OC0xLjA4OS0uMjYxLTIuMTQ5LS42MzctMy4xNTktMS4xMi0yLjEzMi0xLjAxOC00LjAyLTIuNTE0LTUuNTItNC4zNC0xLjIzMS0xLjUwMi0yLjE5NC0zLjIyLTIuODQxLTUuMDUtLjQzNC0xLjIzMi0uNzI2LTIuNTEzLS44NjktMy44MTEtLjA2My0uNTY5LS4xMDQtMS43MTQtLjEwNC0xLjcxNHYtNzIuMzljMCAwIC4wNDEtMS4xNDYuMTA0LTEuNzE2LjE0NC0xLjI5OS40MzYtMi41ODEuODcxLTMuODEyLjY0OC0xLjgzMiAxLjYxMi0zLjU1MSAyLjg0NS01LjA1IDEuNDk4LTEuODI1IDMuMzg5LTMuMzIgNS41MTktNC4zMzggMS4wMS0uNDgyIDIuMDY5LS44NTcgMy4xNTYtMS4xMTkuNDk3LS4xMTkuOTk5LS4yMTIgMS41MDQtLjI4N2w1Ni0zLjQ4M2gyNTJjMCAwIDM3LjMzIDIuMzIyIDU2IDMuNDgzLjUwNi4wNzUgMS4wMS4xNjggMS41MDYuMjg4IDEuMDg5LjI2MSAyLjE0OS42MzcgMy4xNTkgMS4xMiAyLjEzMiAxLjAxOCA0LjAyIDIuNTE0IDUuNTIgNC4zNCAxLjIzMSAxLjUwMiAyLjE5NCAzLjIyIDIuODQxIDUuMDUuNDM0IDEuMjMyLjcyNiAyLjUxMy44NjkgMy44MTEuMDYzLjU2OS4xMDQgMS43MTQuMTA0IDEuNzE0djcyLjM5YzAgMC0uMDQxIDEuMTQ2LS4xMDQgMS43MTYtLjE0NCAxLjI5OS0uNDM2IDIuNTgxLS44NzEgMy44MTItLjY0OCAxLjgzMi0xLjYxMiAzLjU1MS0yLjg0NSA1LjA1LTEuNDk4IDEuODI1LTMuMzg5IDMuMzItNS41MTkgNC4zMzgtMS4wMS40ODItMi4wNjkuODU3LTMuMTU2IDEuMTE5LS40OTcuMTE5LS45OTkuMjEyLTEuNTA0LjI4N2wtNTYgMy40ODNtLS4yOC0xMDNoLTI1MS40NGwtNTUuMjkgMy40MzljLS4xMDMuMDE5LS4yMDYuMDQtLjMwOC4wNjMtLjYwOC4xNDItMS4xOTUuMzU2LTEuNzQ1LjY1MS0uOTUxLjUxLTEuNzc2IDEuMjQxLTIuNDEzIDIuMTExLS40NTEuNjE0LS44MDggMS4yOTUtMS4wNjIgMi4wMS0uMjk5Ljg0NS0uNDYxIDIuNjI4LS40NjEgMi42Mjh2NzIuMjhjMCAwIC4xOTMgMS44MzQuNTE5IDIuNjk4LjI4Ny43NjEuNjkyIDEuNDc4IDEuMjAyIDIuMTEzLjY3MS44MzggMS41MjQgMS41MjggMi40OTMgMS45OTEuNTYzLjI2OSAxLjE2LjQ1OSAxLjc3NC41NzJsNTUuMjkgMy40MzloMjUxLjQ0bDU1LjI5LTMuNDM5Yy42MTItLjExMyAxLjIwNy0uMzAyIDEuNzY5LS41NyAxLjAyLS40ODggMS45MS0xLjIyNiAyLjU5OC0yLjEyMi40OC0uNjI1Ljg2MS0xLjMyNSAxLjEzMi0yLjA2NS4zMTctLjg2OS40OS0yLjcxLjQ5LTIuNzFsLS4wMDEtNzIuMjhjMCAwLS4xOTMtMS44MzQtLjUxOS0yLjY5OC0uMjg3LS43NjEtLjY5Mi0xLjQ3OC0xLjIwMS0yLjExMy0uNjcyLS44MzgtMS41MjUtMS41MjgtMi40OTUtMS45OTItLjU2My0uMjY5LTEuMTYtLjQ1OC0xLjc3My0uNTcxbC01NS4yOS0zLjQzOW0tNDEuNzIgMzhjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOW0tNDIgMGM0Ljk2NyAwIDkgNC4wMyA5IDkgMCA0Ljk2Ny00LjAzIDktOSA5LTQuOTY3IDAtOS00LjAzLTktOSAwLTQuOTY3IDQuMDMtOSA5LTltLTg0IDBjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOSIgc3R5bGU9ImZpbGw6Izk0NTA4ZCIvPgo8L3N2Zz4K"},83579:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTQ4IiBoZWlnaHQ9IjM2MCIgdmlld0JveD0iMCAwIDU0OCAzNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5Hcm91cDwvdGl0bGU+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0xOTYgMTczdjEzSDgxdi0xNCIvPjxtYXNrIGlkPSJqIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTE1IiBoZWlnaHQ9IjE0IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNhIi8+PC9tYXNrPjxwYXRoIGQ9Ik02LjUyMiAxNzNDMi45MiAxNzMgMCAxNzAuNjMxIDAgMTY3LjcxVjUuMjlDMCAyLjM3IDIuOTIgMCA2LjUyMiAwaDI2Mi45NTZDMjczLjA4IDAgMjc2IDIuMzY5IDI3NiA1LjI5djE2Mi40MmMwIDIuOTIxLTIuOTIgNS4yOS02LjUyMiA1LjI5SDYuNTIyeiIgaWQ9ImIiLz48bWFzayBpZD0iayIgeD0iMCIgeT0iMCIgd2lkdGg9IjI3NiIgaGVpZ2h0PSIxNzMiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2IiLz48L21hc2s+PHBhdGggaWQ9ImMiIGQ9Ik0xMyAxNjAuMTg1aDI0OS45MVYxM0gxM3oiLz48bWFzayBpZD0ibCIgeD0iMCIgeT0iMCIgd2lkdGg9IjI0OS45MTEiIGhlaWdodD0iMTQ3LjE4NSIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYyIvPjwvbWFzaz48cmVjdCBpZD0iZCIgd2lkdGg9IjE5MiIgaGVpZ2h0PSIxNDAiIHJ4PSI2Ii8+PG1hc2sgaWQ9Im0iIHg9IjAiIHk9IjAiIHdpZHRoPSIxOTIiIGhlaWdodD0iMTQwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNkIi8+PC9tYXNrPjxwYXRoIGlkPSJlIiBkPSJNMjAgMTFoMTUydjExOEgyMHoiLz48bWFzayBpZD0ibiIgeD0iMCIgeT0iMCIgd2lkdGg9IjE1MiIgaGVpZ2h0PSIxMTgiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2UiLz48L21hc2s+PGNpcmNsZSBpZD0iZiIgY3g9IjEyIiBjeT0iNzAiIHI9IjYiLz48bWFzayBpZD0ibyIgeD0iMCIgeT0iMCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNmIi8+PC9tYXNrPjxwYXRoIGlkPSJnIiBkPSJNMCAxOGg3MnY4NEgweiIvPjxtYXNrIGlkPSJwIiB4PSIwIiB5PSIwIiB3aWR0aD0iNzIiIGhlaWdodD0iODQiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2ciLz48L21hc2s+PGNpcmNsZSBpZD0iaCIgY3g9IjM2IiBjeT0iMTA5IiByPSI1Ii8+PG1hc2sgaWQ9InEiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjaCIvPjwvbWFzaz48cmVjdCBpZD0iaSIgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyMCIgcng9IjguNCIvPjxtYXNrIGlkPSJyIiB4PSIwIiB5PSIwIiB3aWR0aD0iNzIiIGhlaWdodD0iMTIwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNpIi8+PC9tYXNrPjwvZGVmcz48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI3MiA4NykiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI2opIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNhIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjaykiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2IiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNsKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjYyIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik0xMzcuMDQyIDEyMC43NUgxMTdsMjIuMTktMzQuMzc1TDExNyA1MmgyMC4wNDJsMjIuMTkgMzQuMzc1eiIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDIyMCkiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI20pIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNkIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjbikiIHN0cm9rZS13aWR0aD0iNCIgeGxpbms6aHJlZj0iI2UiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNvKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjZiIvPjxjaXJjbGUgZmlsbD0iI0JCQiIgY3g9IjE4MCIgY3k9IjcwIiByPSIyIi8+PHBhdGggZmlsbD0iI0Y4QUQxOCIgZD0iTTk0LjU4IDEwMkg3NmwyMC42NDUtMzAuOTY4TDc2IDM4aDE4LjU4bDIwLjY0NiAzMy4wMzJ6Ii8+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYwKSI+PHJlY3Qgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyMCIgcng9IjguNCIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3ApIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNnIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjcSkiIHN0cm9rZS13aWR0aD0iNCIgeGxpbms6aHJlZj0iI2giLz48cmVjdCBmaWxsPSIjQkJCIiB4PSIzMSIgeT0iMTAiIHdpZHRoPSIxMC44IiBoZWlnaHQ9IjIuNCIgcng9IjEuMiIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3IpIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNpIi8+PHBhdGggZD0iTTM1LjAzMiA3OUgyNGwxMi4yNTgtMTguMzg3TDI0IDQxaDExLjAzMkw0Ny4yOSA2MC42MTN6IiBmaWxsPSIjRjhBRDE4Ii8+PC9nPjwvZz48L3N2Zz4="},87414:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODEwIiBoZWlnaHQ9IjIzMCIgdmlld0JveD0iMCAwIDgxMCAyMzAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5QTVMg4oaSIENvbXB1dGVyPC90aXRsZT48ZGVmcz48cGF0aCBkPSJNMTU5LjU5NSAyMDcuNDc3Yy0uNDk0LTIuNDctMi42NS05LjczMi0zLjM0Ny0yMS40NDRIOTkuMzZjLS42OTggMTEuNzEyLTIuODUzIDE4Ljk3NC0zLjM0NiAyMS40NDQtLjk3NiA0Ljg4LTQuNzkgOC44MjktMTIuMDQgMTEuMDU5LTUuOTEyIDEuODE5LTUuMTU4IDEwLjY5MyAxLjY3NCAxMC42OTNoODQuMzE0YzYuODMxIDAgNy41ODctOC44NzMgMS42NzMtMTAuNjkzLTcuMjUtMi4yMy0xMS4wNjQtNi4xNzgtMTIuMDQtMTEuMDU5eiIgaWQ9ImEiLz48bWFzayBpZD0iZCIgeD0iMCIgeT0iMCIgd2lkdGg9Ijk1LjYzMyIgaGVpZ2h0PSI0My4xOTYiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTI1NiAxNDcuNXYzMS41NjRjMCA1LjUyNy00LjQ3IDEwLjAwOC05Ljk5NiAxMC4wMDhIOS45OTZjLTUuNTIgMC05Ljk5Ni00LjQ3Ni05Ljk5Ni0xMC4wMDhWMTAuMDAzQzAgNC40OCA0LjQ3IDAgOS45OTYgMGgyMzYuMDA4QzI1MS41MjQgMCAyNTYgNC40ODUgMjU2IDEwLjAwM1YxNDcuNXoiIGlkPSJiIi8+PG1hc2sgaWQ9ImUiIHg9IjAiIHk9IjAiIHdpZHRoPSIyNTYiIGhlaWdodD0iMTg5LjA3MiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYiIvPjwvbWFzaz48Y2lyY2xlIGlkPSJjIiBjeD0iMTEwIiBjeT0iMTEwIiByPSIxMTAiLz48bWFzayBpZD0iZiIgeD0iMCIgeT0iMCIgd2lkdGg9IjIyMCIgaGVpZ2h0PSIyMjAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2MiLz48L21hc2s+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTUzKSIgc3Ryb2tlPSIjQkJCIj48dXNlIG1hc2s9InVybCgjZCkiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2EiLz48dXNlIG1hc2s9InVybCgjZSkiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2IiLz48cGF0aCBkPSJNMS41IDE0Ny41aDI1My4xOTgiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDUpIj48dXNlIHN0cm9rZT0iI0Y4QUQxOCIgbWFzaz0idXJsKCNmKSIgc3Ryb2tlLXdpZHRoPSI4IiBmaWxsPSIjMUYxRjFGIiB4bGluazpocmVmPSIjYyIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik0xMTIuMTM0IDE3OS42NjdINzIuMTFsNDQuMzEtNjkuMDU2LTQ0LjMxLTY5LjA1NWg0MC4wMjNsNDQuMzEgNjkuMDU1eiIvPjwvZz48ZyBmaWxsPSIjQkJCIj48cGF0aCBkPSJNNTA0LjUgMTE1bC0xNCAxMy41di0yN3pNNDc5IDExOGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnoiLz48L2c+PC9nPjwvc3ZnPg=="},13353:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzE1IiBoZWlnaHQ9IjE0OSIgdmlld0JveD0iMCAwIDcxNSAxNDkiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5NRURJQSBJQ09OUzwvdGl0bGU+PGRlZnM+PHBhdGggZD0iTTU3Ljg5NyAwSDEwLjAwOEM0LjQ4MiAwIDAgNC40ODEgMCAxMC4wMDh2NS41MDVMNTcuODk3IDB6bTU2Ljc3NiAwaDMuODljNS41MjcgMCAxMC4wMDggNC40ODIgMTAuMDA4IDEwLjAwOHY0MS44NkwxMTQuNjczIDB6bTEzLjg5OCAxMTQuMTY4djQuMzk1YzAgNS41MjctNC40ODEgMTAuMDA4LTEwLjAwOCAxMC4wMDhINzQuODE4bDUzLjc1My0xNC40MDN6TTE2LjAyIDEyOC41NzFoLTYuMDFDNC40OCAxMjguNTcxIDAgMTI0LjA5IDAgMTE4LjU2M1Y2OC43ODlsMTYuMDE5IDU5Ljc4MnoiIGlkPSJhIi8+PG1hc2sgaWQ9ImoiIHg9Ii0yIiB5PSItMiIgd2lkdGg9IjEzMi41NzEiIGhlaWdodD0iMTMyLjU3MSI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTS0yLTJoMTMyLjU3MXYxMzIuNTcxSC0yeiIvPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHJlY3QgaWQ9ImIiIHdpZHRoPSIxMjguNTcxIiBoZWlnaHQ9IjEyOC41NzEiIHJ4PSIxMCIvPjxtYXNrIGlkPSJrIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTI4LjU3MSIgaGVpZ2h0PSIxMjguNTcxIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNiIi8+PC9tYXNrPjxwYXRoIGQ9Ik0zOS43ODIgMjYuNTkyVjgzLjk5Yy0zLjI3OS0xLjAzNC03LjIzNC0xLjE2LTExLjI2Ny0uMTAzLTguNzY3IDIuMjk3LTE0LjQ4OCA5LjI2LTEyLjc3IDE1LjUzNSAxLjcxOCA2LjI3NiAxMC4yMjYgOS41MDUgMTguOTk1IDcuMTk3IDguMTAxLTIuMTE2IDE0LjcxLTguMjE3IDE0LjE1LTE0LjA3NmwuMDQxLTQxLjcxOCA0MC4zODYtNS4zODV2MzMuMTY1Yy0zLjI4LTEuMDM0LTcuMjM1LTEuMTYtMTEuMjY4LS4xMDItOC43NjYgMi4yOTYtMTQuNDg4IDkuMjU5LTEyLjc3IDE1LjUzNXMxMC4yMjYgOS41MDQgMTguOTk1IDcuMTk2YzguMTAxLTIuMTE2IDE0LjcxMS04LjIxNyAxNC4xNTEtMTQuMDc1IDAtMTQuNzk1LjA0LTY1Ljk1LjA0LTY1Ljk1bC01OC42ODMgNS4zODR6IiBpZD0iYyIvPjxtYXNrIGlkPSJsIiB4PSIwIiB5PSIwIiB3aWR0aD0iODMuMDI1IiBoZWlnaHQ9Ijg2LjE1NiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYyIvPjwvbWFzaz48cGF0aCBkPSJNNjYuMTEzIDkuNTk1bC00MC43MDUtMy41NmE4Ljg0NSA4Ljg0NSAwIDAgMC05LjU4NiA4LjA0bC0uMzkgNC40NTcgNTAuNjgtOC45Mzd6bTU1LjczNCA0Ljg3N2w1LjQ3NS40NzljNC44NjguNDI1IDguNDcgNC43MTcgOC4wNDQgOS41ODNsLTMuODk1IDQ0LjUxOC05LjYyNC01NC41OHptNC4yMDEgMTE2LjU2bC0uNDcgNS4zODNhOC44NDUgOC44NDUgMCAwIDEtOS41ODYgOC4wNGwtNDQuMTYtMy44NjMgNTQuMjE2LTkuNTZ6bS0xMDQuNTkgNS4xNTNsLTcuMzgtLjY0NWMtNC44NjgtLjQyNi04LjQ3LTQuNzE4LTguMDQ0LTkuNTg0bDQuNTE3LTUxLjYyNSAxMC45MDYgNjEuODU0eiIgaWQ9ImQiLz48bWFzayBpZD0ibSIgeD0iLTIiIHk9Ii0yIiB3aWR0aD0iMTMzLjQiIGhlaWdodD0iMTQyLjQ5Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNCA0aDEzMy40djE0Mi40OUg0eiIvPjx1c2UgeGxpbms6aHJlZj0iI2QiLz48L21hc2s+PHBhdGggZD0iTS42MDcgOS4wMTVBOC44NDUgOC44NDUgMCAwIDEgOS40NTUuMTY5SDExMS43NmM0Ljg4NyAwIDguODQ4IDMuOTYxIDguODQ4IDguODQ2djExMi4zMDhhOC44NDUgOC44NDUgMCAwIDEtOC44NDggOC44NDZIOS40NTVjLTQuODg2IDAtOC44NDgtMy45NjItOC44NDgtOC44NDZWOS4wMTV6IiBpZD0iZSIvPjxtYXNrIGlkPSJuIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEzMCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZSIvPjwvbWFzaz48cGF0aCBpZD0iZiIgZD0iTTE0LjYzNiAxNC4xOTdoOTAuNjQ3djgyLjAxNEgxNC42MzZ6Ii8+PG1hc2sgaWQ9Im8iIHg9IjAiIHk9IjAiIHdpZHRoPSI5MC42NDciIGhlaWdodD0iODIuMDE0IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNmIi8+PC9tYXNrPjxwYXRoIGlkPSJnIiBkPSJNMTQuNjM2IDY1Ljk5NmwzMC4yMTYtMjMuNzQxIDIzLjc0IDI2Ljk3OCAxNC4wMy0xMC43OTEgMjIuNjYxIDIwLjUwNHYxNy4yNjZIMTQuNjM2eiIvPjxtYXNrIGlkPSJwIiB4PSIwIiB5PSIwIiB3aWR0aD0iOTAuNjQ3IiBoZWlnaHQ9IjUzLjk1NyIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZyIvPjwvbWFzaz48cGF0aCBkPSJNNjMuOTcyIDguNjgxTDIyLjEyIDUuMDE5YTUgNSAwIDAgMC01LjQyIDQuNTM5bC0uNjYzIDcuNTc1IDQ3LjkzNS04LjQ1MnptNDcuODg1IDQuMTlsMTAuODcyLjk1YTUuMDA0IDUuMDA0IDAgMCAxIDQuNTQ5IDUuNDExbC00Ljc0MiA1NC4yLTEwLjY3OS02MC41NjJ6bTUuMzkxIDEyMC45OThsLS42NTEgNy40NDdhNSA1IDAgMCAxLTUuNDIgNC41MzlsLTQxLjM3NC0zLjYyIDQ3LjQ0NS04LjM2NnptLTk2LjA0MiA0LjExNGwtMTAuNjM4LS45M2E1LjAwNCA1LjAwNCAwIDAgMS00LjU0OS01LjQxMWw0LjY2Ni01My4zMjcgMTAuNTIgNTkuNjY4eiIgaWQ9ImgiLz48bWFzayBpZD0icSIgeD0iLTIiIHk9Ii0yIiB3aWR0aD0iMTI1LjI5NyIgaGVpZ2h0PSIxNDQuODc0Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNCAzaDEyNS4yOTd2MTQ0Ljg3NEg0eiIvPjx1c2UgeGxpbms6aHJlZj0iI2giLz48L21hc2s+PHBhdGggZD0iTTExIDEzLjk5NEE1IDUgMCAwIDEgMTYuMDAzIDloMTAwLjk5NEE1LjAwNCA1LjAwNCAwIDAgMSAxMjIgMTMuOTk0djEyMi41NWE1LjAwMSA1LjAwMSAwIDAgMS01IDQuOTkzSDE2Yy0yLjc2MSAwLTUtMi4yNDQtNS00Ljk5M1YxMy45OTR6IiBpZD0iaSIvPjxtYXNrIGlkPSJyIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTExIiBoZWlnaHQ9IjEzMi41MzciIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2kiLz48L21hc2s+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgc3Ryb2tlPSIjRDhGRjk1IiBzdHJva2Utd2lkdGg9IjQiPjx1c2UgbWFzaz0idXJsKCNqKSIgeGxpbms6aHJlZj0iI2EiIHRyYW5zZm9ybT0icm90YXRlKDUgMjQxLjM5NiA2NjczLjYwNykiLz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgtMTAgNDEwLjE1IC0zMjI4LjA3KSI+PHVzZSBtYXNrPSJ1cmwoI2spIiB4bGluazpocmVmPSIjYiIvPjx1c2UgbWFzaz0idXJsKCNsKSIgeGxpbms6aHJlZj0iI2MiLz48L2c+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI3OSAtMSkiIHN0cm9rZT0iI0ZGQTBERSIgc3Ryb2tlLXdpZHRoPSI0Ij48dXNlIG1hc2s9InVybCgjbSkiIHhsaW5rOmhyZWY9IiNkIi8+PGcgdHJhbnNmb3JtPSJyb3RhdGUoLTEwIDEyMi42NSA3LjEzNSkiPjx1c2UgbWFzaz0idXJsKCNuKSIgeGxpbms6aHJlZj0iI2UiLz48dXNlIG1hc2s9InVybCgjbykiIHhsaW5rOmhyZWY9IiNmIi8+PHVzZSBtYXNrPSJ1cmwoI3ApIiB4bGluazpocmVmPSIjZyIvPjwvZz48L2c+PGcgc3Ryb2tlPSIjQTRFMkZGIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMSAtMSkiPjx1c2UgbWFzaz0idXJsKCNxKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjaCIvPjx1c2UgbWFzaz0idXJsKCNyKSIgc3Ryb2tlLXdpZHRoPSI0IiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAgNjYuNSA3NS4yNjkpIiB4bGluazpocmVmPSIjaSIvPjxwYXRoIHN0cm9rZS13aWR0aD0iMiIgZD0iTTExLjgyMyAzMS4wNTNsOS43OS0xLjcyNyAxLjcyNSA5Ljc5LTkuNzg5IDEuNzI2ek0xNS45OTQgNTQuNzFsOS43OS0xLjcyNSAxLjcyNiA5Ljc4OS05Ljc5IDEuNzI2ek0yMC4xNjYgNzguMzY4bDkuNzktMS43MjcgMS43MjUgOS43OS05Ljc4OSAxLjcyNXpNMjQuMzM3IDEwMi4wMjZsOS43OS0xLjcyNiAxLjcyNiA5Ljc4OS05Ljc5IDEuNzI2ek0yOC41MSAxMjUuNjgybDkuNzg4LTEuNzI2IDEuNzI2IDkuNzktOS43ODkgMS43MjV6TTkzLjQgMTYuNjY5bDkuNzktMS43MjYgMS43MjUgOS43ODktOS43ODggMS43MjZ6TTk3LjU3MyA0MC4zMjZsOS43ODktMS43MjYgMS43MjYgOS43OS05Ljc5IDEuNzI1ek0xMDEuNzQzIDYzLjk4NGw5Ljc5LTEuNzI2IDEuNzI2IDkuNzg4LTkuNzkgMS43Mjd6TTEwNS45MTQgODcuNjRsOS43OS0xLjcyNSAxLjcyNSA5Ljc4OS05Ljc4OSAxLjcyNnpNMTEwLjA4NiAxMTEuMjk5bDkuNzktMS43MjcgMS43MjYgOS43OS05Ljc5IDEuNzI2ek0zMS43MTYgMzIuNjU5bDUyLjIxLTkuMjA2IDcuMTkxIDQwLjc4OC01Mi4yMSA5LjIwNnpNNDEuNDk3IDg4LjEzMmw1Mi4yMS05LjIwNiA3LjE5MSA0MC43ODgtNTIuMjEgOS4yMDZ6Ii8+PC9nPjwvZz48L3N2Zz4="},49730:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTQ1IiBoZWlnaHQ9IjM2MCIgdmlld0JveD0iMCAwIDk0NSAzNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5QTEFZIE1FRElBIElDT05TPC90aXRsZT48ZGVmcz48cGF0aCBpZD0iYSIgZD0iTTE5NiAxNzJ2MTRIODF2LTE0Ii8+PG1hc2sgaWQ9Im0iIHg9IjAiIHk9IjAiIHdpZHRoPSIxMTUiIGhlaWdodD0iMTQiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTYuNTIyIDE3M0MyLjkyIDE3MyAwIDE3MC42MzEgMCAxNjcuNzFWNS4yOUMwIDIuMzcgMi45MiAwIDYuNTIyIDBoMjYyLjk1NkMyNzMuMDggMCAyNzYgMi4zNjkgMjc2IDUuMjl2MTYyLjQyYzAgMi45MjEtMi45MiA1LjI5LTYuNTIyIDUuMjlINi41MjJ6IiBpZD0iYiIvPjxtYXNrIGlkPSJuIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjc2IiBoZWlnaHQ9IjE3MyIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYiIvPjwvbWFzaz48cGF0aCBpZD0iYyIgZD0iTTEzIDE2MC4xODVoMjQ5LjkxVjEzSDEzeiIvPjxtYXNrIGlkPSJvIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQ5LjkxMSIgaGVpZ2h0PSIxNDcuMTg1IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNjIi8+PC9tYXNrPjxyZWN0IGlkPSJkIiB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE0MCIgcng9IjYiLz48bWFzayBpZD0icCIgeD0iMCIgeT0iMCIgd2lkdGg9IjE5MiIgaGVpZ2h0PSIxNDAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2QiLz48L21hc2s+PHBhdGggaWQ9ImUiIGQ9Ik0yMCAxMWgxNTJ2MTE4SDIweiIvPjxtYXNrIGlkPSJxIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTUyIiBoZWlnaHQ9IjExOCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZSIvPjwvbWFzaz48Y2lyY2xlIGlkPSJmIiBjeD0iMTIiIGN5PSI3MCIgcj0iNiIvPjxtYXNrIGlkPSJyIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2YiLz48L21hc2s+PHBhdGggaWQ9ImciIGQ9Ik0wIDE4aDcydjg0SDB6Ii8+PG1hc2sgaWQ9InMiIHg9IjAiIHk9IjAiIHdpZHRoPSI3MiIgaGVpZ2h0PSI4NCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZyIvPjwvbWFzaz48Y2lyY2xlIGlkPSJoIiBjeD0iMzYiIGN5PSIxMDkiIHI9IjUiLz48bWFzayBpZD0idCIgeD0iMCIgeT0iMCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjEwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNoIi8+PC9tYXNrPjxyZWN0IGlkPSJpIiB3aWR0aD0iNzIiIGhlaWdodD0iMTIwIiByeD0iOC40Ii8+PG1hc2sgaWQ9InUiIHg9IjAiIHk9IjAiIHdpZHRoPSI3MiIgaGVpZ2h0PSIxMjAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2kiLz48L21hc2s+PHBhdGggZD0iTTE1OS41OTUgMjA3LjQ3N2MtLjQ5NC0yLjQ3LTIuNjUtOS43MzItMy4zNDctMjEuNDQ0SDk5LjM2Yy0uNjk4IDExLjcxMi0yLjg1MyAxOC45NzQtMy4zNDYgMjEuNDQ0LS45NzYgNC44OC00Ljc5IDguODI5LTEyLjA0IDExLjA1OS01LjkxMiAxLjgxOS01LjE1OCAxMC42OTMgMS42NzQgMTAuNjkzaDg0LjMxNGM2LjgzMSAwIDcuNTg3LTguODczIDEuNjczLTEwLjY5My03LjI1LTIuMjMtMTEuMDY0LTYuMTc4LTEyLjA0LTExLjA1OXoiIGlkPSJqIi8+PG1hc2sgaWQ9InYiIHg9IjAiIHk9IjAiIHdpZHRoPSI5NS42MzMiIGhlaWdodD0iNDMuMTk2IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNqIi8+PC9tYXNrPjxwYXRoIGQ9Ik0yNTYgMTQ3LjV2MzEuNTY0YzAgNS41MjctNC40NyAxMC4wMDgtOS45OTYgMTAuMDA4SDkuOTk2Yy01LjUyIDAtOS45OTYtNC40NzYtOS45OTYtMTAuMDA4VjEwLjAwM0MwIDQuNDggNC40NyAwIDkuOTk2IDBoMjM2LjAwOEMyNTEuNTI0IDAgMjU2IDQuNDg1IDI1NiAxMC4wMDNWMTQ3LjV6IiBpZD0iayIvPjxtYXNrIGlkPSJ3IiB4PSIwIiB5PSIwIiB3aWR0aD0iMjU2IiBoZWlnaHQ9IjE4OS4wNzIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2siLz48L21hc2s+PGNpcmNsZSBpZD0ibCIgY3g9IjU1IiBjeT0iNTUiIHI9IjU1Ii8+PG1hc2sgaWQ9IngiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMTAiIGhlaWdodD0iMTEwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNsIi8+PC9tYXNrPjwvZGVmcz48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDY2OSA4NykiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI20pIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNhIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjbikiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2IiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNvKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjYyIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik0xMzcuMDQyIDEyMC43NUgxMTdsMjIuMTktMzQuMzc1TDExNyA1MmgyMC4wNDJsMjIuMTkgMzQuMzc1eiIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzOTcgMjIwKSI+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjcCkiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2QiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNxKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjZSIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3IpIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNmIi8+PGNpcmNsZSBmaWxsPSIjQkJCIiBjeD0iMTgwIiBjeT0iNzAiIHI9IjIiLz48cGF0aCBmaWxsPSIjRjhBRDE4IiBkPSJNOTQuNTggMTAySDc2bDIwLjY0NS0zMC45NjhMNzYgMzhoMTguNThsMjAuNjQ2IDMzLjAzMnoiLz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDU3KSI+PHJlY3Qgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyMCIgcng9IjguNCIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3MpIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNnIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjdCkiIHN0cm9rZS13aWR0aD0iNCIgeGxpbms6aHJlZj0iI2giLz48cmVjdCBmaWxsPSIjQkJCIiB4PSIzMSIgeT0iMTAiIHdpZHRoPSIxMC44IiBoZWlnaHQ9IjIuNCIgcng9IjEuMiIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3UpIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNpIi8+PHBhdGggZD0iTTM1LjAzMiA3OUgyNGwxMi4yNTgtMTguMzg3TDI0IDQxaDExLjAzMkw0Ny4yOSA2MC42MTN6IiBmaWxsPSIjRjhBRDE4Ii8+PC9nPjxnIHN0cm9rZT0iI0JCQiIgc3Ryb2tlLXdpZHRoPSI0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik0zMzAuNTk4IDE4My4yNTRDMzQxLjM1NSAxNzIuNDEgMzQ4IDE1Ny40ODEgMzQ4IDE0MWMwLTE2LjcyMy02Ljg0MS0zMS44NDgtMTcuODc4LTQyLjcyOCIvPjxwYXRoIGQ9Ik0zMTkuOTg4IDE3Mi42NUMzMjguMDMzIDE2NC41MiAzMzMgMTUzLjM0IDMzMyAxNDFjMC0xMi41MjMtNS4xMTUtMjMuODUxLTEzLjM3LTMyLjAxTTMwOS41MDIgMTYxLjkyQTI5LjkwMiAyOS45MDIgMCAwIDAgMzE4IDE0MWMwLTguMzc2LTMuNDMzLTE1Ljk1MS04Ljk2OS0yMS4zOTQiLz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCA2NSkiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3YpIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNqIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjdykiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2siLz48cGF0aCBkPSJNMS41IDE0Ny41aDI1My4xOTgiIHN0cm9rZT0iI0JCQiIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzMgMjEpIj48dXNlIHN0cm9rZT0iI0Y4QUQxOCIgbWFzaz0idXJsKCN4KSIgc3Ryb2tlLXdpZHRoPSI2IiBmaWxsPSIjMUYxRjFGIiB4bGluazpocmVmPSIjbCIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik01Ni4zODIgODkuMzc1SDM2LjMzOUw1OC41MyA1NSAzNi4zNCAyMC42MjVoMjAuMDQzTDc4LjU3MiA1NXoiLz48L2c+PC9nPjwvZz48L3N2Zz4="},13838:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMTUiIHdpZHRoPSIzIiBoZWlnaHQ9IjE2IiByeD0iMSIgZmlsbD0iIzQ0NEY1NiIvPjxyZWN0IHg9IjEwIiB5PSIzIiB3aWR0aD0iMyIgaGVpZ2h0PSIxMyIgcng9IjEiIGZpbGw9IiM0NDRGNTYiLz48cmVjdCB4PSI1IiB5PSI3IiB3aWR0aD0iMyIgaGVpZ2h0PSI5IiByeD0iMSIgZmlsbD0iIzQ0NEY1NiIvPjxyZWN0IHk9IjEwIiB3aWR0aD0iMyIgaGVpZ2h0PSI2IiByeD0iMSIgZmlsbD0iI0U3NUI2MSIvPjwvc3ZnPg=="},468:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMTUiIHdpZHRoPSIzIiBoZWlnaHQ9IjE2IiByeD0iMSIgZmlsbD0iIzQ0NEY1NiIvPjxyZWN0IHg9IjEwIiB5PSIzIiB3aWR0aD0iMyIgaGVpZ2h0PSIxMyIgcng9IjEiIGZpbGw9IiM0NDRGNTYiLz48cmVjdCB4PSI1IiB5PSI3IiB3aWR0aD0iMyIgaGVpZ2h0PSI5IiByeD0iMSIgZmlsbD0iI0U1QTAwRCIvPjxyZWN0IHk9IjEwIiB3aWR0aD0iMyIgaGVpZ2h0PSI2IiByeD0iMSIgZmlsbD0iI0U1QTAwRCIvPjwvc3ZnPg=="},61721:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMTUiIHdpZHRoPSIzIiBoZWlnaHQ9IjE2IiByeD0iMSIgZmlsbD0iIzQ0NEY1NiIvPjxyZWN0IHg9IjEwIiB5PSIzIiB3aWR0aD0iMyIgaGVpZ2h0PSIxMyIgcng9IjEiIGZpbGw9IiNFNUEwMEQiLz48cmVjdCB4PSI1IiB5PSI3IiB3aWR0aD0iMyIgaGVpZ2h0PSI5IiByeD0iMSIgZmlsbD0iI0U1QTAwRCIvPjxyZWN0IHk9IjEwIiB3aWR0aD0iMyIgaGVpZ2h0PSI2IiByeD0iMSIgZmlsbD0iI0U1QTAwRCIvPjwvc3ZnPg=="},99717:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMTUiIHdpZHRoPSIzIiBoZWlnaHQ9IjE2IiByeD0iMSIgZmlsbD0iIzc1QUU5NCIvPjxyZWN0IHg9IjEwIiB5PSIzIiB3aWR0aD0iMyIgaGVpZ2h0PSIxMyIgcng9IjEiIGZpbGw9IiM3NUFFOTQiLz48cmVjdCB4PSI1IiB5PSI3IiB3aWR0aD0iMyIgaGVpZ2h0PSI5IiByeD0iMSIgZmlsbD0iIzc1QUU5NCIvPjxyZWN0IHk9IjEwIiB3aWR0aD0iMyIgaGVpZ2h0PSI2IiByeD0iMSIgZmlsbD0iIzc1QUU5NCIvPjwvc3ZnPg=="},43827:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDE8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTEwNzguMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJTdHJlbmd0aC1JbmRpY2F0b3JzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzc4LjAwMDAwMCwgNzU4LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLS0tMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDMyMC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNSIgZmlsbD0iIzUyNTI1MiIgeD0iMzUuNzQ0NjgwOSIgeT0iMCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMzIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5IiBmaWxsPSIjNTI1MjUyIiB4PSIyNi44MDg1MTA2IiB5PSI2LjQiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjI1LjYiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTIiIGZpbGw9IiM1MjUyNTIiIHg9IjE3Ljg3MjM0MDQiIHk9IjEyLjgiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjE5LjIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTMiIGZpbGw9IiM1MjUyNTIiIHg9IjguOTM2MTcwMjEiIHk9IjE5LjIiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjEyLjgiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTQiIGZpbGw9IiNEMDAyMUIiIHg9IjAiIHk9IjI1LjYiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjYuNCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},10487:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDI8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTk5OC4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMjQwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS01IiBmaWxsPSIjNTI1MjUyIiB4PSIzNS43NDQ2ODA5IiB5PSIwIiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIzMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHkiIGZpbGw9IiM1MjUyNTIiIHg9IjI2LjgwODUxMDYiIHk9IjYuNCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMjUuNiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMiIgZmlsbD0iIzUyNTI1MiIgeD0iMTcuODcyMzQwNCIgeT0iMTIuOCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTkuMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMyIgZmlsbD0iI0Y5ODkwMCIgeD0iOC45MzYxNzAyMSIgeT0iMTkuMiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTIuOCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNCIgZmlsbD0iI0Y5ODkwMCIgeD0iMCIgeT0iMjUuNiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iNi40IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},29321:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDM8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTkxOC4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMTYwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS01IiBmaWxsPSIjNTI1MjUyIiB4PSIzNS43NDQ2ODA5IiB5PSIwIiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIzMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHkiIGZpbGw9IiM1MjUyNTIiIHg9IjI2LjgwODUxMDYiIHk9IjYuNCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMjUuNiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMiIgZmlsbD0iI0Y5QkUwMyIgeD0iMTcuODcyMzQwNCIgeT0iMTIuOCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTkuMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMyIgZmlsbD0iI0Y5QkUwMyIgeD0iOC45MzYxNzAyMSIgeT0iMTkuMiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTIuOCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNCIgZmlsbD0iI0Y5QkUwMyIgeD0iMCIgeT0iMjUuNiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iNi40IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},59628:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDQ8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTgzOC4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS00IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgODAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTUiIGZpbGw9IiM1MjUyNTIiIHg9IjM1Ljc0NDY4MDkiIHk9IjAiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjMyIiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weSIgZmlsbD0iI0FDRDMyMSIgeD0iMjYuODA4NTEwNiIgeT0iNi40IiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIyNS42IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0yIiBmaWxsPSIjQUNEMzIxIiB4PSIxNy44NzIzNDA0IiB5PSIxMi44IiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIxOS4yIiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0zIiBmaWxsPSIjQUNEMzIxIiB4PSI4LjkzNjE3MDIxIiB5PSIxOS4yIiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIxMi44IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS00IiBmaWxsPSIjQUNEMzIxIiB4PSIwIiB5PSIyNS42IiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSI2LjQiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},89592:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTc1OC4wMDAwMDApIiBmaWxsPSIjN0VEMzIxIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS01Ij4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHkiIHg9IjI2LjgwODUxMDYiIHk9IjYuNCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMjUuNiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNSIgeD0iMzUuNzQ0NjgwOSIgeT0iMCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMzIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTIiIHg9IjE3Ljg3MjM0MDQiIHk9IjEyLjgiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjE5LjIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTMiIHg9IjguOTM2MTcwMjEiIHk9IjE5LjIiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjEyLjgiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTQiIHg9IjAiIHk9IjI1LjYiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjYuNCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},13781:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTI4MCAwQzEyNS41MTcgMCAwIDEyNS41MTcgMCAyODBzMTI1LjUxNyAyODAgMjgwIDI4MCAyODAtMTI1LjUxNyAyODAtMjgwUzQzNC40ODMgMCAyODAgMHoiIGZpbGw9IiM1MTU5NUUiLz4KICAgIDxwYXRoIGQ9Ik00MzIuMDY5IDQ2OC4yNzZjLTI0LjEzOCAyNi41NTItNzAgNTMuMTAzLTEwNi4yMDcgNTMuMTAzLTcuMjQxLTkuNjU1IDAtMTIuMDY5IDAtMjEuNzI0LTE5LjMxLTQuODI3LTMxLjM4LTIxLjcyNC00MS4wMzQtMzguNjItMi40MTQtMTkuMzEgMjQuMTM4LTM4LjYyMSAxNi44OTYtNTUuNTE4LTEyLjA2OSAyLjQxNC0yNi41NTItMi40MTQtMzYuMjA3LTkuNjU1LTQuODI3LTQuODI4LTkuNjU1LTkuNjU1LTEyLjA2OS0xNC40ODMtNy4yNDEtNC44MjctMTYuODk2LTcuMjQxLTI0LjEzOC05LjY1NS0yNi41NTEtOS42NTUtNTMuMTAzLTE5LjMxLTcyLjQxMy00MS4wMzQgMi40MTMtMTkuMzEtOS42NTYtMjguOTY2LTIxLjcyNS00My40NDktMTIuMDY5LTEyLjA2OS03LjI0MS0yNC4xMzgtMTIuMDY5LTQxLjAzNC00LjgyNy0xMi4wNy05LjY1NS0yMS43MjQtOS42NTUtMzMuNzkzIDAtMTIuMDcgNC44MjgtMjQuMTM4IDcuMjQyLTM2LjIwNyA3LjI0MS0yMS43MjQgMjEuNzI0LTQzLjQ0OCAyMS43MjQtNjcuNTg2IDIuNDE0LTkuNjU1LTE0LjQ4My0xMi4wNy0yLjQxNC0yNC4xMzggMTIuMDY5LTEyLjA3IDI4Ljk2Ni0yNi41NTIgNDguMjc2LTI2LjU1MiA5LjY1NSAwIDE0LjQ4MyA0LjgyOCAyNC4xMzggMi40MTQgOS42NTUtMi40MTQgMTkuMzEtNC44MjggMjguOTY1LTQuODI4IDE5LjMxLTIuNDE0IDM4LjYyMS03LjI0MSA1My4xMDQtMTkuMzFsMi40MTQgMi40MTRoMTQuNDgybDIuNDE0LTIuNDE0YzIxLjcyNCAxNi44OTYgNzIuNDE0IDkuNjU1IDY3LjU4NiA1MC42OXYyLjQxM2MtMTkuMzEgMi40MTQtMzMuNzkzIDAtNTMuMTAzLTcuMjQxdjIxLjcyNGMyOC45NjUgMTYuODk3IDY1LjE3MiAyOC45NjYgNzcuMjQxIDYwLjM0NS0xMi4wNjkgMTQuNDgzLTI2LjU1MSA3LjI0MS00My40NDggNy4yNDEtNC44MjggNC44MjgtNy4yNDEgOS42NTUtNC44MjggMTYuODk3LTEyLjA2OSA3LjI0MS0yNC4xMzggMTQuNDgzLTI4Ljk2NSAyOC45NjUtMi40MTQgNy4yNDIgMCAxOS4zMS0yLjQxNCAyNi41NTItNC44MjggOS42NTUtMTQuNDgzIDE2Ljg5Ny0xOS4zMSAyNi41NTIgMCAxNC40ODMgNy4yNDEgMjQuMTM4LTcuMjQyIDM2LjIwNy0xOS4zMSAwLTIxLjcyNC0xNC40ODMtMzYuMjA3LTE5LjMxLTEyLjA2OS00LjgyOC0yOC45NjUgMC00MS4wMzQtMi40MTQtMTkuMzEgNy4yNDEtMTYuODk3IDUzLjEwMyA5LjY1NSA0NS44NjIgMTIuMDctNC44MjggMTIuMDctMTIuMDcgMjguOTY2LTkuNjU2IDEyLjA2OSA3LjI0MiA0LjgyNyAyMS43MjUgNC44MjcgMzEuMzggNy4yNDIgNC44MjcgMTkuMzEgMi40MTQgMjQuMTM4IDEyLjA2OSAwIDcuMjQxLTIuNDE0IDE5LjMxIDIuNDE0IDI0LjEzOCA5LjY1NSAxNC40ODIgMzYuMjA3LTkuNjU1IDQzLjQ0OC0xMi4wNyAyMS43MjQtNy4yNCA0NS44NjItNC44MjcgNjcuNTg2LTQuODI3IDE2Ljg5NyAxMi4wNyA0My40NDkgNy4yNDIgNTcuOTMxIDI0LjEzOCA5LjY1Ni0yLjQxNCAxNi44OTctNy4yNDEgMjYuNTUyIDAtOS42NTUgMjguOTY2LTMzLjc5MyA1MC42OS01NS41MTcgNzIuNDE0eiIgZmlsbD0iI0EwQUFCMSIvPgogIDwvZz4KPC9zdmc+Cg=="},52373:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjQgMEMzNy4yNDU5IDAgNDggMTAuNzU0MSA0OCAyNEM0OCAzNy4yNDU5IDM3LjI0NTkgNDggMjQgNDhDMTAuNzU0MSA0OCAwIDM3LjI0NTkgMCAyNEMwIDEwLjc1NDEgMTAuNzU0MSAwIDI0IDBaIiBmaWxsPSIjRTVBMDBEIi8+CiAgPHBhdGggZD0iTTI0IDhMOCAyNUgyMVY0MEgyN1YyNUg0MEwyNCA4WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg=="},97125:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTEyLjcwOCAxNC42NjdhNS4zNCA1LjM0IDAgMCAxLTUuMzMzLTUuMzMzIDUuMzM5IDUuMzM5IDAgMCAxIDUuMzMzLTUuMzMzIDUuMzM5IDUuMzM5IDAgMCAxIDUuMzMzIDUuMzMzIDUuMzM5IDUuMzM5IDAgMCAxLTUuMzMzIDUuMzMzem0wLTkuMzM0Yy0yLjIwNSAwLTQgMS43OTUtNCA0czEuNzk1IDQgNCA0IDQtMS43OTUgNC00LTEuNzk1LTQtNC00ek0yMC4wNDEgMTZjLjM3IDAgLjY2Ny4yOTkuNjY3LjY2NyAwIDQuNzM3LTEuNjk1IDguNDkyLTQuNjY3IDEwLjM3N3Y4LjI4OWEuNjY3LjY2NyAwIDAgMS0uNjY3LjY2N2gtNS4zMzNhLjY2Ny42NjcgMCAwIDEtLjY2Ny0uNjY3di04LjI4OWMtMi45NzItMS44ODQtNC42NjctNS42MzgtNC42NjctMTAuMzc3IDAtLjM2OC4yOTktLjY2Ny42NjctLjY2N2gxNC42Njd6bS03LjI4IDEuMzMzaC0uMTA4bC0uNTg5IDcuMDgxLjY0My42NDMuNjQzLS42NDMtLjU4OS03LjA4MXptMi4yODQgOC43NTRsLS4wMDEtLjAwMWMyLjYxMi0xLjQ4NSA0LjE2Ni00LjY1NCA0LjMxNy04Ljc1M2gtNS4yNjRsLjYwOCA3LjI3OWEuNjY4LjY2OCAwIDAgMS0uMTkzLjUyN2wtMS4zMzMgMS4zMzNhLjY2OS42NjkgMCAwIDEtLjQ3Mi4xOTUuNjU0LjY1NCAwIDAgMS0uNDY5LS4xOTZsLTEuMzMzLTEuMzMzYS42Ny42NyAwIDAgMS0uMTkzLS41MjdsLjYwNy03LjI3N0g2LjA1NWMuMTUxIDQuMSAxLjcwNSA3LjI2OCA0LjMxNiA4Ljc1My4yMDguMTE5LjMzNy4zNC4zMzcuNTh2OGg0di04YzAtLjI0LjEyOS0uNDYxLjMzNy0uNTh6TTM1LjMzMyA1LjMzM2MuMzY4IDAgLjY2Ny4yOTkuNjY3LjY2N3YxOC42NjdhLjY2Ny42NjcgMCAwIDEtLjY2Ny42NjdIMjIuNjY2YS42NjcuNjY3IDAgMCAxIDAtMS4zMzRoMTJWNi42NjdIMjEuMzMzYS42NjcuNjY3IDAgMCAxIDAtMS4zMzRoMTR6TTIzLjAxNyAyMC41NDF2LS4wMDJhLjY2Ni42NjYgMCAwIDEtLjM5Mi0uODU2bDIuNS02LjcxN2EuNjcuNjcgMCAwIDEgLjM4NS0uMzkyLjY4LjY4IDAgMCAxIC41NDguMDMxbDMuMzg5IDEuNzcyIDEuNzUyLTUuMjU3YS42NjYuNjY2IDAgMSAxIDEuMjY0LjQyM2wtMiA2YS42Ny42NyAwIDAgMS0uMzgzLjQwOC42NzQuNjc0IDAgMCAxLS41NTctLjAyOGwtMy40MTMtMS43ODUtMi4yMzYgNi4wMTFhLjY2OS42NjkgMCAwIDEtLjg1Ny4zOTJ6IiBmaWxsPSIjQ0M3QjE5IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KPC9zdmc+Cg=="},7568:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8ZyBmaWxsPSIjQ0M3QjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzIDQpIj4KICAgIDxwYXRoIGQ9Ik0yNSwxNiBDMjAuNTg4LDE2IDE3LDE5LjU4OCAxNywyNCBDMTcsMjguNDEyIDIwLjU4OCwzMiAyNSwzMiBDMjkuNDEyLDMyIDMzLDI4LjQxMiAzMywyNCBDMzMsMTkuNTg4IDI5LjQxMiwxNiAyNSwxNiBaIE0yNSwzMC42NjcgQzIxLjMyNCwzMC42NjcgMTguMzMzLDI3LjY3NiAxOC4zMzMsMjQgQzE4LjMzMywyMC4zMjQgMjEuMzI0LDE3LjMzMyAyNSwxNy4zMzMgQzI4LjY3NiwxNy4zMzMgMzEuNjY3LDIwLjMyNCAzMS42NjcsMjQgQzMxLjY2NywyNy42NzYgMjguNjc2LDMwLjY2NyAyNSwzMC42NjcgWiIvPgogICAgPHBhdGggZD0iTTI1LDIwIEMyMi43OTUsMjAgMjEsMjEuNzk1IDIxLDI0IEMyMSwyNi4yMDUgMjIuNzk1LDI4IDI1LDI4IEMyNy4yMDUsMjggMjksMjYuMjA1IDI5LDI0IEMyOSwyMS43OTUgMjcuMjA1LDIwIDI1LDIwIFogTTI1LDI2LjY2NyBDMjMuNTI5LDI2LjY2NyAyMi4zMzMsMjUuNDcxIDIyLjMzMywyNCBDMjIuMzMzLDIyLjUyOSAyMy41MjksMjEuMzMzIDI1LDIxLjMzMyBDMjYuNDcxLDIxLjMzMyAyNy42NjcsMjIuNTI5IDI3LjY2NywyNCBDMjcuNjY3LDI1LjQ3MSAyNi40NzEsMjYuNjY3IDI1LDI2LjY2NyBaIi8+CiAgICA8cGF0aCBkPSJNMzIuMzMzIDkuMzMzTDEuNjY2IDkuMzMzQzEuMjk4IDkuMzMzLjk5OSA5LjYzMi45OTkgMTBMLjk5OSAyNi44MDFDLjk5OSAyOC4xOTcgMi4xNTggMjkuMzMzIDMuNTgzIDI5LjMzM0wxNC4zMzIgMjkuMzMzIDE0LjMzMiAyOCAzLjU4MyAyOEMyLjg5MiAyOCAyLjMzMiAyNy40NjMgMi4zMzIgMjYuODAxTDIuMzMyIDEwLjY2NiAzMS42NjUgMTAuNjY2IDMxLjY2NSAxNS45OTMgMzIuOTk4IDE1Ljk5MyAzMi45OTggMTBDMzIuOTk4IDkuNjMyIDMyLjY5OSA5LjMzMyAzMi4zMzEgOS4zMzNMMzIuMzMzIDkuMzMzek0zMSAwTDMgMEMxLjg5NyAwIDEgLjg5NyAxIDIuMDAxTDEgNy4zMzNDMSA3LjcwMSAxLjI5OSA4IDEuNjY3IDhMMzIuMzM0IDhDMzIuNzAyIDggMzMuMDAxIDcuNzAxIDMzLjAwMSA3LjMzM0wzMy4wMDEgMi4wMDFDMzMuMDAxLjg5NyAzMi4xMDQgNC40NDA4OTIxZS0xNiAzMS4wMDEgNC40NDA4OTIxZS0xNkwzMSAwek0zMS42MiAxLjc3MkwyNi43MjUgNi42NjcgMjMuMjc3IDYuNjY3IDI4LjYxIDEuMzM0IDMwLjk5OSAxLjMzNEMzMS4yODYgMS4zMzQgMzEuNTI2IDEuNTE4IDMxLjYxOSAxLjc3M0wzMS42MiAxLjc3MnpNMTIuNjExIDEuMzMzTDE2LjA1OSAxLjMzMyAxMC43MjYgNi42NjYgNy4yNzggNi42NjYgMTIuNjExIDEuMzMzek01LjM5MiA2LjY2N0wyLjYxMSA2LjY2NyA3Ljk0NCAxLjMzNCAxMC43MjUgMS4zMzQgNS4zOTIgNi42Njd6TTE3Ljk0NCAxLjMzM0wyMS4zOTIgMS4zMzMgMTYuMDU5IDYuNjY2IDEyLjYxMSA2LjY2NiAxNy45NDQgMS4zMzN6TTIzLjI3NyAxLjMzM0wyNi43MjUgMS4zMzMgMjEuMzkyIDYuNjY2IDE3Ljk0NCA2LjY2NiAyMy4yNzcgMS4zMzN6TTMgMS4zMzNMNi4wNTkgMS4zMzMgMi4zMzQgNS4wNTggMi4zMzQgMi4wMDFDMi4zMzQgMS42MzMgMi42MzMgMS4zMzMgMy4wMDEgMS4zMzNMMyAxLjMzM3pNMjguNjExIDYuNjY3TDMxLjY2NyAzLjYxMSAzMS42NjcgNi42NjcgMjguNjExIDYuNjY3eiIvPgogIDwvZz4KPC9zdmc+Cg=="},21696:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8ZyBmaWxsPSIjQ0M3QjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMCA0KSI+CiAgICA8cGF0aCBkPSJNMTUuOTUxLDE2LjQ0NCBDMTUuODUsMTYuMTkzIDE1LjYwOCwxNi4wMjkgMTUuMzM5LDE2LjAyOCBMMTIuNjY3LDE2LjAwNSBMMTIuNjY3LDEwIEMxMi42NjcsOS42MzIgMTIuMzY4LDkuMzMzIDEyLDkuMzMzIEw4LDkuMzMzIEM3LjYzMiw5LjMzMyA3LjMzMyw5LjYzMiA3LjMzMywxMCBMNy4zMzMsMTYgTDQuNjEsMTYgQzQuMzQxLDE2IDQuMDk3LDE2LjE2MyAzLjk5NCwxNi40MTIgQzMuODksMTYuNjYxIDMuOTQ3LDE2Ljk0OCA0LjEzOCwxNy4xMzkgTDkuNDcxLDIyLjQ3MiBDOS42MDIsMjIuNjAxIDkuNzcyLDIyLjY2NyA5Ljk0MywyMi42NjcgQzEwLjExMSwyMi42NjcgMTAuMjgsMjIuNjAzIDEwLjQxMSwyMi40NzUgTDE1LjgsMTcuMTcgQzE1Ljk5MiwxNi45ODEgMTYuMDUyLDE2LjY5NSAxNS45NDksMTYuNDQ1IEwxNS45NTEsMTYuNDQ0IFogTTkuOTQ4LDIxLjA2MSBMNi4yMiwxNy4zMzMgTDgsMTcuMzMzIEM4LjM2OCwxNy4zMzMgOC42NjcsMTcuMDM0IDguNjY3LDE2LjY2NiBMOC42NjcsMTAuNjY2IEwxMS4zMzQsMTAuNjY2IEwxMS4zMzQsMTYuNjY2IEMxMS4zMzQsMTcuMDMxIDExLjYyOSwxNy4zMyAxMS45OTUsMTcuMzMzIEwxMy43MTksMTcuMzQ4IEw5Ljk0OCwyMS4wNjEgWiIvPgogICAgPHBhdGggZD0iTTE2LDcuODg4NjA5MDVlLTMxIEw0LDcuODg4NjA5MDVlLTMxIEMyLjE2Myw3Ljg4ODYwOTA1ZS0zMSAwLjY2NywxLjQ5NSAwLjY2NywzLjMzMyBMMC42NjcsMjguNjY2IEMwLjY2NywzMC41MDUgMi4xNjMsMzEuOTk5IDQsMzEuOTk5IEwxNiwzMS45OTkgQzE3LjgzNywzMS45OTkgMTkuMzMzLDMwLjUwNCAxOS4zMzMsMjguNjY2IEwxOS4zMzMsMy4zMzMgQzE5LjMzMywxLjQ5NCAxNy44MzcsLTEuNzc2MzU2ODRlLTE1IDE2LDcuODg4NjA5MDVlLTMxIFogTTIsNi42NjcgTDE4LDYuNjY3IEwxOCwyNS4zMzQgTDIsMjUuMzM0IEwyLDYuNjY3IFogTTQsMS4zMzMgTDE2LDEuMzMzIEMxNy4xMDMsMS4zMzMgMTgsMi4yMyAxOCwzLjMzMyBMMTgsNS4zMzMgTDIsNS4zMzMgTDIsMy4zMzMgQzIsMi4yMyAyLjg5NywxLjMzMyA0LDEuMzMzIFogTTE2LDMwLjY2NyBMNCwzMC42NjcgQzIuODk3LDMwLjY2NyAyLDI5Ljc3IDIsMjguNjY3IEwyLDI2LjY2NyBMMTgsMjYuNjY3IEwxOCwyOC42NjcgQzE4LDI5Ljc3IDE3LjEwMywzMC42NjcgMTYsMzAuNjY3IFoiLz4KICAgIDxwYXRoIGQ9Ik02LjY2NyA0TDEzLjMzNCA0QzEzLjcwMiA0IDE0LjAwMSAzLjcwMSAxNC4wMDEgMy4zMzMgMTQuMDAxIDIuOTY1IDEzLjcwMiAyLjY2NiAxMy4zMzQgMi42NjZMNi42NjcgMi42NjZDNi4yOTkgMi42NjYgNiAyLjk2NSA2IDMuMzMzIDYgMy43MDEgNi4yOTkgNCA2LjY2NyA0ek0xMS4zMzMgMjguNjY3QzExLjMzMyAyOS40MDMgMTAuNzM2IDMwIDEwIDMwIDkuMjY0IDMwIDguNjY3IDI5LjQwMyA4LjY2NyAyOC42NjcgOC42NjcgMjcuOTMxIDkuMjY0IDI3LjMzNCAxMCAyNy4zMzQgMTAuNzM2IDI3LjMzNCAxMS4zMzMgMjcuOTMxIDExLjMzMyAyOC42Njd6Ii8+CiAgPC9nPgo8L3N2Zz4K"},52919:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8ZyBmaWxsPSIjQ0M3QjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0IDQpIj4KICAgIDxwYXRoIGQ9Ik0xMi41MzIgMTUuMjcyQzExLjIzMiAxNi41NzIgMTEuMjMyIDE4LjY4OCAxMi41MzIgMTkuOTg3IDEzLjE2MyAyMC42MTYgMTMuOTk5IDIwLjk2MiAxNC44ODkgMjAuOTYyIDE1Ljc3OSAyMC45NjIgMTYuNjE2IDIwLjYxNSAxNy4yNDYgMTkuOTg3IDE4LjU0NiAxOC42ODcgMTguNTQ2IDE2LjU3MSAxNy4yNDYgMTUuMjcyIDE1Ljk4NSAxNC4wMTUgMTMuNzkzIDE0LjAxNSAxMi41MzEgMTUuMjcyTDEyLjUzMiAxNS4yNzJ6TTE2LjMwNCAxOS4wNDRDMTUuNTQ5IDE5Ljc5OSAxNC4yMzEgMTkuNzk5IDEzLjQ3NiAxOS4wNDQgMTIuNjk2IDE4LjI2NCAxMi42OTYgMTYuOTk1IDEzLjQ3NiAxNi4yMTUgMTMuODUzIDE1LjgzOCAxNC4zNTYgMTUuNjMxIDE0Ljg5MSAxNS42MzEgMTUuNDI2IDE1LjYzMSAxNS45MjcgMTUuODM4IDE2LjMwNiAxNi4yMTUgMTcuMDgzIDE2Ljk5NSAxNy4wODMgMTguMjY0IDE2LjMwNSAxOS4wNDRMMTYuMzA0IDE5LjA0NHpNNS45MzIgMjIuODE1QzUuNjcyIDIyLjU1NSA1LjI0OSAyMi41NTUgNC45ODkgMjIuODE1IDQuNzI5IDIzLjA3NSA0LjcyOSAyMy40OTggNC45ODkgMjMuNzU4TDguNzYgMjcuNTI5QzguODkxIDI3LjY2IDkuMDYxIDI3LjcyNCA5LjIzMiAyNy43MjQgOS40MDMgMjcuNzI0IDkuNTczIDI3LjY1OSA5LjcwNCAyNy41MjkgOS45NjQgMjcuMjY5IDkuOTY0IDI2Ljg0NiA5LjcwNCAyNi41ODZMNS45MzIgMjIuODE1eiIvPgogICAgPHBhdGggZD0iTTMxLjQ2MSw1LjMzMyBMMzIuMzIyLDQuNDcyIEMzMi41ODIsNC4yMTIgMzIuNTgyLDMuNzg5IDMyLjMyMiwzLjUyOSBMMjguOTg5LDAuMTk2IEMyOC43MjksLTAuMDY0IDI4LjMwNiwtMC4wNjQgMjguMDQ2LDAuMTk2IEwyNy4xODUsMS4wNTcgTDI2LjMyNCwwLjE5NiBDMjYuMDY0LC0wLjA2NCAyNS42NDEsLTAuMDY0IDI1LjM4MSwwLjE5NiBDMjUuMTIxLDAuNDU2IDI1LjEyMSwwLjg3OSAyNS4zODEsMS4xMzkgTDI2LjI0MiwyIEwyNS4xODUsMy4wNTcgTDI0LjMyNCwyLjE5NiBDMjQuMDY0LDEuOTM2IDIzLjY0MSwxLjkzNiAyMy4zODEsMi4xOTYgQzIzLjEyMSwyLjQ1NiAyMy4xMjEsMi44NzkgMjMuMzgxLDMuMTM5IEwyNC4yNDIsNCBMMjIuNzE0LDUuNTI4IEMyMi40NTQsNS43ODggMjIuNDU0LDYuMjExIDIyLjcxNCw2LjQ3MSBMMjIuOTA5LDYuNjY3IEwxOC40MjgsMTEuMTQ4IEMxNy4zMDQsMTAuNDc1IDE2LjA4OCwxMC4xMjEgMTQuODgsMTAuMTIxIEMxMi4xMDUsMTAuMTIxIDkuOTAzLDExLjkxMiA5LjMwNywxNC41NTQgQzUuNjk0LDE0LjAxIDIuODAyLDE1LjQ5MyAxLjU3NiwxOC40NDkgQzAuMjUzLDIxLjY0MiAxLjI0NywyNS42NjkgNC4wNDgsMjguNDcgQzUuOTg1LDMwLjQwNyA4LjU0LDMxLjUxOCAxMS4wNTcsMzEuNTE4IEMxMy4zMjUsMzEuNTE4IDE1LjM1NCwzMC42MTcgMTYuNjI1LDI5LjA0NiBDMTcuNSwyNy45NjMgMTguNDAyLDI2LjA5NSAxNy45NjIsMjMuMjA5IEMxOS43MTgsMjIuODA4IDIxLjE1NSwyMS42NjggMjEuODgzLDIwLjA2NCBDMjIuNzIsMTguMjE5IDIyLjUyMywxNi4wMjMgMjEuMzcsMTQuMDkyIEwyNS44NTEsOS42MTEgTDI2LjA0Niw5LjgwNiBDMjYuMzA2LDEwLjA2NiAyNi43MjksMTAuMDY2IDI2Ljk4OSw5LjgwNiBMMjguNTE3LDguMjc4IEwyOS4zNzgsOS4xMzkgQzI5LjUxLDkuMjY4IDI5LjY4MSw5LjMzNCAyOS44NTEsOS4zMzQgQzMwLjAyMSw5LjMzNCAzMC4xOTIsOS4yNjkgMzAuMzIzLDkuMTM5IEMzMC41ODMsOC44NzkgMzAuNTgzLDguNDU2IDMwLjMyMyw4LjE5NiBMMjkuNDYsNy4zMzMgTDMwLjUxNyw2LjI3NiBMMzEuMzc4LDcuMTM3IEMzMS41MDksNy4yNjggMzEuNjc5LDcuMzMzIDMxLjg1LDcuMzMzIEMzMi4wMjEsNy4zMzMgMzIuMTkxLDcuMjY4IDMyLjMyMiw3LjEzOCBDMzIuNTgyLDYuODc4IDMyLjU4Miw2LjQ1NSAzMi4zMjIsNi4xOTUgTDMxLjQ1OSw1LjMzMiBMMzEuNDYxLDUuMzMzIFogTTI2LjUxOSw4LjM5MSBMMjYuMzI0LDguMTk2IEMyNi4wNjQsNy45MzYgMjUuNjQxLDcuOTM2IDI1LjM4MSw4LjE5NiBMMjAuMDQ4LDEzLjUyOSBDMTkuODIsMTMuNzU3IDE5Ljc4OCwxNC4xMTYgMTkuOTcyLDE0LjM4MSBDMjEuMTE5LDE2LjAyOSAyMS4zOCwxNy45NDkgMjAuNjY5LDE5LjUxNCBDMjAuMDMzLDIwLjkxNyAxOC43MzYsMjEuODIzIDE3LjExLDIyLjAwNSBDMTYuOTIzLDIyLjAyNiAxNi43NTMsMjIuMTI1IDE2LjY0MywyMi4yNzggQzE2LjUzMiwyMi40MyAxNi40OTIsMjIuNjIzIDE2LjUzMiwyMi44MDYgQzE3LjAwMSwyNC45OTQgMTYuNjczLDI2Ljg2MiAxNS41ODcsMjguMjA5IEMxNC41NzEsMjkuNDY2IDEyLjkyLDMwLjE4NiAxMS4wNTYsMzAuMTg2IEM4Ljg4OSwzMC4xODYgNi42NzcsMjkuMjE3IDQuOTg5LDI3LjUyOSBDMi41NjUsMjUuMTA1IDEuNjg4LDIxLjY2MiAyLjgwNiwxOC45NjEgQzMuNjQ1LDE2LjkzNiA1LjQ4MiwxNS43NzYgNy44NDYsMTUuNzc2IEM4LjQzNSwxNS43NzYgOS4wNjMsMTUuODQ3IDkuNzEsMTUuOTg1IEM5Ljg5NCwxNi4wMiAxMC4wODcsMTUuOTg1IDEwLjIzOSwxNS44NzMgQzEwLjM5MSwxNS43NjQgMTAuNDkxLDE1LjU5NCAxMC41MTIsMTUuNDA2IEMxMC43NzEsMTMuMDgxIDEyLjU2NSwxMS40NTUgMTQuODc3LDExLjQ1NSBDMTUuOTgyLDExLjQ1NSAxNy4xMDgsMTEuODMyIDE4LjEzNCwxMi41NDYgQzE4LjM5OCwxMi43MzEgMTguNzU3LDEyLjY5OCAxOC45ODYsMTIuNDcgTDI0LjMxOSw3LjEzNyBDMjQuNTc5LDYuODc3IDI0LjU3OSw2LjQ1NCAyNC4zMTksNi4xOTQgTDI0LjEyNCw1Ljk5OSBMMjguNTE1LDEuNjA4IEwzMC45MDYsMy45OTkgTDI2LjUxNSw4LjM5IEwyNi41MTksOC4zOTEgWiIvPgogIDwvZz4KPC9zdmc+Cg=="},31481:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTM1LjMzMyAyNi42NjdoLS42NjdWMjZhNC42NzIgNC42NzIgMCAwIDAtNC42NjctNC42NjdBNC42NzIgNC42NzIgMCAwIDAgMjUuMzMyIDI2di42NjdoLS42NjdhLjY2Ny42NjcgMCAwIDAtLjY2Ny42Njd2OGMwIC4zNjguMjk5LjY2Ny42NjcuNjY3aDEwLjY2N2EuNjY3LjY2NyAwIDAgMCAuNjY3LS42Njd2LThhLjY2Ny42NjcgMCAwIDAtLjY2Ny0uNjY3aC4wMDF6TTI2LjY2NyAyNkEzLjMzOCAzLjMzOCAwIDAgMSAzMCAyMi42NjcgMy4zMzggMy4zMzggMCAwIDEgMzMuMzMzIDI2di42NjdoLTYuNjY3VjI2aC4wMDF6bTggOC42NjdoLTkuMzMzVjI4aDkuMzMzdjYuNjY3ek0zMCAyOS4zMzNoLjAwMmMuNzM0IDAgMS4zMzMuNTk4IDEuMzMzIDEuMzMzIDAgLjQ4Ny0uMjc2Ljg5Ni0uNjY3IDEuMTI4di44NzJhLjY2Ny42NjcgMCAwIDEtMS4zMzQgMHYtLjg3MmMtLjM5MS0uMjMyLS42NjctLjY0MS0uNjY3LTEuMTI4IDAtLjczNC41OTgtMS4zMzMgMS4zMzMtMS4zMzN6bS01LjM0OS0xNi42NjZoLjAwMmMwIDMuMDI4LTEuMzIxIDUuNjkzLTMuMzE3IDcuMjQ0djMuNDIzaC0xLjMzM3YtMi42MDlhNi4zMjMgNi4zMjMgMCAwIDEtMi42ODMuNjA5IDYuMzE3IDYuMzE3IDAgMCAxLTIuNjUxLS41OTV2Mi41OTVhLjY2OS42NjkgMCAwIDEtLjQ0My42MjhsLTYuNjggMi4zODVhMy4zNCAzLjM0IDAgMCAwLTIuMjExIDMuMTM5djIuNTE1aDE1LjMzM3YxLjMzM2gtMTZhLjY2Ny42NjcgMCAwIDEtLjY2Ny0uNjY3di0zLjE4MWE0LjY3NiA0LjY3NiAwIDAgMSAzLjA5Ni00LjM5NWw2LjIzNy0yLjIyOHYtMi45MzFjLTIuMDEzLTEuNTQ2LTMuMzQ5LTQuMjIyLTMuMzQ5LTcuMjY1QzkuOTg1IDcuODg4IDEzLjI3NCA0IDE3LjMxOCA0YzQuMDQ0IDAgNy4zMzMgMy44ODggNy4zMzMgOC42Njd6bS03LjMzNC03LjMzNGwtLjAwMS4wMDFjLTIuODM1IDAtNS4yMSAyLjQxNi01LjgzNSA1LjY1MWE0LjY4IDQuNjggMCAwIDAgMS44MzUuMzQ5YzEuNzQ1IDAgMy44MTUtMS4wMzUgNC40MjgtMi4yMTVhLjY2NS42NjUgMCAwIDEgLjU3OS0uMzU5LjYyNS42MjUgMCAwIDEgLjU5Mi4zMzZjMS4xMzkgMS45OTIgMi4zMzggMi42MjQgNC4yNzUgMi4yNDlsLjAyNC0uMDAxYy0uNTEyLTMuNDE0LTIuOTU4LTYuMDExLTUuODk3LTYuMDExem0tNiA3LjMzNGMwIDQuMDQ0IDIuNjkyIDcuMzMzIDYgNy4zMzNzNi0zLjI4OSA2LTcuMzMyYTYuNTA0IDYuNTA0IDAgMCAxLTEuMTEzLjExM2MtMS41OTIgMC0yLjg0NC0uNzAyLTMuOTA3LTIuMTgxLTEuMTM5IDEuMTk2LTMuMTQ3IDIuMDY3LTQuOTggMi4wNjctLjcxNCAwLTEuMzYtLjExLTEuOTg3LS4zMjEtLjAwNC4xMDgtLjAxMy4yMTMtLjAxMy4zMjF6IiBmaWxsPSIjQ0M3QjE5IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KPC9zdmc+Cg=="},26782:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTkuNDk3IDcuNDM4YS42ODguNjg4IDAgMSAxLTEuMzc1IDAgLjY4OC42ODggMCAwIDEgMS4zNzUgMHptMi43NSAwYS42ODguNjg4IDAgMSAxLTEuMzc1IDAgLjY4OC42ODggMCAwIDEgMS4zNzUgMHptMi43NSAwYS42ODguNjg4IDAgMSAxLTEuMzc1IDAgLjY4OC42ODggMCAwIDEgMS4zNzUgMHptMi4wNjMgMTguNTZ2LS4wMDFhLjY4OC42ODggMCAxIDEgMCAxLjM3NUg3LjQzOEEzLjQ0IDMuNDQgMCAwIDEgNCAyMy45MzZ2LTE2LjVBMy40NCAzLjQ0IDAgMCAxIDcuNDM3IDRoMjEuOTk4YTMuNDQgMy40NCAwIDAgMSAzLjQzNyAzLjQzN3YxMWEuNjg4LjY4OCAwIDEgMS0xLjM3NiAwdi03LjU2Mkg1LjM3NHYxMy4wNjJjMCAxLjEzNy45MjQgMi4wNjIgMi4wNjIgMi4wNjJoOS42MjR6TTcuNDM1IDUuMzc3YTIuMDY0IDIuMDY0IDAgMCAwLTIuMDYzIDIuMDYyVjkuNWgyNi4xMjNWNy40MzhhMi4wNjQgMi4wNjQgMCAwIDAtMi4wNjItMi4wNjJINy40MzV6TTM2LjY1NCAzMC4xNWwuMDAyLS4wMDJhLjY4NS42ODUgMCAwIDEgLjI1Mi45MzhsLTIuMDYyIDMuNTcyYS42NzcuNjc3IDAgMCAxLS40MTcuMzIuNzAxLjcwMSAwIDAgMS0uNTIzLS4wN2wtMS4wOTItLjYzMmMtLjQxLjMtLjg1Mi41NTQtMS4zMTcuNzZ2MS4yNzRjMCAuMzgtLjMwOC42ODctLjY4OC42ODdoLTQuMTI0YS42ODguNjg4IDAgMCAxLS42ODgtLjY4N3YtMS4yNjhhNy4zMTEgNy4zMTEgMCAwIDEtMS4zMzctLjc2MmwtMS4xMDguNjM1YS42OS42OSAwIDAgMS0uOTM3LS4yNTJsLTIuMDYzLTMuNTcyYS42ODguNjg4IDAgMCAxIC4yNTItLjk0bDEuMDk0LS42MzRhNi4zMjggNi4zMjggMCAwIDEgLjAwMS0xLjUzNWwtMS4wOTQtLjYzMmEuNjg3LjY4NyAwIDAgMS0uMjUtLjk0bDIuMDYzLTMuNTcyYS42OS42OSAwIDAgMSAuOTM3LS4yNTJsMS4xMDUuNjM1Yy40MTgtLjMuODY2LS41NTUgMS4zMzYtLjc2MnYtMS4yNzRjMC0uMzguMzA4LS42ODcuNjg4LS42ODdoNC4xMjRjLjM4IDAgLjY4OC4zMDguNjg4LjY4N3YxLjI3NGMuNDY0LjIwNi45MDUuNDYgMS4zMTYuNzU5bDEuMDg5LS42MzJhLjY3OS42NzkgMCAwIDEgLjUyMy0uMDcuNjkuNjkgMCAwIDEgLjQxNy4zMmwyLjA2MyAzLjU3MmMuMTkuMzMuMDc3Ljc1LS4yNTIuOTRsLTEuMDk2LjYzNGMuMDU5LjUxLjA2IDEuMDI0IDAgMS41MzRsMS4wOTguNjM0em0tMi42NTYgMy4yMjZsMS4zNzMtMi4zNzktLjkwNy0uNTI0YS42ODcuNjg3IDAgMCAxLS4zMzEtLjcyYy4wNjItLjMzNi4wOTQtLjY3My4wOTQtMS4wMDNhNS41IDUuNSAwIDAgMC0uMDk1LTEuMDAyLjY4NS42ODUgMCAwIDEgLjMzLS43MjFsLjkwNy0uNTI0LTEuMzc0LTIuMzgtLjg5NS41MjFhLjY5LjY5IDAgMCAxLS43OTItLjA3MyA1Ljg0NyA1Ljg0NyAwIDAgMC0xLjc0LTEuMDA0LjY4Ny42ODcgMCAwIDEtLjQ0Ni0uNjQ0di0xLjA0OGgtMi43NXYxLjA0OGEuNjk2LjY5NiAwIDAgMS0uNDQ3LjY0OGMtLjY2Ni4yNDctMS4yOS42MDMtMS43NTYgMS4wMDNhLjY4Ny42ODcgMCAwIDEtLjc4OS4wNzRsLS45MTItLjUyNS0xLjM3NyAyLjM4My45MDQuNTI0Yy4yNS4xNDYuMzgzLjQzMy4zMzEuNzE5YTUuNDUyIDUuNDUyIDAgMCAwLS4wOTggMS4wMDJjMCAuMzM2LjAzMy42NzIuMDk2IDEuMDAyYS42ODcuNjg3IDAgMCAxLS4zMzMuNzJsLS45MDQuNTIzIDEuMzc2IDIuMzgzLjkxNi0uNTI1YS42ODYuNjg2IDAgMCAxIC43ODkuMDc1Yy40NjYuNCAxLjA5Ljc1NSAxLjc1NCAxLjAwMy4yNy4xLjQ0OS4zNTcuNDQ4LjY0NHYxLjA0OGgyLjc1di0xLjA0OGMwLS4yODcuMTgtLjU0NC40NS0uNjQ0YTUuNzQ0IDUuNzQ0IDAgMCAwIDEuNzM3LTEuMDA0LjY5LjY5IDAgMCAxIC43OTItLjA3M2wuODk5LjUyem0tNS4yNzItOC4wNjRhMy40NCAzLjQ0IDAgMCAxIDMuNDM3IDMuNDM3IDMuNDQgMy40NCAwIDAgMS0zLjQzNyAzLjQzNyAzLjQ0IDMuNDQgMCAwIDEtMy40MzctMy40MzcgMy40NCAzLjQ0IDAgMCAxIDMuNDM3LTMuNDM3em0wIDUuNWEyLjA2NCAyLjA2NCAwIDAgMCAyLjA2My0yLjA2MyAyLjA2NCAyLjA2NCAwIDAgMC0yLjA2My0yLjA2MiAyLjA2NCAyLjA2NCAwIDAgMC0yLjA2MiAyLjA2MmMwIDEuMTM3LjkyNSAyLjA2MiAyLjA2MiAyLjA2MnoiIGZpbGw9IiNDQzdCMTkiIGZpbGwtcnVsZT0ibm9uemVybyIvPgo8L3N2Zz4K"},56151:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(19130),l=n(21133);const c=o.Z.extend({mixins:l.Z,initialize(e={}){e.interface&&(this.interface=e.interface),e.props&&(this.props=e.props),a().each(this.interface,(e=>{this[e]=a().bind(this._proxy,this,e)}))},_proxy(e,...t){return this.getInstance()[e](...t)},register(e,t={}){this.hasInstance()&&!t.ignorePrevious&&(this._previousInstance=this.getInstance()),this._instance=e,t.silent||this.trigger("change:instance",e)},registerOnce(e){if(!this.hasInstance()){const t=e();this.register(t.instance||t,t.options||void 0)}},restorePrevious(){this._previousInstance&&this.register(this._previousInstance)},registered(){const e=i().Deferred();return this.hasInstance()?e.resolve(this.getInstance()):this.listenToOnce(this,"change:instance",e.resolve),e.promise()},getInstance(){if(this.hasInstance())return this._instance;throw new Error("Nothing has been registered to this adapter.")},hasInstance(){return null!=this._instance},prop(e){if(a().contains(this.props,e))return this.getInstance()[e];throw new Error("The "+e+" property has not been defined for this adapter")}})},93966:(e,t,n)=>{"use strict";n.d(t,{Cq:()=>l,X_:()=>c,s4:()=>d,DB:()=>u});var r=n(19755),i=n.n(r);n(13469),n(11133);const s={},a={};function o(e,t,n){s[e]=function(e,t){if(!t)return e;const n={};return t.forEach((t=>{n[t]=(...n)=>e[t](...n)})),n}(t,n);const r=a[e];r&&(delete a[e],r.resolve(s[e]))}function l(e){for(const t in e){const n=e[t];let r,i;Array.isArray(n)?(r=n[0],i=n[1]):r=n,o(t,r,i)}}function c(e){return d(e)?i().Deferred().resolve(s[e]).promise():(a[e]||(a[e]=i().Deferred()),a[e].promise())}function d(e){return s.hasOwnProperty(e)}function u(e){return s[e]}},39670:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=new(n(56151).Z)({props:["X-Plex-Client-Identifier","X-Plex-Device","X-Plex-Device-Name","X-Plex-Device-Screen-Resolution","X-Plex-Device-Vendor","X-Plex-Model","X-Plex-Platform","X-Plex-Platform-Version","X-Plex-Product","X-Plex-Version"]})},3595:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=new(n(56151).Z)({interface:["getLanguages","load","t"]})},39606:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=new(n(56151).Z)({props:["capabilities","video","music","photo"]})},61682:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=new(n(56151).Z)({interface:["get","set","remove","clear"]})},94018:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(13469),i=n.n(r),s=n(11133),a=n(96840);const o={_map:{},register(e,t){(0,s.Z)(i().isFunction(t),`The "${e}" command must be a function`),this._map[e]=t},registerAll(e){i().each(e,((e,t)=>{"__esModule"!==t&&this.register(t,e)}))},hasRegistered(e){return this._map.hasOwnProperty(e)},reset(){this._map={}},execute(e,...t){const n=this._map[e];if((0,s.Z)(n,`The "${e}" command has not been registered`),n)return(0,a.Z)("[Commands] Executing",e),n(...t)}}},14e3:(e,t,n)=>{"use strict";n.d(t,{EH:()=>y,NF:()=>v,ZP:()=>S});var r=n(13469),i=n.n(r),s=n(9390),a=n.n(s);const o={bindToModel:function(){this.bindings&&i().each(i().keys(this.bindings),(function(e){const t=this.bindings[e];let n;if(n=t.model?this[t.model]:this[this.bindingsModel]||this.model,!n)return;const r=t.modelListeners||[t.modelAttribute];i().each(r,(function(r){const s={obj:n,name:"change:"+r,callback:i().bind(this.renderBinding,this,e,t,n)};this._bindingListeners||(this._bindingListeners=[]),this._bindingListeners.push(s),this.listenTo(s.obj,s.name,s.callback)}),this),this.renderBinding(e,t,n)}),this)},unbindFromModel:function(){this.bindings&&(i().each(this._bindingListeners,(function(e){this.stopListening(e.obj,e.name,e.callback)}),this),this._bindingListeners=null)},renderBinding:function(e,t,n){const r=this.$(e),s=t.formatter,a=!!t.isHtml,o=t.autohide,l=t.hiddenClass||"hidden";let c=n.get(t.modelAttribute);if(s&&(c=s.call(this,c,r)),o){const e=i().isFunction(o)?o.call(this,c):c;r.toggleClass(l,!e)}t.manual||(!a&&i().isString(c)&&(c=i().escape(c)),r.html(c))}};var l=n(19130),c=(n(91033),n(84936)),d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function g(e){const t={},n=i().result(e,"responseType");return n&&n.accept&&(t.Accept=n.accept),t}const y=3e4,v=6e4,f=a().noConflict(),b=f.sync;f.sync=function(e,t,n){var r=n,{url:s,data:a,headers:o}=r,l=((e,t)=>{var n={};for(var r in e)u.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&p)for(var r of p(e))t.indexOf(r)<0&&m.call(e,r)&&(n[r]=e[r]);return n})(r,["url","data","headers"]);const d=function(e,t){return t.server?t.server:e.getXHROptions?e:e.provider?e.provider:e.server?e.server:e}(t,l),f=s||i().result(t,"syncUrl")||i().result(t,"url"),S=i().isObject(a)?c.Z.stringifyParams(a):a,I=!!S&&S.indexOf("checkFiles=1")>-1;let Z=((e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e})({data:S,dataType:"text",processData:!1,headers:i().extend(g(t),o),timeout:I?v:y},l);return i().isFunction(d.getXHROptions)?Z=d.getXHROptions(f,Z):Z.url=f,b(e,t,Z)},f.wrapError=function(e,t){const n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}},i().extend(f.View.prototype,o),[f.Model,f.Collection,f.Router,f.View,f.History].forEach((e=>{e.extend=l.Z.extend}));const S=f},65652:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(13469),i=n.n(r),s=n(14e3),a=n(37434),o=n.n(a),l=n(19755),c=n.n(l);c().fn.isDisabled=function(){return this.hasClass("disabled")||this.hasClass("active")||this.hasClass("hidden")},c().fn.selectText=function(){const e=this[0];let t;if(document.body.createTextRange)t=document.body.createTextRange(),t.moveToElementText(e),t.select();else if(window.getSelection){const n=window.getSelection();t=document.createRange(),t.selectNodeContents(e),n.removeAllRanges(),n.addRange(t)}},c().fn.triggerReflow=function(){const e=this[0];return e&&e.offsetHeight,this};var d=n(11133),u=n(96840);o().isNodeAttached=function(e){return s.ZP.$.contains(document.documentElement,e)};const p=i().clone(o().View.prototype),m=i().clone(o().CollectionView.prototype),h=i().clone(o().Region.prototype),g=i().clone(o().Region),y=i().clone(o().Layout.prototype),v={constructor:function(){this.wrapAfterRender(),p.constructor.apply(this,arguments),this.listenViewEvents()},listenViewEvents:function(){this.stopListeningViewEvents();const e=i().result(this,"viewEvents");e&&(this._viewEventsListeners=i().mapObject(e,(e=>i().isString(e)?this[e]:e)),this.listenTo(this,this._viewEventsListeners))},stopListeningViewEvents:function(){this._viewEventsListeners&&(this.stopListening(this,this._viewEventsListeners),delete this._viewEventsListeners)},_setElement:function(){p._setElement.apply(this,arguments),this.el&&(this.el._viewInstance?this.el._viewInstance!==this&&u.Z.warn('Multiple views registered for a single element with class="%s"',this.el.className):this.el._viewInstance=this)},_removeElement:function(){this.el&&delete this.el._viewInstance,p._removeElement.apply(this,arguments)},bindAllWhenRendered:function(){(0,d.Z)(arguments.length>0,"`bindAllWhenRendered` requires at least one function");const e=Array.isArray(arguments[0])?arguments[0]:arguments;i().each(e,(function(e){try{this[e]=this.whenRendered(this[e])}catch(t){(0,d.Z)(!1,"`bindAllWhenRendered` is unable to wrap "+JSON.stringify(e))}}),this)},whenRendered:function(e){return(0,d.Z)(i().isFunction(e),"`whenRendered` must be called with a single function"),i().bind((function(){if(this.isClosed)return;const t=i().toArray(arguments),n=i().bind((function(){this.isRendered&&!this.isClosed&&e.apply(this,t)}),this);this.isRendered?i().defer(n):this.listenToOnce(this,"render",(function(){i().defer(n)}))}),this)},wrapAfterRender:function(){void 0!==this.onlyAfterRender&&((0,d.Z)(Array.isArray(this.onlyAfterRender),"`onlyAfterRender` must be an array"),this.bindAllWhenRendered.apply(this,this.onlyAfterRender))},bindUIElements:function(){p.bindUIElements.apply(this,arguments),this.bindToModel(),this.isRendered=!0},unbindUIElements:function(){p.unbindUIElements.apply(this,arguments),this.unbindFromModel()},_getImmediateChildren:function(){return[]},_getNestedViews:function(){const e=this._getImmediateChildren();return e.length?i().reduce(e,(function(e,t){return t._getNestedViews?e.concat(t._getNestedViews()):e}),e):e}},f={constructor:function(){m.constructor.apply(this,arguments)},triggerRendered:function(){return this.isRendered=!0,m.triggerRendered.apply(this,arguments)},rebase:function(e){return this.stopListening(this.collection),this.collection=e,this._initialEvents(),i().isFunction(this._renderChildren)?this._renderChildren():this.render(),this},buildItemView:function(){const e=m.buildItemView.apply(this,arguments);return e._parentView=this,e},_getImmediateChildren:function(){return i().values(this.children._views)}},b={constructor:function(){m.constructor.apply(this,arguments)}},S={append:function(e,t,n){const r=e.isClosed||i().isUndefined(e.$el),s=e!==this.currentView;return s&&this.close(),e.render(),(s||r)&&(t||(t=this.getEl(this.el)),n?t.prepend(e.el):t.append(e.el)),this.attachView(e),o().triggerMethod.call(this,"show",e),o().triggerMethod.call(e,"show"),this._updateParentView(e),this._triggerAttached(e,t),this},prepend:function(e,t){return this.append(e,t,!0)},show:function(e){h.show.apply(this,arguments),this._updateParentView(e),this._triggerAttached(e,this.$el)},_triggerAttached:function(e,t){if(!o().isNodeAttached(t.get(0)))return;const n=i().union([e],i().result(e,"_getNestedViews")||[]);i().each(n,(function(e){e.triggerMethod&&e.triggerMethod("attached",this)}),this)},_updateParentView:function(e){e&&(e._parentView=this._parentView)}},I={buildRegion:function(e,t){const n=g.buildRegion.apply(this,arguments);return n._parentView=e._parentView,n}},Z={_buildRegions:function(e){const t=i().mapObject(e,(e=>i().isString(e)?{_parentView:this,selector:e}:i().defaults(e,{_parentView:this})));return y._buildRegions.call(this,t)},_getImmediateChildren:function(){return i().chain(this.regionManager._regions).values().pluck("currentView").compact().value()}};i().extend(o().View.prototype,v),i().extend(o().ItemView.prototype,v),i().extend(o().CollectionView.prototype,v,f),i().extend(o().CompositeView.prototype,v,b),i().extend(o().Region.prototype,S),i().extend(o().Region,I),i().extend(o().Layout.prototype,Z),o().extend=s.ZP.Model.extend,o().Controller.extend=o().extend,o().Region.extend=o().extend,o().Application.extend=o().extend,o().Module.extend=o().extend,o().View.extend=o().extend,o().ItemView.extend=o().extend,o().CollectionView.extend=o().extend,o().CompositeView.extend=o().extend,o().Layout.extend=o().extend;const P=o()},38910:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(19755),i=n.n(r),s=n(14e3),a=n(33295);const o={isPopulating(){return!!this.populatePromise&&"pending"===this.populatePromise.state()},isPopulated(){return!!this.populatePromise&&"resolved"===this.populatePromise.state()},populate(){return this.populatePromise?this.populatePromise:this.fetch.apply(this,arguments)},fetch(){const e=i().Deferred();let t;if(this.isPopulating())return this.populatePromise;t=this._fetch?this._fetch.apply(this,arguments):this instanceof s.ZP.Collection?s.ZP.Collection.prototype.fetch.apply(this,arguments):s.ZP.Model.prototype.fetch.apply(this,arguments);const n=e.promise();return n.rid=t.rid,this.populatePromise=n,this.failedPopulatePromise=null,t.done((n=>{this.populatePromise=i().Deferred().resolveWith(this,[this]).promise(),e.resolveWith(this,[this,n,t])})),t.fail((t=>{this.populatePromise=null,this.failedPopulatePromise=n,e.rejectWith(this,[this,t])})),n},abortPendingPopulate(){return this.isPopulating()&&a.Z.abort(this.populatePromise.rid),this.populatePromise},resetPopulatePromise(e){return this.isPopulating()||(this.populatePromise=e,this.failedPopulatePromise=null),this.populatePromise}}},12634:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(14e3),l=n(38910),c=n(59756),d=n(56442),u=(n(11133),n(46053),n(27082)),p=n(84936);const m=o.ZP.Collection.extend({mixins:[l.Z],responseType:d.Ls,instanceOptions:["url","path","pageStart","pageSize","persistInCache","skipCache"],_context:["parent"],cache:null,cacheKey:function(){return a().result(this,"url")},constructor:function(e,t){t||(t={}),a().each(this.getContext(),(function(e){const n=t[e];void 0!==n&&this.setContext(e,n)}),this);const n=a().result(this,"instanceOptions");if(a().each(n,(function(e){a().has(t,e)&&(this[e]=t[e])}),this),null==this.pageStart&&null==this.pageSize||(this.pageStart||(this.pageStart=0),this.pageSize||(this.pageSize=0)),t.populated&&this.resetPopulatePromise(i().Deferred().resolve().promise()),!this.cache||this.skipCache)return o.ZP.Collection.prototype.constructor.apply(this,arguments),void this._initState();this.initialize.apply(this,arguments);const r=this.cache.getItemCacheKey(this),s=this.cache.get(r);return this.uninitialize(),s||(t.onlyIfCached?{}:(o.ZP.Collection.prototype.constructor.apply(this,arguments),this._initState(),void this.cache.store(this,r)))},uninitialize:function(){this.stopListening()},_initState:function(){c.Z.shouldCreateStateTree&&(this.state=this.toState(),this.updateState=this.updateState.bind(this),this.on("reset update sort",this.onCollectionChange,this),this.on("statechange",this.onStateChange,this))},hasContext:function(e){return this.getContext().includes(e)},getContext:function(){if(!this.context)return this._context;const e=a().result(this,"context");return this._context.concat(e)},setContext:function(e,t){-1!==this.getContext().indexOf(e)&&this[e]!==t&&(this[e]=t,this.each((function(n){n.setContext(e,t)})))},getState:function(){return this.state},updateState:function(){const e=this.state,t=this.getState();this.state=this.toState();const n=this.getState();return this.trigger("statechange",this,n,t),{name:this.name,previousState:e,nextState:n}},toState:function(){return this.name,this.reduce(this.reduceState,[])},reduceState:function(e,t){const n=t.getState();return n&&e.push(n),e},shouldUpdateModelState:function(e,t,n){return t!==n},sync:function(){return this.cache&&this.cache.store(this),o.ZP.sync.apply(this,arguments)},syncUrl:function(){let e="";if(this.url&&(e=a().result(this,"url")),this.path&&(e=p.Z.join([e,a().result(this,"path")])),null!=this.pageStart||null!=this.pageSize){const t={"X-Plex-Container-Start":this.pageStart||0,"X-Plex-Container-Size":this.pageSize||0};e=p.Z.join(e,t)}return e},parse:function(e,t){return this.name,this.convert(e)},convert:function(e){let t=e;const n=a().result(this,"responseType");if(a().isString(t)&&(a().isFunction(this.augmentResponseText)&&(t=this.augmentResponseText(t,n)),t=n.parse(t),n===d.AV&&t.MediaContainer&&(t=t.MediaContainer)),a().isFunction(this.augmentResponse)&&(t=this.augmentResponse(t,n)),Array.isArray(t))return t;const r=this.model.prototype.rootPropertyName;if(!r)return t;let i=t[r];return i?(Array.isArray(i)||(i=[i]),i):[]},clone:function(e){e||(e=this.models);const t=a().result(this,"instanceOptions"),n=a().extend(a().pick(this,t),a().pick(this,this.getContext()),{skipCache:!0,persistInCache:!1});return new this.constructor(e,n)||null},cloneDeep:function(e){e||(e=this.models);const t=a().map(e,(function(e){return e.clone()}));return this.clone(t)},clear:function(e){e=a().extend({silent:!0},e),this.abortPendingPopulate(),this.resetPopulatePromise(null),this.reset([],e)},getSaveParams:function(){return this.map((function(e){return e.getSaveParams()}))},onCollectionChange:function(){u.GF(this.updateState,this)},onStateChange:function(e,t,n){e!==this&&this.shouldUpdateModelState(e,t,n)&&u.GF(this.updateState,this)}})},53334:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(93966),l=n(14e3),c=n(38910),d=n(14408),u=n(59756),p=n(56442),m=n(32846);const h=function(e,t){return e?a().reduce(t,((t,n,r)=>(a().isEqual(e[r],n)||(t[r]=n),t)),{}):t};var g=n(11133),y=n(96840),v=(n(46053),n(70515)),f=n(27082),b=n(84936);const S=/^change:([\w]+)$/,I=e=>Array.isArray(e)?e[0]:e,Z=l.ZP.Model.extend({mixins:[c.Z],name:"AbstractModel",responseType:p.Ls,hasInitialRelations:!1,_context:["parent","skipCache"],cache:null,cacheKey:function(e){return e[this.idAttribute]},constructor:function(e,t){let n;if(e||(e={}),t||(t={}),this.initialize!==l.ZP.Model.prototype.initialize&&(n=this.initialize,this.initialize=function(){}),this.getContextNames().forEach((e=>{const n=this.findOption(t,e);void 0!==n&&(this[e]=n)})),!this.cache||this.findOption(t,"skipCache"))return l.ZP.Model.prototype.constructor.apply(this,arguments),this._initModel(t),void(n&&(n.apply(this,arguments),this.initialize=n));const r=this.findOption(t,"onlyIfCached"),i=this.cache.getItemCacheKey(this,e);let s=this.cache.get(i);if(!s&&this.entityID&&(0,o.s4)("appModel")){const t=(0,o.DB)("appModel");if(t.has("entities")){const n=t.get("entities").get(this.entityType),r=this.entityID(e),i=n.get(r);i&&(s=i.get("model"))}}return s?(this.uninitialize(),r||(this.mergeStrategy&&(s.isMergingAttributes=!0),t.parse?e=s.parse(e):a().extend(e,s._getRelations(this.syncedRelations,e)),s.set(e),s.isMergingAttributes=!1),this.getContextNames().forEach((e=>{s.setContext(e,this[e]||s[e])})),t.collection&&(s.collection=t.collection),s.updateEntity(),s):r?{}:(l.ZP.Model.prototype.constructor.apply(this,arguments),this._initModel(t),n&&(n.apply(this,arguments),this.initialize=n),void this.cache.store(this,i))},uninitialize:function(){this.stopListening()},_initModel:function(e){u.Z.shouldCreateStateTree&&this.entityID&&(this.state=this.toState()),this._initRelations(e),this._initDerived(e),this._initState()},_initRelations:function(e){this._relationListeners={};const t=a().extend({},this.sessionRelations,this.syncedRelations);a().each(t,(function(e,t){this._initRelation(e,t);const n=a().bind(this._initRelation,this,e,t);this.on("change:"+t,n)}),this),this.hasInitialRelations=!0,this.set(this._getRelations(this.sessionRelations,this.attributes)),e.parse||this.set(this._getRelations(this.syncedRelations,this.attributes))},_initRelation:function(e,t){const n=this._resolveRelationDefinition(e).relationClass,r=this.get(t),i=this.previous(t),s=r&&r instanceof n;i&&i instanceof n&&a().has(this._relationListeners,t)&&(i.off("all",this._relationListeners[t]),this._relationListeners[t]=null),s&&this._forwardRelationEvents(r,t)},_initDerived:function(){a().each(this.derivedAttrs,this._setDerived,this)},_initState:function(){u.Z.shouldCreateStateTree&&(this.state=this.toState(),this.updateState=this.updateState.bind(this),this.updateEntity(),this.on("all",this.onEvent,this))},findOption:function(e,t){return e[t]||e.collection&&e.collection[t]},getContextNames:function(){return this.getContext().map(I)},getContext:function(){if(!this.context)return this._context;const e=a().result(this,"context");return this._context.concat(e)},setContext:function(e,t){if(!this.hasContext(e)||this[e]===t)return;const n=this.getContext().find((t=>I(t)===e)),r=Array.isArray(n)&&n[1]&&n[1].boundDerivedAttrs,i=r?[e,...r]:[e];let s;if(this[e]=t,i.forEach((e=>{this.hasDerived(e)&&(s=s||{},s[e]=this.derivedAttrs[e].call(this))})),s&&this.set(s),"parent"===e)return;const o=a().extend({},this.sessionRelations,this.syncedRelations);a().each(o,(function(n,r){const i=this.get(r);i&&i.setContext(e,t)}),this)},getScopedKey:function(e){return null!=e&&a().isFunction(this.cacheKey)?this.cacheKey(this.attributes)+"!"+e:e},getState:function(){return this._computedEntityID||this.state},updateState:function(){const e=this.state,t=this.getState();this.state=this.toState();const n=this.getState();return n!==t&&this.updateEntity(),this.trigger("statechange",this,n,t),{name:this.name,previousState:e,nextState:n}},updateEntity:function(){this._computedEntityID&&!this.skipCache&&((0,g.Z)(this.entityType,this.name+" requires an `entityType`"),m.Z.trigger("change:entity",{type:this.entityType,id:this._computedEntityID,model:this}))},toState:function(){this.name;const e=Object.keys(this.attributes),t=a().reduce(e,this.reduceState,{possibleEntityContainers:[]},this);return Object.defineProperty(t,"possibleEntityContainers",{enumerable:!1}),this.entityID&&(this._computedEntityID=this.entityID(t)),t},reduceState:function(e,t){const n=this.attributes[t];return n&&n.getState?(e.possibleEntityContainers.push(t),e[t]=n.getState(),e):(n&&n.initialize||(e[t]=n),e)},shouldUpdateRelationState:function(e,t,n){return t!==n},toJSON:function(e={}){this.name;const t=this.syncedAttrs,n=this.sessionRelations,r=this.syncedRelations,s=this.attributes,o={};for(const i in s){const l=e.excluded&&e.excluded.includes(i),c=n&&a().has(n,i),d=r&&a().has(r,i),u=e.syncedOnly&&(!t||!a().has(t,i));l||c||d||u||(o[i]=s[i])}let c=i().extend(!0,{},o);function d(t,n){const r=this.get(n),i=e.excluded&&e.excluded.includes(n);if(r&&!i){let t;t=e.excludeDefaults?r instanceof l.ZP.Collection?r.map((function(t){return h(a().result(t,"defaults"),t.toJSON(e))})):h(a().result(r,"defaults"),r.toJSON(e)):r.toJSON(e),c[n]=t}}return e.excludeDefaults&&(c=h(a().result(this,"defaults"),c)),e.syncedOnly||a().each(n,d,this),a().each(r,d,this),c},clone:function(){const e=a().extend(a().pick(this,this.getContextNames()),{skipCache:!0});return new this.constructor(this.toJSON(),e)||null},copy:function(e){(0,g.Z)(e instanceof this.constructor,"Only a model of the same type may be copied");const t=e.toJSON();return a().extend(t,this._getRelations(this.sessionRelations,t,{parse:!0}),this._getRelations(this.syncedRelations,t,{parse:!0})),this.set(t)},restoreDefaults:function(e){const t={};return a().each(this.attributes,(function(e,n){this.derivedAttrs&&a().has(this.derivedAttrs,n)||(t[n]=void 0)}),this),a().extend(t,this._getRelations(this.sessionRelations,{},{reset:!0}),this._getRelations(this.syncedRelations,{},{reset:!0}),a().result(this,"defaults"),e),this.set(t)},set:function(e,t,n){let r,i;return a().isObject(e)?(r=e,n=t):(r={})[e]=t,n||(n={}),!this.isMergingAttributes&&n.merge&&this.mergeStrategy&&(i=!0,this.isMergingAttributes=!0),this.isMergingAttributes&&(r=this._mergeAttributes(r)),l.ZP.Model.prototype.set.call(this,r,n),i&&(this.isMergingAttributes=!1),this},hasAttr:function(e){const t=this.sessionAttrs&&a().has(this.sessionAttrs,e),n=this.syncedAttrs&&a().has(this.syncedAttrs,e);return!(!t&&!n)},hasRelation:function(e){const t=this.sessionRelations&&a().has(this.sessionRelations,e),n=this.syncedRelations&&a().has(this.syncedRelations,e);return!(!t&&!n)},hasDerived:function(e){return!(!this.derivedAttrs||!a().has(this.derivedAttrs,e))},hasContext:function(e){return this.getContextNames().includes(e)},validate:function(e,t){const n=a().extend({},this.sessionAttrs,this.syncedAttrs,this.sessionRelations,this.syncedRelations),r=this._validateTypes(e,n);return r&&(0,g.Z)(!1,r),r},parse:function(e,t){return t&&t.save&&!this.hasResponseOnSave?this.attributes:(this.name,this.convert(e,t))},parseResponse(e){let t=e;const n=a().result(this,"responseType");let r;return a().isString(t)&&(r=!0,a().isFunction(this.augmentResponseText)&&(t=this.augmentResponseText(t,n)),t=n.parse(t)),n===p.AV&&t.MediaContainer&&(t=t.MediaContainer),a().isFunction(this.augmentResponse)&&(t=this.augmentResponse(t,n)),r&&this.rootPropertyName&&a().has(t,this.rootPropertyName)&&(t=t[this.rootPropertyName]),Array.isArray(t)&&(t=t[0]),t},convert:function(e,t){const n=this.parseResponse(e),r={};let i;a().each(this.sessionAttrs,(function(e,t){a().has(n,t)&&(r[t]=n[t])})),a().each(this.syncedAttrs,(function(e,t){if(a().has(n,t)){let i,s=e;s.typeName||(s=e.type,i=a().omit(e,"type")),r[t]=null==n[t]?n[t]:s.parse(n[t],i)}else this.has(t)&&(i||(i=a().result(this,"defaults")),r[t]=i&&a().has(i,t)?i[t]:void 0)}),this);const s=a().extend({},t,{parse:!0});return a().extend(r,this._getRelations(this.syncedRelations,n,s)),r},save:function(e,t,n){let r;null==e||"object"==typeof e?(r=e,n=t):(r={})[e]=t;const s=a().extend({save:!0},n),o=a().extend(this.getSaveParams(r),s.data);if(a().isEmpty(o))return s.success&&s.success(this),i().Deferred().resolve(this);s.data=o;const c=s.success;return s.success=function(e,t,n){e.cache&&e.cache.store(e),c&&c(e,t,n)},l.ZP.Model.prototype.save.call(this,r,s)},sync:function(e,t,n){const r=n?a().clone(n):{};if("create"===e||"update"===e){const e=r.data,t=r.url||a().result(this,"saveUrl")||a().result(this,"syncUrl")||a().result(this,"url");r.url=b.Z.join(t,e),r.data=""}return l.ZP.Model.prototype.sync.call(this,e,t,r)},getSaveParams:function(e){const t=this._getSaveAttrs(e);return a().reduce(t,(function(e,t,n){const r=t.definition;let i=t.value,s=n;if(!r)return e[s]=i,e;const o=r.relationClass;if(o){const e=o.prototype.model;let t;r.rootPropertyName?t=r.rootPropertyName:i&&i.rootPropertyName?t=i.rootPropertyName:e&&e.prototype&&(t=e.prototype.rootPropertyName),i&&(i=i.getSaveParams()),t&&(s=t)}else{let e,t;a().has(r,"type")?(e=r.type,t=a().omit(r,"type")):e=r,i=e.stringify(i,t)}return e[s]=i,e}),{},this)},startCapturingChangeEvents:function(){if(this.releaseCapturedChangeEvents)return void(0,g.Z)(!1,this.name+" is already capturing events");const e=this.set,t=[],n=a().clone(this.attributes);this.set=function(n,r,i){const s=a().extend({},i,{silent:!0});let o;return"object"==typeof n?(o=n,i=r):(o={})[n]=r,a().each(o,(function(n,r){this.get(r)!==n&&(t.push({key:r,value:n}),e.call(this,r,n,s))}),this),a().each(this._derivedListeners,(function(n){const r=n.key,i=this.derivedAttrs[r].call(this);this.get(r)!==i&&(t.push({key:r,value:i}),e.call(this,r,i,s))}),this),this},this.releaseCapturedChangeEvents=function(){this.set=e,this.releaseCapturedChangeEvents=null,this.discardCapturedChangeEvents=null,this._previousAttributes=n,this._changing=!0,a().each(t,(function(e){this.trigger("change:"+e.key,this,e.value)}),this),this._changing=!1,a().isEmpty(t)||this.trigger("change",this,{})},this.discardCapturedChangeEvents=function(){this.set=e,this.releaseCapturedChangeEvents=null,this.discardCapturedChangeEvents=null,t.length=0}},spyOnGet:function(e){const t=[],n=this.get;return this.get=function(e){return t.push("change:"+e),this.hasRelation(e)&&t.push("change:"+e+".change"),n.apply(this,arguments)},e.call(this),this.get=n,t},dispatch:function(e){},_mergeAttributes:function(e){const t=this.mergeStrategy;return t?a().reduce(e,(function(e,n,r,i){return e[r]=t(r,this.get(r),n),e}),{},this):e},_resolveRelationDefinition:function(e){return a().isFunction(e)?e.call(this):e},_getRelations:function(e,t,n){t||(t={}),n||(n={});const r={};return a().each(e,(function(e,i){const s=this._resolveRelationDefinition(e),o=s.relationClass;(0,g.Z)(o,this.name+" requires a `relationClass` for the "+i+" relation");let c=i;n.parse&&!a().has(t,i)&&a().has(s,"rootPropertyName")&&(c=s.rootPropertyName);let d=t[c];if(d instanceof o)return void(r[i]=d);if(!d&&s.deferred)return void(r[i]=void 0);let u=n.reset?null:this.get(i),p=u instanceof o;const m=o.prototype instanceof l.ZP.Collection;if(m?d=v.Z.parseArray(d):d||(d={}),p&&!m&&(n.parse&&(d=u.parse(d)),p=u.id===d[u.idAttribute||"id"]),p){u.isMergingAttributes=this.isMergingAttributes;let e=s.setOptions;a().isFunction(e)&&(e=e.call(this,n)),m?u.set(d,a().extend({parse:n.parse,remove:!this.isMergingAttributes},e)):u.set(d,a().extend({merge:!0},e)),u.isMergingAttributes=!1}else{const e={parse:n.parse};if(this.getContextNames().forEach((t=>{e[t]=this[t]})),!m){let e=s.attrs;a().isFunction(e)&&(e=e.call(this,t)),d=a().extend({},d,e)}let r=s.options;a().isFunction(r)&&(r=r.call(this,t)),a().extend(e,{parent:this},r),u=new o(d,e)}r[i]=u}),this),r},_forwardRelationEvents:function(e,t){const n=["sync","request","invalid","error","add","remove"];function r(){const r=arguments[0];if("change"===r)return;if("statechange"===r)return void(this.shouldUpdateRelationState.apply(this,a().rest(arguments,1))&&f.GF(this.updateState,this));const i=a().toArray(arguments);i[0]="change:"+t+"."+r,this.trigger.apply(this,i),a().contains(n,r)||(this.trigger("change:"+t+".change",this,e),this.trigger("change",this))}e.on("all",r,this),this._relationListeners[t]=r},_setDerived:function(e,t){let n;const r=this.spyOnGet((function(){const r=this.set;this.set=function(){(0,g.Z)(!1,this.name+" blocked `set` in the "+t+" attribute. Derived attributes are read-only.")},n=e.call(this),this.set=r}));this.set(t,n),a().each(r,(function(n){this._addDerivedListener(t,n,e)}),this)},_addDerivedListener:function(e,t,n){this._derivedListeners||(this._derivedListeners=[]);const r={key:e,name:t,callback:a().bind(this._setDerived,this,n,e)};a().findWhere(this._derivedListeners,{key:e,name:r.name})||(this._derivedListeners.push(r),this.on(r.name,r.callback))},_getSaveAttrs:function(e){let t;if(e)t=a().reduce(e,(function(e,t,n){return e[n]={definition:this.syncedAttrs[n],value:t},e}),{},this);else{const e=a().extend({},this.syncedAttrs,this.syncedRelations);t=a().reduce(e,(function(e,t,n){const r=this._resolveRelationDefinition(t);let i=r.save;return a().isFunction(i)&&(i=i.call(this)),i&&(e[n]={definition:r,value:this.get(n)}),e}),{},this)}return t},_validateTypes:function(e,t){const n=Object.keys(e),r=a().reduce(n,(function(n,r){if(this.hasDerived(r))return n;if(!a().has(t,r))return n.push(this.name+" received an unknown attribute: "+r+". All attributes must be defined in `sessionAttrs`, `syncedAttrs`, `sessionRelations`, or `syncedRelations`."),n;const i=e[r],s=this._resolveRelationDefinition(t[r]),o=s.relationClass;let c;c=o?this.hasInitialRelations?d.Z.instanceOf(o):o.prototype instanceof l.ZP.Collection?d.Z.oneOfType(d.Z.array,d.Z.object):d.Z.object:s.type?s.type:s;const u=c.validate;return u?u(i)||n.push(r+" of type "+c.typeName+" has an invalid value: "+JSON.stringify(i)):n.push(r+" has an unknown type. Specify the type in the attribute definition or use attrTypes.any as a wildcard type."),n}),[],this);if(r.length>0)return r.join("\n")},onEvent:function(e,t,n){if(!t)return void y.Z.warn("Unable to handle",e);const r=e.match(S);if(!r)return;const i=r[1];t.get(i)!==this.state[i]&&(n&&n.updateEntity&&n.updateEntity(),f.GF(this.updateState,this))}})},29415:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(14e3),l=n(38910),c=n(89905),d=n(55983),u=n(84936);const p=o.ZP.Collection.extend({mixins:[l.Z],cache:new c.Z,constructor:function(e,t){if(t||(t={}),this.server=t.server,this.section=t.section,this.channel=t.channel,this.device=t.device,this.parent=t.parent,this.allowInCache=t.allowInCache,this.persistInCache=t.persistInCache,this.skipCache=t.skipCache,t.url&&(this.url=t.url),t.path&&(this.path=t.path),null==t.pageStart&&null==t.pageSize||(this.pageStart=t.pageStart||0,this.pageSize=t.pageSize||0),t.populated&&this.resetPopulatePromise(i().Deferred().resolve().promise()),!t.allowInCache&&!t.persistInCache)return void o.ZP.Collection.prototype.constructor.apply(this,arguments);this.initialize.apply(this,arguments);const n=this.cache.getItemCacheKey(this);let r=this.cache.get(n);if(this.uninitialize(),t.onlyIfCached&&(r||(r={})),r)return r;o.ZP.Collection.prototype.constructor.apply(this,arguments),this.cache.store(this,n)},uninitialize:function(){this.stopListening()},sync:function(){return(this.allowInCache||this.persistInCache)&&this.cache.store(this),o.ZP.sync.apply(this,arguments)},syncUrl:function(){let e="";if(this.url&&(e=a().result(this,"url")),this.path&&(e=u.Z.join([e,a().result(this,"path")])),null!=this.pageStart||null!=this.pageSize){const t=this.pageStart||0,n=this.pageSize||0,r={};r["X-Plex-Container-Start"]=t,r["X-Plex-Container-Size"]=n,e=u.Z.join(e,r)}return e},convert:function(e,t){const n=a().isObject(e)?e:d.Z.parseXML(e);if(!t)return n;let r=n[t];return r?(Array.isArray(r)||(r=[r]),r):[]},clone:function(e){const t={server:this.server,section:this.section,parent:this.parent,url:this.url};return e||(e=this.models),new this.constructor(e,t)},cloneDeep:function(e){return e||(e=this.map((function(e){return e.clone()}))),this.clone(e)},clear:function(e){e=a().extend({silent:!0},e),this.abortPendingPopulate(),this.resetPopulatePromise(null),this.reset([],e)}});p.extend=function(){const e=o.ZP.Collection.extend.apply(this,arguments);return e.prototype.cache=new c.Z,e};const m=p},69865:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(14e3),l=n(38910),c=n(36776),d=n(11133),u=n(55983),p=n(84936);const m=o.ZP.Model.extend({mixins:[l.Z],cache:new c.Z,constructor:function(e,t){e||(e={}),t||(t={}),this.server=this.findOption(t,"server"),this.section=this.findOption(t,"section"),this.channel=this.findOption(t,"channel"),this.device=this.findOption(t,"device"),this.parent=this.findOption(t,"parent");const n=this.findOption(t,"skipCache");if(n)return void o.ZP.Model.prototype.constructor.apply(this,arguments);const r=this.cache.getItemCacheKey(this,e),i=this.cache.get(r);if(i)return t.parse&&(e=i.parse(e)),this.preserveCachedAttributes&&this.preserveCachedAttributes(t.url)?a().each(e,(function(e,t){a().isUndefined(i.get(t))&&!a().isUndefined(e)&&i.set(t,e)})):i.set(e),i.server=this.server||i.server,i.section=this.section||i.section,i.channel=this.channel||i.channel,i.device=this.device||i.device,i.parent=this.parent||i.parent,t.collection&&(i.collection=t.collection),i;const s=this.findOption(t,"onlyIfCached");if(s)return{};o.ZP.Model.prototype.constructor.apply(this,arguments),this.cache.store(this,r)},findOption:function(e,t){return e[t]||e.collection&&e.collection[t]},clone:function(){const e={server:this.server,section:this.section,channel:this.channel,parent:this.parent,skipCache:!0};return new this.constructor(this.attributes,e)||null},convert:function(e){return a().isObject(e)?e:u.Z.parseXML(e)},parse:function(e,t){let n=this.convert(e);return this.whitelistedAttrs&&(n=a().pick(n,this.whitelistedAttrs)),n},save:function(e,t,n){let r,s;const l=this.attributes;null==e||"object"==typeof e?(r=e,n=t):(r={})[e]=t,n=a().extend({validate:!0},n);const c=this.getSaveParams(r,n);if(a().extend(c,n.data),r&&!n.wait){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;if(r&&n.wait&&(this.attributes=a().extend({},l,r)),a().isEmpty(c)&&!n.force)return n.success&&n.success(this),i().Deferred().resolve(this);void 0===n.parse&&(n.parse=!0);const d=this,u=n.success;n.success=function(e){if(d.attributes=l,e){let t=d.parse(e,n);if(n.wait&&(t=a().extend(r||{},t)),a().isObject(t)&&!d.set(t,n))return!1;d.cache.store(d)}u&&u(d,e,n),d.trigger("sync",d,e,n)},o.ZP.wrapError(this,n),s=this.isNew()?"create":n.patch?"patch":"update","patch"===s&&(n.attrs=r);const m=a().result(this,"saveUrl")||a().result(this,"url");a().isEmpty(c)||(n.url=p.Z.join(m,c)),n.data="";const h=this.sync(s,this,n);return r&&n.wait&&(this.attributes=l),h},getSaveParams:function(e,t){return this.isNew()?e||this.toJSON():this.changedAttributes(e)||{}},getScopedKey:function(e){return null!=e&&a().isFunction(this.cacheKey)?this.cacheKey(this.attributes)+"!"+e:e},restoreDefaults:function(e){const t=a().result(this,"defaults");if(!t)return this.clear(e);const n=this.attributes;let r;for(r in n)r in t||this.unset(r,e);return this.set(t,e),this},startCapturingChangeEvents:function(){if(this.releaseCapturedChangeEvents)return void(0,d.Z)(!1,"This model is already capturing events");const e=this.set;let t={};this.set=function(n,r,i){let s;"object"==typeof n?(s=n,i=r):(s={})[n]=r;const o=a().extend({},i,{silent:!0}),l=e.call(this,s,o);return a().extend(t,this.changed),l},this.releaseCapturedChangeEvents=function(){a().each(t,(function(e,t){this.trigger("change:"+t,this,e)}),this),a().isEmpty(t)||this.trigger("change",this,{}),t={},this.set=e,this.releaseCapturedChangeEvents=null}}});m.extend=function(){const e=o.ZP.Model.extend.apply(this,arguments);return e.prototype.cache=new c.Z,e};const h=m},56529:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(59756),i=Object.defineProperty,s=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(a)for(var n of a(t))o.call(t,n)&&l(e,n,t[n]);return e};function d(e,t){return r.Z.shouldCreateFlexModels&&(e.prototype.sessionRelations=c(c({},e.prototype.sessionRelations),{desktop:t})),e}},16013:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=[]},14408:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(13469),i=n.n(r),s=n(70515),a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};const p=["boolean","integer","float","string","object","array"];function m(e){return!0}function h(e){return i().isObject(e)&&!Array.isArray(e)}function g(e,t){t||(t={});const n=i().defaults(t,{typeName:e,parse:i().bind(s.Z.parseType,s.Z,e),stringify:i().bind(s.Z.stringifyType,s.Z,e)});var r;return n.validate=t.validate?(r=t.validate,function(e){return null==e||r(e)}):m,n.isRequired=u(u({},n),{validate:e=>null!=e&&n.validate(e),typeName:`${n.typeName}<required>`}),n}var y={any:g("any"),boolean:g("boolean",{validate:i().isBoolean}),integer:g("integer",{validate:Number.isInteger}),float:g("float",{validate:i().isNumber}),string:g("string",{validate:i().isString}),object:g("object",{validate:h}),array:g("array",{validate:Array.isArray}),list:g("list",{validate:Array.isArray}),encodedString:g("encodedString",{validate:i().isString}),queryString:g("queryString",{validate:h}),instanceOf:function(){const e=i().toArray(arguments);return g("instanceOf",{validate:function(t){return i().some(e,(function(e){return t instanceof e}))}})},oneOf:function(){const e=i().toArray(arguments);return g("oneOf",{validate:function(t){return i().contains(e,t)}})},oneOfType:function(){const e=i().toArray(arguments);return g("oneOfType",{validate:function(t){return i().some(e,(function(e){return e.validate(t)}))}})},custom:function(e){return g("custom",{validate:e})},getAttrTypeFor:function(e){if(null==e)return y.any;for(let t=0,n=p.length;t<n;t++){const n=y[p[t]];if(n.validate(e))return n}return y.any}};const v=y},47560:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(14408),i=n(95933),s=n(84936),a=n(93683),o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e};const m=p(p({},a.Z),{getPaginatedUrl(e){const t=this.get("beginsAt"),n=this.get("endsAt");if(null!=t||null!=n){const r={"endsAt>":t,"beginsAt<":n};return s.Z.join(e,r)}return e},fetchRange(e){const t=p(p({},e),{remove:!1});return e.prepend&&(t.at=0),this.set({beginsAt:e.start,endsAt:e.end}),this.fetch(t).promise()},repopulateRange(e=0){const t=this.get("populatedRange"),n=t.start,r=t.end;return this.set({beginsAt:n,endsAt:r}),this.abortPendingPopulate(),this.fetch()},updatePopulatedRange(){const e=this.get("beginsAt"),t=this.get("endsAt"),n=this.get("populatedRange"),r=n.start,i=n.end;let s,a;this.getCollection().length?r?(s=Math.min(r,null==e?1/0:e),a=Math.max(i,null==t?-1/0:t)):(s=e||r,a=t||i):(s=0,a=0),this.set("populatedRange",{start:s,end:a,size:a-s}),this.set("isPopulated",a-s>0)}}),h=i.Z.extend({mixins:[m],name:"ChannelGridMetadataListModel",sessionAttrs:{isMetadataList:r.Z.boolean,containerKey:r.Z.string,entityKey:r.Z.string,containerTitle:r.Z.string,beginsAt:r.Z.integer,endsAt:r.Z.integer,populatedRange:r.Z.object,isPending:r.Z.boolean,isPopulated:r.Z.boolean,error:r.Z.object},defaults:()=>({isMetadataList:!0,populatedRange:{start:0,end:0,size:0},isPending:!0,isPopulated:!1,error:null})})},59756:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(96242),i=Object.defineProperty,s=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(a)for(var n of a(t))o.call(t,n)&&l(e,n,t[n]);return e};const d=n(44799).Z,u=c(c({allowFlash:!1,testPrivateConnectionsWhenPublicAddressDoesNotMatch:!0,allowHttpsMediaServerConnections:!1,allowMediaServerRelayConnections:!1,allowLoopbackDiscovery:!1,allowSSO:!1,allowMixedContent:!1,allowBaseImagePreloading:!0,allowBaseImageBlobs:!0,heartbeatInterval:1e4,allowManualServers:!1,allowMobileServers:!1,allowMultiTrackAudio:!1,maximumConcurrentConnectionTests:5,shouldCreateFlexModels:!1,shouldCreateStateTree:!1,requiresSignIn:!0,requiresPlexPass:!1,myPlexAccessToken:null,primaryServer:null,shouldCreateNewSessionWhenSeekingLiveTV:!1,shouldPreferInsecureLocalConnections:!1,shouldRequestHTMLFromCloudProvider:!1,allowLiveTVPlayback:!0,seekDebounceMilliseconds:null,allowSyncSettings:!1,allowAdsOverMedia:!0,drmType:r.NONE},d),window.PLEXWEB),p=Object.freeze(u)},39879:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(12634),i=n(89653);const s=r.Z.extend({name:"PlayQueueItemCollection",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],model:i.Z})},89653:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var r=n(13469),i=n.n(r),s=n(53334),a=n(14408),o=n(70519),l=n(95688);const c={exclusiveBoolAttr(e){this.listenTo(this,"change:"+e,((t,n)=>{n&&this.each((r=>{r.set(e,r===t&&n)}))}))}};var d=n(12634),u=n(64297),p=n(84936);const m=s.Z.extend({name:"LyricsSpanModel",context:["server","section"],sessionAttrs:{active:a.Z.boolean},syncedAttrs:{startOffset:a.Z.integer,endOffset:a.Z.integer,text:a.Z.string},defaults:{startOffset:-1,endOffset:-1},isPositionWithin(e){const t=this.get("startOffset"),n=this.get("endOffset");return-1!==t&&(e>=t&&(e<=n||-1===n))}}),h=d.Z.extend({name:"LyricsSpanCollection",context:["server","section"],model:m}),g=s.Z.extend({name:"LyricsLineModel",context:["server","section"],syncedAttrs:{startOffset:a.Z.integer,endOffset:a.Z.integer},syncedRelations:{spans:{relationClass:h,rootPropertyName:"Span"}},defaults:{startOffset:-1,endOffset:-1}}),y=d.Z.extend({name:"LyricsLineCollection",context:["server","section"],model:g,eachSpan(e){this.each((t=>{t.get("spans").each(e)}))}}),v=s.Z.extend({name:"LyricsStreamModel",context:["server","provider","section"],rootPropertyName:"Lyrics",mergeStrategy:u.Z,url(){return p.Z.join(this.get("key"),{format:"xml"})},sessionAttrs:{follow:a.Z.boolean,lyricsError:a.Z.object},syncedAttrs:{id:a.Z.string,key:a.Z.string,streamType:a.Z.integer,index:a.Z.integer,title:a.Z.string,selected:a.Z.boolean,codec:a.Z.string,provider:a.Z.string,format:a.Z.string,minLines:a.Z.integer,timed:a.Z.boolean},syncedRelations:{lines:{relationClass:y,rootPropertyName:"Line"}},defaults:{follow:!0,selected:!1,lyricsError:null}}),f=d.Z.extend({mixins:[c],name:"LyricsStreamCollection",context:["server","provider","section"],model:v,initialize(){this.exclusiveBoolAttr("selected")}});var b=n(36776),S=n(70515),I=n(4844),Z=n(15042),P=n(73004);const E=s.Z.extend({name:"PlayQueueItemModel",context:["server","provider"],syncedAttrs:{internal:a.Z.boolean,url:a.Z.string}}),M=s.Z.extend({name:"PlayQueueItemModel",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],entityType:Z.PI,entityID(e=this.state){return(0,I.Z)(this.entityType,e.playQueueItemID,this.server.entityID())},idAttribute:"playQueueItemID",cache:new b.Z,cacheKey(e){return this.server&&this.server.getScopedKey(e.playQueueItemID)},sessionAttrs:{isPlayQueueItem:a.Z.boolean,isLocal:a.Z.boolean},syncedAttrs:{playQueueItemID:a.Z.string,queueIndex:a.Z.integer,key:a.Z.string,ratingKey:a.Z.string,type:a.Z.string,subtype:a.Z.string,advertisement:a.Z.boolean,allowSkipAfter:a.Z.integer,librarySectionID:a.Z.string,hasPremiumLyrics:a.Z.boolean,displayPostplay:a.Z.boolean,syncItemId:a.Z.integer,generatorID:a.Z.integer,generatorType:a.Z.integer,clientIdentifier:a.Z.string,target:a.Z.string},syncedRelations:{metadataItem:{relationClass:l.Z,deferred:!0},lyricsStreams:{relationClass:f,deferred:!0},vast:{relationClass:E,deferred:!0}},sessionRelations:{postPlay:{relationClass:o.Z,options(){return{url:`hubs/metadata/${this.get("metadataItem").id}/postplay`}}}},defaults:{isPlayQueueItem:!0,isLocal:!1},augmentResponse(e){const t=i().pick(e,Object.keys(this.syncedAttrs));e.Ad&&(Array.isArray(e.Ad)&&(e.Ad=e.Ad[0]),t.vast=e.Ad),t.metadataItem=e;const n=i().first(S.Z.parseArray(e.Media));if(n){const e=i().first(S.Z.parseArray(n.Part));if(e){const n=S.Z.parseArray(e.Stream);if(n){const e=P.Z.get("lyrics");t.lyricsStreams=i().filter(n,(t=>S.Z.parseInteger(t.streamType)===e.id))}}}return t}})},72149:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(53334),i=n(14408),s=n(39879),a=n(56442),o=n(67299);const l=r.Z.extend({name:"PlayQueueModel",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion"],idAttribute:"playQueueID",hasResponseOnSave:!0,urlRoot(){return this.get("key")},sessionAttrs:{key:i.Z.string,type:i.Z.string,repeat:i.Z.boolean,own:i.Z.boolean,isUpdatePending:i.Z.boolean,isUniversal:i.Z.boolean},syncedAttrs:{allowShuffle:i.Z.boolean,playQueueID:i.Z.string,playQueueSelectedItemOffset:i.Z.integer,playQueueSelectedItemID:i.Z.string,playQueueSelectedMetadataItemID:i.Z.string,playQueueLastAddedItemID:i.Z.string,playQueueShuffled:i.Z.boolean,playQueueSourceURI:i.Z.string,playQueueTotalCount:i.Z.integer,playQueueVersion:i.Z.integer},syncedRelations:{playQueueItems:{relationClass:s.Z,rootPropertyName:"Metadata"}},derivedAttrs:{canShuffle(){const e=-1!==(this.get("playQueueSourceURI")||"").indexOf("library://x/station");return!this.get("playQueueLastAddedItemID")&&this.get("allowShuffle")&&!e},currentIndex(){const e=this.get("playQueueItems"),t=this.get("playQueueSelectedItemID"),n=e.get(t);return e.indexOf(n)},length(){const e=this.get("playQueueTotalCount")||0,t=this.get("playQueueItems")||[];return Math.max(e,t.length)}},defaults:{repeat:!1,own:!0,isUpdatePending:!1,isUniversal:!1,allowShuffle:!0},augmentResponseText:(e,t)=>t===a.Ls?(0,o.Z)(e):e,augmentResponse(e,t){return this.responseContext.forEach((t=>{const n=e[t];void 0!==n&&this.setContext(t,n)})),e}})},46879:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(13469),i=n.n(r),s=n(12634),a=n(84936),o=n(10723);const l=s.Z.extend({name:"FilterCollection",context:["server","section","includeAdvanced"],model:o.Z,comparator:"filterType",includeAdvanced:!0,url(){const e=i().result(this.section,"url"),t=this.section.get("currentType"),n={includeAdvanced:this.includeAdvanced?1:0};return t&&(n.type=t.id),a.Z.join([e,"/filters"],n)},findUnwatchedFilter(){return this.get("unwatched")||this.get("unwatchedLeaves")}})},10723:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(53334),i=n(14408),s=n(94887);const a=r.Z.extend({name:"FilterModel",context:["server","section","type","standalone"],idAttribute:"filter",rootPropertyName:"Directory",defaults:{advanced:!1},syncedAttrs:{filter:i.Z.string,filterType:i.Z.string,type:i.Z.string,key:i.Z.string,title:i.Z.string,advanced:i.Z.boolean},syncedRelations:{options:{relationClass:s.Z}}})},94887:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(13469),i=n.n(r),s=n(12634),a=n(84936),o=n(53334),l=n(14408);const c=o.Z.extend({name:"FilterOptionModel",context:["server","section","type","standalone"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:l.Z.encodedString,type:l.Z.string,field:l.Z.string,value:l.Z.string,title:l.Z.string},augmentResponse:e=>(e.fastKey?(e.value=e.key,e.key=e.fastKey,e.field=e.type,delete e.type,delete e.fastKey):e.fastKey||e.value||(e.value=e.key),e)}),d=s.Z.extend({name:"FilterOptionCollection",context:["server","provider","section","type","standalone","includeExternalMedia"],model:c,url(){let e;this.type?e={type:this.type}:this.standalone||(e=this.getUrlParams());const t=i().result(this.section,"url");return a.Z.join([t,this.parent.id],e)},getUrlParams(){const e={},t=[],n=this.section.get("currentType"),r=this.section.get("currentFilters");return n&&(e.type=n.id),i().each(r,(t=>{t.key!==this.parent.id&&t.values.length&&(e[t.key]=t.values.join(","))})),i().each(e,((e,n)=>{"unviewedLeafCount"===n?t.push(`${n}>=${e}`):t.push(`${n}=${e}`)})),t.join("&")},augmentResponse:e=>(e.Directory&&!Array.isArray(e.Directory)&&(e.Directory=[e.Directory]),e.Directory=i().filter(e.Directory,(e=>e.title)),e),search(e){const t=this.filter((t=>t.get("title").toLowerCase().indexOf(e.toLowerCase())>-1));return this.clone(t)}})},94053:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(53334),i=n(14408),s=n(78636),a=n(5562),o=n(84936),l=n(12634);const c=r.Z.extend({name:"LibraryDirectoryModel",context:["server"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:i.Z.string,title:i.Z.string}}),d=l.Z.extend({name:"LibraryDirectoryCollection",context:["server"],model:c});var u=n(3644),p=n(99086);const m=r.Z.extend({name:"LibraryDetailsModel",context:["server","provider","includeAdvanced"],responseType(){return(0,s.Z)(this.server)},url(){const e={includeDetails:1};return this.includeAdvanced&&(e.includeAdvanced=1),o.Z.join(this.get("key"),e)},sessionAttrs:{key:i.Z.string.isRequired},syncedAttrs:{librarySectionID:i.Z.string},syncedRelations:{directories:{relationClass:d,rootPropertyName:"Directory"},types:{relationClass:p.Z,rootPropertyName:"Type"},fieldTypes:{relationClass:u.Z,rootPropertyName:"FieldType"}},augmentResponse(e){if(e.Directory&&e.Directory.length&&e.Directory.some((({key:e})=>"folder"===e))&&e.Type&&e.Type.length&&e.Type.every((({type:e})=>"folder"!==e))){const t=e.librarySectionID;e.Type.push({key:`/library/sections/${t}/folder`,type:"folder",title:(0,a.Z)("Folders")})}return e}})},3644:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(12634),i=n(53334),s=n(14408);const a=i.Z.extend({name:"OperatorModel",context:["server"],idAttribute:"key",rootPropertyName:"Operator",syncedAttrs:{key:s.Z.string,title:s.Z.string}}),o=r.Z.extend({name:"OperatorCollection",context:["server"],model:a}),l=i.Z.extend({name:"MetadataFieldTypeModel",context:["server"],idAttribute:"type",rootPropertyName:"FieldType",syncedAttrs:{type:s.Z.string.isRequired},syncedRelations:{operators:{relationClass:o,rootPropertyName:"Operator"}}}),c=r.Z.extend({name:"MetadataTypeCollection",context:["server"],model:l})},99086:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(12634),i=n(53334),s=n(14408);const a=i.Z.extend({name:"FieldModel",context:["server"],idAttribute:"key",rootPropertyName:"Field",syncedAttrs:{key:s.Z.string,title:s.Z.string,type:s.Z.string,subType:s.Z.string}}),o=r.Z.extend({name:"FieldCollection",context:["server"],model:a});var l=n(46879),c=n(32919);const d=i.Z.extend({name:"MetadataTypeModel",context:["server"],idAttribute:"key",rootPropertyName:"Type",syncedAttrs:{type:s.Z.string,subtype:s.Z.string,key:s.Z.string,title:s.Z.string,context:s.Z.string},syncedRelations:{filters:{relationClass:l.Z,rootPropertyName:"Filter"},sorts:{relationClass:c.Z,rootPropertyName:"Sort"},fields:{relationClass:o,rootPropertyName:"Field"}}}),u=r.Z.extend({name:"MetadataTypeCollection",context:["server"],model:d})},33192:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(12634),i=n(78636),s=n(12801);const a=r.Z.extend({name:"SectionCollection",context:["server"],model:s.Z,url:"/library/sections",responseType(){return(0,i.Z)(this.server)}})},12801:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n(13469),i=n.n(r),s=n(53334),a=n(14408),o=n(68252),l=n(69881),c=n(84936),d=n(95933);const u={unviewedLeafCount:">="},p=d.Z.extend({name:"SectionMetadataListModel",context:["server","section","identifier","mediaTagPrefix","mediaTagVersion","allowSync"],url(){let e,t,n=[];const r=this.section.get("currentFolderKey");if(r)n.push(r);else if(n.push(i().result(this.section,"url")),e=this.section.get("currentSubset").id,this.section.get("allowAdvancedFilters"))"recentlyAdded"!==e&&"newest"!==e||(e="all"),n.push(e),t=this.getParams();else{const t=this.section.get("currentFilters");t.length?n=[t[0].values[0]]:n.push(e)}let s=c.Z.join(n,t);return s=this.replaceSpecialFilterOperators(s),this.set("containerKey",s),this.server.get("isFullServer")?this.getPaginatedUrl(s):s},getParams(){const e=this.getFilterParams(),t=this.getMetadataTypeID(),n=this.getSort();return t&&t!==(0,l.getMetadataType)("photo").id&&(e.type=t),n&&(e.sort=n),this.section.get("refreshing")&&this.server.supports("timelineState")&&(e.timelineState=1),e},getFilterParams(){const e=this.section.get("currentFilters"),t={};return i().each(e,(e=>{e.values.length&&(t[e.key]=e.values.map(decodeURIComponent).join(","))})),t},getMetadataTypeID(){const e=this.section.get("currentSubset").id;let t=this.section.get("currentType").id||(0,l.getMetadataType)(this.section.get("type")).id;return/^(onDeck|recentlyAdded|recentlyViewed|newest)$/.test(e)?t===(0,l.getMetadataType)("show").id||t===(0,l.getMetadataType)("season").id?t=(0,l.getMetadataType)("episode").id:t!==(0,l.getMetadataType)("artist").id&&t!==(0,l.getMetadataType)("track").id||(t=(0,l.getMetadataType)("album").id):/^recentlyViewedShows$/.test(e)&&(t=(0,l.getMetadataType)("show").id),t},getSort(){const e=this.section.get("currentSort"),t=this.section.get("currentSubset").id;return"recentlyAdded"===t?"addedAt:desc":"newest"===t?"originallyAvailableAt:desc":e?(e.get("direction")||e.get("defaultDirection"))===o.Z.directions.DESCENDING?e.get("descKey"):e.get("key"):void 0},replaceSpecialFilterOperators:e=>(i().each(u,((t,n)=>{e=e.replace(n+"=",n+t)})),e)});var m=n(91485),h=n(36776),g=n(4844),y=n(15042),v=n(32003),f=n(5562);const b=(0,n(35981).Z)(["key"],[{key:"all",title:()=>(0,f.Z)("All")},{key:"unwatched",title:()=>(0,f.Z)("Unplayed")},{key:"newest",title:()=>(0,f.Z)("Recently Released")},{key:"recentlyAdded",title:()=>(0,f.Z)("Recently Added")},{key:"recentlyViewed",title:()=>(0,f.Z)("Recently Viewed")},{key:"recentlyViewedShows",title:()=>(0,f.Z)("Recently Viewed Shows")},{key:"onDeck",title:()=>(0,f.Z)("On Deck")},{key:"folder",title:()=>(0,f.Z)("By Folder")}]);var S=n(46879),I=n(12634),Z=n(78636);const P=s.Z.extend({name:"FirstCharacterModel",context:["server","provider","section"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:a.Z.string,title:a.Z.string,size:a.Z.integer},urlRoot(){return`/library/sections/${this.section.id}/firstCharacter`}}),E=I.Z.extend({name:"FirstCharacterCollection",context:["server","provider","section"],model:P,responseType(){return(0,Z.Z)(this.server)},url(){const e=i().result(this.section,"url")+"/firstCharacter",t=this.getUrlParams();return t?e+"?"+t:e},getUrlParams(){const e={},t=[],n=this.section.get("currentType");n&&(e.type=n.id);const r=this.section.get("currentFilters");return i().each(r,(t=>{t.values.length&&(e[t.key]=t.values.join(","))})),i().each(e,((n,r)=>{"unviewedLeafCount"===r?t.push(`${r}>=${e[r]}`):t.push(`${r}=${e[r]}`)})),t.join("&")}});var M=n(94887);const C=s.Z.extend({name:"LinearFilterModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{secondary:a.Z.boolean,key:a.Z.string,title:a.Z.string},syncedRelations:{options:{relationClass:M.Z}},defaults:{secondary:!1}}),w=I.Z.extend({name:"LinearFilterCollection",context:["server","section"],model:C,url(){return i().result(this.section,"url")},filterBySecondary(){const e=this.filter((e=>e.get("secondary")));return this.clone(e)}}),D=s.Z.extend({name:"LocationModel",context:["server","section"],rootPropertyName:"Location",syncedAttrs:{id:a.Z.integer,path:{type:a.Z.string,save:!0}}}),T=I.Z.extend({name:"LocationCollection",context:["server","section"],model:D}),O=s.Z.extend({name:"MediaTypeModel",context:["server","section"],sessionAttrs:{id:a.Z.integer,typeString:a.Z.string,title:a.Z.string,plural:a.Z.string,mediaType:a.Z.string,child:a.Z.string,parent:a.Z.string,selected:a.Z.boolean},defaults:{selected:!1}}),x=I.Z.extend({name:"MediaTypeCollection",context:["server","section"],model:O}),A=["all","recentlyAdded","recentlyViewed","recentlyViewedShows","onDeck","newest","folder"],N=s.Z.extend({name:"SectionSubsetModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",sessionAttrs:{selected:a.Z.boolean},syncedAttrs:{key:a.Z.string,title:a.Z.string,secondary:a.Z.boolean},derivedAttrs:{primary(){return!this.get("secondary")&&i().contains(A,this.get("key"))}},defaults:{selected:!1},augmentResponse:e=>("all"===e.key&&(e.title=(0,f.Z)("All")),e)},{whitelistedPrimaryKeySubsets:A}),k=I.Z.extend({name:"SectionSubsetCollection",context:["server","section"],model:N,url(){return i().result(this.section,"url")},filterPrimaries(){const e=this.filter((e=>e.get("primary")));return this.clone(e)}});var L=n(32919);const j=s.Z.extend({name:"SectionModel",context:["server"],entityType:y.Y3,entityID(e=this.state){return(0,g.Z)(this.entityType,e.key,this.server.entityID())},idAttribute:"key",rootPropertyName:"Directory",cache:new h.Z,persistInCache:!0,cacheKey(e){return this.server&&this.server.getScopedKey(e.key)},url(){return this.isNew()?i().result(this,"urlRoot")||i().result(this.collection,"url"):i().isNaN(parseInt(this.id,10))?this.id:"/library/sections/"+this.id},sessionAttrs:{isSection:a.Z.boolean,isCollectionsPopulated:a.Z.boolean,currentFilters:a.Z.array,currentFolderKey:a.Z.string,settings:a.Z.instanceOf(m.Z)},syncedAttrs:{key:a.Z.oneOfType(a.Z.string,a.Z.integer),uuid:a.Z.string,thumb:a.Z.string,art:a.Z.string,createdAt:a.Z.integer,updatedAt:a.Z.integer,allowAdvancedFilters:a.Z.boolean,allowSync:a.Z.boolean,refreshing:a.Z.boolean,name:{type:a.Z.string,save:!0},title:{type:a.Z.string,save:!0},type:{type:a.Z.string,save:!0},agent:{type:a.Z.string,save:!0},scanner:{type:a.Z.string,save:!0},language:{type:a.Z.string,save:!0},importFromiTunes:{type:a.Z.boolean,save:!0},enableAutoPhotoTags:{type:a.Z.boolean,save:!0},downloadMedia:{type:a.Z.integer,save:!0}},derivedAttrs:{serverEntityID(){return this.state?this.server.entityID():""}},syncedRelations:{locations(){return{relationClass:T,rootPropertyName:"Location",options:{section:this},save:!0}}},sessionRelations:{items(){return{relationClass:p,options:{section:this}}},currentSubset(){return{relationClass:N,options:{section:this}}},currentFirstCharacter:()=>({relationClass:P,deferred:!0}),currentType:()=>({relationClass:O,deferred:!0}),currentSort:()=>({relationClass:o.Z,deferred:!0}),types(){return{relationClass:x,options:{section:this}}},subsets(){return{relationClass:k,options:{section:this}}},filters(){return{relationClass:this.get("allowAdvancedFilters")?S.Z:w,options:{section:this}}},sorts(){return{relationClass:L.Z,options:{section:this}}},firstCharacters(){return{relationClass:E,options:{section:this}}}},defaults(){return{isSection:!0,isCollectionsPopulated:!1,currentType:null,currentFilters:[],currentSort:null,currentFirstCharacter:null,currentFolderKey:null,currentSubset:b.get("all"),settings:new m.Z([],{server:this.server,url:()=>c.Z.join(["/library/sections/",this.get("key"),"/prefs"])})}},initialize(e){this.updateMediaTypes(this,e.type),this.set({currentType:this.get("types").findWhere({typeString:e.type})}),this.on("change:type",this.updateMediaTypes,this)},uninitialize(){this.off("change:type",this.updateMediaTypes,this),this.stopListening()},augmentResponse:e=>(e.allowAdvancedFilters=!!e.filters,delete e.filters,e),getSectionType(){const e=this.get("type");return v.ZP.get(e)},getSaveParams(e){const t=s.Z.prototype.getSaveParams.apply(this,arguments);if("type"in t){const e=v.ZP.get(t.type);e&&(t.type=e.typeString)}return"title"in t&&(t.name=t.title,delete t.title),i().isObject(t.type)&&(t.type=t.type.typeString),"Location"in t&&(t.location=i().pluck(t.Location,"path"),delete t.Location),t},getSyncTitle(e){const t=this.get("title"),n=[],r=this.get("currentSubset"),s=this.get("currentFilters");return e?(i().each(e,(e=>{n.push(e.get("title"))})),t+": "+n.join(", ")):"all"!==r.id?t+": "+r.get("title"):s.length?(i().each(s,(function(e){n.push(e.titles.join(", "))})),t+": "+n.join(",")):t},setAgentAndScanner(e,t,n){const r=e.defaultAgents.find((e=>t.find((t=>t.get("identifier")===e)))),i=e.defaultScanners.find((e=>n.find((t=>t.get("name")===e))));this.set({agent:r,scanner:i})},updateMediaTypes(e,t){const n=(0,l.getRelatedTypes)(t);this.get("types").reset(n)}})},32919:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(13469),i=n.n(r),s=n(12634),a=n(84936),o=n(68252);const l=s.Z.extend({name:"SortCollection",context:["server","section","typeID"],model:o.Z,url(){const e=i().result(this.section,"url"),t=this.typeID||this.section.get("currentType").id,n=t?{type:t}:{};return a.Z.join([e,"/sorts"],n)}})},68252:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(53334),i=n(14408);const s={ASCENDING:"asc",DESCENDING:"desc"},a=r.Z.extend({name:"SortModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",sessionAttrs:{selected:i.Z.boolean,direction:i.Z.string},syncedAttrs:{key:i.Z.string,descKey:i.Z.string,title:i.Z.string,isDefault:i.Z.boolean,active:i.Z.boolean,defaultDirection:i.Z.string,activeDirection:i.Z.string,firstCharacterKey:i.Z.string},defaults:{selected:!1},augmentResponse:e=>(e.defaultDirection||(e.defaultDirection=e.default||s.ASCENDING),e.isDefault=!!e.default,e.direction||(e.direction=e.defaultDirection),e),reverseSortDirection(){let e=this.get("direction")||this.get("defaultDirection");e=e&&e!==s.ASCENDING?s.ASCENDING:s.DESCENDING,this.set("direction",e)}},{directions:s})},70519:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(13469),i=n.n(r),s=n(12634),a=n(56442),o=n(32846),l=n(78636),c=n(67299),d=n(34885),u=n(71321),p=n(84936),m=n(94902);const h=s.Z.extend({name:"HubCollection",context:["server","provider","section","identifier","hubKey","hubCount","count","includeEmpty","libraryHubsOnly","includeFeaturedTags","includeLibraryPlaylists","includeMeta","includeGames","includeStations","includeExternalMedia","includeExternalMetadata","includeRecentChannels","asyncAugmentMetadata","excludes","excludeFields","excludeElements","allowSync","maxLength","wait"],responseContext:["identifier","allowSync"],model:m.Z,responseType(){return(0,l.Z)(this.server)},url(){let e="/hubs";this.hubKey?e=this.hubKey:this.section&&(e="/hubs/sections/"+encodeURIComponent(this.section.id));const t={};return""!==this.excludeFields&&(t.excludeFields=this.excludeFields||"summary"),this.excludeElements&&(t.excludeElements=this.excludeElements),this.count&&(t.count=this.count+1),this.hubCount&&(t.hubCount=this.hubCount),this.includeEmpty&&(t.includeEmpty=1),this.libraryHubsOnly&&(t.libraryHubsOnly=1),this.includeFeaturedTags&&(t.includeFeaturedTags=1),this.includeLibraryPlaylists&&(t.includeLibraryPlaylists=1),this.includeMeta&&(t.includeMeta=1),this.includeGames&&(t.includeGames=1),this.includeStations&&(t.includeStations=1),this.includeExternalMedia&&(t.includeExternalMedia=1),this.includeExternalMetadata&&(t.includeExternalMetadata=1),this.includeRecentChannels&&(t.includeRecentChannels=1),this.asyncAugmentMetadata&&(t.asyncAugmentMetadata=1),this.wait&&(t.wait=1),this.excludes&&this.excludes.length&&this.excludes.forEach((e=>{t["exclude"+(0,d.Z)(e)]=1})),p.Z.join(e,t)},initialize:function(){this.section&&this.listenTo(o.Z,"clear:sections:hubs",this.clear)},fetch(e={}){const t=i().clone(e);return e.onlyTransient&&this.populatePromise&&(t.remove=!1,t.url=p.Z.join(i().result(this,"url"),{onlyTransient:1})),s.Z.prototype.fetch.call(this,t)},augmentResponseText:(e,t)=>t===a.Ls?(0,c.Z)(e):e,augmentResponse(e){const t=this.model.prototype.rootPropertyName;if(e&&t){Array.isArray(e)?e={[t]:e}:e[t]&&!Array.isArray(e[t])&&(e={[t]:[e[t]]});const n=e[t];e.Meta&&n.forEach((t=>{t.Meta||(t.Meta=e.Meta)}));let r=n&&n.length;if(r){if(!this.includeEmpty)for(;r&&r--;){const e=n[r];u.vT.includes(e.style)&&e.size<=0&&n.splice(r,1)}this.maxLength&&n.splice(this.maxLength),e.size>n.length&&(e.size=String(n.length)),this.count&&n.forEach((e=>{e.more&&e.size>this.count&&(e.Metadata.splice(this.count,e.size-this.count),e.size=this.count)}))}}return this.responseContext.forEach((t=>{const n=e[t];void 0!==n&&this.setContext(t,n)})),e}})},94902:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(53334),i=n(14408),s=n(56442),a=n(78636),o=n(67299),l=n(70515),c=n(4844),d=n(15042),u=n(95933);const p=r.Z.extend({name:"HubModel",context:["server","provider","section","identifier","allowSync","includeExternalMedia"],entityType:d.km,entityID(e=this.state){return(0,c.Z)(this.entityType,e.key||e.hubKey||e.hubIdentifier,this.provider.entityID())},idAttribute:"hubIdentifier",rootPropertyName:"Hub",responseType(){return(0,a.Z)(this.server)},url(){return this.get("key")||this.get("hubKey")},syncedAttrs:{key:i.Z.string,hubKey:i.Z.string,hubIdentifier:i.Z.string,source:i.Z.string,title:i.Z.string,summary:i.Z.string,icon:i.Z.string,thumb:i.Z.string,attribution:i.Z.string,type:i.Z.string,subtype:i.Z.string,style:i.Z.string,size:i.Z.integer,totalSize:i.Z.integer,more:i.Z.boolean,random:i.Z.boolean,browse:i.Z.boolean,upNext:i.Z.boolean,context:i.Z.string,promoted:i.Z.boolean,autoAdvanceDelayMs:i.Z.integer,Meta:i.Z.object},syncedRelations:{metadataList:{relationClass:u.Z,deferred:!0}},initialize(){this.listenTo(this.get("metadataList"),"change:populatedRange",this.onPopulatedRangeChange)},augmentResponseText:(e,t)=>t===s.Ls?(0,o.Z)(e):e,augmentResponse(e){const t=null==e.totalSize?void 0:l.Z.parseInteger(e.totalSize),n=l.Z.parseInteger(e.size)||0,r=e.key||e.hubKey;return e.metadataList={containerKey:r,Metadata:e.Metadata,size:n,totalSize:t},e},onPopulatedRangeChange(e,t){const n=t.size,r=e.get("totalSize"),i={size:n};null!=r&&(i.more=r>n),this.set(i)}})},9949:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(12634),i=n(56442),s=n(78636),a=n(67299),o=n(95688);const l=r.Z.extend({name:"MetadataCollection",context:["server","provider","section","playlist","identifier","mediaTagPrefix","mediaTagVersion","allowSync","containerKey","includeExternalMedia"],model:o.Z,responseType(){return(0,s.Z)(this.server)},url(){return this.containerKey},augmentResponseText:(e,t)=>t===i.Ls?(0,a.Z)(e):e,splitByType:function(){const e={};return this.each((t=>{const n=t.get("type");e.hasOwnProperty(n)?e[n].push(t):e[n]=[t]})),e}})},95933:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(13469),i=n.n(r),s=n(53334),a=n(14408),o=n(93683),l=n(56442),c=n(78636),d=n(67299),u=n(70515),p=n(4844),m=n(15042),h=n(84936),g=n(3644),y=n(99086);const v=s.Z.extend({name:"MetaModel",context:["server","provider"],syncedAttrs:{DisplayFields:a.Z.array},syncedRelations:{types:{relationClass:y.Z,rootPropertyName:"Type"},fieldTypes:{relationClass:g.Z,rootPropertyName:"FieldType"}}});var f=n(9949);const b=s.Z.extend({mixins:[o.Z],name:"MetadataListModel",context:["server","provider","section","metadataItem","identifier","mediaTagPrefix","mediaTagVersion","allowSync","excludeFields","excludeElements","excludeAllLeaves","includeRelated","includeCollections","includeExternalMedia","includeAdvanced","includeMeta"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion","allowSync"],entityType:m.$4,entityID(e=this.state){return(0,p.Z)(this.entityType,e.entityKey||e.containerKey||e.key||this.cid,(this.provider||this.server).entityID())},idAttribute:"containerKey",collectionName:"metadataItems",responseType(){return(0,c.Z)(this.server)},url(){const e=this.getPaginatedUrl(this.get("containerKey")||this.get("key")),t={excludeElements:this.excludeElements?this.excludeElements:void 0,excludeFields:this.excludeFields?this.excludeFields:void 0,excludeAllLeaves:this.excludeAllLeaves?1:void 0,includeRelated:this.includeRelated?1:void 0,includeCollections:this.includeCollections?1:void 0,includeExternalMedia:this.includeExternalMedia?1:void 0,includeAdvanced:this.includeAdvanced?1:void 0,includeMeta:this.includeMeta?1:void 0};return e?h.Z.join(e,t):e},sessionAttrs:{isMetadataList:a.Z.boolean,entityKey:a.Z.string,containerKey:a.Z.string,containerTitle:a.Z.string,currentPageStart:a.Z.integer,currentPageSize:a.Z.integer,populatedRange:a.Z.object,isPending:a.Z.boolean,isPopulated:a.Z.boolean,error:a.Z.object},syncedAttrs:{isDirectoryList:a.Z.boolean,isMetaPopulated:a.Z.boolean,key:a.Z.string,librarySectionID:a.Z.string,totalSize:a.Z.integer,viewGroup:a.Z.string,title:a.Z.string,thumb:a.Z.string,art:a.Z.string,banner:a.Z.string,theme:a.Z.string,allowSync:a.Z.boolean},syncedRelations:{metadataItems:{relationClass:f.Z,rootPropertyName:"Metadata",options:e=>({containerKey:e.containerKey||e.key}),setOptions:e=>({remove:e.remove,at:e.at})},meta:{relationClass:v,rootPropertyName:"Meta",deferred:!0}},derivedAttrs:{firstItemType(){const e=this.getCollection().first();return e?e.get("type"):this.attributes.firstItemType},firstItemSubtype(){const e=this.getCollection().first();return e?e.get("subtype"):this.attributes.firstItemSubtype},isFirstItemLibraryItem(){const e=this.getCollection().first();return e?e.get("isLibraryItem"):this.attributes.isFirstItemLibraryItem},isChannelsList(){const e=this.getCollection().first();return e?e.get("dvrChannel"):this.attributes.isChannelsList}},defaults:()=>({isMetadataList:!0,isDirectoryList:!1,populatedRange:{start:0,end:0,size:0},isPending:!0,isPopulated:!1,isMetaPopulated:!1,error:null}),initialize(e){this._totalSizeAdjustment=0,this.startPopulatedRangeMonitor(),this.on("change:key change:containerKey",this.onContainerKeyChange,this)},uninitialize(){this.off("change:key change:containerKey",this.onContainerKeyChange,this),this.stopListening()},augmentResponseText(e,t){const n=this.get("containerKey")||this.get("key"),r=/\/folder(\?|$)/.test(n);return t===l.Ls?(0,d.Z)(e,{includeDirectories:r}):e},augmentResponse(e,t){this.responseContext.forEach((t=>{const n=e[t];void 0!==n&&this.setContext(t,n)}));const n=u.Z.parseArray(e.Metadata),r=u.Z.parseArray(e.Directory),s=u.Z.parseInteger(e.totalSize);return this.allowAllLeaves||(e.Metadata=i().reject(n,(function(e){const t=/\/allLeaves$/.test(e.key);return t&&(this._totalSizeAdjustment-=1),t}),this)),!n.length&&e.Directory&&(e.Metadata=r,e.isDirectoryList=!0),this.includeMeta&&(e.isMetaPopulated=!0),s&&this._totalSizeAdjustment&&(e.totalSize=s-this._totalSizeAdjustment),!e.title&&e.title1&&(e.title=e.title1),e},onContainerKeyChange(e,t){const n=this.get("metadataItems"),r=this.syncedRelations.metadataItems.options(this.attributes);i().each(r,((e,t)=>{n.setContext(t,e)}))}})},95688:(e,t,n)=>{"use strict";n.d(t,{Z:()=>q});var r=n(13469),i=n.n(r),s=n(53334),a=n(14408),o=n(56442);const l=s.Z.extend({name:"TranscodeSessionModel",context:["server"],url(){return"/transcode/sessions/"+this.id},syncedAttrs:{key:a.Z.string,progress:a.Z.float,throttled:a.Z.boolean,speed:a.Z.float,duration:a.Z.integer,videoDecision:a.Z.string,audioDecision:a.Z.string,protocol:a.Z.string,container:a.Z.string,videoCodec:a.Z.string,audioCodec:a.Z.string,audioChannels:a.Z.integer,width:a.Z.string,height:a.Z.string,transcodeHwDecoding:a.Z.string,transcodeHwEncoding:a.Z.string,timeStamp:a.Z.integer,minOffsetAvailable:a.Z.integer,maxOffsetAvailable:a.Z.integer}});var c=n(69653),d=n(36776),u=n(46453),p=n(25168),m=n(78636),h=n(1088),g=n(86953),y=n(60316),v=n(17524),f=n(55983),b=n(67299),S=n(70515),I=n(4844),Z=n(15042),P=n(5562),E=n(69881),M=n(89984),C=n(73004),w=n(84936),D=n(12634);const T=s.Z.extend({name:"ChapterModel",context:["server","section"],syncedAttrs:{id:a.Z.integer,tag:a.Z.string,index:a.Z.integer,startTimeOffset:a.Z.integer,endTimeOffset:a.Z.integer,thumb:a.Z.string}}),O=D.Z.extend({name:"ChapterCollection",context:["server","section"],model:T,modelId:e=>`${e.id}_${e.index}`}),x=s.Z.extend({name:"ConcertModel",context:["server","section"],syncedAttrs:{id:a.Z.integer,at:a.Z.integer,tag:a.Z.string,venue:a.Z.string,city:a.Z.string,country:a.Z.string,url:a.Z.string}}),A=D.Z.extend({name:"ConcertCollection",context:["server","section"],model:x});var N=n(64297),k=n(32553),L=n(34470),j=n(19623),R=Object.defineProperty,V=Object.prototype.hasOwnProperty,U=Object.getOwnPropertySymbols,z=Object.prototype.propertyIsEnumerable,B=(e,t,n)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_=(e,t)=>{for(var n in t||(t={}))V.call(t,n)&&B(e,n,t[n]);if(U)for(var n of U(t))z.call(t,n)&&B(e,n,t[n]);return e};const F={guid:!0,librarySectionID:!0,librarySectionTitle:!0,librarySectionUUID:!0,librarySectionKey:!0,source:!0,Context:!0,file:!0,summary:!0,tagline:!0,action:!0,attributionLogo:!0,backgroundColor:!0};function H(e){let t=0;if(!e)return t;for(let n=0,r=e.length;n<r;n++){const r=e[n].Part;if(r)for(let e=0,n=r.length;e<n;e++){const n=r[e].Stream;n&&(t+=n.length)}}return t}function W(e=[]){return(0,k.Z)(e,j.Z,(e=>e))}function Q(e){return(e.hasOwnProperty("ratingKey")||e.hasOwnProperty("id"))&&e.hasOwnProperty("tag")}function G(e,t){t.forEach((t=>{null!=(null==e?void 0:e[t])&&"string"!=typeof e[t]&&(e[t]=e[t].toString())}))}const Y=s.Z.extend({name:"MetadataModel",context:[["server",{boundDerivedAttrs:["serverEntityID"]}],["provider",{boundDerivedAttrs:["providerEntityID"]}],"section","playlist","identifier","mediaTagPrefix","mediaTagVersion","allowSync","containerKey","relatedOptions","includeExternalMedia"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion","allowSync"],entityType:Z.TY,entityID(e=this.state){let t;if(e.source){const{serverIdentifier:n}=(0,y.Z)(e.source);n!==this.server.get("machineIdentifier")&&(t=(0,I.Z)(Z.cN,n))}return(0,I.Z)(this.entityType,e.key||this.cid,t,this.server.entityID())},idAttribute:"ratingKey",rootPropertyName:"Metadata",cache:new d.Z,mergeStrategy:function(e,t,n){return"Media"===e?function(e,t,n){return n&&!t?n:((r=n||t)&&r.some((e=>e.protocol===L.K))||function(e){return e&&e.some((e=>"livetv"===e.origin))}(n||t)?function(e,t){var n,r,i,s,a,o,l,c;if(!t)return null;const d=W(e),u=W(t),p=_(_({},d),u);for(const e in d){const t=d[e],m=u[e];t&&m&&t.Overlay.length&&!m.Overlay.length&&(p[e]=_(_({},p[e]),{Overlay:t.Overlay}));const h=null!=(s=null==(i=null==(r=null==(n=null==t?void 0:t.Part)?void 0:n[0])?void 0:r.Stream)?void 0:i.length)?s:0,g=null!=(c=null==(l=null==(o=null==(a=null==m?void 0:m.Part)?void 0:a[0])?void 0:o.Stream)?void 0:l.length)?c:0;t&&m&&h>g&&(p[e]=_(_({},p[e]),{Part:t.Part}))}return Object.keys(p).map((e=>p[e]))}(t,n):function(e,t){const n=H(t),r=H(e);return n||!r?t:e}(t,n))||(0,N.Z)(e,t,n);var r}(e,t,n):function(e){const t=q.prototype.syncedAttrs[e];return!(!t||t!==a.Z.array)}(e)?function(e,t,n){if(!n)return t;if(!t)return n;if(n.length>t.length)return n;if(!n.length||n.length<t.length)return t;const r=t&&t[0],i=n&&n[0];if(!r&&i)return n;if(!i&&r)return t;const s=Q(r),a=Q(i);return s&&!a?t:n}(0,t,n):function(e){return!!q.prototype.syncedRelations[e]}(e)||F[e]?(0,N.Z)(e,t,n):n},responseType(){const e=this.get("key");return e&&e.indexOf("/system/services/url/lookup")>-1?o.Ls:(0,m.Z)(this.server)},url(){const e={};return this.includeExternalMedia&&(e.includeExternalMedia=1),w.Z.join(this.get("key"),e)},urlRoot(){return this.get("key")},saveUrl(){return this.get("isPlaylist")&&!this.server.supports("truePlaylistsPath")?`/library/metadata/${this.get("ratingKey")}`:i().result(this,"url")},cacheKey(e){const t=this.extractChildrenKey(e.key);return e.source&&(t.key=e.source+t.key),this.server&&this.server.getScopedKey(t.key)},sessionAttrs:{isPreFetched:a.Z.boolean,isStreamChangeInProgress:a.Z.boolean,isStreamDeleteInProgress:a.Z.boolean,metadataState:a.Z.string,mediaState:a.Z.string,isSettingsUpdating:a.Z.boolean,settingsUpdateError:a.Z.object,dvrChannel:a.Z.object,viewCountIncrementedByPlayQueueItemID:a.Z.string,downloadSubscriptionID:a.Z.string,isDownloaded:a.Z.boolean},syncedAttrs:{elementName:a.Z.string,ratingKey:a.Z.string,parentRatingKey:a.Z.string,grandparentRatingKey:a.Z.string,key:a.Z.string,childrenKey:a.Z.string,Context:a.Z.object,parentKey:a.Z.string,grandparentKey:a.Z.string,primaryExtraKey:a.Z.string,augmentationKey:a.Z.string,guid:a.Z.string,source:a.Z.string,sourceURI:a.Z.string,attribution:a.Z.string,attributionLogo:a.Z.string,action:a.Z.string,backgroundColor:a.Z.string,remoteMedia:a.Z.boolean,librarySectionID:a.Z.string,librarySectionTitle:a.Z.string,librarySectionUUID:a.Z.string,librarySectionKey:a.Z.string,type:a.Z.string,subtype:a.Z.string,title:a.Z.string,titleSort:a.Z.string,originalTitle:a.Z.string,parentTitle:a.Z.string,grandparentTitle:a.Z.string,year:a.Z.string,minYear:a.Z.string,maxYear:a.Z.string,tagline:a.Z.string,summary:a.Z.string,studio:a.Z.string,contentRating:a.Z.string,originallyAvailableAt:a.Z.string,thumb:a.Z.string,parentThumb:a.Z.string,grandparentThumb:a.Z.string,banner:a.Z.string,art:a.Z.string,parentArt:a.Z.string,grandparentArt:a.Z.string,hero:a.Z.string,theme:a.Z.string,parentTheme:a.Z.string,grandparentTheme:a.Z.string,chapterSource:a.Z.string,ratingImage:a.Z.string,audienceRating:a.Z.float,audienceRatingImage:a.Z.string,directory:a.Z.boolean,rating:a.Z.float,userRating:a.Z.float,playbackSpeed:a.Z.float,index:a.Z.integer,parentIndex:a.Z.integer,absoluteIndex:a.Z.integer,duration:a.Z.integer,preview:a.Z.boolean,viewOffset:a.Z.integer,viewCount:a.Z.integer,childCount:a.Z.integer,leafCount:a.Z.integer,viewedLeafCount:a.Z.integer,ratingCount:a.Z.integer,mediaCount:a.Z.integer,mediaCountOptimized:a.Z.integer,extraType:a.Z.integer,lastViewedAt:a.Z.integer,lastRatedAt:a.Z.integer,addedAt:a.Z.integer,updatedAt:a.Z.integer,deletedAt:a.Z.integer,Geolocation:a.Z.object,playlistID:a.Z.integer,playlistType:a.Z.string,specialPlaylistType:a.Z.string,radio:a.Z.boolean,smart:a.Z.boolean,readOnly:a.Z.boolean,icon:a.Z.string,composite:a.Z.string,content:a.Z.string,durationInSeconds:a.Z.integer,skipChildren:a.Z.boolean,skipParent:a.Z.boolean,skipDetails:a.Z.boolean,subscriptionID:a.Z.string,saved:a.Z.boolean,picked:a.Z.boolean,grandparentSubscriptionID:a.Z.string,subscriptionType:a.Z.string,grandparentSubscriptionType:a.Z.string,Channel:a.Z.array,onAir:a.Z.boolean,watchlistedAt:a.Z.integer,Media:a.Z.array,Collection:a.Z.array,Director:a.Z.array,Producer:a.Z.array,Writer:a.Z.array,Studio:a.Z.array,Genre:a.Z.array,Mood:a.Z.array,Country:a.Z.array,Label:a.Z.array,Role:a.Z.array,Location:a.Z.array,Tag:a.Z.array,Autotag:a.Z.array,Marker:a.Z.array,indirect:a.Z.boolean,Origin:a.Z.object,requiresConsent:a.Z.boolean,Platform:a.Z.array,Publisher:a.Z.array},syncedRelations:{chapters:{relationClass:O,rootPropertyName:"Chapter",deferred:!0},preferences:{relationClass:c.Z,rootPropertyName:"Preferences",deferred:!0},onDeck:()=>({relationClass:Y,rootPropertyName:"OnDeck",deferred:!0}),related(){const e={skipCache:!0};return this.relatedOptions&&i().extend(e,this.relatedOptions),{relationClass:n(70519).Z,rootPropertyName:"RelatedHubs",deferred:!0,options:e}},popularLeaves:()=>({relationClass:n(95933).Z,rootPropertyName:"PopularLeaves",deferred:!0}),extras:()=>({relationClass:n(95933).Z,rootPropertyName:"Extras",deferred:!0,attrs:e=>({containerKey:w.Z.join([e.key,"extras"])})}),concerts:{relationClass:A,rootPropertyName:"Concert",deferred:!0},stations:()=>({relationClass:n(9949).Z,rootPropertyName:"Stations",deferred:!0}),transcodeSession:{relationClass:l,rootPropertyName:"TranscodeSession",deferred:!0}},derivedAttrs:{identifier(){return this.identifier},serverEntityID(){if(!this.state)return null;const e=this.get("source");if(e){const{serverIdentifier:t}=(0,y.Z)(e);return(0,I.Z)(Z.cN,t)}return this.server?this.server.entityID():null},providerEntityID(){if(!this.state)return null;const e=this.get("source");if(e){const{providerIdentifier:t}=(0,y.Z)(e);return(0,I.Z)(Z.MC,t,this.get("serverEntityID"))}return this.provider?this.provider.entityID():null},mediaTagPrefix(){return this.mediaTagPrefix},mediaTagVersion(){return this.mediaTagVersion},allowSync(){return this.allowSync},containerKey(){return this.containerKey},isLibraryItem(){return this.isLibraryItem(this.get("identifier"),this.get("key"))},isPlaylist(){return this.get("type")===E.PLAYLIST&&!this.get("radio")},isFolder(){return/\/folder\?parent=/.test(this.get("key"))},isExtra(){return!!this.get("extraType")},isPremium(){const e=this.get("Media")||[];return i().any(e,(e=>e.premium))},hasRadioStation(){const e=this.get("stations");return!!e&&!!e.findWhere({playlistType:M.j0})},hasArtistTVStation(){const e=this.get("stations");return!!e&&!!e.findWhere({playlistType:M.pX})},unviewedLeafCount(){const e=this.get("leafCount"),t=this.get("viewedLeafCount");if(e)return e-t},downloadUrl(){const e=this.get("Media");if(e&&1===e.length){const t=i().first(i().first(e).Part),n=t&&t.key;if(n)return()=>{const e=w.Z.join(n,{download:1});return this.server.resolveUrl(e,{appendToken:!0})}}}},defaults:{isStreamChangeInProgress:!1,isStreamDeleteInProgress:!1,isSettingsUpdating:!1,isDownloaded:!1,settingsUpdateError:null,rating:0,onAir:!1,skipDetails:!1,Media:[],Collection:[],Director:[],Producer:[],Writer:[],Studio:[],Genre:[],Mood:[],Country:[],Label:[],Channel:[],Role:[],Location:[],Autotag:[],Tag:[],Platform:[],Publisher:[],requiresConsent:!1},fetch(e={}){return e.data&&(this._populatedParams=i().extend({},this._populatedParams,e.data)),e.usePopulatedParams&&(e.data=this._populatedParams),s.Z.prototype.fetch.call(this,e)},augmentResponseText:(e,t)=>t===o.Ls?(0,b.Z)(e):e,augmentResponse(e,t){var n;let r=e[this.rootPropertyName];r&&(Array.isArray(r)&&(r=r[0]),["attribution","augmentationKey","librarySectionID","librarySectionTitle","librarySectionUUID"].forEach((t=>{r[t]||(r[t]=e[t])})),e.type===E.CHANNEL&&(r.dvrChannel={identifier:e.identifier||e.id,thumb:e.thumb,title:e.title,callSign:e.callSign})),this.responseContext.forEach((t=>{const n=e[t]||r&&r[t];void 0!==n&&this.setContext(t,n)}));const s=r||e,a=s.Related,o=s.OnDeck,l=s.Stations,c=s.Preferences,d=this.extractChildrenKey(s.key);if(d.childrenKey&&(s.childrenKey=d.childrenKey,s.key=d.key),s.Media=this.convertMediaItems(s.Media),s.Role=this.convertRole(s.Role),s.Marker=this.convertMarkers(s.Marker),!s.source&&this.server){const e=(0,g.Z)({providerIdentifier:null==(n=this.provider)?void 0:n.get("identifier"),serverIdentifier:this.server.get("machineIdentifier")});s.source=e,s.sourceURI=`${e}${s.key}`}return a&&(s.RelatedHubs=i().compact([].concat(a.Hub,a.Directory))),o&&(s.OnDeck=o.Metadata),l&&(s.Stations=l.Metadata),c&&(s.Preferences=c.Setting),s.type===E.PHOTO&&s.childrenKey&&(s.type=E.PHOTO_ALBUM),s},extractChildrenKey(e){const t=/(.*)\/(children|items)$/.exec(e);let n;return t&&(n=e,e=t[1]),{childrenKey:n,key:e}},convertMediaItems(e){const t=S.Z.parseArray(e);return i().each(t,(e=>{G(e,["id"]),f.Z.parseBoolean(e,["indirect","optimizedForStreaming","onAir","premium","premiere","selected"]),f.Z.parseInteger(e,["duration","width","height","bitrate","audioChannels","proxyType","beginsAt","endsAt","beginOffset","startOffsetSeconds","endOffsetSeconds"]),null==e.id&&null==e.uuid&&(e.uuid=`${e.container}-${e.protocol}-${e.audioCodec}`),f.Z.parseArray(e,"Overlay"),f.Z.parseArray(e,"Part"),i().each(e.Overlay,(e=>{null!=e.duration&&(e.duration=parseInt(e.duration,10)),e.startTimeOffset=parseInt(e.startTimeOffset,10)})),i().each(e.Part,(e=>{G(e,["id"]),null!=e.exists&&(e.exists=S.Z.parseBoolean(e.exists)),null!=e.accessible&&(e.accessible=S.Z.parseBoolean(e.accessible)),f.Z.parseInteger(e,["duration","size"]),f.Z.parseBoolean(e,"optimizedForStreaming"),f.Z.parseEncodedString(e,"file"),f.Z.parseArray(e,"Stream"),i().each(e.Stream,(e=>{G(e,["id"]),f.Z.parseBoolean(e,["anamorphic","selected","default","forced","timed","cabac","hasScalingMatrix","headerStripping"]),f.Z.parseInteger(e,["index","streamType","duration","width","height","bitrate","bitDepth","level","refFrames","samplingRate","channels","minLines","offset"]),f.Z.parseFloat(e,"frameRate")}))}))})),this.addNoneSubtitlesStreams(t)},convertRole(e){const t=S.Z.parseArray(e);return i().each(t,(e=>{f.Z.parseBoolean(e,["directory"])})),t},convertMarkers(e){const t=S.Z.parseArray(e);return i().each(t,(e=>{f.Z.parseInteger(e,["endTimeOffset","startTimeOffset"])})),t},addNoneSubtitlesStreams(e){const t=C.Z.get("subtitles");return e.forEach((e=>{const n=e.Part,r="livetv"===e.origin;n&&n.forEach((n=>{if(!n.Stream)return;if(!r&&!(0,h.Z)(e))return;const i=n.Stream.filter((e=>e.streamType===t.id));if(i.find((e=>e.id===p.H)))return;const s=i.find((e=>e.selected)),a={id:p.H,streamType:t.id,language:(0,P.Z)("None")};s||(a.selected=!0),n.Stream.unshift(a)}))})),e},getDownloadUrl(e=0){const t=this.get("Media")[e];if(t){const e=i().first(t.Part),n=e&&e.key;if(n){const e=w.Z.join(n,{download:1});return this.server.resolveUrl(e,{appendToken:!0})}}},getFilepath(e=0){const t=this.get("Media")[e];if(t){const e=i().first(t.Part);if(e)return e.file}},getLocation(){const e=this.get("Location");return e.length?i().first(e).path:this.getFilepath()},getMediaKey(){const e=i().first(this.get("Media"));if(e){const t=i().first(e.Part);if(t)return t.key}return this.get("key")},isLibraryItem(e,t){return!(this.provider&&!this.provider.get("isLibraryProvider"))&&(r=t,(n=e)?v.wB(n,v.Y3):/^(\/sync\/[\w\d-/]*)?\/library\//.test(r));var n,r},isPlexMusicItem(){const e=this.section;return e&&e.get("agent")===u.zR}}),q=Y},81318:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(53334),i=n(14408),s=n(93683),a=n(56442),o=n(67299),l=n(84936),c=n(12634),d=n(95688),u=n(4844),p=n(15042);const m=r.Z.extend({name:"PlaylistItemModel",context:["server","provider","playlist"],entityType:p.gO,entityID(e=this.state){return(0,u.Z)(this.entityType,e.playlistItemID||e.key,this.server.entityID())},idAttribute:"playlistItemID",syncedAttrs:{playlistItemID:i.Z.string,key:i.Z.string,type:i.Z.string},syncedRelations:{metadataItem:{relationClass:d.Z,deferred:!0}},augmentResponse:e=>({playlistItemID:e.playlistItemID,key:e.key,type:e.type,metadataItem:e})}),h=c.Z.extend({name:"PlaylistItemCollection",context:["server","provider","playlist"],model:m}),g=r.Z.extend({mixins:[s.Z],name:"PlaylistItemListModel",context:["server","provider","playlist","includeExternalMedia"],idAttribute:"key",collectionName:"metadataItems",url(){let e=this.getPaginatedUrl(this.get("containerKey"));return this.includeExternalMedia&&(e=l.Z.join(e,{includeExternalMedia:1})),e},sessionAttrs:{containerKey:i.Z.string,currentPageStart:i.Z.integer,currentPageSize:i.Z.integer,populatedRange:i.Z.object},syncedAttrs:{totalSize:i.Z.integer},syncedRelations:{metadataItems:{relationClass:h,rootPropertyName:"Metadata",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()},augmentResponseText:(e,t)=>t===a.Ls?(0,o.Z)(e):e})},68870:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(12634),i=(n(11133),n(84936)),s=n(53334),a=n(14408);const o=s.Z.extend({name:"SubtitleModel",rootPropertyName:"Stream",syncedAttrs:{id:a.Z.integer,key:a.Z.string,streamType:a.Z.integer,codec:a.Z.string,index:a.Z.integer,language:a.Z.string,languageCode:a.Z.string,score:a.Z.float,providerTitle:a.Z.string,title:a.Z.string,displayTitle:a.Z.string,reason:a.Z.string,hearingImpaired:a.Z.boolean,perfectMatch:a.Z.boolean,downloaded:a.Z.boolean}}),l=r.Z.extend({name:"SubtitlesCollection",context:["server","key","language","title","mediaItemID","minimumScore","hearingImpaired","forced"],model:o,url(){const e={language:this.language};return this.title&&(e.title=this.title),this.mediaItemID&&(e.mediaItemID=this.mediaItemID),this.minimumScore&&(e.minimumScore=this.minimumScore),null!=this.hearingImpaired&&(e.hearingImpaired=this.hearingImpaired),null!=this.forced&&(e.forced=this.forced),i.Z.join([this.key,"/subtitles"],e)}})},65115:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(53334),i=n(14408);const s=r.Z.extend({name:"TagModel",context:["server","section"],idAttribute:"tag",syncedAttrs:{id:i.Z.integer,key:i.Z.string,tag:{type:i.Z.string,save:!0},tagType:i.Z.integer,librarySectionID:i.Z.string,librarySectionKey:i.Z.string,librarySectionType:i.Z.integer,librarySectionTitle:i.Z.string,filter:i.Z.string,role:i.Z.string,thumb:i.Z.string,count:i.Z.integer,directory:i.Z.boolean,type:i.Z.string,context:i.Z.string}})},12186:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(19755),i=n.n(r),s=n(11133);const a={fetch(){return(0,s.Z)(!1,"A model or collection with a controlled populate promise cannot be fetched directly"),this.populatePromise},isPopulating(){return!!this.populatePromise&&"pending"===this.populatePromise.state()},_resetPopulate(){return this.isPopulating()||(this._populateDeferred=i().Deferred(),this.populatePromise=this._populateDeferred.promise()),this.populatePromise},_resolvePopulate(){return"resolved"===this.populatePromise.state()||("rejected"===this.populatePromise.state()&&this._resetPopulate(),this._populateDeferred.resolveWith(this,[this])),this.populatePromise},_rejectPopulate(){return"rejected"===this.populatePromise.state()||("resolved"===this.populatePromise.state()&&this._resetPopulate(),this._populateDeferred.rejectWith(this,[this])),this.populatePromise}}},93683:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(63733),l=n(84936);const c={getCollectionName(){return this.collectionName||"items"},getCollection(){return this.get(this.getCollectionName())},getTotalSize(){return this.get("totalSize")||this.get("populatedRange").size},getPaginatedUrl(e){const t=this.get("currentPageStart"),n=this.get("currentPageSize");if(null!=t||null!=n){const r={"X-Plex-Container-Start":t||0,"X-Plex-Container-Size":n||0};return l.Z.join(e,r)}return e},getCollectionChangeEvents(){const e=this.getCollectionName();return[`change:${e}.update`,`change:${e}.reset`].join(" ")},startPopulatedRangeMonitor(){const e=this.getCollectionName();this.updatePopulatedRange(),this.on(this.getCollectionChangeEvents(),this.updatePopulatedRange,this),this.on(`change:${e}.destroy`,this.decrementTotalSize,this)},stopPopulatedRangeMonitor(){const e=this.getCollectionName();this.off(this.getCollectionChangeEvents(),this.updatePopulatedRange,this),this.off(`change:${e}.destroy`,this.decrementTotalSize,this)},fetchRange(e){const t=a().extend({},e,{remove:!1});return e.prepend&&(t.at=0),this.set({currentPageStart:e.start,currentPageSize:e.size}),this.fetch(t).promise()},populateRange(e){const t=this.getCollection(),n=this.get("populatedRange");let r=o.Z.difference(e,n)[0];if(!r)return i().Deferred().resolve().promise();if(r=o.Z.degap(r,n),this.isPopulating()){const e=this.get("currentPageStart")!==r.start,t=this.get("currentPageSize")!==r.size;if(!e&&!t)return this.populatePromise;this.abortPendingPopulate()}if(e.reloadThreshold&&r.size>e.reloadThreshold)return t.reset(),this.populateRange(a().omit(e,"reloadThreshold"));const s=a().extend({},e,r,{prepend:r.start<n.start});return this.fetchRange(s)},repopulateRange(e=0){const t=this.get("populatedRange").end;return this.set({currentPageStart:0,currentPageSize:Math.max(t,e)}),this.abortPendingPopulate(),this.fetch()},updatePopulatedRange(){const e=this.get("currentPageStart"),t=this.get("populatedRange").start,n=this.get("populatedRange").size,r=this.getCollection().length;let i;i=r?n?Math.min(t,null==e?1/0:e):e||t:0,this.set("populatedRange",{start:i,end:i+r,size:r})},decrementTotalSize(){const e=this.get("totalSize");e>0&&this.set("totalSize",e-1)}}},36740:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(53334),i=n(14408),s=n(9949),a=n(56442),o=n(31599),l=n(67299),c=n(4844),d=n(15042);const u=r.Z.extend({name:"LiveTVSessionModel",context:["server","provider"],entityType:d.RP,entityID(e=this.state){return(0,c.Z)(this.entityType,e.key||this.cid,this.server.entityID())},idAttribute:"key",rootPropertyName:"MediaSubscription",url(){return`/media/subscriptions/${this.get("key")}`},sessionAttrs:{dvrID:i.Z.integer,channelIdentifier:i.Z.string,activityUUID:i.Z.string,currentPosition:i.Z.integer,nextPosition:i.Z.integer,lastSeekPosition:i.Z.integer,startedAt:i.Z.integer,captureBuffer:i.Z.object},syncedAttrs:{key:i.Z.string,type:i.Z.integer,title:i.Z.string},syncedRelations:{grabOperation:{relationClass:o.Z,rootPropertyName:"MediaGrabOperation",deferred:!0},timeline:{relationClass:s.Z,rootPropertyName:"Timeline",deferred:!0},alsoAiring:{relationClass:s.Z,rootPropertyName:"AlsoAiring",deferred:!0}},defaults:{nextPosition:null,lastSeekPosition:null},augmentResponseText:(e,t)=>t===a.Ls?(0,l.Z)(e):e,augmentResponse(e){const t=e[this.rootPropertyName]||e,n=t.Timeline,r=t.AlsoAiring;return n&&(t.Timeline=n.Metadata),r&&(t.AlsoAiring=r.Metadata),e}})},64297:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(13469),i=n.n(r);function s(e,t,n){return void 0===n||i().isObject(t)?t:n}},52039:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(19755),i=n.n(r),s=n(12634),a=n(78636),o=n(14640),l=n(45224);const c=s.Z.extend({name:"ProviderCollection",context:["server"],model:l.Z,url:"/media/providers",responseType(){return(0,a.Z)(this.server)},fetch(){const e=this.server;let t;return t=e.get("mediaProviders")||e.get("isCloud")?s.Z.prototype.fetch.apply(this,arguments):i().Deferred().resolve(this,"").promise(),t.then((t=>{(0,o.Z)(t,e)})),t}})},89888:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(12634),i=n(86646),s=n(67006),a=n(40822);const o=r.Z.extend({name:"ProviderEPGChannelCollection",context:["server","provider"],model:i.Z,url(){return this.provider.get("features").get(s.L6).get("settings").get(a.Pt).get("key")}})},86646:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(53334),i=n(14408);const s=r.Z.extend({name:"ProviderEPGChannelModel",context:["provider"],rootPropertyName:"Channel",syncedAttrs:{id:i.Z.string,thumb:i.Z.string,title:i.Z.string,hidden:i.Z.boolean}})},30369:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(12634),i=n(62730),s=n(67006),a=n(45399),o=n(53334),l=n(14408);const c=o.Z.extend({name:"ProviderActionModel",context:["server","provider"],syncedAttrs:{id:l.Z.string,key:l.Z.string,reverseKey:l.Z.string,requires:l.Z.string}}),d=r.Z.extend({name:"ProviderActionCollection",context:["server","provider"],model:c});var u=n(59638),p=n(98862);const m=o.Z.extend({name:"PivotModel",idAttribute:"key",syncedAttrs:{key:l.Z.string.isRequired,type:l.Z.oneOf(p.km,p.IY,p.t3).isRequired,id:l.Z.string,title:l.Z.string.isRequired,context:l.Z.string.isRequired,requires:l.Z.string,libraryKey:l.Z.string}}),h=r.Z.extend({name:"PivotCollection",model:m}),g=o.Z.extend({name:"ProviderDirectoryModel",context:["server","provider"],syncedAttrs:{id:l.Z.string,key:l.Z.string,hubKey:l.Z.string,title:l.Z.string,icon:l.Z.string,type:l.Z.string,subtype:l.Z.string,agent:l.Z.string,refreshing:l.Z.boolean,updatedAt:l.Z.integer,scannedAt:l.Z.integer,context:l.Z.string},syncedRelations:{pivots:{relationClass:h,rootPropertyName:"Pivot",deferred:!0}}}),y=r.Z.extend({name:"ProviderDirectoryCollection",context:["server","provider"],model:g,modelId:e=>e.key||e.hubKey}),v=o.Z.extend({name:"ProviderFeatureModel",context:["server","provider"],sessionAttrs:{isSettingsPending:l.Z.boolean,isSettingsPopulated:l.Z.boolean,settingsError:l.Z.object},syncedAttrs:{id:l.Z.string,key:l.Z.string,reverseKey:l.Z.string,scrobbleKey:l.Z.string,unscrobbleKey:l.Z.string,type:l.Z.string,flavor:l.Z.string,requires:l.Z.string,automaticLibraryFolders:l.Z.boolean,public:l.Z.boolean,storageTotal:l.Z.integer},syncedRelations:{directories:{relationClass:y,rootPropertyName:"Directory",deferred:!0},settings:{relationClass:u.Z,rootPropertyName:"Setting",deferred:!0},actions:{relationClass:d,rootPropertyName:"Action",deferred:!0,setOptions:{remove:!1}}},defaults:{isSettingsPending:!0,isSettingsPopulated:!1}}),f=r.Z.extend({name:"ProviderFeatureCollection",context:["server","provider"],model:v,modelId:e=>e.type===s.om?e.id:e.type,augmentResponse(e){let t=e.find((e=>e.type===s.aO));return null==t||Array.isArray(t.Action)||(t.Action=t.Action?[t.Action]:[]),null==t&&(t={Action:[],type:s.aO},e.push(t)),e.forEach((e=>{if(e.type===s.jN&&(null!=e.scrobbleKey||null!=e.unscrobbleKey)){const{scrobbleKey:n,unscrobbleKey:r}=e;t.Action.push({id:i.lq,key:n,reverseKey:r}),delete e.scrobbleKey,delete e.unscrobbleKey}if(e.type===s.zw){const{key:n}=e;t.Action.push({id:i.zw,key:n}),delete e.key}if(e.type===s.om&&(null!=e.key||null!=e.reverseKey)){const{key:n,reverseKey:r}=e;t.Action.push({id:e.id,key:n,reverseKey:r}),delete e.key,delete e.reverseKey}e.type===s.aO&&e.Action.forEach((e=>{e.id!==i.JL&&e.id!==i.FH&&e.id!==i.LE||(e.requires=a.sy)})),e.type===s.L6&&(e.requires=a.sy)})),e}})},45224:(e,t,n)=>{"use strict";n.d(t,{q:()=>Y,Z:()=>q});var r=n(19755),i=n.n(r),s=n(93966),a=n(53334),o=n(14408),l=n(64297),c=n(56442),d=n(17798),u=n(67006),p=n(17524),m=n(83154),h=n(45399),g=n(64542),y=n(47486),v=n(98862),f=n(34470),b=n(41658),S=n(5562),I=n(69881),Z=n(89984),P=n(84936),E=n(89197);function M(e){return{key:e.hubKey,type:v.km,title:(0,S.Z)("Recommended"),context:y.DISCOVER_PIVOT}}function C(e,t){return{key:(0,b.Z)(e.id,t),libraryKey:e.key,type:v.IY,title:(0,S.Z)("Library"),context:y.LIBRARY_PIVOT,isContent:!0}}function w(e){const t=I.getMetadataType(I.COLLECTION);return{key:P.Z.join([e.key,"all"],{type:t.id}),type:v.IY,title:(0,S.Z)("Collections"),context:y.COLLECTIONS_PIVOT}}function D(e,t){const n=e.key.match(/\/library\/sections\/(\w+)/)[1],r=I.getMetadataType(I.PLAYLIST);return P.Z.join("/playlists/all",{type:r.id,playlistType:t,sectionID:n})}function T(e,t){return{key:D(e,t),type:v.IY,title:(0,S.Z)("Playlists"),context:y.PLAYLISTS_PIVOT}}function O(e){return e&&-1!==e.split(",").indexOf(f.K)}function x(e,t){return e&&e.some((e=>e.type===t))}function A(e,t,n){return n.type===e&&(null==t&&null==n.subtype||null!=t&&n.subtype===t)}function N(e,t){return/\/library\/sections\/(\w+)/.test(t.key)&&A(e,null,t)}var k=n(36535),L=n(4844),j=n(15042),R=n(81463),V=n(55605),U=n(30369),z=Object.defineProperty,B=Object.prototype.hasOwnProperty,_=Object.getOwnPropertySymbols,F=Object.prototype.propertyIsEnumerable,H=(e,t,n)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W=(e,t)=>{for(var n in t||(t={}))B.call(t,n)&&H(e,n,t[n]);if(_)for(var n of _(t))F.call(t,n)&&H(e,n,t[n]);return e};function Q(e){const t=(0,s.DB)("appModel").get("drmType");return W(W({},(0,g.Z)(t)),{"X-Plex-Text-Format":(0,d.Z)(e),"X-Plex-Provider-Version":"3.2"})}const G=j.MC;function Y({identifier:e,serverEntityID:t}){return(0,L.Z)(G,e,t)}const q=a.Z.extend({name:"ProviderModel",context:["server"],entityType:G,entityID(e=this.state){return Y({identifier:e.identifier,serverEntityID:this.server.entityID()})},idAttribute:"identifier",rootPropertyName:"MediaProvider",responseType:c.AV,url(){return this.get("baseURL")},mergeStrategy:(e,t,n)=>"protocols"===e&&n&&n.length>0?n:(0,l.Z)(e,t,n),syncedAttrs:{id:o.Z.integer,parentID:o.Z.integer,identifier:o.Z.string,providerIdentifier:o.Z.string,baseURL:o.Z.string,title:o.Z.string,sourceTitle:o.Z.string,types:o.Z.list,protocols:o.Z.list,subscriptions:o.Z.boolean,icon:o.Z.string,epgSource:o.Z.string,source:o.Z.string},sessionAttrs:{isPending:o.Z.boolean,isPopulated:o.Z.boolean,error:o.Z.object},syncedRelations:{features:{relationClass:U.Z,rootPropertyName:"Feature",options(){return{provider:this}},setOptions:{remove:!1}}},derivedAttrs:{isLibraryProvider(){return p.wB((0,k.Z)(this.get("identifier"),this.get("providerIdentifier")),p.Y3)},metricsIdentifier(){const e=this.get("providerIdentifier")||this.get("identifier");return p.wB(e,p.Ll)?e.split(":")[0]:e}},populate(){return this.get("isPopulated")?i().Deferred().resolve(this).promise():a.Z.prototype.populate.apply(this,arguments)},resolveUrl(e,t){const n=W({},t);return this.url()&&(n.baseUrl=this.url()),this.server.resolveUrl(e,n)},getXHROptions(e,t={}){const n=(0,V.Z)(e)?e:P.Z.join([this.get("baseURL"),e]),r=this.get("providerIdentifier")||this.get("identifier"),i=this.server.getXHROptions(n,W(W({},t),{headers:W(W({},Q(r)),t.headers)}));return this.server.get("isCloud")&&(delete i.headers["X-Plex-Username"],delete i.headers["X-Plex-Device-Name"]),i},defaults:()=>({protocols:[],isPending:!0,isPopulated:!1,error:null}),augmentResponse(e){if(e.MediaProvider&&(e=e.MediaProvider),!e.Feature)return e;const t=p.wB(e.identifier,p.Y3);return e.Feature.forEach((n=>{if(n.type===u.L6&&(n.Setting=[]),!n.Directory||n.type!==u.P8)return;let r;if(!n.key&&t&&(n.key="/library/sections"),n.Directory.forEach(((t,n)=>{const i=t.key||t.hubKey;!t.id&&i&&(t.id=(0,R.Z)(i)),t.type===I.PLAYLIST&&(r=n),t.Pivot||(t.Pivot=function(e,t,n){return e.hubKey||"/playlists"===e.key?N(I.ARTIST,e)?[M(e),C(e,I.ARTIST),T(e,Z.j0)]:N(I.MOVIE,e)?[M(e),C(e,I.MOVIE),w(e),T(e,Z.pX)]:N(I.SHOW,e)?[M(e),C(e,I.SHOW),w(e),T(e,Z.pX)]:N(I.PHOTO,e)?[M(e),{key:E.tk.TIMELINE,type:v.t3,title:(0,S.Z)("Timeline"),context:y.TIMELINE_PIVOT},C(e,I.PHOTO),T(e,Z.pV)]:O(t)&&x(n,u.kD)?[{key:e.hubKey,type:v.km,title:(0,S.Z)("Recommended"),context:y.DVR_DISCOVER_PIVOT},{key:E.tk.GUIDE,type:v.t3,title:(0,S.Z)("Guide"),context:y.DVR_GUIDE_PIVOT},{key:E.tk.RECORDING_SCHEDULE,type:v.t3,title:(0,S.Z)("DVR Schedule"),context:y.DVR_SCHEDULE_PIVOT}]:O(t)||x(n,u.HR)?[{key:e.hubKey,type:v.km,title:(0,S.Z)("Recommended"),context:y.DVR_DISCOVER_PIVOT},{key:E.tk.GUIDE,type:v.t3,title:(0,S.Z)("Guide"),context:y.DVR_GUIDE_PIVOT}]:A(I.PLAYLIST,null,e)?[{key:P.Z.join(e.key,{playlistType:Z.j0}),type:v.IY,title:(0,S.Z)("Music"),context:y.PLAYLISTS_PIVOT},{key:P.Z.join(e.key,{playlistType:Z.pX}),type:v.IY,title:(0,S.Z)("Video"),context:y.PLAYLISTS_PIVOT},{key:P.Z.join(e.key,{playlistType:Z.pV}),type:v.IY,title:(0,S.Z)("Photo"),context:y.PLAYLISTS_PIVOT}]:[]:[]}(t,e.protocols,e.Feature)),Array.isArray(t.Pivot)||(t.Pivot=[t.Pivot]),t.Pivot.forEach((e=>{e.id&&e.id.match(/\.(saved|watchlist|playlists)$/)&&(e.requires=h.sy)}))})),r&&r<n.Directory.length-1){const e=n.Directory[r];n.Directory.splice(r,1),n.Directory.push(e)}})),t&&!e.Feature.find((e=>e.type===u.wl))&&e.Feature.push({type:u.wl,key:m.O}),e}})},59638:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(12634),i=n(53334),s=n(14408);const a=i.Z.extend({name:"ProviderCountryModel",context:["server","provider"],idAttribute:"code",rootPropertyName:"Country",syncedAttrs:{code:s.Z.string,title:s.Z.string,postalCodeFormat:s.Z.string,flavor:s.Z.string}});var o=n(67006);const l=r.Z.extend({name:"ProviderCountryCollection",context:["server","provider"],url(){return`${this.provider.get("features").findWhere({type:o.Ct}).get("key")}/countries`},model:a});var c=n(89888),d=n(86646),u=n(40822);const p=r.Z.extend({name:"ProviderEPGChannelCollection",context:["server","provider"],model:d.Z,url(){return this.provider.get("features").get(o.L6).get("settings").get(u.x8).get("key")}}),m=i.Z.extend({name:"ProviderSettingOptionsModel",context:["server","provider"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:s.Z.string,title:s.Z.string,type:s.Z.string,selected:s.Z.boolean}}),h=r.Z.extend({name:"ProviderSettingOptionsCollection",context:["server","provider"],model:m});var g=n(70515);const y={int:g.Z.parseInteger,bool:g.Z.parseBoolean,double:g.Z.parseFloat},v=i.Z.extend({name:"ProviderSettingModel",context:["server","provider"],rootPropertyName:"Setting",url(){return this.get("key")},sessionAttrs:{isOptionsPending:s.Z.boolean,isOptionsPopulated:s.Z.boolean,optionsError:s.Z.object,isLocationsPending:s.Z.boolean,isLocationsPopulated:s.Z.boolean,locationsError:s.Z.object,isLineupPending:s.Z.boolean,isLineupPopulated:s.Z.boolean,lineupError:s.Z.object,isRecentChannelsInGridPending:s.Z.boolean,isRecentChannelsInGridPopulated:s.Z.boolean,recentChannelsInGridError:s.Z.object},syncedAttrs:{country:s.Z.string,countryLabel:s.Z.string,hidden:s.Z.boolean,id:s.Z.string,key:s.Z.string,label:s.Z.string,multiselect:s.Z.boolean,postalCode:s.Z.string,required:s.Z.boolean,selectedCount:s.Z.integer,summary:s.Z.string,type:s.Z.string,value:s.Z.oneOfType(s.Z.string,s.Z.boolean,s.Z.float),min:s.Z.float,max:s.Z.float,step:s.Z.float,enumValues:s.Z.string,default:s.Z.string},sessionRelations:{locations:{relationClass:l},lineup:{relationClass:c.Z},recentChannelsInGrid:{relationClass:p}},syncedRelations:{settings:()=>({relationClass:n(59638).Z,rootPropertyName:"Setting",deferred:!0}),options:{relationClass:h,options:e=>({url:e.key})}},defaults:{isOptionsPending:!0,isOptionsPopulated:!1,optionsError:null,isLocationsPending:!0,isLocationsPopulated:!1,locationsError:null,isLineupPending:!0,isLineupPopulated:!1,lineupError:null},augmentResponse(e){const t=y[e.type];return t&&(e.value=t(e.value)),e}}),f=r.Z.extend({name:"ProviderSettingCollection",context:["server","provider"],url:"/settings",model:v})},93313:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(12634),i=n(89905),s=n(84936),a=n(53334),o=n(14408);const l=a.Z.extend({name:"ProviderTagModel",context:["server","provider"],idAttribute:"id",rootPropertyName:"Directory",syncedAttrs:{id:o.Z.integer,filter:o.Z.string,tag:o.Z.string,tagType:o.Z.integer,tagValue:o.Z.integer,thumb:o.Z.string,channelCallSign:o.Z.string,channelIdentifier:o.Z.string,channelVcn:o.Z.string}}),c=r.Z.extend({name:"ProviderTagCollection",context:["server","provider","type"],model:l,cache:new i.Z,url(){const e={type:this.type};return s.Z.join([this.provider.get("identifier"),"tags"],e)}})},56442:(e,t,n)=>{"use strict";n.d(t,{Ls:()=>o,AV:()=>l,fL:()=>c});var r=n(13469),i=n.n(r),s=n(70515);function a(e,t){return t||(t={}),i().defaults(t,{typeName:e,parse:i().bind(s.Z.parseType,s.Z,e)})}const o=a("xml",{accept:"application/xml"}),l=a("json",{accept:"application/json"}),c=a("text")},69273:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(53334),i=n(14408),s=n(56442),a=n(78636),o=n(67299),l=n(84936),c=n(12634),d=n(95688),u=n(65115);const p=r.Z.extend({name:"SearchResultAdditionalSourceModel",sessionAttrs:{serverEntityID:i.Z.string,providerEntityID:i.Z.string,metadataItemEntityID:i.Z.string,tagItem:i.Z.object}}),m=c.Z.extend({name:"SearchResultAdditionalSourceCollection",model:p});var h=n(4844),g=n(15042),y=Object.defineProperty,v=Object.prototype.hasOwnProperty,f=Object.getOwnPropertySymbols,b=Object.prototype.propertyIsEnumerable,S=(e,t,n)=>t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I=(e,t)=>{for(var n in t||(t={}))v.call(t,n)&&S(e,n,t[n]);if(f)for(var n of f(t))b.call(t,n)&&S(e,n,t[n]);return e};const Z=r.Z.extend({name:"SearchResultModel",context:["server","provider","metricsContext"],entityType:g.Re,entityID(e=this.state){return(0,h.Z)(this.entityType,e.key,this.provider&&this.provider.entityID(),this.server.entityID())},responseType(){return(0,a.Z)(this.server)},idAttribute:"key",sessionRelations:{additionalSources:{relationClass:m}},syncedAttrs:{key:i.Z.string,reasonID:i.Z.integer,reason:i.Z.string,reasonTitle:i.Z.string},syncedRelations:{metadataItem:{relationClass:d.Z,deferred:!0},tagItem:{relationClass:u.Z,deferred:!0}},augmentResponse(e){const t=e,{key:n,reason:r,reasonTitle:i,reasonID:s}=t,a=((e,t)=>{var n={};for(var r in e)v.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&f)for(var r of f(e))t.indexOf(r)<0&&b.call(e,r)&&(n[r]=e[r]);return n})(t,["key","reason","reasonTitle","reasonID"]);return{key:n,reason:r,reasonTitle:i,reasonID:s,[a.tag?"tagItem":"metadataItem"]:I({key:n},a)}}}),P=c.Z.extend({name:"SearchResultCollection",context:["server","provider","metricsContext"],model:Z,responseType(){return(0,a.Z)(this.server)}}),E=r.Z.extend({name:"SearchHubModel",context:["server","provider"],responseType(){return(0,a.Z)(this.server)},idAttribute:"hubIdentifier",syncedAttrs:{hubIdentifier:i.Z.string,size:i.Z.integer,type:i.Z.string,subtype:i.Z.string,title:i.Z.string,context:i.Z.string},syncedRelations:{metadataResults:{relationClass:P,rootPropertyName:"Metadata",options:e=>({metricsContext:e.context})},tagResults:{relationClass:P,rootPropertyName:"Directory",options:e=>({metricsContext:e.context})}}}),M=c.Z.extend({name:"SearchHubCollection",context:["server","provider"],model:E,responseType(){return(0,a.Z)(this.server)}}),C=r.Z.extend({name:"SearchModel",context:["server","provider","isContextual","includeCollections","includeExternalMedia"],responseType(){return(0,a.Z)(this.server)},url(){const e={};return this.includeCollections&&(e.includeCollections=1),this.includeExternalMedia&&(e.includeExternalMedia=1),this.isContextual&&(e.contextual=1),this.get("contentDirectoryID")&&(e.contentDirectoryID=this.get("contentDirectoryID")),l.Z.join(this.get("key"),e)},idAttribute:"providerEntityID",sessionAttrs:{providerEntityID:i.Z.string,serverEntityID:i.Z.string,key:i.Z.string,contentDirectoryID:i.Z.string,searchTitle:i.Z.string,isSearchPending:i.Z.boolean,isSearchPopulated:i.Z.boolean,searchError:i.Z.object},syncedRelations:{hubs:{relationClass:M,rootPropertyName:"Hub"}},defaults:{isSearchPending:!0,isSearchPopulated:!1,contentDirectoryID:""},augmentResponseText:(e,t)=>t===s.Ls?(0,o.Z)(e):e,augmentResponse(e){if(!e.Hub)return e;const t=Array.isArray(e.Hub)?e.Hub:[e.Hub];return e.Hub=t.filter((e=>parseInt(e.size,10)>0)),e}})},28058:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(93966),i=n(94018),s=n(56529),a=n(14408),o=n(12319),l=n(96840),c=n(19755),d=n.n(c),u=n(13469),p=n.n(u);var m=n(84936),h=n(75358),g=n(49963),y=n(12634),v=n(59756),f=n(56442),b=n(43520);const S=y.Z.extend({name:"ResourceCollection",model:b.Z,context:["server"],responseType:f.AV,url(){const e={};return v.Z.allowHttpsMediaServerConnections&&(e.includeHttps=1),v.Z.allowMediaServerRelayConnections&&(e.includeRelay=1),m.Z.join("/api/v2/resources",e)}}),{connectionTestResults:I,promiseStates:Z}=o.ZP,P=o.ZP.extend({name:"CloudServerModel",connectionTestUrl:"https://plex.tv/monitoring/health",sessionAttrs:{connectionTestResult:a.Z.oneOf(I.PENDING,I.CONNECTED,I.UNAVAILABLE,I.UNAUTHORIZED).isRequired,promiseState:a.Z.oneOf(Z.PENDING,Z.RESOLVED,Z.REJECTED).isRequired,isShared:a.Z.boolean.isRequired,isBundled:a.Z.boolean.isRequired,isCloud:a.Z.boolean.isRequired,isMerged:a.Z.boolean.isRequired,isDownForMaintenance:a.Z.boolean.isRequired,isResourcesPending:a.Z.boolean.isRequired,isResourcesPopulated:a.Z.boolean.isRequired,hasFailedResources:a.Z.boolean.isRequired,accessToken:a.Z.string,baseUrl:a.Z.string.isRequired,plexPassUrl:a.Z.string.isRequired,appsUrl:a.Z.string.isRequired,hasEventConnection:a.Z.boolean},sessionRelations:{activeConnection:{relationClass:g.Z,deferred:!0},connections:{relationClass:h.Z,options(){return{server:this}}},resources:{relationClass:S,options(){return{server:this}}}},defaults(){const e="https://plex.tv";return{connectionTestResult:I.PENDING,promiseState:Z.PENDING,isShared:!1,isBundled:!1,isCloud:!0,isMerged:!1,isDownForMaintenance:!1,isResourcesPending:!1,isResourcesPopulated:!1,hasFailedResources:!1,friendlyName:"plex.tv",baseUrl:e,plexPassUrl:m.Z.join([e,"/subscription/about"]),appsUrl:m.Z.join([e,"/downloads"]),hasEventConnection:!1}},testAllConnections(){const e=this.get("connections");(0,l.Z)("[Connections] Testing all %s connection(s) for %s",e.length,this.get("debugName"));return function(e){if(!e.length)return d().Deferred().reject().promise();const t=d().Deferred();let n=e.length;return p().each(e,(function(e){e.done((function(){n--,t.resolveWith(this,arguments)})).fail((function(){n--,0===n&&t.reject()}))})),t.promise()}(e.map((e=>this.testConnection(e))))},testConnection(e){const t={server:this,connection:e,url:this.connectionTestUrl};return i.Z.execute("testServerConnection",t).done(this.onConnectionTestSuccess.bind(this)).fail(this.onConnectionTestError.bind(this))},abortConnectionTest(e){const t={server:this,connection:e,url:this.connectionTestUrl};i.Z.execute("abortServerConnectionTest",t)},deauthenticate(){this.get("resources").clear(),this._reject({connectionTestResult:this.get("connectionTestResult"),accessToken:null})},onConnectionTestSuccess(e){const t=this.get("connections").getBestConnection();l.Z.info("[Connections] Active connection to %s is %s",this.get("debugName"),t.id),this.startCapturingChangeEvents(),this.set({isDownForMaintenance:!1,connectionTestResult:I.CONNECTED,activeConnection:t}),this.releaseCapturedChangeEvents()},onConnectionTestError(e,t){e.get("isAborted")||this.get("connections").hasOnlyFailedConnections()&&this._reject({isDownForMaintenance:503===t.status})}});(0,s.Z)(P,(function(){return{relationClass:(0,r.DB)("CloudServerFlexModel"),options:{server:this}}}));const E=P},75358:(e,t,n)=>{"use strict";n.d(t,{y:()=>c,Z:()=>d});var r=n(13469),i=n.n(r),s=n(12634),a=n(59756),o=n(85790),l=n(49963);const c=(e,t)=>!e.get("relay")&&t.get("relay")?e:!t.get("relay")&&e.get("relay")||!e.get("isLoopback")&&t.get("isLoopback")?t:!t.get("isLoopback")&&e.get("isLoopback")?e:!e.get("isPrivate")&&t.get("isPrivate")?t:!t.get("isPrivate")&&e.get("isPrivate")?e:!e.get("isHttps")&&t.get("isHttps")?t:(!t.get("isHttps")&&e.get("isHttps"),e),d=s.Z.extend({name:"ConnectionCollection",context:["server"],model:l.Z,getBestConnection(){const e=a.Z.allowHttpsMediaServerConnections,t=!this.server||this.server.get("isCloud")||e,n=this.filter((e=>e.get("isConnected")&&(t||!e.get("isHttps"))));if(n.length)return i().reduce(n,c)},hasBetterConnectionCandidates(){const e=this.server&&this.server.get("activeConnection");return this.some((t=>{const n=t.get("isUntested")||t.get("isPending"),r=!e||t!==e&&c(t,e)===t;return n&&r}))},hasOnlyFailedConnections(){return this.every((e=>e.get("isFailed")))},hasFailedEveryDirectConnection(){return this.where({relay:!1}).every((e=>e.get("isFailed")))},hasMultiplePrivateV4Subnets(){let e;return this.some((t=>{const n=t.get("address");if(t.get("isPrivate")&&o.q1(n)){const t=o.iX(n);return e||(e=t),e!==t}}))}})},49963:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(13469),i=n.n(r),s=n(53334),a=n(14408),o=n(89410),l=n(11133),c=n(74183),d=n(85790),u=n(84936),p=n(12634);const m=s.Z.extend({name:"ConnectionSourceModel",context:["server"],sessionAttrs:{id:a.Z.string}}),h=p.Z.extend({name:"ConnectionSourceCollection",context:["server"],model:m}),g=a.Z.boolean.isRequired,y=s.Z.extend({name:"ConnectionModel",context:["server"],idAttribute:"uri",sessionAttrs:{currentTest:a.Z.custom((e=>Array.isArray(e)&&e.every((e=>i().isFunction(e.abort))))),testState:a.Z.oneOf(o.uf,o.hA,o.nm,o.WY,o.nZ,o.c9).isRequired,isBundled:g,isFallback:g},sessionRelations:{sources:{relationClass:h}},syncedAttrs:{uri:a.Z.string,scheme:a.Z.string,address:a.Z.string,port:a.Z.string,relay:a.Z.boolean},derivedAttrs:{isUntested(){return this.get("testState")===o.uf},isPending(){return this.get("testState")===o.hA},isConnected(){return this.get("testState")===o.nm},isUnauthorized(){return this.get("testState")===o.WY},isUnavailable(){return this.get("testState")===o.nZ},isFailed(){return this.get("isUnauthorized")||this.get("isUnavailable")},isAborted(){return this.get("testState")===o.c9},isLoopback(){const e=this.get("address");return"localhost"===e||d.lv(e)},isPrivate(){return this.get("isLoopback")||d.KF(this.get("address"))},isHttps(){return"https"===this.get("scheme")},isSecure(){return this.get("isLoopback")||this.get("isHttps")},isPlexDirect(){return/\.plex\.direct:/.test(this.get("uri"))}},defaults:{testState:o.uf,isBundled:!1,isFallback:!1,relay:!1},url(){return this.get("uri")},constructor:function(e,t){const n=i().clone(e);i().isObject(e)&&!e.uri&&((0,l.Z)(e.scheme&&e.address,`A server connection requires either a uri or a scheme and address. ${e.scheme}://${e.address}`),n.uri=`${e.scheme}://${e.address}`,e.port&&(n.uri+=":"+e.port)),s.Z.prototype.constructor.call(this,n,t)},initialize(){this.listenTo(this.get("sources"),"remove reset",this.onSourcesChange)},augmentResponse(e){const t=e.protocol;return t?i().extend({},e,{scheme:t}):e},getAddressFromUri(){return u.Z.parseUrl(this.get("uri")).hostname},getIpAddressFromPlexDirectAddress(){return(0,c.Z)(this.get("address"))},getLoopbackAttributes(){return{scheme:"http",address:"127.0.0.1",port:this.get("port")}},hasSource(e){return this.get("sources").some((t=>e&&t.get("id")===e))},onSourcesChange(){this.get("sources").length||this.trigger("destroy",this,this.collection)}})},43520:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(42902),i=n(53334),s=n(14408),a=n(75358);const o=i.Z.extend({name:"ResourceModel",context:["server"],idAttribute:"clientIdentifier",urlRoot:"/api/v2/resources",syncedAttrs:{clientIdentifier:s.Z.string,name:s.Z.string,sourceTitle:s.Z.string,accessToken:s.Z.string,product:s.Z.string,productVersion:s.Z.string,platform:s.Z.string,platformVersion:s.Z.string,device:s.Z.string,provides:s.Z.list,owned:s.Z.boolean,home:s.Z.boolean,synced:s.Z.boolean,presence:s.Z.boolean,publicAddressMatches:s.Z.boolean,httpsRequired:s.Z.boolean,createdAt:s.Z.integer,lastSeenAt:s.Z.integer,ownerId:s.Z.integer},syncedRelations:{connections:{relationClass:a.Z}},augmentResponse(e){"string"==typeof e.createdAt&&(e.createdAt=(0,r.Z)(e.createdAt)),"string"==typeof e.lastSeenAt&&(e.lastSeenAt=(0,r.Z)(e.lastSeenAt));const t=e.Device;return t?(t.connections=t.Connection,delete t.Connection,t):e}})},76438:(e,t,n)=>{"use strict";n.d(t,{GI:()=>l,xD:()=>c,Gu:()=>d,OM:()=>u,Q2:()=>p,uy:()=>m,uX:()=>h,HP:()=>g,ZP:()=>y});var r=n(53334),i=n(14408),s=n(56442),a=n(96840);const o="ok",l="unknown",c="waiting",d="mapped",u="ok",p="connecting",m="disconnecting",h="unreachable",g="",y=r.Z.extend({context:["server"],url:"/myplex/account",responseType:s.AV,sessionAttrs:{remoteAccessState:i.Z.oneOf(p,m,h,u,g)},syncedAttrs:{username:i.Z.string,mappingState:i.Z.oneOf(l,c,"failed",d),mappingError:i.Z.oneOf("badauth","unreachable","myplexgone","publisherror","doublenat","jumboframes",""),signInState:i.Z.oneOf("none","unknown","invalid",o),publicAddress:i.Z.string,publicPort:i.Z.integer,privateAddress:i.Z.string,privatePort:i.Z.integer,subscriptionActive:i.Z.boolean,subscriptionState:i.Z.string},derivedAttrs:{signedIn(){return this.get("signInState")===o},isWaiting(){const e=this.get("remoteAccessState");return e===p||e===m}},defaults:{signedIn:!1,mappingState:null,mappingError:null,signInState:null,publicAddress:null,publicPort:null,privateAddress:null,privatePort:null},isNew(){return!this.get("signedIn")},augmentResponse(e){let t=e.MyPlex;t||(a.Z.warn(`[Account] Failed to get reachable information for account - received ${JSON.stringify(e)}`),t={});const n=t.signInState===o;n||(t.username=null);const r=!n||t.mappingError,i=!r&&t.mappingState===d;return r?t.remoteAccessState=h:i&&(t.remoteAccessState=u),t}})},12319:(e,t,n)=>{"use strict";n.d(t,{Ar:()=>te,Hq:()=>ee,_r:()=>K,Po:()=>re,ZP:()=>se});var r=n(13469),i=n.n(r),s=n(93966),a=n(39670),o=n(94018),l=n(14e3),c=n(53334),d=n(56529),u=n(14408),p=n(59756),m=n(69865),h=n(32919),g=n(93683),y=n(78636),v=n(76037),f=n(84936),b=n(12634),S=n(19755),I=n.n(S),Z=n(32707),P=n(81318);const E=c.Z.extend({name:"PlaylistModel",context:["server","containerKey"],idAttribute:"ratingKey",rootPropertyName:"Playlist",urlRoot:"/playlists",saveUrl(){return this.server.supports("truePlaylistsPath")?i().result(this,"url"):`/library/metadata/${this.id}`},sessionAttrs:{isPlaylist:u.Z.boolean,isLibraryItem:u.Z.boolean},syncedAttrs:{ratingKey:u.Z.string,key:u.Z.string,guid:u.Z.string,type:u.Z.string,playlistType:u.Z.string,title:u.Z.string,titleSort:u.Z.string,composite:u.Z.string,summary:u.Z.string,smart:u.Z.boolean,allowSync:u.Z.boolean,duration:u.Z.integer,durationInSeconds:u.Z.integer,leafCount:u.Z.integer,addedAt:u.Z.integer,updatedAt:u.Z.integer},sessionRelations:{children:{relationClass:P.Z,attrs(e){const t={};return"audio"===e.playlistType&&(t.includeRelated=1),{containerKey:f.Z.join(["/playlists",e.ratingKey,"items"],t)}},options(){return{playlist:this}}}},defaults:{isPlaylist:!0,isLibraryItem:!0},findItem(e){return this.get("children").getCollection().findWhere({playlistItemID:e})},moveItem(e,t){if(void 0===e)return;const n=t?{after:t}:{},r=f.Z.join([i().result(this,"url"),"/items/",e,"/move"],n),s=i().extend(this.server.getXHROptions(r),{type:"PUT"}),a=I().ajax(s),o=this.get("children").getCollection(),l=this.findItem(e);o.remove(l);const c=this.findItem(t),d=c?o.indexOf(c)+1:0;return o.add(l,{at:d}),a},removeItem(e){if(void 0===e)return;const t=f.Z.join([i().result(this,"url"),"/items/",e]),n=i().extend(this.server.getXHROptions(t),{type:"DELETE"}),r=I().ajax(n);r.then((e=>{this.set(this.parse(e))}));const s=this.get("children").getCollection(),a=this.findItem(e);return s.remove(a),s.trigger("destroy",a,s),r},addContent(e,t){const n=this.isNew()?"POST":"PUT",r=[i().result(this,"url")],s={};this.isNew()?(s.type=this.get("playlistType"),s.title=this.get("title"),s.smart=this.get("smart")?1:0):r.push("/items"),e.get("playQueueID")?s.playQueueID=e.get("playQueueID"):s.uri=Z.Z.uri(e,t);const a=f.Z.join(r,s),o=i().extend(e.server.getXHROptions(a),{type:n}),l=I().ajax(o);return l.then((e=>{this.set(this.parse(e))})),l.promise()},isLibraryItem:(e,t)=>!0,isPlexMusicItem:()=>!1}),M=b.Z.extend({name:"PlaylistCollection",context:["server","containerKey"],model:E,url(){return this.containerKey}}),C=c.Z.extend({mixins:[g.Z],name:"PlaylistListModel",context:["server","section"],idAttribute:"key",collectionName:"playlists",responseType(){return(0,y.Z)(this.server)},url(){return this.getPaginatedUrl(i().result(this,"containerKey"))},containerKey(){const e=this.section.get("currentType"),t=this.section.get("currentSort"),n={type:15};return n.sort=t?t.id+":"+(t.get("direction")||"asc"):"titleSort:asc",e&&(n.playlistType=e),this.section.get("onlyDumb")&&(n.smart=0),f.Z.join("/playlists/all",n)},sessionAttrs:{isPlaylistList:u.Z.boolean,currentPageStart:u.Z.integer,currentPageSize:u.Z.integer,populatedRange:u.Z.object},syncedAttrs:{totalSize:u.Z.integer},syncedRelations:{playlists:{relationClass:M,rootPropertyName:"Playlist",options(e){return{containerKey:i().result(this,"containerKey")}},setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({isPlaylistList:!0,populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()},sync(e,t,n){const r=v.Z.addVersionHeader(2,n);return c.Z.prototype.sync.call(this,e,t,r)},augmentResponse:e=>(e.Metadata&&(e.Playlist=e.Metadata,delete e.Metadata),e)}),w=m.Z.extend({name:"PlaylistsSectionModel",defaults(){return{pseudo:!0,currentType:0,sorts:new h.Z([],{section:this,server:this.server}),items:new C({},{section:this,server:this.server})}},url:()=>"/playlists"});var D=n(33192),T=n(12186),O=n(64297),x=n(52039),A=n(53145),N=n(36776),k=n(48523),L=n(11133),j=n(96840),R=n(4844),V=n(15042),U=n(70716),z=n(55605),B=n(75358),_=n(49963),F=n(76249),H=Object.defineProperty,W=Object.prototype.hasOwnProperty,Q=Object.getOwnPropertySymbols,G=Object.prototype.propertyIsEnumerable,Y=(e,t,n)=>t in e?H(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q=(e,t)=>{for(var n in t||(t={}))W.call(t,n)&&Y(e,n,t[n]);if(Q)for(var n of Q(t))G.call(t,n)&&Y(e,n,t[n]);return e};const K={PENDING:"pending",CONNECTED:"connected",UNAVAILABLE:"unavailable",UNAUTHORIZED:"unauthorized"},$={PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"},X={SECONDARY:"secondary"},J=["camera_upload","content_filter","home","lyrics","music_videos","pass","premium_music_metadata","sync","trailers"],ee="ok",te="none",ne=V.cN;function re({machineIdentifier:e}){return(0,R.Z)(ne,e)}const ie=c.Z.extend({mixins:[T.Z],name:"ServerModel",entityType:ne,entityID(e=this.state){return re({machineIdentifier:e.machineIdentifier||this.cid})},idAttribute:"machineIdentifier",connectionTestTimeout:1e4,responseType(){return(0,y.Z)(this)},mergeStrategy:O.Z,cache:new N.Z,persistInCache:!0,sessionAttrs:{connectionTestResult:u.Z.oneOf(K.PENDING,K.CONNECTED,K.UNAVAILABLE,K.UNAUTHORIZED).isRequired,promiseState:u.Z.oneOf($.PENDING,$.RESOLVED,$.REJECTED).isRequired,sections:u.Z.instanceOf(D.Z).isRequired,playlists:u.Z.instanceOf(w).isRequired,isShared:u.Z.boolean.isRequired,isBundled:u.Z.boolean.isRequired,isCloud:u.Z.boolean.isRequired,isMerged:u.Z.boolean.isRequired,isEmbedded:u.Z.boolean.isRequired,isInstallingServerUpdate:u.Z.boolean.isRequired,superToken:u.Z.string,accessToken:u.Z.string,sourceTitle:u.Z.string,publicAddressMatches:u.Z.boolean,httpsRequired:u.Z.boolean,presence:u.Z.boolean,home:u.Z.boolean,createdAt:u.Z.integer,lastSeenAt:u.Z.integer,ownerId:u.Z.integer,hasEventConnection:u.Z.boolean,serverClass:u.Z.oneOf(X.SECONDARY),onlyXML:u.Z.boolean,isProvidersPending:u.Z.boolean.isRequired,isProvidersPopulated:u.Z.boolean.isRequired,providersError:u.Z.object},sessionRelations:{activeConnection:{relationClass:_.Z,deferred:!0},connections:{relationClass:B.Z,options(){return{server:this}}}},syncedRelations:{providers:{relationClass:x.Z,rootPropertyName:"MediaProvider",options(){return{server:this}}}},syncedAttrs:{machineIdentifier:u.Z.string,friendlyName:u.Z.string,startState:u.Z.string,version:u.Z.string,platform:u.Z.string,platformVersion:u.Z.string,sync:u.Z.boolean,backgroundProcessing:u.Z.boolean,multiuser:u.Z.boolean,transcoderLyrics:u.Z.boolean,myPlex:u.Z.boolean,myPlexMappingState:u.Z.string,myPlexSigninState:u.Z.oneOf(ee,te,"invalid"),myPlexSubscription:u.Z.boolean,myPlexUsername:u.Z.string,transcoderPhoto:u.Z.boolean,transcoderAudio:u.Z.boolean,transcoderVideo:u.Z.boolean,transcoderVideoRemuxOnly:u.Z.boolean,transcoderSubtitles:u.Z.boolean,transcoderActiveVideoSessions:u.Z.integer,allowMediaDeletion:u.Z.boolean,allowCameraUpload:u.Z.boolean,allowChannelAccess:u.Z.boolean,allowSync:u.Z.boolean,diagnostics:u.Z.list,companionProxy:u.Z.boolean,updater:u.Z.boolean,isDesktop:u.Z.boolean,photoAutoTag:u.Z.boolean,itemClusters:u.Z.boolean,updatedAt:u.Z.integer,countryCode:u.Z.string,ownerFeatures:u.Z.list,mediaProviders:u.Z.integer,maxUploadBitrate:u.Z.integer,maxUploadBitrateReason:u.Z.string,maxUploadBitrateReasonMessage:u.Z.string,streamingBrainABRVersion:u.Z.integer,livetv:u.Z.integer,games:u.Z.boolean},derivedAttrs:{debugName(){const e=this.get("machineIdentifier"),t=this.get("connections"),n=1===t.length&&t.at(0).get("isLoopback");let r=this.get("friendlyName");return!r&&this.get("isBundled")?r="[Bundled]":!r&&n&&(r="[Loopback]"),r||(e?`[${e}]`:"[Anonymous]")},shortVersion(){return(0,U.Z)(this.get("version"))},isConnected(){return this.get("connectionTestResult")===K.CONNECTED},isUnavailable(){return this.get("connectionTestResult")===K.UNAVAILABLE},isUnauthorized(){return this.get("connectionTestResult")===K.UNAUTHORIZED},isPending(){return this.get("promiseState")===$.PENDING},isPrivateConnection(){const e=this.get("activeConnection");return!(!e||!e.get("isPrivate"))},isResolved(){return this.get("promiseState")===$.RESOLVED},isRejected(){return this.get("promiseState")===$.REJECTED},isRelayed(){const e=this.get("activeConnection");return!(!e||!e.get("relay"))},isSecure(){const e=this.get("activeConnection");return!(!e||!e.get("isSecure"))},hasHttpsConnections(){return!!this.get("connections").findWhere({isHttps:!0})},hasFallbackConnections(){return!!this.get("connections").findWhere({isFallback:!0})},isMobileServer(){return this.get("serverClass")===X.SECONDARY},isFullServer(){return!this.get("isCloud")&&!this.get("isMobileServer")&&!this.get("isEmbedded")},isFullOwnedServer(){return this.get("isFullServer")&&!this.get("isShared")},isPrimaryEligible(){return!(!p.Z.allowMobileServers&&this.get("isMobileServer")||!this.get("machineIdentifier")||this.get("isUnauthorized")||this.get("isCloud")||this.get("isEmbedded"))},isOutOfDate(){return!this.get("isMobileServer")&&!this.isVersionOrNewer("1.18.3")},isClaimed:function(){return this.get("isConnected")?this.get("myPlexSigninState")===ee:void 0},hasManualConnection(){return this.get("connections").some((e=>e.get("sources").some((e=>/^manual/.test(e.id)))))},hasAdaptiveBitrate(){return this.get("streamingBrainABRVersion")>=3},shared(){return this.get("isShared")},bundled(){return this.get("isBundled")},cloud(){return this.get("isCloud")},merged(){return this.get("isMerged")},connected(){return this.get("connectionTestResult")===K.PENDING?null:this.get("isConnected")},available(){return this.get("connectionTestResult")===K.PENDING?null:!this.get("isUnavailable")},authorized(){return this.get("connectionTestResult")===K.PENDING?null:this.get("isResolved")},relayed(){return this.get("isRelayed")}},defaults(){return{connectionTestResult:K.PENDING,promiseState:$.PENDING,sections:new D.Z([],{server:this}),playlists:new w({},{server:this}),isShared:!1,isBundled:!1,isCloud:!1,isMerged:!1,isEmbedded:!1,isInstallingServerUpdate:!1,hasEventConnection:!1,sync:!1,backgroundProcessing:!1,allowChannelAccess:!1,updater:!0,ownerFeatures:[],games:!1,isProvidersPending:!0,isProvidersPopulated:!1,providersError:null}},url(e=this.get("activeConnection")){(0,L.Z)(e,"An active or manual connection is required for a server url");let t=i().result(e,"url");return/\/$/.test(t)||(t+="/"),t},initialize(){this._reset(),this.on("change:machineIdentifier",this.onMachineIdentifierChange,this),this.listenTo(this.get("connections"),{remove:this.onConnectionRemove,reset:this.onConnectionsReset})},uninitialize(){this.off("change:machineIdentifier",this.onMachineIdentifierChange,this),this.stopListening()},updateEntity(){if(!this.get("isMerged"))return c.Z.prototype.updateEntity.apply(this,arguments)},fetch(){return l.ZP.Model.prototype.fetch.apply(this,arguments)},resolveUrl(e,t={}){if((0,z.Z)(e))return e;let n;n=t.useRelativeUrl?this.get("isMobileServer")?`http://127.0.0.1:${this.getLoopbackPort()}/`:"":t.baseUrl||this.url(t.connection);const r=this.get("accessToken"),s=i().extend({},t.params);return t.appendHeaders&&i().defaults(s,this.getHeaders()),t.appendToken&&r&&(s["X-Plex-Token"]=r),f.Z.join([n,e],s)},getXHROptions(e,t={}){var n=t,{headers:r,baseUrl:s}=n,a=((e,t)=>{var n={};for(var r in e)W.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Q)for(var r of Q(e))t.indexOf(r)<0&&G.call(e,r)&&(n[r]=e[r]);return n})(n,["headers","baseUrl"]);return q({url:this.resolveUrl(e,{baseUrl:s}),dataType:"text",headers:i().extend(this.getHeaders(),r),allowHeadersInUrl:!0,allowBlacklistedMethodHeaders:this.supports("allowBlacklistedMethodHeaders")},a)},getHeaders(){const e=a.Z.getInstance(),t=i().clone(e),n=this.get("accessToken");n&&(t["X-Plex-Token"]=n);const r=(0,s.DB)("settingFinder").find("language");return r&&(t["X-Plex-Language"]=r,t["Accept-Language"]=r),t},addConnection(e){e.sources||(e.sources=[{id:"internal"}]);const t=this.get("connections"),n=new _.Z(e),r=t.get(n.id);return r?(r.get("sources").set(e.sources,{remove:!1}),r):t.add(e)},hasSource(e){return this.get("connections").some((t=>t.hasSource(e)))},removeSource(e){const t=this.get("connections");let n=t.length-1;for(;n>=0;)t.at(n).get("sources").remove(e),n--},testAllConnections(){const e=this.get("connections");return(0,j.Z)("[Connections] Testing all %s connection(s) for %s",e.length,this.get("debugName")),this._reset(),e.each((e=>{const t=!e.get("relay"),n=!e.get("isUntested");(t||n)&&this.testConnection(e)})),this.populatePromise},testOnlyUntestedConnections(){return this.get("connections").each((e=>{const t=!e.get("relay"),n=e.get("isUntested"),r=e.get("isAborted");t&&(n||r)&&this.testConnection(e)})),this.populatePromise},testOnlyUntestedRelayConnections(){return this.get("connections").each((e=>{const t=e.get("relay"),n=e.get("isUntested");t&&n&&this.testConnection(e)})),this.populatePromise},testConnection(e,t={}){return t.server=this,t.connection=e,this.get("promiseState")===$.REJECTED&&this._reset(),o.Z.execute("testServerConnection",t).done(this.onConnectionTestSuccess.bind(this)).fail(this.onConnectionTestError.bind(this))},abortAllConnectionTests(){const e=this.get("connections");(0,j.Z)("[Connections] Aborting all pending connection tests for",this.get("debugName")),e.each((e=>{this.abortConnectionTest(e)}))},abortConnectionTest(e){const t={server:this,connection:e};o.Z.execute("abortServerConnectionTest",t)},populateIdentity(e){if(this._identityPromise)return this._identityPromise;const t=o.Z.execute("populateServerIdentity",{server:this,connection:e});return t.done((e=>{this.set("machineIdentifier",e)})),this._identityPromise=t,t},updateCacheKey(){const e=this.get("debugName"),t=this.cacheKey(this.attributes),n=this.cache.get(t);if(n){const r=n.get("debugName");j.Z.warn("[Identity] %s and %s (cached) collide",e,r),n.get("isConnected")||!this.get("isConnected")?((0,j.Z)("[Identity] Merging %s into %s (cached)",e,r),n.merge(this)):((0,j.Z)("[Identity] Merging %s (cached) into %s",r,e),this.merge(n),this.cache.store(this,t))}else this.cache.store(this,t)},merge(e){e.set("isMerged",!0),e.get("isBundled")&&this.set("isBundled",!0),e.get("connections").each((e=>{this.addConnection(e.toJSON())})),this.collection&&(this.collection.remove(e.cid,{silent:!0}),this.collection._byId[this.id]=this,this.collection.trigger("remove",e,this.collection),this.collection.trigger("update",this.collection)),this.cache.remove(e),p.Z.shouldCreateStateTree&&this.updateEntity()},hasOwnerFeature(e){if(this.supports("ownerFeatures")){const t=this.get("ownerFeatures");return!!(t&&t.indexOf(e)>-1)}return!!this.get("myPlexSubscription")&&J.indexOf(e)>-1},supports(e){const t=this.get(e);if(i().isBoolean(t))return t;const n=F.Z[e];return null!=n&&this.isVersionOrNewer(n)},isVersionOrNewer(e){const t=this.get("shortVersion");return!e||!t||(0,k.Z)(t,e)},hasRegression(e){if(!e)return!1;const t=this.isVersionOrNewer(e.introduced),n=e.resolved&&this.isVersionOrNewer(e.resolved);return t&&!n},hasOtherLoopbackServer(){return!!this.collection&&this.collection.hasLoopbackServer()},getLoopbackPort(){const e=this.get("connections").findWhere({isPrivate:!0});return e?e.get("port"):"32400"},authenticate(e){this._resolve({accessToken:e})},deauthenticate(){this._reject({accessToken:null})},_reset(){this.startCapturingChangeEvents(),this.set("promiseState",$.PENDING),this._resetPopulate(),this.releaseCapturedChangeEvents()},_resolve(e){const t=i().extend({connectionTestResult:K.CONNECTED,promiseState:$.RESOLVED},e);this.startCapturingChangeEvents(),this.set(t),p.Z.shouldCreateStateTree&&this.updateState(),this._resolvePopulate(),this.releaseCapturedChangeEvents()},_reject(e){const t=this.get("connections");t.hasOnlyFailedConnections()&&j.Z.warn("[Connections] All connections to %s failed",this.get("debugName"));const n=t.findWhere({isUnauthorized:!0})?K.UNAUTHORIZED:K.UNAVAILABLE,r=i().extend({connectionTestResult:n,promiseState:$.REJECTED},e);this.startCapturingChangeEvents(),this.set(r),this._rejectPopulate(),this.releaseCapturedChangeEvents()},_checkActiveConnection(){const e=this.get("activeConnection"),t=this.get("connections");if(e&&!t.contains(e)){const e=t.getBestConnection();e?this.set({activeConnection:e}):this.testAllConnections()}},onMachineIdentifierChange(e,t){this.collection?this.listenToOnce(this.collection,"change:machineIdentifier",(function(){this.updateCacheKey()})):this.updateCacheKey()},onConnectionRemove(e,t){t.length?this._checkActiveConnection():(this.trigger("change:connections.remove",e,t),this.trigger("change:connections.change",this,t),this.trigger("destroy",this,this.collection))},onConnectionsReset(e,t){e.length?this._checkActiveConnection():(this.trigger("change:connections.reset",e,t),this.trigger("change:connections.change",this,e),this.trigger("destroy",this,this.collection))},onConnectionTestSuccess(e,t){const n=this.get("connections").getBestConnection();if(n!==this.get("activeConnection")&&j.Z.info("[Connections] Active connection to %s is %s",this.get("debugName"),n.id),this._resolve(q({activeConnection:n},t)),p.Z.allowLoopbackDiscovery){const e=this.get("connections"),t=this.get("activeConnection"),n=t.get("isPrivate"),r=!!e.findWhere({isLoopback:!0});!n||r||this.hasOtherLoopbackServer()||((0,j.Z)("[Connections] Adding possible loopback connection for",this.get("debugName")),this.addConnection(t.getLoopbackAttributes()))}},onConnectionTestError(e,t){if(e.get("isAborted"))return;const n=this.get("connections");!e.get("isHttps")||e.get("isUnauthorized")||e.get("relay")||(0,s.DB)("appStore").dispatch((0,A.zg)({serverEntityID:this.entityID(),address:e.get("address"),port:e.get("port")})),!this.id&&e.get("isUnauthorized")&&this.populateIdentity(e),n.hasOnlyFailedConnections()?this.id||!this._identityPromise?this._reject():this._identityPromise.always((()=>{n.hasOnlyFailedConnections()&&this._reject()})):n.hasFailedEveryDirectConnection()&&this.testOnlyUntestedRelayConnections()}},{connectionTestResults:K,promiseStates:$,serverClasses:X});(0,d.Z)(ie,(function(){return{relationClass:(0,s.DB)("ServerFlexModel"),options:{server:this}}}));const se=ie},47985:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(12634),i=n(53334),s=n(14408);const a=i.Z.extend({name:"SectionOverviewModel",context:["server"],rootPropertyName:"Section",syncedAttrs:{id:s.Z.integer,key:s.Z.string,type:s.Z.string,title:s.Z.string}}),o=r.Z.extend({name:"SectionOverviewCollection",context:["server"],model:a}),l=i.Z.extend({name:"ServerOverviewModel",context:["server"],idAttribute:"machineIdentifier",rootPropertyName:"Server",urlRoot:"/api/servers",syncedAttrs:{machineIdentifier:s.Z.string,name:s.Z.string,address:s.Z.string,port:s.Z.string,version:s.Z.string,createdAt:s.Z.integer,updatedAt:s.Z.integer},syncedRelations:{sections:{relationClass:o,rootPropertyName:"Section"}}}),c=r.Z.extend({name:"ServerOverviewCollection",context:["server"],model:l})},91485:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(12634),i=n(53334),s=n(14408),a=n(70515);const o="bool",l="enum";function c(e,t){switch(e){case"int":case l:return a.Z.parseInteger(t);case o:return a.Z.parseBoolean(t);default:return t}}const d=i.Z.extend({idAttribute:"id",url:"/:/prefs",context:["server"],sessionAttrs:{isSaving:s.Z.boolean},syncedAttrs:{id:s.Z.string,label:s.Z.string,default:s.Z.oneOfType(s.Z.integer,s.Z.string,s.Z.boolean,s.Z.array),summary:s.Z.string,value:{type:s.Z.oneOfType(s.Z.integer,s.Z.string,s.Z.boolean,s.Z.array),save:!0},type:s.Z.oneOf("int","text",o,l,"double"),group:s.Z.string,advanced:s.Z.boolean,option:s.Z.string,hidden:s.Z.boolean,enumValues:s.Z.array,values:s.Z.string},defaults:{isSaving:!1,type:"string",summary:"",label:"",group:""},augmentResponse(e){if(e.value=c(e.type,e.value),e.advanced=c(o,e.advanced),e.hidden=c(o,e.hidden),e.enumValues&&!Array.isArray(e.enumValues)&&(e.enumValues=e.enumValues.split("|").map((t=>{const[n,r=n]=t.split(":");return{label:r,value:c(e.type,n)}}))),e.type===l&&e.values&&!Array.isArray(e.values)){let t=0;e.enumValues=e.values.split("|").map((e=>({label:e,value:t++})))}return e},getSaveParams(e){const t=i.Z.prototype.getSaveParams.apply(this,arguments);return e&&!e.hasOwnProperty("value")?(Object.keys(t).forEach((t=>delete e[t])),t):{[this.get("id")]:t.value}}}),u=r.Z.extend({name:"ServerSettingCollection",context:["server"],url:"/:/prefs",model:d,augmentResponse:e=>e.Setting?(Array.isArray(e.Setting)?e.Setting:[e.Setting]).filter((e=>e.id)):[]})},76249:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={v4DVRSetup:"1.22.2",gracenoteAttribution:"1.21.1",firstCharacterKeySortDirection:"1.20.4",pivotIDs:"1.20.4",freeLiveTVDVRSettings:"1.20.2",augmentedHubsInRelatedHubs:"1.19.5",simpleRelatedKey:"1.19.2",transientTokenProxy:"1.15.4",mediaProvidersServerRoot:"1.13.10",streamDisplayTitles:"1.13.8",bundledWebAppNewSettingsRoutes:"1.13.8",softSubtitlesWithDirectPlay:"1.13.4",truePlaylistsPath:"1.9.3",optimizeDatabaseActivity:"1.4.2",asyncCheckFiles:"1.4.0",json:"1.8.0",allowBlacklistedMethodHeaders:"1.2.1",decisionEndpoint:"1.0.3",defaultSections:"0.9.17.3",ownerFeatures:"0.9.17.0",replaceTranscodeTarget:"0.9.17.0",quickSearch:"0.9.16.0",relay:"0.9.15.0",claimServer:"0.9.14.2",searchSpecificType:"0.9.14.2",linkedYearMetadata:"0.9.14.0",streamReady:"0.9.14.0",syncOriginalQuality:"0.9.14.0",allPartsStreamSelection:"0.9.12.5",sharedChannels:"0.9.12.5",shortenTranscodeURL:"0.9.12.5",companionProxy:"0.9.12.5",editSimilarArtists:"0.9.12.2",neuterRedirect:"0.9.12.0",audioAsVideo:"0.9.12.0",compositeDelete:"0.9.12.0",batchEdit:"0.9.12.0",premiumMusic:"0.9.12.0",transientToken:"0.9.12.0",softSubtitles:"0.9.12.0",sharedSyncStatus:"0.9.11.14",reachability:"0.9.11.14",photoPlayQueues:"0.9.11.12",publicNowPlaying:"0.9.11.3",labels:"0.9.11.2",updater:"0.9.11.1",playItemsBatchAdd:"0.9.9.16",playlists:"0.9.9.13",imageFilters:"0.9.9.13",hubFilterSigns:"0.9.9.12",cancelAllUpdates:"0.9.9.10",playQueues:"0.9.9.6",sectionSettings:"0.9.9.6",hubFilters:"0.9.9.2",streamingMKV:"0.9.9.16",chunkedHTTP:"0.9.9.3",sharedSync:"0.9.9.3",dash:"0.9.8.6",specificMediaDeletion:"0.9.7.23",sharedSettings:"0.9.7.23",syncNotifications:"0.9.7.23",universalMusicTranscoder:"0.9.8.3",universalTranscoder:"0.9.7.17",sync:"0.9.7.10",artworkUpload:"0.9.7.9",firstRunPref:"0.9.7.3",timelineState:"0.9.7.2",cleanBundles:"0.9.7.0",advancedFilters:"0.9.7.0",search:"0.9.7.0",merge:"0.9.7.0",splitApart:"0.9.7.0"}},60214:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(13469),i=n.n(r),s=n(61682),a=n(53334),o=n(56442),l=n(11133);const c=a.Z.extend({name:"AbstractStorageModel",responseType:o.AV,save(e,t,n={}){const r=this.attributes;let s;if(null==e||i().isObject(e)?(s=e,n=t):(s={})[e]=t,n=i().extend({validate:!0},n),s&&!n.wait){if(!this.set(s,n))return!1}else if(!this._validate(s,n))return!1;s&&n.wait&&(this.attributes=i().extend({},r,s));const a=this._getStorageAdapter().getInstance().excludeDefaults,o=this.toJSON({syncedOnly:!0,excludeDefaults:!1!==a}),l=this._serialize(o),c=this._getStorageAdapter().set(this._getStorageKey(),l);return c.done((()=>{this.attributes=r,this.trigger("sync",this,r,n)})),c.fail((e=>{this.trigger("error",this,e,n)})),s&&n.wait&&(this.attributes=r),c},destroy(e={}){e.wait||this.trigger("destroy",this,this.collection,e);const t=this._getStorageAdapter().remove(this._getStorageKey());return t.done((t=>{e.wait&&this.trigger("destroy",this,this.collection,e),this.trigger("sync",this,t,e)})),t.fail((t=>{this.trigger("error",this,t,e)})),t},sync(){this._logError("does not support syncing to a server")},_getStorageAdapter:()=>s.Z,_getStorageKey(){const e=i().result(this,"storageKey");if(!e)throw new Error(`${this.name} requires a \`storageKey\` property`);return e},_fetch(e={}){const t=this._getStorageAdapter().get(this._getStorageKey());return t.done((t=>{t&&this.set(this.parse(t)),this.trigger("sync",this,t,e)})),t.fail((t=>{this.trigger("error",this,t,e)})),t},_serialize(e){let t="";try{t=JSON.stringify(e)}catch(e){this._logError("serialization error: "+e.message)}return t},_warnUnsupportedOptions(e){e.parse&&this._logError("does not support the `parse` option. The response from storage is always parsed."),e.success&&this._logError("does not support a `success` callback. Use the returned promise."),e.error&&this._logError("does not support an `error` callback. Use the returned promise.")},_logError(e){let t;try{t=this._getStorageKey()}catch(e){t="no storageKey"}(0,l.Z)(!1,`${this.name} (${t}) ${e}`)}})},67249:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(77349),i=n(33947),s=n(83894),a=n(42227),o=n(42902),l=n(69119),c=n(7069),d=n(13469),u=n.n(d),p=n(53334),m=n(14408),h=n(56442),g=n(93242),y=n(67299);const v=p.Z.extend({name:"CalendarModel",context:["server"],url:"/media/subscriptions/scheduled",sessionAttrs:{visibleDays:m.Z.integer,time:m.Z.integer},syncedRelations:{scheduled:{relationClass:g.Z,rootPropertyName:"MediaGrabOperation"}},derivedAttrs:{startTime(){const e=this.get("visibleDays"),t=(0,a.Z)(this.get("time"));let n=(0,l.Z)(t);return e>1&&(n=(0,c.Z)(n,1)),(0,o.Z)(n)},endTime(){const e=this.get("visibleDays"),t=(0,a.Z)(this.get("time"));let n=(0,s.Z)(t);return e>1&&(n=(0,r.Z)(n,e-2)),(0,o.Z)(n)},daysOfWeek(){const e=(0,a.Z)(this.get("startTime")),t=(0,a.Z)(this.get("endTime")),n=(0,i.Z)(t,e);return u().times(Math.min(n+1,7),(t=>(0,o.Z)((0,r.Z)(e,t))))},days(){const e=(0,a.Z)(this.get("startTime")),t=(0,a.Z)(this.get("endTime")),n=(0,i.Z)(t,e);return u().times(n+1,(t=>(0,o.Z)((0,r.Z)(e,t))))},firstEvent(){return this.get("scheduled").first()},lastEvent(){return this.get("scheduled").last()},hasPastEvents(){const e=this.get("firstEvent");return!!e&&e.get("beginsAt")<this.get("startTime")},hasFutureEvents(){const e=this.get("lastEvent");return!!e&&e.get("beginsAt")>this.get("endTime")}},defaults:()=>({visibleDays:7,time:(0,o.Z)(Date.now())}),augmentResponseText:(e,t)=>t===h.Ls?(0,y.Z)(e):e})},93242:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(12634),i=n(31599);const s=r.Z.extend({name:"MediaGrabOperationCollection",context:["server","provider"],model:i.Z,comparator(e){const t=e.get("mediaItem");if(t)return t.beginsAt-(t.startOffsetSeconds||0)}})},31599:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(93966),i=n(53334),s=n(14408),a=n(59756),o=n(95688),l=n(19623),c=n(70515),d=n(4844),u=n(15042),p=n(87048);const m=i.Z.extend({name:"MediaGrabOperationModel",context:["server","provider"],idAttribute:"key",rootPropertyName:"MediaGrabOperation",url(){return this.get("key")},syncedAttrs:{mediaSubscriptionID:s.Z.string,provider:s.Z.string,identifier:s.Z.string,mediaIndex:s.Z.integer,channelTitle:s.Z.string,status:s.Z.string,error:s.Z.string,linkedKey:s.Z.string,key:s.Z.string,rolling:s.Z.boolean},sessionAttrs:{isLibraryMetadataItemPending:s.Z.boolean,isLibraryMetadataItemPopulated:s.Z.boolean,libraryMetadataItemError:s.Z.object},syncedRelations:{metadataItem:{relationClass:o.Z,rootPropertyName:"Metadata"},conflicts:()=>({relationClass:n(93242).Z,deferred:!0})},sessionRelations:{libraryMetadataItem:{relationClass:o.Z,deferred:!0}},derivedAttrs:{mediaItem(){const e=this.get("mediaIndex");return(this.get("metadataItem").get("Media")||[])[e]},beginsAt(){const e=this.get("mediaItem");return e&&e.beginsAt},endsAt(){const e=this.get("mediaItem");return e&&e.endsAt}},defaults:{rolling:!1,isLibraryMetadataItemPending:!0,isLibraryMetadataItemPopulated:!1,libraryMetadataItemError:null},augmentResponse(e){let t=e;if(t[this.rootPropertyName]&&(t=t[this.rootPropertyName]),t.Conflicts&&(t.conflicts=t.Conflicts.MediaGrabOperation,delete t.Conflicts),!a.Z.shouldCreateStateTree)return t;const n=t.Metadata,i=c.Z.parseArray(n.Media),s=c.Z.parseInteger(t.mediaIndex),o=(0,d.Z)(u.TY,n.key,this.server.entityID()),m=(0,r.DB)("appModel"),h=(0,p.Z)(m,u.TY,o);if(h){const e=h.get("Media").map(l.Z),n=i.map(l.Z)[s],r=e.findIndex((e=>n===e));t.mediaIndex=-1!==r?r:s+e.length}return t}})},69653:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(12634),i=n(16905);const s=r.Z.extend({name:"MediaSettingCollection",context:["server","provider"],model:i.Z,getSaveParams(){return this.reduce(((e,t)=>(e[t.id]=t.get("value"),e)),{})}})},16905:(e,t,n)=>{"use strict";n.d(t,{E:()=>a,Z:()=>l});var r=n(53334),i=n(14408),s=n(70515);const a={INT:"int",TEXT:"text",BOOL:"bool",DOUBLE:"double"};function o(e,t){switch(e){case a.INT:case a.ENUM:return s.Z.parseInteger(t);case a.BOOL:return s.Z.parseBoolean(t);case a.DOUBLE:return s.Z.parseFloat(t);default:return t}}const l=r.Z.extend({name:"MediaSettingModel",context:["server","provider"],idAttribute:"id",rootPropertyName:"Setting",syncedAttrs:{id:i.Z.string,advanced:i.Z.boolean,default:i.Z.oneOfType(i.Z.integer,i.Z.string,i.Z.boolean),hidden:i.Z.boolean,group:i.Z.string,label:i.Z.string,summary:i.Z.string,type:i.Z.oneOf(a.INT,a.TEXT,a.BOOL,a.ENUM,a.DOUBLE),value:i.Z.oneOfType(i.Z.integer,i.Z.float,i.Z.string,i.Z.boolean),min:i.Z.float,max:i.Z.float,step:i.Z.float,enumValues:i.Z.array},augmentResponse:e=>(e.default=o(e.type,e.default),e.value=o(e.type,e.value),e.enumValues&&(e.enumValues=e.enumValues.split("|").map((t=>{const[n,r=n]=t.split(":");return{label:decodeURIComponent(r),value:o(e.type,n)}}))),e),parseAndSetValue(e){this.set("value",o(this.get("type"),e))}})},61688:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(12634),i=n(56442),s=n(87769),a=n(67299),o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e};function m(e,t,n){if(Array.isArray(e))return e.map((e=>m(e,t,n)));if((0,s.Z)(e))for(const r in e){const i=e[r];let s;t[r]?(s=n,delete e[r]):s=r,e[s]=m(i,t,n)}return e}const h=function(e,t){let n=t&&t.includeDirectories?["Directory",...a.l]:a.l;return n=n.reduce(((e,t)=>p(p({},e),{[t]:t})),{}),m(e,n,"Metadata")};var g=n(84936),y=n(14794);const v=r.Z.extend({name:"MediaSubscriptionCollection",context:["server"],instanceOptions:[...r.Z.prototype.instanceOptions,"includeDirectories","includeGrabs","includePreferences","includeStorage","includeTarget"],model:y.Z,url(){const e={};return this.includeGrabs&&(e.includeGrabs=1),this.includePreferences&&(e.includePreferences=1),this.includeStorage&&(e.includeStorage=1),this.includeTarget&&(e.includeTarget=1),g.Z.join("/media/subscriptions",e)},augmentResponseText(e,t){return t===i.Ls?(0,a.Z)(e,{includeDirectories:!!this.includeDirectories}):e},augmentResponse(e,t){return t===i.AV?h(e,{includeDirectories:!!this.includeDirectories}):e}})},14794:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(53334),i=n(14408),s=n(9949),a=n(64297),o=n(56442),l=n(67299),c=n(4844),d=n(15042),u=n(93242),p=n(69653);const m=r.Z.extend({name:"MediaSubscriptionHintModel",context:["server","provider"],syncedAttrs:{guid:i.Z.string,grandparentGuid:i.Z.string,title:i.Z.string,type:i.Z.string,subtype:i.Z.string,grandparentTitle:i.Z.string,index:i.Z.integer,parentIndex:i.Z.integer,year:i.Z.string,grandparentYear:i.Z.integer,originallyAvailableAt:i.Z.string,thumb:i.Z.string,parentThumb:i.Z.string,grandparentThumb:i.Z.string,ratingKey:i.Z.string,source:i.Z.string,parentTitle:i.Z.string,parentYear:i.Z.string}});var h=n(95688);const g=r.Z.extend({name:"MediaSubscriptionTargetModel",context:["server","provider"],syncedRelations:{metadata:{relationClass:h.Z,rootPropertyName:"Metadata",deferred:!0}}});var y=Object.defineProperty,v=Object.prototype.hasOwnProperty,f=Object.getOwnPropertySymbols,b=Object.prototype.propertyIsEnumerable,S=(e,t,n)=>t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const I=r.Z.extend({name:"MediaSubscriptionModel",context:["server","provider"],entityType:d.PK,entityID(e=this.state){return(0,c.Z)(this.entityType,e.key||this.cid,this.server.entityID())},idAttribute:"key",rootPropertyName:"MediaSubscription",urlRoot:"/media/subscriptions",mergeStrategy:a.Z,syncedAttrs:{key:i.Z.string,type:i.Z.integer,provider:i.Z.string,targetLibrarySectionID:{type:i.Z.string,save:!0},targetSectionLocationID:{type:i.Z.string,save:!0},title:i.Z.string,selected:i.Z.boolean,parameters:i.Z.string,createdAt:i.Z.integer,storageTotal:i.Z.integer},syncedRelations:{hint:{relationClass:m,rootPropertyName:"Metadata",deferred:!0},target:{relationClass:g,rootPropertyName:"Target",deferred:!0},grabOperations:{relationClass:u.Z,rootPropertyName:"MediaGrabOperation",deferred:!0},prefs:{relationClass:p.Z,rootPropertyName:"Setting",deferred:!0,save:!0},timeline:{relationClass:s.Z,rootPropertyName:"Timeline",deferred:!0}},augmentResponseText:(e,t)=>t===o.Ls?(0,l.Z)(e):e,augmentResponse(e){const t=e[this.rootPropertyName]||e,n=t.Timeline;return n&&(t.Timeline=n.Metadata),e},getSaveParams(){const e=r.Z.prototype.getSaveParams.apply(this,arguments),{Setting:t}=e;return((e,t)=>{for(var n in t||(t={}))v.call(t,n)&&S(e,n,t[n]);if(f)for(var n of f(t))b.call(t,n)&&S(e,n,t[n]);return e})({prefs:t},((e,t)=>{var n={};for(var r in e)v.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&f)for(var r of f(e))t.indexOf(r)<0&&b.call(e,r)&&(n[r]=e[r]);return n})(e,["Setting"]))}})},66390:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(12634),i=n(56442),s=n(67299),a=n(14794);const o=r.Z.extend({name:"MediaSubscriptionTemplateCollection",context:["server","provider"],url:"/media/subscriptions/template",model:a.Z,augmentResponseText:(e,t)=>t===i.Ls?(0,s.Z)(e):e,augmentResponse:e=>e.SubscriptionTemplate})},86278:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(12634),i=n(56442),s=n(84936),a=n(53334),o=n(14408);const l=a.Z.extend({name:"UserFeatureModel",idAttribute:"uuid",syncedAttrs:{uuid:o.Z.string.isRequired,id:o.Z.string}}),c=r.Z.extend({name:"UserFeatureCollection",context:["server"],model:l,url:s.Z.join(["https://plex.tv","/api/v2/features"]),responseType:i.AV})},66357:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(53334),i=n(14408),s=n(95688),a=n(12634);const o=r.Z.extend({name:"SyncplaySessionUserModel",idAttribute:"deviceIdentifier",sessionAttrs:{adDisplayIndex:i.Z.integer,adDisplayTotal:i.Z.integer,deviceIdentifier:i.Z.string.isRequired,deviceName:i.Z.string.isRequired,id:i.Z.integer.isRequired,isAdPlaying:i.Z.boolean,isPresent:i.Z.boolean,isReady:i.Z.boolean,isWatching:i.Z.boolean,positionSeconds:i.Z.oneOfType(i.Z.integer,i.Z.float),thumb:i.Z.string,title:i.Z.string},defaults:{deviceIdentifier:null,deviceName:null,id:null,isAdPlaying:!1,isReady:!1,isWatching:!1,positionSeconds:0}}),l=a.Z.extend({name:"SyncplaySessionUserCollection",model:o}),c=r.Z.extend({name:"SyncplaySessionModel",idAttribute:"roomID",sessionAttrs:{notifications:i.Z.array,roomID:i.Z.string},sessionRelations:{metadataItem:{relationClass:s.Z,deferred:!0},users:{relationClass:l}},defaults:{notifications:[]}})},5513:(e,t,n)=>{"use strict";n.d(t,{v4:()=>M,Oq:()=>E,D8:()=>j,dC:()=>w,RK:()=>D,Nx:()=>T,On:()=>O,eS:()=>x,$v:()=>N,rP:()=>A,kO:()=>C,gC:()=>P,M8:()=>k,i:()=>L,x:()=>R,f9:()=>Z,CC:()=>$,a7:()=>B,h9:()=>z,Us:()=>K,$e:()=>F,c4:()=>H,n:()=>W,EP:()=>Q,yB:()=>G,yy:()=>_,I2:()=>U,T5:()=>Y,zt:()=>q,qO:()=>V});var r=n(40807),i=n(4134),s=n(96840),a=n(87769);let o,l,c=0,d=0;function u(e,t){return(0,a.Z)(e)?function(e,t){const n=e.possibleEntityContainers,r=n?n.length:0;for(let i=0;i<r;i++)if(u(e[n[i]],t))return!0;return!1}(e,t):Array.isArray(e)?function(e,t){for(let n=0,r=e.length;n<r;n++)if(u(e[n],t))return!0;return!1}(e,t):e===t}function p(e,t){return e+1>=t?0:e+1}var m=n(28440),h=n(27082),g=n(44823),y=Object.defineProperty,v=Object.prototype.hasOwnProperty,f=Object.getOwnPropertySymbols,b=Object.prototype.propertyIsEnumerable,S=(e,t,n)=>t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I=(e,t)=>{for(var n in t||(t={}))v.call(t,n)&&S(e,n,t[n]);if(f)for(var n of f(t))b.call(t,n)&&S(e,n,t[n]);return e};const Z="app/setPrimaryServer",P="app/resetPrimaryServer",E="app/changePrimaryServer",M="app/changeCompanionServer",C="app/removeCompanionServer",w="app/garbageCollectEntities",D="app/navigate",T="app/navigateBack",O="app/navigateForward",x="app/navigateHome",A="app/navigateSearch",N="app/navigatePrePlay",k="app/saveDeviceSettings",L="app/saveLastSourcePivot",j="app/clearLastSourcePivots",R="app/savePivotParams",V=(0,r.Z)(Z),U=(0,r.Z)(P),z=(0,r.Z)(E),B=(0,r.Z)(M),_=(0,r.Z)(C),F=(0,r.Z)(w),H=(0,r.Z)(D),W=(0,r.Z)(T),Q=((0,r.Z)(O),(0,r.Z)(x)),G=((0,r.Z)(A),(0,r.Z)(N)),Y=(0,r.Z)(k),q=(0,r.Z)(L),K=(0,r.Z)(j),$=((0,r.Z)(R),{[w](e,t){(0,h.c9)();const n=function(e,t={}){const n=null!=t.budget?t.budget:16.666666666666668,r=window.performance.now(),i=e.entities,s=Object.keys(i),a=s.length,m={};n===1/0&&(c=0,d=0);const h=i[s[c]];for(o=c,l=Math.max(Math.min(d,Object.keys(h).length-1),0);c<a;){const t=s[c],h=i[t],g=Object.keys(h),y=g.length,v=p(c,a);for(;d<y;){const i=g[d],s=p(d,y);if(u(e,i)||(m[t]||(m[t]=[]),m[t].push(i)),v===o&&s===l)return c=v,d=s,m;if(window.performance.now()-r>=n)return c=v,d=s,m;d++}if(c=v,d=0,c===o&&d===l)return m}return m}(e.getState(),t),r=e.get("entities");for(const e in n){const t=n[e];r.get(e).remove(t)}t&&t.budget===1/0&&Object.keys(n).length&&(0,h.c9)()},[L](e,t,n){const r=(0,m.SW)(e,t),s=(0,m.js)(e,t),a=e.get("user").get("experienceSettings"),o=a.get("lastSourcePivots");if(!a.get("shouldSaveLastSourcePivots"))return;const l=(0,g.Z)(r.get("machineIdentifier"),s.get("identifier"),t.directoryID);n((0,i.LN)({lastSourcePivots:I(I({},o),{[l]:t.pivotKey})}))},[j](e,t,n){n((0,i.LN)({lastSourcePivots:{}}))},[R](e,t,n){const r=(0,m.SW)(e,t),s=(0,m.js)(e,t),a=e.get("user").get("experienceSettings").get("savedPivotParams"),o=(0,g.Z)(r.get("machineIdentifier"),s.get("identifier"),t.directoryID,t.pivotKey);n((0,i.LN)({savedPivotParams:I(I({},a),{[o]:t.params})}))},[E](e,t){},[P](e,t){},[Z](e,t){},[M](e,t){const n=(0,m.$w)(e,t);n?e.set("companionServer",n):s.Z.warn("[Companion] Could not find %s to use as companion server",t.serverEntityID)},[C](e){e.unset("companionServer")},[D](){},[T](){},[O](){},[x](){},[A](){},[N](){},[k](){}})},40807:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t){return function(...n){const r="function"==typeof t?t(...n):n[0];return{type:e,payload:r}}}},3265:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r}),n(11133),n(87769);const r=function(e){return e}},44516:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(19755),i=n.n(r),s=n(96840);const a=2500;function o(e){const{eventSource:t,events:n,predicate:r=(()=>!0),waitDuration:o=a}=e,l=i().Deferred(),c=()=>{r(t)&&(u=window.clearTimeout(u),t.off(d),l.resolve(t))},d=n.reduce(((e,t)=>(e[t]=c,e)),{});let u=window.setTimeout((()=>{s.Z.warn('Model "%s" events %o did not pass the predicate within %dms',t.name,n,o),t.off("add",d),l.reject(t)}),o);return t.on(d),l.promise()}},16487:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(19755),i=n.n(r),s=n(44516);function a(e){return e.get("isPopulated")?i().Deferred().resolve(e).promise():(0,s.Z)({eventSource:e,events:["change:error","change:isPopulated"]})}},33816:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(19755),i=n.n(r),s=(n(11133),n(34885)),a=n(57054),o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e};function m(e){const{key:t,getModel:n}=e;return function(e){const{key:t,getModel:n,onResolved:r,onRejected:i}=e,o=(0,s.Z)(t),l=`is${o}Pending`,c=`is${o}Populated`,d=t?`${t}Error`:"error";return(t,s={},o)=>{const u=n(t,s),p=(u.sessionAttrs,u.get(l));u.set(l,!0),e.fetch(t,s,o).then((()=>{u.set({[l]:!1,[c]:!0,[d]:null}),r&&r(u,t,s,o)}),(e=>{const n=e.aborting?{[l]:p}:{[l]:!1,[d]:(0,a.Z)(e)};u.set(n),i&&i(u,t,s,o)}))}}(p(p({},e),{fetch(e,r){const s=n(e,r),a=t?s.get(t):s;return a?a.fetch(r.options).then(null,((e,t)=>i().Deferred().reject(t).promise())):i().Deferred().reject({status:0}).promise()}}))}},27940:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i}),n(11133);var r=n(34885);function i(e){const{key:t,fetchActionCreator:n,getModel:i}=e,s=`is${(0,r.Z)(t)}Populated`;return(e,t,r)=>{i(e,t).get(s)||r(n(t))}}},58042:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s}),n(11133);var r=n(34885),i=n(57054);function s(e){const{key:t,getModel:n}=e,s=(0,r.Z)(t),a=`is${s}Pending`,o=`is${s}Populated`,l=t?`${t}Error`:"error";return(e,r)=>{const{startIndex:s,endIndex:c,pages:d=3,reloadThreshold:u=6,disableReloadThreshold:p}=r,m=c-s+1,h=n(e,r),g=t?h.get(t):h;h.sessionAttrs;const y=g.get("populatedRange");let v=s,f=c;if(s<y.start?v=Math.max(0,s-m*d):f=s+m*d,v>=y.start&&f<=y.end)return;const b=h.get(a);h.set(a,!0),g.populateRange({start:v,end:f,reloadThreshold:p?null:m*u}).done((()=>{h.set({[a]:!1,[o]:!0,[l]:null})})).fail(((e,t)=>{t.aborting?h.set(a,b):h.set({[a]:!1,[l]:(0,i.Z)(t)})}))}}},73054:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s}),n(11133);var r=n(34885),i=n(57054);function s(e){const{key:t,getModel:n}=e,s=(0,r.Z)(t),a=`is${s}Pending`,o=`is${s}Populated`,l=t?`${t}Error`:"error";return(e,r={})=>{const{count:s}=r,c=n(e,r),d=t?c.get(t):c;c.sessionAttrs;const u=c.get(a);c.set(a,!0),d.repopulateRange(s).done((()=>{c.set({[a]:!1,[o]:!0,[l]:null})})).fail(((e,t)=>{t.aborting?c.set(a,u):c.set({[a]:!1,[l]:(0,i.Z)(t)})}))}}},48293:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(93966),i=n(47985),s=n(68002),a=n(28440);function o(e){const t=(0,r.DB)("appModel"),n=t.get("user"),o=new i.Z(e.map((e=>({machineIdentifier:(0,a.SW)(t,{serverEntityID:e}).get("machineIdentifier")}))),{server:n.server});return(0,s.Z)(o.map((e=>e.fetch()))).then((()=>{const e=o.filter((e=>!e.isPopulated()));return o.remove(e),o}))}},34583:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(19755),i=n.n(r),s=n(93966),a=n(88050),o=n(69881),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};function h(e,t={}){const{allowMetrics:n,metricsProperties:r={}}=t,l=e.server,c=`/library/metadata/${e.get("ratingKey")}/analyze`,d=l.getXHROptions(c,{type:"PUT"}),u=e.get("mediaState"),p="analyzing",h=(0,o.isDirectoryType)(e.get("type"));h||e.set("mediaState",p);const g=i().ajax(d).fail((t=>{h||e.get("mediaState")!==p||e.set("mediaState",u)}));return n&&(0,s.DB)("metrics").trackClick(m(m({},r),{action:a._R,type:e.get("type")})),g.promise()}},17798:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(59756),i=n(17524),s=n(36171);const a=function(e){if(!r.Z.shouldRequestHTMLFromCloudProvider)return s.rS;const t=[i.HG,i.w1];return i.wB(e,t)?s.k9:s.rS}},49897:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(19755),i=n.n(r),s=n(93966),a=n(88050),o=n(62730),l=n(67006),c=n(84936),d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e};function y(e,t,n){const{rating:r,allowMetrics:d,metricsProperties:u={}}=n,p=e.get("features").get(l.aO).get("actions").get(o.zw);if(!p)return i().Deferred().reject().promise();const m={key:t.get("ratingKey"),identifier:t.get("identifier"),rating:r},h=c.Z.join(p.get("key"),m),y=e.getXHROptions(h,{type:"PUT"}),v=t.get("userRating"),f=-1===r?void 0:r;t.set("userRating",f);const b=i().ajax(y).fail((e=>{t.get("userRating")===f&&t.set("userRating",v)}));return d&&(0,s.DB)("metrics").trackClick(g(g({},u),{action:a.zw,type:t.get("type"),rating:r})),b.promise()}},95374:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(19755),i=n.n(r),s=n(93966),a=n(90579),o=n(88050),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};function h(e,t={}){const{allowMetrics:n,metricsProperties:r={}}=t,l=e.server,c=`/library/metadata/${e.get("ratingKey")}/refresh`,d=l.getXHROptions(c,{type:"PUT"}),u=e.get("metadataState"),p=a.em;e.set("metadataState",p);const h=i().ajax(d).fail((t=>{e.get("metadataState")===p&&e.set("metadataState",u)}));return n&&(0,s.DB)("metrics").trackClick(m(m({},r),{action:o.RG,type:e.get("type")})),h.promise()}},56054:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(19755),i=n.n(r),s=n(62730),a=n(67006),o=(n(11133),n(4844)),l=n(15042),c=n(28440),d=n(69881),u=n(84936),p=Object.defineProperty,m=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))m.call(t,n)&&y(e,n,t[n]);if(h)for(var n of h(t))g.call(t,n)&&y(e,n,t[n]);return e};function f(e,t={}){const{played:n,providerEntityID:r,serverEntityID:o,metadataItemEntityID:l}=t,d=(0,c.js)(e,t);if(null==d){const e="Could not find providerModel with provided `providerEntityID`";return i().Deferred().reject({errorMessage:e}).promise()}if(null==(0,c.SW)(e,t)){const e="Could not find serverModel with provided `serverEntityID`";return i().Deferred().reject({errorMessage:e}).promise()}const p=(0,c.tz)(e,{metadataItemEntityID:l});if(null==p){const e="Could not find metadataModel with provided `metadataItemEntityID`";return i().Deferred().reject({errorMessage:e}).promise()}const m=d.get("features").get(a.aO).get("actions").get(s.lq),h=n?m.get("key"):m.get("reverseKey"),g={identifier:p.get("identifier")||"com.plexapp.plugins.library",key:p.get("ratingKey")},y=u.Z.join(h,g),v=i().ajax(d.getXHROptions(y));return v.then((()=>{const t={providerEntityID:r,serverEntityID:o,metadataItemEntityID:p.entityID()};S(e,t,n),b(e,t,n)})),v}function b(e,t,n){const r=(0,c.tz)(e,t);if(r)if((0,d.isDirectoryType)(r.get("type"))){r.set({viewedLeafCount:n?r.get("leafCount"):0});const i=(0,o.Z)(l.$4,r.get("childrenKey"),t.providerEntityID||t.serverEntityID),s=(0,c.Ij)(e,{metadataListEntityID:i});s&&s.get("metadataItems").forEach((r=>{const i=v(v({},t),{metadataItemEntityID:r.entityID()});b(e,i,n)}))}else r.set({viewOffset:0,viewCount:n?1:0})}function S(e,t,n,r){const i=(0,c.tz)(e,t);if(!i)return;const s=(0,d.getMetadataType)(i.get("type")),a=(0,o.Z)(l.TY,i.get("parentKey"),t.serverEntityID),u=(0,c.tz)(e,{metadataItemEntityID:a});let p;if(u&&(p=(0,d.getMetadataType)(u.get("type"))),p&&p.typeString===s.parent){let s;const o=(0,d.isDirectoryType)(i.get("type"));n?s=o?i.get("unviewedLeafCount"):1:(s=o?i.get("viewedLeafCount"):1,s*=-1);const l=null!=r?r:s;u.set({viewedLeafCount:u.get("viewedLeafCount")+l}),S(e,v(v({},t),{metadataItemEntityID:a}),n,l)}}},66464:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L});var r=n(19755),i=n.n(r),s=n(95933),a=n(95688),o=n(32707),l=n(11133),c=n(85586),d=n(61478),u=n(69881),p=n(84936),m=n(9949),h=n(89653),g=Object.defineProperty,y=Object.prototype.hasOwnProperty,v=Object.getOwnPropertySymbols,f=Object.prototype.propertyIsEnumerable,b=(e,t,n)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||(t={}))y.call(t,n)&&b(e,n,t[n]);if(v)for(var n of v(t))f.call(t,n)&&b(e,n,t[n]);return e};let I=0;const Z=function(e){I+=1;const t=I.toString(),n=S(S({},e.attributes),{playQueueItemID:t}),r=new h.Z(n,{server:e.server,provider:e.provider,parent:e.parent,parse:!0});return r.set("isLocal",!0),r};var P=Object.defineProperty,E=Object.prototype.hasOwnProperty,M=Object.getOwnPropertySymbols,C=Object.prototype.propertyIsEnumerable,w=(e,t,n)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D=(e,t)=>{for(var n in t||(t={}))E.call(t,n)&&w(e,n,t[n]);if(M)for(var n of M(t))C.call(t,n)&&w(e,n,t[n]);return e};function T(e,t,n={}){const r=t.get("type"),s=u.getMetadataType(r),a=u.getLeafType(r);if(!s)return i().Deferred().reject().promise();if(s.id===a.id){const s=e.get("playQueueItems"),a=t.get("containerKey");if(a&&!s.length&&!n.skipSiblings&&(r===u.TRACK||r===u.EPISODE||r===u.PHOTO)){const e=new m.Z([],{server:t.server,provider:t.provider});return e.fetch({url:a}).then((()=>{const t=e.models.map(Z);return i().Deferred().resolve(t).promise()}))}return i().Deferred().resolve([Z(t)]).promise()}if(u.getChildType(r).id===a.id){const e=p.Z.join([t.get("key"),"children"]),n=new m.Z([],{server:t.server,provider:t.provider});return n.fetch({url:e}).then((()=>{const e=n.models.map(Z);return i().Deferred().resolve(e).promise()}))}return i().Deferred().reject().promise()}function O(e,t,n){const r=t.map((t=>T(e,t,n)));return i().when(...r).then(((...t)=>{const r=[].concat(...t);return e.get("playQueueItems").add(r,n),x(e)}))}function x(e,t){const n=e.get("playQueueItems");if(e.get("playQueueSelectedItemID")||!n.length)return i().Deferred().resolve(e).promise();if(t){const r=n.findWhere({metadataItem:t}),i=r?r.id:n.at(0).id;e.set("playQueueSelectedItemID",i)}else{const t=e.get("playQueueSelectedItemOffset"),r=n.at(t);e.set("playQueueSelectedItemID",r.id)}return i().Deferred().resolve(e).promise()}var A=n(58641);function N(e,t,n){const{path:r,model:i,attr:s="key"}=n;if((0,l.Z)(r||i,"A path or a model is required to build a source URI"),t.get("isUniversal")){const t=i&&i.get("source")||(0,c.Z)(e.server.get("machineIdentifier"),e.get("identifier")),n=r||i.get(s);return p.Z.join([t,n])}return r||o.Z.uri(i)}function k(e){return{type:e.playQueueModel.get("type"),shuffle:e.shuffle?1:void 0,next:e.next?1:void 0,extrasPrefixCount:e.extrasPrefixCount}}function L(e){const{playQueueModel:t}=e;if(t.get("isLocal"))return function(e){const{next:t,playQueueModel:n,metadataItemModel:r,metadataItemModels:s,metadataListModel:a,skipSiblings:o=!1}=e,l={at:t?n.get("playQueueSelectedItemOffset")+1:void 0};if(r)return T(n,r,{skipSiblings:o}).then((e=>(n.get("playQueueItems").add(e,l),x(n,r))));if(s&&s.length)return O(n,s,l);if(a){const e=a.get("metadataItems").models;return O(n,e,D(D({},l),{skipSiblings:!0}))}return i().Deferred().reject().promise()}(e).then((()=>(0,A.ZP)(t)));const n=t.isNew()?"POST":"PUT";return function(e){return e.metadataItemModel?function(e){const{playQueueModel:t,providerModel:n,playlistModel:r,metadataItemModel:o,containerKey:l,shuffle:c,playAll:m}=e,h=t.get("isUniversal"),g=o.get("type"),y=o.get("subtype"),v=g===u.SHOW,f=g===u.SEASON,b=g===u.EPISODE,S=g===u.PHOTO,I=g===u.CLIP,Z=g===u.TRACK,P=!!r||o.get("isPlaylist"),E=o.get("isExtra"),M=!!o.get("radio"),C=k(e);if((v||f||b||y===d.PODCAST)&&(C.continuous=1),(v||f)&&!m&&!c){const e=!o.get("parentKey"),r=v||e?o:new a.Z({key:o.get("parentKey")},{server:o.server,provider:o.providerModel});return r.fetch({merge:!0,data:{includeOnDeck:"1"}}).then((()=>{const e=r.get("onDeck"),i=e&&v,a=e&&f&&e.get("parentRatingKey")===o.get("ratingKey");if(i||a)return C.uri=N(n,t,{model:e}),C;if(f){const e=new s.Z({containerKey:o.get("childrenKey")},{server:o.server,provider:o.provider,skipCache:!0});return e.fetch().then((()=>{const r=e.get("metadataItems"),i=r.findWhere((e=>!e.get("viewCount")));return C.uri=N(n,t,{model:i||r.first()}),C}))}return C.uri=N(n,t,{model:o}),C}))}return P?r?(h&&(C.uri=N(n,t,{model:r})),C.playlistID=r.get("ratingKey"),C.key=o.get("key")):(h&&(C.uri=N(n,t,{model:o})),C.playlistID=o.get("ratingKey")):(Z||S||I&&!E)&&l&&!C.continuous?(C.uri=N(n,t,{path:h?l:`library:///directory/${encodeURIComponent(l)}`}),C.key=o.get("key")):C.uri=N(n,t,M&&h?{path:p.Z.join(o.get("key"),{includeSharedContent:1})}:{model:o}),i().Deferred().resolve(C).promise()}(e):e.metadataItemKey?function(e){const{providerModel:t,playQueueModel:n,metadataItemKey:r}=e,s=n.get("isUniversal"),a=k(e);return a.uri=N(t,n,{path:s?r:`library:///item/${encodeURIComponent(r)}`}),i().Deferred().resolve(a).promise()}(e):e.metadataItemModels&&e.metadataItemModels.length?function(e){const t=k(e);return t.uri=o.Z.uri(null,{items:e.metadataItemModels}),i().Deferred().resolve(t).promise()}(e):e.metadataListModel?function(e){const{providerModel:t,playQueueModel:n,metadataListModel:r}=e,s=k(e);return s.uri=N(t,n,{model:r,attr:"containerKey"}),i().Deferred().resolve(s).promise()}(e):i().Deferred().reject().promise()}(e).then((e=>(0,A.ZP)(t,{params:e,type:n}).then(null,(()=>i().Deferred().reject().promise()))))}},238:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(19755),i=n.n(r),s=n(53334),a=n(14408),o=n(39879);const l=s.Z.extend({name:"LocalPlayQueueModel",context:["server","provider"],url(){const e=this.get("playQueueItems"),t=this.get("playQueueSelectedItemID"),n=e.get(t);if(n)return n.get("metadataItem").get("key")},sessionAttrs:{key:a.Z.string,playQueueID:a.Z.string,isLocal:a.Z.boolean,type:a.Z.string,repeat:a.Z.boolean,own:a.Z.boolean,isUpdatePending:a.Z.boolean,playQueueShuffled:a.Z.boolean,playQueueSelectedItemID:a.Z.string},sessionRelations:{playQueueItems:{relationClass:o.Z}},derivedAttrs:{playQueueTotalCount(){return this.get("playQueueItems").length},length(){return this.get("playQueueItems").length},playQueueSelectedItemOffset(){const e=this.get("playQueueItems"),t=this.get("playQueueSelectedItemID");if(!t)return 0;const n=e.get(t);return e.indexOf(n)},currentIndex(){return this.get("playQueueSelectedItemOffset")},canShuffle:()=>!1},defaults:{isLocal:!0,repeat:!1,own:!0,isUpdatePending:!1,playQueueShuffled:!1,playQueueSelectedItemOffset:0},fetch:function(){return i().Deferred().resolve(this).promise()}});var c=n(72149),d=(n(44491),n(67006)),u=n(94803);function p(e){const{providerModel:t,playQueueID:n,playQueueType:r,playQueueRepeat:i,playQueueOwn:s=!0}=e,a=t&&t.get("features"),o=a&&a.get(d.F5),p=!!o&&o.get("flavor")===u.D7;return o?new c.Z({playQueueID:n,key:o.get("key"),type:r,repeat:i,own:s,isUniversal:p},{server:t.server,provider:t}):new l({playQueueID:n,type:r},{server:t.server,provider:t})}n(11133)},47327:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(19755),i=n.n(r),s=n(93966),a=n(78636),o=n(96840),l=n(69881),c=n(95688),d=n(86953),u=n(60316);function p(e,t={}){let n=t.forceFetch||!e.get("isPreFetched")?function(e,t){const{itemProvider:n}=t,r={includeConcerts:1,includeExtras:1,includeOnDeck:1,includePopularLeaves:1,includePreferences:1,includeChapters:1,includeStations:1,includeMarkers:1,includeExternalMedia:1,asyncAugmentMetadata:1};e.get("type")===l.TRACK&&(r.includeRelated=1),!t.forceSyncCheckFiles&&e.server.supports("asyncCheckFiles")?(r.asyncCheckFiles=1,r.asyncRefreshAnalysis=1,r.asyncRefreshLocalMediaAgent=1):r.checkFiles=1;const i=n||e.provider,s=(0,a.Z)(i.server),o=i.resolveUrl(e.url(),{appendHeaders:!0}),c=i.getXHROptions(o,{dataType:s.typeName,data:r,merge:!0});return e.fetch(c).done((()=>{e.set("isPreFetched",!0)}))}(e,t):i().Deferred().resolve().promise();return n=n.then((()=>{const t=e.get("Media");if(e.get("indirect")&&(!t||!t.length)){const t=function(e,t){const n=function(e){return e.get("Origin")||{key:e.get("key"),source:(0,d.Z)({serverIdentifier:e.server.get("machineIdentifier"),providerIdentifier:e.provider.get("identifier")})}}(t),r=i().Deferred(),{source:s,key:o}=n,{providerIdentifier:l,serverIdentifier:p}=(0,u.Z)(s),m=e.get("servers").get(p),h=m&&m.get("isCloud")?e.get("user"):m,g=h&&h.get("providers").get(l);let y;if(m?m.get("isConnected")?g?g.get("isPopulated")||(y="Provider is not populated"):y="Unknown provider":y="Server is not connected":y="Unknown server",y)r.reject(new Error(y));else{const e=new c.Z({key:o},{server:m,provider:g,channel:t.channel,includeExternalMedia:t.includeExternalMedia,skipCache:!0}),n=(0,a.Z)(g.server),l=g.resolveUrl(e.url(),{appendHeaders:!0}),d=g.getXHROptions(l,{dataType:n.typeName,data:{resolveIndirect:1}});e.fetch(d).then((t=>{const n=e.get("Media"),a=n?n.map((e=>i().extend(!0,{source:s},e))):[];r.resolve(a)}),(()=>{r.reject(new Error("Unable to fetch Origin metadata"))}))}return r.promise()}((0,s.DB)("appModel"),e).then((t=>{e.set({Media:t})}));return t.then(null,(e=>{o.Z.error("[Metadata] %s",e.message)})),t}})),n}},90697:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(30983);function i(e){const t=e.get("playQueue");if(!t)return;const n=t.get("currentIndex");return(0,r.bG)(e,n)}},27760:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(84936);function i(e){let t;if(e){const n=r.Z.parseUrl(e),i=/^\/playQueues\/([^/?]+)/.exec(n.pathname||n.href);t=i?i[1]:void 0}return t}},21256:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(91135),i=n(61478),s=n(69881),a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};function p({metadataItemModel:e,listType:t}){const n=e.get("playlistType");if(n)return n;const a=e.get("subtype");if(a===i.PODCAST)return r.j0;const o=e.get("type");return o===s.COLLECTION?m(null,a):t===s.COLLECTION?m(null,o):m(t,o)}function m(e,t){let n;return e&&(n=s.getLeafType(e)),n||(n=s.getLeafType(t)),n&&n.mediaType}function h(e){const{type:t,metadataType:n,metadataItemModel:a,metadataItemModels:o,metadataListModel:l}=e;return t||(n?m(n):a?p(e):o&&o.length?p(u(u({},e),{metadataItemModel:o[0]})):l?function({metadataListModel:e,listType:t}){return e.get("firstItemSubtype")===i.PODCAST?r.j0:e.get("firstItemType")===s.COLLECTION?m(t,e.get("firstItemSubtype")):m(t,e.get("firstItemType"))}(e):void 0)}},34699:(e,t,n)=>{"use strict";n.d(t,{Z:()=>re});var r={};n.r(r),n.d(r,{changeAutoPlay:()=>M,changePlaybackSpeed:()=>C,changeQualityIndex:()=>b,changeStream:()=>S,changeSubtitleColor:()=>I,changeSubtitleOffset:()=>E,changeSubtitlePosition:()=>Z,changeSubtitleSize:()=>P,changeVolume:()=>f,endPlayback:()=>u,mirrorDetails:()=>O,pause:()=>y,play:()=>g,playItem:()=>h,playNextItem:()=>p,playPreviousItem:()=>m,refreshRemotePlayQueue:()=>D,refreshRemoteStreams:()=>T,seek:()=>v,setRepeat:()=>w,startPlayback:()=>d});var i={};n.r(i),n.d(i,{changeAutoPlay:()=>K,changePlaybackSpeed:()=>$,changeQualityIndex:()=>H,changeStream:()=>W,changeSubtitleColor:()=>Q,changeSubtitleOffset:()=>q,changeSubtitlePosition:()=>G,changeSubtitleSize:()=>Y,changeVolume:()=>F,endPlayback:()=>j,mirrorDetails:()=>te,pause:()=>B,play:()=>z,playItem:()=>U,playNextItem:()=>R,playPreviousItem:()=>V,refreshRemotePlayQueue:()=>J,refreshRemoteStreams:()=>ee,seek:()=>_,setRepeat:()=>X,startPlayback:()=>L});var s=n(95680),a=n(93966),o=n(18547),l=n(67470),c=n(33232);function d(e){s.startPlayback(e);const t=(0,a.DB)("remoteCastPlayerManager");e.get("playQueue").set("own",!1),t.startPlayback(e),e.set({startMetadataItemEntityID:null,startOffsetMilliseconds:null,startMediaIndex:null})}function u(e){s.endPlayback(e),(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.N7})}function p(e){(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.zb})}function m(e){(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.Fz})}function h(e,t){s.playItem(e,t);const n=(0,a.DB)("remoteCastPlayerManager"),r=e.get("playQueue"),i=r.get("playQueueItems"),l=r.get("playQueueSelectedItemID"),c=i.get(l).get("metadataItem");n.sendMessage({type:o.cb,playQueueItemID:l,key:c.get("key")})}function g(e){s.play(e),(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.NH})}function y(e){s.pause(e),(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.E7})}function v(e,t){s.seek(e,t),(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.tG,currentTime:t})}function f(e,t,n){(0,a.DB)("remoteCastPlayerManager").setVolume(t)}function b(e,t){s.changeQualityIndex(e,t);const n=c.Z.getQualityByIndex(t);(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.EJ,bitrate:n.bitrate})}function S(e,t,n){(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.f4,stream:{type:t,id:n}})}function I(e,t,n){s.changeSubtitleColor(e,t,n),(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.om,subtitleColor:t})}function Z(e,t,n){s.changeSubtitlePosition(e,t,n),(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.WP,subtitlePosition:t})}function P(e,t,n){s.changeSubtitleSize(e,t,n),(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.I2,subtitleSize:t})}function E(e,t,n){(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.rx,subtitleOffset:t})}function M(e,t,n){s.changeAutoPlay(e,t,n),(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.hl,autoPlay:t})}function C(e,t){}function w(e,t){e.set({repeatAll:t.repeatAll,repeatOne:t.repeatOne}),(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.zG,repeat:(0,l.Z)(t)})}function D(e){(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.bp})}function T(e){(0,a.DB)("remoteCastPlayerManager").sendMessage({type:o.fK})}function O(e){(0,a.DB)("remoteCastPlayerManager").mirrorDetails(e)}var x=n(70871),A=n(43149),N=n(73004);function k(e){const t=e.get("playQueue");return(0,x.ED)(t.get("type"))}function L(e){s.startPlayback(e);const t=(0,a.DB)("remotePlexPlayerManager");e.get("playQueue").set("own",!1),t.startPlayback(e)}function j(e){const t=(0,a.DB)("remotePlexPlayerManager"),n={};e.get("playQueue")&&(n.type=k(e)),s.endPlayback(e),t.sendCommand("/player/playback/stop",n)}function R(e){const t=(0,a.DB)("remotePlexPlayerManager"),n=k(e);t.sendCommand("/player/playback/skipNext",{type:n})}function V(e){const t=(0,a.DB)("remotePlexPlayerManager"),n=k(e);t.sendCommand("/player/playback/skipPrevious",{type:n})}function U(e,t){s.playItem(e,t);const n=(0,a.DB)("remotePlexPlayerManager"),r=k(e),i=e.get("playQueue"),o=i.get("playQueueItems"),l=i.get("playQueueSelectedItemID"),c=o.get(l).get("metadataItem");n.sendCommand("/player/playback/skipTo",{type:r,key:c.get("key")})}function z(e){s.play(e);const t=(0,a.DB)("remotePlexPlayerManager"),n=k(e);t.sendCommand("/player/playback/play",{type:n})}function B(e){s.pause(e);const t=(0,a.DB)("remotePlexPlayerManager"),n=k(e);t.sendCommand("/player/playback/pause",{type:n})}function _(e,t){s.seek(e,t);const n=(0,a.DB)("remotePlexPlayerManager"),r=k(e);n.seek({type:r,offset:1e3*t})}function F(e,t,n){const r=(0,a.DB)("remotePlexPlayerManager"),i=k(e);r.changeVolume({type:i,volume:t})}function H(e,t){}function W(e,t,n){const r=(0,a.DB)("remotePlexPlayerManager"),i=k(e),s=N.Z.get(t).key;r.sendCommand("/player/playback/setStreams",{type:i,[s]:n})}function Q(e,t,n){const r=(0,a.DB)("remotePlexPlayerManager"),i=k(e);r.sendCommand("/player/playback/setParameters",{type:i,subtitleColor:t}),s.changeSubtitleColor(e,t,n)}function G(e,t,n){const r=(0,a.DB)("remotePlexPlayerManager"),i=k(e);r.sendCommand("/player/playback/setParameters",{type:i,subtitlePosition:t}),s.changeSubtitlePosition(e,t,n)}function Y(e,t,n){const r=(0,a.DB)("remotePlexPlayerManager"),i=k(e);r.sendCommand("/player/playback/setParameters",{type:i,subtitleSize:t}),s.changeSubtitleSize(e,t,n)}function q(e,t,n){const r=(0,a.DB)("remotePlexPlayerManager"),i=k(e);r.sendCommand("/player/playback/setParameters",{type:i,subtitleOffset:t})}function K(e,t,n){const r=(0,a.DB)("remotePlexPlayerManager"),i=k(e);r.sendCommand("/player/playback/setParameters",{type:i,autoPlay:t?1:0}),s.changeAutoPlay(e,t,n)}function $(e,t){}function X(e,t){s.setRepeat(e,t);const n=(0,a.DB)("remotePlexPlayerManager"),r=k(e),i=e.get("repeatAll"),o=e.get("repeatOne");let l=A.Hn;i&&(l=o?A.ry:A.QN),n.sendCommand("/player/playback/setParameters",{type:r,repeat:l})}function J(e){const t=(0,a.DB)("remotePlexPlayerManager"),n=k(e),r=e.get("playQueue").get("playQueueID");t.sendCommand("/player/playback/refreshPlayQueue",{type:n,playQueueID:r})}function ee(e){const t=(0,a.DB)("remotePlexPlayerManager"),n=k(e);t.sendCommand("/player/playback/refreshStreams",{type:n})}function te(e){(0,a.DB)("remotePlexPlayerManager").mirrorDetails(e)}var ne=n(41890);function re(e){const t=e.get("remotePlayer");return t?t.get("protocol")===ne.l?r:i:s}},86526:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(21256),i=n(67006),s=n(94803),a=n(69881),o=n(15634),l=n(45399),c=n(28440),d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function g(e,t){const n=t.options?((e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e})({},t.options):{},d=c.js(e,t),g=c.SW(e,t),y=t.itemProviderEntityID&&c.lp(e,{providerEntityID:t.itemProviderEntityID})||d,v=t.itemServerEntityID&&c.$w(e,{serverEntityID:t.itemServerEntityID})||g,f=function({providerModel:e,serverModel:t,itemServerModel:n,itemProviderModel:r,options:o={}}){const{containerKey:l,listType:c}=o;if(e.get("identifier")===r.get("identifier")&&t.get("machineIdentifier")===n.get("machineIdentifier"))return!0;if(c===a.TRACK&&l)return!1;const d=e.get("features").get(i.F5),u=!!d&&d.get("flavor")===s.D7&&!t.get("isCloud"),p=n.get("isShared");return!u||p}({providerModel:d,serverModel:g,itemServerModel:v,itemProviderModel:y,options:t.options});return n.serverModel=f?v:g,n.providerModel=f?y:d,(0,o.Z)(e,l.Ao)&&(n.includeExternalMedia=1),t.metadataItemEntityID&&(n.metadataItemModel=c.$R(e,t)),t.playlistMetadataItemEntityID&&(n.playlistModel=c.$R(e,{metadataItemEntityID:t.playlistMetadataItemEntityID})),t.metadataItemEntityIDs&&(n.metadataItemModels=t.metadataItemEntityIDs.map((t=>c.$R(e,{metadataItemEntityID:t})))),t.metadataListEntityID&&(n.metadataListModel=c.lK(e,t)),t.listType&&(n.type=(0,r.Z)({metadataType:t.listType})),n}},44398:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(94803),i=n(32707),s=n(96840),a=n(60316),o=n(85586),l=n(84936);var c=n(21256),d=n(67006),u=n(69881);function p(e){const{providerModel:t,itemProviderModel:n,metadataItemModel:p,metadataListModel:m,multiSelectModel:h,playQueueModel:g,smart:y,readOnly:v,recent:f}=e,b=h&&h.get("activeSelectionItems").pluck("model"),S=g?g.get("type"):(0,c.Z)({metadataItemModel:p,metadataListModel:m,metadataItemModels:b}),I=t&&t.get("features"),Z=I&&I.get(d.zg),P=Z&&Z.get("key"),E={type:(0,u.getMetadataType)(u.PLAYLIST).id,playlistType:S,smart:y?1:0,readOnly:v?1:0};f&&(E.sort="updatedAt:desc");const M={playlistType:S,containerKey:P&&l.Z.join(P,E)};return g||(M.uri=function(e){const{providerFeatureType:t,providerModel:n,itemProviderModel:c,metadataItemModel:d,metadataListModel:u,metadataItemModels:p}=e,m=n.get("features"),h=m&&m.get(t);if(h&&h.get("flavor")===r.D7){const e=(null==d?void 0:d.get("source"))?(0,a.Z)(d.get("source")).providerIdentifier:void 0,t=e&&e!==c.get("identifier")?d.get("source"):(0,o.Z)(c.server.get("machineIdentifier"),c.get("identifier")),n=d&&d.get("key")||u&&u.get("containerKey")||function(e){if(!e)return;const[t]=e;return e.some((e=>e.get("source")!==t.get("source")))?void s.Z.warn("[Playlists] universal playlists can not contain items from multiple sources"):"/library/metadata/"+e.map((e=>e.get("ratingKey"))).join(",")}(p);return l.Z.join([t,n])}return i.Z.uri(d||u||p,{items:p})}({providerFeatureType:d.zg,providerModel:t,itemProviderModel:n,metadataItemModel:p,metadataListModel:m,metadataItemModels:b})),M}},88551:(e,t,n)=>{"use strict";function r(e,t){return null==e.get("startMetadataItemEntityID")&&null!=e.get("startOffsetMilliseconds")||e.get("startMetadataItemEntityID")===t.entityID()?e.get("startOffsetMilliseconds"):t.get("viewOffset")||0}n.d(t,{Z:()=>r})},18305:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(17626);function i(e){return e.get("isOpen")?e.get("hasError")?r.pn:e.get("isPaused")?r.rf:e.get("isBuffering")?r.l9:r.Z$:r.il}},66747:(e,t,n)=>{"use strict";n.d(t,{c2:()=>y,PD:()=>v,Qt:()=>f,j7:()=>b,dY:()=>S,rt:()=>I,$h:()=>Z,O7:()=>P});var r=n(59756),i=n(34699),s=n(70468),a=n(79490),o=n(30983),l=n(27082);function c(e){const t=e.get("captureBuffer");return t&&t.startedAt}function d(e){return e.get("currentPosition")}function u(e){const t=e.get("liveTVSession");return e.get("liveTVSession")?d(t):0}function p(e){const t=e.get("liveTVSession"),n=t.get("captureBuffer");if(n){const{startedAt:e,seekStartSeconds:t,seekEndSeconds:r}=n;return{seekStartSeconds:e+t,seekEndSeconds:e+r}}const r=t.get("startedAt");return{seekStartSeconds:r+e.get("seekStartSeconds"),seekEndSeconds:r+e.get("seekEndSeconds")}}function m(e){const t=d(e);if(!t)return;const n=e.get("timeline");for(let e=0;e<n.length;e++){const r=[...n.at(e).get("Media")].sort(((e,t)=>e.endsAt-t.endsAt));for(let e=0;e<r.length;e++){const n=r[e],{beginsAt:i,endsAt:s}=n;if(i<=t&&s>t)return n}}}function h(e,t){const n=u(e),r=p(e).seekEndSeconds;return n?Math.min(r,n+t):void 0}function g(e,t){const n=u(e),r=p(e).seekStartSeconds;return n?Math.max(r,n-t):void 0}function y(e){return g(e,a.jV)}function v(e){return h(e,a.Jj)}function f(e){return g(e,a.qB)}function b(e){return h(e,a._V)}function S(e){const t=e.get("liveTVSession");if(!e.get("liveTVSession"))return;const n=p(e).seekEndSeconds,r=m(t);return r?Math.min(n,r.endsAt):void 0}function I(e){const t=e.get("liveTVSession");if(!e.get("liveTVSession"))return;const n=p(e).seekStartSeconds,r=d(t),i=m(t);if(!i)return;if(r-i.beginsAt>a.Nf)return Math.max(n,i.beginsAt);const s=function(e){const t=d(e);if(!t)return;const n=e.get("timeline");for(let e=n.length-1;e>=0;e--){const r=[...n.at(e).get("Media")].sort(((e,t)=>e.endsAt-t.endsAt));for(let e=r.length-1;e>=0;e--){const n=r[e];if(n.endsAt<=t)return n}}}(t);return s?Math.max(n,s.beginsAt):void 0}function Z(e,t){1===arguments.length&&(t=e.get("currentPosition"));const n=c(e)||e.get("startedAt");return t-n}function P(e,t,n,a){if(null==n)return;const c=(0,i.Z)(e),d=(0,o.F_)(e,t),u=d.get("liveTVSession"),p=u.get("startedAt");(0,l.c9)((()=>{if(u.set({currentPosition:n,lastSeekPosition:n}),function(e,t){const n=e.get("currentDecision");if(!n||n.isDirectPlay)return!1;const i=e.get("liveTVSession"),s=i.get("startedAt");if(!i.get("captureBuffer"))return!1;if(r.Z.shouldCreateNewSessionWhenSeekingLiveTV)return!0;const a=s+e.get("seekStartSeconds"),o=s+e.get("seekEndSeconds");return!(t>=a&&t<=o)}(d,n))u.set({startedAt:n}),a((0,s.Mf)({playerType:t,decisionOptions:{offset:1e3*Z(u)}}));else{const e=Math.max(n-p,0);c.seek(d,e)}}))}},95680:(e,t,n)=>{"use strict";n.r(t),n.d(t,{startPlayback:()=>m,endPlayback:()=>h,playNextItem:()=>g,playPreviousItem:()=>y,playItem:()=>v,play:()=>f,pause:()=>b,seek:()=>S,changeVolume:()=>I,changeQualityIndex:()=>Z,changeStream:()=>P,changeSubtitleColor:()=>E,changeSubtitlePosition:()=>M,changeSubtitleSize:()=>C,changeSubtitleOffset:()=>w,changeAutoPlay:()=>D,changePlaybackSpeed:()=>T,setRepeat:()=>O,refreshRemotePlayQueue:()=>x,refreshRemoteStreams:()=>A,mirrorDetails:()=>N});var r=n(5513),i=n(4134),s=n(44491),a=n(58698),o=n(30983),l=n(88551);let c=null;function d(e,t,n={}){const r=e.get("playQueue"),i=r.get("currentIndex"),c=r.get("playQueueSelectedItemOffset"),{isApplicationInitiated:d=!1,isRestoringPlayQueue:u=!1}=n,p=(0,o.bG)(e,t);if(!p)return;const m=p.get("metadataItem"),h={isMediaLoading:!0,isBuffering:!1,isLyricsVisible:!1,positionSeconds:Math.floor((0,l.Z)(e,m)/1e3),durationSeconds:Math.floor((m.get("duration")||0)/1e3),lastSeekPositionSeconds:null,metricsAutoPlay:d,hasError:!1,errorMessage:null,errorCode:null,errorCategory:null,qualityIndex:null,adState:null,adPositionSeconds:null,adDurationSeconds:null,adDisplayIndex:null,adDisplayTotal:null,adTimeOffsetSeconds:null,bufferedRanges:[],canPlayThrough:!1,mediaWidth:null,mediaHeight:null,confirmPlayerUpsellPayload:null};u||e.get("isWatchTogether")||r.get("type")===s.pV||(h.isPaused=!1),e.set(h),r.set({playQueueSelectedItemID:p.id,playQueueSelectedItemOffset:c+(t-i)}),(0,a.Z)()}function u(e,t){const n=e.get("playQueue"),r=n.get("length"),i=n.get("currentIndex")+t;return n.get("repeat")?(i+r)%r:Math.min(Math.max(0,i),r-1)}function p(e,t){c&&(c=window.clearTimeout(c)),e.set({lastSeekPositionSeconds:t,nextPositionSeconds:null})}function m(e,t,n){const r=e.get("playQueue");d(e,r.get("currentIndex"),{isRestoringPlayQueue:t,isApplicationInitiated:n})}function h(e){e.restoreDefaults({metricsContextTuple:e.get("metricsContextTuple")})}function g(e,t){d(e,u(e,1),{isApplicationInitiated:t})}function y(e){d(e,u(e,-1))}function v(e,t){d(e,t)}function f(e,t=!1){e.set({isPaused:!1}),(0,a.Z)()}function b(e,t=!1){e.set({isPaused:!0}),(0,a.Z)()}function S(e,t,n){n?function(e,t,n){e.set({nextPositionSeconds:t}),c&&window.clearTimeout(c),c=window.setTimeout((()=>{e.get("isOpen")&&(p(e,t),c=null)}),n)}(e,t,n):p(e,t),(0,a.Z)()}function I(e,t,n){n((0,r.T5)({volume:t}))}function Z(e,t){e.set("qualityIndex",t)}function P(e,t,n){}function E(e,t,n){n((0,i.fB)({subtitleColor:t}))}function M(e,t,n){n((0,i.Dv)({subtitlePosition:t}))}function C(e,t,n){n((0,i.dB)({subtitleSize:t}))}function w(e,t,n){}function D(e,t,n){n((0,i.R4)({autoPlay:t}))}function T(e,t){e.set("playbackSpeed",t)}function O(e,t){const n=e.get("playQueue");e.set({repeatAll:t.repeatAll,repeatOne:t.repeatOne}),n.set("repeat",t.repeatAll)}function x(e){}function A(e){}function N(e){}},58641:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>h});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(84936),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};function h(e,t={}){return e.get("isLocal")?function(e){return i().Deferred().resolve(e).promise()}(e):function(e,t={}){const{urlPath:n="",params:r={},type:s="GET"}=t,l=o.Z.join([a().result(e,"url"),n]),c=o.Z.join(l,m(m({},r),{repeat:e.get("repeat")?1:0,own:e.get("own")?1:0,includeChapters:1,includeMarkers:1,includeGeolocation:1,includeExternalMedia:1})),d=e.provider.getXHROptions(c,{type:s}),u=e.get("playQueueSelectedItemID");return e.set("isUpdatePending",!0),i().ajax(d).promise().then((t=>{e.get("own")&&"shuffle"!==n&&"unshuffle"!==n&&u&&(u!==e.get("playQueueSelectedItemID")||u!==e.parseResponse(t).playQueueSelectedItemID)||e.set(e.parse(t));const r=e.get("playQueueItems"),s=e.get("currentIndex");return s>=0&&s<r.length?i().Deferred().resolve(e).promise():i().Deferred().reject("ERROR_PLAY_QUEUE_INDEX_INVALID").promise()}),(()=>i().Deferred().reject("ERROR_PLAY_QUEUE_COULD_NOT_POPULATE").promise())).always((()=>{e.set("isUpdatePending",!1)}))}(e,t)}},65209:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(19755),i=n.n(r),s=n(67006),a=n(84936);function o(e){const{providerModel:t,type:n,title:r,smart:o=0,playlistID:l,playQueueID:c,uri:d,includeExternalMedia:u}=e,p={uri:d,playQueueID:c};u&&(p.includeExternalMedia=1),l||(p.title=r,p.smart=o?1:0,p.type=n);const m=t.get("features"),h=m&&m.get(s.zg),g=h&&h.get("key"),y=a.Z.join([g,l&&`${l}/items`],p),v=l?"PUT":"POST",f=t.getXHROptions(y,{type:v});return i().ajax(f)}},7251:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(59223),i=Object.defineProperty,s=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function c(e,t,n){const i=e.get("previousOpenState");let c=e.get("openState");return i&&!t?c=i:i&&t&&(c=void 0),((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(a)for(var n of a(t))o.call(t,n)&&l(e,n,t[n]);return e})({previousOpenState:c,openState:i&&t?i:r.K},n)}},93573:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(90697),i=n(17524);function s(e){const t=(0,r.Z)(e).get("metadataItem");return i.wB(t.provider.get("identifier"),i.vP)}},94207:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(96840);function i(e,t){const n=e.get("playQueue");return(...i)=>{if(e.get("isOpen")&&n&&n===e.get("playQueue"))return t(...i);r.Z.warn("[Player] Player was closed or a new playback session was started; ignoring callback")}}},7536:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(84936);function l(e,t){const n=e.server,r=a().result(e,"url"),s=n.getXHROptions(o.Z.join([r,"move"],{after:t}),{type:"PUT"});return i().ajax(s).promise()}},75300:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(19755),i=n.n(r),s=n(68002);function a(e,t){const n=e.get("serverShares");return n?(0,s.Z)(n.map((e=>e.fetch({merge:!0,scope:t})))):i().Deferred().resolve().promise()}},98124:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(93063);function i(e){return(0,r.Z)(e.get("user").get("features").getState())}},32869:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(70515);const i=function(e){const t=e&&e.responseJSON,n=!t&&e&&e.responseText&&r.Z.parseXML(e.responseText),i=t&&t.errors||n&&n.error;return i?Array.isArray(i)?i:[i]:[]}},45274:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(13469),i=n.n(r),s=n(46151),a=n(5562);function o(e,t){const n=e&&e[0];return n?i().isObject(n)?(0,s.Z)(n,t):n:(0,a.Z)("There was a problem signing in to Plex.")}},15634:(e,t,n)=>{"use strict";function r(e,t){return!!e.get("user").get("features").findWhere({uuid:t})}n.d(t,{Z:()=>r})},32091:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(19755),i=n.n(r);function s(e){const{user:t,friend:n,serverShare:r,librarySectionIDs:s,isNewFriend:a,isCreatingManagedUser:o,isNewServerShare:l}=e,c={machineIdentifier:r.get("machineIdentifier"),librarySectionIds:s};a&&(c.settings=n.getSaveParams()),l&&(a&&!o?c.invitedEmail=n.get("username"):c.invitedId=n.id);const d=r.url(),u=t.server.getXHROptions(d,{type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(c)});return i().ajax(u).promise()}},11203:(e,t,n)=>{"use strict";n.d(t,{wS:()=>V,Vf:()=>U,Y3:()=>k,se:()=>N,$T:()=>A,Ft:()=>z,vG:()=>j,IK:()=>L,Fl:()=>R,Zo:()=>G,tI:()=>Y,ky:()=>q,W6:()=>F,dk:()=>_,Bs:()=>B,Fj:()=>W,C_:()=>H,ZA:()=>Q});var r=n(19755),i=n.n(r),s=n(40807),a=n(93966),o=n(4920),l=n(88050),c=(n(11133),n(73004)),d=n(84936),u=n(33295),p=Object.defineProperty,m=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))m.call(t,n)&&y(e,n,t[n]);if(h)for(var n of h(t))g.call(t,n)&&y(e,n,t[n]);return e};function f(e,t){const{mediaIndex:n,streamTypeString:r,streamID:s,allParts:p,allowMetrics:m,metricsProperties:h={},updateLocalOnly:g=!1}=t,y=c.Z.get(r),f=e.provider,b=e.get("Media");let S,I;for(let e=0,t=b.length;e<t;e++){if(n>=0&&n!==e)continue;const t=b[e],r=t.Part;for(let e=0,n=r.length;e<n;e++){const n=r[e],i=n.Stream;for(let e=0,r=i.length;e<r;e++){const r=i[e];if(r.streamType===y.id&&r.id===s){S=t,I=n;break}}if(I)break}if(I)break}if(!I)return i().Deferred().reject().promise();const Z={[y.key]:s};p&&(Z.allParts=1);const P=function(e,t,n,r,i){const s=v({},n);s.Stream=n.Stream.map((e=>e.streamType!==r.id?e:e.id!==i||e.selected?e.id!==i&&e.selected?v(v({},e),{selected:!1}):e:v(v({},e),{selected:!0})));const a=v(v({},t),{Part:(0,o.Z)(t.Part,n,s)});return(0,o.Z)(e,t,a)}(b,S,I,y,s);if(e.set({Media:P,isStreamChangeInProgress:!g}),g)return i().Deferred().resolve().promise();const E=I.key.match(new RegExp(`^(.*/parts/${I.id})/`)),M=d.Z.join(E?E[1]:["/library/parts",I.id],Z),C=f.getXHROptions(M,{type:"PUT",scope:`selectMetadataItemStream--${I.id}`});u.Z.abortAll(C.scope);const w=i().ajax(C).done((()=>{e.set("isStreamChangeInProgress",!1),e.fetch({usePopulatedParams:!0})})).fail((t=>{if(t.aborting)return;const n={isStreamChangeInProgress:!1};e.get("Media")===P&&(n.Media=b),e.set(n)}));return m&&(0,a.DB)("metrics").trackClick(v(v({},h),{action:l.xs,type:e.get("type"),context:r})),w.promise()}var b=n(32901),S=n(47486),I=n(69605),Z=n(67006),P=n(17524),E=n(25474),M=n(4844),C=n(15042),w=n(28440),D=n(27082),T=n(5562),O=n(69881),x=n(32003);const A="metadata/selectMetadataItemStream",N="metadata/repopulateMetadataItem",k="metadata/removeMetadataItem",L="metadata/toggleMetadataItemSave",j="metadata/toggleMetadataItemPlexPick",R="metadata/toggleMetadataItemWatchlist",V="metadata/addMetadataItemToLibrary",U="metadata/deleteMetadataItemStream",z="metadata/setMetadataItemStreamOffset",B=(0,s.Z)(A),_=(0,s.Z)(N),F=(0,s.Z)(k),H=(0,s.Z)(L),W=(0,s.Z)(j),Q=(0,s.Z)(R),G=(0,s.Z)(V),Y=(0,s.Z)(U),q=((0,s.Z)(z),{[N](e,t){const n=(0,w.tz)(e,t);n&&n.fetch({data:{skipRefresh:1},usePopulatedParams:!0})},[k](e,t){const n=(0,w.tz)(e,t);n&&n.trigger("destroy",n,n.collection)},[A](e,t,n){const{mediaIndex:r,streamTypeString:i,streamID:s,allParts:a,metricsPage:o,updateLocalOnly:l}=t;f((0,w.$R)(e,t),{mediaIndex:r,streamTypeString:i,streamID:s,allParts:a,allowMetrics:!!o,metricsProperties:{page:o},updateLocalOnly:l}).fail((e=>{e&&e.aborting||n((0,b.wp)((0,T.Z)("There was a problem selecting this stream.")))}))},[L](e,t,n){const r=(0,w.$R)(e,t),s=(0,w.js)(e,{providerEntityID:r.get("providerEntityID")}),a=s.get("identifier"),o=P.wB(a,P.xF);let l=r.get("ratingKey");const c=r.get("grandparentRatingKey");let u;if(c&&!o){l=c;const n=r.get("grandparentKey");if(n){const r=(0,M.Z)(C.TY,n,t.serverEntityID);u=(0,w.tz)(e,{metadataItemEntityID:r})}}const p=r.get("saved"),m=!p;r.set("saved",m),u&&u.set("saved",m);const h=s.get("features").get(Z.aO).get("actions").get("save"),g=m?h.get("key"):h.get("reverseKey"),y=d.Z.join(g,{ratingKey:l}),v=s.getXHROptions(y,{type:"PUT"});i().ajax(v).then((()=>{n((0,b.jR)({serverEntityID:t.serverEntityID}))}),(()=>{r.set("saved",p),u&&u.set("saved",p)}))},[j](e,t,n){const r=(0,w.$R)(e,t),s=(0,w.js)(e,{providerEntityID:r.get("providerEntityID")}),a=r.get("ratingKey"),o=r.get("picked"),l=!o;r.set("picked",l);const c=s.get("features").get(Z.aO).get("actions").get("pick"),u=l?c.get("key"):c.get("reverseKey"),p=d.Z.join(u,{ratingKey:a}),m=s.getXHROptions(p,{type:"PUT"});i().ajax(m).then((()=>{n(_({metadataItemEntityID:t.metadataItemEntityID}))}),(e=>{const t=(0,E.Z)(e.responseText);n((0,b.wp)(t.message)),r.set("picked",o)}))},[R](e,t,n){const r=(0,w.$R)(e,t),s=(0,w.js)(e,{providerEntityID:r.get("providerEntityID")}),a=r.get("ratingKey"),o=r.get("watchlistedAt"),l=o?void 0:Date.now();r.set("watchlistedAt",l);const c=s.get("features").get(Z.aO).get("actions").get("addToWatchlist"),u=l?c.get("key"):c.get("reverseKey"),p=d.Z.join(u,{ratingKey:a}),m=s.getXHROptions(p,{type:"PUT"});i().ajax(m).then((()=>{t.metricsPage===I.Hx&&t.metricsProperties.context.includes(S.LIBRARY)?n((0,b.jR)({serverEntityID:t.serverEntityID})):n(_({metadataItemEntityID:t.metadataItemEntityID}))}),(e=>{const t=(0,E.Z)(e.responseText);n((0,b.wp)(t.message)),r.set("watchlistedAt",o)}))},[V](e,t,n){const r=(0,w.$R)(e,t),s=(0,w.SW)(e,t),a=(0,w.js)(e,{providerEntityID:r.get("providerEntityID")}),o=t.sectionKey.match(/\/library\/sections\/(\w+)/)[1],l={providers:`provider://${a.get("identifier")}`,prefs:{oneShot:1,remoteMedia:1},params:{libraryType:x.ZP.get(x.xF).typeID},targetLibrarySectionID:o,hints:{guid:r.get("guid"),ratingKey:r.get("ratingKey"),title:r.get("title"),parentTitle:r.get("parentTitle")},type:(0,O.getMetadataType)(r.get("type")).id},c=s.getXHROptions(d.Z.join("/media/subscriptions",l),{type:"POST"});i().ajax(c)},[U](e,t,n){const{streamKey:r,metadataItemEntityID:s}=t,a=(0,w.$R)(e,t);(0,D.c9)((()=>{a.set("isStreamDeleteInProgress",!0)}));const o=a.server.getXHROptions(r,{type:"DELETE"});i().ajax(o).then((()=>{a.set("isStreamDeleteInProgress",!1),n(_({metadataItemEntityID:s}))}),(e=>{a.set("isStreamDeleteInProgress",!1),n((0,b.wp)((0,T.Z)("There was a problem deleting this stream.")))}))},[z](e,t,n){const{mediaIndex:r,streamTypeString:i,streamID:s,allParts:a,metricsPage:o,updateLocalOnly:l}=t;f((0,w.$R)(e,t),{mediaIndex:r,streamTypeString:i,streamID:s,allParts:a,allowMetrics:!!o,metricsProperties:{page:o},updateLocalOnly:l}).fail((e=>{e&&e.aborting||n((0,b.wp)((0,T.Z)("There was a problem selecting this stream.")))}))}})},14179:(e,t,n)=>{"use strict";n.d(t,{_g:()=>m,o8:()=>h,yf:()=>g,NE:()=>y,cg:()=>v,Zu:()=>f,dB:()=>b,RG:()=>S,wQ:()=>I});var r=n(40807),i=n(33816),s=n(27940),a=n(28440),o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e};const m="provider/fetchCloudProviders",h="provider/populateCloudProviders",g="providers/fetchProvider",y="providers/populateProvider",v=(0,r.Z)(m),f=(0,r.Z)(h),b=(0,r.Z)(g,(e=>{const{options:t={}}=e;return p(p({},e),{options:p(p({},t),{allowHeadersInUrl:!1})})})),S=(0,r.Z)(y),I={[m]:(0,i.Z)({key:"providers",getModel:a.VX}),[h]:(0,s.Z)({key:"providers",fetchActionCreator:v,getModel:a.VX}),[g]:(0,i.Z)({getModel:a.js}),[y]:(0,s.Z)({getModel:a.js,fetchActionCreator:b})}},11736:(e,t,n)=>{"use strict";n.d(t,{VH:()=>O,N2:()=>A,Fq:()=>R,qf:()=>U,ou:()=>z,WI:()=>B,ff:()=>Q});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(89888),l=n(40807),c=n(33816),d=n(27940),u=n(67006),p=n(40822),m=n(8987),h=n(28440),g=n(27082),y=n(84936),v=n(57054);const f="provider/providerSettings/fetchProviderSettings",b="provider/providerSettings/fetchProviderSettingSelectOptions",S="provider/provderSettings/clearProviderSettingFetchError",I="provider/providerSettings/fetchProviderSettingLocationOptions",Z="provider/providerSettings/populateProviderSettingLocationOptions",P="provider/providerSettings/fetchProviderSettingLineupChannels",E="provider/providerSettings/populateProviderSettingLineupChannels",M="provider/providerSettings/fetchProviderSettingRecentChannelsInGrid",C="provider/providerSettings/populateProviderSettingRecentChannelsInGrid",w="provider/providerSettings/updateProviderSetting",D="provider/providerSettings/clearProviderSettingUpdateError",T="provider/providerSettings/populateProviderSettingOptions",O=(0,l.Z)(f),x=(0,l.Z)(b),A=(0,l.Z)(S),N=(0,l.Z)(I),k=(0,l.Z)(Z),L=(0,l.Z)(P),j=(0,l.Z)(E),R=(0,l.Z)(M),V=(0,l.Z)(C),U=(0,l.Z)(w),z=(0,l.Z)(D),B=(0,l.Z)(T);function _(e,t){return(0,h.js)(e,t).get("features").get(u.L6)}function F(e,t){return _(e,t).get("settings").get(t.settingID)}function H(e,t){switch(e.get("type")){case m.Pt:{const n=e.get("lineup"),r=new o.Z(t.map((e=>{const t=n.findWhere({id:e.id});return t.set({hidden:e.hidden}),t})));e.set("lineup",r);break}case m.Ct:{const n=e.get("locations").get(t.country);e.set({country:t.country,countryLabel:n.get("title"),postalCode:t.postalCode});break}case m.XD:a().each(t,((t,n)=>{e.get("options").get(n).set({selected:t})})),e.set("selectedCount",a().values(t).filter((e=>e)).length);break;default:e.set("value",t[e.id])}}function W(e,t,n){const r=a().mapObject(t,((e,t)=>!0===e?"1":!1===e?"0":e)),s=y.Z.join(a().result(e,"url"),{prefs:r}),o=n.getXHROptions(s,{type:"PUT"});return i().ajax(o).then((()=>{H(e,t)}))}const Q={[f]:(0,c.Z)({key:"settings",getModel:_}),[b]:(0,c.Z)({key:"options",getModel:F}),[I]:(0,c.Z)({key:"locations",getModel:F}),[Z]:(0,d.Z)({key:"locations",fetchActionCreator:N,getModel:F}),[P]:(0,c.Z)({key:"lineup",getModel:F}),[E]:(0,d.Z)({key:"lineup",fetchActionCreator:L,getModel:F}),[M]:(0,c.Z)({key:"recentChannelsInGrid",getModel:F}),[C]:(0,d.Z)({key:"recentChannelsInGrid",fetchActionCreator:R,getModel:F}),[w](e,t){const{settingID:n,values:r}=t,s=(0,h.js)(e,t),o=s.get("features").get(u.L6),l=e.get("ui").get("providerSettingsPage"),c=o.get("settings").get(n);l.set({isUpdatePending:!0,updateError:null});const d=[];if(c.get("type")===m.oG)c.get("settings").forEach((e=>{const t={[e.id]:r[e.id]};d.push(W(e,t,s))}));else if(c.get("type")===m.Pt){const e=a().result(c,"url"),t=s.getXHROptions(e,{type:"PUT",contentType:"application/json",data:JSON.stringify(r)}),n=i().ajax(t).then((()=>{H(c,r)}));d.push(n)}else c.get("type")===m.bB?(Object.keys(r).forEach((e=>{r[e]=parseInt(r[e],10)})),d.push(W(c,r,s))):d.push(W(c,r,s));i().when(...d).then((()=>{l.set({isUpdatePending:!1,updateError:null})}),(e=>{l.set({isUpdatePending:!1,updateError:(0,v.Z)(e)})}))},[D](e,t){e.get("ui").get("providerSettingsPage").set("updateError",null)},[S](e,t){F(e,t).set({optionsError:null,locationsError:null})},[T](e,t,n){const r=F(e,t),i=r.get("type");if(i===m.XD)(0,g.c9)((()=>{n(x(t))}));else if(i===m.Ct)n(k(t));else if(i===m.Pt){const e=r.get("id");e===p.Pt?n(j(t)):e===p.x8&&n(V(t))}}}},53145:(e,t,n)=>{"use strict";n.d(t,{Vr:()=>u,$Q:()=>p,R:()=>m,ay:()=>h,h9:()=>g,WV:()=>y,Cs:()=>v,mK:()=>f,Wq:()=>b,rW:()=>S,db:()=>I,RD:()=>Z,l2:()=>P,kM:()=>E,$M:()=>M,Vk:()=>C,J3:()=>w,zg:()=>D,TV:()=>T,UU:()=>O,uq:()=>x,ET:()=>A,n7:()=>N,f4:()=>k,LW:()=>L,lm:()=>j,tU:()=>R,Iy:()=>V});var r=n(13469),i=n.n(r),s=n(40807),a=n(33816),o=n(27940),l=n(32846),c=n(28440),d=n(27082);const u="server/testServer",p="server/testServers",m="server/confirmRelayConnection",h="server/addHttpFallbackConnection",g="server/startActivity",y="server/updateActivity",v="server/finishActivity",f="server/startSyntheticActivity",b="server/finishSyntheticActivity",S="server/eventConnectionOpen",I="server/eventConnectionClose",Z="server/fetchProviders",P="server/populateProviders",E="server/fetchLibraries",M="server/populateLibraries",C=(0,s.Z)(u),w=((0,s.Z)(p),(0,s.Z)(m)),D=(0,s.Z)(h),T=(0,s.Z)(g),O=(0,s.Z)(y),x=(0,s.Z)(v),A=(0,s.Z)(f),N=(0,s.Z)(b),k=(0,s.Z)(S),L=(0,s.Z)(I),j=(0,s.Z)(Z),R=((0,s.Z)(P),(0,s.Z)(E)),V=((0,s.Z)(M),{[m](e,t){},[h](e,t){},[g](e,t,n){const r=(0,c.Y7)(e,t);if(!r)return;const i=t.activity;r.get("activities").add([i],{parse:!0}),i.synthetic||n(N({serverEntityID:t.serverEntityID,activityType:i.type}))},[y](e,t){const n=(0,c.Y7)(e,t);n&&n.get("activities").add([t.activity],{parse:!0,merge:!0})},[v](e,t){const n=(0,c.Y7)(e,t);n&&n.get("activities").remove(t.activity.uuid)},[f](e,t,n){(0,d.c9)((()=>{const e={type:t.activityType,synthetic:!0,uuid:`${t.activityType}-${Date.now()}`};t.title&&(e.title=t.title),t.Context&&(e.Context=t.Context),n(T({serverEntityID:t.serverEntityID,activity:e}))}))},[b](e,t){const n=(0,c.Y7)(e,t);if(!n)return;const r=n.get("activities"),{activityType:s,Context:a,title:o}=t,l=r.findWhere((e=>e.get("type")===s&&!0===e.get("synthetic")&&(!o||e.get("title")===o)&&(!a||i().isEqual(e.get("Context"),a))));l&&r.remove(l)},[S](e,t){const n=(0,c.SW)(e,t),r=(0,c.Y7)(e,t);if(!n||!r)return;const i=r.get("activities");n.set("hasEventConnection",!0),i.fetch()},[I](e,t){const n=(0,c.SW)(e,t);n&&n.set("hasEventConnection",!1)},[Z]:(0,a.Z)({key:"providers",getModel:c.SW}),[P]:(0,o.Z)({key:"providers",fetchActionCreator:j,getModel:c.SW}),[E]:(0,a.Z)({key:"libraries",getModel:c.Y7}),[M]:(0,o.Z)({key:"libraries",fetchActionCreator:R,getModel:c.Y7}),[u](e,t){const n=(0,c.SW)(e,t);l.Z.trigger("test:server",n)},[p](){l.Z.trigger("test:servers")}})},44693:(e,t,n)=>{"use strict";n.d(t,{u0:()=>h,rg:()=>g,uM:()=>y,b4:()=>f});var r=n(95933),i=n(40807),s=n(3265),a=n(44398),o=n(65209),l=n(15634),c=n(45399),d=n(28440);const u="ui/initAddToPlaylistMenu",p="ui/clearAddToPlaylistMenu",m="ui/addToExistingPlaylist",h=(0,i.Z)(u),g=(0,i.Z)(p),y=(0,i.Z)(m);function v(e){return e.get("ui").get("addToPlaylistMenu")}const f=(0,s.Z)({[u](e,t){const n=v(e),i=(0,d.tz)(e,t),s=(0,d.Ij)(e,t),o=e.get("ui").get("multiSelect"),l=(0,d.SW)(e,t),c=(0,d.js)(e,t),u=i?(0,d.js)(e,{providerEntityID:i.get("providerEntityID")}):c,{containerKey:p,uri:m}=(0,a.Z)({providerModel:c,itemProviderModel:u,metadataItemModel:i,metadataListModel:s,multiSelectModel:o,recent:!0}),h=new r.Z({containerKey:p},{server:l,provider:c});n.set({recentPlaylists:h,uri:m})},[p](e){v(e).restoreDefaults()},[m](e,t){const n=v(e),r=(0,d.js)(e,t),i=n.get("uri"),{playlistID:s}=t,a={playlistID:s,providerModel:r,uri:i};(0,l.Z)(e,c.Ao)&&(a.includeExternalMedia=!0),(0,o.Z)(a)}})},80150:(e,t,n)=>{"use strict";n.d(t,{qq:()=>h,_D:()=>g,Ss:()=>y,A_:()=>v});var r=n(19755),i=n.n(r),s=n(93966),a=n(40807),o=n(69605),l=n(28440),c=n(27082),d=n(84936);const u="ui/advertisingNoticeModal/setAdConsent",p="ui/advertisingNoticeModal/resetAdConsent",m="ui/advertisingNoticeModal/trackAdConsentAction",h=(0,a.Z)(u),g=(0,a.Z)(p),y=(0,a.Z)(m),v={[u](e,t){const n=e.get("user"),r=e.get("ui").get("advertisingNoticeModal");(0,c.c9)((()=>{r.set({isSaving:!0})}));const s=d.Z.join(["/api/v2/user",n.get("uuid"),"settings/consent"]),a=n.server.getXHROptions(s,{type:"PUT",data:{consent:t.consent}});let o=i().ajax(a);o=o.then((()=>n.fetch())),o.then((()=>{r.set({isSaving:!1,isSaved:!0})}),(e=>{r.set({isSaving:!1,isSaved:!0});const i=Math.round(Date.now()/1e3);n.set({adsConsent:t.consent,adsConsentSetAt:i,adsConsentReminderAt:i+86400})}))},[p](e){e.get("ui").get("advertisingNoticeModal").restoreDefaults()},[m](e,{advertisingNoticePayload:t,action:n}){const r=l.js(e,t),i={page:o.LT,action:n,identifier:r.get("identifier")};if(t.metadataItemEntityID){const n=l.$R(e,t);i.type=n.get("type")}(0,s.DB)("metrics").trackClick(i)}}},28018:(e,t,n)=>{"use strict";n.d(t,{TE:()=>B,z2:()=>V,v3:()=>w,EG:()=>D,mo:()=>A,uF:()=>x,Vg:()=>L,Li:()=>R,h6:()=>j,FL:()=>O,qv:()=>T,Sg:()=>N,bZ:()=>k});var r=n(47560),i=n(93313),s=n(40807),a=n(3265),o=n(33816),l=n(27940),c=n(32901);const d=310;var u=n(28440),p=n(27082),m=n(57054);const h=1800,g="ui/channelGridPage/initChannelsGridPage",y="ui/channelGridPage/initMetadataList",v="ui/channelGridPage/setStartTime",f="ui/channelGridPage/resetStartTime",b="ui/channelGridPage/navigateTimeForward",S="ui/channelGridPage/navigateTimeBack",I="ui/channelGridPage/setViewportSize",Z="ui/channelGridPage/updateAiredProgress",P="ui/channelGridPage/populateChannelPrograms",E="ui/channelGridPage/repopulateChannelPrograms",M="ui/channelGridPage/populateChannelsList",C="ui/channelGridPage/fetchChannelsList",w=(0,s.Z)(g),D=(0,s.Z)(y),T=(0,s.Z)(v),O=(0,s.Z)(f),x=(0,s.Z)(b),A=(0,s.Z)(S),N=(0,s.Z)(I),k=(0,s.Z)(Z),L=(0,s.Z)(P),j=(0,s.Z)(E),R=(0,s.Z)(M),V=(0,s.Z)(C);function U(e){return e.get("ui").get("channelGridPage")}function z(e,t){const n=Math.floor(e/h)*h,r=[];for(let e=0;e<=t;e++)r.push(n+e*h);return r}const B=(0,a.Z)({[g](e,t,n){const r=U(e),{serverEntityID:s,providerEntityID:a,directoryKey:o}=t,l=(0,u.SW)(e,{serverEntityID:s}),c=(0,u.js)(e,{providerEntityID:a}),p={serverEntityID:s,providerEntityID:a,directoryKey:o,channelsList:new i.Z(null,{server:l,provider:c,type:d})};r.set(p),n(O())},[y](e,t,n){const{containerKey:i,serverEntityID:s,providerEntityID:a}=t,o=U(e),l=(0,u.SW)(e,{serverEntityID:s}),c=(0,u.js)(e,{providerEntityID:a}),d=o.get("metadataList");o.get("containerKey")===i&&(null==d?void 0:d.server.get("machineIdentifier"))===l.get("machineIdentifier")&&(null==d?void 0:d.provider.get("identifier"))===c.get("identifier")||o.set({containerKey:i,metadataList:new r.Z({containerKey:i},{server:l,provider:c})})},[f](e,t,n){const r=Math.floor(Date.now()/1e3);n(T(r))},[v](e,t,n){const r=U(e),i=r.get("visibleColumns"),s=z(t,i);(0,p.c9)((()=>{r.set({startTime:t,columnTimes:s})}))},[b](e,t,n){const r=U(e).get("columnTimes")[0]+h;n(T(r))},[S](e,t,n){const r=U(e).get("columnTimes")[0]-h,i=Math.floor(Date.now()/1e3)-10800;r+h>i&&n(T(r))},[I](e,t={},n){const{width:r=1,height:i=1,overflowWidth:s=0,channelWidth:a=1,channelTitleWidth:o=0}=t,l=U(e),c=Math.floor(r+s),d=Math.max(Math.floor((r-o)/a),1)+1,u=Math.floor((c-o)/d),m=z(l.get("startTime"),d);(0,p.c9)((()=>{l.set({visibleColumns:d,columnTimes:m,columnWidth:u,viewportWidth:c,viewportHeight:Math.floor(i)})}))},[Z](e){const t=U(e),n=t.get("columnTimes"),r=n[0],i=n[n.length-1]-r,s=Math.floor(Date.now()/1e3),a=Math.min(100,Math.max(0,(s-r)/i*100));(0,p.c9)((()=>{t.set({airedProgress:a})}))},[P](e){const t=U(e),n=t.get("metadataList"),r=t.get("columnTimes"),i=t.get("viewportWidth");n&&i>0&&(n.set({isPending:!0,error:null}),n.populateRange({start:r[0],end:r[r.length-1],reloadThreshold:43200}).then((()=>{n.set({isPending:!1,isPopulated:!0,error:null})}),((e,t)=>{t.aborting||n.set({isPending:!1,error:(0,m.Z)(t)})})))},[E](e){const t=U(e).get("metadataList");t.set({isPending:!0}),t.repopulateRange().then((()=>{t.set({isPending:!1,isPopulated:!0,error:null})}),((e,n)=>{n.aborting||t.set({isPending:!1,error:(0,m.Z)(n)})}))},[c._z](e,t,n){if(t.metadataItemEntityID||t.containerKeyPattern)return;const r=(0,u.SW)(e,t),i=U(e),s=i.get("metadataList"),a=i.get("channelsList");a&&s&&a.server===r&&s.server===r&&(n(j()),n(V()))},[M]:(0,l.Z)({key:"channelsList",fetchActionCreator:V,getModel:U}),[C]:(0,o.Z)({key:"channelsList",getModel:U})})},92857:(e,t,n)=>{"use strict";n.d(t,{x3:()=>C,h5:()=>w,it:()=>D,cg:()=>T,BJ:()=>O,zr:()=>N});var r=n(95933),i=n(40807),s=n(3265),a=n(44398),o=n(65209),l=n(15634),c=n(45399),d=n(32707),u=n(28440),p=n(30983),m=n(27082),h=n(57054),g=Object.defineProperty,y=Object.prototype.hasOwnProperty,v=Object.getOwnPropertySymbols,f=Object.prototype.propertyIsEnumerable,b=(e,t,n)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||(t={}))y.call(t,n)&&b(e,n,t[n]);if(v)for(var n of v(t))f.call(t,n)&&b(e,n,t[n]);return e};const I="ui/modal/initAddToPlaylistModal",Z="ui/modal/clearAddToPlaylistModal",P="ui/modal/selectDestination",E="ui/modal/createPlaylist",M="ui/modal/addToPlaylist",C=(0,i.Z)(I),w=(0,i.Z)(Z),D=(0,i.Z)(P),T=(0,i.Z)(E),O=(0,i.Z)(M);function x(e){return e.get("ui").get("addToPlaylistModal")}function A(e,t){(0,m.c9)((()=>{e.set({isUpdating:!0,error:null})})),(0,o.Z)(t).then((()=>{e.set({isUpdating:!1})}),(t=>{e.set({isUpdating:!1,error:(0,h.Z)(t)})}))}const N=(0,s.Z)({[I](e,t,n){const r=x(e);let i,s,a,o,l="";if(t.metadataItemEntityID)i=(0,u.$R)(e,t),l=d.Z.title(i);else if(t.metadataListEntityID)s=(0,u.lK)(e,t),l=d.Z.title(s);else if(t.playQueueID)o=(0,p.RZ)(e,t.playQueueID);else{a=e.get("ui").get("multiSelect");const t=a.get("activeSelectionItems").pluck("model");l=d.Z.title(t,{items:t})}r.set({title:l,smart:t.smart,metadataItem:i,metadataList:s,multiSelect:a,playQueue:o}),n(D(t))},[Z](e){x(e).restoreDefaults()},[P](e,t){const n=x(e),i=(0,u.SW)(e,t),s=(0,u.js)(e,t),o=n.get("metadataItem"),l=n.get("metadataList"),c=n.get("multiSelect"),d=n.get("playQueue"),p=n.get("smart"),m=o?(0,u.js)(e,{providerEntityID:o.get("providerEntityID")}):s,{containerKey:h,playlistType:g,uri:y}=(0,a.Z)({providerModel:s,itemProviderModel:m,metadataItemModel:o,metadataListModel:l,multiSelectModel:c,playQueueModel:d}),v=new r.Z({containerKey:h},{server:i,provider:s});n.set({server:i,provider:s,type:g,smart:p,containerKey:h,uri:y,playlists:v})},[E](e,t){const n=x(e),r=n.get("provider"),i=n.get("playQueue"),{formData:s}=t;let a=n.pick("type","title","uri","smart");a=S(S({},a),s),a.providerModel=r,i&&(a.playQueueID=i.get("playQueueID")),(0,l.Z)(e,c.Ao)&&(a.includeExternalMedia=!0),A(n,a)},[M](e,{playlistID:t}){const n=x(e),r=n.get("provider"),i=n.get("playQueue"),s={playlistID:t,providerModel:r,uri:n.get("uri")};i&&(s.playQueueID=i.get("playQueueID")),(0,l.Z)(e,c.Ao)&&(s.includeExternalMedia=!0),A(n,s)}})},84656:(e,t,n)=>{"use strict";n.d(t,{K5:()=>N,K7:()=>O,NJ:()=>j,XK:()=>L,np:()=>T,yd:()=>V,kB:()=>k,eU:()=>A});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(14794),l=n(66390),c=n(40807),d=n(3265),u=n(33816),p=n(28440),m=n(7536),h=n(20023),g=n(5562);function y(e,t){let n;return n=401===e.status?(0,g.Z)("You do not have permission to perform this action."):(0,h.Z)(e,t),n}var v=n(27082),f=n(69881),b=n(84936);const S="ui/modal/initMediaSubscriptionModal",I="ui/modal/clearMediaSubscriptionModal",Z="ui/modal/fetchMediaSubscription",P="ui/modal/saveMediaSubscription",E="ui/modal/changeMediaSubscriptionTemplateMode",M="ui/modal/clearMediaSubscriptionModalError",C="ui/modal/moveMediaSubscriptionModal",w="ui/modal/deleteMediaSubscriptionModal",D="ui/modal/deleteMediaGrabOperationsModal",T=(0,c.Z)(S),O=(0,c.Z)(I),x=(0,c.Z)(Z),A=(0,c.Z)(P),N=(0,c.Z)(E),k=((0,c.Z)(M),(0,c.Z)(C)),L=(0,c.Z)(w),j=(0,c.Z)(D);function R(e){return e.get("ui").get("mediaSubscriptionModal")}const V=(0,d.Z)({[S](e,t,n){const r=R(e);r.set("isMediaSubscriptionPending",!0);const s={};if(t.showConflicts&&(s.options={data:{includeGrabs:1}}),t.mediaSubscriptionEntityID)return r.set({mediaSubscription:(0,p.xS)(e,t)}),void n(x(s));const a=(0,p.SW)(e,t),c=(0,p.$R)(e,t),d=c.get("grandparentSubscriptionID")||c.get("subscriptionID");if(d)return r.set({mediaSubscription:new o.Z({key:d},{server:a})}),void n(x(s));const u=b.Z.join("/media/subscriptions/template",{guid:c.get("guid")}),m=a.getXHROptions(u);i().ajax(m).then((e=>{const t={parse:!0,server:a},n=new l.Z(e,t),i=n.findWhere({selected:!0});r.set({isMediaSubscriptionPending:!1,isMediaSubscriptionPopulated:!0,mediaSubscriptionError:null,templates:n,mediaSubscription:i})}),(e=>{const t=y(e,(0,g.Z)("There was an unexpected error"));r.set({isMediaSubscriptionPending:!1,mediaSubscriptionError:t})}))},[I](e){R(e).restoreDefaults()},[Z]:(0,u.Z)({key:"mediaSubscription",getModel:R}),[P](e,t){const n=R(e),r=(0,p.SW)(e,t),s=n.get("mediaSubscription"),{targetLibrarySectionID:o,targetSectionLocationID:l=null,prefs:c}=t;(0,v.c9)((()=>{n.set({isMediaSubscriptionSaving:!0,mediaSubscriptionSaveError:null})}));const d=s.get("key"),u=s.getSaveParams(),m=i().extend(!0,{},u,{includeGrabs:1,targetLibrarySectionID:o,targetSectionLocationID:l,prefs:c});let h=b.Z.join(a().result(s,"url"),m);if(!d){const e=(0,f.getMetadataType)(s.get("hint").get("type"));h=h+"&"+s.get("parameters")+"&type="+e.id}const S=r.getXHROptions(h,{type:d?"PUT":"POST"});i().ajax(S).then((r=>{if(s.set(s.parse(r)),n.set({isMediaSubscriptionSaving:!1}),t.metadataItemEntityID){const n=(0,p.$R)(e,t);if(n){const e=s.get("hint").get("type"),t=(0,f.isParentType)(e),r=t?"grandparentSubscriptionID":"subscriptionID",i=t?"grandparentSubscriptionType":"subscriptionType";n.set({[r]:s.id,[i]:e})}}}),(e=>{const t=y(e,(0,g.Z)("There was a problem saving your changes. Please try again."));n.set({isMediaSubscriptionSaving:!1,mediaSubscriptionSaveError:t})}))},[E](e,t){const n=R(e),r=n.get("templates"),{modeIndex:i}=t;n.set("mediaSubscription",r.at(i))},[M](e,t){R(e).set({mediaSubscriptionSaveError:null,mediaSubscriptionError:null,mediaSubscriptionMoveError:null,mediaSubscriptionDeleteError:null})},[C](e,t){const n=R(e),r=n.get("mediaSubscription");(0,v.c9)((()=>{n.set({isMediaSubscriptionMoving:!0,mediaSubscriptionMoveError:null})})),(0,m.Z)(r).then((()=>{n.set({isMediaSubscriptionMoving:!1})}),(e=>{const t=y(e,(0,g.Z)("There was a problem saving your changes. Please try again."));n.set({isMediaSubscriptionMoving:!1,mediaSubscriptionMoveError:t})}))},[w](e,t,n){const r=R(e),i=r.get("mediaSubscription"),{metadataItemEntityID:s}=t;(0,v.c9)((()=>{r.set({isMediaSubscriptionDeleting:!0,mediaSubscriptionDeleteError:null})})),function(e,{appModel:t,metadataItemEntityID:n}={}){const r=e.get("key");let i=e.destroy({wait:!0});return n&&(i=i.then((()=>{if(n){const e=(0,p.$R)(t,{metadataItemEntityID:n});e.get("subscriptionID")===r?(e.unset("subscriptionID"),e.unset("subscriptionType")):e.get("grandparentSubscriptionID")===r&&(e.unset("grandparentSubscriptionID"),e.unset("grandparentSubscriptionType"))}}))),i}(i,{appModel:e,metadataItemEntityID:s}).then((()=>{r.set({isMediaSubscriptionDeleting:!1})}),(e=>{const t=y(e,(0,g.Z)("There was a problem with canceling this subscription. Please try again."));r.set({isMediaSubscriptionDeleting:!1,mediaSubscriptionDeleteError:t})}))},[D](e,t){const n=R(e),r=n.get("mediaSubscription");var s;(0,v.c9)((()=>{n.set({isMediaSubscriptionDeleting:!0,mediaSubscriptionDeleteError:null})})),(s=r.get("grabOperations"),i().when(...s.map((e=>e.destroy({wait:!0})))).then((()=>{}))).then((()=>{n.set({isMediaSubscriptionDeleting:!1})}),(e=>{const t=y(e,(0,g.Z)("There was a problem with modifying this subscription. Please try again."));n.set({isMediaSubscriptionDeleting:!1,mediaSubscriptionDeleteError:t})}))}})},34007:(e,t,n)=>{"use strict";n.d(t,{Zh:()=>te,pg:()=>ce,T:()=>le,lO:()=>ee,oW:()=>J,Wm:()=>he,o1:()=>re,oA:()=>ie,O7:()=>oe,QJ:()=>se,wW:()=>ae,lS:()=>X,H5:()=>de,NO:()=>ne});var r=n(19755),i=n.n(r),s=n(93966),a=n(36740),o=n(40807),l=n(21256),c=n(86526),d=n(66747),u=n(7251),p=n(14e3),m=n(20023),h=n(5562);function g(e,t,n,r){const s=e.server.get("isCloud"),a=s?`/channels/${n}/tune`:`/livetv/dvrs/${t}/channels/${n}/tune`,o={method:"POST",headers:{"X-Plex-Session-Identifier":r.playbackSessionID},timeout:p.EH};return i().ajax(s?e.provider.getXHROptions(a,o):e.server.getXHROptions(a,o)).then(((r,a,o)=>{e.set(e.parse(r));const l=e.get("grabOperation");if(!l){const e=(0,m.Z)(o,(0,h.Z)("Could not tune channel"));return i().Deferred().reject({errorMessage:e}).promise()}const c=l.get("metadataItem"),d=c.get("Media")[l.get("mediaIndex")],u=l.get("conflicts"),p=o.getResponseHeader("X-Plex-Activity"),g=l.get("beginsAt"),y=c.get("transcodeSession"),v={dvrID:t,channelIdentifier:n,activityUUID:p,currentPosition:g,startedAt:g};let f=!1;if(y){const t=y.get("timeStamp"),n=y.get("minOffsetAvailable"),r=y.get("maxOffsetAvailable");if(t&&null!=n&&null!=r){v.captureBuffer={startedAt:t,seekStartSeconds:n,seekEndSeconds:r};const i=t+n,s=e.get("timeline").toJSON().reduce(((e,t)=>e||t.Media.find((e=>e.onAir))),null).beginsAt,a=Math.max(i,s);Date.now()/1e3-a>60&&(f=!0)}}if(e.set(v),s)return i().Deferred().resolve(e).promise();if(u&&u.length)return i().Deferred().reject({hasConflicts:!0,liveTVSession:e}).promise();if(!p)return i().Deferred().reject({errorMessage:(0,h.Z)("Could not tune channel (No activity)")}).promise();const b=d&&d.Part;return b&&b.length?(c.set("isPreFetched",!0),f?i().Deferred().reject({confirmPlayback:f,liveTVSession:e}).promise():i().Deferred().resolve(e).promise()):i().Deferred().reject({errorMessage:(0,h.Z)("Could not tune channel (No parts)")}).promise()}),((e,t)=>"abort"===t?i().Deferred().reject({errorMessage:(0,h.Z)("Could not tune channel (Timed out)")}).promise():i().Deferred().reject({errorMessage:(0,h.Z)("Could not tune channel")}).promise()))}var y=n(98124),v=n(53145),f=n(12304),b=n(96335),S=n(59223),I=n(52837),Z=n(1997),P=n(66729),E=n(36535),M=n(9010),C=n(28440),w=n(30983),D=n(27082),T=n(57054),O=n(79932),x=Object.defineProperty,A=Object.prototype.hasOwnProperty,N=Object.getOwnPropertySymbols,k=Object.prototype.propertyIsEnumerable,L=(e,t,n)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,j=(e,t)=>{for(var n in t||(t={}))A.call(t,n)&&L(e,n,t[n]);if(N)for(var n of N(t))k.call(t,n)&&L(e,n,t[n]);return e};const R="ui/player/liveTVPlayer/startLiveTVPlayback",V="ui/player/liveTVPlayer/endLiveTVPlayback",U="ui/player/liveTVPlayer/confirmLiveTVPlayback",z="ui/player/liveTVPlayer/cancelConfirmLiveTVPlayback",B="ui/player/liveTVPlayer/updatePlayerLiveTVMetadata",_="ui/player/liveTVPlayer/playNextItem",F="ui/player/liveTVPlayer/playPreviousItem",H="ui/player/liveTVPlayer/skipBack",W="ui/player/liveTVPlayer/skipForward",Q="ui/player/liveTVPlayer/stepBack",G="ui/player/liveTVPlayer/stepForward",Y="ui/player/liveTVPlayer/seek",q="ui/player/liveTVPlayer/clearPlayerConflicts",K="ui/player/liveTVPlayer/cancelMediaGrabber",$="ui/player/liveTVPlayer/togglePlayerAlsoAiringState",X=(0,o.Z)(R),J=(0,o.Z)(V),ee=(0,o.Z)(U),te=(0,o.Z)(z),ne=(0,o.Z)(B),re=(0,o.Z)(_),ie=(0,o.Z)(F),se=(0,o.Z)(H),ae=(0,o.Z)(W),oe=((0,o.Z)(Q),(0,o.Z)(G),(0,o.Z)(Y)),le=(0,o.Z)(q),ce=(0,o.Z)(K),de=(0,o.Z)($);function ue(e,t){const n=Math.floor(Date.now()/1e3);return e.get("Media").find((e=>{const r=e.beginsAt<=n&&n<=e.endsAt,i=!t||e.channelIdentifier===t;return r&&i}))}function pe(e){const t=ue(e);return t?t.channelIdentifier:void 0}function me(e,t){const n=(0,w.F_)(e,t).get("liveTVSession");n&&n.set("lastSeekPosition",n.get("currentPosition"))}const he={[R](e,t,n){const{serverEntityID:r,providerEntityID:i}=t,o=Date.now(),d=(0,c.Z)(e,t),u=(0,l.Z)(d),p=I.f_(u),m=(0,w.F_)(e,p),v=C.SW(e,t),f=C.js(e,{providerEntityID:i}),T=f.get("parentID"),x=d.metadataItemModel,A=(0,E.Z)(f.get("identifier"),f.get("providerIdentifier"));let N=null;if(x?N=ue(x,d.identifier):d.identifier&&(N={channelIdentifier:d.identifier,beginsAt:Math.floor(Date.now()/1e3)}),!N)return void(0,D.c9)((()=>{m.restoreDefaults({hasError:!0,errorMessage:(0,h.Z)("Unable to tune channel (Not on air)")})}));const k=e.get("remotePlayer");if(k&&!(0,M.Z)({protocol:k.get("protocol"),protocolCapabilities:k.get("protocolCapabilities"),providerIdentifier:A,userFeaturesByUUID:(0,y.Z)(e)}))return void(0,D.c9)((()=>{m.set({hasError:!0,errorMessage:(0,h.Z)("Live TV is not currently supported when connected to a remote player.")})}));(0,D.c9)((()=>{m.restoreDefaults({serverEntityID:r,providerEntityID:i,isOpen:!0,openState:S.K,isPlayQueueLoading:!0,isMediaLoading:!0,playbackStartTime:o})}));const L=new a.Z({},{server:v,provider:f}),R=N.channelIdentifier;g(L,T,R,{playbackSessionID:m.get("playbackSessionID")}).done((()=>{m.set("liveTVSession",L);const e=L.get("grabOperation").get("metadataItem");n((0,O.wA)(j(j({},t),{liveTVSessionEntityID:L.entityID(),metadataItemEntityID:e.entityID(),playbackStartTime:o,options:{offset:void 0}})))})).fail((e=>{const{confirmPlayback:t,hasConflicts:n,errorMessage:a}=e;if(t)m.restoreDefaults({serverEntityID:r,providerEntityID:i,liveTVSession:L,confirmLiveTVPlayback:t});else if(n)m.restoreDefaults({serverEntityID:r,providerEntityID:i,liveTVSession:L,hasConflicts:n});else{const e=v.getState();(0,s.DB)("metrics").trackEvent({event:b.NY,interaction:!0,properties:{serverType:(0,P.Z)(e),connectionType:(0,Z.Z)(e.activeConnection),error:"tuneFailed",identifier:R}}),m.restoreDefaults({hasError:!0,errorMessage:a})}}))},[V](e,t,n){const{playerType:r,showError:i}=t,s=(0,w.F_)(e,r);i?s.restoreDefaults({hasError:!0,errorMessage:(0,h.Z)("This live TV session has ended due to a recording conflict")}):n((0,O.Mh)({playerType:r}))},[U](e,t,n){const{playerType:r,serverEntityID:i,providerEntityID:s,offset:a}=t,o=(0,w.F_)(e,r).get("liveTVSession"),l=o.get("captureBuffer"),c=o.get("grabOperation").get("metadataItem");if(null!=a){const e=l.startedAt+Math.floor(a/1e3);o.set({currentPosition:e,lastSeekPosition:e})}n((0,O.wA)({serverEntityID:i,providerEntityID:s,liveTVSessionEntityID:o.entityID(),metadataItemEntityID:c.entityID(),startOffsetMilliseconds:a}))},[z](e,{playerType:t}){const n=(0,w.F_)(e,t);(0,D.c9)((()=>{n.restoreDefaults()}))},[B](e,t){const{serverEntityID:n,playerType:r}=t,i=(0,w.F_)(e,r),s=i.get("liveTVSession");if(!s||i.get("serverEntityID")!==n)return;const a=s.get("dvrID"),o=s.get("channelIdentifier");g(s,a,o,{playbackSessionID:i.get("playbackSessionID")})},[_](e,{playerType:t},n){const r=(0,w.F_)(e,t),i=d.dY(r);d.O7(e,t,i,n)},[F](e,{playerType:t},n){const r=(0,w.F_)(e,t),i=d.rt(r);d.O7(e,t,i,n)},[H](e,{playerType:t},n){const r=(0,w.F_)(e,t),i=d.c2(r);d.O7(e,t,i,n)},[W](e,{playerType:t},n){const r=(0,w.F_)(e,t),i=d.PD(r);d.O7(e,t,i,n)},[Q](e,{playerType:t},n){const r=(0,w.F_)(e,t),i=d.Qt(r);d.O7(e,t,i,n)},[G](e,{playerType:t},n){const r=(0,w.F_)(e,t),i=d.j7(r);d.O7(e,t,i,n)},[Y](e,t,n){const{playerType:r,seekPosition:i}=t;d.O7(e,r,i,n)},[q](e,{playerType:t}){const n=(0,w.F_)(e,t);(0,D.c9)((()=>{n.set({hasConflicts:!1})}))},[K](e,t,n){const{playerType:r,grabOperationKey:s}=t,a=(0,w.F_)(e,r),o=a.get("serverEntityID"),l=C.SW(e,{serverEntityID:o}),c=a.get("liveTVSession").get("grabOperation").get("metadataItem"),d=!a.get("isOpen");if(d&&!pe(c))return void a.restoreDefaults({hasError:!0,errorMessage:(0,h.Z)("Unable to cancel conflict, please try again.")});(0,D.c9)((()=>{a.set({isConflictCancelling:!0})}));const u=l.getXHROptions(s,{type:"DELETE"});i().ajax(u).done((e=>{if(a.set({hasConflicts:!1,isConflictCancelling:!1,cancelConflictError:null}),d){const e=a.get("providerEntityID");if(!pe(c))return void a.restoreDefaults({hasError:!0,errorMessage:(0,h.Z)("Unable to tune channel after canceling a conflict, please try again.")});n(X({serverEntityID:o,providerEntityID:e,metadataItemEntityID:c.entityID(),playerType:r}))}})).fail((e=>{a.set({isConflictCancelling:!1,cancelConflictError:(0,T.Z)(e)})}))},[v.WV](e,t){const{serverEntityID:n,activity:r}=t,i=(0,w.F_)(e,I.Se),s=i.get("liveTVSession");if(s&&i.get("serverEntityID")===n&&s.get("activityUUID")===r.uuid&&r.Context){const e=!!r.Context.conflicts,t=i.get("hasConflicts");if(e&&!t){const e=s.get("dvrID"),t=s.get("channelIdentifier");g(s,e,t,{playbackSessionID:i.get("playbackSessionID")}).fail((({hasConflicts:e})=>{e&&i.set({hasConflicts:!0})}))}else!e&&t&&i.set({hasConflicts:!1})}},[v.Cs](e,t,n){const{serverEntityID:r,activity:i}=t,s=(0,w.F_)(e,I.Se),a=s.get("liveTVSession");if(a&&s.get("serverEntityID")===r&&a.get("activityUUID")===i.uuid){let e=(0,h.Z)("This live TV session has ended");i.Response&&i.Response.errorText?e=i.Response.errorText:s.get("hasConflicts")&&(e=(0,h.Z)("This live TV session has ended due to a recording conflict")),s.restoreDefaults({hasError:!0,errorMessage:e})}},[$](e,{playerType:t}){const n=(0,w.F_)(e,t),r=n.get("isAlsoAiringVisible");(0,D.c9)((()=>{n.set((0,u.Z)(n,r,{isSettingsVisible:!1,isChaptersVisible:!1,isAlsoAiringVisible:!r,isLyricsVisible:!1}))}))},[f.VR](e,{playerType:t}){me(e,t)},[f.RB](e,{playerType:t}){me(e,t)},[f.BB](e,{playerType:t,positionSeconds:n}){const r=(0,w.F_)(e,t),i=r.get("liveTVSession");if(!i)return;const s=r.get("serverEntityID");if(C.SW(e,{serverEntityID:s}).get("isCloud"))(0,D.c9)((()=>{const e=r.get("playbackStartTime"),t=r.get("sessionPlaybackTime");i.set({currentPosition:Math.floor((e+t)/1e3)})}));else{const e=i.get("startedAt"),t=i.get("lastSeekPosition"),r=e+n;r>t&&(0,D.c9)((()=>{i.set({currentPosition:r,lastSeekPosition:null})}))}}}},25043:(e,t,n)=>{"use strict";n.d(t,{GY:()=>c,BG:()=>d});var r=n(70519),i=n(40807),s=n(3265),a=n(30983),o=n(84936);const l="ui/player/photoPlayer/fetchRelatedPhotos",c=(0,i.Z)(l),d=(0,s.Z)({[l](e){const t=(0,a.F_)(e,"photo"),n=t.get("playQueue").get("currentIndex"),i=(0,a.bG)(t,n).get("metadataItem"),s=i.get("key"),l=o.Z.join([s.replace("/library/","/hubs/"),"related"]),c=new r.Z([],{server:i.server,provider:i.provider,metadataItem:i,hubKey:l,hubCount:8});t.set({relatedHubs:c}),i.get("isLibraryItem")&&c.fetch()}})},35421:(e,t,n)=>{"use strict";n.d(t,{jB:()=>v,Qi:()=>f,_7:()=>b,Q2:()=>S,U8:()=>I,$D:()=>Z,zG:()=>P,Xq:()=>E,hl:()=>M,x8:()=>C,QS:()=>w,A0:()=>D,Er:()=>T,x7:()=>O,xJ:()=>x,dU:()=>A,q$:()=>N,Ux:()=>k,Zp:()=>L,o1:()=>j,oA:()=>R,gP:()=>V,$Y:()=>U,Yj:()=>z,ul:()=>B,ZD:()=>_,Sp:()=>F,HI:()=>H,D5:()=>W,Ie:()=>Q,KA:()=>G,FX:()=>Y,yg:()=>q,Ai:()=>K,NN:()=>$,n5:()=>X,dP:()=>J,Yb:()=>ee});var r=n(40807),i=n(34699),s=n(58641),a=n(7251),o=n(93573),l=n(94207),c=n(79490),d=n(17524),u=n(96840),p=n(28440),m=n(30983),h=n(27082),g=n(84936),y=n(79932);const v="ui/player/playQueue/playNextItem",f="ui/player/playQueue/playPreviousItem",b="ui/player/playQueue/playItemByIndex",S="ui/player/playQueue/playItemByKey",I="ui/player/playQueue/playItemByID",Z="ui/player/playQueue/toggleShuffle",P="ui/player/playQueue/setRepeat",E="ui/player/playQueue/toggleRepeat",M="ui/player/playQueue/setAutoPlay",C="ui/player/playQueue/showPostPlay",w="ui/player/playQueue/togglePlayerPlayQueueState",D="ui/player/playQueue/togglePlayerLyricsState",T="ui/player/playQueue/fetchPlayQueueItemLyrics",O="ui/player/playQueue/movePlayQueueItem",x="ui/player/playQueue/removePlayQueueItem",A="ui/player/playQueue/fetchPlayQueue",N="ui/player/playQueue/savePlayQueueState",k="ui/player/playQueue/removePlayQueueState",L="ui/player/playQueue/restorePlayQueue",j=(0,r.Z)(v),R=(0,r.Z)(f),V=(0,r.Z)(b),U=(0,r.Z)(S),z=((0,r.Z)(I),(0,r.Z)(Z)),B=(0,r.Z)(P),_=(0,r.Z)(E),F=(0,r.Z)(M),H=(0,r.Z)(C),W=(0,r.Z)(w),Q=(0,r.Z)(D),G=(0,r.Z)(T),Y=(0,r.Z)(O),q=(0,r.Z)(x),K=(0,r.Z)(A),$=(0,r.Z)(N),X=(0,r.Z)(k),J=(0,r.Z)(L),ee={[v](e,{playerType:t,isApplicationInitiated:n}){const r=(0,m.F_)(e,t),s=(0,i.Z)(e);(0,o.Z)(r)||(0,h.c9)((()=>{r.get("isPostPlayVisible")&&r.set({isPostPlayVisible:!1}),s.playNextItem(r,n)}))},[f](e,{playerType:t}){const n=(0,m.F_)(e,t),r=(0,i.Z)(e);(0,o.Z)(n)||(0,h.c9)((()=>{n.set({isPostPlayVisible:!1}),n.get("positionSeconds")>c.Nf?(r.seek(n,0),r.play(n)):r.playPreviousItem(n)}))},[b](e,{playerType:t,index:n}){const r=(0,m.F_)(e,t),s=(0,i.Z)(e);(0,h.c9)((()=>{s.playItem(r,n)}))},[S](e,{playerType:t,key:n},r){const i=(0,m.F_)(e,t).get("playQueue").get("playQueueItems"),s=i.find((e=>n===e.get("metadataItem").get("key")));if(s){const e=i.indexOf(s);r(V({playerType:t,index:e}))}else u.Z.warn(`[Player] Unable to play unknown key "${n}"`)},[I](e,{playerType:t,playQueueItemID:n},r){const i=(0,m.F_)(e,t).get("playQueue").get("playQueueItems"),s=i.get(n);if(s){const e=i.indexOf(s);r(V({playerType:t,index:e}))}else u.Z.warn(`[Player] Unable to play unknown PlayQueueItemID "${n}"`)},[Z](e,t,n){const{playerType:r}=t,a=(0,m.F_)(e,r),o=a.get("playQueue");(0,h.c9)((()=>{const t=!o.get("playQueueShuffled");o.set("playQueueShuffled",t);const c=t?"shuffle":"unshuffle";(0,s.ZP)(o,{urlPath:c,type:"PUT"}).done((0,l.Z)(a,(()=>{const t=(0,i.Z)(e);n($({playerType:r})),t.refreshRemotePlayQueue(a)}))).fail((0,l.Z)(a,(()=>{o.set("playQueueShuffled",!t)})))}))},[P](e,{playerType:t,repeatAll:n,repeatOne:r},a){const o=(0,m.F_)(e,t),c=o.get("playQueue"),d=(0,i.Z)(e);(0,h.c9)((()=>{d.setRepeat(o,{repeatAll:n||r,repeatOne:r}),(0,s.ZP)(c).done((0,l.Z)(o,(()=>{a($({playerType:t}))}))).fail((0,l.Z)(o,(()=>{c.set({repeatAll:!1,repeatOne:!1}),c.set("repeat",!1)})))}))},[E](e,{playerType:t},n){const r=(0,m.F_)(e,t),i=r.get("repeatAll"),s=r.get("repeatOne");n(B({playerType:t,repeatAll:!i||!s,repeatOne:i&&!s}))},[M](e,{playerType:t,autoPlay:n},r){const s=(0,m.F_)(e,t);(0,i.Z)(e).changeAutoPlay(s,n,r)},[C](e,{playerType:t},n){const r=(0,m.F_)(e,t),s=(0,i.Z)(e),a=r.get("playQueue"),o=(0,m.bG)(r,a.get("currentIndex")),c=o.get("postPlay"),u=a.provider.id,p=()=>{r.set({isSettingsVisible:!1,isChaptersVisible:!1,isPostPlayLoading:!1,isPostPlayVisible:!0}),s.pause(r,!0)};r.set({isPostPlayLoading:!0}),d.wB(u,d.Y3)||o.get("displayPostplay")?c.fetch().then((0,l.Z)(r,(()=>{const e=c.findWhere({upNext:!0});e&&c.remove(e),p()})),(0,l.Z)(r,p)):window.setTimeout((0,l.Z)(r,p),0)},[w](e,{playerType:t}){const n=(0,m.F_)(e,t),r=n.get("isPlayQueueVisible");(0,h.c9)((()=>{n.set((0,a.Z)(n,r,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!r,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!1}))}))},[D](e,{playerType:t}){const n=(0,m.F_)(e,t),r=n.get("isLyricsVisible");(0,h.c9)((()=>{n.set((0,a.Z)(n,r,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!r,isSubtitlesOffsetSettingsVisible:!1}))}))},[T](e,t,n){const{streamID:r}=t,i=(0,p.xl)(e,t),s=i.get("metadataItem"),a=(0,p.lp)(e,{providerEntityID:s.get("providerEntityID")});if(!a)return;const o=i.get("lyricsStreams").get(r);o.set("lyricsError",null),o.fetch({merge:!0,server:a}).fail((e=>{o.set("lyricsError",e)}))},[O](e,t,n){const{playerType:r,playQueueItemEntityID:a,moveIndex:o}=t,c=(0,m.F_)(e,r),d=c.get("playQueue"),u=(0,p.xl)(e,{playQueueItemEntityID:a}),y=d.get("playQueueItems"),v=y.indexOf(u);if(v===o||v===o-1)return;const f=o>v?o-1:o,b=o>0?y.at(o-1).id:void 0,S=g.Z.join(["items",u.id,"move"]),I={after:b};(0,h.c9)((()=>{y.remove(u),y.add(u,{at:f}),(0,s.ZP)(d,{urlPath:S,params:I,type:"PUT"}).done((0,l.Z)(c,(()=>{const t=(0,i.Z)(e);n($({playerType:r})),t.refreshRemotePlayQueue(c)}))).fail((0,l.Z)(c,(()=>{y.indexOf(u)===f&&(y.remove(u),y.add(u,{at:v}))})))}))},[x](e,{playerType:t,playQueueItemEntityID:n},r){const a=(0,m.F_)(e,t),o=a.get("playQueue"),c=o.get("playQueueItems"),d=(0,p.xl)(e,{playQueueItemEntityID:n}),u=c.indexOf(d),y=g.Z.join(["items",d.id]);(0,h.c9)((()=>{c.remove(d),(0,s.ZP)(o,{urlPath:y,type:"DELETE"}).done((0,l.Z)(a,(()=>{const n=(0,i.Z)(e);r($({playerType:t})),n.refreshRemotePlayQueue(a)}))).fail((0,l.Z)(a,(()=>{c.add(d,{at:u})})))}))},[A](e,{playerType:t}){const n=(0,m.F_)(e,t).get("playQueue");(0,s.ZP)(n)},[N](e,{playerType:t}){},[k](e){},[L](e,t,n){const{serverEntityID:r,providerEntityID:i,playQueueType:s,playQueueOffset:a,playQueueRepeat:o,playQueueID:l,next:c}=t,d={serverEntityID:r,providerEntityID:i,startOffsetMilliseconds:1e3*a,options:{type:s,playQueueRepeat:o,playQueueID:l,next:c}};n((0,y.tP)(d))}}},20224:(e,t,n)=>{"use strict";n.d(t,{jn:()=>h,wo:()=>g,Rp:()=>y});var r=n(40807),i=n(59223),s=n(30983),a=n(27082),o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e};const m="ui/player/playerControls/togglePlayerOpenState",h=((0,r.Z)(m),(0,r.Z)(m,(e=>p(p({},e),{openState:i.K})))),g=(0,r.Z)(m,(e=>p(p({},e),{openState:i.y}))),y={[m](e,{playerType:t,openState:n}){const r=(0,s.F_)(e,t);(0,a.c9)((()=>{r.set({previousOpenState:void 0,openState:n,isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1})}))}}},70468:(e,t,n)=>{"use strict";n.d(t,{bY:()=>Ze,kG:()=>Pe,wy:()=>we,Td:()=>Ee,Mf:()=>Me});var r=n(19755),i=n.n(r),s=n(93966),a=n(40807),o=n(47327),l=n(59756),c=n(60316),d=n(45224),u=n(12319);function p(e){let t;if(e.get("indirect")){const n=e.get("Origin");t=n&&n.source}else if(e.get("remoteMedia")){const n=e.get("Media");t=n[0]&&n[0].source}else e.get("source")&&(t=e.get("source"));return t||null}function m(e){const t=p(e);let n,r;if(t){const{serverIdentifier:e,providerIdentifier:i}=(0,c.Z)(t);r=(0,u.Po)({machineIdentifier:e}),n=(0,d.q)({identifier:i,serverEntityID:r})}else r=e.get("serverEntityID"),n=e.get("providerEntityID");return{serverEntityID:r,providerEntityID:n}}var h=n(43520);function g(e,t){if(!e.supports("transientTokenProxy"))return i().Deferred().reject().promise();const n=e.resolveUrl("/security/resources");let r=i().ajax(e.getXHROptions(n,{data:{source:t}})).promise();return r=r.then((t=>new h.Z(t,{parse:!0,server:e}))),r}var y=n(28058),v=n(35589),f=n(62367);var b=n(6272),S=n(28440);function I(e){return e.get("isConnected")||e.testOnlyUntestedConnections()}function Z(e,t){return(0,c.Z)(t).isServer?function(e,t){return g(e,t).then((e=>(0,b.Z)(e,!0).testAllConnections()))}(e,t):function(e,t){return g(e,t).then((e=>{const t=function(e){const t=new y.Z({accessToken:e.get("accessToken"),machineIdentifier:v.X});t.addConnection((0,f.Z)());const n=e.get("connections").first();return new d.Z({identifier:e.get("clientIdentifier"),title:e.get("name"),baseURL:n.get("uri")},{server:t})}(e);return t.server.testAllConnections().then((()=>t.populate({merge:!0})))}))}(e,t)}var P=n(90697),E=n(47486),M=n(45399),C=n(22923),w=n(15730),D=n(96515),T=n(30983),O=n(39957);const x=[(e,t,n)=>{const r=e.get("user").get("experienceSettings").get("reminders").get((0,O.Z)(C.M,w.TONE_MAPPING));if(r&&!(0,D.Z)(r.get("remindAfter")))return null;const i=(0,T.F_)(e,t).get("playQueue").get("playQueueItems").get(n.playQueueItemID).get("metadataItem"),s=m(i),a=(0,S.SW)(e,s),o=i.get("Media")[n.mediaIndex],l=null==o?void 0:o.Part[n.partIndex];if(!a||!l)return null;const c=a.hasOwnerFeature(M.EQ),d=a.hasOwnerFeature(M.EZ);return!a.get("isFullOwnedServer")||!c||d||!function(e){return Array.isArray(e.Stream)&&e.Stream.some((e=>"smpte2084"===e.colorTrc))}(l)||n.canDisplayHDR||n.isDirectPlay||n.canDirectStreamVideo?null:{type:w.TONE_MAPPING,metricsContext:E.HDR_CONVERSION}}];var A=n(88551),N=n(13469),k=n.n(N),L=n(33232),j=n(73571);var R=n(94207);function V(e){return e>=2e3}function U(e){return V(e.transcodeDecisionCode)?e.transcodeDecisionText:V(e.generalDecisionCode)?e.generalDecisionText:V(e.mdeDecisionCode)?e.mdeDecisionText:e.errorMessage}n(11133);var z=n(76249),B=n(17524),_=n(78831),F=n(46937),H=n(51382),W=n(64542),Q=n(96840),G=n(64335),Y=n(97645),q=n(6731);var K=n(96026),$=n(70515),X=n(99317),J=n(5562),ee=n(91135),te=n(84936),ne=Object.defineProperty,re=Object.prototype.hasOwnProperty,ie=Object.getOwnPropertySymbols,se=Object.prototype.propertyIsEnumerable,ae=(e,t,n)=>t in e?ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oe=(e,t)=>{for(var n in t||(t={}))re.call(t,n)&&ae(e,n,t[n]);if(ie)for(var n of ie(t))se.call(t,n)&&ae(e,n,t[n]);return e};function le(e){return"dash"===e||"hls"===e}function ce(e,t){return t.itemProvider||e.provider||t.itemServer||e.server}const de={getPlayerDecision:function(e){return this.resolvePlayerDecision(e).then(null,(t=>t.canDirectPlay&&1001===t.generalDecisionCode?(Q.Z.warn("[PDE] Forcing transcode;",t.mdeDecisionText),this.resolvePlayerDecision(oe(oe({},e),{allowDirectPlay:!1}))):t))},resolvePlayerDecision:function(e){k().defaults(e,{offset:0,minVersionForDASH:z.Z.dash,minVersionForStreamingMKV:z.Z.streamingMKV,transcoderOptions:{}});const t={playbackSessionID:e.playbackSessionID||(0,X.Z)(),transcodeSessionID:e.transcodeSessionID||(0,X.Z)(),offset:e.offset};let n=this.populateMedia(t,e);return n=n.then(k().bind((function(){return this.resolveMedia(t,e)}),this)),n=n.then((function(){return i().when(t.url)})),n=n.then((function(e){return t.url=e,t})),n},populateMedia:function(e,t){const n=i().Deferred(),r=k().bind(n.resolve,n,e);return t.requireAnalysis&&function(e){const t=e?k().first(e.get("Media")):null;return!(!t||t.container)}(t.item)?t.item.fetch({scope:"player"}).always(r):k().defer(r),n.promise()},resolveMedia:function(e,t){const n=k().extend({transcodeServer:this.resolveTranscodeServer(t)},t),r=K.Z.getMediaDecision(n);if(n.originalQualityDecisionOptions){const e=K.Z.getMediaDecision(oe(oe({},n),n.originalQualityDecisionOptions));r.canPlayOriginalQuality=e.canDirectPlay||e.canDirectStreamVideo}else r.canPlayOriginalQuality=r.canDirectPlay||r.canDirectStreamVideo;const s=r.media,a=i().Deferred();return k().extend(e,r),s?e.canPlay?"webkit"===s.protocol?(Q.Z.warn("[PDE] Webkit videos are not supported"),e.redirect=!0,a.reject(e).promise()):"embed"===s.protocol?(Q.Z.warn("[PDE] An embed is required"),e.embed=!0,e.part=k().first(s.Part),a.reject(e).promise()):this.resolvePart(e,t):(Q.Z.warn("[PDE] Unable to play item;",e.errorMessage),a.reject(e).promise()):this.resolveUrls(e,t)},resolveTranscodeServer:function(e){const t=e.itemServer||e.item.server,n=e.fallbackServer,r=e.itemProvider||e.item.provider;if(t===n||!n||!n.get("isConnected"))return t;let i;e.type===j.Z.types.VIDEO?i="transcoderVideo":e.type===j.Z.types.MUSIC&&(i="transcoderAudio");const s=!r||B.wB(r.get("identifier"),B.Y3);return i&&!t.get(i)&&n.get(i)&&s?n:t},resolvePart:function(e,t){return t.part?e.part=t.part:t.offset?1===e.media.Part.length?e.part=e.media.Part[0]:(e.part=(0,G.Z)(e.media,t.offset),e.offset=(0,Y.Z)(e.media,e.part,t.offset)):e.part=k().first(e.media.Part),e.part.drm&&(e.drm=e.part.drm,e.certificate=e.part.certificate,(0,Q.Z)("[PDE] DRM content decryption module:",e.drm),(0,Q.Z)("[PDE] DRM certificate:",e.certificate)),this.resolveUrls(e,t)},resolveUrls:function(e,t){const n=i().Deferred();return this.validateDrmType(e,t)&&this.validatePlayerType(e,t)?(this.validateSidecarSrtSubtitles(e,t)?e.subtitlesUrl=this.resolveSubtitlesUrl(e,t):e.useSidecarSrtSubtitles=!1,this.validateSoftSubtitles(e,t)?e.subtitlesUrl=this.resolveSubtitlesUrl(e,t):e.useSoftSubtitles&&(e.useSoftSubtitles=!1),(0,Q.Z)("[PDE] Player decision:",{playerType:e.playerType,protocol:e.protocol,canDirectPlay:e.canDirectPlay}),e.canDirectPlay?e.url=this.resolveDirectPlayUrl(e,t):e.url=this.resolveTranscoderUrl(e,t),e.drm&&(e.license=this.resolveLicenseUrl(e,t)),this.resolveDecision(e,t)):n.reject(e).promise()},validateDrmType:function(e,t){const n=s.DB("appModel").get("drmType"),r={music:ee.j0,video:ee.pX},i=!!e.drm,a=n===(0,F.Z)(e.drm)||n===(0,F.Z)(e.drm,r[t.type]);return i&&!a&&(e.errorCode=(0,H.ZP)(),e.errorMessage=(0,J.Z)("Streaming this media is unsupported.")),!i||a},validatePlayerType:function(e,t){return e.media&&t.type&&t.type!==j.Z.types.PHOTO?e.canDirectPlay?("hls"===e.media.protocol?(e.protocol="hls",e.playerType=t.hasNativeHLS?"html":"flash"):"dash"===e.media.protocol?(e.protocol="dash",e.playerType="html"):(e.protocol="http",e.playerType="flv"===e.media.container?"flash":"html"),!0):this.validatePlayerTranscodeProtocol(e,t):(e.protocol="http",e.playerType="html",!0)},validatePlayerTranscodeProtocol:function(e,t){const n=e.transcodeServer,r=t.transcodeProtocol;let i,s=!0,a=!0,o=!0;if(r&&(s="dash"===r,a="http"===r,o="hls"===r),o&&t.hasNativeHLS)return e.protocol="hls",e.playerType="html",!0;if(a&&t.hasStreamingMKV){if(n.isVersionOrNewer(t.minVersionForStreamingMKV))return e.protocol="http",e.playerType="html",!0;i=t.minVersionForStreamingMKV}if(s&&t.hasDASH){if(n.isVersionOrNewer(t.minVersionForDASH))return e.protocol="dash",e.playerType="html",!0;i=t.minVersionForDASH}return t.type===j.Z.types.MUSIC?(e.protocol="http",e.playerType="html",!0):o&&t.hasFlash?(e.protocol="hls",e.playerType="flash",!0):t.type===j.Z.types.ROM?(e.protocol="parsec",!0):(e.errorMessage=i?(0,J.Z)("Please update Plex Media Server. This feature requires {1} or later.",i):(0,J.Z)("Streaming this media is unsupported."),!1)},validateSidecarSrtSubtitles:function(e,t){return e.useSidecarSrtSubtitles&&!e.canDirectPlay?(Q.Z.warn("[PDE] Sidecar SRT is only supported when media is direct play."),!1):e.useSidecarSrtSubtitles},validateSoftSubtitles:function(e,t){return e.useSoftSubtitles&&"html"!==e.playerType?(Q.Z.warn("[PDE] Only the HTML player supports soft subtitles"),!1):!e.useSoftSubtitles||e.canDirectPlay||t.allowDirectStreamVideoWithSoftSubtitles?e.useSoftSubtitles:(Q.Z.warn("[PDE] Unable to use soft subtitles without direct play"),!1)},resolveDirectPlayUrl:function(e,t){const n=t.item,r=e.part,i={"X-Plex-Session-Identifier":e.playbackSessionID};e.drm&&Object.assign(i,(0,W.Z)(e.drm));const s=r?r.key:n.get("key"),a={appendHeaders:!0,params:i};return ce(n,t).resolveUrl(s,a)},resolveTranscoderUrl:function(e,t,n){const r=t.item,i=e.media,s=e.part;let a=t.transcoderOptions;k().isFunction(a)&&(a=a(e)),a=k().extend({},e.transcoderQualityOptions,a,{"X-Plex-Session-Identifier":e.playbackSessionID,session:e.transcodeSessionID,protocol:e.protocol,directPlay:e.canDirectPlay?1:0,offlineTranscode:t.offlineTranscode,context:t.context,offset:e.offset?e.offset/1e3:e.offset});const o=t.subtitlesBurnLevel;t.type!==j.Z.types.VIDEO||e.transcodeServer.get("isCloud")||(o===_.Z.NEVER?a.subtitles=e.canDirectPlay?"none":"auto":e.useSoftSubtitles?(a.subtitles=e.canDirectPlay?"sidecar":"auto",o===_.Z.AVOID&&(a.advancedSubtitles="text")):a.subtitles="burn");let l=t.profileExtra;k().isFunction(l)&&(l=l(e)),a["X-Plex-Client-Profile-Extra"]=l;const c=r.get("Media")[0],d=!!c&&"livetv"===c.origin;("hls"===a.protocol&&!t.useOffsetHLS&&!d||"dash"===a.protocol&&!d)&&((0,Q.Z)("[PDE] DASH and HLS should seek forward by default, offset=0"),delete a.offset),"hls"===a.protocol&&t.useOffsetHLS&&(e.useOffsetHLS=!0,a.offset&&((0,Q.Z)("[PDE] HLS started with an offset, copyts=0"),a.copyts=0)),le(a.protocol)&&d&&(a.copyts=0),"http"===a.protocol&&(a.copyts=d?0:1),"http"!==a.protocol||e.canDirectPlay||(a["X-Plex-Chunked"]=1),t.allowIncompleteSegments&&(a["X-Plex-Incomplete-Segments"]=1),k().each(k().keys(a),(function(e){null==a[e]&&delete a[e]}));const u=t.type,p=t.transcoder,m=e.transcodeServer;if(u===j.Z.types.VIDEO)return p.video(m,r,i,s,a,n);if(u===j.Z.types.MUSIC)return p.music(m,r,a,n);if(u===j.Z.types.PHOTO){a.fallbackServer=t.fallbackServer;const e="photo"===r.get("type")?r.getMediaKey():r.get("thumb");return p.image(m,e,a)}return u===j.Z.types.ROM?p.game(m,r,i,oe(oe({},a),{displayHeight:Math.min(window.screen.height,1080),displayWidth:Math.min(window.screen.width,1920)}),n):void 0},resolveSubtitlesUrl:function(e,t){if(e.useSidecarSrtSubtitles){const n=t.itemProvider||t.item.provider,r=(0,q.Z)(e.media);return n.resolveUrl(r.key,{appendHeaders:!0,appendToken:!0,params:{format:"srt"}})}const n=this.resolveTranscoderUrl(e,t),r=te.Z.parseUrl(n).params,i=e.canDirectPlay?"/subtitles/:/transcode/universal/start":"/video/:/transcode/universal/subtitles";return e.transcodeServer.resolveUrl(i,{params:r})},resolveLicenseUrl:function(e,t){const n=t.item,r={appendHeaders:!0,params:(0,W.Z)(e.drm)},i=ce(n,t);return(0,Q.Z)("[PDE] Resolving DRM license",e.part.license),i.resolveUrl(e.part.license,r)},resolveDecision:function(e,t){const n=e.transcodeServer,r=i().Deferred(),s=n.get("isCloud")||!n.supports("decisionEndpoint"),a=t.type===j.Z.types.PHOTO||t.type===j.Z.types.ROM;if(s||a)return(0,Q.Z)("[PDE] Unnecessary for server to resolve decision"),r.resolve(e).promise();const o=k().clone(e);this.validatePlayerTranscodeProtocol(o,t);const l=this.resolveTranscoderUrl(o,t,"decision"),c=i().ajax(n.getXHROptions(l,{timeout:2e3}));return null!=e.offset&&!e.canDirectPlay&&le(e.protocol)&&e.media&&"livetv"===e.media.origin&&(e.offset=0),c.done((function(t){const n=$.Z.parseXML(t);n.generalDecisionCode&&(e.generalDecisionCode=$.Z.parseInteger(n.generalDecisionCode),e.generalDecisionText=n.generalDecisionText),n.mdeDecisionCode&&(e.mdeDecisionCode=$.Z.parseInteger(n.mdeDecisionCode),e.mdeDecisionText=n.mdeDecisionText),n.transcodeDecisionCode&&(e.transcodeDecisionCode=$.Z.parseInteger(n.transcodeDecisionCode),e.transcodeDecisionText=n.transcodeDecisionText),e.abr=$.Z.parseBoolean(n.abr),e.decisionXML=t,U(e)?r.reject(e):r.resolve(e)})),c.fail((function(){Q.Z.warn("[PDE] Player decision failed; the transcode server may be a slow or outdated"),r.resolve(e)})),r.promise()}};var ue=n(27082),pe=Object.defineProperty,me=Object.prototype.hasOwnProperty,he=Object.getOwnPropertySymbols,ge=Object.prototype.propertyIsEnumerable,ye=(e,t,n)=>t in e?pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ve=(e,t)=>{for(var n in t||(t={}))me.call(t,n)&&ye(e,n,t[n]);if(he)for(var n of he(t))ge.call(t,n)&&ye(e,n,t[n]);return e};const fe="ui/player/playerDecision/makeDecision",be="ui/player/playerDecision/makeNextDecision",Se="ui/player/playerDecision/removeDecision",Ie="ui/player/playerDecision/retryDecision",Ze=(0,a.Z)(fe),Pe=(0,a.Z)(be),Ee=(0,a.Z)(Se),Me=(0,a.Z)(Ie);function Ce(e,t,n){const r=(0,T.F_)(e,t),i=(0,P.Z)(r),s=i.get("metadataItem");if(i.get("playQueueItemID")!==n.playQueueItemID)return;const a={currentDecision:n,availableQualities:n.availableQualities,qualityIndex:n.qualityIndex,mediaIndex:n.mediaIndex,partIndex:n.partIndex,positionSeconds:n.positionSeconds,durationSeconds:n.durationSeconds};null!=r.get("startMetadataItemEntityID")&&r.get("startMetadataItemEntityID")!==s.entityID()||(a.startMetadataItemEntityID=null,a.startOffsetMilliseconds=null,a.startMediaIndex=null);const o=function(e,t,n){if(e.get("user").get("experienceSettings").get("reminders"))for(const r of x){const i=r(e,t,n);if(i)return i}return null}(e,t,n);a.confirmPlayerUpsellPayload=o,a.isPaused=!!o||r.get("isPaused"),r.set(a)}const we={[fe](e,t){const{playerType:n,playQueueItemEntityID:r,mediaIndex:a,partIndex:d,qualityIndex:u,transcodeSessionID:h,options:g={}}=t,y=(0,T.F_)(e,n),v=S.xl(e,{playQueueItemEntityID:r});if(v.get("type")===ee.pV)return;const f=y.get("decisions")[r];if(f)return void Ce(e,n,f);let b,P;const E=v.get("metadataItem");let M,C=function(e,t,n){const r=n.get("metadataItem"),s=S.SW(e,{serverEntityID:t.get("serverEntityID")}),a=m(r),o={serverEntityID:r.get("serverEntityID"),providerEntityID:r.get("providerEntityID")},d=r.get("source"),u=p(r),h=S.SW(e,o),g=u&&S.SW(e,a),y=l.Z.allowTransientProxy&&s.get("isFullOwnedServer")&&s.supports("transientTokenProxy");if(!y&&(d&&!h||u&&!g))return i().Deferred().reject().promise();const v=[];return h?v.push(I(h)):y&&d&&v.push(Z(s,d)),d!==u&&(g?v.push(I(g)):y&&u&&v.push(Z(s,u))),i().when(...v).then((()=>function(e,t){const n=e.get("user"),r=t&&(0,c.Z)(t);return n.get("providers")&&r&&!r.isServer?n.get("providers").populate().then((e=>{const t=e.findWhere({identifier:r.providerIdentifier});return t&&t.populate()})):i().Deferred().resolve().promise()}(e,u))).then((()=>({serverModel:S.SW(e,o),providerModel:S.js(e,o),mediaServerModel:S.SW(e,a),mediaProviderModel:S.js(e,a)})))}(e,y,v).then((e=>y.get("liveTVSession")?i().Deferred().resolve().promise():(b=e.mediaServerModel,P=e.mediaProviderModel,(0,o.Z)(E,{forceSyncCheckFiles:!0,itemProvider:e.providerModel}))));C=C.then((()=>{const t=null==a?function(e,t){return null==e.get("startMetadataItemEntityID")&&null!=e.get("startMediaIndex")||e.get("startMetadataItemEntityID")===t.entityID()?e.get("startMediaIndex"):null}(y,E):a,n=E.get("Media")[t],r=n&&n.Part[d],i=(0,s.DB)("getDecisionOptions")(E,u,n);return M=ve(ve({transcodeSessionID:h,playbackSessionID:y.get("playbackSessionID"),item:E,offset:(0,A.Z)(y,E),fallbackServer:e.get("primaryServer"),media:n,part:r,itemProvider:P,itemServer:b},i),g),g.offset,de.getPlayerDecision(M)})),C.done((0,R.Z)(y,(t=>{const i=function(e,t){const{type:n,item:r,availableQualities:i,qualityIndex:s}=e,{transcodeServer:a,media:o,part:l}=t,c=r.get("Media"),d=o.Part,u=function(e,t){return k().findIndex(e,(e=>null!=e.id?e.id===t.id:null==e.uuid||e.uuid===t.uuid))}(c,o),p=function(e,t){return k().findIndex(e,(e=>null!=e.id?e.id===t.id:null==e.key||e.key===t.key))}(d,l);let m=[],h=L.Z.ORIGINAL;n===j.Z.types.VIDEO&&(m=i,h=s),t.abr&&(h=L.Z.CONVERT_AUTOMATICALLY);const g={availableQualities:m,qualityIndex:h,mediaIndex:u,partIndex:p,partCount:d.length,url:t.url,subtitlesUrl:t.subtitlesUrl,protocol:t.protocol,isDirectPlay:t.canDirectPlay,useSoftSubtitles:t.useSoftSubtitles,useSidecarSrtSubtitles:t.useSidecarSrtSubtitles,canDirectStreamVideo:t.canDirectStreamVideo,canDirectStreamAudio:t.canDirectStreamAudio,canPlayOriginalQuality:t.canPlayOriginalQuality,positionSeconds:Math.floor(t.offset/1e3),durationSeconds:Math.floor((l.duration||0)/1e3),playbackSessionID:t.playbackSessionID,canDisplayHDR:t.canDisplayHDR,canDisplayDolbyVision:t.canDisplayDolbyVision};return t.canDirectPlay||(g.transcodeSessionID=t.transcodeSessionID),t.drm&&(g.drm=t.drm,g.license=t.license,g.certificate=t.certificate),g.transcodeServerEntityID=a&&a.entityID(),g}(M,t),s=ve(ve({},i),{playQueueItemID:v.get("playQueueItemID")}),a=y.get("decisions");y.set("decisions",ve(ve({},a),{[r]:s})),Ce(e,n,s)}))).fail((0,R.Z)(y,(e=>{let t;b&&P?E.get("isPreFetched")?(E.set({isPreFetched:!1}),t=U(e)):t=(0,J.Z)("Content is unavailable"):t=(0,J.Z)("Source is unavailable"),function(e,t,n,r){const i=e.get("playQueue"),s=i.get("playQueueItems").at(i.get("currentIndex"));t.id===s.id&&e.set({isMediaLoading:!1,hasError:!0,errorCode:r,errorMessage:n})}(y,v,t,e.errorCode)})))},[be](e,{playerType:t},n){const r=(0,T.F_)(e,t),i=r.get("playQueue"),s=i.get("playQueueItems"),a=i.get("currentIndex");let o=r.get("repeatOne")?a:a+1;if(r.get("repeatAll")&&o>s.length-1&&(o=0),o!==a&&o<s.length){const e=s.at(o).entityID();n(Ze({playerType:t,playQueueItemEntityID:e}))}},[Se](e,{playerType:t,playQueueItemEntityID:n}){const r=(0,T.F_)(e,t);(0,ue.c9)((()=>{const e=r.get("decisions"),t=r.get("currentDecision"),i={decisions:ve(ve({},e),{[n]:null})};e[n]===t&&(i.currentDecision=null),r.set(i)}))},[Ie](e,t,n){const{playerType:r,decisionOptions:i}=t,s=(0,T.F_)(e,r),a=s.get("playQueue"),o=a.get("playQueueItems"),l=s.get("currentDecision"),c=a.get("currentIndex"),d=o.at(c).entityID();l&&n(Ee({playerType:r,playQueueItemEntityID:d})),n(Ze(l?{playerType:r,playQueueItemEntityID:d,mediaIndex:l.mediaIndex,partIndex:l.partIndex,qualityIndex:s.get("qualityIndex"),options:ve({offset:1e3*s.get("positionSeconds")},i)}:{playerType:r,playQueueItemEntityID:d,qualityIndex:s.get("qualityIndex")}))}}},79932:(e,t,n)=>{"use strict";n.d(t,{Rt:()=>F,Bw:()=>Y,qG:()=>G,l5:()=>_,tf:()=>B,Si:()=>H,yt:()=>W,e4:()=>z,EJ:()=>j,$y:()=>R,xd:()=>V,bj:()=>U,N9:()=>Q,xT:()=>ne,lm:()=>ce,Mh:()=>ae,gv:()=>me,tP:()=>te,kP:()=>ee,d7:()=>re,Kq:()=>ie,lh:()=>J,Ld:()=>oe,wA:()=>q,EF:()=>K,QR:()=>$,Gh:()=>X,Em:()=>le,Yd:()=>se});var r=n(19755),i=n.n(r),s=n(93966),a=n(40807),o=n(66464),l=n(238),c=n(21256),d=n(34699),u=n(86526),p=n(95680),m=n(58641),h=n(94207),g=n(88050),y=n(47486),v=n(69605),f=n(59223),b=n(52837),S=n(17524),I=n(96840),Z=n(69881);var P=n(28440),E=n(30983),M=n(27082),C=n(5562),w=n(84936),D=n(35421),T=Object.defineProperty,O=Object.prototype.hasOwnProperty,x=Object.getOwnPropertySymbols,A=Object.prototype.propertyIsEnumerable,N=(e,t,n)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k=(e,t)=>{for(var n in t||(t={}))O.call(t,n)&&N(e,n,t[n]);if(x)for(var n of x(t))A.call(t,n)&&N(e,n,t[n]);return e},L=(e,t)=>{var n={};for(var r in e)O.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&x)for(var r of x(e))t.indexOf(r)<0&&A.call(e,r)&&(n[r]=e[r]);return n};const j="ui/player/playerLifecycle/startPlayback",R="ui/player/playerLifecycle/startPrimaryExtraPlayback",V="ui/player/playerLifecycle/startRadioPlayback",U="ui/player/playerLifecycle/startRelatedMixPlayback",z="ui/player/playerLifecycle/startExistingPlayQueuePlayback",B="ui/player/playerLifecycle/queueRelatedMixPlayback",_="ui/player/playerLifecycle/queuePlayback",F="ui/player/playerControls/clearPlayerConfirmPlaybackPayload",H="ui/player/playerControls/resetAndClosePlayer",W="ui/player/playerControls/setMetricsPlayer",Q="ui/player/playerLifecycle/updateCurrentAd",G="ui/player/playerLifecycle/endPlayback",Y="ui/player/playerLifecycle/dismissPlayerUpsell",q=(0,a.Z)(j),K=(0,a.Z)(R),$=(0,a.Z)(V),X=(0,a.Z)(U),J=(0,a.Z)(z),ee=(0,a.Z)(B),te=(0,a.Z)(_),ne=(0,a.Z)(F),re=(0,a.Z)(H),ie=(0,a.Z)(W),se=(0,a.Z)(Q),ae=(0,a.Z)(G),oe=(0,a.Z)(j,((e={})=>{var t=e,{options:n={}}=t,r=L(t,["options"]);return k(k({},r),{metricsAction:g.Rn,options:k(k({},n),{playAll:!0})})})),le=(0,a.Z)(j,((e={})=>{var t=e,{options:n={}}=t,r=L(t,["options"]);return k(k({},r),{metricsAction:g.cO,options:k(k({},n),{shuffle:!0})})})),ce=(0,a.Z)(Y);let de;function ue(e){return e.get("related").findWhere({browse:!1}).get("metadataList")}function pe(e,t,n){return(...r)=>{if(t.get("isOpen")&&e===de)return n(...r);I.Z.warn("[Player] Player was closed or a new playback session was started; ignoring playback request")}}const me={[j](e,t,n){const{metadataItemEntityID:r,liveTVSessionEntityID:i,syncplaySessionRoomID:a,confirmPlayback:p,confirmOffset:m,confirmAdvertisingNotice:h,startOffsetMilliseconds:y=null,startMediaIndex:v=null,openState:I=f.K,isPaused:w=!1,isWatchTogetherLobbyVisible:D=!1,extrasPrefixCount:T,playbackStartTime:O=Date.now(),metricsPage:x,metricsProperties:A={}}=t,N=(0,u.Z)(e,t),L=(0,c.Z)(N),j=b.f_(L),R=(0,E.F_)(e,j),V=R.get("playQueue"),U=N.metadataItemModel,z=(0,s.DB)("appModel").get("user"),B=N.serverModel?N.serverModel.entityID():t.serverEntityID,_=N.providerModel?N.providerModel.entityID():t.providerEntityID;if(V&&U&&V.get("playQueueSelectedMetadataItemID")===U.get("ratingKey"))return;if(!p&&V&&V.get("playQueueVersion")>1)return void R.set("confirmPlaybackPayload",t);const F={serverEntityID:B,providerEntityID:_,syncplaySessionRoomID:a,isOpen:!0,openState:I,isPlayQueueLoading:!0,isMediaLoading:!0,isPaused:w,isWatchTogetherLobbyVisible:D,startOffsetMilliseconds:y,startMediaIndex:v,playbackStartTime:O,metricsPage:x,metricsSetting:A.setting,metricsContextTuple:A.contextTuple};if(i&&(F.liveTVSession=P._s(e,{liveTVSessionEntityID:i})),U&&function(e){const t=e.get("type"),n="channelDirectory"===t||(0,Z.isDirectoryType)(t)||e.get("isFolder");return void 0===e.length&&!n}(U)&&(F.startMetadataItemEntityID=r),!h&&U&&U.get("requiresConsent")&&z.get("isFullUser")&&(!z.get("adsConsentSetAt")||z.get("adsConsentReminderAt")<Date.now()/1e3)?F.advertisingNoticePayload=t:!m&&U&&U.get("viewOffset")&&(F.confirmOffsetPayload=t),(0,M.c9)((()=>{R.restoreDefaults(F)})),F.advertisingNoticePayload||F.confirmOffsetPayload)return;const H=!(y||!U||U.get("type")!==Z.MOVIE),W=S.wB(N.providerModel.get("identifier"),S.vP),Q=(0,o.Z)(k(k({},N),{skipSiblings:W,extrasPrefixCount:H?T:void 0,playQueueModel:(0,l.Z)(k(k({},N),{playQueueType:L}))}));de=Q,Q.done(pe(Q,R,(t=>{R.set({isPlayQueueLoading:!1,playQueue:t}),(0,d.Z)(e).startPlayback(R)}))).fail(pe(Q,R,(()=>{R.restoreDefaults({hasError:!0,errorMessage:(0,C.Z)("An error occurred loading items to play.")})}))),t.skipClickMetrics||(0,s.DB)("metrics").trackClick(k({page:t.metricsPage,action:t.metricsAction||g.NH,type:L},A))},[R](e,t,n){const r=t.options||{},i=P.$R(e,t);n(q(k(k({},t),{metadataItemEntityID:null,metricsAction:g.$W,options:k(k({},r),{metadataItemKey:i.get("primaryExtraKey"),type:"video"})})))},[U](e,t,n){const r=t.options||{},i=P.$R(e,t),s=ue(i);n(q({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsAction:g.b8,skipClickMetrics:t.skipClickMetrics,options:k(k({},r),{type:(0,c.Z)({metadataItemModel:i}),containerKey:s.get("containerKey")})}))},[V](e,t,n){const{playlistType:r}=t,i=P.$R(e,t).get("stations");if(!i.length)return;const s=i.findWhere({playlistType:r});n(q({metricsAction:g.b8,serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:s.entityID(),skipClickMetrics:t.skipClickMetrics,options:{type:(0,c.Z)({metadataItemModel:s})}}))},[z](e,t){const{serverEntityID:n,providerEntityID:r,playQueueType:i,playQueueID:s,startOffsetMilliseconds:a=null,startMediaIndex:o=null,playbackStartTime:c=Date.now()}=t,d=P.SW(e,t),u=b.f_(i),h=P.js(e,t),g=(0,E.F_)(e,u),S=(0,l.Z)({providerModel:h,playQueueID:s,playQueueType:i}),I={serverEntityID:n,providerEntityID:r,isOpen:!0,openState:f.K,isPlayQueueLoading:!0,isMediaLoading:!0,startOffsetMilliseconds:a,startMediaIndex:o,playbackStartTime:c};return d===e.get("transientServer")&&(I.metricsPage=v.sD,I.metricsContextTuple=[y.COMPANION]),g.set(I),(0,m.ZP)(S).done((()=>{g.set({playQueue:S,isPlayQueueLoading:!1}),p.startPlayback(g)})).fail((()=>{g.restoreDefaults({hasError:!0,errorMessage:(0,C.Z)("An error occurred loading items to play.")})}))},[B](e,t,n){const r=P.$R(e,t),i=ue(r);n(te({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsAction:g.AV,listType:(0,c.Z)({metadataItemModel:r}),options:{next:!0,containerKey:w.Z.join(i.get("containerKey"),{excludeSeedItem:1})}}))},[_](e,t,n){const{startOffsetMilliseconds:r=null,openState:i=f.K}=t,a=(0,u.Z)(e,t),p=(0,c.Z)(a),y=b.f_(p),v=(0,E.F_)(e,y),S=!!a.playQueueID,I=a.serverModel?a.serverModel.entityID():t.serverEntityID,Z=a.providerModel?a.providerModel.entityID():t.providerEntityID;let w=v.get("playQueue"),T=!1;if(w&&v.get("providerEntityID")){const t=P.js(e,{providerEntityID:v.get("providerEntityID")}),n=v.get("providerEntityID")===Z,r=w.get("isUniversal"),i=t.server.get("isFullOwnedServer");T=n||r&&i}if(T)(0,o.Z)(k(k({},a),{playQueueModel:w})).done((0,h.Z)(v,(()=>{(0,d.Z)(e).refreshRemotePlayQueue(v)}))).fail((0,h.Z)(v,(()=>{v.set({hasError:!0,errorMessage:(0,C.Z)("An error occurred loading items into the play queue.")})})));else{(0,M.c9)((()=>{v.restoreDefaults({serverEntityID:I,providerEntityID:Z,isOpen:!0,openState:i,isPlayQueueLoading:!0,isMediaLoading:!0,isPaused:!a.next,repeatAll:!!a.playQueueRepeat,startOffsetMilliseconds:r,playbackStartTime:a.playbackStartTime?a.playbackStartTime:Date.now()})})),w=(0,l.Z)(k(k({},a),{playQueueType:p}));const t=S?(0,m.ZP)(w):(0,o.Z)(k(k({},a),{next:!1,playQueueModel:w}));de=t,t.done(pe(t,v,(t=>{v.set({isPlayQueueLoading:!1,playQueue:t}),(0,d.Z)(e).startPlayback(v,S)}))).fail(pe(t,v,(()=>{n((0,D.n5)()),S?v.restoreDefaults():v.restoreDefaults({hasError:!0,errorMessage:(0,C.Z)("An error occurred loading items to play.")})})))}const O=a.next?g.pe:g.PR,x=t.metricsProperties||{};t.skipClickMetrics||(0,s.DB)("metrics").trackClick(k({page:t.metricsPage,action:t.metricsAction||O,type:p},x))},[F](e,{playerType:t,openState:n}){const r=(0,E.F_)(e,t);(0,M.c9)((()=>{r.set("confirmPlaybackPayload",null)}))},[H](e,{playerType:t,openState:n}){const r=(0,E.F_)(e,t);(0,M.c9)((()=>{r.restoreDefaults()}))},[W](e,{playerType:t,metricsPlayer:n}){const r=(0,E.F_)(e,t);(0,M.c9)((()=>{r.set({metricsPlayer:n})}))},[Q](e,{adDisplayIndex:t,adDisplayTotal:n,adDurationSeconds:r,adPositionSeconds:i,adState:s,adTimeOffsetSeconds:a,playerType:o}){(0,E.F_)(e,o).set({adDisplayIndex:t,adDisplayTotal:n,adDurationSeconds:r,adPositionSeconds:i,adState:s,adTimeOffsetSeconds:a})},[G](e,{playerType:t,isForced:n},r){const s=(0,E.F_)(e,t),a=s.get("liveTVSession"),o=s.get("serverEntityID"),l=P.SW(e,{serverEntityID:o}),c=(0,d.Z)(e);if((0,M.c9)((()=>{n||r((0,D.n5)()),c.endPlayback(s)})),a&&!l.get("isCloud")){const e=w.Z.join(["/media/subscriptions",a.id]);i().ajax(a.server.getXHROptions(e,{method:"DELETE"}))}},[Y](e,{playerType:t}){(0,E.F_)(e,t).set({confirmPlayerUpsellPayload:null})}}},12304:(e,t,n)=>{"use strict";n.d(t,{VR:()=>Ce,RB:()=>Te,tG:()=>ve,ft:()=>be,Sq:()=>Se,zV:()=>Ie,nB:()=>Ze,R1:()=>ye,BB:()=>ce,ec:()=>pt,wv:()=>at,mj:()=>ot,EZ:()=>lt,Kb:()=>ut,Wj:()=>ct,YA:()=>dt,v6:()=>tt,iu:()=>Ge,wO:()=>vt,hY:()=>yt,ek:()=>Zt,km:()=>gt,O7:()=>Ke,$E:()=>Be,Pn:()=>mt,ZI:()=>ht,QJ:()=>$e,wW:()=>Xe,Hn:()=>Je,oX:()=>et,fp:()=>Ye,ID:()=>qe,Y5:()=>rt,z5:()=>nt,PR:()=>it,$m:()=>st,qo:()=>ft,mh:()=>St,bb:()=>bt,n9:()=>We,qr:()=>_e,IE:()=>Qe,lj:()=>Fe,uZ:()=>He});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(59756),l=n(40807),c=n(4920),d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e},y=n(90697);function v(e){const t=(0,y.Z)(e),n=e.get("currentDecision");if(t&&n)return n.playQueueItemID===t.get("playQueueItemID")?n:void 0}var f=n(34699),b=n(79490),S=n(18305),I=n(84936);const Z=function(e,t){const n=I.Z.parseUrl(e),{origin:r,pathname:i,params:s}=n;return s.offset=t,I.Z.join([r,i],s)};var P=n(11133),E=n(96840),M=n(58641),C=n(56442),w=n(17626),D=n(67006),T=n(17524),O=n(18206),x=n(99862),A=n(67124),N=n(25474),k=n(2200),L=Object.defineProperty,j=Object.prototype.hasOwnProperty,R=Object.getOwnPropertySymbols,V=Object.prototype.propertyIsEnumerable,U=(e,t,n)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function z(e){return{startedAt:(0,A.Z)(e.timeStamp),seekStartSeconds:(0,A.Z)(e.minOffsetAvailable),seekEndSeconds:(0,A.Z)(e.maxOffsetAvailable)}}var B=n(7251),_=n(93573),F=n(94207),H=n(11203),W=n(32901),Q=n(84642),G=n(56669),Y=n(28440),q=n(30983),K=n(27082),$=n(5562),X=n(73004),J=n(33295),ee=n(35421),te=Object.defineProperty,ne=Object.prototype.hasOwnProperty,re=Object.getOwnPropertySymbols,ie=Object.prototype.propertyIsEnumerable,se=(e,t,n)=>t in e?te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ae=(e,t)=>{for(var n in t||(t={}))ne.call(t,n)&&se(e,n,t[n]);if(re)for(var n of re(t))ie.call(t,n)&&se(e,n,t[n]);return e};const oe="ui/player/playerMedia/sendTimeline",le="ui/player/playerMedia/updatePlayerDuration",ce="ui/player/playerMedia/updatePlayerPosition",de="ui/player/playerMedia/updatePlayerSeekRange",ue="ui/player/playerMedia/updatePlayerBuffering",pe="ui/player/playerMedia/updatePlayerLoading",me="ui/player/playerMedia/updatePlayerError",he="ui/player/playerMedia/clearPlayerError",ge="ui/player/playerMedia/tickPlayer",ye="ui/player/playerMedia/togglePlayPause",ve="ui/player/playerMedia/seek",fe="ui/player/playerMedia/transcodeSeek",be="ui/player/playerMedia/skipBack",Se="ui/player/playerMedia/skipForward",Ie="ui/player/playerMedia/stepBack",Ze="ui/player/playerMedia/stepForward",Pe="ui/player/playerMedia/changeVolume",Ee="ui/player/playerSettings/togglePlayerSettingsState",Me="ui/player/playerSettings/togglePlayerChaptersState",Ce="ui/player/playerSettings/changeQualityIndex",we="ui/player/playerSettings/togglePlayerSubtitlesOffsetState",De="ui/player/playerSettings/togglePlayerWatchTogetherParticipantsState",Te="ui/player/playerSettings/changeStream",Oe="ui/player/playerSettings/changeSubtitleColor",xe="ui/player/playerSettings/changeSubtitlePosition",Ae="ui/player/playerSettings/changeSubtitleSize",Ne="ui/player/playerSettings/changeSubtitleOffset",ke="ui/player/playerMedia/changePlaybackSpeed",Le="ui/player/playerMedia/setItemPlaybackTime",je="ui/player/playerMedia/setSessionPlaybackTime",Re="ui/player/playerMedia/refreshStreams",Ve="ui/player/playerMedia/updateBufferedRanges",Ue="ui/player/playerMedia/updateMediaDimensions",ze="ui/player/playerMedia/updateCanPlayThrough",Be=(0,l.Z)(oe),_e=(0,l.Z)(le),Fe=(0,l.Z)(ce),He=(0,l.Z)(de),We=(0,l.Z)(ue),Qe=((0,l.Z)(pe),(0,l.Z)(me)),Ge=(0,l.Z)(he),Ye=(0,l.Z)(ge),qe=(0,l.Z)(ye),Ke=(0,l.Z)(ve),$e=((0,l.Z)(fe),(0,l.Z)(be)),Xe=(0,l.Z)(Se),Je=(0,l.Z)(Ie),et=(0,l.Z)(Ze),tt=(0,l.Z)(Pe),nt=(0,l.Z)(Ee),rt=(0,l.Z)(Me),it=(0,l.Z)(we),st=(0,l.Z)(De),at=(0,l.Z)(Ce),ot=(0,l.Z)(Te),lt=(0,l.Z)(Oe),ct=(0,l.Z)(xe),dt=(0,l.Z)(Ae),ut=(0,l.Z)(Ne),pt=(0,l.Z)(ke),mt=(0,l.Z)(Le),ht=(0,l.Z)(je),gt=(0,l.Z)(Re),yt=(0,l.Z)(ye,(e=>ae(ae({},e),{shouldPlay:!0}))),vt=(0,l.Z)(ye,(e=>ae(ae({},e),{shouldPause:!0}))),ft=((0,l.Z)(Pe,(e=>ae(ae({},e),{delta:5}))),(0,l.Z)(Pe,(e=>ae(ae({},e),{delta:-5}))),(0,l.Z)(Ve)),bt=(0,l.Z)(Ue),St=(0,l.Z)(ze);function It(e,t,n){return Math.max(0,Math.min(t-b.uS,e+n))}const Zt={[oe](e,t,n){var r;const{playerType:s,providerEntityID:o,mediaItemID:l,shouldRefreshPlayQueue:c,options:d={}}=t,u=(0,q.F_)(e,s),p=Y.js(e,{providerEntityID:o}),m=Y.xl(e,t),h=Y.$R(e,t);if(!h&&T.wB(p.get("identifier"),[T.Ll,T.vP]))return;const g=m.get("isLocal")?void 0:m.get("playQueueItemID"),y=null==(r=Y.VZ(e,t))?void 0:r.get("grabOperation").get("metadataItem");(function(e,t,n){const{playQueueItemID:r,mediaItemID:s,mediaIndex:o,partIndex:l,partCount:c,state:d,continuing:u,playbackTime:p,positionSeconds:m,durationSeconds:h,metricsContextTuple:g,ratingKey:y,key:v}=n,f=e.get("features").get(D.jN);if(!f)return i().Deferred().reject().promise();const b=((e,t)=>{for(var n in t||(t={}))j.call(t,n)&&U(e,n,t[n]);if(R)for(var n of R(t))V.call(t,n)&&U(e,n,t[n]);return e})({ratingKey:y||t.get("ratingKey"),key:v||t.get("key"),playbackTime:p,playQueueItemID:r,state:d,hasMDE:1},g?(0,k.IF)(g):void 0);if(d===w.il&&u&&(b.continuing=1),T.wB(e.get("identifier"),[T.Ll,T.vP])&&s&&(b.airingID=s),null!=h){const e=1e3*m,n=1e3*h;if(c>1){const n=t.get("Media")[o],r=n.Part[l];b.time=(0,O.Z)(n,r,e),b.duration=n.duration}else b.time=e,b.duration=n;b.duration=Math.max(b.time,b.duration)}(0,E.Z)("[Player] Timeline, %s",b);const S=I.Z.join(f.get("key"),b),Z=t.provider.getXHROptions(S,{headers:{accept:C.Ls.accept,"X-Plex-Session-Identifier":n.playbackSessionID}});return i().ajax(Z).promise().then((e=>{const n=(0,N.Z)(e);return n.terminationCode&&(n.terminationCode=(0,A.Z)(n.terminationCode)),n.generalDecisionCode&&(n.generalDecisionCode=(0,A.Z)(n.generalDecisionCode)),n.mdeDecisionCode&&(n.mdeDecisionCode=(0,A.Z)(n.mdeDecisionCode)),n.transcodeDecisionCode&&(n.transcodeDecisionCode=(0,A.Z)(n.transcodeDecisionCode)),n.Bandwidths&&n.TranscodeSession&&(n.bandwidthTimeline={bandwidths:(0,x.Z)(n.Bandwidths.Bandwidth),transcodeSessionID:a().last(n.TranscodeSession.key.split("/"))}),n.CaptureBuffer&&n.CaptureBuffer.TranscodeSession&&(n.captureBuffer=z(n.CaptureBuffer.TranscodeSession)),n.TranscodeSession&&(n.transcodeSession=z(n.TranscodeSession)),b.time>6e4&&("progress"===n.playbackState?t.set("viewOffset",b.time):"complete"===n.playbackState&&t.set({viewOffset:0,viewCount:1})),n}))})(p,h,ae({state:(0,S.Z)(u),playbackSessionID:u.get("playbackSessionID"),playQueueItemID:g,mediaItemID:l,metricsContextTuple:u.get("metricsContextTuple"),key:null==y?void 0:y.get("key"),ratingKey:null==y?void 0:y.get("ratingKey")},d)).done((0,F.Z)(u,(e=>{n((0,ee.NN)({playerType:s}));const{bandwidthTimeline:t,captureBuffer:r,transcodeSession:i}=e;u.set("bandwidthTimeline",t);const a=u.get("liveTVSession");i?(n(He({playerType:s,seekStartSeconds:i.seekStartSeconds,seekEndSeconds:i.seekEndSeconds})),a&&i.startedAt&&a.set({startedAt:i.startedAt,captureBuffer:r})):r&&(n(He({playerType:s,seekStartSeconds:r.seekStartSeconds,seekEndSeconds:r.seekEndSeconds})),a&&r.startedAt&&a.set({startedAt:r.startedAt}));const o=u.get("playQueue");c&&o.get("playQueueSelectedItemID")===m.get("playQueueItemID")&&(0,M.ZP)(o).done((0,F.Z)(u,(()=>{n((0,ee.NN)({playerType:s}))}))),e.terminationCode&&(n((0,ee.n5)()),u.restoreDefaults({hasError:!0,errorMessage:e.terminationText}))})))},[le](e,{playerType:t,durationMilliseconds:n}){const r=(0,q.F_)(e,t),i=(0,y.Z)(r).get("metadataItem"),s=v(r);if(!s)return;const a=i.get("Media")[s.mediaIndex],o=(0,Q.Z)(a),l=!!o&&"vbr"===o.bitrateMode,c=n>0&&!l?n:a.duration;r.set({isMediaLoading:!1,durationSeconds:Math.floor((c||0)/1e3)})},[ce](e,{playerType:t,positionSeconds:n}){const r=(0,q.F_)(e,t);(0,K.c9)((()=>{const e={positionSeconds:n},t=r.get("lastSeekPositionSeconds");null!==t&&n>t&&(e.lastSeekPositionSeconds=null),r.set(e)}))},[de](e,{playerType:t,seekStartSeconds:n,seekEndSeconds:r}){(0,q.F_)(e,t).set({seekStartSeconds:n,seekEndSeconds:r})},[ue](e,{playerType:t,isBuffering:n}){(0,q.F_)(e,t).set({isBuffering:n})},[pe](e,{playerType:t,isMediaLoading:n}){(0,q.F_)(e,t).set({isMediaLoading:n})},[me](e,t){(0,q.F_)(e,t.playerType).set({isMediaLoading:!1,hasError:!0,errorMessage:t.errorMessage,errorCode:t.errorCode,errorCategory:t.errorCategory})},[he](e,{playerType:t}){const n=(0,q.F_)(e,t);(0,K.c9)((()=>{n.set({hasError:!1,errorMessage:null,errorCode:null,errorCategory:null})}))},[ge](e,t,n){const{metadataItemEntityID:r,liveTVSessionEntityID:s,mediaItemID:a,playerType:o,secondsElapsed:l}=t,c=(0,q.F_)(e,o),d=c.get("playQueue"),u=v(c);if(!u)return;const p=c.get("isPaused"),m=l%30==0;if(l%10==0){const e=d.get("playQueueSelectedItemID"),t=d.get("playQueueItems").get(e);n(Be({playerType:o,providerEntityID:c.get("providerEntityID"),playQueueItemEntityID:t.entityID(),metadataItemEntityID:r,liveTVSessionEntityID:s,mediaItemID:a,options:{playbackTime:c.get("itemPlaybackTime"),positionSeconds:c.get("positionSeconds"),durationSeconds:c.get("durationSeconds"),mediaIndex:u.mediaIndex,partIndex:u.partIndex,partCount:u.partCount}}))}if(m&&p&&u.transcodeSessionID){const t=u.transcodeServerEntityID;!function(e,t){(0,P.Z)(t,"A transcoder ping requires a session identifier"),(0,E.Z)("[Player] Transcoder Ping, %s",t);const n=`/video/:/transcode/universal/ping?session=${t}`;i().ajax(e.getXHROptions(n)).promise()}(Y.SW(e,{serverEntityID:t}),u.transcodeSessionID)}},[ye](e,{playerType:t,shouldPlay:n,shouldPause:r,isApplicationInitiated:i},s){const a=(0,q.F_)(e,t),o=a.get("isPaused"),l=(0,f.Z)(e),c="play",d="pause";let u;i||o||!(0,_.Z)(a)?a.get("isPostPlayVisible")?(0,K.c9)((()=>{a.set({isPostPlayVisible:!1}),l.playNextItem(a,!0)})):(u=n?c:r?d:o?c:d,o&&u===d||!o&&u===c||(0,K.c9)((()=>{l[u](a,i)}))):s((0,W.wp)((0,$.Z)("Pausing is not enabled on this channel")))},[ve](e,{playerType:t,positionSeconds:n}){const r=(0,q.F_)(e,t),i=(0,f.Z)(e);(0,_.Z)(r)||(0,K.c9)((()=>{i.seek(r,n)}))},[fe](e,{playerType:t,positionSeconds:n}){const r=(0,q.F_)(e,t),i=v(r);if(!i)return;const s=(0,y.Z)(r).entityID(),a=r.get("liveTVSession");let o=n;if(a){const e=a.get("captureBuffer"),t=a.get("startedAt");o+=t-e.startedAt,a.set({startedAt:t+n})}const l=ae(ae({},i),{url:Z(i.url,o)});r.set({currentDecision:l,decisions:ae(ae({},r.get("decisions")),{[s]:l})})},[be](e,{playerType:t,allowDebounce:n=!0}){const r=(0,q.F_)(e,t);if((0,_.Z)(r))return;const i=(0,f.Z)(e),s=n?o.Z.seekDebounceMilliseconds:null,a=It(r.get("nextPositionSeconds")||r.get("positionSeconds"),r.get("durationSeconds"),-b.jV);(0,K.c9)((()=>{i.seek(r,a,s)}))},[Se](e,{playerType:t,allowDebounce:n=!0}){const r=(0,q.F_)(e,t);if((0,_.Z)(r))return;const i=(0,f.Z)(e),s=r.get("positionSeconds"),a=r.get("nextPositionSeconds"),l=r.get("durationSeconds"),c=n?o.Z.seekDebounceMilliseconds:null;if(l-s>b.uS){const e=It(a||s,l,b.Jj);(0,K.c9)((()=>{i.seek(r,e,c)}))}},[Ie](e,{playerType:t}){const n=(0,q.F_)(e,t),r=(0,y.Z)(n).get("metadataItem");if((0,_.Z)(n))return;const i=(0,f.Z)(e),s=r.get("chapters"),a=n.get("positionSeconds"),o=n.get("nextPositionSeconds"),l=n.get("durationSeconds");let c;c=s&&s.length?function(e,t){if(e&&e.length){for(let n=e.length-1;n>=0;n--){const r=e.at(n),i=Math.ceil(r.get("startTimeOffset")/1e3);if(i<t-b.Nf)return i}return 0}}(s,o||a):It(o||a,l,-b.qB),(0,K.c9)((()=>{i.seek(n,c)}))},[Ze](e,{playerType:t}){const n=(0,q.F_)(e,t),r=(0,y.Z)(n).get("metadataItem");if((0,_.Z)(n))return;const i=(0,f.Z)(e),s=r.get("chapters"),a=n.get("positionSeconds"),o=n.get("nextPositionSeconds"),l=n.get("durationSeconds");let c;s&&s.length?c=function(e,t){if(e&&e.length)for(let n=0;n<e.length;n++){const r=e.at(n),i=Math.ceil(r.get("startTimeOffset")/1e3);if(i>t)return i}}(s,a):l-(o||a)>b.uS&&(c=It(o||a,l,b._V)),null!=c&&(0,K.c9)((()=>{i.seek(n,c)}))},[Pe](e,{playerType:t,volume:n,delta:r},i){const s=function(e){const t=e.get("remotePlayer");return t?t.get("volume"):(0,G.Z)(e)}(e);let a=r?s+r:n;if(a=Math.max(0,Math.min(100,a)),a===s)return;const o=(0,q.F_)(e,t),l=(0,f.Z)(e);(0,K.c9)((()=>{l.changeVolume(o,a,i)}))},[Ee](e,{playerType:t}){const n=(0,q.F_)(e,t),r=n.get("isSettingsVisible");(0,K.c9)((()=>{n.set((0,B.Z)(n,r,{isSettingsVisible:!r,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!1,isWatchTogetherParticipantsVisible:!1}))}))},[Me](e,{playerType:t}){const n=(0,q.F_)(e,t),r=n.get("isChaptersVisible");(0,K.c9)((()=>{n.set((0,B.Z)(n,r,{isSettingsVisible:!1,isChaptersVisible:!r,isPlayQueueVisible:!1,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!1,isWatchTogetherParticipantsVisible:!1}))}))},[we](e,{playerType:t}){const n=(0,q.F_)(e,t),r=n.get("isSubtitlesOffsetSettingsVisible");(0,K.c9)((()=>{n.set((0,B.Z)(n,r,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!r,isWatchTogetherParticipantsVisible:!1}))}))},[De](e,{playerType:t}){const n=(0,q.F_)(e,t),r=n.get("isWatchTogetherParticipantsVisible");(0,K.c9)((()=>{n.set((0,B.Z)(n,r,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1,isWatchTogetherParticipantsVisible:!r}))}))},[Ce](e,{playerType:t,qualityIndex:n}){const r=(0,q.F_)(e,t);(0,f.Z)(e).changeQualityIndex(r,n)},[Te](e,t,n){const{playerType:r,streamTypeString:i,streamID:s}=t,a=e.get("remotePlayer"),o=(0,q.F_)(e,r),l=(0,y.Z)(o).get("metadataItem"),c=(0,f.Z)(e);n((0,H.Bs)({metadataItemEntityID:l.entityID(),mediaIndex:o.get("mediaIndex"),streamTypeString:i,streamID:s,updateLocalOnly:!!a,allParts:o.get("partIndex")>0})),c.changeStream(o,i,s)},[Oe](e,{playerType:t,subtitleColor:n},r){const i=(0,q.F_)(e,t);(0,f.Z)(e).changeSubtitleColor(i,n,r)},[xe](e,{playerType:t,subtitlePosition:n},r){const i=(0,q.F_)(e,t);(0,f.Z)(e).changeSubtitlePosition(i,n,r)},[Ae](e,{playerType:t,subtitleSize:n},r){const i=(0,q.F_)(e,t);(0,f.Z)(e).changeSubtitleSize(i,n,r)},[Ne](e,t,n){const{playerType:r,subtitleOffset:s,localUpdateOnly:a}=t,o=(0,f.Z)(e),l=(0,q.F_)(e,r),d=l.get("mediaIndex")||0,u=l.get("partIndex")||0,p=(0,y.Z)(l).get("metadataItem"),m=p.get("Media"),h=m[d],v=h.Part[u],b=X.Z.get("subtitles").id,S=v.Stream.find((e=>e.streamType===b&&e.selected)),Z=function(e,t,n,r,i){const s=g(g({},r),{offset:i}),a=(0,c.Z)(n.Stream,r,s),o=g(g({},n),{Stream:a}),l=g(g({},t),{Part:(0,c.Z)(t.Part,n,o)});return(0,c.Z)(e,t,l)}(m,h,v,S,s);if(p.set({Media:Z}),a)return;const P={offset:s};let E=S.key;T.wB(p.provider.get("identifier"),T.uk)&&(E=`/library/parts/${v.id}`,P.subtitleStreamID=S.id);const M=I.Z.join(E,P),C=p.provider.getXHROptions(M,{type:"PUT",scope:"setMetadataItemStreamOffset--"+S.id});J.Z.abortAll(C.scope),i().ajax(C).fail((e=>{e.aborting||p.get("Media")===Z&&p.set({Media:m})})),o.changeSubtitleOffset(l,s,n)},[ke](e,{playerType:t,playbackSpeed:n}){const r=(0,q.F_)(e,t),i=(0,f.Z)(e),s=Math.round(10*n)/10;i.changePlaybackSpeed(r,s)},[Le](e,{playerType:t,playbackTime:n},r){(0,q.F_)(e,t).set("itemPlaybackTime",n)},[je](e,{playerType:t,playbackTime:n},r){(0,q.F_)(e,t).set("sessionPlaybackTime",n)},[Re](e,{playerType:t}){const n=(0,q.F_)(e,t);(0,y.Z)(n).get("metadataItem").fetch({data:{skipRefresh:1},usePopulatedParams:!0})},[Ve](e,{playerType:t,bufferedRanges:n}){const r=(0,q.F_)(e,t),i=n.map((e=>({startSeconds:Math.ceil(e.startSeconds),endSeconds:Math.floor(e.endSeconds)}))).sort(((e,t)=>e.startSeconds-t.startSeconds)).reduce(((e,t)=>{var n,r;const i=e.length-1;return t.startSeconds<(null==(n=e[i])?void 0:n.startSeconds)||t.startSeconds<(null==(r=e[i])?void 0:r.endSeconds)?(e[i].startSeconds=Math.min(e[i].startSeconds,t.startSeconds),e[i].endSeconds=Math.max(e[i].endSeconds,t.endSeconds)):e.push(t),e}),[]);a().isEqual(r.get("bufferedRanges"),i)||r.set({bufferedRanges:i})},[Ue](e,{playerType:t,width:n,height:r}){(0,q.F_)(e,t).set({mediaWidth:n,mediaHeight:r})},[ze](e,{playerType:t,canPlayThrough:n}){const r=(0,q.F_)(e,t);r.get("canPlayThrough")!==n&&r.set({canPlayThrough:n})}}},76331:(e,t,n)=>{"use strict";n.r(t),n.d(t,{INIT_RECORDING_SCHEDULE_PAGE:()=>I,CLEAR_RECORDING_SCHEDULE_PAGE:()=>Z,FETCH_MEDIA_SUBSCRIPTIONS:()=>P,MOVE_MEDIA_SUBSCRIPTION:()=>E,SET_VISIBLE_DAYS:()=>M,GO_TO_TODAY:()=>C,GO_TO_PREVIOUS_RANGE:()=>w,GO_TO_NEXT_RANGE:()=>D,FETCH_CALENDAR:()=>T,PLAY_RECORDING:()=>O,CLEAR_MOVE_ERROR:()=>x,initRecordingSchedulePage:()=>A,clearRecordingSchedulePage:()=>N,fetchMediaSubscriptions:()=>k,moveMediaSubscription:()=>L,setVisibleDays:()=>j,goToToday:()=>R,goToPreviousRange:()=>V,goToNextRange:()=>U,fetchCalendar:()=>z,playRecording:()=>B,clearMoveError:()=>_,recordingSchedulePageActionHandlers:()=>Q});var r=n(77349),i=n(42227),s=n(42902),a=n(7069),o=n(95688),l=n(67249),c=n(61688),d=n(40807),u=n(3265),p=n(33816),m=n(7536),h=n(53145),g=n(79932),y=n(69605),v=n(72759),f=n(28440),b=n(27082),S=n(5562);const I="ui/recordingSchedulePage/initRecordingSchedulePage",Z="ui/recordingSchedulePage/clearRecordingSchedulePage",P="ui/recordingSchedulePage/fetchMediaSubscriptions",E="ui/recordingSchedulePage/moveMediaSubscription",M="ui/recordingSchedulePage/setVisibleDays",C="ui/recordingSchedulePage/goToToday",w="ui/recordingSchedulePage/goToPreviousRange",D="ui/recordingSchedulePage/goToNextRange",T="ui/recordingSchedulePage/fetchCalendar",O="ui/recordingSchedulePage/playRecording",x="ui/recordingSchedulePage/clearMoveError",A=(0,d.Z)(I),N=(0,d.Z)(Z),k=(0,d.Z)(P),L=(0,d.Z)(E),j=(0,d.Z)(M),R=(0,d.Z)(C),V=(0,d.Z)(w),U=(0,d.Z)(D),z=(0,d.Z)(T),B=(0,d.Z)(O),_=(0,d.Z)(x);function F(e){return e.get("ui").get("recordingSchedulePage")}function H(e){return F(e).get("calendar")}function W(e,t,n){const r=F(e),i=(0,f.SW)(e,t);if(r.get("isPagePopulated")){const e=r.get("calendar"),t=r.get("mediaSubscriptions");e&&e.server===i&&n(z()),t&&t.server===i&&n(k())}}const Q=(0,u.Z)({[I](e,t){const n=F(e),r=n.get("mediaSubscriptions"),i=n.get("calendar"),s=(0,f.SW)(e,t),a={isPagePopulated:!0,isCalendarPending:!1,isCalendarPopulated:!1,calendarError:null};r&&r.server===s||(a.mediaSubscriptions=new c.Z([],{server:s})),i&&i.server===s?i.restoreDefaults():a.calendar=new l.Z({},{server:s}),n.set(a)},[Z](e){F(e).set("isPagePopulated",!1)},[P]:(0,p.Z)({key:"mediaSubscriptions",getModel:F}),[E](e,t){const n=F(e),r=n.get("mediaSubscriptions"),i=(0,f.xS)(e,t),s=i&&r.indexOf(i),{moveIndex:a}=t;if((0,b.c9)((()=>{n.set({mediaSubscriptionMoveError:null})})),s===a||s===a-1)return;const o=a>s?a-1:a;r.remove(i),r.add(i,{at:o});const l=o>0?r.at(o-1).id:void 0;(0,m.Z)(i,l).fail((e=>{r.remove(i),r.add(i,{at:s});const t=401===e.status?(0,S.Z)("You do not have permission to perform this action."):(0,S.Z)("There was a problem saving your changes. Please try again.");n.set({mediaSubscriptionMoveError:t})}))},[x](e,t){F(e).set({mediaSubscriptionMoveError:null})},[M](e,t,n){H(e).set("visibleDays",t.visibleDays)},[C](e,t,n){H(e).set("time",(0,s.Z)(new Date))},[w](e,t,n){const r=H(e),o=r.get("visibleDays"),l=(0,i.Z)(r.get("time"));r.set("time",(0,s.Z)((0,a.Z)(l,o)))},[D](e,t,n){const a=H(e),o=a.get("visibleDays"),l=(0,i.Z)(a.get("time"));a.set("time",(0,s.Z)((0,r.Z)(l,o)))},[T]:(0,p.Z)({key:"calendar",getModel:F}),[O](e,t,n){const{serverEntityID:r,providerEntityID:i,linkedKey:s,metricsContext:a}=t,l=(0,f.SW)(e,t),c=new o.Z({key:s},{server:l});c.populate().done((()=>{n((0,g.wA)({serverEntityID:r,providerEntityID:i,metadataItemEntityID:c.entityID(),metricsPage:y.WT,metricsContext:a}))}))},[h.Cs](e,t,n){const r=t.activity;r.type===v.l1&&W(e,t,n),r.type===v.sC&&"error"===r.Response.status&&W(e,t,n)}})},82128:(e,t,n)=>{"use strict";n.d(t,{kS:()=>S,ao:()=>I,LL:()=>Z,N3:()=>w});var r=n(19755),i=n.n(r),s=n(68870),a=n(40807),o=n(3265),l=n(34699),c=n(11203),d=n(53145),u=n(20023),p=n(72759),m=n(28440),h=n(5562),g=n(84936);const y="ui/subtitlesModal/resetMetadataItemSubtitles",v="ui/subtitlesModal/fetchMetadataItemSubtitles",f="ui/subtitlesModal/downloadMetadataItemSubtitle",b="ui/subtitlesModal/clearSubtitlesDownloadError",S=(0,a.Z)(y),I=(0,a.Z)(v),Z=(0,a.Z)(f);(0,a.Z)(b);let P=null;function E(e){return e.get("ui").get("subtitlesModal")}function M(e,t){P&&(P=window.clearTimeout(P));const n=t.get("metadataItemEntityID"),r=(0,m.$R)(e,{metadataItemEntityID:n}),i=r.server,s=t.get("subtitlesDownloadStartTime"),a=t.get("isSubtitlesDownloaded"),o=t.get("subtitlesDownloadError"),l=t.get("subtitlesDownloadKey");a||o||(s&&Date.now()-s>3e4?t.set({subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null,isSubtitlesDownloaded:!1,subtitlesDownloadError:(0,h.Z)("Failed to download subtitles in time")}):P=window.setTimeout((()=>{r.fetch({data:{skipRefresh:1},usePopulatedParams:!0}).then((()=>{if(r.get("Media").some((e=>e.Part.some((e=>e.Stream.some((e=>e.key===l)))))))return t.set({subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null,isSubtitlesDownloaded:!0,subtitlesDownloadError:null}),void C(e);i.get("hasEventConnection")||M(e,t)}),(()=>{M(e,t)}))}),2e3))}function C(e){const t=e.get("ui").get("audioVideoPlayer");t.get("isOpen")&&(0,l.Z)(e).refreshRemoteStreams(t)}const w=(0,o.Z)({[y](e){const t=E(e),n=t.get("subtitles");P&&(P=window.clearTimeout(P)),n.abortPendingPopulate(),n.resetPopulatePromise(null),t.restoreDefaults()},[v](e,t,n){const r=E(e),i=function(e){return e.get("user").get("profile")}(e),a=(0,m.$R)(e,t),o=a.server.entityID(),l=r.get("subtitles");l&&(l.abortPendingPopulate(),l.resetPopulatePromise(null));const c=new s.Z([],{key:a.get("key"),server:a.server,provider:a.provider,language:t.language,title:t.title,mediaItemID:t.mediaItemID,minimumScore:t.minimumScore,hearingImpaired:i.get("defaultSubtitleAccessibility"),forced:i.get("defaultSubtitleForced")});r.set({subtitles:c,serverEntityID:o,metadataItemEntityID:t.metadataItemEntityID,isSubtitlesPending:!0,isSubtitlesPopulated:!1,subtitlesError:null}),c.fetch().then((e=>{r.set({isSubtitlesPending:!1,isSubtitlesPopulated:!0})}),((e,t)=>{t.aborting?r.set("isSubtitlesPending",!1):r.set({isSubtitlesPending:!1,subtitlesError:(0,u.Z)(t,(0,h.Z)("Unable to load subtitles"))})}))},[f](e,t,n){const r=E(e),s=(0,m.$R)(e,t),a=s.server,o={key:t.key,codec:t.codec,language:t.language,hearingImpaired:t.hearingImpaired?1:0,forced:t.forced?1:0,providerTitle:t.providerTitle,mediaItemID:t.mediaItemID,transient:t.transient},l=g.Z.join([s.get("key"),"/subtitles"],o),c=a.getXHROptions(l,{type:"PUT"});r.set({subtitlesDownloadKey:t.key,subtitlesDownloadStartTime:Date.now(),isSubtitlesDownloaded:!1,subtitlesDownloadError:null}),i().ajax(c).then(((t,n,i)=>{const s=i.getResponseHeader("X-Plex-Activity");r.set("subtitlesDownloadActivityID",s),a.get("hasEventConnection")||M(e,r)}),(e=>{r.set({subtitlesDownloadKey:null,subtitlesDownloadError:(0,u.Z)(e,(0,h.Z)("Unable to download subtitles"))})}))},[b](e){E(e).set("subtitlesDownloadError",null)},[d.db](e,t){const{serverEntityID:n}=t,r=E(e);n===r.get("serverEntityID")&&M(e,r)},[d.Cs](e,t,n){const{activity:r}=t;if(r.type!==p.iJ)return;const i=E(e);if(r.uuid!==i.get("subtitlesDownloadActivityID"))return;const s=i.get("serverEntityID"),a=i.get("metadataItemEntityID"),o={subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null},l=null!=r.Response.error;l?(o.isSubtitlesDownloaded=!1,o.subtitlesDownloadError=r.Response.status):o.isSubtitlesDownloaded=!0,i.set(o),l||(C(e),n((0,c.dk)({serverEntityID:s,metadataItemEntityID:a})))}})},32901:(e,t,n)=>{"use strict";n.d(t,{_z:()=>s,Rw:()=>a,jR:()=>o,wp:()=>l,J0:()=>c});var r=n(40807),i=n(88630);const s="ui/repopulatePage",a="ui/showAlert",o=(0,r.Z)(s),l=(0,r.Z)(a,(e=>"string"==typeof e?{type:i.p,message:e}:e)),c={[a](e,t){}}},4134:(e,t,n)=>{"use strict";n.d(t,{k_:()=>l,gk:()=>c,FC:()=>d,pL:()=>u,xZ:()=>p,tB:()=>m,Dz:()=>h,PF:()=>g,xh:()=>y,$Q:()=>f,LN:()=>b,fB:()=>S,Dv:()=>I,dB:()=>Z,R4:()=>P,Kq:()=>E});var r=n(40807),i=n(33816),s=n(27940),a=n(96840),o=n(28440);const l="user/lockUser",c="user/fetchUserFeatures",d="user/populateUserFeatures",u="user/saveExperienceSettings",p="user/saveSubtitleColor",m="user/saveSubtitlePosition",h="user/saveSubtitleSize",g="user/saveAutoPlay",y=(0,r.Z)(l),v=(0,r.Z)(c),f=(0,r.Z)(d),b=(0,r.Z)(u),S=(0,r.Z)(p),I=(0,r.Z)(m),Z=(0,r.Z)(h),P=(0,r.Z)(g),E={[l](e,t){a.Z.error("LOCK_USER must be handled by each project")},[c]:(0,i.Z)({key:"features",getModel:o.VX}),[d]:(0,s.Z)({key:"features",fetchActionCreator:v,getModel:o.VX}),[u](e,t){a.Z.error("SAVE_EXPERIENCE_SETTINGS must be handled by each project")},[p](e,t,n){n(b(t))},[m](e,t,n){n(b(t))},[h](e,t,n){n(b(t))},[g](e,t,n){n(b(t))}}},50602:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(72194);function i(e,t){return(0,r.Z)(e,(e=>t.reduce(((t,n)=>(e&&n in e&&(t[n]=e[n]),t)),{})))}},72194:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(13469),s=n.n(i);const a=(0,r.wN)(r.PW,s().isEqual)},91121:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(22222),i=n(13469),s=n.n(i),a=n(96516),o=n(77909),l=n(74995),c=n(67006),d=n(55605),u=n(84936);const p={},m={};function h(e,t){const{serverEntityID:n,providerEntityID:i}=t,u=`${n}:${i}`;return m[u]||(m[u]=(0,a.Z)((0,r.P1)((0,l.Z)(),(0,o.Z)(),((e,t)=>{const n=e&&e.activeConnection&&e.activeConnection.uri;if(!n)return p;let r,i="/photo/:/transcode",a=!1,o=!1;if(t){const e=s().findWhere(t.features,{type:c.Yd});e&&(i=e.key,a=(0,d.Z)(i),o=e.public)}return r=a?t&&t.baseURL?t.baseURL:n:"",{accessToken:e.accessToken,baseUrl:r,isAbsoluteTranscodeKey:a,isPublicTranscoder:o,transcodeKey:i,uri:n}})),(e=>e))),m[u](e,t)}function g(e){const t=e&&e.urlParams;return(0,r.P1)(((e,{url:t})=>t),h,((e,n)=>{if(!e||n===p)return;const{accessToken:r,baseUrl:i,isAbsoluteTranscodeKey:s,isPublicTranscoder:a,transcodeKey:o,uri:l}=n;let c;if((0,d.Z)(e))c=e;else{const n={"X-Plex-Token":r};t&&Object.assign(n,t),c=u.Z.join([i,e],n)}const m=s?o:[l,o];return u.Z.join(m,{url:c,"X-Plex-Token":a?void 0:r})}))}},96516:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(81324);const s=(0,r.wN)(r.PW,i.Z)},96181:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(22222),i=n(4792),s=n(67006);const a=i.Z.bind(null,s.HR);var o=n(77909),l=n(72021),c=n(69881),d=n(46525),u=n(84936);var p=Object.defineProperty,m=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))m.call(t,n)&&y(e,n,t[n]);if(h)for(var n of h(t))g.call(t,n)&&y(e,n,t[n]);return e};function f(){return(0,r.P1)(((e,{activeFilters:t})=>t),(0,o.Z)(),a(),((e=[],t,n)=>t?function(e,{type:t,filters:n,sort:r,limit:i}){const s=u.Z.join(e),a={};return t&&(a.type=t),r&&(a.sort=r),i&&(a.limit=i),u.Z.join(function(e,t){const n=(0,d.Z)(t,!0);if(!n)return e;const r=e.indexOf("?"),i=e.length;return(e+=r>-1?r<i-1?"&":"":"?")+n}(s,n),a,{parseParams:!0})}(n?n.key:`/${t.identifier}/grid`,{type:[(0,c.getMetadataType)(c.MOVIE).id,(0,c.getMetadataType)(c.EPISODE).id].join(","),filters:e.reduce(((e,t)=>(t.key===l.T?e.push(v(v({},t),{key:"channel.value"})):e.push(t),e)),[]),sort:"beginsAt"}):null))}},15945:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(50091),s=n(50362);const a=function(){return(0,r.P1)((0,i.Z)(),s.Z,((e,t)=>e&&e.metadataItems?e.metadataItems.map((e=>t[e])):[]))}},79498:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(74995),s=n(56733);function a(){return(0,r.P1)(s.Z,(0,r.P1)((0,i.Z)(),(e=>e?e.desktop.libraries:void 0)),((e,t)=>t?t.map((t=>e[t])):[]))}},56733:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(32486);const s=(0,r.P1)(i.Z,(e=>e.libraries))},93957:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(22222),i=n(13469),s=n.n(i),a=n(81017),o=n(77414),l=n(72759);const c=function(){return(0,r.P1)((0,o.Z)(),(0,a.Z)(),((e,t)=>s().find(e,(e=>e.type===l.sC&&e.Context.itemKey&&e.Context.itemKey===t.key))))}},76889:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(997);function s(){return(0,r.P1)((0,i.Z)(),(e=>e&&e.currentPosition))}},20774:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(22222),i=n(76889),s=n(71716),a=n(997);function o(){return(0,r.P1)((0,s.Z)(),(0,i.Z)(),(0,a.Z)(),((e,t,n)=>{if(!e||null===t||!n)return;const r=n.channelIdentifier;return e.Media.find((e=>{const{beginsAt:n,endsAt:i,channelIdentifier:s}=e;return s===r&&n<=t&&i>t}))}))}},71716:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(22222),i=n(50362),s=n(18908);const a=(0,r.P1)((e=>{var t;return null==(t=e.ui.channelGridPage)?void 0:t.metadataList}),s.Z,i.Z,((e,t,n)=>{const r=t[e];return r&&r.metadataItems?r.metadataItems.map((e=>n[e])):[]}));var o=n(76889),l=n(997);function c(){return(0,r.P1)((0,l.Z)(),(0,o.Z)(),a,((e,t,n)=>{if(!e||null===t)return;const r=e.channelIdentifier;for(let e=0;e<n.length;e++){const i=n[e];for(let e=0;e<i.Media.length;e++){const n=i.Media[e],{beginsAt:s,endsAt:a,channelIdentifier:o}=n;if(o===r&&s<=t&&a>t)return i}}}))}},997:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(22222),i=n(38516),s=n(32486);const a=(0,r.P1)(s.Z,(e=>e.liveTVSessions));function o(){return(0,r.P1)(a,(0,i.Z)("liveTVSession"),((e,t)=>e[t]))}},69907:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(22222),i=n(13469),s=n.n(i),a=n(77909),o=n(77414),l=n(72759);const c=function(){return(0,r.P1)((0,a.Z)(),(0,o.Z)(),((e,t)=>e?s().find(t,(t=>t.type===l.JW&&t.Context.identifier===e.identifier)):null))}},81017:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(50362);function s(){return(0,r.P1)(((e,{metadataItemEntityID:t})=>t),i.Z,((e,t)=>t[e]))}},7790:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(22222),i=n(81017),s=n(92645),a=n(1998);function o(){return(0,r.P1)((0,s.Z)(),(0,i.Z)(),((e,t)=>{if(t)return(0,a.Z)(e,t.librarySectionID)}))}},50091:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(18908);function s(){return(0,r.P1)(((e,{metadataListEntityID:t})=>t),i.Z,((e,t)=>t[e]))}},45206:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(22222),i=n(81017),s=n(70488),a=n(74253),o=n(86953);function l(){return(0,r.P1)((0,i.Z)(),s.Z,a.Z,((e,t,n)=>e&&e.source||(0,o.Z)({providerIdentifier:t.identifier,serverIdentifier:n.machineIdentifier})))}},54834:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(22222),i=n(13469),s=n.n(i),a=n(21918),o=n(30084),l=n(70515),c=n(81017);const d={s:"seconds",m:"minutes",h:"hours",d:"days",w:"weeks",M:"months",y:"years"};function u(e){if("now"===e)return{};const t=e.match(/([-+]?\d+)([smhdwMy])/);if(t){const[,e,n]=t;if(e&&n)return{[d[n]]:parseInt(e,10)}}else{const t=parseInt(e,10);if(s().isNumber(t))return t}return{}}function p(e,t){return!(!s().isObject(t)||!(0,a.Z)(e,t))||e>=t}function m(e,t){return!(!s().isObject(t)||!(0,o.Z)(e,t))||e<=t}function h(){return(0,r.P1)(((e,{containerKey:t})=>t),(0,c.Z)(),((e,t)=>{if(!t||!t.Media)return;const n=function(e){if(!e)return;const[,t]=e.split("?");return t?l.Z.parseQueryString(t):void 0}(e),r=s().sortBy(t.Media,"endsAt"),i=Date.now()/1e3;for(let e=0,t=r.length;e<t;e++){const t=r[e];if(n){const e=n["beginsAt>"],r=n["beginsAt<"],i=n["endsAt>"],s=n["endsAt<"];if(e){const n=u(e);if(m(t.beginsAt,n))continue}if(r){const e=u(r);if(p(t.beginsAt,e))continue}if(i){const e=u(i);if(m(t.endsAt,e))continue}if(s){const e=u(s);if(p(t.endsAt,e))continue}}if(t.endsAt>i)return t}return s().first(r)}))}},50362:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(32486);const s=(0,r.P1)(i.Z,(e=>e.metadataItems))},18908:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(32486);const s=(0,r.P1)(i.Z,(e=>e.metadataLists))},38516:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(83144);function s(e){return(0,r.P1)((0,i.Z)(),(t=>t?t[e]:void 0))}},44861:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(22222),i=n(13469),s=n.n(i),a=n(96516);const o=function(e,t){return(0,a.Z)((0,r.P1)((e=>e.ui),((e,{playerType:t})=>t),((n,r=t)=>{const i=r+"Player";return n[i]?s().pick(n[i],e):{}})),(e=>e))}},83144:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(22222);function i(){return(0,r.P1)((e=>e.ui),((e,{playerType:t})=>t),((e,t)=>e[t+"Player"]))}},89971:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(32486);const s=(0,r.P1)(i.Z,(e=>e.playQueueItems))},18878:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(84250);const s=(0,r.P1)(i.Z,(e=>!!e))},84250:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return e.remotePlayer}},92645:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(77909),s=n(3386);function a(){return(0,r.P1)((0,i.Z)(),(e=>{const t=(0,s.Z)(e);return t?t.directories:[]}))}},4792:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(22222),i=n(13469),s=n.n(i),a=n(77909);function o(e){return(0,r.P1)((0,a.Z)(),(t=>{if(t)return s().findWhere(t.features,{type:e})}))}},38248:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(74995);function s(){return(0,r.P1)((0,i.Z)(),(e=>e?e.providers:void 0))}},77909:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(98727);function s(){return(0,r.P1)(((e,{providerEntityID:t})=>t),i.Z,((e,t)=>t[e]))}},98727:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(32486);const s=(0,r.P1)(i.Z,(e=>e.providers))},757:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(70488);function i(e,{metadataItemEntityID:t}){const n=e.entities.metadataItems[t],i=n&&n.providerEntityID;if(i)return(0,r.Z)(e,{providerEntityID:i})}},47933:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(22222),i=n(98727),s=n(90217),a=n(59701);const o=(0,r.P1)(s.Z,i.Z,(0,a.Z)("providers"),((e,t,n)=>e.reduce(((e,r)=>{const i=(r.isCloud?n:r.providers).map((e=>({server:r,provider:t[e]}))),s=i.length?i:[{server:r}];return e.push(...s),e}),[])))},70488:(e,t,n)=>{"use strict";n.d(t,{R:()=>a,Z:()=>l});var r=n(22222),i=n(72194),s=n(67006);function a(e){return e?{entityID:e.entityID,id:e.id,parentID:e.parentID,identifier:e.identifier,metricsIdentifier:e.metricsIdentifier,isLibraryProvider:e.isLibraryProvider,isPopulated:!!e.isPopulated,epgSource:e.epgSource,title:e.title,sourceTitle:e.sourceTitle,protocols:e.protocols.reduce(((e,t)=>(e[t]=!0,e)),{}),features:e.features.reduce(((e,t)=>{let n=t;if(t.type===s.aO){let e={type:s.aO};e=t.actions.reduce(((e,t)=>(e[t.id]=t,e)),e),n=e}return e[t.type]=n,e}),{})}:null}const o={};function l(e,{providerEntityID:t}){let n=o[t];return n||(n=(0,i.Z)((0,r.P1)(((e,t)=>e.entities.providers[t]),a),(e=>e)),o[t]=n),n(e,t)}},74816:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(98727),s=n(59701);const a=(0,r.P1)((0,s.Z)("providers"),i.Z,((e,t)=>e?e.map((e=>t[e])):[]))},96649:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(32486);const s=(0,r.P1)(i.Z,(e=>e.searchResults));function a(){return(0,r.P1)(s,((e,{searchResultEntityID:t})=>t),((e,t)=>e[t]))}},32486:(e,t,n)=>{"use strict";function r(e){return e.entities}n.d(t,{Z:()=>r})},77414:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(74995);const s=function(){return(0,r.P1)((0,i.Z)(),(e=>{if(e)return e.desktop.activities}))}},88413:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>l,tk:()=>c,k8:()=>d,Ol:()=>u});var r=n(22222),i=n(13469),s=n.n(i),a=n(72759),o=n(77414);function l(e){return(0,r.P1)((0,o.Z)(),(t=>s().find(t,{type:e})))}function c(){return l(a.nJ)}function d(){return l(a.zL)}function u(){return l(a.y0)}},43045:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(74995);function s(){return(0,r.P1)((0,i.Z)(),(e=>e&&e.desktop))}},74995:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(4524);function s(){return(0,r.P1)(((e,{serverEntityID:t})=>t),i.Z,((e,t)=>t[e]))}},4524:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(32486);const s=(0,r.P1)(i.Z,(e=>e.servers))},2375:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(4524);const s=(0,r.P1)(i.Z,(e=>e.cloudServer),((e,t)=>e[t]))},20531:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(757),s=n(50316);const a=(0,r.P1)(s.Z,i.Z,((e,t)=>({itemServerEntityID:e&&e.entityID,itemProviderEntityID:t&&t.entityID})))},50316:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(74253);function i(e,{metadataItemEntityID:t}){const n=e.entities.metadataItems[t],i=n&&n.serverEntityID;if(i)return(0,r.Z)(e,{serverEntityID:i})}},13209:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(36237);const s=(0,r.P1)(i.Z,(e=>e.map((e=>e.entityID))))},36237:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(96516),s=n(90217);const a=(0,i.Z)((0,r.P1)(s.Z,(e=>e.filter((e=>e.isFullOwnedServer&&e.isConnected)))),(e=>e))},53824:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(96516),s=n(90217);const a=(0,i.Z)((0,r.P1)(s.Z,(e=>e.filter((e=>(e.isFullOwnedServer||e.isShared)&&e.isConnected)))),(e=>e))},61254:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(90217);const s=(0,r.P1)(i.Z,(e=>e.filter((e=>e.isFullServer&&!!e.friendlyName))))},90217:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(4524);const s=(0,r.P1)(i.Z,(e=>e.servers),(e=>e.embeddedServer),(e=>e.transientServer),((e,t,n,r)=>{const i=t?t.map((t=>e[t])):[];return n&&e[n]&&i.push(e[n]),r&&e[r]&&i.push(e[r]),i}))},39365:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(96516),s=n(90217);const a=(0,i.Z)((0,r.P1)(s.Z,(e=>e.reduce(((e,t)=>(t.isFullOwnedServer&&t.isClaimed&&t.friendlyName&&e.push(t.entityID),e)),[]))),(e=>e))},74253:(e,t,n)=>{"use strict";n.d(t,{h:()=>s,Z:()=>o});var r=n(22222),i=n(96516);function s(e){return e?{entityID:e.entityID,machineIdentifier:e.machineIdentifier,version:e.version,friendlyName:e.friendlyName,sourceTitle:e.sourceTitle,allowSync:e.allowSync,allowMediaDeletion:e.allowMediaDeletion,backgroundProcessing:e.backgroundProcessing,transcoderVideo:e.transcoderVideo,isConnected:e.isConnected,isUnavailable:e.isUnavailable,isFullServer:e.isFullServer,isFullOwnedServer:e.isFullOwnedServer,isOutOfDate:e.isOutOfDate,isCloud:e.isCloud,isShared:e.isShared,livetv:e.livetv,ownerId:e.ownerId,ownerFeatures:e.ownerFeatures}:null}const a={};function o(e,{serverEntityID:t}){let n=a[t];return n||(n=(0,i.Z)((0,r.P1)(((e,t)=>e.entities.servers[t]),s),(e=>e)),a[t]=n),n(e,t)}},77726:(e,t,n)=>{"use strict";function r(e){return e.deviceSettings}n.d(t,{Z:()=>r})},77811:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(93966);function i(e){const t=e.remotePlayer;return t?t.volume:(0,r.DB)("selectLocalVolume")(e)}},90934:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(32486);const s=(0,r.P1)(i.Z,(e=>e.mediaSubscriptions))},72668:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(22222),i=n(74816),s=n(2375),a=n(59701);const o=(0,r.P1)(s.Z,(0,a.Z)("isProvidersPopulated"),(0,a.Z)("providersError"),i.Z,((e,t,n,r)=>{if(e.isRejected)return!0;const i=(t||!!n)&&r.every((e=>e.isPopulated||!!e.error));return e.isResourcesPopulated&&i}))},90354:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(34891);function s(){return(0,r.P1)(i.Z,((e,t)=>t.friendEntityID),((e,t)=>e[t]))}},59701:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(92187);const s={};function a(e){if(s[e])return s[e];const t=(0,r.P1)(i.Z,(t=>t[e]));return s[e]=t,t}},55885:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(61676);const s={},a=function(e){const t=s[e]||(0,r.P1)(i.Z,(t=>!!t[e]));return s[e]=t,t}},34891:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(32486);const s=(0,r.P1)(i.Z,(e=>e.friends))},52581:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(32486);const s=(0,r.P1)(i.Z,(e=>e.homeUsers))},76892:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(59468);const s=(0,r.P1)(i.Z,(e=>e.savedPivotParams))},1977:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return e.ui.authCodeExchange}},82261:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(92187);const s=(0,r.P1)(i.Z,(e=>e.allFriends))},81079:(e,t,n)=>{"use strict";function r(e){return!!e.user.anonymous}n.d(t,{Z:()=>r})},57358:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(22222),i=n(59701),s=n(81079),a=n(32553);const o=(0,r.P1)(s.Z,(0,i.Z)("features"),(0,i.Z)("services"),(function(e,t=[],n=[]){return{anonymous:e,features:(0,a.Z)(t,(e=>e.uuid),(()=>!0)),services:(0,a.Z)(n,(e=>e.id),(e=>e))}}))},92187:(e,t,n)=>{"use strict";function r(e){return e.user}n.d(t,{Z:()=>r})},59468:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(92187);const s=(0,r.P1)(i.Z,(e=>e.experienceSettings))},61676:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(93063),s=n(59701);const a=(0,r.P1)((0,s.Z)("features"),i.Z)},2530:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(92187);const s=(0,r.P1)(i.Z,(e=>e.desktop))},84571:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(59468);const s=(0,r.P1)(i.Z,(({language:e})=>e))},31500:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(59468);const s=(0,r.P1)(i.Z,(e=>e.sidebarSettings)),a=(0,r.P1)(s,(e=>e.pinnedSources))},99449:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(32486);const s=(0,r.P1)(i.Z,(e=>e.watchTogetherRooms||{}))},19130:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(13469),i=n.n(r);function s(){i().isFunction(this.initialize)&&this.initialize.apply(this,arguments)}s.extend=function(e,t){const n=this;let r;r=e&&i().has(e,"constructor")?e.constructor:function(){return n.apply(this,arguments)||null},i().extend(r,n,t);const s=function(){this.constructor=r};if(s.prototype=n.prototype,r.prototype=new s,e&&e.hasOwnProperty("mixins")){let t=e.mixins;delete e.mixins,Array.isArray(t)||(t=[t]),i().each(t,(function(e){i().extend(r.prototype,e)}))}return e&&i().extend(r.prototype,e),r.__super__=n.prototype,r};const a=s},32553:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t,n){return e.reduce(((e,r)=>(e[t(r)]=n(r),e)),{})}},54441:(e,t,n)=>{"use strict";function r(e,t,n){let r=e.slice(0);if(n<0||n>r.length)return r;const i=r[t];return r=function(e,t){const n=e.slice(0);return t<0||t>=n.length||n.splice(t,1),n}(r,t),r.splice(n,0,i),r}n.d(t,{Z:()=>r})},4920:(e,t,n)=>{"use strict";function r(e,t,n){const r=e.indexOf(t);if(r<0)return e;const i=e.slice(0);return i[r]=n,i}n.d(t,{Z:()=>r})},46717:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(13469),i=n.n(r),s=n(19130),a=n(32846),o=n(96840),l=n(21133);const c=s.Z.extend({mixins:l.Z,maxCycles:3,maxSize:50,isListening:!1,initialize:function(){this._cache={},this.size=0,this.cycles=[],this.cycle()},startListening:function(){this.isListening||(this.isListening=!0,this.listenTo(a.Z,{"cycle:cache":this.cycle,"clearWhere:cache":this.clearWhere,"clearAll:cache":this.clearAll,"clearCycles:cache":this.clearCycles}))},get:function(e){const t=this._cache[e];return t&&t._cacheCycle&&this.setItemCycle(t,e,i().first(this.cycles)),t},store:function(e,t){t||(t=this.getItemCacheKey(e)),this.remove(e),t&&(this.startListening(),e._cacheKey=t,this._cache[t]=e,this.size++,e.persistInCache||this.setItemCycle(e,t,i().first(this.cycles)))},getItemCacheKey:function(e){return i().result(e,"cacheKey")},setItemCycle:function(e,t,n){const r=e._cacheCycle;r&&r.hasOwnProperty(t)&&delete r[t],e._cacheCycle=n,n[t]=e},cycle:function(){this.size>this.maxSize&&(o.Z.warn("Cache overflow, size: "+this.size),i().each(this.cycles.slice(1),this.removeCycle,this)),this.cycles.unshift({}),this.cycles.length>Math.max(this.maxCycles,1)&&this.removeCycle(i().last(this.cycles))},remove:function(e){if(!e||!e._cacheKey)return;const t=e._cacheKey;this._cache.hasOwnProperty(t)&&(delete this._cache[t],this.size--),e._cacheCycle&&(e._cacheCycle.hasOwnProperty(t)&&delete e._cacheCycle[t],delete e._cacheCycle),delete e._cacheKey},removeCycle:function(e){i().each(i().values(e),this.remove,this);const t=i().indexOf(this.cycles,e);this.cycles.splice(t,1)},clearWhere:function(e){const t=i().where(i().values(this._cache),e);i().each(t,this.remove,this)},clearAll:function(){i().each(i().values(this._cache),this.remove,this),this.cycles.length=0,this.cycle(),this.stopListening(),this.isListening=!1},clearCycles:function(){const e=this.cycles;for(;e.length;)this.removeCycle(e[e.length-1]);this.cycle()}})},89905:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(13469),i=n.n(r),s=n(46717);const a=s.Z.extend({maxCycles:3,maxSize:20,get:function(e){const t=s.Z.prototype.get.apply(this,arguments);return t&&t.every((function(e){return!(!e.cache||!e.cache.isListening||(e.cache.store(e),0))})),t},getItemCacheKey:function(e){let t=i().result(e,"url");return e.server&&(t=e.server.getScopedKey(t)),e.provider&&(t=e.provider.getScopedKey(t)),t}})},2938:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(13469),i=n.n(r),s=n(47479),a=n(46717);const o=a.Z.extend({maxCycles:3,maxSize:50,imageParamsRegex:/&?(size|scale|width|height)=([^&]+)/g,initialize:function(){a.Z.prototype.initialize.apply(this,arguments),this._infoMemo={}},store:function(e,t){if(t||(t=this.getItemCacheKey(e)),!t)return;const n=e.url,r=this.getImageInfo(n),s={url:n,blobUrl:e.blobUrl,size:r.size};let a=this.get(t);if(a){if(!a.images.hasOwnProperty(n)){const e=a.sizes;a.images[n]=s;const t=i().sortedIndex(e,s,"size");e.splice(t,0,s)}}else a={images:{},sizes:[s]},a.images[n]=s,this.startListening(),a._cacheKey=t,this._cache[t]=a,this.size++,e.persistInCache||this.setItemCycle(a,t,i().first(this.cycles))},getItemCacheKey:function(e){return this.getImageInfo(e.url).key},getImageInfo:function(e){if(this._infoMemo.hasOwnProperty(e))return this._infoMemo[e];const t={width:"0",scale:"1"},n=e.replace(this.imageParamsRegex,(function(e,n,r){return t[n]=r,""})),r=t.size&&t.size.split("-"),i={key:n,size:(r&&2===r.length?r[1]:parseInt(t.width,10))*parseInt(t.scale,10)};return this._infoMemo[e]=i,i},removeImageInfo:function(e){this._infoMemo.hasOwnProperty(e)&&delete this._infoMemo[e]},getBlobUrl:function(e){const t=this.getImageInfo(e),n=this.get(t.key);if(n){const t=n.images[e];if(t)return t.blobUrl}},getPlaceholder:function(e){const t=this.getImageInfo(e),n=this.get(t.key);if(n){if(n.images[e])return;return i().last(n.sizes).blobUrl}},remove:function(e,t){a.Z.prototype.remove.apply(this,arguments),i().each(e.sizes,(function(e){this.removeImageInfo(e.url),s.Z.hasObjectUrl&&window.URL.revokeObjectURL(e.blobUrl)}),this)}})},36776:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(13469),i=n.n(r);const s=n(46717).Z.extend({maxCycles:5,maxSize:100,getItemCacheKey:function(e,t){if(i().isFunction(e.cacheKey))return t||(t=e.toJSON()),e.cacheKey(t)}})},46453:(e,t,n)=>{"use strict";n.d(t,{HN:()=>r,E4:()=>i,$Z:()=>s,Hn:()=>a,zR:()=>o,Ut:()=>l,WX:()=>c,nQ:()=>d,Zb:()=>u,A2:()=>p,NV:()=>m});const r="com.plexapp.agents.imdb",i="com.plexapp.agents.lastfm",s="com.plexapp.agents.lyricfind",a="com.plexapp.agents.none",o="com.plexapp.agents.plexmusic",l="tv.plex.agents.music",c="tv.plex.agents.movie",d="tv.plex.agents.game",u="tv.plex.agents.series",p="com.plexapp.agents.themoviedb",m="com.plexapp.agents.thetvdb"},88630:(e,t,n)=>{"use strict";n.d(t,{p:()=>r,M:()=>i});const r="error",i="success"},50552:(e,t,n)=>{"use strict";n.d(t,{sQ:()=>r,Bs:()=>i});const r="com.tidal",i="com.watchtogether"},89656:(e,t,n)=>{"use strict";n.d(t,{Yq:()=>r,KH:()=>i,o5:()=>s});const r=100,i=100,s=700},39374:(e,t,n)=>{"use strict";n.d(t,{mV:()=>r,bB:()=>i,_N:()=>s,jv:()=>a,S7:()=>o,YC:()=>l,hO:()=>c,av:()=>u,cW:()=>p,hJ:()=>m,pQ:()=>h,yl:()=>g,uY:()=>y,T4:()=>v,Zs:()=>f});const r="https://app.plex.tv",i="https://forums.plex.tv",s="https://www.plex.tv/media-server-downloads",a=`${s}/#plex-app`,o="https://status.plex.tv",l="https://www.plex.tv/tidal",c="https://www.plex.tv/privacy",d="?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps",u="https://support.plex.tv"+d,p="https://support.plex.tv/articles/225877427-supported-dvr-tuners-and-antennas/"+d,m="https://support.plex.tv/articles/community-supported-tuners/"+d,h="https://support.plex.tv/articles/206225077-how-to-use-secure-server-connections/"+d,g="https://support.plex.tv/articles/204985278-account-audio-subtitle-language-settings/"+d,y="https://support.plex.tv/hc/en-us/articles/115002267687-Webhooks/"+d,v="https://support.plex.tv/articles/204232573-restricting-the-shares/",f="/users/other-services"},45662:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});const r=2},33631:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r={NONE:0,VAST:1};r.settings=[{value:r.NONE,title:"None"},{value:r.VAST,title:"Add ?debug=1 to ad requests"}];const i=r},84734:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r={DISABLED:0,ENABLED:1,VERBOSE:2};r.settings=[{value:r.DISABLED,title:"Disabled"},{value:r.ENABLED,title:"Enabled"},{value:r.VERBOSE,title:"Verbose"}];const i=r},16475:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(96242),i=n(32377);const s={[r.FAIRPLAY]:i.FAIRPLAY,[r.FAIRPLAY_AUDIO]:i.FAIRPLAY,[r.FAIRPLAY_VIDEO]:i.FAIRPLAY,[r.PLAYREADY]:i.PLAYREADY,[r.PLAYREADY_AUDIO]:i.PLAYREADY,[r.PLAYREADY_VIDEO]:i.PLAYREADY,[r.WIDEVINE]:i.WIDEVINE,[r.WIDEVINE_AUDIO]:i.WIDEVINE,[r.WIDEVINE_VIDEO]:i.WIDEVINE}},96242:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FAIRPLAY:()=>s,FAIRPLAY_AUDIO:()=>a,FAIRPLAY_VIDEO:()=>o,PLAYREADY:()=>l,PLAYREADY_AUDIO:()=>c,PLAYREADY_VIDEO:()=>d,WIDEVINE:()=>u,WIDEVINE_AUDIO:()=>p,WIDEVINE_VIDEO:()=>m,NONE:()=>h});var r=n(46937),i=n(91135);const s=(0,r.Z)("fairplay"),a=(0,r.Z)("fairplay",i.j0),o=(0,r.Z)("fairplay",i.pX),l=(0,r.Z)("playready"),c=(0,r.Z)("playready",i.j0),d=(0,r.Z)("playready",i.pX),u=(0,r.Z)("widevine"),p=(0,r.Z)("widevine",i.j0),m=(0,r.Z)("widevine",i.pX),h=(0,r.Z)("none")},32377:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FAIRPLAY:()=>r,PLAYREADY:()=>i,WIDEVINE:()=>s});const r="com.apple.fps.1_0",i="com.microsoft.playready",s="com.widevine.alpha"},40498:(e,t,n)=>{"use strict";n.d(t,{ZO:()=>r,Jm:()=>i,GP:()=>s,Bi:()=>a});const r="contentRating",i="contentRating!",s="label",a="label!"},43108:(e,t,n)=>{"use strict";function r(){return window.viewport&&window.viewport.pixelRatio||window.devicePixelRatio||1}n.d(t,{Z:()=>r})},55642:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r={NEVER:"never",SAME_NETWORK:"samenetwork",ALWAYS:"always"};r.settings=[{value:r.NEVER,title:"Never"},{value:r.SAME_NETWORK,title:"On same network as server"},{value:r.ALWAYS,title:"Always"}];const i=r},40133:(e,t,n)=>{"use strict";n.d(t,{EU:()=>r,yy:()=>i,it:()=>s,bS:()=>a,Rr:()=>o,Ko:()=>l,ES:()=>c,oP:()=>d});const r="small-60",i="small-120",s="medium-240",a="medium-360",o="large-480",l="large-720",c="large-1280",d="large-1920"},61006:(e,t,n)=>{"use strict";n.d(t,{ZH:()=>r,Mf:()=>i,K5:()=>s,JU:()=>a,jx:()=>o,hY:()=>l,LH:()=>c,JH:()=>d,Ge:()=>u,nO:()=>p,u5:()=>m});const r=8,i=9,s=13,a=16,o=17,l=27,c=38,d=40,u=91,p=93,m=224},80962:(e,t,n)=>{"use strict";n.d(t,{ly:()=>r,pn:()=>i,jN:()=>s});const r="complete",i="error",s="postprocessing"},98563:(e,t,n)=>{"use strict";n.d(t,{nA:()=>r,Hc:()=>i,SU:()=>s,Bs:()=>a});const r="playlist://image.favorite",i="playlist://image.radio",s="folder",a="watchtogether"},90579:(e,t,n)=>{"use strict";n.d(t,{em:()=>r,gO:()=>i,a7:()=>s,br:()=>a});const r="queued",i="matching",s="processing",a="loading"},88050:(e,t,n)=>{"use strict";n.d(t,{ql:()=>r,GP:()=>i,AM:()=>s,ae:()=>a,XD:()=>o,n1:()=>l,yq:()=>c,ly:()=>d,NH:()=>u,cO:()=>p,Rn:()=>m,DV:()=>h,$W:()=>g,b8:()=>y,Fx:()=>v,AV:()=>f,pe:()=>b,PR:()=>S,uf:()=>I,DK:()=>Z,Bn:()=>P,cp:()=>E,dm:()=>M,xc:()=>C,qe:()=>w,h3:()=>D,RG:()=>T,_R:()=>O,P9:()=>x,Zy:()=>A,t7:()=>N,RF:()=>k,J3:()=>L,FH:()=>j,a2:()=>R,Dp:()=>V,yY:()=>U,$M:()=>z,zw:()=>B,xs:()=>_,Ao:()=>F,$J:()=>H,Go:()=>W,JL:()=>Q,hi:()=>G,UP:()=>Y,nJ:()=>q,zL:()=>K,yZ:()=>$,FR:()=>X,wl:()=>J,i0:()=>ee,fV:()=>te,uz:()=>ne,Yf:()=>re,JM:()=>ie,b1:()=>se,T5:()=>ae,t6:()=>oe,wC:()=>le,wP:()=>ce,oG:()=>de,SA:()=>ue,mX:()=>pe,pg:()=>me,ic:()=>he,kD:()=>ge,J9:()=>ye,VL:()=>ve,lJ:()=>fe});const r="claim",i="dismiss",s="skip",a="confirm",o="select",l="cancel",c="learn",d="complete",u="play",p="shuffle",m="playAll",h="playVersion",g="playPrimaryExtra",y="playRelatedMix",v="playArtistTV",f="queueRelatedMix",b="playNext",S="addToQueue",I="addToPlaylist",Z="addToCollection",P="removeFromPlaylist",E="removeFromCollection",M="edit",C="editFilters",w="markAsWatched",D="markAsUnwatched",T="refresh",O="analyze",x="fixMatch",A="unmatch",N="merge",k="splitApart",L="sync",j="optimize",R="downloadFile",V="share",U="delete",z="getInfo",B="rate",_="selectStream",F="addToLibrary",H="addToSaved",W="removeFromSaved",Q="addToWatchlist",G="removeFromWatchlist",Y="removeFromContinueWatching",q="optimizeDatabase",K="cleanBundles",$="emptyTrash",X="deleteServer",J="addLibrary",ee="updateLibrary",te="cancelLibraryUpdate",ne="forceRefreshLibrary",re="editLibrary",ie="analyzeLibrary",se="deleteLibrary",ae="pinToNav",oe="unpinFromNav",le="reorderNav",ce="selectSource",de="selectTab",ue="downloadServer",pe="optOutMetrics",me="remoteAccess",he="selectPreferredServer",ge="subscribe",ye="upsellTidal",ve="agree",fe="disagree"},47486:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PICKER:()=>r,FALLBACK:()=>i,STARTUP:()=>s,SERVER:()=>a,LIBRARY:()=>o,LIST:()=>l,SELECTION:()=>c,SETTINGS:()=>d,SETUP_WIZARD:()=>u,SERVER_DOWNLOAD:()=>p,AGENDA:()=>m,CALENDAR:()=>h,NAV_BAR:()=>g,COMPANION:()=>y,DVR_SETUP:()=>v,USERS_AND_SHARING:()=>f,DISCOVER_PIVOT:()=>b,LIBRARY_PIVOT:()=>S,PLAYLISTS_PIVOT:()=>I,COLLECTIONS_PIVOT:()=>Z,TIMELINE_PIVOT:()=>P,DVR_DISCOVER_PIVOT:()=>E,DVR_GUIDE_PIVOT:()=>M,DVR_SCHEDULE_PIVOT:()=>C,WATCHLIST:()=>w,HDR_CONVERSION:()=>D});const r="picker",i="fallback",s="startup",a="server",o="library",l="list",c="selection",d="settings",u="setupWizard",p="serverDownload",m="agenda",h="calendar",g="navBar",y="companion",v="dvrSetup",f="usersAndSharing",b="content.discover",S="content.library",I="content.playlists",Z="content.collections",P="content.timeline",E="content.dvr.discover",M="content.dvr.guide",C="content.dvr.schedule",w="content.watchlist",D="hdr-conversion"},96335:(e,t,n)=>{"use strict";n.d(t,{Yg:()=>r,Jk:()=>i,Ip:()=>s,EE:()=>a,$R:()=>o,CM:()=>l,o$:()=>c,PS:()=>d,fB:()=>u,Jw:()=>p,NY:()=>m,C7:()=>h,gS:()=>g,cn:()=>y,hx:()=>v,Iw:()=>f,l8:()=>b});const r="client:claimServer",i="client:claimServerFailure",s="client:click",a="client:relayTested",o="client:shutdown",l="client:signout",c="client:start",d="client:switchuser",u="client:view",p="client:upsell",m="playback:failure",h="playback:itemend",g="playback:itemrestart",y="playback:itemstart",v="playback:sessionend",f="watchtogether:created",b="watchtogether:joined"},93474:(e,t,n)=>{"use strict";n.d(t,{zQ:()=>r,J3:()=>i,tr:()=>s});const r="tabChange",i="sync",s="moreSidebar"},69605:(e,t,n)=>{"use strict";n.d(t,{Sd:()=>r,Hx:()=>i,Y3:()=>s,sD:()=>a,ls:()=>o,fP:()=>l,xX:()=>c,$4:()=>d,r$:()=>u,yV:()=>p,G5:()=>m,H4:()=>h,dp:()=>g,YB:()=>y,jF:()=>v,yl:()=>f,w6:()=>b,Q_:()=>S,Ak:()=>I,Wv:()=>Z,m9:()=>P,Vr:()=>E,YX:()=>M,mw:()=>C,jy:()=>w,Bc:()=>D,WJ:()=>T,lz:()=>O,uf:()=>x,Vg:()=>A,Gc:()=>N,I7:()=>k,L6:()=>L,Eu:()=>j,Rs:()=>R,mU:()=>V,VP:()=>U,TD:()=>z,od:()=>B,_e:()=>_,WT:()=>F,X$:()=>H,SK:()=>W,qT:()=>Q,go:()=>G,B8:()=>Y,lP:()=>q,Md:()=>K,$e:()=>$,tl:()=>X,jB:()=>J,cZ:()=>ee,RN:()=>te,xC:()=>ne,cJ:()=>re,yW:()=>ie,Y0:()=>se,iw:()=>ae,yF:()=>oe,_g:()=>le,O6:()=>ce,s0:()=>de,Yp:()=>ue,Pi:()=>pe,Ke:()=>me,Bx:()=>he,LT:()=>ge,ce:()=>ye,ZZ:()=>ve,o_:()=>fe,cU:()=>be,LO:()=>Se,DV:()=>Ie,Vk:()=>Ze,hw:()=>Pe,Rh:()=>Ee,zj:()=>Me,BE:()=>Ce,c9:()=>we,PX:()=>De});const r="home",i="source",s="library",a="preplay",o="playlists",l="searchResults",c="quickSearchResults",d="metadataList",u="player",p="account",m="plexpass",h="signIn",g="signOut",y="setupWizard",v="downloads",f="unclaimedServer",b="metadataSettings",S="status",I="devices",Z="subtitles",P="subtitlesUpload",E="stopServerSession",M="stopServerSessionError",C="playHistory",w="sidebar",D="releaseNotes",T="photoTimeline",O="unknown",x="addToPlaylist",A="watchTogetherInvite",N="watchTogetherItemError",k="usersSharing",L="settings",j="sharing",R="settingsSidebar",V="preferredServer",U="preferredSources",z="dvrSettings",B="dvrSetup",_="dvrGuide",F="dvrSchedule",H="dvrPriority",W="dvrManageChannels",Q="dvrDeviceSettings",G="dvrAiringDetails",Y="manageSubscription",q="confirmMarkAsWatched",K="confirmMarkAsUnwatched",$="confirmDelete",X="confirmOptimizeDatabase",J="confirmCleanBundles",ee="confirmEmptyTrash",te="confirmDeleteServer",ne="confirmUpgradeLibrary",re="confirmAnalyzeLibrary",ie="confirmForceRefreshLibrary",se="confirmEmptyTrashLibrary",ae="confirmDeleteLibrary",oe="confirmRemoveWebhook",le="confirmUnlinkOauthProvider",ce="confirmRemoveDVR",de="confirmClosePlayer",ue="confirmDeleteSubtitleStream",pe="confirmCancelDownload",me="confirmRemoveDownload",he="confirmAddToHome",ge="adConsent",ye="confirmUpsell",ve="confirmUpdateApp",fe="confirmPlayback",be="confirmRemoteToLocalPlayback",Se="confirmLocalToRemotePlayback",Ie="playVersion",Ze="resumePlayback",Pe="playerError",Ee="liveTVPlayerConflict",Me="liveTVJoinSession",Ce="castApiMissing",we="adConsent",De="settings"},22093:(e,t,n)=>{"use strict";n.d(t,{k9:()=>r,QN:()=>i});const r="html",i=[r,"mpv","samsung_avplay","webmaf_video_player"]},339:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});const r="autoplay"},98862:(e,t,n)=>{"use strict";n.d(t,{km:()=>r,IY:()=>i,t3:()=>s});const r="hub",i="list",s="view"},17808:(e,t,n)=>{"use strict";n.d(t,{lz:()=>a,Rl:()=>o,Ke:()=>l,VW:()=>c,QV:()=>u});var r=n(45697),i=n.n(r),s=n(14408);const a=1,o=2,l=3,c=4,d=[a,o,l,c],u=(i().oneOf(d),s.Z.oneOf(...d))},18547:(e,t,n)=>{"use strict";n.d(t,{NH:()=>r,E7:()=>i,tG:()=>s,N7:()=>a,Fz:()=>o,zb:()=>l,cb:()=>c,HE:()=>d,bp:()=>u,fK:()=>p,zG:()=>m,f4:()=>h,EJ:()=>g,om:()=>y,WP:()=>v,I2:()=>f,rx:()=>b,hl:()=>S});const r="PLAY",i="PAUSE",s="SEEK",a="STOP",o="PREVIOUS",l="NEXT",c="SKIPTO",d="SHOWDETAILS",u="REFRESHPLAYQUEUE",p="REFRESHSTREAMS",m="SETREPEAT",h="SETSTREAM",g="SETQUALITY",y="SETSUBTITLECOLOR",v="SETSUBTITLEPOSITION",f="SETSUBTITLESIZE",b="SETSUBTITLEOFFSET",S="SETAUTOPLAY"},56416:(e,t,n)=>{"use strict";n.d(t,{PT:()=>r,th:()=>i,Ey:()=>s,uf:()=>a});const r="linked",i="able",s="unable",a="untested"},70871:(e,t,n)=>{"use strict";n.d(t,{pX:()=>i,xF:()=>s,pV:()=>a,ED:()=>l,d2:()=>c});var r=n(44491);const i="video",s="music",a="photo",o={[r.pX]:i,[r.j0]:s,[r.pV]:a};function l(e){return o[e]}function c(e){for(const t in o)if(e===o[t])return t}},41890:(e,t,n)=>{"use strict";n.d(t,{l:()=>r,D:()=>i});const r="cast",i="plex"},43149:(e,t,n)=>{"use strict";n.d(t,{Hn:()=>i,ry:()=>s,QN:()=>a});var r=n(45697);const i=0,s=1,a=2;n.n(r)().oneOf([i,s,a])},10984:(e,t,n)=>{"use strict";n.d(t,{m$:()=>r,o1:()=>i,YN:()=>s});const r=1,i=2,s=3},72021:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});const r="hdonly"},79557:(e,t,n)=>{"use strict";n.d(t,{aV:()=>i,IM:()=>s,Hn:()=>a});var r=n(45697);const i="bottom-left",s="top-left",a="none";n.n(r)().oneOf([i,s,a])},44491:(e,t,n)=>{"use strict";n.d(t,{j0:()=>r,pX:()=>i,pV:()=>s,eD:()=>a});const r="audio",i="video",s="photo",a="rom"},79490:(e,t,n)=>{"use strict";n.d(t,{Nf:()=>r,jV:()=>i,Jj:()=>s,uS:()=>a,qB:()=>o,_V:()=>l});const r=5,i=10,s=30,a=5,o=600,l=600},59223:(e,t,n)=>{"use strict";n.d(t,{K:()=>r,y:()=>i});const r="full",i="mini"},52837:(e,t,n)=>{"use strict";n.d(t,{Se:()=>i,pV:()=>s,eD:()=>a,f_:()=>l});var r=n(44491);const i="audioVideo",s="photo",a="rom",o={[r.j0]:i,[r.pX]:i,[r.pV]:s,[r.eD]:a};function l(e){return o[e]}},25168:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});const r="0"},17626:(e,t,n)=>{"use strict";n.d(t,{il:()=>r,Z$:()=>i,rf:()=>s,l9:()=>a,pn:()=>o});const r="stopped",i="playing",s="paused",a="buffering",o="error"},62730:(e,t,n)=>{"use strict";n.d(t,{lq:()=>r,LE:()=>i,FH:()=>s,JL:()=>a,zw:()=>o});const r="scrobble",i="save",s="addToCatalog",a="addToWatchlist",o="rate"},67006:(e,t,n)=>{"use strict";n.d(t,{om:()=>r,aO:()=>i,P8:()=>s,wl:()=>a,HR:()=>o,Yd:()=>l,Ct:()=>c,d3:()=>d,uq:()=>u,IS:()=>p,F5:()=>m,zg:()=>h,zw:()=>g,mo:()=>y,L6:()=>v,kD:()=>f,jN:()=>b});const r="action",i="actions",s="content",a="continuewatching",o="grid",l="imagetranscoder",c="location",d="manage",u="match",p="metadata",m="playqueue",h="playlist",g="rate",y="search",v="settings",f="subscribe",b="timeline"},94803:(e,t,n)=>{"use strict";n.d(t,{HN:()=>r,_N:()=>i,D7:()=>s});const r="download",i="record",s="universal"},17524:(e,t,n)=>{"use strict";n.d(t,{vP:()=>r,Ll:()=>i,zY:()=>s,Y3:()=>a,IS:()=>o,xF:()=>l,HG:()=>c,uk:()=>d,w1:()=>u,QN:()=>p,wB:()=>m});const r="tv.plex.provider.epg",i="tv.plex.providers.epg",s="tv.plex.providers.epg.xmltv",a="com.plexapp.plugins.library",o="tv.plex.provider.metadata",l="tv.plex.provider.music",c="tv.plex.provider.podcasts",d="tv.plex.provider.vod",u="tv.plex.provider.webshows",p=[r,i,s,a,"com.plexapp.plugins.library.sync",o,l,c,d,u];function m(e,t){return!!e&&(Array.isArray(t)||(t=[t]),t.some((t=>-1!==e.indexOf(t))))}},34470:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});const r="livetv"},40822:(e,t,n)=>{"use strict";n.d(t,{Jz:()=>r,Pt:()=>i,x8:()=>s,xy:()=>a});const r="playbackSpeed",i="lineup",s="recentChannelsInGrid",a="numRecentChannelsInGrid"},8987:(e,t,n)=>{"use strict";n.d(t,{Vi:()=>r,tf:()=>i,oG:()=>s,bB:()=>a,Pt:()=>o,Ct:()=>l,XD:()=>c});const r="bool",i="double",s="group",a="int",o="lineup",l="location",c="select"},11023:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={NORMAL:0,LOCAL:42,CLOUD:43}},68187:(e,t,n)=>{"use strict";n.d(t,{Cc:()=>s,Pq:()=>a,oL:()=>l,ZH:()=>c});var r=n(5562),i=n(35981);const s="little_kid",a="unrestricted",o=(0,i.Z)(["identifier"],[{identifier:s,title:()=>(0,r.Z)("Younger Kid"),defaultUsername:()=>(0,r.Z)("Kids")},{identifier:"older_kid",title:()=>(0,r.Z)("Older Kid"),defaultUsername:()=>(0,r.Z)("Kids")},{identifier:"teen",title:()=>(0,r.Z)("Teen"),defaultUsername:()=>(0,r.Z)("Kids")},{identifier:a,title:()=>(0,r.Z)("None"),defaultUsername:()=>""}]),l=o.get,c=o.getAll},17146:(e,t,n)=>{"use strict";n.d(t,{wz:()=>r,c3:()=>i,Lx:()=>s,QQ:()=>a,OQ:()=>o,RZ:()=>l,N6:()=>c,VA:()=>d,S5:()=>u,_q:()=>p});const r="Plex Movie Scanner",i="Plex Music",s="Plex Movie",a="Plex TV Series",o="Plex Music Scanner",l="Plex Photo Scanner",c="Plex Premium Music Scanner",d="Plex Series Scanner",u="Plex Video Files Scanner",p="Plex Game"},83154:(e,t,n)=>{"use strict";n.d(t,{D:()=>r,O:()=>i});const r="/hubs",i="/hubs?identifier=home.continue,home.ondeck"},89410:(e,t,n)=>{"use strict";n.d(t,{uf:()=>r,hA:()=>i,nm:()=>s,WY:()=>a,nZ:()=>o,c9:()=>l});const r="untested",i="pending",s="connected",a="unauthorized",o="unavailable",l="aborted"},35589:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});const r="myPlex"},90117:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AVAILABLE:()=>r,DONE:()=>i,DOWNLOADED:()=>s,DOWNLOADING:()=>a,ERROR:()=>o,INSTALLING:()=>l,NONE:()=>c,NOTIFY:()=>d});const r="available",i="done",s="downloaded",a="downloading",o="error",l="installing",c="none",d="notify"},73479:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r={WHITE:"#ffffff",YELLOW:"#ffee00",BLACK:"#000000",CYAN:"#00ffff",BLUE:"#0000ff",GREEN:"#00ff00",MAGENTA:"#ee00ee",RED:"#ff0000",GREY:"#808080"};r.settings=[{value:r.WHITE,title:"White"},{value:r.YELLOW,title:"Yellow"},{value:r.BLACK,title:"Black"},{value:r.CYAN,title:"Cyan"},{value:r.BLUE,title:"Blue"},{value:r.GREEN,title:"Green"},{value:r.MAGENTA,title:"Magenta"},{value:r.RED,title:"Red"},{value:r.GREY,title:"Grey"}],r.ALL=[r.WHITE,r.YELLOW,r.BLACK,r.CYAN,r.BLUE,r.GREEN,r.MAGENTA,r.RED,r.GREY];const i=r},36183:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"};r.settings=[{value:r.TOP,title:"Top"},{value:r.MIDDLE,title:"Middle"},{value:r.BOTTOM,title:"Bottom"}],r.ALL=[r.TOP,r.MIDDLE,r.BOTTOM];const i=r},89271:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r={TINY:50,SMALL:75,NORMAL:100,LARGE:125,HUGE:200};r.settings=[{value:r.TINY,title:"Tiny"},{value:r.SMALL,title:"Small"},{value:r.NORMAL,title:"Normal"},{value:r.LARGE,title:"Large"},{value:r.HUGE,title:"Huge"}],r.ALL=[r.TINY,r.SMALL,r.NORMAL,r.LARGE,r.HUGE];const i=r},78831:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r={AUTO:"auto",AVOID:"avoid",ALWAYS:"always",NEVER:"never"};r.settings=[{value:r.AUTO,title:"Automatic"},{value:r.AVOID,title:"Only image formats"},{value:r.ALWAYS,title:"Always"}];const i=r},99038:(e,t,n)=>{"use strict";n.d(t,{OR:()=>r,In:()=>i,E7:()=>s,gk:()=>a,tG:()=>o});const r="join",i="leave",s="pause",a="resume",o="seek"},36171:(e,t,n)=>{"use strict";n.d(t,{k9:()=>r,rS:()=>i});const r="html",i="plain"},96909:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(5562);const i={NONE:0,TV_ONLY:1,TV_AND_DVR:2};i.options={[i.NONE]:()=>(0,r.Z)("No Live TV and DVR access"),[i.TV_ONLY]:()=>(0,r.Z)("Allow Live TV only"),[i.TV_AND_DVR]:()=>(0,r.Z)("Allow Live TV and DVR access")},i.values=Object.keys(i.options).map((e=>({[e]:i.options[e]})));const s=i},45399:(e,t,n)=>{"use strict";n.d(t,{d6:()=>r,Ks:()=>i,JO:()=>s,Fq:()=>a,XA:()=>o,EM:()=>l,m9:()=>c,km:()=>d,Ah:()=>u,Ao:()=>p,OV:()=>m,C1:()=>h,wz:()=>g,VA:()=>y,eT:()=>v,PL:()=>f,Ed:()=>b,iU:()=>S,jq:()=>I,LD:()=>Z,CG:()=>P,vm:()=>E,Z5:()=>M,_t:()=>C,q1:()=>w,sy:()=>D,Oo:()=>T,Bs:()=>O,ZM:()=>x,cU:()=>A,EZ:()=>N,EQ:()=>k,lY:()=>L,TE:()=>j,KH:()=>R,DI:()=>V});const r="32cc8bf5-b425-4582-a52d-71b4f1cf436b",i="de789b83-9c5e-4472-bccf-791c69e67500",s="64ed42f8-259d-4957-8530-0fff2d846cd0",a="7c4200b1-a2ab-4803-adcd-6c36b22a9269",o="6f82ca43-6117-4e55-ae0e-5ea3b3e99a96",l="bb50c92f-b412-44fe-8d8a-b1684f212a44",c="b612f571-83c3-431a-88eb-3f05ce08da4a",d="222020fb-1504-492d-af33-a0b80a49558a",u="4bdcac7b-f25b-43b3-93d8-2bbcb9605fd7",p="644c4466-05fa-45e0-a478-c594cf81778f",m="75e95ee5-b482-4b02-aeff-a9faf13ead64",h="f8484f94-92a8-4ca4-9f43-e83ab3f586c7",g="f3235e61-c0eb-4718-ac0a-7d6eb3d8ff75",y="298a11d3-9324-4104-8047-0ac10df4a8a6",v="4742780c-af9d-4b44-bf5b-7b27e3369aa8",f="67c80530-eae3-4500-a9fa-9b6947d0f6d1",b="5c1951bf-ccf1-4821-8ee7-e50f51218ae7",S="3bfd3ccf-8c63-4dbb-8f87-9b21b402c82b",I="43725019-9122-4a6d-bc50-bca06a411b7a",Z="d8810b38-ec9b-494c-8555-3df6e365dfbd",P="43938a71-1295-46e9-918f-b6c4b0302011",E="65685ff8-4375-4e4c-a806-ec1f0b4a8b7f",M="6ab6677b-ad9b-444f-9ca1-b8027d05b3e1",C="b83c8dc9-5a01-4b7a-a7c9-5870c8a6e21b",w="02da2909-ddfd-46be-9e42-65008a79fc05",D="nonAnonymousAccount",T="6aaaf4fc-c55f-4042-92c8-b35f7886d249",O="65faa2d0-f57e-4c63-a6b6-f1baa48951b1",x="4e27cf82-9fb6-4ebe-8e10-c48bfe6fbbb6",A="20824f5c-6dd9-4655-9970-e7701a73c02a",N="fd6683b9-1426-4b00-840f-cd5fb0904a6a",k="9a67bff2-cb80-4bf9-81c6-9ad2f4c78afd",L="13056a62-9bd2-47cf-aba9-bab00095fd08",j="3c376154-d47e-4bbf-9428-2ea2592fd20a",R="f3a99481-9671-4274-a0d3-4c06a72ef746",V="ec64b6f6-e804-4ef3-b114-9d5c63e1a941"},22923:(e,t,n)=>{"use strict";n.d(t,{K:()=>r,M:()=>i});const r="relay",i="upsell"},90296:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});const r="tidal"},12610:(e,t,n)=>{"use strict";n.d(t,{iN:()=>r,zK:()=>i,J$:()=>s,j5:()=>a,Ku:()=>o,ZP:()=>l});const r="active",i="inactive",s="canceled",a="pending_cancellation",o="ended",l=[r,i,s,a,"lapsed",o]},1547:(e,t,n)=>{"use strict";n.d(t,{VW:()=>r,G5:()=>i,ZP:()=>s});const r="arcade",i="plexpass",s=[r,i,"tidal"]},15730:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TONE_MAPPING:()=>r});const r="toneMapping"},32707:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(13469),i=n.n(r),s=n(14e3),a=n(94902),o=n(46277),l=n(41105),c=n(48653),d=n(69881),u=n(84936),p=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable;const g={uri:function(e,t){const n=t&&t.items;if(n&&n.length){if(n.length>1)return this.getBatchLibraryMetadataURI(n,t);e||(e=i().first(n))}if(e instanceof s.ZP.Model){if(e.get("isSection"))return this.getSectionURI(e,t);if(e.get("isMetadataList"))return this.getMetadataListURI(e,t);if(e.get("isPlaylist"))return this.getPlaylistURI(e,t)}return this.getLibraryMetadataURI(e,t)},parseLibraryUri:function(e){const t=u.Z.getLastSegment(e),n=decodeURIComponent(t).match(/(\/library\/sections\/\w+)\/all(?:\?(.*))?/),[,r,i=""]=n,s={};for(const e of i.split("&")){const[t,n]=e.split("=");t.startsWith("include")||(s[t]=n)}const a=s,{type:o,sourceType:l,sort:c,limit:d}=a,g=((e,t)=>{var n={};for(var r in e)p.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&m)for(var r of m(e))t.indexOf(r)<0&&h.call(e,r)&&(n[r]=e[r]);return n})(a,["type","sourceType","sort","limit"]);return{sectionKey:r,type:o,sourceType:l,sort:c,limit:d,filterString:Object.entries(g).map((([e,t])=>`${e}=${t}`)).join("&")}},getSectionURI:function(e,t){const n=i().result(e,"url"),r=e.get("currentSubset"),s=e.get("currentFolderKey"),a=e.get("currentType");let o;if("folder"===r.id)o=s||u.Z.join([n,"all"]);else{const t=e.get("items"),i=t.getParams();i.type&&delete i.type,i.timelineState&&delete i.timelineState,i.unwatchedLeaves&&(i[(0,d.getLeafType)(e.get("type")).typeString+".unwatched"]=1,delete i.unwatchedLeaves),a&&(i.sourceType=a.id),o=u.Z.join([n,r.id],i),o=t.replaceSpecialFilterOperators(o)}return this._resolveURI({prefix:"library",parts:[e.get("uuid"),"directory",o]})},getBatchLibraryMetadataURI:function(e,t){const n=this._getSectionInfo(i().first(e)),r="/library/metadata/"+i().map(e,(function(e){return e.get("ratingKey")})).join(",");return this._resolveURI({prefix:"library",parts:[n.sectionUUID,"directory",r]})},getLibraryMetadataURI:function(e,t){t||(t={});const n=this._getSectionInfo(e);let r,s=i().result(e,"url");return t.excludeSeedItem&&(s=u.Z.join(s,{excludeSeedItem:1})),r=e.models||e.collectionName||e instanceof a.Z?"directory":e.get("radio")?"station":"item",this._resolveURI({prefix:"library",parts:[n.sectionUUID,r,s]})},getMetadataListURI:function(e,t){t||(t={});const n=this._getSectionInfo(e);return this._resolveURI({prefix:"library",parts:[n.sectionUUID,"directory",u.Z.join(e.get("containerKey"),{sourceType:t.sourceType})]})},getPlaylistURI:function(e,t){return this._resolveURI({prefix:"playlist",parts:["",e.get("guid")]})},title:function(e,t){const n=t&&t.items;if(n&&n.length){if(n.length>1)return this.getBatchLibraryMetadataTitle(n,t);e=i().first(n)}return e.get("isSection")?this.getSectionTitle(e,t):e.get("isMetadataList")?this.getMetadataListTitle(e,t):this.getLibraryMetadataTitle(e,t)},getSectionTitle:function(e){const t=e.get("title"),n=e.get("currentSubset"),r=e.get("currentFilters");return"all"!==n.id?t+": "+n.get("title"):r.length?t+": "+i().flatten(i().map(r,(function(e){return e.titles}))).join(", "):t},getMetadataListTitle:function(e){return e.get("containerTitle")||e.get("title")},getBatchLibraryMetadataTitle:function(e){const t=i().map(e,(function(e){return e.get("title")}));return(0,c.Z)(t)},getLibraryMetadataTitle:function(e){const t=e.get("grandparentTitle")||e.get("parentTitle");let n=e.get("title");return t&&(n=t+" - "+n),"episode"===e.get("type")&&(n+=" ("+(0,o.Z)({seasonIndex:e.get("parentIndex"),episodeIndex:e.get("index"),date:e.get("originallyAvailableAt"),noLeadingZero:!0,separator:" "})+")"),n},_resolveURI:function(e){const t=e.parts,n=i().map(t,(function(e){return e?encodeURIComponent(e):""}));return e.prefix+"://"+n.join("/")},_getSectionInfo:function(e){let t=e.get("librarySectionUUID"),n=e.get("librarySectionID");if(!t||!n){const r=(0,l.Z)(e);i().isEmpty(r)||(t=r.get("uuid"),n=r.id)}return{sectionUUID:t,sectionID:n}}}},46572:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(77349),i=n(78343),s=n(58545),a=n(91523),o=n(61973),l=n(63500),c=n(21593),d=n(42227),u=n(42902);const p={days:r.Z,hours:i.Z,minutes:s.Z,months:a.Z,seconds:o.Z,weeks:l.Z,years:c.Z};function m(e,t={}){let n=(0,d.Z)(e);for(const e in t)n=p[e](n,t[e]);return(0,u.Z)(n)}},96263:(e,t,n)=>{"use strict";n.d(t,{DF:()=>r,_G:()=>i,ZP:()=>c});const r=30,i=365,s=36e5,a=24*s,o=["years","months","days","hours","minutes","seconds","milliseconds"],l={years:a*i,months:a*r,days:a,hours:s,minutes:6e4,seconds:1e3,milliseconds:1};function c(e){const t=e<0?-1:1,n={};let r=e*t,i=-1;for(;++i<o.length;){const e=o[i],s=l[e],a=Math.floor(r/s);n[e]=a&&a*t,r%=s}return n}},76604:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(42227),i=n(55855),s=n(5562),a=n(74336),o=n(11558),l=n(52752),c=n(75057),d=n(41232),u=n(12797),p=n(56823),m=n(91715);function h(e,t,{timeFormat:n="h:mma"}={}){if(null==e)return"";const h=(0,l.Z)(e,n);let g;return g=(0,m.Z)(e)?(0,s.Z)("Yesterday"):(0,d.Z)(e)?(0,p.Z)(e)?(0,s.Z)("Tonight"):(0,s.Z)("Today"):(0,u.Z)(e)?(0,s.Z)("Tomorrow"):(0,c.Z)(e)?(0,a.Z)(e):(0,s.Z)("{dayOfWeekAbbreviated}, {monthAbbreviated} {dayNumber}",{dayOfWeekAbbreviated:(0,a.Z)(e,{abbreviate:!0}),monthAbbreviated:(0,o.Z)(e,{abbreviate:!0}),dayNumber:(0,i.Z)((0,r.Z)(e))}),t?(0,s.Z)("{1} at {2} on {3}",g,h,t):(0,s.Z)("{1} at {2}",g,h)}},54690:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(42227),i=n(55855),s=n(39159),a=n(5562),o=n(74336),l=n(11558),c=n(52752),d=n(75057),u=n(41232),p=n(12797),m=n(56823),h=n(91715);function g(e,t,{timeFormat:n="h:mma"}={}){if(null==e)return"";const g=(0,r.Z)(e);if((0,h.Z)(e))return(0,a.Z)("Yesterday");0===(0,s.Z)(g)&&(n=n.replace("h:mm","h"));const y=(0,c.Z)(e,n);let v;return v=(0,u.Z)(e)?(0,m.Z)(e)?(0,a.Z)("Tonight"):(0,a.Z)("Today"):(0,p.Z)(e)?(0,a.Z)("Tomorrow"):(0,d.Z)(e)?(0,o.Z)(e):(0,a.Z)("{monthAbbreviated} {dayNumber}",{monthAbbreviated:(0,l.Z)(e,{abbreviate:!0}),dayNumber:(0,i.Z)((0,r.Z)(e))}),t?(0,a.Z)("{1} at {2} on {3}",v,y,t):(0,a.Z)("{1} at {2}",v,y)}},31212:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(64381);const i=function(e,t="MMMM d, yyyy"){return e?(0,r.Z)(e,t):""}},74336:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(42227),i=n(20466),s=(n(11133),n(5562));const a=function(e,{abbreviate:t=!1}={}){if(null==e)return"";const n=(0,i.Z)((0,r.Z)(e));return t?function(e){return[(0,s.Z)("Sun"),(0,s.Z)("Mon"),(0,s.Z)("Tue"),(0,s.Z)("Wed"),(0,s.Z)("Thu"),(0,s.Z)("Fri"),(0,s.Z)("Sat")][e]}(n):function(e){return[(0,s.Z)("Sunday"),(0,s.Z)("Monday"),(0,s.Z)("Tuesday"),(0,s.Z)("Wednesday"),(0,s.Z)("Thursday"),(0,s.Z)("Friday"),(0,s.Z)("Saturday")][e]}(n)}},39776:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(13469),i=n.n(r),s=n(96263),a=n(5562);const o=[[54e5,function(e){if(null==e)return"";const t=(0,s.ZP)(e),n=24*t.days*60,r=60*t.hours,i=t.minutes+r+n,o=t.seconds;return i?(0,a.Z)("{1} min",i):o>0?(0,a.Z)("{1} sec",o):""}],[864e5,n(77717).Z],[6048e5,function(e){if(null==e)return"";const t=(0,s.ZP)(e),n=t.days,r=t.hours,i=1!==n;return n&&r?i?(0,a.Z)("{1} days {2} hr",n,r):(0,a.Z)("{1} day {2} hr",n,r):n?i?(0,a.Z)("{1} days",n):(0,a.Z)("{1} day",n):(0,a.Z)("{1} hr",r)}],[1/0,function(e){if(null==e)return"";const t=(0,s.ZP)(e),n=t.years*s._G+t.months*s.DF+t.days;return 1!==n?(0,a.Z)("{1} days",n):(0,a.Z)("{1} day",n)}]],l=function(e){if(!e)return"";const t=i().find(o,(([t])=>e<=t));return t&&t[1](e)}},9903:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(5562),i=n(39776);const s=function(e){if(null==e)return"";const t=(0,i.Z)(1e3*e);return t?(0,r.Z)("{1} left",t):""}},77717:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(96263),i=n(5562);const s=function(e){if(null==e)return"";const t=(0,r.ZP)(e),n=t.hours+24*t.days,s=t.minutes,a=t.seconds;return n&&s?(0,i.Z)("{1} hr {2} min",n,s):n?(0,i.Z)("{1} hr",n):s?(0,i.Z)("{1} min",s):a>0?(0,i.Z)("{1} sec",a):""}},11558:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(42227),i=n(78966),s=(n(11133),n(5562));const a=function(e,{abbreviate:t=!1}={}){if(!e)return"";const n=(0,i.Z)((0,r.Z)(e));return t?function(e){return[(0,s.Z)("Jan"),(0,s.Z)("Feb"),(0,s.Z)("Mar"),(0,s.Z)("Apr"),(0,s.Z)("May"),(0,s.Z)("Jun"),(0,s.Z)("Jul"),(0,s.Z)("Aug"),(0,s.Z)("Sep"),(0,s.Z)("Oct"),(0,s.Z)("Nov"),(0,s.Z)("Dec")][e]}(n):function(e){return[(0,s.Z)("January"),(0,s.Z)("February"),(0,s.Z)("March"),(0,s.Z)("April"),(0,s.Z)("May"),(0,s.Z)("June"),(0,s.Z)("July"),(0,s.Z)("August"),(0,s.Z)("September"),(0,s.Z)("October"),(0,s.Z)("November"),(0,s.Z)("December")][e]}(n)}},7378:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(13469),i=n.n(r),s=n(96263);const a=function(e){if(e<=0||!i().isNumber(e))return"0:00";const t=(0,s.ZP)(e),n=t.seconds,r=t.minutes,a=t.hours+24*t.days;let o="";return o=n<10?":0"+n:":"+n,o=r<10&&a>0?"0"+r+o:r+o,a>0&&(o=a+":"+o),o}},78188:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(61973),i=n(42227),s=n(42902),a=n(5562);const o=function(e,t){return function(e,{limit:t}={},n=!1){if(!e)return"";const o=new Date;e=Math.round(e),"past"===t?e=Math.min(e,(0,s.Z)(o)):"future"===t&&(e=Math.max(e,(0,s.Z)((0,r.Z)(o,1))));const l=(0,i.Z)(e).getTime()-o.getTime();let c;return c="future"===t||"past"!==t&&l>0,function({milliseconds:e,isShorthand:t,isFuture:n}){let r=Math.abs(e)/1e3;r&&(r=r<1?1:Math.round(r));const i=Math.round(r/60),s=Math.round(i/60),o=Math.round(s/24),l=Math.round(o/30),c=Math.round(o/365),d={seconds:r,minutes:i,hours:s,days:o,months:l,years:c},u={unitOfTime:r<=44&&(t?(0,a.Z)("{seconds}s",d):(0,a.Z)("a few seconds",d))||r<45&&(t?(0,a.Z)("{seconds}s",d):(0,a.Z)("{seconds} seconds",d))||i<=1&&(t?(0,a.Z)("{minutes}m",d):(0,a.Z)("a minute",d))||i<45&&(t?(0,a.Z)("{minutes}m",d):(0,a.Z)("{minutes} minutes",d))||s<=1&&(t?(0,a.Z)("{hours}h",d):(0,a.Z)("an hour",d))||s<22&&(t?(0,a.Z)("{hours}h",d):(0,a.Z)("{hours} hours",d))||o<=1&&(t?(0,a.Z)("{days}d",d):(0,a.Z)("a day",d))||o<26&&(t?(0,a.Z)("{days}d",d):(0,a.Z)("{days} days",d))||l<=1&&(t?(0,a.Z)("{months}mo",d):(0,a.Z)("a month",d))||l<11&&(t?(0,a.Z)("{months}mo",d):(0,a.Z)("{months} months",d))||c<=1&&(t?(0,a.Z)("{years}y",d):(0,a.Z)("a year",d))||(t?(0,a.Z)("{years}y",d):(0,a.Z)("{years} years",d))};return n?(0,a.Z)("in {unitOfTime}",u):(0,a.Z)("{unitOfTime} ago",u)}({milliseconds:l,isShorthand:n,isFuture:c})}(e,{limit:"past"},t)}},26229:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(64381),i=n(42227),s=n(39159);const a=function(e,t,n={}){const{includeMinuteZero:a=!0,timeFormat:o="h:mma",separator:l="-"}=n,c=(0,i.Z)(e),d=(0,i.Z)(t),u=(0,r.Z)(c,"a")===(0,r.Z)(d,"a"),p=(0,s.Z)(c),m=(0,s.Z)(d);let h=o,g=o;return a||0!==p||(h=h.replace("h:mm","h")),u&&(h=h.replace("a","")),a||0!==m||(g=g.replace("h:mm","h")),`${(0,r.Z)(c,h)}${l}${(0,r.Z)(d,g)}`}},52752:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(64381),i=n(42227);const s=function(e,t="MMMM d, yyyy"){return e?(0,r.Z)((0,i.Z)(e),t):""}},21918:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(42902),i=n(46572);function s(e,t={}){return null!=e&&(0,i.Z)((0,r.Z)(new Date),t)<=e}},96515:(e,t,n)=>{"use strict";function r(e){return!!e&&"string"==typeof e&&Date.now()>=new Date(e).getTime()}n.d(t,{Z:()=>r})},30084:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(42902),i=n(46572);function s(e,t={}){return null!=e&&(0,i.Z)((0,r.Z)(new Date),t)>=e}},98422:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(42902);function i(e,t){if(null==e||null==t)return!1;const n=(0,r.Z)(new Date);return n>=e&&n<=t}},75057:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(42227),i=n(38797);function s(e){if(null==e)return!1;const t=(0,r.Z)(e);return(0,i.Z)(Date.now(),t)}},41232:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(42227),i=n(3151);function s(e){if(null==e)return!1;const t=(0,r.Z)(e);return(0,i.Z)(new Date,t)}},12797:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(77349),i=n(42227),s=n(3151);function a(e){if(null==e)return!1;const t=(0,i.Z)(e);return(0,s.Z)(t,(0,r.Z)(new Date,1))}},56823:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(42227),i=n(85817),s=n(41232);function a(e){return!(null==e||!(0,s.Z)(e))&&(0,i.Z)((0,r.Z)(e))>16}},91715:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(42227),i=n(3151),s=n(7069);function a(e){if(null==e)return!1;const t=(0,r.Z)(e);return(0,i.Z)((0,s.Z)(new Date,1),t)}},44233:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(60495);const i=/version\/(\d+(\.\d+)?)/i,s=/\/([^\s]+)\s+\(Vizio/,a=/(?:applewebkit|safari)\/(\d+(\.\d+)?)/i,o=function(e){const t=/\(.* ([^)]+)\)$/.exec(e);return t&&t[1]||void 0};function l(e){let t="",n="";e?(t=e.userAgent,n=e.platform):r.Z&&null!=window.navigator&&(t=window.navigator.userAgent,n=window.navigator.platform),this.platformVersion="0",this.detect({userAgent:t,platform:n})}l.prototype={constructor:l,browsers:[{id:"konvergo",name:"Plex Media Player",webkit:!0,regex:/plexmediaplayer/i,versionRegex:/plexmediaplayer (\d+\.\d+\.\d+)/i},{id:"wiiu",name:"Wii U",regex:/wiiu/i,versionRegex:a,webkit:!0},{id:"ps3",name:"Unknown Browser",webkit:!0,regex:/\(PLAYSTATION 3 \d\./},{id:"ps4",name:"Unknown Browser",webkit:!0,regex:/\(PlayStation 4 \d\./},{id:"ps3",name:"PlayStation 3",webkit:!0,regex:/\(PlayStation 3\)/,versionRegex:a},{id:"ps4",name:"PlayStation 4",webkit:!0,regex:/\(PlayStation 4\)/,versionRegex:a},{id:"edge",name:"Microsoft Edge",regex:/edge?|(windows phone.+chrome)/i,versionRegex:/edge?\/(\d+(\.\d+)?)/i},{id:"ie",name:"Internet Explorer",msie:!0,regex:/(msie|trident|iemobile)/i,versionRegex:/(msie |rv:)(\d+(\.\d+)?)/i,versionMatchIndex:2},{id:"opera",name:"Opera",presto:!0,regex:/opera/i,versionRegex:i},{id:"opera",name:"Opera",webkit:!0,regex:/OPR\//,versionRegex:/OPR\/\s?(\d+(\.\d+)?)/},{id:"vivaldi",name:"Vivaldi",webkit:!0,regex:/vivaldi/i,versionRegex:/Vivaldi\/\s?(\d+(\.\d+)?)/},{id:"chrome",name:"Chrome",webkit:!0,regex:/(chrome|crios|gfiber|netbox)/i,versionRegex:/(?:chrome|crios|gfibertv)[/-](\d+(\.\d+)?)/i},{id:"firefox",name:"Firefox",gecko:!0,regex:/firefox/i,versionRegex:/firefox[ /](\d+(\.\d+)?)/i},{id:"safari",name:"Safari",webkit:!0,regex:/macintosh.+safari/i,versionRegex:i},{id:"safari",name:"Safari",webkit:!0,regex:/applewebkit/i,versionRegex:a}],platforms:[{id:"metrological",name:"Metrological",tv:!0,regex:/WPE([-\w]+)?$/,version:function(e=""){const t=/WPE(?:-(\w*))?$/.exec(e);if(t&&t[1])return t[1]}},{id:"netgem",name:"Netgem",tv:!0,regex:/^Netbox/,version:function(e=""){return e.split("/")[1]||e}},{id:"netcast",name:"NetCast",tv:!0,predicate:function(e){return/netcast/i.test(e)&&!/web[o0]s/i.test(e)}},{id:"webos",name:"webOS",tv:!0,predicate:function(e){return/web[o0]s/i.test(e)&&/smarttv/i.test(e)}},{id:"blackberry",name:"Blackberry",mobile:!0,regex:/BlackBerry|RIM|BB10/,version:function(e){const t=(/PlayBook/.test(e)?/Tablet OS (\d+\.\d+)/:i).exec(e);return t&&t[1]}},{id:"ps3",name:"PlayStation 3",tv:!0,regex:/P(lay)?S(tation )?3/i,version:function(e){return window.WM_devSettings?window.WM_devSettings.version:void 0}},{id:"ps4",name:"PlayStation 4",tv:!0,regex:/P(lay)?S(tation )?4/i,version:function(e){return window.WM_devSettings?window.WM_devSettings.version:void 0}},{id:"wiiu",name:"Wii U",tv:!0,regex:/Nintendo WiiU/},{id:"tizen",name:"Tizen",tv:!0,predicate:function(e){return!!this.version(e)},version:function(e){const t=/Tizen (\d+(\.\d+)*)/i.exec(e);return t&&t[1]||void 0}},{id:"winvergo",name:"Windows",tv:!0,predicate:function(e){return r.Z&&!!window.Windows},version:function(e){try{const e=window.Windows.System.Profile.AnalyticsInfo.versionInfo.deviceFamilyVersion,t=("0000000000000000"+parseInt(e,10).toString(16)).slice(-16),n=[];let r=0;for(;r<t.length;){const e=t.substring(r,r+4),i=parseInt(e,16);n.push(i),r+=4}return n.join(".")}catch(e){}}},{id:"viera",name:"Viera",tv:!0,predicate:function(e){return!!this.version(e)},version:function(e){const t=/Viera\/(\d+(\.\d+)*)/i.exec(e);return t&&t[1]||void 0}},{id:"sta",name:"Smart TV Alliance",tv:!0,version:function(e){let t,n;if(/SmartTvA/.test(e))n=/SmartTvA\/(\d+\.\d+)/.exec(e),t=n&&n[1]||t;else{const n=[/nettv\/4/i],r=[/nettv/i],i=function(t){return t.test(e)};[/Linux i686.+Chromium\/18/,/nettv\/4.2/i,/toshiba-dtv/i,/viera/i].some(i)?t="2.0":n.some(i)?t="1.0":r.some(i)&&(t="0")}return t},predicate:function(e){return void 0!==this.version(e)}},{id:"tivo",name:"TiVo",tv:!0,regex:/TiVo/,version:function(e){const t=/TCD[^,]+/.exec(e);return t&&t[0]||void 0}},{id:"viziosmartcast",name:"Vizio SmartCast",tv:!0,predicate:function(e){return r.Z&&window.VIZIO&&window.VIZIO.isSmartCastDevice},version:function(e){}},{id:"viziomtk",name:"Vizio MTK",tv:!0,predicate:function(e){return/opera/i.test(e)&&"undefined"!=typeof iMTK_JSP}},{id:"viziosigma",name:"Vizio Sigma",tv:!0,predicate:function(e){return/opera/i.test(e)&&/vizio/i.test(e)},version:function(e){const t=s.exec(e);return t&&t[1]||void 0}},{id:"viziomtk",name:"Vizio MTK",tv:!0,predicate:function(e){return s.test(e)&&"undefined"!=typeof iMTK_JSP},version:function(e){const t=s.exec(e);return t&&t[1]||void 0}},{id:"viziosigma",name:"Vizio Sigma",tv:!0,regex:s,version:function(e){const t=s.exec(e);return t&&t[1]||void 0}},{id:"operatvstore",name:"Opera TV Store",tv:!0,predicate:function(e){const t=/Opera TV Store/.test(e),n=/TV Store/.test(e)&&/OMI\//.test(e);return t||n}},{id:"operatv",name:"Opera TV",tv:!0,regex:/opera\/\d+\.\d+ \(linux (mips|arm)/i},{id:"ios",name:"iOS",mobile:!0,regex:/(iphone|ipad|ipod)/i,version:function(e){const t=/OS (\d+_\d+)/.exec(e);return t&&t[1]?t[1].replace("_","."):void 0}},{id:"windowsphone",name:"Windows Phone",mobile:!0,regex:/windows phone/i,version:function(e){const t=/windows phone[ os]*(\d+\.\d+);/i.exec(e);return t&&t[1]}},{id:"android",name:"Android",mobile:!0,regex:/android/i,version:function(e){const t=/Android (\d+\.\d+)/.exec(e);return t&&t[1]}},{id:"webos",name:"webOS",mobile:!0,predicate:function(e){return/hpwOS/.test(e)||/web[o0]s/i.test(e)&&!/smarttv/i.test(e)},version:function(e){const t=/(?:hpw|web)OS\/(\d+\.\d+)/.exec(e);return t&&t[1]}},{id:"openelec-rpi2",name:"Embedded (Raspberry Pi)",tv:!0,regex:/plexmediaplayer.*openelec-rpi2/i,version:o},{id:"openelec",name:"Embedded",tv:!0,regex:/plexmediaplayer.*openelec/i,version:o},{id:"linuxkonvergo",name:"Linux",tv:!0,regex:/plexmediaplayer.*linux/i,version:o},{id:"osxkonvergo",name:"OSX",tv:!0,regex:/plexmediaplayer.*mac/i,version:o},{id:"windowskonvergo",name:"Windows",tv:!0,regex:/plexmediaplayer.*win/i,version:o},{id:"linux",name:"Linux",regex:/linux/i},{id:"osx",name:"OSX",regex:/Macintosh/,version:function(e){const t=/OS X (\d+)[_.]?(\d+)?/.exec(e);if(t)return t[2]?t[1]+"."+t[2]:t[1]}},{id:"windows",name:"Windows",regex:/Windows/,version:function(e){const t=/Windows [^\d;)]*(\d+\.\d+)/.exec(e);if(t)return{"6.0":"Vista / Server 2008",6.1:"7 / Server 2008 R2",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"}[t[1]]}},{id:"chromeos",name:"Chrome OS",regex:/CrOS/,version:function(e){const t=/CrOS [\S]* (\d+)[_.]?(\d+)?/.exec(e);if(t)return t[2]?t[1]+"."+t[2]:t[1]}}],detect:function(e){const t=this.runTests(this.browsers,e),n=this.runTests(this.platforms,e);let r;t?(this.id=t.id,this.name=t.name,this.version=this.getVersion(e.userAgent,t.versionRegex,t.versionMatchIndex||1),this.webkit=!!t.webkit,this.gecko=!!t.gecko,this.msie=!!t.msie,this.presto=!!t.presto):(this.id="unknown",this.name="Unknown Browser",this.version="0",this.webkit=!1,this.gecko=!1,this.msie=!1,this.presto=!1),n?(r="function"==typeof n.version?n.version(e.userAgent):n.version,this.platform=n.name,this.platformID=n.id,this.platformVersion=r||this.platformVersion,this.mobile=!!n.mobile,this.tv=!!n.tv):(this.platformID="unknown",this.platform="Unknown Platform",this.mobile=!1,this.tv=!1),this.tv||(this.platformModifierKey="osx"===this.platformID||"ios"===this.platformID?"command":"ctrl")},runTests:function(e,t){let n,r,i,s=0;for(;!0!==r&&(i=e[s++]);)n=t[i.context||"userAgent"],i.regex?r=i.regex.test(n):i.predicate&&(r=i.predicate(n));return i},getVersion:function(e,t,n){const r=e.match(t);return r&&r.length>n&&r[n]||"0"},toJSON:function(){const e={};for(const t in this)this[t]&&"browsers"!==t&&"platforms"!==t&&(e[t]=this[t]);return e}};const c=new l},60495:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)},47479:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(44233),i=n(60495);const s=function(){if(!i.Z)return!1;const e=document.createElement("canvas");return!!(e&&e.getContext&&e.getContext("2d"))}(),a={isHostedHttps:i.Z&&"https:"===window.location.protocol,hasConsole:!!(window.console&&window.console.log&&window.console.log.call),hasWebSocket:i.Z&&!!window.WebSocket,hasEventSource:i.Z&&!!window.EventSource,hasReplaceState:i.Z&&!(!window.history||!window.history.replaceState),hasFileUpload:i.Z&&!!(window.File&&window.FileList&&window.FileReader),hasMediaSource:i.Z&&!(!window.MediaSource&&!window.WebKitMediaSource),hasObjectUrl:!r.Z.presto&&i.Z&&!(!window.URL||"function"!=typeof window.URL.createObjectURL||"function"!=typeof window.URL.revokeObjectURL),hasBlob:function(){try{return!!new window.Blob}catch(e){return!1}}(),hasFullscreen:function(){if(!i.Z)return!1;const e=document.createElement("div");return!!(e.requestFullscreen||e.webkitRequestFullScreen||e.mozRequestFullScreen)}(),hasCanvas:s,hasWebGL:function(){if(!s)return!1;const e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");return!!t&&t instanceof window.WebGLRenderingContext}(),hasTouchScreen:i.Z&&!!("ontouchstart"in window),hasPageVisibility:i.Z&&(!0===document.hidden||!1===document.hidden),hasWebKitPageVisibility:i.Z&&(!0===document.webkitHidden||!1===document.webkitHidden),hasPassiveEventListeners:function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){return e=!0,!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),hasWebSpeech:i.Z&&!!window.speechSynthesis,hasServiceWorker:i.Z&&!(!window.navigator||!window.navigator.serviceWorker),hasGamepads:i.Z&&"function"==typeof window.navigator.getGamepads,hasMediaSession:i.Z&&"mediaSession"in window.navigator,hasLocalStorage:(()=>{if(!i.Z)return!1;let e=!1;try{window.localStorage.setItem("testKey","test"),window.localStorage.removeItem("testKey"),e=!0}catch(e){}return e})()}},32846:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(19130),i=n(21133);const s=new(r.Z.extend({mixins:i.Z}))},46937:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t){return t?`${e}:${t}`:e}},51382:(e,t,n)=>{"use strict";n.d(t,{Pe:()=>s,L7:()=>a,ZP:()=>o});var r=n(47479),i=n(85790);const s="D100",a="D200";function o(){return r.Z.isHostedHttps||i.lv(window.location.hostname)?a:r.Z.isHostedHttps?"D300":s}},64542:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(96242);n(11133);const i=function(e){return{"X-Plex-Drm":e||r.NONE}}},70560:(e,t,n)=>{"use strict";n.d(t,{gU:()=>r,ZP:()=>i});const r="=",i=[r,"!=","==","!==",">=","<=",">>=","<<=",">>=-","<<=-"]},23736:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r,OR:()=>i});const r="&",i=","},46525:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(13469),i=n.n(r),s=(n(11133),n(70560)),a=n(23736);let o,l;function c(e,t){if(i().isEmpty(e))return;if(e===o)return l;const n=e.map((({key:e,value:n,operator:r=s.gU})=>{let i;i=t?Array.isArray(n)?n.join(a.OR):n:Array.isArray(n)?n.map(encodeURIComponent).join(a.OR):encodeURIComponent(n);const o=r.lastIndexOf(s.gU),l=r.substr(0,o),c=r.substr(o+1,r.lastIndexOf(s.gU));return encodeURIComponent(e)+encodeURIComponent(l)+s.gU+encodeURIComponent(c)+i}),[]);return o=e,l=n.join(a.Y),l}},20023:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(70515);function i(e,t,n="message"){if(!e)return t;const i=r.Z.parseXML(e.responseText);return i&&i[n]?i[n]:t}},46151:(e,t,n)=>{"use strict";n.d(t,{U:()=>r,Z:()=>o});var r,i,s=n(5562);function a(e,t){switch(t){case r.Subscription:switch(e){case"1003":return(0,s.Z)("Subscriptions have been temporarily disabled: too many failed attempts. Please try again later.")}break;case r.SendRecoveryCode:switch(e){case"1001":return(0,s.Z)("User could not be authenticated.");case"1003":return(0,s.Z)("A temporary recovery code has already been sent recently. Please try again later.");case"1028":return(0,s.Z)("Invalid recovery code")}}switch(e){case"1001":return(0,s.Z)("The username or password is incorrect");case"1003":return(0,s.Z)("Sign in has been temporarily disabled: too many failed attempts. Please try again later.");case"1004":return(0,s.Z)("Authentication failed. Please try again later.");case"1010-login":return(0,s.Z)("Login is required");case"1010-password":return(0,s.Z)("Password is required");case"1010-email":return(0,s.Z)("Email is required");case"1011-username":return(0,s.Z)("Username has already been taken");case"1011-email":return(0,s.Z)("Email has already been taken");case"1028":return(0,s.Z)("Invalid verification code");case"1029":return(0,s.Z)("Please enter the verification code");case"1030":return(0,s.Z)("This account only allows signing in with an email address");case"1031":return(0,s.Z)("The username or password is incorrect. Repeated attempts may temporarily disable sign in.");case"1032-password":return(0,s.Z)("Password must be at least 8 characters");case"1033-password":return(0,s.Z)("Password is too weak");case"1034-password":return(0,s.Z)("Password must be different from username or email address");case"1035-email":return(0,s.Z)("Email is not a valid email address");case"1036-username":return(0,s.Z)("Username must not be an email address");case"1037-username":return(0,s.Z)("Username contains invalid characters");case"1038-pin":return(0,s.Z)("Pin must be 4 digits");case"1039-passwordConfirmation":return(0,s.Z)("Confirm Password must match Password");case"1040":case"1044":return(0,s.Z)("Invalid Password")}}function o(e,t){if(!e)return;const n=String(e.code);return a(`${e.code}-${e.field}`,t)||a(n,t)||e.message||(0,s.Z)("An unknown error occurred")}(i=r||(r={})).Subscription="subscription",i.SendRecoveryCode="sendRecoveryCode"},46202:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(35589),i=n(11354),s=n(94716),a=n(58605);function o(e){const{sourceServer:t,sourceProvider:n,directories:o}=e;return o?o.reduce(((e,o)=>{const l=(0,s.Z)(n,o);return l&&(t.machineIdentifier===r.X||l.key!==a.Hs||o.hubKey)?e.concat((0,i.Z)({sourceType:l.key,sourceServer:t,sourceProvider:n,sourceDirectory:o})):e}),[]):[]}},78636:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(56442);function i(e){return function(e){return!!e&&(!!e.get("isCloud")||e.supports("json")&&!e.get("onlyXML")&&!e.get("isMobileServer"))}(e)?r.AV:r.Ls}},16014:(e,t,n)=>{const r=n(31212).Z,i=n(44213);e.exports=i(r)},78356:e=>{e.exports=function(e,t,n){return e===t?n.fn(this):n.inverse(this)}},84772:e=>{e.exports=function(e,t,n){return e!==t?n.fn(this):n.inverse(this)}},51030:(e,t,n)=>{const r=n(39247).Z,i=n(44213);e.exports=i(r)},62782:(e,t,n)=>{const r=n(10825).Z,i=n(44213);e.exports=i(r)},63208:(e,t,n)=>{const r=n(69713).Z,i=n(44213);e.exports=i(r)},54614:(e,t,n)=>{const r=n(52224).Z,i=n(44213);e.exports=i(r)},46178:(e,t,n)=>{const r=n(13469),i=n(40202);e.exports=function(e,t){const n=i.partials[e],s=r.extend({},t.hash.context||this,t.hash);return new i.SafeString(n(s))}},11178:(e,t,n)=>{const r=n(55028).Z,i=n(44213);e.exports=i(r)},36433:(e,t,n)=>{const r=n(53221).Z,i=n(44213);e.exports=i(r)},12498:(e,t,n)=>{const r=n(1495).Z,i=n(44213);e.exports=i(r)},44213:(e,t,n)=>{const r=n(13469);e.exports=function(e){return function(){return e.apply(this,r.initial(arguments))}}},76273:(e,t,n)=>{const r=n(13469),i=n(5562).Z,s=n(40202);e.exports=function(){const e=r.initial(arguments).concat({escape:!0}),t=r.last(arguments).hash;return r.isObject(t)&&!r.isEmpty(t)&&e.splice(1,0,t),new s.SafeString(i.apply(i,e))}},51447:(e,t,n)=>{const r=n(84936).Z.getLastSegment,i=n(44213);e.exports=i(r)},48523:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(11133);function i(e,t){(0,r.Z)(null!=e,"No `version` supplied to `isVersionOrNewer`."),(0,r.Z)(null!=t,"No `minVersion` supplied to `isVersionOrNewer`. Have you misspelled a constant?");const n=t.split("."),i=e.split(".");for(let e=0,t=n.length;e<t;e++)if(e<i.length){const t=parseInt(n[e],10),r=parseInt(i[e],10);if(t<r)return!0;if(t>r)return!1}return!0}},13162:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(98932);const i=/(^[^-]+)-/;function s(e){for(let t=0,n=(e=e||[]).length;t<n;t++){const n=e[t];if("xx"===n||"xn"===n)continue;if(r.ZP[n])return n;const a=n.match(i),o=a&&s([a[1]]);if(o)return o}}},76334:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(98932);function i(e){return r.ZP[e]||""}},98932:(e,t,n)=>{"use strict";n.d(t,{wq:()=>i,WX:()=>s,MP:()=>a,ZP:()=>o});const r={aa:"Afaraf",af:"Afrikaans",ab:"Abkhazian",ak:"Akan",sq:"Shqip",am:"Amharic",ar:"العربية",an:"Aragonés",hy:"Հայերեն",as:"Assamese",av:"авар мацӀ",ae:"avesta",ay:"aymar aru",az:"azərbaycan dili",ba:"башҡорт теле",bm:"bamanankan",eu:"euskara",be:"Беларуская",bn:"Bengali",bh:"भोजपुरी",bi:"Bislama",bs:"bosanski jezik",br:"brezhoneg",bg:"български език",my:"Burmese",ca:"Català",ch:"Chamoru",ce:"нохчийн мотт",cu:"ѩзыкъ словѣньскъ",cv:"чӑваш чӗлхи",kw:"Kernewek",co:"corsu",cr:"ᓀᐦᐃᔭᐍᐏᐣ",dv:"Divehi",dz:"རྫོང་ཁ",en:"English","en-GB":"English (UK)",eo:"Esperanto",et:"eesti",ee:"Eʋegbe",fo:"føroyskt",fj:"vosa Vakaviti",fy:"Frysk",ff:"Fulfulde",ka:"ქართული",gd:"Gàidhlig",ga:"Gaeilge",gl:"Galego",gv:"Gaelg",gn:"Avañe&apos;ẽ",gu:"ગુજરાતી",ht:"Kreyòl ayisyen",ha:"هَوُسَ",hz:"Otjiherero",hi:"हिन्दी",ho:"Hiri Motu",hr:"hrvatski",ig:"Asụsụ Igbo",is:"Íslenska",io:"Ido",ii:"ꆈꌠ꒿ Nuosuhxop",iu:"ᐃᓄᒃᑎᑐᑦ",ie:"Interlingue",ia:"Interlingua",id:"Bahasa Indonesia",ik:"Iñupiaq",jv:"basa Jawa",kl:"kalaallisut",kn:"ಕನ್ನಡ",ks:"कश्मीरी",kr:"Kanuri",kk:"Қазақ тілі",km:"Khmer",ki:"Gĩkũyũ",rw:"Ikinyarwanda",ky:"кыргыз тили",kv:"коми кыв",kg:"KiKongo",kj:"Kuanyama",ku:"Kurdî",lo:"Lao",la:"latine",lv:"latviešu valoda",li:"Limburgs",ln:"Lingála",lt:"lietuvių kalba",lb:"Lëtzebuergesch",lu:"Luba-Katanga",lg:"Luganda",mk:"македонски јазик",mh:"Kajin M̧ajeļ",ml:"Malayalam",mi:"te reo Māori",mr:"मराठी",ms:"bahasa Melayu",mg:"Malagasy fiteny",mt:"Malti",mo:"Moldavian",mn:"монгол",na:"Ekakairũ Naoero",nv:"Diné bizaad",nr:"isiNdebele (North)",nd:"isiNdebele (South)",ng:"Owambo",ne:"नेपाली",nn:"Norsk nynorsk",nb:"Norsk bokmål",ny:"chiCheŵa",oc:"Occitan",oj:"ᐊᓂᔑᓈᐯᒧᐎᓐ",or:"Oriya",om:"Afaan Oromoo",os:"ирон æвзаг",pa:"ਪੰਜਾਬੀ",pi:"पाऴि",ps:"پښتو",qu:"Runa Simi",rm:"rumantsch grischun",ro:"română",rn:"kiRundi",sg:"yângâ tî sängö",sa:"संस्कृतम्",sr:"српски језик",si:"Sinhala",sk:"slovenčina",sl:"Slovenščina",se:"Davvisámegiella",sm:"gagana fa&apos;a Samoa",sn:"chiShona",sd:"सिन्धी",so:"Soomaaliga",st:"Sesotho",sc:"sardu",ss:"SiSwati",su:"Basa Sunda",sw:"Kiswahili",ty:"Reo Tahiti",ta:"தமிழ்",tt:"татарча",te:"Telugu",tg:"тоҷикӣ",tl:"Wikang Tagalog",th:"ไทย",bo:"བོད་ཡིག",ti:"Tigrinya",to:"faka Tonga",tn:"Setswana",ts:"Xitsonga",tk:"Türkmen",tw:"Twi",ug:"Uyƣurqə",uk:"українська",ur:"اردو",uz:"O&apos;zbek",ve:"Tshivenḓa",vi:"Tiếng Việt",vo:"Volapük",cy:"Cymraeg",wa:"Walon",wo:"Wollof",xh:"isiXhosa",yi:"ייִדיש",yo:"Yorùbá",za:"Saɯ cueŋƅ",zu:"isiZulu",pb:"Português (Brasil)",fr:"Français","fr-CA":"Français Canadien",de:"Deutsch",sv:"Svenska",no:"Norsk",da:"Dansk",fi:"Suomeksi",nl:"Nederlands",it:"Italiano",es:"Español","es-419":"Español (Latinoamérica)",pl:"Polski",hu:"Magyar",el:"Ελληνικά",tr:"Türkçe",zh:"中文","zh-TW":"臺語",ru:"русский язык",he:"עברית",ja:"日本語",pt:"Português","pt-BR":"Português Brasileiro",ko:"한국어",cs:"čeština",fa:"فارسی",xx:"Unknown",xn:"None"};function i(e,t){return r[e].localeCompare(r[t])}const s=["xx","xn"],a=function(){const e=Object.keys(r).filter((e=>-1===s.indexOf(e)));return e.sort(i),e.concat(s)}(),o=r},9481:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t){if(e===t)return 0;const n=e.split("."),r=t.split("."),i=Math.max(n.length,r.length);for(let e=0;e<i;e++){if(!r[e])return 1;if(!n[e])return-1;const t=parseInt(n[e],10),i=parseInt(r[e],10);if(t>i)return 1;if(t<i)return-1}return 0}},19623:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return`${e.beginsAt}-${e.channelIdentifier}-${e.endsAt}`}},11133:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(96840);const i=function(e,t="`assert` requires an error message argument",n=!1){if(e)return!0;if(r.Z.error(t),n)throw new Error(t);return!1}},96840:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(32846);const i="log:message",s="log:groupEnd",a={accessToken:1,address:1,auth_token:1,authToken:1,Authorization:1,clientIdentifier:1,email:1,host:1,myPlexAccessToken:1,password:1,uri:1,"X-Plex-Token":1},o=new RegExp("("+Object.keys(a).join("|")+")(\\s?=\\s?)(['\"]?)[^'\"\n]+(['\"]?)","g"),l=/%[sdifo]/g,c=/(error|exception)\]$/i,d={"%s":e=>e,"%d":e=>Number.parseInt(e,10),"%f":e=>Number.parseFloat(e),"%o":e=>e},u=(e,t,n)=>function(){let i;const s=arguments.length;let a;if(t=void 0===t?p.LEVEL_LOG:t,!(p.level<t)){if(0===s&&n)a=n;else if(1===s)a=p.serialize(arguments[0]);else if(s>1){const e=Array(s);let t=-1;for(;++t<s;)e[t]=p.serialize(arguments[t]);e[0]=e[0].replace(l,((t,n)=>{let r=t;return e.length>1&&(r=d[t](e[1]),e.splice(1,1)),r})),a=e.join(" ")}return!a||i&&!i.test(a)||r.Z.trigger(e,{type:e,level:t,message:a}),a}},p=u(i);p.LEVEL_NONE=-1,p.LEVEL_ERROR=0,p.LEVEL_WARN=1,p.LEVEL_INFO=2,p.LEVEL_DEBUG=3,p.LEVEL_LOG=4,p.LEVEL_GROUP=p.LEVEL_INFO,p.LEVEL_GROUP_END=p.LEVEL_INFO,p.level=p.LEVEL_LOG,p.redacts=!0,p.setLevel=e=>{p.level=Math.max(p.LEVEL_NONE,Math.min(e,p.LEVEL_LOG))},p.debug=u(i,p.LEVEL_DEBUG),p.info=u(i,p.LEVEL_INFO),p.warn=u(i,p.LEVEL_WARN),p.error=u(i,p.LEVEL_ERROR),p.group=u("log:group",p.LEVEL_GROUP,"Group"),p.groupCollapsed=u("log:groupCollapsed",p.LEVEL_GROUP,"Group"),p.groupEnd=()=>{p.level<p.LEVEL_GROUP_END||r.Z.trigger(s,{type:s,level:p.LEVEL_GROUP_END})},p.serialize=e=>{let t;switch(t=void 0===e?"[object Undefined]":null===e?"[object Null]":Object.prototype.toString.call(e),t){case"[object String]":return p.redacts?e.replace(o,"$1$2$3REDACTED$4"):e;case"[object Object]":case"[object Array]":try{const t=p.redacts?p._jsonReplacer:null;return JSON.stringify(e,t,2)}catch(e){return"Unable to serialize value"}case"[object Boolean]":case"[object Number]":case"[object Function]":case"[object RegExp]":return e.toString();case"[object Date]":return e.toUTCString();case"[object Undefined]":return"undefined";case"[object Null]":return"null";default:if(c.test(t)){const n=p._getMaxStackLength();let r=e.stacktrace||e.stack;return r&&r.length>n&&(r=r.substr(0,n-3)+"..."),p.serialize({type:t,stack:r,name:e.name,message:e.message})}return e.toString()}},p._jsonReplacer=(e,t)=>a[e]?"REDACTED":"[object String]"===Object.prototype.toString.call(t)?p.serialize(t):t,p._getMaxStackLength=()=>1e3;const m=p},8593:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t,n){return Math.max(Math.min(e,n),t)}},18206:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t,n){let r=n;if(e.Part.length>1)for(let n=0,i=e.Part.length;n<i;n++){const i=e.Part[n];if(!i.duration)break;if(t.key===i.key)break;r+=i.duration}return r}},40074:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(64381),i=n(55855),s=n(78966),a=n(19013),o=n(77606),l=n(5562);const c=function(e){let t=e.episodeIndex;if(t>0||0===t)return e.noLeadingZero||(t=(0,o.Z)(t)),e.useLongName?(0,l.Z)("Episode {episodeNumber}",{episodeNumber:t}):(0,l.Z)("E{episodeNumber}",{episodeNumber:t});if(e.date&&e.dateFormat)return(0,r.Z)((0,a.Z)(e.date),e.dateFormat);if(e.date){const t=(0,a.Z)(e.date);return(0,l.Z)("{monthNumber}/{dayNumber}/{shortYear}",{monthNumber:(0,s.Z)(t)+1,dayNumber:(0,i.Z)(t),shortYear:(0,r.Z)(t,"yy")})}return""}},64335:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(13469),i=n.n(r);const s=function(e,t){let n;if(e.Part.length>1){let r=0;for(let i=0,s=e.Part.length;i<s&&(n=e.Part[i],n.duration)&&(r+=n.duration,!(r>t));i++);}else n=i().first(e.Part);return n}},89335:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t){return e>t?50:e<=0||t<=0?0:parseFloat((e/t*100).toFixed(2))}},97645:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t,n){let r=n;if(e.Part.length>1)for(let n=0,i=e.Part.length;n<i;n++){const i=e.Part[n];if(!i.duration)break;if(t.key===i.key)break;r-=i.duration}return r}},18868:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(13469),i=n.n(r);const s=function(e,t){if(!e.indexes)return;const n=e.indexes.split(",");return n.length?i().indexOf(n,t)>-1?t:n[0]:void 0}},46277:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(64381),i=n(55855),s=n(78966),a=n(19013),o=n(77606),l=n(5562);const c=function(e){let t=e.seasonIndex,n=e.episodeIndex;if((n>0||0===n)&&t<1e3){e.noLeadingZero||(t=(0,o.Z)(t),n=(0,o.Z)(n));const r=e.separator;return e.useLongName?`${(0,l.Z)("Season {seasonNumber}",{seasonNumber:t})}${r||" "}${(0,l.Z)("Episode {episodeNumber}",{episodeNumber:n})}`:`${(0,l.Z)("S{seasonNumber}",{seasonNumber:t})}${r||""}${(0,l.Z)("E{episodeNumber}",{episodeNumber:n})}`}if(e.date){const t=(0,a.Z)(e.date);return(0,l.Z)("{monthNumber}/{dayNumber}/{shortYear}",{monthNumber:(0,s.Z)(t)+1,dayNumber:(0,i.Z)(t),shortYear:(0,r.Z)(t,"yy")})}return""}},85480:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(77606),i=n(5562);const s=function(e){let t=e.seasonIndex;return null==t?"":t>1e3?t:(e.noLeadingZero||(t=(0,r.Z)(t)),e.useLongName?(0,i.Z)("Season {seasonNumber}",{seasonNumber:t}):(0,i.Z)("S{seasonNumber}",{seasonNumber:t}))}},41105:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(13469),i=n.n(r),s=n(12801);function a(e,t={}){const{onlyIfCached:n=!0}=t;if(!e)return;if(e.section)return e.section;if(e.get("isSection"))return e;const r=e.get("librarySectionID");if(r){const t=new s.Z({key:r},{server:e.server,onlyIfCached:n});return i().isEmpty(t)?void 0:t}return e.parent?a(e.parent,t):void 0}},84642:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(13469),i=n.n(r),s=n(73004),a=n(98851);const o=function(e){const t=s.Z.get("audio").id,n=(0,a.Z)(e,{streamType:t,selected:!0});return i().first(n)}},6731:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(25168),i=n(73004),s=n(98851);const a=function(e){return(0,s.Z)(e,{streamType:i.Z.get("subtitles").id}).filter((e=>e.selected&&e.id!==r.H))[0]}},1088:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(13469),i=n.n(r),s=n(73004),a=n(98851);const o=function(e){const t=s.Z.get("video").id,n=(0,a.Z)(e,{streamType:t});return i().first(n)}},98851:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(13469),i=n.n(r);const s=function(e,t){const n=[];if(e){const r=i().first(e.Part);r&&r.Stream&&n.push.apply(n,i().where(r.Stream,t))}return n}},84616:(e,t,n)=>{"use strict";function r(e){return/^(idx|pgs|vobsub)$/i.test(e)}n.d(t,{Z:()=>r})},96026:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(11023),l=n(78831),c=(n(11133),n(96840));var d=n(84642),u=n(6731),p=n(1088),m=n(98851),h=n(84616),g=n(33232),y=n(73571),v=n(5562),f=n(73004);const b={getMediaDecision:function(e){const t=this.augmentProfile(e);if(c.Z.info("[MDE] Augmented profile:",t),e.media)return this.analyzeMedia(e.media,t,e);const n=e.item.get("Media");if(!n.length)return{transcodeServer:e.transcodeServer,canPlay:!0,canDirectPlay:!0};if(1===n.length)return this.analyzeMedia(a().first(n),t,e);const r=a().map(n,(function(n){return this.analyzeMedia(n,t,e)}),this);return this.getBestDecision(r)},augmentProfile:function(e){const t=e.profile;if(!t)throw new Error("MDE: No player profile provided for "+e.type);const n=e.type===y.Z.types.VIDEO,r=i().extend(!0,{},t.directPlay),s=i().extend(!0,{},t.directStream),o=r.generic;o&&delete r.generic;let l=e.allowedAC3Containers;const c="*"===l;!c&&l&&(l=Array.isArray(l)?l:[l]);let d=e.allowedEAC3Containers;const u="*"===d;!u&&d&&(d=Array.isArray(d)?d:[d]);let p=e.allowedDCAContainers;const m="*"===p;!m&&p&&(p=Array.isArray(p)?p:[p]);let h=e.allowedTrueHDContainers;const g="*"===h;return!g&&h&&(h=Array.isArray(h)?h:[h]),a().each(r,(function(t,r){this.mergeGenericOptions(t,o),this.mergeMaxQualityOptions(t,e),(c||l&&a().contains(l,r))&&this.addAudioCodec("ac3",t,e),(u||d&&a().contains(d,r))&&this.addAudioCodec("eac3",t,e),(m||p&&a().contains(p,r))&&this.addAudioCodec("dca",t,e),(g||h&&a().contains(h,r))&&this.addAudioCodec("truehd",t,e);const i=t[y.Z.getStreamByType(e.type)];if(i){const t=i.codecs;a().each(t,(function(t,n){this.mergeMaxQualityOptions(t,e,!0),e.videoCodecOptions&&e.videoCodecOptions[n]&&this.mergeCodecOptions(t,e.videoCodecOptions[n])}),this)}const s=n&&t.audio;if(s&&e.audioCodecOptions){const t=s.codecs;a().each(t,(function(t,n){e.audioCodecOptions[n]&&this.mergeCodecOptions(t,e.audioCodecOptions[n])}),this)}}),this),this.mergeMaxQualityOptions(s,e),n&&(e.videoCodecOptions&&s.video&&a().each(s.video.codecs,(function(t,n){e.videoCodecOptions[n]&&this.mergeCodecOptions(t,e.videoCodecOptions[n])}),this),e.audioCodecOptions&&s.audio&&a().each(s.audio.codecs,(function(t,n){e.audioCodecOptions[n]&&this.mergeCodecOptions(t,e.audioCodecOptions[n])}),this)),{directPlay:r,directStream:s}},mergeGenericOptions:function(e,t){t&&(a().defaults(e,a().omit(t,"video","audio")),a().each(["audio","video"],(function(n){const r=t[n];let i=e[n];r&&(i||(i={},e[n]=i),a().defaults(i,a().omit(r,"codecs")),r.codecs&&a().each(r.codecs,(function(e,t){a().defaults(this.ensureCodecs(t,i),e)}),this))}),this))},mergeCodecOptions:function(e,t){a().each(t,(function(t,n){e[n]=t}),this)},ensureCodecs:function(e,t){return t.codecs||(t.codecs={}),t.codecs[e]||(t.codecs[e]={}),t.codecs[e]},mergeMaxQualityOptions:function(e,t,n){a().each([{option:"bitrate",setting:"maxBitrate"},{option:"videoResolution",setting:"maxVideoResolution"}],(function(r){if("videoResolution"===r.option&&t.type!==y.Z.types.VIDEO)return;const i=this.getMaxQualityOption(e,r.option,t);if(null==i)return;const s=r.setting,a=y.Z.getStreamByType(t.type);e.hasOwnProperty(s)?e[s]=i:e.hasOwnProperty(a)?e[a][s]=i:n||(e[a]={},e[a][s]=i)}),this)},getMaxQualityOption:function(e,t,n){const r=n.quality||{},i="max"+t.charAt(0).toUpperCase()+t.slice(1);let s=r[t];const a=this.getPrimaryStreamProperty(e,i,n);if("videoResolution"===t&&s&&(s=g.Z.getResolutionFromSize(s)),"bitrate"===t){const e=n.item.server.get("maxUploadBitrate");e&&(!s||e<s)&&(s=e)}if(s||a){let e;return e=s&&a?Math.min(s,a):s||a,e}},addAudioCodec:function(e,t,n){t.audio||(t.audio={}),this.ensureCodecs(e,t.audio)},analyzeMedia:function(e,t,n){c.Z.info("[MDE] Starting analysis of",this.getMediaTitle(e)),(0,c.Z)("[MDE] Analyzing direct play");const r=this.canDirectPlay(e,t.directPlay,n);r.result||(0,c.Z)("[MDE] Cannot direct play:",r.failedCheck);const i={finalProfile:t,transcodeServer:n.transcodeServer,preferredDirectPlayProtocol:n.preferredDirectPlayProtocol,item:n.item,media:e,canDirectPlay:r.result,canDirectPlayFailedCheck:r.failedCheck,canDisplayHDR:!!n.canDisplayHDR,canDisplayDolbyVision:!!n.canDisplayDolbyVision};let s=n.transcoderOptions||{};if(a().isFunction(s)&&(s=s(i)),n.type===y.Z.types.VIDEO){(0,c.Z)("[MDE] Analyzing video direct stream");const r=(0,p.Z)(e);if(r){const e=this.canDirectStreamVideo(r,t.directStream.video,n,s);i.canDirectStreamVideo=e.result,i.canDirectStreamVideoFailedCheck=e.failedCheck}}if(n.type!==y.Z.types.PHOTO){(0,c.Z)("[MDE] Analyzing audio direct stream");const r=(0,d.Z)(e);if(r){const e=this.canDirectStreamAudio(r,t.directStream.audio,n,s);i.canDirectStreamAudio=e.result,i.canDirectStreamAudioFailedCheck=e.failedCheck}}const o=(0,u.Z)(i.media);return o&&((0,c.Z)("[MDE] Analyzing subtitles"),a().extend(i,this.analyzeSubtitles(o,n))),(0,c.Z)("[MDE] Analyzing playability"),a().extend(i,this.canPlay(i,n)),a().extend(i,this.getEffectiveQuality(e,t.directStream,n)),(0,c.Z)("[MDE] Finished analysis of:",this.getMediaTitle(e),this.getDecisionLogs(i)),i},canDirectPlay:function(e,t,n){if(n.forceDirectPlay)return(0,c.Z)("[MDE] Direct play forced"),{result:!0};if(!1===n.allowDirectPlay&&!n.transcodeServer.get("isCloud"))return c.Z.warn("[MDE] Direct play failed; option is disabled"),{result:!1,failedCheck:"allowDirectPlay"};if(n.type===y.Z.types.VIDEO&&!this.canDirectPlayVideo(e,n))return{result:!1,failedCheck:"canDirectPlayVideo"};const r=t[e.container];if(!r)return c.Z.warn("[MDE] Direct play failed; unsupported container:",e.container),{result:!1,failedCheck:"containerProfile"};const i=a().keys(r);if(i&&i.length){for(let t=0,s=i.length;t<s;t++){const s=i[t],o=r[s];if("mimeType"===s){if(!n.skipCanPlayTypeTest&&!this.canPlayType(y.Z.getElementByType(n.type),o))return c.Z.warn("[MDE] Direct play failed; canPlayType test, %s: %s",s,o),{result:!1,failedCheck:"canPlayType"}}else if("video"===s||"audio"===s){const t=f.Z.get(s),r=(0,m.Z)(e,{streamType:t.id}),i="video"===s?(0,p.Z)(e):(0,d.Z)(e);if(!i){c.Z.warn("[MDE] No stream selected; will not be able to analyze stream codecs");continue}if("audio"===s&&i!==r[0]&&!n.allowMultiTrackAudio)return c.Z.warn("[MDE] Direct play failed; multi-track audio is required"),{result:!1,failedCheck:"allowMultiTrackAudio"};const a=this.analyzeStream(i,o,n);if(!a.result)return{result:!1,failedCheck:a.failedCheck}}else if("photo"===s){const t=this.analyzeStream(a().first(e.Part),o,n);if(!t.result)return{result:!1,failedCheck:t.failedCheck}}else if(!this.validateProfileProperty(s,o,e))return{result:!1,failedCheck:`validateProfileProperty:${s}`}}return{result:!0}}return{result:!0}},canDirectPlayVideo:function(e,t){return t.allowDirectPlay||t.transcodeServer.get("isCloud")?"hls"!==e.protocol||t.hasNativeHLS?"flv"!==e.container||t.hasFlash?!("dash"===e.protocol&&!t.hasDASH&&(c.Z.warn("[MDE] Direct play failed; cannot play DASH"),1)):(c.Z.warn("[MDE] Direct play failed; cannot play FLV"),!1):(c.Z.warn("[MDE] Direct play failed; cannot play HLS"),!1):(c.Z.warn("[MDE] Direct play failed; option is disabled"),!1)},canPlayType:function(e,t){if(e===y.Z.elements.PHOTO)return!0;const n=document.createElement(e);return!(!n.canPlayType||!n.canPlayType(t).replace(/^no$/,""))},canDirectStreamVideo:function(e,t,n,r){return r.directStream||n.transcodeServer.get("isCloud")?this.analyzeStream(e,t,n):(c.Z.warn("[MDE] Direct stream video failed; option is disabled"),{result:!1,failedCheck:"options:directStream"})},canDirectStreamAudio:function(e,t,n,r){return r.directStreamAudio||n.transcodeServer.get("isCloud")?this.analyzeStream(e,t,n):(c.Z.warn("[MDE] Direct stream audio failed; option is disabled"),{result:!1,failedCheck:"options:directStreamAudio"})},analyzeStream:function(e,t,n){const r=t&&t.codecs&&t.codecs[e.codec];for(const i in t){const s=t[i];if("codecs"===i){const t=s[e.codec];if(!t)return{result:!1,failedCheck:`noCodecInProfile:${e.codec}`};const r=this.analyzeStream(e,t,n);if(!r.result)return{result:!1,failedCheck:r.failedCheck}}else if(!(r&&i in r||this.validateProfileProperty(i,s,e)))return{result:!1,failedCheck:`validateProfileProperty:${i}`}}return{result:!0}},validateProfileProperty:function(e,t,n){const r=e.match(/^(min|max)(\w)(\w*)/);let i;if(r){const s="min"===r[1],a="max"===r[1];if(i=n[e=r[2].toLowerCase()+r[3]],null==i&&c.Z.warn("[MDE] Unable to validate %s; re-analyze the media if possible",e),null!=i&&"videoResolution"===e&&(i=g.Z.getHeightFromResolution(i),t=g.Z.getHeightFromResolution(t)),null!=i){if(s&&i<t)return c.Z.warn("[MDE] Invalid profile property; %s: %s < %s",e,i,t),!1;if(a&&i>t)return c.Z.warn("[MDE] Invalid profile property; %s: %s > %s",e,i,t),!1}}else if(i=n[e],null==i&&c.Z.warn("[MDE] Unable to validate %s; re-analyze the media if possible",e),i!==t&&!a().contains(t,i))return c.Z.warn("[MDE] Invalid profile property; %s: %s !== %s",e,i,t),!1;return!0},analyzeSubtitles:function(e,t){const n=t.subtitlesBurnLevel||l.Z.ALWAYS,r=e.codec,i=!!e.key&&void 0===r&&t.transcodeServer.get("isCloud"),s=t.transcodeServer.get("isCloud")&&("vtt"===r||"eia_608"===r);return(0,c.Z)("[MDE] Subtitle codec:",r),(0,c.Z)("[MDE] Burn level:",n),i?((0,c.Z)("[MDE] Using sidecar subtitles %s",e.key),{useSidecarSrtSubtitles:!0}):s?{canDirectPlay:!0}:n===l.Z.NEVER?{useSoftSubtitles:!1}:n===l.Z.ALWAYS?(c.Z.warn("[MDE] Direct play failed; asked to always burn subtitles"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles:burnLevelAlways",canDirectStreamVideo:!1}):t.transcodeServer.supports("softSubtitles")?(0,h.Z)(r)?(c.Z.warn("[MDE] Soft subtitles failed; bitmap subtitles"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):/^(ass|ssa)$/i.test(r)&&n===l.Z.AUTO?(c.Z.warn("[MDE] Soft subtitles failed; ASS subtitles"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):/^eia_608$/i.test(r)?(c.Z.warn("[MDE] Soft subtitles failed; Closed captioning"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):t.transcodeServer.supports("softSubtitlesWithDirectPlay")?t.allowDirectStreamVideoWithSoftSubtitles?{useSoftSubtitles:!0}:{useSoftSubtitles:!0,canDirectStreamVideo:!1}:(c.Z.warn("[MDE] Direct play failed; %s subtitles",r),t.allowDirectStreamVideoWithSoftSubtitles?{useSoftSubtitles:!0,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles"}:{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):(c.Z.warn("[MDE] Direct play failed; server support requires burn subtitles"),c.Z.warn("[MDE] Soft subtitles failed; server version"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles:softSubtitlesUnsupported",canDirectStreamVideo:!1})},canPlay:function(e,t){const n=this.validateParts(e,t)||this.validateTranscoder(e,t);return n?{canPlay:!1,errorMessage:n}:{canPlay:!0}},validateParts:function(e,t){const n=function(e){const t=[];return Array.isArray(e)||(e=[e]),a().each(e,(e=>{const n=e.Part;n&&a().each(n,(e=>{!1!==e.exists&&!1!==e.accessible||t.push(e)}))})),t}(e.media);if(!n.length)return;c.Z.warn("[MDE] Unable to play; missing parts");const r=a().first(n);return 1===Number(r.exists)?(0,v.Z)("Please check the permissions for this file."):(0,v.Z)("Please check that the file exists and the necessary drive is mounted.")},validateTranscoder:function(e,t){if(e.canDirectPlay)return;const n=t.type,r=n===y.Z.types.MUSIC,i=n===y.Z.types.VIDEO,s=t.transcodeServer,o=s.get("transcoderAudio"),l=s.get("transcoderVideo");let d;if(r||"track"===t.item.get("type")){if(d=(0,v.Z)("This server is not powerful enough to convert audio."),i&&!l)return c.Z.warn("[MDE] Unable to play; server unable to transcode music using video transcoder"),d;if(r&&!o)return c.Z.warn("[MDE] Unable to play; server unable to transcode music using audio transcoder"),d}else if(i){const n=(0,v.Z)("This server is not powerful enough to convert video. You may be able to enable playback by increasing your quality setting."),r=(0,v.Z)("This server is not powerful enough to convert video. Playback qualities are limited because an indirect connection is being used."),i=e.canDirectStreamVideo||!s.get("transcoderVideoRemuxOnly");if(d=(0,v.Z)("This server is not powerful enough to convert video."),!l||!i){if(c.Z.warn("[MDE] Unable to play; server unable to transcode video"),t.quality){if(t.quality.index===g.Z.ORIGINAL)return d;const e=a().clone(t);return e.quality=a().extend({index:g.Z.ORIGINAL},a().pick(t.quality,"attribute")),this.getMediaDecision(e).canDirectPlay?n:"relay"===s.get("maxUploadBitrateReason")?r:d}return n}}},getEffectiveQuality:function(e,t,n){const r=n.quality,i={},s={};if(e.bitrate||c.Z.warn("[MDE] Unable to determine effective quality; re-analyze the media if possible"),n.type===y.Z.types.VIDEO){i.bitrate=e.bitrate,i.videoResolution=g.Z.getHeightFromResolution(e.videoResolution);const a=this.getPrimaryStreamProperty(t,"maxBitrate",n);if(a){const t=(0,p.Z)(e),n=t?t.bitrate:e.bitrate;i.bitrate=Math.min(n,a),s.maxVideoBitrate=a}if(r&&r.videoResolution){const e=g.Z.getResolutionFromSize(r.videoResolution),t=g.Z.getHeightFromResolution(e);i.videoResolution=Math.min(i.videoResolution,t)}}else if(n.type===y.Z.types.MUSIC){i.bitrate=e.bitrate;const r=this.getPrimaryStreamProperty(t,"maxBitrate",n);r&&(i.bitrate=Math.min(e.bitrate,r),s.musicBitrate=r)}return i.transcoderQualityOptions=s,i},getPrimaryStreamProperty:function(e,t,n){const r=e[y.Z.getStreamByType(n.type)];let i=e[t];return null==i&&r&&(i=r[t]),i},getMediaTitle:function(e){let t=e.title||e.videoResolution||e.bitrate||e.container;const n=a().compact([e.container,e.videoCodec,e.audioCodec]),r=(0,p.Z)(e);return r&&n.push(r.level,r.profile),n.length&&(t+=" ("+n.join(", ")+")"),t},getDecisionLogs:function(e){const t={canPlay:e.canPlay,canDirectPlay:e.canDirectPlay},n=e.canDirectStreamVideo;null!=n&&(t.canDirectStreamVideo=n);const r=e.canDirectStreamAudio;null!=r&&(t.canDirectStreamAudio=r);const i=e.useSoftSubtitles;null!=i&&(t.useSoftSubtitles=i);const s=e.bitrate;null==s||a().isNaN(s)||(t.bitrate=s);const o=e.videoResolution;return null==o||a().isNaN(o)||(t.videoResolution=o),t},getBestDecision:function(e){const t=a().last(this.sortDecisions(e));return(0,c.Z)("[MDE] Selected %s to play:",this.getMediaTitle(t.media),this.getDecisionLogs(t)),t},sortDecisions:function(e){return a().chain(e).reverse().sortBy(this.preferHigherBitrate,this).sortBy(this.preferMoreAudioChannels,this).sortBy(this.preferDirectStreamAudio,this).sortBy(this.preferHigherResolution,this).sortBy(this.preferDirectStreamVideo,this).sortBy(this.preferDirectPlayMatchingPreferredProtocol,this).sortBy(this.preferDirectPlay,this).sortBy(this.preferHigherResolutionIfCapable,this).sortBy(this.preferCloudIfRemote,this).sortBy(this.preferDirectPlayOrDirectStreamIfUHD,this).sortBy(this.preferPlayable,this).value()},preferPlayable:function(e){return void 0===e.canPlay?null:e.canPlay},preferDirectPlayOrDirectStreamIfUHD:function(e){const t=e.media.height;if(void 0===t)return null;const n=g.Z.getResolutionFromHeight(t);return!/^\d+k$/i.test(n)||e.canDirectPlay||e.canDirectStreamVideo},preferCloudIfRemote:function(e){const t=e.media.proxyType===o.Z.CLOUD;return e.transcodeServer.get("isPrivateConnection")?!t:t},preferHigherResolutionIfCapable:function(e){const t=e.transcodeServer,n=t.get("transcoderVideo"),r=t.get("transcoderVideoRemuxOnly");return n&&!r&&(e.canDirectPlay||e.canDirectStreamVideo)?this.preferHigherResolution(e):null},preferDirectPlay:function(e){return void 0===e.canDirectPlay?null:e.canDirectPlay},preferDirectPlayMatchingPreferredProtocol:function(e){return e.canDirectPlay&&e.media.protocol&&e.preferredDirectPlayProtocol?e.media.protocol===e.preferredDirectPlayProtocol:null},preferDirectStreamVideo:function(e){return void 0===e.canDirectStreamVideo?null:e.canDirectStreamVideo},preferHigherResolution:function(e){return void 0===e.videoResolution?null:e.videoResolution},preferDirectStreamAudio:function(e){return void 0===e.canDirectStreamAudio?null:e.canDirectStreamAudio},preferMoreAudioChannels:function(e){const t=e.media.audioChannels;return void 0===t?null:t},preferHigherBitrate:function(e){return void 0===e.bitrate?null:e.bitrate}}},37201:(e,t,n)=>{"use strict";n.d(t,{Vq:()=>s,u$:()=>a}),n(11133);var r=n(96840);const i={};function s(e,t){const n=t&&!0,s=i[e];return n&&s&&s.length?((0,r.Z)("[MediaElement] Found existing media element to use. type: %s",e),s.shift()):((0,r.Z)("[MediaElement] Creating new media element. type: %s",e),document.createElement(e))}function a(e){const t=e.nodeName.toLowerCase();(0,r.Z)("[MediaElement] Releasing media element to pool. type: %s",t),i[t]||(i[t]=[]),i[t].push(e)}},27903:(e,t,n)=>{"use strict";function r(e){const t={};return(...n)=>{const r=JSON.stringify(n);if(t.hasOwnProperty(r))return t[r];{const i=e(...n);return t[r]=i,i}}}n.d(t,{Z:()=>r})},86953:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(17524),i=n(35589);function s(e){const{providerIdentifier:t=r.Y3,serverIdentifier:n,key:s}=e;let a=n!==i.X?`server://${n}/${t}`:`provider://${t}`;return s&&(a=`${a}${s}`),a}},54941:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(54895);function i(e){return(0,r.Z)(e)}},39247:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(54941);function i(e){return(0,r.Z)(e.bitrate)}},54895:(e,t,n)=>{"use strict";function r(e){return e>0?`${e} kbps`:""}n.d(t,{Z:()=>r})},72369:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r=["B","KB","MB","GB","TB"],i=function(e,t=2){if(0===e)return`${(0).toFixed(t)} ${r[0]}`;const n=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return`${(e/Math.pow(1024,n)).toFixed(t)} ${r[n]}`}},98582:(e,t,n)=>{"use strict";function r(e){if(!e)return"";const t=e.indexOf("/");return-1!==t?e.substr(t+1):e}n.d(t,{Z:()=>r})},10825:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t){return e?/^\d+$/.test(e)?e+((null==t?void 0:t.length)?t[0]:"p"):e.toUpperCase():""}},69713:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(54895);const i=function(e){return e>=100?function(e){if(!(e>0))return"";let t=e/1e3;return t=t>=.1?Number(t.toFixed(1)):t,t+" Mbps"}(e):(0,r.Z)(e)}},52224:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(33232),i=n(5562),s=n(10825),a=n(69713);const o=function(e){if(e.index===r.Z.CONVERT_AUTOMATICALLY)return(0,i.Z)("Convert Automatically");if(e.index===r.Z.ORIGINAL)return(0,i.Z)("Original");const t=e.bitrate||e.maxVideoBitrate,n=e.videoResolution;if(!t&&!n)return(0,i.Z)("Unknown");const o=[];if(t&&o.push((0,a.Z)(t)),n&&(!t||t>=1e3)){const e=r.Z.getResolutionFromSize(n);o.push((0,s.Z)(e))}const l=o.join(", ");return e.description?l+" "+e.description:l}},60316:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(17524),i=n(35589),s=n(84936);const a=/\/([^/]+)([^$]+)?/,o={};function l(e){if(o[e])return o[e];const{protocol:t,host:n,pathname:l,search:c}=s.Z.parseUri(e),d="provider:"===t,u="server:"===t;if(!d&&!u)throw new Error("Source identifier is lacking provider or server scheme");const p=l.replace(/\/$/,"")||void 0,m=(null==p?void 0:p.match(a))||[],h=p&&"media"===m[1],g=h?r.Y3:m[1],y=d||h?p:m[2],v=y?y.slice(y.lastIndexOf("/")+1):void 0;return o[e]={isServer:u,serverIdentifier:d?i.X:n,providerIdentifier:d?n:g||r.Y3,key:y?`${y}${c}`:"",ratingKey:v||""},o[e]}},35406:(e,t,n)=>{"use strict";function r(e,t){const n=t?8*Math.round(t/8):0,r=e?8*Math.round(e/8*(9/16)):0;return Math.max(n,r)}n.d(t,{Z:()=>r})},63233:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(41927),i=n(5450),s=n(80080),a=n(47323),o=n(61309),l=n(7947),c=n(99131);const d={movie:s.Z,show:c.Z,season:c.Z,episode:c.Z,artist:r.Z,album:a.Z,track:a.Z,photo:o.Z,photoalbum:o.Z,clip:i.Z,station:l.Z}},34796:(e,t,n)=>{"use strict";n.d(t,{LX:()=>r,jt:()=>i,ZP:()=>s});const r=-1,i=10,s=function(e){return e.userRating===i}},1997:(e,t,n)=>{"use strict";function r(e){if(e)return e.relay?"relayed":e.isLoopback?"localhost":e.isPrivate?"local":"remote"}n.d(t,{Z:()=>r})},66729:(e,t,n)=>{"use strict";function r(e){return e.isCloud?"online":e.isShared?"shared":"owned"}n.d(t,{Z:()=>r})},46053:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a}),n(96840);var r=n(59756);let i;function s(){if(void 0===i){const e=window.location.search.match(new RegExp("performanceReportingHost=([^&=]+)"));i=(e&&e[1]?decodeURIComponent(e[1]):r.Z.performanceReportingHost)||null}return i}const a=function(e=s){const t={};function n(n){return n&&!t[n]&&(t[n]=/^(client|playback):/.test(n)||!!e()),!!n&&t[n]}const r={startPeriod:e=>r.mark(`${e}-start`),endPeriod:(e,t)=>r.measure(e,t||`${e}-start`),mark(e){let t=null;if(n(e)){window.performance.mark(e);const n=window.performance.getEntriesByName(e);t=n[n.length-1]}return t},measure(e,t,r){let i=null;if(n(e))try{window.performance.measure(e,t,r),window.performance.clearMarks(t);const n=window.performance.getEntriesByName(e);i=n[n.length-1]}catch(e){}return i}};return r}()},19695:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(97364);function i(e){if(null==e)return;const t=Math.round(e/1e3);let n;return n=t>=3600?300:60,(0,r.Z)(t,n)}},58698:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(93966),i=n(96840);const s=function(){const e=Date.now(),t=(0,r.DB)("sessionStats");i.Z.debug("[Metrics] Updating session last interaction time"),t.save("lastInteractionTime",e)}},21133:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(13469),i=n.n(r);n(91033);const s=/\s+/,a=function(e,t,n,r){if(!n)return!0;if("object"==typeof n){for(const i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(s.test(n)){const i=n.split(s);for(let n=0,s=i.length;n<s;n++)e[t].apply(e,[i[n]].concat(r));return!1}return!0},o=function(e,t){let n,r=-1;const i=e.length,s=t[0],a=t[1],o=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,s);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,s,a);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,s,a,o);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t)}},l={on:function(e,t,n){return a(this,"on",e,[t,n])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:n,ctx:n||this}),this):this},once:function(e,t,n){if(!a(this,"once",e,[t,n])||!t)return this;const r=this;var s=i().once((function(){r.off(e,s),t.apply(this,arguments)}));return s._callback=t,this.on(e,s,n)},off:function(e,t,n){let r,s,o,l,c,d,u;if(!this._events||!a(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events=void 0,this;const p=e?[e]:i().keys(this._events);for(l=0,c=p.length;l<c;l++)if(e=p[l],o=this._events[e],o){if(this._events[e]=r=[],t||n)for(d=0,u=o.length;d<u;d++)s=o[d],(t&&t!==s.callback&&t!==s.callback._callback||n&&n!==s.context)&&r.push(s);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;const t=[].slice.call(arguments,1);if(!a(this,"trigger",e,t))return this;const n=this._events[e],r=this._events.all;return n&&o(n,t),r&&o(r,arguments),this},stopListening:function(e,t,n){let r=this._listeningTo;if(!r)return this;const s=!t&&!n;n||"object"!=typeof t||(n=this),e&&((r={})[e._listenId]=e);for(const a in r)(e=r[a]).off(t,n,this),(s||i().isEmpty(e._events))&&delete this._listeningTo[a];return this},hasListener:function(e){const t=this._events&&this._events[e];return Array.isArray(t)&&t.length>0}};i().each({listenTo:"on",listenToOnce:"once"},(function(e,t){l[t]=function(t,n,r){return(this._listeningTo||(this._listeningTo={}))[t._listenId||(t._listenId=i().uniqueId("l"))]=t,r||"object"!=typeof n||(r=this),t[e](n,r,this),this}})),l.bind=l.on,l.unbind=l.off;const c=l},91033:(e,t,n)=>{"use strict";n(11133)},77606:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(13469),i=n.n(r);const s=function(e){return e=parseInt(e,10),i().isNaN(e)?"":(e<10?"0":"")+e}},97364:(e,t,n)=>{"use strict";function r(e,t){let n=e/t;return n=Math.round(n),n*=t,n}n.d(t,{Z:()=>r})},87769:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const r=e=>Function.prototype.toString.call(e),i=r(Object);function s(e){if(!e||"object"!=typeof e)return!1;const t="function"==typeof e.constructor?Object.getPrototypeOf(e):Object.prototype;if(null===t)return!0;const n=t.constructor;return"function"==typeof n&&n instanceof n&&r(n)===i}},55983:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(13469),i=n.n(r),s=n(96840);function a(e,t){Array.isArray(t)?i().each(t,e):e(t)}const o={parseXML:n(25474).Z,replaceXMLElementNames:function(e,t,n){Array.isArray(t)||(t=[t]);const r=t.join("|"),i=new RegExp("<("+r+")","g"),s=new RegExp("</("+r+")>","g");return(e=e.replace(i,"<"+n+' elementName="$1"')).replace(s,"</"+n+">")},parseEncodedString:function(e,t){e&&a((function(t){if(e.hasOwnProperty(t)){const n=e[t];if(null==n)e[t]="";else try{e[t]=decodeURIComponent(n)}catch(e){}}}),t)},parseInteger:function(e,t){e&&a((function(t){if(e.hasOwnProperty(t)){const n=e[t];e[t]=null==n||""===n?0:parseInt(n,10)}}),t)},parseFloat:function(e,t){e&&a((function(t){if(e.hasOwnProperty(t)){const n=e[t];e[t]=null===n||""===n?0:parseFloat(n)}}),t)},parseBoolean:function(e,t){e&&a((function(t){if(e.hasOwnProperty(t)){const n=e[t];e[t]=1===Number(n)||"true"===n}}),t)},parseArray:function(e,t){e&&a((function(t){if(e.hasOwnProperty(t)){const n=e[t];Array.isArray(n)||(e[t]=[n])}else e[t]=[]}),t)},parseQueryString:function(e,t,n){e&&(n||(n="&"),a((function(t){if(!e.hasOwnProperty(t))return;let r=e[t];var a;i().isObject(r)||(i().isString(r)?(r=r.trim().replace(/^(\?|#)/,""),e[t]=r?(a=r.split(n),i().reduce(a,(function(e,t){const n=t.split("=");let r=n[0],i=n[1];try{r=decodeURIComponent(r),i=void 0===i?null:decodeURIComponent(i),e.hasOwnProperty(r)?Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i}catch(e){s.Z.warn("Unable to decode query string at "+r)}return e}),{})):{}):e[t]={})}),t))}}},99862:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return e?Array.isArray(e)?e:[e]:[]}},86017:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return 1===Number(e)||"true"===e}},67124:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return null==e||""===e?0:parseInt(e,10)}},85022:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(96840),i=n(93275);const s=function(e,t={}){try{return JSON.parse(e)}catch(n){const s=(0,i.Z)(e)?e.substring(0,50):"no response";return r.Z.warn(`[Parser] Unable to parse JSON: ${n.message} (${s})`),t}}},84659:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(96840),i=n(87769),s=n(93275);const a=function(e,t){if(t||(t={}),(0,i.Z)(e))return e;if(!(0,s.Z)(e))return{};if(!(e=e.trim().replace(/^(\?|#)/,"")))return{};const n=t.separators&&t.separators.join("")||t.separator||"&",a=new RegExp(`[${n}]+`);return e.split(a).reduce(((e,t)=>{let[n,i]=t.split("=");try{n=decodeURIComponent(n),i=void 0===i?null:decodeURIComponent(i),e.hasOwnProperty(n)?Array.isArray(e[n])?e[n].push(i):e[n]=[e[n],i]:e[n]=i}catch(e){r.Z.warn(`[Parser] Unable to decode query string at ${n}`)}return e}),{})}},8941:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return null==e?"":String(e)}},25474:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(27098),i=n.n(r),s=n(96840);let a;const o=function(e){const t={};let n;if(!e)return s.Z.warn("[Parser] Empty XML source"),t;a=a||new(i())({attributePrefix:"",emptyNodeForm:{},ignoreRoot:!0});try{n=e&&a.xml2js(e)}catch(e){s.Z.warn("[Parser] Unable to parse XML: "+e.message)}return n||t}},67299:(e,t,n)=>{"use strict";n.d(t,{l:()=>s,Z:()=>a});var r=n(69881);let i;const s=["Video","Track","Photo","Playlist","Game"],a=function(e,t){const n=t&&t.includeDirectories,a=function(e,t,n){Array.isArray(t)||(t=[t]);const r=t.join("|"),i=new RegExp(`<(${r})`,"g"),s=new RegExp(`</(${r})>`,"g");return e.replace(i,`<${n} elementName="$1"`).replace(s,`</${n}>`)}(e,n?["Directory",...s]:s,"Metadata");return n?a:function(e){i||(i=(0,r.getAllMetadataTypes)().map((e=>e.typeString)).join("|"));const t=new RegExp(`<Directory([^>]*?)type="(${i})"([\\s\\S]*?)</Directory>`,"gm"),n=new RegExp(`<Directory([^>]*?)type="(${i})"([\\s\\S]*?)/>`,"gm");return e.replace(t,'<Metadata$1type="$2" elementName="Directory"$3</Metadata>').replace(n,'<Metadata$1type="$2" elementName="Directory"$3/>')}(a)}},70762:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return e?"1":"0"}},23100:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e={},t={}){return function(e,t){const n=Object.keys(e);return t.orFields&&t.andFields&&n.sort(((e,n)=>t.orFields.includes(e)&&t.andFields.includes(n)?-1:t.andFields.includes(e)&&t.orFields.includes(n)?1:0)),n}(e,t).reduce(((n,r,i)=>{let s=t.separator||"&";return 0===i?s="":t.orFields&&t.orFields.includes(r)?s="|":t.andFields&&t.andFields.includes(r)&&(s="&"),n+`${s}${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`}),"")}},70515:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(13469),i=n.n(r),s=n(99862),a=n(86017),o=n(96840);var l=n(67124),c=n(85022);var d=n(84659),u=n(8941),p=n(25474),m=n(70762);var h=n(23100);const g={parseType:function(e,t,n){const r=this.getByType("parse",e,this._parseTypeMap);return r?r(t,n):t},stringifyType:function(e,t,n){if(i().isString(t))return t;if(null==t)return"";const r=this.getByType("stringify",e,this._stringifyTypeMap);return r?r(t,n):t},getByType:function(e,t,n){if(n&&i().has(n,t))return n[t];const r=e+(t.charAt(0).toUpperCase()+t.slice(1));return i().has(this,r)?(n[t]=this[r],this[r]):void 0},parseBoolean:a.Z,stringifyBoolean:m.Z,parseInteger:l.Z,parseFloat:function(e){return null==e||""===e?0:window.parseFloat(e)},parseString:u.Z,parseEncodedString:function(e){if(null==e)return"";try{return decodeURIComponent(e)}catch(t){return o.Z.warn("[Parser] Unable to parse encoded string"),e}},parseArray:s.Z,parseList:function(e){return e?Array.isArray(e)?e:e.split(","):[]},stringifyList:function(e){return e.join(",")},parseQueryString:d.Z,stringifyQueryString:h.Z,parseJSON:c.Z,parseXML:p.Z,reset:function(){this._parseTypeMap={json:this.parseJSON,xml:this.parseXML},this._stringifyTypeMap={}}};g.reset();const y=g},89318:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(13469),i=n.n(r),s=n(96840),a=n(79270);const o={ORIGINAL:-1,CONVERT_AUTOMATICALLY:-2,qualities:{},getQualityByIndex:function(e){if(e===this.CONVERT_AUTOMATICALLY)return{index:this.CONVERT_AUTOMATICALLY};if(e<0)return{index:this.ORIGINAL};const t={index:e};return i().each(this.qualities,(function(n,r){t[r]=i().result(this.qualities,r)[e]}),this),t},getQualityCount:function(){const e=i().first(i().keys(this.qualities));return i().result(this.qualities,e).length},getQualityAttribute:function(e){const t=(0,a.Z)(e,e.server.get("isPrivateConnection"));return"video"!==this.type?this.type+"!"+t:t},getSyncQualityAttribute:function(){return"syncQuality!"+this.type},getCurrentQuality:function(e,t,n){const r=this.getQualityAttribute(e);let a=t.get(r);return a>=this.getQualityCount()&&(s.Z.warn("Quality index "+a+" is out of bounds"),a=i().result(t,"defaults")[r],n({[r]:a})),i().extend(this.getQualityByIndex(a),{attribute:r})},getAvailableQualities:function(e){e||(e={});const t=e.lowestQualityIndex;let n=e.highestQualityIndex;const r=e.comparator,i=[];n===this.ORIGINAL&&(n=void 0);for(let e=0,s=this.getQualityCount();e<s;e++)if(!(t&&e<t)){if(n&&e>n)return i;if(r&&r.call(this,e))return i;i.push(this.getQualityByIndex(e))}return i},getResolutionFromSize:function(e){const t=e.split("x"),n=parseInt(t[1],10);return this.getResolutionFromHeight(n)},getResolutionFromHeight:function(e){return e>2560?"8k":e>1100?"4k":e>720?"1080":e>576?"720":e>480?"576":e>360?"480":"sd"},getHeightFromResolution:function(e){switch(e){case"8k":return 5120;case"4k":return 2560;case"1080":return 1080;case"720":return 720;case"576":return 576;case"480":return 480;case"sd":default:return 360}},getNearestIndex:function(e,t){if(!t)return this.ORIGINAL;let n=e.indexOf(t);if(n<0){n=0;for(let r=0,i=e.length;r<i&&!(e[r]>t);r++)n=r}return n}}},67470:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(43149);const i=function(e){return e.repeatOne?r.ry:e.repeatAll?r.QN:r.Hn}},56669:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(93966);function i(){return(0,r.DB)("settingFinder").find("volume")}},79270:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(62638);function i(e,t){return(0,r.Z)(e,t)?"localQuality":"remoteQuality"}},62638:(e,t,n)=>{"use strict";function r(e,t){const n=e.toJSON?e.toJSON():e,{isExtra:r,guid:i}=n;return!(r&&!/^file:\/\//.test(i))&&t}n.d(t,{Z:()=>r})},33232:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(13469),i=n.n(r),s=n(35406),a=n(89318),o=i().extend({},a.Z,{type:"video",qualities:{bitrate:[64,96,208,320,720,1500,2e3,3e3,4e3,8e3,1e4,12e3,2e4],videoResolution:["220x128","220x128","284x160","420x240","576x320","720x480","1280x720","1280x720","1280x720","1920x1080","1920x1080","1920x1080","1920x1080"],videoQuality:[10,20,30,30,40,60,60,75,100,60,75,90,100]},getAvailableQualitiesFor(e,t,n){if(!e||!t)return[];if(Array.isArray(e)||(e=[e]),0===e.length)return[];const r=t.get("transcoderVideo"),a=t.get("transcoderVideoRemuxOnly"),o=this.getMaximumResolution(e);if(!r||a||!o)return[];const l=t.get("maxUploadBitrate"),c=i().extend({},n,{comparator:function(e){if(l&&this.qualities.bitrate[e]>l)return!0;const t=this.qualities.videoResolution[e].split("x");return(0,s.Z)(t[0],t[1])>o}});return this.getAvailableQualities(c)},getBestAvailableQuality:function(e,t){return 0===t.length?o.ORIGINAL:t.find((t=>t.index===e.index))?e.index:i().last(t).index},getNearestIndexToBitrate:function(e){return this.getNearestIndex(this.qualities.bitrate,e)},getMinimumQuality:function(e,t){return(e===o.ORIGINAL?Number.MAX_VALUE:e)<(t===o.ORIGINAL?Number.MAX_VALUE:t)?e:t},getMaximumQuality:function(e,t){return this.getMinimumQuality(e,t)===e?t:e},getMaximumResolution:function(e){return e.reduce((function(e,t){if(!t.width&&!t.height)return e;const n=(0,s.Z)(t.width,t.height);return null===e||n>e?n:e}),null)},isExplicitQuality:function(e){return e!==o.ORIGINAL&&e!==o.CONVERT_AUTOMATICALLY}});const l=o},73571:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(13469),i=n.n(r),s=n(19130);function a(e,t){const n=i().invert(e);return i().reduce(e,((e,r)=>(e[r]=t[n[r]],e)),{})}const o={playing:"playing",paused:"paused",stopped:"paused",error:"paused",buffering:"playing"},l=new(s.Z.extend({types:{VIDEO:"video",MUSIC:"music",PHOTO:"photo",ROM:"rom"},elements:{VIDEO:"video",MUSIC:"audio",PHOTO:"photo"},streams:{VIDEO:"video",MUSIC:"audio",PHOTO:"photo"},states:{STOPPED:"stopped",PAUSED:"paused",PLAYING:"playing",BUFFERING:"buffering",ERROR:"error"},slideshowStates:{PLAYING:"playing",PAUSED:"paused"},castStates:{ERROR:"IDLE",STOPPED:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING",BUFFERING:"BUFFERING"},mediaStates:{LOADING:"LOADING",BUFFERING:"BUFFERING",READY:"READY",ERROR:"ERROR"},initialize(){this.typeByElement=a(this.elements,this.types),this.elementByType=a(this.types,this.elements),this.typeByStream=a(this.streams,this.types),this.streamByType=a(this.types,this.streams),this.statebyCastState=a(this.castStates,this.states),this.castStateByState=a(this.states,this.castStates)},getTypeByElement(e){return this.typeByElement[e]},getElementByType(e){return this.elementByType[e]},getTypeByStream(e){return this.typeByStream[e]},getStreamByType(e){return this.streamByType[e]},getStateByCastState(e){return this.statebyCastState[e]},getCastStateByState(e){return this.castStateByState[e]},getSlideshowStateByState:e=>o[e]}))},53779:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const r="placeholder-standard",i="placeholder-square",s="placeholder-widescreen",a={movie:r,show:r,season:r,episode:s,artist:i,album:i,track:i,photo:i,photoalbum:i,clip:s,playlist:i,playlistFolder:i,channel:i,channelDirectory:i,folder:"placeholder-folder",friend:"placeholder-friend",device:i,poster:r,art:s,banner:s,collection:r}},62779:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={sizes:{movie:"portrait",show:"portrait",season:"portrait",episode:"landscape",artist:"square",album:"square",track:"square",photo:"square",photoalbum:"square",clip:"landscape",playlist:"square",playlistFolder:"square",channel:"square",channelDirectory:"square",folder:"portrait",friend:"square",poster:"portrait",art:"landscape",banner:"banner",collection:"portrait"},ratios:{portrait:1/1.5,square:1,landscape:16/9,banner:5.2},getRatioByType:function(e){return this.ratios[this.sizes[e]]},getPosterWidthUsingRatio:function(e,t){return Math.round(this.ratios[e]*t)},getPosterHeightUsingRatio:function(e,t){return Math.round(this.ratios[e]&t)},getPosterWidth:function(e,t){return Math.round(t*this.getRatioByType(e))},getPosterHeight:function(e,t){return Math.round(t/this.getRatioByType(e))}}},54304:(e,t,n)=>{"use strict";n.d(t,{gn:()=>i,P_:()=>s.Z}),n(66822),n(50612);var r=n(44233);function i(e=r.Z){return"ios"===e.platformID}var s=n(41720);n(7165)},66822:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(44233);function i(e=r.Z){return"chrome"===e.id}},50612:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(44233);function i(e=r.Z){return"edge"===e.id}},41720:(e,t,n)=>{"use strict";function r(){return!1}n.d(t,{Z:()=>r})},7165:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(44233);function i(e=r.Z){return"safari"===e.id}},24329:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(41720);function i(){return!(0,r.Z)()}},17575:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(19755),i=n.n(r);const s=function(e){const t=i().Deferred();return e&&e.then?e.then(t.resolve,t.resolve):t.resolve(e),t.promise()}},15633:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(19755),i=n.n(r);const s=function(e){const t=i().Deferred();return e.then(t.resolve,t.reject,t.notify),{promise:t.promise(),cancel:function(){t.reject({isCanceled:!0})}}}},28496:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(19755),i=n.n(r);const s=function(e,t){const n=i().Deferred(),r=(new Date).getTime()+t;let s;function a(){const e=(new Date).getTime(),t=Math.max(r-e,0);window.setTimeout(s,t)}return e.then(((...e)=>{s=()=>n.resolve(...e)}),((...e)=>{s=()=>n.reject(...e)})),e.then(a,a),n.promise()}},68002:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(19755),i=n.n(r),s=n(17575);const a=function(...e){const t=Array.isArray(e[0])?e[0]:e;return i().when(...t.map(s.Z))}},14640:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(62730),i=n(67006),s=n(17524),a=n(5562),o=n(30369);const l=n(45224).Z.extend({name:"LegacyLibraryProviderModel",defaults(){const e=this.server,t=e.get("isFullServer"),n=e.get("isFullOwnedServer"),l=[{type:i.P8,key:"/library/sections"},{type:i.uq,key:"/library/matches"},{type:i.IS,key:"/library/metadata"}];return t&&l.push({type:i.mo,key:"/hubs/search"},{type:i.F5,key:"/playQueues"},{type:i.zg,key:"/playlists"},{type:i.jN,key:"/:/timeline"},{type:i.aO,actions:[{id:r.lq,key:"/:/scrobble",reverseKey:"/:/unscrobble"},{id:r.zw,key:"/:/rate"}]}),n&&l.push({type:i.d3}),{identifier:s.Y3,title:(0,a.Z)("Library"),types:["video","audio","photo"],protocols:n?["stream","download"]:["stream"],features:new o.Z(l,{parse:!0,server:e})}}});function c(e,t){!t.get("isCloud")&&e.forEach((e=>{e.set({isPending:!1,isPopulated:!0})})),t.get("isCloud")||e.get(s.Y3)||e.add(new l({isPending:!1,isPopulated:!0},{server:t}))}},41658:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(69881),i=n(84936);function s(e,t){const n=["/library/sections",e,"all"];return t===r.PHOTO?i.Z.join(n):i.Z.join(n,{type:r.getMetadataType(t).id})}},85586:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(35589);function i(e,t){return e===r.X?`provider://${t}`:`server://${e}/${t}`}},24079:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67006);function i(e,t){const n=e.get("features").get(r.P8),i=n.get("directories");if(!n||!i)return null;const s=i.find((e=>e.get("hubKey")===t||e.get("key")===t));return s?s.toJSON():null}},36535:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(17524);const i=function(e,t){const n=t||e;return r.wB(n,r.Ll)?r.Ll:n}},9010:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(41890),i=n(44491),s=n(17524),a=n(45399);const o=function({protocol:e,protocolCapabilities:t=[],providerIdentifier:n,userFeaturesByUUID:o,playQueueType:l,isWatchTogether:c=!1}){if(e!==r.l&&e!==r.D)return!1;if(l===i.eD)return!1;if(c)return!1;const d=s.wB(n,[s.Y3,s.HG]),u=s.wB(n,[s.Ll,s.vP]),p=s.wB(n,[s.w1]),m=s.wB(n,s.xF),h=s.wB(n,s.IS),g=s.wB(n,[s.uk]),y=e===r.l||o[a.JO],v=o[a.Fq],f=e===r.l||t.includes("provider-playback");return!!(d||u&&y||p&&v||m&&f||h&&f||g&&f)}},19107:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(39666),l=n(93966),c=n(49963),d=n(53145),u=n(19130),p=n(90117),m=n(96840),h=n(21133),g=n(36158);const y=u.Z.extend({mixins:h.Z,url(){const e=this.server.get("activeConnection");if(!e)return;const t=e.id.replace(/^http/,"ws");return this.server.resolveUrl("/:/websockets/notifications",{connection:new c.Z({uri:t}),appendToken:!0,appendHeaders:this.appendHeaders})},initialize(e){a().bindAll(this,"onOpen","onClose","onError","onMessage","getMessageTypes"),this.server=e.server,this.appendHeaders=e.appendHeaders||!1},open(){this.socket&&this.close(),this._deferred=i().Deferred();const e=a().result(this,"url");return e?(this.socket=new window.WebSocket(e),this.socket.onopen=this.onOpen,this.socket.onclose=this.onClose,this.socket.onerror=this.onError,this.socket.onmessage=this.onMessage,this._deferred.promise()):this._deferred.reject().promise()},close(){this.socket&&(this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close(),this.socket=null,this._deferred&&"pending"===this._deferred.state()&&this._deferred.reject())},testConnection(){if(!this.server.get("connected"))return;const e=this.server.get("desktop").get("update");e&&e.get("state")===p.INSTALLING&&this.server.set("connected",null),this.server.trigger("error:connection",this.server)},onOpen(e){const t=l.DB("appStore"),n=this.server.entityID();n&&t.dispatch((0,d.f4)({serverEntityID:n,event:e})),this.server.trigger("socket:websocket",{opened:!0}),this.trigger("open",this.server,e),this._deferred.resolve(this.server,e)},onClose(e){this.close();const t=l.DB("appStore"),n=this.server.entityID();n&&t.dispatch((0,d.LW)({serverEntityID:n,event:e})),this.server.trigger("socket:websocket",{closed:!0}),this.trigger("close",this.server,e),this._deferred.reject(this.server,e),this.testConnection()},onError(e){this.close(),this.server.trigger("socket:websocket",{error:!0}),this.trigger("error",this.server,e),this._deferred.reject(this.server,e),this.testConnection()},onMessage(e){let t;try{t=JSON.parse(e.data)}catch(t){return void m.Z.warn("[Connections] Error formatting message:\n%s",e.data)}const n=!!t._elementType,r=n?a().first(t._children):t.NotificationContainer;if(r){const e=this[n?t.type:r.type];let i;i=n?Array.isArray(r)?r:[r]:function(e,t){return(-1===t.indexOf(e.type)?[]:function(e){switch(e.type){case g.eS:return e.Setting;case g.jN:return e.TimelineEntry;case g.Q_:return e.StatusNotification;case g.ad:return e.ProgressNotification;case g.Z$:return e.PlaySessionStateNotification;case g.Bu:return e.SyncStateNotification;case g.cc:return e.BackgroundGeneratorStateNotification;case g.RN:return e.VersionStateNotification;case g.ax:return e.BackgroundProcessingQueueEventNotification;case g.a8:case g.VL:case g.Mu:return e.TranscodeSession;case g.TD:return e.AutoUpdateNotification;case g.lY:return e.ReachabilityNotification;case g.yV:return e.AccountUpdateNotification;case g.gk:return e.ActivityNotification;case g.u0:return e.MediaGrabberDeviceNotification;case g.cK:return e.MediaProviderNotification;case g.sU:return e.MediaProviderContentNotification;case g.sY:return e.LogSentNotification;case g.wL:return e.MediaProviderSubscriptionNotification;case g.iW:return e.ClientDecisionRequestEventNotification}}(e))||[]}(r,this.getMessageTypes()),i.forEach((t=>{try{this.trigger("message",t)}catch(e){m.Z.error("[Connections] Error when triggering",t,e),o.Tb(e,{extra:{message:t}})}if(a().isFunction(e))try{e.call(this,t)}catch(e){m.Z.error("[Connections] Error when handling",t,e),o.Tb(e,{extra:{message:t}})}}))}}})},36158:(e,t,n)=>{"use strict";n.d(t,{yV:()=>r,gk:()=>i,cc:()=>s,ax:()=>a,u0:()=>o,sY:()=>l,Z$:()=>c,eS:()=>d,ad:()=>u,cK:()=>p,sU:()=>m,wL:()=>h,lY:()=>g,Q_:()=>y,Bu:()=>v,jN:()=>f,Mu:()=>b,a8:()=>S,VL:()=>I,TD:()=>Z,RN:()=>P,iW:()=>E,Ej:()=>M,EI:()=>C,Sz:()=>w});const r="account",i="activity",s="backgroundGeneratorState",a="backgroundProcessingQueue",o="grabber.device",l="log",c="playing",d="preference",u="progress",p="provider.change",m="provider.content.change",h="provider.subscription.change",g="reachability",y="status",v="syncState",f="timeline",b="transcodeSession.end",S="transcodeSession.start",I="transcodeSession.update",Z="update.statechange",P="versionState",E="clientDecision",M="notifyAccountChange",C="notifyWatchTogetherExpire",w="notifyWatchTogetherInvite"},63733:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(13469),i=n.n(r);function s(e){const t=i().clone(e);return void 0!==t.last?(t.end=t.last+1,t.size=t.end-t.start):void 0!==t.size?(t.end=t.start+t.size,t.last=t.end-1):void 0!==t.end&&(t.last=t.end-1,t.size=t.end-t.start),t}function a(e,t){return i().filter(i().map(e,s),(function(e){return t?e.size>=0:e.size>0}))}const o={augment:s,difference:function(e,t,n){return e=s(e),t=s(t),a([{start:e.start,last:Math.min(e.last,t.start-1)},{start:Math.max(e.start,t.end),last:e.last}],n)},union:function(e,t,n){if(e=s(e),t=s(t),e.start>t.start){const n=e;e=t,t=n}const r=[e];return t.start<=e.end?r[0].last=Math.max(t.last,e.last):r.push(t),a(r,n)},degap:function(e,t){let n=s(e);return(t=s(t)).size?(n.start>t.end&&(n={start:t.end,end:n.end}),n.end<t.start&&(n={start:n.start,end:t.start}),s(n)):n},each:function(e,t,n){e=s(e);let r=Math.min(e.start,e.end);const i=Math.max(e.start,e.end);for(;r<=i;r++)t.call(n,r)},roundByPage:function(e,t){return e=s(e),s({start:Math.floor(e.start/t)*t,end:Math.ceil(e.end/t)*t})}}},16561:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),i=n(97762),s=Object.defineProperty,a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function d(e,t={}){return(0,i.renderToStaticMarkup)(r.createElement(e,((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e})({},t)))}},72759:(e,t,n)=>{"use strict";n.d(t,{Ts:()=>r,zL:()=>i,sC:()=>s,t6:()=>a,y0:()=>o,QX:()=>l,Ij:()=>c,Gh:()=>d,k9:()=>u,TS:()=>p,ZJ:()=>m,K5:()=>h,_V:()=>g,zN:()=>y,nJ:()=>v,RG:()=>f,JW:()=>b,l1:()=>S,EW:()=>I,iJ:()=>Z});const r="general.db.backup",i="general.bundle.clean",s="grabber.grab",a="grabber.assimilate",o="library.delete",l="library.update.section",c="library.refresh.items",d="library.update.item.metadata",u="media.download",p="media.generate.bif",m="media.generate.chapter.thumbs",h="media.generate.intros",g="media.offline.transcode",y="music.analysis",v="general.db.optimize",f="provider.device.channelscan",b="provider.epg.load",S="provider.subscriptions.process",I="provider.subscription.refresh",Z="subtitle.download"},6272:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(93966),i=n(12319),s=n(319);function a(e,t=!1){const n=t||"Plex Media Server"===e.get("product"),a=new i.ZP({machineIdentifier:e.id,friendlyName:e.get("name"),version:n?e.get("productVersion"):void 0,isShared:!e.get("owned"),accessToken:e.get("accessToken"),sourceTitle:e.get("sourceTitle"),publicAddressMatches:e.get("publicAddressMatches"),httpsRequired:e.get("httpsRequired"),platform:e.get("platform"),platformVersion:e.get("platformVersion"),presence:e.get("presence"),home:e.get("home"),serverClass:n?void 0:i.ZP.serverClasses.SECONDARY,createdAt:e.get("createdAt"),lastSeenAt:e.get("lastSeenAt"),ownerId:e.get("ownerId")},{parent:r.DB("appModel")});return(0,s.Z)(a,e),a}},62367:(e,t,n)=>{"use strict";function r(){const[,e,t]="https://plex.tv".match(/^([^:]+):\/\/(.*)$/)||[];return{scheme:e,address:t}}n.d(t,{Z:()=>r})},62149:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(76249),i=n(48523);function s(e){return!!e.get("shortVersion")&&(0,i.Z)(e.get("shortVersion"),r.Z.mediaProvidersServerRoot)}},319:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(13469),i=n.n(r);function s(e,t){t.get("connections").each((n=>{const r=[{id:t.server.id}],s=i().extend(n.toJSON(),{sources:r});e.addConnection(s)}))}},11354:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(36600),i=n(5562),s=n(58605);function a(e){const{sourceType:t,sourceServer:n,sourceProvider:a,sourceDirectory:o}=e,l={key:(0,r.Z)(t,n.machineIdentifier,a.identifier,o.id),sourceType:t,serverEntityID:n.entityID,machineIdentifier:n.machineIdentifier,providerEntityID:a.entityID,providerIdentifier:a.identifier,providerMetricsIdentifier:a.metricsIdentifier,directoryID:o.id,directoryIcon:o.icon,title:o.title,serverFriendlyName:n.friendlyName,serverSourceTitle:n.sourceTitle,providerSourceTitle:a.sourceTitle,isLocal:n.isConnected&&n.activeConnection&&n.activeConnection.isPrivate,isUnavailable:n.isUnavailable,isOutOfDate:n.isOutOfDate,isUnclaimedServer:n.isConnected&&!n.isClaimed&&!n.isCloud,isFullOwnedServer:n.isFullOwnedServer,isProviderReady:a.isPopulated||null!=a.error||n.isUnavailable||n.isUnauthorized};return n.isCloud?l.isCloud=!0:t===s.Hs&&(l.title=(0,i.Z)("Live TV & DVR")),l}},86829:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){const{key:t,sourceType:n,machineIdentifier:r,providerIdentifier:i,directoryID:s,directoryIcon:a,title:o,serverFriendlyName:l,serverSourceTitle:c,providerSourceTitle:d,isCloud:u,isFullOwnedServer:p}=e;return{key:t,sourceType:n,machineIdentifier:r,providerIdentifier:i,directoryID:s,directoryIcon:a,title:o,serverFriendlyName:l,serverSourceTitle:c,providerSourceTitle:d,isCloud:u,isFullOwnedServer:p}}},36600:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(44823);function i(e,t,n,i){return(0,r.Z)("source",e,t,n,i)}},56971:(e,t,n)=>{"use strict";function r(e){return e.reduce(((e,t)=>{const{isFullOwnedServer:n,serverSourceTitle:r,machineIdentifier:i}=t;if(!n&&r){null==e.sharedSources[r]&&(e.sharedSources[r]=[]);const t=e.sharedSources[r];t.includes(i)||t.push(i)}return i&&n&&(null==e.ownedSources[i]&&(e.ownedSources[i]=0),e.ownedSources[i]++),e}),{sharedSources:{},ownedSources:{}})}n.d(t,{Z:()=>r})},4844:(e,t,n)=>{"use strict";function r(e,t,...n){if(!t)return;const r=[];r.push(e);for(let e=0,t=n.length;e<t;e++){const t=n[e];t&&r.push(t)}return r.push(t),r.join("--")}n.d(t,{Z:()=>r})},15042:(e,t,n)=>{"use strict";n.d(t,{cN:()=>r,MC:()=>i,Y3:()=>s,km:()=>a,xR:()=>o,YI:()=>l,vO:()=>c,Tl:()=>d,$4:()=>u,TY:()=>p,PK:()=>m,RP:()=>h,PI:()=>g,gO:()=>y,Re:()=>v,PC:()=>f,r8:()=>b});const r="servers",i="providers",s="libraries",a="hubs",o="users",l="resources",c="friends",d="homeUsers",u="metadataLists",p="metadataItems",m="mediaSubscriptions",h="liveTVSessions",g="playQueueItems",y="playlistItems",v="searchResults",f="transcodeJobs",b="watchTogetherRooms"},87048:(e,t,n)=>{"use strict";n.d(t,{l:()=>i,Z:()=>s});var r=n(96840);function i(e,t,n){const r=e.get("entities").get(t);if(r){const e=r.get(n);if(e)return e.get("model")}}function s(e,t,n){const s=i(e,t,n);return s||r.Z.warn('An entity does not exist with the type "%s" and id "%s"',t,n),s}},28440:(e,t,n)=>{"use strict";n.d(t,{VX:()=>s,bg:()=>a,SW:()=>o,$w:()=>l,Y7:()=>c,js:()=>d,lp:()=>u,lK:()=>p,Ij:()=>m,$R:()=>h,tz:()=>g,xS:()=>y,_s:()=>v,VZ:()=>f,xl:()=>b,Tp:()=>S,KC:()=>I,c_:()=>Z,bT:()=>P});var r=n(15042),i=n(87048);function s(e){return e.get("user")}function a(e){return e.get("user").get("desktop")}function o(e,{serverEntityID:t}){return(0,i.Z)(e,r.cN,t)}function l(e,{serverEntityID:t}){return(0,i.l)(e,r.cN,t)}function c(e,t){const n=o(e,t);return n&&n.get("desktop")}function d(e,{providerEntityID:t}){return(0,i.Z)(e,r.MC,t)}function u(e,{providerEntityID:t}){return(0,i.l)(e,r.MC,t)}function p(e,{metadataListEntityID:t}){return(0,i.Z)(e,r.$4,t)}function m(e,{metadataListEntityID:t}){return(0,i.l)(e,r.$4,t)}function h(e,{metadataItemEntityID:t}){return(0,i.Z)(e,r.TY,t)}function g(e,{metadataItemEntityID:t}){return(0,i.l)(e,r.TY,t)}function y(e,{mediaSubscriptionEntityID:t}){return(0,i.Z)(e,r.PK,t)}function v(e,{liveTVSessionEntityID:t}){return(0,i.Z)(e,r.RP,t)}function f(e,{liveTVSessionEntityID:t}){return(0,i.l)(e,r.RP,t)}function b(e,{playQueueItemEntityID:t}){return(0,i.Z)(e,r.PI,t)}function S(e,{playlistItemEntityID:t}){return(0,i.Z)(e,r.gO,t)}function I(e,{friendEntityID:t}){return(0,i.Z)(e,r.vO,t)}function Z(e,{searchResultEntityID:t}){return(0,i.Z)(e,r.Re,t)}function P(e,{watchTogetherRoomEntityID:t}){return(0,i.Z)(e,r.r8,t)}},30983:(e,t,n)=>{"use strict";function r(e,t){return e.get("ui").get(`${t}Player`)}function i(e,t){const n=e.get("ui").get("audioVideoPlayer").get("playQueue"),r=e.get("ui").get("photoPlayer").get("playQueue");return n&&n.get("playQueueID")===t?n:r&&r.get("playQueueID")===t?r:void 0}function s(e,t){const n=e.get("playQueue");if(!n)return;const r=n.get("playQueueItems");return t<0||t>=r.length?void 0:r.at(t)}n.d(t,{F_:()=>r,RZ:()=>i,bG:()=>s})},27082:(e,t,n)=>{"use strict";n.d(t,{c9:()=>y,GF:()=>v});var r=n(11133),i=n(96840);const s=[];let a,o,l,c=!1,d=!1,u=1e3/60;function p(){a&&(a=window.clearTimeout(a))}function m(){o&&(o=window.clearTimeout(o))}function h(){const e=l;l=null,m(),e&&e()}function g(){p(),m();const e=window.performance.now();let t;for(d=!0;s.length&&(!t||t-e<16.666666666666668);)s.pop()(),t=window.performance.now();d=!1,s.length?(i.Z.warn("[State] Unable to process all updates within budget; %s update(s) remaining",s.length),a=window.setTimeout(g,u)):l&&(o=window.setTimeout(h,u))}function y(e){for(p(),m(),d=!0,c=!0;s.length;)s.pop()();if(e)try{e()}catch(e){(0,r.Z)(!1,e.name+": "+e.message)}l&&h(),d=!1,c=!1}function v(e,t){if(t.isStateTreeRoot)return l=e,void(d||o||(o=window.setTimeout(h,u)));c?e():(m(),s[0]!==e&&s.unshift(e),d||a||(a=window.setTimeout(g,u)))}},43534:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return e?e.toUpperCase():""}},34885:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}},96638:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}},19816:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(70515),i=n(5562);const s=function(e){return e&&r.Z.parseBoolean(e)?(0,i.Z)("Yes"):(0,i.Z)("No")}},48653:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(5562);const i=function(e){if(!e||!e.length)return;const t=e.length;return 1===t?e[0]:2===t?(0,r.Z)("{1} and {2}",e[0],e[1]):3===t?(0,r.Z)("{1}, {2}, and {3}",e[0],e[1],e[2]):(0,r.Z)("{1}, {2}, and {3} others",e[0],e[1],e.length-2)}},93275:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return"[object String]"===window.toString.call(e)}},99317:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(8593);function i(e=24){const t=(0,r.Z)(e,0,1024);let n="";for(;n.length<t;)n+=Math.random().toString(36).substring(2,t-n.length+2);return n}},70716:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(13469),i=n.n(r);const s=function(e){const t=/(\d+\.){2,3}\d+/.exec(e);return i().first(t)||e}},62501:(e,t,n)=>{"use strict";let r;n.d(t,{Z:()=>i});const i=function(e){if(!e)return"";r||(r=document.createElement("P")),r.innerHTML=e;const t=r.textContent;return r.innerHTML="",t}},55028:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t){if(!e)return"";if(e.length>t){let n=e.substring(0,t-3);for(;!1===/\S/.test(n.charAt(n.length-1))&&n.length>1;)n=n.slice(0,-1);return n+"..."}return e}},53221:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(84936),i=n(1495);const s=function(e,t){return(0,i.Z)(r.Z.getLastSegment(e||""),t)}},1495:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t,n){if(!e)return"";if(e.length>t){const r=t-3-(n=n||Math.floor((t-3)/2));return e.substr(0,n)+"..."+e.substr(e.length-r)}return e}},76037:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={waitingRegex:/^(transcoded|downloaded|directplay|processed)$/,processingRegex:/^(pending|transcoding|downloading)$/,failedRegex:/^(failed|error)$/,addVersionHeader:function(e,t){return t||(t={}),t.headers||(t.headers={}),t.headers["X-Plex-Sync-Version"]=e,t},addVersionHeaderForDevice:function(e,t){const n=e&&e.get("syncList");return n&&n.get("version")?this.addVersionHeader(n.get("version"),t):t},getSyncStateFromPart:function(e){return e.transcodeState||e.syncState},getSyncStateContextFromPart:function(e){return e.transcodeStateContext||e.syncStateContext}}},81463:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(17524);function i(e){const t=e.split("/");if(""===t.shift()){const e=t[0],n=t[t.length-1];let i;return r.wB(e,r.Ll)?i=e:n&&(i=n),i}return e}},5562:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(3595);function i(e,...t){return r.Z.t.apply(r.Z,arguments)}},16551:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(13469),i=n.n(r),s=n(89656),a=n(96840);const o=function(e,t){return t?e.get("Media").findIndex((e=>e.id===t)):0},l=function(e,t){const n=e.Part;return i().indexOf(n,i().findWhere(n,{key:t}))};var c=n(84936);const d={extensions:{dash:".mpd",hls:".m3u8",http:""},logParams:function(e,t,n){(0,a.Z)("[Transcoder] %s (%s) options:",e,t,n)},serializeParams:function(e,t){let n,r={},s={};const a=/^X-Plex/;return i().each(e,(function(e,t){a.test(t)?s[t]=e:r[t]=e})),r=c.Z.stringifyParams(r),s=c.Z.stringifyParams(s),n=r&&s?r+"&"+s:r||s,n},image:function(e,t,n){if(!t)return"";const r=n.fallbackServer;let s,a=!1;if(r&&r.get("isConnected")&&(s=r.get("isFullServer")?r:null),s)if(e.get("cloud"))a=!0;else if(!e.get("isFullServer")){const t=!e.get("activeConnection").get("isPrivate"),n=s.get("activeConnection").get("isPrivate");a=t||n}const o=a?s:e,l=o.id===e.id,c={url:e.resolveUrl(t,{useRelativeUrl:l,appendToken:!0}),width:n.width&&Math.round(parseFloat(n.width)),height:n.height&&Math.round(parseFloat(n.height))};n.minSize&&(c.minSize=1),n.format&&(c.format=n.format),n.quality&&(c.quality=n.quality),n.filters&&i().each(n.filters,(function(e,t){void 0!==e&&(c[t]=e)}));const d="/photo/:/transcode?"+this.serializeParams(c,o);return o.resolveUrl(d,{appendToken:!0})},music:function(e,t,n,r){r||(r="start");const s=i().first(t.get("Media"));if(!s)return;const a=i().first(s.Part);if(!a)return;let o,l;e.supports("universalMusicTranscoder")?(o=i().extend({hasMDE:1,path:e.resolveUrl(t.get("key"),{useRelativeUrl:!0}),mediaIndex:0,partIndex:0},n),l="/music/:/transcode/universal/"+r):(o={identifier:t.get("identifier"),url:e.resolveUrl(a.key,{useRelativeUrl:!0}),format:"mp3",audioCodec:"libmp3lame",audioBitrate:320,audioSamples:44100},l="/music/:/transcode/generic.mp3"),this.logParams("Music",r,o),o=i().extend(o,e.getHeaders());const c=this.extensions[o.protocol];return"start"===r&&c&&(l+=c),e.resolveUrl(l+"?"+this.serializeParams(o,e))},video:function(e,t,n,r,a,c){a||(a={}),c||(c="start");const d=e.entityID()===t.get("serverEntityID"),u=e.get("activeConnection").get("isPrivate");let p=i().extend({hasMDE:1,path:e.resolveUrl(t.get("key"),{useRelativeUrl:d,appendToken:!d}),mediaIndex:o(t,n.id),partIndex:l(n,r.key),protocol:"hls",fastSeek:1,directPlay:0,directStream:1,subtitleSize:100,audioBoost:s.KH,location:u?"lan":"wan"},a);this.logParams("Video",c,p),p=i().extend(p,e.getHeaders());const m=this.extensions[p.protocol];let h="/video/:/transcode/universal/"+c;return"start"===c&&m&&(h+=m),e.resolveUrl(h+"?"+this.serializeParams(p,e))},game:function(e,t,n,r,s){r||(r={}),s||(s="start");const a=e.entityID()===t.get("serverEntityID"),l=e.get("activeConnection").get("isPrivate");let c=i().extend({path:e.resolveUrl(t.get("key"),{useRelativeUrl:a,appendToken:!a}),location:l?"lan":"wan",mediaIndex:o(t,n.id)},r,{protocol:void 0});this.logParams("Game",s,c),c=i().extend(c,e.getHeaders());const d=this.extensions[c.protocol];let u="/game/:/transcode/"+s;return"start"===s&&d&&(u+=d),e.resolveUrl(u+"?"+this.serializeParams(c,e))}}},35981:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(13469),i=n.n(r),s=n(96840);function a(e){const t=i().clone(e);return t.hasOwnProperty("title")?(t.title=i().result(t,"title"),t.hasOwnProperty("shortTitle")&&(t.shortTitle=i().result(t,"shortTitle")),t.hasOwnProperty("plural")&&(t.plural=i().result(t,"plural")),t):t}function o(e,t){const n={};return e.forEach((e=>{n[e]=t.reduceRight(((t,n)=>{const r=n[e];return null!=r&&(t[r]=n),t}),{})})),{contains:function(e){for(const t in n)if(n[t][e])return!0;return!1},get:function(e){for(const t in n){const r=n[t][e];if(r)return a(r)}s.Z.warn(`No type was found for ${e}`)},getAll:function(){return t.map(a)}}}},94716:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(58605),i=n(46453),s=n(34470);const a=function(e,t,n){const{key:a,types:o={}}=e,l=Array.isArray(t.protocols)?t.protocols.includes(s.K):t.protocols[s.K],c=a===r.Hs;if(l)return c;if(c)return!1;const d=n.agent===i.Hn;if(a===r.FM&&!d||a===r.MB&&d)return!1;const{type:u,subtype:p}=o;return n.type===u&&(null==p&&null==n.subtype||null!=p&&n.subtype===p)};function o(e,t){if(!e||!t||"hubs"===t.id)return;const n=(0,r.vK)();for(let r=0,i=n.length;r<i;r++){const i=n[r];if(a(i,e,t))return i}return n.find((e=>e.key===r.lz))}},71321:(e,t,n)=>{"use strict";n.d(t,{VJ:()=>r,vT:()=>i});const r="spotlight",i=["shelf","grid","list","banner","hero"]},91135:(e,t,n)=>{"use strict";n.d(t,{Hn:()=>i,pX:()=>s,j0:()=>a,pV:()=>o,eD:()=>l});var r=n(35981);const i="none",s="video",a="audio",o="photo",l="rom",c=(0,r.Z)(["id","typeString"],[{id:0,typeString:i},{id:1,typeString:s},{id:2,typeString:a},{id:3,typeString:o},{id:999,typeString:l}]);c.get,c.getAll},61478:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PODCAST:()=>r,WEBSHOW:()=>i,MUSIC_VIDEO:()=>s});const r="podcast",i="webshow",s="musicVideo"},69881:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MOVIE:()=>a,SHOW:()=>o,SEASON:()=>l,EPISODE:()=>c,ARTIST:()=>d,ALBUM:()=>u,TRACK:()=>p,CLIP:()=>m,TRAILER:()=>h,COMIC:()=>g,PERSON:()=>y,PHOTO:()=>v,PHOTO_ALBUM:()=>f,AUDIO:()=>b,VIDEO:()=>S,PLAYLIST:()=>I,PLAYLIST_FOLDER:()=>Z,STATION:()=>P,COLLECTION:()=>E,MIXED:()=>M,FOLDER:()=>C,CHANNEL:()=>w,GAME:()=>D,containsMetadataType:()=>O,getMetadataType:()=>x,getAllMetadataTypes:()=>A,getChildType:()=>N,getLeafType:()=>k,getParentType:()=>L,getRootType:()=>j,getRelatedTypes:()=>R,isParentType:()=>V,isDirectoryType:()=>U});var r=n(5562),i=n(35981),s=n(91135);const a="movie",o="show",l="season",c="episode",d="artist",u="album",p="track",m="clip",h="trailer",g="comic",y="person",v="photo",f="photoalbum",b="audio",S="video",I="playlist",Z="playlistFolder",P="station",E="collection",M="mixed",C="folder",w="channel",D="game",T=(0,i.Z)(["id","typeString"],[{id:1,typeString:a,title:()=>(0,r.Z)("Movie"),plural:()=>(0,r.Z)("Movies"),mediaType:s.pX},{id:2,typeString:o,title:()=>(0,r.Z)("Show"),plural:()=>(0,r.Z)("Shows"),mediaType:s.Hn,child:l},{id:3,typeString:l,title:()=>(0,r.Z)("Season"),plural:()=>(0,r.Z)("Seasons"),mediaType:s.Hn,parent:o,child:c},{id:4,typeString:c,title:()=>(0,r.Z)("Episode"),plural:()=>(0,r.Z)("Episodes"),mediaType:s.pX,parent:l},{id:5,typeString:h,title:()=>(0,r.Z)("Trailer"),plural:()=>(0,r.Z)("Trailers"),mediaType:s.pX},{id:6,typeString:g,title:()=>(0,r.Z)("Comic"),plural:()=>(0,r.Z)("Comics"),mediaType:s.pV},{id:7,typeString:y,title:()=>(0,r.Z)("Person"),plural:()=>(0,r.Z)("People"),mediaType:s.Hn},{id:8,typeString:d,title:()=>(0,r.Z)("Artist"),plural:()=>(0,r.Z)("Artists"),mediaType:s.Hn,child:u},{id:9,typeString:u,title:()=>(0,r.Z)("Album"),plural:()=>(0,r.Z)("Albums"),mediaType:s.Hn,parent:d,child:p},{id:10,typeString:p,title:()=>(0,r.Z)("Track"),plural:()=>(0,r.Z)("Tracks"),mediaType:s.j0,parent:u},{id:11,typeString:"picture",title:()=>(0,r.Z)("Picture"),plural:()=>(0,r.Z)("Pictures"),mediaType:s.pV},{id:12,typeString:m,title:()=>(0,r.Z)("Clip"),plural:()=>(0,r.Z)("Clips"),mediaType:s.pX},{id:13,typeString:v,title:()=>(0,r.Z)("Photo"),plural:()=>(0,r.Z)("Photos"),mediaType:s.pV,parent:f},{id:14,typeString:f,title:()=>(0,r.Z)("Photo Album"),plural:()=>(0,r.Z)("Photo Albums"),mediaType:s.Hn,child:v},{id:15,typeString:I,title:()=>(0,r.Z)("Playlist"),plural:()=>(0,r.Z)("Playlists"),mediaType:s.Hn,parent:f},{id:16,typeString:Z,title:()=>(0,r.Z)("Playlist"),plural:()=>(0,r.Z)("Playlists"),mediaType:s.Hn,child:I},{id:18,typeString:E,title:()=>(0,r.Z)("Collection"),plural:()=>(0,r.Z)("Collections"),mediaType:s.Hn},{id:19,typeString:D,title:()=>(0,r.Z)("Game"),plural:()=>(0,r.Z)("Games"),mediaType:s.eD}]),O=T.contains,x=T.get,A=T.getAll;function N(e){const t=T.get(e);if(t&&t.child)return T.get(t.child)}function k(e){const t=T.get(e);if(t){const e=t.child;return null==e?t:k(e)}}function L(e){const t=T.get(e);if(t)return T.get(t.parent)}function j(e){const t=T.get(e);if(t){const e=t.parent;return null==e?t:j(e)}}function R(e,t){if(!t){const t=j(e);return t?R(t.id,[]):[]}const n=T.get(e),r=N(e),i=[...t,n];return r?R(r.id,i):i}function V(e){return!!N(e)}function U(e){const t=T.get(e);return!!t&&t.mediaType===s.Hn}},89984:(e,t,n)=>{"use strict";n.d(t,{j0:()=>r,pX:()=>i,pV:()=>s});const r="audio",i="video",s="photo"},32003:(e,t,n)=>{"use strict";n.d(t,{MB:()=>l,TV:()=>c,xF:()=>d,n1:()=>u,FM:()=>p,Wp:()=>m,ZP:()=>h});var r=n(46453),i=n(17146),s=n(5562),a=n(35981),o=n(69881);const l="movies",c="tv",d="music",u="photos",p="videos",m="game",h=(0,a.Z)(["key","typeID","typeString","rootTypeString"],[{key:l,typeID:"1",typeString:o.MOVIE,rootTypeString:o.MOVIE,title:()=>(0,s.Z)("Movies"),shortTitle:()=>(0,s.Z)("Movies"),defaultLanguage:"en",defaultAgents:[r.WX,r.HN],defaultScanners:[i.Lx,i.wz],mutual:{agent:r.WX,scanner:i.Lx}},{key:c,typeID:"2",typeString:o.SHOW,rootTypeString:o.SHOW,title:()=>(0,s.Z)("TV Shows"),shortTitle:()=>(0,s.Z)("Shows"),defaultLanguage:"en",defaultAgents:[r.Zb,r.NV],defaultScanners:[i.QQ,i.VA],mutual:{agent:r.Zb,scanner:i.QQ}},{key:d,typeID:"8",typeString:o.ARTIST,rootTypeString:o.ARTIST,title:()=>(0,s.Z)("Music"),shortTitle:()=>(0,s.Z)("Music"),defaultLanguage:"en",defaultAgents:[r.Ut,r.E4],defaultScanners:[i.c3,i.OQ],exclusiveAgents:[r.zR],exclusiveScanners:[i.N6],mutual:{agent:r.Ut,scanner:i.c3}},{key:u,typeID:"13",typeString:o.PHOTO,rootTypeString:o.PHOTO_ALBUM,title:()=>(0,s.Z)("Photos"),shortTitle:()=>(0,s.Z)("Photos"),defaultLanguage:"en",defaultAgents:[r.Hn],defaultScanners:[i.RZ],mutual:{}},{key:p,typeID:"1",typeString:o.MOVIE,rootTypeString:o.CLIP,title:()=>(0,s.Z)("Other Videos"),shortTitle:()=>(0,s.Z)("Videos"),defaultLanguage:"xn",defaultAgents:[r.Hn],defaultScanners:[i.S5],mutual:{}},{key:m,typeID:"19",typeString:o.GAME,rootTypeString:o.GAME,title:()=>(0,s.Z)("Games"),shortTitle:()=>(0,s.Z)("Games"),defaultLanguage:"en",defaultAgents:[r.nQ],defaultScanners:[i._q],mutual:{agent:r.nQ,scanner:i._q}}])},99394:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(14408),i=n(40498);function s(e){return{type:r.Z.boolean,save(){return this.has(e)}}}function a(e){return{type:r.Z.queryString,separators:["|","&"],orFields:[i.ZO,i.GP],andFields:[i.Jm,i.Bi],save(){return this.has(e)}}}const o={allowTuners:{type:r.Z.integer,save(){return this.has("allowTuners")}},allowSync:s("allowSync"),allowCameraUpload:s("allowCameraUpload"),allowChannels:s("allowChannels"),filterMovies:a("filterMovies"),filterTelevision:a("filterTelevision"),filterMusic:a("filterMusic"),filterPhotos:a("filterPhotos")}},58605:(e,t,n)=>{"use strict";n.d(t,{lz:()=>o,Hs:()=>l,MB:()=>c,xF:()=>d,n1:()=>u,ls:()=>p,HG:()=>m,TV:()=>h,FM:()=>g,w1:()=>y,Ap:()=>v,IO:()=>f,vK:()=>S});var r=n(5562),i=n(35981),s=n(61478),a=n(69881);const o="unknown",l="dvr",c="movies",d="music",u="photos",p="playlists",m="podcasts",h="tv",g="videos",y="webShows",v="shared",f="game",b=(0,i.Z)(["key"],[{key:o,title:()=>(0,r.Z)("Unknown"),types:{}},{key:p,types:{type:a.PLAYLIST}},{key:c,types:{type:a.MOVIE}},{key:h,types:{type:a.SHOW}},{key:d,types:{type:a.ARTIST}},{key:u,types:{type:a.PHOTO}},{key:g,types:{type:a.MOVIE}},{key:"episode",types:{type:a.EPISODE}},{key:l,title:()=>(0,r.Z)("Live TV & DVR")},{key:v,types:{type:a.MIXED}},{key:m,types:{type:a.SHOW,subtype:s.PODCAST}},{key:y,types:{type:a.SHOW,subtype:s.WEBSHOW}},{key:f,types:{type:a.GAME}}]),S=(b.get,b.getAll)},73004:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(5562);const i=(0,n(35981).Z)(["id","typeString"],[{id:1,typeString:"video",key:"videoStreamID",title:()=>(0,r.Z)("Video")},{id:2,typeString:"audio",key:"audioStreamID",title:()=>(0,r.Z)("Audio")},{id:3,typeString:"subtitles",key:"subtitleStreamID",title:()=>(0,r.Z)("Subtitles")},{id:4,typeString:"lyrics",key:"lyricStreamID",title:()=>(0,r.Z)("Lyrics")}])},83705:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(5562);const i=(0,n(35981).Z)(["id","typeString"],[{id:0,typeString:"tag",title:()=>(0,r.Z)("Tag")},{id:1,typeString:"genre",title:()=>(0,r.Z)("Genre")},{id:2,typeString:"collection",title:()=>(0,r.Z)("Collection")},{id:3,typeString:"bookmark",title:()=>(0,r.Z)("Bookmark")},{id:4,typeString:"director",title:()=>(0,r.Z)("Director"),isPerson:!0},{id:5,typeString:"writer",title:()=>(0,r.Z)("Writer"),isPerson:!0},{id:6,typeString:"actor",title:()=>(0,r.Z)("Actor"),isPerson:!0},{id:7,typeString:"producer",title:()=>(0,r.Z)("Producer"),isPerson:!0},{id:8,typeString:"country",title:()=>(0,r.Z)("Country")},{id:9,typeString:"chapter",title:()=>(0,r.Z)("Chapter")},{id:10,typeString:"review",title:()=>(0,r.Z)("Review")},{id:11,typeString:"label",title:()=>(0,r.Z)("Label")},{id:42,typeString:"versionBackgroundProcessingTarget",title:()=>(0,r.Z)("Version Background Processing Target")},{id:200,typeString:"make",title:()=>(0,r.Z)("Make")},{id:201,typeString:"model",title:()=>(0,r.Z)("Model")},{id:202,typeString:"aperture",title:()=>(0,r.Z)("Aperture")},{id:203,typeString:"exposure",title:()=>(0,r.Z)("Exposure")},{id:204,typeString:"iso",title:()=>(0,r.Z)("ISO")},{id:205,typeString:"lens",title:()=>(0,r.Z)("Lens")},{id:206,typeString:"device",title:()=>(0,r.Z)("Device")},{id:207,typeString:"autotag",title:()=>(0,r.Z)("Autotag")},{id:400,typeString:"place",title:()=>(0,r.Z)("Place")},{id:300,typeString:"mood",title:()=>(0,r.Z)("Mood")},{id:301,typeString:"bpm",title:()=>(0,r.Z)("BPM")},{id:302,typeString:"composer",title:()=>(0,r.Z)("Composer")},{id:303,typeString:"featuring",title:()=>(0,r.Z)("Featuring")},{id:304,typeString:"trackArtist",title:()=>(0,r.Z)("Track Artist")},{id:305,typeString:"similarArtist",title:()=>(0,r.Z)("Similar Artist")},{id:306,typeString:"concert",title:()=>(0,r.Z)("Concert")}])},25519:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(84659),i=n(23100),s=n(56974),a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};const p=function(e,t){const{base:n,searchParams:a,hashPath:o,hashParams:l}=(0,s.Z)(e),c=(0,r.Z)(a);return`${n}?${(0,i.Z)(u(u({},c),t))}${(o||l?"#":"")+o+l}`}},74183:(e,t,n)=>{"use strict";function r(e){if(/\.plex\.direct$/.test(e)){const t=e.indexOf(".");t>0&&(e=(e=e.substring(0,t)).replace(/-/g,"."))}return e}n.d(t,{Z:()=>r})},85790:(e,t,n)=>{"use strict";n.d(t,{At:()=>d,lv:()=>u,KF:()=>p,q1:()=>m,iX:()=>h});var r=n(13469),i=n.n(r);const s=/^([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/,a=/(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))/i,o=/[a-f0-9]{1,4}/gi;function l(e){const t=s.exec(e);if(null!=t)return{octets:i().map(i().rest(t),(e=>parseInt(e,10)))}}function c(e){if(!a.test(e))return;const t=e.split("::"),n=t[0].match(o),r={parts:[]};if(null!=n){if(n.length>8)return;r.parts=i().map(n,(e=>parseInt(e,16)))}if(t.length>1){const e=t[1].match(o),n=i().map(e,(e=>parseInt(e,16))),s=8-r.parts.length-n.length;if(s<0||8===s)return;i().times(s,(()=>{r.parts.push(0)})),r.parts=r.parts.concat(n)}return r}function d(e){return m(e)||function(e){const t=c(e);return!(!t||!i().all(t.parts,(e=>e>=0&&e<=65535)))}(e)}function u(e){return"localhost"===e||function(e){const t=l(e);return!(!t||127!==t.octets[0]&&!i().all(t.octets,(e=>0===e)))}(e)||function(e){const t=c(e);return!!t&&(i().all(i().take(t.parts,7),(e=>0===e))&&1===i().last(t.parts))}(e)}function p(e){return function(e){const t=l(e);if(t){if(10===t.octets[0])return!0;if(172===t.octets[0]&&t.octets[1]>=16&&t.octets[1]<=31)return!0;if(192===t.octets[0]&&168===t.octets[1])return!0}return!1}(e)||function(e){const t=c(e);return!!(t&&t.parts[0]>=64512&&t.parts[0]<=65023)}(e)}function m(e){const t=l(e);return!(!t||!i().all(t.octets,(e=>e>=0&&e<=255)))}function h(e){return m(e)?e.split(".").slice(0,-1).join("."):""}},55605:(e,t,n)=>{"use strict";function r(e){return/^\w+:\/\//.test(e)}n.d(t,{Z:()=>r})},84936:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(80129),i=n.n(r),s=n(54998),a=n.n(s),o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e};const m=/^([^?#]*)(?:\?([^#]*))?(#.*)?/,h=/([^?]*)\??(.*)()/;function g(e,t){return i().stringify(e,p({arrayFormat:"repeat"},t))}function y(e,t){return i().parse(e,t)}function v(e,t){const n=a().parse(e),r=n.protocol?`${n.protocol}:`:"",i=n.port?String(n.port):"",s=n.hostname?i&&`${n.hostname}:${i}`||n.hostname:"",o=n.hostname||"",l=n.fragment?`#${n.fragment}`:"",c=e,d=r&&s?`${r}//${s}`:"",u=n.path||"",p=n.query?`?${n.query}`:"",m=n.query?y(n.query,t):{};return{isAbsolute:/^[\w:]*\/\//.test(e),hash:l,host:s,hostname:o,href:c,origin:d,params:m,pathname:u,port:i,protocol:r,search:p}}const f={getLastSegment:function(e){if(e){const t=/[^/\\]+$/.exec(e);return(null==t?void 0:t[0])||e}return""},stringifyParams:g,parseParams:y,parseUrl:function(e){const t=p({},v(e)),n=/file/.test(t.protocol);return t.protocol||(t.protocol=window.location.protocol),n||(t.host||(t.host=window.location.host),t.hostname||(t.hostname=window.location.hostname),t.port||(t.port=window.location.port)),t.origin||(t.origin=n?`${t.protocol}//`:`${t.protocol}//${t.host}`),t},parseUri:v,join:function(e,t,n){var r;"string"==typeof e&&(e=[e]),e=e.filter((e=>e));const i=(null==n?void 0:n.recognizeHash)?m:h,s=e.reduce(((e,t)=>{const n=function(e){return String(e).replace(/^\/|\/$/g,"")}(t).match(i);if(!n)return e;const[,r,s,a]=n;return r&&(e.path=e.path?e.path+"/"+r:r),s&&(e.params=e.params?e.params+"&"+s:s),a&&(e.hash=a),e}),{path:"",params:"",hash:""});let a;if(null==n?void 0:n.parseParams)a=g(Object.assign(y(s.params),"string"==typeof t?y(t):t));else if((s.params||t)&&(s.params&&(a=s.params),t)){const e="string"==typeof t?t:g(t,null==n?void 0:n.stringifyOptions);e&&(a=a?`${a}&${e}`:e)}return(e.length&&"/"===(null==(r=e[0])?void 0:r.charAt(0))?"/":"")+s.path+(a?"?"+a:"")+s.hash}}},24920:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(96638);const i=function(e,t){const n=new RegExp(`(\\?|&)(${(0,r.Z)(t)}=[^\\?&]+(?:[\\?&]?))`,"g");return e.replace(n,((e,t)=>t)).replace(/(\?|&)$/,"")}},23484:(e,t,n)=>{"use strict";function r(e,t){let[,n]=e.match(/(^[^#]+)?/);return n=n||"",`${n}${t}`}n.d(t,{Z:()=>r})},56974:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){const[,t,n=""]=e.match(/(^[^#]+)(?:#(.*$))?/),[,r,i=""]=t.match(/(^[^?]+)(\?.*$)?/),[,s,a=""]=n.match(/(^[^?]*)(\?.*$)?/);return{base:r,searchParams:i,hashPath:s,hashParams:a}}},64033:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(93966),i=n(59756);function s(e){return!e.get("experienceSettings").get("isRemoteSchemaVersionNewer")&&i.Z.allowSyncSettings&&(0,r.DB)("settingFinder").find("shouldSyncSettings")}},39957:(e,t,n)=>{"use strict";function r(e,t){return`${e}::${t}`}n.d(t,{Z:()=>r})},93063:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(32553);const i=function(e){return(0,r.Z)(e,(e=>e.uuid),(()=>!0))}},57721:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});var r=n(45399);const i=["free"];function s(e,t){const n=t&&t.requires;if(!n)return!0;if(n===r.sy)return!e.anonymous;const s=e.services[n];return!!s&&!i.includes(s.subscriptionType)}},29124:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(){return window!==window.top}},57054:(e,t,n)=>{"use strict";function r(e){return{status:e.status,statusText:e.statusText,readyState:e.readyState,responseText:e.responseText}}n.d(t,{Z:()=>r})},33295:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(93966),l=n(19130),c=n(96840),d=n(84936);const u=new(l.Z.extend({initialize(){a().bindAll(this,"onAjaxSend","onAjaxComplete"),this.requests=[],this.byId={}},startListening(){const e=i()(document);e.on("ajaxSend",this.onAjaxSend),e.on("ajaxComplete",this.onAjaxComplete)},stopListening(){const e=i()(document);e.off("ajaxSend",this.onAjaxSend),e.off("ajaxComplete",this.onAjaxComplete)},abortAll(e){for(let t=this.requests.length-1;t>-1;t--){const n=this.requests[t];null!=e&&e!==n.settings.scope||this.abort(n)}},abort(e){const t=a().isString(e)?this.byId[e]:e;t&&(t.xhr.aborting=!0,t.xhr.abort(),this.remove(t))},store(e,t){const n=a().uniqueId("r");e.rid=n;const r={xhr:e,settings:t};return this.requests.push(r),this.byId[n]=r,r},remove(e){const t=a().indexOf(this.requests,e);t>-1&&this.requests.splice(t,1),this.byId.hasOwnProperty(e.xhr.rid)&&delete this.byId[e.xhr.rid]},onAjaxSend(e,t,n){if(n.skipCorsWithRedirect)return;const r=this.store(t,n);t.always((()=>{t.aborting||this.remove(r)}))},onAjaxComplete(e,t,n){const r=401===t.status;if(t.aborting||!r)return;const i=d.Z.parseUrl(n.url);if(r&&("/log"===i.pathname||"/"===i.pathname||"/media/providers"===i.pathname))return;const s=(0,o.DB)("appModel").get("servers"),l=s?s.find((e=>{const t=e.get("activeConnection"),r=t&&t.get("isConnected"),i=a().result(t,"url");return!!r&&n.url.substring(0,i.length)===i})):null;l&&((0,c.Z)('[Connections] Active connection to "%s" lost authorization',l.get("debugName")),l.trigger("error:connection",l))}}))},93634:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(93966),l=n(65652),c=n(59756),d=n(2938),u=n(43108),p=n(47479),m=n(16551);const h="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",g=l.Z.ItemView.extend({tagName:"img",background:!1,backgroundSize:"",cache:new d.Z,initialize:function(e){e||(e={}),a().bindAll(this,"onLoad","onError","loadImage"),this.url=e.url,this.server=e.server,this.placeholder=e.placeholder,this.placeholderClass=e.placeholderClass,this.modelAttribute=e.modelAttribute,this.ignoreAttributeChanges=e.ignoreAttributeChanges,this.exposeUrl=e.exposeUrl,this.resetOnError=e.resetOnError,this.emptyImage=e.explicitEmpty?"url("+h+")":"",e.background&&(this.background=e.background),e.backgroundSize&&(this.backgroundSize=e.backgroundSize),e.format&&(this.format=e.format),e.quality&&(this.quality=e.quality),a().isFunction(e.getUrl)&&(this.getUrl=e.getUrl),this.allowBaseImageBlobs=c.Z.allowBaseImageBlobs,this.allowBaseImagePreloading=c.Z.allowBaseImagePreloading,this.setup(e)},setup:function(e){this.setDimensions(e),this.setFilters(e.filters),this.setModel(e.model,e)},setDimensions:function(e){e.width&&e.height&&(this.transcode=!0,this.width=e.width,this.height=e.height)},setFilters:function(e){this.filters=e||void 0},hasFilters:function(){return void 0!==this.filters},setModel:function(e,t){t||(t={}),this.stopListening(),this.src=null,this.model=e,e&&(this.server||(this.server=e.server),t.url||this.modelAttribute&&(this.url=this.getUrl(e.get(this.modelAttribute)),this.ignoreAttributeChanges||this.listenTo(e,"change:"+this.modelAttribute,this.onChange)))},setElement:function(e){l.Z.ItemView.prototype.setElement.apply(this,arguments),this.render({force:!0})},getUrl:function(e){return e},getTranscodeUrl:function(e){if(!this.server||!this.transcode)return e;const t=o.DB("appModel"),n=(0,u.Z)();return m.Z.image(this.server,e,{fallbackServer:t.get("primaryServer"),width:this.width*n,height:this.height*n,minSize:this.minSize,filters:this.filters,format:this.format,quality:this.quality})},render:function(e){return e||(e={}),this.url||this.placeholder||this.placeholderClass?this.src?(e.force&&this.showImage(this.src),this):(this.isPlaceholderRendered&&this.url||this.showPlaceholder(),this.url&&this.load(this.url,this.transcode).then(this.onLoad,this.onError,this.onLoad),this):this},showPlaceholder:function(){if(this.isPlaceholderRendered=!0,this.$el.removeClass("loaded"),this.placeholderClass)return this.$el.addClass(this.placeholderClass),void this.$el.css("background-image",this.emptyImage);this.placeholder?this.showImage(this.placeholder):this.clearImage()},clearImage:function(){this.background?this.$el.css("background-image",this.emptyImage):this.showImage(h)},showImage:function(e){this.background?this.showBackgroundImage(e):this.$el.attr("src",e).removeAttr("width").removeAttr("height")},showBackgroundImage:function(e){this.$el.css("background-image","url("+e+")")},load:function(e){if(!e)return i().Deferred().reject().promise();if(e=this.getTranscodeUrl(e),this.exposeUrl&&this.$el.attr("data-image-url",e),this.allowBaseImageBlobs&&p.Z.hasBlob&&p.Z.hasObjectUrl){let t=this.loadBlob(e);return t=t.then(this.loadImage,null,this.loadImage),t}return this.allowBaseImagePreloading?this.loadImage(e):i().Deferred().resolve(e).promise()},loadBlob:function(e){const t=i().Deferred();this.cancel();const n=this.cache.getBlobUrl(e);if(n)return t.resolve(n),t.promise();{const n=this.cache.getPlaceholder(e);n&&t.notify(n,!0)}const r=new window.XMLHttpRequest;return r.open("GET",e,!0),r.responseType="arraybuffer",this.xhr=r,r.onreadystatechange=a().bind((function(){if(4===r.readyState)if(r.onreadystatechange=null,this.xhr=null,200===r.status){const n=new window.Blob([r.response],{type:"image/jpeg"}),i=window.URL.createObjectURL(n);this.cache.store({url:e,blobUrl:i}),t.resolve(i)}else t.reject()}),this),r.send(),t.promise()},loadImage:function(e,t){const n=i().Deferred(),r=new window.Image;return r.onload=function(){r.onload=r.onabort=r.onerror=null,t?n.notify(e,r.width,r.height):n.resolve(e,r.width,r.height)},r.onabort=r.onerror=function(){r.onload=r.onabort=r.onerror=null,n.reject()},r.src=e,n.promise()},cancel:function(){this.xhr&&(this.xhr.onreadystatechange=null,this.xhr.abort(),this.xhr=null)},onLoad:function(e,t,n){if(this.backgroundSize){const e=t&&t>this.width||n&&n>this.height?this.backgroundSize:"auto";this.$el[0].style.backgroundSize=e}this.src=e,this.placeholderClass&&this.$el.removeClass(this.placeholderClass),this.$el.addClass("loaded"),this.showImage(e),this.trigger("load",e,t,n)},onError:function(){this.resetOnError&&this.showPlaceholder(),this.trigger("error")},onClose:function(){this.cancel()},onChange:function(e,t){if(t=this.getUrl(t),this.url===t)return this;this.url=t,this.src=null,this.render()}})},64106:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(53779),i=n(62779),s=n(93634);const a=s.Z.extend({background:!0,setup(e){this.minSize=!0,this.type=e.type,this.modelAttribute=e.modelAttribute||"thumb",!1!==e.placeholder&&(this.model&&this.model.get("isFolder")?this.placeholderClass=r.Z.folder:e.placeholderClass||(this.placeholderClass=r.Z[this.type])),s.Z.prototype.setup.apply(this,arguments)},setDimensions(e){e.width?e.height=i.Z.getPosterHeight(this.type,e.width):e.height&&(e.width=i.Z.getPosterWidth(this.type,e.height)),s.Z.prototype.setDimensions.call(this,e)},setModel(e,t){s.Z.prototype.setModel.apply(this,arguments),this.model&&this.model.get("isFolder")&&(this.placeholderClass=r.Z.folder)}})},14651:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294),i=n(71153),s=n(91608),a=n(50552);const o={[a.sQ]:i.Z,[a.Bs]:s.Z},l=function(e){const t=o[e.attribution];return t?r.createElement("div",{className:e.className},r.createElement(t,null)):null}},97486:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(94184),i=n.n(r),s=n(82777),a=n(67294),o=n(79481);class l extends a.Component{render(){const{className:e,containerClassName:t,backgroundClassName:n,textClassName:r,size:o,lineWidth:l,strokeColor:c,trackColor:d,progress:u,progressText:p=`${Math.round(u)}%`,easing:m,showProgressText:h,showIndeterminate:g}=this.props,y=this.props.smoothProgressDuration/1e3,v=g?50:u,f=g?null:p,b=o/2,S=b-l,I=Math.PI*(2*S),Z=o+"px",P=o-3*l+"px",E=(100-v)/100*I;return a.createElement("div",{className:t,style:{width:Z,height:Z,lineHeight:Z}},a.createElement("svg",{className:i()(e,g&&"CircularProgressBar-indeterminate-oWvaoR spin-spin-34xiUE"),version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:o,height:o},d?a.createElement("circle",{fill:"transparent",r:S,cx:b,cy:b,style:{strokeWidth:l,stroke:d}}):null,a.createElement(s.ww.circle,{fill:"transparent",r:S,cx:b,cy:b,strokeDasharray:I,strokeDashoffset:E,style:{strokeWidth:l,stroke:c},initial:!0,animate:{strokeDashoffset:E},transition:{duration:y,ease:m}})),a.createElement("div",{className:n,style:{width:P,height:P}}),h&&f?a.createElement("div",{className:r},f):null)}}l.defaultProps={className:"CircularProgressBar-circularProgressBar-CcbTjD",containerClassName:"CircularProgressBar-circularProgressBarContainer-2G95YB",backgroundClassName:"CircularProgressBar-circularProgressBarBackground-1LlpZu",textClassName:"CircularProgressBar-circularProgressBarText-2Pos90",size:60,lineWidth:5,strokeColor:o.Z.primaryColor,showProgressText:!0,smoothProgressDuration:1e3,easing:"easeOut"};const c=l},54611:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(67294),i=n(73935),s=n(22093),a=n(11133),o=n(96840),l=n(37201),c=n(7165),d=n(5562),u=n(91135),p=n(93554),m=n(45697),h=n.n(m);function g({onPositionUpdate:e,onTick:t}){const n=(0,r.useRef)(Date.now());return(0,r.useEffect)((()=>{let t;return e&&(t=window.setInterval(e,40)),()=>{t&&window.clearInterval(t)}}),[e]),(0,r.useEffect)((()=>{let e;return t&&(e=window.setInterval((()=>{const e=Math.floor((Date.now()-n.current)/1e3);t(e)}),1e3)),()=>{e&&window.clearInterval(e)}}),[t]),null}g.propTypes={onPositionUpdate:h().func,onTick:h().func};const y=g;class v extends r.Component{constructor(e,t){super(e,t),this._nativeSeek=e=>{this._mediaEl.currentTime=e},this.onStarted=()=>{const{positionSeconds:e,onDurationMillisecondsChange:t}=this.props;this.state.isStarted||(e&&(this.props.onResumeSeek||this.props.onSeek||this._nativeSeek)(e),this.setState({isStarted:!0},(()=>{if(t){const e=this._mediaEl.duration;t(Number.isFinite(e)?Math.floor(1e3*e):0)}})))},this.onDataLoad=()=>{this._canNativelySelectAudioTrack()&&this._selectAudioTrack(),this._canNativelySelectTextTrack()&&(this._selectTextTrack(),this._mediaEl.textTracks.addEventListener("addtrack",this.onAddTrack)),(0,c.Z)()||this.onStarted()},this.onCanPlay=()=>{(0,c.Z)()&&this.onStarted()},this.onCanPlayThrough=()=>{this.props.onCanPlayThrough&&this.props.onCanPlayThrough(!0)},this.onPositionUpdate=()=>{if(!this._mediaEl)return;const e=Math.floor(1e3*this._mediaEl.currentTime);if(e!==this._lastPositionMilliseconds)this._lastPositionMilliseconds=e,this._lastPositionChangeTime=Date.now(),this._isBuffering&&(this._isBuffering=!1,this.props.onBufferingChange&&this.props.onBufferingChange(!1));else if(!this._isBuffering&&!this.props.paused){const e=Date.now()-this._lastPositionChangeTime;e>this.props.bufferingDetectionLimit&&(o.Z.warn(`[Player] Buffering detected, last position change was ${e}ms ago`),this._isBuffering=!0,this.props.onBufferingChange&&this.props.onBufferingChange(!0))}this.props.onPositionMillisecondsChange(e)},this.onProgress=()=>{if(this.props.onBufferChange){const{buffered:e}=this._mediaEl,t=[];for(let n=0;n<e.length;n++)t.push({startSeconds:e.start(n),endSeconds:e.end(n)});this.props.onBufferChange(t)}},this.onEnded=()=>{this.props.onEnd&&this.props.onEnd()},this.onError=e=>{const{code:t}=e.target.error,n=function(e){switch(e){case 1:return(0,d.Z)("Abort");case 2:return(0,d.Z)("Network");case 3:return(0,d.Z)("Decode");case 4:return(0,d.Z)("Not Supported")}}(t),r=`${t} (${n||"Unknown"})`;2===t?o.Z.warn(`[Player] An HTML media error occurred: ${r}; the player will attempt to recover`):(o.Z.warn(`[Player] A critical HTML media error occurred: ${r}; the player cannot recover`),this.props.onError&&this.props.onError({code:`h${t}`,category:n}))},this.onSeek=e=>{const t=this._mediaEl.ended;this._nativeSeek(e),this.props.onSeek&&this.props.onSeek(e),!this.props.paused&&t&&this._play()},this.onPause=()=>{this._mediaEl.ended||this.props.onPause&&this.props.onPause()},this.onPlay=()=>{this.props.onPlay&&this.props.onPlay()},this.onResize=()=>{const{videoWidth:e,videoHeight:t}=this._mediaEl;this.props.onIntrinsicDimensions&&this.props.onIntrinsicDimensions({width:e,height:t})},this.onAddTrack=()=>{this._selectTextTrack()},this.state={isStarted:!1},this._mediaListeners={loadeddata:this.onDataLoad,canplay:this.onCanPlay,canplaythrough:this.onCanPlayThrough,progress:this.onProgress,ended:this.onEnded,error:this.onError,pause:this.onPause,play:this.onPlay,resize:this.onResize},this._lastPositionMilliseconds=null,this._lastPositionChangeTime=0,this._isBuffering=!1,this._isUnmounting=!1}componentDidMount(){this._mediaEl=(0,l.Vq)(this.props.mediaType,this.props.allowRecycleElement);const e=this._mediaEl;e.className="HTMLMedia-mediaElement-2XwlNN",e.volume=Math.max(0,Math.min(this.props.volume/100,1)),Object.keys(this._mediaListeners).forEach((t=>{e.addEventListener(t,this._mediaListeners[t])})),this._node=i.findDOMNode(this),this._node.appendChild(e),this.props.onElementChange?this.props.onElementChange(e):e.src=this.props.src,this.props.isReadyToPlay&&!this.props.paused&&this.props.src&&this._play(),this._mediaEl.playbackRate=this.props.playbackSpeed,this.props.onMetricsPlayerChange(s.k9)}componentDidUpdate(e,t){(0,a.Z)(this.props.src===e.src,"Use a new `key` when changing `src`");const{lastSeekPositionSeconds:n,paused:r,volume:i,playbackSpeed:s,isReadyToPlay:o,audioStream:l,subtitleStream:c,subtitleSize:d,hasBurnedSubtitles:u,isStreamChangeInProgress:p,onStreamChange:m}=this.props,h=this._mediaEl,g=null!=n&&n!==e.lastSeekPositionSeconds,y=(!!e.audioStream&&e.audioStream.id)!==(!!l&&l.id),v=(!!e.subtitleStream&&e.subtitleStream.id)!==(!!c&&c.id),f=e.isStreamChangeInProgress&&!p,b=e.subtitleSize!==d;g&&this.onSeek(n),r===e.paused||h.ended||(r?this._pause():this._play()),i!==e.volume&&(h.volume=Math.max(0,Math.min(i/100,1))),s!==e.playbackSpeed&&(h.playbackRate=s),!o||e.isReadyToPlay||r||this._play(),this._canNativelySelectTextTrack()&&v&&!p&&this._selectTextTrack(),m&&(y&&!p||v&&!p||f||b&&u)&&m()}componentWillUnmount(){this._isUnmounting=!0,this._node.removeChild(this._mediaEl),this._mediaEl.src="",this._mediaEl.removeAttribute("src"),this._mediaEl.className="",Object.keys(this._mediaListeners).forEach((e=>{this._mediaEl.removeEventListener(e,this._mediaListeners[e])})),this._mediaEl.textTracks.removeEventListener("addtrack",this.onAddTrack),this.props.allowRecycleElement&&(0,l.u$)(this._mediaEl)}_play(){const e=this._mediaEl.play();e&&e.then&&e.then(null,(e=>{this._isUnmounting||(("AbortError"===e.name||"NotAllowedError"===e.name)&&this.props.onPause&&this.props.onPause(),o.Z.warn(e.name+": "+e.message))}))}_pause(){this._mediaEl.pause()}_canNativelySelectAudioTrack(){const{audioStreams:e,isDecisionDirectPlay:t}=this.props;return!!(e&&e.length&&t&&this._mediaEl.audioTracks)}_canNativelySelectTextTrack(){const{subtitlesStreams:e,isDecisionDirectPlay:t}=this.props;return!!(e&&e.length&&t&&this._mediaEl.textTracks.length>0)}_selectAudioTrack(){const{audioStreams:e,audioStream:t}=this.props,n=this._mediaEl.audioTracks;if(n){const r=e.findIndex((e=>e.id===t.id));for(let e=0;e<n.length;e++)n[e].enabled=e===r}}_selectTextTrack(){var e;const{subtitleStream:t}=this.props,n=this._mediaEl.textTracks;if(n&&t){let r;for(let i=0;i<n.length;i++){const s=n[i];if(s.mode="disabled",!r){const n="captions"===s.kind&&"eia_608"===t.codec,i="subtitles"===s.kind&&"vtt"===t.codec,a=s.language===t.id||s.label.toLowerCase()===(null==(e=t.language)?void 0:e.toLowerCase());(n||i)&&a&&(r=!0,s.mode="showing")}}}}render(){const{height:e,width:t,placement:n,edgeGutterX:i,edgeGutterY:s,isStackedAbove:a,onTick:o}=this.props,l=(0,p.Z)(e,t,n,i,s,a);return r.createElement("div",{style:l},this.state.isStarted?r.createElement(y,{onPositionUpdate:this.onPositionUpdate,onTick:o}):null)}}v.defaultProps={mediaType:u.pX,positionSeconds:0,volume:100,playbackSpeed:1,allowRecycleElement:!1,isReadyToPlay:!0};const f=v},65671:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(67294),i=(n(11133),n(96638)),s=Object.defineProperty,a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e},u=(e,t)=>{var n={};for(var r in e)a.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&o)for(var r of o(e))t.indexOf(r)<0&&l.call(e,r)&&(n[r]=e[r]);return n};const p="children";function m(e){const{className:t,component:n,childrenPropName:s,tags:a,message:o}=e;let l=[o],c=a.length-1,m=0;for(;c>=0;){const e=a[c],{open:t,close:n,unpaired:s,children:o,component:h,childrenPropName:g}=e,y=u(e,["open","close","unpaired","children","component","childrenPropName"]),v=t?new RegExp("(^.*)"+(0,i.Z)(`{${t}}`)+"(.*)"+(0,i.Z)(`{${n}}`)+"(.*$)"):new RegExp("(^.*)"+(0,i.Z)(`{${s}}`)+"()(.*$)"),f=[];for(let e=l.length-1;e>=0;e--){const t=l[e];if("string"!=typeof t)f.unshift(t);else{const e=t.match(v);if(e){const[,t,n,i]=e;h?f.unshift(t,r.createElement(h,d(d({key:m},y),{[g||p]:n})),i):f.unshift(t,o,i),m+=1}else f.unshift(t)}}f.length===l.length?c-=1:l=f}return r.createElement(n,d({className:t},{[s]:l}))}m.defaultProps={component:"span",childrenPropName:p};const h=m},39409:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(94184),i=n.n(r),s=n(67294),a=n(60528);const o={badge:"Badge-badge-waFP_r",isHidden:"Badge-isHidden-25iS9M",default:"Badge-default-1qpZeo",primary:"Badge-primary-1pZ_Vq",success:"Badge-success-n2G5UD",danger:"Badge-danger-3z0iQ5"};function l({className:e,children:t,kind:n}){return s.createElement("span",{className:i()(e,o.badge,o[n],!t&&o.isHidden),"data-qa-id":"badgeElement"},t)}l.defaultProps={kind:a.TP};const c=l},84807:(e,t,n)=>{"use strict";n.d(t,{U:()=>i,Z:()=>a});var r=n(67294);const i="—";function s({className:e,separator:t}){return r.createElement("span",{className:e},t)}s.defaultProps={className:"DashSeparator-separator-3r2G27",separator:i};const a=s},91995:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(94184),i=n.n(r),s=n(67294),a=n(21914),o=n(60528),l=n(82378);const c={disclosureArrow:"DisclosureArrow-disclosureArrow-1jttuj",default:"DisclosureArrow-default-35VH60",primary:"DisclosureArrow-primary-1CdQpd",success:"DisclosureArrow-success-1dElXK",danger:"DisclosureArrow-danger-2AvWAW",small:"DisclosureArrow-small-3F4uBR",up:"DisclosureArrow-up-3XFMCe",right:"DisclosureArrow-right-3Mcrwy",medium:"DisclosureArrow-medium-nfRf3I",large:"DisclosureArrow-large-3WaUfc",down:"DisclosureArrow-down-3IxLuS DisclosureArrow-up-3XFMCe",left:"DisclosureArrow-left-1Gzevo DisclosureArrow-right-3Mcrwy",isSelected:"DisclosureArrow-isSelected-2Czzsz"};function d({className:e,kind:t,size:n,direction:r,isSelected:a}){return s.createElement("span",{className:i()(e,c[r],c[t],c[n],a&&c.isSelected)})}d.defaultProps={className:c.disclosureArrow,direction:a.WV,kind:o.TP,size:l.M2,isSelected:!1};const u=d},80967:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294),i=(n(11133),n(47636));const s="Measure-scrollContainer-SqY7BV";class a extends r.Component{constructor(e,t){super(e,t),this._requestFrame=()=>{this._clearTimeout(),this._cancelFrame(),this._frameRequestID=window.requestAnimationFrame(this._measure)},this._requestTimeout=()=>{this._clearTimeout(),this._cancelFrame(),this._measureTimeoutID=window.setTimeout(this._requestFrame,this.props.resizeTimeout)},this._measure=()=>{const{ignoreWidth:e,ignoreHeight:t,ignorePosition:n,ignoreTransforms:r}=this.props,{isMeasured:i,width:s,scrollWidth:a,height:o,scrollHeight:l,x:c,y:d}=this.state,u=this._container;if(!u)return;const p=u.getBoundingClientRect(),m=r?u.offsetWidth:p.width,h=r?u.offsetHeight:p.height,g=!0!==i,y=!n&&(p.left!==c||p.top!==d),v=!e&&(m!==s||u.scrollWidth!==a),f=!t&&(h!==o||u.scrollHeight!==l);if(this._reset(),g||y||v||f){const r=window.getComputedStyle(u),i={isMeasured:!0};if(n||(i.x=y?p.left:c,i.y=y?p.top:d),!e){const e=parseInt(r.paddingRight,10)||0,t=parseInt(r.paddingLeft,10)||0;i.width=v?m-t-e:s,i.scrollWidth=v?u.scrollWidth:a}if(!t){const e=parseInt(r.paddingTop,10)||0,t=parseInt(r.paddingBottom,10)||0;i.height=f?h-e-t:o,i.scrollHeight=f?u.scrollHeight:l}this.setState(i),this.props.onMeasure&&this.props.onMeasure(i)}},this._setContainerRef=e=>{this._container=e;const{onContainerRef:t}=this.props;t&&t(e)},this._setExpandContainerRef=e=>{this._expandContainer=e},this._setShrinkContainerRef=e=>{this._shrinkContainer=e},this.onScroll=e=>{this._requestTimeout()};const{ignoreWidth:n,ignoreHeight:r,ignorePosition:i}=e;this.state={isMeasured:!1,width:n?void 0:0,scrollWidth:n?void 0:0,height:r?void 0:0,scrollHeight:r?void 0:0,x:i?void 0:0,y:i?void 0:0}}componentDidMount(){this._requestFrame()}shouldComponentUpdate(e,t){return(0,i.Z)(this,e,t)}componentWillUnmount(){this._cancelFrame(),this._clearTimeout()}_cancelFrame(){this._frameRequestID&&(this._frameRequestID=window.cancelAnimationFrame(this._frameRequestID))}_clearTimeout(){this._measureTimeoutID&&(this._measureTimeoutID=window.clearTimeout(this._measureTimeoutID))}_reset(){const e=this._expandContainer,t=this._shrinkContainer;e.scrollTop=1e5,e.scrollLeft=1e5,t.scrollTop=1e5,t.scrollLeft=1e5}render(){const{id:e,className:t,children:n,style:i,onKeyDown:a,onMeasure:o}=this.props,l="function"!=typeof n;return r.createElement("div",{id:e,className:t,style:i,ref:this._setContainerRef,onKeyDown:a},l?n:n(this.state),r.createElement("div",{className:s,ref:this._setExpandContainerRef,onScroll:this.onScroll},r.createElement("div",{className:"Measure-expandContent-1mTAUs"})),r.createElement("div",{className:s,ref:this._setShrinkContainerRef,onScroll:this.onScroll},r.createElement("div",{className:"Measure-shrinkContent-1n10Pn Measure-expandContent-1mTAUs"})))}}a.defaultProps={className:"Measure-container-27uNnm",ignoreWidth:!1,ignoreHeight:!1,ignorePosition:!1,ignoreTransforms:!1,resizeTimeout:100};const o=a},72566:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(67294),i=n(73935),s=n(73433),a=(n(11133),n(71575)),o=n(47636),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};class h extends r.Component{constructor(e,t){super(e,t),this.onOpen=()=>{var e,t;this._open(),null==(t=(e=this.props).onOpen)||t.call(e)},this.onClose=()=>{var e,t;this._close(),null==(t=(e=this.props).onClose)||t.call(e)},this._ref=e.forwardedRef||r.createRef(),this._popper=null}shouldComponentUpdate(e,t){return(0,o.Z)(this,e,t)}componentDidUpdate(e){this._popper&&this._popper.update()}componentWillUnmount(){this._close()}_open(){const{target:e,options:t}=this.props,n=document.getElementById(e)||document.getElementsByName(e)[0];this._popper=(0,s.fi)(n,i.findDOMNode(this._ref.current),t),this._popper.update()}_close(){this._popper&&(this._popper.destroy(),this._popper=null)}render(){return r.createElement(a.Z,m(m({},this.props),{ref:this._ref,onOpen:this.onOpen,onClose:this.onClose}))}}h.defaultProps={options:{placement:"bottom-start"}};const g=r.forwardRef(((e,t)=>r.createElement(h,m(m({},e),{forwardedRef:t}))))},71575:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),i=n(73935),s=Object.defineProperty,a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e};class u extends r.Component{constructor(e,t){super(e,t),this.onCloseTimeout=()=>{this._closeTimeoutID=null,this.setState({shouldPreventPortalClose:!1},(()=>{this.props.onClose&&this.props.onClose()}))},this.onInteractionEvent=e=>{this.props.allowInteractionEventBubbling||e.stopPropagation()},this.state={isOpen:e.isOpen,shouldPreventPortalClose:!1}}static getDerivedStateFromProps(e,t){return e.isOpen===t.isOpen?null:{isOpen:e.isOpen,shouldPreventPortalClose:e.closeTimeoutMilliseconds&&!e.isOpen&&t.isOpen}}componentDidMount(){this.props.onOpen&&this.props.isOpen&&this.props.onOpen()}componentDidUpdate(e,t){!this.state.shouldPreventPortalClose&&t.shouldPreventPortalClose&&(this._closeTimeoutID=window.clearTimeout(this._closeTimeoutID)),this.state.shouldPreventPortalClose&&!t.shouldPreventPortalClose&&(this._closeTimeoutID=window.setTimeout(this.onCloseTimeout,this.props.closeTimeoutMilliseconds)),this.props.onOpen&&this.props.isOpen&&!e.isOpen&&this.props.onOpen()}componentWillUnmount(){this._closeTimeoutID&&window.clearTimeout(this._closeTimeoutID)}render(){const{className:e,style:t,children:n,forwardedRef:s}=this.props,{isOpen:a,shouldPreventPortalClose:o}=this.state;return a||o?i.createPortal(r.createElement("div",{className:e,style:t,ref:s,onTouchStart:this.onInteractionEvent,onTouchMove:this.onInteractionEvent,onTouchEnd:this.onInteractionEvent,onTouchCancel:this.onInteractionEvent,onMouseDown:this.onInteractionEvent,onMouseUp:this.onInteractionEvent,onClick:this.onInteractionEvent,onFocus:this.onInteractionEvent,onBlur:this.onInteractionEvent},n),document.body):null}}u.defaultProps={isOpen:!0,closeTimeoutMilliseconds:0,allowInteractionEventBubbling:!1};const p=r.forwardRef(((e,t)=>r.createElement(u,d(d({},e),{forwardedRef:t}))))},45428:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(94184),i=n.n(r),s=n(82777),a=n(67294),o=n(79374),l=n(90653),c=n(47636);const d={scroller:"Scroller-scroller-2Rw5pG",none:"Scroller-none-1bFqdM",vertical:"Scroller-vertical-3IY07c",auto:"Scroller-auto-QwZGCy",horizontal:"Scroller-horizontal-2fC3Sh",omni:"Scroller-omni-2DHpFR",compactScroller:"Scroller-compactScroller-2CXKDC"};var u=Object.defineProperty,p=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&g(e,n,t[n]);if(m)for(var n of m(t))h.call(t,n)&&g(e,n,t[n]);return e};class v extends a.Component{constructor(e,t){super(e,t),this.onScroll=e=>{if(e.target!==this._scrollerRef.current)return;const t=e.target.scrollTop,n=e.target.scrollLeft,r=t!==this._currentScrollTop,i=n!==this._currentScrollLeft;(r||i)&&this._setScrollPosition({scrollTop:t,scrollLeft:n}),this.props.onScroll&&this.props.onScroll(e)},this.onScrollPositionChange=()=>{this._animationFrameID=null,this.props.onScrollPositionChange({scrollTop:this._currentScrollTop,scrollLeft:this._currentScrollLeft})},this.onScrollTimeout=()=>{this.setState({isScrolling:!1})},this.onScrollTopUpdate=e=>{this._updateScrollPosition({scrollTop:e}),this.props.onScrollToUpdate&&this.props.onScrollToUpdate({scrollTop:e})},this.onScrollTopComplete=()=>{this._scrollTopTween=null,this.props.onScrollToComplete&&this.props.onScrollToComplete()},this.onScrollLeftUpdate=e=>{this._updateScrollPosition({scrollLeft:e}),this.props.onScrollToUpdate&&this.props.onScrollToUpdate({scrollLeft:e})},this.onScrollLeftComplete=()=>{this._scrollLeftTween=null,this.props.onScrollToComplete&&this.props.onScrollToComplete()},this.state={isScrolling:!1},this._scrollerRef=e.forwardedRef||a.createRef(),this._currentScrollTop=0,this._currentScrollLeft=0}componentDidMount(){this._scrollTo(this.props)}UNSAFE_componentWillReceiveProps(e){e.scrollTop===this.props.scrollTop&&e.scrollLeft===this.props.scrollLeft||this.setState({isScrolling:!0})}shouldComponentUpdate(e,t){return(0,c.Z)(this,e,t)}componentDidUpdate(e){this.state.isScrolling&&(this._scrollTimeoutID&&window.clearTimeout(this._scrollTimeoutID),this._scrollTimeoutID=window.setTimeout(this.onScrollTimeout,this.props.isScrollingTimeout)),this._scrollTo(this.props)}componentWillUnmount(){this._clearTimeouts(),this._cancelScrollTo()}_setScrollPosition({scrollTop:e,scrollLeft:t}){this._clearTimeouts(),this._currentScrollTop=e,this._currentScrollLeft=t,this._animationFrameID=window.requestAnimationFrame(this.onScrollPositionChange)}_updateScrollPosition({scrollTop:e,scrollLeft:t}){const n=this._scrollerRef.current;null!=e&&(n.scrollTop=e),null!=t&&(n.scrollLeft=t)}_scrollTo({scrollTop:e,scrollLeft:t}){if(null==e&&null==t)return;const n=null!=e&&e!==this._currentScrollTop,r=null!=t&&t!==this._currentScrollLeft;if(!n&&!r)return;if(!this.props.smoothScroll&&!this.props.restoreScroll)return this._currentScrollTop=e,this._currentScrollLeft=t,void this._updateScrollPosition({scrollTop:e,scrollLeft:t});const i=this.props.smoothScrollDuration/1e3;this._scrollToPosition={};const a=this._scrollerRef.current;if(this._cancelScrollTo(),n){const t=Math.min(e,a.scrollHeight-a.clientHeight);this._scrollToPosition.scrollTop=a.scrollTop,this._scrollTopTween=(0,s.jt)(a.scrollTop,t,{type:"tween",duration:i,onUpdate:this.onScrollTopUpdate,onComplete:this.onScrollTopComplete})}if(r){const e=Math.min(t,a.scrollWidth-a.clientWidth);this._scrollToPosition.scrollLeft=a.scrollLeft,this._scrollLeftTween=(0,s.jt)(a.scrollLeft,e,{type:"tween",duration:i,onUpdate:this.onScrollLeftUpdate,onComplete:this.onScrollLeftComplete})}}_cancelScrollTo(){this._scrollTopTween&&(this._scrollTopTween.stop(),this._scrollTopTween=null),this._scrollLeftTween&&(this._scrollLeftTween.stop(),this._scrollLeftTween=null)}_clearTimeouts(){this._animationFrameID&&window.cancelAnimationFrame(this._animationFrameID),this._scrollTimeoutID&&window.clearTimeout(this._scrollTimeoutID)}render(){const e=this.props,{className:t,children:n,scrollDirection:r,autoScroll:s,compactScroller:l,enableChildrenProps:c,onScroll:u,onScrollPositionChange:g,forwardedRef:v,smoothScroll:f,restoreScroll:b,smoothScrollDuration:S,scrollTop:I,scrollLeft:Z,isScrollingTimeout:P,onScrollToUpdate:E,onScrollToComplete:M}=e,C=((e,t)=>{var n={};for(var r in e)p.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&m)for(var r of m(e))t.indexOf(r)<0&&h.call(e,r)&&(n[r]=e[r]);return n})(e,["className","children","scrollDirection","autoScroll","compactScroller","enableChildrenProps","onScroll","onScrollPositionChange","forwardedRef","smoothScroll","restoreScroll","smoothScrollDuration","scrollTop","scrollLeft","isScrollingTimeout","onScrollToUpdate","onScrollToComplete"]);return a.createElement("div",y({className:i()(t,d.scroller,d[r],s&&d.auto,l&&d.compactScroller),ref:this._scrollerRef,onScroll:g?this.onScroll:u},C),c?(0,o.Z)(n,(e=>a.cloneElement(e,{isScrolling:this.state.isScrolling,scrollTop:this._currentScrollTop,scrollLeft:this._currentScrollLeft}))):n)}}v.defaultProps={scrollDirection:l.yZ,autoScroll:!1,smoothScroll:!0,restoreScroll:!1,smoothScrollDuration:400,enableChildrenProps:!1,isScrollingTimeout:100};const f=a.forwardRef(((e,t)=>a.createElement(v,y(y({},e),{forwardedRef:t}))))},53757:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(94184),i=n.n(r),s=n(67294),a=n(82378),o=n(79481);const l={spinner:"Spinner-spinner-1mPhN9 spin-spin-34xiUE",spinnerContainer:"Spinner-spinnerContainer-1oxwSP",spinnerLabel:"Spinner-spinnerLabel-qlqIO2",small:"Spinner-small-3s8cmG Spinner-spinner-1mPhN9 spin-spin-34xiUE",medium:"Spinner-medium-3-DcQf Spinner-spinner-1mPhN9 spin-spin-34xiUE",large:"Spinner-large-3sSdVM Spinner-spinner-1mPhN9 spin-spin-34xiUE"};function c({className:e,containerClassName:t,labelClassName:n,size:r,color:a,label:o,loadingLabel:c}){const d=i()(e,l[r]),u={borderTopColor:a,borderLeftColor:a};return o?s.createElement("div",{className:i()(t,l.spinnerContainer)},s.createElement("div",{className:d,style:u}),s.createElement("div",{className:i()(n,l.spinnerLabel)},o)):s.createElement("div",{className:d,style:u,"aria-label":c})}c.defaultProps={size:a.M2,color:o.Z.primaryColor};const d=c},22745:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(94184),i=n.n(r),s=n(67294),a=n(60528),o=n(82378),l=n(6103);const c={button:"Button-button-38SEbM Link-link-CM9nxg",default:"Button-default-1LDuq5",primary:"Button-primary-2JB1HU",success:"Button-success-2Q9qWa",danger:"Button-danger-LWWoC9",dark:"Button-dark-2gIrTJ",small:"Button-small-2tvX76",medium:"Button-medium-34fiRW",large:"Button-large-2XkHQ6"};var d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const g=function(e){var t=e,{className:n,children:r,kind:d=a.TP,size:g=o.M2}=t,y=((e,t)=>{var n={};for(var r in e)u.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&p)for(var r of p(e))t.indexOf(r)<0&&m.call(e,r)&&(n[r]=e[r]);return n})(t,["className","children","kind","size"]);return s.createElement(l.Z,((e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e})({className:i()(n,c.button,d&&c[d],g&&c[g])},y),r)}},59145:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(94184),i=n.n(r),s=n(67294),a=n(91995),o=n(6103),l=n(21914),c=n(82378);const d={disclosureArrowButton:"DisclosureArrowButton-disclosureArrowButton-17hnir Link-link-CM9nxg",isSelected:"DisclosureArrowButton-isSelected-2ebs5E",small:"DisclosureArrowButton-small-2ilZLy",medium:"DisclosureArrowButton-medium-3V4GGe",large:"DisclosureArrowButton-large-JUvI6I",disclosureArrow:"DisclosureArrowButton-disclosureArrow-1B0C1q DisclosureArrow-disclosureArrow-1jttuj",down:"DisclosureArrowButton-down-3TqLQQ",left:"DisclosureArrowButton-left-1OrWqI",up:"DisclosureArrowButton-up-2ZqhEw",right:"DisclosureArrowButton-right-1omVe8"};var u=Object.defineProperty,p=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class y extends s.Component{render(){const e=this.props,{className:t,arrowClassName:n,children:r,direction:l,kind:u,size:y,isSelected:v}=e,f=((e,t)=>{var n={};for(var r in e)p.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&m)for(var r of m(e))t.indexOf(r)<0&&h.call(e,r)&&(n[r]=e[r]);return n})(e,["className","arrowClassName","children","direction","kind","size","isSelected"]),b=y||c.M2;return s.createElement(o.Z,((e,t)=>{for(var n in t||(t={}))p.call(t,n)&&g(e,n,t[n]);if(m)for(var n of m(t))h.call(t,n)&&g(e,n,t[n]);return e})({className:i()(t,d[b],v&&d.isSelected),"aria-haspopup":!0,kind:u,size:y,isSelected:v},f),r,s.createElement(a.Z,{className:i()(n,d[l],d[b]),direction:l,kind:u,size:b,isSelected:v}))}}y.defaultProps={className:d.disclosureArrowButton,arrowClassName:d.disclosureArrow,direction:l.WV,isSelected:!0};const v=y},27028:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(94184),i=n.n(r),s=n(67294),a=(n(11133),n(6103));var o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function p(e){const t=e,{className:n,iconComponent:r,iconClassName:o,activeClassName:p,disabledClassName:m,isDisabled:h,isActive:g,label:y,labelClassName:v,title:f,ariaLabel:b,children:S}=t,I=((e,t)=>{var n={};for(var r in e)l.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&c)for(var r of c(e))t.indexOf(r)<0&&d.call(e,r)&&(n[r]=e[r]);return n})(t,["className","iconComponent","iconClassName","activeClassName","disabledClassName","isDisabled","isActive","label","labelClassName","title","ariaLabel","children"]),Z=b||f;return s.createElement(a.Z,((e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e})({className:i()(n,h&&m,g&&p),isDisabled:h,"aria-label":Z,title:f},I),s.createElement(r,{className:o}),y?s.createElement("span",{className:v},y):null,S)}p.defaultProps={className:"IconButton-button-llQ1So",activeClassName:"IconButton-isActive-3E_SWm",disabledClassName:"IconButton-isDisabled-1_Hweq",labelClassName:"IconButton-label-1nY56v",isDisabled:!1};const m=p},6103:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var r=n(94184),i=n.n(r),s=n(67294),a=n(60495);n(11133);const o=null;function l(){const e=document.activeElement;return e&&e.dataset&&e.dataset.uid||o}var c=n(53851),d=n(86382),u=n(60528),p=n(47636);const m={link:"Link-link-CM9nxg",default:"Link-default-1mYhCE",primary:"Link-primary-3D9Pdw",success:"Link-success-1rrYYX",danger:"Link-danger-2EQx3j",dark:"Link-dark-8V3Nfo",small:"Link-small-1FbGoo",medium:"Link-medium-2N04ou",large:"Link-large-M8bRuN",isSelected:"Link-isSelected-1hxmpf"};var h=Object.defineProperty,g=Object.prototype.hasOwnProperty,y=Object.getOwnPropertySymbols,v=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b=(e,t)=>{for(var n in t||(t={}))g.call(t,n)&&f(e,n,t[n]);if(y)for(var n of y(t))v.call(t,n)&&f(e,n,t[n]);return e};let S=o;a.Z&&window.addEventListener("blur",(()=>{S=l()}));class I extends s.Component{constructor(e,t){super(e,t),this.onTouchStart=e=>{this._isTouch=!0,this._preventFocus=this._shouldPreventFocus(),1===e.touches.length&&this._activate(!0),this.props.onTouchStart&&this.props.onTouchStart(e)},this.onTouchMove=e=>{this._activate(!1),this.props.onTouchMove&&this.props.onTouchMove(e)},this.onTouchEnd=e=>{const{to:t,target:n,isDisabled:r,onTouchEnd:i}=this.props;this._isActive&&!r&&(!t||n&&"_self"!==n||(e.preventDefault(),window.location.href=t),this._press(e)),this._activate(!1),i&&i(e)},this.onTouchCancel=e=>{this._isTouch=!1,this._activate(!1),this.props.onTouchCancel&&this.props.onTouchCancel(e)},this.onMouseDown=e=>{this._isTouch||(this._preventFocus=this._shouldPreventFocus(),0===e.button&&this._activate(!0),this.props.onMouseDown&&this.props.onMouseDown(e))},this.onMouseUp=e=>{if(this._isTouch)return;const{isDisabled:t,onMouseUp:n}=this.props;this._isActive&&!t&&(this._press(e),this._preventOnClick=!0),this._activate(!1),n&&n(e)},this.onMouseLeave=e=>{this._isTouch||(this._isActive&&this.setState({isActive:!1}),this.props.onMouseLeave&&this.props.onMouseLeave(e))},this.onClick=e=>{this._preventFocus=!1;const{isDisabled:t}=this.props;this._preventOnClick||this._isTouch||this._isActive||!this._isFocused||t||this._press(e),this._preventOnClick=!1,this._isTouch=!1},this.onFocus=e=>{this._preventFocus?this._preventFocus=!1:this._uid!==S?(this._focus(!0),this.props.onFocus&&this.props.onFocus(e)):S=o},this.onBlur=e=>{this._focus(!1),this.props.onBlur&&this.props.onBlur(e)},this._preventFocus=!1,this._preventOnClick=!1,this._isTouch=!1,this._isActive=!1,this._isFocused=!1,this._uid=(0,c.Z)(),this.state={isActive:!1,isFocused:!1},this._ref=s.createRef()}componentDidMount(){!this.props.isDisabled&&this.props.focusOnEnabled&&this._ref.current.focus()}shouldComponentUpdate(e,t){return(0,p.Z)(this,e,t)}componentDidUpdate(e){const t=this.props.focusOnEnabled&&!this.props.isDisabled,n=e.focusOnEnabled&&!e.isDisabled;t&&!n&&this._ref.current.focus()}_activate(e){this._isActive=e,this.setState({isActive:e})}_focus(e){this._isFocused=e,this.setState({isFocused:e})}_shouldPreventFocus(){return!this.props.allowFocusOnPress&&!(l()===this._uid)}_press(e){const{onPress:t}=this.props;t&&t(e)}render(){const e=this.props,{className:t,to:n,kind:r,size:a,isSelected:o,isDisabled:l,component:c,allowFocusOnPress:u,role:p,focusOnEnabled:h,onPress:f}=e,S=((e,t)=>{var n={};for(var r in e)g.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&y)for(var r of y(e))t.indexOf(r)<0&&v.call(e,r)&&(n[r]=e[r]);return n})(e,["className","to","kind","size","isSelected","isDisabled","component","allowFocusOnPress","role","focusOnEnabled","onPress"]),{isActive:I,isFocused:Z}=this.state,P={"data-uid":this._uid};let E=c;return n&&(E="a",P.href=n),P.role=p||(n?"link":"button"),P.className=i()(t,m.link,m[r],a&&m[a],o&&m.isSelected,I&&d.lW,Z&&d.GZ,l&&d.Pv),"button"!==E&&"input"!==E||(P.type=S.type||"button",P.disabled=l),E?s.createElement(E,b(b(b({},S),P),{ref:this._ref,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchCancel,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseLeave:this.onMouseLeave,onClick:this.onClick,onFocus:this.onFocus,onBlur:this.onBlur})):null}}I.defaultProps={component:"button",kind:u.TP,isSelected:!1,isDisabled:!1,allowFocusOnPress:!1};const Z=I},69679:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(94184),i=n.n(r),s=n(67294),a=n(53757),o=n(82378),l=n(79481),c=n(22745);var d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function g(e){var t=e,{children:n,className:r,loadingLabel:o,spinnerSize:l,spinnerColor:d,isDisabled:g,isSpinning:y}=t,v=((e,t)=>{var n={};for(var r in e)u.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&p)for(var r of p(e))t.indexOf(r)<0&&m.call(e,r)&&(n[r]=e[r]);return n})(t,["children","className","loadingLabel","spinnerSize","spinnerColor","isDisabled","isSpinning"]);return s.createElement(c.Z,((e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e})({className:i()(r,"SpinnerButton-button-SzW9Jq Button-button-38SEbM Link-link-CM9nxg",y&&"SpinnerButton-isSpinning-1rHgxP"),isDisabled:g||y},v),s.createElement("span",{className:"SpinnerButton-spinnerContainer-1RSsiQ"},s.createElement(a.Z,{className:"SpinnerButton-spinner-lIy7B2 Spinner-spinner-1mPhN9 spin-spin-34xiUE",color:d,loadingLabel:o,size:l})),s.createElement("span",{className:"SpinnerButton-label-37DW_M"},n))}g.defaultProps={isDisabled:!1,isSpinning:!1,spinnerSize:o.HC,spinnerColor:l.Z.defaultColor};const y=g},20723:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(94184),i=n.n(r),s=n(67294),a=n(82378);const o={input:"CheckInput-input-3u8_kT",label:"CheckInput-label-3NzSDF",small:"CheckInput-small-qldck3",large:"CheckInput-large-351BjP",isDisabled:"CheckInput-isDisabled-3geUjY",hasError:"CheckInput-hasError-2nONwa"};var l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};class h extends s.Component{constructor(e,t){super(e,t),this.setRef=e=>{this._checkbox=e},this.onChange=e=>{const t=e.target.checked?this.props.checkedValue:this.props.uncheckedValue;this.props.value!==t&&this.props.onChange(t)},this._checkbox=null}componentDidMount(){this.setIndeterminate()}componentDidUpdate(){this.setIndeterminate()}setIndeterminate(){if(!this._checkbox)return;const{value:e,uncheckedValue:t,checkedValue:n}=this.props;this._checkbox.indeterminate=e!==t&&e!==n}render(){const e=this.props,{className:t,inputClassName:n,errorClassName:r,disabledClassName:a,isDisabled:l,size:p,checkboxText:h,name:g,initialValue:y,value:v,checkedValue:f,uncheckedValue:b,showErrors:S,hasError:I,errors:Z,validations:P}=e,E=((e,t)=>{var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&d)for(var r of d(e))t.indexOf(r)<0&&u.call(e,r)&&(n[r]=e[r]);return n})(e,["className","inputClassName","errorClassName","disabledClassName","isDisabled","size","checkboxText","name","initialValue","value","checkedValue","uncheckedValue","showErrors","hasError","errors","validations"]);return s.createElement("label",{className:i()(t,o[p],l&&a,I&&r),htmlFor:g},s.createElement("input",m(m({},E),{id:g,type:"checkbox",disabled:l,className:n,checked:v===f,ref:this.setRef,onChange:this.onChange})),h)}}h.defaultProps={className:o.label,inputClassName:o.input,errorClassName:o.hasError,disabledClassName:o.isDisabled,isDisabled:!1,size:a.ln,uncheckedValue:!1,checkedValue:!0,value:!1,hasError:!1};const g=h},66842:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(67294),i=n(20723),s=n(48663),a=n(72761),o=n(26955),l=n(51221),c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function h(e){var t=e,{formGroupClassName:n,labelText:l,checkboxText:c,helpText:h,showErrors:g,errors:y}=t,v=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(t,["formGroupClassName","labelText","checkboxText","helpText","showErrors","errors"]);const[f]=y;return r.createElement(s.Z,{className:n},l?r.createElement(o.Z,null,l):null,r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e})({hasError:g,checkboxText:r.createElement("span",null,c,g&&f?` — ${f}`:null)},v)),h?r.createElement(a.Z,null,h):null)}h.defaultProps={showErrors:!1,errors:[]};const g=(0,l.Z)(h)},37084:(e,t,n)=>{"use strict";n.d(t,{Nw:()=>b,ZP:()=>Z});var r=n(67294),i=n(40111),s=n(13469),a=n.n(s),o=n(40807),l=n(43478),c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e};const g="CHANGE",y="REPLACE_STATE",v="RESET",f="SHOW_ERRORS",b={change:(0,o.Z)(g),replaceState:(0,o.Z)(y),reset:(0,o.Z)(v),showErrors:(0,o.Z)(f)};function S(e={},{type:t,payload:n}){switch(t){case g:{const{name:t,change:r}=n;if(null==r){const n=h({},e);return delete n[t],n}return h(h({},e),{[t]:r})}case y:return n;case v:return{};case f:return a().mapObject(e,(e=>h(h({},e),{showErrors:0!==e.errors.length})));default:return e}}class I extends r.Component{constructor(e,t){super(e,t),this.onFormStoreChange=()=>{const e=this.store.getState();e!==this.prevState&&(this.prevState=e,this.props.onChange(e))},this.onSubmit=e=>{e.preventDefault(),e.nativeEvent.preventDefault();const t=this.store.getState();if(a().some(t,((e,t)=>0!==e.errors.length)))this.actions.showErrors();else{const e=a().mapObject(t,((e,t)=>e.value));this.props.onSubmit(e,t)}},this.store=(0,i.MT)(S),this.prevState=this.store.getState(),this.actions=(0,i.DE)(b,this.store.dispatch)}getChildContext(){return{formStore:this.store}}UNSAFE_componentWillMount(){this.unsubscribe=this.store.subscribe(this.onFormStoreChange)}UNSAFE_componentWillReceiveProps(e){e.formState&&this.store.getState()!==e.formState&&this.actions.replaceState(e.formState)}componentWillUnmount(){this.unsubscribe&&(this.unsubscribe(),this.store.replaceReducer((e=>e)))}render(){const e=this.props,{children:t,formState:n,onChange:i}=e,s=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(e,["children","formState","onChange"]);return r.createElement("form",h(h({},s),{onSubmit:this.onSubmit}),t)}}I.childContextTypes={formStore:l.Z},I.defaultProps={onSubmit(){},onChange(){}};const Z=I},48663:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),i=Object.defineProperty,s=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function c(e){var t=e,{children:n}=t,i=((e,t)=>{var n={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&a)for(var r of a(e))t.indexOf(r)<0&&o.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);return r.createElement("div",((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(a)for(var n of a(t))o.call(t,n)&&l(e,n,t[n]);return e})({},i),n)}c.defaultProps={className:"FormGroup-group-21DkSi"};const d=c},72761:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=Object.defineProperty,s=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(a)for(var n of a(t))o.call(t,n)&&l(e,n,t[n]);return e};function d(e){var t=e,{children:n,className:i}=t,l=((e,t)=>{var n={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&a)for(var r of a(e))t.indexOf(r)<0&&o.call(e,r)&&(n[r]=e[r]);return n})(t,["children","className"]);return r.createElement("p",c(c({},l),{className:i}),n)}d.defaultProps={className:"FormHelp-help-5U-58f"};const u=d},26955:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(94184),i=n.n(r),s=n(67294);var a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};function p(e){var t=e,{children:n,className:r,errorClassName:a,name:d,hasError:p}=t,m=((e,t)=>{var n={};for(var r in e)o.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&l)for(var r of l(e))t.indexOf(r)<0&&c.call(e,r)&&(n[r]=e[r]);return n})(t,["children","className","errorClassName","name","hasError"]);return s.createElement("label",u(u({},m),{className:i()(r,p&&a),htmlFor:d}),n)}p.defaultProps={className:"FormLabel-label-lDFbdu",errorClassName:"FormLabel-hasError-y9rVjj"};const m=p},45558:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),i=n(26955);const s=function(e){const{className:t,name:n,labelText:s,showErrors:a,errors:o}=e,[l]=o;return r.createElement(i.Z,{className:t,hasError:a,name:n},s,a&&l?` — ${l}`:null)}},18246:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(94184),i=n.n(r),s=n(67294),a=n(13469),o=n.n(a),l=n(82378);const c={input:"SelectInput-input-_K0kCK input-input-3msd1_",small:"SelectInput-small-11vHiq input-small-1IgBjD",select:"SelectInput-select-2ofdp2",large:"SelectInput-large-339qCt input-large-2wH5qf",isDisabled:"SelectInput-isDisabled-AVeFvt",hasError:"SelectInput-hasError-19P4UM"};var d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e};class y extends s.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onChange(e.target.value)}}render(){const e=this.props,{className:t,errorClassName:n,disabledClassName:r,isDisabled:a,size:l,name:d,initialValue:h,value:y,values:v,hasError:f,errors:b,validations:S}=e,I=((e,t)=>{var n={};for(var r in e)u.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&p)for(var r of p(e))t.indexOf(r)<0&&m.call(e,r)&&(n[r]=e[r]);return n})(e,["className","errorClassName","disabledClassName","isDisabled","size","name","initialValue","value","values","hasError","errors","validations"]);return s.createElement("div",{className:i()(t,c[l],a&&r,f&&n)},s.createElement("select",g(g({},I),{disabled:a,className:c.select,id:d,name:d,value:y,onChange:this.onChange}),v.map(((e,t)=>{if(o().isString(e))return s.createElement("option",{key:t,value:e},e);const[n]=o().keys(e);return s.createElement("option",{key:t,value:n},o().result(e,n))}))))}}y.defaultProps={className:c.input,errorClassName:c.hasError,disabledClassName:c.isDisabled,isDisabled:!1,size:l.ln,hasError:!1};const v=y},38035:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(67294),i=n(48663),s=n(72761),a=n(45558),o=n(18246),l=n(51221),c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const h=(0,l.Z)((function(e){var t=e,{formGroupClassName:n,formLabelClassName:l,name:c,labelText:h,helpText:g,showErrors:y,errors:v}=t,f=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(t,["formGroupClassName","formLabelClassName","name","labelText","helpText","showErrors","errors"]);return r.createElement(i.Z,{className:n},r.createElement(a.Z,{className:l,showErrors:y,errors:v,name:c,labelText:h}),r.createElement(o.Z,((e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e})({name:c,hasError:y},f)),g?r.createElement(s.Z,null,g):null)}))},99085:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(94184),i=n.n(r),s=n(67294),a=n(82378);const o={input:"TextInput-input-16EbOL input-input-3msd1_",small:"TextInput-small-1AIR7D input-small-1IgBjD",large:"TextInput-large-2C-yIr input-large-2wH5qf",isDisabled:"TextInput-isDisabled-vLRcmz input-isDisabled-3xoo6r",hasError:"TextInput-hasError-3DTDrH input-hasError-2b8Ur9"};var l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};class h extends s.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onChange(e.target.value)},this.onFocus=()=>{this._select()},this.onRef=e=>{this.inputElement=e}}componentDidMount(){this.props.focusOnMount&&(this.inputElement.focus(),this._select())}_select(){if(this.inputElement&&this.props.selectTextOnFocus){const e=this.inputElement.value,t=e?e.length:0;this.inputElement.selectionStart=0,this.inputElement.selectionEnd=t}}render(){const e=this.props,{className:t,errorClassName:n,disabledClassName:r,isDisabled:a,initialValue:l,value:p,size:h,type:g,name:y,placeholder:v,hasError:f,errors:b,validations:S,focusOnMount:I,selectTextOnFocus:Z}=e,P=((e,t)=>{var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&d)for(var r of d(e))t.indexOf(r)<0&&u.call(e,r)&&(n[r]=e[r]);return n})(e,["className","errorClassName","disabledClassName","isDisabled","initialValue","value","size","type","name","placeholder","hasError","errors","validations","focusOnMount","selectTextOnFocus"]);return s.createElement("input",m(m({},P),{id:y,name:y,type:g,disabled:a,value:p,placeholder:v,className:i()(t,o[h],a&&r,f&&n),ref:I?this.onRef:null,onChange:this.onChange,onFocus:this.onFocus}))}}h.defaultProps={className:o.input,errorClassName:o.hasError,disabledClassName:o.isDisabled,isDisabled:!1,size:a.ln,type:"text",hasError:!1,focusOnMount:!1,selectTextOnFocus:!1};const g=h},8030:(e,t,n)=>{"use strict";n.d(t,{W:()=>h,Z:()=>g});var r=n(67294),i=n(48663),s=n(72761),a=n(45558),o=n(99085),l=n(51221),c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function h(e){var t=e,{formGroupClassName:n,formLabelClassName:l,name:c,labelText:h,helpText:g,showErrors:y,errors:v,children:f}=t,b=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(t,["formGroupClassName","formLabelClassName","name","labelText","helpText","showErrors","errors","children"]);return r.createElement(i.Z,{className:n},f,r.createElement(a.Z,{className:l,showErrors:y,errors:v,name:c,labelText:h}),r.createElement(o.Z,((e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e})({name:c,hasError:y},b)),g?r.createElement(s.Z,null,g):null)}h.defaultProps={errors:[]};const g=(0,l.Z)(h)},51221:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(67294),i=n(40111),s=n(13469),a=n.n(s),o=(n(11133),n(87769)),l=n(9119),c=n(48494),d=n(43478),u=n(81324),p=n(47636),m=n(37084),h=Object.defineProperty,g=Object.prototype.hasOwnProperty,y=Object.getOwnPropertySymbols,v=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b=(e,t)=>{for(var n in t||(t={}))g.call(t,n)&&f(e,n,t[n]);if(y)for(var n of y(t))v.call(t,n)&&f(e,n,t[n]);return e};function S(e){var t;const n=`FormInput(${(0,c.Z)(e)})`;return(t=class extends r.Component{constructor(e,t){super(e,t),this.onFormStoreChange=()=>{const{name:e}=this.props,t=this.store.getState(),n=t[e];n||this.initializeInputState(this.props),(0,u.Z)(t,this.previousFormState)||(this.previousFormState=t,this.handleStateChange(this.props)),this.state!==n&&null!=n&&this.setState(n)},this.onChange=e=>{const{transformValue:t}=this.props;this.handleStateChange(this.props,t?t(e):e)},this.onBlur=()=>{if(this.hasBlurred)return;this.hasBlurred=!0;const e=this.store.getState(),{name:t}=this.props,n=e[t],r=this.calculateErrors(n.value,e,this.props);this.actions.change({name:t,change:b(b({},n),{errors:r,showErrors:0!==r.length})})},this.store=t.formStore,this.actions=(0,i.DE)(m.Nw,this.store.dispatch),this.state=null,this.hasBlurred=!1}UNSAFE_componentWillMount(){this.previousFormState=this.store.getState(),this.unsubscribe=this.store.subscribe(this.onFormStoreChange),this.initializeInputState(this.props)}UNSAFE_componentWillReceiveProps(e){(0,o.Z)(e.initialValue)&&(0,o.Z)(this.props.initialValue)?(0,u.Z)(e.initialValue,this.props.initialValue)||this.handleStateChange(e,e.initialValue):a().isEqual(e.initialValue,this.props.initialValue)||this.handleStateChange(e,e.initialValue)}shouldComponentUpdate(e,t){return(0,p.Z)(this,e,t)}componentWillUnmount(){const{name:e}=this.props;this.unsubscribe&&this.unsubscribe(),this.actions.change({name:e,change:null})}initializeInputState(e){const{name:t,initialValue:n}=e,r=this.store.getState();r[t]={errors:this.calculateErrors(n,r,e),showErrors:!1,value:n},this.actions.replaceState(r)}handleStateChange(e,t){const n=this.store.getState(),{name:r}=e,i=n[r],s=Array.isArray(t)||null!=t?t:i.value,o=this.calculateErrors(s,n,e);a().isEqual(i.value,s)&&a().isEqual(i.errors,o)||this.actions.change({name:r,change:{errors:o,showErrors:this.hasBlurred&&0!==o.length,value:s}})}calculateErrors(e,t,n){const{validations:r}=n;return r.map((n=>n(e,t))).filter((e=>null!=e))}render(){const t=this.props,{validations:n,errors:i,transformValue:s,onChange:a}=t,o=((e,t)=>{var n={};for(var r in e)g.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&y)for(var r of y(e))t.indexOf(r)<0&&v.call(e,r)&&(n[r]=e[r]);return n})(t,["validations","errors","transformValue","onChange"]);if(!this.state)return null;const c=i.length>0,{value:d,errors:u,showErrors:p}=this.state;return r.createElement(e,b(b({},o),{showErrors:!!c||p,errors:c?i:u,value:d,onChange:(0,l.Z)(this.onChange,a),onBlur:this.onBlur}))}}).displayName=n,t.contextTypes={formStore:d.Z},t.defaultProps={validations:[],errors:[]},t.WrappedComponent=e,t}},41859:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),i=n(59145),s=n(6103),a=n(21914);var o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class p extends r.Component{render(){const e=this.props,{linkClassName:t,buttonClassName:n,children:o,to:p,hasMenu:m,isMenuOpen:h,isSelected:g,isDisabled:y}=e,v=((e,t)=>{var n={};for(var r in e)l.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&c)for(var r of c(e))t.indexOf(r)<0&&d.call(e,r)&&(n[r]=e[r]);return n})(e,["linkClassName","buttonClassName","children","to","hasMenu","isMenuOpen","isSelected","isDisabled"]);return m||p?m?r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e})({className:n,"data-qa-id":"typeDropdownButton",isSelected:g,isDisabled:y,direction:h?a.UP:a.WV},v),o):r.createElement(s.Z,{className:t,to:p,isDisabled:y},o):r.createElement("span",{className:t},o)}}p.defaultProps={linkClassName:"PageHeaderBreadcrumbButton-link-1aBnTB",buttonClassName:"PageHeaderBreadcrumbButton-button-1YnxpE DisclosureArrowButton-disclosureArrowButton-17hnir Link-link-CM9nxg",hasMenu:!1,isMenuOpen:!1,isSelected:!1,isDisabled:!1};const m=p},24351:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294);function i({className:e,children:t}){return r.createElement("div",{className:e},t)}i.defaultProps={className:"PageHeaderLeft-pageHeaderLeft-9C90MD"};const s=i},50948:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294);function i({className:e,children:t}){return r.createElement("div",{className:e},t)}i.defaultProps={className:"PageHeaderRight-pageHeaderRight-3GGu6G"};const s=i},5011:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294),i=n(28670),s=n(51343),a=n(69881);const o=function({className:e,type:t}){return(0,a.isDirectoryType)(t)?r.createElement(i.Z,{className:e}):r.createElement(s.Z,{className:e})}},52974:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=Object.defineProperty,s=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(a)for(var n of a(t))o.call(t,n)&&l(e,n,t[n]);return e};function d(e){const{className:t,style:n,src:i,width:s,height:a,backgroundSize:o,backgroundPosition:l,backgroundRepeat:d}=e;return r.createElement("div",{className:t,style:c({width:s,height:a,backgroundImage:`url(${i})`,backgroundSize:o,backgroundPosition:l,backgroundRepeat:d},n)})}d.defaultProps={backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};const u=d},37568:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(94184),i=n.n(r),s=n(67294),a=n(19210),o=n(32129),l=n(52974);var c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e};function g(e,t,n){const{className:r,style:s,styleProps:a,durationMilliseconds:o,useCrossFade:l}=n,c=document.createElement("div");c.className=i()(r,l&&"CrossFadeImage-crossFade-1i8uNg"),Object.assign(c.style,h(h({position:"absolute",animationDuration:o+"ms",backgroundImage:`url(${e})`,width:"100%",height:"100%"},a),s)),t.appendChild(c)}function y(e){const{className:t,style:n,containerClassName:r,containerStyle:i,src:a,width:o,height:l,backgroundSize:c,backgroundPosition:d,backgroundRepeat:u,animateOnMount:p,disableCrossFade:m,durationMilliseconds:y}=e,v=(0,s.useRef)(null),f=(0,s.useRef)(!0),b=h({position:"relative",width:o,height:l},i);return(0,s.useLayoutEffect)((()=>{const e=f.current;f.current=!1;const r={className:t,style:n,styleProps:{backgroundSize:c,backgroundPosition:d,backgroundRepeat:u},durationMilliseconds:y,useCrossFade:!e||p};let i,s;return m&&(r.useCrossFade=!1),e?g(a,v.current,r):i=window.requestAnimationFrame((()=>{i=null,g(a,v.current,r),s=window.setTimeout((()=>{for(;v.current.childNodes.length>1;)(e=v.current).removeChild(e.childNodes[0]);var e}),2*y)})),()=>{i&&window.cancelAnimationFrame(i),s&&window.clearTimeout(s)}}),[t,n,a,c,d,u]),s.createElement("div",{className:r,style:b,ref:v})}y.defaultProps=h(h({},l.Z.defaultProps),{animateOnMount:!0,disableCrossFade:!1,durationMilliseconds:(0,a.Z)(o.Z.slowSpeed)});const v=y},57576:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),i=n(52974),s=Object.defineProperty,a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e};function u(e){e&&(e.onload=e.onabort=e.onerror=void 0)}function p(e){const t=e,{src:n,emptySrc:i,component:s,preloadOnMount:c,onLoad:p,onError:m}=t,h=((e,t)=>{var n={};for(var r in e)a.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&o)for(var r of o(e))t.indexOf(r)<0&&l.call(e,r)&&(n[r]=e[r]);return n})(t,["src","emptySrc","component","preloadOnMount","onLoad","onError"]),[g,y]=(0,r.useState)(c?null:n),[v,f]=(0,r.useState)(null),b=(0,r.useRef)(c);return(0,r.useEffect)((()=>{if(!b.current)return void(b.current=!0);if(!n)return;let e=new window.Image;return e.onload=()=>{e=u(e),y(n),f(null)},e.onabort=e.onerror=()=>{e=u(e),y(null),f(new Error(`Unable to load ${n}`))},e.src=n,()=>{e=u(e)}}),[n]),(0,r.useEffect)((()=>{!n&&g&&y(null)}),[g,n]),(0,r.useEffect)((()=>{g&&p&&p(g)}),[g,p]),(0,r.useEffect)((()=>{v&&m&&m(v)}),[v,m]),r.createElement(s,d(d({},h),{src:g||i}))}p.defaultProps={emptySrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",component:i.Z,preloadOnMount:!0};const m=p},6483:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>E});var r=n(19755),i=n.n(r),s=n(67294),a=n(2938),o=n(43108),l=n(40133),c=(n(11133),n(15633)),d=n(84936),u=n(57576),p=Object.defineProperty,m=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))m.call(t,n)&&y(e,n,t[n]);if(h)for(var n of h(t))g.call(t,n)&&y(e,n,t[n]);return e};const f=new a.Z,b={},S={},I=[l.EU,l.yy,l.it,l.bS,l.Rr,l.Ko,l.ES,l.oP].sort(((e,t)=>Z(e)-Z(t)));function Z(e){if(S.hasOwnProperty(e))return S[e];const t=e.split("-")[1];return S[e]=t,t}function P(e){const t=e,{url:n,minSize:r,format:a,quality:l,upscale:p,filters:y,allowPixelRatioSize:S,allowImageBlobs:P,supportsSize:E,onError:M}=t,C=((e,t)=>{var n={};for(var r in e)m.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&h)for(var r of h(e))t.indexOf(r)<0&&g.call(e,r)&&(n[r]=e[r]);return n})(t,["url","minSize","format","quality","upscale","filters","allowPixelRatioSize","allowImageBlobs","supportsSize","onError"]),w=function(e,t){if(!e)return;const n=Object.assign(function(e){const t=e.allowPixelRatioSize?(0,o.Z)():1,n=e.size||function(e){if(b.hasOwnProperty(e))return b[e];const t=I.find((t=>Z(t)>=e))||I[I.length-1];return b[e]=t,t}(e.width);if(e.supportsSize)return{size:n,scale:Math.ceil(t)};{const r=Z(n),i=e.height/e.width;return{width:Math.ceil(r*t),height:Math.ceil(i*r*t),minSize:e.minSize?1:void 0,upscale:e.upscale?1:void 0}}}(t),t.filters);t.format&&(n.format=t.format),t.quality&&(n.quality=t.quality);const r=e.indexOf("?");let i=e;return r>-1?(i=d.Z.join(e.substring(0,r),n),i+=-1===i.indexOf("?")?"?":"&",i+=e.substring(r+1)):i=d.Z.join(i,n),i}(n,e);let D,T;w&&P&&(D=f.getBlobUrl(w),D||(T=f.getPlaceholder(w)));const[O,x]=(0,s.useState)(D||T||(P?null:w)),A=(0,s.useRef)(!1);return(0,s.useEffect)((()=>{if(A.current&&(A.current=!1,null==O))return void(M&&M());let e;return D?O!==D&&x(D):w&&P?(e=function(e){const t=i().Deferred(),n={cancelable:(0,c.Z)(t.promise()),xhr:null},r=new window.XMLHttpRequest;return r.open("GET",e,!0),r.responseType="arraybuffer",n.xhr=r,r.onreadystatechange=()=>{if(4===r.readyState)if(r.onreadystatechange=null,200===r.status){const n=new window.Blob([r.response],{type:"image/jpeg"}),i=window.URL.createObjectURL(n);f.store({url:e,blobUrl:i}),t.resolve(i)}else t.reject()},r.send(),n}(w),e.cancelable.promise.then((t=>{e=null,x(t)}),(({isCanceled:t}={})=>{t||(e=null,null===O?M&&M():(A.current=!0,x(null)))}))):x(w&&!P?w:null),()=>{e&&(e.cancelable.cancel(),e.xhr&&(e.xhr.onreadystatechange=null,e.xhr.abort()))}}),[O,w,D,P,M]),s.createElement(u.Z,v(v({},C),{src:O,onError:M}))}P.defaultProps={minSize:!0,upscale:!0,allowPixelRatioSize:!0,allowImageBlobs:!0};const E=(0,s.memo)(P)},24935:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(94184),i=n.n(r),s=n(67294),a=n(13469),o=n.n(a),l=n(86382),c=n(81324),d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e};class y extends s.Component{constructor(e,t){super(e,t),this.state=this._getListState(e),this._keyPool=function(e=""){const t=[],n={},r={};let i=0;function s(){let n;return t.length?n=t.shift():(n=e+i,i++),n}function a(e){delete n[e]}return{getKeys(e,i,l,c=0,d){o().each(n,((n,s)=>{const a=n.item;if(null===a)t.push(s);else{const n=o().isString(a)?a:a[d],u=l.indexOf(a)+c;(u<e||u>i)&&(t.push(s),delete r[n])}}));for(let t=e;t<=i;t++){const e=l[t-c]||null,i=e&&(o().isString(e)?e:e[d]);let a=e&&r[i];a||(a=s(),e&&(r[i]=a)),n[a]={index:t,item:e}}return t.forEach(a),t.length=0,o().extend({},n)}}}("cell"),this._shouldRequestPage=!1}UNSAFE_componentWillMount(){this.props.onListUpdate&&this.props.onListUpdate(this.state)}componentDidMount(){this._checkForPageRequest()}UNSAFE_componentWillReceiveProps(e){const t=this._getListState(e);(0,c.Z)(this.state,t)||this.setState(t)}shouldComponentUpdate(e,t){const n=this.props,r=this.state;return e.items!==n.items||e.size!==n.size||e.viewportWidth!==n.viewportWidth||e.viewportHeight!==n.viewportHeight||e.listTop!==n.listTop||e.listLeft!==n.listLeft||e.isScrolling!==n.isScrolling||e.skipRenderCells!==n.skipRenderCells||e.layout!==n.layout||e.cellRenderer!==n.cellRenderer||t.visibleStartIndex!==r.visibleStartIndex||t.visibleEndIndex!==r.visibleEndIndex||t.partiallyVisibleStartIndex!==r.partiallyVisibleStartIndex||t.partiallyVisibleEndIndex!==r.partiallyVisibleEndIndex||t.renderStartIndex!==r.renderStartIndex||t.renderEndIndex!==r.renderEndIndex||t.moveIndex!==r.moveIndex}UNSAFE_componentWillUpdate(e,t){this.props.onListUpdate&&t!==this.state&&this.props.onListUpdate(t)}componentDidUpdate(){this._checkForPageRequest()}_getListState(e){const t=this._getListStyle(e),n=e.layout.getLandmarks&&e.layout.getLandmarks(),r=e.layout.getRangesForPosition(e.scrollTop,e.scrollLeft,e.size);return{listStyle:t,landmarks:n,visibleStartIndex:r.visibleStartIndex,visibleEndIndex:r.visibleEndIndex,partiallyVisibleStartIndex:r.partiallyVisibleStartIndex,partiallyVisibleEndIndex:r.partiallyVisibleEndIndex,renderStartIndex:r.renderStartIndex,renderEndIndex:r.renderEndIndex,moveIndex:e.moveIndex}}_getListStyle(e){const{size:t,layout:n,viewportWidth:r,viewportHeight:i,listTop:s,listLeft:a}=e,o={viewportWidth:r,viewportHeight:i,listTop:s,listLeft:a};return n.getListStyle(o,t)}_checkForPageRequest(){const e=this.state;this._shouldRequestPage&&(this._shouldRequestPage=!1,this.props.onPageRequest({startIndex:e.renderStartIndex,endIndex:e.renderEndIndex}))}renderCells(){const{keyPropName:e,items:t,itemsOffset:n,size:r,layout:i,hasNestedList:s,viewportWidth:a,viewportHeight:l,scrollLeft:c,scrollTop:d,cellRenderer:u,isScrolling:p,onPageRequest:m}=this.props,{moveIndex:h,renderStartIndex:y,renderEndIndex:v,partiallyVisibleStartIndex:f,partiallyVisibleEndIndex:b}=this.state;if(!r)return[];let S=r>t.length&&v===t.length-1;const I=this._keyPool.getKeys(y,v,t,n,e),Z=[];return o().each(I,((n,m)=>{const y=n.index,v=n.item,I=y>=f&&y<=b,P=i.getPositionForIndex(y,r,t);(null===v||s)&&(S=!0);let E={key:m,keyPropName:e,isVirtual:!0,isVisible:I,isScrolling:p,moveIndex:h,viewportWidth:a,viewportHeight:l,cellIndex:y,cellX:P.cellX,cellY:P.cellY,cellWidth:P.cellWidth,cellHeight:P.cellHeight};s&&(E.scrollLeft=c,E.scrollTop=d),o().isString(v)?E[e]=v:E=g(g({},v),E),Z.push(u(E))})),this._shouldRequestPage=!!m&&S&&!p,Z}render(){const e=this._getListStyle(this.props),{className:t,isScrolling:n,skipRenderCells:r,children:a}=this.props;return s.createElement("div",{className:i()(t,n&&l.be),style:e},r?null:this.renderCells(),a)}}y.defaultProps={keyPropName:"entityID",items:[],itemsOffset:0,hasNestedList:!1,listTop:0,listLeft:0,isScrolling:!1,skipRenderCells:!1};const v=y},55255:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(67294),i=n(80967),s=n(45428),a=n(24935),o=n(57384),l=n(90653),c=n(47636),d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e};function y(e,t){if(t.shouldCenterCell){const n=(t.viewportDimension-t.cellDimension)/2,r=Math.round(e-n);return Math.max(r,0)}return e-(t.offset||0)}class v extends r.Component{constructor(e,t){super(e,t),this.onScrollPositionChange=({scrollTop:e,scrollLeft:t})=>{this.setState({scrollTop:e,scrollLeft:t})},this.onListUpdate=e=>{const{visibleStartIndex:t}=e,{scrollIndex:n,onListScrollIndexChange:r,onListUpdate:i}=this.props;this._currentScrollIndex=t,this.state.isRestoringScrollPosition&&this.setState({isRestoringScrollPosition:!1}),r&&n!==t&&r(t),i&&i(e)},this.onMeasure=e=>{const t=Math.round(e.width),n=Math.round(e.height),{onMeasure:r}=this.props;this.setState({isMeasured:!0,width:t,height:n}),r&&r(e)},this.state={isRestoringScrollPosition:!1,isMeasured:!1,width:null,height:null,scrollTop:0,scrollLeft:0},this._currentScrollIndex=0,e.scrollPositionStorageKey&&(this._scrollPositionKey=`${o.Z.getPageKey()}!scrollPosition!${e.scrollPositionStorageKey}`)}UNSAFE_componentWillMount(){this.props.scrollIndex||this._restoreScrollPosition()}shouldComponentUpdate(e,t){return(0,c.Z)(this,e,t)}componentDidUpdate(e,t){const{scrollIndex:n,scrollDirection:r,shouldCenterScrollIndex:i,layout:s}=this.props,{scrollLeft:a,scrollTop:o,width:c,height:d,isMeasured:u}=this.state;if(null==n||n===this._currentScrollIndex&&!i)return;const p=u&&!t.isMeasured&&n>0,m=u&&n!==e.scrollIndex,h=i!==e.shouldCenterScrollIndex;if(p||m||h){const e=function(e,t,{shouldCenterCell:n,outerPaddingLeft:r,outerPaddingTop:i,scrollerWidth:s,scrollerHeight:a}){return{scrollLeft:e===l._y?y(t.cellX,{shouldCenterCell:n,offset:r,viewportDimension:s,cellDimension:t.cellWidth}):0,scrollTop:e===l.yZ?y(t.cellY,{shouldCenterCell:n,offset:i,viewportDimension:a,cellDimension:t.cellHeight}):0}}(r,s.getPositionForIndex(Math.max(n,0)),{shouldCenterCell:i,outerPaddingLeft:s.options.outerPaddingLeft,outerPaddingTop:s.options.outerPaddingTop,scrollerWidth:c,scrollerHeight:d}),t=e.scrollLeft!==a||e.scrollTop!==o;this.setState({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,isRestoringScrollPosition:p&&t})}}componentWillUnmount(){this._scrollPositionKey&&o.Z.set(this._scrollPositionKey,{scrollTop:this.state.scrollTop,scrollLeft:this.state.scrollLeft})}_restoreScrollPosition(){if(this._scrollPositionKey){const e=o.Z.get(this._scrollPositionKey);e&&this.setState(g({isRestoringScrollPosition:!0},e))}}render(){const e=this.props,{className:t,children:n,scrollerClassName:o,virtualListClassName:l,ignoreWidth:c,ignoreHeight:d,resizeTimeout:h,scrollDirection:y,scrollIndex:v,scrollPositionStorageKey:f,smoothScroll:b,scrollerStyle:S,forwardedRef:I,onListUpdate:Z,onMeasure:P,onScroll:E}=e,M=((e,t)=>{var n={};for(var r in e)u.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&p)for(var r of p(e))t.indexOf(r)<0&&m.call(e,r)&&(n[r]=e[r]);return n})(e,["className","children","scrollerClassName","virtualListClassName","ignoreWidth","ignoreHeight","resizeTimeout","scrollDirection","scrollIndex","scrollPositionStorageKey","smoothScroll","scrollerStyle","forwardedRef","onListUpdate","onMeasure","onScroll"]),{isMeasured:C,isRestoringScrollPosition:w,width:D,height:T,scrollTop:O,scrollLeft:x}=this.state;return r.createElement(i.Z,{className:t,ignoreWidth:c,ignoreHeight:d,ignorePosition:!0,resizeTimeout:h,onMeasure:this.onMeasure},C?r.createElement(s.Z,{className:o,smoothScroll:!1!==b&&!w,scrollDirection:y,scrollTop:O,scrollLeft:x,enableChildrenProps:!0,style:S,ref:I,onScroll:E,onScrollPositionChange:this.onScrollPositionChange},r.createElement(a.Z,g({className:l,viewportWidth:D,viewportHeight:T,skipRenderCells:w,onListUpdate:this.onListUpdate},M)),n):null)}}v.defaultProps={scrollDirection:l.yZ,scrollerClassName:"VirtualListScroller-scroller-36RMyc",shouldCenterScrollIndex:!1};const f=r.forwardRef(((e,t)=>r.createElement(v,g(g({},e),{forwardedRef:t}))))},74287:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n(94184),i=n.n(r),s=n(82777),a=n(67294),o=n(61006),l=n(72566),c=n(45428),d=n(54983),u=n(52999),p=n(53851),m=n(90653),h=n(82378),g=n(47636),y=n(32129),v=n(49666),f=n(93502);const b={menuPortal:"Menu-menuPortal-15ejz7",menuScroller:"Menu-menuScroller-2QYiIo Scroller-vertical-3IY07c",menu:"Menu-menu-1qURRT",isDisabled:"Menu-isDisabled-gp7jHn",small:"Menu-small-2-td3r",medium:"Menu-medium-3P6Qcz",large:"Menu-large-3Xoqor"};var S=Object.defineProperty,I=Object.prototype.hasOwnProperty,Z=Object.getOwnPropertySymbols,P=Object.prototype.propertyIsEnumerable,E=(e,t,n)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M=(e,t)=>{for(var n in t||(t={}))I.call(t,n)&&E(e,n,t[n]);if(Z)for(var n of Z(t))P.call(t,n)&&E(e,n,t[n]);return e};const C=(0,d.Z)(y.Z.menuSpeed),w=1e3*C,D=parseInt(v.Z.menuPadding,10),T={ease:"easeOut",duration:C},O={ease:f.Z.motionEasing,duration:C},x={opacity:T,y:O,scale:O},A={preEnter:{opacity:0,y:-10,scale:.95,transition:x},enter:{opacity:1,y:0,scale:1,transition:x},exit:{opacity:0,y:10,scale:.95,transition:x}},N=[{name:"preventOverflow",enabled:!0,options:{altAxis:!0}}];function k(e){return Math.min(window.innerHeight-2*D,e.maxHeight)}class L extends a.Component{constructor(e,t){super(e,t),this.onResize=e=>{this.setState({maxHeight:k(this.props)})},this.onWindowDownPress=e=>{this._isElementContainedOrTarget(e.target)||(this._willMenuClose=!0)},this.onWindowUpPress=e=>{this._willMenuClose&&!this._isElementContainedOrTarget(e.target)&&this.props.onMenuClose(),this._willMenuClose=!1},this.onKeyDown=e=>{const t=e.keyCode;t===o.Mf?u.QE(e):t===o.hY&&(e.preventDefault(),e.stopPropagation(),this.props.onMenuClose(),u.sM())},this.state={maxHeight:k(e)},this._willMenuClose=!1,this._menuID=(0,p.Z)()}componentDidMount(){this.props.isOpen&&this._enable(),window.addEventListener("resize",this.onResize)}shouldComponentUpdate(e,t){return(0,g.Z)(this,e,t)}componentDidUpdate(e,t){const n=e.isOpen&&!e.isAutoCloseDisabled,r=this.props.isOpen&&!this.props.isAutoCloseDisabled;!n&&r?this._enable():n&&!r&&this._disable()}componentWillUnmount(){this.props.isOpen&&!this.props.isAutoCloseDisabled&&this._disable(),window.removeEventListener("resize",this.onResize)}_enable(){u.LJ(document.getElementById(this._menuID)),document.addEventListener("mousedown",this.onWindowDownPress),document.addEventListener("touchstart",this.onWindowDownPress),document.addEventListener("mouseup",this.onWindowUpPress),document.addEventListener("touchend",this.onWindowUpPress),document.addEventListener("keydown",this.onKeyDown)}_disable(){document.removeEventListener("mousedown",this.onWindowDownPress),document.removeEventListener("touchstart",this.onWindowDownPress),document.removeEventListener("mouseup",this.onWindowUpPress),document.removeEventListener("touchend",this.onWindowUpPress),document.removeEventListener("keydown",this.onKeyDown)}_isElementContainedOrTarget(e){const{target:t}=this.props,n=document.getElementById(this._menuID),r=n&&n.contains(e),i=!r&&document.getElementById(t),s=i&&i.contains(e);return r||s}render(){var e;const{children:t,className:n,portalClassName:r,target:o,options:d,isOpen:u,isDisabled:p,scrollerProps:m,size:h,onMouseEnter:g,onMouseLeave:y,onMenuCloseComplete:v}=this.props,{maxHeight:f}=this.state;return a.createElement(l.Z,{className:r,target:o,options:M(M({placement:"bottom-start"},d),{modifiers:[...N,...null!=(e=null==d?void 0:d.modifiers)?e:[]]}),isOpen:u,closeTimeoutMilliseconds:w,onClose:v},a.createElement(s.M_,null,u?a.createElement(s.ww.div,{key:"container",initial:"preEnter",animate:"enter",exit:"exit",variants:A,id:this._menuID,className:i()(n,b[h],p&&b.isDisabled),onMouseEnter:g,onMouseLeave:y},a.createElement(c.Z,M(M({},m),{style:{maxHeight:f}}),t)):null))}}L.defaultProps={className:b.menu,portalClassName:b.menuPortal,size:h.M2,maxHeight:600,isDisabled:!1,scrollerProps:{className:b.menuScroller,scrollDirection:m.yZ,autoScroll:!0}};const j=L},30426:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294);function i(e){const{className:t,children:n}=e;return r.createElement("div",{className:t},n)}i.defaultProps={className:"MenuHeader-menuHeader-3Cy7hA"};const s=i},14700:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(94184),i=n.n(r),s=n(67294),a=n(6103),o=n(60528);const l={menuItem:"MenuItem-menuItem-1P5bZr",isDisabled:"MenuItem-isDisabled-RSAp6B",isHidden:"MenuItem-isHidden-2E0-Do",default:"MenuItem-default-2WLcP-",primary:"MenuItem-primary-119xGi",success:"MenuItem-success-8hm_Zs",danger:"MenuItem-danger-rMJ8Qu"};var c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function h(e){const t=e,{className:n,children:r,kind:o,isDisabled:c,isHidden:h}=t,g=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(t,["className","children","kind","isDisabled","isHidden"]);return s.createElement(a.Z,((e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e})({className:i()(n,l.menuItem,l[o],c&&l.isDisabled,h&&l.isHidden),"data-qa-id":"dropdownItem",role:"menuitem"},g),r)}h.defaultProps={kind:o.TP,isDisabled:!1};const g=h},68105:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);const i=function(){return r.createElement("div",{className:"MenuSeparator-separator-7NTeom"})}},96508:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(67294),i=n(45697),s=n.n(i),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 473 540",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-triangle-right"};s["aria-hidden"]=!t,s.style=i,s.className=a.Z.plexIcon+(n?" "+n:"");var o=[r.createElement.apply(r,["path",{d:"M473 270L0 540V0l473 270z"}].concat([]))];return t&&o.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(o))}o.propTypes={"aria-label":s().string,className:s().string,style:s().object};const l=o;var c=n(74287),d=n(14700),u=n(53851);const p={placement:"right-start"};class m extends r.Component{constructor(e,t){super(e,t),this._openMenu=(e=!1)=>{this.wasDismissed=!1,this._updateMenu(e,!0)},this._closeMenu=(e=!1)=>{this.wasDismissed=e,this._updateMenu(e,!1)},this.onMouseEnter=()=>{this._openMenu()},this.onMouseEnterMenu=()=>{this.wasDismissed||this._openMenu()},this.onMouseLeave=()=>{this.wasDismissed||this._closeMenu()},this.onMenuClose=()=>{this._closeMenu(!0),this.props.onMenuClose()},this.onPress=()=>{this._openMenu(!0)},this.target=(0,u.Z)(),this.state={isOpen:!1},this.wasDismissed=!1}componentWillUnmount(){window.clearTimeout(this._menuTimer)}_updateMenu(e,t){window.clearTimeout(this._menuTimer),this._menuTimer=window.setTimeout((()=>{this.setState({isOpen:t})}),e?0:100)}render(){const{label:e,children:t,isDisabled:n}=this.props,{isOpen:i}=this.state;return r.createElement(r.Fragment,null,r.createElement(d.Z,{id:this.target,className:"NestedMenuItem-item-Vkbktw",isDisabled:n,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onPress:this.onPress},e,r.createElement(l,{className:"NestedMenuItem-icon-9Pf1FH"})),r.createElement(c.Z,{className:"NestedMenuItem-menu-1nueu9 Menu-menu-1qURRT",isOpen:i,target:this.target,options:p,onMouseEnter:this.onMouseEnterMenu,onMouseLeave:this.onMouseLeave,onMenuClose:this.onMenuClose},t))}}const h=m},66322:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(45697),i=n.n(r),s=n(67294),a=n(93966),o=n(9119),l=n(47636),c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e};class g extends s.Component{constructor(){super(...arguments),this.onPress=e=>{const t=this.props,{children:n}=t,r=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]),{metricsPage:i}=this.context;(0,a.DB)("metrics").trackClick(h(h({},r),{page:i}))}}shouldComponentUpdate(e,t){return(0,l.Z)(this,e,t)}render(){const e=s.Children.only(this.props.children);return s.cloneElement(e,{onPress:(0,o.Z)(this.onPress,e.props.onPress)})}}g.propTypes={children:i().element.isRequired,action:i().string.isRequired},g.contextTypes={metricsPage:i().string.isRequired};const y=g},63731:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(45697),i=n.n(r),s=n(67294),a=n(93966),o=(n(11133),n(81324)),l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t)=>{var n={};for(var r in e)l.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&c)for(var r of c(e))t.indexOf(r)<0&&d.call(e,r)&&(n[r]=e[r]);return n};class p extends s.Component{constructor(e,t){super(e,t),this.page=e.page}getChildContext(){return{metricsPage:this.page}}componentDidMount(){const e=this.props,{children:t,isDelegated:n}=e,r=u(e,["children","isDelegated"]);n||window.requestAnimationFrame((()=>{(0,a.DB)("metrics").trackView(r)}))}UNSAFE_componentWillReceiveProps(e){}componentDidUpdate(e){const t=e,{children:n,isDelegated:r}=t,i=u(t,["children","isDelegated"]),s=this.props,{children:l,isDelegated:c}=s,d=u(s,["children","isDelegated"]),p=r!==c||!(0,o.Z)(i,d);!c&&p&&(0,a.DB)("metrics").trackView(d)}render(){return this.props.children?s.Children.only(this.props.children):null}}p.childContextTypes={metricsPage:i().string.isRequired};const m=p},70182:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),i=n(45428),s=n(90653);var a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function u(e){var t=e,{children:n,className:a,innerClassName:u,scrollDirection:p}=t,m=((e,t)=>{var n={};for(var r in e)o.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&l)for(var r of l(e))t.indexOf(r)<0&&c.call(e,r)&&(n[r]=e[r]);return n})(t,["children","className","innerClassName","scrollDirection"]);const h=p!==s.Hn;return a||(a=h?"ModalBody-modalScroller-QgrvLb ModalBody-modalBody-38ercY":"ModalBody-modalBody-38ercY"),r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({className:a,scrollDirection:p,autoScroll:!0},m),h?r.createElement("div",{className:u},n):n)}u.defaultProps={innerClassName:"ModalBody-innerModalBody-1VHRyi"};const p=u},79849:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=n(32080),s=Object.defineProperty,a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function d(e){var t=e,{className:n,children:i}=t,s=((e,t)=>{var n={};for(var r in e)a.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&o)for(var r of o(e))t.indexOf(r)<0&&l.call(e,r)&&(n[r]=e[r]);return n})(t,["className","children"]);return r.createElement("div",((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e})({className:n},s),i)}d.defaultProps={className:i.Z.modalFooter};const u=d},56510:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),i=Object.defineProperty,s=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function c(e){var t=e,{children:n}=t,i=((e,t)=>{var n={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&a)for(var r of a(e))t.indexOf(r)<0&&o.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);return r.createElement("div",((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(a)for(var n of a(t))o.call(t,n)&&l(e,n,t[n]);return e})({},i),n)}c.defaultProps={className:"ModalFooterButtonBar-buttonBar-1WFNdc"};const d=c},89460:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294);var i=Object.defineProperty,s=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const c=function(e){var t=e,{children:n}=t,i=((e,t)=>{var n={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&a)for(var r of a(e))t.indexOf(r)<0&&o.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);return r.createElement("div",((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(a)for(var n of a(t))o.call(t,n)&&l(e,n,t[n]);return e})({className:"ModalHeader-modalHeader-15PhZc"},i),n)}},74091:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294);function i(e){const{className:t,children:n}=e;return r.createElement("div",{className:t},n)}i.defaultProps={className:"FullPage-container-3r7b9Z"};const s=i},16143:(e,t,n)=>{"use strict";n.d(t,{Ho:()=>s,Mf:()=>a,pN:()=>o,ZP:()=>l});var r=n(67294),i=n(5562);const s=-1,a=-1,o=-1;function l({className:e,displayIndex:t,displayTotal:n,secondsUntilAd:s}){const a=s>0&&s<=5;return t>0&&n>0?r.createElement("div",{className:e},1===n?(0,i.Z)("Ad"):(0,i.Z)("Ad {index} of {total}",{index:t,total:n})):a?r.createElement("div",{className:e},(0,i.Z)("Ad in {seconds}",{seconds:Math.round(s)})):null}},27271:(e,t,n)=>{"use strict";n.d(t,{Z:()=>B});var r=n(67294),i=n(9119),s=n(53851),a=n(47636),o=n(82777),l=n(72566),c=n(54983),d=n(66088),u=n(32129),p=n(93502);const m={tooltipPortal:"Tooltip-tooltipPortal-2Akciq",tooltip:"Tooltip-tooltip-1BlaVj",tooltipArrow:"Tooltip-tooltipArrow-3ocxiK",tooltipBottomArrow:"Tooltip-tooltipBottomArrow-3k-Ppf",tooltipTopArrow:"Tooltip-tooltipTopArrow-1LUIRT",tooltipRightArrow:"Tooltip-tooltipRightArrow-3dxwzw",tooltipLeftArrow:"Tooltip-tooltipLeftArrow-3rme9G",tooltipCenterAlignArrow:"Tooltip-tooltipCenterAlignArrow-EwxeoC",tooltipLeftAlignArrow:"Tooltip-tooltipLeftAlignArrow-2yN26l",tooltipRightAlignArrow:"Tooltip-tooltipRightAlignArrow-3zteiK",tooltipMiddleAlignArrow:"Tooltip-tooltipMiddleAlignArrow-azMD6-",topLeft:"Tooltip-topLeft-37gFtE Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipBottomArrow-3k-Ppf Tooltip-tooltipLeftAlignArrow-2yN26l",topCenter:"Tooltip-topCenter-cICpCf Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipBottomArrow-3k-Ppf Tooltip-tooltipCenterAlignArrow-EwxeoC",topRight:"Tooltip-topRight-2DbKKc Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipBottomArrow-3k-Ppf Tooltip-tooltipRightAlignArrow-3zteiK",bottomLeft:"Tooltip-bottomLeft-LvSd1t Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipTopArrow-1LUIRT Tooltip-tooltipLeftAlignArrow-2yN26l",bottomCenter:"Tooltip-bottomCenter-3I-giq Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipTopArrow-1LUIRT Tooltip-tooltipCenterAlignArrow-EwxeoC",bottomRight:"Tooltip-bottomRight-3JtyAm Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipTopArrow-1LUIRT Tooltip-tooltipRightAlignArrow-3zteiK",middleLeft:"Tooltip-middleLeft-2jQ9Rr Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipRightArrow-3dxwzw Tooltip-tooltipMiddleAlignArrow-azMD6-",middleRight:"Tooltip-middleRight-s8CfUe Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipLeftArrow-3rme9G Tooltip-tooltipMiddleAlignArrow-azMD6-"};var h=Object.defineProperty,g=Object.prototype.hasOwnProperty,y=Object.getOwnPropertySymbols,v=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const b=(0,c.Z)(u.Z.tooltipSpeed),S=1e3*b,I={opacity:{ease:"easeOut",duration:b},y:{ease:p.Z.motionEasing,duration:b},x:{ease:p.Z.motionEasing,duration:b},scale:{ease:p.Z.motionEasing,duration:b}};function Z(e){switch(e){case d.IM:case d.jO:case d.ee:return 5;case d.aV:case d.eO:case d.OI:return-5;case d.Gf:case d.ab:default:return 0}}function P(e){switch(e){case d.IM:case d.jO:case d.ee:return 0;case d.aV:case d.eO:case d.OI:return 0;case d.Gf:return 5;case d.ab:return-5;default:return 0}}function E(e){switch(e){case d.IM:case d.jO:case d.ee:return-5;case d.aV:case d.eO:case d.OI:return 5;case d.Gf:case d.ab:default:return 0}}function M(e){switch(e){case d.IM:case d.jO:case d.ee:return 0;case d.aV:case d.eO:case d.OI:return 0;case d.Gf:return-5;case d.ab:return 5;default:return 0}}const C={before:e=>({opacity:0,y:Z(e),x:P(e),scale:.95,transition:I}),enter:{opacity:1,y:0,x:.001,scale:1,transition:I},exit:e=>({opacity:0,y:E(e),x:M(e),scale:.95,transition:I})},w={[d.IM]:{placement:"top-start"},[d.jO]:{placement:"top"},[d.ee]:{placement:"top-end"},[d.aV]:{placement:"bottom-start"},[d.eO]:{placement:"bottom"},[d.OI]:{placement:"bottom-end"},[d.Gf]:{placement:"left"},[d.ab]:{placement:"right"}};function D(e){const t=e,{children:n,className:i,target:s,attachment:a,options:c,isOpen:d,onMenuClose:u}=t,p=((e,t)=>{var n={};for(var r in e)g.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&y)for(var r of y(e))t.indexOf(r)<0&&v.call(e,r)&&(n[r]=e[r]);return n})(t,["children","className","target","attachment","options","isOpen","onMenuClose"]);return r.createElement(l.Z,{className:m.tooltipPortal,target:s,options:c||w[a],isOpen:d,closeTimeoutMilliseconds:S},r.createElement(o.M_,null,d?r.createElement(o.ww.div,((e,t)=>{for(var n in t||(t={}))g.call(t,n)&&f(e,n,t[n]);if(y)for(var n of y(t))v.call(t,n)&&f(e,n,t[n]);return e})({key:"container",initial:"before",animate:"enter",exit:"exit",variants:C,custom:a,className:i||m[a]},p),n):null))}D.defaultProps={attachment:d.eO};const T=D;var O=Object.defineProperty,x=Object.prototype.hasOwnProperty,A=Object.getOwnPropertySymbols,N=Object.prototype.propertyIsEnumerable,k=(e,t,n)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var L=Object.defineProperty,j=Object.prototype.hasOwnProperty,R=Object.getOwnPropertySymbols,V=Object.prototype.propertyIsEnumerable,U=(e,t,n)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class z extends r.Component{constructor(e,t){super(e,t),this.onMouseEnter=e=>{this.props.showOnHover&&(this._isHovered=!0,this.setState({isOpen:!0}))},this.onMouseLeave=e=>{this.props.showOnHover&&(this._isHovered=!1,this.setState({isOpen:this._isFocused}))},this.onFocus=e=>{this.props.showOnFocus&&(this._isFocused=!0,this.setState({isOpen:!0}))},this.onBlur=e=>{this.props.showOnFocus&&(this._isFocused=!1,this.setState({isOpen:this._isHovered}))},this.onPress=e=>{this.props.hideOnPress&&(this._isHovered=!1,this._isFocused=!1,this.setState({isOpen:!1}))},this.state={isOpen:!1},this._isHovered=!1,this._isFocused=!1,this._targetID=(0,s.Z)()}shouldComponentUpdate(e,t){return(0,a.Z)(this,e,t)}componentDidUpdate(e){const{hideOnDisabled:t,isDisabled:n}=this.props,{isOpen:r}=this.state;r&&t&&n&&!e.isDisabled&&(this._isHovered=!1,this._isFocused=!1,this.setState({isOpen:!1}))}render(){const e=this.props,{id:t,component:n,tooltip:s,tooltipClassName:a,tooltipFocusedClassName:o,tooltipAttachment:l,tooltipTarget:c,tooltipOptions:d,showOnHover:u,showOnFocus:p,hideOnDisabled:m,hideOnPress:h,onMouseEnter:g,onMouseLeave:y,onFocus:v,onBlur:f,onPress:b}=e,S=((e,t)=>{var n={};for(var r in e)j.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&R)for(var r of R(e))t.indexOf(r)<0&&V.call(e,r)&&(n[r]=e[r]);return n})(e,["id","component","tooltip","tooltipClassName","tooltipFocusedClassName","tooltipAttachment","tooltipTarget","tooltipOptions","showOnHover","showOnFocus","hideOnDisabled","hideOnPress","onMouseEnter","onMouseLeave","onFocus","onBlur","onPress"]),{isOpen:I}=this.state,Z=this._isFocused&&o?o:a;return r.createElement(r.Fragment,null,r.createElement(n,((e,t)=>{for(var n in t||(t={}))j.call(t,n)&&U(e,n,t[n]);if(R)for(var n of R(t))V.call(t,n)&&U(e,n,t[n]);return e})({id:t||this._targetID,onMouseEnter:(0,i.Z)(this.onMouseEnter,g),onMouseLeave:(0,i.Z)(this.onMouseLeave,y),onFocus:(0,i.Z)(this.onFocus,v),onBlur:(0,i.Z)(this.onBlur,f),onPress:(0,i.Z)(this.onPress,b)},S)),s?r.createElement(T,{className:Z,attachment:l,options:d,target:c||t||this._targetID,isOpen:I},s):null)}}z.defaultProps={component:function(e){const t=e,{children:n}=t,i=((e,t)=>{var n={};for(var r in e)x.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&A)for(var r of A(e))t.indexOf(r)<0&&N.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);return r.createElement("div",((e,t)=>{for(var n in t||(t={}))x.call(t,n)&&k(e,n,t[n]);if(A)for(var n of A(t))N.call(t,n)&&k(e,n,t[n]);return e})({},i),n)},showOnHover:!0,showOnFocus:!0,hideOnPress:!0,hideOnDisabled:!0};const B=z},61696:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(67294),i=n(5562);const s={container:"CriticRating-container-1SC4rC",rating:"CriticRating-rating-2RgeS9",rt:"CriticRating-rt-34bf_j",ratingImage:"CriticRating-ratingImage-Q4kYrN",igdb:"CriticRating-igdb-kTDfex CriticRating-ratingImage-Q4kYrN",imdb:"CriticRating-imdb-3ZBLQP CriticRating-ratingImage-Q4kYrN",thetvdb:"CriticRating-thetvdb-1OjUuN CriticRating-ratingImage-Q4kYrN",tmdb:"CriticRating-tmdb-3_LDg_ CriticRating-ratingImage-Q4kYrN",certified:"CriticRating-certified-afT67R CriticRating-ratingImage-Q4kYrN",ripe:"CriticRating-ripe-3bK8b9 CriticRating-ratingImage-Q4kYrN",rotten:"CriticRating-rotten-eusLGL CriticRating-ratingImage-Q4kYrN",spilled:"CriticRating-spilled-pJsm5q CriticRating-ratingImage-Q4kYrN",upright:"CriticRating-upright-jYPY3u CriticRating-ratingImage-Q4kYrN",other:"CriticRating-other-3Fb1t2 CriticRating-ratingImage-Q4kYrN"};var a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const u=/^igdb:\/\//,p=/^imdb:\/\//,m=/^rottentomatoes:\/\//,h=/^thetvdb:\/\//,g=/^themoviedb:\/\//,y={igdb:function({rating:e,audienceRating:t}){return r.createElement("div",{className:s.rating,title:(0,i.Z)("IGDB Rating")},r.createElement("div",{className:s.igdb}),`${Math.round(10*t)}%`)},imdb:function({rating:e,audienceRating:t}){const n=t||e;return r.createElement("div",{className:s.rating,title:(0,i.Z)("IMDb Rating")},r.createElement("div",{className:s.imdb}),n.toFixed(1))},rt:function({rating:e,ratingImage:t,audienceRating:n,audienceRatingImage:a}){const o=t&&t.substr(t.lastIndexOf(".")+1),l=n&&a&&a.substr(a.lastIndexOf(".")+1),c={certified:(0,i.Z)("Certified Fresh"),ripe:(0,i.Z)("Fresh"),rotten:(0,i.Z)("Rotten"),spilled:(0,i.Z)("Audience Rating"),upright:(0,i.Z)("Audience Rating")};return r.createElement("div",{className:s.rt},o?r.createElement("div",{className:s.rating},r.createElement("div",{className:s[o],title:c[o]}),`${Math.round(10*e)}%`):null,l?r.createElement("div",{className:s.rating},r.createElement("div",{className:s[l],title:c[l]}),`${Math.round(10*n)}%`):null)},thetvdb:function({audienceRating:e}){return r.createElement("div",{className:s.rating,title:(0,i.Z)("TheTVDB Rating")},r.createElement("div",{className:s.thetvdb}),`${Math.round(10*e)}%`)},tmdb:function({rating:e,audienceRating:t}){const n=t||e;return r.createElement("div",{className:s.rating,title:(0,i.Z)("TMDB Rating")},r.createElement("div",{className:s.tmdb}),`${Math.round(10*n)}%`)},other:function({rating:e}){return r.createElement("div",{className:s.rating},r.createElement("div",{className:s.other,title:(0,i.Z)("Rating")}),`${Math.round(10*e)}%`)}},v=function(e){const t=function({rating:e,ratingImage:t,audienceRating:n,audienceRatingImage:r}){return e||n?e&&u.test(t)||n&&u.test(r)?"igdb":e&&p.test(t)||n&&p.test(r)?"imdb":n&&h.test(r)?"thetvdb":e&&g.test(t)||n&&g.test(r)?"tmdb":e&&m.test(t)||n&&m.test(r)?"rt":"other":"unrated"}(e),n=y[t];return n?r.createElement("div",{className:s.container},r.createElement(n,((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({},e))):null}},87691:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(45697),i=n.n(r),s=n(67294),a=n(89969),o=n(48494),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};function h(...e){const t=(0,a.$j)(...e);return e=>{const n=t(e);function r(e,{metricsPage:t,metricsContext:r}){const i=e,{metricsContext:a}=i,o=((e,t)=>{var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&d)for(var r of d(e))t.indexOf(r)<0&&u.call(e,r)&&(n[r]=e[r]);return n})(i,["metricsContext"]);return s.createElement(n,m({metricsPage:t,metricsContext:a||r},o))}return r.displayName=`ConnectWithMetrics(${(0,o.Z)(e)})`,r.contextTypes={metricsPage:i().string,metricsContext:i().string},r.propTypes=m(m({},n.propTypes),{metricsContext:i().string}),r}}},9119:(e,t,n)=>{"use strict";function r(...e){return function(...t){for(let n=0,r=e.length;n<r;n++){const r=e[n];"function"==typeof r&&r(...t)}}}n.d(t,{Z:()=>r})},44823:(e,t,n)=>{"use strict";function r(...e){return e.filter((e=>!!e)).join("--")}n.d(t,{Z:()=>r})},19210:(e,t,n)=>{"use strict";function r(e){const t=parseFloat(e,10);let n=e.match(/m?s/);switch(n&&(n=n[0]),n){case"s":return 1e3*t;case"ms":return t}return 0}n.d(t,{Z:()=>r})},54983:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(19210);function i(e){return(0,r.Z)(e)/1e3}},52999:(e,t,n)=>{"use strict";n.d(t,{Fp:()=>m,IB:()=>v,sM:()=>f,pc:()=>y,QE:()=>g,LJ:()=>h});var r=n(13469),i=n.n(r),s=n(11133),a=n(86017);function o(e){if(e===document)return!0;if(!e)return!1;if(!e.parentNode)return!1;if(e.style){const t=e.style;if("none"===t.display||"hidden"===t.visibility)return!1}if(window.getComputedStyle){const t=window.getComputedStyle(e);if("none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility"))return!1}return o(e.parentNode)}function l(e){let t=e.tabIndex;return null===t&&(t=void 0),!isNaN(t)&&t>=0&&function(e){if(!o(e))return!1;const t=e.nodeName.toLowerCase();return/input|select|textarea|button|object/.test(t)?!e.disabled:"a"!==t||e.href}(e)}function c(e){if(!e)return[];const t=[].slice.call(e.getElementsByTagName("*"),0).filter((e=>l(e)));return i().sortBy(t,(e=>0===e.tabIndex?1/0:e.tabIndex))}let d,u;function p(e){try{e.focus()}catch(e){}}function m(e){const t=document.activeElement,n=t&&e&&e.contains(t);t&&!n&&t.blur()}function h(e){d=document.activeElement,u=e,m(e)}function g(e){(0,s.Z)(u,"Call `startScopedFocus(element)` before `scopeTabEvent`");const t=c(u);if(!t.length)return;e.preventDefault();const n=document.activeElement,r=n?t.indexOf(n):-1,i=t.length-1;let a;-1===r?a=e.shiftKey?i:0:(a=e.shiftKey?r-1:r+1,a<0?a=i:a>i&&(a=0)),p(t[a])}function y(){(0,s.Z)(u,"Call `startScopedFocus(element)` before `scopeAutoFocus`");const e=c(u),t=i().find(e,(e=>(0,a.Z)(e.getAttribute("data-autofocus"))));t&&p(t)}function v(){u=null}function f(){d&&(p(d),d=null)}},48494:(e,t,n)=>{"use strict";function r(e){return e.displayName||e.name||"Component"}n.d(t,{Z:()=>r})},93554:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(79557);const i=(0,n(27903).Z)((function(e=-1,t=-1,n=r.IM,i=0,s=0,a){let o;if(n===r.Hn)o={display:"none"};else{switch(o={position:"absolute",width:-1===t?"100%":`${t}px`,height:-1===e?"100%":`${e}px`},n){case r.aV:o.bottom=s||0,o.left=i||0;break;case r.IM:o.top=s||0,o.left=i||0}a&&(o.zIndex=1)}return o}))},30492:(e,t,n)=>{"use strict";function r(e){const{friendlyName:t,isShared:n}=e;return n?t:void 0}n.d(t,{Z:()=>r})},41324:(e,t,n)=>{"use strict";function r(e){const{friendlyName:t,sourceTitle:n,isShared:r}=e;return r?n:t}n.d(t,{Z:()=>r})},53851:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let r=0;const i=function(){return"id-"+r++}},26893:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i(e,t=!0){const n=(0,r.useRef)(!1);(0,r.useEffect)((()=>{if(t&&!n.current)return n.current=!0,e()}),[t,e,n])}},64378:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i(){const[e,t]=(0,r.useState)(!1),n=(0,r.useCallback)((()=>{t(!0)}),[]),i=(0,r.useCallback)((()=>{t(!1)}),[]);return[e,{onMouseEnter:n,onMouseLeave:i,onFocus:n,onBlur:i}]}},30464:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i(e){const t=(0,r.useRef)();return(0,r.useEffect)((()=>{t.current=e}),[e]),t.current}},75534:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),i=n(53851);const s=function(){const[e]=(0,r.useState)(i.Z);return e}},11956:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),i=n(30464),s=n(32129),a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function u({isVirtual:e,isVisible:t,isScrolling:n}){return e&&!t||n}function p(e){const{cellIndex:t,cellX:n,cellY:a,cellWidth:p,cellHeight:m,style:h,keyPropName:g,moveDurationMilliseconds:y=400,isVirtual:v}=e,f=e[g],b=(0,i.Z)(f),S=(0,i.Z)(t),I=!(null==b||null==S||f!==b||e.cellIndex===S),Z=(0,r.useReducer)((e=>e+1),0)[1],P=(0,r.useRef)(I),E=P.current||I,M=(0,r.useMemo)((()=>function({cellX:e,cellY:t,cellWidth:n,cellHeight:r,style:i,isMoving:a,moveDurationMilliseconds:u,isVirtual:p}){return((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})(p?{position:"absolute",width:n,height:r,transform:`translate3d(${e}px, ${t}px, 0)`,zIndex:a?1:0,transition:a?`transform ${s.Z.defaultSpeed}`:"none",transitionDuration:a?`${u}ms`:0}:{position:"relative"},i)}({cellX:n,cellY:a,cellWidth:p,cellHeight:m,style:h,moveDurationMilliseconds:y,isMoving:E,isVirtual:v})),[n,a,p,m,h,y,E,v]),C=(0,r.useRef)(u(e)?null:f);let w;return u(e)?(w=C.current!==f,w&&(C.current=null)):(w=!1,C.current=f),(0,r.useEffect)((()=>{let e;return E&&(P.current=!0,e=window.setTimeout((()=>{P.current=!1,Z({})}),2*y)),()=>{e&&window.clearTimeout(e)}}),[y,E,Z]),{style:M,isPlaceholder:w}}},78847:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(93966);function i(e){const t=(0,r.DB)("appModel").get("embeddedServer");return!!e&&!!t&&e.machineIdentifier===t.get("machineIdentifier")}},20361:(e,t,n)=>{"use strict";function r(e,t){return Math.max(Math.min(e,t-1),0)}n.d(t,{Z:()=>r})},28180:(e,t,n)=>{"use strict";n.d(t,{yZ:()=>i,_y:()=>s,ZP:()=>a}),n(11133);var r=n(20361);const i="vertical",s="horizontal";function a(e={}){const{direction:t=i,rows:n,columns:a,overscan:o=0,innerHorizontalPadding:l=0,innerVerticalPadding:c=0,outerPaddingTop:d=0,outerPaddingRight:u=0,outerPaddingBottom:p=0,outerPaddingLeft:m=0,getCellWidth:h,getCellHeight:g}=e;let y,v,f,b,S,I,Z,P,E,M;function C(e){return t===i?Math.floor(e/I):e%S}function w(e){return t===i?e%I:Math.floor(e/S)}function D(e,n){const r=C(e);return t===i?r*I:r}function T(e,n){const r=w(e);return t===i?r:r*S}return{options:e,getListStyle:function(e,r){const o=[d,u,p,m,r];for(const t in e)o.push(e[t]);const C=o.join(":");if(C===P)return E;y=e.listTop,v=e.listLeft;let w=(e.viewportWidth||0)-u-m,D=(e.viewportHeight||0)-d-p;t===i?w-=v:D-=y,w=Math.max(0,w),D=Math.max(0,D),f=h({innerViewportWidth:w,innerViewportHeight:D,innerHorizontalPadding:l,innerVerticalPadding:c}),b=g({cellWidth:f,innerViewportWidth:w,innerViewportHeight:D,innerHorizontalPadding:l,innerVerticalPadding:c}),S=Math.max(0,n||Math.floor((D+c)/(b+c))),I=Math.max(0,a||Math.floor((w+l)/(f+l))),Z=I*S;let T=0,O=0;return t===i&&I?(T=I*(f+l)-l,O=Math.ceil(r/I)*(b+c)-c):t===s&&S&&(T=Math.ceil(r/S)*(f+l)-l,O=S*(b+c)-c),M={},P=C,E={width:T+u+m,height:O+d+p},E},getRelativeIndex:function(e,n,a,o){const l=t===a;if(l&&(t===i&&1===I||t===s&&1===S))return(0,r.Z)(e+n,o);let c,d,u;a===i&&(c=l?I*n:n,d=T(e),u=function(e,n){if(t===i){const t=n-1,r=w(e),i=(C(t)+1)*I-(I-r);let s;return s=i<n?i:t-n%I-(I-1-r),s}{const t=T(e);return(0,r.Z)(t+(S-1),n)}}(e,o)),a===s&&(c=l?S*n:n,d=D(e),u=function(e,n){if(t===i){const t=D(e);return(0,r.Z)(t+(I-1),n)}{const t=n-1,r=C(e),i=(w(t)+1)*S-(S-r);let s;return s=i<n?i:t-n%S-(S-1-r),s}}(e,o));const p=e+c;return d||u?Math.max(Math.min(p,u),d):e},getCoordinateDistance:function(e,t){const n=C(e),r=C(t),i=w(e),s=w(t);return Math.sqrt(Math.pow(r-n,2)+Math.pow(s-i,2))},getPositionForIndex:function(e){const t=e;if(M[t])return M[t];const n=w(e),r=C(e),i={column:n,row:r,cellX:n*(f+l)+v+m,cellY:r*(b+c)+y+d,cellWidth:f,cellHeight:b};return M[t]=i,i},getRangesForPosition:function(e,n,s){const a=t===i?I:S,d=t===i?(e-y)/(b+c):(n-v)/(f+l),u=Z+2*a+o*a*2,p=Math.ceil(d)*a,m=p+Z-1,h=Math.floor(d)*a,g=p+Z+a-1;let P=h-a*o;const E=(0,r.Z)(P,s)+u-1;return E>=s&&(P=s-u),{visibleStartIndex:(0,r.Z)(p,s),visibleEndIndex:(0,r.Z)(m,s),partiallyVisibleStartIndex:(0,r.Z)(h,s),partiallyVisibleEndIndex:(0,r.Z)(g,s),renderStartIndex:(0,r.Z)(P,s),renderEndIndex:(0,r.Z)(E,s)}}}}},38891:(e,t,n)=>{"use strict";function r(e){const{cellWidth:t,aspectRatio:n,titleHeight:r=0}=e;return Math.floor(t/n+r)}n.d(t,{Z:()=>r})},39539:(e,t,n)=>{"use strict";function r(e,t){const{innerViewportWidth:n,innerHorizontalPadding:r=0}=t;return Math.floor((n+r)/e)-r}function i(e){const{innerViewportWidth:t,innerHorizontalPadding:n=0,preferredCellWidth:i,minCellWidth:s,minColumns:a=1,maxColumns:o=1/0,columnAdjustment:l=0}=e;let c=Math.round((t+n)/(i+n));c+=l,c=Math.max(Math.min(c,o),a);let d=r(c,e);return d<s&&(d=c===a?s:r(c-1,e)),d}n.d(t,{Z:()=>i})},79374:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i(e,t,n){let i=0;return r.Children.map(e,(e=>{if(r.isValidElement(e)){const r=i;return i++,t.call(n,e,r)}return e}))}},77342:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(9220);function i(e){return e===r.wl||e===r.Bs}},66247:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r}),n(11133);const r=function(e,t){return`${e}:${t}`}},86382:(e,t,n)=>{"use strict";n.d(t,{be:()=>r,lW:()=>i,GZ:()=>s,Pv:()=>a,fN:()=>o,DT:()=>l,QZ:()=>c});const r="isScrolling",i="isActive",s="isFocused",a="isDisabled",o="isDragging",l="isDraggingBefore",c="isDraggingAfter"},57384:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});let r={};const i={getPageKey:()=>window.location.hash,getKey:e=>`${i.getPageKey()}!${e}`,get:e=>r[e],set(e,t){r[e]=t},remove(e){delete r[e]},clear(){r={}}},s=i},21914:(e,t,n)=>{"use strict";n.d(t,{UP:()=>r,pX:()=>i,WV:()=>s});const r="up",i="right",s="down"},60528:(e,t,n)=>{"use strict";n.d(t,{TP:()=>r,_8:()=>i,T:()=>s,Py:()=>a});const r="default",i="primary",s="danger",a="dark"},9220:(e,t,n)=>{"use strict";n.d(t,{Y3:()=>i,wl:()=>s,sD:()=>a,zg:()=>o,mo:()=>l,H1:()=>c,r$:()=>d,F5:()=>u,UC:()=>p,lD:()=>m,g$:()=>h,Uz:()=>g,jF:()=>y,Ap:()=>v,Bs:()=>f,IN:()=>b});var r=n(45697);const i="library",s="continueWatching",a="prePlay",o="playlist",l="search",c="quickSearch",d="player",u="playQueue",p="liveTVTimeline",m="liveTVGrid",h="recommended",g="nowPlaying",y="downloads",v="shared",f="watchTogether",b="watchTogetherLobby";n.n(r)().oneOf(["discover",i,"directoryList","metadataList","timeline",s,a,"postPlayPrevious","postPlayNext",o,l,c,d,u,p,m,h,g,y,v,f,b])},48022:(e,t,n)=>{"use strict";n.d(t,{xx:()=>r.SEASON,uG:()=>r.EPISODE,c5:()=>r.ALBUM,IK:()=>r.TRACK,vu:()=>r.CLIP,pV:()=>r.PHOTO,V4:()=>i,t1:()=>s,nW:()=>a});var r=n(69881);const i="extra",s="mixed",a="musicVideo"},90653:(e,t,n)=>{"use strict";n.d(t,{Hn:()=>r,yZ:()=>i,_y:()=>s});const r="none",i="vertical",s="horizontal"},43478:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(45697),i=n.n(r);const s=i().shape({subscribe:i().func.isRequired,dispatch:i().func.isRequired,getState:i().func.isRequired})},82378:(e,t,n)=>{"use strict";n.d(t,{HC:()=>r,M2:()=>i,ln:()=>s});const r="small",i="medium",s="large"},66088:(e,t,n)=>{"use strict";n.d(t,{IM:()=>r,jO:()=>i,ee:()=>s,aV:()=>a,eO:()=>o,OI:()=>l,Gf:()=>c,ab:()=>d});const r="topLeft",i="topCenter",s="topRight",a="bottomLeft",o="bottomCenter",l="bottomRight",c="middleLeft",d="middleRight"},3386:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67006);function i(e){if(e&&e.features)return e.features.find((e=>e.type===r.P8))}},97606:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(3386);function i(e,t){const n=(0,r.Z)(e);return n&&n.directories?n.directories.find((e=>e.id===t)):null}},1998:(e,t,n)=>{"use strict";function r(e,t){if(e&&t)for(let n=0,r=e.length;n<r;n++){const r=e[n],{id:i}=r;if(i===t)return r}}n.d(t,{Z:()=>r})},50657:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(1998);function i(e,t){const n=e.features.content;return n?(0,r.Z)(n.directories,t):null}},52601:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(46525),i=n(84936),s=Object.defineProperty,a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e};let u,p;function m(e,t=window.location.hash){const n=function(e){if(u===e)return p;const t=e.split("?"),n=t.length>1?t[1]:void 0,r=n?i.Z.parseParams(n):{};return u=e,p={url:t[0],params:r},p}(t),s={type:void 0,typeKey:e.typeKey,filters:(0,r.Z)(e.filters),limit:e.limit,filterLabel:e.filterLabel,customFilter:e.customFilter?1:void 0,sort:e.sort,folderKey:e.folderKey,folderTitle:e.folderTitle,parentFolderKey:e.parentFolderKey,parentFolderTitle:e.parentFolderTitle,save:1};return s.customFilter||(s.playlistID=void 0,s.playlistTitle=void 0),i.Z.join(n.url,d(d({},n.params),s))}},87385:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(17524),i=n(26512);function s(e,t,n,s={},a){if(n){const e=n.pivots.find((({key:e})=>e.includes(n.key)));s.key=t.identifier===r.Y3?e.key:n.key}return(0,i.Z)(e,t,n,s,a)}},41431:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(97334);function i(e,t,n,i){return(0,r.Z)(e.isCloud,e.machineIdentifier,t.identifier,n,i)}},97334:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(84936);function i(e,t,n,i={},s){const a=["#!","media"];return e||a.push(encodeURIComponent(t)),a.push(encodeURIComponent(n),s),r.Z.join(a,i)}},19698:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(60316),i=n(97334);function s(e,t){const{isServer:n,serverIdentifier:s,providerIdentifier:a}=(0,r.Z)(e);return(0,i.Z)(!n,s,a,t)}},26512:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(78847),i=n(41431),s=Object.defineProperty,a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function d(e,t,n,s={},d){if(!(0,r.Z)(e))return n?(0,i.Z)(e,t,((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e})({source:n.id},s),d):(0,i.Z)(e,t,s,d)}},89197:(e,t,n)=>{"use strict";n.d(t,{tk:()=>p,ZP:()=>h});var r=n(84936),i=n(3386),s=n(26512),a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};const p={RECORDING_SCHEDULE:"view://dvr/recording-schedule",GUIDE:"view://dvr/guide",TIMELINE:"view://photo/timeline",SHARED_ITEMS:"view://shared-items"},m={[p.RECORDING_SCHEDULE]:{getRouteParams:()=>({pivot:p.RECORDING_SCHEDULE})},[p.GUIDE]:{getRouteParams:()=>({pivot:p.GUIDE})},[p.TIMELINE]:{getRouteParams:(e,t)=>({pivot:p.TIMELINE,key:r.Z.join([e.key,t.id,"cluster"],{clusterZoomLevel:1})})},[p.SHARED_ITEMS]:{getRouteParams:(e,t)=>({key:t.pivots[0].key})}};function h(e,t,n,r,a={}){if(!function(e){return!!m[e]}(e))return;const o=m[e],l=(0,i.Z)(n);return(0,s.Z)(t,n,r,o.getRouteParams?u(u({},a),o.getRouteParams(l,r)):a)}},81324:(e,t,n)=>{"use strict";function r(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;const i=Object.prototype.hasOwnProperty;for(let r=0;r<n.length;r++)if(!i.call(t,n[r])||e[n[r]]!==t[n[r]])return!1;return!0}n.d(t,{Z:()=>r})},47636:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(81324);function i(e,t,n,i,s){const a=s||r.Z;let o=a(e.props,t);return o&&(o=a(e.state,n),o&&i&&(o=a(e.context,i))),!o}},32129:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={defaultSpeed:"0.2s",slowSpeed:"0.6s",fastSpeed:"0.1s",motionEasing:"cubic-bezier(0.6, 0.4, 0.2, 1.4)",modalSpeed:"0.2s",menuSpeed:"0.15s",tooltipSpeed:"0.15s"}},79481:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const r="#e5a00d",i="rgba(0, 0, 0, 0.15)",s="rgba(0, 0, 0, 0.3)",a={defaultColor:"#fff",quietColor:"#a8a8a8",inverseColor:"#222",primaryColor:"#cc7b19",primaryAlternateColor:"#e5a00d",selectedColor:r,successColor:"#6b5",dangerColor:"#f53",warningColor:"#f0ad4e",focusColor:"#7eb0d5",appBackgroundColor:"#444f56",darkOpaqueBackgroundColor:"#1f2326",blackDarkTranslucentBackgroundColor:i,blackDarkerTranslucentBackgroundColor:s,lightTranslucentBackgroundColor:"rgba(255, 255, 255, 0.15)",badgeBackgroundColor:i,defaultBadgeColor:"rgba(255, 255, 255, 0.7)",defaultLinkColor:"rgba(255, 255, 255, 0.7)",defaultLinkHoverColor:"#fff",defaultLinkDisabledLinkColor:"rgba(255, 255, 255, 0.3)",selectedLinkColor:r,selectedLinkHoverColor:"lighten(#e5a00d, 0.2)",defaultBackgroundColor:"rgba(255, 255, 255, 0.25)",defaultHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",defaultActiveBackgroundColor:"rgba(255, 255, 255, 0.2)",defaultDisabledBackgroundColor:"rgba(255, 255, 255, 0.15)",primaryButtonColor:"#1f2326",primaryBackgroundColor:"#e5a00d",primaryHoverBackgroundColor:"lighten(#e5a00d, 0.2)",primaryActiveBackgroundColor:"darken(#e5a00d, 0.2)",primaryDisabledColor:"rgba(0, 0, 0, 0.4)",primaryDisabledBackgroundColor:"darken(#e5a00d, 0.5)",quietBackgroundColor:"rgba(255, 255, 255, 0.08)",quietHoverBackgroundColor:"rgba(255, 255, 255, 0.1)",quietActiveBackgroundColor:"rgba(255, 255, 255, 0.06)",successBackgroundColor:"#3d7832",successHoverBackgroundColor:"lighten(#3d7832, 0.1)",successActiveBackgroundColor:"darken(#3d7832, 0.1)",successDisabledBackgroundColor:"darken(#3d7832, 0.3)",dangerBackgroundColor:"#b32",dangerHoverBackgroundColor:"lighten(#b32, 0.1)",dangerActiveBackgroundColor:"darken(#b32, 0.1)",dangerDisabledBackgroundColor:"darken(#b32, 0.3)",darkBackgroundColor:s,darkHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",darkActiveBackgroundColor:"rgba(255, 255, 255, 0.2)",darkDisabledBackgroundColor:"rgba(255, 255, 255, 0.15)",headerColor:"rgba(255, 255, 255, 0.3)",dimColor:"rgba(255, 255, 255, 0.45)",secondaryContentColor:"rgba(255, 255, 255, 0.75)",shadowColor:"rgba(0, 0, 0, 0.35)",dividerColor:s,scrollbarBackgroundColor:"rgba(255, 255, 255, 0.2)",scrollbarHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",scrollbarInactiveBackgroundColor:"rgba(255, 255, 255, 0.05)",errorBackgroundColor:"rgba(255, 85, 51, 0.3)",inputBackgroundColor:"rgba(255, 255, 255, 0.25)",inputFocusBackgroundColor:"#eee",inputColor:"#eee",inputFocusColor:"#555",inputPlaceholderColor:"#afb0b1",inputDisabledOpacity:"0.5",formSectionBackgroundColor:s,formSectionHoverBackgroundColor:i,modalBackdropBackgroundColor:"rgba(102, 102, 102, 0.6)",modalBackgroundColor:"#2d2d2d",modalBodyBackgroundColor:i,menuBackgroundColor:"#191a1c",menuDisabledBackgroundColor:"#2d2d2d",menuItemHoverBackgroundColor:"rgba(255, 255, 255, 0.08)",menuItemActiveBackgroundColor:"rgba(255, 255, 255, 0.15)",menuSeparatorBackgroundColor:"rgba(200, 200, 200, 0.15)",tooltipBackgroundColor:"#191a1c",pageHeaderBackgroundColor:"rgba(0, 0, 0, 0.7)",pageHeaderLinkColor:"#999",pageHeaderLinkHoverColor:"#eee",pageHeaderColor:"rgba(255, 255, 255, 0.75)",searchInputBackgroundColor:"rgba(255, 255, 255, 0.25)",searchFocusBackgroundColor:"#eee",searchInputColor:"#eee",searchInputFocusColor:"#555",searchImagePlaceholderBackgroundColor:"rgba(255, 255, 255, 0.1)",searchHoverResultBackgroundColor:"rgba(255, 255, 255, 0.05)",searchSelectedResultBackgroundColor:"rgba(255, 255, 255, 0.08)",searchResultTitleColor:"rgba(255, 255, 255, 0.75)",searchResultTitleSelectedColor:"rgba(255, 255, 255, 1)",searchResultSecondaryTitleColor:"rgba(255, 255, 255, 0.3)",sidebarBackgroundColor:i,sidebarMenuButtonBackgroundColor:s,sidebarMenuButtonHoverBackgroundColor:"rgba(0, 0, 0, 0.45)",sidebarMenuButtonActiveBackgroundColor:"rgba(0, 0, 0, 0.75)",stripeListAlternateBackgroundColor:"rgba(255, 255, 255, 0.02)",stripeListHoverBackgroundColor:"rgba(255, 255, 255, 0.06)",stripeListSelectedBackgroundColor:i,liveTVSettingsAddDeviceButtonBackground:"rgba(0, 0, 0, 0.2)",liveTVSettingsBackground:"rgba(0, 0, 0, 0.3)"}},49666:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={smallSize:"26px",mediumSize:"30px",largeSize:"36px",gapSmall:"15px",gapMedium:"30px",gapLarge:"60px",navigationHeaderHeight:"60px",navigationUserMenuImageSize:"34px",pageHeaderHeight:"60px",breadcrumbMargin:"25px",menuSmallWidth:"120px",menuMediumWidth:"180px",menuLargeWidth:"220px",menuPadding:"8px",menuItemTopPadding:"4px",menuItemSidePadding:"20px",toolbarButtonWidth:"50px",posterTitlePadding:"10px",posterTitleHeight:"20px",searchHubTitleHeight:"18px",searchResultWidth:"346px",searchResultHeight:"50px",sidebarWidth:"240px",sidebarRightGutterWidth:"15px",sidebarLeftGutterWidth:"25px",tableCellPadding:"20px",tableHeaderHeight:"40px",tableRowHeight:"40px",tableTitleHeight:"60px",inputMaxWidth:"360px",inputBorderRadius:"4px",autosuggestSuggestionRadius:"4px",smallArrowWidth:"6px",mediumArrowWidth:"8px",largeArrowWidth:"10px",tooltipArrowSize:"6px",tooltipMarginTop:"-6px",breakpointMobileNarrow:"320px",breakpointExtraSmall:"480px",breakpointSmall:"768px",breakpointMedium:"992px",breakpointLarge:"1200px",modalBodyPadding:"30px"}},93502:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={motionEasing:[.6,.4,.2,1.4]}},91453:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r}),n(47479);const r=!1},97140:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(21133),i=n(43569);const s=i.Z.extend({mixins:[r.Z],initialize({appModel:e}){i.Z.prototype.initialize.apply(this,arguments),this.appModel=e,this.listenTo(this.appModel,"change:primaryServer",this.onPrimaryServerChange)},supportsRetry:e=>!0,onPrimaryServerChange(e,t){t&&!t.get("hasEventConnection")&&(this.stop(t),this.start(t))}})},16325:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(13469),i=n.n(r),s=n(19130),a=n(47479),o=n(96840),l=n(21133);const c=s.Z.extend({mixins:[l.Z],initialize(e){this.name=e.name||"ServerEventManager",this.appModel=e.appModel,this.servers=e.servers||this.appModel.get("servers"),this.isValidServer=e.isValidServer,this.supportsLongPolling=e.supportsLongPolling,this.allowMultipleConnections=e.allowMultipleConnections,this.allowAppendingHeaders=e.allowAppendingHeaders,this.ServerEventConnection=e.ServerEventConnection,this.connections={},this._serverRetryManager=new e.ServerRetryManager({appModel:this.appModel,callback:this.retryServerConnections.bind(this),logFormat:"[Connections] Retrying server events connection for %s in %s seconds"})},start(){this.allowMultipleConnections?this.listenTo(this.servers,{"change:isResolved":this.onServerResolvedChange,"change:isRejected":this.onServerRejectedChange,remove:this.onServerRemove,reset:this.onServersReset}):this.listenTo(this.appModel,"change:primaryServer",this.onPrimaryServerChange)},stop(){this.stopListening(),this._serverRetryManager.stopAll(),this.disconnectAll(),this.connections={}},tryConnectServer(e){const t=this.connections[e.id];this.isValidServer(e)&&!t&&(a.Z.hasWebSocket||this.supportsLongPolling?this.connect({server:e}).then(null,(()=>{this._serverRetryManager.start(e)})):e.trigger("socket:websocket",{error:!0}))},connect(e){const t=e.server;let n=this.connections[t.id];n||(n=new this.ServerEventConnection({server:t,appendHeaders:this.allowAppendingHeaders}),this.connections[t.id]=n,this.listenTo(n,{open:this.onOpen,close:this.onClose,error:this.onClose}));const r=n.open(),i=n.socket?n.socket.url:n.pollUrl;return(0,o.Z)(`[${this.name}] Opening server event connection to ${t.get("debugName")} at ${i}`),r},disconnectAll(){i().each(this.connections,(e=>{this.disconnect({connection:e})}))},disconnect(e){let t=e.connection;if(t||(t=this.connections[e.server.id]),t){const e=t.socket?t.socket.url:t.pollUrl,n=t.server;(0,o.Z)(`[${this.name}] Closing server event connection to ${n.get("debugName")} at ${e}`),this.stopListening(t),this._serverRetryManager.stop(t.server),t.close(),delete this.connections[t.server.id]}},retryServerConnections:function(e){this.isValidServer(e)&&e.get("isResolved")&&this.connect({server:e})},onPrimaryServerChange(e,t){this.disconnectAll(),t&&this.tryConnectServer(t)},onServerResolvedChange(e,t){t&&this.tryConnectServer(e)},onServerRejectedChange(e,t){t&&this.disconnect({server:e})},onServerRemove(e){const t=this.connections[e.id];if(t&&(this.disconnect({connection:t}),e.get("isMerged")&&t)){const t=this.servers.get(e.id);this.connect({server:t})}},onServersReset(e,t){const n=t.previousModels;i().each(n,(t=>{e.contains(t)||this.disconnect({server:t})}))},onOpen(e){const t=this.connections[e.id],n=t.socket?t.socket.url:t.pollUrl;o.Z.info(`[${this.name}] Opened server event connection to ${e.get("debugName")} at ${n}`),this._serverRetryManager.stop(e)},onClose(e){o.Z.warn(`[${this.name}] Unexpectedly closed server event connection to ${e.get("debugName")}`),this._serverRetryManager.start(e)}})},43569:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(13469),i=n.n(r),s=n(19130),a=n(96840);const o=s.Z.extend({maximumDelay:30,initialize({callback:e,logFormat:t}){this._serversBeingRetried={},this.callback=e,this.logFormat=t},start(e){this._serversBeingRetried[e.cid]||this.supportsRetry(e)&&(this._serversBeingRetried[e.cid]={server:e,attempt:1},this._scheduleRetry(e))},stop(e){const t=this._serversBeingRetried[e.cid];t&&(window.clearTimeout(t.timeout),delete this._serversBeingRetried[e.cid])},stopAll(){i().each(this._serversBeingRetried,((e,t)=>{window.clearTimeout(e.timeout),delete this._serversBeingRetried[t]}))},supportsRetry:e=>!0,_scheduleRetry(e){const t=this._serversBeingRetried[e.cid],n=2*Math.min(this.maximumDelay/2,t.attempt);(0,a.Z)(this.logFormat,e.get("debugName"),n),t.timeout=window.setTimeout((()=>{this.callback(e),t.attempt++,this._scheduleRetry(e)}),1e3*n)}})},10612:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(13469),i=n.n(r);function s(e,t){var n=t.constructor.prototype.validate;return n?n(e):[]}function a(e){var t=this.panes[e],n=c.call(this,t);return 0===s.call(this,n,t).length}function o(e,t){var n=this.panes[t].dependentPanes;return"function"==typeof n&&(n=n.call(this)),e.concat(n||[])}function l(){var e=this.$(".change-pane-btn");e.addClass("disabled").removeClass("selected"),i().each(this.getReachablePanes(),(function(t){e.filter("."+t+"-btn").removeClass("disabled")}),this),e.filter("."+this.selectedPane+"-btn").addClass("selected")}function c(e){return this[e.model]||this[this.panesModel]||this.model}const d={showPane:function(e){if(e!==this.selectedPane){var t=this.paneRegion.currentView;t&&(this.stopListening(t,"valid",l),this.stopListening(t,"invalid",l),this.$el.removeClass("pane-"+this.selectedPane),this.onPaneHide&&this.onPaneHide(this.selectedPane,t)),this.selectedPane=e;var n=this.panes[e],r=n.constructor,s=this.paneConstructorArg?this.paneConstructorArg():{},a=new r(i().extend(s,{model:c.call(this,n)}));if(a.onModalClose){this._paneOnModalCloseCallbacks||this.listenToOnce(this,"close",(function(){i().each(this._paneOnModalCloseCallbacks,(function(e){e[1].call(e[0])}),this),this._paneOnModalCloseCallbacks=null}));var o=this._paneOnModalCloseCallbacks||[];o.push([a,a.onModalClose]),this._paneOnModalCloseCallbacks=i().uniq(o,(function(e){return e[1]}))}this.listenTo(a,"valid",l),this.listenTo(a,"invalid",l),l.call(this),this.onPaneShow&&this.onPaneShow(e,a),this.$el.addClass("pane-"+e),this.paneRegion.show(a),l.call(this)}},getReachablePanes:function(){for(var e,t,n=i().reduce(this.panes,(function(e,t){var n=t.dependentPanes;return"function"==typeof n&&(n=n.call(this)),i().union(e,n||[])}),[],this),r=i().filter(i().keys(this.panes),(function(e){return!i().contains(n,e)})),s=r;s.length;)e=i().filter(s,a,this),t=t||e.length!==s.length,s=i().reduce(e,o,[],this),r=r.concat(s);return r.isAnyInvalid=t,r},onChangePaneClick:function(e){e.preventDefault();var t=this.$(e.currentTarget);t.isDisabled()||this.showPane(t.data("pane"))}}},76154:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(13469),i=n.n(r);const s={currentState:null,enterState:function(e){if(e!==this.currentState){var t=this.currentState,n=this.states[e];if(!n)throw new Error("The state machine is unable to enter undefined state: "+e);if(t){var r=this.states[t];if(i().isFunction(r.onExit)){var s=r.onExit.call(this);if(!1===s)return}}if(this.currentState=e,i().isFunction(n.onEnter)){var a=n.onEnter.apply(this,i().rest(arguments));if(!1===a)return void(this.currentState=t)}this.triggerMethod("stateMachineChange",{from:t,to:e})}},enterNextState:function(){var e;if(this.currentState)e=this.states[this.currentState].nextState;else{if(!this.initialState)throw new Error("An initial state must be defined for the state machine");e=this.initialState}e?this.enterState(e):this.triggerMethod("stateMachineComplete")}}},10059:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(53334),i=n(14408),s=n(56442),a=n(84936),o=n(12634);const l=r.Z.extend({name:"FileModel",idAttribute:"key",rootPropertyName:"File",syncedAttrs:{key:i.Z.string,title:i.Z.string,path:i.Z.string,network:i.Z.boolean}}),c=o.Z.extend({name:"FileCollection",model:l}),d=r.Z.extend({name:"FilePathModel",context:["server","includeFiles"],idAttribute:"key",rootPropertyName:"Path",sessionAttrs:{isBackShortcut:i.Z.boolean},sessionRelations:{children:function(){var e={};return this.includeFiles&&(e.includeFiles=1),{relationClass:n(10059).Z,options:{url:a.Z.join([this.id],e)}}}},syncedAttrs:{key:i.Z.string,title:i.Z.string,path:i.Z.string,home:i.Z.boolean,network:i.Z.boolean}}),u=o.Z.extend({name:"FilePathCollection",context:["server","includeFiles"],model:d,url(){var e={};return this.includeFiles&&(e.includeFiles=1),a.Z.join(["/services/browse"],e)}}),p=r.Z.extend({name:"FilePathListModel",responseType:s.AV,context:["server","includeFiles","url"],url(){const e={};return this.includeFiles&&(e.includeFiles=1),a.Z.join(["/services/browse"],e)},sessionAttrs:{truncatedFilesCount:i.Z.integer},syncedRelations:{paths:{relationClass:u,rootPropertyName:"Path"},files:{relationClass:c,rootPropertyName:"File"}},augmentResponse:e=>(e.File&&(e.truncatedFilesCount=Math.max(0,e.File.length-500),e.File=e.File.slice(0,500)),e)})},72601:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(12634),i=n(53334),s=n(14408);const a=i.Z.extend({name:"MatchResultModel",context:["server"],idAttribute:"guid",rootPropertyName:"SearchResult",syncedAttrs:{id:s.Z.integer,guid:s.Z.string,name:s.Z.string,parentGUID:s.Z.string,parentName:s.Z.string,type:s.Z.string,index:s.Z.integer,score:s.Z.integer,thumb:s.Z.string,year:s.Z.integer,matched:s.Z.boolean,disambiguation:s.Z.string,area:s.Z.string,beginArea:s.Z.string,lifespanBegin:s.Z.string,lifespanEnd:s.Z.string,summary:s.Z.string},syncedRelations:{children:function(){return{relationClass:n(72601).Z,rootPropertyName:"SearchResult"}}},derivedAttrs:{normalizedScore:function(){var e=this.get("score");if(null!=e)return Math.min(Math.max(e,0),100)}}}),o=r.Z.extend({name:"MatchResultCollection",context:["server"],model:a,url:function(){return"/library/metadata/"+this.parent.id+"/matches"}})},71576:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(29415),i=n(11023),s=n(19755),a=n.n(s),o=n(13469),l=n.n(o),c=n(69865),d=n(9949),u=n(32707),p=n(55983),m=n(76037),h=n(84936);const g=c.Z.extend({idAttribute:"ratingKey",whitelistedAttrs:["guid","addedAt","composite","duration","key","leafCount","playlistType","ratingKey","smart","summary","title","type","allowSync"],defaults:function(){return{children:new d.Z([],{server:this.server,parent:this,url:function(){const e="/playlists/"+this.parent.id+"/items";let t;return"audio"===this.parent.get("playlistType")&&(t={includeRelated:1}),h.Z.join(e,t)}})}},urlRoot:"/playlists",saveUrl:function(){return"/library/metadata/"+this.id},cacheKey:function(e){if(e.key)return this.server&&this.server.getScopedKey(e.key)},initialize:function(){this.listenToOnce(this.get("children"),"add",(function(e){this.set("art",e.get("art"))}))},sync:function(e,t,n){const r=m.Z.addVersionHeader(2,n);return c.Z.prototype.sync.call(this,e,t,r)},parse:function(e){let t=this.convert(e);return t.Playlist&&(t=t.Playlist),p.Z.parseInteger(t,["duration","leafCount","addedAt"]),p.Z.parseBoolean(t,["smart","allowSync"]),t.isPlaylist=!0,t},findItem:function(e){return this.get("children").findWhere({playlistItemID:e})},moveItem:function(e,t){const n=t?{after:t}:{},r=h.Z.join([l().result(this,"url"),"/items/",e,"/move"],n),i=l().extend(this.server.getXHROptions(r),{type:"PUT"}),s=a().ajax(i),o=this.get("children"),c=this.findItem(e);o.remove(c);const d=this.findItem(t),u=d?o.indexOf(d)+1:0;return o.add(c,{at:u}),s},removeItem:function(e){e=e.toString();const t=h.Z.join([l().result(this,"url"),"/items/",e]),n=l().extend(this.server.getXHROptions(t),{type:"DELETE"}),r=a().ajax(n);r.then(l().bind((function(e){this.set(this.parse(e))}),this));const i=this.get("children"),s=this.findItem(e);return i.remove(s),r},addContent:function(e,t){const n=this.isNew()?"POST":"PUT",r=[l().result(this,"url")],i={};this.isNew()?(i.type=this.get("playlistType"),i.title=this.get("title"),i.smart=this.get("smart")?1:0):r.push("/items"),e.get("playQueueID")?i.playQueueID=e.get("playQueueID"):i.uri=u.Z.uri(e,t);const s=h.Z.join(r,i),o=l().extend(e.server.getXHROptions(s),{type:n}),c=a().ajax(o);return c.then(l().bind((function(e){this.set(this.parse(e))}),this)),c.promise()},isLibraryItem:function(){return!0},isPlexMusicItem:function(){return!1}});var y=n(12634),v=n(90912);const f=y.Z.extend({name:"VersionGeneratorCollection",context:["server"],model:v.Z,url(){return h.Z.join(["playlists",this.parent.id,"items"],{type:i.Z.LOCAL})}}),b=g.extend({defaults:function(){return{children:new f([],{server:this.server,parent:this})}},findItem:function(e){return this.get("children").get(e)},addContent:function(e){var t=[l().result(this,"url"),"items",e.id],n=h.Z.join(t,e.getSaveParams()),r=l().extend(e.server.getXHROptions(n),{type:"PUT"}),i=a().ajax(r);return i.then(l().bind((function(e){this.set(this.parse(e))}),this)),i.promise()}}),S=r.Z.extend({model:b,url:"/playlists?type="+i.Z.LOCAL,parse:function(e){return this.convert(e,"Playlist")}})},50641:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(29415),i=n(11023),s=n(19755),a=n.n(s),o=n(13469),l=n.n(o),c=n(69865),d=n(39879),u=n(32846),p=n(55983),m=n(84936);const h=c.Z.extend({idAttribute:"playQueueID",whitelistedAttrs:["playQueueID","playQueueSelectedItemID","playQueueSelectedItemOffset","playQueueSelectedMetadataItemID","playQueueLastAddedItemID","playQueueShuffled","playQueueSourceURI","playQueueTotalCount","playQueueVersion","message"],defaults:{selectedItem:null,mediaType:null,owned:!0,hasUserAdditions:!1,playQueueVersion:0},metadataElementNames:["Directory","Video","Track","Photo","Hub"],url:function(){return"/playQueues/"+this.id},initialize:function(){this.listenTo(this,"change:message",this.onMessageChange)},_fetch:function(){var e=l().result(this,"url");return this._ajax("GET",e)},convert:function(e){var t=l().isObject(e)?e:p.Z.parseXML(e);return p.Z.parseBoolean(t,"playQueueShuffled"),p.Z.parseInteger(t,["playQueueSelectedItemOffset","playQueueTotalCount","playQueueVersion"]),p.Z.parseArray(t,"Metadata"),t},parse:function(e,t){l().isString(e)&&(e=p.Z.replaceXMLElementNames(e,this.metadataElementNames,"Metadata"));var n=this.convert(e);n.id&&(n.playQueueID=n.id);var r=l().pick(n,this.whitelistedAttrs);return this.set(r,{silent:!0}),this.pendingChanges=this.changed,this.parseItems(n),r},parseItems:function(e){var t=this.get("collection"),n=e.Metadata,r=!!n.length,i=l().pluck(n,"playQueueItemID").indexOf(e.playQueueSelectedItemID),s=e.playQueueSelectedItemOffset-i;l().each(n,(function(t,n){t.queueIndex=s+n,e.identifier&&(t.identifier=e.identifier),e.mediaTagPrefix&&(t.mediaTagPrefix=e.mediaTagPrefix),e.mediaTagVersion&&(t.mediaTagVersion=e.mediaTagVersion)})),t?t.set(n,{parse:r}):(t=new d.Z(n,{server:this.server,parent:this,parse:r}),this.set("collection",t)),t.totalSize=e.playQueueTotalCount,t.availableRange={start:s,end:s+t.length}},moveItem:function(e,t){if(e===this.get("playQueueSelectedItemID"))return a().Deferred().resolve().promise();this.set("hasUserAdditions",!0);var n={after:t||-1},r=m.Z.join([l().result(this,"url"),"/items/",e,"/move"],n);return this._ajax("PUT",r)},getUpNextRange:function(){var e=this.get("collection"),t=e.get(this.get("playQueueSelectedItemID")),n=e.indexOf(t),r=Math.max(n,0),i=r,s=this.get("playQueueLastAddedItemID");if(null!=s){var a=e.get(s),o=e.indexOf(a);o>r&&(i=o)}return{start:r,end:i}},getCurrentItem:function(){var e=this.get("playQueueSelectedItemID");return this.get("collection").findWhere({playQueueItemID:e})||null},_ajax:function(e,t){var n=l().extend(this.server.getXHROptions(t),{type:e}),r=a().ajax(n);return r.done(l().bind((function(e){this.set(this.parse(e)),l().isEmpty(this.pendingChanges)||(l().each(this.pendingChanges,(function(e,t){this.trigger("change:"+t,this,e)}),this),this.trigger("change",this),this.pendingChanges=null),this.set("selectedItem",this.getCurrentItem())}),this)),r.promise()},onMessageChange:function(e,t){t&&u.Z.trigger("show:alert",{type:"error",message:t})}}),g=r.Z.extend({model:h,url:"/playQueues?type="+i.Z.LOCAL,parse:function(e){return this.convert(e,"PlayQueue")}})},90912:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(53334),i=n(14408),s=n(36776),a=n(91135);const o=r.Z.extend({name:"VersionGeneratorMediaSettingsModel",context:["server"],syncedAttrs:{videoQuality:{type:i.Z.integer,save:!0},videoResolution:{type:i.Z.string,save:!0},maxVideoBitrate:{type:i.Z.integer,save:!0},audioBoost:{type:i.Z.integer,save:!0},subtitleSize:{type:i.Z.integer,save:!0},musicBitrate:{type:i.Z.integer,save:!0},photoQuality:{type:i.Z.integer,save:!0},photoResolution:{type:i.Z.string,save:!0}}});var l=n(13469),c=n.n(l),d=n(93683),u=n(56442),p=n(67299),m=n(84936),h=n(12634),g=n(95688);const y=r.Z.extend({name:"VersionGeneratorMetadataModel",context:["server","generator"],idAttribute:"ratingKey",syncedAttrs:c().extend({},g.Z.prototype.syncedAttrs,{processingState:i.Z.string,processingStateContext:i.Z.string})}),v=h.Z.extend({name:"VersionGeneratorMetadataCollection",context:["server","generator"],model:y}),f=r.Z.extend({mixins:[d.Z],name:"VersionGeneratorMetadataListModel",context:["server","generator"],collectionName:"metadataItems",url(){const e=m.Z.join([c().result(this.generator,"url"),"items"]);return this.getPaginatedUrl(e)},sessionAttrs:{currentPageStart:i.Z.integer,currentPageSize:i.Z.integer,populatedRange:i.Z.object},syncedAttrs:{totalSize:i.Z.integer,identifier:i.Z.string,mediaTagPrefix:i.Z.string,mediaTagVersion:i.Z.string,viewGroup:i.Z.string,title:i.Z.string},syncedRelations:{metadataItems:{relationClass:v,rootPropertyName:"Metadata",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()},augmentResponseText:(e,t)=>t===u.Ls?(0,p.Z)(e):e}),b=r.Z.extend({name:"VersionGeneratorPolicyModel",context:["server"],syncedAttrs:{scope:{type:i.Z.string,save:!0},value:{type:i.Z.integer,save:!0},unwatched:{type:i.Z.boolean,save:!0}},defaults:{unwatched:!1}}),S=r.Z.extend({name:"VersionGeneratorStatusModel",context:["server"],syncedAttrs:{state:i.Z.string,failureCode:i.Z.string,failure:i.Z.string,itemsCount:i.Z.integer,itemsCompleteCount:i.Z.integer,itemsSuccessfulCount:i.Z.integer,itemsFailedCount:i.Z.integer,itemsDisabledCount:i.Z.integer,totalSize:i.Z.integer}}),I=r.Z.extend({name:"VersionGeneratorModel",context:["server","section","playlistID"],rootPropertyName:"Item",cache:new s.Z,cacheKey(e){return this.server&&this.server.getScopedKey(e.id)},urlRoot(){return`/playlists/${this.playlistID||this.parent.id}/items`},syncedAttrs:{id:i.Z.integer,clientIdentifier:i.Z.string,contentType:i.Z.string,composite:i.Z.string,type:{type:i.Z.integer,save:!0},title:{type:i.Z.string,save:!0},target:{type:i.Z.string,save:!0},targetTagID:{type:i.Z.integer,save:!0},locationID:{type:i.Z.integer,save:!0},Location:{type:i.Z.object,save:!0},Device:{type:i.Z.object,save:!0}},sessionRelations:{children:{relationClass:f,options(){return{generator:this}}}},syncedRelations:{status:{relationClass:S,rootPropertyName:"Status"},policy:{relationClass:b,rootPropertyName:"Policy",save:!0},mediaSettings:{relationClass:o,rootPropertyName:"MediaSettings",save:!0}},derivedAttrs:{isDirectory(){const e=this.get("Location");if(e.uri)return/(playlist:\/\/|library:\/\/([\w-]*)\/directory\/)/.test(e.uri)}},defaults:()=>({type:42,locationID:-1,Location:{},Device:{}}),defaultCounts:{[a.pX]:5,[a.j0]:50,[a.pV]:50},warningCounts:{[a.pX]:10,[a.j0]:100,[a.pV]:100},getSaveParams(e,t){const n=r.Z.prototype.getSaveParams.apply(this,arguments);return n.targetTagID&&(delete n.MediaSettings,delete n.Device),{Item:n}},setPolicyDefaultsFor(e){const t=this.get("policy"),n=this.get("isDirectory");return t.has("scope")||t.set("scope",n?"count":"all"),!t.has("value")&&n&&t.set("value",this.defaultCounts[e]),this},shouldShowPolicyWarning(e,t){const n=this.get("policy").get("scope");return"count"===n?t>this.warningCounts[e]:"all"===n&&this.get("isDirectory")}})},39092:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(13469),i=n.n(r),s=n(12634),a=n(56442),o=n(67299),l=n(69881),c=n(84936),d=n(53334),u=n(14408);const p=d.Z.extend({name:"MetadataAutocompleteResultModel",context:["server","section","multiMetadataItem","query"],idAttribute:"ratingKey",rootPropertyName:"Metadata",syncedAttrs:{elementName:u.Z.string,ratingKey:u.Z.string,parentRatingKey:u.Z.string,grandparentRatingKey:u.Z.string,type:u.Z.string,title:u.Z.string,parentTitle:u.Z.string,grandparentTitle:u.Z.string,tag:u.Z.string,tagType:u.Z.integer}});function m(e,t,n){const r=/!$/.test(n),i=/\.id$/.test(n);if(r||i)return e[n]=t,e;const s=n.match(/^(.+)\.(.+)/);return s&&(e.type=(0,l.getMetadataType)(s[1]).id,n=s[2]),e[n+".query"]=t,e}const h=s.Z.extend({name:"MetadataAutocompleteResultCollection",context:["server","section","multiMetadataItem","query"],model:p,url(){var e={type:(0,l.getMetadataType)(this.multiMetadataItem.get("type")).id,limit:10};return e=i().reduce(this.query,m,e),c.Z.join([this.multiMetadataItem.sectionUrl(),"autocomplete"],e)},augmentResponseText:(e,t)=>t===a.Ls?(0,o.Z)(e):e})},69184:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(95688),i=n(36776),s=n(4844),a=n(13001);const o=r.Z.extend({name:"SyncMetadataModel",entityType:a.SYNC_METADATA_ITEM,entityID(e=this.state){return(0,s.Z)(this.entityType,e.ratingKey,this.syncItemId,this.server.entityID())},context:["server","device","syncItemId"],cache:new i.Z,cacheKey:function(){const e=r.Z.prototype.cacheKey.apply(this,arguments);return e+"!"+this.syncItemId}})},48767:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(12634),i=n(53334),s=n(14408);const a=i.Z.extend({name:"AvailableProviderModel",context:["server"],rootPropertyName:"MediaProvider",syncedAttrs:{identifier:s.Z.string,title:s.Z.string}}),o=r.Z.extend({name:"AvailableProvidersCollection",context:["server"],model:a,url:"/media/providers?ignore_opt_outs=true"})},92056:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(12634),i=n(45381);const s=r.Z.extend({name:"MediaGrabberDeviceCollection",context:["server"],model:i.ZP,url:"/media/grabbers/devices"})},45381:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>p,vh:()=>u});var r=n(53334),i=n(14408),s=n(69653),a=n(57322),o=n(12634),l=n(9481);const c=r.Z.extend({name:"MediaGrabberDeviceChannelModel",rootPropertyName:"DeviceChannel",idAttribute:"key",syncedAttrs:{key:i.Z.string,identifier:i.Z.string,name:i.Z.string,drm:i.Z.boolean,hd:i.Z.boolean,signalStrength:i.Z.integer,signalQuality:i.Z.integer},augmentResponse:e=>(e.key=e.key||e.identifier,e)}),d=o.Z.extend({name:"MediaGrabberDeviceChannelCollection",context:["server"],model:c,comparator:(e,t)=>(0,l.Z)(e.get("identifier"),t.get("identifier"))}),u={DEAD:"dead",ALIVE:"alive"},p=r.Z.extend({name:"MediaGrabberDeviceModel",context:["server"],rootPropertyName:"Device",idAttribute:"key",sessionAttrs:{isChannelsPending:i.Z.boolean,isChannelsPopulated:i.Z.boolean,channelsError:i.Z.object,selectedSource:i.Z.string,isSaving:i.Z.boolean,saveError:i.Z.object},sessionRelations:{channels:{relationClass:d}},syncedAttrs:{key:i.Z.integer,uuid:i.Z.string,parentID:i.Z.integer,uri:i.Z.string,protocol:i.Z.string,status:i.Z.string,state:i.Z.string,lastSeenAt:i.Z.integer,make:i.Z.string,model:i.Z.string,modelNumber:i.Z.string,source:i.Z.integer,sources:i.Z.list,title:i.Z.string,tuners:i.Z.integer,thumb:i.Z.string,unsupported:i.Z.boolean},syncedRelations:{channelMappings:{rootPropertyName:"ChannelMapping",relationClass:a.Z},prefs:{relationClass:s.Z,rootPropertyName:"Setting",deferred:!0,save:!0}},defaults:{isChannelsPending:!1,isChannelsPopulated:!1,channelsError:null,isSaving:!1,saveError:null,unsupported:!1}})},83654:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(12634),i=n(53334),s=n(14408);const a=i.Z.extend({name:"DVRNetworkModel",sessionAttrs:{key:s.Z.string,title:s.Z.string}}),o=r.Z.extend({name:"DVRNetworkCollection",model:a})},66764:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(12634),i=n(9947);const s=r.Z.extend({name:"DVRCollection",context:["server"],model:i.Z,url:"/livetv/dvrs"})},9947:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(53334),i=n(14408),s=n(69653),a=n(92056);const o=r.Z.extend({name:"DVRModel",context:["server"],rootPropertyName:"Dvr",idAttribute:"key",sessionAttrs:{isSaving:i.Z.boolean,saveError:i.Z.object},syncedAttrs:{key:i.Z.integer,epgIdentifier:i.Z.string,country:i.Z.string,language:i.Z.string,lineup:i.Z.string,lineupTitle:i.Z.string,uuid:i.Z.string},syncedRelations:{devices:{relationClass:a.Z,rootPropertyName:"Device"},prefs:{relationClass:s.Z,rootPropertyName:"Setting",deferred:!0,save:!0}},defaults:{isSaving:!1,saveError:null}})},57322:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(12634),i=n(53334),s=n(14408);const a=i.Z.extend({name:"ChannelMappingModel",context:["server"],rootPropertyName:"ChannelMapping",idAttribute:"deviceIdentifier",syncedAttrs:{deviceIdentifier:s.Z.string,lineupIdentifier:s.Z.string,channelKey:s.Z.string,enabled:s.Z.boolean},defaults:{enabled:!1}}),o=r.Z.extend({name:"ChannelMappingCollection",context:["server"],model:a})},73913:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(13469),i=n.n(r),s=n(12634),a=n(89905),o=n(53334),l=n(14408),c=n(56442);const d=o.Z.extend({name:"AgentAttributionModel",context:["server"],responseType:c.fL,syncedAttrs:{content:l.Z.string},url:function(){return"/system/agents/attribution?identifier="+this.parent.id},augmentResponse:function(e){return{content:e}}});var u=n(76334);const p=o.Z.extend({name:"LanguageModel",context:["server"],idAttribute:"code",rootPropertyName:"Language",syncedAttrs:{code:l.Z.string,title:l.Z.string,default:l.Z.boolean},derivedAttrs:{name:function(){return this.get("title")||(0,u.Z)(this.get("code"))}}}),m=s.Z.extend({name:"LanguageCollection",context:["server"],model:p,comparator:"name"}),h=o.Z.extend({name:"AgentModel",context:["server"],idAttribute:"identifier",rootPropertyName:"Agent",sessionAttrs:{isPrimary:l.Z.boolean,selected:l.Z.boolean},sessionRelations:{attribution:{relationClass:d}},syncedAttrs:{identifier:l.Z.string,name:l.Z.string,enabled:l.Z.boolean,hasPrefs:l.Z.boolean,order:l.Z.string},syncedRelations:{languages:{relationClass:m,rootPropertyName:"Language"}}}),g=s.Z.extend({name:"AgentCollection",context:["server","mediaTypeID","primaryAgentID","relatedAgentID"],model:h,cache:new a.Z,cacheKey:function(){var e=i().result(this,"url");return this.server&&this.server.getScopedKey(e)},url:function(){var e="/system/agents";return this.primaryAgentID?e+"/contributors?mediaType="+this.mediaTypeID+"&primaryAgent="+this.primaryAgentID:this.relatedAgentID?e+"/"+this.relatedAgentID+"/config/"+this.mediaTypeID:this.mediaTypeID?e+"?mediaType="+this.mediaTypeID:e},hasExclusiveAgent:function(e){return!!i().intersection(this.pluck("identifier"),e).length}})},43270:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(13469),i=n.n(r),s=n(12152),a=n.n(s);const o=a().extend({constructor:function(e,t,n,r){this.exclusiveAgents=t,this.agentIdentifier=n,a().call(this,e,r),this.filterBy(i().bind(this.filterExclusiveAgent,this))},filterExclusiveAgent:function(e){var t=e.get("identifier"),n=this.exclusiveAgents;if(!n)return!0;var r=this.agentIdentifier,i=-1!==n.indexOf(r),s=-1!==n.indexOf(t);return i?t===r:!s}})},1521:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(13469),i=n.n(r),s=n(53334);const a=s.Z.extend({additionalRelations:[],copyFromModel(e,t){this._copy(e,this,t)},copyToModel(e,t){this._copy(this,e,t)},_copy(e,t,n={}){const r=!!t.releaseCapturedChangeEvents;r||t.startCapturingChangeEvents(),this._copyAttributes(e,t,n),this._copyRelations(e,t,n),r||t.releaseCapturedChangeEvents()},_copyAttributes(e,t,n){const r={};i().each(this.syncedAttrs,((t,i)=>{n.included&&!n.included.includes(i)||(r[i]=e.get(i))})),t.set(r)},_copyRelations(e,t,n){i().each(this.syncedRelations,((r,i)=>{if(n.included&&!n.included.includes(i))return;if(this.additionalRelations.includes(i))return;const a=e.get(i),o=t.get(i);if(a&&o){const e=a.toJSON();o instanceof s.Z?o.set(o.parse(e)):o.set(e,{parse:!0})}}))}})},99340:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(14408),i=n(12634),s=n(53334);const a=s.Z.extend({name:"StoredConnectionSourceModel",syncedAttrs:{id:r.Z.string}}),o=i.Z.extend({name:"StoredConnectionSourceCollection",model:a}),l=s.Z.extend({name:"StoredConnectionModel",idAttribute:"uri",syncedAttrs:{uri:r.Z.string,scheme:r.Z.string,address:r.Z.string,port:r.Z.string,relay:r.Z.boolean},syncedRelations:{sources:{relationClass:o}}}),c=i.Z.extend({name:"StoredConnectionCollection",model:l});var d=n(1521),u=n(30369),p=n(45224),m=Object.defineProperty,h=Object.prototype.hasOwnProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.propertyIsEnumerable,v=(e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const f=s.Z.extend({name:"StoredProviderModel",idAttribute:"identifier",syncedAttrs:((e,t)=>{for(var n in t||(t={}))h.call(t,n)&&v(e,n,t[n]);if(g)for(var n of g(t))y.call(t,n)&&v(e,n,t[n]);return e})({},p.Z.prototype.syncedAttrs),syncedRelations:{features:{relationClass:u.Z}}}),b=i.Z.extend({name:"StoredProviderCollection",model:f}),S=d.Z.extend({name:"StoredServerModel",idAttribute:"machineIdentifier",additionalRelations:["connections"],syncedAttrs:{machineIdentifier:r.Z.string,friendlyName:r.Z.string,accessToken:r.Z.string,sourceTitle:r.Z.string,home:r.Z.boolean,serverClass:r.Z.string,platform:r.Z.string,isShared:r.Z.boolean,version:r.Z.string,publicAddressMatches:r.Z.boolean,ownerId:r.Z.integer,mediaProviders:r.Z.integer},syncedRelations:{providers:{relationClass:b},connections:{relationClass:c}}})},23593:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(14408),i=n(60214),s=(n(11133),n(12634)),a=n(93966),o=n(86278),l=n(85667),c=n(69790),d=n(57578),u=n(77727),p=n(1521),m=n(99340);const h=s.Z.extend({name:"StoredServerCollection",model:m.Z});var g=n(53334),y=n(19375),v=Object.defineProperty,f=Object.prototype.hasOwnProperty,b=Object.getOwnPropertySymbols,S=Object.prototype.propertyIsEnumerable,I=(e,t,n)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z=(e,t)=>{for(var n in t||(t={}))f.call(t,n)&&I(e,n,t[n]);if(b)for(var n of b(t))S.call(t,n)&&I(e,n,t[n]);return e};const P=g.Z.extend({name:"StoredUserSettingModel",syncedAttrs:Z(Z({},y.Z.prototype.syncedAttrs),{isDirty:r.Z.boolean})}),E=s.Z.extend({name:"StoredUserSettingCollection",model:P}),M=p.Z.extend({name:"StoredUserModel",additionalRelations:["servers"],syncedAttrs:{id:r.Z.integer,authToken:r.Z.string,anonymous:r.Z.boolean,username:r.Z.string,email:r.Z.string,title:r.Z.string,thumb:r.Z.string,pin:r.Z.string,home:r.Z.boolean,restricted:r.Z.boolean,guest:r.Z.boolean,hasAllEntitlements:r.Z.boolean,lastPrimaryServerID:r.Z.string},syncedRelations:{subscriptions:{relationClass:u.Z},roles:{relationClass:c.Z},entitlements:{relationClass:l.Z},services:{relationClass:d.Z},features:{relationClass:o.Z},settings:{relationClass:E},experienceSettings:()=>({relationClass:(0,a.DB)("StoredUserExperienceSettingsModel")}),servers:{relationClass:h}},clearSensitiveAttributes(){this.unset("authToken"),this.unset("pin"),this.get("servers").reset()}}),C=s.Z.extend({name:"StoredUserCollection",model:M}),w=new(i.Z.extend({name:"UserStorageModel",storageKey:"users",sessionAttrs:{activeUserID:r.Z.integer},syncedRelations:{users:{relationClass:C}},initialize(){this.debouncedSaveTimeout=null},debouncedSave(){this.debouncedSaveTimeout&&window.clearTimeout(this.debouncedSaveTimeout),this.debouncedSaveTimeout=window.setTimeout((()=>this.save()),1e3)},flushDebouncedSave(){this.debouncedSaveTimeout&&(window.clearTimeout(this.debouncedSaveTimeout),this.save())},getActiveUser(){const e=this.get("users"),t=this.get("activeUserID");if(null!=t)return e.get(t)},clearActiveUser(){const e=this.getActiveUser();return e&&e.clearSensitiveAttributes(),this.unset("activeUserID"),this.save()},getActiveServers(){const e=this.getActiveUser();if(e)return e.get("servers")}}))},78954:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(13469),i=n.n(r),s=n(14408),a=n(76037),o=n(90912);const l=o.Z.extend({name:"SyncItemModel",context:["server","device"],urlRoot(){return`/devices/${this.device?this.device.get("clientIdentifier"):this.get("clientIdentifier")}/sync_items`},syncedAttrs:i().extend({},o.Z.prototype.syncedAttrs,{version:{type:s.Z.integer,save:!0},metadataType:{type:s.Z.string,save:!0},rootTitle:{type:s.Z.string,save:!0},machineIdentifier:{type:s.Z.string,save:!0},Server:s.Z.object}),defaults:()=>({Location:{},Device:{},Server:{}}),augmentResponse:e=>("photoAlbum"===e.metadataType&&(e.metadataType="photoalbum"),e),sync(e,t,n){const r=a.Z.addVersionHeaderForDevice(this.device,n);return o.Z.prototype.sync.call(this,e,t,r)},getSaveParams(e,t){const n=o.Z.prototype.getSaveParams.apply(this,arguments).Item;return i().each(n,(function(e,t){""===e&&delete n[t]})),{SyncItem:n}}})},75557:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w,C:()=>C});var r=n(53334),i=n(14408),s=n(69653),a=n(92056),o=n(45381),l=n(83654),c=n(12634);const d=r.Z.extend({name:"DVRSetupErrorMessageModel",sessionAttrs:{id:i.Z.string,message:i.Z.string}}),u=c.Z.extend({name:"DVRSetupErrorMessageCollection",model:d});var p=n(9947);const m=r.Z.extend({name:"EPGCountryModel",context:["server"],idAttribute:"code",rootPropertyName:"Country",syncedAttrs:{key:i.Z.string,type:i.Z.string,title:i.Z.string,code:i.Z.string,example:i.Z.string,flavor:i.Z.integer,language:i.Z.string,languageTitle:i.Z.string}}),h=c.Z.extend({name:"EPGCountryCollection",context:["server"],model:m,url:"/livetv/epg/countries"}),g=r.Z.extend({name:"EPGCountryRegionModel",context:["server"],idAttribute:"key",rootPropertyName:"Region",syncedAttrs:{key:i.Z.string,type:i.Z.string,title:i.Z.string}}),y=c.Z.extend({name:"EPGCountryRegionCollection",context:["server"],model:g}),v=r.Z.extend({name:"EPGLineupModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Lineup",syncedAttrs:{uuid:i.Z.string,type:i.Z.string,title:i.Z.string,lineupType:i.Z.integer,location:i.Z.string},defaults:{location:""}}),f=c.Z.extend({name:"EPGCountryRegionCollection",context:["server"],model:v}),b=r.Z.extend({name:"EPGLineupGroupModel",context:["server"],idAttribute:"uuid",syncedAttrs:{uuid:i.Z.string},syncedRelations:{lineups:{relationClass:f,rootPropertyName:"Lineup"}}}),S=r.Z.extend({name:"EPGLanguageModel",context:["server"],rootPropertyName:"Language",idAttribute:"code",syncedAttrs:{code:i.Z.string,title:i.Z.string}}),I=c.Z.extend({name:"EPGLanguageCollection",context:["server"],model:S,url:"/livetv/epg/languages"}),Z=r.Z.extend({name:"EPGSettingsModel",context:["server"],sessionAttrs:{baseUrl:i.Z.string,postalCode:i.Z.string,isFetching:i.Z.boolean,isPopulated:i.Z.boolean},sessionRelations:{countries:{relationClass:h},languages:{relationClass:I},regions:{relationClass:y},lineupGroup:{relationClass:b},selectedCountry:{relationClass:m,deferred:!0},selectedLanguage:{relationClass:S,deferred:!0},selectedRegion:{relationClass:g,deferred:!0}},defaults:{baseUrl:"/livetv/epg/countries",isFetching:!1,isPopulated:!1,postalCode:""}}),P=r.Z.extend({name:"EPGChannelModel",context:["server"],rootPropertyName:"Channel",syncedAttrs:{identifier:i.Z.string,key:i.Z.string,callSign:i.Z.string,thumb:i.Z.string,title:i.Z.string,hd:i.Z.boolean},defaults:{hd:!1}}),E=c.Z.extend({name:"EPGChannelCollection",context:["server"],model:P});var M=n(57322);const C={DEVICE:"device",UNSUPPORTED_DEVICE:"unsupportedDevice",DEVICE_CHANNELS:"deviceChannels",EPG:"epg",EPG_MAPPING:"epgMapping",CHANNEL_MAPPING:"channelMapping",EPG_DOWNLOAD:"epgDownload"},w=r.Z.extend({name:"DVRSetupModel",context:["server"],sessionAttrs:{isDevicesPending:i.Z.boolean,isDevicesPopulated:i.Z.boolean,devicesError:i.Z.object,isDiscoveringDevices:i.Z.boolean,isChannelMappingsPending:i.Z.boolean,isChannelMappingsPopulated:i.Z.boolean,channelMappingsError:i.Z.object,isChannelMappingsSaving:i.Z.boolean,channelMappingsSaveError:i.Z.object,isLineupChannelsPending:i.Z.boolean,isLineupChannelsPopulated:i.Z.boolean,lineupChannelsError:i.Z.object,epgLineupActivityID:i.Z.string,epgDownloadActivityID:i.Z.string,step:i.Z.string,selectedLineupUUID:i.Z.string,addDevicePending:i.Z.boolean,isSavingDVR:i.Z.boolean,hasScannedChannels:i.Z.boolean},sessionRelations:{devices:{relationClass:a.Z},lineupChannels:{relationClass:E},epgSettings:{relationClass:Z},channelMappings:{relationClass:M.Z},selectedDVR:{relationClass:p.Z,deferred:!0},selectedDevice:{relationClass:o.ZP,deferred:!0},selectedLanguage:{relationClass:S,deferred:!0},setupErrorMessages:{relationClass:u},scanPrefs:{relationClass:s.Z,deferred:!0},scanNetworks:{relationClass:l.Z,deferred:!0}},defaults:{step:C.DEVICE,isDevicesPending:!1,isDevicesPopulated:!1,isDiscoveringDevices:!1,devicesError:null,isChannelMappingsPending:!1,isChannelMappingsPopulated:!1,channelMappingsError:null,isChannelMappingsSaving:!1,channelMappingsSaveError:null,isLineupChannelsPending:!1,isLineupChannelsPopulated:!1,lineupChannelsError:null,epgLineupActivityID:"",epgDownloadActivityID:"",addDevicePending:!1,isSavingDVR:!1,hasScannedChannels:!1}})},24781:(e,t,n)=>{"use strict";n.d(t,{p:()=>o,Z:()=>l});var r=n(53334),i=n(14408),s=n(47985),a=n(68187);const o={WARNING:"warning",USER:"user",LIBRARIES:"libraries",RESTRICTIONS:"restrictions",SUMMARY:"summary"},l=r.Z.extend({name:"ShareModalModel",context:["server"],sessionAttrs:{steps:i.Z.array,step:i.Z.string,metadataItemEntityID:i.Z.string,friendEntityID:i.Z.string,username:i.Z.string,restrictionProfileIdentifier:i.Z.string,isNewFriend:i.Z.boolean,isAddingHomeUser:i.Z.boolean,isCreatingManagedUser:i.Z.boolean,selectedAllLibrariesMachineIdentifiers:i.Z.array,selectedLibrarySectionIDs:i.Z.array,filterOptionsTags:i.Z.object,isUsernameValidating:i.Z.boolean,isUsernameValidated:i.Z.boolean,isServerOverviewsPopulating:i.Z.boolean,isServerOverviewsPopulated:i.Z.boolean,isServerSharesPopulating:i.Z.boolean,isServerSharesPopulated:i.Z.boolean,serverSharesError:i.Z.string,isFilterOptionsTagsPopulating:i.Z.boolean,isFilterOptionsTagsPopulated:i.Z.boolean,isSharingPending:i.Z.boolean,isSharingCompleted:i.Z.boolean,sharingError:i.Z.string,inviteToken:i.Z.string,inviteTokenError:i.Z.string},sessionRelations:{serverOverviews:{relationClass:s.Z,deferred:!0}},defaults:()=>({steps:[],step:null,metadataItemEntityID:null,friendEntityID:null,username:"",restrictionProfileIdentifier:a.Cc,isNewFriend:!1,isAddingHomeUser:!1,isCreatingManagedUser:!1,selectedAllLibrariesMachineIdentifiers:null,selectedLibrarySectionIDs:null,filterOptionsTags:{},isUsernameValidating:!1,isUsernameValidated:!1,isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!1,isServerSharesPopulating:!1,isServerSharesPopulated:!1,serverSharesError:null,isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!1,isSharingPending:!1,isSharingCompleted:!1,sharingError:null,inviteToken:null,inviteTokenError:null})})},22724:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(53334),i=n(14408),s=n(4844),a=n(15042),o=n(99394),l=n(12634),c=n(1039);const d=l.Z.extend({name:"ServerShareCollection2",context:["server"],model:c.Z});var u=Object.defineProperty,p=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const y=r.Z.extend({name:"FriendModel2",context:["server"],rootPropertyName:"User",entityType:a.vO,entityID(e=this.state){return(0,s.Z)(this.entityType,e.id)},urlRoot(){return this.get("home")?"/api/users":"/api/friends"},sessionAttrs:{user:i.Z.string,isRemoving:i.Z.boolean},syncedAttrs:((e,t)=>{for(var n in t||(t={}))p.call(t,n)&&g(e,n,t[n]);if(m)for(var n of m(t))h.call(t,n)&&g(e,n,t[n]);return e})({id:i.Z.integer,home:i.Z.boolean,protected:i.Z.boolean,restricted:i.Z.boolean,title:i.Z.string,username:i.Z.string,email:i.Z.string,thumb:i.Z.string,recommendationsPlaylistId:i.Z.string},o.Z),syncedRelations:{serverShares:{relationClass:d,rootPropertyName:"Server"}},defaults:{isRemoving:!1}})},92216:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(29415),i=n(13469),s=n.n(i),a=n(69865),o=n(55983);const l=a.Z.extend({urlRoot:"/api/home/users",whitelistedAttrs:["id","uuid","admin","protected","restricted","restrictionProfile","guest","title","username","email","thumb"],convert(e){let t=s().isObject(e)?e:o.Z.parseXML(e);return t.User&&(t=t.User),o.Z.parseInteger(t,"id"),o.Z.parseBoolean(t,["admin","protected","restricted","guest"]),t},parse(e){let t=this.convert(e);return t=s().pick(t,this.whitelistedAttrs),t},getSaveParams(e,t){if(s().isEmpty(e)){const e={};return this.get("restricted")?e.title=this.get("title"):this.isNew()&&(e.invitedEmail=this.get("username")),e}return a.Z.prototype.getSaveParams.apply(this,arguments)}}),c=r.Z.extend({model:l,url:"/api/home/users",parse(e){return this.convert(e,"User")}})},1483:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(13469),i=n.n(r),s=n(53334),a=n(14408),o=n(4844),l=n(15042),c=n(99394),d=n(84936),u=Object.defineProperty,p=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const y=s.Z.extend({name:"HomeUserModel",context:["server"],rootPropertyName:"User",entityType:l.Tl,entityID(e=this.state){return(0,o.Z)(this.entityType,e.id)},urlRoot(){return this.get("restricted")?"/api/v2/home/users":"/api/home/users"},saveUrl(){let e=i().result(this,"url");return this.get("restricted")&&(e=d.Z.join([e,"/restricted"])),e},pinUrl(){const e=this.get("restricted")?"/api/v2/home/users/restricted":"/api/home/users";return d.Z.join([e,this.get("id")])},sessionAttrs:{isRemoving:a.Z.boolean},syncedAttrs:((e,t)=>{for(var n in t||(t={}))p.call(t,n)&&g(e,n,t[n]);if(m)for(var n of m(t))h.call(t,n)&&g(e,n,t[n]);return e})({id:a.Z.integer,uuid:a.Z.string,admin:a.Z.boolean,protected:a.Z.boolean,restricted:a.Z.boolean,restrictionProfile:a.Z.string,guest:a.Z.boolean,title:a.Z.string,username:a.Z.string,email:a.Z.string,thumb:a.Z.string},c.Z),defaults:{isRemoving:!1},getSaveParams(e){const t=s.Z.prototype.getSaveParams.apply(this,arguments);return e&&0!==Object.keys(e).length||(this.get("restrictionProfile")&&(t.restrictionProfile=this.get("restrictionProfile")),t.sharingSettings={},Object.keys(c.Z).forEach((e=>{t.hasOwnProperty(e)&&(t.sharingSettings[e]=t[e],delete t[e])})),this.get("restricted")?t.friendlyName=this.get("username"):this.isNew()&&(t.invitedEmail=this.get("username"))),t}})},1039:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(53334),i=n(14408),s=n(64297),a=n(56442),o=n(12634);const l=r.Z.extend({name:"ServerShareLibraryModel",syncedAttrs:{id:i.Z.integer,key:i.Z.string,title:i.Z.string,type:i.Z.string}}),c=o.Z.extend({name:"ServerShareLibraryCollection",context:["server"],model:l});var d=n(99394);const u=r.Z.extend({name:"ServerShareSharingSettingsModel",syncedAttrs:d.Z}),p=r.Z.extend({name:"ServerShareModel2",context:["server"],mergeStrategy:s.Z,responseType:a.AV,urlRoot:"api/v2/shared_servers",syncedAttrs:{id:i.Z.integer,serverId:i.Z.integer,machineIdentifier:i.Z.string,name:i.Z.string,owned:i.Z.boolean,admin:i.Z.boolean,pending:i.Z.boolean,accepted:i.Z.boolean,ownerId:i.Z.integer,inviteToken:i.Z.string,invitedEmail:i.Z.string,invitedAt:i.Z.string,acceptedAt:i.Z.string,lastSeenAt:i.Z.string,deletedAt:i.Z.string,leftAt:i.Z.string,numLibraries:i.Z.integer,allLibraries:i.Z.boolean},syncedRelations:{libraries:{relationClass:c},sharingSettings:{relationClass:u}}})},85667:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(12634),i=n(53334),s=n(14408);const a=i.Z.extend({name:"UserEntitlementModel",syncedAttrs:{id:s.Z.string}}),o=r.Z.extend({name:"UserEntitlementCollection",model:a})},69790:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(12634),i=n(53334),s=n(14408);const a=i.Z.extend({name:"UserRoleModel",syncedAttrs:{id:s.Z.string}}),o=r.Z.extend({name:"UserRoleCollection",model:a})},57578:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(12634),i=n(53334),s=n(14408);const a=i.Z.extend({name:"UserServiceModel",syncedAttrs:{id:s.Z.string,subscriptionType:s.Z.string}}),o=r.Z.extend({name:"UserServiceCollection",model:a})},19375:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(53334),i=n(14408),s=n(86017),a=n(67124),o=n(85022);const l={bool:s.Z,json:o.Z},c=r.Z.extend({name:"UserSettingModel",context:["server"],sessionAttrs:{isDirty:i.Z.boolean},syncedAttrs:{id:i.Z.string,type:i.Z.string,value:i.Z.oneOfType(i.Z.boolean,i.Z.object),hidden:i.Z.boolean,updatedAt:i.Z.integer},defaults:{isDirty:!1},augmentResponse(e){const t=this.get("isDirty"),n=this.get("updatedAt"),r=(0,a.Z)(e.updatedAt),i=n&&r&&n<r;if(t&&n===r||n&&r&&n>r)return this.toJSON();t&&i&&(e.isDirty=!1);const s=l[e.type];return s&&(e.value=s(e.value)),e}})},77727:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(12634),i=n(53334),s=n(14408),a=n(12610),o=n(1547);const l=i.Z.extend({name:"UserSubscriptionModel",syncedAttrs:{type:s.Z.oneOf(...o.ZP).isRequired,state:s.Z.oneOf(...a.ZP).isRequired,mode:s.Z.string.isRequired}}),c=r.Z.extend({name:"UserSubscriptionCollection",model:l})},43451:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M,U:()=>E});var r=n(14408),i=n(53334),s=n(12634),a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};const p={hubIdentifier:r.Z.string,hubKey:r.Z.string,key:r.Z.string,style:r.Z.string,subtype:r.Z.string,title:r.Z.string,type:r.Z.string},m={friendlyName:r.Z.string,machineIdentifier:r.Z.string.isRequired,sourceTitle:r.Z.string},h={identifier:r.Z.string,providerIdentifier:r.Z.string,title:r.Z.string},g=i.Z.extend({name:"HomeHubProviderModel",syncedAttrs:u({},h)}),y=i.Z.extend({name:"HomeHubServerModel",syncedAttrs:u({},m)}),v=i.Z.extend({name:"HomeHubModel",syncedAttrs:u(u({},p),{id:r.Z.string.isRequired,directoryID:r.Z.string.isRequired,directoryKey:r.Z.string.isRequired,isHidden:r.Z.boolean.isRequired,hiddenAt:r.Z.integer}),syncedRelations:{provider:{relationClass:g},server:{relationClass:y}},defaults:{isHidden:!1}}),f=s.Z.extend({name:"HomeHubCollection",model:v});var b=n(99317);const S=i.Z.extend({name:"HomeSettingsModel",syncedAttrs:{hasCustomizations:r.Z.boolean.isRequired,hasSeededPreferredServerContent:r.Z.boolean.isRequired,hasSeededProviderPromotedContent:r.Z.boolean.isRequired,preferredServerID:r.Z.string,settingsKey:r.Z.string.isRequired,version:r.Z.integer.isRequired},syncedRelations:{hubs:{relationClass:f}},defaults:()=>({hasCustomizations:!1,hasSeededPreferredServerContent:!1,hasSeededProviderPromotedContent:!1,settingsKey:(0,b.Z)(),version:1})}),I=i.Z.extend({name:"SidebarSourceModel",idAttribute:"key",syncedAttrs:{key:r.Z.string.isRequired,sourceType:r.Z.string.isRequired,machineIdentifier:r.Z.string.isRequired,providerIdentifier:r.Z.string.isRequired,directoryID:r.Z.string,directoryIcon:r.Z.string,title:r.Z.string.isRequired,serverFriendlyName:r.Z.string.isRequired,serverSourceTitle:r.Z.string,providerSourceTitle:r.Z.string,detail:r.Z.string,isCloud:r.Z.boolean,isFullOwnedServer:r.Z.boolean,isHidden:r.Z.boolean.isRequired,hiddenAt:r.Z.integer},defaults:{isHidden:!1}}),Z=s.Z.extend({name:"SidebarSourceCollection",model:I}),P=i.Z.extend({name:"SidebarSettingsModel",syncedAttrs:{hasCompletedSetup:r.Z.boolean.isRequired},syncedRelations:{pinnedSources:{relationClass:Z}},defaults:()=>({hasCompletedSetup:!1})}),E="experience",M={sessionAttrs:{sidebarPreferredSourcesSavedEnteredPath:r.Z.string,isDirty:r.Z.boolean.isRequired,isSaving:r.Z.boolean.isRequired,saveError:r.Z.object},syncedAttrs:{updatedAt:r.Z.integer,autoHomeHubsEnabled:r.Z.boolean,shouldSaveLastSourcePivots:r.Z.boolean.isRequired,lastSourcePivots:r.Z.object.isRequired,savedPivotParams:r.Z.object.isRequired,autoPinnedProviders:r.Z.array.isRequired,dismissedUpsellModals:r.Z.array},syncedRelations:{homeSettings:{relationClass:S},sidebarSettings:{relationClass:P}},defaults:{autoHomeHubsEnabled:null,sidebarPreferredSourcesSavedEnteredPath:null,isDirty:!1,isSaving:!1,saveError:null,shouldSaveLastSourcePivots:!0,lastSourcePivots:{},savedPivotParams:{},autoPinnedProviders:[],dismissedUpsellModals:[]}}},93066:(e,t,n)=>{"use strict";n.d(t,{Mv:()=>r,TA:()=>i,cW:()=>s,PG:()=>a,Mo:()=>o,Xx:()=>l,W:()=>c,ei:()=>d,$F:()=>u,SJ:()=>p,Hj:()=>m,w:()=>h,Op:()=>g,tL:()=>y,k4:()=>v,KG:()=>f,Yx:()=>b,zx:()=>S,PL:()=>I,yc:()=>Z,pQ:()=>P,N2:()=>E,Dn:()=>M,gS:()=>C,fu:()=>w,GN:()=>D});const r="INIT_TIMELINE_PAGE",i="CLOSE_TIMELINE_PAGE",s="FETCH_TIMELINE_DETAILS",a="POPULATE_TIMELINE_DETAILS",o="RESET_EPG_SETTINGS",l="FETCH_EPG_COUNTRIES",c="FETCH_EPG_LANGUAGES",d="SELECT_EPG_COUNTRY",u="SELECT_EPG_LANGUAGE",p="SELECT_EPG_REGION",m="SET_EPG_POSTAL_CODE",h="FETCH_EPG_LINEUPS",g="CHANGE_BACKGROUND",y="CHANGE_THEME_MUSIC",v="RESET_BACKGROUND",f="INIT_PLAYLIST_PAGE",b="INIT_PLAYLIST_ITEM_LIST",S="RESET_PLAYLIST_ITEM_LIST",I="FETCH_PLAYLIST",Z="POPULATE_PLAYLIST_ITEM_RANGE",P="REPOPULATE_PLAYLIST_ITEMS",E="SELECT_PLAYLIST_ITEM",M="DESELECT_PLAYLIST_ITEM",C="MOVE_PLAYLIST_ITEM",w="REMOVE_PLAYLIST_ITEM",D="REMOVE_SELECTED_ITEMS"},86035:(e,t,n)=>{"use strict";n.d(t,{CC:()=>Ue,bc:()=>Te,EK:()=>Oe,rM:()=>Re,Qg:()=>Ve,_K:()=>ke,im:()=>xe,nL:()=>Ae,s7:()=>De,mb:()=>Ne,l4:()=>je,xM:()=>Le});var r=n(13469),i=n.n(r),s=n(5513),a=n(40807),o=n(32846),l=n(96840),c=n(28440),d=n(84936),u=Object.defineProperty,p=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&g(e,n,t[n]);if(m)for(var n of m(t))h.call(t,n)&&g(e,n,t[n]);return e};function v(e,t){return e.save(y(y({},t),{isSaving:!0,saveError:null})).then((()=>{e.set({isSaving:!1})}),(t=>{const n=t&&t.message||"";e.set({isSaving:!1,saveError:{message:n}})}))}var f=n(61201),b=n(97189),S=n(45697),I=n.n(S),Z=n(67294),P=n(17845);function E(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",id:"plex-icon-plex-chevron"};i["aria-hidden"]=!t,i.style=r,i.className=P.Z.plexIcon+(n?" "+n:"");var s=[Z.createElement.apply(Z,["path",{d:"M195,0 L485.000707,0 L805,500 L485.000707,1000 L195,1000 L514.999293,500 L195,0"}].concat([]))];return t&&s.unshift(Z.createElement("title",null,t)),Z.createElement.apply(Z,["svg",i].concat(s))}E.propTypes={"aria-label":I().string,className:I().string,style:I().object};const M=E;var C=n(93966),w=n(88050),D=n(69605),T=n(44233),O=n(16561),x=n(10612),A=n(12634),N=n(53334),k=n(14408);const L=N.Z.extend({name:"DownloadServerReleaseModel",context:["server"],modelId(){return this.get("build")+"-"+this.get("distro")},syncedAttrs:{label:k.Z.string,build:k.Z.string,distro:k.Z.string,url:k.Z.string}}),j=A.Z.extend({name:"DownloadServerReleaseCollection",context:["server"],model:L});var R=Object.defineProperty,V=Object.prototype.hasOwnProperty,U=Object.getOwnPropertySymbols,z=Object.prototype.propertyIsEnumerable,B=(e,t,n)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_=(e,t)=>{for(var n in t||(t={}))V.call(t,n)&&B(e,n,t[n]);if(U)for(var n of U(t))z.call(t,n)&&B(e,n,t[n]);return e};const F=N.Z.extend({name:"DownloadServerPlatformModel",context:["server","type"],rootPropertyName:"Platform",idAttribute:"id",syncedAttrs:{id:k.Z.string,name:k.Z.string,version:k.Z.string,date:k.Z.integer,requirements:k.Z.string,fixed:k.Z.string,added:k.Z.string,info:k.Z.string},syncedRelations:{releases:{rootPropertyName:"Release",relationClass:j}},derivedAttrs:{type(){return this.type}},augmentResponse(e){var t=e,{release_date:n,extra_info:r,items_fixed:i,items_added:s}=t,a=((e,t)=>{var n={};for(var r in e)V.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&U)for(var r of U(e))t.indexOf(r)<0&&z.call(e,r)&&(n[r]=e[r]);return n})(t,["release_date","extra_info","items_fixed","items_added"]);return _(_({},a),{info:r,fixed:i,added:s,date:n+"000"})}}),H=A.Z.extend({name:"DownloadServerPlatformCollection",context:["server","type"],model:F}),W=N.Z.extend({name:"DownloadServerModel",context:["server"],rootPropertyName:"Type",idAttribute:"name",syncedAttrs:{name:k.Z.string},syncedRelations:{platforms:{rootPropertyName:"Platform",relationClass:H,options:e=>({type:e.name})}}}),Q=A.Z.extend({name:"DownloadServerCollection",context:["server"],url(){const e=i().result(this.server,"url");return d.Z.join([e,"api/downloads/1"])},model:W});var G=n(65652),Y=n(54304),q=n(56022),K=n.n(q),$=Object.defineProperty,X=Object.prototype.hasOwnProperty,J=Object.getOwnPropertySymbols,ee=Object.prototype.propertyIsEnumerable,te=(e,t,n)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ne=(e,t)=>{for(var n in t||(t={}))X.call(t,n)&&te(e,n,t[n]);if(J)for(var n of J(t))ee.call(t,n)&&te(e,n,t[n]);return e};const re=G.Z.ItemView.extend({template:K(),className:"download-server-pane",serializeData:function(){const e=this.model.toJSON(),t=!(0,Y.P_)(),n=!t&&"_self";return ne(ne({},e),{target:n,shouldUseDownload:t,shouldUseDropup:e.releases.length>1})}});var ie=n(21288),se=n(96717),ae=n.n(se),oe={osx:"macos"};const le=ie.Z.extend({mixins:[x.Z],name:"serverDownloadModal",className:"server-download-modal modal modal-lg fade",template:ae(),ui:{downloadBtn:".download-btn",paneTabs:".show-pane-btn",loading:".server-download-loading"},regions:{paneRegion:".pane-region"},events:i().extend({"click .show-pane-btn":"onShowPaneClick","click .download-btn":"onDownloadClick"},ie.Z.prototype.events),panesModel:"selectedModel",onlyAfterRender:["showPane"],initialize:function(e){ie.Z.prototype.initialize.apply(this,arguments);var t=C.DB("appModel");t.get("primaryServer")||this.listenTo(t,"change:primaryServer",((e,t)=>{t&&t.id&&this.hide()})),this.downloadType=e.downloadType;var n=new Q([],{server:t.get("cloudServer")}),r=n.populate();r.done((()=>{this.collection=n.get(this.downloadType).get("platforms"),this.paneSetup(),this.render(),this.ui.loading.addClass("hidden")})),C.DB("metrics").trackView({page:D.jF,firstRun:!0})},serializeData:function(){return{items:this.collection?this.collection.toJSON():[],selectedPane:this.selectedModel?this.selectedModel.get("id"):null,iconPlexChevron:(0,O.Z)(M,{className:"modal-icon"})}},selectListItem:function(){var e=this.selectedModel.get("id");this.ui.paneTabs.removeClass("selected"),this.ui.paneTabs.filter(`[data-pane="${e}"]`).addClass("selected")},paneSetup:function(){this.panes=this.collection.reduce(((e,t)=>(e[t.get("id")]={constructor:re},e)),{});var{platformID:e}=T.Z,t=oe[e]||e;this.selectedModel=this.collection.get(t)||this.collection.first(),this.showPane(this.selectedModel.get("id"))},onRender:function(){ie.Z.prototype.onRender.apply(this,arguments),this.selectedModel&&this.selectListItem()},onShowPaneClick:function(e){e.preventDefault();var t=this.$(e.currentTarget).data("pane");this.selectedModel=this.collection.get(t),this.showPane(t),this.selectListItem()},onDownloadClick:function(e){var t=this.selectedModel.get("id");C.DB("metrics").trackClick({page:D.jF,firstRun:!0,action:w.SA,platform:this.downloadType,os:t}),this.hide()}});var ce=n(6638),de=Object.defineProperty,ue=Object.prototype.hasOwnProperty,pe=Object.getOwnPropertySymbols,me=Object.prototype.propertyIsEnumerable,he=(e,t,n)=>t in e?de(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ge=(e,t)=>{for(var n in t||(t={}))ue.call(t,n)&&he(e,n,t[n]);if(pe)for(var n of pe(t))me.call(t,n)&&he(e,n,t[n]);return e};const ye="app/restoreDefaultDeviceSettings",ve="app/downloadServer",fe="app/discoverServers",be="app/dismissUnclaimedServer",Se="app/redirectToRoute",Ie="app/redirectToUrl",Ze="app/toggleFullscreen",Pe="app/selectAudioDevice",Ee="app/updateAudioDevices",Me="app/populateCloudServer",Ce="app/updateNavigationHistory",we="app/updateAvailable",De=(0,a.Z)(ye),Te=((0,a.Z)(ve),(0,a.Z)(fe)),Oe=(0,a.Z)(be),xe=(0,a.Z)(Se),Ae=(0,a.Z)(Ie),Ne=(0,a.Z)(Pe),ke=((0,a.Z)(Ee),(0,a.Z)(Me)),Le=(0,a.Z)(Ce),je=(0,a.Z)(we),Re=(0,a.Z)(Ze,(e=>({isFullscreen:!0}))),Ve=(0,a.Z)(Ze,(e=>({isFullscreen:!1}))),Ue={[s.v4]:s.CC[s.v4],[s.kO]:s.CC[s.kO],[s.dC]:s.CC[s.dC],[s.On]:s.CC[s.On],[s.eS]:s.CC[s.eS],[s.rP]:s.CC[s.rP],[s.i]:s.CC[s.i],[s.D8]:s.CC[s.D8],[s.x]:s.CC[s.x],[s.M8](e,t){v(e.get("deviceSettings"),t)},[ye](e){const t=e.get("deviceSettings");!function(e,{isUserRestricted:t}){const n={shouldSyncSettings:e.get("shouldSyncSettings")};t&&(n.autoLogin=e.get("autoLogin")),e.restoreDefaults(n)}(t,{isUserRestricted:e.get("user").get("restricted")}),v(t,{})},[ve](e,t){const n=new le({downloadType:t});o.Z.trigger("show:modal",n)},[fe](e){o.Z.trigger("discover:servers")},[be](e,t,n){const{machineIdentifier:r}=t,i=e.get("deviceSettings").get("dismissedUnclaimedServers");i[r]||n((0,s.T5)({dismissedUnclaimedServers:ge(ge({},i),{[r]:!0})}))},[s.f9](e,t){const{machineIdentifier:n}=t;e.get("servers").findServer(n).then((t=>{e.set({primaryServer:t,isWaitingForPrimaryServer:!1})}),(()=>{l.Z.warn("Unable to set primary server to:",n)}))},[s.gC](e){e.set({primaryServer:null,isWaitingForPrimaryServer:!0})},[s.Oq](e,t){const{machineIdentifier:n}=t;e.get("servers").findServer(n).done((t=>{!t.get("isOutOfDate")&&t.get("isPrimaryEligible")&&e.get("primaryServer")!==t&&e.set({primaryServer:t,isWaitingForPrimaryServer:!1})}))},[s.RK](e,t,n){const r=function(e,t=!0){let n="";return e&&("string"==typeof e.pathname?n=e.query?d.Z.join(e.pathname,e.query):e.pathname:"string"==typeof e&&(n=e)),n&&t&&0!==n.indexOf("#!")&&(n="#!"+n),n}(t);t.replace?window.location.replace(r):window.location.href=r},[s.$v](e,t,n){const{key:r,replace:i}=t,a=(0,c.SW)(e,t),o=(0,c.js)(e,t),l=(0,ce.Z)(a.toJSON(),o.toJSON(),r);l&&n((0,s.c4)({pathname:l,replace:i}))},[Se](e,{route:t,params:n,replace:r}){i().defer((()=>{(0,b.Z)(t,n,r)}))},[Ie](e,{url:t,replace:n}){n?window.location.replace(t):window.location.href=t},[Ze](e,{isFullscreen:t}){e.get("isFullscreen")!==t&&e.set("isFullscreen",t)},[we](e,{isUpdateAvailable:t}){e.get("isUpdateAvailable")!==t&&e.set("isUpdateAvailable",t)},[Pe](){},[Ee](){},[Me](e){e.get("cloudServer").populate()},[Ce](e,t){const{location:n}=t,r=e.get("history");r.length&&r[r.length-1].pathname===n.pathname&&r[r.length-1].search===n.search||e.set("history",[...r,{pathname:n.pathname,search:n.search}])},[s.Nx](e,{replace:t}={}){const n=e.get("history");if(n.length<2)e.set("history",[]),(0,b.Z)("home",{},t);else{const r=n.slice(0,n.length-1);e.set("history",r);const i=r[r.length-1];t?f.Z.replace(i):f.Z.push(i)}}}},6055:(e,t,n)=>{"use strict";n.d(t,{FX:()=>s,A$:()=>a,L7:()=>o,OS:()=>l,GX:()=>c});var r=n(40807),i=n(3265);const s=(0,r.Z)("downloads/cancelDownloadActivity"),a=(0,r.Z)("downloads/createDownloadSubscription"),o=((0,r.Z)("downloads/deleteDownloadState"),(0,r.Z)("downloads/deleteDownloadSubscription")),l=((0,r.Z)("downloads/fetchDownloadSubscriptions"),(0,r.Z)("downloads/populateDownloadSubscriptions"),(0,r.Z)("downloads/processDownloadSubscriptions"),(0,r.Z)("downloads/retryDownloadSubscription")),c=((0,r.Z)("downloads/saveDownloadSubscription"),(0,r.Z)("downloads/syncDownloadViewstate"),(0,r.Z)("downloads/updateDownloadState"),(0,r.Z)("downloads/refreshDownloads"));(0,r.Z)("downloads/getDownloadDecision"),(0,i.Z)({})},71332:(e,t,n)=>{"use strict";n.r(t),n.d(t,{resetEPGSettings:()=>s,fetchEPGCountries:()=>a,fetchEPGLanguages:()=>o,selectEPGCountry:()=>l,selectEPGLanguage:()=>c,selectEPGRegion:()=>d,setEPGPostalCode:()=>u,fetchEPGLineups:()=>p});var r=n(40807),i=n(93066);const s=(0,r.Z)(i.Mo),a=(0,r.Z)(i.Xx),o=(0,r.Z)(i.W),l=(0,r.Z)(i.ei),c=(0,r.Z)(i.$F),d=(0,r.Z)(i.SJ),u=(0,r.Z)(i.Hj),p=(0,r.Z)(i.w)},32827:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(50361),i=n.n(r),s=n(95688),a=n(60316),o=n(28440),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};function h(e,t){const n=(0,o.SW)(e,{serverEntityID:t.server.entityID}),r=(0,o.js)(e,{providerEntityID:t.provider.entityID});let l,c;t.itemServer&&(l=(0,o.SW)(e,{serverEntityID:t.itemServer.entityID})),t.itemProvider&&(c=(0,o.js)(e,{providerEntityID:t.itemProvider.entityID}));const d=i()(m(m({},t.metadataItem),t.metadataItemState));if(d.source){const{serverIdentifier:e,providerIdentifier:n}=(0,a.Z)(d.source);e===t.server.machineIdentifier&&n===t.provider.identifier&&delete d.source}const u=new s.Z(d,{server:n,provider:r,identifier:t.provider.identifier,parse:!0});null==u._populatedParams&&(u._populatedParams={});const p={includeExternalMedia:1};return d.preferences&&(p.includePreferences=1),d.extras&&(p.includeExtras=1),d.stations&&(p.includeStations=1),d.onDeck&&(p.includeOnDeck=1),d.popularLeaves&&(p.includePopularLeaves=1),d.Concert&&(p.includeConcerts=1),d.Chapter&&(p.includeChapters=1),Object.assign(u._populatedParams,p),{serverModel:n,providerModel:r,itemServerModel:l,itemProviderModel:c,metadataItemModel:u}}},15902:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(19755),i=n.n(r),s=n(93966),a=n(88050),o=n(84936),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};function h(e,t){const{libraryID:n,libraryType:r,cancel:l,force:c,allowMetrics:d,metricsProperties:u={}}=t,p=c?{force:1}:void 0,h=o.Z.join(["/library/sections",n,"refresh"],p),g=e.getXHROptions(h,{type:l?"DELETE":"GET"});if(d){let e;e=l?a.fV:c?a.uz:a.i0,(0,s.DB)("metrics").trackClick(m(m({},u),{action:e,type:"all"===n?"all":r}))}return i().ajax(g).promise()}},19378:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(19755),i=n.n(r),s=n(10723),a=n(40498),o=n(68002),l=n(69881);function c(e,t){const n=e.title.toUpperCase(),r=t.title.toUpperCase();return n<r?-1:n>r?1:0}function d(e,t){const n=Array.isArray(e)?e:[e],r=i().Deferred(),d={[a.ZO]:[],[a.GP]:[]},u={[l.MOVIE]:{[a.ZO]:[],[a.GP]:[]},[l.SHOW]:{[a.ZO]:[],[a.GP]:[]},[l.ARTIST]:{[a.ZO]:[],[a.GP]:[]}},p=n.reduce(((e,t)=>(t.get("isConnected")&&e.push(t.get("sections")),e)),[]),m=p.map((e=>e.populate({scope:t})));return(0,o.Z)(m).done((()=>{p.forEach((e=>{e.forEach((e=>{const t=e.get("type");u[t]&&[a.ZO,a.GP].forEach((t=>{const n=new s.Z({filter:t},{server:e.server,section:e}).get("options");d[t].push(n)}))}))})),(0,o.Z)([...d[a.ZO].map((e=>e.fetch({scope:t}))),...d[a.GP].map((e=>e.fetch({scope:t})))]).done((()=>{d[a.ZO].forEach((e=>{const t=e.section.get("type");e.toJSON().forEach((e=>{u[t][a.ZO].find((t=>t.value===e.value))||u[t][a.ZO].push(e)}))})),d[a.GP].forEach((e=>{const t=e.section.get("type");e.toJSON().forEach((e=>{u[t][a.GP].find((t=>t.value===e.value))||u[t][a.GP].push(e)}))})),Object.keys(u).forEach((e=>{const t=u[e];t[a.ZO].sort(c),t[a.GP].sort(c)})),r.resolve(u)}))})),r.promise()}},29243:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return e.get("ui").get("authCodeExchange")}},6797:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(40498);function i(e,t,n,i){const s={};return e&&e.length&&(s[r.ZO]=e.join(",")),t&&t.length&&(s[r.Jm]=t.join(",")),n&&n.length&&(s[r.GP]=n.join(",")),i&&i.length&&(s[r.Bi]=i.join(",")),s}function s(e){const{allowSync:t,allowCameraUpload:n,allowTuners:r,moviesContentRatings:s,moviesExcludeContentRatings:a,moviesLabels:o,moviesExcludeLabels:l,televisionContentRatings:c,televisionExcludeContentRatings:d,televisionLabels:u,televisionExcludeLabels:p,musicLabels:m,musicExcludeLabels:h}=e,g={};return null!=t&&(g.allowSync=t),null!=n&&(g.allowCameraUpload=n),null!=r&&(g.allowTuners=Number(r)),null==s&&null==a&&null==o&&null==l||(g.filterMovies=i(s,a,o,l)),null==c&&null==d&&null==u&&null==p||(g.filterTelevision=i(c,d,u,p)),null==m&&null==h||(g.filterMusic=i(null,null,m,h)),g}},5756:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(19755),i=n.n(r);const s=function(e){const t=e.get("cloudServer");return i().ajax(t.getXHROptions("/api/v2/pins",{method:"POST",dataType:"json",data:{strong:!0}})).then((e=>e))}},11491:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(19755),i=n.n(r),s=n(93966);function a(e,t){const n=(0,s.DB)("appModel").get("cloudServer"),r=function(e){if(!e)return null;const[t,n]=e.split(","),r=t.substr(5),i=window.atob(n),s=[];for(let e=0;e<i.length;e++)s.push(i.charCodeAt(e));const a=new Uint8Array(s);return new window.Blob([a],{type:r})}(e),a=new window.FormData;a.append("avatar",r),t&&a.append("userId",t);const o=n.getXHROptions("/api/v2/user",{type:"PUT",processData:!1,contentType:!1,data:a});return i().ajax(o)}},73862:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ANALYZE_METADATA_ITEM:()=>dt,CHANGE_METADATA_ITEM_FIELD:()=>Et,CLEAR_METADATA_SETTINGS_ERROR:()=>wt,DELETE_METADATA_ITEM:()=>ut,DELETE_METADATA_ITEM_VERSION:()=>pt,DOWNLOAD_METADATA_ITEM_VERSION:()=>mt,EDIT_METADATA_ITEM:()=>ht,FIX_METADATA_ITEM_MATCH:()=>gt,GET_METADATA_ITEM_INFO:()=>yt,MODIFY_SMART_PLAYLIST:()=>Nt,OPTIMIZE_METADATA_ITEM:()=>ft,RATE_METADATA_ITEM:()=>bt,REDISPATCH_LEGACY_METADATA_ACTION:()=>ct,REFRESH_METADATA_ITEM:()=>St,SET_DOWNLOAD_SUBSCRIPTION_ID:()=>Ot,SPLIT_METADATA_ITEM_APART:()=>It,SYNC_METADATA_ITEM:()=>Zt,UNMATCH_METADATA_ITEM:()=>Pt,UNSET_DOWNLOAD_SUBSCRIPTION_ID:()=>xt,UPDATE_DOWNLOAD_AVAILABILITY:()=>Dt,UPDATE_DOWNLOAD_AVAILABILITY_FROM_DELETED_TIMELINE:()=>Tt,UPDATE_DOWNLOAD_SUBSCRIPTION_IDS:()=>At,UPDATE_METADATA_ITEM_PLAYED_STATUS:()=>vt,UPDATE_METADATA_ITEM_REFRESHING_STATE:()=>Mt,UPDATE_METADATA_SETTINGS:()=>Ct,analyzeMetadataItem:()=>Lt,changeMetadataItemField:()=>qt,clearMetadataSettingsError:()=>Xt,deleteMetadataItem:()=>jt,deleteMetadataItemVersion:()=>Rt,downloadMetadataItemVersion:()=>Vt,editMetadataItem:()=>Ut,favoriteMetadataItem:()=>Jt,fixMetadataItemMatch:()=>zt,getMetadataItemInfo:()=>Bt,markMetadataItemPlayed:()=>nn,markMetadataItemUnplayed:()=>tn,metadataActionHandlers:()=>un,modifySmartPlaylist:()=>cn,optimizeMetadataItem:()=>Ft,rateMetadataItem:()=>Ht,redispatchLegacyMetadataAction:()=>kt,refreshMetadataItem:()=>Wt,setDownloadSubscriptionID:()=>rn,splitMetadataItemApart:()=>Qt,syncMetadataItem:()=>Gt,unfavoriteMetadataItem:()=>en,unmatchMetadataItem:()=>Yt,unsetDownloadSubscriptionID:()=>sn,updateDownloadAvailability:()=>an,updateDownloadAvailabilityFromDeletedTimeline:()=>on,updateDownloadSubscriptionIDs:()=>ln,updateMetadataItemPlayedStatus:()=>_t,updateMetadataItemRefreshingState:()=>Kt,updateMetadataSettings:()=>$t});var r=n(19755),i=n.n(r),s=n(93966),a=n(94018),o=n(5513),l=n(40807),c=n(34583),d=n(49897),u=n(95374),p=n(84936),m=n(57054);var h=n(56054),g=n(11203),y=n(32901),v=n(88050),f=n(32707),b=n(32846),S=n(34796),I=n(24079),Z=n(5562),P=n(26512),E=n(32827),M=n(517),C=n(13469),w=n.n(C),D=n(38892),T=n(43614),O=n.n(T);const x=D.Z.extend({name:"downloadVersionModal",template:O(),serializeData:function(){var e=this.model;return{defaultLinkTarget:"_self",mediaItems:w().map(this.model.get("Media"),(function(t,n){var r=w().clone(t);r.downloadUrl=e.getDownloadUrl(n);var i=e.getFilepath(n);return i&&(r.downloadName=p.Z.getLastSegment(i)),r}))}},onClick:function(){}});var A=n(43593),N=n(10612),k=n(41208),L=n(79317),j=n(46140),R=n.n(j);const V=L.Z.extend({template:R(),serializeData(){return this.model.get("preferences").toJSON()},flushChanges(){const e=this.ui.form.serializeArray(),t=this.model.get("preferences");e.forEach((e=>{const n=t.get(e.name),r=n.clone();r.parseAndSetValue(e.value),r.get("value")!==n.get("value")&&t.add(r,{merge:!0})}))}});var U=n(21288),z=n(68121),B=n.n(z),_={playlist:["general","advanced"]};const F=U.Z.extend({mixins:[N.Z],name:"editPlaylistModal",className:"edit-metadata-modal modal modal-lg fade",template:B(),panes:{general:{constructor:k.Z},advanced:{constructor:V}},panesModel:"tempModel",events:w().extend({"click .change-pane-btn":"onChangePaneClick","click .save-btn":"onFormSubmit","submit .edit-metadata-form":"onFormSubmit"},U.Z.prototype.events),ui:{saveBtn:".save-btn",message:".form-message",navPane:".modal-nav-pane",loadingIndicator:".modal-body-pane .loading-inline"},regions:{paneRegion:".pane-region"},onlyAfterRender:["saveChanges","showPane","showNav"],initialize:function(e){U.Z.prototype.initialize.apply(this,arguments);var t=e.model;this.model=t;var n=t.fetch({usePopulatedParams:!0,data:{includePreferences:"1"}});(n=n.done(w().bind((function(){this.tempModel=t.clone(),this.render(),this.showNav(),this.showPane(e.selectedPane||"general"),this.listenTo(b.Z,"shortcut:save",this.saveChanges)}),this))).fail(w().bind((function(){this.ui.message.text((0,Z.Z)("There was an error editing this item")),this.ui.loadingIndicator.addClass("hidden")}),this))},serializeData:function(){var e=_[this.model.get("type")]||_.movie;this.model.has("preferences")||(e=w().difference(e,["advanced"]));var t=w().reduce(e,(function(e,t){return e[t]=!0,e}),{}),n=w().escape((0,Z.Z)("Edit {1}",this.model.get("title")));return{item:this.model.toJSON(),panes:t,selectedPane:this.selectedPane,paneTitle:n}},paneConstructorArg:function(){return{type:this.selectedPane}},showNav:function(){this.ui.navPane.removeClass("hidden")},saveChanges:function(){var e=this.ui.saveBtn,t=this.ui.message;if(!e.isDisabled()){t.text(""),this.paneRegion.currentView.flushChanges();var n=w().reduce(this.model.changedAttributes(this.tempModel.attributes),((e,t,n)=>(this.model.syncedAttrs[n]&&(e[n]=t),e)),{});e.addClass("active");var r=[];w().isEmpty(n)||r.push(this.model.save(n)),r.push(this.savePreferences());var s=i().when.apply(i(),r);s.done(w().bind((function(){this.hide()}),this)),s.fail((function(){t.text((0,Z.Z)("Your changes could not be saved."))})),s.always((function(){e.removeClass("active")}))}},savePreferences:function(){var e=this.tempModel.get("preferences");if(!e||!e.length)return i().Deferred().resolve().promise();var t=this.model,n=p.Z.join(["/library/metadata",t.get("ratingKey"),"prefs"],e.getSaveParams()),r=this.model.server.getXHROptions(n,{type:"PUT"}),s=i().ajax(r);return s.done((function(){var n=t.get("preferences");e.forEach((function(e){n.get(e.id).set("value",e.get("value"))}))})),s},onPaneShow:function(e,t){this.listenTo(t,"focusSubmit",(function(){this.ui.saveBtn.focus()}))},onPaneHide:function(e,t){t.flushChanges(),this.stopListening(t)},onFormSubmit:function(e){e.preventDefault(),this.saveChanges()}});var H=n(65652),W=n(85213),Q=n.n(W);const G=H.Z.ItemView.extend({id:"auto-match-dropdown",tagName:"span",className:"dropdown",template:Q(),collectionEvents:{reset:"render"},events:{"click .auto-match-agent":"onClick"},serializeData:function(){return{agents:this.collection.toJSON()}},onClick:function(e){e.preventDefault();var t=i()(e.currentTarget).data("id"),n=this.model.agents.get(t);a.Z.execute("autoMatch",{item:this.model,agent:n})}});var Y=n(46453),q=n(17146),K=n(41105),$=n(69881),X=n(73913),J=n(43270),ee=n(93470),te=n.n(ee),ne=n(36e3),re=n.n(ne);const ie=new Set([Y.WX,Y.Ut,Y.Zb]);function se(e){return w().map(e,(function(e){return'<option value="'+e.value+'"'+(e.selected?" selected":"")+">"+e.label+"</option>"})).join("\n")}function ae(e,t){return e.map((function(e){return{label:e.get("name"),value:e.get("identifier"),selected:t===e.get("identifier")}}))}function oe(e,t){return e?e.get("languages").map((function(e){return{label:e.get("name"),value:e.id,selected:e.id===t}})):[]}const le=H.Z.ItemView.extend({template(e){const{item:t,scannerIdentifier:n}=e;return t.type===$.ALBUM&&n===q.c3?te()(e):re()(e)},ui:{agentSelect:"#match-search-agent",languageSelect:"#match-search-language"},events:{"change #match-search-agent":"onAgentSelectChange"},onlyAfterRender:["updateAgents","updateLanguages"],initialize:function(){var e=(0,K.Z)(this.model).get("agent"),t=this.setupAgents(e);t.then(w().bind(this.updateAgents,this,e)),t.then(w().bind(this.updateLanguages,this,e))},serializeData:function(){var e=(0,K.Z)(this.model),t=e.get("agent"),n=this.model.agentsProxy.findWhere({identifier:t});return{item:this.model.toJSON(),agents:ae(this.model.agentsProxy,t),scannerIdentifier:e.get("scanner"),languages:oe(n)}},setupAgents:function(e){if(this.model.agentsPromise)return this.model.agentsPromise;var t=(0,K.Z)(this.model),n=t.getSectionType(),r=new X.Z([],{server:this.model.server,mediaTypeID:n.typeID}),i=r.populate({reset:!0,cancelable:!0});return i.then((()=>{var i=function(e,t){if(!e)return[];var n=ie.has(t);return e.filter((e=>{const t=ie.has(e.get("identifier"));return n?t:!t}))}(r,t.get("agent"));this.model.agents=r.clone(i);var s=n.exclusiveAgents;this.model.agentsProxy=new J.Z(this.model.agents,s,e)})),this.model.agentsPromise=i,this.model.agentsPromise},updateAgents:function(e){this.ui.agentSelect.html(se(ae(this.model.agentsProxy,e)))},updateLanguages:function(e){var t=this.model.agentsProxy.findWhere({identifier:e});if(e){var n=(0,K.Z)(this.model).get("language");this.ui.languageSelect.html(se(oe(t,n)))}else this.ui.languageSelect.empty()},onAgentSelectChange:function(e){this.updateLanguages(e.currentTarget.value)},onModalClose:function(){this.model.agents=null,this.model.agentsProxy=null,this.model.agentsPromise=null}});var ce=n(72601),de=n(21009),ue=n(66440),pe=n.n(ue);const me=H.Z.ItemView.extend({template:pe()}),he={collectionEvents:{"update reset sort":"onTracksUpdate"},markDiscNumbers:function(){if(this.collection.server.supports("premiumMusic")){var e=this.collection.reduce((function(e,t,n){var r=t.get("parentIndex");return r!==e.lastDiscNumber&&(e.markers[n]=r,e.lastDiscNumber=r,e.count+=1),e}),{markers:{},lastDiscNumber:null,count:0});return this.discMarkers=e.markers,e.count}},onRender:function(){1!==this.markDiscNumbers()&&w().each(this.discMarkers,w().bind((function(e,t){this.$("li:eq("+t+") .disc-number").removeClass("hidden")}),this))},onTracksUpdate:function(){this.render()}};var ge=n(87507),ye=n.n(ge),ve=Object.defineProperty,fe=Object.prototype.hasOwnProperty,be=Object.getOwnPropertySymbols,Se=Object.prototype.propertyIsEnumerable,Ie=(e,t,n)=>t in e?ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ze=(e,t)=>{for(var n in t||(t={}))fe.call(t,n)&&Ie(e,n,t[n]);if(be)for(var n of be(t))Se.call(t,n)&&Ie(e,n,t[n]);return e};const Pe=H.Z.ItemView.extend({tagName:"li",template:ye(),className:"striped-list-item",serializeData(){const e=this.model.toJSON();return Ze(Ze({},e),{escapedParentIndex:w().escape(e.parentIndex)})}}),Ee=de.Z.extend({mixins:[he],tagName:"ul",itemView:Pe,className:"list"}),Me=/\d{4}/,Ce=function({disambiguation:e="",lifespanBegin:t="",lifespanEnd:n="",area:r="",beginArea:i=""}){const s=t.match(Me),a=n.match(Me),o=[i,r,a?`${s}-${a}`:s].filter(Boolean);return e?[e,o.length?`(${o.join(", ")})`:null].filter(Boolean).join(" "):o.join(", ")};var we=n(54536),De=n.n(we);const Te=H.Z.Layout.extend({tagName:"li",className:"striped-list-item match-result-list-item row",template:De(),ui:{matchExtendedInfo:".match-extended-info"},regions:{childrenRegion:".children-region"},events:{"click .match-result":"onClick"},initialize:function(e){this.item=e.item},onRender:function(){!this.model.get("summary")||this.model.get("type")!==$.MOVIE&&this.model.get("type")!==$.GAME&&this.model.get("type")!==$.SHOW||this.ui.matchExtendedInfo.removeClass("hidden");var e=this.model.get("children");if(e){var t=e.first();t&&t.get("type")===$.TRACK&&(this.ui.matchExtendedInfo.removeClass("hidden"),this.childrenRegion.show(new Ee({collection:e})))}},onClick:function(e){e.preventDefault(),a.Z.execute("match",{item:this.item,guid:this.model.id,name:this.model.get("name"),year:this.model.get("year"),children:this.model.get("children")})},serializeData(){const e=this.model.toJSON();return{year:e.year,parentName:e.parentName,name:e.name,disambiguationInfo:Ce(e),thumb:e.thumb,normalizedScore:e.normalizedScore,escapedNormalizedScore:w().escape(e.normalizedScore),summary:e.summary}}}),Oe=de.Z.extend({tagName:"ul",className:"list match-result-list",itemView:Te,emptyView:me});var xe=n(77410),Ae=n.n(xe);const Ne=H.Z.Layout.extend({template:Ae(),regions:{resultRegion:".result-region"},onlyAfterRender:["updateResults"],initialize:function(){this.setupResults();var e=(0,K.Z)(this.model),t={manual:1},n={reset:!0,timeout:0,data:t};/com\.plexapp\.agents\.none:\/\//.test(this.model.get("guid"))&&w().extend(n,{data:w().extend(t,{agent:e.get("agent"),language:e.get("language")}),processData:!0}),this.model.results.populate(n).then(w().bind(this.updateResults,this))},setupResults:function(){if(!this.model.results){var e=this.model.results||new ce.Z([],{server:this.model.server,parent:this.model});this.model.results=e}},updateResults:function(){this.resultRegion.show(new Oe({collection:this.model.results,itemViewOptions:{item:this.model}}))},onModalClose:function(){this.model.results=null}});var ke=n(56294),Le=n.n(ke);const je=U.Z.extend({mixins:[N.Z],name:"fixIncorrectMatch",className:"fix-incorrect-match-modal modal modal-lg fade",template:Le(),panes:{form:{constructor:le},results:{constructor:Ne}},ui:{searchBtn:".search-btn"},regions:{paneRegion:".pane-region",autoMatchDropdownRegion:".auto-match-dropdown-region"},events:w().extend({"click .auto-match-agent":"hide","click .match-result":"hide","click .search-options-btn":"onSearchOptionsClick","click .cancel-btn":"onCancelClick","click .search-btn":"onSearchClick","submit #fix-incorrect-match-form":"onSearchSubmit"},U.Z.prototype.events),onlyAfterRender:["showPane","updateSearchBtn","showAutoMatchPicker"],initialize:function(){U.Z.prototype.initialize.apply(this,arguments),le.prototype.setupAgents.apply(this).then((()=>{this.showAutoMatchPicker()})),Ne.prototype.setupResults.apply(this),this.showPane("results")},serializeData:function(){return{location:this.model.getLocation(),showNavigation:!this.model.isPlexMusicItem()}},updateSearchBtn:function(e){this.ui.searchBtn.toggleClass("disabled","form"!==e)},showAutoMatchPicker:function(){this.autoMatchDropdownRegion.show(new G({model:this.model,collection:this.model.agentsProxy}))},fetchResults:function(e){var t=w().reduce(e.serializeArray(),(function(e,t){return e[t.name]=t.value,e}),{manual:1});this.model.results.fetch({reset:!0,data:t,processData:!0,timeout:0})},bindings:{".modal-title-text":{modelAttribute:"guid",formatter:function(e){return/com\.plexapp\.agents\.none:\/\//.test(e)?(0,Z.Z)("Match"):(0,Z.Z)("Fix Match")}}},onRender:function(){U.Z.prototype.onRender.apply(this,arguments)},onPaneShow:function(e){this.updateSearchBtn(e)},onSearchOptionsClick:function(e){e.preventDefault(),this.showPane("form")},onCancelClick:function(e){e.preventDefault(),"results"!==this.selectedPane?this.showPane("results"):this.hide()},onSearchClick:function(e){e.preventDefault();var t=i()(e.currentTarget);if(!t.isDisabled()){var n=t.closest("form");this.fetchResults(n),this.showPane("results")}},onSearchSubmit:function(e){e.preventDefault();var t=i()(e.currentTarget);t.find("search-btn").isDisabled()||(this.fetchResults(t),this.showPane("results"))}});var Re=n(35424),Ve=n(25168),Ue=n(7378),ze=n(72369),Be=n(10825);const _e={h264:10,hevc:30},Fe=function(e,t){if(null==e||Number.isNaN(e))return"";const n=parseInt(e,10),r=_e[t||"h264"];return Number.isFinite(n)&&Number.isFinite(r)?(n/r).toFixed(1):String(e)};var He=n(43534),We=n(19816);const Qe=function(e){let t="";for(let n=0,r=e.length;n<r;n++){const r=e.charAt(n),i=r.toUpperCase();t+=0===n?i:r===i?" "+i:r}return t};var Ge=n(82941),Ye=n.n(Ge),qe=["id","key","index","videoCodec","audioCodec","audioChannels","default","selected","languageCode","accessible","exists","provider","lines","minLines","follow","requiredBandwidths","deepAnalysisVersion","deepAnalysisDate","Overlay"],Ke={size:ze.Z,duration:Ue.Z,codec:He.Z,format:He.Z,container:He.Z,videoResolution:Be.Z,bitrateMode:He.Z,accessible:We.Z,exists:We.Z,optimizedForStreaming:We.Z,timed:We.Z,file:p.Z.getLastSegment},$e={optimizedForStreaming:"Web Optimized",has64bitOffsets:"Has 64bit Offsets",cabac:"CABAC",postURL:"URL",codecID:"Codec ID"},Xe={frameRate:" fps",dialogNorm:" dB",bitrate:" kbps",samplingRate:" Hz"},Je=function(e,t){var n={properties:[]};for(var r in e)if(r!==t&&-1===w().indexOf(qe,r)){var i=$e[r],s=e[r];"level"===r&&(s=Fe(s,e.codec)),Ke[r]&&(s=Ke[r](s)),s&&(Xe[r]&&(s+=Xe[r]),i||(i=Qe(r)),n.properties.push({name:i,value:s}))}return t&&e&&(n[t]=e[t]),n};function et(e){return w().map(e.get("Media"),(function(e){return w().extend(Je(e,"Part"),{Part:w().map(e.Part,(function(e){return w().extend(Je(e,"Stream"),{file:e.file,exists:!1!==e.exists,accessible:!1!==e.accessible,Stream:(t=e.Stream,n=w().reject(t,(function(e){return e.id===Ve.H})),r=w().sortBy(n,"streamType"),w().map(r,(function(e){return Je(e,"streamType")})))});var t,n,r}))})}))}const tt=U.Z.extend({name:"mediaInfoModal",className:"media-info-modal modal modal-lg fade",template:Ye(),ui:{scroller:".modal-body-scroll",files:".files > ul",stickyProps:".media > .props, .part > .props"},events:w().extend({"click .delete-btn":"onDeleteClick"},U.Z.prototype.events),modelEvents:{"change:Media":"onMediaChange"},initialize:function(e){U.Z.prototype.initialize.apply(this,arguments),this.bindAllWhenRendered("onMediaChange","onScroll"),this.loading=!1,this.media=et(this.model),this.loading=!0,this.model.fetch({usePopulatedParams:!0,data:{checkFiles:1,asyncCheckFiles:0}}).always(this.whenRendered((function(){this.model.changed.hasOwnProperty("Media")||this.updateMedia()})))},serializeData:function(){var e=this.model.get("key"),t=s.DB("appModel").get("user"),n=this.model.server;return this.model.get("isLibraryItem")&&(e=p.Z.join(e,{checkFiles:1,includeAllConcerts:1,includeBandwidths:1,includeChapters:1,includeChildren:1,includeConcerts:1,includeExtras:1,includeFields:1,includeGeolocation:1,includeLoudnessRamps:1,includeMarkers:1,includeOnDeck:1,includePopularLeaves:1,includePreferences:1,includeRelated:1,includeRelatedCount:1,includeReviews:1,includeStations:1})),{key:e,url:this.model.server.resolveUrl(e,{appendToken:!0}),media:this.media,hasFiles:this.hasFiles(),hasStreams:this.hasStreams()||this.loading,showDeleteFile:n.get("isFullOwnedServer")&&n.get("allowMediaDeletion")&&n.supports("specificMediaDeletion"),showFilepath:!n.get("shared")||t.isNinja(),loading:this.loading}},updateMedia:function(){this.loading=!1,this.rerender=!0,this.ui.scroller.off("scroll",this.onScroll),this.media=et(this.model),this.render()},hasFiles:function(){return!!w().chain(this.media).pluck("Part").flatten().pluck("file").compact().size().value()},hasStreams:function(){return!!w().chain(this.media).pluck("Part").flatten().pluck("Stream").flatten().size().value()},onRender:function(){U.Z.prototype.onRender.apply(this,arguments),this.ui.scroller.on("scroll",this.onScroll),this.$el.tooltip({selector:".files .label",placement:"bottom"})},onClose:function(){this.ui.scroller.off("scroll",this.onScroll)},onMediaChange:function(){this.isHidden||(this.model.get("Media").length?this.updateMedia():this.hide())},onDeleteClick:function(e){e.preventDefault(),a.Z.execute("deleteMediaItem",{item:this.model,index:i()(e.currentTarget).data("media-item")})},onScroll:function(){var e=this.ui.scroller.scrollTop(),t=this.ui.scroller.offset().top;this.ui.files.length&&(t+=parseInt(this.ui.files.css("margin-bottom"),10)),t<0?window.setTimeout(this.onScroll,500):this.ui.stickyProps.each((function(){var n=i()(this),r=n.parent().height()-n.height(),s=e-this.parentNode.offsetTop,a=Math.min(Math.max(s,0),r);a&&a===s?(n.addClass("sticky"),n.css("top",t)):(n.removeClass("sticky"),n.css("top",a))}))}});var nt=n(74527),rt=Object.defineProperty,it=Object.prototype.hasOwnProperty,st=Object.getOwnPropertySymbols,at=Object.prototype.propertyIsEnumerable,ot=(e,t,n)=>t in e?rt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lt=(e,t)=>{for(var n in t||(t={}))it.call(t,n)&&ot(e,n,t[n]);if(st)for(var n of st(t))at.call(t,n)&&ot(e,n,t[n]);return e};const ct="metadata/redispatchLegacyMetadataAction",dt="metadata/analyzeMetadataItem",ut="metadata/deleteMetadataItem",pt="metadata/deleteMetadataItemVersion",mt="metadata/downloadMetadataItemVersion",ht="metadata/editMetadataItem",gt="metadata/fixMetadataItemMatch",yt="metadata/getMetadataItemInfo",vt="metadata/updateMetadataItemPlayedStatus",ft="metadata/optimizeMetadataItem",bt="metadata/rateMetadataItem",St="metadata/refreshMetadataItem",It="metadata/splitMetadataItemApart",Zt="metadata/syncMetadataItem",Pt="metadata/unmatchMetadataItem",Et="metadata/changeMetadataItemField",Mt="metadata/updateMetadataItemRefreshingState",Ct="metadata/UPDATE_METADATA_SETTINGS",wt="CLEAR_METADATA_SETTINGS_ERROR",Dt="metadata/updateDownloadAvailability",Tt="metadata/updateDownloadAvailabilityFromDeletedTimeline",Ot="metadata/setDownloadSubscriptionID",xt="metadata/unsetDownloadSubscriptionID",At="metadata/updateDownloadSubscriptionIDs",Nt="metadata/modifySmartPlaylist",kt=(0,l.Z)(ct),Lt=(0,l.Z)(dt),jt=(0,l.Z)(ut),Rt=(0,l.Z)(pt),Vt=(0,l.Z)(mt),Ut=(0,l.Z)(ht),zt=(0,l.Z)(gt),Bt=(0,l.Z)(yt),_t=(0,l.Z)(vt),Ft=(0,l.Z)(ft),Ht=(0,l.Z)(bt),Wt=(0,l.Z)(St),Qt=(0,l.Z)(It),Gt=(0,l.Z)(Zt),Yt=(0,l.Z)(Pt),qt=(0,l.Z)(Et),Kt=(0,l.Z)(Mt),$t=(0,l.Z)(Ct),Xt=(0,l.Z)(wt),Jt=(0,l.Z)(bt,(e=>lt(lt({},e),{rating:S.jt}))),en=(0,l.Z)(bt,(e=>lt(lt({},e),{rating:S.LX}))),tn=(0,l.Z)(vt,(e=>lt(lt({},e),{played:!1}))),nn=(0,l.Z)(vt,(e=>lt(lt({},e),{played:!0}))),rn=(0,l.Z)(Ot),sn=(0,l.Z)(xt),an=(0,l.Z)(Dt),on=(0,l.Z)(Tt),ln=(0,l.Z)(At),cn=(0,l.Z)(Nt);function dn(e,t,n,r={}){n&&(0,s.DB)("metrics").trackClick(lt({page:n,action:e,type:t.get("type")},r))}const un={[g.$T]:g.ky[g.$T],[g.se]:g.ky[g.se],[g.Y3]:g.ky[g.Y3],[g.IK]:g.ky[g.IK],[g.vG]:g.ky[g.vG],[g.Fl]:g.ky[g.Fl],[g.wS]:g.ky[g.wS],[g.Vf]:g.ky[g.Vf],[g.Ft]:g.ky[g.Ft],[ct](e,t,n){const{serverModel:r,providerModel:i,itemServerModel:s,itemProviderModel:a,metadataItemModel:o}=(0,E.Z)(e,t),l=t.legacyAction.type,c=t.legacyAction.payload,d=(null==c?void 0:c.metricsProperties)||{};n({type:l,payload:lt(lt({},c),{serverEntityID:r.entityID(),providerEntityID:i.entityID(),itemServerEntityID:s?s.entityID():null,itemProviderEntityID:a?a.entityID():null,metadataItemEntityID:o.entityID(),metricsPage:t.metricsPage,metricsProperties:lt(lt({},d),t.metricsProperties),skipClickMetrics:!0})})},[dt](e,t,n){const r=(0,M.$R)(e,t),i=t.metricsPage,s={allowMetrics:!!i,metricsProperties:{page:i}};(0,c.Z)(r,s).fail((e=>{n((0,y.wp)((0,Z.Z)("There was a problem analyzing this item.")))}))},[mt](e,t){const n=(0,M.$R)(e,t),r=new x({model:n});b.Z.trigger("show:modal",r)},[ut](e,t){const n=(0,M.$R)(e,t),r=t.options||{},i=n.get("isPlaylist")?"deletePlaylist":"deleteItems";a.Z.execute(i,lt({item:n},r)),dn(v.yY,n,t.metricsPage)},[pt](e,t){const n=(0,M.$R)(e,t);a.Z.execute("deleteVersions",{item:n}),dn(v.yY,n,t.metricsPage)},[ht](e,t){const n=(0,M.$R)(e,t),r=n.get("isPlaylist")?new F({model:n}):new A.Z({model:n});b.Z.trigger("show:modal",r),dn(v.dm,n,t.metricsPage)},[gt](e,t){const n=(0,M.$R)(e,t);n.server.get("sections").fetch().then((()=>{const e=new je({model:n});b.Z.trigger("show:modal",e),dn(v.P9,n,t.metricsPage)}))},[yt](e,t){const n=(0,M.$R)(e,t),r=new tt({model:n});b.Z.trigger("show:modal",r),dn(v.$M,n,t.metricsPage)},[vt](e,t,n){const r=(0,M.$R)(e,t);(0,h.Z)(e,t).then((()=>{n((0,y.jR)({serverEntityID:t.serverEntityID}))}),(()=>{const e=t.played?(0,Z.Z)("There was an unexpected error marking an item played."):(0,Z.Z)("There was an unexpected error marking an item unplayed.");n((0,y.wp)(e))})),dn(t.played?v.qe:v.h3,r,t.metricsPage)},[ft](e,t){const n=(0,M.$R)(e,t),r=new nt.Z({item:n});b.Z.trigger("show:modal",r),dn(v.FH,n,t.metricsPage)},[bt](e,t,n){const{rating:r,metricsPage:i}=t,s=(0,M.js)(e,t),a=(0,M.$R)(e,t),o={rating:r,allowMetrics:!!i,metricsProperties:{page:i}};(0,d.Z)(s,a,o).fail((e=>{n((0,y.wp)((0,Z.Z)("There was a problem rating this item.")))}))},[St](e,t,n){const r=(0,M.$R)(e,t),i=t.metricsPage,s={allowMetrics:!!i,metricsProperties:{page:i}};(0,u.Z)(r,s).fail((e=>{503===e.status?b.Z.trigger("show:modal",new Re.Z({model:r.server})):n((0,y.wp)((0,Z.Z)("There was a problem refreshing this item.")))}))},[It](e,t,n){const r=(0,M.$R)(e,t);a.Z.execute("splitApart",{item:r,skipNavigate:!0}).done((()=>{n((0,y.jR)({serverEntityID:t.serverEntityID}))})),dn(v.RF,r,t.metricsPage)},[Zt](e,t){const n=(0,M.$R)(e,t);a.Z.execute("showSyncModal",{item:n}),dn(v.J3,n,t.metricsPage)},[Pt](e,t){const n=(0,M.$R)(e,t);a.Z.execute("unmatch",{item:n}),dn(v.Zy,n,t.metricsPage)},[Et](e,t,n){const{providerEntityID:r,metadataItemEntityID:s,name:a,value:o,save:l}=t,c=(0,M.$R)(e,{metadataItemEntityID:s});if(!l)return void c.set({[a]:o});const d=(0,M.js)(e,{providerEntityID:r}),u=p.Z.join(c.get("key"),{[a]:o,[`${a}.locked`]:1}),m=d.getXHROptions(u,{type:"PUT"});i().ajax(m).fail((e=>{n((0,y.wp)((0,Z.Z)("There was a problem editing this item.")))})),dn(v.dm,c,t.metricsPage)},[Mt](e,t){const n=(0,M.tz)(e,t);n&&n.set({metadataState:t.metadataState,mediaState:t.mediaState})},[Ct](e,t,n){const r=(0,M.js)(e,t),s=(0,M.$R)(e,t),{data:a}=t;(function(e,t,n){const r=t.get("key"),s=p.Z.join([r,"prefs"],n),a=e.getXHROptions(s,{type:"PUT"});t.set({isSettingsUpdating:!0,settingsUpdateError:null});const o=i().ajax(a);return o.then((()=>{t.set("isSettingsUpdating",!1)}),(e=>{t.set({isSettingsUpdating:!1,settingsUpdateError:(0,m.Z)(e)})})),o})(r,s,a).then((()=>{n((0,g.dk)({serverEntityID:t.serverEntityID,metadataItemEntityID:t.metadataItemEntityID}))}))},[wt](e,t,n){(0,M.$R)(e,t).set("settingsUpdateError",null)},[Dt](){},[At](){},[Nt](e,t,n){const r=(0,M.SW)(e,t),i=(0,M.js)(e,t),s=(0,M.$R)(e,t);s.fetch().done((()=>{var e;const t=s.get("content"),{sectionKey:a}=f.Z.parseLibraryUri(t),l=p.Z.getLastSegment(t),c=(0,I.Z)(i,a),d=c.pivots.find((e=>"library"===e.id||e.key.includes(c.key))),u=(0,P.Z)(r.toJSON(),i.toJSON(),c,{pivot:null!=(e=d.id)?e:d.key,key:decodeURIComponent(l),curatedKey:s.get("key"),advancedFilters:1});n((0,o.c4)({pathname:u}))}))}}},29414:(e,t,n)=>{"use strict";n.d(t,{C8:()=>R,CF:()=>V,vp:()=>U,u6:()=>z,vm:()=>B,$5:()=>_,wr:()=>F,g8:()=>H,Kn:()=>W,XX:()=>Q,m8:()=>G,wZ:()=>Y,rr:()=>q,q9:()=>$});var r=n(93966),i=n(94018),s=n(95933),a=n(40807),o=n(33816),l=n(27940),c=n(58042),d=n(73054),u=n(88050),p=n(47486),m=n(32846),h=n(28440),g=n(62034),y=n(517),v=n(74527),f=Object.defineProperty,b=Object.prototype.hasOwnProperty,S=Object.getOwnPropertySymbols,I=Object.prototype.propertyIsEnumerable,Z=(e,t,n)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P=(e,t)=>{for(var n in t||(t={}))b.call(t,n)&&Z(e,n,t[n]);if(S)for(var n of S(t))I.call(t,n)&&Z(e,n,t[n]);return e};const E="metadata/metadataList/fetchMetadataList",M="metadata/metadataList/populateMetadataList",C="metadata/metadataList/populateMetadataListRange",w="metadata/metadataList/repopulateMetadataListRange",D="metadata/metadataList/syncMetadataList",T="metadata/metadataList/optimizeMetadataList",O="metadata/metadataList/selectMetadataListItem",x="metadata/metadataList/deselectMetadataListItem",A="metadata/metadataList/selectMetadataListItems",N="metadata/metadataList/deselectMetadataListItems",k="metadata/metadataList/deselectAllMetadataListItems",L="metadata/metadataList/resetMetadataList",j="metadata/metadataList/redispatchLegacyMetadataListAction",R=(0,a.Z)(E),V=(0,a.Z)(M),U=(0,a.Z)(C),z=(0,a.Z)(w),B=(0,a.Z)(D),_=(0,a.Z)(T),F=(0,a.Z)(O),H=(0,a.Z)(x),W=(0,a.Z)(A),Q=(0,a.Z)(N),G=(0,a.Z)(k),Y=(0,a.Z)(L),q=(0,a.Z)(j);function K(e,t,n={}){(0,r.DB)("metrics").trackClick(P({page:t,action:e,context:p.LIST},n))}const $={[E]:(0,o.Z)({getModel:y.lK}),[M]:(0,l.Z)({fetchActionCreator:R,getModel:y.lK}),[C]:(0,c.Z)({getModel:y.lK}),[w]:(0,d.Z)({getModel:y.lK}),[D](e,t){const n=(0,y.lK)(e,t);i.Z.execute("showSyncModal",{item:n}),K(u.J3,t.metricsPage,t.metricsProperties)},[T](e,t){const n=(0,y.lK)(e,t),r=new v.Z({item:n});m.Z.trigger("show:modal",r),K(u.FH,t.metricsPage,t.metricsProperties)},[O](e,t,n){const{id:r,type:i,isRangeSelect:s}=t,a=(0,y.lK)(e,t),o=(0,y.$R)(e,{metadataItemEntityID:r}),l=a.getCollection();o&&n((0,g.Gh)({type:i,model:o,collection:l,isRangeSelect:s}))},[x](e,t,n){const r=(0,y.$R)(e,{metadataItemEntityID:t.id});r&&n((0,g.Ib)([r.id]))},[A](e,t,n){const{ids:r,type:i}=t,s=r.reduce(((t,n)=>{const r=(0,y.tz)(e,{metadataItemEntityID:n});return r&&t.push({id:r&&r.id,type:i,model:r}),t}),[]);n((0,g.GZ)(s))},[N](e,t,n){const r=t.ids.reduce(((t,n)=>{const r=(0,y.tz)(e,{metadataItemEntityID:n});return r&&t.push({id:r&&r.id}),t}),[]);n((0,g.Ib)(r))},[k](e,t,n){const r=(0,y.lK)(e,t).getCollection();n((0,g.Nd)(r))},[L](e,t){const n=(0,y.lK)(e,t),r=n.get("entityKey");n.abortPendingPopulate(),n.resetPopulatePromise(null),n.restoreDefaults({entityKey:r,meta:r?n.get("meta"):void 0,containerKey:n.get("containerKey"),containerTitle:n.get("containerTitle")})},[j](e,t,n){const r=(0,h.SW)(e,{serverEntityID:t.server.entityID}),i=(0,h.js)(e,{providerEntityID:t.provider.entityID}),a=new s.Z({containerKey:t.containerKey},{server:r,provider:i,includeCollections:!0,includeExternalMedia:!0}),o=t.legacyAction.type,l=t.legacyAction.payload,c=(null==l?void 0:l.metricsProperties)||{};n({type:o,payload:P(P({},l),{serverEntityID:r.entityID(),providerEntityID:i.entityID(),metadataListEntityID:a.entityID(),metricsPage:t.metricsPage,metricsProperties:P(P({},c),t.metricsProperties),skipClickMetrics:!0})})}}},62034:(e,t,n)=>{"use strict";n.d(t,{aM:()=>K,Gh:()=>$,GZ:()=>X,mD:()=>J,Ib:()=>ee,Nd:()=>te,Pe:()=>ie,UY:()=>se,aU:()=>ae,fR:()=>oe,H3:()=>le,mP:()=>ce,ZT:()=>de,ZP:()=>ue,PP:()=>pe,hM:()=>me,u9:()=>he,Bf:()=>ge,de:()=>ye,$z:()=>ve,$e:()=>fe,tv:()=>Ie});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(94018),l=n(40807),c=n(34583),d=n(49897),u=n(95374),p=n(56054),m=n(79932),h=n(32901),g=n(32846),y=n(34796),v=n(63733),f=n(28440),b=n(5562),S=n(32827),I=n(43593),Z=n(74527),P=Object.defineProperty,E=Object.prototype.hasOwnProperty,M=Object.getOwnPropertySymbols,C=Object.prototype.propertyIsEnumerable,w=(e,t,n)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D=(e,t)=>{for(var n in t||(t={}))E.call(t,n)&&w(e,n,t[n]);if(M)for(var n of M(t))C.call(t,n)&&w(e,n,t[n]);return e},T=(e,t)=>{var n={};for(var r in e)E.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&M)for(var r of M(e))t.indexOf(r)<0&&C.call(e,r)&&(n[r]=e[r]);return n};const O="multiSelect/redispatchLegacyMuliselectAction",x="multiSelect/selectItem",A="multiSelect/selectModels",N="multiSelect/deselectAllItems",k="multiSelect/deselectModels",L="multiSelect/deselectCollection",j="multiSelect/selectRange",R="multiSelect/deselectRange",V="multiSelect/playSelectedItems",U="multiSelect/queueSelectedItems",z="multiSelect/favoriteSelectedItems",B="multiSelect/unfavoriteSelectedItems",_="multiSelect/updateSelectedItemsPlayedStatus",F="multiSelect/editSelectedItems",H="multiSelect/refreshSelectedItems",W="multiSelect/analyzeSelectedItems",Q="multiSelect/syncMetadataItems",G="multiSelect/optimizeMetadataItems",Y="multiSelect/mergeSelectedItems",q="multiSelect/deleteSelectedItems",K=(0,l.Z)(O),$=(0,l.Z)(x),X=(0,l.Z)(A),J=(0,l.Z)(N),ee=(0,l.Z)(k),te=(0,l.Z)(L),ne=(0,l.Z)(j),re=(0,l.Z)(R),ie=(0,l.Z)(V),se=(0,l.Z)(z),ae=(0,l.Z)(B),oe=((0,l.Z)(_),(0,l.Z)(F)),le=(0,l.Z)(H),ce=(0,l.Z)(W),de=(0,l.Z)(Q),ue=(0,l.Z)(G),pe=(0,l.Z)(Y),me=(0,l.Z)(q),he=(0,l.Z)(V,(e=>{var t=e,{options:n={}}=t,r=T(t,["options"]);return D(D({},r),{options:D(D({},n),{shuffle:!0})})})),ge=(0,l.Z)(_,(e=>D(D({},e),{played:!0}))),ye=(0,l.Z)(_,(e=>D(D({},e),{played:!1}))),ve=(0,l.Z)(U,(e=>{var t=e,{options:n={}}=t,r=T(t,["options"]);return D(D({},r),{options:D(D({},n),{next:!1})})})),fe=(0,l.Z)(U,(e=>{var t=e,{options:n={}}=t,r=T(t,["options"]);return D(D({},r),{options:D(D({},n),{next:!0})})}));function be(e){return e.get("ui").get("multiSelect").get("activeSelectionItems").map((e=>e.get("model").entityID()))}function Se(e){return e.map((e=>e.entityID()))}const Ie={[O](e,t,n){const r=t.items.map((t=>{const{metadataItemModel:n}=(0,S.Z)(e,t);return n})),i=t.legacyAction.type,s=t.legacyAction.payload;n({type:i,payload:D(D({},s),{items:r})})},[x](e,t,n){const{type:r,model:i,collection:s,isRangeSelect:a=!1}=t,o=e.get("ui").get("multiSelect"),l=o.get("activeSelectionType"),c=o.get("activeSelectionRange");if(l&&l!==r)return;if(o.listenToCollection(s),!a||!c||c.collection!==s)return o.set("activeSelectionRange",{collection:s,startModel:i}),void n(X([{id:i.id,type:r,model:i}]));const d=c.startModel,u=c.endModel,p=s.indexOf(d),m=s.indexOf(i);if(u){const e=s.indexOf(u);n(re({collection:s,range:{start:p,end:e}}))}o.set("activeSelectionRange",{collection:s,startModel:d,endModel:i}),n(ne({type:r,collection:s,range:{start:p,end:m}}))},[A](e,t){e.get("ui").get("multiSelect").get("activeSelectionItems").add(t)},[N](e){e.get("ui").get("multiSelect").get("activeSelectionItems").reset()},[k](e,t){e.get("ui").get("multiSelect").get("activeSelectionItems").remove(t)},[L](e,t,n){const r=e.get("ui").get("multiSelect"),i=r.get("activeSelectionItems"),s=[];r.stopListening(t),t.each((e=>{i.get(e.id)&&s.push(e.id)})),s.length&&n(ee(s))},[j](e,t,n){const{type:r,collection:i,range:s}=t,a=e.get("ui").get("multiSelect").get("activeSelectionItems"),o=[];v.Z.each(s,(e=>{const t=i.at(e);t&&!a.get(t.id)&&o.push({id:t.id,type:r,model:t})})),o.length&&n(X(o))},[R](e,t,n){const{collection:r,range:i}=t,s=e.get("ui").get("multiSelect").get("activeSelectionItems"),a=[];v.Z.each(i,(e=>{const t=r.at(e);t&&s.get(t.id)&&a.push(t.id)})),a.length&&n(ee(a))},[V](e,t,n){const r=t.items?Se(t.items):be(e);n((0,m.wA)(D(D({},t),{metadataItemEntityIDs:r})))},[U](e,t,n){const r=t.items?Se(t.items):be(e);n((0,m.tP)(D(D({},t),{metadataItemEntityIDs:r})))},[z](e,t,n){const r=(0,f.js)(e,t),s=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("model");let a=i().Deferred().resolve().promise();s.forEach((e=>{a=a.then((()=>(0,d.Z)(r,e,{rating:y.jt})))})),a.fail((()=>{n((0,h.wp)((0,b.Z)("There was an unexpected error favoriting an item.")))}))},[B](e,t,n){const r=(0,f.js)(e,t),s=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("model");let a=i().Deferred().resolve().promise();s.forEach((e=>{a=a.then((()=>(0,d.Z)(r,e,{rating:y.LX})))})),a.fail((()=>{n((0,h.wp)((0,b.Z)("There was an unexpected error unfavoriting an item.")))}))},[_](e,t,n){const r=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("model");let s=i().Deferred().resolve().promise();r.forEach((n=>{s=s.then((()=>(0,p.Z)(e,D(D({},t),{metadataItemEntityID:n.entityID()}))))})),s.fail((()=>{const e=t.played?(0,b.Z)("There was an unexpected error marking an item played."):(0,b.Z)("There was an unexpected error marking an item unplayed.");n((0,h.wp)(e))})),s.always((()=>{const e={};r.forEach((t=>{const r=t.server.entityID();e[r]||(e[r]=!0,n((0,h.jR)({serverEntityID:r})))}))}))},[F](e,t){var n;const r=e.get("ui").get("multiSelect"),i=null!=(n=t.items)?n:r.get("activeSelectionItems").pluck("model"),s=new I.Z({items:i});g.Z.trigger("show:modal",s)},[H](e,t,n){var r;const s=e.get("ui").get("multiSelect"),a=null!=(r=t.items)?r:s.get("activeSelectionItems").pluck("model");let o=i().Deferred().resolve().promise();a.forEach((e=>{o=o.then((()=>(0,u.Z)(e)))})),o.fail((()=>{n((0,h.wp)((0,b.Z)("There was an unexpected error refreshing an item.")))}))},[W](e,t,n){var r;const s=e.get("ui").get("multiSelect"),a=null!=(r=t.items)?r:s.get("activeSelectionItems").pluck("model");let o=i().Deferred().resolve().promise();a.forEach((e=>{o=o.then((()=>(0,c.Z)(e)))})),o.fail((()=>{n((0,h.wp)((0,b.Z)("There was an unexpected error analyzing an item.")))}))},[Q](e,t){var n;const r=e.get("ui").get("multiSelect"),i=null!=(n=t.items)?n:r.get("activeSelectionItems").pluck("model");o.Z.execute("showSyncModal",{item:a().first(i),items:i})},[G](e,t){var n;const r=e.get("ui").get("multiSelect"),i=null!=(n=t.items)?n:r.get("activeSelectionItems").pluck("model"),s=new Z.Z({item:a().first(i),items:i});g.Z.trigger("show:modal",s)},[Y](e,t){var n;const r=e.get("ui").get("multiSelect"),i=null!=(n=t.items)?n:r.get("activeSelectionItems").pluck("model"),[s,...a]=i;o.Z.execute("merge",{item:s,items:a})},[q](e,t,n){var r;const i=e.get("ui").get("multiSelect"),s=null!=(r=t.items)?r:i.get("activeSelectionItems").pluck("model"),a=t.options||{};o.Z.execute("deleteItems",D(D({},a),{items:s,skipConfirmation:!0}))}}},65794:(e,t,n)=>{"use strict";n.d(t,{Pi:()=>u,BE:()=>p,GK:()=>m});var r=n(19755),i=n.n(r),s=n(40807),a=n(33816),o=n(28496),l=n(86035);const c="oauth/fetchOauthProviders",d="oauth/unlinkOauthProvider",u=(0,s.Z)(c),p=(0,s.Z)(d),m={[c]:(0,a.Z)({key:"oauthProviders",getModel:e=>e.get("cloudServer").get("desktop")}),[d](e,t,n){const r=e.get("cloudServer"),s=r.get("desktop").get("oauthProviders").findWhere(t);s.set("isUnlinking",!0);const a=r.populate().then((()=>i().ajax(r.getXHROptions(t.url,{type:"DELETE"}))));(0,o.Z)(a,1e3).done((()=>{s.set("unlinkError",null)})).fail((e=>{s.set("unlinkError",e)})).always((()=>{n((0,l.bc)()),n(u()),s.set("isUnlinking",!1)}))}}},15768:(e,t,n)=>{"use strict";n.d(t,{c9:()=>_,RA:()=>F,t9:()=>H,Oj:()=>W,nP:()=>Q,mp:()=>G,CM:()=>Y,e0:()=>q,ay:()=>K,K$:()=>$,wQ:()=>ne});var r=n(19755),i=n.n(r),s=n(93966),a=n(95688),o=n(40807),l=n(14179),c=n(53145),d=n(32901),u=n(46453),p=n(88630),m=n(88050),h=n(47486),g=n(67006),y=n(17146),v=n(32846),f=n(72759),b=n(28440),S=n(27082),I=n(5562),Z=n(69881),P=n(84936),E=n(57054),M=n(15902),C=n(28725),w=n(6638),D=Object.defineProperty,T=Object.prototype.hasOwnProperty,O=Object.getOwnPropertySymbols,x=Object.prototype.propertyIsEnumerable,A=(e,t,n)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N=(e,t)=>{for(var n in t||(t={}))T.call(t,n)&&A(e,n,t[n]);if(O)for(var n of O(t))x.call(t,n)&&A(e,n,t[n]);return e};const k="provider/addToCatalog",L="provider/clearAddToCatalogError",j="provider/scanLibraryFiles",R="provider/editLibrary",V="provider/analyzeLibrary",U="provider/emptyLibraryTrash",z="provider/deleteLibrary",B="provider/upgradeLibrary",_=(0,o.Z)(k),F=(0,o.Z)(L),H=(0,o.Z)(j),W=(0,o.Z)(R),Q=(0,o.Z)(U),G=(0,o.Z)(V),Y=(0,o.Z)(z),q=(0,o.Z)(B),K=(0,o.Z)(j,(e=>N(N({},e),{force:!0}))),$=(0,o.Z)(j,(e=>N(N({},e),{cancel:!0})));function X(e){const t=e.get("key");return e.get("id")||t.substr(t.lastIndexOf("/")+1)}function J(e,t){const n=(0,b.js)(e,t).get("features").get(g.P8),r={};return t.contentDirectory.key&&(r.key=t.contentDirectory.key),t.contentDirectory.hubKey&&(r.hubKey=t.contentDirectory.hubKey),n.get("directories").findWhere(r)}function ee(e,t){const n=e.get("features").get(g.P8).get("key");let r;return r=n?P.Z.join([n,t.get("id")]):t.get("key"),r}function te(e,t){e(c.lm({serverEntityID:t})),e(c.tU({serverEntityID:t})),e((0,d.jR)({serverEntityID:t}))}const ne={[l._g]:l.wQ[l._g],[l.o8]:l.wQ[l.o8],[l.yf]:l.wQ[l.yf],[l.NE]:l.wQ[l.NE],[L](e,t){e.get("ui").get("addToCatalogModal").set("error",null)},[k](e,t,n){const r=e.get("ui").get("addToCatalogModal"),s=(0,b.js)(e,t),o=s.get("features").get("actions").get("actions").get("addToCatalog").get("key");if((0,S.c9)((()=>{r.set({isUpdating:!0,error:null})})),t.data.fileURL){const e=new window.XMLHttpRequest;return e.open("GET",t.data.fileURL,!0),e.responseType="blob",e.onload=e=>{if(200===e.target.status){const t=e.target.response,n=new window.FormData;n.append("file",t);const a=s.getXHROptions(o,{method:"POST",processData:!1,contentType:!1,data:n});i().ajax(a).then(((e,t,n)=>{r.set({isUpdating:!1})}),(e=>{r.set({isUpdating:!1,error:(0,E.Z)(e)})}))}window.URL.revokeObjectURL(t.data.fileURL)},void e.send()}const l=P.Z.join(o,{url:t.data.channelURL}),c=s.getXHROptions(l,{method:"PUT",dataType:"json"});i().ajax(c).then(((e,t,n)=>{r.set("isUpdating",!1);const i=new a.Z(e,{server:s.server,provider:s,parse:!0});if(!i.get("key"))return void r.set({isUpdating:!1,error:(0,E.Z)(n)});const o=(0,w.Z)(s.server.state,s.state,i.get("key"));window.location.hash=o}),(e=>{r.set({isUpdating:!1,error:(0,E.Z)(e)})}))},[j](e,t,n){const{cancel:r,force:i,metricsPage:s}=t,a=(0,b.SW)(e,t),o=J(e,t),l={libraryID:X(o),libraryType:o.get("type"),cancel:r,force:i,allowMetrics:!!s,metricsProperties:{page:s}};o.set("refreshing",!r),(0,M.Z)(a,l).fail((e=>{let t;t=r?(0,I.Z)("There was an unexpected error canceling the scan."):i?503===e.status?(0,I.Z)("An internet connection is required to refresh library metadata. Please check this server's connection and try again."):(0,I.Z)("There was an unexpected error refreshing library metadata."):503===e.status?(0,I.Z)("An internet connection is required to scan library files. Please check this server's connection and try again."):(0,I.Z)("There was an unexpected error scanning library files."),n((0,d.wp)(t))})).always((e=>{n(c.Vk({serverEntityID:t.serverEntityID}))}))},[R](e,t){const n=(0,b.SW)(e,t),r=n.get("desktop").get("libraries"),i=J(e,t);r.fetch().then((()=>{const e=X(i),a=r.get(e);v.Z.trigger("show:modal",new C.Z({server:n,model:a})),(0,s.DB)("metrics").trackClick({page:t.metricsPage,action:m.Yf,type:a.get("type"),context:h.LIBRARY})}))},[U](e,t,n){const r=(0,b.SW)(e,t),a=(0,b.js)(e,t),o=J(e,t),l=ee(a,o),c=P.Z.join([l,"emptyTrash"]),u=r.getXHROptions(c,{type:"PUT"});i().ajax(u).done((()=>{n((0,d.wp)({type:p.M,message:(0,I.Z)("The trash was emptied.")}))})).fail((e=>{n((0,d.wp)((0,I.Z)("There was a problem emptying the trash.")))})),(0,s.DB)("metrics").trackClick({page:t.metricsPage,action:m.yZ,type:o.get("type"),context:h.LIBRARY})},[V](e,t,n){const r=(0,b.SW)(e,t),a=(0,b.js)(e,t),o=J(e,t),l=ee(a,o),c=P.Z.join([l,"analyze"]),u=r.getXHROptions(c,{type:"PUT"});i().ajax(u).fail((e=>{n((0,d.wp)((0,I.Z)("There was a problem analyzing the library.")))})),(0,s.DB)("metrics").trackClick({page:t.metricsPage,action:m.JM,type:o.get("type"),context:h.LIBRARY})},[z](e,t,n){const r=(0,b.SW)(e,t),a=(0,b.js)(e,t),o=J(e,t),l=ee(a,o),c=P.Z.join(l,{async:1}),u=r.getXHROptions(c,{type:"DELETE"});a.get("features").get(g.P8).get("directories").remove(o),i().ajax(u).fail((()=>{te(n,t.serverEntityID),n((0,d.wp)((0,I.Z)("There was a problem deleting the library.")))})),(0,s.DB)("metrics").trackClick({page:t.metricsPage,action:m.b1,type:o.get("type"),context:h.LIBRARY})},[B](e,t,n){const r=(0,b.SW)(e,t),s=(0,b.js)(e,t),a=J(e,t),o=a.get("type");let l;l=o===Z.MOVIE?{agent:u.WX,scanner:y.Lx}:o===Z.ARTIST?{agent:u.Ut,scanner:y.c3}:{agent:u.Zb,scanner:y.QQ};const c=ee(s,a),p=P.Z.join(c,l),m=r.getXHROptions(p,{type:"PUT"});i().ajax(m).then((()=>{te(n,t.serverEntityID)}),(()=>{n((0,d.wp)((0,I.Z)("There was a problem upgrading the library.")))}))},[c.Cs](e,t,n){t.activity.type===f.y0&&te(n,t.serverEntityID)}}},34845:(e,t,n)=>{"use strict";n.d(t,{SP:()=>D,r8:()=>N,HM:()=>x,Fi:()=>T,rg:()=>O});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(93966),l=n(5513),c=n(40807),d=n(32869),u=n(45274),p=n(47486),m=n(96335),h=n(32846),g=n(28440),y=n(5562),v=n(12319),f=n(70515);var b=n(62149),S=n(84936);const I=function(e,t,n,r){const s=e.get("user"),a=e.get("cloudServer");return s.get("anonymous")?i().Deferred().reject().promise():i().ajax(a.getXHROptions("/api/claim/token",{headers:{"X-Plex-Token":n}})).promise().then((e=>f.Z.parseXML(e).token)).then((e=>i().ajax(t.getXHROptions(S.Z.join("/myplex/claim",{token:e}),{type:"POST"})))).then((()=>function(e,t){const n=e.get("cloudServer").get("resources"),r={clientIdentifier:t.get("machineIdentifier")};return function(e,t={}){let n=Math.floor(Math.max(t.times||0,0));const r=Math.floor(Math.max(t.delay||0,0));t.cancel&&t.cancel.always((()=>{n=-1}));const s=i().Deferred();let a;return t.maxDuration&&(a=window.setTimeout((()=>{s.reject("maxDuration")}),t.maxDuration)),function t(){n<0||e().done((function(){a&&window.clearTimeout(a),s.resolve(...arguments)})).fail((function(){n-=1,n<0?(a&&window.clearTimeout(a),s.reject(...arguments)):"pending"===s.state()&&window.setTimeout(t,r)}))}(),s.promise()}((()=>n.fetch().then((()=>n.findWhere(r)?i().Deferred().resolve().promise():i().Deferred().reject().promise()))),{times:30,delay:1e3})}(e,t))).then((()=>{let e;return(0,b.Z)(t)&&(e=t.getXHROptions("/media/providers")),t.fetch(e)})).then((()=>function(e,t,n){const r=i().Deferred();return e.get("primaryServer")===t?r.resolve():(e.once("change:primaryServer",r.resolve),n()),function(e,t){const n=i().Deferred(),r=window.setTimeout((()=>{n.reject()}),t);return e.then(n.resolve,n.reject).always((()=>{window.clearTimeout(r)})),n.promise()}(r.promise(),2e3)}(e,t,r))).then((()=>{const e=s.get("email"),n=t.get("desktop").get("cloudAccount");t.set({myPlexSigninState:v.Hq,myPlexUsername:e}),n.set({signedIn:!0,username:e})}))};var Z=n(29243);var P=n(5756);const E="server/claim/claimServer",M="server/claim/signInThenClaimServer",C="server/claim/signOutServer",w="server/claim/createPIN",D=(0,c.Z)(E),T=(0,c.Z)(M),O=(0,c.Z)(C),x=(0,c.Z)(w);function A(e,t,n){const{authToken:r}=t,i=(0,g.SW)(e,t),s=(0,Z.Z)(e);s.set({errorMessage:null,isBusy:!0});const a=(0,o.DB)("metrics");return I(e,i,r,(()=>{n((0,l.h9)({machineIdentifier:i.id,metricsProperties:{context:p.SETTINGS}}))})).done((()=>{a.trackEvent({event:m.Yg,interaction:!0})})).fail((()=>{a.trackEvent({event:m.Jk,interaction:!1}),s.set({errorMessage:(0,y.Z)("There was a problem claiming this server."),isBusy:!1})}))}const N={[E](e,t,n){A(e,t,n).then((()=>{(0,Z.Z)(e).set({errorMessage:null,isBusy:!1})}))},[M](e,t,n){(function(e,t){const n=e.get("user"),{authToken:r}=t;return i().ajax(n.server.getXHROptions(a().result(n,"url"),{headers:{"X-Plex-Token":r}})).then((e=>n.signIn(e,{})))})(e,t).then((()=>A(e,t,n))).then((()=>{(0,Z.Z)(e).set({errorMessage:null,isBusy:!1})})).fail((t=>{const n=(0,d.Z)(t);h.Z.trigger("show:alert",{message:(0,u.Z)(n)}),(0,Z.Z)(e).set({errorMessage:(0,y.Z)("There was a problem claiming this server."),isBusy:!1})}))},[C](e,t,n){const r=(0,g.SW)(e,t).get("desktop").get("cloudAccount"),i=(0,Z.Z)(e);var s;i.set({errorMessage:null,isBusy:!0}),(s=r,s.destroy({timeout:0}).promise().done((()=>{s.server.set({accessToken:void 0,myPlexSigninState:v.Ar,myPlexSubscription:!1}),s.restoreDefaults()}))).done((()=>{i.set({errorMessage:null,isBusy:!1})})).fail((()=>{i.set({errorMessage:(0,y.Z)("There was a problem signing the server out."),isBusy:!1})}))},[w](e,t,n){const r=(0,P.Z)(e),i=(0,Z.Z)(e);r.then((e=>{i.set({pinID:e.id,code:e.code,isBusy:!0})})),r.fail((()=>{i.set({fatalErrorMessage:(0,y.Z)("An error occurred"),isBusy:!1})}))}}},59194:(e,t,n)=>{"use strict";n.d(t,{Wy:()=>fe,JZ:()=>Se,zl:()=>we,ll:()=>Ze,Af:()=>Ee,Hz:()=>Me,uo:()=>Pe,Q6:()=>Ie,st:()=>Ce,R_:()=>ge,gj:()=>me,o1:()=>ve,Iy:()=>Oe,iE:()=>be,m7:()=>ye});var r=n(19755),i=n.n(r),s=n(93966),a=n(12319),o=n(40807),l=n(33816),c=n(27940),d=n(53145),u=n(32901),p=n(4134),m=n(88630),h=n(88050),g=n(47486),y=n(22923),v=n(96515),f=n(32846),b=n(72759),S=n(96840),I=n(59756),Z=n(55642),P=n(47479);var E=n(27082),M=n(5562),C=n(84936),w=n(39957),D=n(45381),T=n(86035),O=n(32827),x=n(15902),A=n(43666),N=n(517),k=n(13469),L=n.n(k),j=n(43888),R=n(64529),V=n(18039),U=n(22016),z=n.n(U);const B=R.Z.extend({className:"alert-bar notify",template:z(),events:L().extend({"click .setup-link":"onSetupClick"},R.Z.prototype.events),serializeData(){return{model:this.model.get("model"),make:this.model.get("make"),dvrSettingsRoute:(0,V.Z)(this.options.machineIdentifier,"manage","dvr")}},disableDevice(){const e=(0,s.DB)("appStore"),t=this.options.serverEntityID;t&&e.dispatch((0,j._w)({serverEntityID:t,deviceID:this.model.id,enabled:!1}))},onSetupClick(){this.hide(),this.disableDevice()},onCloseClick(e){R.Z.prototype.onCloseClick.apply(this,arguments),this.disableDevice()}});var _=n(28725),F=n(64898),H=n(90308),W=n.n(H);const Q=F.Z.extend({template:W(),events:L().extend({"click .learn-more":"onLearnMoreClick"},F.Z.prototype.events),onRender:function(){F.Z.prototype.onRender.apply(this,arguments),(0,s.DB)("metrics").trackView({page:"relayNotification",mode:"modal",action:h.GP},{interaction:!1})},onHide(e){F.Z.prototype.onHide.apply(this,arguments),(0,s.DB)("metrics").trackClick({page:"relayNotification",mode:"modal",action:h.GP})},onLearnMoreClick(){(0,s.DB)("metrics").trackClick({page:"relayNotification",mode:"modal",action:h.yq})},serializeData(){return{serverName:this.options.serverName,escapedServerName:L().escape(this.options.serverName)}}});var G=Object.defineProperty,Y=Object.prototype.hasOwnProperty,q=Object.getOwnPropertySymbols,K=Object.prototype.propertyIsEnumerable,$=(e,t,n)=>t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,X=(e,t)=>{for(var n in t||(t={}))Y.call(t,n)&&$(e,n,t[n]);if(q)for(var n of q(t))K.call(t,n)&&$(e,n,t[n]);return e};const J="server/redispatchLegacyServerAction",ee="server/fetchSettings",te="server/populateSettings",ne="server/updateSetting",re="server/saveSetting",ie="server/addLibrary",se="server/startLibrariesRefresh",ae="server/allowHttpFallback",oe="server/optimizeDatabase",le="server/cleanBundles",ce="server/emptyTrash",de="server/deleteServer",ue="server/discoverMediaGrabberDevice",pe="server/populateHasiTunes",me=(0,o.Z)(J),he=(0,o.Z)(ee),ge=(0,o.Z)(te),ye=(0,o.Z)(ne),ve=(0,o.Z)(re),fe=(0,o.Z)(ie),be=(0,o.Z)(se),Se=(0,o.Z)(ae),Ie=(0,o.Z)(oe),Ze=(0,o.Z)(le),Pe=(0,o.Z)(ce),Ee=(0,o.Z)(de),Me=(0,o.Z)(ue),Ce=(0,o.Z)(pe),we=(0,o.Z)(se,(e=>X(X({},e),{cancel:!0})));function De(e,t){(0,s.DB)("metrics").trackClick({page:t,action:e,context:g.SERVER})}function Te(e,t){const n=(0,N.SW)(e,t),r=(0,N.Y7)(e,t).get("settings").get(t.setting.id);if(r){const e=r.parse(t.setting);r.set("value",e.value),"FriendlyName"===e.id&&e.value?n.set("friendlyName",e.value):"allowMediaDeletion"===e.id&&n.set("allowMediaDeletion",e.value)}}const Oe={[d.Vr]:d.Iy[d.Vr],[d.$Q]:d.Iy[d.$Q],[d.h9]:d.Iy[d.h9],[d.WV]:d.Iy[d.WV],[d.Cs]:d.Iy[d.Cs],[d.mK]:d.Iy[d.mK],[d.Wq]:d.Iy[d.Wq],[d.rW]:d.Iy[d.rW],[d.db]:d.Iy[d.db],[d.RD]:d.Iy[d.RD],[d.l2]:d.Iy[d.l2],[d.kM]:d.Iy[d.kM],[d.$M]:d.Iy[d.$M],[J](e,t,n){const{serverModel:r,providerModel:i}=(0,O.Z)(e,t),s=t.legacyAction.type,a=t.legacyAction.payload;n({type:s,payload:X(X({},a),{serverEntityID:r.entityID(),providerEntityID:i.entityID()})})},[ee]:(0,l.Z)({key:"settings",getModel:N.Y7}),[te]:(0,c.Z)({key:"settings",fetchActionCreator:he,getModel:N.Y7}),[ne](e,t){Te(e,t)},[re](e,t){const n=(0,N.Y7)(e,t).get("settings").get(t.setting.id);(0,E.c9)((()=>n.set({isSaving:!0}))),Te(e,t),n.save().then((()=>n.set({isSaving:!1})),(()=>n.set({isSaving:!1})))},[d.R](e,{machineIdentifier:t,serverName:n},r){const i=e.get("user").get("experienceSettings").get("reminders"),s=(0,w.Z)(y.K,t),a=i.get(s);if(a&&!(0,v.Z)(a.get("remindAfter")))return;const o=new Q({serverName:n});f.Z.trigger("show:modal",o),r((0,A.JY)({id:s}))},[d.ay](e,t){const n=(0,N.SW)(e,t),r=e.get("user").get("experienceSettings").get("allowHttpFallback");!function(e,t,n,r){if(function(e,t){if(!e.get("isFullServer"))return!1;if(P.Z.isHostedHttps&&!I.Z.allowMixedContent)return!1;const n=t===Z.Z.ALWAYS,r=t===Z.Z.SAME_NETWORK;return!!(n||r&&e.get("publicAddressMatches"))}(e,r)){const r=e.addConnection({scheme:"http",address:t,port:n,isFallback:!0});(0,S.Z)("[Connections] Added insecure fallback connection for %s at %s",e.get("debugName"),r.id)}else S.Z.warn("[Connections] Prevented fallback to insecure connection for",e.get("debugName"))}(n,t.address,t.port,r)},[ie](e,t){const n=(0,N.SW)(e,t),{options:r={}}=t,i=new _.Z(X({server:n,redirect:!1!==t.redirect},r));f.Z.trigger("show:modal",i),De(h.wl,t.metricsPage)},[se](e,t,n){const{cancel:r,force:i,metricsPage:s}=t,a=(0,N.SW)(e,t),o={serverModel:a,libraryID:"all",cancel:r,force:i,allowMetrics:!!s,metricsProperties:{page:s}};t.cancel&&(0,N.Y7)(e,t).get("libraries").each((e=>e.set("refreshing",!1))),(0,x.Z)(a,o).fail((()=>{const e=t.cancel?(0,M.Z)("There was a problem canceling the update."):(0,M.Z)("There was a problem updating libraries.");n((0,u.wp)(e))})).always((()=>{n((0,d.tU)({serverEntityID:t.serverEntityID}))}))},[ae](e,t,n){n((0,p.LN)({allowHttpFallback:t.allowHttpFallback})),n((0,d.Vk)({serverEntityID:t.serverEntityID}))},[oe](e,t,n){const r=(0,N.SW)(e,t),s=(0,N.Y7)(e,t),a=r.supports("optimizeDatabaseActivity"),o=C.Z.join("/library/optimize",a?{async:1}:{}),l=r.getXHROptions(o,{type:"PUT"});n((0,d.ET)({serverEntityID:t.serverEntityID,activityType:b.nJ})),s.set({optimizeDatabaseError:null}),i().ajax(l).done((()=>{a||n((0,d.n7)({serverEntityID:t.serverEntityID,activityType:b.nJ}))})).fail((()=>{s.set({optimizeDatabaseError:(0,M.Z)("There was a problem optimizing the database.")}),n((0,d.n7)({serverEntityID:t.serverEntityID,activityType:b.nJ})),t.hideAlerts||n((0,u.wp)((0,M.Z)("There was a problem optimizing the database.")))})),De(h.nJ,t.metricsPage)},[le](e,t,n){const r=(0,N.SW)(e,t),s=(0,N.Y7)(e,t),a=C.Z.join("/library/clean/bundles",{async:1}),o=r.getXHROptions(a,{type:"PUT"});n((0,d.ET)({serverEntityID:t.serverEntityID,activityType:b.zL})),s.set({cleanBundlesError:null}),i().ajax(o).fail((()=>{s.set({cleanBundlesError:(0,M.Z)("There was a problem removing unused bundles.")}),n((0,d.n7)({serverEntityID:t.serverEntityID,activityType:b.zL})),t.hideAlerts||n((0,u.wp)((0,M.Z)("There was a problem removing unused bundles.")))})),De(h.zL,t.metricsPage)},[ce](e,t,n){const r=(0,N.SW)(e,t),s=(0,N.Y7)(e,t).get("libraries");(t.libraryID?i().Deferred().resolve([t.libraryID]).promise():s.populate().then((()=>s.map((({id:e})=>e))))).then((e=>{const t=e.map((e=>i().ajax(r.getXHROptions(`/library/sections/${e}/emptyTrash`,{type:"PUT"}))));return i().when(...t)})).then((()=>{n((0,u.wp)({type:m.M,message:(0,M.Z)("The trash was emptied.")}))}),(e=>{n((0,u.wp)((0,M.Z)("There was a problem emptying the trash.")))})),De(h.yZ,t.metricsPage)},[de](e,t,n){const r=(0,N.SW)(e,t),s=e.get("cloudServer");if(!r)return;if(s.get("isResolved")){const e=s.getXHROptions(`/api/servers/${r.id}`,{type:"DELETE"});i().ajax(e)}const o=s.get("resources").get(r.id);o&&o.trigger("destroy",o,o.collection),r.get("isFullOwnedServer")&&r.get("isConnected")?r.get("desktop").get("cloudAccount").destroy().done((()=>{r.set({myPlexSigninState:a.Ar,myPlexSubscription:!1})})).always((()=>{n((0,d.Vk)({serverEntityID:t.serverEntityID})),r.populate().fail((function(){r.trigger("destroy",r,r.collection),n((0,T.im)({route:"home"}))}))})):(r.trigger("destroy",r,r.collection),n((0,T.im)({route:"home"}))),De(h.FR,t.metricsPage)},[ue](e,t){const n=(0,N.SW)(e,t),r=e.get("ui").get("dvrSettingsUI"),i=t.device;if(r.get("isUIPopulated"))return;const s=new B({model:new D.ZP(i,{parse:!0}),serverEntityID:t.serverEntityID,machineIdentifier:n.get("machineIdentifier")});f.Z.trigger("show:bar","alertbar",s)},[pe](e,t){const n=(0,N.SW)(e,t),r=(0,N.Y7)(e,t);if(!r.get("isHasiTunesPopulated")){const e=C.Z.join("/music/iTunes"),t=n.getXHROptions(e);i().ajax(t).done((()=>{r.set({hasiTunes:!0,isHasiTunesPopulated:!0})})).fail((()=>{r.set({hasiTunes:!1,isHasiTunesPopulated:!0})}))}}}},29313:(e,t,n)=>{"use strict";n.d(t,{Tz:()=>D,xf:()=>T,xx:()=>O,Or:()=>x,wR:()=>A,KH:()=>N});var r=n(19755),i=n.n(r),s=n(5513),a=n(40807),o=n(90117),l=n(32846),c=n(28440),d=n(5562),u=n(84936),p=n(64898),m=Object.defineProperty,h=Object.prototype.hasOwnProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.propertyIsEnumerable,v=(e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))h.call(t,n)&&v(e,n,t[n]);if(g)for(var n of g(t))y.call(t,n)&&v(e,n,t[n]);return e};const b="serverUpdate/fetchServerUpdateStatus",S="serverUpdate/checkForServerUpdate",I="serverUpdate/dismissServerUpdate",Z="serverUpdate/downloadServerUpdate",P="serverUpdate/installServerUpdate";function E(e,t){const{download:n,initialState:r,isChecking:s=!0}=t,a={download:n?"1":"0"},l=u.Z.join("/updater/check",a),c=e.getXHROptions(l,{type:"PUT"}),d=e.get("desktop").get("update"),p={isChecking:s};null!=r&&(p.state=r),d.set(p),i().ajax(c).then(null,(()=>{d.set({isChecking:!1,state:o.ERROR})}))}function M(e,t){const n=u.Z.join(["/updater/apply"],t),r=e.getXHROptions(n,{type:"PUT"});return i().ajax(r)}function C(e){const t=e.get("desktop").get("update");M(e).then((()=>{t.set("state",o.INSTALLING),e.set("isInstallingServerUpdate",!0)}),(()=>{t.set("state",o.ERROR),e.set("isInstallingServerUpdate",!1)}))}function w(e,t,n,r){const i=e.get("deviceSettings").get("dismissedServerUpdateVersions");t((0,s.T5)({dismissedServerUpdateVersions:f(f({},i),{[n.get("machineIdentifier")]:r})}))}const D=(0,a.Z)(b),T=(0,a.Z)(S),O=(0,a.Z)(I),x=(0,a.Z)(Z),A=(0,a.Z)(P),N={[b](e,t){const n=(0,c.SW)(e,t),r=(0,c.Y7)(e,t).get("update");n.get("isFullOwnedServer")&&n.get("updater")&&!n.get("isOutOfDate")&&!r.get("isChecking")&&(r.set({isChecking:!0}),r.fetch().then((()=>{const e=r.get("state"),t=e===o.DONE||e===o.ERROR||e===o.NONE;E(n,{isChecking:t})}),(()=>{r.set({isChecking:!1})})))},[S](e,t){const{download:n,initialState:r}=t;E((0,c.SW)(e,t),{download:n,initialState:r})},[I](e,t,n){const r=(0,c.SW)(e,t);(0,c.Y7)(e,t).get("update").get("canInstall")?M(r,{skip:1}).then((()=>{n(D(t))}),(()=>{w(e,n,r,t.version)})):w(e,n,r,t.version)},[Z](e,t){E((0,c.SW)(e,t),{download:!0,initialState:o.DOWNLOADING})},[P](e,t){const n=(0,c.SW)(e,t);if(n.get("activeConnection").get("isLoopback"))C(n);else{const e=new p.Z({title:(0,d.Z)("Remote Installation"),confirmLabel:(0,d.Z)("Continue"),cancelLabel:(0,d.Z)("Cancel"),message:(0,d.Z)("The installer may display dialogs that require input. Make sure you have desktop access to the computer running Plex Media Server before continuing.")});l.Z.trigger("show:modal",e),e.promise.then((()=>C(n)))}}}},29150:(e,t,n)=>{"use strict";n.d(t,{ib:()=>L,j3:()=>j,o6:()=>R,Gu:()=>U,xg:()=>z,os:()=>B,eA:()=>_,FV:()=>H,fv:()=>X});var r=n(13469),i=n.n(r),s=n(93966),a=n(39670),o=n(66357),l=n(40807),c=n(90697),d=n(79932),u=n(12304),p=n(44491),m=n(59223),h=n(52837),g=n(99038),y=n(96840),v=n(30983),f=n(58709),b=n(517),S=Object.defineProperty,I=Object.prototype.hasOwnProperty,Z=Object.getOwnPropertySymbols,P=Object.prototype.propertyIsEnumerable,E=(e,t,n)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M=(e,t)=>{for(var n in t||(t={}))I.call(t,n)&&E(e,n,t[n]);if(Z)for(var n of Z(t))P.call(t,n)&&E(e,n,t[n]);return e};const C="syncplaySessionActions/joinSession",w="syncplaySessionActions/leaveSession",D="syncplaySessionActions/setSessionError",T="syncplaySessionActions/toggleSessionLobby",O="syncplaySessionActions/syncUser",x="syncplaySessionActions/syncLobby",A="syncplaySessionActions/syncPlaystate",N="syncplaySessionActions/addNotification",k="syncplaySessionActions/removeNotification",L=(0,l.Z)(C),j=(0,l.Z)(w),R=(0,l.Z)(D),V=((0,l.Z)(T),(0,l.Z)(T,(e=>M(M({},e),{shouldShow:!0})))),U=(0,l.Z)(T,(e=>M(M({},e),{shouldHide:!0}))),z=(0,l.Z)(O),B=(0,l.Z)(x),_=(0,l.Z)(A),F=(0,l.Z)(N),H=(0,l.Z)(k),W=h.Se,Q="WATCH_TOGETHER";function G(e){return q(e).get("rooms")}function Y(e){return q(e).get("session")}function q(e){return e.get("ui").get("watchTogether")}function K(e){return(null==e?void 0:e.deviceIdentifier)===a.Z.prop("X-Plex-Client-Identifier")}function $(e){const t=(0,v.F_)(e,W);return t.get("syncplaySessionRoomID")&&!!(0,c.Z)(t)}const X={[C](e,t,n){const r=(0,b.bT)(e,t),i=r.get("id");q(e).set("session",new o.Z({metadataItem:r.get("metadataItem"),roomID:i})),n((0,f.Uw)()),(0,s.DB)("syncplaySessionManager").join({roomID:i,roomSourceUri:r.get("sourceUri"),roomSyncplayHost:r.get("syncplayHost"),roomSyncplayPort:r.get("syncplayPort")})},[w](e,t,n){const r=Y(e);if(r){const t=q(e);(0,y.Z)("[Watch Together] Leaving session for room:",r.get("roomID")),(0,s.DB)("syncplaySessionManager").leave(),t.unset("session"),t.unset("sessionError")}},[D](e,t,n){const r=(0,v.F_)(e,W),{sessionError:i}=t;r.get("syncplaySessionRoomID")?r.set({hasError:!0,errorMessage:i}):q(e).set({sessionError:i})},[T](e,t,n){const r=(0,v.F_)(e,W),i=r.get("syncplaySessionRoomID"),a={initiator:Q,playerType:W},{shouldHide:o,shouldShow:l}=t;let c;if(l&&(r.set({isWatchTogetherLobbyVisible:!0,isWatchTogetherParticipantsVisible:!1}),r.get("isPaused")||(c=(0,u.wO)(a))),o){const e=null!==r.get("adState");e&&(0,s.DB)("syncplaySessionManager").update({roomID:i,isAdPlaying:e,adDisplayIndex:r.get("adDisplayIndex"),adDisplayTotal:r.get("adDisplayIndex")}),r.get("isPaused")&&(c=(0,u.hY)(a)),r.set({isWatchTogetherLobbyVisible:!1})}(l||o)&&(0,y.Z)("[Watch Together] Session lobby is visible?",r.get("isWatchTogetherLobbyVisible")),c&&$(e)&&((0,y.Z)("[Watch Together] Dispatching after lobby visibility:",c),n(c))},[O](e,t,n){var r,i,s,a;const{event:o}=t;if(!o.user)return;const{ad:l,isPresent:c,isReady:d,positionSeconds:u,isPaused:p,user:m}=o,{deviceIdentifier:h,deviceName:v,id:b}=m,S=Y(e),I=S.get("users"),Z=[],P={},E=I.get(h)||I.add({deviceIdentifier:h,deviceName:v,id:b});if(!E.get("title")){const t=null==(r=G(e).get(S.get("roomID")))?void 0:r.get("users"),n=null==t?void 0:t.get(b);n?(P.title=n.get("title"),P.thumb=n.get("thumb")):q(e).get("isRoomsPending")||(y.Z.debug(`[Watch Together] Syncplay user is unknown ${m.id} (${m.deviceName})`),Z.push((0,f.Uw)()))}void 0!==c&&c!==E.get("isPresent")&&(P.isPresent=c,Z.push(F({type:c?g.OR:g.In,user:m}))),!1===c&&E.get("isAdPlaying")?(P.adDisplayIndex=null,P.adDisplayTotal=null,P.isAdPlaying=!1):void 0!==l&&(P.adDisplayIndex=null!=(i=null==l?void 0:l.displayIndex)?i:null,P.adDisplayTotal=null!=(s=null==l?void 0:l.displayTotal)?s:null,P.isAdPlaying=null!=(a=null==l?void 0:l.isPlaying)&&a),void 0!==d&&(P.isReady=d),void 0!==p&&(P.isWatching=!p),void 0!==u&&(P.positionSeconds=u),y.Z.debug(`[Watch Together] Updating user ${m.id} (${m.deviceName}):`,P),E.set(P),Z.forEach((e=>{y.Z.debug("[Watch Together](%s) Dispatching:",O,e),n(e)}))},[A](e,t,n){const{roomID:r,event:i}=t,s=Y(e);if(K(i.user))return;const a={user:i.user},o=function(e,t){const n=(0,v.F_)(e,W),{event:r}=t,{isPaused:i,positionSeconds:s,user:a}=r,o=null!=s,l=Y(e).get("users").get(null==a?void 0:a.deviceIdentifier),c={nextPlaybackSpeed:n.get("playbackSpeed"),shouldChangePlaybackSpeed:!1,shouldPause:!1,shouldResume:!1,shouldSeek:!1,shouldStartPlayback:!1};if(!n.get("syncplaySessionRoomID")&&o)return c.shouldStartPlayback=!0,c;if(null!=n.get("adState")||(null==l?void 0:l.get("isAdPlaying")))return c;if(!$(e))return c;if(c.shouldPause=!0===i&&!n.get("isPaused"),c.shouldResume=!1===i&&n.get("isPaused"),c.shouldSeek=r.shouldSeek,o&&(c.nextPlaybackSpeed=1,!c.shouldSeek)){const e=n.get("positionSeconds")-s;y.Z.debug("[Watch Together] Local position diff:",`${e}s`),c.shouldSeek=e>=4||e<=-1.75,!c.shouldSeek&&e>1.5&&(c.nextPlaybackSpeed=.95)}return c.shouldChangePlaybackSpeed=c.nextPlaybackSpeed!==n.get("playbackSpeed"),c}(e,t),l=[];if(o.shouldStartPlayback){const e=s.get("metadataItem"),t=Math.round(1e3*i.positionSeconds);(0,y.Z)(`[Watch Together] Start playback at ${t}s`),l.push((0,d.wA)({serverEntityID:e.get("serverEntityID"),providerEntityID:e.get("providerEntityID"),syncplaySessionRoomID:r,playerType:W,isPaused:!0,isWatchTogetherLobbyVisible:!0,openState:m.K,startOffsetMilliseconds:t,options:{metadataItemKey:e.get("key"),type:p.pX}}))}o.shouldChangePlaybackSpeed&&l.push((0,u.ec)({playerType:W,playbackSpeed:o.nextPlaybackSpeed})),o.shouldSeek&&(l.push((0,u.O7)({initiator:Q,playerType:W,positionSeconds:Math.round(i.positionSeconds)})),i.shouldSeek&&l.push(F(M(M({},a),{type:g.tG})))),o.shouldPause&&l.push((0,u.wO)({initiator:Q,playerType:W}),F(M(M({},a),{type:g.E7}))),o.shouldResume&&l.push((0,u.hY)({initiator:Q,playerType:W}),F(M(M({},a),{type:g.gk}))),l.forEach((e=>{y.Z.debug("[Watch Together](%s) Dispatching:",A,e),n(e)}))},[x](e,t,n){const r=function(e,t){const{event:n}=t,{user:r}=n,i=(0,v.F_)(e,W),s=Y(e),a=G(e).get(s.get("roomID")),o=s.get("users"),l=o.get(null==r?void 0:r.deviceIdentifier),c={shouldHide:!1,shouldShow:!1};if(!l)return c;const d=!a||a.get("users").every((e=>o.findWhere({id:e.get("id")}))),u=o.length>0&&o.every((e=>e.get("isReady"))),p=!K(r)&&(null==l?void 0:l.get("isAdPlaying")),m=!!i.get("adState"),h=i.get("isWatchTogetherLobbyVisible");return p&&!m?c.shouldShow=!0:(p&&m||d&&u)&&(c.shouldHide=!0),c.shouldHide=h&&c.shouldHide,c.shouldShow=!h&&c.shouldShow,c}(e,t);r.shouldHide&&n(U(t)),r.shouldShow&&n(V(t))},[N](e,t,n){const r=(0,v.F_)(e,W),s=Y(e),{type:a,user:o}=t;if(K(o))return void y.Z.debug("[Watch Together] Ignoring notification from local user:",t);if(r.get("isWatchTogetherLobbyVisible"))return void y.Z.debug("[Watch Together] Ignoring notification while lobby visible:",t);const l={timestamp:Date.now(),type:a,uid:i().uniqueId(),userID:o.id};(0,y.Z)(`[Watch Together] Notification "${a}" from:`,o);const c=s.get("notifications").concat(l).slice(-5);s.set({notifications:c})},[k](e,t,n){const r=Y(e),i=r.get("notifications").filter((e=>e.uid!==t.uid));r.set({notifications:i})},[d.N9](e,t,n){const r=(0,v.F_)(e,W),i=r.get("syncplaySessionRoomID");if(i&&!r.get("isWatchTogetherLobbyVisible")){const{adState:e,adDisplayIndex:r,adDisplayTotal:a}=t;(0,s.DB)("syncplaySessionManager").update({roomID:i,isAdPlaying:null!=e,adDisplayIndex:r,adDisplayTotal:a}),null==e&&n(V())}},[d.qG](e,t,n){n(j())},[d.Si](e,t,n){n(j())},[u.tG](e,t){(0,v.F_)(e,W).get("syncplaySessionRoomID")&&t.initiator!==Q&&(0,s.DB)("syncplaySessionManager").update({hasPendingSeek:!0})},[u.R1](e,t){const n=(0,v.F_)(e,W);n.get("syncplaySessionRoomID")&&t.initiator!==Q&&!n.get("adState")&&(0,s.DB)("syncplaySessionManager").update({hasPendingPlayPause:!0})}};Object.assign(X,{[u.ft]:X[u.tG],[u.Sq]:X[u.tG],[u.zV]:X[u.tG],[u.nB]:X[u.tG]})},4493:(e,t,n)=>{"use strict";n.d(t,{Lj:()=>o,Lq:()=>l,zJ:()=>d});var r=n(40807),i=n(46151);const s="ui/accountSettingsPage/updateUserProfile",a="ui/accountSettingsPage/clearUpdateUserProfileError",o=(0,r.Z)(s),l=(0,r.Z)(a);function c(e){return e.get("ui").get("accountSettingsPage")}const d={[s](e,t){const n=function(e){return e.get("user").get("profile")}(e),r=c(e);r.set({isUpdatingUserProfile:!0,updateUserProfileError:null}),n.save(t,{type:"PUT",wait:!0}).done((()=>{n.set(t),r.set({isUpdatingUserProfile:!1,updateUserProfileError:null})})).fail((e=>{r.set({isUpdatingUserProfile:!1,updateUserProfileError:(0,i.Z)(e)})}))},[a]:e=>{c(e).set("updateUserProfileError",null)}}},63800:(e,t,n)=>{"use strict";n.d(t,{ZZ:()=>o,ZX:()=>l,HF:()=>c,r4:()=>u});var r=n(40807),i=n(3265),s=n(28440),a=n(93066);const o=(0,r.Z)(a.Op),l=(0,r.Z)(a.tL),c=(0,r.Z)(a.k4);function d(e){return e.get("ui").get("background")}const u=(0,i.Z)({[a.Op](e,t={}){const{imageUrl:n,allowBlur:r=!0}=t;d(e).set({server:(0,s.SW)(e,t),provider:(0,s.js)(e,t),imageUrl:n,allowBlur:r,isBackgroundPending:!1})},[a.tL](e,t){const{theme:n}=t,r=d(e),i=(0,s.SW)(e,t),a=i&&n?i.resolveUrl(n,{appendHeaders:!0}):void 0;r.set("themeMusicUrl",a)},[a.k4](e,t){d(e).restoreDefaults({isBackgroundPending:t.isBackgroundPending})}})},31649:(e,t,n)=>{"use strict";n.d(t,{Sn:()=>S,_S:()=>I,oP:()=>Z,M:()=>P,fh:()=>E,Pv:()=>M,N$:()=>D});var r=n(19755),i=n.n(r),s=n(40807),a=n(3265),o=n(33816),l=n(32901),c=n(5562),d=n(84936),u=n(66764),p=n(75557),m=n(517);const h="ui/dvrSettings/initDVRSettingsUI",g="ui/dvrSettings/clearDVRSettingsUI",y="ui/dvrSettings/fetchDVRs",v="ui/dvrSettings/removeDVR",f="ui/dvrSettings/reloadGuide",b="ui/dvrSettings/cancelReloadGuide",S=(0,s.Z)(h),I=(0,s.Z)(g),Z=(0,s.Z)(y),P=(0,s.Z)(v),E=(0,s.Z)(f),M=(0,s.Z)(b);function C(e){return e.get("ui").get("dvrSettingsUI")}function w(e,t,n){const r=(0,m.SW)(e,t),s=d.Z.join(["/livetv/dvrs",t.dvrID,"reloadGuide"]),a=r.getXHROptions(s,{method:n});i().ajax(a)}const D=(0,a.Z)({[y]:(0,o.Z)({key:"dvrs",getModel:C}),[h](e,t,n){const r=C(e),i=r.get("dvrSetup"),s=r.get("dvr"),a=(0,m.SW)(e,t),o=a.get("machineIdentifier"),l={isUIPopulated:!0};s&&s.server.get("machineIdentifier")===o||(l.dvrs=new u.Z([],{server:a})),i&&i.server.get("machineIdentifier")===o?i.restoreDefaults():l.dvrSetup=new p.Z({},{server:a}),r.set(l),(a.hasOwnerFeature("dvr")||a.hasOwnerFeature("livetv"))&&n(Z(t))},[g](e){C(e).set("isUIPopulated",!1)},[v](e,t,n){const r=C(e).get("dvrs").get(t.dvrID);r&&r.destroy().fail((()=>n((0,l.wp)((0,c.Z)("There was a problem removing your DVR")))))},[f](e,t,n){w(e,t,"POST")},[b](e,t,n){w(e,t,"DELETE")}})},43888:(e,t,n)=>{"use strict";n.d(t,{SB:()=>ne,AV:()=>re,G$:()=>ie,LO:()=>se,Ps:()=>ae,S6:()=>oe,Si:()=>le,FX:()=>ce,$1:()=>de,pi:()=>ue,sl:()=>pe,BF:()=>me,NS:()=>he,_1:()=>ge,SA:()=>ye,Lp:()=>ve,dG:()=>fe,xj:()=>be,s6:()=>Se,NK:()=>Ie,q9:()=>Ze,JA:()=>Pe,T5:()=>Ee,Ao:()=>Me,ds:()=>Ce,Ze:()=>we,_w:()=>De,BA:()=>Te,US:()=>Oe,on:()=>Ve});var r=n(19755),i=n.n(r),s=n(14e3),a=n(69653),o=n(40807),l=n(3265),c=n(33816),d=n(53145),u=n(20023),p=n(70515),m=n(72759),h=n(5562),g=n(84936),y=n(57054),v=n(45381),f=n(83654),b=n(75557),S=n(517),I=Object.defineProperty,Z=Object.prototype.hasOwnProperty,P=Object.getOwnPropertySymbols,E=Object.prototype.propertyIsEnumerable,M=(e,t,n)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C=(e,t)=>{for(var n in t||(t={}))Z.call(t,n)&&M(e,n,t[n]);if(P)for(var n of P(t))E.call(t,n)&&M(e,n,t[n]);return e};const w="CLEAR_DVR_SETUP",D="DVR_SETUP_NEXT_STEP",T="DVR_SETUP_PREVIOUS_STEP",O="FETCH_DEVICES",x="SELECT_DEVICE",A="SELECT_DEVICE_SOURCE",N="DISCOVER_DEVICES",k="ADD_DEVICE",L="FETCH_DEVICE_DETAILS",j="FETCH_DEVICE_CHANNELS",R="SCAN_DEVICE_CHANNELS",V="CANCEL_SCAN_DEVICE_CHANNELS",U="FIND_BEST_EPG_LINEUP",z="SELECT_EPG_LINEUP",B="FETCH_LINEUP_CHANNELS",_="FETCH_CHANNEL_MAP",F="CLEAR_CHANNEL_MAP_ERROR",H="SAVE_CHANNEL_MAP",W="CLEAR_CHANNEL_MAPPINGS_SAVE_ERROR",Q="SAVE_DVR",G="ADD_DVR_DEVICE",Y="REMOVE_DVR_DEVICE",q="SAVE_DVR_SETTINGS",K="CLEAR_DVR_SETTINGS_SAVE_ERROR",$="SAVE_DEVICE_SETTINGS",X="SAVE_DEVICE_TITLE",J="CLEAR_DEVICE_SETTINGS_SAVE_ERROR",ee="CLEAR_DEVICE_SCAN_PREFS",te="SET_DVR_DEVICE_ENABLED",ne=(0,o.Z)(w),re=(0,o.Z)(D),ie=(0,o.Z)(T),se=(0,o.Z)(O),ae=(0,o.Z)(N),oe=(0,o.Z)(k),le=(0,o.Z)(x),ce=(0,o.Z)(A),de=(0,o.Z)(L),ue=(0,o.Z)(j),pe=(0,o.Z)(R),me=(0,o.Z)(V),he=(0,o.Z)(U),ge=(0,o.Z)(z),ye=(0,o.Z)(F),ve=(0,o.Z)(H),fe=(0,o.Z)(W),be=(0,o.Z)(Q),Se=(0,o.Z)(G),Ie=(0,o.Z)(Y),Ze=(0,o.Z)(q),Pe=(0,o.Z)(K),Ee=(0,o.Z)($),Me=(0,o.Z)(X),Ce=(0,o.Z)(J),we=(0,o.Z)(ee),De=(0,o.Z)(te),Te=(0,o.Z)(B,(e=>{const t=g.Z.join("/livetv/epg/channels",{lineup:e.lineupUUID});return C({options:{url:t,timeout:s.NF}},e)})),Oe=(0,o.Z)(_,(e=>{const t=g.Z.join("/livetv/epg/channelmap",{device:e.deviceUUID,lineup:e.lineupUUID});return C({options:{url:t}},e)}));function xe(e){return e.get("ui").get("dvrSettingsUI").get("dvrSetup")}function Ae(e){return e.get("ui").get("dvrSettingsUI").get("dvrs")}function Ne(e,t){return Ae(e).get(t.dvrID)}function ke(e,t){const n=xe(e),r=t.deviceID;if(t.dvrID&&r){const n=Ne(e,t).get("devices").get(r);if(n)return n}if(r){const e=n.get("devices").get(r);if(e)return e}return n.get("selectedDevice")}function Le(e,t){if(t.country)return t.country;const n=xe(e).get("epgSettings").get("selectedCountry");return n?n.get("code"):void 0}function je(e,t){const n=xe(e),r=(0,S.SW)(e,t),s=ke(e,t).get("channels"),a=t.data,o=[],l={};Object.keys(a).forEach((e=>{const{enabled:t,channelKey:n,lineupIdentifier:r}=a[e],i=s.get(e),c=!(!i||!i.get("drm"));t&&r&&!c&&o.push(e),r&&(l[`channelMappingByKey[${e}]`]=n,l[`channelMapping[${e}]`]=r)}));const c=g.Z.join(["/media/grabbers/devices",t.deviceID,"channelmap"],C({channelsEnabled:o.toString()},l));n.set("isChannelMappingsSaving",!0);const d=r.getXHROptions(c,{type:"PUT"}),u=i().ajax(d);return u.done((()=>{n.set({isChannelMappingsSaving:!1,channelMappingsSaveError:null});const r=function(e,t){return t.dvrID&&t.deviceID?ke(e,t).get("channelMappings"):xe(e).get("channelMappings")}(e,t);s.forEach((e=>{const t=e.id,n=-1!==o.indexOf(t),i=l[`channelMapping[${t}]`];i?r.add([{deviceIdentifier:t,enabled:n,lineupIdentifier:i}],{parse:!0,merge:!0}):r.remove(t)}))})),u.fail((e=>{n.set({isChannelMappingsSaving:!1,channelMappingsSaveError:(0,y.Z)(e)})})),u}function Re(e,t){const n=(0,S.SW)(e,t),r=t.enabled,s=g.Z.join(["/media/grabbers/devices",t.deviceID],{enabled:r?1:0}),a=n.getXHROptions(s,{type:"PUT"}),o=i().ajax(a).promise();return o.done((()=>{if(xe(e)){const n=ke(e,t);n&&n.set("status",r?"enabled":"disabled")}})),o}const Ve=(0,l.Z)({[w](e){xe(e).restoreDefaults()},[D](e,t={}){const n=xe(e),r={};switch(n.get("step")){case b.C.DEVICE:n.get("selectedDevice").get("unsupported")?r.step=b.C.UNSUPPORTED_DEVICE:r.step=b.C.DEVICE_CHANNELS;break;case b.C.UNSUPPORTED_DEVICE:r.step=b.C.DEVICE_CHANNELS;break;case b.C.DEVICE_CHANNELS:t.dvrID?(r.selectedLineupUUID=Ne(e,t).get("lineup"),r.step=b.C.CHANNEL_MAPPING):r.step=b.C.EPG;break;case b.C.EPG:n.get("selectedLineupUUID")?r.step=b.C.CHANNEL_MAPPING:r.step=b.C.EPG_MAPPING;break;case b.C.EPG_MAPPING:r.step=b.C.CHANNEL_MAPPING;break;case b.C.CHANNEL_MAPPING:r.step=b.C.EPG_DOWNLOAD}n.get("setupErrorMessages").reset(),n.set(r)},[T](e,t={}){const n=xe(e),r={};switch(n.get("step")){case b.C.UNSUPPORTED_DEVICE:r.step=b.C.DEVICE;break;case b.C.DEVICE_CHANNELS:r.hasScannedChannels=!1,r.step=b.C.DEVICE;break;case b.C.EPG:r.step=b.C.DEVICE_CHANNELS;break;case b.C.CHANNEL_MAPPING:t.dvrID?r.step=b.C.DEVICE_CHANNELS:r.step=b.C.EPG}n.get("setupErrorMessages").reset(),n.set(r)},[O](e,t,n){const r=xe(e),i=r.get("devices");r.set("isDevicesPending",!0),i.fetch().done((()=>{r.set({isDevicesPending:!1,isDevicesPopulated:!0,devicesError:null});const e=i.filter((e=>!e.get("parentID")&&e.get("status")===v.vh.ALIVE));1===e.length&&n(le({serverEntityID:t.serverEntityID,deviceID:e[0].id}))})).fail(((e,t)=>{r.set({isDevicesPending:!1,devicesError:(0,y.Z)(t)})}))},[N](e,t,n){const r=(0,S.SW)(e,t),s=xe(e),a=r.getXHROptions("/media/grabbers/devices/discover",{type:"POST"});s.get("isDiscoveringDevices")||(s.set("isDiscoveringDevices",!0),i().ajax(a).done((e=>{const r=s.get("devices").add(e,{parse:!0,merge:!0}).filter((e=>!e.get("parentID")&&e.get("status")===v.vh.ALIVE));s.get("setupErrorMessages").remove("discoverDevices"),1===r.length&&n(le({serverEntityID:t.serverEntityID,deviceID:r[0].id})),s.set("isDiscoveringDevices",!1)})).fail((e=>{s.get("setupErrorMessages").add({id:"discoverDevices",message:(0,u.Z)(e,(0,h.Z)("There was a problem discovering devices"))}),s.set("isDiscoveringDevices",!1)})))},[k](e,t,n){const r=(0,S.SW)(e,t),s=xe(e),a=g.Z.join(["/media/grabbers","tv.plex.grabbers.hdhomerun","devices"],{uri:t.uri}),o=r.getXHROptions(a,{type:"POST"});s.set("addDevicePending",!0),i().ajax(o).done(((e,n)=>{const r=s.get("devices").add(e,{parse:!0});if(0===r.length){const n=p.Z.parseXML(e),r=n&&n.message||(0,h.Z)("No device found at {1}",t.uri);s.get("setupErrorMessages").add({id:"addDevice",message:r}),s.set("addDevicePending",!1)}else s.get("setupErrorMessages").remove("addDevice"),s.set({addDevicePending:!1,selectedDevice:1===r.length?r[0]:s.get("selectedDevice")})})).fail((e=>{s.get("setupErrorMessages").add({id:"addDevice",message:(0,u.Z)(e,(0,h.Z)("There was a problem adding the device: {1}",t.uri))}),s.set("addDevicePending",!1)}))},[x](e,t){const n=xe(e),r=ke(e,t);n.set("selectedDevice",r)},[A](e,t){xe(e).get("selectedDevice").set("selectedSource",t.source)},[L](e,t){const n=xe(e);ke(e,t).fetch().fail((e=>{n.get("setupErrorMessages").add({id:"fetchDeviceDetails",message:(0,u.Z)(e,(0,h.Z)("There was a problem getting the details for your device"))})}))},[j](e,t){const n=xe(e),r=ke(e,t),i=g.Z.join(["/media/grabbers/devices",r.get("key"),"channels"]);r.set("isChannelsPending",!0);const a={url:i,timeout:s.NF};r.get("channels").fetch(a).done((()=>{r.set({isChannelsPending:!1,isChannelsPopulated:!0,channelsError:null})})).fail((e=>{r.set({isChannelsPending:!1,isChannelsPopulated:!0,channelsError:null}),n.get("setupErrorMessages").add({id:"fetchDeviceDetails",message:(0,u.Z)(e,(0,h.Z)("There was a problem getting the channels for your device"))})}))},[R](e,t,n){const r=xe(e),s=(0,S.SW)(e,t),o=ke(e,t),l=Le(e,t),c=o.get("selectedSource")||o.get("source"),{prefs:d,network:p}=t,m=g.Z.join(["/media/grabbers/devices",o.get("key"),"scan"],{source:c,country:l,prefs:d,network:p}),y=s.getXHROptions(m,{type:"POST"});i().ajax(y).done(((e,i,s)=>{const l=s.getResponseHeader("X-Plex-Activity");if(o.get("channels").reset(),l)n(we(t));else{const t=new a.Z(e,{parse:!0});r.set("scanPrefs",t)}})).fail((e=>{r.get("setupErrorMessages").add({id:"scanDeviceChannels",message:(0,u.Z)(e,(0,h.Z)("There was a problem scanning channels"))})}))},[V](e,t,n){const r=xe(e),s=(0,S.SW)(e,t),a=t.deviceID;if(!a)throw new Error("A device ID is required to cancel a channel scan.");const o=g.Z.join(["/media/grabbers/devices",a,"scan"]),l=s.getXHROptions(o,{type:"DELETE"});i().ajax(l).fail((e=>{r.get("setupErrorMessages").add({id:"cancelScanDeviceChannels",message:(0,u.Z)(e,(0,h.Z)("There was a problem canceling the current channel scan"))})}))},[U](e,t,n){const r=(0,S.SW)(e,t),s=xe(e),a=s.get("selectedDevice"),o=s.get("epgSettings").get("lineupGroup"),l=g.Z.join("/livetv/epg/lineup",{device:a.get("uuid"),lineupGroup:o.get("uuid")}),c=r.getXHROptions(l);i().ajax(c).done(((e,t,n)=>{const r=n.getResponseHeader("X-Plex-Activity");s.set("epgLineupActivityID",r)})).fail((e=>{s.get("setupErrorMessages").add({id:"findBestEPGLineup",message:(0,u.Z)(e,(0,h.Z)("There was a problem mapping channels"))})}))},[z](e,t){xe(e).set("selectedLineupUUID",t.lineupUUID)},[B]:(0,c.Z)({key:"lineupChannels",getModel:xe}),[_](e,t){const n=xe(e),r=n.get("channelMappings"),i=C({timeout:s.NF},t.options);n.set("isChannelMappingsPending",!0),r.fetch(i).done((()=>{t.forceEnabled&&r.each((e=>{e.set("enabled",e.has("lineupIdentifier"))})),n.set({isChannelMappingsPending:!1,isChannelMappingsPopulated:!0,channelMappingsError:null})})).fail(((e,t)=>{n.set({isChannelMappingsPending:!1,channelMappingsError:(0,y.Z)(t)})}))},[F](e,t){xe(e).set({channelMappingsError:null,lineupChannelsError:null})},[H](e,t,n){je(e,t).done((()=>{n(de(t))}))},[W](e){xe(e).set("channelMappingsSaveError",null)},[Q](e,t,n){const r=xe(e);r.set("isSavingDVR",!0);const{serverEntityID:s,deviceID:a}=t,o=Ae(e);Re(e,{serverEntityID:s,deviceID:a,enabled:!0}).then((()=>je(e,t))).then((()=>{const n=(0,S.SW)(e,t),s=r.get("selectedDevice"),a=r.get("selectedLineupUUID"),o=r.get("epgSettings").get("selectedLanguage"),l=Le(e,t);r.get("setupErrorMessages").remove("saveDVR");const c=g.Z.join("/livetv/dvrs",{device:s.get("uuid"),lineup:a,language:o.get("code"),country:l}),d=n.getXHROptions(c,{type:"POST"});return i().ajax(d)})).then(((e,t,a)=>{const l=a.getResponseHeader("X-Plex-Activity"),c=o.add(e,{parse:!0})[0];if(!c)return i().Deferred().reject(a).promise();r.get("setupErrorMessages").remove("saveDVR"),r.set({epgDownloadActivityID:l,selectedDVR:c,isSavingDVR:!1}),n(re({serverEntityID:s})),n((0,d.lm)({serverEntityID:s}))})).fail((e=>{r.get("setupErrorMessages").add({id:"saveDVR",message:(0,u.Z)(e,(0,h.Z)("There was a problem saving your DVR. Please try again."))}),r.set("isSavingDVR",!1)}))},[G](e,t,n){const r=xe(e);r.set("isSavingDVR",!0);const{serverEntityID:s,deviceID:a}=t,o=r.get("selectedDevice"),l=Ne(e,t);Re(e,{serverEntityID:s,deviceID:a,enabled:!0}).then((()=>je(e,t))).then((()=>{const n=(0,S.SW)(e,t),r=g.Z.join(["/livetv/dvrs",l.id,"devices",o.id]),s=n.getXHROptions(r,{type:"PUT"});return i().ajax(s)})).done(((e,t,i)=>{const a=i.getResponseHeader("X-Plex-Activity");l.get("devices").add([o]),r.set({epgDownloadActivityID:a,selectedDVR:l,isSavingDVR:!1}),n(re({serverEntityID:s})),n((0,d.lm)({serverEntityID:s}))})).fail((e=>{r.get("setupErrorMessages").add({id:"addDVRDevice",message:(0,u.Z)(e,(0,h.Z)("There was a problem adding a new device to your DVR. Please try again."))}),r.set("isSavingDVR",!1)}))},[Y](e,t,n){const r=(0,S.SW)(e,t),s=Ne(e,t),a=t.deviceID,o=g.Z.join(["/livetv/dvrs",s.id,"devices",a]),l=r.getXHROptions(o,{type:"DELETE"});i().ajax(l).done(((e,t,n)=>{s.get("devices").remove(a)}))},[q](e,t){const n=(0,S.SW)(e,t),r=Ne(e,t),s=t.prefs,a=g.Z.join(["/livetv/dvrs",t.dvrID,"prefs"],s);r.set("isSaving",!0);const o=n.getXHROptions(a,{type:"PUT"}),l=i().ajax(o);l.done((()=>{const e=r.get("prefs");Object.keys(s).forEach((t=>{e.get(t).set("value",s[t])})),r.set({isSaving:!1,saveError:null})})),l.fail((e=>{r.set({isSaving:!1,saveError:(0,y.Z)(e)})}))},[K](e,t){Ne(e,t).set("saveError",null)},[$](e,t){const n=(0,S.SW)(e,t),r=ke(e,t),s=t.prefs,a=g.Z.join(["/media/grabbers/devices",t.deviceID,"prefs"],s);r.set("isSaving",!0);const o=n.getXHROptions(a,{type:"PUT"}),l=i().ajax(o);l.done((()=>{const e=r.get("prefs");Object.keys(s).forEach((t=>{e.get(t).set("value",s[t])})),r.set({isSaving:!1,saveError:null})})),l.fail((e=>{r.set({isSaving:!1,saveError:(0,y.Z)(e)})}))},[X](e,t){const{title:n}=t,r=(0,S.SW)(e,t),s=ke(e,t),a=g.Z.join(["/media/grabbers/devices",t.deviceID],{title:n,enabled:1}),o=r.getXHROptions(a,{type:"PUT"});i().ajax(o).then((()=>{s.set("title",n)}))},[J](e,t){ke(e,t).set("saveError",null)},[ee](e){xe(e).set({scanPrefs:void 0,scanNetworks:void 0})},[te](e,t){Re(e,t)},[d.Cs](e,t,n){const r=xe(e);if(!r)return;const i=r.get("selectedDevice"),s=t.activity;if(i&&s.type===m.RG&&parseInt(s.Context.deviceID,10)===i.id){const e=s.Response.Network;if(e){const t=new f.Z(e,{parse:!0});r.set("scanNetworks",t)}else r.set("hasScannedChannels",!0)}else{if(s.uuid===r.get("epgLineupActivityID"))return r.set({selectedLineupUUID:s.Response.lineup,epgLineupActivityID:""}),void n(re({serverEntityID:t.serverEntityID}));s.uuid!==r.get("epgDownloadActivityID")||r.set("epgDownloadActivityID","")}}})},99051:(e,t,n)=>{"use strict";n.d(t,{Jl:()=>s,yr:()=>a,nY:()=>o,Y1:()=>l,W7:()=>c});var r=n(40807),i=n(3265);const s=(0,r.Z)("ui/modal/syncDownloadModalChangeTemplateMode"),a=(0,r.Z)("ui/modal/syncDownloadModalClose"),o=(0,r.Z)("ui/modal/syncDownloadModalOpen"),l=(0,r.Z)("ui/modal/syncDownloadModalSaveSubscription"),c=(0,i.Z)({})},97408:(e,t,n)=>{"use strict";n.d(t,{Sv:()=>E,Bl:()=>w,cv:()=>D,FY:()=>x});var r=n(19755),i=n.n(r),s=n(93966),a=n(40807),o=n(33816),l=n(14179),c=n(84936),d=n(57054),u=n(48767),p=n(68989),m=Object.defineProperty,h=Object.prototype.hasOwnProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.propertyIsEnumerable,v=(e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))h.call(t,n)&&v(e,n,t[n]);if(g)for(var n of g(t))y.call(t,n)&&v(e,n,t[n]);return e};const b="ui/onlineMediaSourcePage/initOnlineMediaSourcesPage",S="ui/onlineMediaSourcePage/fetchAvailableProviders",I="ui/onlineMediaSourcePage/fetchOptOutStatuses",Z="ui/onlineMediaSourcePage/updateOptOutStatuses",P="ui/onlineMediaSourcePage/clearOnlineMediaSourcesUpdateError",E=(0,a.Z)(b),M=(0,a.Z)(S),C=(0,a.Z)(I),w=(0,a.Z)(Z),D=(0,a.Z)(P);function T(e){return e.get("ui").get("onlineMediaSourcesPage")}function O(e,t={},n={}){const r=e.get("cloudServer"),i=e.get("user").get("uuid"),s=c.Z.join(["/api/v2/user",i,"settings/opt_outs"],t);return r.getXHROptions(s,f({dataType:"json"},n))}const x={[b](e,t,n){const r=T(e),i=e.get("cloudServer");r.restoreDefaults({availableProviders:new u.Z([],{server:i})}),n(M()),n(C())},[S]:(0,o.Z)({key:"availableProviders",getModel:T}),[I](e,t){const n=T(e);n.set({isOptOutStatusesPending:!0,optOutStatusesError:null});const r=O(e);i().ajax(r).then((e=>{n.set({optOutStatuses:e,isOptOutStatusesPending:!1,optOutStatusesError:null})}),(e=>{n.set({isOptOutStatusesPending:!1,optOutStatusesError:(0,d.Z)(e)})}))},[Z](e,t,n){const r=T(e);r.set({isUpdatePending:!0,updateError:null});const a=Object.keys(t.optOutStatuses)[0],o=t.optOutStatuses[a],c=O(e,{key:a,value:o},{type:"POST"});i().ajax(c).then((()=>{const e=r.get("optOutStatuses");r.set({optOutStatuses:f(f({},e),{[a]:o}),isUpdatePending:!1,updateError:null}),(0,s.DB)("serviceWorker").sendMessage({type:p.VQ}).finally((()=>{n((0,l.cg)())}))}),(e=>{r.set({isUpdatePending:!1,updateError:(0,d.Z)(e)})}))},[P](e,t){T(e).set("updateError",null)}}},8304:(e,t,n)=>{"use strict";n.d(t,{mr:()=>v,Yb:()=>f});var r=n(5513),i=n(40807),s=n(34699),a=n(35421),o=n(17524),l=n(28440),c=n(30983),d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e};const y="ui/player/playQueue/toggleAutoPlay",v=(0,i.Z)(y),f={[a.jB]:a.Yb[a.jB],[a.Qi]:a.Yb[a.Qi],[a._7]:a.Yb[a._7],[a.Q2]:a.Yb[a.Q2],[a.U8]:a.Yb[a.U8],[a.$D]:a.Yb[a.$D],[a.zG]:a.Yb[a.zG],[a.Xq]:a.Yb[a.Xq],[a.hl]:a.Yb[a.hl],[a.x8]:a.Yb[a.x8],[a.QS]:a.Yb[a.QS],[a.A0]:a.Yb[a.A0],[a.Er]:a.Yb[a.Er],[a.x7]:a.Yb[a.x7],[a.xJ]:a.Yb[a.xJ],[a.dU]:a.Yb[a.dU],[a.Zp]:a.Yb[a.Zp],[a.q$](e,{playerType:t},n){const i=e.get("user").id,s=(0,c.F_)(e,t),a=s.get("playQueue"),d=e.get("deviceSettings"),u=s.get("providerEntityID"),p=(0,l.js)(e,{providerEntityID:u}),m={providerEntityID:u,serverEntityID:s.get("serverEntityID"),playQueueOffset:s.get("positionSeconds"),playQueueType:a.get("type"),playQueueRepeat:a.get("repeat"),playQueueID:a.get("playQueueID")};if(o.wB(p.get("identifier"),[o.uk]))return;if(s.get("isWatchTogether"))return;const h=d.get("restorePlayQueue");n((0,r.T5)({restorePlayQueue:g(g({},h),{[i]:m})}))},[a.Ux](e,t,n){const i=e.get("user").id,s=e.get("deviceSettings").get("restorePlayQueue"),a=g({},s);delete a[i],n((0,r.T5)({restorePlayQueue:a}))},[y](e,{playerType:t},n){const r=e.get("user").get("experienceSettings").get("autoPlay"),i=(0,c.F_)(e,t);(0,s.Z)(e).changeAutoPlay(i,!r,n)}}},39502:(e,t,n)=>{"use strict";n.d(t,{Vu:()=>P,vi:()=>M,HO:()=>C,NH:()=>E});var r=n(93966),i=n(53334),s=n(14408),a=n(41890),o=n(96638);const l={amp:"&",apos:"'","#x27":"'","#x2F":"/","#39":"'","#47":"/",lt:"<",gt:">",nbsp:" ",quot:'"'};function c(e){let t=e;return Object.keys(l).forEach((e=>{t=t.replace(new RegExp((0,o.Z)(`&${e};`),"g"),l[e])})),t}var d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e};const y=i.Z.extend({sessionAttrs:{protocol:s.Z.string.isRequired,protocolCapabilities:s.Z.array.isRequired},syncedAttrs:{friendlyName:s.Z.string.isRequired,capabilities:s.Z.array,volume:s.Z.integer.isRequired},defaults:{protocol:a.l,protocolCapabilities:["timeline","playback","mirror","playqueues","provider-playback"],volume:100},augmentResponse:e=>g(g({},e),{friendlyName:c(e.friendlyName)})});var v=n(40807),f=n(10984),b=n(5562);const S="ui/player/remoteCastPlayer/changeCastApiAvailability",I="ui/player/remoteCastPlayer/requestCastSession",Z="ui/player/remoteCastPlayer/changeRemoteCastPlayer",P=(0,v.Z)(S),E=(0,v.Z)(I),M=(0,v.Z)(Z),C={[S](e,t){e.set({castApiAvailability:t})},[I](e){(0,r.DB)("remoteCastPlayerManager").requestSession()},[Z](e,t){const n=e.get("ui"),r=n.get("audioVideoPlayer"),i=n.get("photoPlayer"),s=n.get("romPlayer");if(s.get("isOpen")&&s.set({hasError:!0,errorMessage:(0,b.Z)("Games are unsupported when connected to a remote player.")}),r.get("isOpen")){const e=r.get("isWatchTogether")?{hasError:!0,errorMessage:(0,b.Z)("Watch Together is not currently supported when connected to a remote player.")}:{confirmLocalToRemote:f.o1,isPaused:!0};r.set(e)}i.get("isOpen")&&i.set({confirmLocalToRemote:f.o1,isPaused:!0}),e.set("remotePlayer",new y(t,{parse:!0}))}}},38853:(e,t,n)=>{"use strict";n.d(t,{OA:()=>Te,A1:()=>ge,Vu:()=>Ze,Te:()=>Oe,$B:()=>xe,jP:()=>De,Jo:()=>Me,L0:()=>Ce,yU:()=>Ee,u7:()=>ke,Qt:()=>we,XI:()=>Pe,Jb:()=>Ie,I3:()=>fe,RN:()=>ye,dS:()=>ve,IY:()=>be,Ep:()=>Se});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(93966),l=n(39606),c=n(36740),d=n(40807),u=n(238),p=n(27760),m=Object.defineProperty,h=Object.prototype.hasOwnProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.propertyIsEnumerable,v=(e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var f=n(34699),b=n(95933),S=n(66464),I=n(58641),Z=n(98124),P=n(11203),E=n(35421),M=n(79932),C=n(56416),w=n(41890),D=n(10984),T=n(44491),O=n(59223),x=n(52837),A=n(25168),N=n(17524),k=n(35589),L=n(96840),j=n(33232),R=n(36535),V=n(9010),U=n(28440),z=n(30983),B=n(27082),_=n(5562),F=n(91135),H=n(69881),W=n(73004),Q=n(517),G=Object.defineProperty,Y=Object.prototype.hasOwnProperty,q=Object.getOwnPropertySymbols,K=Object.prototype.propertyIsEnumerable,$=(e,t,n)=>t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const X="ui/player/remotePlayer/changeRemotePlayer",J="ui/player/remotePlayer/syncRemotePlayerCurrentItem",ee="ui/player/remotePlayer/syncRemotePlayerState",te="ui/player/remotePlayer/syncRemotePlayQueueState",ne="ui/player/remotePlayer/syncRemoteQuality",re="ui/player/remotePlayer/syncRemoteStreams",ie="ui/player/remotePlayer/syncRemoteExperienceSettings",se="ui/player/remotePlayer/changeRemotePlayerVolume",ae="ui/player/remotePlayer/showRemotePlayerError",oe="ui/player/remotePlayer/mirrorDetails",le="ui/player/remotePlayer/discoverRemotePlayers",ce="ui/player/remotePlayer/idleRemotePlayer",de="ui/player/remotePlayer/removeRemotePlayer",ue="ui/player/remotePlayer/confirmRemoteToLocal",pe="ui/player/remotePlyaer/cancelLocalToRemote",me="ui/player/remotePlayer/closeLocalToRemote",he="ui/player/remotePlayer/confirmLocalToRemote",ge=(0,d.Z)(X),ye=(0,d.Z)(J),ve=(0,d.Z)(ee),fe=(0,d.Z)(te),be=(0,d.Z)(ne),Se=(0,d.Z)(re),Ie=(0,d.Z)(ie),Ze=(0,d.Z)(se),Pe=(0,d.Z)(ae),Ee=(0,d.Z)(oe),Me=(0,d.Z)(le),Ce=(0,d.Z)(ce),we=(0,d.Z)(de),De=(0,d.Z)(ue),Te=(0,d.Z)(pe),Oe=(0,d.Z)(me),xe=(0,d.Z)(he);function Ae(e,t){const n=(0,x.f_)(t);return e.get("ui").get(n+"Player")}function Ne(e,t,n){return e.get("servers").populateServer(t).then((t=>(t.get("isCloud")?e.get("user").get("providers"):t.get("providers")).populate().then((e=>e)))).then((e=>{const t=e.get(n)||e.get(N.Y3);return t?t.populate().then((e=>e)):i().Deferred().reject().promise()}))}const ke={[X](e,t){const n=(0,Q.cX)(e,{playerIdentifier:t});e.set("remotePlayer",n)},[J](e,{playQueueType:t,options:n},r){const{machineIdentifier:s,providerIdentifier:a,containerKey:o,key:l,mediaIndex:c,bitrate:d,playQueueItemID:m,shouldRefreshPlayQueue:f,initialState:Z}=n;if(!o||!l)return;const P=Ae(e,t);if(!P)return;const E=s||k.X,M=e.get("servers").populateServer(E),C=Ne(e,s,a),w=C.then((e=>function({providerModel:e,currentPlayQueueModel:t,containerKey:n,playQueueOptions:r}){const i=(0,p.Z)(n)||n;return t&&t.get("playQueueID")===i?t:(0,u.Z)(((e,t)=>{for(var n in t||(t={}))h.call(t,n)&&v(e,n,t[n]);if(g)for(var n of g(t))y.call(t,n)&&v(e,n,t[n]);return e})({providerModel:e,playQueueID:i},r))}({providerModel:e,currentPlayQueueModel:P.get("playQueue"),containerKey:o,playQueueOptions:{playQueueType:t,playQueueOwn:!1}})));i().when(M,C,w).then(((t,n,s)=>{if(P.get("playQueue")===s){if(!P.get("isPlayQueueLoading")&&!s.get("isUpdatePending")&&f){const e=s.get("playQueueItems"),t=null!=m?e.get(m):e.find((e=>l===e.get("metadataItem").get("key")));if(P.set({isLyricsVisible:!1}),t){const n=s.get("playQueueSelectedItemID"),r=e.get(n),i=s.get("playQueueSelectedItemOffset"),a=e.indexOf(r),o=e.indexOf(t),l=t.get("metadataItem"),c=t.get("playQueueItemID");(0,L.Z)(`[Cast] The current metadata item on the remote player changed to ${l.get("title")}`),(0,I.ZP)(s).done((()=>{s.set({playQueueSelectedItemID:c,playQueueSelectedItemOffset:i+(o-a)})}))}else(0,I.ZP)(s)}}else!function(e,t){const{appModel:n,serverModel:r,providerModel:s,playerModel:a,playQueueModel:o,openState:l,mediaIndex:c,bitrate:d,initialState:u}=e;if(a.get("isPlayQueueLoading"))return;const p=o.get("type");a.restoreDefaults({serverEntityID:r.entityID(),providerEntityID:s.entityID(),isOpen:!0,openState:l||p===T.j0?O.y:O.K,isPlayQueueLoading:!0,playQueue:o,playbackStartTime:Date.now()}),function({serverModel:e,providerModel:t,playQueueModel:n}){if(!n.get("isLocal"))return(0,I.ZP)(n);const r={server:e,provider:t},s=new b.Z({containerKey:n.get("playQueueID")},r);return s.fetch().then((()=>s.get("metadataItems").length?(0,S.Z)({providerModel:t,metadataListModel:s,playQueueModel:n}).then(null,(()=>i().Deferred().reject("ERROR_COMPANION_PLAY_QUEUE_COULD_NOT_ADD_TO").promise())):i().Deferred().reject("ERROR_COMPANION_PLAY_QUEUE_EMPTY").promise()),(()=>i().Deferred().reject("ERROR_COMPANION_PLAY_QUEUE_COULD_NOT_POPULATE").promise()))}({serverModel:r,providerModel:s,playQueueModel:o}).done((()=>{a.set(((e,t)=>{for(var n in t||(t={}))Y.call(t,n)&&$(e,n,t[n]);if(q)for(var n of q(t))K.call(t,n)&&$(e,n,t[n]);return e})({isPlayQueueLoading:!1},u)),t(be({playQueueType:p,mediaIndex:c,bitrate:d}))})).fail((()=>{const e=n.get("remotePlayer");if(e){const t=e.get("friendlyName");a.restoreDefaults({hasError:!0,errorMessage:(0,_.Z)('An error occurred loading the media being played on "{playerName}".',{playerName:t})})}}))}({appModel:e,serverModel:t,providerModel:n,playerModel:P,playQueueModel:s,openState:P.get("isOpen")?null:O.y,mediaIndex:c,bitrate:d,initialState:Z},r)})).fail((()=>{const t=e.get("remotePlayer");if(t){const e=t.get("friendlyName");P.restoreDefaults({hasError:!0,errorMessage:(0,_.Z)('"{playerName}" is playing media from an unknown source.',{playerName:e})})}}))},[ee](e,t){const{playQueueType:n,playerState:r,providerIdentifier:s,machineIdentifier:a,liveTVSessionSubscriptionKey:o,liveTVSessionStartedAt:l,liveTVSessionSeekRangeStartedAt:d,liveTVSessionSeekStartSeconds:u,liveTVSessionSeekEndSeconds:p,liveTVSessionCurrentPosition:m,liveTVSessionChannelIdentifier:h}=t,g=Ae(e,n);if(!g||!g.get("isOpen"))return;const y=(0,U.SW)(e,{serverEntityID:g.get("serverEntityID")});Ne(e,a,s).then((e=>function(e,t,n,r,s,a,o,l,d,u){if(!r)return n.set({liveTVSession:null}),i().Deferred().resolve().promise();const p=n.get("liveTVSession"),m={key:r,currentPosition:d,startedAt:s,channelIdentifier:u,captureBuffer:{startedAt:a,seekStartSeconds:o,seekEndSeconds:l},nextPosition:null,lastSeekPosition:null};return p&&p.get("key")===r||n.set({liveTVSession:new c.Z(m,{provider:t,server:t.server})}),e.get("isCloud")?(null==p||p.set(m),i().Deferred().resolve().promise()):n.get("liveTVSession").populate().then((e=>(e.set(m),e)))}(y,e,g,o,l,d,u,p,m,h))),(0,B.c9)((()=>{g.set(r)}))},[te](e,t){const{playQueueType:n,playQueueVersion:r,repeatAll:i,repeatOne:s}=t,a=Ae(e,n);if(!a||!a.get("isOpen"))return;const o=a.get("playQueue");if(a.set({repeatAll:i,repeatOne:s}),o){const e=o.get("playQueueVersion");o.set("repeat",i),!o.get("isUpdatePending")&&e<r&&o.fetch()}},[ne](e,{playQueueType:t,mediaIndex:n=0,bitrate:r}){const i=Ae(e,t);if(!i||!i.get("isOpen")||i.get("isPlayQueueLoading"))return;const s=i.get("playQueue"),a=s.get("playQueueItems").get(s.get("playQueueSelectedItemID"));if(!a)return;const o=a.get("metadataItem"),c=(0,H.getMetadataType)(a.get("type"));if(!c||c.mediaType!==F.pX)return;const d=o.get("Media")[n],u=l.Z.prop("video"),p=j.Z.getAvailableQualitiesFor(d,o.server,{lowestQualityIndex:u.lowestQualityIndex}),m=e.get("user").get("experienceSettings");let h=null==r?m.defaults().localQuality:j.Z.getNearestIndexToBitrate(r);if(j.Z.isExplicitQuality(h)){const e=p[0],t=p[p.length-1];e&&h<e.index?h=e.index:t&&h>t.index&&(h=j.Z.ORIGINAL)}i.set({qualityIndex:h,availableQualities:p})},[re](e,t,n){const{playQueueType:r,key:i,mediaIndex:s=0,partIndex:o=0,audioStreamID:l,subtitleStreamID:c}=t,d=Ae(e,r);if(!d||!d.get("isOpen")||d.get("isPlayQueueLoading"))return;const u=d.get("playQueue"),p=u.get("playQueueItems").get(u.get("playQueueSelectedItemID")).get("metadataItem"),m=p.get("Media")[s],h=m&&m.Part[o];if(i!==p.get("key"))return;if(!h)return;const g=a().findWhere(h.Stream,{streamType:W.Z.get("audio").id,selected:!0}),y=a().findWhere(h.Stream,{streamType:W.Z.get("subtitles").id,selected:!0}),v=null==l?void 0:l.toString(),f=(null==c?void 0:c.toString())||A.H;null!=l&&g&&g.id!==v&&n((0,P.Bs)({metadataItemEntityID:p.entityID(),mediaIndex:s,streamTypeString:"audio",streamID:v,updateLocalOnly:!0})),y&&y.id!==f&&n((0,P.Bs)({metadataItemEntityID:p.entityID(),mediaIndex:s,streamTypeString:"subtitles",streamID:f,updateLocalOnly:!0}))},[ie](e,t){e.get("user").get("experienceSettings").set(t)},[se](e,t){e.get("remotePlayer").set("volume",t)},[ae](e,{playQueueType:t,errorMessage:n}){const r=Ae(e,t);r&&r.restoreDefaults({hasError:!0,errorMessage:n})},[oe](e,t){const n=(0,f.Z)(e),r=(0,U.js)(e,t),i=(0,U.$R)(e,t),s=e.get("remotePlayer"),a=s.get("protocol"),o=s.get("protocolCapabilities");(0,V.Z)({protocol:a,protocolCapabilities:o,providerIdentifier:(0,R.Z)(r.get("identifier"),r.get("providerIdentifier")),userFeaturesByUUID:(0,Z.Z)(e)})&&n.mirrorDetails(i)},[le](e){const t=e.get("companionServer");t&&(t.get("desktop").get("players").fetch(),t.get("desktop").get("neighborhoodDevices").fetch()),e.get("user").get("desktop").get("cloudCompanions").forEach((e=>{e.get("cloudPlayers").fetch().then((()=>e.set({linkState:C.PT})),((t,{status:n})=>e.set({linkState:402===n?C.Ey:C.th})))}))},[ce](e,{playQueueType:t},n){const r=Ae(e,t);n((0,E.n5)()),r.restoreDefaults()},[de](e){const t=e.get("remotePlayer");if(!t)return;const n=e.get("ui"),r=n.get("audioVideoPlayer"),i=n.get("photoPlayer");r.get("isOpen")&&r.set({confirmRemoteToLocal:!0,controllable:null}),i.get("isOpen")&&i.set({confirmRemoteToLocal:!0,controllable:null});const s=t.get("protocol");s===w.l?(0,o.DB)("remoteCastPlayerManager").endSession():s===w.D&&(0,o.DB)("remotePlexPlayerManager").endSession(),e.unset("remotePlayer")},[ue](e,{playerType:t}){const n=e.get("ui").get(t+"Player"),r=n.get("playQueue"),i=r.get("playQueueItems"),s=r.get("playQueueSelectedItemID"),a=i.get(s).get("metadataItem");r.set("own",!0),(0,I.ZP)(r),n.set({confirmRemoteToLocal:!1,startMetadataItemEntityID:a.entityID(),startOffsetMilliseconds:1e3*n.get("positionSeconds")})},[pe](e,{playerType:t},n){(0,z.F_)(e,t).set("confirmLocalToRemote",D.m$),n((0,M.Mh)({playerType:t}))},[me](e,{playerType:t}){(0,z.F_)(e,t).set("confirmLocalToRemote",D.m$)},[he](e,{playerType:t}){const n=(0,z.F_)(e,t);(0,f.Z)(e).startPlayback(n),n.set("confirmLocalToRemote",D.YN)}}},52918:(e,t,n)=>{"use strict";n.d(t,{tL:()=>s,VL:()=>a,iq:()=>o,_Y:()=>l,d6:()=>c,Bh:()=>d,GL:()=>u,oF:()=>p,YQ:()=>m,Mj:()=>h,hr:()=>g});var r=n(40807),i=n(93066);const s=(0,r.Z)(i.KG),a=(0,r.Z)(i.Yx),o=(0,r.Z)(i.zx),l=(0,r.Z)(i.PL),c=(0,r.Z)(i.yc),d=(0,r.Z)(i.pQ),u=(0,r.Z)(i.N2),p=(0,r.Z)(i.Dn),m=(0,r.Z)(i.gS),h=(0,r.Z)(i.fu),g=(0,r.Z)(i.GN)},59421:(e,t,n)=>{"use strict";n.d(t,{P2:()=>z,wL:()=>B,tt:()=>_,t4:()=>H,$g:()=>W,Ez:()=>Q,M:()=>Y,x9:()=>q,GJ:()=>ee});var r=n(93966),i=n(70519),s=n(95933),a=n(95688),o=n(40807),l=n(3265),c=n(33816),d=n(47327),u=n(15634),p=n(11203),m=n(53145),h=n(32901),g=n(4134),y=n(45399),v=n(96026),f=n(33232),b=n(72759),S=n(69881),I=n(84936),Z=n(57054),P=n(29414),E=n(517),M=Object.defineProperty,C=Object.prototype.hasOwnProperty,w=Object.getOwnPropertySymbols,D=Object.prototype.propertyIsEnumerable,T=(e,t,n)=>t in e?M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const O="INIT_PRE_PLAY_PAGE",x="INIT_PRE_PLAY_DESCENDANT_LIST",A="INIT_PRE_PLAY_SIBLING_LIST",N="INIT_PRE_PLAY_AUGMENTED_HUBS",k="PRE_FETCH_PRE_PLAY_METADATA_ITEM",L="FETCH_PRE_PLAY_METADATA_ITEM",j="FETCH_PRE_PLAY_RELATED_HUBS",R="FETCH_PRE_PLAY_AUGMENTED_HUBS",V="MAKE_PRE_PLAY_VIDEO_DECISION",U="REPOPULATE_PRE_PLAY_POPULAR_TRACKS",z=(0,o.Z)(O),B=(0,o.Z)(x),_=(0,o.Z)(A),F=(0,o.Z)(N),H=(0,o.Z)(k),W=(0,o.Z)(L),Q=(0,o.Z)(j),G=(0,o.Z)(R),Y=(0,o.Z)(V),q=(0,o.Z)(U);function K(e){return e.get("ui").get("prePlayPage")}function $(e,t){const{metadataItemEntityID:n,containerKeyPattern:r}=t;if(r)return!1;const i=(0,E.SW)(e,t),s=K(e).get("metadataItem");return!(!s||s.server!==i||n&&s.entityID()!==n)}function X(e,t,n){const r=K(e),i=r.get("siblingList"),s=r.get("descendantList"),a=r.get("relatedHubs");i&&n((0,P.u6)({metadataListEntityID:i.entityID()})),s&&(r.get("metadataItem").get("type")===S.ALBUM?n((0,P.C8)({metadataListEntityID:s.entityID()})):n((0,P.u6)({metadataListEntityID:s.entityID()}))),a&&n(Q())}function J(e,t){const n=(0,E.SW)(e,t),r=K(e),i=r.get("metadataItem");if(!i||i.server!==n)return;const s=t.activity.Context;if(!s||s.key!==i.get("key"))return;if(null==s.exists&&null==s.accessible)return;const a=!s.exists||!s.accessible;r.set("isFileUnavailable",a),a&&window.setTimeout((()=>{i.set("isPreFetched",!1)}),0)}const ee=(0,l.Z)({[O](e,t){const n=K(e),r=(0,E.SW)(e,t),s=(0,E.js)(e,t),{providerEntityID:o,metadataKey:l}=t;if(o===n.get("providerEntityID")&&l===n.get("metadataKey"))return;const c=new a.Z({key:l},{server:r,provider:s}),d=I.Z.join([l.replace(/(\/library)?\/metadata/,"/hubs/metadata"),"related"]),p=(0,u.Z)(e,y.Ao),m=new i.Z([],{server:r,provider:s,metadataItem:c,hubKey:d,includeExternalMedia:p,includeExternalMetadata:!0,asyncAugmentMetadata:!0});n.restoreDefaults({providerEntityID:o,metadataKey:l,metadataItem:c,siblingKey:n.get("siblingKey"),siblingList:n.get("siblingList"),relatedHubs:m})},[x](e,t){const n=K(e),r=(0,E.SW)(e,t),i=(0,E.js)(e,t),a=(0,E.$R)(e,t),{providerEntityID:o,descendantKey:l}=t;if(!l)return void n.set({descendantKey:l,descendantList:void 0});if(o===n.get("providerEntityID")&&l===n.get("descendantKey"))return;const c=(0,u.Z)(e,y.Ao),d="album"===a.get("type")||"artist"===a.get("type")&&a.get("skipChildren"),p=new s.Z({containerKey:l},{server:r,provider:i,excludeAllLeaves:!0,includeExternalMedia:c,includeRelated:d});n.set({descendantKey:l,descendantList:p})},[A](e,t){const n=K(e),r=(0,E.SW)(e,t),i=(0,E.js)(e,t),{providerEntityID:a,siblingKey:o}=t;if(!o)return void n.set({siblingKey:o,siblingList:void 0});if(a===n.get("providerEntityID")&&o===n.get("siblingKey"))return;const l=(0,u.Z)(e,y.Ao),c=new s.Z({containerKey:o},{server:r,provider:i,excludeAllLeaves:!0,includeExternalMedia:l});n.set({siblingKey:o,siblingList:c})},[N](e,t,n){const r=K(e),s=r.get("metadataItem"),a=s.get("augmentationKey"),o=[S.ARTIST,S.ALBUM],l=[S.MOVIE,S.SHOW,S.SEASON,S.EPISODE],c=s.get("type");if(!o.includes(c)&&!l.includes(c)||!a)return void r.set({isAugmentedHubsPending:!1,isAugmentedHubsPopulated:!0});const d=new i.Z([],{server:s.server,provider:s.provider,hubKey:s.get("augmentationKey"),excludeFields:"",wait:1});r.set({augmentedHubs:d}),n(G())},[k](e,t){const n=(0,E.$R)(e,t);(0,d.Z)(n,{forceFetch:!0})},[L](e,t,n){const r=K(e),i=r.get("metadataItem"),s=r.get("isMetadataItemPending");r.set("isMetadataItemPending",!0),(0,d.Z)(i,{forceFetch:!0}).done((()=>{r.set({isMetadataItemPending:!1,isMetadataItemPopulated:!0,metadataItemError:null}),n(F())})).fail(((e,t)=>{t.aborting?r.set("isMetadataItemPending",s):r.set({isMetadataItemPending:!1,metadataItemError:(0,Z.Z)(t)})}))},[j]:(0,c.Z)({key:"relatedHubs",getModel:K}),[R]:(0,c.Z)({key:"augmentedHubs",getModel:K}),[V](e,t,n){const i=K(e),s=e.get("user").get("experienceSettings"),a=i.get("metadataItem"),o=(0,r.DB)("getDecisionOptions")(a),l=f.Z.getCurrentQuality(a,s,(e=>n((0,g.LN)(e)))),c=v.Z.getMediaDecision(((e,t)=>{for(var n in t||(t={}))C.call(t,n)&&T(e,n,t[n]);if(w)for(var n of w(t))D.call(t,n)&&T(e,n,t[n]);return e})({item:a,transcodeServer:a.server,quality:l},o));i.set("decisionMediaItem",c.media)},[m.WV](e,t){t.activity.type===b.Ij&&J(e,t)},[m.Cs](e,t){t.activity.type===b.Ij&&J(e,t)},[p.se](e,t,n){$(e,t)&&X(e,0,n)},[h._z](e,t,n){const r=K(e),i=r.get("metadataItem");if($(e,t))i.fetch({data:{skipRefresh:1},usePopulatedParams:!0}),X(e,0,n);else{const s=(0,E.SW)(e,t),a=r.get("siblingList"),o=t.parentMetadataKey;i&&i.server===s&&a&&o&&i.get("parentKey")===o&&n((0,P.u6)({metadataListEntityID:a.entityID()}))}},[U](e,t,n){const r=K(e).get("metadataItem"),i=(0,E.tz)(e,{metadataItemEntityID:t.albumMetadataItemEntityID});r&&i&&r.get("key")===i.get("parentKey")&&n((0,p.dk)({serverEntityID:t.serverEntityID,metadataItemEntityID:r.entityID()}))}})},40875:(e,t,n)=>{"use strict";n.r(t),n.d(t,{INIT_QUICK_SEARCH:()=>C,RESET_QUICK_SEARCH:()=>w,FETCH_QUICK_SEARCH:()=>D,CHANGE_QUICK_SEARCH_QUERY:()=>T,CHANGE_QUICK_SEARCH_SETTINGS:()=>O,SELECT_QUICK_SEARCH_RESULT:()=>x,NAVIGATE_QUICK_SEARCH_RESULT:()=>A,PLAY_QUICK_SEARCH_RESULT:()=>N,initQuickSearch:()=>k,resetQuickSearch:()=>L,fetchQuickSearch:()=>j,changeQuickSearchQuery:()=>R,changeQuickSearchSettings:()=>V,selectQuickSearchResult:()=>U,navigateQuickSearchResult:()=>z,playQuickSearchResult:()=>B,quickSearchActionHandlers:()=>W});var r=n(69273),i=n(5513),s=n(40807),a=n(15634),o=n(79932),l=n(69605),c=n(67006),d=n(17524),u=n(45399),p=n(24079),m=n(56971),h=n(69881),g=n(57054),y=n(26512),v=n(517),f=n(26636),b=n(60363),S=Object.defineProperty,I=Object.prototype.hasOwnProperty,Z=Object.getOwnPropertySymbols,P=Object.prototype.propertyIsEnumerable,E=(e,t,n)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M=(e,t)=>{for(var n in t||(t={}))I.call(t,n)&&E(e,n,t[n]);if(Z)for(var n of Z(t))P.call(t,n)&&E(e,n,t[n]);return e};const C="quickSearch/initQuickSearch",w="quickSearch/resetQuickSearch",D="quickSearch/fetchQuickSearch",T="quickSearch/changeQuickSearchQuery",O="quickSearch/changeQuickSearchSettings",x="quickSearch/selectQuickSearchResult",A="quickSearch/navigateQuickSearchResult",N="quickSearch/playQuickSearchResult",k=(0,s.Z)(C),L=(0,s.Z)(w),j=(0,s.Z)(D),R=(0,s.Z)(T),V=(0,s.Z)(O),U=(0,s.Z)(x),z=(0,s.Z)(A),B=(0,s.Z)(N);function _(e){return e.get("ui").get("quickSearch")}function F(e){return e.map((e=>e.entityID()))}function H(e,t,n){const{isCloud:r,isFullOwnedServer:i,title:s,serverFriendlyName:a,serverSourceTitle:o,providerSourceTitle:l}=e,c=d.wB(e.providerIdentifier,d.Y3);if(r)return l?`${s} - ${l}`:s;if(i&&c)return a;if(i&&!c)return`${s} • ${a}`;const{ownedSources:u,sharedSources:p}=t,m=Object.keys(u).length,h=Object.keys(p).length,g=p[o];return(g?g.length:0)>1?n?a:`${o} • ${a}`:m>0||h>0?o:void 0}const W={[C](e,t,n){const i=_(e),s=e.get("user").get("isFullUser"),o=i.get("searches"),{searchSources:l}=t,d=(0,m.Z)(l),p=(0,a.Z)(e,u.Ao);o.reset(l.reduce(((t,n)=>{const{providerEntityID:a}=n,o=(0,v.js)(e,{providerEntityID:a});if(!o)return t;const l=o.get("features").get(c.mo),u=t.find((e=>e.id===a));if(u){if(u&&n.directoryID){const e=u.get("contentDirectoryID").split(",");e.includes(n.directoryID)||e.push(n.directoryID);const t=e.join(",");u.set("contentDirectoryID",t)}}else{const e=a===i.get("providerEntityID");t[e?"unshift":"push"](new r.Z({providerEntityID:a,serverEntityID:o.server.entityID(),key:l?l.get("key"):"/hubs/search",contentDirectoryID:n.directoryID,searchTitle:H(n,d,!s)},{server:o.server,provider:o,isContextual:e,includeCollections:!0,includeExternalMedia:p}))}return t}),[])),i.get("query")&&n(j())},[w](e){const t=_(e),n=t.get("searches");t.set({query:"",selectedResultEntityID:null}),n.each((e=>{e.restoreDefaults({providerEntityID:e.get("providerEntityID"),serverEntityID:e.get("serverEntityID"),searchTitle:e.get("searchTitle"),key:e.get("key")})}))},[D](e,t={}){const n=_(e),r=n.get("searches"),{query:i=n.get("query"),limit:s}=t;r.each((t=>{const r=t.server;if(!r.supports("quickSearch")||!r.get("isConnected"))return void t.set({isSearchPending:!1});t.abortPendingPopulate(),t.set("isSearchPending",!0);const a=t.get("providerEntityID");(0,v.js)(e,{providerEntityID:a}).populate({merge:!0}).then((()=>t.fetch({data:{sectionId:n.get("directoryID"),query:i,limit:s}}))).done((()=>{t.set({isSearchPending:!1,isSearchPopulated:!0,searchError:null})})).fail((e=>{t.set({isSearchPending:!1,searchError:(0,g.Z)(e)})}))}))},[T](e,t,n){const r=_(e);""===t.trim()?n(L()):(r.get("query").length>1&&t.length<2&&n(L()),r.set("query",t))},[O](e,t){const n=_(e),{serverEntityID:r=n.get("serverEntityID"),providerEntityID:i=n.get("providerEntityID"),providerIdentifier:s=n.get("providerIdentifier"),directoryID:a=n.get("directoryID")}=t;n.set({serverEntityID:r,providerEntityID:i,providerIdentifier:s,directoryID:a})},[x](e,t){const n=_(e),{searchResultEntityID:r,offset:i}=t;if(r)return void n.set("selectedResultEntityID",r);const s=n.get("searches").reduce(((e,t)=>{const n=t.get("hubs").reduce(((e,t)=>e.concat(F(t.get("metadataResults")),F(t.get("tagResults")))),[]);return e.concat(n)}),[]),a=s.indexOf(n.get("selectedResultEntityID")),o=s.length-1,l=a+i,c=l<-1||l>o?i>0?-1:o:l,d=-1===c?null:s[c];n.set("selectedResultEntityID",d)},[A](e,t={},n){const r=_(e),s=null!=t.searchResultEntityID?t.searchResultEntityID:r.get("selectedResultEntityID"),a=(0,v.c_)(e,{searchResultEntityID:s});if(!a){const e=r.get("query");return n((0,i.c4)({pathname:"/search",query:{query:e}})),void n(L())}const{tagItem:o,metadataItem:l}=a.pick("tagItem","metadataItem");if(o){const e=(0,y.Z)(a.server.toJSON(),a.provider.toJSON(),(0,p.Z)(a.provider,o.get("librarySectionKey")),{key:o.get("key"),pageType:f.F6.List,context:a.metricsContext});return n(L()),void(e&&(window.location.hash=e))}const c=(0,p.Z)(a.provider,l.get("librarySectionKey")),d=(0,b.Z)(a.server.attributes,a.provider.attributes,l.attributes,{context:a.metricsContext,legacy:l.get("type")===h.PHOTO_ALBUM?1:void 0},c);d?(window.location.hash=d,n(L())):n(B({searchResultEntityID:s}))},[N](e,t={},n){const{options:r}=t,i=_(e),s=null!=t.searchResultEntityID?t.searchResultEntityID:i.get("selectedResultEntityID"),a=(0,v.c_)(e,{searchResultEntityID:s});if(!a)return void n(z(t));const c=a.get("metadataItem");c&&(n((0,o.wA)({serverEntityID:a.server.entityID(),providerEntityID:a.provider.entityID(),metadataItemEntityID:c.entityID(),metricsPage:l.xX,metricsContext:a.metricsContext,options:M({containerKey:c.get("skipParent")?c.get("grandparentKey"):c.get("parentKey")},r)})),n(L()))}}},20013:(e,t,n)=>{"use strict";n.d(t,{ES:()=>p,Nu:()=>m,zr:()=>g});var r=n(69273),i=n(40807),s=n(15634),a=n(67006),o=n(45399),l=n(57054),c=n(517);const d="search/fetchSearchPage",u="search/clearSearchPage",p=(0,i.Z)(d),m=(0,i.Z)(u);function h(e){return e.get("ui").get("searchPage")}const g={[d](e,t,n){const i=h(e).get("searches"),{availableProviders:d,query:u,limit:p}=t,m=(0,s.Z)(e,o.Ao);Object.keys(d).forEach((t=>{const n=d[t],s=(0,c.SW)(e,{serverEntityID:n.serverEntityID}),o=(0,c.js)(e,{providerEntityID:t}),l=o.get("features").get(a.mo);l&&!i.get(t)&&i.add(new r.Z({providerEntityID:t,key:l.get("key")},{server:s,provider:o,includeCollections:!0,includeExternalMedia:m}))})),i.each((e=>{e.populatePromise||(e.set("isSearchPending",!0),e.fetch({data:{query:u,limit:p}}).done((()=>{e.set({isSearchPending:!1,isSearchPopulated:!0,searchError:null})})).fail((t=>{e.set({isSearchPending:!1,searchError:(0,l.Z)(t)})})))}))},[u](e,t,n){const r=h(e);r.get("searches").each((e=>{e.abortPendingPopulate()})),r.restoreDefaults()}}},6016:(e,t,n)=>{"use strict";n.d(t,{a$:()=>A,zc:()=>T,yT:()=>O,Dg:()=>x,V7:()=>L,ZP:()=>Y,KC:()=>U,qz:()=>j,J6:()=>N,v_:()=>k,$:()=>V,QF:()=>R});var r=n(42699),i=n(313),s=n(40807),a=n(3265),o=n(96638),l=n(12274);function c(e,t,n){if(!t)return null;const r=new Date(t);if(!(0,l.Z)(r))return-1;const i=r.getTime();let s,a=0,o=e.length-1;for(;a<=o;){s=Math.floor((a+o)/2);const t=e[s],r=e[s+1],l=new Date(t.time).getTime();if(!r)return i>l?s:s+1;if(i===l)return n<s?s:s+1;const c=new Date(r.time).getTime();if(i>l&&i<c)return s+1;i>l?a=s+1:i<l&&(o=s-1)}return Math.max(0,s)}var d=n(56514);function u(e){return(0,d.Z)(e,"MMM dd, yyyy HH:mm:ss.SSS",new Date)}var p=Object.defineProperty,m=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))m.call(t,n)&&y(e,n,t[n]);if(h)for(var n of h(t))g.call(t,n)&&y(e,n,t[n]);return e};const f="ui/serverLogPageActions/changeTextFilter",b="ui/serverLogPageActions/changeTimeFilter",S="ui/serverLogPageActions/clearFilter",I="ui/serverLogPageActions/addLogLine",Z="ui/serverLogPageActions/resetLogLevels",P="ui/serverLogPageActions/toggleLogLevel",E="ui/serverLogPageActions/clearLog",M="ui/serverLogPageActions/loadLogfile",C="ui/serverLogPageActions/toggleTimeFilter",w="ui/serverLogPageActions/toggleRaw",D="ui/serverLogPageActions/highlightLine",T=(0,s.Z)(f),O=(0,s.Z)(b),x=(0,s.Z)(S),A=(0,s.Z)(I),N=(0,s.Z)(Z),k=(0,s.Z)(P),L=(0,s.Z)(E),j=(0,s.Z)(M),R=(0,s.Z)(C),V=(0,s.Z)(w),U=(0,s.Z)(D);function z(e,t,n){return t.all||(t.all=[]),e.index=t.all.length,F(e,{filter:n.get("filter"),timeFilterStart:n.get("timeFilterStart"),timeFilterEnd:n.get("timeFilterEnd"),logLevels:n.get("logLevels")})?t.filtered&&t.filtered.push(e):t.filtered||(t.filtered=t.all.slice(0)),t.all.push(e),t}function B(e){return e.get("ui").get("serverLogPage")}function _(e){return e.split(/\s+/).map((e=>new RegExp((0,o.Z)(e),"i")))}function F(e,t){const{filter:n,timeFilterStart:s,timeFilterStartIndex:a,timeFilterEnd:o,timeFilterEndIndex:l,logLevels:c}=t;if(c.length&&-1===c.indexOf(e.level))return!1;if(s||null!=a||o||null!=l){let t,n,c;if(null!=a&&null!=l||(t=u(e.time),null==a&&(n=s&&u(s)),null==l&&(c=o&&u(o))),null!=a&&a>e.index||null!=l&&l<e.index||n&&(0,r.Z)(n,t)||c&&(0,i.Z)(c,t))return!1}return!n||(t.regexps||_(n)).every((t=>t.test(e.message)||t.test(e.thread)))}function H(e){const t=e.get("filter"),n=e.get("timeFilterStart"),r=e.get("timeFilterEnd"),i=e.get("logLevels"),s=e._unfilteredLogLines,a=c(s,n,-1/0),o=c(s,r,1/0),l=function(e,t){const n=_(t.filter);return e.filter((e=>F(e,v(v({},t),{regexps:n}))))}(s,{logLevels:i,filter:t,timeFilterStart:n,timeFilterStartIndex:-1===a?null:a,timeFilterEndIndex:-1===o?null:o,timeFilterEnd:r});e.set({logLines:l,unfilteredLogLinesCount:s.length,isTimeFilterStartValid:-1!==a,isTimeFilterEndValid:-1!==o})}const W=/^([^[]+)\[([^\]]+)]\s+([^\s]+)\s+-\s+(.*)/,Q={ERROR:0,WARN:1,INFO:2,DEBUG:3,VERBOSE:4};function G(e){if(!e)return null;const t=e.match(W),[,n,r,i,s]=t;return{time:n.trim(),thread:r.trim(),level:Q[i],message:s.trim()}}const Y=(0,a.Z)({[I](e,t){const{message:n}=t,r=B(e);r._unfilteredLogLines||(r._unfilteredLogLines=[]);const i=r.get("logLines").length!==r._unfilteredLogLines.length,s=i?r.get("logLines"):null,a=i?s.length:null,o=z(n,{all:r._unfilteredLogLines.slice(0),filtered:s},r);o.filtered&&o.filtered.length!==a&&(o.filtered=o.filtered.slice(0)),r._unfilteredLogLines=o.all,r.set({unfilteredLogLinesCount:o.all.length,logLines:o.filtered||o.all})},[f](e,t){const n=B(e),{filter:r}=t;n.set({filter:r}),H(n)},[b](e,t){const n=B(e),{timeFilterStart:r,timeFilterEnd:i}=t;n.set({showTimeFilter:!(!r&&!i),timeFilterStart:r,timeFilterEnd:i}),H(n)},[S](e){const t=B(e);t.set({filter:"",timeFilterStart:"",timeFilterEnd:"",logLevels:[]}),H(t)},[Z](e){const t=B(e);t.set({logLevels:[]}),H(t)},[P](e,t){const n=B(e),r=n.get("logLevels"),i=r.slice(0),s=r.indexOf(t.logLevel);-1===s?i.push(t.logLevel):i.splice(s,1),n.set({logLevels:i}),H(n)},[E](e){const t=B(e);t.set({logLines:[],unfilteredLogLinesCount:0,highlightedLineIndex:null,showRawText:!1}),t._unfilteredLogLines=[]},[M](e,t){const{result:n}=t,r=B(e);let i={all:[]};r.set({logLines:[],unfilteredLogLinesCount:0});try{n.split(/\n+/).map(G).forEach((e=>{e&&(i=z(e,i,r))})),r._unfilteredLogLines=i.all,r.set({unfilteredLogLinesCount:i.all.length,logLines:i.filtered||i.all})}catch(e){}},[C](e){const t=B(e),n=t.get("showTimeFilter");t.set({timeFilterStart:"",timeFilterEnd:"",showTimeFilter:!n}),H(t)},[w](e){const t=B(e);t.set("showRawText",!t.get("showRawText"))},[D](e,t){B(e).set("highlightedLineIndex",t.index)}})},35871:(e,t,n)=>{"use strict";n.d(t,{Ag:()=>Y,K3:()=>q,Es:()=>K,wV:()=>$,rV:()=>X,b6:()=>J,av:()=>ee,ly:()=>te,vX:()=>ne,jD:()=>re,L1:()=>ie,K_:()=>ae,TR:()=>ue,$i:()=>pe,lo:()=>me});var r=n(19755),i=n.n(r),s=n(40807),a=n(3265),o=n(48293),l=n(75300),c=n(32091),d=n(68187),u=n(20023),p=n(86953),m=n(70515),h=n(27082),g=n(5562),y=n(84936),v=n(33295),f=n(84807),b=n(24781),S=n(22724),I=n(1483),Z=n(1039),P=n(19378),E=n(6797),M=n(43666),C=n(517),w=n(13550),D=Object.defineProperty,T=Object.prototype.hasOwnProperty,O=Object.getOwnPropertySymbols,x=Object.prototype.propertyIsEnumerable,A=(e,t,n)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N=(e,t)=>{for(var n in t||(t={}))T.call(t,n)&&A(e,n,t[n]);if(O)for(var n of O(t))x.call(t,n)&&A(e,n,t[n]);return e};const k="shareModal",L="ui/shareModal/initShareModal",j="ui/shareModal/resetShareModal",R="ui/shareModal/sharePreviousStep",V="ui/shareModal/shareNextStep",U="ui/shareModal/validateUsername",z="ui/shareModal/setUsername",B="ui/shareModal/setUser",_="ui/shareModal/fetchServerOverviews",F="ui/shareModal/fetchServerShares",H="ui/shareModal/setLibraryShares",W="ui/shareModal/fetchFilterOptionsTags",Q="ui/shareModal/saveItemShare",G="ui/shareModal/saveLibraryShares",Y=(0,s.Z)(L),q=(0,s.Z)(j),K=(0,s.Z)(R),$=(0,s.Z)(V),X=(0,s.Z)(U),J=(0,s.Z)(z),ee=(0,s.Z)(B),te=(0,s.Z)(_),ne=(0,s.Z)(F),re=(0,s.Z)(H),ie=(0,s.Z)(W),se=(0,s.Z)(Q),ae=(0,s.Z)(G);function oe(e){return e.get("ui").get("shareModal")}function le(e,t){const n=e.get("servers"),{metadataItemEntityID:r,isNewFriend:i=!0,isAddingHomeUser:s,isCreatingManagedUser:a}=t,o=[];s&&o.push(b.p.WARNING),o.push(b.p.USER);const l=!!r,c=n.some((e=>e.get("isFullOwnedServer")&&e.get("isClaimed")&&e.get("friendlyName")));return!l&&c&&o.push(b.p.LIBRARIES),l||!i&&!s||o.push(b.p.RESTRICTIONS),i&&!a&&o.push(b.p.SUMMARY),o}function ce(e,t){return e.findIndex((e=>e===t))}function de(e,t){return e[ce(e,t)-1]}function ue(e,t){return e[ce(e,t)+1]}function pe(e,t){const n=ue(e,t);return!(!n||n===b.p.SUMMARY)}const me=(0,a.Z)({[L](e,t){const n=oe(e),r=le(e,t);n.set({steps:r,step:r[0]})},[j](e,t={}){const n=oe(e);v.Z.abortAll(k),n.restoreDefaults(t)},[R](e,t,n){const r=oe(e),i=r.get("steps"),s=r.get("step"),a={steps:i,step:de(i,s),username:r.get("username"),restrictionProfileIdentifier:r.get("restrictionProfileIdentifier"),isUsernameValidated:!r.get("isCreatingManagedUser")};s===b.p.RESTRICTIONS&&(a.friendEntityID=r.get("friendEntityID"),a.isNewFriend=r.get("isNewFriend"),a.isAddingHomeUser=r.get("isAddingHomeUser"),a.isCreatingManagedUser=r.get("isCreatingManagedUser"),a.selectedAllLibrariesMachineIdentifiers=r.get("selectedAllLibrariesMachineIdentifiers"),a.selectedLibrarySectionIDs=r.get("selectedLibrarySectionIDs")),n(q(a))},[V](e){const t=oe(e),n=ue(t.get("steps"),t.get("step"));n&&t.set({step:n})},[U](e,t={}){const n=oe(e),r=e.get("cloudServer"),{username:s=""}=t;if(""===s.trim())return void n.set({isUsernameValidating:!1,isUsernameValidated:!1});(0,h.c9)((()=>{n.set({isUsernameValidating:!0,isUsernameValidated:!1})}));const a=y.Z.join("/api/users/validate",{invited_email:s}),o=r.getXHROptions(a,{type:"POST",scope:k});i().ajax(o).done((()=>{n.set({isUsernameValidating:!1,isUsernameValidated:!0})})).fail((()=>{n.set({isUsernameValidating:!1})}))},[z](e,t={},n){const r=oe(e),{metadataItemEntityID:i,username:s,restrictionProfileIdentifier:a,isAddingHomeUser:o,isCreatingManagedUser:l}=t,c=e.get("user").get("allFriends");let d=c.findWhere({username:s});d||(d=c.findWhere({email:s}));const u=!!d&&!l,p=u?d.entityID():null,m=le(e,{metadataItemEntityID:i,isNewFriend:!u,isAddingHomeUser:o,isCreatingManagedUser:l});r.set({steps:m,metadataItemEntityID:i,friendEntityID:p,username:u?d.get("title"):s,restrictionProfileIdentifier:a,isNewFriend:!u,isAddingHomeUser:o,isCreatingManagedUser:l}),n(pe(m,b.p.USER)?$():i?se():ae())},[B](e,t={},n){const r=oe(e),i=(0,C.KC)(e,t),{metadataItemEntityID:s,isAddingHomeUser:a}=t,o=i.entityID(),l=le(e,{metadataItemEntityID:s,isNewFriend:!1,isAddingHomeUser:a,isCreatingManagedUser:!1});r.set({steps:l,metadataItemEntityID:s,friendEntityID:o,username:i.get("title"),isNewFriend:!1,isAddingHomeUser:a}),n(s?se():$())},[_](e,t={}){const n=oe(e),{serverEntityIDs:r}=t;(0,h.c9)((()=>{n.set({isServerOverviewsPopulating:!0,isServerOverviewsPopulated:!1})})),(0,o.Z)(r).then((e=>{n.set({isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!0,serverOverviews:e})}))},[F](e,t={}){const n=oe(e),r=(0,C.KC)(e,t);v.Z.abortAll(k),r?((0,h.c9)((()=>{n.set({isServerSharesPopulating:!0,isServerSharesPopulated:!1,serverSharesError:null})})),(0,l.Z)(r,k).done((()=>{n.set({isServerSharesPopulating:!1,isServerSharesPopulated:!0})})).fail((()=>{n.set({isServerSharesPopulating:!1,serverSharesError:(0,g.Z)("Failed to load shares.")})}))):n.set("isServerSharesPopulated",!0)},[H](e,t={},n){const r=oe(e);r.set(t),n(pe(r.get("steps"),b.p.LIBRARIES)?$():ae())},[W](e,t={}){const n=oe(e),{serverEntityIDs:r}=t,i=r.map((t=>(0,C.SW)(e,{serverEntityID:t})));v.Z.abortAll(k),(0,h.c9)((()=>{n.set({isFilterOptionsTagsPopulating:!0,isFilterOptionsTagsPopulated:!1})})),(0,P.Z)(i,k).done((e=>{n.set({isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!0,filterOptionsTags:e})}))},[Q](e,t,n){const r=oe(e),s=r.get("metadataItemEntityID"),a=r.get("friendEntityID"),o=r.get("username"),l=r.get("isNewFriend"),c=e.get("cloudServer");(0,h.c9)((()=>{r.set({isSharingPending:!0,isSharingCompleted:!1,sharingError:null,inviteTokenError:null})}));const d=(0,C.$R)(e,{metadataItemEntityID:s}),u=(0,p.Z)({serverIdentifier:d.server.get("machineIdentifier"),key:d.get("key")}),m=(0,w.Z)({type:d.get("type"),title:d.get("title"),parentTitle:d.get("parentTitle"),grandparentTitle:d.get("grandparentTitle"),index:d.get("index"),parentIndex:d.get("parentIndex"),originallyAvailableAt:d.get("originallyAvailableAt")},f.U),y={items:[{uri:u,type:d.get("type"),title:m}]};if(a){const t=(0,C.KC)(e,{friendEntityID:a});y.invitedId=t.id}else y.invitedEmail=o;const v=c.getXHROptions("/api/v2/shared_items",{type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(y),scope:k});i().ajax(v).then((t=>{l?function(e,t){const n=`/api/v2/shared_sources/${t}`,r=e.get("cloudServer").getXHROptions(n,{type:"GET",dataType:"json",scope:k});return i().ajax(r).then((e=>e.inviteToken),(e=>{const t=e&&e.status?e.responseJSON.errors:null,n=t?t[0].message:(0,g.Z)("Unknown error");return(0,g.Z)("Failed to get invite link: {errorMessage}",{errorMessage:n})}))}(e,t[0].sharedSourceId).done((e=>{r.set({inviteToken:e,isSharingPending:!1,isSharingCompleted:!0})})).fail((e=>{r.set({inviteTokenError:e,isSharingPending:!1,isSharingCompleted:!0})})).always((()=>{n($())})):r.set({isSharingPending:!1,isSharingCompleted:!0})}),(e=>{const t=e&&e.status?e.responseJSON.errors:null,n=t?t[0].message:null;r.set({isSharingPending:!1,sharingError:n||(0,g.Z)("Failed to share item")})}))},[G](e,t={},n){const{addToHome:r,restrictions:s={}}=t,a=oe(e),o=a.get("friendEntityID"),l=a.get("username"),p=a.get("restrictionProfileIdentifier"),y=a.get("isNewFriend"),v=a.get("isAddingHomeUser"),f=a.get("isCreatingManagedUser"),b=a.get("serverOverviews"),P=a.get("selectedAllLibrariesMachineIdentifiers")||[],w=a.get("selectedLibrarySectionIDs")||[],D=e.get("user");(0,h.c9)((()=>{a.set({isSharingPending:!0,isSharingCompleted:!1,sharingError:null})}));const T=[],O=o?(0,C.KC)(e,{friendEntityID:o}):new S.Z({username:l},{server:D.server}),x=(0,E.Z)(s);y&&O.set(x);const A=O.get("serverShares").where({owned:!0}),k=function(e=[]){return e.reduce(((e,t)=>(t.get("sections").forEach((n=>{e[n.get("id")]=t.get("machineIdentifier")})),e)),{})}(b),L=A.map((e=>e.get("machineIdentifier"))),j=Array.from(new Set(w.map((e=>k[e])))),R=Array.from(new Set([...L,...j,...P])),V=v||r&&!O.get("home")||f;let U;if(V){const e=N(N({},x),{username:l,restricted:f});p&&p!==d.Pq&&(e.restrictionProfile=p),U=new I.Z(e,{server:D.server}).save(),f&&(U=U.then((e=>{O.set("id",parseInt(m.Z.parseXML(e).id,10))})))}else{const e=0===R.length;U=y&&e?O.save(N({user:l},x)):i().Deferred().resolve().promise()}U.done((()=>{R.forEach((e=>{const t=b.get(e);if(!t)return;const n=A.find((t=>t.get("machineIdentifier")===e)),r=P.indexOf(e)>-1,i=!n,s=!r&&!j.find((t=>t===e)),a=function(e,t){const n=e.get("sections");return t.filter((e=>n.get(e)))}(t,w),o=r?[]:a;if(i){const t=new Z.Z({machineIdentifier:e}),n=(0,c.Z)({user:D,friend:O,serverShare:t,librarySectionIDs:o,isNewFriend:y,isCreatingManagedUser:f,isNewServerShare:!0});T.push(n)}else if(s)T.push(n.destroy({wait:!0}));else{const e=(0,c.Z)({user:D,friend:O,serverShare:n,librarySectionIDs:o,isNewFriend:y,isCreatingManagedUser:f,isNewServerShare:!1});T.push(e)}})),i().when(...T).done(((...e)=>{const t={isSharingPending:!1,isSharingCompleted:!0};if(R.length>0&&y&&!f){const n=(T.length>1?e[e.length-1]:e)[0];t.inviteToken=n.inviteToken}a.set(t),f&&D.set("home",!0),n($())})).fail(((...e)=>{let t;for(const n of e){const e=(0,u.Z)(n,null,"status");if(e){t=e;break}}t||(t=f?(0,g.Z)("Failed to create home user."):y?(0,g.Z)("Failed to send invite."):(0,g.Z)("Failed to update server shares.")),a.set({isSharingPending:!1,sharingError:t})})).always((()=>{n((0,M.Tp)()),n((0,M.bc)()),V&&(D.get("homeUsers").fetch(),n((0,M.RY)()),n((0,M.Tz)()))}))})).fail((e=>{const t=(0,u.Z)(e,null,"status")||(0,g.Z)("Failed to create home user.");a.set({isSharingPending:!1,sharingError:t})}))}})},39783:(e,t,n)=>{"use strict";n.d(t,{GO:()=>y,mt:()=>v,lW:()=>b});var r=n(19755),i=n.n(r),s=n(40807),a=n(3265),o=n(34699),l=n(20023),c=n(28440),d=n(27082),u=n(5562),p=n(84936);const m=["aqt","ass","idx","jss","psb","rt","smi","srt","ssa","sub","txt","utf","utf-8","utf8","vtt"],h="ui/subtitlesUploadModal/resetUploadSubtitles",g="ui/subtitlesUploadModal/uploadSubtitles",y=(0,s.Z)(h),v=(0,s.Z)(g);function f(e){return e.get("ui").get("subtitlesUploadModal")}const b=(0,a.Z)({[h](e){f(e).restoreDefaults()},[g](e,t,n){const{file:r}=t,s=(0,c.$R)(e,t),a=f(e),h=r.name,g=function(e){const t=e.lastIndexOf(".");return t>=0?e.substring(t+1):null}(h);if(!m.includes(g))return void a.set({error:(0,u.Z)("Unsupported subtitle file format")});if(r.size>1048576)return void a.set({error:(0,u.Z)("Subtitle file exceeds 1MB size limit")});(0,d.c9)((()=>{a.set({isUploading:!0,isUploaded:!1,error:null})}));const y=new window.FileReader;y.onload=t=>{if(t.target.error)return void a.set({isUploading:!1,isUploaded:!1,error:(0,u.Z)("Unable to upload subtitle file")});const n=t.target.result,r=p.Z.join([s.get("key"),"subtitles"],{title:h,format:g}),c=s.server.getXHROptions(r,{method:"POST",processData:!1,contentType:!1,data:n});i().ajax(c).then((()=>{a.set({isUploading:!1,isUploaded:!0,error:null});const t=e.get("ui").get("audioVideoPlayer");s.fetch({data:{skipRefresh:1},usePopulatedParams:!0}),t.get("isOpen")&&(0,o.Z)(e).refreshRemoteStreams(t)}),(e=>{a.set({isUploading:!1,isUploaded:!1,error:(0,l.Z)(e,(0,u.Z)("Unable to upload subtitle file"))})}))},y.readAsText(r)}})},89028:(e,t,n)=>{"use strict";n.d(t,{h8:()=>s,qd:()=>a,de:()=>o,Ql:()=>l});var r=n(40807),i=n(93066);const s=(0,r.Z)(i.Mv),a=(0,r.Z)(i.TA),o=(0,r.Z)(i.cW),l=(0,r.Z)(i.PG)},48051:(e,t,n)=>{"use strict";n.d(t,{OY:()=>Y,L1:()=>q,VH:()=>K,l8:()=>$,lu:()=>X,yL:()=>J,gh:()=>ee,Yy:()=>te,ly:()=>ne,vX:()=>re,K_:()=>ie,bw:()=>se,hl:()=>ae,yr:()=>oe,zg:()=>le,Ye:()=>ue});var r=n(19755),i=n.n(r),s=n(95688),a=n(40807),o=n(3265),l=n(48293),c=n(75300),d=n(32091),u=n(32901),p=n(68187),m=n(20023),h=n(60316),g=n(27082),y=n(5562),v=n(84936),f=n(33295),b=n(1483),S=n(1039),I=n(19378),Z=n(6797),P=n(11491),E=n(43666),M=n(517),C=Object.defineProperty,w=Object.prototype.hasOwnProperty,D=Object.getOwnPropertySymbols,T=Object.prototype.propertyIsEnumerable,O=(e,t,n)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x=(e,t)=>{for(var n in t||(t={}))w.call(t,n)&&O(e,n,t[n]);if(D)for(var n of D(t))T.call(t,n)&&O(e,n,t[n]);return e};const A="userSharingSettingsPage",N="ui/userSharingSettingsPage/resetUserSharingSettingsPage",k="ui/userSharingSettingsPage/fetchFilterOptionsTags",L="ui/userSharingSettingsPage/setFriendRestrictions",j="ui/userSharingSettingsPage/updateManagedUserProfile",R="ui/userSharingSettingsPage/dismissFriendError",V="ui/userSharingSettingsPage/fetchSharedSources",U="ui/userSharingSettingsPage/populateSharedItem",z="ui/userSharingSettingsPage/deleteSharedItem",B="ui/userSharingSettingsPage/fetchServerOverviews",_="ui/userSharingSettingsPage/fetchServerShares",F="ui/userSharingSettingsPage/saveLibraryShares",H="ui/userSharingSettingsPage/dismissSharingError",W="ui/userSharingSettingsPage/removeServerShare",Q="ui/userSharingSettingsPage/dismissRemoveServerShareError",G="ui/userSharingSettingsPage/addToHome",Y=(0,a.Z)(N),q=(0,a.Z)(k),K=(0,a.Z)(L),$=(0,a.Z)(j),X=(0,a.Z)(R),J=(0,a.Z)(V),ee=(0,a.Z)(U),te=(0,a.Z)(z),ne=(0,a.Z)(B),re=(0,a.Z)(_),ie=(0,a.Z)(F),se=(0,a.Z)(H),ae=(0,a.Z)(W),oe=(0,a.Z)(Q),le=(0,a.Z)(G);function ce(e){return e.get("ui").get("userSharingSettingsPage")}function de(e,t,n){return e.map((e=>{if(e.origin!==t)return e;const r=e.sharedItems.filter((e=>e.id!==n));return x(x({},e),{sharedItems:r})}))}const ue=(0,o.Z)({[N](e){const t=ce(e);f.Z.abortAll(A),t.restoreDefaults()},[k](e,t={}){const n=ce(e),{serverEntityIDs:r}=t,i=r.map((t=>(0,M.SW)(e,{serverEntityID:t})));f.Z.abortAll(A),(0,g.c9)((()=>{n.set({isFilterOptionsTagsPopulating:!0,isFilterOptionsTagsPopulated:!1})})),(0,I.Z)(i,A).done((e=>{n.set({filterOptionsTags:e,isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!0})}))},[L](e,t,n){const r=ce(e),s=e.get("cloudServer"),{friendEntityID:a,restrictions:o}=t,{restrictionProfileIdentifier:l}=o,c=(0,M.KC)(e,{friendEntityID:a}),d=(0,M.bg)(e);let u;if((0,g.c9)((()=>{r.set({isUpdatingFriend:!0,updateFriendError:null})})),l){const e={userId:c.id};l!==p.Pq&&(e.restrictionProfile=l);const t=s.getXHROptions("/api/v2/home/users/restricted/profile",{type:"POST",contentType:"application/json",data:JSON.stringify(e),scope:A});u=i().ajax(t).then((()=>{const e=d.get("homeUsers").find((e=>e.id===c.id)),t=l===p.Pq?"":l;return c.fetch().then((()=>{e.set("restrictionProfile",t)}))}))}else{const e=(0,Z.Z)(o);u=c.save(e)}u.then((()=>{r.set({isUpdatingFriend:!1})}),(()=>{r.set({isUpdatingFriend:!1,updateFriendError:(0,y.Z)("Failed to update")})}))},[j](e,t,n){const r=ce(e),s=e.get("cloudServer"),a=e.get("user").get("homeUsers"),{friendEntityID:o,username:l,avatar:c}=t,d=(0,M.KC)(e,{friendEntityID:o});let u;if((0,g.c9)((()=>{r.set({isUpdatingFriend:!0,updateFriendError:null})})),l){if(l.trim()===d.get("title"))return void r.set({isUpdatingFriend:!1});if(a.findWhere({title:l.trim()}))return void r.set({isUpdatingFriend:!1,updateFriendError:(0,y.Z)("A Home user already exists with this name")});const e={friendlyName:l.trim()},t=s.getXHROptions(`/api/v2/home/users/restricted/${d.id}`,{type:"POST",contentType:"application/json",data:JSON.stringify(e),scope:A});u=i().ajax(t)}else c&&(u=(0,P.Z)(c,d.id));u.then((()=>{r.set({isUpdatingFriend:!1}),a.fetch(),n((0,E.RY)()),n((0,E.Tp)())}),(()=>{r.set({isUpdatingFriend:!1,updateFriendError:(0,y.Z)("Failed to update")})}))},[R](e,t,n){ce(e).set({updateFriendError:null})},[V](e,t,n){const r=ce(e),s=e.get("cloudServer");(0,g.c9)((()=>{r.set({isSharedSourcesPopulating:!0,isSharedSourcesPopulated:!1,sharedSourcesError:null})}));const a=v.Z.join("/api/v2/shared_sources/owned",{invitedId:t.userID,includeItems:!0}),o=v.Z.join("/api/v2/shared_sources/received",{ownerId:t.userID,includeItems:!0}),l=s.getXHROptions(a,{type:"GET",dataType:"json",scope:A}),c=s.getXHROptions(o,{type:"GET",dataType:"json",scope:A});i().when(i().ajax(l),i().ajax(c)).then(((e,t)=>{r.set({ownedSharedSources:e[0],receivedSharedSources:t[0],isSharedSourcesPopulating:!1,isSharedSourcesPopulated:!0})}),(()=>{r.set({isSharedSourcesPopulating:!1,sharedSourcesError:(0,y.Z)("Failed to fetch shared items.")})}))},[U](e,t,n){const{serverIdentifier:r,providerIdentifier:i,key:a}=(0,h.Z)(t.uri),o=e.get("servers").get(r),l=o&&o.get("providers").get(i);l&&l.get("isPopulated")&&new s.Z({key:a},{server:o,provider:l}).populate()},[z](e,t,n){const r=ce(e),s=e.get("cloudServer"),{id:a,origin:o,isOwnedItem:l}=t;r.set("deleteSharedItemID",a);const c=s.getXHROptions(`/api/v2/shared_items/${a}`,{method:"DELETE",dataType:"json",scope:A});i().ajax(c).then((()=>{const e={deleteSharedItemID:null};if(l){const t=de(r.get("ownedSharedSources"),o,a);e.ownedSharedSources=t}else{const t=de(r.get("receivedSharedSources"),o,a);e.receivedSharedSources=t}r.set(e)}),(()=>{n((0,u.wp)({type:"error",message:(0,y.Z)("There was a problem removing this shared item.")})),r.set("deleteSharedItemID",null)}))},[B](e,t={}){const n=ce(e),{serverEntityIDs:r}=t;(0,g.c9)((()=>{n.set({isServerOverviewsPopulating:!0,isServerOverviewsPopulated:!1})})),(0,l.Z)(r).then((e=>{n.set({isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!0,serverOverviews:e})}))},[_](e,t={}){const n=ce(e),r=(0,M.KC)(e,t);f.Z.abortAll(A),(0,g.c9)((()=>{n.set({isServerSharesPopulating:!0,isServerSharesPopulated:!1,serverSharesError:null})})),(0,c.Z)(r,A).done((()=>{n.set({isServerSharesPopulating:!1,isServerSharesPopulated:!0})})).fail((()=>{n.set({isServerSharesPopulating:!1,serverSharesError:(0,y.Z)("Failed to load shares.")})}))},[F](e,t={},n){const r=ce(e),i=e.get("user");(0,g.c9)((()=>{r.set({isSharingPending:!0,isSharingCompleted:!1,sharingError:null})}));const{friendEntityID:s,machineIdentifier:a,selectedLibrarySectionIDs:o,isAllLibrariesSelected:l}=t,u=(0,M.KC)(e,{friendEntityID:s}),p=u.get("serverShares"),h=p.findWhere({machineIdentifier:a}),v=!h,f=!l&&0===o.length,b=l?[]:o;let I;if(v){const e=new S.Z({machineIdentifier:a});I=(0,d.Z)({user:i,friend:u,serverShare:e,librarySectionIDs:b,isNewFriend:!1,isNewServerShare:!0})}else I=f?h.destroy({wait:!0}):(0,d.Z)({user:i,friend:u,serverShare:h,librarySectionIDs:b,isNewFriend:!1,isNewServerShare:!1});I.done((e=>{v&&p.add(new S.Z(e,{server:i.server,parse:!0})),r.set({isSharingPending:!1,isSharingCompleted:!0})})).fail((e=>{r.set({isSharingPending:!1,sharingError:(0,m.Z)(e,null,"status")||(0,y.Z)("Failed to update server shares.")})})).always((()=>{(0,c.Z)(u,A)}))},[H](e,t,n){ce(e).set({sharingError:null})},[W](e,t,n){const r=ce(e);(0,g.c9)((()=>{r.set({isRemoveServerSharePending:!0,isRemoveServerShareCompleted:!1,removeServerShareError:null})}));const{friendEntityID:i,machineIdentifier:s}=t,a=(0,M.KC)(e,{friendEntityID:i});a.get("serverShares").findWhere({machineIdentifier:s}).destroy({wait:!0}).done((()=>{r.set({isRemoveServerSharePending:!1,isRemoveServerShareCompleted:!0})})).fail((e=>{r.set({isRemoveServerSharePending:!1,removeServerShareError:(0,m.Z)(e,null,"status")||(0,y.Z)("Failed to remove server share.")})})).always((()=>{(0,c.Z)(a,A)}))},[Q](e,t,n){ce(e).set({removeServerShareError:null})},[G](e,t,n){const r=ce(e),i=e.get("user"),s=(0,M.KC)(e,t);(0,g.c9)((()=>{r.set({isUpdatingFriend:!0,updateFriendError:null})})),new b.Z({username:s.get("username")},{server:i.server}).save().done((()=>{r.set({isUpdatingFriend:!1}),n((0,E.RY)()),n((0,E.bc)()),n((0,E.Tz)())})).fail((e=>{r.set({isUpdatingFriend:!1,updateFriendError:(0,m.Z)(e,(0,y.Z)("Failed to add to Plex Home"),"status")})}))}})},26239:(e,t,n)=>{"use strict";n.d(t,{gK:()=>E,W$:()=>S,fJ:()=>f,Ty:()=>v,tD:()=>b,WW:()=>Z,FN:()=>I});var r=n(19755),i=n.n(r),s=n(40807),a=n(27082),o=n(5562),l=n(29243);const c=function(e,t){const n=e.get("cloudServer");return i().ajax(n.getXHROptions(`/api/v2/pins/${t}`,{dataType:"json"})).promise().then((e=>e))};var d=n(5756);const u="user/authCodeExchange/readStoredPIN",p="user/authCodeExchange/preloadPIN",m="user/authCodeExchange/resetAuthCodeExchange",h="user/authCodeExchange/beginPolling",g="user/authCodeExchange/stopPolling",y="user/authCodeExchange/skipSignIn",v=(0,s.Z)(u),f=(0,s.Z)(p),b=(0,s.Z)(m),S=(0,s.Z)(h),I=(0,s.Z)(g),Z=(0,s.Z)(y);function P(e,t){const n=(0,l.Z)(e);return n.set({isBusy:!0}),(0,d.Z)(e).then((({id:e,code:r,expiresIn:i})=>{const s=window.setTimeout((()=>{t(I())}),1e3*i);n.set({code:r,pinID:e,pinTimeout:s,isBusy:!1})})).fail((()=>{n.set({fatalErrorMessage:(0,o.Z)("An error occurred"),isBusy:!1})}))}const E={[m](e,t,n){const r=(0,l.Z)(e);(0,a.c9)((()=>{r.set({code:null,pinID:null,authToken:null,errorMessage:null})}))},[u](e,t,n){const r=(0,l.Z)(e),s=r.get("pinIDInitial"),a=(s?i().Deferred().resolve(s).promise():i().Deferred().reject().promise()).then((()=>c(e,s).fail((()=>{r.set({errorMessage:(0,o.Z)("There was an error signing in")})})))).then((({authToken:e})=>e?i().Deferred().resolve(e).promise():(r.set({errorMessage:(0,o.Z)("There was an error signing in")}),i().Deferred().reject().promise()))).then((e=>{r.set({authToken:e})}));t.shouldCreatePIN&&a.fail((()=>P(e,n)))},[p](e,t,n){(0,l.Z)(e).set({isBusy:!0,code:null,pinID:null}),P(e,n)},[h]:function(e,t,n){const{pinID:r}=t,i=(0,l.Z)(e);function s(){const t=i.get("pinID");r===t&&c(e,r).then((({authToken:e})=>{e?i.set({authToken:e}):a()})).fail((e=>{i.set({code:null,pinID:null,isBusy:!1,fatalErrorMessage:e&&404===e.status?null:(0,o.Z)("An error occurred")})}))}function a(){window.setTimeout(s,2e3)}a()},[g](e,t,n){const r=(0,l.Z)(e),i=r.get("pinTimeout");i&&window.clearTimeout(i),r.set({pinID:null,pinTimeout:null,code:null})},[y](e,t,n){e.set({skipSignIn:!0})}}},61941:(e,t,n)=>{"use strict";n.d(t,{I3:()=>h,vG:()=>g});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(61682),l=n(94018),c=n(40807),d=n(32869),u=n(45274),p=n(32846);const m="user/signIn/signInWithAuthToken",h=(0,c.Z)(m),g={[m](e,t,n){const{authToken:r,onSignInSuccess:s}=t,c=e.get("user");c.get("isSignedIn")&&c.get("authToken")!==r?l.Z.execute("resetUser").then((()=>o.Z.set("myPlexAccessToken",r))).then((()=>window.location.reload())):function(e,{authToken:t,onSignInSuccess:n}){const r=e.get("cloudServer"),s=e.get("user");i().ajax(r.getXHROptions(a().result(s,"url"),{headers:{"X-Plex-Token":t}})).then((e=>s.signIn(e))).then((()=>{n&&n()})).fail((e=>{const t=(0,d.Z)(e);p.Z.trigger("show:alert",{message:(0,u.Z)(t)})}))}(e,{authToken:r,onSignInSuccess:s})}}},43666:(e,t,n)=>{"use strict";n.d(t,{Ol:()=>lt,U_:()=>qe,Bt:()=>dt,p7:()=>ze,Mi:()=>Ge,K2:()=>$e,Nt:()=>st,G_:()=>et,Tp:()=>Be,Dl:()=>tt,RY:()=>_e,xP:()=>at,ZQ:()=>We,bc:()=>ot,HL:()=>Ye,W1:()=>pt,Bl:()=>He,Dg:()=>Fe,jT:()=>ct,tJ:()=>rt,EN:()=>nt,dL:()=>Xe,fK:()=>gt,EL:()=>Ke,Y2:()=>Zt,Dy:()=>bt,zi:()=>ft,JY:()=>It,ay:()=>St,E8:()=>ht,Tz:()=>ut,mo:()=>Je,Xe:()=>vt,Z$:()=>yt,yA:()=>it,Dm:()=>mt,Nq:()=>Qe,Kq:()=>wt});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(93966),l=n(59756),c=n(5513),d=n(40807),u=n(33816),p=n(27940),m=n(4134),h=n(99317),g=n(32901),y=n(88050),v=n(96335),f=n(69605),b=n(77349);const S=[7,30,60,90];function I(e=0){return(0,b.Z)(Date.now(),S[e]||180)}var Z=n(32846),P=n(20023),E=n(96840);function M(e){return e.isCloud?"online":e.isFullOwnedServer?"owned":"shared"}function C(e){return e.isConnected?"online":"offline"}var w=n(66729);var D=n(70515),T=n(17575),O=n(86829),x=n(28440),A=n(27082),N=n(5562),k=n(84936),L=n(64033),j=n(43451),R=n(11491),V=n(80129),U=n.n(V),z=n(28496);const B=function(e,t){const n=e.server.getXHROptions(a().result(e,"url"),{method:"POST",dataType:"json",data:U().stringify({urls:t},{arrayFormat:"brackets"})||"urls="});return(0,z.Z)(i().ajax(n),400).then((t=>{e.reset(t)}),(e=>i().Deferred().reject(e.status&&e.responseJSON.errors||[]).promise()))};var _=n(517),F=n(43322),H=n(97189),W=n(58499),Q=Object.defineProperty,G=Object.prototype.hasOwnProperty,Y=Object.getOwnPropertySymbols,q=Object.prototype.propertyIsEnumerable,K=(e,t,n)=>t in e?Q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$=(e,t)=>{for(var n in t||(t={}))G.call(t,n)&&K(e,n,t[n]);if(Y)for(var n of Y(t))q.call(t,n)&&K(e,n,t[n]);return e};const X="user/changePreferredServer",J="user/fetchAllFriends",ee="user/populateAllFriends",te="user/fetchHomeUsers",ne="user/populateHomeUsers",re="user/fetchPlans",ie="user/populatePlans",se="user/updateUser",ae="user/clearUpdateUserError",oe="user/fetchWebhooks",le="user/addWebhook",ce="user/replaceWebhook",de="user/clearUpdateWebhookError",ue="user/removeWebhook",pe="user/startFirstRunExperience",me="user/endFirstRunExperience",he="user/fetchHomeDetails",ge="user/removeHomeUser",ye="user/removeFriend",ve="user/toggleGuestUser",fe="user/editHomeUserPIN",be="user/fetchInvites",Se="user/fetchSentInvites",Ie="user/acceptInvite",Ze="user/rejectInvite",Pe="user/cancelInvite",Ee="user/showNewHomeWarnings",Me="user/pinSources",Ce="user/unpinSources",we="user/setupSources",De="user/reorderPinnedSources",Te="user/updatePinnedSources",Oe="user/dismissUpsellModal",xe="user/saveSetting",Ae="user/syncSettings",Ne="user/syncExperienceSettings",ke="user/restoreDefaultExperienceSettings",Le="user/restoreCustomizationSettings",je="user/setTwoFactorEnabled",Re="user/setReminder",Ve="user/removeReminder",Ue="user/resetReminders",ze=(0,d.Z)(X),Be=(0,d.Z)(J),_e=(0,d.Z)(te),Fe=(0,d.Z)(ne),He=(0,d.Z)(ee),We=(0,d.Z)(re),Qe=((0,d.Z)(ie),(0,d.Z)(se)),Ge=(0,d.Z)(ae),Ye=(0,d.Z)(oe),qe=(0,d.Z)(le),Ke=(0,d.Z)(ce),$e=(0,d.Z)(de),Xe=(0,d.Z)(ue),Je=(0,d.Z)(pe),et=(0,d.Z)(me),tt=(0,d.Z)(he),nt=(0,d.Z)(ge),rt=(0,d.Z)(ye),it=(0,d.Z)(ve),st=(0,d.Z)(fe),at=(0,d.Z)(be),ot=(0,d.Z)(Se),lt=(0,d.Z)(Ie),ct=(0,d.Z)(Ze),dt=(0,d.Z)(Pe),ut=(0,d.Z)(Ee),pt=(0,d.Z)(Me),mt=(0,d.Z)(Ce),ht=(0,d.Z)(we),gt=(0,d.Z)(De),yt=((0,d.Z)(Te),(0,d.Z)(Oe),(0,d.Z)(xe),(0,d.Z)(Ae)),vt=(0,d.Z)(Ne),ft=(0,d.Z)(ke),bt=(0,d.Z)(Le),St=(0,d.Z)(je),It=(0,d.Z)(Re),Zt=((0,d.Z)(Ve),(0,d.Z)(Ue));function Pt(e,t){if(!e.get("isSignedIn")||!l.Z.allowSyncSettings)return i().Deferred().resolve().promise();const n=Array.isArray(t)?t:[t],r=k.Z.join("/api/v2/user/settings",{sharedSettings:(0,L.Z)(e)?1:0}),s=e.server.getXHROptions(r,{type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify({value:JSON.stringify(n)})});return i().ajax(s).promise()}function Et(e,t){if(!e)return null;const n=e.find((e=>e.id===t));return n&&n.updatedAt}function Mt(e){return e.get("user")}function Ct(e){return e.get("user").get("experienceSettings").get("sidebarSettings")}const wt={[m.gk]:m.Kq[m.gk],[m.FC]:m.Kq[m.FC],[m.xZ]:m.Kq[m.xZ],[m.tB]:m.Kq[m.tB],[m.Dz]:m.Kq[m.Dz],[m.PF]:m.Kq[m.PF],[m.k_](e){(0,A.c9)((()=>{e.get("user").set("lockState",F.Ik.Locked)}))},[X](e,t,n){const{machineIdentifier:r}=t;(function(e){return e.get("user").get("experienceSettings").get("homeSettings")})(e).set("preferredServerID",r),function(e,t){const n=e.get("user").get("experienceSettings").get("homeSettings");n.set("settingsKey",(0,h.Z)()),t((0,m.LN)({homeSettings:n}))}(e,n)},[J]:(0,u.Z)({key:"allFriends",getModel:Mt}),[ee]:(0,p.Z)({key:"allFriends",fetchActionCreator:Be,getModel:Mt}),[te]:(0,u.Z)({key:"homeUsers",getModel:x.bg}),[ne]:(0,u.Z)({key:"homeUsers",fetchActionCreator:_e,getModel:x.bg}),[re]:(0,u.Z)({key:"plans",getModel:x.bg}),[ie]:(0,p.Z)({key:"plans",fetchActionCreator:We,getModel:x.bg}),[ae](e){(0,x.bg)(e).set("updateUserError",null)},[se](e,t,n){const r=(0,x.bg)(e),s=e.get("user"),o=t,{avatar:l}=o,c=((e,t)=>{var n={};for(var r in e)G.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Y)for(var r of Y(e))t.indexOf(r)<0&&q.call(e,r)&&(n[r]=e[r]);return n})(o,["avatar"]);let d;if(r.set({isUpdatingUser:!0,updateUserError:null}),l)d=(0,R.Z)(l);else{const e=new window.FormData;a().each(c,((t,n)=>{e.append(n,t)}));const t=a().result(s,"url"),n=null!=c.experimentalFeatures?k.Z.join([t,"settings","experimental_features"],{opt_in:c.experimentalFeatures}):t,r=s.server.getXHROptions(n,{type:"PUT",processData:!1,contentType:!1,data:null!=c.experimentalFeatures?void 0:e});d=i().ajax(r)}d.done((e=>{!t.avatar&&s.get("hasPassword")||s.fetch();const n=a().reduce(t,((e,t,n)=>(s.hasAttr(n)&&(e[n]=t),e)),{});s.set(n),r.set({isUpdatingUser:!1,updateUserError:null})})).fail((e=>{const t=D.Z.parseXML(e.responseText),n=Array.isArray(t)&&t||(Array.isArray(t.error)?t.error:[t.error]),i=a().mapObject(a().groupBy(n,(e=>e&&e.field?e.field:"request")),((e,t)=>a().flatten(e)));r.set({isUpdatingUser:!1,updateUserError:i})}))},[oe]:(0,u.Z)({key:"webhooks",getModel:x.bg}),[le](e){const t=(0,x.bg)(e);t.get("webhooks").add({}),t.set("updateWebhooksError",null)},[ce](e,{oldUrl:t,newUrl:n}){const r=(0,x.bg)(e),i=r.get("webhooks");if(i.findWhere({url:t})){const e=i.map((e=>{const r=e.get("url");return r===t?n:r}));r.set({isUpdatingWebhooks:!0,updateWebhooksError:null}),B(i,e).always((()=>{r.set("isUpdatingWebhooks",!1)})).fail((e=>{r.set("updateWebhooksError",e[0])}))}},[de](e){(0,x.bg)(e).set("updateWebhooksError",null)},[ue](e,t){const n=(0,x.bg)(e),r=n.get("webhooks");if(!t){const e=r.filter((e=>e.get("url")!==t));return void r.reset(e)}n.set({isRemovingWebhooks:!0,updateWebhooksError:null});const i=r.map((e=>e.get("url"))).filter((e=>e!==t));B(r,i).always((()=>{n.set("isRemovingWebhooks",!1)})).fail((e=>{n.set("updateWebhooksError",e[0])}))},[pe](e,t={},n){window.setTimeout((()=>{n((0,c.c4)({replace:!0,pathname:"/client-setup"}))}),0)},[me](e,t,n){const{preferredServerEntityID:r}=t;if(r){!function(e,t=!0){(0,o.DB)("metrics").trackEvent({event:v.Ip,interaction:t,properties:{page:f.mU,action:y.ic,serverType:(0,w.Z)(e),status:C(e),firstRun:!0}})}((0,x.SW)(e,{serverEntityID:r}).toJSON(),t.preferredServerInteraction)}window.setTimeout((()=>{(0,H.Z)("home",{},!0)}),0)},[he](e){const t=(0,x.bg)(e),n=t.get("homeDetails");t.set("isHomeDetailsPending",!0),n.fetch().then((()=>{t.set({isHomeDetailsPending:!1,isHomeDetailsPopulated:!0,homeDetailsError:null})}),((e,n)=>{const r={isHomeDetailsPending:!1};404===n.status?(r.isHomeDetailsPopulated=!0,r.homeDetailsError=null):(r.isHomeDetailsPopulated=!1,r.homeDetailsError=n),t.set(r)}))},[ge](e,t,n){const r=e.get("user"),s=(0,x.bg)(e),a=s.get("homeUsers"),o=r.get("homeUsers"),l=r.get("allFriends"),c=(0,_.dH)(e,t),d=r.id===c.id;(0,A.c9)((()=>{c.set("isRemoving",!0)}));const u=c.server.getXHROptions(c.url(),{type:"DELETE"});i().ajax(u).then((()=>{const e=l.get(c.id);e?(c.get("restricted")?l.remove(e):e.set("home",!1),a.remove(c)):(a.reset([c]),c.set("admin",!0),l.each((e=>{e.set("home",!1)})));const t=!!r.get("pin")||a.length>1;if(r.set("home",t),!t){const e=s.get("homeDetails"),t=r.get("homeDetails");e.restoreDefaults(),t.restoreDefaults()}o.fetch(),c.set("isRemoving",!1)}),(()=>{n((0,g.wp)({type:"error",message:d?(0,N.Z)("There was a problem leaving this home."):(0,N.Z)("There was a problem removing this user.")})),c.set({isRemoving:!1})}))},[ye](e,t,n){const r=e.get("user"),s=(0,x.bg)(e),a=s.get("homeUsers"),o=r.get("allFriends"),l=r.get("homeUsers"),c=(0,_.KC)(e,t);(0,A.c9)((()=>{c.set("isRemoving",!0)}));const d=k.Z.join(["/api/v2/friends",c.id]),u=c.server.getXHROptions(d,{type:"DELETE"});i().ajax(u).then((()=>{const e=c.get("home");s.get("invites").fetch(),s.get("sentInvites").fetch(),e&&(a.fetch(),l.fetch()),c.get("serverShares").some((e=>!e.owned))&&Z.Z.trigger("discover:servers"),c.set({isRemoving:!1}),o.remove(c)}),(()=>{n((0,g.wp)({type:"error",message:(0,N.Z)("There was a problem removing this friend.")})),c.set({isRemoving:!1})}))},[ve](e,t,n){const r=e.get("user"),s=(0,x.bg)(e),a=r.get("homeSize"),o=s.get("homeDetails"),l=s.get("homeUsers"),c=r.get("allFriends"),d=r.get("homeDetails"),u=r.get("homeUsers"),p=!o.get("guestEnabled");o.set("isTogglingGuestUser",!0);const m=k.Z.join("/api/home",{guestEnabled:p?1:0}),h=p&&1===a,y=r.server.getXHROptions(m,{type:h?"POST":"PUT"});i().ajax(y).then((()=>{l.fetch(),c.fetch(),u.fetch(),p||2!==a?(d.set("guestEnabled",p),o.set({guestEnabled:p,isTogglingGuestUser:!1}),h&&r.set("home",!0)):(d.clear(),o.clear(),r.set("home",!1))}),(e=>{const t=p?(0,N.Z)("Unable to enable guest account"):(0,N.Z)("Unable to disable guest account"),r=(0,P.Z)(e,t,"status");n((0,g.wp)({type:"error",message:r})),o.set("isTogglingGuestUser",!1)}))},[fe](e,t){const n=(0,_.dH)(e,t),r=new W.Z({model:n,isEditing:!0});Z.Z.trigger("show:modal",r),r.promise.then((e=>{n.set("protected",!!e)}))},[be]:(0,u.Z)({key:"invites",getModel:x.bg}),[Se]:(0,u.Z)({key:"sentInvites",getModel:x.bg}),[Ie](e,t,n){const r=e.get("user"),s=(0,x.bg)(e),a=s.get("invites"),o=a.get(t.inviteID),l=s.get("homeUsers").get(r.id),c=r.get("homeUsers");o.set("isAccepting",!0);const d=l.get("protected");(o.get("home")&&!d?function(e){const t=new W.Z({model:e,isEditing:!0,isEditWarning:!0});return Z.Z.trigger("show:modal",t),(0,T.Z)(t.promise)}(l):i().Deferred().resolve().promise()).then((()=>o.save(null,{force:!0}))).then((()=>{a.remove(o),c.fetch(),n(_e()),n(Be()),n(ot()),o.get("server")&&Z.Z.trigger("discover:servers")}),(e=>{o.set("isAccepting",!1),n((0,g.wp)({type:"error",message:(0,N.Z)("There was a problem accepting this invite.")}))}))},[Ze](e,t,n){const r=(0,x.bg)(e).get("invites"),s=r.get(t.inviteID);s.set("isRemoving",!0);const a=s.server.getXHROptions(s.url(),{type:"DELETE"});i().ajax(a).then((()=>{r.remove(s),s.get("server")&&n(Be())}),(()=>{s.set("isRemoving",!1),n((0,g.wp)({type:"error",message:(0,N.Z)("There was a problem rejecting this invite.")}))}))},[Pe](e,t,n){const r=(0,x.bg)(e).get("sentInvites"),s=r.get(t.inviteID);s.set("isRemoving",!0);const a=s.server.getXHROptions(s.url(),{type:"DELETE"});i().ajax(a).then((()=>{r.remove(s),s.get("server")&&n(Be())}),(()=>{s.set("isRemoving",!1),n((0,g.wp)({type:"error",message:(0,N.Z)("There was a problem canceling this invite.")}))}))},[Ee](e,t,n){const r=e.get("user"),i=(0,x.bg)(e).get("homeUsers"),s=i.get(r.id);if(s.get("protected")||i.length>1)return;const a=new W.Z({model:s,isEditing:!0,isEditWarning:!0});Z.Z.trigger("show:modal",a)},[we](e,t,n){const r=Ct(e),i=r.get("pinnedSources"),{sources:s=[]}=t;r.get("hasCompletedSetup")||r.set("hasCompletedSetup",!0);const a=s.map(O.Z);i.reset(a),n((0,m.LN)({sidebarSettings:r})),a.forEach((e=>{(0,o.DB)("metrics").trackEvent({event:v.Ip,interaction:!0,identifier:e.providerIdentifier,properties:{page:f.VP,action:y.T5,type:e.sourceType,serverType:M(e),firstRun:!0}})}))},[Me](e,t,n){const r=Ct(e),i=r.get("pinnedSources"),{sources:s=[],interaction:a=!0}=t,l=s.map(O.Z);i.add(l),n((0,m.LN)({sidebarSettings:r})),l.forEach((e=>{(0,o.DB)("metrics").trackEvent({event:v.Ip,interaction:a,identifier:e.providerIdentifier,properties:{page:f.jy,action:y.T5,type:e.sourceType,serverType:M(e),firstRun:!1}})}))},[Ce](e,t,n){const r=Ct(e),i=r.get("pinnedSources"),{sources:s=[]}=t,a=s.map((e=>i.get(e.key)));i.remove(a),n((0,m.LN)({sidebarSettings:r})),s.forEach((e=>{(0,o.DB)("metrics").trackEvent({event:v.Ip,interaction:!0,identifier:e.providerIdentifier,properties:{page:f.jy,action:y.t6,type:e.sourceType,serverType:M(e),firstRun:!1}})}))},[De](e,t,n){const r=Ct(e),i=r.get("pinnedSources"),s=t.sourceKeys.map((e=>i.get(e)));i.reset(s),n((0,m.LN)({sidebarSettings:r})),(0,o.DB)("metrics").trackEvent({event:v.Ip,interaction:!0,properties:{page:f.jy,action:y.wC}})},[Te](e,t,n){const{sourceKeys:r,pinnedSourceAttrs:i}=t,s=Ct(e),a=s.get("pinnedSources");r.forEach((e=>{const t=a.get(e);t&&t.set(i)})),n((0,m.LN)({sidebarSettings:s}))},[Oe](e,t,n){const r=e.get("user").get("experienceSettings").get("dismissedUpsellModals"),{dismissedModal:i}=t;r.includes(i)||n((0,m.LN)({dismissedUpsellModals:[...r,i]}))},[xe](e,t,n){e.get("user").get("settings").get(t.id).set({value:t.value,isDirty:!0}),n(yt([t.id]))},[Ae](e,t){const n=e.get("user"),r=n.get("settings");Pt(n,t.map((e=>r.get(e).toJSON({syncedOnly:!0})))).then((e=>{t.forEach((t=>{const n=r.get(t),i=Et(e,t);i&&n.set({updatedAt:i,isDirty:!1})}))}))},[m.pL](e,t,n){e.get("user").get("experienceSettings").set($($({},t),{isDirty:!0})),n(vt())},[Ne](e){const t=e.get("user"),n=t.get("experienceSettings"),r=n.toJSON({excluded:["updatedAt"],syncedOnly:!0,excludeDefaults:!0});n.set({isSaving:!0,saveError:null}),Pt(t,{id:j.U,type:"json",value:JSON.stringify(r),hidden:!0}).then((e=>{const t=Et(e,j.U),r={isSaving:!1};t&&(r.updatedAt=t,r.isDirty=!1),n.set(r)}),(()=>{n.set({isSaving:!1,saveError:{message:(0,N.Z)("An error occurred while syncing settings")}})}))},[ke](e,t,n){const r=e.get("user").get("experienceSettings"),i={showAdvancedSettings:r.get("showAdvancedSettings"),isDirty:!0};r.restoreDefaults(i),n(vt())},[Le](e,t,n){const r=e.get("user").get("experienceSettings");r.set("autoHomeHubsEnabled",!0),r.get("homeSettings").restoreDefaults(),r.get("sidebarSettings").restoreDefaults(),n(vt())},[je](e,{twoFactorEnabled:t},n){e.get("user").set({twoFactorEnabled:t})},[Re](e,t,n){const r=e.get("user").get("experienceSettings"),{id:i,data:s}=t,a=r.get("reminders"),o=a.get(i),l=o?o.get("times")+1:0;a.add({data:s,id:i,times:l,remindAfter:I(l).toISOString()},{merge:!0}),n((0,m.LN)())},[Ve](e,t,n){e.get("user").get("experienceSettings").get("reminders").remove(t.id),n((0,m.LN)())},[Ue](e,t,n){const r=e.get("user").get("experienceSettings").get("reminders");(0,E.Z)(`[User] Removing ${r.length} reminders`),r.clear(),n((0,m.LN)())}}},58709:(e,t,n)=>{"use strict";n.d(t,{dB:()=>x,GX:()=>L,pS:()=>A,TN:()=>k,KU:()=>N,Yl:()=>R,Z7:()=>O,Uw:()=>j,VV:()=>U});var r=n(93966),i=n(95688),s=n(40807),a=n(19755),o=n.n(a),l=n(44516),c=n(16487);var d=n(47327),u=n(96335),p=n(17524),m=n(96840),h=n(86953),g=n(60316),y=n(5562),v=n(15042),f=n(29150),b=n(517),S=n(63178),I=n(13550);const Z="watchTogetherRooms/tryUpdateRooms",P="watchTogetherRooms/createRoom",E="watchTogetherRooms/inviteUsers",M="watchTogetherRooms/resetCreateRoom",C="watchTogetherRooms/populateMetadataItem",w="watchTogetherRooms/deleteRoom",D="watchTogetherRooms/roomsUpdated",T="watchTogetherRooms/updateRooms",O=((0,s.Z)("watchTogetherRooms/initialize"),(0,s.Z)(Z)),x=(0,s.Z)(P),A=(0,s.Z)(E),N=(0,s.Z)(M),k=(0,s.Z)(C),L=(0,s.Z)(w),j=(0,s.Z)(T),R=(0,s.Z)(D);function V(e){return e.get("ui").get("watchTogether")}const U={[Z](e,t,n){const i=(0,r.DB)("watchTogetherRoomsManager").getRoomsClient();!1===(null==i?void 0:i.isOpen)&&n(j())},[T](e,t,n){const i=(0,r.DB)("watchTogetherRoomsManager").getRoomsClient(),s=V(e);s.set({isRoomsPending:!0,isRoomsPopulated:!1}),i.rooms().then((e=>{n(R({rooms:e}))}),(e=>{m.Z.warn("[Watch Together] Unable to fetch rooms:",e),s.set({roomsError:(0,y.Z)("Unable to retrieve Watch Together rooms."),isRoomsPending:!1,isRoomsPopulated:!1})}))},[D](e,t,n){const r=V(e),i=r.get("rooms");i.set(t.rooms,{parse:!0}),r.set({isRoomsPending:!1,isRoomsPopulated:!0});const s=r.get("session");if(s){const e=i.get(s.get("roomID"));if(e){const t=e.get("users");s.get("users").forEach((e=>{const n=t.get(e.get("id"));!n||e.get("thumb")&&e.get("title")||e.set({thumb:e.get("thumb")||n.get("thumb"),title:e.get("title")||n.get("title")})}))}}},[P](e,t,n){const i=V(e),s=(0,b.$R)(e,t),a=s.get("sourceURI"),o=(0,I.Z)(s.toJSON()),{userIDs:l}=t,c=(0,r.DB)("watchTogetherRoomsManager").getRoomsClient();i.set({isInvitePending:!0,isInviteCompleted:!1,inviteError:null}),c.createRoom(a,o,l).then((e=>{(0,r.DB)("metrics").trackEvent({event:u.Iw,interaction:!0,properties:{itemCount:l.length+1,playbackSessionId:e}});const t=i.get("rooms").get(e);i.set({isInvitePending:!1,isInviteCompleted:!0}),t.set({isMetadataItemPending:!1,isMetadataItemPopulated:!0,metadataItem:s}),i.get("session")||n((0,f.ib)({watchTogetherRoomEntityID:t.entityID()}))})).catch((e=>{m.Z.warn("[Watch Together] An error occurred while creating a room:",e),i.set({isInvitePending:!1,inviteError:(0,y.Z)("Unable to send invite. Please try again.")})}))},[E](e,t){const n=V(e),i=(0,b.bT)(e,t),s=(0,r.DB)("watchTogetherRoomsManager").getRoomsClient();n.set({isInvitePending:!0,isInviteCompleted:!1,inviteError:null}),s.inviteUsers(i.get("id"),t.userIDs).then((()=>{n.set({isInvitePending:!1,isInviteCompleted:!0})})).catch((e=>{m.Z.warn("[Watch Together] An error occurred while inviting users:",e),n.set({isInvitePending:!1,inviteError:(0,y.Z)("Unable to send invite. Please try again.")})}))},[M](e){V(e).set({isInvitePending:!1,isInviteCompleted:!1,inviteError:null})},[C](e,t){const n=(0,b.bT)(e,t);if(n.get("isMetadataItemPopulated"))return;const r=n.get("sourceUri"),{key:s,serverIdentifier:a,providerIdentifier:u}=(0,g.Z)(r),m=(0,h.Z)({providerIdentifier:u,serverIdentifier:a}),f=function(e,t){const{key:n,providerIdentifier:r,serverIdentifier:i}=(0,g.Z)(t),s=e.get("entities").get(v.TY).findWhere((e=>{const t=null==e?void 0:e.get("model");return t&&t.server&&t.provider&&t.server.get("machineIdentifier")===i&&t.provider.get("identifier")===r&&t.get("key")===n}));return null==s?void 0:s.get("model")}(e,r);let I;if(n.set({isMetadataItemPending:!0,metadataItemError:null}),f)I=Promise.resolve(f);else{const t=e.get("servers").findWhere({machineIdentifier:a}),n=(null==t?void 0:t.get("isCloud"))?(0,b.VX)(e):t;I=n?(0,S.Z)((Z=n.get("providers"),P={identifier:u},function(e,t){return e.findWhere(t)?o().Deferred().resolve(e).promise():(0,l.Z)({eventSource:e,events:["add"],predicate:()=>!!e.findWhere(t)})}(Z,P).then((e=>(0,c.Z)(e.findWhere(P))),(()=>o().Deferred().reject().promise())))).then((e=>{const n=new i.Z({key:s,source:m},{server:t,provider:e});return(0,S.Z)((0,d.Z)(n)).then((()=>n))})):Promise.reject(new Error("Cannot populate from unknown server"))}var Z,P;I.then((e=>{const t=!e.get("key")&&p.wB(u,[p.uk])?{isMetadataItemPending:!1,isMetadataItemPopulated:!1,metadataItemError:(0,y.Z)("This item is not available in your region.")}:{isMetadataItemPending:!1,isMetadataItemPopulated:!0,metadataItem:e};n.set(t)}),(e=>{const t=null==e?void 0:e.server,r=(null==t?void 0:t.get("isConnected"))||(null==t?void 0:t.get("isUnauthorized"))?(0,y.Z)("You don’t have access to this item. Ask the owner to share it with you."):(0,y.Z)("The server is unreachable.");n.set({isMetadataItemPending:!1,isMetadataItemPopulated:!1,metadataItemError:r})}))},[w](e,t){const n=(0,b.bT)(e,t);(0,r.DB)("watchTogetherRoomsManager").getRoomsClient().deleteRoom(n.get("id")).catch((e=>{m.Z.warn("[Watch Together] An error occurred while deleting a room:",e)}))}}},76490:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(22222),i=n(13469),s=n.n(i),a=n(96516),o=n(9481),l=n(69843),c=n(57778);function d(){return(0,a.Z)((0,r.P1)(c.Z,(0,l.Z)(),((e,t)=>{const n=t?t.channels:e.selectedDevice.channels,r=t?t.channelMappings:e.channelMappings,i=e.lineupChannels,a=s().pluck(n,"key"),l=s().pluck(r,"deviceIdentifier"),c=a.concat(l);return s().uniq(c).map((e=>{const t=s().find(n,{key:e}),a=s().findWhere(r,{deviceIdentifier:e}),o=i.find((e=>a&&e.key&&e.key===a.channelKey||a&&e.identifier&&e.identifier===a.lineupIdentifier)),{name:l="",identifier:c="",drm:d=!1,signalStrength:u,signalQuality:p,hd:m=!1}=t||{};return{key:e,name:l,deviceIdentifier:c,enabled:!(!t||d||!a||!a.enabled),drm:d,isChannelMissing:!t,channelKey:a&&a.channelKey||o&&o.key,lineupIdentifier:a&&a.lineupIdentifier||o&&o.identifier,signalStrength:u,signalQuality:p,isDeviceChannelHD:m,isLineupChannelHD:!!o&&o.hd}})).sort(((e,t)=>(0,o.Z)(e.deviceIdentifier,t.deviceIdentifier)))})),(e=>e))}},8179:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(22222),i=n(13469),s=n.n(i),a=n(77414),o=n(72759),l=n(57778);const c=function(){return(0,r.P1)(((e,{deviceID:t})=>t),(0,a.Z)(),l.Z,((e,t,n)=>{const r=n.selectedDevice&&n.selectedDevice.key;return s().find(t,(t=>t.type===o.RG&&parseInt(t.Context.deviceID,10)===(e||r)))}))}},69843:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(22222),i=n(13469),s=n.n(i),a=n(59929);const o=function(){return(0,r.P1)(((e,{deviceID:t})=>t),(0,a.Z)(),((e,t)=>{if(t)return s().find(t.devices,{key:e})}))}},59929:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(13469),s=n.n(i);const a=function(){return(0,r.P1)((e=>e.ui.dvrSettingsUI),((e,{dvrID:t})=>t),((e,t)=>{const n=e.dvrs;return s().find(n,{key:t})}))}},45098:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(22222),i=n(13469),s=n.n(i),a=n(77414),o=n(72759),l=n(57778);const c=function(){return(0,r.P1)(((e,{dvrID:t})=>t),(0,a.Z)(),l.Z,((e,t,n)=>e?s().find(t,(t=>t.type===o.JW&&parseInt(t.Context.dvrID,10)===e)):s().find(t,{uuid:n.epgDownloadActivityID})))}},94373:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){const t=`${e.identifier} ${e.callSign}`;return e.title?`${t} (${e.title})`:t}},57778:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(22222).P1)((e=>e.ui.dvrSettingsUI),(e=>e.dvrSetup))},47066:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(22222),i=n(96516),s=n(9481),a=n(5562),o=n(94373),l=n(34249);const c=(0,r.P1)(l.Z,(e=>e.slice().sort(((e,t)=>(0,s.Z)(e.identifier,t.identifier))).reduce(((e,t)=>{const n=(0,o.Z)(t),r=JSON.stringify({channelKey:t.key,lineupIdentifier:t.identifier});return e.concat({[r]:n})}),[{"":(0,a.Z)("Select Channel")}]))),d=(0,i.Z)(c,(e=>e))},34249:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(57778);const s=(0,r.P1)(i.Z,(e=>e.lineupChannels))},3568:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(22222),i=n(81017),s=n(757),a=n(50316),o=n(57358),l=n(72181);function c(){return(0,r.P1)((0,i.Z)(),a.Z,s.Z,o.Z,((e,t,n,r)=>(0,l.ZP)({server:t,provider:n,stableUser:r,metadataItem:e})))}},63210:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(22222),i=n(81017),s=n(757),a=n(50316),o=n(69881),l=n(52601),c=n(61478),d=n(6638);function u(){return(0,r.P1)(((e,{containerKey:t})=>t),((e,{containerTitle:t})=>t),((e,{metricsContext:t})=>t),(0,i.Z)(),a.Z,s.Z,(0,r.P1)((0,i.Z)(),(e=>{if(e&&!e.skipDetails&&!e.isExtra&&!e.radio&&e.type!==o.PHOTO&&e.type!==o.CLIP)return e.type===o.TRACK&&e.subtype!==c.PODCAST?e.skipParent?e.grandparentKey:e.parentKey:e.key})),((e,t,n,r={},i,s,a)=>{if(r.isFolder){const i=e.match(/(.*?)\/folder/)[1],s={key:`${i}/all`,typeKey:`${i}/folder`,folderKey:a,folderTitle:r.title,parentFolderKey:e,parentFolderTitle:t};return n&&(s.context=n),(0,l.Z)(s)}const c={};return n&&(c.context=n),r.type===o.PHOTO_ALBUM&&(c.legacy=1),(0,d.Z)(i,s,a,c,r.playlistType)}))}},97911:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(22222),i=n(81017),s=n(55175),a=n(98313);function o(){return(0,r.P1)((0,i.Z)(),s.Z,((e,t)=>!!e&&(0,a.Z)(t,e.ratingKey)))}},52265:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(22222),i=n(81017),s=n(69881),a=n(48022);function o(){return(0,r.P1)(((e,{listType:t})=>t),(0,i.Z)(),((e,t={})=>{const n=t.type;if(n){if(n===s.PLAYLIST)return s.PLAYLIST;if(n===s.COLLECTION)return s.COLLECTION;if(e===a.pV)return s.PHOTO;{const e=s.getLeafType(n);return e&&e.mediaType}}}))}},55175:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(22222),i=n(13469),s=n.n(i),a=n(53181);let o;const l=(0,r.P1)(a.Z,(e=>{const t=s().pluck(e.activeSelectionItems,"id");return o&&s().isEqual(o,t)?o:(o=t,t)}))},53181:(e,t,n)=>{"use strict";function r(e){return e.ui.multiSelect}n.d(t,{Z:()=>r})},51021:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(34082);const s=(0,r.P1)(i.Z,(e=>e?e.desktop.activities:[]));function a(e){return(0,r.P1)(s,(t=>t.filter((t=>t.type===e))))}},12272:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(45992);function s(){return(0,r.P1)(((e,{serverEntityID:t})=>t),i.Z,((e,t)=>!(!e||e!==t)))}},96392:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(74995);function s(){return(0,r.P1)((0,i.Z)(),(e=>e.v4.core.serverNowPlayingSessions),((e,t)=>{var n;if(!e)return 0;const r=t[e.machineIdentifier],i=null==r?void 0:r.sessionKeys;return null!=(n=null==i?void 0:i.length)?n:0}))}},45992:(e,t,n)=>{"use strict";function r(e){return e.embeddedServer}n.d(t,{Z:()=>r})},34082:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(22222),i=n(72194),s=n(4524),a=n(45992);const o=(0,i.Z)((0,r.P1)(a.Z,s.Z,((e,t)=>t[e])),(e=>e))},3967:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(77726);const s=(0,r.P1)(i.Z,(e=>e.dismissedUnclaimedServers))},48903:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(59468);const s=(0,r.P1)(i.Z,(e=>e.timeFormat))},23901:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(77726),s=n(91453);const a=(0,r.P1)(i.Z,(e=>s.Z&&!e.hasDismissedInsecureHostedAppWarning))},18873:(e,t,n)=>{"use strict";function r(e){return/^[a-z]:\\|\\\\/i.test(e)&&(e=e.replace(/\\/g,"/")),/^(\/|[a-z]:\/)/i.test(e)&&(e=e.replace(/\/(.+?)(?=\/|$)/g,((e,t)=>`/${encodeURIComponent(t)}`))),"/"===e.charAt(0)&&(e=e.substring(1)),/^[a-z]+?:\/\//i.test(e)&&(e=encodeURIComponent(e)),e}n.d(t,{Z:()=>r})},44981:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});const r="auto"},70394:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r={PRODUCTION:"9AC194DC",QA:"4289C4E0",NINJA:"EB90125F",CUSTOM:"custom"};r.settings=[{value:r.PRODUCTION,title:"Production"},{value:r.QA,title:"QA"},{value:r.NINJA,title:"Ninja"},{value:r.CUSTOM,title:"Custom"}];const i=r},15041:(e,t,n)=>{"use strict";n.d(t,{I:()=>r,n:()=>i});const r="machineIdentifier",i="sectionID"},72936:(e,t,n)=>{"use strict";n.d(t,{yV:()=>r,vz:()=>i,Yz:()=>s,od:()=>a,ap:()=>o,uh:()=>l,pp:()=>c,ID:()=>d,xq:()=>u,XA:()=>p});const r="account",i="download-button",s="downloads-page",a="dvr-setup",o="lyrics",l="nav-bar",c="server-setup",d="sonos",u="users-and-sharing",p="webhooks"},2078:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(59756),i=n(45399),s=n(69881);function a(e,t,n,a){if(!(e&&t&&n&&a))return!1;const{type:o,hasInvalidKey:l,deletedAt:c,isFolder:d,isMetadataList:u,firstItemType:p,dvrChannel:m,onAir:h}=a;if(!u&&(l||c||d))return!1;if(!(m||u||t.protocols.stream||h))return!1;if(u&&!p)return!1;const g=!!n[i.Ks];if(t.protocols.livetv&&(e.livetv<4||!g))return!1;if(t.protocols.livetv&&!r.Z.allowLiveTVPlayback)return!1;if(t.features.playqueue)return!0;const y=u?p:o,v=(0,s.getLeafType)(y),f=(0,s.getChildType)(y);return y===v.typeString||f.id===v.id}},48854:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(5562),i=n(44981);function s(e){var t;const{name:n,description:s}=(null==(t=e.toJSON)?void 0:t.call(e))||e;return n===i.B?(0,r.Z)("Auto select device"):s}},94141:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(41720),i=n(29124);const s=function(){return(0,r.Z)()||(0,i.Z)()}},13001:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FRIEND:()=>r.vO,HOME_USER:()=>r.Tl,HUB:()=>r.km,LIBRARY:()=>r.Y3,LIVE_TV_SESSION:()=>r.RP,MEDIA_SUBSCRIPTION:()=>r.PK,METADATA_ITEM:()=>r.TY,METADATA_LIST:()=>r.$4,PLAYLIST_ITEM:()=>r.gO,PLAY_QUEUE_ITEM:()=>r.PI,PROVIDER:()=>r.MC,RESOURCE:()=>r.YI,SEARCH_RESULT:()=>r.Re,SERVER:()=>r.cN,TRANSCODE_JOBS:()=>r.PC,USER:()=>r.xR,WATCH_TOGETHER_ROOM:()=>r.r8,BACKGROUND_TRANSCODE_JOBS:()=>i,SYNC_METADATA_ITEM:()=>s});var r=n(15042);const i="backgroundTranscodeJobs",s="syncMetadataItems"},517:(e,t,n)=>{"use strict";n.d(t,{KC:()=>s.KC,$R:()=>s.$R,lK:()=>s.lK,Tp:()=>s.Tp,js:()=>s.js,c_:()=>s.c_,Y7:()=>s.Y7,SW:()=>s.SW,bg:()=>s.bg,VX:()=>s.VX,bT:()=>s.bT,tz:()=>s.tz,lp:()=>s.lp,$w:()=>s.$w,dH:()=>a,cX:()=>o});var r=n(87048),i=n(15042),s=n(28440);function a(e,{homeUserEntityID:t}){return(0,r.Z)(e,i.Tl,t)}function o(e,{playerIdentifier:t}){const n=e.get("user").get("desktop").get("cloudCompanions");for(const e of n.models){const n=e.get("cloudPlayers").findWhere({playerIdentifier:t});if(n)return n}return e.get("companionServer").get("desktop").get("players").findWhere({playerIdentifier:t})}},94114:(e,t,n)=>{"use strict";n.d(t,{u:()=>pV,Z:()=>gV});var r={};n.r(r),n.d(r,{CENTER:()=>Av,EAST:()=>Cv,NORTH:()=>Ev,NORTHEAST:()=>Mv,NORTHWEST:()=>xv,SOUTH:()=>Dv,SOUTHEAST:()=>wv,SOUTHWEST:()=>Tv,WEST:()=>Ov});var i=n(67294),s=n(89969),a=n(62859),o=n(22222),l=n(59756),c=n(2375),d=n(69605),u=n(52837),p=n(47479),m=n(86017),h=n(74309),g=n(2200),y=n(24906),v=n(87205),f=n(68809),b=n(7203),S=n(45593);const I=(0,o.P1)(S.Z,(e=>e.lockState));var Z=n(43322),P=n(93966),E=n(5562),M=n(86035),C=(n(24974),n(44719),n(95368)),w=n(79932);class D extends i.Component{constructor(e,t){super(e,t),this.fadeOut=()=>{const{currentThemeMusicUrl:e}=this.state;e&&this.props.volume>0?(this.fadeOutStartMilliseconds||(this.fadeOutStartMilliseconds=Date.now()),this.setState(this.updateFrameState)):this.reset()},this.updateFrameState=e=>{const t=e.relativeVolume;let n=-t*(Date.now()-this.fadeOutStartMilliseconds)/2e3+t;return n=Math.max(0,n),n&&(this.fadeOutTimeoutID=window.setTimeout(this.fadeOut,100)),{volume:n}},this.onDurationMillisecondsChange=e=>{this._currentDurationMilliseconds=e},this.onPositionMillisecondsChange=e=>{const t=Math.floor(e/1e3),n=this.state.shouldStopOnEnd?0:2e3;this.state.positionSeconds!==t&&this.setState({positionSeconds:t}),this._currentDurationMilliseconds-e<=n&&!this.fadeOutTimeoutID&&this.endThemeMusic()},this.onEnd=()=>{this.reset()},this.onMetricsPlayerChange=()=>{},this.state=this.getInitialStateFromProps(e)}UNSAFE_componentWillReceiveProps(e){const{volume:t,themeMusicUrl:n}=this.props,{volume:r,themeMusicUrl:i}=e;if(t!==r){const e={relativeVolume:this.getRelativeVolume(r)};this.fadeOutTimeoutID||(e.volume=e.relativeVolume),this.setState(e)}n!==i&&(i?this.reset(i):this.fadeOutTimeoutID||this.endThemeMusic())}componentWillUnmount(){this.reset()}getRelativeVolume(e){return.5*e}getInitialStateFromProps({currentThemeMusicUrl:e,volume:t}){const n=this.getRelativeVolume(t);return{currentThemeMusicUrl:e,relativeVolume:n,volume:n,positionSeconds:0,shouldStopOnEnd:l.Z.shouldStopThemeMusicOnNavigate}}reset(e){this.fadeOutTimeoutID=window.clearTimeout(this.fadeOutTimeoutID),this.fadeOutStartMilliseconds=null,this.setState(this.getInitialStateFromProps({currentThemeMusicUrl:e,volume:this.props.volume}))}endThemeMusic(){if(this.state.shouldStopOnEnd){const{dispatchEndPlayback:e,playerType:t}=this.props;e({playerType:t}),this.reset()}else this.fadeOut()}render(){const{currentThemeMusicUrl:e,positionSeconds:t,volume:n}=this.state;if(!e)return null;const{component:r,playerType:s}=this.props;return i.createElement(r,{key:e,mediaType:"audio",isBackgroundMedia:!0,isThemeMusic:!0,src:e,playerType:s,positionSeconds:t,volume:n,allowRecycleElement:!0,onDurationMillisecondsChange:this.onDurationMillisecondsChange,onPositionMillisecondsChange:this.onPositionMillisecondsChange,onMetricsPlayerChange:this.onMetricsPlayerChange,onEnd:this.onEnd})}}const T=D;var O=Object.defineProperty,x=Object.prototype.hasOwnProperty,A=Object.getOwnPropertySymbols,N=Object.prototype.propertyIsEnumerable,k=(e,t,n)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const L={dispatchEndPlayback:w.Mh};class j extends i.Component{shouldComponentUpdate(e){const{volume:t,themeMusicUrl:n,isPlayerOpen:r}=this.props;return e.volume!==t||e.themeMusicUrl!==n||e.isPlayerOpen!==r||!e.isBackgroundPending}render(){const e=this.props,{isBackgroundPending:t,isPlayerOpen:n}=e,r=((e,t)=>{var n={};for(var r in e)x.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&A)for(var r of A(e))t.indexOf(r)<0&&N.call(e,r)&&(n[r]=e[r]);return n})(e,["isBackgroundPending","isPlayerOpen"]);return n?null:i.createElement(T,((e,t)=>{for(var n in t||(t={}))x.call(t,n)&&k(e,n,t[n]);if(A)for(var n of A(t))N.call(t,n)&&k(e,n,t[n]);return e})({},r))}}j.defaultProps={playerType:u.Se};const R=(0,s.$j)((function(){return(0,o.P1)((0,P.DB)("selectLocalVolume"),(e=>e.ui.background),(e=>e.ui.audioVideoPlayer.isOpen),((e,t,n)=>({volume:e,isBackgroundPending:t.isBackgroundPending,themeMusicUrl:t.themeMusicUrl,component:(0,P.DB)("mediaComponent").getComponent({protocol:"http",isDirectPlay:!0}),isPlayerOpen:n})))}),L)(j);var V=n(36996),U=n(76486),z=n(46865),B=n(57159),_=n(37568),F=n(47636),H=n(57614),W=Object.defineProperty,Q=Object.prototype.hasOwnProperty,G=Object.getOwnPropertySymbols,Y=Object.prototype.propertyIsEnumerable,q=(e,t,n)=>t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K=(e,t)=>{for(var n in t||(t={}))Q.call(t,n)&&q(e,n,t[n]);if(G)for(var n of G(t))Y.call(t,n)&&q(e,n,t[n]);return e};const $=640,X={position:"absolute",width:"100%",height:"100%"},J=K(K({},X),{background:`url(${U})`,zIndex:2}),ee={opacity:10,background:"343a3f"},te=K(K({},ee),{opacity:25,format:"png"});class ne extends i.Component{shouldComponentUpdate(e,t){return(0,F.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,url:n,allowPreset:r,allowLightPreset:s,allowBlur:a}=this.props,o=window.innerWidth,l=window.innerHeight,c=a?te:ee;let d,u,p,m;if(a){const e=o/l;d=e>1?$:$*e,u=e>1?$/e:$;const t=Math.max(o/d,l/u);p=Math.round(100/t)}else d=Math.min(window.innerWidth,1920),u=Math.min(window.innerHeight,1080);return!n&&r&&(m=s?B:z),i.createElement("div",null,i.createElement(H.Z,{serverEntityID:e,providerEntityID:t,url:n,emptySrc:m,width:d,height:u,upscale:a,containerStyle:X,filters:m?null:K(K({},c),{blur:p}),allowPixelRatioSize:!1,component:_.Z}),i.createElement("div",{style:J}))}}ne.defaultProps={allowBlur:!0};const re=ne,ie=(0,o.P1)((e=>e.ui.background),(e=>({serverEntityID:e.server,providerEntityID:e.provider,url:e.imageUrl,allowBlur:e.allowBlur,isBackgroundPending:e.isBackgroundPending})));class se extends i.Component{shouldComponentUpdate(e){return!e.isBackgroundPending}render(){const{serverEntityID:e,providerEntityID:t,url:n,allowLightPreset:r,allowBlur:s}=this.props;return i.createElement(re,{serverEntityID:e,providerEntityID:t,url:n,allowPreset:!0,allowLightPreset:r,allowBlur:s})}}const ae=(0,s.$j)((e=>ie))(se);var oe=n(63800);function le(){!function(){const e=(0,s.I0)(),t=(0,a.TH)(),n=!!(0,a.$B)({path:V.Z.prePlay,exact:!0});(0,i.useEffect)((()=>{e((0,oe.HF)({isBackgroundPending:n}))}),[t,n,e])}();const e=!!(0,a.$B)({path:[...V.Z.home,V.Z.downloads,V.Z.firstRunExperience,V.Z.media,V.Z.search],exact:!0});return i.createElement("div",{className:"FullPageBackground-backgroundContainer-3pQGmT"},i.createElement(ae,{allowLightPreset:e}),i.createElement(R,null))}var ce,de,ue=n(80974),pe=n(39374),me=n(58709),he=n(87684),ge=n(19595);(de=ce||(ce={})).Auto="auto",de.Custom="custom";var ye=n(25221),ve=n(55669),fe=n(57138),be=n(47124),Se=n(89328);const Ie=(0,o.P1)(S.Z,(e=>!e.isFullUser)),Ze=(0,o.P1)(S.Z,(e=>e.services));var Pe=n(2098),Ee=n(1392),Me=n(12415),Ce=n(10692),we=n(41538),De=n(18641),Te=n(31235),Oe=n(55588),xe=n(14492),Ae=n(75212),Ne=n(18198),ke=n(98501);const Le=(0,o.P1)(ke.Z,(e=>e.metadataLists));var je=n(95088),Re=n(26636),Ve=n(45224),Ue=n(98727),ze=n(17524),Be=n(83154),_e=n(45399),Fe=n(86953),He=n(87803),We=n(47192),Qe=n(51493),Ge=n(77927);const Ye=(0,o.P1)((0,Ge.Z)("sidebarSettings"),(e=>e)),qe=(0,o.P1)(Ye,(e=>e.pinnedSources)),Ke=(0,o.P1)(qe,(e=>e.filter((e=>!e.isHidden)))),$e={type:Re.zW.ContinueWatching,key:Be.O},Xe=(0,o.P1)(Ke,We.Z,Ue.Z,(0,Qe.Z)(_e.eT),((e,t,n,r)=>{const i=[],s=[],a={},o={};for(let t=0;t<e.length;t++){const{machineIdentifier:n,providerIdentifier:r,directoryID:i}=e[t],s=(0,Fe.Z)({serverIdentifier:n,providerIdentifier:r});o[s]||(o[s]=[]),o[s].push(i)}for(let l=0;l<e.length;l++){const{machineIdentifier:c,providerIdentifier:d,directoryID:u}=e[l],p=(0,Fe.Z)({serverIdentifier:c,providerIdentifier:d}),m=t.find((e=>e.machineIdentifier===c)),h=m?(0,Ve.q)({identifier:d,serverEntityID:m.entityID}):void 0,g=h?n[h]:void 0,y=`${p}/continueWatching`,v=`${p}/${u}/promoted`;let f=g?(0,He.Z)(g,Re.zW.ContinueWatching):void 0;!r&&ze.wB(null==g?void 0:g.identifier,ze.Y3)&&(f=$e);const b=g?(0,He.Z)(g,Re.zW.Promoted):void 0;(null==g?void 0:g.isPopulated)&&!f||a[p]||(a[p]=!0,i.push({key:y,source:p,contentDirectoryID:o[p],server:m,provider:g,feature:f})),(null==g?void 0:g.isPopulated)&&!b||s.push({key:v,source:p,contentDirectoryID:[u],pinnedContentDirectoryID:o[p],server:m,provider:g,feature:b})}return i.concat(s)})),Je=(0,o.P1)(Xe,(e=>e.filter((e=>{var t;return null!=e.server&&null!=e.provider&&(null==(t=e.feature)?void 0:t.type)===Re.zW.ContinueWatching}))));var et=n(49228);const tt=(0,o.P1)(et.Z,(e=>e.home)),nt=(0,o.P1)(tt,(e=>e.hubsListsByKey)),rt=(0,o.P1)(Je,nt,Le,Ne.Z,((e,t,n,r)=>{const i={};for(let s=0,a=e.length;s<a;s++){const a=e[s],o=t[a.key];if(!(null==o?void 0:o.isPopulated))continue;const l=o.hubs.find((({hubIdentifier:e})=>e!==je.F.OnDeck));if(!l)continue;const c=n[l.sourceURI],d=c.items.map((({sourceURI:e})=>r[e]));i[a.source]={hubsSource:a,hub:l,metadataList:c,metadataListItemState:d}}return i})),it=(0,o.P1)(rt,(e=>{const t=Object.values(e).reduce(((e,{metadataList:t,metadataListItemState:n})=>e.concat(t.items.reduce(((e,t,r)=>{const i=n[r];return i&&e.push({metadataItem:t,metadataItemState:i}),e}),[]))),[]);return t.sort(((e,t)=>{var n,r,i,s;const a=e.metadataItem,o=t.metadataItem,l=e.metadataItemState,c=t.metadataItemState,d=null!=(r=null!=(n=null==a?void 0:a.includedAt)?n:null==l?void 0:l.lastViewedAt)?r:0;return(null!=(s=null!=(i=null==o?void 0:o.includedAt)?i:null==c?void 0:c.lastViewedAt)?s:0)-d})),t.map((({metadataItem:t})=>{const{hubsSource:n,hub:r}=e[t.source];return{listItemKey:t.sourceURI,hub:r,hubsSource:n,metadataItem:t}}))})),st=(0,o.P1)(rt,(e=>Object.values(e).filter((e=>{const{hub:t}=e;return t.isStale}))));var at=Object.defineProperty,ot=Object.prototype.hasOwnProperty,lt=Object.getOwnPropertySymbols,ct=Object.prototype.propertyIsEnumerable,dt=(e,t,n)=>t in e?at(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ut=(e,t)=>{for(var n in t||(t={}))ot.call(t,n)&&dt(e,n,t[n]);if(lt)for(var n of lt(t))ct.call(t,n)&&dt(e,n,t[n]);return e};function pt(){return i.createElement(Oe.Z,null,(0,E.Z)("Continue Watching"))}const mt=(0,i.memo)((function({metricsRow:e=0}){const t=(0,s.I0)(),n=(0,s.v9)(it),r=(0,s.v9)(st),a=(0,i.useMemo)((()=>({type:we.U.Mixed,more:!1,initialSize:n.length,isStale:!1,size:n.length,key:"",hubIdentifier:"",source:"",sourceURI:"",title:""})),[n]),o=(0,i.useMemo)((()=>[{imageType:Pe.IY.CoverPoster,type:we.U.Mixed}]),[]),l=(0,s.v9)(Ae.Z),c=(0,i.useMemo)((()=>n.reduce(((e,t)=>{var n,r,i;return Math.max(e,null!=(i=null==(r=null==(n=t.hub.Meta)?void 0:n.DisplayFields)?void 0:r.reduce(((e,{fields:t})=>Math.max(e,t.length)),0))?i:0)}),0)),[n]),d=(0,i.useMemo)((()=>(0,De.Z)({listType:we.U.Mixed,listStyle:we.n.List,columnWidth:l,titleCount:c})),[l,c]);(0,i.useEffect)((()=>{r.forEach((({hub:e,hubsSource:n})=>{t(Ce.Z.actions.throttledRepopulateRequested({server:n.server,provider:n.provider,sourceURI:e.sourceURI}))}))}),[t,r]);const u=(0,i.useMemo)((()=>t=>{var n,r,s;if(!t.item)return i.createElement(i.Fragment,null);const{metadataItem:a,hub:l,hubsSource:c}=t.item;return i.createElement(g.ZP,{key:t.key,name:l.context,row:e,column:t.cellIndex},i.createElement(Te.ZP,{machineIdentifier:null==(n=c.server)?void 0:n.machineIdentifier,providerIdentifier:null==(r=c.provider)?void 0:r.identifier},i.createElement(Me.ZP,{containerServer:c.server,containerProvider:c.provider,containerSourceURI:l.sourceURI,containerKey:l.key,containerType:we.U.Mixed,containerMeta:{DisplayFields:null==(s=l.Meta)?void 0:s.DisplayFields,DisplayImage:o},listStyle:we.n.Hero},i.createElement(Ee.Z,ut(ut({},t),{item:a})))))}),[o,e]);return i.createElement(xe.Z,{hub:a,hubTitleComponent:pt,keyPropName:"listItemKey",items:n,totalSize:n.length,layout:d,cellComponentFactory:u})}));var ht=n(65034);const gt=(0,o.P1)((0,Qe.Z)(_e.eT),it,((e,t)=>e&&!!t.length)),yt=(0,o.P1)(S.Z,(e=>e.providers)),vt=(0,o.P1)(yt,Ue.Z,((e,t)=>e.map((e=>t[e])))),ft=(0,o.P1)(We.Z,vt,((e,t)=>e.some((e=>!e.isCloud&&!e.isUnauthorized))||t.some((e=>e.features.find((e=>e.type===Re.zW.Content))))));var bt=n(99449);const St=e=>e.ui.watchTogether,It=(0,o.P1)(bt.Z,St,((e,t)=>t.rooms.map((t=>e[t])))),Zt=(0,o.P1)(It,(e=>!!e.length));var Pt=n(96516),Et=Object.defineProperty,Mt=Object.prototype.hasOwnProperty,Ct=Object.getOwnPropertySymbols,wt=Object.prototype.propertyIsEnumerable,Dt=(e,t,n)=>t in e?Et(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tt=(e,t)=>{for(var n in t||(t={}))Mt.call(t,n)&&Dt(e,n,t[n]);if(Ct)for(var n of Ct(t))wt.call(t,n)&&Dt(e,n,t[n]);return e};const Ot={key:"",contentDirectoryID:[],isPending:!1,isSourceReady:!1,isSourceMissing:!1,isSourceUnavailable:!1,isSourceError:!1,isListPending:!1,isListPopulated:!1,isListEmpty:!1,isListError:!1},xt=(0,o.P1)((e=>e.isWaitingForServers),(e=>e.user.isProvidersPopulated),(e=>e.user.providersError),tt,Xe,((e,t,n,r,i)=>i.map((({key:i,server:s,provider:a})=>{if(!s)return Tt(Tt({},Ot),{key:i,isPending:e,isSourceMissing:!0});const o=Tt(Tt({},Ot),{key:i});if(o.isSourceUnavailable=s.isUnavailable,o.isSourceError=s.isUnauthorized||!!(null==a?void 0:a.error),a){o.isSourceReady=s.isConnected&&a.isPopulated;const e=r.hubsListsByKey[i];e?(o.contentDirectoryID=Array.from(e.contentDirectoryID),e.pinnedContentDirectoryID&&(o.pinnedContentDirectoryID=Array.from(e.pinnedContentDirectoryID)),o.isPending=o.isSourceReady&&!e.isPopulated&&!e.error,o.isListPending=e.isPending,o.isListPopulated=e.isPopulated,o.isListError=!!e.error,o.isListEmpty=e.isPopulated&&(!e.hubs.length||e.hubs.every((e=>!e.initialSize&&!e.more)))):o.isPending=!o.isSourceUnavailable&&!o.isSourceError}else o.isSourceMissing=!0,s.isConnected?o.isPending=!!s.isCloud&&!t&&!n:o.isPending=!s.isUnavailable&&!s.isUnauthorized;return o})))),At=(0,o.P1)(xt,(e=>{const t=[];let n=0;for(;e[n];){const r=e[n];if(r.isPending)break;r.isListPopulated&&!r.isListEmpty&&t.push(r.key),n++}return t})),Nt=(0,Pt.Z)(At,(e=>e)),kt=(0,o.P1)(tt,(e=>e.lastFetchedAt));var Lt=n(52924);const jt=(0,o.P1)(Xe,xt,(0,Ge.Z)("sidebarSettings"),(e=>e.ui.watchTogether.isRoomsPending),(e=>e.ui.watchTogether.rooms.length>0),(0,Qe.Z)(_e.eT),((e,t,n,r,i,s)=>function(e,t,n,r=!1,i=!1,s=!1){var a;if((0,Lt.Z)(e.length===t.length,"hubsSources and hubsStates have differing length"),!n.hasCompletedSetup)return{isPending:!0};let o=0;const l=t.length;if(s)for(let n=0;n<l;n++){const r=t[n];if((null==(a=e[n].feature)?void 0:a.type)!==Re.zW.ContinueWatching){o=n;break}if(!(r.isListPopulated||r.isListEmpty||r.isListError||r.isSourceUnavailable))return{isPending:!0}}for(let e=o;e<l;e++){const n=t[e];if(n.isListPopulated&&!n.isListEmpty)return{isPopulated:!0};if(n.isPending)return{isPending:!0}}return r?{isPending:!0}:i?{isPopulated:!0}:t.length?t.every((e=>e.isListEmpty))?{isEmpty:!0}:t.some((e=>e.isSourceUnavailable))?{isUnavailable:!0}:{isError:!0}:{hasNoPinnedSources:!0}}(e,t,n,r,i,s)));var Rt=n(6339),Vt=n(76512),Ut=n(70617),zt=Object.defineProperty,Bt=Object.prototype.hasOwnProperty,_t=Object.getOwnPropertySymbols,Ft=Object.prototype.propertyIsEnumerable,Ht=(e,t,n)=>t in e?zt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wt=(e,t)=>{for(var n in t||(t={}))Bt.call(t,n)&&Ht(e,n,t[n]);if(_t)for(var n of _t(t))Ft.call(t,n)&&Ht(e,n,t[n]);return e};const Qt=(0,Ut.Z)((e=>(0,o.P1)(nt,(0,Qe.Z)(_e.eT),((t,n)=>{const r=t[e];return Wt(Wt({},r),{hubs:n?r.hubs.filter((e=>e.hubIdentifier!==je.F.VodContinueWatching&&e.hubIdentifier!==je.F.MergedContinueWatching&&e.hubIdentifier!==je.F.ContinueWatching)):r.hubs})})))),Gt=[je.F.ContinueWatching,je.F.VodContinueWatching,je.F.MergedContinueWatching],Yt=(0,Ut.Z)((function(e,t){return(0,o.P1)(nt,Nt,(0,Qe.Z)(_e.eT),((n,r,i)=>{const s=r.indexOf(e);return r.slice(0,-1===s?r.length:s).reduce(((e,t)=>n[t].hubs.reduce(((e,{initialSize:t,more:n,hubIdentifier:r})=>i&&Gt.includes(r)?e:e+(t||n?1:0)),e)),t)}))}));var qt=n(84807),Kt=n(19698),$t=n(48420),Xt=n(17331);const Jt=(0,o.P1)(Xe,(e=>{const t={},n=e.reduce(((e,{server:n})=>{if(!n||t[n.machineIdentifier])return e;const{machineIdentifier:r,sourceTitle:i,isFullOwnedServer:s}=n;return t[r]=!0,s?e.numOwnedServers++:i&&(e.numSharedServers++,e.byOwner[i]?e.byOwner[i]++:e.byOwner[i]=1),e}),{numSharedServers:0,numOwnedServers:0,byOwner:{}});return e.reduce(((e,{source:t,server:r,provider:i})=>{if(!r)return e;const{friendlyName:s,sourceTitle:a,isCloud:o,isFullOwnedServer:l}=r;return o&&i?i.sourceTitle&&(n.numOwnedServers||n.numSharedServers)?e[t]=`${i.title} (${i.sourceTitle})`:e[t]=i.title:a&&(n.numOwnedServers||n.numSharedServers>1)?1===n.byOwner[a]?e[t]=a:e[t]=`${a} (${s})`:l&&n.numOwnedServers>1&&(e[t]=s),e}),{})})),en=(0,Pt.Z)(Jt,(e=>e)),tn=(0,Ut.Z)((e=>(0,o.P1)(en,(t=>t[e]))));function nn({children:e,hub:t}){const{metricsContextTuple:n}=(0,g.Zn)(),r=(0,s.v9)(tn(t.source)),a=(0,Kt.Z)(t.source,{key:t.key,title:t.title,pageType:Re.F6.List,context:(0,g.VJ)(n)});return i.createElement($t.Z,{hub:t},i.createElement(Xt.Z,{to:a},e),r?i.createElement("span",{className:"HomeHubTitle-sourceTitle-ciUeTH"},i.createElement(qt.Z,null),r):null)}const rn=(0,i.memo)((function({hubsSource:e,metricsRowOffset:t}){var n,r;const a=(0,s.v9)(Qt(e.key)),o=(0,s.v9)(Yt(e.key,t));return e.server&&e.provider?i.createElement(Te.ZP,{key:e.key,machineIdentifier:null==(n=e.server)?void 0:n.machineIdentifier,providerIdentifier:null==(r=e.provider)?void 0:r.identifier},i.createElement(Vt.Z,{hubs:a.hubs,hubComponent:Rt.Z,hubTitleComponent:nn,metricsRowOffset:o})):null}));var sn=n(41859),an=n(24351),on=n(50948),ln=n(26091),cn=n(65805),dn=n(17867),un=n(24754);function pn(){return(0,s.v9)(dn.Z)?i.createElement(cn.Z,null):i.createElement(un.Z,null,i.createElement(an.Z,null,i.createElement(sn.Z,null,(0,E.Z)("Home"))),i.createElement(on.Z,null,i.createElement(ln.Z,{listStyles:[we.n.Grid],selectedListStyle:we.n.Grid})))}var mn=n(29150),hn=n(46905),gn=n(60316),yn=n(48653),vn=n(41336),fn=n(94173),bn=n(85180),Sn=n(54778),In=n(50362);var Zn=n(91608),Pn=n(74287),En=n(14700),Mn=n(75534),Cn=n(57120),wn=n(96768),Dn=n(11756),Tn=n(74901),On=n(83701),xn=n(77045);const An=(0,o.P1)(St,(e=>!!e.session));var Nn=n(63510),kn=n(90864),Ln=n(42832),jn=n(72170);function Rn({isOpen:e,title:t,errorMessage:n,metricsPage:r,onModalClose:s}){return i.createElement(g.ZP,{metricsPage:r},i.createElement(Nn.Z,{isOpen:e,size:Se.Z.Small,onModalClose:s},i.createElement(Ln.Z,{onModalClose:s},i.createElement(jn.Z,{className:"WatchTogetherRoomErrorModal-modalHeader-3XfmYj ModalHeader-modalHeader-15PhZc"},t),i.createElement(kn.Z,null,n))))}function Vn({className:e="WatchTogetherHubItemPosterCard-card-2vzdV6 PosterCard-card-2-REtd",watchTogetherRoom:t,metadataItem:n,width:r,height:a,aspectRatio:o}){const[l,c]=(0,Te.c9)(),u=(0,s.I0)(),p=(0,hn.Z)(),m=(0,s.v9)(An),[h,g]=(0,xn.Z)(),{isOpen:y,onClose:v,onToggle:f}=(0,hn.Z)(),b=(0,Mn.Z)(),{entityID:S,title:I,metadataItemError:Z}=t,P=y||h,M=(0,i.useCallback)((()=>{Z?p.onOpen():u(mn.ib({watchTogetherRoomEntityID:S}))}),[u,S,Z,p]),C=(0,i.useCallback)((()=>{M(),v()}),[M,v]),w=(0,i.useCallback)((()=>{u(me.GX({watchTogetherRoomEntityID:S})),v()}),[u,S,v]),D=(0,i.useCallback)((()=>{p.onClose()}),[p]);return i.createElement(Dn.Z,{className:e,style:{width:r,height:a},ref:g},n?i.createElement(H.Z,{className:"WatchTogetherHubItemPosterCard-image-13WlXC",serverEntityID:l.entityID,providerEntityID:c.entityID,url:(0,Cn.Z)(n,{aspectRatio:o}),width:r,height:a,component:_.Z,allowSizeBracket:!0,preloadOnMount:!1,animateOnMount:!1}):i.createElement(Tn.Z,{className:"WatchTogetherHubItemPosterCard-iconContainer-38nuER PosterCardIcon-container-UpQIlp",width:r,height:a},i.createElement(Zn.Z,null)),i.createElement(On.Z,{"aria-label":I,className:"WatchTogetherHubItemPosterCard-link-3PEQkF PosterCardLink-link-2mWlqA Link-link-2WGTd7",hoverClassName:"WatchTogetherHubItemPosterCard-hoveredLink-3LpBie PosterCardLink-hoveredLink-3BYG1D PosterCardLink-link-2mWlqA Link-link-2WGTd7",isHovered:h||y,onPress:M}),i.createElement(wn.Z,{id:b,className:P?"WatchTogetherHubItemPosterCard-moreButton-3ED0MB MetadataPosterCardActions-moreButton-2gEa9g MetadataPosterCardActions-button--q7OIG Link-link-2WGTd7":"WatchTogetherHubItemPosterCard-hiddenMoreButton-1w_1hM WatchTogetherHubItemPosterCard-moreButton-3ED0MB MetadataPosterCardActions-moreButton-2gEa9g MetadataPosterCardActions-button--q7OIG Link-link-2WGTd7 MetadataPosterCardActions-isHidden-3a_54z",isPending:!1,onPress:f}),i.createElement(Pn.Z,{target:b,isOpen:y,onMenuClose:v},i.createElement(En.Z,{"aria-label":(0,E.Z)("Join"),isDisabled:m||p.isOpen,onPress:C},(0,E.Z)("Join")),i.createElement(En.Z,{"aria-label":(0,E.Z)("Remove"),isDisabled:p.isOpen,onPress:w},(0,E.Z)("Remove"))),i.createElement(Rn,{isOpen:p.isOpen,title:(0,E.Z)("Cannot access this item"),errorMessage:Z,metricsPage:d.Gc,onModalClose:D}))}const Un="WatchTogetherHubItem-card-r_sn9y WatchTogetherHubItemPosterCard-card-2vzdV6 PosterCard-card-2-REtd",zn="WatchTogetherHubItem-secondaryTitle-1JTMFc WatchTogetherHubItem-title-2k0OXc MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m MetadataPosterCardTitle-isSecondary-3Nh6J0";var Bn=Object.prototype.hasOwnProperty,_n=Object.getOwnPropertySymbols,Fn=Object.prototype.propertyIsEnumerable;const Hn=fn.oz;function Wn(e){var t=e,{item:n}=t,r=((e,t)=>{var n={};for(var r in e)Bn.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&_n)for(var r of _n(e))t.indexOf(r)<0&&Fn.call(e,r)&&(n[r]=e[r]);return n})(t,["item"]);const a=(0,s.I0)(),l=(0,Sn.Z)(r),c=(0,s.v9)((m=null==n?void 0:n.metadataItem,(0,o.P1)(In.Z,(e=>m?e[m]:void 0)))),d=(0,i.useMemo)((()=>(0,bn.Z)({width:r.cellWidth,aspectRatio:Hn})),[r.cellWidth]),u=(0,i.useMemo)((()=>n?(0,yn.Z)(n.users.map((e=>e.title))):""),[n]),p=(0,i.useMemo)((()=>(null==c?void 0:c.source)?(0,gn.Z)(c.source):null),[null==c?void 0:c.source]);var m;return(0,i.useEffect)((()=>{!n||n.isMetadataItemPopulated||n.metadataItemError||a((0,me.TN)({watchTogetherRoomEntityID:n.entityID}))}),[a,n]),!n||(null==n?void 0:n.isMetadataItemPending)?i.createElement("div",{style:l.style},i.createElement(vn.Z,{className:Un,style:d,index:r.cellIndex})):(null==n?void 0:n.isMetadataItemPopulated)&&c&&p?i.createElement(Te.ZP,{machineIdentifier:p.serverIdentifier,providerIdentifier:p.providerIdentifier},i.createElement("div",{style:l.style},i.createElement(Vn,{className:Un,watchTogetherRoom:n,metadataItem:c,width:d.width,height:d.height,aspectRatio:Hn}),i.createElement("div",{className:"WatchTogetherHubItem-title-2k0OXc MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m",title:n.title},n.title),i.createElement("div",{className:zn,title:u},u))):i.createElement("div",{style:l.style},i.createElement(Vn,{className:Un,watchTogetherRoom:n,width:d.width,height:d.height,aspectRatio:Hn}),i.createElement("div",{className:"WatchTogetherHubItem-splitTitleContainer-1YMhIP"},i.createElement("span",{className:"WatchTogetherHubItem-splitLineTitle-1Dmvd5 WatchTogetherHubItem-title-2k0OXc MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m",title:n.title},n.title),i.createElement("span",{className:"WatchTogetherHubItem-splitLineSecondaryTitle-mj1q59 WatchTogetherHubItem-secondaryTitle-1JTMFc WatchTogetherHubItem-title-2k0OXc MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m MetadataPosterCardTitle-isSecondary-3Nh6J0 WatchTogetherHubItem-splitLineTitle-1Dmvd5 WatchTogetherHubItem-title-2k0OXc MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m",title:(0,E.Z)("No Access")},(0,E.Z)("No Access"))),i.createElement("div",{className:zn,title:u},u))}var Qn=n(14051);function Gn(){return i.createElement($t.Z,{hub:{attribution:Qn.S.WatchTogether}},(0,E.Z)("Watch Together"))}var Yn=Object.defineProperty,qn=Object.prototype.hasOwnProperty,Kn=Object.getOwnPropertySymbols,$n=Object.prototype.propertyIsEnumerable,Xn=(e,t,n)=>t in e?Yn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jn=(e,t)=>{for(var n in t||(t={}))qn.call(t,n)&&Xn(e,n,t[n]);if(Kn)for(var n of Kn(t))$n.call(t,n)&&Xn(e,n,t[n]);return e};const er={source:"watchTogether",sourceURI:"watch-together"};function tr({hubLayoutOptions:e,className:t,hubHeaderClassName:n}){const r=(0,s.I0)(),a=(0,s.v9)(St),o=(0,s.v9)(It),l=(0,s.v9)(Ae.Z),c=(0,hn.Z)(),{sessionError:u}=a,p=(0,i.useMemo)((()=>(0,De.Z)(Jn({listType:we.U.Mixed,listStyle:we.n.Hero,columnWidth:l,titleCount:2},e))),[l,e]),m=(0,i.useCallback)((()=>{r(mn.j3())}),[r]);(0,i.useEffect)((()=>{u?c.onOpen():c.isOpen&&c.onClose()}),[c,u]);const h=(0,i.useCallback)((e=>i.createElement(Wn,Jn({},e))),[]);return i.createElement(i.Fragment,null,i.createElement(xe.Z,{className:t,hubHeaderClassName:n,hub:er,hubTitleComponent:Gn,keyPropName:"id",items:o,totalSize:o.length,layout:p,cellComponentFactory:h}),i.createElement(Rn,{isOpen:c.isOpen,title:(0,E.Z)("Watch Together session error"),errorMessage:u,metricsPage:d.Gc,onModalClose:m}))}function nr(e){return!!e&&e<=Date.now()-864e5}function rr(){const e=(0,s.I0)(),t=(0,s.v9)(Xe),n=(0,s.v9)(xt),r=(0,s.v9)(Nt),a=(0,s.v9)(kt),o=(0,s.v9)(Ie),l=(0,s.v9)(Ze),c=(0,s.v9)(ft),d=(0,s.v9)(Zt),u=(0,s.v9)(gt);let p=0;d&&p++,u&&p++;const{isPending:m,isPopulated:h,isUnavailable:g,isError:v,isEmpty:S,hasNoPinnedSources:I}=(0,s.v9)(jt);return(0,ge.Z)({mode:ce.Auto},!m),(0,i.useEffect)((()=>{nr(a)&&e(ht.Z.actions.reset())}),[e,a]),(0,i.useEffect)((()=>{e(ht.Z.actions.populateAllRequested({hubsSources:t,hubsStates:n,userServices:l}))}),[e,t,n,l]),(0,i.useEffect)((()=>()=>{e(ht.Z.actions.markStaleRequested())}),[e]),(0,i.useEffect)((()=>{const t=()=>{"visible"===document.visibilityState&&nr(a)&&e(ht.Z.actions.reset())};return document.addEventListener("visibilitychange",t),()=>{document.removeEventListener("visibilitychange",t)}}),[e,a]),(0,i.useEffect)((()=>{e((0,me.Z7)())}),[e]),i.createElement(y.Z,{scrollDirection:fe.I.None},i.createElement(pn,null),m?i.createElement(f.Z,null,i.createElement(b.Z,null)):null,h?i.createElement(ye.Z,{className:"HomePage-homePageContentScroller-2a5_R2 PageContent-pageContentScroller-18TqCp Scroller-scroller-3Rbtv0"},d?i.createElement(tr,null):null,u?i.createElement(mt,{metricsRow:d?1:0}):null,t.map((e=>r.includes(e.key)?i.createElement(rn,{key:e.key,hubsSource:e,metricsRowOffset:p}):null))):null,g?i.createElement(ve.Z,{title:(0,E.Z)("No content available"),description:(0,E.Z)("Check your network connection and verify that any media servers are online.")}):null,v?i.createElement(ve.Z,{title:(0,E.Z)("Something went wrong"),description:(0,E.Z)("There was an error loading your home screen. Please try again in a few minutes.")}):null,S&&!o?i.createElement(f.Z,{iconSrc:String(ue),title:(0,E.Z)("Your home screen is currently empty"),description:(0,E.Z)("There's no content to display based on your currently pinned sources. You can always pin additional sources to your sidebar.")}):null,S&&o?i.createElement(f.Z,{iconSrc:String(ue),title:(0,E.Z)("No content available"),description:(0,E.Z)("Kindly ask the Plex Home admin to share content with you.")}):null,I&&c?i.createElement(f.Z,{iconSrc:String(ue),title:(0,E.Z)("Your home screen is empty"),description:(0,E.Z)("Your home screen is based on sources pinned to your sidebar. Choose a source from the More menu and pin it to see its content here.")}):null,!I||c||o?null:i.createElement(f.Z,{iconSrc:String(ue),title:(0,E.Z)("Add your media to Plex"),description:(0,E.Z)("Organize, beautify, stream, and share your personal collection of movies, TV, music, and photos anywhere, on all your devices. To get started, download our free Plex Media Server software on the device where you store your media.")},i.createElement(he.Z,{to:pe._N,kind:be.Z.Primary,size:Se.Z.Large,target:"_self"},(0,E.Z)("Get Plex Media Server"))),I&&!c&&o?i.createElement(f.Z,{iconSrc:String(ue),title:(0,E.Z)("No content available"),description:(0,E.Z)("Kindly ask the Plex Home admin to share content with you.")}):null)}function ir({children:e}){return i.createElement("div",{className:"PlayerContainer-container-2-RrdD"},e)}var sr=n(4844),ar=n(15042),or=n(1346),lr=n(22133),cr=n(65669),dr=n(44823),ur=n(75989),pr=n(19755),mr=n.n(pr),hr=n(13469),gr=n.n(hr),yr=n(94018),vr=n(65652),fr=n(46453),br=n(88050),Sr=n(96840),Ir=n(28440),Zr=n(73913);var Pr=n(97189),Er=n(74091),Mr=n(31591),Cr=n(1977),wr=n(26239),Dr=n(61941),Tr=n(94141),Or=n(15819),xr=n(85677),Ar=n(44317);const Nr=function(){return i.createElement("div",{className:"PlexHeaderImage-plexImageContainer-3dam9Y"},i.createElement("div",{className:"PlexHeaderImage-plexImage-31_H3X"}))};var kr=n(45428),Lr=n(6103),jr=n(69679);var Rr=Object.defineProperty,Vr=Object.prototype.hasOwnProperty,Ur=Object.getOwnPropertySymbols,zr=Object.prototype.propertyIsEnumerable,Br=(e,t,n)=>t in e?Rr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function _r(e){const t=e,{component:n}=t,r=((e,t)=>{var n={};for(var r in e)Vr.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ur)for(var r of Ur(e))t.indexOf(r)<0&&zr.call(e,r)&&(n[r]=e[r]);return n})(t,["component"]);return i.createElement(n,((e,t)=>{for(var n in t||(t={}))Vr.call(t,n)&&Br(e,n,t[n]);if(Ur)for(var n of Ur(t))zr.call(t,n)&&Br(e,n,t[n]);return e})({className:"SignInFormSection-section-2-kifO"},r))}_r.defaultProps={component:"div"};const Fr=_r,Hr="SkipSignInMessage-item-3_5PNn",Wr=function(e){return i.createElement(Fr,null,i.createElement("div",{className:"SkipSignInMessage-header-1L78DH"},(0,E.Z)("You must be signed in for Plex to work properly. If you are not signed in…")),i.createElement("ul",{className:"SkipSignInMessage-list-32oqDh"},i.createElement("li",{className:Hr},(0,E.Z)("Any connections between your media server and players WILL NOT BE SECURE")),i.createElement("li",{className:Hr},(0,E.Z)("You may experience degraded streaming performance")),i.createElement("li",{className:Hr},(0,E.Z)("It will be more difficult, and sometimes impossible, to find your server and discover players")),i.createElement("li",{className:Hr},(0,E.Z)("You will not be able to access your media server from outside your home")),i.createElement("li",{className:Hr},(0,E.Z)("You will not be able to access content and many features provided by Plex"))))};var Qr=n(60528),Gr=n(82378),Yr=n(61201);class qr extends i.Component{constructor(e,t){super(e,t),this.onSwitchToSkipSignInPress=()=>{this.setState({isSkipSignInVisible:!0})},this.onStillTherePress=()=>{this.setState({isSkipSignInVisible:!1}),this.props.onStillTherePress()},this.onSignInPress=()=>{this.setState({isSkipSignInVisible:!1}),this.props.onSignInPress()},this.state={isSkipSignInVisible:!1}}render(){const{to:e,code:t,signUp:n,isBusy:r,onSkipSignInPress:s}=this.props,o=!(r||t),l=!o,c=this.state.isSkipSignInVisible,d=(0,a.LX)(Yr.Z.location.pathname,{path:V.Z.serverSetup});return i.createElement(kr.Z,{className:"SignInLaunchPagePoll-page-lL6Yfk",autoScroll:!0},d&&!c?i.createElement(Lr.Z,{className:"SignInLaunchPagePoll-switchToSkipSignInLink-15y7JQ",kind:Qr._8,onPress:this.onSwitchToSkipSignInPress},(0,E.Z)("What's this?")):null,i.createElement(Nr,null),i.createElement("div",{className:"SignInLaunchPagePoll-container-D2j_G0"},c?i.createElement(Wr,null):null,i.createElement("div",{className:"SignInLaunchPagePoll-section-HJPNUj"},l?i.createElement(jr.Z,{className:"SignInLaunchPagePoll-button-3FSSA- SpinnerButton-button-SzW9Jq Button-button-38SEbM Link-link-CM9nxg Button-large-2XkHQ6",kind:Qr._8,size:Gr.ln,to:e,target:"_blank",type:"submit",isSpinning:!t,onPress:this.onSignInPress},n?(0,E.Z)("Sign up"):(0,E.Z)("Sign in")):null,o?i.createElement(Lr.Z,{kind:Qr._8,onPress:this.onStillTherePress},(0,E.Z)("Are you still there?")):null)),c?i.createElement(Lr.Z,{className:"SignInLaunchPagePoll-addendumLink-3bmML3",kind:Qr._8,onPress:s},(0,E.Z)("Skip and accept limited functionality")):null)}}const Kr=qr;var $r=Object.defineProperty,Xr=Object.prototype.hasOwnProperty,Jr=Object.getOwnPropertySymbols,ei=Object.prototype.propertyIsEnumerable,ti=(e,t,n)=>t in e?$r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ni={dispatchPreloadPIN:wr.fJ,dispatchBeginPolling:wr.W$,dispatchStopPolling:wr.FN,dispatchSkipSignIn:wr.WW};class ri extends i.Component{constructor(){super(...arguments),this.onSignInPress=()=>{this.props.dispatchBeginPolling({pinID:this.props.pinID})},this.onStillTherePress=()=>{this.props.dispatchPreloadPIN()},this.onSkipSignInPress=()=>{this.props.dispatchSkipSignIn()}}componentDidMount(){this.props.dispatchPreloadPIN()}componentWillUnmount(){this.props.dispatchStopPolling()}render(){const e=this.props,{dispatchPreloadPIN:t,dispatchBeginPolling:n,dispatchStopPolling:r,dispatchSkipSignIn:s}=e,a=((e,t)=>{var n={};for(var r in e)Xr.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Jr)for(var r of Jr(e))t.indexOf(r)<0&&ei.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchPreloadPIN","dispatchBeginPolling","dispatchStopPolling","dispatchSkipSignIn"]);return i.createElement(Ar.Z,((e,t)=>{for(var n in t||(t={}))Xr.call(t,n)&&ti(e,n,t[n]);if(Jr)for(var n of Jr(t))ei.call(t,n)&&ti(e,n,t[n]);return e})({component:Kr,onSignInPress:this.onSignInPress,onStillTherePress:this.onStillTherePress,onSkipSignInPress:this.onSkipSignInPress},a))}}const ii=(0,s.$j)(Cr.Z,ni)(ri);var si=n(58801),ai=n(3704),oi=Object.defineProperty,li=Object.prototype.hasOwnProperty,ci=Object.getOwnPropertySymbols,di=Object.prototype.propertyIsEnumerable,ui=(e,t,n)=>t in e?oi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const pi={dispatchReadStoredPIN:wr.Ty};class mi extends i.Component{componentDidMount(){this.props.dispatchReadStoredPIN({shouldCreatePIN:!0})}render(){const e=this.props,{pinID:t,dispatchReadStoredPIN:n}=e,r=((e,t)=>{var n={};for(var r in e)li.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ci)for(var r of ci(e))t.indexOf(r)<0&&di.call(e,r)&&(n[r]=e[r]);return n})(e,["pinID","dispatchReadStoredPIN"]);return t?i.createElement(Ar.Z,((e,t)=>{for(var n in t||(t={}))li.call(t,n)&&ui(e,n,t[n]);if(ci)for(var n of ci(t))di.call(t,n)&&ui(e,n,t[n]);return e})({component:xr.Z,replace:!0,pinID:t},r)):i.createElement(ai.Z,null,i.createElement(si.Z,null))}}const hi=(0,s.$j)(Cr.Z,pi)(mi);var gi=Object.defineProperty,yi=Object.prototype.hasOwnProperty,vi=Object.getOwnPropertySymbols,fi=Object.prototype.propertyIsEnumerable,bi=(e,t,n)=>t in e?gi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Si=(e,t)=>{for(var n in t||(t={}))yi.call(t,n)&&bi(e,n,t[n]);if(vi)for(var n of vi(t))fi.call(t,n)&&bi(e,n,t[n]);return e};const Ii={dispatchResetAuthCodeExchange:wr.tD,dispatchSignInWithAuthToken:Dr.I3};class Zi extends i.Component{componentDidMount(){this.props.dispatchResetAuthCodeExchange()}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchSignInWithAuthToken({authToken:this.props.authToken,onSignInSuccess:this.props.signUp?()=>(0,Pr.Z)("home"):null})}render(){const e=this.props,{providerID:t,errorMessage:n,fatalErrorMessage:r,signUp:s,isPollClient:a,dispatchResetAuthCodeExchange:o,dispatchSignInWithAuthToken:l}=e,c=((e,t)=>{var n={};for(var r in e)yi.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&vi)for(var r of vi(e))t.indexOf(r)<0&&fi.call(e,r)&&(n[r]=e[r]);return n})(e,["providerID","errorMessage","fatalErrorMessage","signUp","isPollClient","dispatchResetAuthCodeExchange","dispatchSignInWithAuthToken"]);return r?i.createElement(Or.Z,null):t?i.createElement(Ar.Z,Si({component:xr.Z,providerID:t,signUp:s,replace:!0},c)):a?i.createElement(ii,Si({signUp:s},c)):i.createElement(hi,{signUp:s})}}const Pi=(0,s.$j)((function(){return(0,o.P1)(Cr.Z,(e=>Si({isPollClient:(0,Tr.Z)()},e)))}),Ii)(Zi),Ei=Mr.Z.extend({component:e=>i.createElement(Er.Z,null,i.createElement(Pi,{signUp:e.signUp}))});var Mi=n(73935),Ci=n(47486),wi=n(32846),Di=n(17575),Ti=n(72936),Oi=n(83787),xi=n(40856),Ai=n.n(xi);const Ni=vr.Z.ItemView.extend({className:"setup-basic-container",template:Ai(),ui:{modalContainer:".modal-container",connectCheckbox:"#connect",publishServerCheckbox:"#PublishServerOnPlexOnlineKey",submitBtn:".submit-btn",nextBtn:".next-btn"},collectionEvents:{reset:"render"},events:{"change input[id]":"onInputChange","submit #setup-basic-form":"onSubmit","change #PublishServerOnPlexOnlineKey":"onPublishSettingChange"},initialize:function(){gr().bindAll(this,"onPlexPassModalClose"),this.collection=this.model.get("desktop").get("settings"),this.collection.populate({reset:!0}),this.model.isVersionOrNewer("0.9.15.5")?this.changes={PublishServerOnPlexOnlineKey:1}:this.changes={FirstRun:0,PublishServerOnPlexOnlineKey:1};var e=this.model.get("superToken");e&&(this.changes.PlexOnlineToken=e);var t=(0,P.DB)("appModel").get("user").get("hasPlexSubscription");this.isPlexPassModalOpen=!this.model.get("isDesktop")&&!t},serializeData:function(){var e=this.model.toJSON(),t=this.collection.get("FriendlyName"),n=this.collection.get("PublishServerOnPlexOnlineKey");return{server:e,friendlyNameSetting:t?t.toJSON():null,publishSetting:n?n.toJSON():null}},mountReact:function(){Mi.render(i.createElement(s.zt,{store:(0,P.DB)("appStore")},i.createElement(Oi.Z,{origin:Ti.pp,metricsProperties:{context:Ci.SETUP_WIZARD,firstRun:!0},isOpen:this.isPlexPassModalOpen,onModalClose:this.onPlexPassModalClose})),this.ui.modalContainer[0])},unmountReact:function(){this.isRendered&&Mi.unmountComponentAtNode(this.ui.modalContainer[0])},submit:function(){var e=this.ui.submitBtn;if(!e.hasClass("active")){e.addClass("active"),(0,P.DB)("metrics").trackClick({action:br.pg,page:d.YB,pane:"name",firstRun:!0,value:this.ui.publishServerCheckbox.is(":checked")});var t=this.save();(t=t.done((()=>{this.ui.nextBtn.click()}))).always((function(){e.removeClass("active")}))}},save(){return this.saveChanges().then((()=>this.claimServer()))},saveChanges(){return(gr().isEmpty(this.changes)?mr().Deferred().resolve().promise():this.collection.first().save(this.changes)).then(null,(()=>{wi.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem saving these settings.")})}))},claimServer(){const e=(0,P.DB)("appModel"),t=e.get("cloudServer");return!this.model.supports("claimServer")||this.model.get("isClaimed")||this.model.get("superToken")||e.get("user").get("anonymous")?mr().Deferred().resolve().promise():(0,Di.Z)(t.populate().then((()=>yr.Z.execute("signInServer",{claim:!0,cloudAccount:this.model.get("desktop").get("cloudAccount")}).then(null,(()=>{wi.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem claiming this server.")})})))))},onBeforeRender:function(){this.unmountReact()},onRender:function(){this.mountReact()},onClose:function(){this.unmountReact()},onInputChange:function(e){var t=e.currentTarget,n=t.value;"checkbox"===t.type&&(n=t.checked?1:0),this.changes[t.id]=n},onSubmit:function(e){e.preventDefault(),this.submit()},onPlexPassModalClose:function(){this.isPlexPassModalOpen=!1,this.mountReact()}});var ki=n(68002),Li=n(92056),ji=n(45381),Ri=n(99842),Vi=n(83579),Ui=n(67749),zi=n.n(Ui);const Bi=vr.Z.ItemView.extend({className:"setup-complete-container",template:zi(),ui:{modalContainer:".modal-container",submitBtn:".submit-btn",doneBtn:".done-btn"},collectionEvents:{reset:"render"},events:{"change input[id]":"onInputChange","submit #setup-complete-form":"onSubmit"},initialize:function(){gr().bindAll(this,"onDVRSetupModalClose"),this.collection=this.model.get("desktop").get("settings"),this.collection.populate({reset:!0}),this.changes={},this.isDVRSetupModalOpen=!1;var e=P.DB("appModel").get("user");e.get("isSignedIn")?e.fetch().done(this.whenRendered((()=>{this.ui.submitBtn.removeClass("active")}))):this.once("attached",(()=>{this.ui.submitBtn.removeClass("active")}))},serializeData:function(){var e=this.collection.get("collectUsageData");return{devicesImg:Vi,collectUsageDataSetting:e?e.toJSON():null}},mountReact:function(){Mi.render(i.createElement("div",null,this.isDVRSetupModalOpen?i.createElement(s.zt,{store:P.DB("appStore")},i.createElement(Ri.Z,{serverEntityID:this.model.entityID(),isModalOpen:this.isDVRSetupModalOpen,onModalClose:this.onDVRSetupModalClose})):null),this.ui.modalContainer[0])},unmountReact:function(){this.isRendered&&Mi.unmountComponentAtNode(this.ui.modalContainer[0])},fetchDVRs:function(){const e=mr().Deferred();return new Li.Z([],{server:this.model}).fetch().then((t=>{t.filter((e=>!e.get("parentID")&&e.get("status")===ji.vh.ALIVE)).length?e.resolve():e.reject()}),(()=>{e.reject()})),e.promise()},submit:function(){var e=this.ui.submitBtn;e.hasClass("active")||(e.addClass("active"),this.save().always(this.whenRendered((function(){this.ui.doneBtn.click(),e.removeClass("active")}))))},save:function(){this.saved=!0,gr().has(this.changes,"collectUsageData")&&!this.changes.collectUsageData&&P.DB("metrics").trackClick({action:br.mX,page:d.YB,pane:"complete",firstRun:!0});const e=this.collection.first().save(this.changes),t=this.model.get("sections").filter((e=>e.isNew())).map((e=>e.save())),n=mr().when(e,(0,ki.Z)(t));return n.fail((()=>{wi.Z.trigger("show:alert",{type:"error",message:(0,E.Z)("There was a problem saving these settings.")})})),n},onBeforeRender:function(){this.unmountReact()},onRender:function(){this.mountReact()},onClose:function(){this.saved||this.save(),this.unmountReact()},onInputChange:function(e){var t=e.currentTarget,n=t.value;"checkbox"===t.type&&(n=t.checked?1:0),this.changes[t.id]=n},onSubmit:function(e){e.preventDefault(),this.submit()},onDVRSetupModalClose:function(){this.isDVRSetupModalOpen=!1,this.ui.submitBtn.removeClass("active"),this.mountReact()}});var _i=n(32747),Fi=n.n(_i);const Hi=vr.Z.ItemView.extend({className:"setup-error-container",template:Fi()});var Wi=n(87414),Qi=n(13353),Gi=n(49730),Yi=n(37648),qi=n.n(Yi);const Ki=vr.Z.ItemView.extend({className:"setup-intro-container",template:qi(),serializeData:()=>({computerImg:Wi,mediaImg:Qi,playImg:Gi})});var $i=n(33192),Xi=n(21009),Ji=n(28725),es=n(25332),ts=n.n(es),ns={artist:"music",movie:"film",photo:"picture",show:"display"};const rs=vr.Z.ItemView.extend({tagName:"li",className:"card-tile-list-single-item",template:ts(),events:{"click .edit-section-btn":"onEditClick","click .delete-section-btn":"onDeleteClick"},serializeData:function(){var e=this.model.server,t=this.model.toJSON(),n=t.locations&&t.locations[0],r=t.locations?t.locations.length:0;return{section:t,serverID:e.id,icon:ns[t.type],path:n.path,more:r-1}},bindings:{".section-title":{modelAttribute:"title"}},onEditClick:function(e){e.preventDefault();const t=this.model,n=new Ji.Z({model:t,server:t.server,isDefaultSection:t.isNew()});t.isNew()&&n.promise.always((()=>{t.trigger("destroy",t,t.collection)})),wi.Z.trigger("show:modal",n)},onDeleteClick:function(e){e.preventDefault();const t=this.model;t.isNew()?t.trigger("destroy",t,t.collection):yr.Z.execute("deleteSection",{section:t})}}),is=Xi.Z.extend({tagName:"ul",className:"list card-tile-list",itemView:rs});var ss=n(56167),as=n.n(ss);const os=vr.Z.Layout.extend({className:"setup-library-container",template:as(),regions:{list:".setup-section-list-container"},events:{"click .add-section-btn":"onAddSectionClick"},metricsValue:function(){return this.collection.size()},initialize:function(e){const t=this.model,n=t.get("sections"),r=new $i.Z([],{server:t,url:"/services/defaultLibraries"});this.collection=n,this.model.supports("defaultSections")&&e.isFirstVisitToSubset&&mr().when(r.populate(),n.populate()).done((()=>{n.length||r.forEach((e=>{e.collection=n,n.add(e)}))}))},onRender:function(){this.list.show(new is({collection:this.collection}))},onAddSectionClick:function(e){e.preventDefault(),wi.Z.trigger("show:modal",new Ji.Z({server:this.model}))}});var ls=n(36504),cs=n.n(ls);const ds=vr.Z.ItemView.extend({className:"setup-loading-container",template:cs()});var us=n(55978),ps=n.n(us),ms={setupIntro:"intro",setupError:"error",setupBasic:"name",setupLibrary:"library",setupComplete:"complete"},hs=[fr.HN,fr.NV,fr.E4];const gs=vr.Z.Layout.extend({className:"container",template:ps(),maxAttempts:120,ui:{header:".setup-header"},regions:{container:".setup-container"},events:{"click .segment-btn":"onNavClick","click .next-btn":"onNavClick","click .done-btn":"onDoneClick"},onlyAfterRender:["onAgentsSuccess","onAgentsFail","onUpdatesComplete"],initialize:function(e){gr().bindAll(this,"start","onAgentsSuccess","onAgentsFail","onUpdatesComplete","onSkipSignInChange"),this.subset=e.subset||"setupIntro",this.attempts=0,this._visitedSubsets={},Sr.Z.info("Starting the setup wizard");const t=(0,P.DB)("appModel");this.model=(0,Ir.SW)(t,e),this.listenTo(t,"change:skipSignIn",this.onSkipSignInChange)},serializeData:function(){return{subset:this.subset}},renderSubset:function(){if(this.model.get("shared"))return void this.navigate("setupError");const e=(0,P.DB)("appModel"),t=e.get("user").server,n=t.populate();n.done(this.whenRendered((()=>{this.navigate("setupIntro")}))),n.fail((()=>{e.get("primaryServer").get("desktop").get("settings").fetch().then((e=>!0===e.get("AcceptedEULA").get("value")?mr().Deferred().resolve():mr().Deferred().reject())).then(this.whenRendered((()=>{this.navigate("setupIntro")}))).fail(this.whenRendered((()=>{const n=e.get("skipSignIn"),r=t.get("isUnavailable");this.navigate(n||r?"setupIntro":"setupSignIn")})))}))},start:function(){if(this.attempts>=this.maxAttempts)return Sr.Z.error("Failed to start the setup wizard after "+this.attempts+" attempts"),void this.navigate("setupError");this.attempts++;var e=this.model.get("startState");if(e)(0,Sr.Z)("Waiting for server to start ("+e+")"),this.model.fetch().done(gr().delay(this.start,500));else{var t=new Zr.Z([],{server:this.model}).fetch({timeout:0});t.done(this.onAgentsSuccess),t.fail(this.onAgentsFail)}},navigate:function(e){var t="setupIntro"===e,n="setupSignIn"===e,r="setupLoading"===e,i=function(e){return{setupSignIn:Ei,setupIntro:Ki,setupLoading:ds,setupError:Hi,setupBasic:Ni,setupLibrary:os,setupComplete:Bi}[e]}(e),s=ms[e];this.previousSubset=this.subset,this.subset=e,s&&(0,P.DB)("metrics").trackView({page:d.YB,pane:s,firstRun:!0});const a=!this._visitedSubsets[e];this._visitedSubsets[e]=!0;const o=new i({model:this.model,isFirstRun:!0,isFirstVisitToSubset:a});this.container.show(o),this.ui.header.toggleClass("hidden",t||n),this.$el.addClass(e),this.previousSubset!==e&&this.$el.removeClass(this.previousSubset),r&&this.start()},onRender:function(){this.renderSubset()},onAgentsSuccess:function(e){(0,Sr.Z)("Looking for a core agent");const t=hs.find((t=>e.get(t)));t?((0,Sr.Z)(t+" found"),this.model.get("desktop").get("settings").populate().then((e=>e.get("AcceptedEULA").save({AcceptedEULA:!0}))),yr.Z.execute("updateChannel",{server:this.model,silent:!0}).always(this.onUpdatesComplete)):(Sr.Z.error("No core agents found"),this.navigate("setupError"))},onAgentsFail:function(){Sr.Z.warn("Unable to request agents"),gr().delay(this.start,500)},onUpdatesComplete:function(){this.navigate("setupBasic")},onNavClick:function(e){e.preventDefault();var t=mr()(e.currentTarget),n=t.data("subset");t.hasClass("segment-btn")&&"setupBasic"===this.subset&&this.container.currentView?(e.preventDefault(),this.container.currentView.submit()):this.navigate(n)},onDoneClick:function(e){e.preventDefault(),(0,P.DB)("metrics").trackClick({page:d.YB,action:br.ly,firstRun:!0}),(0,Pr.Z)("home")},onSkipSignInChange(){this.renderSubset()}});var ys=n(28888),vs=n(20500),fs=n(95614),bs=n(43045),Ss=n(59194),Is=n(26893);const Zs=(0,s.$j)((function(){return(0,o.P1)((0,bs.Z)(),(e=>{const t=e.settings.find((e=>"AcceptedEULA"===e.id));return{isSettingsPopulated:e.isSettingsPopulated,settingsError:e.settingsError,hasAcceptedEULA:!(!t||!t.value),isAcceptedEULASaving:!(!t||!t.isSaving)}}))}),(function(e,t){const{serverEntityID:n,forwardUrl:r}=t;return{onPopulateSettings(){e((0,Ss.R_)({serverEntityID:n}))},onAcceptEULA(){e((0,Ss.o1)({serverEntityID:n,setting:{id:"AcceptedEULA",value:!0}}))},onSkipSignIn(){(0,P.DB)("metrics").trackClick({page:d.H4,action:br.AM,firstRun:!0}),e((0,M.nL)({url:r}))}}}))((function(e){const{isSettingsPopulated:t,settingsError:n,hasAcceptedEULA:r,isAcceptedEULASaving:s,onPopulateSettings:a,onAcceptEULA:o,onSkipSignIn:l}=e;return(0,Is.Z)((()=>{a()})),(0,Is.Z)((()=>{o()}),t&&!r),(0,Is.Z)((()=>{l()}),r&&!s),n?i.createElement(fs.Z,{title:(0,E.Z)("Media server not found"),description:(0,E.Z)("The server you're trying to access doesn't seem to exist.")}):i.createElement(ai.Z,null,i.createElement(si.Z,null))})),Ps=(0,s.$j)((function(){return(0,o.P1)(((e,{serverEntityID:t})=>t),(e=>e.primaryServer),(e=>e.isWaitingForPrimaryServer),c.Z,((e,t,n)=>({serverEntityID:e||t,isWaitingForPrimaryServer:n})))}))((function(e){const{serverEntityID:t,isWaitingForPrimaryServer:n}=e,r=(0,h.Z)(),s=(0,ur.Z)(r.forwardUrl);return t?i.createElement(vs.Z,{serverEntityID:t,hideUnclaimedPage:!0},s?i.createElement(Zs,{serverEntityID:t,forwardUrl:s}):i.createElement(ys.Z,{key:(0,dr.Z)("SetupPage",t),className:pV,view:gs,viewOptions:{serverEntityID:t,subset:"setupBasic"}})):n?i.createElement(ai.Z,null,i.createElement(si.Z,null)):i.createElement(fs.Z,{title:(0,E.Z)("Media server not found"),description:(0,E.Z)("The server you're trying to access doesn't seem to exist.")})}));function Es(){const e=(0,or.Z)(),t=(0,sr.Z)(ar.cN,e.machineIdentifier);return i.createElement(cr.Z,null,i.createElement(lr.Z,null,i.createElement(Ps,{serverEntityID:t})))}var Ms=n(58499);function Cs(){return i.createElement(ys.Z,{key:"UserSelectModal",className:"UserSelectModal-darkModalBackdrop-3c7cEB",view:Ms.Z,viewOptions:{isForced:!0,backdrop:!1}})}var ws=n(31446),Ds=n(81858),Ts=n(94177),Os=n(81731),xs=Object.prototype.hasOwnProperty,As=Object.getOwnPropertySymbols,Ns=Object.prototype.propertyIsEnumerable;function ks(){const e=(0,s.I0)(),{metricsPage:t,metricsContextTuple:n}=(0,g.Zn)(),{machineIdentifier:r,providerIdentifier:a}=(0,or.Z)(),o=(0,s.v9)((0,Ts.Z)(r)),l=(0,s.v9)((0,Ds.Z)(r,a)),c=(0,h.Z)();return(0,i.useEffect)((()=>{const r=c,{key:i,channel:s,source:a}=r,d=((e,t)=>{var n={};for(var r in e)xs.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&As)for(var r of As(e))t.indexOf(r)<0&&Ns.call(e,r)&&(n[r]=e[r]);return n})(r,["key","channel","source"]);e((0,Os.D7)({server:o,provider:l,metadataKey:i?(0,ur.Z)(i):void 0,channel:s?(0,ur.Z)(s):void 0,prePlayRouteParams:d,metricsPage:t,metricsContextTuple:n}))}),[c,e,t,l,o,n]),i.createElement(ai.Z,null,i.createElement(si.Z,null))}function Ls(){const{machineIdentifier:e,providerIdentifier:t}=(0,or.Z)(),n=(0,h.Z)();return i.createElement(cr.Z,null,i.createElement(lr.Z,null,i.createElement(ws.Z,{machineIdentifier:e,providerIdentifier:t},i.createElement(g.ZP,{metricsPage:d.sD,metricsContextParam:(0,ur.Z)(n.context)},i.createElement(ks,null)))))}var js=n(5513),Rs=n(4134),Vs=n(55885),Us=n(2530);const zs=(0,o.P1)(Us.Z,(e=>e.announcements)),Bs=(0,o.P1)(zs,(e=>e.filter((e=>!e.read))));var _s=n(92187),Fs=n(59468),Hs=n(35589),Ws=n(54304),Qs=n(27082),Gs=n(90217);const Ys=(0,o.P1)(Gs.Z,(e=>e.filter((e=>!e.isCloud&&!e.isEmbedded&&!!e.friendlyName)))),qs=(0,o.P1)(Us.Z,(e=>e.invites));var Ks=n(27271),$s=n(66088),Xs=n(22745),Js=n(70182),ea=n(79849),ta=n(32080),na=n(89460),ra=n(2424),ia=n(64795);const sa=function(e){const{isOpen:t,errorMessage:n,onModalClose:r}=e,s=[n||(0,E.Z)("There was an unexpected error."),(0,E.Z)("Please visit our forums if you continue to experience problems.")];return i.createElement(ra.Z,{size:Gr.HC,isOpen:t,metricsPage:d.Sd,onModalClose:r},i.createElement(ia.Z,{onModalClose:r},i.createElement(na.Z,null,(0,E.Z)("There was an unexpected error")),i.createElement(Js.Z,null,s.join(" "),i.createElement("br",null),i.createElement(Lr.Z,{to:pe.bB,target:"_self",kind:Qr._8,onPress:r},(0,E.Z)("Go to Forums"))),i.createElement(ea.Z,null,i.createElement(Xs.Z,{className:ta.Z.button,"data-autofocus":!0,kind:Qr._8,onPress:r},(0,E.Z)("Okay")))))};var aa=n(92885),oa=n(39611);const la=function(){const e=(0,aa.Z)(),t=(0,E.Z)("An unexpected error is impacting the navigation bar");return i.createElement("div",{className:"ErrorNavBar-container-2UKwcq NavBar-container-1YySYJ"},i.createElement(Ks.Z,{component:Lr.Z,tooltip:t,tooltipAttachment:$s.eO,"aria-label":t,onPress:e.onOpen},i.createElement(oa.Z,{className:"ErrorNavBar-icon-Chcl6k"})),i.createElement(sa,{isOpen:e.isOpen,errorMessage:`${t}.`,onModalClose:e.onClose}))};var ca=n(84571),da=n(84250),ua=n(39502),pa=n(38853),ma=n(61676),ha=n(17808),ga=n(41890),ya=n(9010),va=n(38516);function fa(){return(0,o.P1)(Ue.Z,(0,va.Z)("providerEntityID"),((e,t)=>e[t]))}var ba=n(36535);const Sa=function(){return(0,o.P1)(fa(),(e=>(0,ba.Z)(e.identifier,e.providerIdentifier)))},Ia=function(e){return e.castApiAvailability},Za=function(){return(e,t)=>t.playerType?(0,o.P1)(Ia,Sa(),ma.Z,((e,t,n)=>(0,ya.Z)({protocol:ga.l,providerIdentifier:t,userFeaturesByUUID:n})?e:ha.lz))(e,t):Ia(e)},Pa=(0,o.P1)(Us.Z,(({cloudCompanions:e})=>e)),Ea=(0,o.P1)(Pa,(e=>e.reduce(((e,{cloudPlayers:t})=>e.concat(t)),[])));var Ma=n(4524);const Ca=(0,o.P1)((e=>e.companionServer),Ma.Z,((e,t)=>t[e])),wa=(0,o.P1)(Ca,(e=>e?e.desktop.players:[])),Da=(0,o.P1)(wa,Ea,((e,t)=>e.concat(t))),Ta=function(){return(e,t)=>t.playerType?(0,o.P1)(Sa(),ma.Z,Da,((e,t,n)=>n.filter((({protocol:n,protocolCapabilities:r})=>(0,ya.Z)({protocol:n,protocolCapabilities:r,providerIdentifier:e,userFeaturesByUUID:t})))))(e,t):Da(e,t)};var Oa=n(56416),xa=n(84936);const Aa=(0,o.P1)(Pa,c.Z,((e,t)=>e.filter((({identifier:e})=>e.includes("sonos"))).map((e=>{const n=xa.Z.join(e.linkURL,{"X-Plex-Token":t.accessToken,next:window.location.href});return{title:e?e.title:"Sonos",state:e?e.linkState:Oa.uf,url:n}})))),Na=(0,o.P1)(Ca,(e=>e?e.desktop.neighborhoodDevices:[])),ka=(0,o.P1)(Na,(e=>!!e.find((({uuid:e})=>e.includes("RINCON")))));n(70394);var La=n(27028),ja=n(53851),Ra=n(45697),Va=n.n(Ra),Ua=n(17845);function za(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-remote-player-off-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M0 84v98c14.294 0 28.252 1.372 42 3.346V126h476v308H290.654c1.974 13.748 3.346 27.706 3.346 42h266V84H0m42 392c0-23.198-18.802-42-42-42v42h42m56 0h42c0-77.322-62.678-140-140-140v42c54.04 0 98 43.96 98 98m98 0h42c0-131.446-106.554-238-238-238v42c108.08 0 196 87.92 196 196"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}za.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const Ba=za;function _a(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-remote-player-on-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M0 84v98c162.372 0 294 131.628 294 294h266V84H0m42 392c0-23.198-18.802-42-42-42v42h42m56 0h42c0-77.322-62.678-140-140-140v42c54.04 0 98 43.96 98 98m98 0h42c0-131.446-106.554-238-238-238v42c108.08 0 196 87.92 196 196"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}_a.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const Fa=_a;var Ha=n(69756),Wa=n(68105),Qa=n(65671);const Ga=function(e){const{isOpen:t,onClose:n}=e;return i.createElement(ra.Z,{isOpen:t,metricsPage:d.BE,size:Gr.HC,onModalClose:n},i.createElement(ia.Z,{onModalClose:n},i.createElement(na.Z,null,(0,E.Z)("Chromecast unavailable")),i.createElement(Js.Z,null,i.createElement(Qa.Z,{message:(0,E.Z)("Casting to Chromecast requires a secure connection to the Plex Web app. Please visit {openLink}https://app.plex.tv{closeLink} and try again."),tags:[{open:"openLink",close:"closeLink",component:Lr.Z,to:`https://app.plex.tv/desktop${window.location.hash}`,kind:Qr._8}]}))))};class Ya extends i.Component{constructor(){super(...arguments),this.onPress=e=>{this.props.onPlayerSelect(this.props.playerIdentifier),this.props.onPress(e)}}render(){return i.createElement(En.Z,{onPress:this.onPress},this.props.children)}}const qa=Ya,Ka="RemotePlayerMenuItems-menuItemSubtitle-1kaR9F";class $a extends i.Component{constructor(e,t){super(e,t),this.onCastPress=e=>{this.props.onCastPress(e),this.props.onMenuClose(e)},this.onCastMissingPress=e=>{this.setState({isCastMissingModalOpen:!0})},this.onCastMissingModalClose=()=>{this.setState({isCastMissingModalOpen:!1},(()=>{this.props.onMenuClose()}))},this.onSonosUpsellPress=()=>{this.setState({isPlexPassModalOpen:!0})},this.onPlexPassModalClose=()=>{this.setState({isPlexPassModalOpen:!1})},this.onDisconnectPress=e=>{this.props.onDisconnectPress(e),this.props.onMenuClose(e)},this.state={isCastMissingModalOpen:!1,isPlexPassModalOpen:!1}}render(){const{castApiAvailability:e,castAppTitle:t,sonosLinks:n,isRemotePlayer:r,remotePlayerName:s,remotePlayerProduct:a,players:o,onMenuClose:l,onPlayerSelect:c}=this.props,{isCastMissingModalOpen:d,isPlexPassModalOpen:u}=this.state,p=n.filter((({state:e})=>e===Oa.th)),m=!r&&e===ha.Rl,h=!r&&e===ha.Ke,g=!r&&p.length,y=!r&&n.length&&n.every((({state:e})=>e===Oa.Ey)),v=m||h||g||y,f=!r&&!!o.length,b=!(r||m||h||f);return i.createElement("div",null,r?[i.createElement("div",{key:"name",className:"RemotePlayerMenuItems-remotePlayerName-2j0yf_"},s),i.createElement("div",{key:"product",className:"RemotePlayerMenuItems-remoteProduct-3w7vsC"},a),i.createElement(En.Z,{key:"disconnect",onPress:this.onDisconnectPress},i.createElement(Ha.Z,{className:"RemotePlayerMenuItems-disconnectIcon-1okAr3","aria-label":(0,E.Z)("Disconnect")}),(0,E.Z)("Disconnect"))]:null,m?i.createElement(En.Z,{key:"cast",onPress:this.onCastPress},t?(0,E.Z)("Cast ({title})...",{title:t}):(0,E.Z)("Cast...")):null,h?i.createElement(i.Fragment,null,i.createElement(Ga,{isOpen:d,onClose:this.onCastMissingModalClose}),i.createElement(En.Z,{key:"cast",onPress:this.onCastMissingPress},(0,E.Z)("Cast..."))):null,null,g?p.map((e=>i.createElement(En.Z,{key:e.url,to:e.url},i.createElement("div",null,e.title,"..."),i.createElement("div",{className:Ka},(0,E.Z)("Link your Sonos account"))))):null,y?i.createElement(En.Z,{key:"sonosUpsell",onPress:this.onSonosUpsellPress},i.createElement("div",null,"Sonos..."),i.createElement("div",{className:Ka},(0,E.Z)("Upgrade to a Plex Pass"))):null,v&&f?i.createElement(Wa.Z,{key:"separator"}):null,f?o.map((({playerIdentifier:e,friendlyName:t,product:n})=>i.createElement(qa,{key:e,playerIdentifier:e,onPress:l,onPlayerSelect:c},i.createElement("div",null,t),i.createElement("div",{className:"RemotePlayerMenuItems-remotePlayerProduct-2aeldf"},n)))):null,b?i.createElement("div",{className:"RemotePlayerMenuItems-emptyMessage-2mEm8c"},(0,E.Z)("No players found")):null,i.createElement(Oi.Z,{origin:Ti.ID,isOpen:u,onModalClose:this.onPlexPassModalClose}))}}const Xa=$a;class Ja extends i.Component{constructor(e,t){super(e,t),this.onPress=()=>{this.setState(((e,t)=>({isMenuOpen:!e.isMenuOpen})),(()=>{this.props.onMenuChange&&this.props.onMenuChange(this.state.isMenuOpen)}))},this.onMenuClose=()=>{this.setState({isMenuOpen:!1},(()=>{this.props.onMenuChange&&this.props.onMenuChange(!1)}))},this.state={isMenuOpen:!1},this._menuButtonID=(0,ja.Z)()}componentDidUpdate(e,t){this.state.isMenuOpen&&!t.isMenuOpen&&this.props.onDiscoverPlayers()}render(){const{className:e,iconClassName:t,iconComponent:n,isRemotePlayer:r,castApiAvailability:s,castAppTitle:a,sonosLinks:o,hasCompanionServer:l,remotePlayerName:c,remotePlayerProduct:d,players:u,onPlayerSelect:p,onCastPress:m,onDisconnectPress:h}=this.props,g=s===ha.Rl;return i.createElement(i.Fragment,null,i.createElement(n,{className:e,iconClassName:t,id:this._menuButtonID,ariaLabel:(0,E.Z)("Select Player"),title:this.state.isMenuOpen?null:(0,E.Z)("Select Player"),iconComponent:r?Fa:Ba,isDisabled:!g&&!l,isSelected:r,onPress:this.onPress}),i.createElement(Pn.Z,{target:this._menuButtonID,isOpen:this.state.isMenuOpen,size:Gr.ln,onMenuClose:this.onMenuClose},i.createElement(Xa,{castApiAvailability:s,castAppTitle:a,sonosLinks:o,isRemotePlayer:r,remotePlayerName:c,remotePlayerProduct:d,players:u,onPlayerSelect:p,onCastPress:m,onDisconnectPress:h,onMenuClose:this.onMenuClose})))}}Ja.defaultProps={iconComponent:La.Z};const eo=Ja,to=()=>{},no=(0,s.$j)((function(){return(0,o.P1)(Za(),da.Z,Ta(),Aa,ka,(e=>e.companionServer),to,((e,t,n,r,i,s,a)=>({castApiAvailability:e,castAppTitle:a,sonosLinks:i?r:[],hasCompanionServer:!!s,isRemotePlayer:!!t,remotePlayerName:t&&t.friendlyName,remotePlayerProduct:t&&t.product,players:n})))}),(function(e){return{onDiscoverPlayers(t){e(pa.Jo())},onPlayerSelect(e){(0,P.DB)("remotePlexPlayerManager").requestSession(e)},onCastPress(t){e(ua.NH())},onDisconnectPress(t){e(pa.Qt())}}}))(eo);var ro=n(23901);n(11133);var io=Object.defineProperty,so=Object.prototype.hasOwnProperty,ao=Object.getOwnPropertySymbols,oo=Object.prototype.propertyIsEnumerable,lo=(e,t,n)=>t in e?io(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,co=(e,t)=>{for(var n in t||(t={}))so.call(t,n)&&lo(e,n,t[n]);if(ao)for(var n of ao(t))oo.call(t,n)&&lo(e,n,t[n]);return e};function uo(e){const t=e,{className:n,tooltipClassName:r,tooltipFocusedClassName:s,labelClassName:a,iconClassName:o,iconComponent:l,alertIconClassName:c,alertIconComponent:d,title:u,ariaLabel:p,label:m,iconProps:h}=t,g=((e,t)=>{var n={};for(var r in e)so.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ao)for(var r of ao(e))t.indexOf(r)<0&&oo.call(e,r)&&(n[r]=e[r]);return n})(t,["className","tooltipClassName","tooltipFocusedClassName","labelClassName","iconClassName","iconComponent","alertIconClassName","alertIconComponent","title","ariaLabel","label","iconProps"]),y=u||p;return i.createElement(Ks.Z,co({className:n,tooltipClassName:r,tooltipFocusedClassName:s,component:Lr.Z,tooltip:u,"aria-label":y},g),i.createElement(l,co({className:o},h)),d?i.createElement(d,{className:c}):null,m?i.createElement("span",{className:a},m):null)}uo.defaultProps={className:"NavBarIconButton-button-3Fm-24 IconButton-button-llQ1So",iconClassName:"NavBarIconButton-icon-vxS-c-",alertIconClassName:"NavBarIconButton-alertIcon-3RbSz5",tooltipClassName:"NavBarIconButton-tooltip-11tYIE Tooltip-bottomCenter-3I-giq Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipTopArrow-1LUIRT Tooltip-tooltipCenterAlignArrow-EwxeoC",tooltipFocusedClassName:"NavBarIconButton-tooltipTriggerHasFocus-3hyJMe NavBarIconButton-tooltip-11tYIE Tooltip-bottomCenter-3I-giq Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipTopArrow-1LUIRT Tooltip-tooltipCenterAlignArrow-EwxeoC"};const po=uo;function mo(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-alert-dot-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["circle",{cx:"280",cy:"280",r:"196"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}mo.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const ho=mo;function go(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-settings-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M294 378l56-56 142.027 116.204a14 14 0 0 1 1.034 20.735l-62.122 62.122a14.001 14.001 0 0 1-20.735-1.034L294 378zm-.589-167.411C284.832 193.57 280 174.345 280 154c0-69.541 56.459-126 126-126 35.996 0 68.486 15.127 91.456 39.365L364 103.124l30.746 114.746 134.142-35.943C516.169 238.048 465.945 280 406 280c-20.345 0-39.57-4.832-56.589-13.411L103.799 512.201c-10.935 10.935-28.663 10.935-39.598 0l-16.402-16.402c-10.935-10.935-10.935-28.663 0-39.598l245.612-245.612zM84 168L28 84l28-28 84 56v28l84 84-28 28-84-84H84z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}go.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const yo=go,vo=(0,o.P1)(ro.Z,(e=>({shouldShowAlertDot:e}))),fo=(0,s.$j)(vo)((function(e){const{shouldShowAlertDot:t}=e;return i.createElement(po,{className:"SettingsButton-button-4mlrVS NavBar-button-1cThl9 NavBarIconButton-button-3Fm-24 IconButton-button-llQ1So",to:"#!/settings/web/general",iconComponent:yo,alertIconComponent:t?ho:null,title:(0,E.Z)("Settings")})}));var bo=Object.defineProperty,So=Object.prototype.hasOwnProperty,Io=Object.getOwnPropertySymbols,Zo=Object.prototype.propertyIsEnumerable,Po=(e,t,n)=>t in e?bo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Eo=(e,t)=>{for(var n in t||(t={}))So.call(t,n)&&Po(e,n,t[n]);if(Io)for(var n of Io(t))Zo.call(t,n)&&Po(e,n,t[n]);return e};function Mo(e){const t=e,{children:n,className:r}=t,s=((e,t)=>{var n={};for(var r in e)So.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Io)for(var r of Io(e))t.indexOf(r)<0&&Zo.call(e,r)&&(n[r]=e[r]);return n})(t,["children","className"]);return i.createElement(Lr.Z,Eo(Eo({},s),{className:r}),n)}Mo.defaultProps={className:"NavBarButton-button-g3tE6m Link-link-CM9nxg"};const Co=Mo,wo=function(){const e=(0,a.k6)(),t=(0,i.useCallback)((()=>{e.push(V.Z.login)}),[e]);return i.createElement(Co,{className:"NavBarSignInButton-signInButton-3Ec4_a NavBarButton-button-g3tE6m Link-link-CM9nxg","data-qa-id":"signInButton",onPress:t},(0,E.Z)("Sign In"))},Do=function(){const e=(0,a.k6)(),t=(0,i.useCallback)((()=>{e.push(V.Z.signUp)}),[e]);return i.createElement(Co,{"data-qa-id":"signUpButton",onPress:t},(0,E.Z)("Sign Up"))};var To=n(72194),Oo=n(12319),xo=n(31500),Ao=n(11354);function No(e,t,n){const{isCloud:r,isFullOwnedServer:i,serverFriendlyName:s,serverSourceTitle:a,providerSourceTitle:o}=e,{ownedSources:l,sharedSources:c}=t,d=Object.keys(l).length,u=Object.keys(c).length;if(r)return d>0||u>0?o:void 0;if(i)return d>1?s:void 0;const p=c[a];return(p?p.length:0)>1?n?s:`${a} • ${s}`:d>0||u>1?a:void 0}var ko=n(56971),Lo=Object.defineProperty,jo=Object.prototype.hasOwnProperty,Ro=Object.getOwnPropertySymbols,Vo=Object.prototype.propertyIsEnumerable,Uo=(e,t,n)=>t in e?Lo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zo=(e,t)=>{for(var n in t||(t={}))jo.call(t,n)&&Uo(e,n,t[n]);if(Ro)for(var n of Ro(t))Vo.call(t,n)&&Uo(e,n,t[n]);return e},Bo=n(94716),_o=n(97606),Fo=Object.defineProperty,Ho=Object.prototype.hasOwnProperty,Wo=Object.getOwnPropertySymbols,Qo=Object.prototype.propertyIsEnumerable,Go=(e,t,n)=>t in e?Fo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yo=(e,t)=>{for(var n in t||(t={}))Ho.call(t,n)&&Go(e,n,t[n]);if(Wo)for(var n of Wo(t))Qo.call(t,n)&&Go(e,n,t[n]);return e};function qo(){return(0,o.P1)(xo.Z,_s.Z,Gs.Z,c.Z,Ue.Z,(e=>!e.user.isFullUser),((e,t,n,r,i,s)=>{const a=[];return e.forEach((e=>{if(e.isHidden)return;const s=function(e,t){return e.find((e=>e.machineIdentifier===t))}(n,e.machineIdentifier),o=function(e,t,n,r){if(!e)return null;const i=(e.isCloud?n:e.providers).find((e=>{const n=t[e];return n&&n.identifier===r}));return t[i]}(s,i,t.providers,e.providerIdentifier),l=(0,_o.Z)(o,e.directoryID),c=(0,Bo.Z)(o,l);if(c)a.push((0,Ao.Z)({sourceType:c.key,sourceServer:s,sourceProvider:o,sourceDirectory:l}));else{const n=function(e,t,n,r){return e?e.isCloud?e.connectionTestResult!==Oo._r.UNAVAILABLE&&!r.isProvidersPopulated&&!r.providersError||t&&!t.isPopulated&&!t.error:e.connectionTestResult===Oo._r.PENDING:n.isResourcesPending}(s,o,r,t);a.push(Yo(Yo({},e),{serverEntityID:s&&s.entityID,providerEntityID:o&&o.entityID,isUnavailable:!n,isProviderReady:o?o.isPopulated||null!=o.error:!n}))}})),function(e,t){const n=(0,ko.Z)(e);return e.map((e=>zo(zo({},e),{titleDetail:No(e,n,t)})))}(a,s)}))}var Ko=n(72668),$o=n(57358),Xo=n(67006),Jo=n(57721),el=n(3386),tl=n(40875),nl=n(94184),rl=n.n(nl),il=n(61006),sl=n(44233),al=n(52999),ol=n(7796);class ll extends i.Component{constructor(e){super(e),this.focusInput=()=>{this._input.focus()},this.onClick=e=>{this.focusInput(),this.props.onClick()},this.onFocus=()=>{this.setState({isFocused:!0})},this.onBlur=()=>{this.setState({isFocused:!1})},this.onChange=e=>{const t=e.target.value;this.searchTimeout&&window.clearTimeout(this.searchTimeout),this.setState({query:t},(()=>{this.props.onChange(t),""!==t.trim()&&(this.searchTimeout=window.setTimeout(this.props.onSearch,200))}))},this.onClearPress=e=>{e.stopPropagation(),this.searchTimeout&&window.clearTimeout(this.searchTimeout),this.setState({query:""},(()=>{this.props.onChange(""),this.focusInput()}))},this.onRef=e=>{const{onRef:t}=this.props;this._input=e,t&&t(e)},this.state={isFocused:!1,query:e.query},this.searchTimeout=null}UNSAFE_componentWillReceiveProps(e){this.state.query!==e.query&&this.setState({query:e.query})}shouldComponentUpdate(e,t){return(0,F.Z)(this,e,t)}componentWillUnmount(){this.searchTimeout&&window.clearTimeout(this.searchTimeout)}render(){const{closeIcon:e,searchIcon:t}=this.props,{isFocused:n,query:r}=this.state;return i.createElement("div",{className:rl()("QuickSearchInput-container-3kpzkL",n&&"QuickSearchInput-focused-1elTTH"),onClick:this.onClick},i.createElement(t,{className:"QuickSearchInput-searchIcon-2JTGa7"}),i.createElement("input",{"data-qa-id":"quickSearchInput",className:"QuickSearchInput-searchInput-3cxaps",value:r,type:"text",autoComplete:"off",spellCheck:"false",ref:this.onRef,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur}),r.length>0?i.createElement(Lr.Z,{onPress:this.onClearPress},i.createElement(e,{className:"QuickSearchInput-closeIcon-b97dNd"})):null)}}ll.defaultProps={query:"",onClick:Va().func};const cl=ll;var dl=n(65193),ul=n(39869),pl=Object.defineProperty,ml=Object.prototype.hasOwnProperty,hl=Object.getOwnPropertySymbols,gl=Object.prototype.propertyIsEnumerable,yl=(e,t,n)=>t in e?pl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vl=(e,t)=>{for(var n in t||(t={}))ml.call(t,n)&&yl(e,n,t[n]);if(hl)for(var n of hl(t))gl.call(t,n)&&yl(e,n,t[n]);return e};class fl extends i.Component{constructor(){super(...arguments),this.focusInput=()=>{this._input.focus()},this.onRef=e=>{this._input=e}}componentDidMount(){wi.Z.on("shortcut:search",this.focusInput)}shouldComponentUpdate(e,t){return(0,F.Z)(this,e,t)}componentWillUnmount(){wi.Z.off("shortcut:search",this.focusInput)}render(){return i.createElement(cl,vl(vl({},this.props),{closeIcon:dl.Z,searchIcon:ul.Z,onRef:this.onRef}))}}const bl=fl;var Sl=n(63731);var Il=Object.defineProperty,Zl=Object.prototype.hasOwnProperty,Pl=Object.getOwnPropertySymbols,El=Object.prototype.propertyIsEnumerable,Ml=(e,t,n)=>t in e?Il(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Cl(e){const t=e,{className:n,isSelected:r,text:s,url:a,onLinkPress:o,onLinkFocus:l}=t,c=((e,t)=>{var n={};for(var r in e)Zl.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Pl)for(var r of Pl(e))t.indexOf(r)<0&&El.call(e,r)&&(n[r]=e[r]);return n})(t,["className","isSelected","text","url","onLinkPress","onLinkFocus"]);return i.createElement(Lr.Z,((e,t)=>{for(var n in t||(t={}))Zl.call(t,n)&&Ml(e,n,t[n]);if(Pl)for(var n of Pl(t))El.call(t,n)&&Ml(e,n,t[n]);return e})({className:rl()(n,r&&"QuickSearchPlaceholderLink-isPlaceholderSelected-1vG0F6"),tabIndex:"1",title:s,to:a,onPress:o,onFocus:l},c),s)}Cl.defaultProps={className:"QuickSearchPlaceholderLink-placeholder-7b0xLM"};const wl=Cl,Dl=function(e){const{query:t,isSelected:n,onLinkPress:r,onLinkFocus:s}=e,a=encodeURIComponent(t);return i.createElement(wl,{isSelected:n,text:(0,E.Z)("Search all sources..."),url:`#!/search?query=${a}`,onLinkPress:r,onLinkFocus:s})};var Tl=Object.defineProperty,Ol=Object.prototype.hasOwnProperty,xl=Object.getOwnPropertySymbols,Al=Object.prototype.propertyIsEnumerable,Nl=(e,t,n)=>t in e?Tl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const kl={resetQuickSearch:tl.resetQuickSearch,selectQuickSearchResult:tl.selectQuickSearchResult};class Ll extends i.Component{constructor(){super(...arguments),this.onLinkPress=e=>{this.props.resetQuickSearch(),al.Fp()},this.onLinkFocus=e=>{this.props.selectQuickSearchResult({searchResultEntityID:null})}}render(){return i.createElement(Dl,((e,t)=>{for(var n in t||(t={}))Ol.call(t,n)&&Nl(e,n,t[n]);if(xl)for(var n of xl(t))Al.call(t,n)&&Nl(e,n,t[n]);return e})({onLinkPress:this.onLinkPress,onLinkFocus:this.onLinkFocus},this.props))}}const jl=(0,s.$j)((0,o.P1)((e=>e.ui.quickSearch),(e=>({query:e.query,isSelected:!e.selectedResultEntityID}))),kl)(Ll),Rl=function(e){const{children:t,title:n}=e;return i.createElement("div",null,i.createElement("h5",{className:"QuickSearchHubContainer-hubTitle-2EKUDG","data-qa-id":"quickSearchHub"},n),t)};var Vl=n(81017),Ul=n(70488),zl=n(96649),Bl=n(74253),_l=n(69881),Fl=n(83705),Hl=n(9220),Wl=n(50657),Ql=n(26512),Gl=n(73862),Yl=n(60208),ql=n(80126),Kl=n(27154),$l=n(60363),Xl=n(4746),Jl=n(33894),ec=n(64659),tc=n(97818),nc=n(48487),rc=n(16345),ic=n(76080),sc=n(62912);const ac=(0,s.$j)((function(){return(0,o.P1)((0,Vl.Z)(),((e={})=>({leafCount:e.leafCount})))}))(sc.Z);var oc=n(50079),lc=n(82514),cc=n(18095),dc=n(6638),uc=n(52097),pc=n(10128),mc=n(84699),hc=n(5148);function gc(e){const{className:t,playButtonClassName:n,playCircleClassName:r,serverEntityID:s,providerEntityID:a,imageWidth:o,imageHeight:l,imageUrl:c,title:d,isLiveTVItem:u,recordLink:p,onRecordPress:m,onPlayPress:h}=e;return i.createElement(mc.Z,{className:t,serverEntityID:s,providerEntityID:a,component:hc.Z,width:o,height:l,url:c},u?i.createElement(pc.Z,{className:"MetadataPosterButtonCard-recordButton-1_o-UB RecordIcon-recordIconContainer-3wNYSz","data-qa-id":"metadataPosterRecordButton",circleClassName:"MetadataPosterButtonCard-recordCircle-3pLHPB RecordIcon-recordCircle-24nR_8 PlayButton-playCircle-2DYa77",tabIndex:"-1",title:d,to:p,onPress:m}):i.createElement(uc.Z,{className:n,"data-qa-id":"metadataPosterPlayButton",circleClassName:r,tabIndex:"-1",title:d,onPress:h}))}gc.defaultProps={className:"MetadataPosterButtonCard-card-3uptBn",playButtonClassName:"MetadataPosterButtonCard-playButton-3TZX1L PlayButton-playButton-2dFmuo",playCircleClassName:"MetadataPosterButtonCard-playCircle-3JXUqx PlayButton-playCircle-2DYa77",isLiveTVItem:!1};const yc=gc;var vc=Object.defineProperty,fc=Object.prototype.hasOwnProperty,bc=Object.getOwnPropertySymbols,Sc=Object.prototype.propertyIsEnumerable,Ic=(e,t,n)=>t in e?vc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Zc(e){return i.createElement(yc,((e,t)=>{for(var n in t||(t={}))fc.call(t,n)&&Ic(e,n,t[n]);if(bc)for(var n of bc(t))Sc.call(t,n)&&Ic(e,n,t[n]);return e})({},e))}Zc.defaultProps={className:"QuickSearchMetadataPosterCard-card-oRXsxj MetadataPosterButtonCard-card-3uptBn"};const Pc=Zc;var Ec=n(15065);var Mc=Object.defineProperty,Cc=Object.prototype.hasOwnProperty,wc=Object.getOwnPropertySymbols,Dc=Object.prototype.propertyIsEnumerable,Tc=(e,t,n)=>t in e?Mc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Oc=function(e){return i.createElement(Ec.Z,((e,t)=>{for(var n in t||(t={}))Cc.call(t,n)&&Tc(e,n,t[n]);if(wc)for(var n of wc(t))Dc.call(t,n)&&Tc(e,n,t[n]);return e})({className:"QuickSearchTagPosterCard-card-3ZFqeb TagPosterCard-card-3VDS7c MetadataPosterCardFace-poster-11uR3N"},e))};var xc=Object.defineProperty,Ac=Object.prototype.hasOwnProperty,Nc=Object.getOwnPropertySymbols,kc=Object.prototype.propertyIsEnumerable,Lc=(e,t,n)=>t in e?xc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const jc=function(e){const t=e,{className:n,component:r,isSecondary:s}=t,a=((e,t)=>{var n={};for(var r in e)Ac.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Nc)for(var r of Nc(e))t.indexOf(r)<0&&kc.call(e,r)&&(n[r]=e[r]);return n})(t,["className","component","isSecondary"]);return i.createElement("div",{className:rl()(n,"QuickSearchTitle-title-5TWMlh",s&&"QuickSearchTitle-isSecondary-1uSsLf")},i.createElement(r,((e,t)=>{for(var n in t||(t={}))Ac.call(t,n)&&Lc(e,n,t[n]);if(Nc)for(var n of Nc(t))kc.call(t,n)&&Lc(e,n,t[n]);return e})({tabIndex:"-1"},a)))};var Rc=n(6447);const Vc=function({className:e,tag:t}){return i.createElement("span",{className:e},t)};var Uc=Object.defineProperty,zc=Object.prototype.hasOwnProperty,Bc=Object.getOwnPropertySymbols,_c=Object.prototype.propertyIsEnumerable,Fc=(e,t,n)=>t in e?Uc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Hc=(0,s.$j)((function(){return(0,o.P1)((0,zl.Z)(),((e={})=>({tag:e.tagItem&&e.tagItem.tag})))}))((function(e){return i.createElement(Vc,((e,t)=>{for(var n in t||(t={}))zc.call(t,n)&&Fc(e,n,t[n]);if(Bc)for(var n of Bc(t))_c.call(t,n)&&Fc(e,n,t[n]);return e})({},e))}));class Wc extends i.Component{constructor(e){super(e),this.onItemPress=e=>{e.stopPropagation(),this.state.isActionsMenuOpen&&this.props.onLinkPress()},this.onItemFocus=e=>{this.props.onResultFocus(this.props.searchResultEntityID)},this.onPlayPress=e=>{e.stopPropagation(),this.props.onPlayPress(this.props.searchResultEntityID)},this.onLinkPress=e=>{e.stopPropagation(),this.props.onLinkPress()},this.onActionsMenuOpenChange=e=>{this.setState({isActionsMenuOpen:e})},this.state={isActionsMenuOpen:!1}}shouldComponentUpdate(e,t){return(0,F.Z)(this,e,t)}UNSAFE_componentWillUpdate(e,t){if(e.isSelected!==this.props.isSelected&&e.isSelected){const e=Mi.findDOMNode(this);this.props.onScrollIntoView({scrollTop:e.offsetTop})}}render(){const{serverEntityID:e,providerEntityID:t,searchResultEntityID:n,metadataItemEntityID:r,server:s,provider:a,isSelected:o,isMetadataItem:l,imageWidth:c,imageHeight:d,imageUrl:u,resultRoute:p,metadataKey:m,metadataTitle:h,metadataType:g,tag:y,tagTypeString:v,librarySectionType:f,reasonTitle:b}=this.props,{isActionsMenuOpen:S}=this.state,I=l?g:v,Z=a.protocols.livetv;return i.createElement(Lr.Z,{component:"div","data-qa-id":"quickSearchItemButton",className:rl()("QuickSearchResult-button-1d8C2k",(o||S)&&"QuickSearchResult-selected-1xNBig"),onPress:this.onItemPress,onFocus:this.onItemFocus},i.createElement(Lr.Z,{className:"QuickSearchResult-underlay-3vhZ23","data-qa-id":"quickSearchItemLink",tabIndex:"1",title:l?h:y,to:p,onPress:p?this.onLinkPress:this.onPlayPress}),i.createElement("div",{className:"QuickSearchResult-overlay-2kUQsF"},i.createElement("div",{className:"QuickSearchResult-imageContainer-SySM7x"},l?i.createElement(Pc,{serverEntityID:e,providerEntityID:t,imageWidth:c,imageHeight:d,imageUrl:u,title:h,type:g,isLiveTVItem:Z,recordLink:(0,dc.Z)(s,a,m,{record:1}),onRecordPress:this.onLinkPress,onPlayPress:this.onPlayPress}):i.createElement(Oc,{serverEntityID:e,providerEntityID:t,imageWidth:c,imageHeight:d,imageUrl:u,title:y,tag:y,tagType:v,librarySectionType:f})),i.createElement("div",{className:"QuickSearchResult-titles-35fL0M","data-qa-id":"quickSearchTitleContainer"},function(e,t){return t?function(e){switch(e){case"movie":return[rc.Z,cc.Z];case"show":return[rc.Z,oc.Z];case"episode":return[rc.Z,Jl.Z];case"artist":return[rc.Z,tc.Z];case"album":return[rc.Z,ec.Z];case"track":return[rc.Z,lc.Z];case"photo":case"photoalbum":case"clip":return[rc.Z,ic.Z];case"playlist":return[rc.Z,ac];case"collection":return[rc.Z,nc.Z];default:return[rc.Z,Rc.Z]}}(e):[Hc,Rc.Z]}(I,l).map(((s,a)=>{const o=a>0,l=o&&!!b;return i.createElement(jc,{key:a,className:o?null:"QuickSearchResult-title--_2o6Z",serverEntityID:e,providerEntityID:t,searchResultEntityID:n,metadataItemEntityID:r,component:l?Rc.Z:s,isSecondary:o,onPress:this.onLinkPress})}))),l&&!Z?i.createElement(Xl.Z,{"data-qa-id":"quickSearchMoreButton",className:"QuickSearchResult-moreButton-3542eA",iconClassName:"QuickSearchResult-moreIcon-2CR3mb",tabIndex:"-1",serverEntityID:e,providerEntityID:t,metadataItemEntityID:r,showPlayTrailer:!1,showPlayPlexMix:!1,showQueuePlexMix:!1,showPlayMusicVideo:!1,showEdit:!1,showRefresh:!1,showAnalyze:!1,showFixMatch:!1,showMatch:!1,showUnmatch:!1,showSplitApart:!1,showSync:!1,showOptimize:!1,showDownload:!1,showDelete:!1,showDeleteVersion:!1,isMenuOpen:S,onMenuOpenChange:this.onActionsMenuOpenChange}):null))}}Wc.defaultProps={isMetadataItem:!1};const Qc=Wc;var Gc=Object.defineProperty,Yc=Object.prototype.hasOwnProperty,qc=Object.getOwnPropertySymbols,Kc=Object.prototype.propertyIsEnumerable,$c=(e,t,n)=>t in e?Gc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xc=(e,t)=>{for(var n in t||(t={}))Yc.call(t,n)&&$c(e,n,t[n]);if(qc)for(var n of qc(t))Kc.call(t,n)&&$c(e,n,t[n]);return e};const Jc=Xc({resetQuickSearch:tl.resetQuickSearch,selectQuickSearchResult:tl.selectQuickSearchResult,playQuickSearchResult:tl.playQuickSearchResult},Gl);class ed extends i.Component{constructor(){super(...arguments),this.onLinkPress=()=>{const{serverEntityID:e}=this.props;this.props.resetQuickSearch({serverEntityID:e}),al.Fp()},this.onResultFocus=e=>{(0,Qs.c9)((()=>{this.props.selectQuickSearchResult({searchResultEntityID:e})}))},this.onPlayPress=e=>{const{serverEntityID:t,providerEntityID:n}=this.props;this.props.playQuickSearchResult({serverEntityID:t,providerEntityID:n,searchResultEntityID:e})}}render(){return i.createElement(Qc,Xc(Xc({},this.props),{onLinkPress:this.onLinkPress,onResultFocus:this.onResultFocus,onPlayPress:this.onPlayPress}))}}const td=(0,s.$j)((function(){return(0,o.P1)(((e,{metricsContext:t})=>t),Bl.Z,Ul.Z,(0,zl.Z)(),(0,Vl.Z)(),((e,t,n,r={},i)=>{let s={server:t,provider:n,reasonID:r.reasonID,reasonTitle:r.reasonTitle};if(i){const r=(0,ql.n3)(i.type,i.subtype)===ql.s4?28:36,a=(0,Yl.Z)(r,null,i.type,i.subtype,i,Hl.H1),o=(0,Wl.Z)(n,i.librarySectionKey);s=Xc({metadataKey:i.key,metadataTitle:i.title,metadataType:i.type,typeString:i.type,imageWidth:a.width,imageHeight:a.height,imageUrl:a.url,resultRoute:(0,$l.Z)(t,n,i,{context:e,legacy:i.type===_l.PHOTO_ALBUM?1:void 0},o)},s)}else{const i=r.tagItem||{},a=Fl.Z.get(i.tagType),o=a&&a.typeString,l=(0,Yl.Z)(36,null,o,null,i,Hl.H1),c=(0,Wl.Z)(n,i.librarySectionID),d=(0,Ql.Z)(t,n,c,{key:i.key,pageType:Re.F6.List,context:e});s=Xc({tag:i.tag,tagType:i.tagType,tagTypeString:o,librarySectionType:i.librarySectionType,imageWidth:l.width,imageHeight:l.height,imageUrl:l.url,resultRoute:d},s)}return s}))}),Jc,Kl.Z)(ed);var nd=n(7839),rd=Object.defineProperty,id=Object.prototype.hasOwnProperty,sd=Object.getOwnPropertySymbols,ad=Object.prototype.propertyIsEnumerable,od=(e,t,n)=>t in e?rd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class ld extends i.Component{shouldComponentUpdate(e,t){return(0,F.Z)(this,e,t)}render(){const e=this.props,{title:t,selectedResultEntityID:n,metadataResults:r,tagResults:s}=e,a=((e,t)=>{var n={};for(var r in e)id.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&sd)for(var r of sd(e))t.indexOf(r)<0&&ad.call(e,r)&&(n[r]=e[r]);return n})(e,["title","selectedResultEntityID","metadataResults","tagResults"]);return i.createElement(Rl,{title:t},r.concat(s).map(((e,t)=>i.createElement(nd.Z,((e,t)=>{for(var n in t||(t={}))id.call(t,n)&&od(e,n,t[n]);if(sd)for(var n of sd(t))ad.call(t,n)&&od(e,n,t[n]);return e})({key:e,searchResultEntityID:e,component:td,isSelected:n===e},a)))))}}const cd=ld;var dd=Object.defineProperty,ud=Object.prototype.hasOwnProperty,pd=Object.getOwnPropertySymbols,md=Object.prototype.propertyIsEnumerable,hd=(e,t,n)=>t in e?dd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gd=(e,t)=>{for(var n in t||(t={}))ud.call(t,n)&&hd(e,n,t[n]);if(pd)for(var n of pd(t))md.call(t,n)&&hd(e,n,t[n]);return e},yd=(e,t)=>{var n={};for(var r in e)ud.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&pd)for(var r of pd(e))t.indexOf(r)<0&&md.call(e,r)&&(n[r]=e[r]);return n};function vd(e){const t=e,{isLoading:n,hubs:r}=t,s=yd(t,["isLoading","hubs"]);return n?i.createElement("div",{className:"QuickSearchProvider-spinnerContainer-Db__al"},i.createElement(si.Z,{className:"QuickSearchProvider-spinner-10qwcJ"})):r.length?i.createElement("div",null,r.map((e=>i.createElement(cd,gd({key:e.hubIdentifier,title:e.title,metadataResults:e.metadataResults,tagResults:e.tagResults,metricsContext:e.context},s))))):i.createElement("div",{className:"QuickSearchProvider-noResults-1jHH-y"},(0,E.Z)("No Results"))}const fd=function(e){const t=e,{searchTitle:n,isSearchPending:r,isSearchPopulated:s}=t,a=yd(t,["searchTitle","isSearchPending","isSearchPopulated"]);return i.createElement(i.Fragment,null,i.createElement("div",{className:"QuickSearchProvider-title-7KgtD9","aria-label":"heading","aria-level":"4"},n),i.createElement(vd,gd({isLoading:r&&!e.hubs.length},a)))};var bd=Object.defineProperty,Sd=Object.prototype.hasOwnProperty,Id=Object.getOwnPropertySymbols,Zd=Object.prototype.propertyIsEnumerable,Pd=(e,t,n)=>t in e?bd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Ed=(0,s.$j)((function(){return(0,o.P1)((e=>e.ui.quickSearch),(e=>({selectedResultEntityID:e.selectedResultEntityID})))}))((function(e){return i.createElement(fd,((e,t)=>{for(var n in t||(t={}))Sd.call(t,n)&&Pd(e,n,t[n]);if(Id)for(var n of Id(t))Zd.call(t,n)&&Pd(e,n,t[n]);return e})({},e))}));var Md=Object.defineProperty,Cd=Object.prototype.hasOwnProperty,wd=Object.getOwnPropertySymbols,Dd=Object.prototype.propertyIsEnumerable,Td=(e,t,n)=>t in e?Md(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Od=(e,t)=>{for(var n in t||(t={}))Cd.call(t,n)&&Td(e,n,t[n]);if(wd)for(var n of wd(t))Dd.call(t,n)&&Td(e,n,t[n]);return e};const xd=(0,o.P1)((e=>e.ui.quickSearch),(e=>({searches:e.searches}))),Ad=(0,s.$j)((e=>xd(e)))((function(e){const{searches:t,onScrollIntoView:n}=e;return i.createElement(i.Fragment,null,t&&t.length?t.map((e=>i.createElement(Ed,Od(Od({},e),{key:e.providerEntityID,onScrollIntoView:n})))):i.createElement("div",{className:"QuickSearchProviders-noSources-1sH2lX"},(0,E.Z)("No pinned sources to search.")))}));var Nd=Object.defineProperty,kd=Object.prototype.hasOwnProperty,Ld=Object.getOwnPropertySymbols,jd=Object.prototype.propertyIsEnumerable,Rd=(e,t,n)=>t in e?Nd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vd=(e,t)=>{for(var n in t||(t={}))kd.call(t,n)&&Rd(e,n,t[n]);if(Ld)for(var n of Ld(t))jd.call(t,n)&&Rd(e,n,t[n]);return e};class Ud extends i.Component{constructor(e){super(e),this.onWindowResize=()=>{this.setState({maxHeight:this.getMaxHeight()})},this.state={maxHeight:this.getMaxHeight()}}componentDidMount(){window.addEventListener("resize",this.onWindowResize)}shouldComponentUpdate(e,t){return(0,F.Z)(this,e,t)}componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}getMaxHeight(){return window.innerHeight-150}render(){const{forwardedRef:e,className:t,scrollTop:n,onScrollIntoView:r,onScrollPositionChange:s}=this.props;return i.createElement(Sl.Z,{page:d.xX},i.createElement(kr.Z,{className:rl()("QuickSearchResults-container-3waOeb",t),style:this.state,scrollTop:n,ref:e,onScrollPositionChange:s},i.createElement(jl,null),i.createElement(Ad,{onScrollIntoView:r})))}}const zd=i.forwardRef(((e,t)=>i.createElement(Ud,Vd(Vd({},e),{forwardedRef:t})))),Bd=parseInt(ol.Z.searchResultHeight,10);class _d extends i.Component{constructor(e,t){super(e,t),this.onScrollIntoView=({scrollTop:e})=>{const t=this._resultsRef.current.clientHeight+this.state.scrollTop,n=e+Bd>t||e<this.state.scrollTop;this.setState({scrollTop:n?e:this.state.scrollTop})},this.onWindowPress=e=>{if(!this.state.isOpen)return;const t=this._searchRef.current;t&&t.contains(e.target)||this.setState({isOpen:!1})},this.onKeyDown=e=>{const{isOpen:t}=this.state;switch(e.keyCode){case il.JH:case il.LH:t&&(e.stopPropagation(),e.preventDefault(),e.keyCode===il.LH?this.props.selectQuickSearchResult({offset:-1}):this.props.selectQuickSearchResult({offset:1}),this.isTabScoped&&(al.sM(),this.isTabScoped=!1));break;case il.K5:if(t){const{platformID:t}=sl.Z,n="osx"===t?e.metaKey:e.ctrlKey,r=e.shiftKey;al.Fp(),this.isTabScoped=!1,n?r?this.props.playQuickSearchResult({options:{shuffle:!0}}):this.props.playQuickSearchResult():this.props.navigateQuickSearchResult()}break;case il.hY:e.nativeEvent.stopImmediatePropagation(),this.isTabScoped&&(al.sM(),this.isTabScoped=!1),t?this.setState({isOpen:!1}):this.props.changeQuickSearchQuery("");break;case il.Mf:if(t){if(!this.isTabScoped){const e=this._resultsRef.current;al.LJ(e),this.isTabScoped=!0}al.QE(e)}}},this.onInputClick=e=>{this.isTabScoped&&(al.sM(),this.isTabScoped=!1),this.state.isOpen||""===this.props.query||this.setState({isOpen:!0})},this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.onSearch=()=>{(0,Qs.c9)((()=>{this.props.fetchQuickSearch()}))},this.onInputChange=e=>{(0,Qs.c9)((()=>{this.props.changeQuickSearchQuery(e)}))},this._searchRef=i.createRef(),this._resultsRef=i.createRef(),this.isTabScoped=!1,this.state={scrollTop:0,isOpen:!1}}UNSAFE_componentWillMount(){this._listenForPress()}UNSAFE_componentWillReceiveProps(e,t){const{selectedResultEntityID:n,query:r}=e,i=this.props.query!==r,s=r.trim().length,a=this.state.isOpen;s&&!a&&i?this.setState({isOpen:!0}):!s&&a&&(this.setState({isOpen:!1}),this.isTabScoped&&(al.IB(),this.isTabScoped=!1)),null==n&&this.setState({scrollTop:0})}shouldComponentUpdate(e,t){return(0,F.Z)(this,e,t)}componentWillUnmount(){this._stopListeningForPress()}_listenForPress(){window.addEventListener("mouseup",this.onWindowPress),window.addEventListener("touchend",this.onWindowPress)}_stopListeningForPress(){window.removeEventListener("mouseup",this.onWindowPress),window.removeEventListener("touchend",this.onWindowPress)}render(){const{query:e}=this.props;return i.createElement("div",{className:rl()("QuickSearch-container-1xPq6f"),ref:this._searchRef,onKeyDown:this.onKeyDown},i.createElement(bl,{query:e,onChange:this.onInputChange,onSearch:this.onSearch,onClick:this.onInputClick}),this.state.isOpen?i.createElement(zd,{scrollTop:this.state.scrollTop,ref:this._resultsRef,onScrollIntoView:this.onScrollIntoView,onScrollPositionChange:this.onScrollPositionChange}):null)}}const Fd=_d;var Hd=Object.defineProperty,Wd=Object.prototype.hasOwnProperty,Qd=Object.getOwnPropertySymbols,Gd=Object.prototype.propertyIsEnumerable,Yd=(e,t,n)=>t in e?Hd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qd=(e,t)=>{for(var n in t||(t={}))Wd.call(t,n)&&Yd(e,n,t[n]);if(Qd)for(var n of Qd(t))Gd.call(t,n)&&Yd(e,n,t[n]);return e};const Kd=(0,o.P1)((e=>e.ui.quickSearch.providerEntityID),Ue.Z,((e,t)=>t[e])),$d=(0,o.P1)((e=>e.ui.quickSearch.serverEntityID),Ma.Z,((e,t)=>t[e])),Xd=(0,o.P1)((e=>e.ui.quickSearch.directoryID),Kd,((e,t)=>{if(!t)return;if(ze.wB(t.providerIdentifier,ze.Ll))return(0,el.Z)(t).directories.find((e=>!!e.hubKey));if(!e)return;const n=(0,el.Z)(t);return n?n.directories.find((t=>t.id?t.id===e:t.key===`/library/sections/${e}`)):void 0})),Jd=(0,o.P1)($d,Kd,Xd,((e,t,n)=>{let r;if(e&&t&&n){const i=(0,Bo.Z)(t,n);i&&(r=(0,Ao.Z)({sourceType:i.key,sourceServer:e,sourceProvider:t,sourceDirectory:n}))}return r})),eu=(0,To.Z)((0,o.P1)(qo(),Jd,((e,t)=>(t?[t,...e]:e).map((e=>({isCloud:e.isCloud,isFullOwnedServer:e.isFullOwnedServer,title:e.title,serverSourceTitle:e.serverSourceTitle,serverFriendlyName:e.serverFriendlyName,providerSourceTitle:e.providerSourceTitle,machineIdentifier:e.machineIdentifier,providerIdentifier:e.providerIdentifier,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,directoryID:e.directoryID}))))),(e=>e)),tu=(0,o.P1)(eu,Ue.Z,$o.Z,((e,t,n)=>e.filter((e=>{const r=t[e.providerEntityID],i=r&&r.features.find((e=>e.type===Xo.mo));return i&&(0,Jo.d)(n,i)})))),nu=qd({},tl);class ru extends i.Component{UNSAFE_componentWillMount(){this._populate()}UNSAFE_componentWillReceiveProps(e){const t=e.searchSources!==this.props.searchSources,n=e.providerEntityID!==this.props.providerEntityID;(e.hasInitialSources!==this.props.hasInitialSources||t||n)&&this._populate(e)}_populate(e=this.props){const{searchSources:t,hasInitialSources:n}=e;n&&t&&t.length&&(0,Qs.c9)((()=>{e.initQuickSearch({searchSources:t})}))}render(){return i.createElement(Fd,qd({},this.props))}}const iu=(0,s.$j)((function(){return(0,o.P1)((e=>e.ui.quickSearch),tu,Ko.Z,((e,t,n)=>({hasInitialSources:n,searchSources:t,providerEntityID:e.providerEntityID,query:e.query,selectedResultEntityID:e.selectedResultEntityID})))}),nu)(ru);function su(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-back-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M56 280l224 224V322h224v-84H280V56z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}su.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const au=su;function ou(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-fullscreen-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M532.011 28H346.44l76.891 76.892L310.2 218.023l31.788 31.788 113.131-113.132 76.892 76.892V28zM28 532.011h185.572L136.68 455.12l113.131-113.131-31.788-31.788-113.131 113.131L28 346.44v185.571z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}ou.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const lu=ou;function cu(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-home-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M84 448V291.598a28 28 0 0 1 8.201-19.799L280 84l187.799 187.799A28 28 0 0 1 476 291.598V448c0 15.464-12.536 28-28 28H322V336h-84v140H112c-15.464 0-28-12.536-28-28z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}cu.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const du=cu;function uu(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-menu-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M28 420h504v62.222H28V420zm0-171.333h504v62.222H28v-62.222zM28 78h504v62.222H28V78z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}uu.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const pu=uu;function mu(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-windowed-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M224 336H38.428l76.892 76.892L2.189 526.023l31.788 31.788L147.108 444.68 224 521.572V336zm112-112h185.572l-76.892-76.892L557.811 33.977 526.023 2.189 412.892 115.32 336 38.428V224z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}mu.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const hu=mu;var gu=n(39409),yu=n(59145),vu=n(21914),fu=n(18376),bu=n(25591);var Su=Object.defineProperty,Iu=Object.prototype.hasOwnProperty,Zu=Object.getOwnPropertySymbols,Pu=Object.prototype.propertyIsEnumerable,Eu=(e,t,n)=>t in e?Su(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Mu(e){const t=e,{children:n,badgeClassName:r,badgeLabel:s,badgeKind:a}=t,o=((e,t)=>{var n={};for(var r in e)Iu.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Zu)for(var r of Zu(e))t.indexOf(r)<0&&Pu.call(e,r)&&(n[r]=e[r]);return n})(t,["children","badgeClassName","badgeLabel","badgeKind"]);return i.createElement(En.Z,((e,t)=>{for(var n in t||(t={}))Iu.call(t,n)&&Eu(e,n,t[n]);if(Zu)for(var n of Zu(t))Pu.call(t,n)&&Eu(e,n,t[n]);return e})({},o),n,i.createElement(gu.Z,{className:r,kind:a},s))}Mu.defaultProps={className:"BadgeMenuItem-badgeMenuItem-1fwAuW MenuItem-menuItem-1P5bZr",badgeClassName:"BadgeMenuItem-badge-3rUSQJ Badge-badge-waFP_r",badgeKind:Qr._8};const Cu=Mu;var wu=n(30426),Du=n(9119);const Tu=(0,s.$j)((function(){return(0,o.P1)(_s.Z,c.Z,Bs,qs,((e,t,n,r)=>({username:e.title,isSignedIn:e.signedIn,isRestricted:e.isRestricted,isCloudServerConnected:t.isConnected,isAnonymousUser:!!e.anonymous,isFullUser:e.isFullUser,announcementsCount:n.length,friendInvitesCount:r.length,appsURL:t?t.appsUrl:"https://plex.tv/downloads"})))}),(function(e,t){return{onSwitchUserPress(t){window.setTimeout((()=>{e((0,Rs.xh)())}))},onUsersAndSharingPress(e){e.preventDefault(),(0,Pr.Z)("usersSharing")},onSignInPress(e){e.preventDefault(),(0,Pr.Z)("login")},onSignOutPress(e){e.preventDefault(),(0,Pr.Z)("logout")},onKeyboardShortcutPress(e){e.preventDefault();const t=(0,P.DB)("keyboardShortcuts");wi.Z.trigger("show:modal",new bu.Z({shortcuts:t.shortcuts}))}}}))((function(e){const{isOpen:t,target:n,options:r,username:s,isSignedIn:a,isAnonymousUser:o,isFullUser:l,announcementsCount:c,friendInvitesCount:d,appsURL:u,isCloudServerConnected:p,onUsersAndSharingPress:m,onSwitchUserPress:h,onSignInPress:g,onSignOutPress:y,onKeyboardShortcutPress:v,onMenuClose:f}=e,b=p&&(!a||o),S=a&&l&&!o;return i.createElement(Pn.Z,{isOpen:t,target:n,options:r,onMenuClose:f},s?i.createElement(wu.Z,null,s):null,a?i.createElement(En.Z,{to:"#!/settings/account",onPress:f},(0,E.Z)("Account")):null,a&&!o?i.createElement(Cu,{badgeLabel:d>0?d:null,onPress:(0,Du.Z)(f,m)},(0,E.Z)("Users & Sharing")):null,a?i.createElement(Wa.Z,null):null,a&&l&&!o?i.createElement(Cu,{to:"#!/announcements",badgeLabel:c>0?c:null,onPress:f},(0,E.Z)("Announcements")):null,p?i.createElement(En.Z,{to:u,target:"_self",onPress:f},(0,E.Z)("Get Plex Apps")):null,p?i.createElement(En.Z,{to:pe.av,target:"_self",onPress:f},(0,E.Z)("Help")):null,i.createElement(En.Z,{onPress:(0,Du.Z)(f,v)},(0,E.Z)("Keyboard Shortcuts")),i.createElement(Wa.Z,null),o?null:i.createElement(En.Z,{onPress:(0,Du.Z)(f,h)},(0,E.Z)("Switch User...")),b?i.createElement(En.Z,{onPress:(0,Du.Z)(f,g)},(0,E.Z)("Sign In")):null,S?i.createElement(En.Z,{onPress:(0,Du.Z)(f,y)},(0,E.Z)("Sign Out")):null)}));class Ou extends i.Component{constructor(e,t){super(e,t),this.onButtonPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=e=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._buttonID=(0,ja.Z)()}render(){const{className:e,tooltipClassName:t,tooltipFocusedClassName:n,serverEntityID:r,userThumb:s,badgeCount:a}=this.props;return i.createElement(i.Fragment,null,i.createElement(Ks.Z,{className:e,tooltipClassName:t,tooltipFocusedClassName:n,id:this._buttonID,component:yu.Z,isSelected:!1,tooltip:this.state.isMenuOpen?null:(0,E.Z)("Account"),direction:this.state.isMenuOpen?vu.UP:vu.WV,onPress:this.onButtonPress},i.createElement("div",{className:"NavBarAccountButton-avatarContainer-1akg8A"},i.createElement("div",{className:rl()("NavBarAccountButton-overlay-3sFe7J",this.state.isMenuOpen&&"NavBarAccountButton-isMenuOpen-1ZeCuV")}),i.createElement(fu.Z,{serverEntityID:r,width:30,height:30,url:s})),i.createElement(gu.Z,{className:"NavBarAccountButton-badge-2pq5TE Badge-badge-waFP_r",kind:Qr._8},a>0?a:null)),i.createElement(Tu,{isOpen:this.state.isMenuOpen,target:this._buttonID,onMenuClose:this.onMenuClose}))}}Ou.defaultProps={className:"NavBarAccountButton-button-3Ng0KE DisclosureArrowButton-disclosureArrowButton-17hnir Link-link-CM9nxg",tooltipClassName:"NavBarAccountButton-tooltip-2i5Nec Tooltip-bottomCenter-3I-giq Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipTopArrow-1LUIRT Tooltip-tooltipCenterAlignArrow-EwxeoC",tooltipFocusedClassName:"NavBarAccountButton-tooltipTriggerHasFocus-1YqijZ NavBarAccountButton-tooltip-2i5Nec Tooltip-bottomCenter-3I-giq Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipTopArrow-1LUIRT Tooltip-tooltipCenterAlignArrow-EwxeoC"};const xu=Ou;var Au=n(56733),Nu=n(13209),ku=n(36237),Lu=n(90117),ju=n(70716);function Ru(e,t,n){const r=function(e){const t=e.desktop&&e.desktop.update;if(t&&(t.state===Lu.AVAILABLE||t.state===Lu.DOWNLOADED||t.state===Lu.DOWNLOADING||t.state===Lu.NOTIFY))return(0,ju.Z)(t.version)}(e);return!!(e.isConnected&&e.isFullOwnedServer&&r&&r!==n&&r!==t[e.machineIdentifier])}var Vu=n(45992),Uu=n(34082),zu=n(77726);const Bu=(0,o.P1)(zu.Z,(e=>e.dismissedServerUpdateVersions)),_u=(0,o.P1)(zu.Z,(e=>e.serverUpdateDismissedVersion));var Fu=n(72759);const Hu={[Fu.RG]:!0,[Fu.JW]:!0,[Fu.sC]:!0,[Fu.t6]:!0,[Fu.zL]:!0,[Fu.Ts]:!0,[Fu.nJ]:!0,[Fu.y0]:!0,[Fu.QX]:!0,[Fu.Gh]:!0,[Fu.k9]:!0,[Fu.TS]:!0,[Fu.ZJ]:!0,[Fu.K5]:!0,[Fu._V]:!0,[Fu.zN]:!0,[Fu.iJ]:!0};var Wu=n(74995),Qu=n(96392),Gu=n(80962),Yu=n(52373);const qu=function(e){const{className:t}=e;return i.createElement("div",{className:t},i.createElement("img",{className:"AlertRoundOpaqueIcon-img-G_UGzf",src:Yu}))};var Ku=n(97486);const $u=function(e){const{title:t,subtitle:n,progress:r,isPostProcessing:s}=e;return i.createElement("div",{className:"ActivityMenuStatusItem-splitButton-23LKKZ MenuItem-menuItem-1P5bZr"},i.createElement("span",{className:"ActivityMenuStatusItem-activityTitleContainer-SCV06w"},i.createElement("span",{className:"ActivityMenuStatusItem-activityTitle-3Kd1d9",title:t},t,n?":":null),n?i.createElement("span",{className:"ActivityMenuStatusItem-activitySubtitle-23Mhyn",title:n},n):null),i.createElement("span",null,null==r||s?i.createElement(si.Z,{size:Gr.HC}):i.createElement(Ku.Z,{progress:r,size:18,lineWidth:2,showProgressText:!1})))};function Xu(e){const{labelClassName:t,to:n,label:r,indicator:s,onPress:a}=e;return i.createElement(En.Z,{className:"NavBarActivityMenuStatusItem-splitButton-1WfAm9 ActivityMenuStatusItem-splitButton-23LKKZ MenuItem-menuItem-1P5bZr",to:n,onPress:a},i.createElement("span",{className:t},r),s?i.createElement("span",{className:"NavBarActivityMenuStatusItem-statusButtonIndicator-2cc7cL"},s):null)}const Ju=(0,s.$j)((function(){return(0,o.P1)((0,Wu.Z)(),(0,Qu.Z)(),(0,o.P1)((0,bs.Z)(),(e=>e.backgroundTranscodeJobs?e.backgroundTranscodeJobs:[])),(0,o.P1)((0,bs.Z)(),(e=>e.activities?e.activities:[])),Bu,_u,((e,t,n,r,i,s)=>({friendlyName:e.friendlyName,machineIdentifier:e.machineIdentifier,sessionsCount:t,backgroundTranscodeJobs:n,activities:r,showUpdateAvailable:Ru(e,i,s)})))}))((function(e){const{friendlyName:t,machineIdentifier:n,sessionsCount:r,backgroundTranscodeJobs:s,activities:a,showUpdateAvailable:o,onMenuClose:l}=e,c=encodeURIComponent(n);return i.createElement("div",{className:"NavBarActivityMenuStatusItem-statusContainer-2pkYvK"},i.createElement("div",{className:"NavBarActivityMenuStatusItem-statusTitle-17ooF2"},t),i.createElement(Xu,{to:`#!/settings/server/${c}/status/server-dashboard`,label:(0,E.Z)("Dashboard"),indicator:r?`${r}`:null,onPress:l}),s.length?i.createElement(Xu,{to:`#!/settings/server/${c}/status/conversion`,label:(0,E.Z)("Conversions"),indicator:`${s.length}`,onPress:l}):null,a.length?a.map((e=>{const{uuid:t,type:n,title:r,subtitle:s,progress:a,Context:o={}}=e;return Hu[n]?i.createElement($u,{key:t,title:r,subtitle:s,progress:a,isPostProcessing:o.status===Gu.jN}):null})):null,o?i.createElement(Xu,{labelClassName:"NavBarActivityMenuStatusItem-primaryLabel-2JmhHi",to:`#!/server/${c}/update`,label:(0,E.Z)("Server Update Available"),indicator:i.createElement(qu,{className:"NavBarActivityMenuStatusItem-alertIndicator-RtAG8z"}),onPress:l}):null)}));var ep=n(66137);const tp=(0,s.$j)((function(){return(0,o.P1)((0,bs.Z)(),(e=>({activities:e&&e.activities?e.activities.filter((e=>Hu[e.type])):[]})))}))((function(e){const{activities:t,onMenuClose:n}=e;return t.length?i.createElement("div",{className:"NavBarEmbeddedServerActivityMenuStatusItem-statusContainer-1JetCv NavBarActivityMenuStatusItem-statusContainer-2pkYvK"},i.createElement("div",{className:"NavBarEmbeddedServerActivityMenuStatusItem-statusTitle-X0Io5- NavBarActivityMenuStatusItem-statusTitle-17ooF2"},i.createElement(Lr.Z,{to:(0,ep.Z)(),onPress:n},(0,E.Z)("Downloads"))),t.map((e=>{const{uuid:t,title:n,subtitle:r,progress:s,Context:a={}}=e;return i.createElement($u,{key:t,title:n,subtitle:r,progress:s,isPostProcessing:a.status===Gu.jN})}))):null})),np={placement:"bottom-end"},rp=function(e){const{isOpen:t,target:n,embeddedServerEntityID:r,ownedServerEntityIDs:s,onMenuClose:a}=e;return i.createElement(Pn.Z,{className:"NavBarActivityMenu-menu-3fQmRF Menu-menu-1qURRT",isOpen:t,target:n,options:np,onMenuClose:a},s.map((e=>i.createElement(Ju,{key:e,serverEntityID:e,onMenuClose:a}))),r?i.createElement(tp,{key:r,serverEntityID:r,onMenuClose:a}):null)};function ip(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-activity-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M248.175 179.16l-61.448 163.858A20 20 0 0 1 168 355.996H84v-40h70.14l79.133-211.019c6.892-18.376 33.37-16.868 38.13 2.172l70.887 283.544 31.821-63.641A20 20 0 0 1 392 315.996h84v40h-71.64L353.89 456.938c-8.304 16.608-32.788 13.92-37.292-4.093l-68.422-273.686z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}ip.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const sp=ip,ap="NavBarActivityIcon-icon-1CMt1h";function op(e){const{className:t,iconComponent:n,isActive:r}=e;return i.createElement("span",{className:t},r?i.createElement(si.Z,{className:"NavBarActivityIcon-activityIndicator-3P2Xg- Spinner-spinner-1mPhN9 spin-spin-34xiUE"}):null,i.createElement(n,{className:ap}))}op.defaultProps={className:"NavBarActivityIcon-iconContainer-2dJZ6E",iconClassName:ap,iconComponent:sp};const lp=op;class cp extends i.Component{constructor(e,t){super(e,t),this.onActivityPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._buttonID=(0,ja.Z)()}componentDidUpdate(e){this.props.isDisabled&&!e.isDisabled&&this.state.isMenuOpen&&this.onMenuClose()}render(){const{className:e,isDisabled:t,iconClassName:n,labelClassName:r,showActivityButton:s,embeddedServerEntityID:a,ownedServerEntityIDs:o,hasSessions:l,hasConversions:c,hasActivities:d,hasAvailableServerUpdate:u,hasLibraryRefreshing:p,activityButtonCount:m}=this.props;if(!s)return null;const h=l||c,g=d||p,y=!m&&u;return i.createElement(i.Fragment,null,i.createElement(po,{id:this._buttonID,isDisabled:t,className:rl()(e,h&&"NavBarActivityButton-isHighlighted-2YqjDs"),iconClassName:n,labelClassName:r,iconProps:{isActive:g},iconComponent:lp,alertIconClassName:"NavBarActivityButton-alertIcon-1WiIj6 NavBarIconButton-alertIcon-3RbSz5",alertIconComponent:y?qu:null,ariaLabel:(0,E.Z)("Activity"),title:this.state.isMenuOpen?null:(0,E.Z)("Activity"),label:m?String(m):null,onPress:this.onActivityPress}),i.createElement(rp,{isOpen:this.state.isMenuOpen,target:this._buttonID,embeddedServerEntityID:a,ownedServerEntityIDs:o,onMenuClose:this.onMenuClose}))}}cp.defaultProps={iconClassName:"NavBarActivityButton-activityIcon-3gF_TD NavBarActivityIcon-iconContainer-2dJZ6E",labelClassName:"NavBarActivityButton-label-O3mt7Y"};const dp=cp;var up=Object.defineProperty,pp=Object.prototype.hasOwnProperty,mp=Object.getOwnPropertySymbols,hp=Object.prototype.propertyIsEnumerable,gp=(e,t,n)=>t in e?up(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const yp={sessionsCount:0,backgroundTranscodeJobsCount:0,activitiesCount:0};function vp(e,t){return e.reduce(((e,n)=>{const{backgroundTranscodeJobs:r=[],activities:i=[]}=n.desktop,s=t[n.machineIdentifier],a=null==s?void 0:s.sessionKeys.length,o=r.length,l=i.filter((e=>!!Hu[e.type])).length;return a>0&&(e.sessionsCount+=a),o>0&&(e.backgroundTranscodeJobsCount+=o),l>0&&(e.activitiesCount+=l),e}),((e,t)=>{for(var n in t||(t={}))pp.call(t,n)&&gp(e,n,t[n]);if(mp)for(var n of mp(t))hp.call(t,n)&&gp(e,n,t[n]);return e})({},yp))}const fp=(0,o.P1)(ku.Z,(e=>e.v4.core.serverNowPlayingSessions),((e,t)=>vp(e,t))),bp=(0,o.P1)(Uu.Z,(e=>e.v4.core.serverNowPlayingSessions),((e,t)=>e?vp([e],t):yp)),Sp=(0,o.P1)(fp,bp,((e,t)=>({activitiesCount:e.activitiesCount+t.activitiesCount,backgroundTranscodeJobsCount:e.backgroundTranscodeJobsCount+t.backgroundTranscodeJobsCount,sessionsCount:e.sessionsCount+t.sessionsCount}))),Ip=(0,o.P1)(ku.Z,Au.Z,((e,t)=>e.reduce(((e,n)=>{const{libraries:r}=n.desktop;return e+r.filter((e=>{const n=t[e];return!!n&&n.refreshing})).length}),0))),Zp=(0,o.P1)(ku.Z,Bu,_u,((e,t,n)=>e.some((e=>Ru(e,t,n))))),Pp=(0,s.$j)((function(){return(0,o.P1)(((e,{isDisabled:t})=>t),Vu.Z,Nu.Z,Sp,Ip,Zp,((e,t,n,r,i,s)=>{const a=n.length>0;let o=a;return t&&(o=!0,e=e||!a&&r.sessionsCount+r.backgroundTranscodeJobsCount+r.activitiesCount===0),{isDisabled:e,embeddedServerEntityID:t,ownedServerEntityIDs:n,showActivityButton:o,hasSessions:r.sessionsCount>0,hasConversions:r.backgroundTranscodeJobsCount>0,hasActivities:r.activitiesCount>0,hasAvailableServerUpdate:s,hasLibraryRefreshing:i>0,activityButtonCount:r.sessionsCount+r.backgroundTranscodeJobsCount}}))}))(dp);var Ep=n(96335);class Mp extends i.Component{constructor(e,t){super(e,t),this.onButtonPress=e=>{const{shouldBypassModal:t}=this.props;(0,P.DB)("metrics").trackEvent({event:Ep.Jw,interaction:!0,context:{experiments:{"upsell-experiment":t?"direct":"in-app"}}}),t||this.setState({isPlexPassModalOpen:!0})},this.onModalClose=e=>{this.setState({isPlexPassModalOpen:!1})},this.state={isPlexPassModalOpen:!1}}render(){const{shouldBypassModal:e}=this.props,t=xa.Z.join(["https://www.plex.tv","/plex-pass/purchase"],{utm_source:"app.plex.tv",utm_medium:"app",utm_campaign:"PP_in-app-upsell_01",utm_content:Ti.uh});return i.createElement(i.Fragment,null,i.createElement(Co,{to:e?t:void 0,target:"_blank",onPress:this.onButtonPress},(0,E.Z)("Go Premium")),i.createElement(Oi.Z,{origin:Ti.uh,metricsProperties:{context:Ci.NAV_BAR},isOpen:this.state.isPlexPassModalOpen,onModalClose:this.onModalClose}))}}const Cp=Mp,wp="NavBar-button-1cThl9 NavBarIconButton-button-3Fm-24 IconButton-button-llQ1So",Dp="NavBar-buttonSeparator-2LnlnR",Tp=(0,Ws.gn)()||(0,Ws.P_)(),Op=(0,o.P1)((e=>e.isFullscreen),(e=>e)),xp=(0,o.P1)(Fs.Z,(e=>e.isSidebarCollapsed)),Ap=(0,o.P1)((e=>e.downloads&&e.downloads.subscriptions),(e=>!!e&&e.length>0)),Np=(0,o.P1)(Ys,(e=>e.some((e=>e.isConnected)))),kp=(0,s.$j)((function(){return(0,o.P1)((e=>e.history),_s.Z,Bs,qs,Op,xp,(0,o.P1)(_s.Z,c.Z,Ap,Np,((e,t,n,r)=>!(e.isLocked||!t)&&(t.isResolved||n||r))),(0,Vs.Z)(_e.Oo),((e,t,n,r,i,s,a,o)=>{const l=(0,sr.Z)(ar.cN,Hs.X),c=(0,Ws.P_)()&&(0,P.DB)("fullscreenManager").hasFullscreen;return{serverEntityID:l,hasHistory:e.length>1,userThumb:t.thumb,badgeCount:n.length+r.length,isFullscreen:i,isSidebarCollapsed:s,isAnonymousUser:!!t.anonymous,canGoPremium:t.canGoPremium,shouldBypassPlexPassUpsellModal:o,canEnterFullscreen:c&&!i,canExitFullscreen:c&&i,canNavigateHistory:Tp,shouldRender:a}}))}),(function(e,t){return{onBackPress(t){e((0,js.n)())},onEnterFullscreen(e){(0,P.DB)("fullscreenManager").enter()},onExitFullscreen(e){(0,P.DB)("fullscreenManager").exit()},onToggleCollapsedSidebar(t){(0,Qs.c9)((()=>{e((0,Rs.LN)({isSidebarCollapsed:t}))}))}}}))((function(e){const{serverEntityID:t,hasHistory:n,userThumb:r,badgeCount:o,canEnterFullscreen:l,canExitFullscreen:c,isAnonymousUser:d,canGoPremium:u,shouldBypassPlexPassUpsellModal:p,canNavigateHistory:m,isSidebarCollapsed:h,shouldRender:g,onBackPress:y,onEnterFullscreen:v,onExitFullscreen:f,onToggleCollapsedSidebar:b}=e,S=(0,s.v9)(ca.Z),I=(0,i.useCallback)((()=>{b(!h)}),[h,b]),Z=!!(0,a.$B)({path:[V.Z.account,V.Z.accountPlexTv,V.Z.announcements,V.Z.devices,V.Z.info,V.Z.login,V.Z.logout,V.Z.logs,V.Z.onlineMediaSources,V.Z.serverSettings,V.Z.serverSettingsStatusSync,V.Z.signUp,V.Z.userSharingSettings,V.Z.usersSharing,V.Z.webSettings,V.Z.webhooks],exact:!0});if(!g)return null;const P=(0,dr.Z)("NavBar",S);return i.createElement("div",{key:P,className:"NavBar-container-1YySYJ"},i.createElement("div",{className:"NavBar-left-1zHz4w NavBar-side-34QZPx"},Z?i.createElement(po,{className:wp,to:"#",iconComponent:du,title:(0,E.Z)("Home")}):i.createElement(po,{className:wp,iconComponent:pu,title:h?(0,E.Z)("Expand"):(0,E.Z)("Collapse"),onPress:I}),i.createElement(Lr.Z,{to:"#",className:"NavBar-plexLogo-2adNGd NavBarIconButton-button-3Fm-24 IconButton-button-llQ1So"}),m?i.createElement(po,{className:wp,iconComponent:au,title:(0,E.Z)("Back"),isDisabled:!n,onPress:y}):null,i.createElement(iu,null)),i.createElement("div",{className:"NavBar-right-2AlH9s NavBar-side-34QZPx"},u?i.createElement(Cp,{shouldBypassModal:p}):null,d?i.createElement(i.Fragment,null,i.createElement(wo,null),i.createElement(Do,null)):null,u||d?i.createElement("div",{className:Dp}):null,c?i.createElement(po,{className:wp,iconComponent:hu,title:(0,E.Z)("Exit Full Screen"),onPress:f}):null,l?i.createElement(po,{className:wp,iconComponent:lu,title:(0,E.Z)("Enter Full Screen"),onPress:v}):null,l||c?i.createElement("div",{className:Dp}):null,i.createElement(Pp,{className:wp}),i.createElement(fo,null),i.createElement(no,{className:wp,iconComponent:po}),i.createElement(xu,{className:"NavBar-accountButton-1vgDr- NavBarAccountButton-button-3Ng0KE DisclosureArrowButton-disclosureArrowButton-17hnir Link-link-CM9nxg",serverEntityID:t,userThumb:d?null:r,badgeCount:o})))}));class Lp extends i.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e){Sr.Z.error(e)}render(){return this.state.hasError?i.createElement(la,null):i.createElement(kp,null)}}const jp=Lp;var Rp=n(81079),Vp=n(30464),Up=n(93732);const zp=(0,o.P1)(c.Z,Rp.Z,((e,t)=>({isWaitingForCloudServer:!e.isResolved&&!e.isRejected,isCloudServerAvailable:e.available,isCloudServerResolved:e.isResolved,isCloudServerRejected:e.isRejected,isCloudServerPending:e.isPending,isAnonymousUser:t}))),Bp={dispatchPopulateCloudServer:M._K},_p=(0,s.$j)(zp,Bp)((function(e){const{isCloudServerAvailable:t,isCloudServerResolved:n,isCloudServerRejected:r,isCloudServerDownForMaintenance:s,isAnonymousUser:o,dispatchPopulateCloudServer:l}=e,c=(0,Vp.Z)(t),d=!0===t||!1===t,u=!0!==c&&!1!==c;return(0,Is.Z)((()=>{l()})),(0,i.useEffect)((()=>{u&&d&&l()}),[u,d,l]),n?o?i.createElement(Pi,null):i.createElement(a.l_,{to:V.Z.home[0]}):r&&d?t?i.createElement(Pi,null):s?i.createElement(Or.Z,null):i.createElement(Up.Z,null):i.createElement(f.Z,null,i.createElement(b.Z,null))})),Fp=(0,o.P1)(zu.Z,(e=>e.hasDismissedServerDownloadMessage));var Hp=n(21508);const Wp=(0,o.P1)(Fp,(e=>({hasDismissedServerDownloadMessage:e}))),Qp={dispatchSaveDeviceSettings:js.T5},Gp=(0,s.$j)(Wp,Qp)((function(e){const{hasDismissedServerDownloadMessage:t,dispatchSaveDeviceSettings:n}=e,r=(0,i.useCallback)((()=>{n({hasDismissedServerDownloadMessage:!0})}),[n]);return i.createElement(ai.Z,{iconSrc:ue,title:(0,E.Z)("Add your media to Plex"),description:(0,E.Z)("Organize, beautify, stream, and share your personal collection of movies, TV, music, and photos anywhere, on all your devices. To get started, download our free Plex Media Server software on the device where you store your media.")},i.createElement(Xs.Z,{to:pe._N,kind:Qr._8,size:Gr.ln,target:"_self"},(0,E.Z)("Get Plex Media Server")),t?null:i.createElement(Hp.Z,null,i.createElement(Lr.Z,{kind:Qr._8,size:Gr.HC,to:"#",onPress:r},(0,E.Z)("Don't show this in my Pinned Sources sidebar"))))}));var Yp=n(99434),qp=n(95815),Kp=n(68966),$p=n(82598);class Xp extends i.Component{static getDerivedStateFromProps(e,t){return e.isSignedIn&&!t.isSigningOut?{isSigningOut:!0}:null}constructor(e,t){super(e,t),this.state={isSigningOut:!1}}componentDidMount(){this.state.isSigningOut&&this.props.onSignOut()}componentDidUpdate(e,t){this.state.isSigningOut&&!t.isSigningOut&&this.props.onSignOut()}render(){return i.createElement(qp.Z,{metricsPage:d.dp},i.createElement(Kp.Z,null,i.createElement($p.Z,null,i.createElement(si.Z,null))))}}const Jp=Xp,em=(0,o.P1)(_s.Z,(({isSignedIn:e})=>({isSignedIn:e}))),tm=(0,s.$j)(em,(function(e){return{onSignOut(){yr.Z.execute("signOut").then((()=>{e((0,M.im)({route:"login",replace:!0}))}))}}}))(Jp);var nm=n(12304);const rm=function(){return(0,va.Z)("playQueue")};var im=n(89971);const sm=function(e=0){return(0,o.P1)(rm(),im.Z,((t,n)=>{const r=t?t.playQueueItems:[];if(r.length){const i=t.currentIndex;let s=i+e;t.repeat&&(s=function(e,t,n){return(e+t%n+n)%n}(i,e,t.length));const a=r[s];return a&&n[a]}}))},am=function(){return(0,o.P1)((0,va.Z)("currentDecision"),sm(),((e,t)=>{const n=e;if(n&&n.playQueueItemID===t.playQueueItemID)return n}))},om="commercial",lm="intro",cm=function(e=0){return(0,o.P1)(sm(e),In.Z,((e,t)=>{if(e&&e.metadataItem)return t[e.metadataItem]}))};var dm=n(33631);const um=(0,o.P1)(zu.Z,(e=>e.debugAdKind));var pm=n(20774);function mm(e=0){return(0,o.P1)(sm(e),In.Z,((e,t)=>{if(e)return t[e.metadataItem]}))}const hm=(0,o.P1)(fa(),(e=>!(!e||!ze.wB((0,ba.Z)(e.identifier,e.providerIdentifier),[ze.vP,ze.Ll]))));function gm(){return(0,o.P1)(hm,mm(),(0,pm.Z)(),am(),((e,t,n,r)=>{let i;return e?i=n:r&&(i=t.Media[r.mediaIndex]),i||null}))}var ym=n(83144),vm=n(34470),fm=n(91135),bm=n(48494),Sm=n(40111),Im=n(40807);const Zm=(0,i.createContext)(),Pm="UPDATE_POSITION_MILLISECONDS",Em="RESET_POSITION_MILLISECONDS",Mm=(0,Im.Z)(Pm),Cm=(0,Im.Z)(Em);function wm(e,{type:t,payload:n}){switch(t){case Pm:return n;case Em:return 0;default:return e}}var Dm=Object.defineProperty,Tm=Object.prototype.hasOwnProperty,Om=Object.getOwnPropertySymbols,xm=Object.prototype.propertyIsEnumerable,Am=(e,t,n)=>t in e?Dm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nm=(e,t)=>{for(var n in t||(t={}))Tm.call(t,n)&&Am(e,n,t[n]);if(Om)for(var n of Om(t))xm.call(t,n)&&Am(e,n,t[n]);return e};const km=function(e){var t;const n={dispatchUpdatePositionMilliseconds:Mm,dispatchResetPositionMilliseconds:Cm};return(0,s.$j)(null,n,null,{context:Zm})(((t=class extends i.Component{constructor(){super(...arguments),this.onPositionMillisecondsChange=e=>{this.props.dispatchUpdatePositionMilliseconds(e)}}shouldComponentUpdate(e,t){return(0,F.Z)(this,e,t)}componentWillUnmount(){this.props.dispatchResetPositionMilliseconds()}render(){const t=this.props,{dispatchUpdatePositionMilliseconds:n,dispatchResetPositionMilliseconds:r}=t,s=((e,t)=>{var n={};for(var r in e)Tm.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Om)for(var r of Om(e))t.indexOf(r)<0&&xm.call(e,r)&&(n[r]=e[r]);return n})(t,["dispatchUpdatePositionMilliseconds","dispatchResetPositionMilliseconds"]);return i.createElement(e,Nm(Nm({},s),{onPositionMillisecondsChange:this.onPositionMillisecondsChange}))}}).displayName=`PositionMillisecondsMonitor(${(0,bm.Z)(e)})`,t.WrappedComponent=e,t.propTypes={dispatchUpdatePositionMilliseconds:Va().func.isRequired,dispatchResetPositionMilliseconds:Va().func.isRequired},t))};function Lm(){return(0,o.P1)(da.Z,(0,va.Z)("playbackSpeed"),cm(),((e,t,n)=>e?1:t||n&&n.playbackSpeed||1))}var jm=n(77811),Rm=n(59223),Vm=n(76249);var Um=n(35421),zm=n(70468),Bm=n(997);var _m=n(73004);const Fm=function(){return(0,o.P1)((0,va.Z)("mediaIndex"),sm(),In.Z,((e=0,t,n)=>{if(!t||!t.metadataItem)return;const{Media:r}=n[t.metadataItem];return r[e]}))},Hm=function(){return(0,o.P1)((0,va.Z)("partIndex"),Fm(),((e=0,t)=>{if(t)return t.Part[e]}))},Wm=function(){return(0,o.P1)(Hm(),(e=>{if(!e)return{videoStreams:[],selectedVideoStream:null,audioStreams:[],selectedAudioStream:null,subtitlesStreams:[],selectedSubtitlesStream:null};const t=_m.Z.get("video").id,n=_m.Z.get("audio").id,r=_m.Z.get("subtitles").id,i=e.Stream.filter((e=>e.streamType===t)),s=e.Stream.filter((e=>e.streamType===n)),a=e.Stream.filter((e=>e.streamType===r)),o=i[0],l=s.find((e=>e.selected)),c=a.find((e=>e.selected));return{videoStreams:i,selectedVideoStream:o,audioStreams:s,selectedAudioStream:l,subtitlesStreams:a,selectedSubtitlesStream:c}}))};var Qm=n(71716);function Gm(){return(0,o.P1)(hm,mm(),(0,Qm.Z)(),((e,t,n)=>e?n:t))}var Ym=n(33232);const qm=function(){return(0,o.P1)((0,va.Z)("serverEntityID"),am(),Ma.Z,((e,t,n)=>t&&t.transcodeServerEntityID?n[t.transcodeServerEntityID]:e?n[e]:void 0))};var Km=n(10984),$m=n(25168),Xm=n(17626),Jm=n(48523),eh=n(61478),th=n(79557);var nh=Object.defineProperty,rh=Object.prototype.hasOwnProperty,ih=Object.getOwnPropertySymbols,sh=Object.prototype.propertyIsEnumerable,ah=(e,t,n)=>t in e?nh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oh=(e,t)=>{for(var n in t||(t={}))rh.call(t,n)&&ah(e,n,t[n]);if(ih)for(var n of ih(t))sh.call(t,n)&&ah(e,n,t[n]);return e};class lh extends i.Component{constructor(e,t){super(e,t),this._mediaComponent=(0,P.DB)("mediaComponent")}render(){const e=this.props,{isDecisionPending:t,isDecisionDirectPlay:n,isDecisionDirectStreamAudio:r,isDecisionDirectStreamVideo:s,isLibraryProvider:a,hasStreamProtocol:o,isPaused:l,isAdVisible:c,decisionUrl:d,decisionProtocol:u,decisionError:p,decisionDrm:m,decisionCertificate:h,decisionLicense:g,media:y,mediaType:v,mediaSubtype:f,placement:b,shouldCoverWhenDecisionPending:S}=e,I=((e,t)=>{var n={};for(var r in e)rh.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ih)for(var r of ih(e))t.indexOf(r)<0&&sh.call(e,r)&&(n[r]=e[r]);return n})(e,["isDecisionPending","isDecisionDirectPlay","isDecisionDirectStreamAudio","isDecisionDirectStreamVideo","isLibraryProvider","hasStreamProtocol","isPaused","isAdVisible","decisionUrl","decisionProtocol","decisionError","decisionDrm","decisionCertificate","decisionLicense","media","mediaType","mediaSubtype","placement","shouldCoverWhenDecisionPending"]);if(t)return S?i.createElement("div",{className:"PlayerMedia-isDecisionPending-3Zs8mC"}):null;const Z=this._mediaComponent.getComponent({drm:m,protocol:u,isDirectPlay:n,isDirectStreamAudio:r,isDirectStreamVideo:s,isLibraryProvider:a,hasStreamProtocol:o,media:y}),P=v===fm.j0?th.Hn:b;return i.createElement(i.Suspense,{fallback:null},i.createElement(Z,oh(oh({},I),{key:d,src:d,paused:l||c,placement:P,media:y,mediaType:v,mediaSubtype:f,drm:m,license:g,certificate:h,isDecisionDirectPlay:n,isDecisionDirectStreamAudio:r,isDecisionDirectStreamVideo:s})))}}const ch=lh;var dh=Object.defineProperty,uh=Object.prototype.hasOwnProperty,ph=Object.getOwnPropertySymbols,mh=Object.prototype.propertyIsEnumerable,hh=(e,t,n)=>t in e?dh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gh=(e,t)=>{for(var n in t||(t={}))uh.call(t,n)&&hh(e,n,t[n]);if(ph)for(var n of ph(t))mh.call(t,n)&&hh(e,n,t[n]);return e};function yh(e){const{playerType:t,mediaType:n,mediaSubtype:r,durationSeconds:i,minSecondsForPostPlay:s}=e;return n===fm.pX&&r!==eh.MUSIC_VIDEO&&t===u.Se&&i>=s||e.displayPostplay}const vh={dispatchMakeDecision:zm.bY,dispatchMakeNextDecision:zm.kG,dispatchRemoveDecision:zm.Td,dispatchRetryDecision:zm.Mf,dispatchUpdatePlayerDuration:nm.qr,dispatchUpdatePlayerPosition:nm.lj,dispatchUpdatePlayerSeekRange:nm.uZ,dispatchUpdatePlayerBuffering:nm.n9,dispatchPause:nm.wO,dispatchPlay:nm.hY,dispatchUpdatePlayerError:nm.IE,dispatchSendTimeline:nm.$E,dispatchTickPlayer:nm.fp,dispatchShowPostPlay:Um.HI,dispatchPlayNextItem:Um.o1,dispatchEndPlayback:w.Mh,dispatchSetMetricsPlayer:w.Kq,dispatchUpdateMediaDimensions:nm.bb,dispatchUpdateCanPlayThrough:nm.mh};class fh extends i.Component{constructor(e,t){super(e,t),this.onDurationMillisecondsChange=e=>{this.props.dispatchUpdatePlayerDuration({playerType:this.props.playerType,durationMilliseconds:e})},this.onPositionMillisecondsChange=e=>{const{playerType:t,dispatchUpdatePlayerPosition:n,onPositionMillisecondsChange:r}=this.props,i=Math.floor(e/1e3);r&&r(e),i!==this.props.positionSeconds&&n({playerType:t,positionSeconds:i})},this.onTick=e=>{const{metadataItemEntityID:t,liveTVSessionEntityID:n,mediaItemID:r,playerType:i,dispatchTickPlayer:s}=this.props;t&&s({metadataItemEntityID:t,liveTVSessionEntityID:n,mediaItemID:r,playerType:i,secondsElapsed:e})},this.onBufferingChange=e=>{this.props.dispatchUpdatePlayerBuffering({playerType:this.props.playerType,isBuffering:e})},this.onPause=()=>{this.props.isAdVisible||this.props.dispatchPause({playerType:this.props.playerType,isApplicationInitiated:!0})},this.onPlay=()=>{this.props.isAdVisible||this.props.dispatchPlay({playerType:this.props.playerType,isApplicationInitiated:!0})},this.onStreamChange=()=>{const{playerType:e,playQueueItemEntityID:t,positionSeconds:n,liveTVPositionSeconds:r,qualityIndex:i,decisionMediaIndex:s,decisionPartIndex:a,dispatchMakeDecision:o,dispatchRemoveDecision:l}=this.props;l({playerType:e,playQueueItemEntityID:t}),o({playerType:e,playQueueItemEntityID:t,mediaIndex:s,partIndex:a,qualityIndex:i,options:{offset:null!=r?1e3*r:1e3*n}})},this.onMetricsPlayerChange=e=>{const{playerType:t,dispatchSetMetricsPlayer:n}=this.props;n({playerType:t,metricsPlayer:e})},this.onError=(e={})=>{const{code:t,category:n,message:r}=e,{playerType:i,isDecisionDirectPlay:s,isDecisionDirectStreamVideo:a,isDecisionDirectStreamAudio:o,canTranscodeServerTranscode:l,dispatchUpdatePlayerError:c}=this.props;s&&l?(Sr.Z.warn("[Player] Direct Play failed, but server can transcode. Attempting to fallback to either Direct Stream or transcode..."),this._itemRestarting(this.props,{allowDirectPlay:!1})):a&&l?(Sr.Z.warn("[Player] Direct Stream failed, but server can transcode. Attempting to fallback to video transcode..."),this._itemRestarting(this.props,{allowDirectPlay:!1,transcoderOptions:{directStream:0}})):o&&l?(Sr.Z.warn("[Player] Video transcode failed. Attempting to fallback to video and audio transcode..."),this._itemRestarting(this.props,{allowDirectPlay:!1,transcoderOptions:{directStream:0,directStreamAudio:0}})):(this.onPause(),c({playerType:i,errorCode:t,errorCategory:n,errorMessage:r}))},this.onEnd=()=>{const{playerType:e,playQueueItemEntityID:t,qualityIndex:n,repeatOne:r,repeatAll:i,isLastPlayQueueItem:s,totalCount:a,decisionMediaIndex:o,decisionPartIndex:l,decisionPartCount:c,dispatchMakeDecision:d,dispatchRemoveDecision:u,dispatchShowPostPlay:p,dispatchPlayNextItem:m,dispatchEndPlayback:h}=this.props,g=r||i&&1===a;l+1<c?(u({playerType:e,playQueueItemEntityID:t}),d({playerType:e,playQueueItemEntityID:t,qualityIndex:n,mediaIndex:o,partIndex:l+1,options:{offset:0}})):g?(u({playerType:e,playQueueItemEntityID:t}),d({playerType:e,playQueueItemEntityID:t,qualityIndex:n,mediaIndex:o,partIndex:0,options:{offset:0}})):!s||i?yh(this.props)?p({playerType:e}):m({playerType:e,isApplicationInitiated:!0}):h({playerType:e})},this.onIntrinsicDimensions=({width:e,height:t})=>{const{playerType:n,dispatchUpdateMediaDimensions:r}=this.props;(0,Sr.Z)(`[Player] Media resized: ${e}x${t} (${e/t})`),r({playerType:n,width:e,height:t})},this.onCanPlayThrough=e=>{const{playerType:t,dispatchUpdateCanPlayThrough:n}=this.props;n({playerType:t,canPlayThrough:e})},this._hasRefreshedPlayQueue=!1,this._shouldStopOnUnmount=!1}componentDidMount(){this._itemStarting(this.props),this.props.mediaType===fm.pV&&this._itemProgressing(this.props)}componentDidUpdate(e){const{playQueueItemEntityID:t,mediaItemID:n,playerType:r,mediaType:i,isDecisionPending:s,isPaused:a,isBuffering:o,hasError:l,positionSeconds:c,durationSeconds:d,preFetchSeconds:u,qualityIndex:p,dispatchMakeNextDecision:m,liveTVPositionSeconds:h,isLiveTV:g}=this.props,y=e.mediaItemID,v=g?!(!n||!y||n===y):t!==e.playQueueItemEntityID,f=s!==e.isDecisionPending,b=p!==e.qualityIndex,S=a!==e.isPaused,I=o!==e.isBuffering,Z=l!==e.hasError,P=d!==e.durationSeconds;if(!b||v||f){if(v)return this._hasRefreshedPlayQueue=!1,this._hasPreFetched=!1,this._itemStopping(e,{removeDecision:!g}),this._itemStarting(this.props),void(i===fm.pV&&(this._itemProgressing(this.props,{shouldRefreshPlayQueue:!0}),this._hasRefreshedPlayQueue=!0));!this._hasPreFetched&&d>0&&d-c<u&&!yh(this.props)&&(this._hasPreFetched=!0,m({playerType:r})),!f&&(!this._hasRefreshedPlayQueue||S||I||Z||P)&&(this._itemProgressing(this.props,{shouldRefreshPlayQueue:!this._hasRefreshedPlayQueue}),this._hasRefreshedPlayQueue=!0)}else{const e=null!=h?1e3*h:1e3*c;this._itemRestarting(this.props,{offset:e})}}componentWillUnmount(){!this.props.shouldSuppressStopOnUnmount&&this._shouldStopOnUnmount&&this._itemStopping(this.props,{continuing:!1}),this.props.onPositionMillisecondsChange&&this.props.onPositionMillisecondsChange(0)}_itemStarting(e){const{mediaType:t,playerType:n,playQueueItemEntityID:r,qualityIndex:i}=e;t!==fm.pV&&e.dispatchMakeDecision({playerType:n,playQueueItemEntityID:r,qualityIndex:i})}_itemRestarting(e,t={}){const{mediaType:n,playerType:r}=e;n!==fm.pV&&e.dispatchRetryDecision({playerType:r,decisionOptions:t})}_itemProgressing(e,{shouldRefreshPlayQueue:t=!1}={}){const{playerType:n,mediaType:r,providerEntityID:i,playQueueItemEntityID:s,metadataItemEntityID:a,mediaItemID:o,playbackTime:l,positionSeconds:c,durationSeconds:d,isPaused:u,decisionMediaIndex:p,decisionPartIndex:m,decisionPartCount:h,dispatchSendTimeline:g,liveTVSessionEntityID:y}=e,v=r===fm.pV,f=u&&!v?Xm.rf:Xm.Z$;g({playerType:n,providerEntityID:i,playQueueItemEntityID:s,metadataItemEntityID:a,liveTVSessionEntityID:y,mediaItemID:o,shouldRefreshPlayQueue:t,options:v?{state:f}:{playbackSessionID:e.playbackSessionID,playbackTime:l,positionSeconds:c,durationSeconds:d,mediaIndex:p,partIndex:m,partCount:h}}),this._shouldStopOnUnmount=!0}_itemStopping(e,{continuing:t=!0,removeDecision:n=!0}={}){e.dispatchSendTimeline({playerType:e.playerType,providerEntityID:e.providerEntityID,playQueueItemEntityID:e.playQueueItemEntityID,metadataItemEntityID:e.metadataItemEntityID,liveTVSessionEntityID:e.liveTVSessionEntityID,mediaItemID:e.mediaItemID,options:{state:Xm.il,continuing:t,playbackSessionID:e.playbackSessionID,playbackTime:e.playbackTime,positionSeconds:e.positionSeconds,durationSeconds:e.durationSeconds,mediaIndex:e.decisionMediaIndex,partIndex:e.decisionPartIndex,partCount:e.decisionPartCount}}),n&&e.mediaType!==fm.pV&&e.dispatchRemoveDecision({playerType:e.playerType,playQueueItemEntityID:e.playQueueItemEntityID}),this._shouldStopOnUnmount=!1}render(){const e=this.props,{preFetchSeconds:t,minSecondsForPostPlay:n,repeatOne:r,repeatAll:s,totalCount:a,isLastPlayQueueItem:o,isAdVisible:c,shouldSuppressStopOnUnmount:d,canTranscodeServerTranscode:u,qualityIndex:p,decisionMediaIndex:m,decisionPartIndex:h,decisionPartCount:g,dispatchMakeDecision:y,dispatchRemoveDecision:v,dispatchUpdatePlayerDuration:f,dispatchUpdatePlayerPosition:b,dispatchUpdatePlayerSeekRange:S,dispatchUpdatePlayerBuffering:I,dispatchPause:Z,dispatchUpdatePlayerError:P,dispatchTickPlayer:E,dispatchShowPostPlay:M,dispatchPlayNextItem:C,dispatchEndPlayback:w,dispatchSetMetricsPlayer:D,dispatchUpdateMediaDimensions:T,dispatchUpdateCanPlayThrough:O}=e,x=((e,t)=>{var n={};for(var r in e)uh.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ph)for(var r of ph(e))t.indexOf(r)<0&&mh.call(e,r)&&(n[r]=e[r]);return n})(e,["preFetchSeconds","minSecondsForPostPlay","repeatOne","repeatAll","totalCount","isLastPlayQueueItem","isAdVisible","shouldSuppressStopOnUnmount","canTranscodeServerTranscode","qualityIndex","decisionMediaIndex","decisionPartIndex","decisionPartCount","dispatchMakeDecision","dispatchRemoveDecision","dispatchUpdatePlayerDuration","dispatchUpdatePlayerPosition","dispatchUpdatePlayerSeekRange","dispatchUpdatePlayerBuffering","dispatchPause","dispatchUpdatePlayerError","dispatchTickPlayer","dispatchShowPostPlay","dispatchPlayNextItem","dispatchEndPlayback","dispatchSetMetricsPlayer","dispatchUpdateMediaDimensions","dispatchUpdateCanPlayThrough"]);return c&&!l.Z.allowAdsOverMedia?null:i.createElement(ch,gh(gh({},x),{isAdVisible:c,onMetricsPlayerChange:this.onMetricsPlayerChange,onDurationMillisecondsChange:this.onDurationMillisecondsChange,onPositionMillisecondsChange:this.onPositionMillisecondsChange,onTick:this.onTick,onBufferingChange:this.onBufferingChange,onStreamChange:this.onStreamChange,onError:this.onError,onEnd:this.onEnd,onPause:this.onPause,onPlay:this.onPlay,onIntrinsicDimensions:this.onIntrinsicDimensions,onCanPlayThrough:this.onCanPlayThrough}))}}fh.defaultProps={preFetchSeconds:10,minSecondsForPostPlay:300,shouldSuppressStopOnUnmount:!1};const bh=(0,s.$j)((function(){return(0,o.P1)(function(e=0){return(0,o.P1)(sm(e),In.Z,Ue.Z,((e,t,n)=>{if(!e||!e.metadataItem)return;const r=t[e.metadataItem];return r&&n[r.providerEntityID]}))}(),(0,ym.Z)(),am(),qm(),sm(),sm(1),Gm(),gm(),Wm(),(0,Bm.Z)(),(0,o.P1)((0,P.DB)("selectRemoteQuality"),(e=>{let t=Ym.Z.getQualityByIndex(e).bitrate;return null==t&&(t=2e5),1e3*t})),((e,t,n,r,i,s,a,o,c,d,u)=>{const p=t.playQueue,m=p.playQueueSelectedItemOffset,h=i.entityID,g=!s||m+1===p.length,y={providerEntityID:t.providerEntityID,mediaItemID:null==o?void 0:o.id,metadataItemEntityID:null==a?void 0:a.entityID,playQueueItemEntityID:h,liveTVSessionEntityID:null==d?void 0:d.entityID,isDecisionPending:!n,isPaused:t.isPaused,isBuffering:t.isBuffering,hasError:t.hasError,repeatOne:t.repeatOne,repeatAll:t.repeatAll,totalCount:p.length,isLastPlayQueueItem:g,displayPostplay:i.displayPostPlay,playbackTime:t.itemPlaybackTime,positionSeconds:t.positionSeconds,durationSeconds:t.durationSeconds,playbackSessionID:t.playbackSessionID,lastSeekPositionSeconds:t.lastSeekPositionSeconds,videoStreams:c.videoStreams,videoStream:c.selectedVideoStream,audioStreams:c.audioStreams,audioStream:c.selectedAudioStream,subtitlesStreams:c.subtitlesStreams,subtitleStream:c.selectedSubtitlesStream,isStreamChangeInProgress:null==a?void 0:a.isStreamChangeInProgress,bufferingDetectionLimit:l.Z.bufferingDetectionLimit};if(d){const e=t.confirmLocalToRemote===Km.YN;Object.assign(y,function(e){if(!e)return{};const t=e.captureBuffer,n={liveTVSessionSubscriptionKey:e.key,liveTVSessionChannelIdentifier:e.channelIdentifier,liveTVSessionCurrentPosition:e.currentPosition,liveTVSessionStartedAt:e.startedAt};if(t){const r=t.startedAt,i=e.startedAt,s=r||i;Object.assign(n,{liveTVPositionSeconds:e.currentPosition-s,liveTVSessionSeekRangeStartedAt:t.startedAt,liveTVSessionSeekStartSeconds:t.seekStartSeconds,liveTVSessionSeekEndSeconds:t.seekEndSeconds})}return n}(d),{shouldSuppressStopOnUnmount:e,isLiveTV:!0})}return n&&(y.decisionMediaIndex=n.mediaIndex,y.decisionPartIndex=n.partIndex,y.decisionPartCount=n.partCount,y.decisionUrl=n.url,y.decisionProtocol=n.protocol,y.decisionError=n.error,y.isDecisionDirectPlay=n.isDirectPlay,y.isDecisionDirectStreamVideo=n.canDirectStreamVideo,y.isDecisionDirectStreamAudio=n.canDirectStreamAudio,y.canTranscodeServerTranscode=!r.isCloud&&(0,Jm.Z)(r.version,Vm.Z.decisionEndpoint),n.playbackSessionID&&(y.playbackSessionID=n.playbackSessionID),y.hasBurnedSubtitles=c.selectedSubtitlesStream&&c.selectedSubtitlesStream.id!==$m.H&&!n.subtitlesUrl,y.decisionDrm=n.drm,y.decisionLicense=n.license,y.decisionCertificate=n.certificate),!y.isDecisionDirectPlay||"dash"!==y.decisionProtocol&&"hls"!==y.decisionProtocol||(y.bufferingGoal=10,y.defaultBandwidthEstimate=u),e&&(y.isLibraryProvider=e.isLibraryProvider,y.hasStreamProtocol=e.protocols.includes("stream")),y}))}),vh,(function(e,t,n){const r=t;return gh(gh(gh({},n),e),r)}))(fh),Sh=(0,s.$j)((function(){return(0,o.P1)((0,va.Z)("qualityIndex"),Fs.Z,jm.Z,Lm(),(0,o.P1)(((e,{mediaType:t})=>t),(0,va.Z)("openState"),((e,t)=>e===fm.pX&&t===Rm.K)),((e,t,n,r,i)=>({qualityIndex:e,subtitleSize:t.subtitleSize,volume:n,playbackSpeed:r,shouldCoverWhenDecisionPending:i})))}))(bh);var Ih=Object.defineProperty,Zh=Object.prototype.hasOwnProperty,Ph=Object.getOwnPropertySymbols,Eh=Object.prototype.propertyIsEnumerable,Mh=(e,t,n)=>t in e?Ih(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ch=(e,t)=>{for(var n in t||(t={}))Zh.call(t,n)&&Mh(e,n,t[n]);if(Ph)for(var n of Ph(t))Eh.call(t,n)&&Mh(e,n,t[n]);return e};const wh=km((function(e){return i.createElement(Sh,Ch(Ch({},e),{type:"audio",allowRecycleElement:!0}))}));var Dh=n(76889),Th=n(44861);function Oh(){return(0,o.P1)(Ma.Z,(0,va.Z)("serverEntityID"),((e,t)=>e[t]))}var xh=n(22093),Ah=n(18206);const Nh="direct",kh="copy",Lh="transcode";var jh=n(1997),Rh=n(66729),Vh=n(97364),Uh=n(19695),zh=Object.defineProperty,Bh=Object.prototype.hasOwnProperty,_h=Object.getOwnPropertySymbols,Fh=Object.prototype.propertyIsEnumerable,Hh=(e,t,n)=>t in e?zh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wh=(e,t)=>{for(var n in t||(t={}))Bh.call(t,n)&&Hh(e,n,t[n]);if(_h)for(var n of _h(t))Fh.call(t,n)&&Hh(e,n,t[n]);return e};const Qh="unknown",Gh={dispatchSetPlayerItemPlaybackTime:nm.Pn,dispatchSetPlayerSessionPlaybackTime:nm.ZI};class Yh extends i.Component{constructor(e,t){super(e,t),this.onTickTimeout=()=>{this.flushPlaybackTimes(),this.setTickTimeout(this.props)},this.itemID=null,this.itemDecision=null,this.itemMetricsProperties=null,this.itemPlaybackTimestamp=null,this.itemPlaybackMilliseconds=0,this.sessionPlaybackMilliseconds=0,this.sessionPlaybackCount=0,this.sessionAdPlaybackStartTime=0,this.hasError=!1,this.hasEnded=!1,this.hasStopped=!1,this._tickTimeout=null}componentDidMount(){this.update()}componentDidUpdate(e){this.update(e)}componentWillUnmount(){this.hasStopped=!0,this.trackItemEnd(),this.trackSessionEnd(),this.clearTickTimeout()}clearTickTimeout(){this._tickTimeout&&(this._tickTimeout=window.clearTimeout(this._tickTimeout))}setTickTimeout(e){e.isPlaying&&(this.clearTickTimeout(),this.itemPlaybackTimestamp=Date.now(),this._tickTimeout=window.setTimeout(this.onTickTimeout,1e3))}update(e={}){const{itemID:t,decision:n,isRemotePlayer:r,isAdVisible:i,isPlaying:s,hasError:a,metricsType:o,metricsPlayer:l}=this.props,{isPlaying:c}=e;if(s&&!c?this.setTickTimeout(this.props):!s&&c&&this.clearTickTimeout(),r)return void(e.isRemotePlayer||(this.trackItemEnd(),this.trackSessionEnd()));!this.hasError&&a&&(this.hasError=!0,this.trackFailure()),this.itemID&&(this.itemID===t?this.updateCurrentItem():this.trackItemEnd());const d=!this.itemID&&!this.hasError&&t&&l&&(n||o===_l.PHOTO);d&&i&&!s&&!this.sessionAdPlaybackStartTime&&(this.sessionAdPlaybackStartTime=Date.now()),d&&s&&this.trackItemStart()}updateCurrentItem(){const{decision:e,isPlaying:t,hasEnded:n}=this.props;if(t?(this.itemPlaybackTimestamp||(this.itemPlaybackTimestamp=Date.now()),this.hasEnded=n):this.flushPlaybackTimes(),this.itemDecision&&e&&this.itemDecision!==e){let t;if(this.itemDecision.qualityIndex!==e.qualityIndex?t="quality":this.itemDecision.partIndex===e.partIndex&&(t="streams"),t){const e=this.itemMetricsProperties.offset;this.trackItemRestart(t),this.itemMetricsProperties.offset=e}}}getItemMetricsProperties(){const e={serverType:this.props.metricsServerType,connectionType:this.props.metricsConnectionType,type:this.props.metricsType,identifier:this.props.metricsIdentifier,page:this.props.metricsPage,contextTuple:this.props.metricsContextTuple,setting:this.props.metricsSetting,auto:this.props.metricsAutoPlay,protocol:this.props.metricsProtocol,offset:this.props.metricsOffset,container:this.props.metricsContainer,duration:this.props.metricsDuration,bitrate:this.props.metricsBitrate,origin:this.props.metricsOrigin,audioCodec:this.props.metricsAudioCodec,audioDecision:this.props.metricsAudioDecision,videoCodec:this.props.metricsVideoCodec,videoDecision:this.props.metricsVideoDecision,subtitleFormat:this.props.metricsSubtitleFormat,subtitleDecision:this.props.metricsSubtitleDecision,player:this.props.metricsPlayer,mode:this.props.metricsMode};return this.props.isLiveTV&&this.props.isCloudServer&&(e.guid=this.props.metricsGUID,e.group=this.props.metricsGroup,e.title=this.props.metricsTitle,e.publishedAt=this.props.metricsPublishedAt,e.containedId=this.props.metricsContainerID),e}flushPlaybackTimes(){if(!this.itemPlaybackTimestamp)return;const e=Date.now()-this.itemPlaybackTimestamp;this.itemPlaybackTimestamp=null,this.itemPlaybackMilliseconds+=e,this.sessionPlaybackMilliseconds+=e,this.setPlayerItemPlaybackTime(),this.setPlayerSessionPlaybackTime(),(0,P.DB)("metrics").addPlaybackTime(e)}trackItemStart(){this.itemID=this.props.itemID,this.itemDecision=this.props.decision,this.itemMetricsProperties=this.getItemMetricsProperties(),this.itemPlaybackTimestamp=Date.now(),this.itemPlaybackMilliseconds=0,this.sessionPlaybackCount+=1,this.hasEnded=this.props.hasEnded,this.hasError=this.props.hasError;const e=this.props.playbackStartTime,t=Wh({},this.itemMetricsProperties);if(e>0&&1===this.sessionPlaybackCount){const n=this.sessionAdPlaybackStartTime||Date.now();t.latency=n-e}this.props.syncplaySessionRoomID&&(t.format="watch-together",t.playbackSessionId=this.props.syncplaySessionRoomID),(0,P.DB)("metrics").trackEvent({event:Ep.cn,interaction:!0,properties:t}),(0,P.DB)("metrics").incrementPlaybackCount(),this.setTickTimeout(this.props)}trackItemRestart(e){this.itemDecision=this.props.decision,this.itemMetricsProperties=this.getItemMetricsProperties(),(0,P.DB)("metrics").trackEvent({event:Ep.gS,interaction:!0,properties:Wh(Wh({},this.itemMetricsProperties),{reason:e})})}trackItemEnd(){if(!this.itemID)return;let e;this.flushPlaybackTimes(),this.clearTickTimeout(),e=this.props.isRemotePlayer?"cast":this.hasError?"failed":this.hasEnded?"completed":this.hasStopped?"stopped":"skipped";const t=Wh(Wh({},this.itemMetricsProperties),{playbackTime:(0,Uh.Z)(this.itemPlaybackMilliseconds),status:e});this.props.syncplaySessionRoomID&&(t.format="watch-together",t.playbackSessionId=this.props.syncplaySessionRoomID),(0,P.DB)("metrics").trackEvent({event:Ep.C7,interaction:!0,properties:t}),this.itemID=null,this.itemDecision=null,this.itemMetricsProperties=null,this.itemPlaybackTimestamp=null,this.itemPlaybackMilliseconds=0,this.hasError=!1,this.hasEnded=!1}trackSessionEnd(){this.sessionPlaybackCount&&(this.flushPlaybackTimes(),(0,P.DB)("metrics").trackEvent({event:Ep.hx,interaction:!0,properties:{serverType:this.props.metricsServerType,connectionType:this.props.metricsConnectionType,type:this.props.metricsType,playbackCount:this.sessionPlaybackCount,playbackTime:(0,Uh.Z)(this.sessionPlaybackMilliseconds)}}),this.sessionPlaybackMilliseconds=0,this.sessionPlaybackCount=0,this.sessionAdPlaybackStartTime=0)}trackFailure(){(0,P.DB)("metrics").trackEvent({event:Ep.NY,interaction:!0,properties:{serverType:this.props.metricsServerType,connectionType:this.props.metricsConnectionType,container:this.props.metricsContainer,type:this.props.metricsType,error:this.props.errorCode,mode:this.props.metricsMode}})}setPlayerItemPlaybackTime(){this.props.dispatchSetPlayerItemPlaybackTime({playbackTime:this.itemPlaybackMilliseconds,playerType:this.props.playerType})}setPlayerSessionPlaybackTime(){this.props.dispatchSetPlayerSessionPlaybackTime({playbackTime:this.sessionPlaybackMilliseconds,playerType:this.props.playerType})}render(){return null}}Yh.defaultProps={metricsPage:d.r$};const qh=(0,s.$j)((function(){return(0,o.P1)(hm,fa(),Oh(),Gm(),gm(),am(),sm(),(0,o.P1)(((e,{isAdVisible:t})=>t),(0,Th.Z)(["confirmRemoteToLocal","isPostPlayVisible","isMediaLoading","isBuffering","isPaused","hasError"]),Gm(),am(),((e,t,n,r)=>!(!n||n.type!==_l.PHOTO)||!(!r||e||t.confirmRemoteToLocal||t.isPostPlayVisible||t.isMediaLoading||t.isBuffering||t.isPaused||t.hasError))),(0,o.P1)((0,Dh.Z)(),(0,va.Z)("positionSeconds"),Gm(),gm(),am(),((e,t,n,r,i)=>{if(e){if(!r)return!1;const{beginsAt:t,endsAt:n}=r;return e>n-.9*(n-t)}if(n&&n.type===_l.PHOTO)return!0;if(i){const e=r&&r.Part[i.partIndex];if(r&&r.duration&&e)return(0,Ah.Z)(r,e,1e3*t)>.9*r.duration}return!1})),(0,va.Z)("syncplaySessionRoomID"),(0,va.Z)("hasError"),(0,va.Z)("errorCode"),(0,va.Z)("metricsPage"),(0,va.Z)("metricsContextTuple"),(0,va.Z)("metricsAutoPlay"),(0,va.Z)("metricsPlayer"),(0,va.Z)("metricsSetting"),(0,va.Z)("playbackStartTime"),((e,t,n,r,i,s,a,o,l,c,d,u,p,m,h,g,y,v)=>{const f={decision:s,isPlaying:o,isLiveTV:e,hasEnded:l,hasError:d,errorCode:u,metricsPage:p,metricsContextTuple:m,metricsAutoPlay:h,metricsPlayer:g,metricsSetting:y,playbackStartTime:v,syncplaySessionRoomID:c};if(n&&(f.isCloudServer=n.isCloud,f.metricsServerType=(0,Rh.Z)(n),f.metricsConnectionType=(0,jh.Z)(n.activeConnection)),r&&(f.metricsType=r.type,f.metricsIdentifier=r.identifier,e&&(f.metricsGUID=r.ratingKey,f.metricsTitle=r.type===_l.EPISODE?r.grandparentTitle:r.title,f.metricsPublishedAt=i.beginsAt,f.metricsContainerID=i.channelIdentifier,f.metricsGroup=i.channelShortTitle),r.type===_l.PHOTO&&(f.metricsPlayer=xh.k9,r.Media.length&&(f.metricsContainer=r.Media[0].container)),r.type===_l.GAME&&(f.metricsPlayer=xh.k9)),f.itemID=e?null==i?void 0:i.id:null==a?void 0:a.playQueueItemID,t&&!f.metricsIdentifier&&(f.metricsIdentifier=t.identifier),s){const e=function(e){const t={};return e.isDirectPlay?(t.videoDecision=Nh,t.audioDecision=Nh,t.subtitleDecision=Nh):(t.videoDecision=e.canDirectStreamVideo?kh:Lh,t.audioDecision=e.canDirectStreamAudio?kh:Lh,t.subtitleDecision=e.useSoftSubtitles?kh:Lh),t}(s),t=i&&i.Part[s.partIndex];let n;r&&(n=_l.getMetadataType(r.type).mediaType);const a=_m.Z.get("video").id,o=t&&gr().findWhere(t.Stream,{streamType:a}),l=_m.Z.get("audio").id,c=t&&gr().findWhere(t.Stream,{streamType:l,selected:!0}),d=_m.Z.get("subtitles").id,u=t&&gr().findWhere(t.Stream,{streamType:d,selected:!0});f.metricsProtocol=s.protocol,f.metricsOffset=s.positionSeconds,s.drm&&(f.metricsMode=s.drm),i&&(f.metricsContainer=i.container,f.metricsDuration=(0,Uh.Z)(i.duration||r.duration),f.metricsBitrate=function(e){if(null==e)return;let t;return t=e>=10240?512:e>=1024?256:e>=512?128:e>=256?64:32,(0,Vh.Z)(e,t)}(i.bitrate),f.metricsOrigin=i.origin),n===fm.pX&&(f.metricsVideoCodec=o&&o.codec||Qh,f.metricsVideoDecision=e.videoDecision,u&&u.id!==$m.H&&(f.metricsSubtitleFormat=u&&u.codec||Qh,f.metricsSubtitleDecision=e.subtitleDecision)),n!==fm.pX&&n!==fm.j0||(f.metricsAudioCodec=c&&c.codec||Qh,f.metricsAudioDecision=e.audioDecision)}return r&&r.type===_l.GAME&&r.Platform.length&&(f.metricsContainer=r.Platform[0].tag),f}))}),Gh)(Yh);class Kh extends i.Component{constructor(e,t){super(e,t),this._screenSaverManager=(0,P.s4)("screenSaverManager")?(0,P.DB)("screenSaverManager"):null}componentDidMount(){this._toggleScreenSaver(this.props.isEnabled)}componentDidUpdate(e){e.isEnabled!==this.props.isEnabled&&this._toggleScreenSaver(this.props.isEnabled)}componentWillUnmount(){this._toggleScreenSaver(!0)}_toggleScreenSaver(e){this._screenSaverManager&&this._screenSaverManager.toggle(e)}render(){return null}}const $h=(0,s.$j)((function(){return(0,o.P1)((0,Th.Z)(["isOpen","isPaused","openState"]),(({isOpen:e,isPaused:t,openState:n})=>{const r=n===Rm.K;return{isEnabled:!e||!r||t}}))}))(Kh);class Xh extends i.Component{constructor(){super(...arguments),this.onResize=e=>{this.timeoutID=window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(this.onResizeTimeout,this.props.resizeDelay)},this.onResizeTimeout=()=>{this.props.onScreenSizeChange({width:window.innerWidth,height:window.innerHeight})}}componentDidMount(){window.addEventListener("resize",this.onResize),this.onResizeTimeout()}componentWillUnmount(){window.removeEventListener("resize",this.onResize),this.timeoutID=window.clearTimeout(this.timeoutID)}render(){return null}}Xh.propTypes={resizeDelay:Va().number,onScreenSizeChange:Va().func.isRequired},Xh.defaultProps={resizeDelay:100};const Jh=Xh;var eg=n(80150),tg=n(66322),ng=n(56510),rg=n(58300);const ig={message:"ConfirmAdvertisingNotice-message-2CNcG7",consentMessage:"ConfirmAdvertisingNotice-consentMessage-1ZcHPU"};var sg=Object.defineProperty,ag=Object.prototype.hasOwnProperty,og=Object.getOwnPropertySymbols,lg=Object.prototype.propertyIsEnumerable,cg=(e,t,n)=>t in e?sg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dg=(e,t)=>{for(var n in t||(t={}))ag.call(t,n)&&cg(e,n,t[n]);if(og)for(var n of og(t))lg.call(t,n)&&cg(e,n,t[n]);return e};const ug=(0,s.$j)((function(){return(0,o.P1)((e=>e.ui.advertisingNoticeModal),(0,o.P1)(((e,{advertisingNoticePayload:t})=>t),In.Z,((e,t)=>{if(e.metadataItemEntityID)return t[e.metadataItemEntityID]})),((e,t)=>dg(dg({},e),{metadatItemType:t&&t.type})))}),(function(e,{playerType:t,advertisingNoticePayload:n}){return{onContinue(t){e((0,eg.qq)({consent:t}))},onCancel(){e((0,eg.Ss)({advertisingNoticePayload:n,action:br.n1})),e((0,w.d7)({playerType:t}))},onSaveComplete(r){e((0,eg.Ss)({advertisingNoticePayload:n,action:r?br.VL:br.lJ})),e((0,w.wA)(dg(dg({},n),{playerType:t,confirmAdvertisingNotice:!0}))),e((0,eg._D)())}}}))((function(e){const{isOpen:t,isSaving:n,isSaved:r,onContinue:s,onCancel:a,onSaveComplete:o}=e,l=n||r,[c,u]=(0,i.useState)(!1),p=(0,i.useCallback)((()=>{u(!0),s(!0)}),[s]),m=(0,i.useCallback)((()=>{u(!1),s(!1)}),[s]);return(0,i.useEffect)((()=>{r&&o(c)}),[c,r,o]),i.createElement(ra.Z,{size:Gr.HC,isOpen:t,metricsPage:d.c9,onModalClose:a},i.createElement(ia.Z,{onModalClose:a},i.createElement(na.Z,null,(0,E.Z)("Consent")),i.createElement(Js.Z,null,i.createElement("div",{className:ig.message},(0,E.Z)("Plex is able to provide free-to-watch movies and shows by displaying a modest number of ads before and during playback. While it is not possible to opt out of these ads, we can provide you the best and most relevant advertising experience if you agree to the terms below.")),i.createElement(Qa.Z,{className:ig.consentMessage,component:"div",message:(0,E.Z)("I consent to Plex sharing the advertising identifiers on my devices with Plex's advertising partners. This data is used to deliver the advertising that supports content you may access through Plex on all devices on which you have Plex installed. To learn how to withdraw consent, visit our {openLinkPrivacyPolicyUrl}privacy policy{closeLinkPrivacyPolicyUrl}."),tags:[{open:"openLinkPrivacyPolicyUrl",close:"closeLinkPrivacyPolicyUrl",component:Lr.Z,kind:Qr._8,to:pe.hO,target:"_blank"}]})),i.createElement(ea.Z,null,i.createElement(ng.Z,null,i.createElement(tg.Z,{metricsProperties:{page:d.c9},action:br.lJ},i.createElement(rg.Z,{className:ig.confirmButton,isSpinning:l&&!c,onPress:m},(0,E.Z)("I Do Not Agree"))),i.createElement(tg.Z,{metricsProperties:{page:d.c9},action:br.VL},i.createElement(rg.Z,{className:ig.confirmButton,"data-autofocus":!0,kind:Qr._8,isSpinning:l&&c,onPress:p},(0,E.Z)("I Agree")))))))}));var pg=n(34007);function mg(){return(0,o.P1)((0,Dh.Z)(),(0,o.P1)((0,Bm.Z)(),In.Z,((e,t)=>e&&(e.timeline||e.grabOperation)?e.timeline?e.timeline.map((e=>t[e])):[t[e.grabOperation.metadataItem]]:[])),((e,t)=>{if(null!=e)for(let n=0;n<t.length;n++){const r=t[n];for(let t=0;t<r.Media.length;t++){const n=r.Media[t],{beginsAt:i,endsAt:s}=n;if(i<=e&&s>e)return r}}}))}var hg=n(77717),gg=n(34377),yg=n(36245);function vg(e,t){const n=Math.max(e,t),r=Date.now()-1e3*n;return(0,hg.Z)(r)}class fg extends i.Component{constructor(e,t){super(e,t),this.updateTimeAgo=()=>{const{captureBufferStartedAt:e,mediaItemBeginsAt:t}=this.props,n=6e4-1e3*(new Date).getSeconds(),r=vg(e,t);r!==this.state.timeAgo&&this.setState({timeAgo:r}),this._updateTimeAgoTimeout=window.setTimeout(this.updateTimeAgo,n)},this.onConfirm=e=>{const{serverEntityID:t,providerEntityID:n,onConfirm:r}=this.props;r({serverEntityID:t,providerEntityID:n,offset:e})},this._updateTimeAgoTimeout=null,this.state={timeAgo:vg(e.captureBufferStartedAt,e.mediaItemBeginsAt)}}componentDidMount(){this.props.mediaItemBeginsAt||this.onConfirm(),this.updateTimeAgo()}componentWillUnmount(){this._updateTimeAgoTimeout&&window.clearTimeout(this._updateTimeAgoTimeout)}render(){const{isOpen:e,captureBufferStartedAt:t,mediaItemBeginsAt:n,onModalClose:r}=this.props,{timeAgo:s}=this.state;return t?i.createElement(gg.Z,{isOpen:e,metricsPage:d.zj,title:(0,E.Z)("Join Session in Progress"),onItemSelect:this.onConfirm,onCancel:r},i.createElement(yg.Z,{value:1e3*Math.max(n-t,0)},(0,E.Z)("Watch from start (started {timeAgo} ago)",{timeAgo:s})),i.createElement(yg.Z,{value:null},(0,E.Z)("Watch Live"))):null}}const bg=fg;var Sg=Object.defineProperty,Ig=Object.prototype.hasOwnProperty,Zg=Object.getOwnPropertySymbols,Pg=Object.prototype.propertyIsEnumerable,Eg=(e,t,n)=>t in e?Sg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mg=(e,t)=>{for(var n in t||(t={}))Ig.call(t,n)&&Eg(e,n,t[n]);if(Zg)for(var n of Zg(t))Pg.call(t,n)&&Eg(e,n,t[n]);return e};const Cg=(0,s.$j)((function(){return(0,o.P1)((0,ym.Z)(),(0,Bm.Z)(),(0,o.P1)((0,Dh.Z)(),mg(),(0,Bm.Z)(),((e,t,n)=>{if(null!=e&&t&&n)return t.Media.find((t=>{const{beginsAt:r,endsAt:i,channelIdentifier:s}=t;return r<=e&&i>e&&n.channelIdentifier===s}))})),((e,t,n)=>{const{serverEntityID:r,providerEntityID:i}=e,s={serverEntityID:r,providerEntityID:i};if(t&&t.captureBuffer){const e=t.captureBuffer.startedAt;s.captureBufferStartedAt=e}return n?s.mediaItemBeginsAt=n.beginsAt:t&&t.grabOperation&&(s.mediaItemBeginsAt=t.grabOperation.mediaItem.beginsAt),s}))}),(function(e,{playerType:t}){return{onConfirm(n){e((0,pg.lO)(Mg(Mg({},n),{playerType:t})))},onModalClose(){e((0,pg.Zh)({playerType:t}))}}}))(bg),wg=(0,o.P1)(da.Z,(e=>e?e.friendlyName:null)),Dg=function(e){const{isOpen:t,playerName:n,onConfirm:r,onCancel:s}=e;return i.createElement(C.Z,{isOpen:t,metricsPage:d.LO,title:(0,E.Z)("Continue Playback"),message:(0,E.Z)("Would you like to continue playback on {playerName}?",{playerName:n}),confirmLabel:(0,E.Z)("Yes"),cancelLabel:(0,E.Z)("No"),onConfirm:r,onCancel:s})};var Tg=Object.defineProperty,Og=Object.prototype.hasOwnProperty,xg=Object.getOwnPropertySymbols,Ag=Object.prototype.propertyIsEnumerable,Ng=(e,t,n)=>t in e?Tg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kg=(e,t)=>{for(var n in t||(t={}))Og.call(t,n)&&Ng(e,n,t[n]);if(xg)for(var n of xg(t))Ag.call(t,n)&&Ng(e,n,t[n]);return e};const Lg={dispatchCancelLocalToRemote:pa.OA,dispatchConfirmLocalToRemote:pa.$B,dispatchCloseLocalToRemote:pa.Te},jg=(0,s.$j)((function(){return(0,o.P1)(wg,(0,va.Z)("confirmLocalToRemote"),((e,t)=>({playerName:e,confirmLocalToRemote:t})))}),Lg)((function(e){const t=e,{playerType:n,confirmLocalToRemote:r,dispatchCancelLocalToRemote:s,dispatchCloseLocalToRemote:a,dispatchConfirmLocalToRemote:o}=t,l=((e,t)=>{var n={};for(var r in e)Og.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&xg)for(var r of xg(e))t.indexOf(r)<0&&Ag.call(e,r)&&(n[r]=e[r]);return n})(t,["playerType","confirmLocalToRemote","dispatchCancelLocalToRemote","dispatchCloseLocalToRemote","dispatchConfirmLocalToRemote"]);(0,i.useEffect)((()=>{r===Km.YN&&a({playerType:n})}),[r,n,a]);const c=(0,i.useCallback)((()=>{s({playerType:n})}),[n,s]),d=(0,i.useCallback)((()=>{o({playerType:n})}),[n,o]);return i.createElement(Dg,kg(kg({},l),{onCancel:c,onConfirm:d}))}));var Rg=n(39776),Vg=n(9903),Ug=n(7378);var zg=Object.defineProperty,Bg=Object.prototype.hasOwnProperty,_g=Object.getOwnPropertySymbols,Fg=Object.prototype.propertyIsEnumerable,Hg=(e,t,n)=>t in e?zg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wg=(e,t)=>{for(var n in t||(t={}))Bg.call(t,n)&&Hg(e,n,t[n]);if(_g)for(var n of _g(t))Fg.call(t,n)&&Hg(e,n,t[n]);return e};const Qg=(0,s.$j)((function(){return(0,o.P1)(((e,{confirmOffsetPayload:t})=>t),In.Z,((e,t)=>{let n;return e&&(n=t[e.metadataItemEntityID]),n?{viewOffset:n.viewOffset,duration:n.duration}:{}}))}),(function(e,{playerType:t,confirmOffsetPayload:n}){return{onConfirm(t){e(w.wA(Wg(Wg({},n),{confirmPlayback:!0,confirmOffset:!0,startOffsetMilliseconds:t})))},onCancel(){e(w.d7({playerType:t}))}}}))((function(e){const{isOpen:t,viewOffset:n,duration:r,playerType:s,onConfirm:a,onCancel:o}=e,l=s===u.eD,c=(r-n)/1e3,p=c>0;return i.createElement(gg.Z,{isOpen:t,metricsPage:d.Vk,title:l?(0,E.Z)("Resume Game"):(0,E.Z)("Resume Playback"),onItemSelect:a,onCancel:o},i.createElement(yg.Z,{value:n,autoFocus:!0},l?(0,E.Z)("Resume (played {time})",{time:(0,Rg.Z)(n)}):i.createElement(i.Fragment,null,(0,E.Z)("Resume from {time}",{time:(0,Ug.Z)(n)}),p?i.createElement(qt.Z,null):null,p?(0,Vg.Z)(c):null)),i.createElement(yg.Z,{value:0},l?(0,E.Z)("Restart"):(0,E.Z)("Start from the beginning")))}));var Gg=Object.defineProperty,Yg=Object.prototype.hasOwnProperty,qg=Object.getOwnPropertySymbols,Kg=Object.prototype.propertyIsEnumerable,$g=(e,t,n)=>t in e?Gg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xg=(e,t)=>{for(var n in t||(t={}))Yg.call(t,n)&&$g(e,n,t[n]);if(qg)for(var n of qg(t))Kg.call(t,n)&&$g(e,n,t[n]);return e};const Jg=(0,s.$j)(null,(function(e,{playerType:t,confirmPlaybackPayload:n}){return{onConfirm(){e(w.wA(Xg(Xg({},n),{confirmPlayback:!0})))},onCancel(){e(w.xT({playerType:t}))}}}))((function(e){const{isOpen:t,onConfirm:n,onCancel:r}=e;return i.createElement(C.Z,{isOpen:t,metricsPage:d.o_,title:(0,E.Z)("Play Now"),message:(0,E.Z)("This will clear changes made to the queue and play the selection instead."),confirmLabel:(0,E.Z)("Play"),onConfirm:n,onCancel:r})}));var ey=n(22923),ty=n(39957),ny=n(43666),ry=n(15730);const iy=Va().shape({metricsContext:Va().oneOf(Object.values(Ci)).isRequired,type:Va().oneOf(Object.values(ry)).isRequired});function sy(e){const{isOpen:t,metricsPage:n,onDismiss:r,upsellPayload:s,subscribeUrl:a,onSubscribe:o}=e,l=(0,i.useCallback)((()=>{r(),o&&o()}),[r,o]);return i.createElement(ra.Z,{size:Gr.HC,isOpen:t,metricsPage:n,onModalClose:r},i.createElement(ia.Z,{onModalClose:r},s.type===ry.TONE_MAPPING?i.createElement(na.Z,null,(0,E.Z)("HDR Conversion")):null,s.type===ry.TONE_MAPPING?i.createElement(Js.Z,null,i.createElement("p",null,(0,E.Z)("This video needs to be converted for playback and contains High Dynamic Range (HDR) content. Colors will appear distorted on this device.")),i.createElement("p",null,(0,E.Z)('With a Plex Pass, you can preview the new "HDR tone mapping" feature to correct colors during conversion!'))):null,i.createElement(ea.Z,null,i.createElement(ng.Z,null,i.createElement(tg.Z,{context:s.metricsContext,action:br.GP},i.createElement(Xs.Z,{onPress:r},(0,E.Z)("OK"))),i.createElement(tg.Z,{context:s.metricsContext,action:br.kD},i.createElement(Xs.Z,{"data-autofocus":!0,to:a,target:"_blank",kind:Qr._8,onPress:l},(0,E.Z)("Get a Plex Pass")))))))}sy.defaultProps={metricsPage:d.ce,subscribeUrl:xa.Z.join(["https://www.plex.tv","/plex-pass"])};const ay=sy;var oy=Object.defineProperty,ly=Object.prototype.hasOwnProperty,cy=Object.getOwnPropertySymbols,dy=Object.prototype.propertyIsEnumerable,uy=(e,t,n)=>t in e?oy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,py=(e,t)=>{for(var n in t||(t={}))ly.call(t,n)&&uy(e,n,t[n]);if(cy)for(var n of cy(t))dy.call(t,n)&&uy(e,n,t[n]);return e};const my=(0,s.$j)(null,(function(e,t){const{upsellPayload:n,onDismiss:r}=t;return{onDismiss(){const i=(0,ty.Z)(ey.M,n.type);e((0,ny.JY)({id:i})),r&&r(t)}}}))(ay);my.propTypes=py(py({},my.propTypes),{upsellPayload:iy.isRequired,onDismiss:Va().func});const hy=my;var gy=Object.defineProperty,yy=Object.prototype.hasOwnProperty,vy=Object.getOwnPropertySymbols,fy=Object.prototype.propertyIsEnumerable,by=(e,t,n)=>t in e?gy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sy=(e,t)=>{for(var n in t||(t={}))yy.call(t,n)&&by(e,n,t[n]);if(vy)for(var n of vy(t))fy.call(t,n)&&by(e,n,t[n]);return e};const Iy=(0,s.$j)(null,(function(e,t){const{playerType:n}=t;return{onDismiss(){e((0,w.lm)({playerType:n}))}}}))(hy);Iy.propTypes=Sy(Sy({},Iy.propTypes),{playerType:Va().oneOf([u.Se,u.pV,u.eD]).isRequired});const Zy=Iy,Py=(0,s.$j)(null,(function(e,{playerType:t}){return{onConfirm(){e((0,pa.jP)({playerType:t}))},onCancel(){e((0,w.Mh)({playerType:t}))}}}))((function(e){const{isOpen:t,onConfirm:n,onCancel:r}=e;return i.createElement(C.Z,{isOpen:t,metricsPage:d.cU,title:(0,E.Z)("Continue Playback"),message:(0,E.Z)("Would you like to continue playback here?"),confirmLabel:(0,E.Z)("Yes"),cancelLabel:(0,E.Z)("No"),onConfirm:n,onCancel:r})}));var Ey=n(96263);function My(e){const t=Math.floor(Date.now()/1e3);return e.reduce(((e,{mediaItem:n})=>{const{beginsAt:r,startOffsetSeconds:i=0}=n,s=r-i;return s>t&&(!e||s<e)?s:e}),0)}function Cy(e){return Math.max(0,e-Math.floor(Date.now()/1e3))}class wy extends i.Component{constructor(e,t){super(e,t),this._tick=()=>{this.setState({endSeconds:Cy(this.state.endsAt)}),this._setTickTimeout()},this._tickTimeout=null;const n=My(e.conflicts);this.state={endsAt:n,endSeconds:Cy(n)}}componentDidMount(){this._setTickTimeout()}componentDidUpdate(e,t){const{conflicts:n,onModalClose:r}=this.props;e.conflicts!==n&&this._updateEndSeconds(),t.endSeconds>0&&0===this.state.endSeconds&&r({showError:!0})}componentWillUnmount(){this._tickTimeout&&window.clearTimeout(this._tickTimeout)}_setTickTimeout(){this.state.endSeconds&&(this._tickTimeout=window.setTimeout(this._tick,1e3))}_updateEndSeconds(){const e=My(this.props.conflicts);this.setState({endsAt:e,endSeconds:Cy(e)})}render(){const{endSeconds:e}=this.state,t=function(e){if(null==e)return"";const t=(0,Ey.ZP)(e),n=24*t.days*60,r=60*t.hours,i=t.minutes+r+n,s=t.seconds;return i&&s?(0,E.Z)("{1} min {2} sec",i,s):i?(0,E.Z)("{1} min",i):s>0?(0,E.Z)("{1} sec",s):""}(1e3*e);return i.createElement("span",null,(0,E.Z)("This live TV session will end in: {formattedMinutesSeconds}",{formattedMinutesSeconds:t}))}}const Dy=wy;var Ty=n(66102);function Oy(e,t,n,r){const i=e===_l.EPISODE?n:t;return r?(0,E.Z)("Stop watching {openSpan}{title}{closeSpan} and continue",{title:i}):(0,E.Z)("Stop recording {openSpan}{title}{closeSpan} and continue",{title:i})}const xy=(0,s.$j)((function(){return(0,o.P1)((0,Vl.Z)(),(e=>({type:e.type,title:e.title,grandparentTitle:e.grandparentTitle,thumb:e.thumb,grandparentThumb:e.grandparentThumb})))}),(function(e,t){const{playerType:n,grabOperationKey:r}=t;return{onCancelConflictPress(){e((0,pg.pg)({playerType:n,grabOperationKey:r}))}}}))((function(e){const{serverEntityID:t,type:n,title:r,grandparentTitle:s,thumb:a,grandparentThumb:o,isRolling:l,onCancelConflictPress:c}=e;return i.createElement(Lr.Z,{className:"PlayerConflictItemRow-conflict-2NwGtT",onPress:c},i.createElement(H.Z,{className:"PlayerConflictItemRow-thumbnail-2a7vQe",serverEntityID:t,url:a||o,width:53,height:80,component:_.Z}),i.createElement("div",{className:"PlayerConflictItemRow-title-2u-Mps"},i.createElement(Qa.Z,{message:Oy(n,r,s,l),tags:[{open:"openSpan",close:"closeSpan",component:"span",className:"PlayerConflictItemRow-titleHighlight-kni3ih"}]})))})),Ay=function(e){const{serverEntityID:t,hasSubscribeFeature:n,isPlayerOpen:r,playerType:s,isConflictCancelling:a,conflicts:o,error:l,onModalClose:c}=e,d=function(e,t){return e?t?(0,E.Z)("A recording is scheduled to start in a few minutes and all tuners are currently in use. Please select from one of the actions below. Selecting OK or taking no action will end this live viewing session once the recording starts."):(0,E.Z)("All tuners are in use. Please ask the server owner to free up a tuner to continue watching Live TV."):t?(0,E.Z)("Please select from one of the actions below."):(0,E.Z)("All tuners are in use. Please ask the server owner to free up a tuner to watch Live TV.")}(r,n);return i.createElement(ia.Z,{onModalClose:c},i.createElement(na.Z,{className:"PlayerConflictModalContent-modalHeader-1ws6Yj ModalHeader-modalHeader-15PhZc"},(0,E.Z)("All Tuners are Currently in Use")),l?i.createElement(Ty.Z,{kind:Qr.T,message:(0,E.Z)("There was an error trying to cancel the selected item, please try again")}):null,i.createElement(Js.Z,{innerClassName:"PlayerConflictModalContent-innerModalBody-1AAJa0 ModalBody-innerModalBody-1VHRyi"},i.createElement("div",{className:"PlayerConflictModalContent-message-3hdp94"},d),n?i.createElement("div",{className:"PlayerConflictModalContent-conflicts-lE-S4x"},o.map((e=>i.createElement(xy,{key:e.key,serverEntityID:t,grabOperationKey:e.key,metadataItemEntityID:e.metadataItem,playerType:s,isRolling:e.rolling,isPlayerOpen:r})))):null),i.createElement(ea.Z,null,i.createElement("div",{className:"PlayerConflictModalContent-footerMessage-1QvGoH"},r?i.createElement(Dy,{conflicts:o,onModalClose:c}):null),i.createElement(ng.Z,null,i.createElement(rg.Z,{isSpinning:a,kind:Qr._8,onPress:c},r||!n?(0,E.Z)("OK"):(0,E.Z)("Cancel")))))},Ny=(0,s.$j)((function(){return(0,o.P1)((0,ym.Z)(),fa(),(0,Bm.Z)(),((e,t,n)=>{const r={serverEntityID:e.serverEntityID,hasSubscribeFeature:!!t.features.find((({type:e})=>"subscribe"===e)),error:e.cancelConflictError,isConflictCancelling:e.isConflictCancelling};return n&&(r.conflicts=n.grabOperation.conflicts),r}))}),(function(e,t){const{isPlayerOpen:n,playerType:r}=t;return{onModalClose({showError:t=!1}={}){e(n?(0,pg.oW)({playerType:r,showError:t}):(0,pg.T)({playerType:r}))}}}))((function(e){const{isOpen:t,isPlayerOpen:n,playerType:r,serverEntityID:s,hasSubscribeFeature:a,conflicts:o,isConflictCancelling:l,onModalClose:c}=e;return i.createElement(ra.Z,{size:Gr.HC,isOpen:t,metricsPage:d.Rh,onModalClose:c},i.createElement(Ay,{isPlayerOpen:n,playerType:r,serverEntityID:s,hasSubscribeFeature:a,conflicts:o,isConflictCancelling:l,onModalClose:c}))}));var ky=n(51382);var Ly=Object.defineProperty,jy=Object.prototype.hasOwnProperty,Ry=Object.getOwnPropertySymbols,Vy=Object.prototype.propertyIsEnumerable,Uy=(e,t,n)=>t in e?Ly(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function zy(e){const{errorCode:t,errorMessage:n,title:r}=e;return t===ky.Pe?i.createElement(Qa.Z,{message:(0,E.Z)("This browser can not play DRM-protected content over an insecure connection. Please try {openLink}https://app.plex.tv{closeLink} instead."),tags:[{open:"openLink",close:"closeLink",component:Lr.Z,kind:Qr._8,to:pe.mV}]}):t===ky.L7?(0,E.Z)("An error occurred trying to play this item. Please enable DRM support in your browser then try again."):n||(r?(0,E.Z)('An error occurred trying to play "{title}".',{title:r}):(0,E.Z)("An error occurred trying to play this item."))}const By=(0,s.$j)((function(){return(0,o.P1)((0,ym.Z)(),mm(),Hm(),am(),((e,{mediaType:t})=>t),((e,{isRemotePlayer:t})=>t),((e,t,n,r,i,s)=>{const{playQueue:a,repeatAll:o,errorCode:l,errorCategory:c,isWatchTogether:d}=e,u=n&&n.entityID,p=a&&a.currentIndex,m=function(e,t,n,r){if(!e||!t)return n;const i=t&&t.Media[e.mediaIndex],s=i&&i.source?i.source:t.source;if(!s)return n;const a=(0,gn.Z)(s);return ze.wB(a.providerIdentifier,ze.xF)&&"h4"===r?(0,E.Z)("An error occurred trying to play this item. Please make sure content from TIDAL is not already playing on another device."):n}(r,t,e.errorMessage,l),h={playQueueItemEntityID:u,showSkipButton:!!a&&(p<a.playQueueItems.length-1||o),showRetryButton:!!a&&i!==fm.pV&&!s&&!d,errorMessage:m,errorCode:l,errorCategory:c};return t&&(h.title=t.title),h}))}),(function(e,t){const n={playerType:t.playerType};return{onModalClose(){e((0,w.Mh)(n))},onSkipPress(t){e((0,Um.o1)(n))},onRetryPress(t){e((0,nm.iu)(n)),e((0,zm.Mf)(n))}}}))((function(e){const{isOpen:t,showSkipButton:n,showRetryButton:r,errorCode:s,errorCategory:a,onSkipPress:o,onRetryPress:l,onModalClose:c}=e;return i.createElement(ra.Z,{isOpen:t,metricsPage:d.hw,size:Gr.HC,onModalClose:c},i.createElement(ia.Z,{onModalClose:c},i.createElement(na.Z,{className:"PlayerErrorModal-modalHeader-1N1gXz ModalHeader-modalHeader-15PhZc"},(0,E.Z)("Playback Error")),i.createElement(Js.Z,null,i.createElement(zy,((e,t)=>{for(var n in t||(t={}))jy.call(t,n)&&Uy(e,n,t[n]);if(Ry)for(var n of Ry(t))Vy.call(t,n)&&Uy(e,n,t[n]);return e})({},e)),null!=s?i.createElement("p",{className:"PlayerErrorModal-errorCode-1cCXO5"},(0,E.Z)("Error code: {errorCode}",{errorCode:s}),a?` (${a})`:null):null),n||r?i.createElement(ea.Z,null,i.createElement(ng.Z,null,n?i.createElement(Xs.Z,{onPress:o},(0,E.Z)("Skip")):null,r?i.createElement(Xs.Z,{kind:Qr._8,onPress:l},(0,E.Z)("Retry")):null)):null))}));var _y=n(91121);function Fy(e,t){return{src:xa.Z.join(e,{width:t,height:t,minSize:1}),sizes:`${t}x${t}`,type:"image/jpeg"}}function Hy({metadataItem:e,player:t,transcodeURL:n}){return(0,i.useEffect)((()=>{const r=(null==e?void 0:e.type)===_l.GAME,i=e&&ze.wB((0,gn.Z)(e.source).providerIdentifier,[ze.Ll,ze.vP]),s=!!e&&!r&&!i;window.navigator.mediaSession.playbackState=s?function(e){return(null==e?void 0:e.isPaused)||(null==e?void 0:e.isBuffering)?(null==e?void 0:e.isPaused)?"paused":"none":"playing"}(t):"none",window.navigator.mediaSession.metadata=s?new window.MediaMetadata({title:e.title,artist:e.originalTitle||e.grandparentTitle,album:e.parentTitle,artwork:n?[Fy(n,96),Fy(n,128),Fy(n,192),Fy(n,256),Fy(n,512)]:void 0}):null}),[e,t,n]),(0,i.useEffect)((()=>()=>{window.navigator.mediaSession.metadata=null,window.navigator.mediaSession.playbackState="none"}),[]),null}const Wy=(0,s.$j)((function(){return(0,o.P1)((0,ym.Z)(),mm(),((e,t)=>({metadataItem:t,player:e,url:t?(0,Yl.G)(t.type,t.subtype,t):void 0,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID})))}))((0,s.$j)((()=>(0,o.P1)((0,_y.Z)(),(e=>({transcodeURL:e})))))((({metadataItem:e,player:t,transcodeURL:n,url:r,serverEntityID:s,providerEntityID:a})=>i.createElement(Hy,{url:r,serverEntityID:s,providerEntityID:a,metadataItem:e,player:t,transcodeURL:n}))));const Qy={dispatchPlayPreviousItem:Um.oA,dispatchStepBack:nm.Hn,dispatchSkipBack:nm.QJ,dispatchTogglePlayPause:nm.ID,dispatchPlay:nm.hY,dispatchPause:nm.wO,dispatchSkipForward:nm.wW,dispatchStepForward:nm.oX,dispatchPlayNextItem:Um.o1,dispatchChangeVolume:nm.v6,dispatchEndPlayback:w.Mh};class Gy extends i.Component{constructor(e,t){super(e,t),this.onPreviousShortcut=()=>{this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayPreviousItem({playerType:this.props.playerType})},this.onStepBackShortcut=()=>{const e={playerType:this.props.playerType};this.props.isCurrentMediaTypeSeekable?this.props.dispatchStepBack(e):this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayPreviousItem(e)},this.onSkipBackShortcut=()=>{const e={playerType:this.props.playerType};this.props.isCurrentMediaTypeSeekable?this.props.dispatchSkipBack(e):this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayPreviousItem(e)},this.onPlayPauseShortcut=()=>{this.props.isCurrentMediaTypePausable&&this.props.dispatchTogglePlayPause({playerType:this.props.playerType})},this.onPlayShortcut=()=>{this.props.isCurrentMediaTypePausable&&this.props.dispatchPlay({playerType:this.props.playerType})},this.onPauseShortcut=()=>{this.props.isCurrentMediaTypePausable&&this.props.dispatchPause({playerType:this.props.playerType})},this.onSkipForwardShortcut=()=>{const e={playerType:this.props.playerType};this.props.isCurrentMediaTypeSeekable?this.props.dispatchSkipForward(e):this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayNextItem(e)},this.onStepForwardShortcut=()=>{const e={playerType:this.props.playerType};this.props.isCurrentMediaTypeSeekable?this.props.dispatchStepForward(e):this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayNextItem(e)},this.onNextShortcut=()=>{this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayNextItem({playerType:this.props.playerType})},this.onVolumeChange=e=>{this.props.dispatchChangeVolume({volume:e,playerType:this.props.playerType})},this.onVolumeIncrease=()=>{this.onVolumeChange(Math.min(this.props.volume+10,100))},this.onVolumeDecrease=()=>{this.onVolumeChange(Math.max(this.props.volume-10,0))},this.onCloseShortcut=()=>{this.setState({isCloseConfirmModalOpen:!0})},this.onCloseConfirmPress=e=>{this.props.dispatchEndPlayback({playerType:this.props.playerType})},this.onCloseCancelPress=e=>{this.setState({isCloseConfirmModalOpen:!1})},this.onToggleFullscreenShortcut=()=>{this.props.onToggleFullscreenShortcut()},this.state={isCloseConfirmModalOpen:!1}}componentDidMount(){this.props.allowShortcuts&&this._startListening()}componentDidUpdate(e){const{allowShortcuts:t}=this.props;t&&!e.allowShortcuts?this._startListening():!t&&e.allowShortcuts&&this._stopListening()}componentWillUnmount(){this.props.allowShortcuts&&this._stopListening()}_startListening(){const{isCurrentMediaTypePausable:e,isCurrentMediaTypeSkippable:t}=this.props;p.Z.hasMediaSession&&(window.navigator.mediaSession.setActionHandler("play",e?this.onPlayShortcut:null),window.navigator.mediaSession.setActionHandler("pause",e?this.onPauseShortcut:null),window.navigator.mediaSession.setActionHandler("previoustrack",t?this.onPreviousShortcut:null),window.navigator.mediaSession.setActionHandler("nexttrack",t?this.onNextShortcut:null),window.navigator.mediaSession.setActionHandler("stop",this.onCloseShortcut)),wi.Z.on({"shortcut:skipPrevious":this.onPreviousShortcut,"shortcut:stepBackward":this.onStepBackShortcut,"shortcut:seekBackward":this.onSkipBackShortcut,"shortcut:playPause":this.onPlayPauseShortcut,"shortcut:play":this.onPlayShortcut,"shortcut:pause":this.onPauseShortcut,"shortcut:seekForward":this.onSkipForwardShortcut,"shortcut:stepForward":this.onStepForwardShortcut,"shortcut:skipNext":this.onNextShortcut,"shortcut:increaseVolume":this.onVolumeIncrease,"shortcut:decreaseVolume":this.onVolumeDecrease,"shortcut:toggleFullScreen":this.onToggleFullscreenShortcut,"shortcut:stop":this.onCloseShortcut})}_stopListening(){p.Z.hasMediaSession&&(window.navigator.mediaSession.setActionHandler("play",null),window.navigator.mediaSession.setActionHandler("pause",null),window.navigator.mediaSession.setActionHandler("previoustrack",null),window.navigator.mediaSession.setActionHandler("nexttrack",null),window.navigator.mediaSession.setActionHandler("stop",null)),wi.Z.off({"shortcut:skipPrevious":this.onPreviousShortcut,"shortcut:stepBackward":this.onStepBackShortcut,"shortcut:seekBackward":this.onSkipBackShortcut,"shortcut:playPause":this.onPlayPauseShortcut,"shortcut:play":this.onPlayShortcut,"shortcut:pause":this.onPauseShortcut,"shortcut:seekForward":this.onSkipForwardShortcut,"shortcut:stepForward":this.onStepForwardShortcut,"shortcut:skipNext":this.onNextShortcut,"shortcut:increaseVolume":this.onVolumeIncrease,"shortcut:decreaseVolume":this.onVolumeDecrease,"shortcut:toggleFullScreen":this.onToggleFullscreenShortcut,"shortcut:stop":this.onCloseShortcut})}render(){return i.createElement(C.Z,{isOpen:this.state.isCloseConfirmModalOpen,metricsPage:d.s0,title:(0,E.Z)("Stop Playback"),message:(0,E.Z)("Closing the player will stop playback. Any changes to the queue will be lost."),onConfirm:this.onCloseConfirmPress,onCancel:this.onCloseCancelPress})}}const Yy=(0,s.$j)((function(){return(0,o.P1)((0,o.P1)((e=>e.ui.audioVideoPlayer.openState),(e=>e.ui.photoPlayer.openState),(e=>e.ui.romPlayer.openState),((e,{playerType:t})=>t),((e,t,n,r)=>function(e){const{playerType:t,audioVideoOpenState:n,photoOpenState:r,romOpenState:i}=e,s=t===u.Se&&!!n,a=t===u.pV&&!!r;if(t===u.eD&&i)return!1;let o=0,l=0;return n===Rm.y?o+=1:n===Rm.K&&(o+=2),r===Rm.y?l+=1:r===Rm.K&&(l+=2),s&&o>=l||a&&l>o}({audioVideoOpenState:e,photoOpenState:t,romOpenState:n,playerType:r}))),mm(),(0,o.P1)(sm(),(e=>{let t;if(e){const n=(0,_l.getMetadataType)(e.type);t=n&&n.mediaType}return t})),((e,{isAdVisible:t})=>t),jm.Z,((e,t,n,r,i)=>{const s=t&&ze.wB((0,gn.Z)(t.source).providerIdentifier,[ze.Ll,ze.vP]),a=t&&(0,gn.Z)(t.source).serverIdentifier===Hs.X,o=s&&a;return{allowShortcuts:e,isCurrentMediaTypePausable:!o,isCurrentMediaTypeSkippable:!r&&!s,isCurrentMediaTypeSeekable:!(r||o||n!==fm.j0&&n!==fm.pX),volume:i}}))}),Qy)(Gy);var qy=n(46277);class Ky extends i.Component{constructor(e,t){super(e,t),this.title=document.title}componentDidMount(){this._updateWindowTitle()}componentDidUpdate(){this._updateWindowTitle()}componentWillUnmount(){document.title=this.title}_updateWindowTitle(){const{type:e,title:t,originalTitle:n,grandparentTitle:r,index:i,parentIndex:s,originallyAvailableAt:a,isPaused:o}=this.props;if(!t||!e)return;let l;if(e===_l.EPISODE)l=`${r} - ${(0,qy.Z)({seasonIndex:s,episodeIndex:i,date:a,noLeadingZero:!0,separator:" · "})}`;else if(e===_l.TRACK){const e=n||r;l=e?`${e} - ${t}`:t}else l=t;o||(l=`▶ ${l}`),document.title=l}render(){return null}}const $y=(0,s.$j)((function(){return(0,o.P1)((0,ym.Z)(),mm(),((e,t)=>t?{type:t.type,title:t.title,originalTitle:t.originalTitle,grandparentTitle:t.grandparentTitle,index:t.index,parentIndex:t.parentIndex,originallyAvailableAt:t.originallyAvailableAt,isPaused:e.isPaused}:{}))}))(Ky);var Xy=Object.defineProperty,Jy=Object.prototype.hasOwnProperty,ev=Object.getOwnPropertySymbols,tv=Object.prototype.propertyIsEnumerable,nv=(e,t,n)=>t in e?Xy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rv=(e,t)=>{for(var n in t||(t={}))Jy.call(t,n)&&nv(e,n,t[n]);if(ev)for(var n of ev(t))tv.call(t,n)&&nv(e,n,t[n]);return e};function iv(e){const t=e,{component:n}=t,r=((e,t)=>{var n={};for(var r in e)Jy.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ev)for(var r of ev(e))t.indexOf(r)<0&&tv.call(e,r)&&(n[r]=e[r]);return n})(t,["component"]);return i.createElement(i.Suspense,{fallback:null},i.createElement(n,rv(rv({},r),{type:"video",allowRecycleElement:!0})))}iv.defaultProps={component:Sh};const sv=iv,av=km(iv);function ov(e){const t=document.getElementById("plex").classList,n="show-video-player";e?t.add(n):t.remove(n)}var lv=Object.defineProperty,cv=Object.prototype.hasOwnProperty,dv=Object.getOwnPropertySymbols,uv=Object.prototype.propertyIsEnumerable,pv=(e,t,n)=>t in e?lv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mv=(e,t)=>{for(var n in t||(t={}))cv.call(t,n)&&pv(e,n,t[n]);if(dv)for(var n of dv(t))uv.call(t,n)&&pv(e,n,t[n]);return e};const hv=parseInt(ol.Z.playerControlsPosterHeight,10),gv=parseInt(ol.Z.playerControlsLandscapePosterWidth,10),yv=parseInt(ol.Z.playerControlsNarrowBreakpoint,10),vv=parseInt(ol.Z.playerControlsPosterLeftGutter,10),fv=parseInt(ol.Z.playerControlsPosterBottomGutter,10),bv=parseInt(ol.Z.playerControlsNarrowPosterBottomGutter,10);class Sv extends i.Component{constructor(e,t){super(e,t),this.updateAdState=()=>{var e;const{ad:t}=this.state,{isOpen:n,onUpdateCurrentAd:r}=this.props;r&&r(t&&n?{adDisplayIndex:t.displayIndex,adDisplayTotal:t.displayTotal,adDurationSeconds:t.duration,adPositionSeconds:Math.floor(this.state.adPositionMilliseconds/1e3),adState:Xm.Z$,adTimeOffsetSeconds:null!=(e=null==t?void 0:t.timeOffset)?e:null}:{adDisplayIndex:null,adDisplayTotal:null,adDurationSeconds:null,adPositionSeconds:null,adState:null,adTimeOffsetSeconds:null})},this.onAdPositionMillisecondsChange=e=>{this.setState({adPositionMilliseconds:e})},this.onAdChange=e=>{this.setState({ad:e,adPositionMilliseconds:0,hasRequestedAds:!0})},this.onScreenSizeChange=({width:e})=>{const t=e<=yv;t!==this.state.isNarrowLayout&&this.setState({isNarrowLayout:t})},this.onSeekBarInteractionStart=()=>{this.setState({isSeeking:!0})},this.onSeekBarInteractionEnd=()=>{this.setState({isSeeking:!1})},this.onUpdateBufferedRanges=e=>{const{onUpdateBufferedRanges:t}=this.props;t&&t(e)},this.state={ad:null,adPositionMilliseconds:0,isNarrowLayout:!1,seekEndMilliseconds:0,seekStartMilliseconds:0},this.positionMillisecondsStore=(0,Sm.MT)(wm,0)}static getDerivedStateFromProps(e,t){const n={vastUrl:e.vastUrl,isRemotePlayer:e.isRemotePlayer};return t.vastUrl===n.vastUrl&&t.isRemotePlayer===n.isRemotePlayer||(n.hasRequestedAds=!1,n.ad=null,n.adPositionMilliseconds=0),n}componentDidMount(){ov(this.props.showBackgroundVideoPlayer)}componentDidUpdate(e,t){e.showBackgroundVideoPlayer!==this.props.showBackgroundVideoPlayer&&ov(this.props.showBackgroundVideoPlayer),(e.isOpen&&!this.props.isOpen||t.ad!==this.state.ad||t.ad===this.state.ad&&t.adPositionMilliseconds!==this.state.adPositionMilliseconds&&Math.floor(this.state.adPositionMilliseconds/1e3)!==this.props.adPositionSeconds)&&this.updateAdState()}componentWillUnmount(){ov(!1)}render(){var e,t;const{adState:n,adPositionSeconds:r,adDurationSeconds:a,playerType:o,isOpen:l,isMiniPlayer:c,isRemotePlayer:u,isPlayQueueLoading:m,isPostPlayVisible:h,isFullscreen:g,isVideo:y,isGame:v,hasError:f,hasConflicts:b,confirmLiveTVPlayback:S,showBackgroundVideoPlayer:I,currentMediaType:Z,currentMediaSubtype:E,confirmPlaybackPayload:M,confirmOffsetPayload:C,advertisingNoticePayload:w,confirmRemoteToLocal:D,confirmLocalToRemote:T,confirmPlayerUpsellPayload:O,vastUrl:x,mediaComponent:A,mediaHeight:N,mediaPlacement:k,mediaWidth:L,playerComponent:j,bufferedRanges:R,machineIdentifier:V,providerIdentifier:U,gameInputDevices:z,gamePlatformTag:B,gamePreventDefault:_,onToggleFullscreen:F}=this.props,{ad:H,adPositionMilliseconds:W,hasRequestedAds:Q,seekStartMilliseconds:G,seekEndMilliseconds:Y,isNarrowLayout:q,isSeeking:K}=this.state;if(!l)return f?i.createElement(By,{isOpen:!0,isRemotePlayer:u,mediaType:Z,playerType:o}):b?i.createElement(Ny,{isOpen:!0,isPlayerOpen:l,playerType:o}):S?i.createElement(Cg,{isOpen:!0,isPlayerOpen:l,playerType:o}):null;const $=(y||v)&&c?{edgeGutterX:vv,edgeGutterY:q?bv:fv,height:hv,placement:th.aV,width:gv}:{height:N,placement:k,width:L},X=n===Xm.Z$,J=!!x&&!Q,ee=null!=(t=null==(e=R[R.length-1])?void 0:e.endSeconds)?t:0;return i.createElement(Te.ZP,{machineIdentifier:V,providerIdentifier:U},i.createElement(s.zt,{store:this.positionMillisecondsStore,context:Zm},i.createElement(Sl.Z,{page:d.r$},i.createElement("div",{className:rl()(c?"Player-miniPlayerContainer-Z6fOnP":"Player-fullPlayerContainer-cPN8MA",!I&&!c&&"Player-fullPlayerContainerBackground-2RW57n")},M?i.createElement(Jg,{isOpen:!0,playerType:o,confirmPlaybackPayload:M}):null,O?i.createElement(Zy,{isOpen:!0,playerType:o,upsellPayload:O}):null,w?i.createElement(ug,{isOpen:!0,playerType:o,advertisingNoticePayload:w}):null,C?i.createElement(Qg,{isOpen:!0,playerType:o,confirmOffsetPayload:C}):null,D?i.createElement(Py,{isOpen:!0,playerType:o}):null,T!==Km.m$?i.createElement(jg,{isOpen:!0,playerType:o}):null,f?i.createElement(By,{isOpen:!0,isRemotePlayer:u,mediaType:Z,playerType:o}):null,b?i.createElement(Ny,{isOpen:!0,isPlayerOpen:l,playerType:o}):null,J||h||m||u&&T===Km.m$||D?null:i.createElement(A,mv(mv({},$),{gameInputDevices:z,gamePlatformTag:B,gamePreventDefault:_,playerType:o,mediaType:Z,mediaSubtype:E,isNarrowLayout:q,isStackedAbove:c,isAdVisible:X,onBufferChange:this.onUpdateBufferedRanges})),!x||u||D||f?null:i.createElement(sv,mv(mv({},$),{ad:H,playerType:o,isMiniPlayer:c,isFullscreen:g,isIdle:!!K,component:(0,P.DB)("adPlayerComponent").getComponent(),isStackedAbove:c,isNarrowLayout:q,positionSeconds:Math.round(W/1e3),url:x,statusOverlayClassName:"Player-adPlayerDisplayIndexContainer-3XqrJB",onAdChange:this.onAdChange,onPositionMillisecondsChange:this.onAdPositionMillisecondsChange})),i.createElement(j,mv(mv(mv({},this.props),$),{ad:H,isAdVisible:X,isNarrowLayout:q,seekStartMilliseconds:G,seekEndMilliseconds:Y,bufferStartMilliseconds:0,bufferEndMilliseconds:1e3*ee,adPositionMilliseconds:u?1e3*r:W,adDurationMilliseconds:1e3*a,onSeekBarInteractionStart:this.onSeekBarInteractionStart,onSeekBarInteractionEnd:this.onSeekBarInteractionEnd})),i.createElement(Yy,{isAdVisible:X,playerType:o,onToggleFullscreenShortcut:F}),p.Z.hasMediaSession?i.createElement(Wy,{playerType:o}):null,i.createElement($y,{playerType:o}),i.createElement(qh,{playerType:o,isRemotePlayer:u,isAdVisible:X}),i.createElement($h,{playerType:o}),i.createElement(Jh,{onScreenSizeChange:this.onScreenSizeChange})))))}}Sv.defaultProps={bufferedRanges:[],confirmLiveTVPlayback:!1,isGame:!1,isMusic:!1,isPhoto:!1,isVideo:!1,isLiveTV:!1};const Iv=Sv;function Zv(e){return e?`${e.type}:${e.startTimeOffset}:${e.endTimeOffset}`:void 0}var Pv=n(41720);const Ev="north",Mv="northeast",Cv="east",wv="southeast",Dv="south",Tv="southwest",Ov="west",xv="northwest",Av="center";var Nv=n(6483);const kv=(0,s.$j)((function(){return(0,o.P1)((0,_y.Z)(),(e=>({url:e})))}))(Nv.ZP),Lv=Math.max(256,144),jv={maxWidth:256/1920*100+"vw",maxHeight:144/1080*100+"vh"},Rv={maxWidth:"10vw",maxHeight:"10vh"},Vv={maxWidth:128/1920*100+"vw",maxHeight:72/1080*100+"vh"},Uv=({className:e,src:t,style:n})=>i.createElement("img",{className:e,src:t,style:n}),zv=({className:e,providerEntityID:t,overlay:n,serverEntityID:r})=>{const[s,a]=(0,i.useState)();let o;switch(n.size){case"large":o=jv;break;case"medium":o=Rv;break;case"small":default:o=Vv}const l=(0,i.useCallback)((()=>{a(new Error("Unable to load overlay"))}),[]);return(0,i.useEffect)((()=>{a(void 0)}),[n]),s?null:i.createElement(kv,{component:Uv,className:e,serverEntityID:r,providerEntityID:t,url:n.key,width:Lv,height:Lv,style:o,format:"png",onError:l})},Bv={outerContainer:"MediaOverlays-outerContainer-2vLlf5",innerContainer:"MediaOverlays-innerContainer-1duI6P",horizontal:"MediaOverlays-horizontal-3HPPAS",vertical:"MediaOverlays-vertical-r7Kjh3",overlay:"MediaOverlays-overlay-2jW4eN",northwest:"MediaOverlays-northwest-3rGg6H MediaOverlays-horizontal-3HPPAS",north:"MediaOverlays-north-37pgwM MediaOverlays-horizontal-3HPPAS",northeast:"MediaOverlays-northeast-1j9Ev6 MediaOverlays-horizontal-3HPPAS",east:"MediaOverlays-east-61C0rr MediaOverlays-vertical-r7Kjh3",southeast:"MediaOverlays-southeast-2A8lw9 MediaOverlays-horizontal-3HPPAS",south:"MediaOverlays-south-guNYr4 MediaOverlays-horizontal-3HPPAS",southwest:"MediaOverlays-southwest-1h3VOX MediaOverlays-horizontal-3HPPAS",west:"MediaOverlays-west-1D5o1A MediaOverlays-vertical-r7Kjh3",center:"MediaOverlays-center-2mQ58h MediaOverlays-horizontal-3HPPAS"};var _v=Object.defineProperty,Fv=Object.prototype.hasOwnProperty,Hv=Object.getOwnPropertySymbols,Wv=Object.prototype.propertyIsEnumerable,Qv=(e,t,n)=>t in e?_v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gv=(e,t)=>{for(var n in t||(t={}))Fv.call(t,n)&&Qv(e,n,t[n]);if(Hv)for(var n of Hv(t))Wv.call(t,n)&&Qv(e,n,t[n]);return e};const Yv=(0,s.$j)((function(){return(0,o.P1)(Fm(),(0,pm.Z)(),(0,Bm.Z)(),(0,Th.Z)(["mediaHeight","mediaWidth","itemPlaybackTime","positionSeconds","providerEntityID","serverEntityID"]),((e,t,n,r)=>Gv(Gv({},r),{liveTVMediaItem:t,liveTVSession:n,playQueueMediaItem:e})))}))((({itemPlaybackTime:e,liveTVMediaItem:t,liveTVSession:n,mediaHeight:s,mediaWidth:a,playQueueMediaItem:o,positionSeconds:l,providerEntityID:c,serverEntityID:d})=>{const[u,p]=function(){const[e,t]=(0,i.useState)([window.innerWidth,window.innerHeight]);return(0,i.useEffect)((()=>{function e(){t([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),e}(),m=(0,i.useMemo)((()=>{const r=Math.floor(e/1e3);let i,s=-1;return n&&t?(i=t,s=n.currentPosition-t.beginsAt):o&&(i=o,s=l),(null==i?void 0:i.Overlay)?function(e,t){const{secondsSinceMediaItemAiringBegan:n,secondsSinceMediaItemPlaybackBegan:r}=t;return e.reduce(((e,t)=>{const i=t.startTimeOffset/1e3,s=i+(null==t.duration?Number.POSITIVE_INFINITY:t.duration/1e3);let a=!1;return"absolute"===t.startTimeOffsetType?a=r>=i&&r<s:"relative"===t.startTimeOffsetType&&(a=n>=i&&n<s),a&&(e.has(t.gravity)?e.get(t.gravity).push(t):e.set(t.gravity,[t])),e}),new Map)}(i.Overlay,{secondsSinceMediaItemAiringBegan:s,secondsSinceMediaItemPlaybackBegan:r}):void 0}),[e,n,t,o,l]);if(!(null==m?void 0:m.size)||!s||!a)return null;const h=Math.min(u/a,p/s);return i.createElement("div",{className:Bv.outerContainer},i.createElement("div",{className:Bv.innerContainer,style:{width:a*h/u*100+"vw",height:s*h/p*100+"vh"}},Object.values(r).map((e=>{var t;const n=null==(t=null==m?void 0:m.get(e))?void 0:t.map(((e,t)=>i.createElement(zv,{key:t,className:Bv.overlay,overlay:e,providerEntityID:c,serverEntityID:d})));return n?i.createElement("div",{key:e,className:Bv[e]},n):null}))))}));var qv=n(32901),Kv=n(78831),$v=Object.defineProperty,Xv=Object.prototype.hasOwnProperty,Jv=Object.getOwnPropertySymbols,ef=Object.prototype.propertyIsEnumerable,tf=(e,t,n)=>t in e?$v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const nf=function(e){const t=(0,o.P1)((e=>e),(e=>({positionMilliseconds:e})));function n(t){const n=t,{positionSeconds:r,positionMilliseconds:s}=n,a=((e,t)=>{var n={};for(var r in e)Xv.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Jv)for(var r of Jv(e))t.indexOf(r)<0&&ef.call(e,r)&&(n[r]=e[r]);return n})(n,["positionSeconds","positionMilliseconds"]);let o=s;return null!=r&&Math.abs(r-Math.floor(s/1e3))>1&&(o=1e3*r),i.createElement(e,((e,t)=>{for(var n in t||(t={}))Xv.call(t,n)&&tf(e,n,t[n]);if(Jv)for(var n of Jv(t))ef.call(t,n)&&tf(e,n,t[n]);return e})({positionSeconds:r,positionMilliseconds:o},a))}return n.displayName=`WithPositionMilliseconds(${(0,bm.Z)(e)})`,n.WrappedComponent=e,n.propTypes={positionSeconds:Va().number,positionMilliseconds:Va().number.isRequired},(0,s.$j)(t,null,null,{context:Zm})(n)};var rf=n(28450),sf=n.n(rf),af=n(73479),of=n(36183),lf=n(89271),cf=n(80967);class df extends i.Component{constructor(e,t){super(e,t),this._loadSubtitles=()=>{this._loadTimeoutID&&(this._loadTimeoutID=window.clearTimeout(this._loadTimeoutID)),this._connectionTimeoutID&&(this._connectionTimeoutID=window.clearTimeout(this._connectionTimeoutID)),this._formatTimeoutID&&(this._formatTimeoutID=window.clearTimeout(this._formatTimeoutID));const{subtitlesUrl:e,positionMilliseconds:t,decisionUseSidecarSrtSubtitles:n}=this.props;this._positionAtTimeOfRequest=t,(0,Sr.Z)("[Subtitles] loading subtitles. position: %s url: %s",this._positionAtTimeOfRequest,e),this._abortStream(),this._xhr=new window.XMLHttpRequest;const r=new(sf().parser.XhrStream)(this._xhr),i=n?new(sf().parser.SrtStreamParser)(r).ass:new(sf().parser.StreamParser)(r).minimalASS;this._openSubtitlesConnection(),i.then(this.onSubtitlesLoad,this.onSubtitlesFail)},this._getPosition=()=>{const{positionMilliseconds:e,offset:t}=this.props,n=(e+t)/1e3;if(n%1e3){const e=this._clock.currentTime;if(Math.floor(e)===n)return e}return n},this.onMeasure=({width:e,height:t})=>{this.setState({width:e,height:t})},this.onSubtitlesLoad=e=>{if(!this._isMounted)return!1;(0,Sr.Z)("[Subtitles] Starting to render subtitles"),this._destroySubtitles(),this._clock=new(sf().renderers.AutoClock)(this._getPosition,1e3),this._renderer=new(sf().renderers.WebRenderer)(e,this._clock,document.getElementById(this._rendererID),this.props.rendererOptions),this._setSubtitleSize(),this._rerenderSubtitles(),this._setClockState(),this._formatTimeoutID=window.setTimeout((()=>{this._setSubtitleColor(),this._setSubtitlePosition(),this._rerenderSubtitles()}),0)},this.onSubtitlesConnectionTimeout=()=>{(0,Sr.Z)("[Subtitles] Connection inactivity timeout, reopening."),this._openSubtitlesConnection()},this.onSubtitlesFail=()=>{if(!this._isMounted)return!1;const e=this._xhr.readyState,t=this._xhr.status;this._errorCount++,Sr.Z.warn("[Subtitles] Request failed. statusCode:%s state:%s errorCount:%s %s",t,e,this._errorCount,this._xhr.errorString||""),this._errorCount>this.props.consecutiveErrorsTolerance?this.props.onSubtitlesError():this._loadTimeoutID=window.setTimeout(this._loadSubtitles,this.props.retryTimeout)},sf().debugMode=!1,this.state={width:0,height:0},this._rendererID=(0,ja.Z)(),this._loadTimeoutID=null,this._connectionTimeoutID=null,this._errorCount=0,this._positionAtTimeOfRequest=null,this._isMounted=!1}componentDidMount(){this._isMounted=!0,this.props.subtitlesUrl&&this._loadSubtitles()}componentDidUpdate(e,t){const{isOpen:n,isBuffering:r,isPaused:i,hasError:s,heightOffset:a,rendererOptions:o,offset:l,color:c,position:d,size:u,sizeMultiplier:p,subtitlesUrl:m}=this.props,{width:h,height:g}=this.state;if(this._shouldResetStream(e)||o!==e.rendererOptions||m!==e.subtitlesUrl)return void this._loadSubtitles();const y=c!==e.color,v=d!==e.position,f=u!==e.size||p!==e.sizeMultiplier;y&&this._setSubtitleColor(),v&&this._setSubtitlePosition(),f&&this._setSubtitleSize(),(y||v||f||h!==t.width||g!==t.height||a!==e.heightOffset)&&this._rerenderSubtitles(),n===e.isOpen&&r===e.isBuffering&&i===e.isPaused&&s===e.hasError||this._setClockState(),l!==e.offset&&this._setPosition()}componentWillUnmount(){(0,Sr.Z)("[Subtitles] Closing"),this._loadTimeoutID&&(this._loadTimeoutID=window.clearTimeout(this._loadTimeoutID)),this._connectionTimeoutID&&(this._connectionTimeoutID=window.clearTimeout(this._connectionTimeoutID)),this._formatTimeoutID&&(this._formatTimeoutID=window.clearTimeout(this._formatTimeoutID)),this._isMounted=!1,this._destroySubtitles(),this._abortStream()}_openSubtitlesConnection(){const{subtitlesUrl:e,isDirectPlay:t,positionSeconds:n,connectionTimeout:r}=this.props;this._abortStream(),this._xhr.onreadystatechange=e=>{4===e.currentTarget.readyState&&(e.currentTarget.status>=200&&e.currentTarget.status<300?this._errorCount=0:this.onSubtitlesFail())},r&&(this._xhr.onprogress=e=>{(0,Sr.Z)("[Subtitles] Received data, restarting connection timer."),window.clearTimeout(this._connectionTimeoutID),this._connectionTimeoutID=window.setTimeout(this.onSubtitlesConnectionTimeout,r)});let i=e;if(t){const t=xa.Z.parseUrl(e);t.params.offset=n,i=xa.Z.join([t.origin,t.pathname],t.params)}this._xhr.open("GET",i,!0),this._xhr.send()}_destroySubtitles(){this._loadTimeoutID&&(this._loadTimeout=window.clearTimeout(this._loadTimeoutID)),this._clock&&(this._clock.disable(),this._clock=null),this._renderer&&(this._renderer.disable(),this._renderer=null);const e=document.getElementById(this._rendererID);for(;e.hasChildNodes();)e.removeChild(e.lastChild)}_abortStream(){this._xhr&&((0,Sr.Z)("[Subtitles] Aborting existing xhr."),this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.abort())}_setSubtitleColor(){const{color:e}=this.props;if(!this._renderer)return;const t=function(e){const t=/^#?([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i.exec(e);return t?{red:parseInt(t[1],16),green:parseInt(t[2],16),blue:parseInt(t[3],16)}:null}(e),n=this._renderer.ass.styles.get("Default");t?n?((0,Sr.Z)("[Subtitles] Setting subtitle color to %s",e),n._primaryColor=new(sf().parts.Color)(t.red,t.green,t.blue,1),n._outlineColor=e===af.Z.BLACK?new(sf().parts.Color)(255,255,255,1):new(sf().parts.Color)(0,0,0,1)):Sr.Z.warn("[Subtitles] Unable to set subtitle color, no default style"):Sr.Z.warn("[Subtitles] Unable to set subtitle color, invalid color")}_setSubtitlePosition(){const{position:e}=this.props;if(!this._renderer)return;const t=this._renderer.ass.styles.get("Default");let n=2;e===of.Z.MIDDLE?n=5:e===of.Z.TOP&&(n=8),t?((0,Sr.Z)("[Subtitles] Setting subtitle position to %s",e),t._alignment=n):Sr.Z.warn("[Subtitles] Unable to set subtitle position, no default style")}_setSubtitleSize(){const{size:e,sizeMultiplier:t}=this.props;if(!this._renderer)return;const n=this._renderer.ass.properties,r=e*t/100;let i,s;this.state.originalResolutionX&&this.state.originalResolutionY?(i=this.state.originalResolutionX,s=this.state.originalResolutionY):(i=n.resolutionX,s=n.resolutionY,this.setState({originalResolutionX:i,originalResolutionY:s})),n.resolutionX=i/r,n.resolutionY=s/r}_rerenderSubtitles(){if(this._renderer){const{width:e,height:t}=this.state;(0,Sr.Z)("[Subtitles] Re-rendering subtitles"),this._renderer.resize(e,t-this.props.heightOffset)}}_setPosition(){const e=this._clock;if(!e||!e._manualClock)return;const{positionMilliseconds:t,offset:n}=this.props;e._manualClock._currentTime=(t+n)/1e3}_setClockState(){const e=this._clock;if(!e)return;const{isOpen:t,isBuffering:n,isPaused:r,hasError:i}=this.props;return n||r?((0,Sr.Z)("[Subtitles] Clock State: paused"),void e.pause()):!t||i?((0,Sr.Z)("[Subtitles] Clock State: disabled"),void e.disable()):r?void 0:((0,Sr.Z)("[Subtitles] Clock State: playing"),void e.play())}_shouldResetStream(e){const{isOpen:t,isMediaLoading:n,isBuffering:r,isPaused:i,hasError:s,positionMilliseconds:a,lastSeekPositionSeconds:o,decisionUseSidecarSrtSubtitles:l}=this.props;if(l)return!1;const c=this._positionAtTimeOfRequest,d=a-e.positionMilliseconds,u=d>0&&t&&!n&&!r&&!i&&!s;if(null!=o&&o!==e.lastSeekPositionSeconds)return this._resetAfterSeekStarted=!0,this._resetLater=!1,!1;if(this._resetAfterSeekStarted){const e=1e3*o<a;return!(!u||!e||(this._resetAfterSeekStarted=!1,0))}return u&&this._resetLater?(this._resetLater=!1,!0):(!this._xhr||d>1e4||a<c)&&(this._resetLater=!u,u)}render(){return i.createElement(cf.Z,{className:"Subtitles-measure-d6Tpx3",onMeasure:this.onMeasure},i.createElement("div",{id:this._rendererID,className:"Subtitles-renderer-2L1st6",role:"alert"}))}}df.defaultProps={offset:0,color:af.Z.WHITE,position:of.Z.BOTTOM,size:lf.Z.NORMAL,sizeMultiplier:1,heightOffset:0,consecutiveErrorsTolerance:3,connectionTimeout:null,retryTimeout:3e3,rendererOptions:{enableSvg:!1,preciseOutlines:!1}};const uf=df;var pf=Object.defineProperty,mf=Object.prototype.hasOwnProperty,hf=Object.getOwnPropertySymbols,gf=Object.prototype.propertyIsEnumerable,yf=(e,t,n)=>t in e?pf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vf=(e,t)=>{for(var n in t||(t={}))mf.call(t,n)&&yf(e,n,t[n]);if(hf)for(var n of hf(t))gf.call(t,n)&&yf(e,n,t[n]);return e};const ff={dispatchMakeDecision:zm.bY,dispatchRemoveDecision:zm.Td,dispatchShowAlert:qv.wp};class bf extends i.Component{constructor(e,t){super(e,t),this.onSubtitlesError=()=>{const{playQueueItemEntityID:e,playerType:t,positionMilliseconds:n,qualityIndex:r,decisionMediaIndex:i,decisionPartIndex:s,decisionUseSidecarSrtSubtitles:a,dispatchMakeDecision:o,dispatchRemoveDecision:l}=this.props;a?this.setState({hasSidecarSrtFailed:!0}):(l({playerType:t,playQueueItemEntityID:e}),o({playerType:t,playQueueItemEntityID:e,qualityIndex:r,mediaIndex:i,partIndex:s,options:{offset:n,subtitlesBurnLevel:Kv.Z.ALWAYS}}))},this.state={hasSidecarSrtFailed:!1}}componentDidUpdate(e,t){const{hasSidecarSrtFailed:n}=this.state;n&&n!==t.hasSidecarSrtFailed&&(Sr.Z.error("[Subtitles] Unrecoverable error processing",this.props.subtitlesUrl),this.props.dispatchShowAlert({type:"error",message:(0,E.Z)("There was an unexpected subtitles error")}))}render(){const e=this.props,{subtitlesUrl:t,dispatchMakeDecision:n,dispatchRemoveDecision:r}=e,s=((e,t)=>{var n={};for(var r in e)mf.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&hf)for(var r of hf(e))t.indexOf(r)<0&&gf.call(e,r)&&(n[r]=e[r]);return n})(e,["subtitlesUrl","dispatchMakeDecision","dispatchRemoveDecision"]);return!t||this.state.hasSidecarSrtFailed?null:i.createElement(uf,vf(vf({subtitlesUrl:t},s),{onSubtitlesError:this.onSubtitlesError}))}}const Sf=nf(bf),If=(0,s.$j)((function(){return(0,o.P1)((0,Th.Z)(["isOpen","isMediaLoading","isBuffering","isPaused","hasError","qualityIndex","positionSeconds","lastSeekPositionSeconds"]),am(),sm(),Wm(),(0,P.DB)("selectSubtitleSettings"),((e,t,n,r,i)=>{const s=n.entityID,a=vf(vf(vf({},e),i),{playQueueItemEntityID:s});return t&&(a.decisionMediaIndex=t.mediaIndex,a.decisionPartIndex=t.partIndex,a.decisionUseSidecarSrtSubtitles=t.useSidecarSrtSubtitles,a.subtitlesUrl=t.subtitlesUrl,a.isDirectPlay=t.isDirectPlay),r.selectedSubtitlesStream&&(a.offset=r.selectedSubtitlesStream.offset),a}))}),ff)(Sf);var Zf=n(82777),Pf=n(54983),Ef=n(32129),Mf=Object.defineProperty,Cf=Object.prototype.hasOwnProperty,wf=Object.getOwnPropertySymbols,Df=Object.prototype.propertyIsEnumerable,Tf=(e,t,n)=>t in e?Mf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Of=(e,t)=>{for(var n in t||(t={}))Cf.call(t,n)&&Tf(e,n,t[n]);if(wf)for(var n of wf(t))Df.call(t,n)&&Tf(e,n,t[n]);return e};function xf(e){"Enter"===e.key&&e.nativeEvent.stopImmediatePropagation()}const Af=(0,Pf.Z)(Ef.Z.defaultSpeed),Nf={enter:{opacity:1,duration:Af},exit:{opacity:0,duration:Af}},kf=function(e){var t=e,{isHidden:n,isHiddenPolite:r,marker:s,positionSeconds:a,onPress:o}=t,l=((e,t)=>{var n={};for(var r in e)Cf.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&wf)for(var r of wf(e))t.indexOf(r)<0&&Df.call(e,r)&&(n[r]=e[r]);return n})(t,["isHidden","isHiddenPolite","marker","positionSeconds","onPress"]);const c=Zv(s),[d,u]=(0,i.useState)(0),{isOpen:p,onOpen:m,onClose:h}=(0,hn.Z)(),g=(0,i.useRef)(),y=(0,i.useCallback)((e=>{xf(e),u(a),o(Math.round(s.endTimeOffset/1e3))}),[s,a,o]);return(0,i.useEffect)((()=>{const e=1e3*a,t=!s,i=e<(null==s?void 0:s.startTimeOffset),o=e>=(null==s?void 0:s.endTimeOffset),l=d>0,c=(null==s?void 0:s.endTimeOffset)-e<500,u=r&&g.current&&a>=g.current;n||t||i||o||u||l&&c?h():r&&!g.current?g.current=a+10:t||i||o||m()}),[s,n,r,d,a,m,h]),(0,i.useEffect)((()=>()=>{g.current=0,u(0)}),[c]),i.createElement(Zf.M_,null,p&&c?i.createElement(Zf.ww.div,{key:c,initial:"exit",animate:"enter",exit:"exit",variants:Nf},i.createElement(Xs.Z,Of(Of({},l),{autoFocus:"autofocus",onKeyDown:xf,onKeyUp:xf,onTouchEnd:xf,onTouchStart:xf,onPress:y}),function(e){switch(e.type){case om:return(0,E.Z)("Skip Ads");case lm:return(0,E.Z)("Skip Intro");case"outro":return(0,E.Z)("Skip Outro");case"recaps":return(0,E.Z)("Skip Recaps")}}(s))):null)};var Lf=Object.defineProperty,jf=Object.prototype.hasOwnProperty,Rf=Object.getOwnPropertySymbols,Vf=Object.prototype.propertyIsEnumerable,Uf=(e,t,n)=>t in e?Lf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const zf=(0,s.$j)((function(){return(0,o.zB)({positionSeconds:(0,va.Z)("positionSeconds")})}),(function(e,{playerType:t}){return{onPress(n){e(nm.O7({playerType:t,positionSeconds:n}))}}}))((function(e){var t=e,{playerType:n}=t,r=((e,t)=>{var n={};for(var r in e)jf.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Rf)for(var r of Rf(e))t.indexOf(r)<0&&Vf.call(e,r)&&(n[r]=e[r]);return n})(t,["playerType"]);return i.createElement(kf,((e,t)=>{for(var n in t||(t={}))jf.call(t,n)&&Uf(e,n,t[n]);if(Rf)for(var n of Rf(t))Vf.call(t,n)&&Uf(e,n,t[n]);return e})({},r))}));var Bf=n(58501);const _f=parseInt(ol.Z.playerControlsHeight,10);class Ff extends i.Component{constructor(){super(...arguments),this.onMeasure=e=>{this.props.onDimensionsChange&&this.props.onDimensionsChange(e)}}render(){const{className:e,bottom:t,children:n}=this.props;return i.createElement(cf.Z,{className:e,style:{bottom:t},ignoreWidth:!0,ignorePosition:!0,onMeasure:this.onMeasure},n)}}Ff.defaultProps={className:"AudioVideoStripeContainer-container-2TIa2Q",bottom:_f};const Hf=Ff;var Wf=n(11956),Qf=n(28180),Gf=n(38891),Yf=n(39539),qf=Object.defineProperty,Kf=Object.prototype.hasOwnProperty,$f=Object.getOwnPropertySymbols,Xf=Object.prototype.propertyIsEnumerable,Jf=(e,t,n)=>t in e?qf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eb=(e,t)=>{for(var n in t||(t={}))Kf.call(t,n)&&Jf(e,n,t[n]);if($f)for(var n of $f(t))Xf.call(t,n)&&Jf(e,n,t[n]);return e};const tb=(0,ql.n3)(_l.MOVIE,null,Hl.r$),nb=2*(parseInt(ol.Z.posterTitleHeight,10)+parseInt(ol.Z.posterTitlePadding,10));function rb(e){return e-nb}const ib=(0,i.memo)((function(e){const{serverEntityID:t,index:n,thumb:r,tag:s,isActive:a,startTimeOffset:o,cellWidth:l,cellHeight:c,onSeekTo:d}=e,u=(0,Wf.Z)(e),p=(0,i.useCallback)((()=>{const e=Math.round(o/1e3);d(e)}),[o,d]),m=n;return i.createElement("div",{style:u.style},i.createElement(Lr.Z,{className:rl()("VideoChapterCell-thumbWrapper-1SJ4TA",a&&"VideoChapterCell-isActive-28FrlZ"),onPress:p},i.createElement(H.Z,{key:m,serverEntityID:t,url:r,backgroundSize:"contain",width:l,height:rb(c),component:_.Z})),i.createElement("div",{className:"VideoChapterCell-titleContainer-3IuaRP"},i.createElement("div",{className:"VideoChapterCell-title-2AoBsi"},function(e,t){return t||(0,E.Z)("Chapter {index}",{index:e})}(n,s)),i.createElement("div",{className:"VideoChapterCell-secondaryTitle-cg00sr"},(0,Ug.Z)(o))))}));var sb=n(66567);var ab=Object.defineProperty,ob=Object.prototype.hasOwnProperty,lb=Object.getOwnPropertySymbols,cb=Object.prototype.propertyIsEnumerable,db=(e,t,n)=>t in e?ab(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ub=(e,t)=>{for(var n in t||(t={}))ob.call(t,n)&&db(e,n,t[n]);if(lb)for(var n of lb(t))cb.call(t,n)&&db(e,n,t[n]);return e};const pb=(0,Qf.ZP)({direction:Qf._y,rows:1,overscan:0,innerHorizontalPadding:30,outerPaddingTop:10,outerPaddingLeft:5,outerPaddingRight:5,getCellWidth:e=>(0,Yf.Z)(eb(eb({},e),{minCellWidth:135,preferredCellWidth:180,minColumns:2,maxColumns:11,aspectRatio:tb})),getCellHeight:e=>(0,Gf.Z)(eb(eb({},e),{aspectRatio:tb,titleHeight:nb}))});class mb extends i.Component{constructor(e,t){super(e,t),this.onHubCellScrollIndexChange=e=>{this.setState({scrollIndex:e,scrollIndexIsActiveChapter:!1})},this.state={scrollIndex:this.props.activeChapterIndex,scrollIndexIsActiveChapter:!0,activeChapterIndex:this.props.activeChapterIndex}}static getDerivedStateFromProps(e,t){return t.activeChapterIndex!==e.activeChapterIndex?{scrollIndex:e.activeChapterIndex,scrollIndexIsActiveChapter:!0,activeChapterIndex:e.activeChapterIndex}:null}render(){const{serverEntityID:e,bottom:t,activeChapterIndex:n,chapters:r,onSeekTo:s}=this.props;return i.createElement(Hf,{className:"VideoChapters-container-9F_CiL AudioVideoStripeContainer-container-2TIa2Q",bottom:t},i.createElement(Bf.Z,{hubIdentifier:"chapters",title:(0,E.Z)("Chapter selection"),size:r.length,keyPropName:"index",items:r.map(((e,t)=>ub(ub({},e),{isActive:t===n}))),layout:pb,cellRenderer:(0,sb.Z)({serverEntityID:e,onSeekTo:s},ib),scrollIndex:this.state.scrollIndex,shouldCenterScrollIndex:this.state.scrollIndexIsActiveChapter,onListScrollIndexChange:this.onHubCellScrollIndexChange}))}}const hb=mb,gb=(0,s.$j)((function(){return(0,o.P1)((0,ym.Z)(),cm(),(0,o.P1)((0,va.Z)("positionSeconds"),mm(),((e,t)=>t&&t.chapters?t.chapters.findIndex((t=>Math.floor(t.startTimeOffset/1e3)<=e&&Math.floor(t.endTimeOffset/1e3)>e)):-1)),((e,t,n)=>({serverEntityID:e.serverEntityID,chapters:t.chapters,activeChapterIndex:n})))}),(function(e,{playerType:t}){return{onSeekTo(n){e(nm.O7({playerType:t,positionSeconds:n}))}}}))(hb);var yb=n(28018),vb=n(96181),fb=n(15945);const bb=function(e){const{title:t}=e;return i.createElement("div",{className:"AudioVideoFullPlayerContentHeading-heading-3mZn8Q"},t)},Sb=function(e){const{children:t}=e;return i.createElement("div",{className:"AudioVideoFullPlayerContentHeadingContainer-headingContainer-1G_G1u"},t,i.createElement("div",{className:"AudioVideoFullPlayerContentHeadingContainer-divider-2xRBwK"}))};var Ib=n(54834),Zb=n(48903),Pb=n(26229),Eb=n(97930),Mb=n(76639);function Cb(e){const{className:t,posterPlayButtonClassName:n,serverEntityID:r,providerEntityID:s,metadataItemEntityID:a,type:o,title:l,context:c,imageWidth:d,imageHeight:u,imageUrl:p,beginsAt:m,endsAt:h,channelTitle:g,channelShortTitle:y,timeFormat:v,onPlayPress:f}=e,b=(0,Mb.Z)(o,c,{providerEntityID:s});return i.createElement("div",{className:t},i.createElement("div",{className:"GridAlsoAiringItemMetadata-channelInfoContainer-15mj-m"},i.createElement("div",{"data-qa-id":"alsoAiringItem-channel-name",className:"GridAlsoAiringItemMetadata-channelTitle---ngm_"},y||g)),i.createElement("div",{className:"GridAlsoAiringItemMetadata-cardContainer-tqa6Be"},i.createElement(yc,{playButtonClassName:n,playCircleClassName:"GridAlsoAiringItemMetadata-posterPlayCircle-1eQhiw MetadataPosterButtonCard-playCircle-3JXUqx PlayButton-playCircle-2DYa77",serverEntityID:r,providerEntityID:s,imageWidth:d,imageHeight:u,imageUrl:p,title:l,onPlayPress:f})),i.createElement("div",{className:"GridAlsoAiringItemMetadata-titlesContainer-2_qQ8C"},i.createElement("div",{className:"GridAlsoAiringItemMetadata-titles-24s_2d"},b.map(((e,t)=>i.createElement(Eb.Z,{key:t,serverEntityID:r,providerEntityID:s,metadataItemEntityID:a,component:e,isSecondary:t>0}))))),i.createElement("div",{className:"GridAlsoAiringItemMetadata-airTimeContainer-kkpXsi"},m&&h?(0,Pb.Z)(m,h,{timeFormat:v,separator:" — "}):null))}Cb.defaultProps={className:"GridAlsoAiringItemMetadata-container-1J-ebV"};const wb=Cb,Db=(0,s.$j)((function(){return(0,o.P1)(Zb.Z,(0,Vl.Z)(),(0,Ib.Z)(),((e,t,n)=>{const r=Hl.UC,i=(0,ql.n3)(t.type,t.subtype,r)===ql.oz?64:36,s=(0,Yl.Z)(i,null,t.type,t.subtype,t,r);return{type:t.type,title:t.title,context:r,imageWidth:s.width,imageHeight:s.height,imageUrl:s.url,beginsAt:n&&n.beginsAt,endsAt:n&&n.endsAt,channelTitle:n&&n.channelTitle,channelShortTitle:n&&n.channelShortTitle,timeFormat:e}}))}))(wb),Tb=function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,playerType:s,onPlayPress:a}=e;return i.createElement("div",{"data-qa-id":"alsoAiringItem",className:"GridAlsoAiringItem-container-5upW0n"},i.createElement(Lr.Z,{className:"GridAlsoAiringItem-underlay-2e3RW7",onPress:a}),i.createElement(Db,{className:"GridAlsoAiringItem-metadataContainer-3PUfG5 GridAlsoAiringItemMetadata-container-1J-ebV",posterPlayButtonClassName:"GridAlsoAiringItem-metadataPosterPlayButton-21vOUv MetadataPosterButtonCard-playButton-3TZX1L PlayButton-playButton-2dFmuo",serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,playerType:s,onPlayPress:a}))};var Ob=Object.defineProperty,xb=Object.prototype.hasOwnProperty,Ab=Object.getOwnPropertySymbols,Nb=Object.prototype.propertyIsEnumerable,kb=(e,t,n)=>t in e?Ob(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lb=(e,t)=>{for(var n in t||(t={}))xb.call(t,n)&&kb(e,n,t[n]);if(Ab)for(var n of Ab(t))Nb.call(t,n)&&kb(e,n,t[n]);return e};const jb={dispatchStartLiveTVPlayback:pg.lS},Rb=(0,s.$j)(null,jb)((function(e){const t=e,{dispatchStartLiveTVPlayback:n}=t,r=((e,t)=>{var n={};for(var r in e)xb.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ab)for(var r of Ab(e))t.indexOf(r)<0&&Nb.call(e,r)&&(n[r]=e[r]);return n})(t,["dispatchStartLiveTVPlayback"]),{serverEntityID:s,providerEntityID:a,metadataItemEntityID:o}=e,l=(0,i.useCallback)((()=>{n({serverEntityID:s,providerEntityID:a,metadataItemEntityID:o,metricsPage:d.r$})}),[n,s,a,o]);return i.createElement(Tb,Lb(Lb({},r),{onPlayPress:l}))})),Vb=function(e){const{serverEntityID:t,providerEntityID:n,itemEntityIDs:r,playerType:s}=e;return i.createElement("div",{className:"GridAlsoAiring-container-2g7IPX"},i.createElement(Sb,null,i.createElement(bb,{title:(0,E.Z)("Airing Now")})),i.createElement(kr.Z,{className:"GridAlsoAiring-content--RTJkj Scroller-vertical-3IY07c",autoScroll:!0},r.map((e=>i.createElement(Rb,{key:e,serverEntityID:t,providerEntityID:n,metadataItemEntityID:e,playerType:s})))))};var Ub=Object.defineProperty,zb=Object.prototype.hasOwnProperty,Bb=Object.getOwnPropertySymbols,_b=Object.prototype.propertyIsEnumerable,Fb=(e,t,n)=>t in e?Ub(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Hb={dispatchInitMetadataList:yb.EG,dispatchPopulateChannelPrograms:yb.Vg,dispatchRepopulateChannelPrograms:yb.h6,dispatchResetStartTime:yb.FL,dispatchSetViewportSize:yb.Sg},Wb=(0,s.$j)((function(){return(0,o.P1)((e=>e.ui.channelGridPage.viewportWidth),(0,fb.Z)(),(0,vb.Z)(),((e,t,n)=>{const r=Math.floor(Date.now()/1e3);return{containerKey:n,itemEntityIDs:t.filter((e=>e.Media[0].beginsAt<=r&&e.Media[0].endsAt>r)).map((e=>e.entityID)),shouldSetViewportSize:0===e}}))}),Hb)((function(e){const t=e,{shouldSetViewportSize:n,dispatchInitMetadataList:r,dispatchPopulateChannelPrograms:s,dispatchRepopulateChannelPrograms:a,dispatchResetStartTime:o,dispatchSetViewportSize:l}=t,c=((e,t)=>{var n={};for(var r in e)zb.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Bb)for(var r of Bb(e))t.indexOf(r)<0&&_b.call(e,r)&&(n[r]=e[r]);return n})(t,["shouldSetViewportSize","dispatchInitMetadataList","dispatchPopulateChannelPrograms","dispatchRepopulateChannelPrograms","dispatchResetStartTime","dispatchSetViewportSize"]),{containerKey:d,serverEntityID:u,providerEntityID:p}=e;return(0,i.useEffect)((()=>{d&&(n&&l(),o(),r({containerKey:d,serverEntityID:u,providerEntityID:p}),s())}),[d,u,p,n,r,s,o,l]),i.createElement(Vb,((e,t)=>{for(var n in t||(t={}))zb.call(t,n)&&Fb(e,n,t[n]);if(Bb)for(var n of Bb(t))_b.call(t,n)&&Fb(e,n,t[n]);return e})({},c))}));var Qb=Object.defineProperty,Gb=Object.prototype.hasOwnProperty,Yb=Object.getOwnPropertySymbols,qb=Object.prototype.propertyIsEnumerable,Kb=(e,t,n)=>t in e?Qb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const $b=(0,s.$j)((function(){return(0,o.P1)((e=>e.ui.channelGridPage),(0,ym.Z)(),((e,t)=>({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataListEntityID:e.metadataList})))}))((function(e){return i.createElement(Wb,((e,t)=>{for(var n in t||(t={}))Gb.call(t,n)&&Kb(e,n,t[n]);if(Yb)for(var n of Yb(t))qb.call(t,n)&&Kb(e,n,t[n]);return e})({},e))}));var Xb=n(20224);var Jb=n(4704);var eS=Object.defineProperty,tS=Object.prototype.hasOwnProperty,nS=Object.getOwnPropertySymbols,rS=Object.prototype.propertyIsEnumerable,iS=(e,t,n)=>t in e?eS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sS=(e,t)=>{for(var n in t||(t={}))tS.call(t,n)&&iS(e,n,t[n]);if(nS)for(var n of nS(t))rS.call(t,n)&&iS(e,n,t[n]);return e};function aS(e){const t=e,{className:n,isPrimary:r}=t,s=((e,t)=>{var n={};for(var r in e)tS.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&nS)for(var r of nS(e))t.indexOf(r)<0&&rS.call(e,r)&&(n[r]=e[r]);return n})(t,["className","isPrimary"]);return i.createElement(La.Z,sS(sS({},s),{className:rl()(n,r&&"PlayerIconButton-isPrimary-1GYXk2")}))}aS.defaultProps={className:"PlayerIconButton-playerButton-aW9TNw IconButton-button-llQ1So"};const oS=aS;function lS(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-collapse-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M280 448L28 196l56-56 196 196 196-196 56 56z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}lS.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const cS=lS;function dS(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-fullscreen-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M532.011 28H346.44l76.891 76.892L310.2 218.023l31.788 31.788 113.131-113.132 76.892 76.892V28zM28 532.011h185.572L136.68 455.12l113.131-113.131-31.788-31.788-113.131 113.131L28 346.44v185.571z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}dS.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const uS=dS;function pS(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-windowed-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M224 336H38.428l76.892 76.892L2.189 526.023l31.788 31.788L147.108 444.68 224 521.572V336zm112-112h185.572l-76.892-76.892L557.811 33.977 526.023 2.189 412.892 115.32 336 38.428V224z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}pS.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const mS=pS,hS={topControls:"FullPlayerTopControls-topControls-2VIF8s",topButton:"FullPlayerTopControls-topButton-3z2b_v PlayerIconButton-playerButton-aW9TNw IconButton-button-llQ1So",castButton:"FullPlayerTopControls-castButton-1yiNbG FullPlayerTopControls-topButton-3z2b_v PlayerIconButton-playerButton-aW9TNw IconButton-button-llQ1So",remotePlayerName:"FullPlayerTopControls-remotePlayerName-1boYKp",remotePlayerProduct:"FullPlayerTopControls-remotePlayerProduct-3NjdzC"},gS=(0,o.P1)(da.Z,(e=>e?e.product:null)),yS=(0,o.P1)(wg,gS,(0,o.P1)(Da,Ia,Sa(),(0,va.Z)("isWatchTogether"),(0,o.P1)(rm(),(e=>null==e?void 0:e.type)),ma.Z,((e,t,n,r,i,s)=>{const a=t===ha.Rl&&(0,ya.Z)({protocol:ga.l,providerIdentifier:n,userFeaturesByUUID:s,isWatchTogether:r,playQueueType:i}),o=e.some((({protocol:e,protocolCapabilities:t})=>(0,ya.Z)({protocol:e,protocolCapabilities:t,providerIdentifier:n,userFeaturesByUUID:s,isWatchTogether:r,playQueueType:i})));return a||o})),((e,t,n)=>({remotePlayerName:e,remotePlayerProduct:t,showRemotePlayer:n}))),vS=(0,s.$j)(yS,(function(e,t){const n={playerType:t.playerType};return{onCollapsePress(t){e((0,Xb.wo)(n))}}}))((function(e){const{className:t=hS.topControls,playerType:n,showRemotePlayer:r,hasFullscreen:s,isFullscreen:o,remotePlayerName:l,remotePlayerProduct:c,onCollapsePress:d,onCastMenuChange:u,onEnterFullscreenPress:p,onExitFullscreenPress:m}=e,h=(0,a.TH)(),g=(0,Jb.Z)(h);return(0,i.useEffect)((()=>{g&&h!==g&&!(0,a.LX)(g.pathname,{path:V.Z.watchNow,exact:!0})&&d()}),[h,g,d]),i.createElement("div",{className:t},i.createElement("div",null,i.createElement(oS,{className:hS.topButton,"data-qa-id":"minimizePlayerButton",iconComponent:cS,title:(0,E.Z)("Minimize Player"),onPress:d}),l?i.createElement("span",{className:hS.remotePlayerName},(0,E.Z)("Casting to {playerName}",{playerName:l})):null,l&&c?i.createElement("span",{className:hS.remotePlayerProduct},"(",c,")"):null),i.createElement("div",null,r?i.createElement(no,{className:hS.castButton,playerType:n,onMenuChange:u}):null,s&&o?i.createElement(oS,{className:hS.topButton,"data-qa-id":"windowedButton",iconComponent:mS,title:(0,E.Z)("Exit Fullscreen"),onPress:m}):null,s&&!o?i.createElement(oS,{className:hS.topButton,"data-qa-id":"fullscreenButton",iconComponent:uS,title:(0,E.Z)("Enter Fullscreen"),onPress:p}):null))})),fS="PlayPauseOverlay-hiddenCursor-3r15wl";class bS extends i.Component{constructor(e,t){super(e,t),this.onPress=e=>{this._cancelPlayPause(),this.setState((({isPaused:e})=>({isPaused:!e}))),this._playPauseTimeoutID=window.setTimeout((()=>{this._playPauseTimeoutID=null,this.props.isPaused!==this.state.isPaused&&this.props.onTogglePlayPress(e)}),175)},this.onDoubleClick=e=>{this.props.onToggleFullscreen()},this.state={isPaused:e.isPaused},this._playPauseTimeoutID=null}UNSAFE_componentWillReceiveProps(e){e.isPaused===this.state.isPaused||this._playPauseTimeoutID||this.setState({isPaused:e.isPaused})}componentWillUnmount(){this._cancelPlayPause()}_cancelPlayPause(){this._playPauseTimeoutID&&(window.clearTimeout(this._playPauseTimeoutID),this._playPauseTimeoutID=null)}render(){const{className:e,isCursorHidden:t,isTogglePlayPressDisabled:n}=this.props,{isPaused:r}=this.state;return n?i.createElement("div",{className:rl()(e,t&&fS,"PlayPauseOverlay-overlay-1TG2wv"),onClick:this.onPress,onDoubleClick:this.onDoubleClick}):i.createElement(uc.Z,{className:rl()(e,t&&fS,r?"PlayPauseOverlay-playButton-2QHNcV PlayPauseOverlay-overlay-1TG2wv PlayButton-playButton-2dFmuo":"PlayPauseOverlay-pauseButton-1xHZt- PlayPauseOverlay-playButton-2QHNcV PlayPauseOverlay-overlay-1TG2wv PlayButton-playButton-2dFmuo"),circleClassName:"PlayPauseOverlay-playCircle-1xl6BG PlayButton-playCircle-2DYa77","aria-label":r?(0,E.Z)("Play"):(0,E.Z)("Pause"),onPress:this.onPress,onDoubleClick:this.onDoubleClick})}}bS.defaultProps={isCursorHidden:!1,isTogglePlayPressDisabled:!1};const SS=bS,IS=(0,s.$j)((function(){return(0,o.P1)((0,ym.Z)(),fa(),((e,t)=>{const n=ze.wB(t.identifier,ze.vP);return{isPaused:e.isPaused,isTogglePlayPressDisabled:n&&!e.isPaused}}))}),(function(e,t){const n={playerType:t.playerType};return{onTogglePlayPress(t){e((0,nm.ID)(n))}}}))(SS);var ZS=n(40822),PS=n(87691);const ES=(0,o.P1)(zu.Z,(e=>e.audioDevices||[])),MS=(0,o.P1)(ES,(e=>e.filter((e=>e.present)))),CS=(0,o.P1)(ES,zu.Z,((e,t)=>e.find((e=>e.name===t["player.audioDevice"]))));var wS=n(48854),DS=n(61214),TS=n(55278),OS=Object.defineProperty,xS=Object.prototype.hasOwnProperty,AS=Object.getOwnPropertySymbols,NS=Object.prototype.propertyIsEnumerable,kS=(e,t,n)=>t in e?OS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class LS extends i.Component{constructor(e,t){super(e,t),this.onToggleMenuPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=e=>{this.setState({isMenuOpen:!1})},this.onSelectPress=e=>t=>{this.props.onChange(e),this.onMenuClose()},this.state={isMenuOpen:!1},this._menuInputButtonID=(0,ja.Z)()}getSelectedValue(e,t){const n=gr().find(e,(e=>{if(gr().isString(e))return e===t;const[n]=gr().keys(e);return n===t}));if(gr().isString(n))return n;const[r]=gr().keys(n);return null==n?void 0:n[r]}render(){const e=this.props,{name:t,size:n,kind:r,value:s,values:a,overrideSelectedValue:o}=e,l=((e,t)=>{var n={};for(var r in e)xS.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&AS)for(var r of AS(e))t.indexOf(r)<0&&NS.call(e,r)&&(n[r]=e[r]);return n})(e,["name","size","kind","value","values","overrideSelectedValue"]),c=this.getSelectedValue(a,s);return null==c?null:i.createElement(yu.Z,{id:this._menuInputButtonID,size:n,kind:r,direction:this.state.isMenuOpen?vu.UP:vu.WV,onPress:this.onToggleMenuPress},o||c,i.createElement(Pn.Z,((e,t)=>{for(var n in t||(t={}))xS.call(t,n)&&kS(e,n,t[n]);if(AS)for(var n of AS(t))NS.call(t,n)&&kS(e,n,t[n]);return e})({isOpen:this.state.isMenuOpen,target:this._menuInputButtonID,onMenuClose:this.onMenuClose},l),a.map((e=>{if(gr().isString(e))return i.createElement(TS.Z,{key:e,isSelected:e===s,onPress:this.onSelectPress(e)},e);const[t]=gr().keys(e);return i.createElement(TS.Z,{key:t,isSelected:t===s,onPress:this.onSelectPress(t)},e[t])}))))}}const jS=LS,RS=function(e){const{bottom:t,children:n,title:r=(0,E.Z)("Playback Settings"),onDimensionsChange:s}=e;return i.createElement(Hf,{className:"AudioVideoPlaybackSettings-container-lIjMOe AudioVideoStripeContainer-container-2TIa2Q",bottom:t,onDimensionsChange:s},i.createElement("div",{className:"AudioVideoPlaybackSettings-title--BA1sj"},r),i.createElement("div",{className:"AudioVideoPlaybackSettings-menusContainer-2DMtry","data-qa-id":"playbackSettingsContainer"},n))};function VS({className:e,label:t,children:n,isDisabled:r}){return i.createElement("div",{className:rl()(e,r&&"AudioVideoSettingsRow-isDisabled-3pKVt2")},i.createElement("div",{className:"AudioVideoSettingsRow-label-3jOrnl AudioVideoSettingsRow-cell-3uwnhq"},t),i.createElement("div",{className:"AudioVideoSettingsRow-cell-3uwnhq"},n))}VS.defaultProps={className:"AudioVideoSettingsRow-row-17UbJZ"};const US=VS;var zS=n(62899);class BS extends i.Component{constructor(e,t){super(e,t),this.onPlaybackSpeedChange=({positionValue:e})=>{this.setState({playbackSpeed:e},(()=>{this.props.onPlaybackSpeedChange(e)}))},this.state={playbackSpeed:e.playbackSpeed}}UNSAFE_componentWillReceiveProps(e){e.playbackSpeed!==this.props.playbackSpeed&&this.setState({playbackSpeed:e.playbackSpeed})}render(){const{audioDevices:e,bottom:t,canSetPlaybackSpeed:n,playbackSpeed:r,playbackSpeedSetting:s,selectedAudioDevice:a,onAudioDeviceChange:o,onDimensionsChange:l}=this.props;return i.createElement(RS,{bottom:t,onDimensionsChange:l},n?i.createElement(US,{label:(0,E.Z)("Playback Speed")},i.createElement(DS.Z,{className:"AudioSettings-slider-ovwdsU Slider-slider-4zRCDI",min:s.min,max:s.max,stepSize:s.step,value:this.state.playbackSpeed,onChange:this.onPlaybackSpeedChange}),(0,zS.H)(r)):null,(null==e?void 0:e.length)>1?i.createElement(US,{label:(0,E.Z)("Audio Device")},i.createElement(jS,{name:"audioDevice",size:Gr.M2,value:a.name,values:e.map((e=>({[e.name]:(0,wS.Z)(e)}))),onChange:o})):null)}}BS.defaultProps={playbackSpeedSetting:{min:.5,max:2,step:.1}};const _S=BS,FS=(0,PS.Z)((function(){return(0,o.P1)((0,va.Z)("controllable"),Lm(),(0,o.P1)(fa(),(e=>{if(!e)return;const t=gr().findWhere(e.features,{type:Xo.L6});return t&&gr().findWhere(t.settings,{id:ZS.Jz})||void 0})),MS,CS,((e,t,n,r,i)=>({audioDevices:r,selectedAudioDevice:i,canSetPlaybackSpeed:!e||!!e.playbackSpeed,playbackSpeed:t,playbackSpeedSetting:n})))}),(function(e,t){const{playerType:n}=t;return{onAudioDeviceChange(t){e((0,M.mb)({deviceName:t}))},onPlaybackSpeedChange(t){e(nm.ec({playerType:n,playbackSpeed:t}))}}}))(_S);function HS(e){return i.createElement("div",{className:e.className},e.children)}HS.defaultProps={className:"BottomBar-bottomBar-rwT9ad"};const WS=HS;function QS(e){return i.createElement("div",{className:e.className},e.children)}QS.defaultProps={className:"ControlsContainer-controlsContainer-2vVSNH"};const GS=QS;var YS=n(79490),qS=Object.defineProperty,KS=Object.prototype.hasOwnProperty,$S=Object.getOwnPropertySymbols,XS=Object.prototype.propertyIsEnumerable,JS=(e,t,n)=>t in e?qS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eI=(e,t)=>{for(var n in t||(t={}))KS.call(t,n)&&JS(e,n,t[n]);if($S)for(var n of $S(t))XS.call(t,n)&&JS(e,n,t[n]);return e};class tI extends i.Component{constructor(e,t){super(e,t),this.onVolumeChange=e=>{const{volume:t}=this.state,n=Math.round(Math.min(100,Math.max(0,t+e)));t!==n&&this.setState({volume:n},(()=>{this.props.onVolumeChange(this.state.volume)}))},this.onVolumeIconPress=()=>{const e=this.state.volume>0;e&&(this._lastVolume=this.state.volume),this.setState({volume:e?0:this._lastVolume||100},(()=>{this.props.onVolumeChange(this.state.volume)}))},this.state={volume:e.volume}}UNSAFE_componentWillReceiveProps({volume:e}){e!==this.state.volume&&this.setState({volume:e})}render(){const{component:e}=this.props;return i.createElement(e,eI(eI(eI({},this.props),this.state),{onVolumeChange:this.onVolumeChange,onVolumeIconPress:this.onVolumeIconPress}))}}const nI=(0,s.$j)((function(){return(0,o.P1)(((e,{isWatchTogether:t})=>t),(0,ym.Z)(),sm(),jm.Z,((e,t,n,r)=>{const i=t.controllable,s=t.playQueue,a=s.currentIndex;let o,l,c;return i?(l=!i.skipNext,o=!i.skipPrevious,c=!i.shuffle):(l=!t.repeatAll&&a>=t.playQueue.playQueueItems.length-1,o=!t.repeatAll&&a<=0&&t.positionSeconds<=YS.Nf,c=!s.canShuffle),{metadataItemEntityID:n.metadataItem,providerEntityID:t.providerEntityID,serverEntityID:t.serverEntityID,volume:r,activateChaptersButton:t.isChaptersVisible,activateLyricsButton:t.isLyricsVisible,activateQueueButton:t.isPlayQueueVisible,activateRepeatButton:t.repeatAll,activateRepeatOneButton:t.repeatOne,activateSettingsButton:t.isSettingsVisible,activateWatchTogetherParticipantsButton:t.isWatchTogetherParticipantsVisible,activateShuffleButton:s.playQueueShuffled,disableNextButton:l,disablePauseButton:!!i&&!i.playPause,disablePlayButton:!!i&&!i.playPause,disablePreviousButton:o,disableRepeatButton:!!i&&!i.repeat,disableRepeatOneButton:!!i&&!i.repeat,disableShuffleButton:c,disableSkipBackButton:!!i&&!i.seekTo,disableSkipForwardButton:!!i&&!i.seekTo,showCloseButton:!0,showNextButton:!e,showPauseButton:!t.isPaused,showPlayButton:t.isPaused,showPreviousButton:!e,showRepeatButton:!t.repeatOne&&!e,showRepeatOneButton:t.repeatOne&&!e,showVolume:!i||i.volume}}))}),(function(e,{playerType:t}){const n={playerType:t};return{onEditPress(t){e(Gl.editMetadataItem(t))},onFavoritePress(t){e(Gl.favoriteMetadataItem(t))},onUnfavoritePress(t){e(Gl.unfavoriteMetadataItem(t))},onRepeatPress(){e(Um.ZD(n))},onRepeatOnePress(){e(Um.ZD(n))},onPreviousPress(){e(Um.oA(n))},onNextPress(){e(Um.o1(n))},onShufflePress(){e(Um.Yj(n))},onQueuePress(){e(Um.D5(n))},onLyricsPress(){e(Um.Ie(n))},onSkipBackPress(){e(nm.QJ(n))},onPlayPress(){e(nm.hY(n))},onPausePress(){e(nm.wO(n))},onSkipForwardPress(){e(nm.wW(n))},onSettingsPress(){e(nm.z5(n))},onWatchTogetherParticipantsPress(){e(nm.$m(n))},onChaptersPress(){e(nm.Y5(n))},onVolumeChange(t){e(nm.v6(eI(eI({},n),{volume:t})))},onClosePress(){e(w.Mh(n))}}}),(function(e,t,n){const{metadataItemEntityID:r,providerEntityID:i}=e;return eI(eI(eI(eI({},n),e),t),{onEditPress(){t.onPausePress(),t.onEditPress({metadataItemEntityID:r})},onFavoritePress(){t.onFavoritePress({metadataItemEntityID:r,providerEntityID:i})},onUnfavoritePress(){t.onUnfavoritePress({metadataItemEntityID:r,providerEntityID:i})}})}))(tI);function rI(e){const{className:t,children:n}=e;return i.createElement("div",{className:t},n)}rI.defaultProps={className:"AudioVideoInfoBar-container-1L_zL_"};const iI=rI,sI=function(e){const{className:t}=e;return i.createElement(iI,{className:t},i.createElement("div",{className:"AdInfoBar-message-UWU1G6"},(0,E.Z)("Video will play after this advertisement")))};var aI=n(33682);class oI extends i.Component{constructor(e,t){super(e,t),this.onTogglePress=()=>{this.setState((e=>({isToggled:!e.isToggled})))},this.state={isToggled:!1}}render(){const{className:e,durationSeconds:t,positionSeconds:n}=this.props,r=1e3*n,s=1e3*t,a=s-r;return i.createElement(Lr.Z,{className:e,"data-qa-id":"mediaDuration",onPress:this.onTogglePress},this.state.isToggled?`-${(0,Ug.Z)(a)}`:(0,Ug.Z)(r)," / ",(0,Ug.Z)(s))}}oI.defaultProps={className:"DurationRemaining-container-3zfLur"};const lI=oI;var cI=n(50552);function dI(e){const{isTidal:t,isPreview:n,isLossless:r}=e,s=!t||!n&&!r;return i.createElement("div",{className:rl()(e.className,s&&"MediaInfo-hidden-2KqeUN")},i.createElement("span",{className:"MediaInfo-info-ybOqZ5"},n?(0,E.Z)("TIDAL Preview"):"HI-FI"))}dI.defaultProps={className:"MediaInfo-infoContainer-3sknNC"};const uI=dI,pI=(0,s.$j)((function(){return(0,o.P1)(am(),(0,Vl.Z)(),((e,t)=>{if(!t)return{isTidal:!1,isPreview:!1,isLossless:!1};const n=t.Media[e?e.mediaIndex:0],r=!!n&&"flac"===n.audioCodec;return{isTidal:t.attribution===cI.sQ,isPreview:!!t.preview,isLossless:r}}))}))(uI);function mI(e){const{className:t,playerType:n,serverEntityID:r,providerEntityID:s,metadataItemEntityID:a,type:o,subtype:l,positionSeconds:c,context:d,showStarRating:u,hasUserRating:p,isUnknownAiring:m,showDuration:h,durationSeconds:g}=e;if(m)return i.createElement("div",{className:t},(0,E.Z)("Unknown Airing"));if(!a||!o)return null;const y=(0,Mb.Z)(o,d,{subtype:l,providerEntityID:s});return i.createElement("div",{className:rl()(t,u&&p&&"PlayerControlsMetadata-hasUserRating-1iTmtz")},y.map(((e,t)=>i.createElement(Eb.Z,{key:t,playerType:n,serverEntityID:r,providerEntityID:s,metadataItemEntityID:a,positionSeconds:c,component:e,isSecondary:t>0}))),h&&g&&null!=c?i.createElement(lI,{className:"PlayerControlsMetadata-durationContainer-ktysVb DurationRemaining-container-3zfLur",durationSeconds:g,positionSeconds:c,"data-qa-id":"mediaDuration"}):null,i.createElement(pI,{className:"PlayerControlsMetadata-mediaInfoContainer-iM5sqP MediaInfo-infoContainer-3sknNC",playerType:n,metadataItemEntityID:a}),u?i.createElement(aI.Z,{className:"PlayerControlsMetadata-ratingContainer-2yKg7V",serverEntityID:r,providerEntityID:s,metadataItemEntityID:a}):null)}mI.defaultProps={className:"PlayerControlsMetadata-container-3STsmr"};const hI=mI;var gI=Object.defineProperty,yI=Object.prototype.hasOwnProperty,vI=Object.getOwnPropertySymbols,fI=Object.prototype.propertyIsEnumerable,bI=(e,t,n)=>t in e?gI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SI=(e,t)=>{for(var n in t||(t={}))yI.call(t,n)&&bI(e,n,t[n]);if(vI)for(var n of vI(t))fI.call(t,n)&&bI(e,n,t[n]);return e};const II=(0,s.$j)((function(){return(0,o.P1)((0,ym.Z)(),(0,Vl.Z)(),((e,t={})=>({serverEntityID:t.serverEntityID||e.serverEntityID,providerEntityID:t.providerEntityID||e.providerEntityID,type:t.type,subtype:t.subtype,context:Hl.r$,hasUserRating:null!=t.userRating})))}))(hI);II.propTypes=SI(SI({},II.propTypes),{metadataItemEntityID:Va().string,playerType:Va().string.isRequired});const ZI=II;var PI=Object.defineProperty,EI=Object.prototype.hasOwnProperty,MI=Object.getOwnPropertySymbols,CI=Object.prototype.propertyIsEnumerable,wI=(e,t,n)=>t in e?PI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DI=(e,t)=>{for(var n in t||(t={}))EI.call(t,n)&&wI(e,n,t[n]);if(MI)for(var n of MI(t))CI.call(t,n)&&wI(e,n,t[n]);return e};const TI=(0,s.$j)((function(){return(0,o.P1)((0,Qm.Z)(),(e=>({metadataItemEntityID:e&&e.entityID,isUnknownAiring:!e})))}))(ZI);TI.propTypes=DI(DI({},TI.propTypes),{playerType:Va().string.isRequired});const OI=TI;var xI=n(75696),AI=n(93957),NI=n(78434);function kI(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-record-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["circle",{cx:"280",cy:"280",r:"196"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}kI.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const LI=kI,jI=parseInt(ol.Z.playerIconButtonSize,10),RI=(0,s.$j)((function(){return(0,o.P1)((0,AI.Z)(),(e=>({isRecording:!!e,recordingProgress:e&&e.progress})))}))((function(e){const{isRecording:t,recordingProgress:n,onPress:r}=e;return i.createElement("div",{className:"LiveTVRecordButton-recordButton-3brclf"},i.createElement(oS,{className:rl()(t?"LiveTVRecordButton-playerButtonRecording-1ctVQw LiveTVRecordButton-playerButton-1F_umU PlayerIconButton-playerButton-aW9TNw IconButton-button-llQ1So":"LiveTVRecordButton-playerButton-1F_umU PlayerIconButton-playerButton-aW9TNw IconButton-button-llQ1So"),iconComponent:LI,"data-qa-id":"recordButton",title:(0,E.Z)("Record"),onPress:r}),t?i.createElement(NI.Z,{size:jI,containerClassName:"LiveTVRecordButton-recordingProgressBarContainer-2q8U3B CircularProgressBar-absoluteCenterCircularProgressBarContainer-3BkZp2",backgroundClassName:"LiveTVRecordButton-recordingProgressBackground-2pkIZb CircularProgressBar-circularProgressBarBackground-18BaI- CircularProgressBar-circularProgressBarBackground-1LlpZu",lineWidth:2,progress:n,showProgressText:!1}):null)}));class VI extends i.Component{constructor(e,t){super(e,t),this.onRecordPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:!1}}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,type:r}=this.props;return n&&r?i.createElement("div",{className:"LiveTVRecord-recordButtonContainer-zCZkzs"},i.createElement(RI,{serverEntityID:e,metadataItemEntityID:n,type:r,onPress:this.onRecordPress}),i.createElement(xI.Z,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,isOpen:this.state.isSubscribeModalOpen,subscriptionType:r,onModalClose:this.onSubscribeModalClose})):null}}const UI=VI,zI=(0,s.$j)((function(){return(0,o.P1)(mg(),((e={})=>{const{entityID:t,type:n}=e;return{metadataItemEntityID:t,type:n}}))}))(UI);var BI=n(51792);function _I(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-expand-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M280 140l252 252-56 56-196-196L84 448l-56-56z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}_I.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const FI=_I;function HI(e){const{className:t,cardClassName:n,serverEntityID:r,providerEntityID:s,metadataItemEntityID:a,metadataKey:o,type:l,disableExpandButton:c,imageWidth:d,imageHeight:u,imageUrl:p,isMusic:m,onExpandPress:h}=e,g=m?"music":o;return i.createElement("div",{className:t,style:{width:d}},i.createElement("div",{className:"MiniPlayerPoster-cardContainer-3S_5W3"},i.createElement(oS,{className:"MiniPlayerPoster-expandButton-1VZC0w PlayerIconButton-playerButton-aW9TNw IconButton-button-llQ1So","data-qa-id":"expandPlayerButton",iconComponent:FI,isDisabled:c,title:(0,E.Z)("Expand Player"),onPress:h}),i.createElement(BI.Z,{cardClassName:n,serverEntityID:r,providerEntityID:s,metadataItemEntityID:a,metadataKey:g,type:l,imageWidth:d,imageHeight:u,imageUrl:p,showLinkOnly:!0,showOverlay:!1})))}HI.defaultProps={className:"MiniPlayerPoster-miniPlayerPoster-3ZY-k8",cardClassName:"MiniPlayerPoster-card-Nd8Px7 MetadataPosterCard-card-72Dv8q"};const WI=HI,QI=parseInt(ol.Z.playerControlsPosterHeight,10),GI=(0,s.$j)((function(){return(0,o.P1)(mm(),(e=>{const t=Hl.r$,n=(0,Yl.Z)(null,QI,e.type,e.subtype,e,t);return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:e.entityID,type:e.type,metadataKey:e.key,imageWidth:n.width,imageHeight:n.height,imageUrl:n.url}}))}),(function(e,{playerType:t}){const n={playerType:t};return{onExpandPress(t){e(Xb.jn(n))}}}))(WI);var YI=n(3568),qI=n(1691);function KI(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-more-vertical-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M280 168c-30.897 0-56-25.103-56-56 0-30.896 25.103-56 56-56s56 25.104 56 56c-.965 31.862-25.103 56-56 56zm56 112c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56zm0 168c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}KI.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const $I=KI;var XI=Object.defineProperty,JI=Object.prototype.hasOwnProperty,eZ=Object.getOwnPropertySymbols,tZ=Object.prototype.propertyIsEnumerable,nZ=(e,t,n)=>t in e?XI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rZ=(e,t)=>{for(var n in t||(t={}))JI.call(t,n)&&nZ(e,n,t[n]);if(eZ)for(var n of eZ(t))tZ.call(t,n)&&nZ(e,n,t[n]);return e};const iZ={showDelete:!1,showDeleteVersion:!1,showEdit:!1,showFixMatch:!1,showMarkUnplayed:!1,showMarkPlayed:!1,showMatch:!1,showOptimize:!1,showPlay:!1,showPlayAll:!1,showPlayMusicVideo:!1,showPlayPlexMix:!1,showPlayTrailer:!1,showPlayVersion:!1,showWatchTogether:!1,showQueue:!1,showRefresh:!1,showSelect:!1,showShuffle:!1,showSplitApart:!1,showSyncDownload:!1,showUnmatch:!1};class sZ extends i.Component{constructor(e,t){super(e,t),this.onPress=()=>{this.setState(((e,t)=>({isMenuOpen:!e.isMenuOpen})),(()=>{this.props.onMenuChange&&this.props.onMenuChange(this.state.isMenuOpen)}))},this.onMenuClose=()=>{this.setState({isMenuOpen:!1},(()=>{this.props.onMenuChange&&this.props.onMenuChange(!1)}))},this.state={isMenuOpen:!1},this._menuButtonID=(0,ja.Z)()}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataActionProps:r,isDisabled:s}=this.props,a=rZ(rZ({},r),iZ);return gr().values(a).some((e=>e))?i.createElement("span",null,i.createElement(oS,{id:this._menuButtonID,"data-qa-id":"moreButton",iconComponent:$I,isDisabled:s,title:(0,E.Z)("More Actions"),onPress:this.onPress}),i.createElement(qI.Z,rZ(rZ({serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,target:this._menuButtonID,isOpen:this.state.isMenuOpen},iZ),{onMenuClose:this.onMenuClose}))):null}}const aZ=sZ,oZ=(0,s.$j)((function(){return(0,o.P1)((0,YI.Z)(),(e=>({metadataActionProps:e})))}))(aZ),lZ=250,cZ=.5;function dZ(e={}){const{callback:t,axisLockDuration:n=lZ,sensitivity:r=cZ,maxAbsDelta:i=Number.MAX_SAFE_INTEGER}=e;let s,a;return e=>{e.preventDefault(),(void 0===a||e.timeStamp-a>=n)&&(s=Math.abs(e.deltaX)>Math.abs(e.deltaY)?"deltaX":"deltaY",a=e.timeStamp);const o=e[s]*r;if(!o)return;let l=Math.max(0,Math.min(i,Math.abs(o)));l*=o>0?1:-1,l=(e.nativeEvent||e).webkitDirectionInvertedFromDevice?l:-l,t(l)}}function uZ(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-high-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M447.161 28.839C516.391 90.361 560 180.088 560 280s-43.609 189.639-112.839 251.161l-29.75-29.75C479.064 447.527 518 368.31 518 280S479.064 112.473 417.411 58.589l29.75-29.75zm-79.409 79.409C416.818 149.318 448 211.018 448 280c0 68.982-31.182 130.682-80.248 171.752l-29.847-29.847C379.436 388.578 406 337.391 406 280c0-57.391-26.564-108.578-68.095-141.905l29.847-29.847zM28 336V224h56l112-112v336L84 336H28zm259.936-147.936C316.989 208.268 336 241.914 336 280c0 38.086-19.011 71.732-48.064 91.936l-30.452-30.452C279.246 329.605 294 306.525 294 280s-14.754-49.605-36.516-61.484l30.452-30.452z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}uZ.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const pZ=uZ;function mZ(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-low-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M28 336V224h56l112-112v336L84 336H28zm259.936-147.936C316.989 208.268 336 241.914 336 280c0 38.086-19.011 71.732-48.064 91.936l-30.452-30.452C279.246 329.605 294 306.525 294 280s-14.754-49.605-36.516-61.484l30.452-30.452z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}mZ.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const hZ=mZ;function gZ(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-mid-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M367.752 108.248C416.818 149.318 448 211.018 448 280c0 68.982-31.182 130.682-80.248 171.752l-29.847-29.847C379.436 388.578 406 337.391 406 280c0-57.391-26.564-108.578-68.095-141.905l29.847-29.847zM28 336V224h56l112-112v336L84 336H28zm259.936-147.936C316.989 208.268 336 241.914 336 280c0 38.086-19.011 71.732-48.064 91.936l-30.452-30.452C279.246 329.605 294 306.525 294 280s-14.754-49.605-36.516-61.484l30.452-30.452z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}gZ.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const yZ=gZ;function vZ(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-mute-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M84 224l112-112v336L84 336H28V224h56zm306.302 56l-84.146 84.146 29.698 29.698L420 309.698l84.146 84.146 29.698-29.698L449.698 280l84.146-84.146-29.698-29.698L420 250.302l-84.146-84.146-29.698 29.698L390.302 280z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}vZ.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const fZ=vZ,bZ=parseInt(ol.Z.playerVolumeSliderHeight,10);class SZ extends i.Component{constructor(e,t){super(e,t),this.onWheelDelta=e=>{this.props.onVolumeChange(e)},this.onWheel=dZ({callback:this.onWheelDelta,maxAbsDelta:bZ/10})}render(){const{className:e,volume:t,onPress:n}=this.props;let r=fZ;return t>60?r=pZ:t>40?r=yZ:t>0&&(r=hZ),i.createElement("span",{onWheel:this.onWheel},i.createElement(oS,{className:e,title:0===t?(0,E.Z)("Unmute Volume"):(0,E.Z)("Mute Volume"),"data-qa-id":"volumeButton",iconComponent:r,onPress:n}))}}const IZ=SZ;var ZZ=Object.defineProperty,PZ=Object.prototype.hasOwnProperty,EZ=Object.getOwnPropertySymbols,MZ=Object.prototype.propertyIsEnumerable,CZ=(e,t,n)=>t in e?ZZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wZ=(e,t)=>{for(var n in t||(t={}))PZ.call(t,n)&&CZ(e,n,t[n]);if(EZ)for(var n of EZ(t))MZ.call(t,n)&&CZ(e,n,t[n]);return e};function DZ(e){return i.createElement(DS.Z,wZ(wZ({},e),{isVertical:!0}))}DZ.defaultProps={className:"VerticalSlider-slider-3NUmKG Slider-slider-4zRCDI",fillClassName:"VerticalSlider-fill-NWqIoH Slider-fill-35z5K8",thumbClassName:"VerticalSlider-thumb-1y9RTp Slider-thumb-1ZGojQ Link-link-CM9nxg",thumbTrackClassName:"VerticalSlider-thumbTrack-17wJ5r Slider-thumbTrack-3yG9Xm",trackClassName:"VerticalSlider-track-2dpm82 Slider-track-3iUWLY"};const TZ=DZ,OZ=parseInt(ol.Z.playerVolumeSliderHeight,10);class xZ extends i.Component{constructor(e,t){super(e,t),this.onWheelDelta=e=>{this.onChange({positionDelta:e})},this.onChange=({positionDelta:e})=>{this.props.onVolumeChange(e)},this.onWheel=dZ({callback:this.onWheelDelta,maxAbsDelta:OZ/10})}render(){const{className:e,volume:t}=this.props;return i.createElement(TZ,{className:e,trackClassName:"VolumeSlider-track-2coT9n VerticalSlider-track-2dpm82 Slider-track-3iUWLY",fillClassName:"VolumeSlider-fill-1JmRfE VerticalSlider-fill-NWqIoH Slider-fill-35z5K8",showFill:!0,autoHideThumb:!0,stepSize:1,value:t,onChange:this.onChange,onWheel:this.onWheel})}}xZ.defaultProps={className:"VolumeSlider-slider-1EfENi VerticalSlider-slider-3NUmKG Slider-slider-4zRCDI"};const AZ=xZ;var NZ=n(52752),kZ=n(31212),LZ=n(36475);var jZ=Object.defineProperty,RZ=Object.prototype.hasOwnProperty,VZ=Object.getOwnPropertySymbols,UZ=Object.prototype.propertyIsEnumerable,zZ=(e,t,n)=>t in e?jZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BZ=(e,t)=>{for(var n in t||(t={}))RZ.call(t,n)&&zZ(e,n,t[n]);if(VZ)for(var n of VZ(t))UZ.call(t,n)&&zZ(e,n,t[n]);return e};const _Z=(0,s.$j)((function(){return(0,o.P1)(rm(),(0,Vl.Z)(),((e,t)=>{const{title:n,summary:r,originallyAvailableAt:i,addedAt:s}=t;return{title:n,summary:r,index:e.playQueueSelectedItemOffset,size:e.length,dateTaken:i||(0,NZ.Z)(s,"yyyy-MM-dd")}}))}))((function(e){const{title:t,summary:n,dateTaken:r,index:s,size:a}=e;let o="";r&&(o+=(0,kZ.Z)(r)),n&&(o+=o?` ${qt.U} ${n}`:` ${n}`);const l=!(!t||!t.length),c=!!o.length,d=!!a;return i.createElement("div",{className:"PhotoMetadataControls-container-21d4Lh PlayerControlsMetadata-container-3STsmr"},l?i.createElement(Eb.Z,{component:LZ.Z,title:t}):null,c?i.createElement(Eb.Z,{component:LZ.Z,isSecondary:l,title:o}):null,d?i.createElement(Eb.Z,{component:LZ.Z,isSecondary:l||c,title:(0,E.Z)("{currentIndex} of {size}",{currentIndex:s+1,size:a})}):null)}));_Z.propTypes=BZ(BZ({},_Z.propTypes),{metadataItemEntityID:Va().string.isRequired,playerType:Va().string.isRequired});const FZ=_Z;function HZ(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-chapters-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M392 308h140v140H392V308zm-182 0h140v140H210V308zm-182 0h140v140H28V308zm364-196h140v140H392V112zm-182 0h140v140H210V112zm-182 0h140v140H28V112z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}HZ.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const WZ=HZ;function QZ(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-edit-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M56 504l28-84 56 56-84 28zM448 56L112 392l56 56 336-336-56-56z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}QZ.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const GZ=QZ;function YZ(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-favorite-empty-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M280 143.859C204.068 24.463 56 102.755 56 212.363 56 297.505 185.084 369.926 280 504c94.916-134.074 224-206.495 224-291.637 0-109.608-143.322-187.9-224-68.504zm0 282.828c-29.423-35.231-59.797-65.569-86.373-92.971-48.407-48.933-90.169-91.015-90.169-121.353 0-45.995 40.813-80.249 77.83-80.249 22.78 0 42.712 12.723 57.899 37.189L280 229.979l37.966-59.697c17.085-25.445 37.966-39.147 60.746-39.147 36.068 0 75.932 34.254 75.932 80.249 0 30.339-41.763 72.42-89.221 120.375-25.626 29.359-56 59.697-85.423 94.928z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}YZ.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const qZ=YZ;function KZ(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-favorite-filled-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M280 143.859C204.068 24.463 56 102.755 56 212.363 56 297.505 185.084 369.926 280 504c94.916-134.074 224-206.495 224-291.637 0-109.608-143.322-187.9-224-68.504z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}KZ.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const $Z=KZ;function XZ(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-info-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M280 476c108.248 0 196-87.752 196-196S388.248 84 280 84 84 171.752 84 280s87.752 196 196 196zm0 42C148.556 518 42 411.444 42 280 42 148.556 148.556 42 280 42c131.444 0 238 106.556 238 238 0 131.444-106.556 238-238 238zm-21-112h42V238h-42v168zm-7-224c0-7.519 2.606-14.065 7.818-19.639S271.636 154 279.636 154c8 0 14.728 2.657 20.182 7.972C305.273 167.287 308 173.963 308 182c0 8.037-2.727 14.713-8.182 20.028-5.454 5.315-12.182 7.972-20.182 7.972-8 0-14.606-2.787-19.818-8.361C254.606 196.065 252 189.519 252 182z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}XZ.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const JZ=XZ;function eP(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-lyrics-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M280 270.66c-8.574-2.997-18.045-4.66-28-4.66-38.66 0-70 25.072-70 56s31.34 56 70 56 70-25.072 70-56V140l-42-28v158.66zM448 84c15.464 0 28 12.536 28 28v254.244a56 56 0 0 1-19.556 42.518L280 560l28-140H112c-15.464 0-28-12.536-28-28V112c0-15.464 12.536-28 28-28h336zm-126 56v56l70 49v-56l-70-49z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}eP.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const tP=eP;function nP(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-next-track-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M140 476V84l294 182V112h42v336h-42V294L140 476z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}nP.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const rP=nP;function iP(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-pause-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M112 112h126v336H112V112zm210 0h126v336H322V112z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}iP.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const sP=iP;function aP(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-play-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M168 476V84l336 196z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}aP.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const oP=aP;function lP(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-previous-track-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M420 84v392L126 294v154H84V112h42v154z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}lP.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const cP=lP;function dP(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-queue-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M157.8 504H532v-44.8H157.8V504zm0-134.4H532v-44.8H157.8v44.8zm111.734-134.4H532v-44.8H269.534v44.8zM157.8 100.8H532V56H157.8v44.8zM196 210L28 336V84l168 126z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}dP.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const uP=dP;function pP(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-repeat-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M168 118.906V42l112 98-112 98v-77.014l-34.983.014a64.547 64.547 0 0 0-7.861.483 62.458 62.458 0 0 0-25.438 9.029 63.5 63.5 0 0 0-20.004 19.884 62.762 62.762 0 0 0-6.156 12.684 62.5 62.5 0 0 0-3.025 12.682 64.449 64.449 0 0 0-.532 7.828c-.178 37.606-.178 103.214 0 140.82.021 2.617.193 5.232.532 7.828a62.525 62.525 0 0 0 3.025 12.683 62.776 62.776 0 0 0 6.36 13.003 63.522 63.522 0 0 0 20.61 20.062 62.48 62.48 0 0 0 24.234 8.481c2.663.348 5.347.52 8.033.533 98.204.154 196.411.463 294.614-.001a64.451 64.451 0 0 0 7.829-.532 62.433 62.433 0 0 0 24.397-8.58 63.53 63.53 0 0 0 20.752-20.444 62.693 62.693 0 0 0 6.118-12.704 62.495 62.495 0 0 0 2.962-12.501c.348-2.663.52-5.347.533-8.033.059-37.538.176-103.077-.001-140.614a64.451 64.451 0 0 0-.532-7.829 62.449 62.449 0 0 0-8.481-24.235 63.513 63.513 0 0 0-20.062-20.609 62.497 62.497 0 0 0-25.883-9.411 64.755 64.755 0 0 0-7.836-.507L294 160.953v-42.094l133.017.141a105.444 105.444 0 0 1 12.669.762 104.583 104.583 0 0 1 20.674 4.661 104.584 104.584 0 0 1 17.251 7.576 105.23 105.23 0 0 1 16.176 10.997 105.685 105.685 0 0 1 19.724 21.511 104.87 104.87 0 0 1 12.754 25.218 104.544 104.544 0 0 1 4.973 21.588 105.444 105.444 0 0 1 .761 12.349c.06 37.672.177 103.343-.001 141.014a105.465 105.465 0 0 1-.884 12.995 104.49 104.49 0 0 1-4.955 20.909 104.874 104.874 0 0 1-11.412 23.079 105.654 105.654 0 0 1-17.856 20.68 105.357 105.357 0 0 1-17.622 12.728 104.635 104.635 0 0 1-18.602 8.406 104.54 104.54 0 0 1-20.98 4.765 105.8 105.8 0 0 1-12.011.76c-98.449.465-196.903.465-295.352 0a105.465 105.465 0 0 1-12.995-.884 104.49 104.49 0 0 1-20.909-4.955 104.833 104.833 0 0 1-22.285-10.894 105.653 105.653 0 0 1-19.99-16.746 105.468 105.468 0 0 1-13.412-17.882 104.718 104.718 0 0 1-9.207-19.971 104.576 104.576 0 0 1-4.724-20.651 105.763 105.763 0 0 1-.8-12.339c-.179-37.784-.179-103.568 0-141.352a105.666 105.666 0 0 1 .841-12.668 104.568 104.568 0 0 1 4.998-21.236 104.742 104.742 0 0 1 10.384-21.485 105.542 105.542 0 0 1 34.323-33.711 104.784 104.784 0 0 1 20.481-9.594 104.592 104.592 0 0 1 29.257-5.526 113.23 113.23 0 0 1 4.038-.102l35.676-.096"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}pP.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const mP=pP;function hP(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-repeat-one-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M168 118.906V42l112 98-112 98v-77.014l-34.983.014a64.547 64.547 0 0 0-7.861.483 62.458 62.458 0 0 0-25.438 9.029 63.5 63.5 0 0 0-20.004 19.884 62.762 62.762 0 0 0-6.156 12.684 62.5 62.5 0 0 0-3.025 12.682 64.449 64.449 0 0 0-.532 7.828c-.178 37.606-.178 103.214 0 140.82.021 2.617.193 5.232.532 7.828a62.525 62.525 0 0 0 3.025 12.683 62.776 62.776 0 0 0 6.36 13.003 63.522 63.522 0 0 0 20.61 20.062 62.48 62.48 0 0 0 24.234 8.481c2.663.348 5.347.52 8.033.533 98.204.154 196.411.463 294.614-.001a64.451 64.451 0 0 0 7.829-.532 62.433 62.433 0 0 0 24.397-8.58 63.53 63.53 0 0 0 20.752-20.444 62.693 62.693 0 0 0 6.118-12.704 62.495 62.495 0 0 0 2.962-12.501c.348-2.663.52-5.347.533-8.033.059-37.538.176-103.077-.001-140.614a64.451 64.451 0 0 0-.532-7.829 62.449 62.449 0 0 0-8.481-24.235 63.513 63.513 0 0 0-20.062-20.609 62.497 62.497 0 0 0-25.883-9.411 64.755 64.755 0 0 0-7.836-.507L294 160.953v-42.094l133.017.141a105.444 105.444 0 0 1 12.669.762 104.583 104.583 0 0 1 20.674 4.661 104.584 104.584 0 0 1 17.251 7.576 105.23 105.23 0 0 1 16.176 10.997 105.685 105.685 0 0 1 19.724 21.511 104.87 104.87 0 0 1 12.754 25.218 104.544 104.544 0 0 1 4.973 21.588 105.444 105.444 0 0 1 .761 12.349c.06 37.672.177 103.343-.001 141.014a105.465 105.465 0 0 1-.884 12.995 104.49 104.49 0 0 1-4.955 20.909 104.874 104.874 0 0 1-11.412 23.079 105.654 105.654 0 0 1-17.856 20.68 105.357 105.357 0 0 1-17.622 12.728 104.635 104.635 0 0 1-18.602 8.406 104.54 104.54 0 0 1-20.98 4.765 105.8 105.8 0 0 1-12.011.76c-98.449.465-196.903.465-295.352 0a105.465 105.465 0 0 1-12.995-.884 104.49 104.49 0 0 1-20.909-4.955 104.833 104.833 0 0 1-22.285-10.894 105.653 105.653 0 0 1-19.99-16.746 105.468 105.468 0 0 1-13.412-17.882 104.718 104.718 0 0 1-9.207-19.971 104.576 104.576 0 0 1-4.724-20.651 105.763 105.763 0 0 1-.8-12.339c-.179-37.784-.179-103.568 0-141.352a105.666 105.666 0 0 1 .841-12.668 104.568 104.568 0 0 1 4.998-21.236 104.742 104.742 0 0 1 10.384-21.485 105.542 105.542 0 0 1 34.323-33.711 104.784 104.784 0 0 1 20.481-9.594 104.592 104.592 0 0 1 29.257-5.526 113.23 113.23 0 0 1 4.038-.102l35.676-.096M392.049 385h-42V268.548L326.5 289.5 300 259l64-56 28.049.009V385"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}hP.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const gP=hP;function yP(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-settings-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M126 213.205A69.97 69.97 0 0 0 105 210a69.97 69.97 0 0 0-21 3.205V56h42v157.205zm0 133.59V504H84V346.795A69.97 69.97 0 0 0 105 350a69.97 69.97 0 0 0 21-3.205zm175-49.59A69.97 69.97 0 0 0 280 294a69.97 69.97 0 0 0-21 3.205V56h42v241.205zm0 133.59V504h-42v-73.205A69.97 69.97 0 0 0 280 434a69.97 69.97 0 0 0 21-3.205zm175-301.59A69.97 69.97 0 0 0 455 126a69.97 69.97 0 0 0-21 3.205V56h42v73.205zm0 133.59V504h-42V262.795A69.97 69.97 0 0 0 455 266a69.97 69.97 0 0 0 21-3.205zM280 420c-30.928 0-56-25.072-56-56s25.072-56 56-56 56 25.072 56 56-25.072 56-56 56zm175-168c-30.928 0-56-25.072-56-56s25.072-56 56-56 56 25.072 56 56-25.072 56-56 56zm-350 84c-30.928 0-56-25.072-56-56s25.072-56 56-56 56 25.072 56 56-25.072 56-56 56z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}yP.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const vP=yP;function fP(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-shuffle-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M448 441h-44.423c-65.833 0-103.843-28.598-141.383-96.109 5.44-10.89 10.99-22.734 16.727-35.594a12267 12267 0 0 1 5.622-12.617C320.788 371.608 349.962 399 403.577 399H448v-77l112 98-112 98v-77zm0-322V42l112 98-112 98v-77h-44.423c-59.257 0-88.657 33.459-130.747 127.573-1.427 3.191-3.342 7.493-6.695 15.02C221.676 403.25 190.662 441 123.577 441H28v-42h95.577c43.602 0 66.367-27.71 104.202-112.518a10981.32 10981.32 0 0 1 6.711-15.055C282.89 163.202 321.73 119 403.577 119H448zm-324.423 0c56.809 0 87.751 27.071 122.897 95.883-7.743 14.34-15.519 30.301-23.497 48.005C187.946 186.377 165.303 161 123.577 161H28v-42h95.577z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}fP.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const bP=fP;function SP(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-skip-back-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M279.931 381.653c0 29.922-4.903 52.07-14.707 66.445-9.805 14.375-24.903 21.563-45.293 21.563-19.766 0-34.668-7.422-44.707-22.266-10.039-14.844-15.059-36.758-15.059-65.742 0-30.235 4.883-52.52 14.648-66.856 9.766-14.336 24.805-21.504 45.118-21.504 19.765 0 34.707 7.5 44.824 22.5 10.117 15 15.176 36.953 15.176 65.86zm-83.789 0c0 21.015 1.816 36.074 5.449 45.175 3.633 9.102 9.746 13.653 18.34 13.653 8.437 0 14.531-4.61 18.281-13.828 3.75-9.219 5.625-24.219 5.625-45 0-21.016-1.895-36.114-5.684-45.293-3.789-9.18-9.863-13.77-18.222-13.77-8.516 0-14.61 4.59-18.282 13.77-3.671 9.179-5.507 24.277-5.507 45.293zm-56.275-262.747l259.677.096a105.788 105.788 0 0 1 12.339.8c7.126.884 14.16 2.504 20.955 4.828a104.757 104.757 0 0 1 20.481 9.594 105.509 105.509 0 0 1 34.324 33.711 104.845 104.845 0 0 1 10.384 21.485 104.566 104.566 0 0 1 5.721 29.53c.069 1.457.106 2.915.117 4.374.18 37.784.18 103.568 0 141.352a105.283 105.283 0 0 1-.8 12.339 104.576 104.576 0 0 1-4.724 20.651 104.718 104.718 0 0 1-9.207 19.971 105.468 105.468 0 0 1-13.412 17.882 105.621 105.621 0 0 1-19.99 16.746 104.839 104.839 0 0 1-22.285 10.894 104.524 104.524 0 0 1-29.196 5.705c-1.568.08-3.137.121-4.707.134-4.868.023-35.544 0-35.544 0v-41.999s30.463.008 35.073.001a64.415 64.415 0 0 0 8.033-.533 62.47 62.47 0 0 0 24.234-8.481 63.51 63.51 0 0 0 20.61-20.062 62.772 62.772 0 0 0 6.359-13.003 62.527 62.527 0 0 0 3.026-12.683 64.65 64.65 0 0 0 .531-7.828c.179-37.606.179-103.214 0-140.82a64.65 64.65 0 0 0-.531-7.828 62.502 62.502 0 0 0-9.181-25.366 63.545 63.545 0 0 0-20.004-19.884 62.443 62.443 0 0 0-25.439-9.029 64.531 64.531 0 0 0-7.86-.483l-258.984-.014V238l-112-98 112-98v76.906zm-26.225 348.41H77.431v-99.14l.351-16.289.586-17.812c-6.015 6.015-10.195 9.96-12.539 11.835l-19.687 15.821-17.461-21.797 55.195-43.945h29.766v171.328z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}SP.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const IP=SP;function ZP(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-skip-forward-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M532.03 381.68c0 29.922-4.903 52.07-14.707 66.445-9.805 14.375-24.903 21.563-45.293 21.563-19.766 0-34.668-7.422-44.707-22.266-10.039-14.844-15.059-36.758-15.059-65.742 0-30.235 4.883-52.52 14.649-66.856 9.765-14.336 24.804-21.504 45.117-21.504 19.765 0 34.707 7.5 44.824 22.5 10.117 15 15.176 36.953 15.176 65.86zm-83.789 0c0 21.015 1.816 36.074 5.449 45.175 3.633 9.102 9.746 13.653 18.34 13.653 8.437 0 14.531-4.61 18.281-13.828 3.75-9.219 5.625-24.219 5.625-45 0-21.016-1.895-36.114-5.684-45.293-3.789-9.18-9.863-13.77-18.222-13.77-8.516 0-14.61 4.59-18.282 13.77-3.671 9.179-5.507 24.277-5.507 45.293zM420 118.906V42l112 98-112 98v-77.014L161.017 161a64.547 64.547 0 0 0-7.861.483 62.458 62.458 0 0 0-25.438 9.029 63.51 63.51 0 0 0-20.004 19.884 62.488 62.488 0 0 0-9.181 25.366A64.468 64.468 0 0 0 98 223.59c-.178 37.606-.178 103.214 0 140.82.021 2.617.193 5.232.532 7.828a62.506 62.506 0 0 0 3.025 12.683 62.769 62.769 0 0 0 6.36 13.003 63.538 63.538 0 0 0 20.61 20.062 62.48 62.48 0 0 0 24.234 8.481c2.663.348 5.347.52 8.033.533 1.716.002 35.205-.001 35.205-.001v41.999s-34.008.008-35.676 0a105.32 105.32 0 0 1-12.995-.884 104.515 104.515 0 0 1-20.909-4.955 104.85 104.85 0 0 1-22.285-10.894 105.64 105.64 0 0 1-19.99-16.746 105.467 105.467 0 0 1-13.412-17.882 104.73 104.73 0 0 1-9.207-19.971 104.556 104.556 0 0 1-5.422-28.951 110.81 110.81 0 0 1-.102-4.039c-.18-37.784-.18-103.568 0-141.352a105.427 105.427 0 0 1 .841-12.668 104.553 104.553 0 0 1 4.998-21.236 104.783 104.783 0 0 1 10.384-21.485 105.55 105.55 0 0 1 34.324-33.711 104.767 104.767 0 0 1 20.48-9.594 104.59 104.59 0 0 1 29.257-5.526 113.23 113.23 0 0 1 4.038-.102L420 118.906zm-40.305 215.43c0 10.703-3.242 19.805-9.726 27.305-6.485 7.5-15.586 12.656-27.305 15.468v.703c13.828 1.719 24.297 5.918 31.406 12.598 7.11 6.68 10.664 15.684 10.664 27.012 0 16.484-5.976 29.316-17.929 38.496-11.953 9.18-29.024 13.77-51.211 13.77-18.594 0-35.078-3.086-49.453-9.258v-30.821c6.64 3.36 13.945 6.094 21.914 8.203 7.968 2.11 15.859 3.165 23.672 3.165 11.953 0 20.781-2.032 26.484-6.094 5.703-4.063 8.555-10.586 8.555-19.571 0-8.046-3.282-13.75-9.844-17.109-6.563-3.359-17.031-5.039-31.406-5.039h-13.008v-27.773h13.242c13.281 0 22.988-1.739 29.121-5.215 6.133-3.477 9.199-9.434 9.199-17.871 0-12.969-8.125-19.453-24.375-19.453-5.625 0-11.347.937-17.168 2.812-5.82 1.875-12.285 5.117-19.394 9.727l-16.758-24.961c15.625-11.25 34.258-16.875 55.898-16.875 17.735 0 31.739 3.593 42.012 10.781 10.274 7.187 15.41 17.187 15.41 30z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}ZP.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const PP=ZP;function EP(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-stop-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M84 84h392v392H84V84zm196 158.1l-84-84-37.9 37.9 84 84-84 84 37.9 37.9 84-84 84 84 37.9-37.9-84-84 84-84-37.9-37.9-84 84z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}EP.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const MP=EP;function CP(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-thumbnails-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M392 392h140v112H392V392zm-182 0h140v112H210V392zm-182 0h140v112H28V392zm0-42V56h504v294h-42V98H70v252H28z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}CP.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const wP=CP;function DP(e){const{className:t,durationSeconds:n,hasLiveTVProtocol:r,isMiniPlayer:s,isMusic:a,isVideo:o,isGame:l,metadataItemEntityID:c,playerType:d,positionSeconds:p,providerEntityID:m,serverEntityID:h,volume:g,activateChaptersButton:y,activateLyricsButton:v,activatePhotoInformationButton:f,activatePhotoStripButton:b,activateQueueButton:S,activateRepeatButton:I,activateRepeatOneButton:Z,activateSettingsButton:P,activateWatchTogetherParticipantsButton:M,activateShuffleButton:C,disableCloseButton:w,disableLyricsButton:D,disableMenuButton:T,disableNextButton:O,disablePauseButton:x,disablePlayButton:A,disablePreviousButton:N,disableQueueButton:k,disableRepeatButton:L,disableRepeatOneButton:j,disableSettingsButton:R,disableShuffleButton:V,disableSkipBackButton:U,disableSkipForwardButton:z,showChaptersButton:B,showCloseButton:_,showDuration:F,showEditButton:H,showFavoriteButton:W,showLyricsButton:Q,showMenuButton:G,showNextButton:Y,showPauseButton:q,showPhotoInformationButton:K,showPhotoStripButton:$,showPlayButton:X,showPreviousButton:J,showQueueButton:ee,showRecordButton:te,showRepeatButton:ne,showRepeatOneButton:re,showSettingsButton:ie,showWatchTogetherParticipantsButton:se,showShuffleButton:ae,showSkipBackButton:oe,showSkipForwardButton:le,showUnfavoriteButton:ce,showVolume:de,onChaptersPress:ue,onClosePress:pe,onControlsMenuChange:me,onEditPress:he,onFavoritePress:ge,onLyricsPress:ye,onNextPress:ve,onPausePress:fe,onPhotoInformationPress:be,onPhotoStripPress:Se,onPlayPress:Ie,onPreviousPress:Ze,onQueuePress:Pe,onRepeatOnePress:Ee,onRepeatPress:Me,onSettingsPress:Ce,onWatchTogetherParticipantsPress:we,onShufflePress:De,onSkipBackPress:Te,onSkipForwardPress:Oe,onUnfavoritePress:xe,onVolumeChange:Ae,onVolumeIconPress:Ne}=e;let ke;ke=d===u.pV?FZ:r?OI:ZI;const Le=de&&null!=g,je=r?null:"PlayerControls-balanceLeft-3ZDFXD",Re=o||l?"PlayerControls-hasLandscapePoster-voqTZI":"PlayerControls-hasSquarePoster-3Q-1l3";return i.createElement(i.Fragment,null,i.createElement("div",{className:rl()(t,s&&Re),"data-qa-id":"playerControlsContainer"},i.createElement("div",{className:"PlayerControls-buttonGroupLeft-3OVdIj PlayerControls-buttonGroup-3bovxR"},s?i.createElement(GI,{playerType:d,isVideo:o,isMusic:a}):null,i.createElement(ke,{metadataItemEntityID:c,playerType:d,positionSeconds:p,durationSeconds:n,showDuration:F,showStarRating:a})),i.createElement("div",{className:rl()("PlayerControls-buttonGroupCenter-3Os75p PlayerControls-buttonGroup-3bovxR",je)},te?i.createElement(zI,{playerType:d,"data-qa-id":"recordButton",serverEntityID:h,providerEntityID:m,positionSeconds:p}):null,J?i.createElement(oS,{iconComponent:cP,"data-qa-id":"previousButton",isDisabled:N,title:(0,E.Z)("Previous"),onPress:Ze}):null,oe?i.createElement(oS,{iconComponent:IP,"data-qa-id":"skipBackButton",isDisabled:U,title:(0,E.Z)("Skip Back 10 Seconds"),onPress:Te}):null,X?i.createElement(oS,{iconComponent:oP,"data-qa-id":"resumeButton",isPrimary:!0,isDisabled:A,title:(0,E.Z)("Play"),onPress:Ie}):null,q?i.createElement(oS,{iconComponent:sP,"data-qa-id":"pauseButton",isPrimary:!0,isDisabled:x,title:(0,E.Z)("Pause"),onPress:fe}):null,le?i.createElement(oS,{iconComponent:PP,"data-qa-id":"skipForwardButton",isDisabled:z,title:(0,E.Z)("Skip Forward 30 Seconds"),onPress:Oe}):null,Y?i.createElement(oS,{iconComponent:rP,"data-qa-id":"nextButton",isDisabled:O,title:(0,E.Z)("Next"),onPress:ve}):null,_?i.createElement(oS,{"data-qa-id":"closeButton",isDisabled:w,iconComponent:MP,title:(0,E.Z)("Close Player"),onPress:pe}):null),i.createElement("div",{className:"PlayerControls-buttonGroupRight-3tN_y5 PlayerControls-buttonGroup-3bovxR"},G?i.createElement(oZ,{serverEntityID:h,"data-qa-id":"moreButton",providerEntityID:m,metadataItemEntityID:c,isDisabled:T,onMenuChange:me}):null,ne?i.createElement(oS,{iconComponent:mP,"data-qa-id":"repeatButton",isDisabled:L,isActive:I,title:(0,E.Z)("Repeat"),onPress:Me}):null,re?i.createElement(oS,{iconComponent:gP,"data-qa-id":"repeatOneButton",isDisabled:j,isActive:Z,title:(0,E.Z)("Repeat One"),onPress:Ee}):null,ae?i.createElement(oS,{iconComponent:bP,"data-qa-id":"shuffleButton",isDisabled:V,isActive:C,title:(0,E.Z)("Shuffle"),onPress:De}):null,H?i.createElement(oS,{iconComponent:GZ,"data-qa-id":"playerEditButton",title:(0,E.Z)("Edit"),onPress:he}):null,W?i.createElement(oS,{iconComponent:qZ,"data-qa-id":"playerFavoriteButton",title:(0,E.Z)("Add to Favorites"),onPress:ge}):null,ce?i.createElement(oS,{iconComponent:$Z,"data-qa-id":"playerUnfavoriteButton",title:(0,E.Z)("Remove from Favorites"),onPress:xe}):null,K?i.createElement(oS,{iconComponent:JZ,"data-qa-id":"playerPhotoInfoButton",title:(0,E.Z)("Information"),isActive:f,onPress:be}):null,$?i.createElement(oS,{iconComponent:wP,"data-qa-id":"playerPhotoStripButton",isActive:b,title:(0,E.Z)("Show Photo Strip"),onPress:Se}):null,Q?i.createElement(oS,{iconComponent:tP,"data-qa-id":"lyricsButton",isDisabled:D,isSelected:v,title:(0,E.Z)("Lyrics"),onPress:ye}):null,ie?i.createElement(oS,{iconComponent:vP,"data-qa-id":"videoSettingsButton",isDisabled:R,isActive:P,title:(0,E.Z)("Settings"),onPress:Ce}):null,B?i.createElement(oS,{iconComponent:WZ,"data-qa-id":"chaptersButton",isActive:y,title:(0,E.Z)("Chapters"),onPress:ue}):null,ee?i.createElement(oS,{iconComponent:uP,"data-qa-id":"playQueueButton",isDisabled:k,isActive:S,title:(0,E.Z)("Play Queue"),onPress:Pe}):null,se?i.createElement(oS,{iconComponent:Zn.Z,"data-qa-id":"watchTogetherParticipantsButton",isActive:M,title:(0,E.Z)("Participants"),onPress:we}):null,Le?i.createElement(IZ,{className:"PlayerControls-volumeButton-ln33tg PlayerIconButton-playerButton-aW9TNw IconButton-button-llQ1So","data-qa-id":"volumeButton",volume:g,onPress:Ne,onVolumeChange:Ae}):null)),Le?i.createElement(AZ,{className:"PlayerControls-volumeSlider-qbq5Ws VolumeSlider-slider-1EfENi VerticalSlider-slider-3NUmKG Slider-slider-4zRCDI",volume:g,onVolumeChange:Ae}):null)}DP.defaultProps={className:"PlayerControls-controls-32qKsv",isMusic:!1,isVideo:!1,isGame:!1,isPhoto:!1};const TP=DP,OP=(0,s.$j)((function(){return(0,o.P1)(((e,{isVideo:t})=>t),((e,{isMusic:t})=>t),((e,{isAdVisible:t})=>t),((e,{isWatchTogether:t})=>t),((e,{disableNextButton:t})=>t),((e,{disablePreviousButton:t})=>t),(0,ym.Z)(),sm(),cm(),fa(),((e,t,n,r,i,s,a,o,l,c)=>{const{isPostPlayVisible:d,positionSeconds:u,durationSeconds:p,controllable:m}=a,h=p-u,g=o.subtype===eh.PODCAST,y=l&&l.chapters&&l.chapters.length>0,v=!n&&(e&&!d||g),f=!!m&&!m.playbackSpeed&&t;return{positionSeconds:u,durationSeconds:p,hasLiveTVProtocol:c.protocols.includes("livetv"),disableLyricsButton:!(o.lyricsStreams&&o.lyricsStreams.length||o.hasPremiumLyrics),disableNextButton:n||i,disablePreviousButton:n||s,disableQueueButton:n,disableSettingsButton:f,disableSkipForwardButton:h<=YS.uS,showChaptersButton:e&&!d&&y,showDuration:!d,showLyricsButton:t&&!g,showMenuButton:!d,showQueueButton:!r,showSettingsButton:!d,showWatchTogetherParticipantsButton:r,showShuffleButton:!r,showSkipBackButton:v,showSkipForwardButton:v}}))}))(TP);var xP=n(50612),AP=n(71575),NP=n(18868),kP=n(1088);const LP={visibleContainer:"SeekBarThumbnail-visibleContainer-3VXvIs",hiddenContainer:"SeekBarThumbnail-hiddenContainer-2EpZTF SeekBarThumbnail-visibleContainer-3VXvIs",thumbnail:"SeekBarThumbnail-thumbnail-1t9_Pe",tooltip:"SeekBarThumbnail-tooltip-2Wewq5",small:"SeekBarThumbnail-small-1Bhcbm",large:"SeekBarThumbnail-large-YO3_br"},jP=parseInt(ol.Z.seekBarTooltipSmallWidth,10),RP=parseInt(ol.Z.seekBarTooltipLargeWidth,10),VP={containerWidth:99,containerHeight:99};class UP extends i.Component{render(){const{tooltipClassName:e,serverEntityID:t,providerEntityID:n,size:r,position:s,hoverValue:a,mediaItems:o,mediaIndex:l,partIndex:c,formatValue:d,isVisible:u}=this.props;null!=a&&(this._formattedTime=d(a));const p=o&&o[l],m=function(e,t){if(!e||null==t)return;const n=(0,NP.Z)(e);return null!=n?`/library/parts/${e.id}/indexes/${n}/${Math.floor(t)}`:void 0}(p&&p.Part[c],a);m&&(this._imageUrl=m);const{containerWidth:h,containerHeight:g}=function(e){const t=(0,kP.Z)(e);if(null==t||null==t.width||null==t.height)return VP;const{width:n,height:r}=t;let i=99,s=99;return n>r?i=Math.round(i*(n/r)):s=Math.round(s*(r/n)),{containerWidth:i,containerHeight:s}}(p),y=function(e,t,n){let r=e.x-t/2;return r<0?r=0:r+t>window.innerWidth&&(r=window.innerWidth-t),{left:r,top:e.y-n-10,height:n}}(s,h,g),v=function(e,t,n){const r=n===Gr.ln?RP:jP;let i=t/2-r/2;const s=e.x-t/2;if(s<0){const t=4,n=e.x-r/2;i=Math.max(n,t)}else if(s+t>window.innerWidth){const n=t-r-4,s=t-(window.innerWidth-e.x)-r/2;i=Math.min(s,n)}return{left:i}}(s,h,r);return i.createElement("div",{className:u?LP.visibleContainer:LP.hiddenContainer,style:y},this._imageUrl?i.createElement(H.Z,{className:LP.thumbnail,serverEntityID:t,providerEntityID:n,url:this._imageUrl,width:h,height:g}):null,i.createElement("div",{className:rl()(e,LP[r]),style:v},this._formattedTime))}}UP.defaultProps={tooltipClassName:LP.tooltip,size:Gr.HC,formatValue:Ug.Z};const zP=UP,BP=(0,s.$j)((function(){return(0,o.P1)((0,Vl.Z)(),(({Media:e}={})=>e&&e.length?{mediaItems:e}:{}))}))(zP),_P="SeekBar-noFillTransition-2AdPtv";var FP=Object.defineProperty,HP=Object.prototype.hasOwnProperty,WP=Object.getOwnPropertySymbols,QP=Object.prototype.propertyIsEnumerable,GP=(e,t,n)=>t in e?FP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YP=(e,t)=>{for(var n in t||(t={}))HP.call(t,n)&&GP(e,n,t[n]);if(WP)for(var n of WP(t))QP.call(t,n)&&GP(e,n,t[n]);return e};class qP extends i.Component{constructor(e,t){super(e,t),this.onChange=({positionValue:e})=>{this.props.onSeek&&this.props.onSeek({playerType:this.props.playerType,positionSeconds:Math.floor(e/1e3)})},this.onMove=({positionValue:e,position:t})=>{this.setState({hoverValue:e,portalPosition:t})},this.onMouseLeave=()=>{this.setState({hoverValue:null})},this.state={hoverValue:null,portalPosition:{x:0,y:0}}}render(){const e=this.props,{className:t,trackClassName:n,bufferClassName:r,fillClassName:s,canSeek:a,positionMilliseconds:o,offsetMilliseconds:l,durationMilliseconds:c,bufferStartMilliseconds:d,bufferEndMilliseconds:u,showBuffer:p,noFillTransition:m,isDisabled:h,onSeekEnd:g,onSeekStart:y}=e,v=((e,t)=>{var n={};for(var r in e)HP.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&WP)for(var r of WP(e))t.indexOf(r)<0&&QP.call(e,r)&&(n[r]=e[r]);return n})(e,["className","trackClassName","bufferClassName","fillClassName","canSeek","positionMilliseconds","offsetMilliseconds","durationMilliseconds","bufferStartMilliseconds","bufferEndMilliseconds","showBuffer","noFillTransition","isDisabled","onSeekEnd","onSeekStart"]);if(!a)return null;const{hoverValue:f,portalPosition:b}=this.state;return i.createElement("div",{onMouseLeave:this.onMouseLeave},i.createElement(DS.Z,{className:t,trackClassName:n,secondaryFillClassName:rl()(r,m&&_P),fillClassName:rl()(s,m&&_P),value:o,min:l,max:c,secondaryMin:d,secondaryMax:u,showFill:!0,showSecondaryFill:p,autoHideThumb:!0,isDisabled:h,onChange:this.onChange,onMove:h?null:this.onMove,onDragStart:y,onDragComplete:g}),i.createElement(AP.Z,null,i.createElement(BP,YP(YP({},v),{position:b,hoverValue:f,isVisible:null!=f}))))}}qP.defaultProps={className:"SeekBar-seekBar-1lmdAy Slider-slider-4zRCDI",trackClassName:"SeekBar-seekBarTrack-3a3mFO Slider-track-3iUWLY",fillClassName:"SeekBar-seekBarFill-1x5nN0 Slider-fill-35z5K8",bufferClassName:"SeekBar-seekBarBuffer-2Td4tP Slider-secondaryFill-30ToAR Slider-fill-35z5K8",canSeek:!0,showBuffer:!1,noFillTransition:(0,xP.Z)()||(0,Pv.Z)(),isDisabled:!1};const KP=qP,$P={onSeek:nm.O7},XP=nf(KP),JP=(0,s.$j)((function(){return(0,o.P1)((0,ym.Z)(),sm(),((e,t)=>{const{serverEntityID:n,providerEntityID:r,positionSeconds:i,durationSeconds:s,mediaIndex:a,partIndex:o,controllable:l}=e,c={serverEntityID:n,providerEntityID:r,metadataItemEntityID:t.metadataItem,canSeek:!!s,positionSeconds:i,durationMilliseconds:1e3*s,mediaIndex:a,partIndex:o};return l&&!l.seekTo&&(c.canSeek=!1),c}))}),$P)(XP);var eE=Object.defineProperty,tE=Object.prototype.hasOwnProperty,nE=Object.getOwnPropertySymbols,rE=Object.prototype.propertyIsEnumerable,iE=(e,t,n)=>t in e?eE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const sE=function(e){const{durationMilliseconds:t}=e;return null!=t?i.createElement(KP,((e,t)=>{for(var n in t||(t={}))tE.call(t,n)&&iE(e,n,t[n]);if(nE)for(var n of nE(t))rE.call(t,n)&&iE(e,n,t[n]);return e})({fillClassName:"AdSeekBar-seekBarFill-154s-i SeekBar-seekBarFill-1x5nN0 Slider-fill-35z5K8",isDisabled:!0},e)):null};function aE(){return(0,o.P1)((0,va.Z)("seekStartSeconds"),(0,va.Z)("seekEndSeconds"),(0,Bm.Z)(),((e=0,t=0,n)=>{const r=n&&n.captureBuffer;let i=0;return n&&r?(i=r.startedAt,e=r.seekStartSeconds,t=r.seekEndSeconds):n&&(i=n.startedAt),{seekRangeStartedAtSeconds:i,seekStartSeconds:e,seekEndSeconds:t}}))}var oE=n(18878),lE=Object.defineProperty,cE=Object.prototype.hasOwnProperty,dE=Object.getOwnPropertySymbols,uE=Object.prototype.propertyIsEnumerable,pE=(e,t,n)=>t in e?lE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mE=(e,t)=>{for(var n in t||(t={}))cE.call(t,n)&&pE(e,n,t[n]);if(dE)for(var n of dE(t))uE.call(t,n)&&pE(e,n,t[n]);return e};class hE extends i.Component{constructor(){super(...arguments),this.formatPlayerTime=e=>{const t=this.props.timeFormat;return(0,NZ.Z)(e/1e3,t)},this.onSeek=({positionSeconds:e})=>{const{seekRangeStartedAtSeconds:t,seekStartSeconds:n,seekEndSeconds:r}=this.props,i=t+n,s=t+r;e<i?e=i:e>s&&(e=s),this.props.onSeek({playerType:this.props.playerType,seekPosition:e})}}render(){const e=this.props,{isCloud:t,canSeek:n,currentPosition:r,positionMilliseconds:s,beginsAt:a,endsAt:o,durationSeconds:l,streamStartedAt:c,timeFormat:d,seekRangeStartedAtSeconds:u,seekStartSeconds:p,seekEndSeconds:m}=e,h=((e,t)=>{var n={};for(var r in e)cE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&dE)for(var r of dE(e))t.indexOf(r)<0&&uE.call(e,r)&&(n[r]=e[r]);return n})(e,["isCloud","canSeek","currentPosition","positionMilliseconds","beginsAt","endsAt","durationSeconds","streamStartedAt","timeFormat","seekRangeStartedAtSeconds","seekStartSeconds","seekEndSeconds"]);if(!n&&!t)return i.createElement(KP,mE(mE({},h),{positionMilliseconds:1,offsetMilliseconds:0,durationMilliseconds:2,showBuffer:!1,canSeek:!0,isDisabled:!0,formatValue:this.formatCurrentTime,size:Gr.ln,onSeek:this.onSeek}));const g=1e3*(u?u+p:r),y=1e3*(u?u+m:r),v=1e3*a,f=1e3*(o-1),b=t?v:Math.max(v,g),S=t?f:Math.min(f,y),I=function(e){const{isCloud:t,isRemotePlayer:n,currentPosition:r,positionMilliseconds:i,streamStartedAt:s,lastSeekPosition:a}=e;return a||n||t?1e3*r:1e3*s+i}(this.props);return i.createElement(KP,mE(mE({},h),{positionMilliseconds:I,offsetMilliseconds:v,durationMilliseconds:f,bufferStartMilliseconds:b,bufferEndMilliseconds:Math.max(S,0),showBuffer:!t,canSeek:n||t,isDisabled:!n||t,formatValue:this.formatPlayerTime,size:Gr.ln,onSeek:this.onSeek}))}}hE.defaultProps={beginsAt:0,endsAt:0,streamStartedAt:0,seekRangeStartedAtSeconds:0};const gE=nf(hE),yE=(0,o.P1)(Zb.Z,(e=>e.replace(":mm",":mm:ss"))),vE={onSeek:pg.O7},fE=(0,s.$j)((function(){return(0,o.P1)(yE,oE.Z,(0,Qm.Z)(),(0,pm.Z)(),(0,Bm.Z)(),aE(),(0,ym.Z)(),Oh(),((e,t,n={},r={},i,s,a,o)=>{const{beginsAt:l,endsAt:c}=r,{serverEntityID:d,controllable:u,playbackStartTime:p}=a,{isCloud:m}=o,h=c-l,g={serverEntityID:d,metadataItemEntityID:n.entityID,isCloud:m,isRemotePlayer:t,canSeek:!(!h||!i),beginsAt:l,endsAt:c,playbackStartTime:p,durationSeconds:h,timeFormat:e,positionSeconds:a.positionSeconds};return!m&&s&&Object.assign(g,s),u&&!u.seekTo&&(g.canSeek=!1),i&&(g.streamStartedAt=i.startedAt,g.currentPosition=i.currentPosition,g.lastSeekPosition=i.lastSeekPosition),g}))}),vE)(gE);var bE=Object.defineProperty,SE=Object.prototype.hasOwnProperty,IE=Object.getOwnPropertySymbols,ZE=Object.prototype.propertyIsEnumerable,PE=(e,t,n)=>t in e?bE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EE=(e,t)=>{for(var n in t||(t={}))SE.call(t,n)&&PE(e,n,t[n]);if(IE)for(var n of IE(t))ZE.call(t,n)&&PE(e,n,t[n]);return e};const ME=(0,s.$j)((function(){return(0,o.P1)(fa(),(e=>({hasLiveTVProtocol:e.protocols.includes("livetv")})))}))((function(e){const t=e,{isAdVisible:n,hasLiveTVProtocol:r,adPositionMilliseconds:s,adDurationMilliseconds:a}=t,o=((e,t)=>{var n={};for(var r in e)SE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&IE)for(var r of IE(e))t.indexOf(r)<0&&ZE.call(e,r)&&(n[r]=e[r]);return n})(t,["isAdVisible","hasLiveTVProtocol","adPositionMilliseconds","adDurationMilliseconds"]);return n?i.createElement(sE,EE(EE({},o),{positionMilliseconds:s,durationMilliseconds:a,showBuffer:!1})):r?i.createElement(fE,EE({},o)):i.createElement(JP,EE(EE({},o),{showBuffer:!0}))})),CE=(0,s.$j)((function(){return(0,o.P1)(Ul.Z,(0,Dh.Z)(),aE(),(0,va.Z)("isPaused"),((e,t,n,r)=>{const i=ze.wB(e.identifier,ze.vP),{disablePreviousButton:s,disableSkipForwardButton:a,disableNextButton:o}=function(e,t){const{seekRangeStartedAtSeconds:n,seekStartSeconds:r,seekEndSeconds:i}=t,s=e-n;return{disablePreviousButton:s<=YS.Nf||s-r<=YS.Nf,disableSkipForwardButton:i-s<=15,disableNextButton:i-s<=15}}(t,n);return{showRecordButton:!!e.features.subscribe,showRepeatButton:!1,showSettingsButton:!0,showPauseButton:!r&&!i,showPreviousButton:!i,showSkipBackButton:!i,showSkipForwardButton:!i,showNextButton:!i,disablePreviousButton:s,disableSkipForwardButton:a,disableNextButton:o}}))}),(function(e,{playerType:t}){const n={playerType:t};return{onPreviousPress(t){e(pg.oA(n))},onSkipBackPress(t){e(pg.QJ(n))},onSkipForwardPress(t){e(pg.wW(n))},onNextPress(t){e(pg.o1(n))}}}))(TP);function wE(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-guide-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M28 42h112v112H28V42zm0 182h112v112H28V224zm0 182h112v112H28V406zM210 77h322v44.8H210V77zm0 182h322v44.8H210V259zm0 182h322v44.8H210V441z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}wE.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const DE=wE,TE=(0,s.$j)((function(){return(0,o.P1)((0,ym.Z)(),(0,pm.Z)(),(0,Bm.Z)(),((e,t={},n)=>{const r=t.channelShortTitle||t.channelTitle||n&&n.channelIdentifier||(0,E.Z)("Unknown");return{isAlsoAiringVisible:e.isAlsoAiringVisible,positionSeconds:e.positionSeconds,channelTitle:r}}))}),(function(e,t){const n={playerType:t.playerType};return{onPress(t){e((0,pg.H5)(n))}}}))((function(e){const{channelTitle:t,isAlsoAiringVisible:n,onPress:r}=e;return i.createElement(Lr.Z,{"data-qa-id":"channelsList",className:n?"LiveTVCurrentChannel-isActive-ApNnwA":void 0,onPress:r},i.createElement(DE,{className:"LiveTVCurrentChannel-icon-1LI-qK"}),t)}));var OE=n(96121),xE=Object.defineProperty,AE=Object.prototype.hasOwnProperty,NE=Object.getOwnPropertySymbols,kE=Object.prototype.propertyIsEnumerable,LE=(e,t,n)=>t in e?xE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jE=(e,t)=>{for(var n in t||(t={}))AE.call(t,n)&&LE(e,n,t[n]);if(NE)for(var n of NE(t))kE.call(t,n)&&LE(e,n,t[n]);return e};const RE=function(e){const t=e,{type:n,isUnknownAiring:r}=t,s=((e,t)=>{var n={};for(var r in e)AE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&NE)for(var r of NE(e))t.indexOf(r)<0&&kE.call(e,r)&&(n[r]=e[r]);return n})(t,["type","isUnknownAiring"]);return r?(0,E.Z)("Unknown Airing"):n===_l.EPISODE?i.createElement(Jl.Z,jE({},s)):i.createElement(OE.Z,jE({},s))};var VE=Object.defineProperty,UE=Object.prototype.hasOwnProperty,zE=Object.getOwnPropertySymbols,BE=Object.prototype.propertyIsEnumerable,_E=(e,t,n)=>t in e?VE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FE=(e,t)=>{for(var n in t||(t={}))UE.call(t,n)&&_E(e,n,t[n]);if(zE)for(var n of zE(t))BE.call(t,n)&&_E(e,n,t[n]);return e};const HE={dispatchInitMetadataList:yb.EG,dispatchPopulateChannelPrograms:yb.Vg,dispatchResetStartTime:yb.FL,dispatchSetViewportSize:yb.Sg},WE=(0,s.$j)((function(){return(0,o.P1)((e=>e.ui.channelGridPage.viewportWidth),(0,ym.Z)(),(0,vb.Z)(),(0,o.P1)((0,Bm.Z)(),(0,Dh.Z)(),(0,fb.Z)(),((e,t,n)=>{if(!e||null==t)return;const r=e.channelIdentifier;let i=null,s=null;for(let e=0;e<n.length;e++){const a=n[e];for(let e=0;e<a.Media.length;e++){const n=a.Media[e],{beginsAt:o,channelIdentifier:l}=n;o>t&&l===r&&(!s||o<s.beginsAt)&&(i=a,s=n)}}return i})),((e,t,n,r)=>r?{metadataItemEntityID:r.entityID,positionSeconds:t.positionSeconds,type:r.type,shouldSetViewportSize:0===e,shouldResetChannels:!1,isUnknownAiring:!1}:{containerKey:n,shouldResetChannels:!0,shouldSetViewportSize:0===e,isUnknownAiring:!0}))}),HE)((function(e){const t=e,{serverEntityID:n,providerEntityID:r,containerKey:s,shouldSetViewportSize:a,shouldResetChannels:o,dispatchInitMetadataList:l,dispatchPopulateChannelPrograms:c,dispatchResetStartTime:d,dispatchSetViewportSize:u}=t,p=((e,t)=>{var n={};for(var r in e)UE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&zE)for(var r of zE(e))t.indexOf(r)<0&&BE.call(e,r)&&(n[r]=e[r]);return n})(t,["serverEntityID","providerEntityID","containerKey","shouldSetViewportSize","shouldResetChannels","dispatchInitMetadataList","dispatchPopulateChannelPrograms","dispatchResetStartTime","dispatchSetViewportSize"]);return(0,i.useEffect)((()=>{a&&u()}),[a,u]),(0,i.useEffect)((()=>{!a&&o&&s&&(d(),l({containerKey:s,serverEntityID:n,providerEntityID:r}),c())}),[o,a,c,d,s,n,r,l]),i.createElement(RE,FE(FE({},p),{serverEntityID:n,providerEntityID:r}))})),QE=(0,s.$j)((function(){return(0,o.P1)((e=>e.ui.channelGridPage.metadataList),(0,ym.Z)(),((e,t)=>({metadataListEntityID:e,serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID})))}))((function(e){const{playerType:t,metadataListEntityID:n,serverEntityID:r,providerEntityID:s}=e;return i.createElement("div",{className:"LiveTVUpNext-container-2qHALy"},i.createElement(uP,{className:"LiveTVUpNext-icon-1JaqjY"}),i.createElement(Qa.Z,{message:(0,E.Z)("{openSpan}Up Next:{closeSpan} {openTitle}{closeTitle}"),tags:[{open:"openSpan",close:"closeSpan",component:"span",className:"LiveTVUpNext-upNext-2p9C2l"},{open:"openTitle",close:"closeTitle",component:WE,playerType:t,metadataListEntityID:n,serverEntityID:r,providerEntityID:s}]}))})),GE=function(e){const{playerType:t}=e;return i.createElement(iI,null,i.createElement(TE,{playerType:t}),i.createElement(QE,{playerType:t}))},YE=(0,o.P1)(St,(e=>e.session));var qE=Object.defineProperty,KE=Object.prototype.hasOwnProperty,$E=Object.getOwnPropertySymbols,XE=Object.prototype.propertyIsEnumerable,JE=(e,t,n)=>t in e?qE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function eM(e){const t=e,{className:n,iconComponent:r,title:s}=t,a=((e,t)=>{var n={};for(var r in e)KE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&$E)for(var r of $E(e))t.indexOf(r)<0&&XE.call(e,r)&&(n[r]=e[r]);return n})(t,["className","iconComponent","title"]);return i.createElement(Xs.Z,((e,t)=>{for(var n in t||(t={}))KE.call(t,n)&&JE(e,n,t[n]);if($E)for(var n of $E(t))XE.call(t,n)&&JE(e,n,t[n]);return e})({className:n,"aria-label":s},a),r?i.createElement(r,{className:"WatchTogetherLobbyControlButton-icon-2uolCc"}):null,s)}eM.defaultProps={className:"WatchTogetherLobbyControlButton-button-kNO8_U Button-button-38SEbM Link-link-CM9nxg"};const tM=eM,nM="WatchTogetherLobbyControls-button-3vg70p WatchTogetherLobbyControlButton-button-kNO8_U Button-button-38SEbM Link-link-CM9nxg";function rM(e){const{className:t,elapsedSeconds:n,hasLiveTVProtocol:r,isAnyAdPlaying:s,isAnyWatching:a,isMiniPlayer:o,metadataItemEntityID:l,playerType:c,onPlay:d,onCancel:u}=e,p=(0,i.useCallback)((()=>{u({playerType:c})}),[u,c]),m=r?OI:ZI;let h,g;return h=s?(0,E.Z)("Other viewers are watching ads. Playback will resume automatically when they're done."):a?(0,E.Z)("Session started {duration} ago.",{duration:(0,Rg.Z)(1e3*n)}):(0,E.Z)("Playback will start automatically when everyone is ready."),g=s?(0,E.Z)("Please Wait"):n>0?(0,E.Z)("Resume"):(0,E.Z)("Start"),i.createElement("div",{className:rl()(t,o&&"WatchTogetherLobbyControls-hasLandscapePoster-29Hq4C PlayerControls-hasLandscapePoster-voqTZI"),"data-qa-id":"watchTogetherLobbyControlsContainer"},i.createElement("div",{className:"WatchTogetherLobbyControls-buttonGroupLeft-KopJat PlayerControls-buttonGroupLeft-3OVdIj PlayerControls-buttonGroup-3bovxR"},o?i.createElement(GI,{playerType:c,isVideo:!0,isMusic:!1}):null,i.createElement(m,{metadataItemEntityID:l,playerType:c,positionSeconds:n,showDuration:!1})),i.createElement("div",{className:rl()("WatchTogetherLobbyControls-buttonGroupCenter-1-1bNW PlayerControls-buttonGroupCenter-3Os75p PlayerControls-buttonGroup-3bovxR",!r&&"WatchTogetherLobbyControls-balanceLeft-2iCN4Y PlayerControls-balanceLeft-3ZDFXD")},i.createElement(tM,{className:nM,iconComponent:oP,isDisabled:s,title:g,kind:Qr._8,onPress:d}),i.createElement(tM,{className:nM,title:(0,E.Z)("Cancel"),onPress:p})),i.createElement("div",{className:"WatchTogetherLobbyControls-buttonGroupRight-28tg9V PlayerControls-buttonGroupRight-3tN_y5 PlayerControls-buttonGroup-3bovxR"},h))}rM.defaultProps={className:"WatchTogetherLobbyControls-controls-1P_aYU PlayerControls-controls-32qKsv"};const iM=rM,sM={onPlay:mn.Gu,onCancel:w.Mh},aM=(0,s.$j)((function(){return(0,o.P1)(YE,(e=>{const{users:t}=e,n=t.filter((e=>e.isWatching));return{elapsedSeconds:n.reduce(((e,t)=>e+t.positionSeconds),0)/n.length||0,isAnyAdPlaying:t.some((e=>e.isAdPlaying)),isAnyWatching:n.length>0}}))}),sM)(iM);function oM(e){const{playerType:t,isAdVisible:n,isMiniPlayer:r,hasLiveTVProtocol:s,isWatchTogetherLobbyVisible:a}=e;return a?null:n?i.createElement(sI,null):r?null:s?i.createElement(GE,{playerType:t}):null}function lM(e){const{playerType:t,isPostPlayVisible:n,isWatchTogetherLobbyVisible:r,isVideo:s,isMusic:a,isAdVisible:o,isMiniPlayer:l,isWatchTogether:c,hasLiveTVProtocol:d,seekStartMilliseconds:u,seekEndMilliseconds:p,bufferStartMilliseconds:m,bufferEndMilliseconds:h,adPositionMilliseconds:g,adDurationMilliseconds:y,onControlsMenuChange:v,onSeekBarInteractionStart:f,onSeekBarInteractionEnd:b}=e;let S;return S=r?aM:d?CE:OP,i.createElement(WS,null,oM(e),i.createElement(GS,null,n||r?null:i.createElement(ME,{playerType:t,isAdVisible:o,seekStartMilliseconds:u,seekEndMilliseconds:p,bufferStartMilliseconds:m,bufferEndMilliseconds:h,adPositionMilliseconds:g,adDurationMilliseconds:y,onSeekStart:f,onSeekEnd:b}),i.createElement(nI,{component:S,playerType:t,hasLiveTVProtocol:d,isVideo:s,isMusic:a,isAdVisible:o,isWatchTogetherLobbyVisible:r,isMiniPlayer:l,isWatchTogether:c,onControlsMenuChange:v})))}oM.propTypes=lM.propTypes,lM.defaultProps={isMiniPlayer:!1};const cM=lM,dM=parseInt(ol.Z.pagePadding,10),uM=2*dM,pM=dM/2;function mM(e,t,n,r,i,s){let a,o;if(e<t){const t=e-uM-n;a=Math.min(500,t),o=(0,ql.Cr)(a,r,i,s)}else{const e=t-(uM+90+n);o=Math.min(500,e),a=(0,ql.dz)(o,r,i,s)}return{width:a,height:o}}function hM(e){const{className:t,serverEntityID:n,providerEntityID:r,metadataItemEntityID:s,type:a,subtype:o,context:l,imageUrl:c,bottom:d}=e,u=(0,Mb.Z)(a,l,{providerEntityID:r,subtype:o});return i.createElement(cf.Z,{className:"AudioVideoFullMusic-measure-2RfGtW"},(({isMeasured:e,width:p,height:m})=>{if(!e)return null;const h=d?d+pM:0,g=mM(p,m,0,a,o,l);let y;if(h){const e=mM(p,m,h,a,o,l);y=e.height>0?e.height/g.height:1,y=Math.max(y,.4)}else y=1;return i.createElement("div",{className:t,style:{transform:`translate(-50%, -50%) scale(${y})`}},i.createElement(BI.Z,{cardClassName:"AudioVideoFullMusic-card-1-YH81 MetadataPosterCard-card-72Dv8q",serverEntityID:n,providerEntityID:r,metadataItemEntityID:s,metadataKey:"music",type:a,imageWidth:g.width,imageHeight:g.height,imageUrl:c,showLinkOnly:!0}),i.createElement("div",{className:"AudioVideoFullMusic-titlesContainer-25wEjE"},u.map(((e,t)=>i.createElement(Eb.Z,{key:t,className:t>0?"AudioVideoFullMusic-secondaryTitle-A2qA65 AudioVideoFullMusic-title-2vC3j5 MetadataPosterTitle-title-nXZNlz":"AudioVideoFullMusic-primaryTitle-yRUZMp AudioVideoFullMusic-title-2vC3j5 MetadataPosterTitle-title-nXZNlz",serverEntityID:n,providerEntityID:r,metadataItemEntityID:s,component:e})))))}))}hM.defaultProps={className:"AudioVideoFullMusic-content-YOKcDs"};const gM=hM,yM=(0,s.$j)((function(){return(0,o.P1)(mm(),(e=>({serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:e.entityID,context:Hl.r$,type:e.type,imageUrl:e.parentThumb||e.grandparentThumb})))}))(gM),vM=function(e){const{serverEntityID:t,providerEntityID:n,imageUrl:r,allowBlur:s}=e;return i.createElement("div",{className:"FullPlayerBackground-backgroundContainer-39bPLG"},i.createElement(re,{serverEntityID:t,providerEntityID:n,url:r,allowBlur:s}))},fM=(0,s.$j)((function(){return(0,o.P1)(((e,{isMusic:t})=>t),(0,ym.Z)(),sm(),In.Z,((e,t,n={},r)=>{const i=r[t.startMetadataItemEntityID||n.metadataItem];let s;return i&&(s=e?i.parentThumb||i.grandparentThumb:i.grandparentArt||i.art),{serverEntityID:t.serverEntityID,imageUrl:s}}))}))(vM);var bM=n(6900),SM=n(2182),IM=n(99356),ZM=n(28025),PM=n(2484),EM=n(85649);function MM(e){const{children:t,className:n}=e;return i.createElement("div",{className:n,"data-qa-id":"preplay-secondTitle"},t)}MM.defaultProps={className:"PrePlaySecondaryTitle-secondaryTitle-9VRlQS PrePlayPrimaryTitle-primaryTitle-1Qesge"};const CM=MM;function wM({className:e,children:t}){return i.createElement("div",{className:e,"data-qa-id":"preplay-thirdTitle"},t)}wM.defaultProps={className:"PrePlayTertiaryTitle-tertiaryTitle-3FCXL5"};const DM=wM;var TM=n(66151);function OM(e){var t=e["aria-label"],n=e.className,r=e.style,s={strokeLinejoin:"round",strokeMiterlimit:"1.414",viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-marketing-lyrics-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"m152.241 116.673c5.933-65.31 60.918-116.673 127.75-116.673 66.833 0 121.818 51.363 127.75 116.673h12.268c6.44 0 11.672 5.233 11.672 11.672 0 6.441-5.232 11.673-11.672 11.673h-12.25c-3.675 40.285-26.023 75.197-58.293 96.058l-19.827 231.997c-1.908 21.892-17.5 39.06-37.958 43.82v36.452c0 6.44-5.232 11.673-11.672 11.673s-11.673-5.233-11.673-11.673v-36.592c-20.51-4.97-36.102-22.26-38.01-44.24l-19.792-231.437c-32.305-20.86-54.653-55.756-58.293-96.058h-12.25c-6.44 0-11.672-5.233-11.672-11.673 0-6.439 5.232-11.672 11.672-11.672zm154.14 349.387 18.62-217.665c-14.052 5.25-29.172 8.278-45.01 8.278-15.837 0-30.957-3.045-45.01-8.312l18.568 217.139c1.242 13.982 12.722 24.5 26.74 24.5 13.685 0 24.902-10.29 26.092-23.94zm-38.045-151.059c0-6.441 5.233-11.673 11.673-11.673s11.672 5.233 11.672 11.673v46.672c0 6.439-5.232 11.673-11.672 11.673s-11.673-5.234-11.673-11.673zm11.655-81.674c53.918 0 97.93-40.966 103.81-93.326h-207.62c5.88 52.36 49.893 93.326 103.81 93.326zm103.81-116.672c-5.88-52.36-49.892-93.328-103.81-93.328-53.917 0-97.93 40.969-103.81 93.328z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}OM.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const xM=OM;var AM=n(70474),NM=n(34544);function kM(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-lyrics-timed-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M364 84h-56v29.989a194.698 194.698 0 0 1 27.951 6.126 194.755 194.755 0 0 1 24.136 8.966 195.787 195.787 0 0 1 27.995 15.427 197.227 197.227 0 0 1 48.25 45.312A196.461 196.461 0 0 1 454 217.748a194.576 194.576 0 0 1 18.374 52.568A196.97 196.97 0 0 1 476 308c0 8.956-.604 17.911-1.818 26.785a194.966 194.966 0 0 1-6.297 29.166 194.724 194.724 0 0 1-10.968 28.456 196.15 196.15 0 0 1-17.784 29.982 197.385 197.385 0 0 1-51.543 49.428 195.734 195.734 0 0 1-31.878 17.002 194.692 194.692 0 0 1-38.028 11.555 196.89 196.89 0 0 1-37.05 3.625 197.07 197.07 0 0 1-37.117-3.394 194.66 194.66 0 0 1-38.126-11.327 195.651 195.651 0 0 1-31.993-16.815 197.378 197.378 0 0 1-51.839-49.12 196.2 196.2 0 0 1-17.96-29.865 194.83 194.83 0 0 1-11.136-28.372 194.809 194.809 0 0 1-6.473-29.101A197.463 197.463 0 0 1 84 308c0-12.028 1.091-24.054 3.283-35.881a194.544 194.544 0 0 1 17.634-52.258 196.423 196.423 0 0 1 17.69-28.628 197.522 197.522 0 0 1 22.193-25.085 197.243 197.243 0 0 1 26.136-20.985 195.922 195.922 0 0 1 28.434-15.838A194.565 194.565 0 0 1 252 113.989V84h-56V56h168v28zm-83.499 70.001h-1.002c-2.814.013-5.626.093-8.435.253-5.511.315-11.005.924-16.45 1.827a152.77 152.77 0 0 0-37.505 11.318 153.954 153.954 0 0 0-22.375 12.375 155.41 155.41 0 0 0-37.024 34.668 154.38 154.38 0 0 0-13.799 21.452 152.504 152.504 0 0 0-14.78 41.055A154.8 154.8 0 0 0 126 308c0 7.212.496 14.425 1.497 21.568a152.888 152.888 0 0 0 4.872 22.397 152.714 152.714 0 0 0 8.601 22.316 154.23 154.23 0 0 0 14.247 23.934 155.398 155.398 0 0 0 18.231 20.92 155.18 155.18 0 0 0 23.616 18.615 153.646 153.646 0 0 0 23.909 12.522 152.648 152.648 0 0 0 29.855 8.97A154.944 154.944 0 0 0 280 462c9.782 0 19.564-.915 29.172-2.758a152.648 152.648 0 0 0 29.855-8.97 153.71 153.71 0 0 0 25.464-13.533 155.34 155.34 0 0 0 40.02-38.15 154.175 154.175 0 0 0 14.519-24.308 152.67 152.67 0 0 0 8.601-22.316 152.86 152.86 0 0 0 4.872-22.397A155.47 155.47 0 0 0 434 308c0-10.421-1.039-20.841-3.131-31.052a152.544 152.544 0 0 0-14.78-41.055 154.43 154.43 0 0 0-14.366-22.185 155.298 155.298 0 0 0-37.231-34.447 153.835 153.835 0 0 0-21.601-11.862 152.77 152.77 0 0 0-37.505-11.318 154.437 154.437 0 0 0-16.45-1.827c-2.809-.16-5.621-.24-8.435-.253zM252 336V185.167c8.998-2.085 18.374-3.167 28-3.167 34.771 0 66.271 14.115 89.078 36.922L252 336z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}kM.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const LM=kM,jM="AudioVideoLyrics-measure-U9K9GH",RM="AudioVideoLyrics-rightInfo-1nomp0",VM="AudioVideoLyrics-innerContent-2wew9s";class UM extends i.Component{constructor(e,t){super(e,t),this.setLineRef=e=>{this.lineRef=e,this.scrollToLine()},this.onContentMeasure=({width:e})=>{this.setState({isMeasured:!0,pageWidth:e})},this.onScrollerMeasure=({height:e})=>{e&&this.setState({isScrollerMeasured:!0,scrollerHeight:e},(()=>{this.scrollToLine()}))},this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.state={isMeasured:!1,isScrollerMeasured:!1,pageWidth:0,scrollerHeight:0,scrollTop:0}}UNSAFE_componentWillReceiveProps(e){this.props.lines!==e.lines&&this.setState({scrollTop:0})}scrollToLine(){if(!this.lineRef)return;const{scrollerHeight:e,scrollTop:t}=this.state,{height:n}=this.lineRef.getBoundingClientRect(),r=this.lineRef.offsetTop;(r+n>t+e||r<t)&&this.setState({scrollTop:r})}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,type:r,subtype:s,context:a,columnAdjustment:o,imageUrl:l,positionSeconds:c,lines:d,selectedIndex:u,lyricsStreamsCount:p,hasTimedLyrics:m,isTimedLyricsActive:h,hasLyricsError:g,hasLyricsFeature:y,isLyricFindProvider:v,onPreviousPress:f,onNextPress:b,onTimedLyricsPress:S}=this.props,{isMeasured:I,isScrollerMeasured:Z,pageWidth:P,scrollTop:M}=this.state,C=(0,TM.Z)(P,o),w=(0,ql.Cr)(C,r,s,a);return y?i.createElement(cf.Z,{className:jM,onMeasure:this.onContentMeasure},I?i.createElement("div",{className:"AudioVideoLyrics-container-1Kqnfr"},i.createElement("div",null,i.createElement(BI.Z,{cardClassName:"AudioVideoLyrics-card-14KqOU MetadataPosterCard-card-72Dv8q",serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataKey:"music",type:r,imageWidth:C,imageHeight:w,imageUrl:l,showLinkOnly:!0})),i.createElement("div",{className:"AudioVideoLyrics-content-26dz7P"},i.createElement("div",{className:"AudioVideoLyrics-titlesContainer-3eJg2j"},i.createElement(PM.Z,null,i.createElement(OE.Z,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n})),i.createElement(CM,null,i.createElement(ZM.Z,null,i.createElement(lc.Z,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}))),i.createElement(DM,null,i.createElement(ZM.Z,null,v?(0,E.Z)("Powered by {provider}",{provider:"LyricFind"}):null),i.createElement(EM.Z,null,i.createElement("span",{className:RM},i.createElement(La.Z,{className:rl()("AudioVideoLyrics-timedLyricsButton-2og_nz IconButton-button-llQ1So",h&&"AudioVideoLyrics-isTimedLyricsActive-2BDZms"),"data-qa-id":"toggleTimedLyrics",iconComponent:LM,title:(0,E.Z)("Timed Lyrics"),isDisabled:!m,onPress:S})),i.createElement("span",{className:RM},(0,E.Z)("{selectedIndex} of {lyricsStreamsCount}",{selectedIndex:u+1,lyricsStreamsCount:p})),i.createElement("span",{className:RM},i.createElement(La.Z,{iconComponent:NM.Z,"data-qa-id":"previousLyricsPage",title:(0,E.Z)("Previous"),isDisabled:0===u,onPress:f})),i.createElement("span",{className:RM},i.createElement(La.Z,{iconComponent:AM.Z,"data-qa-id":"nextLyricsPage",title:(0,E.Z)("Next"),isDisabled:u===p-1,onPress:b}))))),g?i.createElement("div",{className:VM},i.createElement(IM.Z,{title:(0,E.Z)("There was an error loading the lyrics")})):null,g?null:i.createElement("div",{className:VM},i.createElement(cf.Z,{className:jM,onMeasure:this.onScrollerMeasure},Z?i.createElement(kr.Z,{className:"AudioVideoLyrics-scroller-HGsXz1 Scroller-vertical-3IY07c",scrollTop:M,onScrollPositionChange:this.onScrollPositionChange},d.length?d.map((({spans:e,startOffset:t,endOffset:n},r)=>{const s=Math.round(t/1e3),a=Math.round(n/1e3),o=h&&c>=s&&-1!==t&&(c<a||-1===n);return i.createElement("div",{key:r,className:rl()("AudioVideoLyrics-line-1ZbaPe",o&&"AudioVideoLyrics-isLineSelected-3eV06T"),ref:o?this.setLineRef:null},e.map((({text:e},t)=>i.createElement("span",{key:t},e))),i.createElement(LM,{className:"AudioVideoLyrics-lineTimedIcon-q-eciz"}))})):i.createElement(si.Z,{className:"AudioVideoLyrics-spinner-iVgPUz Spinner-spinner-1mPhN9 spin-spin-34xiUE"})):null)))):null):i.createElement("div",{className:"AudioVideoLyrics-upsellContainer-m0YGg9"},i.createElement(bM.Z,{iconComponent:xM,title:(0,E.Z)("Song Lyrics"),text:(0,E.Z)("Still think Elton is saying “Hold me closer, Tony Danza”? With a Plex Pass, enjoy timed lyrics (when available) to your favorite songs for the ultimate sing-along… with the right words!")}),i.createElement(SM.Z,{serverEntityID:e,origin:Ti.ap,modalMetricsProperties:{context:"lyrics"}}))}}const zM=UM;var BM=Object.defineProperty,_M=Object.prototype.hasOwnProperty,FM=Object.getOwnPropertySymbols,HM=Object.prototype.propertyIsEnumerable,WM=(e,t,n)=>t in e?BM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function QM(e){return!(!e||!e.timed)}const GM={dispatchFetchPlayQueue:Um.Ai,dispatchFetchPlayQueueItemLyrics:Um.KA};class YM extends i.Component{constructor(e,t){super(e,t),this.onPreviousPress=()=>{this.setState((e=>({selectedLyricsStreamIndex:Math.max(0,e.selectedLyricsStreamIndex-1)})))},this.onNextPress=()=>{this.setState(((e,t)=>({selectedLyricsStreamIndex:Math.min(t.lyricsStreams.length-1,e.selectedLyricsStreamIndex+1)})))},this.onTimedLyricsPress=()=>{this.setState((e=>({isTimedLyricsActive:!e.isTimedLyricsActive})))},this.state=this.getDefaultState(e)}componentDidMount(){this._populate(),this.props.hasPremiumLyrics&&this.props.hasLyricsFeature&&this.props.dispatchFetchPlayQueue({playerType:this.props.playerType})}UNSAFE_componentWillReceiveProps(e){this.props.lyricsStreams!==e.lyricsStreams&&this.setState(this.getDefaultState(e,this.state.selectedLyricsStreamIndex))}UNSAFE_componentWillUpdate(e,t){if(this.state.selectedLyricsStreamIndex!==t.selectedLyricsStreamIndex){const n=e.lyricsStreams[t.selectedLyricsStreamIndex];this.setState({isTimedLyricsActive:QM(n)})}}componentDidUpdate(e,t){const n=this.props.lyricsStreams[this.state.selectedLyricsStreamIndex];this.props.hasLyricsFeature!==e.hasLyricsFeature&&this.props.dispatchFetchPlayQueue({playerType:this.props.playerType}),!n||n.lyricsError||this.state.selectedLyricsStreamIndex===t.selectedLyricsStreamIndex&&this.props.lyricsStreams===e.lyricsStreams||this._populate()}getDefaultState(e,t=0){const n=e.lyricsStreams.length>0?t:null;return{isTimedLyricsActive:QM(e.lyricsStreams[n]),selectedLyricsStreamIndex:n}}_populate(){const{playerType:e,playQueueItemEntityID:t,lyricsStreams:n}=this.props,{selectedLyricsStreamIndex:r}=this.state;if(null==r)return;const i=n[r];i&&!i.lines.length&&this.props.dispatchFetchPlayQueueItemLyrics({playerType:e,playQueueItemEntityID:t,streamID:i.id})}render(){const e=this.props,{dispatchFetchPlayQueue:t,dispatchFetchPlayQueueItemLyrics:n,lyricsStreams:r}=e,s=((e,t)=>{var n={};for(var r in e)_M.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&FM)for(var r of FM(e))t.indexOf(r)<0&&HM.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchFetchPlayQueue","dispatchFetchPlayQueueItemLyrics","lyricsStreams"]),{isTimedLyricsActive:a,selectedLyricsStreamIndex:o}=this.state,l=r[o];return i.createElement(zM,((e,t)=>{for(var n in t||(t={}))_M.call(t,n)&&WM(e,n,t[n]);if(FM)for(var n of FM(t))HM.call(t,n)&&WM(e,n,t[n]);return e})({lines:null!=l?l.lines:[],lyricsStreamsCount:r.length,selectedIndex:o,hasTimedLyrics:QM(l),isTimedLyricsActive:a,isLyricFindProvider:!!l&&l.provider===fr.$Z,hasLyricsError:!!l&&!!l.lyricsError,onPreviousPress:this.onPreviousPress,onNextPress:this.onNextPress,onTimedLyricsPress:this.onTimedLyricsPress},s))}}const qM=(0,s.$j)((function(){return(0,o.P1)((0,ym.Z)(),Oh(),mm(),sm(),Fs.Z,((e,t,n,r,i)=>{const s=Hl.r$;return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:n.entityID,playQueueItemEntityID:r.entityID,positionSeconds:e.positionSeconds,context:s,type:n.type,imageUrl:n.parentThumb||n.grandparentThumb,lyricsStreams:r.lyricsStreams,columnAdjustment:i.columnAdjustment,hasLyricsFeature:!!r.lyricsStreams.length||t.ownerFeatures&&t.ownerFeatures.indexOf("lyrics")>-1,hasPremiumLyrics:r.hasPremiumLyrics}}))}),GM)(YM);var KM=n(78876),$M=n(22103);const XM=[.2,.4,.6,.8];function JM(e,t,n,r){if(n+1<r){const r=n-t-e;if(r<XM.length)return XM[r]}return 1}var eC=n(84977),tC=n(90937),nC=n(10079),rC=n(36793);function iC(){return(0,o.P1)(((e,{playQueueItemEntityID:t})=>t),im.Z,((e,t)=>t[e]))}var sC=n(74424),aC=n(53863),oC=n(81914),lC=n(45100);function cC(e){const{className:t,titlesContainerClassName:n,sourceTextClassName:r,durationContainerClassName:s,serverEntityID:a,providerEntityID:o,metadataItemEntityID:l,type:c,subtype:d,metadataKey:u,title:p,duration:m,isPreview:h,context:g,imageWidth:y,imageHeight:v,imageUrl:f,onPlayPress:b}=e,S=(0,Mb.Z)(c,g,{providerEntityID:o,subtype:d});let I="";return m&&(I=h?(0,E.Z)("Preview"):c===_l.TRACK?(0,Ug.Z)(m):(0,Rg.Z)(m)),i.createElement("div",{className:t},i.createElement("div",{className:"AudioVideoPlayerPlayQueueMetadata-cardContainer-1gvanC"},i.createElement(yc,{className:"AudioVideoPlayerPlayQueueMetadata-card-1Wswtn QuickSearchMetadataPosterCard-card-oRXsxj MetadataPosterButtonCard-card-3uptBn",serverEntityID:a,providerEntityID:o,metadataItemEntityID:l,metadataKey:u,title:(0,E.Z)("Play {title}",{title:p}),type:c,imageWidth:y,imageHeight:v,imageUrl:f,onPlayPress:b})),i.createElement("div",{className:n,"data-qa-id":"playQueueTitleContainer"},S.map(((e,t)=>i.createElement(Eb.Z,{key:t,serverEntityID:a,providerEntityID:o,metadataItemEntityID:l,component:e,isSecondary:t>0})))),i.createElement(lC.Z,{textClassName:r,serverEntityID:a,metadataItemEntityID:l}),I?i.createElement("div",{className:s},I):null)}cC.defaultProps={className:"AudioVideoPlayerPlayQueueMetadata-container-3GQbqW",titlesContainerClassName:"AudioVideoPlayerPlayQueueMetadata-titlesContainer-1hYyka",sourceTextClassName:"AudioVideoPlayerPlayQueueMetadata-sourceText-8i0tTz",durationContainerClassName:"AudioVideoPlayerPlayQueueMetadata-durationContainer-3BsiEq"};const dC=cC;var uC=Object.defineProperty,pC=Object.prototype.hasOwnProperty,mC=Object.getOwnPropertySymbols,hC=Object.prototype.propertyIsEnumerable,gC=(e,t,n)=>t in e?uC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yC=(e,t)=>{for(var n in t||(t={}))pC.call(t,n)&&gC(e,n,t[n]);if(mC)for(var n of mC(t))hC.call(t,n)&&gC(e,n,t[n]);return e};const vC=(0,s.$j)((function(){return(0,o.P1)((0,Vl.Z)(),(e=>{const t=Hl.F5,n=(0,ql.n3)(e.type,e.subtype,t)===ql.oz?64:36,r=(0,Yl.Z)(n,null,e.type,e.subtype,e,t);return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,type:e.type,subtype:e.subtype,metadataKey:e.key,duration:e.duration,title:e.title,isPreview:!!e.preview,context:t,imageWidth:r.width,imageHeight:r.height,imageUrl:r.url}}))}),(function(e,t){const n={playerType:t.playerType};return{onPlayPress(){e((0,Um.gP)(yC(yC({},n),{index:t.sortIndex}))),t.mediaType===fm.pX&&e((0,Um.D5)(n))}}}))((function(e){const t=e,{mediaType:n}=t,r=((e,t)=>{var n={};for(var r in e)pC.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&mC)for(var r of mC(e))t.indexOf(r)<0&&hC.call(e,r)&&(n[r]=e[r]);return n})(t,["mediaType"]);return i.createElement(dC,yC({},r))})),fC={.2:"AudioVideoPlayQueueItem-opacity20Percent-2UguL-",.4:"AudioVideoPlayQueueItem-opacity40Percent-28nUsn",.6:"AudioVideoPlayQueueItem-opacity60Percent-14EitX",.8:"AudioVideoPlayQueueItem-opacity80Percent-1KEpfE"};function bC(e){const{metadataItemEntityID:t,playerType:n,mediaType:r,sortIndex:s,opacity:a,isCurrentItem:o,isPlayerPaused:l,isItemDragging:c,connectDragSource:d,onRemovePress:u}=e;return i.createElement("div",{className:rl()("AudioVideoPlayQueueItem-container-ShjZae",c&&"AudioVideoPlayQueueItem-isItemDragging-4UNHTi",o&&"AudioVideoPlayQueueItem-isCurrentItem-3PA5GL",null!=a&&fC[a]),"data-qa-id":"playQueueItem"},i.createElement("div",{className:"AudioVideoPlayQueueItem-leftContainer-3Lec87"},o?i.createElement(sC.Z,{isPaused:l}):null,o?null:d(i.createElement("div",{className:"AudioVideoPlayQueueItem-moveControls-ocIKxb","data-qa-id":"playQueueReorder"},i.createElement(oC.Z,null)))),i.createElement(vC,{className:"AudioVideoPlayQueueItem-metadataContainer-HgfaH0 AudioVideoPlayerPlayQueueMetadata-container-3GQbqW",sourceTextClassName:"AudioVideoPlayQueueItem-sourceText-3OehMU SourceBadge-text-jMpRAu",durationContainerClassName:"AudioVideoPlayQueueItem-metadataDurationContainer-1UxW7X AudioVideoPlayerPlayQueueMetadata-durationContainer-3BsiEq",metadataItemEntityID:t,playerType:n,mediaType:r,sortIndex:s}),o?null:i.createElement("div",{className:"AudioVideoPlayQueueItem-removeControls-3ZfGFC"},i.createElement(La.Z,{className:"AudioVideoPlayQueueItem-removeButton-219FzW IconButton-button-llQ1So","data-qa-id":"playQueueRemove",iconComponent:aC.Z,title:(0,E.Z)("Remove"),kind:Qr.T,onPress:u})))}bC.defaultProps={opacity:1,isCurrentItem:!1,isPlayerPaused:!1,isItemDragging:!1,connectDragSource:e=>e};const SC=bC,IC=(0,s.$j)((function(){return(0,o.P1)(iC(),(e=>{const t=(0,_l.getMetadataType)(e.type),n=t&&t.mediaType;return{metadataItemEntityID:e.metadataItem,mediaType:n}}))}),(function(e,t){return{onRemovePress(n){e((0,Um.yg)({playerType:t.playerType,playQueueItemEntityID:t.playQueueItemEntityID}))}}}))(SC),ZC=parseInt(ol.Z.playQueueSidePadding,10);class PC extends i.Component{shouldComponentUpdate(e,t){return(0,F.Z)(this,e,t)}render(){const{playerType:e,item:t,itemType:n,currentOffset:r}=this.props;if(!r||n!==rC.PI)return null;const{x:s,y:a}=r,o=`translate3d(${s}px, ${a}px, 0)`,l={position:"absolute",WebkitTransform:o,msTransform:o,transform:o,width:window.innerWidth-2*ZC+"px"};return i.createElement(nC.Z,null,i.createElement("div",{className:"AudioVideoPlayQueueDragPreview-dragPreview-2_J4Ur",style:l},i.createElement(IC,{playQueueItemEntityID:t.playQueueItemEntityID,playerType:e,isItemDragging:!0})))}}const EC=(0,tC.rE)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(PC);var MC=n(87161),CC=n(86382);var wC=Object.defineProperty,DC=Object.prototype.hasOwnProperty,TC=Object.getOwnPropertySymbols,OC=Object.prototype.propertyIsEnumerable,xC=(e,t,n)=>t in e?wC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const AC={beginDrag:({playQueueItemEntityID:e})=>({playQueueItemEntityID:e}),endDrag(e,t,n){e.onPlayQueueItemDragEnd(t.getItem(),t.didDrop())}},NC={hover(e,t,n){const r=(0,Mi.findDOMNode)(n).getBoundingClientRect(),i=(r.bottom-r.top)/2,s=t.getClientOffset().y-r.top,a=e.sortIndex,o=s>i?a+1:a;e.onPlayQueueItemDragMove(o)}};class kC extends i.Component{componentDidMount(){this.props.connectDragPreview((0,MC.rX)())}shouldComponentUpdate(e,t){return(0,F.Z)(this,e,t)}render(){const e=this.props,{isDragging:t,isDraggingBefore:n,isDraggingAfter:r,isOver:s,connectDropTarget:a,connectDragSource:o}=e,l=((e,t)=>{var n={};for(var r in e)DC.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&TC)for(var r of TC(e))t.indexOf(r)<0&&OC.call(e,r)&&(n[r]=e[r]);return n})(e,["isDragging","isDraggingBefore","isDraggingAfter","isOver","connectDropTarget","connectDragSource"]);return a(i.createElement("div",{className:rl()("AudioVideoPlayQueueItemDragSource-container-3pUgro",t&&CC.fN,n&&s&&CC.DT,r&&s&&CC.QZ)},i.createElement(IC,((e,t)=>{for(var n in t||(t={}))DC.call(t,n)&&xC(e,n,t[n]);if(TC)for(var n of TC(t))OC.call(t,n)&&xC(e,n,t[n]);return e})({connectDragSource:o},l))))}}const LC=(0,tC.GR)(rC.PI,NC,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((0,tC.Ej)(rC.PI,AC,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(kC));class jC extends i.Component{constructor(e,t){super(e,t),this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1})},this.state={isAddToPlaylistModalOpen:!1}}render(){const{serverEntityID:e,providerEntityID:t,playQueueID:n,playQueueItemEntityIDs:r,playQueueSelectedItemOffset:s,playQueueLength:a,playerType:o,currentIndex:l,moveIndex:c,scrollTop:d,isPlayerPaused:u,showAddToPlaylist:p,onPlayQueueItemDragMove:m,onPlayQueueItemDragEnd:h}=this.props,{isAddToPlaylistModalOpen:g}=this.state,y=s-l,v=y+r.length-1;return i.createElement("div",{className:"AudioVideoPlayQueue-container-1mpldp"},i.createElement(Sb,null,i.createElement(bb,{title:(0,E.Z)("Play Queue")}),i.createElement("div",{className:"AudioVideoPlayQueue-topContainer-2nIbGc"},i.createElement("div",{className:"AudioVideoPlayQueue-topLeft-2WAv4O"},i.createElement("span",{className:"AudioVideoPlayQueue-count-1vL_iY"},1===a?(0,E.Z)("{itemCount} item",{itemCount:a}):(0,E.Z)("{itemCount} items",{itemCount:a}))),i.createElement("div",{className:"AudioVideoPlayQueue-topRight-2E6ew6"},p?i.createElement(Ks.Z,{className:"AudioVideoPlayQueue-tooltipButton-1icY3e","data-qa-id":"queueAddPlaylist","aria-label":(0,E.Z)("Add to Playlist"),component:Lr.Z,tooltip:(0,E.Z)("Add to Playlist"),onPress:this.onAddToPlaylistPress},i.createElement(eC.Z,null)):null))),i.createElement(kr.Z,{className:"AudioVideoPlayQueue-content-1P-OTq Scroller-vertical-3IY07c",scrollTop:d,smoothScroll:!1,autoScroll:!0},r.map(((e,t)=>{const n=null!=c,r=l===t,s=n&&c===t,d=n&&c===t+1;return i.createElement(LC,{key:e,sortIndex:t,opacity:JM(t,y,v,a),playQueueItemEntityID:e,playerType:o,isDraggingBefore:s,isDraggingAfter:d,isCurrentItem:r,isPlayerPaused:u,onPlayQueueItemDragMove:m,onPlayQueueItemDragEnd:h})}))),i.createElement(EC,{playerType:o}),p?i.createElement($M.Z,{serverEntityID:e,providerEntityID:t,playQueueID:n,isOpen:g,onModalClose:this.onAddToPlaylistClose}):null)}}const RC=jC;var VC=Object.defineProperty,UC=Object.prototype.hasOwnProperty,zC=Object.getOwnPropertySymbols,BC=Object.prototype.propertyIsEnumerable,_C=(e,t,n)=>t in e?VC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FC=(e,t)=>{for(var n in t||(t={}))UC.call(t,n)&&_C(e,n,t[n]);if(zC)for(var n of zC(t))BC.call(t,n)&&_C(e,n,t[n]);return e};const HC=parseInt(ol.Z.playQueueItemHeight,10),WC=(0,o.P1)((e=>e.ui.audioVideoPlayer),Oh(),fa(),((e,t,n)=>{const r=e.playQueue,i=ze.wB(n.identifier,ze.Y3),s=!r.isLocal&&i;return{serverEntityID:t.entityID,providerEntityID:n.entityID,playQueueID:r.playQueueID,isQueueRepeated:r.repeat,isQueueShuffled:r.playQueueShuffled,isPlayerPaused:e.isPaused,isUpdatePending:r.isUpdatePending,playQueueItemEntityIDs:r.playQueueItems,playQueueSelectedItemOffset:r.playQueueSelectedItemOffset,playQueueLength:r.length,currentIndex:r.currentIndex,showAddToPlaylist:s}})),QC={dispatchMovePlayQueueItem:Um.FX};class GC extends i.Component{constructor(e,t){super(e,t),this.onPlayQueueItemDragMove=e=>{e!==this.state.moveIndex&&this.setState({moveIndex:e})},this.onPlayQueueItemDragEnd=(e,t)=>{const{playerType:n}=this.props,{moveIndex:r}=this.state;t&&null!=r&&(0,Qs.c9)((()=>{this.props.dispatchMovePlayQueueItem(FC(FC({playerType:n},e),{moveIndex:r}))})),this.setState({moveIndex:null})},this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.shouldUpdateScrollTop=!1,this.state={moveIndex:null,scrollTop:HC*e.currentIndex}}UNSAFE_componentWillReceiveProps(e){this.props.isQueueRepeated===e.isQueueRepeated&&this.props.isQueueShuffled===e.isQueueShuffled||(this.shouldUpdateScrollTop=!0),this.shouldUpdateScrollTop&&this.props.currentIndex!==e.currentIndex&&this.setState({scrollTop:HC*e.currentIndex}),this.props.isUpdatePending&&!e.isUpdatePending&&(this.shouldUpdateScrollTop=!1)}render(){const e=this.props,{dispatchMovePlayQueueItem:t}=e,n=((e,t)=>{var n={};for(var r in e)UC.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&zC)for(var r of zC(e))t.indexOf(r)<0&&BC.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchMovePlayQueueItem"]),{moveIndex:r,scrollTop:s}=this.state;return i.createElement(RC,FC({moveIndex:r,scrollTop:s,onPlayQueueItemDragMove:this.onPlayQueueItemDragMove,onPlayQueueItemDragEnd:this.onPlayQueueItemDragEnd,onScrollPositionChange:this.onScrollPositionChange},n))}}const YC=(0,KM.Z)((0,s.$j)(WC,QC)(GC));var qC=n(32486);const KC=(0,o.P1)(qC.Z,(e=>e.hubs));function $C(){return(0,o.P1)(((e,{hubEntityID:t})=>t),KC,((e,t)=>t[e]))}var XC=n(50602),JC=n(77909);var ew=n(98862),tw=n(66247),nw=n(48022);const rw=Va().shape({key:Va().string,hubKey:Va().string,title:Va().string,icon:Va().string,type:Va().string,subtype:Va().string,agent:Va().string,updatedAt:Va().number,scannedAt:Va().number,context:Va().string});var iw=n(41431),sw=n(48425),aw=n(42980),ow=Object.defineProperty,lw=Object.prototype.hasOwnProperty,cw=Object.getOwnPropertySymbols,dw=Object.prototype.propertyIsEnumerable,uw=(e,t,n)=>t in e?ow(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pw=(e,t)=>{for(var n in t||(t={}))lw.call(t,n)&&uw(e,n,t[n]);if(cw)for(var n of cw(t))dw.call(t,n)&&uw(e,n,t[n]);return e};const mw=function(e){const t=e,{metadataListEntityID:n,metadataItemEntityIDs:r,metricsContext:s,containerKey:a,listType:o,listSubtype:l,listContext:c,columnAdjustment:d,populatedRange:u,displayFieldDefinitions:p,displayFields:m}=t,h=((e,t)=>{var n={};for(var r in e)lw.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&cw)for(var r of cw(e))t.indexOf(r)<0&&dw.call(e,r)&&(n[r]=e[r]);return n})(t,["metadataListEntityID","metadataItemEntityIDs","metricsContext","containerKey","listType","listSubtype","listContext","columnAdjustment","populatedRange","displayFieldDefinitions","displayFields"]),{serverEntityID:g,providerEntityID:y,hubIdentifier:v}=h,f=(0,Mb.Z)(o,c,{providerEntityID:y,subtype:l,isExternal:v.indexOf("external")>-1,displayFields:m}),b=(0,sw.Z)(o,l,c,d,f.length);return i.createElement(Bf.Z,pw(pw({},h),{containerKey:a,keyPropName:"metadataItemEntityID",items:r,itemsOffset:u.start,layout:b,cellRenderer:(0,sb.Z)({serverEntityID:g,providerEntityID:y,metadataListEntityID:n,containerKey:a,listType:o,listSubtype:l,listContext:c,titleComponents:f,displayFieldDefinitions:p,displayFields:m,isCondensed:!0,metricsContext:s},aw.Z)}))};var hw=n(71024),gw=Object.defineProperty,yw=Object.prototype.hasOwnProperty,vw=Object.getOwnPropertySymbols,fw=Object.prototype.propertyIsEnumerable,bw=(e,t,n)=>t in e?gw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sw=(e,t)=>{for(var n in t||(t={}))yw.call(t,n)&&bw(e,n,t[n]);if(vw)for(var n of vw(t))fw.call(t,n)&&bw(e,n,t[n]);return e};const Iw=(0,PS.Z)((function(){return(0,o.P1)(((e,{listContext:t})=>t),((e,{allowSourceTitle:t})=>t),((e,{metricsPage:t})=>t),(0,Wu.Z)(),(0,JC.Z)(),$C(),(0,o.P1)((0,XC.Z)((0,JC.Z)(),["identifier","title","sourceTitle"]),(0,XC.Z)((0,Wu.Z)(),["friendlyName","sourceTitle"]),((e,t)=>function(e={},t={}){const{identifier:n,title:r,sourceTitle:i}=e,{friendlyName:s,sourceTitle:a}=t;let o;return ze.wB(n,ze.Y3)?o=a||s:r&&(o=i?`${r} • ${i}`:r),o}(e,t))),((e,t,n,r,i,s,a)=>{var o;const l=s.hubIdentifier.indexOf("music.video")>-1?nw.nW:s.type,c=e||function(e,t=Hl.Y3){switch(e){case"home.continue":return Hl.wl;case"home.recommended":return Hl.g$;case"home.watchTogether":return Hl.Bs;default:return t}}(s.hubIdentifier),d=(0,tw.Z)(n,s.context||s.hubIdentifier);let u;if(s.key&&c!==Hl.wl){const e={key:s.key,title:s.title,pageType:ew.IY,context:d};u=s.source?(0,Kt.Z)(s.source,e):(0,iw.Z)(r,i,e)}const p={component:mw,metadataListEntityID:s.metadataList,metricsContext:d,hubIdentifier:s.hubIdentifier,title:s.title,sourceTitle:t?a:null,attribution:s.attribution,route:u,style:s.style,size:s.size,more:s.more,random:s.random,autoAdvanceDelayMs:s.autoAdvanceDelayMs,displayFieldDefinitions:null==(o=s.Meta)?void 0:o.DisplayFields,containerKey:s.key,listType:l,listSubtype:s.subtype,listContext:c};if(s.source){const{serverEntityID:e,providerEntityID:t}=function(e){if(!e)return;let t,n;const r=e.match(/^server:\/\/(.*)\/(.*)/);if(r)t=r[1],n=r[2];else{const r=e.match(/^provider:\/\/(.*)/);if(!r)return;t=Hs.X,n=r[1]}const i=(0,sr.Z)(ar.cN,t);return{serverEntityID:i,providerEntityID:(0,sr.Z)(ar.MC,n,i)}}(s.source);p.serverEntityID=e,p.providerEntityID=t}return p}))}))(hw.Z);Iw.propTypes=Sw(Sw({},Iw.propTypes),{providerEntityID:Va().string.isRequired,serverEntityID:Va().string.isRequired,hubEntityID:Va().string.isRequired,sourceDirectory:rw,allowSourceTitle:Va().bool});const Zw=Iw,Pw={opacity:0,pointerEvents:"none"},Ew={opacity:1,pointerEvents:"auto"};class Mw extends i.Component{constructor(e,t){super(e,t),this.onListReady=()=>{++this._readyCount===this._initialCount&&this.setState({isReady:!0})},this.state={isReady:!1},this._readyCount=0}UNSAFE_componentWillMount(){this._initialCount=this.props.hubEntityIDs.length}UNSAFE_componentWillReceiveProps(e){const t=e.hubEntityIDs.length,n=this.props.hubEntityIDs.length;this.state.isReady||t===n||(this._initialCount=t,this._readyCount===t&&this.setState({isReady:!0}))}shouldComponentUpdate(e,t){return(0,F.Z)(this,e,t)}render(){const{allowHomeHubIndicator:e,allowPersistentHomeHubStatus:t,allowToggleHomeHub:n,allowSourceTitle:r,className:s,serverEntityID:a,providerEntityID:o,directoryKey:l,hubEntityIDs:c,sourceDirectory:d,columnAdjustment:u,listContext:p}=this.props,{isReady:m}=this.state;return i.createElement("div",{className:s,style:m?Ew:Pw},c.map((s=>i.createElement(Zw,{key:s,serverEntityID:a,providerEntityID:o,hubEntityID:s,sourceDirectory:d,directoryKey:l,allowHomeHubIndicator:e,allowPersistentHomeHubStatus:t,allowToggleHomeHub:n,allowSourceTitle:r,listContext:p,columnAdjustment:u,onListReady:this.onListReady}))))}}const Cw=Mw;var ww=n(44271),Dw=n(46560),Tw=n(95309);const Ow=function(e){const{title:t,summary:n}=e;return i.createElement(i.Fragment,null,i.createElement(ww.Z,null,i.createElement(PM.Z,null,i.createElement(ZM.Z,null,t))),i.createElement(Dw.Z,null),i.createElement(ww.Z,null,i.createElement(Tw.Z,null,n)))};var xw=n(92797),Aw=n(93092);var Nw=Object.defineProperty,kw=Object.prototype.hasOwnProperty,Lw=Object.getOwnPropertySymbols,jw=Object.prototype.propertyIsEnumerable,Rw=(e,t,n)=>t in e?Nw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Vw(e){return i.createElement("div",{className:"PrePlayAttributionLogo-attributionLogo-2p8HTP"},i.createElement(Aw.Z,((e,t)=>{for(var n in t||(t={}))kw.call(t,n)&&Rw(e,n,t[n]);if(Lw)for(var n of Lw(t))jw.call(t,n)&&Rw(e,n,t[n]);return e})({},e)))}var Uw=n(7790),zw=n(87385);function Bw(e){const{className:t,linkClassName:n,server:r,provider:s,sourceDirectory:a,fallbackFilterKey:o,type:l,tags:c,limit:d}=e;if(!c||!c.length)return null;const u=l&&(0,_l.getMetadataType)(l);return i.createElement("span",{className:t},c.map(((e,t)=>{if(t>=d)return;let l;if(e.directory&&e.key&&a)l=(0,Ql.Z)(r,s,a,{key:e.key,title:e.tag});else if((e.filter||e.id)&&a){const t={filters:e.filter,filterLabel:e.tag};!t.filter&&o&&e.id&&(t.filters=`${o}=${e.id}`),u&&(t.type=u.id),e.context&&(t.context=e.context),l=(0,zw.Z)(r,s,a,t)}return i.createElement("span",{key:t},i.createElement(Lr.Z,{className:n,to:l,isDisabled:!l},e.tag),t+1<d&&t+1<c.length?", ":null)})))}Bw.defaultProps={linkClassName:"PrePlayTagList-tagsListLink-1cAxVN Link-link-CM9nxg",limit:1/0};const _w=Bw;var Fw=n(99062),Hw=n(13995);function Ww(e){const{children:t,server:n,provider:r,sourceDirectory:s,type:a,Director:o,Writer:l,Studio:c,studio:d,isLibraryProvider:u}=e;return t||o.length||l.length||d||c.length?i.createElement(Fw.Z,null,t,o.length?i.createElement(Hw.Z,{label:(0,E.Z)("Directed by")},i.createElement(_w,{server:n,provider:r,sourceDirectory:s,fallbackFilterKey:"director",type:a,tags:o})):null,l.length?i.createElement(Hw.Z,{label:(0,E.Z)("Written by")},i.createElement(_w,{server:n,provider:r,sourceDirectory:s,fallbackFilterKey:"writer",type:a,tags:l})):null,c.length?i.createElement(Hw.Z,{label:(0,E.Z)("Studio")},i.createElement(_w,{server:n,provider:r,sourceDirectory:s,fallbackFilterKey:"studio",type:a,tags:c})):null,d&&!c.length?i.createElement(Hw.Z,{label:(0,E.Z)("Studio")},i.createElement(_w,{server:n,provider:r,sourceDirectory:s,type:a,tags:[{filter:u?`studio=${encodeURIComponent(encodeURIComponent(d))}`:null,tag:d}]})):null):null}Ww.defaultProps={Director:[],Writer:[]};const Qw=Ww,Gw=(0,s.$j)((function(){return(0,o.P1)(Bl.Z,Ul.Z,(0,Uw.Z)(),(0,Vl.Z)(),((e,t,n,r={})=>({server:e,provider:t,isLibraryProvider:ze.wB(t.identifier,ze.Y3),sourceDirectory:n,Director:r.Director,Writer:r.Writer,Studio:r.Studio,studio:r.studio})))}))(Qw);var Yw=n(11203);function qw(e,t,n){return!!(e.ownerFeatures&&e.ownerFeatures.indexOf(_e.EM)>-1&&t&&t.isLibraryItem&&!t.isExtra&&function(e){return!e||e.protocol===ga.l||parseInt(e.protocolVersion,10)>=3}(n))}var Kw=n(59421);function $w(e,t,n){return!!(e.ownerFeatures&&e.ownerFeatures.indexOf(_e.m9)>-1&&t&&t.isLibraryItem&&!t.isExtra&&function(e){return!e||e.protocol===ga.l||parseInt(e.protocolVersion,10)>=3}(n))}var Xw=n(84642),Jw=n(6731),eD=n(98851),tD=n(56906);class nD extends i.Component{constructor(){super(...arguments),this.onPress=e=>{this.props.onStreamSelect(this.props.stream.id),this.props.onMenuClose()}}render(){const{className:e,children:t,stream:n}=this.props;return i.createElement(TS.Z,{className:e,isSelected:!!n.selected,onPress:this.onPress},t)}}const rD=nD,iD=function(e){const{target:t,isOpen:n,serverEntityID:r,audioStreams:s,onMenuClose:a,onStreamSelect:o}=e;return i.createElement(Pn.Z,{target:t,isOpen:n,size:Gr.ln,onMenuClose:a},s.map((e=>i.createElement(rD,{key:e.id,stream:e,onMenuClose:a,onStreamSelect:o},i.createElement(tD.Z,{serverEntityID:r,type:"audio",stream:e}),e.title?i.createElement("span",{className:"AudioStreamMenu-extendedTitle-2XBPeE"},e.title):null))))};var sD=n(63626),aD=n(18208);class oD extends i.Component{constructor(e,t){super(e,t),this.onDeletePress=()=>{this.setState({isConfirmDeleteModalOpen:!0})},this.onDeleteConfirm=()=>{const{subtitlesStream:e,onStreamDelete:t}=this.props;this.setState({isConfirmDeleteModalOpen:!1}),t(e.key),this.props.onMenuClose()},this.onDeleteCancel=()=>{this.setState({isConfirmDeleteModalOpen:!1})},this.state={isConfirmDeleteModalOpen:!1}}render(){const{serverEntityID:e,subtitlesStream:t,isStreamDeleteInProgress:n,hasExternalSubtitlesStreams:r,canShowDeleteSubtitlesAction:s,onMenuClose:a,onStreamSelect:o}=this.props,l=!!t.key&&s;return i.createElement("div",{className:"SubtitlesStreamMenuItem-stream-36DboE"},i.createElement(rD,{className:r?"SubtitlesStreamMenuItem-menuItemContainer-4k-lGJ SelectedMenuItem-menuItemContainer-87szhD":void 0,stream:t,onMenuClose:a,onStreamSelect:o},i.createElement(tD.Z,{serverEntityID:e,type:"subtitles",stream:t}),t.title?i.createElement("span",{className:"SubtitlesStreamMenuItem-extendedTitle-1ypKy_"},t.title):null),l?i.createElement(i.Fragment,null,i.createElement("div",{className:"SubtitlesStreamMenuItem-deleteContainer-1Lcf_H"},i.createElement(La.Z,{className:"SubtitlesStreamMenuItem-deleteButton-2pc4ip IconButton-button-llQ1So",iconComponent:aC.Z,ariaLabel:(0,E.Z)("Delete Subtitle"),onPress:this.onDeletePress})),i.createElement(C.Z,{isConfirmButtonSpinning:n,isOpen:this.state.isConfirmDeleteModalOpen,metricsPage:d.Yp,kind:Qr.T,title:(0,E.Z)("Delete Subtitle File"),message:(0,E.Z)("Are you sure you want to delete this subtitle file?"),confirmLabel:(0,E.Z)("Delete"),onConfirm:this.onDeleteConfirm,onCancel:this.onDeleteCancel})):null)}}const lD=oD;class cD extends i.Component{constructor(e,t){super(e,t),this.onMoreSubtitlesPress=()=>{this.setState({isSubtitlesModalOpen:!0})},this.onSubtitlesModalClose=()=>{this.setState({isSubtitlesModalOpen:!1})},this.onUploadSubtitlesPress=()=>{this.setState({isSubtitlesUploadModalOpen:!0})},this.onSubtitlesUploadModalClose=()=>{this.setState({isSubtitlesUploadModalOpen:!1})},this.state={isSubtitlesModalOpen:!1,isSubtitlesUploadModalOpen:!1}}render(){const{target:e,isOpen:t,serverEntityID:n,metadataItemEntityID:r,subtitlesStreams:s,isStreamDeleteInProgress:a,canShowDeleteSubtitlesAction:o,canShowMoreSubtitlesAction:l,canShowUploadSubtitlesAction:c,onMenuClose:d,onStreamSelect:u,onStreamDelete:p}=this.props,{isSubtitlesModalOpen:m,isSubtitlesUploadModalOpen:h}=this.state,g=s.some((e=>!!e.key));return i.createElement(i.Fragment,null,i.createElement(Pn.Z,{target:e,isOpen:t,size:Gr.ln,onMenuClose:d},s.map((e=>i.createElement(lD,{key:e.id,serverEntityID:n,subtitlesStream:e,isStreamDeleteInProgress:a,hasExternalSubtitlesStreams:g,canShowDeleteSubtitlesAction:o,onMenuClose:d,onStreamSelect:u,onStreamDelete:p}))),l?i.createElement(En.Z,{onPress:this.onMoreSubtitlesPress},(0,E.Z)("Search...")):null,c?i.createElement(En.Z,{onPress:this.onUploadSubtitlesPress},(0,E.Z)("Upload...")):null),i.createElement(sD.Z,{metadataItemEntityID:r,isOpen:m,onModalClose:this.onSubtitlesModalClose}),i.createElement(aD.Z,{metadataItemEntityID:r,isOpen:h,onModalClose:this.onSubtitlesUploadModalClose}))}}const dD=cD,uD="PrePlayDetailsStreamsGroup-loadingMessage-1a0yXO";class pD extends i.Component{constructor(e,t){super(e,t),this.onAudioStreamMenuButtonPress=e=>{this.setState({isAudioStreamMenuOpen:!this.state.isAudioStreamMenuOpen})},this.onAudioStreamMenuClose=()=>{this.setState({isAudioStreamMenuOpen:!1})},this.onSubtitlesStreamMenuButtonPress=e=>{this.setState({isSubtitlesStreamMenuOpen:!this.state.isSubtitlesStreamMenuOpen})},this.onSubtitlesStreamMenuClose=()=>{this.setState({isSubtitlesStreamMenuOpen:!1})},this.state={isAudioStreamMenuOpen:!1,isSubtitlesStreamMenuOpen:!1},this._audioStreamMenuButtonID=(0,ja.Z)(),this._subtitlesStreamMenuButtonID=(0,ja.Z)()}render(){const{serverEntityID:e,metadataItemEntityID:t,mediaItem:n,isStreamDeleteInProgress:r,canShowDeleteSubtitlesAction:s,canShowMoreSubtitlesAction:a,canShowUploadSubtitlesAction:o,onAudioStreamSelect:l,onSubtitlesStreamSelect:c,onSubtitlesStreamDelete:d}=this.props,{isAudioStreamMenuOpen:u,isSubtitlesStreamMenuOpen:p}=this.state;if(!n)return i.createElement(Fw.Z,null,i.createElement(Hw.Z,{label:(0,E.Z)("Video")},i.createElement("span",{className:uD},(0,E.Z)("Loading..."))),i.createElement(Hw.Z,{label:(0,E.Z)("Audio")},i.createElement("span",{className:uD},(0,E.Z)("Loading..."))),i.createElement(Hw.Z,{label:(0,E.Z)("Subtitles")},i.createElement("span",{className:uD},(0,E.Z)("Loading..."))));const m=_m.Z.get("audio").id,h=(0,eD.Z)(n,{streamType:m}),g=(0,Xw.Z)(n),y=_m.Z.get("subtitles").id,v=(0,eD.Z)(n,{streamType:y}),f=(0,Jw.Z)(n),b=a||v.length>1,S=i.createElement(tD.Z,{serverEntityID:e,type:"audio",stream:g}),I=i.createElement(tD.Z,{serverEntityID:e,type:"subtitles",stream:f});return i.createElement(Fw.Z,null,i.createElement(Hw.Z,{label:(0,E.Z)("Video")},i.createElement(tD.Z,{serverEntityID:e,type:"video",mediaItem:n})),i.createElement(Hw.Z,{label:(0,E.Z)("Audio")},h.length>1?i.createElement(yu.Z,{id:this._audioStreamMenuButtonID,direction:u?vu.UP:vu.WV,onPress:this.onAudioStreamMenuButtonPress},S):S),i.createElement(Hw.Z,{label:(0,E.Z)("Subtitles")},b?i.createElement(yu.Z,{id:this._subtitlesStreamMenuButtonID,direction:p?vu.UP:vu.WV,onPress:this.onSubtitlesStreamMenuButtonPress},I):I),i.createElement(iD,{target:this._audioStreamMenuButtonID,isOpen:u,serverEntityID:e,audioStreams:h,onMenuClose:this.onAudioStreamMenuClose,onStreamSelect:l}),i.createElement(dD,{target:this._subtitlesStreamMenuButtonID,isOpen:p,serverEntityID:e,metadataItemEntityID:t,subtitlesStreams:v,isStreamDeleteInProgress:r,canShowDeleteSubtitlesAction:s,canShowMoreSubtitlesAction:a,canShowUploadSubtitlesAction:o,onMenuClose:this.onSubtitlesStreamMenuClose,onStreamSelect:c,onStreamDelete:d}))}}const mD=pD;var hD=Object.defineProperty,gD=Object.prototype.hasOwnProperty,yD=Object.getOwnPropertySymbols,vD=Object.prototype.propertyIsEnumerable,fD=(e,t,n)=>t in e?hD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bD=(e,t)=>{for(var n in t||(t={}))gD.call(t,n)&&fD(e,n,t[n]);if(yD)for(var n of yD(t))vD.call(t,n)&&fD(e,n,t[n]);return e};const SD={dispatchMakePrePlayVideoDecision:Kw.M,dispatchDeleteMetadataItemStream:Yw.tI,dispatchSelectMetadataItemStream:Yw.Bs};class ID extends i.Component{constructor(){super(...arguments),this.onAudioStreamSelect=e=>{this.props.dispatchSelectMetadataItemStream({metadataItemEntityID:this.props.metadataItemEntityID,streamTypeString:"audio",streamID:e,allParts:!0,metricsPage:this.props.metricsPage})},this.onSubtitlesStreamSelect=e=>{this.props.dispatchSelectMetadataItemStream({metadataItemEntityID:this.props.metadataItemEntityID,streamTypeString:"subtitles",streamID:e,allParts:!0,metricsPage:this.props.metricsPage})},this.onSubtitlesStreamDelete=e=>{this.props.dispatchDeleteMetadataItemStream({metadataItemEntityID:this.props.metadataItemEntityID,streamKey:e,metricsPage:this.props.metricsPage})}}componentDidMount(){this.props.dispatchMakePrePlayVideoDecision()}componentDidUpdate(e){e.mediaItems!==this.props.mediaItems&&e.dispatchMakePrePlayVideoDecision()}render(){const e=this.props,{metricsPage:t,dispatchMakePrePlayVideoDecision:n,dispatchSelectMetadataItemStream:r}=e,s=((e,t)=>{var n={};for(var r in e)gD.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&yD)for(var r of yD(e))t.indexOf(r)<0&&vD.call(e,r)&&(n[r]=e[r]);return n})(e,["metricsPage","dispatchMakePrePlayVideoDecision","dispatchSelectMetadataItemStream"]);return i.createElement(mD,bD(bD({},s),{onAudioStreamSelect:this.onAudioStreamSelect,onSubtitlesStreamSelect:this.onSubtitlesStreamSelect,onSubtitlesStreamDelete:this.onSubtitlesStreamDelete}))}}const ZD=(0,PS.Z)((function(){return(0,o.P1)((e=>e.ui.prePlayPage.decisionMediaItem),Bl.Z,(0,Vl.Z)(),(0,o.P1)((0,Wu.Z)(),(0,Vl.Z)(),((e,t)=>qw(e,t))),(0,o.P1)((0,Wu.Z)(),(0,Vl.Z)(),((e,t)=>$w(e,t))),((e,t,n,r,i)=>({mediaItem:e,mediaItems:n.Media,isStreamDeleteInProgress:n.isStreamDeleteInProgress,canShowDeleteSubtitlesAction:t.isFullOwnedServer,canShowMoreSubtitlesAction:r,canShowUploadSubtitlesAction:i})))}),SD)(ID);var PD=n(17393),ED=n(5789);const MD=function({className:e,duration:t,viewOffset:n}){let r;if(t&&n){const e=(t-n)/1e3;e>0&&(r=(0,Vg.Z)(e))}return i.createElement("span",{className:e},r)};function CD({className:e,separator:t}){return i.createElement("span",{className:e},t)}CD.defaultProps={className:"PrePlayDashSeparator-separator-2ajXZh",separator:"·"};const wD=CD;var DD=n(98582);const TD=function(e){const{contentRating:t}=e;return t?i.createElement(gu.Z,{className:"PrePlayContentRating-badge-1pVgMF Badge-badge-waFP_r"},(0,DD.Z)(t)):null};var OD=Object.defineProperty,xD=Object.prototype.hasOwnProperty,AD=Object.getOwnPropertySymbols,ND=Object.prototype.propertyIsEnumerable,kD=(e,t,n)=>t in e?OD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function LD(e){return i.createElement(Xs.Z,((e,t)=>{for(var n in t||(t={}))xD.call(t,n)&&kD(e,n,t[n]);if(AD)for(var n of AD(t))ND.call(t,n)&&kD(e,n,t[n]);return e})({},e))}LD.defaultProps={className:"PrePlayStatusButton-statusButton-1Yti-- Button-default-1LDuq5",size:Gr.HC};const jD=LD,RD="PrePlayRecordingStatusButton-partialButton-2IVsZi PrePlayStatusButton-statusButton-1Yti-- Button-default-1LDuq5",VD=function(e){const{mediaGrabError:t,mediaGrabPartialRecordingReason:n,onPress:r}=e;return t?i.createElement(jD,{className:"PrePlayRecordingStatusButton-failedButton-3yH-6M PrePlayStatusButton-statusButton-1Yti-- Button-default-1LDuq5",title:t,onPress:r},(0,E.Z)("Failed Recording")):n?i.createElement(Ks.Z,{tooltip:n,"aria-label":n,component:jD,className:RD,onPress:r},(0,E.Z)("Partial Recording")):i.createElement(jD,{className:RD,onPress:r},(0,E.Z)("Partial Recording"))};function UD({className:e,children:t}){return i.createElement("span",{className:e},t)}UD.defaultProps={className:"PrePlayTertiaryTitleSpacer-tertiaryTitleSpacer-3BhSOF"};const zD=UD;function BD({className:e,onPress:t}){return i.createElement(jD,{className:e,onPress:t},(0,E.Z)("Unavailable"))}BD.defaultProps={className:"PrePlayUnavailableButton-unavailableButton-2SdcZQ PrePlayStatusButton-statusButton-1Yti-- Button-default-1LDuq5"};const _D=BD;var FD=Object.defineProperty,HD=Object.prototype.hasOwnProperty,WD=Object.getOwnPropertySymbols,QD=Object.prototype.propertyIsEnumerable,GD=(e,t,n)=>t in e?FD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const YD=(0,s.$j)((function(){return(0,o.P1)((0,Vl.Z)(),(0,o.P1)((0,Vl.Z)(),((e={})=>{const t={isPartialMediaGrab:!1,mediaGrabError:null},n=e.Media;if(!n||!n.length)return t;for(let e=0;e<n.length;e++){const r=n[e],{mediaGrabPartialRecording:i,mediaGrabError:s,mediaGrabPartialRecordingReason:a}=r;i&&(t.isPartialMediaGrab=!0),s&&(t.mediaGrabError=r.mediaGrabError),a&&(t.mediaGrabPartialRecordingReason=a)}return t})),(0,o.P1)((e=>e.ui.prePlayPage),(0,Vl.Z)(),((e,t={})=>{if(e.isFileUnavailable)return!0;const n=t.Media;if(!n||!n.length)return!1;for(let e=0,t=n.length;e<t;e++){const t=n[e].Part;if(t&&t.length)for(let e=0,n=t.length;e<n;e++){const n=t[e];if(!1===n.exists||!1===n.accessible)return!0}}return!1})),((e={},t,n)=>((e,t)=>{for(var n in t||(t={}))HD.call(t,n)&&GD(e,n,t[n]);if(WD)for(var n of WD(t))QD.call(t,n)&&GD(e,n,t[n]);return e})({duration:e.duration,contentRating:e.contentRating,saved:e.saved,viewCount:e.viewCount,viewOffset:e.viewOffset,type:e.type,subtype:e.subtype,isFileUnavailable:n},t)))}),(function(e,t){return{onGetInfoPress(n){e((0,Gl.getMetadataItemInfo)({metadataItemEntityID:t.metadataItemEntityID}))}}}))((function(e){const{duration:t,saved:n,contentRating:r,viewCount:s,viewOffset:a,isFileUnavailable:o,isPartialMediaGrab:l,mediaGrabError:c,mediaGrabPartialRecordingReason:d,onGetInfoPress:u}=e,p=!s&&!a,m=!!a&&a<t,h=!!t||p||m,g=p&&(null==n||null!=n&&n);return i.createElement(ZM.Z,null,h?i.createElement(zD,null,i.createElement(ED.Z,{duration:t}),p||m?i.createElement(i.Fragment,null,t&&(g||m)?i.createElement(wD,null):null,g?(0,E.Z)("Unplayed"):null,m?i.createElement(MD,{duration:t,viewOffset:a}):null):null):null,i.createElement(TD,{contentRating:r}),o?i.createElement(_D,{onPress:u}):null,!o&&(l||c||d)?i.createElement(VD,{mediaGrabError:c,mediaGrabPartialRecordingReason:d,onPress:u}):null)}));var qD=n(42902),KD=n(19013),$D=n(11558);const XD=(0,s.$j)((function(){return(0,o.P1)((0,Vl.Z)(),((e={})=>({originallyAvailableAt:e.originallyAvailableAt})))}))((function({originallyAvailableAt:e}){return i.createElement(EM.Z,null,e?(0,E.Z)("{monthName} {day}, {year}",{monthName:(0,$D.Z)((0,qD.Z)((0,KD.Z)(e))),day:(0,kZ.Z)(e,"d"),year:(0,kZ.Z)(e,"yyyy")}):null)}));function JD(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,type:s,attributionLogo:a,summary:o,showStreams:l}=e;return i.createElement(i.Fragment,null,i.createElement(ww.Z,null,i.createElement(PM.Z,null,i.createElement(ZM.Z,null,i.createElement(Jl.Z,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),i.createElement(EM.Z,null,i.createElement(Vw,{attributionLogo:a}))),i.createElement(CM,null,i.createElement(ZM.Z,null,i.createElement(xw.Z,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),i.createElement(PD.Z,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),i.createElement(DM,null,i.createElement(YD,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),i.createElement(XD,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}))),i.createElement(Dw.Z,null),i.createElement(ww.Z,null,i.createElement(Gw,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,type:s}),l?i.createElement(ZD,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}):null,i.createElement(Tw.Z,null,o)))}JD.defaultProps={showStreams:!0};const eT=JD,tT=function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,summary:s}=e;return i.createElement(i.Fragment,null,i.createElement(ww.Z,null,i.createElement(PM.Z,null,i.createElement(ZM.Z,null,i.createElement(Jl.Z,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}))),i.createElement(CM,null,i.createElement(ZM.Z,null,i.createElement(xw.Z,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),i.createElement(PD.Z,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),i.createElement(DM,null,i.createElement(YD,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),i.createElement(XD,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}))),i.createElement(Dw.Z,null),i.createElement(ww.Z,null,i.createElement(Tw.Z,{dangerouslySetInnerHTML:{__html:s}})))},nT=function(e){const{server:t,provider:n,sourceDirectory:r,type:s,Genre:a}=e;return i.createElement(_w,{server:t,provider:n,sourceDirectory:r,fallbackFilterKey:"genre",type:s,tags:a,limit:2})},rT=(0,s.$j)((function(){return(0,o.P1)(Bl.Z,Ul.Z,(0,Uw.Z)(),(0,Vl.Z)(),((e,t,n,r={})=>({server:e,provider:t,sourceDirectory:n,Genre:r.Genre})))}))((function(e){const{server:t,provider:n,sourceDirectory:r,Genre:s}=e,a=!(!s||!s.length);return i.createElement(EM.Z,null,a?i.createElement(nT,{server:t,provider:n,sourceDirectory:r,Genre:s}):null)}));function iT(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-watchlist-badge-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M73 88.729C73 72.31 86.37 59 102.918 59h356.164C475.606 59 489 72.025 489 88.729v427.508c0 16.419-10.6 21.534-23.456 11.598L304.456 403.32c-12.954-10.014-34.057-9.937-46.912 0L96.456 527.835C83.502 537.849 73 532.94 73 516.237V88.729z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}iT.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const sT=iT,aT=function(e){const{watchlistedAt:t}=e;return t?i.createElement(gu.Z,{className:"PrePlayInWatchlist-badge-18d0mZ Badge-badge-waFP_r"},i.createElement(sT,{className:"PrePlayInWatchlist-icon-2zM09e"})," ",(0,E.Z)("In your Watchlist")):null};function oT(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,title:s,year:a,summary:o,watchlistedAt:l,attributionLogo:c,showGenres:d,showStreams:u}=e;return i.createElement(i.Fragment,null,i.createElement(ww.Z,null,i.createElement(PM.Z,null,i.createElement(ZM.Z,null,s),i.createElement(EM.Z,null,i.createElement(Vw,{attributionLogo:c}),i.createElement(aT,{watchlistedAt:l}))),i.createElement(CM,null,i.createElement(ZM.Z,null,a),i.createElement(PD.Z,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),i.createElement(DM,null,i.createElement(YD,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),d?i.createElement(rT,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}):null)),i.createElement(Dw.Z,null),i.createElement(ww.Z,null,i.createElement(Gw,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),u?i.createElement(ZD,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}):null,i.createElement(Tw.Z,null,o)))}oT.defaultProps={showGenres:!0,showStreams:!0};const lT=oT;var cT=Object.defineProperty,dT=Object.prototype.hasOwnProperty,uT=Object.getOwnPropertySymbols,pT=Object.prototype.propertyIsEnumerable,mT=(e,t,n)=>t in e?cT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const hT=(0,s.$j)((function(){return(0,o.P1)((0,Vl.Z)(),((e={})=>({type:e.type,subtype:e.subtype,title:e.title,year:e.year,summary:e.summary,attributionLogo:e.attributionLogo})))}))((function(e){const t=function(e,t){switch(t){case eh.WEBSHOW:switch(e){case _l.EPISODE:return tT}}switch(e){case _l.EPISODE:return eT;case _l.MOVIE:return lT;case _l.CLIP:return Ow}return Ow}(e.type,e.subtype);return i.createElement(t,((e,t)=>{for(var n in t||(t={}))dT.call(t,n)&&mT(e,n,t[n]);if(uT)for(var n of uT(t))pT.call(t,n)&&mT(e,n,t[n]);return e})({},e))}));var gT=n(8304),yT=n(20723);const vT=parseInt(ol.Z.postPlayPosterWidth,10),fT=parseInt(ol.Z.postPlayTitleHeight,10)+parseInt(ol.Z.postPlayAutoPlayHeight,10);class bT extends i.Component{constructor(e,t){super(e,t),this.onContentMeasure=({height:e})=>{const t=Math.min((0,ql.Cr)(vT,this.props.type,this.props.subtype,Hl.sD),e-fT),n=(0,ql.dz)(t,this.props.type,this.props.subtype,Hl.sD);this.setState({isMeasured:!0,width:n,height:t})},this.onCountdown=()=>{const e=this.state.secondsLeft-1;e<=0?this.props.onPlay():this.setState({secondsLeft:e})},this.state={isMeasured:!1,width:0,height:0,secondsLeft:10}}componentDidMount(){this.props.autoPlayEnabled&&(this._tickIntervalID=window.setInterval(this.onCountdown,1e3))}UNSAFE_componentWillReceiveProps(e){this.props.autoPlayEnabled&&!e.autoPlayEnabled&&(window.clearInterval(this._tickIntervalID),this.setState({secondsLeft:10})),!this.props.autoPlayEnabled&&e.autoPlayEnabled&&(this._tickIntervalID=window.setInterval(this.onCountdown,1e3))}componentWillUnmount(){window.clearInterval(this._tickIntervalID)}render(){const{serverEntityID:e,providerEntityID:t,type:n,posterUrl:r,autoPlayEnabled:s,onToggleAutoPlay:a,onPlay:o}=this.props,{isMeasured:l,width:c,height:d,secondsLeft:u}=this.state,p=(10-u)/9*100;return i.createElement(cf.Z,{className:"AudioVideoUpNext-container-3ramOx",onMeasure:this.onContentMeasure},i.createElement("div",{className:"AudioVideoUpNext-title-1hJ0sd"},(0,E.Z)("Playing Next")),l?i.createElement("div",{className:"AudioVideoUpNext-poster-2HPnEb",style:{width:c,height:d}},i.createElement(hc.Z,{serverEntityID:e,providerEntityID:t,type:n,width:c,height:d,url:r}),s?i.createElement("div",{className:"AudioVideoUpNext-progress-39H970"},i.createElement(NI.Z,{size:c/4,lineWidth:3,progress:p,showProgressText:!1,easing:"linear"}),i.createElement("span",{className:"AudioVideoUpNext-timeLeft-3i8yWS"},u)):null,i.createElement(uc.Z,{className:"AudioVideoUpNext-playButton-3d-4Cs PlayButton-playButton-2dFmuo",circleClassName:"AudioVideoUpNext-playCircle-3ujMNJ PlayButton-playCircle-2DYa77","aria-label":(0,E.Z)("Play Next"),onPress:o})):null,i.createElement(yT.Z,{className:s?"AudioVideoUpNext-autoPlayOn-3fTTu3 AudioVideoUpNext-autoPlay-LdzCEf":"AudioVideoUpNext-autoPlayOff-1BkAKv AudioVideoUpNext-autoPlay-LdzCEf",name:"autoPlayCheck",value:s,checkboxText:s?(0,E.Z)("Auto Play On"):(0,E.Z)("Auto Play Off"),onChange:a}))}}const ST=bT,IT=(0,s.$j)((function(){return(0,o.P1)((0,ym.Z)(),(0,Vl.Z)(),Fs.Z,((e,t={},n)=>({type:t.type,posterUrl:t.thumb,autoPlayEnabled:n.autoPlay})))}),(function(e,{playerType:t}){return{onToggleAutoPlay(){e((0,gT.mr)({playerType:t}))},onPlay(){e((0,nm.hY)({playerType:t}))}}}))(ST),ZT=(0,s.$j)((function(){return(0,o.P1)((0,ym.Z)(),sm(),sm(1),((e,t,n)=>n?{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:n.metadataItem,hubEntityIDs:t.postPlay}:{}))}))((function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,hubEntityIDs:s,playerType:a}=e;return i.createElement("div",{className:"AudioVideoPostPlay-container-qYSeny"},i.createElement("div",{className:"AudioVideoPostPlay-poster-1-DDr-"},i.createElement(IT,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,playerType:a})),i.createElement(kr.Z,{className:"AudioVideoPostPlay-details-pTqUIG",smoothScroll:!1,autoScroll:!0},i.createElement(hT,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,showStreams:!1}),i.createElement(ww.Z,null,s&&s.length>0?i.createElement(Cw,{serverEntityID:t,providerEntityID:n,hubEntityIDs:s,columnAdjustment:1}):null)))})),PT=(0,Pf.Z)(Ef.Z.defaultSpeed),ET={enter:{opacity:1,duration:PT},exit:{opacity:0,duration:PT,delay:4e3}};function MT(e){const{className:t,isToastVisible:n,isControlsVisible:r,metadataItemEntityID:s,playerType:a}=e;return r?null:i.createElement(Zf.M_,null,n?i.createElement(Zf.ww.div,{key:"toast",initial:"exit",animate:"enter",exit:"exit",variants:ET,className:t},i.createElement(ZI,{className:"AudioVideoToast-metadataContainer-2L7VCx",metadataItemEntityID:s,playerType:a})):null)}MT.defaultProps={className:"AudioVideoToast-toast-1DcGQo"};const CT=MT,wT=(0,s.$j)((function(){return(0,o.P1)((0,ym.Z)(),sm(),((e,{isControlsVisible:t})=>t),((e,t,n)=>{if(!t)return{isToastVisible:!1};const{positionSeconds:r,durationSeconds:i}=e,s=i-r,a=t.type===_l.CLIP&&t.subtype===eh.MUSIC_VIDEO;return{isToastVisible:!n&&a&&(1===r||5===s),metadataItemEntityID:t.metadataItem}}))}),(function(e,t){return{}}))(CT),DT="SubtitlesOffsetSettings-button-ajUFhx Button-button-38SEbM Link-link-CM9nxg";class TT extends i.Component{constructor(){super(...arguments),this.onDecreasePress=()=>{const{offset:e,dispatchChangeSubtitleOffset:t}=this.props;t(e-50)},this.onIncreasePress=()=>{const{offset:e,dispatchChangeSubtitleOffset:t}=this.props;t(e+50)},this.onResetPress=()=>{const{dispatchChangeSubtitleOffset:e}=this.props;e(0)}}render(){const{offset:e,bottom:t,dispatchCloseSubtitlesOffset:n,onDimensionsChange:r}=this.props;return i.createElement(Hf,{className:"SubtitlesOffsetSettings-container-25LnnO AudioVideoStripeContainer-container-2TIa2Q",bottom:t,onDimensionsChange:r},i.createElement(Lr.Z,{className:"SubtitlesOffsetSettings-closeButton-1k6WC- Link-link-CM9nxg",onPress:n},i.createElement(aC.Z,null)),i.createElement("div",{className:"SubtitlesOffsetSettings-title-2MCFQf"},(0,E.Z)("Subtitle Offset: {offset}",{offset:`${e} ms`})),i.createElement("div",{className:"SubtitlesOffsetSettings-buttonContainer-Z6cgLx"},i.createElement(Xs.Z,{className:DT,kind:Qr._8,size:Gr.HC,onPress:this.onDecreasePress},"-",50," ms"),i.createElement(Xs.Z,{className:DT,kind:Qr._8,size:Gr.HC,onPress:this.onIncreasePress},"+",50," ms"),i.createElement(Xs.Z,{className:DT,kind:Qr._8,size:Gr.HC,onPress:this.onResetPress},(0,E.Z)("Reset"))))}}TT.defaultProps={offset:0};const OT=TT,xT=(0,s.$j)((function(){return(0,o.P1)(Wm(),(e=>e.selectedSubtitlesStream))}),(function(e,t){return{dispatchChangeSubtitleOffset(n){e((0,nm.Kb)({playerType:t.playerType,subtitleOffset:n}))},dispatchCloseSubtitlesOffset(){e((0,nm.PR)({playerType:t.playerType}))}}}))(OT);var AT=n(24329);var NT=n(69713),kT=n(35406);function LT(e){return e>2560?"8K":e>1100?"4K":e>576?"HD":""}function jT(e,t){return e<=576||e>1100||!t||t<=2e3?"":t<=3e3?(0,E.Z)("Medium"):t<=4e3?(0,E.Z)("High"):t<=8e3||t<=1e4?"":t<=12e3?(0,E.Z)("Medium"):(0,E.Z)("High")}var RT=n(89318);function VT(e){const{availableQualities:t,transcodeServer:n,currentDecision:r,currentBandwidth:i,mediaItem:s,canPlayAdaptiveBitrate:a}=e;if(!s)return[];const o=[],{maxUploadBitrate:l}=n,{bitrate:c}=s,d=!l||c&&l>c,u=r&&r.canPlayOriginalQuality;return d&&u&&o.push(function(e){const t=BT(zT(e.width,e.height,e.bitrate));return{index:RT.Z.ORIGINAL,explicitQuality:!1,conversionDescriptionSummary:HT([(0,E.Z)("Original"),FT(t)]),conversionDescription:(0,E.Z)("Play Original Quality"),conversionDescriptionExtra:t}}(s)),a&&o.push(function(e,t){const n={index:RT.Z.CONVERT_AUTOMATICALLY,explicitQuality:!1,conversionDescription:(0,E.Z)("Convert Automatically")};if(e&&e.qualityIndex===RT.Z.CONVERT_AUTOMATICALLY&&t){const e=BT({bitrate:(0,NT.Z)(t.bandwidth),resolution:t.resolution});n.conversionDescriptionSummary=(0,E.Z)("Auto (Now: {bitrateWithResolution})",{bitrateWithResolution:e}),n.conversionDescriptionExtra=(0,E.Z)("Now: {bitrateWithResolution}",{bitrateWithResolution:e})}else n.conversionDescriptionSummary=(0,E.Z)("Convert Automatically");return n}(r,i)),d&&!u&&o.push(function(e){const t=zT(e.width,e.height,e.bitrate),n=_T(t),r=n?(0,E.Z)("Convert to"):(0,E.Z)("Convert");return{index:RT.Z.ORIGINAL,explicitQuality:!1,conversionDescriptionSummary:(0,E.Z)("Convert (Maximum)"),conversionDescription:HT([r,n,FT((0,E.Z)("Maximum"))]),conversionDescriptionExtra:t.bitrate}}(s)),o.push(...t.map(UT).reverse()),o}function UT(e){const t=e.videoResolution.split("x"),n=zT(t[0],t[1],e.bitrate),r=BT(n),i=_T(n);return{index:e.index,explicitQuality:!0,conversionDescriptionSummary:HT([(0,E.Z)("Convert"),FT(r)]),conversionDescription:HT([(0,E.Z)("Convert to"),i]),conversionDescriptionExtra:n.bitrate}}function zT(e,t,n){const r=function(e,t,n){if(!e&&!t)return{resolution:"",description:"",descriptionExtra:""};const r=(0,kT.Z)(e,t);return{resolution:r+"p",description:LT(r),descriptionExtra:jT(r,n)}}(e,t,n);return{bitrate:(0,NT.Z)(n),resolution:r.resolution,resolutionDescription:r.description,resolutionDescriptionExtra:FT(r.descriptionExtra)}}function BT(e){const t=HT([e.resolution,e.resolutionDescription]);return e.bitrate?HT([e.bitrate,t],", "):t}function _T(e){return HT([e.resolution,e.resolutionDescription,e.resolutionDescriptionExtra])}function FT(e){return e&&0!==e.length?"("+e+")":""}function HT(e,t=" "){return e.filter((e=>e)).join(t)}var WT=n(84616);class QT extends i.Component{constructor(){super(...arguments),this.onPress=e=>{this.props.onQualitySelect(this.props.conversionQualityIndex)}}render(){const{conversionQualityIndex:e,conversionQuality:t,isSelected:n,isHidden:r}=this.props;return i.createElement(TS.Z,{key:e,isSelected:n,isHidden:r,onPress:this.onPress},t.conversionDescription,t.conversionDescriptionExtra?i.createElement("span",{className:"AudioVideoQualityMenuItem-itemExtraDetail-1nnvTL","data-qa-id":"playbackBitrateQuality"},t.conversionDescriptionExtra):null)}}const GT=QT,YT="toggleShowAll",qT={placement:"top-start"};class KT extends i.Component{constructor(e,t){super(e,t),this.onToggleMenuPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=e=>{this.setState({isMenuOpen:!1})},this.onQualitySelect=e=>{e!==YT?(this.setState({isMenuOpen:!1}),this.props.onQualityChange(e)):this.setState({showAll:!0,qualities:this._getQualityMenuValues(this.props.availableQualities,this.props.qualityIndex,!0)})};const n=!this._canToggleShowAll(e.availableQualities);this.state={isMenuOpen:!1,showAll:n,qualities:this._getQualityMenuValues(e.availableQualities,e.qualityIndex,n)},this._menuInputButtonID=(0,ja.Z)()}UNSAFE_componentWillReceiveProps(e){const t=e.qualityIndex!==this.props.qualityIndex,n=e.availableQualities!==this.props.availableQualities;if(t||n){let t=this.state.showAll;!n||t||this._canToggleShowAll(e.availableQualities)||(t=!0),this.setState({showAll:t,qualities:this._getQualityMenuValues(e.availableQualities,e.qualityIndex,t)})}}_canToggleShowAll(e){const t=e.some((e=>!0===e.explicitQuality)),n=!!gr().findWhere(e,{index:Ym.Z.CONVERT_AUTOMATICALLY});return t&&n}_getQualityMenuValues(e,t,n){const r=e.filter((e=>n||!e.explicitQuality||e.index===t));return r.push({index:YT,conversionDescription:(0,E.Z)("Show all")}),r}render(){const e=this.props.qualityIndex,t=this.state.qualities,n=t.find((t=>t.index===e));return i.createElement(yu.Z,{id:this._menuInputButtonID,"data-qa-id":"videoQuality",size:Gr.M2,direction:this.state.isMenuOpen?vu.UP:vu.WV,onPress:this.onToggleMenuPress},n.conversionDescriptionSummary,i.createElement(Pn.Z,{className:"AudioVideoQualityMenuInput-menu-eRQQf0 Menu-menu-1qURRT",isOpen:this.state.isMenuOpen,target:this._menuInputButtonID,options:qT,onMenuClose:this.onMenuClose},t.map((t=>i.createElement(GT,{key:t.index,conversionQualityIndex:t.index,conversionQuality:t,isSelected:t.index===e,isHidden:this.state.showAll&&t.index===YT,onQualitySelect:this.onQualitySelect})))))}}const $T=KT;var XT=n(77414);const JT=(0,s.$j)((function(){return(0,o.zB)({signalStrength:(0,o.P1)((0,Bm.Z)(),(0,XT.Z)(),((e,t)=>{if(!e)return;const n=t.find((t=>t.uuid===e.activityUUID));return n?n.Context&&n.Context.signalStrength:void 0}))})}))((function(e){const{signalStrength:t}=e;return null==t?null:i.createElement(US,{label:(0,E.Z)("Antenna Signal Strength")},t,"%")}));var eO=n(79501);const tO=function(e){const{offset:t,isDisabled:n,onPress:r}=e;return i.createElement(Lr.Z,{isSelected:!n,isDisabled:n,onPress:r},t||0," ms ",i.createElement(eO.Z,{className:"SubtitlesOffsetSettingsValue-icon-hjSfpS"}))},nO="VideoSettings-extendedTitle-3xln_X",rO="more",iO="upload";class sO extends i.Component{constructor(e,t){super(e,t),this.onSubtitleStreamChange=e=>{e===rO?this.onMoreSubtitlesPress():e===iO?this.onUploadSubtitlesPress():this.props.onSubtitleStreamChange(e)},this.onMoreSubtitlesPress=()=>{this.setState({isSubtitlesModalOpen:!0})},this.onSubtitlesModalClose=()=>{this.setState({isSubtitlesModalOpen:!1})},this.onUploadSubtitlesPress=()=>{this.setState({isSubtitlesUploadModalOpen:!0})},this.onSubtitlesUploadModalClose=()=>{this.setState({isSubtitlesUploadModalOpen:!1})},this.state={isSubtitlesModalOpen:!1,isSubtitlesUploadModalOpen:!1}}render(){const{bottom:e,serverEntityID:t,metadataItemEntityID:n,playerType:r,availableQualities:s,audioDevices:a,audioStreams:o,selectedAudioStream:l,selectedAudioDevice:c,subtitlesStreams:d,selectedSubtitlesStream:u,selectedSubtitlesColor:p,selectedSubtitlesPosition:m,selectedSubtitlesSize:h,autoPlay:g,qualityIndex:y,canSetVideoQuality:v,canSetAudioStream:f,canSetSubtitleStream:b,canSetSubtitleColor:S,canSetSubtitlePosition:I,canSetSubtitleSize:Z,canSetSubtitleOffset:P,canSetAutoPlay:M,canShowMoreSubtitlesAction:C,canShowUploadSubtitlesAction:w,canShowLiveTVSignalStrength:D,onQualityChange:T,onAudioDeviceChange:O,onAudioStreamChange:x,onSubtitleColorChange:A,onSubtitlePositionChange:N,onSubtitleSizeChange:k,onAutoPlayChange:L,onSubtitleOffsetPress:j}=this.props,{isSubtitlesModalOpen:R,isSubtitlesUploadModalOpen:V}=this.state,U=b&&(C||w||d.length>1),z=U&&S,B=U&&I,_=U&&Z,F=U&&P,H=v&&!!s.length&&null!=y&&s.findIndex((e=>e.index===y))>-1,W=!!u&&u.id!==$m.H&&!(0,WT.Z)(u.codec),Q=_&&W,G=z&&W,Y=B&&W,q=F&&W&&!!u&&!!u.key;let K;return U&&(K=d.map((e=>{const n=i.createElement(i.Fragment,null,i.createElement(tD.Z,{serverEntityID:t,type:"subtitles",stream:e}),e.title?i.createElement("span",{className:nO},e.title):null);return{[e.id]:n}})),C&&K.push({[rO]:(0,E.Z)("Search...")}),w&&K.push({[iO]:(0,E.Z)("Upload...")})),i.createElement(i.Fragment,null,i.createElement(RS,{bottom:e},H?i.createElement(US,{label:(0,E.Z)("Quality")},i.createElement($T,{qualityIndex:y,availableQualities:s,onQualityChange:T})):null,i.createElement(US,{label:(0,E.Z)("Audio Stream")},f&&o.length>1?i.createElement(jS,{name:"audioStream",size:Gr.M2,value:`${l.id}`,overrideSelectedValue:i.createElement(tD.Z,{serverEntityID:t,type:"audio",stream:l}),values:o.map((e=>{const n=i.createElement(i.Fragment,null,i.createElement(tD.Z,{serverEntityID:t,type:"audio",stream:e}),e.title?i.createElement("span",{className:nO},e.title):null);return{[e.id]:n}})),onChange:x}):i.createElement(tD.Z,{serverEntityID:t,type:"audio",stream:l})),a&&a.length>1?i.createElement(US,{label:(0,E.Z)("Audio Device")},i.createElement(jS,{name:"audioDevice",size:Gr.M2,value:c.name,values:a.map((e=>({[e.name]:(0,wS.Z)(e)}))),onChange:O})):null,i.createElement(US,{label:(0,E.Z)("Subtitles")},U?i.createElement(jS,{name:"subtitleStream",size:Gr.M2,value:`${u.id}`,overrideSelectedValue:i.createElement(tD.Z,{serverEntityID:t,type:"subtitles",stream:u}),values:K,onChange:this.onSubtitleStreamChange}):i.createElement(tD.Z,{serverEntityID:t,type:"subtitles",stream:u})),z?i.createElement(US,{label:(0,E.Z)("Subtitle Color"),isDisabled:!G},i.createElement(jS,{name:"subtitleColor",size:Gr.M2,value:p,values:af.Z.settings.map((e=>({[e.value]:e.title}))),onChange:A})):null,B?i.createElement(US,{label:(0,E.Z)("Subtitle Position"),isDisabled:!Y},i.createElement(jS,{name:"subtitlePosition",size:Gr.M2,value:m,values:of.Z.settings.map((e=>({[e.value]:e.title}))),onChange:N})):null,_?i.createElement(US,{label:(0,E.Z)("Subtitle Size"),isDisabled:!Q},i.createElement(jS,{name:"subtitleSize",size:Gr.M2,value:h.toString(),values:lf.Z.settings.map((e=>({[e.value]:e.title}))),onChange:k})):null,F?i.createElement(US,{label:(0,E.Z)("Subtitles Offset"),isDisabled:!q},i.createElement(tO,{offset:u.offset,isDisabled:!q,onPress:j})):null,M?i.createElement(US,{label:(0,E.Z)("Auto Play")},i.createElement(yT.Z,{name:"autoPlay",size:Gr.HC,value:g,onChange:L})):null,D?i.createElement(JT,{serverEntityID:t,playerType:r}):null),i.createElement(sD.Z,{metadataItemEntityID:n,isOpen:R,onModalClose:this.onSubtitlesModalClose}),i.createElement(aD.Z,{metadataItemEntityID:n,isOpen:V,onModalClose:this.onSubtitlesUploadModalClose}))}}const aO=sO;var oO=Object.defineProperty,lO=Object.prototype.hasOwnProperty,cO=Object.getOwnPropertySymbols,dO=Object.prototype.propertyIsEnumerable,uO=(e,t,n)=>t in e?oO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pO=(e,t)=>{for(var n in t||(t={}))lO.call(t,n)&&uO(e,n,t[n]);if(cO)for(var n of cO(t))dO.call(t,n)&&uO(e,n,t[n]);return e};const mO={dispatchChangeQualityIndex:nm.wv,dispatchChangeStream:nm.mj,dispatchChangeSubtitleColor:nm.EZ,dispatchChangeSubtitlePosition:nm.Wj,dispatchChangeSubtitleSize:nm.YA,dispatchSelectAudioDevice:M.mb,dispatchSetAutoPlay:Um.Sp,dispatchTogglePlayerSubtitlesOffsetState:nm.PR};class hO extends i.Component{constructor(){super(...arguments),this.onQualityChange=e=>{const{playerType:t,dispatchChangeQualityIndex:n}=this.props;n({playerType:t,qualityIndex:parseInt(e,10)})},this.onAudioStreamChange=e=>{const{playerType:t,dispatchChangeStream:n}=this.props;n({playerType:t,streamTypeString:"audio",streamID:e})},this.onAudioDeviceChange=e=>{const{dispatchSelectAudioDevice:t}=this.props;t({deviceName:e})},this.onSubtitleStreamChange=e=>{const{playerType:t,dispatchChangeStream:n}=this.props;n({playerType:t,streamTypeString:"subtitles",streamID:e})},this.onSubtitleColorChange=e=>{const{playerType:t,dispatchChangeSubtitleColor:n}=this.props;n({playerType:t,subtitleColor:e})},this.onSubtitlePositionChange=e=>{const{playerType:t,dispatchChangeSubtitlePosition:n}=this.props;n({playerType:t,subtitlePosition:e})},this.onSubtitleSizeChange=e=>{const{playerType:t,dispatchChangeSubtitleSize:n}=this.props;n({playerType:t,subtitleSize:parseInt(e,10)})},this.onAutoPlayChange=e=>{const{playerType:t,dispatchSetAutoPlay:n}=this.props;n({playerType:t,autoPlay:e})},this.onSubtitleOffsetPress=()=>{const{playerType:e,dispatchTogglePlayerSubtitlesOffsetState:t}=this.props;t({playerType:e})}}render(){const e=this.props,{dispatchChangeQualityIndex:t,dispatchChangeStream:n,dispatchChangeSubtitleSize:r,dispatchSetAutoPlay:s}=e,a=((e,t)=>{var n={};for(var r in e)lO.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&cO)for(var r of cO(e))t.indexOf(r)<0&&dO.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchChangeQualityIndex","dispatchChangeStream","dispatchChangeSubtitleSize","dispatchSetAutoPlay"]);return i.createElement(aO,pO(pO({},a),{onQualityChange:this.onQualityChange,onAudioDeviceChange:this.onAudioDeviceChange,onAudioStreamChange:this.onAudioStreamChange,onSubtitleStreamChange:this.onSubtitleStreamChange,onSubtitleColorChange:this.onSubtitleColorChange,onSubtitlePositionChange:this.onSubtitlePositionChange,onSubtitleSizeChange:this.onSubtitleSizeChange,onAutoPlayChange:this.onAutoPlayChange,onSubtitleOffsetPress:this.onSubtitleOffsetPress}))}}const gO=(0,s.$j)((function(){return(0,o.P1)(((e,{isWatchTogether:t})=>t),(0,va.Z)("controllable"),(0,o.P1)((0,o.zB)({availableQualities:(0,va.Z)("availableQualities"),transcodeServer:qm(),currentDecision:am(),currentBandwidth:(0,o.P1)((0,Th.Z)(["bandwidthTimeline","positionSeconds"]),am(),((e,t)=>{const n=e.bandwidthTimeline;if(!(t&&n&&n.bandwidths&&n.transcodeSessionID&&n.transcodeSessionID===t.transcodeSessionID))return null;const r=1e3*e.positionSeconds,i=n.bandwidths.filter((e=>parseInt(e.time,10)<=r));return 0===i.length?null:gr().max(i,(e=>parseInt(e.time,10)))})),mediaItem:Fm(),canPlayAdaptiveBitrate:(0,o.P1)(oE.Z,qm(),(0,Bm.Z)(),((e,t,n)=>(0,AT.Z)()&&t.hasAdaptiveBitrate&&!e&&!n))}),VT),Wm(),qm(),(0,va.Z)("qualityIndex"),(0,va.Z)("serverEntityID"),fa(),Oh(),mm(),(0,o.P1)(da.Z,Oh(),mm(),((e,t,n)=>qw(t,n,e))),(0,o.P1)(da.Z,Oh(),mm(),((e,t,n)=>$w(t,n,e))),am(),Fs.Z,MS,CS,((e,t,n,r,i,s,a,o,l,c,d,u,p,m,h,g)=>{const y=o.protocols.includes(vm.K),v=!y&&(!(!p||!p.subtitlesUrl)||(0,Pv.Z)()),f=r.selectedSubtitlesStream;return{serverEntityID:a,metadataItemEntityID:c?c.entityID:null,availableQualities:n,audioDevices:h,audioStreams:r.audioStreams,selectedAudioStream:r.selectedAudioStream,selectedAudioDevice:g,subtitlesStreams:r.subtitlesStreams,selectedSubtitlesStream:f,selectedSubtitlesColor:m.subtitleColor,selectedSubtitlesPosition:m.subtitlePosition,selectedSubtitlesSize:m.subtitleSize,autoPlay:m.autoPlay,canSetVideoQuality:t?!!t.quality:!!i.transcoderVideo&&!i.transcoderVideoRemuxOnly,canSetAudioStream:!t||!!t.audioStream,canSetSubtitleStream:!t||!!t.subtitleStream,canSetSubtitleColor:t?!!t.subtitleColor:v,canSetSubtitlePosition:t?!!t.subtitlePosition:v,canSetSubtitleSize:t?!!t.subtitleSize:!y&&!(!f||!f.id),canSetSubtitleOffset:t?!!t.subtitleOffset:v,canSetAutoPlay:t?!!t.autoPlay:!y&&!e,canShowMoreSubtitlesAction:d,canShowUploadSubtitlesAction:u,canShowLiveTVSignalStrength:y&&!l.isCloud,qualityIndex:s}}))}),mO)(hO),yO=parseInt(ol.Z.watchTogetherLobbyPosterWidth,10),vO=parseInt(ol.Z.watchTogetherLobbyTitleHeight,10);function fO(){return{isMeasured:!1,width:0,height:0}}const bO=(0,s.$j)((function(){return(0,o.P1)((0,Vl.Z)(),((e={})=>({type:e.type,subtype:e.subtype,posterUrl:e.thumb})))}))((function(e){const{serverEntityID:t,providerEntityID:n,type:r,subtype:s,posterUrl:a}=e,[o,l]=(0,i.useState)(null),[c,d]=(0,i.useState)(fO);return(0,i.useEffect)((()=>{let e=null;if(c.isMeasured){const t=Math.min((0,ql.Cr)(yO,r,s,Hl.IN),c.height-vO);e={height:t,width:(0,ql.dz)(t,r,s,Hl.IN)}}l(e)}),[c,r,s]),i.createElement(cf.Z,{className:"WatchTogetherLobbyMetadataPoster-container-BAiD8M",onMeasure:d},i.createElement("div",{className:"WatchTogetherLobbyMetadataPoster-title-DJf6X-"},(0,E.Z)("Watch Together")),null!=o?i.createElement("div",{style:o},i.createElement(hc.Z,{serverEntityID:t,providerEntityID:n,type:r,width:o.width,height:o.height,url:a})):null)})),SO=function({adDisplayIndex:e,adDisplayTotal:t,className:n,isAdPlaying:r,isPresent:s,isReady:a,isWatching:o}){let l;return l=r?t>1?(0,E.Z)("Playing ad {index} of {total}",{index:e,total:t}):(0,E.Z)("Playing ad"):o?(0,E.Z)("Watching"):a?(0,E.Z)("Ready"):s?(0,E.Z)("Buffering..."):(0,E.Z)("Invited"),i.createElement("div",{className:n,title:l},l)},IO=function({className:e,title:t}){return i.createElement("div",{className:e,title:t},t)};var ZO=n(38170),PO=n(96270);const EO=(0,i.memo)((function(e){const{serverEntityID:t,watchTogetherRoomEntityID:n,cellWidth:r}=e,s=(0,Wf.Z)(e),a=(0,aa.Z)();return i.createElement(Lr.Z,{className:"WatchTogetherInviteParticipantCell-container-3lrCfW",style:s.style,onPress:a.onOpen},i.createElement("span",{className:"WatchTogetherInviteParticipantCell-posterCardContainer-1DxKY0 WatchTogetherParticipantCell-posterCardContainer-3S0EFr WatchTogetherParticipantCell-card-CfUlxW TagPosterCard-card-3VDS7c MetadataPosterCardFace-poster-11uR3N TagPosterCard-isPerson-ojrvVy",style:{width:r,height:r}},i.createElement(ZO.Z,{className:"WatchTogetherInviteParticipantCell-icon-1JqTgn"})),i.createElement("div",{className:"WatchTogetherInviteParticipantCell-titleContainer-1GEBTB WatchTogetherParticipantCell-titleContainer-EchPgb"},i.createElement(Eb.Z,{title:(0,E.Z)("Invite..."),component:IO,isSecondary:!1})),i.createElement(PO.Z,{serverEntityID:t,watchTogetherRoomEntityID:n,isOpen:a.isOpen,onModalClose:a.onClose}))})),MO=(0,i.memo)((function(e){const{serverEntityID:t,providerEntityID:n,titleComponents:r,listType:s,cellWidth:a,thumb:o,title:l,adDisplayIndex:c,adDisplayTotal:d,isAdPlaying:u,isWatching:p,isPresent:m,isReady:h}=e,g=(0,Wf.Z)(e);return i.createElement("div",{style:g.style},i.createElement("span",{className:"WatchTogetherParticipantCell-posterCardContainer-3S0EFr"},i.createElement(Ec.Z,{className:"WatchTogetherParticipantCell-card-CfUlxW TagPosterCard-card-3VDS7c MetadataPosterCardFace-poster-11uR3N TagPosterCard-isPerson-ojrvVy",serverEntityID:t,providerEntityID:n,imageWidth:a,imageHeight:a,imageUrl:o,tagType:s})),i.createElement("div",{className:"WatchTogetherParticipantCell-titleContainer-EchPgb"},r.map(((e,t)=>i.createElement(Eb.Z,{key:t,title:l,adDisplayIndex:c,adDisplayTotal:d,isAdPlaying:u,isWatching:p,isPresent:m,isReady:h,component:e,isSecondary:t>0})))))}));var CO=Object.defineProperty,wO=Object.prototype.hasOwnProperty,DO=Object.getOwnPropertySymbols,TO=Object.prototype.propertyIsEnumerable,OO=(e,t,n)=>t in e?CO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xO=(e,t)=>{for(var n in t||(t={}))wO.call(t,n)&&OO(e,n,t[n]);if(DO)for(var n of DO(t))TO.call(t,n)&&OO(e,n,t[n]);return e};const AO={isInviteUser:!0};function NO(e){const{className:t,serverEntityID:n,providerEntityID:r,watchTogetherRoomEntityID:s,users:a,shouldShowInviteUsers:o,listContext:l}=e,c=function(e){switch(e){case Hl.IN:return[IO,SO];default:return[]}}(Hl.IN),d="participant",u=o?[...a,AO]:a;return i.createElement(Bf.Z,{className:t,hubIdentifier:"watchTogetherParticipants",title:(0,E.Z)("Participants"),size:u.length,listType:d,listContext:l,columnAdjustment:1,keyPropName:"userKey",items:u,layout:(0,sw.Z)(d,null,l,1,c.length),cellRenderer:(p={serverEntityID:n,providerEntityID:r,watchTogetherRoomEntityID:s,titleComponents:c,listType:d},e=>{const t=e.isInviteUser?EO:MO;return i.createElement(t,xO(xO({},p),e))})});var p}NO.defaultProps={className:"WatchTogetherParticipantsHubCell-hubCell-y8WNmR HubCell-hubCell-2uIdEm"};const kO=NO;var LO=Object.defineProperty,jO=Object.prototype.hasOwnProperty,RO=Object.getOwnPropertySymbols,VO=Object.prototype.propertyIsEnumerable,UO=(e,t,n)=>t in e?LO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zO=(e,t)=>{for(var n in t||(t={}))jO.call(t,n)&&UO(e,n,t[n]);if(RO)for(var n of RO(t))VO.call(t,n)&&UO(e,n,t[n]);return e};function BO(e,t){var n,r;const i=(null==(n=e.title)?void 0:n.toLowerCase())||"",s=(null==(r=t.title)?void 0:r.toLowerCase())||"";return i&&!s?-1:!i&&s||i>s?1:i<s?-1:0}const _O=(0,o.P1)(St,It,((e,t)=>t.find((t=>{var n;return t.id===(null==(n=e.session)?void 0:n.roomID)})))),FO=(0,s.$j)((function(){return(0,o.P1)((0,va.Z)("providerEntityID"),(0,va.Z)("serverEntityID"),(0,o.P1)(YE,_O,((e,t)=>{const n=t?t.users.filter((t=>!e.users.find((e=>e.id===t.id)))):[],r=e.users.map((t=>{const n=e.users.filter((e=>e.id===t.id)).length>1,r=t.title||(0,E.Z)("Unknown");return zO(zO({},t),{title:n||!t.title?`${r} (${t.deviceName})`:r})}));return n.concat(r).sort(BO).map((e=>zO(zO({},e),{userKey:e.deviceIdentifier||e.id})))})),_O,((e,t,n,r)=>({providerEntityID:e,serverEntityID:t,shouldShowInviteUsers:!!r,watchTogetherRoomEntityID:null==r?void 0:r.entityID,users:n})))}))(kO),HO=(0,s.$j)((function(){return(0,o.P1)((0,ym.Z)(),sm(),((e,t)=>({serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:t.metadataItem})))}))((function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,playerType:s}=e;return i.createElement("div",{className:"WatchTogetherLobby-container-3XPFco"},i.createElement("div",{className:"WatchTogetherLobby-row-3MfDiX"},i.createElement("div",{className:"WatchTogetherLobby-poster-1fofrW"},i.createElement(bO,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,playerType:s})),i.createElement(kr.Z,{className:"WatchTogetherLobby-details-oOGtdf",smoothScroll:!1,autoScroll:!0},i.createElement(hT,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,showStreams:!1}))),i.createElement(FO,{className:"WatchTogetherLobby-hubCell-2bmvRx WatchTogetherParticipantsHubCell-hubCell-y8WNmR HubCell-hubCell-2uIdEm",playerType:s,listContext:Hl.IN}))})),WO=function(e){const{bottom:t,playerType:n,onDimensionsChange:r}=e;return i.createElement(Hf,{className:"WatchTogetherPlayerParticipants-container-J-JV5D AudioVideoStripeContainer-container-2TIa2Q",bottom:t,onDimensionsChange:r},i.createElement(FO,{playerType:n,listContext:Hl.r$}))};var QO=n(99038);const GO=function(e){const{serverEntityID:t,providerEntityID:n,notification:r,user:s,onRemoveToast:a}=e;return(0,i.useEffect)((()=>{const e=r.timestamp+3e3-Date.now(),t=()=>{a({uid:r.uid})};let n;return e>0?n=window.setTimeout(t,e):t(),()=>{n&&(n=window.clearTimeout(n))}}),[a,r]),i.createElement(i.Fragment,null,i.createElement("div",{className:"WatchTogetherRoomEventToastContent-posterCardContainer-2dCmjF"},i.createElement(Ec.Z,{className:"WatchTogetherRoomEventToastContent-card-q8wQoU TagPosterCard-card-3VDS7c MetadataPosterCardFace-poster-11uR3N TagPosterCard-isPerson-ojrvVy",serverEntityID:t,providerEntityID:n,imageWidth:30,imageHeight:30,imageUrl:s.thumb,tagType:"participant"})),function(e,t){const n=t.title||(0,E.Z)("Unknown");let r;switch(e){case QO.OR:r=(0,E.Z)("{openSpan}{username}{closeSpan} joined",{username:n});break;case QO.In:r=(0,E.Z)("{openSpan}{username}{closeSpan} left",{username:n});break;case QO.E7:r=(0,E.Z)("{openSpan}{username}{closeSpan} paused",{username:n});break;case QO.gk:r=(0,E.Z)("{openSpan}{username}{closeSpan} resumed",{username:n});break;case QO.tG:r=(0,E.Z)("{openSpan}{username}{closeSpan} seeked",{username:n})}return i.createElement(Qa.Z,{message:r,tags:[{open:"openSpan",close:"closeSpan",component:"span",className:"WatchTogetherRoomEventToastContent-username-5UU2xd"}]})}(r.type,s))},YO=(0,Pf.Z)(Ef.Z.slowSpeed),qO={enter:{opacity:1,duration:YO},exit:{opacity:0,duration:YO}};function KO(e){const{className:t,serverEntityID:n,providerEntityID:r,notifications:s,users:a,isControlsVisible:o,onRemoveToast:l}=e;return o?null:i.createElement("div",{className:"WatchTogetherRoomEventToasts-container-t3uoHd"},i.createElement(Zf.M_,null,s.map((e=>i.createElement(Zf.ww.div,{key:e.uid,initial:"exit",animate:"enter",exit:"exit",variants:qO,className:t},i.createElement(GO,{serverEntityID:n,providerEntityID:r,notification:e,user:a.find((t=>t.id===e.userID)),onRemoveToast:l}))))))}KO.defaultProps={className:"WatchTogetherRoomEventToasts-toast-2WC-u5"};const $O=KO,XO={onRemoveToast:mn.FV},JO=(0,s.$j)((function(){return(0,o.P1)(YE,(0,va.Z)("serverEntityID"),(0,va.Z)("providerEntityID"),((e,t,n)=>({notifications:e.notifications,providerEntityID:n,serverEntityID:t,users:e.users})))}),XO)($O),ex="AudioVideoFullPlayer-overlayButton-10b7vz Button-button-38SEbM Link-link-CM9nxg",tx=parseInt(ol.Z.playerControlsHeight,10),nx=parseInt(ol.Z.playerControlsNarrowHeight,10),rx=parseInt(ol.Z.playerInfoBarHeight,10),ix=parseInt(ol.Z.playerOverlayActionEdgeGutter,10);function sx(e,t){return e.isRemotePlayer||e.isMusic||e.isSettingsVisible||e.isChaptersVisible||e.isSubtitlesOffsetSettingsVisible||e.isWatchTogetherParticipantsVisible||e.isPlayQueueVisible||e.isPostPlayVisible||e.isAlsoAiringVisible||e.isWatchTogetherLobbyVisible||t.isControlsMenuOpen||t.isCastMenuOpen||t.disableInteractionTimer}function ax({bottom:e,children:t}){return i.createElement("div",{className:"AudioVideoFullPlayer-content-3iBzmV",style:{bottom:e}},t)}class ox extends i.Component{constructor(e,t){super(e,t),this.onInteraction=e=>{const{keyCode:t}=e;t!==il.LH&&t!==il.JH&&(sx(this.props,this.state)||(this.state.hideControls&&this.setState({hideControls:!1}),this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3)))},this.onInteractionTimeout=()=>{this.setState((({hideControlsCount:e})=>({hideControls:!0,hideControlsCount:e+1}))),this._interactionTimeoutID&&(window.clearTimeout(this._interactionTimeoutID),this._interactionTimeoutID=null)},this.onMouseLeave=e=>{this.setState({disableInteractionTimer:!1},(()=>{sx(this.props,this.state)||this.onInteractionTimeout()}))},this.onControlsMouseEnter=e=>{this.setState({disableInteractionTimer:!0})},this.onControlsMouseLeave=e=>{this.setState({disableInteractionTimer:!1})},this.onControlsMenuChange=e=>{this.setState({isControlsMenuOpen:e})},this.onCastMenuChange=e=>{this.setState({isCastMenuOpen:e})},this.onAudioSettingsDimensionsChange=({scrollHeight:e})=>{this.setState({audioSettingsHeight:e})},this.state={hideControls:!1,hideControlsCount:0,isControlsMenuOpen:!1,isCastMenuOpen:!1,disableInteractionTimer:!1}}componentDidMount(){document.addEventListener("keyup",this.onInteraction),document.addEventListener("mousemove",this.onInteraction),document.addEventListener("mousedown",this.onInteraction),document.addEventListener("touchstart",this.onInteraction),document.addEventListener("touchend",this.onInteraction),document.addEventListener("mouseleave",this.onMouseLeave),this._bodyCursorStyleAtMount=document.body.style.cursor,sx(this.props,this.state)||this._startInteractionTimer()}UNSAFE_componentWillReceiveProps(e){sx(e,this.state)&&this.state.hideControls&&this.setState({hideControls:!1}),Zv(e.marker)!==Zv(this.props.marker)&&this.setState({hideControlsCount:0}),this.props.isFullscreen!==e.isFullscreen&&this.state.disableInteractionTimer&&this.setState({disableInteractionTimer:!1})}componentDidUpdate(e,t){sx(e,t)&&!sx(this.props,this.state)&&this._startInteractionTimer(),!sx(e,t)&&sx(this.props,this.state)&&this._stopInteractionTimer(),this.state.hideControls!==t.hideControls&&(document.body.style.cursor=this.state.hideControls?"none":this._bodyCursorStyleAtMount)}componentWillUnmount(){document.removeEventListener("keyup",this.onInteraction),document.removeEventListener("mousemove",this.onInteraction),document.removeEventListener("mousedown",this.onInteraction),document.removeEventListener("touchstart",this.onInteraction),document.removeEventListener("touchend",this.onInteraction),document.removeEventListener("mouseleave",this.onMouseLeave),document.body.style.cursor=this._bodyCursorStyleAtMount,this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}_startInteractionTimer(){this._stopInteractionTimer(),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3)}_stopInteractionTimer(){this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}render(){const{playerType:e,hasFullscreen:t,isRemotePlayer:n,isPlayQueueLoading:r,isMediaLoading:s,isPostPlayLoading:a,isBuffering:o,isFullscreen:l,isSettingsVisible:c,isChaptersVisible:d,isSubtitlesOffsetSettingsVisible:u,isWatchTogetherParticipantsVisible:p,isPlayQueueVisible:m,isAlsoAiringVisible:h,isLyricsVisible:g,isPostPlayVisible:y,isWatchTogetherLobbyVisible:v,isAdVisible:f,isVideo:b,isMusic:S,isNarrowLayout:I,hasLiveTVProtocol:Z,hasGridFeature:P,hasMediaOverlays:M,isWatchTogether:C,seekStartMilliseconds:w,seekEndMilliseconds:D,bufferStartMilliseconds:T,bufferEndMilliseconds:O,adPositionMilliseconds:x,adDurationMilliseconds:A,ad:N,marker:k,onEnterFullscreenPress:L,onExitFullscreenPress:j,onToggleFullscreen:R,onSeekBarInteractionStart:V,onSeekBarInteractionEnd:U}=this.props,{hideControls:z,hideControlsCount:B,audioSettingsHeight:_}=this.state,F=(r||a||b&&!f&&(s||o))&&!y&&!h&&!v,H=!r&&c&&!d&&!m&&!h,W=H&&S,Q=H&&b,G=!r&&!c&&d&&!m&&!h,Y=!r&&m&&!h&&!c&&!d,q=!r&&!m&&h&&!c&&!d,K=b&&!r&&!a&&!m&&!h&&!y&&!v,$=!(0,Pv.Z)()&&K&&!f&&!s,X=v||(!f||m)&&(n||S||s||m||h||a||y),J=I?nx:tx,ee=v||!Z&&!f?J:J+rx,te=z?null:`translateY(${-ee}px)`,ne=!(!N||!N.click),re=!(!N||!N.clicksThrough),ie={bottom:`${ee+ix}px`,right:`${ix}px`};return i.createElement(i.Fragment,null,M&&K&&!f?i.createElement(Yv,{playerType:e}):null,X?i.createElement(fM,{playerType:e,isVideo:b,isMusic:S,allowBlur:S||m||h||y||v}):null,m||h||!F?null:i.createElement("div",{className:"AudioVideoFullPlayer-spinnerContainer-34eml_"},i.createElement(si.Z,{size:Gr.ln})),$?i.createElement(If,{playerType:e,heightOffset:z?0:ee}):null,!K||f&&re?null:i.createElement(IS,{playerType:e,isCursorHidden:z,onToggleFullscreen:R}),f&&ne&&!v?i.createElement(Xs.Z,{className:ex,size:Gr.ln,style:ie,onPress:N.click},(0,E.Z)("Learn more")):null,K&&!f?i.createElement(zf,{marker:k,className:ex,size:Gr.ln,style:ie,playerType:e,isHidden:z&&B>1,isHiddenPolite:z}):null,r?null:i.createElement("div",{className:rl()("AudioVideoFullPlayer-topBar-2Inl38 AudioVideoFullPlayer-bar-3p25sH",z&&"AudioVideoFullPlayer-topBarHidden-SbJJ5o",b&&"AudioVideoFullPlayer-videoTopBar-LTn8L6",m&&"AudioVideoFullPlayer-playQueueTopBar-1OocNw"),onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},i.createElement(vS,{playerType:e,isFullscreen:l,hasFullscreen:t,onCastMenuChange:this.onCastMenuChange,onEnterFullscreenPress:L,onExitFullscreenPress:j})),r||m||g||!S?null:i.createElement(ax,{bottom:ee},i.createElement(yM,{playerType:e,bottom:W?_:null})),!r&&!m&&g&&S?i.createElement(ax,{bottom:ee},i.createElement(qM,{playerType:e})):null,W?i.createElement(FS,{playerType:e,bottom:ee,onDimensionsChange:this.onAudioSettingsDimensionsChange}):null,Q?i.createElement(gO,{bottom:ee,playerType:e,isWatchTogether:C}):null,u?i.createElement(xT,{bottom:ee,playerType:e}):null,p?i.createElement(WO,{bottom:ee,playerType:e}):null,G?i.createElement(gb,{bottom:ee,playerType:e}):null,Y?i.createElement(ax,{bottom:ee},i.createElement(YC,{playerType:e,isVideo:b,isMusic:S})):null,q?i.createElement(ax,{bottom:ee},i.createElement($b,{playerType:e,isVideo:b,isMusic:S,hasLiveTVProtocol:Z,hasGridFeature:P})):null,r||!y||m||h?null:i.createElement(ax,{bottom:ee},i.createElement(ZT,{playerType:e})),!r&&v?i.createElement(ax,{bottom:ee},i.createElement(HO,{playerType:e})):null,i.createElement(wT,{isControlsVisible:!z,playerType:e}),C&&!v?i.createElement(JO,{isControlsVisible:!z,playerType:e}):null,r?null:i.createElement("div",{className:rl()("AudioVideoFullPlayer-bottomBar-2iVScg AudioVideoFullPlayer-bar-3p25sH",z&&"AudioVideoFullPlayer-bottomBarHidden-19uV_c"),style:{bottom:-ee,height:ee,WebkitTransform:te,msTransform:te,transform:te},onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},i.createElement(cM,{playerType:e,isVideo:b,isMusic:S,isAdVisible:f,isPostPlayVisible:y,isWatchTogetherLobbyVisible:v,isWatchTogether:C,hasLiveTVProtocol:Z,seekStartMilliseconds:w,bufferStartMilliseconds:T,bufferEndMilliseconds:O,seekEndMilliseconds:D,adPositionMilliseconds:x,adDurationMilliseconds:A,onControlsMenuChange:this.onControlsMenuChange,onSeekBarInteractionStart:V,onSeekBarInteractionEnd:U})))}}const lx=ox,cx=function(e){const{className:t,children:n,isPlayQueueLoading:r}=e;return i.createElement("div",{className:rl()(t,r&&"MiniPlayerContainer-playQueueIsLoading-1zdi-w")},r?i.createElement(si.Z,null):n)};var dx=Object.defineProperty,ux=Object.prototype.hasOwnProperty,px=Object.getOwnPropertySymbols,mx=Object.prototype.propertyIsEnumerable,hx=(e,t,n)=>t in e?dx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const gx=function(e){return i.createElement(cx,{isPlayQueueLoading:e.isPlayQueueLoading},i.createElement(cM,((e,t)=>{for(var n in t||(t={}))ux.call(t,n)&&hx(e,n,t[n]);if(px)for(var n of px(t))mx.call(t,n)&&hx(e,n,t[n]);return e})({},e)))};var yx=Object.defineProperty,vx=Object.prototype.hasOwnProperty,fx=Object.getOwnPropertySymbols,bx=Object.prototype.propertyIsEnumerable,Sx=(e,t,n)=>t in e?yx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ix=(e,t)=>{for(var n in t||(t={}))vx.call(t,n)&&Sx(e,n,t[n]);if(fx)for(var n of fx(t))bx.call(t,n)&&Sx(e,n,t[n]);return e};var Zx=Object.defineProperty,Px=Object.prototype.hasOwnProperty,Ex=Object.getOwnPropertySymbols,Mx=Object.prototype.propertyIsEnumerable,Cx=(e,t,n)=>t in e?Zx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wx=(e,t)=>{for(var n in t||(t={}))Px.call(t,n)&&Cx(e,n,t[n]);if(Ex)for(var n of Ex(t))Mx.call(t,n)&&Cx(e,n,t[n]);return e};const Dx=(0,s.$j)((function(){return(0,o.P1)(((e,{isMiniPlayer:t})=>t),(0,ym.Z)(),am(),sm(),fa(),(0,o.P1)((0,To.Z)((0,o.P1)((0,o.P1)(cm(),(e=>{var t;return null!=(t=null==e?void 0:e.Marker)?t:[]})),(0,Vs.Z)(_e.Z5),(0,Vs.Z)(_e._t),((e,t,n)=>e.filter((e=>t&&e.type===om||n&&e.type===lm)))),(e=>e)),(0,va.Z)("positionSeconds"),((e,t)=>{const n=1e3*t;return e.find((e=>e.startTimeOffset<=n&&e.endTimeOffset>n))})),(0,o.P1)(cm(),Ue.Z,Ma.Z,((e,t,n)=>{let r,i;if(e){const s=n[e.serverEntityID],a=t[e.providerEntityID];r=null==s?void 0:s.machineIdentifier,i=null==a?void 0:a.identifier}return{machineIdentifier:r,providerIdentifier:i}})),gm(),(0,o.P1)(_s.Z,um,sm(),((e,t,n)=>{const r=null==n?void 0:n.vast;if(r)return r.internal?xa.Z.join(r.url,{"X-Plex-Token":e.authToken,debug:t===dm.Z.VAST?1:void 0}):r.url})),((e,t,n,r,i,s,a,o,l)=>{var c;let d;if(r){const e=(0,_l.getMetadataType)(r.type);d=e&&e.mediaType}const u=d===fm.j0,p=d===fm.pX,{machineIdentifier:m,providerIdentifier:h}=a;return{marker:s,isMusic:u,isVideo:p,isPlayQueueLoading:t.isPlayQueueLoading,isMediaLoading:t.isMediaLoading,isPostPlayLoading:t.isPostPlayLoading,isBuffering:t.isBuffering,isWatchTogether:t.isWatchTogether,isSettingsVisible:t.isSettingsVisible,isChaptersVisible:t.isChaptersVisible,isSubtitlesOffsetSettingsVisible:t.isSubtitlesOffsetSettingsVisible,isWatchTogetherParticipantsVisible:t.isWatchTogetherParticipantsVisible,isPlayQueueVisible:t.isPlayQueueVisible,isAlsoAiringVisible:t.isAlsoAiringVisible,isLyricsVisible:t.isLyricsVisible,isPostPlayVisible:t.isPostPlayVisible,isWatchTogetherLobbyVisible:t.isWatchTogetherLobbyVisible,hasError:t.hasError,hasConflicts:t.hasConflicts,hasMediaOverlays:!!(null==(c=null==o?void 0:o.Overlay)?void 0:c.length),confirmLiveTVPlayback:t.confirmLiveTVPlayback,hasGridFeature:!!i&&i.features.some((e=>e.type===Xo.HR)),hasLiveTVProtocol:!!i&&i.protocols.includes(vm.K),showBackgroundVideoPlayer:!(!l&&!n||e),currentMediaType:d,confirmPlaybackPayload:t.confirmPlaybackPayload,confirmOffsetPayload:t.confirmOffsetPayload,advertisingNoticePayload:t.advertisingNoticePayload,confirmRemoteToLocal:t.confirmRemoteToLocal,confirmLocalToRemote:t.confirmLocalToRemote,adState:t.adState,adPositionSeconds:t.adPositionSeconds,adDurationSeconds:t.adDurationSeconds,adDisplayIndex:t.adDisplayIndex,adDisplayTotal:t.adDisplayTotal,vastUrl:l,bufferedRanges:t.bufferedRanges,machineIdentifier:m,providerIdentifier:h}}))}),(function(e,t){const{playerType:n}=t;return{onUpdateBufferedRanges(t){e(nm.qo({playerType:n,bufferedRanges:t}))},onUpdateCurrentAd(t){e(w.Yd(wx(wx({},t),{playerType:n})))}}}))((function(e){return i.createElement(Iv,Ix(Ix({},e),{playerType:u.Se,mediaComponent:e.isMusic?wh:av,playerComponent:e.isMiniPlayer?gx:lx}))}));Dx.propTypes=wx(wx({},Dx.propTypes),{isMiniPlayer:Va().bool,playerType:Va().string.isRequired});const Tx=Dx;var Ox=Object.defineProperty,xx=Object.prototype.hasOwnProperty,Ax=Object.getOwnPropertySymbols,Nx=Object.prototype.propertyIsEnumerable,kx=(e,t,n)=>t in e?Ox(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lx=(e,t)=>{for(var n in t||(t={}))xx.call(t,n)&&kx(e,n,t[n]);if(Ax)for(var n of Ax(t))Nx.call(t,n)&&kx(e,n,t[n]);return e};const jx={dispatchRestorePlayQueue:Um.dP,dispatchEndPlayback:w.Mh,dispatchUpdatePlayerError:nm.IE};class Rx extends i.Component{constructor(){super(...arguments),this.onEnterFullscreen=()=>{(0,P.DB)("fullscreenManager").enter()},this.onExitFullscreen=()=>{(0,P.DB)("fullscreenManager").exit()},this.onToggleFullscreen=()=>{this.props.isFullscreen?this.onExitFullscreen():this.onEnterFullscreen()}}componentDidMount(){this._restorePlayQueue(),this.props.isServerlessPlayer&&this.props.dispatchEndPlayback({playerType:this.props.playerType})}componentWillUnmount(){this.props.isOpen&&this.props.dispatchEndPlayback({playerType:this.props.playerType,isForced:!0})}componentDidUpdate(e){const{dispatchEndPlayback:t,isFullscreen:n,isMiniPlayer:r,isOpen:i,isServerlessPlayer:s,playerType:a}=this.props;this._restorePlayQueue(),s&&!e.isServerlessPlayer&&t({playerType:a});const o=(0,P.DB)("fullscreenManager"),l=!i&&e.isOpen,c=r&&!e.isMiniPlayer;n&&(l||c)&&o.shouldExitOnPlayerClose&&this.onExitFullscreen()}componentDidCatch(e,t){Sr.Z.error(e),this.props.dispatchEndPlayback({playerType:this.props.playerType}),this.props.dispatchUpdatePlayerError({playerType:this.props.playerType,errorMessage:(0,E.Z)("There was an unexpected error during playback. Please visit our forums if you continue to experience problems.")})}_restorePlayQueue(){const{playerType:e,isOpen:t,restorePlayQueuePayload:n,dispatchRestorePlayQueue:r}=this.props;(0,a.LX)(Yr.Z.location.pathname,{path:V.Z.watchNow,exact:!0})||t||!n||e===(0,u.f_)(n.playQueueType)&&r(n)}render(){const e=this.props,{component:t,isServerlessPlayer:n,restorePlayQueuePayload:r,dispatchRestorePlayQueue:s,dispatchEndPlayback:a,dispatchUpdatePlayerError:o}=e,l=((e,t)=>{var n={};for(var r in e)xx.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ax)for(var r of Ax(e))t.indexOf(r)<0&&Nx.call(e,r)&&(n[r]=e[r]);return n})(e,["component","isServerlessPlayer","restorePlayQueuePayload","dispatchRestorePlayQueue","dispatchEndPlayback","dispatchUpdatePlayerError"]);return n?null:i.createElement(t,Lx(Lx({},l),{onEnterFullscreenPress:this.onEnterFullscreen,onExitFullscreenPress:this.onExitFullscreen,onToggleFullscreen:this.onToggleFullscreen}))}}const Vx=(0,s.$j)((function(){return(0,o.P1)(oE.Z,(e=>e.isFullscreen),(0,ym.Z)(),Oh(),fa(),(0,o.P1)((e=>e.user.id),(0,P.DB)("selectRestorePlayQueue"),Ue.Z,Ma.Z,((e,t,n,r)=>{let i;t&&t[e]&&(i=t[e]);const s=i&&n[i.providerEntityID],a=i&&r[i.serverEntityID];if(i&&i.playQueueID&&a&&a.isConnected&&s&&s.isPopulated)return i})),((e,t,n,r,i,s)=>{const{confirmPlayerUpsellPayload:a,isOpen:o,openState:l}=n;return{confirmPlayerUpsellPayload:a,isOpen:o,isServerlessPlayer:o&&(!r||!i),isMiniPlayer:l===Rm.y,isRemotePlayer:e,isFullscreen:t,hasFullscreen:(0,P.DB)("fullscreenManager").hasFullscreen,restorePlayQueuePayload:s}}))}),jx)(Rx);var Ux=n(757),zx=n(50316),Bx=n(72181),_x=Object.defineProperty,Fx=Object.prototype.hasOwnProperty,Hx=Object.getOwnPropertySymbols,Wx=Object.prototype.propertyIsEnumerable,Qx=(e,t,n)=>t in e?_x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gx=(e,t)=>{for(var n in t||(t={}))Fx.call(t,n)&&Qx(e,n,t[n]);if(Hx)for(var n of Hx(t))Wx.call(t,n)&&Qx(e,n,t[n]);return e};function Yx(e){return(0,o.P1)((0,Vl.Z)(),zx.Z,Ux.Z,$o.Z,((t,n,r,i)=>e({server:n,provider:r,stableUser:i,metadataItem:t})))}const qx=(0,s.$j)((function(){return(0,o.P1)(sm(),Yx(Bx.J5),Yx(Bx.y7),Yx(Bx.QF),((e,{isVideo:t})=>t),((e,t,n,r,i)=>e?{playQueueItemEntityID:e.entityID,showEditButton:t,showFavoriteButton:n,showMenuButton:!0,showShuffleButton:!0,showUnfavoriteButton:r,showVolume:i}:{}))}))(TP);qx.propTypes=Gx(Gx({},qx.propTypes),{providerEntityID:Va().string.isRequired,metadataItemEntityID:Va().string.isRequired,serverEntityID:Va().string.isRequired,playerType:Va().string.isRequired});const Kx=qx;var $x=Object.defineProperty,Xx=Object.prototype.hasOwnProperty,Jx=Object.getOwnPropertySymbols,eA=Object.prototype.propertyIsEnumerable,tA=(e,t,n)=>t in e?$x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const nA=function(e){const t=e,{playerType:n,bufferStartMilliseconds:r,bufferEndMilliseconds:s,positionMilliseconds:a}=t,o=((e,t)=>{var n={};for(var r in e)Xx.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Jx)for(var r of Jx(e))t.indexOf(r)<0&&eA.call(e,r)&&(n[r]=e[r]);return n})(t,["playerType","bufferStartMilliseconds","bufferEndMilliseconds","positionMilliseconds"]);return i.createElement(WS,null,i.createElement(GS,null,i.createElement(JP,{playerType:n,bufferStartMilliseconds:r,bufferEndMilliseconds:s,positionMilliseconds:a,showBuffer:!0}),i.createElement(nI,((e,t)=>{for(var n in t||(t={}))Xx.call(t,n)&&tA(e,n,t[n]);if(Jx)for(var n of Jx(t))eA.call(t,n)&&tA(e,n,t[n]);return e})({component:Kx,playerType:n},o))))},rA=(0,s.$j)((function(){return(0,o.P1)((0,ym.Z)(),sm(),In.Z,((e,t={},n)=>{const r=t.metadataItem,{serverEntityID:i,providerEntityID:s,type:a,Media:[o]}=n[r],l=a===_l.CLIP,c=o&&o.Part&&o.Part[0],d=c&&c.key;return{serverEntityID:i,providerEntityID:s,imageUrl:l?null:d}}))}))(vM),iA=function(e){const{items:t,currentItem:n,size:r,firstIndex:s,renderSlide:a,width:o,height:l}=e;if(!t||!t.length)return null;const c=t.indexOf(n),d=gr().range(Math.max(0,c-1),Math.min(r,c+1+1));return i.createElement("div",{className:"Carousel-magazine-1xPZBb"},d.map((e=>{const n=c===e,r=e+s,d=t[e],u={position:"absolute",width:o,height:l,transform:`translate3d(${(e-c)*o}px, 0, 0)`};return i.createElement("div",{key:r,className:n?"Carousel-currentSlide-3rGyNj Carousel-slide-2icJhk":"Carousel-slide-2icJhk",style:u},d?a(d):null)})))};var sA=n(43108);const aA={width:"100%",height:"100%"};class oA extends i.Component{constructor(){super(),this.onLoad=()=>{this.setState({loading:!1})},this.onError=()=>{this.setState({error:!0})},this.state={loading:!0,error:!1}}render(){const{serverEntityID:e,providerEntityID:t,url:n,maxWidth:r,maxHeight:s}=this.props,{width:a,height:o}=function(e,t,n=2073600){const r=e*t,i=n/Math.pow((0,sA.Z)(),2),s=Math.sqrt(Math.max(r/i,1));return{width:Math.round(e/s),height:Math.round(t/s)}}(r,s),{loading:l,error:c}=this.state;return i.createElement("div",{className:"SlideImg-slideContainer-bYujk0"},i.createElement("div",{className:"SlideImg-statusContainer-2e76Ga fadeIn-fadeIn-1nUxg7"},l&&!c?i.createElement(si.Z,null):null,c?i.createElement("div",null,(0,E.Z)("Unable to load photo")):null),i.createElement(H.Z,{key:n,serverEntityID:e,providerEntityID:t,url:n,width:a,height:o,containerStyle:aA,backgroundSize:"contain",component:_.Z,onLoad:this.onLoad,onError:this.onError}))}}const lA=oA;var cA=Object.defineProperty,dA=Object.prototype.hasOwnProperty,uA=Object.getOwnPropertySymbols,pA=Object.prototype.propertyIsEnumerable,mA=(e,t,n)=>t in e?cA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const hA=(0,s.$j)((function(){return(0,o.P1)((0,Vl.Z)(),(0,o.P1)((0,Vl.Z)(),(e=>{if(!e||!e.Media)return{};const{type:t,thumb:n,Media:[r]}=e,i="clip"===t,s=r&&r.Part&&r.Part[0],a=s&&s.key;return i||!a?n:a})),((e,t)=>{if(!t||!Object.keys(t).length)return{isLoading:!0};const{serverEntityID:n,providerEntityID:r}=e;return{serverEntityID:n,providerEntityID:r,isLoading:!1,url:t}}))}))((function(e){return e.isLoading?i.createElement(si.Z,null):i.createElement(lA,((e,t)=>{for(var n in t||(t={}))dA.call(t,n)&&mA(e,n,t[n]);if(uA)for(var n of uA(t))pA.call(t,n)&&mA(e,n,t[n]);return e})({},e))}));var gA=Object.defineProperty,yA=Object.prototype.hasOwnProperty,vA=Object.getOwnPropertySymbols,fA=Object.prototype.propertyIsEnumerable,bA=(e,t,n)=>t in e?gA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const SA=(0,s.$j)((function(){return(0,o.P1)(iC(),(e=>({playQueueItem:e})))}))((function(e){const{playQueueItem:t}=e;return t&&t.type===_l.PHOTO?i.createElement(hA,((e,t)=>{for(var n in t||(t={}))yA.call(t,n)&&bA(e,n,t[n]);if(vA)for(var n of vA(t))fA.call(t,n)&&bA(e,n,t[n]);return e})({metadataItemEntityID:t.metadataItem},e)):null}));class IA extends i.Component{constructor(){super(...arguments),this.renderSlide=e=>{const{playQueueItemEntityID:t,width:n,height:r}=this.props,s=t===e;return i.createElement(SA,{playQueueItemEntityID:e,isCurrent:s,maxWidth:n,maxHeight:r})}}render(){const{playQueueItemEntityIDs:e,playQueueItemEntityID:t,size:n,firstIndex:r,errorMessage:s,width:a,height:o}=this.props;return i.createElement("div",{className:"PhotoCarousel-carousel-1STv6F"},s?i.createElement("div",{className:"PhotoCarousel-message-2JefCi"},i.createElement("span",null,s)):null,a&&o&&e&&!s?i.createElement(iA,{items:e,currentItem:t,size:n,firstIndex:r,width:a,height:o,renderSlide:this.renderSlide}):null)}}const ZA=IA;var PA=n(86795),EA=n(12589);function MA(e){const{hideOverlays:t,canSkipPrevious:n,canSkipNext:r,hasFullscreen:s,isFullscreen:a,isPhoto:o,onPlayNextItem:l,onPlayPreviousItem:c,onCastMenuChange:d,onEnterFullscreenPress:p,onExitFullscreenPress:m,onToggleFullscreen:h}=e;return i.createElement("div",{className:t?"PhotoFullPlayerOverlays-hideOverlays-2cCDRv":void 0},o?null:i.createElement(IS,{className:"PhotoFullPlayerOverlays-playButton-4xtBvb",playerType:u.pV,isFullscreen:a,onEnterFullscreenPress:p,onExitFullscreenPress:m,onToggleFullscreen:h}),i.createElement("div",{className:"PhotoFullPlayerOverlays-topBar-2x6xvw"},i.createElement(vS,{playerType:u.pV,isFullscreen:a,hasFullscreen:s,onCastMenuChange:d,onEnterFullscreenPress:p,onExitFullscreenPress:m})),i.createElement(La.Z,{className:"PhotoFullPlayerOverlays-leftButton-sfaS-J PhotoFullPlayerOverlays-button-1tQEMn",iconComponent:EA.Z,title:(0,E.Z)("Previous Photo"),isDisabled:!n,onPress:c}),i.createElement(La.Z,{className:"PhotoFullPlayerOverlays-rightButton-1mzPsq PhotoFullPlayerOverlays-button-1tQEMn",iconComponent:PA.Z,title:(0,E.Z)("Next Photo"),isDisabled:!r,onPress:l}))}MA.defaultProps={hideOverlays:!1};const CA=MA;var wA=n(25043),DA=n(72369);function TA(e){var t=e["aria-label"],n=e.className,r=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-camera-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"m0 116.61c0-15.307 12.07-27.717 26.949-27.717h95.55l64.35-81.71c3.123-3.965 9.675-7.18 14.634-7.18h157.04c4.959 0 11.512 3.216 14.634 7.18l64.35 81.71h95.55c14.884 0 26.949 12.412 26.949 27.717v335.68c0 15.307-12.06 27.717-26.945 27.717h-506.11c-14.881 0-26.945-12.413-26.945-27.717v-335.68m142.82 11.393h-102.82v36 276h480v-276-36h-102.81l-69.69-87.998h-135.16l-69.25 87.43-.261.566",transform:"translate(0 40)"}].concat([])),i.createElement.apply(i,["path",{d:"m280 385.2c66.27 0 120-53.726 120-120 0-66.27-53.726-120-120-120-66.27 0-120 53.726-120 120 0 66.27 53.726 120 120 120m-80-120c0-44.18 35.817-80 80-80 44.18 0 80 35.817 80 80 0 44.18-35.817 80-80 80-44.18 0-80-35.817-80-80",transform:"translate(0 40)"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}TA.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const OA=TA;var xA=n(92645);function AA(e){var t=e["aria-label"],n=e.className,r=e.style,s={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-tag-auto-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"m287.75.983c-28.03 2.775-53.66 11.968-70.36 28.646-.014.014-201.52 201.63-201.52 201.63-19.19 19.2-19.18 50.3-.007 69.48l145.92 145.99c14.328 14.336 35.21 17.958 52.735 11.06l-170.85-170.94c-20.817-20.828.024-41.68.024-41.68 27.762-27.819 244.06-244.19 244.06-244.19",transform:"translate(1 50)"}].concat([])),i.createElement.apply(i,["path",{d:"m559.45 149.47l-.27-83.68c.237-16.899-5.994-33.8-18.799-46.612-12.806-12.813-29.697-19.05-46.48-18.7l-81.41-.293c-38.15-1.625-75.78 7.347-97.84 29.371-.014.014-201.52 201.63-201.52 201.63-19.19 19.2-19.18 50.3-.007 69.48l145.92 145.99c19.233 19.243 50.27 19.18 69.45-.007l201.48-201.59c21.605-21.658 30.65-58.23 29.482-95.6m-63.51-117.95c8.434-.788 17.14 2.048 23.599 8.509 6.438 6.441 9.275 15.12 8.511 23.534l-.136 109.96c-.777 20.799-8.03 39.93-22.269 54.18-.707.707-1.426 1.398-2.157 2.071-.424.482-.866.954-1.326 1.414l-187.55 187.65c-11.515 11.522-30.19 11.519-41.627.074l-132.12-132.19c-11.475-11.481-11.506-30.06.074-41.649l187.55-187.65c.458-.459.928-.899 1.408-1.321.674-.733 1.366-1.455 2.075-2.164 15.795-15.803 37.594-23 61.13-22.19l102.84-.222",transform:"translate(1 50)"}].concat([])),i.createElement.apply(i,["path",{d:"m435.92 172.81c-27.13 0-49.12-22-49.12-49.15 0-27.14 21.993-49.15 49.12-49.15 27.13 0 49.12 22 49.12 49.15 0 27.14-21.993 49.15-49.12 49.15",transform:"translate(1 50)"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}AA.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const NA=AA,kA=function(e){return i.createElement(H.Z,{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,url:e.url,width:110,height:110,component:_.Z})},LA=function(e){const{serverEntityID:t,providerEntityID:n,summary:r,totalSize:s,url:a,icon:o,onPress:l}=e;return i.createElement("div",{className:"PhotoHub-hub-1pAYOM","data-qa-id":"relatedPhotoItem"},i.createElement(Lr.Z,{onPress:l},i.createElement("div",{className:"PhotoHub-container-mlhS86"},i.createElement("div",{className:"PhotoHub-overlay-1UhpOf"},i.createElement("div",{className:"PhotoHub-title-3O4mM8","data-qa-id":"relatedPhotoName"},r),i.createElement("div",{className:"PhotoHub-count-4-UpA-","data-qa-id":"relatedPhotoCount"},o?i.createElement(H.Z,{className:"PhotoHub-icon-26e56A",serverEntityID:t,providerEntityID:n,url:o,width:14,height:14}):i.createElement(NA,null),i.createElement("span",null," ",s))),i.createElement("div",{className:"PhotoHub-body-NI6ETL"},i.createElement(kA,{serverEntityID:t,url:a})))))};var jA=Object.defineProperty,RA=Object.prototype.hasOwnProperty,VA=Object.getOwnPropertySymbols,UA=Object.prototype.propertyIsEnumerable,zA=(e,t,n)=>t in e?jA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class BA extends i.Component{constructor(){super(...arguments),this.onPress=()=>{window.location.href=this.props.hubLink,this.props.endPlayback({playerType:u.pV})}}render(){return i.createElement(LA,((e,t)=>{for(var n in t||(t={}))RA.call(t,n)&&zA(e,n,t[n]);if(VA)for(var n of VA(t))UA.call(t,n)&&zA(e,n,t[n]);return e})({onPress:this.onPress},this.props))}}const _A=(0,s.$j)((function(){return(0,o.P1)(((e,{librarySectionKey:t})=>t),(0,Wu.Z)(),(0,JC.Z)(),(0,xA.Z)(),$C(),((e,t,n,r,i)=>({hubLink:(0,iw.Z)(t,n,{key:i.key,title:i.title}),summary:i.summary,totalSize:i.totalSize,url:i.thumb,icon:i.icon})))}),{endPlayback:w.Mh})(BA),FA=function(e){const{serverEntityID:t,providerEntityID:n,librarySectionKey:r,hubEntityIDs:s}=e;return s&&s.length?i.createElement("div",{className:"PhotoHubList-container-a_W61T","data-qa-id":"relatedPhotosContainer"},i.createElement("div",{className:"PhotoHubList-title-nSrgt2"},(0,E.Z)("Related Photos")),i.createElement("div",{className:"PhotoHubList-list-FdxNWX"},s.map((e=>i.createElement(_A,{key:e,serverEntityID:t,providerEntityID:n,librarySectionKey:r,hubEntityID:e}))))):i.createElement("div",null)};var HA=n(57576);var WA=Object.defineProperty,QA=Object.prototype.hasOwnProperty,GA=Object.getOwnPropertySymbols,YA=Object.prototype.propertyIsEnumerable,qA=(e,t,n)=>t in e?WA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KA=(e,t)=>{for(var n in t||(t={}))QA.call(t,n)&&qA(e,n,t[n]);if(GA)for(var n of GA(t))YA.call(t,n)&&qA(e,n,t[n]);return e};const $A=function(e){const{className:t,latitude:n,longitude:r}=e,[s,a]=(0,i.useState)(!0),[o,l]=(0,i.useState)(!1),c=(0,i.useCallback)((()=>a(!1)),[]),d=(0,i.useCallback)((()=>l(!0)),[]),u=`https://www.google.com/maps/search/?api=1&query=${n},${r}`,p={key:"59a999cb8f28fb0a54eb",center:`${n},${r}`,markers:`size:small|color:orange|{${n},${r}`},m=(0,sA.Z)();return i.createElement("div",{className:t},i.createElement(cf.Z,{className:"PhotoMap-map-3LreyH"},(({width:e,height:t})=>i.createElement(i.Fragment,null,i.createElement("div",{className:"PhotoMap-underlay-OqcVJY"},s?i.createElement(si.Z,null):null,o?i.createElement("span",{className:"PhotoMap-error-34r8Cw"},(0,E.Z)("Unable to load map.")):null),i.createElement(Lr.Z,{to:u,target:"_blank","aria-label":(0,E.Z)("Open map in new window")},i.createElement(HA.Z,{width:e,height:t,src:xa.Z.join("https://maps.locationiq.com/v2/staticmap",KA(KA({},p),{size:`${e*m}x${t*m}`})),component:_.Z,onLoad:c,onError:d}))))))},XA="PhotoInformation-line-2TbGmY",JA=function(e){const{className:t,serverEntityID:n,providerEntityID:r,librarySectionKey:s,hubEntityIDs:a,type:o,model:l,width:c,height:d,container:u,iso:p,aperture:m,exposure:h,size:g,hasGeolocation:y,latitude:v,longitude:f}=e;return i.createElement("div",{className:rl()(t,"PhotoInformation-photoInformation-34DQBU")},i.createElement(kr.Z,{className:"PhotoInformation-scroller-17U82y Scroller-vertical-3IY07c",autoScroll:!0},i.createElement("div",{className:"PhotoInformation-exif-NI0DLA"},i.createElement("div",{className:XA},l?i.createElement("div",null,l):i.createElement("div",null,"clip"===o?(0,E.Z)("Video"):(0,E.Z)("Photo")),i.createElement(OA,null)),i.createElement("div",{className:XA},c&&d?i.createElement("div",null,c," × ",d):null,g?i.createElement("div",null,(0,DA.Z)(g)):null,u?i.createElement("div",{className:"PhotoInformation-format-29hexN"},u):null),p?i.createElement("div",{className:XA},i.createElement("div",null,(0,E.Z)("ISO")," ",p),i.createElement("div",null,m),i.createElement("div",null,h)):null),i.createElement(FA,{serverEntityID:n,providerEntityID:r,librarySectionKey:s,hubEntityIDs:a})),y?i.createElement($A,{className:"PhotoInformation-map-2cbO9p",latitude:v,longitude:f}):null)};var eN=Object.defineProperty,tN=Object.prototype.hasOwnProperty,nN=Object.getOwnPropertySymbols,rN=Object.prototype.propertyIsEnumerable,iN=(e,t,n)=>t in e?eN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const sN={dispatchFetchRelatedPhotos:wA.GY};class aN extends i.Component{componentDidMount(){this.props.dispatchFetchRelatedPhotos()}componentDidUpdate(e){e.metadataItemEntityID!==this.props.metadataItemEntityID&&this.props.dispatchFetchRelatedPhotos()}render(){const e=this.props,{dispatchFetchRelatedPhotos:t}=e,n=((e,t)=>{var n={};for(var r in e)tN.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&nN)for(var r of nN(e))t.indexOf(r)<0&&rN.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchFetchRelatedPhotos"]);return i.createElement(JA,((e,t)=>{for(var n in t||(t={}))tN.call(t,n)&&iN(e,n,t[n]);if(nN)for(var n of nN(t))rN.call(t,n)&&iN(e,n,t[n]);return e})({},n))}}const oN=(0,s.$j)((function(){return(0,o.P1)((0,ym.Z)(),mm(),((e,t)=>{const{Media:n=[],Geolocation:r={},type:i}=t,s=r.Coordinates,a={serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,librarySectionKey:t.librarySectionKey,metadataItemEntityID:t.entityID,hubEntityIDs:e.relatedHubs||[],type:i,hasGeolocation:!!s};if(s&&(a.latitude=parseFloat(s.latitude),a.longitude=parseFloat(s.longitude)),n.length){const e=n[0],t=e.Part;a.size=t&&t[0].size,a.aperture=e.aperture,a.exposure=e.exposure,a.iso=e.iso,a.model=e.model,a.width=e.width,a.height=e.height,a.container=e.container}return a}))}),sN)(aN),lN={width:"100%",height:"100%",top:0,position:"absolute",zIndex:0};class cN extends i.Component{constructor(){super(...arguments),this.onPlayPress=()=>{this.props.onPlayPress&&this.props.onPlayPress(this.props.index)}}render(){const{className:e,serverEntityID:t,providerEntityID:n,url:r,dimension:s,onPlayPress:a}=this.props;return r?i.createElement(Lr.Z,{className:e,isDisabled:!a,onPress:this.onPlayPress},i.createElement(H.Z,{serverEntityID:t,providerEntityID:n,url:r,width:s,height:s,style:lN,component:_.Z})):null}}const dN=cN,uN=(0,s.$j)((function(){return(0,o.P1)((0,o.P1)((0,Vl.Z)(),(e=>{if(!e)return{};const{serverEntityID:t,providerEntityID:n,entityID:r,type:i,thumb:s}=e;return{serverEntityID:t,providerEntityID:n,entityID:r,url:s,isVideo:"clip"===i}})),(({serverEntityID:e,providerEntityID:t,url:n})=>({serverEntityID:e,providerEntityID:t,url:n})))}))(dN),pN=(0,s.$j)((function(){return(0,o.P1)(iC(),(e=>({metadataItemEntityID:e.metadataItem})))}))(uN);class mN extends i.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e,height:t})=>{this.setState({isMeasured:!0,width:e,height:t})},this.state={isMeasured:!1,width:null,height:null}}render(){const{className:e,playQueueItemEntityIDs:t,playQueueItemEntityID:n,firstIndex:r,size:s,onPhotoPress:a}=this.props,{isMeasured:o,width:l,height:c}=this.state,d=t.indexOf(n)+r;let u=[],p=[],m=0;if(o){m=Math.ceil(c);const e=Math.ceil(l/m),t=function({index:e,length:t,renderableWindow:n=t,cellPadding:r=0,cellWidth:i,width:s}){const a=t*i+(t-1)*r;let o=e*(i+r)-(s/2-i/2);a>s&&(o=Math.min(Math.max(o,0),a-s));const l=[],c=Math.max(0,e-n),d=Math.min(t-1,e+n);for(let e=c;e<=d;e++)l[e]=e*(i+r)-o;return{renderStartIndex:c,renderEndIndex:d,positions:l}}({index:d,renderableWindow:e,length:s,cellPadding:2,cellWidth:m,width:l});p=gr().range(t.renderStartIndex,t.renderEndIndex+1),u=t.positions}return i.createElement("div",{className:rl()(e,"PhotoStrip-strip-3zu8Nq"),"data-qa-id":"photoStripContainer"},i.createElement(cf.Z,{className:"PhotoStrip-thumbs-1UW4dY",onMeasure:this.onMeasure},o?p.map((e=>{const n=u[e],s=d===e,o=t[e-r],l={position:"absolute",width:m,height:m,transform:`translate3d(${n}px, 0, 0)`};return i.createElement("div",{key:e,className:"PhotoStrip-cell-21GDlB",style:l},i.createElement("div",{className:rl()("PhotoStrip-thumbContainer-1pkpNn",s&&"PhotoStrip-isSelected-1v0FNB"),"data-qa-id":"photoStripItem"},o?i.createElement(pN,{className:"PhotoStrip-thumb-SJ5E5A",playQueueItemEntityID:o,dimension:m-4,index:e-r,onPlayPress:a}):null))})):null))}}const hN=mN,gN=parseInt(ol.Z.playerControlsHeight,10),yN=parseInt(ol.Z.playerControlsNarrowHeight,10);class vN extends i.Component{constructor(e,t){super(e,t),this.onPhotoStripTogglePress=e=>{this.setState({isPhotoStripOpen:!this.state.isPhotoStripOpen})},this.onPhotoInformationTogglePress=e=>{this.setState({isInformationOpen:!this.state.isInformationOpen})},this.onInteraction=e=>{this.setState({hadRecentInteraction:!0}),this._startInteractionTimer()},this.onInteractionTimeout=()=>{this.setState({hadRecentInteraction:!1}),this._stopInteractionTimer()},this.onContentMeasure=e=>{this.props.onPlaybackDimensionsChange(e)},this.onControlsMenuChange=e=>{this.setState({isControlsMenuOpen:e})},this.onCastMenuChange=e=>{this.setState({isCastMenuOpen:e})},this.onControlsMouseEnter=e=>{this.setState({disableInteractionTimer:!0})},this.onControlsMouseLeave=e=>{this.setState({disableInteractionTimer:!1})},this.state={disableInteractionTimer:!1,isPhotoStripOpen:!1,isInformationOpen:!1,isControlsMenuOpen:!1,isCastMenuOpen:!1,hadRecentInteraction:!1}}componentDidMount(){this._startInteractionTimer()}componentDidUpdate(e,t){const{disableInteractionTimer:n}=this.state,{disableInteractionTimer:r}=t,i=!r&&n;r&&!n?this._startInteractionTimer():i&&this._stopInteractionTimer()}componentWillUnmount(){this._stopInteractionTimer()}_startInteractionTimer(){this.state.disableInteractionTimer||(this._stopInteractionTimer(),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3))}_stopInteractionTimer(){this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}render(){const{isPhotoStripOpen:e,isInformationOpen:t,hadRecentInteraction:n}=this.state,{playQueueItemEntityIDs:r,playQueueItemEntityID:s,isPlayQueueLoading:a,isVideo:o,isPhoto:l,size:c,firstIndex:d,width:u,height:p,canSkipPrevious:m,canSkipNext:h,errorMessage:g,positionMilliseconds:y,bufferStartMilliseconds:v,bufferEndMilliseconds:f,hasFullscreen:b,isFullscreen:S,isMediaLoading:I,isBuffering:Z,isNarrowLayout:P,playerType:E,onExitFullscreenPress:M,onEnterFullscreenPress:C,onToggleFullscreen:w,onPlayNextItem:D,onPlayPreviousItem:T,onPlayItem:O}=this.props,{isControlsMenuOpen:x,isCastMenuOpen:A}=this.state,N=e||t,k=!(N||n||x||A),L=!n&&!A,j=N,R=!l&&(I||Z),V=P?yN:gN,U=k?null:`translateY(${-V}px)`;return i.createElement("div",{"data-qa-id":"photoPlayerContainer",className:rl()("PhotoFullPlayer-fullPlayer-2eTGU_",k&&"PhotoFullPlayer-hideControls-2F2BWH",j&&"PhotoFullPlayer-dockControls-1_HPn-"),onMouseMove:this.onInteraction,onMouseDown:this.onInteraction,onTouchStart:this.onInteraction,onTouchEnd:this.onInteraction},l?i.createElement(rA,{playerType:E,playQueueItemEntityID:s}):null,i.createElement("div",{className:"PhotoFullPlayer-player-2-a_IV"},i.createElement("div",{className:"PhotoFullPlayer-main-f3RfFs"},i.createElement(cf.Z,{className:"PhotoFullPlayer-content-vkTaYa",onMeasure:this.onContentMeasure},R?i.createElement("div",{className:"PhotoFullPlayer-spinner-3bU32L"},i.createElement(si.Z,{size:Gr.ln})):null,i.createElement(ZA,{playQueueItemEntityIDs:r,playQueueItemEntityID:s,firstIndex:d,size:c,errorMessage:g,width:u,height:p}),a?null:i.createElement(CA,{hideOverlays:L,isPhoto:l,isFullscreen:S,hasFullscreen:b,canSkipNext:h,canSkipPrevious:m,onPlayNextItem:D,onPlayPreviousItem:T,onCastMenuChange:this.onCastMenuChange,onEnterFullscreenPress:C,onExitFullscreenPress:M,onToggleFullscreen:w})),e?i.createElement(hN,{className:"PhotoFullPlayer-mainFooter-38ghhx",playQueueItemEntityIDs:r,playQueueItemEntityID:s,firstIndex:d,size:c,onPhotoPress:O}):null),t?i.createElement(oN,{className:"PhotoFullPlayer-aside-3hNVbR",playerType:E}):null),a?null:i.createElement("div",{className:"PhotoFullPlayer-bottomBar-22s1-H PhotoFullPlayer-bar-3i1tmh",style:{bottom:-V,height:V,WebkitTransform:U,msTransform:U,transform:U},onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},i.createElement(nA,{playerType:E,isVideo:o,isPhoto:l,positionMilliseconds:y,bufferStartMilliseconds:v,bufferEndMilliseconds:f,activatePhotoInformationButton:t,activatePhotoStripButton:e,showPhotoInformationButton:!0,showPhotoStripButton:!0,onPhotoInformationPress:this.onPhotoInformationTogglePress,onPhotoStripPress:this.onPhotoStripTogglePress,onControlsMenuChange:this.onControlsMenuChange})))}}const fN=vN;var bN=Object.defineProperty,SN=Object.prototype.hasOwnProperty,IN=Object.getOwnPropertySymbols,ZN=Object.prototype.propertyIsEnumerable,PN=(e,t,n)=>t in e?bN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const EN=function(e){return i.createElement(cx,{isPlayQueueLoading:e.isPlayQueueLoading},i.createElement(nA,((e,t)=>{for(var n in t||(t={}))SN.call(t,n)&&PN(e,n,t[n]);if(IN)for(var n of IN(t))ZN.call(t,n)&&PN(e,n,t[n]);return e})({},e)))};var MN=Object.defineProperty,CN=Object.prototype.hasOwnProperty,wN=Object.getOwnPropertySymbols,DN=Object.prototype.propertyIsEnumerable,TN=(e,t,n)=>t in e?MN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ON=(e,t)=>{for(var n in t||(t={}))CN.call(t,n)&&TN(e,n,t[n]);if(wN)for(var n of wN(t))DN.call(t,n)&&TN(e,n,t[n]);return e};function xN(e){return!!e.playQueueItemEntityID&&!e.isPaused&&!e.isRemotePlayer&&e.isPhoto}class AN extends i.Component{constructor(e,t){super(e,t),this.onSlideShowAdvance=()=>{this.props.onPlayNextItem({autoPlay:!0})},this.onPlaybackDimensionsChange=({width:e,height:t})=>{this.setState({mediaWidth:e,mediaHeight:t})},this.state={mediaHeight:0,mediaWidth:0}}componentDidMount(){xN(this.props)&&this._startSlideshow()}componentDidUpdate(e){const t=xN(e),n=xN(this.props),r=n!==t,i=this.props.playQueueItemEntityID!==e.playQueueItemEntityID;(r||i)&&(n?e.isPaused?this.props.onPlayNextItem({autoPlay:!0}):this._startSlideshow():this._stopSlideshow())}componentWillUnmount(){this._stopSlideshow(),this._playerTimer=window.clearTimeout(this._playerTimer)}_startSlideshow(){this._stopSlideshow(),this._slideshowTimer=window.setTimeout(this.onSlideShowAdvance,5e3)}_stopSlideshow(){this._slideshowTimer&&(this._slideshowTimer=window.clearTimeout(this._slideshowTimer))}render(){const{isMiniPlayer:e,isRemotePlayer:t}=this.props,{mediaWidth:n,mediaHeight:r}=this.state;return i.createElement(Iv,ON(ON({},this.props),{playerType:u.pV,mediaWidth:n,mediaHeight:r,isRemotePlayer:t,isPostPlayVisible:!1,hasConflicts:!1,mediaComponent:av,playerComponent:e?EN:fN,onPlaybackDimensionsChange:this.onPlaybackDimensionsChange}))}}const NN=AN;var kN=Object.defineProperty,LN=Object.prototype.hasOwnProperty,jN=Object.getOwnPropertySymbols,RN=Object.prototype.propertyIsEnumerable,VN=(e,t,n)=>t in e?kN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UN=(e,t)=>{for(var n in t||(t={}))LN.call(t,n)&&VN(e,n,t[n]);if(jN)for(var n of jN(t))RN.call(t,n)&&VN(e,n,t[n]);return e};const zN=(0,s.$j)((function(){return(0,o.P1)(((e,{isMiniPlayer:t})=>t),(0,ym.Z)(),am(),sm(),((e,t,n,r)=>{const i={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,confirmPlaybackPayload:t.confirmPlaybackPayload,confirmOffsetPayload:t.confirmOffsetPayload,confirmRemoteToLocal:t.confirmRemoteToLocal,confirmLocalToRemote:t.confirmLocalToRemote,isPlayQueueLoading:t.isPlayQueueLoading,isMediaLoading:t.isMediaLoading,isPaused:t.isPaused,isBuffering:t.isBuffering,hasError:t.hasError,errorMessage:t.errorMessage,showBackgroundVideoPlayer:!!n&&!e},s=t.playQueue;if(s&&r){const e=s.currentIndex;i.playQueueItemEntityIDs=s.playQueueItems,i.playQueueItemEntityID=r.entityID,i.canSkipPrevious=e>0,i.canSkipNext=e<s.playQueueItems.length-1,i.size=s.length,i.firstIndex=s.playQueueSelectedItemOffset-e,i.currentMediaType=(0,_l.getMetadataType)(r.type).mediaType,i.currentMediaSubtype=r.subtype}return i.isVideo=i.currentMediaType===fm.pX,i.isPhoto=i.currentMediaType===fm.pV,i}))}),(function(e,t){const{playerType:n}=t;return{onPlayPreviousItem(){e(Um.oA({playerType:n}))},onPlayNextItem(t={}){e(Um.o1({playerType:n,autoPlay:t.autoPlay}))},onPlayItem(t){e(Um.gP({playerType:n,index:t}))},onTogglePlayPause(){e(nm.ID({playerType:n}))}}}))(NN);zN.propTypes=UN(UN({},zN.propTypes),{playerType:Va().string.isRequired});const BN=zN;var _N=n(49560),FN=Object.defineProperty,HN=Object.prototype.hasOwnProperty,WN=Object.getOwnPropertySymbols,QN=Object.prototype.propertyIsEnumerable,GN=(e,t,n)=>t in e?FN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YN=(e,t)=>{for(var n in t||(t={}))HN.call(t,n)&&GN(e,n,t[n]);if(WN)for(var n of WN(t))QN.call(t,n)&&GN(e,n,t[n]);return e};const qN=function(e){return i.createElement(Sh,YN(YN({},e),{type:"rom"}))};var KN=Object.defineProperty,$N=Object.prototype.hasOwnProperty,XN=Object.getOwnPropertySymbols,JN=Object.prototype.propertyIsEnumerable,ek=(e,t,n)=>t in e?KN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tk=(e,t)=>{for(var n in t||(t={}))$N.call(t,n)&&ek(e,n,t[n]);if(XN)for(var n of XN(t))JN.call(t,n)&&ek(e,n,t[n]);return e};const nk=function(e){return i.createElement(TP,tk(tk({},e),{showRepeatButton:!1,showNextButton:!1,showPreviousButton:!1,showSettingsButton:!0}))};function rk(e){const{isGame:t,isMiniPlayer:n,playerType:r,onControlsMenuChange:s}=e;return i.createElement(WS,null,i.createElement(GS,null,i.createElement(nI,{component:nk,playerType:r,isGame:t,isMiniPlayer:n,onControlsMenuChange:s})))}rk.defaultProps={isMiniPlayer:!1};const ik=rk,sk=(0,s.$j)((function(){return(0,o.P1)((0,va.Z)("serverEntityID"),(0,va.Z)("startMetadataItemEntityID"),sm(),In.Z,((e,t,n={},r)=>{const i=r[t||n.metadataItem];let s;return i&&(s=i.grandparentArt||i.art),{serverEntityID:e,imageUrl:s}}))}))(vM);var ak=n(8824),ok=n(63676);const lk=/^[^()]+/,ck=[!1,!1,!1,!1],dk=function({bottom:e,gameInputDevices:t}){const n=(0,i.useRef)(ck),[r,s]=(0,i.useState)(null);return(0,i.useEffect)((()=>{const e=(0,ok.Z)(((e,r)=>{const i=t.findIndex((e=>e.type===_N.MT.Keyboard));-1!==i&&(n.current[i]=r,s(Date.now()))})),r=(0,ak.Z)(((e,r,i)=>{const a=t.findIndex((t=>t.index===e.index));-1!==a&&(n.current[a]=Array.from(r.changed).some((e=>r.values.get(e)))||Array.from(i.changed).some((e=>i.values.get(e))),s(e.timestamp))}));return n.current=[ck],()=>{e(),r()}}),[t]),i.createElement(RS,{bottom:e,title:(0,E.Z)("Gameplay Settings")},t.map(((e,r)=>{const{type:s}=e;let a;return a=s===_N.MT.Gamepad?function(e,t){var n;const{id:r}=e,i=(null==(n=r.match(lk))?void 0:n[0].trim())||r,s=t.filter((e=>e.id===r));return s.length>1?`${i} (${s.indexOf(e)+1})`:i}(e,t):s===_N.MT.Keyboard?(0,E.Z)("Keyboard"):(0,E.Z)("None"),i.createElement(US,{key:r,className:n.current[r]?"RomSettings-rowPressed-1rhtyg RomSettings-row-3aslFN AudioVideoSettingsRow-row-17UbJZ":"RomSettings-row-3aslFN AudioVideoSettingsRow-row-17UbJZ",label:(0,E.Z)("Player {index}",{index:r+1})},a)})))},uk=parseInt(ol.Z.playerControlsHeight,10),pk=parseInt(ol.Z.playerControlsNarrowHeight,10);function mk(e,t){return e.isSettingsVisible||t.isCastMenuOpen||t.disableInteractionTimer}class hk extends i.Component{constructor(e,t){super(e,t),this.onInteraction=e=>{const{keyCode:t}=e;t!==il.LH&&t!==il.JH&&(t!==il.hY?mk(this.props,this.state)||(this.state.hideControls&&this.setState({hideControls:!1}),this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3)):this.state.hideControls||this.onInteractionTimeout())},this.onInteractionTimeout=()=>{this.setState((({hideControlsCount:e})=>({hideControls:!0,hideControlsCount:e+1}))),this._interactionTimeoutID&&(window.clearTimeout(this._interactionTimeoutID),this._interactionTimeoutID=null)},this.onMouseLeave=e=>{this.setState({disableInteractionTimer:!1},(()=>{mk(this.props,this.state)||this.onInteractionTimeout()}))},this.onControlsMouseEnter=e=>{this.setState({disableInteractionTimer:!0})},this.onControlsMouseLeave=e=>{this.setState({disableInteractionTimer:!1})},this.onControlsMenuChange=e=>{this.setState({isControlsMenuOpen:e})},this.onCastMenuChange=e=>{this.setState({isCastMenuOpen:e})},this.state={hideControls:!1,hideControlsCount:0,isControlsMenuOpen:!1,isCastMenuOpen:!1,disableInteractionTimer:!1}}componentDidMount(){document.addEventListener("keyup",this.onInteraction),document.addEventListener("mousemove",this.onInteraction),document.addEventListener("mousedown",this.onInteraction),document.addEventListener("touchstart",this.onInteraction),document.addEventListener("touchend",this.onInteraction),document.addEventListener("mouseleave",this.onMouseLeave),this._bodyCursorStyleAtMount=document.body.style.cursor,mk(this.props,this.state)||this._startInteractionTimer()}UNSAFE_componentWillReceiveProps(e){mk(e,this.state)&&this.state.hideControls&&this.setState({hideControls:!1}),this.props.isFullscreen!==e.isFullscreen&&this.state.disableInteractionTimer&&this.setState({disableInteractionTimer:!1})}componentDidUpdate(e,t){mk(e,t)&&!mk(this.props,this.state)&&this._startInteractionTimer(),!mk(e,t)&&mk(this.props,this.state)&&this._stopInteractionTimer(),this.state.hideControls!==t.hideControls&&(document.body.style.cursor=this.state.hideControls?"none":this._bodyCursorStyleAtMount)}componentWillUnmount(){document.removeEventListener("keyup",this.onInteraction),document.removeEventListener("mousemove",this.onInteraction),document.removeEventListener("mousedown",this.onInteraction),document.removeEventListener("touchstart",this.onInteraction),document.removeEventListener("touchend",this.onInteraction),document.removeEventListener("mouseleave",this.onMouseLeave),document.body.style.cursor=this._bodyCursorStyleAtMount,this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}_startInteractionTimer(){this._stopInteractionTimer(),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3)}_stopInteractionTimer(){this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}render(){const{playerType:e,gameInputDevices:t,hasFullscreen:n,isGame:r,isPlayQueueLoading:s,isMediaLoading:a,isFullscreen:o,isNarrowLayout:l,isSettingsVisible:c,onEnterFullscreenPress:d,onExitFullscreenPress:u,onToggleFullscreen:p}=this.props,{hideControls:m}=this.state,h=s||a,g=s||a,y=l?pk:uk,v=m?null:`translateY(${-y}px)`;return i.createElement(i.Fragment,null,g?i.createElement(sk,{playerType:e,allowBlur:!1}):null,h?i.createElement("div",{className:"RomFullPlayer-spinnerContainer-2P4n-6"},i.createElement(si.Z,{size:Gr.ln})):null,i.createElement(IS,{playerType:e,isCursorHidden:m,onToggleFullscreen:p}),c?i.createElement(dk,{gameInputDevices:t,playerType:e,bottom:y}):null,s?null:i.createElement("div",{className:rl()("RomFullPlayer-topBar-2FDJXY RomFullPlayer-bar-1TUtAf",m&&"RomFullPlayer-topBarHidden-UHsD_d"),onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},i.createElement(vS,{playerType:e,isFullscreen:o,hasFullscreen:n,onCastMenuChange:this.onCastMenuChange,onEnterFullscreenPress:d,onExitFullscreenPress:u})),s?null:i.createElement("div",{className:rl()("RomFullPlayer-bottomBar-3h3vmy RomFullPlayer-bar-1TUtAf",m&&"RomFullPlayer-bottomBarHidden-1DJO4P"),style:{bottom:-y,height:y,WebkitTransform:v,msTransform:v,transform:v},onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},i.createElement(ik,{isGame:r,playerType:e,onControlsMenuChange:this.onControlsMenuChange})))}}const gk=hk;var yk=Object.defineProperty,vk=Object.prototype.hasOwnProperty,fk=Object.getOwnPropertySymbols,bk=Object.prototype.propertyIsEnumerable,Sk=(e,t,n)=>t in e?yk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Ik=function(e){return i.createElement(cx,{isPlayQueueLoading:e.isPlayQueueLoading},i.createElement(ik,((e,t)=>{for(var n in t||(t={}))vk.call(t,n)&&Sk(e,n,t[n]);if(fk)for(var n of fk(t))bk.call(t,n)&&Sk(e,n,t[n]);return e})({},e)))};var Zk=Object.defineProperty,Pk=Object.prototype.hasOwnProperty,Ek=Object.getOwnPropertySymbols,Mk=Object.prototype.propertyIsEnumerable,Ck=(e,t,n)=>t in e?Zk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wk=(e,t)=>{for(var n in t||(t={}))Pk.call(t,n)&&Ck(e,n,t[n]);if(Ek)for(var n of Ek(t))Mk.call(t,n)&&Ck(e,n,t[n]);return e};const Dk={type:_N.MT.Keyboard},Tk={type:_N.MT.None},Ok=[Dk,Tk,Tk,Tk];var xk=Object.defineProperty,Ak=Object.prototype.hasOwnProperty,Nk=Object.getOwnPropertySymbols,kk=Object.prototype.propertyIsEnumerable,Lk=(e,t,n)=>t in e?xk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jk=(e,t)=>{for(var n in t||(t={}))Ak.call(t,n)&&Lk(e,n,t[n]);if(Nk)for(var n of Nk(t))kk.call(t,n)&&Lk(e,n,t[n]);return e};const Rk=(0,s.$j)((function(){return(0,o.P1)(sm(),(0,o.P1)(cm(),(e=>{var t,n;return null==(n=null==(t=null==e?void 0:e.Platform)?void 0:t[0])?void 0:n.tag})),(0,Th.Z)(["isMediaLoading","isPlayQueueLoading","paused","url","confirmRemoteToLocal","confirmLocalToRemote","confirmOffsetPayload","hasError","hasConflicts","isPostPlayVisible","isSettingsVisible"]),((e,t,n)=>{var r;const i=n,{paused:s,isSettingsVisible:a}=i,o=((e,t)=>{var n={};for(var r in e)Ak.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Nk)for(var r of Nk(e))t.indexOf(r)<0&&kk.call(e,r)&&(n[r]=e[r]);return n})(i,["paused","isSettingsVisible"]);let l;return e&&(l=null==(r=(0,_l.getMetadataType)(e.type))?void 0:r.mediaType),jk(jk({},o),{currentMediaType:l,gamePlatformTag:t,gamePreventDefault:s||a,isSettingsVisible:a,showBackgroundVideoPlayer:!1})}))}))((function(e){const[t,n]=(0,i.useState)(Ok);return(0,i.useEffect)((()=>function(e){if(!p.Z.hasGamepads)return()=>{};function t(){const e=[];for(const t of window.navigator.getGamepads())(null==t?void 0:t.connected)&&e.push(t);return e}function n(n){e(t(),n.gamepad)}window.addEventListener("gamepadconnected",n,!0),window.addEventListener("gamepaddisconnected",n,!0);const r=window.requestAnimationFrame((()=>{const n=t();n.length&&e(n)}));return()=>{window.cancelAnimationFrame(r),window.removeEventListener("gamepadconnected",n,!0),window.removeEventListener("gamepaddisconnected",n,!0)}}((e=>{const t=e.map((e=>({type:_N.MT.Gamepad,id:e.id,index:e.index,mapping:e.mapping})));if(t.length<4){t.push(Dk);for(let e=t.length;e<4;e++)t.push(Tk)}n(t)}))),[]),i.createElement(Iv,wk(wk({},e),{gameInputDevices:t,mediaComponent:qN,playerComponent:e.isMiniPlayer?Ik:gk}))}));Rk.propTypes=jk(jk({},Rk.propTypes),{isOpen:Va().bool,playerType:Va().oneOf([u.eD]).isRequired});const Vk=Rk;var Uk=n(74816),zk=n(46202),Bk=n(59701);const _k=(0,o.P1)(c.Z,(e=>e.isResourcesPopulated)),Fk=(0,o.P1)(c.Z,(e=>e.hasFailedResources)),Hk=(0,o.P1)(_k,Fk,(0,Bk.Z)("isProvidersPopulated"),(0,Bk.Z)("providersError"),((e,t,n,r)=>t||!!r||e&&n));var Wk=n(47933);const Qk=(0,o.P1)(Wk.Z,Hk,((e,t)=>{const n=e.some((e=>!(!e.provider||!e.provider.isPopulated)&&!!(0,el.Z)(e.provider)));return t&&!n}));var Gk=n(61254);const Yk=(0,o.P1)(Gk.Z,(e=>e.length>0));var qk=n(3967);const Kk=(0,o.P1)(Gs.Z,(e=>e.some((e=>e.connections.some((e=>e.isLoopback))&&e.connectionTestResult===Oo._r.PENDING))));var $k=n(53824);const Xk=(0,o.P1)(c.Z,Kk,$k.Z,(function(e){return!e.user.isFullUser}),Yk,((e,t,n,r,i)=>e.isResourcesPopulated&&!t&&!n.length&&!r&&!i)),Jk=function(e){const{children:t,isSidebarCollapsed:n}=e;return i.createElement(i.Fragment,null,n?i.createElement("div",{className:"EmptySourceSidebar-sidebarUnderlay-1At2pU SourceSidebar-sidebarUnderlay-1UOMAB"}):null,i.createElement("div",{className:n?"EmptySourceSidebar-collapsedSidebar-3J6zrZ SourceSidebar-collapsedSidebar-2U6H_u SourceSidebar-sidebar-3JchBT":"EmptySourceSidebar-openSidebar-3iWJWF SourceSidebar-openSidebar-1KW2H8 SourceSidebar-sidebar-3JchBT"},t))},eL=function(){const e=(0,aa.Z)(),t=(0,E.Z)("An unexpected error is impacting the sidebar");return i.createElement(Jk,{isSidebarCollapsed:!0},i.createElement(Ks.Z,{component:Lr.Z,tooltip:t,tooltipAttachment:$s.ab,"aria-label":t,onPress:e.onOpen},i.createElement(oa.Z,{className:"ErrorSourceSidebar-icon-3VZ-0a"})),i.createElement(sa,{isOpen:e.isOpen,errorMessage:`${t}.`,onModalClose:e.onClose}))};var tL=n(54441);const nL={button:"SourceSidebarLink-button-1mtWw3 SidebarLink-sidebarLink-3mZvPo Link-default-1mYhCE",isDim:"SourceSidebarLink-isDim-1Drgze",title:"SourceSidebarLink-title-1Ezq8H SidebarLink-title-lt99zB",iconContainer:"SourceSidebarLink-iconContainer-2v2Xu5 SidebarLink-icon-2dcOmX",isDisabled:"SourceSidebarLink-isDisabled-Zu33MY SourceSidebarLink-isDim-1Drgze",isSelected:"SourceSidebarLink-isSelected-7ttE4w",isActive:"SourceSidebarLink-isActive-1EXSwB",sourceLink:"SourceSidebarLink-sourceLink-OvtBFr",titles:"SourceSidebarLink-titles-3idRRv",detail:"SourceSidebarLink-detail-f_M36m",small:"SourceSidebarLink-small-CY_boA",medium:"SourceSidebarLink-medium-1rY0Af"};var rL=Object.defineProperty,iL=Object.prototype.hasOwnProperty,sL=Object.getOwnPropertySymbols,aL=Object.prototype.propertyIsEnumerable,oL=(e,t,n)=>t in e?rL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lL=(e,t)=>{for(var n in t||(t={}))iL.call(t,n)&&oL(e,n,t[n]);if(sL)for(var n of sL(t))aL.call(t,n)&&oL(e,n,t[n]);return e};function cL(e){const{"data-qa-id":t,className:n,size:r,style:s,linkClassName:a,titleClassName:o,isActiveClassName:l,isSelectedClassName:c,icon:d,title:u,detail:p,to:m,role:h,isActive:g,isDim:y,isDisabled:v,isSelected:f,children:b,onNavigate:S,onMouseEnter:I,onMouseLeave:Z,onFocus:P,onBlur:E}=e;let M,C;return m?(M=Lr.Z,C={isDisabled:v,to:m,role:h,"data-qa-id":t,onPress:S}):(M="div",C={}),i.createElement("div",{className:rl()(n,nL[r],g&&l,y&&nL.isDim,v&&nL.isDisabled,f&&c),"data-qa-id":"sidebarSource",style:s,onMouseEnter:I,onMouseLeave:Z,onFocus:P,onBlur:E},i.createElement(M,lL(lL({className:a},C),{title:p?`${u}, ${p}`:u}),i.createElement("div",{className:nL.iconContainer},d),i.createElement("div",{className:nL.titles},i.createElement("div",{className:o},u),p?i.createElement("div",{className:nL.detail},p):null)),b)}cL.defaultProps={className:nL.button,size:Gr.M2,linkClassName:nL.sourceLink,titleClassName:nL.title,isActiveClassName:nL.isActive,isSelectedClassName:nL.isSelected};const dL=cL;var uL=Object.defineProperty,pL=Object.prototype.hasOwnProperty,mL=Object.getOwnPropertySymbols,hL=Object.prototype.propertyIsEnumerable,gL=(e,t,n)=>t in e?uL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const yL=function(e){const t=e,{icon:n,connectDragSource:r}=t,s=((e,t)=>{var n={};for(var r in e)pL.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&mL)for(var r of mL(e))t.indexOf(r)<0&&hL.call(e,r)&&(n[r]=e[r]);return n})(t,["icon","connectDragSource"]),a=i.createElement(dL,((e,t)=>{for(var n in t||(t={}))pL.call(t,n)&&gL(e,n,t[n]);if(mL)for(var n of mL(t))hL.call(t,n)&&gL(e,n,t[n]);return e})({icon:n||i.createElement(oC.Z,{className:"ReorderSourceSidebarItem-iconReorder-32BUOJ"})},s));return r?r(i.createElement("div",{className:"ReorderSourceSidebarItem-dragSource-2EihAO"},a)):a};var vL=n(83296);const fL=parseInt(ol.Z.sourceSidebarItemHeight,10);class bL extends i.Component{render(){const{item:e,style:t}=this.props;if(!e||!t)return null;const{sourceTitle:n,sourceDetail:r}=e;return i.createElement(nC.Z,null,i.createElement(yL,{style:t,title:n,detail:r}))}}const SL=(0,tC.rE)((function(e,t){const n=e.getItem(),r={item:n,style:null},i=e.getInitialSourceClientOffset(),s=e.getSourceClientOffset();if(e.getItemType()===rC.KP&&i&&s){let e=s.y;e-n.listTop<=0?e=n.listTop:e+fL>=n.listBottom&&(e=n.listBottom-fL),r.style=(0,vL.Z)({x:i.x,y:e},n.listWidth)}return r}))(bL),IL={beginDrag(e,t,n){const{sourceTitle:r,sourceTitleDetail:i,listIndex:s,isRemoved:a,listHeight:o,listWidth:l,listTop:c,listRight:d,listBottom:u,listLeft:p}=e;return{dragIndex:s,sourceTitle:r,sourceTitleDetail:i,isRemoved:a,listHeight:o,listWidth:l,listTop:c,listRight:d,listBottom:u,listLeft:p}},endDrag(e,t,n){e.onItemDragEnd({didDrop:t.didDrop()})}},ZL={hover(e,t,n){const r=t.getClientOffset(),i=(0,Mi.findDOMNode)(n).getBoundingClientRect(),s=(i.bottom-i.top)/2,a=r.y-i.top,o=t.getItem().dragIndex,l=e.listIndex;let c;c=l===o?l:a>s?l+1:l,e.onItemDragMove({dragIndex:o,dropIndex:c})}};class PL extends i.Component{componentDidMount(){this.props.connectDragPreview((0,MC.rX)())}render(){const{sourceTitle:e,sourceTitleDetail:t,isOver:n,isDragging:r,isDraggingBefore:s,isDraggingAfter:a,connectDropTarget:o,connectDragSource:l}=this.props;return o(i.createElement("div",{className:rl()("SourceListItemDragSource-container-3l5oAU",n&&"SourceListItemDragSource-isOver-2dQ7dJ",r&&CC.fN,n&&s&&CC.DT,n&&a&&CC.QZ)},i.createElement(yL,{title:e,detail:t,connectDragSource:l})))}}const EL=(0,tC.GR)(rC.KP,ZL,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((0,tC.Ej)(rC.KP,IL,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(PL));var ML=Object.defineProperty,CL=Object.prototype.hasOwnProperty,wL=Object.getOwnPropertySymbols,DL=Object.prototype.propertyIsEnumerable,TL=(e,t,n)=>t in e?ML(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OL=(e,t)=>{for(var n in t||(t={}))CL.call(t,n)&&TL(e,n,t[n]);if(wL)for(var n of wL(t))DL.call(t,n)&&TL(e,n,t[n]);return e};const xL={dragIndex:-1,dropIndex:-1,hasValidDropTarget:!1};class AL extends i.Component{constructor(e,t){super(e,t),this.onItemDragMove=e=>{const{dragIndex:t,dropIndex:n}=e,{dragIndex:r,dropIndex:i}=this.state;let s=n!==i?n:i;const a=t!==r?t:r;if((s===a||s>a&&s-a==1)&&(s=-1),a!==r||s!==i){const e={dragIndex:a,dropIndex:s,hasValidDropTarget:-1!==s};this.setState(e)}},this.onItemDragEnd=e=>{const{dragIndex:t,dropIndex:n}=this.state;let r;e.didDrop&&-1!==n&&(r=()=>{this.props.onReorderSource({fromIndex:t,toIndex:n>t?n-1:n})}),this.setState(xL,r)},this.onMeasure=e=>{const{height:t,width:n,x:r,y:i}=e;this.setState({listHeight:t,listWidth:n,listTop:i,listRight:r+n,listBottom:i+t,listLeft:r})},this.state=OL(OL({},xL),{listHeight:0,listWidth:0,listTop:0,listRight:0,listBottom:0,listLeft:0})}render(){const{className:e,sources:t}=this.props,{dropIndex:n,hasValidDropTarget:r}=this.state;return i.createElement(cf.Z,{className:e,ignoreTransforms:!0,onMeasure:this.onMeasure},t.map(((e,t)=>{const s=r&&n===t,a=r&&n===t+1;return i.createElement(EL,OL(OL({},this.state),{key:e.key,sourceTitle:e.title,sourceTitleDetail:e.titleDetail,listIndex:t,hasValidDropTarget:r,isDraggingAfter:a,isDraggingBefore:s,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd}))})),i.createElement(AP.Z,null,i.createElement(SL,null)))}}AL.defaultProps={className:"SortableSources-container-tR4vQs Measure-container-27uNnm"};const NL=(0,KM.Z)(AL);function kL(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-downloads-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M280 510.588c127.35 0 230.588-103.238 230.588-230.588S407.35 49.412 280 49.412 49.412 152.65 49.412 280 152.65 510.588 280 510.588zM280 560C125.36 560 0 434.64 0 280S125.36 0 280 0s280 125.36 280 280-125.36 280-280 280zm0-131.765l131.765-131.764H306.353V131.765h-52.706V296.47H148.235L280 428.235z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}kL.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const LL=kL;function jL(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-home-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M0 520V296.569a40 40 0 0 1 11.716-28.285L280 0l268.284 268.284A40 40 0 0 1 560 296.57V520c0 22.091-17.909 40-40 40H340V360H220v200H40c-22.091 0-40-17.909-40-40z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}jL.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const RL=jL;var VL=Object.defineProperty,UL=Object.prototype.hasOwnProperty,zL=Object.getOwnPropertySymbols,BL=Object.prototype.propertyIsEnumerable,_L=(e,t,n)=>t in e?VL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function FL(e){return i.createElement("div",((e,t)=>{for(var n in t||(t={}))UL.call(t,n)&&_L(e,n,t[n]);if(zL)for(var n of zL(t))BL.call(t,n)&&_L(e,n,t[n]);return e})({},e))}FL.defaultProps={className:"SourceSidebarHeader-header-3Ay5rt"};const HL=FL;var WL=Object.defineProperty,QL=Object.prototype.hasOwnProperty,GL=Object.getOwnPropertySymbols,YL=Object.prototype.propertyIsEnumerable,qL=(e,t,n)=>t in e?WL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function KL(e){const{className:t}=e;return i.createElement(kr.Z,((e,t)=>{for(var n in t||(t={}))QL.call(t,n)&&qL(e,n,t[n]);if(GL)for(var n of GL(t))YL.call(t,n)&&qL(e,n,t[n]);return e})({className:t,autoScroll:!0},e))}KL.defaultProps={className:"SourceSidebarScroller-scroller-pA7lLb Scroller-scroller-2Rw5pG"};const $L=KL;class XL extends i.Component{constructor(){super(...arguments),this.onReorderSource=({fromIndex:e,toIndex:t})=>{if(e===t)return;const{sources:n,hiddenSidebarSourceKeys:r,onReorderPinnedSources:i}=this.props,s=n.map((e=>e.key));i({sourceKeys:(0,tL.Z)(s,e,t).concat(r)})}}render(){const{sources:e,hasDownloadsSource:t,onCloseReorderPinSources:n}=this.props;return i.createElement(i.Fragment,null,i.createElement(HL,null,i.createElement("div",{className:"SourceSidebarReorderContent-titleContainer-1gEB2y"},i.createElement("div",{className:"SourceSidebarReorderContent-title-_Zb6aw"},(0,E.Z)("Reorder")),i.createElement(Lr.Z,{className:"SourceSidebarReorderContent-closeButton-15-GjV","aria-label":(0,E.Z)("Done"),onPress:n},i.createElement(aC.Z,null)))),i.createElement($L,null,i.createElement("div",{className:"SourceSidebarReorderContent-expandedSidebarContent-2QMWFw SourceSidebarContent-expandedSidebarContent-3xuQnU"},i.createElement(yL,{icon:i.createElement(RL,null),title:(0,E.Z)("Home"),isDisabled:!0}),t?i.createElement(yL,{icon:i.createElement(LL,null),title:(0,E.Z)("Downloads"),isDisabled:!0}):null,i.createElement(NL,{sources:e,onReorderSource:this.onReorderSource}))))}}const JL=XL,ej=(0,o.P1)(xo.Z,(e=>({hiddenSidebarSourceKeys:e.reduce(((e,t)=>(t.isHidden&&e.push(t.key),e)),[])}))),tj={onReorderPinnedSources:ny.fK},nj=(0,s.$j)(ej,tj)(JL);var rj=n(89267),ij=n(30492),sj=n(41324),aj=n(34891),oj=n(82261);const lj=parseInt(ol.Z.sourceSidebarServerHeaderIconSize,10),cj=function(e){const{serverEntityID:t,thumb:n}=e;return i.createElement(fu.Z,{serverEntityID:t,url:n,width:lj,height:lj})},dj=(0,s.$j)((function(){return(0,o.P1)((0,Wu.Z)(),(0,o.P1)((0,Wu.Z)(),oj.Z,aj.Z,((e,t,n)=>{const r=t.find((t=>n[t].id===e.ownerId));return r?n[r].thumb:null})),_s.Z,((e,t,n)=>({thumb:e.isShared?t:n.thumb})))}))(cj);var uj=n(64378),pj=n(83299),mj=n(13781);const hj="SourceSidebarBadgedIcon-image-3TewOI";function gj({isUnavailable:e,isOutOfDate:t,isUnclaimed:n}){return e?(0,E.Z)("Unavailable"):t?(0,E.Z)("Needs update"):n?(0,E.Z)("Unclaimed"):void 0}function yj(e){const{isRemote:t,isUnclaimed:n,isUnavailable:r,isOutOfDate:s}=e,a=r||n||s;return a||t?i.createElement("div",{className:"SourceSidebarBadgedIcon-badge-2MRPaV"},a?i.createElement("img",{className:hj,src:pj,"aria-label":gj(e)}):i.createElement("img",{className:hj,src:mj,"aria-label":(0,E.Z)("Remote server")})):null}function vj(e){const{icon:t,showBadgedIcon:n,isPending:r,isRemote:s,isUnavailable:a,isOutOfDate:o,isUnclaimed:l}=e;return n?r?i.createElement(si.Z,{className:"SourceSidebarBadgedIcon-spinner-XbpJ0L"}):i.createElement("div",{className:"SourceSidebarBadgedIcon-container-AwQTL-"},t,i.createElement(yj,{isRemote:s,isUnavailable:a,isOutOfDate:o,isUnclaimed:l})):t}vj.defaultProps={showBadgedIcon:!0};const fj=vj;var bj=n(46391);const Sj="SourceSidebarServerHeaderActionsButtons-button-2tGSOP IconButton-button-llQ1So",Ij=(0,PS.Z)(null,(function(e,t){const n={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onAddLibraryPress(){e(Ss.Wy(n))}}}))((function(e){const{className:t,isHovered:n,overflowMenuButtonID:r,isOverflowMenuOpen:s,onAddLibraryPress:a,onOverflowMenuToggle:o}=e,l=p.Z.hasTouchScreen||n||s;return i.createElement("div",{className:l?t:"SourceSidebarServerHeaderActionsButtons-hidden-32EQA5"},i.createElement(La.Z,{className:Sj,"data-qa-id":"sidebarLibrariesAddButton",iconComponent:ZO.Z,title:(0,E.Z)("Add Library"),onPress:a}),i.createElement(La.Z,{id:r,className:Sj,"aria-haspopup":"true","data-qa-id":"sidebarLibrariesMoreButton",iconComponent:bj.Z,title:(0,E.Z)("More Actions"),onPress:o}))}));var Zj=n(88413),Pj=n(79498),Ej=n(96508),Mj=n(57501),Cj=n(18039),wj=n(19613),Dj=n(73954);const Tj={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,-10]}}]},Oj=(0,PS.Z)((function(){return(0,o.P1)((0,o.P1)((0,Pj.Z)(),(e=>e.some((e=>e.refreshing)))),(0,Zj.tk)(),(0,Zj.k8)(),((e,t,n)=>({isLibraryRefreshing:e,isOptimizeDatabaseInProgress:!!t,isCleanBundlesInProgress:!!n})))}),(function(e,t){const n={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onScanLibrariesPress(){e(Ss.iE(n))},onCancelScanLibrariesPress(){e(Ss.zl(n))},onEmptyTrashPress(){e(Ss.uo(n))},onOptimizeDatabasePress(){e(Ss.Q6(n))},onCleanBundlesPress(){e(Ss.ll(n))}}}))((function(e){const{serverEntityID:t,machineIdentifier:n,overflowMenuButtonID:r,isLibraryRefreshing:s,isOptimizeDatabaseInProgress:a,isCleanBundlesInProgress:o,isOverflowMenuOpen:l,onScanLibrariesPress:c,onCancelScanLibrariesPress:u,onEmptyTrashPress:p,onOptimizeDatabasePress:m,onCleanBundlesPress:h,onOverflowMenuClose:g}=e,y=(0,aa.Z)(),v=(0,aa.Z)(p),f=(0,aa.Z)(m),b=(0,aa.Z)(h);return i.createElement(i.Fragment,null,i.createElement(Dj.Z,{target:r,options:Tj,isOpen:l,onMenuClose:g},i.createElement(En.Z,{onPress:(0,Du.Z)(g,y.onOpen)},(0,E.Z)("Share…")),s?i.createElement(En.Z,{onPress:u},(0,E.Z)("Cancel Scan")):i.createElement(En.Z,{onPress:c},(0,E.Z)("Scan Library Files")),i.createElement(Ej.Z,{label:(0,E.Z)("Manage Server"),onMenuClose:g},i.createElement(En.Z,{to:(0,Cj.Z)(n,"settings","general")},(0,E.Z)("Settings")),i.createElement(En.Z,{onPress:v.onOpen},(0,E.Z)("Empty Trash")),i.createElement(En.Z,{isDisabled:a,onPress:f.onOpen},(0,E.Z)("Optimize Database")),i.createElement(En.Z,{isDisabled:o,onPress:b.onOpen},(0,E.Z)("Clean Bundles")))),i.createElement(Mj.Z,{metricsProperties:{context:Ci.LIST},serverEntityID:t,isOpen:y.isOpen,onModalClose:y.onClose}),i.createElement(wj.Z,{isOpen:v.isOpen,metricsPage:d.cZ,title:(0,E.Z)("Empty Trash"),message:(0,E.Z)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:(0,E.Z)("Empty"),onConfirm:v.onConfirm,onCancel:v.onClose}),i.createElement(wj.Z,{isOpen:f.isOpen,metricsPage:d.tl,title:(0,E.Z)("Optimize Database"),message:(0,E.Z)("Cleans up the library database and ensures it is operating as quickly as possible. This is especially useful when you've added or removed a large amount of media from the library."),confirmLabel:(0,E.Z)("Optimize"),onConfirm:f.onConfirm,onCancel:f.onClose}),i.createElement(wj.Z,{isOpen:b.isOpen,metricsPage:d.jB,title:(0,E.Z)("Clean Bundles"),message:(0,E.Z)("The media server stores information about your media to disk, as well as posters, artwork, and other media resources from the internet. Running this task deletes any bundles which are no longer in use."),confirmLabel:(0,E.Z)("Clean"),onConfirm:b.onConfirm,onCancel:b.onClose}))}));var xj=Object.defineProperty,Aj=Object.prototype.hasOwnProperty,Nj=Object.getOwnPropertySymbols,kj=Object.prototype.propertyIsEnumerable,Lj=(e,t,n)=>t in e?xj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jj=(e,t)=>{for(var n in t||(t={}))Aj.call(t,n)&&Lj(e,n,t[n]);if(Nj)for(var n of Nj(t))kj.call(t,n)&&Lj(e,n,t[n]);return e};const Rj=function(e){const t=e,{serverEntityID:n,machineIdentifier:r,hasServerActions:s,iconNode:a,iconSrc:o,isPending:l,isRemote:c,isUnavailable:d,isOutOfDate:u,isUnclaimed:p,onToggleLockedPress:m}=t,h=((e,t)=>{var n={};for(var r in e)Aj.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Nj)for(var r of Nj(e))t.indexOf(r)<0&&kj.call(e,r)&&(n[r]=e[r]);return n})(t,["serverEntityID","machineIdentifier","hasServerActions","iconNode","iconSrc","isPending","isRemote","isUnavailable","isOutOfDate","isUnclaimed","onToggleLockedPress"]),g=(0,Mn.Z)(),[y,v]=(0,i.useState)(!1),[f,b]=(0,uj.Z)(),S=(0,i.useCallback)((()=>{v(!y)}),[y]),I=(0,i.useCallback)((()=>{v(!1)}),[]);return(0,i.useEffect)((()=>{m&&m(y)}),[y,m]),i.createElement(i.Fragment,null,i.createElement(dL,jj(jj(jj({},h),b),{isSelectedClassName:"SourceSidebarServerHeader-isSelected-vjjpax SourceSidebarLink-isSelected-7ttE4w",titleClassName:"SourceSidebarServerHeader-title-2oT9aS SourceSidebarLink-title-1Ezq8H SidebarLink-title-lt99zB",isActive:y,role:"navigation",icon:i.createElement(fj,{icon:i.createElement("div",{className:"SourceSidebarServerHeader-iconContainer-C4mhM7 SourceSidebarItem-iconImg-3JkcZ2"},a),isPending:l,isRemote:c,isUnavailable:d,isOutOfDate:u,isUnclaimed:p})}),s?i.createElement(Ij,{serverEntityID:n,className:"SourceSidebarServerHeader-actionContainer-3DMGhR",isHovered:f,overflowMenuButtonID:g,isOverflowMenuOpen:y,onOverflowMenuToggle:S}):null),s?i.createElement(Oj,{serverEntityID:n,machineIdentifier:r,overflowMenuButtonID:g,isOverflowMenuOpen:y,onOverflowMenuToggle:S,onOverflowMenuClose:I}):null)};var Vj=n(96638);function Uj(e){const t=window.location.hash,n=new RegExp("^"+(0,Vj.Z)(e)+"\\b");return!(!t||!e)&&n.test(t)}const zj=(0,s.$j)((function(){return(0,o.P1)((e=>e.cloudServer),_s.Z,((e,t)=>({cloudServerEntityID:e,thumb:t.thumb})))}))((function(e){const{cloudServerEntityID:t,thumb:n}=e,r="#!/get-plex-media-server";return i.createElement(Rj,{to:r,isSelected:Uj(r),iconNode:i.createElement(cj,{serverEntityID:t,thumb:n}),title:(0,E.Z)("Your Media")})}));var Bj=n(32553);const _j=(0,o.P1)(xo.Z,(e=>(0,Bj.Z)(e,(e=>e.key),(e=>e))));var Fj=n(93474),Hj=n(58605),Wj=n(97334),Qj=n(19578),Gj=n(95565);function Yj(e){var t=e["aria-label"],n=e.className,r=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-source-pinned-560"};s["aria-hidden"]=!t,s.style=r,s.className=Ua.Z.plexIcon+(n?" "+n:"");var a=[i.createElement.apply(i,["path",{d:"M220 40L160 0h240l-60 40 20 200 100 80H310l-30 240-30-240H100l100-80z"}].concat([]))];return t&&a.unshift(i.createElement("title",null,t)),i.createElement.apply(i,["svg",s].concat(a))}Yj.propTypes={"aria-label":Va().string,className:Va().string,style:Va().object};const qj=Yj;var Kj=Object.defineProperty,$j=Object.prototype.hasOwnProperty,Xj=Object.getOwnPropertySymbols,Jj=Object.prototype.propertyIsEnumerable,eR=(e,t,n)=>t in e?Kj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tR=(e,t)=>{for(var n in t||(t={}))$j.call(t,n)&&eR(e,n,t[n]);if(Xj)for(var n of Xj(t))Jj.call(t,n)&&eR(e,n,t[n]);return e};const nR={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:({reference:e})=>[0,-.2*e.height]}}]};function rR(e){const{serverEntityID:t,providerEntityID:n,source:r,dismissedUnclaimedServers:s,size:a,showDetail:o,showIcons:l,metricsOrigin:c,isReorderable:u,onToggleLockedPress:p,onReorderPinSources:m}=e,{machineIdentifier:g,providerIdentifier:y}=(0,or.Z)(),v=(0,h.Z)(),f=(0,ur.Z)(v.source),b=(0,Mn.Z)(),[S,I]=(0,i.useState)(!1),[Z,M]=(0,uj.Z)(),C=(0,i.useCallback)((()=>{I(!S)}),[S]),w=(0,i.useCallback)((()=>{I(!1)}),[]);(0,i.useEffect)((()=>{p&&p(S)}),[S,p]);const D=(0,i.useCallback)((()=>{(0,P.DB)("metrics").trackEvent({event:Ep.Ip,interaction:!0,properties:{page:d.jy,identifier:r.providerMetricsIdentifier,action:br.wP,origin:c}})}),[r,c]),T=r.sourceType===Hj.lz,O=S||Z,x=r.isPinned&&!O,A=!1===r.isLocal&&!1===r.isCloud&&!1===r.isUnavailable,N=r.directoryIcon?i.createElement("img",{className:"SourceSidebarItem-iconImg-3JkcZ2",src:r.directoryIcon}):i.createElement(Qj.Z,{sourceType:r.sourceType});return i.createElement(i.Fragment,null,i.createElement(dL,tR(tR({},M),{className:"SourceSidebarItem-button-3JdHac SourceSidebarLink-button-1mtWw3 SidebarLink-sidebarLink-3mZvPo Link-default-1mYhCE",size:o?a:Gr.HC,isActiveClassName:"SourceSidebarItem-isActive-g82InD SourceSidebarLink-isActive-1EXSwB",isSelectedClassName:"SourceSidebarItem-isSelected-17i-oh SourceSidebarLink-isSelected-7ttE4w",isActive:S,isDim:r.isUnavailable||r.isOutOfDate||T,isSelected:g===r.machineIdentifier&&y===r.providerIdentifier&&f===r.directoryID,to:T?null:(0,Wj.Z)(r.isCloud,r.machineIdentifier,r.providerIdentifier,{source:r.directoryID}),icon:i.createElement(fj,{icon:N,showBadgedIcon:l,isRemote:A,isUnavailable:r.isUnavailable||T,isOutOfDate:r.isOutOfDate,isUnclaimed:r.isUnclaimedServer&&s&&!s[r.machineIdentifier]}),title:r.title,detail:o?r.titleDetail:void 0,onNavigate:D}),i.createElement("span",{className:"SourceSidebarItem-actionContainer-1hLqJz"},x?i.createElement(qj,{className:"SourceSidebarItem-pinnedIcon-3u0m0h"}):null,i.createElement(La.Z,{className:O?"SourceSidebarItem-overflowButton-2OZJwQ":"SourceSidebarItem-hiddenOverflowButton-2O2YM2","data-qa-id":"sidebarSourceOverflow",id:b,iconComponent:bj.Z,title:(0,E.Z)("Actions"),onPress:C}))),i.createElement(Gj.Z,{serverEntityID:t,providerEntityID:n,source:r,target:b,menuOptions:nR,isReorderable:u,isOverflowMenuOpen:S,onOverflowMenuClose:w,onReorderPinSources:m}))}rR.defaultProps={showDetail:!0,showIcons:!0};const iR=rR;var sR=Object.defineProperty,aR=Object.prototype.hasOwnProperty,oR=Object.getOwnPropertySymbols,lR=Object.prototype.propertyIsEnumerable,cR=(e,t,n)=>t in e?sR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dR=(e,t)=>{for(var n in t||(t={}))aR.call(t,n)&&cR(e,n,t[n]);if(oR)for(var n of oR(t))lR.call(t,n)&&cR(e,n,t[n]);return e};const uR=(0,s.$j)((function(){return(0,o.P1)((0,o.P1)(((e,{providerEntityIDs:t})=>t),Ue.Z,((e,t)=>e.map((e=>t[e])))),(0,Wu.Z)(),_j,((e,t,n)=>{const r=e.reduce(((e,r)=>{const i=(0,el.Z)(r);return(0,zk.Z)({sourceServer:t,sourceProvider:r,directories:i&&i.directories}).forEach((t=>{e.push(dR(dR({},t),{isPinned:!!n[t.key]}))})),e}),[]);return r.sort(((e,t)=>e.title.localeCompare(t.title))),{sources:r}}))}),(function(e,t){return{}}))((function(e){const{sources:t,onToggleLockedPress:n}=e;return i.createElement(i.Fragment,null,t.map((e=>i.createElement(iR,{key:e.key,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,source:e,metricsOrigin:Fj.tr,showDetail:!1,showIcons:!1,onToggleLockedPress:n}))))}));var pR=Object.defineProperty,mR=Object.prototype.hasOwnProperty,hR=Object.getOwnPropertySymbols,gR=Object.prototype.propertyIsEnumerable,yR=(e,t,n)=>t in e?pR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function vR(e){const t=e,{showTitle:n,showUnclaimed:r,isAllSources:s}=t,a=((e,t)=>{var n={};for(var r in e)mR.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&hR)for(var r of hR(e))t.indexOf(r)<0&&gR.call(e,r)&&(n[r]=e[r]);return n})(t,["showTitle","showUnclaimed","isAllSources"]);return i.createElement(Lr.Z,((e,t)=>{for(var n in t||(t={}))mR.call(t,n)&&yR(e,n,t[n]);if(hR)for(var n of hR(t))gR.call(t,n)&&yR(e,n,t[n]);return e})({className:rl()("SourcesToggleButton-link-3Yuz0j",s?"SourcesToggleButton-bottomBorder-2UI0Rk":"SourcesToggleButton-topBorder-3Tixcu"),"data-qa-id":"sidebarMore"},a),s?i.createElement(i.Fragment,null,i.createElement(EA.Z,{className:"SourcesToggleButton-pinnedIcon-1X7xs5 SourcesToggleButton-icon-36D3p0"}),n?(0,E.Z)("Pinned"):null):i.createElement(i.Fragment,null,n?i.createElement(i.Fragment,null,r?i.createElement("img",{className:"SourcesToggleButton-unclaimedImage-GKR_cx",src:pj,"aria-label":(0,E.Z)("Unclaimed")}):null,(0,E.Z)("More")):null,i.createElement(PA.Z,{className:"SourcesToggleButton-icon-36D3p0"})))}vR.defaultProps={showTitle:!0};const fR=vR,bR=(0,o.P1)(_s.Z,(e=>({providers:e.providers,isPending:e.isProvidersPending,isPopulated:e.isProvidersPopulated,providersError:e.providersError}))),SR=(0,s.$j)((function(){return(0,o.P1)(Ys,bR,(e=>e.cloudServer),qk.Z,((e,t,n,r)=>({servers:e,cloudProviders:t,cloudServerEntityID:n,dismissedUnclaimedServers:r})))}),(function(e,t){return{}}))((function(e){const{isExpanded:t,servers:n,cloudProviders:r,cloudServerEntityID:s,dismissedUnclaimedServers:o,showServerDownloadMessage:l,onToggleAllSourcesPress:c,onToggleLockedPress:d}=e,{machineIdentifier:u,providerIdentifier:p}=(0,or.Z)(),m=(0,h.Z)(),g=(0,a.$B)({path:V.Z.prePlay,exact:!0});return i.createElement(i.Fragment,null,i.createElement(HL,null,i.createElement(fR,{isAllSources:!0,showTitle:t,onPress:c})),i.createElement($L,null,i.createElement("div",{className:"AllSourcesSidebarContent-container-3w3jdB"},n.map((e=>{const t=u===e.machineIdentifier&&p===ze.Y3&&!m.source&&!g;return i.createElement("div",{key:e.machineIdentifier,className:"AllSourcesSidebarContent-serverContainer-99lqaG"},i.createElement(Rj,{serverEntityID:e.entityID,machineIdentifier:e.machineIdentifier,title:(0,sj.Z)(e),detail:(0,ij.Z)(e),iconNode:i.createElement(dj,{serverEntityID:e.entityID}),isPending:e.isPending,isRemote:!e.isPrivateConnection&&!e.isUnavailable,isUnavailable:e.isUnavailable,isOutOfDate:e.isOutOfDate,isUnclaimed:e.isConnected&&!e.isClaimed&&!o[e.machineIdentifier],to:(0,Ql.Z)(e,{identifier:ze.Y3},null,{key:Be.D,pageType:ew.km}),isSelected:t,hasServerActions:e.isFullOwnedServer&&e.isConnected&&!e.isOutOfDate,onToggleLockedPress:d}),i.createElement(uR,{serverEntityID:e.entityID,providerEntityIDs:e.providers,onToggleLockedPress:d}))})),r.providers.length?i.createElement(i.Fragment,null,i.createElement(Rj,{title:(0,E.Z)("Plex"),iconNode:i.createElement("img",{className:"AllSourcesSidebarContent-iconImg-3TK0MY",src:ue}),isPending:r.isPending,isUnavailable:r.providersError}),i.createElement(uR,{serverEntityID:s,providerEntityIDs:r.providers,onToggleLockedPress:d})):null,l?i.createElement("div",{className:"AllSourcesSidebarContent-extrasContainer-2h8baR"},i.createElement(zj,null)):null)))})),IR=(0,o.P1)(Ys,qk.Z,((e,t)=>({showUnclaimed:e.some((e=>e.isConnected&&!e.isClaimed&&!t[e.machineIdentifier]))}))),ZR=(0,s.$j)(IR,(function(e,t){return{}}))(fR),PR="#!/get-plex-media-server",ER=function(e){const{size:t}=e;return i.createElement(dL,{size:t,to:PR,isSelected:Uj(PR),icon:i.createElement(ZO.Z,null),title:(0,E.Z)("Your Media")})};var MR=n(76892);const CR=(0,s.$j)((function(){return(0,o.P1)(MR.Z,Uu.Z,((e,t)=>({route:(0,ep.Z)(e.downloads),isUnavailable:!t||t.isUnavailable})))}),(function(e,t){return{}}))((function(e){const{size:t,route:n,isUnavailable:r}=e,s=!!(0,a.$B)({path:V.Z.downloads,exact:!0});return i.createElement(dL,{size:t,to:n,isSelected:s,icon:i.createElement(fj,{icon:i.createElement(LL,null),isUnavailable:r}),title:(0,E.Z)("Downloads"),isDim:r})})),wR=function(e){const{size:t}=e,n=(0,a.$B)({path:V.Z.home,exact:!0});return i.createElement(dL,{linkClassName:"HomeSourceLink-sourceLink-25rvLd SourceSidebarLink-sourceLink-OvtBFr",size:t,"data-qa-id":"sidebarHome",to:"#",icon:i.createElement(RL,null),title:(0,E.Z)("Home"),isSelected:!!n})};class DR extends i.Component{shouldComponentUpdate(e,t){return(0,F.Z)(this,e,t)}render(){const{sources:e,hasSourceDetail:t,hasDownloadsSource:n,dismissedUnclaimedServers:r,isExpanded:s,hasNoProviders:a,isMoreMenuRequired:o,showServerDownloadMessage:l,onToggleAllSourcesPress:c,onToggleLockedPress:d,onReorderPinSources:u}=this.props,p=t?void 0:Gr.HC;return i.createElement($L,null,i.createElement("div",{className:s?"SourceSidebarContent-expandedSidebarContent-3xuQnU":void 0},i.createElement(wR,{size:p}),e.length?e.map((e=>i.createElement(iR,{key:e.key,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,source:e,dismissedUnclaimedServers:r,size:p,isReorderable:!0,onToggleLockedPress:d,onReorderPinSources:u}))):i.createElement("div",{className:"SourceSidebarContent-zeroState-1xuszU"},(0,E.Z)("Your favorite sources will appear here. Any source in the MORE menu below can be saved here for quick access.")),l?i.createElement(ER,{size:p}):null,n?i.createElement(CR,{size:p}):null,s&&o&&!a?i.createElement(ZR,{isAllSources:!1,onPress:c}):null))}}const TR=DR,OR="SourceSidebar-pane-3A8XLL";var xR,AR;(AR=xR||(xR={})).Left="left",AR.Right="right";const NR=(0,Pf.Z)(rj.Z.defaultSpeed),kR={opacity:{duration:NR},x:{duration:NR,ease:"easeInOut"}},LR={appear:e=>({opacity:0,scale:1,x:e===xR.Left?"100%":"-100%",transition:kR}),enter:{opacity:1,scale:1,x:"0%",transition:kR},exit:e=>({opacity:0,scale:1,x:e===xR.Left?"100%":"-100%",transition:kR})};function jR(e,t){return t?e?"SourceSidebar-expandedSidebar-2nQ2kA SourceSidebar-sidebar-3JchBT":"SourceSidebar-collapsedSidebar-2U6H_u SourceSidebar-sidebar-3JchBT":"SourceSidebar-openSidebar-1KW2H8 SourceSidebar-sidebar-3JchBT"}class RR extends i.Component{constructor(e,t){super(e,t),this.onMouseEnter=()=>{this.props.isSidebarCollapsed&&(this.resetExpandTimeout(),this.setState({isMouseOver:!0}))},this.onMouseLeave=()=>{this.clearSetExpandedTimeout(),this.setState((e=>({isExpanded:!!e.isLocked&&e.isExpanded,isMouseOver:!1})))},this.onMouseMove=()=>{this.props.isSidebarCollapsed&&!this.state.isLocked&&this.resetExpandTimeout()},this.onToggleAllSourcesPress=()=>{this.setState({isSidebarAllSources:!this.state.isSidebarAllSources})},this.onToggleLockedPress=e=>{this.setState((t=>{const n=null!=e?e:!t.isLocked;return{isLocked:n,isExpanded:!(!t.isMouseOver&&!n)&&t.isExpanded}}))},this.onReorderPinSources=()=>{this.setState({isReordering:!0,isLocked:!0})},this.onCloseReorderPinSources=()=>{this.setState({isReordering:!1,isLocked:!1})},this.state={isMouseOver:!1,isLocked:!1,isExpanded:!1,isSidebarCollapsed:e.isSidebarCollapsed,isReordering:!1,isSidebarAllSources:!1}}static getDerivedStateFromProps(e,t){return t.isSidebarCollapsed!==e.isSidebarCollapsed?{isSidebarCollapsed:e.isSidebarCollapsed}:null}componentWillUnmount(){this.clearSetExpandedTimeout()}clearSetExpandedTimeout(){this._setExpandedTimeoutID&&(window.clearTimeout(this._setExpandedTimeoutID),this._setExpandedTimeoutID=null)}resetExpandTimeout(){this.clearSetExpandedTimeout(),this._setExpandedTimeoutID=window.setTimeout((()=>this.setState({isExpanded:!0})),250)}render(){const{sources:e,hasSourceDetail:t,hasDownloadsSource:n,hasDismissedServerDownloadMessage:r,shouldShowServerDownloadMessage:s,dismissedUnclaimedServers:a,isPending:o,hasNoProviders:l,isMoreMenuRequired:c,isSidebarCollapsed:d}=this.props,{isExpanded:u,isReordering:p,isSidebarAllSources:m}=this.state,h=!d||u||p;return o?i.createElement(Jk,{isSidebarCollapsed:d},i.createElement(si.Z,null)):i.createElement(i.Fragment,null,d?i.createElement("div",{className:"SourceSidebar-sidebarUnderlay-1UOMAB"}):null,i.createElement("div",{className:jR(u||p,d),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseMove},p?i.createElement("div",{className:OR},i.createElement(nj,{sources:e,hasDownloadsSource:n,onCloseReorderPinSources:this.onCloseReorderPinSources})):i.createElement(Zf.M_,{initial:!1},i.createElement(Zf.ww.div,{key:m?xR.Right:xR.Left,initial:"appear",animate:"enter",exit:"exit",variants:LR,custom:m?xR.Right:xR.Left,className:OR},m?i.createElement(SR,{isExpanded:h,showServerDownloadMessage:s,onToggleAllSourcesPress:this.onToggleAllSourcesPress,onToggleLockedPress:this.onToggleLockedPress}):i.createElement(TR,{sources:e,isExpanded:h,hasSourceDetail:t,hasDownloadsSource:n,showServerDownloadMessage:s&&!r,dismissedUnclaimedServers:a,hasNoProviders:l,isMoreMenuRequired:c,onToggleAllSourcesPress:this.onToggleAllSourcesPress,onToggleLockedPress:this.onToggleLockedPress,onReorderPinSources:this.onReorderPinSources})))))}}const VR=RR;var UR=Object.defineProperty,zR=Object.prototype.hasOwnProperty,BR=Object.getOwnPropertySymbols,_R=Object.prototype.propertyIsEnumerable,FR=(e,t,n)=>t in e?UR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HR=(e,t)=>{for(var n in t||(t={}))zR.call(t,n)&&FR(e,n,t[n]);if(BR)for(var n of BR(t))_R.call(t,n)&&FR(e,n,t[n]);return e};const WR={dispatchSetupSources:ny.E8,dispatchStartFirstRunExperience:ny.mo},QR=(0,s.$j)((function(){return(0,o.P1)(Rp.Z,Ko.Z,Yk,(0,o.P1)(c.Z,Uk.Z,((e,t)=>t.reduce(((t,n)=>{const r=(0,el.Z)(n),i=(0,zk.Z)({sourceServer:e,sourceProvider:n,directories:r&&r.directories});return t.push(...i),t}),[]))),qo(),qk.Z,Fp,Xk,Fs.Z,Qk,(0,o.P1)(Wk.Z,qo(),Hk,((e,t,n)=>{if(!n)return!1;for(let n=0;n<e.length;n++){const{server:r,provider:i}=e[n];if(!r.isCloud&&r.friendlyName&&!r.isUnauthorized&&!r.isPending)return!0;if(r.isEmbedded)continue;if(!i)continue;const s=(0,el.Z)(i);if(!s)continue;const{directories:a}=s;if(!t.find((e=>a.find((t=>t.id===e.directoryID))&&e.providerIdentifier===i.identifier)))return!0}return!1})),((e,t,n,r,i,s,a,o,c,d,u)=>{const{isSidebarCollapsed:p,sidebarSettings:{hasCompletedSetup:m}}=c;return{isAnonymousUser:e,hasInitialSources:t,hasPreferredEligibleServers:n,dismissedUnclaimedServers:s,defaultSources:r,sources:i,hasSourceDetail:i.some((e=>!!e.titleDetail)),hasDownloadsSource:l.Z.allowSyncDownload,hasDismissedServerDownloadMessage:a,shouldShowServerDownloadMessage:o,hasCompletedSetup:m,isSidebarCollapsed:p,hasNoProviders:d,isMoreMenuRequired:u}}))}),WR)((function(e){const t=e,{isAnonymousUser:n,hasPreferredEligibleServers:r,hasInitialSources:s,hasCompletedSetup:a,defaultSources:o,dispatchStartFirstRunExperience:l,dispatchSetupSources:c}=t,u=((e,t)=>{var n={};for(var r in e)zR.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&BR)for(var r of BR(e))t.indexOf(r)<0&&_R.call(e,r)&&(n[r]=e[r]);return n})(t,["isAnonymousUser","hasPreferredEligibleServers","hasInitialSources","hasCompletedSetup","defaultSources","dispatchStartFirstRunExperience","dispatchSetupSources"]),[p,m]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{n||!r||a||p?s&&!a&&c({sources:o}):(m(!0),l())}),[l,c,n,r,a,s,o,p,m]),i.createElement(Sl.Z,{page:d.jy,isDelegated:!0},i.createElement(VR,HR(HR({},u),{isPending:!a})))}));class GR extends i.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e){Sr.Z.error(e)}render(){return this.state.hasError?i.createElement(eL,null):i.createElement(QR,null)}}const YR=GR;function qR(){return i.createElement("div",{className:"PageHeaderPlaceholder-container-1tYwaM"})}const KR=i.lazy((()=>n.e(81).then(n.bind(n,95081)))),$R=i.lazy((()=>Promise.all([n.e(407),n.e(951),n.e(12),n.e(293),n.e(30)]).then(n.bind(n,28678)))),XR=i.lazy((()=>n.e(67).then(n.bind(n,87067)))),JR=i.lazy((()=>n.e(548).then(n.bind(n,28548)))),eV=i.lazy((()=>n.e(931).then(n.bind(n,42277)))),tV=i.lazy((()=>n.e(670).then(n.bind(n,89670)))),nV=i.lazy((()=>n.e(231).then(n.bind(n,17231)))),rV=i.lazy((()=>Promise.all([n.e(933),n.e(951),n.e(428),n.e(494)]).then(n.bind(n,95678)))),iV=i.lazy((()=>Promise.all([n.e(933),n.e(951),n.e(428),n.e(128)]).then(n.bind(n,6835)))),sV=i.lazy((()=>Promise.all([n.e(710),n.e(933),n.e(12),n.e(829),n.e(17)]).then(n.bind(n,60017)))),aV=i.lazy((()=>n.e(181).then(n.bind(n,19181)))),oV=i.lazy((()=>n.e(389).then(n.bind(n,62389)))),lV=i.lazy((()=>n.e(838).then(n.bind(n,44838)))),cV=i.lazy((()=>Promise.all([n.e(562),n.e(293),n.e(992)]).then(n.bind(n,17060)))),dV=i.lazy((()=>n.e(927).then(n.bind(n,48927)))),uV=i.lazy((()=>Promise.all([n.e(710),n.e(933),n.e(12),n.e(829),n.e(102)]).then(n.bind(n,36102)))),pV="scroll-container dark-scrollbar",mV=(0,o.P1)(S.Z,(e=>e.hasAttemptedSignIn)),hV=(0,o.P1)(c.Z,(e=>e.isUnavailable));function gV(){!function(){const e=(0,s.I0)(),t=(0,a.TH)();(0,i.useEffect)((()=>{e((0,js.$e)())}),[t,e])}(),function(){const e=(0,s.I0)(),t=(0,a.k6)();(0,i.useEffect)((()=>(e((0,M.xM)({location:{pathname:t.location.pathname,search:t.location.search}})),t.listen((t=>{e((0,M.xM)({location:{pathname:t.pathname,search:t.search}}))})))),[e,t])}();const e=(0,s.v9)(hV),t=(0,s.v9)(mV),n=(0,s.v9)(I)===Z.Ik.Locked,r=(t||e)&&!n,o=(0,h.Z)(),c=(0,m.Z)(o.legacy),{context:S}=(0,a.UO)();return i.createElement(i.Fragment,null,n?null:i.createElement(le,null),i.createElement(v.Z,null,i.createElement(i.Suspense,{fallback:i.createElement(cr.Z,null,i.createElement(f.Z,null,i.createElement(b.Z,null)))},i.createElement(a.rs,null,i.createElement(a.AW,{exact:!0,path:V.Z.firstRunExperience,component:JR}),i.createElement(a.AW,{exact:!0,path:V.Z.serverSetup,component:Es}),i.createElement(a.AW,{exact:!0,path:V.Z.watchNow,component:Ls}),i.createElement(a.AW,null,i.createElement("div",null,i.createElement(jp,null)),i.createElement("div",{className:pV},i.createElement(v.Z,null,i.createElement(i.Suspense,{fallback:i.createElement(cr.Z,null,i.createElement(f.Z,null,i.createElement(b.Z,null)))},i.createElement(a.rs,null,i.createElement(a.AW,{exact:!0,path:V.Z.logout},i.createElement(cr.Z,null,i.createElement(tm,null))),i.createElement(a.AW,{exact:!0,path:V.Z.login},i.createElement(cr.Z,null,i.createElement(_p,null))),i.createElement(a.AW,{exact:!0,path:V.Z.signUp},i.createElement(cr.Z,null,i.createElement(Pi,{signUp:!0}))),i.createElement(a.AW,{exact:!0,path:V.Z.announcements,component:KR}),i.createElement(a.AW,{exact:!0,path:V.Z.info,component:eV}),i.createElement(a.AW,{exact:!0,path:V.Z.logs,component:tV}),i.createElement(a.AW,{path:V.V,component:cV}),i.createElement(a.AW,null,i.createElement(cr.Z,null,i.createElement(lr.Z,null,i.createElement(YR,null),i.createElement(v.Z,null,i.createElement(i.Suspense,{fallback:i.createElement(y.Z,null,i.createElement(qR,null),i.createElement(f.Z,null,i.createElement(b.Z,null)))},i.createElement(a.rs,null,l.Z.allowSyncDownload?i.createElement(a.AW,{exact:!0,path:V.Z.downloads,component:XR}):null,i.createElement(a.AW,{exact:!0,path:V.Z.home},i.createElement(g.ZP,{metricsPage:d.Sd,metricsContextParam:S},i.createElement(rr,null))),i.createElement(a.AW,{exact:!0,path:V.Z.media,component:$R}),i.createElement(a.AW,{exact:!0,path:V.Z.playHistory,component:nV}),i.createElement(a.AW,{exact:!0,path:V.Z.playlist,component:rV}),i.createElement(a.AW,{exact:!0,path:V.Z.prePlay,component:c?iV:sV}),i.createElement(a.AW,{exact:!0,path:V.Z.providerSettings,component:aV}),i.createElement(a.AW,{exact:!0,path:V.Z.search,component:oV}),i.createElement(a.AW,{exact:!0,path:V.Z.serverDownloadMessage,component:Gp}),i.createElement(a.AW,{exact:!0,path:V.Z.serverUpdate,component:lV}),i.createElement(a.AW,{exact:!0,path:V.Z.transientPrePlay,component:uV}),i.createElement(a.AW,{component:Yp.Z})))))),(p.Z.hasServiceWorker,null)))))))))),n?i.createElement(Cs,null):null,r?i.createElement(i.Fragment,null,i.createElement(ir,null,i.createElement(Vx,{component:Tx,playerType:u.Se})),i.createElement(ir,null,i.createElement(Vx,{component:BN,playerType:u.pV})),i.createElement(ir,null,i.createElement(Vx,{isGame:!0,component:Vk,playerType:u.eD}))):null,l.Z.allowSyncDownload?i.createElement(i.Suspense,{fallback:null},i.createElement(dV,null)):null)}},6339:(e,t,n)=>{"use strict";n.d(t,{Z:()=>De});var r=n(67294),i=n(89969),s=n(1392),a=n(84807),o=n(39597),l=n(41336),c=n(50327),d=n(59149),u=n(69294),p=n(98976),m=n(26098),h=n(97541),g=n(94173),y=n(85180),v=n(12415),f=n(54778),b=n(52562);const S="MetadataWidePosterListItem-container-3vHol2",I="MetadataWidePosterListItem-titlesContainer-34wJzk";var Z=Object.prototype.hasOwnProperty,P=Object.getOwnPropertySymbols,E=Object.prototype.propertyIsEnumerable;function M(e){var t=e,{item:n}=t,i=((e,t)=>{var n={};for(var r in e)Z.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&P)for(var r of P(e))t.indexOf(r)<0&&E.call(e,r)&&(n[r]=e[r]);return n})(t,["item"]);const{containerType:s,containerSubtype:M,listStyle:C}=(0,v.U)(),w=(0,m.Z)(null==n?void 0:n.sourceURI),D=(0,h.Z)(null==n?void 0:n.sourceURI),T=(0,f.Z)(i),O=(0,r.useMemo)((()=>(0,g.ZP)(s,M,{listStyle:C})),[M,s,C]),x=(0,r.useMemo)((()=>(0,y.Z)({height:i.cellHeight,aspectRatio:O})),[O,i.cellHeight]);return n?r.createElement(o.Z,{metadataItem:n,metadataItemState:w},r.createElement("div",{className:S,style:T.style},r.createElement(b.Z,{className:"MetadataWidePosterListItem-card-2Ra5hr PosterCard-card-2-REtd",metadataItem:n,metadataItemState:w,metadataTimelineState:D,width:x.width,height:x.height,aspectRatio:O}),r.createElement("div",{className:I},r.createElement(c.Z,{className:"MetadataWidePosterListItem-doubleTitle-9Q1GYt MetadataWidePosterListItem-title-2dLxc0",metadataItem:n}),r.createElement("div",{className:"MetadataWidePosterListItem-subtitle-6TrSQn MetadataWidePosterListItem-title-2dLxc0"},r.createElement(p.Z,{metadataItem:n}),n.leafCount?r.createElement(r.Fragment,null,r.createElement(a.Z,{separator:"·"}),r.createElement(u.Z,{metadataItem:n})):null,n.duration?r.createElement(r.Fragment,null,r.createElement(a.Z,{separator:"·"}),r.createElement(d.Z,{metadataItem:n})):null)))):r.createElement("div",{className:S,style:T.style},r.createElement(l.Z,{className:"MetadataWidePosterListItem-placeholderCard-3Yy3XE MetadataPosterCardPlaceholder-placeholder-23vQRH PosterCard-card-2-REtd",style:x,index:i.cellIndex}),r.createElement("div",{className:I},r.createElement("div",{className:"MetadataWidePosterListItem-placeholderTitle-38ftTR"}),r.createElement("div",{className:"MetadataWidePosterListItem-placeholderSubtitle-285isH MetadataWidePosterListItem-placeholderTitle-38ftTR"})))}var C=n(41538),w=n(18641),D=n(80656),T=n(7796),O=Object.defineProperty,x=Object.prototype.hasOwnProperty,A=Object.getOwnPropertySymbols,N=Object.prototype.propertyIsEnumerable,k=(e,t,n)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const L=parseInt(T.Z.v4PagePadding,10),j=parseInt(T.Z.v4CardShadowSize,10),R=parseInt(T.Z.gapMedium,10);var V=n(14492),U=n(2200),z=n(75212),B=Object.defineProperty,_=Object.prototype.hasOwnProperty,F=Object.getOwnPropertySymbols,H=Object.prototype.propertyIsEnumerable,W=(e,t,n)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q=(e,t)=>{for(var n in t||(t={}))_.call(t,n)&&W(e,n,t[n]);if(F)for(var n of F(t))H.call(t,n)&&W(e,n,t[n]);return e};function G({hub:e,hubTitleComponent:t,items:n,totalSize:a,onPageRequest:o}){const{type:l,subtype:c,style:d=C.n.Shelf}=e,u=(0,i.v9)(z.Z),{containerMeta:p}=(0,v.U)(),m=(0,r.useMemo)((()=>d===C.n.WideShelf?function(e){var t=e,{type:n,subtype:r,columnWidth:i}=t,s=((e,t)=>{var n={};for(var r in e)x.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&A)for(var r of A(e))t.indexOf(r)<0&&N.call(e,r)&&(n[r]=e[r]);return n})(t,["type","subtype","columnWidth"]);const a=(0,g.ZP)(n,r,{listStyle:C.n.WideShelf});return(0,D.Z)(((e,t)=>{for(var n in t||(t={}))x.call(t,n)&&k(e,n,t[n]);if(A)for(var n of A(t))N.call(t,n)&&k(e,n,t[n]);return e})({columnWidth:3*i+R,rowHeight:Math.floor(i/a),aspectRatio:a,innerHorizontalPadding:R,outerPaddingTop:j,outerPaddingRight:L,outerPaddingBottom:j,outerPaddingLeft:L},s))}({type:l,subtype:c,columnWidth:u}):(0,w.Z)({listType:l,subtype:c,listStyle:d,columnWidth:u,displayFields:null==p?void 0:p.DisplayFields,displayImages:null==p?void 0:p.DisplayImage})),[d,l,c,u,null==p?void 0:p.DisplayFields,null==p?void 0:p.DisplayImage]),h=(0,r.useMemo)((()=>e=>r.createElement(U.ZP,{key:e.key,column:e.cellIndex},d===C.n.WideShelf?r.createElement(M,Q({},e)):r.createElement(s.Z,Q({},e)))),[d]);return r.createElement(V.Z,{hub:e,hubTitleComponent:t,keyPropName:"listItemKey",items:n,totalSize:a,layout:m,cellComponentFactory:h,onPageRequest:o})}var Y=n(8593);var q=n(32550),K=n(77045),$=n(26021),X=n(57138),J=n(31298);const ee=function(e,t){const n=e.match(/^#([0-9|a-f]{2})([0-9|a-f]{2})([0-9|a-f]{2})$/i);if(!n)throw new Error("invalid hex color pattern");const[,r,i,s]=n;return`rgba(${parseInt(r,16)}, ${parseInt(i,16)}, ${parseInt(s,16)}, ${t})`};var te=n(40133),ne=n(35472),re=n(31235),ie=n(17331),se=n(57614),ae=n(93092);function oe({className:e,src:t}){return r.createElement("img",{className:e,src:t})}function le({isSelected:e,metadataItem:t}){const[n,i]=(0,re.c9)(),s=(0,ne.Z)(t,"key"),a=ee(t.backgroundColor,0),o=ee(t.backgroundColor,1),[l,c]=(0,K.Z)(),d=(0,r.useMemo)((()=>({backgroundColor:o})),[o]),u=(0,r.useMemo)((()=>({backgroundImage:`linear-gradient(to left, ${a}, ${o} 400px)`})),[a,o]);return r.createElement("div",{className:l?"SpotlightHubCard-hoveredCard-2bdlGb SpotlightHubCard-card-268FO5":"SpotlightHubCard-card-268FO5",style:d,ref:c},r.createElement("div",{className:"SpotlightHubCard-colorGradient-3k1grG",style:u}),r.createElement(se.Z,{serverEntityID:n.entityID,providerEntityID:i.entityID,className:"SpotlightHubCard-image-3H7ayz",url:t.art,size:te.Ko,component:oe}),r.createElement("div",{className:"SpotlightHubCard-copyOverlay-3-1IDP"},r.createElement("div",{className:"SpotlightHubCard-title-1q33N6"},t.title),r.createElement("div",{className:"SpotlightHubCard-summary-29vFxp"},t.summary),r.createElement("div",{className:"SpotlightHubCard-action-3mvHbz"},t.action)),r.createElement("div",{className:"SpotlightHubCard-attributionLogo-suhH0i"},r.createElement(ae.Z,{attributionLogo:t.attributionLogo})),r.createElement(ie.Z,{tabIndex:e?void 0:-1,to:s,className:"SpotlightHubCard-link-24YHoa",title:t.title}))}var ce=n(87684);function de({index:e,selectedIndex:t,metadataItem:n,onPress:i}){const s=(0,r.useCallback)((()=>{i(e)}),[e,i]);return r.createElement(ce.Z,{className:"SpotlightHubDot-dotButton-2cwzlh Button-button-1q7C1V Link-link-2WGTd7",title:n.title,onPress:s},r.createElement("span",{className:e===t?"SpotlightHubDot-dotIsSelected-2TiJfK SpotlightHubDot-dot-3I4o2q":"SpotlightHubDot-dot-3I4o2q"}))}function ue(e,t){return t*(e||0)}function pe({hub:e,items:t}){const[n,{width:i}]=(0,$.Z)(),s=(0,r.useCallback)((e=>{u(ue(i,e))}),[i]),[a,o]=(0,r.useState)(0),l=(0,r.useCallback)((({scrollLeft:e})=>{o(e)}),[]),c=function(e,t,n){return e?(0,Y.Z)(Math.floor((n-e/2)/e)+1,0,t-1):0}(i,t.length,a),[d,u]=(0,r.useState)(),[p,m,h]=(0,q.Z)(),[g,y]=(0,K.Z)(),[v,f]=(0,r.useState)(0);return(0,r.useEffect)((()=>{f(Date.now())}),[a]),(0,r.useEffect)((()=>{if(a===d)return void u(void 0);const n=Date.now()-v,r=p||g||!e.autoAdvanceDelayMs?null:window.setTimeout((()=>{var e,n;u(ue(i,(e=c+1,n=t.length,e-n*Math.floor(e/n))))}),n>e.autoAdvanceDelayMs?500:e.autoAdvanceDelayMs-n),s=window.setTimeout((()=>{const e=ue(i,c);e!==a&&u(e)}),1e3);return()=>{r&&window.clearTimeout(r),s&&window.clearTimeout(s)}}),[i,e.autoAdvanceDelayMs,p,g,t.length,v,c,a,d]),0===t.length?null:r.createElement("div",{className:"SpotlightHubScroller-hub-3V5KIE VirtualHubScroller-hub-bVNDB-",ref:(0,J.Z)(n,y),onFocus:m,onBlur:h},r.createElement(X.Z,{className:void 0===d?"SpotlightHubScroller-hubScroller-2nwIPv VirtualHubScroller-hubScroller-2urYxf VirtualListScroller-scroller-2VrU8W Scroller-scroller-3Rbtv0":"SpotlightHubScroller-hubScrollerControlledScroll-3gsyDu SpotlightHubScroller-hubScroller-2nwIPv VirtualHubScroller-hubScroller-2urYxf VirtualListScroller-scroller-2VrU8W Scroller-scroller-3Rbtv0",scrollDirection:X.I.Horizontal,smoothScroll:!0,targetScrollLeft:d,onScrollPositionChange:l},t.map(((e,t)=>r.createElement("div",{key:t,className:"SpotlightHubScroller-cell-27a3ol"},r.createElement(U.ZP,{column:t},r.createElement(le,{isSelected:t===c,metadataItem:e})))))),t.length>1?r.createElement("div",{className:"SpotlightHubScroller-dots-2oLzy4"},t.map(((e,t)=>r.createElement(de,{key:t,metadataItem:e,index:t,selectedIndex:c,onPress:s})))):null)}var me=n(39374),he=n(88050),ge=n(17524),ye=n(5562),ve=n(72071);function fe(e){const[,t]=(0,re.c9)(),n=(0,ve.Z)({pane:"tidalBanner"}),i=(0,r.useCallback)((()=>{n({action:he.J9})}),[n]);return ge.wB(t.identifier,ge.xF)?r.createElement("div",{className:"TidalUpsellHub-container-CghDAD"},r.createElement("div",{className:"TidalUpsellHub-text-3Sb2np"},r.createElement("div",{className:"TidalUpsellHub-logo-2UEioL","aria-label":"Tidal"}),r.createElement("div",{className:"TidalUpsellHub-body-VoEM0K"},(0,ye.Z)("Preview 60 million streaming tracks, thousands of music videos and more.")," ",r.createElement(ie.Z,{to:me.YC,className:"TidalUpsellHub-link-RwplUC Link-link-2WGTd7",target:"_blank",rel:"noopener noreferrer",onPress:i},(0,ye.Z)("Get started at plex.tv"))))):null}var be=n(10692),Se=n(76033),Ie=n(32765),Ze=Object.defineProperty,Pe=Object.prototype.hasOwnProperty,Ee=Object.getOwnPropertySymbols,Me=Object.prototype.propertyIsEnumerable,Ce=(e,t,n)=>t in e?Ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,we=(e,t)=>{for(var n in t||(t={}))Pe.call(t,n)&&Ce(e,n,t[n]);if(Ee)for(var n of Ee(t))Me.call(t,n)&&Ce(e,n,t[n]);return e};function De({hub:e,hubTitleComponent:t}){const{sourceURI:n,key:s,type:a,subtype:o,random:l,Meta:c,style:d=C.n.Shelf,isStale:u}=e,p=(0,i.I0)(),[m,h]=(0,re.c9)(),g=(0,r.useMemo)((()=>(0,Se.Z)(n)),[n]),y=(0,i.v9)(g);(0,r.useEffect)((()=>{u&&!l&&p(be.Z.actions.throttledRepopulateRequested({server:m,provider:h,sourceURI:n}))}),[p,u,h,l,m,n]);const f=(0,r.useCallback)((e=>{p(be.Z.actions.fetchRangeRequested(we(we({},e),{server:m,provider:h,sourceURI:n})))}),[p,h,m,n]),b=function(e){switch(e){case C.n.Spotlight:return pe;case C.n.Upsell:return fe}return G}(d);return r.createElement(v.ZP,{containerServer:m,containerProvider:h,containerSourceURI:y.sourceURI,containerKey:s,containerType:a,containerSubtype:o,containerMeta:c,listStyle:d},r.createElement(Ie.ZP,{items:y.items},r.createElement(b,{hub:e,hubTitleComponent:t,items:y.items,totalSize:y.totalSize,onPageRequest:f})))}},48420:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),i=n(71153),s=n(91608),a=n(14051);const o={[a.S.Tidal]:i.Z,[a.S.WatchTogether]:s.Z};function l({className:e,attribution:t}){const n=o[t];return n?r.createElement(n,{className:e}):null}var c=n(55588);function d({children:e,hub:t}){return r.createElement(c.Z,null,t.attribution?r.createElement(l,{className:"MetadataHubTitle-attribution-1DzlFO",attribution:t.attribution}):null,e)}},14051:(e,t,n)=>{"use strict";var r,i;n.d(t,{S:()=>r}),(i=r||(r={})).Plex="com.plex",i.Tidal="com.tidal",i.WatchTogether="com.watchtogether"},2098:(e,t,n)=>{"use strict";var r,i,s,a,o,l,c,d,u,p,m,h,g;n.d(t,{H_:()=>i,Sr:()=>a,Pi:()=>l,fS:()=>d,PD:()=>p,IY:()=>h}),(r||(r={})).Filter="filter",(s=i||(i={})).String="string",s.Integer="integer",s.Boolean="boolean",(o=a||(a={})).Ascending="asc",o.Descending="desc",(c=l||(l={})).Year="year",c.Decade="decade",c.Duration="duration",c.Rating="rating",c.HDR="hdr",c.FleSize="fileSize",c.Bitrate="bitrate",(u=d||(d={})).Tag="tag",u.String="string",u.Integer="integer",u.Boolean="boolean",u.Date="date",u.SubtitleLanguage="subtitleLanguage",u.AudioLanguage="audioLanguage",u.Resolution="resolution",(m=p||(p={})).AddedAt="addedAt",m.AddedAtGrandparentTitle="addedAtGrandparentTitle",m.AirsAt="airsAt",m.AttributionLogo="attributionLogo",m.ChildCount="childCount",m.ContentRating="contentRating",m.Duration="duration",m.EpisodeIdentifier="episodeIdentifier",m.GrandparentTitle="grandparentTitle",m.LastRatedAt="lastRatedAt",m.LastViewedAt="lastViewedAt",m.LeafCount="leafCount",m.MediaBitrate="mediaBitrate",m.OriginallyAvailableAt="originallyAvailableAt",m.OriginalTitle="originalTitle",m.ParentTitle="parentTitle",m.Rating="rating",m.SourceTitle="sourceTitle",m.Title="title",m.TitleAttributed="titleAttributed",m.UnviewedLeafCount="unviewedLeafCount",m.UserRating="userRating",m.VideoResolution="videoResolution",m.ViewCount="viewCount",m.ViewOffset="viewOffset",m.Year="year",(g=h||(h={})).Attribution="attribution",g.Avatar="avatar",g.Background="background",g.Banner="banner",g.Clear="clear",g.CoverArt="coverArt",g.CoverPoster="coverPoster",g.CoverSquare="coverSquare",g.Snapshot="snapshot"},39597:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294),i=n(89969),s=n(60316),a=n(12415),o=n(10692),l=n(31235);function c({children:e,metadataItem:t,metadataItemState:n}){const c=(0,i.I0)(),{containerServer:d,containerProvider:u,containerSourceURI:p}=(0,a.U)(),m=(0,r.useMemo)((()=>t.source?(0,s.Z)(t.source):null),[t.source]),h=!!m&&(m.serverIdentifier!==d.machineIdentifier||m.providerIdentifier!==u.identifier);return(0,r.useEffect)((()=>{(n.isStale||n.isDeleted)&&c(o.Z.actions.throttledRepopulateRequested({server:d,provider:u,sourceURI:p}))}),[u,d,p,c,n.isDeleted,n.isStale]),m&&h?r.createElement(l.ZP,{machineIdentifier:m.serverIdentifier,providerIdentifier:m.providerIdentifier},e):r.createElement(r.Fragment,null,e)}},46221:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L});var r=n(67294),i=n(89969),s=n(34007),a=n(79932),o=n(88050),l=n(91135),c=n(26098),d=n(29472),u=n(39537),p=n(4869),m=n(23606),h=n(33918),g=n(12415),y=n(31235),v=n(17331),f=n(80913);const b={playButton:"PlayButton-playButton-3g-Gk- Link-link-2WGTd7",playCircle:"PlayButton-playCircle-2hG_PH"};var S=Object.defineProperty,I=Object.prototype.hasOwnProperty,Z=Object.getOwnPropertySymbols,P=Object.prototype.propertyIsEnumerable,E=(e,t,n)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M=(e,t)=>{for(var n in t||(t={}))I.call(t,n)&&E(e,n,t[n]);if(Z)for(var n of Z(t))P.call(t,n)&&E(e,n,t[n]);return e};function C(e){var t=e,{className:n=b.playButton,circleClassName:i=b.playCircle}=t,s=((e,t)=>{var n={};for(var r in e)I.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Z)for(var r of Z(e))t.indexOf(r)<0&&P.call(e,r)&&(n[r]=e[r]);return n})(t,["className","circleClassName"]);return r.createElement(v.Z,M(M({},s),{className:n}),r.createElement(f.Z,{className:i}))}var w=n(2200),D=n(59861),T=Object.defineProperty,O=Object.prototype.hasOwnProperty,x=Object.getOwnPropertySymbols,A=Object.prototype.propertyIsEnumerable,N=(e,t,n)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k=(e,t)=>{for(var n in t||(t={}))O.call(t,n)&&N(e,n,t[n]);if(x)for(var n of x(t))A.call(t,n)&&N(e,n,t[n]);return e};function L(e){var t,n=e,{metadataItem:v}=n,f=((e,t)=>{var n={};for(var r in e)O.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&x)for(var r of x(e))t.indexOf(r)<0&&A.call(e,r)&&(n[r]=e[r]);return n})(n,["metadataItem"]);const[b,S]=(0,y.c9)(),{containerServer:I,containerProvider:Z,containerKey:P,containerType:E}=(0,g.U)(),{metricsPage:M,metricsContextTuple:T}=(0,w.Zn)(),N=(0,c.Z)(v.sourceURI),L=(0,c.Z)(null==(t=v.onDeck)?void 0:t.sourceURI),j=(0,i.I0)(),R=(0,d.R)({containerServer:I,containerProvider:Z,server:b,provider:S,metadataItem:v,metadataItemState:N,metricsPage:M,metricsContextTuple:T}),V=(0,D.Z)(v),U=(0,r.useCallback)((()=>{V({action:o.NH}),R(a.wA({options:{containerKey:P,listType:E}}))}),[P,E,R,V]),z=(0,r.useCallback)((()=>{V({action:o.NH});const e=(0,p.Z)(v);j(s.lS({serverEntityID:b.entityID,providerEntityID:S.entityID,metricsPage:M,metricsContext:T,options:{containerKey:P,containerType:E,type:l.pX,identifier:e.channelIdentifier}}))}),[j,P,E,b,S,v,M,T,V]),B=(0,r.useCallback)((()=>{V({action:o.cO}),R(a.Em())}),[R,V]),_=(0,r.useMemo)((()=>(0,h.Z)(v)?z:v.type===u.pG.Artist?B:U),[v,z,U,B]);return r.createElement(C,k(k({},f),{"aria-label":(0,m.Z)(v,N,L),onPress:_}))}},52562:(e,t,n)=>{"use strict";n.d(t,{Z:()=>be});var r=n(67294),i=n(89969),s=n(7947),a=n(45399),o=n(89335),l=n(37568),c=n(19210),d=n(32129),u=n(99111),p=n(35472),m=n(39537),h=n(46396),g=n(94173),y=n(85180),v=n(57120),f=n(27219),b=n(33918),S=n(53866),I=n(27437),Z=n(31235),P=n(49429),E=n(59895),M=n(83696),C=n(79501);function w({className:e="SmartBadge-smartBadge-1IcFwC Badge-badge-3V2nLB"}){return r.createElement(M.Z,{className:e,iconComponent:C.Z})}var D=n(74474),T=n(11756),O=n(74901),x=n(83701),A=n(51493),N=n(98091),k=n(52924),L=n(57614),j=n(94184),R=n.n(j),V=n(57358),U=n(88050),z=n(5562),B=n(73862),_=n(46221),F=n(69001),H=n(38330),W=n(96307),Q=n(96768),G=n(17331),Y=n(33273),q=n(59861),K=n(72050),$=n(52410);const X="MetadataPosterCardActions-isHidden-3a_54z";function J({playCircleClassName:e="MetadataPosterCardActions-playCircle-3-j0JO PlayButton-playCircle-2DYa77 MetadataPosterCardCircle-cardCircle-1T_VVp",metadataItem:t,metadataItemState:n,isHovered:s,actionsMenuButtonID:a,isActionsPending:o,isActionsVisible:l,isActionsMenuOpen:c,isActionsMenuClosing:d,isSelectHidden:u,isSelected:p,isInSelectionRange:m,isSelectionActive:g,isPlayButtonCard:y,onActionsMenuClose:v,onActionsMenuCloseComplete:f,onActionsMenuToggle:b,onSelectPress:S}){const[I,P]=(0,Z.c9)(),E=(0,i.v9)(V.Z),M=(0,W.tW)({server:I,provider:P,stableUser:E,metadataItem:t,metadataItemState:n})&&(s||c&&!n.isPending),C=(0,W.J5)({server:I,provider:P,stableUser:E,metadataItem:t,metadataItemState:n}),w=(0,H.P)({server:I,provider:P,metadataItem:t,metadataItemState:n}),D=(0,q.Z)(t),T=(0,r.useCallback)((()=>{D({action:U.dm}),w((0,B.editMetadataItem)())}),[w,D]);return r.createElement(r.Fragment,null,!g&&l&&M?r.createElement(_.Z,{className:R()(y?"MetadataPosterCardActions-playCoverButton-3ys6cq PosterCardLink-hoveredLink-3BYG1D PosterCardLink-link-2mWlqA Link-link-2WGTd7 MetadataPosterCardActions-playButton-bMvN35 PlayButton-playButton-2dFmuo MetadataPosterCardActions-button--q7OIG Link-link-2WGTd7":"MetadataPosterCardActions-playButton-bMvN35 PlayButton-playButton-2dFmuo MetadataPosterCardActions-button--q7OIG Link-link-2WGTd7",!s&&d&&X),circleClassName:e,tabIndex:-1,metadataItem:t}):null,(0,K.Z)(P)&&!t.radio&&!u&&(p||m||l)?r.createElement(Y.Z,{className:R()("MetadataPosterCardActions-selectButton-9mUXBp SelectButton-selectButton-1C3dP4 Link-link-2WGTd7 MetadataPosterCardActions-button--q7OIG Link-link-2WGTd7",!s&&d&&X),isSelected:p,isInSelectionRange:m,title:(0,h.Z)(t),tabIndex:-1,onPress:S}):null,!g&&l&&!y&&C?r.createElement(G.Z,{className:R()("MetadataPosterCardActions-editButton-3xqm09 MetadataPosterCardActions-button--q7OIG Link-link-2WGTd7",!s&&d&&X),tabIndex:-1,"aria-label":(0,z.Z)("Edit"),onPress:T},r.createElement($.Z,null)):null,g||!l||y?null:r.createElement(Q.Z,{id:a,className:R()("MetadataPosterCardActions-moreButton-2gEa9g MetadataPosterCardActions-button--q7OIG Link-link-2WGTd7",!s&&d&&X),isPending:o,tabIndex:-1,onPress:b}),r.createElement(F.Z,{target:a,isOpen:c,metadataItem:t,actionsOverride:{isPlayVisible:!1,isEditVisible:!1},onMenuClose:v,onMenuCloseComplete:f}))}var ee=Object.defineProperty,te=Object.prototype.hasOwnProperty,ne=Object.getOwnPropertySymbols,re=Object.prototype.propertyIsEnumerable,ie=(e,t,n)=>t in e?ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,se=(e,t)=>{for(var n in t||(t={}))te.call(t,n)&&ie(e,n,t[n]);if(ne)for(var n of ne(t))re.call(t,n)&&ie(e,n,t[n]);return e};function ae({className:e="MetadataPosterCardProgressBar-progress-2_I-C-",trackClassName:t="MetadataPosterCardProgressBar-track-2w4qWw",barClassName:n="MetadataPosterCardProgressBar-bar-28PJbT",style:i,barStyle:s,progress:a}){return r.createElement("div",{className:e,style:i},r.createElement("div",{className:t}),r.createElement("div",{className:n,style:se(se({},s),{transform:`translate3d(-${100-a}%, 0, 0)`})}))}var oe=n(44098),le=n(7203),ce=n(11969),de=n(39869),ue=n(62020),pe=n(74739);function me({children:e,className:t="MetadataPosterCardCircle-cardCircle-1T_VVp"}){return r.createElement("div",{className:t},e)}function he({children:e}){return r.createElement("div",{className:"MetadataPosterCardScanStatus-statusContainer-1ojit4"},e)}function ge({children:e}){return r.createElement(he,null,r.createElement("div",{className:"MetadataPosterCardScanStatus-spinnerContainer-3yzhvK"},r.createElement(le.Z,{className:"MetadataPosterCardScanStatus-spinner-30HTx4 Spinner-spinner-CSMaLA spin-spin-34xiUE"})),r.createElement(me,null,e))}function ye({metadataItemState:e,metadataTimelineState:t}){return t.metadataState===oe.H.Matching?r.createElement(ge,null,r.createElement(de.Z,{"aria-label":(0,z.Z)("Matching")})):t.metadataState===oe.H.Processing||t.metadataState===oe.H.Loading?r.createElement(ge,null,r.createElement(ue.Z,{"aria-label":(0,z.Z)("Downloading Metadata")})):t.mediaState?r.createElement(ge,null,r.createElement(ce.Z,{"aria-label":(0,z.Z)("Analyzing")})):e.deletedAt?r.createElement(he,null,r.createElement(me,{className:"MetadataPosterCardScanStatus-trashCircle-8nNMxU MetadataPosterCardCircle-cardCircle-1T_VVp"},r.createElement(pe.Z,{"aria-label":(0,z.Z)("In Trash")}))):null}const ve="MetadataPosterCard-topRightBadge-ZKd4Ov MetadataPosterCard-badge-3iLj2g",fe=(0,c.Z)(d.Z.slowSpeed),be=(0,r.memo)((function({className:e,playCircleClassName:t,metadataItem:n,metadataItemState:c,metadataTimelineState:M,width:C,height:j,aspectRatio:R,displayImageType:V,isPlayButtonCard:U,isPlayedStatusHidden:z,isProgressBarHidden:B,isSelectHidden:_,isSelectionActive:F,isSelected:H,isInSelectionRange:W,onHover:Q,onToggleSelect:G}){var Y;const[q,K]=(0,Z.c9)(),$=(0,i.v9)((0,A.Z)(a.q1)),{hoverRef:X,isHovered:ee,actionsMenuButtonID:te,isActionsPending:ne,isActionsVisible:re,isActionsMenuOpen:ie,isActionsMenuClosing:se,onActionsMenuClose:oe,onActionsMenuCloseComplete:le,onActionsMenuToggle:ce}=(0,u.Z)({server:q,provider:K,metadataItem:n,metadataItemState:c}),de=(0,p.Z)(n,"key"),ue=U||!de,pe=null!=(Y=c.viewOffset)?Y:0,me=(0,r.useRef)(!1),he=me.current?d.Z.slowSpeed:"0s",ge=!_&&F,be=R||(0,g.ZP)(n.type,n.subtype);(0,k.Z)("number"==typeof C||"number"==typeof j,"`MetadataPosterCard` requires either a `width` or `height, or both");let Se={width:0,height:0};null!=C&&null!=j?Se={width:C,height:j}:C?Se=(0,y.Z)({width:C,aspectRatio:be}):j&&(Se=(0,y.Z)({height:j,aspectRatio:be}));const Ie=(0,r.useCallback)((()=>{null==G||G()}),[G]);(0,r.useEffect)((()=>{null==Q||Q(ee)}),[ee,Q]),(0,r.useEffect)((()=>{const e=window.setTimeout((()=>{me.current=!0}),fe);return()=>{window.clearTimeout(e)}}),[]);let Ze="cover";return n.isLiveTVChannel?Ze="75%":n.type===m.pG.Game&&(Ze="contain"),r.createElement(T.Z,{className:e,style:Se,ref:X},n.radio?r.createElement(O.Z,{width:Se.width,height:Se.height},r.createElement(s.Z,null)):r.createElement(L.Z,{className:"MetadataPosterCard-image-14Kch3",serverEntityID:q.entityID,providerEntityID:K.entityID,url:(0,v.Z)(n,{aspectRatio:be,displayImageType:V}),width:Se.width,height:Se.height,component:l.Z,preloadOnMount:!1,animateOnMount:!1,backgroundSize:Ze}),ee||ie?null:r.createElement(ye,{metadataItemState:c,metadataTimelineState:M}),n.userState&&pe>0&&!B?r.createElement(ae,{className:"MetadataPosterCard-progress-3wzXyY MetadataPosterCardProgressBar-progress-2_I-C-",style:{opacity:ee||ie?0:1,animationDuration:he},barClassName:"MetadataPosterCard-progressBar-3_l1bX MetadataPosterCardProgressBar-bar-28PJbT",barStyle:{animationDuration:he},progress:(0,o.Z)(pe,n.duration)}):null,ue||ge?null:r.createElement(x.Z,{isHovered:ee||ie,to:de,"aria-label":(0,h.Z)(n)}),ge?r.createElement(x.Z,{className:H?"MetadataPosterCard-selectedLink-2yBNf3 PosterCardLink-link-2mWlqA Link-link-2WGTd7":void 0,hoverClassName:H?"MetadataPosterCard-hoveredSelectedLink-3XsEZh PosterCardLink-hoveredLink-3BYG1D PosterCardLink-link-2mWlqA Link-link-2WGTd7":void 0,isHovered:W||ee,"aria-label":(0,h.Z)(n),onPress:Ie}):null,ee||ie?null:r.createElement(N.Z,{className:"MetadataPosterCard-bottomRightBadge-rTvD5e MetadataPosterCard-badge-3iLj2g",metadataItem:n,isShadowVisible:!0}),r.createElement(J,{playCircleClassName:t,metadataItem:n,metadataItemState:c,isHovered:ee,isActionsPending:ne,isActionsVisible:re,actionsMenuButtonID:te,isActionsMenuOpen:ie,isActionsMenuClosing:se,isSelectHidden:_,isSelected:H,isInSelectionRange:W,isSelectionActive:ge,isPlayButtonCard:ue,onActionsMenuClose:oe,onActionsMenuCloseComplete:le,onActionsMenuToggle:ce,onSelectPress:Ie}),n.smart&&!n.radio?r.createElement("div",{className:ve,style:{animationDuration:he}},r.createElement(w,null)):null,$&&!z&&(c.watchlistedAt||(0,S.Z)(n,c))?r.createElement("div",{className:ve,style:{animationDuration:he}},c.watchlistedAt?r.createElement(D.Z,null):r.createElement(P.Z,null)):null,c.grandparentSubscriptionType||c.subscriptionType?r.createElement("div",{className:ve},c.grandparentSubscriptionType?r.createElement(E.Z,{subscriptionType:c.grandparentSubscriptionType}):null,!c.grandparentSubscriptionType&&c.subscriptionType?r.createElement(E.Z,{subscriptionType:c.subscriptionType}):null):null,$||!(0,f.Z)(n,c,K)||c.viewOffset||c.viewCount?null:r.createElement("div",{className:"MetadataPosterCard-legacyUnwatchedTagMask-2GZyFo"},r.createElement("div",{className:"MetadataPosterCard-legacyUnwatchedTag-2p_o9e"})),$||(0,I.Z)(K)||(0,b.Z)(n)||n.type!==m.pG.Show&&n.type!==m.pG.Season||null!=c.saved&&!c.saved||!c.unviewedLeafCount?null:r.createElement("div",{className:"MetadataPosterCard-legacyUnwatchedEpisodesBadge-PxtEaD MetadataPosterCard-legacyNumberBadge-3vfppB MetadataPosterCard-badge-3iLj2g MetadataPosterCard-topRightBadge-ZKd4Ov MetadataPosterCard-badge-3iLj2g"},c.unviewedLeafCount))}))},41336:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=n(11756);var s=Object.defineProperty,a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e};function u({className:e="MetadataPosterCardPlaceholder-placeholder-23vQRH PosterCard-card-2-REtd",style:t,index:n}){return r.createElement(i.Z,{className:e,style:d({animationDelay:n%12*200+"ms"},t)})}},1392:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var r=n(67294),i=n(39597),s=n(41336),a=n(26098),o=n(97541),l=n(39537),c=n(94173),d=n(85180),u=n(25765),p=n(12415),m=n(41538),h=n(54778),g=n(56658),y=n(22602),v=n(34345),f=n(52562),b=n(94184),S=n.n(b);function I({metadataItem:e,component:t,allowLink:n,isSecondary:i,isDoubleLine:s}){return r.createElement(t,{className:S()(s?"MetadataPosterCardTitle-doubleLineTitle-2FWysX MetadataPosterCardTitle-title-3Rf96m":"MetadataPosterCardTitle-singleLineTitle-tbmjc5 MetadataPosterCardTitle-title-3Rf96m",i&&"MetadataPosterCardTitle-isSecondary-3Nh6J0"),allowLink:n,tabIndex:-1,metadataItem:e})}var Z=Object.prototype.hasOwnProperty,P=Object.getOwnPropertySymbols,E=Object.prototype.propertyIsEnumerable;function M(e){var t=e,{item:n}=t,b=((e,t)=>{var n={};for(var r in e)Z.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&P)for(var r of P(e))t.indexOf(r)<0&&E.call(e,r)&&(n[r]=e[r]);return n})(t,["item"]);const{containerType:S,containerSubtype:M,containerMeta:C,listStyle:w}=(0,p.U)(),D=(0,a.Z)(null==n?void 0:n.sourceURI),T=(0,o.Z)(null==n?void 0:n.sourceURI),[O,x]=(0,r.useState)(!1),{isSelectionActive:A,isSelected:N,isInSelectionRange:k,onToggleSelect:L}=(0,g.Z)({isHovered:O,metadataItem:n,metadataItemState:D}),j=(0,h.Z)(b),R=(0,r.useMemo)((()=>{var e;return null!=(e=null==n?void 0:n.displayImage)?e:(0,v.Z)(S,M,null==C?void 0:C.DisplayImage)}),[null==C?void 0:C.DisplayImage,M,S,null==n?void 0:n.displayImage]),V=(0,r.useMemo)((()=>(0,c.ZP)(S,M,{listStyle:w,displayImageType:R})),[M,S,R,w]),U=(0,r.useMemo)((()=>(0,d.Z)({width:b.cellWidth,aspectRatio:V})),[V,b.cellWidth]),z=(0,r.useMemo)((()=>{if(!n)return[];const e=S===m.U.Collection||n.type!==l.pG.Collection&&S!==m.U.Mixed;return(0,u.ZP)(e?S:n.type,e?M:n.subtype,{listStyle:w,displayFieldNames:n.displayFields||(0,y.Z)(n.type,n.subtype,null==C?void 0:C.DisplayFields)})}),[M,S,null==C?void 0:C.DisplayFields,w,n]),B=(null==n?void 0:n.type)===l.pG.Game;return n?r.createElement(i.Z,{metadataItem:n,metadataItemState:D},r.createElement("div",{style:j.style,"data-qa-id":"cellItem"},r.createElement(f.Z,{className:"MetadataPosterListItem-card-23SzTE PosterCard-card-2-REtd",metadataItem:n,metadataItemState:D,metadataTimelineState:T,width:U.width,height:U.height,aspectRatio:V,isSelectionActive:A,isSelected:N,isInSelectionRange:k,displayImageType:R,isProgressBarHidden:B,onHover:x,onToggleSelect:L}),z.map(((e,t)=>{if(null==e)return null;const i=(0,u.uM)(e);return r.createElement(I,{key:t,component:i.component,isSecondary:t>0,isDoubleLine:i.isDoubleLine,allowLink:i.allowLink,metadataItem:n})})))):r.createElement("div",{style:j.style},r.createElement(s.Z,{style:U,index:b.cellIndex}))}},38104:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(67294),i=n(89969),s=n(22222),a=n(98727),o=n(90217),l=n(17524),c=n(45399),d=n(5562),u=n(30426),p=n(14700),m=n(96508),h=n(3386),g=n(39537),y=n(81858),v=n(94177);const f=(0,s.P1)(o.Z,a.Z,((e,t)=>e.filter((e=>e.isFullOwnedServer&&e.isConnected&&!e.isOutOfDate&&e.ownerFeatures.includes(c.Ao))).reduce(((e,n)=>{var r;const i=n.providers.map((e=>t[e])).find((e=>e.identifier===l.Y3));if(!i)return e;const s=(0,h.Z)(i),a=null!=(r=null==s?void 0:s.directories)?r:[],o={machineIdentifier:n.machineIdentifier,providerIdentifier:i.identifier,serverFriendlyName:n.friendlyName,targetLibraries:[]};return a.forEach((e=>{e.type===g.pG.Artist&&o.targetLibraries.push({libraryTitle:e.title,libraryType:e.type,librarySectionID:e.id})}),[]),o.targetLibraries.length&&e.push(o),e}),[])));function b({children:e,targetMachineIdentifier:t,targetProviderIdentifier:n,targetLibrary:s,onAddToLibrary:a}){const o=(0,i.v9)((0,v.Z)(t)),l=(0,i.v9)((0,y.Z)(t,n)),c=(0,r.useCallback)((()=>{a({targetServer:o,targetProvider:l,targetLibrarySectionID:s.librarySectionID,targetLibraryType:s.libraryType})}),[a,s,l,o]);return r.createElement(p.Z,{onPress:c},e)}function S({onAddToLibrary:e}){const t=(0,i.v9)(f);if(!t.length)return null;if(1===t.length&&1===t[0].targetLibraries.length){const n=t[0];return r.createElement(b,{targetMachineIdentifier:n.machineIdentifier,targetProviderIdentifier:n.providerIdentifier,targetLibrary:n.targetLibraries[0],onAddToLibrary:e},(0,d.Z)("Add to {serverName}",{serverName:n.serverFriendlyName}))}return r.createElement(m.Z,{label:(0,d.Z)("Add to Library")},t.map((t=>r.createElement(r.Fragment,{key:`${t.machineIdentifier}:${t.providerIdentifier}`},r.createElement(u.Z,null,t.serverFriendlyName),t.targetLibraries.map((n=>r.createElement(b,{key:n.librarySectionID,targetMachineIdentifier:t.machineIdentifier,targetProviderIdentifier:t.providerIdentifier,targetLibrary:n,onAddToLibrary:e},(0,d.Z)("Add to {libraryName}",{libraryName:n.libraryTitle}))))))))}},69001:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Be});var r=n(67294),i=n(89969),s=n(11203),a=n(34007),o=n(79932),l=n(57358),c=n(88050),d=n(17524),u=n(86953),p=n(5562),m=n(89984),h=n(74287),g=n(14700),y=n(68105),v=n(96508),f=n(9119),b=n(60528),S=n(73862),I=n(38104),Z=n(84936),P=n(75534),E=n(31235),M=n(2294);function C({metadataItem:e,downloadIFrameName:t,onMenuClose:n,onDownloadVersionPress:i,onDownloadFilePress:s}){var a;const[o]=(0,E.c9)(),l=(0,P.Z)(),c=1===(null==(a=e.Media)?void 0:a.length)?function(e,t){var n;if(!(null==(n=t.Part)?void 0:n.length))return;const r=t.Part[0];return Z.Z.join([e.uri,r.key],{download:1,"X-Plex-Token":e.accessToken})}(o,e.Media[0]):null,d=(0,r.useCallback)((()=>{c?(null==s||s(),n()):i()}),[c,s,i,n]);return r.createElement(r.Fragment,null,r.createElement(g.Z,{to:c,target:t||l,onPress:d},(0,p.Z)("Download File")),t?null:r.createElement(M.Z,null,r.createElement("iframe",{name:l,style:{display:"none"}})))}var w=n(99112),D=n(69605),T=n(84807),O=n(9713),x=n(34377),A=n(36245);function N({isOpen:e,mediaItems:t,onSelect:n,onCancel:i}){return r.createElement(x.Z,{isOpen:e,title:(0,p.Z)("Play Version"),metricsPage:D.DV,onItemSelect:n,onCancel:i},t.map(((e,t)=>{const{title:n,info:i}=(0,O.Z)(e),s=!!n,a=!!(null==i?void 0:i.length);return r.createElement(A.Z,{key:t,value:t},s?e.title:null,s&&a?r.createElement(T.Z,null):null,a?i:null,s||a?null:(0,p.Z)("Unknown"))})))}var k=n(26098),L=n(97541),j=n(38330),R=n(29472),V=n(39537),U=n(44081),z=n(19376),B=n(96307),_=n(49327),F=n(23606),H=n(33918),W=n(1193),Q=n(12415),G=n(14818),Y=n(46905),q=n(2200),K=n(59861),$=n(84320),X=n(88742),J=n(86945),ee=n(60179),te=n(83492),ne=n(96338),re=n(62417);function ie({metadataItem:e,onMenuClose:t}){const n=(0,r.useCallback)(((e,t,n)=>r.createElement(g.Z,{isDisabled:t,onPress:n},e?(0,p.Z)("Delete Download"):(0,p.Z)("Download"))),[]);return r.createElement(re.Z,{metadataItem:e,render:n,onClose:t})}var se=n(6406),ae=n(61046),oe=n(22222),le=n(51912),ce=Object.defineProperty,de=Object.prototype.hasOwnProperty,ue=Object.getOwnPropertySymbols,pe=Object.prototype.propertyIsEnumerable,me=(e,t,n)=>t in e?ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,he=(e,t)=>{for(var n in t||(t={}))de.call(t,n)&&me(e,n,t[n]);if(ue)for(var n of ue(t))pe.call(t,n)&&me(e,n,t[n]);return e};const ge={hub:{promotedToRecommended:!1,promotedToOwnHome:!1,promotedToSharedHome:!1},isPending:!1,isPopulated:!0,isUpdating:!1,error:null};var ye=n(55278),ve=Object.defineProperty,fe=Object.prototype.hasOwnProperty,be=Object.getOwnPropertySymbols,Se=Object.prototype.propertyIsEnumerable,Ie=(e,t,n)=>t in e?ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ze=(e,t)=>{for(var n in t||(t={}))fe.call(t,n)&&Ie(e,n,t[n]);if(be)for(var n of be(t))Se.call(t,n)&&Ie(e,n,t[n]);return e};function Pe({sourceURI:e,onMenuClose:t}){var n,s,a;const[o,,l]=(0,E.c9)(),c=(0,i.I0)(),d=(0,i.v9)(function(e){return(0,oe.P1)(le.Z,(t=>{var n;const r=t.publishedItems[e];return he(he(he({},ge),r),{hub:null!=(n=null==r?void 0:r.hub)?n:ge.hub})}))}(e));(0,r.useEffect)((()=>{l&&c(ae.Z.actions.publishedFetchRequested({server:o,sourceURI:e,contentDirectoryID:l.id}))}),[l,c,o,e]);const u=(0,r.useCallback)((n=>{l&&(c(ae.Z.actions.publishedUpdateRequested({server:o,sourceURI:e,contentDirectoryID:l.id,hub:Ze(Ze({},d.hub),n)})),t())}),[l,c,t,d.hub,o,e]),m=(0,r.useCallback)((()=>{d.hub&&u({promotedToRecommended:!d.hub.promotedToRecommended})}),[d.hub,u]),h=(0,r.useCallback)((()=>{d.hub&&u({promotedToOwnHome:!d.hub.promotedToOwnHome})}),[d.hub,u]),g=(0,r.useCallback)((()=>{d.hub&&u({promotedToSharedHome:!d.hub.promotedToSharedHome})}),[d.hub,u]);return r.createElement(r.Fragment,null,r.createElement(ye.Z,{isSelected:null==(n=d.hub)?void 0:n.promotedToRecommended,isDisabled:d.isUpdating,onPress:m},(0,p.Z)("Library")),r.createElement(ye.Z,{isSelected:null==(s=d.hub)?void 0:s.promotedToOwnHome,isDisabled:d.isUpdating,onPress:h},(0,p.Z)("Home")),r.createElement(ye.Z,{isSelected:null==(a=d.hub)?void 0:a.promotedToSharedHome,isDisabled:d.isUpdating,onPress:g},(0,p.Z)("Shared Users' Home")))}var Ee=n(52448);var Me=n(57501),Ce=n(19469),we=n(66788),De=n(75696),Te=n(96270),Oe=n(12159),xe=Object.defineProperty,Ae=Object.prototype.hasOwnProperty,Ne=Object.getOwnPropertySymbols,ke=Object.prototype.propertyIsEnumerable,Le=(e,t,n)=>t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,je=(e,t)=>{for(var n in t||(t={}))Ae.call(t,n)&&Le(e,n,t[n]);if(Ne)for(var n of Ne(t))ke.call(t,n)&&Le(e,n,t[n]);return e};const Re=["isPlayVisible","isWatchTogetherVisible","isPlayVersionVisible","isPlayAllVisible","isShuffleVisible","isQueueVisible","isPlayTrailerVisible","isPlayMusicVideoVisible","isAddToPlaylistVisible","isAddToLibraryVisible"],Ve=["isEditVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSettingsVisible","isRefreshVisible","isAnalyzeVisible","isFixMatchVisible","isMatchVisible","isUnmatchVisible","isSplitApartVisible","isSyncVisible","isSyncDownloadVisible","isOptimizeVisible","isDownloadFileVisible","isShareVisible","isDeleteVisible","isDeleteVersionVisible","isViewPlayHistoryVisible","isGetInfoVisible"];function Ue(e){const t=(0,r.useRef)(!1);return e.isOpen&&(t.current=!0),t.current}function ze({actions:e,server:t,provider:n,metadataItem:l,metadataItemState:h,containerSourceURI:P,containerKey:E,containerType:M,allowRedirectOnDelete:w,playVersionModalState:D,confirmMarkPlayedModalState:T,confirmMarkUnplayedModalState:O,settingsModalState:x,addToCollectionModalState:A,addToPlaylistModalState:N,shareModalState:j,mediaSubscriptionModalState:R,watchTogetherModalState:B,onLegacyAction:Q,onLegacyPlay:Y,onMenuClose:q}){var J;const te=(0,i.I0)(),re=(0,k.Z)(null==(J=l.onDeck)?void 0:J.sourceURI),se=(0,L.Z)(l.sourceURI),ae=!!se.metadataState,oe=!!se.mediaState,le=Re.some((t=>e[t])),ce=Ve.some((t=>e[t])),de=le&&ce,ue=(0,K.Z)(l),pe=(0,r.useMemo)((()=>!!E&&/continueWatching/.test(E)),[E]),me=(0,X.t)(t,n,l.key,l.content),he=me?function(e,t={},n={}){const r=(0,Ee.Z)(e,t,n);return Z.Z.join(["#!",r])}(...me):void 0,ge=(0,r.useCallback)((()=>{ue({action:c.NH}),Y(o.wA({options:{containerKey:E,listType:M}}))}),[E,M,Y,ue]),ye=(0,r.useCallback)((()=>{ue({action:c.NH}),Y((0,a.lS)({options:{containerKey:E,listType:M}}))}),[E,M,Y,ue]),ve=(0,r.useCallback)((()=>{ue({action:c.Rn}),Y(o.Ld())}),[Y,ue]),fe=(0,r.useCallback)((()=>{ue({action:c.cO}),Y(o.Em())}),[Y,ue]),be=(0,r.useCallback)((()=>{ue({action:c.pe}),Y(o.tP({options:{playAll:!0,next:!0}}))}),[Y,ue]),Se=(0,r.useCallback)((()=>{ue({action:c.PR}),Y(o.tP({options:{playAll:!0,next:!1}}))}),[Y,ue]),Ie=(0,r.useCallback)((()=>{ue({action:c.$W}),Y(o.EF())}),[Y,ue]),Ze=(0,r.useCallback)((()=>{ue({action:c.b8}),Y(o.QR({playlistType:m.j0}))}),[Y,ue]),Me=(0,r.useCallback)((()=>{ue({action:c.Fx}),Y(o.QR({playlistType:m.pX}))}),[Y,ue]),Ce=(0,r.useCallback)((()=>{Q((0,s.Fj)())}),[Q]),we=(0,r.useCallback)((({targetServer:e,targetProvider:r,targetLibrarySectionID:i,targetLibraryType:s})=>{ue({action:c.Ao}),te(W.Z.actions.addToLibraryRequested({targetServer:e,targetProvider:r,targetLibrarySectionID:i,targetLibraryType:s,server:t,provider:n,metadataItem:l})),q()}),[te,l,q,n,t,ue]),De=(0,r.useCallback)((e=>{let r,i;ue({action:e?c.$J:c.Go}),!d.wB(n.identifier,d.xF)&&l.grandparentKey&&l.grandparentRatingKey?(r=l.grandparentKey,i=l.grandparentRatingKey):(r=l.key,i=l.ratingKey);const s=(0,u.Z)({serverIdentifier:t.machineIdentifier,providerIdentifier:n.identifier,key:r});te(W.Z.actions.toggleSavedRequested({server:t,provider:n,sourceURI:s,ratingKey:i,saved:e})),q()}),[te,l.grandparentKey,l.grandparentRatingKey,l.key,l.ratingKey,q,n,t,ue]),Te=(0,r.useCallback)((()=>{De(!0)}),[De]),xe=(0,r.useCallback)((()=>{De(!1)}),[De]),Ae=(0,r.useCallback)((()=>{ue({action:c.UP}),te(W.Z.actions.removeFromContinueWatchingRequested({server:t,provider:n,sourceURI:l.sourceURI,ratingKey:l.ratingKey})),q()}),[te,l,q,n,t,ue]),Ne=(0,r.useCallback)((e=>{ue({action:e?c.JL:c.hi}),te(W.Z.actions.toggleWatchlistRequested({server:t,provider:n,sourceURI:l.sourceURI,ratingKey:l.ratingKey,added:e})),q()}),[te,l.ratingKey,l.sourceURI,q,n,t,ue]),ke=(0,r.useCallback)((()=>{Ne(!0)}),[Ne]),Le=(0,r.useCallback)((()=>{Ne(!1)}),[Ne]),je=(0,r.useCallback)((()=>{ue({action:c.DK}),A.onOpen()}),[A,ue]),Ue=(0,r.useCallback)((()=>{ue({action:c.uf}),N.onOpen()}),[N,ue]),ze=(0,r.useCallback)((()=>{ue({action:c.DK,mode:"shortcut"})}),[ue]),Be=(0,r.useCallback)((()=>{ue({action:c.uf,mode:"shortcut"})}),[ue]),_e=(0,r.useCallback)((()=>{ue({action:M===V.pG.Collection?c.cp:c.Bn}),E&&P&&te(ne.Z.actions.removeItemRequested({server:t,provider:n,containerKey:E,sourceURI:l.sourceURI,ratingKey:l.ratingKey})),q()}),[E,P,M,te,l.ratingKey,l.sourceURI,q,n,t,ue]),Fe=(0,r.useCallback)((()=>{ue({action:c.dm}),Q(S.editMetadataItem())}),[Q,ue]),He=(0,r.useCallback)((()=>{ue({action:c.xc}),he||te($.Z.actions.editFiltersRequested({server:t,provider:n,key:l.key}))}),[te,he,l.key,n,t,ue]),We=(0,r.useCallback)((()=>{x.onOpen(),q()}),[q,x]),Qe=(0,r.useCallback)((()=>{ue({action:c.RG}),te(G.Z.actions.metadataRefreshRequested({server:t,provider:n,sourceURI:l.sourceURI})),q()}),[te,l.sourceURI,q,n,t,ue]),Ge=(0,r.useCallback)((()=>{ue({action:c._R}),te(G.Z.actions.mediaAnalysisRequested({server:t,provider:n,sourceURI:l.sourceURI,hasChildren:!!(0,_.Z)(l.type,l.subtype)})),q()}),[te,l.sourceURI,l.subtype,l.type,q,n,t,ue]),Ye=(0,r.useCallback)((()=>{ue({action:c.P9}),Q(S.fixMetadataItemMatch())}),[Q,ue]),qe=(0,r.useCallback)((()=>{ue({action:c.Zy}),Q(S.unmatchMetadataItem())}),[Q,ue]),Ke=(0,r.useCallback)((()=>{ue({action:c.RF}),Q(S.splitMetadataItemApart())}),[Q,ue]),$e=(0,r.useCallback)((()=>{ue({action:c.J3}),Q(S.syncMetadataItem())}),[Q,ue]),Xe=(0,r.useCallback)((()=>{ue({action:c.FH}),Q(S.optimizeMetadataItem())}),[Q,ue]),Je=(0,r.useCallback)((()=>{ue({action:c.a2})}),[ue]),et=(0,r.useCallback)((()=>{ue({action:c.a2}),Q(S.downloadMetadataItemVersion())}),[Q,ue]),tt=(0,r.useCallback)((()=>{ue({action:c.Dp}),j.onOpen(),q()}),[q,j,ue]),nt=(0,r.useCallback)((()=>{ue({action:c.yY}),Q(S.deleteMetadataItem({options:{skipRedirect:!w}}))}),[w,Q,ue]),rt=(0,r.useCallback)((()=>{ue({action:c.yY}),Q(S.deleteMetadataItemVersion())}),[Q,ue]),it=(0,r.useCallback)((()=>{ue({action:c.$M}),Q(S.getMetadataItemInfo())}),[Q,ue]),st=(0,r.useCallback)((()=>{B.onOpen(),q()}),[q,B]);return r.createElement(r.Fragment,null,e.isPlayVisible?r.createElement(g.Z,{onPress:(0,H.Z)(l)?ye:ge},(0,F.Z)(l,h,re)):null,e.isWatchTogetherVisible?r.createElement(g.Z,{onPress:st},(0,p.Z)("Watch Together...")):null,e.isPlayVersionVisible?r.createElement(g.Z,{onPress:(0,f.Z)(D.onOpen,q)},(0,p.Z)("Play Version...")):null,e.isPlayAllVisible?r.createElement(g.Z,{onPress:ve},(0,p.Z)("Play All")):null,e.isShuffleVisible?r.createElement(g.Z,{onPress:fe},(0,p.Z)("Shuffle")):null,e.isPlayRadioVisible?r.createElement(g.Z,{onPress:Ze},(0,p.Z)("Play Radio")):null,e.isPlayArtistTVVisible?r.createElement(g.Z,{onPress:Me},(0,p.Z)("Play Artist TV")):null,e.isQueueVisible?r.createElement(g.Z,{onPress:be},(0,p.Z)("Play Next")):null,e.isQueueVisible?r.createElement(g.Z,{onPress:Se},(0,p.Z)("Add to Queue")):null,e.isPlayTrailerVisible?r.createElement(g.Z,{onPress:Ie},(0,p.Z)("Play Trailer")):null,e.isPlayMusicVideoVisible?r.createElement(g.Z,{onPress:Ie},(0,p.Z)("Play Music Video")):null,e.isAddToWatchlistVisible?r.createElement(g.Z,{onPress:ke},(0,p.Z)("Add to Watchlist")):null,e.isRemoveFromWatchlistVisible?r.createElement(g.Z,{onPress:Le},(0,p.Z)("Remove from Watchlist")):null,e.isAddToPlaylistVisible||e.isAddToCollectionVisible?r.createElement(v.Z,{label:(0,p.Z)("Add to"),onMenuClose:q},r.createElement(ee.Z,{sourceURI:l.sourceURI,server:t,provider:n,contentDirectoryID:l.librarySectionID,mediaType:(0,z.Z)(l.type,l.subtype),metadataType:l.type,onAddToCollectionPress:e.isAddToCollectionVisible?je:void 0,onAddToPlaylistPress:e.isAddToPlaylistVisible?Ue:void 0,onSaveCollectionPress:ze,onSavePlaylistPress:Be,onMenuClose:q})):null,e.isRemoveFromCuratedListVisible?r.createElement(g.Z,{onPress:_e},M===V.pG.Collection?(0,p.Z)("Remove from Collection"):(0,p.Z)("Remove from Playlist")):null,e.isAddToSavedVisible?r.createElement(g.Z,{onPress:Te},(0,U.Z)(n.identifier,h.saved,l.subtype)):null,e.isRemoveFromSavedVisible?r.createElement(g.Z,{onPress:xe},(0,U.Z)(n.identifier,h.saved,l.subtype)):null,e.isAddToPicksVisible?r.createElement(g.Z,{onPress:Ce},h.picked?(0,p.Z)("Remove from Plex Picks"):(0,p.Z)("Add to Plex Picks")):null,e.isAddToLibraryVisible?r.createElement(I.Z,{onAddToLibrary:we}):null,e.isPublishVisible?r.createElement(v.Z,{label:(0,p.Z)("Visible on"),onMenuClose:q},r.createElement(Pe,{sourceURI:l.sourceURI,onMenuClose:q})):null,de?r.createElement(y.Z,null):null,e.isEditVisible?r.createElement(g.Z,{onPress:Fe},(0,p.Z)("Edit")):null,e.isEditFiltersVisible?r.createElement(g.Z,{to:he,onPress:He},(0,p.Z)("Edit Filters")):null,e.isSettingsVisible?r.createElement(g.Z,{onPress:We},(0,p.Z)("Settings")):null,e.isMarkPlayedVisible?r.createElement(g.Z,{onPress:T.onOpen},(0,p.Z)("Mark as Played")):null,e.isMarkUnplayedVisible?r.createElement(g.Z,{onPress:O.onOpen},(0,p.Z)("Mark as Unplayed")):null,pe&&e.isRemoveFromContinueWatchingVisible?r.createElement(g.Z,{onPress:Ae},(0,p.Z)("Remove from Continue Watching")):null,e.isRefreshVisible?r.createElement(g.Z,{isDisabled:ae,onPress:Qe},(0,p.Z)("Refresh Metadata")):null,e.isAnalyzeVisible?r.createElement(g.Z,{isDisabled:oe,onPress:Ge},(0,p.Z)("Analyze")):null,e.isFixMatchVisible?r.createElement(g.Z,{onPress:Ye},(0,p.Z)("Fix Match...")):null,e.isMatchVisible?r.createElement(g.Z,{onPress:Ye},(0,p.Z)("Match...")):null,e.isUnmatchVisible?r.createElement(g.Z,{onPress:qe},(0,p.Z)("Unmatch")):null,e.isSplitApartVisible?r.createElement(g.Z,{onPress:Ke},(0,p.Z)("Split Apart")):null,e.isSyncVisible?r.createElement(g.Z,{onPress:$e},(0,p.Z)("Sync...")):null,e.isSyncDownloadVisible?r.createElement(ie,{metadataItem:l,onMenuClose:q}):null,e.isRecordVisible?r.createElement(g.Z,{onPress:R.onOpen},null==h.grandparentSubscriptionID&&null==h.subscriptionID?(0,p.Z)("Record"):(0,p.Z)("Modify Recording")):null,e.isOptimizeVisible?r.createElement(g.Z,{onPress:Xe},(0,p.Z)("Optimize...")):null,e.isDownloadFileVisible?r.createElement(C,{metadataItem:l,downloadIFrameName:"downloadFileFrame",onMenuClose:q,onDownloadVersionPress:et,onDownloadFilePress:Je}):null,e.isShareVisible?r.createElement(g.Z,{onPress:tt},(0,p.Z)("Share…")):null,e.isDeleteVisible?r.createElement(g.Z,{kind:l.remoteMedia?void 0:b.T,onPress:nt},l.remoteMedia?(0,p.Z)("Remove"):(0,p.Z)("Delete")):null,e.isDeleteVersionVisible?r.createElement(g.Z,{kind:b.T,onPress:rt},(0,p.Z)("Delete Version")):null,e.isViewPlayHistoryVisible?r.createElement(g.Z,{to:(0,Oe.Z)(t.machineIdentifier,l)},(0,p.Z)("View Play History")):null,e.isGetInfoVisible?r.createElement(g.Z,{onPress:it},(0,p.Z)("Get Info")):null)}function Be({className:e,target:t,isOpen:n,actionsOverride:s,metadataItem:a,allowRedirectOnDelete:d,onMenuClose:u,onMenuCloseComplete:p}){var m;const g=(0,i.I0)(),[y,v]=(0,E.c9)(),{metricsPage:b,metricsContextTuple:S}=(0,q.Zn)(),{containerServer:I,containerProvider:Z,containerSourceURI:P,containerKey:M,containerType:C,containerSubtype:D}=(0,Q.U)(),T=(0,k.Z)(a.sourceURI),O=(0,i.v9)(l.Z),x=(0,B.ZP)({server:y,provider:v,stableUser:O,containerType:C,containerSubtype:D,metadataItem:a,metadataItemState:T}),A=je(je({},x),s),L=(0,Y.Z)(),V=Ue(L),U=(0,Y.Z)(),_=Ue(U),F=(0,Y.Z)(),H=Ue(F),G=(0,Y.Z)(),$=Ue(G),X=(0,Y.Z)(),ee=Ue(X),ne=(0,Y.Z)(),re=Ue(ne),ie=(0,Y.Z)(),ae=Ue(ie),oe=(0,Y.Z)(),le=Ue(oe),ce=(0,Y.Z)(),de=Ue(ce),ue=(0,j.P)({server:y,provider:v,metadataItem:a,metadataItemState:T}),pe=(0,R.R)({containerServer:I,containerProvider:Z,server:y,provider:v,metadataItem:a,metadataItemState:T,metricsPage:b,metricsContextTuple:S}),me=(0,K.Z)(a),he=(0,r.useMemo)((()=>({page:b,contextTuple:S})),[S,b]),ge=(0,r.useCallback)((e=>{ue(e),u()}),[u,ue]),ye=(0,r.useCallback)((e=>{pe(e),u()}),[u,pe]),ve=(0,r.useCallback)((e=>{var t;me({action:c.DV}),ye(o.wA({confirmOffset:!0,startOffsetMilliseconds:null!=(t=T.viewOffset)?t:0,startMediaIndex:e,options:{containerKey:M,listType:C}})),L.onClose()}),[M,C,T.viewOffset,ye,L,me]),fe=(0,r.useCallback)((e=>{me({action:e?c.qe:c.h3}),g(W.Z.actions.playedStatusUpdateRequested({server:y,provider:v,sourceURI:a.sourceURI,ratingKey:a.ratingKey,played:e})),u()}),[g,a.ratingKey,a.sourceURI,u,v,y,me]),be=(0,r.useCallback)((()=>{fe(!0),U.onClose()}),[U,fe]),Se=(0,r.useCallback)((()=>{fe(!1),F.onClose()}),[F,fe]),Ie=(0,r.useCallback)((()=>{g(W.Z.actions.repopulateRequested({sourceURI:a.sourceURI})),me({action:c.DK,mode:"shortcut"})}),[g,me,a.sourceURI]),Ze=(0,r.useCallback)((()=>{me({action:c.uf,mode:"shortcut"})}),[me]);return r.createElement(r.Fragment,null,r.createElement(h.Z,{className:e,target:t,isOpen:n,onMenuClose:u,onMenuCloseComplete:p},r.createElement(ze,{actions:A,server:y,provider:v,metadataItem:a,metadataItemState:T,containerSourceURI:P,containerKey:M,containerType:C,allowRedirectOnDelete:d,playVersionModalState:L,confirmMarkPlayedModalState:U,confirmMarkUnplayedModalState:F,settingsModalState:G,addToCollectionModalState:ne,addToPlaylistModalState:X,mediaSubscriptionModalState:oe,shareModalState:ie,watchTogetherModalState:ce,onLegacyAction:ge,onLegacyPlay:ye,onMenuClose:u})),V?r.createElement(N,{isOpen:L.isOpen,mediaItems:null!=(m=a.Media)?m:[],onSelect:ve,onCancel:L.onClose}):null,_||H?r.createElement(Ce.Z,{isOpen:U.isOpen||F.isOpen,type:a.type,subtype:a.subtype,title:a.title,leafCount:U.isOpen?T.unviewedLeafCount:T.viewedLeafCount,markUnplayed:F.isOpen,onConfirm:U.isOpen?be:Se,onCancel:U.isOpen?U.onClose:F.onClose}):null,re&&a.librarySectionID?r.createElement(J.Z,{isOpen:ne.isOpen,sourceURI:a.sourceURI,contentDirectoryID:a.librarySectionID,defaultTitle:a.title,metadataType:a.type,onModalClose:ne.onClose,onSaveSuccess:Ie}):null,ee?r.createElement(te.Z,{isOpen:X.isOpen,sourceURI:a.sourceURI,defaultTitle:a.title,defaultDestinationSource:a.source,mediaType:(0,z.Z)(a.type,a.subtype),onModalClose:X.onClose,onSaveSuccess:Ze}):null,ae?r.createElement(w.Z,{metadataItem:a,metadataItemState:T},(({serverEntityID:e,metadataItemEntityID:t})=>r.createElement(Me.Z,{isOpen:ie.isOpen,serverEntityID:e,metadataItemEntityID:t,metricsProperties:he,onModalClose:ie.onClose}))):null,de?r.createElement(w.Z,{metadataItem:a,metadataItemState:T},(({serverEntityID:e,metadataItemEntityID:t})=>r.createElement(Te.Z,{isOpen:ce.isOpen,serverEntityID:e,metadataItemEntityID:t,metricsProperties:{page:b,contextTuple:S},onModalClose:ce.onClose}))):null,$?r.createElement(w.Z,{metadataItem:a,metadataItemState:T},(({serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,onMarkStale:i})=>r.createElement(we.Z,{isOpen:G.isOpen,serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metricsProperties:he,onModalClose:(0,f.Z)(i,G.onClose)}))):null,le?r.createElement(w.Z,{metadataItem:a,metadataItemState:T},(({serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,onMarkStale:i})=>{const s=T.grandparentSubscriptionType||T.subscriptionType||a.type;return r.createElement(De.Z,{isOpen:oe.isOpen,serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,subscriptionType:s,metricsProperties:he,onModalClose:(0,f.Z)(i,oe.onClose)})})):null,A.isSyncDownloadVisible?r.createElement(se.Z,{metadataItem:a}):null)}},99112:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),i=n(89969),s=n(40807),a=n(4844),o=n(15042),l=n(27082),c=n(38330),d=n(1193),u=n(31235);function p({metadataItem:e,metadataItemState:t,children:n}){const[p,m]=(0,u.c9)(),h=(0,i.I0)(),g=(0,c.P)({server:p,provider:m,metadataItem:e,metadataItemState:t}),y=(0,a.Z)(o.TY,e.key,p.entityID),v=(0,i.v9)((e=>e.entities[o.TY][y])),f=(0,r.useMemo)((()=>(0,s.Z)(`${y}_NO_OP`)),[y]),[b,S]=(0,r.useState)(!1),I=(0,r.useCallback)((()=>{h(d.Z.actions.repopulateRequested({sourceURI:e.sourceURI}))}),[h,e.sourceURI]);return(0,r.useEffect)((()=>{(0,l.c9)((()=>{g(f())})),S(!0)}),[g,f]),r.createElement(r.Fragment,null,b&&v?n({serverEntityID:p.entityID,providerEntityID:m.entityID,metadataItemEntityID:y,onMarkStale:I}):null)}},50327:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),i=n(35472),s=n(17331);function a({className:e,tabIndex:t,allowLink:n=!0,metadataItem:a}){const o=(0,i.Z)(a,"key");return a.title?n&&o?r.createElement(s.Z,{"data-qa-id":"metadataTitleLink",className:e,tabIndex:t,title:a.title,to:o},a.title):r.createElement("span",{className:e,title:a.title},a.title):null}},95503:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),i=n(49531);function s({className:e,metadataItem:t}){const{addedAt:n}=t;return r.createElement(i.Z,{className:e,timestamp:n})}},43154:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294),i=n(89969),s=n(11790),a=n(4869),o=n(87225),l=n(77927);function c({className:e,metadataItem:t}){const n=(0,i.v9)((0,l.Z)("timeFormat")),c=(0,o.Z)(),d=(0,a.Z)(t),{beginsAt:u,endsAt:p}=null!=d?d:{},m=null!=u&&null!=p?(0,s.Z)({now:c,beginsAt:u,endsAt:p,timeFormat:n}):null;return m?r.createElement("span",{className:e,title:m},m):null}},94831:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),i=n(31212);function s({className:e,metadataItem:t}){const{originallyAvailableAt:n}=t;return n?r.createElement("span",{className:e},(0,i.Z)(n)):null}},48483:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294),i=n(54941),s=n(69713),a=n(39537),o=n(19376);function l({className:e,metadataItem:t}){var n;const l=(0,o.Z)(t.type,t.subtype),c=null==(n=t.Media)?void 0:n[0];return null==(null==c?void 0:c.bitrate)?null:r.createElement("span",{className:e},l===a.DD.Video?(0,s.Z)(c.bitrate):(0,i.Z)(c.bitrate))}},10066:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294),i=n(5562),s=n(39537),a=n(61239);function o({className:e,metadataItem:t}){if(t.skipChildren)return r.createElement(a.Z,{className:e,metadataItem:t});const n=t.childCount;if(null==n)return null;switch(t.type){case s.pG.Show:return r.createElement("span",{className:e},1===n?(0,i.Z)("{seasonCount} season",{seasonCount:n}):(0,i.Z)("{seasonCount} seasons",{seasonCount:n}));case s.pG.Season:return r.createElement("span",{className:e},1===n?(0,i.Z)("{episodeCount} episode",{episodeCount:n}):(0,i.Z)("{episodeCount} episodes",{episodeCount:n}));case s.pG.Artist:return r.createElement("span",{className:e},1===n?(0,i.Z)("{albumCount} album",{albumCount:n}):(0,i.Z)("{albumCount} albums",{albumCount:n}));case s.pG.Album:return r.createElement("span",{className:e},1===n?(0,i.Z)("{trackCount} track",{trackCount:n}):(0,i.Z)("{trackCount} tracks",{trackCount:n}))}return r.createElement("span",{className:e},1===t.childCount?(0,i.Z)("{itemCount} item",{itemCount:n}):(0,i.Z)("{itemCount} items",{itemCount:n}))}},57065:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),i=n(98582);function s({className:e,metadataItem:t}){return null==t.contentRating?null:r.createElement("span",{className:e},(0,i.Z)(t.contentRating))}},27080:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),i=n(61696);function s({className:e,metadataItem:t}){const{rating:n,ratingImage:s,audienceRating:a,audienceRatingImage:o}=t;return n||a?r.createElement("span",{className:e},r.createElement(i.Z,{rating:n,ratingImage:s,audienceRating:a,audienceRatingImage:o})):null}},59149:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),i=n(39776);function s({className:e,metadataItem:t}){return null==t.duration?null:r.createElement("span",{className:e},(0,i.Z)(t.duration))}},87534:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),i=n(35472),s=n(17331);function a({className:e,tabIndex:t,allowLink:n=!0,metadataItem:a}){const o=(0,i.Z)(a,"grandparentKey");return a.grandparentTitle?n&&o?r.createElement(s.Z,{className:e,tabIndex:t,title:a.grandparentTitle,to:o},a.grandparentTitle):r.createElement("span",{className:e,title:a.grandparentTitle},a.grandparentTitle):null}},69294:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),i=n(5562);function s({className:e,metadataItem:t}){return null==t.leafCount?null:r.createElement("span",{className:e},1===t.leafCount?(0,i.Z)("{itemCount} item",{itemCount:t.leafCount}):(0,i.Z)("{itemCount} items",{itemCount:t.leafCount}))}},68382:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),i=n(26098),s=n(49531);function a({className:e,metadataItem:t}){const n=(0,i.Z)(t.sourceURI),{lastRatedAt:a}=n;return r.createElement(s.Z,{className:e,timestamp:a})}},3995:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294),i=n(5562),s=n(26098),a=n(49531);function o({className:e,metadataItem:t}){const n=(0,s.Z)(t.sourceURI),{lastViewedAt:o}=n;return o?r.createElement(a.Z,{className:e,timestamp:o}):r.createElement("span",{className:e},(0,i.Z)("Unplayed"))}},61239:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),i=n(5562),s=n(39537);function a({className:e,metadataItem:t}){const n=t.leafCount;if(null==n)return null;switch(t.type){case s.pG.Show:return r.createElement("span",{className:e},1===n?(0,i.Z)("{episodeCount} episode",{episodeCount:n}):(0,i.Z)("{episodeCount} episodes",{episodeCount:n}));case s.pG.Artist:return r.createElement("span",{className:e},1===n?(0,i.Z)("{trackCount} track",{trackCount:n}):(0,i.Z)("{trackCount} tracks",{trackCount:n}))}return r.createElement("span",{className:e},1===n?(0,i.Z)("{itemCount} item",{itemCount:n}):(0,i.Z)("{itemCount} items",{itemCount:n}))}},98976:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),i=n(35472),s=n(17331);function a({className:e,tabIndex:t,allowLink:n=!0,metadataItem:a}){const o=(0,i.Z)(a,"parentKey");return a.parentTitle?n&&o?r.createElement(s.Z,{className:e,tabIndex:t,title:a.parentTitle,to:o},a.parentTitle):r.createElement("span",{className:e,title:a.parentTitle},a.parentTitle):null}},4839:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),i=n(5562),s=n(26098);function a({className:e,metadataItem:t}){var n;const a=null!=(n=(0,s.Z)(t.sourceURI).viewCount)?n:0;return r.createElement("span",{className:e},1===a?(0,i.Z)("{playCount} play",{playCount:a}):(0,i.Z)("{playCount} plays",{playCount:a}))}},77981:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294),i=n(40074),s=n(85480),a=n(84807),o=n(35472),l=n(17331);function c({className:e,tabIndex:t,allowLink:n=!0,metadataItem:c}){const d=(0,o.Z)(c,"key"),u=(0,o.Z)(c,"parentKey"),p=(0,s.Z)({seasonIndex:c.parentIndex,noLeadingZero:!0}),m=(0,i.Z)({episodeIndex:c.index,date:c.originallyAvailableAt,noLeadingZero:!0});return n&&d&&u?r.createElement("span",{className:e},c.index&&p?r.createElement(l.Z,{tabIndex:t,title:c.parentTitle,to:u},p):null,c.index&&p?r.createElement(a.Z,{separator:"·"}):null,r.createElement(l.Z,{tabIndex:t,title:c.title,to:d},m)):r.createElement("span",{className:e},c.index&&p?r.createElement("span",{title:c.parentTitle},p):null,c.index&&p?r.createElement(a.Z,{separator:"·"}):null,r.createElement("span",{title:c.title},m))}},71879:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=n(89969),s=n(88050),a=n(26098),o=n(1193),l=n(31235),c=n(59861),d=n(11412);function u({className:e,metadataItem:t}){var n;const u=(0,i.I0)(),[p,m]=(0,l.c9)(),h=(0,a.Z)(t.sourceURI),g=(0,c.Z)(t),y=(0,r.useCallback)((e=>{const n=0===e?-1:2*e;g({action:s.zw,value:n}),u(o.Z.actions.rateRequested({server:p,provider:m,sourceURI:t.sourceURI,ratingKey:t.ratingKey,rating:n}))}),[u,t.ratingKey,t.sourceURI,m,p,g]),v=(null!=(n=h.userRating)?n:0)/2;return r.createElement("div",{className:e},r.createElement(d.Z,{value:v,onRatingChange:y}))}},72354:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),i=n(10825);function s({className:e,metadataItem:t}){var n;const s=null==(n=t.Media)?void 0:n[0];return null==(null==s?void 0:s.videoResolution)?null:r.createElement("span",{className:e},(0,i.Z)(s.videoResolution))}},48571:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i({className:e,metadataItem:t}){return t.year?r.createElement("span",{className:e},t.year):null}},26098:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),i=n(89969),s=n(723);function a(e){const t=(0,r.useMemo)((()=>(0,s.Z)(e)),[e]);return(0,i.v9)(t)}},99111:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294),i=n(89969),s=n(30464),a=n(75534),o=n(1193),l=n(77045);function c({server:e,provider:t,metadataItem:n,metadataItemState:c}){const d=(0,i.I0)(),[u,p]=(0,l.Z)(),[m,h]=(0,r.useState)(!1),[g,y]=(0,r.useState)(!1),v=(0,s.Z)(m),f=(0,r.useCallback)((()=>{y(!1),h(!0),c.isPending||c.isPopulated||d(o.Z.actions.fetchRequested({server:e,provider:t,metadataKey:n.key,sourceURI:n.sourceURI}))}),[d,n.key,n.sourceURI,c.isPending,c.isPopulated,t,e]),b=(0,r.useCallback)((()=>{y(!0),h(!1)}),[]),S=(0,r.useCallback)((()=>{y(!1)}),[]),I=(0,r.useCallback)((()=>{m?b():f()}),[m,b,f]);return(0,r.useEffect)((()=>{!v||!m||c.isPending||c.isPopulated||c.error||h(!1)}),[v,m,c.error,c.isPending,c.isPopulated]),{hoverRef:p,isHovered:u,isActionsPending:m&&c.isPending,isActionsVisible:u||m||g,actionsMenuButtonID:(0,a.Z)(),isActionsMenuOpen:m&&!c.isPending&&!(!c.isPopulated&&!c.error),isActionsMenuClosing:g,onActionsMenuOpen:f,onActionsMenuClose:b,onActionsMenuCloseComplete:S,onActionsMenuToggle:I}}},97541:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294),i=n(89969),s=n(22222),a=n(98501);function o(e){const t=(0,r.useMemo)((()=>function(e){return(0,s.P1)(a.Z,(t=>e&&t.metadataTimelineState[e]||{}))}(e)),[e]);return(0,i.v9)(t)}},35472:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(39537),i=n(59315),s=n(31235),a=n(97120),o=n(2200),l=n(6638);const c=function(e,t){const[n,c]=(0,s.c9)(),{metricsContextTuple:d}=(0,o.Zn)();if(n===a.Z||c===i.Z||"key"===t&&(e.skipDetails||e.type===r.pG.Track&&e.subtype!==r.y_.Podcast||e.type===r.pG.Photo||e.subtype===r.y_.Photo||e.isExtra||e.isLiveTVChannel||e.radio))return;const u=e[t];return(0,l.Z)(n,c,u,{context:(0,o.VJ)(d),legacy:e.type===r.pG.PhotoAlbum?1:void 0},e.playlistType)}},38330:(e,t,n)=>{"use strict";n.d(t,{P:()=>a});var r=n(67294),i=n(89969),s=n(73862);function a({server:e,provider:t,metadataItem:n,metadataItemState:a}){const o=(0,i.I0)();return(0,r.useCallback)((r=>{o((0,s.redispatchLegacyMetadataAction)({server:e,provider:t,metadataItem:n,metadataItemState:a,legacyAction:r}))}),[o,n,a,t,e])}},29472:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var r=n(67294),i=n(89969),s=n(73862);function a({containerServer:e,containerProvider:t,server:n,provider:a,metadataItem:o,metadataItemState:l,metricsPage:c,metricsContextTuple:d}){const u=(0,i.I0)();return(0,r.useCallback)((r=>{u((0,s.redispatchLegacyMetadataAction)({server:e,provider:t,itemServer:n,itemProvider:a,metadataItem:o,metadataItemState:l,metricsPage:c,metricsProperties:{contextTuple:d},legacyAction:r}))}),[t,e,u,o,l,d,c,a,n])}},39537:(e,t,n)=>{"use strict";var r,i,s,a,o,l,c,d,u,p,m,h,g,y,v,f,b,S,I,Z,P;n.d(t,{pG:()=>r,A:()=>s,y_:()=>o,DD:()=>u,jx:()=>h,fw:()=>y}),(i=r||(r={})).Movie="movie",i.Show="show",i.Season="season",i.Episode="episode",i.Person="person",i.Artist="artist",i.Album="album",i.Track="track",i.Clip="clip",i.Photo="photo",i.Game="game",i.PhotoAlbum="photoalbum",i.Playlist="playlist",i.Collection="collection",i.Directory="directory",i.Channel="channel",i.Hub="hub",i.List="list",(a=s||(s={}))[a.Movie=1]="Movie",a[a.Show=2]="Show",a[a.Season=3]="Season",a[a.Episode=4]="Episode",a[a.Person=7]="Person",a[a.Artist=8]="Artist",a[a.Album=9]="Album",a[a.Track=10]="Track",a[a.Clip=12]="Clip",a[a.Photo=13]="Photo",a[a.PhotoAlbum=14]="PhotoAlbum",a[a.Playlist=15]="Playlist",a[a.Collection=18]="Collection",a[a.Game=19]="Game",(l=o||(o={})).Podcast="podcast",l.Webshow="webshow",l.Movie="movie",l.Show="show",l.Season="season",l.Episode="episode",l.Artist="artist",l.Album="album",l.Track="track",l.Trailer="trailer",l.DeletedScene="deletedScene",l.Interview="interview",l.MusicVideo="musicVideo",l.BehindTheScenes="behindTheScenes",l.SceneOrSample="sceneOrSample",l.LiveMusicVideo="liveMusicVideo",l.LyricMusicVideo="lyricMusicVideo",l.Concert="concert",l.Featurette="featurette",l.Short="short",l.Other="other",l.Photo="photo",l.Clip="clip",(d=c||(c={}))[d.Trailer=1]="Trailer",d[d.DeletedScene=2]="DeletedScene",d[d.Interview=3]="Interview",d[d.MusicVideo=4]="MusicVideo",d[d.BehindTheScenes=5]="BehindTheScenes",d[d.SceneOrSample=6]="SceneOrSample",d[d.LiveMusicVideo=7]="LiveMusicVideo",d[d.LyricMusicVideo=8]="LyricMusicVideo",d[d.Concert=9]="Concert",d[d.Featurette=10]="Featurette",d[d.Short=11]="Short",d[d.Other=12]="Other",(p=u||(u={})).Video="video",p.Audio="audio",p.Photo="photo",p.Rom="rom",(m||(m={})).VMAP="vmap",(g=h||(h={}))[g.Video=1]="Video",g[g.Audio=2]="Audio",g[g.Subtitles=3]="Subtitles",g[g.Lyrics=4]="Lyrics",(v=y||(y={})).Video="videoStreamID",v.Audio="audioStreamID",v.Subtitles="subtitleStreamID",v.Lyrics="lyricStreamID",(b=f||(f={})).North="north",b.NorthEast="northeast",b.East="east",b.SouthEast="southeast",b.South="south",b.SouthWest="southwest",b.West="west",b.NorthWest="northwest",b.Center="center",(I=S||(S={})).Small="small",I.Medium="medium",I.Large="large",(P=Z||(Z={})).Absolute="absolute",P.Relative="relative"},44081:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(17524),i=n(5562),s=n(61478);function a(e,t,n){return n===s.PODCAST?t?(0,i.Z)("Remove from My Podcasts"):(0,i.Z)("Add to My Podcasts"):r.wB(e,r.xF)?t?(0,i.Z)("Remove from My TIDAL"):(0,i.Z)("Add to My TIDAL"):t?(0,i.Z)("Remove from My Shows"):(0,i.Z)("Add to My Shows")}},11790:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(76604),i=n(54690),s=n(39776),a=n(9903),o=n(21918),l=n(30084),c=n(98422),d=n(5562);function u({now:e=Date.now(),beginsAt:t,endsAt:n,channel:u,showFullTime:p,timeFormat:m}){if(!t)return(0,d.Z)("No upcoming airings");if((0,c.Z)(t,n)){const t=n-e/1e3;return t<=60?(0,d.Z)("About to end"):(0,a.Z)(t)}if((0,o.Z)(t)&&(0,l.Z)(t,{minutes:60})){const n=1e3*t-e;if(n<=6e4)return u?(0,d.Z)("Starting now on {channel}",{channel:u}):(0,d.Z)("Starting now");const r=(0,s.Z)(n);return u?(0,d.Z)("Starting in {duration} on {channel}",{duration:r,channel:u}):(0,d.Z)("Starting in {duration}",{duration:r})}return(p?r.Z:i.Z)(t,u,{timeFormat:m})}},19376:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(39537);function i(e,t){switch(t){case r.y_.Photo:switch(e){case r.pG.Clip:return r.DD.Photo}break;case r.y_.Podcast:switch(e){case r.pG.Show:return r.DD.Audio}}switch(e){case r.pG.Movie:case r.pG.Show:case r.pG.Season:case r.pG.Episode:case r.pG.Clip:return r.DD.Video;case r.pG.Artist:case r.pG.Album:case r.pG.Track:return r.DD.Audio;case r.pG.PhotoAlbum:case r.pG.Photo:return r.DD.Photo;case r.pG.Game:return r.DD.Rom;case r.pG.Collection:switch(t){case r.y_.Movie:case r.y_.Show:case r.y_.Season:case r.y_.Episode:return r.DD.Video;case r.y_.Artist:case r.y_.Album:case r.y_.Track:return r.DD.Audio}}!function(e){throw new Error(`"${e}" is not mapped to a media type`)}(e)}},9713:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(1088),i=n(10825),s=n(69713);const a=function(e){const t=[];if(e.bitrate&&t.push((0,s.Z)(e.bitrate)),e.videoResolution){const n=(0,r.Z)(e),s=n?n.scanType:null;t.push((0,i.Z)(e.videoResolution,s))}return{title:e.title,info:t.join(", ")}}},46396:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(46277),i=n(39537),s=Object.defineProperty,a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e};function u(e){return function(e){const{type:t,subtype:n,title:s,parentTitle:a,grandparentTitle:o}=e;let l;switch(n){case i.y_.Podcast:switch(t){case i.pG.Track:return[s,o]}break;case i.y_.Webshow:switch(t){case i.pG.Episode:return[s,o]}}switch(t){case i.pG.Movie:return[s,e.year];case i.pG.Season:return[a,s];case i.pG.Episode:return l={episodeIndex:e.index,date:e.originallyAvailableAt,noLeadingZero:!0,useLongName:!0},[o,(0,r.Z)(d(d({},l),{seasonIndex:e.parentIndex})),s];case i.pG.Album:return[a,s];case i.pG.Track:return[o,s];default:return[s]}}(e).filter((e=>0===e||e)).join(", ")}},96307:(e,t,n)=>{"use strict";n.d(t,{qV:()=>M,FL:()=>D,yq:()=>E,Or:()=>j,k7:()=>U,J5:()=>k,Dd:()=>A,h$:()=>N,Jm:()=>V,tW:()=>Z,r5:()=>x,gK:()=>O,wc:()=>L,ZP:()=>B});var r=n(59756),i=n(94803),s=n(17524),a=n(45399),o=n(90296),l=n(34796),c=n(69881),d=n(57721),u=n(39537),p=n(33918),m=n(26636),h=n(29884),g=n(87803),y=n(79687);const v={[u.pG.Movie]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAddToWatchlistVisible","isAnalyzeVisible","isDeleteVersionVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isFixMatchVisible","isGetInfoVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isMatchVisible","isOptimizeVisible","isPlayTrailerVisible","isPlayVersionVisible","isPlayVisible","isQueueVisible","isRateVisible","isRecordVisible","isRefreshVisible","isRemoveFromContinueWatchingVisible","isRemoveFromCuratedListVisible","isRemoveFromWatchlistVisible","isShareVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible","isWatchTogetherVisible"],[u.pG.Show]:["isAddToCollectionVisible","isAddToPicksVisible","isAddToPlaylistVisible","isAddToSavedVisible","isAddToWatchlistVisible","isAnalyzeVisible","isDeleteVisible","isEditVisible","isFixMatchVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isMatchVisible","isOptimizeVisible","isPlayAllVisible","isPlayTrailerVisible","isPlayVisible","isQueueVisible","isRateVisible","isRecordVisible","isRefreshVisible","isRemoveFromCuratedListVisible","isRemoveFromSavedVisible","isRemoveFromWatchlistVisible","isSettingsVisible","isShareVisible","isShuffleVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible"],[u.pG.Season]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAnalyzeVisible","isDeleteVisible","isEditVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isOptimizeVisible","isPlayAllVisible","isPlayVisible","isQueueVisible","isRateVisible","isRemoveFromCuratedListVisible","isShareVisible","isShuffleVisible","isSyncDownloadVisible","isSyncVisible","isViewPlayHistoryVisible"],[u.pG.Episode]:["isAddToCollectionVisible","isAddToPlaylistVisible","isAnalyzeVisible","isDeleteVersionVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isGetInfoVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isOptimizeVisible","isPlayVersionVisible","isPlayVisible","isQueueVisible","isRateVisible","isRecordVisible","isRefreshVisible","isRemoveFromContinueWatchingVisible","isRemoveFromCuratedListVisible","isShareVisible","isSyncDownloadVisible","isSyncVisible","isViewPlayHistoryVisible","isWatchTogetherVisible"],[u.pG.Artist]:["isAddToCollectionVisible","isAddToLibraryVisible","isAddToPlaylistVisible","isAddToSavedVisible","isAnalyzeVisible","isDeleteVisible","isEditVisible","isFixMatchVisible","isMatchVisible","isPlayAllVisible","isPlayArtistTVVisible","isPlayRadioVisible","isPlayVisible","isQueueVisible","isRateVisible","isRefreshVisible","isRemoveFromCuratedListVisible","isRemoveFromSavedVisible","isShareVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible"],[u.pG.Album]:["isAddToCollectionVisible","isAddToLibraryVisible","isAddToPicksVisible","isAddToPlaylistVisible","isAddToSavedVisible","isAnalyzeVisible","isDeleteVisible","isEditVisible","isFixMatchVisible","isMatchVisible","isPlayVisible","isQueueVisible","isRateVisible","isRefreshVisible","isRemoveFromCuratedListVisible","isRemoveFromSavedVisible","isShareVisible","isShuffleVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible"],[u.pG.Track]:["isAddToCollectionVisible","isAddToLibraryVisible","isAddToPlaylistVisible","isAddToSavedVisible","isAnalyzeVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isGetInfoVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isPlayMusicVideoVisible","isPlayVisible","isQueueVisible","isRateVisible","isRemoveFromCuratedListVisible","isRemoveFromSavedVisible","isShareVisible","isSyncDownloadVisible","isSyncVisible","isViewPlayHistoryVisible"],[u.pG.PhotoAlbum]:["isAddToPlaylistVisible","isAnalyzeVisible","isEditVisible","isPlayVisible","isShareVisible","isShuffleVisible","isSyncVisible"],[u.pG.Photo]:["isAddToPlaylistVisible","isAnalyzeVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isFavoriteVisible","isGetInfoVisible","isPlayVisible","isShareVisible","isSyncVisible","isUnfavoriteVisible"],[u.pG.Clip]:["isAddToPlaylistVisible","isAddToSavedVisible","isAnalyzeVisible","isDeleteVersionVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isFixMatchVisible","isGetInfoVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isMatchVisible","isOptimizeVisible","isPlayTrailerVisible","isPlayVersionVisible","isPlayVisible","isQueueVisible","isRateVisible","isRefreshVisible","isRemoveFromSavedVisible","isShareVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible","isWatchTogetherVisible"],[u.pG.Playlist]:["isAddToSavedVisible","isDeleteVisible","isEditFiltersVisible","isEditVisible","isPlayVisible","isQueueVisible","isRemoveFromSavedVisible","isShareVisible","isShuffleVisible","isSyncDownloadVisible","isSyncVisible"],[u.pG.Collection]:["isAddToPlaylistVisible","isDeleteVisible","isEditFiltersVisible","isEditVisible","isPlayVisible","isPublishVisible","isQueueVisible","isRateVisible","isShuffleVisible","isSyncVisible"],[u.pG.Game]:["isPlayVisible","isPlayVersionVisible","isRateVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isEditVisible","isRefreshVisible","isAnalyzeVisible","isFixMatchVisible","isUnmatchVisible","isDeleteVisible","isGetInfoVisible"]};function f(e,t){return!!(0,g.Z)(e,t)}function b(e,t){return!!(0,h.Z)(e,t)}function S(e){var t;return null!=(t=null==e?void 0:e.isExtra)&&t&&function(e){const t=e.Media;return!!(null==t?void 0:t.some((e=>e.premium)))}(e)}function I(e,t){return e.type!==u.pG.Game&&!S(e)&&!t.isEmbedded}const Z=({server:e,provider:t,stableUser:n,metadataItem:r})=>function(e,t,n,r){const{isFolder:i,Media:s}=r;if((0,g.Z)(t,m.zW.PlayQueue))return!i;const o=!!n.features[a.Ks];return!(!t.protocols.includes(m.rn.LiveTV)||!(e.livetv&&4===e.livetv||o)||!(null==s?void 0:s.length))}(e,t,n,r),P=({metadataItem:e})=>!!e.primaryExtraKey,E=({server:e,provider:t,stableUser:n,metadataItem:r})=>{if(!t)return!1;const i=(0,g.Z)(t,m.zW.Playlist);return!(!i||!(0,d.d)(n,i))&&I(r,e)},M=({server:e,provider:t,metadataItem:n})=>!(!f(t,m.zW.Collection)||!f(t,m.zW.Manage))&&!!n.librarySectionID&&I(n,e),C=({provider:e,stableUser:t,metadataItemState:n})=>{const r=(0,h.Z)(e,m.rf.Save);return!!(r&&(0,d.d)(t,r)&&n.isPopulated)},w=({provider:e,stableUser:t,metadataItemState:n})=>{const r=(0,h.Z)(e,m.rf.AddToWatchlist);return!!(r&&(0,d.d)(t,r)&&n.isPopulated)},D=({provider:e,stableUser:t,metadataItem:n})=>{if(!e)return!1;const r=n.type===u.pG.Track||n.type===u.pG.Album||n.type===u.pG.Artist,i=s.wB(e.identifier,s.xF),l=!!t.features[a.Ao],c=(0,d.d)(t,{requires:o.s});return r&&i&&l&&c};function T({provider:e,metadataItem:t,metadataItemState:n}){return!(!b(e,m.rf.Rate)||(0,c.isDirectoryType)(t.type)||t.isFolder||!n.isPopulated)}const O=({provider:e,metadataItem:t})=>{const n=(0,g.Z)(e,m.zW.Subscribe);return(0,p.Z)(t)&&!!n},x=({server:e,provider:t,metadataItem:n,metadataItemState:r})=>!!(0,h.Z)(t,m.rf.Rate)&&!n.isFolder&&r.isPopulated&&!e.isEmbedded,A=({provider:e,metadataItem:t,metadataItemState:n})=>{const r=(0,h.Z)(e,m.rf.Scrobble);return!(!r||!r.key||e.protocols.includes(m.rn.LiveTV)||t.type===u.pG.Track&&t.subtype!==u.y_.Podcast||!n.isPopulated||null!=n.saved&&!n.saved&&!n.viewOffset||t.isExtra)&&((0,c.isParentType)(t.type)?!!n.unviewedLeafCount&&n.unviewedLeafCount>0:!n.viewCount||!!n.viewOffset)},N=({provider:e,metadataItem:t,metadataItemState:n})=>{const r=(0,h.Z)(e,m.rf.Scrobble);return!(!r||!r.reverseKey||e.protocols.includes(m.rn.LiveTV)||t.type===u.pG.Track&&t.subtype!==u.y_.Podcast||!n.isPopulated||null!=n.saved&&!n.saved||t.isExtra)&&((0,c.isParentType)(t.type)?!!n.viewedLeafCount&&n.viewedLeafCount>0:!!n.viewCount||!!n.viewOffset)},k=({provider:e,metadataItem:t})=>{const{isExtra:n,isFolder:r,radio:i,readOnly:s}=t,a=!n&&!r&&!i;return t.isPlaylist||t.type===u.pG.Collection?!s:f(e,m.zW.Manage)&&a},L=({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>k({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i}),j=({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>!r.indirect&&!r.remoteMedia&&k({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i}),R=({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>!!k({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})&&!(!r.guid||/(local|none):\/\//.test(r.guid)),V=({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>!!k({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})&&r.type!==u.pG.Game&&!(r.remoteMedia||!e.transcoderVideo||!e.backgroundProcessing),U=({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>!!k({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})&&!!(r.isPlaylist||r.type===u.pG.Collection||r.remoteMedia||e.allowMediaDeletion),z={isAddToCollectionVisible:M,isAddToLibraryVisible:D,isAddToPicksVisible:({provider:e,stableUser:t})=>!(!t.features[a.Ah]||!b(e,m.rf.Pick)),isAddToPlaylistVisible:E,isAddToSavedVisible:e=>C(e)&&!1===e.metadataItemState.saved,isAddToWatchlistVisible:e=>w(e)&&!e.metadataItemState.watchlistedAt,isAnalyzeVisible:j,isDeleteVersionVisible:({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>{var s;if(!k({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i}))return!1;if(!e.allowMediaDeletion)return!1;const a=null==(s=r.Media)?void 0:s.filter((e=>!!e.proxyType));return!!(null==a?void 0:a.length)},isDeleteVisible:U,isDownloadFileVisible:({provider:e,metadataItem:t})=>!(!r.Z.allowDirectDownload||!e.protocols.includes(m.rn.Download)||t.isExtra||t.remoteMedia),isEditFiltersVisible:({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>!!k({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})&&!!r.smart,isEditVisible:k,isFavoriteVisible:({provider:e,stableUser:t,metadataItem:n,metadataItemState:r})=>T({provider:e,stableUser:t,metadataItem:n,metadataItemState:r})&&!(0,l.ZP)(r),isFixMatchVisible:R,isGetInfoVisible:({provider:e,metadataItem:t})=>!!e&&(0,y.Z)(e)&&!t.isExtra&&!t.indirect,isMarkPlayedVisible:A,isMarkUnplayedVisible:N,isMatchVisible:({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>!!k({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})&&!!r.guid&&!R({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i}),isOptimizeVisible:V,isPlayAllVisible:({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>!(!Z({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})||r.type!==u.pG.Artist&&(!r.onDeck||!i.viewedLeafCount)),isPlayArtistTVVisible:({metadataItem:e})=>function(e){return!!e.stations&&e.stations.some((e=>e.playlistType===u.DD.Video))}(e),isPlayMusicVideoVisible:P,isPlayRadioVisible:({metadataItem:e})=>function(e){return!!e.stations&&e.stations.some((e=>e.playlistType===u.DD.Audio))}(e),isPlayTrailerVisible:P,isPlayVersionVisible:({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>!!Z({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})&&(0,y.Z)(t)&&!!r.Media&&r.Media.length>1,isPlayVisible:Z,isPublishVisible:({server:e,provider:t})=>!!e.ownerFeatures.includes(a.DI)&&f(t,m.zW.Manage),isQueueVisible:({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>Z({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})&&f(t,m.zW.PlayQueue)&&!S(r),isRateVisible:x,isRecordVisible:O,isRefreshVisible:L,isRemoveFromContinueWatchingVisible:e=>{const t=!!e.stableUser.features[a.eT],n=(0,h.Z)(e.provider,m.rf.RemoveFromContinueWatching);return t&&!!n},isRemoveFromCuratedListVisible:({provider:e,containerType:t})=>!(!f(e,m.zW.Collection)||!f(e,m.zW.Manage))&&t===u.pG.Collection,isRemoveFromSavedVisible:e=>C(e)&&!0===e.metadataItemState.saved,isRemoveFromWatchlistVisible:e=>w(e)&&!!e.metadataItemState.watchlistedAt,isSettingsVisible:({provider:e,metadataItemState:t})=>!f(e,m.zW.Manage)&&t.isPopulated&&null!=t.preferences,isShareVisible:({server:e,provider:t,metadataItem:n})=>(0,y.Z)(t)&&e.isFullOwnedServer&&!n.isExtra&&!n.remoteMedia,isShuffleVisible:({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>!r.radio&&Z({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})&&f(t,m.zW.PlayQueue),isSplitApartVisible:({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>{var s;if(!k({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i}))return!1;let a;return a=(0,c.isParentType)(r.type)?r.Location:null==(s=r.Media)?void 0:s.filter((e=>!e.proxyType)),!!a&&a.length>1},isSyncDownloadVisible:({server:e,provider:t,metadataItem:n,stableUser:o})=>{if(!r.Z.allowSyncDownload)return!1;if(!t)return!1;if(!s.QN.includes(t.identifier))return!1;if(n.isPlaylist&&n.playlistType===u.DD.Photo)return!1;if(!n.hasOwnProperty("guid"))return!1;if(n.remoteMedia)return!1;const l=(0,g.Z)(t,m.zW.Subscribe),c=(null==l?void 0:l.flavor)===i.HN&&!!o.features[a.PL];return(0,y.Z)(t)?e.allowSync&&c:c},isSyncVisible:({server:e,provider:t,stableUser:n,metadataItem:i})=>{if(!r.Z.allowSync)return!1;if(!(0,y.Z)(t))return!1;if(n.features[a.PL])return!1;const{isExtra:s,remoteMedia:o}=i;return!s&&!o&&!(!e.allowSync||!i.allowSync)},isUnfavoriteVisible:({provider:e,stableUser:t,metadataItem:n,metadataItemState:r})=>T({provider:e,stableUser:t,metadataItem:n,metadataItemState:r})&&(0,l.ZP)(r),isUnmatchVisible:({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i})=>R({server:e,provider:t,stableUser:n,metadataItem:r,metadataItemState:i}),isViewPlayHistoryVisible:({server:e,provider:t,metadataItem:n})=>(0,y.Z)(t)&&e.isFullOwnedServer&&!e.isEmbedded&&!n.isExtra,isWatchTogetherVisible:({provider:e,stableUser:t,metadataItem:n})=>{const r=!!t.features[a.Bs],i=s.wB(e.identifier,[s.Y3,s.uk]);return r&&i&&!n.isExtra}};function B({server:e,provider:t,stableUser:n,containerType:r,containerSubtype:i,metadataItem:s,metadataItemState:a}){const o=v[s.type];return o?o.reduce(((o,l)=>{const c=z[l];return o[l]=!!(e&&t&&s)&&c({server:e,provider:t,stableUser:n,containerType:r,containerSubtype:i,metadataItem:s,metadataItemState:a}),o}),{}):{}}},48505:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(39537);function i(e){switch(e){case r.pG.Movie:return r.A.Movie;case r.pG.Show:return r.A.Show;case r.pG.Season:return r.A.Season;case r.pG.Episode:return r.A.Episode;case r.pG.Person:return r.A.Person;case r.pG.Artist:return r.A.Artist;case r.pG.Album:return r.A.Album;case r.pG.Track:return r.A.Track;case r.pG.Clip:return r.A.Clip;case r.pG.Photo:return r.A.Photo;case r.pG.PhotoAlbum:return r.A.PhotoAlbum;case r.pG.Playlist:return r.A.Playlist;case r.pG.Collection:return r.A.Collection;case r.pG.Game:return r.A.Game}!function(e){throw new Error(`"${e}" is not mapped to a numeric type`)}(e)}},94173:(e,t,n)=>{"use strict";n.d(t,{s4:()=>a,Zp:()=>o,oz:()=>l,ZP:()=>c});var r=n(2098),i=n(39537),s=n(41538);const a=1/1.5,o=1,l=16/9;function c(e,t,n){const c=null==n?void 0:n.listStyle,d=null==n?void 0:n.displayImageType;if(d)return function(e){switch(e){case r.IY.Avatar:return o;case r.IY.Background:return l;case r.IY.Banner:return 5.4;case r.IY.Clear:return o;case r.IY.CoverArt:return l;case r.IY.CoverPoster:return a;case r.IY.CoverSquare:return o;case r.IY.Snapshot:return l}!function(e){throw new Error(`"${e}" is not mapped to an aspect ratio`)}(e)}(d);if(c)switch(c){case s.n.Hero:return l;case s.n.Grid:case s.n.Shelf:if(e===s.U.Channels)return o;switch(t){case i.y_.Webshow:switch(e){case i.pG.Episode:return l}break;case i.y_.Podcast:switch(e){case i.pG.Episode:return o}}switch(e){case i.pG.Episode:return a}}switch(t){case i.y_.Clip:switch(e){case i.pG.Movie:return l}break;case i.y_.Podcast:case i.y_.Webshow:switch(e){case i.pG.Show:return o;case i.pG.Episode:return l}}switch(e){case i.pG.Movie:case i.pG.Show:case i.pG.Season:return a;case i.pG.Episode:return l;case i.pG.Artist:case i.pG.Album:case i.pG.Track:case i.pG.Person:case i.pG.Photo:case i.pG.PhotoAlbum:case i.pG.Playlist:return o;case i.pG.Clip:return l;case i.pG.Collection:switch(t){case i.y_.Episode:return l;case i.y_.Artist:case i.y_.Album:return o;default:return a}case s.U.Directory:return l;case s.U.Content:case s.U.Channel:case s.U.Folder:case s.U.Station:case i.pG.Hub:case i.pG.List:return o;case i.pG.Game:return.75;case s.U.Mixed:return a;default:return l}}},85180:(e,t,n)=>{"use strict";function r(e){const{width:t,height:n,aspectRatio:r}=e;if(t)return{width:t,height:Math.floor(t/r)};if(n)return{width:Math.floor(n*r),height:n};throw new Error("`getMetadataPosterDimensions` requires either a `width` or `height`")}n.d(t,{Z:()=>r})},25765:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>ie,uM:()=>re,$8:()=>te});var r=n(2098),i=n(50327),s=n(95503),a=n(43154),o=n(67294),l=n(14651),c=n(35472),d=n(17331);function u({className:e,tabIndex:t,allowLink:n=!0,metadataItem:r}){const i=(0,c.Z)(r,"key");if(!r.title)return null;const s=o.createElement(o.Fragment,null,r.attribution?o.createElement(l.Z,{className:"MetadataTitleAttributed-badge-20Vp12",attribution:r.attribution}):null,r.title);return n&&i?o.createElement(d.Z,{className:e,tabIndex:t,title:r.title,to:i},s):o.createElement("span",{className:e,title:r.title},s)}function p({className:e,metadataItem:t}){return t.attributionLogo?o.createElement("span",{className:e},o.createElement("img",{className:"MetadataTitleAttributionLogo-img-3WLv85",src:t.attributionLogo})):null}var m=n(94831),h=n(48483),g=n(10066),y=n(5562),v=n(39537);function f({className:e,metadataItem:t}){if(null==t.childCount)return null;const n=1===t.childCount,r={itemCount:t.childCount};let i;return i=t.subtype===v.y_.Movie?n?(0,y.Z)("{itemCount} movie",r):(0,y.Z)("{itemCount} movies",r):t.subtype===v.y_.Show?n?(0,y.Z)("{itemCount} show",r):(0,y.Z)("{itemCount} shows",r):t.subtype===v.y_.Season?n?(0,y.Z)("{itemCount} season",r):(0,y.Z)("{itemCount} seasons",r):t.subtype===v.y_.Episode?n?(0,y.Z)("{itemCount} episode",r):(0,y.Z)("{itemCount} episodes",r):t.subtype===v.y_.Artist?n?(0,y.Z)("{itemCount} artist",r):(0,y.Z)("{itemCount} artists",r):t.subtype===v.y_.Album?n?(0,y.Z)("{itemCount} album",r):(0,y.Z)("{itemCount} albums",r):t.subtype===v.y_.Track?n?(0,y.Z)("{itemCount} track",r):(0,y.Z)("{itemCount} tracks",r):n?(0,y.Z)("{itemCount} item",r):(0,y.Z)("{itemCount} items",r),o.createElement("span",{className:e},i)}var b=n(57065),S=n(27080),I=n(59149);function Z({className:e,metadataItem:t}){return null==t.leafCount?null:o.createElement("span",{className:e},1===t.leafCount?(0,y.Z)("{episodeCount} episode",{episodeCount:t.leafCount}):(0,y.Z)("{episodeCount} episodes",{episodeCount:t.leafCount}))}var P=n(40074);function E({className:e,tabIndex:t,metadataItem:n}){const r=(0,c.Z)(n,"key"),i=(0,P.Z)({useLongName:!0,episodeIndex:n.index,date:n.originallyAvailableAt,noLeadingZero:!0});return r?o.createElement("span",{className:e},o.createElement(d.Z,{tabIndex:t,title:n.title,to:r},i)):o.createElement("span",{className:e},o.createElement("span",{title:n.title},i))}function M({className:e,metadataItem:t}){const{sourceTitle:n}=t;return n?o.createElement("span",{className:e,title:n},(0,y.Z)("from {sourceTitle}",{sourceTitle:n})):null}function C({className:e,metadataItem:t}){const n=function(e){switch(e){case v.y_.Trailer:return(0,y.Z)("Trailer");case v.y_.DeletedScene:return(0,y.Z)("Deleted Scene");case v.y_.Interview:return(0,y.Z)("Interview");case v.y_.MusicVideo:return(0,y.Z)("Music Video");case v.y_.BehindTheScenes:return(0,y.Z)("Behind the Scenes");case v.y_.SceneOrSample:return(0,y.Z)("Scene");case v.y_.LiveMusicVideo:return(0,y.Z)("Live Music Video");case v.y_.LyricMusicVideo:return(0,y.Z)("Lyric Music Video");case v.y_.Concert:return(0,y.Z)("Concert");case v.y_.Featurette:return(0,y.Z)("Featurette");case v.y_.Short:return(0,y.Z)("Short");case v.y_.Other:return(0,y.Z)("Other")}}(t.subtype);return n?o.createElement("span",{className:e,title:n},n):null}var w=n(87534),D=n(49531);function T({className:e,tabIndex:t,allowLink:n,metadataItem:r}){return null!=r.addedAt||r.grandparentTitle?o.createElement("span",{className:e},o.createElement(D.Z,{timestamp:r.addedAt}),null!=r.addedAt&&r.grandparentTitle?" — ":null,o.createElement(w.Z,{tabIndex:t,allowLink:n,metadataItem:r})):null}var O=n(68382),x=n(3995),A=n(61239),N=n(98976),k=n(4839),L=n(44491),j=n(69294);function R({className:e,metadataItem:t}){return t.playlistType===L.pV?o.createElement(j.Z,{className:e,metadataItem:t}):o.createElement(I.Z,{className:e,metadataItem:t})}function V({className:e,metadataItem:t}){return t.skipChildren?o.createElement(Z,{className:e,metadataItem:t}):null==t.childCount?null:o.createElement("span",{className:e},1===t.childCount?(0,y.Z)("{seasonCount} season",{seasonCount:t.childCount}):(0,y.Z)("{seasonCount} seasons",{seasonCount:t.childCount}))}var U=n(77981),z=n(26098);function B({className:e,metadataItem:t}){const n=(0,z.Z)(t.sourceURI).unviewedLeafCount;return null==n?null:o.createElement("span",{className:e},(0,y.Z)("{unplayedCount} unplayed",{unplayedCount:n}))}var _=n(71879),F=n(72354),H=n(39776);function W({className:e,metadataItem:t}){const n=(0,z.Z)(t.sourceURI);return null==t.duration||null==n.viewOffset?null:o.createElement("span",{className:e},(0,y.Z)("{timeRemaining} left",{timeRemaining:(0,H.Z)(t.duration-n.viewOffset)}))}var Q=n(48571);function G({className:e,displayFieldName:t}){return null}var Y=Object.defineProperty,q=Object.prototype.hasOwnProperty,K=Object.getOwnPropertySymbols,$=Object.prototype.propertyIsEnumerable,X=(e,t,n)=>t in e?Y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,J=(e,t)=>{for(var n in t||(t={}))q.call(t,n)&&X(e,n,t[n]);if(K)for(var n of K(t))$.call(t,n)&&X(e,n,t[n]);return e},ee=n(41538);function te(e){var t;return!!e&&null!=(t=e.isDoubleLine)&&t}function ne(e){switch(e){case r.PD.AddedAt:return s.Z;case r.PD.AddedAtGrandparentTitle:return T;case r.PD.AirsAt:return a.Z;case r.PD.AttributionLogo:return p;case r.PD.ChildCount:return g.Z;case r.PD.ContentRating:return b.Z;case r.PD.Duration:return I.Z;case r.PD.EpisodeIdentifier:return U.Z;case r.PD.GrandparentTitle:return w.Z;case r.PD.LastRatedAt:return O.Z;case r.PD.LastViewedAt:return x.Z;case r.PD.LeafCount:return A.Z;case r.PD.MediaBitrate:return h.Z;case r.PD.VideoResolution:return F.Z;case r.PD.OriginallyAvailableAt:return m.Z;case r.PD.ParentTitle:return N.Z;case r.PD.Rating:return S.Z;case r.PD.SourceTitle:return M;case r.PD.Title:return i.Z;case r.PD.TitleAttributed:return u;case r.PD.UnviewedLeafCount:return B;case r.PD.UserRating:return _.Z;case r.PD.ViewCount:return k.Z;case r.PD.ViewOffset:return W;case r.PD.Year:return Q.Z;default:return function(e){return t=>o.createElement(G,J(J({},t),{displayFieldName:e}))}(e)}}function re(e){return"component"in e?e:{component:e}}function ie(e,t,n){const r=null==n?void 0:n.displayFieldNames;if(r)return r.map(ne);const s=null==n?void 0:n.listStyle;if(e===ee.U.Mixed)return[null,null,null];switch(s){case ee.n.PrePlayGrid:switch(e){case v.pG.Season:return[i.Z,Z];case v.pG.Episode:return[i.Z,E];case v.pG.Album:return[u,Q.Z];case v.pG.Collection:switch(t){case v.y_.Movie:return[i.Z,Q.Z];case v.y_.Show:return[i.Z,V];case v.y_.Season:return[N.Z,i.Z];case v.y_.Episode:return[w.Z,i.Z,U.Z];case v.y_.Artist:return[i.Z];case v.y_.Album:return[N.Z,i.Z]}}}switch(t){case v.y_.Podcast:switch(e){case v.pG.Show:return[{component:i.Z,isDoubleLine:!0}];case v.pG.Track:return[{component:i.Z,isDoubleLine:!0},w.Z]}break;case v.y_.Webshow:switch(e){case v.pG.Show:return[i.Z];case v.pG.Episode:return[{component:i.Z,isDoubleLine:!0},T]}break;case v.y_.Trailer:case v.y_.DeletedScene:case v.y_.Interview:case v.y_.MusicVideo:case v.y_.BehindTheScenes:case v.y_.SceneOrSample:case v.y_.LiveMusicVideo:case v.y_.LyricMusicVideo:case v.y_.Concert:case v.y_.Featurette:case v.y_.Short:case v.y_.Other:switch(e){case v.pG.Clip:return[i.Z,C]}}switch(e){case v.pG.Movie:return[i.Z,Q.Z];case v.pG.Show:return[i.Z,V];case v.pG.Season:return[N.Z,i.Z];case v.pG.Episode:return[w.Z,i.Z,U.Z];case v.pG.Artist:return[i.Z];case v.pG.Album:return[N.Z,i.Z];case v.pG.Track:return[w.Z,i.Z];case v.pG.Photo:return[{component:i.Z}];case v.pG.PhotoAlbum:case v.pG.Clip:return[i.Z];case v.pG.Playlist:return[i.Z,R];case v.pG.Collection:return[i.Z,f];case v.pG.Directory:case v.pG.Channel:case ee.U.Content:return[];case ee.U.Channels:return[i.Z,a.Z];case ee.U.Photo:return[i.Z]}return[{component:i.Z,allowLink:!1}]}},12336:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(25765),i=n(41538),s=n(56724),a=n(22602);function o(e,t,n){const o=(0,s.Z)(e),l=null==n?void 0:n.displayFields;if(l){if(e===i.U.Mixed)return l.reduce(((e,t)=>Math.max(e,t.fields.length)),0);{const e=(0,a.Z)(o,t,l);if(e)return e.length}}return(0,r.ZP)(null!=o?o:e,t,{listStyle:null==n?void 0:n.listStyle}).reduce(((e,t)=>null!=t&&(0,r.$8)(t)?e+2:e+1),0)}},57120:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(39537),i=n(94173);function s(e,t={}){var n;const{aspectRatio:s,displayImageType:a}=t,{type:o,subtype:l,thumb:c,parentThumb:d,grandparentThumb:u,art:p,parentArt:m,composite:h,liveTVChannel:g,viewOffsetThumb:y}=e;if(a){const t=null==(n=e.Image)?void 0:n.find((e=>e.type===a));return null==t?void 0:t.url}if(g)return g.thumb;switch(s){case i.oz:switch(o){case r.pG.Movie:switch(l){case r.y_.Clip:return c}return p;case r.pG.Show:return p;case r.pG.Season:return p||m;case r.pG.Game:return y||c;default:return c}case i.s4:switch(o){case r.pG.Season:return c;case r.pG.Episode:return u;default:return c}case i.Zp:switch(o){case r.pG.Album:return c;case r.pG.Track:switch(l){case r.y_.Podcast:return c||d||u}return c||d;case r.pG.Playlist:return c||h;default:return c}}return c}},49327:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i,f:()=>s});var r=n(39537);function i(e,t){switch(t){case r.y_.Podcast:switch(e){case r.pG.Show:return r.pG.Track}}switch(e){case r.pG.Show:return r.pG.Season;case r.pG.Season:return r.pG.Episode;case r.pG.Artist:return r.pG.Album;case r.pG.Album:return r.pG.Track;case r.pG.PhotoAlbum:return r.pG.Photo;case r.pG.Collection:switch(t){case r.y_.Movie:return r.pG.Movie;case r.y_.Show:return r.pG.Show;case r.y_.Season:return r.pG.Season;case r.y_.Episode:return r.pG.Episode;case r.y_.Artist:return r.pG.Artist;case r.y_.Album:return r.pG.Album;case r.y_.Track:return r.pG.Track}}}function s(e,t){switch(t){case r.y_.Podcast:switch(e){case r.pG.Show:return r.pG.Track}}switch(e){case r.pG.Show:case r.pG.Season:return r.pG.Episode;case r.pG.Artist:case r.pG.Album:return r.pG.Track;case r.pG.PhotoAlbum:return r.pG.Photo;case r.pG.Collection:switch(t){case r.y_.Movie:return r.pG.Movie;case r.y_.Show:case r.y_.Season:case r.y_.Episode:return r.pG.Episode;case r.y_.Artist:case r.y_.Album:case r.y_.Track:return r.pG.Track}}}},4869:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r,i,s=n(89734),a=n.n(s),o=n(21918),l=n(30084),c=n(70515);function d(e){if("now"===e)return{};const t=e.match(/([-+]?\d+)([smhdwMy])/);if(t){const[,e,n]=t;if(function(e){if(!(e in r))throw Error("Unknown unit: "+e)}(n),e&&n)return{[r[n]]:parseInt(e,10)}}else{const t=parseInt(e,10);if("number"==typeof t)return t}return{}}function u(e,t){return"object"==typeof t?(0,o.Z)(e,t):e>=t}function p(e,t){return"object"==typeof t?(0,l.Z)(e,t):e<=t}function m(e,t){const n=function(e){if(!e)return;const[,t]=e.split("?");return t?c.Z.parseQueryString(t):void 0}(t),r=a()(e.Media,"endsAt"),i=Date.now()/1e3;for(let e=0,t=r.length;e<t;e++){const t=r[e];if(n){const e=n["beginsAt>"],r=n["beginsAt<"],i=n["endsAt>"],s=n["endsAt<"];if(e&&t.beginsAt){const n=d(e);if(p(t.beginsAt,n))continue}if(r&&t.beginsAt){const e=d(r);if(u(t.beginsAt,e))continue}if(i&&t.endsAt){const e=d(i);if(p(t.endsAt,e))continue}if(s&&t.endsAt){const e=d(s);if(u(t.endsAt,e))continue}}if(t.endsAt&&t.endsAt>i)return t}return r[0]}(i=r||(r={})).s="seconds",i.m="minutes",i.h="hours",i.d="days",i.w="weeks",i.M="months",i.y="years"},23606:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(5562),i=n(4869),s=n(33918);function a(e,t,n){var a;if((0,s.Z)(e)){const{beginsAt:t,endsAt:n}=null!=(a=(0,i.Z)(e))?a:{},s=Math.floor(Date.now()/1e3);return t&&n&&s>=t&&s<n?(0,r.Z)("Watch Now"):(0,r.Z)("Watch Channel")}return t.viewOffset||n.viewOffset?(0,r.Z)("Resume"):e.onDeck&&t.viewedLeafCount&&t.unviewedLeafCount?(0,r.Z)("Next Episode"):(0,r.Z)("Play")}},27219:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(39537),i=n(33918),s=n(27437);function a(e,t,n){return!(0,s.Z)(n)&&!(0,i.Z)(e)&&e.userState&&(e.type===r.pG.Movie||e.type===r.pG.Episode||e.type===r.pG.Track&&e.subtype===r.y_.Podcast)&&!1!==t.saved}},33918:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(17524),i=n(60316);function s(e){const{providerIdentifier:t}=(0,i.Z)(e.source);return r.wB(t,[r.Ll,r.vP])}},53866:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(39537);function i(e,t){const{type:n}=e,{viewOffset:i,viewCount:s,viewedLeafCount:a,unviewedLeafCount:o}=t;return!(n!==r.pG.Movie&&n!==r.pG.Show&&n!==r.pG.Season&&n!==r.pG.Episode&&n!==r.pG.Track||i||!(s&&!a&&!o||a&&!o))}},1193:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(76403),i=n(10692),s=n(8183);const a=(0,r.oM)({name:"metadataItemState",initialState:{},reducers:{metadataItemStatesNormalized(e,{payload:t}){Object.assign(e,t.metadataItemStates)},playedStatusUpdateRequested(e,{payload:t}){const{sourceURI:n,played:r}=t,i=e[n];if(i){const{viewedLeafCount:e,unviewedLeafCount:t,viewCount:n,viewOffset:s,tempState:a}=i;a.viewedLeafCount=e,a.unviewedLeafCount=t,a.viewCount=n,a.viewOffset=s,null!=t&&null!=e?(i.viewedLeafCount=r?t+e:0,i.unviewedLeafCount=r?0:t+e):(i.viewCount=r?(i.viewCount||0)+1:0,i.viewOffset=0)}},playedStatusUpdateSucceeded(e,{payload:t}){const{sourceURI:n}=t,r=e[n];if(r){const{tempState:e}=r;e.viewedLeafCount=void 0,e.unviewedLeafCount=void 0,e.viewCount=void 0,e.viewOffset=void 0,r.isStale=!0}},playedStatusUpdateFailed(e,{payload:t}){const n=e[t.sourceURI];if(n){const{tempState:e}=n;n.viewedLeafCount=e.viewedLeafCount,e.viewedLeafCount=void 0,n.unviewedLeafCount=e.unviewedLeafCount,e.unviewedLeafCount=void 0,n.viewCount=e.viewCount,e.viewCount=void 0,n.viewOffset=e.viewOffset,e.viewOffset=void 0}},rateRequested(e,{payload:t}){const n=e[t.sourceURI];if(n){const{lastRatedAt:e,userRating:r,tempState:i}=n,s=-1===t.rating;i.lastRatedAt=e,i.userRating=r,n.lastRatedAt=s?void 0:Date.now(),n.userRating=s?void 0:t.rating}},rateSucceeded(e,{payload:t}){const n=e[t.sourceURI];if(n){const{tempState:e}=n;e.lastRatedAt=void 0,e.userRating=void 0}},rateFailed(e,{payload:t}){const n=e[t.sourceURI];if(n){const{tempState:e}=n;n.lastRatedAt=e.lastRatedAt,e.lastRatedAt=void 0,n.userRating=e.userRating,e.userRating=void 0}},toggleWatchlistRequested(e,{payload:t}){const n=e[t.sourceURI];if(n){const{watchlistedAt:e,tempState:r}=n;r.watchlistedAt=e,n.watchlistedAt=t.added?Date.now():void 0}},toggleWatchlistSucceeded(e,{payload:t}){const n=e[t.sourceURI];if(n){const{tempState:e}=n;e.watchlistedAt=void 0,n.isStale=!0}},toggleWatchlistFailed(e,{payload:t}){const n=e[t.sourceURI];if(n){const{tempState:e}=n;n.watchlistedAt=e.watchlistedAt,e.watchlistedAt=void 0}},toggleSavedRequested(e,{payload:t}){const n=e[t.sourceURI];if(n){const{saved:e,tempState:r}=n;r.saved=e,n.saved=t.saved}},toggleSavedSucceeded(e,{payload:t}){const n=e[t.sourceURI];if(n){const{tempState:e}=n;e.saved=void 0,n.isStale=!0}},toggleSavedFailed(e,{payload:t}){const n=e[t.sourceURI];if(n){const{tempState:e}=n;n.saved=e.saved,e.saved=void 0}},streamSelectRequested(e,t){},streamSelectSucceeded(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStale=!0)},streamSelectFailed(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStale=!0)},streamDeleteRequested(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStreamDeletePending=!0)},streamDeleteSucceeded(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStreamDeletePending=!1,n.isStale=!0)},streamDeleteFailed(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStreamDeletePending=!1)},metadataProcessed(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStale=!0)},fetchRequested(e,{payload:t}){var n;const r=null!=(n=e[t.sourceURI])?n:{tempState:{},isPending:!0,isPopulated:!1,error:null,isStale:!1};(0,s.er)(r),e[t.sourceURI]=r},fetchSucceeded(e,{payload:t}){const n=e[t.sourceURI];n&&(Object.assign(n,t.metadataItemState),(0,s.vv)(n))},fetchFailed(e,{payload:t}){const n=e[t.sourceURI];n&&(0,s.VQ)(n,t.error)},fetchCancelled(e,{payload:t}){const n=e[t.sourceURI];n&&(0,s.EA)(n)},repopulateRequested(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStale=!0)},repopulateCanceled(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStale=!1)},created(e,t){},deleted(e,{payload:t}){const n=e[t.sourceURI];n&&(n.deletedAt=Date.now(),n.isDeleted=!0)},preferenceChanged(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStale=!0)},addToLibraryRequested(e,t){},removeFromContinueWatchingRequested(e,t){},removeFromContinueWatchingSucceeded(e,{payload:t}){const n=e[t.sourceURI];n&&(n.isStale=!0)}},extraReducers:e=>{e.addCase(i.Z.actions.added,((e,{payload:t})=>{Object.assign(e,t.metadataItemStates)})),e.addCase(i.Z.actions.fetchRangeSucceeded,((e,{payload:t})=>{Object.assign(e,t.data.metadataItemStates)})),e.addCase(i.Z.actions.fetchAllSucceeded,((e,{payload:t})=>{Object.assign(e,t.data.metadataItemStates)})),e.addCase(i.Z.actions.repopulateRangeSucceeded,((e,{payload:t})=>{Object.assign(e,t.data.metadataItemStates)}))}})},723:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(18198);const s=function(e){return(0,r.P1)(i.Z,(t=>(e?t[e]:null)||{tempState:{},isStale:!1,isPending:!1,isPopulated:!1,error:null}))}},18198:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(98501);const s=(0,r.P1)(i.Z,(e=>e.metadataItemState))},12415:(e,t,n)=>{"use strict";n.d(t,{U:()=>c,ZP:()=>d});var r=n(67294),i=n(60316),s=n(41538),a=n(59315),o=n(97120);const l=(0,r.createContext)({containerServer:o.Z,containerProvider:a.Z,containerSourceURI:"",containerKey:"",containerType:s.U.Mixed});function c(){return(0,r.useContext)(l)}function d({children:e,containerServer:t,containerProvider:n,containerSourceURI:s,containerKey:a,containerType:o,containerSubtype:c,containerMeta:d,listStyle:u}){const p=(0,r.useMemo)((()=>{let e=a;if(!e){const{key:t}=(0,i.Z)(s);e=t}return{containerServer:t,containerProvider:n,containerSourceURI:s,containerKey:e,containerType:o,containerSubtype:c,containerMeta:d,listStyle:u}}),[a,n,t,s,c,o,d,u]);return r.createElement(l.Provider,{value:p},e)}},26091:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(67294),i=n(5562),s=n(91995),a=n(74287),o=n(75534),l=n(21914),c=n(89969),d=n(4134),u=n(77927),p=n(61214);function m({className:e}){const t=(0,c.I0)(),n=(0,c.v9)((0,u.Z)("columnWidthMultiplier")),[s,a]=(0,r.useState)(n),o=(0,r.useCallback)((({positionValue:e})=>{a(e)}),[]);return(0,r.useEffect)((()=>{const e=Math.round(10*s)/10;let r;return s!==n&&(r=window.setTimeout((()=>{t((0,d.LN)({columnWidthMultiplier:e}))}),100)),()=>window.clearTimeout(r)}),[n,t,s]),r.createElement(p.Z,{className:e,label:(0,i.Z)("Poster Size"),value:s,min:1,max:2,onChange:o})}var h=n(41538),g=n(17331),y=n(46905),v=n(55278),f=n(8979),b=n(15984),S=n(21848);function I({listStyles:e,selectedListStyle:t,onListStyleSelect:n}){const c=(0,y.Z)(),d=(0,o.Z)(),u=(0,r.useCallback)((e=>{c.onClose(),null==n||n(e)}),[c,n]),p=e.length>1,I=t===h.n.Grid||t===h.n.PrePlayGrid,Z=function(e){switch(e){case h.n.Details:case h.n.SimpleDetails:return b.Z;case h.n.Table:return f.Z;default:return S.Z}}(t);return I||p?r.createElement("div",{className:"MetadataListStylesMenu-stylesContainer-1jthk5"},I?r.createElement(m,{className:"MetadataListStylesMenu-slider-1f0EqT Slider-slider-4zRCDI"}):null,r.createElement(g.Z,{id:d,"data-qa-id":"toolbarView",className:p?"MetadataListStylesMenu-stylesButtonWithArrow-BSNHYE MetadataListStylesMenu-stylesButton-ABbKB6 Link-link-2WGTd7":"MetadataListStylesMenu-stylesButton-ABbKB6 Link-link-2WGTd7","aria-label":(0,i.Z)("Show List Styles"),isDisabled:!p,onPress:c.onToggle},r.createElement(Z,{className:"MetadataListStylesMenu-stylesIcon-1xPPD0"}),p?r.createElement(s.Z,{direction:c.isOpen?l.UP:l.WV}):null),p?r.createElement(a.Z,{target:d,isOpen:c.isOpen,onMenuClose:c.onClose},e.map((e=>{const n=function(e){switch(e){case h.n.Grid:case h.n.PrePlayGrid:return(0,i.Z)("Grid View");case h.n.Details:case h.n.SimpleDetails:return(0,i.Z)("Detail View");case h.n.Table:return(0,i.Z)("Table View");default:return}}(e);return n?r.createElement(v.Z,{key:e,isSelected:t===e,title:n,value:e,onSelect:u},n):null}))):null):null}},10692:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I,g:()=>S});var r=n(76403),i=n(54466),s=n(39537),a=n(41538),o=n(26636),l=n(51337),c=n(60679),d=n(20019),u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable;var h=Object.defineProperty,g=Object.prototype.hasOwnProperty,y=Object.getOwnPropertySymbols,v=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b=(e,t)=>{for(var n in t||(t={}))g.call(t,n)&&f(e,n,t[n]);if(y)for(var n of y(t))v.call(t,n)&&f(e,n,t[n]);return e};const S=(0,i.Z)(((e,t)=>e[t.sourceURI]),(({server:e,provider:t,data:n})=>{var r,i,h,g,y;const v=null!=(r=null==n?void 0:n.MediaContainer)?r:{},{Metadata:f=[],Directory:b}=v,S=((e,t)=>{var n={};for(var r in e)u.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&p)for(var r of p(e))t.indexOf(r)<0&&m.call(e,r)&&(n[r]=e[r]);return n})(v,["Metadata","Directory"]),I=t?(0,l.Z)(t,String(S.librarySectionID)):void 0;null==(h=null==(i=null==S?void 0:S.Meta)?void 0:i.Type)||h.forEach((e=>{e.type===a.U.Movie&&(null==I?void 0:I.agent)===o.Py.None&&null==e.subtype&&(e.subtype=s.y_.Clip)}));const{metadataItems:Z,metadataItemStates:P}=(0,d.Z)({server:e,provider:t,data:null!=b?b:f,container:S});return{items:Z,totalSize:null!=(g=null==S?void 0:S.totalSize)?g:0,size:null==S?void 0:S.size,offset:null!=(y=null==S?void 0:S.offset)?y:0,meta:(0,c.Z)(null==S?void 0:S.Meta),title:null==S?void 0:S.title,metadataItemStates:P}})),I=(0,r.oM)({name:"metadataLists",initialState:{},reducers:b(b({},S.reducers),{added(e,{payload:t}){t.metadataLists.forEach((t=>{e[t.sourceURI]=b(b({},S.getDefaultPaginatedState()),t)}))},throttledRepopulateRequested(e,t){}})})},41538:(e,t,n)=>{"use strict";var r,i,s,a;n.d(t,{U:()=>r,n:()=>s}),(i=r||(r={})).Album="album",i.Artist="artist",i.Channel="channel",i.Channels="channels",i.Content="content",i.Clip="clip",i.Collection="collection",i.Directory="directory",i.Episode="episode",i.Extra="extra",i.Folder="folder",i.Game="game",i.Mixed="mixed",i.Movie="movie",i.MusicVideo="musicVideo",i.Person="person",i.Photo="photo",i.PhotoAlbum="photoAlbum",i.Playlist="playlist",i.Season="season",i.Show="show",i.Station="station",i.Track="track",(a=s||(s={})).Hero="hero",a.List="list",a.Shelf="shelf",a.Spotlight="spotlight",a.Upsell="upsell",a.WideShelf="wideShelf",a.Grid="grid",a.PrePlayGrid="prePlayGrid",a.Table="table",a.Details="details",a.SimpleDetails="simpleDetails",a.TrackDetails="trackDetails",a.SharedItems="sharedItems",a.Folder="folder"},76033:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(98501);const s=function(e){return(0,r.P1)(i.Z,(t=>t.metadataLists[e]))}},18641:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(94173),i=n(12336),s=n(80656),a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var u=n(34345),p=n(7796),m=Object.defineProperty,h=Object.prototype.hasOwnProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.propertyIsEnumerable,v=(e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const f=parseInt(p.Z.v4PagePadding,10),b=parseInt(p.Z.v4CardTitleHeight,10),S=parseInt(p.Z.v4CardTitleGap,10),I=parseInt(p.Z.v4CardShadowSize,10),Z=parseInt(p.Z.gapMedium,10);function P(e){var t=e,{listType:n,subtype:a,listStyle:p,displayFields:m,displayImages:P,columnWidth:E}=t,M=((e,t)=>{var n={};for(var r in e)h.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&g)for(var r of g(e))t.indexOf(r)<0&&y.call(e,r)&&(n[r]=e[r]);return n})(t,["listType","subtype","listStyle","displayFields","displayImages","columnWidth"]);const C=(0,u.Z)(n,a,P),w=(0,r.ZP)(n,a,{listStyle:p,displayImageType:C}),D=M.titleCount?M.titleCount:(0,i.Z)(n,a,{listStyle:p,displayFields:m});return function(e){var t=e,{columnWidth:n,aspectRatio:r,titleHeight:i,innerHorizontalPadding:a}=t,u=((e,t)=>{var n={};for(var r in e)o.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&l)for(var r of l(e))t.indexOf(r)<0&&c.call(e,r)&&(n[r]=e[r]);return n})(t,["columnWidth","aspectRatio","titleHeight","innerHorizontalPadding"]);return(0,s.Z)(((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({columnWidth:n,rowHeight:Math.floor(n/r+i),innerHorizontalPadding:a},u))}(((e,t)=>{for(var n in t||(t={}))h.call(t,n)&&v(e,n,t[n]);if(g)for(var n of g(t))y.call(t,n)&&v(e,n,t[n]);return e})({columnWidth:w===r.oz?2*E+Z:E,aspectRatio:w,titleHeight:b*D+S,innerHorizontalPadding:Z,outerPaddingTop:I,outerPaddingRight:f,outerPaddingBottom:I,outerPaddingLeft:f},M))}},56724:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(39537),i=n(20272);const s=function(e){const t=(0,i.gQ)(r.pG).find((([,t])=>t===e));return t?r.pG[t[0]]:void 0}},14818:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(76403),i=n(44098);function s(e,t){let n=e[t];return n||(n={},e[t]=n),n}const a=(0,r.oM)({name:"metadataTimelineState",initialState:{},reducers:{metadataRefreshRequested(e,{payload:t}){const n=s(e,t.sourceURI);n.metadataState||(n.metadataState=i.H.Queued)},metadataRefreshFailed(e,{payload:t}){const n=s(e,t.sourceURI);(null==n?void 0:n.mediaState)?n.metadataState=void 0:delete e[t.sourceURI]},mediaAnalysisRequested(e,{payload:t}){if(!t.hasChildren){const n=s(e,t.sourceURI);n.mediaState||(n.mediaState=i.g.Analyzing)}},mediaAnalysisFailed(e,{payload:t}){const n=s(e,t.sourceURI);(null==n?void 0:n.metadataState)?n.mediaState=void 0:delete e[t.sourceURI]},timelineStatesChanged(e,{payload:t}){const n=s(e,t.sourceURI);t.metadataState||t.mediaState?(n.metadataState=t.metadataState,n.mediaState=t.mediaState):delete e[t.sourceURI]}}})},44098:(e,t,n)=>{"use strict";var r,i,s,a;n.d(t,{H:()=>r,g:()=>s}),(i=r||(r={})).Queued="queued",i.Matching="matching",i.Processing="processing",i.Loading="loading",(a=s||(s={})).Analyzing="analyzing",a.Thumbnailing="thumbnailing"},26636:(e,t,n)=>{"use strict";var r,i,s,a,o,l,c,d,u,p,m,h,g,y;n.d(t,{rn:()=>r,zW:()=>s,wd:()=>o,rf:()=>c,F6:()=>u,GG:()=>m,Py:()=>g}),(i=r||(r={})).Download="download",i.LiveTV="livetv",i.Stream="stream",(a=s||(s={})).Action="action",a.Actions="actions",a.Collection="collection",a.Content="content",a.ContinueWatching="continuewatching",a.Grid="grid",a.ImageTranscoder="imagetranscoder",a.Integrations="integrations",a.Lineups="lineups",a.Location="location",a.Manage="manage",a.Match="match",a.Metadata="metadata",a.Playlist="playlist",a.PlayQueue="playqueue",a.Promoted="promoted",a.QueryParser="queryParser",a.Rate="rate",a.Search="search",a.Settings="settings",a.Subscribe="subscribe",a.Timeline="timeline",a.Universal="universal",(l=o||(o={})).Download="download",l.Record="record",l.Universal="universal",(d=c||(c={})).AddToCatalog="addToCatalog",d.AddToWatchlist="addToWatchlist",d.Pick="pick",d.Rate="rate",d.RemoveFromContinueWatching="removeFromContinueWatching",d.Save="save",d.Scrobble="scrobble",(p=u||(u={})).Hub="hub",p.List="list",p.View="view",(h=m||(m={})).RecordingSchedule="view://dvr/recording-schedule",h.Guide="view://dvr/guide",h.Timeline="view://photo/timeline",h.SharedItems="view://shared-items",(y=g||(g={})).Freebase="com.plexapp.agents.freebase",y.IMDB="com.plexapp.agents.imdb",y.LastFM="com.plexapp.agents.lastfm",y.Lyricfind="com.plexapp.agents.lyricfind",y.None="com.plexapp.agents.none",y.PlexGame="tv.plex.agents.game",y.PlexMovie="tv.plex.agents.movie",y.PlexMusic="tv.plex.agents.music",y.PlexPremiumMusic="com.plexapp.agents.plexmusic",y.TheMovieDB="com.plexapp.agents.themoviedb",y.TheTVDB="com.plexapp.agents.thetvdb"},84389:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(22222),i=n(26636),s=n(87803),a=n(70617),o=n(81858);const l=(0,a.Z)((function(e,t){return(0,r.P1)((0,o.Z)(e,t),(e=>{var t;const n=(0,s.Z)(e,i.zW.Content);return null!=(t=null==n?void 0:n.directories)?t:[]}))}))},52372:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(70617),s=n(84389);const a=(0,i.Z)((function(e,t,n){return(0,r.P1)((0,s.Z)(e,t),(e=>e.find((e=>n===e.id))))}))},81858:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(22222),i=n(98727),s=n(59701),a=n(59315),o=n(29065);const l=(0,n(70617).Z)((function(e,t){return(0,r.P1)(i.Z,(0,o.Z)(e),(0,s.Z)("providers"),((e,n,r)=>{const i=(!n||n.isCloud?r:n.providers).find((n=>e[n].identifier===t));return i?e[i]:a.Z}))}))},51337:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(26636),i=n(87803);function s(e,t){var n;const s=(0,i.Z)(e,r.zW.Content);if(s)return(null!=(n=null==s?void 0:s.directories)?n:[]).find((e=>!!e.id&&e.id===t))}},29884:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(26636);function i(e,t){var n;const i=e.features.find((e=>e.type===r.zW.Actions));return null==(n=null==i?void 0:i.actions)?void 0:n.find((e=>e.id===t))}},87803:(e,t,n)=>{"use strict";function r(e,t,n){return e.features.find((e=>e.type===t&&(!n||e.flavor===n)))}n.d(t,{Z:()=>r})},67145:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(17524),i=n(36535);function s(e){return r.wB((0,i.Z)(e.identifier,e.providerIdentifier),[r.vP,r.Ll])}},79687:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(17524),i=n(36535);function s(e){return r.wB((0,i.Z)(e.identifier,e.providerIdentifier),r.Y3)}},27437:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(17524),i=n(36535);function s(e){return r.wB((0,i.Z)(e.identifier,e.providerIdentifier),r.uk)}},59315:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={entityID:"",identifier:"",metricsIdentifier:"",title:"",features:[],protocols:[],isPending:!1,isPopulated:!1,error:null}},98501:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(94590);const s=(0,r.P1)(i.Z,(e=>e.core))},38992:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(98501);const s=(0,n(70617).Z)((function(e){return(0,r.P1)(i.Z,(t=>t.serverAccounts[e]))}))},74395:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(76403),i=n(53425),s=n(8183),a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const u={accounts:[],isPending:!1,isPopulated:!1,error:null},p=(0,r.oM)({name:"serverAccounts",initialState:{},reducers:{populateRequested(e,t){},fetchRequested(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,s.er)(n)},fetchSucceeded(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,s.vv)(n),n.accounts=t.data},fetchFailed(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,s.VQ)(n,t.error)}},extraReducers:e=>{e.addCase(i.Z.actions.connected,((e,{payload:t})=>{const{server:n}=t;e[n.machineIdentifier]||(e[n.machineIdentifier]=((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({},u))}))}})},51377:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(72759),s=n(75364);const a=function(e){return(0,r.P1)((0,s.Z)(e),(e=>e.find((e=>e.type===i.RG))))}},75364:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(29065);const s=(0,n(70617).Z)((function(e){return(0,r.P1)((0,i.Z)(e.machineIdentifier),(e=>{var t,n;return null!=(n=null==(t=null==e?void 0:e.desktop)?void 0:t.activities)?n:[]}))}))},96147:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(76403),i=n(53425);const s=(0,r.oM)({name:"serverActivities",initialState:{},reducers:{activityStarted(e,t){},activityUpdated(e,t){},activityFinished(e,t){}},extraReducers:e=>{e.addCase(i.Z.actions.connected,((e,{payload:t})=>{const{server:n}=t;e[n.machineIdentifier]||(e[n.machineIdentifier]=[])}))}})},80906:(e,t,n)=>{"use strict";var r,i;n.d(t,{Z:()=>r}),(i=r||(r={})).BackupDatabase="general.db.backup",i.CleanBundles="general.bundle.clean",i.GrabberGrab="grabber.grab",i.GrabberAssimilate="grabber.assimilate",i.LibraryDelete="library.delete",i.LibraryUpdateSection="library.update.section",i.LibraryRefreshItems="library.refresh.items",i.MediaGenerateBIF="media.generate.bif",i.MediaGenerateChapterThumbs="media.generate.chapter.thumbs",i.MediaGenerateIntros="media.generate.intros",i.OptimizeDatabase="general.db.optimize",i.ProviderDeviceChannelScan="provider.device.channelscan",i.ProviderEpgLineupScan="provider.epg.lineupscan",i.ProviderEpgLoad="provider.epg.load",i.ProviderSubscriptionsProcess="provider.subscriptions.process",i.ProviderSubscriptionRefresh="provider.subscription.refresh",i.SubtitleDownload="subtitle.download"},86626:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(98501);const s=(0,n(70617).Z)((function(e){return(0,r.P1)(i.Z,(t=>t.serverDevices[e]))}))},23306:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(76403),i=n(53425),s=n(8183),a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const u={devices:[],isPending:!1,isPopulated:!1,error:null},p=(0,r.oM)({name:"serverDevices",initialState:{},reducers:{populateRequested(e,t){},fetchRequested(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,s.er)(n)},fetchSucceeded(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,s.vv)(n),n.devices=t.data},fetchFailed(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,s.VQ)(n,t.error)}},extraReducers:e=>{e.addCase(i.Z.actions.connected,((e,{payload:t})=>{const{server:n}=t;e[n.machineIdentifier]||(e[n.machineIdentifier]=((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({},u))}))}})},88587:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(98501);const s=(0,n(70617).Z)((function(e){return(0,r.P1)(i.Z,(t=>t.serverNowPlayingSessions[e]))}))},54939:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(76403),i=n(39666),s=n(96840),a=n(53425),o=n(8183),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function m(e,t){const{isCloud:n,isConnected:r,isEmbedded:a,isFullOwnedServer:o,isFullServer:l,isUnauthorized:c,isUnavailable:d}=t,u={extra:{isCloud:n,isConnected:r,isEmbedded:a,isFullOwnedServer:o,isFullServer:l,isUnauthorized:c,isUnavailable:d}},p=new Error(e);s.Z.error(p,u.extra),i.Tb(p,u)}const h={sessionKeys:[],sessionsByKey:{},isPending:!1,isPopulated:!1,error:null,stopSessionError:null},g=(0,r.oM)({name:"serverNowPlayingSessions",initialState:{},reducers:{fetchRequested(e,{payload:t}){const n=e[t.server.machineIdentifier];n&&(0,o.er)(n)},fetchSucceeded(e,{payload:t}){const n=e[t.server.machineIdentifier];if(!n)return;const{sessionKeys:r,sessionsByKey:i}=t.data.reduce(((e,t)=>(e.sessionKeys.push(t.sessionKey),e.sessionsByKey[t.sessionKey]=t,e)),{sessionKeys:[],sessionsByKey:{}});(0,o.vv)(n),n.sessionKeys=r,n.sessionsByKey=i},fetchFailed(e,{payload:t}){const n=e[t.server.machineIdentifier];n&&(0,o.VQ)(n,t.error)},sessionChanged(e,{payload:t}){const{server:n,message:r}=t,i=e[n.machineIdentifier];if(!i)return void m("Session changed without serverState",n);const s=i.sessionsByKey[r.sessionKey];s&&s.key===r.key&&(s.viewOffset=r.viewOffset,s.Player.state=r.state)},sessionStopped(e,{payload:t}){const{server:n,sessionKey:r}=t,i=e[n.machineIdentifier];i?i.sessionsByKey[r]&&(delete i.sessionsByKey[r],i.sessionKeys.splice(i.sessionKeys.indexOf(r),1)):m("Session stopped without serverState",n)},stopRequested(e,t){},stopFailed(e,{payload:t}){const n=e[t.server.machineIdentifier];n&&(n.stopSessionError=t.error)},stopErrorDismissed(e,{payload:t}){const n=e[t.server.machineIdentifier];n&&(n.stopSessionError=null)}},extraReducers:e=>{e.addCase(a.Z.actions.connected,((e,{payload:t})=>{const{server:n}=t;e[n.machineIdentifier]||(e[n.machineIdentifier]=((e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e})({},h))}))}})},31235:(e,t,n)=>{"use strict";n.d(t,{c9:()=>u,ZP:()=>p});var r=n(67294),i=n(89969),s=n(52372),a=n(81858),o=n(59315),l=n(94177),c=n(97120);const d=(0,r.createContext)([c.Z,o.Z,void 0]);function u(){return(0,r.useContext)(d)}function p({machineIdentifier:e,providerIdentifier:t,contentDirectoryID:n,children:o}){const c=(0,i.v9)((0,l.Z)(e)),u=(0,i.v9)((0,a.Z)(e,t)),p=(0,i.v9)((0,s.Z)(e,t,n)),m=(0,r.useMemo)((()=>[c,u,p]),[c,u,p]);return r.createElement(d.Provider,{value:m},o)}},94177:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(22222),i=n(72194),s=n(97120),a=n(70617),o=n(47192);const l=(0,a.Z)((function(e){return(0,i.Z)((0,r.P1)(o.Z,(t=>t.find((t=>t.machineIdentifier===e))||s.Z)),(e=>e))}))},29065:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(90217),s=n(97120);const a=(0,n(70617).Z)((function(e){return(0,r.P1)(i.Z,(t=>t.find((t=>t.machineIdentifier===e))||s.Z))}))},47192:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(22222),i=n(72194),s=n(90217),a=n(19201);const o=(0,i.Z)((0,r.P1)(s.Z,(e=>e.map(a.Z))),(e=>e))},53425:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(76403).oM)({name:"servers",initialState:{},reducers:{connected(e,t){},libraryScanUpdated(e,t){}}})},90613:(e,t,n)=>{"use strict";var r,i,s,a;n.d(t,{j:()=>r,Y:()=>s}),(i=r||(r={})).Windows="Windows",i.Android="Android",i.Linux="Linux",i.FreeBSD="FreeBSD",i.MacOSX="MacOSX",i.IOS="iOS",(a=s||(s={})).Pending="pending",a.Connected="connected",a.Unavailable="unavailable",a.Unauthorized="unauthorized"},19201:(e,t,n)=>{"use strict";function r(e){return{entityID:e.entityID,machineIdentifier:e.machineIdentifier,accessToken:e.accessToken,uri:e.activeConnection?e.activeConnection.uri:void 0,version:e.version,platform:e.platform,friendlyName:e.friendlyName,sourceTitle:e.sourceTitle,countryCode:e.countryCode,allowSync:e.allowSync,allowMediaDeletion:e.allowMediaDeletion,backgroundProcessing:e.backgroundProcessing,transcoderVideo:e.transcoderVideo,isCloud:e.isCloud,isEmbedded:e.isEmbedded,isFullServer:e.isFullServer,isFullOwnedServer:e.isFullOwnedServer,isOutOfDate:e.isOutOfDate,isUnavailable:e.isUnavailable,isUnauthorized:e.isUnauthorized,isConnected:e.isConnected,livetv:e.livetv,connectionTestResult:e.connectionTestResult,ownerId:e.ownerId,ownerFeatures:e.ownerFeatures}}n.d(t,{Z:()=>r})},97120:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={entityID:"",machineIdentifier:"",friendlyName:"Unknown",allowSync:!1,allowMediaDeletion:!1,backgroundProcessing:!1,transcoderVideo:!1,isCloud:!1,isEmbedded:!1,isFullServer:!1,isFullOwnedServer:!1,isOutOfDate:!1,isUnavailable:!1,isUnauthorized:!1,isConnected:!1,connectionTestResult:n(90613).Y.Pending,ownerFeatures:[],providers:[]}},83696:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i({className:e="Badge-badge-3V2nLB",style:t,iconClassName:n="Badge-icon-3gfym9",iconComponent:i}){return r.createElement("div",{className:e,style:t},r.createElement(i,{className:n}))}},49429:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),i=n(83696),s=n(35771);function a({className:e="PlayedBadge-playedBadge-2cB8je Badge-badge-3V2nLB"}){return r.createElement(i.Z,{className:e,iconComponent:s.Z})}},59895:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294),i=n(28670),s=n(51343),a=n(39537);function o({className:e="RecordingBadge-recordingBadge-3SJz9q",subscriptionType:t}){const n=t===a.pG.Show?i.Z:s.Z;return r.createElement(n,{className:e})}},74474:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),i=n(83696),s=n(45697),a=n.n(s),o=n(17845);function l(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-in-watchlist-560"};s["aria-hidden"]=!t,s.style=i,s.className=o.Z.plexIcon+(n?" "+n:"");var a=[r.createElement.apply(r,["path",{clipRule:"evenodd",d:"M42 6.15892C42 4.72113 40.8409 3.59998 39.411 3.59998H8.58903C7.15701 3.59998 6 4.74565 6 6.15892V42.9571C6 44.3949 6.90879 44.8173 8.02984 43.9554L21.9702 33.2377C23.0826 32.3824 24.9088 32.3758 26.0298 33.2377L39.9702 43.9554C41.0826 44.8107 42 44.3704 42 42.9571V6.15892Z"}].concat([]))];return t&&a.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(a))}l.propTypes={"aria-label":a().string,className:a().string,style:a().object};const c=l;function d({className:e="WatchlistBadge-watchlistBadge-vzvONa Badge-badge-3V2nLB"}){return r.createElement(i.Z,{className:e,iconComponent:c})}},92747:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(94184),i=n.n(r),s=n(67294),a=n(27271),o=n(66088),l=n(87684),c=n(89328);const d={actionButton:"ActionButton-actionButton-392O1X Button-button-1q7C1V Link-link-2WGTd7",labeledActionButton:"ActionButton-labeledActionButton-3gloir ActionButton-actionButton-392O1X Button-button-1q7C1V Link-link-2WGTd7",icon:"ActionButton-icon-asUA4S",iconActionButton:"ActionButton-iconActionButton-3RWDHb ActionButton-actionButton-392O1X Button-button-1q7C1V Link-link-2WGTd7",tooltip:"ActionButton-tooltip-1YDGxT Tooltip-topCenter-cICpCf Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipBottomArrow-3k-Ppf Tooltip-tooltipCenterAlignArrow-EwxeoC",small:"ActionButton-small-2iEiNP",medium:"ActionButton-medium-2--fwJ",large:"ActionButton-large-3bhyDc"};var u=Object.defineProperty,p=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&g(e,n,t[n]);if(m)for(var n of m(t))h.call(t,n)&&g(e,n,t[n]);return e};function v(e){var t=e,{isLabeled:n,className:r=(n?d.labeledActionButton:d.iconActionButton),iconClassName:u=d.icon,tooltipClassName:g=d.tooltip,kind:v,size:f=c.Z.Medium,icon:b,tooltipAttachment:S=o.jO,title:I}=t,Z=((e,t)=>{var n={};for(var r in e)p.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&m)for(var r of m(e))t.indexOf(r)<0&&h.call(e,r)&&(n[r]=e[r]);return n})(t,["isLabeled","className","iconClassName","tooltipClassName","kind","size","icon","tooltipAttachment","title"]);return n?s.createElement(l.Z,y({className:i()(r,d[f]),kind:v},Z),b?s.createElement(s.Fragment,null,s.createElement(b,{className:u})," "):null,I):s.createElement(a.Z,y({className:i()(r,d[f]),tooltipClassName:g,component:l.Z,tooltip:I,tooltipAttachment:S},Z),b?s.createElement(b,{className:u}):null)}},96768:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(67294),i=n(5562),s=n(17331),a=n(7203),o=n(89328),l=n(46391);var c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function h(e){var t=e,{id:n,className:c,tabIndex:h,isPending:g}=t,y=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(t,["id","className","tabIndex","isPending"]);return r.createElement(s.Z,((e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e})({id:n,className:c,tabIndex:h,"aria-label":(0,i.Z)("More Actions"),"aria-haspopup":!0},y),g?r.createElement("div",{className:"ActionsLink-spinnerContainer-2NckGC"},r.createElement(a.Z,{size:o.Z.Small})):r.createElement(l.Z,null))}},87684:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(94184),i=n.n(r),s=n(67294),a=n(47124),o=n(89328),l=n(17331);const c={button:"Button-button-1q7C1V Link-link-2WGTd7",default:"Button-default-37HUnP",primary:"Button-primary-BXmP5W",success:"Button-success-NFsgPN",danger:"Button-danger-1pYJTx",small:"Button-small-2CYrBL",medium:"Button-medium-21zX8X",large:"Button-large-18Gbic"};var d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e};function y(e){var t=e,{className:n=c.button,kind:r=a.Z.Default,size:d=o.Z.Medium}=t,h=((e,t)=>{var n={};for(var r in e)u.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&p)for(var r of p(e))t.indexOf(r)<0&&m.call(e,r)&&(n[r]=e[r]);return n})(t,["className","kind","size"]);return s.createElement(l.Z,g(g({},h),{className:i()(n,c.button,c[r],c[d])}))}},10877:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(94184),i=n.n(r),s=n(67294),a=n(17331);const o={iconButton:"IconButton-iconButton-1kbRFb Link-link-2WGTd7",isDisabled:"IconButton-isDisabled-3rZuxc",isActive:"IconButton-isActive-3RXALk"};var l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};function h(e){var t=e,{children:n,className:r=o.iconButton,activeClassName:l=o.isActive,disabledClassName:p=o.isDisabled,iconClassName:h,iconComponent:g,isDisabled:y=!1,isActive:v=!1,title:f,ariaLabel:b}=t,S=((e,t)=>{var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&d)for(var r of d(e))t.indexOf(r)<0&&u.call(e,r)&&(n[r]=e[r]);return n})(t,["children","className","activeClassName","disabledClassName","iconClassName","iconComponent","isDisabled","isActive","title","ariaLabel"]);const I=b||f;return s.createElement(a.Z,m(m({},S),{className:i()(r,y&&p,v&&l),isDisabled:y,"aria-label":I,title:f}),s.createElement(g,{className:h}),n)}},17331:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(94184),i=n.n(r),s=n(67294),a=n(86382),o=n(47124);const l={link:"Link-link-2WGTd7",isHrefLink:"Link-isHrefLink-mFpWVI",default:"Link-default-1Q-OS9",primary:"Link-primary-kT5bHV",success:"Link-success-1-NeCI",danger:"Link-danger-2Cl4qd",small:"Link-small-IojJT6",medium:"Link-medium-2WwS5z",large:"Link-large-OUN5EB"};var c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e};function g(e){var t=e,{forwardedRef:n,children:r,to:c,component:m=(c?"a":"button"),type:g=("button"===m||"input"===m?"button":void 0),role:y=(c?"link":"button"),className:v=l.link,kind:f=o.Z.Default,size:b,isDisabled:S=!1,onPress:I,onTouchStart:Z,onTouchMove:P,onTouchEnd:E,onTouchCancel:M,onMouseDown:C,onMouseUp:w,onMouseLeave:D,onClick:T,onFocus:O,onBlur:x}=t,A=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(t,["forwardedRef","children","to","component","type","role","className","kind","size","isDisabled","onPress","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onMouseDown","onMouseUp","onMouseLeave","onClick","onFocus","onBlur"]);const[N,k]=(0,s.useState)(!1),[L,j]=(0,s.useState)(!1),R=(0,s.useRef)(!1),V=(0,s.useRef)(!1),U=(0,s.useRef)(!1),z=(0,s.useCallback)((e=>{R.current=!0,V.current=!0,1===e.touches.length&&(U.current=!0,k(!0)),null==Z||Z(e)}),[Z]),B=(0,s.useCallback)((e=>{U.current=!1,k(!1),null==P||P(e)}),[P]),_=(0,s.useCallback)((e=>{k(!1),U.current&&(U.current=!1,null==I||I(e)),null==E||E(e)}),[I,E]),F=(0,s.useCallback)((e=>{R.current=!1,V.current=!1,U.current=!1,k(!1),null==M||M(e)}),[M]),H=(0,s.useCallback)((e=>{R.current=!0,k(!0),null==C||C(e)}),[C]),W=(0,s.useCallback)((e=>{k(!1),null==w||w(e)}),[w]),Q=(0,s.useCallback)((e=>{R.current=!1,k(!1),null==D||D(e)}),[D]),G=(0,s.useCallback)((e=>{R.current?R.current=!1:(j(!0),null==O||O(e))}),[O]),Y=(0,s.useCallback)((e=>{R.current=!1,j(!1),null==x||x(e)}),[x]),q=(0,s.useCallback)((e=>{R.current=!1,k(!1),V.current?V.current=!1:(null==I||I(e),null==T||T(e))}),[I,T]),K=(0,s.useCallback)((()=>{j(!1)}),[]);(0,s.useEffect)((()=>(L&&window.addEventListener("mousemove",K),()=>{L&&window.removeEventListener("mousemove",K)})),[L,K]);const $=S?{}:{onTouchStart:z,onTouchMove:B,onTouchEnd:_,onTouchCancel:F,onMouseDown:H,onMouseUp:W,onMouseLeave:Q,onFocus:G,onBlur:Y,onClick:q};return s.createElement(m,h(h(h({},A),$),{ref:n,children:r,type:g,href:c,role:y,className:i()(v,l[f],b&&l[b],c&&l.isHrefLink,N&&a.lW,L&&a.GZ,S&&a.Pv),disabled:S}))}const y=s.forwardRef(((e,t)=>s.createElement(g,h(h({},e),{forwardedRef:t}))))},33273:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),i=n(5562),s=n(17331),a=n(35771);const o={selectButton:"SelectButton-selectButton-1C3dP4 Link-link-2WGTd7",selectCircle:"SelectButton-selectCircle-2NTkCS",selectedIcon:"SelectButton-selectedIcon-14AfFl",unselectedCircle:"SelectButton-unselectedCircle-39XTGh SelectButton-selectCircle-2NTkCS",selectedCircle:"SelectButton-selectedCircle-2zHVBT SelectButton-selectCircle-2NTkCS",rangeCircle:"SelectButton-rangeCircle-zD8oLg SelectButton-selectCircle-2NTkCS"};var l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function m(e){var t=e,{className:n=o.selectButton,selectedCircleClassName:l=o.selectedCircle,rangeCircleClassName:m=o.rangeCircle,selectCircleClassName:h=o.unselectedCircle,iconClassName:g=o.selectedIcon,title:y,isSelected:v,isInSelectionRange:f}=t,b=((e,t)=>{var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&d)for(var r of d(e))t.indexOf(r)<0&&u.call(e,r)&&(n[r]=e[r]);return n})(t,["className","selectedCircleClassName","rangeCircleClassName","selectCircleClassName","iconClassName","title","isSelected","isInSelectionRange"]);const S=(0,r.useMemo)((()=>v?l:f?m:h),[f,v,m,h,l]);return r.createElement(s.Z,((e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e})({className:n,"aria-label":v?(0,i.Z)("Deselect {title}",{title:y}):(0,i.Z)("Select {title}",{title:y})},b),r.createElement("div",{className:S,"data-qa-id":"multipleSelectButton"},v||f?r.createElement(a.Z,{className:g}):null))}},5574:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(94184),i=n.n(r),s=n(67294),a=n(87684),o=n(7203),l=n(89328);const c={button:"SpinnerButton-button-1CCIvZ Button-button-1q7C1V Link-link-2WGTd7",spinnerContainer:"SpinnerButton-spinnerContainer-CeEPyV",spinner:"SpinnerButton-spinner-Xia4yg Spinner-spinner-CSMaLA spin-spin-34xiUE",label:"SpinnerButton-label-19yGUw",isSpinning:"SpinnerButton-isSpinning-3Ulf1A"};var d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function g(e){var t=e,{className:n=c.button,spinnerSize:r=l.Z.Small,isDisabled:d=!1,isSpinning:g=!1,children:y}=t,v=((e,t)=>{var n={};for(var r in e)u.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&p)for(var r of p(e))t.indexOf(r)<0&&m.call(e,r)&&(n[r]=e[r]);return n})(t,["className","spinnerSize","isDisabled","isSpinning","children"]);return s.createElement(a.Z,((e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e})({className:i()(n,g&&c.isSpinning),isDisabled:d||g},v),s.createElement("span",{className:c.spinnerContainer},s.createElement(o.Z,{className:c.spinner,size:r})),s.createElement("span",{className:c.label},y))}},11756:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294);var i=Object.defineProperty,s=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(a)for(var n of a(t))o.call(t,n)&&l(e,n,t[n]);return e};function d({forwardedRef:e,className:t="PosterCard-card-2-REtd",style:n,children:i}){return r.createElement("div",{className:t,style:n,ref:e},i)}const u=r.forwardRef(((e,t)=>r.createElement(d,c(c({},e),{forwardedRef:t}))))},74901:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i({className:e="PosterCardIcon-container-UpQIlp",width:t,height:n,children:i}){const s=(0,r.useMemo)((()=>({width:`${t}px`,height:`${n}px`,fontSize:Math.max(14,Math.min(Math.round(t/4),42)),lineHeight:`${n}px`})),[n,t]);return r.createElement("div",{className:e,style:s},i)}},83701:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=n(17331);const s={link:"PosterCardLink-link-2mWlqA Link-link-2WGTd7",hoveredLink:"PosterCardLink-hoveredLink-3BYG1D PosterCardLink-link-2mWlqA Link-link-2WGTd7"};var a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function u(e){var t=e,{className:n=s.link,hoverClassName:a=s.hoveredLink,isHovered:u}=t,p=((e,t)=>{var n={};for(var r in e)o.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&l)for(var r of l(e))t.indexOf(r)<0&&c.call(e,r)&&(n[r]=e[r]);return n})(t,["className","hoverClassName","isHovered"]);return r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({className:u?a:n},p))}},49531:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(42227),i=n(67294),s=n(31212),a=n(78188);function o(e){return null!=e?(0,s.Z)((0,r.Z)(e)):""}function l({className:e,timestamp:t}){const[n,r]=(0,i.useState)((0,a.Z)(t));return(0,i.useEffect)((()=>{if(null==t)return;const e=function(e,t){const n=Math.abs(Date.now()-1e3*e),r=36e5,i=24*r;return n<r?window.setTimeout(t,6e4):n<i?window.setTimeout(t,r):window.setTimeout(t,i)}(t,(()=>{r((0,a.Z)(t))}));return()=>{window.clearTimeout(e)}}),[t]),n?i.createElement("span",{className:e,title:o(t)},n):null}},30451:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(94184),i=n.n(r),s=n(67294),a=n(89328);const o={input:"Checkbox-input-3E0Vit",small:"Checkbox-small-3XhYNK",medium:"Checkbox-medium-zbYH2W",large:"Checkbox-large-1FadBK",isDisabled:"Checkbox-isDisabled-2ESZNg",hasError:"Checkbox-hasError-1Ijp7A"};var l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};function h(e){var t=e,{forwardedRef:n,className:r=o.input,errorClassName:l=o.hasError,disabledClassName:p=o.isDisabled,isDisabled:h=!1,hasError:g=!1,name:y,size:v=a.Z.Medium}=t,f=((e,t)=>{var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&d)for(var r of d(e))t.indexOf(r)<0&&u.call(e,r)&&(n[r]=e[r]);return n})(t,["forwardedRef","className","errorClassName","disabledClassName","isDisabled","hasError","name","size"]);return s.createElement("input",m({className:i()(r,o[v],h&&p,g&&l),type:"checkbox",id:y,name:y,disabled:h,ref:n},f))}const g=s.forwardRef(((e,t)=>s.createElement(h,m(m({},e),{forwardedRef:t}))))},76418:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(94184),i=n.n(r),s=n(67294);const a={label:"FormLabel-label-3iI4Hz",hasError:"FormLabel-hasError-2I3ArH"};var o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function p(e){var t=e,{className:n=a.label,errorClassName:r=a.hasError,children:o,name:p,hasError:m}=t,h=((e,t)=>{var n={};for(var r in e)l.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&c)for(var r of c(e))t.indexOf(r)<0&&d.call(e,r)&&(n[r]=e[r]);return n})(t,["className","errorClassName","children","name","hasError"]);return s.createElement("label",((e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e})({className:i()(n,m&&r),htmlFor:p},h),o)}},82367:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(94184),i=n.n(r),s=n(67294),a=n(89328);const o={input:"Select-input-bAL4pR",select:"Select-select-1A8Ksu",small:"Select-small-1TC95u",medium:"Select-medium-3uGwmW",large:"Select-large-1QRmSo",isDisabled:"Select-isDisabled-1aVQ0b",hasError:"Select-hasError-1i3Tp8"};var l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};function h(e){var t=e,{forwardedRef:n,className:r=o.input,selectClassName:l=o.select,errorClassName:p=o.hasError,disabledClassName:h=o.isDisabled,isDisabled:g=!1,hasError:y=!1,name:v,size:f=a.Z.Medium,children:b}=t,S=((e,t)=>{var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&d)for(var r of d(e))t.indexOf(r)<0&&u.call(e,r)&&(n[r]=e[r]);return n})(t,["forwardedRef","className","selectClassName","errorClassName","disabledClassName","isDisabled","hasError","name","size","children"]);return s.createElement("span",{className:i()(r,o[f],g&&h,y&&p)},s.createElement("select",m({className:l,name:v,disabled:g,ref:n},S),b))}const g=s.forwardRef(((e,t)=>s.createElement(h,m(m({},e),{forwardedRef:t}))))},8727:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(94184),i=n.n(r),s=n(67294),a=n(89328);const o={input:"TextInput-input-2FGxDj",small:"TextInput-small-HOJY2T",medium:"TextInput-medium-2CTdgu",large:"TextInput-large-2pF07V",isDisabled:"TextInput-isDisabled-2Sh2dy",hasError:"TextInput-hasError-21Dj3_"};var l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};function h(e){var t=e,{forwardedRef:n,className:r=o.input,errorClassName:l=o.hasError,disabledClassName:p=o.isDisabled,isDisabled:h=!1,hasFocusOnMount:g=!1,hasError:y=!1,name:v,size:f=a.Z.Medium,onFocus:b}=t,S=((e,t)=>{var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&d)for(var r of d(e))t.indexOf(r)<0&&u.call(e,r)&&(n[r]=e[r]);return n})(t,["forwardedRef","className","errorClassName","disabledClassName","isDisabled","hasFocusOnMount","hasError","name","size","onFocus"]);return s.createElement("input",m({className:i()(r,o[f],h&&p,y&&l),name:v,disabled:h,autoFocus:g,ref:n,onFocus:b},S))}const g=s.forwardRef(((e,t)=>s.createElement(h,m(m({},e),{forwardedRef:t}))))},87225:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i(e=60){const t=1e3*e,[n,i]=(0,r.useState)(Date.now());return(0,r.useEffect)((()=>{const e=window.setTimeout((()=>{i(Date.now())}),t-n%t);return()=>{window.clearTimeout(e)}}),[n,t]),n}},46905:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i(){const[e,t]=(0,r.useState)(!1),n=(0,r.useCallback)((()=>t(!0)),[]),i=(0,r.useCallback)((()=>t(!1)),[]),s=(0,r.useCallback)((()=>t(!e)),[e]);return(0,r.useMemo)((()=>({isOpen:e,onOpen:n,onClose:i,onToggle:s})),[e,i,n,s])}},32550:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i(){const[e,t]=(0,r.useState)(!1),n=(0,r.useRef)(void 0),i=(0,r.useRef)(null),s=(0,r.useCallback)((e=>{window.clearTimeout(n.current),i.current=e.currentTarget,t(!0)}),[]),a=(0,r.useCallback)((()=>{n.current=window.setTimeout((()=>{i.current=null,t(!1)}))}),[]);return(0,r.useEffect)((()=>{function e(e){const n=e.currentTarget;t(n instanceof HTMLElement&&n.contains(i.current))}return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]),[e,s,a]}},77045:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i(){const[e,t]=(0,r.useState)(!1),n=(0,r.useRef)(null),i=(0,r.useCallback)((()=>t(!0)),[]),s=(0,r.useCallback)((()=>t(!1)),[]);return(0,r.useEffect)((()=>{const e=n.current;return e&&(e.addEventListener("mouseenter",i),e.addEventListener("mouseleave",s)),()=>{e&&(e.removeEventListener("mouseenter",i),e.removeEventListener("mouseleave",s))}}),[i,s]),[e,n]}},74309:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),i=n(62859),s=n(84936);const a=function(){const e=(0,i.TH)().search;return(0,r.useMemo)((()=>{const{params:t}=s.Z.parseUri(e);return t}),[e])}},26021:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(73460),i=n(53274),s=Object.defineProperty,a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const d=window.ResizeObserver||i.d,u=function(e){return(0,r.Z)(((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e})({polyfill:d},e))}},50875:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);const i=function(){return(0,r.useCallback)((e=>{const t=e.target;t&&t.select()}),[])}},55588:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i({className:e="HubTitle-hubTitle-2NQNPv",children:t}){return r.createElement("div",{className:e,"data-qa-id":"hubTitle"},t)}},76512:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),i=n(2200);function s({className:e,hubs:t,hubComponent:n,hubTitleComponent:s,metricsRowOffset:a=0}){let o=a;return r.createElement("div",{className:e},t.map(((e,t)=>r.createElement(i.ZP,{key:t,name:e.context,row:e.initialSize||e.more?o++:void 0},r.createElement(n,{hub:e,hubTitleComponent:s})))))}},14492:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(67294),i=n(48759),s=n(5562),a=n(10877),o=n(55588),l=n(83881),c=n(57138),d=n(63919),u=n(86795),p=n(12589);const m="VirtualHubScroller-hubScrollButton-WieIHz IconButton-iconButton-1kbRFb Link-link-2WGTd7";function h({className:e="VirtualHubScroller-hub-bVNDB-",hubHeaderClassName:t="VirtualHubScroller-hubHeader-1_4Pjo",hub:n,hubTitleComponent:h,keyPropName:g,items:y,totalSize:v,initialPageSize:f=24,layout:b,cellComponentFactory:S,shouldCenterScrollIndex:I,onPageRequest:Z}){const{title:P,initialSize:E,random:M}=n,C=(0,r.useRef)(null),[w,D]=(0,r.useState)(!1),[T,O]=(0,r.useState)(!1),[x,A]=(0,r.useState)(!1),[N,k]=(0,r.useState)(),[L,j]=function(e){const t=(0,i.YD)({triggerOnce:!0});return void 0===window.IntersectionObserver?[void 0,!0]:t}(),R=null==v||M?E:v,V=Math.min(1e4,null!=R?R:0),U=(0,r.useCallback)((()=>{D(!0)}),[]),z=(0,r.useCallback)((e=>{const{visibleStartIndex:t,visibleEndIndex:n}=e;C.current=e,O(t>0),A(V>n+1)}),[V]),B=(0,r.useCallback)((()=>{const e=C.current;if(e){const t=e.visibleEndIndex-e.visibleStartIndex;k(Math.max(e.visibleStartIndex-t-1,0))}}),[]),_=(0,r.useCallback)((()=>{const e=C.current;e&&k(e.visibleEndIndex+1)}),[]),{isPlaceholder:F,placeholderItems:H}=(0,l.Z)({hub:n,size:y.length,totalSize:v,initialPageSize:f,isVisible:j,onPageRequest:Z});return(0,r.useEffect)((()=>{null!=N&&k(void 0)}),[N]),F||V?r.createElement("div",{className:e,ref:L},r.createElement("div",{className:t,style:w?void 0:{visibility:"hidden"}},h?r.createElement(h,{hub:n},P):r.createElement(o.Z,null,P),F||!T&&!x?null:r.createElement("div",{className:"VirtualHubScroller-hubActions-3J0a6S"},r.createElement(a.Z,{className:m,iconComponent:p.Z,isDisabled:!T,title:(0,s.Z)("Previous Page"),onPress:B}),r.createElement(a.Z,{className:m,iconComponent:u.Z,isDisabled:!x,title:(0,s.Z)("Next Page"),onPress:_}))),r.createElement("div",{style:w?void 0:{height:b.rowHeight}},r.createElement(d.Z,{scrollerKey:n.sourceURI,className:"VirtualHubScroller-hubScroller-2urYxf VirtualListScroller-scroller-2VrU8W Scroller-scroller-3Rbtv0",keyPropName:g,items:F?H:y,scrollDirection:c.I.Horizontal,targetScrollIndex:N,shouldCenterScrollIndex:I,autoScroll:!1,totalSize:F?H.length:V,layout:b,cellComponentFactory:S,onListReady:U,onListUpdate:z,onPageRequest:F||!j?void 0:Z}))):null}},83881:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i({hub:e,size:t,totalSize:n,initialPageSize:i,isVisible:s=!0,onPageRequest:a}){const o=!(!e.placeholder||!e.more||t||null!=n),l=(0,r.useMemo)((()=>{const e=[];return e.length=i,e}),[i]);return(0,r.useEffect)((()=>{var t;!s&&o||!e.more||null!=n||null==a||a({startIndex:null!=(t=e.initialSize)?t:0,size:i})}),[e.initialSize,e.more,o,s,a,n,i]),{isPlaceholder:o,placeholderItems:l}}},11347:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(94184),i=n.n(r),s=n(67294);var a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};function p({forwardedRef:e,className:t="ListRow-row-F6OwAL",alternateClassName:n="ListRow-alternateRow-191543 ListRow-row-F6OwAL",hoveredClassName:r="ListRow-isHovered-_xWkhV",tabIndex:a,style:o={},isAlternate:l=!1,isHovered:c=!1,children:d,onFocus:u,onBlur:p}){return s.createElement("div",{tabIndex:a,style:o,className:i()(l?n:t,c&&r),ref:e,onFocus:u,onBlur:p},d)}const m=s.forwardRef(((e,t)=>s.createElement(p,u(u({},e),{forwardedRef:t}))))},47326:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=n(11347);var s=Object.defineProperty,a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e};function u({className:e="ListRowPlaceholder-placeholder-1kv0AL",style:t,index:n}){return r.createElement(i.Z,{className:e,style:d({animationDelay:n%12*200+"ms"},t)})}},22131:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),i=n(73754),s=n(30464),a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};const p=(0,r.memo)((function({keyPropName:e,items:t,totalSize:n,layout:i,measurements:a,renderStartIndex:o,renderEndIndex:l,visibleStartIndex:c,visibleEndIndex:d,cellComponentFactory:p,minPageCount:m,minPageSize:h,pageRequestDelay:g,onPageRequest:y,onListUpdate:v}){const f=(0,s.Z)(o),b=(0,r.useRef)(!1);o!==f&&(b.current=null!=f&&o<f),(0,r.useEffect)((()=>{let e;if(y&&m&&h){const r=b.current,i=l-o+1,s=Math.max(i*m,h);let a,c=!1;if(r){const e=Math.max(l-s+1,0);for(a=l;a>=e;){if(null==t[a]){c=!0;break}a--}}else{const e=Math.min(o+s-1,n-1);for(a=o;a<=e;){if(null==t[a]){c=!0;break}a++}}c&&(e=window.setTimeout((()=>{y({startIndex:a,size:s,isPrepend:r})}),g))}return()=>window.clearTimeout(e)}),[t,m,h,y,g,f,l,o,n]),(0,r.useEffect)((()=>{v&&v({renderStartIndex:o,renderEndIndex:l,visibleStartIndex:c,visibleEndIndex:d})}),[v,l,o,d,c]);const S=[];for(let n=o;n<=l;n++){const r=t[n],s=n>=c&&n<=d,o=i.getPositionForIndex(n,a);S.push(p(u({key:String(r&&e?r[e]:n),isVirtual:!0,isVisible:s,cellIndex:n,item:r},o)))}return r.createElement(r.Fragment,null,S)}));function m({className:e,children:t,keyPropName:n,items:s,totalSize:a,layout:o,cellComponentFactory:l,viewportWidth:c,viewportHeight:d,listTop:u=0,listLeft:m=0,scrollTop:h,scrollLeft:g,isWaitingToRestoreScrollPosition:y=!1,minPageCount:v=3,minPageSize:f=24,pageRequestDelay:b=i.IT,onPageRequest:S,onListReady:I,onListUpdate:Z}){const P=(0,r.useMemo)((()=>o.getListMeasurements({viewportWidth:c,viewportHeight:d,listTop:u,listLeft:m},a)),[c,d,o,u,m,a]),{renderStartIndex:E,renderEndIndex:M,visibleStartIndex:C,visibleEndIndex:w}=(0,r.useMemo)((()=>o.getRangesForPosition(h,g,a,P)),[o,P,g,h,a]);return(0,r.useEffect)((()=>{I&&I(P)}),[P,I]),r.createElement("div",{className:e,style:{width:P.width,height:P.height}},y?null:r.createElement(p,{keyPropName:n,items:s,totalSize:a,layout:o,measurements:P,renderStartIndex:E,renderEndIndex:M,visibleStartIndex:C,visibleEndIndex:w,cellComponentFactory:l,minPageCount:v,minPageSize:f,pageRequestDelay:b,onPageRequest:S,onListUpdate:Z}),t)}},54778:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=n(30464),s=n(32129),a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function u(e){const{style:t,moveDurationMilliseconds:n=400,isVirtual:a,isVisible:u,cellIndex:p,cellX:m,cellY:h,cellWidth:g,cellHeight:y}=e,v=(0,i.Z)(p),f=null!=v&&p!==v,b=(0,r.useRef)(f),S=b.current||f,I=(0,r.useRef)(!0);a&&!u||(I.current=!1);const Z=(0,r.useReducer)((e=>e+1),0)[1],P=(0,r.useMemo)((()=>((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})(a?{position:"absolute",width:g,height:y,transform:`translate3d(${m}px, ${h}px, 0)`,zIndex:S?1:0,transition:S?`transform ${s.Z.defaultSpeed}`:"none",transitionDuration:S?`${n}ms`:"0"}:{position:"relative"},t)),[m,h,g,y,t,n,S,a]);return(0,r.useEffect)((()=>{let e;return S&&(b.current=!0,e=window.setTimeout((()=>{b.current=!1,Z()}),2*n)),()=>{e&&window.clearTimeout(e)}}),[n,S,Z]),{style:P,isOffscreenPlaceholder:I.current}}},44067:(e,t,n)=>{"use strict";n.d(t,{m:()=>r,Z:()=>a}),n(11133);var r,i,s=n(20361);function a({direction:e=r.Vertical,rows:t,columns:n,overscan:i=0,innerHorizontalPadding:a=0,innerVerticalPadding:o=0,outerPaddingTop:l=0,outerPaddingRight:c=0,outerPaddingBottom:d=0,outerPaddingLeft:u=0,getCellWidth:p,getCellHeight:m}){return{getListMeasurements(i,s){const h=i.listTop,g=i.listLeft;let y=(i.viewportWidth||0)-c-u,v=(i.viewportHeight||0)-l-d;e===r.Vertical?y-=g:v-=h,y=Math.max(0,y),v=Math.max(0,v);const f=p({innerViewportWidth:y,innerViewportHeight:v,innerHorizontalPadding:a,innerVerticalPadding:o}),b=m({cellWidth:f,innerViewportWidth:y,innerViewportHeight:v,innerHorizontalPadding:a,innerVerticalPadding:o}),S=Math.max(0,t||Math.floor((v+o)/(b+o))),I=Math.max(0,n||Math.floor((y+a)/(f+a))),Z=I*S;let P=0,E=0;return e===r.Vertical&&I?(P=I*(f+a)-a,E=Math.ceil(s/I)*(b+o)-o):e===r.Horizontal&&S&&(P=Math.ceil(s/S)*(f+a)-a,E=S*(b+o)-o),{width:P+c+u,height:E+l+d,outerPaddingTop:l,outerPaddingRight:c,outerPaddingBottom:d,outerPaddingLeft:u,listTop:h,listLeft:g,cellWidth:f,cellHeight:b,cellsPerColumn:S,cellsPerRow:I,cellsPerPage:Z}},getPositionForIndex(t,n){const{listTop:i,listLeft:s,cellWidth:c,cellHeight:d}=n,p=function(t,n){return e===r.Vertical?t%n.cellsPerRow:Math.floor(t/n.cellsPerColumn)}(t,n),m=function(t,n){return e===r.Vertical?Math.floor(t/n.cellsPerRow):t%n.cellsPerColumn}(t,n);return{column:p,row:m,cellX:p*(c+a)+s+u,cellY:m*(d+o)+i+l,cellWidth:c,cellHeight:d}},getRangesForPosition(t,n,l,c){const{listTop:d,listLeft:u,cellWidth:p,cellHeight:m,cellsPerColumn:h,cellsPerRow:g,cellsPerPage:y}=c,v=m+o,f=p+a,b=t-d,S=n-u,I=e===r.Vertical?g:h,Z=e===r.Vertical?b/v:S/f,P=y+2*I+i*I*2,E=Math.ceil(Z)*I,M=E+y-1;let C=E-I*i;const w=(0,s.Z)(C,l)+P-1;return w>=l&&(C=l-P),{visibleStartIndex:(0,s.Z)(E,l),visibleEndIndex:(0,s.Z)(M,l),renderStartIndex:(0,s.Z)(C,l),renderEndIndex:(0,s.Z)(w,l)}}}}(i=r||(r={})).Vertical="vertical",i.Horizontal="horizontal"},80656:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(44067),i=Object.defineProperty,s=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(a)for(var n of a(t))o.call(t,n)&&l(e,n,t[n]);return e};function d(e){var t=e,{columnWidth:n,rowHeight:i}=t,l=((e,t)=>{var n={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&a)for(var r of a(e))t.indexOf(r)<0&&o.call(e,r)&&(n[r]=e[r]);return n})(t,["columnWidth","rowHeight"]);return c({rowHeight:i},(0,r.Z)(c({direction:r.m.Horizontal,rows:1,getCellWidth:()=>n,getCellHeight:()=>i,overscan:4},l)))}},14146:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(44067),i=Object.defineProperty,s=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function c(e){var t=e,{rowHeight:n,rowWidth:i=0}=t,c=((e,t)=>{var n={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&a)for(var r of a(e))t.indexOf(r)<0&&o.call(e,r)&&(n[r]=e[r]);return n})(t,["rowHeight","rowWidth"]);return(0,r.Z)(((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(a)for(var n of a(t))o.call(t,n)&&l(e,n,t[n]);return e})({direction:r.m.Vertical,columns:1,getCellWidth:e=>Math.max(i,e.innerViewportWidth),getCellHeight:()=>n},c))}},73754:(e,t,n)=>{"use strict";n.d(t,{HE:()=>r,p8:()=>i,nM:()=>s,IT:()=>a});const r=12,i=200,s=400,a=200},2200:(e,t,n)=>{"use strict";n.d(t,{Zn:()=>c,VJ:()=>d,IF:()=>u,ZP:()=>p});var r=n(67294),i=n(69605);const s=Symbol(void 0),a=Symbol(void 0),o=[s,s,s],l=(0,r.createContext)({metricsPage:i.lz,metricsContextTuple:o});function c(){return(0,r.useContext)(l)}function d([e,t,n]){if(e!==s)return[e,t===s||t===a?"":t,n===s||n===a?"":n].join("~").replace(/~+$/,"")}function u([e,t,n]){if(e!==s)return{context:e,row:t===a||t===s?void 0:t,col:n===a||n===s?void 0:n}}function p({children:e,metricsPage:t,metricsContextParam:n,name:i,row:d=s,column:u=s}){const{metricsPage:p,metricsContextTuple:m}=c(),h=(0,r.useMemo)((()=>{const[e,r,l]=m;return n?function(e){if(!e)return o;const[t,n,r]=e.split("~");return t?[t,n?parseInt(n,10):a,r?parseInt(r,10):a]:o}(n):i?[`${p}:${i}`,d,u]:e!==s?[e,r===s?d:r,l===s?u:l]:t&&t!==p?m:void 0}),[u,m,n,p,t,i,d]),g=(0,r.useMemo)((()=>h?{metricsPage:t||p,metricsContextTuple:h}:void 0),[h,p,t]);return g?r.createElement(l.Provider,{value:g},e):e}},72071:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),i=n(93966),s=n(2200),a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};function p(e){const{metricsPage:t,metricsContextTuple:n}=(0,s.Zn)();return(0,r.useCallback)((r=>{const s=u(u({page:t,contextTuple:n},e),r);(0,i.DB)("metrics").trackClick(s)}),[JSON.stringify(e),n,t])}},59861:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(31235),i=n(72071);function s(e){const[,t]=(0,r.c9)();return(0,i.Z)({identifier:t.metricsIdentifier,type:e.type})}},19595:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),i=n(93966),s=n(46053),a=n(2200),o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e};function m(e,t=!0){const{metricsPage:n,metricsContextTuple:o}=(0,a.Zn)();(0,r.useEffect)((()=>{t?(0,i.DB)("metrics").trackView(p(p({},e),{page:n,contextTuple:o})):s.Z.startPeriod(`client:view:${n}`)}),[t,o,n,JSON.stringify(e)])}},63510:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var r=n(82777),i=n(67294),s=n(73935),a=n(61006),o=n(54983),l=n(52999),c=n(32129),d=n(93502),u=n(93966),p=n(88050),m=n(30464),h=n(2200),g=n(19595),y=n(2294),v=n(89328);const f={modalContainer:"Modal-modalContainer-2u0GFY",modalBackdrop:"Modal-modalBackdrop-3DObWU",modal:"Modal-modal-2XtIR-",small:"Modal-small-1moKCP Modal-modal-2XtIR-",medium:"Modal-medium-2I8RQW Modal-modal-2XtIR-",large:"Modal-large-wDLc6- Modal-modal-2XtIR-"},b=(0,o.Z)(c.Z.modalSpeed),S=1e3*b,I={ease:"easeOut",duration:b},Z={ease:d.Z.motionEasing,duration:b},P={opacity:I},E={enter:{opacity:1,transition:P},exit:{opacity:0,transition:P}},M={scale:Z,opacity:I},C={enter:{opacity:1,scale:1,transition:M},exit:{opacity:0,scale:.95,transition:M}};function w(e,t){const n=function(e){if(function(e){return e.nativeEvent instanceof MouseEvent}(e))return e.target;const t=e.changedTouches;if(1===t.length){const e=t[0];return document.elementFromPoint(e.clientX,e.clientY)}return null}(e);if(n){const e=s.findDOMNode(t);return!e||!e.contains(n)}return!1}function D({children:e,className:t,backdropClassName:n=f.modalBackdrop,containerClassName:o=f.modalContainer,size:c=v.Z.Medium,isOpen:d,shouldTrackOnClose:b=!1,preventCloseOnBackdropPress:I=!1,onModalClose:Z}){const P=(0,i.useRef)(null),M=(0,i.useRef)(!1),D=(0,i.useCallback)((e=>{M.current=w(e,P.current)}),[]),T=(0,i.useCallback)((e=>{!I&&M.current&&w(e,P.current)&&Z(),M.current=!1}),[Z,I]),O=(0,i.useCallback)((e=>{M.current=!1}),[]),x=(0,i.useCallback)((e=>{M.current=!1}),[]),A=(0,i.useCallback)((e=>{const t=e.keyCode;t===a.Mf?l.QE(e):t===a.hY&&(e.preventDefault(),e.stopPropagation(),Z(),l.sM())}),[Z]),N=(0,i.useCallback)((e=>{P.current=e,e&&l.LJ(s.findDOMNode(e))}),[]);return(0,g.Z)({},d),function(e,t=!1){const{metricsPage:n}=(0,h.Zn)(),r=(0,m.Z)(e);(0,i.useEffect)((()=>{r&&!e&&t&&(0,u.DB)("metrics").trackView({page:n,action:p.GP})}),[e,r,t,n])}(d,b),(0,i.useEffect)((()=>{let e;return d&&(e=window.setTimeout(l.pc,S),document.addEventListener("keydown",A)),()=>{e&&window.clearTimeout(e),d&&document.removeEventListener("keydown",A)}}),[d,A]),i.createElement(y.Z,{isOpen:d,closeDelayMilliseconds:S,className:o},i.createElement(r.M_,null,d?i.createElement(r.ww.div,{key:"backdrop",initial:"exit",animate:"enter",exit:"exit",variants:E,className:n,onMouseDown:D,onMouseUp:T,onTouchStart:D,onTouchEnd:T,onTouchMove:O,onTouchCancel:x},i.createElement(r.ww.div,{key:"modal",initial:"exit",animate:"enter",exit:"exit",variants:C,className:t||f[c],ref:N},e)):void 0))}},90864:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),i=n(57138);const s={modalBody:"ModalBody-modalBody-O9hN9W",modalScroller:"ModalBody-modalScroller-NbjAvC ModalBody-modalBody-O9hN9W",innerModalBody:"ModalBody-innerModalBody-9jyEBh"};var a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};function p(e){var t=e,{children:n,className:a,innerClassName:d=s.innerModalBody}=t,p=((e,t)=>{var n={};for(var r in e)o.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&l)for(var r of l(e))t.indexOf(r)<0&&c.call(e,r)&&(n[r]=e[r]);return n})(t,["children","className","innerClassName"]);const m=p.scrollDirection!==i.I.None;return a||(a=m?s.modalScroller:s.modalBody),r.createElement(i.Z,u(u({},p),{className:a}),m?r.createElement("div",{className:d},n):n)}},42832:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),i=n(17331),s=n(53863);function a({children:e,className:t="ModalContent-modalContent-3nQys3",onModalClose:n}){return r.createElement("div",{className:t},r.createElement(i.Z,{className:"ModalContent-closeButton-4AZIef Link-link-2WGTd7",onPress:n},r.createElement(s.Z,null)),e)}},54546:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),i=n(39611);function s({message:e}){return r.createElement("div",{className:"ModalError-container-16ldVo"},r.createElement(i.Z,{className:"ModalError-icon-2XllX1"}),r.createElement("div",{className:"ModalError-message-3q4K2R"},e))}},9520:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i({children:e,className:t="ModalFooter-modalFooter-5RLmoy"}){return r.createElement("div",{className:t},e)}},391:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i({children:e,className:t="ModalFooterButtonBar-buttonBar-UJWGIc"}){return r.createElement("div",{className:t},e)}},72170:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i({children:e,className:t="ModalHeader-modalHeader-3KcAOv"}){return r.createElement("div",{className:t},e)}},79946:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i({children:e,className:t="ModalSubheader-modalSubheader-1FumeI"}){return r.createElement("div",{className:t},e)}},24906:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(67294),i=n(57138),s=n(54544),a=n(87205);const o={pageScroller:"Page-pageScroller-2xF94- Scroller-scroller-3Rbtv0"};var l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};function h(e){var t=e,{className:n=o.pageScroller,skipScrollRestore:l=!1,onScrollPositionChange:p}=t,h=((e,t)=>{var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&d)for(var r of d(e))t.indexOf(r)<0&&u.call(e,r)&&(n[r]=e[r]);return n})(t,["className","skipScrollRestore","onScrollPositionChange"]);const g=(0,s.Z)({key:"Page",shouldRestoreImmediately:!0,onScrollPositionChange:p}),y=l?{onScrollPositionChange:p}:g.scrollRestoreProps;return r.createElement(a.Z,null,r.createElement(i.Z,m(m(m({},h),y),{className:n})))}},25221:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),i=n(57138),s=n(54544);const a={pageContentScroller:"PageContent-pageContentScroller-18TqCp Scroller-scroller-3Rbtv0"};var o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e};const m=r.forwardRef(((e,t)=>{var n=e,{className:o=a.pageContentScroller,skipScrollRestore:u=!1,onScrollPositionChange:m}=n,h=((e,t)=>{var n={};for(var r in e)l.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&c)for(var r of c(e))t.indexOf(r)<0&&d.call(e,r)&&(n[r]=e[r]);return n})(n,["className","skipScrollRestore","onScrollPositionChange"]);const g=(0,s.Z)({key:"PageContent",shouldRestoreImmediately:!0,onScrollPositionChange:m}),y=u?{onScrollPositionChange:m}:g.scrollRestoreProps;return r.createElement(i.Z,p(p(p({ref:t},h),y),{className:o}))}))},87205:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294),i=n(39666),s=n(96840),a=n(80367);class o extends r.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(e,t){super(e,t),this.state={hasError:!1}}componentDidCatch(e,t){s.Z.error(e);const n={extra:{componentStack:t.componentStack}};i.Tb(e,n)}render(){return this.state.hasError?r.createElement(a.Z,null):r.createElement(r.Fragment,null,this.props.children)}}const l=o},68809:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=n(57138);const s={emptyPageContentScroller:"EmptyPageContent-emptyPageContentScroller-1qvrpU PageContent-pageContentScroller-18TqCp Scroller-scroller-3Rbtv0",content:"EmptyPageContent-content-1dPJr8",icon:"EmptyPageContent-icon-cf6oKQ",imgIcon:"EmptyPageContent-imgIcon-17tzKS",title:"EmptyPageContent-title-2GQyX-",description:"EmptyPageContent-description-yBhqRI",footer:"EmptyPageContent-footer-2DFDwB"};var a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function u(e){var t=e,{children:n,className:a=s.emptyPageContentScroller,contentClassName:u=s.content,icon:p,titleClassName:m=s.title,iconSrc:h,title:g,descriptionClassName:y=s.description,description:v,footerClassName:f=s.footer,footer:b}=t,S=((e,t)=>{var n={};for(var r in e)o.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&l)for(var r of l(e))t.indexOf(r)<0&&c.call(e,r)&&(n[r]=e[r]);return n})(t,["children","className","contentClassName","icon","titleClassName","iconSrc","title","descriptionClassName","description","footerClassName","footer"]);return r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({className:a},S),r.createElement("div",{className:u},p?r.createElement("span",{className:s.icon},p):null,h?r.createElement("img",{className:s.imgIcon,src:h}):null,g?r.createElement("div",{className:m},g):null,v?r.createElement("div",{className:y},v):null,n),b?r.createElement("div",{className:f},b):null)}},55669:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=n(39611),s=n(68809),a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function u(e){return r.createElement(s.Z,((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({icon:r.createElement(i.Z,null)},e))}},80367:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),i=n(5562),s=n(55669);function a({children:e}){return r.createElement(s.Z,{title:(0,i.Z)("Something went wrong"),description:(0,i.Z)("An unexpected error occurred.")},e)}},75212:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(77927);const s=(0,r.P1)((0,i.Z)("columnWidthMultiplier"),(e=>Math.floor(80*(e-1)+120)))},24974:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(22222),i=n(70617),s=n(44719);const a=(0,i.Z)((function(e){return t=>e===s.G.Photo?t.ui.photoPlayer:t.ui.audioVideoPlayer})),o=(0,i.Z)((function(e,t){return(0,r.P1)(a(e),(e=>e[t]))}))},2294:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),i=n(73935),s=Object.defineProperty,a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e};function u({className:e,style:t,children:n,forwardedRef:s,isOpen:a=!0,closeDelayMilliseconds:o=0,allowInteractionEventBubbling:l=!1,onOpen:c,onClose:d}){const[u,p]=(0,r.useState)(a),m=(0,r.useCallback)((e=>{l||e.stopPropagation()}),[l]);return(0,r.useEffect)((()=>{let e;return a?(p(!0),null==c||c()):e=window.setTimeout((()=>{p(!1),null==d||d()}),o),()=>{e&&window.clearTimeout(e)}}),[o,a,d,c]),u?i.createPortal(r.createElement("div",{className:e,style:t,ref:s,onTouchStart:m,onTouchMove:m,onTouchEnd:m,onTouchCancel:m,onMouseDown:m,onMouseUp:m,onClick:m,onFocus:m,onBlur:m},n),document.body):null}const p=r.forwardRef(((e,t)=>r.createElement(u,d(d({},e),{forwardedRef:t}))))},57138:(e,t,n)=>{"use strict";n.d(t,{I:()=>l,Z:()=>v});var r=n(94184),i=n.n(r),s=n(67294),a=(n(8662),n(31298));const o={scroller:"Scroller-scroller-3Rbtv0",none:"Scroller-none-YejGTY",vertical:"Scroller-vertical-azmSz7",auto:"Scroller-auto-2UYR6N",horizontal:"Scroller-horizontal-2hHwLA",omni:"Scroller-omni-1V6HEa"};var l,c,d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e};function y({forwardedRef:e,className:t=o.scroller,style:n,children:r,scrollDirection:c=l.Vertical,autoScroll:d=!0,smoothScroll:u=!1,targetScrollTop:p,targetScrollLeft:m,onScrollPositionChange:h}){const g=(0,s.useRef)(null),y=(0,s.useCallback)((e=>{h&&null!=g.current&&g.current===e.target&&h({scrollTop:g.current.scrollTop,scrollLeft:g.current.scrollLeft})}),[g,h]);return(0,s.useEffect)((()=>{null==g.current||null==p&&null==m||g.current.scrollTo({top:p,left:m,behavior:u?"smooth":"auto"})}),[g,p,m,u]),s.createElement("div",{className:i()(t,o[c],d&&o.auto),style:n,ref:(0,a.Z)(e,g),onScroll:y},r)}(c=l||(l={})).None="none",c.Vertical="vertical",c.Horizontal="horizontal",c.Omni="omni";const v=s.forwardRef(((e,t)=>s.createElement(y,g(g({},e),{forwardedRef:t}))))},63919:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(67294),i=n(53274);const s=window.ResizeObserver||i.d;var a=n(22131),o=n(54544),l=n(57138);const c={scroller:"VirtualListScroller-scroller-2VrU8W Scroller-scroller-3Rbtv0"};var d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e};function y(e,t){if(t.shouldCenterCell){const n=(t.viewportDimension-t.cellDimension)/2,r=Math.round(e-n);return Math.max(r,0)}return e-(t.offset||0)}function v(e){var t=e,{className:n=c.scroller,scrollerKey:i="VirtualListScroller",scrollerStyle:d,virtualListClassName:h,layout:v,resizeTimeout:f,scrollDirection:b=l.I.Vertical,targetScrollIndex:S,shouldCenterScrollIndex:I=!1,autoScroll:Z=!0,smoothScroll:P=!0,renderAboveList:E,renderBelowList:M,onListReady:C}=t,w=((e,t)=>{var n={};for(var r in e)u.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&p)for(var r of p(e))t.indexOf(r)<0&&m.call(e,r)&&(n[r]=e[r]);return n})(t,["className","scrollerKey","scrollerStyle","virtualListClassName","layout","resizeTimeout","scrollDirection","targetScrollIndex","shouldCenterScrollIndex","autoScroll","smoothScroll","renderAboveList","renderBelowList","onListReady"]);const[D,T]=(0,r.useState)({scrollTop:0,scrollLeft:0}),[O,x]=(0,r.useState)({width:0,height:0}),A=!(!O.width&&!O.height),[N,k]=(0,r.useState)(void 0),L=function(e){const t=(0,r.useRef)(null),n=(0,r.useRef)(null);return(0,r.useEffect)((()=>(t.current&&(n.current=new s(e),n.current.observe(t.current)),()=>{var e;null==(e=n.current)||e.disconnect(),n.current=null})),[e]),t}((0,r.useCallback)((([e])=>{x({width:e.target.clientWidth,height:e.target.clientHeight})}),[])),j=(0,r.useMemo)((()=>{if(!N||!O||null==S)return;const e=v.getPositionForIndex(Math.max(S,0),N);return function(e,t,n){const{shouldCenterCell:r,measurements:i,listMeasurements:s}=n;return{scrollTop:e===l.I.Vertical||e===l.I.Omni?y(t.cellY,{shouldCenterCell:r,viewportDimension:i.height,offset:s.outerPaddingTop,cellDimension:t.cellHeight}):0,scrollLeft:e===l.I.Horizontal||e===l.I.Omni?y(t.cellX,{shouldCenterCell:r,viewportDimension:i.width,offset:s.outerPaddingLeft,cellDimension:t.cellWidth}):0}}(b,e,{shouldCenterCell:I,measurements:O,listMeasurements:N})}),[v,N,O,b,I,S]);let R,V;j&&(R=j.scrollTop,V=j.scrollLeft);const U=(0,r.useCallback)((({scrollLeft:e,scrollTop:t})=>{T({scrollTop:t,scrollLeft:e})}),[]),{isWaitingToRestoreScrollPosition:z,scrollRestoreProps:B,onScrollPositionReady:_}=(0,o.Z)({key:i,onScrollPositionChange:U}),F=(0,r.useCallback)((e=>{k(e),_(),C&&C(e)}),[C,_]);return r.createElement(l.Z,g({className:n,style:d,scrollDirection:b,autoScroll:Z,smoothScroll:P,targetScrollTop:R,targetScrollLeft:V,ref:L},B),E&&!z?E(O):null,A?r.createElement(a.Z,g({className:h,layout:v,scrollTop:D.scrollTop,scrollLeft:D.scrollLeft,isWaitingToRestoreScrollPosition:z,viewportWidth:O.width,viewportHeight:O.height,onListReady:F},w)):null,M&&!z?M(O):null)}},54544:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),i=n(57384);function s({key:e,shouldRestoreImmediately:t=!1,onScrollPositionChange:n}){const s=i.Z.getKey(`${e}!scrollPosition`),a=(0,r.useRef)(null),[o,l]=(0,r.useState)(!!i.Z.get(s)),[c,d]=(0,r.useState)(void 0),[u,p]=(0,r.useState)(void 0),m=(0,r.useCallback)((()=>{const e=i.Z.get(s);e&&(d(e.scrollTop),p(e.scrollLeft))}),[s]),h=(0,r.useCallback)((e=>{a.current=e,n&&n(e)}),[n]);return(0,r.useEffect)((()=>{const e=i.Z.get(s);return e&&(l(!0),t&&(d(e.scrollTop),p(e.scrollLeft))),()=>{const e=a.current;a.current=null,e&&(e.scrollTop||e.scrollLeft)?i.Z.set(s,e):i.Z.remove(s)}}),[t,s]),(0,r.useEffect)((()=>{(c||u)&&(l(!1),d(void 0),p(void 0))}),[u,c]),{isWaitingToRestoreScrollPosition:o,scrollRestoreProps:o?{targetScrollTop:c,targetScrollLeft:u,smoothScroll:!1,onScrollPositionChange:h}:{onScrollPositionChange:h},onScrollPositionReady:m}}},7203:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(94184),i=n.n(r),s=n(67294),a=n(5562),o=n(89328);const l={spinner:"Spinner-spinner-CSMaLA spin-spin-34xiUE",tiny:"Spinner-tiny-1pSZja",small:"Spinner-small-3C8Kt5",medium:"Spinner-medium-c1s5-Y",large:"Spinner-large-1lEi7Z"};function c({className:e=l.spinner,size:t=o.Z.Medium}){return s.createElement("div",{className:i()(e,l[t]),"aria-label":(0,a.Z)("Loading")})}},91169:(e,t,n)=>{"use strict";var r,i;n.d(t,{Z:()=>s}),(i=r||(r={})).Up="up",i.Right="right",i.Down="down",i.Left="left";const s=r},47124:(e,t,n)=>{"use strict";var r,i;n.d(t,{Z:()=>s}),(i=r||(r={})).Default="default",i.Primary="primary",i.Success="success",i.Danger="danger";const s=r},89328:(e,t,n)=>{"use strict";var r,i;n.d(t,{Z:()=>s}),(i=r||(r={})).Tiny="tiny",i.Small="small",i.Medium="medium",i.Large="large";const s=r},31298:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(...e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}}},77927:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(59468);const s=(0,n(70617).Z)((function(e){return(0,r.P1)(i.Z,(t=>t[e]))}))},51493:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(61676);const s=(0,n(70617).Z)((function(e){return(0,r.P1)(i.Z,(t=>!!t[e]))}))},45593:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=e=>e.user},42455:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(76403).oM)({name:"user",initialState:{},reducers:{languageChanged(){}}})},43322:(e,t,n)=>{"use strict";var r,i,s,a,o,l,c,d;n.d(t,{Ik:()=>r,dK:()=>s,GB:()=>o,A5:()=>c}),(i=r||(r={})).Pending="pending",i.Locked="locked",i.Unlocked="unlocked",(a=s||(s={})).Empty="",a.Unsubscribed="unsubscribed",a.Active="active",a.Error="error",a.Removed="removed",(l=o||(o={})).Active="active",l.Canceled="canceled",l.Ended="ended",l.Inactive="inactive",l.PendingCancellation="pending_cancellation",(d=c||(c={})).Arcade="arcade",d.PlexPass="plexpass",d.Tidal="tidal"},50468:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r=["free"];function i(e,t){if(!t)return!0;const n=e.find((e=>e.id===t));return!(!n||n.subscriptionType&&r.includes(n.subscriptionType))}},84320:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(76403),i=n(8183);const s={queryParse:{query:void 0,isPending:!1,isPopulated:!1,error:null},curatedItem:{item:void 0,isPending:!1,isPopulated:!1,error:null},filterOptions:{}},a=(0,r.oM)({name:"advancedFilters",initialState:s,reducers:{reset:()=>s,updateQuery(e,{payload:t}){e.queryParse.query&&(e.queryParse.query.Rule=t.rules)},fetchQueryRequested(e,t){(0,i.er)(e.queryParse)},fetchQuerySucceeded(e,{payload:t}){(0,i.vv)(e.queryParse),e.queryParse.query=t.query},fetchQueryFailed(e,{payload:t}){(0,i.VQ)(e.queryParse,t.error)},fetchFilterOptionsRequested(e,{payload:t}){const n=t.filter;e.filterOptions[n.key]||(e.filterOptions[n.key]={isPending:!1,isPopulated:!1,error:null,options:[]}),(0,i.er)(e.filterOptions[n.key])},fetchFilterOptionsSucceeded(e,{payload:t}){const n=t.filter;(0,i.vv)(e.filterOptions[n.key]),e.filterOptions[n.key].options=t.filterOptions},fetchFilterOptionsFailed(e,{payload:t}){const n=t.filter;(0,i.VQ)(e.filterOptions[n.key],t.error)},fetchCuratedRequested(e,t){(0,i.er)(e.curatedItem)},fetchCuratedSucceeded(e,{payload:t}){e.curatedItem.item=t.curatedItem,(0,i.vv)(e.curatedItem)},fetchCuratedFailed(e,{payload:t}){(0,i.VQ)(e.curatedItem,t.error)},editFiltersRequested(e,t){}}})},88742:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});var r=n(51337);function i(e,t,n,i){var s;if(!i)return;const a=decodeURIComponent(i).match(/\/library\/sections\/(\w+)\/.*/);if(!a)return;const[o,l]=a,c=(0,r.Z)(t,l);if(!c||!c.pivots)return;const d=c.pivots.find((e=>"library"===e.id||c.key&&e.key.includes(c.key)));return d?["media",{machineIdentifier:e.machineIdentifier,providerIdentifier:t.identifier},{source:c.id,pivot:null!=(s=d.id)?s:d.key,key:o,curatedKey:n,advancedFilters:1}]:void 0}},86945:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var r=n(67294),i=n(42283),s=n(89969),a=n(69605),o=n(27082),l=n(5562),c=n(31235),d=n(5574),u=n(8727),p=n(50875),m=n(2200),h=n(63510),g=n(42832),y=n(54546),v=n(9520),f=n(72170),b=n(79946),S=n(47124),I=n(89328),Z=n(26602),P=n(96338),E=n(39997),M=n(94848),C=n(77437),w=n(4704),D=n(24793);function T({isOpen:e,sourceURI:t,defaultTitle:n,metadataType:T,contentDirectoryID:O,isSmart:x=!1,onModalClose:A,onSaveSuccess:N}){var k,L;const j=(0,s.I0)(),[R,V]=(0,c.c9)(),U=(0,r.useMemo)((()=>(0,M.Z)(t)),[t]),z=(0,s.v9)(U),B=null!=(k=null==z?void 0:z.isSaving)&&k,_=(0,w.Z)(B),[F,H]=(0,r.useState)(""),W=(0,C.Z)(F,250),Q=(0,E.Z)({server:R,provider:V,contentDirectoryID:O,metadataType:T,title:W.length?W:void 0}),{register:G,handleSubmit:Y,errors:q}=(0,i.cI)(),K="required"===(null==(L=q.title)?void 0:L.type),$=(0,r.useCallback)((e=>{H(e.target.value)}),[]),X=Y((({title:e})=>{const n={server:R,provider:V,title:e,sourceURI:t,contentDirectoryID:O,metadataType:T,isSmart:x};(0,o.c9)((()=>{j(P.Z.actions.saveRequested(n))}))})),J=(0,p.Z)();return(0,r.useEffect)((()=>{e&&_&&!B&&!(null==z?void 0:z.saveError)&&(null==N||N(),A())}),[e,B,_,A,N,null==z?void 0:z.saveError]),r.createElement(m.ZP,{metricsPage:a.uf},r.createElement(h.Z,{isOpen:e,size:I.Z.Small,onModalClose:A},r.createElement(g.Z,{onModalClose:A},r.createElement(f.Z,null,x?(0,l.Z)("Create Collection"):(0,l.Z)("Add to Collection")),x?null:r.createElement(b.Z,null,r.createElement(u.Z,{className:D.Z.filter,placeholder:(0,l.Z)("Search Collections"),name:"title",value:F,onChange:$})),(null==z?void 0:z.saveError)?r.createElement(y.Z,{message:(0,l.Z)("Something went wrong. Make sure the server is available and try again.")}):null,x?null:r.createElement(Z.Z,{server:R,provider:V,sourceURI:t,isSaving:B,metadataList:Q,zeroItemsMessage:W?(0,l.Z)("No collections found"):(0,l.Z)("Save your first collection"),errorMessage:(0,l.Z)("There was an error loading the collections. Please try again.")}),r.createElement(v.Z,null,r.createElement("form",{className:D.Z.form,onSubmit:X},r.createElement(u.Z,{className:D.Z.input,name:"title",hasFocusOnMount:!0,hasError:K,defaultValue:n,ref:G({required:!0}),onFocus:J}),r.createElement(d.Z,{className:D.Z.button,isSpinning:B,type:"submit",kind:S.Z.Primary},(0,l.Z)("Create")))))))}},69007:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),i=n(14700);function s({item:e,onItemPress:t}){const n=(0,r.useCallback)((()=>t(e.key)),[t,e.key]);return r.createElement(i.Z,{onPress:n},e.title)}},60179:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(67294),i=n(68105),s=n(89969),a=n(5562),o=n(30426),l=n(14700),c=n(9119),d=n(10692),u=n(69007),p=n(96338),m=n(39997);function h({sourceURI:e,contentDirectoryID:t,metadataType:n,server:i,provider:h,advancedFiltersRoute:g,onAddToCollectionPress:y,onAddToSmartCollectionPress:v,onMenuClose:f,onSavePress:b}){const S=(0,s.I0)(),I=(0,m.Z)({server:i,provider:h,contentDirectoryID:t,metadataType:n,limit:3}),Z=(0,r.useCallback)((t=>{S(p.Z.actions.saveRequested({server:i,provider:h,key:t,sourceURI:e})),null==b||b(),f()}),[S,f,b,h,i,e]);return(0,r.useEffect)((()=>{(null==I?void 0:I.sourceURI)&&S(d.Z.actions.fetchRangeRequested({sourceURI:I.sourceURI,server:i,provider:h,startIndex:0,size:3}))}),[S,null==I?void 0:I.sourceURI,i,h]),r.createElement(r.Fragment,null,r.createElement(l.Z,{onPress:(0,c.Z)(y,f)},(0,a.Z)("Add to Collection...")),v?r.createElement(l.Z,{onPress:(0,c.Z)(v,f)},(0,a.Z)("Save as Smart Collection...")):null,g?r.createElement(l.Z,{to:g,onPress:f},(0,a.Z)("Create Smart Collection")):null,(null==I?void 0:I.items.length)?r.createElement(r.Fragment,null,r.createElement(o.Z,null,(0,a.Z)("Recent")),I.items.map((e=>r.createElement(u.Z,{key:e.key,item:e,onItemPress:Z})))):null)}var g=n(7981),y=n(39537);function v({sourceURI:e,contentDirectoryID:t,server:n,provider:s,mediaType:a,metadataType:o,advancedFiltersRoute:l,onAddToCollectionPress:c,onAddToPlaylistPress:d,onAddToSmartCollectionPress:u,onAddToSmartPlaylistPress:p,onMenuClose:m,onSaveCollectionPress:v,onSavePlaylistPress:f}){const b=d?r.createElement(g.Z,{sourceURI:e,mediaType:a,server:n,provider:s,advancedFiltersRoute:l,onAddToPlaylistPress:d,onAddToSmartPlaylistPress:p,onMenuClose:m,onSavePress:f}):null,S=t&&c?r.createElement(h,{sourceURI:e,contentDirectoryID:t,server:n,provider:s,metadataType:o,advancedFiltersRoute:l,onAddToCollectionPress:c,onAddToSmartCollectionPress:u,onMenuClose:m,onSavePress:v}):null,I=function(e){return e===y.pG.Movie||e===y.pG.Show||e===y.pG.Season||e===y.pG.Episode}(o)&&!!S||!b,Z=I?S:b,P=I?b:S;return r.createElement(r.Fragment,null,Z,P?r.createElement(i.Z,null):null,P)}},7981:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),i=n(89969),s=n(5562),a=n(30426),o=n(14700),l=n(9119),c=n(10692),d=n(69007),u=n(96338),p=n(75987);function m({sourceURI:e,mediaType:t,server:n,provider:m,advancedFiltersRoute:h,onAddToPlaylistPress:g,onAddToSmartPlaylistPress:y,onMenuClose:v,onSavePress:f}){const b=(0,i.I0)(),S=(0,p.Z)({server:n,provider:m,mediaType:t}),I=(0,r.useCallback)((t=>{b(u.Z.actions.saveRequested({server:n,provider:m,key:t,sourceURI:e})),null==f||f(),v()}),[b,v,f,m,n,e]);return(0,r.useEffect)((()=>{(null==S?void 0:S.sourceURI)&&b(c.Z.actions.fetchRangeRequested({sourceURI:S.sourceURI,server:n,provider:m,startIndex:0,size:3}))}),[b,null==S?void 0:S.sourceURI,n,m]),r.createElement(r.Fragment,null,r.createElement(o.Z,{onPress:(0,l.Z)(g,v)},(0,s.Z)("Add to Playlist...")),y?r.createElement(o.Z,{onPress:(0,l.Z)(y,v)},(0,s.Z)("Save as Smart Playlist...")):null,h?r.createElement(o.Z,{to:h,onPress:v},(0,s.Z)("Create Smart Playlist")):null,(null==S?void 0:S.items.length)?r.createElement(r.Fragment,null,r.createElement(a.Z,null,(0,s.Z)("Recent")),S.items.slice(0,3).map((e=>r.createElement(d.Z,{key:e.key,item:e,onItemPress:I})))):null)}},83492:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ee});var r=n(67294),i=n(42283),s=n(89969),a=n(69605),o=n(60316),l=n(27082),c=n(5562),d=n(39537),u=n(81858),p=n(31235),m=n(94177),h=n(5574),g=n(8727),y=n(50875),v=n(2200),f=n(63510),b=n(42832),S=n(54546),I=n(9520),Z=n(72170),P=n(79946),E=n(47124),M=n(89328),C=n(26602),w=n(91995),D=n(74287),T=n(9119),O=n(75534),x=n(21914),A=n(82378),N=n(17331),k=n(46905);function L(e,t){return e.isCloud?t.sourceTitle?`${t.title} - ${t.sourceTitle}`:t.title:e.friendlyName}var j=n(86953),R=n(55278);function V({server:e,provider:t,isSelected:n,onDestinationChange:i}){const s=(0,r.useCallback)((()=>{const n=(0,j.Z)({serverIdentifier:e.machineIdentifier,providerIdentifier:t.identifier});i(n)}),[i,t.identifier,e.machineIdentifier]);return r.createElement(R.Z,{isSelected:n,onPress:s},L(e,t))}function U({server:e,provider:t,destinations:n,isDisabled:i,onDestinationChange:s}){const a=(0,O.Z)(),o=(0,k.Z)();return r.createElement(r.Fragment,null,r.createElement(N.Z,{id:a,"aria-label":(0,c.Z)("Playlist destination"),isDisabled:i,onPress:o.onToggle},L(e,t),r.createElement(w.Z,{direction:o.isOpen?x.UP:x.WV})),r.createElement(D.Z,{size:A.ln,target:a,isOpen:o.isOpen,onMenuClose:o.onClose},n?n.map(((n,i)=>{const[a,l]=n,c=e.machineIdentifier===a.machineIdentifier&&t.identifier===l.identifier;return r.createElement(V,{key:i,isSelected:c,server:a,provider:l,onDestinationChange:(0,T.Z)(s,o.onClose)})})):null))}var z=n(96338),B=n(75987),_=n(94848),F=n(22222),H=n(26636),W=n(87803),Q=n(59315),G=n(98727),Y=n(90217),q=n(59701),K=n(19201);const $=(0,F.P1)(G.Z,Y.Z,(0,q.Z)("providers"),((e,t,n)=>{const r=[];for(const i of t){const t=i.isCloud?n:i.providers;for(const n of t)r.push([(0,K.Z)(i),e[n]])}return r}));var X=n(4704),J=n(24793);function ee({isOpen:e,sourceURI:t,defaultTitle:n,defaultDestinationSource:w,mediaType:D,isDestinationMenuHidden:T,isSmart:O=!1,onModalClose:x,onSaveSuccess:A}){var N,k;const j=(0,s.I0)(),[R,V]=(0,p.c9)(),[G,Y]=(0,r.useState)(w),{serverIdentifier:q,providerIdentifier:K}=(0,o.Z)(G),ee=(0,r.useMemo)((()=>(0,_.Z)(t)),[t]),te=(0,s.v9)(ee),ne=null!=(N=null==te?void 0:te.isSaving)&&N,re=(0,X.Z)(ne),ie=(0,s.v9)((0,m.Z)(q)),se=(0,s.v9)((0,u.Z)(q,K)),ae=(0,s.v9)((([e,t])=>(0,F.P1)($,(n=>n.reduce(((n,[r,i])=>((r.machineIdentifier!==e.machineIdentifier||i.identifier!==t.identifier)&&r.isFullOwnedServer&&r.isConnected&&(0,W.Z)(i,H.zW.Playlist,H.wd.Universal)&&n.push([r,i]),n)),t===Q.Z?[]:[[e,t]]))))([R,V])),oe=(0,B.Z)({server:ie,provider:se,mediaType:D}),le={source:L(ie,se)},ce={[d.DD.Audio]:(0,c.Z)("Save your first music playlist for {source}",le),[d.DD.Video]:(0,c.Z)("Save your first video playlist for {source}",le),[d.DD.Photo]:(0,c.Z)("Save your first photo playlist for {source}",le),[d.DD.Rom]:(0,c.Z)("Save your first game playlist for {source}",le)},{register:de,handleSubmit:ue,errors:pe}=(0,i.cI)(),me="required"===(null==(k=pe.title)?void 0:k.type),he=ue((({title:e})=>{const n={server:ie,provider:se,title:e,sourceURI:t,mediaType:D,isSmart:O};(0,l.c9)((()=>{j(z.Z.actions.saveRequested(n))}))})),ge=(0,y.Z)();return(0,r.useEffect)((()=>{e&&re&&!ne&&!(null==te?void 0:te.saveError)&&(null==A||A(),x())}),[e,ne,re,x,A,null==te?void 0:te.saveError]),r.createElement(v.ZP,{metricsPage:a.uf},r.createElement(f.Z,{isOpen:e,size:M.Z.Small,onModalClose:x},r.createElement(b.Z,{onModalClose:x},r.createElement(Z.Z,null,O?(0,c.Z)("Create Playlist"):(0,c.Z)("Add to Playlist")),!O&&ae.length>1?r.createElement(P.Z,null,T?L(ie,se):r.createElement(U,{server:ie,provider:se,destinations:ae,isDisabled:ne,onDestinationChange:Y})):null,(null==te?void 0:te.saveError)?r.createElement(S.Z,{message:ie.isCloud?(0,c.Z)("Something went wrong. Please try again in a few minutes."):(0,c.Z)("Something went wrong. Make sure the server is available and try again.")}):null,O?null:r.createElement(C.Z,{server:ie,provider:se,sourceURI:t,isSaving:ne,metadataList:oe,zeroItemsMessage:ce[D],errorMessage:(0,c.Z)("There was an error loading the playlists. Please try again.")}),r.createElement(I.Z,null,r.createElement("form",{className:J.Z.form,onSubmit:he},r.createElement(g.Z,{className:J.Z.input,name:"title",hasFocusOnMount:!0,hasError:me,defaultValue:n,ref:de({required:!0}),onFocus:ge}),r.createElement(h.Z,{className:J.Z.button,isSpinning:ne,type:"submit",kind:E.Z.Primary},(0,c.Z)("Create")))))))}},26602:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var r=n(67294),i=n(89969),s=n(10692),a=n(14146),o=n(63919),l=n(27082),c=n(37568),d=n(17331),u=n(77045),p=n(11347),m=n(47326),h=n(54778),g=n(96338),y=n(57614);var v=Object.prototype.hasOwnProperty,f=Object.getOwnPropertySymbols,b=Object.prototype.propertyIsEnumerable;function S(e){var t=e,{server:n,provider:s,sourceURI:a,isDisabled:o,item:S}=t,I=((e,t)=>{var n={};for(var r in e)v.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&f)for(var r of f(e))t.indexOf(r)<0&&b.call(e,r)&&(n[r]=e[r]);return n})(t,["server","provider","sourceURI","isDisabled","item"]);const[Z,P]=(0,u.Z)(),E=(0,h.Z)(I),{cellIndex:M}=I,C=(0,i.I0)(),w=(0,r.useCallback)((()=>{S&&(0,l.c9)((()=>{C(g.Z.actions.saveRequested({server:n,provider:s,key:S.key,sourceURI:a}))}))}),[S,C,n,s,a]);if(!S)return r.createElement(m.Z,{style:E.style,index:M});const{title:D,thumb:T,composite:O}=S;return r.createElement(p.Z,{style:E.style,isAlternate:!!(M%2),isHovered:Z,ref:P},r.createElement(d.Z,{className:"CuratedListItem-item-3Rmwvg Link-link-2WGTd7",isDisabled:o,onPress:w},r.createElement("div",{className:"CuratedListItem-imageContainer-3dbtbj"},r.createElement(y.Z,{className:"CuratedListItem-image-3Ikb2I",serverEntityID:n.entityID,providerEntityID:s.entityID,url:T||O,width:40,height:40,component:c.Z,preloadOnMount:!1,animateOnMount:!1})),r.createElement("div",{className:"CuratedListItem-title-1hG9Q9"},D)))}const I="CuratedList-container-1UBg2G";var Z=Object.defineProperty,P=Object.prototype.hasOwnProperty,E=Object.getOwnPropertySymbols,M=Object.prototype.propertyIsEnumerable,C=(e,t,n)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w=(e,t)=>{for(var n in t||(t={}))P.call(t,n)&&C(e,n,t[n]);if(E)for(var n of E(t))M.call(t,n)&&C(e,n,t[n]);return e};function D({server:e,provider:t,sourceURI:n,isSaving:l,metadataList:c,zeroItemsMessage:d,errorMessage:u}){var p;const m=(0,i.I0)(),h=null!=(p=null==c?void 0:c.totalSize)?p:5,g=(0,r.useCallback)((n=>{(null==c?void 0:c.sourceURI)&&m(s.Z.actions.fetchRangeRequested(w(w({},n),{server:e,provider:t,sourceURI:null==c?void 0:c.sourceURI})))}),[null==c?void 0:c.sourceURI,m,e,t]);(0,r.useEffect)((()=>()=>{(null==c?void 0:c.sourceURI)&&m(s.Z.actions.reset({sourceURI:c.sourceURI}))}),[m,null==c?void 0:c.sourceURI,t,e]);const y=(0,r.useMemo)((()=>(0,a.Z)({rowHeight:60,overscan:5})),[]),v=(0,r.useCallback)((i=>r.createElement(S,w({server:e,provider:t,sourceURI:n,isDisabled:l},i))),[n,l,t,e]);return c?c.error?r.createElement("div",{className:I},u):c.isPopulated&&!c.items.length?r.createElement("div",{className:I},d):r.createElement(o.Z,{className:"CuratedList-scroller-2T0_bP VirtualListScroller-scroller-2VrU8W Scroller-scroller-3Rbtv0",keyPropName:"key",items:c.items,totalSize:h,layout:y,cellComponentFactory:v,onPageRequest:g}):r.createElement("div",{className:I})}},96338:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(76403).oM)({name:"curatedLists",initialState:{},reducers:{saveRequested(e,{payload:t}){e[t.sourceURI]={isSaving:!0,saveError:null}},saveSucceeded(e,{payload:t}){const n=e[t.sourceURI];n.isSaving=!1,n.metadataItem=t.metadataItem},saveFailed(e,{payload:t}){const n=e[t.sourceURI];n.isSaving=!1,n.saveError=t.error},removeItemRequested(e,t){}}})},39997:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),i=n(89969),s=n(86953),a=n(84936),o=n(48505),l=n(10692),c=n(76033),d=n(26636),u=n(87803);const p=function({server:e,provider:t,contentDirectoryID:n,metadataType:p,limit:m,title:h}){const g=(0,i.I0)(),y=(0,u.Z)(t,d.zW.Content),v=(null==y?void 0:y.key)?a.Z.join([y.key,n,"collections"],{subtype:(0,o.Z)(p),smart:0,sort:"updatedAt:desc",limit:m,title:h}):void 0,f=(0,s.Z)({serverIdentifier:e.machineIdentifier,providerIdentifier:t.identifier,key:v}),b=(0,r.useMemo)((()=>v?(0,c.Z)(f):()=>{}),[v,f]),S=(0,i.v9)(b);return(0,r.useEffect)((()=>{f&&!S&&g(l.Z.actions.added({metadataItemStates:{},metadataLists:[{sourceURI:f,items:[],offset:0}]}))}),[g,S,f]),S}},75987:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=n(89969),s=n(86953),a=n(84936),o=n(10692),l=n(76033),c=n(26636),d=n(87803);const u=function({server:e,provider:t,mediaType:n}){const u=(0,i.I0)(),p=(0,d.Z)(t,c.zW.Playlist),m=p?a.Z.join([p.key],{playlistType:n,smart:0,sort:"updatedAt:desc"}):void 0,h=(0,s.Z)({serverIdentifier:e.machineIdentifier,providerIdentifier:t.identifier,key:m}),g=(0,r.useMemo)((()=>m?(0,l.Z)(h):()=>{}),[m,h]),y=(0,i.v9)(g);return(0,r.useEffect)((()=>{h&&!y&&u(o.Z.actions.added({metadataItemStates:{},metadataLists:[{sourceURI:h,items:[],offset:0}]}))}),[u,y,h]),y}},94848:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(49228);const s=(0,r.P1)(i.Z,(e=>e.curatedLists)),a=function(e){return(0,r.P1)(s,(t=>t[e]))}},95505:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(76403),i=n(8183);const s={statistics:[],isPending:!1,isPopulated:!1,error:null,requestTimestampMilliseconds:null,responseTimestampMilliseconds:null},a=(0,r.oM)({name:"dashboardBandwidth",initialState:s,reducers:{reset:()=>s,bandwidthFetchRequested(e,t){(0,i.er)(e)},bandwidthFetchSucceeded(e,{payload:t}){(0,i.vv)(e),e.statistics=t.data,e.requestTimestampMilliseconds=t.requestTimestampMilliseconds,e.responseTimestampMilliseconds=t.responseTimestampMilliseconds},bandwidthFetchFailed(e,{payload:t}){(0,i.VQ)(e,t.error),e.requestTimestampMilliseconds=null,e.responseTimestampMilliseconds=null},bandwidthAbortRequested(){}}})},59072:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(76403),i=n(8183);const s={statistics:[],accounts:[],isPending:!1,isPopulated:!1,error:null},a=(0,r.oM)({name:"dashboardPlayHistory",initialState:s,reducers:{reset:()=>s,playHistoryFetchRequested(e,t){(0,i.er)(e)},playHistoryFetchSucceeded(e,{payload:t}){(0,i.vv)(e),e.statistics=t.data.statistics,e.accounts=t.data.accounts},playHistoryFetchFailed(e,{payload:t}){(0,i.VQ)(e,t.error)}}})},18649:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(76403),i=n(8183);const s={statistics:[],isPending:!1,isPopulated:!1,isUnsupported:!1,error:null,requestTimestampMilliseconds:null},a=(0,r.oM)({name:"dashboardResources",initialState:s,reducers:{reset:()=>s,resourcesFetchRequested(e,t){(0,i.er)(e),e.isUnsupported=!1},resourcesFetchSucceeded(e,{payload:t}){(0,i.vv)(e),e.statistics=t.data,e.requestTimestampMilliseconds=t.requestTimestampMilliseconds},resourcesFetchFailed(e,{payload:t}){(0,i.VQ)(e,t.error),e.isUnsupported=404===t.error.status}}})},66414:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(76403),i=n(8183);const s={moviesStatistics:[],tvStatistics:[],musicStatistics:[],gameStatistics:[],isPending:!1,isPopulated:!1,error:null},a=(0,r.oM)({name:"dashboardTopPlayed",initialState:s,reducers:{reset:()=>s,topPlayedFetchRequested(e,t){(0,i.er)(e)},topPlayedFetchSucceeded(e,{payload:t}){(0,i.vv)(e),e.moviesStatistics=t.data.moviesStatistics,e.tvStatistics=t.data.tvStatistics,e.musicStatistics=t.data.musicStatistics,e.gameStatistics=t.data.gameStatistics},topPlayedFetchFailed(e,{payload:t}){(0,i.VQ)(e,t.error)}}})},14467:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(76403),i=n(8183);const s={statistics:[],accounts:[],isPending:!1,isPopulated:!1,error:null},a=(0,r.oM)({name:"dashboardTopUsers",initialState:s,reducers:{reset:()=>s,topUsersFetchRequested(e,t){(0,i.er)(e)},topUsersFetchSucceeded(e,{payload:t}){(0,i.vv)(e),e.statistics=t.data.statistics,e.accounts=t.data.accounts},topUsersFetchFailed(e,{payload:t}){(0,i.VQ)(e,t.error)}}})},88346:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(76403),i=n(86953),s=n(60316),a=n(1193),o=n(10692),l=n(54939),c=n(53425),d=n(42455),u=n(87902),p=n(8183),m=Object.defineProperty,h=Object.prototype.hasOwnProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.propertyIsEnumerable,v=(e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))h.call(t,n)&&v(e,n,t[n]);if(g)for(var n of g(t))y.call(t,n)&&v(e,n,t[n]);return e};const b={meta:void 0,metadataListSourceURI:void 0,filterOptions:{},firstCharacters:{isPending:!1,isPopulated:!1,error:null,items:[]},hubsList:{sourceURI:void 0,lastFetchedAt:void 0,isPending:!1,isPopulated:!1,error:null,hubs:[]}};function S(e,t){var n;(null==(n=e.hubsList.sourceURI)?void 0:n.includes(t))&&e.hubsList.hubs.forEach((e=>{e.isStale=!0}))}const I=(0,r.oM)({name:"directory",initialState:b,reducers:{reset:()=>b,resetMeta(e){e.meta=void 0},resetHubs(e){e.hubsList=b.hubsList},initializeListRequested(e,{payload:t}){e.metadataListSourceURI=t.sourceURI,e.directorySourceURI=t.directorySourceURI},markHubsStaleRequested(e){e.hubsList.isPending=!1},markHubsStale(e){e.hubsList.hubs.forEach((e=>{e.isStale=!0}))},markHubsStaleCanceled(e){},fetchHubsRequested(e,{payload:t}){e.hubsList.sourceURI=t.sourceURI,(0,p.er)(e.hubsList)},fetchHubsSucceeded(e,{payload:t}){(0,p.vv)(e.hubsList),e.hubsList.hubs=t.data.hubs,e.hubsList.lastFetchedAt=Date.now(),e.title=t.data.title,e.meta=t.data.meta},fetchHubsFailed(e,{payload:t}){(0,p.VQ)(e.hubsList,t.error)},fetchFilterOptionsRequested(e,{payload:t}){const n=t.filter;e.filterOptions[n.key]||(e.filterOptions[n.key]={isPending:!1,isPopulated:!1,error:null,options:[]}),(0,p.er)(e.filterOptions[n.key])},fetchFilterOptionsSucceeded(e,{payload:t}){const n=t.filter;(0,p.vv)(e.filterOptions[n.key]),e.filterOptions[n.key].options=t.filterOptions},fetchFilterOptionsFailed(e,{payload:t}){const n=t.filter;(0,p.VQ)(e.filterOptions[n.key],t.error)},fetchFirstCharactersRequested(e,t){(0,p.er)(e.firstCharacters)},fetchFirstCharactersSucceeded(e,{payload:t}){(0,p.vv)(e.firstCharacters),e.firstCharacters.items=t.firstCharacters},fetchFirstCharactersFailed(e,{payload:t}){(0,p.VQ)(e.firstCharacters,t.error)}},extraReducers(e){e.addCase(o.Z.actions.fetchRangeSucceeded,((e,{payload:t})=>{t.sourceURI===e.metadataListSourceURI&&(e.title=t.data.title,t.data.meta&&(e.meta=t.data.meta))})),e.addCase(o.Z.actions.reset,((e,{payload:t})=>t.sourceURI===e.metadataListSourceURI?f(f({},b),{filterOptions:e.filterOptions,meta:e.meta}):e)),e.addCase(o.Z.actions.repopulateRangeSucceeded,((e,{payload:t})=>{e.hubsList.hubs.forEach((e=>{e.sourceURI===t.sourceURI&&(e.isStale=!1)}))})),e.addCase(u.Z.actions.ended,((e,{payload:t})=>{S(e,t.source)})),e.addCase(l.Z.actions.sessionStopped,((e,{payload:t})=>{S(e,(0,i.Z)({serverIdentifier:t.server.machineIdentifier}))})),e.addCase(c.Z.actions.libraryScanUpdated,((e,{payload:t})=>{S(e,(0,i.Z)({serverIdentifier:t.server.machineIdentifier}))})),e.addCase(a.Z.actions.playedStatusUpdateSucceeded,((e,{payload:t})=>{S(e,(0,i.Z)({serverIdentifier:t.server.machineIdentifier,providerIdentifier:t.provider.identifier}))})),e.addCase(a.Z.actions.metadataProcessed,((e,{payload:t})=>{const{serverIdentifier:n,providerIdentifier:r}=(0,s.Z)(t.sourceURI);S(e,(0,i.Z)({serverIdentifier:n,providerIdentifier:r}))})),e.addCase(d.Z.actions.languageChanged,(e=>{e.hubsList=b.hubsList}))}})},84893:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){var t;return null==(t=e.Type)?void 0:t.find((e=>e.active))}},64780:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(26512),i=n(67586);const s=function(e,t,n,s){var a;if(!n)return;if((0,i.Z)(s))return;const o=(null==(a=n.pivots)?void 0:a.includes(s))?{pivot:s.id||s.key}:{pageType:s.type,key:s.key};return(0,r.Z)(e,t,n,o)}},67586:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(26636);const i=function(e){return e.type===r.F6.View&&!Object.values(r.GG).includes(e.key)}},62417:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(67294),i=n(89969),s=n(69605),a=n(45399),o=n(96840),l=n(5562),c=n(9119),d=n(60528),u=n(39537),p=n(31235),m=n(46905),h=n(51493),g=n(47742),y=n(95368),v=n(83787);function f({metadataItem:e,render:t,onClose:n}){var f;const{isPending:b,canDownload:S,canDeleteDownload:I,onDownload:Z,onDeleteDownload:P}=(0,g.Z)(e),E=(0,i.v9)((0,h.Z)(a.Ed)),M=(0,i.v9)((0,h.Z)(a.iU)),C=(0,m.Z)(),w=(0,m.Z)(),[D]=(0,p.c9)(),T=I,O=b||!I&&!S,x=!!(null==(f=D.ownerFeatures)?void 0:f.includes(a.Ed)),A=E&&x,N=e.subtype===u.y_.Podcast||M||A,k=(0,r.useCallback)((()=>{o.Z.warn("[Downloads] Download not permitted:","Server owner is grandfathered?",x,"Is user grandfathered?",E,"User has downloads Plex Pass gating?",M)}),[x,E,M]),L=N?(0,c.Z)(Z,n):(0,c.Z)(k,w.onOpen),j=I?C.onOpen:L;return r.createElement(r.Fragment,null,r.createElement(y.Z,{isOpen:C.isOpen,isConfirmButtonSpinning:b,kind:d.T,metricsPage:s.Ke,title:(0,l.Z)("Delete Download"),message:(0,l.Z)("Are you sure you want to delete this download?"),onConfirm:(0,c.Z)(P,C.onClose,n),onCancel:(0,c.Z)(C.onClose,n)}),r.createElement(v.Z,{isOpen:w.isOpen,onModalClose:(0,c.Z)(w.onClose,n)}),t(T,O,j))}},98091:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),i=n(47742),s=n(50930);function a({className:e,metadataItem:t,isShadowVisible:n=!1}){const{progress:a,isSubscribing:o,isDownloaded:l}=(0,i.Z)(t);return r.createElement("div",{className:e},l?r.createElement(s.Z,{progress:a<100?a:null,showShadow:n,showIndeterminate:o}):null)}},6406:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(67294),i=n(42283),s=n(89969),a=n(27082),o=n(5562),l=n(87684),c=n(5574),d=n(82367),u=n(63510),p=n(90864),m=n(42832),h=n(54546),g=n(9520),y=n(391),v=n(72170),f=n(47124),b=n(4226),S=n(22222),I=n(93496);const Z=[];function P({metadataItem:e}){var t,n,P;const E=(0,s.I0)(),M=(0,s.v9)((N=e.sourceURI,(0,S.P1)(I.Z,(e=>e.creating[N])))),C=(0,r.useCallback)((()=>{(0,a.c9)((()=>{E(b.Z.actions.subscriptionTemplateChanged({sourceURI:e.sourceURI,template:void 0}))}))}),[E,e.sourceURI]),w=null!=(n=null==(t=null==M?void 0:M.template)?void 0:t.Setting)?n:Z,{defaultValues:D,preferences:T}=(0,r.useMemo)((()=>{const e={},t=w.reduce(((t,{id:n,label:r,summary:i,value:s,hidden:a,enumValues:o})=>{if(a||!o)return t;const l=o.split("|").map((e=>{const t=e.split(":");return{value:t[0],label:t[1]}}));return t.push({id:n,label:r,summary:i,options:l}),e[n]=s,t}),[]);return{defaultValues:e,preferences:t}}),[w]),{register:O,handleSubmit:x}=(0,i.cI)({defaultValues:D}),A=(0,r.useCallback)((t=>{(null==M?void 0:M.template)&&E(b.Z.actions.subscriptionCreateRequested({sourceURI:e.sourceURI,template:null==M?void 0:M.template,settings:t}))}),[E,e.sourceURI,null==M?void 0:M.template]);var N;return r.createElement(u.Z,{isOpen:!!(null==M?void 0:M.template),onModalClose:C},r.createElement("form",{onSubmit:x(A)},r.createElement(m.Z,{onModalClose:C},r.createElement(v.Z,null,(0,o.Z)("Download Options")),(null==M?void 0:M.error)?r.createElement(h.Z,{message:(0,o.Z)("Something went wrong. Make sure the item is available and try again.")}):null,r.createElement(p.Z,null,T.map((({id:e,label:t,summary:n,options:i})=>r.createElement("label",{key:e,className:"DownloadTemplateModal-preference-3Vfyon"},r.createElement("span",{className:"DownloadTemplateModal-label-15Ce8F"},t),r.createElement(d.Z,{name:e,ref:O},i.map(((e,t)=>r.createElement("option",{key:t,value:e.value},e.label)))),r.createElement("span",{className:"DownloadTemplateModal-description-NYQ4V_"},n))))),r.createElement(g.Z,null,r.createElement(y.Z,null,r.createElement(l.Z,{onPress:C},(0,o.Z)("Cancel")),r.createElement(c.Z,{type:"submit",isSpinning:null!=(P=null==M?void 0:M.isPending)&&P,kind:f.Z.Primary},(0,o.Z)("Save")))))))}},4226:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(76403),i=n(59756),s=n(86953),a=n(60316),o=n(72759),l=n(1193),c=n(96147),d=n(30997);function u(e,{payload:t}){const{type:n,progress:r=0,Context:i}=t.activity;if(!(null==i?void 0:i.source)||n!==o.EW)return;const{source:l,ratingKey:c}=i,{serverIdentifier:u,providerIdentifier:p}=(0,a.Z)(l),m=(0,s.Z)({serverIdentifier:u,providerIdentifier:p,key:`/library/metadata/${c}`}),h=e.status.downloads[m];if(!h)return;const g=100===r;e.status.downloads[m]={id:h.id,subscription:g?d.y.Saved:d.y.Saving,sourceURI:m,type:h.type,relation:h.relation,progress:r}}const p=(0,r.oM)({name:"downloads",initialState:{status:{downloads:{},error:null},creating:{},deleting:{},providerSections:[]},reducers:{providersFetchSucceeded(e,{payload:t}){e.providerSections=t.providerSections},downloadsFetchSucceeded(e,{payload:t}){for(const n of t.items)delete e.status.downloads[n.sourceURI];for(const n of t.downloads)e.status.downloads[n.sourceURI]=n},downloadsFetchFailed(e,{payload:t}){e.status.error=t.error},subscriptionTemplatesFetchRequested(e,t){},subscriptionTemplateChanged(e,{payload:t}){t.template?e.creating[t.sourceURI]={isPending:!1,error:null,template:t.template}:delete e.creating[t.sourceURI]},subscriptionCreateRequested(e,{payload:t}){e.creating[t.sourceURI]={isPending:!0,error:null}},subscriptionCreateSucceeded(e,{payload:t}){delete e.creating[t.sourceURI],e.status.downloads[t.sourceURI]={id:t.id,sourceURI:t.sourceURI,type:t.type,subscription:d.y.Subscribing,relation:d.F.Self,progress:0}},subscriptionCreateFailed(e,{payload:t}){e.creating[t.sourceURI]={isPending:!1,error:t.error},delete e.status.downloads[t.sourceURI]},subscriptionDeleteRequested(e,{payload:t}){e.deleting[t.sourceURI]={isPending:!0,error:null}},subscriptionDeleteSucceeded(e,{payload:t}){delete e.deleting[t.sourceURI],delete e.status.downloads[t.sourceURI]},subscriptionDeleteFailed(e,{payload:t}){e.deleting[t.sourceURI]={isPending:!1,error:t.error}}},extraReducers:e=>{i.Z.allowSyncDownload&&(e.addCase(c.Z.actions.activityUpdated,u),e.addCase(c.Z.actions.activityFinished,u),e.addCase(l.Z.actions.deleted,((e,{payload:t})=>{const{mediaProviderID:n,sourceURI:r}=t,i=e.providerSections.find((({id:e})=>n===e));if(!i)return;const{serverIdentifier:o,providerIdentifier:l}=(0,a.Z)(i.source),{key:c}=(0,a.Z)(r),d=(0,s.Z)({serverIdentifier:o,providerIdentifier:l,key:c});delete e.status.downloads[d]})))}})},30997:(e,t,n)=>{"use strict";var r,i,s,a;n.d(t,{y:()=>r,F:()=>s}),(i=r||(r={}))[i.Subscribing=0]="Subscribing",i[i.Saving=1]="Saving",i[i.Saved=2]="Saved",(a=s||(s={}))[a.Self=0]="Self",a[a.Descendants=1]="Descendants",a[a.Ancestors=2]="Ancestors"},47742:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),i=n(89969),s=n(39537),a=n(4226),o=n(30997),l=n(22222),c=n(93496);function d(e){const t=(0,i.I0)(),n=(0,r.useMemo)((()=>{return t=e.sourceURI,(0,l.P1)(c.Z,(e=>e.status.downloads[t]));var t}),[e.sourceURI]),d=(0,r.useMemo)((()=>{return t=e.sourceURI,(0,l.P1)(c.Z,(e=>{var n,r;const i=!!(null==(n=e.creating[t])?void 0:n.isPending),s=!!(null==(r=e.deleting[t])?void 0:r.isPending);return i||s}));var t}),[e.sourceURI]),u=(0,i.v9)(n),p=(0,i.v9)(d),m=(null==u?void 0:u.subscription)===o.y.Subscribing,h=!!u&&u.relation!==o.F.Descendants,g=!u||u.relation===o.F.Descendants,y=(null==u?void 0:u.relation)===o.F.Self;return{progress:(null==u?void 0:u.progress)||0,isPending:p,isSubscribing:m,isDownloaded:h,canDownload:g,canDeleteDownload:y,onDownload:(0,r.useCallback)((()=>{t(a.Z.actions.subscriptionTemplatesFetchRequested({sourceURI:e.sourceURI,guid:e.guid,useSelected:e.type===s.pG.Show}))}),[t,e.sourceURI,e.guid,e.type]),onDeleteDownload:(0,r.useCallback)((()=>{u&&t(a.Z.actions.subscriptionDeleteRequested({id:u.id,sourceURI:e.sourceURI}))}),[t,u,e.sourceURI])}}},93496:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(49228);const s=(0,r.P1)(i.Z,(e=>e.downloads))},90897:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(67294),i=n(89969),s=n(5562),a=n(51377),o=n(31235),l=n(5574),c=n(47124),d=n(87119),u=n(34340),p=n(26301),m=n(82850),h=n(78434),g=n(39611),y=n(21100),v=n(62224),f=n(96049);const b="ChannelScanActivity-message-20a6kL",S="ChannelScanActivity-clockTime-25lWTY ChannelScanActivity-clock-1YqwkN ChannelScanActivity-icon-1vWUIX";function I({className:e}){const t=(0,i.I0)(),[n]=(0,o.c9)(),{selectedDevice:I,hasScannedChannels:Z,isCancellingChannelScan:P}=(0,i.v9)(p.Z),{selectedCountry:E}=(0,i.v9)(m.Z),M=(0,r.useMemo)((()=>(0,a.Z)(n)),[n]),C=(0,r.useMemo)((()=>(0,u.Z)(null==I?void 0:I.key)),[I]),w=(0,i.v9)(M),{channels:D,isPopulated:T}=(0,i.v9)(C),O=(0,r.useCallback)((()=>{I&&t(d.ZP.actions.deviceChannelsScanRequested({server:n,deviceKey:I.key,source:I.source,country:null==E?void 0:E.code}))}),[t,n,I,E]),x=(0,r.useCallback)((()=>{I&&!P&&t(d.ZP.actions.deviceChannelsCancelScanRequested({server:n,deviceKey:I.key}))}),[t,n,I,P]);return w?r.createElement("div",{className:e},r.createElement(h.Z,{size:90,progress:null==w?void 0:w.progress}),r.createElement("div",{className:b},(0,s.Z)("Scanning channels")),r.createElement(l.Z,{isSpinning:P,isDisabled:P,onPress:x},(0,s.Z)("Stop scanning"))):T&&0===D.length?r.createElement("div",{className:e},r.createElement("div",{className:"ChannelScanActivity-iconContainer-5oF717"},Z?r.createElement(g.Z,{className:"ChannelScanActivity-icon-1vWUIX"}):r.createElement(r.Fragment,null,r.createElement(y.Z,{className:S}),r.createElement(f.Z,{className:"ChannelScanActivity-clock-1YqwkN ChannelScanActivity-icon-1vWUIX"}),r.createElement(v.Z,{className:S}))),r.createElement("div",{className:b},Z?(0,s.Z)("No channels found. Make sure your device has a signal from your antenna and try scanning again."):(0,s.Z)("Awaiting channel scan")),r.createElement(l.Z,{kind:c.Z.Primary,isDisabled:!!w,isSpinning:!!w,onPress:O},(0,s.Z)("Scan channels"))):null}},23085:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var r=n(67294),i=n(89969),s=n(5562),a=n(37084),o=n(38035),l=n(31235),c=n(87684),d=n(47124),u=n(87119),p=n(26301),m=n(82850),h=n(55344);const g={container:"ChannelScanPrefs-container-3hSDra",titleContainer:"ChannelScanPrefs-titleContainer-2NWbqy",title:"ChannelScanPrefs-title-3UCWl7"};var y=Object.defineProperty,v=Object.prototype.hasOwnProperty,f=Object.getOwnPropertySymbols,b=Object.prototype.propertyIsEnumerable,S=(e,t,n)=>t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I=(e,t)=>{for(var n in t||(t={}))v.call(t,n)&&S(e,n,t[n]);if(f)for(var n of f(t))b.call(t,n)&&S(e,n,t[n]);return e};function Z(){const e=(0,i.I0)(),[t]=(0,l.c9)(),{selectedDevice:n,scanPrefs:y,scanNetworks:v}=(0,i.v9)(p.Z),{selectedCountry:f}=(0,i.v9)(m.Z),b=(0,r.useCallback)((r=>{const i=(null==y?void 0:y.length)?{prefs:r}:r;n&&e(u.ZP.actions.deviceChannelsScanRequested(I({server:t,deviceKey:n.key,source:n.source,country:null==f?void 0:f.code},i)))}),[e,t,n,f,y]),S=(null==y?void 0:y.length)?(0,s.Z)("We need some more information before proceeding with the channel scan."):(0,s.Z)("Please select a network before proceeding with the channel scan."),Z=(null==y?void 0:y.length)?void 0:v.reduce(((e,t)=>(e.push({[t.key]:t.title}),e)),[{"":(0,s.Z)("Select Network")}]);return r.createElement("div",{className:g.container},r.createElement(a.ZP,{onSubmit:b},r.createElement("div",{className:g.titleContainer},r.createElement("div",{className:g.title},S),r.createElement(c.Z,{type:"submit",className:g.scanButton,kind:d.Z.Primary},(0,s.Z)("Scan Channels"))),null==y?void 0:y.map((e=>{const{id:t,value:n,enumValues:i,label:a}=e,o=Array.isArray(i)?[{label:(0,s.Z)("Select {label}",{label:a}),value:""},...i]:void 0;return r.createElement(h.Z,I(I({key:t},e),{value:null==n?"":n,enumValues:o}))})),Z?r.createElement(o.Z,{name:"network",labelText:(0,s.Z)("Network"),initialValue:"",values:Z}):null))}},49399:(e,t,n)=>{"use strict";n.d(t,{Z:()=>q});var r=n(67294),i=n(42283),s=n(14146),a=n(63919),o=n(7796),l=n(94184),c=n.n(l),d=n(5562),u=n(39409),p=n(30451),m=n(54778),h=n(89969),g=n(82367),y=n(22222);function v(e){return e.title?`${e.title} (${e.callSign})`:e.callSign}var f=n(82850),b=n(20053);const S=(0,y.P1)(f.Z,b.Z,(({lineupChannels:e},t)=>t.reduce(((t,n)=>{var r;const i=null!=(r=e.channelsByLineupUUID[n.uuid])?r:[];return t[n.title]=i.map((e=>({value:e.key,label:v(e)}))),t}),{})));var I=n(57217);function Z({className:e,index:t,selectedChannel:n,onChange:i,isDisabled:s}){const a=(0,h.v9)(I.Z),o=(0,h.v9)(S),[l,c]=(0,r.useState)(!1),u=(0,r.useMemo)((()=>null==a?void 0:a.find((e=>e.key===n))),[a,n]),p=(0,r.useCallback)((()=>{c(!0)}),[c]),m=(0,r.useCallback)((e=>{const n=e.target.value,r=a.find((e=>e.key===n));r&&i(n,r.identifier,t)}),[t,a,i]);return r.createElement(g.Z,{className:e,name:`[${t}].channelKey`,value:n,isDisabled:s,onChange:m,onMouseDown:p,onTouchStart:p},r.createElement("option",{key:"",value:""},(0,d.Z)("Select Channel")),l?Object.keys(o).map(((e,t)=>r.createElement("optgroup",{key:t,label:e},o[e].map((({value:e,label:t},n)=>r.createElement("option",{key:n,value:e},t)))))):r.createElement("option",{key:"computed",value:n},u?v(u):null))}var P=n(13838),E=n(468),M=n(61721),C=n(99717);function w({className:e,quality:t}){if(void 0===t)return null;const n=(i=t)<=25?P:i<=50?E:i<=75?M:C;var i;return r.createElement("img",{className:e,src:String(n),width:18,height:16})}var D=Object.prototype.hasOwnProperty,T=Object.getOwnPropertySymbols,O=Object.prototype.propertyIsEnumerable;const x=(0,r.memo)((function(e){var t=e,{item:n,enabled:i,channelKey:s,onEnabledChange:a,onChannelKeyChange:o}=t,l=((e,t)=>{var n={};for(var r in e)D.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&T)for(var r of T(e))t.indexOf(r)<0&&O.call(e,r)&&(n[r]=e[r]);return n})(t,["item","enabled","channelKey","onEnabledChange","onChannelKeyChange"]);const h=(0,m.Z)(l),g=l.row,{name:y,deviceIdentifier:v,signalStrength:f,signalQuality:b,drm:S,isDeviceChannelHD:I,isLineupChannelHD:P}=n||{},E=(0,r.useCallback)((e=>{a(e.currentTarget.checked,g)}),[g,a]);return n?r.createElement("div",{className:"DeviceChannelMapping-container-2Fb1GM",style:h.style},r.createElement("label",{className:"DeviceChannelMapping-deviceChannel-2HhC25"},r.createElement("div",{className:"DeviceChannelMapping-channelEnabled-1xObtA"},S?null:r.createElement(p.Z,{name:`[${l.row}].enabled`,className:"DeviceChannelMapping-channelEnabledCheckbox-2nkec7 Checkbox-input-3E0Vit",checked:i,onChange:E})),r.createElement("div",{className:c()("DeviceChannelMapping-deviceChannelInfo-2CnPm3",!i&&"DeviceChannelMapping-mappingDisabled-32i64a")},r.createElement("div",{className:"DeviceChannelMapping-deviceChannelIdentifier--UXvxX"},v),r.createElement("div",{className:"DeviceChannelMapping-deviceChannelName-1pwqWt"},y)),r.createElement(w,{className:"DeviceChannelMapping-signalQuality-yPRgt1",quality:b||f})),S?r.createElement("div",{className:"DeviceChannelMapping-drmChannel-2L37NP"},r.createElement(u.Z,{className:"DeviceChannelMapping-drmChannelBadge-1wVFcd"},(0,d.Z)("Protected"))):r.createElement("div",{className:"DeviceChannelMapping-lineupChannel-3YLjQO"},r.createElement(Z,{index:g,className:"DeviceChannelMapping-lineupChannelSelect-17QKDe Select-input-bAL4pR",selectedChannel:s,isDisabled:!i,onChange:o}),I||P?r.createElement(u.Z,{className:"DeviceChannelMapping-hdBadge-3212p3"},(0,d.Z)("HD")):null)):null}));var A=n(31235),N=n(17331),k=n(47124),L=n(87119),j=n(34340),R=n(26301);const V="DeviceChannelMappingsHeader-titleContainer-1183c3",U="DeviceChannelMappingsHeader-title-1fIWE7",z="DeviceChannelMappingsHeader-count-3QGrOh";function B({allChannelMappingsEnabled:e,allChannelMappingsDisabled:t,onAllChannelMappingsEnabledChange:n}){const i=(0,h.I0)(),[s]=(0,A.c9)(),{selectedDevice:a,selectedDVR:o}=(0,h.v9)(R.Z),l=(0,r.useMemo)((()=>(0,j.Z)(null==a?void 0:a.key)),[a]),c=(0,h.v9)(I.Z),{channels:u}=(0,h.v9)(l),m=(0,r.useCallback)((n=>{n&&(n.indeterminate=!e&&!t)}),[e,t]),g=(0,r.useCallback)((()=>{var e;a&&i(L.ZP.actions.deviceChannelsScanRequested({server:s,deviceKey:a.key,source:a.source,country:null==(e=null==o?void 0:o.dvr)?void 0:e.country}))}),[i,s,a,o]);return r.createElement("div",{className:"DeviceChannelMappingsHeader-container-2wkET0"},r.createElement("div",{className:"DeviceChannelMappingsHeader-device-2E2Nnj"},r.createElement(p.Z,{name:"toggleAll",className:"DeviceChannelMappingsHeader-checkbox-18JrZh Checkbox-input-3E0Vit",checked:e,ref:m,onChange:n}),r.createElement("div",{className:V},r.createElement("div",{className:U},(0,d.Z)("Tuner Channels")),r.createElement("div",{className:z},(0,d.Z)("({count} Channels)",{count:u.length})),r.createElement(N.Z,{className:"DeviceChannelMappingsHeader-rescanButton-qWDlEz Link-link-2WGTd7",kind:k.Z.Primary,onPress:g},(0,d.Z)("Rescan")))),r.createElement("div",{className:"DeviceChannelMappingsHeader-lineup-23C-Cn"},r.createElement("div",{className:V},r.createElement("div",{className:U},(0,d.Z)("EPG Channels")),r.createElement("div",{className:z},(0,d.Z)("({count} Channels)",{count:c.length})))))}var _=Object.defineProperty,F=Object.prototype.hasOwnProperty,H=Object.getOwnPropertySymbols,W=Object.prototype.propertyIsEnumerable,Q=(e,t,n)=>t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,G=(e,t)=>{for(var n in t||(t={}))F.call(t,n)&&Q(e,n,t[n]);if(H)for(var n of H(t))W.call(t,n)&&Q(e,n,t[n]);return e};const Y=(0,s.Z)({rowHeight:parseInt(o.Z.dvrSetupChannelMappingItemHeight,10),overscan:1});function q({id:e,channelMappings:t,onChannelMappingChange:n,onSubmit:s}){const[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),u=(0,i.cI)({defaultValues:t}),{handleSubmit:p,register:m,setValue:h,watch:g}=u,y=g();(0,r.useEffect)((()=>{let e=!0,t=!0;Object.values(y).forEach((({drm:n,enabled:r})=>{r?e=!1:n||(t=!1)})),d(e),l(t)}),[y,d,l]),(0,r.useEffect)((()=>{t.forEach(((e,t)=>{m(`[${t}].enabled`),m(`[${t}].channelKey`),m(`[${t}].key`),m(`[${t}].lineupIdentifier`),m(`[${t}].drm`)}))}),[t,m]);const v=(0,r.useCallback)((e=>{t.forEach(((t,r)=>{const i=e.currentTarget.checked;t.drm||(h(`[${r}]`,{enabled:i}),null==n||n({index:r,enabled:i}))}))}),[t,h,n]),f=(0,r.useCallback)(((e,t)=>{h(`[${t}]`,{enabled:e}),null==n||n({index:t,enabled:e})}),[h,n]),b=(0,r.useCallback)(((e,t,r)=>{h(`[${r}]`,{channelKey:e,lineupIdentifier:t}),null==n||n({index:r,channelKey:e,lineupIdentifier:t})}),[h,n]),S=p((e=>{const t=Object.values(e).map((({key:e,lineupIdentifier:t,channelKey:n,enabled:r})=>({key:e,lineupIdentifier:t,channelKey:n,enabled:r})));s(t)})),I=(0,r.useMemo)((()=>e=>{if(!e.item)return r.createElement(r.Fragment,null);const t=g(`[${e.row}].enabled`),n=g(`[${e.row}].channelKey`);return r.createElement(x,G(G({},e),{enabled:t,channelKey:n,onEnabledChange:f,onChannelKeyChange:b}))}),[g,f,b]);return r.createElement(i.RV,G({},u),r.createElement("form",{id:e,className:"DeviceChannelMappingsForm-container-35QxvV",onSubmit:S},r.createElement(B,{allChannelMappingsEnabled:o,allChannelMappingsDisabled:c,onAllChannelMappingsEnabledChange:v}),r.createElement(a.Z,{className:"DeviceChannelMappingsForm-scroller-1EVgVs VirtualListScroller-scroller-2VrU8W Scroller-scroller-3Rbtv0",items:t,totalSize:t.length,layout:Y,cellComponentFactory:I})))}},52567:(e,t,n)=>{"use strict";n.d(t,{A:()=>rt,Z:()=>st});var r=n(67294),i=n(89969),s=n(69605),a=n(5562),o=n(30464),l=n(31235),c=n(39611);function d({errorMessage:e}){return r.createElement("div",{className:"FormSectionError-sectionError-2OJqtw"},r.createElement(c.Z,{className:"FormSectionError-sectionErrorIcon-3HK1aD"}),e||(0,a.Z)("There was a problem saving your changes."))}var u=n(2200),p=n(63510),m=n(42832),h=n(72170),g=n(6103),y=n(87684),v=n(5574),f=n(90864),b=n(9520),S=n(391),I=n(47124),Z=n(76418),P=n(82367),E=n(60451),M=n(82850);function C({isDisabled:e,hasError:t}){const n=(0,i.I0)(),{selectedRegion:s,regions:{epgCountryRegions:o}}=(0,i.v9)(M.Z),l=o.length>0,c=(0,r.useMemo)((()=>o.map((e=>({value:e.key,label:e.title})))),[o]),d=(0,r.useCallback)((e=>{n(E.ZP.actions.epgCountryRegionSelected({regionKey:e.currentTarget.value}))}),[n]);return l?r.createElement(r.Fragment,null,r.createElement(Z.Z,{className:"DVRSetupCountryRegionSelectInput-label-3Hffv_ FormLabel-label-lDFbdu",hasError:t},(0,a.Z)("Region")),r.createElement(P.Z,{name:"regionSelect",value:null==s?void 0:s.key,isDisabled:e,hasError:t,onChange:d},r.createElement("option",{value:""},(0,a.Z)("Select Region")),c.map((({value:e,label:t})=>r.createElement("option",{key:e,value:e},t))))):null}var w=n(17331),D=n(36315);function T({deviceKey:e,isActive:t,isDisabled:n,hasError:s,onEdit:o}){var c;const d=(0,i.I0)(),[u]=(0,l.c9)(),{selectedCountry:p,countries:{epgCountries:m,isPending:h,isPopulated:g,error:y}}=(0,i.v9)(M.Z),[v,f]=(0,r.useState)(!1),b=null!=(c=null==p?void 0:p.code)?c:"",S=(0,r.useMemo)((()=>m.map((e=>({value:e.code,label:e.title})))),[m]),C=(0,r.useCallback)((e=>{d(E.ZP.actions.epgCountrySelected({countryCode:e.currentTarget.value}))}),[d]),T=(0,r.useCallback)((()=>{null==o||o(e)}),[e,o]);(0,r.useEffect)((()=>{const{countryCode:e}=u;g&&(!b&&e?d(E.ZP.actions.epgCountrySelected({countryCode:e})):f(!0))}),[u,b,g,f,d]),(0,r.useEffect)((()=>{b&&!v&&f(!0)}),[b,v,f]),(0,r.useEffect)((()=>{if(p){const{flavor:e}=p;e===D.Y_.Regions?d(E.ZP.actions.epgCountryRegionsFetchRequested({server:u,country:p})):e===D.Y_.SinglePostalCode&&d(E.ZP.actions.epgPostalCodeChanged({postalCode:p.example}))}}),[d,p,u]),(0,r.useEffect)((()=>{g||d(E.ZP.actions.epgCountriesFetchRequested({server:u}))}),[d,g,u]);const O=t||!b?r.createElement(P.Z,{name:"countrySelect",value:b,isDisabled:n,hasError:s,onChange:C},r.createElement("option",{value:""},(0,a.Z)("Select Country")),S.map((({value:e,label:t},n)=>r.createElement("option",{key:n,value:e},t)))):r.createElement("div",{className:"DVRSetupCountrySelectInput-edit-3H5toZ"},null==p?void 0:p.title,n?null:r.createElement(w.Z,{kind:I.Z.Primary,onPress:T},(0,a.Z)("Edit")));return r.createElement(r.Fragment,null,r.createElement(Z.Z,{className:"DVRSetupCountrySelectInput-label-1mw3Jn FormLabel-label-lDFbdu",hasError:s},(0,a.Z)("Country")),h||!v?(0,a.Z)("Loading countries..."):null,y?(0,a.Z)("We couldn't fetch countries at this moment."):null,g&&v?O:null)}var O=n(8727),x=n(89328),A=n(22222);const N=(0,A.P1)(M.Z,(({selectedCountry:e})=>e&&1===e.flavor?e.example:void 0));var k=n(4704);let L;function j({isDisabled:e,hasError:t}){const n=(0,i.I0)(),{selectedCountry:s}=(0,i.v9)(M.Z),o=(0,k.Z)(s),l=(0,i.v9)(N),[c,d]=(0,r.useState)(""),u=(0,r.useCallback)((e=>{d(e.currentTarget.value)}),[d]);return(0,r.useEffect)((()=>{o&&o.key!==(null==s?void 0:s.key)&&d("")}),[s,o]),(0,r.useEffect)((()=>{L&&window.clearTimeout(L),L=window.setTimeout((()=>{n(E.ZP.actions.epgPostalCodeChanged({postalCode:c}))}),300)}),[n,c]),l?r.createElement(r.Fragment,null,r.createElement(Z.Z,{className:"DVRSetupPostalCodeInput-label-3KvulI FormLabel-label-lDFbdu",hasError:t},(0,a.Z)("Postal Code")),r.createElement(O.Z,{name:"postalCodeInput",size:x.Z.Medium,placeholder:(0,a.Z)("e.g. {postalCodeExample}",{postalCodeExample:l}),value:c,isDisabled:e,hasError:t,onChange:u})):null}var R=n(87119),V=n(26301);const U=(0,A.P1)(M.Z,(({lineupGroups:e})=>{const{epgLineupGroups:t,isPending:n,isPopulated:r}=e;return n||!r||0===t.length?null:t[t.length-1]}));var z=n(25025),B=n(38883);const _="DVRSetupAddLineup-section-bzk4ON";function F({onSetStep:e}){const t=(0,i.I0)(),[n]=(0,l.c9)(),{selectedDevice:s}=(0,i.v9)(V.Z),{selectedCountry:o,selectedRegion:c,selectedLineupGroups:d,postalCode:u,channelMappings:{isPending:p},lineupGroups:{isPending:m}}=(0,i.v9)(M.Z),h=(0,i.v9)(U),Z=(0,i.v9)(B.Z),P=(0,i.v9)(z.Z),w=(0,i.v9)(N),[O,x]=(0,r.useState)(!1),A=(0,k.Z)(o),L=(0,k.Z)(c),F=(0,k.Z)(u),H=!(null==P?void 0:P.length)&&!(null==Z?void 0:Z.length),W=d.every((e=>e.isSelectedLineupPopulated)),Q=d.every((e=>e.isChannelMappingsFetched)),G=!(!o||!u&&!c&&o.flavor!==D.Y_.SinglePostalCode),Y=!!(void 0!==A&&A!==o||void 0!==L&&L!==c||void 0!==F&&F!==u),q=(0,r.useCallback)((()=>{d.length>0?e(rt.Mapping):(t(R.ZP.actions.reset()),t(E.ZP.actions.reset()))}),[t,d.length,e]),K=(0,r.useCallback)((()=>{h&&t(E.ZP.actions.selectedEPGLineupGroupAddRequested({lineupGroup:h}))}),[t,h]),$=(0,r.useCallback)((()=>{e(rt.XMLTV)}),[e]);(0,r.useEffect)((()=>{s||e(rt.Device)}),[s,e]),(0,r.useEffect)((()=>{Y&&G&&o&&t(E.ZP.actions.epgLineupGroupFetchRequested({server:n,country:o,region:c,postalCode:u}))}),[Y,G,c,u,n,o,t]),(0,r.useEffect)((()=>{h&&s&&d&&!O&&!W&&(t(E.ZP.actions.bestEPGLineupSearchRequested({server:n,device:s,lineupGroup:d[d.length-1]})),x(!0))}),[t,h,s,d,O,W,n]),(0,r.useEffect)((()=>{O&&h&&s&&(!W||!Q&&(null==Z?void 0:Z.length)?!p&&(null==Z?void 0:Z.length)&&t(E.ZP.actions.channelMappingsFetchRequested({server:n,device:s,lineups:Z})):e(rt.Mapping))}),[t,O,p,W,Q,h,e,s,Z,n]);const X=(!h||h.epgLineups.length>0)&&G,J=O||m||p||!W,ee=G&&!m&&0===(null==h?void 0:h.epgLineups.length);return r.createElement(r.Fragment,null,r.createElement(f.Z,{innerClassName:"DVRSetupAddLineup-innerModalBody-2TK_oq ModalBody-innerModalBody-9jyEBh"},r.createElement("p",{className:"DVRSetupAddLineup-header-3NQBqU"},(null==Z?void 0:Z.length)?(0,a.Z)("Add another EPG data lineup or location"):(0,a.Z)("Add EPG data lineup or location")),r.createElement("p",null,(0,a.Z)("If your tuner device can receive channels that are not present in your initial lineup, you can specify additional locations or lineups to fulfill your EPG.")),r.createElement("p",null,(0,a.Z)("Remember, your device will need to be able to tune these channels to be able to function.")),r.createElement("p",null,(0,a.Z)("Any unsaved changes to channel mappings will be lost when you add a new lineup.")),r.createElement("div",{className:"DVRSetupAddLineup-formContainer-3yQ3IR"},r.createElement("div",{className:"DVRSetupAddLineup-formElements-3Vztcy"},s?r.createElement("div",{className:_},r.createElement(T,{deviceKey:s.key,isActive:!0,isDisabled:J,hasError:ee})):null,(null==o?void 0:o.flavor)===D.Y_.Regions?r.createElement("div",{className:_},r.createElement(C,{isDisabled:J,hasError:ee})):null,w?r.createElement("div",{className:_},r.createElement(j,{isDisabled:J,hasError:ee})):null),ee?r.createElement("p",{className:"DVRSetupAddLineup-formError-2JwcOa"},(0,a.Z)("We couldn't find Plex DVR guide data for your location at this time. Please select a different location or use an XMLTV guide.")):null),H?r.createElement(g.Z,{kind:I.Z.Primary,onPress:$},(0,a.Z)("Have an XMLTV guide on your server? Click here to use that instead.")):null),r.createElement(b.Z,null,r.createElement(S.Z,{className:"DVRSetupAddLineup-buttonBar-1NGJN2 ModalFooterButtonBar-buttonBar-UJWGIc"},r.createElement(y.Z,{isDisabled:p,onPress:q},(0,a.Z)("Back")),r.createElement(v.Z,{kind:I.Z.Primary,isDisabled:!X,isSpinning:J,onPress:K},(0,a.Z)("Continue")))))}var H=n(27082),W=n(51377),Q=n(57138),G=n(7203);const Y=(0,A.P1)(V.Z,(({devices:e})=>e.mediaGrabberDevices.filter((e=>!e.parentID&&e.status===D.qt.Alive))));var q=n(17524),K=n(84807),$=n(57614),X=n(7333),J=n(54346),ee=n(8955),te=n(72066),ne=n(79029);const re={"HDHomeRun CONNECT":J,"HDHomeRun EXPAND":ee,"HDHomeRun EXTEND":te,"HDHomeRun PRIME":ne};function ie({className:e="DVRDeviceImage-image-T8wHtT",thumb:t,model:n,width:i,height:s}){const[a]=(0,l.c9)(),o=re[n]||X;return r.createElement($.Z,{serverEntityID:a.entityID,providerEntityID:void 0,className:e,url:t,emptySrc:o,width:i,height:s})}var se=n(34340);function ae(e){switch(e){case D.dd.Unknown:return(0,a.Z)("Unknown");case D.dd.Antenna:return(0,a.Z)("Antenna");case D.dd.Cable:return(0,a.Z)("Cable");case D.dd.Satellite:return(0,a.Z)("Satellite")}}function oe({device:e,isDisabled:t}){const n=(0,i.I0)(),{key:s,source:a,sources:o}=e,l=(0,r.useMemo)((()=>function(e,t){return e?e.map((e=>({value:e,label:ae(e)}))):[{value:t,label:ae(t)}]}(o,a)),[o,a]),c=(0,r.useCallback)((e=>{n(R.ZP.actions.deviceSourceSelected({deviceKey:s,source:e.currentTarget.value}))}),[n,s]);return(0,r.useEffect)((()=>{o&&void 0===a&&n(R.ZP.actions.deviceSourceSelected({deviceKey:s,source:o[0]}))}),[n,s,o,a]),r.createElement(P.Z,{name:"deviceSource",value:a,isDisabled:t||1===l.length,onChange:c},l.map((({value:e,label:t},n)=>r.createElement("option",{key:n,value:e},t))))}const le="DVRSetupDevice-section-2Q-cDb",ce="DVRSetupDevice-button-2GRo9o SpinnerButton-button-1CCIvZ Button-button-1q7C1V Link-link-2WGTd7";function de({device:e,activeDeviceKey:t,onSetupStart:n,onSetStep:s}){const o=(0,i.I0)(),[c]=(0,l.c9)(),d=(0,r.useMemo)((()=>(0,se.Z)(e.key)),[e]),u=(0,i.v9)(N),p=(0,i.v9)(d),{lineupGroups:{isPending:m},selectedCountry:h,selectedRegion:g,postalCode:f}=(0,i.v9)(M.Z),b=(0,i.v9)(U),S=(0,i.v9)(z.Z),Z=null==S?void 0:S.find((({uuid:e})=>e.includes(q.zY))),P=!S||Z,{key:O,make:x,model:A,tuners:k,thumb:L,uri:V}=e,B=!(!h||!(f||g||h.flavor===D.Y_.SinglePostalCode||Z)),_=!(!t||t!==O),F=!(!t||t===O),W=!!t&&B,Q=(0,r.useCallback)((()=>{_&&W&&((0,H.c9)((()=>{o(R.ZP.actions.deviceSelected({deviceKey:e.key})),!Z&&b&&b.epgLineups.length>0&&o(E.ZP.actions.selectedEPGLineupGroupAddRequested({lineupGroup:b}))})),b&&b.epgLineups.length>0&&!Z?s(rt.Info):s(rt.XMLTV))}),[o,e,b,Z,_,W,s]),G=(0,r.useCallback)((()=>{(0,H.c9)((()=>{o(R.ZP.actions.deviceSelected({deviceKey:e.key}))})),s(rt.XMLTV)}),[o,e,s]),Y=(0,r.useCallback)((()=>{n(O)}),[O,n]);(0,r.useEffect)((()=>{o(R.ZP.actions.deviceChannelsFetchRequested({server:c,deviceKey:O}))}),[c,O,o]),(0,r.useEffect)((()=>{B&&h&&o(E.ZP.actions.epgLineupGroupFetchRequested({server:c,country:h,region:g,postalCode:f}))}),[g,f,c,h,B,o]);const $=function(e){if(!e||e.isPending)return(0,a.Z)("Loading channels...");const{channels:t,error:n}=e,r=t.length;return n||0===r?(0,a.Z)("0 Channels (scan required)"):1===r?(0,a.Z)("1 channel"):(0,a.Z)("{channelCount} channels",{channelCount:r})}(p);return r.createElement("form",{className:"DVRSetupDevice-container-1w5Ls1",onSubmit:Q},r.createElement(ie,{model:A,thumb:L,width:200,height:110}),r.createElement("div",{className:le},r.createElement("div",{className:"DVRSetupDevice-make-3l4yHX"},x),r.createElement("div",{className:"DVRSetupDevice-model-91PyhE"},A),r.createElement("div",{className:"DVRSetupDevice-moreInfo-mxnzDS"},V,V&&k?r.createElement(K.Z,null):null,k>1?(0,a.Z)("{tunersCount} tuners",{tunersCount:k}):(0,a.Z)("1 tuner"))),r.createElement("div",{className:le},r.createElement(oe,{device:e,isDisabled:F}),r.createElement("div",{className:"DVRSetupDevice-channelsMessage-YFr7Ok"},$)),F?null:r.createElement("div",{className:le},r.createElement(T,{deviceKey:e.key,isActive:_,onEdit:Y})),_&&(null==h?void 0:h.flavor)===D.Y_.Regions&&!Z?r.createElement("div",{className:le},r.createElement(C,null)):null,_&&u&&!Z?r.createElement("div",{className:le},r.createElement(j,null)):null,_&&P&&!Z?r.createElement("div",{className:le},r.createElement(w.Z,{kind:I.Z.Primary,onPress:G},(0,a.Z)("Have an XMLTV guide on your server? Click here to use it."))):null,_||F?null:r.createElement(y.Z,{kind:I.Z.Primary,className:ce,onPress:Y},(0,a.Z)("Setup Device")),_?r.createElement(v.Z,{type:"submit",kind:I.Z.Primary,className:ce,isDisabled:!W,isSpinning:m},(0,a.Z)("Next")):null,F?r.createElement("div",{className:"DVRSetupDevice-disabledText-3Fpi1X"},(0,a.Z)("You can add this device later.")):null)}var ue=n(42283),pe=n(59145),me=n(91169);function he(){const e=(0,i.I0)(),[t]=(0,l.c9)(),{setupErrorMessage:n,isAddingDevice:s}=(0,i.v9)(V.Z),[o,c]=(0,r.useState)(!1),d=(0,k.Z)(s),{register:u,handleSubmit:p}=(0,ue.cI)(),m=(0,r.useCallback)((()=>{c(!o)}),[o,c]),h=p((({address:n})=>{e(R.ZP.actions.deviceAddRequested({server:t,uri:n}))}));return(0,r.useEffect)((()=>{o&&d&&!s&&!n&&c(!1)}),[s,d,c,n,o]),r.createElement(r.Fragment,null,r.createElement("div",{className:"DVRSetupManualDevice-manualDeviceButtonContainer-1XaNgr"},r.createElement(pe.Z,{kind:I.Z.Primary,direction:o?me.Z.Up:me.Z.Down,isSelected:!1,onPress:m},(0,a.Z)("Don't see your HDHomeRun device? Enter its network address manually"))),o?r.createElement("div",{className:"DVRSetupManualDevice-manualDeviceContainer-rxOVLT"},r.createElement("form",{onSubmit:h},r.createElement(Z.Z,null,(0,a.Z)("HDHomeRun Device Address")),r.createElement(O.Z,{type:"text",name:"address",className:"DVRSetupManualDevice-manualDeviceInput-uLmSY- TextInput-input-2FGxDj",placeholder:(0,a.Z)("IP address or hostname"),ref:u({required:!0})}),r.createElement(v.Z,{type:"submit",kind:I.Z.Primary,isSpinning:s},(0,a.Z)("Connect")))):null)}function ge({onSetStep:e}){const t=(0,i.I0)(),[n]=(0,l.c9)(),[s,o]=(0,r.useState)(void 0),{devices:{isPending:c,isPopulated:d},isDiscoveringDevices:u,isCancellingChannelScan:p}=(0,i.v9)(V.Z),m=(0,i.v9)(Y),h=(0,r.useMemo)((()=>(0,W.Z)(n)),[n]),g=(0,i.v9)(h),y=(0,r.useCallback)((e=>{o(e)}),[o]);(0,r.useEffect)((()=>{(0,H.c9)((()=>{t(R.ZP.actions.setupReset())}))}),[t]),(0,r.useEffect)((()=>{p||(g?t(R.ZP.actions.deviceChannelsCancelScanRequested({server:n,deviceKey:g.Context.deviceID})):d||t(R.ZP.actions.devicesFetchRequested({server:n})))}),[t,n,g,p,d]),(0,r.useEffect)((()=>{s&&!m.some((e=>e.key===s))?o(void 0):1!==m.length||s||o(m[0].key)}),[m,s,o]),(0,r.useEffect)((()=>{let e;return u||p||(e=window.setTimeout((()=>{t(R.ZP.actions.devicesDiscoverRequested({server:n}))}),2e3)),()=>{e&&window.clearTimeout(e)}}),[t,n,u,p]);const v=(b=m,S=d,c||p?(0,a.Z)("Looking for compatible devices..."):S&&b.length>0?(0,a.Z)("We found hardware we recognize!"):S&&0===b.length?(0,a.Z)("We couldn't find any hardware we recognize, but will continue to look for available devices."):(0,a.Z)("Something went wrong. Please try again later."));var b,S;const I=p||c||!m.length||1===m.length&&!s;return r.createElement(f.Z,{className:"DVRSetupDeviceList-modalBody-3wa_O3 ModalBody-modalScroller-NbjAvC ModalBody-modalBody-O9hN9W",innerClassName:"DVRSetupDeviceList-innerModalBody-2Ps6as ModalBody-innerModalBody-9jyEBh"},r.createElement("p",null,v),r.createElement(he,null),I?r.createElement("div",{className:"DVRSetupDeviceList-spinnerContainer-9oEMOU"},r.createElement(G.Z,null)):r.createElement(Q.Z,{className:"DVRSetupDeviceList-devicesContainer-8DlDH-",scrollDirection:Q.I.Horizontal},m.map((t=>r.createElement(de,{key:t.key,device:t,activeDeviceKey:s,onSetupStart:y,onSetStep:e})))))}var ye=n(26636),ve=n(87803),fe=n(64780);const be={container:"AdditionalDevice-container-3rTsHn",info:"AdditionalDevice-info-CK_ma5",make:"AdditionalDevice-make-1KxopM",model:"AdditionalDevice-model-2WNEMb"};function Se({device:e,onSetupPress:t}){const{make:n,model:i,thumb:s}=e;return r.createElement("div",{className:be.container},r.createElement(ie,{model:i,thumb:s,width:130,height:73}),r.createElement("div",{className:be.info},r.createElement("div",{className:be.make},n),r.createElement("div",{className:be.model},i),r.createElement(y.Z,{className:be.button,kind:I.Z.Primary,size:x.Z.Small,onPress:t},(0,a.Z)("Setup Device"))))}function Ie({onModalClose:e,onSetStep:t}){var n,s;const[o,c]=(0,l.c9)(),{devices:{isPending:d}}=(0,i.v9)(V.Z),{epgDownloadActivityID:u}=(0,i.v9)(V.Z),p=(0,i.v9)(Y),m=(0,ve.Z)(c,ye.zW.Content),h=null==(n=null==m?void 0:m.directories)?void 0:n.find((e=>e.hubKey&&!e.key)),g=null==(s=null==h?void 0:h.pivots)?void 0:s.find((e=>e.key===ye.GG.Guide)),v=g&&(0,fe.Z)(o,c,h,g),Z=(0,r.useCallback)((()=>{t(rt.Device)}),[t]);return r.createElement(r.Fragment,null,r.createElement(f.Z,{innerClassName:"DVRSetupDownload-innerModalBody-J9LCfO ModalBody-innerModalBody-9jyEBh"},!d&&p.length>0?r.createElement("div",{className:"DVRSetupDownload-additionalDevices-3-3DFp"},r.createElement("p",{className:"DVRSetupDownload-accentText-4N_cxM"},(0,a.Z)("Setup another device?")),p.map((e=>r.createElement(Se,{key:e.key,device:e,onSetupPress:Z})))):null,r.createElement("p",{className:"DVRSetupDownload-text-3wib8J"},(0,a.Z)('You can now find your Guide and Channels in the sidebar under "Live TV". While we\'re grabbing the guide data, you can start browsing; it will update automatically as we download what’s on.')),u?r.createElement("div",{className:"DVRSetupDownload-spinnerContainer-3iuDWY"},r.createElement(G.Z,{className:"DVRSetupDownload-spinner-EEZHBO Spinner-spinner-CSMaLA spin-spin-34xiUE"}),r.createElement("p",null,(0,a.Z)("Downloading EPG data"))):null),r.createElement(b.Z,null,r.createElement(S.Z,null,r.createElement(y.Z,{onPress:e},(0,a.Z)("Close")),r.createElement(y.Z,{kind:I.Z.Primary,to:v,isDisabled:!v,onPress:e},(0,a.Z)("View Guide")))))}var Ze=n(83696),Pe=n(35771);function Ee({activeStep:e,step:t,title:n}){const i=e===t,s=e>t,a=e<t;return r.createElement("div",{className:"DVRSetupInfoStep-container-19VSAN"},s?r.createElement(Ze.Z,{className:"DVRSetupInfoStep-done-3vQWqi Badge-badge-3V2nLB DVRSetupInfoStep-step-3TAV-d",iconComponent:Pe.Z}):null,i?r.createElement(G.Z,{className:"DVRSetupInfoStep-active-30t5jv Spinner-spinner-CSMaLA spin-spin-34xiUE DVRSetupInfoStep-step-3TAV-d"}):null,a?r.createElement("div",{className:"DVRSetupInfoStep-waiting-1_jMHa Badge-badge-3V2nLB DVRSetupInfoStep-step-3TAV-d"}):null,n)}var Me,Ce;function we({onSetStep:e}){const t=(0,i.I0)(),[n]=(0,l.c9)(),[s,o]=(0,r.useState)(1),c=(0,i.v9)(B.Z),{selectedDevice:d}=(0,i.v9)(V.Z),u=(0,r.useMemo)((()=>(0,se.Z)(null==d?void 0:d.key)),[d]),{channels:p,isPending:m,isPopulated:h}=(0,i.v9)(u),{postalCode:g,selectedCountry:v,selectedLanguage:I,selectedLineupGroups:Z,selectedRegion:P,languages:{epgLanguages:C},channelMappings:{isPopulated:w}}=(0,i.v9)(M.Z),D=Z[0],T=(0,r.useCallback)((()=>{e(rt.Device)}),[e]);return(0,r.useEffect)((()=>{0===C.length&&t(E.ZP.actions.epgLanguagesFetchRequested({server:n}))}),[t,n,C,e]),(0,r.useEffect)((()=>{1===s&&(v&&I?o(2):C&&v&&!I&&t(E.ZP.actions.epgLanguageSelected({languageCode:v.language})))}),[t,C,s,v,I]),(0,r.useEffect)((()=>{2===s&&(h?o(3):!d||p&&m||t(R.ZP.actions.deviceChannelsFetchRequested({server:n,deviceKey:d.key})))}),[p,t,m,h,s,d,n]),(0,r.useEffect)((()=>{3!==s||!v||c||D||t(E.ZP.actions.epgLineupGroupFetchRequested({server:n,country:v,region:P,postalCode:g}))}),[t,D,s,g,v,c,P,n]),(0,r.useEffect)((()=>{3!==s||!d||(null==D?void 0:D.activityUUID)||(null==D?void 0:D.isSelectedLineupPopulated)||(null==c?void 0:c.length)||t(E.ZP.actions.bestEPGLineupSearchRequested({server:n,device:d,lineupGroup:D}))}),[t,D,s,d,c,n]),(0,r.useEffect)((()=>{3===s&&(null==D?void 0:D.isSelectedLineupPopulated)&&e(rt.Mapping)}),[w,D,s,e,c]),r.createElement(r.Fragment,null,r.createElement(f.Z,{className:"DVRSetupInfo-modalBody-1hPZ0A ModalBody-modalScroller-NbjAvC ModalBody-modalBody-O9hN9W",innerClassName:"DVRSetupInfo-innerModalBody-3QTEe1 ModalBody-innerModalBody-9jyEBh"},r.createElement("p",null,(0,a.Z)("Setting up your tuner and channels...")),r.createElement("div",{className:"DVRSetupInfo-container-2ndYnw"},r.createElement(G.Z,{className:"DVRSetupInfo-spinner-2QZXUQ Spinner-spinner-CSMaLA spin-spin-34xiUE"}),r.createElement("div",{className:"DVRSetupInfo-steps-2hjgft"},r.createElement(Ee,{step:1,activeStep:s,title:(0,a.Z)("Gathering data")}),r.createElement(Ee,{step:2,activeStep:s,title:(0,a.Z)("Scanning channels")}),r.createElement(Ee,{step:3,activeStep:s,title:(0,a.Z)("Finding the best guide")})))),r.createElement(b.Z,null,r.createElement(S.Z,{className:"DVRSetupInfo-buttonBar-1KPy1u ModalFooterButtonBar-buttonBar-UJWGIc"},r.createElement(y.Z,{onPress:T},(0,a.Z)("Back")))))}(Ce=Me||(Me={}))[Ce.Data=1]="Data",Ce[Ce.Channels=2]="Channels",Ce[Ce.Guide=3]="Guide";var De=n(81324),Te=n(75364),Oe=n(80906);const xe=function(e){return(0,A.P1)((0,Te.Z)(e),(e=>e.find((e=>e.type===Oe.Z.ProviderEpgLineupScan))))};var Ae=n(90897),Ne=n(23085),ke=n(49399),Le=n(69048),je=n(10877),Re=n(57217),Ve=n(62298),Ue=n(53863);function ze({lineupGroup:e,isDisabled:t}){const n=(0,i.I0)(),{epgLineups:s,selectedLineup:o,uuid:l}=e,c=(0,r.useMemo)((()=>s.map((e=>({value:e.uuid,label:e.title})))),[s]),d=(0,r.useCallback)((e=>{const t=e.currentTarget.value;t&&n(E.ZP.actions.selectedLineupSelected({lineupGroupUUID:l,selectedLineupUUID:t}))}),[n,l]);return r.createElement(P.Z,{name:l,className:"EPGLineupSelect-input-1TI3Cz Select-input-bAL4pR",value:null==o?void 0:o.uuid,isDisabled:t||1===c.length,onChange:d},r.createElement("option",{value:""},(0,a.Z)("Select Guide")),c.map((({value:e,label:t},n)=>r.createElement("option",{key:n,value:e},t))))}function Be({lineupGroupUUID:e,isDisabled:t,onDeletePress:n}){const i=(0,r.useCallback)((()=>{n(e)}),[e,n]);return r.createElement(je.Z,{kind:I.Z.Danger,className:"EPGLineups-deleteButton-1y8S3Y IconButton-iconButton-1kbRFb Link-link-2WGTd7",iconComponent:Ue.Z,ariaLabel:(0,a.Z)("Delete Guide"),isDisabled:t,onPress:i})}function _e({onSetStep:e}){const t=(0,i.I0)(),[n]=(0,l.c9)(),{selectedLineupGroups:s,channelMappings:{isPending:o}}=(0,i.v9)(M.Z),{hasScannedChannels:c,selectedDevice:d}=(0,i.v9)(V.Z),u=(0,i.v9)(Re.Z),p=(0,i.v9)(B.Z),m=(0,r.useMemo)((()=>(0,Le.Z)(null==d?void 0:d.key)),[d]),h=(0,r.useMemo)((()=>(0,W.Z)(n)),[n]),g=(0,r.useMemo)((()=>xe(n)),[n]),y=(0,r.useMemo)((()=>(0,se.Z)(null==d?void 0:d.key)),[d]),v=(0,i.v9)(g),f=(0,i.v9)(h),{isPending:b}=(0,i.v9)(y),S=(0,i.v9)(m),I=(0,r.useMemo)((()=>(0,Ve.Z)(S,u,p)),[S,u,p]),Z=(0,r.useCallback)((()=>{const t=null==p?void 0:p.find((({uuid:e})=>e.includes(q.zY)));e(t?rt.XMLTV:rt.AddLineup)}),[p,e]),P=(0,r.useCallback)((e=>{t(E.ZP.actions.selectedEPGLineupGroupRemoved({lineupGroupUUID:e}))}),[t]);return(0,r.useEffect)((()=>{const e=s[0];c&&d&&(null==p?void 0:p.length)&&!(null==e?void 0:e.activityUUID)&&!(null==e?void 0:e.isSelectedLineupPopulated)&&t(E.ZP.actions.bestEPGLineupSearchRequested({server:n,device:d,lineupGroup:e}))}),[t,d,p,s,c,n]),v?null:r.createElement("div",{className:"EPGLineups-container-QsdqUl"},r.createElement("div",{className:"EPGLineups-label-3motYx"},(0,a.Z)("EPG Location")),r.createElement("div",{className:"EPGLineups-lineups-3tZZmW"},s.map(((e,t)=>{const{selectedLineup:n,uuid:i}=e;return r.createElement("div",{key:t,className:"EPGLineups-lineup-1tKy6C"},r.createElement("div",{className:"EPGLineups-lineupSelect-2fFl-e"},r.createElement(ze,{lineupGroup:e,isDisabled:!!f}),s.length>1?r.createElement(Be,{lineupGroupUUID:i,isDisabled:!!f,onDeletePress:P}):null),!n||o||b||f?null:(0,a.Z)("{count} channels matched",{count:I[n.uuid]}))})),r.createElement(w.Z,{className:"EPGLineups-addLineup-QdLId5 Link-link-2WGTd7",isDisabled:!!f,onPress:Z},r.createElement("span",{className:"EPGLineups-addLineupCircle-xZvJBQ"},"+"),(0,a.Z)("Add channels from another lineup/location"))))}const Fe="DVRSetupMapping-container-3uay3h";var He=Object.defineProperty,We=Object.prototype.hasOwnProperty,Qe=Object.getOwnPropertySymbols,Ge=Object.prototype.propertyIsEnumerable,Ye=(e,t,n)=>t in e?He(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const qe="channel-mappings-form";function Ke({dvrID:e,onSetStep:t}){const n=(0,i.I0)(),[s]=(0,l.c9)(),{selectedDevice:o,selectedDVR:{error:c},scanPrefs:d,scanNetworks:u,hasScannedChannels:p,isSavingDVR:m}=(0,i.v9)(V.Z),{channelMappings:{isPending:h}}=(0,i.v9)(M.Z),g=(0,r.useMemo)((()=>(0,W.Z)(s)),[s]),Z=(0,r.useMemo)((()=>xe(s)),[s]),P=(0,r.useMemo)((()=>(0,se.Z)(null==o?void 0:o.key)),[o]),C=(0,r.useMemo)((()=>(0,Le.Z)(null==o?void 0:o.key)),[o]),w=(0,i.v9)(g),D=(0,i.v9)(Z),{channels:T,isPending:O}=(0,i.v9)(P),x=(0,i.v9)(B.Z),A=(0,i.v9)(C),N=(0,k.Z)(m),L=(0,k.Z)(x);(0,r.useEffect)((()=>{!N||m||c||t(rt.Download)}),[N,m,c,t]),(0,r.useEffect)((()=>{o&&p&&(0,H.c9)((()=>{n(R.ZP.actions.deviceChannelsFetchRequested({server:s,deviceKey:o.key}))}))}),[n,s,o,p]),(0,r.useEffect)((()=>{!(o&&x&&(null==x?void 0:x.length))||L&&(0,De.Z)(L,x)||n(E.ZP.actions.channelMappingsFetchRequested({server:s,device:o,lineups:x}))}),[n,o,x,L,s]);const j=(0,r.useCallback)((e=>{var t=e,{index:r}=t,i=((e,t)=>{var n={};for(var r in e)We.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Qe)for(var r of Qe(e))t.indexOf(r)<0&&Ge.call(e,r)&&(n[r]=e[r]);return n})(t,["index"]);n(E.ZP.actions.channelMappingChanged(((e,t)=>{for(var n in t||(t={}))We.call(t,n)&&Ye(e,n,t[n]);if(Qe)for(var n of Qe(t))Ge.call(t,n)&&Ye(e,n,t[n]);return e})({index:r},i)))}),[n]),U=(0,r.useCallback)((()=>{t(rt.Device)}),[t]),z=(0,r.useCallback)((t=>{o&&(0,H.c9)((()=>{n(e?R.ZP.actions.addDVRDeviceRequested({server:s,dvrID:e,deviceKey:o.key,channelMappings:t}):R.ZP.actions.dvrSaveRequested({server:s,device:o,channelMappings:t}))}))}),[n,o,e,s]);return r.createElement(r.Fragment,null,r.createElement(f.Z,{className:"DVRSetupMapping-modalBody-3NP2bi ModalBody-modalBody-O9hN9W",innerClassName:"DVRSetupMapping-innerModalBody-Q7i3MG"},!w&&!D&&!h&&T.length>0?r.createElement(_e,{onSetStep:t}):null,!w&&!D&&!O&&!h&&A.length>0&&T.length>0&&x&&x.length>0?r.createElement(ke.Z,{id:qe,channelMappings:A,onChannelMappingChange:j,onSubmit:z}):null,w||D||O||h||!(T.length>0)||(null==x?void 0:x.length)?null:r.createElement("div",{className:Fe},(0,a.Z)("Please select a guide to begin mapping your device channels.")),!w&&(D||O||h)?r.createElement("div",{className:Fe},r.createElement(G.Z,null)):null,w||!d.length&&!u.length?null:r.createElement(Ne.Z,null),(null==d?void 0:d.length)||(null==u?void 0:u.length)||D||O||h?null:r.createElement(Ae.Z,{className:Fe})),r.createElement(b.Z,null,r.createElement(S.Z,{className:"DVRSetupMapping-buttonBar-uPTOqn ModalFooterButtonBar-buttonBar-UJWGIc"},r.createElement(y.Z,{onPress:U},(0,a.Z)("Back")),r.createElement(v.Z,{type:"submit",kind:I.Z.Primary,form:qe,isDisabled:!!w||h||0===A.length,isSpinning:m},(0,a.Z)("Continue")))))}var $e=n(48663),Xe=n(90613);function Je(){var e;const t=(0,i.I0)(),{selectedCountry:n,selectedLanguage:s,languages:{epgLanguages:o,isPending:l,isPopulated:c,error:d}}=(0,i.v9)(M.Z),u=null!=(e=null==s?void 0:s.code)?e:"",p=(0,r.useMemo)((()=>o.map((e=>({value:e.code,label:e.title})))),[o]),m=(0,r.useCallback)((e=>{t(E.ZP.actions.epgLanguageSelected({languageCode:e.currentTarget.value}))}),[t]);return(0,r.useEffect)((()=>{c&&n&&!s&&t(E.ZP.actions.epgLanguageSelected({languageCode:n.language}))}),[t,c,n,s]),r.createElement(r.Fragment,null,r.createElement(Z.Z,null,(0,a.Z)("Language")),l?(0,a.Z)("Loading languages..."):null,d?(0,a.Z)("We couldn't fetch languages at this moment."):null,c?r.createElement(P.Z,{name:"languageSelect",value:u,onChange:m},r.createElement("option",{value:""},(0,a.Z)("Select Language")),p.map((({value:e,label:t},n)=>r.createElement("option",{key:n,value:e},t)))):null)}const et="DVRSetupUseXMLTV-form-nL-QjF",tt="DVRSetupUseXMLTV-title-2EyOkm";function nt({onSetStep:e}){const t=(0,i.I0)(),[n]=(0,l.c9)(),{selectedDevice:s}=(0,i.v9)(V.Z),{selectedLineupGroups:o,languages:{isPopulated:c},channelMappings:{isPending:d,error:u}}=(0,i.v9)(M.Z),p=(0,i.v9)(B.Z),m=(0,i.v9)(z.Z),[h,g]=(0,r.useState)(!1),P=!(null==m?void 0:m.length)&&!(null==p?void 0:p.length),C=!m||(null==m?void 0:m.find((({uuid:e})=>e.includes(q.zY)))),D=o.every((e=>e.isChannelMappingsFetched)),{register:T,errors:x,handleSubmit:A}=(0,ue.cI)({defaultValues:{programGuideTitle:(0,a.Z)("My Guide")}}),N=(0,r.useCallback)((()=>{e(o.length>0?rt.Mapping:rt.Device)}),[o.length,e]),k=A((({xmltvPath:e,programGuideTitle:n})=>{t(R.ZP.actions.setupErrorMessageRemoved()),t(E.ZP.actions.xmltvSelectedEPGLineupGroupAdded({path:e,title:n}))})),L=(0,r.useCallback)((()=>{e(rt.AddLineup)}),[e]);(0,r.useEffect)((()=>{g(d)}),[d,g]),(0,r.useEffect)((()=>{if(h&&u&&o.length>0){const e=o[o.length-1];(0,H.c9)((()=>{t(E.ZP.actions.selectedEPGLineupGroupRemoved({lineupGroupUUID:e.uuid}))}))}}),[t,u,o,h,g]),(0,r.useEffect)((()=>{s&&p&&!h&&!D&&t(E.ZP.actions.channelMappingsFetchRequested({server:n,device:s,lineups:p}))}),[t,s,p,h,D,n]),(0,r.useEffect)((()=>{c||t(E.ZP.actions.epgLanguagesFetchRequested({server:n}))}),[t,n,c]),(0,r.useEffect)((()=>{d||u||!h||e(rt.Mapping)}),[u,d,h,e]),(0,r.useEffect)((()=>{s||e(rt.Device)}),[s,e]);const j=n.platform===Xe.j.Windows?"C:\\path\\to\\your\\xmltv_file.xml":"/path/to/your/xmltv_file.xml";return r.createElement(r.Fragment,null,r.createElement(f.Z,{innerClassName:"DVRSetupUseXMLTV-innerModalBody-3iewys ModalBody-innerModalBody-9jyEBh"},C?r.createElement("div",{className:et},r.createElement("p",{className:tt},(0,a.Z)("Use an XMLTV guide")),r.createElement("p",null,P?(0,a.Z)("If you are located somewhere that isn't covered by Plex DVR guide data, you can specify a location to an XMLTV service to provide your guide data."):(0,a.Z)("Please specify a location to an XMLTV service to provide your guide data.")),r.createElement($e.Z,null,r.createElement(Je,null)),r.createElement($e.Z,null,r.createElement(Z.Z,{name:"xmltvPath"},(0,a.Z)("XMLTV Guide")),r.createElement(O.Z,{name:"xmltvPath",placeholder:j,hasError:!!x.xmltvPath,ref:T({required:!0})})),r.createElement($e.Z,null,r.createElement(Z.Z,{name:"programGuideTitle"},(0,a.Z)("Guide Title")),r.createElement(O.Z,{name:"programGuideTitle",hasError:!!x.programGuideTitle,ref:T({required:!0})}))):r.createElement("div",{className:et},r.createElement("p",{className:tt},(0,a.Z)("Unsupported location")),r.createElement("p",null,(0,a.Z)("This location isn't covered by Plex DVR guide data. Because you already set up a tuner using Plex DVR guide data, we are unable to offer the option to use a XMLTV guide. Please select a different location."))),P?r.createElement(w.Z,{kind:I.Z.Primary,onPress:L},(0,a.Z)("Don't use XMLTV? Click here to select your location instead.")):null),r.createElement(b.Z,null,r.createElement(S.Z,{className:"DVRSetupUseXMLTV-buttonBar-1hnSSL ModalFooterButtonBar-buttonBar-UJWGIc"},r.createElement(y.Z,{onPress:N},(0,a.Z)("Back")),r.createElement(v.Z,{kind:I.Z.Primary,isSpinning:d,isDisabled:!C,onPress:k},(0,a.Z)("Continue")))))}var rt,it;function st({machineIdentifier:e,providerIdentifier:t,dvrID:n,metricsContext:c,isOpen:g,onModalClose:y}){var v;const[f,b]=(0,r.useState)(rt.Device),S=(0,i.I0)(),I=(0,o.Z)(g),{selectedDVR:{dvr:Z},setupErrorMessage:P}=(0,i.v9)(V.Z),E=(0,r.useCallback)((e=>{S(R.ZP.actions.setupErrorMessageRemoved()),b(e)}),[S,b]),M=(0,r.useCallback)((()=>{S(R.ZP.actions.setupReset()),y()}),[S,y]);(0,r.useEffect)((()=>{I&&!g&&b(rt.Device)}),[b,g,I]);const C=function(e){switch(e){case rt.Device:return ge;case rt.XMLTV:return nt;case rt.Info:return we;case rt.Mapping:return Ke;case rt.Download:return Ie;case rt.AddLineup:return F;default:throw new Error("Unmatched DVR setup modal step: "+e)}}(f);return r.createElement(u.ZP,{metricsPage:s.od,name:c},r.createElement(l.ZP,{machineIdentifier:e,providerIdentifier:null!=(v=null==Z?void 0:Z.epgIdentifier)?v:t},r.createElement(p.Z,{className:"DVRSetupModal-modal-2TCbKu Modal-medium-2I8RQW Modal-modal-2XtIR-",isOpen:g,shouldTrackOnClose:!0,onModalClose:M},r.createElement(m.Z,{onModalClose:M},r.createElement(h.Z,null,f===rt.Download?(0,a.Z)("Setup complete"):(0,a.Z)("Tuner Setup")),P?r.createElement(d,{errorMessage:P}):null,r.createElement(C,{dvrID:n,onModalClose:M,onSetStep:E})))))}(it=rt||(rt={})).Device="device",it.XMLTV="xmltv",it.Info="info",it.Mapping="mapping",it.Download="download",it.AddLineup="addLineup"},36315:(e,t,n)=>{"use strict";var r,i,s,a,o,l,c,d,u,p;n.d(t,{Y_:()=>r,qt:()=>s,ew:()=>o,dd:()=>c,MR:()=>u}),(i=r||(r={}))[i.Regions=0]="Regions",i[i.PostalCode=1]="PostalCode",i[i.SinglePostalCode=2]="SinglePostalCode",(a=s||(s={})).Dead="dead",a.Alive="alive",(l=o||(o={})).Disabled="disabled",l.Enabled="enabled",(d=c||(c={})).Unknown="-1",d.Antenna="0",d.Cable="1",d.Satellite="2",(p=u||(u={}))[p.Unknown=-1]="Unknown",p[p.OverTheAir=0]="OverTheAir",p[p.Cable=1]="Cable",p[p.Satellite=2]="Satellite",p[p.IPTV=3]="IPTV",p[p.Virtual=4]="Virtual"},87119:(e,t,n)=>{"use strict";n.d(t,{Yc:()=>g,ZP:()=>S});var r=n(76403),i=n(5562),s=n(96147),a=n(80906),o=n(8183),l=n(36315),c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e};const g={channels:[],isPending:!1,isPopulated:!1,error:null},y={dvr:void 0,isPending:!1,isPopulated:!1,error:null},v={mediaGrabberDevices:[],isPending:!1,isPopulated:!1,error:null},f={devices:v,epgDownloadActivityID:void 0,selectedDevice:void 0,selectedDVR:y,channelsByDeviceKey:{},scanPrefs:[],scanNetworks:[],hasScannedChannels:!1,isSavingDVR:!1,isDeletingDVR:!1,isAddingDevice:!1,isDiscoveringDevices:!1,isSavingChannelMappings:!1,isCancellingChannelScan:!1,isCancellingReloadGuide:!1,channelMappingsSaveError:null,setupErrorMessage:null};function b(e,{payload:t}){var n;const{activity:r}=t;if(r.type!==a.Z.ProviderDeviceChannelScan)return;const i=null==(n=null==r?void 0:r.Response)?void 0:n.Network;if(i)e.hasScannedChannels=!1,e.scanNetworks=i;else{const t=100===(null==r?void 0:r.progress);e.hasScannedChannels=t,e.isCancellingChannelScan&&t&&(e.isCancellingChannelScan=!1)}}const S=(0,r.oM)({name:"dvrSetup",initialState:f,reducers:{reset:()=>f,setupReset(e){e.devices=v,e.selectedDevice=void 0,e.hasScannedChannels=!1,e.isSavingDVR=!1,e.isAddingDevice=!1,e.isDiscoveringDevices=!1,e.isSavingChannelMappings=!1,e.channelMappingsSaveError=null,e.setupErrorMessage=null},setupErrorMessageAdded(e,{payload:t}){e.setupErrorMessage=t.message},setupErrorMessageRemoved(e,t){e.setupErrorMessage=null},devicesDiscoverRequested(e,t){e.isDiscoveringDevices=!0},devicesDiscoverSucceeded(e,{payload:t}){e.isDiscoveringDevices=!1;const{mediaGrabberDevices:n}=e.devices;for(let e=0;e<t.data.length;e++){const r=t.data[e],i=n.find((e=>r.uuid===e.uuid));i?(i.state=r.state,i.status=r.status,i.parentID=r.parentID):n.push(r)}},devicesDiscoverFailed(e,t){e.isDiscoveringDevices=!1},devicesFetchRequested({devices:e},t){(0,o.er)(e)},devicesFetchSucceeded({devices:e},{payload:t}){(0,o.vv)(e),e.mediaGrabberDevices=t.data},devicesFetchFailed({devices:e},{payload:t}){(0,o.VQ)(e,t.error)},deviceChannelsFetchRequested(e,{payload:t}){let n=e.channelsByDeviceKey[t.deviceKey];n?(n.channels=[],n.isPopulated=!1):(n=h({},g),e.channelsByDeviceKey[t.deviceKey]=n),e.setupErrorMessage=null,(0,o.er)(n)},deviceChannelsFetchSucceeded(e,{payload:t}){const n=e.channelsByDeviceKey[t.deviceKey];(0,o.vv)(n),n.channels=t.data},deviceChannelsFetchFailed(e,{payload:t}){let n=e.channelsByDeviceKey[t.deviceKey];n||(n=h({},g),e.channelsByDeviceKey[t.deviceKey]=n),(0,o.VQ)(n,t.error)},deviceChannelsScanRequested(e,t){e.hasScannedChannels=!1},deviceChannelsScanFailed(e,t){e.hasScannedChannels=!0},deviceChannelsCancelScanRequested(e,t){e.isCancellingChannelScan=!0},deviceChannelsCancelScanFailed(e,t){e.isCancellingChannelScan=!1},deviceSelected(e,{payload:t}){const n=e.devices.mediaGrabberDevices.find((e=>e.key===t.deviceKey));n&&(e.selectedDevice=n)},deviceSourceSelected({devices:e},{payload:t}){const n=e.mediaGrabberDevices.find((e=>e.key===t.deviceKey));n&&(n.source=t.source)},deviceChannelMappingsSaveRequested(e,t){e.isSavingChannelMappings=!0,e.channelMappingsSaveError=null},deviceChannelMappingsSaveSucceeded(e,t){e.isSavingChannelMappings=!1,e.channelMappingsSaveError=null},deviceChannelMappingsSaveFailed(e,{payload:t}){e.isSavingChannelMappings=!1,e.channelMappingsSaveError=t.error},deviceEnableRequested(e,t){},deviceEnableSucceeded(e,{payload:t}){const n=e.devices.mediaGrabberDevices.find((e=>e.key===t.deviceKey));n&&(n.state=t.enabled?l.ew.Enabled:l.ew.Disabled,n.title=t.title)},deviceEnableFailed(e,t){},deviceAddRequested(e,t){e.isAddingDevice=!0},deviceAddSucceeded(e,{payload:t}){e.setupErrorMessage=null,e.isAddingDevice=!1;const n=e.devices.mediaGrabberDevices.find((e=>e.key===t.data.key));n?Object.assign(n,t.data):e.devices.mediaGrabberDevices.push(t.data)},deviceAddFailed(e,t){e.isAddingDevice=!1},dvrFetchRequested(e,t){e.setupErrorMessage=null,(0,o.er)(e.selectedDVR)},dvrFetchSucceeded({selectedDVR:e,devices:t},{payload:n}){const{dvr:r}=n;(0,o.vv)(e),e.dvr=r,(null==r?void 0:r.Device)&&((0,o.vv)(t),t.mediaGrabberDevices=r.Device)},dvrFetchFailed(e,{payload:t}){(0,o.VQ)(e.selectedDVR,t.error),e.setupErrorMessage=(0,i.Z)("There was a problem fetching your DVR. Please try again later.")},dvrSaveRequested(e,t){e.setupErrorMessage=null,e.isSavingDVR=!0},dvrSaveSucceeded(e,{payload:t}){(0,o.vv)(e.selectedDVR),e.epgDownloadActivityID=t.activityUUID,e.isSavingDVR=!1,e.selectedDVR.dvr=t.dvr},dvrSaveFailed(e,{payload:t}){(0,o.VQ)(e.selectedDVR,t.error),e.isSavingDVR=!1},dvrDeleteRequested(e,t){e.isDeletingDVR=!0},dvrDeleteSucceeded(e,t){e.selectedDVR=y,e.isDeletingDVR=!1},dvrDeleteFailed(e,t){e.isDeletingDVR=!1},addDVRDeviceRequested(e,t){e.setupErrorMessage=null,e.isSavingDVR=!0},addDVRDeviceSucceeded(e,{payload:t}){(0,o.vv)(e.selectedDVR),e.epgDownloadActivityID=t.activityUUID,e.isSavingDVR=!1,e.selectedDVR.dvr=t.dvr},addDVRDeviceFailed(e,{payload:t}){(0,o.VQ)(e.selectedDVR,t.error),e.isSavingDVR=!1},removeDVRDeviceRequested(e,t){},removeDVRDeviceSucceeded(e,t){var n,r;(null==(r=null==(n=e.selectedDVR)?void 0:n.dvr)?void 0:r.Device)&&(e.selectedDVR.dvr.Device=e.selectedDVR.dvr.Device.filter((e=>e.key!==t.payload.deviceKey))),e.devices.mediaGrabberDevices=e.devices.mediaGrabberDevices.filter((e=>e.key!==t.payload.deviceKey))},removeDVRDeviceFailed(e,t){},cancelReloadGuide(e){e.isCancellingReloadGuide=!0},scanPrefsAndNetworksReset(e){e.scanPrefs=[],e.scanNetworks=[]},scanPrefsAdded(e,{payload:t}){e.scanPrefs=t.settings},scanNetworksAdded(e,{payload:t}){e.scanNetworks=t.networks}},extraReducers:e=>{e.addCase(s.Z.actions.activityStarted,b).addCase(s.Z.actions.activityUpdated,b).addCase(s.Z.actions.activityFinished,((e,t)=>{t.payload.activity.type===a.Z.ProviderEpgLoad?(e.isCancellingReloadGuide=!1,e.epgDownloadActivityID=void 0):b(e,t)}))}})},60451:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>Z});var r=n(76403),i=n(17524),s=n(99317),a=n(18873),o=n(96147),l=n(80906),c=n(8183),d=n(36315),u=n(87119),p=Object.defineProperty,m=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))m.call(t,n)&&y(e,n,t[n]);if(h)for(var n of h(t))g.call(t,n)&&y(e,n,t[n]);return e};const f={mappings:[],isPending:!1,isPopulated:!1,error:null},b={channelsByLineupUUID:{},isPending:!1,isPopulated:!1,error:null},S={epgLineupGroups:[],isPending:!1,isPopulated:!1,error:null},I={channelMappings:f,lineupChannels:b,countries:{epgCountries:[],isPending:!1,isPopulated:!1,error:null},languages:{epgLanguages:[],isPending:!1,isPopulated:!1,error:null},regions:{epgCountryRegions:[],isPending:!1,isPopulated:!1,error:null},lineupGroups:S,selectedCountry:void 0,selectedLanguage:void 0,selectedRegion:void 0,selectedLineupGroups:[],postalCode:""},Z=(0,r.oM)({name:"epgSettings",initialState:I,reducers:{reset:()=>I,channelMappingsFetchRequested({lineupChannels:e,channelMappings:t},n){(0,c.er)(e),(0,c.er)(t)},channelMappingsFetchSucceeded({channelMappings:e,lineupChannels:t,selectedLineupGroups:n},{payload:r}){e.mappings=r.channelMappings,(0,c.vv)(e),r.lineupChannels.forEach((({uuid:e,Channel:n})=>{t.channelsByLineupUUID[e]=null!=n?n:[]})),(0,c.vv)(t),n.forEach((e=>{e.isChannelMappingsFetched=!0}))},channelMappingsFetchFailed({channelMappings:e,lineupChannels:t},{payload:n}){(0,c.VQ)(e,n.error),(0,c.VQ)(t,n.error)},channelMappingChanged({channelMappings:e},{payload:t}){const n=t,{index:r}=n,i=((e,t)=>{var n={};for(var r in e)m.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&h)for(var r of h(e))t.indexOf(r)<0&&g.call(e,r)&&(n[r]=e[r]);return n})(n,["index"]),s=e.mappings[r];Object.assign(s,i)},epgLineupGroupFetchRequested({lineupGroups:e},t){(0,c.er)(e)},epgLineupGroupFetchSucceeded({lineupGroups:e},{payload:t}){(0,c.vv)(e),e.epgLineupGroups.push({uuid:t.data.uuid,epgLineups:t.data.epgLineups})},epgLineupGroupFetchFailed({lineupGroups:e},{payload:t}){(0,c.VQ)(e,t.error)},bestEPGLineupSearchRequested(e,t){},bestEPGLineupSearchSucceeded({selectedLineupGroups:e},{payload:t}){const n=e.find((e=>e.uuid===t.lineupGroup.uuid));n&&(n.activityUUID=t.data,n.isSelectedLineupPending=!0)},bestEPGLineupSearchFailed(e,t){},selectedLineupSelected({selectedLineupGroups:e},{payload:t}){const n=e.find((e=>e.uuid===t.lineupGroupUUID));if(n){const e=n.epgLineups.find((e=>e.uuid===t.selectedLineupUUID));n.selectedLineup=e}},selectedEPGLineupGroupAddRequested(e,t){},selectedEPGLineupGroupAddSucceeded({selectedLineupGroups:e},{payload:t}){e.push(v(v({},t.lineupGroup),{activityUUID:void 0,selectedLineup:void 0,isChannelMappingsFetched:!1,isSelectedLineupPending:!1,isSelectedLineupPopulated:!1}))},selectedEPGLineupGroupRemoved(e,{payload:t}){e.selectedLineupGroups=e.selectedLineupGroups.filter((e=>e.uuid!==t.lineupGroupUUID))},xmltvSelectedEPGLineupGroupAdded({selectedLineupGroups:e},{payload:t}){const{path:n,title:r}=t,o=(0,a.Z)(n),l={uuid:`lineup://${i.zY}/${o}#${encodeURIComponent(r)}`,title:r,lineupType:d.MR.Virtual},c={uuid:`xmltv-${(0,s.Z)()}`,epgLineups:[l],activityUUID:void 0,selectedLineup:l,isChannelMappingsFetched:!1,isSelectedLineupPending:!1,isSelectedLineupPopulated:!0};e.push(c)},selectedDVRLineupChannelsFetchRequested({lineupChannels:e},t){(0,c.er)(e)},selectedDVRLineupChannelsFetchSucceeded({lineupChannels:e},{payload:t}){t.lineupChannels.forEach((({uuid:t,Channel:n})=>{e.channelsByLineupUUID[t]=null!=n?n:[]})),(0,c.vv)(e)},selectedDVRLineupChannelsFetchFailed({lineupChannels:e},{payload:t}){(0,c.VQ)(e,t.error)},epgCountriesFetchRequested({countries:e},t){(0,c.er)(e)},epgCountriesFetchSucceeded({countries:e},{payload:t}){(0,c.vv)(e),e.epgCountries=t.data},epgCountriesFetchFailed({countries:e},{payload:t}){(0,c.VQ)(e,t.error)},epgCountrySelected(e,{payload:t}){const n=e.countries.epgCountries.find((e=>e.code===t.countryCode));e.selectedCountry=n,e.selectedRegion=void 0,e.postalCode=void 0},epgCountryRegionSelected(e,{payload:t}){const n=e.regions.epgCountryRegions.find((e=>e.key===t.regionKey));e.selectedRegion=n},epgCountryRegionsFetchRequested({regions:e},t){(0,c.er)(e)},epgCountryRegionsFetchSucceeded({regions:e},{payload:t}){(0,c.vv)(e),e.epgCountryRegions=t.data},epgCountryRegionsFetchFailed({regions:e},{payload:t}){(0,c.VQ)(e,t.error)},epgLanguagesFetchRequested({languages:e},t){(0,c.er)(e)},epgLanguagesFetchSucceeded({languages:e},{payload:t}){(0,c.vv)(e),e.epgLanguages=t.data},epgLanguagesFetchFailed({languages:e},{payload:t}){(0,c.VQ)(e,t.error)},epgLanguageSelected(e,{payload:t}){const n=e.languages.epgLanguages.find((e=>e.code===t.languageCode));e.selectedLanguage=n},epgPostalCodeChanged(e,{payload:t}){e.postalCode=t.postalCode}},extraReducers(e){e.addCase(u.ZP.actions.setupReset,(e=>{e.channelMappings=f,e.lineupChannels=b,e.lineupGroups=S,e.selectedRegion=void 0,e.selectedLineupGroups=[],e.postalCode=""})).addCase(o.Z.actions.activityFinished,((e,{payload:t})=>{const{activity:n}=t;if(n.type===l.Z.ProviderEpgLineupScan){const t=e.selectedLineupGroups.find((e=>e.activityUUID===n.uuid));if(t){const e=t.epgLineups.find((e=>e.uuid===n.Response.lineup));t.activityUUID=void 0,t.selectedLineup=e,t.isSelectedLineupPending=!1,t.isSelectedLineupPopulated=!0}}}))}})},69048:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(22222),i=n(9481),s=n(70617),a=n(26301);var o=n(34340),l=n(82850),c=n(57217);const d=(0,s.Z)((function(e){return(0,r.P1)((0,o.Z)(e),l.Z,c.Z,function(e){return(0,r.P1)(a.Z,(({selectedDVR:t})=>{var n,r;const{dvr:i}=t;if(null==(n=null==i?void 0:i.Device)?void 0:n.length)return null==(r=i.Device)?void 0:r.find((t=>t.key===e))}))}(e),((e,t,n,r)=>{const s=(null==r?void 0:r.ChannelMapping)?r.ChannelMapping:t.channelMappings.mappings;if(!(null==e?void 0:e.isPopulated)||0===s.length)return[];const a=e.channels.map((e=>e.key)),o=s.map((e=>e.deviceIdentifier)),l=a.concat(o);return Array.from(new Set(l)).map((t=>{var r;const i=e.channels.find((e=>e.key===t)),a=s.find((e=>e.deviceIdentifier===t)),o=n.find((e=>(null==e?void 0:e.key)===(null==a?void 0:a.channelKey)||(null==e?void 0:e.identifier)===(null==a?void 0:a.lineupIdentifier))),{name:l="",identifier:c="",drm:d=!1,signalStrength:u,signalQuality:p,hd:m=!1}=i||{},h=!(!i||d||!(null==a?void 0:a.enabled));return{key:t,name:l,deviceIdentifier:c,channelKey:(null==a?void 0:a.channelKey)||(null==o?void 0:o.key),lineupIdentifier:(null==a?void 0:a.lineupIdentifier)||(null==o?void 0:o.identifier),signalStrength:u,signalQuality:p,enabled:h,drm:d,isChannelMissing:!i,isDeviceChannelHD:m,isLineupChannelHD:null!=(r=null==o?void 0:o.hd)&&r}})).sort(((e,t)=>(0,i.Z)(e.deviceIdentifier,t.deviceIdentifier)))}))}))},34340:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(22222),i=n(87119),s=n(26301),a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const u=e=>(0,r.P1)(s.Z,(t=>{var n,r;return e&&null!=(r=null==(n=t.channelsByDeviceKey)?void 0:n[e])?r:((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({},i.Yc)}))},76166:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(49228);const s=(0,r.P1)(i.Z,(e=>e.dvrManagement))},26301:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(76166);const s=(0,r.P1)(i.Z,(e=>e.dvrSetup))},82850:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(76166);const s=(0,r.P1)(i.Z,(e=>e.epgSettings))},57217:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(22222),i=n(82850),s=n(20053),a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};const p=(0,r.P1)(i.Z,s.Z,(({lineupChannels:e},t)=>t.reduce(((t,n)=>{var r;const i=null!=(r=e.channelsByLineupUUID[n.uuid])?r:[];return t.concat(i.map((e=>u(u({},e),{lineupUUID:n.uuid}))))}),[])))},25025:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22222),i=n(36315),s=n(26301);const a=(0,r.P1)(s.Z,(({selectedDVR:e})=>{var t,n;return null==(n=null==(t=null==e?void 0:e.dvr)?void 0:t.Lineup)?void 0:n.map((e=>({uuid:e.id,title:e.title,lineupType:i.MR.Unknown})))}))},20053:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(22222),i=n(96516),s=n(25025),a=n(38883);const o=(0,r.P1)(s.Z,a.Z,((e,t)=>{var n;return null!=(n=null!=t?t:e)?n:[]})),l=(0,i.Z)(o,(e=>e))},38883:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(82850);const s=(0,r.P1)(i.Z,(({selectedLineupGroups:e})=>{if(0!==e.length)return e.reduce(((e,{selectedLineup:t})=>(t&&e.push(t),e)),[])}))},62298:(e,t,n)=>{"use strict";function r(e,t,n){const r=null==n?void 0:n.reduce(((e,{uuid:t})=>(e[t]=0,e)),{});return e.reduce(((e,{enabled:n,channelKey:r})=>{if(n&&r){const n=t.find((({key:e})=>e===r));(null==n?void 0:n.lineupUUID)&&e[n.lineupUUID]++}return e}),null!=r?r:{})}n.d(t,{Z:()=>r})},49560:(e,t,n)=>{"use strict";var r,i,s,a,o,l,c,d,u,p,m,h;n.d(t,{VD:()=>r,Lw:()=>s,pz:()=>o,MT:()=>c,qZ:()=>u,Tk:()=>m}),(i=r||(r={})).ArrowDown="ArrowDown",i.ArrowLeft="ArrowLeft",i.ArrowRight="ArrowRight",i.ArrowUp="ArrowUp",i.Enter="Enter",i.KeyA="KeyA",i.KeyC="KeyC",i.KeyD="KeyD",i.KeyF="KeyF",i.KeyG="KeyG",i.KeyH="KeyH",i.KeyI="KeyI",i.KeyJ="KeyJ",i.KeyK="KeyK",i.KeyL="KeyL",i.KeyQ="KeyQ",i.KeyR="KeyR",i.KeyS="KeyS",i.KeyW="KeyW",i.KeyX="KeyX",i.KeyT="KeyT",i.KeyZ="KeyZ",i.ShiftLeft="ShiftLeft",i.ShiftRight="ShiftRight",(a=s||(s={}))[a.Button0=0]="Button0",a[a.Button1=1]="Button1",a[a.Button2=2]="Button2",a[a.Button3=3]="Button3",a[a.Button4=4]="Button4",a[a.Button5=5]="Button5",a[a.Button6=6]="Button6",a[a.Button7=7]="Button7",a[a.Button8=8]="Button8",a[a.Button9=9]="Button9",a[a.Button10=10]="Button10",a[a.Button11=11]="Button11",a[a.Button12=12]="Button12",a[a.Button13=13]="Button13",a[a.Button14=14]="Button14",a[a.Button15=15]="Button15",a[a.Button16=16]="Button16",a[a.Button17=17]="Button17",(l=o||(o={}))[l.Axis0=0]="Axis0",l[l.Axis1=1]="Axis1",l[l.Axis2=2]="Axis2",l[l.Axis3=3]="Axis3",(d=c||(c={}))[d.None=0]="None",d[d.Keyboard=1]="Keyboard",d[d.Gamepad=2]="Gamepad",(p=u||(u={}))[p.Ok=0]="Ok",p[p.UnknownFailure=8e3]="UnknownFailure",p[p.AccountLinkageMissing=8001]="AccountLinkageMissing",p[p.PlatformMissing=8002]="PlatformMissing",p[p.PlatformCoreMappingMissing=8003]="PlatformCoreMappingMissing",p[p.PlatformCoreMissing=8004]="PlatformCoreMissing",p[p.TranscoderDied=8005]="TranscoderDied",p[p.InvalidCoreMappingFile=8006]="InvalidCoreMappingFile",p[p.MissingCoreMappingFile=8007]="MissingCoreMappingFile",p[p.SessionPeerNeverShowedUp=8008]="SessionPeerNeverShowedUp",p[p.TranscoderDownloading=8009]="TranscoderDownloading",p[p.PlatformCoreDownloading=8010]="PlatformCoreDownloading",p[p.PlatformCoreMappingFileMissingOrInvalid=8011]="PlatformCoreMappingFileMissingOrInvalid",p[p.RomMissing=8012]="RomMissing",p[p.SubscriptionRequired=8013]="SubscriptionRequired",(h=m||(m={}))[h.PauseGame=1]="PauseGame",h[h.ResumeGame=2]="ResumeGame"},65034:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(76403),i=n(86953),s=n(60316),a=n(1193),o=n(10692),l=n(54939),c=n(53425),d=n(42455),u=n(87902),p=n(8183),m=Object.defineProperty,h=Object.prototype.hasOwnProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.propertyIsEnumerable,v=(e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))h.call(t,n)&&v(e,n,t[n]);if(g)for(var n of g(t))y.call(t,n)&&v(e,n,t[n]);return e};const b={hubsListsByKey:{}},S={source:"",contentDirectoryID:[],hubs:[],isPending:!1,isPopulated:!1,error:null};function I(e,t){for(const n in e.hubsListsByKey){const r=e.hubsListsByKey[n];t&&r.source!==t||r.hubs.forEach((e=>{e.isStale=!0}))}}function Z(e,t){for(const n in e.hubsListsByKey)e.hubsListsByKey[n].hubs.forEach((e=>{e.sourceURI===t&&(e.isStale=!1)}))}const P=(0,r.oM)({name:"home",initialState:b,reducers:{reset:()=>b,markStaleRequested(e){for(const t in e.hubsListsByKey)e.hubsListsByKey[t].isPending=!1},markStale(e){I(e)},populateAllRequested(e,{payload:t}){const n=t.hubsSources.map((e=>e.key));Object.keys(e.hubsListsByKey).forEach((t=>{n.includes(t)||delete e.hubsListsByKey[t]}))},fetchRequested(e,{payload:t}){const{hubsSource:{key:n,source:r,contentDirectoryID:i,pinnedContentDirectoryID:s}}=t;let a=e.hubsListsByKey[n];a||(a=f(f({},S),{source:r})),(0,p.er)(a),a.contentDirectoryID=[...i],s&&(a.pinnedContentDirectoryID=[...s]),e.hubsListsByKey[n]=a},fetchSucceeded(e,{payload:t}){e.lastFetchedAt||(e.lastFetchedAt=Date.now());const n=e.hubsListsByKey[t.key];(0,p.vv)(n),n.hubs=t.data},fetchFailed(e,{payload:t}){let n=e.hubsListsByKey[t.key];n||(n=f(f({},S),{source:t.source,contentDirectoryID:[...t.contentDirectoryID]}),e.hubsListsByKey[t.key]=n),(0,p.VQ)(n,t.error)}},extraReducers:e=>{e.addCase(o.Z.actions.repopulateRangeSucceeded,((e,{payload:t})=>{Z(e,t.sourceURI)})),e.addCase(o.Z.actions.fetchAllSucceeded,((e,{payload:t})=>{Z(e,t.sourceURI)})),e.addCase(u.Z.actions.ended,((e,{payload:t})=>{I(e,t.source)})),e.addCase(l.Z.actions.sessionStopped,((e,{payload:t})=>{I(e,(0,i.Z)({serverIdentifier:t.server.machineIdentifier}))})),e.addCase(c.Z.actions.libraryScanUpdated,((e,{payload:t})=>{I(e,(0,i.Z)({serverIdentifier:t.server.machineIdentifier}))})),e.addCase(a.Z.actions.playedStatusUpdateSucceeded,((e,{payload:t})=>{I(e,(0,i.Z)({serverIdentifier:t.server.machineIdentifier,providerIdentifier:t.provider.identifier}))})),e.addCase(a.Z.actions.metadataProcessed,((e,{payload:t})=>{const{serverIdentifier:n,providerIdentifier:r}=(0,s.Z)(t.sourceURI);I(e,(0,i.Z)({serverIdentifier:n,providerIdentifier:r}))})),e.addCase(d.Z.actions.languageChanged,(()=>b))}})},95088:(e,t,n)=>{"use strict";var r,i;n.d(t,{F:()=>r}),(i=r||(r={})).ContinueWatching="home.continue",i.VodContinueWatching="movies.continueWatching",i.MergedContinueWatching="continueWatching",i.OnDeck="home.ondeck"},35828:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(76403);const i={isImporting:!1,isImported:!1,importError:null},s=(0,r.oM)({name:"importPlaylists",initialState:i,reducers:{reset:()=>i,importRequested(e,t){e.isImporting=!0,e.importError=null},importSucceeded(e,t){e.isImporting=!1,e.isImported=!0},importFailed(e,{payload:t}){e.isImporting=!1,e.importError=t.error}}})},61046:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(76403),i=n(8183);function s(e,t){e&&((0,i.er)(e),e.options=t)}function a(e){e&&(0,i.vv)(e)}function o(e,t,n){e&&((0,i.VQ)(e,n),e.options=t)}const l=(0,r.oM)({name:"libraryManagement",initialState:{hubs:{},publishedItems:{},settings:{}},reducers:{settingsFetchRequested(e,{payload:t}){e.settings[t.server.machineIdentifier]={isPending:!0,isPopulated:!1,isUpdating:!1,error:null}},settingsFetchSucceeded(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(n.isMergeRecentlyAddedEnabled=t.isMergeRecentlyAddedEnabled,(0,i.vv)(n))},settingsFetchFailed(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(0,i.VQ)(n,t.error)},settingsUpdateRequested(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(n.isUpdating=!0)},settingsUpdateSucceeded(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(n.isMergeRecentlyAddedEnabled=t.isMergeRecentlyAddedEnabled,n.isUpdating=!1)},settingsUpdateFailed(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(n.error=t.error,n.isUpdating=!1)},resetHubs(e,t){},hubsFetchRequested(e,{payload:t}){var n;e.hubs[t.sourceURI]={options:(null==(n=e.hubs[t.sourceURI])?void 0:n.options)||[],isPending:!0,isPopulated:!1,isResetting:!1,error:null}},hubsFetchSucceeded(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&((0,i.vv)(n),n.options=t.options)},hubsFetchFailed(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&(0,i.VQ)(n,t.error)},reorderRequested(e,{payload:t}){s(e.hubs[t.sourceURI],t.options)},reorderSucceeded(e,{payload:t}){a(e.hubs[t.sourceURI])},reorderFailed(e,{payload:t}){o(e.hubs[t.sourceURI],t.options,t.error)},removeRequested(e,{payload:t}){s(e.hubs[t.sourceURI],t.options)},removeSucceeded(e,{payload:t}){a(e.hubs[t.sourceURI])},removeFailed(e,{payload:t}){o(e.hubs[t.sourceURI],t.options,t.error)},resetRequested(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&(n.isResetting=!0)},resetSucceeded(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&(n.isResetting=!1,n.options=t.options)},resetFailed(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&(n.isResetting=!1)},promoteRequested(e,t){},promoteChanged(e,{payload:t}){const n=e.hubs[t.sourceURI];if(n){const e=n.options.find((e=>e.identifier===t.options.identifier));e&&(e.promotedToRecommended=t.options.promotedToRecommended,e.promotedToOwnHome=t.options.promotedToOwnHome,e.promotedToSharedHome=t.options.promotedToSharedHome)}},publishedFetchRequested(e,{payload:t}){e.publishedItems[t.sourceURI]={isPending:!0,isPopulated:!1,isUpdating:!1,error:null}},publishedFetchSucceeded(e,{payload:t}){const n=e.publishedItems[t.sourceURI];n&&(n.hub=t.hub,(0,i.vv)(n))},publishedFetchFailed(e,{payload:t}){const n=e.publishedItems[t.sourceURI];n&&(0,i.VQ)(n,t.error)},publishedUpdateRequested(e,{payload:t}){const n=e.publishedItems[t.sourceURI];n&&(n.isUpdating=!0)},publishedUpdateSucceeded(e,{payload:t}){const n=e.publishedItems[t.sourceURI];n&&(n.hub=t.hub,n.isUpdating=!1)},publishedUpdateFailed(e,{payload:t}){const n=e.publishedItems[t.sourceURI];n&&(n.error=t.error,n.isUpdating=!1)}}})},51912:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(49228);const s=(0,r.P1)(i.Z,(e=>e.libraryManagement))},98927:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(84936);function i(e){return r.Z.join(["/hubs/sections",e,"manage"])}},27726:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(76403),i=n(8183);const s={guideChannels:{channels:[],isPending:!1,isPopulated:!1,error:null}},a=(0,r.oM)({name:"livetv",initialState:s,reducers:{reset:()=>s,guideChannelsFetchRequested({guideChannels:e},t){(0,i.er)(e)},guideChannelsFetchSucceeded({guideChannels:e},{payload:t}){(0,i.vv)(e),e.channels=t.data},guideChannelsFetchFailed({guideChannels:e},{payload:t}){(0,i.VQ)(e,t.error)}}})},65805:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ee});var r=n(67294),i=n(89969),s=n(57358),a=n(88050),o=n(69605),l=n(48653),c=n(5562),d=n(74287),u=n(14700),p=n(9119),m=n(75534),h=n(62034),g=n(38104),y=n(19376),v=n(1193),f=n(92747),b=n(17331),S=n(46905),I=n(72071),Z=n(47124),P=n(86945),E=n(60179),M=n(83492),C=n(7338),w=n(17867),D=n(56141),T=n(22222),O=n(72194),x=n(98727),A=n(4524),N=n(59701),k=n(60316),L=n(18198),j=n(59315),R=n(19201),V=n(97120);const U=(0,O.Z)((0,T.P1)(D.Z,L.Z,x.Z,A.Z,(e=>e.servers),(0,N.Z)("providers"),((e,t,n,r,i,s)=>{const a=(o=e).count?Object.keys(o.items).map((e=>o.items[e])):[];var o;return a.length?a.map((e=>{var a;const{serverIdentifier:o,providerIdentifier:l}=(0,k.Z)(e.source),c=i.find((e=>{const t=r[e];return!!t&&t.machineIdentifier===o})),d=c?r[c]:V.Z,u=(d.isCloud?s:d.providers).find((e=>n[e].identifier===l)),p=u?n[u]:j.Z;return{metadataItem:e,metadataItemState:null!=(a=t[e.sourceURI])?a:{tempState:{},isStale:!1,isPending:!1,isPopulated:!1,error:null},server:(0,R.Z)(d),provider:p}})):[]})),(e=>e));var z=n(39537),B=n(96307),_=n(49327),F=n(44719),H=n(79687),W=Object.defineProperty,Q=Object.prototype.hasOwnProperty,G=Object.getOwnPropertySymbols,Y=Object.prototype.propertyIsEnumerable,q=(e,t,n)=>t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K=(e,t)=>{for(var n in t||(t={}))Q.call(t,n)&&q(e,n,t[n]);if(G)for(var n of G(t))Y.call(t,n)&&q(e,n,t[n]);return e};function $(e){if(!e.length)return!1;const[{metadataItem:t}]=e;return e.every((({metadataItem:e})=>t.type===e.type&&t.subtype===e.subtype))}function X(e){if(!e.length)return!1;const[{server:t,provider:n}]=e;return e.every((({server:e,provider:r})=>e.machineIdentifier===t.machineIdentifier&&r.identifier===n.identifier))}function J(e,t){return e.every((({server:e,provider:n,metadataItem:r,metadataItemState:i})=>(0,B.h$)({server:e,provider:n,stableUser:t,metadataItem:r,metadataItemState:i})||(0,B.Dd)({server:e,provider:n,stableUser:t,metadataItem:r,metadataItemState:i})))}function ee(e,t){return!!e.length&&!!$(e)&&le(e,t,B.J5)}const te=[z.pG.Movie,z.pG.Show,z.pG.Season,z.pG.Artist,z.pG.Album];function ne(e,t){if(e.length<2)return!1;if(!ee(e,t))return!1;if(!$(e))return!1;if(!X(e))return!1;const[{metadataItem:n}]=e;return te.includes(n.type)}function re(e,t){if(!e.length)return!1;if(!X(e))return!1;const[{provider:n}]=e;if(!(0,H.Z)(n))return!1;const r=e.reduce(((e,{metadataItem:t})=>{const n=function(e){const{type:t,subtype:n,playlistType:r}=e;switch(n){case z.y_.Photo:switch(t){case z.pG.Clip:return F.G.Photo}}switch((0,_.f)(t,n)||t){case z.pG.Playlist:if(!r)throw new Error("playlistType missing from playlist metadataItem");switch(r){case z.DD.Audio:case z.DD.Video:return F.G.AudioVideo;case z.DD.Photo:return F.G.Photo}break;case z.pG.Track:return F.G.AudioVideo;case z.pG.Episode:case z.pG.Movie:case z.pG.Clip:return F.G.AudioVideo;case z.pG.Photo:return F.G.Photo;case z.pG.Game:return F.G.Rom}throw new Error(`No known player type for ${t}`)}(t);return e.includes(n)||e.push(n),e}),[]);return!r.includes(F.G.Rom)&&!(r.length>1&&r.includes(F.G.Photo))&&ae(e,t,B.tW)}function ie(e,t){if(!e.length)return!1;const[{metadataItem:n}]=e;return!!e.every((({metadataItem:e})=>n.type===e.type))&&!!function(e){if(!e.length)return!1;const[{server:t,provider:n,metadataItem:r}]=e;return e.every((({server:e,provider:i,metadataItem:s})=>e.machineIdentifier===t.machineIdentifier&&i.identifier===n.identifier&&s.librarySectionID===r.librarySectionID))}(e)&&((r=n.type)===z.pG.Movie||r===z.pG.Show||r===z.pG.Season||r===z.pG.Episode||r===z.pG.Artist||r===z.pG.Album||r===z.pG.Track)&&le(e,t,B.qV);var r}function se(e,t){if(!e.length)return!1;const[{metadataItem:n}]=e;if(e.some((({metadataItem:e})=>e.type===z.pG.Playlist)))return!1;const r=(0,y.Z)(n.type,n.subtype);return!!e.every((({metadataItem:e})=>r===(0,y.Z)(e.type,e.subtype)))&&!!X(e)&&le(e,t,B.yq)}function ae(e,t,n){return!!e.length&&e.every((e=>n(K(K({},e),{stableUser:t}))))}function oe(e,t,n){return!!e.length&&e.some((e=>n(K(K({},e),{stableUser:t}))))}function le(e,t,n){return!!e.length&&!!X(e)&&ae(e,t,n)}var ce=n(20272),de=n(95368),ue=n(24754),pe=n(53863),me=n(35771),he=n(84977),ge=n(18183),ye=n(74048),ve=n(28750),fe=n(82832),be=n(19486);const Se={container:"PageHeaderMultiselectActions-container-5A7tEU PageHeader-pageHeader-WpvbJc",button:"PageHeaderMultiselectActions-button-1_G4Ux ActionButton-iconActionButton-3RWDHb ActionButton-actionButton-392O1X Button-button-1q7C1V Link-link-2WGTd7",icon:"PageHeaderMultiselectActions-icon-1qr3vQ",count:"PageHeaderMultiselectActions-count-HmMkQF",actions:"PageHeaderMultiselectActions-actions-33A4IS",deselect:"PageHeaderMultiselectActions-deselect-1lSYVp"};function Ie(e){return 1===e?(0,c.Z)("Are you sure you want to mark this item as unplayed?"):(0,c.Z)("Are you sure you want to mark these {selectedItemsCount} items as unplayed?",{selectedItemsCount:e})}function Ze(e,t){const n=1===e;return t?n?(0,c.Z)("Are you sure you want to remove this item?"):(0,c.Z)("Are you sure you want to remove these {selectedItemsCount} items?",{selectedItemsCount:e}):n?(0,c.Z)("Are you sure you want to delete this item from your filesystem?"):(0,c.Z)("Are you sure you want to delete these {selectedItemsCount} items from your filesystem?",{selectedItemsCount:e})}const Pe=["isPlayVisible","isMarkPlayedOrUnplayedVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isAddToCollectionVisible","isAddToPlaylistVisible","isEditVisible"];function Ee({className:e=Se.container}){const t=(0,i.I0)(),n=(0,i.v9)(D.Z),T=(0,i.v9)(U),O=(0,i.v9)(s.Z),x=(0,i.v9)(w.Z),A=function(e,t){return{isAddToCollectionVisible:ie(e,t),isAddToLibraryVisible:ae(e,t,B.FL),isAddToPlaylistVisible:se(e,t),isAnalyzeVisible:ae(e,t,B.Or),isDeleteVisible:ae(e,t,B.k7),isEditVisible:ee(e,t),isMarkPlayedOrUnplayedVisible:J(e,t),isMarkPlayedVisible:oe(e,t,B.Dd),isMarkUnplayedVisible:oe(e,t,B.h$),isMergeVisible:ne(e,t),isOptimizeVisible:ae(e,t,B.Jm),isPlayVisible:re(e,t),isRefreshVisible:ae(e,t,B.wc)}}(T,O),N=(0,r.useMemo)((()=>T.map((({metadataItem:e})=>e))),[T]),k=(0,r.useMemo)((()=>(0,l.Z)(N.map((({title:e})=>e)))),[N]),L=N[0].librarySectionID,j=function(e){const[t,...n]=e;if(1===e.length)return t.sourceURI;if(!e.every((e=>e.source===t.source)))return;const r=n.map((e=>e.ratingKey));return`${t.sourceURI},${r.join(",")}`}(N),R=(0,r.useMemo)((()=>{const e=T.map((({metadataItem:e})=>e.type));return e.filter(((t,n)=>e.indexOf(t)===n)).sort().join(",")}),[T]),V=(0,I.Z)({mode:"multiselect",type:R,itemCount:T.length}),z=n.count,_=(0,S.Z)(),F=(0,S.Z)(),H=(0,m.Z)(),W=(0,S.Z)(),Q=(0,m.Z)(),G=(0,S.Z)(),Y=(0,S.Z)(),q=(0,S.Z)(),K=(0,r.useCallback)((()=>{t(C.Z.actions.reset())}),[t]),$=(0,r.useCallback)((()=>{V({action:a.NH}),t(h.aM({legacyAction:h.Pe({serverEntityID:T[0].server.entityID,providerEntityID:T[0].provider.entityID}),items:T})),K()}),[t,T,K,V]),X=(0,r.useCallback)((()=>{V({action:a.cO}),t(h.aM({legacyAction:h.u9({serverEntityID:T[0].server.entityID,providerEntityID:T[0].provider.entityID}),items:T})),K()}),[t,T,K,V]),te=(0,r.useCallback)((()=>{V({action:a.pe}),t(h.aM({legacyAction:h.$e({serverEntityID:T[0].server.entityID,providerEntityID:T[0].provider.entityID}),items:T})),W.onClose(),K()}),[t,W,T,K,V]),le=(0,r.useCallback)((()=>{V({action:a.PR}),t(h.aM({legacyAction:h.$z({serverEntityID:T[0].server.entityID,providerEntityID:T[0].provider.entityID}),items:T})),W.onClose(),K()}),[t,W,T,K,V]),Ee=(0,r.useCallback)((()=>{V({action:a.DK}),T.forEach((({metadataItem:e})=>{t(v.Z.actions.repopulateRequested({sourceURI:e.sourceURI}))})),K()}),[t,T,K,V]),Me=(0,r.useCallback)((()=>{V({action:a.uf}),K()}),[K,V]),Ce=(0,r.useCallback)((()=>{V({action:a.dm}),t(h.aM({legacyAction:h.fR(),items:T})),K()}),[t,T,K,V]),we=(0,r.useCallback)((()=>{V({action:a.FH}),t(h.aM({legacyAction:h.ZP(),items:T})),W.onClose(),K()}),[t,W,T,K,V]),De=(0,r.useCallback)((()=>{V({action:a.yY}),t(h.aM({legacyAction:h.hM({options:{skipRedirect:!0}}),items:T})),K()}),[t,T,K,V]),Te=(0,r.useCallback)((()=>{V({action:a._R}),t(h.aM({legacyAction:h.mP(),items:T})),W.onClose(),K()}),[t,W,T,K,V]),Oe=(0,r.useCallback)((()=>{V({action:a.t7}),t(h.aM({legacyAction:h.PP(),items:T})),W.onClose(),K()}),[t,W,T,K,V]),xe=(0,r.useCallback)((()=>{V({action:a.RG}),t(h.aM({legacyAction:h.H3(),items:T})),W.onClose(),K()}),[t,W,T,K,V]),Ae=(0,r.useCallback)((()=>{const e=A.isMarkPlayedVisible;V({action:e?a.qe:a.h3}),T.forEach((({metadataItem:n,server:r,provider:i})=>{t(v.Z.actions.playedStatusUpdateRequested({server:r,provider:i,sourceURI:n.sourceURI,ratingKey:n.ratingKey,played:e}))})),K()}),[t,A.isMarkPlayedVisible,T,K,V]),Ne=(0,r.useCallback)((({targetServer:e,targetProvider:n,targetLibrarySectionID:r,targetLibraryType:i})=>{V({action:a.Ao}),T.forEach((({metadataItem:s,server:a,provider:o})=>{t(v.Z.actions.addToLibraryRequested({targetServer:e,targetProvider:n,targetLibrarySectionID:r,targetLibraryType:i,server:a,provider:o,metadataItem:s}))})),K()}),[t,T,K,V]),ke=(0,r.useCallback)((()=>{t(C.Z.actions.reset())}),[t]);if((0,r.useEffect)((()=>()=>{K()}),[K]),!x)return null;const Le=(0,ce.gQ)(A).every((([e,t])=>"isMarkPlayedVisible"===e||"isMarkUnplayedVisible"===e||!t)),je=(0,ce.gQ)(A).some((([e,t])=>!Pe.includes(e)&&t)),Re=T.every((({metadataItem:e})=>e.remoteMedia));return r.createElement(ue.Z,{className:e},r.createElement("div",{className:Se.count},r.createElement(me.Z,{className:Se.icon}),(0,c.Z)("{count} items selected",{count:z})),Le?r.createElement("div",{className:Se.actions},(0,c.Z)("No actions available for this selection")):r.createElement("div",{className:Se.actions},A.isPlayVisible?r.createElement(f.Z,{className:Se.button,title:(0,c.Z)("Play"),icon:be.Z,onPress:$}):null,A.isMarkPlayedOrUnplayedVisible?r.createElement(f.Z,{className:Se.button,title:A.isMarkPlayedVisible?(0,c.Z)("Mark as Played"):(0,c.Z)("Mark as Unplayed"),icon:A.isMarkPlayedVisible?ye.Z:ve.Z,onPress:_.onOpen}):null,(A.isAddToPlaylistVisible||A.isAddToCollectionVisible)&&j?r.createElement(r.Fragment,null,r.createElement(f.Z,{id:Q,icon:he.Z,title:(0,c.Z)("Add to..."),onPress:G.onToggle}),r.createElement(d.Z,{className:Se.menu,isOpen:G.isOpen,target:Q,onMenuClose:G.onClose},r.createElement(E.Z,{sourceURI:j,mediaType:(0,y.Z)(N[0].type,N[0].subtype),server:T[0].server,provider:T[0].provider,metadataType:N[0].type,contentDirectoryID:L,onAddToCollectionPress:A.isAddToCollectionVisible?Y.onOpen:void 0,onAddToPlaylistPress:A.isAddToPlaylistVisible?q.onOpen:void 0,onSaveCollectionPress:Ee,onSavePlaylistPress:Me,onMenuClose:G.onClose})),A.isAddToPlaylistVisible&&j?r.createElement(M.Z,{isOpen:q.isOpen,mediaType:(0,y.Z)(N[0].type,N[0].subtype),sourceURI:j,defaultDestinationSource:N[0].source,defaultTitle:k,onSaveSuccess:Me,onModalClose:q.onClose}):null,A.isAddToCollectionVisible&&j&&L?r.createElement(P.Z,{isOpen:Y.isOpen,metadataType:N[0].type,sourceURI:j,contentDirectoryID:L,defaultTitle:k,onModalClose:Y.onClose,onSaveSuccess:Ee}):null):null,A.isEditVisible?r.createElement(f.Z,{className:Se.button,title:(0,c.Z)("Edit"),icon:ge.Z,onPress:Ce}):null,je?r.createElement(f.Z,{id:H,className:Se.button,title:(0,c.Z)("More"),icon:fe.Z,onPress:W.onToggle}):null,r.createElement(de.Z,{isOpen:_.isOpen,metricsPage:A.isMarkPlayedVisible?o.lP:o.Md,title:A.isMarkPlayedVisible?(0,c.Z)("Mark as Played"):(0,c.Z)("Mark as Unplayed"),message:A.isMarkPlayedVisible?(Ve=T.length,1===Ve?(0,c.Z)("Are you sure you want to mark this item as played?"):(0,c.Z)("Are you sure you want to mark these {selectedItemsCount} items as played?",{selectedItemsCount:Ve})):Ie(T.length),onConfirm:Ae,onCancel:_.onClose}),r.createElement(d.Z,{target:H,isOpen:W.isOpen,onMenuClose:W.onClose},A.isPlayVisible?r.createElement(u.Z,{onPress:X},(0,c.Z)("Shuffle")):null,A.isPlayVisible?r.createElement(u.Z,{onPress:te},(0,c.Z)("Play Next")):null,A.isPlayVisible?r.createElement(u.Z,{onPress:le},(0,c.Z)("Add to Queue")):null,A.isRefreshVisible?r.createElement(u.Z,{onPress:xe},(0,c.Z)("Refresh Metadata")):null,A.isAnalyzeVisible?r.createElement(u.Z,{onPress:Te},(0,c.Z)("Analyze")):null,A.isOptimizeVisible?r.createElement(u.Z,{onPress:we},(0,c.Z)("Optimize...")):null,A.isMergeVisible?r.createElement(u.Z,{onPress:Oe},(0,c.Z)("Merge")):null,A.isAddToLibraryVisible?r.createElement(g.Z,{onAddToLibrary:Ne}):null,A.isDeleteVisible?r.createElement(u.Z,{kind:Re?Z.Z.Default:Z.Z.Danger,onPress:(0,p.Z)(F.onOpen,W.onClose)},Re?(0,c.Z)("Remove"):(0,c.Z)("Delete")):null),r.createElement(de.Z,{isOpen:F.isOpen,metricsPage:o.$e,title:Re?(0,c.Z)("Remove"):(0,c.Z)("Delete"),message:Ze(z,Re),onConfirm:De,onCancel:F.onClose})),r.createElement("div",{className:Se.deselect},r.createElement(b.Z,{onPress:ke},r.createElement(pe.Z,{className:Se.icon}),(0,c.Z)("Deselect All"))));var Ve}},56658:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294),i=n(89969),s=n(7338),a=n(56141),o=n(32765);function l({isHovered:e,metadataItem:t,metadataItemState:n}){const l=(0,i.I0)(),c=t?s.T.getIdentity(t):void 0,d=function(e,t,n,s,a=!1){const l=(0,i.I0)(),c=(0,i.v9)(t),d=(0,r.useMemo)((()=>!!s&&!!c.items[s]),[s,c.items]),u=!!c.count,{isSelectionRangeActive:p,isSelectionRangeComplete:m,checkItemInRange:h,onRangeStart:g,onRangeEnd:y,onRangeClear:v,onRangeSelect:f}=(0,o.r5)(),b=(0,r.useCallback)((e=>{l(n.selectItems({items:e}))}),[n,l]),S=(0,r.useCallback)((e=>{l(n.deselectItems({items:e}))}),[n,l]),I=(0,r.useCallback)((()=>{e&&(m?f(b,S):d?(S([e]),v()):(b([e]),g(e)))}),[m,d,e,S,v,f,g,b]);return(0,r.useEffect)((()=>{e&&p&&u&&a&&y(e)}),[a,p,u,e,y]),{isSelectionActive:u,isSelected:d,isInSelectionRange:p&&h(e),onToggleSelect:I}}(t,a.Z,s.Z.actions,c,e),u=null==n?void 0:n.isDeleted;return(0,r.useEffect)((()=>{t&&u&&d.isSelected&&l(s.Z.actions.deselectItems({items:[t]}))}),[t,u,d,l,d.isSelected]),d}},7338:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u,T:()=>c});var r=n(76403),i=Object.defineProperty,s=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const c=function(e,t){const n={count:0,items:{}};return{getDefaultMultiselectState:()=>n,getIdentity:t,reducers:{reset(e){let t=e;return t=n,t},selectItems(e,{payload:n}){const r=e,{items:i}=n;i.forEach((e=>{const n=t(e);r.items[n]||(r.items[n]=e,r.count+=1)}))},deselectItems(e,{payload:n}){const r=e,{items:i}=n;i.forEach((e=>{const n=t(e);r.items[n]&&(delete r.items[n],r.count-=1)}))}}}}(0,(e=>e.sourceURI)),d=c.getDefaultMultiselectState(),u=(0,r.oM)({name:"metadataMultiselect",initialState:d,reducers:((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(a)for(var n of a(t))o.call(t,n)&&l(e,n,t[n]);return e})({},c.reducers)})},17867:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(56141);const s=(0,r.P1)(i.Z,(e=>!!e.count))},56141:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(49228);const s=(0,r.P1)(i.Z,(e=>e.metadataMultiselect))},72050:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(17524),i=n(79687);const s=function(e){return!!(0,i.Z)(e)||!!r.wB(e.identifier,r.xF)}},5623:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p,g:()=>d});var r=n(76403);var i=n(54466),s=Object.defineProperty,a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const d=(0,i.Z)((e=>e),(e=>{var t,n,r;const{data:i}=e,s=i.MediaContainer;return{items:null!=(t=null==s?void 0:s.Metadata)?t:[],totalSize:null!=(n=null==s?void 0:s.totalSize)?n:0,offset:null!=(r=null==s?void 0:s.offset)?r:0}})),u=d.getDefaultPaginatedState(),p=(0,r.oM)({name:"playHistory",initialState:u,reducers:((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e})({},d.reducers)})},96051:(e,t,n)=>{"use strict";var r,i;n.d(t,{F:()=>r}),(i=r||(r={})).LibrarySectionID="librarySectionID",i.AccountID="accountID",i.MetadataItemID="metadataItemID",i.ViewedAt="viewedAt"},87902:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(76403).oM)({name:"players",initialState:{},reducers:{ended(e,t){}}})},44719:(e,t,n)=>{"use strict";var r,i,s,a;n.d(t,{G:()=>s}),(i=r||(r={})).BottomLeft="bottom-left",i.TopLeft="top-left",i.None="none",(a=s||(s={})).AudioVideo="audioVideo",a.Photo="photo",a.Rom="rom"},8824:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(47479);function i(e,t){var n;let r=!1;for(let i=0;i<e.length;i++){const s=e[i];let a=null!=(n=s.value)?n:s;Math.abs(a)<.06&&(a=0);const o=t.values.get(i),l=o||a;a!==o&&l?(r=!0,t.values.set(i,a),t.changed.add(i)):t.changed.delete(i)}return r}function s(e){if(!r.Z.hasGamepads)return()=>{};const t=new Map,n=()=>{s=window.requestAnimationFrame(n);for(const n of window.navigator.getGamepads()){if(!(null==n?void 0:n.connected))continue;let r=t.get(n.index);if(r||t.set(n.index,r={axes:{changed:new Set,values:new Map},buttons:{changed:new Set,values:new Map},timestamp:0}),r.timestamp!==n.timestamp){const t=i(n.axes,r.axes),s=i(n.buttons,r.buttons);r.timestamp=n.timestamp,(t||s)&&e(n,r.axes,r.buttons)}}};let s=window.requestAnimationFrame(n);return()=>{t.clear(),window.cancelAnimationFrame(s)}}},63676:(e,t,n)=>{"use strict";function r(e,t){const n=new Set;function r(r){if(null==t?void 0:t(r))return;if(r.metaKey||r.ctrlKey||(r.stopImmediatePropagation(),r.preventDefault()),r.repeat)return;const i="keydown"===r.type;i?n.add(r.code):n.delete(r.code),e(r.code,i,n)}return window.addEventListener("keydown",r,!0),window.addEventListener("keyup",r,!0),()=>{window.removeEventListener("keydown",r,!0),window.removeEventListener("keyup",r,!0)}}n.d(t,{Z:()=>r})},14540:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(93966),i=n(84734);function s(){const e=(0,r.DB)("appModel").get("deviceSettings").get("debugLevel");return e===i.Z.ENABLED||e===i.Z.VERBOSE}},10994:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(76403),i=n(86953),s=n(72759),a=n(39537),o=n(1193),l=n(96147),c=n(54939),d=n(87902),u=n(8183),p=Object.defineProperty,m=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))m.call(t,n)&&y(e,n,t[n]);if(h)for(var n of h(t))g.call(t,n)&&y(e,n,t[n]);return e};const f={descendantListSourceURI:void 0,siblingListSourceURI:void 0,popularLeavesSourceURI:void 0,extrasSourceURI:void 0,metadata:{metadataItem:void 0,isMediaFileUnavailable:!1,isStale:!1,isPending:!1,isPopulated:!1,error:null},related:{hubs:[],isPending:!1,isPopulated:!1,error:null},augmented:{hubs:[],isPending:!1,isPopulated:!1,error:null}};function b(e,t,n){var r;const{type:a,Context:o}=n;a===s.Ij&&(0,i.Z)({serverIdentifier:t.machineIdentifier,key:o.key})===(null==(r=e.metadata.metadataItem)?void 0:r.sourceURI)&&(o.exists&&o.accessible?e.metadata.isMediaFileUnavailable=!1:!1!==o.exists&&!1!==o.accessible||(e.metadata.isMediaFileUnavailable=!0))}const S=(0,r.oM)({name:"prePlay",initialState:f,reducers:{reset:e=>v(v({},f),{siblingListSourceURI:e.siblingListSourceURI}),metadataItemFetchRequested(e,t){(0,u.er)(e.metadata)},metadataItemFetchSucceeded(e,{payload:t}){(0,u.vv)(e.metadata),e.descendantListSourceURI=t.descendantListSourceURI,e.siblingListSourceURI=t.siblingListSourceURI,e.popularLeavesSourceURI=t.popularLeavesSourceURI,e.extrasSourceURI=t.extrasSourceURI,e.metadata.metadataItem=t.metadataItem,e.metadata.isStale=!1},metadataItemFetchFailed(e,{payload:t}){(0,u.VQ)(e.metadata,t.error)},metadataItemRepopulateRequested(e,t){(0,u.er)(e.metadata)},relatedHubsFetchRequested(e,t){(0,u.er)(e.related)},relatedHubsFetchSucceeded(e,{payload:t}){(0,u.vv)(e.related),e.related.hubs=t.hubs},relatedHubsFetchFailed(e,{payload:t}){(0,u.VQ)(e.related,t.error)},augmentedHubsFetchRequested(e,t){(0,u.er)(e.augmented)},augmentedHubsFetchSucceeded(e,{payload:t}){(0,u.vv)(e.augmented),e.augmented.hubs=t.hubs},augmentedHubsFetchFailed(e,{payload:t}){(0,u.VQ)(e.augmented,t.error)}},extraReducers:e=>{e.addCase(l.Z.actions.activityUpdated,((e,{payload:t})=>{b(e,t.server,t.activity)})),e.addCase(l.Z.actions.activityFinished,((e,{payload:t})=>{b(e,t.server,t.activity)})),e.addCase(d.Z.actions.ended,((e,{payload:t})=>{var n;(null==(n=e.metadata.metadataItem)?void 0:n.source)===t.source&&(e.metadata.isStale=!0)})),e.addCase(c.Z.actions.sessionStopped,((e,{payload:t})=>{var n;const r=(0,i.Z)({serverIdentifier:t.server.machineIdentifier});(null==(n=e.metadata.metadataItem)?void 0:n.source)===r&&(e.metadata.isStale=!0)})),e.addCase(o.Z.actions.playedStatusUpdateSucceeded,((e,{payload:t})=>{var n;const r=(0,i.Z)({serverIdentifier:t.server.machineIdentifier,providerIdentifier:t.provider.identifier});(null==(n=e.metadata.metadataItem)?void 0:n.source)===r&&(e.metadata.isStale=!0)})),e.addCase(o.Z.actions.created,((e,{payload:t})=>{const n=e.metadata.metadataItem,r=null==n?void 0:n.sourceURI,{parentSourceURI:i,rootSourceURI:s}=t;r&&(r===i||r===s&&(null==n?void 0:n.skipChildren))&&(e.metadata.isStale=!0)})),e.addCase(o.Z.actions.metadataProcessed,((e,{payload:t})=>{var n,r;if((null==(n=e.metadata.metadataItem)?void 0:n.type)!==a.pG.Artist)return;const i=null==(r=e.metadata.metadataItem)?void 0:r.sourceURI,{parentSourceURI:s}=t;i&&i===s&&(e.metadata.isStale=!0)})),e.addCase(o.Z.actions.deleted,((e,{payload:t})=>{var n;const r=null==(n=e.metadata.metadataItem)?void 0:n.sourceURI,{parentSourceURI:i,rootSourceURI:s}=t;!r||r!==i&&r!==s||(e.metadata.isStale=!0)})),e.addCase(o.Z.actions.repopulateCanceled,((e,t)=>{e.metadata.isStale=!1}))}})},55606:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(49228);const s=(0,r.P1)(i.Z,(e=>e.prePlay))},49228:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(22222),i=n(94590);const s=(0,r.P1)(i.Z,(e=>e.features))},1346:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(62859),i=n(17524),s=n(35589),a=n(59315),o=n(97120),l=n(36996);const c=function(){const e=(0,r.$B)({path:[l.Z.playHistory,...l.Z.playlist,...l.Z.prePlay,l.Z.watchNow,l.Z.providerSettings,l.Z.media,l.Z.serverSetup,l.Z.serverUpdate,l.Z.transientPrePlay],exact:!0}),t=null==e?void 0:e.params,n=null==t?void 0:t.machineIdentifier,c=null==t?void 0:t.providerIdentifier;return n||c?{machineIdentifier:n||s.X,providerIdentifier:c?decodeURIComponent(c):i.Y3}:{machineIdentifier:o.Z.machineIdentifier,providerIdentifier:a.Z.identifier}}},82855:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(76403),i=n(8183);const s={secret:{secret:void 0,provisioningUri:void 0,isPending:!1,isPopulated:!1,error:null},toggle:{isPending:!1,isPopulated:!1,error:null},recoveryCodes:{isPending:!1,isPopulated:!1,error:null},sendRecoveryCode:{isPending:!1,isPopulated:!1,error:null},codes:[]},a=(0,r.oM)({name:"twoFactorAuth",initialState:s,reducers:{reset:()=>s,resetToggle(e){e.toggle=s.toggle},resetSendRecoveryCode(e){e.sendRecoveryCode=s.sendRecoveryCode},createSecretRequested(e,t){(0,i.er)(e.secret)},createSecretSucceeded(e,{payload:t}){(0,i.vv)(e.secret),e.secret.provisioningUri=t.provisioningUri,e.secret.secret=t.secret},createSecretFailed(e,{payload:t}){(0,i.VQ)(e.secret,t.error)},toggleRequested(e,t){(0,i.er)(e.toggle)},toggleSucceeded(e,{payload:t}){(0,i.vv)(e.toggle),t.enabled&&(e.codes=t.codes)},toggleFailed(e,{payload:t}){(0,i.VQ)(e.toggle,t.error)},generateRecoveryCodesRequested(e,t){(0,i.er)(e.recoveryCodes)},generateRecoveryCodesSucceeded(e,{payload:t}){(0,i.vv)(e.recoveryCodes),e.codes=t.codes},generateRecoveryCodesFailed(e,{payload:t}){(0,i.VQ)(e.recoveryCodes,t.error)},sendRecoveryCodeRequested(e){(0,i.er)(e.sendRecoveryCode),e.sendRecoveryCode.isPopulated=!1},sendRecoveryCodeSucceeded(e){(0,i.vv)(e.sendRecoveryCode)},sendRecoveryCodeFailed(e,{payload:t}){(0,i.VQ)(e.sendRecoveryCode,t.error),e.sendRecoveryCode.isPopulated=!1}}})},67695:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(76403),i=n(8183);const s={isPending:!1,isPopulated:!1,error:null},a=(0,r.oM)({name:"verificationEmail",initialState:s,reducers:{reset:()=>s,sendVerificationEmailRequested(e){(0,i.er)(e),e.isPopulated=!1},sendVerificationEmailSucceeded(e){(0,i.vv)(e)},sendVerificationEmailFailed(e,{payload:t}){(0,i.VQ)(e,t.error),e.isPopulated=!1}}})},81731:(e,t,n)=>{"use strict";n.d(t,{D7:()=>T,ZP:()=>O});var r=n(34857),i=n(76403),s=n(34007),a=n(79932),o=n(339),l=n(91135),c=n(73862),d=n(24974),u=n(44719),p=n(61201),m=n(97189),h=n(89571),g=n(82150),y=n(94318),v=n(99604),f=n(6638),b=Object.defineProperty,S=Object.prototype.hasOwnProperty,I=Object.getOwnPropertySymbols,Z=Object.prototype.propertyIsEnumerable,P=(e,t,n)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=(e,t)=>{for(var n in t||(t={}))S.call(t,n)&&P(e,n,t[n]);if(I)for(var n of I(t))Z.call(t,n)&&P(e,n,t[n]);return e};function*M({payload:e}){const{metadataKey:t,channel:n,prePlayRouteParams:i,server:s,provider:a,metricsPage:o,metricsContextTuple:l}=e;n?yield(0,r.RE)(C,s,a,n,o,l):t?yield(0,r.RE)(w,s,a,t,o,l,i):(0,m.Z)("home",{},!0)}function*C(e,t,n,i,a){try{yield(0,y.Z)((0,s.lS)({serverEntityID:e.entityID,providerEntityID:t.entityID,metricsPage:i,metricsProperties:{setting:o.Y,contextTuple:a},options:{type:l.pX,identifier:n}})),yield(0,r.RE)(D)}catch(e){}finally{(0,m.Z)("home",{},!0)}}function*w(e,t,n,i,s,l={}){var d;const u=E(E({},l),{autoplay:void 0});let v;try{const l=(yield(0,r.RE)(h.Z.get,n,{server:e,provider:t})).data.MediaContainer,{Metadata:b=[]}=l,P=((e,t)=>{var n={};for(var r in e)S.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&I)for(var r of I(e))t.indexOf(r)<0&&Z.call(e,r)&&(n[r]=e[r]);return n})(l,["Metadata"]),[E]=b;if(!E)return;const M=(0,g.Z)({server:e,provider:t,data:E,container:P});v=M.metadataItem;const C=M.metadataItemStates[v.sourceURI];yield(0,y.Z)((0,c.redispatchLegacyMetadataAction)({containerServer:e,containerProvider:t,server:e,provider:t,metadataItem:v,metadataItemState:C,metricsPage:i,legacyAction:a.wA({metricsProperties:{setting:o.Y,contextTuple:s}})})),yield(0,r.RE)(D)}catch(e){}finally{const r=null==(d=(0,f.Z)(e,t,n,u,(null==v?void 0:v.isPlaylist)?v.playlistType:void 0))?void 0:d.replace("#!","");r?p.Z.replace(r):(0,m.Z)("home",{},!0)}}function*D(){let e=0;for(;!((yield(0,v.Z)((0,d.Z)(u.G.AudioVideo,"isOpen")))||e>2e3);)e+=100,yield(0,r.gw)(100)}const T=(0,i.PH)("watchNowSaga/watchNow");function*O(){yield(0,r.A7)(T.type,M)}},61201:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(90071).q_)({hashType:"hashbang"})},94590:(e,t,n)=>{"use strict";function r(e){return function(e){return!!e.v4}(e)?e.v4:e}n.d(t,{Z:()=>r})},97189:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(61201),i=n(52448);const s=function(e,t={},n={},s=!1){const a=(0,i.Z)(e,t,n);s?r.Z.replace(a):r.Z.push(a)}},36996:(e,t,n)=>{"use strict";n.d(t,{V:()=>r,Z:()=>i});const r="/settings",i={account:`${r}/account`,accountPlexTv:"/account",announcements:"/announcements",devices:`${r}/devices/:deviceTypeID?`,downloads:"/downloads",firstRunExperience:"/client-setup",home:["","/dashboard"],info:"/info",login:"/login",logout:"/logout",logs:"/logs",media:"/media/:machineIdentifier?/:providerIdentifier",onlineMediaSources:`${r}/online-media-sources`,playHistory:"/server/:machineIdentifier/playHistory",playlist:["/server/:machineIdentifier/playlist","/server/:machineIdentifier/album","/server/:machineIdentifier/provider/:providerIdentifier/playlist","/server/:machineIdentifier/provider/:providerIdentifier/album","/provider/:providerIdentifier/playlist"],prePlay:["/server/:machineIdentifier/details","/server/:machineIdentifier/provider/:providerIdentifier/details","/provider/:providerIdentifier/details"],providerSettings:"/provider/:providerIdentifier/settings",search:"/search",serverDownloadMessage:"/get-plex-media-server",serverSettingsStatusSync:`${r}/server/:machineIdentifier/status/sync/:deviceID?`,serverSettings:`${r}/server/:machineIdentifier/:settingsSection/:settingsGroup`,serverSettingsPMS:`${r}/server/:machineIdentifier`,serverSetup:"/setup/:machineIdentifier?",serverUpdate:"/server/:machineIdentifier/update",signUp:"/signUp",transientPrePlay:"/transient/provider/:providerIdentifier/details",userSharingSettings:`${r}/users-sharing/:userID`,usersSharing:`${r}/users-sharing`,watchNow:"/provider/:providerIdentifier/watch-now",webhooks:`${r}/webhooks`,webSettings:`${r}/web/:settingsSubset?`}},52448:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(62859),i=n(84936),s=n(36996);const a=function(e,t={},n={}){const a=s.Z[e],o=Array.isArray(a)?a[0]:a;return i.Z.join((0,r.Gn)(o,t),n)}},38204:(e,t,n)=>{"use strict";var r,i;n.d(t,{Z:()=>s}),(i=r||(r={})).Unidentified="Unidentified",i.Alt="Alt",i.AltGraph="AltGraph",i.CapsLock="CapsLock",i.Control="Control",i.Fn="Fn",i.FnLock="FnLock",i.Hyper="Hyper",i.Meta="Meta",i.NumLock="NumLock",i.ScrollLock="ScrollLock",i.Shift="Shift",i.Super="Super",i.Symbol="Symbol",i.SymbolLock="SymbolLock",i.Enter="Enter",i.Tab="Tab",i.ArrowDown="ArrowDown",i.ArrowLeft="ArrowLeft",i.ArrowRight="ArrowRight",i.ArrowUp="ArrowUp",i.End="End",i.Home="Home",i.PageDown="PageDown",i.PageUp="PageUp",i.Backspace="Backspace",i.Clear="Clear",i.Copy="Copy",i.CrSel="CrSel",i.Cut="Cut",i.Delete="Delete",i.EraseEof="EraseEof",i.ExSel="ExSel",i.Insert="Insert",i.Paste="Paste",i.Redo="Redo",i.Undo="Undo",i.Accept="Accept",i.Again="Again",i.Attn="Attn",i.Cancel="Cancel",i.ContextMenu="ContextMenu",i.Escape="Escape",i.Execute="Execute",i.Find="Find",i.Finish="Finish",i.Help="Help",i.Pause="Pause",i.Play="Play",i.Props="Props",i.Select="Select",i.ZoomIn="ZoomIn",i.ZoomOut="ZoomOut",i.BrightnessDown="BrightnessDown",i.BrightnessUp="BrightnessUp",i.Eject="Eject",i.LogOff="LogOff",i.Power="Power",i.PowerOff="PowerOff",i.PrintScreen="PrintScreen",i.Hibernate="Hibernate",i.Standby="Standby",i.WakeUp="WakeUp",i.AllCandidates="AllCandidates",i.Alphanumeric="Alphanumeric",i.CodeInput="CodeInput",i.Compose="Compose",i.Convert="Convert",i.Dead="Dead",i.FinalMode="FinalMode",i.GroupFirst="GroupFirst",i.GroupLast="GroupLast",i.GroupNext="GroupNext",i.GroupPrevious="GroupPrevious",i.ModeChange="ModeChange",i.NextCandidate="NextCandidate",i.NonConvert="NonConvert",i.PreviousCandidate="PreviousCandidate",i.Process="Process",i.SingleCandidate="SingleCandidate",i.HangulMode="HangulMode",i.HanjaMode="HanjaMode",i.JunjaMode="JunjaMode",i.Eisu="Eisu",i.Hankaku="Hankaku",i.Hiragana="Hiragana",i.HiraganaKatakana="HiraganaKatakana",i.KanaMode="KanaMode",i.KanjiMode="KanjiMode",i.Katakana="Katakana",i.Romaji="Romaji",i.Zenkaku="Zenkaku",i.ZenkakuHanaku="ZenkakuHanaku",i.F1="F1",i.F2="F2",i.F3="F3",i.F4="F4",i.F5="F5",i.F6="F6",i.F7="F7",i.F8="F8",i.F9="F9",i.F10="F10",i.F11="F11",i.F12="F12",i.F13="F13",i.F14="F14",i.F15="F15",i.F16="F16",i.F17="F17",i.F18="F18",i.F19="F19",i.F20="F20",i.Soft1="Soft1",i.Soft2="Soft2",i.Soft3="Soft3",i.Soft4="Soft4",i.AppSwitch="AppSwitch",i.Call="Call",i.Camera="Camera",i.CameraFocus="CameraFocus",i.EndCall="EndCall",i.GoBack="GoBack",i.GoHome="GoHome",i.HeadsetHook="HeadsetHook",i.LastNumberRedial="LastNumberRedial",i.Notification="Notification",i.MannerMode="MannerMode",i.VoiceDial="VoiceDial",i.ChannelDown="ChannelDown",i.ChannelUp="ChannelUp",i.MediaFastForward="MediaFastForward",i.MediaPause="MediaPause",i.MediaPlay="MediaPlay",i.MediaPlayPause="MediaPlayPause",i.MediaRecord="MediaRecord",i.MediaRewind="MediaRewind",i.MediaStop="MediaStop",i.MediaTrackNext="MediaTrackNext",i.MediaTrackPrevious="MediaTrackPrevious",i.AudioBalanceLeft="AudioBalanceLeft",i.AudioBalanceRight="AudioBalanceRight",i.AudioBassDown="AudioBassDown",i.AudioBassBoostDown="AudioBassBoostDown",i.AudioBassBoostToggle="AudioBassBoostToggle",i.AudioBassBoostUp="AudioBassBoostUp",i.AudioBassUp="AudioBassUp",i.AudioFaderFront="AudioFaderFront",i.AudioFaderRear="AudioFaderRear",i.AudioSurroundModeNext="AudioSurroundModeNext",i.AudioTrebleDown="AudioTrebleDown",i.AudioTrebleUp="AudioTrebleUp",i.AudioVolumeDown="AudioVolumeDown",i.AudioVolumeMute="AudioVolumeMute",i.AudioVolumeUp="AudioVolumeUp",i.MicrophoneToggle="MicrophoneToggle",i.MicrophoneVolumeDown="MicrophoneVolumeDown",i.MicrophoneVolumeMute="MicrophoneVolumeMute",i.MicrophoneVolumeUp="MicrophoneVolumeUp",i.TV="TV",i.TV3DMode="TV3DMode",i.TVAntennaCable="TVAntennaCable",i.TVAudioDescription="TVAudioDescription",i.TVAudioDescriptionMixDown="TVAudioDescriptionMixDown",i.TVAudioDescriptionMixUp="TVAudioDescriptionMixUp",i.TVContentsMenu="TVContentsMenu",i.TVDataService="TVDataService",i.TVInput="TVInput",i.TVInputComponent1="TVInputComponent1",i.TVInputComponent2="TVInputComponent2",i.TVInputComposite1="TVInputComposite1",i.TVInputComposite2="TVInputComposite2",i.TVInputHDMI1="TVInputHDMI1",i.TVInputHDMI2="TVInputHDMI2",i.TVInputHDMI3="TVInputHDMI3",i.TVInputHDMI4="TVInputHDMI4",i.TVInputVGA1="TVInputVGA1",i.TVMediaContext="TVMediaContext",i.TVNetwork="TVNetwork",i.TVNumberEntry="TVNumberEntry",i.TVPower="TVPower",i.TVRadioService="TVRadioService",i.TVSatellite="TVSatellite",i.TVSatelliteBS="TVSatelliteBS",i.TVSatelliteCS="TVSatelliteCS",i.TVSatelliteToggle="TVSatelliteToggle",i.TVTerrestrialAnalog="TVTerrestrialAnalog",i.TVTerrestrialDigital="TVTerrestrialDigital",i.TVTimer="TVTimer",i.AVRInput="AVRInput",i.AVRPower="AVRPower",i.ColorF0Red="ColorF0Red",i.ColorF1Green="ColorF1Green",i.ColorF2Yellow="ColorF2Yellow",i.ColorF3Blue="ColorF3Blue",i.ColorF4Grey="ColorF4Grey",i.ColorF5Brown="ColorF5Brown",i.ClosedCaptionToggle="ClosedCaptionToggle",i.Dimmer="Dimmer",i.DisplaySwap="DisplaySwap",i.DVR="DVR",i.Exit="Exit",i.FavoriteClear0="FavoriteClear0",i.FavoriteClear1="FavoriteClear1",i.FavoriteClear2="FavoriteClear2",i.FavoriteClear3="FavoriteClear3",i.FavoriteRecall0="FavoriteRecall0",i.FavoriteRecall1="FavoriteRecall1",i.FavoriteRecall2="FavoriteRecall2",i.FavoriteRecall3="FavoriteRecall3",i.FavoriteStore0="FavoriteStore0",i.FavoriteStore1="FavoriteStore1",i.FavoriteStore2="FavoriteStore2",i.FavoriteStore3="FavoriteStore3",i.Guide="Guide",i.GuideNextDay="GuideNextDay",i.GuidePreviousDay="GuidePreviousDay",i.Info="Info",i.InstantReplay="InstantReplay",i.Link="Link",i.ListProgram="ListProgram",i.LiveContent="LiveContent",i.Lock="Lock",i.MediaApps="MediaApps",i.MediaAudioTrack="MediaAudioTrack",i.MediaLast="MediaLast",i.MediaSkipBackward="MediaSkipBackward",i.MediaSkipForward="MediaSkipForward",i.MediaStepBackward="MediaStepBackward",i.MediaStepForward="MediaStepForward",i.MediaTopMenu="MediaTopMenu",i.NavigateIn="NavigateIn",i.NavigateNext="NavigateNext",i.NavigateOut="NavigateOut",i.NavigatePrevious="NavigatePrevious",i.NextFavoriteChannel="NextFavoriteChannel",i.NextUserProfile="NextUserProfile",i.OnDemand="OnDemand",i.Pairing="Pairing",i.PinPDown="PinPDown",i.PinPMove="PinPMove",i.PinPToggle="PinPToggle",i.PinPUp="PinPUp",i.PlaySpeedDown="PlaySpeedDown",i.PlaySpeedReset="PlaySpeedReset",i.PlaySpeedUp="PlaySpeedUp",i.RandomToggle="RandomToggle",i.RcLowBattery="RcLowBattery",i.RecordSpeedNext="RecordSpeedNext",i.RfBypass="RfBypass",i.ScanChannelsToggle="ScanChannelsToggle",i.ScreenModeNext="ScreenModeNext",i.Settings="Settings",i.SplitScreenToggle="SplitScreenToggle",i.STBInput="STBInput",i.STBPower="STBPower",i.Subtitle="Subtitle",i.Teletext="Teletext",i.VideoModeNext="VideoModeNext",i.Wink="Wink",i.ZoomToggle="ZoomToggle",i.SpeechCorrectionList="SpeechCorrectionList",i.SpeechInputToggle="SpeechInputToggle",i.Close="Close",i.New="New",i.Open="Open",i.Print="Print",i.Save="Save",i.SpellCheck="SpellCheck",i.MailForward="MailForward",i.MailReply="MailReply",i.MailSend="MailSend",i.LaunchCalculator="LaunchCalculator",i.LaunchCalendar="LaunchCalendar",i.LaunchContacts="LaunchContacts",i.LaunchMail="LaunchMail",i.LaunchMediaPlayer="LaunchMediaPlayer",i.LaunchMusicPlayer="LaunchMusicPlayer",i.LaunchMyComputer="LaunchMyComputer",i.LaunchPhone="LaunchPhone",i.LaunchScreenSaver="LaunchScreenSaver",i.LaunchSpreadsheet="LaunchSpreadsheet",i.LaunchWebBrowser="LaunchWebBrowser",i.LaunchWebCam="LaunchWebCam",i.LaunchWordProcessor="LaunchWordProcessor",i.LaunchApplication1="LaunchApplication1",i.LaunchApplication2="LaunchApplication2",i.LaunchApplication3="LaunchApplication3",i.LaunchApplication4="LaunchApplication4",i.LaunchApplication5="LaunchApplication5",i.LaunchApplication6="LaunchApplication6",i.LaunchApplication7="LaunchApplication7",i.LaunchApplication8="LaunchApplication8",i.LaunchApplication9="LaunchApplication9",i.LaunchApplication10="LaunchApplication10",i.LaunchApplication11="LaunchApplication11",i.LaunchApplication12="LaunchApplication12",i.LaunchApplication13="LaunchApplication13",i.LaunchApplication14="LaunchApplication14",i.LaunchApplication15="LaunchApplication15",i.LaunchApplication16="LaunchApplication16",i.BrowserBack="BrowserBack",i.BrowserFavorites="BrowserFavorites",i.BrowserForward="BrowserForward",i.BrowserHome="BrowserHome",i.BrowserRefresh="BrowserRefresh",i.BrowserSearch="BrowserSearch",i.BrowserStop="BrowserStop",i.Decimal="Decimal",i.Key11="Key11",i.Key12="Key12",i.Multiply="Multiply",i.Add="Add",i.Divide="Divide",i.Subtract="Subtract",i.Separator="Separator";const s=r},20272:(e,t,n)=>{"use strict";n.d(t,{_2:()=>r,su:()=>i,gQ:()=>s});const r=Object.keys,i=Object.values,s=Object.entries},52924:(e,t,n)=>{"use strict";function r(e,t){if(!e)throw new Error(t)}n.d(t,{Z:()=>r})},89571:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n(9669),i=n.n(r),s=n(80129),a=n.n(s),o=n(34857),l=n(39670),c=n(17798),d=n(96242),u=n(96840),p=n(55605),m=n(84936),h=Object.defineProperty,g=Object.prototype.hasOwnProperty,y=Object.getOwnPropertySymbols,v=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b=(e,t)=>{for(var n in t||(t={}))g.call(t,n)&&f(e,n,t[n]);if(y)for(var n of y(t))v.call(t,n)&&f(e,n,t[n]);return e};function S(e){if(!e)return e;const t=e,{"X-Plex-Username":n,"X-Plex-Device-Name":r}=t;return((e,t)=>{var n={};for(var r in e)g.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&y)for(var r of y(e))t.indexOf(r)<0&&v.call(e,r)&&(n[r]=e[r]);return n})(t,["X-Plex-Username","X-Plex-Device-Name"])}var I=Object.defineProperty,Z=Object.prototype.hasOwnProperty,P=Object.getOwnPropertySymbols,E=Object.prototype.propertyIsEnumerable,M=(e,t,n)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C=(e,t)=>{for(var n in t||(t={}))Z.call(t,n)&&M(e,n,t[n]);if(P)for(var n of P(t))E.call(t,n)&&M(e,n,t[n]);return e};const w={PUT:!0,DELETE:!0},D={Accept:!0,"Accept-Language":!0,"Content-Language":!0,"Content-Type":!0},T=/(^X-Plex-[^=]+)/i;var O=Object.defineProperty,x=Object.prototype.hasOwnProperty,A=Object.getOwnPropertySymbols,N=Object.prototype.propertyIsEnumerable,k=(e,t,n)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L=(e,t)=>{for(var n in t||(t={}))x.call(t,n)&&k(e,n,t[n]);if(A)for(var n of A(t))N.call(t,n)&&k(e,n,t[n]);return e};const j=function(e){const t=L({},e);function*n(e,n){const r=n,{server:s,provider:d,timeout:h=t.timeout,allowHeadersInUrl:g=!(!s&&!d)}=r,y=((e,t)=>{var n={};for(var r in e)x.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&A)for(var r of A(e))t.indexOf(r)<0&&N.call(e,r)&&(n[r]=e[r]);return n})(r,["server","provider","timeout","allowHeadersInUrl"]),v=l.Z.hasInstance()?l.Z.getInstance():{},f=L(L({},v),n.headers);let I=e;if(s){if(!(0,p.Z)(e)){const t=(null==d?void 0:d.baseURL)?d.baseURL:s.uri;if(!t)throw new Error("Unable to make a request to a relative path without `server.uri` or `baseURL`");I=m.Z.join([t,e])}s.accessToken&&(f["X-Plex-Token"]=s.accessToken),s.isEmbedded&&(f["X-Plex-Account-ID"]="1"),d&&(f["X-Plex-Provider-Version"]=t.providerVersion,f["X-Plex-Text-Format"]=(0,c.Z)(d.identifier),t.drmType&&(f["X-Plex-Drm"]=t.drmType))}t.language&&(f["X-Plex-Language"]=t.language,f["Accept-Language"]=t.language);const Z=i().CancelToken.source();let P=L(L({},y),{url:I,cancelToken:Z?Z.token:void 0,headers:f,timeout:h,allowHeadersInUrl:g,paramsSerializer:e=>a().stringify(e,{arrayFormat:"repeat"})});(null==s?void 0:s.isCloud)&&d&&(P=function(e){return b(b({},e),{headers:S(e.headers)})}(P)),P=function(e){const{method:t="GET",headers:n={},params:r={},allowHeadersInUrl:i=!1,allowBlacklistedMethodHeaders:s=!1}=e;if(!i)return e;if(w[t]&&!s)return e;const a=C({},n),o=C({},r);return Object.keys(n).forEach((e=>{const t=n[e];D[e]||(T.test(e)?(o[e]=t,delete a[e]):u.Z.warn('[CORS] Did not move header "%s" to query string. This can result in an unnecessary OPTIONS preflight request.',e))})),C(C({},e),{headers:a,params:o})}(P);try{return yield(0,o.RE)(i().request,P)}finally{(yield(0,o.By)())&&(null==Z||Z.cancel())}}return{get:(e,t={})=>n(e,L(L({},t),{method:"GET"})),post:(e,t={},r)=>n(e,L(L({},t),{method:"POST",data:r})),put:(e,t={},r)=>n(e,L(L({},t),{method:"PUT",data:r})),del:(e,t={})=>n(e,L(L({},t),{method:"DELETE"})),setOption(e,n){t[e]=n},toPlainErrorObject(e){let t,n;(function(e){return e.isAxiosError})(e)&&(e.response?(t=e.response.status,n=e.response.data):e.request&&(t=e.request.status));const r={message:e.message,name:e.name,stack:e.stack,status:t,data:n};return u.Z.error(r),r}}}({timeout:3e4,language:"en",drmType:d.NONE,providerVersion:"3.2"})},8183:(e,t,n)=>{"use strict";function r(e){e.isPending=!0,e.error=null}function i(e){e.isPending=!1,e.isPopulated=!0}function s(e,t){e.isPending=!1,e.error=t}function a(e){e.isPending=!1,e.error=null}n.d(t,{er:()=>r,vv:()=>i,VQ:()=>s,EA:()=>a})},60679:(e,t,n)=>{"use strict";n.d(t,{P:()=>l,Z:()=>c});var r=n(2098),i=n(39537),s=n(41538),a=n(56724),o=n(84893);function l(e,t){switch(t){case i.y_.Podcast:switch(e){case s.U.Show:return[r.PD.Title];case s.U.Track:return[r.PD.Title,r.PD.GrandparentTitle]}break;case i.y_.Webshow:switch(e){case s.U.Show:return[r.PD.Title];case s.U.Episode:return[r.PD.Title,r.PD.AddedAtGrandparentTitle]}}switch(e){case s.U.Movie:return[r.PD.Title,r.PD.Year];case s.U.Show:return[r.PD.Title,r.PD.ChildCount];case s.U.Season:return[r.PD.ParentTitle,r.PD.Title];case s.U.Episode:return[r.PD.GrandparentTitle,r.PD.Title,r.PD.EpisodeIdentifier];case s.U.Artist:return[r.PD.Title];case s.U.Album:return[r.PD.ParentTitle,r.PD.TitleAttributed];case s.U.Track:return[r.PD.GrandparentTitle,r.PD.Title];case s.U.Photo:case s.U.PhotoAlbum:case s.U.Clip:return[r.PD.Title];case s.U.Playlist:return[r.PD.Title,r.PD.Duration];case s.U.Collection:return[r.PD.Title,r.PD.ChildCount];case s.U.Channels:return[r.PD.Title,r.PD.AirsAt]}return[r.PD.Title]}const c=function(e){var t;if(!e)return;if(e.DisplayFields)return e;const n=(0,o.Z)(e);if(!n)return e;const i=null==(t=n.Sort)?void 0:t.find((e=>e.active));if(!i)return e;const s=(0,a.Z)(n.type);if(!s)return e;const c=l(n.type,n.subtype),d=function(e,t){switch(e.key){case"addedAt":return[r.PD.AddedAt];case"audienceRating":return[r.PD.Rating];case"beginsAt":return[r.PD.AirsAt];case"contentRating":return[r.PD.ContentRating];case"duration":return[r.PD.Duration];case"lastRatedAt":return[r.PD.LastRatedAt];case"lastViewedAt":return[r.PD.LastViewedAt];case"mediaBitrate":return[r.PD.MediaBitrate];case"mediaCount":return[r.PD.LeafCount];case"mediaHeight":return[r.PD.VideoResolution];case"originallyAvailableAt":return[r.PD.OriginallyAvailableAt];case"rating":return[r.PD.Rating];case"unviewedLeafCount":return[r.PD.UnviewedLeafCount];case"userRating":return[r.PD.UserRating];case"viewCount":return[r.PD.ViewCount];case"viewOffset":return[r.PD.ViewOffset];case"year":return[r.PD.Year]}return[]}(i);return e.DisplayFields=[{type:s,subtype:n.subtype,fields:Array.from(new Set([...c,...d]))}],e}},54466:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(34857),i=n(73754),s=n(89571),a=n(8183);function o(e,t){const n={items:[],totalSize:void 0,isPaginated:void 0,isPending:!1,isPopulated:!1,error:null};return{getDefaultPaginatedState:()=>n,getRepopulateRangeOptions(e){const t=Math.max(e.findIndex((e=>null!=e)),0);return{startIndex:t,size:e.length-t}},fetchAll:function*(e,n){const{server:i,provider:a,params:o}=n,l=yield(0,r.RE)(s.Z.get,e,{server:i,provider:a,params:o}),c=t?t({server:i,provider:a,data:l.data}):l.data;return yield c},fetchRange:function*(e,n){const{server:a,provider:o,params:l,startIndex:c,size:d,isPrepend:u}=n,p=a.isCloud?i.p8:i.nM,m=Math.max(Math.min(d,p),0),h=u?Math.max(c-m+1,0):c,g=yield(0,r.RE)(s.Z.get,e,{server:a,provider:o,params:l,headers:{"X-Plex-Container-Start":String(h),"X-Plex-Container-Size":String(m)}}),y=t?t({server:a,provider:o,data:g.data}):g.data;return yield y},reducers:{reset(t,{payload:r}){const i=e(t,r);Object.assign(i,n)},fetchAllRequested(t,{payload:n}){const r=e(t,n);(0,a.er)(r)},fetchAllSucceeded(t,{payload:n}){const r=e(t,n),{items:i,size:s}=n.data;(0,a.vv)(r),r.totalSize=s,r.items=i},fetchAllFailed(t,{payload:n}){const r=e(t,n);(0,a.VQ)(r,n.error)},fetchRangeRequested(t,{payload:n}){const r=e(t,n);(0,a.er)(r)},fetchRangeSucceeded(t,{payload:n}){const r=e(t,n),{items:i,size:s,totalSize:o,offset:l}=n.data;(0,a.vv)(r),r.totalSize=o,r.isPaginated=null!=s;for(let e=0;e<i.length;e++)r.items[e+l]=i[e]},fetchRangeFailed(t,{payload:n}){const r=e(t,n);(0,a.VQ)(r,n.error)},repopulateRangeRequested(t,{payload:n}){const r=e(t,n);(0,a.er)(r)},repopulateRangeSucceeded(t,{payload:n}){const r=e(t,n),{items:i,totalSize:s,offset:o}=n.data;(0,a.vv)(r),r.items=[],r.totalSize=s;for(let e=0;e<i.length;e++)r.items[e+o]=i[e]},repopulateRangeFailed(t,{payload:n}){const r=e(t,n);(0,a.VQ)(r,n.error)}}}}},22602:(e,t,n)=>{"use strict";function r(e,t,n){var r;return null==(r=null==n?void 0:n.find((n=>n.type===e&&n.subtype===t)))?void 0:r.fields}n.d(t,{Z:()=>r})},34345:(e,t,n)=>{"use strict";function r(e,t,n){var r;return null==(r=null==n?void 0:n.find((n=>n.type===e&&n.subtype===t)))?void 0:r.imageType}n.d(t,{Z:()=>r})},82150:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(50361),i=n.n(r),s=n(76249),a=n(46453),o=n(48523),l=n(86953),c=n(84936),d=n(39537),u=(n(67145),n(2098));function p(e,t){var n;if(e.Image=null!=(n=e.Image)?n:[],e.Image.find((e=>e.type===t)))return;const r=function(e,t){var n,r,i,s;switch(t){case u.IY.CoverArt:switch(e.type){case d.pG.Season:return null!=(n=e.parentArt)?n:e.art;case d.pG.Episode:return null!=(i=null!=(r=e.grandparentArt)?r:e.parentArt)?i:e.thumb;default:return e.art}case u.IY.CoverPoster:switch(e.type){case d.pG.Season:return null!=(s=e.parentTheme)?s:e.thumb;case d.pG.Episode:return e.grandparentThumb;default:return e.thumb}}}(e,t);r&&e.Image.push({alt:e.title,type:t,url:r})}var m=n(20019),h=n(65661);function g({server:e,provider:t,data:n,container:r}){var y,v,f,b,S,I,Z,P,E,M,C;let w=i()(n);if(e.isEmbedded&&null==w.skipChildren&&w.type===d.pG.Show&&w.subtype===d.y_.Podcast&&(w.skipChildren=!0),w.Context&&(Object.assign(w,w.Context),delete w.Context),w.type===d.pG.Channel&&w.Metadata){const e={id:w.id,thumb:w.thumb,title:w.title};w=i()(w.Metadata),w.liveTVChannel=e}null!=w.allowSync||(0,h.JG)(r,w,"allowSync"),null!=w.attribution||(0,h.JG)(r,w,"attribution"),null!=w.librarySectionID||(0,h.JG)(r,w,"librarySectionID"),null!=w.librarySectionTitle||(0,h.JG)(r,w,"librarySectionTitle"),null!=w.librarySectionUUID||(0,h.JG)(r,w,"librarySectionUUID"),null==r.augmentationKey||(0,o.Z)(e.version,s.Z.augmentedHubsInRelatedHubs)||(0,h.JG)(r,w,"augmentationKey");const D=/(.*)\/(children|items)$/.exec(w.key);D&&(w.childrenKey=c.Z.join(w.skipChildren?w.key.replace("/children","/grandchildren"):w.key,{excludeAllLeaves:1}),w.key=D[1]),(0,h.Dq)(w,"librarySectionID"),(0,h.dL)(w,"extraType"),(0,h.dL)(w,"childCount"),(0,h.dL)(w,"leafCount");const T=w.source||(0,l.Z)({serverIdentifier:e.machineIdentifier,providerIdentifier:null==t?void 0:t.identifier});w.source=T,w.sourceURI=`${T}${w.key}`,null==w.userState&&(w.userState=!0),w.isPlaylist=w.type===d.pG.Playlist&&!w.radio,w.isLiveTVChannel=!!w.liveTVChannel,w.isExtra=null!=w.extraType,w.isFolder=/\/folder\?parent=/.test(w.key),w.type===d.pG.Photo&&w.childrenKey&&(w.type=d.pG.PhotoAlbum),w.type===d.pG.Clip&&(null==(y=w.guid)?void 0:y.startsWith(`${a.Hn}://`))&&!w.subtype&&(w.subtype=d.y_.Photo),w.type===d.pG.Movie&&(null==(v=w.guid)?void 0:v.startsWith(`${a.Hn}://`))&&!w.subtype&&(w.subtype=d.y_.Clip),null==(f=w.Media)||f.forEach((e=>{var t;null==(t=e.Part)||t.forEach((e=>{var t;null==(t=e.Stream)||t.forEach((e=>{(0,h.Dq)(e,"id")}))}))})),function(e){p(e,u.IY.CoverArt),p(e,u.IY.CoverPoster)}(w),w.listItemKey=null!=(S=null==(b=w.Media)?void 0:b.reduce(((e,t)=>(e.push(t.id),e)),[w.sourceURI]).join("~"))?S:w.sourceURI;const O={tempState:{},isStale:!1,isPending:!1,isPopulated:!!w.userState,error:null};(0,h.pB)(w,O,"deletedAt"),(0,h.pB)(w,O,"downloadSubscriptionID"),(0,h.pB)(w,O,"subscriptionID"),(0,h.pB)(w,O,"subscriptionType"),(0,h.pB)(w,O,"grandparentSubscriptionID"),(0,h.pB)(w,O,"grandparentSubscriptionType"),(0,h.pB)(w,O,"isDownloaded"),(0,h.pB)(w,O,"lastRatedAt"),(0,h.pB)(w,O,"lastViewedAt"),(0,h.pB)(w,O,"picked"),(0,h.pB)(w,O,"saved"),(0,h.pB)(w,O,"unviewedLeafCount"),(0,h.pB)(w,O,"userRating"),(0,h.pB)(w,O,"viewCount"),(0,h.pB)(w,O,"viewOffset"),(0,h.pB)(w,O,"viewedLeafCount"),(0,h.pB)(w,O,"watchlistedAt"),null!=w.leafCount&&(O.viewedLeafCount=null!=(I=O.viewedLeafCount)?I:0,O.unviewedLeafCount=w.leafCount-O.viewedLeafCount);const x={[w.sourceURI]:O};if(null==(Z=w.Stations)?void 0:Z.Metadata){const n=(0,m.Z)({server:e,provider:t,data:w.Stations.Metadata,container:r});w.stations=n.metadataItems,delete w.Stations,Object.assign(x,n.metadataItemStates)}if(null==(P=w.Extras)?void 0:P.Metadata){const n=(0,m.Z)({server:e,provider:t,data:w.Extras.Metadata,container:r});w.extras=n.metadataItems,delete w.Extras,Object.assign(x,n.metadataItemStates)}if(null==(E=w.OnDeck)?void 0:E.Metadata){const n=g({server:e,provider:t,data:w.OnDeck.Metadata,container:r});w.onDeck=n.metadataItem,delete w.OnDeck,Object.assign(x,n.metadataItemStates)}if((null==(M=w.PopularLeaves)?void 0:M.Metadata)&&(null==(C=w.PopularLeaves)?void 0:C.key)){const n=(0,m.Z)({server:e,provider:t,data:w.PopularLeaves.Metadata,container:r});w.popularLeaves={key:w.PopularLeaves.key,items:n.metadataItems},delete w.PopularLeaves,Object.assign(x,n.metadataItemStates)}return w.Preferences&&(O.preferences=w.Preferences.Setting,delete w.Preferences),{metadataItem:w,metadataItemStates:w.userState?x:{}}}},20019:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(82150);function i({server:e,provider:t,data:n,container:i}){return n.reduce(((n,s)=>{const{metadataItem:a,metadataItemStates:o}=(0,r.Z)({server:e,provider:t,data:s,container:i});return n.metadataItems.push(a),Object.assign(n.metadataItemStates,o),n}),{metadataItems:[],metadataItemStates:{}})}},65661:(e,t,n)=>{"use strict";n.d(t,{dL:()=>s,ZX:()=>a,Dq:()=>o,pB:()=>l,JG:()=>c});var r=n(96840);function i(e){return(t,n,r)=>{const i=e(t[n],n);r?(t[r]=i,delete t[n]):t[n]=i}}const s=i(((e,t)=>{const n=typeof e;if("string"===n||"number"===n)return Number(e);"undefined"!==n&&r.Z.warn(`normalizeAsNumber: returning undefined for type: ${n}, property: ${t}`)})),a=i(((e,t)=>{const n=typeof e;return"boolean"===n||"number"===n?Boolean(e):"string"===n?"1"===e:void("undefined"!==n&&r.Z.warn(`normalizeAsBoolean: returning undefined for type: ${n}, property: ${t}`))})),o=i(((e,t)=>{const n=typeof e;if(null!=e)return String(e);"undefined"!==n&&r.Z.warn(`normalizeAsNumber: returning undefined for type: ${n}, property: ${t}`)}));function l(e,t,n){e.hasOwnProperty(n)&&(t[n]=e[n],delete e[n])}function c(e,t,n){e.hasOwnProperty(n)&&(t[n]=e[n])}},94318:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(34857),i=n(93966);function s(e){(0,i.DB)("appStore").dispatch(e)}const a=function(e){return(0,r.RE)(s,e)}},99604:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(34857),i=n(93966);function s(e){return e((0,i.DB)("appStore").getState())}const a=function(e){return(0,r.RE)(s,e)}},77437:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);const i=function(e,t){const[n,i]=(0,r.useState)(e);return(0,r.useEffect)((()=>{const n=window.setTimeout((()=>{i(e)}),t);return()=>{window.clearTimeout(n)}}),[t,e]),n}},4704:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i(e){const t=(0,r.useRef)();return(0,r.useEffect)((()=>{t.current=e}),[e]),t.current}},70617:(e,t,n)=>{"use strict";function r(e){const t=new Map;return(...n)=>{const r=JSON.stringify(n);if(t.has(r))return t.get(r);{const i=e(...n);return t.set(r,i),i}}}n.d(t,{Z:()=>r})},32765:(e,t,n)=>{"use strict";n.d(t,{r5:()=>l,ZP:()=>c});var r=n(67294),i=n(38204);const s={display:"contents "};function a(e,t,n){const r=[];for(let i=Math.min(t,n);i<=Math.max(t,n);i++)r.push(e[i]);return r}const o=(0,r.createContext)({isSelectionRangeActive:!1,isSelectionRangeComplete:!1,checkItemInRange:()=>!1,onRangeStart:()=>{},onRangeEnd:()=>{},onRangeSelect:()=>{},onRangeClear:()=>{}});function l(){return(0,r.useContext)(o)}const c=function({children:e,items:t}){const[n,l]=(0,r.useState)(),[c,d]=(0,r.useState)(),[u,p]=(0,r.useState)(),[m,h]=(0,r.useState)(!1),g=(0,r.useCallback)((e=>{const r=t.indexOf(e);return null!=n&&null!=c&&r>=Math.min(n,c)&&r<=Math.max(n,c)}),[t,c,n]),y=(0,r.useCallback)((e=>{const n=t.indexOf(e);-1!==n&&(l(n),d(void 0),p(void 0))}),[t]),v=(0,r.useCallback)((e=>{const r=t.indexOf(e);-1!==r&&null!=n&&a(t,n,r).every((e=>e))&&d(r)}),[t,n]),f=(0,r.useCallback)(((e,r)=>{null!=n&&null!=c&&(u&&r(a(t,...u)),e(a(t,n,c)),p([n,c]))}),[t,u,c,n]),b=(0,r.useCallback)((()=>{l(void 0),d(void 0),p(void 0)}),[]),S=(0,r.useCallback)((()=>{d(void 0)}),[]);(0,r.useEffect)((()=>{function e(e){e.key===i.Z.Shift&&h(!0)}function t(e){e.key===i.Z.Shift&&(h(!1),d(void 0))}function n(){h(!1),d(void 0)}return document.addEventListener("keydown",e),document.addEventListener("keyup",t),window.addEventListener("blur",n),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t),window.addEventListener("blur",n)}}),[]);const I=(0,r.useMemo)((()=>({isSelectionRangeActive:m,isSelectionRangeComplete:null!=n&&null!=c,checkItemInRange:g,onRangeStart:y,onRangeEnd:v,onRangeSelect:f,onRangeClear:b})),[g,m,b,v,f,y,c,n]);return r.createElement(o.Provider,{value:I},r.createElement("div",{style:s,onMouseLeave:S},e))}},75989:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return null==e?"":String(e)}},63178:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return e instanceof Promise?e:e instanceof Error?Promise.reject(e):"[object Function]"===Object.prototype.toString.call(null==e?void 0:e.then)?new Promise(((t,n)=>{try{e.then(t,n)}catch(e){t(e)}})):Promise.resolve(e)}},75157:(e,t,n)=>{"use strict";n.d(t,{XH:()=>r,pP:()=>s,dZ:()=>h,rG:()=>g,xP:()=>y,fz:()=>v});var r,i,s,a,o=n(42902),l=n(7069),c=n(88330),d=n(54559),u=n(77982),p=n(59319),m=n(5562);function h(e){switch(e){case r.RealTime:return(0,m.Z)("Real Time");case r.TwelveHours:return(0,m.Z)("Last 12 Hours");case r.Day:return(0,m.Z)("Last 24 Hours");case r.Week:return(0,m.Z)("Last 7 Days");case r.Month:return(0,m.Z)("Last 30 Days");case r.NinetyDays:return(0,m.Z)("Last 90 Days");case r.Year:return(0,m.Z)("Last Year");case r.AllTime:return(0,m.Z)("All Time");default:return""}}function g(e){switch(e){case r.RealTime:return 6;case r.TwelveHours:case r.Day:return 4;case r.Week:return 3;case r.Month:case r.NinetyDays:return 2;case r.Year:case r.AllTime:return 1;default:return 3}}function y(e){switch(e){case r.TwelveHours:return(0,o.Z)((0,c.Z)(new Date,12));case r.Day:return(0,o.Z)((0,l.Z)(new Date,1));case r.Week:return(0,o.Z)((0,u.Z)(new Date,1));case r.Month:return(0,o.Z)((0,d.Z)(new Date,1));case r.NinetyDays:return(0,o.Z)((0,l.Z)(new Date,90));case r.Year:return(0,o.Z)((0,p.Z)(new Date,1));case r.AllTime:return 0;default:return}}function v(e,t){switch(e){case r.TwelveHours:return"H:00";case r.Day:return t?"H:00":"HH";case r.Week:case r.Month:case r.NinetyDays:return t?"MMMM do":"MMM d";case r.Year:return t?"MMMM":"MMM";case r.AllTime:return t?"MMMM yyyy":"MMM yy";default:return t?"MMMM do":"MMM d"}}(i=r||(r={})).RealTime="real-time",i.TwelveHours="twelve-hours",i.Day="day",i.Week="week",i.Month="month",i.NinetyDays="ninety-days",i.Year="year",i.AllTime="all-time",(a=s||(s={}))[a.Year=0]="Year",a[a.Month=1]="Month",a[a.Week=2]="Week",a[a.Day=3]="Day",a[a.Hour=4]="Hour",a[a.Minutes=5]="Minutes",a[a.RealTime=6]="RealTime"},31591:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294),i=n(73935),s=n(89969),a=n(93966);const o=n(65652).Z.Layout.extend({template:()=>"",mountReact(){const e=(0,a.DB)("appStore");i.render(r.createElement(s.zt,{store:e},this.component(this.options)),this.el)},unmountReact(){this.isRendered&&i.unmountComponentAtNode(this.el)},onBeforeRender(){this.unmountReact()},onRender(){this.mountReact()},onClose(){this.unmountReact()}})},64529:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(65652),i=n(32846),s=n(17786),a=n.n(s);const o={success:!0,error:!0,notify:!0},l=r.Z.ItemView.extend({className:"alert-bar",template:a(),events:{"click .close-btn":"onCloseClick"},initialize:function(e){const t=e.alert;if(this.alert=t,t){const e=t.type;e&&o[e]&&this.$el.addClass(e)}},hide:function(){i.Z.trigger("hide:bar","alertbar")},serializeData:function(){return this.alert},onCloseClick:function(e){e.preventDefault(),this.hide()}})},79317:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(65652),l=n(5562);const c=o.Z.Layout.extend({events:{"click .edit-lock-addon":"onLockClick","keyup .lockable-field:not(.selectized)":"onLockableFieldChange","change .lockable-field:not(.selectized)":"onLockableFieldChange"},ui:{form:".edit-metadata-form"},serializeData:function(){var e=this.model.get("lockedFields"),t={};e&&e.each((function(e){t[e.get("name")]=e.get("locked")}));var n=this.model.toJSON(),r=this.model.get("mixedFields"),i={originallyAvailableAt:"YYYY-MM-DD",capturedTime:"YYYY-MM-DD HH:mm:ss"};return r&&r.forEach((function(e){i[e]=(0,l.Z)("MIXED")})),{item:n,locked:t,placeholders:i,canReparent:this.canReparent,canEditSimilarArtists:this.canEditSimilarArtists,disableIndices:!this.canReparent,editableTags:{}}},flushChanges:function(){},getLockedFieldsArray:function(){var e=this.ui.form,t=this.model.get("lockedFields").reduce((function(e,t){return e[t.get("name")]=t.get("locked"),e}),{});return e.find(".edit-lock-addon").each((function(e,n){var r=i()(n),s=r.data("field");r.hasClass("locked")?t[s]=!0:s in t&&(t[s]=!1)})),a().map(t,(function(e,t){return{name:t,locked:e}}))},onLockClick:function(e){e.preventDefault(),i()(e.currentTarget).hasClass("disabled")||i()(e.currentTarget).toggleClass("locked")},onLockableFieldChange:function(e){var t=e instanceof i()?e:i()(e.currentTarget);if(!e.force){var n=t.data("original-value");if(void 0===n&&(n=t.attr("value")||t.val()),t.data("original-value",n),t.val()===n)return}t.siblings(".edit-lock-addon").addClass("locked")}})},41208:(e,t,n)=>{"use strict";n.d(t,{Z:()=>q});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(5562),l=n(69881),c=n(94018),d=n(65652),u=n(33207),p=n.n(u);const m=d.Z.ItemView.extend({className:"player-slider",template:p(),dragging:!1,ui:{thumb:".player-slider-thumb",track:".player-slider-track",progress:".player-slider-progress"},events:{mousedown:"onMouseDown",touchstart:"onTouchStart"},onlyAfterRender:["displayValue"],initialize:function(e){a().bindAll(this,"onMouseMove","onMouseUp","onTouchMove","onTouchEnd"),this.$document=i()(document),this.currentValue=e.value||0},startDragging:function(){this.dragging=!0,this.$el.addClass("active")},stopDragging:function(){this.dragging=!1,this.$el.removeClass("active"),this.triggerMethod("dragComplete")},updateForPosition:function(e,t){var n=this.getValueForPosition(e);this.setValue(n)&&this.displayValue(n,t)},getValueForPosition:function(e){var t=this.ui.track,n=(e-t.offset().left)/t.width();return n=Math.min(Math.max(n,0),1),Math.round(100*n)},setValue:function(e){return this.currentValue=e,this.trigger("change:value",e),!0},displayValue:function(e,t){this.ui.thumb.css("left",e+"%"),this.ui.progress.css("width",e+"%"),this.$el.data("value",e)},onRender:function(){this.displayValue(this.currentValue)},onClose:function(){this.$document.off("mousemove",this.onMouseMove),this.$document.off("mouseup",this.onMouseUp),this.$document.off("touchmove",this.onTouchMove),this.$document.off("touchend",this.onTouchEnd)},onMouseDown:function(e){e.preventDefault(),this.$document.on("mousemove",this.onMouseMove),this.$document.on("mouseup",this.onMouseUp),this.startDragging(),this.setValue(this.getValueForPosition(e.pageX))},onTouchStart:function(e){this.$document.on("touchmove",this.onTouchMove),this.$document.on("touchend",this.onTouchEnd),this.startDragging();var t=e.originalEvent.touches[0];t&&this.updateForPosition(t.pageX)},onMouseMove:function(e){e.preventDefault(),this.updateForPosition(e.pageX)},onTouchMove:function(e){e.preventDefault();var t=e.originalEvent.touches[0];t&&this.updateForPosition(t.pageX)},onMouseUp:function(e){e.preventDefault(),this.$document.off("mousemove",this.onMouseMove),this.$document.off("mouseup",this.onMouseUp),this.updateForPosition(e.pageX),this.stopDragging()},onTouchEnd:function(e){this.$document.off("touchmove",this.onTouchMove),this.$document.off("touchend",this.onTouchEnd);var t=e.originalEvent.touches[0];t&&this.updateForPosition(t.pageX),this.stopDragging()}});var h=n(17487),g=n.n(h);const y=m.extend({tagName:"span",className:"rating star-rating",template:g(),disabled:!0,modelEvents:{"change:rating":"onRatingChange","change:userRating":"onRatingChange"},events:a().extend({mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},m.prototype.events),initialize:function(e){m.prototype.initialize.apply(this,arguments);var t=this.model.server.get("shared")&&!this.model.server.get("multiuser");this.disabled=e.disabled||t,this.passive=e.passive,this.updateRating()},updateRating:function(){this.metadataRating=this.model.get("rating")||0,this.userRating=this.model.get("userRating"),this.setValue(this.userRating>0?this.userRating:this.metadataRating)},normalizeRating:function(e){return Math.round(e/2)},serializeData:function(){var e=this.normalizeRating(this.currentValue);return{stars:[e>0,e>1,e>2,e>3,e>4]}},getValueForPosition:function(e){var t=this.$el,n=(e-t.offset().left)/t.width();return n=Math.min(Math.max(n,0),1),2*Math.ceil(5*n)},persistValue:function(){var e=this.currentValue||-1;c.Z.execute("rate",{item:this.model,rating:e,passive:this.passive}),this.updateRating(),this.render()},displayValue:function(e){this.$el.data("value",e);var t=this.normalizeRating(e);this.$(".star-icon").each((function(e){var n=t>e;i()(this).toggleClass("star",n).toggleClass("dislikes",!n)})),this.$el.toggleClass("unrated",!e)},onRender:function(){m.prototype.onRender.apply(this,arguments),this.$el.toggleClass("unrated",!this.currentValue),this.$el.toggleClass("user-rating",this.userRating>0),this.$el.toggleClass("disabled",this.disabled)},onRatingChange:function(e,t){this.updateRating(),this.render()},onMouseEnter:function(e){this.disabled||(this.$el.addClass("user-rating"),this.$el.removeClass("unrated"))},onMouseLeave:function(e){this.disabled||this.render()},onMouseMove:function(e){if(!this.disabled)if(this.dragging)this.updateForPosition(e.pageX);else{var t=this.getValueForPosition(e.pageX);this.displayValue(t)}},onDragComplete:function(){this.disabled||this.persistValue()}});var v=n(79317),f=n(39092);var b=n(10719),S=n.n(b),I=n(34512),Z=n.n(I),P=n(70830),E=n.n(P),M=n(26726),C=n.n(M),w=n(8982),D=n.n(w),T=n(3657),O=n.n(T),x=n(18704),A=n.n(x),N=n(88949),k=n.n(N),L=n(88311),j=n.n(L),R=n(48526),V=n.n(R),U=n(52030),z=n.n(U),B=Object.defineProperty,_=Object.prototype.hasOwnProperty,F=Object.getOwnPropertySymbols,H=Object.prototype.propertyIsEnumerable,W=(e,t,n)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q=(e,t)=>{for(var n in t||(t={}))_.call(t,n)&&W(e,n,t[n]);if(F)for(var n of F(t))H.call(t,n)&&W(e,n,t[n]);return e};function G(e){return a().reduce(e,(function(e,t){return e[t]=!0,e}),{})}var Y={movie:D(),show:V(),season:j(),episode:C(),artist:Z(),album:S(),track:z(),photoalbum:O(),photo:A(),playlist:k(),collection:E()};const q=v.Z.extend({regions:{ratingRegion:".rating-region"},ui:a().extend({selectizeInputs:".selectize input[type=text]"},v.Z.prototype.ui),initialize:function(e){const t=this.model.get("type"),n=l.getMetadataType(t);this.template=Y[t]||Y[l.MOVIE],this.canSelectize=this.model.server.supports("batchEdit")&&n,this.canReparent=this.model.server.supports("batchEdit")},serializeData(){return Q(Q({},v.Z.prototype.serializeData.apply(this)),{supportsLinkedYears:this.model.server.supports("linkedYearMetadata"),section:this.model.section,metadataTypeName:this.model.get("type")})},flushChanges:function(){var e=this.ui.form;if(e&&e.find){var t=e.find(".selectize input[tabindex=-1]"),n=G(a().pluck(t,"name")),r=G(a().pluck(e.find("[type=number]"),"name")),s=a()(e.serializeArray()).reject((function(e){return n[e.name]}),this),o=a().reduce(s,(function(e,t){if(r[t.name]){var n=t.value.trim();if(n)return e[t.name]=parseFloat(n,10),e;if(!this.model.get(t.name))return e}return e[t.name]=t.value,e}),{},this);a().each(t,(function(e){var t=i()(e),n=t.data("updateAttr"),r=t.data("altUpdateAttr"),s=t.data("isText"),a=e.selectize.getValue();if(r)if(s)o[n]=a,o[r]=null;else{var l=e.selectize.options[a];if(l){var c=l[t.data("autocompleteAttr")];o[n]=c,o[r]=a}}else o[n]=a}));var l=this.model.get("lockedFields");l&&l.set(this.getLockedFieldsArray(),{parse:!0}),this.model.set(o)}},markInvalid:function(e){this.$(".form-group").removeClass("has-error"),a()(e).each((function(e){var t=this.$('.form-group[data-attr="'+e+'"]');t.addClass("has-error"),t.find(".control-error").text((0,o.Z)("Required"))}),this)},onRender:function(){if(this.$(".rating-region").length>0&&this.ratingRegion.show(new y({model:this.model,passive:!0})),this.canSelectize){var e=this;this.ui.selectizeInputs.each((function(t,n){!function(e,t){var n=i()(t),r=n.attr("name"),s=r.replace(/parentTitle$/,"parentRatingKey");s===r&&(s=null);var l,c=e.model.getQueryAttr(r),d=e.model.getQueryAttrSibling(r),u=c!==r,p=u?"title":r,m=u?"ratingKey":p,h=e.model.get("type");l=u?c.match(/(^.*)\./)[1]:"title"===p?h:null;var g=n.data("scopeToAttr"),y=n.data("scopeToParam"),v=n.data("ratingKey"),b=!v;v&&(v=v.toString());var S=!u,I={};y&&e.listenTo(e,"reset_selectize:"+y,(function(){O.loadedSearches={}}));var Z,P,E=e.model["original.updateValues."+r];E?(Z=E.updateAttr,P=E.altUpdateAttr):(Z=e.model.get(r),s&&(P=parseInt(e.model.get(s),10)),e.model["original.updateValues."+r]={updateAttr:Z,altUpdateAttr:P});var M=e.model["original.general."+r];if(!M){M=[];var C={};C[p]=Z,C.ratingKey=v,M=[C],e.model["original.general."+r]=M}var w=[e.model.get(s)||e.model.get(r)],D=function(){var e=O.$dropdown_content.children();O.$dropdown.toggleClass("hidden",e.length<=1)},T=function(){a().defer(D)};n.data("autocompleteAttr",p),n.data("updateAttr",r),s&&n.data("altUpdateAttr",s);var O=n.selectize({options:M,items:w,plugins:["restore_on_focus"],delimiter:null,create:!0,maxItems:1,labelField:p,valueField:m,sortField:p,searchField:[p],selectOnTab:!0,hideSelected:!1,highlight:!1,openOnFocus:!0,selectOnBlur:!0,createOnBlur:!0,persist:!0,addPrecedence:!0,allowEmptyOption:!0,allowCreateEmpty:S,manualInputWidth:!0,loadingClass:"",onFocus:function(){O.preloaded||(O.preloaded=!0,O.onSearchChange(O.$control_input.val()))},createFilter:function(e){return I[p]=e,!a()(this.options).findWhere(I)},load:function(t,n){if(t.length){var r={};if(r[c]=t,g){var i=e.model.get(g);if(!i)return void n();r[y]=i}new f.Z([],{server:e.model.server,multiMetadataItem:e.model,query:r}).fetch().done((function(e){n(e.map((function(e){return e.toJSON()}))),D()}))}else n()},render:{option:function(e,t){var n;return n=(s?e.ratingKey===String(P):e[p]===Z)?'<small class="autocomplete-annotate pull-right">('+(l&&!b?(0,o.Z)("this {1}",l):(0,o.Z)("original value"))+")</small>":"","<div>"+t(e[p])+n+"</div>"},option_create:function(e,t){return e.input?'<div class="create">'+t(e.input)+"</div>":'<div class="create hidden"></div>'}},onDropdownClose:function(){O.$dropdown.addClass("hidden")},onDropdownOpen:function(){O.$dropdown.addClass("hidden"),T()},onType:a().bind((function(e){if(O.canCreate(e)){var t=i()(O.$dropdown_content[0].childNodes[0]);O.setActiveOption(t)}T(),this.onLockableFieldChange({currentTarget:O.$input,force:!0})}),e),onOptionAdd:function(e,t){var n=a().pick(t,p,"ratingKey");a().findWhere(M,n)||M.splice(M.length,0,t)},onChange:function(t){var i=this.options[t];if(i){if(u){var s=i.ratingKey===i[p];n.data("isText",s)}e.flushChanges();var o=e.model.changedAttributes();a().has(o,c)||a().has(o,d)?e.trigger("focusSubmit"):a().defer((function(){O.onBlur()})),e.trigger("reset_selectize:"+r),D()}}})[0].selectize;O.$dropdown.addClass("hidden")}(e,n)}))}}})},21009:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(13469),i=n.n(r),s=n(65652);const a=s.Z.CollectionView.extend({appendHtml:function(e,t,n){return this.sorted?this.sortedAppendHtml.apply(this,arguments):this.reversed?this.reversedAppendHtml.apply(this,arguments):s.Z.CollectionView.prototype.appendHtml.apply(this,arguments)},sortedAppendHtml:function(e,t,n){if(e.isBuffering){var r=e.elBuffer.childNodes;r.length<=n?e.elBuffer.appendChild(t.el):e.elBuffer.insertBefore(t.el,r[n]),e._bufferedChildren.push(t)}else{var i=e.itemViewContainer?e.$(e.itemViewContainer):e.$el,s=i.children();s.size()<=n?i.append(t.el):s.eq(n).before(t.el)}},reversedAppendHtml:function(e,t,n){e.isBuffering?(e.elBuffer.insertBefore(t.el,e.elBuffer.firstChild),e._bufferedChildren.push(t)):(e.itemViewContainer?e.$(e.itemViewContainer):e.$el).prepend(t.el)},measureList:function(){if(this.children.length){var e=this.children._views,t=e[i().first(i().keys(e))];i().defer(i().bind((function(){this.itemWidth=t.$el.outerWidth(!0),this.itemHeight=t.$el.outerHeight(!0),this.itemMarginRight=parseInt(t.$el.css("margin-right"),10),this.itemMarginBottom=parseInt(t.$el.css("margin-bottom"),10),this.triggerMethod("measure",this)}),this))}},getViewForModel:function(e){var t=this.children._indexByModel[e.cid];return this.children._views[t]},reorder:function(){var e=this.children,t=this.collection.models,n=i().map(t,(function(t,n){var r=e.findByModel(t);return r._index=n,r.el}));this.$el.append(n)},onCollectionRendered:function(){this.measure&&this.measureList()}})},21288:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(65652),l=n(32846),c=0,d=[];const u=o.Z.Layout.extend({className:"modal fade",focusDelay:500,animationDelay:500,events:{"hide.bs.modal":"onHide"},initialize:function(e){this.once("render",(function(){c+=1,l.Z.trigger("anyModalOpen")})),this.once("close",(function(){0==(c-=1)&&l.Z.trigger("allModalsClosed")}))},hide:function(){this.isClosed||this.isHidden||this.$el.modal("hide")},onRender:function(){this.rerender||(this.isForced?this.$el.modal({backdrop:!1,keyboard:!1}):(this.listenTo(l.Z,"shortcut:escape",a().bind((function(){d[0]===this&&this.hide()}),this)),this.listenToOnce(this,"close",(function(){var e=d.indexOf(this);-1!==e&&d.splice(e,1)})),d.unshift(this),this.$el.modal()),i()(":focus").blur())},onHide:function(e){this.isHidden=!0,a().each(this.panes,(function(e,t){var n=e.constructor.onModalClose;n&&n.apply(this)}),this),window.setTimeout(a().bind((function(){l.Z.trigger("hide:modal",this),this.trigger("close")}),this),this.animationDelay)}})},64898:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(21288),l=n(55722),c=n.n(l);const d=o.Z.extend({className:"confirm-modal modal modal-sm fade",template:c(),ui:{doubleConfirmMessage:".double-confirm-message",confirmBtn:".confirm-btn",confirmLabel:".confirm-btn .btn-label"},events:a().extend({"click .confirm-btn":"onConfirm"},o.Z.prototype.events),whitelistedOptions:["title","message","confirmLabel","cancelLabel","hasDanger","hideCancel"],initialize:function(e){o.Z.prototype.initialize.apply(this,arguments),this.async=e.async,this.data=a().pick(e,this.whitelistedOptions),this.promise=i().Deferred()},serializeData:function(){return a().defaults(this.data,{confirmLabel:"Yes",cancelLabel:"No"})},onRender:function(){o.Z.prototype.onRender.apply(this,arguments),window.setTimeout(a().bind((function(){this.ui.confirmBtn.focus()}),this),this.focusDelay)},onHide:function(e){o.Z.prototype.onHide.apply(this,arguments),this.promise.reject()},onConfirm:function(e){if(e.preventDefault(),this.options.requireDoubleConfirm&&!this.hasConfirmedOnce){this.hasConfirmedOnce=!0;var t=this.options.doubleConfirmMessage,n=this.options.doubleConfirmLabel;return t&&this.ui.doubleConfirmMessage.text(t),void(n&&this.ui.confirmLabel.text(n))}this.promise.resolve(),this.async?this.ui.confirmBtn.addClass("active"):this.hide()}})},43593:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ge});var r=n(12274),i=n(56514),s=n(19755),a=n.n(s),o=n(13469),l=n.n(o),c=n(93966),d=n(94018),u=n(94053),p=n(32901),m=n(32553),h=n(17524),g=n(32846),y=n(41105),v=n(86953),f=n(15633),b=n(5562),S=n(69881),I=n(84936),Z=n(10612),P=n(53334),E=n(14408),M=n(12634),C=n(65115);const w=M.Z.extend({name:"TagCollection",context:["server","section"],model:C.Z});var D=n(69653),T=n(32707);const O=P.Z.extend({name:"LockedFieldModel",context:["server","section"],idAttribute:"name",syncedAttrs:{name:{type:E.Z.string,save:!0},locked:{type:E.Z.boolean,save:!0}}}),x=M.Z.extend({name:"LockedFieldCollection",context:["server","section"],model:O}),A={Autotag:"autotags",Collection:"collections",Composer:"composers",Conductor:"conductors",Country:"countries",Director:"directors",Genre:"genres",Label:"labels",Mood:"moods",Producer:"producers",Role:"roles",Similar:"similar",Style:"styles",Tag:"tags",Writer:"writers"},N={album:{title:"title",parentRatingKey:"artist.id",parentTitle:"artist.title"},track:{parentRatingKey:"album.id",parentTitle:"album.title",grandparentRatingKey:"artist.id",grandparentTitle:"artist.title"}},k=P.Z.extend({name:"MultiMetadataModel",context:["server","section"],rootPropertyName:"Common",isNew:()=>!1,url(){return I.Z.join([this.sectionUrl(),"common"],this.getUrlParams())},saveUrl(){return I.Z.join([this.sectionUrl(),"all"],this.getUrlParams())},sectionUrl(){return l().result(this.section,"url")},sessionAttrs:{metadataItems:E.Z.array.isRequired,editableTags:E.Z.array,originalSaveParams:E.Z.object,poster:E.Z.string,banner:E.Z.string,art:E.Z.string},syncedAttrs:{mixedFields:E.Z.list.isRequired,key:{type:E.Z.string,save:!0},ratingKey:{type:E.Z.string,save:!0},parentRatingKey:{type:E.Z.string,save:!0},grandparentRatingKey:{type:E.Z.string,save:!0},title:{type:E.Z.string,save:!0},titleSort:{type:E.Z.string,save:!0},originalTitle:{type:E.Z.string,save:!0},parentTitle:{type:E.Z.string,save:!0},grandparentTitle:{type:E.Z.string,save:!0},year:{type:E.Z.string,save:!0},tagline:{type:E.Z.string,save:!0},summary:{type:E.Z.string,save:!0},studio:{type:E.Z.string,save:!0},contentRating:{type:E.Z.string,save:!0},originallyAvailableAt:{type:E.Z.string,save:!0},rating:{type:E.Z.float,save:!0},userRating:{type:E.Z.float,save:!0},index:{type:E.Z.integer,save:!0},parentIndex:{type:E.Z.integer,save:!0}},sessionRelations:{preferences:{relationClass:D.Z}},syncedRelations:Object.keys(A).reduce(((e,t)=>(e[A[t]]={relationClass:w,rootPropertyName:t,save:!0},e)),{lockedFields:{relationClass:x,rootPropertyName:"Field",save:!0}}),derivedAttrs:{type(){const e=this.getSingleMetadataItem();if(e)return e.get("type")},aggregateTitle(){if(this.get("metadataItems").length)return T.Z.title(null,{items:this.get("metadataItems")})},isSingleMetadataItem(){return 1===this.get("metadataItems").length}},defaults:()=>({metadataItems:[],mixedFields:[]}),initialize(e,t){this.set("metadataItems",l().clone(t.metadataItems))},getSingleMetadataItem(){return l().first(this.get("metadataItems"))},getUrlParams(){const e=(0,S.getMetadataType)(this.get("type")),t=l().map(this.get("metadataItems"),(e=>e.get("ratingKey")));return{type:e.id,id:t.join(","),includeExternalMedia:1}},getSaveParams(){const e=P.Z.prototype.getSaveParams.apply(this,arguments),t=this.get("originalSaveParams");if(!t)return e;const n={};if(l().each(e,((e,r)=>{const i=t[r];l().isEqual(e,i)||l().extend(n,this.getSaveParam(r,e,i))})),n.isReparenting){delete n.isReparenting;const e=N[this.get("type")];l().each(e,((e,t)=>{const r=e+".value",i=this.getQueryAttrSibling(e)+".value",s=l().has(n,r),a=l().has(n,i);if(s&&a&&r!==i&&delete n[i],!s&&!a){const e=this.get(t);e&&(n[r]=e)}}))}return n},getSaveParam(e,t,n){if("Field"===e)return this.getFieldSaveParams(e,t,n);if(A.hasOwnProperty(e))return this.getTagSaveParams(e,t,n);const r=N[this.get("type")];if(r&&l().has(r,e)){const n=r[e];return t?{isReparenting:!0,[n+".value"]:t}:void 0}return{[e+".value"]:t}},getFieldSaveParams:(e,t,n)=>t.reduce(((e,t)=>(e[t.name+".locked"]=t.locked,e)),{}),getTagSaveParams(e,t,n){const r=l().map(t,(e=>e.tag)),i=l().map(n,(e=>e.tag)),s=l().without(i,...r),a=e.toLowerCase(),o={};return r.forEach(((e,t)=>{o[a+"["+t+"].tag.tag"]=e})),s.length&&(o[a+"[].tag.tag-"]=l().map(s,encodeURIComponent).join(",")),o},getQueryAttr(e){const t=this.get("type"),n=N[t];return n&&n[e]||e},getQueryAttrSibling(e){const t=this.getQueryAttr(e).match(/(^.*\.)(.*$)/);return t?t[1]+("id"===t[2]?"title":"id"):e}});var L=n(1193),j=n(79317),R=n(46140),V=n.n(R);const U=j.Z.extend({template:V(),serializeData(){const e=this.model.get("preferences"),t=this.model.getSingleMetadataItem().get("preferences");return e.length?t.reduce(((t,n)=>{const r=e.get(n.id);return r?t.push(r.toJSON()):t.push(n.toJSON()),t}),[]):t.toJSON()},flushChanges(){const e=this.ui.form.serializeArray(),t=this.model.getSingleMetadataItem().get("preferences"),n=this.model.get("preferences");e.forEach((e=>{const r=n.get(e.name)||t.get(e.name),i=r.clone();i.parseAndSetValue(e.value),i.get("value")!==r.get("value")&&n.add(i,{merge:!0})}))}});var z=n(65652),B=n(95688),_=n(47479);const F=P.Z.extend({name:"ArtworkModel",context:["server","artworkType"],idAttribute:"ratingKey",rootPropertyName:"Photo",syncedAttrs:{key:E.Z.string,ratingKey:E.Z.string,thumb:E.Z.string,selected:E.Z.boolean}},{types:{POSTER:"poster",ART:"art",BANNER:"banner"}}),H=M.Z.extend({name:"ArtworkCollection",context:["server","artworkType"],model:F,url(){const e=I.Z.parseUrl(l().result(this.parent,"url"));return I.Z.join([e.pathname,`${this.artworkType}s`],e.params)}});var W=n(21009),Q=n(53779),G=n(62779),Y=n(93634),q=n(71539),K=n.n(q);const $=z.Z.Layout.extend({tagName:"span",template:K(),regions:{poster:".media-poster"},initialize:function(e){var t=e.artworkType,n=150;"art"===t?n=240:"banner"===t&&(n=520),this.$el.addClass(t),this.image=new Y.Z({className:"media-poster-image",model:this.model,modelAttribute:"thumb",placeholderClass:Q.Z[t],width:n,height:G.Z.getPosterHeight(t,n)})},bindings:{".artwork-option":{modelAttribute:"selected",manual:!0,formatter:function(e,t){t.toggleClass("selected",e)}}},onRender:function(){this.poster.show(this.image)}}),X=W.Z.extend({className:"artwork-options-list",itemView:$});var J=n(13990),ee=n.n(J);const te=z.Z.Layout.extend({template:ee(),dragStatus:0,ui:{upload:".upload-artwork-container",urlInput:"input[name=url]"},regions:{list:".artwork-list-container"},events:{dragenter:"onDragEnter",dragleave:"onDragLeave",dragover:"onDragOver",drop:"onDrop",keydown:"onKeyDown","change .artwork-file-control":"onFileChange","click .upload-url-btn":"onUploadUrlClick","click .cancel-url-btn":"onCancelUrlClick","click .submit-url-btn":"onUrlSubmit","submit #upload-form":"onUrlSubmit","click .upload-back-btn":"onUploadBackClick","click .artwork-option":"onArtworkOptionClick"},initialize:function(e){this.type=e.type,this.metadataItem=this.model.getSingleMetadataItem(),this.changes={},this.collection=new H([],{server:this.model.server,section:this.model.section,parent:this.metadataItem,artworkType:this.type}),this.collection.fetch()},serializeData:function(){return{showUpload:this.model.server.supports("artworkUpload"),showFileUpload:_.Z.hasFileUpload}},flushChanges:function(){this.model.set(this.changes)},uploadFiles:function(e){if(e&&e.length){this.changes={},this.ui.upload.removeClass("show-success show-error");var t=this.collection.url(),n=l().extend(this.model.server.getXHROptions(t),{type:"POST",processData:!1}),r=[],i=l().bind((function(e){/image\//.test(e.type)&&(n.data=e,r.push(a().ajax(n)))}),this);l().each(e,i),r.length?(this.ui.upload.addClass("show-progress"),this.monitorUpload(a().when.apply(a(),r))):this.ui.upload.addClass("show-error")}},uploadUrl:function(e){this.changes={},this.ui.upload.removeClass("show-form"),this.ui.upload.addClass("show-progress"),this.ui.urlInput.val("");var t=I.Z.join(this.collection.url(),{url:e}),n=this.model.server.getXHROptions(t,{type:"POST"});this.monitorUpload(a().ajax(n))},monitorUpload:function(e){e.done(l().bind((function(){this.isClosed||this.ui.upload.addClass("show-success");var e={server:this.model.server,onlyIfCached:!0},t=new B.Z({key:this.metadataItem.get("key")},e);l().isEmpty(t)||t.fetch({usePopulatedParams:!0,data:{includePreferences:"1"}}),this.collection.fetch()}),this)),e.fail(this.whenRendered((function(){this.ui.upload.addClass("show-error")}))),e.always(this.whenRendered((function(){this.ui.upload.removeClass("show-progress")})))},onRender:function(){this.list.show(new X({collection:this.collection,itemViewOptions:{artworkType:this.type}}))},onDragEnter:function(e){this.dragStatus++,this.ui.upload.addClass("drag-hover")},onDragLeave:function(e){this.dragStatus--,0===this.dragStatus&&this.ui.upload.removeClass("drag-hover")},onDragOver:function(e){e.preventDefault()},onDrop:function(e){e.preventDefault(),e.stopPropagation(),this.dragStatus=0,this.ui.upload.removeClass("drag-hover"),this.uploadFiles(e.originalEvent.dataTransfer.files)},onKeyDown:function(e){27===e.which&&this.ui.upload.hasClass("show-form")&&(e.preventDefault(),this.ui.upload.removeClass("show-form"))},onFileChange:function(e){this.uploadFiles(e.target.files)},onUploadUrlClick:function(e){e.preventDefault(),this.ui.upload.addClass("show-form"),this.ui.urlInput.focus()},onCancelUrlClick:function(e){e.preventDefault(),this.ui.upload.removeClass("show-form")},onUrlSubmit:function(e){e.preventDefault();var t=this.ui.urlInput.val();t?this.uploadUrl(t):this.ui.upload.removeClass("show-form")},onUploadBackClick:function(e){e.preventDefault(),this.ui.upload.removeClass("show-success show-error")},onArtworkOptionClick:function(e){e.preventDefault();var t=a()(e.currentTarget),n=t.data("ratingKey");this.$(".artwork-option.selected").removeClass("selected"),t.addClass("selected"),this.changes[this.type]=n}});var ne=n(41208),re=n(29415),ie=n(95933),se=n(17441),ae=n.n(se);const oe=z.Z.ItemView.extend({template:ae(),tagName:"li",className:"well",serializeData:function(){return{file:this.model.get("file")}}});var le=n(39706),ce=n.n(le);const de=z.Z.CompositeView.extend({template:ce(),className:"files",itemView:oe,itemViewContainer:"ul",initialize:function(){this.collection=new re.Z,this.populateParts().always(this.whenRendered((function(){this.$(".loading").addClass("hidden")})))},populateParts:function(){var e=this.collection;function t(e){var t=e.get("Media");if(t&&t.length)return l().each(t,n),t}function n(e){l().each(e.Part,r)}function r(t){e.push(t)}var i=this.model.getSingleMetadataItem();return t(i)?a().Deferred().resolve():i.populate().then((function(){if(!t(i)&&i.has("childrenKey")){const e=new ie.Z({containerKey:i.get("childrenKey")},{server:i.server,provider:i.provider,skipCache:!0});return e.fetch().then((function(){e.get("metadataItems").each(t)}))}}))},flushChanges:function(){}});var ue=n(76249),pe=n(45399),me=(n(62568),n(12801)),he=n(10723),ge=n(39092);const ye=function(e,t){var n=a()(t),r=n.data("name"),i=n.data("query")||n.data("name"),s=n.data("attr"),o=!!n.data("only-delete"),c=e.model.get(s).toJSON(),d=l().pluck(c,"tag"),u=e.model["original.tag."+r];u||(u=l().clone(c),e.model["original.tag."+r]=u);var p=l().difference(d,l().pluck(u,"tag"));if(p.length){var m=l().map(p,(function(e){return{tag:e}}));m.unshift(u.length,0),u.splice.apply(u,m)}var h=function(t){e.model["original.allTagsRequested."+r]=!0,new he.Z({filter:r,filterType:"string"},{server:e.model.server,section:e.section,type:(0,S.getMetadataType)(e.model.get("type")).id}).get("options").populate().then(l().bind((function(n){e.model["original.allTagsAvailable."+r]=!0,t(n.map((function(e){return{tag:e.attributes.title}})))}),e))};n.data("original-value",n.val()),n.selectize({options:u,items:d,plugins:["remove_button"],create:!0,hideDropdown:o,labelField:"tag",valueField:"tag",sortField:"tag",searchField:["tag"],highlight:!1,createFilter:function(e){return!l()(this.options).findWhere({tag:e})},onInitialize:function(){o&&(this.$control.off("click mousedown"),this.$control.addClass("no-input"),this.$control_input.prop("disabled",!0))},onChange:function(){e.onLockableFieldChange(n)},onFocus:function(){this.onSearchChange("")},loadingClass:"",load:function(t,n){if(i!==r||t.length&&e.canAutocomplete)if(e.model["original.allTagsAvailable."+r]||0===t.length)n();else{var s={};s[i]=t;var a=new ge.Z([],{server:e.model.server,multiMetadataItem:e.model,query:s}),o=i===r?function(e){return e.toJSON()}:function(e){return{tag:e.get(i)}};a.fetch().done((function(e){var t=e.map(o);n(t)})).fail((function(){n()}))}else e.model["original.allTagsRequested."+r]?n():h.call(e,n)},render:{item:function(e,t){return'<div class="item">'+(e.tag?t(e.tag):'<span class="autocomplete-annotate">('+(0,b.Z)("blank")+")</span>")+"</div>"},option:function(e,t){return'<div class="item">'+(e.tag?t(e.tag):'<small class="autocomplete-annotate">('+(0,b.Z)("blank")+")</small>")+"</div>"}}})};var ve=n(18866),fe=n.n(ve),be=n(81570),Se=n.n(be),Ie=n(29800),Ze=n.n(Ie),Pe=n(4922),Ee=n.n(Pe),Me=n(2362),Ce=n.n(Me),we=n(79988),De=n.n(we),Te=n(58830),Oe=n.n(Te);const xe=j.Z.extend({templatesByType:{movie:Ee(),show:De(),episode:Ze(),artist:Se(),album:fe(),track:Oe(),photo:Ce()},ui:l().extend({tagInputs:".tag-input-hidden"},j.Z.prototype.ui),events:l().extend({"change .lockable-field":"onLockableFieldChange"},j.Z.prototype.events),initialize:function(e){this.template=this.templatesByType[this.model.get("type")]||this.templatesByType.movie,this.canAutocomplete=this.model.server.supports("batchEdit"),this.canEditSimilarArtists=this.model.server.supports("editSimilarArtists"),this.getSection()},getSection:function(){var e=this.model.section;if(!e){var t=this.model.get("librarySectionID");e=new me.Z({key:t},{server:this.model.server})}this.section=e},flushChanges:function(){var e=this.ui.form,t=l().reduce(e.serializeArray(),(function(e,t){return e[t.name]=t.value,e}),{}),n=l().reduce(this.ui.tagInputs,(function(e,t){var n=t.selectize,r=a()(t).data("name");return e[a()(t).data("attr")]=l().map(n.items,(function(e){var t=n.options[e];return{tag:t.tag,id:t.id}})),this.model["original.tag."+r]=l().toArray(n.options),e}),{},this);l().each(n,(function(e,t){this.model.get(t).set(e,{parse:!0})}),this),this.model.get("lockedFields").set(this.getLockedFieldsArray(),{parse:!0}),this.model.set(t)},serializeData(){return this.model.get("editableTags").reduce(((e,t)=>(e.editableTags[t]=!0,e)),j.Z.prototype.serializeData.apply(this,arguments))},onRender:function(){var e=this;this.ui.tagInputs.each((function(t,n){ye(e,n)}))}});var Ae=n(52223),Ne=n.n(Ae);const ke=xe.extend({templatesByType:{movie:Ne(),show:Ne(),album:Ne(),photo:Ne()},serializeData:function(){var e=c.DB("appModel"),t=e.get("user"),n=xe.prototype.serializeData.apply(this,arguments);const r=t.get("features").get(pe.d6);return l().extend(n,{showLabels:this.model.server.supports("labels"),escapedLabelsMinVersion:ue.Z.labels,hasContentFilterFeature:r,plexPassUrl:t.server.get("plexPassUrl")}),n}});var Le=n(21288),je=n(64898),Re=n(68121),Ve=n.n(Re),Ue=Object.defineProperty,ze=Object.prototype.hasOwnProperty,Be=Object.getOwnPropertySymbols,_e=Object.prototype.propertyIsEnumerable,Fe=(e,t,n)=>t in e?Ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,He={movie:["general","tags","sharing","poster","art","info","advanced"],show:["general","tags","sharing","poster","banner","art","advanced"],season:["general","poster","art","info","advanced"],episode:["general","tags","poster","art","info","advanced"],artist:["general","tags","poster","art","advanced"],album:["general","tags","sharing","poster","art","info","advanced"],track:["general","tags","info","advanced"],photoalbum:["general","poster","art","advanced"],photo:["general","tags","info","advanced"],clip:["general","info","advanced"],collection:["general","sharing","poster","art","info","advanced"]},We=["poster","art","banner","info","advanced"];function Qe({server:e,provider:t,metadataTypeName:n,sectionKey:r}){const i=new u.Z({key:`/library/sections/${r}`},{server:e,provider:t,includeAdvanced:!0});return i.populate().then((()=>{const e=i.get("types").findWhere({type:n});return e?e.get("fields").filter((e=>"tag"===e.get("type"))).map((e=>e.get("key"))):[]}))}const Ge=Le.Z.extend({mixins:[Z.Z],name:"editMetadataModal",className:"edit-metadata-modal modal modal-lg fade",template:Ve(),panes:{general:{constructor:ne.Z},tags:{constructor:xe},poster:{constructor:te},art:{constructor:te},banner:{constructor:te},sharing:{constructor:ke},info:{constructor:de},advanced:{constructor:U}},events:((e,t)=>{for(var n in t||(t={}))ze.call(t,n)&&Fe(e,n,t[n]);if(Be)for(var n of Be(t))_e.call(t,n)&&Fe(e,n,t[n]);return e})({"click .change-pane-btn":"onChangePaneClick","click .save-btn":"onFormSubmit","submit .edit-metadata-form":"onFormSubmit"},Le.Z.prototype.events),ui:{saveBtn:".save-btn",message:".form-message",navPane:".modal-nav-pane",loadingIndicator:".modal-body-pane .loading-inline"},regions:{paneRegion:".pane-region"},onlyAfterRender:["saveChanges","showPane","showNav"],initialize:function(e){Le.Z.prototype.initialize.apply(this,arguments);const t=e.items||[this.model],n=t[0],r=n.server;this.model=new k({},{server:r,metadataItems:t}),this.on("before:close",this.onBeforeClose),this._initCancelable=(0,f.Z)(n.fetch({usePopulatedParams:!0,data:{includePreferences:"1"}}).then((()=>{const e=(0,y.Z)(n,{onlyIfCached:!1});return this.model.setContext("section",e),this.model.populate().then((()=>e.get("key")))})).then((e=>Qe({server:r,provider:n.provider,metadataTypeName:this.model.get("type"),sectionKey:e})))),this._initCancelable.promise.then((t=>{this.model.set({editableTags:t,originalSaveParams:this.model.getSaveParams()}),this.render(),this.showNav(),this.showPane(e.selectedPane||"general"),this.listenTo(g.Z,"shortcut:save",this.saveChanges)}),(({isCanceled:e})=>{e||(this.ui.message.text((0,b.Z)("There was an error editing this item")),this.ui.loadingIndicator.addClass("hidden"))}))},serializeData:function(){const e=this.model.get("type");let t=He[e]||He[S.MOVIE];this.model.get("isSingleMetadataItem")||(t=l().difference(t,We)),this.model.getSingleMetadataItem().has("preferences")||(t=l().difference(t,["advanced"])),this.model.getSingleMetadataItem().get("remoteMedia")&&(t=l().difference(t,["info"]));var n=(0,b.Z)("Edit {1}",this.model.get("aggregateTitle"),{escape:!0});return{item:this.model.toJSON(),panes:(0,m.Z)(t,(e=>e),(()=>!0)),selectedPane:this.selectedPane,paneTitle:n}},paneConstructorArg:function(){return{type:this.selectedPane}},invalidChangedAttrs:function(e){var t=[];const n=this.model.get("type");if(n===S.TRACK){var s=l().has(e,"artist.id.value")||l().has(e,"artist.title.value")||l().has(e,"album.id.value")||l().has(e,"album.title.value"),a=e["album.id.value"]||e["album.title.value"],o=e["artist.id.value"]||e["artist.title.value"];!s||o&&a||(o||t.push("grandparentTitle"),a||t.push("parentTitle"))}else if(n===S.ALBUM&&!this.model.get("isSingleMetadataItem")){const n=this.model.get("mixedFields"),r=l().has(e,"artist.title.value")||l().has(e,"artist.id.value"),i=l().includes(n,"ratingKey"),s=l().has(e,"title.value");i&&s&&!r&&t.push("parentTitle")}if(l().has(e,"originallyAvailableAt.value")){var c=e["originallyAvailableAt.value"];if(/^\d{4}$/.test(c)&&(e["originallyAvailableAt.value"]+="-01-01",c=e["originallyAvailableAt.value"]),""!==c){var d=(0,r.Z)((0,i.Z)(c,"yyyy-MM-dd",new Date)),u=(0,r.Z)((0,i.Z)(c,"yyyy-MM-dd HH:mm:ss",new Date));d||u||t.push("originallyAvailableAt")}else this.model.set("originallyAvailableAt",c)}return t},markInvalid:function(e){this.paneRegion.currentView.markInvalid(e)},showNav:function(){this.ui.navPane.removeClass("hidden")},saveChanges:function(){var e=this.ui.saveBtn,t=this.ui.message;if(!e.isDisabled()){t.text(""),this.paneRegion.currentView.flushChanges();var n=[],r=this.model.getSaveParams(),i=this.invalidChangedAttrs(r);if(i.length)this.markInvalid(i);else{e.addClass("active");var s=this.showAdvancedConfirmModal({saving:!0});s.done((()=>{["poster","banner","art"].forEach((e=>{var t=this.model.get(e);t&&n.push(d.Z.execute("changeArtwork",{item:this.model.getSingleMetadataItem(),artworkType:e,artworkRatingKey:t}))})),n.push(this.savePreferences()),n.push(this.model.save());var r=a().when.apply(a(),n);r.done((()=>{var e=c.DB("appStore").dispatch,t=this.model.server.entityID();t&&e((0,p.jR)({serverEntityID:t})),this.hide()})),r.fail((function(){t.text((0,b.Z)("Your changes could not be saved."))})),r.always((function(){e.removeClass("active")}))})),s.fail((()=>{e.removeClass("active"),this.showPane("advanced")}))}}},savePreferences:function(){var e=this.model.get("preferences");if(!e.length)return a().Deferred().resolve().promise();var t=this.model.getSingleMetadataItem(),n=I.Z.join(["/library/metadata",t.get("ratingKey"),"prefs"],e.getSaveParams()),r=this.model.server.getXHROptions(n,{type:"PUT"}),i=a().ajax(r);return i.done((()=>{var n=t.get("preferences");e.forEach((function(e){n.get(e.id).set("value",e.get("value"))}));var r=c.DB("appStore").dispatch,i=(0,v.Z)({serverIdentifier:this.model.server.get("machineIdentifier"),providerIdentifier:h.Y3,key:t.get("key")});r(L.Z.actions.preferenceChanged({sourceURI:i,preferences:e.toJSON()}))})),i},showAdvancedConfirmModal:function(){if(!this.model.get("preferences").some((function(e){return/^autoDeletion/.test(e.id)})))return a().Deferred().resolve().promise();var e=new je.Z({title:(0,b.Z)("Confirm Deletion Settings"),message:(0,b.Z)("Deletion settings will take effect immediately! Files may be deleted and this can't be undone. Are you sure?"),confirmLabel:(0,b.Z)("Yes"),cancelLabel:(0,b.Z)("Cancel"),requireDoubleConfirm:!0,doubleConfirmMessage:(0,b.Z)("Multiple files may be deleted."),doubleConfirmLabel:(0,b.Z)("Yes, I'm sure"),hasDanger:!0});return g.Z.trigger("show:modal",e),e.promise},onBeforeClose:function(e){this._initCancelable.cancel()},onPaneShow:function(e,t){this.listenTo(t,"focusSubmit",(function(){this.ui.saveBtn.focus()}))},onPaneHide:function(e,t){t.flushChanges(),this.stopListening(t)},onFormSubmit:function(e){e.preventDefault(),this.saveChanges()}})},28725:(e,t,n)=>{"use strict";n.d(t,{Z:()=>at});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(93966),l=n(12801),c=n(76249),d=n(53145),u=n(46453),p=n(67006),m=n(17524),h=n(32846),g=n(48523),y=n(55983),v=n(41658),f=n(36600),b=n(5562),S=n(94716),I=n(69881),Z=n(32003),P=n(84936),E=n(26512),M=n(10612),C=n(43666),w=n(94018),D=n(65652),T=n(72988),O=n.n(T);const x=D.Z.ItemView.extend({template:O(),events:{"change input[name]":"onInputChange","change select[name]":"onInputChange"},initialize:function(){this.changes={}},serializeData:function(){return{settings:this.collection.toJSON(),escapedAgentName:a().escape(this.model.agents.get(this.model.get("agent")).get("name"))}},onInputChange:function(e){var t=i()(e.currentTarget),n=t.is(":checkbox")?t.prop("checked"):t.val();this.collection.findWhere({id:t.attr("name")}).set("value",n)}});var A=n(91485),N=n(73913),k=n(43270),L=n(12152),j=n.n(L);const R=j().extend({constructor:function(e,t,n,r){this.exclusiveScanners=t,this.scannerName=n,j().call(this,e,r),this.filterBy(a().bind(this.filterExclusiveScanner,this))},filterExclusiveScanner:function(e){var t=e.get("name"),n=this.exclusiveScanners;if(!n)return!0;var r=this.scannerName,i=-1!==n.indexOf(r),s=-1!==n.indexOf(t);return i?t===r:!s}});var V=n(12634),U=n(53334),z=n(14408);const B=U.Z.extend({name:"ScannerModel",context:["server"],rootPropertyName:"Scanner",syncedAttrs:{name:z.Z.string}}),_=V.Z.extend({name:"ScannerCollection",context:["server","sectionTypeID"],model:B,url:function(){return"/system/scanners/"+this.sectionTypeID},hasExclusiveScanner:function(e){return!!a().intersection(this.pluck("name"),e).length}}),F=D.Z.Layout.extend({ui:{formGroup:".form-group"},onlyAfterRender:["showValidationResult"],serializeData:function(){var e={};return this.model.isNew()?e.add=!0:e.edit=!0,e.section=this.model.toJSON(),e},showValidationResult:function(e){var t=this.ui.formGroup;t.removeClass("has-error"),a().each(e,(function(e){t.filter("."+e+"-group").addClass("has-error")})),this.trigger(e.length?"invalid":"valid")},createMenuOptions:function(e,t){return a().map(e,(function(e){return'<option value="'+e.value+'"'+(e.value===t?" selected":"")+">"+e.label+"</option>"})).join("\n")},getSectionType:function(){if(this.model.sectionType)return this.model.sectionType;var e=this.model.get("type"),t=Z.ZP.get(e);return"movie"===e&&this.model.get("agent")===u.Hn&&(t=Z.ZP.get("videos")),this.model.sectionType=t,t},setSectionType:function(e){this.model.sectionType=e},populateAgents:function(){var e=this.getSectionType();return e?(this.model.agents||(this.model.agents=new N.Z([],{server:this.model.server,mediaTypeID:e.typeID})),this.model.agents.populate().then((function(e){return e}))):i().Deferred().reject().promise()},populateScanners:function(){var e=this.getSectionType();return e?(this.model.scanners||(this.model.scanners=new _([],{server:this.model.server,sectionTypeID:e.typeID})),this.model.scanners.populate().then((function(e){return e}))):i().Deferred().reject().promise()},populateAgentsProxy:function(){var e=this.getSectionType().exclusiveAgents,t=new k.Z(this.model.agents,e,this.model.get("agent"));return this.model.agentsProxy=t,i().Deferred().resolve(t).promise()},populateScannersProxy:function(){var e=this.getSectionType().exclusiveScanners,t=new R(this.model.scanners,e,this.model.get("scanner"));return this.model.scannersProxy=t,i().Deferred().resolve(t).promise()},populateSectionSettings:function(){if(!this.model.server.supports("sectionSettings"))return i().Deferred().resolve().promise();if(!this.model.settings){var e=new A.Z([],{server:this.model.server}),t={agent:this.model.get("agent")};if(this.model.isNew()){var n=this.getSectionType();t.type=n.typeID,e.url=P.Z.join(["/library/sections/prefs"],t)}else e.url=P.Z.join(["/library/sections/",this.model.id,"/prefs"],t);this.model.settings=e}return this.model.settings.populate().then((()=>(!(!this.model.isNew()||"music"!==this.model.get("type")||!this.model.server.supports("premiumMusic")||this.model.settings.findWhere({id:"importFromiTunes"})||!this.model.server.get("desktop").get("settings").findWhere({id:"iTunesLibraryXmlPath"}))&&this.model.settings.unshift({type:"bool",id:"importFromiTunes",value:!1,label:(0,b.Z)("Import from iTunes"),summary:(0,b.Z)("Importing from iTunes will import your music playlists. It will also import your ratings, the date you added the music, as well as play and skip counts for tracks in your library.")}),this.model.settings)))},populateSectionAgentSettings:function(){if(!this.model.agentSettings){var e=new A.Z([],{server:this.model.server,url:P.Z.join(["/:/plugins/",this.model.get("agent"),"/prefs"])});this.model.agentSettings=e}return this.model.agentSettings.populate()},onModalClose:function(){this.model.scanners=null,this.model.scannersProxy=null,this.model.agents=null,this.model.agentsProxy=null,this.model.settings=null}});var H=n(68799),W=n.n(H);const Q=D.Z.ItemView.extend({template:W(),events:{"change [name]":"onEditSectionSettingInputChange"},serializeData:function(){return{settings:this.collection.toJSON(),edit:!this.model.isNew()}},onEditSectionSettingInputChange:function(e){var t=i()(e.currentTarget),n=t.attr("name");if("importFromiTunes"!==n){var r=t.is(":checkbox")?t.prop("checked"):t.val();this.collection.findWhere({id:n}).set("value",r)}else this.model.set(n,!0)}});var G=n(62288),Y=n.n(G);const q=F.extend({template:Y(),ui:a().extend({sectionAgent:"#edit-section-agent",sectionScanner:"#edit-section-scanner",thumbnailsCheckbox:'input[name="enableBIFGeneration"]',agentGroup:".agent-group",scannerGroup:".scanner-group"},F.prototype.ui),events:{"change #edit-section-agent":"onEditSectionAgentChange","change #edit-section-scanner":"onEditSectionScannerChange","click .delete-thumbnails-btn":"onThumbnailsDeleteClick"},regions:{sectionSettingsRegion:".section-settings-region",agentSettingsRegion:".section-agent-settings-region"},onlyAfterRender:["renderSectionAgent","renderSectionScanner","renderSectionSettings","renderSectionAgentSettings"].concat(F.prototype.onlyAfterRender),initialize:function(){this.populateCollections()},onRender:function(){this.model.agents.populate(),this.model.scanners.populate()},validate:function(e){var t=[];return e.get("agent")||t.push("agent"),e.get("scanner")||t.push("scanner"),t},renderSectionSettings:function(){var e=new Q({model:this.model,collection:this.model.settings});this.sectionSettingsRegion.show(e)},renderSectionAgentSettings:function(){var e=new x({model:this.model,collection:this.model.agentSettings});this.agentSettingsRegion.show(e)},populateCollections:function(){var e=this.populateAgents(),t=this.populateScanners(),n=this.populateSectionSettings(),r=this.populateSectionAgentSettings();return this.populateAgentsProxy(),this.populateScannersProxy(),e.then(a().bind(this.onAgentsPopulate,this)),t.then(a().bind(this.onScannersPopulate,this)),n.then(a().bind(this.renderSectionSettings,this)),r.then(a().bind(this.renderSectionAgentSettings,this)),i().when(e,t,n,r).then(a().bind(this.validate,this,this.model))},renderSectionAgent:function(){var e=this.model.agentsProxy,t=this.createMenuOptions(e.map((function(e){return{label:e.get("name"),value:e.get("identifier")}})),this.model.get("agent"));this.ui.sectionAgent.html(t),e.length>1&&this.ui.agentGroup.removeClass("hidden")},renderSectionScanner:function(){var e=this.model.scannersProxy,t=this.createMenuOptions(e.map((function(e){return{label:e.get("name"),value:e.get("name")}})),this.model.get("scanner"));this.ui.sectionScanner.html(t),e.length>1&&this.ui.scannerGroup.removeClass("hidden")},updateSectionAgent:function(e){var t=this.model.get("scanner");this.model.set("agent",e),this.agentSettingsRegion.close();var n=this.model.agents.get(e);if(n){var r=n.get("languages"),i=this.model.get("language"),s=this.getSectionType();if(!r.get(i)){var o=r.findWhere({default:!0});o||2!==i.search("-")||(o=r.get(i.substr(0,2))),o||(o=r.get(s.defaultLanguage)||r.first()),this.model.set("language",o.get("code"))}if(this.model.agentSettings=null,this.populateSectionAgentSettings().then(a().bind(this.renderSectionAgentSettings,this)),this.model.settings=null,this.populateSectionSettings().then(a().bind(this.renderSectionSettings,this)),e===s.mutual.agent)this.model.set("scanner",s.mutual.scanner),this.renderSectionScanner();else if(this.model.get("scanner")===s.mutual.scanner){var l=this.model.scanners.find((e=>e.get("name")!==t));this.model.set("scanner",l.get("name")),this.renderSectionScanner()}}this.showValidationResult(this.validate(this.model))},onEditSectionAgentChange:function(e){var t=i()(e.currentTarget).val();this.updateSectionAgent(t)},onEditSectionScannerChange:function(e){var t=i()(e.currentTarget).val(),n=this.model.get("agent"),r=this.getSectionType();if(this.model.set("scanner",t),t===r.mutual.scanner)this.updateSectionAgent(r.mutual.agent),this.renderSectionAgent();else if(this.model.get("agent")===r.mutual.agent){var s=this.model.agents.find((e=>e.get("identifier")!==n));this.updateSectionAgent(s.get("identifier")),this.renderSectionAgent()}this.showValidationResult(this.validate(this.model))},onAgentsPopulate:function(e){this.renderSectionAgent()},onScannersPopulate:function(e){this.renderSectionScanner()},onThumbnailsDeleteClick:function(e){e.preventDefault(),w.Z.execute("deleteSectionThumbnails",{section:this.model}).done(this.whenRendered((function(){this.ui.thumbnailsCheckbox.prop("checked",!1)})))}});var K=n(43298),$=n.n(K);const X=F.extend({template:$()});var J=n(12610),ee=n(1547),te=n(50468),ne=n(79931),re=n.n(ne);const ie=D.Z.ItemView.extend({template:re(),className:"row",events:{"click .remove-path-btn":"onRemovePathClick"},onRemovePathClick:function(e){e.preventDefault(),this.model.trigger("destroy",this.model,this.model.collection)}}),se=D.Z.CollectionView.extend({itemView:ie});var ae=n(33295),oe=n(10059),le=n(6153),ce=n.n(le);const de=D.Z.ItemView.extend({tagName:"li",className:"striped-list-item browse-directory-list-item disabled",template:ce(),serializeData:function(){return{filePath:this.model.toJSON()}}});var ue=n(40277),pe=n.n(ue);const me=D.Z.CompositeView.extend({template:pe(),itemView:de,itemViewContainer:".js-file-list-items",bindings:{".js-file-list-truncated-message":{modelAttribute:"truncatedFilesCount",formatter:e=>e?(0,b.Z)("…and {truncatedFilesCount} more",{truncatedFilesCount:e}):null}}});var he=n(48966),ge=n.n(he);const ye=D.Z.ItemView.extend({tagName:"li",className:"striped-list-item browse-directory-list-item",template:ge(),ui:{link:"a",spinner:".loading"},serializeData:function(){return{filePath:this.model.toJSON(),isRoot:!this.model.parent}},select:function(e){this.ui.link.addClass("selected"),this.ui.spinner.toggleClass("hidden",!e)},unselect:function(){this.ui.link.removeClass("selected"),this.ui.spinner.addClass("hidden")}}),ve=D.Z.CollectionView.extend({tagName:"ul",className:"list browse-directory-list",itemView:ye,selectedFilePath:null,events:{"click a":"onDirectoryClick"},collectionEvents:{reset:"onReset"},startLoadingItem:function(e){this.selectedFilePath&&this.unselectItem(this.selectedFilePath),this.selectedFilePath=e;var t=this.children.findByModel(e);t&&t.select(!0)},stopLoadingItem:function(e){var t=this.children.findByModel(e);t&&t.select(!1)},unselectItem:function(e){this.selectedFilePath=null;var t=this.children.findByModel(e);t&&t.unselect()},onReset:function(){this.parentFilePath&&this.collection.add(this.parentFilePath,{at:0})},onDirectoryClick:function(e){e.preventDefault();var t=i()(e.currentTarget).data("key"),n=this.collection.get(t)||this.parentFilePath;this.trigger("change:path",n),this.options.isRoot||(n.parent.parent?(this.parentFilePath=n.parent.parent.clone(),this.parentFilePath.set({title:".. [Back]",isBackShortcut:!0})):this.parentFilePath=null)}});var fe=n(21288),be=n(68505),Se=n.n(be);const Ie=fe.Z.extend({name:"addFolderModal",className:"add-folder-modal modal fade",template:Se(),events:a().extend({"submit form":"onSubmitForm"},fe.Z.prototype.events),ui:{path:'input[name="path"]'},regions:{rootList:".home-directory-container",childrenList:".path-container",childrenFileList:".file-container"},initialize:function(e){fe.Z.prototype.initialize.apply(this,arguments),this.rootPathList=new oe.Z({},{server:e.server,includeFiles:1}),this.childrenPathList=new oe.Z({},{server:e.server,includeFiles:1}),this.loadRootPaths()},loadRootPaths:function(){this.rootPathList.fetch().done(this.whenRendered((function(){var e=this.rootPathList.get("paths").where({home:!0}),t=a().first(e)||this.rootPathList.get("paths").first();this.rootList.currentView.startLoadingItem(t),this.loadChildrenPaths(t)})))},loadChildrenPaths:function(e){ae.Z.abortAll("addFolderModal");var t=e.get("children"),n=t.fetch({scope:"addFolderModal"});n.done(this.whenRendered((function(){this.ui.path.val(e.get("path")),this.childrenPathList.get("paths").reset(t.get("paths").models),this.childrenPathList.get("files").reset(t.get("files").models),this.childrenPathList.set("truncatedFilesCount",t.get("truncatedFilesCount"))}))),n.fail(this.whenRendered((function(){this.childrenList.currentView.unselectItem(e),h.Z.trigger("show:alert",{type:"error",message:(0,b.Z)("Unable to load contents of '{1}'",e.get("path"))})}))),n.always(this.whenRendered((function(){this.rootList.currentView.stopLoadingItem(e)})))},onRender:function(){fe.Z.prototype.onRender.apply(this,arguments);var e=new ve({isRoot:!0,collection:this.rootPathList.get("paths")}),t=new ve({collection:this.childrenPathList.get("paths")}),n=new me({model:this.childrenPathList,collection:this.childrenPathList.get("files")});this.listenTo(e,"change:path",this.onRootPathChange),this.listenTo(t,"change:path",this.onChildrenPathChange),this.rootList.show(e),this.childrenList.show(t),this.childrenFileList.show(n)},onRootPathChange:function(e){this.childrenList.currentView.parentFilePath=null,this.rootList.currentView.startLoadingItem(e),this.loadChildrenPaths(e)},onChildrenPathChange:function(e){this.childrenList.currentView.startLoadingItem(e),this.loadChildrenPaths(e)},onSubmitForm:function(e){e.preventDefault(),this.trigger("add:folder",this.ui.path.val()),this.hide()}});var Ze=n(81185),Pe=n.n(Ze),Ee=Object.defineProperty,Me=Object.prototype.hasOwnProperty,Ce=Object.getOwnPropertySymbols,we=Object.prototype.propertyIsEnumerable,De=(e,t,n)=>t in e?Ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Te=(e,t)=>{for(var n in t||(t={}))Me.call(t,n)&&De(e,n,t[n]);if(Ce)for(var n of Ce(t))we.call(t,n)&&De(e,n,t[n]);return e};function Oe(e,t){return e.findWhere({type:t,state:J.iN})||e.findWhere({type:t,state:J.j5})}function xe(e,t){return e.findWhere({type:t,state:J.zK})||e.findWhere({type:t,state:J.J$})||e.findWhere({type:t,state:J.Ku})}const Ae=F.extend({template:Pe(),fieldNames:["Location"],regions:{pathsRegion:".paths-region"},ui:Te(Te({},F.prototype.ui),{addFolderBtn:".add-folder-btn",addFolderPopulating:".add-folder-populating",addFolderError:".add-folder-error",arcadeDownloadMediaInput:"#arcade-download-media",arcadeGreeting:"#arcade-greeting",arcadeRequired:"#arcade-required",arcadeUpsell:"#arcade-upsell",parsecRequired:"#parsec-required"}),events:{"click .add-folder-btn":"onAddFolderClick","change input[name=path]":"onFolderChange","change input[name=downloadMedia]":"onDownloadMediaChange"},onlyAfterRender:["renderSectionLocation"].concat(F.prototype.onlyAfterRender),initialize:function(){this.listenTo(this.model.get("locations"),{add:this.onCollectionChange,remove:this.onCollectionChange}),this.model.get("type")===Z.Wp&&this.listenTo((0,o.DB)("appModel").get("user"),{change:this.onUserChange}),this.renderSectionLocation(),this.showValidationResult(this.validate(this.model))},serializeData:function(){var e=this.model.get("type")===Z.Wp,t=this.model.isNew()&&e,n=(0,o.DB)("appModel").get("user"),r=!!Oe(n.get("subscriptions"),ee.VW),i=!(!xe(n.get("subscriptions"),ee.VW)&&!xe(n.get("pastSubscriptions"),ee.VW)),s=(0,te.Z)(n.get("services").toJSON(),"parsec"),a=e&&r,l=t&&i&&!r,c=t&&!i&&!r,d=e&&r&&!s;return Te(Te({},F.prototype.serializeData.call(this)),{hideArcadeGreeting:!a,hideArcadeRequired:!l,hideArcadeUpsell:!c,hideParsecRequired:!d,isDisabled:t&&!r,isGamesSection:e,isNewGamesSection:t,subscribeURL:P.Z.join(["https://www.plex.tv","/arcade/checkout"])})},validate:function(e){var t=Oe((0,o.DB)("appModel").get("user").get("subscriptions"),ee.VW);if(e.isNew()&&e.get("type")===Z.Wp){if(!t)return["subscriptionRequired"];if(e.get("downloadMedia"))return[]}var n=[];return e.get("locations").length||n.push("locations"),n},renderSectionLocation:function(){var e=new se({collection:this.model.get("locations")});this.pathsRegion.show(e)},onCollectionChange:function(){this.showValidationResult(this.validate(this.model))},onAddFolderClick:function(e){e.preventDefault();var t=new Ie({server:this.model.server});this.listenToOnce(t,"add:folder",this.onAddFolder),h.Z.trigger("show:modal",t)},onAddFolder:function(e){if(e){var t={path:e};this.model.get("locations").findWhere(t)||this.model.get("locations").add(t)}},onFolderChange:function(e){var t=i()(e.currentTarget),n=t.prop("defaultValue"),r=t.val();r?(this.model.get("locations").findWhere({path:n}).set("path",r),t.prop("defaultValue",r)):t.val(n)},onDownloadMediaChange:function(e){i()(e.currentTarget).prop("checked")?(this.model.set("downloadMedia",1),this.trigger("valid")):(this.model.unset("downloadMedia"),this.trigger("invalid"))},onUserChange:function(){const{hideArcadeGreeting:e,hideArcadeRequired:t,hideArcadeUpsell:n,hideParsecRequired:r,isDisabled:i}=this.serializeData(),{addFolderBtn:s,arcadeDownloadMediaInput:a,arcadeGreeting:o,arcadeRequired:l,arcadeUpsell:c,parsecRequired:d}=this.ui;s.prop("disabled",i),a.prop("disabled",i),o.toggleClass("hidden",e),l.toggleClass("hidden",t),c.toggleClass("hidden",n),d.toggleClass("hidden",r),this.showValidationResult(this.validate(this.model))}});var Ne=n(82642),ke=n(27749),Le=n.n(ke);const je=F.extend({template:Le(),ui:{chooseLibrary:".choose-library"},events:{"click .choose-library":"onChooseLibraryClick"},modelEvents:{"change:agent":"onSectionAgentChange","change:scanner":"onSectionScannerChange"},onlyAfterRender:["updateSelectedOffering"],initialize:function(){this.hasPremiumMusic=this.model.server.hasOwnerFeature("premium_music_metadata"),this.updateSelectedOffering()},serializeData:function(){var e=o.DB("appModel").get("user");return{hasPremiumMusic:this.hasPremiumMusic,plexPassUrl:e.server.get("plexPassUrl"),hasLyrics:this.model.server.get("transcoderLyrics")}},updateSelectedOffering:function(){var e=this.model.get("agent"),t=this.model.get("scanner");this.ui.chooseLibrary.find("input").prop("checked",!1);var n=this.ui.chooseLibrary.filter('[data-agent="'+e+'"][data-scanner="'+t+'"]').find("input");n.length||(n=this.ui.chooseLibrary.not("[data-agent][data-scanner]").find("input")),n.prop("checked",!0)},onChooseLibraryClick:function(e){var t=i()(e.currentTarget),n=t.data("agent"),r=t.data("scanner");!n&&!r||this.hasPremiumMusic?(this.model.agentSettings=null,this.model.set({agent:n||this.getSectionType().defaultAgent,scanner:r||this.getSectionType().defaultScanner})):h.Z.trigger("show:modal",new Ne.Z({model:this.model.server}))},onSectionAgentChange:function(){this.updateSelectedOffering()},onSectionScannerChange:function(){this.updateSelectedOffering()}});var Re=n(45399),Ve=n(78188),Ue=n(16561),ze=n(5450),Be=n(80080),_e=n(47323),Fe=n(61309),He=n(99131),We=n(85669);const Qe=function(e){switch(e){case Z.MB:return Be.Z;case Z.xF:return _e.Z;case Z.n1:return Fe.Z;case Z.TV:return He.Z;case Z.FM:return ze.Z;case Z.Wp:return We.Z}};var Ge=n(458),Ye=n.n(Ge),qe=Object.defineProperty,Ke=Object.prototype.hasOwnProperty,$e=Object.getOwnPropertySymbols,Xe=Object.prototype.propertyIsEnumerable,Je=(e,t,n)=>t in e?qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,et=(e,t)=>{for(var n in t||(t={}))Ke.call(t,n)&&Je(e,n,t[n]);if($e)for(var n of $e(t))Xe.call(t,n)&&Je(e,n,t[n]);return e};function tt(e,t){return(null==e?void 0:e.key)!==Z.Wp||t.get("games")}const nt=F.extend({template:Ye(),ui:a().extend({sectionTypes:".wizard-block",sectionTitle:"#edit-section-title",sectionLanguage:"#edit-section-language",sectionLanguageGroup:".language-group"},F.prototype.ui),modelEvents:{"change:type":"onSectionTypeChange","change:title":"onSectionTitleChange","change:language":"onSectionLanguageChange"},events:{"click .section-type":"onSectionTypeClick","keyup #edit-section-title":"onEditSectionTitleChange","change #edit-section-title":"onEditSectionTitleChange","change #edit-section-language":"onEditSectionLanguageChange"},onlyAfterRender:["renderSectionLanguage","updateSectionTypesWizardBlocks","updateSectionLanguage","updateSectionTitle"].concat(F.prototype.onlyAfterRender),initialize:function(e){this.populateCollections(),this.isDefaultSection=e.isDefaultSection},serializeData:function(){var e=F.prototype.serializeData.apply(this,arguments);const t=o.DB("appModel"),n=t.get("user"),r=n.get("features").get(Re.ZM)&&this.model.server.hasOwnerFeature(Re.ZM);e.sectionTypes=Z.ZP.getAll().reduce(((e,t)=>((t.key!==Z.Wp||r)&&e.push(et(et({},t),{typeIcon:(0,Ue.Z)(Qe(t.key),{className:"wizard-block-icon"})})),e)),[]);var i=this.getSectionType();i&&(e.currentSectionKey=i.key);var s=this.model.get("updatedAt");return s&&(e.updatedAt=(0,Ve.Z)(s)),e.canChangeType=this.model.isNew()&&!this.isDefaultSection,e.hasType=!!this.model.get("type"),e.isInitialTypeSupported=tt(this.model.sectionType,this.model.server),e.escapedUpdatedAt=a().escape(e.updatedAt),e},validate:function(e){var t=[];return e.get("type")||t.push("type"),e.get("title")||t.push("title"),e.get("language")||t.push("language"),e.get("isCollectionsPopulated")||t.push("collectionsNotPopulated"),tt(e.sectionType,e.server)||t.push("unsupportedType"),t},populateCollections:function(){this.model.set("isCollectionsPopulated",!1);var e=this.populateAgents(),t=this.populateScanners(),n=this.getSectionType(),r=i().when(n,e,t,this.model.server.get("myPlexSubscription")&&this.model.server.supports("premiumMusic"));return this.model.isNew()&&(r=r.then(a().bind(this.model.setAgentAndScanner,this.model))),r.then(e).then(a().bind(this.onAgentsPopulate,this)).then(a().bind((function(){this.showValidationResult(this.validate(this.model))}),this)).then((()=>{this.model.isNew()&&this.model.get("type")===Z.Wp?this.model.set("downloadMedia",1):this.model.unset("downloadMedia"),this.model.set("isCollectionsPopulated",!0)}))},renderSectionLanguage:function(){var e=this.model.get("language"),t=this.model.agents.get(this.model.get("agent"));if(t){var n=t.get("languages");if(!n.get(e)){var r,i=n.findWhere({default:!0});if(i&&(r=i.get("code")),!r){var s=this.model.get("type");r=Z.ZP.get(s).defaultLanguage}this.model.set("language",r,{silent:!0}),e=r}var a=n.map((function(e){return{label:e.get("name"),value:e.id}}));this.updateSectionLanguage(),this.ui.sectionLanguage.html(this.createMenuOptions(a,e))}else this.ui.sectionLanguageGroup.hide()},updateSectionTypesWizardBlocks:function(){this.ui.sectionTypes.removeClass("selected"),this.ui.sectionTypes.filter('[data-key="'+this.model.get("type")+'"]').addClass("selected"),this.$el.addClass("section-type-chosen")},updateSectionLanguage:function(){this.ui.sectionLanguage.val(this.model.get("language"))},updateSectionTitle:function(){var e=this.ui.sectionTitle.val(),t=this.model.get("title");e!==t&&this.ui.sectionTitle.val(t)},onSectionTypeClick:function(e){e.preventDefault();var t=i()(e.currentTarget);if(t.hasClass("selectable")){var n=t.data("key"),r={type:n},s=Z.ZP.get(n);this.model.get("title")||(r.title=s.title),this.model.set(r)}},onEditSectionTitleChange:function(e){var t=i()(e.currentTarget);this.model.set("title",t.val()),this.showValidationResult(this.validate(this.model))},onEditSectionLanguageChange:function(e){var t=i()(e.currentTarget);this.model.set("language",t.val()),this.showValidationResult(this.validate(this.model))},onSectionTypeChange:function(e,t){this.updateSectionTypesWizardBlocks();var n=Z.ZP.get(t);if(!this.model.get("language")){var r=n.defaultLanguage;this.model.set("language",r)}var i=this.model.get("title"),s=this.model.previous("type"),a=Z.ZP.get(s),o=a&&a.title;i&&i!==o||this.model.set("title",n.title),this.setSectionType(n),this.model.agents=null,this.model.scanners=null,this.model.settings=null;const l=tt(n,this.model.server);this.$el.toggleClass("is-type-unsupported",!l),l&&this.populateCollections()},onSectionTitleChange:function(e,t){this.updateSectionTitle(),this.showValidationResult(this.validate(this.model))},onSectionLanguageChange:function(e,t){this.updateSectionLanguage()},onAgentsPopulate:function(e){this.renderSectionLanguage()}});var rt=n(35424),it=n(19380),st=n.n(it);const at=fe.Z.extend({mixins:[M.Z],name:"editSectionModal",className:"edit-section-modal modal modal-lg fade",template:st(),panes:{type:{constructor:nt,nextPane:"folders",dependentPanes(){return this.showFolders?["folders"]:["options","advanced"]}},folders:{constructor:Ae,nextPane:"options",dependentPanes:["options","advanced"]},options:{constructor:je,nextPane:"advanced"},advanced:{constructor:q},error:{constructor:X}},panesModel:"tempModel",ui:{sidebar:".modal-nav-list",optionsBtn:".options-btn",saveBtn:".save-btn",message:".form-message",headerSectionType:".section-type-title"},regions:{paneRegion:".pane-region"},events:a().extend({"click .change-pane-btn":"onChangePaneClick","click .save-btn":"onSaveClick","submit .edit-section-type-form":"onGeneralFormSubmit"},fe.Z.prototype.events),onlyAfterRender:["showPane","updateMessage","updateSectionTitle","updateSectionTitleDestabilized","updateSaveBtn"],paneConstructorArg:function(){return{isDefaultSection:this.isDefaultSection}},initialize:function(e){fe.Z.prototype.initialize.apply(this,arguments),this.server=e.server,this.redirect=e.redirect,this.isDefaultSection=e.isDefaultSection,this.isLoading=!0,this.model?(this.tempModel=this.model.clone(),this.tempModel.collection=this.model.collection):this.tempModel=new l.Z({},{server:this.server,collection:this.server.get("sections")}),this.listenTo(this.tempModel,"change:type",this.onSectionTypeChange),this.tempModel.isNew()&&e.seedAttrs&&this.tempModel.set(this.tempModel.parse(e.seedAttrs)),this._deferred=i().Deferred(),this.promise=this._deferred.promise();var t=this.server.get("providers");t.populate().done(this.whenRendered((()=>{var n=t.get(m.Y3).get("features").get(p.d3).get("automaticLibraryFolders");this.showFolders=!n,this.isLoading=!1,this.render(),this.showPane(e.selectedPane||"type")})))},serializeData:function(){var e=this.tempModel,t=e.isNew(),n=e&&(0,b.Z)("Edit {1}",e.get("title"),{escape:!0});return{isLoading:this.isLoading,add:t,edit:!t,paneTitle:n,section:e&&e.toJSON(),selectedPane:this.selectedPane,showFolders:this.showFolders}},updateMessage:function(e){this.ui.message.text(e||"")},updateSaveBtn:function(){var e=this.ui.saveBtn,t=this.panes[this.selectedPane],n=a().bind((function(n){var r,i=t.nextPane,s=this.tempModel.isNew(),a=!t.constructor.prototype.validate||0===t.constructor.prototype.validate(this.tempModel).length,o=!this.getReachablePanes().isAnyInvalid,l=this.tempModel.get("isCollectionsPopulated");this.ui.optionsBtn.toggleClass("hidden",!n.showOptions);var c=l&&(o||s&&a);r=i,n.showOptions||"options"!==i||(r=!1),o&&(r=!1),n.showOptions&&"options"===i&&(r=!0),n.showAdvanced&&"advanced"===i&&(r=!0),this.tempModel.isNew()&&"folders"===i&&(r=!0),e.toggleClass("save",!r),e.toggleClass("next",!!r),e.toggleClass("disabled",!c)}),this),r=this.tempModel.server,i=this.tempModel.sectionType,s=i&&"music"===i.key&&r.supports("premiumMusic"),o=this.tempModel.isNew();s?this.paneRegion.currentView.populateAgents().then((function(e){var t=e.findWhere({identifier:u.zR}),r=o&&t;n({showOptions:r,showAdvanced:r})})):n({})},updateSectionTitle:function(){var e=Z.ZP.get(this.tempModel.get("type"));if(e){this.updateSectionTitleDestabilized();var t=a().escape(e.title);this.ui.headerSectionType.html(t)}},updateSectionTitleDestabilized:function(){this.ui.headerSectionType.addClass("section-type-title-unstable"),this.ui.headerSectionType.triggerReflow(),this.ui.headerSectionType.removeClass("section-type-title-unstable")},save:function(){var e=this.ui.saveBtn;this.updateMessage(""),e.addClass("active");var t=this.saveModel();t.always((function(){e.removeClass("active")})),t.fail(a().bind((function(e){503===e.status?h.Z.trigger("show:modal",new rt.Z({model:this.server})):this.updateMessage((0,b.Z)("Your changes could not be saved."))}),this)),t.then(a().bind((function(){var e=this.model.server.entityID(),t=(0,o.DB)("appStore").dispatch;if(t((0,d.lm)({serverEntityID:e})),t((0,d.tU)({serverEntityID:e})),!this.redirect)return this._deferred.resolve(),void this.hide();var n,r={machineIdentifier:this.model.server.get("machineIdentifier"),isCloud:this.model.server.get("isCloud")},i={identifier:m.Y3,isLibraryProvider:!0},s={id:this.model.id},a=this.model.get("type"),l={};l.pivot=(0,g.Z)(this.model.server.get("version"),c.Z.pivotIDs)?"library":(0,v.Z)(this.model.id,a),a===I.ARTIST&&(l.key=P.Z.join(["/library/sections",this.model.id,"all"],{type:(0,I.getMetadataType)(I.ALBUM).id,sort:"addedAt:desc"})),n=(0,E.Z)(r,i,s,l),window.location.hash=n,this._deferred.resolve(),this.hide()}),this))},saveModel:function(){var e,t=this.getSectionSettingsParams(),n=t?{data:{prefs:t}}:{};return this.tempModel.isNew()?e=(e=this.tempModel.save(null,n)).then(a().bind((function(e,n,r){var i=y.Z.parseXML(e);if(201===r.status){if(i.Directory&&(i=i.Directory),!i.key){var s=r.getResponseHeader("Location");s&&(i.key=s.substring(s.lastIndexOf("/")+1))}var a=this.server;a.supports("advancedFilters")&&(i.filters=!0),this.model=new l.Z(i,{parse:!0,server:a}),a.get("sections").add(this.model);var c=null==t?void 0:t.hidden,d="string"==typeof c?parseInt(c,10):null;if(1!==d&&2!==d){var u=a.get("providers").get(m.Y3),p=u?(0,S.Z)(u.toJSON(),this.model.toJSON()):null,h=p?p.key:null;u&&h&&(0,o.DB)("appStore").dispatch((0,C.W1)({sources:[{key:(0,f.Z)(h,a.get("machineIdentifier"),u.get("identifier"),i.key),sourceType:h,serverEntityID:a.entityID(),machineIdentifier:a.get("machineIdentifier"),providerEntityID:u.entityID(),providerIdentifier:u.get("identifier"),providerMetricsIdentifier:u.get("metricsIdentifier"),directoryID:i.key,directoryIcon:null,title:this.model.get("title"),serverFriendlyName:a.get("friendlyName"),serverSourceTitle:a.get("sourceTitle"),isLocal:a.get("isPrivateConnection"),isUnavailable:!1,isOutOfDate:!1,isUnclaimedServer:!a.get("isClaimed"),isFullOwnedServer:a.get("isFullOwnedServer"),isProviderReady:!0}],interaction:!1}))}return r}}),this)):(this.model.copy(this.tempModel),e=this.model.save(null,n)),e.then(a().bind(this.saveAgentSettings,this))},saveSettings:function(e){var t=i().Deferred().resolve(this.model).promise();if(!this.server.supports("sectionSettings"))return t;if(!e)return t;var n=P.Z.join(["/library/sections/",this.model.id,"/prefs"],e),r=a().extend(this.server.getXHROptions(n),{type:"PUT"});return i().ajax(r).promise().then((function(){return t}))},saveAgentSettings:function(){var e=i().Deferred().resolve(this.model).promise(),t=this.tempModel.agentSettings;if(!this.tempModel.agentSettings)return e;var n=this.getSettingsChanges(t);if(a().isEmpty(n))return e;var r=t.first(),s=r.getSaveParams(n),o=a().result(t,"url"),l=P.Z.join([o,"/set"],s),c=r.server.getXHROptions(l);return i().ajax(c).promise().then((function(){return e}))},getSectionSettingsParams:function(){var e=this.tempModel.settings;if(e){var t=this.getSettingsChanges(e);if(!a().isEmpty(t))return e.first().getSaveParams(t)}},getSettingsChanges:function(e){return e.filter((function(e){return e.changedAttributes()})).reduce((function(e,t){var n=t.get("value");return"bool"===t.get("type")&&(n=n?"1":"0"),e[t.get("id")]=n,e}),{})},onPaneShow:function(e,t){this.listenTo(t,"valid",this.updateSaveBtn),this.listenTo(t,"invalid",this.updateSaveBtn),this.updateSaveBtn()},onPaneHide:function(e,t){this.stopListening(t,"valid",this.updateSaveBtn),this.stopListening(t,"invalid",this.updateSaveBtn)},onChangePaneClick:function(e){e.preventDefault();var t=this.$(e.currentTarget);t.isDisabled()||this.showPane(t.data("pane"))},onSaveClick:function(e){e.preventDefault();var t=this.ui.saveBtn;if(!t.isDisabled())if(t.hasClass("next")){var n=this.panes[this.selectedPane].nextPane;"folders"!==n||this.showFolders||(n=this.ui.sidebar.find(".options-btn").isDisabled()?"advanced":"options"),n&&!this.ui.sidebar.find("."+n+"-btn").isDisabled()&&this.showPane(n)}else this.save()},onGeneralFormSubmit:function(e){this.onSaveClick(e)},onSectionTypeChange:function(){this.updateSaveBtn()}})},25591:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(13469),i=n.n(r),s=n(21288),a=n(70460),o=n.n(a);const l=/^Mac/.test(window.navigator.platform);function c(e){return i().reduce(e,(function(e,t,n){var r=d(t);if(0===n)return e.concat(r);var i=r.length>1;return e.concat({plain:!0,split:i,s:"or"},r)}),[])}function d(e){var t=e.match(/(.+) (.+)/);if(t)return d(t[1]).concat({plain:!0,s:"then"}).concat(d(t[2]));var n=e.match(/(.+)\+(\S+)/);if(n)return d(n[1]).concat({plain:!0,s:"+"}).concat(d(n[2]));var r=[[/command/,"⌘"],[/up/,"↑"],[/down/,"↓"],[/left/,"←"],[/right/,"→"]];return"alt"===e&&l&&r.push([/alt/,"option"]),[{s:i().reduce(r,(function(e,t){return e.replace(t[0],t[1])}),e)}]}const u=s.Z.extend({name:"keyboardShortcutsModal",className:"keyboard-shortcuts-modal modal fade",template:o(),orderedGroups:[{group:"navigation",label:"Navigation"},{group:"actions",label:"Actions"},{group:"player",label:"Player"}],initialize:function(e){s.Z.prototype.initialize.apply(this,arguments),this.shortcuts=e.shortcuts},serializeData:function(){var e={};return i().each(this.shortcuts,(function(t){var n=t.group;("function"!=typeof t.isSupported||t.isSupported())&&(e[n]||(e[n]=[]),e[n].push(this.humanizeShortcut(t)))}),this),{groups:i().map(this.orderedGroups,(function(t){var n=i().clone(t);return n.shortcuts=e[t.group],n}),this)}},humanizeShortcut:function(e){return(e=i().clone(e)).keys=c(e.keys),e.label=e.label(),e}})},35424:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(13469),i=n.n(r),s=n(12319),a=n(21288),o=n(18039),l=n(60862),c=n.n(l);const d=a.Z.extend({name:"libraryFailureModal",className:"confirm-modal modal modal-sm fade",template:c(),events:i().extend({"click .confirm-btn":"hide"},a.Z.prototype.events),serializeData(){return{isSignedIn:this.model.get("myPlexSigninState")===s.Hq,hasPlexSubscription:this.model.get("myPlexSubscription"),serverSettingsRoute:(0,o.Z)(this.model.id,"settings","general")}}})},82642:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(13469),i=n.n(r),s=n(93966),a=n(21288),o=n(27556),l=n.n(o);const c=a.Z.extend({name:"plexPassModal",template:l(),serializeData:function(){return{plexPassUrl:s.DB("appModel").get("user").server.get("plexPassUrl"),escapedFriendlyName:i().escape(this.model.get("friendlyName")),isClaimed:this.model.get("isClaimed")}}})},38892:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(21288);const l=o.Z.extend({className:"select-modal modal modal-sm fade",events:a().extend({"click a":"onClick"},o.Z.prototype.events),initialize:function(){o.Z.prototype.initialize.apply(this,arguments),this.promise=i().Deferred()},onRender:function(){o.Z.prototype.onRender.apply(this,arguments)},onHide:function(e){o.Z.prototype.onHide.apply(this,arguments),this.promise.reject()},onClick:function(e){e.preventDefault(),this.promise.resolve(i()(e.currentTarget).data("value")),this.hide()}})},35839:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(13469),i=n.n(r),s=n(65652),a=n(91135),o=n(69881),l=n(60603),c=n.n(l);const d=s.Z.ItemView.extend({className:"convert-policy-container",template:c(),ui:{policyUnwatchedInput:"#convert-policy-unwatched",policyScopeInput:"#convert-policy-scope",policyValueInput:"#convert-policy-value",policyWarning:".convert-warning"},events:{"change input[name=policyUnwatched]":"onPolicyUnwatchedChange","change input[name=policyScope]":"onPolicyScopeChange","keyup input[name=policyValue]":"onPolicyValueChange","change input[name=policyValue]":"onPolicyValueChange"},initialize:function(e){this.type=(0,o.getMetadataType)(this.model.get("metadataType")||"movie"),this.leafMediaType=(0,o.getLeafType)(this.type.typeString).mediaType,this.model.setPolicyDefaultsFor(this.leafMediaType)},serializeData:function(){var e={isSync:this.options.isSync,isDirectory:this.model.get("isDirectory"),policy:this.model.get("policy").toJSON()};return e.showLimitWarning=this.model.shouldShowPolicyWarning(this.leafMediaType,e.policy.value),e.showUnwatched=e.isDirectory&&this.leafMediaType===a.pX,e},updatePolicyValue:function(){var e=this.model.get("policy"),t=Math.abs(parseInt(this.ui.policyValueInput.val(),10));this.ui.policyValueInput.val(i().isNaN(t)?"":t),i().isNaN(t)&&(t=0),e.set("value","all"===e.scope?null:t);var n=this.model.shouldShowPolicyWarning(this.leafMediaType,t);this.ui.policyWarning.toggleClass("hidden",!n)},onPolicyUnwatchedChange:function(e){this.model.get("policy").set("unwatched",this.ui.policyUnwatchedInput.prop("checked"))},onPolicyScopeChange:function(e){var t=this.model.get("policy"),n=this.ui.policyScopeInput.prop("checked")?this.ui.policyScopeInput.val():"all";t.set("scope",n),this.updatePolicyValue()},onPolicyValueChange:function(e){this.updatePolicyValue()}})},74527:(e,t,n)=>{"use strict";n.d(t,{Z:()=>q});var r=n(19755),i=n.n(r),s=n(76154),a=n(71576),o=n(29415),l=n(11023),c=n(13469),d=n.n(c),u=n(69865),p=n(55983);const m=u.Z.extend({idAttribute:"title",whitelistedAttrs:["title","selected"],convert:function(e){var t=d().isObject(e)?e:p.Z.parseXML(e);return p.Z.parseBoolean(t,"selected"),t},parse:function(e,t){var n=this.convert(e);return d().pick(n,this.whitelistedAttrs)}}),h=o.Z.extend({model:m,url:"/clients/profiles?type="+l.Z.LOCAL,parse:function(e){return this.convert(e,"Profile")}}),g=u.Z.extend({name:"VersionTargetModel",whitelistedAttrs:["id","tag","tagType","MediaSettings","Device"],convert:function(e){var t=d().isObject(e)?e:p.Z.parseXML(e);return p.Z.parseInteger(t,"id"),t},parse:function(e,t){var n=this.convert(e);return d().pick(n,this.whitelistedAttrs)}}),y=o.Z.extend({model:g,url:"/library/tags?type="+l.Z.LOCAL,comparator:function(e){return e.get("MediaSettings").maxVideoBitrate},parse:function(e){return this.convert(e,"Tag")}});var v=n(21288),f=n(65652),b=n(22110),S=n.n(b);const I=f.Z.ItemView.extend({className:"modal-body",template:S(),events:{"click .try-again-link":"onTryAgainClick"},serializeData:function(){return{status:this.options.status}},onTryAgainClick:function(e){e.preventDefault(),this.triggerMethod("request:state","loading")}});var Z=n(12801),P=n(95933),E=n(32707),M=n(41105),C=n(5562),w=n(90912),D=n(82295),T=n.n(D);const O=f.Z.ItemView.extend({className:"convert-location-container form-group",template:T(),events:{"change select[name=storageLocation]":"onLocationChange"},serializeData:function(){return{disableLocation:!this.model.isNew(),selectedLocationID:this.model.get("locationID"),locations:this.model.section&&this.model.section.get("locations").toJSON()}},onLocationChange:function(e){this.model.set("locationID",parseInt(e.currentTarget.value,10))}});var x=n(35839),A=n(45662),N=n(33232),k=n(32433),L=n.n(k);const j=f.Z.ItemView.extend({className:"convert-target-container form-group",template:L(),ui:{targetTitleInput:".convert-target-title"},events:{"change select[name=target]":"onTargetChange","keydown input[name=targetTitle]":"onTitleKeyDown","change input[name=targetTitle]":"onTitleChange","change select[name=targetProfile]":"onProfileChange","change select[name=targetQuality]":"onQualityChange"},initialize:function(e){this.targets=e.targets,this.profiles=e.profiles;var t=this.model.get("Device").profile;this.selectedProfile=t?this.profiles.get(t):this.profiles.findWhere({selected:!0}),this.availableCustomQualities=N.Z.getAvailableQualities({lowestQualityIndex:A.G}).reverse();var n=this.model.get("mediaSettings").get("maxVideoBitrate");if(n){var r=N.Z.getNearestIndexToBitrate(n);this.selectedCustomQuality=N.Z.getQualityByIndex(r)}else this.selectedCustomQuality=d().first(this.availableCustomQualities);this.model.isNew()||this.model.get("targetTagID")||this.$el.addClass("show-custom-target")},serializeData:function(){return{item:this.model.toJSON(),targets:this.targets.toJSON(),disableTarget:!this.model.isNew(),profiles:this.profiles.toJSON(),selectedProfile:this.selectedProfile.toJSON(),availableCustomQualities:this.availableCustomQualities,selectedCustomQuality:this.selectedCustomQuality}},updateDeviceProfile:function(e){this.model.get("Device").profile=this.selectedProfile.get("title")},updateMediaSettings:function(e){this.model.get("mediaSettings").set({videoQuality:e.videoQuality,videoResolution:e.videoResolution,maxVideoBitrate:e.bitrate})},onTargetChange:function(e){var t=parseInt(e.currentTarget.value,10);t>-1?(this.model.unset("target"),this.model.set({targetTagID:t,Device:{}}),this.model.get("mediaSettings").restoreDefaults()):(this.model.set("target",this.ui.targetTitleInput.val()),this.model.unset("targetTagID"),this.updateDeviceProfile(this.selectedProfile),this.updateMediaSettings(this.selectedCustomQuality)),this.$el.toggleClass("show-custom-target",-1===t)},onTitleKeyDown:function(e){190===e.which&&0===e.currentTarget.selectionStart&&e.preventDefault()},onTitleChange:function(e){this.model.set("target",e.currentTarget.value)},onProfileChange:function(e){this.selectedProfile=this.profiles.findWhere({title:e.currentTarget.value}),this.updateDeviceProfile(this.selectedProfile)},onQualityChange:function(e){var t=parseInt(e.currentTarget.value,10);this.selectedCustomQuality=N.Z.getQualityByIndex(t),this.updateMediaSettings(this.selectedCustomQuality)}});var R=n(7580),V=n.n(R);const U=f.Z.Layout.extend({template:V(),ui:{submitBtn:".submit-btn"},regions:{policyRegion:".policy-region",targetsRegion:".targets-region",locationRegion:".location-region"},events:{"change input[name=title]":"onTitleChange","submit #convert-form":"onSubmit"},initialize:function(e){if(this.playlist=e.playlist,this.targets=e.targets,this.profiles=e.profiles,this.model){this.tempModel=this.model.clone();var t=this.model.get("Location").librarySectionID;if(t){var n=new Z.Z({key:t},{server:this.model.server,onlyIfCached:!0});d().isEmpty(n)||(this.tempModel.section=n)}}else{var r,i=e.item,s=e.items,a=i.has("childrenKey")?new P.Z({containerKey:i.get("childrenKey")},{server:i.server,provider:i.provider}):i,o=i.server;if(i.get("isSection"))r=i;else{var l=(0,M.Z)(i);d().isEmpty(l)||(r=l)}this.tempModel=new w.Z({title:E.Z.title(i,{items:s}),targetTagID:this.targets.first().id,Location:{uri:E.Z.uri(a,{items:s})}},{server:o,section:r})}},serializeData:function(){return{conversionItem:this.tempModel.toJSON(),isNew:this.tempModel.isNew(),showRemuxOnlyWarning:this.tempModel.server.get("transcoderVideoRemuxOnly")}},onRender:function(){this.policyRegion.show(new x.Z({model:this.tempModel,isSync:!1})),this.targetsRegion.show(new j({model:this.tempModel,targets:this.targets,profiles:this.profiles})),this.locationRegion.show(new O({model:this.tempModel}))},onTitleChange:function(e){this.tempModel.set("title",e.currentTarget.value)},onSubmit:function(e){e.preventDefault();var t=this.ui.submitBtn;if(!t.hasClass("active")){if(t.addClass("active"),!this.tempModel.get("targetTagID")&&!this.tempModel.get("target")){var n=this.tempModel.get("Device");this.tempModel.set("target",(0,C.Z)("Custom: {1}",n.profile))}var r=this.playlist.addContent(this.tempModel);r.done(this.whenRendered((function(){if(this.model){var e=d().omit(this.tempModel.toJSON(),"children");this.model.set(this.model.parse(e))}this.trigger("request:nextState")}))),r.fail(this.whenRendered((function(e){var t=e.responseText,n=p.Z.parseXML(t),r=n&&n.status;this.trigger("request:state","error",r)})))}}});var z=n(21967),B=n.n(z);const _=f.Z.ItemView.extend({className:"modal-body loading-container",template:B()});var F=n(97189),H=n(7369),W=n.n(H);const Q=f.Z.ItemView.extend({className:"modal-body",template:W(),events:{"click .status-link":"onStatusClick"},onStatusClick:function(e){e.preventDefault(),this.triggerMethod("request:nextState"),(0,F.Z)("serverSettings",{machineIdentifier:this.options.server.id,settingsSection:"status",settingsGroup:"conversion"})}});var G=n(63768),Y=n.n(G);const q=v.Z.extend({mixins:[s.Z],name:"convertModal",className:"convert-modal modal fade",template:Y(),regions:{bodyRegion:".modal-body-region"},initialize:function(e){v.Z.prototype.initialize.apply(this,arguments),this.server=this.model?this.model.server:e.item.server;var t={server:this.server,allowInCache:!0};this.playlists=new a.Z([],t),this.targets=new y([],t),this.profiles=new h([],t)},initialState:"loading",states:{loading:{nextState:"form",onEnter:function(){this.bodyRegion.show(new _),this.listenForStateRequests();const e=this.options.item,t=e&&!e.get("isMetadataList");var n=i().when(t?e.populate():null,this.playlists.populate(),this.targets.populate(),this.profiles.populate(),this.server.get("sections").populate());n.done(this.whenRendered((function(){this.playlist=this.playlists.first(),this.playlist?this.enterNextState():this.enterState("error")}))),n.fail(this.whenRendered((function(){this.enterState("error")})))}},form:{nextState:"success",onEnter:function(){this.bodyRegion.show(new U({model:this.model,item:this.options.item,items:this.options.items,playlist:this.playlist,targets:this.targets,profiles:this.profiles})),this.listenForStateRequests()}},success:{onEnter:function(){this.model?this.hide():(this.bodyRegion.show(new Q({server:this.server})),this.listenForStateRequests())}},error:{onEnter:function(e){this.bodyRegion.show(new I({status:e})),this.listenForStateRequests()}}},listenForStateRequests:function(){this.bodyRegion&&this.bodyRegion.currentView&&this.listenTo(this.bodyRegion.currentView,{"request:state":this.enterState,"request:nextState":this.enterNextState})},onRender:function(){v.Z.prototype.onRender.apply(this,arguments),this.enterNextState()},onStateMachineComplete:function(){this.hide()}})},30554:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var r=n(76154),i=n(21288),s=n(65652),a=n(91939),o=n.n(a);const l=s.Z.ItemView.extend({className:"modal-body",template:o(),events:{"click .try-again-link":"onTryAgainClick"},onTryAgainClick:function(e){e.preventDefault(),this.triggerMethod("request:state","form")}});var c=n(13469),d=n.n(c),u=n(93966),p=n(94018),m=n(95933),h=n(32707),g=n(69881),y=n(78954),v=n(35839),f=n(45662),b=n(89318);const S=d().extend({},b.Z,{type:"music",qualities:{bitrate:[96,128,192,320]},getNearestIndexToBitrate:function(e){return this.getNearestIndex(this.qualities.bitrate,e)}});var I=n(5562);const Z=d().extend({},b.Z,{type:"photo",qualities:{photoResolution:["720x480","1280x720","1920x1080","3840x2160"],photoQuality:[24,49,74,99],title:function(){return[(0,I.Z)("Low"),(0,I.Z)("Medium"),(0,I.Z)("High"),(0,I.Z)("Highest")]}},getNearestIndexToQuality:function(e){return this.getNearestIndex(this.qualities.photoQuality,e)}});var P=n(33232),E=n(56524),M=n.n(E);const C=s.Z.ItemView.extend({className:"sync-quality-container form-group",template:M(),events:{"change select[name=videoQuality]":"onVideoQualityChange","change select[name=musicQuality]":"onMusicQualityChange","change select[name=photoQuality]":"onPhotoQualityChange"},initialize:function(e){var t=(0,u.DB)("appModel").get("user").get("experienceSettings");this.mediaSettings=this.model.get("mediaSettings"),this.mediaSettings.has("audioBoost")||this.mediaSettings.set("audioBoost",t.get("audioBoost")),this.mediaSettings.has("subtitleSize")||this.mediaSettings.set("subtitleSize",t.get("subtitleSize")),this.initVideoQuality(),this.initMusicQuality(),this.initPhotoQuality()},initVideoQuality:function(){this.availableVideoQualities=P.Z.getAvailableQualities({lowestQualityIndex:f.G}).reverse();var e=(0,u.DB)("appModel").get("settings"),t=this.mediaSettings.get("maxVideoBitrate"),n=t?P.Z.getNearestIndexToBitrate(t):e.get(P.Z.getSyncQualityAttribute());this.updateVideoQuality(P.Z.getQualityByIndex(n))},initMusicQuality:function(){this.availableMusicQualities=S.getAvailableQualities().reverse();var e=(0,u.DB)("appModel").get("settings"),t=this.mediaSettings.get("musicBitrate"),n=t?S.getNearestIndexToBitrate(t):e.get(S.getSyncQualityAttribute());this.updateMusicQuality(S.getQualityByIndex(n))},initPhotoQuality:function(){this.availablePhotoQualities=Z.getAvailableQualities().reverse();var e=(0,u.DB)("appModel").get("settings"),t=this.mediaSettings.get("photoQuality"),n=t?Z.getNearestIndexToQuality(t):e.get(Z.getSyncQualityAttribute());this.updatePhotoQuality(Z.getQualityByIndex(n))},serializeData:function(){return{typeElement:(0,g.getMetadataType)(this.model.get("metadataType")).mediaType,supportsOriginalQuality:this.model.server.supports("syncOriginalQuality"),availableVideoQualities:this.availableVideoQualities,selectedVideoQuality:this.selectedVideoQuality,availableMusicQualities:this.availableMusicQualities,selectedMusicQuality:this.selectedMusicQuality,availablePhotoQualities:this.availablePhotoQualities,selectedPhotoQuality:this.selectedPhotoQuality}},updateVideoQuality:function(e){this.selectedVideoQuality=e,this.mediaSettings.set({videoQuality:e.videoQuality,videoResolution:e.videoResolution,maxVideoBitrate:e.bitrate})},updateMusicQuality:function(e){this.selectedMusicQuality=e,this.mediaSettings.set({musicBitrate:e.bitrate})},updatePhotoQuality:function(e){this.selectedPhotoQuality=e,this.mediaSettings.set({photoQuality:e.photoQuality,photoResolution:e.photoResolution})},saveQualityIndex:function(e,t){var n=parseInt(t,10);return(0,u.DB)("appModel").get("settings").save(e.getSyncQualityAttribute(),n),e.getQualityByIndex(n)},onVideoQualityChange:function(e){var t=this.saveQualityIndex(P.Z,e.currentTarget.value);this.updateVideoQuality(t)},onMusicQualityChange:function(e){var t=this.saveQualityIndex(S,e.currentTarget.value);this.updateMusicQuality(t)},onPhotoQualityChange:function(e){var t=this.saveQualityIndex(Z,e.currentTarget.value);this.updatePhotoQuality(t)}});var w=n(20166),D=n.n(w),T={video:"movie",audio:"track",photo:"photo"};const O=s.Z.Layout.extend({template:D(),ui:{submitBtn:".submit-btn"},regions:{policyRegion:".policy-region",qualityRegion:".quality-region"},events:{"change input[name=title]":"onTitleChange","submit #sync-form":"onSubmit"},initialize:function(e){var t=u.DB("appModel");if(this.device=e.device,this.model)this.tempModel=this.model.clone();else{var n,r,i=e.item,s=e.items;i.get("isPlaylist")?(n=i,r=T[i.get("playlistType")]):i.get("isMetadataList")?(n=i,r=(0,g.getLeafType)(i.get("firstItemType")).typeString):(n=i.has("childrenKey")?new m.Z({containerKey:i.get("childrenKey")},{server:i.server,provider:i.provider}):i,r=(0,g.getLeafType)(i.get("type")).typeString),r===g.COLLECTION&&(r=i.get("subtype")),this.tempModel=new y.Z({metadataType:r,title:h.Z.title(i,{items:s}),rootTitle:this.getRootTitle(i),machineIdentifier:i.server.id,clientIdentifier:this.device.get("clientIdentifier"),Location:{uri:h.Z.uri(n,{items:s})}},{parent:i.server,server:t.get("user").server,device:this.device})}},serializeData:function(){return{syncItem:this.tempModel.toJSON(),isNew:this.tempModel.isNew()}},getRootTitle:function(e){return e.section?e.section.get("title"):e.get("title")},onRender:function(){this.policyRegion.show(new v.Z({model:this.tempModel,isSync:!0})),this.qualityRegion.show(new C({model:this.tempModel}))},onTitleChange:function(e){this.tempModel.set("title",e.currentTarget.value)},onSubmit:function(e){e.preventDefault();var t=this.ui.submitBtn;if(!t.hasClass("active")){t.addClass("active");var n=this.tempModel.save();n.done(d().bind((function(){if(this.model){var e=this.model.get("version")||0,t=d().omit(this.tempModel.toJSON(),"children");t.version=e+1,this.model.set(this.model.parse(t))}}),this)),(n=n.then(d().bind((function(){return p.Z.execute("refreshSyncLists",{server:this.tempModel.parent,silent:!0})}),this))).done(this.whenRendered((function(){this.trigger("request:nextState")}))),n.fail(this.whenRendered((function(){this.trigger("request:state","error")})))}}});var x=n(97189),A=n(98915),N=n.n(A);const k=s.Z.ItemView.extend({className:"modal-body",template:N(),events:{"click .status-link":"onStatusClick"},onStatusClick:function(e){e.preventDefault(),this.triggerMethod("request:nextState"),(0,x.Z)("serverSettingsStatusSync",{machineIdentifier:this.options.server.id,deviceID:this.options.device.id})}});var L=n(24740),j=n.n(L);const R=i.Z.extend({mixins:[r.Z],name:"syncModal",className:"convert-modal modal fade",template:j(),regions:{bodyRegion:".modal-body-region"},initialize:function(e){i.Z.prototype.initialize.apply(this,arguments),this.device=this.model?this.model.device:e.device},initialState:"form",states:{form:{nextState:"success",onEnter:function(){this.bodyRegion.show(new O({model:this.model,item:this.options.item,items:this.options.items,device:this.device})),this.listenForStateRequests()}},success:{onEnter:function(){this.model?this.hide():(this.bodyRegion.show(new k({server:this.options.item.server,device:this.device})),this.listenForStateRequests())}},error:{onEnter:function(){this.bodyRegion.show(new l),this.listenForStateRequests()}}},listenForStateRequests:function(){this.bodyRegion&&this.bodyRegion.currentView&&this.listenTo(this.bodyRegion.currentView,{"request:state":this.enterState,"request:nextState":this.enterNextState})},onRender:function(){i.Z.prototype.onRender.apply(this,arguments),this.enterNextState()},onStateMachineComplete:function(){this.hide()}})},58499:(e,t,n)=>{"use strict";n.d(t,{Z:()=>H});var r=n(19755),i=n.n(r),s=n(13469),a=n.n(s),o=n(93966),l=n(16013),c=n(21288),d=n(64529),u=n(20367),p=n.n(u);const m=d.Z.extend({className:"user-select-alert-bar",template:p()});var h=n(94018),g=n(65652),y=n(44233),v=n(32846),f=n(5562),b=n(84936),S=n(68187),I=n(43108);const Z=n(64106).Z.extend({getUrl(e){if(e){const t=(0,I.Z)();return b.Z.join(e,{size:Math.round(this.width*t)})}return e}});var P=n(74237),E=n.n(P);const M=g.Z.ItemView.extend({tagName:"li",className:"user-select-list-item",template:E(),ui:{container:".user-select-container",poster:".user-poster"},events:{"click a":"onClick"},initialize:function(e){this.disabled=e.disabled,this.posterImage=new Z({model:this.model,type:"friend",width:80});var t=o.DB("appModel").get("primaryServer");t&&t.supports("imageFilters")&&(this.backgroundImage=new Z({model:this.model,type:"friend",width:120,background:!0,filters:{blur:20,opacity:50,background:"000000"}}),this.backgroundImage.placeholderClass=!1)},serializeData:function(){return{disabled:this.disabled}},bindings:{".username":{modelAttribute:"title"},".managed-title":{modelAttribute:"restrictionProfile",autohide:!0,formatter(e){if(this.model.get("restricted")&&!this.model.get("guest"))return e?S.oL(e).title:(0,f.Z)("Managed User")}},".protected-icon":{modelAttribute:"protected",autohide:!0,manual:!0},".admin-icon":{modelAttribute:"admin",autohide:!0,manual:!0}},onRender:function(){this.posterImage.setElement(this.ui.poster),this.backgroundImage&&this.backgroundImage.setElement(this.ui.container)},onClose:function(){this.posterImage.close(),this.backgroundImage&&this.backgroundImage.close()},onClick:function(e){e.preventDefault(),this.trigger("selectUser",this.model)}});var C=n(91159),w=n.n(C);const D=g.Z.Layout.extend({className:"user-select-modal-pin-container",template:w(),ui:{digitContainer:".pin-digit-container",input:".pin-input",digits:".pin-digit",loading:".loading",removeBtn:".remove-btn",saveBtn:".save-btn",pinForgotLink:".pin-forgot-link"},regions:{userList:".user-select-list"},events:{"keydown input":"onKeyDown","input input":"onInput","keyup input":"onKeyUp","focus input":"onFocus","blur input":"onBlur","change input":"onChange","animationend .pin-input-container":"onInputsAnimationEnd","webkitAnimationEnd .pin-input-container":"onInputsAnimationEnd","oAnimationEnd .pin-input-container":"onInputsAnimationEnd","click .back-btn":"onBackClick","click .remove-btn":"onRemoveClick","submit #pin-form":"onSubmit","click .pin-digit":"onPINClick","keydown .save-btn":"onSaveKeyDown"},onlyAfterRender:["confirmUser"],initialize:function(e){var t=o.DB("appModel");this.isForced=e.isForced,this.isEditing=e.isEditing,this.isEditWarning=e.isEditWarning,this.showBackButton=e.showBackButton,this.openAddManagedUser=e.openAddManagedUser,this.focusDelay=e.focusDelay,this.user=t.get("user"),this.isEditConfirmation=this.isEditing&&this.model.get("protected")&&!this.model.get("restricted")},serializeData:function(){return{isEditing:this.isEditing&&!this.isEditConfirmation,isEditWarning:this.isEditWarning,isEditConfirmation:this.isEditConfirmation,isOpeningAddManagedUser:this.openAddManagedUser,hasCurrentPIN:this.model.get("protected"),showBackButton:this.showBackButton}},focusInput:function(){this.ui.input.val(""),this.ui.input.focus()},getPIN:function(){return this.ui.input.val()},editPIN:function(e){this.ui.saveBtn.isDisabled()||(this.ui.saveBtn.addClass("disabled"),this.savePIN(e).fail(this.whenRendered((function(){this.ui.saveBtn.removeClass("disabled"),v.Z.trigger("show:alert",{type:"error",message:(0,f.Z)("This PIN could not be saved.")})}))))},removePIN:function(){this.ui.removeBtn.isDisabled()||(this.ui.removeBtn.addClass("disabled"),this.savePIN("").fail(this.whenRendered((function(){this.ui.removeBtn.removeClass("disabled"),v.Z.trigger("show:alert",{type:"error",message:(0,f.Z)("This PIN could not be removed.")})}))))},savePIN:function(e){this.ui.loading.removeClass("hidden");var t=this.model.get("restricted"),n=this.model.getSaveParams(),r={};this.currentPin&&(r.currentPin=this.currentPin),""===e&&t?r.removePin=1:r.pin=e;var s=i().extend(!0,{},n,r),o=b.Z.join(this.model.pinUrl(),s),l=this.model.server.getXHROptions(o,{type:t?"POST":"PUT"}),c=i().ajax(l);return c.done(a().bind((function(){this.model.set("protected",!!e),this.model.id===this.user.id&&(e?this.user.set("pin",this.user.hashPIN(e)):this.user.unset("pin"),this.user.set("home",this.user.hasHome())),this.trigger("resolve",e)}),this)),c.always(this.whenRendered((function(){this.ui.loading.addClass("hidden")}))),c},confirmUser:function(e){this.ui.loading.removeClass("hidden");var t=h.Z.execute("switchUser",{homeUser:this.model,pin:e,allowGuestLock:!this.isEditing,openAddManagedUser:this.openAddManagedUser});t.done(a().bind((function(){this.isEditing?(this.isEditConfirmation=!1,this.currentPin=e,this.render()):this.trigger("resolve",e)}),this)),t.fail(this.whenRendered((function(){this.ui.digitContainer.addClass("shake"),this.ui.input.val(""),this.focusInput()}))),t.always(this.whenRendered((function(){this.ui.loading.addClass("hidden")})))},renderPIN:function(){var e=this.getPIN(),t=e.length,n=this.isEditing&&!this.isEditConfirmation;this.ui.digits.each((function(r,s){var a=e[r]||"";a&&!n&&(a="&bull;"),i()(s).toggleClass("current",r===t).html(a)}))},onRender:function(){this.userList.show(new M({model:this.model,disabled:!0})),this.ui.pinForgotLink.toggleClass("hidden",this.model.get("restricted")),y.Z.mobile||window.setTimeout(a().bind(this.focusInput,this),this.focusDelay)},onKeyDown:function(e){var t=e.which;13!==t&&8!==t&&46!==t&&229!==t&&(t>=48&&t<=57||t>=96&&t<=105||e.preventDefault())},onInput:function(e){var t=i()(e.currentTarget),n=t.val(),r=n.length,s=n.charAt(n.length-1);/[0-9]/.test(s)?4===n.length&&(!this.isEditing||this.isEditConfirmation?(t.blur(),this.confirmUser(this.getPIN())):this.ui.saveBtn.focus()):t.val(n.slice(0,r-1))},onKeyUp:function(e){this.renderPIN()},onFocus:function(e){this.renderPIN()},onBlur:function(e){this.renderPIN(),this.ui.digits.removeClass("current")},onChange:function(e){this.renderPIN()},onInputsAnimationEnd:function(e){i()(e.currentTarget).removeClass("shake")},onBackClick:function(e){e.preventDefault(),this.trigger("change:pane","users")},onRemoveClick:function(e){e.preventDefault(),this.removePIN()},onSubmit:function(e){e.preventDefault();var t=this.getPIN();4===t.length?this.isEditing&&!this.isEditConfirmation?this.editPIN(t):this.confirmUser(t):v.Z.trigger("show:alert",{type:"error",message:(0,f.Z)("Please enter a 4 digit PIN.")})},onSaveKeyDown:function(e){var t=e.which;8!==t&&46!==t||(e.preventDefault(),this.ui.input.val(""),this.focusInput())},onPINClick:function(){this.focusInput()}});var T=n(23593),O=n(92216),x=n(43322),A=n(21009),N=n(38170),k=n(16561),L=n(49883),j=n.n(L);const R=g.Z.ItemView.extend({tagName:"li",className:"user-select-list-item",template:j(),events:{"click a":"onClick"},initialize(e){this.disabled=e.disabled},serializeData(){return{iconAdd:(0,k.Z)(N.Z,{className:"add-icon"}),disabled:this.disabled}},onClick(e){e.preventDefault(),this.trigger("selectUser",this.model,!0)}}),V=A.Z.extend({tagName:"ul",className:"tile-list user-select-list",itemView:M,onRender(){this.options.showAddUser&&this.addItemView(this.options.adminModel,R,this.collection.length)}});var U=n(99590),z=n.n(U);const B=g.Z.Layout.extend({className:"user-select-modal-users-container",template:z(),ui:{loading:".loading"},regions:{body:".modal-body"},onlyAfterRender:["onUserPopulated","onHomeUsersPopulated","onError"],initialize:function(e){var t=o.DB("appModel");this.user=t.get("user"),this.homeUsers=this.user.get("homeUsers"),this.user.server.populate().done(a().bind(this.onUserPopulated,this)).fail(a().bind(this.onError,this))},showList:function(e){this.ui.loading.addClass("hidden");const t=e.findWhere({admin:!0});this.body.show(new V({collection:e,adminModel:t,showAddUser:!!t})),this.listenTo(this.body.currentView,"itemview:selectUser",this.onUserSelect)},selectUser:function(e,t){this.ui.loading.removeClass("hidden");var n=h.Z.execute("switchUser",{homeUser:e,switchUser:!0,allowGuestLock:!0,openAddManagedUser:t});n.done(a().bind((function(){this.trigger("resolve",null)}),this)),n.always(this.whenRendered((function(){this.ui.loading.addClass("hidden")})))},onUserPopulated:function(){this.homeUsers.fetch().done(a().bind(this.onHomeUsersPopulated,this)).fail(a().bind(this.onError,this))},onHomeUsersPopulated:function(e){this.showList(e)},onError:function(){var e=T.Z.getActiveUser();if(e&&e.get("home")){var t={id:e.id,title:e.get("title"),protected:!!e.get("pin")};this.showList(new O.Z([t],{server:this.user.server,parent:this.user}))}else this.user.set("lockState",x.Ik.Unlocked),this.trigger("resolve")},onUserSelect:function(e,t,n){t.get("protected")?this.trigger("change:pane","pin",{model:t,showBackButton:!0,openAddManagedUser:n,focusDelay:0}):this.selectUser(t,n)}});var _=n(30290),F=n.n(_);const H=c.Z.extend({name:"userSelectModal",className:"user-select-modal modal modal-transparent fade",template:F(),transparent:!0,panes:{users:B,pin:D},regions:{content:".modal-content",alertBar:".modal-alert"},initialize:function(e){c.Z.prototype.initialize.apply(this,arguments);var t=o.DB("appModel");this.options=e,this.isForced=e.isForced,this.user=t.get("user"),this.promise=i().Deferred()},showPane:function(e,t){this.currentPane&&this.stopListening(this.currentPane);var n=new(0,this.panes[e])(a().extend({},this.options,t));return this.listenTo(n,{"change:pane":this.onChangePane,resolve:this.onResolve,reject:this.onReject}),this.currentPane=n,this.content.show(n),n},showAlertBar:function(){const e=l.Z[0];l.Z.length=0,this.alertBar.show(new m({alert:e}))},onRender:function(){c.Z.prototype.onRender.apply(this,arguments),this.model?this.showPane("pin",{focusDelay:this.focusDelay}):this.showPane("users"),this.showAlertBar()},onHide:function(e){c.Z.prototype.onHide.apply(this,arguments),"pending"===this.promise.state()&&this.promise.reject()},onChangePane:function(e,t){this.showPane(e,t)},onResolve:function(e){this.promise.resolve(e),this.hide()},onReject:function(){this.promise.reject(),this.hide()}})},28888:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294);class i extends r.Component{componentDidMount(){const e=this.props.view;this._view=new e(this.props.viewOptions),this._view.render(),this._el.appendChild(this._view.el),this._view.triggerMethod("show")}shouldComponentUpdate(){return!1}componentWillUnmount(){this._view.close&&this._view.close()}render(){return r.createElement("div",{className:this.props.className,ref:e=>this._el=e})}}const s=i},22133:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(89969),i=n(22222),s=n(4134),a=n(2375),o=n(90217),l=n(92187),c=n(67294),d=n(62859),u=n(26893),p=n(68809),m=n(7203),h=n(36996),g=n(15819),y=n(93732);function v(e){const{children:t,isWaitingForServers:n,isAnyServerAuthenticated:r,isWaitingForCloudServer:i,isCloudServerUnauthorized:s,isCloudServerConnected:a,isCloudServerUnavailable:o,isCloudServerDownForMaintenance:l,hasAttemptedSignIn:v,isUserLocked:f,isUserFeaturesPopulated:b,isUserFeaturesError:S,onPopulateUserFeatures:I}=e,Z=(0,d.k6)(),P=!!(0,d.$B)({path:[h.Z.account,h.Z.announcements,h.Z.devices,h.Z.webhooks,h.Z.onlineMediaSources,h.Z.userSharingSettings,h.Z.usersSharing,h.Z.serverSettingsStatusSync],exact:!0}),[E,M]=(0,c.useState)(S||b),C=(v||o)&&!f,w=C&&a,D=b||S||E||o,T=!n&&!r&&!l&&!o&&C||P&&s;if((0,c.useEffect)((()=>{if(w){const e=window.setTimeout((()=>M(!0)),5e3);return()=>window.clearTimeout(e)}}),[w]),(0,c.useEffect)((()=>{w&&I()}),[w,I]),(0,u.Z)((()=>{Z.push(h.Z.login)}),T),r&&D&&C&&(!P||a))return t;if(!i&&(P||!n&&!r)){if(l)return c.createElement(g.Z,null);if(o)return c.createElement(y.Z,null)}return c.createElement(p.Z,null,c.createElement(m.Z,null))}v.defaultProps={isAccountRequired:!1};const f=v,b=(0,i.P1)((e=>e.downloads),(e=>!!e&&!e.isSubscriptionsPopulated&&!e.subscriptionsError)),S=(0,i.P1)((e=>e.downloads),(e=>!!(e&&e.subscriptions&&e.subscriptions.length>0))),I=(0,i.P1)(o.Z,(e=>e.some((e=>e.isCloud&&e.isResolved||!e.isCloud&&e.isConnected)))),Z=(0,i.P1)((e=>e.isWaitingForServers),b,I,S,l.Z,a.Z,((e,t,n,r,i,s)=>({isWaitingForServers:e||t,isAnyServerAuthenticated:n||r,isWaitingForCloudServer:!s.isResolved&&!s.isRejected,isCloudServerUnauthorized:s.isUnauthorized,isCloudServerConnected:s.isConnected,isCloudServerUnavailable:s.isUnavailable,isCloudServerDownForMaintenance:s.isDownForMaintenance,hasAttemptedSignIn:i.hasAttemptedSignIn,isUserLocked:i.isLocked,isUserFeaturesPopulated:i.isFeaturesPopulated,isUserFeaturesError:!!i.featuresError}))),P={onPopulateUserFeatures:s.$Q},E=(0,r.$j)(Z,P)(f)},57501:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ft});var r=n(67294),i=n(69605),s=n(2424),a=n(89969),o=n(22222),l=n(81017),c=n(24781),d=n(35871),u=n(5562),p=n(22745),m=n(37084),h=n(70182),g=n(79849),y=n(56510),v=n(60528),f=n(90653),b=n(84807),S=n(89460),I=n(40691),Z=n(64795),P=n(13550);const E=function(e){const{children:t,metadataItem:n,isAddingHomeUser:i,isCreatingManagedUser:s,isSharingSingleLibrary:a,errorMessage:o,onModalClose:l}=e;let c;return c=n?(0,u.Z)("Share {metadataTitle}",{metadataTitle:(0,P.Z)(n,b.U)}):i?(0,u.Z)("Invite Home User"):s?(0,u.Z)("Create Managed User"):a?(0,u.Z)("Share Library"):(0,u.Z)("Add A Friend"),r.createElement(Z.Z,{onModalClose:l},r.createElement(S.Z,null,c),o?r.createElement(I.Z,{errorMessage:o}):null,t)};var M=n(58300),C=n(44352);var w=Object.defineProperty,D=Object.prototype.hasOwnProperty,T=Object.getOwnPropertySymbols,O=Object.prototype.propertyIsEnumerable,x=(e,t,n)=>t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const A={onNext:d.wV},N=(0,a.$j)(null,A)((function(e){const t=e,{onNext:n,onModalClose:i}=t,s=((e,t)=>{var n={};for(var r in e)D.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&T)for(var r of T(e))t.indexOf(r)<0&&O.call(e,r)&&(n[r]=e[r]);return n})(t,["onNext","onModalClose"]);return r.createElement(m.ZP,{className:"InviteHomeUserWarning-form-27FDaQ",onSubmit:n},r.createElement(E,((e,t)=>{for(var n in t||(t={}))D.call(t,n)&&x(e,n,t[n]);if(T)for(var n of T(t))O.call(t,n)&&x(e,n,t[n]);return e})({onModalClose:i},s),r.createElement(h.Z,{className:"InviteHomeUserWarning-modalBody-25mxLk ModalBody-modalBody-38ercY",scrollDirection:f.Hn},r.createElement(C.Z,{className:"InviteHomeUserWarning-warning-3nJ-Zs"}),r.createElement("div",null,(0,u.Z)("Inviting other users to your home is a security risk that could allow these users to access your account. You should only do this if you live in the same home and share devices."))),r.createElement(g.Z,null,r.createElement(y.Z,null,r.createElement(p.Z,{onPress:i},(0,u.Z)("Cancel")),r.createElement(M.Z,{type:"submit",kind:v._8},(0,u.Z)("Continue"))))))}));var k=n(39365),L=n(74253),j=n(90354),R=n(15041),V=n(45428),U=n(58801),z=n(35589),B=n(91995),_=n(6103),F=n(21914),H=n(7796),W=n(20723),Q=n(51221);var G=Object.defineProperty,Y=Object.prototype.hasOwnProperty,q=Object.getOwnPropertySymbols,K=Object.prototype.propertyIsEnumerable,$=(e,t,n)=>t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const X=(0,Q.Z)((function(e){return r.createElement(W.Z,((e,t)=>{for(var n in t||(t={}))Y.call(t,n)&&$(e,n,t[n]);if(q)for(var n of q(t))K.call(t,n)&&$(e,n,t[n]);return e})({className:"ShareServerLibrariesServerTitle-input-205-oc CheckInput-label-3NzSDF"},e))}));var J=Object.defineProperty,ee=Object.prototype.hasOwnProperty,te=Object.getOwnPropertySymbols,ne=Object.prototype.propertyIsEnumerable,re=(e,t,n)=>t in e?J(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function ie(e){return r.createElement(W.Z,((e,t)=>{for(var n in t||(t={}))ee.call(t,n)&&re(e,n,t[n]);if(te)for(var n of te(t))ne.call(t,n)&&re(e,n,t[n]);return e})({},e))}ie.defaultProps={className:"ShareServerLibrary-input-3n-cWI CheckInput-input-3u8_kT"};const se=(0,Q.Z)(ie),ae=parseInt(H.Z.serverShareListRowHeight,10);class oe extends r.Component{constructor(e,t){super(e,t),this.onTogglePress=()=>{this.setState({isCollapsed:!this.state.isCollapsed})},this.onAllLibrariesToggle=()=>{this.setState({isAllLibrariesChecked:!this.state.isAllLibrariesChecked})};const{sourceServer:n,serverOverview:r,serverShare:i,selectedAllLibrariesMachineIdentifiers:s}=e;this.state={isCollapsed:n.machineIdentifier!==z.X&&n.machineIdentifier!==r.machineIdentifier,isAllLibrariesChecked:null!=s?s.includes(r.machineIdentifier):!(!i||!i.allLibraries)}}render(){const{sourceDirectory:e,sourceServer:t,serverOverview:n,serverShare:i,selectedLibrarySectionIDs:s}=this.props,{isAllLibrariesChecked:a,isCollapsed:o}=this.state,{machineIdentifier:l,name:c,sections:d}=n,p={maxHeight:o?0:(d.length||1)*ae},m=e&&e.id;let h=c;return a&&(h+=` (${(0,u.Z)("All Libraries")})`),r.createElement(r.Fragment,null,r.createElement("div",{className:"ShareServerLibraries-header-2KZeGo"},r.createElement(_.Z,{className:a?"ShareServerLibraries-toggleButtonHidden-3DLUZN ShareServerLibraries-toggleButton-1nq4dd Link-link-CM9nxg":"ShareServerLibraries-toggleButton-1nq4dd Link-link-CM9nxg",onPress:this.onTogglePress},r.createElement(B.Z,{direction:o?F.pX:F.WV})),r.createElement(X,{name:JSON.stringify({[R.I]:l}),checkboxText:h,initialValue:a,onChange:this.onAllLibrariesToggle})),r.createElement("div",{className:"ShareServerLibraries-libraries-2twLie",style:p},a||0!==d.length?null:r.createElement("div",{className:"ShareServerLibraries-emptyMessage-2TetM6"},(0,u.Z)("No libraries")),d.map((e=>{const{id:n,key:o,title:c}=e;let d;if(null!=s)d=s.includes(n);else{const e=t.machineIdentifier===l&&m===o,r=!!(i&&i.libraries&&i.libraries.find((e=>e.id===n)));d=e||r}return r.createElement(se,{key:n,className:a?"ShareServerLibraries-hidden-3vhUoS":void 0,name:JSON.stringify({[R.n]:n}),checkboxText:c,initialValue:d})}))))}}const le=oe,ce=function(e){const{sourceDirectory:t,sourceServer:n,serverOverviews:i,serverShares:s,selectedAllLibrariesMachineIdentifiers:a,selectedLibrarySectionIDs:o,hasNextStep:l,isPopulating:c,showList:d,isNewFriend:b,isAddingHomeUser:S,isCreatingManagedUser:I,isSharingPending:Z,errorMessage:P,onPreviousStep:C,onSubmit:w,onModalClose:D}=e;let T;return T=l?(0,u.Z)("Continue"):I?(0,u.Z)("Add"):b?(0,u.Z)("Send"):(0,u.Z)("Save"),r.createElement(m.ZP,{className:"ShareLibraries-form-2HKiEq",onSubmit:w},r.createElement(E,{isAddingHomeUser:S,isCreatingManagedUser:I,isSharingSingleLibrary:!!t,errorMessage:P,onModalClose:D},r.createElement(h.Z,{className:"ShareLibraries-modalBody-p-R5Zc ModalBody-modalBody-38ercY",scrollDirection:f.Hn},r.createElement("div",{className:"ShareLibraries-message-3bWSGl"},(0,u.Z)("Choose some libraries to share.")),c?r.createElement("div",{className:"ShareLibraries-spinnerContainer-35uJwB"},r.createElement(U.Z,null)):null,d?r.createElement(V.Z,{className:"ShareLibraries-scroller-1TV7LQ Scroller-vertical-3IY07c",autoScroll:!0},i.map((e=>{const{machineIdentifier:i}=e,l=s.find((e=>e.machineIdentifier===i));return r.createElement(le,{key:i,sourceDirectory:t,sourceServer:n,serverOverview:e,serverShare:l,selectedAllLibrariesMachineIdentifiers:a,selectedLibrarySectionIDs:o})}))):null),r.createElement(g.Z,{className:"ShareLibraries-modalFooter-2e23aF ModalFooter-modalFooter-1Q0cxs"},r.createElement(p.Z,{onPress:D},(0,u.Z)("Cancel")),r.createElement(y.Z,null,r.createElement(p.Z,{onPress:C},(0,u.Z)("Previous")),r.createElement(M.Z,{type:"submit",kind:v._8,isDisabled:c||Z,isSpinning:Z},T)))))};var de=Object.defineProperty,ue=Object.prototype.hasOwnProperty,pe=Object.getOwnPropertySymbols,me=Object.prototype.propertyIsEnumerable,he=(e,t,n)=>t in e?de(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ge=(e,t)=>{for(var n in t||(t={}))ue.call(t,n)&&he(e,n,t[n]);if(pe)for(var n of pe(t))me.call(t,n)&&he(e,n,t[n]);return e};const ye={dispatchFetchServerOverviews:d.ly,dispatchFetchServerShares:d.vX,dispatchSetLibraryShares:d.jD,onPreviousStep:d.Es};class ve extends r.Component{constructor(){super(...arguments),this.onSubmit=e=>{const t=Object.keys(e).reduce(((t,n)=>{if(!e[n])return t;const r=JSON.parse(n);return r.hasOwnProperty(R.n)&&t.selectedLibrarySectionIDs.push(r[R.n]),r.hasOwnProperty(R.I)&&t.selectedAllLibrariesMachineIdentifiers.push(r[R.I]),t}),{selectedAllLibrariesMachineIdentifiers:[],selectedLibrarySectionIDs:[]});this.props.dispatchSetLibraryShares(t)}}componentDidMount(){const{friendEntityID:e,sharingEligibleServerEntityIDs:t,dispatchFetchServerOverviews:n,dispatchFetchServerShares:r}=this.props;n({serverEntityIDs:t}),r({friendEntityID:e})}render(){const e=this.props,{sharingEligibleServerEntityIDs:t,dispatchFetchServerOverviews:n,dispatchFetchServerShares:i}=e,s=((e,t)=>{var n={};for(var r in e)ue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&pe)for(var r of pe(e))t.indexOf(r)<0&&me.call(e,r)&&(n[r]=e[r]);return n})(e,["sharingEligibleServerEntityIDs","dispatchFetchServerOverviews","dispatchFetchServerShares"]);return r.createElement(ce,ge(ge({},s),{onSubmit:this.onSubmit}))}}const fe=(0,a.$j)((function(){return(0,o.P1)((e=>e.ui.shareModal),L.Z,k.Z,(0,j.Z)(),((e,t,n,r)=>{const{steps:i,serverOverviews:s,selectedAllLibrariesMachineIdentifiers:a,selectedLibrarySectionIDs:o,isNewFriend:l,isServerOverviewsPopulating:u,isServerOverviewsPopulated:p,isServerSharesPopulating:m,isServerSharesPopulated:h,isSharingPending:g,sharingError:y,serverSharesError:v}=e,f=u||m,b=p&&h,S=v||y;return{sharingEligibleServerEntityIDs:n,sourceServer:t,serverOverviews:s,selectedAllLibrariesMachineIdentifiers:a,selectedLibrarySectionIDs:o,serverShares:r?r.serverShares:[],hasNextStep:(0,d.$i)(i,c.p.LIBRARIES),isPopulating:f&&!S,isSharingPending:g&&!S,showList:b,isNewFriend:l,errorMessage:S}}))}),ye)(ve);var be=n(13209),Se=n(59701),Ie=n(55885),Ze=n(68187),Pe=n(45399),Ee=n(96909),Me=n(82378);var Ce=Object.defineProperty,we=Object.prototype.hasOwnProperty,De=Object.getOwnPropertySymbols,Te=Object.prototype.propertyIsEnumerable,Oe=(e,t,n)=>t in e?Ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const xe=(0,Q.Z)((function(e){const t=e,{subtitle:n}=t,i=((e,t)=>{var n={};for(var r in e)we.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&De)for(var r of De(e))t.indexOf(r)<0&&Te.call(e,r)&&(n[r]=e[r]);return n})(t,["subtitle"]);return r.createElement("div",{className:"ShareRestrictionsCheckInputItem-container-1At6N0"},r.createElement(W.Z,((e,t)=>{for(var n in t||(t={}))we.call(t,n)&&Oe(e,n,t[n]);if(De)for(var n of De(t))Te.call(t,n)&&Oe(e,n,t[n]);return e})({size:Me.HC},i)),n?r.createElement("span",{className:"ShareRestrictionsCheckInputItem-subtitle-2idVzm"},n):null)}));var Ae=n(40498),Ne=n(69881),ke=n(32003),Le=n(38625),je=n(79872);const Re="ShareRestrictionsFilters-section-1oxtDi";var Ve=Object.defineProperty,Ue=Object.prototype.hasOwnProperty,ze=Object.getOwnPropertySymbols,Be=Object.prototype.propertyIsEnumerable,_e=(e,t,n)=>t in e?Ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fe=(e,t)=>{for(var n in t||(t={}))Ue.call(t,n)&&_e(e,n,t[n]);if(ze)for(var n of ze(t))Be.call(t,n)&&_e(e,n,t[n]);return e};const He=function(e){const t=e,{className:n,friendFilterOptions:i}=t,s=((e,t)=>{var n={};for(var r in e)Ue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ze)for(var r of ze(e))t.indexOf(r)<0&&Be.call(e,r)&&(n[r]=e[r]);return n})(t,["className","friendFilterOptions"]),{filterMovies:a,filterTelevision:o,filterMusic:l}=i,c=(0,Le.Z)(a,Ae.ZO,Ae.Jm),d=(0,Le.Z)(a,Ae.GP,Ae.Bi),p=(0,Le.Z)(o,Ae.ZO,Ae.Jm),m=(0,Le.Z)(o,Ae.GP,Ae.Bi),h=(0,Le.Z)(l,Ae.GP,Ae.Bi);return r.createElement("div",{className:n},r.createElement("div",{className:Re},r.createElement("div",null,(0,u.Z)("Content Restrictions"),r.createElement(b.Z,null),ke.ZP.get(ke.MB).title),r.createElement(je.Z,Fe({name:"moviesContentRatings",metadataType:Ne.MOVIE,tagType:Ae.ZO,initialValue:c.initialAllowTags,excludedTags:c.excludeTags,onChange:c.onAllowTagsChange},s)),r.createElement(je.Z,Fe({name:"moviesExcludeContentRatings",metadataType:Ne.MOVIE,tagType:Ae.Jm,initialValue:c.initialExcludeTags,excludedTags:c.allowTags,onChange:c.onExcludeTagsChange},s)),r.createElement(je.Z,Fe({name:"moviesLabels",metadataType:Ne.MOVIE,tagType:Ae.GP,initialValue:d.initialAllowTags,excludedTags:d.excludeTags,onChange:d.onAllowTagsChange},s)),r.createElement(je.Z,Fe({name:"moviesExcludeLabels",metadataType:Ne.MOVIE,tagType:Ae.Bi,initialValue:d.initialExcludeTags,excludedTags:d.allowTags,onChange:d.onExcludeTagsChange},s))),r.createElement("div",{className:Re},r.createElement("div",null,(0,u.Z)("Content Restrictions"),r.createElement(b.Z,null),ke.ZP.get(ke.TV).title),r.createElement(je.Z,Fe({name:"televisionContentRatings",metadataType:Ne.SHOW,tagType:Ae.ZO,initialValue:p.initialAllowTags,excludedTags:p.excludeTags,onChange:p.onAllowTagsChange},s)),r.createElement(je.Z,Fe({name:"televisionExcludeContentRatings",metadataType:Ne.SHOW,tagType:Ae.Jm,initialValue:p.initialExcludeTags,excludedTags:p.allowTags,onChange:p.onExcludeTagsChange},s)),r.createElement(je.Z,Fe({name:"televisionLabels",metadataType:Ne.SHOW,tagType:Ae.GP,initialValue:m.initialAllowTags,excludedTags:m.excludeTags,onChange:m.onAllowTagsChange},s)),r.createElement(je.Z,Fe({name:"televisionExcludeLabels",metadataType:Ne.SHOW,tagType:Ae.Bi,initialValue:m.initialExcludeTags,excludedTags:m.allowTags,onChange:m.onExcludeTagsChange},s))),r.createElement("div",{className:Re},r.createElement("div",null,(0,u.Z)("Content Restrictions"),r.createElement(b.Z,null),ke.ZP.get(ke.xF).title),r.createElement(je.Z,Fe({name:"musicLabels",metadataType:Ne.ARTIST,tagType:Ae.GP,initialValue:h.initialAllowTags,excludedTags:h.excludeTags,onChange:h.onAllowTagsChange},s)),r.createElement(je.Z,Fe({name:"musicExcludeLabels",metadataType:Ne.ARTIST,tagType:Ae.Bi,initialValue:h.initialExcludeTags,excludedTags:h.allowTags,onChange:h.onExcludeTagsChange},s))))};var We=n(26955),Qe=n(18246);const Ge=(0,Q.Z)((function(e){const{name:t,title:n,subtitle:i,value:s,values:a,onChange:o}=e;return r.createElement("div",null,r.createElement(We.Z,null,n),r.createElement(Qe.Z,{name:t,value:s,values:a,size:Me.HC,onChange:o}),i?r.createElement("div",{className:"ShareRestrictionsSelectInputItem-subtitle-qLF_WW"},i):null)})),Ye="ShareRestrictions-message-1guNwc",qe="ShareRestrictions-section-3Xig3t";function Ke(e){return parseInt(e,10)}const $e=function(e){const{friend:t,sourceDirectory:n,filterOptionsTags:i,isFilterOptionsTagsPopulating:s,isFilterOptionsTagsPopulated:a,canAddToHome:o,canShareTunersWithFriends:l,canShareDVR:c,canShowRestrictions:d,canShowRestrictionsFilters:b,isAddingHomeUser:S,isCreatingManagedUser:I,isSharingPending:Z,errorMessage:P,onPreviousPress:w,onSubmit:D,onModalClose:T}=e,O=!!t&&t.home,x=!t||t.allowSync,A=!!t&&t.allowCameraUpload,N=t?t.allowTuners:0,k=t?{filterMovies:t.filterMovies,filterTelevision:t.filterTelevision,filterMusic:t.filterMusic}:{},[L,j]=(0,r.useState)(O||S||I),R=L||l;return r.createElement(m.ZP,{className:"ShareRestrictions-form-256uAD",onSubmit:D},r.createElement(E,{isAddingHomeUser:S,isCreatingManagedUser:I,isSharingSingleLibrary:!!n,errorMessage:P,onModalClose:T},r.createElement(h.Z,{className:"ShareRestrictions-modalBody-1lO7UE ModalBody-modalBody-38ercY",scrollDirection:f.Hn},r.createElement(V.Z,{className:"ShareRestrictions-scroller-1Xxpuu Scroller-vertical-3IY07c",autoScroll:!0},o?r.createElement("div",{className:Ye},(0,u.Z)("Users in your Home appear on the Switch User screen. The invited user will be asked to confirm Home membership.")):null,o?r.createElement("div",{className:qe},r.createElement(xe,{name:"addToHome",checkboxText:(0,u.Z)("Add to Plex Home"),initialValue:O,isDisabled:O,onChange:j})):null,L&&!I?r.createElement("div",{className:"ShareRestrictions-warningMessage-29729v ShareRestrictions-message-1guNwc"},r.createElement(C.Z,{className:"ShareRestrictions-warningIcon-2zYikI"}),(0,u.Z)("Inviting other users to your home is a security risk that could allow these users to access your account. You should only do this if you live in the same home and share devices.")):null,r.createElement("div",{className:Ye},(0,u.Z)("You can restrict this user's access to certain features and content. These restrictions apply to all items shared with this user. You can change them at any time in the Users & Sharing settings.")),r.createElement("div",{className:qe},r.createElement(xe,{name:"allowSync",checkboxText:(0,u.Z)("Allow Downloads"),subtitle:(0,u.Z)("This will allow this user to download content from your server"),initialValue:x}),d?r.createElement(xe,{name:"allowCameraUpload",checkboxText:(0,u.Z)("Allow Camera Upload"),subtitle:(0,u.Z)("This will allow this user to upload media to your server"),initialValue:A}):null,R&&!c?r.createElement(xe,{name:"allowTuners",checkboxText:(0,u.Z)("Allow access to Live TV"),subtitle:(0,u.Z)("Enabling this option will allow this user to access Live TV streams. It requires a library on the Plex Media Server that has DVR configured to be shared with the user"),initialValue:!!N}):null,R&&c?r.createElement(Ge,{name:"allowTuners",title:(0,u.Z)("Live TV & DVR Access"),subtitle:(0,u.Z)("Enabling Live TV for this user requires sharing a library with them. Enabling DVR will show all scheduled recordings, but this user will only be able to manage their own recordings"),initialValue:N,value:Ee.Z.values[N],values:Ee.Z.values,transformValue:Ke}):null),d&&b?r.createElement(He,{className:"ShareRestrictions-list-9ihAVb",filterOptionsTags:i,friendFilterOptions:k,isFilterOptionsTagsPopulating:s,isFilterOptionsTagsPopulated:a}):null)),r.createElement(g.Z,{className:"ShareRestrictions-modalFooter-3qZD3j ModalFooter-modalFooter-1Q0cxs"},r.createElement(p.Z,{onPress:T},(0,u.Z)("Cancel")),r.createElement(y.Z,null,r.createElement(p.Z,{onPress:w},(0,u.Z)("Previous")),r.createElement(M.Z,{type:"submit",kind:v._8,isDisabled:Z,isSpinning:Z},I?(0,u.Z)("Add"):(0,u.Z)("Send"))))))};var Xe=Object.defineProperty,Je=Object.prototype.hasOwnProperty,et=Object.getOwnPropertySymbols,tt=Object.prototype.propertyIsEnumerable,nt=(e,t,n)=>t in e?Xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rt=(e,t)=>{var n={};for(var r in e)Je.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&et)for(var r of et(e))t.indexOf(r)<0&&tt.call(e,r)&&(n[r]=e[r]);return n};class it extends r.Component{componentDidMount(){const{serverEntityIDs:e,dispatchFetchFilterOptionsTags:t}=this.props;t(e)}render(){const e=this.props,{serverEntityIDs:t,dispatchFetchFilterOptionsTags:n}=e,i=rt(e,["serverEntityIDs","dispatchFetchFilterOptionsTags"]);return r.createElement($e,((e,t)=>{for(var n in t||(t={}))Je.call(t,n)&&nt(e,n,t[n]);if(et)for(var n of et(t))tt.call(t,n)&&nt(e,n,t[n]);return e})({},i))}}const st=(0,a.$j)((function(){return(0,o.P1)(((e,{isAddingHomeUser:t})=>t),((e,{isCreatingManagedUser:t})=>t),(e=>e.ui.shareModal),be.Z,(0,j.Z)(),(0,Se.Z)("hasPlexPass"),(0,Ie.Z)(Pe.jq),(0,Ie.Z)(Pe.LD),(0,Ie.Z)(Pe.d6),((e,t,n,r,i,s,a,o,l)=>{const{restrictionProfileIdentifier:c,filterOptionsTags:d,isFilterOptionsTagsPopulating:u,isFilterOptionsTagsPopulated:p,isSharingPending:m,sharingError:h}=n;return{serverEntityIDs:r,friend:i,filterOptionsTags:d,isFilterOptionsTagsPopulating:u,isFilterOptionsTagsPopulated:p,canAddToHome:s&&!e&&!t,canShareTunersWithFriends:a,canShareDVR:o,canShowRestrictions:l,canShowRestrictionsFilters:!c||c===Ze.Pq,isSharingPending:m&&!h,errorMessage:h}}))}),(function(e){return{dispatchFetchFilterOptionsTags(t){e((0,d.L1)({serverEntityIDs:t}))},onPreviousPress(){e((0,d.Es)())},onSubmit(t){const n=t,{addToHome:r}=n,i=rt(n,["addToHome"]);e((0,d.K_)({addToHome:r,restrictions:i}))}}}))(it);var at=n(45859),ot=n(84936),lt=n(99085),ct=n(30464);const dt=()=>{},ut=(0,a.$j)((function(){return(0,o.P1)((e=>e.ui.shareModal),(0,Ie.Z)(Pe.OV),((e,t)=>{const{username:n,metadataItemEntityID:r,serverOverviews:i,selectedAllLibrariesMachineIdentifiers:s,selectedLibrarySectionIDs:a,inviteToken:o,inviteTokenError:l}=e;return{username:n,inviteToken:o,inviteTokenError:l,libraryCount:s?s.reduce(((e,t)=>e+i.find((e=>e.machineIdentifier===t)).sections.length),a.length):null,isSharingSingleItem:!!r,hasNewSharingInvitationFeature:t}}))}))((function(e){const{sourceDirectory:t,metadataItem:n,username:i,inviteToken:s,inviteTokenError:a,libraryCount:o,isSharingSingleItem:l,isAddingHomeUser:c,hasNewSharingInvitationFeature:d,onModalClose:m}=e,[S,I]=(0,r.useState)(!1),Z=(0,ct.Z)(S),M=(0,r.useRef)(null),C=function(e,t,n){if(n){const n={inviteToken:e};return t?n.sharedItems=1:n.sharedServers=1,ot.Z.join(["https://app.plex.tv/auth","#!"],n)}return ot.Z.join(["https://plex.tv","servers/shared_servers/accept"],{invite_token:e})}(s,l,d),w=(0,r.useCallback)((()=>{at.writeText(C),I(!0)}),[C]);let D;(0,r.useEffect)((()=>(!Z&&S&&(M.current=window.setTimeout((()=>{I(!1),window.clearTimeout(M.current)}),2e3)),()=>{window.clearTimeout(M.current)})),[Z,S]),D=n?(0,u.Z)("You shared {metadataTitle} with {username}.",{metadataTitle:(0,P.Z)(n,b.U),username:i}):0===o||c?(0,u.Z)("We've sent an invite to {username}.",{username:i}):1===o?(0,u.Z)("You shared a library with {username}.",{username:i}):(0,u.Z)("You shared {libraryCount} libraries with {username}.",{libraryCount:o,username:i});const T=(n||o)&&!a;return r.createElement("div",{className:"ShareSummary-container-2-H9gR"},r.createElement(E,{metadataItem:n,isSharingSingleLibrary:!!t,onModalClose:m},r.createElement(h.Z,{className:"ShareSummary-modalBody-13keve ModalBody-modalBody-38ercY",scrollDirection:f.Hn},r.createElement("div",{className:"ShareSummary-content-3LA2mZ"},r.createElement("p",null,D),T?r.createElement("p",null,(0,u.Z)("We've sent an email asking them to confirm, or they can use this link to accept the invitation"),":"):null,a?r.createElement("div",null,a):null,T?r.createElement("div",{className:"ShareSummary-inviteLink-1HXo9I"},r.createElement(lt.Z,{className:"ShareSummary-input-17CRcR TextInput-input-16EbOL input-input-3msd1_",name:"inviteLink",value:C,readOnly:"readonly",onChange:dt}),r.createElement(_.Z,{className:"ShareSummary-copyLink-2iSuoO Link-link-CM9nxg",kind:v._8,isDisabled:S||!!a,onPress:w},S?(0,u.Z)("Copied!"):(0,u.Z)("Copy link"))):null)),r.createElement(g.Z,null,r.createElement(y.Z,null,r.createElement(p.Z,{kind:v._8,onPress:m},(0,u.Z)("Finish"))))))}));var pt=n(2530);const mt={};var ht=n(34891),gt=n(52581),yt=n(82261),vt=n(43666),ft=n(32448),bt=n(86970),St=n(52114);function It(e){return e.includes("@")}function Zt(e,t){return!e.home&&t.home?1:e.home&&!t.home?-1:0}function Pt(e){return{id:-1,title:e.trim(),thumb:`https://plex.tv/users/${encodeURIComponent(e)}/avatar`}}class Et extends r.Component{constructor(e,t){super(e,t),this.isUserSelected=e=>this.state.selectedFriendID===e.id||!this.state.selectedFriendID&&this.state.username===e.title,this.onUsernameChange=e=>{this._clearOnUsernameChangeTimeout(),this.setState({username:e,selectedFriendID:null,isChangingUsername:!0},(()=>{this.props.isCreatingManagedUser||(this._timeoutID=window.setTimeout((()=>{this._timeoutID=null,this.props.onValidateUsername({username:e})}),500))}))},this.onUserSelect=e=>{this.setState({selectedFriendID:e===this.state.selectedFriendID?null:e})},this.onRestrictionProfileSelect=e=>{this.setState({restrictionProfileIdentifier:e})},this.onSubmit=({restrictionProfileIdentifier:e})=>{const{metadataItemEntityID:t,users:n,isAddingHomeUser:r,isCreatingManagedUser:i,onSetUsername:s,onSetUser:a}=this.props,{username:o,selectedFriendID:l}=this.state;l&&-1!==l?a({metadataItemEntityID:t,friendEntityID:n.find((e=>e.id===l)).entityID,isAddingHomeUser:r}):s({metadataItemEntityID:t,username:o.trim(),restrictionProfileIdentifier:e,isAddingHomeUser:r,isCreatingManagedUser:i})},this.state={username:e.username,selectedFriendID:null,isChangingUsername:!1,restrictionProfileIdentifier:e.restrictionProfileIdentifier}}static getDerivedStateFromProps(e,t){return t.isChangingUsername&&e.isUsernameValidating?{isChangingUsername:!1}:null}componentWillUnmount(){this._clearOnUsernameChangeTimeout()}_clearOnUsernameChangeTimeout(){this._timeoutID&&window.clearTimeout(this._timeoutID)}render(){const{serverEntityID:e,sourceDirectory:t,metadataItem:n,users:i,existingHomeUsernames:s,hasNextStep:a,hasPlexPass:o,isAddingHomeUser:l,isCreatingManagedUser:c,isUsernameValidating:d,isUsernameValidated:b,isSharingPending:S,sharingError:I,onModalClose:Z}=this.props,{username:P,selectedFriendID:C,isChangingUsername:w,restrictionProfileIdentifier:D}=this.state,T=function(e,t,n){const{sourceDirectory:r,metadataItem:i,isAddingHomeUser:s,isCreatingManagedUser:a}=n,o=t.trim().toUpperCase(),l=e.filter((e=>(!s||!e.home)&&!!(r||i||s||a)&&(e.username&&e.username.toUpperCase().includes(o)||e.title&&e.title.toUpperCase().includes(o)||e.email&&e.email.toUpperCase().includes(o))));return l.sort(Zt),l}(i,P,this.props),O=!b||w||function(e,t){return!!e.find((e=>e.username===t||e.title===t||e.email===t))}(T,P)?T:[Pt(P),...T],x=!d&&!b,A=!!i.find((e=>e.username===P||e.email===P)),N=w||d||x&&!It(P),k=""!==P.trim()&&!c&&0===O.length&&x&&!w,L=c&&s.includes(P.trim()),j=A&&!t&&!n&&!l&&!c;let R;var V;let z;k?R=It(V=P)?(0,u.Z)("An invite will be sent to {emailAddress}",{emailAddress:V.trim()}):(0,u.Z)("No Plex users found. Enter a valid email address to invite someone new"):L?R=(0,u.Z)("A Home user already exists with this name"):j&&(R=(0,u.Z)("{username} is already a friend",{username:P})),z=!n&&a?(0,u.Z)("Continue"):c?(0,u.Z)("Add"):(0,u.Z)("Send");const B=j||!C&&(S||""===P.trim()||!c&&N||L);return r.createElement(m.ZP,{className:"ShareUsers-form-1YpoGD",onSubmit:this.onSubmit},r.createElement(E,{metadataItem:n,isAddingHomeUser:l,isCreatingManagedUser:c,isSharingSingleLibrary:!!t,errorMessage:I,onModalClose:Z},r.createElement(h.Z,{className:"ShareUsers-modalBody-XR4Q8k ModalBody-modalBody-38ercY",scrollDirection:f.Hn},r.createElement("div",{className:"ShareUsers-messages-19WYJG"},r.createElement("div",null,function(e,t){return e?(0,u.Z)("Users in your Home appear on the Switch User screen."):t?(0,u.Z)("Managed users are only available when signed in with an account in your home."):(0,u.Z)("Choose a user to invite. You can enter their Plex username or email.")}(l,c)),r.createElement("div",null,function(e,t){return e?(0,u.Z)("The invited user will be asked to confirm Home membership."):t?(0,u.Z)("You can choose any name you like and you'll be able to set restrictions on accessible media."):(0,u.Z)("New users will be asked to accept the invitation.")}(l,c))),r.createElement("div",{className:"ShareUsers-inputContainer-1btQbV"},r.createElement(lt.Z,{name:"username",autoComplete:"off",placeholder:c?(0,u.Z)("Username"):(0,u.Z)("Username or email"),value:P,focusOnMount:!0,onChange:this.onUsernameChange}),d?r.createElement(U.Z,{className:"ShareUsers-icon-3JP7sw",size:Me.HC}):null,b?r.createElement(ft.Z,{className:"ShareUsers-checkIcon-zgEqGt ShareUsers-icon-3JP7sw"}):null),r.createElement("div",{className:"ShareUsers-warningMessage-2TlQRa"},R),c?r.createElement(bt.Z,{name:"restrictionProfileIdentifier",className:"ShareUsers-restrictionsInput-2M7YcL RestrictionProfilesInput-input-3zuRzj SelectInput-input-_K0kCK input-input-3msd1_",initialValue:D,hasPlexPass:o,onChange:this.onRestrictionProfileSelect}):null,!c&&O.length>0?r.createElement(r.Fragment,null,r.createElement(We.Z,null,(0,u.Z)("Users")),r.createElement(St.Z,{className:"ShareUsers-list-15h-Ir UserList-list-3MJnr9 Scroller-vertical-3IY07c",serverEntityID:e,users:O,isUserSelected:this.isUserSelected,onUserSelect:this.onUserSelect})):null),r.createElement(g.Z,null,r.createElement(y.Z,null,r.createElement(p.Z,{onPress:Z},(0,u.Z)("Cancel")),r.createElement(M.Z,{type:"submit",kind:v._8,isDisabled:B,isSpinning:S},z)))))}}const Mt=Et;var Ct=Object.defineProperty,wt=Object.prototype.hasOwnProperty,Dt=Object.getOwnPropertySymbols,Tt=Object.prototype.propertyIsEnumerable,Ot=(e,t,n)=>t in e?Ct(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const xt=(0,o.P1)(gt.Z,function(e){if(mt.homeUsers)return mt.homeUsers;const t=(0,o.P1)(pt.Z,(e=>e.homeUsers));return mt.homeUsers=t,t}(),((e,t)=>t.map((t=>e[t].title)))),At={dispatchFetchAllFriends:vt.Tp,onValidateUsername:d.rV,onSetUsername:d.b6,onSetUser:d.av},Nt=(0,a.$j)((function(){return(0,o.P1)((e=>e.ui.shareModal),yt.Z,ht.Z,xt,(0,Se.Z)("hasPlexPass"),((e,t,n,r,i)=>{const{steps:s,username:a,restrictionProfileIdentifier:o,isNewFriend:l,isUsernameValidating:u,isUsernameValidated:p,isSharingPending:m,sharingError:h}=e;return{username:a,restrictionProfileIdentifier:o,users:t.map((e=>n[e])),existingHomeUsernames:r,hasNextStep:(0,d.$i)(s,c.p.USER),hasPlexPass:i,isNewFriend:l,isUsernameValidating:u,isUsernameValidated:p,isSharingPending:m&&!h,sharingError:h}}))}),At)((function(e){const t=e,{dispatchFetchAllFriends:n}=t,i=((e,t)=>{var n={};for(var r in e)wt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Dt)for(var r of Dt(e))t.indexOf(r)<0&&Tt.call(e,r)&&(n[r]=e[r]);return n})(t,["dispatchFetchAllFriends"]);return(0,r.useEffect)((()=>{n()}),[n]),r.createElement(Mt,((e,t)=>{for(var n in t||(t={}))wt.call(t,n)&&Ot(e,n,t[n]);if(Dt)for(var n of Dt(t))Tt.call(t,n)&&Ot(e,n,t[n]);return e})({},i))}));var kt=Object.defineProperty,Lt=Object.prototype.hasOwnProperty,jt=Object.getOwnPropertySymbols,Rt=Object.prototype.propertyIsEnumerable,Vt=(e,t,n)=>t in e?kt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ut=(e,t)=>{for(var n in t||(t={}))Lt.call(t,n)&&Vt(e,n,t[n]);if(jt)for(var n of jt(t))Rt.call(t,n)&&Vt(e,n,t[n]);return e};const zt={dispatchInitShareModal:d.Ag,dispatchResetShareModal:d.K3};class Bt extends r.Component{componentDidMount(){const{metadataItemEntityID:e,isAddingHomeUser:t,isCreatingManagedUser:n,dispatchInitShareModal:r}=this.props;r({metadataItemEntityID:e,isAddingHomeUser:t,isCreatingManagedUser:n})}componentDidUpdate(e,t){const{steps:n,step:r,isSharingCompleted:i,onModalClose:s}=this.props,a=!e.isSharingCompleted&&i,o=(0,d.TR)(n,r);a&&r!==c.p.SUMMARY&&!o&&s()}componentWillUnmount(){this.props.dispatchResetShareModal()}render(){const e=this.props,{step:t,dispatchResetShareModal:n}=e,i=((e,t)=>{var n={};for(var r in e)Lt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&jt)for(var r of jt(e))t.indexOf(r)<0&&Rt.call(e,r)&&(n[r]=e[r]);return n})(e,["step","dispatchResetShareModal"]);switch(t){case c.p.WARNING:return r.createElement(N,Ut({},i));case c.p.USER:return r.createElement(Nt,Ut({},i));case c.p.LIBRARIES:return r.createElement(fe,Ut({},i));case c.p.RESTRICTIONS:return r.createElement(st,Ut({},i));case c.p.SUMMARY:return r.createElement(ut,Ut({},i));default:return null}}}const _t=(0,a.$j)((function(){return(0,o.P1)((e=>e.ui.shareModal),(0,l.Z)(),((e,t)=>({steps:e.steps,step:e.step,friendEntityID:e.friendEntityID,isSharingCompleted:e.isSharingCompleted,metadataItem:t})))}),zt)(Bt),Ft=function(e){const{serverEntityID:t,metadataItemEntityID:n,sourceDirectory:a,metricsProperties:o,isAddingHomeUser:l,isCreatingManagedUser:c,isOpen:d,onModalClose:u}=e;return r.createElement(s.Z,{metricsPage:i.Eu,metricsProperties:o,isOpen:d,onModalClose:u},r.createElement(_t,{serverEntityID:t,metadataItemEntityID:n,sourceDirectory:a,isAddingHomeUser:l,isCreatingManagedUser:c,onModalClose:u}))}},79872:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ve});var r=n(67294),i=n(40498),s=n(5562),a=n(9966),o=n(72566),l=n(53851),c=n(58808),d=n.n(c);const u={container:"AutosuggestInput-container-2Rg2e1",input:"AutosuggestInput-input-2yJflx",suggestionsContainer:"AutosuggestInput-suggestionsContainer-2HoMes Scroller-scroller-2Rw5pG Scroller-vertical-3IY07c Menu-menu-1qURRT",suggestionsContainerOpen:"AutosuggestInput-suggestionsContainerOpen-1hmmIV",suggestionsList:"AutosuggestInput-suggestionsList-16NkZR",suggestion:"AutosuggestInput-suggestion-aGerhj MenuItem-menuItem-1P5bZr",suggestionHighlighted:"AutosuggestInput-suggestionHighlighted-3_p8lr"};var p=Object.defineProperty,m=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))m.call(t,n)&&y(e,n,t[n]);if(h)for(var n of h(t))g.call(t,n)&&y(e,n,t[n]);return e};function f(e){const t=e,{inputComponent:n,suggestionsComponent:i,theme:s}=t,a=((e,t)=>{var n={};for(var r in e)m.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&h)for(var r of h(e))t.indexOf(r)<0&&g.call(e,r)&&(n[r]=e[r]);return n})(t,["inputComponent","suggestionsComponent","theme"]);return r.createElement(d(),v(v({},a),{renderInputComponent:n,renderSuggestionsContainer:i,theme:v(v({},u),s)}))}f.defaultProps={inputComponent:function(e){return r.createElement("input",v({type:"text"},e))}};const b=f;var S=n(94184),I=n.n(S),Z=n(13469),P=n.n(Z),E=n(61006),M=n(6103);class C extends r.Component{constructor(){super(...arguments),this.onPress=()=>{const{onRemove:e,index:t}=this.props;e(t)}}render(){const{className:e,removeClassName:t,tag:n,iconComponent:i,isDisabled:s,removeLabel:a,getTagDisplayValue:o}=this.props;return r.createElement("span",{className:e},s?null:r.createElement(M.Z,{className:t,"aria-label":a,onPress:this.onPress},r.createElement(i,null)),r.createElement("span",null,o(n)))}}C.defaultProps={className:"TagLabel-tag-1JpiyO",removeClassName:"TagLabel-remove-3xmQBO"};const w=C;var D=Object.defineProperty,T=Object.prototype.hasOwnProperty,O=Object.getOwnPropertySymbols,x=Object.prototype.propertyIsEnumerable,A=(e,t,n)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N=(e,t)=>{for(var n in t||(t={}))T.call(t,n)&&A(e,n,t[n]);if(O)for(var n of O(t))x.call(t,n)&&A(e,n,t[n]);return e},k=(e,t)=>{var n={};for(var r in e)T.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&O)for(var r of O(e))t.indexOf(r)<0&&x.call(e,r)&&(n[r]=e[r]);return n};class L extends r.Component{constructor(e,t){super(e,t),this.addTag=e=>this._addTags([e]),this.setInputRef=e=>{this.inputRef=e},this.setDivRef=e=>{this.divRef=e},this.onPaste=e=>{const{addOnPaste:t,pasteSplit:n,makeTag:r}=this.props;if(!t)return;e.preventDefault();const i=n(function(e){return window.clipboardData?window.clipboardData.getData("Text"):e.clipboardData?e.clipboardData.getData("text/plain"):""}(e)).map((e=>r(e)));this._addTags(i)},this.onKeyDown=e=>{const{onKeyDown:t}=this.props.inputProps;if(t&&t(e),e.defaultPrevented)return;const{value:n,removeKeys:r,addKeys:i,inputValue:s}=this.props,a=""===s,o=e.keyCode,l=-1!==i.indexOf(o),c=-1!==r.indexOf(o);l&&(this._accept()||o===E.K5)&&e.preventDefault(),c&&n.length>0&&a&&(e.preventDefault(),this._removeTag(n.length-1))},this.onClick=e=>{e.target===this.divRef&&(this.inputRef&&"function"==typeof this.inputRef.focus&&this.inputRef.focus(),this.onFocus())},this.onChange=e=>{const{onInputChange:t}=this.props,{onChange:n}=this.props.inputProps,r=e.target.value;n&&n(e),t(r)},this.onFocus=e=>{const{onFocus:t}=this.props.inputProps;t&&t(e),this.setState({isFocused:!0})},this.onBlur=e=>{const{onBlur:t}=this.props.inputProps;if(this.setState({isFocused:!1}),null!=e&&(t&&t(e),this.props.addOnBlur)){const t=this.props.makeTag(e.target.value);this._addTags([t])}},this.onRemove=e=>{this._removeTag(e)},this.state={isFocused:!1}}componentDidUpdate(e){const{value:t,excludedTags:n}=this.props;n!==e.excludedTags&&n.forEach((e=>{const n=t.findIndex((t=>t===e));this._removeTag(n)}))}_removeTag(e){if(e>-1&&e<this.props.value.length){const t=this.props.value.slice(0),n=t.splice(e,1);this.props.onChange(t,n,[e])}}_clearInput(){this.props.onInputChange("")}_addTags(e){const{validationRegex:t,onlyUnique:n,maxTags:r,value:i,getTagValue:s,onChange:a,onValidationReject:o}=this.props;let l;if(n&&(e=P().uniq(e,(e=>s(e)))),t&&(l=e.filter((e=>!t.test(s(e)))),e=e.filter((e=>t.test(s(e))))),e=e.filter((e=>{const t=s(e);return t?t.trim().length>0:t})),r>=0){const t=Math.max(r-i.length,0);e=e.slice(0,t)}if(o&&l&&l.length>0&&o(l),e.length>0){let t=i.concat(e);const r=[];for(let t=0;t<e.length;t++)r.push(i.length+t);n&&(t=P().uniq(t,(e=>s(e))));const o=t.length!==i.length;return o&&a(t,e,r),this._clearInput(),o}return this._clearInput(),!1}_accept(){let e=this.props.inputValue;return""!==e&&(e=this.props.makeTag(e),this._addTags([e]))}inputProps(){const{value:e,inputProps:t}=this.props,n=t,{placeholder:r,onChange:i,onFocus:s,onBlur:a}=n,o=k(n,["placeholder","onChange","onFocus","onBlur"]),l=N({className:"TagsInput-input-3r732K",placeholder:e.length?"":r},o);return this.props.isDisabled&&(l.isDisabled=!0),l}render(){const{id:e,className:t,errorClassName:n,focusedClassName:i,hasError:s,value:a,inputValue:o,getTagValue:l,getTagDisplayValue:c,tagProps:d,tagComponent:u,inputComponent:p,isDisabled:m}=this.props,{isFocused:h}=this.state;return r.createElement("div",{id:e,className:I()(t,h&&i,s&&n),ref:this.setDivRef,onClick:this.onClick},a.map(((e,t)=>r.createElement(u,N({key:`${l(e)}-${t}`,index:t,tagCount:a.length,tag:e,isDisabled:m,getTagDisplayValue:c,onRemove:this.onRemove},d)))),r.createElement(p,N(N({key:"input",inputRef:this.setInputRef,value:o},this.inputProps()),{addTag:this.addTag,onPaste:this.onPaste,onKeyDown:this.onKeyDown,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur})))}}L.defaultProps={className:"TagsInput-tagsInput-1FUjn7",errorClassName:"TagsInput-hasError-3NSoXh input-hasError-2b8Ur9",addKeys:[E.Mf,E.K5],addOnBlur:!1,addOnPaste:!1,inputProps:{},removeKeys:[E.ZH],inputComponent:function(e){const t=e,{inputRef:n,addTag:i}=t,s=k(t,["inputRef","addTag"]);return r.createElement("input",N({type:"text",ref:n},s))},tagComponent:w,pasteSplit:function(e){return e.split(" ").map((e=>e.trim()))},tagProps:{},onlyUnique:!0,maxTags:-1,excludedTags:[],validationRegex:null,isDisabled:!1,getTagDisplayValue:e=>e,getTagValue:e=>e,makeTag:e=>e};const j=L;var R=Object.defineProperty,V=Object.prototype.hasOwnProperty,U=Object.getOwnPropertySymbols,z=Object.prototype.propertyIsEnumerable,B=(e,t,n)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_=(e,t)=>{for(var n in t||(t={}))V.call(t,n)&&B(e,n,t[n]);if(U)for(var n of U(t))z.call(t,n)&&B(e,n,t[n]);return e},F=(e,t)=>{var n={};for(var r in e)V.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&U)for(var r of U(e))t.indexOf(r)<0&&z.call(e,r)&&(n[r]=e[r]);return n};const H={placement:"bottom-start",modifiers:[{name:"preventOverflow",enabled:!1},{name:"flip",enabled:!1},{name:"maxSize",enabled:!0,phase:"beforeWrite",requiresIfExists:["offset","preventOverflow","flip"],fn({state:e,name:t,options:n}){const r=(0,a.Z)(e,n),{y:i}=e.modifiersData.preventOverflow||{x:0,y:0},{height:s}=e.rects.popper,[o]=e.placement.split("-"),l="top"===o?"top":"bottom";e.styles.popper.maxHeight=s-r[l]-i-14+"px",e.styles.popper.width=`${e.rects.reference.width}px`}}]};class W extends r.Component{constructor(e,t){super(e,t),this.setTagsInputRef=e=>{this.tagsInputRef=e},this.onInputChange=e=>{this.setState({inputValue:e})},this.onSuggestionSelected=(e,{suggestion:t})=>{this.tagsInputRef.addTag(this.props.makeTagFromSuggestion(t))},this.onInputFocus=(e,t)=>{this.setState({isMenuOpen:!0},(()=>t(e)))},this.onWindowPress=e=>{const t=this.suggestRef.current,n=t&&t.contains(e.target),r=!n&&document.getElementById(this.inputID),i=r&&r.contains(e.target);n||i||this.setState({isMenuOpen:!1})},this.renderInputComponent=e=>{var t=e,{ref:n}=t,i=F(t,["ref"]);const{className:s,shouldRenderSuggestions:a,tagComponent:o,validationRegex:l,value:c,makeTag:d,getTagDisplayValue:u,getTagValue:p,tagProps:m,excludedTags:h,onChange:g}=this.props,{inputValue:y}=this.state;return r.createElement(j,{id:this.inputID,className:s,inputValue:y,inputProps:_(_({},i),{inputRef:n,onFocus:e=>{this.onInputFocus(e,i.onFocus)}}),tagProps:m,value:c,validationRegex:l,tagComponent:o,addOnBlur:!a(y),getTagValue:p,getTagDisplayValue:u,makeTag:d,excludedTags:h,ref:this.setTagsInputRef,onInputChange:this.onInputChange,onChange:g})},this.renderSuggestionsComponent=e=>{const t=e,{containerProps:n}=t,i=n,{ref:s}=i,a=F(i,["ref"]),{children:l}=t;return s(this.suggestRef.current),r.createElement(o.Z,_({target:this.inputID,isOpen:this.state.isMenuOpen,options:H,ref:this.suggestRef},a),l)},this.state={inputValue:"",isMenuOpen:!1},this.suggestRef=r.createRef(),this.inputID=(0,l.Z)()}componentDidUpdate(e,t){!t.isMenuOpen&&this.state.isMenuOpen?this._enable():t.isMenuOpen&&!this.state.isMenuOpen&&this._disable()}_enable(){document.addEventListener("mouseup",this.onWindowPress),document.addEventListener("touchend",this.onWindowPress)}_disable(){document.removeEventListener("mouseup",this.onWindowPress),document.removeEventListener("touchend",this.onWindowPress)}render(){const{placeholder:e,suggestions:t,getAddSuggestionTag:n,getSuggestionValue:i,renderSuggestion:s,suggestionsFilter:a,shouldRenderSuggestions:o,theme:l,onSuggestionsClearRequested:c,onSuggestionsFetchRequested:d}=this.props,{inputValue:u}=this.state,p=n&&u.length>0?[n(u)]:[],m=t.reduce(((e,t)=>(a(t,u)&&e.push(t),e)),p);return r.createElement(b,{suggestions:m,shouldRenderSuggestions:o,getSuggestionValue:i,renderSuggestion:s,focusInputOnSuggestionClick:!1,highlightFirstSuggestion:!0,inputProps:{value:u,placeholder:e,onChange:(e,{newValue:t,method:n})=>{"enter"===n&&e.preventDefault(),"enter"===n||"click"===n?this.setState({isMenuOpen:!1}):"type"===n&&this.setState({isMenuOpen:!0})}},theme:_({input:"AutosuggestTagsInput-input-r14wKU TagsInput-input-3r732K"},l),inputComponent:this.renderInputComponent,suggestionsComponent:this.renderSuggestionsComponent,onSuggestionSelected:this.onSuggestionSelected,onSuggestionsClearRequested:c,onSuggestionsFetchRequested:d})}}W.defaultProps={className:"AutosuggestTagsInput-tagsInput-1DWK8B TagsInput-tagsInput-1FUjn7",suggestions:[],value:[],shouldRenderSuggestions:()=>!1};const Q=W;var G=n(48663),Y=n(72761),q=n(45558),K=n(51221),$=Object.defineProperty,X=Object.prototype.hasOwnProperty,J=Object.getOwnPropertySymbols,ee=Object.prototype.propertyIsEnumerable,te=(e,t,n)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ne=(0,K.Z)((function(e){const t=e,{formGroupClassName:n,formLabelClassName:i,name:s,labelText:a,helpText:o,showErrors:l,errors:c,children:d}=t,u=((e,t)=>{var n={};for(var r in e)X.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&J)for(var r of J(e))t.indexOf(r)<0&&ee.call(e,r)&&(n[r]=e[r]);return n})(t,["formGroupClassName","formLabelClassName","name","labelText","helpText","showErrors","errors","children"]);return r.createElement(G.Z,{className:n},d,r.createElement(q.Z,{className:i,showErrors:l,errors:c,name:s,labelText:a}),r.createElement(Q,((e,t)=>{for(var n in t||(t={}))X.call(t,n)&&te(e,n,t[n]);if(J)for(var n of J(t))ee.call(t,n)&&te(e,n,t[n]);return e})({name:s,hasError:l},u)),o?r.createElement(Y.Z,null,o):null)}));var re=n(53863);class ie extends r.Component{constructor(){super(...arguments),this.onRemovePress=()=>{this.props.onRemove(this.props.index)}}render(){const{tag:e,getTagDisplayValue:t}=this.props;return r.createElement("span",{className:"ShareRestrictionsTag-container-aWXIzu"},r.createElement("span",{className:"ShareRestrictionsTag-tag-1B0PIX"},r.createElement(M.Z,{className:"ShareRestrictionsTag-remove-uC41Gg TagLabel-remove-3xmQBO","aria-label":(0,s.Z)("Remove Tag"),onPress:this.onRemovePress},r.createElement(re.Z,null)),r.createElement("span",null,t(e))))}}const se=ie,ae={[i.ZO]:{labelText:()=>(0,s.Z)("Allow Only Ratings"),placeholder:()=>(0,s.Z)("Allow all ratings")},[i.Jm]:{labelText:()=>(0,s.Z)("Exclude Ratings"),placeholder:()=>(0,s.Z)("Don't exclude any ratings")},[i.GP]:{labelText:()=>(0,s.Z)("Allow Only Labels"),placeholder:()=>(0,s.Z)("Allow all labels")},[i.Bi]:{labelText:()=>(0,s.Z)("Exclude Labels"),placeholder:()=>(0,s.Z)("Don't exclude any labels")}};function oe(e){const{metadataType:t,tagType:n,filterOptionsTags:r}=e,s=n===i.ZO||n===i.Jm?i.ZO:i.GP;return r[t][s]}const le=e=>e.value,ce=e=>""===e.key?e.value:e.title,de=(e,t)=>e.title.toUpperCase().includes(t.toUpperCase()),ue=e=>({key:"",title:(0,s.Z)("Add {inputValue}…",{inputValue:e}),value:e}),pe=e=>e.title,me=()=>!0,he=()=>{},ge=()=>{};class ye extends r.Component{static getDerivedStateFromProps(e,t){return!t.isFilterOptionsTagsPopulated&&e.isFilterOptionsTagsPopulated?{suggestions:oe(e),isFilterOptionsTagsPopulated:!0}:null}constructor(e,t){super(e,t);const{isFilterOptionsTagsPopulated:n}=e;this.state={suggestions:n?oe(e):[],isFilterOptionsTagsPopulated:n}}render(){const{name:e,tagType:t,initialValue:n,excludedTags:i,onChange:s}=this.props,{labelText:a,placeholder:o}=ae[t];return r.createElement(ne,{getSuggestionValue:le,initialValue:n,labelText:a(),placeholder:o(),makeTagFromSuggestion:ce,tagComponent:se,name:e,renderSuggestion:pe,shouldRenderSuggestions:me,getAddSuggestionTag:ue,suggestions:this.state.suggestions,suggestionsFilter:de,excludedTags:i,onSuggestionsClearRequested:he,onSuggestionsFetchRequested:ge,onChange:s})}}const ve=ye},86970:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),i=n(68187),s=n(5562),a=n(26955),o=n(18246),l=n(51221),c=n(82378);function d(){return i.ZH().map((e=>({[e.identifier]:e.title})))}function u(e){const{className:t,name:n,value:i,hasPlexPass:l,onChange:u}=e,p=(0,r.useMemo)(d,[]);return r.createElement("div",null,r.createElement(a.Z,null,(0,s.Z)("Restriction Profile")),r.createElement(o.Z,{className:t,name:n,value:i,values:p,size:c.HC,onChange:u}),r.createElement("div",{className:"RestrictionProfilesInput-subtitle-1MxEFT"},l?(0,s.Z)("Younger Kid allows TV-Y, G, TV-G and equivalent; Older Kid allows TV-PG, PG and equivalent; Teen allows TV-13, PG-13 and equivalent. Pick None to choose your own ratings and manage other Media Server permissions."):(0,s.Z)("Younger Kid allows TV-Y, G, TV-G and equivalent; Older Kid allows TV-PG, PG and equivalent; Teen allows TV-13, PG-13 and equivalent. With a Plex Pass, you can choose your own ratings and manage other Media Server permissions.")))}u.defaultProps={className:"RestrictionProfilesInput-input-3zuRzj SelectInput-input-_K0kCK input-input-3msd1_"};const p=(0,l.Z)(u)},52114:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(67294),i=n(45428),s=n(32448),a=n(84807),o=n(22745),l=n(18376),c=n(45697),d=n.n(c),u=n(17845);function p(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-user-home-560"};s["aria-hidden"]=!t,s.style=i,s.className=u.Z.plexIcon+(n?" "+n:"");var a=[r.createElement.apply(r,["path",{d:"M532 504H319.2V352.8h-78.4V504H28V280L280 28l252 252v224zm-168-44.8h123.2V298.557L280 91.357l-207.2 207.2V459.2H196V308h168v151.2z"}].concat([]))];return t&&a.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(a))}p.propTypes={"aria-label":d().string,className:d().string,style:d().object};const m=p;class h extends r.Component{constructor(){super(...arguments),this.onPress=()=>{this.props.onSelect(this.props.user.id)}}render(){const{serverEntityID:e,user:t,isSelected:n}=this.props,{title:i,email:c,thumb:d,home:u}=t,p=c&&c!==i;return r.createElement(o.Z,{className:n?"UserListItem-selectedButton-2RoiuB UserListItem-button-1bH2-k Button-button-38SEbM Link-link-CM9nxg":"UserListItem-button-1bH2-k Button-button-38SEbM Link-link-CM9nxg",onPress:this.onPress},r.createElement(l.Z,{className:"UserListItem-avatar-7__05v AvatarImg-avatar-3gp48Z",serverEntityID:e,url:d,width:30,height:30}),r.createElement("div",{className:"UserListItem-titleContainer-e__x-P"},r.createElement("span",{className:"UserListItem-title-dZyVnY"},i),p?r.createElement("span",{className:"UserListItem-email-2x3mBa"},r.createElement(a.Z,null),c):null),n?r.createElement(s.Z,{className:"UserListItem-selectedIcon-2eZszc UserListItem-icon-28-L2o"}):null,r.createElement(m,{className:u?"UserListItem-visibleHomeIcon-2HP1-F":"UserListItem-homeIcon-3l_RUN UserListItem-icon-28-L2o"}))}}const g=h;function y(e){const{className:t,serverEntityID:n,users:s,isUserSelected:a,onUserSelect:o}=e;return r.createElement(i.Z,{className:t,autoScroll:!0},s.map((e=>r.createElement(g,{key:e.id,serverEntityID:n,user:e,isSelected:a(e),onSelect:o}))))}y.defaultProps={className:"UserList-list-3MJnr9 Scroller-vertical-3IY07c"};const v=y},5862:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(94184),i=n.n(r),s=n(67294);var a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function u(e){var t=e,{className:n,name:r,width:a,height:u}=t,p=((e,t)=>{var n={};for(var r in e)o.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&l)for(var r of l(e))t.indexOf(r)<0&&c.call(e,r)&&(n[r]=e[r]);return n})(t,["className","name","width","height"]);const m=r.toUpperCase().split(" "),h=m[0].charAt(0),g=m[m.length-1].charAt(0),y=m.length>1?`${h}${g}`:r.charAt(0),v={fontSize:Math.max(14,Math.min(Math.round(a/4),42)),lineHeight:`${u}px`};return s.createElement("div",((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({style:v,className:i()(n,"Anagram-anagram-3ZXck1")},p),y)}u.defaultProps={width:13,height:13};const p=u},78434:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),i=n(97486),s=n(90701);var a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};function p(e){return r.createElement(i.Z,u(u({},e),{textClassName:"CircularProgressBar-circularProgressBarText-1prNYQ CircularProgressBar-circularProgressBarText-2Pos90"}))}p.defaultProps=u(u({},i.Z.defaultProps),{backgroundClassName:"CircularProgressBar-circularProgressBarBackground-18BaI- CircularProgressBar-circularProgressBarBackground-1LlpZu",strokeColor:s.Z.primaryColor});const m=p},71023:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(67294),i=n(5562),s=n(80967),a=n(59145),o=n(21914),l=n(47636);class c extends r.Component{constructor(e,t){super(e,t),this.onLineHeightRef=e=>{e&&this.setState({lineHeight:e.clientHeight})},this.onMeasure=({height:e})=>{this.setState({expandedHeight:e})},this.onTogglePress=()=>{this.setState({isCollapsed:!this.state.isCollapsed,allowTransition:!0})},this.state={isCollapsed:!0,allowTransition:!1,lineHeight:0,expandedHeight:0}}shouldComponentUpdate(e,t){return(0,l.Z)(this,e,t)}render(){const{className:e,dangerouslySetInnerHTML:t,children:n,labelLess:i,labelMore:l,maxLines:c}=this.props,{isCollapsed:d,allowTransition:u,expandedHeight:p,lineHeight:m}=this.state,h=m*c,g=p>h,y={overflow:"hidden",maxHeight:d?h:p};return r.createElement("div",{className:e},m?null:r.createElement("div",{className:"CollapsibleText-lineHeightMeasure-3PCFZf",ref:this.onLineHeightRef}),r.createElement("div",{className:u?"CollapsibleText-contentTransition-2PTU7G":void 0,style:y},r.createElement(s.Z,{ignoreWidth:!0,ignorePosition:!0,onMeasure:this.onMeasure},t?r.createElement("div",{dangerouslySetInnerHTML:t}):n)),g?r.createElement(a.Z,{className:"CollapsibleText-readMore-33dvMH DisclosureArrowButton-disclosureArrowButton-17hnir Link-link-CM9nxg",arrowClassName:"CollapsibleText-readMoreArrow-1XvEDC DisclosureArrowButton-disclosureArrow-1B0C1q DisclosureArrow-disclosureArrow-1jttuj",direction:d?o.WV:o.UP,isSelected:!1,onPress:this.onTogglePress},d?l:i):null)}}c.defaultProps={labelLess:"Read Less",labelMore:"Read More",maxLines:3};const d=c;var u=Object.defineProperty,p=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&g(e,n,t[n]);if(m)for(var n of m(t))h.call(t,n)&&g(e,n,t[n]);return e};function v(e){return r.createElement(d,y(y({},e),{labelLess:(0,i.Z)("Read Less"),labelMore:(0,i.Z)("Read More")}))}v.defaultProps=y({},d.defaultProps);const f=v},10079:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),i=Object.defineProperty,s=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function c(e){var t=e,{children:n}=t,i=((e,t)=>{var n={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&a)for(var r of a(e))t.indexOf(r)<0&&o.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);return r.createElement("div",((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(a)for(var n of a(t))o.call(t,n)&&l(e,n,t[n]);return e})({},i),n)}c.defaultProps={className:"DragPreviewLayer-dragLayer-39NVIF"};const d=c},6900:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294);function i(e){const{className:t,iconComponent:n,title:i,text:s}=e;return r.createElement("div",{className:t},r.createElement("div",{className:"PlexPassUpsell-iconContainer-2iPdlN"},r.createElement(n,{className:"PlexPassUpsell-icon-c1vt03"})),r.createElement("div",{className:"PlexPassUpsell-title-lX_QYk"},i),r.createElement("div",{className:"PlexPassUpsell-text-QyYlfY"},s))}i.defaultProps={className:"PlexPassUpsell-upsell-We6k8R"};const s=i},61214:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(94184),i=n.n(r),s=n(67294);function a(e,t,n){return(e-t)/(n-t)*100}n(11133);var o=n(6103),l=n(47636);const c="Slider-isDragging-20u5r4";class d extends s.Component{constructor(e,t){super(e,t),this.onMouseDown=e=>{e.preventDefault(),0===e.button&&this._startDrag(e.pageX,e.pageY,!1)},this.onMouseMove=({pageX:e,pageY:t})=>{if(this.state.isDragging)return;const n=this._getValueForPosition(e,t),r=this._trackRef.current.getBoundingClientRect(),i=this.props.isVertical?{x:r.left,y:t}:{x:e,y:r.top};this.props.onMove({position:i,positionValue:n,steppedValue:this._getSteppedValue(n)})},this.onTouchStart=e=>{e.preventDefault();const t=e.touches&&e.touches[0];t&&this._startDrag(t.pageX,t.pageY,!0)},this.onDocumentMouseMove=e=>{this._drag(e.pageX,e.pageY)},this.onDocumentTouchMove=e=>{const t=e.touches&&e.touches[0];t&&this._drag(t.pageX,e.pageY)},this.onDocumentMouseUp=e=>{this._stopDrag(e.pageX,e.pageY)},this.onDocumentTouchEnd=e=>{const t=e.changedTouches&&e.changedTouches[0];t&&this._stopDrag(t.pageX,t.pageY)},this._trackRef=s.createRef(),this.state={isDragging:!1}}shouldComponentUpdate(e,t){return(0,l.Z)(this,e,t)}componentWillUnmount(){this._stopListeningForDrag()}_listenForDrag(e){e?(document.addEventListener("touchmove",this.onDocumentTouchMove),document.addEventListener("touchcancel",this.onDocumentTouchEnd),document.addEventListener("touchend",this.onDocumentTouchEnd)):(document.addEventListener("mousemove",this.onDocumentMouseMove),document.addEventListener("mouseup",this.onDocumentMouseUp))}_stopListeningForDrag(){document.removeEventListener("mousemove",this.onDocumentMouseMove),document.removeEventListener("touchmove",this.onDocumentTouchMove),document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("touchcancel",this.onDocumentTouchEnd),document.removeEventListener("touchend",this.onDocumentTouchEnd)}_startDrag(e,t,n){this._changeValue(this._getValueForPosition(e,t)),this._listenForDrag(n),this.props.onDragStart&&this.props.onDragStart()}_drag(e,t){this.state.isDragging||(document.body.classList.add(c),this.setState({isDragging:!0})),this._changeValue(this._getValueForPosition(e,t))}_stopDrag(e,t){document.body.classList.remove(c),this._stopListeningForDrag();const n=this._getValueForPosition(e,t),r=this._getSteppedValue(n);this._changeValue(n),this.setState({isDragging:!1}),this.props.onDragComplete&&this.props.onDragComplete({positionValue:n,steppedValue:r})}_getValueForPosition(e,t){const{isVertical:n,min:r,max:i}=this.props,s=this._trackRef.current,a=s.getBoundingClientRect();let o;if(n){const e=t-document.body.scrollTop;o=(a.bottom-e)/s.offsetHeight}else o=(e-document.body.scrollLeft-a.left)/s.offsetWidth;return o=Math.min(Math.max(o,0),1),(i-r)*o+r}_getSteppedValue(e){const{min:t,max:n,stepSize:r}=this.props;if(!r)return e;const i=Math.round(e/r)*r;return Math.min(Math.max(i,t),n)}_getStickyValue(e){const{max:t,min:n,stepSize:r,stickiness:i}=this.props;if(!r||!i)return e;const s=this._getSteppedValue(e);return Math.abs(s-e)/(t-n)<i/100?s:e}_changeValue(e){const{value:t}=this.props;e!==t&&this.props.onChange({positionDelta:e-t,positionValue:e,steppedValue:this._getSteppedValue(e)})}render(){const{style:e,className:t,trackClassName:n,secondaryFillClassName:r,fillClassName:l,thumbClassName:d,thumbTrackClassName:u,label:p,tabIndex:m,value:h,min:g,max:y,secondaryMin:v,secondaryMax:f,showSecondaryFill:b,showFill:S,autoHideThumb:I,isDisabled:Z,isVertical:P,onMove:E,onMouseEnter:M,onMouseLeave:C,onWheel:w}=this.props,{isDragging:D}=this.state,T=a(this._getStickyValue(h),g,y);let O="left",x="scaleX",A="translateX";P&&(O="top",x="scaleY",A="translateY");const N=`${A}(${P?-T:T}%)`,k=v?a(this._getStickyValue(v),g,y):0,L=f?a(this._getStickyValue(f),g,y):0,j=`${x}(${Math.max((T-k)/100,0)})`,R=`${x}(${Math.max((L-k)/100,0)})`;return s.createElement("div",{style:e,className:i()(t,Z&&"Slider-isDisabled-2ylAzu",D&&c,I&&"Slider-hasAutoHideThumb-2KbSMI"),onWheel:Z?null:w,onMouseEnter:Z?null:M,onMouseLeave:Z?null:C,onMouseDown:Z?null:this.onMouseDown,onMouseMove:Z||!E?null:this.onMouseMove,onTouchStart:Z?null:this.onTouchStart},s.createElement("div",{className:n,ref:this._trackRef},b?s.createElement("div",{className:r,style:{[O]:v?k+"%":void 0,WebkitTransform:R,msTransform:R,transform:R}}):null,S?s.createElement("div",{className:l,style:{[O]:v?k+"%":void 0,WebkitTransform:j,msTransform:j,transform:j}}):null),s.createElement("div",{className:u,style:{WebkitTransform:N,msTransform:N,transform:N}},s.createElement(o.Z,{className:d,role:"slider",tabIndex:m,"aria-labelledby":p,"aria-valuemin":g,"aria-valuemax":y,"aria-valuenow":h,onMouseDown:this.onMouseDown,onMouseMove:E&&this.onMouseMove,onTouchStart:this.onTouchStart})))}}d.defaultProps={className:"Slider-slider-4zRCDI",trackClassName:"Slider-track-3iUWLY",fillClassName:"Slider-fill-35z5K8",secondaryFillClassName:"Slider-secondaryFill-30ToAR Slider-fill-35z5K8",thumbClassName:"Slider-thumb-1ZGojQ Link-link-CM9nxg",thumbTrackClassName:"Slider-thumbTrack-3yG9Xm",min:0,max:100,stepSize:0,stickiness:10,showFill:!1,showSecondaryFill:!1,autoHideThumb:!1,isDisabled:!1,isDragging:!1,isVertical:!1};const u=d},45100:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(89969),i=n(22222),s=n(81017),a=n(50316),o=n(34891),l=n(82261);var c=n(67294),d=n(14651),u=n(18376),p=n(7796);const m=parseInt(p.Z.playlistBadgeSize,10);function h(e){const{className:t,textClassName:n,serverEntityID:r,attribution:i,avatar:s,name:a,hasOwner:o}=e;return i?c.createElement("div",{className:t},c.createElement(d.Z,{className:"SourceBadge-attribution-3Iaaa0",attribution:i})):o?c.createElement("div",{className:t},c.createElement("span",{className:n},a),c.createElement(u.Z,{className:"SourceBadge-avatar-2DPvSx AvatarImg-avatar-3gp48Z",serverEntityID:r,url:s,width:m,height:m})):null}h.defaultProps={className:"SourceBadge-container-2qG-GJ"};const g=h,y=(0,r.$j)((function(){return(0,i.P1)((0,s.Z)(),(0,i.P1)(l.Z,o.Z,(0,i.P1)((0,s.Z)(),a.Z,((e={},t)=>e.source?t.ownerId:null)),((e,t,n)=>{const r=e.find((e=>{const r=t[e];return r&&r.id===n}));return r&&t[r]})),((e={},t)=>({attribution:e.attribution,hasOwner:!!t,avatar:t&&t.thumb,name:t&&t.title})))}))(g)},58801:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),i=n(5562),s=n(53757),a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};function p(e){return r.createElement(s.Z,u(u({},e),{loadingLabel:(0,i.Z)("Loading")}))}p.propTypes=s.Z.propTypes,p.defaultProps=s.Z.defaultProps;const m=p},11412:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L});var r=n(94184),i=n.n(r),s=n(67294),a=n(13469),o=n.n(a),l=n(45697),c=n.n(l),d=n(17845);function u(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-star-dot-560"};i["aria-hidden"]=!t,i.style=r,i.className=d.Z.plexIcon+(n?" "+n:"");var a=[s.createElement.apply(s,["circle",{cx:"280",cy:"280",r:"40"}].concat([]))];return t&&a.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(a))}u.propTypes={"aria-label":c().string,className:c().string,style:c().object};const p=u;function m(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-star-empty-560"};i["aria-hidden"]=!t,i.style=r,i.className=d.Z.plexIcon+(n?" "+n:"");var a=[s.createElement.apply(s,["path",{d:"m342.864 199.975l203.432 0-164.58 119.575 62.864 193.475-164.58-119.575-164.58 119.575 62.864-193.475-164.58-119.575 203.432 0 62.864-193.475c20.955 64.492 41.909 128.983 62.864 193.475m-96.666 40l-109.387 0 88.496 64.296-33.802 104.032 88.495-64.296 88.495 64.296-33.802-104.032 88.496-64.296-109.387 0-33.802-104.033c-11.267 34.678-22.535 69.355-33.802 104.033"}].concat([]))];return t&&a.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(a))}m.propTypes={"aria-label":c().string,className:c().string,style:c().object};const h=m;var g=n(92521),y=n(5562),v=n(19210),f=n(47636),b=n(61214),S=n(89267);const I="StarRating-stars-Q1R3FC";var Z=Object.defineProperty,P=Object.prototype.hasOwnProperty,E=Object.getOwnPropertySymbols,M=Object.prototype.propertyIsEnumerable,C=(e,t,n)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w=(e,t)=>{for(var n in t||(t={}))P.call(t,n)&&C(e,n,t[n]);if(E)for(var n of E(t))M.call(t,n)&&C(e,n,t[n]);return e};const D=(0,v.Z)(S.Z.starPulseSpeed);function T(e,t){return e>0?Math.min(Math.floor(e)+1,t):0}function O({className:e,iconComponent:t,isVisible:n,isPulsing:r}){const a=i()(e,!n&&"StarRating-hidden-n37vSQ",r&&"StarRating-pulsing-3P59bP");return s.createElement(t,{className:a})}function x(e){return s.createElement(O,w({iconComponent:h,className:"StarRating-emptyStar-1W689I StarRating-star-zcRqTF"},e))}function A(e){return s.createElement(O,w({iconComponent:g.Z,className:"StarRating-fullStar-3Gjwx4 StarRating-star-zcRqTF"},e))}function N(){return s.createElement(p,{className:"StarRating-dot-2JMccJ"})}class k extends s.Component{constructor(e,t){super(e,t),this.onSliderChange=({positionValue:e})=>{const{starCount:t}=this.props,n=T(e,t);this.setState({currentValue:n})},this.onSliderMove=({positionValue:e})=>{const{starCount:t}=this.props,n=T(e,t);0!==n&&this.setState({currentValue:n})},this.onSlideComplete=({positionValue:e})=>{const{starCount:t}=this.props,n=T(e,t);this.state.currentRating!==n&&(this._setRating(n),this.props.onRatingChange(n))},this.onMouseLeave=({pageX:e})=>{this.setState({currentValue:this.state.currentRating})},this.state={currentValue:e.value,currentRating:e.value,isPulsing:!1}}UNSAFE_componentWillReceiveProps({value:e}){e=Math.max(0,Math.min(e,this.props.starCount)),this.state.currentRating!==e&&this._setRating(e)}shouldComponentUpdate(e,t){return(0,f.Z)(this,e,t)}componentDidUpdate(e,t){this.state.currentRating!==t.currentRating&&(window.clearTimeout(this._pulseTimeoutID),this._pulseTimeoutID=window.setTimeout((()=>{this.setState({isPulsing:!1})}),D))}componentWillUnmount(){window.clearTimeout(this._pulseTimeoutID)}_setRating(e){this.setState({currentValue:e,currentRating:e,isPulsing:!0})}render(){const{starCount:e,className:t}=this.props,{currentValue:n,currentRating:r,isPulsing:a}=this.state,l=!this.state.currentValue,c=!this.props.onRatingChange,d=o().range(e);return s.createElement("div",{className:i()(t,"StarRating-starRating-2PpV4V",c&&"StarRating-isReadOnly-1wEUo5",l&&"StarRating-isUnrated-19UmPc"),onMouseLeave:this.onMouseLeave},s.createElement("div",null,d.map((e=>s.createElement(N,{key:e})))),s.createElement("div",{className:I},d.map((e=>{const t=e>n-1;return s.createElement(x,{key:e,isVisible:t})}))),s.createElement("div",{className:I},d.map((e=>{const t=e<=n-1;return s.createElement(A,{key:e,isVisible:t,isPulsing:a&&r>e})}))),c?null:s.createElement(b.Z,{className:"StarRating-slider-3FRfUY",trackClassName:"StarRating-track-3eD106",label:(0,y.Z)("User Rating"),tabIndex:"-1",value:this.state.currentValue,min:0,max:e,stepSize:1,autoHideThumb:!0,onChange:this.onSliderChange,onMove:this.onSliderMove,onDragComplete:this.onSlideComplete}))}}k.defaultProps={starCount:5,value:0};const L=k},90980:(e,t,n)=>{"use strict";n.d(t,{R3:()=>w,ZP:()=>O,Gb:()=>D});var r=n(67294),i=n(89969),s=n(22222),a=n(81017),o=n(74253),l=n(55885),c=n(45399),d=n(72759),u=n(5562),p=n(61478),m=n(45206);var h=n(60316),g=n(51021),y=n(45992),v=n(34504),f=n(28889),b=n(73588),S=Object.defineProperty,I=Object.prototype.hasOwnProperty,Z=Object.getOwnPropertySymbols,P=Object.prototype.propertyIsEnumerable,E=(e,t,n)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M=(e,t)=>{for(var n in t||(t={}))I.call(t,n)&&E(e,n,t[n]);if(Z)for(var n of Z(t))P.call(t,n)&&E(e,n,t[n]);return e};const C=null,w={SUBSCRIBE:"subscribe",CANCEL:"cancel",REMOVE:"remove",UPSELL:"upsell"};function D(e){const{onCancelDownloadActivity:t,onCreateDownloadSubscription:n,onDeleteDownloadSubscription:i}=e,[s,a]=(0,r.useState)({isOpen:!1,state:C}),o=(0,r.useCallback)((e=>{const t=e===w.SUBSCRIBE,r=e!==C&&!t,i=t?C:e;t&&n(),a({isOpen:r,state:i})}),[n]),l=(0,r.useCallback)((()=>a({isOpen:!1,state:C})),[]),c=(0,r.useCallback)((()=>{s.state===w.CANCEL?t():s.state===w.REMOVE&&i(),l()}),[s.state,t,l,i]);return M(M({},s),{onPress:o,onClose:l,onConfirm:c})}const T=(0,s.P1)((0,l.Z)(c.iU),(0,l.Z)(c.Ed),o.Z,((e,t,n)=>{var r;const i=t&&(null==(r=n.ownerFeatures)?void 0:r.includes(c.Ed));return!e&&!i})),O=(0,i.$j)((function(){return(0,s.P1)(((e,{isDisabled:t})=>t),(0,a.Z)(),(0,s.P1)((e=>e.downloads.states),(0,m.Z)(),(0,s.P1)((0,a.Z)(),(e=>e.ratingKey)),((e,t,n)=>e.find((e=>e.ratingKey===n&&e.sourceAttr===t)))),(e=d.sC,(0,s.P1)((0,a.Z)(),(0,m.Z)(),(0,g.Z)(e),((e,t,n)=>{const r=(0,h.Z)(t);return n.find((({Context:t})=>{let n=!1;if(t.itemKey===e.key){const e=(0,h.Z)(t.source);n=r.serverIdentifier===e.serverIdentifier&&r.providerIdentifier===e.providerIdentifier}return n}))}))),T,y.Z,((e,t,n,r,i,s)=>{const a=!!n,o=(0,f.Z)(t),l=(0,b.Z)(t),c=!l;return{canCancel:!!r&&r.cancellable,canRemove:l,canShowUpsell:!l&&i&&t.subtype!==p.PODCAST,canSubscribe:c,hasDownloadState:a,hasOfflineFile:o,hasOwnSubscription:l,isDisabled:e||!s,progress:r&&r.progress}}));var e}),(function(e,t){return{}}))((function(e){const t=e,{component:n,canCancel:i,canRemove:s,canShowUpsell:a,canSubscribe:o,metadataItemEntityID:l,metricsPage:c,providerEntityID:d,serverEntityID:p,onCancelDownloadActivity:m,onCreateDownloadSubscription:h,onDeleteDownloadSubscription:g,onPress:y}=t,f=((e,t)=>{var n={};for(var r in e)I.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Z)for(var r of Z(e))t.indexOf(r)<0&&P.call(e,r)&&(n[r]=e[r]);return n})(t,["component","canCancel","canRemove","canShowUpsell","canSubscribe","metadataItemEntityID","metricsPage","providerEntityID","serverEntityID","onCancelDownloadActivity","onCreateDownloadSubscription","onDeleteDownloadSubscription","onPress"]),b=(0,r.useCallback)((()=>{let e=C;i?e=w.CANCEL:s?e=w.REMOVE:a?e=w.UPSELL:o&&(e=w.SUBSCRIBE),y&&y(e)}),[i,s,a,o,y]);let S;return S=i?(0,u.Z)("Cancel Download"):s?(0,u.Z)("Delete Download"):(0,u.Z)("Download"),r.createElement(r.Fragment,null,r.createElement(n,M(M({},f),{label:S,onPress:b})),r.createElement(v.Z,{metadataItemEntityID:l,providerEntityID:d}))}))},52097:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),i=n(5562),s=n(6103),a=n(80913);var o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function p(e){const t=e,{className:n,circleClassName:o,title:p}=t,m=((e,t)=>{var n={};for(var r in e)l.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&c)for(var r of c(e))t.indexOf(r)<0&&d.call(e,r)&&(n[r]=e[r]);return n})(t,["className","circleClassName","title"]);return r.createElement(s.Z,((e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e})({className:n,"aria-label":(0,i.Z)("Play {title}",{title:p})},m),r.createElement(a.Z,{className:o}))}p.defaultProps={className:"PlayButton-playButton-2dFmuo",circleClassName:"PlayButton-playCircle-2DYa77"};const m=p},53804:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),i=n(5562),s=n(22745),a=n(60528),o=n(82378),l=n(83787);class c extends r.Component{constructor(e,t){super(e,t),this.onPlexPassPress=()=>{this.setState({isPlexPassModalOpen:!0})},this.onPlexPassModalClose=()=>{this.setState({isPlexPassModalOpen:!1})},this.state={isPlexPassModalOpen:!1}}render(){const{modalMetricsProperties:e,origin:t}=this.props,{isPlexPassModalOpen:n}=this.state;return r.createElement(s.Z,{kind:a._8,size:o.ln,onPress:this.onPlexPassPress},(0,i.Z)("Get a Plex Pass"),r.createElement(l.Z,{origin:t,metricsProperties:e,isOpen:n,onModalClose:this.onPlexPassModalClose}))}}const d=c},10128:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),i=n(5562),s=n(6103),a=n(90444),o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function p(e){var t=e,{className:n,circleClassName:o,iconClassName:p,title:m}=t,h=((e,t)=>{var n={};for(var r in e)l.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&c)for(var r of c(e))t.indexOf(r)<0&&d.call(e,r)&&(n[r]=e[r]);return n})(t,["className","circleClassName","iconClassName","title"]);return r.createElement(s.Z,((e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e})({className:n,"aria-label":(0,i.Z)("Record {title}",{title:m})},h),r.createElement(a.Z,{circleClassName:o,iconClassName:p}))}p.defaultProps={className:"RecordButton-recordButton-2H5wQ_ PlayButton-playButton-2dFmuo RecordIcon-recordIconContainer-3wNYSz"};const m=p},41523:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(94184),i=n.n(r),s=n(67294),a=n(5562),o=n(6103),l=n(35771);var c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function h(e){const t=e,{className:n,selectedClassName:r,circleClassName:c,iconClassName:h,title:g,isSelected:y}=t,v=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(t,["className","selectedClassName","circleClassName","iconClassName","title","isSelected"]);return s.createElement(o.Z,((e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e})({className:i()(n,y&&r),"aria-label":y?(0,a.Z)("Deselect {title}",{title:g}):(0,a.Z)("Select {title}",{title:g})},v),s.createElement("div",{className:c,"data-qa-id":"multipleSelectButton"},s.createElement(l.Z,{className:h})))}h.defaultProps={className:"SelectButton-selectButton-Yy19xn",selectedClassName:"SelectButton-isSelected-1XM2EB",circleClassName:"SelectButton-selectCircle-16d-90",iconClassName:"SelectButton-selectedIcon-3W_uCD"};const g=h},2182:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(45697),i=n.n(r),s=n(89969),a=n(22222),o=n(74995),l=n(92187),c=n(67294),d=n(5562),u=n(22745),p=n(60528),m=n(82378),h=n(18039),g=n(53804);var y=Object.defineProperty,v=Object.prototype.hasOwnProperty,f=Object.getOwnPropertySymbols,b=Object.prototype.propertyIsEnumerable,S=(e,t,n)=>t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I=(e,t)=>{for(var n in t||(t={}))v.call(t,n)&&S(e,n,t[n]);if(f)for(var n of f(t))b.call(t,n)&&S(e,n,t[n]);return e};const Z=(0,s.$j)((function(){return(0,a.P1)(l.Z,(0,o.Z)(),((e,t)=>({machineIdentifier:t.machineIdentifier,isClaimed:t.isClaimed,isSignedIn:!!e&&e.signedIn,hasPlexSubscription:!!e&&e.hasPlexSubscription})))}))((function(e){const{machineIdentifier:t,origin:n,modalMetricsProperties:r,isSignedIn:i,isClaimed:s,hasPlexSubscription:a}=e;return a&&s?null:!a&&i?c.createElement(g.Z,{origin:n,modalMetricsProperties:r}):c.createElement(u.Z,{kind:p._8,size:m.ln,to:(0,h.Z)(t,"settings","general")},i?(0,d.Z)("Claim Server"):(0,d.Z)("Sign In"))}));Z.propTypes=I(I({},Z.propTypes),{serverEntityID:i().string.isRequired});const P=Z},58300:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),i=n(5562),s=n(69679),a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};function p(e){return r.createElement(s.Z,u(u({},e),{loadingLabel:(0,i.Z)("Loading")}))}p.propTypes=s.Z.propTypes,p.defaultProps=s.Z.defaultProps;const m=p},80708:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(94184),i=n.n(r),s=n(67294),a=n(5562),o=n(22745);var l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};class h extends s.Component{constructor(e,t){super(e,t),this.onChange=e=>{if(e.target.files&&e.target.files.length){const t=e.target.files[0];this.setState({filename:t.name})}this.props.onChange(e)},this.state={filename:null}}render(){const e=this.props,{inputComponent:t,className:n,inputClassName:r,buttonText:o,isDisabled:l,showFilename:p}=e,h=((e,t)=>{var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&d)for(var r of d(e))t.indexOf(r)<0&&u.call(e,r)&&(n[r]=e[r]);return n})(e,["inputComponent","className","inputClassName","buttonText","isDisabled","showFilename"]),{filename:g}=this.state;return s.createElement("span",null,s.createElement(t,{className:n,component:"label"},o,s.createElement("input",m(m({},h),{className:r,type:"file",onChange:this.onChange}))),p?s.createElement("span",{className:i()("FileInput-filename-3Y9QPf",!g&&"FileInput-noFilename-2qpXUQ")},g||(0,a.Z)("No file selected")):null)}}h.defaultProps={inputComponent:o.Z,inputClassName:"FileInput-fileInput-3vtTgB",showFilename:!1};const g=h},40691:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),i=n(5562),s=n(39611);const a=function({errorMessage:e}){return r.createElement("div",{className:"FormSectionError-sectionError-ilR9oj"},r.createElement(s.Z,{className:"FormSectionError-sectionErrorIcon-2CJ6gq"}),e||(0,i.Z)("There was a problem saving your changes."))}},55344:(e,t,n)=>{"use strict";n.d(t,{Z:()=>U});var r=n(67294),i=n(16905),s=n(66842),a=n(48663),o=n(72761),l=n(45558),c=n(51221),d=n(99085),u=Object.defineProperty,p=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&g(e,n,t[n]);if(m)for(var n of m(t))h.call(t,n)&&g(e,n,t[n]);return e};class v extends r.Component{constructor(){super(...arguments),this.onChange=e=>{const t=e?parseInt(e,10):null;this.props.onChange(t)}}render(){return r.createElement(d.Z,y(y({type:"number"},this.props),{selectTextOnFocus:!1,onChange:this.onChange}))}}const f=v;var b=Object.defineProperty,S=Object.prototype.hasOwnProperty,I=Object.getOwnPropertySymbols,Z=Object.prototype.propertyIsEnumerable,P=(e,t,n)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function E(e){var t=e,{formGroupClassName:n,formLabelClassName:i,inputClassName:s,name:c,labelText:d,helpText:u,showErrors:p,errors:m}=t,h=((e,t)=>{var n={};for(var r in e)S.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&I)for(var r of I(e))t.indexOf(r)<0&&Z.call(e,r)&&(n[r]=e[r]);return n})(t,["formGroupClassName","formLabelClassName","inputClassName","name","labelText","helpText","showErrors","errors"]);return r.createElement(a.Z,{className:n},r.createElement(l.Z,{className:i,showErrors:p,errors:m,name:c,labelText:d}),r.createElement(f,((e,t)=>{for(var n in t||(t={}))S.call(t,n)&&P(e,n,t[n]);if(I)for(var n of I(t))Z.call(t,n)&&P(e,n,t[n]);return e})({className:s,name:c,type:"number",hasError:p},h)),u?r.createElement(o.Z,null,u):null)}E.defaultProps={inputClassName:"NumberInputGroup-input-1bN8QZ TextInput-input-16EbOL input-input-3msd1_"};const M=(0,c.Z)(E);var C=n(38035),w=n(8030),D=n(97701),T=n(62899),O=Object.defineProperty,x=Object.prototype.hasOwnProperty,A=Object.getOwnPropertySymbols,N=Object.prototype.propertyIsEnumerable,k=(e,t,n)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L=(e,t)=>{for(var n in t||(t={}))x.call(t,n)&&k(e,n,t[n]);if(A)for(var n of A(t))N.call(t,n)&&k(e,n,t[n]);return e};function j(e=[]){return e.map((({label:e,value:t})=>({[t]:e})))}const R={playbackSpeed:T.H};function V(e){const{id:t,type:n,label:a,summary:o,value:l,initialValueModifier:c,enumValues:d,min:u,max:p,step:m}=e,h={name:t,helpText:o,initialValue:c(l)};if(Array.isArray(d))return r.createElement(C.Z,L(L({labelText:a},h),{values:j(d)}));switch(n){case i.E.TEXT:return r.createElement(w.Z,L({labelText:a},h));case i.E.BOOL:return r.createElement(s.Z,L({checkboxText:a},h));case i.E.INT:return r.createElement(M,L({labelText:a},h));case i.E.DOUBLE:return r.createElement(D.Z,L({labelText:a,min:u,max:p,stepSize:m,valueModifier:R[t]},h));default:return null}}V.defaultProps={initialValueModifier:e=>e};const U=V},97701:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294),i=n(48663),s=n(45558),a=n(51221),o=n(61214);class l extends r.Component{constructor(){super(...arguments),this.onChange=({steppedValue:e})=>{const t=String(this.props.stepSize),[,n]=t.split("."),r=null!=n?parseFloat(e.toFixed(n.length)):e;this.props.onChange(r)}}render(){const{name:e,value:t,min:n,max:a,stepSize:l,labelText:c,showErrors:d,errors:u,valueModifier:p}=this.props;return r.createElement(i.Z,null,r.createElement(s.Z,{showErrors:d,errors:u,name:e,labelText:c}),r.createElement("div",{className:"SliderInputGroup-sliderContainer-2EihJx input-input-3msd1_"},r.createElement(o.Z,{className:"SliderInputGroup-slider-3vKLmg Slider-slider-4zRCDI",value:t,min:n,max:a,stepSize:l,onChange:this.onChange}),r.createElement("div",{className:"SliderInputGroup-sliderValue-18qNJC"},p(t))))}}l.defaultProps={valueModifier:e=>e};const c=(0,a.Z)(l)},50930:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(94184),i=n.n(r),s=n(67294),a=n(97486),o=n(90701),l=n(45697),c=n.n(l),d=n(17845);function u(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-sync-arrow-560"};i["aria-hidden"]=!t,i.style=r,i.className=d.Z.plexIcon+(n?" "+n:"");var a=[s.createElement.apply(s,["path",{d:"M280 406l112-112h-89.6V154h-44.8v140H168l112 112"}].concat([]))];return t&&a.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(a))}u.propTypes={"aria-label":c().string,className:c().string,style:c().object};const p=u,m={downloadIcon:"DownloadIcon-downloadIcon-14Rs3Q PlexIcon-plexIcon-2sd7AW",hasShadow:"DownloadIcon-hasShadow-1sruQp",arrowIcon:"DownloadIcon-arrowIcon-3mZXmQ",progressBarContainer:"DownloadIcon-progressBarContainer-170i3y CircularProgressBar-absoluteCenterCircularProgressBarContainer-3BkZp2",hasProgress:"DownloadIcon-hasProgress-PqzxD5",showIndeterminate:"DownloadIcon-showIndeterminate-2iDYB_"};function h(e){const{className:t,isDisabled:n,showIndeterminate:r,lineWidth:l,progress:c,arrowSize:d,shadowWidth:u,showShadow:h,size:g}=e,y=null!=c&&c>=0,v=`${d}px`,f=r?o.Z.primaryColor:o.Z.selectedColor;let b;b=n?o.Z.defaultLinkDisabledLinkColor:y||r?o.Z.dimColor:"currentColor";const S={fontSize:v};if(h){const e=g+2*u;S.width=`${e}px`,S.height=`${e}px`,S.borderRadius=e/2+"px"}else S.width=`${g+l}px`,S.height=`${g+l}px`;const I=y?void 0:0;return s.createElement("div",{className:i()(t,y&&m.isDownloading,r&&m.showIndeterminate,h&&m.hasShadow),style:S},s.createElement(p,{className:m.arrowIcon}),s.createElement(a.Z,{containerClassName:m.progressBarContainer,lineWidth:l,progress:y?c:0,showIndeterminate:r,showProgressText:!1,size:g,smoothProgressDuration:I,strokeColor:f,trackColor:b}))}h.defaultProps={className:m.downloadIcon,size:18,arrowSize:19,lineWidth:1.3,showShadow:!1,shadowWidth:1};const g=h},46412:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(67294),i=n(89969),s=n(22222),a=n(72759),o=n(51021),l=n(50930),c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const h=(0,i.$j)((function(){return(0,s.P1)((0,s.P1)(((e,{source:t})=>t),((e,{ratingKey:t})=>t),(0,o.Z)(a.sC),((e,t,n)=>{for(const r of n){const{Context:n}=r;if(n.itemRatingKey===t&&n.source===e&&r.progress>0)return r.progress}})),(e=>({progress:e})))}))((function(e){if(!e.hasOfflineFile&&!e.hasOwnSubscription&&void 0===e.progress)return null;const t=e,{hasOfflineFile:n,hasOwnSubscription:i,ratingKey:s,source:a}=t,o=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(t,["hasOfflineFile","hasOwnSubscription","ratingKey","source"]);return r.createElement(l.Z,((e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e})({},o))}))},74424:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var r=n(67294),i=n(41720),s=n(19210);function a(e,t){return Math.random()*(t-e)+e}class o extends r.Component{constructor(e,t){super(e,t),this._setBarValues(e),this.state=this._getInitialState(!0)}componentDidMount(){if(!this.props.isPaused)for(let e=0,t=this._bars.length;e<t;e++)this._setTransitionTimeout(e)}UNSAFE_componentWillReceiveProps(e){const t=e.isPaused!==this.props.isPaused,n=e.width!==this.props.width,r=e.barCount!==this.props.barCount,i=e.barGap!==this.props.barGap;(t||n||r||i)&&(this._clearAllTransitionTimeouts(),this._setBarValues(e),this.setState(this._getInitialState(e.isPaused)))}componentDidUpdate(e,t){if(!this.props.isPaused)for(let e=0,n=this._bars.length;e<n;e++){const n=this._bars[e];t[n]!==this.state[n]&&this._setTransitionTimeout(e)}}componentWillUnmount(){this._clearAllTransitionTimeouts()}_setBarValues({width:e,barCount:t,barGap:n}){const r=n*(t-1);this._barGap=n,this._barWidth=Math.floor((e-r)/t),this._bars=[];for(let e=0,n=t;e<n;e++)this._bars.push("bar"+e)}_getInitialState(e){return this._bars.reduce(((t,n,r)=>(t[n]=this._getRandomStyle(r,e),t)),{})}_getRandomStyle(e,t){const{unit:n}=this.props,r=e*(this._barWidth+this._barGap),i=`scaleY(${t?.2:a(.2,1)})`,s=a(300,500);return{left:`${r}${n}`,width:`${this._barWidth}${n}`,backgroundColor:this.props.barColor,transitionDuration:`${s}ms`,WebkitTransform:i,msTransform:i,transform:i}}_setTransitionTimeout(e){const t=this._bars[e],n=t+"TimeoutID",r=this.state[t],i=(0,s.Z)(r.transitionDuration)-100;this[n]=window.setTimeout((()=>{this.setState({[t]:this._getRandomStyle(e)})}),i)}_clearAllTransitionTimeouts(){for(let e=0,t=this._bars.length;e<t;e++){const t=this._bars[e]+"TimeoutID";window.clearTimeout(this[t])}}render(){const{className:e,width:t,height:n,unit:i}=this.props;return r.createElement("div",{className:e,style:{width:`${t}${i}`,height:`${n}${i}`}},this._bars.map((e=>r.createElement("div",{key:e,className:"EqualizerIcon-bar-Ysl4Zm",style:this.state[e]}))))}}o.defaultProps={className:"EqualizerIcon-equalizer-u2_y9X",width:14,height:14,barColor:"#fff",barCount:3,barGap:2,isPaused:!0,unit:"px"};const l=o;var c=n(90701),d=n(45697),u=n.n(d),p=n(17845);function m(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 420 343",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-static-eq-paused"};s["aria-hidden"]=!t,s.style=i,s.className=p.Z.plexIcon+(n?" "+n:"");var a=[r.createElement.apply(r,["path",{d:"M 0 227.741 L 0 115.741 L 56 115.741 L 168 3.741 L 168 339.741 L 56 227.741 L 0 227.741 Z"}].concat([]))];return t&&a.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(a))}m.propTypes={"aria-label":u().string,className:u().string,style:u().object};const h=m;function g(e){var t=e["aria-label"],n=e.className,i=e.style,s={viewBox:"0 0 420 343",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-static-eq-playing"};s["aria-hidden"]=!t,s.style=i,s.className=p.Z.plexIcon+(n?" "+n:"");var a=[r.createElement.apply(r,["path",{d:"M 339.752 -0.011 C 388.818 41.059 420 102.759 420 171.741 C 420 240.723 388.818 302.423 339.752 343.493 L 309.905 313.646 C 351.436 280.319 378 229.132 378 171.741 C 378 114.35 351.436 63.163 309.905 29.836 L 339.752 -0.011 Z M 0 227.741 L 0 115.741 L 56 115.741 L 168 3.741 L 168 339.741 L 56 227.741 L 0 227.741 Z M 259.936 79.805 C 288.989 100.009 308 133.655 308 171.741 C 308 209.827 288.989 243.473 259.936 263.677 L 229.484 233.225 C 251.246 221.346 266 198.266 266 171.741 C 266 145.216 251.246 122.136 229.484 110.257 L 259.936 79.805 Z"}].concat([]))];return t&&a.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(a))}g.propTypes={"aria-label":u().string,className:u().string,style:u().object};const y=g;function v(e){const{barColor:t,className:n,height:i,isPaused:s,unit:a,width:o}=e,l=(0,r.useMemo)((()=>({color:t,height:`${i}${a}`,width:`${o}${a}`})),[t,i,a,o]),c=s?h:y;return r.createElement(c,{className:n,style:l})}v.defaultProps={barColor:l.defaultProps.barColor,className:l.defaultProps.className,height:l.defaultProps.height,isPaused:l.defaultProps.isPaused,unit:l.defaultProps.unit,width:l.defaultProps.width};const f=v;var b=Object.defineProperty,S=Object.prototype.hasOwnProperty,I=Object.getOwnPropertySymbols,Z=Object.prototype.propertyIsEnumerable,P=(e,t,n)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=(e,t)=>{for(var n in t||(t={}))S.call(t,n)&&P(e,n,t[n]);if(I)for(var n of I(t))Z.call(t,n)&&P(e,n,t[n]);return e};const M=function(e){const t=(0,i.Z)()?f:l;return r.createElement(t,E(E({},e),{barColor:c.Z.equalizerBarColor}))}},80913:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);const i=function(e){return r.createElement("svg",{className:e.className,viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M216 170l190.5 110L216 390z"}))}},90444:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294);function i(e){const{circleClassName:t,iconClassName:n}=e;return r.createElement("div",{className:t},r.createElement("span",{className:n}))}i.defaultProps={circleClassName:"RecordIcon-recordCircle-24nR_8 PlayButton-playCircle-2DYa77",iconClassName:"RecordIcon-recordIcon-vppRrs"};const s=i},19578:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var r=n(67294),i=n(74532),s=n(58605),a=n(85669),o=n(20458),l=n(32232),c=n(45697),d=n.n(c),u=n(17845);function p(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-live-dvr-560"};s["aria-hidden"]=!t,s.style=i,s.className=u.Z.plexIcon+(n?" "+n:"");var a=[r.createElement.apply(r,["path",{d:"M400 10h70L351.25 110H546c7.732 0 14 6.268 14 14v412c0 7.732-6.268 14-14 14H14c-7.732 0-14-6.268-14-14V124c0-7.732 6.268-14 14-14h194.75L90 10h70l120 100L400 10zm100 433V177a7 7 0 0 0-7-7H67a7 7 0 0 0-7 7v266a7 7 0 0 0 7 7h426a7 7 0 0 0 7-7z"}].concat([]))];return t&&a.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(a))}p.propTypes={"aria-label":d().string,className:d().string,style:d().object};const m=p;function h(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-movies-560"};s["aria-hidden"]=!t,s.style=i,s.className=u.Z.plexIcon+(n?" "+n:"");var a=[r.createElement.apply(r,["path",{d:"M560 40c0-11.038-8.962-20-20-20H20C8.962 20 0 28.962 0 40v480c0 11.038 8.962 20 20 20h520c11.038 0 20-8.962 20-20V40zM100 468v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zM400 310v180c0 5.52-4.48 10-10 10H170c-5.52 0-10-4.48-10-10V310c0-5.52 4.48-10 10-10h220c5.52 0 10 4.48 10 10zm100 78v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zM400 70v180c0 5.52-4.48 10-10 10H170c-5.52 0-10-4.48-10-10V70c0-5.52 4.48-10 10-10h220c5.52 0 10 4.48 10 10zm100 158v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8V68c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8V68c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8z"}].concat([]))];return t&&a.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(a))}h.propTypes={"aria-label":d().string,className:d().string,style:d().object};const g=h;function y(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-music-560"};s["aria-hidden"]=!t,s.style=i,s.className=u.Z.plexIcon+(n?" "+n:"");var a=[r.createElement.apply(r,["path",{d:"M199.855 473.52a35.61 35.61 0 0 1 .145 3.222c0 33.115-44.809 68.962-100 80-55.191 11.039-100-6.885-100-40s44.809-68.961 100-80c22.504-4.5 43.282-4.186 60 .01V96.85c0-11.257 8.788-22.154 19.612-24.319L540.388.377C551.212-1.788 560 5.594 560 16.85V392c0 .52-.05 1.028-.145 1.52.096 1.058.145 2.132.145 3.222 0 33.115-44.808 68.962-100 80-55.192 11.039-100-6.885-100-40s44.808-68.961 100-80c22.504-4.5 43.282-4.186 60 .01V124.455l-320 64V472c0 .52-.05 1.028-.145 1.52z"}].concat([]))];return t&&a.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(a))}y.propTypes={"aria-label":d().string,className:d().string,style:d().object};const v=y;function f(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-photos-560"};s["aria-hidden"]=!t,s.style=i,s.className=u.Z.plexIcon+(n?" "+n:"");var a=[r.createElement.apply(r,["path",{d:"M440 120h100c11.038 0 20 8.962 20 20v360c0 11.038-8.962 20-20 20H20c-11.038 0-20-8.962-20-20V140c0-11.038 8.962-20 20-20h100V60c0-11.038 8.962-20 20-20h280c11.038 0 20 8.962 20 20v60zm-160 40c-88.306 0-160 71.694-160 160s71.694 160 160 160 160-71.694 160-160-71.694-160-160-160zm0 80c44.153 0 80 35.847 80 80s-35.847 80-80 80-80-35.847-80-80 35.847-80 80-80z"}].concat([]))];return t&&a.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(a))}f.propTypes={"aria-label":d().string,className:d().string,style:d().object};const b=f;function S(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-podcasts-560"};s["aria-hidden"]=!t,s.style=i,s.className=u.Z.plexIcon+(n?" "+n:"");var a=[r.createElement.apply(r,["path",{d:"M240 455.992C148.757 437.44 80 356.686 80 260h60c0 77.269 62.732 140 140 140s140-62.732 140-140h60c0 96.686-68.757 177.44-160 195.992V560h-80V455.992zM360 80c0-44.153-35.847-80-80-80s-80 35.847-80 80v180c0 44.153 35.847 80 80 80s80-35.847 80-80V80z"}].concat([]))];return t&&a.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(a))}S.propTypes={"aria-label":d().string,className:d().string,style:d().object};const I=S;function Z(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-shows-560"};s["aria-hidden"]=!t,s.style=i,s.className=u.Z.plexIcon+(n?" "+n:"");var a=[r.createElement.apply(r,["path",{d:"M440 480c0-11.038-8.962-20-20-20H140c-11.038 0-20 8.962-20 20v20c0 11.038 8.962 20 20 20h280c11.038 0 20-8.962 20-20v-20zM540 40H20C8.962 40 0 48.962 0 60v360c0 11.038 8.962 20 20 20h520c11.038 0 20-8.962 20-20V60c0-11.038-8.962-20-20-20zm-40 70v220c0 5.52-4.48 10-10 10H70c-5.52 0-10-4.48-10-10V110c0-5.52 4.48-10 10-10h420c5.52 0 10 4.48 10 10z"}].concat([]))];return t&&a.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(a))}Z.propTypes={"aria-label":d().string,className:d().string,style:d().object};const P=Z;function E(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-videos-560"};s["aria-hidden"]=!t,s.style=i,s.className=u.Z.plexIcon+(n?" "+n:"");var a=[r.createElement.apply(r,["path",{d:"M360 320v140c0 11.038-8.962 20-20 20H20c-11.038 0-20-8.962-20-20V100c0-11.038 8.962-20 20-20h320c11.038 0 20 8.962 20 20v140l200-120v320L360 320z"}].concat([]))];return t&&a.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(a))}E.propTypes={"aria-label":d().string,className:d().string,style:d().object};const M=E;function C(e){var t=e["aria-label"],n=e.className,i=e.style,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-webshows-560"};s["aria-hidden"]=!t,s.style=i,s.className=u.Z.plexIcon+(n?" "+n:"");var a=[r.createElement.apply(r,["path",{d:"M560 74v412c0 7.732-6.268 14-14 14H14c-7.732 0-14-6.268-14-14V74c0-7.732 6.268-14 14-14h532c7.732 0 14 6.268 14 14zm-360 86v240l200-120-200-120z"}].concat([]))];return t&&a.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",s].concat(a))}C.propTypes={"aria-label":d().string,className:d().string,style:d().object};const w=C,D=function(e){switch(e.sourceType){case s.ls:return r.createElement(l.Z,null);case s.MB:return r.createElement(g,null);case s.TV:return r.createElement(P,null);case s.xF:return r.createElement(v,null);case s.n1:return r.createElement(b,null);case s.FM:return r.createElement(M,null);case s.Ap:return r.createElement(i.Z,null);case s.Hs:return r.createElement(m,null);case s.HG:return r.createElement(I,null);case s.w1:return r.createElement(w,null);case s.IO:return r.createElement(a.Z,null);case s.lz:return r.createElement(o.Z,null)}return null}},18376:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=n(57614),s=Object.defineProperty,a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function d(e){const t=e,{className:n}=t,s=((e,t)=>{var n={};for(var r in e)a.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&o)for(var r of o(e))t.indexOf(r)<0&&l.call(e,r)&&(n[r]=e[r]);return n})(t,["className"]);return r.createElement("div",{className:n},r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e})({},s)))}d.defaultProps={className:"AvatarImg-avatar-3gp48Z"};const u=d},84699:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),i=Object.defineProperty,s=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function c(e){const t=e,{className:n,children:i,component:c,width:d,height:u,url:p}=t,m=((e,t)=>{var n={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&a)for(var r of a(e))t.indexOf(r)<0&&o.call(e,r)&&(n[r]=e[r]);return n})(t,["className","children","component","width","height","url"]);return r.createElement("div",{className:n,style:{width:d,height:u}},r.createElement(c,((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(a)for(var n of a(t))o.call(t,n)&&l(e,n,t[n]);return e})({width:d,height:u,url:p},m)),i)}c.defaultProps={className:"PosterCard-card-3ds3Od"};const d=c},89137:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),i=n(37568),s=n(57614),a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};const p={position:"relative",top:0,left:0,display:"block",width:"100%",height:"100%"},m=function(e){return r.createElement(s.Z,u(u({},e),{component:i.Z,containerStyle:p}))}},57614:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(89969),i=n(22222),s=n(59756),a=n(91121),o=n(70488),l=n(74253),c=n(6483);const d=s.Z.allowSyncDownload?{urlParams:{"X-Plex-Account-ID":1}}:null,u=(0,r.$j)((function(){return(0,i.P1)(l.Z,o.Z,(0,a.Z)(d),((e,t,n)=>({url:n,supportsSize:!!(e&&e.isCloud&&t)})))}))(c.ZP)},55278:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var r=n(67294),i=n(5562),s=n(94184),a=n.n(s),o=n(14700);const l="SelectedMenuItem-menuItemContainer-87szhD";var c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e};class g extends r.Component{constructor(){super(...arguments),this.onPress=e=>{const{value:t,onSelect:n,onPress:r}=this.props;n&&n(t),r&&r(e)}}render(){const e=this.props,{children:t,className:n,menuLabelClassName:i,iconComponent:s,isSelected:c,selectedIconAriaLabel:m}=e,g=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(e,["children","className","menuLabelClassName","iconComponent","isSelected","selectedIconAriaLabel"]);return r.createElement(o.Z,h(h({className:a()(n,c&&"SelectedMenuItem-isSelected-1j5S12")},g),{onPress:this.onPress}),r.createElement("div",{className:l},r.createElement("div",{className:i},t),c?r.createElement("div",{className:"SelectedMenuItem-selectedIcon-1A-uGc"},r.createElement(s,{"aria-label":m})):null))}}g.defaultProps={className:l,menuLabelClassName:"SelectedMenuItem-menuLabel-1WTzXp"};const y=g;var v=n(35771),f=Object.defineProperty,b=Object.prototype.hasOwnProperty,S=Object.getOwnPropertySymbols,I=Object.prototype.propertyIsEnumerable,Z=(e,t,n)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P=(e,t)=>{for(var n in t||(t={}))b.call(t,n)&&Z(e,n,t[n]);if(S)for(var n of S(t))I.call(t,n)&&Z(e,n,t[n]);return e};function E(e){return r.createElement(y,P(P({},e),{selectedIconAriaLabel:(0,i.Z)("Selected")}))}E.defaultProps={iconComponent:v.Z};const M=E},95368:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(67294),i=n(93966),s=n(88050),a=n(5562),o=n(22745),l=n(66322),c=n(70182),d=n(79849),u=n(56510),p=n(89460),m=n(60528),h=n(82378),g=n(47636),y=n(58300),v=n(2424),f=n(64795);var b=Object.defineProperty,S=Object.prototype.hasOwnProperty,I=Object.getOwnPropertySymbols,Z=Object.prototype.propertyIsEnumerable,P=(e,t,n)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=(e,t)=>{for(var n in t||(t={}))S.call(t,n)&&P(e,n,t[n]);if(I)for(var n of I(t))Z.call(t,n)&&P(e,n,t[n]);return e};class M extends r.Component{constructor(e,t){super(e,t),this.onCancel=()=>{(0,i.DB)("metrics").trackClick(E(E({},this.props.metricsProperties),{page:this.props.metricsPage,action:s.n1})),this.props.onCancel()},this.onAccordChange=e=>{this.setState({isAccordGiven:e.target.checked})},this.state={isAccordGiven:!1}}shouldComponentUpdate(e,t){return(0,g.Z)(this,e,t)}render(){const{containerClassName:e,isCancelButtonDisabled:t,isConfirmButtonSpinning:n,isOpen:i,metricsPage:g,metricsProperties:b,kind:S,title:I,message:Z,accordMessage:P,confirmLabel:M,cancelLabel:C,hideCancelButton:w,onConfirm:D}=this.props,T=!!P,O=n||T&&!this.state.isAccordGiven;return r.createElement(v.Z,{containerClassName:e,size:h.HC,isOpen:i,metricsPage:g,metricsProperties:b,onModalClose:this.onCancel},r.createElement(f.Z,{onModalClose:this.onCancel},r.createElement(p.Z,null,I),r.createElement(c.Z,{className:"ConfirmModal-confirmBody-nK2mq9 ModalBody-modalScroller-QgrvLb ModalBody-modalBody-38ercY"},Z,T?r.createElement("label",{className:"ConfirmModal-accordLabel-1ITrqU"},r.createElement("input",{type:"checkbox",className:"ConfirmModal-accordInput-AnrzZG",checked:this.state.isAccordGiven,onChange:this.onAccordChange}),P):null),r.createElement(d.Z,null,r.createElement(u.Z,null,w?null:r.createElement(o.Z,{className:"ConfirmModal-cancelButton-3tl4UI",kind:m.TP,isDisabled:t,onPress:this.onCancel},C||(0,a.Z)("Cancel")),r.createElement(l.Z,E(E({},b),{action:s.ae}),r.createElement(y.Z,{className:"ConfirmModal-confirmButton-3D_XDR","data-autofocus":!0,kind:S,isDisabled:O,isSpinning:n,onPress:D},M||(0,a.Z)("OK")))))))}}M.defaultProps={isConfirmButtonSpinning:!1,kind:m._8};const C=M},34377:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(67294),i=n(93966),s=n(88050),a=n(70182),o=n(89460),l=n(79374),c=n(82378),d=n(2424),u=n(64795);var p=Object.defineProperty,m=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))m.call(t,n)&&y(e,n,t[n]);if(h)for(var n of h(t))g.call(t,n)&&y(e,n,t[n]);return e};class f extends r.Component{constructor(){super(...arguments),this.onItemSelect=e=>{(0,i.DB)("metrics").trackClick(v(v({},this.props.metricsProperties),{page:this.props.metricsPage,action:s.XD,value:e})),this.props.onItemSelect(e)},this.onCancel=()=>{(0,i.DB)("metrics").trackClick(v(v({},this.props.metricsProperties),{page:this.props.metricsPage,action:s.n1})),this.props.onCancel()}}render(){const{children:e,isOpen:t,metricsPage:n,metricsProperties:i,title:s}=this.props;return r.createElement(d.Z,{size:c.HC,isOpen:t,metricsPage:n,metricsProperties:i,onModalClose:this.onCancel},r.createElement(u.Z,{onModalClose:this.onCancel},r.createElement(o.Z,null,s),r.createElement(a.Z,{innerClassName:"ListModal-listModalInnerBody-3j-5-l"},(0,l.Z)(e,(e=>r.cloneElement(e,{onSelect:this.onItemSelect}))))))}}const b=f},36245:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),i=n(6103),s=Object.defineProperty,a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e};class u extends r.Component{constructor(){super(...arguments),this.onPress=e=>{const{value:t,onSelect:n,onPress:r}=this.props;n&&n(t),r&&r(e)}}render(){const e=this.props,{value:t,onSelect:n}=e,s=((e,t)=>{var n={};for(var r in e)a.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&o)for(var r of o(e))t.indexOf(r)<0&&l.call(e,r)&&(n[r]=e[r]);return n})(e,["value","onSelect"]);return r.createElement(i.Z,d(d({},s),{onPress:this.onPress}))}}u.defaultProps={className:"ListModalItem-listModalItem-37Gi41"};const p=u},2424:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r=n(67294),i=n(63731),s=n(82777),a=n(73935),o=n(61006),l=n(71575),c=n(54983),d=n(52999),u=n(82378),p=n(47636),m=n(32129),h=n(93502);const g={modalContainer:"Modal-modalContainer-3UE-IC",modalBackdrop:"Modal-modalBackdrop-1xHf5f",modal:"Modal-modal-23PFoV",small:"Modal-small-2NCuXR Modal-modal-23PFoV",medium:"Modal-medium-3YP8Mf Modal-modal-23PFoV",large:"Modal-large-3IF3i5 Modal-modal-23PFoV"},y=(0,c.Z)(m.Z.modalSpeed),v=1e3*y,f={ease:"easeOut",duration:y},b={ease:h.Z.motionEasing,duration:y},S={opacity:f},I={enter:{opacity:1,transition:S},exit:{opacity:0,transition:S}},Z={scale:b,opacity:f},P={enter:{opacity:1,scale:1,transition:Z},exit:{opacity:0,scale:.95,transition:Z}};class E extends r.Component{constructor(){super(...arguments),this.onBackdropBeginPress=e=>{this._isBackdropPressed=this._isBackdropTarget(e)},this.onBackdropEndPress=e=>{!this.props.preventCloseOnBackdropPress&&this._isBackdropPressed&&this._isBackdropTarget(e)&&this.props.onModalClose(),this._isBackdropPressed=!1},this.onTouchMove=e=>{this._isBackdropPressed=!1},this.onTouchCancel=e=>{this._isBackdropPressed=!1},this.onKeyDown=e=>{const t=e.keyCode;t===o.Mf?d.QE(e):t===o.hY&&(e.preventDefault(),e.stopPropagation(),this.props.onModalClose(),d.sM())}}componentDidMount(){this.props.isOpen&&this._openModal()}shouldComponentUpdate(e,t){return(0,p.Z)(this,e,t)}componentDidUpdate(e){!e.isOpen&&this.props.isOpen?this._openModal():e.isOpen&&!this.props.isOpen&&this._closeModal()}componentWillUnmount(){this.props.isOpen&&this._closeModal()}_openModal(){d.LJ(a.findDOMNode(this.refs.modal)),this._autoFocusTimeoutID=window.setTimeout(d.pc,v),document.addEventListener("keydown",this.onKeyDown)}_closeModal(){window.clearTimeout(this._autoFocusTimeoutID),document.removeEventListener("keydown",this.onKeyDown)}_isBackdropTarget(e){const t=this._findEventTarget(e);if(t){const e=a.findDOMNode(this.refs.modal);return!e||!e.contains(t)}return!1}_findEventTarget(e){const t=e.changedTouches;if(!t)return e.target;if(1===t.length){const e=t[0];return document.elementFromPoint(e.clientX,e.clientY)}}render(){const{className:e,backdropClassName:t,containerClassName:n,children:i,size:a,isOpen:o}=this.props;return r.createElement(l.Z,{isOpen:o,closeTimeoutMilliseconds:v,className:n},r.createElement(s.M_,null,o?r.createElement(s.ww.div,{key:"backdrop",initial:"exit",animate:"enter",exit:"exit",variants:I,className:t,onMouseDown:this.onBackdropBeginPress,onMouseUp:this.onBackdropEndPress,onTouchStart:this.onBackdropBeginPress,onTouchEnd:this.onBackdropEndPress,onTouchMove:this.onTouchMove,onTouchCancel:this.onTouchCancel},r.createElement(s.ww.div,{key:"modal",initial:"exit",animate:"enter",exit:"exit",variants:P,className:e||g[a],ref:"modal"},i)):null))}}E.defaultProps={backdropClassName:g.modalBackdrop,containerClassName:g.modalContainer,size:u.M2,preventCloseOnBackdropPress:!1};const M=E;var C=Object.defineProperty,w=Object.prototype.hasOwnProperty,D=Object.getOwnPropertySymbols,T=Object.prototype.propertyIsEnumerable,O=(e,t,n)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x=(e,t)=>{for(var n in t||(t={}))w.call(t,n)&&O(e,n,t[n]);if(D)for(var n of D(t))T.call(t,n)&&O(e,n,t[n]);return e};const A=function(e){const t=e,{children:n,metricsPage:s,metricsProperties:a}=t,o=((e,t)=>{var n={};for(var r in e)w.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&D)for(var r of D(e))t.indexOf(r)<0&&T.call(e,r)&&(n[r]=e[r]);return n})(t,["children","metricsPage","metricsProperties"]);return r.createElement(M,x({},o),r.createElement(i.Z,x(x({},a),{page:s}),n))}},64795:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(67294),i=n(6103);var s=Object.defineProperty,a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function d(e){const t=e,{className:n,children:s,iconComponent:d,onModalClose:u}=t,p=((e,t)=>{var n={};for(var r in e)a.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&o)for(var r of o(e))t.indexOf(r)<0&&l.call(e,r)&&(n[r]=e[r]);return n})(t,["className","children","iconComponent","onModalClose"]);return r.createElement("div",((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e})({className:n},p),r.createElement(i.Z,{className:"ModalContent-closeButton-1H4pOB Link-link-CM9nxg",onPress:u},d?r.createElement(d,null):null),s)}d.defaultProps={className:"ModalContent-modalContent-12mSTV"};const u=d;var p=n(53863),m=Object.defineProperty,h=Object.prototype.hasOwnProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.propertyIsEnumerable,v=(e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))h.call(t,n)&&v(e,n,t[n]);if(g)for(var n of g(t))y.call(t,n)&&v(e,n,t[n]);return e};function b(e){return r.createElement(u,f({},e))}b.defaultProps=f(f({},b.defaultProps),{iconComponent:p.Z});const S=b},38132:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=n(70182),s=n(64795);var a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const u=function(e){var t=e,{children:n}=t,a=((e,t)=>{var n={};for(var r in e)o.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&l)for(var r of l(e))t.indexOf(r)<0&&c.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);return r.createElement(s.Z,((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({},a),r.createElement(i.Z,{className:"ModalContentCenter-modalScroller-35LbRg ModalBody-modalScroller-QgrvLb ModalBody-modalBody-38ercY",innerClassName:"ModalContentCenter-innerModalBody-1iDB5E ModalBody-innerModalBody-1VHRyi"},n))}},66102:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(94184),i=n.n(r),s=n(67294),a=n(60528),o=n(39611),l=n(38132);const c={icon:"ModalContentError-icon-7HjSEb",default:"ModalContentError-default-3xaAPL",primary:"ModalContentError-primary-pMrVY-",success:"ModalContentError-success-20x587",danger:"ModalContentError-danger-2pPSTS",message:"ModalContentError-message-thZttv"};var d=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function g(e){const t=e,{iconClassName:n,messageClassName:r,kind:a,message:d}=t,g=((e,t)=>{var n={};for(var r in e)u.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&p)for(var r of p(e))t.indexOf(r)<0&&m.call(e,r)&&(n[r]=e[r]);return n})(t,["iconClassName","messageClassName","kind","message"]);return s.createElement(l.Z,((e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(p)for(var n of p(t))m.call(t,n)&&h(e,n,t[n]);return e})({},g),s.createElement(o.Z,{className:i()(c[a],n)}),s.createElement("div",{className:r},d))}g.defaultProps={iconClassName:c.icon,messageClassName:c.message,kind:a.TP};const y=g},3345:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),i=n(69605),s=n(5562),a=n(72936),o=n(90980),l=n(95368),c=n(83787);const d=function(e){const{isOpen:t,state:n,onConfirm:d,onClose:u}=e,p=t&&n===o.R3.CANCEL,m=t&&n===o.R3.REMOVE,h=t&&n===o.R3.UPSELL;return r.createElement(r.Fragment,null,r.createElement(l.Z,{isOpen:p,title:(0,s.Z)("Cancel Download"),message:(0,s.Z)("Are you sure you want to cancel this download?"),metricsPage:i.Pi,confirmLabel:(0,s.Z)("Yes"),cancelLabel:(0,s.Z)("No"),onConfirm:d,onCancel:u}),r.createElement(l.Z,{isOpen:m,title:(0,s.Z)("Delete Download"),message:(0,s.Z)("Are you sure you want to delete this download?"),metricsPage:i.Ke,onConfirm:d,onCancel:u}),r.createElement(c.Z,{origin:a.vz,isOpen:h,onModalClose:u}))}},24754:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),i=Object.defineProperty,s=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function c(e){return r.createElement("div",((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(a)for(var n of a(t))o.call(t,n)&&l(e,n,t[n]);return e})({},e))}c.defaultProps={className:"PageHeader-pageHeader-WpvbJc"};const d=c},99842:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(67294),i=n(89969),s=n(22222),a=n(98727),o=n(74995),l=n(55885),c=n(45399),d=n(27082),u=n(31649),p=n(67145),m=n(47486),h=n(8941),g=n(52567),y=n(18340);const v={context:m.SETTINGS};class f extends r.Component{constructor(e,t){super(e,t),this.onCreateDVRPress=()=>{this.setState({isDVRSetupModalOpen:!0})},this.onDVRSetupModalClose=()=>{this.setState({isDVRSetupModalOpen:!1}),this.props.onModalClose&&this.props.onModalClose()},this.state={isDVRSetupModalOpen:e.isModalOpen}}render(){const{className:e,dvrID:t,serverEntityID:n,machineIdentifier:i,providerIdentifier:s,isDvrsPending:a,hasV4DVRSetupFeature:o,hasDVRFeature:l,hasLiveTVSetupFeature:c,dvrsError:d,children:u}=this.props,{isDVRSetupModalOpen:p}=this.state,m=!a&&!t;return r.createElement("div",{className:e},u?u({serverEntityID:n,hasDVRFeature:l,hasLiveTVSetupFeature:c,noDVRs:m,dvrsError:d,onOpen:this.onCreateDVRPress}):null,o?r.createElement(g.Z,{machineIdentifier:i,providerIdentifier:s,dvrID:(0,h.Z)(t),metricsContext:v.context,isOpen:p,onModalClose:this.onDVRSetupModalClose}):r.createElement(y.Z,{serverEntityID:n,metricsProperties:v,isOpen:p,onModalClose:this.onDVRSetupModalClose}))}}f.defaultProps={isModalOpen:!1};const b=f;var S=Object.defineProperty,I=Object.prototype.hasOwnProperty,Z=Object.getOwnPropertySymbols,P=Object.prototype.propertyIsEnumerable,E=(e,t,n)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const M={dispatchInitDVRSettingsUI:u.Sn,dispatchClearDVRSettingsUI:u._S};class C extends r.Component{componentDidMount(){(0,d.c9)((()=>{this.props.dispatchInitDVRSettingsUI({serverEntityID:this.props.serverEntityID})}))}componentWillUnmount(){this.props.dispatchClearDVRSettingsUI()}render(){const e=this.props,{dispatchInitDVRSettingsUI:t,dispatchClearDVRSettingsUI:n}=e,i=((e,t)=>{var n={};for(var r in e)I.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Z)for(var r of Z(e))t.indexOf(r)<0&&P.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchInitDVRSettingsUI","dispatchClearDVRSettingsUI"]);return this.props.isUIPopulated?r.createElement(b,((e,t)=>{for(var n in t||(t={}))I.call(t,n)&&E(e,n,t[n]);if(Z)for(var n of Z(t))P.call(t,n)&&E(e,n,t[n]);return e})({},i)):null}}const w=(0,i.$j)((function(){return(0,s.P1)((e=>e.ui.dvrSettingsUI),(0,o.Z)(),(0,l.Z)(c.vm),(0,l.Z)(c.C1),a.Z,((e,t,n,r,i)=>{var s;const{isDvrsPending:a,dvrs:o,dvrsError:l,isUIPopulated:c}=e,d=t.providers.map((e=>i[e])).find(p.Z);return{machineIdentifier:t.machineIdentifier,providerIdentifier:null==d?void 0:d.identifier,isUIPopulated:c,isDvrsPending:a,dvrID:null==(s=null==o?void 0:o[0])?void 0:s.key,hasDVRFeature:!!t.ownerFeatures&&t.ownerFeatures.indexOf("dvr")>-1,hasLiveTVSetupFeature:n,hasV4DVRSetupFeature:r,dvrsError:l}}))}),M)(C)},51797:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),i=n(39374),s=n(5562),a=n(6103),o=n(27271),l=n(66088),c=n(39611);const d=function(){const e=(0,s.Z)("This tuner isn't officially supported by Plex, click for more information");return r.createElement(o.Z,{className:"UnsupportedDeviceIcon-unsupported-2NjgC3",component:a.Z,tooltip:e,tooltipClassName:"UnsupportedDeviceIcon-unsupportedTooltip-2XFiwH Tooltip-bottomCenter-3I-giq Tooltip-tooltip-1BlaVj Tooltip-tooltipArrow-3ocxiK Tooltip-tooltipTopArrow-1LUIRT Tooltip-tooltipCenterAlignArrow-EwxeoC",tooltipAttachment:l.eO,target:"_blank",to:i.hJ},r.createElement(c.Z,{className:"UnsupportedDeviceIcon-unsupportedIcon-1RWOks","aria-label":e}))}},88686:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),i=n(57614),s=n(54346),a=n(8955),o=n(72066),l=n(79029);function c(e){const{className:t,serverEntityID:n,providerEntityID:c,model:d,thumb:u,width:p,height:m}=e;let h;switch(d){case"HDHomeRun CONNECT":h=s;break;case"HDHomeRun EXPAND":h=a;break;case"HDHomeRun EXTEND":h=o;break;case"HDHomeRun PRIME":h=l}return r.createElement(i.Z,{serverEntityID:n,providerEntityID:c,className:t,url:u,emptySrc:h,width:p,height:m})}c.defaultProps={className:"DVRDeviceImage-image-2kaCDN"};const d=c},47949:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);const i=function({className:e,uri:t}){const n=t.replace(/^https?:\/\//,"");return r.createElement("div",{className:e},n)}},18340:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ln});var r=n(67294),i=n(93966),s=n(88050),a=n(69605),o=n(47636),l=n(2424),c=n(89969),d=n(22222),u=n(75557),p=n(43888),m=n(57778),h=n(27082),g=n(5562),y=n(71332),v=n(8179);const f=(0,d.P1)((e=>e.ui.dvrSettingsUI),(e=>{const t=e.dvrSetup.setupErrorMessages;return t.length?t[0].message:null}));var b=n(45428),S=n(22745),I=n(37084),Z=n(48663),P=n(26955),E=n(18246),M=n(70182),C=n(56510),w=n(60528),D=n(90653),T=n(82378),O=n(58300),x=n(89460),A=n(40691),N=n(64795);const k=function(e){const{title:t,children:n,errorMessage:i,onModalClose:s}=e;return r.createElement(N.Z,{onModalClose:s},r.createElement(x.Z,null,t||(0,g.Z)("DVR Setup")),i?r.createElement(A.Z,{errorMessage:i}):null,n)};var L=n(79849);function j({children:e,className:t}){return r.createElement(L.Z,{className:t},e)}j.defaultProps={className:"DVRSetupModalFooter-footer-Um6TLt ModalFooter-modalFooter-1Q0cxs"};const R=j;class V extends r.Component{constructor(){super(...arguments),this.onNextStepPress=()=>{this.props.dvrSetupNextStep({dvrID:this.props.dvrID})}}render(){const{label:e=(0,g.Z)("Continue"),isDisabled:t}=this.props;return r.createElement(S.Z,{kind:w._8,size:T.M2,isDisabled:t,onPress:this.onNextStepPress},e)}}V.defaultProps={isDisabled:!1};const U=(0,c.$j)(null,{dvrSetupNextStep:p.AV})(V);class z extends r.Component{constructor(){super(...arguments),this.onPreviousStepPress=()=>{this.props.dvrSetupPreviousStep({dvrID:this.props.dvrID})}}render(){return r.createElement(S.Z,{kind:w.TP,size:T.M2,onPress:this.onPreviousStepPress},(0,g.Z)("Previous"))}}const B=(0,c.$j)(null,{dvrSetupPreviousStep:p.G$})(z);var _=n(6103),F=n(41523),H=n(51797),W=n(88686),Q=n(47949),G=n(7796);const Y=parseInt(G.Z.dvrSetupImageWidth,10);class q extends r.Component{constructor(){super(...arguments),this.onSelectDevicePress=()=>{this.props.onSelectDevice(this.props.deviceID)}}render(){const{className:e,serverEntityID:t,make:n,model:i,uri:s,thumb:a,channelCount:o,unsupported:l,isSelectable:c,isSelected:d,includeUri:u,includeChannelCount:p}=this.props;let m;return m=1===o?(0,g.Z)("1 channel"):o>1?(0,g.Z)("{channelCount} channels",{channelCount:o}):(0,g.Z)("No channels"),r.createElement("div",{className:e},c?r.createElement(_.Z,{onPress:this.onSelectDevicePress},r.createElement("div",{className:"DVRSetupDevice-deviceImageContainer-1AnHOa"},r.createElement(W.Z,{serverEntityID:t,model:i,thumb:a,width:Y,height:100}),d?r.createElement(F.Z,{className:"DVRSetupDevice-selectButton-23o6Ld SelectButton-selectButton-Yy19xn",component:"div",title:i,isSelected:!0,isDisabled:!0}):null)):null,c?null:r.createElement(W.Z,{serverEntityID:t,model:i,thumb:a,width:Y,height:100}),r.createElement("div",{className:"DVRSetupDevice-details-2jWjsL"},r.createElement("div",{className:"DVRSetupDevice-make-3Qn_Kw"},n),r.createElement("div",{className:"DVRSetupDevice-modelContainer-3AXKt6"},r.createElement("div",{className:"DVRSetupDevice-model-FUafPt"},i),l?r.createElement(H.Z,null):null),u?r.createElement(Q.Z,{className:"DVRSetupDevice-uri-3jEDaz",uri:s}):null,p?r.createElement("div",{className:"DVRSetupDevice-channelCount-1mlLrc"},m):null))}}q.defaultProps={includeUri:!1,includeChannelCount:!1,isSelectable:!1};const K=q;var $=n(78434),X=n(39611),J=n(21100),ee=n(62224),te=n(96049),ne=n(50775),re=n(5162),ie=n(68534);const se=function(e){const{identifier:t,name:n,signalStrength:i,signalQuality:s}=e;return r.createElement("div",{className:"DVRSetupDeviceChannel-channel-1Xgchv"},r.createElement("div",{className:"DVRSetupDeviceChannel-channelIdentifier-397fOG"},t),r.createElement(ie.Z,{className:"DVRSetupDeviceChannel-signalStrength-1lXGsr SignalStrength-signalStrength-2BhMGB",signalStrength:s||i}),r.createElement("div",null,n))},ae="DVRSetupDeviceInfoChannelInfo-container-l7bZws",oe="DVRSetupDeviceInfoChannelInfo-settings-1TtExJ",le="DVRSetupDeviceInfoChannelInfo-message-qzEUio",ce="DVRSetupDeviceInfoChannelInfo-clockTime-1NRT20 DVRSetupDeviceInfoChannelInfo-clock-1COjbZ";var de=Object.defineProperty,ue=Object.prototype.hasOwnProperty,pe=Object.getOwnPropertySymbols,me=Object.prototype.propertyIsEnumerable,he=(e,t,n)=>t in e?de(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ge=function(e){const{selectedDevice:t,channelCount:n,isChannelsPending:i,channelScanActivity:s,scanPrefs:a,scanNetworks:o,hasScannedChannels:l}=e;return s?r.createElement("div",{className:ae},r.createElement($.Z,{size:90,progress:s.progress}),r.createElement("div",{className:le},(0,g.Z)("Scanning channels"))):a.length?r.createElement(re.Z,{className:oe,prefs:a}):o.length?r.createElement(ne.Z,{className:oe,networks:o}):i?r.createElement("div",{className:ae},r.createElement("div",{className:le},(0,g.Z)("Loading channels"))):n?r.createElement("div",null,t.channels.map((e=>r.createElement(se,((e,t)=>{for(var n in t||(t={}))ue.call(t,n)&&he(e,n,t[n]);if(pe)for(var n of pe(t))me.call(t,n)&&he(e,n,t[n]);return e})({key:e.identifier},e))))):l?r.createElement("div",{className:ae},r.createElement("div",{className:"DVRSetupDeviceInfoChannelInfo-noChannelsIconContainer-Fsmb26"},r.createElement("div",{className:"DVRSetupDeviceInfoChannelInfo-noChannelsIconBackground-1hm-V4"},r.createElement(X.Z,{className:"DVRSetupDeviceInfoChannelInfo-noChannelsIcon-2IfsMd"}))),r.createElement("div",{className:le},(0,g.Z)("No channels found. Make sure your device has a signal from your antenna and try scanning again."))):r.createElement("div",{className:ae},r.createElement("div",{className:"DVRSetupDeviceInfoChannelInfo-clockContainer-V9-6PW"},r.createElement("div",{className:"DVRSetupDeviceInfoChannelInfo-clockBackground-1vvFQ1"}),r.createElement(J.Z,{className:ce}),r.createElement(te.Z,{className:"DVRSetupDeviceInfoChannelInfo-clock-1COjbZ"}),r.createElement(ee.Z,{className:ce})),r.createElement("div",{className:le},(0,g.Z)("Awaiting channel scan")))},ye=function(e){const t=function(e){const{channelCount:t,hasSignalStrength:n,isChannelsPending:r,channelScanActivity:i,hasScanPrefs:s,hasScanNetworks:a}=e;return i?(0,g.Z)("Scanning for channels... This may take some time."):s?(0,g.Z)("We need some more information before proceeding with the channel scan."):a?(0,g.Z)("Please select a network before proceeding with the channel scan."):r?(0,g.Z)("Fetching device channels"):t?n?(0,g.Z)("We found {channelCount} channels. If these don't look right, you can scan again. Signal strength is stored at the time of scanning.",{channelCount:t}):(0,g.Z)("We found {channelCount} channels. If these don't look right, you can scan again.",{channelCount:t}):(0,g.Z)("Make sure your device is connected to your antenna or cable and click Scan Channels.")}(e);return r.createElement("div",{className:"DVRSetupDeviceInfoMessage-message-1UIhQ6"},t)};var ve=Object.defineProperty,fe=Object.prototype.hasOwnProperty,be=Object.getOwnPropertySymbols,Se=Object.prototype.propertyIsEnumerable,Ie=(e,t,n)=>t in e?ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Ze extends r.Component{constructor(){super(...arguments),this.onScanDeviceChannelsPress=e=>{const t=this.props.scanPrefs.length?{prefs:e}:e;this.props.onScanDeviceChannels(t)},this.onDeviceSourceSelect=e=>{this.props.onDeviceSourceSelect(e),this.clearExistingScanPrefs()},this.onCountrySelect=e=>{this.props.onCountrySelect(e),this.clearExistingScanPrefs()}}clearExistingScanPrefs(){const{selectedDevice:e,scanPrefs:t,scanNetworks:n,onScanDeviceChannels:r,onClearDeviceScanPrefs:i}=this.props;t.length?(i(),r(e.deviceID)):n.length&&i()}render(){const{serverEntityID:e,dvrID:t,selectedDevice:n,setupErrorMessage:i,isChannelsPending:s,sourceOptions:a,channelScanActivity:o,isCancellingChannelScan:l,selectedCountryCode:c,countryOptions:d=[],countriesPopulated:u,scanPrefs:p,scanNetworks:m,hasScannedChannels:h,onCancelScanDeviceChannels:y,onModalClose:v}=this.props,f=n.selectedSource||n.sources[0],x=o?parseInt(o.Response.channels,10):n.channels.length,A=!(!x||o||s),N=!!p.length,L=!!m.length,j=[{"":(0,g.Z)("Select Country")},...d],V=n.channels.some((e=>null!=e.signalQuality||null!=e.signalStrength)),z=!(n&&n.channels.length&&!o&&c);return r.createElement(k,{errorMessage:i,onModalClose:v},r.createElement(M.Z,{className:"DVRSetupDeviceInfo-deviceInfoBody-1uZY1r ModalBody-modalBody-38ercY",scrollDirection:D.Hn},r.createElement(I.ZP,{className:"DVRSetupDeviceInfo-deviceInfoForm-19FTDt",onSubmit:this.onScanDeviceChannelsPress},r.createElement("div",{className:"DVRSetupDeviceInfo-channelInfo-1HguW0"},r.createElement(ye,{channelCount:x,hasSignalStrength:V,isChannelsPending:s,channelScanActivity:o,hasScanPrefs:N,hasScanNetworks:L}),r.createElement("div",null,r.createElement(O.Z,{type:o?"button":"submit",kind:o||x||s?w.TP:w._8,size:T.M2,isSpinning:l,isDisabled:!c||l,onPress:o?y:null},o?(0,g.Z)("Stop scanning"):(0,g.Z)("Scan channels")))),r.createElement("div",{className:"DVRSetupDeviceInfo-channelDetails-19x9No"},r.createElement(b.Z,{className:"DVRSetupDeviceInfo-deviceDetails-T1XWLH"},r.createElement(K,((e,t)=>{for(var n in t||(t={}))fe.call(t,n)&&Ie(e,n,t[n]);if(be)for(var n of be(t))Se.call(t,n)&&Ie(e,n,t[n]);return e})({serverEntityID:e,deviceID:n.key,channelCount:x,includeChannelCount:!0},n)),r.createElement(Z.Z,null,r.createElement(E.Z,{className:"DVRSetupDeviceInfo-channelScanSourceSelect-3AAmTi SelectInput-input-_K0kCK input-input-3msd1_",name:"deviceSource",value:f,values:a,isDisabled:!!o,onChange:this.onDeviceSourceSelect})),u?r.createElement(Z.Z,{className:"DVRSetupDeviceInfo-countryInputGroup-2ZraXu"},r.createElement(P.Z,null,(0,g.Z)("Country")),r.createElement(E.Z,{name:"countrySelect",value:c,values:j,isDisabled:!!o,onChange:this.onCountrySelect})):null),r.createElement("div",{className:"DVRSetupDeviceInfo-deviceChannelsContainer-1vIaMc"},r.createElement(b.Z,{className:A?"DVRSetupDeviceInfo-deviceChannels-1YkepU Scroller-vertical-3IY07c":"DVRSetupDeviceInfo-deviceChannelsInfo-1F3agn DVRSetupDeviceInfo-deviceChannels-1YkepU Scroller-vertical-3IY07c",autoScroll:!0},r.createElement(ge,{selectedDevice:n,channelCount:x,isChannelsPending:s,channelScanActivity:o,scanPrefs:p,scanNetworks:m,hasScannedChannels:h})))))),r.createElement(R,null,r.createElement(C.Z,null,r.createElement(S.Z,{kind:w.TP,size:T.M2,onPress:v},(0,g.Z)("Cancel"))),r.createElement(C.Z,null,r.createElement(B,null),r.createElement(U,{dvrID:t,isDisabled:z}))))}}Ze.defaultProps={scanPrefs:[],scanNetworks:[]};const Pe=Ze;var Ee=Object.defineProperty,Me=Object.prototype.hasOwnProperty,Ce=Object.getOwnPropertySymbols,we=Object.prototype.propertyIsEnumerable,De=(e,t,n)=>t in e?Ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Te=(e,t)=>{for(var n in t||(t={}))Me.call(t,n)&&De(e,n,t[n]);if(Ce)for(var n of Ce(t))we.call(t,n)&&De(e,n,t[n]);return e};class Oe extends r.Component{constructor(e,t){super(e,t),this.onCancelScanDeviceChannels=()=>{this.setState({isCancellingChannelScan:!0}),this.props.dispatchCancelScanDeviceChannels(this.props.selectedDevice.key)},this.state={isCancellingChannelScan:!1}}UNSAFE_componentWillMount(){this.props.channelScanActivity&&this.setState({isCancellingChannelScan:!0})}componentDidMount(){const e=this.props.selectedDevice,t=e.source>-1?e.source.toString():e.sources[0];(0,h.c9)((()=>{this.props.dispatchFetchDeviceDetails(),this.props.dispatchFetchDeviceChannels(),this.props.dispatchFetchEPGCountries(),this.props.onDeviceSourceSelect(t),this.props.onClearDeviceScanPrefs()}))}UNSAFE_componentWillReceiveProps(e){!e.channelScanActivity&&this.props.channelScanActivity&&this.setState({isCancellingChannelScan:!1})}componentDidUpdate(e,t){this.props.channelScanActivity||!e.channelScanActivity||this.props.scanNetworks||(0,h.c9)((()=>{this.props.dispatchFetchDeviceChannels()}))}componentWillUnmount(){this.props.channelScanActivity&&!this.state.isCancellingChannelScan&&this.props.dispatchCancelScanDeviceChannels(this.props.selectedDevice.key)}render(){const e=this.props,{dispatchFetchDeviceDetails:t,dispatchFetchDeviceChannels:n,dispatchFetchEPGCountries:i,dispatchCancelScanDeviceChannels:s}=e,a=((e,t)=>{var n={};for(var r in e)Me.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ce)for(var r of Ce(e))t.indexOf(r)<0&&we.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchFetchDeviceDetails","dispatchFetchDeviceChannels","dispatchFetchEPGCountries","dispatchCancelScanDeviceChannels"]);return r.createElement(Pe,Te({isCancellingChannelScan:this.state.isCancellingChannelScan,onCancelScanDeviceChannels:this.onCancelScanDeviceChannels},a))}}const xe=(0,c.$j)((function(){return(0,d.P1)(m.Z,f,(0,v.Z)(),((e,t,n)=>{const r=e.selectedDevice,i=r.sources.reduce(((e,t)=>{switch(t){case"0":e.push({[t]:(0,g.Z)("Antenna")});break;case"1":e.push({[t]:(0,g.Z)("Cable")})}return e}),[]),{scanPrefs:s,scanNetworks:a,hasScannedChannels:o}=e,{selectedCountry:l,countries:c}=e.epgSettings,d=c.length>0,u=l?l.code:"",p=c.reduce(((e,t)=>(e.push({[t.code]:t.title}),e)),[]);return{selectedDevice:r,setupErrorMessage:t,isChannelsPending:r.isChannelsPending,sourceOptions:i,countriesPopulated:d,selectedCountryCode:u,countryOptions:p,scanPrefs:s,scanNetworks:a,hasScannedChannels:o,channelScanActivity:n}}))}),(function(e,t){const{serverEntityID:n}=t;return{dispatchFetchDeviceDetails(){e(p.$1({serverEntityID:n}))},dispatchFetchDeviceChannels(){e(p.pi({serverEntityID:n}))},dispatchFetchEPGCountries(){e((0,y.fetchEPGCountries)({serverEntityID:n}))},dispatchCancelScanDeviceChannels(t){e(p.BF({serverEntityID:n,deviceID:t}))},onDeviceSourceSelect(t){e(p.FX({serverEntityID:n,source:t}))},onScanDeviceChannels(t={}){e(p.sl(Te({serverEntityID:n},t)))},onCountrySelect(t){e((0,y.selectEPGCountry)({serverEntityID:n,countryCode:t}))},onClearDeviceScanPrefs(){e(p.Ze({serverEntityID:n}))}}}))(Oe);var Ae=n(13469),Ne=n.n(Ae),ke=n(45381),Le=n(59145),je=n(99085),Re=n(21914),Ve=n(58801);var Ue=Object.defineProperty,ze=Object.prototype.hasOwnProperty,Be=Object.getOwnPropertySymbols,_e=Object.prototype.propertyIsEnumerable,Fe=(e,t,n)=>t in e?Ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class He extends r.Component{constructor(e,t){super(e,t),this.onShowDeviceAddressPress=()=>{this.setState({showManualAddress:!this.state.showManualAddress})},this.onDeviceAddressChange=e=>{this.setState({manualDeviceAddress:e})},this.onAddDevicePress=()=>{this.props.onAddDevice(this.state.manualDeviceAddress)},this.state={showManualAddress:!1,manualDeviceAddress:""}}render(){const{serverEntityID:e,selectedDevice:t,setupErrorMessage:n,addDevicePending:i,devices:s,onSelectDevice:a,onModalClose:o}=this.props,{showManualAddress:l,manualDeviceAddress:c}=this.state,d=s.length>0;return r.createElement(k,{errorMessage:n,onModalClose:o},r.createElement(M.Z,null,d?r.createElement("div",null,(0,g.Z)("We found hardware we recognize!")):null,d?null:r.createElement("div",null,(0,g.Z)("Looking for compatible devices...")),r.createElement("div",{className:"DVRSetupDeviceSelector-manualDeviceButtonContainer-3FJegG"},r.createElement(Le.Z,{kind:w._8,direction:l?Re.UP:Re.WV,isSelected:!1,onPress:this.onShowDeviceAddressPress},(0,g.Z)("Don't see your HDHomeRun device? Enter its network address manually"))),r.createElement("div",{className:"DVRSetupDeviceSelector-manualDeviceContainer-2GUqE8"},l?r.createElement("div",null,r.createElement(Z.Z,null,r.createElement(P.Z,null,(0,g.Z)("HDHomeRun Device Address")),r.createElement(je.Z,{type:"text",name:"manualDeviceInput",className:"DVRSetupDeviceSelector-manualDeviceInput-2bdIOT TextInput-input-16EbOL input-input-3msd1_",value:this.state.manualDeviceAddress,placeholder:(0,g.Z)("IP address or hostname"),onChange:this.onDeviceAddressChange}),r.createElement(O.Z,{className:"DVRSetupDeviceSelector-addDeviceButton-3skWO6",kind:w._8,size:T.ln,isDisabled:!c,isSpinning:i,onPress:this.onAddDevicePress},(0,g.Z)("Connect")))):null),d?null:r.createElement("div",{className:"DVRSetupDeviceSelector-spinnerContainer-1VcnjX"},r.createElement(Ve.Z,null)),d?r.createElement("div",null,r.createElement("div",{className:"DVRSetupDeviceSelector-deviceCount-hlz9Am"},1===s.length?(0,g.Z)("1 device found"):(0,g.Z)("{deviceCount} devices found",{deviceCount:s.length})),r.createElement(b.Z,{className:"DVRSetupDeviceSelector-devices-d0UaLL",scrollDirection:D._y},s.map((n=>{const i=t&&t.key===n.key;return r.createElement(K,((e,t)=>{for(var n in t||(t={}))ze.call(t,n)&&Fe(e,n,t[n]);if(Be)for(var n of Be(t))_e.call(t,n)&&Fe(e,n,t[n]);return e})({key:n.key,className:"DVRSetupDeviceSelector-device-vc7QcN",serverEntityID:e,deviceID:n.key,isSelectable:!0,isSelected:i,includeUri:!0,onSelectDevice:a},n))})))):null),r.createElement(R,null,r.createElement(C.Z,null,r.createElement(S.Z,{kind:w.TP,size:T.M2,onPress:o},(0,g.Z)("Cancel"))),r.createElement(C.Z,null,r.createElement(U,{isDisabled:!t}))))}}const We=He;var Qe=Object.defineProperty,Ge=Object.prototype.hasOwnProperty,Ye=Object.getOwnPropertySymbols,qe=Object.prototype.propertyIsEnumerable,Ke=(e,t,n)=>t in e?Qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const $e=(0,d.P1)((e=>e.ui.dvrSettingsUI.dvrSetup.devices),(e=>Ne().filter(e,(e=>!e.parentID&&e.status===ke.vh.ALIVE))));class Xe extends r.Component{constructor(e){super(e),this._discoverDevices=()=>{this.props.dispatchDiscoverDevices()},this._discoverTimeoutID=null,this.discoverDelay=2e3}componentDidMount(){(0,h.c9)((()=>{this.props.dispatchFetchDevices()})),this._discoverTimeoutID=window.setTimeout(this._discoverDevices,this.discoverDelay)}componentDidUpdate(e){!this.props.isDiscoveringDevices&&e.isDiscoveringDevices&&(this._discoverTimeoutID=window.setTimeout(this._discoverDevices,this.discoverDelay))}componentWillUnmount(){this._discoverTimeoutID&&window.clearTimeout(this._discoverTimeoutID)}render(){const e=this.props,{dispatchDiscoverDevices:t,dispatchFetchDevices:n}=e,i=((e,t)=>{var n={};for(var r in e)Ge.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ye)for(var r of Ye(e))t.indexOf(r)<0&&qe.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchDiscoverDevices","dispatchFetchDevices"]);return r.createElement(We,((e,t)=>{for(var n in t||(t={}))Ge.call(t,n)&&Ke(e,n,t[n]);if(Ye)for(var n of Ye(t))qe.call(t,n)&&Ke(e,n,t[n]);return e})({},i))}}const Je=(0,c.$j)((function(){return(0,d.P1)(m.Z,f,$e,((e,t,n)=>{const{isDiscoveringDevices:r,selectedDevice:i,addDevicePending:s}=e;return{isDiscoveringDevices:r,selectedDevice:i,setupErrorMessage:t,addDevicePending:s,devices:n}}))}),(function(e,t){const{serverEntityID:n}=t;return{dispatchDiscoverDevices(){e((0,p.Ps)({serverEntityID:n}))},dispatchFetchDevices(){e((0,p.LO)({serverEntityID:n}))},onAddDevice(t){e((0,p.S6)({serverEntityID:n,uri:t}))},onSelectDevice(t){e((0,p.Si)({serverEntityID:n,deviceID:t}))}}}))(Xe);var et=n(39374),tt=n(65671);const nt="DVRSetupUnsupportedDevice-info-1pu4Gq",rt=parseInt(G.Z.dvrSetupImageWidth,10),it=(0,c.$j)((function(){return(0,d.P1)(m.Z,(e=>{const{make:t,model:n,thumb:r}=e.selectedDevice;return{make:t,model:n,thumb:r}}))}))((function(e){const{serverEntityID:t,dvrID:n,make:i,model:s,thumb:a,onModalClose:o}=e;return r.createElement(k,{title:(0,g.Z)("Unsupported Tuner"),onModalClose:o},r.createElement(M.Z,{className:"DVRSetupUnsupportedDevice-unsupportedDeviceBody-1IS3jY ModalBody-modalBody-38ercY",scrollDirection:D.Hn},r.createElement("div",{className:"DVRSetupUnsupportedDevice-imageContainer-2mgfZq"},r.createElement(W.Z,{serverEntityID:t,make:i,model:s,thumb:a,width:rt,height:100}),r.createElement("div",{className:"DVRSetupUnsupportedDevice-makeModelContainer-1kZ1Ss"},r.createElement("div",null,i),r.createElement("div",null,s))),r.createElement("div",{className:nt},(0,g.Z)("Community Supported Tuners opens up your Plex account to access a larger variety of DVR tuners, many of which have been tested and are supported by the community. If your tuner hasn't been recognized by Plex DVR and you're up for a little adventure, this will allow you to use unsupported tuners that have not been tested by Plex.")),r.createElement("div",{className:nt},r.createElement(tt.Z,{message:(0,g.Z)("We recommend you review our {openLink}Community Supported Tuners{closeLink} article to learn about limitations, compatibility, and how to get involved."),tags:[{open:"openLink",close:"closeLink",component:_.Z,kind:w._8,to:et.hJ,target:"_blank"}]}))),r.createElement(R,null,r.createElement(C.Z,null,r.createElement(S.Z,{kind:w.TP,size:T.M2,onPress:o},(0,g.Z)("Cancel"))),r.createElement(C.Z,null,r.createElement(U,{dvrID:n,label:(0,g.Z)("Enable Unsupported Tuner")}))))}));var st=n(38248),at=n(98727),ot=n(74995),lt=n(3386),ct=n(45098),dt=n(89197);function ut(e){const{server:t,provider:n,sourceDirectory:i,setupErrorMessage:s,epgDownloadActivityID:a,progress:o,message:l,onModalClose:c}=e;let d;return n&&(d=(0,dt.ZP)(dt.tk.GUIDE,t,n,i)),r.createElement(k,{errorMessage:s,onModalClose:c},r.createElement(M.Z,null,r.createElement("div",{className:"EPGDownload-message-3P2hel"},r.createElement("div",null,(0,g.Z)("Setup complete!")),r.createElement("div",null,(0,g.Z)("You can now find your Guide and Recordings in the sidebar under \"Live TV & DVR\". While we're grabbing the guide data, you can start browsing; it will update automatically as we download what's on."))),a?r.createElement("div",null,r.createElement("div",{className:"EPGDownload-spinnerContainer-DHp88Y"},r.createElement($.Z,{size:90,progress:o}),r.createElement("div",{className:"EPGDownload-spinnerMessage-uEZxEq"},l))):null),r.createElement(L.Z,null,r.createElement(C.Z,null,r.createElement(S.Z,{kind:w.TP,size:T.M2,onPress:c},(0,g.Z)("Close")),r.createElement(S.Z,{kind:w._8,size:T.M2,to:d,isDisabled:!n},(0,g.Z)("View Guide")))))}ut.defaultProps={progress:0,message:""};const pt=ut;var mt=Object.defineProperty,ht=Object.prototype.hasOwnProperty,gt=Object.getOwnPropertySymbols,yt=Object.prototype.propertyIsEnumerable,vt=(e,t,n)=>t in e?mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ft=(0,c.$j)((function(){return(0,d.P1)(m.Z,f,(0,ot.Z)(),(0,d.P1)((0,st.Z)(),m.Z,at.Z,((e,{selectedDVR:t},n)=>{if(t&&e){for(let r=0;r<e.length;r++){const i=n[e[r]];if(i.identifier===t.epgIdentifier)return i}return null}})),(0,ct.Z)(),((e,t,n,r,i)=>{const{progress:s,subtitle:a}=i||{},o=(0,lt.Z)(r);return{server:n,provider:r,sourceDirectory:o&&o.directories&&o.directories.find((e=>e.hubKey&&!e.key)),setupErrorMessage:t,epgDownloadActivityID:e.epgDownloadActivityID,progress:s,message:a}}))}))((function(e){return r.createElement(pt,((e,t)=>{for(var n in t||(t={}))ht.call(t,n)&&vt(e,n,t[n]);if(gt)for(var n of gt(t))yt.call(t,n)&&vt(e,n,t[n]);return e})({},e))}));var bt=n(77414);function St({setupErrorMessage:e,progress:t,onModalClose:n}){return r.createElement(k,{errorMessage:e,onModalClose:n},r.createElement(M.Z,null,r.createElement("div",{className:"EPGMapping-message-2c8JcY"},r.createElement("div",null,(0,g.Z)("We're finding the best guide for your channels and location.")),r.createElement("div",null,(0,g.Z)("This should only take a few moments."))),r.createElement("div",{className:"EPGMapping-spinnerContainer-1KrcPO"},r.createElement($.Z,{size:90,progress:t}))),r.createElement(R,null,r.createElement(C.Z,null,r.createElement(S.Z,{kind:w.TP,size:T.M2,onPress:n},(0,g.Z)("Cancel")))))}St.defaultProps={progress:0};const It=St;var Zt=Object.defineProperty,Pt=Object.prototype.hasOwnProperty,Et=Object.getOwnPropertySymbols,Mt=Object.prototype.propertyIsEnumerable,Ct=(e,t,n)=>t in e?Zt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const wt={findBestEPGLineup:p.NS};class Dt extends r.Component{UNSAFE_componentWillMount(){this._populate(this.props)}_populate(e){(0,h.c9)((()=>{e.findBestEPGLineup({serverEntityID:e.serverEntityID})}))}render(){return r.createElement(It,((e,t)=>{for(var n in t||(t={}))Pt.call(t,n)&&Ct(e,n,t[n]);if(Et)for(var n of Et(t))Mt.call(t,n)&&Ct(e,n,t[n]);return e})({},this.props))}}const Tt=(0,c.$j)((function(){return(0,d.P1)(m.Z,f,(0,bt.Z)(),((e,t,n)=>{const r=Ne().find(n,{uuid:e.epgLineupActivityID}),{progress:i}=r||{};return{setupErrorMessage:t,progress:i}}))}),wt)(Dt);var Ot=n(18873),xt=n(73935);class At extends r.Component{constructor(e,t){super(e,t),this.onPostalCodeChange=e=>{this.setState({postalCode:e},(()=>{this.props.onPostalCodeChange(e)}))},this.state={postalCode:""}}UNSAFE_componentWillReceiveProps(e){this.state.postalCode!==e.postalCode&&this.setState({postalCode:e.postalCode})}focusInput(e){e&&xt.findDOMNode(e).focus()}render(){const e=this.props.postalCodeExample,t=this.state.postalCode;return r.createElement(je.Z,{name:"postalCodeInput",placeholder:`e.g. ${e}`,value:t,ref:this.focusInput,onChange:this.onPostalCodeChange})}}const Nt=At;var kt=Object.defineProperty,Lt=Object.prototype.hasOwnProperty,jt=Object.getOwnPropertySymbols,Rt=Object.prototype.propertyIsEnumerable,Vt=(e,t,n)=>t in e?kt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Ut extends r.Component{constructor(e,t){super(e,t),this._fetchEPGLineups=()=>{this.props.fetchEPGLineups({serverEntityID:this.props.serverEntityID})},this.onPostalCodeChange=e=>{this._postalCodeTimeoutID&&window.clearTimeout(this._postalCodeTimeoutID),(0,h.c9)((()=>{this.props.setEPGPostalCode({serverEntityID:this.props.serverEntityID,postalCode:e}),""!==e.trim()&&(this._postalCodeTimeoutID=window.setTimeout(this._fetchEPGLineups,200))}))},this._postalCodeTimeoutID=null}componentWillUnmount(){this._postalCodeTimeoutID&&window.clearTimeout(this._postalCodeTimeoutID)}render(){return r.createElement(Nt,((e,t)=>{for(var n in t||(t={}))Lt.call(t,n)&&Vt(e,n,t[n]);if(jt)for(var n of jt(t))Rt.call(t,n)&&Vt(e,n,t[n]);return e})({onPostalCodeChange:this.onPostalCodeChange},this.props))}}const zt=(0,c.$j)((function(e){return{postalCode:e.ui.dvrSettingsUI.dvrSetup.epgSettings.postalCode}}),y)(Ut),Bt="EPGSettings-fetchingSpinner-27Wplu Spinner-spinner-1mPhN9 spin-spin-34xiUE";class _t extends r.Component{constructor(e,t){super(e,t),this.onShowXMLTVEntryPress=()=>{this.setState({showXMLTVEntry:!this.state.showXMLTVEntry})},this.onLanguageSelect=e=>{this.props.onLanguageSelect(e)},this.onRegionSelect=e=>{this.props.onRegionSelect(e)},this.onXMLTVPathChange=e=>{this.setState({xmlTVPath:e},(()=>{this.props.onXMLTVProgramGuideChange(e,this.state.programGuideTitle)}))},this.onProgramGuideTitleChange=e=>{this.setState({programGuideTitle:e},(()=>{this.props.onXMLTVProgramGuideChange(this.state.xmlTVPath,e)}))},this.state={showXMLTVEntry:!1,xmlTVPath:"",programGuideTitle:(0,g.Z)("My Guide")}}render(){const{serverEntityID:e,platform:t,setupErrorMessage:n,isFetching:i,selectedLanguageCode:s,selectedRegionCode:a,languageOptions:o=[],regionOptions:l=[],languagesPopulated:c,regionsPopulated:d,canContinue:u,postalCodeExample:p,onSubmit:m,onModalClose:h}=this.props,{showXMLTVEntry:y,xmlTVPath:v,programGuideTitle:f}=this.state,b=c,D=!(!c||!p),O=!(!c||!d),x=[{"":(0,g.Z)("Select Language")},...o],A=[{"":(0,g.Z)("Select Region")},...l],N="Windows"===t?"C:\\path\\to\\your\\xmltv_file.xml":"/path/to/your/xmltv_file.xml";return r.createElement(I.ZP,{className:"EPGSettings-form-1bqVRD",onSubmit:m},r.createElement(k,{errorMessage:n,onModalClose:h},r.createElement(M.Z,null,r.createElement("div",{className:"EPGSettings-message-3FmW4d"},r.createElement("div",null,(0,g.Z)("To download an electronic guide we need to know your location.")),r.createElement(_.Z,{kind:w._8,onPress:this.onShowXMLTVEntryPress},y?(0,g.Z)("Don't use XMLTV? Click here to select your location instead."):(0,g.Z)("Have an XMLTV guide on your server? Click here to use that instead."))),y?r.createElement("div",null,c?r.createElement(Z.Z,null,r.createElement(P.Z,null,(0,g.Z)("Language")),r.createElement(E.Z,{name:"languageSelect",values:x,value:s,onChange:this.onLanguageSelect})):null,r.createElement(Z.Z,null,r.createElement(P.Z,null,(0,g.Z)("XMLTV Guide")),r.createElement(je.Z,{name:"xmltvPath",placeholder:N,value:v,onChange:this.onXMLTVPathChange})),r.createElement(Z.Z,null,r.createElement(P.Z,null,(0,g.Z)("Guide Title")),r.createElement(je.Z,{name:"programGuideTitle",value:f,onChange:this.onProgramGuideTitleChange}))):null,y?null:r.createElement("div",null,b?r.createElement(Z.Z,null,r.createElement(P.Z,null,(0,g.Z)("Language")),r.createElement(E.Z,{name:"languageSelect",values:x,value:s,onChange:this.onLanguageSelect})):null,D?r.createElement(Z.Z,null,r.createElement(P.Z,null,(0,g.Z)("Postal Code")),r.createElement(zt,{serverEntityID:e,postalCodeExample:p}),i?r.createElement(Ve.Z,{className:Bt}):null):null,O?r.createElement(Z.Z,null,r.createElement(P.Z,null,(0,g.Z)("Region")),r.createElement(E.Z,{className:"EPGSettings-regionInput-5pGfHQ SelectInput-input-_K0kCK input-input-3msd1_",name:"regionSelect",values:A,value:a,onChange:this.onRegionSelect}),i?r.createElement(Ve.Z,{className:Bt}):null):null)),r.createElement(R,null,r.createElement(C.Z,null,r.createElement(S.Z,{kind:w.TP,size:T.M2,onPress:h},(0,g.Z)("Cancel"))),r.createElement(C.Z,null,r.createElement(B,null),r.createElement(S.Z,{type:"submit",kind:w._8,size:T.M2,isDisabled:!u||i},(0,g.Z)("Continue"))))))}}const Ft=_t;var Ht=Object.defineProperty,Wt=Object.prototype.hasOwnProperty,Qt=Object.getOwnPropertySymbols,Gt=Object.prototype.propertyIsEnumerable,Yt=(e,t,n)=>t in e?Ht(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qt=(e,t)=>{for(var n in t||(t={}))Wt.call(t,n)&&Yt(e,n,t[n]);if(Qt)for(var n of Qt(t))Gt.call(t,n)&&Yt(e,n,t[n]);return e};const Kt=qt({dvrSetupNextStep:p.AV,selectEPGLineup:p._1},y);class $t extends r.Component{constructor(){super(...arguments),this.onLanguageSelect=e=>{this.props.selectEPGLanguage({serverEntityID:this.props.serverEntityID,languageCode:e})},this.onRegionSelect=e=>{this.props.selectEPGRegion({serverEntityID:this.props.serverEntityID,regionKey:e})},this.onSubmit=()=>{this.props.dvrSetupNextStep()},this.onXMLTVProgramGuideChange=(e,t)=>{if(!e||!t)return void this.props.selectEPGLineup({lineupUUID:null});const n=`lineup://tv.plex.providers.epg.xmltv/${(0,Ot.Z)(e)}#${encodeURIComponent(t)}`;this.props.selectEPGLineup({lineupUUID:n})}}UNSAFE_componentWillMount(){this._populate(this.props)}_populate(e){(0,h.c9)((()=>{const t=e.serverEntityID;e.fetchEPGLanguages({serverEntityID:t}),e.selectEPGLineup({lineupUUID:null})}))}render(){return r.createElement(Ft,qt({onLanguageSelect:this.onLanguageSelect,onRegionSelect:this.onRegionSelect,onPostalCodeChange:this.onPostalCodeChange,onXMLTVProgramGuideChange:this.onXMLTVProgramGuideChange,onSubmit:this.onSubmit},this.props))}}const Xt=(0,c.$j)((function(){return(0,d.P1)((0,ot.Z)(),m.Z,f,((e,t,n)=>{const{selectedLineupUUID:r,epgSettings:i}=t,{isFetching:s,selectedCountry:a,selectedLanguage:o,selectedRegion:l,languages:c,regions:d,lineupGroup:u}=i,p=a&&1===a.flavor?a.example:null,m=o?o.code:"",h=l?l.key:"",g=c.length>0,y=d.length>0,v=c.reduce(((e,t)=>(e.push({[t.code]:t.title}),e)),[]),f=d.reduce(((e,t)=>(e.push({[t.key]:t.title}),e)),[]);return{platform:e.platform,setupErrorMessage:n,selectedLineupUUID:r,selectedLanguageCode:m,selectedRegionCode:h,languagesPopulated:g,regionsPopulated:y,languageOptions:v,regionOptions:f,isFetching:s,postalCodeExample:p,canContinue:!(!u.lineups.length&&!r||!m)}}))}),Kt)($t);var Jt=n(70515),en=n(76490),tn=n(47066),nn=n(34249),rn=n(61986),sn=n(12525),an=n(46049);const on="DeviceChannelMappings-channelMappingsBody-26v_kE ModalBody-modalBody-38ercY",ln="DeviceChannelMappings-centeredContainer-2O_0f6",cn=(0,an.Z)((function(e){const{dvrID:t,setupErrorMessage:n,selectedLineupUUID:i,availableLineups:s,lineupChannels:a,lineupChannelOptions:o,channelMappings:l,isChannelMappingsPending:c,isLineupChannelsPending:d,isSavingDVR:u,channelMappingsErrorMessage:p,formState:m,allChannelMappingsEnabled:h,allChannelMappingsDisabled:y,onAllChannelMappingsEnabledChange:v,onFormStateChange:f,onLineupSelect:Z,onModalClose:P,onSubmit:x}=e,A=c||d,N=!!s.length,L=[{"":(0,g.Z)("Select Guide")},...s],j=i?decodeURIComponent(i.match(/#(.+?)$/)[1]):void 0;let V=!1,U=!1;for(let e=0;e<l.length&&(!V||!U);e++){const t=l[e];null==t.signalQuality&&null==t.signalStrength||(V=!0),(t.isDeviceChannelHD||t.isLineupChannelHD)&&(U=!0)}return r.createElement(I.ZP,{className:"DeviceChannelMappings-form-1VRFRb",formState:m,onChange:f,onSubmit:x},r.createElement(k,{errorMessage:n,onModalClose:P},p?r.createElement(M.Z,{className:on,scrollDirection:D.Hn},r.createElement("div",{className:ln},p)):null,p?null:r.createElement(M.Z,{className:on,scrollDirection:D.Hn},N?r.createElement("div",null,r.createElement("div",{className:"DeviceChannelMappings-programGuideLabel-2Ad7c3"},(0,g.Z)("Guide")),r.createElement("div",{className:"DeviceChannelMappings-programGuideSelectContainer-zqaHte"},r.createElement(E.Z,{name:"programGuide",values:L,value:i,onChange:Z}))):null,N?null:r.createElement("div",{className:"DeviceChannelMappings-programGuideTitle-RxDb6b"},j),A?r.createElement("div",{className:ln},r.createElement(Ve.Z,{label:(0,g.Z)("Loading channel mappings")})):null,!A&&i?r.createElement(b.Z,{className:"DeviceChannelMappings-scroller-19mOrF Scroller-vertical-3IY07c",autoScroll:!0},r.createElement(sn.Z,{showSignalStrength:V,allChannelMappingsEnabled:h,allChannelMappingsDisabled:y,onAllChannelMappingsEnabledChange:v}),l.map((e=>{const{key:t,deviceIdentifier:n,name:i,enabled:s,channelKey:l,lineupIdentifier:c,drm:d,signalStrength:u,signalQuality:p,isDeviceChannelHD:m,isLineupChannelHD:h,isChannelMissing:g}=e;return r.createElement(rn.Z,{key:t,name:t,initialValue:{enabled:s,channelKey:l,lineupIdentifier:c},deviceIdentifier:n,channelName:i,drm:d,signalStrength:p||u,isDeviceChannelHD:m,isLineupChannelHD:h,isChannelMissing:g,showResolution:U,lineupChannels:a,lineupChannelOptions:o})}))):null),r.createElement(R,null,r.createElement(C.Z,null,r.createElement(S.Z,{kind:w.TP,size:T.M2,onPress:P},(0,g.Z)("Cancel"))),r.createElement(C.Z,null,r.createElement(B,{dvrID:t}),r.createElement(O.Z,{type:"submit",kind:w._8,size:T.M2,isSpinning:u},(0,g.Z)("Continue"))))))}));var dn=Object.defineProperty,un=Object.prototype.hasOwnProperty,pn=Object.getOwnPropertySymbols,mn=Object.prototype.propertyIsEnumerable,hn=(e,t,n)=>t in e?dn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function gn(e,t){if(e){const t=Jt.Z.parseXML(e.responseText);if(t.message)return t.message}else{if(!t)return;{const e=Jt.Z.parseXML(t.responseText);if(e.message)return e.message}}return(0,g.Z)("Unable to load channel mappings")}const yn={fetchLineupChannels:p.BA,fetchChannelMap:p.US,selectEPGLineup:p._1,clearChannelMapError:p.SA,saveDVR:p.xj,addDVRDevice:p.s6};class vn extends r.Component{constructor(){super(...arguments),this.onLineupSelect=e=>{const{serverEntityID:t,selectedDevice:n}=this.props;e&&(this.props.selectEPGLineup({serverEntityID:t,lineupUUID:e}),this.props.fetchLineupChannels({serverEntityID:t,lineupUUID:e}),this.props.fetchChannelMap({serverEntityID:t,deviceUUID:n.uuid,lineupUUID:e,forceEnabled:!0}))},this.onAddDeviceSubmit=e=>{const{serverEntityID:t,dvrID:n,selectedDevice:r}=this.props;this.props.addDVRDevice({serverEntityID:t,dvrID:n,deviceID:r.key,data:e})},this.onSaveDVRSubmit=e=>{const{serverEntityID:t,selectedDevice:n}=this.props;this.props.saveDVR({serverEntityID:t,deviceID:n.key,data:e})}}UNSAFE_componentWillMount(){this._populate(this.props)}componentWillUnmount(){this.props.clearChannelMapError()}_populate(e){const t=e.serverEntityID,n=e.selectedDevice.uuid,r=e.selectedLineupUUID;r&&(0,h.c9)((()=>{e.fetchLineupChannels({serverEntityID:t,lineupUUID:r}),e.fetchChannelMap({serverEntityID:t,deviceUUID:n,lineupUUID:r,forceEnabled:!0})}))}render(){const e=this.props.dvrID;return r.createElement(cn,((e,t)=>{for(var n in t||(t={}))un.call(t,n)&&hn(e,n,t[n]);if(pn)for(var n of pn(t))mn.call(t,n)&&hn(e,n,t[n]);return e})({onLineupSelect:this.onLineupSelect,onSubmit:e?this.onAddDeviceSubmit:this.onSaveDVRSubmit},this.props))}}const fn=(0,c.$j)((function(){return(0,d.P1)(m.Z,f,nn.Z,tn.Z,(0,en.Z)(),((e,t,n,r,i)=>{const{selectedDevice:s,selectedLineupUUID:a,isChannelMappingsPending:o,isLineupChannelsPending:l,channelMappingsError:c,lineupChannelsError:d,isSavingDVR:u}=e;return{setupErrorMessage:t,selectedDevice:s,selectedLineupUUID:a,availableLineups:Ne().reduce(e.epgSettings.lineupGroup.lineups,((e,t)=>(e.push({[t.uuid]:t.title}),e)),[]),lineupChannels:n,lineupChannelOptions:r,channelMappings:i,isChannelMappingsPending:o,isLineupChannelsPending:l,isSavingDVR:u,channelMappingsErrorMessage:gn(c,d)}}))}),yn)(vn);var bn=Object.defineProperty,Sn=Object.prototype.hasOwnProperty,In=Object.getOwnPropertySymbols,Zn=Object.prototype.propertyIsEnumerable,Pn=(e,t,n)=>t in e?bn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,En=(e,t)=>{for(var n in t||(t={}))Sn.call(t,n)&&Pn(e,n,t[n]);if(In)for(var n of In(t))Zn.call(t,n)&&Pn(e,n,t[n]);return e};const Mn={clearDVRSetup:p.SB};class Cn extends r.Component{componentWillUnmount(){this.props.clearDVRSetup()}render(){const e=this.props,{step:t}=e,n=((e,t)=>{var n={};for(var r in e)Sn.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&In)for(var r of In(e))t.indexOf(r)<0&&Zn.call(e,r)&&(n[r]=e[r]);return n})(e,["step"]);switch(t){case u.C.DEVICE:return r.createElement(Je,En({},n));case u.C.UNSUPPORTED_DEVICE:return r.createElement(it,En({},n));case u.C.DEVICE_CHANNELS:return r.createElement(xe,En({},n));case u.C.EPG:return r.createElement(Xt,En({},n));case u.C.EPG_MAPPING:return r.createElement(Tt,En({},n));case u.C.CHANNEL_MAPPING:return r.createElement(fn,En({},n));case u.C.EPG_DOWNLOAD:return r.createElement(ft,En({},n))}}}const wn=(0,c.$j)((function(){return(0,d.P1)(m.Z,(e=>({step:e.step})))}),Mn)(Cn);var Dn=Object.defineProperty,Tn=Object.prototype.hasOwnProperty,On=Object.getOwnPropertySymbols,xn=Object.prototype.propertyIsEnumerable,An=(e,t,n)=>t in e?Dn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nn=(e,t)=>{for(var n in t||(t={}))Tn.call(t,n)&&An(e,n,t[n]);if(On)for(var n of On(t))xn.call(t,n)&&An(e,n,t[n]);return e};class kn extends r.Component{constructor(){super(...arguments),this.onModalClose=()=>{(0,i.DB)("metrics").trackClick(Nn(Nn({},this.props.metricsProperties),{page:a.od,action:s.GP})),this.props.onModalClose()}}shouldComponentUpdate(e,t){return(0,o.Z)(this,e,t)}render(){const{serverEntityID:e,dvrID:t,isOpen:n,metricsProperties:i}=this.props;return r.createElement(l.Z,{className:"DVRSetupModal-modal-2lRY8d Modal-medium-3YP8Mf Modal-modal-23PFoV",isOpen:n,metricsPage:a.od,metricsProperties:i,preventCloseOnBackdropPress:!0,onModalClose:this.onModalClose},r.createElement(wn,{serverEntityID:e,dvrID:t,onModalClose:this.onModalClose}))}}const Ln=kn},68534:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),i=n(43827),s=n(10487),a=n(29321),o=n(59628),l=n(89592);function c(e){const{className:t,width:n,height:c,signalStrength:d}=e;if(null==d)return null;const u=function(e){return e<=20?i:e<=40?s:e<=60?a:e<=80?o:e<=100?l:void 0}(d);return r.createElement("div",{className:t},r.createElement("img",{src:u,width:n,height:c}))}c.defaultProps={className:"SignalStrength-signalStrength-2BhMGB",width:23,height:18};const d=c},50775:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),i=n(5562),s=n(38035);const a=function({className:e,networks:t}){const n=t.reduce(((e,t)=>(e.push({[t.key]:t.title}),e)),[{"":(0,i.Z)("Select Network")}]);return r.createElement("div",{className:e},r.createElement(s.Z,{name:"network",labelText:"Network",initialValue:"",values:n}))}},5162:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),i=n(5562),s=n(55344),a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};const p=function({className:e,prefs:t}){return r.createElement("div",{className:e},t.map((e=>{const{id:t,value:n,enumValues:a,label:o}=e,l=Array.isArray(a)?[{label:(0,i.Z)("Select {label}",{label:o}),value:""},...a]:void 0;return r.createElement(s.Z,u(u({key:t},e),{value:null==n?"":n,enumValues:l}))})))}},61986:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(94184),i=n.n(r),s=n(67294),a=n(5562),o=n(39409),l=n(20723),c=n(18246),d=n(51221),u=n(82378),p=n(94373),m=n(68534);const h=function(){return s.createElement(o.Z,{className:"EPGChannelResolution-resolution-3oEieO Badge-badge-waFP_r"},"HD")},g="DeviceChannelMapping-mappingDisabled-3H64gU";class y extends s.Component{constructor(e,t){super(e,t),this.onSelectPress=e=>{this.setState({showSelectOptions:!0})},this.onEnabledChange=e=>{this.setState({enabled:e},(()=>{this.props.onChange({enabled:e,channelKey:this.state.channelKey,lineupIdentifier:this.state.lineupIdentifier})}))},this.onLineupChannelChange=e=>{const{channelKey:t,lineupIdentifier:n}=JSON.parse(e||{});this.setState({channelKey:t,lineupIdentifier:n},(()=>{this.props.onChange({enabled:this.state.enabled,channelKey:t,lineupIdentifier:n})}))},this.state={enabled:e.initialValue.enabled,channelKey:e.initialValue.channelKey,lineupIdentifier:e.initialValue.lineupIdentifier,showSelectOptions:!1}}UNSAFE_componentWillReceiveProps(e){const{enabled:t,lineupIdentifier:n}=this.state,{enabled:r,lineupIdentifier:i}=e.value;t===r&&n===i||this.setState(this.props.value)}shouldComponentUpdate(e,t){return t.enabled!==this.state.enabled||t.channelKey!==this.state.channelKey||t.lineupIdentifier!==this.state.lineupIdentifier||t.showSelectOptions!==this.state.showSelectOptions||e.deviceIdentifier!==this.props.deviceIdentifier||e.channelName!==this.props.channelName||e.initialValue.enabled!==this.props.initialValue.enabled||e.initialValue.lineupIdentifier!==this.props.initialValue.lineupIdentifier||e.initialValue.channelKey!==this.props.initialValue.channelKey||e.value.enabled!==this.props.value.enabled||e.value.lineupIdentifier!==this.props.value.lineupIdentifier||e.value.channelKey!==this.props.value.channelKey||e.lineupChannels!==this.props.lineupChannels}render(){const{name:e,deviceIdentifier:t,channelName:n,drm:r,signalStrength:d,isDeviceChannelHD:y,isLineupChannelHD:v,isChannelMissing:f,showResolution:b,lineupChannels:S,lineupChannelOptions:I}=this.props,{enabled:Z,channelKey:P,lineupIdentifier:E}=this.state;if(f)return null;const M=S.find((e=>P&&E?e.key===P&&e.identifier===E:P?e.key===P:E?e.identifier===E:void 0)),C=M?(0,p.Z)(M):null,w=JSON.stringify({channelKey:P,lineupIdentifier:E});return s.createElement("div",{className:"DeviceChannelMapping-channelMapping-3XAZUt"},s.createElement("div",{className:"DeviceChannelMapping-deviceInfo-29oKnX"},s.createElement("div",{className:"DeviceChannelMapping-channelEnabled-3-W9nM"},r?null:s.createElement(l.Z,{name:`${e}Check`,value:Z,onChange:this.onEnabledChange})),s.createElement("label",{className:i()("DeviceChannelMapping-deviceIdentifier-1xGTln",!Z&&g),htmlFor:`${e}Check`},t),s.createElement("div",{className:i()("DeviceChannelMapping-channelName-1wvluh",!Z&&g)},n),s.createElement(m.Z,{className:"DeviceChannelMapping-signalStrength-1NtXLo SignalStrength-signalStrength-2BhMGB",signalStrength:d})),r?s.createElement("div",{className:"DeviceChannelMapping-drmChannel-myiCk2"},s.createElement(o.Z,{className:"DeviceChannelMapping-drmChannelBadge-1kp_22"},(0,a.Z)("Protected"))):s.createElement("div",{className:"DeviceChannelMapping-epgChannel-3bFk6C"},s.createElement(c.Z,{name:`${e}Select`,value:w,values:this.state.showSelectOptions?I:[{[w]:Z?C||(0,a.Z)("Select Channel"):C}],size:u.HC,isDisabled:!Z,onMouseDown:this.onSelectPress,onTouchStart:this.onSelectPress,onChange:this.onLineupChannelChange}),b?s.createElement("div",{className:"DeviceChannelMapping-resolutionContainer-krvVCY"},y||v?s.createElement(h,null):null):null))}}const v=(0,d.Z)(y)},12525:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),i=n(5562),s=n(20723);const a=function(e){const{showSignalStrength:t,allChannelMappingsEnabled:n,allChannelMappingsDisabled:a,onAllChannelMappingsEnabledChange:o}=e;let l=null;return n?l=!0:a&&(l=!1),r.createElement("div",{className:"DeviceChannelMappingsHeader-container-36Wbq3"},r.createElement("div",{className:"DeviceChannelMappingsHeader-deviceChannelsContainer-319IUq"},r.createElement(s.Z,{name:"toggleAll",value:l,onChange:o}),r.createElement("div",{className:"DeviceChannelMappingsHeader-deviceChannelsPadding-_mC1js"}),r.createElement("div",{className:"DeviceChannelMappingsHeader-deviceChannels-2qjpiA"},(0,i.Z)("Device Channels")),t?r.createElement("div",{className:"DeviceChannelMappingsHeader-signalStrength-tb6bsm"},(0,i.Z)("Strength")):null),r.createElement("div",{className:"DeviceChannelMappingsHeader-guideChannels-2CDNzg"},(0,i.Z)("Guide Channels")))}},46049:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=n(48494),s=Object.defineProperty,a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e};const u=function(e){var t;return(t=class extends r.Component{constructor(e,t){super(e,t),this.onFormStateChange=e=>{let t=!0,n=!0;Object.keys(e).forEach((r=>{e[r].value.enabled?n=!1:t=!1})),this.setState({formState:e,allChannelMappingsEnabled:t,allChannelMappingsDisabled:n})},this.onAllChannelMappingsEnabledChange=e=>{this.setState((t=>{const n={};return Object.keys(t.formState).forEach((r=>{const i=t.formState[r].value;i.enable===e?n[r]=t.formState[r]:n[r]=d(d({},t.formState[r]),{value:{enabled:e,lineupIdentifier:i.lineupIdentifier}})})),{formState:n,allChannelMappingsEnabled:e,allChannelMappingsDisabled:!e}}))},this.state={formState:{},allChannelMappingsEnabled:!1,allChannelMappingsDisabled:!1}}render(){const{allChannelMappingsEnabled:t,allChannelMappingsDisabled:n}=this.state;return r.createElement(e,d({formState:this.state.formState,allChannelMappingsEnabled:t,allChannelMappingsDisabled:n,onFormStateChange:this.onFormStateChange,onAllChannelMappingsEnabledChange:this.onAllChannelMappingsEnabledChange},this.props))}}).displayName=`DeviceChannelMappingsForm(${(0,i.Z)(e)})`,t.WrappedComponent=e,t}},34504:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(45697),i=n.n(r),s=n(67294),a=n(89969),o=n(73862);const l={dispatchUpdateDownloadAvailability:o.updateDownloadAvailability,dispatchUpdateDownloadSubscriptionIDs:o.updateDownloadSubscriptionIDs};function c(e){const{dispatchUpdateDownloadAvailability:t,dispatchUpdateDownloadSubscriptionIDs:n,metadataItemEntityID:r,providerEntityID:i}=e;return(0,s.useEffect)((()=>{const e={metadataItemEntityID:r,providerEntityID:i};t(e),n(e)}),[t,n,r,i]),null}c.propTypes={metadataItemEntityID:i().string.isRequired,providerEntityID:i().string.isRequired,dispatchUpdateDownloadAvailability:i().func.isRequired,dispatchUpdateDownloadSubscriptionIDs:i().func.isRequired};const d=(0,a.$j)(null,l)(c)},58501:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(67294),i=n(5562),s=n(71321),a=n(27028),o=n(55255),l=n(90653),c=n(47636),d=n(14651),u=n(84807),p=n(6103),m=n(8403);function h(e){const{title:t,attribution:n,route:i,sourceTitle:s}=e;return r.createElement(m.Z,{className:"MetadataHubCellHeader-title-vPjgkk HubCellTitle-hubCellTitle-3JEg8R"},n?r.createElement(d.Z,{className:"MetadataHubCellHeader-attribution-3McSRi",attribution:n}):null,i?r.createElement(p.Z,{to:i},t):t,s?r.createElement(u.Z,{className:"MetadataHubCellHeader-titleSeparator-19Gt9X DashSeparator-separator-3r2G27"}):null,s?r.createElement("span",{className:"MetadataHubCellHeader-sourceTitle-MxUJmY"},s):null)}var g=n(86795),y=n(12589),v=n(67641);const f="HubCell-hubScrollButton-u6HMl5";class b extends r.Component{constructor(e,t){super(e,t),this.onListUpdate=e=>{const{visibleStartIndex:t,visibleEndIndex:n,renderEndIndex:r,listStyle:i}=e,{onListReady:s}=this.props,a=this._isReady?void 0:s;this._isReady=!0,this._visibleStartIndex=t,this._visibleEndIndex=n,this._pageSize=this._visibleEndIndex-this._visibleStartIndex;const o=t>0,l=r>n;this.setState({showActions:o||l,enablePrevious:o,enableNext:l,listHeight:i.height},a)},this.onListScrollIndexChange=e=>{this._setScrollIndex(e)},this.onPreviousPress=()=>{this._setScrollIndex(this._visibleStartIndex-this._pageSize-1)},this.onNextPress=()=>{this._setScrollIndex(this._visibleEndIndex+1)},this.state={showActions:!1,enablePrevious:!1,enableNext:!1,listHeight:"auto",scrollIndex:this.props.scrollIndex||0},this._isReady=!1,this._listRef=r.createRef()}static getDerivedStateFromProps(e,t){return null!=e.scrollIndex&&e.scrollIndex!==t.scrollIndex?{scrollIndex:e.scrollIndex}:null}componentDidMount(){this.props.more&&!this.props.totalSize&&this.props.onPageRequest({startIndex:0,endIndex:this.props.size||1}),this.props.more||this.props.size||this.props.totalSize||(this._isReady=!0,this.props.onListReady&&this.props.onListReady())}shouldComponentUpdate(e,t){return(0,c.Z)(this,e,t)}componentDidUpdate(e){this._isReady||!e.isPending||this.props.isPending||(this._isReady=!0,this.props.onListReady&&this.props.onListReady())}_setScrollIndex(e){this.props.onListScrollIndexChange&&this.props.onListScrollIndexChange(e),null==this.props.scrollIndex&&this.setState({scrollIndex:e})}render(){const{className:e,hubIdentifier:t,title:n,style:l,sourceTitle:c,attribution:d,route:u,scrollDirection:p,size:m,more:b,random:S,totalSize:I,keyPropName:Z,itemsOffset:P,items:E,layout:M,cellRenderer:C,resizeTimeout:w,onPageRequest:D}=this.props,{showActions:T,enablePrevious:O,enableNext:x,listHeight:A}=this.state;if(!m&&!I)return null;const N=S?m:I||(b?m+1:m),k={visibility:"auto"===A?"hidden":"visible"},L={height:A,overflow:"hidden"},j=l!==s.VJ;return r.createElement("div",{className:e,style:k,"data-qa-id":"hub--"+t},j?r.createElement(v.Z,{className:"HubCell-hubCellHeader-wCcWjY HubCellHeader-hubCellHeader-G-yd6D"},r.createElement(h,{title:n,attribution:d,route:u,sourceTitle:c}),T?r.createElement("div",{className:"HubCell-hubActions-33h5ks"},r.createElement(a.Z,{className:f,"data-qa-id":"hubPreviousButton",iconComponent:y.Z,isDisabled:!O,title:(0,i.Z)("Previous Page"),onPress:this.onPreviousPress}),r.createElement(a.Z,{className:f,"data-qa-id":"hubNextButton",iconComponent:g.Z,isDisabled:!x,title:(0,i.Z)("Next Page"),onPress:this.onNextPress})):null):null,r.createElement("div",{style:L},r.createElement(o.Z,{scrollerClassName:"HubCell-hubScroller-1NdS3v VirtualListScroller-scroller-36RMyc",ignoreHeight:!0,keyPropName:Z,items:E,itemsOffset:P,scrollDirection:p,scrollIndex:this.state.scrollIndex,shouldCenterScrollIndex:this.props.shouldCenterScrollIndex,size:Math.min(1e4,N),layout:M,cellRenderer:C,resizeTimeout:w,ref:this._listRef,onListUpdate:this.onListUpdate,onListScrollIndexChange:this.onListScrollIndexChange,onPageRequest:D})))}}b.defaultProps={className:"HubCell-hubCell-2uIdEm",shouldCenterScrollIndex:!1,scrollDirection:l._y};const S=b},67641:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294);class i extends r.Component{render(){const{children:e,className:t}=this.props;return r.createElement("div",{className:t},e)}}i.defaultProps={className:"HubCellHeader-hubCellHeader-G-yd6D"};const s=i},8403:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294);function i({children:e,className:t}){return r.createElement("div",{className:t,"data-qa-id":"hubTitle"},e)}i.defaultProps={className:"HubCellTitle-hubCellTitle-3JEg8R"};const s=i},71024:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(67294),i=n(89969),s=n(22222),a=n(50091),o=n(27082),l=n(29414),c=n(53181),d=n(59468),u=Object.defineProperty,p=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&g(e,n,t[n]);if(m)for(var n of m(t))h.call(t,n)&&g(e,n,t[n]);return e};const v={dispatchPopulateMetadataList:l.CF,dispatchPopulateMetadataListRange:l.vp,dispatchDeselectAllMetadataListItems:l.m8,dispatchResetMetadataList:l.wZ};class f extends r.Component{constructor(){super(...arguments),this.onPageRequest=e=>{const{metadataListEntityID:t,disableReloadThreshold:n,dispatchPopulateMetadataListRange:r}=this.props;r(y({metadataListEntityID:t,disableReloadThreshold:n},e))}}UNSAFE_componentWillMount(){this._populate()}UNSAFE_componentWillReceiveProps(e){const{containerKey:t,metadataListEntityID:n}=e;t===this.props.containerKey&&n===this.props.metadataListEntityID||this._populate(e)}componentWillUnmount(){const{metadataListEntityID:e,shouldResetOnUnmount:t}=this.props;this.props.dispatchDeselectAllMetadataListItems({metadataListEntityID:e}),t&&this.props.dispatchResetMetadataList({metadataListEntityID:e})}_populate(e=this.props){const{entityKey:t,metadataListEntityID:n,initialSize:r,dispatchPopulateMetadataList:i,dispatchPopulateMetadataListRange:s}=e;r&&(0,o.c9)((()=>{t&&this.props.dispatchResetMetadataList({metadataListEntityID:n}),r===1/0?i({metadataListEntityID:n}):s({metadataListEntityID:n,startIndex:0,endIndex:r-1,pages:1})}))}render(){const e=this.props,{component:t,dispatchPopulateMetadataListRange:n,dispatchDeselectAllMetadataListItems:i,dispatchResetMetadataList:s}=e,a=((e,t)=>{var n={};for(var r in e)p.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&m)for(var r of m(e))t.indexOf(r)<0&&h.call(e,r)&&(n[r]=e[r]);return n})(e,["component","dispatchPopulateMetadataListRange","dispatchDeselectAllMetadataListItems","dispatchResetMetadataList"]);return r.createElement(t,y(y({},a),{onPageRequest:this.onPageRequest}))}}f.defaultProps={disableReloadThreshold:!1,shouldResetOnUnmount:!1};const b=(0,i.$j)((function(){return(0,s.P1)((0,s.P1)(((e,{columnAdjustment:t})=>t),d.Z,((e,t)=>e||t.columnAdjustment)),(0,a.Z)(),c.Z,((e,t,n)=>({metadataItemEntityIDs:t.metadataItems,entityKey:t.entityKey,containerKey:t.containerKey||t.key,disableReloadThreshold:!!n.activeSelectionType,columnAdjustment:e,totalSize:t.totalSize,librarySectionID:t.librarySectionID,populatedRange:t.populatedRange,allowSync:t.allowSync,isPending:t.isPending,isPopulated:t.isPopulated,isMetaPopulated:t.isMetaPopulated,error:t.error,firstItemType:t.firstItemType,firstItemSubtype:t.firstItemSubtype,isFirstItemLibraryItem:t.isFirstItemLibraryItem,isDirectoryList:t.isDirectoryList,isChannelsList:t.isChannelsList})))}),v)(f)},42980:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(89969),i=n(22222),s=n(81017),a=n(77342),o=n(29414),l=n(98727),c=n(97911),d=n(52265),u=n(69881),p=n(48022),m=n(53181),h=n(22602),g=n(60208),y=n(67294),v=n(5562),f=n(11956),b=n(51792),S=n(97863),I=n(97930),Z=n(76639);var P=Object.defineProperty,E=Object.prototype.hasOwnProperty,M=Object.getOwnPropertySymbols,C=Object.prototype.propertyIsEnumerable,w=(e,t,n)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var D=Object.defineProperty,T=Object.prototype.hasOwnProperty,O=Object.getOwnPropertySymbols,x=Object.prototype.propertyIsEnumerable,A=(e,t,n)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N=(e,t)=>{for(var n in t||(t={}))T.call(t,n)&&A(e,n,t[n]);if(O)for(var n of O(t))x.call(t,n)&&A(e,n,t[n]);return e};const k=(0,r.$j)((function(){return(0,i.P1)(((e,{listContext:t})=>t),((e,{cellWidth:t})=>t),((e,{displayFieldDefinitions:t})=>t),(0,s.Z)(),(0,i.P1)(((e,{listType:t})=>t),(0,s.Z)(),((e,t)=>{if(!t)return e;const n=e===p.pV&&t.type===u.CLIP,r=e===p.vu&&t.type===u.MOVIE;return n||r?e:t.extraType?p.V4:t.type})),(0,i.P1)(((e,{listSubtype:t})=>t),(0,s.Z)(),((e,t)=>t?t.subtype:e)),(0,d.Z)(),(0,c.Z)(),m.Z,(0,i.P1)(((e,{providerEntityID:t})=>t),l.Z,(0,s.Z)(),((e,t,n={})=>!!t[n.providerEntityID||e])),((e,t,n,r={},i,s,o,l,c,d)=>{var u;const p=(0,g.Z)(t,null,i,s,r,e);return{itemServerEntityID:r.serverEntityID,itemProviderEntityID:r.providerEntityID,isFeaturedHub:(0,a.Z)(e),metadataKey:r.key,displayFieldDefinitions:n,displayFields:(null==(u=r.Context)?void 0:u.displayFields)||(0,h.Z)(i,s,n),type:i,subtype:s,selectionType:o,activeSelectionType:c.activeSelectionType,isSelected:l,icon:r.icon,imageWidth:p.width,imageHeight:p.height,imageUrl:p.url,isFolder:r.isFolder,isUnavailable:!d}}))}),(function(e,t){const{metadataListEntityID:n}=t;return{onSelectItem(t){e((0,o.wr)(N({metadataListEntityID:n},t)))},onDeselectItem(t){e((0,o.g8)(N({metadataListEntityID:n},t)))}}}))((function(e){const t=e,{className:n,serverEntityID:r,providerEntityID:i,metadataItemEntityID:s,searchResultEntityID:a,containerKey:o,cellIndex:l,cellX:c,cellY:d,cellWidth:u,cellHeight:p,isVirtual:m,isVisible:g,isScrolling:P,listType:D,listContext:T,titleComponents:O,isFeaturedHub:x,metadataKey:A,displayFields:N,displayFieldDefinitions:k,type:L,subtype:j,selectionType:R,activeSelectionType:V,isSelected:U,isUnavailable:z,imageWidth:B,imageHeight:_,imageUrl:F,onSelectItem:H,onDeselectItem:W}=t,Q=((e,t)=>{var n={};for(var r in e)E.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&M)for(var r of M(e))t.indexOf(r)<0&&C.call(e,r)&&(n[r]=e[r]);return n})(t,["className","serverEntityID","providerEntityID","metadataItemEntityID","searchResultEntityID","containerKey","cellIndex","cellX","cellY","cellWidth","cellHeight","isVirtual","isVisible","isScrolling","listType","listContext","titleComponents","isFeaturedHub","metadataKey","displayFields","displayFieldDefinitions","type","subtype","selectionType","activeSelectionType","isSelected","isUnavailable","imageWidth","imageHeight","imageUrl","onSelectItem","onDeselectItem"]),G=(0,f.Z)(e),Y=!A,q=Y||z||G.isPlaceholder,K=(0,Z.d)(O,D,L,j,T,N||(0,h.Z)(L,j,k),k),$=x?K.slice(0,2):[],X=x?K.slice(2):K;return y.createElement("div",{className:n,style:G.style,"data-qa-id":"cellItem"},q?y.createElement(S.Z,{imageWidth:B,imageHeight:_,isSelected:U}):y.createElement(b.Z,((e,t)=>{for(var n in t||(t={}))E.call(t,n)&&w(e,n,t[n]);if(M)for(var n of M(t))C.call(t,n)&&w(e,n,t[n]);return e})({serverEntityID:r,providerEntityID:i,metadataItemEntityID:s,containerKey:o,listType:D,listContext:T,metadataKey:A,type:L,imageWidth:B,imageHeight:_,imageUrl:F,selectionType:R,activeSelectionType:V,isSelected:U,onSelectItem:H,onDeselectItem:W},Q)),y.createElement("div",{"data-qa-id":"metadataTitleContainer",className:x?"MetadataPosterCell-continueWatchingTitleContainer-2pzpUH":"MetadataPosterCell-titleContainer-1hTuNQ"},Y?(0,v.Z)("Loading..."):null,!Y&&$.length?y.createElement("div",{className:"MetadataPosterCell-splitTitleContainer-UnIpGe"},$.map(((t,n)=>y.createElement(I.Z,{key:n,serverEntityID:r,providerEntityID:i,metadataItemEntityID:s,searchResultEntityID:a,containerKey:o,metricsContext:e.metricsContext,component:t,isSecondary:n>0,isDoubleLine:t.isDoubleLine,isSplitLine:!0})))):null,Y?null:X.map(((t,n)=>t?y.createElement(I.Z,{key:n,serverEntityID:r,providerEntityID:i,metadataItemEntityID:s,searchResultEntityID:a,containerKey:o,metricsContext:e.metricsContext,component:t,isSecondary:$.length+n>0,isDoubleLine:t.isDoubleLine}):null))))}))},78189:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(89969),i=n(22222),s=n(44693),a=n(67294),o=n(5562),l=n(14700),c=n(9119),d=n(71024),u=n(30426),p=n(68105),m=n(81017);const h=(0,i.P1)((0,m.Z)(),(({ratingKey:e,title:t})=>({ratingKey:e,title:t}))),g=(0,r.$j)(h)((function(e){const{ratingKey:t,title:n,onPress:r}=e,i=(0,a.useCallback)((()=>r(t)),[r,t]);return a.createElement(l.Z,{className:"MetadataMenuItem-item-28xIgE",onPress:i},n)}));function y(e){const{metadataItemEntityIDs:t,showTopSeparator:n,header:r,onItemPress:i}=e;return t.length?a.createElement(a.Fragment,null,n&&t.length?a.createElement(p.Z,null):null,r?a.createElement(u.Z,null,r):null,t.map((e=>a.createElement(g,{key:e,metadataItemEntityID:e,onPress:i})))):null}y.defaultProps={showTopSeparator:!0};const v=y,f=(0,i.P1)((e=>e.ui.addToPlaylistMenu.recentPlaylists),(e=>({recentPlaylists:e}))),b=(0,r.$j)(f,(function(e,t){const{serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,metadataListEntityID:a}=t;return{onInitMenu(){e((0,s.u0)({serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,metadataListEntityID:a}))},onClearMenu(){e((0,s.rg)())},onAddToExistingPlaylistPress(t){e((0,s.uM)({providerEntityID:r,playlistID:t}))}}}))((function(e){const{showAddToPlaylist:t,showAddToSmartPlaylist:n,recentPlaylists:r,customFilterRoute:i,onAddToPlaylistPress:s,onAddToSmartPlaylistPress:u,onAddToExistingPlaylistPress:p,onInitMenu:m,onClearMenu:h,onMenuClose:g}=e;(0,a.useEffect)((()=>(m(),h)),[h,m]);const y=!!i;return a.createElement(a.Fragment,null,t?a.createElement(l.Z,{onPress:s},(0,o.Z)("Add to Playlist...")):null,n?a.createElement(l.Z,{onPress:u},(0,o.Z)("Save as Smart Playlist...")):null,y?a.createElement(l.Z,{to:i},(0,o.Z)("Create Smart Playlist")):null,r?a.createElement(d.Z,{metadataListEntityID:r,component:v,initialSize:3,showTopSeparator:t||y,header:(0,o.Z)("Add to..."),onItemPress:(0,c.Z)(p,g)}):null)}))},1691:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_e});var r=n(89969),i=n(22222),s=n(11203),a=n(79932),o=n(81017),l=n(757),c=n(20531),d=n(74253),u=n(89984),p=n(87691),m=n(6055),h=n(73862),g=n(3568),y=n(45992),v=n(27154),f=n(67294),b=n(13469),S=n.n(b),I=n(88050),Z=n(17524),P=n(5562),E=n(61478),M=n(74287),C=n(14700),w=n(68105),D=n(66322),T=n(9119),O=n(60528),x=n(57501),A=n(90980),N=n(3345),k=n(98727),L=n(36237),j=n(45399),R=n(69881),V=n(3386),U=n(96508);const z="AddToLibraryMenuItem-item-2f2S4j";var B=Object.defineProperty,_=Object.prototype.hasOwnProperty,F=Object.getOwnPropertySymbols,H=Object.prototype.propertyIsEnumerable,W=(e,t,n)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Q extends f.Component{constructor(){super(...arguments),this.createOnPress=e=>{const{metadataItemEntityID:t,onItemPress:n}=this.props;return()=>n(((e,t)=>{for(var n in t||(t={}))_.call(t,n)&&W(e,n,t[n]);if(F)for(var n of F(t))H.call(t,n)&&W(e,n,t[n]);return e})({metadataItemEntityID:t},e))}}render(){const{serverDirectories:e,hasMultipleServers:t,onMenuClose:n}=this.props;if(!e||!e.length)return null;if(1===e.length){const t=e[0].title,r=(0,P.Z)("Add to {libraryTitle}",{libraryTitle:t});return f.createElement(C.Z,{className:z,title:r,onPress:(0,T.Z)(this.createOnPress(e[0]),n)},r)}return f.createElement(U.Z,{label:(0,P.Z)("Add to Library"),onMenuClose:n},e.map(((e,r)=>{var i=e,{serverFriendlyName:s,title:a}=i,o=((e,t)=>{var n={};for(var r in e)_.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&F)for(var r of F(e))t.indexOf(r)<0&&H.call(e,r)&&(n[r]=e[r]);return n})(i,["serverFriendlyName","title"]);const l=a+(t?` (${s})`:"");return f.createElement(C.Z,{key:r,className:z,title:l,onPress:(0,T.Z)(this.createOnPress(o),n)},l)})))}}const G=Q,Y=(0,i.P1)(k.Z,L.Z,((e,t)=>{let n=0;return{serverDirectories:t.reduce(((t,r)=>{if(r.isOutOfDate||!r.ownerFeatures.includes(j.Ao))return t;const i=function(e,t){return e.reduce(((e,n)=>{const r=(0,V.Z)(n),i=(r?r.directories:[]).filter((e=>e.type===t));return e.push(...i),e}),[])}(r.providers.map((t=>e[t])),R.ARTIST);i.length&&(n+=1);const s=i.map((e=>({serverEntityID:r.entityID,serverFriendlyName:r.friendlyName,title:e.title,sectionKey:e.key})));return t.push(...s),t}),[]),hasMultipleServers:n>1}})),q={onItemPress:s.Zo},K=(0,r.$j)(Y,q)(G);var $=n(19469),X=n(69605),J=n(1088),ee=n(10825),te=n(69713),ne=n(84807),re=n(34377),ie=n(36245),se=Object.defineProperty,ae=Object.prototype.hasOwnProperty,oe=Object.getOwnPropertySymbols,le=Object.prototype.propertyIsEnumerable,ce=(e,t,n)=>t in e?se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const de=function(e){const t=e,{mediaItems:n}=t,r=((e,t)=>{var n={};for(var r in e)ae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&oe)for(var r of oe(e))t.indexOf(r)<0&&le.call(e,r)&&(n[r]=e[r]);return n})(t,["mediaItems"]);return f.createElement(re.Z,((e,t)=>{for(var n in t||(t={}))ae.call(t,n)&&ce(e,n,t[n]);if(oe)for(var n of oe(t))le.call(t,n)&&ce(e,n,t[n]);return e})({title:(0,P.Z)("Play Version"),metricsPage:X.DV},r),n.map(((e,t)=>{const n=[];if(e.bitrate&&n.push((0,te.Z)(e.bitrate)),e.videoResolution){const t=(0,J.Z)(e),r=t?t.scanType:null;n.push((0,ee.Z)(e.videoResolution,r))}const r=!!e.title,i=n.length>0;return f.createElement(ie.Z,{key:t,value:t},r?e.title:null,r&&i?f.createElement(ne.Z,null):null,i?n.join(", "):null,r||i?null:(0,P.Z)("Unknown"))})))};var ue=n(66788),pe=n(22103),me=n(96270),he=n(92885),ge=n(12159),ye=n(78189),ve=Object.defineProperty,fe=Object.prototype.hasOwnProperty,be=Object.getOwnPropertySymbols,Se=Object.prototype.propertyIsEnumerable,Ie=(e,t,n)=>t in e?ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Ze=function(e){const{onMenuClose:t}=e;return f.createElement(U.Z,{label:(0,P.Z)("Add to Playlist"),onMenuClose:t},f.createElement(ye.Z,((e,t)=>{for(var n in t||(t={}))fe.call(t,n)&&Ie(e,n,t[n]);if(be)for(var n of be(t))Se.call(t,n)&&Ie(e,n,t[n]);return e})({},e)))};n(71575);var Pe=n(75534);const Ee=function(e){const{metadataItem:t,onMenuClose:n}=e,r=(0,Pe.Z)(),i=t.downloadUrl?t.downloadUrl():null,s=i&&!0;return f.createElement(f.Fragment,null,f.createElement(C.Z,{to:i,target:i?r:null,download:s,onPress:t.downloadUrl?n:(0,T.Z)(e.onDownloadVersionPress,n)},(0,P.Z)("Download File")),null)};var Me=Object.defineProperty,Ce=Object.prototype.hasOwnProperty,we=Object.getOwnPropertySymbols,De=Object.prototype.propertyIsEnumerable,Te=(e,t,n)=>t in e?Me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Oe=function(e){const t=e,{hasDownloadState:n,hasOfflineFile:r,hasOwnSubscription:i,label:s,progress:a}=t,o=((e,t)=>{var n={};for(var r in e)Ce.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&we)for(var r of we(e))t.indexOf(r)<0&&De.call(e,r)&&(n[r]=e[r]);return n})(t,["hasDownloadState","hasOfflineFile","hasOwnSubscription","label","progress"]);return f.createElement(C.Z,((e,t)=>{for(var n in t||(t={}))Ce.call(t,n)&&Te(e,n,t[n]);if(we)for(var n of we(t))De.call(t,n)&&Te(e,n,t[n]);return e})({},o),s)},xe=["showPlay","showPlayVersion","showPlayAll","showShuffle","showQueue","showPlayPlexMix","showQueuePlexMix","showPlayTrailer","showPlayMusicVideo","showWatchTogether","showAddToPlaylist","showAddToLibrary"],Ae=["showEdit","showMarkPlayed","showMarkUnplayed","showModifySmartPlaylist","showSettings","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showDownload","showShare","showDelete","showDeleteVersion","showViewPlayHistory","showGetInfo"];function Ne(e,t){return!!S().find(e,(e=>t[e]))}function ke(e){const{target:t,isOpen:n,metadataItem:r,metadataItemEntityID:i,metricsPage:s,providerEntityID:a,serverEntityID:o,onPlayVersionPress:l,onCancelDownloadActivity:c,onDeleteDownloadSubscription:d,onCreateDownloadSubscription:u,onMenuClose:p}=e,m=(0,he.Z)(e.onMarkPlayedConfirm),h=(0,he.Z)(e.onMarkUnplayedConfirm),g=(0,he.Z)(),y=(0,he.Z)(),v=(0,he.Z)(),b=(0,he.Z)(),S=(0,he.Z)(),k=(0,A.Gb)({metadataItemEntityID:i,metricsPage:s,providerEntityID:a,serverEntityID:o,onCancelDownloadActivity:c,onCreateDownloadSubscription:u,onDeleteDownloadSubscription:d}),L=(0,f.useCallback)((e=>{l(e),g.onClose()}),[l,g]),j=!!r.metadataState,R=!!r.mediaState,V=Ne(xe,e),U=Ne(Ae,e),z=V&&U;return f.createElement(f.Fragment,null,f.createElement(M.Z,{target:t,isOpen:n,onMenuClose:p},e.showPlay?f.createElement(C.Z,{onPress:(0,T.Z)(e.onPlayPress,p)},(0,P.Z)("Play")):null,e.showPlayVersion?f.createElement(C.Z,{onPress:(0,T.Z)(g.onOpen,p)},(0,P.Z)("Play Version...")):null,e.showPlayAll?f.createElement(C.Z,{onPress:(0,T.Z)(e.onPlayAllPress,p)},(0,P.Z)("Play All")):null,e.showShuffle?f.createElement(C.Z,{onPress:(0,T.Z)(e.onShufflePress,p)},(0,P.Z)("Shuffle")):null,e.showPlayRadio?f.createElement(C.Z,{onPress:(0,T.Z)(e.onPlayRadioPress,p)},(0,P.Z)("Play Radio")):null,e.showPlayArtistTV?f.createElement(C.Z,{onPress:(0,T.Z)(e.onPlayArtistTVPress,p)},(0,P.Z)("Play Artist TV")):null,e.showWatchTogether?f.createElement(C.Z,{onPress:(0,T.Z)(y.onOpen,p)},(0,P.Z)("Watch Together...")):null,e.showQueue?f.createElement(C.Z,{onPress:(0,T.Z)(e.onPlayNextPress,p)},(0,P.Z)("Play Next")):null,e.showQueue?f.createElement(C.Z,{onPress:(0,T.Z)(e.onAddToQueuePress,p)},(0,P.Z)("Add to Queue")):null,e.showPlayPlexMix?f.createElement(C.Z,{onPress:(0,T.Z)(e.onPlayPlexMixPress,p)},(0,P.Z)("Play Plex Mix")):null,e.showQueuePlexMix?f.createElement(C.Z,{onPress:(0,T.Z)(e.onQueuePlexMixPress,p)},(0,P.Z)("Queue Plex Mix")):null,e.showPlayTrailer?f.createElement(C.Z,{onPress:(0,T.Z)(e.onPlayPrimaryExtraPress,p)},(0,P.Z)("Play Trailer")):null,e.showPlayMusicVideo?f.createElement(C.Z,{onPress:(0,T.Z)(e.onPlayPrimaryExtraPress,p)},(0,P.Z)("Play Music Video")):null,e.showAddToWatchlist?f.createElement(C.Z,{onPress:(0,T.Z)(e.onAddToWatchlistPress,p)},r.watchlistedAt?(0,P.Z)("Remove from Watchlist"):(0,P.Z)("Add to Watchlist")):null,e.showAddToPlaylist?f.createElement(Ze,{serverEntityID:o,providerEntityID:a,metadataItemEntityID:i,showAddToPlaylist:!0,onAddToPlaylistPress:(0,T.Z)(b.onOpen,p),onMenuClose:p}):null,e.showAddToSaved?f.createElement(C.Z,{onPress:(0,T.Z)(e.onAddToSavedPress,p)},(B=r.saved,_=e.providerIdentifier,r.subtype===E.PODCAST?B?(0,P.Z)("Remove from My Podcasts"):(0,P.Z)("Add to My Podcasts"):Z.wB(_,Z.xF)?B?(0,P.Z)("Remove from My TIDAL"):(0,P.Z)("Add to My TIDAL"):B?(0,P.Z)("Remove from My Shows"):(0,P.Z)("Add to My Shows"))):null,e.showAddToPicks?f.createElement(C.Z,{onPress:(0,T.Z)(e.onAddToPicksPress,p)},r.picked?(0,P.Z)("Remove from Plex Picks"):(0,P.Z)("Add to Plex Picks")):null,e.showAddToLibrary?f.createElement(K,{serverEntityID:o,providerEntityID:a,metadataItemEntityID:i,onMenuClose:e.onMenuClose}):null,z?f.createElement(w.Z,null):null,e.showEdit?f.createElement(C.Z,{onPress:(0,T.Z)(e.onEditPress,p)},(0,P.Z)("Edit")):null,e.showModifySmartPlaylist?f.createElement(C.Z,{onPress:(0,T.Z)(e.onModifySmartPlaylistPress,p)},(0,P.Z)("Edit Filters")):null,e.showSettings?f.createElement(C.Z,{onPress:(0,T.Z)(v.onOpen,p)},(0,P.Z)("Settings")):null,e.showMarkPlayed?f.createElement(C.Z,{onPress:(0,T.Z)(m.onOpen,p)},(0,P.Z)("Mark as Played")):null,e.showMarkUnplayed?f.createElement(C.Z,{onPress:(0,T.Z)(h.onOpen,p)},(0,P.Z)("Mark as Unplayed")):null,e.showRefresh?f.createElement(C.Z,{isDisabled:j,onPress:(0,T.Z)(e.onRefreshPress,p)},(0,P.Z)("Refresh Metadata")):null,e.showAnalyze?f.createElement(C.Z,{isDisabled:R,onPress:(0,T.Z)(e.onAnalyzePress,p)},(0,P.Z)("Analyze")):null,e.showFixMatch?f.createElement(C.Z,{onPress:(0,T.Z)(e.onFixMatchPress,p)},(0,P.Z)("Fix Match...")):null,e.showMatch?f.createElement(C.Z,{onPress:(0,T.Z)(e.onFixMatchPress,p)},(0,P.Z)("Match...")):null,e.showUnmatch?f.createElement(C.Z,{onPress:(0,T.Z)(e.onUnmatchPress,p)},(0,P.Z)("Unmatch")):null,e.showSplitApart?f.createElement(C.Z,{onPress:(0,T.Z)(e.onSplitApartPress,p)},(0,P.Z)("Split Apart")):null,e.showSync?f.createElement(C.Z,{onPress:(0,T.Z)(e.onSyncPress,p)},(0,P.Z)("Sync...")):null,e.showSyncDownload?f.createElement(A.ZP,{component:Oe,metadataItemEntityID:i,providerEntityID:a,serverEntityID:o,onPress:(0,T.Z)(k.onPress,p)}):null,e.showOptimize?f.createElement(C.Z,{onPress:(0,T.Z)(e.onOptimizePress,p)},(0,P.Z)("Optimize...")):null,e.showDownload?f.createElement(D.Z,{action:I.a2},f.createElement(Ee,{metadataItem:r,onMenuClose:p,onDownloadVersionPress:e.onDownloadVersionPress})):null,e.showShare?f.createElement(D.Z,{action:I.Dp},f.createElement(C.Z,{onPress:(0,T.Z)(S.onOpen,p)},(0,P.Z)("Share…"))):null,e.showDelete?f.createElement(C.Z,{kind:r.remoteMedia?void 0:O.T,onPress:(0,T.Z)(e.onDeletePress,p)},r.remoteMedia?(0,P.Z)("Remove"):(0,P.Z)("Delete")):null,e.showDeleteVersion?f.createElement(C.Z,{kind:O.T,onPress:(0,T.Z)(e.onDeleteVersionPress,p)},(0,P.Z)("Delete Version")):null,e.showViewPlayHistory?f.createElement(C.Z,{to:(0,ge.Z)(e.machineIdentifier,r)},(0,P.Z)("View Play History")):null,e.showGetInfo?f.createElement(C.Z,{onPress:(0,T.Z)(e.onGetInfoPress,p)},(0,P.Z)("Get Info")):null),e.showMarkPlayed||e.showMarkUnplayed?f.createElement($.Z,{isOpen:m.isOpen||h.isOpen,type:r.type,subtype:r.subtype,title:r.title,leafCount:m.isOpen?r.unviewedLeafCount:r.viewedLeafCount,markUnplayed:h.isOpen,onConfirm:m.isOpen?m.onConfirm:h.onConfirm,onCancel:m.isOpen?m.onClose:h.onClose}):null,e.showAddToPlaylist?f.createElement(pe.Z,{isOpen:b.isOpen,serverEntityID:o,providerEntityID:a,metadataItemEntityID:i,onModalClose:b.onClose}):null,e.showSyncDownload?f.createElement(N.Z,{isOpen:k.isOpen,state:k.state,onConfirm:k.onConfirm,onClose:k.onClose}):null,f.createElement(de,{isOpen:g.isOpen,mediaItems:r.Media,onCancel:g.onClose,onItemSelect:L}),f.createElement(ue.Z,{serverEntityID:o,providerEntityID:a,metadataItemEntityID:i,isOpen:v.isOpen,onModalClose:v.onClose}),e.showWatchTogether?f.createElement(me.Z,{metricsProperties:{context:e.metricsContext,page:s},serverEntityID:o,metadataItemEntityID:i,isOpen:y.isOpen,onModalClose:y.onClose}):null,e.showShare?f.createElement(x.Z,{metricsProperties:{context:e.metricsContext,page:s},serverEntityID:o,metadataItemEntityID:i,isOpen:S.isOpen,onModalClose:S.onClose}):null);var B,_}ke.defaultProps={allowRedirectOnDelete:!1};const Le=ke;var je=Object.defineProperty,Re=Object.prototype.hasOwnProperty,Ve=Object.getOwnPropertySymbols,Ue=Object.prototype.propertyIsEnumerable,ze=(e,t,n)=>t in e?je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Be=(e,t)=>{for(var n in t||(t={}))Re.call(t,n)&&ze(e,n,t[n]);if(Ve)for(var n of Ve(t))Ue.call(t,n)&&ze(e,n,t[n]);return e};const _e=(0,r.$j)(c.Z)((0,p.Z)((function(){return(0,i.P1)(d.Z,l.Z,y.Z,(0,o.Z)(),(0,g.Z)(),((e,t,n,r,i)=>Be({metadataItem:r,machineIdentifier:e.machineIdentifier,providerIdentifier:t.identifier,embeddedServerEntityID:n},i)))}),(function(e,t){const n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,itemServerEntityID:t.itemServerEntityID,itemProviderEntityID:t.itemProviderEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e(a.wA(Be(Be({},n),{options:{containerKey:t.containerKey,listType:t.listType}})))},onPlayVersionPress(r){e(a.wA(Be(Be({},n),{startMediaIndex:r,options:{containerKey:t.containerKey,listType:t.listType}})))},onPlayAllPress(){e(a.Ld(n))},onShufflePress(){e(a.Em(n))},onPlayNextPress(){e(a.tP(Be(Be({},n),{options:{playAll:!0,next:!0}})))},onAddToQueuePress(){e(a.tP(Be(Be({},n),{options:{playAll:!0,next:!1}})))},onPlayPlexMixPress(){e(a.Gh(n))},onQueuePlexMixPress(){e(a.kP(n))},onPlayPrimaryExtraPress(){e(a.EF(n))},onPlayRadioPress(){e(a.QR(Be({playlistType:u.j0},n)))},onPlayArtistTVPress(){e(a.QR(Be({playlistType:u.pX},n)))},onAddToPicksPress(){e((0,s.Fj)(n))},onAddToSavedPress(){e((0,s.C_)(n))},onAddToWatchlistPress(){e((0,s.ZA)(n))},onMarkPlayedConfirm(){e(h.markMetadataItemPlayed(Be(Be({},n),{skipConfirm:!0})))},onMarkUnplayedConfirm(){e(h.markMetadataItemUnplayed(Be(Be({},n),{skipConfirm:!0})))},onEditPress(){e(h.editMetadataItem(n))},onRefreshPress(){e(h.refreshMetadataItem(n))},onModifySmartPlaylistPress(){e(h.modifySmartPlaylist(n))},onAnalyzePress(){e(h.analyzeMetadataItem(n))},onFixMatchPress(){e(h.fixMetadataItemMatch(n))},onUnmatchPress(){e(h.unmatchMetadataItem(n))},onSplitApartPress(){e(h.splitMetadataItemApart(n))},onSyncPress(){e(h.syncMetadataItem(n))},onOptimizePress(){e(h.optimizeMetadataItem(n))},onDownloadVersionPress(){e(h.downloadMetadataItemVersion(n))},onDeletePress(){e(h.deleteMetadataItem(Be(Be({},n),{options:{skipRedirect:!t.allowRedirectOnDelete}})))},onDeleteVersionPress(){e(h.deleteMetadataItemVersion(n))},onGetInfoPress(){e(h.getMetadataItemInfo(n))},onCancelDownloadActivity(){e(m.FX(n))},onDeleteDownloadSubscription(){e(m.L7(n))},onCreateDownloadSubscription(){e(m.A$(n))}}}),v.Z)(Le))},4746:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(67294),i=n(5562),s=n(6103),a=n(53851),o=n(1691),l=n(46391),c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class h extends r.Component{constructor(e,t){super(e,t),this.onActionsPress=e=>{this.setState({hasBeenOpened:!0},(()=>{this.props.onMenuOpenChange(!this.props.isMenuOpen)}))},this.onActionsMenuClose=()=>{this.props.onMenuOpenChange(!1)},this._moreButtonID=(0,a.Z)(),this.state={hasBeenOpened:!1}}render(){const e=this.props,{"data-qa-id":t,className:n,iconClassName:a,tabIndex:c,serverEntityID:h,providerEntityID:g,metadataItemEntityID:y,containerKey:v,listType:f,isMenuOpen:b,onMenuOpenChange:S}=e,I=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(e,["data-qa-id","className","iconClassName","tabIndex","serverEntityID","providerEntityID","metadataItemEntityID","containerKey","listType","isMenuOpen","onMenuOpenChange"]);return r.createElement(s.Z,{"data-qa-id":t,id:this._moreButtonID,className:n,tabIndex:c,"aria-label":(0,i.Z)("More Actions"),"aria-haspopup":!0,onPress:this.onActionsPress},r.createElement(l.Z,{className:a}),this.state.hasBeenOpened?r.createElement(o.Z,((e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e})({serverEntityID:h,providerEntityID:g,metadataItemEntityID:y,containerKey:v,listType:f,target:this._moreButtonID,isOpen:b,onMenuClose:this.onActionsMenuClose},I)):null)}}const g=h},19469:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),i=n(69605),s=n(5562),a=n(69881),o=n(95368);function l(e){return e!==a.SHOW&&e!==a.SEASON}function c({title:e,leafCount:t}){return 1===t?(0,s.Z)('Are you sure you want to mark 1 episode in "{showTitle}" as unplayed?',{showTitle:e}):(0,s.Z)('Are you sure you want to mark {numEpisodes} episodes in "{showTitle}" as unplayed?',{numEpisodes:t,showTitle:e})}function d({title:e,leafCount:t}){return 1===t?(0,s.Z)('Are you sure you want to mark 1 episode in "{showTitle}" as played?',{showTitle:e}):(0,s.Z)('Are you sure you want to mark {numEpisodes} episodes in "{showTitle}" as played?',{numEpisodes:t,showTitle:e})}class u extends r.Component{componentDidMount(){this._checkAutoConfirm()}componentDidUpdate(){this._checkAutoConfirm()}_checkAutoConfirm(){l(this.props.type)&&this.props.isOpen&&this.props.onConfirm()}render(){const{isOpen:e,type:t,markUnplayed:n,onConfirm:a,onCancel:u}=this.props;return l(t)?null:r.createElement(o.Z,{isOpen:e,metricsPage:n?i.Md:i.lP,title:n?(0,s.Z)("Mark as Unplayed"):(0,s.Z)("Mark as Played"),message:n?c(this.props):d(this.props),onConfirm:a,onCancel:u})}}const p=u},66788:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var r=n(67294),i=n(69605),s=n(82378),a=n(2424),o=n(89969),l=n(22222),c=n(81017),d=n(27082),u=n(73862),p=n(5562),m=n(22745),h=n(69679),g=n(37084),y=n(70182),v=n(79849),f=n(56510),b=n(89460),S=n(60528),I=n(40691),Z=n(55344),P=n(64795);var E=Object.defineProperty,M=Object.prototype.hasOwnProperty,C=Object.getOwnPropertySymbols,w=Object.prototype.propertyIsEnumerable,D=(e,t,n)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const T=function(e){const{isSettingsUpdating:t,hasError:n,settings:i,onSubmit:s,onModalClose:a}=e;return r.createElement(g.ZP,{className:"SettingsModalContent-form-kJnOeo",onSubmit:s},r.createElement(P.Z,{onModalClose:a},r.createElement(b.Z,null,(0,p.Z)("Settings")),n?r.createElement(I.Z,{errorMessage:(0,p.Z)("There was an error saving the settings")}):null,r.createElement(y.Z,null,i.map((e=>r.createElement(Z.Z,((e,t)=>{for(var n in t||(t={}))M.call(t,n)&&D(e,n,t[n]);if(C)for(var n of C(t))w.call(t,n)&&D(e,n,t[n]);return e})({key:e.id},e))))),r.createElement(v.Z,null,r.createElement(f.Z,null,r.createElement(m.Z,{onPress:a},(0,p.Z)("Cancel")),r.createElement(h.Z,{kind:S._8,type:"submit",isSpinning:t},(0,p.Z)("Save"))))))};var O=Object.defineProperty,x=Object.prototype.hasOwnProperty,A=Object.getOwnPropertySymbols,N=Object.prototype.propertyIsEnumerable,k=(e,t,n)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class L extends r.Component{componentDidUpdate(e,t){!e.isSettingsUpdating||this.props.isSettingsUpdating||this.props.hasError||this.props.onModalClose()}componentWillUnmount(){this.props.onClearError()}render(){return r.createElement(T,((e,t)=>{for(var n in t||(t={}))x.call(t,n)&&k(e,n,t[n]);if(A)for(var n of A(t))N.call(t,n)&&k(e,n,t[n]);return e})({},this.props))}}const j=(0,o.$j)((function(){return(0,l.P1)((0,c.Z)(),((e={})=>({settings:e.preferences,isSettingsUpdating:e.isSettingsUpdating,hasError:!!e.settingsUpdateError})))}),(function(e,t){return{onSubmit(n){(0,d.c9)((()=>{e((0,u.updateMetadataSettings)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,data:n}))}))},onClearError(){e((0,u.clearMetadataSettingsError)({metadataItemEntityID:t.metadataItemEntityID}))}}}))(L),R=function(e){const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:o,isOpen:l,metricsProperties:c,onModalClose:d}=e;return r.createElement(a.Z,{size:s.HC,isOpen:l,metricsPage:i.w6,metricsProperties:c,onModalClose:d},r.createElement(j,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:o,onModalClose:d}))}},22103:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ne});var r=n(67294),i=n(69605),s=n(82378),a=n(2424),o=n(89969),l=n(22222),c=n(92857),d=n(18908),u=n(5562),p=n(37084),m=n(99085),h=n(51221),g=n(70182),y=n(79849),v=n(89460),f=n(60528),b=n(58300),S=n(40691),I=n(64795),Z=n(71024),P=n(757),E=n(47933),M=n(70488),C=n(50316),w=n(74253),D=n(67006),T=n(94803),O=n(17524);function x({server:e,provider:t}){if(!t||!t.features)return!1;if(e&&(e.isShared||e.isCloud||!e.isConnected))return!1;const n=[O.xF,O.Y3];return!!O.wB(t.identifier,n)&&!!t.features.find((e=>e.type===D.zg&&e.flavor===T.D7))}var A=n(59145),N=n(53851),k=n(21914),L=n(74287),j=n(55278);class R extends r.Component{constructor(){super(...arguments),this.onPress=e=>{this.props.isSelected||this.props.onDestinationSelect(this.props.destination),this.props.onMenuClose()}}render(){const{destination:e,isSelected:t}=this.props;return r.createElement(j.Z,{isSelected:t,onPress:this.onPress},e.name)}}const V=R,U=function(e){const{target:t,isOpen:n,destination:i,destinations:a,onMenuClose:o,onDestinationSelect:l}=e;return r.createElement(L.Z,{target:t,isOpen:n,size:s.ln,onMenuClose:o},a.map(((e,t)=>r.createElement(V,{key:`playlist-destination-${t}`,destination:e,isSelected:e===i,onMenuClose:o,onDestinationSelect:l}))))};class z extends r.Component{constructor(e,t){super(e,t),this.onMenuButtonPress=()=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._menuButtonID=(0,N.Z)()}render(){const{className:e,destination:t,destinations:n,onDestinationSelect:i}=this.props,{isMenuOpen:s}=this.state;return!n||n.length<2?null:r.createElement("div",{className:e},r.createElement(A.Z,{id:this._menuButtonID,direction:s?k.UP:k.WV,onPress:this.onMenuButtonPress},t.name),r.createElement(U,{target:this._menuButtonID,isOpen:s,destination:t,destinations:n,onMenuClose:this.onMenuClose,onDestinationSelect:i}))}}const B=z,_=(0,l.P1)(E.Z,C.Z,P.Z,((e,t,n)=>{const r={server:t,provider:n},i=e.filter(x);return i.find((({server:e,provider:r})=>e.machineIdentifier===t.machineIdentifier&&r.identifier===n.identifier))||i.unshift(r),i})),F=(0,o.$j)((function(){return(0,l.P1)(w.Z,M.Z,_,((e,t,n)=>{const r=n.map((e=>({name:e.server.isCloud?(0,u.Z)("TIDAL"):e.server.friendlyName,serverEntityID:e.server.entityID,providerEntityID:e.provider.entityID})));return{destination:r.find((({serverEntityID:n,providerEntityID:r})=>n===e.entityID&&r===t.entityID)),destinations:r}}))}))(B);var H=n(55255),W=n(58801),Q=n(81017),G=n(94184),Y=n.n(G),q=n(6103),K=n(11956),$=n(84699),X=n(5148);const J=(0,o.$j)((function(){return(0,l.P1)((0,Q.Z)(),(e=>e?{isLoading:!1,playlistID:e.ratingKey,title:e.title,thumb:e.thumb||e.composite||""}:{isLoading:!0}))}))((function(e){const{className:t,serverEntityID:n,providerEntityID:i,playlistID:s,title:a,thumb:o,isLoading:l,cellIndex:c,onSelect:d}=e,u=(0,K.Z)(e),p=(0,r.useCallback)((()=>{d(s)}),[s,d]);return r.createElement("div",{className:t,style:u.style},l?null:r.createElement(q.Z,{className:Y()("PlaylistListItem-container-W8NUn3",c%2&&"PlaylistListItem-alternate-2JzwxV"),onPress:p},r.createElement($.Z,{className:"PlaylistListItem-card-19-J2c PosterCard-card-3ds3Od",serverEntityID:n,providerEntityID:i,component:X.Z,width:40,height:40,url:o}),r.createElement("span",{className:"PlaylistListItem-title-CeCnF_"},a)))}));var ee=n(90961);var te=Object.defineProperty,ne=Object.prototype.hasOwnProperty,re=Object.getOwnPropertySymbols,ie=Object.prototype.propertyIsEnumerable,se=(e,t,n)=>t in e?te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ae=(e,t)=>{for(var n in t||(t={}))ne.call(t,n)&&se(e,n,t[n]);if(re)for(var n of re(t))ie.call(t,n)&&se(e,n,t[n]);return e};const oe=(0,ee.Z)(50);class le extends r.Component{constructor(){super(...arguments),this.renderPlaylistItem=e=>{const{serverEntityID:t,providerEntityID:n,onPlaylistSelect:i}=this.props;return r.createElement(J,ae(ae({},e),{className:"PlaylistList-cell-3BlFt0",serverEntityID:t,providerEntityID:n,onSelect:i}))}}render(){const e=this.props,{metadataItemEntityIDs:t,isPopulated:n,totalSize:i}=e,s=((e,t)=>{var n={};for(var r in e)ne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&re)for(var r of re(e))t.indexOf(r)<0&&ie.call(e,r)&&(n[r]=e[r]);return n})(e,["metadataItemEntityIDs","isPopulated","totalSize"]);return n?r.createElement(H.Z,ae({className:"PlaylistList-content-2TNiD8",scrollerClassName:"PlaylistList-contentScroller-3l-NtV",keyPropName:"metadataItemEntityID",items:t,size:i,layout:oe,cellRenderer:this.renderPlaylistItem},s)):r.createElement(W.Z,{className:"PlaylistList-spinner-2Q2QzH"})}}const ce=le;var de=Object.defineProperty,ue=Object.prototype.hasOwnProperty,pe=Object.getOwnPropertySymbols,me=Object.prototype.propertyIsEnumerable,he=(e,t,n)=>t in e?de(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function ge(e){if(!e)return(0,u.Z)("Title is required")}const ye=(0,h.Z)((e=>{var t=e,{showErrors:n}=t,i=((e,t)=>{var n={};for(var r in e)ue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&pe)for(var r of pe(e))t.indexOf(r)<0&&me.call(e,r)&&(n[r]=e[r]);return n})(t,["showErrors"]);return r.createElement(m.Z,((e,t)=>{for(var n in t||(t={}))ue.call(t,n)&&he(e,n,t[n]);if(pe)for(var n of pe(t))me.call(t,n)&&he(e,n,t[n]);return e})({hasError:n},i))}));class ve extends r.Component{componentDidUpdate(e){this.props.isUpdating||!e.isUpdating||this.props.hasError||this.props.onModalClose()}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,metadataListEntityID:i,title:s,smart:a,hasError:o,isUpdating:l,isMultiSelect:c,onModalClose:d,onDestinationSelect:m,onFormSubmit:h,onPlaylistSelect:P}=this.props,E=!c&&!a&&e&&t&&n;return r.createElement(I.Z,{onModalClose:d},r.createElement(v.Z,null,a?(0,u.Z)("Create Playlist"):(0,u.Z)("Add to Playlist")),E?r.createElement(F,{className:"AddToPlaylistModalContent-listModalSubheader-15IOEx",serverEntityID:e,providerEntityID:t,metadataItemEntityID:n,onDestinationSelect:m}):null,o?r.createElement(S.Z,{errorMessage:(0,u.Z)("Something went wrong. Make sure the destination is available and try again.")}):null,a?null:r.createElement(g.Z,{innerClassName:"AddToPlaylistModalContent-listModalInnerBody-2hoRXs"},i?r.createElement(Z.Z,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,component:ce,initialSize:20,onPlaylistSelect:P}):null),r.createElement(y.Z,null,r.createElement(p.ZP,{className:"AddToPlaylistModalContent-createForm-2e8eVM",onSubmit:h},r.createElement(ye,{focusOnMount:!0,"data-autofocus":!0,selectTextOnFocus:!0,name:"title",initialValue:s,validations:[ge]}),r.createElement(b.Z,{className:"AddToPlaylistModalContent-createButton-2Uku0e",type:"submit",kind:f._8,isSpinning:l},(0,u.Z)("Create")))))}}const fe=ve;var be=Object.defineProperty,Se=Object.prototype.hasOwnProperty,Ie=Object.getOwnPropertySymbols,Ze=Object.prototype.propertyIsEnumerable,Pe=(e,t,n)=>t in e?be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Ee=(0,l.P1)((e=>e.ui.addToPlaylistModal),d.Z,((e,t)=>{const{metadataItem:n,metadataList:r,multiSelect:i}=e;if(n)return n;const s=t[r];return s&&s.metadataItems.length?s.metadataItems[0]:i&&i.activeSelectionItems&&i.activeSelectionItems.length?i.activeSelectionItems[0].model:void 0})),Me=(0,l.P1)((e=>e.ui.addToPlaylistModal),Ee,((e,t)=>({serverEntityID:e.server,providerEntityID:e.provider,metadataItemEntityID:t,metadataListEntityID:e.playlists,title:e.title,isUpdating:e.isUpdating,isMultiSelect:!!e.multiSelect,hasError:!!e.error})));class Ce extends r.Component{constructor(){super(...arguments),this.onAdd=e=>{this.props.dispatchAddToPlaylist(e)}}componentDidMount(){this.props.dispatchInitAddToPlaylistModal()}componentWillUnmount(){this.props.dispatchClearAddToPlaylistModal()}render(){const e=this.props,{dispatchInitAddToPlaylistModal:t,dispatchClearAddToPlaylistModal:n,dispatchAddToPlaylist:i}=e,s=((e,t)=>{var n={};for(var r in e)Se.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ie)for(var r of Ie(e))t.indexOf(r)<0&&Ze.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchInitAddToPlaylistModal","dispatchClearAddToPlaylistModal","dispatchAddToPlaylist"]);return r.createElement(fe,((e,t)=>{for(var n in t||(t={}))Se.call(t,n)&&Pe(e,n,t[n]);if(Ie)for(var n of Ie(t))Ze.call(t,n)&&Pe(e,n,t[n]);return e})({onPlaylistSelect:this.onAdd},s))}}const we=(0,o.$j)(Me,(function(e,t){return{onDestinationSelect({serverEntityID:t,providerEntityID:n}){e(c.it({serverEntityID:t,providerEntityID:n}))},onFormSubmit(t){e(c.cg({formData:t}))},dispatchInitAddToPlaylistModal(){e(c.x3({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metadataListEntityID:t.metadataListEntityID,playQueueID:t.playQueueID,smart:t.smart}))},dispatchClearAddToPlaylistModal(){e(c.h5())},dispatchAddToPlaylist(t){e(c.BJ({playlistID:t}))}}}))(Ce);var De=Object.defineProperty,Te=Object.prototype.hasOwnProperty,Oe=Object.getOwnPropertySymbols,xe=Object.prototype.propertyIsEnumerable,Ae=(e,t,n)=>t in e?De(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Ne=function(e){const t=e,{isOpen:n,onModalClose:o}=t,l=((e,t)=>{var n={};for(var r in e)Te.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Oe)for(var r of Oe(e))t.indexOf(r)<0&&xe.call(e,r)&&(n[r]=e[r]);return n})(t,["isOpen","onModalClose"]);return r.createElement(a.Z,{size:s.HC,isOpen:n,metricsPage:i.ls,onModalClose:o},r.createElement(we,((e,t)=>{for(var n in t||(t={}))Te.call(t,n)&&Ae(e,n,t[n]);if(Oe)for(var n of Oe(t))xe.call(t,n)&&Ae(e,n,t[n]);return e})({onModalClose:o},l)))}},13202:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),i=n(55344),s=Object.defineProperty,a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const d=function(e){const{prefs:t}=e;return r.createElement("div",null,t.map((e=>{const{id:t}=e;return r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e})({key:t},e))})))}},3664:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(67294),i=n(69881),s=n(5011),a=n(84699),o=n(5148),l=n(65732),c=n(36475),d=n(97784),u=n(80126);var p=Object.defineProperty,m=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const v=function(e){const t=e,{component:n,isSecondary:i}=t,s=((e,t)=>{var n={};for(var r in e)m.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&h)for(var r of h(e))t.indexOf(r)<0&&g.call(e,r)&&(n[r]=e[r]);return n})(t,["component","isSecondary"]);return r.createElement(n,((e,t)=>{for(var n in t||(t={}))m.call(t,n)&&y(e,n,t[n]);if(h)for(var n of h(t))g.call(t,n)&&y(e,n,t[n]);return e})({className:i?"MediaSubscriptionTitle-secondaryTitle-3ODBY0":"MediaSubscriptionTitle-title-2xYyOb"},s))};var f=Object.defineProperty,b=Object.prototype.hasOwnProperty,S=Object.getOwnPropertySymbols,I=Object.prototype.propertyIsEnumerable,Z=(e,t,n)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function P(e){const{serverEntityID:t,providerEntityID:n,hint:p,target:m,useStaticHeight:h,children:g,showSubscriptionBadge:y,isDownload:f}=e,{type:P,subtype:E}=p,{thumb:M,grandparentThumb:C}=m||p,w=P===i.PLAYLIST,D=f&&w?m&&m.composite:C||M,T=f||P!==i.PLAYLIST?P:i.SHOW;return r.createElement("div",{className:"MediaSubscriptionHintPosterTitle-container-1ON72q"},r.createElement("div",{className:"MediaSubscriptionHintPosterTitle-left-Z8r-pS"},r.createElement(a.Z,{serverEntityID:t,providerEntityID:n,component:o.Z,type:T,width:130,height:(0,u.Cr)(130,T,E),url:D},y?r.createElement("div",{className:"MediaSubscriptionHintPosterTitle-subscriptionBadge-2jX4XR MetadataPosterCardOverlay-badge-2SzLhB"},r.createElement(s.Z,{type:P})):null)),r.createElement("div",{className:"MediaSubscriptionHintPosterTitle-right-3FD_oI"},r.createElement("div",{className:h?"MediaSubscriptionHintPosterTitle-staticHeightTitleContainer-8Z1F_x MediaSubscriptionHintPosterTitle-titleContainer-3DI73C":"MediaSubscriptionHintPosterTitle-titleContainer-3DI73C"},function(e){switch(e){case i.MOVIE:case i.SHOW:return[c.Z];case i.EPISODE:return[l.Z,d.Z];case i.PLAYLIST:default:return[c.Z]}}(P).map(((e,t)=>r.createElement(v,((e,t)=>{for(var n in t||(t={}))b.call(t,n)&&Z(e,n,t[n]);if(S)for(var n of S(t))I.call(t,n)&&Z(e,n,t[n]);return e})({key:t,component:e,isSecondary:t>0},p))))),g))}P.defaultProps={useStaticHeight:!1};const E=P},75696:(e,t,n)=>{"use strict";n.d(t,{Z:()=>bt});var r=n(67294),i=n(69605),s=n(2424),a=n(89969),o=n(22222),l=n(13469),c=n.n(l),d=n(53145),u=n(84656),p=n(79498),m=n(77909),h=n(74995),g=n(90934);const y=(0,o.P1)((e=>e.ui.mediaSubscriptionModal.mediaSubscription),g.Z,((e,t)=>t[e])),v=(0,o.P1)((e=>e.ui.mediaSubscriptionModal.templates),g.Z,((e=[],t)=>e.map((e=>t[e]))));var f=n(27082),b=n(5562),S=n(69881),I=n(32003),Z=n(3386),P=n(59194),E=n(66102),M=n(58801),C=n(38132),w=Object.defineProperty,D=Object.prototype.hasOwnProperty,T=Object.getOwnPropertySymbols,O=Object.prototype.propertyIsEnumerable,x=(e,t,n)=>t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const A=function(e){return r.createElement(C.Z,((e,t)=>{for(var n in t||(t={}))D.call(t,n)&&x(e,n,t[n]);if(T)for(var n of T(t))O.call(t,n)&&x(e,n,t[n]);return e})({},e),r.createElement(M.Z,null))};var N=n(58368);var k=n(22745),L=n(70182),j=n(79849),R=n(56510),V=n(89460),U=n(60528),z=n(89197),B=n(58300),_=n(40691),F=n(64795),H=n(81017),W=n(65732);const Q=(0,a.$j)((function(){return(0,o.P1)((0,H.Z)(),((e={})=>({grandparentTitle:e.grandparentTitle})))}))(W.Z);var G=n(16345),Y=n(92797);var q=Object.defineProperty,K=Object.prototype.hasOwnProperty,$=Object.getOwnPropertySymbols,X=Object.prototype.propertyIsEnumerable,J=(e,t,n)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ee=function(e){const t=e,{component:n,isSecondary:i}=t,s=((e,t)=>{var n={};for(var r in e)K.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&$)for(var r of $(e))t.indexOf(r)<0&&X.call(e,r)&&(n[r]=e[r]);return n})(t,["component","isSecondary"]);return r.createElement(n,((e,t)=>{for(var n in t||(t={}))K.call(t,n)&&J(e,n,t[n]);if($)for(var n of $(t))X.call(t,n)&&J(e,n,t[n]);return e})({className:i?"ConflictTitle-secondaryTitle-3j47hD":"ConflictTitle-title-3lXnmB"},s))};var te=Object.defineProperty,ne=Object.prototype.hasOwnProperty,re=Object.getOwnPropertySymbols,ie=Object.prototype.propertyIsEnumerable,se=(e,t,n)=>t in e?te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ae=function(e){var t=e,{className:n,type:i}=t,s=((e,t)=>{var n={};for(var r in e)ne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&re)for(var r of re(e))t.indexOf(r)<0&&ie.call(e,r)&&(n[r]=e[r]);return n})(t,["className","type"]);const a=function(e){switch(e){case"movie":case"show":return[G.Z];case"episode":return[Q,Y.Z];case"playlist":default:return[G.Z]}}(i);return r.createElement("div",{className:"ConflictItemRow-container-3Dznp_"},a.map(((e,t)=>r.createElement(ee,((e,t)=>{for(var n in t||(t={}))ne.call(t,n)&&se(e,n,t[n]);if(re)for(var n of re(t))ie.call(t,n)&&se(e,n,t[n]);return e})({key:t,component:e,isSecondary:t>0},s)))))};var oe=Object.defineProperty,le=Object.prototype.hasOwnProperty,ce=Object.getOwnPropertySymbols,de=Object.prototype.propertyIsEnumerable,ue=(e,t,n)=>t in e?oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const pe=(0,a.$j)((function(){return(0,o.P1)((0,H.Z)(),((e={})=>({type:e.type})))}))((function(e){return r.createElement(ae,((e,t)=>{for(var n in t||(t={}))le.call(t,n)&&ue(e,n,t[n]);if(ce)for(var n of ce(t))de.call(t,n)&&ue(e,n,t[n]);return e})({},e))}));var me=n(3664);class he extends r.Component{componentDidUpdate(e,t){(e.isMediaSubscriptionMoving&&!this.props.isMediaSubscriptionMoving&&null==this.props.mediaSubscriptionMoveError||e.isMediaSubscriptionDeleting&&!this.props.isMediaSubscriptionDeleting&&null==this.props.mediaSubscriptionDeleteError)&&this.props.onModalClose()}render(){const{isRecordingSchedule:e,isMediaSubscriptionDeleting:t,mediaSubscriptionDeleteError:n,isMediaSubscriptionMoving:i,mediaSubscriptionMoveError:s,serverEntityID:a,providerEntityID:o,server:l,provider:c,sourceDirectory:d,hint:u,conflicts:p,onDelete:m,onMediaMove:h,onModalClose:g}=this.props,y=s||n;return r.createElement(F.Z,{onModalClose:g},r.createElement(V.Z,null,(0,b.Z)("Conflict Detected")),y?r.createElement(_.Z,{errorMessage:y}):null,r.createElement(L.Z,{autoScroll:!0},r.createElement(me.Z,{serverEntityID:a,providerEntityID:o,hint:u},r.createElement("div",{className:"MediaSubscriptionConflict-message-3lJ5_H"},1===p.length?(0,b.Z)("Conflicts with 1 recording"):(0,b.Z)("Conflicts with {conflictCount} recordings",{conflictCount:p.length})),r.createElement("div",{className:"MediaSubscriptionConflict-conflicts-9deJ-l"},p.map((({metadataItem:e},t)=>r.createElement(pe,{key:t,metadataItemEntityID:e})))))),r.createElement(j.Z,null,r.createElement(R.Z,null,r.createElement(B.Z,{isSpinning:t,kind:U.T,onPress:m},(0,b.Z)("Cancel This")),r.createElement(B.Z,{isSpinning:i,kind:U._8,onPress:h},(0,b.Z)("Prefer This")),e?r.createElement(k.Z,{kind:U._8,onPress:g},(0,b.Z)("Close")):r.createElement(k.Z,{kind:U._8,to:(0,z.ZP)(z.tk.RECORDING_SCHEDULE,l,c,d)},(0,b.Z)("Manage")))))}}he.defaultProps={conflicts:[]};const ge=he;var ye=n(6103),ve=n(37084),fe=n(79501);const be=function(){return r.createElement("div",{className:"CancelRecordingConfirmation-cancelConfirmationMessage-3FTzV8"},r.createElement("div",null,(0,b.Z)("Are you sure you want to cancel this recording?")),r.createElement("div",null,(0,b.Z)("This will cancel any future scheduled recordings and stop any recordings already in progress.")))};var Se=n(13202),Ie=Object.prototype.hasOwnProperty,Ze=Object.getOwnPropertySymbols,Pe=Object.prototype.propertyIsEnumerable;function Ee(e){var t=e,{className:n,children:i}=t,s=((e,t)=>{var n={};for(var r in e)Ie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ze)for(var r of Ze(e))t.indexOf(r)<0&&Pe.call(e,r)&&(n[r]=e[r]);return n})(t,["className","children"]);return r.createElement("div",{className:n,style:s},i)}Ee.defaultProps={flexGrow:1,flexShrink:0};const Me=Ee;var Ce=n(94184),we=n.n(Ce);var De=Object.prototype.hasOwnProperty,Te=Object.getOwnPropertySymbols,Oe=Object.prototype.propertyIsEnumerable;function xe(e){var t=e,{className:n,children:i}=t,s=((e,t)=>{var n={};for(var r in e)De.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Te)for(var r of Te(e))t.indexOf(r)<0&&Oe.call(e,r)&&(n[r]=e[r]);return n})(t,["className","children"]);return r.createElement("div",{className:we()("FlexGrid-grid-A7QIj6",n),style:s},i)}xe.defaultProps={flexDirection:"row",justifyContent:"space-between",alignItems:"center",alignContent:"center"};const Ae=xe;var Ne=n(82378),ke=n(26955),Le=n(18246),je=n(51221),Re=Object.defineProperty,Ve=Object.prototype.hasOwnProperty,Ue=Object.getOwnPropertySymbols,ze=Object.prototype.propertyIsEnumerable,Be=(e,t,n)=>t in e?Re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const _e=(0,je.Z)((function(e){const t=e,{name:n,initialValue:i,labelText:s,showErrors:a,errors:o,validations:l}=t,c=((e,t)=>{var n={};for(var r in e)Ve.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ue)for(var r of Ue(e))t.indexOf(r)<0&&ze.call(e,r)&&(n[r]=e[r]);return n})(t,["name","initialValue","labelText","showErrors","errors","validations"]);return r.createElement("div",null,r.createElement(ke.Z,{name:n},s),r.createElement(Le.Z,((e,t)=>{for(var n in t||(t={}))Ve.call(t,n)&&Be(e,n,t[n]);if(Ue)for(var n of Ue(t))ze.call(t,n)&&Be(e,n,t[n]);return e})({name:n,size:Ne.HC},c)))})),Fe=function(e){const{libraries:t,targetLibrarySectionID:n,targetSectionLocationID:i,selectedLibrarySectionID:s}=e,a=function(e,t){return null!=e&&t.some((t=>t.librarySectionID===e))}(n,t)?n:function([e]){if(e)return e.librarySectionID}(t),o=function(e,t,n){let r=e.find((({librarySectionID:e})=>e===t));return r||(r=e.find((({librarySectionID:e})=>e===n))),r?r.locations.map((({id:e,path:t})=>({[e]:t}))):[]}(t,s,a),l=function(e,t){return null!=e&&t.some((t=>t.hasOwnProperty(e)))}(i,o)?i:function([e]){if(!e)return;const[t]=Object.keys(e);return e[t]}(o);return r.createElement(Ae,{flexWrap:"wrap"},r.createElement(Me,{flexBasis:230,maxWidth:230},r.createElement(_e,{labelText:(0,b.Z)("Add to Library"),name:"targetLibrarySectionID",initialValue:a,size:Ne.HC,values:t.map((({title:e,librarySectionID:t},n)=>({[t]:e})))})),r.createElement(Me,{flexBasis:230,maxWidth:230},o.length>1?r.createElement(_e,{labelText:(0,b.Z)("Location"),name:"targetSectionLocationID",size:Ne.HC,initialValue:l,values:o}):null))},He=function(e){const{serverEntityID:t,providerEntityID:n,hint:i,target:s,initialMode:a,isDownload:o,modes:l,libraries:c,targetLibrarySectionID:d,targetSectionLocationID:u,selectedLibrarySectionID:p,prefs:m}=e,h=m&&m.onlyNewAirings,g=i.type===S.EPISODE||i.type===S.SHOW||i.type===S.PLAYLIST;return r.createElement(me.Z,{serverEntityID:t,providerEntityID:n,hint:i,isDownload:o,showSubscriptionBadge:!o,target:s,useStaticHeight:g},r.createElement(Ae,{flexWrap:"wrap"},r.createElement(Me,{flexBasis:230,maxWidth:230},l?r.createElement(_e,{labelText:o?(0,b.Z)("Download"):(0,b.Z)("Record"),name:"mode",initialValue:a,values:l,isDisabled:l.length<2}):null),r.createElement(Me,{flexBasis:230,maxWidth:230},h?r.createElement(_e,{name:h.id,labelText:h.label,initialValue:h.value,values:h.enumValues.map((({label:e,value:t})=>({[t]:e})))}):null)),!o&&c&&c.length?r.createElement(Fe,{libraries:c,targetLibrarySectionID:d,targetSectionLocationID:u,selectedLibrarySectionID:p}):null)};var We=Object.defineProperty,Qe=Object.prototype.hasOwnProperty,Ge=Object.getOwnPropertySymbols,Ye=Object.prototype.propertyIsEnumerable,qe=(e,t,n)=>t in e?We(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ke=(e,t)=>{for(var n in t||(t={}))Qe.call(t,n)&&qe(e,n,t[n]);if(Ge)for(var n of Ge(t))Ye.call(t,n)&&qe(e,n,t[n]);return e};class $e extends r.Component{constructor(e,t){super(e,t),this.onAdvancedPress=()=>{this.setState({isAdvanced:!this.state.isAdvanced})},this.onCancelPress=()=>{this.setState({showCancelConfirmation:!0})},this.onBackPress=()=>{this.setState({showCancelConfirmation:!1})},this.onFormChange=e=>{if(this.props.showLibraries){if(!e.targetLibrarySectionID)return;e.targetLibrarySectionID.value!==this.state.selectedLibrarySectionID&&this.setState({selectedLibrarySectionID:e.targetLibrarySectionID.value})}if(e.mode&&e.mode.value!==this.state.selectedMode){const t=e.mode.value;this.setState({selectedMode:t}),this.props.onModeChange(t)}},this.state={selectedLibrarySectionID:e.targetLibrarySectionID,selectedMode:e.initialMode,isAdvanced:!1,showCancelConfirmation:!1}}componentDidUpdate(e,t){(e.isMediaSubscriptionSaving&&!this.props.isMediaSubscriptionSaving&&null==this.props.mediaSubscriptionSaveError||e.isMediaSubscriptionDeleting&&!this.props.isMediaSubscriptionDeleting&&null==this.props.mediaSubscriptionDeleteError)&&this.props.onModalClose()}render(){const e=this.props,{mediaSubscriptionKey:t,isMediaSubscriptionSaving:n,mediaSubscriptionSaveError:i,isMediaSubscriptionDeleting:s,mediaSubscriptionDeleteError:a,prefGroups:o,onModalClose:l,onSubmit:c,onDelete:d}=e,u=((e,t)=>{var n={};for(var r in e)Qe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ge)for(var r of Ge(e))t.indexOf(r)<0&&Ye.call(e,r)&&(n[r]=e[r]);return n})(e,["mediaSubscriptionKey","isMediaSubscriptionSaving","mediaSubscriptionSaveError","isMediaSubscriptionDeleting","mediaSubscriptionDeleteError","prefGroups","onModalClose","onSubmit","onDelete"]),{isAdvanced:p,showCancelConfirmation:m}=this.state,h=(m?"MediaSubscriptionForm-cancelConfirmation-3qqNov":p&&"MediaSubscriptionForm-advancedForm-45qd-x")||"MediaSubscriptionForm-baseForm-1CcCy6",g=!!o.advanced,y=i||a;return r.createElement(ve.ZP,{className:h,onChange:this.onFormChange,onSubmit:c},r.createElement(F.Z,{onModalClose:l},r.createElement(V.Z,null,m?(0,b.Z)("Cancel Recording"):(0,b.Z)("Record Options")),y?r.createElement(_.Z,{errorMessage:y}):null,r.createElement(L.Z,null,r.createElement("div",{key:"base",className:"MediaSubscriptionForm-baseSettings-2qdAiz"},r.createElement(He,Ke({selectedLibrarySectionID:this.state.selectedLibrarySectionID,prefs:o.basic},u))),g?r.createElement("div",{key:"advanced",className:"MediaSubscriptionForm-advancedSettings-3VLblG"},r.createElement(Se.Z,Ke({prefs:o.advanced},u))):null,m?r.createElement(be,null):null),r.createElement(j.Z,{className:m?"MediaSubscriptionForm-cancelConfirmationFooter-3OUlGn ModalFooter-modalFooter-1Q0cxs":"MediaSubscriptionForm-footer-2FfKgR ModalFooter-modalFooter-1Q0cxs"},m?null:r.createElement(R.Z,null,g?r.createElement(ye.Z,{kind:U._8,onPress:this.onAdvancedPress},r.createElement(fe.Z,{className:"MediaSubscriptionForm-advancedIcon-1i_aSR"}),p?(0,b.Z)("Show Basic"):(0,b.Z)("Show Advanced")):null),m?r.createElement(R.Z,null,r.createElement(k.Z,{onPress:this.onBackPress},(0,b.Z)("Back")),r.createElement(B.Z,{isSpinning:s,kind:U.T,onPress:d},(0,b.Z)("Yes"))):r.createElement(R.Z,null,t?r.createElement(k.Z,{kind:U.T,onPress:this.onCancelPress},(0,b.Z)("Cancel Recording")):r.createElement(k.Z,{kind:U.TP,onPress:l},(0,b.Z)("Cancel")),r.createElement(B.Z,{type:"submit",isSpinning:n,kind:U._8},t?(0,b.Z)("Save"):(0,b.Z)("Record"))))))}}const Xe=$e;var Je=n(38170);class et extends r.Component{componentDidUpdate(e,t){e.isMediaSubscriptionDeleting&&!this.props.isMediaSubscriptionDeleting&&null==this.props.mediaSubscriptionDeleteError&&this.props.onModalClose()}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionKey:n,hint:i,metadataType:s,isMediaSubscriptionDeleting:a,mediaSubscriptionDeleteError:o,canAddLibrary:l,onCreatePress:c,onModalClose:d,onDelete:u}=this.props,{typeString:p}=(0,S.getRootType)(s),{title:m}=I.ZP.get(p),h=l?(0,b.Z)("This recording cannot be scheduled because you don’t yet have a library for {type}.",{type:m}):(0,b.Z)("This recording cannot be scheduled because there is no library for {type}.",{type:m});let g;return g=l?n?(0,b.Z)("Please create a library or cancel the recording."):(0,b.Z)("Please try recording again after you have created your library."):(0,b.Z)("Please ask the server owner to create the library or cancel the recording."),r.createElement(F.Z,{onModalClose:d},r.createElement(V.Z,null,(0,b.Z)("Record Options")),o?r.createElement(_.Z,{errorMessage:o}):null,r.createElement(L.Z,null,r.createElement(me.Z,{serverEntityID:e,providerEntityID:t,hint:i},r.createElement("div",{className:"MediaSubscriptionNoLibrary-errorMessage-3_PyXj"},(0,b.Z)("{type} Library Required",{type:m})),r.createElement("p",null,h),r.createElement("p",null,g),l?r.createElement(ye.Z,{kind:U._8,onPress:c},r.createElement(Je.Z,{className:"MediaSubscriptionNoLibrary-addIcon-1_lL3x"})," ",(0,b.Z)("Create Library")):null)),r.createElement(j.Z,null,r.createElement(R.Z,null,n?r.createElement(B.Z,{isSpinning:a,kind:U.T,onPress:u},(0,b.Z)("Cancel Recording")):null,r.createElement(k.Z,{onPress:d},(0,b.Z)("Cancel")))))}}const tt=et;var nt=Object.defineProperty,rt=Object.prototype.hasOwnProperty,it=Object.getOwnPropertySymbols,st=Object.prototype.propertyIsEnumerable,at=(e,t,n)=>t in e?nt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ot=(e,t)=>{for(var n in t||(t={}))rt.call(t,n)&&at(e,n,t[n]);if(it)for(var n of it(t))st.call(t,n)&&at(e,n,t[n]);return e},lt=(e,t)=>{var n={};for(var r in e)rt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&it)for(var r of it(e))t.indexOf(r)<0&&st.call(e,r)&&(n[r]=e[r]);return n};function ct(){return(0,o.P1)(((e,{subscriptionType:t})=>t),(e=>"playlist"===e?"show":e))}const dt={dispatchFetchLibraries:d.tU,dispatchAddLibrary:P.Wy,dispatchInitMediaSubscriptionModal:u.np,dispatchClearMediaSubscriptionModal:u.K7,dispatchSaveMediaSubscription:u.eU,dispatchChangeMediaSubscriptionTemplateMode:u.K5,dispatchMoveMediaSubscriptionModal:u.kB,dispatchDeleteMediaSubscriptionModal:u.XK,dispatchDeleteMediaGrabOperationsModal:u.NJ};class ut extends r.Component{constructor(e,t){super(e,t),this.onSubmit=e=>{const{serverEntityID:t,metadataItemEntityID:n}=this.props,r=e,{targetLibrarySectionID:i,targetSectionLocationID:s,mode:a}=r,o=lt(r,["targetLibrarySectionID","targetSectionLocationID","mode"]);this.props.dispatchSaveMediaSubscription({serverEntityID:t,metadataItemEntityID:n,targetLibrarySectionID:i,targetSectionLocationID:s,prefs:o})},this.onDelete=()=>{var e;(null==(e=this.props.conflicts)?void 0:e.length)?this.props.dispatchDeleteMediaGrabOperationsModal({metadataItemEntityID:this.props.metadataItemEntityID}):this.props.dispatchDeleteMediaSubscriptionModal({metadataItemEntityID:this.props.metadataItemEntityID})},this.onModeChange=e=>{(0,f.c9)((()=>{this.props.dispatchChangeMediaSubscriptionTemplateMode({modeIndex:e})}))},this.onMediaMove=()=>{this.props.dispatchMoveMediaSubscriptionModal()},this.onCreatePress=()=>{const{metadataType:e,serverEntityID:t}=this.props,{typeString:n}=(0,S.getRootType)(e),r=I.ZP.get(n);this.props.onModalClose(),this.props.dispatchAddLibrary({serverEntityID:t,options:{redirect:!1,seedAttrs:{type:r.typeString,title:r.title,language:r.defaultLanguage}}})},this.state={showConflicts:e.showConflicts}}componentDidMount(){this._populate()}UNSAFE_componentWillReceiveProps(e){var t;let n=this.state.showConflicts;this.props.isMediaSubscriptionSaving&&!e.isMediaSubscriptionSaving&&(null==(t=e.conflicts)?void 0:t.length)&&(n=!0),n!==this.state.showConflicts&&this.setState({showConflicts:n});const r=this.props.metadataItemEntityID!==e.metadataItemEntityID,i=this.props.mediaSubscriptionEntityID!==e.mediaSubscriptionEntityID;(r||i)&&this._populate(e)}componentWillUnmount(){this.props.dispatchClearMediaSubscriptionModal()}_populate(e=this.props){const{serverEntityID:t,mediaSubscriptionEntityID:n,metadataItemEntityID:r,showConflicts:i}=e;(0,f.c9)((()=>{e.dispatchFetchLibraries({serverEntityID:t}),e.dispatchInitMediaSubscriptionModal({serverEntityID:t,mediaSubscriptionEntityID:n,metadataItemEntityID:r,showConflicts:i})}))}render(){const{libraries:e,isLibrariesLoading:t,hasLibrariesError:n,isMediaSubscriptionPending:i,isMediaSubscriptionPopulated:s,mediaSubscriptionError:a,showLibraries:o,onModalClose:l}=this.props;return a?r.createElement(E.Z,{message:a,onModalClose:l}):n?r.createElement(E.Z,{message:(0,b.Z)("There was an unexpected error loading libraries."),onModalClose:l}):i||!s||t?r.createElement(A,{onModalClose:l}):o&&e&&!e.length?r.createElement(tt,ot(ot({},this.props),{onCreatePress:this.onCreatePress,onDelete:this.onDelete})):this.state.showConflicts?r.createElement(ge,ot(ot({},this.props),{onDelete:this.onDelete,onMediaMove:this.onMediaMove})):r.createElement(Xe,ot(ot({},this.props),{onModeChange:this.onModeChange,onSubmit:this.onSubmit,onDelete:this.onDelete}))}}ut.defaultProps={showConflicts:!1,showLibraries:!0};const pt=(0,a.$j)((function(){return(0,o.P1)((0,h.Z)(),(0,m.Z)(),(e=>e.ui.mediaSubscriptionModal),y,v,ct(),(0,o.P1)((0,p.Z)(),ct(),((e,t)=>{const n=(0,S.getRootType)(t);return e.filter((e=>{const{id:t}=(0,S.getMetadataType)(e.type);return t===n.id})).map((e=>({librarySectionID:e.key,locations:e.locations,title:e.title})))})),((e,t,n,r={},i,s,a)=>{const o=c().omit(n,"templates","mediaSubscription"),l=r,{key:d,grabOperations:u=[],prefs:p}=l,m=lt(l,["key","grabOperations","prefs"]),h=e.isFullOwnedServer,{initialMode:g,modes:y}=function(e,t){let n,r;return t.length>1?(r=t.findIndex((e=>e.selected)),n=t.map((({title:e},t)=>({[t]:e})))):(r=0,n=e.title?[{0:e.title}]:null),{initialMode:r,modes:n}}(r,i),v=u.reduce(((e,t)=>t.conflicts&&t.conflicts.length?e.concat(t.conflicts):e),[]),f=(0,N.Z)(p),b=(0,Z.Z)(t),S=b?b.directories[0]:null,I=e&&e.desktop||{};return ot(ot({mediaSubscriptionKey:d,prefGroups:f,metadataType:s,libraries:a,isLibrariesLoading:!I.isLibrariesPopulated||I.isLibrariesPending,hasLibrariesError:!!I.librariesError,initialMode:g,modes:y,conflicts:v,server:e,provider:t,canAddLibrary:h,sourceDirectory:S},o),m)}))}),dt)(ut);var mt=Object.defineProperty,ht=Object.prototype.hasOwnProperty,gt=Object.getOwnPropertySymbols,yt=Object.prototype.propertyIsEnumerable,vt=(e,t,n)=>t in e?mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ft=(e,t)=>{for(var n in t||(t={}))ht.call(t,n)&&vt(e,n,t[n]);if(gt)for(var n of gt(t))yt.call(t,n)&&vt(e,n,t[n]);return e};const bt=function(e){const t=e,{isOpen:n,metricsProperties:a,onModalClose:o}=t,l=((e,t)=>{var n={};for(var r in e)ht.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&gt)for(var r of gt(e))t.indexOf(r)<0&&yt.call(e,r)&&(n[r]=e[r]);return n})(t,["isOpen","metricsProperties","onModalClose"]);return r.createElement(s.Z,{isOpen:n,metricsPage:i.X$,metricsProperties:a,onModalClose:o},r.createElement(pt,ft(ft({},l),{onModalClose:o})))}},63626:(e,t,n)=>{"use strict";n.d(t,{Z:()=>$});var r=n(67294),i=n(89969),s=n(82128),a=n(69605),o=n(2424),l=n(22222),c=n(81017);function d(e){return e.ui.subtitlesModal}var u=n(59701),p=n(53221),m=n(13162),h=n(98932);const g=["af","sq","ar","an","hy","az","eu","be","bn","bs","br","bg","my","ca","zh","zh-TW","cs","da","nl","en","eo","et","fi","fr","ka","de","gl","el","he","hi","hr","hu","is","id","it","ja","kn","kk","km","ko","ku","lv","lt","lb","mk","ml","ms","mn","no","oc","fa","pl","pt","pt-BR","ro","ru","sr","si","sk","sl","es","sw","sv","ta","te","tl","th","tr","uk","ur","vi"],y=g.reduce(((e,t)=>(e[t]=h.ZP[t],e)),{});function v(e){if(y[e])return e;const t=(0,m.Z)([e]);return y[t]?t:"en"}const f=[...g].sort(h.wq).reduce(((e,t)=>(e.push(y[t]),e)),[]),b=y;var S=n(5562),I=n(18246),Z=n(99085),P=n(70182),E=n(89460),M=n(90653),C=n(58801),w=n(40691),D=n(64795),T=n(45428),O=n(92521),x=n(6103),A=n(82378),N=n(35771),k=n(84299);class L extends r.Component{constructor(){super(...arguments),this.onPress=()=>{const{subtitleKey:e,codec:t,languageCode:n,providerTitle:r,hearingImpaired:i,forced:s,onDownloadSubtitle:a}=this.props;a({key:e,codec:t,languageCode:n,providerTitle:r,hearingImpaired:i,forced:s})}}render(){const{title:e,displayTitle:t,score:n,perfectMatch:i,downloaded:s,isDownloading:a}=this.props;return r.createElement(x.Z,{className:"SubtitleRow-item-2r7hwu",isDisabled:s||a,onPress:this.onPress},r.createElement("div",{className:"SubtitleRow-titles-15A4BQ"},r.createElement("span",{className:"SubtitleRow-title-3y_zqh"},e),r.createElement("span",{className:"SubtitleRow-secondaryTitle-3bJ-VY SubtitleRow-title-3y_zqh"},t)),r.createElement("div",{className:"SubtitleRow-score-hE6pQR"},i?r.createElement(O.Z,{className:"SubtitleRow-perfectMatch-3LUb2g"}):null,n),a?r.createElement("div",{className:"SubtitleRow-spinnerContainer-jDr62y"},r.createElement(C.Z,{size:A.HC})):null,s?r.createElement(N.Z,{className:"SubtitleRow-downloadedIcon-34X5Ls SubtitleRow-icon-2w_Nam"}):null,a||s?null:r.createElement(k.Z,{className:"SubtitleRow-downloadIcon-10ImXJ SubtitleRow-icon-2w_Nam"}))}}const j=L,R=function(e){const{subtitles:t,subtitlesDownloadKey:n,onDownloadSubtitle:i}=e;return r.createElement(T.Z,null,t.map((e=>{const{key:t,title:s,displayTitle:a,providerTitle:o,score:l,codec:c,languageCode:d,hearingImpaired:u,forced:p,perfectMatch:m,downloaded:h}=e;return r.createElement(j,{key:t,subtitleKey:t,title:s,displayTitle:a,providerTitle:o,score:l,codec:c,languageCode:d,hearingImpaired:u,forced:p,perfectMatch:m,downloaded:h,isDownloading:n===t,onDownloadSubtitle:i})})))},V="SubtitlesModalContent-centeredContainer-3O0Ga2";class U extends r.Component{constructor(e,t){super(e,t),this.onSearch=()=>{const{language:e,title:t}=this.state;this.props.onFetchSubtitles({language:e,title:t})},this.onLanguageChange=e=>{const t=Object.keys(b).find((t=>b[t]===e));this.setState({language:t},this.onSearch)},this.onTitleChange=e=>{this.searchTimeoutID&&window.clearTimeout(this.searchTimeoutID),this.setState({title:e},(()=>{this.searchTimeoutID=window.setTimeout(this.onSearch,500)}))},this.state={language:v(e.defaultSubtitleLanguage),title:""},this.searchTimeoutID=null}componentDidMount(){this.onSearch()}componentDidUpdate(e,t){const{isSubtitlesDownloaded:n,onModalClose:r}=this.props,{isSubtitlesDownloaded:i}=e;!i&&n&&r()}componentWillUnmount(){this.searchTimeoutID&&window.clearTimeout(this.searchTimeoutID)}render(){const{mediaTitle:e,subtitles:t,showSpinner:n,showSearchResults:i,showEmptyMessage:s,hasSubtitlesError:a,subtitlesError:o,subtitlesDownloadKey:l,hasSubtitlesDownloadError:c,subtitlesDownloadError:d,onDownloadSubtitle:u,onModalClose:p}=this.props,{language:m}=this.state;return r.createElement("div",{className:"SubtitlesModalContent-modalContainer-26JoCE"},r.createElement(D.Z,{onModalClose:p},r.createElement(E.Z,null,(0,S.Z)("Subtitles")),c?r.createElement("div",null,r.createElement(w.Z,{errorMessage:d})):null,r.createElement(P.Z,{className:"SubtitlesModalContent-modalBody-1LbnSr ModalBody-modalBody-38ercY",scrollDirection:M.Hn},r.createElement("div",{className:"SubtitlesModalContent-inputs-2_Hxt8"},r.createElement(I.Z,{className:"SubtitlesModalContent-languageInput-1OdK6X SelectInput-input-_K0kCK input-input-3msd1_",name:"language",value:b[m],values:f,onChange:this.onLanguageChange}),r.createElement(Z.Z,{className:"SubtitlesModalContent-titleInput-3lo7d2 TextInput-input-16EbOL input-input-3msd1_",name:"title",placeholder:e,onChange:this.onTitleChange})),n?r.createElement("div",{className:V},r.createElement(C.Z,null)):null,a?r.createElement("div",{className:V},o):null,i?r.createElement(R,{subtitles:t,subtitlesDownloadKey:l,onDownloadSubtitle:u}):null,s?r.createElement("div",{className:V},(0,S.Z)("No results")):null)))}}const z=U,B=(0,i.$j)((function(){return(0,l.P1)((0,u.Z)("profile"),(0,c.Z)(),d,((e,t={},n)=>{const{Media:r}=t;let i="";if(r&&r.length){const e=r[0].Part;e.length&&(i=(0,p.Z)(e[0].file,55))}const{subtitles:s,isSubtitlesPending:a,isSubtitlesPopulated:o,subtitlesError:l,subtitlesDownloadKey:c,isSubtitlesDownloaded:d,subtitlesDownloadError:u}=n,m=a&&!l,h=o&&!l&&s.length>0,g=o&&!l&&0===s.length;return{mediaTitle:i,defaultSubtitleLanguage:e.defaultSubtitleLanguage,subtitles:s,showSpinner:m,showSearchResults:h,showEmptyMessage:g,subtitlesDownloadKey:c,isSubtitlesDownloaded:d,hasSubtitlesError:!!l,subtitlesError:l,hasSubtitlesDownloadError:!!u,subtitlesDownloadError:u}}))}),(function(e,t){const{metadataItemEntityID:n}=t;return{onFetchSubtitles({language:t,title:r}){e((0,s.ao)({metadataItemEntityID:n,language:t,title:r}))},onDownloadSubtitle(t){const{key:r,codec:i,languageCode:a,providerTitle:o,hearingImpaired:l,forced:c}=t;e((0,s.LL)({metadataItemEntityID:n,key:r,codec:i,language:a,providerTitle:o,hearingImpaired:l,forced:c}))}}}))(z),_=function(e){const{metadataItemEntityID:t,isOpen:n,onModalClose:i}=e;return r.createElement(o.Z,{isOpen:n,metricsPage:a.Wv,onModalClose:i},r.createElement(B,{metadataItemEntityID:t,onModalClose:i}))};var F=Object.defineProperty,H=Object.prototype.hasOwnProperty,W=Object.getOwnPropertySymbols,Q=Object.prototype.propertyIsEnumerable,G=(e,t,n)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y=(e,t)=>{for(var n in t||(t={}))H.call(t,n)&&G(e,n,t[n]);if(W)for(var n of W(t))Q.call(t,n)&&G(e,n,t[n]);return e};const q={dispatchResetMetadataItemSubtitles:s.kS};class K extends r.Component{constructor(){super(...arguments),this.onModalClose=()=>{this.props.dispatchResetMetadataItemSubtitles(),this.props.onModalClose()}}render(){return r.createElement(_,Y(Y({},this.props),{onModalClose:this.onModalClose}))}}const $=(0,i.$j)(null,q)(K)},18208:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n(67294),i=n(89969),s=n(39783),a=n(69605),o=n(2424),l=n(22222),c=n(94184),d=n.n(c),u=n(5562),p=n(53757),m=n(22745),h=n(6103),g=n(70182),y=n(79849),v=n(56510),f=n(89460),b=n(90653),S=n(80708),I=n(40691),Z=n(64795);class P extends r.Component{constructor(e,t){super(e,t),this.onDragEnter=(e=window.event)=>{e.preventDefault(),this.dropTargetEnteredCounter++,this.setOverDropTargetState()},this.onDragLeave=(e=window.event)=>{e.preventDefault(),this.dropTargetEnteredCounter--,this.setOverDropTargetState()},this.onFileDrop=e=>{e.preventDefault();const{metadataItemEntityID:t,dispatchUploadSubtitles:n}=this.props;let r;this.setState({isOverDropTarget:!1}),this.dropTargetEnteredCounter=0,e.dataTransfer&&e.dataTransfer.files.length?r=e.dataTransfer.files[0]:e.target.files&&e.target.files.length&&(r=e.target.files[0]),n({metadataItemEntityID:t,file:r})},this.dropTargetEnteredCounter=0,this.state={isOverDropTarget:!1}}componentDidMount(){window.addEventListener("dragover",this.onWindowDragOver),window.addEventListener("drop",this.onWindowDrop)}componentDidUpdate(e){const{isUploading:t,isUploaded:n,onModalClose:r}=this.props;e.isUploading&&!t&&n&&r()}componentWillUnmount(){window.removeEventListener("dragover",this.onWindowDragOver),window.removeEventListener("drop",this.onWindowDrop)}setOverDropTargetState(){this.state.isOverDropTarget||0===this.dropTargetEnteredCounter||this.setState({isOverDropTarget:!0}),this.state.isOverDropTarget&&0===this.dropTargetEnteredCounter&&this.setState({isOverDropTarget:!1})}onWindowDrop(e=window.event){e.preventDefault()}onWindowDragOver(e=window.event){e.preventDefault()}onDragOver(e=window.event){e.dataTransfer.dropEffect="copy"}render(){const{isUploading:e,isUploaded:t,error:n,onModalClose:i}=this.props,{isOverDropTarget:s}=this.state;return r.createElement(Z.Z,{onModalClose:i},r.createElement(f.Z,null,(0,u.Z)("Upload Subtitle File")),n?r.createElement(I.Z,{errorMessage:n}):null,r.createElement(g.Z,{className:"SubtitlesUploadModalContent-modalBody-1P9zuu ModalBody-modalBody-38ercY",scrollDirection:b.Hn},r.createElement("div",{className:d()("SubtitlesUploadModalContent-container-2qD4bU",s&&"SubtitlesUploadModalContent-dropHover-kKWAnJ"),onDrop:e?null:this.onFileDrop,onDragOver:e?null:this.onDragOver,onDragEnter:e?null:this.onDragEnter,onDragLeave:e?null:this.onDragLeave},e||t?r.createElement("div",{className:"SubtitlesUploadModalContent-uploadingContainer-3wwMiE"},r.createElement(p.Z,{label:(0,u.Z)("Uploading subtitle file")})):r.createElement("div",{className:"SubtitlesUploadModalContent-fileInputContainer-3InEO1"},r.createElement(S.Z,{inputComponent:h.Z,className:"SubtitlesUploadModalContent-fileInputLink-5XYS0V",name:"subtitleFile",buttonText:(0,u.Z)("Choose a file"),onChange:this.onFileDrop}),r.createElement("span",{className:"SubtitlesUploadModalContent-separator-vZMCFi"},"·"),(0,u.Z)("drag and drop")))),r.createElement(y.Z,null,r.createElement(v.Z,null,r.createElement(m.Z,{onPress:i},(0,u.Z)("Cancel")))))}}const E=P,M={dispatchUploadSubtitles:s.mt},C=(0,i.$j)((function(){return(0,l.P1)((e=>e.ui.subtitlesUploadModal),(e=>e))}),M)(E),w=function(e){const{metadataItemEntityID:t,isOpen:n,onModalClose:i}=e;return r.createElement(o.Z,{className:"SubtitlesUploadModal-modal-1BU7Mi Modal-medium-3YP8Mf Modal-modal-23PFoV",isOpen:n,metricsPage:a.m9,onModalClose:i},r.createElement(C,{metadataItemEntityID:t,onModalClose:i}))};var D=Object.defineProperty,T=Object.prototype.hasOwnProperty,O=Object.getOwnPropertySymbols,x=Object.prototype.propertyIsEnumerable,A=(e,t,n)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N=(e,t)=>{for(var n in t||(t={}))T.call(t,n)&&A(e,n,t[n]);if(O)for(var n of O(t))x.call(t,n)&&A(e,n,t[n]);return e};const k={dispatchResetUploadSubtitles:s.GO};class L extends r.Component{constructor(){super(...arguments),this.onModalClose=()=>{this.props.dispatchResetUploadSubtitles(),this.props.onModalClose()}}render(){const e=this.props,{dispatchResetUploadSubtitles:t}=e,n=((e,t)=>{var n={};for(var r in e)T.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&O)for(var r of O(e))t.indexOf(r)<0&&x.call(e,r)&&(n[r]=e[r]);return n})(e,["dispatchResetUploadSubtitles"]);return r.createElement(w,N(N({},n),{onModalClose:this.onModalClose}))}}const j=(0,i.$j)(null,k)(L)},96270:(e,t,n)=>{"use strict";n.d(t,{Z:()=>U});var r=n(67294),i=n(69605),s=n(2424),a=n(89969),o=n(22222),l=n(34891),c=n(82261),d=n(92187),u=n(99449),p=n(27082),m=n(43666),h=n(58709),g=n(5562),y=n(65671),v=n(22745),f=n(6103),b=n(26955),S=n(70182),I=n(79849),Z=n(89460),P=n(30464),E=n(60528),M=n(90653),C=n(52114),w=n(58801),D=n(58300),T=n(40691),O=n(64795);const x=function(e){const{serverEntityID:t,metadataItemEntityID:n,watchTogetherRoomEntityID:i,users:s,isLoading:a,isInvitePending:o,isInviteCompleted:l,inviteError:c,onModalClose:d,dispatchCreateRoom:u,dispatchInviteUsers:p}=e,[m,h]=(0,r.useState)([]),x=!(0,P.Z)(l)&&l&&!c;(0,r.useEffect)((()=>{x&&d()}),[x,d]);const A=(0,r.useCallback)((e=>m.includes(e.id)),[m]),N=(0,r.useCallback)((e=>{const t=m.includes(e)?m.filter((t=>t!==e)):[...m,e];h(t)}),[m]),k=(0,r.useCallback)((()=>{i?p({watchTogetherRoomEntityID:i,userIDs:m}):u({metadataItemEntityID:n,userIDs:m})}),[n,i,m,u,p]),L=s.length>0;return r.createElement(O.Z,{onModalClose:d},r.createElement(Z.Z,null,(0,g.Z)("Watch Together")),c?r.createElement(T.Z,{errorMessage:c}):null,r.createElement(S.Z,{className:"WatchTogetherInviteModalContent-modalBody-1QmrET ModalBody-modalBody-38ercY",scrollDirection:M.Hn},a?null:r.createElement("div",{className:"WatchTogetherInviteModalContent-message-qbZjvQ"},L?(0,g.Z)("Invite friends to watch with you."):r.createElement(y.Z,{message:(0,g.Z)("Add friends in {openSpan}Users & Sharing{closeSpan} to watch together."),tags:[{open:"openSpan",close:"closeSpan",component:f.Z,kind:E._8,to:"#!/settings/users-sharing"}]})),a?r.createElement("div",{className:"WatchTogetherInviteModalContent-spinnerContainer-3h-Fqq"},r.createElement(w.Z,null)):null,!a&&L?r.createElement(r.Fragment,null,r.createElement(b.Z,null,(0,g.Z)("Users")),r.createElement(C.Z,{className:"WatchTogetherInviteModalContent-list-2dpwK0 UserList-list-3MJnr9 Scroller-vertical-3IY07c",serverEntityID:t,users:s,isUserSelected:A,onUserSelect:N})):null),r.createElement(I.Z,{className:"WatchTogetherInviteModalContent-modalFooter-WaRJhX ModalFooter-modalFooter-1Q0cxs"},r.createElement(v.Z,{onPress:d},(0,g.Z)("Cancel")),r.createElement(D.Z,{kind:E._8,isDisabled:o||0===m.length,isSpinning:o,onPress:k},(0,g.Z)("Invite"))))};var A=Object.defineProperty,N=Object.prototype.hasOwnProperty,k=Object.getOwnPropertySymbols,L=Object.prototype.propertyIsEnumerable,j=(e,t,n)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const R={dispatchFetchAllFriends:m.Tp,dispatchCreateRoom:h.dB,dispatchInviteUsers:h.pS,dispatchResetCreateRoom:h.KU},V=(0,a.$j)((function(){return(0,o.P1)((e=>e.ui.watchTogether),d.Z,c.Z,l.Z,(0,o.P1)(((e,{watchTogetherRoomEntityID:t})=>t),u.Z,((e,t)=>t[e])),((e,t,n,r,i)=>({users:n.reduce(((e,t)=>{const n=r[t];return(!i||!i.users.find((e=>e.id===n.id)))&&e.push(n),e}),[]),isLoading:t.isAllFriendsPending,isInvitePending:e.isInvitePending,isInviteCompleted:e.isInviteCompleted,inviteError:e.inviteError})))}),R)((function(e){const t=e,{dispatchFetchAllFriends:n,dispatchResetCreateRoom:i}=t,s=((e,t)=>{var n={};for(var r in e)N.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&k)for(var r of k(e))t.indexOf(r)<0&&L.call(e,r)&&(n[r]=e[r]);return n})(t,["dispatchFetchAllFriends","dispatchResetCreateRoom"]);return(0,r.useEffect)((()=>{(0,p.c9)((()=>{n()}))}),[n]),(0,r.useEffect)((()=>i),[i]),r.createElement(x,((e,t)=>{for(var n in t||(t={}))N.call(t,n)&&j(e,n,t[n]);if(k)for(var n of k(t))L.call(t,n)&&j(e,n,t[n]);return e})({},s))})),U=function(e){const{serverEntityID:t,metadataItemEntityID:n,watchTogetherRoomEntityID:a,metricsProperties:o,isOpen:l,onModalClose:c}=e;return r.createElement(s.Z,{metricsPage:i.Vg,metricsProperties:o,isOpen:l,onModalClose:c},r.createElement(V,{serverEntityID:t,metadataItemEntityID:n,watchTogetherRoomEntityID:a,onModalClose:c}))}},51792:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ze});var r=n(94184),i=n.n(r),s=n(67294),a=n(19210),o=n(47636),l=n(89267),c=n(5148),d=n(22222),u=n(59756),p=n(34007),m=n(79932),h=n(81017),g=n(45206),y=n(89335),v=n(69881),f=n(54834),b=n(757),S=n(50316),I=n(57358),Z=n(98563),P=n(90579),E=n(61478),M=n(91135);function C(e,t){const{type:n,subtype:r,viewCount:i,viewOffset:s,saved:a}=e;if(null!=a&&!a)return!1;const o=n===v.TRACK&&r===E.PODCAST,l=n===v.EPISODE&&r===E.WEBSHOW;return(o||l||function(e,t){const{isLibraryItem:n,isFolder:r,isExtra:i}=e;return n&&!r&&!i&&t.mediaType===M.pX}(e,t))&&!i&&!s}function w(e,t){const{type:n,subtype:r,saved:i,unviewedLeafCount:s,isLibraryItem:a,isExtra:o}=e;if(null!=i&&!i)return!1;const l=a&&!o&&v.isDirectoryType(n)&&t.mediaType===M.pX,c=n===v.SHOW&&(r===E.PODCAST||r===E.WEBSHOW);return(l||c)&&!!s}var D=n(87691);function T(e){const{type:t,isLibraryItem:n,isExtra:r,Media:i}=e,s=(0,v.getMetadataType)(t);if(!s)return!1;const a=i.length;return n&&!r&&s.mediaType===M.pX&&a>1}var O=n(73862),x=n(63210),A=n(21709),N=n(72181),k=n(28889),L=n(73588),j=n(27154),R=n(6103),V=n(5011),U=n(53851),z=n(52097),B=n(10128),_=n(75696);function F(e,t,n){const r=t-e,i=n-e;return(0,y.Z)(i,r)}var H=n(27202);class W extends s.Component{constructor(e,t){super(e,t),this.tick=()=>{this.setState(this.getState(this.props)),this.setTickTimeout()},this.state=this.getState(e)}UNSAFE_componentWillMount(){this.setTickTimeout()}UNSAFE_componentWillReceiveProps(e,t){this.setState(this.getState(e))}shouldComponentUpdate(e,t){return(0,o.Z)(this,e,t)}componentWillUnmount(){this.tickTimeout&&window.clearTimeout(this.tickTimeout)}getState({beginsAt:e,endsAt:t}){return{progress:F(e,t,Date.now()/1e3)}}setTickTimeout(){this.tickTimeout=window.setTimeout(this.tick,6e4-Date.now()%6e4)}render(){const e=this.props.className,t=this.state.progress;return t?s.createElement(H.Z,{className:e,progress:t}):null}}const Q=W;class G extends s.Component{constructor(e,t){super(e,t),this.onRecordPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:!1},this._moreButtonID=(0,U.Z)()}shouldComponentUpdate(e,t){return(0,o.Z)(this,e,t)}render(){const{className:e,serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,route:a,type:o,title:l,subscriptionType:c,isSubscribed:d,showLink:u,beginsAt:p,endsAt:m,showPlay:h,showRecord:g,onPlayLiveTVPress:y}=this.props,{isSubscribeModalOpen:v}=this.state;return s.createElement("div",{className:i()(e,"EPGPosterCardOverlay-overlay-Nwfy_X")},s.createElement("div",{className:"EPGPosterCardOverlay-background-1-ScA-"}),d?s.createElement("div",{className:"EPGPosterCardOverlay-subscriptionBadge-BMVIPe MetadataPosterCardOverlay-badge-2SzLhB"},s.createElement(V.Z,{type:c})):null,u?s.createElement(R.Z,{className:"EPGPosterCardOverlay-link-cMbySe",to:a}):null,s.createElement(Q,{className:"EPGPosterCardOverlay-progress-q8pdJR PosterCardOverlayProgress-progress-nklF0v",beginsAt:p,endsAt:m}),h?s.createElement(z.Z,{className:u?"EPGPosterCardOverlay-playButton-37xkJ0 RecordButton-recordButton-2H5wQ_ PlayButton-playButton-2dFmuo RecordIcon-recordIconContainer-3wNYSz EPGPosterCardOverlay-button-3PdN5o MetadataPosterCardOverlay-button-28HkcF":"EPGPosterCardOverlay-playCoverButton-2DtcDc EPGPosterCardOverlay-playButton-37xkJ0 RecordButton-recordButton-2H5wQ_ PlayButton-playButton-2dFmuo RecordIcon-recordIconContainer-3wNYSz EPGPosterCardOverlay-button-3PdN5o MetadataPosterCardOverlay-button-28HkcF",circleClassName:"EPGPosterCardOverlay-playCircle-2493Vc MetadataPosterCardOverlay-playCircle-3mCEvQ PlayButton-playCircle-2DYa77 MetadataPosterCardOverlay-centerCircle-1wphgg",tabIndex:"-1",title:l,"data-qa-id":"metadataPosterPlayButton",onPress:y}):null,!h&&g?s.createElement(B.Z,{className:u?"EPGPosterCardOverlay-recordButton-1qk4sb RecordButton-recordButton-2H5wQ_ PlayButton-playButton-2dFmuo RecordIcon-recordIconContainer-3wNYSz EPGPosterCardOverlay-button-3PdN5o MetadataPosterCardOverlay-button-28HkcF":"EPGPosterCardOverlay-recordCoverButton-FFitz2 EPGPosterCardOverlay-recordButton-1qk4sb RecordButton-recordButton-2H5wQ_ PlayButton-playButton-2dFmuo RecordIcon-recordIconContainer-3wNYSz EPGPosterCardOverlay-button-3PdN5o MetadataPosterCardOverlay-button-28HkcF","data-qa-id":"metadataPosterRecordButton",circleClassName:"EPGPosterCardOverlay-recordCircle-1ss0vx RecordIcon-recordCircle-24nR_8 PlayButton-playCircle-2DYa77 MetadataPosterCardOverlay-centerCircle-1wphgg",iconClassName:"EPGPosterCardOverlay-recordIcon-t706e9 RecordIcon-recordIcon-vppRrs",tabIndex:"-1",title:l,onPress:this.onRecordPress}):null,h&&g?s.createElement(B.Z,{className:"EPGPosterCardOverlay-recordButtonBottom-1IcmXe EPGPosterCardOverlay-recordButton-1qk4sb RecordButton-recordButton-2H5wQ_ PlayButton-playButton-2dFmuo RecordIcon-recordIconContainer-3wNYSz EPGPosterCardOverlay-button-3PdN5o MetadataPosterCardOverlay-button-28HkcF","data-qa-id":"metadataPosterRecordButton",circleClassName:"EPGPosterCardOverlay-recordCircleBottom-2K3xhq EPGPosterCardOverlay-recordCircle-1ss0vx RecordIcon-recordCircle-24nR_8 PlayButton-playCircle-2DYa77 MetadataPosterCardOverlay-centerCircle-1wphgg",iconClassName:"EPGPosterCardOverlay-recordIconBottom-1KR8Kh RecordIcon-recordIcon-vppRrs",tabIndex:"-1",title:l,onPress:this.onRecordPress}):null,s.createElement(_.Z,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,isOpen:v,subscriptionType:o,onModalClose:this.onSubscribeModalClose}))}}const Y=G;var q=n(77199),K=Object.defineProperty,$=Object.prototype.hasOwnProperty,X=Object.getOwnPropertySymbols,J=Object.prototype.propertyIsEnumerable,ee=(e,t,n)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,te=(e,t)=>{for(var n in t||(t={}))$.call(t,n)&&ee(e,n,t[n]);if(X)for(var n of X(t))J.call(t,n)&&ee(e,n,t[n]);return e};const ne=(0,A.Z)(q.Z),re=(0,D.Z)((function(){return(0,d.P1)(((e,{type:t})=>t),((e,{listType:t})=>t),(0,h.Z)(),S.Z,b.Z,I.Z,(0,x.Z)(),(0,d.P1)((0,h.Z)(),(e=>e&&e.viewOffset&&e.type!==v.GAME?(0,y.Z)(e.viewOffset,e.duration):0)),(0,g.Z)(),(0,f.Z)(),((e,t,n,r={},i={},s={},a,o,l,c)=>{const{subtype:d,title:p,viewCount:m,viewOffset:h,unviewedLeafCount:g,smart:y,icon:f,metadataState:b,mediaState:S,deletedAt:I,subscriptionID:E,subscriptionType:M,grandparentSubscriptionID:D,grandparentSubscriptionType:O,ratingKey:x,isFolder:A,isPlaylist:j,Media:R}=n,V=(0,N.tW)({server:r,provider:i,stableUser:s,metadataItem:n}),U=!!i.features.subscribe,z=(0,N.J5)({server:r,provider:i,stableUser:s,metadataItem:n}),B=t===v.PHOTO&&(0,N.y7)({server:r,provider:i,stableUser:s,metadataItem:n}),_=t===v.PHOTO&&(0,N.QF)({server:r,provider:i,stableUser:s,metadataItem:n}),F=(0,N.k_)({server:r,provider:i,stableUser:s,metadataItem:n}),H=v.getMetadataType(e),W=v.getLeafType(e),Q=!(!H||!W||H.id!==W.id),G=R.length,Y=null!=E||null!=D,q=!!y&&j,K=f===Z.nA,$=b===P.gO,X=b===P.a7||b===P.br,J=!$&&!X&&!!S,ee=$||X||J,te=!ee&&!!I,ne=!(!x||!l)&&u.Z.allowSyncDownload;return{server:r,provider:i,route:a,title:p,viewCount:m,viewOffset:h,viewPercent:o,unviewedLeafCount:g,mediaCount:G,subscriptionType:M||O,type:e,subtype:d,isSubscribed:Y,isMultiVersion:T(n),isSmart:q,isFavorite:K,isMatching:$,isProcessing:X,isAnalyzing:J,isRefreshing:ee,isTrash:te,isLeafType:Q,showLink:!!a,showUnplayedBadge:C(n,H),showUnplayedNumberBadge:w(n,W),showPlay:V,showRecord:U,showEdit:z,showFavorite:B,showUnfavorite:_,showSelect:F,showMore:!A,showAvailableOffline:ne,beginsAt:c&&c.beginsAt,endsAt:c&&c.endsAt,source:l,ratingKey:x,hasOfflineFile:(0,k.Z)(n),hasOwnSubscription:(0,L.Z)(n)}}))}),(function(e,t){const n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,itemServerEntityID:t.itemServerEntityID||t.serverEntityID,itemProviderEntityID:t.itemProviderEntityID||t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e((0,m.wA)(te(te({},n),{options:{containerKey:t.containerKey,listType:t.listType}})))},onPlayLiveTVPress(){e((0,p.lS)(te(te({},n),{options:{containerKey:t.containerKey,listType:t.listType}})))},onEditPress(){e((0,O.editMetadataItem)(n))},onFavoritePress(){e((0,O.favoriteMetadataItem)(n))},onUnfavoritePress(){e((0,O.unfavoriteMetadataItem)(n))}}}),j.Z)((function(e){const t=e,{server:n,provider:r}=t,i=((e,t)=>{var n={};for(var r in e)$.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&X)for(var r of X(e))t.indexOf(r)<0&&J.call(e,r)&&(n[r]=e[r]);return n})(t,["server","provider"]),a=te(te({},i),{itemServerEntityID:e.itemServerEntityID||e.serverEntityID,itemProviderEntityID:e.itemProviderEntityID||e.providerEntityID});return r.protocols.livetv?s.createElement(Y,te({},a)):e.showSelect&&!e.showLinkOnly?s.createElement(ne,te({},a)):s.createElement(q.Z,te({},a))})),ie={poster:"MetadataPosterCardFace-poster-11uR3N",face:"MetadataPosterCardFace-face-3oaw1P MetadataPosterCardFace-poster-11uR3N",isSelected:"MetadataPosterCardFace-isSelected-2dld-q",faceFront:"MetadataPosterCardFace-faceFront-2Ik1VZ",faceBack:"MetadataPosterCardFace-faceBack-3jAK_A"};var se=Object.defineProperty,ae=Object.prototype.hasOwnProperty,oe=Object.getOwnPropertySymbols,le=Object.prototype.propertyIsEnumerable,ce=(e,t,n)=>t in e?se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function de(e){const t=e,{className:n,serverEntityID:r,providerEntityID:a,metadataItemEntityID:o,itemServerEntityID:l,itemProviderEntityID:d,type:u,subtype:p,selectionType:m,activeSelectionType:h,isSelected:g,isOffscreen:y,visibleFace:v,imageWidth:f,imageHeight:b,imageUrl:S,disableCrossFade:I,icon:Z,backgroundSize:P,isFolder:E,showOverlay:M,onImageLoad:C,onImageError:w,onSelectItem:D,onDeselectItem:T}=t,O=((e,t)=>{var n={};for(var r in e)ae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&oe)for(var r of oe(e))t.indexOf(r)<0&&le.call(e,r)&&(n[r]=e[r]);return n})(t,["className","serverEntityID","providerEntityID","metadataItemEntityID","itemServerEntityID","itemProviderEntityID","type","subtype","selectionType","activeSelectionType","isSelected","isOffscreen","visibleFace","imageWidth","imageHeight","imageUrl","disableCrossFade","icon","backgroundSize","isFolder","showOverlay","onImageLoad","onImageError","onSelectItem","onDeselectItem"]);return s.createElement("div",{className:i()(n,ie[v],g&&ie.isSelected)},s.createElement(c.Z,{serverEntityID:r,providerEntityID:a,itemServerEntityID:l,itemProviderEntityID:d,type:u,subtype:p,isOffscreen:y,url:S,width:f,height:b,disableCrossFade:I,icon:Z,backgroundSize:P,isFolder:E,onLoad:C,onError:w}),M?s.createElement(re,((e,t)=>{for(var n in t||(t={}))ae.call(t,n)&&ce(e,n,t[n]);if(oe)for(var n of oe(t))le.call(t,n)&&ce(e,n,t[n]);return e})({serverEntityID:r,providerEntityID:a,itemServerEntityID:l,itemProviderEntityID:d,metadataItemEntityID:o,type:u,selectionID:o,selectionType:m,activeSelectionType:h,isSelected:g,onSelectItem:D,onDeselectItem:T},O)):null)}de.defaultProps={className:ie.face,showOverlay:!0};const ue=de;var pe=Object.defineProperty,me=Object.prototype.hasOwnProperty,he=Object.getOwnPropertySymbols,ge=Object.prototype.propertyIsEnumerable,ye=(e,t,n)=>t in e?pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ve=(e,t)=>{for(var n in t||(t={}))me.call(t,n)&&ye(e,n,t[n]);if(he)for(var n of he(t))ge.call(t,n)&&ye(e,n,t[n]);return e};const fe="faceFront",be="faceBack",Se=(0,a.Z)(l.Z.posterFlipSpeed);class Ie extends s.Component{constructor(e,t){super(e,t),this.onImageLoad=()=>{this.state.isLoadingFace&&this._flipCard()},this.onImageError=()=>{this.state.isLoadingFace&&this._flipCard()},this.onFlipComplete=()=>{this.setState({isFlippingFace:!1,previousImageUrl:null})},this.state={visibleFace:fe,isLoadingFace:!1,isFlippingFace:!1,previousImageUrl:null}}UNSAFE_componentWillReceiveProps(e){const t=this.props.imageUrl,n=e.imageUrl&&t!==e.imageUrl;this.props.metadataKey===e.metadataKey&&n&&this._prepareFlip(t)}shouldComponentUpdate(e,t){return(0,o.Z)(this,e,t)}componentWillUnmount(){this._cancelFlip()}_prepareFlip(e){this._cancelFlip(),this.setState({isLoadingFace:!0,isFlippingFace:!0,previousImageUrl:e})}_flipCard(){this.setState((e=>({isLoadingFace:!1,visibleFace:e.visibleFace===fe?be:fe})),(()=>{this._flipTimeoutID=window.setTimeout(this.onFlipComplete,Se)}))}_cancelFlip(){this._flipTimeoutID&&(this._flipTimeoutID=window.clearTimeout(this._flipTimeoutID))}render(){const e=this.props,{className:t,cardClassName:n,cardFaceClassName:r,metadataKey:a,imageWidth:o,imageHeight:l,imageUrl:c}=e,d=((e,t)=>{var n={};for(var r in e)me.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&he)for(var r of he(e))t.indexOf(r)<0&&ge.call(e,r)&&(n[r]=e[r]);return n})(e,["className","cardClassName","cardFaceClassName","metadataKey","imageWidth","imageHeight","imageUrl"]),{visibleFace:u,isLoadingFace:p,isFlippingFace:m,previousImageUrl:h}=this.state,g={width:o,height:l};return s.createElement("div",{key:a,className:t,"data-qa-id":"metadataPosterCard--"+a},s.createElement("div",{className:i()(n,u===be&&"MetadataPosterCard-isFlipped-6fHcNb"),style:g},u===fe||m?s.createElement(ue,ve({key:fe,className:r,visibleFace:fe,imageWidth:o,imageHeight:l,imageUrl:u===fe&&!p||u===be&&p?c:h,disableCrossFade:m,onImageLoad:this.onImageLoad,onImageError:this.onImageError},d)):null,u===be||m?s.createElement(ue,ve({key:be,className:r,visibleFace:be,imageWidth:o,imageHeight:l,imageUrl:u===be&&!p||u===fe&&p?c:h,disableCrossFade:m,onImageLoad:this.onImageLoad,onImageError:this.onImageError},d)):null))}}Ie.defaultProps={className:"MetadataPosterCard-cardContainer-3cMNqe",cardClassName:"MetadataPosterCard-card-72Dv8q"};const Ze=Ie},28868:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(94184),i=n.n(r),s=n(67294),a=n(98563),o=n(82223),l=n(7947),c=n(91608),d=n(63233);const u=function(e){const{className:t,type:n,width:r,height:u,icon:p}=e,m=function(e){switch(e){case a.Hc:return l.Z;case a.SU:return o.Z;case a.Bs:return c.Z}}(p)||d.Z[n];if(!m)return null;const h={fontSize:Math.max(14,Math.min(Math.round(r/4),42)),lineHeight:`${u}px`},g={width:`${r}px`,height:`${u}px`};return s.createElement("div",{className:i()(t,"MetadataIcon-container-1oy4SI"),style:g},s.createElement(m,{style:h}))},p=function(e){const{className:t,type:n,icon:r,width:o,height:l,isFolder:c}=e;return s.createElement(u,{className:i()(t,"MetadataPosterCardIcon-placeholderIcon-HerOkc"),type:n,icon:c?a.SU:r,width:o,height:l})}},5148:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),i=n(89137),s=n(28868);const a=function(e){const{serverEntityID:t,providerEntityID:n,itemServerEntityID:a,itemProviderEntityID:o,type:l,isOffscreen:c,url:d,src:u,width:p,height:m,icon:h,backgroundSize:g,isFolder:y,disableCrossFade:v,onLoad:f,onError:b}=e;return c?null:d||u?r.createElement(i.Z,{serverEntityID:a||t,providerEntityID:o||n,url:d,src:u,width:p,height:m,backgroundPosition:"artist"===l?"center top":"center",backgroundSize:"game"===l?"contain":g,disableCrossFade:v,onLoad:f,onError:b}):r.createElement(s.Z,{type:l,width:p,height:m,isFolder:y,icon:h})}},77199:(e,t,n)=>{"use strict";n.d(t,{Z:()=>z});var r=n(94184),i=n.n(r),s=n(67294),a=n(5562),o=n(6103),l=n(27271),c=n(53851),d=n(66088),u=n(58801),p=n(52097),m=n(41523),h=n(46412),g=n(34504),y=n(4746),v=n(11969),f=n(52410),b=n(54183),S=n(53191),I=n(45697),Z=n.n(I),P=n(17845);function E(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-files-560"};i["aria-hidden"]=!t,i.style=r,i.className=P.Z.plexIcon+(n?" "+n:"");var a=[s.createElement.apply(s,["path",{d:"m480 240l0 240-240 0 0-240 240 0m-40 40l-160 0 0 160 160 0 0-160m-40-120l0 40-200 0 0 200-40 0 0-240 240 0m-80-80l0 40-200 0 0 200-40 0 0-240 240 0"}].concat([]))];return t&&a.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(a))}E.propTypes={"aria-label":Z().string,className:Z().string,style:Z().object};const M=E;var C=n(53863),w=n(39869),D=n(79501),T=n(62020),O=n(74739);function x(e){const{children:t,backgroundClassName:n,className:r,onMouseEnter:i}=e;return s.createElement("div",{className:r,onMouseEnter:i},s.createElement("div",{className:n}),t)}x.defaultProps={className:"PosterCardOverlay-overlay-35eZx2",backgroundClassName:"PosterCardOverlay-background-1aqke7"};const A=x;var N=n(27202);const k="MetadataPosterCardOverlay-overlay-1giDeK PosterCardOverlay-overlay-35eZx2",L="MetadataPosterCardOverlay-link-1pPuo-",j="MetadataPosterCardOverlay-selectCoverButton-85-g11 MetadataPosterCardOverlay-coverButton-2ENc2v",R="MetadataPosterCardOverlay-favoriteButton-8peghi MetadataPosterCardOverlay-button-28HkcF",V="MetadataPosterCardOverlay-refreshingCircle-2aXAjl MetadataPosterCardOverlay-centerCircle-1wphgg";class U extends s.Component{constructor(e,t){super(e,t),this.onActionsMenuOpenChange=e=>{this.setState({isActionsMenuOpen:e})},this.state={isActionsMenuOpen:!1},this._selectButtonID=(0,c.Z)()}render(){const{className:e,serverEntityID:t,providerEntityID:n,itemServerEntityID:r,itemProviderEntityID:c,metadataItemEntityID:I,containerKey:Z,listType:P,metricsContext:E,route:x,title:U,viewPercent:z,unviewedLeafCount:B,mediaCount:_,hasOfflineFile:F,hasOwnSubscription:H,isSubscribed:W,isMultiVersion:Q,isSmart:G,isFavorite:Y,isMatching:q,isProcessing:K,isAnalyzing:$,isRefreshing:X,isTrash:J,showUnplayedBadge:ee,showUnplayedNumberBadge:te,showLink:ne,showLinkOnly:re,showPlay:ie,showEdit:se,showSelect:ae,showMore:oe,showFavorite:le,showUnfavorite:ce,showRemove:de,showAvailableOffline:ue,canDrag:pe,hasActiveSelection:me,isSelected:he,isOtherItemSelected:ge,isConflictingTypeSelected:ye,isModifierKeyPressed:ve,isDragging:fe,isLeafType:be,source:Se,ratingKey:Ie,onMouseEnter:Ze,onPlayPress:Pe,onEditPress:Ee,onFavoritePress:Me,onUnfavoritePress:Ce,onRemovePress:we,onSelectPress:De,onDeselectPress:Te}=this.props,{isActionsMenuOpen:Oe}=this.state,xe=ae&&(ve||ge);if(re)return s.createElement("div",{className:i()(e,k)},ne?s.createElement(o.Z,{className:L,to:x}):null);const Ae=me||fe||ve||X||J,Ne=Oe,ke=Oe||fe||X||J,Le=W||H||be&&F;return s.createElement(A,{className:i()(e,k,me&&"MetadataPosterCardOverlay-hasActiveSelection-1s4PcX",he&&"MetadataPosterCardOverlay-isSelected-2mtwgI",ye&&"MetadataPosterCardOverlay-isConflictingTypeSelected-14ECmu",ae&&ve&&"MetadataPosterCardOverlay-isModifierKeyPressed-1t7Ti1",fe&&"MetadataPosterCardOverlay-isDragging-2YqzvF",Oe&&"MetadataPosterCardOverlay-isActionsMenuOpen-1K9yNU"),backgroundClassName:i()("MetadataPosterCardOverlay-background-1Zjvht PosterCardOverlay-background-1aqke7",Ae&&"MetadataPosterCardOverlay-selectedBackground-23R7q- PosterCardOverlay-selectedBackground-2k2OZv",Ne&&"MetadataPosterCardOverlay-hoverBackground-1LzJeh PosterCardOverlay-hoverBackground-1ftvjh",ke&&"MetadataPosterCardOverlay-visibleBackground-3S-7kU PosterCardOverlay-visibleBackground-3rgXxh"),onMouseEnter:Ze},ee?s.createElement("div",{className:"MetadataPosterCardOverlay-unplayedTagContainer-1XTwt6","data-qa-id":"metadataPosterUnwatchedBadge"},s.createElement("div",{className:"MetadataPosterCardOverlay-unplayedTag-343vvg MetadataPosterCardOverlay-unplayedBadge-OAvdeH MetadataPosterCardOverlay-badge-2SzLhB"})):null,te?s.createElement("div",{"data-qa-id":"metadataPosterUnwatchedNumberBadge",className:"MetadataPosterCardOverlay-unplayedBadge-OAvdeH MetadataPosterCardOverlay-badge-2SzLhB"},B):null,Q&&!Le?s.createElement("div",{className:"MetadataPosterCardOverlay-versionBadge-f_3Eic MetadataPosterCardOverlay-topLeftBadge-fMpxnJ MetadataPosterCardOverlay-badge-2SzLhB","data-qa-id":"metadataPosterMultipleVersionBadge"},s.createElement(M,{className:"MetadataPosterCardOverlay-versionBadgeIcon-aNntZ1"}),_):null,!G||Y||Le?null:s.createElement("div",{className:"MetadataPosterCardOverlay-smartBadge-3b4zKk MetadataPosterCardOverlay-topLeftBadge-fMpxnJ MetadataPosterCardOverlay-badge-2SzLhB","data-qa-id":"metadataPosterSmartBadge"},s.createElement(D.Z,{className:"MetadataPosterCardOverlay-smartBadgeIcon-3yfWqN"})),G&&Y&&!Le?s.createElement("div",{className:"MetadataPosterCardOverlay-favoriteBadge-2rsmZR MetadataPosterCardOverlay-topLeftBadge-fMpxnJ MetadataPosterCardOverlay-badge-2SzLhB","data-qa-id":"metadataPosterFavoriteBadge"},s.createElement(S.Z,{className:"MetadataPosterCardOverlay-favoriteBadgeIcon-NT5MAT"})):null,z?s.createElement(N.Z,{className:"MetadataPosterCardOverlay-progress-3pK_ng PosterCardOverlayProgress-progress-nklF0v",progress:z}):null,X?s.createElement("div",{className:"MetadataPosterCardOverlay-refreshingSpinnerContainer-30L6k4"},s.createElement(u.Z,{className:"MetadataPosterCardOverlay-refreshingSpinner-12DLbH"})):null,q?s.createElement("div",{className:V},s.createElement(w.Z,{"aria-label":(0,a.Z)("Matching")})):null,K?s.createElement("div",{className:V},s.createElement(T.Z,{"aria-label":(0,a.Z)("Downloading Metadata")})):null,$?s.createElement("div",{className:V},s.createElement(v.Z,{"aria-label":(0,a.Z)("Analyzing")})):null,J?s.createElement("div",{className:"MetadataPosterCardOverlay-trashCircle-3QThbK MetadataPosterCardOverlay-centerCircle-1wphgg"},s.createElement(O.Z,{"aria-label":(0,a.Z)("In Trash")})):null,ne?s.createElement(o.Z,{className:L,to:x}):null,xe&&!ye?s.createElement(o.Z,{className:j,onPress:De}):null,xe&&ye?s.createElement(l.Z,{className:j,component:o.Z,tooltip:(0,a.Z)("A different type is selected"),tooltipAttachment:d.jO,tooltipTarget:this._selectButtonID,showOnFocus:!1,hideOnPress:!1}):null,ue?s.createElement(h.Z,{className:"MetadataPosterCardOverlay-hasSubscriptionBadge-8-eIbE DownloadIcon-downloadIcon-14Rs3Q PlexIcon-plexIcon-2sd7AW MetadataPosterCardOverlay-topLeftBadge-fMpxnJ MetadataPosterCardOverlay-badge-2SzLhB",source:Se,ratingKey:Ie,hasOfflineFile:F,hasOwnSubscription:H,showShadow:!0}):null,ue?s.createElement(g.Z,{metadataItemEntityID:I,providerEntityID:c}):null,ie?s.createElement(p.Z,{className:ne?"MetadataPosterCardOverlay-playButton-oiGldp PlayButton-playButton-2dFmuo MetadataPosterCardOverlay-button-28HkcF":"MetadataPosterCardOverlay-playCoverButton-4DmHxY MetadataPosterCardOverlay-playButton-oiGldp PlayButton-playButton-2dFmuo MetadataPosterCardOverlay-button-28HkcF",circleClassName:"MetadataPosterCardOverlay-playCircle-3mCEvQ PlayButton-playCircle-2DYa77 MetadataPosterCardOverlay-centerCircle-1wphgg",component:pe?"div":"button",tabIndex:"-1",title:U,"data-qa-id":"metadataPosterPlayButton",onPress:Pe}):null,se?s.createElement(o.Z,{className:"MetadataPosterCardOverlay-editButton-7chGIc MetadataPosterCardOverlay-button-28HkcF",tabIndex:"-1","aria-label":(0,a.Z)("Edit {title}",{title:U}),"data-qa-id":"metadataPosterEditButton",onPress:Ee},s.createElement(f.Z,null)):null,le&&!Le?s.createElement(o.Z,{className:R,tabIndex:"-1","aria-label":(0,a.Z)("Add {title} to favorites",{title:U}),"data-qa-id":"metadataPosterFavoriteButton",onPress:Me},s.createElement(b.Z,null)):null,ce&&!Le?s.createElement(o.Z,{className:R,tabIndex:"-1","aria-label":(0,a.Z)("Remove {title} from favorites",{title:U}),"data-qa-id":"metadataPosterUnfavoriteButton",onPress:Ce},s.createElement(S.Z,null)):null,de?s.createElement(o.Z,{className:"MetadataPosterCardOverlay-removeButton-2ZeZbm MetadataPosterCardOverlay-button-28HkcF",tabIndex:"-1","aria-label":(0,a.Z)("Remove {title}",{title:U}),onPress:we},s.createElement(C.Z,null)):null,oe?s.createElement(y.Z,{"data-qa-id":"metadataPosterMoreButton",className:"MetadataPosterCardOverlay-moreButton-2LskAf MetadataPosterCardOverlay-button-28HkcF",tabIndex:"-1",serverEntityID:t,providerEntityID:n,itemServerEntityID:r,itemProviderEntityID:c,metadataItemEntityID:I,containerKey:Z,listType:P,metricsContext:E,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:Oe,onMenuOpenChange:this.onActionsMenuOpenChange}):null,ae?s.createElement(m.Z,{id:this._selectButtonID,className:"MetadataPosterCardOverlay-selectButton-3aCYdU SelectButton-selectButton-Yy19xn MetadataPosterCardOverlay-button-28HkcF",circleClassName:"MetadataPosterCardOverlay-selectCircle-2EOeWw SelectButton-selectCircle-16d-90",tabIndex:"-1",title:U,isSelected:he,isDisabled:ye,onPress:De}):null,he?s.createElement(o.Z,{className:"MetadataPosterCardOverlay-deselectCoverButton-5Qwexo MetadataPosterCardOverlay-coverButton-2ENc2v",onPress:Te}):null)}}const z=U},97863:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(94184),i=n.n(r),s=n(67294);const a=function(e){const{imageWidth:t,imageHeight:n,isSelected:r}=e,a={width:t,height:n};return s.createElement("div",{className:i()("MetadataPosterCardPlaceholder-placeholder-dAfuLC MetadataPosterCardFace-poster-11uR3N",r&&"MetadataPosterCardPlaceholder-isSelected-3ZTFWa MetadataPosterCardFace-isSelected-2dld-q"),style:a})}},97930:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(94184),i=n.n(r),s=n(67294);var a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const u=function(e){var t=e,{className:n,component:r,isSecondary:a,isDoubleLine:u,isSplitLine:p}=t,m=((e,t)=>{var n={};for(var r in e)o.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&l)for(var r of l(e))t.indexOf(r)<0&&c.call(e,r)&&(n[r]=e[r]);return n})(t,["className","component","isSecondary","isDoubleLine","isSplitLine"]);return s.createElement(r,((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({className:i()(n,u?"MetadataPosterTitle-doubleLineTitle-kqZ8Y9 MetadataPosterTitle-title-nXZNlz":"MetadataPosterTitle-singleLineTitle-1uEoHn MetadataPosterTitle-title-nXZNlz",a&&"MetadataPosterTitle-isSecondary-jkwKt1",p&&"MetadataPosterTitle-isSplitLine-3PX8OX")},m))}},27202:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294);class i extends r.Component{constructor(e,t){super(e,t),this.state={progress:e.progress}}UNSAFE_componentWillReceiveProps(e){this.setState({progress:e.progress})}render(){const e=this.props.className,t=this.state.progress;return r.createElement("div",{className:e},r.createElement("div",{className:"PosterCardOverlayProgress-progressTrack--vPFGK"}),r.createElement("div",{style:{transform:`translate3d(-${100-t}%, 0, 0)`},className:"PosterCardOverlayProgress-progressBar-1s57tW"}))}}i.defaultProps={progress:"PosterCardOverlayProgress-progress-nklF0v"};const s=i},15065:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(94184),i=n.n(r),s=n(67294),a=n(83705),o=n(84699),l=n(32003),c=n(5862),d=n(89137),u=n(28868);const p=function(e){const{serverEntityID:t,providerEntityID:n,isOffscreen:r,tagType:i,librarySectionType:o,title:p,url:m,width:h,height:g,transitionProps:y,onLoad:v,onError:f}=e;if(r)return null;if(m)return s.createElement(d.Z,{serverEntityID:t,providerEntityID:n,url:m,width:h,height:g,transitionProps:y,backgroundPosition:"center center",onLoad:v,onError:f});const b=a.Z.get(i);if(b&&b.isPerson)return s.createElement(c.Z,{name:p,width:h,height:g});const S=l.ZP.get(o),I=function(e){switch(e){case"artist":return"track";default:return e}}(S&&S.typeString);return s.createElement(u.Z,{type:I,width:h,height:g})};var m=Object.defineProperty,h=Object.prototype.hasOwnProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.propertyIsEnumerable,v=(e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function f(e){const t=e,{className:n,imageWidth:r,imageHeight:l,imageUrl:c,tag:d,tagType:u}=t,m=((e,t)=>{var n={};for(var r in e)h.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&g)for(var r of g(e))t.indexOf(r)<0&&y.call(e,r)&&(n[r]=e[r]);return n})(t,["className","imageWidth","imageHeight","imageUrl","tag","tagType"]),f=a.Z.get(u),b=!!f&&f.isPerson;return s.createElement(o.Z,((e,t)=>{for(var n in t||(t={}))h.call(t,n)&&v(e,n,t[n]);if(g)for(var n of g(t))y.call(t,n)&&v(e,n,t[n]);return e})({key:d,className:i()(n,b&&"TagPosterCard-isPerson-ojrvVy"),component:p,width:r,height:l,url:c,tagType:u},m))}f.defaultProps={className:"TagPosterCard-card-3VDS7c MetadataPosterCardFace-poster-11uR3N"};const b=f},93092:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i(e){const{attributionLogo:t}=e;return r.createElement("img",{className:"AttributionLogo-img-1--Xrx",src:t})}},65732:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),i=n(36475);const s=function({className:e,grandparentTitle:t}){return r.createElement(i.Z,{className:e,title:t})}},33894:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(22222),i=n(81017),s=n(757),a=n(50316),o=n(87691),l=n(6638),c=n(67294),d=n(2016);const u=(0,o.Z)((function(){return(0,r.P1)(((e,{metricsContext:t})=>t),a.Z,s.Z,(0,i.Z)(),((e,t,n,r={})=>{const i={};return e&&(i.context=e),{grandparentTitle:r.grandparentTitle,grandparentRoute:(0,l.Z)(t,n,r.grandparentKey,i)}}))}))((function({className:e,tabIndex:t,grandparentTitle:n,grandparentRoute:r}){return c.createElement(d.Z,{className:e,tabIndex:t,title:n,route:r})}))},64659:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(22222),i=n(81017),s=n(757),a=n(50316),o=n(87691),l=n(6638),c=n(67294),d=n(2016);const u=(0,o.Z)((function(){return(0,r.P1)(((e,{metricsContext:t})=>t),a.Z,s.Z,(0,i.Z)(),((e,t,n,r={})=>{const i={};return e&&(i.context=e),{parentTitle:r.parentTitle,parentRoute:(0,l.Z)(t,n,r.parentKey,i)}}))}))((function({className:e,tabIndex:t,parentTitle:n,parentRoute:r}){return c.createElement(d.Z,{className:e,tabIndex:t,title:n,route:r})}))},36475:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);const i=function({className:e,title:t}){return r.createElement("span",{className:e,title:t},t)}},21849:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(67294),i=n(76604),s=n(54690),a=n(39776),o=n(9903),l=n(21918),c=n(30084),d=n(98422),u=n(5562),p=n(84807),m=n(47636);const h=6e4;function g({beginsAt:e,endsAt:t,channel:n,showChannel:r,showFullTime:p,timeFormat:m}){if(!e)return(0,u.Z)("No upcoming airings");if((0,d.Z)(e,t)){const e=t-Date.now()/1e3;return e<=60?(0,u.Z)("About to end"):(0,o.Z)(e)}if((0,l.Z)(e)&&(0,c.Z)(e,{minutes:60})){const t=1e3*e-Date.now();if(t<=h)return r&&n?(0,u.Z)("Starting now on {channel}",{channel:n}):(0,u.Z)("Starting now");const i=(0,a.Z)(t);return r&&n?(0,u.Z)("Starting in {duration} on {channel}",{duration:i,channel:n}):(0,u.Z)("Starting in {duration}",{duration:i})}return(p?i.Z:s.Z)(e,r&&n,{timeFormat:m})}class y extends r.Component{constructor(e,t){super(e,t),this.onTickTimeout=()=>{this.setState(this.getState(this.props)),this.setTickTimeout()},this.state=this.getState(e)}componentDidMount(){this.setTickTimeout()}UNSAFE_componentWillReceiveProps(e){const t=this.getState(e);t.title!==this.state.title&&this.setState(t)}shouldComponentUpdate(e,t){return(0,m.Z)(this,e,t)}componentWillUnmount(){this.tickTimeout&&window.clearTimeout(this.tickTimeout)}getState(e){return{title:g(e)}}setTickTimeout(){this.tickTimeout=window.setTimeout(this.onTickTimeout,h-Date.now()%h)}render(){const{className:e,beginsAt:t,endsAt:n,channel:i,showChannel:s}=this.props,{title:a}=this.state,o=s&&!!i&&(0,d.Z)(t,n);return r.createElement("span",{className:e},o?r.createElement("span",null,(0,u.Z)("Now on {channel}",{channel:i}),r.createElement(p.Z,{className:"MetadataTitleAirDate-separator-3ZLInJ DashSeparator-separator-3r2G27"}),a):a)}}y.defaultProps={showFullTime:!1,showChannel:!1};const v=y},97818:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(89969),i=n(22222),s=n(81017),a=n(67294),o=n(5562);const l=function({className:e,leafCount:t}){let n;return null!=t&&(n=1===t?(0,o.Z)("{trackCount} track",{trackCount:t}):(0,o.Z)("{trackCount} tracks",{trackCount:t})),a.createElement("span",{className:e},n)},c=(0,r.$j)((function(){return(0,i.P1)((0,s.Z)(),((e={})=>({skipChildren:e.skipChildren,childCount:e.childCount,leafCount:e.leafCount})))}))((function({className:e,skipChildren:t,childCount:n,leafCount:r}){if(t)return a.createElement(l,{className:e,leafCount:r});let i;return null!=n&&(i=1===n?(0,o.Z)("{albumCount} album",{albumCount:n}):(0,o.Z)("{albumCount} albums",{albumCount:n})),a.createElement("span",{className:e},i)}))},48487:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(89969),i=n(22222),s=n(81017),a=n(67294),o=n(5562),l=n(69881);const c=(0,r.$j)((function(){return(0,i.P1)((0,s.Z)(),((e={})=>({childCount:e.childCount,subtype:e.subtype})))}))((function({className:e,childCount:t,subtype:n}){let r;if(null!=t){const e=1===t,i={itemCount:t};r=n===l.MOVIE?e?(0,o.Z)("{itemCount} movie",i):(0,o.Z)("{itemCount} movies",i):n===l.SHOW?e?(0,o.Z)("{itemCount} show",i):(0,o.Z)("{itemCount} shows",i):e?(0,o.Z)("{itemCount} item",i):(0,o.Z)("{itemCount} items",i)}return a.createElement("span",{className:e},r)}))},16345:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(89969),i=n(22222),s=n(81017),a=n(36475);const o=(0,r.$j)((function(){return(0,i.P1)((0,s.Z)(),((e={})=>({title:e.title})))}))(a.Z)},12133:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(89969),i=n(22222),s=n(81017),a=n(67294),o=n(61696);const l=(0,r.$j)((function(e,t){return(0,i.P1)((0,s.Z)(),((e={})=>({rating:e.rating,ratingImage:e.ratingImage,audienceRating:e.audienceRating,audienceRatingImage:e.audienceRatingImage})))}))((function({className:e,rating:t,ratingImage:n,audienceRating:r,audienceRatingImage:i}){return t||r?a.createElement("span",{className:e},a.createElement(o.Z,{rating:t,ratingImage:n,audienceRating:r,audienceRatingImage:i})):null}))},76080:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(89969),i=n(22222),s=n(81017),a=n(67294),o=n(31212);const l=function({className:e,date:t}){return t?a.createElement("span",{className:e},(0,o.Z)(t)):null},c=(0,r.$j)((function(){return(0,i.P1)((0,s.Z)(),((e={})=>({addedAt:e.addedAt})))}))((function({className:e,addedAt:t}){return t?a.createElement(l,{className:e,date:1e3*t}):null}))},5789:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),i=n(39776);const s=function({className:e,duration:t}){return t?r.createElement("span",{className:e},(0,i.Z)(t)):null}},97784:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294),i=n(84807),s=n(2016),a=n(99741);const o=function({className:e,tabIndex:t,title:n,index:o,route:l,parentTitle:c,parentIndex:d,parentRoute:u,originallyAvailableAt:p}){return r.createElement("span",{className:e},r.createElement(a.Z,{tabIndex:t,title:n,index:o,route:l,parentTitle:c,parentIndex:d,parentRoute:u,originallyAvailableAt:p}),n?r.createElement(i.Z,null):null,n?r.createElement(s.Z,{tabIndex:t,title:n,route:l}):null)}},92797:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(22222),i=n(81017),s=n(70488),a=n(74253),o=n(61478),l=n(87691),c=n(6638),d=n(97784);const u=(0,l.Z)((function(){return(0,r.P1)(((e,{metricsContext:t})=>t),a.Z,s.Z,(0,i.Z)(),((e,t,n,r={})=>{const i={};e&&(i.context=e);const s=r.skipParent&&r.subtype===o.WEBSHOW;return{title:r.title,index:r.index,route:(0,c.Z)(t,n,r.key,i),parentTitle:r.parentTitle,parentIndex:s?null:r.parentIndex,parentRoute:r.skipParent?null:(0,c.Z)(t,n,r.parentKey,i),originallyAvailableAt:r.originallyAvailableAt}}))}))(d.Z)},62912:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),i=n(5562);const s=function({className:e,leafCount:t}){let n;return null!=t&&(n=1===t?(0,i.Z)("{itemCount} item",{itemCount:t}):(0,i.Z)("{itemCount} items",{itemCount:t})),r.createElement("span",{className:e},n)}},2016:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),i=n(6103);const s=function({className:e,tabIndex:t,title:n,route:s}){return n?s?r.createElement(i.Z,{className:e,"data-qa-id":"metadataTitleLink",tabIndex:t,title:n,to:s},n):r.createElement("span",{className:e,title:n},n):null}},96121:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(22222),i=n(81017),s=n(87691),a=n(63210),o=n(2016);const l=(0,s.Z)((function(){return(0,r.P1)((0,i.Z)(),(0,a.Z)(),((e={},t)=>({title:e.title,route:t})))}))(o.Z)},50079:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(89969),i=n(22222),s=n(81017),a=n(67294),o=n(5562);const l=function({className:e,leafCount:t}){let n;return null!=t&&(n=1===t?(0,o.Z)("{episodeCount} episode",{episodeCount:t}):(0,o.Z)("{episodeCount} episodes",{episodeCount:t})),a.createElement("span",{className:e},n)},c=(0,r.$j)((function(){return(0,i.P1)((0,s.Z)(),((e={})=>({skipChildren:e.skipChildren,childCount:e.childCount,leafCount:e.leafCount})))}))((function({className:e,skipChildren:t,childCount:n,leafCount:r}){if(t)return a.createElement(l,{className:e,leafCount:r});if(!n)return null;const i=1===n?(0,o.Z)("{seasonCount} season",{seasonCount:n}):(0,o.Z)("{seasonCount} seasons",{seasonCount:n});return a.createElement("span",{className:e},i)}))},99741:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294),i=n(40074),s=n(85480),a=n(84807),o=n(6103);const l=function(e){const{className:t,tabIndex:n,title:l,index:c,route:d,parentTitle:u,parentIndex:p,parentRoute:m,originallyAvailableAt:h}=e,g=(0,s.Z)({seasonIndex:p,noLeadingZero:!0}),y=(0,i.Z)({episodeIndex:c,date:h,noLeadingZero:!0});return d&&m?r.createElement("span",{className:t},c>0&&g?r.createElement(o.Z,{tabIndex:n,title:u,to:m},g):null,c>0&&g?r.createElement(a.Z,{separator:"·"}):null,r.createElement(o.Z,{tabIndex:n,title:l,to:d},y)):r.createElement("span",{className:t},c>0&&g?r.createElement("span",null,g):null,c>0&&g?r.createElement(a.Z,{separator:"·"}):null,r.createElement("span",null,y))}},45362:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(22222),i=n(81017),s=n(70488),a=n(74253),o=n(61478),l=n(87691),c=n(6638),d=n(99741);const u=(0,l.Z)((function(){return(0,r.P1)(((e,{metricsContext:t})=>t),a.Z,s.Z,(0,i.Z)(),((e,t,n,r={})=>{const i={};e&&(i.context=e);const s=r.skipParent&&r.subtype===o.WEBSHOW;return{title:r.title,index:r.index,route:(0,c.Z)(t,n,r.key,i),parentTitle:r.parentTitle,parentIndex:s?null:r.parentIndex,parentRoute:r.skipParent?null:(0,c.Z)(t,n,r.parentKey,i),originallyAvailableAt:r.originallyAvailableAt}}))}))(d.Z)},82514:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(22222),i=n(81017),s=n(757),a=n(50316),o=n(87691),l=n(6638),c=n(67294),d=n(84807),u=n(2016);const p=(0,o.Z)((function(){return(0,r.P1)(((e,{metricsContext:t})=>t),((e,{skipGrandparent:t})=>t),a.Z,s.Z,(0,i.Z)(),((e,t,n,r,i={})=>{const s={};return e&&(s.context=e),{skipParent:i.skipParent,skipGrandparent:t,parentTitle:i.parentTitle,parentRoute:(0,l.Z)(n,r,i.parentKey,s),grandparentTitle:i.originalTitle||i.grandparentTitle,grandparentRoute:(0,l.Z)(n,r,i.grandparentKey,s)}}))}))((function({className:e,tabIndex:t,skipParent:n,skipGrandparent:r,parentTitle:i,parentRoute:s,grandparentTitle:a,grandparentRoute:o}){return c.createElement("span",{className:e},r?null:c.createElement(u.Z,{tabIndex:t,title:a,route:o}),!i||n||r?null:c.createElement(d.Z,null),n?null:c.createElement(u.Z,{tabIndex:t,title:i,route:s}))}))},33682:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(45697),i=n.n(r),s=n(67294),a=n(89969),o=n(22222),l=n(81017),c=n(757),d=n(20531),u=n(62730),p=n(67006),m=n(87691),h=n(73862),g=n(34082),y=n(11412);const v=function({className:e,value:t,onRatingChange:n}){return s.createElement("span",{className:e},s.createElement(y.Z,{value:t,onRatingChange:n}))};var f=Object.defineProperty,b=Object.prototype.hasOwnProperty,S=Object.getOwnPropertySymbols,I=Object.prototype.propertyIsEnumerable,Z=(e,t,n)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const P=(0,a.$j)(d.Z)((0,m.Z)((function(e,t){return(0,o.P1)(c.Z,(0,l.Z)(),(0,o.P1)(g.Z,((e,{providerEntityID:t})=>t),((e,t)=>!!e&&e.providers.length>1&&e.providers.includes(t))),((e,{hideUnrated:t})=>t),((e,t={},n,r)=>{const i=e&&e.features[p.aO][u.zw]&&!t.isFolder&&!n,s=(t.userRating||0)/2;return{showRating:!(!i||r&&0===s),value:s}}))}),(function(e,t){return{onRatingChange(n){e((0,h.rateMetadataItem)({metadataItemEntityID:t.metadataItemEntityID,providerEntityID:t.itemProviderEntityID,rating:0===n?-1:2*n,metricsPage:t.metricsPage}))}}}))((function(e){const t=e,{showRating:n}=t,r=((e,t)=>{var n={};for(var r in e)b.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&S)for(var r of S(e))t.indexOf(r)<0&&I.call(e,r)&&(n[r]=e[r]);return n})(t,["showRating"]);return n?s.createElement(v,((e,t)=>{for(var n in t||(t={}))b.call(t,n)&&Z(e,n,t[n]);if(S)for(var n of S(t))I.call(t,n)&&Z(e,n,t[n]);return e})({},r)):null})));P.propTypes={hideUnrated:i().bool};const E=P},15145:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);const i=function({className:e,year:t}){return r.createElement("span",{className:e,"data-qa-id":"metadataYear"},t)}},18095:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(89969),i=n(22222),s=n(81017),a=n(15145);const o=(0,r.$j)((function(){return(0,i.P1)((0,s.Z)(),((e={})=>({year:e.year})))}))(a.Z)},56906:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(67294),i=n(84807),s=n(89969),a=n(22222),o=n(74995),l=n(76249),c=n(48523),d=n(1088),u=n(5562);var p=n(10825);var m=Object.defineProperty,h=Object.prototype.hasOwnProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.propertyIsEnumerable,v=(e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))h.call(t,n)&&v(e,n,t[n]);if(g)for(var n of g(t))y.call(t,n)&&v(e,n,t[n]);return e};const b={audio:function(e){const{stream:t,separatorComponent:n}=e,i=[];var s,a;t.codec&&i.push((a=t.codec)?"dca"===a?"DTS":a.toUpperCase():""),t.channels&&i.push((s=t.channels,(s=parseInt(s,10))?s<2?(0,u.Z)("Mono"):s<3?(0,u.Z)("Stereo"):(s-1).toString()+".1":""));const o=t.language||(0,u.Z)("Unknown"),l=i&&i.length>0?i.join(" "):null,c=l?(0,u.Z)("{label}, {details}",{label:o,details:l}):o;return r.createElement("span",{"aria-label":c,"data-qa-id":"audioStream"},o,l?r.createElement(n,null):null,l)},subtitles:function(e){const{stream:t,separatorComponent:n}=e,i=[];t.codec&&i.push(t.codec.toUpperCase()),t.key&&i.push((0,u.Z)("External")),t.forced&&i.push((0,u.Z)("Forced"));const s=t.language||(0,u.Z)("Unknown"),a=i&&i.length>0?i.join(" "):null,o=a?(0,u.Z)("{label}, {details}",{label:s,details:a}):s;return r.createElement("span",{"aria-label":o,"data-qa-id":"subtitlesStream"},s,a?r.createElement(n,null):null,a)},video:function(e){const{mediaItem:t,separatorComponent:n}=e;let i;t.videoCodec&&(i=[t.videoCodec.toUpperCase()]);const s=(0,d.Z)(t),a=s&&s.scanType,o=(0,p.Z)(t.videoResolution,a)||(0,u.Z)("Unknown"),l=i&&i.length>0?i.join(" "):null,c=l?(0,u.Z)("{label}, {details}",{label:o,details:l}):o;return r.createElement("span",{"aria-label":c,"data-qa-id":"videoStream"},o,l?r.createElement(n,null):null,l)}},S=(0,s.$j)((function(){return(0,a.P1)((0,o.Z)(),(e=>({serverShortVersion:e.shortVersion})))}))((function(e){const t=e,{type:n,stream:i,mediaItem:s,serverShortVersion:a}=t,o=((e,t)=>{var n={};for(var r in e)h.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&g)for(var r of g(e))t.indexOf(r)<0&&y.call(e,r)&&(n[r]=e[r]);return n})(t,["type","stream","mediaItem","serverShortVersion"]);if(!i&&!s)return r.createElement("span",{"data-qa-id":`${n}Stream`},(0,u.Z)("None"));if(a&&(0,c.Z)(a,l.Z.streamDisplayTitles)){let e;if("video"===n){const t=(0,d.Z)(s);e=t?t.displayTitle:(0,u.Z)("None")}else e=i.displayTitle||i.language;return r.createElement("span",{"aria-label":e,"data-qa-id":`${n}Stream`},e)}const p=b[n];return r.createElement(p,f(f({},o),{stream:i,mediaItem:s}))}));var I=Object.defineProperty,Z=Object.prototype.hasOwnProperty,P=Object.getOwnPropertySymbols,E=Object.prototype.propertyIsEnumerable,M=(e,t,n)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C=(e,t)=>{for(var n in t||(t={}))Z.call(t,n)&&M(e,n,t[n]);if(P)for(var n of P(t))E.call(t,n)&&M(e,n,t[n]);return e};const w=function(e){return r.createElement(S,C(C({},e),{separatorComponent:i.Z}))}},65669:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=n(74091),s=Object.defineProperty,a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function d(e){return r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e})({},e))}d.defaultProps={className:"FullPage-container-3nm6AH FullPage-container-3r7b9Z"};const u=d},95815:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var r=n(67294),i=n(96840),s=n(68576),a=n(63731),o=n(22699),l=n(716),c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e};const g=function(e){const t=e,{children:n,metricsPage:i,metricsProperties:s,isMetricsDelegated:c}=t,m=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(t,["children","metricsPage","metricsProperties","isMetricsDelegated"]);return r.createElement(a.Z,h(h({},s),{page:i,isDelegated:c}),r.createElement(o.Z,h({className:l.Z.page},m),n))};var y=Object.defineProperty,v=Object.prototype.hasOwnProperty,f=Object.getOwnPropertySymbols,b=Object.prototype.propertyIsEnumerable,S=(e,t,n)=>t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class I extends r.Component{constructor(e,t){super(e,t),this.state={hasError:!1}}componentDidCatch(e){i.Z.error(e),this.setState({hasError:!0})}render(){const{hasError:e}=this.state;return e?r.createElement(s.Z,null):r.createElement(g,((e,t)=>{for(var n in t||(t={}))v.call(t,n)&&S(e,n,t[n]);if(f)for(var n of f(t))b.call(t,n)&&S(e,n,t[n]);return e})({},this.props))}}const Z=I},68966:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=n(22699);var s=Object.defineProperty,a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function d(e){var t=e,{children:n,innerClassName:s}=t,d=((e,t)=>{var n={};for(var r in e)a.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&o)for(var r of o(e))t.indexOf(r)<0&&l.call(e,r)&&(n[r]=e[r]);return n})(t,["children","innerClassName"]);return r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e})({className:"PageContent-pageContent-aqfjwt"},d),r.createElement("div",{className:s},n))}d.defaultProps={innerClassName:"PageContent-innerPageContent-1ra0Xh"};const u=d},22699:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),i=n(45428),s=n(57384),a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class u extends r.Component{constructor(e,t){super(e,t),this.onScrollPositionChange=({scrollTop:e})=>{this.state.isScrolling||(this._currentScrollTop=e)},this.state={isScrolling:!1},this._positionKey=s.Z.getKey(e.scrollPositionKey),this._currentScrollTop=0,this._restoreScrollDelay=e.smoothScroll?e.smoothScrollDuration:e.restoreScrollDelay,this._restoreScroll=!1,this._restoreScrollTimeoutID=null}componentDidMount(){this._restoreScrollPosition()}componentDidUpdate(e){const{scrollPositionKey:t}=this.props;e.scrollPositionKey!==t&&(this._positionKey=s.Z.getKey(t))}componentWillUnmount(){this._storeScrollPosition(),this._restoreScrollTimeoutID&&window.clearTimeout(this._restoreScrollTimeoutID)}_restoreScrollPosition(){const e=s.Z.get(this._positionKey);e&&(this.setState({isScrolling:!0}),this._currentScrollTop=e.scrollTop,this._restoreScroll=!0,this._restoreScrollTimeoutID=window.setTimeout((()=>{this.setState({isScrolling:!1}),this._restoreScroll=!1}),this._restoreScrollDelay))}_storeScrollPosition(){s.Z.set(this._positionKey,{scrollTop:this._currentScrollTop})}render(){const e=this.props,{children:t,className:n,restoreScrollDelay:s,scrollPositionKey:a}=e,u=((e,t)=>{var n={};for(var r in e)o.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&l)for(var r of l(e))t.indexOf(r)<0&&c.call(e,r)&&(n[r]=e[r]);return n})(e,["children","className","restoreScrollDelay","scrollPositionKey"]);return r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({className:n,scrollTop:this._currentScrollTop,restoreScroll:this._restoreScroll,onScrollPositionChange:this.onScrollPositionChange},u),t)}}u.defaultProps={restoreScrollDelay:100,scrollPositionKey:"scrollPosition",smoothScroll:!0,smoothScrollDuration:400};const p=u},20500:(e,t,n)=>{"use strict";n.d(t,{Z:()=>X});var r=n(45697),i=n.n(r),s=n(89969),a=n(22222),o=n(74995),l=n(47479),c=n(12272),d=n(3967),u=n(67294),p=n(58801),m=n(5513),h=n(27082);class g extends u.Component{componentDidMount(){this._populate(this.props)}componentDidUpdate(e){const{machineIdentifier:t}=this.props;t&&t!==e.machineIdentifier&&this._populate(this.props)}_populate(e){const{machineIdentifier:t,dispatchSetPrimaryServer:n}=e;t&&(0,h.c9)((()=>{n({machineIdentifier:t})}))}render(){return u.createElement(u.Fragment,null,this.props.children)}}const y={dispatchSetPrimaryServer:m.qO},v=(0,s.$j)(null,y)(g);var f=n(34198),b=n(65531),S=n(81079),I=n(86035),Z=n(62859),P=n(93966),E=n(88050),M=n(69605),C=n(5562),w=n(22745),D=n(6103),T=n(60528),O=n(82378),x=n(36996),A=n(21508),N=n(95614),k=n(18039);const L={dispatchDismissUnclaimedServer:I.EK},j=(0,s.$j)((function(){return(0,a.P1)((0,o.Z)(),S.Z,((e,t)=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,isPlexAccountRequired:t})))}),L)((function(e){const{machineIdentifier:t,friendlyName:n,isPlexAccountRequired:r,dispatchDismissUnclaimedServer:i}=e,s=(0,Z.k6)(),a=(0,u.useCallback)((()=>{s.push(x.Z.login)}),[s]),o=(0,u.useCallback)((()=>{(0,P.DB)("metrics").trackClick({page:M.yl,action:E.ql})}),[]),l=(0,u.useCallback)((()=>{(0,P.DB)("metrics").trackClick({page:M.yl,action:E.GP}),i({machineIdentifier:t})}),[t,i]);return u.createElement(N.Z,{title:(0,C.Z)("{friendlyName} server is unclaimed and not secure",{friendlyName:n}),description:(0,C.Z)("Claiming this server will associate it with your Plex account. This helps your devices find each other and helps keep your media safe.")},r?u.createElement(w.Z,{kind:T._8,size:O.ln,onPress:a},(0,C.Z)("Sign in to claim this server")):u.createElement(w.Z,{kind:T._8,size:O.ln,to:(0,k.Z)(t,"settings","general"),onPress:o},(0,C.Z)("Claim it now")),u.createElement(A.Z,null,u.createElement(D.Z,{kind:T._8,size:O.HC,onPress:l},(0,C.Z)("Don't show this again"))))}));var R=n(76249),V=n(48523),U=n(39670),z=n(84936);const B=(0,s.$j)((function(){return(0,a.P1)((0,o.Z)(),(e=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,activeConnectionUri:e.activeConnection.uri,shouldUseNewSettingsRoutes:(0,V.Z)(e.version,R.Z.bundledWebAppNewSettingsRoutes),isShared:e.isShared})))}))((function(e){const{machineIdentifier:t,friendlyName:n,activeConnectionUri:r,shouldUseNewSettingsRoutes:i,isShared:s}=e;let a;n&&(a=(0,C.Z)("The server {1} is out of date and cannot be used.",n)),a=a+" "+(0,C.Z)("This version of {productName} requires Plex Media Server {minServerVersion} or higher.",{productName:U.Z.prop("X-Plex-Product"),minServerVersion:"1.18.3"});let o="/web/index.html";return s||(o+=i?(0,k.Z)(t,"settings","general"):"#!/settings/server"),u.createElement(N.Z,{title:"Update your Plex Media Server",description:a},u.createElement(w.Z,{to:z.Z.join([r,o]),target:"_self",kind:T._8,size:O.ln},(0,C.Z)("Open server directly")))}));var _=n(3704),F=n(81071),H=n(99434);var W=Object.defineProperty,Q=Object.prototype.hasOwnProperty,G=Object.getOwnPropertySymbols,Y=Object.prototype.propertyIsEnumerable,q=(e,t,n)=>t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K=(e,t)=>{for(var n in t||(t={}))Q.call(t,n)&&q(e,n,t[n]);if(G)for(var n of G(t))Y.call(t,n)&&q(e,n,t[n]);return e};const $=(0,s.$j)((function(){return(0,a.P1)((e=>e.isWaitingForServers),((e,{hideUnclaimedPage:t})=>t),(0,o.Z)(),(0,c.Z)(),d.Z,((e,t,n,r,i)=>n?{hasServer:!0,showSpinner:!n.isConnected&&!n.isUnauthorized&&!n.isUnavailable,machineIdentifier:n.machineIdentifier,isUnauthorized:n.isUnauthorized,isUnavailable:n.isUnavailable,isOutOfDate:n.isOutOfDate,isInstallingServerUpdate:n.isInstallingServerUpdate,isUnclaimed:n.isConnected&&!n.isClaimed&&!i[n.machineIdentifier]&&!r&&!t,hasHttpsConnections:n.hasHttpsConnections,isHostedHttps:l.Z.isHostedHttps}:{hasServer:!1,showSpinner:e}))}))((function(e){const{serverEntityID:t,children:n,hasServer:r,showSpinner:i,machineIdentifier:s,isUnauthorized:a,isUnavailable:o,isOutOfDate:l,isUnclaimed:c,isInstallingServerUpdate:d}=e;return i?u.createElement(_.Z,null,u.createElement(p.Z,null)):r?d?u.createElement(F.Z,{serverEntityID:t}):o?u.createElement(b.Z,{serverEntityID:t}):l?u.createElement(B,{serverEntityID:t}):a?u.createElement(f.Z,null):c?u.createElement(j,{serverEntityID:t}):u.createElement(v,{machineIdentifier:s},n):u.createElement(H.Z,null)}));$.propTypes=K(K({},$.propTypes),{serverEntityID:i().string.isRequired});const X=$},31446:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var r=n(67294),i=n(35589),s=n(4844),a=n(15042),o=n(45697),l=n.n(o),c=n(89969),d=n(22222),u=n(77909),p=n(2375),m=n(59701),h=n(58801),g=n(15819),y=n(3704),v=n(99434),f=n(68576),b=n(93732);var S=Object.defineProperty,I=Object.prototype.hasOwnProperty,Z=Object.getOwnPropertySymbols,P=Object.prototype.propertyIsEnumerable,E=(e,t,n)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M=(e,t)=>{for(var n in t||(t={}))I.call(t,n)&&E(e,n,t[n]);if(Z)for(var n of Z(t))P.call(t,n)&&E(e,n,t[n]);return e};const C=(0,c.$j)((function(){return(0,d.P1)((0,m.Z)("isProvidersPopulated"),(0,m.Z)("providersError"),(0,u.Z)(),p.Z,((e,t,n,r)=>n?{hasProvider:!0,hasError:!!n.error,isPending:!n.isPopulated}:{hasProvider:!1,isDownForMaintenance:r.isDownForMaintenance,isUnreachable:r.isUnavailable,hasError:!!t,isPending:!e}))}))((function(e){const{children:t,hasProvider:n,isDownForMaintenance:i,isUnreachable:s,hasError:a,isPending:o}=e;return i?r.createElement(g.Z,null):s?r.createElement(b.Z,null):a?r.createElement(f.Z,null):o?r.createElement(y.Z,null,r.createElement(h.Z,null)):n?r.createElement(r.Fragment,null,t):r.createElement(v.Z,null)}));C.propTypes=M(M({},C.propTypes),{providerEntityID:l().string.isRequired});const w=C;var D=n(20500);const T=function(e){const{children:t,machineIdentifier:n,providerIdentifier:o}=e,l=n===i.X?w:D.Z,c=(0,s.Z)(a.cN,n),d=(0,s.Z)(a.MC,o,c);return r.createElement(l,{serverEntityID:c,providerEntityID:d},t)}},34198:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),i=n(5562),s=n(95614);const a=function(){return r.createElement(s.Z,{title:(0,i.Z)("Not authorized"),description:(0,i.Z)("You do not have access to this server")})}},65531:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(67294),i=n(89969),s=n(22222),a=n(53145),o=n(74995),l=n(39374),c=n(44233),d=n(5562),u=n(84936),p=n(22745),m=n(6103),h=n(60528),g=n(86035),y=n(46905),v=n(65671),f=n(69679),b=n(95614);const S=function(e){const{friendlyName:t,isPending:n,onTryAgainPress:i}=e;return r.createElement(b.Z,{title:t?(0,d.Z)("{serverName} is currently unavailable",{serverName:t}):(0,d.Z)("Server is currently unavailable"),description:r.createElement(v.Z,{message:(0,d.Z)("Verify you have a network connection and that the server is online, or see our {openLink}troubleshooting{closeLink} tips for further assistance."),tags:[{open:"openLink",close:"closeLink",component:m.Z,kind:h._8,to:"https://help.plex.tv/noserver",target:"_blank"}]})},r.createElement(f.Z,{isSpinning:n,kind:h._8,onPress:i},(0,d.Z)("Retry connection")))};var I=n(25540),Z=n(80974),P=n(3704);class E extends r.Component{render(){const{title:e,description:t,children:n}=this.props;return r.createElement(P.Z,{iconSrc:Z,title:e,description:r.createElement(r.Fragment,null,r.createElement(v.Z,{message:(0,d.Z)('Its "Secure connections" setting may be set to disabled, or you may need to adjust some settings on your network. You can {openLink}learn more about secure connections here{closeLink}.'),tags:[{open:"openLink",close:"closeLink",component:m.Z,to:"https://support.plex.tv/hc/en-us/articles/206225077-How-to-Use-Secure-Server-Connections",kind:h._8,target:"_blank"}]}))},t?r.createElement("div",{className:"InsecureFallbackChoicePage-description-3jwi7V EmptyPageDescription-description-Q3Qyzg"},t):null,n)}}const M=E;var C=n(22876);const w=(0,i.$j)((function(){return(0,s.P1)((0,o.Z)(),(e=>{const t=e.connections.find((e=>"http"===e.scheme));return{friendlyName:e.friendlyName,bundledConnectionUri:null==t?void 0:t.uri,shouldShowInsecureAppMessage:C.P(e),shouldAllowInsecureFallback:C.E(e),isPending:e.isPending}}))}),(function(e,t){const n={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onTryAgainPress(){e((0,g.bc)()),e(a.Vk(n))}}}))((function(e){const{friendlyName:t,bundledConnectionUri:n,shouldShowInsecureAppMessage:i,shouldAllowInsecureFallback:s,isPending:a,onTryAgainPress:o}=e,{isOpen:g,onOpen:v,onClose:f}=(0,y.Z)();if(i){const e="macos"===c.Z.platformID||"windows"===c.Z.platformID;return r.createElement(M,{title:(0,d.Z)('app.plex.tv is unable to connect to "{serverName}" securely',{serverName:t})},e?r.createElement("div",{className:"ServerUnavailableErrorPageConnector-downloadButtonContainer-uhzJqk"},r.createElement(p.Z,{to:l.jv,target:"_blank",kind:h._8},"windows"===c.Z.platformID?(0,d.Z)("Download Plex for Windows"):(0,d.Z)("Download Plex for Mac"))):null,n?r.createElement(m.Z,{to:u.Z.join([n,"/web/index.html"]),kind:h._8},e?(0,d.Z)("Or you can try to navigate directly to Plex Media Server"):(0,d.Z)("You can try to navigate directly to Plex Media Server")):null)}return s?r.createElement(M,{title:(0,d.Z)('The server "{serverName}" does not allow secure connections',{serverName:t}),description:(0,d.Z)("The app is loaded insecurely. You can attempt to use an insecure connection now.")},r.createElement(I.Z,{isOpen:g,serverEntityID:e.serverEntityID,onModalClose:f}),r.createElement(p.Z,{kind:h._8,onPress:v},(0,d.Z)("Allow Insecure Connections"))):r.createElement(S,{friendlyName:t,isPending:a,onTryAgainPress:o})}))},25540:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(89969),i=n(22222),s=n(74995),a=n(59194),o=n(67294),l=n(55642),c=n(69605),d=n(5562),u=n(70182),p=n(79849),m=n(56510),h=n(89460),g=n(60528),y=n(82378),v=n(58300),f=n(2424),b=n(64795);class S extends o.Component{constructor(e,t){super(e,t),this.onAllowFallbackConfirm=()=>{this.setState({isSubmitting:!0}),this.props.onAllowHttpFallback({serverEntityID:this.props.serverEntityID,allowHttpFallback:this.props.publicAddressMatches?l.Z.SAME_NETWORK:l.Z.ALWAYS})},this.state={isSubmitting:!1}}render(){const{publicAddressMatches:e,isOpen:t,onModalClose:n}=this.props,{isSubmitting:r}=this.state;return o.createElement(f.Z,{size:y.HC,isOpen:t,metricsPage:c.Sd,onModalClose:n},o.createElement(b.Z,{onModalClose:n},o.createElement(h.Z,null,(0,d.Z)("Allow Insecure Connections")),o.createElement(u.Z,null,e?(0,d.Z)("Insecure connections will only be allowed when you're on the same network as the server."):(0,d.Z)("Insecure connections will be allowed to any server."),o.createElement("br",null),(0,d.Z)("The Allow Fallback to Insecure Connections setting can be changed in Web Settings. Would you like to allow insecure connections?")),o.createElement(p.Z,null,o.createElement(m.Z,null,o.createElement(v.Z,{kind:g.TP,isDisabled:r,onPress:n},(0,d.Z)("Cancel")),o.createElement(v.Z,{kind:g.T,isSpinning:r,onPress:this.onAllowFallbackConfirm},(0,d.Z)("Allow"))))))}}const I=S,Z={onAllowHttpFallback:a.JZ},P=(0,r.$j)((function(){return(0,i.P1)((0,s.Z)(),(e=>({publicAddressMatches:e.publicAddressMatches})))}),Z)(I)},15819:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294),i=n(39374),s=n(5562),a=n(6103),o=n(60528),l=n(95614);const c=function(){return r.createElement(l.Z,{title:(0,s.Z)("Plex is down for maintenance"),description:(0,s.Z)("Don't worry, it will be back soon")},r.createElement(a.Z,{to:i.S7,target:"_blank",kind:o._8},"status.plex.tv"))}},3704:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(67294),i=n(45428),s=n(60528),a=n(21508);const o={emptyPage:"EmptyPage-emptyPage-DjF6N1",content:"EmptyPage-content-3lx94H",icon:"EmptyPage-icon-1xIWV_",default:"EmptyPage-default-24UaK-",primary:"EmptyPage-primary-2RuZWG",success:"EmptyPage-success-1L-bre",danger:"EmptyPage-danger-2XXf4E",imgIcon:"EmptyPage-imgIcon-ffNjlV",title:"EmptyPage-title-5RFMGm",footer:"EmptyPage-footer-2k_SyV"};var l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function m(e){const t=e,{contentClassName:n,iconClassName:s,titleClassName:l,footerClassName:m,children:h,kind:g,iconComponent:y,iconSrc:v,title:f,description:b,footer:S}=t,I=((e,t)=>{var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&d)for(var r of d(e))t.indexOf(r)<0&&u.call(e,r)&&(n[r]=e[r]);return n})(t,["contentClassName","iconClassName","titleClassName","footerClassName","children","kind","iconComponent","iconSrc","title","description","footer"]);return r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e})({className:o.emptyPage},I),r.createElement("div",{className:n},v?r.createElement("img",{className:o.imgIcon,src:v}):null,y?r.createElement("span",{className:s},r.createElement(y,{className:o[g]})):null,f?r.createElement("div",{className:l},f):null,b?r.createElement(a.Z,null,b):null,h),S?r.createElement("div",{className:m},S):null)}m.defaultProps={contentClassName:o.content,iconClassName:o.icon,titleClassName:o.title,footerClassName:o.footer,kind:s.TP};const h=m},21508:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);const i=function({children:e}){return r.createElement("div",{className:"EmptyPageDescription-description-Q3Qyzg"},e)}},95614:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=n(3704),s=n(39611);var a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const u=function(e){return r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({iconClassName:"ErrorPage-icon-2pZGG7 EmptyPage-icon-1xIWV_",iconComponent:s.Z},e))}},82598:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),i=n(90653),s=n(3704),a=n(58967),o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const p=function(e){return r.createElement(s.Z,((e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e})({className:a.Z.innerEmptyPage,contentClassName:a.Z.innerEmptyPageContent,scrollDirection:i.Hn},e))}},99356:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=n(82598),s=n(39611);var a=Object.defineProperty,o=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const u=function(e){return r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({iconClassName:"InnerErrorPage-icon-2KNdJ5 ErrorPage-icon-2pZGG7 EmptyPage-icon-1xIWV_",iconComponent:s.Z},e))}},81071:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(89969),i=n(22222),s=n(53145),a=n(74995),o=n(86035),l=n(67294),c=n(80974),d=n(5562),u=n(69679),p=n(60528),m=n(3704);const h=(0,r.$j)((function(){return(0,i.P1)((0,a.Z)(),(e=>({friendlyName:e.friendlyName,isPending:e.isPending})))}),(function(e,t){const n={serverEntityID:t.serverEntityID};return{onTryAgainPress(){e((0,o.bc)()),e(s.Vk(n))}}}))((function(e){const{friendlyName:t,isPending:n,onTryAgainPress:r}=e;return l.createElement(m.Z,{iconSrc:c,title:(0,d.Z)('The server "{serverName}" is installing an update',{serverName:t}),description:(0,d.Z)("Grab a cup of tea. This may take a couple of minutes.")},l.createElement(u.Z,{isSpinning:n,kind:p._8,onPress:r},(0,d.Z)("Retry connection")))}))},99434:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294),i=n(5562),s=n(6103),a=n(60528),o=n(95614);const l=function(){return r.createElement(o.Z,{title:(0,i.Z)("Not found"),description:(0,i.Z)("We can't find the page you're looking for")},r.createElement(s.Z,{to:"#",kind:a._8},(0,i.Z)("Go Home")))}},68576:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(67294),i=n(39374),s=n(5562),a=n(6103),o=n(60528),l=n(95614),c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const h=function(e){const t=e,{children:n}=t,c=((e,t)=>{var n={};for(var r in e)d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);return r.createElement(l.Z,((e,t)=>{for(var n in t||(t={}))d.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))p.call(t,n)&&m(e,n,t[n]);return e})({title:(0,s.Z)("There was an unexpected error"),description:(0,s.Z)("Please visit our forums if you continue to experience problems")},c),r.createElement(a.Z,{to:i.bB,target:"_self",kind:o._8},(0,s.Z)("Go to Forums")),n)}},93732:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),i=n(5562),s=n(95614);const a=function(){return r.createElement(s.Z,{title:(0,i.Z)("Plex is not reachable"),description:(0,i.Z)("We are unable to connect to plex.tv at this time. Please try again later.")})}},46560:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294);function i({className:e}){return r.createElement("div",{className:e})}i.defaultProps={className:"PrePlayDivider-divider-1nBBzX"};const s=i},44271:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294);function i({className:e,children:t}){return r.createElement("div",{className:e},t)}i.defaultProps={className:"PrePlayMetadataInnerContent-innerContent-587MD4"};const s=i},99062:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294);function i({children:e,className:t}){return r.createElement("div",{className:t,"data-qa-id":"preplayDetailsContainer"},e)}i.defaultProps={className:"PrePlayDetailsGroup-group-32HwHt"};const s=i},13995:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294);function i(e){const{children:t,className:n,labelClassName:i,contentClassName:s,label:a}=e;return r.createElement("div",{className:n},r.createElement("div",{className:i},a),r.createElement("div",{className:s},t))}i.defaultProps={className:"PrePlayDetailsGroupItem-groupItem-dJr-TN",labelClassName:"PrePlayDetailsGroupItem-label-22rP0q",contentClassName:"PrePlayDetailsGroupItem-content-2TyyJ0"};const s=i},95309:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),i=n(71023);function s({className:e,dangerouslySetInnerHTML:t,children:n}){const s=n?n.split("\n"):[];return r.createElement(i.Z,{className:e,dangerouslySetInnerHTML:t},s.length>1?s.map(((e,t)=>r.createElement("p",{key:t},e))):n)}s.defaultProps={className:"PrePlaySummary-summary-1ltXwF"};const a=s},28025:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294);function i({className:e,children:t}){return r.createElement("div",{className:e},t)}i.defaultProps={className:"PrePlayLeftTitle-leftTitle-1zhnSU"};const s=i},2484:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294);function i({className:e,children:t}){return r.createElement("div",{className:e,"data-qa-id":"preplay-mainTitle"},t)}i.defaultProps={className:"PrePlayPrimaryTitle-primaryTitle-1Qesge"};const s=i},17393:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294),i=n(12133),s=n(33682),a=n(85649);const o=function({serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}){return r.createElement(a.Z,{className:"PrePlayRatingRightTitle-ratingRightTitle-3w1dPt PrePlayRightTitle-rightTitle-2Xa_CX"},r.createElement(s.Z,{className:"PrePlayRatingRightTitle-starRating-wl1brL",serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}),r.createElement(i.Z,{className:"PrePlayRatingRightTitle-criticRating-3p-Ig2",serverEntityID:e,providerEntityID:t,metadataItemEntityID:n}))}},85649:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294);function i({className:e,children:t}){return r.createElement("div",{className:e},t)}i.defaultProps={className:"PrePlayRightTitle-rightTitle-2Xa_CX"};const s=i},85677:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(45697),i=n.n(r),s=n(67294),a=n(89969);const o={dispatchRedirectToUrl:n(86035).nL};class l extends s.Component{componentDidMount(){const{to:e,replace:t}=this.props;this.props.dispatchRedirectToUrl({url:e,replace:t})}render(){return null}}l.propTypes={to:i().string.isRequired,replace:i().bool,dispatchRedirectToUrl:i().func.isRequired};const c=(0,a.$j)(null,o)(l)},44317:(e,t,n)=>{"use strict";n.d(t,{Z:()=>U});var r=n(67294),i=n(89969),s=n(22222),a=n(62859),o=n(93966),l=n(84571),c=n(13469),d=n.n(c);const u=function e(t){return function(e,t=d().identity){return Object.keys(e).forEach((n=>{e[n]=t(e[n])})),e}(function(e,t=d().identity){return Object.keys(e).forEach((n=>{t(e[n])||delete e[n]})),e}(t),(t=>d().isObject(t)?e(t):t))};var p=n(84659),m=n(23100),h=n(56974),g=Object.defineProperty,y=Object.prototype.hasOwnProperty,v=Object.getOwnPropertySymbols,f=Object.prototype.propertyIsEnumerable,b=(e,t,n)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||(t={}))y.call(t,n)&&b(e,n,t[n]);if(v)for(var n of v(t))f.call(t,n)&&b(e,n,t[n]);return e};var I=n(84936),Z=n(23484),P=n(94141),E=n(45593),M=n(61201),C=n(36996),w=Object.defineProperty,D=Object.prototype.hasOwnProperty,T=Object.getOwnPropertySymbols,O=Object.prototype.propertyIsEnumerable,x=(e,t,n)=>t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function A(e){const t=e.context||{},{user:n}=t,r=((e,t)=>{var n={};for(var r in e)D.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&T)for(var r of T(e))t.indexOf(r)<0&&O.call(e,r)&&(n[r]=e[r]);return n})(t,["user"]);return u(((e,t)=>{for(var n in t||(t={}))D.call(t,n)&&x(e,n,t[n]);if(T)for(var n of T(t))O.call(t,n)&&x(e,n,t[n]);return e})({},r))}const N=function(){return(0,s.P1)(((e,{signUp:t})=>t),((e,{email:t})=>t),((e,{providerID:t})=>t),((e,{userAuthToken:t})=>t),((e,{code:t})=>t),((e,{pinID:t})=>t),((e,{errorMessage:t})=>t),(e=>e.clientID),E.Z,l.Z,((e,t,n,r,i,s,l,c,d,u)=>{const g=A((0,o.DB)("metrics").toJSON());if(e){const{base:e}=(0,h.Z)(window.location.href),t={forwardUrl:e,twop:"1",context:g};return u&&(t.lang=u),d.anonymous&&(t.guestToken=d.authToken),I.Z.join(["https://www.plex.tv","sign-up/"],t)}{const e={clientID:c,context:g};if(!(0,P.Z)()){const t=s?function(e,t){const{base:n,searchParams:r,hashPath:i,hashParams:s}=(0,h.Z)(e),a=(0,p.Z)(s);return`${n}${r}#${i}?${(0,m.Z)(S(S({},a),t))}`}(window.location.href,{pinID:s}):window.location.href;e.forwardUrl=t,(0,a.LX)(M.Z.location.pathname,{path:C.Z.serverSetup})&&(e.skipSignInUrl=(0,Z.Z)(window.location.href,I.Z.join(["#!/setup"],{forwardUrl:t})))}return i&&(e.code=i),n&&(e.provider=n),t&&(e.email=t),r&&(e.authToken=r),l&&(e.error=l),u&&(e.language=u),d.anonymous&&(e.guestToken=d.authToken),I.Z.join(["https://app.plex.tv/auth",I.Z.join(["#!/"],e)])}}))};var k=Object.defineProperty,L=Object.prototype.hasOwnProperty,j=Object.getOwnPropertySymbols,R=Object.prototype.propertyIsEnumerable,V=(e,t,n)=>t in e?k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const U=(0,i.$j)((function(){return(0,s.P1)(N(),(e=>({serviceAuthUrl:e})))}),{})((function(e){const t=e,{component:n,serviceAuthUrl:i}=t,s=((e,t)=>{var n={};for(var r in e)L.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&j)for(var r of j(e))t.indexOf(r)<0&&R.call(e,r)&&(n[r]=e[r]);return n})(t,["component","serviceAuthUrl"]);return r.createElement(n,((e,t)=>{for(var n in t||(t={}))L.call(t,n)&&V(e,n,t[n]);if(j)for(var n of j(t))R.call(t,n)&&V(e,n,t[n]);return e})({to:i},s))}))},7839:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),i=n(89969),s=n(22222),a=n(96649),o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const p=(0,i.$j)((function(){return(0,s.P1)((0,a.Z)(),(({metadataItem:e})=>({metadataItemEntityID:e,isMetadataItem:!!e})))}))((function(e){var t=e,{component:n}=t,i=((e,t)=>{var n={};for(var r in e)l.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&c)for(var r of c(e))t.indexOf(r)<0&&d.call(e,r)&&(n[r]=e[r]);return n})(t,["component"]);return r.createElement(n,((e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e})({},i))}))},6447:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(89969),i=n(22222),s=n(81017),a=n(70488),o=n(96649),l=n(74253),c=n(50657),d=n(67294),u=n(5562),p=n(84936),m=n(6103),h=n(26512),g=n(26636);const y=(0,r.$j)((function(){return(0,i.P1)(l.Z,a.Z,(0,o.Z)(),(0,s.Z)(),((e,t,n={},r)=>{const i=r||n.tagItem;return{server:e,provider:t,sourceDirectory:(0,c.Z)(t,i.librarySectionID),reasonID:n.reasonID,reason:n.reason,reasonTitle:n.reasonTitle,originalTitle:i.originalTitle,filter:i.filter,librarySectionKey:i.librarySectionKey,librarySectionType:i.librarySectionType}}))}))((function(e){const{className:t,server:n,provider:r,sourceDirectory:i,originalTitle:s,reason:a,reasonID:o,reasonTitle:l,filter:c,librarySectionKey:y,librarySectionType:v,onPress:f}=e;if(!a)return null;if("originalTitle"===a)return d.createElement("span",{className:t},s);if(!l)return null;const b={},S="actor"===a||"director"===a;S&&(b.filters=c||`${a}=${o}`,b.filterLabel=l);const I=(0,h.Z)(n,r,i,{key:p.Z.join([y,"all"],{type:v,[a]:S?o:void 0}),pageType:g.F6.List}),Z={director:(0,u.Z)("by"),actor:(0,u.Z)("with"),section:(0,u.Z)("in"),autotag:(0,u.Z)("tagged"),place:(0,u.Z)("in")};return I?d.createElement("span",{className:t},Z[a]," ",d.createElement(m.Z,{title:l,tabIndex:"-1",to:I,onPress:f},l)):d.createElement("span",{className:t},`${Z[a]} ${l}`)}))},52180:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var r=n(67294),i=n(89969),s=n(22222),a=n(13469),o=n.n(a),l=n(70488),c=n(96649),d=n(74253),u=n(50657),p=n(6103),m=n(26512),h=n(26636);const g=function(e){const{className:t,server:n,provider:i,sourceDirectory:s,tag:a,tagKey:o}=e,l=(0,m.Z)(n,i,s,{key:o,pageType:h.F6.List});return r.createElement(p.Z,{"data-qa-id":"searchTagTitle",className:t,title:a,to:l},a)};var y=Object.defineProperty,v=Object.prototype.hasOwnProperty,f=Object.getOwnPropertySymbols,b=Object.prototype.propertyIsEnumerable,S=(e,t,n)=>t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I=(e,t)=>{for(var n in t||(t={}))v.call(t,n)&&S(e,n,t[n]);if(f)for(var n of f(t))b.call(t,n)&&S(e,n,t[n]);return e};const Z=(0,i.$j)((function(){return(0,s.P1)(d.Z,l.Z,(0,c.Z)(),((e,t,n={})=>{const r=o().pick(n.tagItem,"id","tag","tagType","librarySectionType","librarySectionID");return r.tagKey=n.tagItem.key,I({server:e,provider:t,sourceDirectory:(0,u.Z)(t,n.tagItem.librarySectionID)},r)}))}))((function(e){return r.createElement(g,I({},e))}))},95565:(e,t,n)=>{"use strict";n.d(t,{Z:()=>je});var r=n(45697),i=n.n(r),s=n(67294),a=n(22222),o=n(69907),l=n(70488),c=n(88413),d=n(74995),u=n(74253),p=n(57358),m=n(31500),h=n(46453),g=n(17524),y=n(45399),v=n(69881),f=n(58605),b=n(57721),S=n(87691);const I=i().shape({key:i().string,directoryID:i().string,directoryIcon:i().string,sourceType:i().string,title:i().string,titleDetail:i().string,detail:i().string,route:i().string,machineIdentifier:i().string,providerIdentifier:i().string,providerMetricsIdentifier:i().string,isUnavailable:i().bool,isOutOfDate:i().bool,isUnclaimedServer:i().bool,isSelected:i().bool,isCloud:i().bool});var Z=n(86035),P=n(15768),E=n(59194),M=n(31649),C=n(43666),w=n(47486),D=n(69605),T=n(5562),O=n(30464),x=n(60528),A=n(31235),N=n(42283),k=n(89969),L=n(39537),j=n(26636),R=n(87803),V=n(87684),U=n(5574),z=n(30451),B=n(82367),_=n(63510),F=n(90864),H=n(42832),W=n(54546),Q=n(9520),G=n(391),Y=n(72170),q=n(47124),K=n(89328),$=n(35828),X=n(49228);const J=(0,a.P1)(X.Z,(e=>e.importPlaylists)),ee={description:"ImportPlaylistsModal-description-11yZg-",row:"ImportPlaylistsModal-row-241jHh",overwrite:"ImportPlaylistsModal-overwrite-2WODB8",library:"ImportPlaylistsModal-library-1dL7tw",buttonBar:"ImportPlaylistsModal-buttonBar-2HTlSZ ModalFooterButtonBar-buttonBar-UJWGIc"};function te({isOpen:e,onModalClose:t}){var n;const[r,i]=(0,A.c9)(),a=(0,k.I0)(),{isImporting:o,isImported:l,importError:c}=(0,k.v9)(J),d=(0,R.Z)(i,j.zW.Content),u=(null!=(n=null==d?void 0:d.directories)?n:[]).filter((e=>e.type===L.pG.Artist)).map((({id:e,title:t})=>({value:e,label:t}))),{register:p,handleSubmit:m}=(0,N.cI)({defaultValues:{importAll:!1,sectionID:null==u?void 0:u[0].value}}),h=m((({importAll:e,sectionID:t})=>{if(!u.length)return;const n=null!=t?t:u[0].value;a($.Z.actions.importRequested({server:r,importAll:e,sectionID:n}))}));return(0,s.useEffect)((()=>{l&&t()}),[a,l,t]),(0,s.useEffect)((()=>{e||a($.Z.actions.reset())}),[a,e]),s.createElement(_.Z,{size:K.Z.Small,isOpen:e,onModalClose:t},s.createElement(H.Z,{onModalClose:t},s.createElement(Y.Z,null,(0,T.Z)("Import from iTunes")),c?s.createElement(W.Z,{message:(0,T.Z)("Something went wrong. Make sure the server is available and try again.")}):null,s.createElement("form",{onSubmit:h},s.createElement(F.Z,null,s.createElement("div",{className:ee.description},(0,T.Z)("Importing from iTunes will import your music playlists. It will also import your ratings, the date you added the music, as well as play and skip counts for tracks in your library. Depending on how many tracks you have, this process can take many minutes to complete.")),s.createElement("label",{className:ee.row},s.createElement(z.Z,{name:"importAll",ref:p}),s.createElement("span",{className:ee.overwrite},(0,T.Z)("Overwrite existing playlists"))),u.length>1?s.createElement("label",{className:ee.row},s.createElement("span",{className:ee.library},(0,T.Z)("Add to library:")),s.createElement(B.Z,{name:"sectionID",ref:p},u.map((({value:e,label:t},n)=>s.createElement("option",{key:n,value:e},t))))):null),s.createElement(Q.Z,null,s.createElement(G.Z,{className:ee.buttonBar},s.createElement(V.Z,{onPress:t},(0,T.Z)("Cancel")),s.createElement(U.Z,{className:ee.button,isSpinning:o,type:"submit",kind:q.Z.Primary},(0,T.Z)("Import")))))))}var ne=n(57501),re=n(19613),ie=n(73954),se=n(14700),ae=n(96508),oe=n(9119),le=n(18039),ce=Object.defineProperty,de=Object.prototype.hasOwnProperty,ue=Object.getOwnPropertySymbols,pe=Object.prototype.propertyIsEnumerable,me=(e,t,n)=>t in e?ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,he=(e,t)=>{for(var n in t||(t={}))de.call(t,n)&&me(e,n,t[n]);if(ue)for(var n of ue(t))pe.call(t,n)&&me(e,n,t[n]);return e};function ge(e){const{sourceDirectory:t,hasPlexMusicUpgrade:n,hasPlexMovieUpgrade:r,hasPlexSeriesUpgrade:i,isUnavailable:a,onMenuClose:o,onCancelScanLibraryPress:l,onScanLibraryPress:c,onSharePress:d,onEditLibraryPress:u,onRefreshAllLibraryMetadataPress:p,onEmptyLibraryTrashPress:m,onAnalyzeLibraryPress:h,onDeleteLibraryPress:g,onUpgradeLibraryPress:y}=e,v=a||!t;return s.createElement(s.Fragment,null,t&&t.refreshing?s.createElement(se.Z,{onPress:(0,oe.Z)(o,l)},(0,T.Z)("Cancel Scan")):s.createElement(se.Z,{isDisabled:v,onPress:(0,oe.Z)(o,c)},(0,T.Z)("Scan Library Files")),s.createElement(se.Z,{isDisabled:v,onPress:(0,oe.Z)(o,d)},(0,T.Z)("Share…")),s.createElement(ae.Z,{label:(0,T.Z)("Manage Library"),isDisabled:v,onMenuClose:o},n||r||i?s.createElement(se.Z,{isDisabled:v,onPress:(0,oe.Z)(o,y)},(0,T.Z)("Upgrade Matching")):null,s.createElement(se.Z,{onPress:(0,oe.Z)(o,u)},(0,T.Z)("Edit...")),s.createElement(se.Z,{onPress:(0,oe.Z)(o,p)},(0,T.Z)("Refresh All Metadata")),s.createElement(se.Z,{onPress:(0,oe.Z)(o,m)},(0,T.Z)("Empty Trash")),s.createElement(se.Z,{onPress:(0,oe.Z)(o,h)},(0,T.Z)("Analyze")),s.createElement(se.Z,{kind:x.T,onPress:(0,oe.Z)(o,g)},(0,T.Z)("Delete"))))}function ye(e){const{machineIdentifier:t,isGuideRefreshing:n,isUnavailable:r,onMenuClose:i,onCancelRefreshGuidePress:a,onRefreshGuidePress:o}=e,l=r;return s.createElement(s.Fragment,null,s.createElement(se.Z,{to:(0,le.Z)(t,"manage","dvr"),isDisabled:l,onPress:i},(0,T.Z)("Settings")),n?s.createElement(se.Z,{onPress:(0,oe.Z)(i,a)},(0,T.Z)("Cancel Refresh")):s.createElement(se.Z,{isDisabled:l,onPress:(0,oe.Z)(i,o)},(0,T.Z)("Refresh Guide")))}function ve(e){const{onMenuClose:t,onImportPlaylistsPress:n}=e;return s.createElement(se.Z,{onPress:(0,oe.Z)(t,n)},(0,T.Z)("Import from iTunes..."))}const fe=function(e){const{provider:t,hasProviderSettings:n,hasLibraryActions:r,hasDVRActions:i,hasPlaylistsActions:a,isPinned:o,isReorderable:l,isUnavailable:c,onMenuClose:d,onTogglePinSources:u,onReorderPinSources:p}=e;return s.createElement(s.Fragment,null,s.createElement(se.Z,{onPress:(0,oe.Z)(d,u)},o?(0,T.Z)("Unpin"):(0,T.Z)("Pin")),l?s.createElement(se.Z,{onPress:(0,oe.Z)(d,p)},(0,T.Z)("Reorder")):null,n&&!c?s.createElement(se.Z,{to:`#!/provider/${encodeURIComponent(t.identifier)}/settings`,onPress:d},(0,T.Z)("Personalize")):null,r?s.createElement(ge,he({},e)):null,i?s.createElement(ye,he({},e)):null,a?s.createElement(ve,he({},e)):null)};var be=n(92885);var Se=Object.defineProperty,Ie=Object.prototype.hasOwnProperty,Ze=Object.getOwnPropertySymbols,Pe=Object.prototype.propertyIsEnumerable,Ee=(e,t,n)=>t in e?Se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Me=(e,t)=>{for(var n in t||(t={}))Ie.call(t,n)&&Ee(e,n,t[n]);if(Ze)for(var n of Ze(t))Pe.call(t,n)&&Ee(e,n,t[n]);return e};const Ce=function(e){const t=e,{machineIdentifier:n,providerIdentifier:r,serverEntityID:i,source:a,sourceDirectory:o,target:l,menuOptions:c,hasLibraryActions:d,hasPlaylistsActions:u,isDeletingLibrary:p,isOverflowMenuOpen:m,onOverflowMenuClose:h,onUpgradeLibraryPress:g,onAnalyzeLibraryPress:y,onEmptyLibraryTrashPress:v,onRefreshAllLibraryMetadataPress:f,onDeleteLibraryPress:b}=t,S=((e,t)=>{var n={};for(var r in e)Ie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ze)for(var r of Ze(e))t.indexOf(r)<0&&Pe.call(e,r)&&(n[r]=e[r]);return n})(t,["machineIdentifier","providerIdentifier","serverEntityID","source","sourceDirectory","target","menuOptions","hasLibraryActions","hasPlaylistsActions","isDeletingLibrary","isOverflowMenuOpen","onOverflowMenuClose","onUpgradeLibraryPress","onAnalyzeLibraryPress","onEmptyLibraryTrashPress","onRefreshAllLibraryMetadataPress","onDeleteLibraryPress"]),I=(0,be.Z)(),Z=(0,be.Z)(g),P=(0,be.Z)(f),E=(0,be.Z)(v),M=(0,be.Z)(y),C=(0,be.Z)(),N=(0,be.Z)(),k=(0,O.Z)(p);return(0,s.useEffect)((()=>{k&&!p&&C.onClose()}),[p,k,C]),s.createElement(s.Fragment,null,s.createElement(ie.Z,{target:l,options:c,isOpen:m,onMenuClose:h},s.createElement(fe,Me(Me({},S),{serverEntityID:i,machineIdentifier:n,sourceDirectory:o,hasLibraryActions:d,hasPlaylistsActions:u,onSharePress:I.onOpen,onUpgradeLibraryPress:Z.onOpen,onRefreshAllLibraryMetadataPress:P.onOpen,onEmptyLibraryTrashPress:E.onOpen,onAnalyzeLibraryPress:M.onOpen,onDeleteLibraryPress:C.onOpen,onImportPlaylistsPress:N.onOpen,onMenuClose:h}))),d?s.createElement(s.Fragment,null,s.createElement(ne.Z,{metricsProperties:{context:w.LIST},serverEntityID:i,sourceDirectory:o,isOpen:I.isOpen,onModalClose:I.onClose}),s.createElement(re.Z,{isOpen:Z.isOpen,metricsPage:D.xC,title:(0,T.Z)("Upgrade Library Matching?"),message:s.createElement(s.Fragment,null,s.createElement("div",null,(0,T.Z)("This library is currently using a legacy agent to match items and fetch artwork and other metadata. There is a newer, faster, and more accurate agent available for this type of media. Would you like to upgrade this library now?")),s.createElement("div",{className:"SourceActionsMenu-modalNote-2hRXsX"},(0,T.Z)('Note: Existing items in this library will not be affected until they are refreshed. You can refresh them individually or upgrade all existing items with "Refresh All Metadata".'))),confirmLabel:(0,T.Z)("Upgrade"),onConfirm:Z.onConfirm,onCancel:Z.onClose}),s.createElement(re.Z,{isOpen:P.isOpen,metricsPage:D.yW,title:(0,T.Z)("Refresh All Metadata"),message:(0,T.Z)("Forces a download of fresh media information from the internet. This can take a long time. Any locked fields are not modified."),confirmLabel:(0,T.Z)("Refresh"),onConfirm:P.onConfirm,onCancel:P.onClose}),s.createElement(re.Z,{isOpen:E.isOpen,metricsPage:D.Y0,title:(0,T.Z)("Empty Trash"),message:(0,T.Z)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:(0,T.Z)("Empty"),onConfirm:E.onConfirm,onCancel:E.onClose}),s.createElement(re.Z,{isOpen:M.isOpen,metricsPage:D.cJ,title:(0,T.Z)("Analyze Library"),message:(0,T.Z)("Analyzes all the media files in the library. The analysis captures information about the media which helps Plex decide how to optimally play back the media."),confirmLabel:(0,T.Z)("Analyze"),onConfirm:M.onConfirm,onCancel:M.onClose}),s.createElement(re.Z,{isOpen:C.isOpen,isConfirmButtonSpinning:p,isCancelButtonDisabled:p,metricsPage:D.iw,kind:x.T,title:(0,T.Z)("Delete Library"),message:(0,T.Z)('The library "{libraryName}" will be removed from this server. Your media files will not be affected. This can\'t be undone. Continue?',{libraryName:a.title}),accordMessage:(0,T.Z)('Yes, delete the library "{libraryName}"',{libraryName:a.title}),confirmLabel:(0,T.Z)("Delete"),onConfirm:b,onCancel:C.onClose})):null,u?s.createElement(A.ZP,{machineIdentifier:n,providerIdentifier:r},s.createElement(te,{isOpen:N.isOpen,onModalClose:N.onClose})):null)};var we=Object.defineProperty,De=Object.prototype.hasOwnProperty,Te=Object.getOwnPropertySymbols,Oe=Object.prototype.propertyIsEnumerable,xe=(e,t,n)=>t in e?we(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ae=(e,t)=>{for(var n in t||(t={}))De.call(t,n)&&xe(e,n,t[n]);if(Te)for(var n of Te(t))Oe.call(t,n)&&xe(e,n,t[n]);return e};const Ne={dispatchScanLibraryFiles:P.t9,dispatchCancelScanLibraryFiles:P.K$,dispatchUpgradeLibrary:P.e0,dispatchEditLibrary:P.Oj,dispatchRefreshAllLibraryMetadata:P.ay,dispatchEmptyLibraryTrash:P.nP,dispatchAnalyzeLibrary:P.mp,dispatchDeleteLibrary:P.CM,dispatchRedirectToRoute:Z.im,dispatchReloadGuide:M.fh,dispatchCancelReloadGuide:M.Pv,dispatchPopulateHasiTunes:E.st,dispatchPinSources:C.W1,dispatchUnpinSources:C.Dm};class ke extends s.Component{constructor(){super(...arguments),this.onScanLibraryPress=()=>{this.props.dispatchScanLibraryFiles({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onCancelScanLibraryPress=()=>{this.props.dispatchCancelScanLibraryFiles({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onEditLibraryPress=()=>{this.props.dispatchEditLibrary({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onRefreshAllLibraryMetadataPress=()=>{this.props.dispatchRefreshAllLibraryMetadata({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onEmptyLibraryTrashPress=()=>{this.props.dispatchEmptyLibraryTrash({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onAnalyzeLibraryPress=()=>{this.props.dispatchAnalyzeLibrary({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onDeleteLibraryPress=()=>{this.props.dispatchDeleteLibrary({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage}),this.props.source.isSelected&&this.props.dispatchRedirectToRoute({route:"home"})},this.onRefreshGuidePress=()=>{this.props.dispatchReloadGuide({serverEntityID:this.props.serverEntityID,dvrID:this.props.provider.parentID,metricsPage:this.props.metricsPage})},this.onCancelRefreshGuidePress=()=>{this.props.dispatchCancelReloadGuide({serverEntityID:this.props.serverEntityID,dvrID:this.props.provider.parentID,metricsPage:this.props.metricsPage})},this.onTogglePinSources=()=>{this.props.isPinned?this.props.dispatchUnpinSources({sources:[this.props.source]}):this.props.dispatchPinSources({sources:[this.props.source]})},this.onUpgradeLibraryPress=()=>{this.props.dispatchUpgradeLibrary({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory})}}componentDidMount(){const{isOwnedPlaylistSource:e,isConnected:t}=this.props;e&&t&&this._populateHasiTunes(this.props)}componentDidUpdate(e){const{isOwnedPlaylistSource:t,isConnected:n}=this.props;t&&n&&!e.isConnected&&this._populateHasiTunes(this.props)}_populateHasiTunes(e){this.props.dispatchPopulateHasiTunes({serverEntityID:e.serverEntityID})}render(){const e=this.props,{metricsPage:t,isConnected:n,isOwnedPlaylistSource:r,dispatchUpgradeLibrary:i,dispatchScanLibraryFiles:a,dispatchCancelScanLibraryFiles:o,dispatchEditLibrary:l,dispatchReloadGuide:c,dispatchCancelReloadGuide:d,dispatchPopulateHasiTunes:u,dispatchPinSources:p,dispatchUnpinSources:m}=e,h=((e,t)=>{var n={};for(var r in e)De.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Te)for(var r of Te(e))t.indexOf(r)<0&&Oe.call(e,r)&&(n[r]=e[r]);return n})(e,["metricsPage","isConnected","isOwnedPlaylistSource","dispatchUpgradeLibrary","dispatchScanLibraryFiles","dispatchCancelScanLibraryFiles","dispatchEditLibrary","dispatchReloadGuide","dispatchCancelReloadGuide","dispatchPopulateHasiTunes","dispatchPinSources","dispatchUnpinSources"]);return s.createElement(Ce,Ae(Ae({},h),{onScanLibraryPress:this.onScanLibraryPress,onCancelScanLibraryPress:this.onCancelScanLibraryPress,onEditLibraryPress:this.onEditLibraryPress,onAnalyzeLibraryPress:this.onAnalyzeLibraryPress,onRefreshAllLibraryMetadataPress:this.onRefreshAllLibraryMetadataPress,onEmptyLibraryTrashPress:this.onEmptyLibraryTrashPress,onDeleteLibraryPress:this.onDeleteLibraryPress,onRefreshGuidePress:this.onRefreshGuidePress,onCancelRefreshGuidePress:this.onCancelRefreshGuidePress,onTogglePinSources:this.onTogglePinSources,onUpgradeLibraryPress:this.onUpgradeLibraryPress}))}}const Le=(0,S.Z)((function(){return(0,a.P1)(((e,{source:t})=>t),p.Z,u.Z,l.Z,m.Z,(0,c.Ol)(),(0,a.P1)((0,d.Z)(),(e=>e&&e.desktop.hasiTunes)),(0,o.Z)(),((e,t,n,r,i,s,a,o)=>{const l=i.some((t=>!!e&&t.key===e.key));if(!n||!r||!e||n.isOutOfDate)return{isUnavailable:!0,isPinned:l};const c=e.sourceType===f.lz,d=g.wB(r.identifier,g.Ll),{features:{content:{directories:u=[]}={}}={}}=r||{},p=u.find((t=>t.id===e.directoryID)),m=n.isFullOwnedServer&&r.isLibraryProvider&&p&&/(\d+)$/.test(p.id)&&!c,S=n.isFullOwnedServer&&e.sourceType===f.ls,I=!!u.find((({type:e})=>e===v.ARTIST)),Z=r.features.settings;return{sourceDirectory:p,machineIdentifier:n.machineIdentifier,provider:r,providerIdentifier:r.identifier,hasProviderSettings:!!Z&&(0,b.d)(t,Z),hasLibraryActions:m,hasPlexMusicUpgrade:p&&p.type===v.ARTIST&&(p.agent===h.zR||p.agent===h.E4),hasPlexMovieUpgrade:n.ownerFeatures&&n.ownerFeatures.includes(y.wz)&&p&&p.type===v.MOVIE&&(p.agent===h.A2||p.agent===h.HN),hasPlexSeriesUpgrade:n.ownerFeatures&&n.ownerFeatures.includes(y.VA)&&p&&p.type===v.SHOW&&(p.agent===h.A2||p.agent===h.NV),hasDVRActions:n.isFullOwnedServer&&d,hasPlaylistsActions:S&&a&&I,isConnected:n.isConnected,isUnavailable:n.isUnavailable,isPinned:l,isDeletingLibrary:!!s,isGuideRefreshing:!!o,isOwnedPlaylistSource:S}}))}),Ne)(ke);Le.propTypes=Ae(Ae({},Le.propTypes),{source:I,serverEntityID:i().string,providerEntityID:i().string});const je=Le},19613:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=n(95368);var s=Object.defineProperty,a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e};const u=function(e){return r.createElement(i.Z,d(d({},e),{containerClassName:"SourceSidebarConfirmModal-modalContainer-1ZZ1B3 Modal-modalContainer-3UE-IC"}))}},73954:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(67294),i=n(74287);var s=Object.defineProperty,a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&c(e,n,t[n]);return e};const u=function(e){return r.createElement(i.Z,d(d({},e),{portalClassName:"SourceSidebarMenu-menuPortal-34r8Zw Menu-menuPortal-15ejz7"}))}},83787:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ne});var r=n(67294),i=n(93966),s=n(88050),a=n(69605),o=n(82378),l=n(47636),c=n(2424),d=n(89969),u=n(22222),p=n(92187),m=n(84936),h=n(43666),g=n(94184),y=n.n(g),v=n(5562),f=n(22745),b=n(6103),S=n(66322),I=n(70182),Z=n(79849),P=n(89460),E=n(60528),M=n(58801),C=n(64795),w=n(97125),D=n(7568),T=n(21696),O=n(52919),x=n(31481),A=n(26782);const N=function({img:e,title:t,description:n}){return r.createElement("div",{className:"PlexPassFeature-feature-YnW4ll"},r.createElement("div",{className:"PlexPassFeature-featurePadding-U1Isfj"},r.createElement("img",{className:"PlexPassFeature-featureImage-QAgxr1",src:e}),r.createElement("div",{className:"PlexPassFeature-featureContainer-21ruMO"},r.createElement("div",{className:"PlexPassFeature-featureTitle-3HIuXF"},t),r.createElement("div",{className:"PlexPassFeature-featureDescription-F11NZQ"},n))))},k="PlexPassModalContent-planButton-2OghRO";var L=Object.defineProperty,j=Object.prototype.hasOwnProperty,R=Object.getOwnPropertySymbols,V=Object.prototype.propertyIsEnumerable,U=(e,t,n)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z=(e,t)=>{for(var n in t||(t={}))j.call(t,n)&&U(e,n,t[n]);if(R)for(var n of R(t))V.call(t,n)&&U(e,n,t[n]);return e};const B=function(e){const{metricsProperties:t,subscribeUrl:n,infoUrl:i,plans:a,isPlansPending:l,isPlansPopulated:c,plansError:d,onModalClose:u}=e;return r.createElement(C.Z,{onModalClose:u},r.createElement(P.Z,{className:"PlexPassModalContent-header-2LHpX7 ModalHeader-modalHeader-15PhZc"},r.createElement("div",{className:"PlexPassModalContent-plexPassTitle-2qmwpN"},(0,v.Z)("Plex Pass")),(0,v.Z)("Enhance your Plex experience with exclusive premium features")),r.createElement(I.Z,{innerClassName:"PlexPassModalContent-body-3jSMOl ModalBody-innerModalBody-1VHRyi"},r.createElement(N,{img:T,title:(0,v.Z)("Downloads"),description:(0,v.Z)("Enjoy your media offline on Android and iOS devices")}),r.createElement(N,{img:D,title:(0,v.Z)("Live TV & DVR"),description:(0,v.Z)("Connect a tuner and antenna to record free OTA broadcasts")}),r.createElement(N,{img:x,title:(0,v.Z)("Parental Controls"),description:(0,v.Z)("Set up managed user accounts to create custom access restrictions")}),r.createElement(N,{img:A,title:(0,v.Z)("Webhooks"),description:(0,v.Z)("Connect your media server to your home automation system")}),r.createElement(N,{img:w,title:(0,v.Z)("Server Dashboard"),description:(0,v.Z)("See the play history, bandwidth, and top users on your media server")}),r.createElement(N,{img:O,title:(0,v.Z)("Premium Music Magic"),description:(0,v.Z)("Sweet Fades, Loudness Leveling, Lyrics, and more")}),r.createElement("div",{className:"PlexPassModalContent-moreFeatures-1L7gmZ"},r.createElement(b.Z,{className:"PlexPassModalContent-link-W12ZLV",to:i,target:"_self"},(0,v.Z)("...plus more exclusive features!")))),r.createElement(Z.Z,{className:"PlexPassModalContent-footer-21FcFP ModalFooter-modalFooter-1Q0cxs"},l?r.createElement("div",{className:"PlexPassModalContent-spinnerContainer-3sN9Mf"},r.createElement(M.Z,null)):null,r.createElement("div",{className:y()("PlexPassModalContent-plansContainer-3y4lZx",l&&"PlexPassModalContent-isPlansPending-1jd-23")},!l&&c?a.map((e=>r.createElement(S.Z,z(z({key:e.id},t),{action:s.kD,plan:e.id}),r.createElement(f.Z,{className:k,to:m.Z.join(n,{plan:e.id,continue:window.location.href}),target:"_self",kind:E._8,size:o.ln},e.formattedPrice," — ",e.name)))):null,!l&&d?r.createElement(S.Z,z(z({},t),{action:s.kD,plan:"unknown"}),r.createElement(f.Z,{className:k,to:n,target:"_self",kind:E._8,size:o.ln},(0,v.Z)("Subscribe"))):null)))};var _=Object.defineProperty,F=Object.prototype.hasOwnProperty,H=Object.getOwnPropertySymbols,W=Object.prototype.propertyIsEnumerable,Q=(e,t,n)=>t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class G extends r.Component{UNSAFE_componentWillMount(){this.props.isSignedIn&&this.props.fetchPlans()}UNSAFE_componentWillReceiveProps(e){e.isSignedIn&&e.isSignedIn!==this.props.isSignedIn&&e.fetchPlans()}render(){return r.createElement(B,((e,t)=>{for(var n in t||(t={}))F.call(t,n)&&Q(e,n,t[n]);if(H)for(var n of H(t))W.call(t,n)&&Q(e,n,t[n]);return e})({},this.props))}}const Y=(0,d.$j)((function(){return(0,u.P1)(((e,{origin:t})=>t),p.Z,((e,t)=>{const n=t.desktop,r={utm_source:"app.plex.tv",utm_medium:"app",utm_campaign:"PP_in-app-upsell_01"};return e&&(r.utm_content=e),{isSignedIn:t.isSignedIn,plans:n.plans,isPlansPending:n.isPlansPending,isPlansPopulated:n.isPlansPopulated,plansError:n.plansError,subscribeUrl:m.Z.join(["https://www.plex.tv","/plex-pass/purchase"],r),infoUrl:m.Z.join(["https://www.plex.tv","/plex-pass"])}}))}),{fetchPlans:h.ZQ})(G);var q=Object.defineProperty,K=Object.prototype.hasOwnProperty,$=Object.getOwnPropertySymbols,X=Object.prototype.propertyIsEnumerable,J=(e,t,n)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ee=(e,t)=>{for(var n in t||(t={}))K.call(t,n)&&J(e,n,t[n]);if($)for(var n of $(t))X.call(t,n)&&J(e,n,t[n]);return e};class te extends r.Component{constructor(){super(...arguments),this.onModalClose=()=>{(0,i.DB)("metrics").trackClick(ee(ee({},this.props.metricsProperties),{page:a.G5,action:s.AM})),this.props.onModalClose()}}shouldComponentUpdate(e,t){return(0,l.Z)(this,e,t)}render(){const{origin:e,isOpen:t,metricsProperties:n}=this.props;return r.createElement(c.Z,{size:o.ln,isOpen:t,metricsPage:a.G5,metricsProperties:n,onModalClose:this.onModalClose},r.createElement(Y,{origin:e,metricsProperties:n,onModalClose:this.onModalClose}))}}const ne=te},78876:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(90937),i=n(87161);const s=(0,r.Z5)(i.ZP)},21709:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),i=n(61006),s=n(48494),a=n(47636),o=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const p={[i.JU]:!0,[i.jx]:!0,[i.Ge]:!0,[i.nO]:!0,[i.u5]:!0},m=function(e){var t;return(t=class extends r.Component{constructor(e,t){super(e,t),this.onKeyDown=e=>{const{pressedModifierKeys:t}=this.state;p[e.which]&&-1===t.indexOf(e.which)&&this.setState({pressedModifierKeys:t.concat(e.which)})},this.onKeyUp=e=>{const{pressedModifierKeys:t}=this.state,n=t.indexOf(e.which);n>-1&&this.setState({pressedModifierKeys:t.slice(0,n).concat(t.slice(n+1))})},this.onMouseDown=e=>{this._isMouseDown=!0},this.onMouseUp=e=>{this._isMouseDown=!1},this.onFocusChange=e=>{this.state.pressedModifierKeys.length&&this.setState({pressedModifierKeys:[]}),this._isMouseDown=!1},this.onMouseEnter=e=>{const{selectionType:t,activeSelectionType:n}=this.props;this._isMouseDown&&n&&n===t&&this.onSelectPress(e)},this.onSelectPress=e=>{const{selectionID:t,selectionType:n,isSelected:r,onSelectItem:i}=this.props;r||i({id:t,type:n,isRangeSelect:e.shiftKey})},this.onDeselectPress=e=>{const{selectionID:t,isSelected:n,onDeselectItem:r}=this.props;n&&r({id:t})},this.state={pressedModifierKeys:[]}}componentDidMount(){document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp),document.addEventListener("mousedown",this.onMouseDown),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("dragstart",this.onFocusChange),document.addEventListener("contextmenu",this.onFocusChange),window.addEventListener("blur",this.onFocusChange)}shouldComponentUpdate(e,t){return(0,a.Z)(this,e,t)}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("dragstart",this.onFocusChange),document.removeEventListener("contextmenu",this.onFocusChange),window.removeEventListener("blur",this.onFocusChange)}render(){const t=this.props,{selectionType:n,activeSelectionType:i,isSelected:s}=t,a=((e,t)=>{var n={};for(var r in e)l.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&c)for(var r of c(e))t.indexOf(r)<0&&d.call(e,r)&&(n[r]=e[r]);return n})(t,["selectionType","activeSelectionType","isSelected"]),{pressedModifierKeys:o}=this.state,p=!!i;return r.createElement(e,((e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e})({hasActiveSelection:p,isSelected:s,isOtherItemSelected:p&&!s,isConflictingTypeSelected:p&&i!==n,isModifierKeyPressed:o.length>0,onMouseEnter:this.onMouseEnter,onSelectPress:this.onSelectPress,onDeselectPress:this.onDeselectPress},a))}}).displayName=`Selectable(${(0,s.Z)(e)})`,t.WrappedComponent=e,t.defaultProps={disableSelection:!1},t}},36793:(e,t,n)=>{"use strict";n.d(t,{OT:()=>r,PI:()=>i,gO:()=>s,SU:()=>a,KP:()=>o,L4:()=>l});const r="RECORDING_PRIORITY_SUBSCRIPTION",i="PLAY_QUEUE_ITEM",s="PLAYLIST_ITEM",a="ALBUM_ITEM",o="SOURCE_ITEM",l="LINEUP_CHANNEL"},83296:(e,t,n)=>{"use strict";function r(e,t){const{x:n,y:r}=e,i=`translate3d(${n}px, ${r}px, 0)`;return{WebkitTransform:i,msTransform:i,transform:i,width:t?`${t}px`:"100%"}}n.d(t,{Z:()=>r})},38625:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294);function i(e,t){return e&&e[t]?e[t].split(","):[]}function s(e,t,n){const s=i(e,t),a=i(e,n),[o,l]=(0,r.useState)(s),[c,d]=(0,r.useState)(a);return{initialAllowTags:s,initialExcludeTags:a,allowTags:o,excludeTags:c,onAllowTagsChange:(0,r.useCallback)((e=>{l(e)}),[]),onExcludeTagsChange:(0,r.useCallback)((e=>{d(e)}),[])}}},92885:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function i(e){const[t,n]=(0,r.useState)(!1);return{isOpen:t,onOpen:(0,r.useCallback)((()=>n(!0)),[]),onClose:(0,r.useCallback)((()=>n(!1)),[]),onConfirm:(0,r.useCallback)((t=>{n(!1),e&&e(t)}),[e])}}},22876:(e,t,n)=>{"use strict";n.d(t,{P:()=>o,E:()=>l});var r=n(59756),i=n(47479);function s(){return!i.Z.isHostedHttps||!!r.Z.allowMixedContent}function a(e){return e.isFullServer&&!!e.presence&&!e.httpsRequired}function o(e){return!s()&&a(e)}function l(e){const t=e.hasHttpsConnections&&!e.hasFallbackConnections;return s()&&a(e)&&t}},48425:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(28180),i=n(38891),s=n(39539),a=n(80126),o=n(52998),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&p(e,n,t[n]);return e};const h={};function g(e,t,n,l=0,c=0){const d=e+(t||"")+n+l+c;if(h.hasOwnProperty(d))return h[d];const u=(0,a.n3)(e,t,n),{titleHeight:p,minCellWidth:g,preferredCellWidth:y,minColumns:v,maxColumns:f}=(0,o.Z)({type:e,aspectRatio:u,titleCount:c,context:n}),b=(0,r.ZP)({direction:r._y,rows:1,overscan:0,innerHorizontalPadding:30,innerVerticalPadding:30,outerPaddingTop:10,outerPaddingRight:5,outerPaddingBottom:5,outerPaddingLeft:5,getCellWidth:e=>(0,s.Z)(m(m({},e),{preferredCellWidth:y,minCellWidth:g,minColumns:v,maxColumns:f,columnAdjustment:l})),getCellHeight:e=>(0,i.Z)(m(m({},e),{aspectRatio:u,titleHeight:p}))});return b.cellOptions={preferredCellWidth:y,minCellWidth:g,minColumns:v,maxColumns:f,columnAdjustment:l,aspectRatio:u,titleHeight:p},h[d]=b,b}},90961:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(28180),i=Object.defineProperty,s=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function c(e=40,t=10,n){return(0,r.ZP)(((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(a)for(var n of a(t))o.call(t,n)&&l(e,n,t[n]);return e})({direction:r.yZ,columns:1,overscan:t,getCellWidth:e=>e.innerViewportWidth,getCellHeight:()=>e},n))}},52998:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(77342),i=n(48022),s=n(7796);function a({type:e,aspectRatio:t,titleCount:n,context:a}){const o=parseInt(s.Z.posterTitleHeight,10);let l,c,d,u,p,m=parseInt(s.Z.posterTitlePadding,10);return(0,r.Z)(a)?(l=Math.max(2,n-1),c=300,d=200,p=2,u=6,m*=2):(l=e===i.t1?n+3:n,d=t>1?180:80,c=t>1?240:120,p=t>1?2:3,u=t>1?8:11),{titleHeight:l?l*o+m:0,minCellWidth:d,preferredCellWidth:c,minColumns:p,maxColumns:u}}},66567:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),i=Object.defineProperty,s=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(a)for(var n of a(t))o.call(t,n)&&l(e,n,t[n]);return e};function d(e,t){return function(n){return r.createElement(t,c(c({},e),n))}}},66151:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7796);const i=parseFloat(r.Z.prePlayPosterWidthRatio,10),s=parseInt(r.Z.prePlayPosterMinWidth,10),a=parseInt(r.Z.prePlayPosterMaxWidth,10),o=function(e,t){const n=-1*t+1,r=e*(n/30+i);return Math.max(Math.min(r,a+30*n),s)}},13550:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(46277),i=n(69881);function s(e,t="·"){const{type:n,title:s,parentTitle:a,grandparentTitle:o,index:l,parentIndex:c,originallyAvailableAt:d}=e;switch(n){case i.EPISODE:{let e=`${o} ${t} ${(0,r.Z)({seasonIndex:c,episodeIndex:l,date:d,noLeadingZero:!0,separator:" · "})}`;return s&&(e+=` ${t} ${s}`),e}case i.SEASON:case i.ALBUM:return`${a} ${t} ${s}`;case i.TRACK:return`${o} ${t} ${a} ${t} ${s}`;default:return s}}},72181:(e,t,n)=>{"use strict";n.d(t,{tW:()=>I,_7:()=>Z,yq:()=>M,y7:()=>w,QF:()=>D,Dd:()=>T,h$:()=>O,J5:()=>x,wc:()=>A,Or:()=>N,L:()=>L,Jm:()=>j,k7:()=>R,k_:()=>V,ZP:()=>U});var r=n(13469),i=n.n(r),s=n(59756),a=n(67006),o=n(94803),l=n(17524),c=n(45399),d=n(90296),u=n(11133),p=n(34796),m=n(61478),h=n(69881),g=n(89984),y=n(57721),v=n(78847),f=n(2078);const b={showPlay:I,showPlayVersion:function({server:e,provider:t,stableUser:n,metadataItem:r}){return!!I({server:e,provider:t,stableUser:n,metadataItem:r})&&(t.isLibraryProvider&&r.Media&&r.Media.length>1)},showPlayAll:I,showShuffle:function({server:e,provider:t,stableUser:n,metadataItem:r}){return!r.radio&&(I({server:e,provider:t,stableUser:n,metadataItem:r})&&!!t.features.playqueue)},showQueue:Z,showPlayTrailer:P,showPlayPlexMix:E,showQueuePlexMix:function({server:e,provider:t,stableUser:n,metadataItem:r}){return E({server:e,provider:t,stableUser:n,metadataItem:r})},showPlayMusicVideo:P,showPlayRadio:function({server:e,provider:t,stableUser:n,metadataItem:r}){return!!r.hasRadioStation},showPlayArtistTV:function({server:e,provider:t,stableUser:n,metadataItem:r}){return!!r.hasArtistTVStation},showAddToWatchlist:function({provider:e,stableUser:t}){return!!(e.features.actions&&e.features.actions.addToWatchlist&&(0,y.d)(t,e.features.actions.addToWatchlist))},showAddToPicks:function({server:e,provider:t,stableUser:n,metadataItem:r}){return!!(n.features[c.Ah]&&t.features.actions&&t.features.actions.pick)},showAddToPlaylist:M,showAddToSaved:function({server:e,provider:t,stableUser:n,metadataItem:r}){if(!t)return!1;const i=t.features.actions.save;return!(!i||!(0,y.d)(n,i))&&null!=r.saved},showAddToLibrary:function({server:e,provider:t,stableUser:n,metadataItem:r}){if(!t)return;const i=r.type===h.TRACK||r.type===h.ALBUM||r.type===h.ARTIST,s=l.wB(t.identifier,l.xF),a=!!n.features[c.Ao],o=(0,y.d)(n,{requires:d.s});return i&&s&&a&&o},showFavorite:w,showUnfavorite:D,showMarkPlayed:T,showMarkUnplayed:O,showSettings:function({server:e,provider:t,stableUser:n,metadataItem:r}){const{preferences:i}=r;return!t.features.manage&&null!=i},showEdit:x,showModifySmartPlaylist:function({server:e,provider:t,stableUser:n,metadataItem:r}){return!!x({server:e,provider:t,stableUser:n,metadataItem:r})&&!!r.smart},showRefresh:A,showAnalyze:N,showFixMatch:k,showMatch:function({server:e,provider:t,stableUser:n,metadataItem:r}){return!!x({server:e,provider:t,stableUser:n,metadataItem:r})&&(!!r.guid&&!k({server:e,provider:t,stableUser:n,metadataItem:r}))},showUnmatch:function({server:e,provider:t,stableUser:n,metadataItem:r}){return k({server:e,provider:t,stableUser:n,metadataItem:r})},showSplitApart:function({server:e,provider:t,stableUser:n,metadataItem:r}){if(!x({server:e,provider:t,stableUser:n,metadataItem:r}))return!1;let s;return s=h.isParentType(r.type)?r.Location:i().filter(r.Media,(e=>!e.proxyType)),s.length>1},showSync:L,showSyncDownload:function({server:e,provider:t,stableUser:n,metadataItem:r}){if(!s.Z.allowSyncDownload)return!1;if(!t)return!1;if(!l.QN.includes(t.identifier))return!1;if(r.isPlaylist&&r.playlistType===g.pV)return!1;if(r.isDownloaded&&!r.downloadSubscriptionID)return!1;if(!r.hasOwnProperty("guid"))return!1;if(r.remoteMedia)return!1;const i=t.features[a.kD],d=(null==i?void 0:i.flavor)===o.HN&&!!n.features[c.PL];return t.isLibraryProvider?e.allowSync&&d:d},showOptimize:j,showDownload:function({server:e,provider:t,stableUser:n,metadataItem:r}){return!!s.Z.allowDirectDownload&&(!!t.protocols.download&&!r.isExtra&&!r.remoteMedia)},showShare:function({server:e,provider:t,stableUser:n,metadataItem:r}){return e.isFullOwnedServer&&t.isLibraryProvider&&!r.isExtra&&!r.remoteMedia},showDelete:R,showDeleteVersion:function({server:e,provider:t,stableUser:n,metadataItem:r}){return!!x({server:e,provider:t,stableUser:n,metadataItem:r})&&(!!e.allowMediaDeletion&&i().filter(r.Media,(e=>!!e.proxyType)).length>0)},showViewPlayHistory:function({server:e,provider:t,stableUser:n,metadataItem:r}){return e.isFullOwnedServer&&!(0,v.Z)(e)},showWatchTogether:function({server:e,provider:t,stableUser:n,metadataItem:r}){const i=!!n.features[c.Bs],s=l.wB(t.identifier,[l.Y3,l.uk]),a=r.isExtra;return i&&s&&!a},showGetInfo:function({server:e,provider:t,stableUser:n,metadataItem:r}){return!!t&&t.isLibraryProvider&&!r.isExtra&&!r.indirect},showSelect:V},S={[h.MOVIE]:["showPlay","showPlayVersion","showQueue","showPlayTrailer","showAddToWatchlist","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showDownload","showShare","showDelete","showDeleteVersion","showViewPlayHistory","showWatchTogether","showGetInfo","showSelect"],[h.SHOW]:["showPlay","showPlayAll","showShuffle","showQueue","showPlayTrailer","showAddToPicks","showAddToWatchlist","showAddToPlaylist","showAddToSaved","showMarkPlayed","showMarkUnplayed","showEdit","showSettings","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showShare","showDelete","showViewPlayHistory","showSelect"],[h.SEASON]:["showPlay","showPlayAll","showShuffle","showQueue","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showAnalyze","showSync","showSyncDownload","showOptimize","showShare","showDelete","showViewPlayHistory","showSelect"],[h.EPISODE]:["showPlay","showPlayVersion","showQueue","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showSync","showSyncDownload","showOptimize","showDownload","showShare","showDelete","showDeleteVersion","showViewPlayHistory","showWatchTogether","showGetInfo","showSelect"],[h.ARTIST]:["showPlay","showShuffle","showPlayRadio","showPlayArtistTV","showQueue","showAddToPlaylist","showAddToSaved","showAddToLibrary","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showShare","showDelete","showViewPlayHistory","showSelect"],[h.ALBUM]:["showPlay","showShuffle","showQueue","showAddToPicks","showAddToPlaylist","showAddToSaved","showAddToLibrary","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showShare","showDelete","showViewPlayHistory","showSelect"],[h.TRACK]:["showPlay","showQueue","showPlayPlexMix","showQueuePlexMix","showPlayMusicVideo","showAddToPlaylist","showAddToSaved","showAddToLibrary","showMarkPlayed","showMarkUnplayed","showEdit","showAnalyze","showSync","showSyncDownload","showDownload","showShare","showDelete","showViewPlayHistory","showGetInfo","showSelect"],[h.PHOTO_ALBUM]:["showPlay","showShuffle","showAddToPlaylist","showEdit","showAnalyze","showSync","showShare","showSelect"],[h.PHOTO]:["showPlay","showAddToPlaylist","showFavorite","showUnfavorite","showEdit","showAnalyze","showSync","showDownload","showShare","showDelete","showGetInfo","showSelect"],[h.CLIP]:["showPlay","showPlayVersion","showQueue","showPlayTrailer","showAddToPlaylist","showAddToSaved","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showDownload","showShare","showDelete","showDeleteVersion","showViewPlayHistory","showWatchTogether","showGetInfo","showSelect"],[h.PLAYLIST]:["showDelete","showEdit","showPlay","showQueue","showShuffle","showAddToSaved","showSync","showSyncDownload","showShare","showSelect","showEdit","showModifySmartPlaylist"],[h.COLLECTION]:["showPlay","showQueue","showShuffle","showAddToPlaylist","showEdit","showSync","showDelete"],[h.GAME]:["showPlay","showPlayVersion","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showDelete","showDeleteVersion","showGetInfo","showSelect"]};function I({server:e,provider:t,stableUser:n,metadataItem:r}){return(0,f.Z)(e,t,n.features,r)}function Z({server:e,provider:t,stableUser:n,metadataItem:r}){const i=I({server:e,provider:t,stableUser:n,metadataItem:r}),s=r.isExtra&&r.isPremium;return i&&!!t.features.playqueue&&!s}function P({server:e,provider:t,stableUser:n,metadataItem:r}){return!!r.primaryExtraKey}function E({server:e,provider:t,stableUser:n,metadataItem:r}){return!(!r.related||!r.related.find((e=>/similarPlaylist/.test(e))))}function M({server:e,provider:t,stableUser:n,metadataItem:r}){if(!t)return!1;const i=t.features.playlist;return!(!i||!(0,y.d)(n,i))&&!(r.isExtra&&r.isPremium||(0,v.Z)(e))}function C({provider:e,stableUser:t,metadataItem:n}){return!(!e.features.actions.rate||h.isDirectoryType(n.type)||n.isFolder)}function w({server:e,provider:t,stableUser:n,metadataItem:r}){return C({provider:t,stableUser:n,metadataItem:r})&&!(0,p.ZP)(r)}function D({server:e,provider:t,stableUser:n,metadataItem:r}){return C({provider:t,stableUser:n,metadataItem:r})&&(0,p.ZP)(r)}function T({server:e,provider:t,stableUser:n,metadataItem:r}){return!(!(t&&t.features.actions&&t.features.actions.scrobble&&t.features.actions.scrobble.key)||t.protocols.livetv||r.type===h.TRACK&&r.subtype!==m.PODCAST||null!=r.saved&&!r.saved&&!r.viewOffset||r.isExtra)&&(h.isParentType(r.type)?r.unviewedLeafCount>0:!r.viewCount||!!r.viewOffset)}function O({server:e,provider:t,stableUser:n,metadataItem:r}){return!(!(t&&t.features.actions&&t.features.actions.scrobble&&t.features.actions.scrobble.reverseKey)||t.protocols.livetv||r.type===h.TRACK&&r.subtype!==m.PODCAST||null!=r.saved&&!r.saved||r.isExtra)&&(h.isParentType(r.type)?r.viewedLeafCount>0:!!r.viewCount||!!r.viewOffset)}function x({server:e,provider:t,stableUser:n,metadataItem:r}){const{isLibraryItem:i,isPlaylist:s,isExtra:a,isFolder:o,radio:l,readOnly:c}=r,d=i&&!a&&!o&&!l;return s?!c:!!(t&&t.features.manage&&d)}function A({server:e,provider:t,stableUser:n,metadataItem:r}){return x({server:e,provider:t,stableUser:n,metadataItem:r})}function N({server:e,provider:t,stableUser:n,metadataItem:r}){return!r.indirect&&!r.remoteMedia&&x({server:e,provider:t,stableUser:n,metadataItem:r})}function k({server:e,provider:t,stableUser:n,metadataItem:r}){return!!x({server:e,provider:t,stableUser:n,metadataItem:r})&&!(!r.guid||/(local|none):\/\//.test(r.guid))}function L({server:e,provider:t,stableUser:n,metadataItem:r}){if(!s.Z.allowSync)return!1;if(!e.isFullServer)return!1;if(n.features[c.PL])return!1;const{allowSync:i,isExtra:a,isLibraryItem:o,isPlaylist:l,remoteMedia:d}=r;return!(a||d||!o&&!l||!e.allowSync||!i)}function j({server:e,provider:t,stableUser:n,metadataItem:r}){return!!x({server:e,provider:t,stableUser:n,metadataItem:r})&&!(!e.transcoderVideo||!e.backgroundProcessing)}function R({server:e,provider:t,stableUser:n,metadataItem:r}){return!!x({server:e,provider:t,stableUser:n,metadataItem:r})&&!!(r.isPlaylist||r.type===h.COLLECTION||r.remoteMedia||e.allowMediaDeletion)}function V({server:e,provider:t,stableUser:n,metadataItem:r}){return!r.radio&&t.isLibraryProvider&&!r.isFolder}function U({server:e,provider:t,stableUser:n,metadataItem:r}){const{type:s}=r,a=S[s];return a?a.reduce(((a,o)=>{const l=b[o];return(0,u.Z)(i().isFunction(l),`getMetadataActionProps: Invalid action, ${o}, for ${s}`),a[o]=!!(e&&t&&r)&&l({server:e,provider:t,stableUser:n,metadataItem:r}),a}),{}):{}}},60208:(e,t,n)=>{"use strict";n.d(t,{G:()=>c,Z:()=>d});var r=n(61478),i=n(69881),s=n(9220),a=n(80126);function o(e){return e.thumb||e.parentThumb||e.grandparentThumb}function l(e){return e.art||e.parentArt||e.grandparentArt}function c(e,t,n,a){if(a)switch(a){case s.sD:switch(t){case r.PODCAST:switch(e){case i.TRACK:return n.thumb||n.grandparentThumb}}switch(e){case i.SEASON:case i.EPISODE:case i.ALBUM:case i.TRACK:return n.thumb}break;case s.wl:case s.Bs:switch(e){case i.MOVIE:return l(n);case i.EPISODE:return l(n)||n.thumb}break;case s.r$:switch(e){case i.MOVIE:return l(n);case i.EPISODE:return n.thumb||l(n)}break;case s.F5:case s.zg:case s.jF:case s.Ap:switch(e){case i.EPISODE:return n.thumb}}switch(t){case r.PODCAST:switch(e){case i.SHOW:return n.thumb;case i.TRACK:return n.grandparentThumb||n.thumb}break;case r.WEBSHOW:switch(e){case i.EPISODE:return n.thumb}}switch(e){case i.MOVIE:case i.SHOW:return n.thumb;case i.SEASON:return o(n);case i.EPISODE:return n.grandparentThumb;case i.ARTIST:return n.thumb;case i.ALBUM:case i.TRACK:return o(n);case i.PHOTO:case i.PHOTO_ALBUM:case i.CLIP:return n.thumb;case i.PLAYLIST:return n.thumb||n.composite;default:return n.thumb}}function d(e,t,n,r,i,s){const o=null==e?(0,a.dz)(t,n,r,s):e,l=null==t?(0,a.Cr)(e,n,r,s):t;return{url:c(n,r,i,s),width:o,height:l}}},76639:(e,t,n)=>{"use strict";n.d(t,{d:()=>ke,Z:()=>je});var r=n(67294),i=n(17524),s=n(69881),a=n(9220),o=n(48022),l=n(89969),c=n(22222),d=n(757),u=n(70488),p=n(50316),m=n(74253),h=n(5562);const g=(0,l.$j)((function(){return(0,c.P1)(m.Z,u.Z,p.Z,d.Z,((e,t,n,r)=>e&&n&&e.machineIdentifier!==n.machineIdentifier?{sourceTitle:n.sourceTitle||n.friendlyName}:{}))}))((function(e){const{className:t,sourceTitle:n}=e;return n?r.createElement("span",{className:t},(0,h.Z)("from {sourceTitle}",{sourceTitle:n})):null}));var y=n(81017);const v=(0,l.$j)((function(){return(0,c.P1)((0,y.Z)(),(e=>({attributionLogo:e.attributionLogo})))}))((function(e){const{attributionLogo:t,className:n}=e;return t?r.createElement("span",{className:n},r.createElement("img",{className:"MetadataAttributionLogoTitle-img-8cMghO",src:t})):null}));var f=n(33894),b=n(64659),S=n(2016),I=n(78188);function Z(e,t){const n=Math.abs(Date.now()-1e3*e),r=36e5;return n<r?window.setTimeout(t,6e4):n<864e5?window.setTimeout(t,r):void 0}class P extends r.Component{constructor(e,t){super(e,t),this.trackTime=()=>{const{timestamp:e}=this.props,t=(0,I.Z)(e);this.setState({title:t}),this.timeoutID=Z(e,this.trackTime)};const{timestamp:n}=this.props,r=(0,I.Z)(n);this.state={title:r},this.timeoutID=Z(n,this.trackTime)}UNSAFE_componentWillReceiveProps(e){if(e.timestamp!==this.props.timestamp){const t=(0,I.Z)(e.timestamp);this.setState({title:t})}}componentWillUnmount(){this.timeoutID&&(this.timeoutID=window.clearTimeout(this.timeoutID))}render(){const{className:e}=this.props,{title:t}=this.state;return r.createElement("span",{className:e},t)}}const E=P;var M=n(6638);const C=(0,l.$j)((function(){return(0,c.P1)(((e,{metricsContext:t})=>t),p.Z,d.Z,(0,y.Z)(),((e,t,n,r={})=>{const{addedAt:i,grandparentTitle:s,grandparentKey:a}=r,o={};return e&&(o.context=e),{addedAt:i,title:s,route:(0,M.Z)(t,n,a,o)}}))}))((function({className:e,addedAt:t,title:n,route:i}){return t||n?r.createElement("span",{className:e},r.createElement(E,{timestamp:t}),t&&n?" — ":null,r.createElement(S.Z,{title:n,route:i})):null}));var w=n(13469),D=n.n(w),T=n(54834),O=n(48903),x=n(21849);const A=(0,l.$j)((function(){return(0,c.P1)(O.Z,(0,T.Z)(),(0,c.P1)((0,y.Z)(),(0,T.Z)(),((e,t)=>{if(e&&t)return D().findWhere(e.Channel,{id:t.channelID})})),((e,t,n)=>({beginsAt:t&&t.beginsAt,endsAt:t&&t.endsAt,channel:n&&n.tag,timeFormat:e})))}))(x.Z);var N=n(97818),k=n(14651),L=n(96121);var j=Object.defineProperty,R=Object.prototype.hasOwnProperty,V=Object.getOwnPropertySymbols,U=Object.prototype.propertyIsEnumerable,z=(e,t,n)=>t in e?j(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const B=(0,l.$j)((function(){return(0,c.P1)((0,y.Z)(),((e={})=>({attribution:e.attribution})))}))((function(e){var t=e,{className:n,attribution:i}=t,s=((e,t)=>{var n={};for(var r in e)R.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&V)for(var r of V(e))t.indexOf(r)<0&&U.call(e,r)&&(n[r]=e[r]);return n})(t,["className","attribution"]);return r.createElement("span",{className:n},r.createElement("div",{className:"MetadataTitleAttributedLink-container-2MJkFQ"},r.createElement(k.Z,{className:"MetadataTitleAttributedLink-badge-3X-f_9",attribution:i}),r.createElement(L.Z,((e,t)=>{for(var n in t||(t={}))R.call(t,n)&&z(e,n,t[n]);if(V)for(var n of V(t))U.call(t,n)&&z(e,n,t[n]);return e})({className:"MetadataTitleAttributedLink-title-3ZOR2-"},s))))}));var _=n(48487),F=n(16345),H=n(20774),W=n(26229);const Q=(0,l.$j)((function(){return(0,c.P1)(O.Z,(0,H.Z)(),((e,t)=>({beginsAt:t&&t.beginsAt,endsAt:t&&t.endsAt,timeFormat:e})))}))((function(e){const{className:t,beginsAt:n,endsAt:i,timeFormat:s}=e,a=(0,W.Z)(n,i,{includeMinuteZero:!1,timeFormat:s});return r.createElement("span",{className:t},a)}));var G=n(76080),Y=n(92797);const q=(0,n(35981).Z)(["id","typeString"],[{id:1,typeString:"trailer",title:()=>(0,h.Z)("Trailer")},{id:2,typeString:"deletedScene",title:()=>(0,h.Z)("Deleted Scene")},{id:3,typeString:"interview",title:()=>(0,h.Z)("Interview")},{id:4,typeString:"musicVideo",title:()=>(0,h.Z)("Music Video")},{id:5,typeString:"behindTheScenes",title:()=>(0,h.Z)("Behind the Scenes")},{id:6,typeString:"scene",title:()=>(0,h.Z)("Scene")},{id:7,typeString:"liveMusicVideo",title:()=>(0,h.Z)("Live Music Video")},{id:8,typeString:"lyricMusicVideo",title:()=>(0,h.Z)("Lyric Music Video")},{id:9,typeString:"concert",title:()=>(0,h.Z)("Concert")},{id:10,typeString:"featurette",title:()=>(0,h.Z)("Featurette")},{id:11,typeString:"short",title:()=>(0,h.Z)("Short")},{id:12,typeString:"other",title:()=>(0,h.Z)("Other")}]),K=(0,l.$j)((function(){return(0,c.P1)((0,y.Z)(),((e={})=>({extraType:e.extraType})))}))((function({className:e,extraType:t}){var n=q.get(t);return r.createElement("span",{className:e},n?n.title:"")}));var $=n(63210);const X=(0,l.$j)((function(){return(0,c.P1)((0,y.Z)(),(0,$.Z)(),((e={},t)=>({title:e.title,route:t})))}))(S.Z);X.isDoubleLine=!0;const J=X;var ee=n(44491),te=n(5789),ne=n(62912);const re=(0,l.$j)((function(){return(0,c.P1)((0,y.Z)(),((e={})=>({playlistType:e.playlistType,duration:e.duration,leafCount:e.leafCount})))}))((function(e){const{className:t,playlistType:n,duration:i,leafCount:s}=e;return n===ee.pV?r.createElement(ne.Z,{className:t,leafCount:s}):r.createElement(te.Z,{className:t,duration:i})}));var ie=n(50079),se=n(45362),ae=n(82514),oe=n(18095),le=n(6447),ce=n(7790),de=n(98862),ue=n(83154),pe=n(6103),me=n(26512);function he(e,t){return e.isCloud?t.sourceTitle?`${t.title} ${t.sourceTitle}`:t.title:e.friendlyName}const ge=(0,l.$j)((function(){return(0,c.P1)(m.Z,u.Z,(0,ce.Z)(),((e,t,n)=>({server:e,provider:t,sourceDirectory:n})))}))((function(e){const{className:t,server:n,provider:s,sourceDirectory:a}=e;if(!n.friendlyName&&!n.isCloud)return null;const o=n.isCloud&&!a?void 0:(0,me.Z)(n,s,a,i.wB(s.identifier,i.Y3)?{key:ue.D,pageType:de.km}:void 0);return r.createElement("span",{className:t},n.isCloud&&!s.sourceTitle?(0,h.Z)("on")+" ":null,o?r.createElement(pe.Z,{title:n.friendlyName,to:o},he(n,s)):he(n,s))}));var ye=n(52180);const ve=(0,l.$j)((function(e,t){return(0,c.P1)((0,y.Z)(),((e={})=>({addedAt:e.addedAt})))}))((function({className:e,addedAt:t}){return r.createElement(E,{className:e,timestamp:t})}));var fe=n(54941),be=n(69713),Se=n(91135);const Ie=(0,l.$j)((function(){return(0,c.P1)((0,y.Z)(),((e={})=>{const t=(0,s.getMetadataType)(e.type),n=e.Media&&e.Media[0];return{type:t&&t.mediaType,bitrate:n&&n.bitrate}}))}))((function(e){const{className:t,type:n,bitrate:i}=e;if(null==i)return null;const s=n===Se.j0?(0,fe.Z)(i):(0,be.Z)(i);return r.createElement("span",{className:t},s)}));var Ze=n(98582);const Pe=(0,l.$j)((function(e,t){return(0,c.P1)((0,y.Z)(),((e={})=>({contentRating:e.contentRating})))}))((function({className:e,contentRating:t}){return r.createElement("span",{className:e},(0,Ze.Z)(t))}));var Ee=n(12133);const Me=(0,l.$j)((function(e,t){return(0,c.P1)((0,y.Z)(),((e={})=>{const{duration:t}=e;return{duration:t}}))}))(te.Z),Ce=(0,l.$j)((function(e,t){return(0,c.P1)((0,y.Z)(),((e={})=>({lastViewedAt:e.lastViewedAt})))}))((function({className:e,lastViewedAt:t}){return r.createElement(E,{className:e,timestamp:t})})),we=(0,l.$j)((function(){return(0,c.P1)((0,y.Z)(),((e={})=>({viewCount:e.viewCount})))}))((function({className:e,viewCount:t}){const n=(t>1?(0,h.Z)("{viewCount} Plays",{viewCount:t}):null)||(t>0?(0,h.Z)("{viewCount} Play",{viewCount:t}):null)||(0,h.Z)("Unplayed");return r.createElement("span",{className:e},n)}));var De=n(31212);const Te=(0,l.$j)((function(e,t){return(0,c.P1)((0,y.Z)(),((e={})=>{const{originallyAvailableAt:t}=e;return{originallyAvailableAt:t}}))}))((function({className:e,originallyAvailableAt:t}){return r.createElement("span",{className:e},(0,De.Z)(t,"MMM d, yyyy"))}));var Oe=n(10825);const xe=(0,l.$j)((function(){return(0,c.P1)((0,y.Z)(),((e={})=>{const t=e.Media&&e.Media[0];return{videoResolution:t&&t.videoResolution}}))}))((function({className:e,videoResolution:t}){return r.createElement("span",{className:e},(0,Oe.Z)(t))}));var Ae=n(33682);function Ne(e,t,n){if("mixed"===e)return[];switch(n){case a.mo:switch(e){case"artist":return[L.Z,N.Z];case"photo":return[F.Z,G.Z];case"photoalbum":case"clip":return[L.Z,G.Z];case"playlist":return[L.Z,re];case"collection":return[L.Z,_.Z];case"actor":case"genre":case"director":case"autotag":case"tag":case"place":return[ye.Z]}break;case a.F5:case a.r$:case a.zg:case a.UC:switch(t){case"podcast":switch(e){case"track":return[f.Z,Y.Z]}break;case"musicVideo":switch(e){case"clip":return[L.Z,ae.Z]}}switch(e){case"episode":return[f.Z,Y.Z];case"clip":return[L.Z,G.Z];case"track":return[L.Z,ae.Z]}break;case a.IN:switch(e){case"participant":return[L.Z]}}switch(t){case"podcast":switch(e){case"show":return[J,null];case"track":return[J,f.Z,null]}break;case"webshow":switch(e){case"show":return[L.Z];case"episode":return[J,C,null]}}switch(e){case"channels":return[F.Z,A];case"movie":return[L.Z,oe.Z];case"show":return[L.Z,ie.Z];case"season":return[b.Z,L.Z];case"episode":return[f.Z,L.Z,se.Z];case"artist":return[L.Z];case"album":return[b.Z,B];case"track":return[f.Z,L.Z];case"photo":return[F.Z];case"photoalbum":case"clip":return[L.Z];case"extra":return[F.Z,K];case"musicVideo":return[f.Z,F.Z];case"playlist":return[L.Z,re];case"collection":return[L.Z,_.Z];case"directory":case"genre":case"content":case"channel":return[];case"game":return[L.Z,oe.Z]}return[F.Z]}function ke(e,t,n,r,i,a){const l=t===o.t1,c=t===o.pV,d=n===s.COLLECTION;if(a)return Le(a);if(!l&&!c&&!d)return e;const u=Ne(n,r,i),p=Ne(t,r,i),m=e.filter((e=>!p.includes(e)));return u.concat(m)}function Le(e){return e.map((e=>{switch(e){case"attributionLogo":return v;case"episodeIdentifier":case"index":return se.Z;case"grandparentTitle":return f.Z;case"parentTitle":return b.Z;case"title":return L.Z;default:return()=>null}}))}function je(e,t,n={}){const{subtype:r,activeSort:s,isSearch:o,isSearchAll:l,isExternal:c,providerEntityID:d,displayFields:u}=n;if(u)return Le(u);const p=Ne(e,r,t);if(o?(p.push(le.Z),l&&p.push(ge)):c&&p.push(g),i.wB(d,i.Ll)&&("movie"===e||"episode"===e||"mixed"===e))switch(t){case a.F5:case a.r$:p.push(Q);break;case a.UC:break;default:p.push(A)}if(s){const e=function(e){const[t]=e.split(":");switch(t){case"addedAt":return ve;case"duration":return Me;case"lastViewedAt":return Ce;case"originallyAvailableAt":return Te;case"rating":case"audienceRating":return Ee.Z;case"userRating":return Ae.Z;case"viewCount":return we;case"mediaBitrate":return Ie;case"contentRating":return Pe;case"mediaHeight":return xe;case"year":return oe.Z}}(s);e&&!p.includes(e)&&p.push(e)}return p}},28889:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return!(!e||!e.isDownloaded)}},73588:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return!(!e||!e.downloadSubscriptionID)}},80126:(e,t,n)=>{"use strict";n.d(t,{s4:()=>s,Zp:()=>a,oz:()=>o,n3:()=>l,dz:()=>c,Cr:()=>d});var r=n(61478),i=n(9220);const s=1/1.5,a=1,o=16/9;function l(e,t,n){if(n)switch(n){case i.H1:switch(e){case"genre":case"channel":return a}break;case i.sD:case i.IN:switch(e){case"episode":return o}break;case i.wl:case i.Bs:return o;case i.r$:switch(e){case"movie":case"episode":case"game":return o}break;case i.F5:case i.zg:case i.jF:case i.Ap:switch(e){case"episode":return o}break;case i.Uz:switch(e){case"clip":return a}break;case i.lD:case i.UC:switch(e){case"clip":return s}}switch(t){case r.PODCAST:case r.WEBSHOW:switch(e){case"show":return a;case"episode":return o}}switch(e){case"channels":return a;case"movie":case"show":case"season":case"episode":return s;case"artist":case"album":case"track":case"photo":case"photoalbum":return a;case"clip":return o;case"collection":return s;case"extra":case"musicVideo":return o;case"mixed":return s;case"platform":case"directory":case"genre":return o;case"content":case"channel":case"hub":case"list":return a;case"game":return.75;default:return a}}function c(e,t,n,r){const i=l(t,n,r);return Math.round(e*i)}function d(e,t,n,r){const i=l(t,n,r);return Math.round(e/i)}},27154:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=Object.defineProperty,i=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,o=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l=(e,t)=>{for(var n in t||(t={}))i.call(t,n)&&o(e,n,t[n]);if(s)for(var n of s(t))a.call(t,n)&&o(e,n,t[n]);return e};function c(e,t,n){return l(l(l({},e),n),t)}},37274:(e,t,n)=>{"use strict";n.r(t),n.d(t,{POSTER:()=>i,MOSAIC:()=>s,TABLE:()=>a,SIMPLE_SUMMARY:()=>o,SUMMARY:()=>l,EPG_EPISODE:()=>c,SHARED_ITEMS:()=>d,showListStyles:()=>u,showListStylesSlider:()=>p,showListStylesMenu:()=>m,default:()=>h});var r=n(45697);const i="poster",s="mosaic",a="table",o="simpleSummary",l="summary",c="epgEpisode",d="sharedItems";function u(e,t){return p(t)||m(e)}function p(e){return e===i||e===s}function m(e){return e.length>1}const h=n.n(r)().oneOf([i,s,a,o,l,c,d])},77854:(e,t,n)=>{"use strict";n.d(t,{XN:()=>r,JF:()=>i,$6:()=>s});const r="calendar",i="agenda",s=[r,i]},66137:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(84936);function i(e){return r.Z.join("#!/downloads",e)}},12159:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(69881),i=n(75157),s=n(13550),a=n(7118);function o(e,t,n){let o=`metadataItemID=${t.ratingKey}`;return n&&(o+=`&viewedAt=${(0,i.xP)(n)}`),(0,a.Z)(e,{filters:o,filterTitle:(0,s.Z)(t),activeTimePeriod:n,isParentType:(0,r.isParentType)(t.type)})}},7118:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(84936);function i(e,t){return r.Z.join(`#!/server/${encodeURIComponent(e)}/playHistory`,t)}},6638:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(91135),i=n(84936);function s(e,t,n,s={},a){if(!e||!t||!n)return;const o=function(e,t){const n=encodeURIComponent(e.machineIdentifier),r=encodeURIComponent(t.identifier),i=`/server/${n}`;return t.isLibraryProvider?i:`${e.isCloud?"":i}/provider/${r}`}(e,t),l=encodeURIComponent(n),c={[r.pV]:"album",[r.pX]:"playlist",[r.j0]:"playlist"},d=`#!${o}/${a?c[a]:"details"}?key=${l}`;return i.Z.join(d,s)}},60363:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(61478),i=n(69881),s=n(87385),a=n(6638);function o(e,t,n={},o,l){const c=n.type,d=n.subtype,u=n.playlistType;let p=n.key;if(!n.skipDetails&&c!==i.PHOTO)return c===i.TRACK&&d!==r.PODCAST&&(p=n.skipParent?n.grandparentKey:n.parentKey),!p&&n.librarySectionID?(0,s.Z)(e,t,l,o):(0,a.Z)(e,t,p,o,u)}},18039:(e,t,n)=>{"use strict";function r(e,t,n){return`#!/settings/server/${encodeURIComponent(e)}/${t}/${n}`}n.d(t,{Z:()=>r})},98313:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});let r,i={};function s(e,t){if(!e||null==t)return!1;if(e===r&&i.hasOwnProperty(t))return i[t];e!==r&&(r=e,i={});const n=-1!==e.indexOf(t);return i[t]=n,n}},58368:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(13469),i=n.n(r);const s=function(e,t){const n=i().groupBy(e,(e=>e.advanced||t&&t.has(e.id)?"advanced":"basic"));return n.basic=i().indexBy(n.basic,"id"),n}},62899:(e,t,n)=>{"use strict";function r(e){return`${e}×`}n.d(t,{H:()=>r})},89267:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(32129);const i=Object.assign({},r.Z,{starSpeed:"0.3s",starPulseScale:1.35,starPulseSpeed:"0.15s",starPulseTimingFunction:"cubic-bezier(0.075, 0.82, 0.165, 1)",posterFlipSpeed:"0.8s",overlaySpeed:"0.3s",chartOpacitySpeed:"0.3s"})},90701:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(79481);const i="#e5a00d",s="#fafafa",a="#a0aab1",o="#1f2326",l="#343a3f",c=Object.assign({},r.Z,{v4AccentLight:i,v4AltLight:s,v4AltMedium:a,v4AltMediumDark:"#737e87",v4AltMediumLight:"#d6dcdf",v4BaseDark:o,v4BaseLight:"#444f56",v4BaseMedium:"#2a3136",v4BaseMediumLight:l,v4DefaultColor:s,v4DividerColor:o,primaryButtonColor:o,selectBackground:"#525252",dragPreviewBackgroundColor:"rgba(76, 76, 76, 0.7)",dragPreviewOpacity:"0.9",dragPreviewLowOpacity:"0.35",dropLocationColor:"#f9be03",sliderTrackBackgroundColor:"rgba(255, 255, 255, 0.2)",sliderThumbBackgroundColor:"#ddd",sliderThumbHoverBackgroundColor:"#fff",rowOddBackgroundColor:"rgba(255, 255, 255, 0.03)",rowEvenBackgroundColor:"#292929",avatarBackgroundColor:"#999",detailsShadowColor:"#000",playerBackgroundColor:"#232426",playerTopControlsBackgroundColor:"rgba(35, 36, 38, 0.45)",playerBottomControlsBackgroundColor:"rgba(35, 36, 38, 0.8)",playerPrimaryButtonBackgroundColor:"rgba(0, 0, 0, 0.45)",miniPlayerBackgroundColor:r.Z.blackDarkerTranslucentBackgroundColor,playerSecondaryOverlayColor:"rgba(0, 0, 0, 0.4)",playerPosterActionColor:r.Z.blackDarkTranslucentBackgroundColor,playerPanelColor:"rgba(0, 0, 0, 0.6)",playerDisabledLinkColor:"rgba(255, 255, 255, 0.15)",playerShadowColor:"rgba(0, 0, 0, 0.45)",seekBarTrackColor:"rgba(0, 0, 0, 0.75)",seekBarTrackColorHover:"rgba(255, 255, 255, 0.15)",seekBarFillColor:"#cc7b19",seekBarBufferColor:"rgba(204, 123, 25, 0.3)",seekBarThumbnailShadowColor:"rgba(0, 0, 0, 0.45)",seekBarTooltipBackgroundColor:"#000",seekBarTooltipShadowColor:"rgba(0, 0, 0, 0.5)",thumbnailBackgroundColor:"rgba(0, 0, 0, 0.45)",adSeekBarFillColor:"#f9be03",equalizerBarColor:"#f9be03",htmlMediaElementBackgroundColor:"#000",toastBackgroundColor:"rgba(1, 1, 1, 0.50)",posterBackgroundColor:"rgba(0, 0, 0, 0.45)",posterHoverBackgroundColor:"radial-gradient(farthest-corner at 50% 50%, rgba(50, 50, 50, 0.5) 50%, rgb(50, 50, 50) 100%)",posterSelectedBackgroundColor:"rgba(30, 30, 30, 0.5)",posterBlendedSelectedBackgroundColor:"rgba(19, 19, 19, 0.78);",posterPlaceholderIconColor:"rgba(255, 255, 255, 0.15)",posterCenterCircleBackgroundColor:"rgba(0, 0, 0, 0.45)",posterBadgeShadowColor:"rgba(0, 0, 0, 0.6)",posterProgressTrackBackgroundColor:"rgba(0, 0, 0, 0.75)",posterVersionBadgeColor:"#556688",posterSmartBadgeColor:"rgb(142, 97, 145)",posterFavoriteBadgeColor:"rgb(229, 172, 182)",v4CardBackgroundColor:"rgba(0, 0, 0, 0.45)",v4CardShimmerBackgroundColor:"rgba(0, 0, 0, 0.3)",v4CardShadowColor:"rgba(0, 0, 0, 0.3)",v4CardHoverBackgroundColor:"rgba(30, 30, 30, 0.6)",v4CardHoverBorderColor:i,recordColor:"#f53",recordHoverColor:"lighten(#f53, 0.1)",recordBackgroundColor:"#b32",recordActiveBackgroundColor:"darken(#b32, 0.1)",dayOfWeekBackgroundColor:"rgba(255, 255, 255, 0.1)",dayOfWeekColor:"rgba(255, 255, 255, 0.75)",todayBackgroundColor:"rgba(255, 255, 255, 0.3)",todayColor:"rgba(255, 255, 255, 0.1)",calendarEventSuccessBackgroundColor:"rgba(0, 102, 153, 0.15)",calendarEventSuccessAlternateBackgroundColor:"rgba(31, 120, 165, 0.17)",calendarEventSuccessHoverBackgroundColor:"rgba(76, 148, 183, 0.20)",calendarEventErrorBackgroundColor:"rgba(187, 51, 34, 0.3)",calendarEventErrorAlternateBackgroundColor:"rgba(191, 64, 48, 0.31)",calendarEventErrorHoverBackgroundColor:"rgba(199, 87, 73, 0.34)",recordingIconColor:"#ff5533",playColor:"rgba(255, 255, 255, 0.75)",channelGridTimelineLabelColor:a,channelGridSelectedItemDetailsBackgroundColor:"rgba(0, 0, 0, 0.2)",channelGridBorderColor:l,channelGridHoverColor:"rgba(255, 255, 255, 0.2)",channelGridBackgroundColor:"rgba(160, 170, 177, 0.1)",channelGridOnAirBackgroundColor:"rgba(160, 170, 177, 0.1)",channelGridFinishedAiringBackgroundColor:"rgba(160, 170, 177, 0.3)",channelGridProgressColor:"rgba(160, 170, 177, 0.1)",channelGridMissingItemBackgroundColor:"rgba(0, 0, 0, 0)",channelGridChannelThumbBackgroundColor:"rgba(42, 49, 54, 0.5)",channelGridRecentChannelThumbBackgroundColor:"rgba(255, 255, 255, 0.05)",channelGridChannelIdentifierBackroundColor:"rgba(42, 49, 54, 0.5)",channelGridNewBadgeColor:"rgba(84, 84, 84)",filterBuilderInputBackgroundColor:"#1e2121",altFilterBuilderInputBackgroundColor:r.Z.blackDarkerTranslucentBackgroundColor,dvrBackgroundColor:r.Z.blackDarkTranslucentBackgroundColor,prePlayUnavailableButtonBackgroundColor:"rgba(255, 84, 50, 0.6)",prePlayPartialButtonBackgroundColor:"rgba(204, 123, 25, 0.6)",searchInputBackgroundColor:"rgba(255, 255, 255, 0.08)",preferredServerButtonBackgroundColor:"rgba(0, 0, 0, 0.45)",sortableHomeHubsContainerBackgroundColor:"rgba(255, 255, 255, 0.03)",sortableHomeHubsRowBackgroundColor:"rgba(255, 255, 255, 0.02)",chartTranslucentOpacity:"0.25",serverDashboardTileRowBackgroundPrimaryColor:"rgba(229, 160, 13, 0.2)",serverDashboardTileRowBackgroundSecondaryColor:"rgba(229, 160, 13, 0.15)",serverDashboardTileRowBackgroundTertiaryColor:"rgba(229, 160, 13, 0.1)",serverDashboardTileRowBackgroundQuaternaryColor:"rgba(229, 160, 13, 0.05)",sessionStopBackgroundColor:"#701f29",sessionStopIconColor:"rgba(255, 255, 255, 0.5)",sourceSidebarSelectedColor:"rgba(255, 255, 255, 0.07)",liveTVSettingsTuner1Color:"#7EB0D5",liveTVSettingsTuner2Color:"#BC9BB7",liveTVSettingsTuner3Color:"#8f9148",liveTVSettingsTuner4Color:"#7a3d84",liveTVSettingsTuner5Color:"#ca5f5a"})},7796:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(49666);const i=Object.assign({},r.Z,{sliderTrackSize:"60px",sliderThumbSize:"12px",serverMenuItemHeight:"60px",sourceMenuItemHeight:"65px",sourceMenuItemGutter:"25px",posterCenterCircleSize:"42px",posterBadgeHeight:"24px",posterHoverSlideDistance:"10px",posterIconPadding:"20px",posterProgressHeight:"4px",v4CardBorderRadius:"4px",v4CardShadowSize:"4px",v4CardTitleGap:"10px",v4CardTitleHeight:"20px",v4CardCircleSize:"42px",listButtonHeight:"40px",hubCellHeaderBottomPadding:"5px",hubCellHeaderTopPadding:"25px",v4ListSpacing:"40px",v4SpotlightHeight:"350px",pagePadding:"60px",v4PagePadding:"50px",v4PagePaddingAlt:"25px",pageHeaderRowHeight:"50px",pageHeaderLeftMargin:"40px",pageHeaderTabButtonLeftRightMargin:"5px",recordingPriorityPaneWidth:"360px",recordingPriorityPaneBorderWidth:"4px",recordingPriorityDragHandleWidth:"62px",channelGridRowHeight:"60px",channelGridTitleColumnWidth:"130px",channelGridChannelColumnWidth:"250px",channelGridChannelOverflowWidth:"100px",channelGridChannelIconWidth:"80px",channelGridBorderSize:"1.5px",jumpBarCharacterHeight:"25px",jumpBarCharacterPadding:"10px",jumpBarGutter:"30px",jumpBarMargin:"10px",playCellWidth:"42px",actionsCellWidth:"82px",actionsCellPadding:"10px",summaryCellHeight:"136px",simpleSummaryCellHeight:"90px",summaryCellPadding:"20px",trackCellHeight:"60px",trackCellPadding:"10px",mosaicCellPadding:"5px",timelineGutter:"60px",prePlaySummaryMaxWidth:"750px",prePlayPosterMinWidth:"150px",prePlayPosterMaxWidth:"230px",prePlayPosterWidthRatio:"0.15",prePlayContentPadding:"20px",prePlayRatingBase:"1em",v4PrePlayListTitleGap:"20px",v4PrePlayDividerHeight:"2px",postPlayPosterWidth:"260px",postPlayTitleHeight:"40px",postPlayAutoPlayHeight:"55px",dvrSetupImageWidth:"193px",dvrSetupChannelMappingItemHeight:"40px",dvrSetupSpinnerSize:"100px",playerControlsHeight:"100px",playerControlsMinWidth:"640px",playerControlsNarrowHeight:"140px",playerControlsNarrowBreakpoint:"960px",playerControlsPosterHeight:"80px",playerControlsPosterLeftGutter:"8px",playerControlsPosterBottomGutter:"8px",playerControlsNarrowPosterBottomGutter:"48px",playerControlsContentSpacing:"20px",playerControlsSquarePosterWidth:"80px",playerControlsLandscapePosterWidth:`${Math.round(16/9*80)}px`,playerInfoBarHeight:"45px",playerTopControlsHeight:"60px",playerSideControlsWidth:"100px",playerOverlayActionEdgeGutter:"20px",playerIconButtonSize:"30px",playerIconButtonSpacing:"5px",playerVolumeSliderWidth:"32px",playerVolumeSliderHeight:"60px",seekBarHeight:"4px",seekBarTooltipMarginBottom:"4px",seekBarTooltipHeight:"23px",seekBarTooltipSmallWidth:"60px",seekBarTooltipLargeWidth:"90px",playQueueItemHeight:"68px",playQueueMoveButtonWidth:"54px",playQueueSidePadding:"60px",lyricsLineHeight:"30px",lyricsLineWidth:"640px",playerMediaOverlayInnerMargin:"1vw",playerMediaOverlayOuterMargin:"2vw",playlistItemCardWidth:"64px",playlistBadgeSize:"30px",navigationIconSize:"20px",sourceSidebarIconSize:"18px",sourceSidebarWidth:"60px",sourceSidebarExpandedWidth:"260px",sourceSidebarLeftGutter:"20px",sourceSidebarItemHeight:"50px",sourceSidebarLinkHoverStatusbarAllowance:"20px",sourceSidebarServerHeaderIconSize:"24px",homeServerListItemHeight:"40px",serverSelectMenuWidth:"260px",heroBadgeHeight:"90px",heroPageMinHeight:"600px",serverShareListRowHeight:"40px",lineupSettingChannelHeight:"40px",spotlightHubCellHeight:"324px",spotlightHubCellGap:"25px",watchTogetherLobbyPosterWidth:"260px",watchTogetherLobbyTitleHeight:"40px",downloadCellHeight:"120px",liveTVSettingsDeviceGap:"2px",liveTVSettingsDeviceWidth:"270px",liveTVSettingsBorderRadius:"4px",liveTVSettingsDeviceBorderSize:"8px",liveTVSettingsChannelItemHeight:"50px",liveTVSettingsChannelItemWidth:"450px",liveTVSettingsChannelThumbWidth:"60px",liveTVSettingsChannelThumbHeight:"40px"})},68989:(e,t,n)=>{"use strict";n.d(t,{VQ:()=>r,dp:()=>i,jP:()=>s});const r="CLEAR_CLOUD_MEDIA_PROVIDERS",i="SIGN_OUT",s="DONE"},44799:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={allowFlash:!0,allowHttpsMediaServerConnections:!0,allowMediaServerRelayConnections:!0,allowMultipleWebSocketConnections:!0,shouldCreateFlexModels:!0,shouldCreateStateTree:!0,shouldRequestHTMLFromCloudProvider:!0,allowCloudPubSub:!0,allowLoopbackDiscovery:"http:"===window.location.protocol,allowSSO:!1,bufferingDetectionLimit:500,allowSyncSettings:!0,allowSync:!0,allowDirectDownload:!0,allowSyncDownload:!1}},52599:(e,t,n)=>{"use strict";var r={};n.r(r),n.d(r,{abortServerConnectionTest:()=>xe,analyzeItems:()=>je,analyzeSection:()=>Ve,authenticateWithHash:()=>Kn,authenticateWithServer:()=>qn,autoMatch:()=>ot,changeArtwork:()=>ct,cleanBundles:()=>it,connectServer:()=>Vt,deleteAllVersionGenerators:()=>Nt,deleteFile:()=>mt,deleteItem:()=>wt,deleteItems:()=>We,deleteMediaItem:()=>Ke,deletePlaylist:()=>tt,deleteSection:()=>Je,deleteSectionThumbnails:()=>et,deleteSyncItem:()=>rr,deleteVersionGenerator:()=>xt,deleteVersions:()=>$e,disableVersionGenerator:()=>Tt,emptyTrash:()=>st,enableVersionGenerator:()=>Dt,match:()=>at,merge:()=>_e,optimize:()=>rt,populateServerIdentity:()=>Ae,rate:()=>dt,reconnectServer:()=>Ut,refreshMetadata:()=>Le,refreshSyncLists:()=>ir,remotePlaybackUnlock:()=>lr,removeDevice:()=>sr,removeServer:()=>Ft,reprocessVersionGenerator:()=>Ot,resetUser:()=>On,selectStream:()=>pt,showSyncModal:()=>nr,signInServer:()=>Bt,signOut:()=>or,splitApart:()=>Be,switchUser:()=>kn,testServerConnection:()=>Oe,uninstallChannel:()=>jt,unmatch:()=>Ue,updateChannel:()=>kt,updateLibrary:()=>nt}),n(3758),n(49810),n(99959),n(82107),n(36583),n(31110);var i=n(65652),s=n(19755),a=n.n(s),o=n(67294),l=n(73935),c=n(89969),d=n(62859),u=n(93966),p=n(13469),m=n.n(p),h=n(96840),g=n(84936);const y={PUT:!0,DELETE:!0},v={Accept:!0,"Accept-Language":!0,"Content-Language":!0,"Content-Type":!0},f=/^(text\/plain|multipart\/form-data|application\/x-www-form-urlencoded)/,b=/(^X-Plex-[^=]+)/i,S=/(^[^?]+)\?(.+$)/;function I(e){const{type:t,contentType:n,headers:r,allowHeadersInUrl:i,allowBlacklistedMethodHeaders:s}=e;if(!i)return;if(y[t]&&!s)return;const a={};let o=!1;if(m().each(r,((e,t)=>{v[t]||(b.test(t)?(o=!0,a[t]=e,delete r[t]):h.Z.warn('Did not move header "%s" to query string. This can result in an unnecessary OPTIONS preflight request.',t))})),o){const n=e.url.match(S),[,r,i]=n||[null,e.url,null],s=i?i.split("&"):[],[o,l]=m().partition(s,(e=>b.test(e))),c=e.data;"GET"===t&&c&&(l.push(m().isString(c)?c:g.Z.stringifyParams(c)),delete e.data),o.forEach((e=>{const t=e.match(b);t&&delete a[t[1]]}));const d=g.Z.stringifyParams(a);d&&o.push(d),e.url=`${r}?${l.concat(o).join("&")}`}n&&!f.test(n)&&h.Z.warn('Sending %s request with Content-Type "%s". This can result in an unnecessary OPTIONS preflight request.',t,n)}var Z=n(33295);function P(){return a().ajaxPrefilter(I),Z.Z.startListening(),a().Deferred().resolve().promise()}var E=n(33646),M=n(45354),C=n(39666),w=n(39670),D=n(96638),T=Object.defineProperty,O=Object.prototype.hasOwnProperty,x=Object.getOwnPropertySymbols,A=Object.prototype.propertyIsEnumerable,N=(e,t,n)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const k=["X-Plex-Device","X-Plex-Model","X-Plex-Platform","X-Plex-Platform-Version","X-Plex-Product","X-Plex-Version"];var L=n(11133),j=n(85790);const R=function(e){const{hostname:t,protocol:n}=e,r="file:"===n;let i;return"https:"===n?i="https":"http:"===n?i=j.lv(t)?"http-loopback":"http":r&&(i="file"),i};var V=n(84659),U=n(17575),z=n(56974),B=Object.defineProperty,_=Object.prototype.hasOwnProperty,F=Object.getOwnPropertySymbols,H=Object.prototype.propertyIsEnumerable,W=(e,t,n)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q=(e,t)=>{for(var n in t||(t={}))_.call(t,n)&&W(e,n,t[n]);if(F)for(var n of F(t))H.call(t,n)&&W(e,n,t[n]);return e};const G=/^utm_/;function Y(){const{searchParams:e,hashParams:t}=(0,z.Z)(window.location.href),n=Q(Q({},(0,V.Z)(t)),(0,V.Z)(e));return Object.keys(n).reduce(((e,t)=>(G.test(t)&&(e[t.replace(G,"")]=n[t]),e)),{})}function q(e={}){const t=(0,u.DB)("metrics"),{context:n={}}=e;return t.set({deviceIdentifier:w.Z.prop("X-Plex-Client-Identifier"),context:Q(Q({},n),{campaign:Y(),device:{product:w.Z.prop("X-Plex-Product"),version:w.Z.prop("X-Plex-Version"),platform:w.Z.prop("X-Plex-Platform"),platformVersion:w.Z.prop("X-Plex-Platform-Version"),device:w.Z.prop("X-Plex-Device"),model:w.Z.prop("X-Plex-Model"),screenResolution:w.Z.prop("X-Plex-Device-Screen-Resolution"),layout:"desktop",protocol:R(window.location)}})}),(0,U.Z)(t.start())}function K(){return(0,h.Z)("[Sources] Initializing..."),(0,u.DB)("sourceManager").start(),(0,h.Z)("[Sources] Finished initialization"),a().Deferred().resolve().promise()}n(21356),n(88860),n(56150),n(76823),n(91477);var $=n(59756),X=n(47479),J=n(19130),ee=n(32846),te=n(21133),ne=n(76154),re=n(66127),ie=n.n(re);const se=i.Z.ItemView.extend({mixins:[ne.Z],className:"alert transition-in",template:ie(),alertDuration:2e3,transitionDuration:500,events:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave","click .close-btn":"onCloseClick"},initialState:"transitionIn",states:{transitionIn:{nextState:"visible",onEnter:function(){this.$el.triggerReflow(),this.$el.removeClass("transition-in"),this.startTransition()}},visible:{nextState:"transitionOut",onEnter:function(){this.transitionOutTimeout=window.setTimeout(this.enterNextState,this.alertDuration)}},transitionOut:{onEnter:function(){this.$el.addClass("transition-out"),this.startTransition()}}},initialize:function(e){this.bindAllWhenRendered(["enterNextState"]),m().isString(e)&&(e={message:e}),this.type=e.type,this.message=e.message,this.type&&this.$el.addClass("has-"+this.type)},serializeData:function(){return{type:this.type,message:this.message}},startTransition:function(){window.setTimeout(this.enterNextState,this.transitionDuration)},onRender:function(){m().defer(this.enterNextState)},onStateMachineComplete:function(){this.close()},onMouseEnter:function(e){window.clearTimeout(this.transitionOutTimeout)},onMouseLeave:function(e){"visible"===this.currentState&&(window.clearTimeout(this.transitionOutTimeout),this.transitionOutTimeout=window.setTimeout(this.enterNextState,this.alertDuration/2))},onCloseClick:function(e){e.preventDefault(),"visible"===this.currentState&&(window.clearTimeout(this.transitionOutTimeout),this.enterNextState())}}),ae=J.Z.extend({mixins:[te.Z],initialize(){this.openAlerts={}},start(){this.listenTo(ee.Z,{"show:alert":this.showAlert})},showAlert:function(e){var t=e.message;if(!this.openAlerts[t]){var n=new se(e);this.openAlerts[t]=!0,this.listenToOnce(n,"close",(function(){delete this.openAlerts[t]})),a()("body").append(n.render().el)}}});function oe(){(new ae).start()}const le=J.Z.extend({mixins:[te.Z],initialize(){this.modals=[]},start(){this.listenTo(ee.Z,{"show:modal":this.showModal,"hide:modal":this.hideModal})},showModal(e){this.modals.push(e);var t=a()("body");e.transparent&&t.addClass("show-modal-transparent"),t.append(e.render().el)},hideModal(e){var t=m().indexOf(this.modals,e);t>-1&&this.modals.splice(t,1)[0].close(),e.transparent&&!m().findWhere(this.modals,{transparent:!0})&&a()("body").removeClass("show-modal-transparent")}});function ce(){(new le).start()}var de=n(94114),ue=n(61201),pe=n(16013),me=n(70515);const he=function(){if(!X.Z.hasReplaceState)return a().Deferred().resolve().promise();const e=a().Deferred(),t=window.location,n=me.Z.parseQueryString(t.search);let r;try{r=JSON.parse(n.alerts),delete n.alerts}catch(e){}if(r){pe.Z.push(...r);const e=`${g.Z.join([`${t.origin}${t.pathname}`],n)}${t.hash}`;window.history.replaceState({},"",e)}return e.resolve().promise()};var ge=n(61682),ye=n(68002),ve=n(99317);function fe(e){return m().isString(e)&&e.trim().length>0}function be(e,t){const n=(0,ve.Z)();return(0,h.Z)("[appModelInitializer] Generating new %s [%s]",t,n),e.set(t,n),ge.Z.set(t,n)}function Se(e,t){let n;const r=e.get(t);return fe(r)?n=ge.Z.set(t,r):(n=ge.Z.get(t),n=n.then((n=>{if(!fe(n))return h.Z.error("[appModelInitializer] Invalid %s found in storage [%s]",t,r),be(e,t);e.set(t,n)}),(()=>((0,h.Z)("[appModelInitializer] Failed to read %s from storage",t),be(e,t))))),n}function Ie(){const e=(0,u.DB)("appModel");return(0,ye.Z)(Se(e,"clientID"),Se(e,"anonymousClientID"),function(e){const t=ge.Z.get("skipSignIn");return t.always((t=>{e.set("skipSignIn","1"===t)})),t}(e))}var Ze=n(49963),Pe=n(55983);const Ee=J.Z.extend({lastModified:null,eTag:null,mixins:te.Z,url:function(){const e=u.DB("appModel"),t=e.get("user"),n="/sub/"+this.requestType+"/"+t.id+"/"+e.get("clientID"),r=new Ze.Z({scheme:"websockets"===this.requestType?"wss":"https",address:"pubsub.plex.tv"});return this.server.resolveUrl(n,{connection:r,appendToken:!0})},initialize:function(e){m().bindAll(this,"onSocketOpen","onSocketClose","onSocketError","onSocketMessage","onPingTimeout","onPollSuccess","onPollError"),this.server=e.server},open:function(){return(this.socket||this.pollRequest)&&this.close(),X.Z.hasWebSocket?(this._deferred=a().Deferred(),this.requestType="websockets",this.socket=new window.WebSocket(m().result(this,"url")),this.socket.onopen=this.onSocketOpen,this.socket.onclose=this.onSocketClose,this.socket.onerror=this.onSocketError,this.socket.onmessage=this.onSocketMessage,this._deferred.promise()):this.poll()},close:function(){this.pollRequest&&(Z.Z.abort(this.pollRequest.rid),this.pollRequest=null),this._deferred&&"pending"===this._deferred.state()&&this._deferred.reject(),this.socket&&(this.cancelPing(),this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close(),this.socket=null)},schedulePing:function(){this.cancelPing(),this._pingTimeoutID=window.setTimeout(this.onPingTimeout,3e4)},cancelPing:function(){this._pingTimeoutID&&(window.clearTimeout(this._pingTimeoutID),this._pingTimeoutID=null)},poll:function(){this.requestType="longpolling",this.pollUrl=g.Z.join(m().result(this,"url"),{ttl:String(30)+"s"});const e=this.server.getXHROptions(this.pollUrl,{timeout:35e3});return e.headers["If-Modified-Since"]=this.lastModified?this.lastModified:"Thu, 01 Jan 1970 00:00:00 GMT",this.eTag&&(e.headers["If-None-Match"]=this.eTag),this.pollRequest=a().ajax(e).done(this.onPollSuccess).fail(this.onPollError),this.pollRequest.promise()},handleResponse:function(e){if(!e)return;const t=Pe.Z.parseXML(e);if(m().isObject(t)){const e=t.command;ee.Z.trigger(`cloudServer:${e}`,t)}},onSocketOpen:function(e){this.server.set("hasEventConnection",!0),this.trigger("open",this.server,e),this._deferred.resolve(this.server,e),this.schedulePing()},onSocketClose:function(e){this.close(),this.server.set("hasEventConnection",!1),this.trigger("close",this.server,e),this._deferred.reject(this.server,e)},onSocketError:function(e){this.close(),this.trigger("error",this.server,e),this._deferred.reject(this.server,e)},onSocketMessage:function(e){this.handleResponse(e.data)},onPingTimeout:function(){this._pingTimeoutID=null,this.socket.send("hello"),this.schedulePing()},onPollSuccess:function(e,t,n){this.trigger("open",this.server,e),this.lastModified=n.getResponseHeader("Last-Modified"),this.eTag=n.getResponseHeader("ETag"),this.handleResponse(e),this.poll()},onPollError:function(e,t){"abort"===t?this.poll():this.pollRequest.aborting||this.trigger("error",this.server,e)}});var Me=n(43569);const Ce=Me.Z.extend({supportsRetry:e=>e.get("isCloud")});var we=n(16325);function De(e){return e.get("isCloud")}var Te=n(94018);const Oe=function(e){return(0,u.DB)("serverConnectionTestManager").queueConnectionTest(e)},xe=function(e){return(0,u.DB)("serverConnectionTestManager").abortConnectionTest(e)},Ae=function(e){const{server:t,connection:n}=e;if(t.id)return a().Deferred().resolve(t.id).promise();const r=t.resolveUrl("/identity",{connection:n}),i=m().extend(t.getXHROptions(r),{timeout:t.connectionTestTimeout});(0,h.Z)(`[Identity] Requesting the machine identifier of ${t.get("debugName")} at ${r}`);let s=a().ajax(i).promise();return s=s.then((e=>{const n=a().Deferred(),r=me.Z.parseXML(e),i=r&&r.machineIdentifier;return i?((0,h.Z)(`[Identity] Machine identifier found for ${t.get("debugName")}: ${i}`),!t.collection||t.collection.get(i)?n.resolve(i):(t.collection.populateServer({isCloud:!0}).done((e=>{e.get("resources").populate().always((()=>{n.resolve(i)}))})),t.collection.findServer({isCloud:!0}).done((e=>{e.populate().fail((()=>{n.resolve(i)}))})).fail((()=>{n.resolve(i)})))):n.reject(),n.promise()})),s.fail((()=>{h.Z.warn(`[Identity] Machine identifier not found for ${t.get("debugName")} at ${r}`)})),s};var Ne=n(5562),ke=n(35424);const Le=function(e){var t,n;return e.item?n=[t=e.item]:(n=e.items,t=n[0]),a().when.apply(a(),m().map(n,(function(e){var n="/library/metadata/"+e.id+"/refresh",r=m().extend(t.server.getXHROptions(n),{type:"PUT"});return a().ajax(r).promise()}))).fail((function(e){503===e.status?ee.Z.trigger("show:modal",new ke.Z({model:t.server})):ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("There was a problem refreshing.")})}))},je=function(e){var t=e.items;return a().when.apply(a(),m().map(t,(function(e){var t="/library/metadata/"+e.id+"/analyze",n=m().extend(e.server.getXHROptions(t),{type:"PUT"});return a().ajax(n).promise()})))};var Re=n(64898);const Ve=function(e){var t=a().Deferred(),n=e.section,r="/library/sections/"+n.id+"/analyze",i=m().extend(n.server.getXHROptions(r),{type:"PUT"}),s=new Re.Z({title:(0,Ne.Z)("Analyze Library"),message:(0,Ne.Z)("Analyzes all the media files in the library. The analysis captures information about the media which helps Plex decide how to optimally play back the media."),confirmLabel:(0,Ne.Z)("Analyze"),cancelLabel:(0,Ne.Z)("Cancel"),async:!0}),o=s.promise;return o.done((function(){var e=a().ajax(i);e.done((function(){t.resolve()})),e.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("There was a problem analyzing the library.")}),t.reject(e)})),e.always((function(e){s.hide()}))})),o.fail((function(){t.reject()})),ee.Z.trigger("show:modal",s),t.promise()},Ue=function(e){var t=e.item,n="/library/metadata/"+t.id+"/unmatch",r=m().extend(t.server.getXHROptions(n),{type:"PUT"}),i=a().ajax(r);return i.fail((function(){ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("There was a problem unmatching this item.")})})),i.promise()};var ze=n(5513);const Be=function(e){var t=a().Deferred(),n=e.item,r="/library/metadata/"+n.id+"/split",i=new Re.Z({title:(0,Ne.Z)("Split Apart"),message:(0,Ne.Z)("Are you sure you want to split this item apart?"),async:!0}),s=i.promise;return s.done((function(){var s=m().extend(n.server.getXHROptions(r),{type:"PUT"}),o=a().ajax(s);o.done((function(){var r,i=n.get("type");r="show"===i||"artist"===i||"album"===i?"Location":"Media",n.set(r,n.get(r).slice(0,1)),e.skipNavigate||(0,u.DB)("appStore").dispatch((0,ze.n)()),t.resolve()})),o.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("There was a problem splitting this item apart.")}),t.reject(e)})),o.always((function(e){i.hide()}))})),s.fail((function(){t.reject()})),ee.Z.trigger("show:modal",i),t.promise()},_e=function(e){var t=a().Deferred(),n=e.item,r=m().pluck(e.items,"id").join(","),i="/library/metadata/"+n.id+"/merge?ids="+r,s=m().extend(n.server.getXHROptions(i),{type:"PUT"}),o=new Re.Z({title:(0,Ne.Z)("Merge"),message:(0,Ne.Z)("Are you sure you want to merge these items together?"),async:!0}),l=o.promise;return l.done((function(){var e=a().ajax(s);e.done((function(){t.resolve()})),e.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("There was a problem merging these items.")}),t.reject(e)})),e.always((function(e){o.hide()}))})),l.fail((function(){t.reject()})),ee.Z.trigger("show:modal",o),t.promise()};var Fe=n(69881);function He(e,t){return m().map(e,(function(e){return Te.Z.execute("deleteItem",{item:e,skipRedirect:t})}))}const We=function(e){var t=e.items,n=e.item,r=e.skipConfirmation,i=e.skipRedirect;t||(t=[n]),n||(n=m().first(t));var s,o=n.get("Media");if(1===t.length&&o.length>1&&!n.get("remoteMedia")&&n.server.supports("specificMediaDeletion"))return Te.Z.execute("deleteMediaItem",{item:n});if(r)s=a().when.apply(a(),He(t,i));else{var l=function(e){var t,n,r=e.item,i=e.items,s=i.length>1,a=r.get("remoteMedia"),o=r.get("type"),l=Fe.getMetadataType(o);a&&!s?(t=l.title,n=(0,Ne.Z)("Are you sure you want to remove {1}?",r.get("title"))):s&&i.every((e=>e.get("remoteMedia")))?(t=l.plural,n=(0,Ne.Z)("Are you sure you want to remove {1} items?",i.length)):o===Fe.COLLECTION?(t=l.title,n=(0,Ne.Z)("Are you sure you want to delete {1}? This cannot be undone.",r.get("title"))):s?(t=l.plural,n=(0,Ne.Z)("Are you sure you want to delete {1} items from your filesystem?",i.length)):(t=l.title,n=(0,Ne.Z)("Are you sure you want to delete this item from your filesystem?"));var c={title:a?(0,Ne.Z)("Remove {typeLabel}",{typeLabel:t}):(0,Ne.Z)("Delete {typeLabel}",{typeLabel:t}),message:n,confirmLabel:a?(0,Ne.Z)("Remove"):(0,Ne.Z)("Delete"),cancelLabel:(0,Ne.Z)("Cancel"),async:!0,hasDanger:!0};(s||Fe.isParentType(o))&&(c.requireDoubleConfirm=!0,c.doubleConfirmMessage=a?(0,Ne.Z)("Multiple files may be removed."):(0,Ne.Z)("Multiple items may be deleted."),c.doubleConfirmLabel=(0,Ne.Z)("Yes, I'm sure"));var d=new Re.Z(c);return ee.Z.trigger("show:modal",d),d}({item:n,items:t});s=l.promise.then((function(){return a().when.apply(a(),He(t,i)).always((function(){l.hide()}))}))}return s};var Qe=n(38892),Ge=n(83278),Ye=n.n(Ge);const qe=Qe.Z.extend({name:"SelectMediaFileModal",template:Ye(),serializeData:function(){return{medias:this.model.get("Media")}}}),Ke=function(e){var t=function(e){var t=a().Deferred(),n=e.item,r=n.get("Media");if(e.index in r)return t.resolve(r[e.index]).promise();var i=new qe({model:n}),s=i.promise;return s.done((function(e){t.resolve(r[e])})),s.fail((function(){t.reject()})),ee.Z.trigger("show:modal",i),t.promise()}(e);return t.then((function(t){var n=function(){var e=new Re.Z({title:(0,Ne.Z)("Delete File"),message:(0,Ne.Z)("Are you sure you want to delete this file from your filesystem?"),confirmLabel:(0,Ne.Z)("Delete"),cancelLabel:(0,Ne.Z)("Cancel"),async:!0,hasDanger:!0});return ee.Z.trigger("show:modal",e),e}();return n.promise.then((function(){return Te.Z.execute("deleteFile",{item:e.item,media:t}).always((function(){n.hide()}))}))}))},$e=function(e){var t=e.item,n=t.server,r=t.get("Media"),i=m().filter(r,(function(e){return!!e.proxyType})),s=function(e){var t,n=e.item,r=e.versions,i=r.length>1;if(i)t=(0,Ne.Z)("Are you sure you want to delete {1} versions of {2}?",r.length,n.get("title"));else{var s=m().first(r);t=(0,Ne.Z)("Are you sure you want to delete the {1} version of {2}?",s.title,n.get("title"))}var a=new Re.Z({title:i?(0,Ne.Z)("Delete Versions"):(0,Ne.Z)("Delete Version"),message:t,confirmLabel:(0,Ne.Z)("Delete"),cancelLabel:(0,Ne.Z)("Cancel"),async:!0,hasDanger:!0});return ee.Z.trigger("show:modal",a),a}({item:t,versions:i});return s.promise.then((function(){var e=g.Z.join(["/library/metadata/",t.id],{proxy:1}),o=m().extend(n.getXHROptions(e),{type:"DELETE"}),l=a().ajax(o);return l.done((function(){m().each(i,(function(e){r.splice(m().indexOf(r,e),1)})),t.trigger("change:Media",t,t.get("Media"))})),l.fail((function(e){var t=403===e.status?(0,Ne.Z)("Ensure that media deletion is enabled for library content in your server settings."):(0,Ne.Z)("There was a problem deleting these versions.");ee.Z.trigger("show:alert",{type:"error",message:t})})),l.always((function(){s.hide()})),l.promise()}))};var Xe=n(32901);const Je=function(e){var t=a().Deferred(),n=e.section,r=new Re.Z({title:(0,Ne.Z)("Delete Library"),message:(0,Ne.Z)("Are you sure you want to delete {1}?",n.get("title")),confirmLabel:(0,Ne.Z)("Delete"),cancelLabel:(0,Ne.Z)("Cancel"),requireDoubleConfirm:!0,doubleConfirmMessage:(0,Ne.Z)("This cannot be undone."),doubleConfirmLabel:(0,Ne.Z)("Yes, I'm sure"),async:!0,hasDanger:!0}),i=r.promise;return i.done((function(){var e=n.destroy({wait:!0});e?(e.done((function(){var e=u.DB("appStore").dispatch,r=n.server.entityID();r&&e((0,Xe.jR)({serverEntityID:r})),t.resolve()})),e.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("There was a problem deleting the library.")}),t.reject(e)}))):t.resolve()})),i.fail((function(){t.reject()})),ee.Z.trigger("show:modal",r),t.promise().always((()=>{r.hide()})),t.promise()},et=function(e){var t=e.section,n="/library/sections/"+t.id+"/indexes",r=m().extend(t.server.getXHROptions(n),{type:"DELETE"}),i=new Re.Z({title:(0,Ne.Z)("Delete Preview Thumbnails"),message:(0,Ne.Z)("Are you sure you want to delete the preview thumbnails for items in this library? This cannot be undone."),confirmLabel:(0,Ne.Z)("Delete"),cancelLabel:(0,Ne.Z)("Cancel"),async:!0,hasDanger:!0}),s=i.promise;return s=s.then((function(){return(e=a().ajax(r)).done((function(e){ee.Z.trigger("show:alert",{type:"success",message:(0,Ne.Z)("The preview thumbnails for items in this library were deleted.")})})),e.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("There was a problem deleting the preview thumbnails for items in this library.")})})),e.always((function(e){i.hide()})),e;var e})),ee.Z.trigger("show:modal",i),s},tt=function(e){var t=a().Deferred(),n="photo"===e.item.get("playlistType"),r=new Re.Z({title:n?(0,Ne.Z)("Delete Album"):(0,Ne.Z)("Delete Playlist"),message:(0,Ne.Z)("Are you sure you want to delete {1}? This cannot be undone.",e.item.get("title")),confirmLabel:(0,Ne.Z)("Delete"),cancelLabel:(0,Ne.Z)("Cancel"),async:!0,hasDanger:!0}),i=r.promise;return i.done((function(){var i=e.item.destroy();i.done((function(){e.skipRedirect||(0,u.DB)("appStore").dispatch((0,ze.n)()),t.resolve()})),i.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:n?(0,Ne.Z)("There was a problem deleting the album."):(0,Ne.Z)("There was a problem deleting the playlist.")}),t.reject(e)})),i.always((function(e){r.hide()}))})),i.fail((function(){t.reject()})),ee.Z.trigger("show:modal",r),t.promise()},nt=function(e){var t=a().Deferred(),n=e.section,r=n?n.id:"all",i=e.cancel,s=n?n.server:e.server,o={};(e.params||{}).force&&(o.force=1);var l="/library/sections/"+r+"/refresh",c=m().extend(s.getXHROptions(l),{data:o});function d(){var e=a().ajax(c);e.done((function(){t.resolve()})),e.fail((function(e){if(503===e.status)ee.Z.trigger("show:modal",new ke.Z({model:s}));else{var n=i?(0,Ne.Z)("There was a problem canceling the update."):(0,Ne.Z)("There was a problem updating the library.");ee.Z.trigger("show:alert",{type:"error",message:n})}t.reject(e)}))}if(i&&(c.type="DELETE",n&&n.set("refreshing",!1)),o.force){var u=new Re.Z({title:(0,Ne.Z)("Refresh All"),message:(0,Ne.Z)("Forces a download of fresh media information from the internet. This can take a long time. Any locked fields are not modified."),confirmLabel:(0,Ne.Z)("Refresh"),cancelLabel:(0,Ne.Z)("Cancel")}),p=u.promise;p.done(d),p.fail((function(){t.reject()})),ee.Z.trigger("show:modal",u)}else d();return t.promise()},rt=function(e){var t=a().Deferred(),n=e.server,r=m().extend(n.getXHROptions("/library/optimize"),{type:"PUT"}),i=new Re.Z({title:(0,Ne.Z)("Optimize Database"),message:(0,Ne.Z)("Cleans up the library database and ensures it is operating as quickly as possible. This is especially useful when you've added or removed a large amount of media from the library."),confirmLabel:(0,Ne.Z)("Optimize"),cancelLabel:(0,Ne.Z)("Cancel"),async:!0}),s=i.promise;return s.done((function(){var e=a().ajax(r);e.done((function(){ee.Z.trigger("show:alert",{type:"success",message:(0,Ne.Z)("The database was optimized.")}),t.resolve()})),e.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("There was a problem optimizing this database.")}),t.reject(e)})),e.always((function(e){i.hide()}))})),s.fail((function(){t.reject()})),ee.Z.trigger("show:modal",i),t.promise()},it=function(e){var t=a().Deferred(),n=e.server,r=m().extend(n.getXHROptions("/library/clean/bundles"),{type:"PUT"}),i=new Re.Z({title:(0,Ne.Z)("Clean Bundles"),message:(0,Ne.Z)("The media server stores information about your media to disk, as well as posters, artwork, and other media resources from the internet. Running this task deletes any bundles which are no longer in use."),confirmLabel:(0,Ne.Z)("Clean"),cancelLabel:(0,Ne.Z)("Cancel"),async:!0}),s=i.promise;return s.done((function(){var e=a().ajax(r);e.done((function(){ee.Z.trigger("show:alert",{type:"success",message:(0,Ne.Z)("Unused bundles are being removed.")}),t.resolve()})),e.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("There was a problem removing unused bundles.")}),t.reject(e)})),e.always((function(e){i.hide()}))})),s.fail((function(){t.reject()})),ee.Z.trigger("show:modal",i),t.promise()},st=function(e){var t=a().Deferred(),n=e.section,r=n?n.server:e.server,i=[],s=[];n?i.push(n.id):r.get("sections").each((function(e){i.push(e.id)}));var o=new Re.Z({title:(0,Ne.Z)("Empty Trash"),message:(0,Ne.Z)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:(0,Ne.Z)("Empty"),cancelLabel:(0,Ne.Z)("Cancel"),async:!0}),l=o.promise;return l.done((function(){m().each(i,(function(e){var t="/library/sections/"+e+"/emptyTrash",n=m().extend(r.getXHROptions(t),{type:"PUT"});s.push(a().ajax(n))}));var e=a().when.apply(a(),s);e.done((function(){ee.Z.trigger("show:alert",{type:"success",message:(0,Ne.Z)("The trash was emptied.")}),t.resolve()})),e.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("There was a problem emptying the trash.")}),t.reject(e)})),e.always((function(e){o.hide()}))})),l.fail((function(){t.reject()})),ee.Z.trigger("show:modal",o),t.promise()},at=function(e){var t=e.item,n={guid:e.guid,name:e.name,year:e.year};"album"===t.get("type")&&e.children&&e.children.reduce((function(e,t){var n=t.get("id");return n&&(e["guid["+n+"]"]=t.get("guid")),e}),n);var r=g.Z.join(["/library/metadata/",t.id,"/match"],n),i=m().extend(t.server.getXHROptions(r),{type:"PUT"});return a().ajax(i).promise()},ot=function(e){var t=a().Deferred(),n=e.item,r={agent:e.agent.id,manual:0},i=g.Z.join(["/library/metadata/",n.id,"/matches"],r),s=m().extend(n.server.getXHROptions(i)),o=a().ajax(s);return o.done((function(e){var i=m().isObject(e)?e:Pe.Z.parseXML(e);if(i.SearchResult){var s=i.SearchResult;Array.isArray(i.SearchResult)&&(s=i.SearchResult[0]),r={guid:s.guid,name:s.name};var o=g.Z.join(["/library/metadata/",n.id,"/match"],r),l=m().extend(n.server.getXHROptions(o),{type:"PUT"}),c=a().ajax(l);c.done((function(){t.resolve()})),c.fail((function(){ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("There was a problem matching this item.")}),t.reject()}))}else ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("No matches were found using this agent.")}),t.reject()})),o.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("There was a problem searching for matches.")}),t.reject(e)})),t.promise()};var lt={poster:"thumb",art:"art",banner:"banner"};const ct=function(e){var t=e.item,n={url:e.artworkRatingKey},r=g.Z.join(["/library/metadata/",t.id,e.artworkType],n),i=m().extend(t.server.getXHROptions(r),{type:"PUT"}),s=a().ajax(i);return s.done((function(n){t.set(lt[e.artworkType],n)})),s.promise()},dt=function(e){var t=e.item,n=e.rating,r=t.get("userRating");if(-1===n?t.unset("userRating"):t.set("userRating",n),e.passive)return a().Deferred().resolve().promise();var i={key:t.get("ratingKey"),identifier:t.get("identifier"),rating:n},s=g.Z.join("/:/rate",i),o=a().ajax(t.server.getXHROptions(s));return o.fail((function(){t.set("userRating",r),ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("There was a problem rating this item.")})})),o.promise()};var ut=n(98851);const pt=function(e){var t=a().Deferred(),n=e.item,r=n.server,i=e.media||m().first(n.get("Media")),s=e.part||i&&m().first(i.Part),o=e.streamType,l=e.streamID;if(!i||!s)return t.reject().promise();var c={};c[o.key]=l,!e.media&&r.supports("allPartsStreamSelection")&&(c.allParts=1);var d=g.Z.join(["/library/parts/",s.id],c),u=m().extend(r.getXHROptions(d),{type:"PUT"}),p=a().ajax(u);return p.done((function(){(function(e,t,n){if(e){const r=(0,ut.Z)(e,{streamType:t.id});m().each(r,(e=>{e.selected=e.id===n}))}})(i,o,l),n.trigger("change:streams"),t.resolve()})),p.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("There was a problem selecting the stream for this item.")}),t.reject(e)})),t.promise()},mt=function(e){var t,n=e.item,r=e.media,i=n.server;if(r){var s="/library/metadata/"+n.id+"/media/"+r.id,o=m().extend(i.getXHROptions(s),{type:"DELETE"});(t=a().ajax(o)).done((function(){var t=e.item.get("Media");t.splice(m().indexOf(t,r),1),n.trigger("change:Media",n,n.get("Media"))}))}else t=n.destroy({wait:!0});return t.fail((function(e){var t=403===e.status?(0,Ne.Z)("Ensure that media deletion is enabled for library content in your server settings."):(0,Ne.Z)("There was a problem deleting this item.");ee.Z.trigger("show:alert",{type:"error",message:t})})),t};var ht=n(95933),gt=n(95688),yt=n(24079),vt=n(26512),ft=Object.defineProperty,bt=Object.prototype.hasOwnProperty,St=Object.getOwnPropertySymbols,It=Object.prototype.propertyIsEnumerable,Zt=(e,t,n)=>t in e?ft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pt=(e,t)=>{for(var n in t||(t={}))bt.call(t,n)&&Zt(e,n,t[n]);if(St)for(var n of St(t))It.call(t,n)&&Zt(e,n,t[n]);return e};function Et(e,t){if(!e)return!1;var n=new gt.Z({key:e},{server:t.item.server,onlyIfCached:!0});return!m().isEmpty(n)&&n}function Mt(e){if(e.skipRedirect)return;const t=e.item,n=t.get("isLibraryItem")&&t.parent,r=t.get("librarySectionKey")||n&&n.get("librarySectionKey");if(!r)return void(0,u.DB)("appStore").dispatch((0,ze.n)());const i=(0,yt.Z)(t.provider,r),s=(0,vt.Z)(t.server.toJSON(),t.provider.toJSON(),i);s?(0,u.DB)("appStore").dispatch((0,ze.c4)({pathname:s,replace:!0})):(0,u.DB)("appStore").dispatch((0,ze.n)())}function Ct(e,t){t.skipRedirect||(0,u.DB)("appStore").dispatch((0,ze.yB)({serverEntityID:e.server.entityID(),providerEntityID:e.provider.entityID(),key:e.get("key"),replace:!0}))}const wt=function(e){var t=Te.Z.execute("deleteFile",e);return t.done((function(){var t=e.item,n=Et(t.get("parentKey"),e);if(n){var r=new ht.Z({containerKey:n.get("childrenKey")},{server:n.server,provider:n.provider,skipCache:!0});r.fetchRange({size:1}).then((()=>{if(r.getCollection().length>0)Ct(n,e);else{n.trigger("destroy",n,n.collection);var i=Et(t.get("grandparentKey"),e);if(i){var s=new ht.Z({containerKey:i.get("childrenKey")},{server:i.server,provider:i.provider,skipCache:!0});s.fetchRange({size:1}).then((()=>{s.getCollection().length>0?Ct(i,Pt(Pt({},e),{skipRedirect:!1})):Mt(e)}))}else Mt(Pt(Pt({},e),{skipRedirect:!1}))}}))}else Mt(e)})),t},Dt=function(e){var t=e.generator,n=m().result(t,"url")+"/"+e.ratingKey+"/enable",r=m().extend(t.server.getXHROptions(n),{type:"PUT"}),i=a().ajax(r).promise();return i.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("There was a problem enabling this version.")})})),i},Tt=function(e){var t=e.generator,n=m().result(t,"url")+"/"+e.ratingKey+"/disable",r=function(){var e=new Re.Z({title:(0,Ne.Z)("Remove Version"),message:(0,Ne.Z)("Are you sure you want to delete this version? You can enable it again in Optimized Versions Settings."),confirmLabel:(0,Ne.Z)("Remove"),cancelLabel:(0,Ne.Z)("Cancel"),async:!0,hasDanger:!0});return ee.Z.trigger("show:modal",e),e}();return r.promise.then((function(){var e=m().extend(t.server.getXHROptions(n),{type:"PUT"}),i=a().ajax(e).promise();return i.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("There was a problem disabling this version.")})})),i.always((function(){r.hide()})),i}))},Ot=function(e){var t=e.generator,n=e.ratingKey,r=m().result(t,"url");n&&(r+="/"+n),r+="/reprocess";var i=m().extend(t.server.getXHROptions(r),{type:"PUT"}),s=a().ajax(i).promise();return s.fail((function(e){var t=n?(0,Ne.Z)("There was a problem processing this item."):(0,Ne.Z)("There was a problem processing these items.");ee.Z.trigger("show:alert",{type:"error",message:t})})),s},xt=function(e){var t=e.generator,n=function(e){var t=e.generator.get("title"),n=t?(0,Ne.Z)("Removing this item will delete all versions created by {1}. Are you sure you want to continue?",t):(0,Ne.Z)("Removing this item will delete all related versions. Are you sure you want to continue?"),r=new Re.Z({title:(0,Ne.Z)("Delete Versions"),message:n,confirmLabel:(0,Ne.Z)("Remove"),cancelLabel:(0,Ne.Z)("Cancel"),async:!0,hasDanger:!0});return ee.Z.trigger("show:modal",r),r}(e);return n.promise.then((function(){var e=t.destroy();return e.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("Unable to stop generating these versions.")})})),e.always((function(){n.hide()})),e}))};var At=n(11023);const Nt=function(e){var t=function(){var e=new Re.Z({title:(0,Ne.Z)("Delete All Versions"),message:(0,Ne.Z)("Are you sure you want to delete all versions? This cannot be undone."),confirmLabel:(0,Ne.Z)("Delete"),cancelLabel:(0,Ne.Z)("Cancel"),async:!0,hasDanger:!0});return ee.Z.trigger("show:modal",e),e}(),n=t.promise;return n.then((function(){var n="/playlists/generators?type="+At.Z.LOCAL,r=m().extend(e.server.getXHROptions(n),{type:"DELETE"}),i=a().ajax(r).promise();return i.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("There was a problem deleting all versions.")})})),i.always((function(){t.hide()})),i.promise()}))},kt=function(e){var t,n=a().Deferred(),r=e.channel,i=r?r.server:e.server,s=e.silent;if(r){var o=r.get("identifier");t=(o?"/system/appstore/apps/"+o:r.get("key"))+"/update"}else t="/system/appstore/updates";var l=a().ajax(i.getXHROptions(t));function c(e){s||ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("There was a problem checking for updates.")}),n.reject(e)}return l.done((function e(t){var r=m().isObject(t)?t:Pe.Z.parseXML(t);if(r&&(r.message||r.Directory))if(r.message)s||ee.Z.trigger("show:alert",{type:"success",message:r.message}),n.resolve();else{Pe.Z.parseArray(r,"Directory");var o=r.Directory[0].key,l=a().ajax(i.getXHROptions(o));l.done(e),l.fail(c)}else c()})),l.fail(c),n.promise()};var Lt=n(97189);const jt=function(e){var t=a().Deferred(),n=e.channel,r=n.get("identifier"),i=(r?"/system/appstore/apps/"+r:n.get("key"))+"/uninstall",s=n.server.getXHROptions(i);function o(){var r=a().ajax(s);r.done((function(r){var i=m().isObject(r)?r:Pe.Z.parseXML(r);n.set("installed",!1),i.message&&!e.skipConfirmation&&ee.Z.trigger("show:alert",{type:"success",message:i.message}),t.resolve()})),r.fail((function(e){if(400===e.status){var r=new Re.Z({title:(0,Ne.Z)("Unable to Uninstall Plugin"),message:(0,Ne.Z)("This plugin could not be uninstalled, but you can disable it in the server settings."),confirmLabel:(0,Ne.Z)("OK"),cancelLabel:(0,Ne.Z)("Ignore")});r.promise.done((function(){(0,Lt.Z)("serverSettings",{machineIdentifier:n.server.id,settingsSection:"settings",settingsGroup:"channels"})})),ee.Z.trigger("show:modal",r)}else ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("This plugin could not be uninstalled.")});t.reject(e)}))}if(e.skipConfirmation)o();else{var l=new Re.Z({title:(0,Ne.Z)("Uninstall Plugin"),message:(0,Ne.Z)("Are you sure you want to uninstall this plugin?")}),c=l.promise;c.done(o),c.fail((function(){t.reject()})),ee.Z.trigger("show:modal",l)}return t.promise()};var Rt=n(76438);const Vt=function(e){var t,n=e.cloudAccount,r=n.server.get("desktop").get("settings").get("PublishServerOnPlexOnlineKey"),i=a().Deferred();if(!n.get("isWaiting")){var s=e.value?Rt.Q2:Rt.uy;n.set("remoteAccessState",s)}var o=n.previous("remoteAccessState"),l=r.save({PublishServerOnPlexOnlineKey:e.value},{timeout:0});return l.done((function r(){n.fetch().done((function(){var s=n.get("mappingState"),a=e.value&&s===Rt.GI,o=!e.value&&s===Rt.Gu;s===Rt.xD||a||o?t||(t=window.setInterval(r,500)):(t=window.clearInterval(t),n.get("isWaiting")&&n.set("remoteAccessState",Rt.HP),i.resolve())}))})),l.fail((function(t){var r;r=e.value?(0,Ne.Z)("There was a problem connecting your server."):(0,Ne.Z)("There was a problem disconnecting your server."),ee.Z.trigger("show:alert",{type:"error",message:r}),n.set("remoteAccessState",o),i.reject(t)})),i.promise()},Ut=function(e){var t=e.cloudAccount,n={cloudAccount:t,value:!1},r=Te.Z.execute("connectServer",n);return(r=r.then((function(){return n.value=!0,Te.Z.execute("connectServer",n)}))).then((function(){if(t.get("mappingError"))return a().Deferred().reject().promise()}))};var zt=n(12319);const Bt=function(e){const{cloudAccount:t,username:n,password:r,claim:i=!1}=e,s=a().Deferred(),o=t.server,l=(0,u.DB)("appModel"),c=l.get("user"),d=l.get("cloudServer"),p=o.get("accessToken");o.set("accessToken",c.get("authToken"));const h=i?function(e,t){const n=t.getXHROptions("/api/claim/token");let r=a().ajax(n).promise();return r=r.then((t=>{const{token:n}=me.Z.parseXML(t),r=g.Z.join("/myplex/claim",{token:n}),i=e.getXHROptions(r,{type:"POST"});return a().ajax(i).promise()})),r}(o,d):function(e,t,n){const r=g.Z.join("/myplex/account",{username:e,password:t}),i=n.getXHROptions(r,{type:"PUT"});return a().ajax(i).promise()}(n,r,o);return h.done((e=>{const n=m().isObject(e)?e:me.Z.parseXML(e);n&&"invalid"===n.signInState?(ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("The username or password is incorrect.")}),s.reject()):(o.set({myPlexSigninState:zt.Hq,myPlexUsername:c.get("email")}),t.set({signedIn:!0,username:c.get("email")}),s.resolve())})),h.fail((e=>{let n;o.set("accessToken",p),!0===t.get("signedIn")&&t.set("signedIn",!1),n=401===e.status?(0,Ne.Z)("The username or password is incorrect."):(0,Ne.Z)("There was a problem signing in to Plex."),ee.Z.trigger("show:alert",{type:"error",message:n}),s.reject(e)})),s.promise()};function _t(e){e.trigger("destroy",e,e.collection),e.cache.remove(e)}const Ft=function(e){var t,n=u.DB("appModel").get("user"),r=e.device,i=e.server||function(e){var t=new zt.ZP({machineIdentifier:e},{onlyIfCached:!0});if(!m().isEmpty(t))return t}(r.get("clientIdentifier"));t=r?(0,Ne.Z)("If you remove the server, all syncs and shares associated with the server will be lost and you will need to sign the server in again to restore access to Plex."):(0,Ne.Z)("Are you sure you want to remove this server?");var s={title:(0,Ne.Z)("Remove Server"),message:t,confirmLabel:(0,Ne.Z)("Remove"),cancelLabel:(0,Ne.Z)("Cancel"),async:!0,hasDanger:!0};r&&(s.requireDoubleConfirm=!0,s.doubleConfirmMessage=(0,Ne.Z)("Are you sure you want to remove this server?"),s.doubleConfirmLabel=(0,Ne.Z)("Yes, I'm sure"));var o=new Re.Z(s),l=o.promise;return l=l.then((function(){return function(){var e;if(r)e=r.destroy({wait:!0});else{var t="/api/servers/"+i.id,s=m().extend(n.server.getXHROptions(t),{type:"DELETE"});e=a().ajax(s)}if(i){if(i.get("connected")&&i.get("myPlexSigninState")===zt.Hq){var l=i.get("desktop").get("cloudAccount");e=(e=e.then((function(){return l.fetch()}))).then((function(){return function(e){var t=e.get("desktop").get("cloudAccount").destroy();return t.done((function(){e.set({accessToken:void 0,myPlexSigninState:zt.Ar,myPlexSubscription:!1})})),t}(i)}))}!1===i.get("connected")?_t(i):e.always((function(){ee.Z.trigger("test:server",i),i.populate().fail((function(){_t(i)}))}))}return e.always((function(){o.hide()})),e.promise()}()})),ee.Z.trigger("show:modal",o),l};var Ht=n(76403),Wt=n(83105),Qt=n(1193),Gt=n(10692),Yt=n(14818),qt=n(74395),Kt=n(96147),$t=n(23306),Xt=n(54939),Jt=n(53425),en=n(42455);const tn=(0,Wt.UY)({metadataItemState:Qt.Z.reducer,metadataLists:Gt.Z.reducer,metadataTimelineState:Yt.Z.reducer,user:en.Z.reducer,serverAccounts:qt.Z.reducer,serverActivities:Kt.Z.reducer,serverDevices:$t.Z.reducer,serverNowPlayingSessions:Xt.Z.reducer,servers:Jt.Z.reducer});var nn=n(84320),rn=n(96338),sn=n(95505),an=n(59072),on=n(18649),ln=n(66414),cn=n(14467);const dn=(0,Wt.UY)({bandwidth:sn.Z.reducer,playHistory:an.Z.reducer,resources:on.Z.reducer,topPlayed:ln.Z.reducer,topUsers:cn.Z.reducer});var un=n(88346),pn=n(4226),mn=n(87119),hn=n(60451);const gn=(0,Wt.UY)({dvrSetup:mn.ZP.reducer,epgSettings:hn.ZP.reducer});var yn=n(65034),vn=n(35828),fn=n(61046),bn=n(27726),Sn=n(7338),In=n(5623),Zn=n(87902),Pn=n(10994),En=n(82855),Mn=n(67695);const Cn=(0,Wt.UY)({advancedFilters:nn.Z.reducer,curatedLists:rn.Z.reducer,dashboard:dn,directory:un.Z.reducer,downloads:pn.Z.reducer,dvrManagement:gn,home:yn.Z.reducer,importPlaylists:vn.Z.reducer,libraryManagement:fn.Z.reducer,livetv:bn.Z.reducer,metadataMultiselect:Sn.Z.reducer,players:Zn.Z.reducer,playHistory:In.Z.reducer,prePlay:Pn.Z.reducer,twoFactorAuth:En.Z.reducer,verificationEmail:Mn.Z.reducer}),wn=(0,Wt.UY)({core:tn,features:Cn}),Dn=(0,Ht.PH)("v4/reset");var Tn=n(68989);const On=function(){const e=(0,u.DB)("appStore"),t=(0,u.DB)("appModel"),n=t.get("ui"),r=t.get("user"),i=t.get("fakeRouter"),s=r.server;let o=r.clearAccessToken();return o=o.fail((()=>{h.Z.warn("Failed to clear the access token and user storage")})).always((()=>{t.set("history",[]),e.dispatch(Dn()),n&&n.restoreDefaults(),i&&i.restoreDefaults(),Z.Z.abortAll(),r.signOut(),r.uninitialize(),r.initialize(),ee.Z.trigger("clear:servers"),e.dispatch((0,ze.$e)({budget:1/0})),ee.Z.trigger("clearAll:cache"),s.cache.store(s)})),o=o.then((()=>function(e){const t=a().Deferred();return e&&e.then?e.then(t.resolve,t.reject):t.resolve(e),t.promise()}((0,u.DB)("serviceWorker").sendMessage({type:Tn.dp})))),(0,U.Z)(o)};var xn=n(96335),An=n(23593),Nn=n(43322);const kn=function(e={}){const t=(0,u.DB)("appModel").get("user"),n=t.get("signedIn"),r=t.id!==e.homeUser.id,i=e.allowGuestLock,s=!!e.isRemoteUser,a=r||i,o=!1!==e.shouldUnlock;let l=n?Te.Z.execute("authenticateWithServer",e):Te.Z.execute("authenticateWithHash",e);return n&&a?l=l.then((t=>function(e,t){const n=(0,u.DB)("appModel").get("user");let r=Te.Z.execute("resetUser");return r=r.then((()=>{n.activateStoredUser(t.homeUser.id);const r=An.Z.getActiveUser();r&&r.copyToModel(n),ee.Z.trigger("init:servers");const i={};return!1!==t.shouldUnlock&&(i.lockState=Nn.Ik.Unlocked),n.signIn(e,i)})),r.done((()=>{(0,u.DB)("metrics").trackEvent({event:xn.PS,interaction:!0})})),r}(t,e))):l.done((()=>{const e={isRemote:s};o&&(e.lockState=Nn.Ik.Unlocked),t.set(e)})),l.done((()=>{e.openAddManagedUser?(0,Lt.Z)("usersSharing",{},{addManagedUser:1}):r&&(0,Lt.Z)("home")})),l};var Ln=n(64033),jn=Object.defineProperty,Rn=Object.prototype.hasOwnProperty,Vn=Object.getOwnPropertySymbols,Un=Object.prototype.propertyIsEnumerable,zn=(e,t,n)=>t in e?jn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Bn(e,t={}){return((e,t)=>{for(var n in t||(t={}))Rn.call(t,n)&&zn(e,n,t[n]);if(Vn)for(var n of Vn(t))Un.call(t,n)&&zn(e,n,t[n]);return e})({includeSubscriptions:1,includeProviders:1,includeSettings:$.Z.allowSyncSettings?1:0,includeSharedSettings:(0,Ln.Z)(e)?1:0},t)}var _n=Object.defineProperty,Fn=Object.prototype.hasOwnProperty,Hn=Object.getOwnPropertySymbols,Wn=Object.prototype.propertyIsEnumerable,Qn=(e,t,n)=>t in e?_n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gn=(e,t)=>{for(var n in t||(t={}))Fn.call(t,n)&&Qn(e,n,t[n]);if(Hn)for(var n of Hn(t))Wn.call(t,n)&&Qn(e,n,t[n]);return e};const Yn=function(e){return e.headers=Gn(Gn({},w.Z.getInstance()),e.headers||{}),a().ajax(e)},qn=function(e){var t=e.homeUser,n=u.DB("appModel").get("user"),r=t.get("uuid")||n.get("uuid"),i=Bn(n,{pin:e.pin}),s=g.Z.join(["/api/v2/home/users/",r,"/switch"],i),a=t.server.getXHROptions(s,{type:"POST",xhrFields:{withCredentials:$.Z.allowSSO}});return Yn(a)},Kn=function(e){const t=a().Deferred().resolve().promise(),n=a().Deferred().reject().promise(),r=An.Z.getActiveUser();if(!r)return n;const i=r.get("pin"),s=r.get("authToken");return i||e.pin?i===(0,u.DB)("appModel").get("user").hashPIN(e.pin,s)?t:n:t};var $n=n(82642),Xn=n(69009),Jn=n.n(Xn);const er=Qe.Z.extend({name:"selectDeviceModal",template:Jn(),serializeData:function(){return{devices:this.collection.toJSON()}}});var tr=n(30554);const nr=function(e){var t=u.DB("appModel").get("user"),n=e.item.server;if(n.get("myPlexSigninState")===zt.Hq)if(n.get("allowSync")){var r=t.get("desktop").get("devices").filterSyncDevices(e.item),i=m().clone(e);if(r.length){var s=new er({collection:r});s.promise.done((function(e){i.device=r.get(e),ee.Z.trigger("show:modal",new tr.Z(i))})),ee.Z.trigger("show:modal",s)}else ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("You are not signed in to any sync capable devices.")})}else ee.Z.trigger("show:modal",new $n.Z({model:n}));else{var a=(0,Ne.Z)("This server needs to be connected to Plex to sync its content.");ee.Z.trigger("show:alert",{type:"error",message:a})}},rr=function(e){var t=e.syncItem,n=e.server;if(!t.server.get("connected"))return ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("Please sign in to remove sync items.")}),a().Deferred().reject().promise();var r=function(){var e=new Re.Z({title:(0,Ne.Z)("Stop Syncing"),message:(0,Ne.Z)("Are you sure you want to stop syncing this item? All files created by this job will be removed from the device."),confirmLabel:(0,Ne.Z)("Remove"),cancelLabel:(0,Ne.Z)("Cancel"),async:!0,hasDanger:!0});return ee.Z.trigger("show:modal",e),e}(),i=r.promise.then((function(){var e=t.destroy();return e.fail((function(e){ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("There was a problem removing this sync item.")})})),e.always((function(){r.hide()})),e}));return i.then((function(){return Te.Z.execute("refreshSyncLists",{server:n,silent:!0,skipContent:!0})}))},ir=function(e){var t=e.server,n=m().extend(t.getXHROptions("/sync/refreshSynclists"),{type:"PUT"}),r=a().ajax(n);return e.skipContent||(r=r.then((function(e){var n=m().extend(t.getXHROptions("/sync/refreshContent"),{type:"PUT"});return a().ajax(n)}))),r.done((function(){e.silent||ee.Z.trigger("show:alert",{type:"success",message:(0,Ne.Z)("Synced items were refreshed.")})})),r.promise()},sr=function(e){var t=e.device,n=(0,Ne.Z)("If you remove this device, you will need to sign in again on the device to restore access to Plex."),r=new Re.Z({title:(0,Ne.Z)("Remove Device"),message:n,confirmLabel:(0,Ne.Z)("Remove"),cancelLabel:(0,Ne.Z)("Cancel"),async:!0,hasDanger:!0}),i=r.promise;return i=i.then((function(){return(e=t.destroy({wait:!0})).fail((function(){ee.Z.trigger("show:alert",{type:"error",message:(0,Ne.Z)("There was a problem removing this device.")})})),e.always((function(){r.hide()})),e.promise();var e})),ee.Z.trigger("show:modal",r),i},ar=function(e){return(0,U.Z)(Yn({url:"https://plex.tv/api/v2/users/signout",headers:{"X-Plex-Token":e.accessToken},type:"DELETE",xhrFields:{withCredentials:!1}}))},or=function(){(0,u.DB)("metrics").trackEvent({event:xn.CM,interaction:!0});const e=$.Z.allowSSO,t=(0,u.DB)("appModel").get("user").get("authToken");return(0,U.Z)(e?ar({accessToken:t}):a().Deferred().resolve().promise()).then((()=>Te.Z.execute("resetUser"))).then((()=>(An.Z.restoreDefaults(),An.Z.save()))).then((()=>{e&&ar({accessToken:t}),ee.Z.trigger("init:servers")}))},lr=function(){const e=a().Deferred();return(0,u.DB)("appModel").get("user").get("isLocked")?e.reject():e.resolve(),e.promise()};function cr(){return Te.Z.registerAll(r),a().Deferred().resolve().promise()}const dr="leaderStatusChanged",ur={subscribe(){ee.Z.on("cloudServer:processRemoteControlCommand",this.onCloudServerCommand,this)},unsubscribe(){ee.Z.off("cloudServer:processRemoteControlCommand",this.onCloudServerCommand,this)},onCloudServerCommand(e){const t=e.Command,n={supportsTimeline:!1,path:t.path,commandID:t.commandID,query:{key:[t.queryKey],offset:[t.queryOffset],mediaIndex:[t.queryMediaIndex],containerKey:[t.queryContainerKey],playQueueID:[t.queryPlayqueueid],type:[t.queryType],volume:[t.queryVolume],repeat:[t.queryRepeat],autoPlay:[t.queryAutoPlay],subtitleSize:[t.querySubtitleSize],audioStreamID:[t.queryAudioStreamID],subtitleStreamID:[t.querySubtitleStreamID],token:[t.queryToken],machineIdentifier:[t.queryMachineIdentifier],protocol:[t.queryProtocol],address:[t.queryAddress],port:[t.queryPort],text:[t.queryText],field:[t.queryField]}};(0,u.DB)("localCompanionCommandHandler")(n)}};let pr=null,mr=null;function hr(){const e=yr();return!(e&&!e.isLeader())&&(0,u.DB)("settingFinder").find("companion")}function gr(){if(!hr())return;const e=(0,u.DB)("appModel"),t=e.get("cloudServer"),n=e.get("clientID");t&&t.get("authorized")&&n&&n!==pr&&(pr=n,h.Z.info('[Companion] Registering player with plex.tv, clientID="%s"',n),(0,u.DB)("companionProxy").registerPlayer(t,n).done((()=>{h.Z.info('[Companion] Registered player with plex.tv, clientID="%s"',n)})).fail((e=>{e||(e={}),pr=null,h.Z.warn('[Companion] Couldn\'t register player with plex.tv, status="%s", response="%s"',e.status,e.responseText&&e.responseText.substr(0,100))})))}function yr(){return(0,u.s4)("companionVote")?(0,u.DB)("companionVote"):null}function vr(){const e=(0,u.DB)("companionProxy"),t=hr();return mr===t?a().Deferred().resolve().promise():(mr=t,t?(ur.subscribe(),a().when(e.subscribe((0,u.DB)("localCompanionCommandHandler")))):(ur.unsubscribe(),a().when(e.unsubscribe(),function(){const e=(0,u.DB)("appModel"),t=e.get("cloudServer"),n=e.get("clientID");if(t.get("authorized")&&n)return h.Z.info('[Companion] Unregistering player with plex.tv, clientID="%s"',n),(0,u.DB)("companionProxy").unregisterPlayer(t,n).done((()=>h.Z.info('[Companion] Unregistered player with plex.tv, clientID="%s"',n))).fail(((e={})=>h.Z.warn('[Companion] Couldn\'t unregister player with plex.tv, status="%s", response="%s"',e.status,e.responseText&&e.responseText.substr(0,100))))}())))}function fr(){const e=(0,u.DB)("appModel"),t=e.get("cloudServer");gr(),e.on("change:clientID",gr),t.on("change:authorized",gr),(0,u.DB)("settingFinder").addCompanionChangeListener(vr);const n=yr();let r;return n&&n.on(dr,(e=>{h.Z.info(e?"[Companion] Elected to poll leader role":"[Companion] Lost poll leader role"),vr()})),r=hr()?vr().then((()=>{const e=(0,u.DB)("companionProxy").getDeepLink();return e.fail((()=>{h.Z.warn("[Companion] Ignoring error getting deep link")})),(0,U.Z)(e)})):a().Deferred().resolve().promise(),r}function br(){const e=(0,u.DB)("appModel");return(0,ye.Z)(e.get("settings").populate(),e.get("deviceSettings").populate())}const Sr=J.Z.extend({getStorage(){},get(e){return this._catchStorageError((t=>{const n=window.PLEXWEB,r=n&&e in n?n[e]:t.getItem(e);if(null==r)throw new Error(`${e} is not in ${this.name}`);return r}))},set(e,t){return this._catchStorageError((n=>{if(!e)throw new Error(`Unable to set value in ${this.name} without a key`);if(null==t)throw new Error(`Unable to set null or undefined value for ${e} in ${this.name}. Use the remove function.`);return n.setItem(e,t)}))},remove(e){return this._catchStorageError((t=>t.removeItem(e)))},clear(){return this._catchStorageError((e=>e.clear()))},_catchStorageError(e){const t=a().Deferred();try{t.resolve(e(this.getStorage()))}catch(e){h.Z.warn(e.message),t.reject(e)}return t.promise()}}),Ir=Sr.extend({name:"BasicVolatileStorage",initialize(){const e={};this.api={getItem:t=>e[t],setItem(t,n){e[t]=n},removeItem(t){delete e[t]},clear(){for(const t in e)e.hasOwnProperty(t)&&delete e[t]}}},getStorage(){return this.api}}),Zr=new(n(56151).Z)({interface:["get","set","remove","clear"]});var Pr=n(85022);function Er(e,t){return ge.Z.get(e).then((e=>(0,Pr.Z)(e,t)),(()=>{if(t)return a().Deferred().resolve(t).promise()}))}function Mr(e,t){return ge.Z.set(e,JSON.stringify(t))}var Cr=Object.defineProperty,wr=Object.prototype.hasOwnProperty,Dr=Object.getOwnPropertySymbols,Tr=Object.prototype.propertyIsEnumerable,Or=(e,t,n)=>t in e?Cr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xr=(e,t)=>{for(var n in t||(t={}))wr.call(t,n)&&Or(e,n,t[n]);if(Dr)for(var n of Dr(t))Tr.call(t,n)&&Or(e,n,t[n]);return e};const Ar=function(e){return e.isDirty=!0,Er(An.Z.storageKey).then((t=>{if(t.users)return t.users.forEach((t=>{t.experienceSettings=xr(xr({},t.experienceSettings),e)})),Mr(An.Z.storageKey,t)}))};var Nr=Object.defineProperty,kr=Object.prototype.hasOwnProperty,Lr=Object.getOwnPropertySymbols,jr=Object.prototype.propertyIsEnumerable,Rr=(e,t,n)=>t in e?Nr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vr=(e,t)=>{for(var n in t||(t={}))kr.call(t,n)&&Rr(e,n,t[n]);if(Lr)for(var n of Lr(t))jr.call(t,n)&&Rr(e,n,t[n]);return e};const Ur=["homeSettings"],zr=function(){const e=(0,u.DB)("StoredUserExperienceSettingsModel"),t=Object.keys(Vr(Vr({},e.prototype.syncedAttrs),e.prototype.syncedRelations)),n=m().without(t,...Ur),r=Er("experience").then((e=>{const t=m().pick(e,n);return Ar(t).then((()=>ge.Z.remove("experience")))}));return(0,U.Z)(r)};var Br=n(14408),_r=n(60214),Fr=n(33631),Hr=n(84734),Wr=n(70394);const Qr=_r.Z.extend({name:"DeviceSettingsModel",storageKey:"deviceSettings",sessionAttrs:{isSaving:Br.Z.boolean,saveError:Br.Z.object},syncedAttrs:{autoLogin:Br.Z.boolean,chromecastAppID:Br.Z.string,chromecastCustomAppID:Br.Z.string,sonosCustomBaseURL:Br.Z.string,debugAdKind:Br.Z.integer,debugLevel:Br.Z.integer,debugVideoQualityOverlay:Br.Z.boolean,directPlay:Br.Z.boolean,directStream:Br.Z.boolean,rejectDirectConnections:Br.Z.boolean,restorePlayQueue:Br.Z.object,shouldSyncSettings:Br.Z.boolean,hasDismissedInsecureHostedAppWarning:Br.Z.boolean,hasDismissedServerDownloadMessage:Br.Z.boolean,dismissedUnclaimedServers:Br.Z.object,dismissedServerUpdateVersions:Br.Z.object,volume:Br.Z.integer,serverUpdateDismissedVersion:Br.Z.string},defaults:()=>({isSaving:!1,saveError:null,autoLogin:!1,chromecastAppID:Wr.Z.PRODUCTION,debugAdKind:Fr.Z.NONE,debugLevel:Hr.Z.DISABLED,debugVideoQualityOverlay:!1,directPlay:!0,directStream:!0,rejectDirectConnections:!1,restorePlayQueue:null,shouldSyncSettings:$.Z.allowSyncSettings,hasDismissedInsecureHostedAppWarning:!1,hasDismissedServerDownloadMessage:!1,dismissedUnclaimedServers:{},dismissedServerUpdateVersions:{},volume:90})});var Gr=Object.defineProperty,Yr=Object.prototype.hasOwnProperty,qr=Object.getOwnPropertySymbols,Kr=Object.prototype.propertyIsEnumerable,$r=(e,t,n)=>t in e?Gr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xr=(e,t)=>{for(var n in t||(t={}))Yr.call(t,n)&&$r(e,n,t[n]);if(qr)for(var n of qr(t))Kr.call(t,n)&&$r(e,n,t[n]);return e};const Jr=["debugVideoQualityOverlay","restorePlayQueue","volume"],ei=function(){const e=Qr.prototype.storageKey,t=Er("experience").then((t=>{const n=m().pick(t,Jr);if(0!==Object.keys(n).length)return Er(e,{}).then((t=>{const r=Xr(Xr({},t),n);return Mr(e,r)}))}));return(0,U.Z)(t)},ti={"home.continue":[/^(movie|tv)\.inprogress\.([0-9]+)/],"home.movies.recent":[/^movie\.recentlyadded\.([0-9]+)/],"home.music.recent":[/^music\.recent\.added\.([0-9]+)/],"home.photos.recent":[/^photo\.recent\.([0-9]+)/],"home.ondeck":[/^tv\.ondeck\.([0-9]+)/],"home.television.recent":[/^tv\.recentlyadded\.([0-9]+)/],"home.videos.recent":[/^video\.recent\.([0-9]+)/]};function ni(e,t){return t.some((t=>t.test(e)))}var ri=n(17524),ii=n(89656),si=n(55642),ai=n(73479),oi=n(36183),li=n(78831),ci=n(13162);function di(e){const t=window.navigator;let n;return e?n=[e]:t.languages?n=t.languages:t.language?n=[t.language]:t.userLanguage&&(n=[t.userLanguage]),(0,ci.Z)(n)||"en"}var ui=n(67124),pi=n(89318),mi=n(9220),hi=n(37274),gi=n(77854),yi=n(12634),vi=n(53334);const fi=vi.Z.extend({name:"ReminderModel",syncedAttrs:{data:Br.Z.object,id:Br.Z.string.isRequired,remindAfter:Br.Z.string.isRequired,times:Br.Z.integer.isRequired}}),bi=yi.Z.extend({name:"ReminderCollection",model:fi});var Si=n(43451),Ii=Object.defineProperty,Zi=Object.prototype.hasOwnProperty,Pi=Object.getOwnPropertySymbols,Ei=Object.prototype.propertyIsEnumerable,Mi=(e,t,n)=>t in e?Ii(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ci=(e,t)=>{for(var n in t||(t={}))Zi.call(t,n)&&Mi(e,n,t[n]);if(Pi)for(var n of Pi(t))Ei.call(t,n)&&Mi(e,n,t[n]);return e};const wi=pi.Z.ORIGINAL,Di=_r.Z.extend({name:"UserExperienceSettingsModel",sessionAttrs:Ci(Ci({},Si.Z.sessionAttrs),{isRemoteSchemaVersionNewer:Br.Z.boolean}),syncedAttrs:Ci(Ci({},Si.Z.syncedAttrs),{schemaVersion:Br.Z.integer,language:Br.Z.string,playThemeMusic:Br.Z.boolean,companion:Br.Z.boolean,allowHttpFallback:Br.Z.string,timeFormat:Br.Z.string,autoAdjustQuality:Br.Z.boolean,remoteSmallVideoAtOriginalQuality:Br.Z.boolean,useHomeStreamingRecommendedSettings:Br.Z.boolean,localQuality:Br.Z.integer,remoteQuality:Br.Z.integer,audioBoost:Br.Z.integer,subtitleColor:Br.Z.string,subtitlePosition:Br.Z.string,subtitleSize:Br.Z.integer,subtitlesBurnLevel:Br.Z.string,extrasPrefixCount:Br.Z.integer,audioForceMultiChannel:Br.Z.boolean,forceTranscodeProtocolHLS:Br.Z.boolean,autoPlay:Br.Z.boolean,calendarViewType:Br.Z.string,columnAdjustment:Br.Z.integer,columnWidthMultiplier:Br.Z.float,dashboardNowPlayingShowDetails:Br.Z.boolean,hasDismissedDVRUpsell:Br.Z.boolean,hasDismissedServerDashboardUpsell:Br.Z.boolean,hasDismissedHubPromotionWarning:Br.Z.boolean,hasDismissedCustomHomeSunset:Br.Z.boolean,isSidebarCollapsed:Br.Z.boolean,libraryTableColumns:Br.Z.object,listStyles:Br.Z.object,prePlayListStyles:Br.Z.object,directoryListStyles:Br.Z.object,directoryTableColumns:Br.Z.object,savedDirectoryListKeys:Br.Z.object,relayReminders:Br.Z.object,showAdvancedSettings:Br.Z.boolean,showPrePlayArtwork:Br.Z.boolean,musicDownloadQuality:Br.Z.integer,videoDownloadQuality:Br.Z.integer,searchAllServers:Br.Z.boolean,libraryRoutes:Br.Z.object,hasDismissedNewsSunsetBanner:Br.Z.boolean}),syncedRelations:Ci(Ci({},Si.Z.syncedRelations),{reminders:{relationClass:bi}}),defaults:()=>Ci(Ci({},Si.Z.defaults),{isRemoteSchemaVersionNewer:!1,language:di(),playThemeMusic:!1,companion:!0,allowHttpFallback:si.Z.NEVER,timeFormat:"h:mma",autoAdjustQuality:!1,remoteSmallVideoAtOriginalQuality:!0,useHomeStreamingRecommendedSettings:!0,localQuality:wi,remoteQuality:6,audioBoost:ii.KH,subtitleColor:ai.Z.WHITE,subtitlePosition:oi.Z.BOTTOM,subtitleSize:100,subtitlesBurnLevel:li.Z.AUTO,extrasPrefixCount:0,audioForceMultiChannel:!1,forceTranscodeProtocolHLS:!1,autoPlay:!0,calendarViewType:gi.XN,columnAdjustment:0,columnWidthMultiplier:1.5,dashboardNowPlayingShowDetails:!1,hasDismissedServerDashboardUpsell:!1,hasDismissedCustomHomeSunset:!1,isSidebarCollapsed:!1,libraryTableColumns:{},listStyles:{[mi.Y3]:{episode:hi.TABLE,track:hi.TABLE},[mi.sD]:{track:hi.TABLE}},prePlayListStyles:{},directoryListStyles:{},directoryTableColumns:{},savedDirectoryListKeys:{},relayReminders:{},showAdvancedSettings:!1,showPrePlayArtwork:!1,musicDownloadQuality:pi.Z.ORIGINAL,videoDownloadQuality:pi.Z.ORIGINAL,searchAllServers:!1,libraryRoutes:{},hasDismissedNewsSunsetBanner:!1}),initialize(){this.set({schemaVersion:Di.schemaVersion})},augmentResponse(e){if(e.schemaVersion>Di.schemaVersion)return h.Z.warn(`[Settings] Received settings with schemaVersion of ${e.schemaVersion}; expected ${Di.schemaVersion} or less.  Settings sharing is now disabled.`),Ci(Ci({},this.toJSON()),{isRemoteSchemaVersionNewer:!0});e=Bi(e);const t=this.get("isDirty"),n=this.get("updatedAt"),r=(0,ui.Z)(e.updatedAt),i=n&&r&&n<r;return t&&n===r||n&&r&&n>r?this.toJSON():(t&&i&&(e.isDirty=!1),e.isRemoteSchemaVersionNewer=!1,e)}},{schemaVersion:4}),Ti=Di;var Oi=n(81463),xi=n(44823);function Ai(e){if(e)return e.split("--")}function Ni(e){Object.keys(e).forEach((t=>{const n=function(e){const t=Ai(e);if(t.length<3)return e;const[n,r,i,s]=t,a=(0,Oi.Z)(i);return(0,xi.Z)(n,r,a,s)}(t);if(n!==t){const r=e[t];e[n]=r,delete e[t]}}))}var ki=n(42227),Li=n(22923),ji=n(39957);function Ri(e){e.isHidden&&!e.hiddenAt&&(e.hiddenAt=Date.now())}const Vi={1:zi,2:function(e){const{lastSourcePivots:t,savedPivotParams:n,sidebarSettings:{pinnedSources:r}={}}=e;return t&&Ni(t),n&&Ni(n),r&&r.forEach((e=>{const t=Ai(e.key);if(!t)return;const n=t.pop(),r=(0,Oi.Z)(n);if(r!==n){const n=(0,xi.Z)(...t,r);e.directoryID||(e.directoryID=r),e.key=n}})),e},3:zi,4:function(e){if(!e.relayReminders)return e;e.reminders=e.reminders||[];for(const t in e.relayReminders){const n=(0,ji.Z)(Li.K,t);if(e.reminders.some((e=>e.id===n)))continue;const r=e.relayReminders[t],i={id:n,remindAfter:(0,ki.Z)(r.remindAfter).toISOString(),times:Math.max(0,r.times-1)};e.reminders.push(new fi(i).toJSON())}return delete e.relayReminders,e}},Ui=[function(e){if(null!=e.autoHomeHubsEnabled)return e;const t=e.homeSettings;return t&&t.hasCustomizations?e.autoHomeHubsEnabled=!1:e.autoHomeHubsEnabled=!0,e},function(e){const t=e.sidebarSettings;t&&t.pinnedSources&&t.pinnedSources.forEach(Ri);const n=e.homeSettings;return n&&n.hubs&&n.hubs.forEach(Ri),e},function(e){const{audioBoost:t}=e;if(null!=t){const n=t===ii.Yq?ii.KH:ii.o5,r=Ti.prototype.defaults().audioBoost;n!==t&&n!==r&&(e.audioBoost=n)}return e},function(e){var t;const n=e.homeSettings;return n&&!e.autoHomeHubsEnabled&&(n.hubs=null==(t=n.hubs)?void 0:t.reduce(((e,t)=>{const n=function(e){for(const t in ti)if(ni(e,ti[t]))return t;return e}(t.hubIdentifier);return"/hubs/promoted"===t.directoryKey&&t.provider.identifier===ri.Y3?e.find((e=>{var r,i,s,a;return e.hubIdentifier===n&&(null==(r=e.provider)?void 0:r.identifier)===(null==(i=t.provider)?void 0:i.identifier)&&(null==(s=e.server)?void 0:s.machineIdentifier)===(null==(a=t.server)?void 0:a.machineIdentifier)}))||(t.directoryKey="/hubs",t.hubIdentifier=n,e.push(t)):e.push(t),e}),[])),e}];function zi(e){return e}function Bi(e={}){let t=e.schemaVersion||0;for(;t<Ti.schemaVersion;)e.schemaVersion=++t,Vi[t](e);return Ui.forEach(((t,n)=>{try{t(e)}catch(e){h.Z.error("[User] Setting migration[%d] error",n,e)}})),e}function _i(){const e=Er(An.Z.storageKey).then((e=>{if(e.users&&e.users.some((e=>e.experienceSettings&&e.experienceSettings.schemaVersion!==Ti.schemaVersion)))return e.users.forEach((e=>{e.experienceSettings=Bi(e.experienceSettings)})),Mr(An.Z.storageKey,e)}));return(0,U.Z)(e)}const Fi="samenetwork",Hi=_r.Z.extend({name:"DesktopSettingsModel",storageKey:"settingsv2",syncedAttrs:{preferInsecureConnections:Br.Z.string,"syncQuality!video":Br.Z.integer,"syncQuality!music":Br.Z.integer,"syncQuality!photo":Br.Z.integer,viewedUnclaimedServers:Br.Z.list,dismissedUnclaimedServers:Br.Z.list},defaults:()=>({preferInsecureConnections:$.Z.shouldPreferInsecureLocalConnections?Fi:"never","syncQuality!video":8,"syncQuality!music":2,"syncQuality!photo":2,viewedUnclaimedServers:[],dismissedUnclaimedServers:[]})});var Wi=Object.defineProperty,Qi=Object.prototype.hasOwnProperty,Gi=Object.getOwnPropertySymbols,Yi=Object.prototype.propertyIsEnumerable,qi=(e,t,n)=>t in e?Wi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ki=(e,t)=>{for(var n in t||(t={}))Qi.call(t,n)&&qi(e,n,t[n]);if(Gi)for(var n of Gi(t))Yi.call(t,n)&&qi(e,n,t[n]);return e};const $i=["autoLogin","chromecastAppID","chromecastCustomAppID","debugLevel","directPlay","directStream","rejectDirectConnections","serverUpdateDismissedVersion"],Xi=function(){const e=Hi.prototype.storageKey,t=Qr.prototype.storageKey,n=Er(e).then((n=>{const r=m().pick(n,$i);if(0!==Object.keys(r).length)return Er(t,{}).then((e=>{const n=Ki(Ki({},e),r);return Mr(t,n)})).then((()=>Mr(e,m().omit(n,$i))))}));return(0,U.Z)(n)},Ji=["allowHttpFallback","audioBoost","companion","language"],es=function(){const e=Er(Hi.prototype.storageKey).then((e=>{const t=m().pick(e,Ji);if(0!==Object.keys(t).length)return Ar(t).then((()=>Mr(Hi.prototype.storageKey,m().omit(e,Ji))))}));return(0,U.Z)(e)},ts="plexTestToken";function ns(){const e=a().Deferred(),t=ge.Z.set(ts,1);return t.done((()=>{ge.Z.remove(ts),e.resolve()})),t.fail((t=>{const n=new Ir;h.Z.warn(`Storage module swapped for ${n.name} due to exception: "${t}"`),Zr.register(n),ge.Z.register(n,{ignorePrevious:!0}),e.resolve()})),e.promise()}function rs(){return function(){const e=a().Deferred(),t=Zr.get("myPlexAccessToken");return t.done((()=>{window.PLEXWEB&&window.PLEXWEB.myPlexAccessToken||ge.Z.register(Zr.getInstance())})),t.always((()=>{e.resolve()})),e.promise()}().then(ns).then(Xi).then(ei).then(zr).then(es).then(_i)}var is=n(96242),ss=n(32377);const as={[ss.FAIRPLAY]:is.FAIRPLAY,[ss.PLAYREADY]:is.PLAYREADY,[ss.WIDEVINE]:is.WIDEVINE};function os(e,t){return window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess(e,t):Promise.reject(new Error("NotSupportedError"))}function ls(e,t,n){return window.MediaKeys||window.WebKitMediaKeys||window.MSMediaKeys?new Promise(((r,i)=>{const{audioCapabilities:s=[],videoCapabilities:a=[]}=n[0],o=s.concat(a).map((e=>e.contentType));o&&o.length&&o.every((n=>e.isTypeSupported(t,n)))?r({keySystem:t}):i(new Error("NotSupportedError"))})):Promise.reject(new Error("NotSupportedError"))}const cs=function(e,t=Object.values(ss)){const{audioCapabilities:n,videoCapabilities:r}=e,i=[{initDataTypes:["cenc"],audioCapabilities:n,videoCapabilities:r}],s=a().Deferred(),o=window.WebKitMediaKeys,l=o?ls.bind(null,o):os,c=t.map((e=>l(e,i)));return Promise.allSettled(c).then((e=>{const n=e.reduce(((e,n,r)=>{const{status:i,reason:s,value:a}=n;return"fulfilled"===i?((0,h.Z)("[Player] %s is available",a.keySystem),e.push(a.keySystem)):(0,h.Z)("[Player] %s is unavailable: %s",t[r],s.message),e}),[]);n.length?s.resolve(n):s.reject()})),s.promise()},ds=function(){return cs({videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]}).then((e=>{const t=function(e){let t;for(const n of e)if(t=as[n],t)break;return t}(e);return(0,h.Z)("[Player] Supported key systems:",e),(0,h.Z)("[Player] Selected DRM type:",t),t}))};var us=n(89571);function ps(){const e=(0,u.DB)("appModel"),t=$.Z.drmType;return(t!==is.NONE?a().Deferred().resolve(t).promise():(0,U.Z)(ds())).then((t=>{e.set("drmType",t),us.Z.setOption("drmType",t)}),(()=>{e.unset("drmType"),us.Z.setOption("drmType",is.NONE)}))}var ms=n(80129),hs=n.n(ms),gs=n(27082),ys=n(24920),vs=n(29243);const fs=function(){const{hashParams:e}=(0,z.Z)(window.location.href),t=hs().parse(e.substr(1)),n=(0,ui.Z)(t.pinID);if(n){const e=(0,u.DB)("appModel");(0,vs.Z)(e).set({pinIDInitial:n}),(0,gs.c9)(),window.history.replaceState(null,null,(0,ys.Z)(window.location.href,"pinID"))}return a().Deferred().resolve().promise()};var bs=n(86035);function Ss(){const e=(0,u.DB)("fullscreenManager").initialize({dispatchEnterFullscreen(){(0,u.DB)("appStore").dispatch((0,bs.rM)())},dispatchExitFullscreen(){(0,u.DB)("appStore").dispatch((0,bs.Qg)())}});return(0,U.Z)(e)}var Is=n(42441),Zs=n.n(Is);function Ps(){const e=(0,u.DB)("keyboardShortcuts");let t=!0;function n(n,r,i){if(t||r instanceof window.KeyboardEvent&&"esc"===i)return e[n.fn](e,r,i)}return ee.Z.on("anyModalOpen",(()=>{t=!1})),ee.Z.on("allModalsClosed",(()=>{t=!0})),e.shortcuts.forEach((e=>{Zs().bind(e.keys,n.bind(null,e))})),a().Deferred().resolve().promise()}var Es=n(3595);function Ms(){const e=(0,u.DB)("settingFinder").find("language");return us.Z.setOption("language",e),(0,U.Z)(Es.Z.load(e))}var Cs=n(37201),ws=n(54304);const Ds=["touchstart","mousedown","click","keydown","keypress"];function Ts(){function e(){Ds.forEach((t=>{document.body.removeEventListener(t,e,!0)}));const t=(0,Cs.Vq)("audio",!0);function n(){t.removeEventListener("playing",n),t.removeEventListener("error",n),t.src="",t.removeAttribute("src"),(0,Cs.u$)(t)}t.addEventListener("playing",n),t.addEventListener("error",n),t.src="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAADAAAGhgBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVWqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr///////////////////////////////////////////8AAAA5TEFNRTMuOThyAc0AAAAAAAAAABSAJAiqQgAAgAAABobxtI73AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQxAACFEII9ACZ/sJZwWEoEb8w/////N//////JcxjHjf+7/v/H2PzCCFAiDtGeyBCIx7bJJ1mmEEMy6g8mm2c8nrGABB4h2Mkmn//4z/73u773R5qHHu/j/w7Kxkzh5lWRWdsifCkNAnY9Zc1HvDAhjhSHdFkHFzLmabt/AQxSg2wwzLhHIJOBnAWwVY4zrhIYhhc2kvhYDfQ4hDi2Gmh5KyFn8EcGIrHAngNgIwVIEMf5bzbAiTRoAD///8z/KVhkkWEle6IX+d/z4fvH3BShK1e5kmjkCMoxVmXhd4ROlTKo3iipasvTilY21q19ta30/v/0/idPX1v8PNxJL6ramnOVsdvMv2akO0iSYIzdJFirtzWXCZicS9vHqvSKyqm5XJBdqBwPxyfJdykhWTZ0G0ZyTZGpLKxsNwwoRhsx3tZfhwmeOBVISm3impAC/IT/8hP/EKEM1KMdVdVKM2rHV4x7HVXZvbVVKN/qq8CiV9VL9jjH/6l6qf7MBCjZmOqsAibjcP+qqqv0oxqpa/NVW286hPo1nz2L/h8+jXt//uSxCmDU2IK/ECN98KKtE5IYzNoCfbw+u9i5r8PoadUMFPKqWL4LK3T/LCraMSHGkW4bpLXR/E6LlHOVQxmslKVJ8IULktMN06N0FKCpHCoYsjC4F+Z0NVqdNFoGSTjSiyjzLdnZ2fNqTi2eHKONONKLMPMKLONKLMPQRJGlFxZRoKcJFAYEeIFiRQkUWUeYfef//Ko04soswso40UJAgMw8wosososy0EalnZyjQUGBRQGIFggOWUacWUeYmuadrZziQKKEgQsQLAhQkUJAgMQDghltLO1onp0cpkNInSFMqlYeSEJ5AHsqFdOwy1DA2sRmRJKxdKRfLhfLw5BzUxBTUUzLjk4LjJVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk4LjJVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7ksRRA8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=";const r=t.play();r&&r.then&&r.catch((()=>{}))}return(0,ws.P_)()||Ds.forEach((t=>{document.body.addEventListener(t,e,!0)})),a().Deferred().resolve().promise()}var Os=n(97140);function xs(e){return e.get("isFullOwnedServer")||e.get("isFullServer")}function As(){let e;return X.Z.hasWebSocket&&(e=new we.Z({name:"MediaServerEventManager",appModel:(0,u.DB)("appModel"),isValidServer:xs,supportsLongPolling:!1,allowMultipleConnections:$.Z.allowMultipleWebSocketConnections,ServerEventConnection:(0,u.DB)("mediaServerEventConnection"),ServerRetryManager:Os.Z}),e.start()),a().Deferred().resolve().promise()}const Ns=J.Z.extend({mixins:te.Z,name:"AbstractReporter",enabled:!1,destroyed:!1,_suspended:!1,initialize(e={}){!1!==e.enabled&&this.enable()},hasSupport:()=>!0,enable(){this.enabled||this.destroyed||!this.hasSupport()||(this.enabled=!0,this.listenTo(ee.Z,{"log:message":this.onLog,"log:group":this.onLog,"log:groupCollapsed":this.onLog,"log:groupEnd":this.onLog}),this.onEnabled())},disable(){this.enabled&&(this.enabled=!1,this.stopListening(),this.onDisabled())},destroy(){this.destroyed||(this.disable(),this.destroyed=!0,this.onDestroyed())},_suspend(){this._suspended||(this._suspended=!0,this.onSuspended())},_resume(){this._suspended&&(this._suspended=!1,this.onResumed())},onLog(e){if(this._suspended)X.Z.hasConsole&&window.console.warn("[Logging] Ignored log reentrancy:",JSON.stringify(e));else{switch(this._suspend(),e.type){case"log:message":this.onLogMessage(e);break;case"log:group":this.onLogGroup(e);break;case"log:groupCollapsed":this.onLogGroupCollapsed(e);break;case"log:groupEnd":this.onLogGroupEnd(e)}this._resume()}},onLogMessage(){},onLogGroup(){},onLogGroupCollapsed(){this.onLogGroup.apply(this,arguments)},onLogGroupEnd(){},onEnabled(){},onDisabled(){},onResumed(){},onSuspended(){},onDestroyed(){}}),ks={[h.Z.LEVEL_LOG]:"log",[h.Z.LEVEL_DEBUG]:"debug",[h.Z.LEVEL_INFO]:"info",[h.Z.LEVEL_WARN]:"warn",[h.Z.LEVEL_ERROR]:"error"},Ls=Ns.extend({name:"ConsoleReporter",hasSupport:()=>X.Z.hasConsole,onLogMessage(e){const t=e.message,n=ks[e.level];(window.console[n]||window.console.log).call(window.console,t)},onLogGroup(e){(window.console.group||window.console.log).call(window.console,e.message)},onLogGroupCollapsed(e){(window.console.groupCollapsed||window.console.log).call(window.console,e.message)},onLogGroupEnd(){window.console.groupEnd&&window.console.groupEnd()}});function js(){return new Ls,a().Deferred().resolve().promise()}var Rs=n(62367);function Vs(){(0,h.Z)("[Servers] Initializing..."),function(){const e=(0,u.DB)("appModel"),t=e.get("servers"),n=e.get("cloudServer");n.addConnection((0,Rs.Z)()),t.add(n)}(),function(e){const t=(0,u.DB)("appModel"),n=t.get("servers"),r=An.Z.getActiveServers();r&&r.each((e=>{if(e.get("connections").length)try{const r=new zt.ZP(e.toJSON(),{parent:t}),i=r.get("connections");i.reset(i.filter((e=>!e.get("relay")))),!r.get("isMobileServer")&&i.length>0&&(zs(r),n.add(r))}catch(e){h.Z.warn(e)}}))}(),function(){const e=(0,u.DB)("appModel"),t=e.get("servers"),n=$.Z.primaryServer;if(!n)return;const r=new zt.ZP({machineIdentifier:n.machineIdentifier,friendlyName:n.name,isShared:n.shared,superToken:n.superToken,accessToken:n.accessToken,sourceTitle:n.sourceTitle},{parent:e});r.addConnection({scheme:n.scheme,address:n.address,port:n.port}),t.add(r)}(),function(){const e=(0,u.DB)("appModel"),t=e.get("servers"),n=new zt.ZP({isBundled:!0},{parent:e});n.addConnection({scheme:window.location.protocol.replace(":",""),address:window.location.hostname,port:window.location.port,isBundled:!0}),zs(n),t.add(n)}(),function(){if(!$.Z.allowLoopbackDiscovery)return;const e=(0,u.DB)("appModel"),t=e.get("servers"),n=new zt.ZP({},{parent:e});n.addConnection({scheme:"http",address:"127.0.0.1",port:"32400"}),zs(n),t.add(n)}(),(0,u.DB)("serverManager").start(),(0,u.DB)("primaryServerManager").start(),(0,u.DB)("serverConnectionManager").start(),(0,u.DB)("companionServerManager").start(),(0,u.DB)("providerManager").start(),(0,u.DB)("serverUpdateManager").start(),(0,h.Z)("[Servers] Finished initialization")}function Us(){(0,h.Z)("[Servers] Clearing...");const e=(0,u.DB)("appModel"),t=e.get("servers");(0,u.DB)("serverManager").stop(),(0,u.DB)("primaryServerManager").stop(),(0,u.DB)("serverConnectionManager").stop(),(0,u.DB)("serverConnectionTestManager").reset(),(0,u.DB)("companionServerManager").stop(),(0,u.DB)("providerManager").stop(),(0,u.DB)("serverUpdateManager").stop(),t.uninitialize(),t.reset(),t.initialize(),e.unset("primaryServer"),e.unset("companionServer"),e.unset("transientServer")}function zs(e){const t=e.get("connections").map((e=>e.get("uri")));(0,h.Z)("[Servers]","Initialize server",e.get("accessToken")?"with token,":"without token,",m().compact([e.get("debugName"),e.get("machineIdentifier"),...t]).join(", "))}function Bs(){return Vs(),ee.Z.on("clear:servers",Us),ee.Z.on("init:servers",Vs),a().Deferred().resolve().promise()}var _s=n(62501),Fs=n(64529),Hs=n(43430),Ws=n.n(Hs);const Qs=Fs.Z.extend({className:"alert-bar notify",template:Ws(),events:m().extend({"click .info-link":"onInfoClick"},Fs.Z.prototype.events),initialize(){this.listenTo(this.model,"change:read",this.hide)},serializeData(){const e=this.model.get("content");return{content:(0,_s.Z)(e),url:this.model.get("url")}},onInfoClick(e){this.hide(),this.model.markAsRead()},onCloseClick(e){Fs.Z.prototype.onCloseClick.apply(this,arguments),this.model.markAsRead()}}),Gs=J.Z.extend({mixins:te.Z,announcementsUpdateDelay:36e5,initialize(){this.user=(0,u.DB)("appModel").get("user"),m().bindAll(this,"updateAnnouncements","onSignedInChange")},start(){const e=m().debounce(this.onAnnouncementsChange),t=m().debounce(this.onSignedInChange);this.listenTo(this.user,"change:signedIn",t),this.listenTo(this.user.get("desktop"),{"change:announcements":e,"change:announcements.reset":e,"change:announcements.update":e,"change:announcements.change:read":e,"change:announcements.change:priority":e}),this.user.populate().fail(t)},stop(){window.clearTimeout(this.announcementsUpdateTimeout),this.user.get("desktop").get("announcements").clear(),this.stopListening()},updateAnnouncements(){this.user.get("restricted")||this.user.get("anonymous")||!this.user.server.get("isConnected")||(this.user.get("desktop").get("announcements").fetch(),this.announcementsUpdateTimeout&&window.clearTimeout(this.announcementsUpdateTimeout),this.announcementsUpdateTimeout=window.setTimeout(this.updateAnnouncements,this.announcementsUpdateDelay))},onSignedInChange(){this.user.get("desktop").get("announcements").clear(),this.updateAnnouncements()},onAnnouncementsChange(){if(this.user.get("isSignedIn")&&!this.user.get("restricted")){const e=this.user.get("desktop").get("announcements").findWhere({style:"priority",read:!1});e&&ee.Z.trigger("show:bar","alertbar",new Qs({model:e}))}}});var Ys=n(14179),qs=n(36158);const Ks=["plex_tv_auth","plex_tv_lang"];var $s=n(43666),Xs=Object.defineProperty,Js=Object.prototype.hasOwnProperty,ea=Object.getOwnPropertySymbols,ta=Object.prototype.propertyIsEnumerable,na=(e,t,n)=>t in e?Xs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ra=(e,t)=>{for(var n in t||(t={}))Js.call(t,n)&&na(e,n,t[n]);if(ea)for(var n of ea(t))ta.call(t,n)&&na(e,n,t[n]);return e};const ia=J.Z.extend({mixins:te.Z,initialize(e){this.user=e,this.debouncedChangeTimeout=null},start(){const e=this.user;this.previousUserID=e.id,this.listenTo(e,{change:this.onUserChange,"change:hasInvalidToken":this.onHasInvalidTokenChange,"change:isSignedIn":this.onIsSignedInChange}),this.listenTo(ee.Z,{[`cloudServer:${qs.Ej}`]:this.onNotifyAccountChange});const t=e.get("hasInvalidToken"),n=e.get("isSignedIn");t&&this.onHasInvalidTokenChange(e,t),n&&this.onIsSignedInChangeHandleToken(e,n);const r=(0,u.DB)("settingFinder").find("autoLogin")||e.get("isUnlocked");(0,h.Z)("[UserManager] autoLogin",r),r||this._lockIfInHome()},handleInvalidToken(){var e=new Re.Z({title:(0,Ne.Z)("Invalid Credentials"),message:(0,Ne.Z)("Your credentials have expired. Please sign in again."),confirmLabel:(0,Ne.Z)("OK"),cancelLabel:(0,Ne.Z)("Ignore")});e.promise.done((()=>{(0,Lt.Z)("login")})),ee.Z.trigger("show:modal",e)},_lockIfInHome(){const e=An.Z.getActiveUser();e&&e.get("home")&&this.user.set("lockState",Nn.Ik.Locked)},_updateUser(e,t){if(t){const n={};t.id!==e.id&&(n.included=["experienceSettings"]),t.copyFromModel(e,n)}else An.Z.get("users").add(e.toJSON(),{parse:!0});An.Z.debouncedSave()},onHasInvalidTokenChange(e,t){t&&this.handleInvalidToken()},onUserChange(e){this.debouncedChangeTimeout&&window.clearTimeout(this.debouncedChangeTimeout);const t=An.Z.getActiveUser();this.debouncedChangeTimeout=window.setTimeout(this._updateUser.bind(this,e,t),0)},onIsSignedInChange(e,t){this.onIsSignedInChangeHandleToken(e,t),this.onIsSignedInChangeHandleSyncSettings(e,t),this.onIsSignedInChangeHandlePopulateUser(e,t)},onIsSignedInChangeHandleToken(e,t){if(this.stopListening(e,"change:hasInvalidToken",this.onHasInvalidTokenChange),t){if(t&&e.get("isLocked")&&(this.previousUserID=e.id),t&&e.get("restricted")&&document.cookie.split(";").forEach((e=>{const[t]=e.trim().split("=");t&&!Ks.includes(t)&&(document.cookie=`${t}=; Domain=plex.tv; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`,document.cookie=`${t}=; Domain=.plex.tv; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`,document.cookie=`${t}=; Domain=.app.plex.tv; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`)})),e.get("isFullUser")&&t){const t=e.server.getXHROptions("/api/claim/subscribe");a().ajax(ra(ra({},t),{type:"POST"}))}}else e.get("hasInvalidToken")&&this.handleInvalidToken()},onIsSignedInChangeHandleSyncSettings(e,t){if(!t)return;const n=(0,u.DB)("appStore").dispatch,r=e.get("settings"),i=e.get("experienceSettings"),s=r.reduce(((e,t)=>(t.get("isDirty")&&e.push(t.get("id")),e)),[]);i.get("isDirty")&&n((0,$s.Xe)()),s.length&&n((0,$s.Z$)(s))},onIsSignedInChangeHandlePopulateUser(e,t){if(!t)return void e.get("features").clear();const n=(0,u.DB)("appStore").dispatch,r={reset:!0};e.get("homeDetails").populate(r),e.get("homeUsers").populate(r);const i=e.get("desktop");i.get("cloudCompanions").populate(r),i.get("devices").populate(r),i.get("invites").populate(r),i.get("socialNetworks").populate(r),n((0,Ys.Zu)()),n((0,$s.Bl)())},onNotifyAccountChange(){this.user.fetch().then((()=>{(0,h.Z)("[User] updated account following account change notification")}),(e=>{h.Z.error("[User] Unable to update account following account change notification",e)}))}});function sa(){let e=(0,U.Z)(An.Z.populate());return e=e.then((()=>ge.Z.get("myPlexAccessToken"))),e=e.then((e=>{const t=(0,u.DB)("appModel").get("user"),n=An.Z.get("users").findWhere({authToken:e});n&&(t.activateStoredUser(n.id),n.copyToModel(t))}),(()=>{const e=(0,u.DB)("appModel").get("user");e.activateStoredUser(0);const t=An.Z.getActiveUser();t&&t.copyToModel(e)})),(0,U.Z)(e).then((()=>{const e=(0,u.DB)("appModel").get("user");new ia(e).start(),(new Gs).start()}))}function aa(){return(0,u.DB)("watchTogetherRoomsManager").start(),(0,u.DB)("syncplaySessionManager").start(),a().Deferred().resolve().promise()}function oa(){return l.render(o.createElement(c.zt,{store:(0,u.DB)("appStore")},o.createElement(d.F0,{history:ue.Z},o.createElement(de.Z,null))),document.getElementById("plex")),a().Deferred().resolve().promise()}function la(){let e=function(e={},t={}){const n=((e,t)=>{for(var n in t||(t={}))O.call(t,n)&&N(e,n,t[n]);if(x)for(var n of x(t))A.call(t,n)&&N(e,n,t[n]);return e})({allowUrls:[new RegExp((0,D.Z)("-plex-4.59.2-5569e89"))],debug:!1,dsn:"https://54c24aee6403406294dd6094728f20e0@o17675.ingest.sentry.io/5594889",environment:"public",ignoreErrors:["ResizeObserver","songId",/^Non-Error promise rejection captured/,/^SecurityError: The operation is insecure/],integrations:[new E.jK.Breadcrumbs({fetch:!1,xhr:!1})],release:"desktop-desktop@4.59.2-5569e89",sampleRate:.05,version:"4.59.2"},e),r=k.reduce(((e,t)=>(e.hasOwnProperty(t)||(e[t]=w.Z.prop(t)),e)),t);return M.S1(n),Object.entries(r).forEach((([e,t])=>{C.YA(e,t)})),a().Deferred().resolve().promise()}();return e=e.then(js),e=e.then(cr),e=e.then(rs),e=e.then(he),X.Z.hasServiceWorker&&(e=e.then(function(){(0,h.Z)("[Workers] Initializing...");const e=a().Deferred();return(0,u.DB)("serviceWorker").register().then((t=>{(0,h.Z)("[Workers] Finished initialization"),e.resolve()})).catch((t=>{(0,h.Z)("[Workers] Failed initialization: ",t),e.resolve()})),e.promise()}())),e=e.then(Ie),e=e.then(ps),e=e.then(P),e=e.then(br),e=e.then(sa),e=e.then(Ms),$.Z.allowCloudPubSub&&(e=e.then((()=>function(){let e;return X.Z.hasWebSocket&&(e=new we.Z({name:"CloudServerEventManager",appModel:(0,u.DB)("appModel"),isValidServer:De,supportsLongPolling:!0,allowMultipleConnections:!0,ServerEventConnection:Ee,ServerRetryManager:Ce}),e.start()),a().Deferred().resolve().promise()}()))),e=e.then(As),e=e.then(K),e=e.then(Bs),e=e.then(Ts),e=e.then(fr),e=e.then(Ps),e=e.then(fs),e=e.then(q),e=e.then(Ss),e=e.then(ce),e=e.then(oe),e=e.then(oa),e=e.then(aa),e}var ca=n(40202),da=n.n(ca),ua=n(10371),pa=n.n(ua),ma=n(30320),ha=n.n(ma),ga=n(2397),ya=n.n(ga),va=n(14118),fa=n.n(va),ba=n(71743),Sa=n.n(ba),Ia=n(28792),Za=n.n(Ia),Pa=n(45768),Ea=n.n(Pa);da().registerPartial("setting",Za()),da().registerPartial("lockableTagInput",fa()),da().registerPartial("lockableTextInput",Sa()),da().registerPartial("lockableNumericInput",ya()),da().registerPartial("textInput",Ea()),da().registerPartial("autocompleteTextInput",pa()),da().registerPartial("connectError",ha());var Ma=n(27098),Ca=n.n(Ma);const wa=new(Ca())({attributePrefix:"_",emptyNodeForm:{},ignoreRoot:!0}),Da=function(e){return'<?xml version="1.0"?>'+wa.js2xml(e)};function Ta(e){e.forEach((e=>{e.resolve()})),e.length=0}function Oa(e){e.forEach((e=>{e.reject()})),e.length=0}const xa=J.Z.extend({mixins:[te.Z],name:"MediaServerCompanionProxy",commandID:0,initialize(){m().bindAll(this,"_checkPollRequestStatus","_pickProxyServer","_poll","_repoll","_sendResponse","_unregisterPlayer","onPollSuccess","onPollError"),this._debounceUnregisterPlayer=m().debounce(this._unregisterPlayer,2e3),this._debouncePickProxyServer=m().debounce(this._pickProxyServer,2e3),this._deepLinkDeferred=a().Deferred().resolve(),this._playerRegistrationDeferreds=[],this._playerUnregistrationDeferreds=[],this._pollRetryDelay=1e3},getDeepLink(){return this._deepLinkDeferred.promise()},publish(e){if(!this.proxyServer)return;if(this.timelineInflight)return void(this._pendingTimeline=e);this.timelineInflight=!0;const t=Da(e),n=m().result(this.proxyServer,"url"),r=this.proxyServer.getXHROptions(`${n}player/proxy/timeline?commandID=${this.commandID}`);r.data=`timeline=${encodeURIComponent(t)}`,r.method="POST",r.contentType="application/x-www-form-urlencoded",a().ajax(r).always((()=>{this.timelineInflight=!1;const e=this._pendingTimeline;e&&(delete this._pendingTimeline,this.publish(e))}))},subscribe(e){this.started||(this.callback=e,this.started=!0,this.appModel=(0,u.DB)("appModel"),this.listenTo(this.appModel,"change:companionServer",this._debouncePickProxyServer),this._debouncePickProxyServer(this.appModel,this.appModel.get("companionServer")))},unsubscribe(){if(!this.started)return;const e=this.proxyServer;this.started=!1,this.stopListening(this.servers,"change:connected",this._debouncePickProxyServer),this.callback=null,this.proxyServer=null,e&&this._debounceUnregisterPlayer(e),this._clearPollRequestStatusCheck(),this.pollRequest&&(this.pollRequest.abort(),this.pollRequest=null)},unregisterPlayer(e,t){this.cloudServer=e,this.clientID=t;const n=a().Deferred();return this._playerUnregistrationDeferreds.push(n),n.promise()},registerPlayer(e,t){this.cloudServer=e,this.clientID=t;const n=a().Deferred();return this._playerRegistrationDeferreds.push(n),n.promise()},debugStatus(){const e=this.proxyServer;return e?`Proxied: ${e.get("debugName")}`:void 0},_pickProxyServer(e,t){this.started&&(this.proxyServer=t,this.proxyServer&&(this._registerServer(),this._poll()))},_registerServer(){if(!this.proxyServer||!this.cloudServer||!this.clientID)return;const e=this.cloudServer.getXHROptions(`devices/${this.clientID}`,{method:"POST",headers:{"X-Plex-Provides":$.Z.allowCloudPubSub?"client,player,pubsub-player":"client,player"},data:{_method:"PUT",proxiedBy:this.proxyServer.id}});a().ajax(e).done((()=>{Ta(this._playerRegistrationDeferreds)})).fail((()=>{Oa(this._playerRegistrationDeferreds)}))},_unregisterPlayer(e){if(!e||!this.cloudServer||!this.clientID)return;const t=this.cloudServer.getXHROptions(`/devices/${this.clientID}`,{method:"POST",headers:{"X-Plex-Provides":"client"},data:{_method:"PUT"}});a().ajax(t).done((()=>{Ta(this._playerUnregistrationDeferreds)})).fail((()=>{Oa(this._playerUnregistrationDeferreds)}))},_poll(){if(!this.started)return;const e=this.proxyServer;if(!e)return void h.Z.info("[Companion] No proxy server available to long poll");if(this._isPollRequestPending())return void h.Z.info("[Companion] Long poll already open to ",e.get("debugName"));this._clearPollRequestStatusCheck(),this._checkPollRequestStatusLater(),this._clearRepollLater();const t=e.getXHROptions("/player/proxy/poll",{data:{deviceClass:"pc",protocolVersion:"3",protocolCapabilities:"timeline,playback,navigation,mirror,playqueues",timeout:1}});h.Z.info("[Companion] Opening long poll to %s at %s",e.get("debugName"),t.url),this.pollRequest=a().ajax(t).done(this.onPollSuccess).fail(this.onPollError)},_repoll(){this._clearPollRequestStatusCheck(),this._clearRepollLater(),this._poll()},_isPollRequestPending(){return!!this.pollRequest&&"pending"===this.pollRequest.state()},_checkPollRequestStatus(){this._isPollRequestPending()&&this.proxyServer&&(h.Z.info("[Companion] Poll connection successfully opened with %s",this.proxyServer.get("debugName")),this._pollRetryDelay=1e3)},_checkPollRequestStatusLater(){this._pollRequestStatusCheckTimeout=window.setTimeout(this._checkPollRequestStatus,5e3)},_clearPollRequestStatusCheck(){this._pollRequestStatusCheckTimeout=window.clearTimeout(this._pollRequestStatusCheckTimeout)},_repollLater(){this._pollRetryTimeout=window.setTimeout(this._repoll,this._pollRetryDelay)},_clearRepollLater(){this._pollRetryTimeout=window.clearTimeout(this._pollRetryTimeout)},_processCommand(e){if(!this.started)return;const t={path:e.path,commandID:e.commandID,supportsTimeline:!0,query:{key:[e.queryKey],providerIdentifier:[e.queryProviderIdentifier],offset:[e.queryOffset],mediaIndex:[e.queryMediaIndex],containerKey:[e.queryContainerKey],playQueueID:[e.queryPlayqueueid],type:[e.queryType],volume:[e.queryVolume],repeat:[e.queryRepeat],shuffle:[e.queryShuffle],autoPlay:[e.queryAutoPlay],subtitleColor:[e.querySubtitleColor],subtitlePosition:[e.querySubtitlePosition],subtitleSize:[e.querySubtitleSize],subtitleOffset:[e.querySubtitleOffset],audioStreamID:[e.queryAudioStreamID],subtitleStreamID:[e.querySubtitleStreamID],token:[e.queryToken],machineIdentifier:[e.queryMachineIdentifier],protocol:[e.queryProtocol],address:[e.queryAddress],port:[e.queryPort],text:[e.queryText],field:[e.queryField]}},n="resolved"!==this._deepLinkDeferred.state();this.callback(t,n).always((e=>{n&&e&&e.deferredAction&&this._deepLinkDeferred.resolve(e.deferredAction),this._sendResponse(e.controllerResponse)}))},_sendResponse(e){if(!this.proxyServer)return;const t=parseInt(e.commandID,10);this.commandID<t&&(this.commandID=t);const n=`/player/proxy/response?commandID=${e.commandID}`,r=this.proxyServer.getXHROptions(n,{method:"POST",contentType:"application/x-www-form-urlencoded",data:{response:e.body}});a().ajax(r)},onPollSuccess(e){const t=e&&me.Z.parseXML(e),n=t&&t.Command;e?(t?n||h.Z.warn("[Companion] Poll succeeded without a Command response",t):h.Z.warn("[Companion] Poll succeeded without a parseable response",e),n?(this._repoll(),(Array.isArray(n)?n:[n]).forEach((e=>{try{h.Z.info("[Companion] Received %s from %s",e.path,e.deviceName),this._processCommand(e)}catch(t){h.Z.warn("[Companion] encountered %s while processing %s",t.message,e)}}),this)):this.onPollError()):this._repoll()},onPollError(e={}){const t=this.proxyServer;if(!this.started||!t)return;this._clearPollRequestStatusCheck(),this._clearRepollLater(),this._repollLater(),this._pollRetryDelay*=2;const n=t.get("debugName");h.Z.warn("[Companion] Poll failed to %s",n)}}),Aa=_r.Z.extend({name:"SessionStatsModel",storageKey:"sessionstats",syncedAttrs:{heartbeatTime:Br.Z.integer,lastPlayingHeartbeatTime:Br.Z.integer,playbackCount:Br.Z.integer,playbackTime:Br.Z.integer,sessionId:Br.Z.string,anonymousSessionId:Br.Z.string,startTime:Br.Z.integer,lastInteractionTime:Br.Z.integer},defaults:{playbackCount:0,playbackTime:0}});var Na=n(15634),ka=n(45399),La=n(22222),ja=n(79932),Ra=n(12304),Va=n(44861),Ua=n(77811),za=n(27978),Ba=n(41720),_a=n(27903),Fa=Object.prototype.hasOwnProperty,Ha=Object.getOwnPropertySymbols,Wa=Object.prototype.propertyIsEnumerable;const Qa=(0,_a.Z)((function(e={},t){const n=function(e){const t=e,{mimeType:n,codecs:r}=t,i=((e,t)=>{var n={};for(var r in e)Fa.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ha)for(var r of Ha(e))t.indexOf(r)<0&&Wa.call(e,r)&&(n[r]=e[r]);return n})(t,["mimeType","codecs"]);if(!n)return"";const s=[n];if(r&&s.push(`codecs="${r}"`),i)for(const e in i)s.push(`${e}="${i[e]}"`);return s.join("; ")}(e),r=(0,Cs.Vq)("video",!0),i=r.canPlayType(n);return(0,Cs.u$)(r),e.codecs?"probably"===i:"probably"===i||"maybe"===i}));var Ga=n(91135),Ya=n(16143),qa=Object.defineProperty,Ka=Object.prototype.hasOwnProperty,$a=Object.getOwnPropertySymbols,Xa=Object.prototype.propertyIsEnumerable,Ja=(e,t,n)=>t in e?qa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eo=(e,t)=>{for(var n in t||(t={}))Ka.call(t,n)&&Ja(e,n,t[n]);if($a)for(var n of $a(t))Xa.call(t,n)&&Ja(e,n,t[n]);return e};const to=(0,Ba.Z)()?100:0;function no(e){return!!(0,Ba.Z)()||"progressive"===e.deliveryType&&Qa(e)}class ro extends o.Component{constructor(e,t){super(e,t),this._onLoadTimeout=()=>{this._isAdLoaded||this.onError(za.SM.VAST_MEDIA_FILE_TIMEOUT)},this._onPlaybackTimeout=()=>{this.onError(za.SM.VAST_MEDIA_FILE_TIMEOUT)},this.onMediaError=()=>{this.onError(za.SM.VAST_PROBLEM_DISPLAYING_MEDIA)},this.onEnd=()=>{this._lastPositionMilliseconds=null,this._lastOnPositionMillisecondsChange=null,this._clearPlaybackTimeout(),this._playNextAdOrResume()},this.onError=(e=za.SM.UNDEFINED_ERROR)=>{this._adPod&&this._adPod.error(e),this._playNextAdOrResume()},this.onPositionMillisecondsChange=e=>{this._isAdLoaded||(this._isAdLoaded=!0),e!==this._lastPositionMilliseconds&&(this._setPlaybackTimeout(),this._lastPositionMilliseconds=e),this._adPod?this._adPod.progress(e):h.Z.error("[AdPlayer] Unexpected position update without an adPod"),(!this._lastOnPositionMillisecondsChange||e>=this._lastOnPositionMillisecondsChange+to)&&(this._lastOnPositionMillisecondsChange=e,this.props.onPositionMillisecondsChange(e))},this._vmapClient=null,this._adPod=null,this._adPodPromise=null,this._isAdLoaded=!1,this._loadTimeoutID=null,this._playbackTimeoutID=null,this._lastPositionMilliseconds=null,this._lastOnPositionMillisecondsChange=null,this._mediaComponent=(0,u.DB)("mediaComponent"),this.bufferingDetectionLimit=$.Z.bufferingDetectionLimit}componentDidMount(){const{url:e,playerPositionSeconds:t,followsManualRedirect:n}=this.props;this._vmapClient=new za.KU({url:new window.URL(e),canPlayMedia:no,followsManualRedirect:n}),this._handlePositionUpdate(1e3*t,!0)}componentDidUpdate(e,t){const{ad:n,playerPositionSeconds:r,isMiniPlayer:i,isFullscreen:s,isPaused:a,isIdle:o,url:l,followsManualRedirect:c,volume:d}=this.props;l!==e.url&&(this.onEnd(),delete this._adPodPromise,this._adPod&&(this._adPod.dispose(),delete this._adPod),this._vmapClient&&this._vmapClient.dispose(),this._vmapClient=new za.KU({url:new window.URL(l),canPlayMedia:no,followsManualRedirect:c}));const u=!o&&e.isIdle;if(u||r!==e.playerPositionSeconds){const t=r-e.playerPositionSeconds,n=t<0||t>1;this._handlePositionUpdate(1e3*r,n||u)}this._adPod&&n&&(i!==e.isMiniPlayer&&(this._adPod.expanded=!i),s!==e.isFullscreen&&(this._adPod.fullscreen=s),d!==e.volume&&(this._adPod.muted=0===d),a!==e.isPaused&&(this._adPod.paused=a,a?this._clearPlaybackTimeout():this._setPlaybackTimeout()))}componentWillUnmount(){this._loadTimeoutID&&(this._loadTimeoutID=window.clearTimeout(this._loadTimeoutID)),this._playbackTimeoutID&&(this._playbackTimeoutID=window.clearTimeout(this._playbackTimeoutID)),delete this._adPodPromise,this._adPod&&(this.props.ad&&!this._isAdLoaded&&this._adPod.error(za.SM.VAST_MEDIA_FILE_TIMEOUT),this._adPod.dispose(),delete this._adPod),this._vmapClient&&this._vmapClient.dispose()}_handlePositionUpdate(e,t){const{isIdle:n}=this.props;if(!n)if(t&&this._vmapClient&&!this._adPodPromise&&!this.props.ad){const t=this._vmapClient.resolveAdPod(e);this._adPodPromise=t,t.then((e=>{let n;t===this._adPodPromise&&e&&(this._adPod=e,n=e.next()),n?this._playAd(n,e):(this._adPod&&(this._adPod.dispose(),delete this._adPod),delete this._adPodPromise,this.onEnd())}),(()=>{delete this._adPodPromise,this.onEnd()}))}else if(this._adPod){if(this._adPod.timeOffset>e)return;const t=this._adPod.next();t?this._playAd(t,this._adPod):(this._adPod.dispose(),delete this._adPod,delete this._adPodPromise)}else if(!this._adPodPromise&&this._vmapClient){const t=this._vmapClient.resolveNextAdPod(e);this._adPodPromise=t,t.then((e=>{t===this._adPodPromise&&(this._adPod=e,e||delete this._adPodPromise)}),(()=>{t===this._adPodPromise&&delete this._adPodPromise}))}}_playAd(e,t){const{volume:n,isMiniPlayer:r,isFullscreen:i,isPaused:s}=this.props;t.expanded=r,t.fullscreen=i,t.muted=0===n,t.paused=s,this._isAdLoaded=!1,this._loadTimeoutID=window.setTimeout(this._onLoadTimeout,8e3),this.props.onAdChange(e)}_playNextAdOrResume(){const e=this._adPod?this._adPod.next():null;e?this._playAd(e,this._adPod):(this._adPod&&this._adPod.dispose(),delete this._adPod,delete this._adPodPromise,this.props.onAdChange(e))}_setPlaybackTimeout(){this._clearPlaybackTimeout(),this.props.isPaused||(this._playbackTimeoutID=window.setTimeout(this._onPlaybackTimeout,8e3))}_clearPlaybackTimeout(){this._playbackTimeoutID=window.clearTimeout(this._playbackTimeoutID)}render(){var e,t,n,r;const i=this.props,{ad:s,url:a,isMiniPlayer:l,isPaused:c,positionSeconds:d,playerPositionSeconds:u,statusOverlayClassName:p}=i,m=((e,t)=>{var n={};for(var r in e)Ka.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&$a)for(var r of $a(e))t.indexOf(r)<0&&Xa.call(e,r)&&(n[r]=e[r]);return n})(i,["ad","url","isMiniPlayer","isPaused","positionSeconds","playerPositionSeconds","statusOverlayClassName"]),h=this._adPod?Math.round((this._adPod.timeOffset-1e3*u)/1e3):Ya.pN,g=!!s,y=null!=(t=null==(e=this._adPod)?void 0:e.hasAnyCreative)&&t&&!l,v=g?this._mediaComponent.getComponent({protocol:"http",isDirectPlay:!0}):null;return o.createElement(o.Fragment,null,g?o.createElement(v,eo(eo({},m),{key:s.url.href,bufferingDetectionLimit:this.bufferingDetectionLimit,positionSeconds:d,paused:c,src:s.url.href,mediaType:Ga.pX,onPositionMillisecondsChange:this.onPositionMillisecondsChange,onEnd:this.onEnd,onError:this.onMediaError})):null,y?o.createElement(Ya.ZP,{className:p,displayIndex:null!=(n=null==s?void 0:s.displayIndex)?n:Ya.Ho,displayTotal:null!=(r=null==s?void 0:s.displayTotal)?r:Ya.Mf,secondsUntilAd:h}):null)}}ro.defaultProps={isIdle:!1,followsManualRedirect:!1};const io=ro,so=(0,c.$j)((function(){return(0,La.P1)((0,Va.Z)(["isPaused","positionSeconds","durationSeconds"]),Ua.Z,((e,{volume:t})=>t),((e,t,n)=>({volume:t||n||0,isPaused:e.isPaused,playerPositionSeconds:e.positionSeconds,playerDurationSeconds:e.durationSeconds})))}),(function(e,t){const{playerType:n}=t;return{onBufferingChange(t){e((0,Ra.n9)({playerType:n,isBuffering:t}))},onPause(){e((0,Ra.wO)({playerType:n,isApplicationInitiated:!0}))},onPlay(){e((0,Ra.hY)({playerType:n,isApplicationInitiated:!0}))},onMetricsPlayerChange(t){e((0,ja.Kq)({playerType:n,metricsPlayer:t}))}}}))(io);var ao=n(14540);const oo={default:so},lo=o.lazy((()=>{return void 0,null,e=function*(){try{const e=(0,ao.Z)()?"//imasdk.googleapis.com/js/sdkloader/ima3_debug.js":"//imasdk.googleapis.com/js/sdkloader/ima3.js";(0,ao.Z)()&&(0,h.Z)("[IMA] SDK loading from",e),yield function(e){return new Promise(((t,n)=>{function r(e){var t;e&&(null==(t=a.parentNode)||t.removeChild(a)),a.removeEventListener("load",i),a.removeEventListener("error",s)}function i(){r(!1),t()}function s(){r(!0),n(new Error(`Unable to load: ${e}`))}const a=document.createElement("script");try{!function(e){const t=document.getElementsByTagName("SCRIPT");return Array.from(t).some((t=>t.src===e))}(e)?(a.addEventListener("error",s),a.addEventListener("load",i),a.type="text/javascript",a.src=e,document.body.appendChild(a)):t()}catch(e){r(!0),n(e)}}))}(e)}catch(e){return h.Z.error("[IMA] SDK load failed",e),oo}try{return(0,ao.Z)()&&(0,h.Z)("[IMA] SDK %s loaded",window.google.ima.VERSION),(0,ao.Z)()&&(0,h.Z)("[IMA] Enabling VPAID"),window.google.ima.settings.setVpaidMode(window.google.ima.ImaSdkSettings.VpaidMode.ENABLED),(0,ao.Z)()&&(0,h.Z)("[IMA] Loading ImaPlayer"),yield n.e(146).then(n.bind(n,77255))}catch(e){return h.Z.error("[IMA] Player failed to initialize",e),oo}},new Promise(((t,n)=>{var r=t=>{try{s(e.next(t))}catch(e){n(e)}},i=t=>{try{s(e.throw(t))}catch(e){n(e)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(r,i);s((e=e.apply(undefined,null)).next())}));var e})),co={getComponent:()=>(0,Na.Z)((0,u.DB)("appModel"),ka.CG)?lo:so},uo="audioStream",po="playPause",mo="repeat",ho="seekTo",go="shuffle",yo="skipNext",vo="skipPrevious",fo="stop",bo="subtitleStream",So="volume",Io=(...e)=>e.reduce(((e,t)=>e.concat("string"==typeof t?t.split(","):t)),[]).sort().join(","),Zo=Io(fo,uo,bo,So),Po=Io(uo,"autoPlay",po,mo,ho,go,yo,vo,"stepBack","stepForward",fo,bo,So),Eo={videoCloudLiveTV:Zo,video:Io(Po,"subtitleColor","subtitleOffset","subtitlePosition","subtitleSize"),music:Io(po,mo,ho,go,yo,vo,fo,So),photo:Io(po,ho,yo,vo,fo)};function Mo(){return Qa({mimeType:"application/x-mpegURL"})}var Co=n(54611);const wo=o.lazy((()=>Promise.all([n.e(631),n.e(76)]).then(n.bind(n,83076)))),Do=o.lazy((()=>Promise.all([n.e(123),n.e(686)]).then(n.bind(n,63686)))),To=o.lazy((()=>n.e(630).then(n.bind(n,51630)))),Oo={getComponent:e=>e?"parsec"===e.protocol?To:"dash"===e.protocol||e.drm===is.FAIRPLAY&&"hls"===e.protocol&&Mo()?Do:"hls"===e.protocol&&Mo()?Co.Z:"hls"===e.protocol?wo:Co.Z:Co.Z};var xo=n(39606),Ao=n(73571);const No=function(){const e=window.MediaSource||window.WebkitMediaSource,t=window.SourceBuffer||window.WebKitSourceBuffer;return!(!e||"function"!=typeof e.isTypeSupported||t&&(!t.prototype||"function"!=typeof t.prototype.appendBuffer||"function"!=typeof t.prototype.remove))};var ko=Object.prototype.hasOwnProperty,Lo=Object.getOwnPropertySymbols,jo=Object.prototype.propertyIsEnumerable;var Ro=n(1088);var Vo=Object.defineProperty,Uo=Object.prototype.hasOwnProperty,zo=Object.getOwnPropertySymbols,Bo=Object.prototype.propertyIsEnumerable,_o=(e,t,n)=>t in e?Vo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fo=(e,t)=>{for(var n in t||(t={}))Uo.call(t,n)&&_o(e,n,t[n]);if(zo)for(var n of zo(t))Bo.call(t,n)&&_o(e,n,t[n]);return e};const Ho={videoResolution:!0},Wo={width:1920,height:1080,bitDepth:8,frameRate:30};function Qo(e,t){return m().pick(e,((e,n)=>0===n.indexOf(t)))}function Go(e,t,n,r){const i=Fo(Fo({},Qo(e,r)),Qo(t,r));return m().map(i,((e,i)=>{return{codec:m().has(t,i)?n:null,name:(s=i.slice(r.length),s?s.charAt(0).toLowerCase()+s.slice(1):""),value:e};var s}))}var Yo=n(16551);function qo(e=xo.Z.prop("video")){var t,n,r,i,s,a,o;const l=(null==(i=null==(r=null==(n=null==(t=e.directPlay)?void 0:t.mp4)?void 0:n.video)?void 0:r.codecs)?void 0:i.hevc)||(null==(o=null==(a=null==(s=e.directStream)?void 0:s.video)?void 0:a.codecs)?void 0:o.hevc);return(null==l?void 0:l.maxBitDepth)>=10}var Ko=n(79270),$o=n(33232),Xo=n(62638);function Jo(e,t){return!e||!!t&&e>=t}var el=n(24329),tl=Object.defineProperty,nl=Object.prototype.hasOwnProperty,rl=Object.getOwnPropertySymbols,il=Object.prototype.propertyIsEnumerable,sl=(e,t,n)=>t in e?tl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,al=(e,t)=>{for(var n in t||(t={}))nl.call(t,n)&&sl(e,n,t[n]);if(rl)for(var n of rl(t))il.call(t,n)&&sl(e,n,t[n]);return e};const ol=function e(t,n,r,i={},s){const a=(0,u.DB)("appModel"),o=a.get("user").get("experienceSettings"),l=a.get("deviceSettings"),c=xo.Z.prop("video"),d=function(e,t){return!(!(0,el.Z)()||!t.server.get("hasAdaptiveBitrate")||e.get("remotePlayer"))}(a,t),p=function(e){const{profile:t,metadataItem:n,mediaItem:r,canPlayAdaptiveBitrate:i,settings:s}=e;let{qualityIndex:a}=e;const o=r?[r]:n.get("Media"),l=$o.Z.getAvailableQualitiesFor(o,n.server,{lowestQualityIndex:t.lowestQualityIndex,highestQualityIndex:t.highestQualityIndex});return null==a?a=function(e){const{mediaItems:t,transcodeServer:n,metadataItem:r,canPlayAdaptiveBitrate:i,settings:s,availableQualities:a}=e,o=function(e){return Math.max.apply(Math,e.map((e=>e.bitrate)))}(t),l=n.get("maxUploadBitrate"),c=n.get("isPrivateConnection"),d=i&&s.get("autoAdjustQuality");let{localQualityDefault:u}=s;void 0===u&&(u=$o.Z.ORIGINAL);const p=(0,Xo.Z)(r,c),m=(0,Ko.Z)(r,c),h=$o.Z.getQualityByIndex(s.get(m));if(p){const e=s.get("useHomeStreamingRecommendedSettings")?u:h.index,t=$o.Z.getQualityByIndex(e),n=$o.Z.isExplicitQuality(t.index)&&Jo(t.bitrate,o);return t.index===$o.Z.ORIGINAL||n?$o.Z.ORIGINAL:d?$o.Z.CONVERT_AUTOMATICALLY:$o.Z.getBestAvailableQuality(t,a)}const g=Jo(l,o),y=h.index===$o.Z.ORIGINAL,v=Jo(h.bitrate,o);return s.get("remoteSmallVideoAtOriginalQuality")&&g&&(y||v)?$o.Z.ORIGINAL:d?$o.Z.CONVERT_AUTOMATICALLY:y&&g?$o.Z.ORIGINAL:$o.Z.getBestAvailableQuality(h,a)}({mediaItems:o,transcodeServer:n.server,metadataItem:n,canPlayAdaptiveBitrate:i,settings:s,availableQualities:l}):$o.Z.isExplicitQuality(a)&&!l.find((e=>e.index===a))&&(a=$o.Z.ORIGINAL),{availableQualities:l,quality:$o.Z.getQualityByIndex(a),qualityIndex:a}}({profile:c,metadataItem:t,qualityIndex:n,mediaItem:s,canPlayAdaptiveBitrate:d,settings:o}),m=p.qualityIndex,h=m===$o.Z.CONVERT_AUTOMATICALLY&&d,g=l.get("directPlay")&&!h,y=l.get("directStream")&&!h?1:0,v=d&&o.get("autoAdjustQuality")&&!$o.Z.isExplicitQuality(m);let f,b=p.quality;return h&&(b=function(e,t){const n=e.server.get("isPrivateConnection");if((0,Xo.Z)(e,n)&&t.get("useHomeStreamingRecommendedSettings")){const e=t.defaults().localQuality;return $o.Z.getQualityByIndex(e)}const r=(0,Ko.Z)(e,n),i=t.get(r);return $o.Z.getQualityByIndex(i)}(t,o)),m!==$o.Z.ORIGINAL&&(f=e(t,$o.Z.ORIGINAL,r,i,s)),al({type:Ao.Z.types.VIDEO,profile:c,allowDirectPlay:g,allowDirectStreamVideoWithSoftSubtitles:!0,allowIncompleteSegments:!0,subtitlesBurnLevel:o.get("subtitlesBurnLevel"),availableQualities:p.availableQualities,qualityIndex:m,quality:b,transcoderOptions:al({addDebugOverlay:l.get("debugVideoQualityOverlay")?1:0,autoAdjustQuality:v||h?1:0,directStream:y,directStreamAudio:y,audioBoost:o.get("audioBoost")},i),originalQualityDecisionOptions:f},r)},ll=No(),cl=No()||Mo(),dl=ll?"dash":"hls",ul=function(e,t,n){const r=Fe.getMetadataType(e.get("type"));return(null==r?void 0:r.mediaType)===Ga.j0?function(){const e=[];return ll&&e.push("add-transcode-target(type=musicProfile&context=streaming&protocol=dash&container=mp4&audioCodec=aac)"),cl&&e.push("add-transcode-target(type=musicProfile&context=streaming&protocol=hls&container=mpegts&audioCodec=aac,mp3)"),{type:Ao.Z.types.MUSIC,profile:xo.Z.prop("music"),allowDirectPlay:!0,hasNativeHLS:cl,hasDASH:ll,transcoder:Yo.Z,transcodeProtocol:dl,preferredDirectPlayProtocol:dl,transcoderOptions:{directStreamAudio:1,mediaBufferSize:12288},profileExtra:e.length?e.join("+"):null}}():(null==r?void 0:r.mediaType)===Ga.eD?{type:Ao.Z.types.ROM,profile:{},allowDirectPlay:!1,allowDirectStream:!1,transcoder:Yo.Z,transcoderOptions:{}}:function(e,t,n){const r=(0,u.DB)("appModel").get("user").get("experienceSettings"),i={hasNativeHLS:cl,hasDASH:ll,hasStreamingMKV:!1,canDisplayHDR:qo(),canDisplayDolbyVision:!1,subtitlesBurnLevel:r.get("subtitlesBurnLevel"),transcoder:Yo.Z,transcodeProtocol:dl,preferredDirectPlayProtocol:dl,profileExtra(e){const t=function(e){const t=e.finalProfile.directStream.video,n=(0,Ro.Z)(e.media),r=n&&n.codec,i=t.codecs&&t.codecs[r],s=Go(t,i,r,"min");let a=Go(t,i,r,"max");if(!n)return[];const o={width:n.width<=Wo.width,height:n.height<=Wo.height,bitDepth:n.bitDepth<=Wo.bitDepth,frameRate:n.frameRate<=Wo.frameRate};a=a.filter((e=>{return!0!==o[e.name]&&!0!==Ho[e.name]&&(t=e.name,n=e.value,!Wo[t]||Wo[t]<n);var t,n}));const l=[...s.map((({codec:e,name:t,value:n})=>function({codec:e,name:t,value:n}){return`add-limitation(scope=videoCodec&scopeName=${encodeURIComponent(e||"*")}&type=lowerBound&name=video.${encodeURIComponent(t)}&value=${encodeURIComponent(n)}&replace=true)`}({codec:e,name:t,value:n}))),...a.map((({codec:e,name:t,value:n})=>function({codec:e,name:t,value:n}){return`add-limitation(scope=videoCodec&scopeName=${encodeURIComponent(e||"*")}&type=upperBound&name=video.${encodeURIComponent(t)}&value=${encodeURIComponent(n)}&replace=true)`}({codec:e,name:t,value:n})))];return i&&"h264"!==r&&l.push(function(e){const{protocol:t,codec:n}=e;return`append-transcode-target-codec(type=videoProfile&context=streaming&protocol=${encodeURIComponent(t)}&videoCodec=${encodeURIComponent(n)})`}({protocol:e.protocol,codec:r})),l}(e),n=e.finalProfile.directStream.video.codecs.hevc;if("hevc"===e.media.videoCodec&&n){const{maxBitDepth:r}=n;t.push(function(e={}){const{maxBitDepth:t=8,protocol:n,supportsHDR:r=!1,supportsDolbyVision:i=!1}=e,s=["bt709","bt470m","bt470bg","smpte170m","smpte240m"];return t>=10&&s.push("bt2020-10"),t>=12&&s.push("bt2020-12"),t>=10&&(r||i)&&s.push("smpte2084"),`add-limitation(scope=videoTranscodeTarget&scopeName=hevc&scopeType=videoCodec&context=streaming&protocol=${n}&type=match&name=video.colorTrc&list=${s.join("|")}&isRequired=false)`}({protocol:e.protocol,maxBitDepth:r,supportsHDR:e.canDisplayHDR,supportsDolbyVision:e.canDisplayDolbyVision}))}let r=Object.keys(e.finalProfile.directStream.audio.codecs);return"dash"===e.protocol&&(r=r.filter((e=>!1===/^e?ac3$/.test(e)))),t.push(function(e){const t=e,{type:n="videoProfile",context:r="streaming",videoCodec:i,audioCodec:s,subtitleCodec:a}=t,o=((e,t)=>{var n={};for(var r in e)ko.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Lo)for(var r of Lo(e))t.indexOf(r)<0&&jo.call(e,r)&&(n[r]=e[r]);return n})(t,["type","context","videoCodec","audioCodec","subtitleCodec"]),l={type:n,context:r};return i&&(l.videoCodec=Array.isArray(i)?i.join(","):i),s&&(l.audioCodec=Array.isArray(s)?s.join(","):s),a&&(l.subtitleCodec=Array.isArray(a)?a.join(","):a),Object.assign(l,o),`append-transcode-target-codec(${g.Z.stringifyParams(l)})`}({protocol:e.protocol,audioCodec:r.join(",")})),t.join("+")}},s=(0,u.DB)("appModel").get("user").get("experienceSettings");s.get("forceTranscodeProtocolHLS")&&"dash"===i.transcodeProtocol&&(cl?s.get("autoAdjustQuality")?h.Z.warn("[Player] Experimental alternate streaming protocol for video playback is disabled because automatic quality adjustment is enabled"):(h.Z.warn("[Player] Experimental alternate streaming protocol for video playback is enabled"),i.transcodeProtocol="hls"):h.Z.warn("[Player] Experimental alternate streaming protocol for video playback is unsupported by this browser"));const a={subtitleSize:r.get("subtitleSize"),mediaBufferSize:102400},o=n||e.get("Media")[0];return o&&"livetv"===o.origin&&(i.allowDirectPlay=!1),ol(e,t,i,a,n)}(e,t,n)},pl=J.Z.extend({mixins:[te.Z],name:"AjaxQueue",queue:null,request:null,enabled:!1,destroyed:!1,initialize(e={}){this.queue=[],!1!==e.enabled&&this.enable()},enable(){this.enabled||this.destroyed||(this.enabled=!0,this.onEnabled())},disable(){this.enabled&&(this.enabled=!1,this.request=null,this.onDisabled())},destroy(){this.destroyed||(this.disable(),this.queue.length=0,this.destroyed=!0,this.onDestroyed())},send(e){e&&(this.queue.push(e),this._next())},_next(){if(!this._canNext())return;const e=this.queue.shift(),t=e&&this._getAjaxOptions(e);if(t){const e=a().ajax(t);e.always(this.onAjaxAlways.bind(this,e)),this.request=e}},_canNext(){return this.enabled&&!this.request},_getAjaxOptions:e=>e,onAjaxAlways(e){this.enabled&&e===this.request&&(this.request=null,this._next())},onEnabled(){this._next()},onDisabled(){},onDestroyed(){}});function ml(){const e=new pl;let t=null;return{setBaseUrl(e){t=e},trackEvent(n){if(!t)return void(0,L.Z)(!1,"Network metrics reporters requires a base URL to be set before tracking events");const r=g.Z.join([t,"collect/event"]),i=JSON.stringify(n);window.navigator.sendBeacon?window.navigator.sendBeacon(r,i):e.send({type:"POST",url:r,contentType:"text/plain",data:i})}}}n(39374);const hl=["enable","disable","set","start","trackClick","trackEvent","trackView","incrementPlaybackCount","addPlaybackTime","toJSON"],gl=["setBaseUrl","trackEvent"];var yl=n(89410),vl=n(78636),fl=n(14640),bl=n(62149),Sl=Object.defineProperty,Il=Object.prototype.hasOwnProperty,Zl=Object.getOwnPropertySymbols,Pl=Object.prototype.propertyIsEnumerable,El=(e,t,n)=>t in e?Sl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ml=(e,t)=>{for(var n in t||(t={}))Il.call(t,n)&&El(e,n,t[n]);if(Zl)for(var n of Zl(t))Pl.call(t,n)&&El(e,n,t[n]);return e};function Cl(e,t){const{server:n}=t,r=n.get("debugName");return h.Z.warn("[Connections] Aborting connection test for %s at %s because secure connections are disallowed",r,e),wl(0,t)}function wl(e,t){const{connection:n}=t,r=a().Deferred();return m().defer((()=>{n.set({currentTest:null,testState:yl.nZ}),r.reject(n)})),r.promise()}function Dl(e){const{server:t,connection:n}=e,r=t.resolveUrl(e.url||"/media/providers",{connection:n}),i=(0,u.DB)("appModel"),s=i.get("settings"),o=i.get("deviceSettings");if(!$.Z.allowHttpsMediaServerConnections&&n.get("isHttps")&&!t.get("isCloud"))return Cl(r,e);const l=s&&s.get("preferInsecureConnections");if(!t.get("httpsRequired")&&!t.get("isCloud")&&n.get("isHttps")&&"always"===l)return Cl(r,e);if(!t.get("httpsRequired")&&n.get("isHttps")&&l===Fi&&n.get("isPrivate")&&t.get("publicAddressMatches"))return function(e,t){const{server:n}=t,r=n.get("debugName");return h.Z.warn("[Connections] Aborting connection test for %s at %s because insecure connections are preferred",r,e),wl(0,t)}(r,e);if(!$.Z.allowMixedContent&&X.Z.isHostedHttps&&!n.get("isHttps"))return function(e,t){const{server:n}=t,r=n.get("debugName");return h.Z.warn("[Connections] Aborting connection test for %s at %s due to mixed content prevention",r,e),wl(0,t)}(r,e);const c=o&&o.get("rejectDirectConnections");return t.get("isCloud")||n.get("relay")||!c&&!$.Z.rejectDirectConnections?function(e,t){const{server:n,connection:r}=t,i=a().Deferred(),s=n.get("debugName"),o=(0,vl.Z)(n),l=Date.now();(0,h.Z)("[Connections] Testing connection for %s at %s",s,e);const c=[],d={dataType:"text",headers:{Accept:o.accept},timeout:n.connectionTestTimeout};c.push(n.getXHROptions(e,d));const p=!(0,bl.Z)(n);if(null==t.url&&p){const e=n.resolveUrl("/",{connection:r});(0,h.Z)("[Connections] Testing legacy connection for %s at %s",s,e),c.push(n.getXHROptions(e,d))}if($.Z.emulateBrokenHTTPS){const e=r.get("isHttps")&&!n.get("isCloud"),t="private"!==$.Z.emulateBrokenHTTPS||r.get("isPrivate");e&&t&&function(e){e.forEach((e=>{e.url="fail"+e.url}))}(c)}const m=c.map((e=>a().ajax(e))),g=(0,ye.Z)(...m);function y(e){r.get("relay")&&(0,u.DB)("metrics").trackEvent(Ml(Ml({},e),{event:xn.EE,interaction:!1,reason:1===r.server.get("connections").length?101:102,serverType:r.server.get("isShared")?"shared":"owned",latency:Date.now()-l}))}function v(t){(0,h.Z)("[Connections] %s connected at %s",s,e),r.set({currentTest:null,testState:yl.nm}),y({status:"success"}),i.resolve(r,t)}function f(t,n){const a={currentTest:null};if(t.some((e=>e.aborting)))(0,h.Z)("[Connections] Aborted pending connection test for %s at %s",s,e),a.testState=yl.c9;else{const r=function(e){return 401===e||403===e||406===e}(n)?yl.WY:yl.nZ;y({status:"failure",error:n}),t.forEach((t=>{h.Z.warn("[Connections] %s is %s at %s (Status %s)",s,r,e,t.status)})),a.testState=r}r.set(a),i.reject(r,t)}return r.set({currentTest:m,testState:yl.hA}),g.done((()=>{const[t,r]=m;let i;if(200!==t.status&&404!==t.status?i=t.status:r&&200!==r.status&&(i=r.status),void 0!==i)return void f(m,i);if(n.get("isCloud"))return void v();const l=o.parse(t.responseText),c=r?o.parse(r.responseText):void 0,d=n.parseResponse(a().extend(!0,{},l,c)),u=d.machineIdentifier,p=n.get("isTransient")?n.get("originalMachineIdentifier"):n.get("machineIdentifier");if(!u||p&&u!==p)h.Z.warn("[Connections] %s has an unexpected machine identifier at %s",s,e),f(m);else{!0===d.mediaProviders?d.mediaProviders=1:!1===d.mediaProviders?d.mediaProviders=0:r||(d.mediaProviders=1);const e=n.parse(d);n.get("isTransient")&&(e.machineIdentifier=n.get("machineIdentifier")),e.isInstallingServerUpdate=!1,e.isProvidersPending=!1,e.isProvidersPopulated=!0,(0,fl.Z)(e.providers,n),v(e)}})),i.promise()}(r,e):function(e,t){const{server:n}=t,r=n.get("debugName");return h.Z.warn("[Connections] Aborting connection test for %s at %s due to reject direct connection debug setting",r,e),wl(0,t)}(r,e)}var Tl=n(18305),Ol=n(17626);const xl=function(){const e=(0,u.DB)("appModel").get("ui"),t=e.get("audioVideoPlayer"),n=e.get("photoPlayer"),r=e.get("romPlayer"),i=(0,Tl.Z)(t),s=(0,Tl.Z)(n);return i===Ol.Z$||s===Ol.Z$||!!r&&(0,Tl.Z)(r)===Ol.Z$};var Al=n(77726);const Nl=(0,La.P1)(Al.Z,(e=>e.volume));var kl=n(56669),Ll=n(35589),jl=Object.defineProperty,Rl=Object.prototype.hasOwnProperty,Vl=Object.getOwnPropertySymbols,Ul=Object.prototype.propertyIsEnumerable,zl=(e,t,n)=>t in e?jl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bl=(e,t)=>{for(var n in t||(t={}))Rl.call(t,n)&&zl(e,n,t[n]);if(Vl)for(var n of Vl(t))Ul.call(t,n)&&zl(e,n,t[n]);return e};const _l=zt.ZP.prototype.sessionAttrs,{isCloud:Fl}=_l,Hl=((e,t)=>{var n={};for(var r in e)Rl.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Vl)for(var r of Vl(e))t.indexOf(r)<0&&Ul.call(e,r)&&(n[r]=e[r]);return n})(_l,["isCloud"]),Wl=zt.ZP.extend({name:"TransientServerModel",cache:null,persistInCache:!1,sessionAttrs:Bl(Bl({},Hl),{isTransient:Br.Z.boolean,originalMachineIdentifier:Br.Z.string}),derivedAttrs:Bl(Bl({},zt.ZP.prototype.derivedAttrs),{isCloud(){return this.get("originalMachineIdentifier")===Ll.X}}),defaults(){const e=zt.ZP.prototype.defaults.apply(this,arguments);return Bl(Bl({},e),{friendlyName:"Transient Server",isTransient:!0})},updateCacheKey(){},testConnection(e){if(this.get("originalMachineIdentifier")!==Ll.X)return zt.ZP.prototype.testConnection.apply(this,arguments);e.set({testState:yl.nm}),this.onConnectionTestSuccess(e)}});var Ql=n(27760),Gl=n(40807),Yl=n(70871),ql=n(52837),Kl=Object.defineProperty,$l=Object.prototype.hasOwnProperty,Xl=Object.getOwnPropertySymbols,Jl=Object.prototype.propertyIsEnumerable,ec=(e,t,n)=>t in e?Kl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tc=(e,t)=>{for(var n in t||(t={}))$l.call(t,n)&&ec(e,n,t[n]);if(Xl)for(var n of Xl(t))Jl.call(t,n)&&ec(e,n,t[n]);return e};const nc="ui/player/localCompanionPlayer/runLocalCompanionPlaybackAction",rc="ui/player/localCompanionPlayer/setTransientServer",ic="ui/player/localCompanionPlayer/mirrorLocalDetails",sc=(0,Gl.Z)(nc),ac=(0,Gl.Z)(rc),oc=(0,Gl.Z)(ic),lc={[nc](e,{type:t,action:n},r){const{type:i,payload:s={}}=n,a=e.get("ui"),o=t===Yl.pV?ql.pV:ql.Se,l=a.get(o+"Player");l.get("isOpen")&&l.get("playQueue")&&r({type:i,payload:tc(tc({},s),{playerType:o})})},[rc](e,t){e.set("transientServer",t)},[ic](e,t){}};var cc=n(35421),dc=n(4134),uc=n(43149),pc=n(74183),mc=n(53851),hc=Object.defineProperty,gc=Object.prototype.hasOwnProperty,yc=Object.getOwnPropertySymbols,vc=Object.prototype.propertyIsEnumerable,fc=(e,t,n)=>t in e?hc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const bc={"/player/timeline/subscribe":function(){(0,u.DB)("localCompanionTimelineManager").start()},"/player/timeline/unsubscribe":function(){Dc(),(0,u.DB)("localCompanionTimelineManager").stop()},"/player/mirror/details":function(e){const t=e.providerIdentifier&&e.providerIdentifier[0];let n,r;return wc().then((()=>Mc(e))).then((e=>(n=e,Cc(n)))).then((e=>(r=e.get(t||ri.Y3),r?r.populate({merge:!0}):a().Deferred().reject().promise()))).then((()=>function(e,t,n){const r=(n.key&&n.key[0]).replace("/children",""),i=new gt.Z({key:r},{server:e,provider:t});return Ic=r,i.populate().then((()=>Ic!==r?a().Deferred().reject().promise():{metadataItemModel:i}))}(n,r,e))).then((({metadataItemModel:e})=>{Pc(oc({serverEntityID:n.entityID(),providerEntityID:r.entityID(),key:e.get("key"),parentKey:e.get("parentKey"),type:e.get("type"),subtype:e.get("subtype")}))}))},"/player/playback/playMedia":function(e){const t=e.providerIdentifier&&e.providerIdentifier[0],n=e.type&&e.type[0],r=e.offset&&e.offset[0],i=e.mediaIndex&&e.mediaIndex[0],s=e.containerKey&&e.containerKey[0];let o,l;return Te.Z.execute("remotePlaybackUnlock").then((()=>Mc(e))).then((e=>(o=e,Cc(o)))).then((e=>{const n=(0,Ql.Z)(s);return n&&(l=e.get(t||ri.Y3),l)?l.populate().then((()=>({playQueueID:n}))):a().Deferred().reject().promise()})).then((({metadataItemModel:e,playQueueID:t})=>{const a=o.entityID(),c=l.entityID(),d=Yl.d2(n),u=null==r?null:parseInt(r,10),p=null==i?null:parseInt(i,10);if(e){const t=e.entityID();Pc(ja.wA({serverEntityID:a,providerEntityID:c,metadataItemEntityID:t,startMetadataItemEntityID:t,startOffsetMilliseconds:u,startMediaIndex:p,confirmPlayback:!0,confirmOffset:!0,options:{type:d,containerKey:s}}))}else Pc(ja.lh({serverEntityID:a,providerEntityID:c,playQueueType:d,playQueueID:t,startOffsetMilliseconds:u,startMediaIndex:p}))}))},"/player/playback/pause":e=>Ec(e,Ra.wO()),"/player/playback/play":e=>Ec(e,Ra.hY()),"/player/playback/stop":e=>Ec(e,ja.Mh()),"/player/playback/skipNext":e=>Ec(e,cc.o1()),"/player/playback/skipPrevious":e=>Ec(e,cc.oA()),"/player/playback/stepForward":e=>Ec(e,Ra.wW()),"/player/playback/stepBack":e=>Ec(e,Ra.QJ()),"/player/playback/skipTo":function(e){const t=decodeURIComponent(e.key[0]);Ec(e,cc.$Y({key:t}))},"/player/playback/seekTo":function(e){const t=parseInt(e.offset[0],10);Ec(e,Ra.O7({positionSeconds:Math.floor(t/1e3)}))},"/player/playback/refreshPlayQueue":function(e){Ec(e,cc.Ai())},"/player/playback/refreshStreams":function(e){Ec(e,Ra.km())},"/player/playback/setParameters":function(e){const t=e.volume&&e.volume[0],n=e.repeat&&e.repeat[0],r=e.shuffle&&e.shuffle[0],i=e.autoPlay&&e.autoPlay[0],s=e.subtitleColor&&e.subtitleColor[0],a=e.subtitlePosition&&e.subtitlePosition[0],o=e.subtitleSize&&e.subtitleSize[0],l=e.subtitleOffset&&e.subtitleOffset[0];if(null!=t){const n=parseInt(t,10);Ec(e,Ra.v6({volume:n}))}if(null!=n){const t=parseInt(n,10);Ec(e,cc.ul({repeatAll:t===uc.QN,repeatOne:t===uc.ry}))}null!=r&&Ec(e,cc.Yj()),null!=i&&Ec(e,cc.Sp({autoPlay:1===parseInt(e.autoPlay,10)})),null!=s&&Ec(e,Ra.EZ({subtitleColor:s})),null!=a&&Ec(e,Ra.Wj({subtitlePosition:a})),null!=o&&Ec(e,Ra.YA({subtitleSize:parseInt(o,10)})),null!=l&&Ec(e,Ra.Kb({subtitleOffset:parseInt(l,10),localUpdateOnly:!0}))},"/player/playback/setStreams":function(e){const t=e.audioStreamID&&e.audioStreamID[0],n=e.subtitleStreamID&&e.subtitleStreamID[0];null!=t&&Ec(e,Ra.mj({streamTypeString:"audio",streamID:t.toString()})),null!=n&&Ec(e,Ra.mj({streamTypeString:"subtitles",streamID:n.toString()}))},"/player/navigation/moveLeft":()=>Tc("moveLeft"),"/player/navigation/moveRight":()=>Tc("moveRight"),"/player/navigation/moveUp":()=>Tc("moveUp"),"/player/navigation/moveDown":()=>Tc("moveDown"),"/player/navigation/select":()=>Tc("select"),"/player/navigation/back":()=>Tc("back"),"/player/navigation/home":function(){wc().then((()=>{Pc((0,ze.EP)())}))}};let Sc,Ic;function Zc(e,t,n){return{commandID:e,body:Da({Response:{_code:t,_status:n}}),responseCode:t}}function Pc(e){(0,u.DB)("appStore").dispatch(e)}function Ec(e,t){const n=e.type&&e.type[0];n?(t.type===ja.qG&&Dc(),Pc(sc({type:n,action:t}))):h.Z.warn("[Companion] Ignored playback action due to missing type")}function Mc(e){const t=e.machineIdentifier[0],n=(0,u.DB)("appModel"),r=n.get("servers").get(t),i=n.get("transientServer");let s;Sc=t;const o={originalMachineIdentifier:t,accessToken:e.token&&e.token[0],mediaProviders:1};r&&(o.serverClass=r.get("serverClass"),o.publicAddressMatches=r.get("publicAddressMatches"),o.version=r.get("version")),i&&i.get("originalMachineIdentifier")===t?(s=i,s.set(o)):s=new Wl(((e,t)=>{for(var n in t||(t={}))gc.call(t,n)&&fc(e,n,t[n]);if(yc)for(var n of yc(t))vc.call(t,n)&&fc(e,n,t[n]);return e})({machineIdentifier:`transient-${t}-${(0,mc.Z)()}`},o),{parent:n});const l=r&&r.get("isConnected")&&r.get("activeConnection");let c;if(l)c={scheme:l.get("scheme"),address:l.get("address"),port:l.get("port"),uri:l.get("uri")};else{const t=e.port&&e.port[0];let n,r=e.protocol&&e.protocol[0],i=e.address&&e.address[0],s=i;if(!r&&!i)return h.Z.warn("[Companion] Unable to create a transient server without a protocol or address"),a().Deferred().reject().promise();"https"===r&&(i=(0,pc.Z)(i),$.Z.allowHttpsMediaServerConnections||(r="http",s=i)),n=`${r}://${s}`,t&&(n+=":"+t),c={scheme:r,address:i,port:t,uri:n}}return s.addConnection(c),s.testOnlyUntestedConnections().then((()=>Sc!==t?a().Deferred().reject().promise():(s.get("isTransient")&&Pc(ac(s)),s)))}function Cc(e,t){const n=(0,u.DB)("appModel").get("user"),r=e.get("isCloud")&&!e.get("isTransient")?n.get("providers"):e.get("providers");e.set({isProvidersPending:!0,isProvidersPopulated:!1,providersError:null});const i=r.populate();return i.then((()=>(e.set({isProvidersPending:!1,isProvidersPopulated:!0}),i)),(()=>(e.set({isProvidersPending:!1,providersError:{}}),i)))}function wc(){const e=a().Deferred();return(0,u.DB)("appModel").get("user").get("isLocked")?e.reject():e.resolve(),e.promise()}function Dc(){(0,u.DB)("appModel").get("user").get("isRemote")&&Pc((0,dc.xh)())}function Tc(e){ee.Z.trigger("companion:"+e),ee.Z.trigger("companion:key",e)}function Oc(e){const{path:t,query:n,commandID:r,supportsTimeline:i}=e,s=a().Deferred(),o=bc[t];if(function(){const e=(0,u.DB)("appModel").get("inputActivity");e&&e.notice()}(),!1!==i&&(0,u.DB)("localCompanionTimelineManager").start(),o)(o(n)||a().Deferred().resolve().promise()).done((()=>{(0,h.Z)(`[Companion] Successfully processed command from path "${t}"`);const e=Zc(r,200,"OK");s.resolve({controllerResponse:e})})).fail((()=>{h.Z.warn(`[Companion] Failed to process command from path "${t}"`);const e=Zc(r,400,"Bad Request");s.resolve({controllerResponse:e})}));else{h.Z.warn(`[Companion] Unable to handle command from unknown path "${t}"`);const e=Zc(r,400,"Bad Request");s.resolve({controllerResponse:e})}return s.promise()}var xc=n(25591);function Ac(e){const t=()=>e.get("deviceSettings"),n=()=>e.get("user").get("experienceSettings"),r={autoPlay:n,autoLogin:t,companion:n,language:n,shouldSyncSettings:t,subtitleColor:n,subtitlePosition:n,subtitleSize:n,volume:t};return{find:e=>r[e]().get(e),addCompanionChangeListener(t){e.on("change:user.change:experienceSettings.change:companion",t)}}}function Nc(e){return!!(function(e){return!(!e||e.get("isCloud")||"iOS"===e.get("platform")||!e.supports("companionProxy"))}(e)&&(t=e.get("activeConnection"),t&&t.get("isPrivate")&&t.get("isConnected")));var t}function kc(e){return!(!Nc(e)||e.get("isShared"))}const Lc=J.Z.extend({mixins:[te.Z],name:"CompanionServerManager",initialize(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers"),this._throttlePickCompanionServer=m().throttle(this._pickCompanionServer,2e3)},start(e){this.stop(),this.listenTo(this.servers,"change:connected change:activeConnection update",this._throttlePickCompanionServer),this.started=!0,this._pickCompanionServer()},stop(){this.stopListening(),this.started=!1},_pickCompanionServer(){this.started&&(this.companionServer&&Nc(this.companionServer)&&this.servers.contains(this.companionServer)||(this.companionServer=this.servers.find(kc)||this.servers.find(Nc),this.companionServer?((0,u.DB)("appStore").dispatch((0,ze.a7)({serverEntityID:this.companionServer.entityID()})),h.Z.info("[Companion] Found companion",this.companionServer.get("debugName"))):((0,u.DB)("appStore").dispatch((0,ze.yy)()),h.Z.warn("[Companion] No companion found"))))}}),jc=J.Z.extend({mixins:[te.Z],browserConnectionChangeDelay:2e3,initialize(e){m().bindAll(this,"onBrowserConnectionChange"),this.appModel=e.appModel,this.servers=this.appModel.get("servers"),this.settings=this.appModel.get("settings")},start(){this.stop();const e=a()(window);e.on("online",this.onBrowserConnectionChange),e.on("offline",this.onBrowserConnectionChange),this.listenTo(ee.Z,{"test:servers":this.onTestAllServers,"test:server":this.onTestServer}),this.listenTo(this.servers,{add:this.onServerAdd,remove:this.onServerRemove,reset:this.onServersReset,"error:connection":this.onServerConnectionError,"change:connections.add":this.onServerConnectionAdd,"change:connections.remove":this.onServerConnectionRemove,"change:connections.reset":this.onServerConnectionsReset,"change:connections.change:isConnected":this.onServerConnectionConnectedChange,"change:connections.change:sources.change":this.onServerConnectionSourcesChange,"change:accessToken":this.onServerAccessTokenChange,"change:isConnected":this.onServerConnectedChange,"change:isUnavailable":this.onServerUnavailableChange,"change:publicAddressMatches":this.onServerPublicAddressMatchesChange}),this.listenTo(this.settings,"sync",this.onSettingsSave),this.servers.invoke("testOnlyUntestedConnections")},stop(){this.stopListening();const e=a()(window);e.off("online",this.onBrowserConnectionChange),e.off("offline",this.onBrowserConnectionChange)},retryServerConnections:function(e){e.testAllConnections()},startFailedServerRetries(e){},stopFailedServerRetries(e){},_removeConnection(e){const{server:t}=e,n=An.Z.getActiveServers();if((0,h.Z)("[Connections] Removed connection %s from %s",e.id,t.get("debugName")),t.abortConnectionTest(e),n){const r=n.get(t.id),i=r&&r.get("connections");i&&i.get(e.id)&&(i.remove(e.id),i.length||n.remove(t.id),An.Z.debouncedSave())}},onBrowserConnectionChange(e){(0,h.Z)("[Connections] Browser online status changed to",window.navigator.onLine),window.clearTimeout(this.browserConnectionChangeTimeout),this.browserConnectionChangeTimeout=window.setTimeout((()=>{this.servers.invoke("testAllConnections")}),this.browserConnectionChangeDelay)},onTestAllServers(){this.servers.invoke("testAllConnections")},onTestServer(e){e.testAllConnections()},onServerAdd(e){e.testOnlyUntestedConnections()},onServerRemove(e){const t=An.Z.getActiveServers();let n;if(e.abortAllConnectionTests(),this.stopFailedServerRetries(e),t)if(e.get("isMerged")){const r=e.previous("machineIdentifier");r&&(n=t.get(r),n&&(n.set("machineIdentifier",e.id),An.Z.debouncedSave()))}else n=t.get(e.id),n&&(t.remove(e.id),An.Z.debouncedSave())},onServersReset(e,t){const n=t.previousModels;m().each(n,(t=>{e.contains(t)||(t.abortAllConnectionTests(),this.stopFailedServerRetries(t))}))},onServerConnectionError(e){h.Z.warn("[Connections] Possible connection error for %s, retrying connection tests",e.get("debugName")),e.get("isCloud")?this.appModel.get("user").signInUnsupervised():e.testAllConnections()},onServerConnectionAdd(e){const{server:t}=e;(0,h.Z)("[Connections] Added connection %s for %s",e.id,t.get("debugName")),e.get("relay")?t.get("connections").hasFailedEveryDirectConnection()&&t.testAllConnections():t.testConnection(e)},onServerConnectionRemove(e){this._removeConnection(e)},onServerConnectionsReset(e,t){const n=t.previousModels;m().each(n,(t=>{e.contains(t)||this._removeConnection(t)}))},onServerConnectionConnectedChange(e,t){const{server:n}=e,r=e.get("isBundled"),i=e.get("isFallback"),s=e.get("relay"),a=t&&!r&&!i&&!s,o=An.Z.getActiveServers();if(n.id&&!n.get("isCloud")&&a&&o){let t=o.get(n.id);if(t)t.copyFromModel(n);else{const e=m().omit(n.toJSON(),"connections");t=o.add(e,{merge:!0,parse:!0})}t.get("connections").add(e.toJSON(),{merge:!0,parse:!0}),An.Z.debouncedSave()}},onServerConnectionSourcesChange(e,t){const{server:n}=e,r=An.Z.getActiveServers(),i=r&&r.get(n.id);if(i){const n=i.get("connections").get(e.id);n&&(n.get("sources").set(t.toJSON()),An.Z.debouncedSave())}},onServerAccessTokenChange(e,t){if(!e.get("isCloud")){(0,h.Z)("[Connections] Access token for %s changed to %s",e.get("debugName"),t);const n=An.Z.getActiveServers(),r=n&&n.get(e.id);r&&(r.set("accessToken",t),An.Z.debouncedSave()),e.get("isUnauthorized")&&e.set("connectionTestResult",zt.ZP.connectionTestResults.PENDING),e.testAllConnections()}},onServerConnectedChange(e,t){t&&this.stopFailedServerRetries(e)},onServerUnavailableChange(e,t){t&&this.startFailedServerRetries(e)},onServerPublicAddressMatchesChange(e,t){void 0!==t&&e.testAllConnections()},onSettingsSave(e){e.changed.hasOwnProperty("preferInsecureConnections")&&this.servers.invoke("testAllConnections")}}),Rc=jc.extend({initialize(e){jc.prototype.initialize.apply(this,arguments),this._serverRetryManager=new Me.Z({callback:this.retryServerConnections.bind(this),logFormat:"[Connections] Retrying connection tests for %s in %s seconds"})},stop(){jc.prototype.stop.apply(this,arguments),this._serverRetryManager.stopAll()},startFailedServerRetries(e){this._serverRetryManager.start(e)},stopFailedServerRetries(e){this._serverRetryManager.stop(e)}});Object.prototype.hasOwnProperty,Object.getOwnPropertySymbols,Object.prototype.propertyIsEnumerable;const Vc=["page","type","style","mode"];var Uc=n(46053),zc=n(19695),Bc=n(58698);const _c=/0/g,Fc=()=>(0|16*Math.random()).toString(16),Hc=function(){return"00000000-0000-4000-8000-000000000000".replace(_c,Fc)};var Wc=n(2200),Qc=Object.defineProperty,Gc=Object.prototype.hasOwnProperty,Yc=Object.getOwnPropertySymbols,qc=Object.prototype.propertyIsEnumerable,Kc=(e,t,n)=>t in e?Qc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$c=(e,t)=>{for(var n in t||(t={}))Gc.call(t,n)&&Kc(e,n,t[n]);if(Yc)for(var n of Yc(t))qc.call(t,n)&&Kc(e,n,t[n]);return e};const Xc=J.Z.extend({mixins:te.Z,initialize(e){this.privacySettings=null,this.defaults={},this._pendingPrivacyRequest=null,this._pendingEvents=[],this.debouncedFetchPrivacySettings=m().debounce(this.fetchPrivacySettings,250),this.isPlaybackActive=e.isPlaybackActive,this.enable()},enable(){this.enabled=!0},disable(){this.enabled=!1},set(e){this.defaults=$c($c({},this.defaults),e)},setUser(e){this.set({userId:e.id}),this.defaults.context||(this.defaults.context={}),this.defaults.context.user=e.get("subscriptions").reduce(((e,t)=>(e[t.get("type")]=t.get("mode"),e)),{anonymous:e.get("anonymous")})},fetchPrivacySettings(){this.privacySettings=null,this._pendingPrivacyRequest&&(this._pendingPrivacyRequest.abort(),this._pendingPrivacyRequest=null);const e=(0,u.DB)("appModel").get("user");if(!e.server.get("isConnected"))return a().Deferred().reject().promise();const t=e.server.getXHROptions("/api/v2/user/privacy",{dataType:"json"});return this._pendingPrivacyRequest=a().ajax(t),this._pendingPrivacyRequest.promise().done((t=>{this.setUser(e),this.setPrivacySettings(t),this.trackPendingEvents()})).always((()=>{this._pendingPrivacyRequest=null}))},setPrivacySettings(e){e&&e.metrics&&(this.privacySettings=$c($c({},e),{metrics:e.metrics.reduce(((e,t)=>(e[t.event]=t.status,e)),{})}),(0,u.DB)("metricsReporter").setBaseUrl(e.baseUrl))},incrementPlaybackCount(){const e="playbackCount",t=(0,u.DB)("sessionStats");t.save(e,t.get(e)+1)},addPlaybackTime(e){const t="playbackTime",n=(0,u.DB)("sessionStats");n.save(t,n.get(t)+e)},trackView(e,t){const n=xn.fB,r=$c({event:n,interaction:!0,properties:e},t),i=Uc.Z.measure(function(e,t){let n=e;for(let e=0;e<Vc.length;e++){const r=t[Vc[e]];null!=r&&(n=`${n}:${r}`)}return n}(n,e),`${n}:${e.page}-start`);i&&(r.properties=$c($c({},r.properties),{latency:Math.round(i.duration)})),this.trackEvent(r)},trackClick(e,t){this.trackEvent($c({event:xn.Ip,interaction:!0,properties:e},t))},trackEvent(e){var t;if(!this.enabled)return;const n=null==(t=e.properties)?void 0:t.contextTuple;n&&(delete e.properties.contextTuple,Object.assign(e.properties,(0,Wc.IF)(n)));const r=(0,u.DB)("sessionStats"),i=r.get("sessionId"),s=r.get("anonymousSessionId");if(!this.privacySettings)return void this._pendingEvents.push($c($c({},e),{sessionIdentifier:i,anonymousSessionIdentifier:s}));const o=a().extend(!0,{},this.defaults,e);o.sessionIdentifier||(o.sessionIdentifier=i),o.anonymousSessionIdentifier||(o.anonymousSessionIdentifier=s);const l=Date.now();if(e.event!==xn.$R&&e.event!==xn.o$){const t=r.get("lastInteractionTime"),n=r.get("lastPlayingHeartbeatTime");if(l-Math.max(t,n)>18e5)return void this.flushSession().then((()=>{this.trackEvent(e)}))}const c=this.privacySettings.metrics[o.event];c&&("off"===c||(o.interaction&&(0,Bc.Z)(),"anonymous"===c&&(delete o.userId,o.deviceIdentifier=(0,u.DB)("appModel").get("anonymousClientID"),o.sessionIdentifier=o.anonymousSessionIdentifier),delete o.anonymousSessionIdentifier,(0,u.DB)("metricsReporter").trackEvent(o)))},trackPendingEvents(){const e=this._pendingEvents;let t=0;for(;t<e.length;)this.trackEvent(e[t]),t++;this._pendingEvents=[]},start(){const e=(0,u.DB)("appModel").get("user");return this.flushSession().then((()=>(0,U.Z)(e.server.populate()))).then((()=>this.fetchPrivacySettings())).always((()=>{this.listenTo(e.server,"change:isConnected",this.onCloudServerChange),this.listenTo(e,"change:id",this.onUserIDChange)})),a().Deferred().resolve().promise()},flushSession(){const e=(0,u.DB)("sessionStats").populate().then((()=>{this.stopSession(),this.startSession()}),(()=>{this.startSession()}));return(0,U.Z)(e)},startSession(){const e=Date.now(),t=(0,u.DB)("sessionStats");if(!this.interval){const e=$.Z.heartbeatInterval;this.interval=window.setInterval((()=>{const e=Date.now(),n={heartbeatTime:e};this.isPlaybackActive()&&(n.lastPlayingHeartbeatTime=e),t.set(n)}),e)}t.save({sessionId:Hc(),anonymousSessionId:Hc(),startTime:e,lastInteractionTime:e,heartbeatTime:e,lastPlayingHeartbeatTime:null,playbackCount:0,playbackTime:0});const n=xn.o$,r=Uc.Z.endPeriod(n),i={event:n,interaction:!0,properties:{mode:"uno"}};r&&(i.properties.latency=Math.round(r.duration)),this.trackEvent(i)},stopSession(){const e=(0,u.DB)("sessionStats"),t=e.get("heartbeatTime"),n=e.get("playbackCount"),r=e.get("playbackTime"),i=e.get("startTime");this.trackEvent({event:xn.$R,interaction:!1,properties:{sessionLength:Math.floor((t-i)/1e3),playbackCount:n,playbackTime:(0,zc.Z)(r)}})},toJSON(){return $c({},this.defaults)},onCloudServerChange(e,t){t?this.fetchPrivacySettings():this.privacySettings=null},onUserIDChange(){this.privacySettings=null,this.debouncedFetchPrivacySettings()}});var Jc=n(53145),ed=n(47486);const td=J.Z.extend({mixins:[te.Z],initialize(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers")},start(e){this.stop(),this.listenTo(this.appModel,{"change:primaryServer":this.onPrimaryServerChange,"change:primaryServer.change:isPrimaryEligible":this.onPrimaryServerEligibleChange,"change:primaryServer.change:isOutOfDate":this.onPrimaryServerOutOfDateChange,"change:isWaitingForServers":this.onWaitingForServersChange,"change:primaryServer.change:isRelayed":this.onPrimaryServerIsRelayedChange}),this.listenTo(this.servers,{"update reset":this.onServersUpdate}),this._setPrimaryServer(ed.STARTUP)},stop(){this.stopListening(),this._primaryServerPromise=null},_setPrimaryServer(e){if(this._primaryServerPromise)return this._primaryServerPromise;const t=(0,u.DB)("appStore");t.dispatch((0,ze.I2)());const n=this._waitForPrimaryServer();return this._primaryServerPromise=n,n.done((r=>{if(n===this._primaryServerPromise){if(this._primaryServerPromise=null,this.appModel.get("primaryServer"))return;const n=!r.get("version")&&!r.get("isRejected");r.get("isOutOfDate")||n?((0,h.Z)("[Primary Server] The server, %s, is waiting for a version",r.get("debugName")),this._setPrimaryServer(e)):t.dispatch((0,ze.h9)({machineIdentifier:r.id,metricsProperties:{context:e}}))}})).fail((()=>{n===this._primaryServerPromise&&(this._primaryServerPromise=null,this.appModel.set("isWaitingForPrimaryServer",!1))})),n},_waitForPrimaryServer(){const e=this.appModel.get("user").get("lastPrimaryServerID");let t;return e?((0,h.Z)("[Primary Server] Waiting for the last primary server, %s, to connect",e),t=this.servers.populateServer({machineIdentifier:e,isPrimaryEligible:!0,isOutOfDate:!1})):t=a().Deferred().reject().promise(),t=t.then(null,(()=>((0,h.Z)("[Primary Server] Waiting for any owned server to connect"),this.servers.populateServer({isFullOwnedServer:!0,isPrimaryEligible:!0,isOutOfDate:!1})))),t=t.then(null,(()=>((0,h.Z)("[Primary Server] Waiting for any eligible server to connect"),this.servers.populateServer({isPrimaryEligible:!0,isOutOfDate:!1})))),t=t.then(null,(()=>((0,h.Z)("[Primary Server] Waiting for any eligible server"),this.servers.findServer({isPrimaryEligible:!0,isOutOfDate:!1})))),t},onPrimaryServerChange(e,t){An.Z.flushDebouncedSave();const n=e.previous("primaryServer");n&&this.stopListening(n),t?(h.Z.info("[Primary Server] %s is now the primary server",t.get("debugName")),e.get("user").set("lastPrimaryServerID",t.id),t.get("isRelayed")&&(0,u.DB)("appStore").dispatch((0,Jc.J3)({machineIdentifier:t.id,serverName:t.get("friendlyName")}))):e.get("isWaitingForPrimaryServer")?(0,h.Z)("[Primary Server] Waiting to set the primary server"):h.Z.warn("[Primary Server] No primary server found")},onPrimaryServerEligibleChange(e,t){const n=this.appModel.get("user");t||((0,h.Z)("[Primary Server] The previous primary server, %s, is unauthorized",e.get("debugName")),n.unset("lastPrimaryServerID"),this._setPrimaryServer(ed.FALLBACK))},onPrimaryServerOutOfDateChange(e,t){const n=this.appModel.get("user");t&&((0,h.Z)("[Primary Server] The previous primary server, %s, is out of date",e.get("debugName")),n.unset("lastPrimaryServerID"),this._setPrimaryServer(ed.FALLBACK))},onWaitingForServersChange(e,t){if(t){const t=e.get("primaryServer"),n=!t||!this.servers.get(t.id),r=e.get("isWaitingForPrimaryServer");n&&!r&&this._setPrimaryServer(ed.FALLBACK)}},onPrimaryServerIsRelayedChange(e,t){t&&(0,u.DB)("appStore").dispatch((0,Jc.J3)({machineIdentifier:e.id,serverName:e.get("friendlyName")}))},onServersUpdate(){const e=this.appModel.get("user"),t=this.appModel.get("primaryServer");t?t&&!this.servers.get(t.id)&&((0,h.Z)("[Primary Server] The previous primary server, %s, was removed",t.get("debugName")),e.unset("lastPrimaryServerID"),this._setPrimaryServer(ed.FALLBACK)):this._setPrimaryServer(ed.STARTUP)}}),nd=J.Z.extend({mixins:[te.Z],initialize(e){this.appModel=e.appModel},start(){const e=this.appModel.get("user");this.populateCloudProviders(e.get("providers")),this.listenTo(this.appModel,{"change:user.change:providers.add":this.onProviderAdd})},stop(){this.stopListening()},populateCloudProviders(e){e.each((e=>{this.populateCloudProvider(e)}))},populateCloudProvider(e){e.get("isPopulated")||(0,u.DB)("appStore").dispatch((0,Ys.RG)({providerEntityID:e.entityID(),options:{merge:!0}}))},onProviderAdd(e){this.populateCloudProvider(e)}});function rd(e,t,n){return function(r){return r.server===e&&r.connection.id===t.id&&r.url===n}}const id=J.Z.extend({initialize(e){this.appModel=e.appModel,this.queued=[],this.executing=[],this.maximumConcurrent=$.Z.maximumConcurrentConnectionTests,this.throttledStartProcessing=m().throttle(this._startProcessing.bind(this),50,{leading:!1})},queueConnectionTest({server:e,connection:t,url:n}){const r=this._queuedOrExecuting(e,t,n);if(r)return r.deferred.promise();const i=a().Deferred();return this.queued.push({server:e,connection:t,url:n,deferred:i}),this._sortQueue(),this.throttledStartProcessing(),i.promise()},abortConnectionTest({server:e,connection:t,url:n}){return this._abortCurrentTest(e,t,n),this._removeQueuedOrExecuting(e,t,n),a().Deferred().resolve().promise()},reset(){for(this.queued.length=0;this.executing.length>0;)this.abortConnectionTest(this.executing[0])},_sortQueue(){const e=this.appModel.get("user").get("lastPrimaryServerID");this.queued.sort(((t,n)=>{const r=t.server,i=n.server,s=t.connection,a=n.connection,o=this._isManualConnection(s),l=this._isManualConnection(a),c=this._isMatchingLocation(r,s),d=this._isMatchingLocation(i,a);return r.id===e&&i.id!==e?-1:i.id===e&&r.id!==e?1:r.get("isCloud")&&!i.get("isCloud")?-1:i.get("isCloud")&&!r.get("isCloud")?1:!s.get("relay")&&a.get("relay")?-1:!a.get("relay")&&s.get("relay")?1:!s.get("isConnected")&&a.get("isConnected")?-1:!a.get("isConnected")&&s.get("isConnected")?1:!r.get("isShared")&&i.get("isShared")?-1:!i.get("isShared")&&r.get("isShared")?1:r.get("isFullServer")&&!i.get("isFullServer")?-1:i.get("isFullServer")&&!r.get("isFullServer")?1:o&&!l?-1:l&&!o?1:s.get("isBundled")&&!a.get("isBundled")?-1:a.get("isBundled")&&!s.get("isBundled")?1:c&&!d?-1:d&&!c?1:0}))},_startProcessing(){m().times(this.maximumConcurrent-this.executing.length,this._process.bind(this))},_process(){if(this.executing.length>=this.maximumConcurrent)return;if(!this.queued.length)return;const e=this.queued.shift(),{server:t,connection:n,url:r}=e;this._abortCurrentTest(t,n,r);const i=(0,u.DB)("testServerConnection")({server:t,connection:n,url:r});this.executing.push(e),i.done(((t,n)=>{e.deferred.resolve(t,n)})),i.fail(((t,n)=>{e.deferred.reject(t,n)})),i.always((()=>{const t=this.executing.indexOf(e);this.executing.splice(t,1),this._process()}))},_abortCurrentTest(e,t,n){t.get("currentTest")&&t.get("currentTest").forEach((r=>{const i=e.resolveUrl(n||r.url,{connection:t});r&&"pending"===r.state()&&((0,h.Z)("[Connections] Aborting pending connection test for %s at %s",e.get("debugName"),i),Z.Z.abort(r.rid),r.abort())}))},_isManualConnection:e=>e.get("sources").some((e=>0===e.id.indexOf("manualServer"))),_isMatchingLocation(e,t){const n=e.get("publicAddressMatches"),r=t.get("isPrivate");return n&&r||!n&&!r},_queuedOrExecuting(e,t,n){const r=rd(e,t,n);return m().find(this.executing,r)||m().find(this.queued,r)},_removeQueuedOrExecuting(e,t,n){const r=rd(e,t,n),i=m().findIndex(this.executing,r),s=m().findIndex(this.queued,r);i>=0&&this.executing.splice(i,1),s>=0&&this.queued.splice(s,1)}});var sd=n(6272),ad=n(319),od=n(99340),ld=n(59194),cd=n(19201),dd=Object.defineProperty,ud=Object.prototype.hasOwnProperty,pd=Object.getOwnPropertySymbols,md=Object.prototype.propertyIsEnumerable,hd=(e,t,n)=>t in e?dd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function gd(e){const t=((e,t)=>{for(var n in t||(t={}))ud.call(t,n)&&hd(e,n,t[n]);if(pd)for(var n of pd(t))md.call(t,n)&&hd(e,n,t[n]);return e})({entityID:e.entityID()},e.toJSON());return(0,cd.Z)(t)}const yd=Object.keys(od.Z.prototype.syncedAttrs),vd=J.Z.extend({mixins:[te.Z],initialize(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers")},start(){this.stop(),this.listenTo(this.servers,{"change:promiseState":this.onServerPromiseStateChange,remove:this.onServerRemove,"update reset":this.onServersUpdateReset,"change:resources.add":this.onResourceAdd,"change:resources.remove":this.onResourceRemove,"change:resources.update":this.onResourcesUpdate,"change:resources.reset":this.onResourcesReset,"change:resources.change:presence":this.onResourcesPresenceChange,"change:resources.change:connections.update":this.onResourceConnectionsUpdate,"change:isConnected":this.onConnectedChange,"change:desktop.change:isSettingsPopulated":this.onSettingsPopulatedChange}),yd.forEach((e=>{this.listenTo(this.servers,"change:"+e,this.onStoredServerAttributeChange.bind(this,e))})),this.listenTo(ee.Z,"discover:servers",this.onDiscoverServers),this._setAuthorized(),this._checkFoundAllServers()},stop(){this.stopListening()},_checkFoundAllServers(){this.servers.shouldWaitForInitialServers()||this.servers.shouldWaitForResources()||this.servers.shouldWaitForPendingServers()?this._waitForServers():this._foundAllServers()},_waitForServers(){this.servers.waitForServers(),(0,gs.c9)((()=>{this.appModel.set("isWaitingForServers",!0)}))},_foundAllServers(){this.servers.foundAllServers(),(0,gs.c9)((()=>{this.appModel.set("isWaitingForServers",!1)}))},_fetchResources(e){if(e.get("isRejected"))return h.Z.warn("[Servers] Failed to request resources through %s",e.get("debugName")),e.set({isResourcesPending:!1,hasFailedResources:!0,isDownForMaintenance:!1}),a().Deferred().reject().promise();if(!e.get("isResolved"))return(0,h.Z)("[Servers] Finding resources through unresolved cloud server %o, resolving",e.get("debugName")),e.populate().then((()=>this._fetchResources(e)));(0,h.Z)("[Servers] Finding resources through %s",e.get("debugName")),this._waitForServers(),e.set("isResourcesPending",!0);const t=e.get("resources");return t.fetch().done((()=>{(0,h.Z)("[Servers] Found %s resources through %s",t.length,e.get("debugName")),e.set({isResourcesPending:!1,isResourcesPopulated:!0,hasFailedResources:!1,isDownForMaintenance:!1})})).fail(((t,n)=>{h.Z.warn("[Servers] Failed to request resources through %s",e.get("debugName")),e.set({isResourcesPending:!1,hasFailedResources:!0,isDownForMaintenance:503===n.status})})).always((()=>{this._checkFoundAllServers()}))},_convertResourceToServer:e=>((0,h.Z)("[Servers] %s was found through %s",e.get("name"),e.server.get("debugName")),(0,sd.Z)(e)),_removeResource(e){(0,h.Z)("[Servers] %s was removed as a resource from %s",e.get("name"),e.server.id);const t=this.servers.get(e.id);t&&t.removeSource(e.server.id)},_pruneStaleSources(e){const t=e.get("resources");let n=this.servers.length-1;for(;n>=0;){const r=this.servers.at(n),i=t.get(r.id);if(i){const t=r.get("connections");let n=t.length-1;for(;n>=0;){const r=t.at(n);r.get("sources").get(e.id)&&(i.get("connections").get(r.id)||r.get("sources").remove(e.id)),n--}}else r.removeSource(e.id);n--}},_setAuthorized(){const e=!!this.servers.findWhere({isConnected:!0,isCloud:!1}),t=!!this.servers.findWhere({isResolved:!0,isCloud:!0});this.appModel.set("authorized",e||t)},onServerPromiseStateChange(e,t){e.get("resources")&&this._fetchResources(e),this._setAuthorized(),this._checkFoundAllServers()},onStoredServerAttributeChange(e,t,n){const r=An.Z.getActiveServers(),i=r&&r.get(t.id);i&&null!=n&&i.get(e)!==n&&(i.set(e,n),An.Z.debouncedSave())},onServerRemove(e){h.Z.warn("[Servers] %s was removed",e.get("debugName")),e.cache.remove(e),ee.Z.trigger("clearWhere:cache",{server:e})},onServersUpdateReset(){this._setAuthorized(),this._checkFoundAllServers()},onDiscoverServers(){const e=this.appModel.get("cloudServer");this._fetchResources(e)},onResourceAdd(e){if(m().contains(e.get("provides"),"server")){const t=this._convertResourceToServer(e);t.get("isMobileServer")||this.servers.add(t)}},onResourceRemove(e){this._removeResource(e)},onResourcesUpdate(e){this._pruneStaleSources(e.server),this._checkFoundAllServers()},onResourcesReset(e,t){const n=t.previousModels;m().each(n,(t=>{e.contains(t)||this._removeResource(t)})),this._checkFoundAllServers()},onResourcesPresenceChange(e){const t=this.servers.get(e.id);t&&t.set("presence",e.get("presence"))},onResourceConnectionsUpdate(e){const t=e.parent,n=this.servers.get(t.id);n&&((0,ad.Z)(n,t),this._pruneStaleSources(e.server),this._checkFoundAllServers())},onConnectedChange(e,t){if(!t)return;const n=(0,u.DB)("appStore"),r=gd(e);n.dispatch(Jt.Z.actions.connected({server:r})),e.get("isFullOwnedServer")&&(n.dispatch(Xt.Z.actions.fetchRequested({server:r})),n.dispatch((0,ld.R_)({serverEntityID:e.entityID()})))},onSettingsPopulatedChange(e,t){if(t){const t=e.get("settings"),n=t.get("AcceptedEULA");n&&!1===n.get("value")&&!window.location.hash.includes("/setup")&&(0,Lt.Z)("serverSetup",{machineIdentifier:t.server.id})}}});var fd=n(29313);const bd=J.Z.extend({mixins:[te.Z],initialize(e){this.appModel=e.appModel},start(){this.stop(),this.listenTo(this.appModel.get("servers"),{"change:isConnected":this.onServerIsConnectedChange,"change:isInstallingServerUpdate":this.onIsInstallingServerUpdateChange})},stop(){this.stopListening()},onServerIsConnectedChange(e,t){t&&u.DB("appStore").dispatch((0,fd.Tz)({serverEntityID:e.entityID()}))},onIsInstallingServerUpdateChange(e,t){t||u.DB("appStore").dispatch((0,fd.Tz)({serverEntityID:e.entityID()}))}});var Sd=n(11354),Id=n(86829),Zd=n(36600),Pd=n(94716),Ed=n(3386),Md=n(97606),Cd=n(81324);const wd=J.Z.extend({mixins:[te.Z],initialize(e){this.appModel=e.appModel,this.debouncedSaveTimeout=null},start(){this.listenTo(this.appModel,{"change:user.change:providers.add":this.onCloudProviderAdd,"change:user.change:providers.change:isPending":this.onCloudProviderIsPendingChange,"change:user.change:isProvidersPending":this.onCloudProvidersIsPendingChange}),this.listenTo(this.appModel.get("servers"),{"change:isConnected":this.onServerIsConnectedChange,"change:isProvidersPending":this.onServerIsProvidersPendingChange,add:this.onServerAdd,"change:friendlyName":this.onServerAttrChanged,"change:sourceTitle":this.onServerAttrChanged}),this.listenTo(this.appModel.get("cloudServer"),{"change:isResourcesPending":this.onCloudReadyChange,"change:hasFailedResources":this.onCloudReadyChange})},_getPinnedSources(){return this.appModel.get("user").get("experienceSettings").get("sidebarSettings").get("pinnedSources")},_shouldRemoveHiddenSource(e){const t=e.get("hiddenAt");return t>0&&Date.now()-t>604800},_hideCustomHomeHubs(e){e.forEach((e=>{e.get("isHidden")?this._shouldRemoveHiddenSource(e)&&(e.trigger("destroy",e,e.collection),this._debouncedSaveExperienceSettings()):(e.set({isHidden:!0,hiddenAt:Date.now()}),this._debouncedSaveExperienceSettings())}))},_hidePinnedSources(e){e.forEach((e=>{e.get("isHidden")?this._shouldRemoveHiddenSource(e)&&(e.trigger("destroy",e,e.collection),this._debouncedSaveExperienceSettings()):(e.set({isHidden:!0,hiddenAt:Date.now()}),this._debouncedSaveExperienceSettings())}))},_hideSourcesWithNoServer(){const e=this.appModel.get("servers"),t=this._getPinnedSources().filter((t=>!e.get(t.get("machineIdentifier"))));this._hidePinnedSources(t)},_hideSourcesWithNoProvider(e,t,n,r){if(e.get("isConnected")&&n&&!r){const n=e.get("machineIdentifier"),r=this._getPinnedSources().filter((e=>{const r=e.get("machineIdentifier"),i=e.get("providerIdentifier");return r===n&&!t.get(i)}));this._hidePinnedSources(r)}},_hideCloudSourcesWithNoProvider(e){const t=this.appModel.get("cloudServer");this._hideSourcesWithNoProvider(t,e.get("providers"),e.get("isProvidersPopulated"),e.get("providersError"))},_hideServerSourcesWithNoProvider(e){this._hideSourcesWithNoProvider(e,e.get("providers"),e.get("isProvidersPopulated"),e.get("providersError"))},_updateStoredPinnedSources(e,t){const n=[];this._getPinnedSources().forEach((r=>{const i=(0,Id.Z)(r.toJSON());if(i.machineIdentifier!==e.machineIdentifier||i.providerIdentifier!==t.identifier)return;const s=(0,Md.Z)(t,i.directoryID);if(!s)return void(e.isConnected&&t.isPopulated&&n.push(r));const a=(0,Pd.Z)(t,s),o=(0,Id.Z)((0,Sd.Z)({sourceType:a?a.key:null,sourceServer:e,sourceProvider:t,sourceDirectory:s}));r.get("isHidden")&&(o.isHidden=!1,o.hiddenAt=null),(0,Cd.Z)(i,o)||(r.set(o),this._debouncedSaveExperienceSettings())})),this._hidePinnedSources(n)},_autoPinSources(e,t){const n=this.appModel.get("user").get("experienceSettings"),r=n.get("autoPinnedProviders"),i=n.get("sidebarSettings"),s=i.get("pinnedSources"),a=(0,xi.Z)(e.machineIdentifier,t.identifier);if(!ri.wB(t.identifier,[ri.uk,ri.vP])||r.includes(a))return;n.set({autoPinnedProviders:[...r,a]}),this._debouncedSaveExperienceSettings();const o=(0,Ed.Z)(t);if(!i.get("hasCompletedSetup")||!o||!o.directories)return;const l=o.directories.reduce(((n,r)=>{const i=(0,Pd.Z)(t,r),a=(0,Zd.Z)(i?i.key:null,e.machineIdentifier,t.identifier,r.id);if(i&&!s.get(a)){const s=(0,Sd.Z)({sourceType:i?i.key:null,sourceServer:e,sourceProvider:t,sourceDirectory:r});n.push((0,Id.Z)(s))}return n}),[]);l.length>0&&(0,u.DB)("appStore").dispatch((0,$s.W1)({sources:l,interaction:!1}))},_processSources(e,t){t.isPopulated&&(this._updateStoredPinnedSources(e,t),this._autoPinSources(e,t))},_debouncedSaveExperienceSettings(){const e=this.appModel.get("user").get("experienceSettings");e.set({isDirty:!0}),this.debouncedSaveTimeout&&window.clearTimeout(this.debouncedSaveTimeout),this.debouncedSaveTimeout=window.setTimeout((()=>{e.get("isDirty")&&(0,u.DB)("appStore").dispatch((0,dc.LN)())}),1e3)},_processCloudProviderChange(e){const t=this.appModel.get("cloudServer").toJSON(),n=e.toJSON();this._processSources(t,n)},_processServerChange(e){if(!e.get("isConnected")||!e.get("isProvidersPopulated"))return;const t=e.toJSON();t.providers.forEach((e=>this._processSources(t,e)))},onCloudProviderAdd(e){this._processCloudProviderChange(e)},onCloudProviderIsPendingChange(e,t){t||this._processCloudProviderChange(e)},onCloudProvidersIsPendingChange(e,t){t||this._hideCloudSourcesWithNoProvider(e)},onServerAttrChanged(e){this._processServerChange(e)},onServerIsConnectedChange(e,t){t||this._processServerChange(e)},onServerIsProvidersPendingChange(e,t){t||(this._hideServerSourcesWithNoProvider(e),this._processServerChange(e))},onServerAdd(e){this._processServerChange(e)},onCloudReadyChange(e){e.get("isResourcesPending")||e.get("hasFailedResources")||this._hideSourcesWithNoServer()}});function Dd(e,t){const n=e.get("user"),r=()=>{i&&(i=window.clearTimeout(i)),t(n,n.get("isSignedIn"))};let i=window.setTimeout(r,0);return n.on("change:isSignedIn",r),()=>{i&&(i=window.clearTimeout(i)),n.off("change:isSignedIn",r)}}var Td=n(29150),Od=n(30983);const xd=window.console.error.bind(window.console,"[Events]");class Ad{constructor(){this.listeners=new Map}destroy(){this.removeAllListeners()}addListener(e,t){const n=this.listeners.get(e)||new Set;this.listeners.has(e)||this.listeners.set(e,n),n.add(t)}emit(e,...t){var n;null==(n=this.listeners.get(e))||n.forEach((e=>{try{e(...t)}catch(e){xd(e)}}))}removeListener(e,t){var n;null==(n=this.listeners.get(e))||n.delete(t)}removeAllListeners(){this.listeners.forEach((e=>e.clear()))}}class Nd{static fromJSON(e){const{playing:t,index:n,count:r,breakPosition:i}=e;return new Nd(t,n,r,i)}constructor(e,t,n,r){this.breakPositionSeconds=null!=r?r:null,this.displayIndex=null!=t?t:null,this.displayTotal=null!=n?n:null,this.isPlaying=e}toJSON(){const e={playing:this.isPlaying};return null!=this.breakPositionSeconds&&(e.breakPosition=this.breakPositionSeconds),null!=this.displayIndex&&(e.index=this.displayIndex),null!=this.displayTotal&&(e.count=this.displayTotal),e}toString(){return JSON.stringify(this.toJSON())}}class kd{static fromJSON(e){if(!e.name)return;const t=JSON.parse(e.name);return new kd(t.uri,Nd.fromJSON(t.ads))}constructor(e,t){this.ad=t||new Nd(!1),this.sourceUri=e}toJSON(){const e={ads:this.ad.toJSON(),uri:this.sourceUri};return{name:JSON.stringify(e)}}}const Ld=/_+$/;class jd{static fromJSON(e){const{deviceIdentifier:t,deviceName:n,userID:r}=e;return new jd(r,t,n)}static fromString(e){const t=e.replace(Ld,"");return jd.fromJSON(JSON.parse(t))}constructor(e,t,n){this.id="number"==typeof e?e:parseInt(e,10),this.deviceIdentifier=t,this.deviceName=n}toJSON(){const{deviceIdentifier:e,deviceName:t,id:n}=this;return{deviceIdentifier:e,deviceName:t,userID:String(n)}}toString(){return JSON.stringify(this.toJSON())}}class Rd{constructor(e,t){this.type="Hello",this.roomID=t,this.user=e}static fromJSON(e){return new Rd(jd.fromString(e.username),e.room.name)}toJSON(){return{[this.type]:{room:{name:this.roomID},username:this.user.toString(),version:"1.6.4"}}}}class Vd{static fromJSON(e,t){return new Vd(jd.fromString(e),t.isReady||!1,t.position,kd.fromJSON(t.file))}constructor(e,t,n,r){this.file=r||null,this.isReady=t,this.position=n,this.user=e}}class Ud{constructor(e){this.type="List",this.users=e||[]}static fromJSON(e,t){const n=e[t],r=[];for(const e in n){const t=Vd.fromJSON(e,n[e]);r.push(t)}return new Ud(r)}toJSON(){return{[this.type]:{}}}}class zd{constructor(e,t,n,r){this.type="Set",this.file=null,this.hasJoined=null,this.hasLeft=null,this.isReady=null,this.user=e,"boolean"==typeof t||null===t?this.isReady=t:(this.file=null!=t?t:null,this.hasJoined=null!=n?n:this.hasJoined,this.hasLeft=null!=r?r:this.hasLeft)}static fromJSON(e,t){if(e.ready){const{isReady:t,username:n}=e.ready,r=jd.fromString(n);return new zd(r,t)}if(e.user){const[n,r]=Object.entries(e.user)[0];if(r.room.name===t){const e=jd.fromString(n),t=r.file&&kd.fromJSON(r.file),{joined:i=!1,left:s=!1}=r.event||{};return new zd(e,t,i,s)}}}toJSON(){const{file:e,isReady:t}=this;return e?{[this.type]:{file:e.toJSON()}}:null!=t?{[this.type]:{ready:{isReady:t}}}:void 0}}class Bd{constructor(e,t,n){this.type="State",this.ignoringOnTheFly=n,this.ping=e,this.playstate=t,this.setBy=t.setBy?jd.fromString(t.setBy):null}static fromJSON(e){const{ping:t,playstate:n,ignoringOnTheFly:r}=e;return new Bd(t,n,r)}toJSON(){const{ignoringOnTheFly:e,ping:t,playstate:n}=this,r={ping:t,playstate:n};return null!=(null==e?void 0:e.client)&&null!=(null==e?void 0:e.server)?r.ignoringOnTheFly={client:e.client,server:e.server}:null!=(null==e?void 0:e.client)?r.ignoringOnTheFly={client:e.client}:null!=(null==e?void 0:e.server)&&(r.ignoringOnTheFly={server:e.server}),{[this.type]:r}}}const _d=window.console.error.bind(window.console,"[WebSocketConnection]");class Fd extends Ad{destroy(){super.destroy()}}class Hd extends Fd{constructor(e){super(),this.onHelloInterval=()=>{try{this.isOpen&&this.send("hello")}catch(e){_d(`WebSocketConnection hello exception: ${e.message}`)}},this.isPingEnabled=!1!==e.isPingEnabled,this.url=e.url}get isConnecting(){var e;return 0===(null==(e=this.socket)?void 0:e.readyState)}get isOpen(){var e;return 1===(null==(e=this.socket)?void 0:e.readyState)}open(){return new Promise(((e,t)=>{if(this.isConnecting||this.isOpen)return void t(new Error("Refusing to open multiple connections"));const n=new window.WebSocket(this.url);this.socket=n,n.onerror=()=>{t(new Error("Connection error"))},n.onopen=()=>{this.isPingEnabled&&(this.pingIntervalID=window.setInterval(this.onHelloInterval,3e4)),n.onerror=null,n.onclose=e=>{this.pingIntervalID&&(window.clearInterval(this.pingIntervalID),delete this.pingIntervalID),this.emit("close",e)},n.onmessage=e=>{try{this.emit("message",this.parseMessage(e.data))}catch(e){_d("Parse failure",e)}},this.emit("open"),e()}}))}close(e=1e3){if((this.isOpen||this.isConnecting)&&this.socket){const{socket:t}=this;delete this.socket,t.close(e),t.onopen=null,t.onclose=null,t.onerror=null,t.onmessage=null}}destroy(){super.destroy(),this.close()}send(e){var t,n;if(!this.isOpen)throw new Error(`Cannot send to socket in state ${null==(n=this.socket)?void 0:n.readyState}`);null==(t=this.socket)||t.send(e)}parseMessage(e){return JSON.parse(e)}}Object.defineProperty,Object.prototype.hasOwnProperty,Object.getOwnPropertySymbols,Object.prototype.propertyIsEnumerable,new(Ca())({attributePrefix:"",ignoreRoot:!0});const Wd="[SyncplaySession]",Qd=window.console.debug.bind(window.console,Wd),Gd=window.console.warn.bind(window.console,Wd);class Yd extends Ad{constructor(e){super(),this.onSocketClose=e=>{this.emit("close",e)},this.onSocketMessage=e=>{let t;Qd(`Message (${Date.now()}) <<`,e),e.Error?this.close(1011):e.Hello?t=Rd.fromJSON(e.Hello):e.List?t=Ud.fromJSON(e.List,this.roomID):e.Set?t=zd.fromJSON(e.Set,this.roomID):e.State&&(t=Bd.fromJSON(e.State)),t&&this.emit("message",t)};const{roomID:t,roomSyncplayHost:n,roomSyncplayPort:r}=e,i=`wss://${n}:${r}/ws`;this.connection=new Hd({url:i,isPingEnabled:!1}),this.connection.addListener("close",this.onSocketClose),this.connection.addListener("message",this.onSocketMessage),this.roomID=t}destroy(){super.destroy(),this.connection.destroy()}open(){return e=this,null,t=function*(){yield this.connection.open()},new Promise(((n,r)=>{var i=e=>{try{a(t.next(e))}catch(e){r(e)}},s=e=>{try{a(t.throw(e))}catch(e){r(e)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,s);a((t=t.apply(e,null)).next())}));var e,t}close(e=1e3){this.connection.close(e)}send(e){const t=e.toJSON();t&&this.connection.send(JSON.stringify(t)),(t?Qd:Gd)(`Message (${Date.now()}) >>`,t||e)}}function qd(){return window.performance.now()/1e3}class Kd{constructor(){this._lastForwardDelay=0,this.averageRtt=0,this.clientRtt=0}get lastForwardDelaySeconds(){return this._lastForwardDelay}get state(){var e,t;return{clientLatencyCalculation:qd(),clientRtt:this.clientRtt,serverRtt:(null==(e=this.lastPing)?void 0:e.serverRtt)||0,latencyCalculation:(null==(t=this.lastPing)?void 0:t.latencyCalculation)||0}}update(e){const{clientLatencyCalculation:t,serverRtt:n}=e;this.lastPing=e,null!=t&&(this.clientRtt=qd()-t,this.clientRtt<0||n<0||(0===this.averageRtt&&(this.averageRtt=n),this.averageRtt=.85*this.averageRtt+this.clientRtt*(1-.85),this._lastForwardDelay=this.averageRtt/2,n<this.clientRtt&&(this._lastForwardDelay+=this.clientRtt-n)))}}var $d=Object.defineProperty,Xd=Object.prototype.hasOwnProperty,Jd=Object.getOwnPropertySymbols,eu=Object.prototype.propertyIsEnumerable,tu=(e,t,n)=>t in e?$d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nu=(e,t)=>{for(var n in t||(t={}))Xd.call(t,n)&&tu(e,n,t[n]);if(Jd)for(var n of Jd(t))eu.call(t,n)&&tu(e,n,t[n]);return e};const ru=window.console.debug.bind(window.console,"[SyncplayClient]");function iu(e){return["User",e.id,`(${e.deviceName})`]}class su extends Ad{constructor(e){super(),this.onSessionClose=e=>{this.emit("close",e)},this.onSessionMessage=e=>{e instanceof Rd?this.onHelloMessage(e):e instanceof Ud?this.onListMessage(e):e instanceof zd?this.onSetMessage(e):e instanceof Bd&&this.onStateMessage(e)},this.onHelloMessage=e=>{this.session.send(new Ud)},this.onListMessage=e=>{e.users.forEach((e=>{this.tryEmitUserState(!0,e.isReady,e.user)})),e.users.forEach((e=>{this.tryEmitAdState(e.file,e.user)}))},this.onSetMessage=e=>{const{user:t}=e,n=null!=e.hasJoined||null!=e.hasLeft?e.hasJoined||!e.hasLeft:null;this.tryEmitUserState(n,e.isReady,t),this.tryEmitAdState(e.file,t)},this.onStateMessage=e=>{const t=this.lastSentFile!==this.file;this.pingHelper.update(e.ping),this.tryUpdateIgnoringOnTheFly(e),this.tryEmitPlaybackState(e);const n=this.shouldEchoSessionState()?{doSeek:!1,paused:e.playstate.paused,position:e.playstate.position,setBy:null}:{doSeek:this.playerBridge.hasPendingSeek,paused:this.playerBridge.isPaused,position:this.playerBridge.positionSeconds,setBy:null};t&&this.playerBridge.hasPendingSeek&&(n.doSeek=this.playerBridge.hasPendingSeek,n.position=this.playerBridge.positionSeconds);const r=this.isReady;this.playerBridge.hasPendingPlayPause=!1,this.playerBridge.hasPendingSeek=!1,this.session.send(new Bd(this.pingHelper.state,n,this.ignoringOnTheFly)),t&&(this.lastSentFile=this.file,this.session.send(new zd(this.user,this.lastSentFile))),this.lastIsReady!==r&&(ru("Setting isReady",{isReady:r,isAdPlaying:this.file.ad.isPlaying,hasInitialBuffer:this.playerBridge.hasInitialBuffer}),this.lastIsReady=r,this.session.send(new zd(this.user,this.lastIsReady)))};const{deviceIdentifier:t,deviceName:n,userID:r,playerBridge:i,roomID:s,roomSourceUri:a,roomSyncplayHost:o,roomSyncplayPort:l}=e;this.eventFields={roomID:s},this.file=new kd(a),this.ignoringOnTheFly={client:0,server:0},this.pingHelper=new Kd,this.playerBridge=i,this.roomID=s,this.roomSourceUri=a,this.user=new jd(r,t,n),this.session=new Yd({roomID:s,roomSyncplayHost:o,roomSyncplayPort:l}),this.session.addListener("close",this.onSessionClose),this.session.addListener("message",this.onSessionMessage)}get isReady(){return!this.file.ad.isPlaying&&this.playerBridge.hasInitialBuffer}destroy(){super.destroy(),this.leave(),this.session.destroy()}join(){return e=this,null,t=function*(){yield this.session.open(),this.session.send(new Rd(this.user,this.roomID))},new Promise(((n,r)=>{var i=e=>{try{a(t.next(e))}catch(e){r(e)}},s=e=>{try{a(t.throw(e))}catch(e){r(e)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,s);a((t=t.apply(e,null)).next())}));var e,t}leave(){this.session.close(),this.file=new kd(this.roomSourceUri)}setAdState(e,t,n){var r;const i=null==(r=this.file)?void 0:r.ad;(null==i?void 0:i.isPlaying)!==e||(null==i?void 0:i.displayIndex)!==t||(null==i?void 0:i.displayTotal)!==n?this.file=new kd(this.roomSourceUri,e?new Nd(e,t,n):void 0):ru("Will not Set redundant session ad state",{isPlaying:e,displayIndex:t,displayTotal:n})}tryEmitAdState(e,t){if(!e)return;const{ad:n}=e,r=nu(nu({},this.eventFields),{ad:n,user:t});ru(...iu(t),"ad state",n),this.emit("session",r)}tryEmitUserState(e,t,n){const r=nu(nu({},this.eventFields),{user:n});null!=e&&(ru(...iu(n),"present?",e),r.isPresent=e),null!=t?(ru(...iu(n),"ready?",t),r.isReady=t):!1===e&&(r.isReady=!1),null==e&&null==t||this.emit("session",r)}tryEmitPlaybackState(e){var t;if((null==(t=e.setBy)?void 0:t.deviceIdentifier)===this.user.deviceIdentifier||this.ignoringOnTheFly.client>0)return;const{playstate:n,setBy:r}=e,i=n.position+(n.paused?0:this.pingHelper.lastForwardDelaySeconds),s={isPaused:n.paused,positionSeconds:i,shouldSeek:n.doSeek},a=nu(nu({},this.eventFields),s);r?(ru(...iu(r),"playback state",s),a.user=r):ru("Server playback state",s),this.emit("session",a)}tryUpdateIgnoringOnTheFly(e){var t,n;const{ignoringOnTheFly:r}=this,i=null!=(null==(t=e.ignoringOnTheFly)?void 0:t.client)&&e.ignoringOnTheFly.client>0?e.ignoringOnTheFly.client:0;r.server=null!=(null==(n=e.ignoringOnTheFly)?void 0:n.server)&&e.ignoringOnTheFly.server>0?e.ignoringOnTheFly.server:0,(this.shouldEchoSessionState()||i===r.client)&&(r.client=0),this.shouldEchoSessionState()||!this.playerBridge.hasPendingPlayPause&&!this.playerBridge.hasPendingSeek||r.client++}shouldEchoSessionState(){return!this.playerBridge.isPlayerForeground||this.file.ad.isPlaying||this.ignoringOnTheFly.server>0}}let au;function ou(){const e=!!au;return e||h.Z.warn("[Watch Together] Syncplay client is unavailable"),e}const lu=class{constructor({appModel:e,appStore:t}){this.appModel=e,this.appStore=t}start(){const{appModel:e,appStore:t}=this,n=t.dispatch;Dd(e,((e,t)=>{!t&&au&&n(Td.j3())}))}update({hasPendingSeek:e,hasPendingPlayPause:t,isAdPlaying:n,adDisplayIndex:r,adDisplayTotal:i}){ou()&&(void 0!==n&&au.setAdState(n,null!=r?r:void 0,null!=i?i:void 0),void 0!==t&&(au.playerBridge.hasPendingPlayPause=t),void 0!==e&&(au.playerBridge.hasPendingSeek=e))}leave(){ou()&&(au.destroy(),au=void 0)}join({roomID:e,roomSourceUri:t,roomSyncplayHost:n,roomSyncplayPort:r}){const{appModel:i,appStore:s}=this;au=new su({deviceIdentifier:w.Z.prop("X-Plex-Client-Identifier"),deviceName:w.Z.prop("X-Plex-Device-Name"),playerBridge:{get hasInitialBuffer(){const e=(0,u.DB)("appModel"),t=(0,Od.F_)(e,ql.Se);if(t.get("canPlayThrough"))return!0;const n=t.get("bufferedRanges"),r=t.get("positionSeconds")+5;for(let e=0;e<n.length;e++){const t=n[e];if(r>=t.startSeconds&&r<=t.endSeconds)return!0}return!1},hasPendingPlayPause:!1,hasPendingSeek:!1,get isPaused(){const e=(0,u.DB)("appModel");return(0,Od.F_)(e,ql.Se).get("isPaused")},get isPlayerForeground(){const e=(0,u.DB)("appModel");return!1===(0,Od.F_)(e,ql.Se).get("isWatchTogetherLobbyVisible")},get positionSeconds(){const e=(0,u.DB)("appModel"),t=(0,Od.F_)(e,ql.Se);return null!=t.get("lastSeekPositionSeconds")?t.get("lastSeekPositionSeconds"):t.get("positionSeconds")}},roomID:e,roomSourceUri:t,roomSyncplayHost:n,roomSyncplayPort:r,userID:i.get("user").id}),(0,h.Z)("[Watch Together] Joining session for room:",e),au.join().then((()=>{(0,h.Z)("[Watch Together] Joined session for room:",e),(0,u.DB)("metrics").trackEvent({event:xn.l8,interaction:!0,properties:{playbackSessionId:e}}),au.addListener("session",(t=>{const n={roomID:e,event:t};h.Z.groupCollapsed("[Watch Together] Session event"),h.Z.debug("[Watch Together] Event:",t),s.dispatch(Td.xg(n)),s.dispatch(Td.eA(n)),s.dispatch(Td.os(n)),h.Z.groupEnd()})),au.addListener("close",(t=>{h.Z.warn("[Watch Together] Session closed unexpectedly:",t),s.dispatch(Td.o6({roomID:e,sessionError:(0,Ne.Z)("Lost connection to the Watch Together session.")}))}))})).catch((t=>{h.Z.error("[Watch Together] Error joining session for room:",e,t),s.dispatch(Td.o6({roomID:e,sessionError:(0,Ne.Z)("Could not join at this time.")}))}))}};var cu=n(58709);class du extends Fd{constructor(){super(),this.onDispatcherMessage=e=>{this.emit("message",e)},this.onHasEventConnectionChange=()=>{this.cloudServerModel.get("hasEventConnection")?this.emit("open"):this.emit("close")};const e=(0,u.DB)("appModel");this.cloudServerModel=e.get("cloudServer"),this.cloudServerModel.on({"change:hasEventConnection":this.onHasEventConnectionChange}),ee.Z.on({[`cloudServer:${qs.EI}`]:this.onDispatcherMessage,[`cloudServer:${qs.Sz}`]:this.onDispatcherMessage}),this.cloudServerModel.get("hasEventConnection")&&this.onHasEventConnectionChange()}get isConnecting(){return!1}get isOpen(){return this.cloudServerModel.get("hasEventConnection")}open(){return Promise.reject(new Error("Cannot open directly"))}close(){throw new Error("Cannot close directly")}send(){throw new Error("Cannot send directly")}destroy(){super.destroy(),ee.Z.off({[`cloudServer:${qs.EI}`]:this.onDispatcherMessage,[`cloudServer:${qs.Sz}`]:this.onDispatcherMessage}),this.cloudServerModel.off({"change:hasEventConnection":this.onHasEventConnectionChange})}}var uu=n(9669),pu=n.n(uu),mu=Object.defineProperty,hu=Object.prototype.hasOwnProperty,gu=Object.getOwnPropertySymbols,yu=Object.prototype.propertyIsEnumerable,vu=(e,t,n)=>t in e?mu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fu=(e,t)=>{for(var n in t||(t={}))hu.call(t,n)&&vu(e,n,t[n]);if(gu)for(var n of gu(t))yu.call(t,n)&&vu(e,n,t[n]);return e},bu=(e,t,n)=>new Promise(((r,i)=>{var s=e=>{try{o(n.next(e))}catch(e){i(e)}},a=e=>{try{o(n.throw(e))}catch(e){i(e)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(s,a);o((n=n.apply(e,t)).next())}));function Su(e){return e}function Iu(...e){return e.filter((e=>!!(null==e?void 0:e.trim()))).map((e=>null==e?void 0:e.replace(/^\/+|\/+$/g,""))).join("/")}const Zu="json";class Pu{constructor(e){this.endpoint="https://together.plex.tv/rooms",this.accessToken=e.accessToken}create(e,t,n){return bu(this,null,(function*(){return(yield pu().post(this.endpoint,{sourceUri:e,title:t,users:n||null},{params:{"X-Plex-Token":this.accessToken},responseType:Zu})).data}))}createInvites(e,t){return bu(this,null,(function*(){return(yield pu().post(Iu(this.endpoint,e,"invite"),{users:t},{params:{"X-Plex-Token":this.accessToken},responseType:Zu})).data}))}delete(e){return bu(this,null,(function*(){yield pu().delete(Iu(this.endpoint,e),{params:{"X-Plex-Token":this.accessToken},responseType:Zu})}))}get(e){return bu(this,null,(function*(){const t=yield pu().get(Iu(this.endpoint,e),{params:{"X-Plex-Token":this.accessToken},responseType:Zu});return e?t.data:function(e){return e.rooms.map(Su)}(t.data)}))}patch(e,t){return bu(this,null,(function*(){return(yield pu().patch(Iu(this.endpoint,e),{params:fu(fu({},t),{"X-Plex-Token":this.accessToken}),responseType:Zu})).data}))}}var Eu=(e,t,n)=>new Promise(((r,i)=>{var s=e=>{try{o(n.next(e))}catch(e){i(e)}},a=e=>{try{o(n.throw(e))}catch(e){i(e)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(s,a);o((n=n.apply(e,t)).next())}));class Mu extends Ad{constructor(e){super(),this.onPubSubMessage=e=>{const{command:t}=e;"notifyWatchTogetherInvite"!==t&&"notifyWatchTogetherExpire"!==t||this.rooms()},this.onPubSubClose=e=>{this.emit("close",e)};const{accessToken:t,pubsub:n}=e;this.pubsub=n,this.pubsub.addListener("close",this.onPubSubClose),this.pubsub.addListener("message",this.onPubSubMessage),this.service=new Pu({accessToken:t})}get isOpen(){return this.pubsub.isOpen}open(){return this.pubsub.open()}destroy(){super.destroy(),this.pubsub.destroy()}rooms(){return Eu(this,null,(function*(){const e=yield this.service.get();return this.emit("rooms",e),e}))}createRoom(e,t,n){return Eu(this,null,(function*(){const r=yield this.service.create(e,t,n);return yield this.rooms(),r.id}))}deleteRoom(e){return Eu(this,null,(function*(){var t;try{yield this.service.delete(e)}catch(e){if(404!==(null==(t=null==e?void 0:e.response)?void 0:t.status))throw e}yield this.rooms()}))}inviteUsers(e,t){return Eu(this,null,(function*(){yield this.service.createInvites(e,t),yield this.rooms()}))}}var Cu=n(63178);let wu;const Du=class{constructor({appModel:e,appStore:t}){this.appModel=e,this.appStore=t}start(){const{appModel:e,appStore:t}=this;Dd(e,((n,r)=>{if(wu&&(wu.destroy(),wu=null,(0,h.Z)("[Watch Together] stopped rooms client")),r){const r=n.id;(0,Cu.Z)(n.get("features").populate({timeout:5e3})).then((()=>{if(e.get("user").id!==r)return Promise.reject(new Error("User has changed"));if(!(0,Na.Z)(e,ka.Bs))return Promise.reject(new Error("User missing feature access"));const i=n.get("authToken");wu=new Mu({accessToken:i,pubsub:new du}),wu.addListener("rooms",(e=>{t.dispatch(cu.Yl({rooms:e}))})),t.dispatch(cu.Uw())})).catch((e=>{h.Z.warn("[Watch Together] cannot start",e)}))}}))}getRoomsClient(){return wu}};var Tu=n(21256);const Ou={[Yl.pX]:"fullScreenVideo",[Yl.xF]:"fullScreenMusic",[Yl.pV]:"fullScreenPhoto"},xu="stopped";var Au=n(59223),Nu=n(28440),ku=n(73004),Lu=n(38853),ju=n(75358);function Ru(e,t){const n=e.get("connections").filter((e=>e.get("isConnected")&&!e.get("isLoopback"))),r=n.length?n.reduce(ju.y):null;if(r)return{machineIdentifier:e.get("originalMachineIdentifier")||e.get("machineIdentifier"),protocol:r.get("scheme"),address:r.getAddressFromUri(),port:r.get("port")}}var Vu=Object.defineProperty,Uu=Object.prototype.hasOwnProperty,zu=Object.getOwnPropertySymbols,Bu=Object.prototype.propertyIsEnumerable,_u=(e,t,n)=>t in e?Vu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fu=(e,t)=>{for(var n in t||(t={}))Uu.call(t,n)&&_u(e,n,t[n]);if(zu)for(var n of zu(t))Bu.call(t,n)&&_u(e,n,t[n]);return e};function Hu(e,t,n){const{getPlayerModels:r,getVolume:i}=n;let s,a=!1,o=!1;function l(t={}){if(s)return void(o=!0);if(o=!1,r(e).some((e=>e.get("isPlayQueueLoading"))))return;const n=c(Yl.pX),i=c(Yl.xF),a=c(Yl.pV),l={MediaContainer:{_location:n._location||a._location||i._location||"navigation",Timeline:[n,i,a]}};t.requestDisconnect&&(l.MediaContainer._disconnected=1),(0,h.Z)(l),(0,u.DB)("companionProxy").publish(l),s=window.setTimeout(d,1e3)}function c(t){const n={_type:t,_state:xu,_volume:i(e),_autoPlay:(0,u.DB)("settingFinder").find("autoPlay")?1:0,_subtitleColor:(0,u.DB)("settingFinder").find("subtitleColor"),_subtitlePosition:(0,u.DB)("settingFinder").find("subtitlePosition"),_subtitleSize:(0,u.DB)("settingFinder").find("subtitleSize"),_controllable:(0,u.DB)("companionPlayerProfile")[t]},s=function(t){const n=Yl.d2(t);return r(e).find((e=>{const t=e.get("playQueue");if(t&&t.get("type")===n)return e}))}(t);if(!s)return n;const a=s.get("serverEntityID"),o=s.get("providerEntityID"),l=(0,Nu.SW)(e,{serverEntityID:a}),c=(0,Nu.js)(e,{providerEntityID:o}),d=Ru(l);c&&ri.wB(c.get("identifier"),ri.vP)&&(n._controllable=(0,u.DB)("companionPlayerProfile").videoCloudLiveTV);const p=s.get("decisions"),h=s.get("playQueue"),g=h.get("playQueueItems"),y=h.get("playQueueSelectedItemID"),v=g.get(y),f=v.get("metadataItem"),b=(0,Tu.Z)({metadataItemModel:f}),S=Yl.ED(b),I=1e3*s.get("positionSeconds"),Z=1e3*s.get("durationSeconds");let P=uc.Hn;return s.get("repeatOne")?P=uc.ry:s.get("repeatAll")&&(P=uc.QN),d?(n._machineIdentifier=d.machineIdentifier,n._protocol=d.protocol,n._address=d.address,n._port=d.port):n._machineIdentifier=l.get("originalMachineIdentifier")||l.get("machineIdentifier"),n._providerIdentifier=c.get("identifier"),n._itemType=S,n._key=f.get("key"),n._ratingKey=f.get("ratingKey"),n._containerKey=m().result(h,"url"),h.get("isLocal")||(n._playQueueID=h.get("playQueueID"),n._playQueueItemID=y,n._playQueueVersion=h.get("playQueueVersion")),n._state=(0,Tl.Z)(s),n._time=I,n._duration=Z,n._seekRange=`0-${Z}`,n._shuffle=h.get("playQueueShuffled")?1:0,n._repeat=P,s.get("openState")===Au.K&&(n._location=function(e){return Ou[e]}(t)),Fu(Fu({},n),function(e,t){const n=e.get("metadataItem"),r=t[e.entityID()];if(!r)return{};const i={_mediaIndex:r.mediaIndex,_partIndex:r.partIndex,_partCount:r.partCount},s=n.get("Media")[r.mediaIndex],a=s&&s.Part,o=a&&a[r.partIndex];return(o?o.Stream:[]).reduce(((e,{id:t,streamType:n,selected:r})=>t?(n===ku.Z.get("video").id?e._videoStreamID=t:r&&(n===ku.Z.get("audio").id?e._audioStreamID=t:n===ku.Z.get("subtitles").id&&(e._subtitleStreamID=t)),e):e),i)}(v,p))}function d(){s=null,o&&l()}function p(){l()}return{start:function(){a||(a=!0,((0,u.s4)("remoteCastPlayerManager")||(0,u.s4)("remotePlexPlayerManager"))&&t.dispatch((0,Lu.Qt)()),r(e).forEach((e=>{e.on("change",p)})))},stop:function(t){a=!1,s&&(window.clearTimeout(s),s=null),r(e).forEach((e=>{e.off("change",p)})),t&&l({requestDisconnect:t})}}}var Wu=n(88551),Qu=n(44491),Gu=n(99862),Yu=n(86017),qu=n(25474);function Ku(e,t){const n=Ru(e);return n?(n.transcoderVideo=e.get("transcoderVideo")||!1,n.transcoderVideoRemuxOnly=e.get("transcoderVideoRemuxOnly")||!1,n.transcoderAudio=e.get("transcoderAudio")||!1,n.version=e.get("shortVersion"),n.myPlexSubscription=e.get("myPlexSubscription"),n.isVerifiedHostname="https"===n.protocol&&!j.At(n.address),function(e,t={}){const n=e.get("accessToken");return!e.supports("transientToken")||e.get("isCloud")||/^transient-/.test(n)?a().Deferred().resolve(n).promise():a().ajax(e.getXHROptions("/security/token",{data:{type:t.type||"delegation",scope:t.scope||"all"}})).promise().then((e=>(0,qu.Z)(e).token||a().Deferred().reject().promise()))}(e).then((e=>(n.accessToken=e,n)))):a().Deferred().reject().promise()}var $u=n(517),Xu=Object.defineProperty,Ju=Object.prototype.hasOwnProperty,ep=Object.getOwnPropertySymbols,tp=Object.prototype.propertyIsEnumerable,np=(e,t,n)=>t in e?Xu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rp=(e,t)=>{for(var n in t||(t={}))Ju.call(t,n)&&np(e,n,t[n]);if(ep)for(var n of ep(t))tp.call(t,n)&&np(e,n,t[n]);return e};const ip="remoteCastPlayerManager";function sp(e,t){const n=t.dispatch;let r,i,s,o,l,c=0,d=0,u=!1,p={},y={};function v(e,t={},n={}){if(!r)return a().Deferred().reject().promise();const i=g.Z.join([r.baseURL,e],rp(rp({},t),{commandID:c})),s=r.server.getXHROptions(i,rp(rp({},n),{scope:ip,headers:{"X-Plex-Target-Client-Identifier":r.get("machineIdentifier")}}));return a().ajax(s)}function f(e={}){r&&v("/player/timeline/poll",e,{timeout:2e4}).done(((t,i,s)=>{d=0;const a=(0,qu.Z)(t);if((0,Yu.Z)(a.disconnected)&&e.wait)return void n(Lu.Qt());const o=r.get("machineIdentifier"),l=s.getResponseHeader("X-Plex-Client-Identifier"),p=(0,ui.Z)(a.commandID),h=o===l||r.baseURL;if(!u&&h&&p>=c){const e=(0,Gu.Z)(a.Timeline),t=m().findWhere(e,{type:"video"}),n=m().findWhere(e,{type:"music"}),r=m().findWhere(e,{type:"photo"});!t||n&&n.state&&n.state!==xu?n&&b(n):b(t),r&&b(r),c=p}f({wait:1})})).fail(((t,r)=>{t&&t.aborting||("error"===r?(d++,e.wait&&d<=3?(h.Z.warn("[Companion] Poll request failed; retrying..."),f({wait:1})):(h.Z.warn("[Companion] Poll request failed 3 times in a row; giving up"),n(Lu.Qt()))):f({wait:1}))}))}function b(e){const{type:t,state:r,providerIdentifier:i,machineIdentifier:s,containerKey:a,key:o}=e,l=e.playQueueItemID||e.playQueueItemId,c=Yl.d2(t),d=(0,Yu.Z)(e.continuing);if(r===xu&&!d)return p[t]=null,y[t]=null,void n(Lu.L0({playQueueType:c}));const u=(0,ui.Z)(e.playQueueVersion),m=(0,ui.Z)(e.time),h=(0,ui.Z)(e.duration),g=(0,ui.Z)(e.mediaIndex),v=(0,ui.Z)(e.partIndex),f=e.audioStreamID?(0,ui.Z)(e.audioStreamID):null,b=e.subtitleStreamID?(0,ui.Z)(e.subtitleStreamID):null,S=(0,ui.Z)(e.volume),I=(0,ui.Z)(e.repeat),Z=(e.controllable||"").split(","),P={positionSeconds:Math.floor(m/1e3),durationSeconds:Math.floor(h/1e3),mediaIndex:g,partIndex:v,isPaused:"paused"===r,isBuffering:"buffering"===r,hasError:"error"===r,controllable:Z.reduce(((e,t)=>(e[t]=!0,e)),{})},E=p[t],M=y[t],C=l!==E||u!==M;p[t]=l,y[t]=u,n(Lu.RN({playQueueType:c,options:{providerIdentifier:i,machineIdentifier:s,containerKey:a,key:o,playQueueItemID:l,shouldRefreshPlayQueue:C,initialState:P}})),n(Lu.dS({playQueueType:c,playerState:P,providerIdentifier:i,machineIdentifier:s})),function(e){const t={};null!=e.autoPlay&&(t.autoPlay="1"===e.autoPlay),null!=e.subtitleColor&&(t.subtitleColor=e.subtitleColor),null!=e.subtitlePosition&&(t.subtitlePosition=e.subtitlePosition),null!=e.subtitleSize&&(t.subtitleSize=(0,ui.Z)(e.subtitleSize,10)),n(Lu.Jb(t))}(e),n(Lu.I3({playQueueType:c,playQueueVersion:u,repeatAll:I===uc.QN||I===uc.ry,repeatOne:I===uc.ry})),n(Lu.Ep({playQueueType:c,key:o,mediaIndex:g,partIndex:v,audioStreamID:f,subtitleStreamID:b})),null!=e.volume&&n(Lu.Vu(S))}function S(){i=null,null!=s&&(E(s),s=null)}function I(){o=null,null!=l&&(M(l),l=null)}function P(e,t){return r?(c++,v(e,t)):(h.Z.warn(`[Companion] Command for ${e} ignored; no current player`),a().Deferred().reject().promise())}function E(e){i?(window.clearTimeout(i),s=e):P("/player/playback/seekTo",e),i=window.setTimeout(S,200)}function M(e){o?(window.clearTimeout(o),l=e):P("/player/playback/setParameters",e),o=window.setTimeout(I,200)}return{requestSession:function(t){r=(0,$u.cX)(e,{playerIdentifier:t}),r?(n(Lu.A1(t)),c=0,d=0,f()):h.Z.warn(`[Companion] Request session ignored; no player with identifier "${t}"`)},endSession:function(){r?(i&&(window.clearTimeout(i),i=null),o&&(window.clearTimeout(o),o=null),Z.Z.abortAll(ip),v("/player/timeline/unsubscribe"),r=null,s=null,l=null,p={},y={}):h.Z.warn("[Companion] End session ignored; no current player")},startPlayback:function(e){if(!r)return void h.Z.warn("[Companion] Start playback ignored; no current player");const t=e.get("playQueue"),i=t.get("type"),s=t.get("playQueueItems").get(t.get("playQueueSelectedItemID")).get("metadataItem"),a=t.server,o=t.provider;if("speaker"===r.get("deviceClass")&&t.get("type")!==Qu.j0)return void n(Lu.XI({playQueueType:i,errorMessage:(0,Ne.Z)("The connected player only supports audio playback.")}));const l=1e3*e.get("positionSeconds")||Math.floor((0,Wu.Z)(e,s));u=!0,Ku(a).done((e=>{const r=e.machineIdentifier,a=o.get("identifier"),c={type:Yl.ED(t.get("type")),providerIdentifier:a,containerKey:g.Z.join([m().result(t,"url")],{own:1}),key:s.get("key"),offset:l,machineIdentifier:r,protocol:e.protocol,address:e.address,port:e.port,token:e.accessToken};(0,h.Z)("[Companion] Sending play media request"),P("/player/playback/playMedia",c).done((()=>{u=!1,(0,h.Z)("[Companion] Play media success"),n(Lu.dS({playQueueType:i,playerState:{isMediaLoading:!1},providerIdentifier:a,machineIdentifier:r}))})).fail((e=>{u=!1,h.Z.warn(`[Companion] Failed to play media with error "${e.status}"`),n(Lu.XI({playQueueType:i}))}))})).fail((()=>{u=!1,n(Lu.XI({playQueueType:i,errorMessage:(0,Ne.Z)('The server "{serverName}" does not have a valid connection for casting. Check that the server is claimed in server settings.',{serverName:a.get("friendlyName")})}))}))},mirrorDetails:function(e){if(!r)return void h.Z.warn("[Companion] Mirror details ignored; no current player");const t=r.get("protocolCapabilities");if(!t||-1===t.indexOf("mirror"))return void h.Z.warn("[Companion] Mirror details ignored; player does not advertise support for the `mirror` capability");const n=e.server,i=e.provider;Ku(n).done((t=>{v("/player/mirror/details",{key:e.get("key"),providerIdentifier:i.get("identifier"),machineIdentifier:t.machineIdentifier,protocol:t.protocol,address:t.address,port:t.port,token:t.accessToken})}))},sendCommand:P,seek:E,changeVolume:M}}var ap=n(14e3);const op=ap.ZP.Model.extend({initialize:function(e,t){this.set("time",new Date)}});var lp=n(44233);const cp=new(ap.ZP.Model.extend({initialize:function(e,t){this.set("host",window.location.host),this.set("userAgent",window.navigator.userAgent),this.set("browser",lp.Z)},toJSON:function(){const e=this.parent,t=e.get("primaryServer"),n=e.get("user");return this.set("version","4.59.2"),t&&(t.get("activeConnection")&&this.set("primaryServerUrl",t.url()),this.set("primaryServerAuthToken",!!t.get("accessToken")),this.set("primaryServerVersion",t.get("versionFull"))),this.set("username",n.get("username")),this.set("cloudUrl",n.server.get("connections")),ap.ZP.Model.prototype.toJSON.apply(this,arguments)}})),dp=/("?(auth_token|accessToken|X-Plex-Token|authToken|token)"?[:=].*?)("?[-\w]+"?)/g,up=/("?(email)"?[:=]([\s]+)?)("(.*)")/g,pp=/("?(address|host|uri)"?[:=].*?)(".*")/g;function mp(e){if(e)return e.replace(dp,'$1"TOKEN"').replace(up,'$1"EMAIL"').replace(pp,'$1"IP ADDRESS"')}var hp=/(password=)([^&]+)/;function gp(e){return e.replace(dp,"$1TOKEN").replace(hp,"$1PASSWORD")}const yp=ap.ZP.Collection.extend({model:op,initialize:function(e,t){m().bindAll(this,"onAjaxComplete","onAppModelRegistered"),this.parent=t.parent,cp.parent=t.parent,(0,u.X_)("appModel").done(this.onAppModelRegistered)},reconfigure(){(0,u.DB)("appModel").get("deviceSettings").get("debugLevel")?this.start():this.stop()},start:function(){this.enabled||(this.enabled=!0,this.reset(),this.listenTo(ee.Z,"log:message",this.onLogMessage),ap.ZP.history.on("route",this.onRoute,this),a()(document).on("ajaxComplete",this.onAjaxComplete))},stop:function(){this.enabled&&(this.enabled=!1,this.reset(),this.stopListening(ee.Z),ap.ZP.history.off("route",this.onRoute,this),a()(document).off("ajaxComplete",this.onAjaxComplete))},destroy:function(){this.stop(),this.stopListening()},add:function(){this.length>1e3&&this.shift(),ap.ZP.Collection.prototype.add.apply(this,arguments)},toJSON:function(){var e=ap.ZP.Collection.prototype.toJSON.apply(this,arguments);return e.unshift(m().extend({type:"info"},cp.toJSON())),e},toJSONString:function(){return JSON.stringify(this.toJSON(),null,2)},onAppModelRegistered:function(e){const t=e.get("deviceSettings");this.listenTo(t,"change:debugLevel",this.reconfigure),this.reconfigure()},onLogMessage:function(e){this.add(e)},onRoute:function(e,t,n){var r={type:"navigation",route:t,args:n,fragment:window.location.hash};this.add(r)},onAjaxComplete:function(e,t,n){const r=(0,u.DB)("appModel").get("deviceSettings").get("debugLevel"),i={type:"ajax",url:gp(n.url),status:t.status};var s;m().isEmpty(n.headers)||(i.headers=((s=n.headers)&&s.hasOwnProperty("X-Plex-Token")&&(s["X-Plex-Token"]="TOKEN"),s&&s.hasOwnProperty("Authorization")&&(s.Authorization="BASIC AUTHORIZATION"),s)),m().isEmpty(n.data)||(i.params=gp(n.data)),200===t.status?2===r?i.response=mp(t.responseText):i.responseLength=t.responseText?t.responseText.length:0:(i.statusText=t.statusText,i.response=mp(t.responseText)),this.add(i)}});var vp=n(59468);const fp=(0,La.P1)(vp.Z,(e=>e.remoteQuality)),bp=(0,La.P1)(Al.Z,(e=>e.restorePlayQueue)),Sp=(0,La.P1)(vp.Z,(e=>({color:e.subtitleColor,position:e.subtitlePosition,size:e.subtitleSize})));var Ip=n(11203),Zp=n(34007),Pp=n(90117);const Ep=0,Mp=5,Cp=9;var wp=n(86953),Dp=n(67299);const Tp=m().reduce(Dp.l,((e,t)=>(e[t]="Metadata",e)),{}),Op=function e(t){if(!t||!t._children)return t;const n=m().clone(t),r=n._children;return Array.isArray(r)&&(r.forEach((t=>{const r=t._elementType;if(t._elementType=null,t.elementName=r,r){const i=Tp[r]||r,s=n[i],a=e(t);s?Array.isArray(s)?s.push(a):n[i]=[s,a]:n[i]=a}})),n._children=null),n};var xp=n(19107),Ap=n(4844),Np=n(15042),kp=n(76037),Lp=n(50641),jp=n(90912),Rp=n(69184),Vp=Object.defineProperty,Up=Object.prototype.hasOwnProperty,zp=Object.getOwnPropertySymbols,Bp=Object.prototype.propertyIsEnumerable,_p=(e,t,n)=>t in e?Vp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fp=(e,t)=>{for(var n in t||(t={}))Up.call(t,n)&&_p(e,n,t[n]);if(zp)for(var n of zp(t))Bp.call(t,n)&&_p(e,n,t[n]);return e};const Hp=vi.Z.extend({context:["server"],url:"/updater/status",sessionAttrs:{isChecking:Br.Z.boolean.isRequired},syncedAttrs:{status:Br.Z.integer,canInstall:Br.Z.boolean,downloadURL:Br.Z.string,state:Br.Z.string,progress:Br.Z.integer,version:Br.Z.string,error:Br.Z.string,added:Br.Z.string,fixed:Br.Z.string},defaults:{state:Pp.NONE,status:0,progress:0,version:null,error:"",added:null,fixed:null,isChecking:!1},augmentResponse(e){const t=e,{Release:n}=t,r=((e,t)=>{var n={};for(var r in e)Up.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&zp)for(var r of zp(e))t.indexOf(r)<0&&Bp.call(e,r)&&(n[r]=e[r]);return n})(t,["Release"]);return n&&(e=Fp(Fp({},r),n)),"0"!==e.status&&(e.state=Pp.ERROR),e}});var Wp=n(73862),Qp=n(59421),Gp=Object.defineProperty,Yp=Object.prototype.hasOwnProperty,qp=Object.getOwnPropertySymbols,Kp=Object.prototype.propertyIsEnumerable,$p=(e,t,n)=>t in e?Gp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xp=(e,t)=>{for(var n in t||(t={}))Yp.call(t,n)&&$p(e,n,t[n]);if(qp)for(var n of qp(t))Kp.call(t,n)&&$p(e,n,t[n]);return e};const Jp={started:Jc.TV,updated:Jc.UU,ended:Jc.uq},em={started:Kt.Z.actions.activityStarted,updated:Kt.Z.actions.activityUpdated,ended:Kt.Z.actions.activityFinished},tm=[qs.yV,qs.gk,qs.cc,qs.ax,qs.u0,qs.Z$,qs.eS,qs.ad,qs.cK,qs.sU,qs.wL,qs.lY,qs.Q_,qs.Bu,qs.jN,qs.Mu,qs.a8,qs.VL,qs.TD,qs.RN],nm=5e3;function rm(e){const t=u.DB("appStore");t.dispatch(Zp.NO({serverEntityID:e,playerType:ql.Se})),ri.wB(window.location.hash,ri.Ll)&&t.dispatch((0,Xe.jR)({serverEntityID:e}))}const im=xp.Z.extend({initialize(e){xp.Z.prototype.initialize.apply(this,arguments),this.throttledRepopulates={}},repopulateNow(e,t){this.throttledRepopulates[e]={timestamp:Date.now()},t()},repopulateWithThrottle(e,t,n){const r=this.throttledRepopulates[e];if(r)if(r.hasTimeout);else{const i=Date.now()-r.timestamp;i<n?(window.setTimeout((()=>{this.repopulateNow(e,t)}),n-i),this.throttledRepopulates[e]={hasTimeout:!0}):this.repopulateNow(e,t)}else this.repopulateNow(e,t)},getMessageTypes:()=>tm,[qs.eS](e){e.key=e.id,e.server=this.server,this.server.trigger("socket:setting",e),(0,u.DB("appStore").dispatch)((0,ld.m7)({serverEntityID:this.server.entityID(),setting:e}))},[qs.jN](e){if(ri.wB(e.identifier,ri.Ll))return;const{state:t,mediaProviderID:n,sectionID:r,rootItemID:i,parentItemID:s,itemID:a,metadataState:o,mediaState:l,type:c}=e,d=u.DB("appStore").dispatch,p=this.server.entityID(),m=Fe.getMetadataType(c),h=null==m?void 0:m.typeString,g=`${function(e){switch(e){case Fe.PLAYLIST:return"/playlists";case Fe.COLLECTION:return"/library/collections";default:return"/library/metadata"}}(h)}/${a}`,y=s?`/library/metadata/${s}`:null,v=i?`/library/metadata/${i}`:null,f=(0,Ap.Z)(Np.TY,g,p),b=(0,wp.Z)({serverIdentifier:this.server.get("machineIdentifier"),providerIdentifier:ri.Y3,key:g}),S=y?(0,wp.Z)({serverIdentifier:this.server.get("machineIdentifier"),providerIdentifier:ri.Y3,key:y}):void 0,I=v?(0,wp.Z)({serverIdentifier:this.server.get("machineIdentifier"),providerIdentifier:ri.Y3,key:v}):void 0;d(Yt.Z.actions.timelineStatesChanged({sourceURI:b,metadataState:o,mediaState:l})),d((0,Wp.updateMetadataItemRefreshingState)({serverEntityID:p,metadataItemEntityID:f,metadataState:o,mediaState:l})),t===Mp&&(d(Qt.Z.actions.metadataProcessed({sourceURI:b,parentSourceURI:S,rootSourceURI:I})),d((0,Ip.dk)({serverEntityID:p,metadataItemEntityID:f})),h===Fe.ALBUM&&d((0,Qp.x9)({serverEntityID:p,albumMetadataItemEntityID:f}))),t===Cp&&(d(Qt.Z.actions.deleted({mediaProviderID:n,sourceURI:b,parentSourceURI:S,rootSourceURI:I})),d((0,Ip.W6)({serverEntityID:p,metadataItemEntityID:f}))),t===Ep&&d(Qt.Z.actions.created({mediaProviderID:n,sourceURI:b,parentSourceURI:S,rootSourceURI:I})),t!==Ep&&t!==Cp||(r>0&&this.repopulateWithThrottle("section-"+r,(()=>{d((0,Xe.jR)({serverEntityID:p,containerKeyPattern:new RegExp("^"+(0,D.Z)(`/library/sections/${r}`)+"\\b")}))}),nm),i>0&&this.repopulateWithThrottle("metadata-"+i,(()=>{const e=`/library/metadata/${i}`,t=(0,Ap.Z)(Np.TY,e,p);d((0,Xe.jR)({serverEntityID:p,metadataItemEntityID:t,rootMetadataKey:e}))}),nm),s>0&&this.repopulateWithThrottle("metadata-"+s,(()=>{const e=`/library/metadata/${s}`,t=(0,Ap.Z)(Np.TY,e,p);d((0,Xe.jR)({serverEntityID:p,metadataItemEntityID:t,parentMetadataKey:e}))}),nm),h===Fe.PLAYLIST&&d((0,Xe.jR)({serverEntityID:p,containerKeyPattern:new RegExp("^/playlists")}))),e.server=this.server,this.server.trigger("socket:timeline",e),ee.Z.trigger("timeline",e)},[qs.Q_](e){if(this.server.trigger("socket:status",e),"LIBRARY_UPDATE"===e.notificationName){const e=u.DB("appStore").dispatch,t=this.server.entityID();t&&(e(Jt.Z.actions.libraryScanUpdated({server:gd(this.server)})),e((0,Jc.Vk)({serverEntityID:t})),e((0,Jc.tU)({serverEntityID:t})),e((0,Xe.jR)({serverEntityID:t})))}},[qs.ad](e){this.server.trigger("socket:status",e)},[qs.Z$](e){if(!e.sessionKey||!this.server.get("isFullOwnedServer"))return;const t=u.DB("appStore").dispatch;e.state===Ao.Z.states.STOPPED?(t(Xt.Z.actions.sessionStopped({server:gd(this.server),sessionKey:e.sessionKey})),t((0,Xe.jR)({serverEntityID:this.server.entityID()}))):t(Xt.Z.actions.sessionChanged({server:gd(this.server),message:e}))},[qs.Bu](e){const t=new Rp.Z({key:e.key},{server:this.server,syncItemId:e.syncItemId,onlyIfCached:!0});m().isEmpty(t)||t.get("Media").forEach((n=>{n.Part.forEach((n=>{n.transcodeState=e.syncFileState,n.transcodeStateContext=e.syncFileStateContext,n.syncState=e.syncState,n.syncStateContext=e.syncStateContext;const r=kp.Z.getSyncStateFromPart(n);kp.Z.waitingRegex.test(r)&&(n.key="placeholder"),t.trigger("change:Media",t,t.get("Media"))}))}))},[qs.cc](e){const t={server:this.server,onlyIfCached:!0},n=new jp.Z({id:e.generatorID},t);m().isEmpty(n)||n.fetch()},[qs.RN](e){const t={server:this.server,onlyIfCached:!0},n=new jp.Z({id:e.generatorID},t);if(!m().isEmpty(n)){const t=n.get("children").getCollection().get(e.metadataItemID);t&&t.set({processingState:e.state,processingStateContext:e.stateContext})}},[qs.ax](e){const t=new Lp.Z([],{server:this.server,allowInCache:!0,onlyIfCached:!0});if(!m().isEmpty(t)){const e=t.first();e&&e.fetch()}},[qs.a8](e){const t=u.DB("appStore").dispatch;this.server.get("isShared")||("static"===e.context?this.server.get("desktop").get("backgroundTranscodeJobs").fetch():t(Xt.Z.actions.fetchRequested({server:gd(this.server)})))},[qs.VL](e){if(!this.server.get("isShared")&&"static"===e.context){const t=this.server.get("desktop").get("backgroundTranscodeJobs"),n=t.get(e.key);n?n.set(n.parse(e)):t.fetch()}},[qs.Mu](e){this.server.get("isShared")||this["transcodeSession.start"].apply(this,arguments)},[qs.TD](e){const t=this.server.get("desktop").get("update"),n=m().pick(e,Object.keys(Hp.prototype.syncedAttrs));m().defaults(n,m().result(t,"defaults")),t.get("state")===Pp.DOWNLOADING&&n.state===Pp.AVAILABLE&&(n.state=Pp.DOWNLOADING),t.set(Xp(Xp({},n),{isChecking:!1}))},[qs.lY](e){this.server.get("desktop").get("cloudAccount").fetch()},[qs.yV](e){this.server.set("myPlexSubscription",e.hasPlexPass),u.DB("appModel").get("user").get("isSignedIn")&&ee.Z.trigger("discover:servers")},[qs.gk](e){const t=Op(e),n=u.DB("appStore"),r=this.server.entityID(),i=t.Activity||t;if(i.Context=i.Context||{},i.Response=i.Response||{},r){const e=Jp[t.event],s=em[t.event];e&&n.dispatch(e({serverEntityID:r,activity:i})),s&&n.dispatch(s({server:gd(this.server),activity:i}))}},[qs.u0](e){const t=u.DB("appStore"),n=this.server.entityID();n&&"appeared"===e.event&&t.dispatch((0,ld.Hz)({serverEntityID:n,device:e.Device}))},[qs.sU](){rm(this.server.entityID())},[qs.wL](){rm(this.server.entityID())},[qs.cK](){u.DB("appStore").dispatch((0,Jc.lm)({serverEntityID:this.server.entityID()}))}}),sm=vi.Z.extend({name:"BaseAppModel",isStateTreeRoot:!0,constructor:function(){this._pendingEntities=[],this.listenTo(ee.Z,"change:entity",this.onEntityChange),vi.Z.prototype.constructor.apply(this,arguments)},initialize(){this._pendingEntities.forEach(this._addEntity.bind(this))},_addEntity({type:e,id:t,model:n}){this.get("entities").get(e).add({id:t,model:n},{merge:!0})},onEntityChange(e){this.has("entities")?this._addEntity(e):this._pendingEntities.push(e)}});var am=n(28058),om=n(12186);function lm(e){return e.length?m().map(e,(e=>e.get("debugName"))).join(", "):"(none)"}const cm=yi.Z.extend({mixins:[om.Z],name:"ServerCollection",model:zt.ZP,initialize(){this._resetPopulate()},comparator(e){const t=e.get("isShared"),n=e.get("friendlyName")||"",r=e.get("sourceTitle")||"",i=t?r+n:n;return e.get("isCloud")?"9":(t?"1":"0")+i.toLowerCase()},shouldWaitForInitialServers(){const e=this.filter((e=>(!e.id||!!e.get("resources"))&&e.isPopulating()));return!!e.length&&((0,h.Z)("[Servers] Waiting for initial servers =",lm(e)),!0)},shouldWaitForResources(){const e=this.reduce(((e,t)=>{const n=t.get("isResolved"),r=t.get("resources"),i=r&&r.isPopulating();return n&&i&&e.push(t),e}),[]);return!!e.length&&((0,h.Z)("[Servers] Waiting for additional resources from",lm(e)),!0)},shouldWaitForPendingServers(){if(this.findWhere({isConnected:!0}))return!1;const e=this.filter((e=>e.isPopulating()));return!!e.length&&((0,h.Z)("[Servers] Waiting for pending servers =",lm(e)),!0)},waitForServers(){this._resetPopulate()},foundAllServers(){const e=this.where({isConnected:!0}),t=lm(e);(0,h.Z)("[Servers] Found all servers =",t),e.length?this._resolvePopulate():this._rejectPopulate()},populateAnyServer(e=this.models){const t=a().Deferred(),n=e.slice(0),r=m().find(n,(e=>e.get("isCloud")?e.get("isResolved"):e.get("isConnected")));if(r)return(0,h.Z)("[Servers] Populate any server chose %s where servers = %s",r.get("debugName"),lm(n)),t.resolve(r).promise();if(this.hasOnlyRejectedServers(n))return t.reject().promise();function i(e,r){m().contains(n,e)&&r&&t.resolve(e)}function s(e,r){m().contains(n,e)&&r&&this.hasOnlyRejectedServers(n)&&t.reject()}return this.on({remove:function(e){const r=n.indexOf(e);r>-1&&(n.splice(r,1),this.hasOnlyRejectedServers(n)&&t.reject())},"change:isResolved":i,"change:isRejected":s},this),t.always((()=>{this.off("change:isResolved",i,this),this.off("change:isRejected",s,this)})),t.promise()},populateServer(e){return this.findServer(e,!0).then((e=>e.get("isConnected")&&!e.get("isCloud")?a().Deferred().resolve(e):e.populate()))},findServer(e,t){const n=m().isString(e),r=n?{machineIdentifier:e}:e,i=a().Deferred();if(n){const e=this.get(r.machineIdentifier);if(e&&e.get("isResolved"))return window.setTimeout(i.resolve.bind(i,e),0),i.promise()}const s=m().has(r,"machineIdentifier"),o="add "+m().map(m().keys(r),(e=>"change:"+e)).join(" ");let l;function c(){const e=this.filterServers(r,t);e?(l=e,e.done((t=>{l===e&&i.resolve(t)})),e.fail((()=>{l===e&&(s||!this.isPopulating()?i.reject():this.populate().always(c.bind(this)))}))):this.isPopulating()||i.reject()}return c.call(this),this.on(o,c,this),this.populate().always((()=>{l||i.reject()})),i.always((()=>{this.off(o,c,this)})),i.promise()},filterServers(e,t){const n=this.where(e);if(n.length)return t?this.populateAnyServer(n):a().Deferred().resolve(n[0]).promise()},hasOnlyRejectedServers(e=this.models){return m().every(e,(e=>e.get("isRejected")))},hasLoopbackServer(e=this.models){return!!m().find(e,(e=>{const t=e.get("activeConnection");return!!t&&t.get("isLoopback")}))}});var dm=n(17808),um=Object.defineProperty,pm=Object.prototype.hasOwnProperty,mm=Object.getOwnPropertySymbols,hm=Object.prototype.propertyIsEnumerable,gm=(e,t,n)=>t in e?um(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ym=vi.Z.extend({name:"EntityModel",sessionAttrs:{id:Br.Z.string.isRequired},sessionRelations:{model:{relationClass:vi.Z,deferred:!0}},toState(){const e=this.get("model"),t=((e,t)=>{for(var n in t||(t={}))pm.call(t,n)&&gm(e,n,t[n]);if(mm)for(var n of mm(t))hm.call(t,n)&&gm(e,n,t[n]);return e})({entityID:this.id},e.state);return Object.defineProperty(t,"possibleEntityContainers",{value:e.state.possibleEntityContainers,enumerable:!1}),t},shouldUpdateRelationState:function(){return!0}}),vm=yi.Z.extend({name:"EntityCollection",model:ym,toState(){const e=this.reduce(this.reduceState,{possibleEntityContainers:[]});return Object.defineProperty(e,"possibleEntityContainers",{enumerable:!1}),e},reduceState:(e,t)=>(e.possibleEntityContainers.push(t.id),e[t.id]=t.getState(),e)});var fm=n(68870);const bm=vi.Z.extend({name:"SubtitlesModalModel",sessionAttrs:{serverEntityID:Br.Z.string,metadataItemEntityID:Br.Z.string,isSubtitlesPending:Br.Z.boolean,isSubtitlesPopulated:Br.Z.boolean,subtitlesError:Br.Z.string,subtitlesDownloadActivityID:Br.Z.string,subtitlesDownloadKey:Br.Z.string,subtitlesDownloadStartTime:Br.Z.integer,isSubtitlesDownloaded:Br.Z.boolean,subtitlesDownloadError:Br.Z.string},sessionRelations:{subtitles:{relationClass:fm.Z,deferred:!0}},defaults:{serverEntityID:null,metadataItemEntityID:null,isSubtitlesPending:!1,isSubtitlesPopulated:!1,subtitlesError:null,subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null,isSubtitlesDownloaded:!1,subtitlesDownloadError:null}});var Sm=n(56442);const Im=vi.Z.extend({name:"ProviderIntegrationModel",context:["server","provider"],rootPropertyName:"Integration",syncedAttrs:{id:Br.Z.string.isRequired,status:Br.Z.string.isRequired}}),Zm=yi.Z.extend({name:"ProviderIntegrationCollection",context:["server","provider"],url:"/integrations",responseType:Sm.AV,model:Im}),Pm=vi.Z.extend({name:"ProviderIntegrationsModel",sessionAttrs:{isIntegrationsOnboarding:Br.Z.boolean.isRequired,isIntegrationsPending:Br.Z.boolean.isRequired,isIntegrationsPopulated:Br.Z.boolean.isRequired,integrationsError:Br.Z.object},sessionRelations:{integrations:{relationClass:Zm,deferred:!0}},defaults:{isIntegrationsOnboarding:!1,isIntegrationsPending:!0,isIntegrationsPopulated:!1}}),Em=vi.Z.extend({name:"AdvertisingNoticeModalModel",sessionAttrs:{isSaving:Br.Z.boolean,isSaved:Br.Z.boolean},defaults:{isSaving:!1,isSaved:!1}});var Mm=n(47560),Cm=n(93313);const wm=vi.Z.extend({name:"ChannelGridPageModel",sessionAttrs:{serverEntityID:Br.Z.string,providerEntityID:Br.Z.string,containerKey:Br.Z.string,directoryKey:Br.Z.string,startTime:Br.Z.integer,visibleColumns:Br.Z.integer,columnTimes:Br.Z.array,columnWidth:Br.Z.float,viewportWidth:Br.Z.integer,viewportHeight:Br.Z.integer,airedProgress:Br.Z.float,isChannelsListPending:Br.Z.boolean,isChannelsListPopulated:Br.Z.boolean,channelsListError:Br.Z.object},sessionRelations:{metadataList:{relationClass:Mm.Z,deferred:!0},channelsList:{relationClass:Cm.Z,deferred:!0}},defaults:()=>({startTime:0,visibleColumns:1,columnTimes:[],columnWidth:0,viewportWidth:0,viewportHeight:0,airedProgress:0,isChannelsListPending:!0,isChannelsListPopulated:!1,channelsListError:null})});var Dm=n(14794),Tm=n(66390);const Om=vi.Z.extend({name:"MediaSubscriptionModalModel",sessionAttrs:{isMediaSubscriptionPending:Br.Z.boolean,isMediaSubscriptionPopulated:Br.Z.boolean,mediaSubscriptionError:Br.Z.string,isMediaSubscriptionSaving:Br.Z.boolean,mediaSubscriptionSaveError:Br.Z.string,isMediaSubscriptionMoving:Br.Z.boolean,mediaSubscriptionMoveError:Br.Z.string,isMediaSubscriptionDeleting:Br.Z.boolean,mediaSubscriptionDeleteError:Br.Z.string},sessionRelations:{templates:{relationClass:Tm.Z,deferred:!0},mediaSubscription:{relationClass:Dm.Z,deferred:!0}},defaults:{isMediaSubscriptionPending:!0,isMediaSubscriptionPopulated:!1,mediaSubscriptionError:null,isMediaSubscriptionSaving:!1,mediaSubscriptionSaveError:null,isMediaSubscriptionMoving:!1,mediaSubscriptionMoveError:null,isMediaSubscriptionDeleting:!1,mediaSubscriptionDeleteError:null}});var xm=n(70519),Am=n(36740),Nm=n(22093),km=n(10984);const Lm=(0,ve.Z)(),jm=vi.Z.extend({name:"PlayerModel",sessionAttrs:{serverEntityID:Br.Z.string,providerEntityID:Br.Z.string,playbackSessionID:Br.Z.string,syncplaySessionRoomID:Br.Z.string,isOpen:Br.Z.boolean,previousOpenState:Br.Z.oneOf(Au.K,Au.y),openState:Br.Z.oneOf(Au.K,Au.y),isPlayQueueVisible:Br.Z.boolean,isAlsoAiringVisible:Br.Z.boolean,isLyricsVisible:Br.Z.boolean,isPostPlayVisible:Br.Z.boolean,isSettingsVisible:Br.Z.boolean,isChaptersVisible:Br.Z.boolean,isSubtitlesOffsetSettingsVisible:Br.Z.boolean,isWatchTogetherLobbyVisible:Br.Z.boolean,isWatchTogetherParticipantsVisible:Br.Z.boolean,confirmPlayerUpsellPayload:Br.Z.object,confirmPlaybackPayload:Br.Z.object,confirmOffsetPayload:Br.Z.object,confirmRemoteToLocal:Br.Z.boolean,confirmLocalToRemote:Br.Z.oneOf(km.m$,km.YN,km.o1).isRequired,decisions:Br.Z.object.isRequired,currentDecision:Br.Z.object,startMetadataItemEntityID:Br.Z.string,startOffsetMilliseconds:Br.Z.integer,startMediaIndex:Br.Z.integer,positionSeconds:Br.Z.integer,nextPositionSeconds:Br.Z.integer,lastSeekPositionSeconds:Br.Z.integer,durationSeconds:Br.Z.integer,seekStartSeconds:Br.Z.integer,seekEndSeconds:Br.Z.integer,bandwidthTimeline:Br.Z.object,lastInteractedAt:Br.Z.integer,itemPlaybackTime:Br.Z.integer,sessionPlaybackTime:Br.Z.integer,playbackSpeed:Br.Z.float,isPlayQueueLoading:Br.Z.boolean.isRequired,isLiveTVTuning:Br.Z.boolean.isRequired,isMediaLoading:Br.Z.boolean.isRequired,isPostPlayLoading:Br.Z.boolean.isRequired,isPaused:Br.Z.boolean.isRequired,isBuffering:Br.Z.boolean.isRequired,repeatAll:Br.Z.boolean.isRequired,repeatOne:Br.Z.boolean.isRequired,mediaIndex:Br.Z.integer,partIndex:Br.Z.integer,qualityIndex:Br.Z.integer,availableQualities:Br.Z.array.isRequired,controllable:Br.Z.object,metricsPage:Br.Z.string,metricsContextTuple:Br.Z.array,metricsSetting:Br.Z.string,metricsAutoPlay:Br.Z.boolean,metricsPlayer:Br.Z.oneOf(...Nm.QN),hasError:Br.Z.boolean.isRequired,errorMessage:Br.Z.string,errorCode:Br.Z.string,errorCategory:Br.Z.string,playbackStartTime:Br.Z.integer,hasConflicts:Br.Z.boolean.isRequired,isConflictCancelling:Br.Z.boolean,cancelConflictError:Br.Z.object,confirmLiveTVPlayback:Br.Z.boolean.isRequired,adState:Br.Z.string,adPositionSeconds:Br.Z.integer,adDurationSeconds:Br.Z.integer,adDisplayIndex:Br.Z.integer,adDisplayTotal:Br.Z.integer,adTimeOffsetSeconds:Br.Z.oneOfType(Br.Z.integer,Br.Z.float),advertisingNoticePayload:Br.Z.object,bufferedRanges:Br.Z.array,canPlayThrough:Br.Z.boolean,mediaWidth:Br.Z.integer,mediaHeight:Br.Z.integer},derivedAttrs:{isWatchTogether(){return!!this.get("syncplaySessionRoomID")}},sessionRelations:{playQueue:{relationClass:vi.Z,deferred:!0},relatedHubs:{relationClass:xm.Z,deferred:!0},liveTVSession:{relationClass:Am.Z,deferred:!0}},defaults:()=>({playbackSessionID:Lm,playbackSpeed:1,isOpen:!1,isPlayQueueVisible:!1,isAlsoAiringVisible:!1,isLyricsVisible:!1,isPostPlayVisible:!1,isSettingsVisible:!1,isChaptersVisible:!1,isSubtitlesOffsetSettingsVisible:!1,isWatchTogetherLobbyVisible:!1,isWatchTogetherParticipantsVisible:!1,confirmPlaybackPayload:null,confirmOffsetPayload:null,confirmRemoteToLocal:!1,confirmLocalToRemote:km.m$,decisions:{},startMetadataItemEntityID:null,startOffsetMilliseconds:null,startMediaIndex:null,positionSeconds:0,nextPositionSeconds:null,lastSeekPositionSeconds:null,durationSeconds:0,seekStartSeconds:0,seekEndSeconds:0,itemPlaybackTime:0,sessionPlaybackTime:0,isPlayQueueLoading:!1,isLiveTVTuning:!1,isMediaLoading:!1,isPostPlayLoading:!1,isPaused:!1,isBuffering:!1,repeatAll:!1,repeatOne:!1,availableQualities:[],metricsAutoPlay:!1,hasError:!1,errorMessage:null,errorCode:null,errorCategory:null,playbackStartTime:null,hasConflicts:!1,isConflictCancelling:!1,cancelConflictError:null,confirmLiveTVPlayback:!1,adState:null,adPositionSeconds:null,adDurationSeconds:null,adDisplayIndex:null,adDisplayTotal:null,adTimeOffsetSeconds:null,advertisingNoticePayload:null,bufferedRanges:[],canPlayThrough:!1,mediaWidth:null,mediaHeight:null})}),Rm=vi.Z.extend({name:"ProviderSettingsPageModel",context:["server","provider"],sessionAttrs:{isUpdatePending:Br.Z.boolean,updateError:Br.Z.object},defaults:{isUpdatePending:!1,updateError:null}});var Vm=n(67249),Um=n(61688);const zm=vi.Z.extend({name:"RecordingSchedulePageModel",sessionAttrs:{isPagePopulated:Br.Z.boolean,isMediaSubscriptionsPending:Br.Z.boolean,isMediaSubscriptionsPopulated:Br.Z.boolean,mediaSubscriptionsError:Br.Z.object,isCalendarPending:Br.Z.boolean,isCalendarPopulated:Br.Z.boolean,calendarError:Br.Z.object,mediaSubscriptionMoveError:Br.Z.string},sessionRelations:{mediaSubscriptions:{relationClass:Um.Z,deferred:!0},calendar:{relationClass:Vm.Z,deferred:!0}},defaults:{isPagePopulated:!1,isMediaSubscriptionsPending:!1,isMediaSubscriptionsPopulated:!1,mediaSubscriptionsError:null,isCalendarPending:!1,isCalendarPopulated:!1,calendarError:null,mediaSubscriptionMoveError:null}});var Bm=n(69273);const _m=yi.Z.extend({name:"SearchCollection",context:["server","provider"],model:Bm.Z}),Fm=vi.Z.extend({name:"SearchPageModel",sessionRelations:{searches:{relationClass:_m}}});var Hm=n(66357),Wm=n(64297);const Qm=vi.Z.extend({name:"WatchTogetherRoomUserModel",syncedAttrs:{id:Br.Z.integer.isRequired,subscription:Br.Z.boolean.isRequired,thumb:Br.Z.string.isRequired,title:Br.Z.string.isRequired,uuid:Br.Z.string.isRequired}}),Gm=yi.Z.extend({name:"WatchTogetherRoomUserCollection",model:Qm}),Ym=vi.Z.extend({name:"WatchTogetherRoomModel",entityType:Np.r8,entityID(e=this.state){return(0,Ap.Z)(this.entityType,e.id)},mergeStrategy:Wm.Z,sessionAttrs:{isMetadataItemPending:Br.Z.boolean,isMetadataItemPopulated:Br.Z.boolean,metadataItemError:Br.Z.string},syncedAttrs:{id:Br.Z.string.isRequired,title:Br.Z.string.isRequired,sourceUri:Br.Z.string.isRequired,startsAt:Br.Z.integer.isRequired,endsAt:Br.Z.integer.isRequired,updatedAt:Br.Z.integer.isRequired,syncplayHost:Br.Z.string.isRequired,syncplayPort:Br.Z.integer.isRequired},syncedRelations:{metadataItem:{relationClass:gt.Z,deferred:!0},users:{relationClass:Gm}},defaults:{isMetadataItemPending:!0,isMetadataItemPopulated:!1,metadataItemError:null}}),qm=yi.Z.extend({name:"WatchTogetherRoomCollection",model:Ym}),Km=vi.Z.extend({name:"WatchTogetherModel",sessionAttrs:{isRoomsPending:Br.Z.boolean,isRoomsPopulated:Br.Z.boolean,roomsError:Br.Z.string,isInvitePending:Br.Z.boolean,isInviteCompleted:Br.Z.boolean,inviteError:Br.Z.string,sessionError:Br.Z.string},sessionRelations:{session:{relationClass:Hm.Z,deferred:!0},rooms:{relationClass:qm}},defaults:()=>({isRoomsPending:!0,isRoomsPopulated:!1,roomsError:void 0,isInvitePending:!1,isInviteCompleted:!1,inviteError:void 0,sessionError:void 0})}),$m=vi.Z.extend({name:"MultiSelectItemModel",sessionAttrs:{id:Br.Z.any.isRequired,type:Br.Z.string.isRequired},sessionRelations:{model:{relationClass:vi.Z,deferred:!0}}}),Xm=yi.Z.extend({name:"MultiSelectItemCollection",model:$m}),Jm=vi.Z.extend({name:"MultiSelectModel",sessionAttrs:{activeSelectionRange:Br.Z.object},sessionRelations:{activeSelectionItems:{relationClass:Xm}},derivedAttrs:{activeSelectionType(){const e=this.get("activeSelectionItems").first();if(e)return e.get("type")}},initialize(){this.listenTo(this.get("activeSelectionItems"),{remove:this.resetSelectionRange,reset:this.resetSelectionRange})},listenToCollection(e){this.stopListening(e),this.listenTo(e,{reset:this.onCollectionReset,remove:this.onCollectionRemove})},resetSelectionRange(){this.set("activeSelectionRange",null)},onCollectionReset(e,t){const n=this.get("activeSelectionItems"),r=t.previousModels;m().each(r,(t=>{e.contains(t)||n.remove(t.id)}))},onCollectionRemove(e){this.get("activeSelectionItems").remove(e.id)}}),eh=vi.Z.extend({name:"AddToPlaylistMenuModel",sessionAttrs:{uri:Br.Z.string},sessionRelations:{recentPlaylists:{relationClass:ht.Z,deferred:!0}}});var th=n(72149),nh=n(45224);const rh=vi.Z.extend({name:"AddToPlaylistModalModel",sessionAttrs:{providerEntityID:Br.Z.string,containerKey:Br.Z.string,type:Br.Z.string,title:Br.Z.string,uri:Br.Z.string,smart:Br.Z.boolean,readOnly:Br.Z.boolean,isUpdating:Br.Z.boolean,error:Br.Z.object},sessionRelations:{server:{relationClass:zt.ZP,deferred:!0},provider:{relationClass:nh.Z,deferred:!0},metadataItem:{relationClass:gt.Z,deferred:!0},metadataList:{relationClass:ht.Z,deferred:!0},multiSelect:{relationClass:Jm,deferred:!0},playQueue:{relationClass:th.Z,deferred:!0},playlists:{relationClass:ht.Z,deferred:!0}},defaults:{title:"",smart:!1,readOnly:!1,isUpdating:!1}}),ih=vi.Z.extend({name:"SubtitlesUploadModalModel",sessionAttrs:{isUploading:Br.Z.boolean,isUploaded:Br.Z.boolean,error:Br.Z.string},defaults:{isUploading:!1,isUploaded:!1,error:null}}),sh=vi.Z.extend({name:"ServerLogPageModel",sessionAttrs:{logLines:Br.Z.array.isRequired,unfilteredLogLinesCount:Br.Z.integer.isRequired,filter:Br.Z.string.isRequired,logLevels:Br.Z.array.isRequired,highlightedLineIndex:Br.Z.integer,timeFilterStart:Br.Z.string.isRequired,timeFilterEnd:Br.Z.string.isRequired,isTimeFilterStartValid:Br.Z.boolean.isRequired,isTimeFilterEndValid:Br.Z.boolean.isRequired,showTimeFilter:Br.Z.boolean.isRequired,showRawText:Br.Z.boolean.isRequired},defaults:()=>({logLines:[],unfilteredLogLinesCount:0,filter:"",logLevels:[],timeFilterStart:"",timeFilterEnd:"",isTimeFilterStartValid:!0,isTimeFilterEndValid:!0,showRawText:!1,showTimeFilter:!1})}),ah=vi.Z.extend({name:"AccountSettingsPageModel",sessionAttrs:{isUpdatingUserProfile:Br.Z.boolean.isRequired,updateUserProfileError:Br.Z.string},defaults:{isUpdatingUserProfile:!1,updateUserProfileError:null}}),oh=vi.Z.extend({name:"AddToCatalogModalModel",sessionAttrs:{isUpdating:Br.Z.boolean.isRequired,error:Br.Z.object},defaults:{isUpdating:!1,error:null}}),lh=vi.Z.extend({name:"AuthCodeExchangeModel",sessionAttrs:{code:Br.Z.string,pinID:Br.Z.integer,pinIDInitial:Br.Z.integer,pinTimeout:Br.Z.integer,authToken:Br.Z.string,isBusy:Br.Z.boolean.isRequired,errorMessage:Br.Z.string,fatalErrorMessage:Br.Z.string},defaults:{code:null,pinID:null,pinIDInitial:null,pinTimeout:null,authToken:null,isBusy:!1,errorMessage:null,fatalErrorMessage:null}}),ch=vi.Z.extend({name:"BackgroundModel",sessionAttrs:{imageUrl:Br.Z.string,themeMusicUrl:Br.Z.string,allowBlur:Br.Z.boolean,isBackgroundPending:Br.Z.boolean},sessionRelations:{server:{relationClass:zt.ZP,deferred:!0},provider:{relationClass:nh.Z,deferred:!0}},defaults:{allowBlur:!0,isBackgroundPending:!1}});var dh=n(66764),uh=n(75557);const ph=vi.Z.extend({name:"DVRSettingsUIModel",sessionAttrs:{isDvrsPending:Br.Z.boolean,isDvrsPopulated:Br.Z.boolean,dvrsError:Br.Z.object,isUIPopulated:Br.Z.boolean},sessionRelations:{dvrs:{relationClass:dh.Z,deferred:!0},dvrSetup:{relationClass:uh.Z,deferred:!0}},defaults:{isDvrsPending:!1,isDvrsPopulated:!1,dvrsError:null,isUIPopulated:!1}}),mh=vi.Z.extend({name:"DiscoverPageModel",sessionAttrs:{providerEntityID:Br.Z.string,hubKey:Br.Z.string,isHubsPending:Br.Z.boolean.isRequired,isHubsPopulated:Br.Z.boolean.isRequired,hubsError:Br.Z.object,hubsTitle:Br.Z.string,isPromotedHubsPending:Br.Z.boolean.isRequired,isPromotedHubsPopulated:Br.Z.boolean.isRequired,promotedHubsError:Br.Z.object,knownPromotedHubCloudProviderIDs:Br.Z.array.isRequired},sessionRelations:{hubs:{relationClass:xm.Z,deferred:!0},promotedHubs:{relationClass:xm.Z,deferred:!0}},defaults:()=>({isHubsPending:!0,isHubsPopulated:!1,hubsError:null,hubsTitle:null,isPromotedHubsPending:!0,isPromotedHubsPopulated:!1,promotedHubsError:null,knownPromotedHubCloudProviderIDs:[]})});var hh=n(48767);const gh=vi.Z.extend({name:"OnlineMediaSourcesPageModel",sessionAttrs:{optOutStatuses:Br.Z.object,isOptOutStatusesPending:Br.Z.boolean,optOutStatusesError:Br.Z.object,isAvailableProvidersPending:Br.Z.boolean,isAvailableProvidersPopulated:Br.Z.boolean,availableProvidersError:Br.Z.object,isUpdatePending:Br.Z.boolean,updateError:Br.Z.object},sessionRelations:{availableProviders:{relationClass:hh.Z,deferred:!0}},defaults:{isOptOutStatusesPending:!0,optOutStatusesError:null,isAvailableProvidersPending:!0,isAvailableProvidersPopulated:!1,availableProvidersError:null,isUpdatePending:!1,updateError:null}});var yh=n(81318);const vh=vi.Z.extend({name:"PlaylistPageModel",sessionAttrs:{serverEntityID:Br.Z.string,providerEntityID:Br.Z.string,metadataKey:Br.Z.string,isPlaylistPending:Br.Z.boolean.isRequired,isPlaylistPopulated:Br.Z.boolean.isRequired,playlistError:Br.Z.object,isPlaylistItemListPending:Br.Z.boolean.isRequired,isPlaylistItemListPopulated:Br.Z.boolean.isRequired,playlistItemListError:Br.Z.object},sessionRelations:{playlist:{relationClass:gt.Z,deferred:!0},playlistItemList:{relationClass:yh.Z,deferred:!0}},defaults:{isPlaylistPending:!0,isPlaylistPopulated:!1,playlistError:null,isPlaylistItemListPending:!0,isPlaylistItemListPopulated:!1,playlistItemListError:null}});var fh=n(94053),bh=n(32919);const Sh=vi.Z.extend({name:"PlaylistsPageModel",sessionAttrs:{serverEntityID:Br.Z.string,libraryKey:Br.Z.string,containerKey:Br.Z.string,isLibraryDetailsPending:Br.Z.boolean.isRequired,isLibraryDetailsPopulated:Br.Z.boolean.isRequired,libraryDetailsError:Br.Z.object,isSortsPending:Br.Z.boolean.isRequired,isSortsPopulated:Br.Z.boolean.isRequired,sortsError:Br.Z.object},sessionRelations:{libraryDetails:{relationClass:fh.Z,deferred:!0},playlists:{relationClass:ht.Z,deferred:!0},sorts:{relationClass:bh.Z,deferred:!0}},defaults:{isLibraryDetailsPending:!0,isLibraryDetailsPopulated:!1,libraryDetailsError:null,isSortsPending:!0,isSortsPopulated:!1,sortsError:null}}),Ih=vi.Z.extend({name:"PrePlayPageModel",sessionAttrs:{providerEntityID:Br.Z.string,metadataKey:Br.Z.string,descendantKey:Br.Z.string,siblingKey:Br.Z.string,isMetadataItemPending:Br.Z.boolean.isRequired,isMetadataItemPopulated:Br.Z.boolean.isRequired,metadataItemError:Br.Z.object,isRelatedHubsPending:Br.Z.boolean.isRequired,isRelatedHubsPopulated:Br.Z.boolean.isRequired,relatedHubsError:Br.Z.object,isAugmentedHubsPending:Br.Z.boolean.isRequired,isAugmentedHubsPopulated:Br.Z.boolean.isRequired,augmentedHubsError:Br.Z.object,isFileUnavailable:Br.Z.boolean,decisionMediaItem:Br.Z.object},sessionRelations:{metadataItem:{relationClass:gt.Z,deferred:!0},descendantList:{relationClass:ht.Z,deferred:!0},siblingList:{relationClass:ht.Z,deferred:!0},relatedHubs:{relationClass:xm.Z,deferred:!0},augmentedHubs:{relationClass:xm.Z,deferred:!0}},defaults:{isMetadataItemPending:!0,isMetadataItemPopulated:!1,metadataItemError:null,isRelatedHubsPending:!0,isRelatedHubsPopulated:!1,relatedHubsError:null,isAugmentedHubsPending:!0,isAugmentedHubsPopulated:!1,augmentedHubsError:null,isFileUnavailable:!1}}),Zh=vi.Z.extend({name:"QuickSearchModel",sessionAttrs:{query:Br.Z.string,serverEntityID:Br.Z.string,providerEntityID:Br.Z.string,providerIdentifier:Br.Z.string,directoryID:Br.Z.string,selectedResultEntityID:Br.Z.string},sessionRelations:{searches:{relationClass:_m}},defaults:{query:"",selectedResultEntityID:null}});var Ph=n(24781);const Eh=vi.Z.extend({name:"MomentModel",context:["server","provider"],idAttribute:"id",rootPropertyName:"Directory",syncedAttrs:{id:Br.Z.string,title:Br.Z.string,size:Br.Z.integer,avgAR:Br.Z.float,startsAt:Br.Z.integer,endsAt:Br.Z.integer}}),Mh=yi.Z.extend({name:"MomentCollection",context:["server","provider"],model:Eh}),Ch=vi.Z.extend({name:"MomentListModel",context:["server","provider"],url(){return this.get("momentKey")},sessionAttrs:{momentKey:Br.Z.string},syncedAttrs:{key:Br.Z.string},syncedRelations:{moments:{relationClass:Mh,rootPropertyName:"Directory"}}}),wh=vi.Z.extend({name:"TimelinePageModel",sessionAttrs:{serverEntityID:Br.Z.string,providerEntityID:Br.Z.string,momentKey:Br.Z.string,isDetailsPending:Br.Z.boolean.isRequired,isDetailsPopulated:Br.Z.boolean.isRequired,detailsError:Br.Z.object,isMomentListPending:Br.Z.boolean.isRequired,isMomentListPopulated:Br.Z.boolean.isRequired,momentListError:Br.Z.object},sessionRelations:{metadataList:{relationClass:ht.Z,deferred:!0},details:{relationClass:fh.Z,deferred:!0},momentList:{relationClass:Ch,deferred:!0}},defaults:{isDetailsPending:!0,isDetailsPopulated:!1,detailsError:null,isMomentListPending:!0,isMomentListPopulated:!1,momentListError:null}});var Dh=n(47985);const Th=vi.Z.extend({name:"UserSharingSettingsPageModel",sessionAttrs:{filterOptionsTags:Br.Z.object,isFilterOptionsTagsPopulating:Br.Z.boolean,isFilterOptionsTagsPopulated:Br.Z.boolean,isUpdatingFriend:Br.Z.boolean,updateFriendError:Br.Z.string,ownedSharedSources:Br.Z.array,receivedSharedSources:Br.Z.array,isSharedSourcesPopulating:Br.Z.boolean,isSharedSourcesPopulated:Br.Z.boolean,sharedSourcesError:Br.Z.string,deleteSharedItemID:Br.Z.integer,isServerOverviewsPopulating:Br.Z.boolean,isServerOverviewsPopulated:Br.Z.boolean,isServerSharesPopulating:Br.Z.boolean,isServerSharesPopulated:Br.Z.boolean,serverSharesError:Br.Z.string,isSharingPending:Br.Z.boolean,isSharingCompleted:Br.Z.boolean,sharingError:Br.Z.string,isRemoveServerSharePending:Br.Z.boolean,isRemoveServerShareCompleted:Br.Z.boolean,removeServerShareError:Br.Z.string},sessionRelations:{serverOverviews:{relationClass:Dh.Z,deferred:!0}},defaults:()=>({filterOptionsTags:{},isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!1,isUpdatingFriend:!1,updateFriendError:null,ownedSharedSources:[],receivedSharedSources:[],isSharedSourcesPopulating:!1,isSharedSourcesPopulated:!1,sharedSourcesError:null,deleteSharedItemID:null,isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!1,isServerSharesPopulating:!1,isServerSharesPopulated:!1,serverSharesError:null,isSharingPending:!1,isSharingCompleted:!1,sharingError:null,isRemoveServerSharePending:!1,isRemoveServerShareCompleted:!1,removeServerShareError:null})}),Oh=vi.Z.extend({name:"DesktopUIModel",sessionRelations:{background:{relationClass:ch},authCodeExchange:{relationClass:lh},discoverPage:{relationClass:mh},prePlayPage:{relationClass:Ih},timelinePage:{relationClass:wh},playlistsPage:{relationClass:Sh},dvrSettingsUI:{relationClass:ph},recordingSchedulePage:{relationClass:zm},channelGridPage:{relationClass:wm},mediaSubscriptionModal:{relationClass:Om},searchPage:{relationClass:Fm},quickSearch:{relationClass:Zh},photoPlayer:{relationClass:jm},audioVideoPlayer:{relationClass:jm},romPlayer:{relationClass:jm},onlineMediaSourcesPage:{relationClass:gh},accountSettingsPage:{relationClass:ah},playlistPage:{relationClass:vh},providerSettingsPage:{relationClass:Rm},addToCatalogModal:{relationClass:oh},multiSelect:{relationClass:Jm},serverLogPage:{relationClass:sh},subtitlesModal:{relationClass:bm},subtitlesUploadModal:{relationClass:ih},addToPlaylistMenu:{relationClass:eh},addToPlaylistModal:{relationClass:rh},shareModal:{relationClass:Ph.Z},userSharingSettingsPage:{relationClass:Th},providerIntegrations:{relationClass:Pm},advertisingNoticeModal:{relationClass:Em},watchTogether:{relationClass:Km}}});var xh=n(2418),Ah=n.n(xh),Nh=n(56529),kh=n(52039),Lh=n(86278),jh=n(12610),Rh=n(1547),Vh=n(25519),Uh=n(22724);const zh=yi.Z.extend({name:"FriendCollection2",context:["server"],model:Uh.Z,url:"/api/users"}),Bh=vi.Z.extend({name:"HomeDetailsModel",context:["server"],url:"/api/v2/home",responseType:Sm.AV,sessionAttrs:{isTogglingGuestUser:Br.Z.boolean},syncedAttrs:{id:Br.Z.integer,guestUserID:Br.Z.integer,guestEnabled:Br.Z.boolean,subscription:Br.Z.boolean,name:Br.Z.string},defaults:{isTogglingGuestUser:!1}});var _h=n(92216),Fh=n(85667);const Hh=vi.Z.extend({name:"UserProfileModel",context:["server"],url:"/api/v2/user/profile",syncedAttrs:{autoSelectAudio:Br.Z.boolean,autoSelectSubtitle:Br.Z.integer,defaultAudioLanguage:Br.Z.string,defaultSubtitleLanguage:Br.Z.string,defaultSubtitleAccessibility:Br.Z.integer,defaultSubtitleForced:Br.Z.integer}});var Wh=n(69790),Qh=n(57578),Gh=n(19375);const Yh=yi.Z.extend({name:"UserSettingCollection",context:["server"],model:Gh.Z});var qh=n(77727),Kh=Object.defineProperty,$h=Object.prototype.hasOwnProperty,Xh=Object.getOwnPropertySymbols,Jh=Object.prototype.propertyIsEnumerable,eg=(e,t,n)=>t in e?Kh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tg=(e,t)=>{for(var n in t||(t={}))$h.call(t,n)&&eg(e,n,t[n]);if(Xh)for(var n of Xh(t))Jh.call(t,n)&&eg(e,n,t[n]);return e};const ng=vi.Z.extend({mixins:[om.Z],name:"UserModel",context:["server"],url(){return g.Z.join("/api/v2/user",Bn(this))},sessionAttrs:{isRemote:Br.Z.boolean,isSignedIn:Br.Z.boolean.isRequired,hasAttemptedSignIn:Br.Z.boolean.isRequired,hasInvalidToken:Br.Z.boolean.isRequired,hasInvalidAnonymousUserToken:Br.Z.boolean.isRequired,lastPrimaryServerID:Br.Z.string,lockState:Br.Z.oneOf(Nn.Ik.Pending,Nn.Ik.Locked,Nn.Ik.Unlocked).isRequired,homeUsers:Br.Z.instanceOf(_h.Z).isRequired,isFeaturesPending:Br.Z.boolean.isRequired,isFeaturesPopulated:Br.Z.boolean.isRequired,featuresError:Br.Z.object,isAllFriendsPending:Br.Z.boolean.isRequired,isAllFriendsPopulated:Br.Z.boolean.isRequired,allFriendsError:Br.Z.object,isProvidersPending:Br.Z.boolean.isRequired,isProvidersPopulated:Br.Z.boolean.isRequired,providersError:Br.Z.object},syncedAttrs:{id:Br.Z.integer,uuid:Br.Z.string,authToken:Br.Z.string,anonymous:Br.Z.boolean,username:Br.Z.string,email:Br.Z.string,confirmed:Br.Z.boolean,emailOnlyAuth:Br.Z.boolean,title:Br.Z.string,subscriptionDescription:Br.Z.string,locale:Br.Z.string,country:Br.Z.string,thumb:Br.Z.string,pin:Br.Z.string,home:Br.Z.boolean,restricted:Br.Z.boolean,guest:Br.Z.boolean,homeSize:Br.Z.integer,maxHomeSize:Br.Z.integer,queueUid:Br.Z.string,queueEmail:Br.Z.string,hasAllEntitlements:Br.Z.boolean,mailingListActive:Br.Z.boolean,experimentalFeatures:Br.Z.boolean,hasPassword:Br.Z.boolean,twoFactorEnabled:Br.Z.boolean,mailingListStatus:Br.Z.oneOf(Nn.dK.Empty,Nn.dK.Unsubscribed,Nn.dK.Active,Nn.dK.Error,Nn.dK.Removed),adsConsent:Br.Z.boolean,adsConsentSetAt:Br.Z.integer,adsConsentReminderAt:Br.Z.integer},sessionRelations:{features:{relationClass:Lh.Z},allFriends:{relationClass:zh},providers:{relationClass:kh.Z},homeDetails:{relationClass:Bh}},syncedRelations:{subscriptions:{relationClass:qh.Z},pastSubscriptions:{relationClass:qh.Z},roles:{relationClass:Wh.Z},entitlements:{relationClass:Fh.Z},settings:{relationClass:Yh},experienceSettings:()=>({relationClass:(0,u.DB)("UserExperienceSettingsModel")}),services:{relationClass:Qh.Z},profile:{relationClass:Hh}},derivedAttrs:{isLocked(){return this.get("lockState")===Nn.Ik.Locked},isUnlocked(){return this.get("lockState")===Nn.Ik.Unlocked},isFullUser(){return!!this.get("username")||!!this.get("anonymous")},isEmployee(){return!!this.get("roles").get("employee")},isNinja(){return this.get("isEmployee")||!!this.get("roles").get("ninja")},hasPlexSubscription(){return this.get("subscriptions").some((e=>{const t=e.get("state");return t===jh.iN||t===jh.j5}))},hasPlexPass(){return this.get("subscriptions").some((e=>{const t=e.get("type"),n=e.get("state");return t===Rh.G5&&(n===jh.iN||n===jh.j5)}))},canGoPremium(){const e=this.get("homeSize")>1,t=!1===this.get("homeDetails").get("subscription");return this.get("signedIn")&&!this.get("anonymous")&&!this.get("restricted")&&!this.get("hasPlexSubscription")&&(!e||t)},signedIn(){return this.get("isSignedIn")},locked(){const e=this.get("lockState");return e===Nn.Ik.Locked||e!==Nn.Ik.Unlocked&&null}},defaults(){const e={server:this.server,parent:this};return{id:0,isRemote:!1,isSignedIn:!1,hasAttemptedSignIn:!1,hasInvalidToken:!1,hasInvalidAnonymousUserToken:!1,hasPassword:!0,lockState:Nn.Ik.Pending,homeUsers:new _h.Z([],e),twoFactorEnabled:!1,isFeaturesPending:!0,isFeaturesPopulated:!1,featuresError:null,isAllFriendsPending:!0,isAllFriendsPopulated:!1,allFriendsError:null,isProvidersPending:!0,isProvidersPopulated:!1,providersError:null}},initialize(e,t){this._resetPopulate(),this.onHomeUsersChange(this,this.get("homeUsers")),this.on("change:homeUsers",this.onHomeUsersChange,this),this.listenTo(this.server,{"change:isConnected":this.onServerConnectedChange,"change:isUnavailable":this.onServerUnavailableChange})},uninitialize(){this.off("change:homeUsers",this.onHomeUsersChange,this),this.stopListening()},fetch(){return ap.ZP.Model.prototype.fetch.apply(this,arguments)},augmentResponse(e={}){const t=e,{roles:n,entitlements:r,settings:i,providers:s,subscriptions:a,pastSubscriptions:o}=t,l=((e,t)=>{var n={};for(var r in e)$h.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Xh)for(var r of Xh(e))t.indexOf(r)<0&&Jh.call(e,r)&&(n[r]=e[r]);return n})(t,["roles","entitlements","settings","providers","subscriptions","pastSubscriptions"]);let c=i&&i.setting?i.setting:[];c=Array.isArray(c)?c:[c];const d=this.get("experienceSettings");let u=!1;const p=c.reduce(((e,t)=>(t.id===Si.U?(u=!0,e.experienceSettings=tg(tg({},(0,Pr.Z)(t.value)),{updatedAt:t.updatedAt})):e.settings.push(t),e)),{settings:[],experienceSettings:{}});return!u&&d&&(p.experienceSettings=d.toJSON({syncedOnly:!0})),l.gdprConsent&&(l.adsConsent=l.gdprConsent),l.gdprSetAt&&(l.adsConsentSetAt=l.gdprSetAt),l.gdprReminderAt&&(l.adsConsentReminderAt=l.gdprReminderAt),tg(tg(tg({},l),p),{roles:n&&n.role,hasAllEntitlements:r&&r.all,entitlements:r&&r.entitlement,services:s&&s.provider,subscriptions:a&&a.subscription,pastSubscriptions:o&&o.pastSubscription})},_getTokenPromise(){var e,t;return null==(t=null==(e=(0,u.DB)("appModel").get("ui"))?void 0:e.get("authCodeExchange"))||t.get("pinIDInitial"),($.Z.allowSSO?this._getSSOThenStorageTokenPromise():this._getStorageTokenPromise()).then(null,(()=>(this.get("hasInvalidAnonymousUserToken"),this._getSkipAnonymousTokenPromise())))},_getSSOThenStorageTokenPromise(){const e=this._getStorageTokenPromise(),t=this._getSSOTokenPromise(),n=()=>this.get("anonymous")?((0,h.Z)("[User] SSO status is not available, try stored anonymous token"),e):((0,h.Z)("[User] SSO status is signed-out"),e.then((()=>(0,U.Z)(this.signOutDueToInvalidToken()))));return t.then((t=>t?(t=>e.then((e=>t===e?((0,h.Z)("[User] SSO status is signed-in, storage token matches SSO token"),t):((0,h.Z)("[User] SSO status is signed-in, storage token and SSO token differ"),Te.Z.execute("resetUser").then((()=>{window.location.reload()})))),(()=>((0,h.Z)("[User] SSO status is signed-in, storage token is not present"),(0,U.Z)(t)))))(t):n()),(()=>((0,h.Z)("[User] SSO status is not available"),e)))},_getStorageTokenPromise:()=>ge.Z.get("myPlexAccessToken"),_getSSOTokenPromise(){return Yn(this.server.getXHROptions("/api/v2/users/signin",{method:"POST",xhrFields:{withCredentials:!0},data:{skipAuthentication:!0},dataType:"json"})).then((e=>e.authToken),(e=>e&&400===e.status?a().Deferred().resolve(null).promise():a().Deferred().reject().promise()))},_getSkipAnonymousTokenPromise:()=>((0,h.Z)("[User] Not attempting to create an anonymous token."),a().Deferred().reject().promise()),_getAnonymousTokenPromise(){const e=function(e,t){if(!t||!t.campaign)return e;const n=Object.keys(t.campaign).reduce(((e,n)=>(e[`utm_${n}`]=t.campaign[n],e)),{});return(0,Vh.Z)(e,n)}("/api/v2/users/anonymous",(0,u.DB)("metrics").toJSON().context);return Yn(this.server.getXHROptions(e,{method:"POST",dataType:"json"})).then((({authToken:e})=>((0,h.Z)("[User] Anonymous token promise succeeded, accessToken="+e),e)))},_getManualUserPromise(e){return a().ajax(this.server.getXHROptions(m().result(this,"url"),{headers:{"X-Plex-Token":e}}))},signInUnsupervised(){if(this._isSigningIn)return;this._isSigningIn=!0;const e=this._getTokenPromise();e.done((e=>{(0,h.Z)("[User] Token promise succeeded, accessToken="+e);const t=e?this._getManualUserPromise(e):a().Deferred().reject().promise();t.done((t=>{(0,h.Z)("[User] userPromise succeeded");const n=this.get("homeDetails");n.fetch({headers:{"X-Plex-Token":e}}).always((()=>{const e=this.parse(t);let r=this.get("lockState");if(r!==Nn.Ik.Unlocked){const t=(0,u.DB)("settingFinder").find("autoLogin"),i=!!e.guest&&!n.get("guestEnabled");r=!e.home||t&&!i?Nn.Ik.Unlocked:Nn.Ik.Locked}this.signIn(e,{lockState:r}),this._isSigningIn=!1}))})),t.fail((e=>{if((0,h.Z)("[User] userPromise failed"),e&&e.aborting)return this.set({hasAttemptedSignIn:!0}),void(this._isSigningIn=!1);!e||401!==e.status&&422!==e.status?this.signOut({hasAttemptedSignIn:!0,hasInvalidToken:!1,features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")}):this.get("anonymous")?((0,h.Z)("[User] userPromise failed for anonymous user due to invalid token."),this.signOutAnonymousUser()):((0,h.Z)("[User] userPromise failed due to invalid token."),this.signOutDueToInvalidToken()),this.server.testAllConnections(),this._isSigningIn=!1}))})),e.fail((()=>{(0,h.Z)("[User] tokenPromise failed"),this.signOut({hasAttemptedSignIn:!0,hasInvalidAnonymousUserToken:this.get("hasInvalidAnonymousUserToken"),features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")}),this._isSigningIn=!1}))},signIn(e,t={},n={}){const r=m().isString(e)?this.parse(e):e,i=r.authToken,s=tg(tg({hasAttemptedSignIn:!0,isSignedIn:!0},r),t);return this._resolve(s,n),ge.Z.set("myPlexAccessToken",i)},signOut(e={}){return this._reject(e),a().Deferred().resolve().promise()},signOutAnonymousUser(){return(0,ye.Z)(this.signOut({hasAttemptedSignIn:!0,hasInvalidAnonymousUserToken:!0}),this.clearAccessToken())},signOutDueToInvalidToken(){return(0,ye.Z)(this.signOut({hasAttemptedSignIn:!0,hasInvalidToken:!0}),this.clearAccessToken())},activateStoredUser(e){An.Z.set("activeUserID",e)},clearAccessToken(){window.PLEXWEB&&window.PLEXWEB.myPlexAccessToken&&delete window.PLEXWEB.myPlexAccessToken;let e=ge.Z.remove("myPlexAccessToken");return e=e.then((()=>An.Z.clearActiveUser())),e},hashPIN(e,t=this.get("authToken")){return Ah().SHA256_hash(e+t)},hasEntitlement(e){const t=this.get("hasAllEntitlements"),n=this.get("entitlements");return!(!t&&!n.get(e))},hasHome(){return!!this.get("pin")||this.get("homeUsers").length>1},isFullUser(){return this.get("isFullUser")},isEmployee(){return this.get("isEmployee")},isNinja(){return this.get("isNinja")},_resolve(e,t={}){this.startCapturingChangeEvents(),this.activateStoredUser(e.id),this.set(e),this._resolvePopulate(),this.server.authenticate(e.authToken),t.silent?this.discardCapturedChangeEvents():this.releaseCapturedChangeEvents()},_reject(e,t={}){this.startCapturingChangeEvents(),this.restoreDefaults(e),this._rejectPopulate(),this.server.deauthenticate(),t.silent?this.discardCapturedChangeEvents():this.releaseCapturedChangeEvents()},onHomeUsersChange(e,t){const n=e.previous("homeUsers");n&&this.stopListening(n),this.listenTo(this.get("homeUsers"),"reset add remove",this.onHomeUsersUpdate)},onHomeUsersUpdate(){this.set("homeSize",this.get("homeUsers").length),this.get("homeDetails").fetch()},onServerConnectedChange(e,t){t&&this.signInUnsupervised()},onServerUnavailableChange(e,t){t&&this.signOut({lockState:this.get("lockState"),features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")})}});(0,Nh.Z)(ng,(function(){return{relationClass:(0,u.DB)("UserFlexModel")}}));const rg=ng;var ig=n(13001),sg=n(92002),ag=n(34857),og=n(48505),lg=n(26636),cg=n(29884);function dg(e,t,n,...r){return(0,ag.rM)((function*(){const i={};yield(0,ag.ib)(e,(function*(e){const s=n(e);i[s]&&(yield(0,ag.al)(i[s])),i[s]=yield(0,ag.rM)(t,e,...r),yield(0,ag.v_)(i[s]),i[s]&&!i[s].isRunning()&&delete i[s]}))}))}function ug(e,t,n,...r){return(0,ag.rM)((function*(){const i={};yield(0,ag.ib)(e,(function*(e){var s;const a=n(e);(null==(s=i[a])?void 0:s.isRunning())||(i[a]=yield(0,ag.rM)(t,e,...r),yield(0,ag.v_)(i[a]),i[a]&&!i[a].isRunning()&&delete i[a])}))}))}var pg=Object.defineProperty,mg=Object.prototype.hasOwnProperty,hg=Object.getOwnPropertySymbols,gg=Object.prototype.propertyIsEnumerable,yg=(e,t,n)=>t in e?pg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vg=(e,t)=>{for(var n in t||(t={}))mg.call(t,n)&&yg(e,n,t[n]);if(hg)for(var n of hg(t))gg.call(t,n)&&yg(e,n,t[n]);return e};function*fg({payload:e}){try{const{server:t,provider:n,metadataKey:r,sourceURI:i}=e,s=yield(0,ag.RE)(us.Z.get,g.Z.join([r,"userState"]),{server:t,provider:n}),a=vg(vg({},s.data.MediaContainer.UserState),{tempState:{}});yield(0,ag.gz)(Qt.Z.actions.fetchSucceeded({sourceURI:i,metadataItemState:a}))}catch(t){yield(0,ag.gz)(Qt.Z.actions.fetchFailed({sourceURI:e.sourceURI,error:t}))}finally{(yield(0,ag.By)())&&(yield(0,ag.gz)(Qt.Z.actions.fetchCancelled({sourceURI:e.sourceURI})))}}function*bg({payload:e}){const{server:t,provider:n,sourceURI:r,ratingKey:i,played:s}=e;try{const e=(0,cg.Z)(n,lg.rf.Scrobble);if(!e)throw new Error("No scrobble action found on provider");const a=s?e.key:e.reverseKey;if(!a)throw new Error("The scrobble action is missing a `key` or `reverseKey`");yield(0,ag.RE)(us.Z.get,a,{server:t,provider:n,params:{identifier:n.identifier,key:i}}),yield(0,ag.gz)(Qt.Z.actions.playedStatusUpdateSucceeded({server:t,provider:n,sourceURI:r,ratingKey:i,played:s}))}catch(e){yield(0,ag.gz)(Qt.Z.actions.playedStatusUpdateFailed({sourceURI:r,error:us.Z.toPlainErrorObject(e)}))}}function*Sg({payload:e}){const{server:t,provider:n,sourceURI:r,ratingKey:i,rating:s}=e;try{const e=(0,cg.Z)(n,lg.rf.Rate);if(!e)throw new Error("No rate action found on provider");if(!e.key)throw new Error("The rate action is missing a `key`");yield(0,ag.RE)(us.Z.put,e.key,{server:t,provider:n,params:{identifier:n.identifier,key:i,rating:s}}),yield(0,ag.gz)(Qt.Z.actions.rateSucceeded({server:t,provider:n,sourceURI:r,ratingKey:i,rating:s}))}catch(e){yield(0,ag.gz)(Qt.Z.actions.rateFailed({sourceURI:r,error:us.Z.toPlainErrorObject(e)}))}}function*Ig({payload:e}){const{server:t,provider:n,sourceURI:r,ratingKey:i,added:s}=e;try{const e=(0,cg.Z)(n,lg.rf.AddToWatchlist);if(!e)throw new Error("No watchlist action found on provider");const a=s?e.key:e.reverseKey;if(!a)throw new Error("The watchlist action is missing a `key` or `reverseKey`");yield(0,ag.RE)(us.Z.put,a,{server:t,provider:n,params:{ratingKey:i}}),yield(0,ag.gz)(Qt.Z.actions.toggleWatchlistSucceeded({server:t,provider:n,sourceURI:r,ratingKey:i,added:s}))}catch(e){yield(0,ag.gz)(Qt.Z.actions.toggleWatchlistFailed({sourceURI:r,error:us.Z.toPlainErrorObject(e)}))}}function*Zg({payload:e}){const{server:t,provider:n,sourceURI:r,ratingKey:i,saved:s}=e;try{const e=(0,cg.Z)(n,lg.rf.Save);if(!e)throw new Error("No save action found on provider");const a=s?e.key:e.reverseKey;if(!a)throw new Error("The save action is missing a `key` or `reverseKey`");yield(0,ag.RE)(us.Z.put,a,{server:t,provider:n,params:{ratingKey:i}}),yield(0,ag.gz)(Qt.Z.actions.toggleSavedSucceeded({server:t,provider:n,sourceURI:r,ratingKey:i,saved:s}))}catch(e){yield(0,ag.gz)(Qt.Z.actions.toggleSavedFailed({sourceURI:r,error:us.Z.toPlainErrorObject(e)}))}}function*Pg({payload:e}){const{server:t,provider:n,sourceURI:r,part:i,streamIDParam:s,streamID:a,allParts:o}=e;try{const e=i.key.match(new RegExp(`^(.*/parts/${i.id})/`)),l=g.Z.join(e?e[1]:["/library/parts",i.id]);yield(0,ag.RE)(us.Z.put,l,{server:t,provider:n,params:{[s]:a,allParts:o?1:0}}),yield(0,ag.gz)(Qt.Z.actions.streamSelectSucceeded({sourceURI:r}))}catch(e){yield(0,ag.gz)(Qt.Z.actions.streamSelectFailed({sourceURI:r,error:us.Z.toPlainErrorObject(e)}))}}function*Eg({payload:e}){const{server:t,provider:n,sourceURI:r,streamKey:i}=e;try{yield(0,ag.RE)(us.Z.del,i,{server:t,provider:n}),yield(0,ag.gz)(Qt.Z.actions.streamDeleteSucceeded({sourceURI:r}))}catch(e){yield(0,ag.gz)(Qt.Z.actions.streamDeleteFailed({sourceURI:r,error:us.Z.toPlainErrorObject(e)}))}}function*Mg({payload:e}){const{targetServer:t,targetProvider:n,targetLibrarySectionID:r,targetLibraryType:i,server:s,provider:a,metadataItem:o}=e;try{yield(0,ag.RE)(us.Z.post,"/media/subscriptions",{server:t,provider:n,params:{providers:(0,wp.Z)({serverIdentifier:s.machineIdentifier,providerIdentifier:a.identifier}),prefs:{oneShot:1,remoteMedia:1},params:{libraryType:(0,og.Z)(i)},targetLibrarySectionID:r,hints:{guid:o.guid,ratingKey:o.ratingKey,title:o.title,parentTitle:o.parentTitle},type:(0,og.Z)(o.type)}})}catch(e){}}function*Cg({payload:e}){const{ratingKey:t,server:n,provider:r,sourceURI:i}=e;try{const e=(0,cg.Z)(r,lg.rf.RemoveFromContinueWatching);if(!(null==e?void 0:e.key))throw new Error(`removeFromContinueWatching action not found on ${r.identifier}`);yield(0,ag.RE)(us.Z.put,e.key,{server:n,provider:r,params:{ratingKey:t}}),yield(0,ag.gz)(Qt.Z.actions.removeFromContinueWatchingSucceeded({sourceURI:i}))}catch(e){}}function*wg(){yield(0,ag.Fm)(Qt.Z.actions.fetchRequested,fg)}function*Dg(){yield dg(Qt.Z.actions.playedStatusUpdateRequested,bg,(({payload:e})=>e.sourceURI))}function*Tg(){yield dg(Qt.Z.actions.rateRequested,Sg,(({payload:e})=>e.sourceURI))}function*Og(){yield dg(Qt.Z.actions.toggleWatchlistRequested,Ig,(({payload:e})=>e.sourceURI))}function*xg(){yield dg(Qt.Z.actions.toggleSavedRequested,Zg,(({payload:e})=>e.sourceURI))}function*Ag(){yield dg(Qt.Z.actions.streamSelectRequested,Pg,(({payload:e})=>e.sourceURI))}function*Ng(){yield ug(Qt.Z.actions.streamDeleteRequested,Eg,(({payload:e})=>e.streamKey))}function*kg(){yield ug(Qt.Z.actions.addToLibraryRequested,Mg,(({payload:e})=>e.metadataItem.sourceURI))}function*Lg(){yield ug(Qt.Z.actions.removeFromContinueWatchingRequested,Cg,(({payload:e})=>e.sourceURI))}function*jg(){yield(0,ag.$6)([(0,ag.rM)(wg),(0,ag.rM)(Lg),(0,ag.rM)(Dg),(0,ag.rM)(Tg),(0,ag.rM)(Og),(0,ag.rM)(xg),(0,ag.rM)(Ag),(0,ag.rM)(Ng),(0,ag.rM)(kg)])}var Rg=n(60316),Vg=n(76033),Ug=Object.defineProperty,zg=Object.prototype.hasOwnProperty,Bg=Object.getOwnPropertySymbols,_g=Object.prototype.propertyIsEnumerable,Fg=(e,t,n)=>t in e?Ug(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function*Hg({payload:e}){const{server:t,provider:n,sourceURI:r,params:i}=e;try{const{key:e}=(0,Rg.Z)(r),s=yield(0,ag.RE)(Gt.g.fetchAll,e,{server:t,provider:n,params:i});yield(0,ag.gz)(Gt.Z.actions.fetchAllSucceeded({sourceURI:r,data:s}))}catch(e){yield(0,ag.gz)(Gt.Z.actions.fetchAllFailed({sourceURI:r,error:us.Z.toPlainErrorObject(e)}))}}function*Wg({payload:e}){const{server:t,provider:n,sourceURI:r,params:i,startIndex:s,size:a,isPrepend:o}=e;try{const{key:e}=(0,Rg.Z)(r),l=yield(0,ag.RE)(Gt.g.fetchRange,e,{server:t,provider:n,params:i,startIndex:s,size:a,isPrepend:o});yield(0,ag.gz)(Gt.Z.actions.fetchRangeSucceeded({sourceURI:r,data:l}))}catch(e){yield(0,ag.gz)(Gt.Z.actions.fetchRangeFailed({sourceURI:r,error:us.Z.toPlainErrorObject(e)}))}}function*Qg({payload:e}){const{server:t,provider:n,sourceURI:r,params:i}=e;try{const e=yield(0,ag.Ys)((0,Vg.Z)(r)),s=Gt.g.getRepopulateRangeOptions(e.items),{key:a}=(0,Rg.Z)(r),o=yield(0,ag.RE)(Gt.g.fetchRange,a,((e,t)=>{for(var n in t||(t={}))zg.call(t,n)&&Fg(e,n,t[n]);if(Bg)for(var n of Bg(t))_g.call(t,n)&&Fg(e,n,t[n]);return e})({server:t,provider:n,params:i},s));yield(0,ag.gz)(Gt.Z.actions.repopulateRangeSucceeded({sourceURI:r,data:o}))}catch(e){yield(0,ag.gz)(Gt.Z.actions.repopulateRangeFailed({sourceURI:r,error:us.Z.toPlainErrorObject(e)}))}}function*Gg(e){const{sourceURI:t}=e.payload;(yield(0,ag.Ys)((0,Vg.Z)(t))).isPaginated?yield(0,ag.RE)(Qg,e):yield(0,ag.RE)(Hg,e)}function*Yg(){yield ug(Gt.Z.actions.fetchAllRequested,Hg,(({payload:e})=>e.sourceURI))}function*qg(){yield dg(Gt.Z.actions.fetchRangeRequested,Wg,(({payload:e})=>e.sourceURI))}function*Kg(){yield dg(Gt.Z.actions.repopulateRangeRequested,Qg,(({payload:e})=>e.sourceURI))}function*$g(){yield function(e,t,n,r,i={leading:!0,trailing:!0},...s){return(0,ag.rM)((function*(){const a={};function*o(e,t,n){a[e]={timestamp:Date.now()},yield(0,ag.gw)(n),yield(0,ag.RE)(l,e,t)}function*l(e,t){a[e]={timestamp:Date.now(),task:yield(0,ag.rM)(n,t,...s)}}yield(0,ag.ib)(t,(function*(t){const n=r(t),s=a[n];if(s){if((null==i?void 0:i.trailing)&&s.task&&!s.task.isRunning()){const r=e-(Date.now()-s.timestamp);yield(0,ag.RE)(o,n,t,r)}}else(null==i?void 0:i.leading)?yield(0,ag.RE)(l,n,t):(null==i?void 0:i.trailing)&&(yield(0,ag.RE)(o,n,t,e));const c=a[n];yield(0,ag.gw)(e),c===a[n]&&delete a[n]}))}))}(5e3,Gt.Z.actions.throttledRepopulateRequested,Gg,(({payload:e})=>e.sourceURI))}function*Xg(){yield(0,ag.$6)([(0,ag.rM)(Yg),(0,ag.rM)(qg),(0,ag.rM)(Kg),(0,ag.rM)($g)])}function*Jg({payload:e}){const{server:t,provider:n,sourceURI:r}=e;try{const{key:e}=(0,Rg.Z)(r);yield(0,ag.RE)(us.Z.put,g.Z.join([e,"refresh"]),{server:t,provider:n})}catch(e){yield(0,ag.gz)(Yt.Z.actions.metadataRefreshFailed({sourceURI:r,error:us.Z.toPlainErrorObject(e)}))}}function*ey({payload:e}){const{server:t,provider:n,sourceURI:r}=e;try{const{key:e}=(0,Rg.Z)(r);yield(0,ag.RE)(us.Z.put,g.Z.join([e,"analyze"]),{server:t,provider:n})}catch(e){yield(0,ag.gz)(Yt.Z.actions.mediaAnalysisFailed({sourceURI:r,error:us.Z.toPlainErrorObject(e)}))}}function*ty(){yield(0,ag.ib)(Yt.Z.actions.metadataRefreshRequested,Jg)}function*ny(){yield(0,ag.ib)(Yt.Z.actions.mediaAnalysisRequested,ey)}function*ry(){yield(0,ag.$6)([(0,ag.rM)(ty),(0,ag.rM)(ny)])}var iy=n(38992);function*sy({payload:e}){const{server:t}=e;try{(yield(0,ag.Ys)((0,iy.Z)(t.machineIdentifier))).isPopulated||(yield(0,ag.gz)(qt.Z.actions.fetchRequested(e)))}catch(e){yield(0,ag.gz)(qt.Z.actions.fetchFailed({server:t,error:us.Z.toPlainErrorObject(e)}))}}function*ay({payload:e}){var t,n;const{server:r}=e;try{const e=null!=(n=null==(t=(yield(0,ag.RE)(us.Z.get,"/accounts",{server:r})).data.MediaContainer)?void 0:t.Account)?n:[];yield(0,ag.gz)(qt.Z.actions.fetchSucceeded({server:r,data:e.filter((e=>e.name))}))}catch(e){yield(0,ag.gz)(qt.Z.actions.fetchFailed({server:r,error:us.Z.toPlainErrorObject(e)}))}}function*oy(){yield ug(qt.Z.actions.populateRequested,sy,(({payload:e})=>e.server.machineIdentifier))}function*ly(){yield ug(qt.Z.actions.fetchRequested,ay,(({payload:e})=>e.server.machineIdentifier))}function*cy(){yield(0,ag.$6)([(0,ag.rM)(oy),(0,ag.rM)(ly)])}var dy=n(86626);function*uy({payload:e}){const{server:t}=e;try{(yield(0,ag.Ys)((0,dy.Z)(t.machineIdentifier))).isPopulated||(yield(0,ag.gz)($t.Z.actions.fetchRequested(e)))}catch(e){yield(0,ag.gz)($t.Z.actions.fetchFailed({server:t,error:us.Z.toPlainErrorObject(e)}))}}function*py({payload:e}){var t,n;const{server:r}=e;try{const e=yield(0,ag.RE)(us.Z.get,"/devices",{server:r});yield(0,ag.gz)($t.Z.actions.fetchSucceeded({server:r,data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.Device)?n:[]}))}catch(e){yield(0,ag.gz)($t.Z.actions.fetchFailed({server:r,error:us.Z.toPlainErrorObject(e)}))}}function*my(){yield ug($t.Z.actions.populateRequested,uy,(({payload:e})=>e.server.machineIdentifier))}function*hy(){yield ug($t.Z.actions.fetchRequested,py,(({payload:e})=>e.server.machineIdentifier))}function*gy(){yield(0,ag.$6)([(0,ag.rM)(my),(0,ag.rM)(hy)])}var yy=n(88587),vy=n(50361),fy=n.n(vy),by=n(65661);function Sy(e){var t,n;const{data:r}=e;return(null!=(n=null==(t=r.MediaContainer)?void 0:t.Metadata)?n:[]).map((e=>{var t;const n=fy()(e);return(0,by.dL)(n,"viewOffset"),(0,by.dL)(n,"duration"),null==(t=n.Media)||t.forEach((e=>{var t;null==(t=e.Part)||t.forEach((e=>{var t;null==(t=e.Stream)||t.forEach((e=>{(0,by.ZX)(e,"selected"),(0,by.dL)(e,"streamType")}))}))})),n}))}function*Iy({payload:e}){const{server:t}=e;try{const e=yield(0,ag.RE)(us.Z.get,"/status/sessions",{server:t});yield(0,ag.gz)(Xt.Z.actions.fetchSucceeded({server:t,data:Sy(e)}))}catch(e){yield(0,ag.gz)(Xt.Z.actions.fetchFailed({server:t,error:us.Z.toPlainErrorObject(e)}))}}function*Zy({payload:e}){const{server:t,message:n}=e;try{const e=(yield(0,ag.Ys)((0,yy.Z)(t.machineIdentifier))).sessionsByKey[n.sessionKey];e&&e.key===n.key||(yield(0,ag.gz)(Xt.Z.actions.fetchRequested({server:t})))}catch(e){yield(0,ag.gz)(Xt.Z.actions.stopFailed({server:t,error:us.Z.toPlainErrorObject(e)}))}}function*Py({payload:e}){const{server:t,session:n,reason:r}=e;try{yield(0,ag.RE)(us.Z.get,"/status/sessions/terminate",{server:t,params:{sessionId:n.Session.id,reason:r}})}catch(e){yield(0,ag.gz)(Xt.Z.actions.stopFailed({server:t,error:us.Z.toPlainErrorObject(e)}))}}function*Ey(){yield ug(Xt.Z.actions.fetchRequested,Iy,(({payload:e})=>e.server.machineIdentifier))}function*My(){yield ug(Xt.Z.actions.sessionChanged,Zy,(({payload:e})=>e.server.machineIdentifier))}function*Cy(){yield(0,ag.ib)(Xt.Z.actions.stopRequested,Py)}function*wy(){yield(0,ag.$6)([(0,ag.rM)(Ey),(0,ag.rM)(My),(0,ag.rM)(Cy)])}function*Dy(){yield(0,ag.$6)([(0,ag.rM)(jg),(0,ag.rM)(Xg),(0,ag.rM)(ry),(0,ag.rM)(cy),(0,ag.rM)(gy),(0,ag.rM)(wy)])}var Ty=n(39537),Oy=n(88742);const xy=function(e,t){return t?t.map((t=>{var n;let r;return r="field"in t?{key:t.key,field:t.field,value:String(t.value),type:t.type,title:String(t.title)}:"fastKey"in t?{key:t.fastKey,field:null!=(n=t.type)?n:e.filter,value:t.key,title:String(t.title)}:{field:e.filter,key:t.key,value:t.key,title:String(t.title)},r})):[]};var Ay=n(82150),Ny=n(94318);function ky(e,t){const n=function(e){switch(e){case Ty.A.Movie:return Ty.pG.Movie;case Ty.A.Show:return Ty.pG.Show;case Ty.A.Season:return Ty.pG.Season;case Ty.A.Episode:return Ty.pG.Episode;case Ty.A.Person:return Ty.pG.Person;case Ty.A.Artist:return Ty.pG.Artist;case Ty.A.Album:return Ty.pG.Album;case Ty.A.Track:return Ty.pG.Track;case Ty.A.Clip:return Ty.pG.Clip;case Ty.A.Photo:return Ty.pG.Photo;case Ty.A.PhotoAlbum:return Ty.pG.PhotoAlbum;case Ty.A.Playlist:return Ty.pG.Playlist;case Ty.A.Collection:return Ty.pG.Collection;case Ty.A.Game:return Ty.pG.Game}}(t);if(!e)return e;"composite"===e.type?e.Rule.forEach((e=>{ky(e,t)})):e.type&&!e.field.includes(".")?(e.field=`${e.type}.${e.field}`,delete e.type):e.type||e.field.includes(".")||n===Ty.pG.Movie||n===Ty.pG.Photo||(e.field=`${n}.${e.field}`),e.type||!e.value||e.valueTitle||(e.valueTitle=e.value,e.value=encodeURIComponent(e.value))}function*Ly({payload:e}){const{server:t,provider:n,key:r}=e;try{const e=yield(0,ag.RE)(us.Z.get,r,{server:t,provider:n});ky((i=e.data.Query).Rule,i.type),yield(0,ag.gz)(nn.Z.actions.fetchQuerySucceeded({query:e.data.Query}))}catch(e){yield(0,ag.gz)(nn.Z.actions.fetchQueryFailed({error:us.Z.toPlainErrorObject(e)}))}var i}function*jy({payload:e}){const{server:t,provider:n,filter:r}=e;try{const e=yield(0,ag.RE)(us.Z.get,r.key,{server:t,provider:n}),i=xy(r,e.data.MediaContainer.Directory);yield(0,ag.gz)(nn.Z.actions.fetchFilterOptionsSucceeded({filter:r,filterOptions:i}))}catch(e){yield(0,ag.gz)(nn.Z.actions.fetchFilterOptionsFailed({filter:r,error:us.Z.toPlainErrorObject(e)}))}}function*Ry({payload:e}){var t;const{server:n,provider:r,key:i}=e;try{const e=yield(0,ag.RE)(us.Z.get,i,{server:n,provider:r}),s=null==(t=e.data.MediaContainer.Metadata)?void 0:t[0];if(!s)throw new Error("Could not find metadata item in response");yield(0,ag.gz)(nn.Z.actions.fetchCuratedSucceeded({curatedItem:(0,Ay.Z)({server:n,provider:r,data:s,container:e.data.MediaContainer}).metadataItem}))}catch(e){yield(0,ag.gz)(nn.Z.actions.fetchCuratedFailed({error:us.Z.toPlainErrorObject(e)}))}}function*Vy({payload:e}){var t;try{const{server:n,provider:r,key:i}=e,s=null==(t=(yield(0,ag.RE)(us.Z.get,i,{server:n,provider:r})).data.MediaContainer.Metadata)?void 0:t[0];if(!s)throw new Error("Could not find metadata item in response");const a=(0,Oy.t)(n,r,i,s.content);if(!a)throw new Error("Could not find route to edit filters");(0,Lt.Z)(...a)}catch(e){yield(0,Ny.Z)((0,Xe.wp)((0,Ne.Z)("There was a problem editing the filters for this item.")))}}function*Uy(){for(;;){const e=yield(0,ag.A7)(nn.Z.actions.fetchQueryRequested,Ly);yield(0,ag.qn)(nn.Z.actions.reset),yield(0,ag.al)(e)}}function*zy(){for(;;){const e=yield(0,ag.A7)(nn.Z.actions.fetchFilterOptionsRequested,jy);yield(0,ag.qn)(nn.Z.actions.reset),yield(0,ag.al)(e)}}function*By(){for(;;){const e=yield(0,ag.A7)(nn.Z.actions.fetchCuratedRequested,Ry);yield(0,ag.qn)(nn.Z.actions.reset),yield(0,ag.al)(e)}}function*_y(){yield(0,ag.Fm)(nn.Z.actions.editFiltersRequested,Vy)}function*Fy(){yield(0,ag.$6)([(0,ag.rM)(Uy),(0,ag.rM)(zy),(0,ag.rM)(By),(0,ag.rM)(_y)])}var Hy=n(87803);function*Wy({payload:e}){var t;const{server:n,provider:r,sourceURI:i,isSmart:s}=e;try{const a=(0,Hy.Z)(r,lg.zW.Playlist),o=(0,Hy.Z)(r,lg.zW.Collection);let l,c,d=us.Z.post;if("key"in e?(d=us.Z.put,l=g.Z.join([e.key,"items"]),c={uri:i}):"mediaType"in e?(l=null==a?void 0:a.key,c={type:e.mediaType,title:e.title,smart:s?1:0,uri:i}):(l=null==o?void 0:o.key,c={type:(0,og.Z)(e.metadataType),title:e.title,smart:s?1:0,uri:i,sectionId:e.contentDirectoryID}),!l)throw new Error("No key available to update curated item");const u=yield(0,ag.RE)(d,l,{server:n,provider:r,params:c}),p=null==(t=u.data.MediaContainer.Metadata)?void 0:t[0];if(!p)throw new Error("Unable to find Metadata in playlist save response");const{metadataItem:m}=(0,Ay.Z)({server:n,provider:r,data:p,container:u.data.MediaContainer});yield(0,ag.gz)(rn.Z.actions.saveSucceeded({sourceURI:i,metadataItem:m}))}catch(t){yield(0,ag.gz)(rn.Z.actions.saveFailed({sourceURI:i,error:us.Z.toPlainErrorObject(t)})),"key"in e&&(yield(0,Ny.Z)((0,Xe.wp)((0,Ne.Z)("There was a problem updating this item."))))}}function*Qy({payload:e}){const{server:t,provider:n,sourceURI:r,containerKey:i,ratingKey:s}=e;try{yield(0,ag.RE)(us.Z.del,g.Z.join([i,s]),{server:t,provider:n}),yield(0,ag.gz)(Qt.Z.actions.repopulateRequested({sourceURI:r}))}catch(e){yield(0,Ny.Z)((0,Xe.wp)((0,Ne.Z)("There was a problem removing this item.")))}}function*Gy(){yield(0,ag.Fm)(rn.Z.actions.saveRequested,Wy)}function*Yy(){yield(0,ag.ib)(rn.Z.actions.removeItemRequested,Qy)}function*qy(){yield(0,ag.$6)([(0,ag.rM)(Gy),(0,ag.rM)(Yy)])}var Ky=n(56514),$y=n(75157);function*Xy({payload:e}){var t;try{const n=Date.now(),r=yield(0,ag.RE)(us.Z.get,"/statistics/bandwidth",{server:e.server,params:{timespan:e.timespan,"at>":e.after}}),i=r.data.MediaContainer,s=r.headers.Date,a=s?function(e){const t=(0,Ky.Z)(e,"EEE, dd MMM yyyy HH:mm:ss 'GMT'",new Date);return t.getTime()-60*t.getTimezoneOffset()*1e3}(s):n;yield(0,ag.gz)(sn.Z.actions.bandwidthFetchSucceeded({data:null!=(t=null==i?void 0:i.StatisticsBandwidth)?t:[],requestTimestampMilliseconds:n,responseTimestampMilliseconds:a}))}catch(e){yield(0,ag.gz)(sn.Z.actions.bandwidthFetchFailed({error:us.Z.toPlainErrorObject(e)}))}}function*Jy({payload:e}){var t;try{const n=Date.now(),r=(yield(0,ag.RE)(us.Z.get,"/statistics/resources",{server:e.server,params:{timespan:(0,$y.rG)($y.XH.RealTime)}})).data.MediaContainer;yield(0,ag.gz)(on.Z.actions.resourcesFetchSucceeded({data:null!=(t=null==r?void 0:r.StatisticsResources)?t:[],requestTimestampMilliseconds:n}))}catch(e){yield(0,ag.gz)(on.Z.actions.resourcesFetchFailed({error:us.Z.toPlainErrorObject(e)}))}}function*ev({payload:e}){var t,n;try{const r=(yield(0,ag.RE)(rv,e)).data.MediaContainer;yield(0,ag.gz)(cn.Z.actions.topUsersFetchSucceeded({data:{statistics:null!=(t=null==r?void 0:r.StatisticsMedia)?t:[],accounts:null!=(n=null==r?void 0:r.Account)?n:[]}}))}catch(e){yield(0,ag.gz)(cn.Z.actions.topUsersFetchFailed({error:us.Z.toPlainErrorObject(e)}))}}function*tv({payload:e}){var t,n;try{const r=(yield(0,ag.RE)(rv,e)).data.MediaContainer;yield(0,ag.gz)(an.Z.actions.playHistoryFetchSucceeded({data:{statistics:null!=(t=null==r?void 0:r.StatisticsMedia)?t:[],accounts:null!=(n=null==r?void 0:r.Account)?n:[]}}))}catch(e){yield(0,ag.gz)(an.Z.actions.playHistoryFetchFailed({error:us.Z.toPlainErrorObject(e)}))}}function*nv({payload:e}){var t,n,r,i,s,a,o,l;try{const[c,d,u,p]=yield(0,ag.$6)([(0,ag.RE)(iv,e,Ty.pG.Movie),(0,ag.RE)(iv,e,Ty.pG.Show),(0,ag.RE)(iv,e,Ty.pG.Artist),(0,ag.RE)(iv,e,Ty.pG.Game)]);yield(0,ag.gz)(ln.Z.actions.topPlayedFetchSucceeded({data:{moviesStatistics:null!=(n=null==(t=c.data.MediaContainer)?void 0:t.Metadata)?n:[],tvStatistics:null!=(i=null==(r=d.data.MediaContainer)?void 0:r.Metadata)?i:[],musicStatistics:null!=(a=null==(s=u.data.MediaContainer)?void 0:s.Metadata)?a:[],gameStatistics:null!=(l=null==(o=p.data.MediaContainer)?void 0:o.Metadata)?l:[]}}))}catch(e){yield(0,ag.gz)(ln.Z.actions.topPlayedFetchFailed({error:us.Z.toPlainErrorObject(e)}))}}function*rv(e){return yield(0,ag.RE)(us.Z.get,"/statistics/media",{server:e.server,params:{timespan:e.timespan,"at>":e.after}})}function*iv(e,t){return yield(0,ag.RE)(us.Z.get,"/library/all/top",{server:e.server,params:{accountID:e.accountID,type:Fe.getMetadataType(t).id,"viewedAt>":e.viewedAt,limit:e.limit}})}function*sv(){for(;;){const e=yield(0,ag.Fm)(sn.Z.actions.bandwidthFetchRequested,Xy);yield(0,ag.qn)([sn.Z.actions.reset,sn.Z.actions.bandwidthAbortRequested]),yield(0,ag.al)(e)}}function*av(){for(;;){const e=yield(0,ag.Fm)(on.Z.actions.resourcesFetchRequested,Jy);yield(0,ag.qn)(on.Z.actions.reset),yield(0,ag.al)(e)}}function*ov(){for(;;){const e=yield(0,ag.A7)(cn.Z.actions.topUsersFetchRequested,ev);yield(0,ag.qn)(cn.Z.actions.reset),yield(0,ag.al)(e)}}function*lv(){for(;;){const e=yield(0,ag.A7)(an.Z.actions.playHistoryFetchRequested,tv);yield(0,ag.qn)(an.Z.actions.reset),yield(0,ag.al)(e)}}function*cv(){for(;;){const e=yield(0,ag.A7)(ln.Z.actions.topPlayedFetchRequested,nv);yield(0,ag.qn)(ln.Z.actions.reset),yield(0,ag.al)(e)}}function*dv(){yield(0,ag.$6)([(0,ag.rM)(sv),(0,ag.rM)(av),(0,ag.rM)(ov),(0,ag.rM)(lv),(0,ag.rM)(cv)])}var uv=n(73754),pv=n(2098),mv=n(41538),hv=n(56724),gv=n(60679),yv=n(20019),vv=Object.defineProperty,fv=Object.prototype.hasOwnProperty,bv=Object.getOwnPropertySymbols,Sv=Object.prototype.propertyIsEnumerable,Iv=(e,t,n)=>t in e?vv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zv=(e,t)=>{for(var n in t||(t={}))fv.call(t,n)&&Iv(e,n,t[n]);if(bv)for(var n of bv(t))Sv.call(t,n)&&Iv(e,n,t[n]);return e};function Pv(e,t){if(null==t?void 0:t.DisplayFields)return t;const n=(0,hv.Z)(e.type);if(!n)return t;const r=(0,gv.P)(e.type,e.subtype);return e.style===mv.n.Shelf&&e.hubIdentifier&&e.hubIdentifier.startsWith("external.")&&r.push(pv.PD.SourceTitle),Zv(Zv({},t),{DisplayFields:[{type:n,subtype:e.subtype,fields:r}]})}function Ev(e){return"relatedAlbums"===e.hubIdentifier&&e.size>1?mv.n.WideShelf:e.style}function Mv({server:e,provider:t,contentDirectoryID:n,pinnedContentDirectoryID:r,excludedHubIdentifiers:i,data:s}){var a;const o=null!=(a=null==s?void 0:s.MediaContainer)?a:{},l=o,{Hub:c=[]}=l,d=((e,t)=>{var n={};for(var r in e)fv.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&bv)for(var r of bv(e))t.indexOf(r)<0&&Sv.call(e,r)&&(n[r]=e[r]);return n})(l,["Hub"]);return c.reduce(((s,a)=>{var l,c,u;if((null==i?void 0:i.length)&&(null==i?void 0:i.some((e=>e===a.hubIdentifier))))return s;const p=a.key?g.Z.join(a.key,{contentDirectoryID:null==n?void 0:n.join(","),pinnedContentDirectoryID:null==r?void 0:r.join(",")}):void 0,m=null!=(l=a.source)?l:(0,wp.Z)({serverIdentifier:e.machineIdentifier,providerIdentifier:null==t?void 0:t.identifier}),h=p?`${m}${p}`:`${m}/${a.hubIdentifier}`;let y=a.totalSize;null==y&&(y=a.more?void 0:a.size),s.hubs.push({source:m,sourceURI:h,key:p,isStale:!1,initialSize:a.size,style:Ev(a),attribution:a.attribution,autoAdvanceDelayMs:a.autoAdvanceDelayMs,context:a.context,hubIdentifier:a.hubIdentifier,Meta:Pv(a,a.Meta||o.Meta),more:a.more,placeholder:a.placeholder,random:a.random,subtype:a.subtype,title:a.title,type:a.type});const v=null!=(u=null!=(c=a.Metadata)?c:a.Directory)?u:[],{metadataItems:f,metadataItemStates:b}=(0,yv.Z)({server:e,provider:t,data:v,container:d});return s.metadataLists.push({sourceURI:h,items:f,totalSize:y,offset:0,isPending:!1,isPopulated:!0,error:null}),Object.assign(s.metadataItemStates,b),s}),{title:d.title,meta:d.Meta,hubs:[],metadataLists:[],metadataItemStates:{}})}var Cv=Object.defineProperty,wv=Object.prototype.hasOwnProperty,Dv=Object.getOwnPropertySymbols,Tv=Object.prototype.propertyIsEnumerable,Ov=(e,t,n)=>t in e?Cv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xv=(e,t)=>{for(var n in t||(t={}))wv.call(t,n)&&Ov(e,n,t[n]);if(Dv)for(var n of Dv(t))Tv.call(t,n)&&Ov(e,n,t[n]);return e};function*Av({payload:e}){const{server:t,provider:n,sourceURI:r,metadataListSourceURI:i,params:s}=e;r!==i&&(yield(0,ag.gz)(Gt.Z.actions.added({metadataLists:[{sourceURI:r,items:[],offset:0}],metadataItemStates:{}}))),yield(0,ag.gz)(Gt.Z.actions.fetchRangeRequested({server:t,provider:n,sourceURI:r,params:xv(xv({},s),{includeAdvanced:1,includeMeta:1}),startIndex:0,size:50}))}function*Nv({payload:e}){const{server:t,provider:n,sourceURI:r}=e,{key:i}=(0,Rg.Z)(r);try{const e=Mv({server:t,provider:n,data:(yield(0,ag.RE)(us.Z.get,i,{server:t,provider:n,params:{count:uv.HE,includeLibraryPlaylists:1,includeStations:1,includeRecentChannels:1,includeMeta:1,excludeFields:"summary"}})).data});yield(0,ag.$6)([(0,ag.gz)(Gt.Z.actions.added({metadataLists:e.metadataLists,metadataItemStates:e.metadataItemStates})),(0,ag.gz)(un.Z.actions.fetchHubsSucceeded({sourceURI:r,data:e}))])}catch(e){yield(0,ag.gz)(un.Z.actions.fetchHubsFailed({error:us.Z.toPlainErrorObject(e)}))}}function*kv(){yield(0,ag.gw)(6e4),yield(0,ag.gz)(un.Z.actions.markHubsStale())}function*Lv({payload:e}){const{server:t,provider:n,filter:r}=e;try{const e=yield(0,ag.RE)(us.Z.get,r.key,{server:t,provider:n}),i=xy(r,e.data.MediaContainer.Directory);yield(0,ag.gz)(un.Z.actions.fetchFilterOptionsSucceeded({filter:r,filterOptions:i}))}catch(e){yield(0,ag.gz)(un.Z.actions.fetchFilterOptionsFailed({filter:r,error:us.Z.toPlainErrorObject(e)}))}}function*jv({payload:e}){var t;const{server:n,provider:r,key:i}=e;try{const e=yield(0,ag.RE)(us.Z.get,i,{server:n,provider:r});yield(0,ag.gz)(un.Z.actions.fetchFirstCharactersSucceeded({key:i,firstCharacters:null!=(t=e.data.MediaContainer.Directory)?t:[]}))}catch(e){yield(0,ag.gz)(un.Z.actions.fetchFirstCharactersFailed({key:i,error:us.Z.toPlainErrorObject(e)}))}}function*Rv(){for(;;){const e=yield(0,ag.A7)(un.Z.actions.initializeListRequested,Av);yield(0,ag.qn)(un.Z.actions.reset),yield(0,ag.al)(e)}}function*Vv(){for(;;){const e=yield(0,ag.A7)(un.Z.actions.fetchHubsRequested,Nv);yield(0,ag.qn)([un.Z.actions.reset,un.Z.actions.resetHubs,un.Z.actions.markHubsStaleRequested]),yield(0,ag.al)(e)}}function*Uv(){for(;;){yield(0,ag.qn)(un.Z.actions.markHubsStaleRequested);const e=yield(0,ag.RE)(kv);yield(0,ag.qn)(un.Z.actions.markHubsStaleCanceled),yield(0,ag.al)(e)}}function*zv(){for(;;){const e=yield(0,ag.A7)(un.Z.actions.fetchFilterOptionsRequested,Lv);yield(0,ag.qn)(un.Z.actions.reset),yield(0,ag.al)(e)}}function*Bv(){for(;;){const e=yield(0,ag.A7)(un.Z.actions.fetchFirstCharactersRequested,jv);yield(0,ag.qn)(un.Z.actions.reset),yield(0,ag.al)(e)}}function*_v(){yield(0,ag.$6)([(0,ag.rM)(Rv),(0,ag.rM)(Vv),(0,ag.rM)(Uv),(0,ag.rM)(zv),(0,ag.rM)(Bv)])}var Fv=n(72759),Hv=n(72194),Wv=n(4524);const Qv=(0,Hv.Z)((0,La.P1)(Wv.Z,(e=>e.embeddedServer),((e,t)=>{const n=e[t];return(0,cd.Z)(n)})),(e=>e));var Gv=n(30997),Yv=n(99604),qv=Object.defineProperty,Kv=Object.prototype.hasOwnProperty,$v=Object.getOwnPropertySymbols,Xv=Object.prototype.propertyIsEnumerable,Jv=(e,t,n)=>t in e?qv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ef=(e,t)=>{for(var n in t||(t={}))Kv.call(t,n)&&Jv(e,n,t[n]);if($v)for(var n of $v(t))Xv.call(t,n)&&Jv(e,n,t[n]);return e};function*tf({payload:e}){yield(0,ag.RE)(cf,[e.metadataItem])}function*nf({payload:e}){const t=e.metadataLists.reduce(((e,{items:t})=>e.concat(t)),[]);yield(0,ag.RE)(cf,t)}function*rf({payload:e}){yield(0,ag.RE)(cf,e.data.items)}function*sf({payload:e}){var t,n;const{sourceURI:r,guid:i,useSelected:s}=e;try{const e=yield(0,Yv.Z)(Qv),{providerIdentifier:a,serverIdentifier:o,ratingKey:l}=(0,Rg.Z)(r),c=(0,wp.Z)({serverIdentifier:o,providerIdentifier:a});if(!l||!c)throw new Error("Unable to create a subscription for this item");yield(0,ag.RE)(us.Z.post,"media/providers",{server:e,params:{url:c}});const d=(null==(n=null==(t=(yield(0,ag.RE)(us.Z.get,"media/subscriptions/template",{server:e,params:{source:c,ratingKey:l,guid:i}})).data.MediaContainer.SubscriptionTemplate)?void 0:t[0])?void 0:n.MediaSubscription)||[],u=s?d.find((({selected:e})=>e)):d[0];if(!u)throw new Error("Unable to create a subscription for this item");u.Setting.some((({hidden:e})=>!e))?yield(0,ag.gz)(pn.Z.actions.subscriptionTemplateChanged({sourceURI:r,template:u})):yield(0,ag.gz)(pn.Z.actions.subscriptionCreateRequested({sourceURI:r,template:u}))}catch(e){yield(0,ag.gz)(pn.Z.actions.subscriptionCreateFailed({sourceURI:r,error:us.Z.toPlainErrorObject(e)}))}}function*af({payload:e}){var t,n,r;const{sourceURI:i,template:{type:s,targetLibrarySectionID:a,parameters:o,Setting:l},settings:c={}}=e;try{const e=yield(0,Yv.Z)(Qv),d={};for(const{id:e,value:n}of l)d[e]="oneShot"===e?"false":null!=(t=c[e])?t:n;const u=g.Z.parseParams(o),p=null==(r=null==(n=(yield(0,ag.RE)(us.Z.post,"media/subscriptions",{server:e,params:ef(ef({},u),{type:s,targetLibrarySectionID:a,prefs:d})})).data.MediaContainer)?void 0:n.MediaSubscription)?void 0:r[0].key;if(!p)throw new Error("The new subscription did not contain an identifier");yield(0,ag.gz)(pn.Z.actions.subscriptionCreateSucceeded({id:p,sourceURI:i,type:s}))}catch(e){yield(0,ag.gz)(pn.Z.actions.subscriptionCreateFailed({sourceURI:i,error:us.Z.toPlainErrorObject(e)}))}}function*of({payload:e}){const{id:t,sourceURI:n}=e;try{const e=yield(0,Yv.Z)(Qv);yield(0,ag.RE)(us.Z.del,g.Z.join(["media/subscriptions",t]),{server:e}),yield(0,ag.gz)(pn.Z.actions.subscriptionDeleteSucceeded({sourceURI:n}))}catch(e){yield(0,ag.gz)(pn.Z.actions.subscriptionDeleteFailed({sourceURI:n,error:us.Z.toPlainErrorObject(e)}))}}function*lf({payload:e}){const{type:t,Context:n}=e.activity;if(!(null==n?void 0:n.source)||t!==Fv.EW)return;const{ratingKey:r,source:i}=n,{serverIdentifier:s,providerIdentifier:a}=(0,Rg.Z)(i),o=(0,wp.Z)({serverIdentifier:s,providerIdentifier:a,key:`/library/metadata/${r}`});try{yield(0,ag.gz)(Qt.Z.actions.repopulateRequested({sourceURI:o}))}catch(e){yield(0,ag.gz)(pn.Z.actions.subscriptionCreateFailed({sourceURI:o,error:us.Z.toPlainErrorObject(e)}))}}function*cf(e){try{const r=yield(0,Yv.Z)(Qv),i=((yield(0,ag.RE)(us.Z.get,"media/providers",{server:r,params:{includeStorage:1}})).data.MediaContainer.MediaProvider||[]).map((e=>({id:String(e.id),source:e.source})));yield(0,ag.gz)(pn.Z.actions.providersFetchSucceeded({providerSections:i}));const s={};for(const{source:e,id:t}of i)e&&(s[e]=t);const a={};e.forEach((e=>{a[e.source]?a[e.source].push(e):a[e.source]=[e]}));const o=[];for(const[e,i]of Object.entries(a)){const a=s[e];if(!a)break;const l={},c=[];for(const e of i)c.push(e.ratingKey),l[e.ratingKey]=e;const d=c.join(","),u=g.Z.join(["media/providers",a,"media/subscriptions/mapping",d]),p=(yield(0,ag.RE)(us.Z.get,u,{server:r,params:{includeStorage:1}})).data.MediaContainer.MediaSubscription||[];for(const{id:e,itemRatingKey:r,type:i}of p){const s=l[r];o.push({id:e,sourceURI:s.sourceURI,subscription:Gv.y.Saved,type:i,relation:(t=i,n=(0,og.Z)(s.type),t===n?Gv.F.Self:t<n?Gv.F.Ancestors:Gv.F.Descendants),progress:100})}}yield(0,ag.gz)(pn.Z.actions.downloadsFetchSucceeded({items:e,downloads:o}))}catch(e){yield(0,ag.gz)(pn.Z.actions.downloadsFetchFailed({error:us.Z.toPlainErrorObject(e)}))}var t,n}function*df(){yield(0,ag.ib)(Pn.Z.actions.metadataItemFetchSucceeded,tf)}function*uf(){yield(0,ag.ib)(Gt.Z.actions.added,nf)}function*pf(){yield(0,ag.ib)(Gt.Z.actions.repopulateRangeSucceeded,rf)}function*mf(){yield(0,ag.ib)(Gt.Z.actions.fetchRangeSucceeded,rf)}function*hf(){yield(0,ag.ib)(Gt.Z.actions.fetchAllSucceeded,rf)}function*gf(){yield(0,ag.Fm)(pn.Z.actions.subscriptionTemplatesFetchRequested,sf)}function*yf(){yield(0,ag.Fm)(pn.Z.actions.subscriptionCreateRequested,af)}function*vf(){yield(0,ag.Fm)(pn.Z.actions.subscriptionDeleteRequested,of)}function*ff(){yield(0,ag.ib)(Kt.Z.actions.activityFinished,lf)}function*bf(){yield(0,ag.$6)($.Z.allowSyncDownload?[(0,ag.rM)(df),(0,ag.rM)(uf),(0,ag.rM)(mf),(0,ag.rM)(hf),(0,ag.rM)(pf),(0,ag.rM)(gf),(0,ag.rM)(yf),(0,ag.rM)(vf),(0,ag.rM)(ff)]:[])}var Sf=n(31649),If=n(34340),Zf=n(26301),Pf=n(82850),Ef=n(38883),Mf=n(36315),Cf=Object.defineProperty,wf=Object.prototype.hasOwnProperty,Df=Object.getOwnPropertySymbols,Tf=Object.prototype.propertyIsEnumerable,Of=(e,t,n)=>t in e?Cf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xf=(e,t)=>{for(var n in t||(t={}))wf.call(t,n)&&Of(e,n,t[n]);if(Df)for(var n of Df(t))Tf.call(t,n)&&Of(e,n,t[n]);return e};function Af(e){return(null!=e?e:[]).map((e=>e.enabled?((0,by.ZX)(e,"enabled"),e):xf(xf({},e),{enabled:!!e.lineupIdentifier})))}var Nf,kf,Lf=n(20272),jf=n(52924);function Rf(e){var t,n;const r=fy()(e);return(0,by.Dq)(r,"key"),(0,by.Dq)(r,"source"),(0,by.dL)(r,"tuners"),r.sources=null==(n=null==(t=e.sources)?void 0:t.split(","))?void 0:n.map((e=>{const t=(0,Lf.su)(Mf.dd).find((t=>t===e));return(0,jf.Z)(t,`Unknown Media Grabber Device Source Type ${e}`),t})),r.ChannelMapping=Af(r.ChannelMapping),r}function Vf({data:e}){var t;return(null!=(t=e.Device)?t:[]).map(Rf)}function Uf({data:e}){var t,n;const r=null==(t=e.Dvr)?void 0:t[0];if(!r)return;const i=fy()(r);return(0,by.Dq)(i,"key"),i.Device=null==(n=null==r?void 0:r.Device)?void 0:n.map(Rf),i}(kf=Nf||(Nf={})).Int="int",kf.Text="text",kf.Bool="bool",kf.Enum="enum",kf.Double="double";var zf=Object.prototype.hasOwnProperty,Bf=Object.getOwnPropertySymbols,_f=Object.prototype.propertyIsEnumerable;function Ff(e,t){switch(e){case Nf.Int:case Nf.Enum:return me.Z.parseInteger(t);case Nf.Bool:return me.Z.parseBoolean(t);case Nf.Double:return me.Z.parseFloat(t);default:return t}}var Hf=Object.defineProperty,Wf=Object.prototype.hasOwnProperty,Qf=Object.getOwnPropertySymbols,Gf=Object.prototype.propertyIsEnumerable,Yf=(e,t,n)=>t in e?Hf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qf=(e,t)=>{for(var n in t||(t={}))Wf.call(t,n)&&Yf(e,n,t[n]);if(Qf)for(var n of Qf(t))Gf.call(t,n)&&Yf(e,n,t[n]);return e};function*Kf({payload:e}){var t;const{server:n}=e;try{const e=yield(0,ag.RE)(us.Z.post,"/media/grabbers/devices/discover",{server:n,timeout:0});yield(0,ag.gz)(mn.ZP.actions.devicesDiscoverSucceeded({server:n,data:Vf({server:n,data:null==(t=e.data)?void 0:t.MediaContainer})}))}catch(e){yield(0,ag.gz)(mn.ZP.actions.setupErrorMessageAdded({message:(0,Ne.Z)("There was a problem discovering devices")})),yield(0,ag.gz)(mn.ZP.actions.devicesDiscoverFailed({server:n,error:us.Z.toPlainErrorObject(e)}))}}function*$f({payload:e}){var t;const{server:n}=e;try{const e=yield(0,ag.RE)(us.Z.get,"/media/grabbers/devices",{server:n});yield(0,ag.gz)(mn.ZP.actions.devicesFetchSucceeded({server:n,data:Vf({server:n,data:null==(t=e.data)?void 0:t.MediaContainer})}))}catch(e){yield(0,ag.gz)(mn.ZP.actions.devicesFetchFailed({server:n,error:us.Z.toPlainErrorObject(e)}))}}function*Xf({payload:e}){var t,n;const{server:r,deviceKey:i}=e;try{const e=yield(0,ag.RE)(us.Z.get,g.Z.join(["/media/grabbers/devices",i,"channels"]),{server:r});yield(0,ag.gz)(mn.ZP.actions.deviceChannelsFetchSucceeded({server:r,deviceKey:i,data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.DeviceChannel)?n:[]}))}catch(e){yield(0,ag.gz)(mn.ZP.actions.setupErrorMessageAdded({message:(0,Ne.Z)("There was a problem getting the channels for your device")})),yield(0,ag.gz)(mn.ZP.actions.deviceChannelsFetchFailed({deviceKey:i,error:us.Z.toPlainErrorObject(e)}))}}function*Jf({payload:e}){var t,n;const{server:r,deviceKey:i,source:s,prefs:a,network:o,country:l}=e;try{const e=yield(0,ag.RE)(us.Z.post,g.Z.join(["/media/grabbers/devices",i,"scan"]),{server:r,params:{source:s,prefs:a,network:o,country:l}});if(e.headers["x-plex-activity"])yield(0,ag.gz)(mn.ZP.actions.scanPrefsAndNetworksReset());else{const n=function({data:e}){var t;return(null!=(t=e.Setting)?t:[]).map((e=>{const t=e,{enumValues:n}=t,r=((e,t)=>{var n={};for(var r in e)zf.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Bf)for(var r of Bf(e))t.indexOf(r)<0&&_f.call(e,r)&&(n[r]=e[r]);return n})(t,["enumValues"]);return r.default&&(r.default=Ff(r.type,r.default)),r.value=Ff(r.type,r.value),(0,by.ZX)(r,"advanced"),(0,by.ZX)(r,"hidden"),n&&(r.enumValues=n.split("|").map((e=>{const[t,n=t]=e.split(":");return{label:decodeURIComponent(n),value:Ff(r.type,t)}}))),r}))}({server:r,data:null==(t=e.data)?void 0:t.MediaContainer});(null==n?void 0:n.length)&&(yield(0,ag.gz)(mn.ZP.actions.scanPrefsAdded({settings:n})))}}catch(e){const t=us.Z.toPlainErrorObject(e);yield(0,ag.gz)(mn.ZP.actions.setupErrorMessageAdded({message:null!=(n=null==t?void 0:t.message)?n:(0,Ne.Z)("There was a problem scanning channels")})),yield(0,ag.gz)(mn.ZP.actions.deviceChannelsScanFailed())}}function*eb({payload:e}){const{server:t,deviceKey:n}=e;try{yield(0,ag.RE)(us.Z.del,g.Z.join(["/media/grabbers/devices",n,"scan"]),{server:t})}catch(e){yield(0,ag.gz)(mn.ZP.actions.setupErrorMessageAdded({message:(0,Ne.Z)("There was a problem canceling the current channel scan")})),yield(0,ag.gz)(mn.ZP.actions.deviceChannelsCancelScanFailed())}}function*tb({payload:e}){const{server:t,deviceKey:n,mappings:r}=e;try{const e=yield(0,ag.Ys)((0,If.Z)(n)),i=[],s={};Object.values(r).forEach((({key:t,channelKey:n,lineupIdentifier:r,enabled:a})=>{const o=e.channels.find((e=>e.identifier===t)),l=null==o?void 0:o.drm;a&&n&&r&&!l&&(i.push(t),s[`channelMappingByKey[${t}]`]=n,s[`channelMapping[${t}]`]=r)})),yield(0,ag.RE)(us.Z.put,g.Z.join(["/media/grabbers/devices",n,"channelmap"]),{server:t,params:qf({channelsEnabled:i.toString()},s)}),yield(0,ag.gz)(mn.ZP.actions.deviceChannelMappingsSaveSucceeded())}catch(e){yield(0,ag.gz)(mn.ZP.actions.deviceChannelMappingsSaveFailed({error:us.Z.toPlainErrorObject(e)}))}}function*nb({payload:e}){const{server:t,deviceKey:n,enabled:r,title:i}=e;try{yield(0,ag.RE)(us.Z.put,g.Z.join(["/media/grabbers/devices",n]),{server:t,params:{title:i,enabled:r?1:0}}),yield(0,ag.gz)(mn.ZP.actions.deviceEnableSucceeded({deviceKey:n,enabled:r}))}catch(e){yield(0,ag.gz)(mn.ZP.actions.deviceEnableFailed())}}function*rb({payload:e}){var t;const{server:n,uri:r}=e;let i=(0,Ne.Z)("There was a problem adding the device: {1}",r);try{const e=Vf({server:n,data:null==(t=(yield(0,ag.RE)(us.Z.post,"/media/grabbers/tv.plex.grabbers.hdhomerun/devices",{server:n,params:{uri:r}})).data)?void 0:t.MediaContainer});if(0===e.length)throw i=(0,Ne.Z)("No device found at {1}",r),new Error;yield(0,ag.gz)(mn.ZP.actions.deviceAddSucceeded({server:n,data:e[0]}))}catch(e){yield(0,ag.gz)(mn.ZP.actions.setupErrorMessageAdded({message:i})),yield(0,ag.gz)(mn.ZP.actions.deviceAddFailed({server:n,error:us.Z.toPlainErrorObject(e)}))}}function*ib({payload:e}){var t;const{server:n,dvrID:r}=e;try{const e=r?g.Z.join(["/livetv/dvrs",r]):"/livetv/dvrs",i=yield(0,ag.RE)(us.Z.get,e,{server:n});yield(0,ag.gz)(mn.ZP.actions.dvrFetchSucceeded({dvr:Uf({server:n,data:null==(t=i.data)?void 0:t.MediaContainer})}))}catch(e){yield(0,ag.gz)(mn.ZP.actions.dvrFetchFailed({error:us.Z.toPlainErrorObject(e)}))}}function*sb({payload:e}){var t;const{server:n,device:r,channelMappings:i}=e,s=yield(0,ag.Ys)(Ef.Z);try{const{success:e,failure:a}=yield(0,ag.RE)(db,n,r.key,i,s);if(a)throw new Error;if(e){const{selectedCountry:e,selectedLanguage:i}=yield(0,ag.Ys)(Pf.Z),a=yield(0,ag.RE)(us.Z.post,"/livetv/dvrs",{server:n,params:{device:r.uuid,lineup:null==s?void 0:s.map((e=>e.uuid)),language:i.code,country:e.code}});yield(0,ag.gz)(mn.ZP.actions.dvrSaveSucceeded({activityUUID:a.headers["x-plex-activity"],dvr:Uf({server:n,data:null==(t=a.data)?void 0:t.MediaContainer})})),yield(0,ag.gz)(mn.ZP.actions.devicesFetchRequested({server:n})),yield(0,Ny.Z)((0,Sf.oP)({serverEntityID:n.entityID}))}}catch(e){yield(0,ag.gz)(mn.ZP.actions.setupErrorMessageAdded({message:(0,Ne.Z)("There was a problem saving your DVR. Please try again.")})),yield(0,ag.gz)(mn.ZP.actions.dvrSaveFailed({error:us.Z.toPlainErrorObject(e)}))}}function*ab({payload:e}){const{server:t,dvrID:n}=e;try{yield(0,ag.RE)(us.Z.del,g.Z.join(["/livetv/dvrs",n]),{server:t,timeout:0}),yield(0,ag.gz)(mn.ZP.actions.dvrDeleteSucceeded())}catch(e){yield(0,Ny.Z)((0,Xe.wp)((0,Ne.Z)("There was a problem removing your DVR")))}}function*ob({payload:e}){var t;const{server:n,dvrID:r,deviceKey:i,channelMappings:s}=e,a=yield(0,ag.Ys)(Ef.Z);try{const{success:e,failure:o}=yield(0,ag.RE)(db,n,i,s,a);if(o)throw new Error;if(e){yield(0,ag.RE)(cb,n,r,a);const e=yield(0,ag.RE)(us.Z.put,g.Z.join(["/livetv/dvrs",r,"devices",i]),{server:n});yield(0,ag.gz)(mn.ZP.actions.addDVRDeviceSucceeded({activityUUID:e.headers["x-plex-activity"],dvr:Uf({server:n,data:null==(t=e.data)?void 0:t.MediaContainer})})),yield(0,ag.gz)(mn.ZP.actions.devicesFetchRequested({server:n})),yield(0,Ny.Z)((0,Sf.oP)({serverEntityID:n.entityID}))}}catch(e){yield(0,ag.gz)(mn.ZP.actions.setupErrorMessageAdded({message:(0,Ne.Z)("There was a problem adding a new device to your DVR. Please try again.")})),yield(0,ag.gz)(mn.ZP.actions.addDVRDeviceFailed({error:us.Z.toPlainErrorObject(e)}))}}function*lb({payload:e}){const{server:t,dvrID:n,deviceKey:r}=e;try{yield(0,ag.RE)(us.Z.del,g.Z.join(["/livetv/dvrs",n,"devices",r]),{server:t}),yield(0,ag.gz)(mn.ZP.actions.removeDVRDeviceSucceeded({deviceKey:r}))}catch(e){yield(0,Ny.Z)((0,Xe.wp)((0,Ne.Z)("There was a problem removing a DVR device"))),yield(0,ag.gz)(mn.ZP.actions.removeDVRDeviceFailed())}}function*cb(e,t,n){var r;const{selectedDVR:i}=yield(0,ag.Ys)(Zf.Z);let s=n;(null==(r=i.dvr)?void 0:r.Lineup)&&(s=s.filter((e=>{var t,n;return!(null==(n=null==(t=i.dvr)?void 0:t.Lineup)?void 0:n.find((t=>t.id===e.uuid)))}))),yield(0,ag.$6)(s.map((n=>(0,ag.RE)(us.Z.put,g.Z.join(["/livetv/dvrs",t,"lineups"]),{server:e,params:{lineup:n.uuid}}))))}function*db(e,t,n,r){var i;return yield(0,ag.gz)(mn.ZP.actions.deviceChannelMappingsSaveRequested({server:e,deviceKey:t,mappings:n})),yield(0,ag.gz)(mn.ZP.actions.deviceEnableRequested({server:e,deviceKey:t,enabled:!0,title:null==(i=null==r?void 0:r[0])?void 0:i.title})),yield(0,ag.S3)({success:(0,ag.$6)([(0,ag.qn)(mn.ZP.actions.deviceChannelMappingsSaveSucceeded),(0,ag.qn)(mn.ZP.actions.deviceEnableSucceeded)]),failure:(0,ag.S3)([(0,ag.qn)(mn.ZP.actions.deviceChannelMappingsSaveFailed),(0,ag.qn)(mn.ZP.actions.deviceEnableFailed)])})}function*ub(){for(;;){const e=yield(0,ag.A7)(mn.ZP.actions.devicesDiscoverRequested,Kf);yield(0,ag.qn)(mn.ZP.actions.reset),yield(0,ag.al)(e)}}function*pb(){for(;;){const e=yield(0,ag.A7)(mn.ZP.actions.devicesFetchRequested,$f);yield(0,ag.qn)(mn.ZP.actions.reset),yield(0,ag.al)(e)}}function*mb(){for(;;){const e=yield ug(mn.ZP.actions.deviceChannelsFetchRequested,Xf,(({payload:e})=>e.deviceKey));yield(0,ag.qn)(mn.ZP.actions.reset),yield(0,ag.al)(e)}}function*hb(){for(;;){const e=yield ug(mn.ZP.actions.deviceChannelsScanRequested,Jf,(({payload:e})=>e.deviceKey));yield(0,ag.qn)(mn.ZP.actions.reset),yield(0,ag.al)(e)}}function*gb(){for(;;){const e=yield ug(mn.ZP.actions.deviceChannelsCancelScanRequested,eb,(({payload:e})=>e.deviceKey));yield(0,ag.qn)(mn.ZP.actions.reset),yield(0,ag.al)(e)}}function*yb(){for(;;){const e=yield ug(mn.ZP.actions.deviceChannelMappingsSaveRequested,tb,(({payload:e})=>e.deviceKey));yield(0,ag.qn)(mn.ZP.actions.reset),yield(0,ag.al)(e)}}function*vb(){for(;;){const e=yield ug(mn.ZP.actions.deviceEnableRequested,nb,(({payload:e})=>e.deviceKey));yield(0,ag.qn)(mn.ZP.actions.reset),yield(0,ag.al)(e)}}function*fb(){for(;;){const e=yield(0,ag.A7)(mn.ZP.actions.dvrFetchRequested,ib);yield(0,ag.qn)(mn.ZP.actions.reset),yield(0,ag.al)(e)}}function*bb(){for(;;){const e=yield(0,ag.A7)(mn.ZP.actions.deviceAddRequested,rb);yield(0,ag.qn)(mn.ZP.actions.reset),yield(0,ag.al)(e)}}function*Sb(){for(;;){const e=yield(0,ag.A7)(mn.ZP.actions.dvrSaveRequested,sb);yield(0,ag.qn)(mn.ZP.actions.reset),yield(0,ag.al)(e)}}function*Ib(){for(;;){const e=yield(0,ag.A7)(mn.ZP.actions.dvrDeleteRequested,ab);yield(0,ag.qn)(mn.ZP.actions.reset),yield(0,ag.al)(e)}}function*Zb(){for(;;){const e=yield(0,ag.A7)(mn.ZP.actions.addDVRDeviceRequested,ob);yield(0,ag.qn)(mn.ZP.actions.reset),yield(0,ag.al)(e)}}function*Pb(){for(;;){const e=yield(0,ag.A7)(mn.ZP.actions.removeDVRDeviceRequested,lb);yield(0,ag.qn)(mn.ZP.actions.reset),yield(0,ag.al)(e)}}function*Eb(){yield(0,ag.$6)([(0,ag.rM)(ub),(0,ag.rM)(pb),(0,ag.rM)(mb),(0,ag.rM)(hb),(0,ag.rM)(gb),(0,ag.rM)(yb),(0,ag.rM)(vb),(0,ag.rM)(bb),(0,ag.rM)(fb),(0,ag.rM)(Sb),(0,ag.rM)(Ib),(0,ag.rM)(Zb),(0,ag.rM)(Pb)])}var Mb=Object.defineProperty,Cb=Object.prototype.hasOwnProperty,wb=Object.getOwnPropertySymbols,Db=Object.prototype.propertyIsEnumerable,Tb=(e,t,n)=>t in e?Mb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ob=(e,t)=>{for(var n in t||(t={}))Cb.call(t,n)&&Tb(e,n,t[n]);if(wb)for(var n of wb(t))Db.call(t,n)&&Tb(e,n,t[n]);return e};function*xb({payload:e}){var t,n,r;const{server:i,device:s,lineups:a}=e,o=a.map((e=>e.uuid));try{const e=yield(0,ag.RE)(Ub,i,o),t=Af((yield(0,ag.RE)(us.Z.get,"/livetv/epg/channelmap",{server:i,params:{device:s.uuid,lineup:o}})).data.MediaContainer.ChannelMapping);yield(0,ag.gz)(hn.ZP.actions.channelMappingsFetchSucceeded({channelMappings:t,lineupChannels:e}))}catch(e){yield(0,ag.gz)(hn.ZP.actions.channelMappingsFetchFailed({error:us.Z.toPlainErrorObject(e)}));let i=(0,Ne.Z)("There was a problem fetching channel mappings. Please try again later.");(null==(r=null==(n=null==(t=e.response)?void 0:t.data)?void 0:n.MediaContainer)?void 0:r.message)&&(i=e.response.data.MediaContainer.message),yield(0,ag.gz)(mn.ZP.actions.setupErrorMessageAdded({message:i}))}}function*Ab({payload:e}){const{server:t,device:n,lineupGroup:r}=e;try{yield(0,ag.gz)(mn.ZP.actions.setupErrorMessageRemoved());const e=yield(0,ag.RE)(us.Z.get,g.Z.join("/livetv/epg/lineup",{device:n.uuid,lineupGroup:r.uuid}),{server:t});yield(0,ag.gz)(hn.ZP.actions.bestEPGLineupSearchSucceeded({lineupGroup:r,data:e.headers["x-plex-activity"]}))}catch(e){yield(0,ag.gz)(mn.ZP.actions.setupErrorMessageAdded({message:(0,Ne.Z)("There was a problem mapping channels")}))}}function*Nb({payload:e}){var t,n;const{server:r}=e;try{const e=yield(0,ag.RE)(us.Z.get,"/livetv/epg/countries",{server:r});yield(0,ag.gz)(hn.ZP.actions.epgCountriesFetchSucceeded({server:r,data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.Country)?n:[]}))}catch(e){yield(0,ag.gz)(hn.ZP.actions.epgCountriesFetchFailed({error:us.Z.toPlainErrorObject(e)}))}}function*kb({payload:e}){var t,n;const{server:r,country:i}=e;try{const e=yield(0,ag.RE)(us.Z.get,g.Z.join(["/livetv/epg/countries",i.key,"regions"]),{server:r});yield(0,ag.gz)(hn.ZP.actions.epgCountryRegionsFetchSucceeded({data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.Region)?n:[]}))}catch(e){yield(0,ag.gz)(hn.ZP.actions.epgCountryRegionsFetchFailed({error:us.Z.toPlainErrorObject(e)}))}}function*Lb({payload:e}){var t,n;const{server:r}=e;try{const e=yield(0,ag.RE)(us.Z.get,"/livetv/epg/languages",{server:r});yield(0,ag.gz)(hn.ZP.actions.epgLanguagesFetchSucceeded({data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.Language)?n:[]}))}catch(e){yield(0,ag.gz)(hn.ZP.actions.epgLanguagesFetchFailed({error:us.Z.toPlainErrorObject(e)}))}}function*jb({payload:e}){var t,n;const{server:r,country:i,region:s,postalCode:a}=e,o=["/livetv/epg/countries",i.key],l={};i.flavor===Mf.Y_.Regions&&s?o.push(s.key):l.postalCode=a;const c=g.Z.join(o,l);try{const e=yield(0,ag.RE)(us.Z.get,c,{server:r}),{MediaContainer:i}=e.data;yield(0,ag.gz)(hn.ZP.actions.epgLineupGroupFetchSucceeded({data:{uuid:null!=(t=null==i?void 0:i.uuid)?t:"",epgLineups:null!=(n=null==i?void 0:i.Lineup)?n:[]}}))}catch(e){yield(0,ag.gz)(hn.ZP.actions.epgLineupGroupFetchFailed({error:us.Z.toPlainErrorObject(e)}))}}function*Rb({payload:e}){(yield(0,ag.Ys)(Pf.Z)).selectedLineupGroups.find((t=>t.uuid===e.lineupGroup.uuid))?yield(0,ag.gz)(mn.ZP.actions.setupErrorMessageAdded({message:(0,Ne.Z)("It looks like you have already set up a lineup for this location.")})):yield(0,ag.gz)(hn.ZP.actions.selectedEPGLineupGroupAddSucceeded({lineupGroup:e.lineupGroup}))}function*Vb({payload:e}){var t;const{server:n}=e;try{const{selectedDVR:e}=yield(0,ag.Ys)(Zf.Z);if(!(null==(t=null==e?void 0:e.dvr)?void 0:t.Lineup))throw new Error("No available DVR lineups to fetch");const r=e.dvr.Lineup.map((e=>e.id)),i=yield(0,ag.RE)(Ub,n,r);yield(0,ag.gz)(hn.ZP.actions.selectedDVRLineupChannelsFetchSucceeded({lineupChannels:i}))}catch(e){yield(0,ag.gz)(hn.ZP.actions.selectedDVRLineupChannelsFetchFailed({error:us.Z.toPlainErrorObject(e)}))}}function*Ub(e,t){return function({data:e}){var t;const n=null!=(t=e.Lineup)?t:[];return n.forEach((e=>{var t;e.Channel=null==(t=e.Channel)?void 0:t.map((t=>Ob(Ob({},t),{lineupUUID:e.uuid})))})),n}({server:e,data:(yield(0,ag.RE)(us.Z.get,"/livetv/epg/lineupchannels",{server:e,params:{lineup:t}})).data.MediaContainer})}function*zb(){for(;;){const e=yield(0,ag.A7)(hn.ZP.actions.channelMappingsFetchRequested,xb);yield(0,ag.qn)(hn.ZP.actions.reset),yield(0,ag.al)(e)}}function*Bb(){for(;;){const e=yield(0,ag.A7)(hn.ZP.actions.bestEPGLineupSearchRequested,Ab);yield(0,ag.qn)(hn.ZP.actions.reset),yield(0,ag.al)(e)}}function*_b(){for(;;){const e=yield(0,ag.A7)(hn.ZP.actions.epgCountriesFetchRequested,Nb);yield(0,ag.qn)(hn.ZP.actions.reset),yield(0,ag.al)(e)}}function*Fb(){for(;;){const e=yield(0,ag.A7)(hn.ZP.actions.epgCountryRegionsFetchRequested,kb);yield(0,ag.qn)(hn.ZP.actions.reset),yield(0,ag.al)(e)}}function*Hb(){for(;;){const e=yield(0,ag.A7)(hn.ZP.actions.epgLanguagesFetchRequested,Lb);yield(0,ag.qn)(hn.ZP.actions.reset),yield(0,ag.al)(e)}}function*Wb(){for(;;){const e=yield(0,ag.A7)(hn.ZP.actions.epgLineupGroupFetchRequested,jb);yield(0,ag.qn)(hn.ZP.actions.reset),yield(0,ag.al)(e)}}function*Qb(){for(;;){const e=yield(0,ag.A7)(hn.ZP.actions.selectedEPGLineupGroupAddRequested,Rb);yield(0,ag.qn)(hn.ZP.actions.reset),yield(0,ag.al)(e)}}function*Gb(){for(;;){const e=yield(0,ag.A7)(hn.ZP.actions.selectedDVRLineupChannelsFetchRequested,Vb);yield(0,ag.qn)(hn.ZP.actions.reset),yield(0,ag.al)(e)}}function*Yb(){yield(0,ag.$6)([(0,ag.rM)(zb),(0,ag.rM)(Bb),(0,ag.rM)(_b),(0,ag.rM)(Fb),(0,ag.rM)(Hb),(0,ag.rM)(Wb),(0,ag.rM)(Qb),(0,ag.rM)(Gb)])}function*qb(){yield(0,ag.$6)([(0,ag.rM)(Eb),(0,ag.rM)(Yb)])}var Kb=n(50468),$b=n(95088);function*Xb({payload:e}){const{hubsSources:t,hubsStates:n,userServices:r}=e;yield(0,ag.$6)(t.reduce(((e,t)=>{const i=n.find((e=>e.key===t.key));return i&&e.push((0,ag.RE)(tS,t,i,r)),e}),[]))}function*Jb({payload:e}){const{hubsSource:t,userServices:n}=e,{key:r,source:i,contentDirectoryID:s,pinnedContentDirectoryID:a,server:o,provider:l,feature:c}=t;try{if(!o||!l||!(null==c?void 0:c.key))throw new Error("Missing server, provider, or a provider feature with a key that can be used to fetch hubs");if((0,Kb.Z)(n,c.requires)){const e={contentDirectoryID:s.join(","),pinnedContentDirectoryID:null==a?void 0:a.join(","),includeMeta:1,excludeFields:"summary"};c.type===lg.zW.Promoted&&Object.assign(e,{count:uv.HE,includeGames:1,includeStations:1,includeLibraryPlaylists:1,includeRecentChannels:1,excludeContinueWatching:1});const t=yield(0,ag.RE)(us.Z.get,c.key,{server:o,provider:l,params:e}),n=Mv({server:o,provider:l,contentDirectoryID:s,pinnedContentDirectoryID:a,excludedHubIdentifiers:c.type===lg.zW.Promoted?[$b.F.ContinueWatching,$b.F.OnDeck]:[],data:t.data});yield(0,ag.$6)([(0,ag.gz)(Gt.Z.actions.added({metadataLists:n.metadataLists,metadataItemStates:n.metadataItemStates})),(0,ag.gz)(yn.Z.actions.fetchSucceeded({key:r,data:n.hubs}))])}else yield(0,ag.gz)(yn.Z.actions.fetchSucceeded({key:r,data:[]}))}catch(e){yield(0,ag.gz)(yn.Z.actions.fetchFailed({key:r,source:i,contentDirectoryID:s,error:us.Z.toPlainErrorObject(e)}))}}function*eS(){yield(0,ag.gw)(6e4),yield(0,ag.gz)(yn.Z.actions.markStale())}function*tS(e,t,n){var r;const{key:i,source:s,contentDirectoryID:a,pinnedContentDirectoryID:o}=e;try{const i=t.isSourceReady&&!t.isListPending&&!t.isListPopulated&&!t.isListError,s=!!t.contentDirectoryID.length&&!(0,Cd.Z)(t.contentDirectoryID,a),l=!!(null==(r=t.pinnedContentDirectoryID)?void 0:r.length)&&o&&!(0,Cd.Z)(t.pinnedContentDirectoryID,o);(i||s||l)&&(yield(0,ag.gz)(yn.Z.actions.fetchRequested({hubsSource:e,userServices:n})))}catch(e){yield(0,ag.gz)(yn.Z.actions.fetchFailed({key:i,source:s,contentDirectoryID:a,error:us.Z.toPlainErrorObject(e)}))}}function*nS(){yield(0,ag.ib)(yn.Z.actions.populateAllRequested,Xb)}function*rS(){for(;;){const e=yield dg(yn.Z.actions.fetchRequested,Jb,(({payload:e})=>e.hubsSource.key));yield(0,ag.qn)(yn.Z.actions.markStaleRequested),yield(0,ag.al)(e)}}function*iS(){for(;;)yield(0,ag.qn)(yn.Z.actions.markStaleRequested),yield(0,ag.S3)({task:(0,ag.RE)(eS),cancel:(0,ag.qn)(yn.Z.actions.populateAllRequested)})}function*sS(){yield(0,ag.$6)([(0,ag.rM)(nS),(0,ag.rM)(rS),(0,ag.rM)(iS)])}function*aS({payload:e}){const{server:t,importAll:n,sectionID:r}=e;try{yield(0,ag.RE)(us.Z.put,"/playlists/import/itunes",{server:t,params:{sectionID:r,force:n?1:0}}),yield(0,ag.gz)(vn.Z.actions.importSucceeded())}catch(e){yield(0,ag.gz)(vn.Z.actions.importFailed({error:us.Z.toPlainErrorObject(e)}))}}function*oS(){yield(0,ag.Fm)(vn.Z.actions.importRequested.type,aS)}function*lS(){yield(0,ag.$6)([(0,ag.rM)(oS)])}var cS=n(70762),dS=n(98927),uS=Object.defineProperty,pS=Object.prototype.hasOwnProperty,mS=Object.getOwnPropertySymbols,hS=Object.prototype.propertyIsEnumerable,gS=(e,t,n)=>t in e?uS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yS=(e,t)=>{for(var n in t||(t={}))pS.call(t,n)&&gS(e,n,t[n]);if(mS)for(var n of mS(t))hS.call(t,n)&&gS(e,n,t[n]);return e};const vS="MergedRecentlyAdded";function*fS({payload:e}){var t,n;const{server:r}=e;try{const e=null==(n=null==(t=(yield(0,ag.RE)(us.Z.get,":/prefs/get",{server:r,params:{id:vS}})).data.MediaContainer.Setting)?void 0:t[0])?void 0:n.value;yield(0,ag.gz)(fn.Z.actions.settingsFetchSucceeded({server:r,isMergeRecentlyAddedEnabled:e}))}catch(e){yield(0,ag.gz)(fn.Z.actions.settingsFetchFailed({server:r,error:us.Z.toPlainErrorObject(e)}))}}function*bS({payload:e}){const{server:t,isMergeRecentlyAddedEnabled:n}=e;try{yield(0,ag.RE)(us.Z.put,":/prefs",{server:t,params:{[vS]:n}}),yield(0,ag.gz)(fn.Z.actions.settingsUpdateSucceeded({server:t,isMergeRecentlyAddedEnabled:n})),yield(0,ag.gz)(fn.Z.actions.resetHubs())}catch(e){yield(0,ag.gz)(fn.Z.actions.settingsUpdateFailed({server:t,error:us.Z.toPlainErrorObject(e)}))}}function*SS(){yield(0,ag.gz)(yn.Z.actions.reset()),yield(0,ag.gz)(un.Z.actions.resetHubs())}function*IS({payload:e}){const{server:t,sourceURI:n}=e;try{const e=yield(0,ag.RE)(DS,t,n);yield(0,ag.gz)(fn.Z.actions.hubsFetchSucceeded({sourceURI:n,options:e}))}catch(e){yield(0,ag.gz)(fn.Z.actions.hubsFetchFailed({sourceURI:n,error:us.Z.toPlainErrorObject(e)}))}}function*ZS({payload:e}){var t;const{server:n,sourceURI:r,options:i,fromIndex:s,toIndex:a}=e;try{const e=i[a].identifier,s=null==(t=i.find(((e,t)=>t===a-1)))?void 0:t.identifier,{key:o}=(0,Rg.Z)(r);yield(0,ag.RE)(us.Z.put,g.Z.join([o,e,"move"]),{server:n,params:{after:s}}),yield(0,ag.gz)(fn.Z.actions.reorderSucceeded({sourceURI:r})),yield(0,ag.gz)(fn.Z.actions.resetHubs())}catch(e){const t=Array.from(i),[n]=t.splice(a,1);t.splice(s,0,n),yield(0,ag.gz)(fn.Z.actions.reorderFailed({sourceURI:r,options:t,error:us.Z.toPlainErrorObject(e)}))}}function*PS({payload:e}){const{server:t,sourceURI:n,options:r,removed:i,index:s}=e;try{const e=i.identifier,{key:r}=(0,Rg.Z)(n);yield(0,ag.RE)(us.Z.del,g.Z.join([r,e]),{server:t}),yield(0,ag.gz)(fn.Z.actions.removeSucceeded({sourceURI:n})),yield(0,ag.gz)(fn.Z.actions.resetHubs())}catch(e){const t=Array.from(r);t.splice(s,0,i),yield(0,ag.gz)(fn.Z.actions.removeFailed({sourceURI:n,options:t,error:us.Z.toPlainErrorObject(e)}))}}function*ES({payload:e}){const{server:t,sourceURI:n}=e;try{const{key:e}=(0,Rg.Z)(n);yield(0,ag.RE)(us.Z.del,e,{server:t});const r=yield(0,ag.RE)(DS,t,n);yield(0,ag.gz)(fn.Z.actions.resetSucceeded({sourceURI:n,options:r})),yield(0,ag.gz)(fn.Z.actions.resetHubs())}catch(e){yield(0,ag.gz)(fn.Z.actions.resetFailed({sourceURI:n,error:us.Z.toPlainErrorObject(e)}))}}function*MS({payload:e}){const{server:t,sourceURI:n,options:r,promoted:i}=e;try{const e=yS(yS({},r),i);yield(0,ag.gz)(fn.Z.actions.promoteChanged({sourceURI:n,options:e}));const{key:s}=(0,Rg.Z)(n);yield(0,ag.RE)(us.Z.put,g.Z.join([s,e.identifier]),{server:t,params:{promotedToRecommended:(0,cS.Z)(e.promotedToRecommended),promotedToOwnHome:(0,cS.Z)(e.promotedToOwnHome),promotedToSharedHome:(0,cS.Z)(e.promotedToSharedHome)}}),yield(0,ag.gz)(fn.Z.actions.resetHubs())}catch(e){yield(0,ag.gz)(fn.Z.actions.promoteChanged({sourceURI:n,options:r}))}}function*CS({payload:e}){var t;const{server:n,sourceURI:r,contentDirectoryID:i}=e;try{const{ratingKey:e}=(0,Rg.Z)(r),s=yield(0,ag.RE)(us.Z.get,(0,dS.Z)(i),{server:n,params:{metadataItemId:e}});yield(0,ag.gz)(fn.Z.actions.publishedFetchSucceeded({sourceURI:r,hub:null==(t=s.data.MediaContainer.Hub)?void 0:t[0]}))}catch(e){yield(0,ag.gz)(fn.Z.actions.publishedFetchFailed({sourceURI:r,error:us.Z.toPlainErrorObject(e)}))}}function*wS({payload:e}){var t;const{server:n,sourceURI:r,contentDirectoryID:i,hub:s}=e;try{const{ratingKey:e}=(0,Rg.Z)(r),a=yield(0,ag.RE)(us.Z.post,(0,dS.Z)(i),{server:n,params:{metadataItemId:e,promotedToRecommended:(0,cS.Z)(s.promotedToRecommended),promotedToOwnHome:(0,cS.Z)(s.promotedToOwnHome),promotedToSharedHome:(0,cS.Z)(s.promotedToSharedHome)}});yield(0,ag.gz)(fn.Z.actions.publishedUpdateSucceeded({sourceURI:r,hub:null==(t=a.data.MediaContainer.Hub)?void 0:t[0]})),yield(0,ag.gz)(fn.Z.actions.resetHubs())}catch(e){yield(0,ag.gz)(fn.Z.actions.publishedUpdateFailed({sourceURI:r,error:us.Z.toPlainErrorObject(e)}))}}function*DS(e,t){const{key:n}=(0,Rg.Z)(t);return(yield(0,ag.RE)(us.Z.get,n,{server:e})).data.MediaContainer.Hub}function*TS(){yield(0,ag.Fm)(fn.Z.actions.settingsFetchRequested,fS)}function*OS(){yield(0,ag.Fm)(fn.Z.actions.settingsUpdateRequested,bS)}function*xS(){yield(0,ag.Fm)(fn.Z.actions.resetHubs,SS)}function*AS(){yield(0,ag.Fm)(fn.Z.actions.hubsFetchRequested,IS)}function*NS(){yield(0,ag.ib)(fn.Z.actions.reorderRequested,ZS)}function*kS(){yield(0,ag.ib)(fn.Z.actions.removeRequested,PS)}function*LS(){yield(0,ag.Fm)(fn.Z.actions.resetRequested,ES)}function*jS(){yield(0,ag.ib)(fn.Z.actions.promoteRequested,MS)}function*RS(){yield(0,ag.Fm)(fn.Z.actions.publishedFetchRequested,CS)}function*VS(){yield(0,ag.ib)(fn.Z.actions.publishedUpdateRequested,wS)}function*US(){yield(0,ag.$6)([(0,ag.rM)(TS),(0,ag.rM)(OS),(0,ag.rM)(xS),(0,ag.rM)(AS),(0,ag.rM)(NS),(0,ag.rM)(kS),(0,ag.rM)(LS),(0,ag.rM)(jS),(0,ag.rM)(RS),(0,ag.rM)(VS)])}var zS,BS,_S=n(9481);function FS({data:e}){var t,n;const r=null==(t=e.Directory)?void 0:t.map((e=>({title:e.tag,thumb:e.thumb,callSign:e.channelCallSign,identifier:e.channelIdentifier,vcn:e.channelVcn||e.channelIdentifier,hd:!!e.tagValue})));return null!=(n=null==r?void 0:r.sort(((e,t)=>(0,_S.Z)(e.vcn,t.vcn))))?n:[]}function*HS({payload:e}){var t;const{server:n,provider:r}=e;try{const e=yield(0,ag.RE)(us.Z.get,g.Z.join([r.identifier,"/tags"]),{server:n,params:{type:zS.Channel}});yield(0,ag.gz)(bn.Z.actions.guideChannelsFetchSucceeded({data:FS({server:n,data:null==(t=e.data)?void 0:t.MediaContainer})}))}catch(e){yield(0,ag.gz)(bn.Z.actions.guideChannelsFetchFailed({error:us.Z.toPlainErrorObject(e)}))}}function*WS(){for(;;){const e=yield(0,ag.A7)(bn.Z.actions.guideChannelsFetchRequested,HS);yield(0,ag.qn)(bn.Z.actions.reset),yield(0,ag.al)(e)}}function*QS(){yield(0,ag.$6)([(0,ag.rM)(WS)])}(BS=zS||(zS={}))[BS.Channel=310]="Channel";var GS=n(96051),YS=Object.defineProperty,qS=Object.prototype.hasOwnProperty,KS=Object.getOwnPropertySymbols,$S=Object.prototype.propertyIsEnumerable,XS=(e,t,n)=>t in e?YS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JS=(e,t)=>{for(var n in t||(t={}))qS.call(t,n)&&XS(e,n,t[n]);if(KS)for(var n of KS(t))$S.call(t,n)&&XS(e,n,t[n]);return e};function eI(e=[]){return e.reduce(((e,t)=>(t.key===GS.F.ViewedAt?e["viewedAt>"]=t.value:e[t.key]=t.value,e)),{})}function*tI({payload:e}){try{const{server:t,provider:n,sort:r,filters:i,startIndex:s,size:a,isPrepend:o}=e,l=yield(0,ag.RE)(In.g.fetchRange,"/status/sessions/history/all",{server:t,provider:n,params:JS({sort:r},eI(i)),startIndex:s,size:a,isPrepend:o});yield(0,ag.gz)(In.Z.actions.fetchRangeSucceeded({data:l}))}catch(e){yield(0,ag.gz)(In.Z.actions.fetchRangeFailed({error:us.Z.toPlainErrorObject(e)}))}}function*nI(){for(;;){const e=yield(0,ag.Fm)(In.Z.actions.fetchRangeRequested,tI);yield(0,ag.qn)(In.Z.actions.reset),yield(0,ag.al)(e)}}function*rI(){yield(0,ag.$6)([(0,ag.rM)(nI)])}var iI=n(76249),sI=n(48523),aI=n(33918),oI=n(55606),lI=Object.prototype.hasOwnProperty,cI=Object.getOwnPropertySymbols,dI=Object.prototype.propertyIsEnumerable;function uI(e){return e.subtype!==Ty.y_.Webshow&&e.subtype!==Ty.y_.Podcast&&!(0,aI.Z)(e)}function*pI({payload:e}){const t=yield(0,ag.Ys)(oI.Z);try{const n=yield(0,ag.RE)(yI,e.server,e.provider,e.metadataKey);yield(0,ag.RE)(vI,e.server,e.provider,n,t)}catch(e){yield(0,ag.gz)(Pn.Z.actions.metadataItemFetchFailed({error:us.Z.toPlainErrorObject(e)}))}}function*mI({payload:e}){var t;try{const n=yield(0,ag.Ys)(oI.Z),r=null==(t=n.metadata.metadataItem)?void 0:t.key;if(!r)return;const i=yield(0,ag.RE)(yI,e.server,e.provider,r);yield(0,ag.RE)(vI,e.server,e.provider,i,n)}catch(e){}}function*hI({payload:e}){const{server:t,provider:n,metadataKey:r}=e,i=!t.version||(0,sI.Z)(t.version,iI.Z.simpleRelatedKey)?g.Z.join([r,"related"]):g.Z.join([r.replace(/(\/library)?\/metadata/,"/hubs/metadata"),"related"]);try{const e=Mv({server:t,provider:n,data:(yield(0,ag.RE)(us.Z.get,i,{server:t,provider:n,params:{includeAugmentations:!t.version||(0,sI.Z)(t.version,iI.Z.augmentedHubsInRelatedHubs)?1:0,includeExternalMetadata:1,includeMeta:1}})).data});yield(0,ag.$6)([(0,ag.gz)(Gt.Z.actions.added({metadataLists:e.metadataLists,metadataItemStates:e.metadataItemStates})),(0,ag.gz)(Pn.Z.actions.relatedHubsFetchSucceeded({hubs:e.hubs}))])}catch(e){yield(0,ag.gz)(Pn.Z.actions.relatedHubsFetchFailed({error:us.Z.toPlainErrorObject(e)}))}}function*gI({payload:e}){const{server:t,provider:n,augmentationKey:r}=e;try{const e=Mv({server:t,provider:n,data:(yield(0,ag.RE)(us.Z.get,r,{server:t,provider:n,params:{wait:1}})).data});yield(0,ag.$6)([(0,ag.gz)(Gt.Z.actions.added({metadataLists:e.metadataLists,metadataItemStates:e.metadataItemStates})),(0,ag.gz)(Pn.Z.actions.augmentedHubsFetchSucceeded({hubs:e.hubs}))])}catch(e){yield(0,ag.gz)(Pn.Z.actions.augmentedHubsFetchFailed({error:us.Z.toPlainErrorObject(e)}))}}function*yI(e,t,n){const r=(yield(0,ag.RE)(us.Z.get,n,{server:e,provider:t,params:{includeConcerts:1,includeExtras:1,includeOnDeck:1,includePopularLeaves:1,includePreferences:1,includeReviews:1,includeChapters:1,includeStations:1,includeExternalMedia:1,asyncAugmentMetadata:1,asyncCheckFiles:1,asyncRefreshAnalysis:1,asyncRefreshLocalMediaAgent:1}})).data.MediaContainer,{Metadata:i=[]}=r,s=((e,t)=>{var n={};for(var r in e)lI.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&cI)for(var r of cI(e))t.indexOf(r)<0&&dI.call(e,r)&&(n[r]=e[r]);return n})(r,["Metadata"]),[a]=i;if(!a)throw new Error("The response did not contain a metadata item");const o=(0,Ay.Z)({server:e,provider:t,data:a,container:s}),{descendantListSourceURI:l,siblingListSourceURI:c,popularLeavesSourceURI:d,extrasSourceURI:u}=function(e){const{source:t,childrenKey:n,popularLeaves:r,extras:i}=e,s=function(e){const{skipParent:t,parentKey:n,grandparentKey:r}=e,i=t?r:n,s=t?"grandchildren":"children";if(i)return g.Z.join([i,s],{excludeAllLeaves:1})}(e),a=null==r?void 0:r.key,o=i?g.Z.join([e.key,"extras"]):void 0;return{descendantListSourceURI:n?g.Z.join([t,n]):void 0,siblingListSourceURI:uI(e)&&s?g.Z.join([t,s]):void 0,popularLeavesSourceURI:a?g.Z.join([t,a]):void 0,extrasSourceURI:o?g.Z.join([t,o]):void 0}}(o.metadataItem),p={metadataItem:o.metadataItem,metadataItemStates:o.metadataItemStates,descendantListSourceURI:l,siblingListSourceURI:c,popularLeavesSourceURI:d,extrasSourceURI:u};return yield(0,ag.gz)(Pn.Z.actions.metadataItemFetchSucceeded(p)),yield(0,ag.gz)(Qt.Z.actions.metadataItemStatesNormalized({metadataItemStates:o.metadataItemStates})),p}function*vI(e,t,n,r){var i,s;const{descendantListSourceURI:a,siblingListSourceURI:o,popularLeavesSourceURI:l,extrasSourceURI:c}=r,{metadataItem:d,descendantListSourceURI:u,siblingListSourceURI:p,popularLeavesSourceURI:m,extrasSourceURI:h}=n,g=[];u&&(u===a?yield(0,ag.gz)((null==d||d.type,Ty.pG.Album,Gt.Z.actions.throttledRepopulateRequested({server:e,provider:t,sourceURI:u}))):g.push((0,ag.RE)(fI,{server:e,provider:t,sourceURI:u,fetchAll:d.type===Ty.pG.Album}))),p&&(p===o?yield(0,ag.gz)(Gt.Z.actions.throttledRepopulateRequested({server:e,provider:t,sourceURI:p})):g.push((0,ag.RE)(fI,{server:e,provider:t,sourceURI:p,fetchAll:!0}))),m&&(m===l?yield(0,ag.gz)(Gt.Z.actions.throttledRepopulateRequested({server:e,provider:t,sourceURI:m})):g.push((0,ag.RE)(fI,{server:e,provider:t,sourceURI:m,items:null==(i=d.popularLeaves)?void 0:i.items}))),h&&(h===c?yield(0,ag.gz)(Gt.Z.actions.throttledRepopulateRequested({server:e,provider:t,sourceURI:h})):g.push((0,ag.RE)(fI,{server:e,provider:t,sourceURI:h,items:d.extras,totalSize:null==(s=d.extras)?void 0:s.length}))),yield(0,ag.$6)(g)}function*fI({server:e,provider:t,sourceURI:n,items:r=[],totalSize:i,fetchAll:s}){if(yield(0,ag.gz)(Gt.Z.actions.added({metadataLists:[{sourceURI:n,items:r,totalSize:i,offset:0}],metadataItemStates:{}})),null==i)if(s)try{yield(0,ag.gz)(Gt.Z.actions.fetchAllRequested({server:e,provider:t,sourceURI:n}))}catch(e){yield(0,ag.gz)(Gt.Z.actions.fetchAllFailed({error:us.Z.toPlainErrorObject(e),sourceURI:n}))}else try{yield(0,ag.gz)(Gt.Z.actions.fetchRangeRequested({server:e,provider:t,sourceURI:n,startIndex:0,size:20}))}catch(e){yield(0,ag.gz)(Gt.Z.actions.fetchRangeFailed({error:us.Z.toPlainErrorObject(e),sourceURI:n}))}}function*bI(){for(;;){const e=yield(0,ag.A7)(Pn.Z.actions.metadataItemFetchRequested,pI);yield(0,ag.qn)(Pn.Z.actions.reset),yield(0,ag.al)(e)}}function*SI(){for(;;){const e=yield(0,ag.A7)(Pn.Z.actions.relatedHubsFetchRequested,hI);yield(0,ag.qn)(Pn.Z.actions.reset),yield(0,ag.al)(e)}}function*II(){for(;;){const e=yield(0,ag.A7)(Pn.Z.actions.augmentedHubsFetchRequested,gI);yield(0,ag.qn)(Pn.Z.actions.reset),yield(0,ag.al)(e)}}function*ZI(){for(;;){const e=yield(0,ag.A7)(Pn.Z.actions.metadataItemRepopulateRequested,mI),t=yield(0,ag.qn)([Pn.Z.actions.reset,Qt.Z.actions.playedStatusUpdateRequested,Qt.Z.actions.toggleWatchlistRequested,Qt.Z.actions.toggleSavedRequested,Qt.Z.actions.streamSelectRequested,Qt.Z.actions.streamDeleteRequested,Qt.Z.actions.preferenceChanged]);t.type!==Pn.Z.actions.reset&&(yield(0,ag.Ys)(oI.Z)).metadata.isPending&&(yield(0,ag.gz)(Qt.Z.actions.repopulateCanceled({sourceURI:t.payload.sourceURI}))),yield(0,ag.al)(e)}}function*PI(){yield(0,ag.$6)([(0,ag.rM)(bI),(0,ag.rM)(ZI),(0,ag.rM)(SI),(0,ag.rM)(II)])}const EI=(0,n(94177).Z)(Ll.X);function*MI({payload:e}){const{password:t}=e,n=yield(0,Yv.Z)(EI);try{const e=yield(0,ag.RE)(us.Z.post,"/api/v2/user/two_factor",{server:n},{password:t});yield(0,ag.gz)(En.Z.actions.createSecretSucceeded({provisioningUri:e.data.provisioningUri,secret:e.data.secret}))}catch(e){yield(0,ag.gz)(En.Z.actions.createSecretFailed({error:us.Z.toPlainErrorObject(e)}))}}function*CI({payload:e}){const{enabled:t,resetDevices:n,verificationCode:r}=e,i=yield(0,Yv.Z)(EI);try{if(t){const e=yield(0,ag.RE)(us.Z.put,"/api/v2/user/two_factor",{server:i},{resetDevices:n,verificationCode:r});yield(0,ag.gz)(En.Z.actions.toggleSucceeded({enabled:!0,codes:e.data.codes}))}else yield(0,ag.RE)(us.Z.del,"/api/v2/user/two_factor",{server:i,params:{verificationCode:r}}),yield(0,ag.gz)(En.Z.actions.toggleSucceeded({enabled:!1}));yield(0,Ny.Z)((0,$s.ay)({twoFactorEnabled:t}))}catch(e){yield(0,ag.gz)(En.Z.actions.toggleFailed({error:us.Z.toPlainErrorObject(e)}))}}function*wI({payload:e}){const{password:t,verificationCode:n}=e,r=yield(0,Yv.Z)(EI);try{const e=yield(0,ag.RE)(us.Z.post,"/api/v2/user/two_factor/backup_codes",{server:r},{password:t,verificationCode:n});yield(0,ag.gz)(En.Z.actions.generateRecoveryCodesSucceeded({codes:e.data.codes}))}catch(e){yield(0,ag.gz)(En.Z.actions.generateRecoveryCodesFailed({error:us.Z.toPlainErrorObject(e)}))}}function*DI(){const e=yield(0,Yv.Z)(EI);try{yield(0,ag.RE)(us.Z.post,"/api/v2/user/two_factor/send_recovery_code",{server:e}),yield(0,ag.gz)(En.Z.actions.sendRecoveryCodeSucceeded())}catch(e){yield(0,ag.gz)(En.Z.actions.sendRecoveryCodeFailed({error:us.Z.toPlainErrorObject(e)}))}}function*TI(){for(;;){const e=yield(0,ag.Fm)(En.Z.actions.createSecretRequested,MI);yield(0,ag.qn)(En.Z.actions.reset),yield(0,ag.al)(e)}}function*OI(){for(;;){const e=yield(0,ag.Fm)(En.Z.actions.toggleRequested,CI);yield(0,ag.qn)(En.Z.actions.reset),yield(0,ag.al)(e)}}function*xI(){for(;;){const e=yield(0,ag.Fm)(En.Z.actions.generateRecoveryCodesRequested,wI);yield(0,ag.qn)(En.Z.actions.reset),yield(0,ag.al)(e)}}function*AI(){for(;;){const e=yield(0,ag.Fm)(En.Z.actions.sendRecoveryCodeRequested,DI);yield(0,ag.qn)(En.Z.actions.reset),yield(0,ag.al)(e)}}function*NI(){yield(0,ag.$6)([(0,ag.rM)(TI),(0,ag.rM)(OI),(0,ag.rM)(xI),(0,ag.rM)(AI)])}function*kI(){const e=yield(0,Yv.Z)(EI);try{yield(0,ag.RE)(us.Z.post,"/api/v2/user/send_confirmation",{server:e}),yield(0,ag.gz)(Mn.Z.actions.sendVerificationEmailSucceeded())}catch(e){yield(0,ag.gz)(Mn.Z.actions.sendVerificationEmailFailed({error:us.Z.toPlainErrorObject(e)}))}}function*LI(){for(;;){const e=yield(0,ag.Fm)(Mn.Z.actions.sendVerificationEmailRequested,kI);yield(0,ag.qn)(Mn.Z.actions.reset),yield(0,ag.al)(e)}}function*jI(){yield(0,ag.$6)([(0,ag.rM)(LI)])}var RI=n(81731);function*VI(){yield(0,ag.$6)([(0,ag.rM)(Fy),(0,ag.rM)(qy),(0,ag.rM)(dv),(0,ag.rM)(_v),(0,ag.rM)(bf),(0,ag.rM)(qb),(0,ag.rM)(sS),(0,ag.rM)(lS),(0,ag.rM)(US),(0,ag.rM)(QS),(0,ag.rM)(rI),(0,ag.rM)(PI),(0,ag.rM)(NI),(0,ag.rM)(jI),(0,ag.rM)(RI.ZP)])}const UI=(0,sg.ZP)(),zI=(0,Ht.xC)({reducer:(e,t)=>(t.type===Dn.type&&(e=void 0),wn(e,t)),middleware:[UI]});UI.run((function*(){yield(0,ag.$6)([(0,ag.rM)(Dy),(0,ag.rM)(VI)])}));const BI=zI,_I=vi.Z.extend({name:"StoreModel",initialize(){this._currentState=BI.getState(),BI.subscribe((()=>{const e=BI.getState();this.trigger("statechange",this,e,this._currentState),this._currentState=e}))},getState:()=>BI.getState(),toJSON:()=>BI.getState(),dispatch(e){BI.dispatch(e)}}),FI=sm.extend({name:"DesktopAppModel",sessionAttrs:{clientID:Br.Z.string,anonymousClientID:Br.Z.string,authorized:Br.Z.boolean.isRequired,skipSignIn:Br.Z.boolean.isRequired,isWaitingForServers:Br.Z.boolean.isRequired,isWaitingForPrimaryServer:Br.Z.boolean.isRequired,history:Br.Z.array.isRequired,drmType:Br.Z.oneOf(...Object.values(is)),isFullscreen:Br.Z.boolean.isRequired,isUpdateAvailable:Br.Z.boolean.isRequired,castApiAvailability:dm.QV.isRequired,settings:Br.Z.instanceOf(Hi)},sessionRelations:{entities:{relationClass:function(e){const t={};for(const n in e)t[e[n]]={relationClass:vm};return vi.Z.extend({name:"EntitiesModel",sessionRelations:t})}(ig)},servers:{relationClass:cm},cloudServer:{relationClass:am.Z,deferred:!0},primaryServer:{relationClass:zt.ZP,deferred:!0},companionServer:{relationClass:zt.ZP,deferred:!0},transientServer:{relationClass:Wl,deferred:!0},user:{relationClass:rg,deferred:!0},remotePlayer:{relationClass:vi.Z,deferred:!0},deviceSettings:{relationClass:Qr},ui:{relationClass:Oh},v4:{relationClass:_I}},defaults(){const e=new am.Z({machineIdentifier:Ll.X},{parent:this});return{authorized:!1,skipSignIn:!1,isWaitingForServers:!1,isWaitingForPrimaryServer:!1,isUpdateAvailable:!1,history:[],cloudServer:e,user:new rg({},{server:e,parent:this}),isFullscreen:!1,castApiAvailability:dm.lz,settings:new Hi}},dispatch(e){this.get("v4").dispatch(e)}}),HI=vi.Z.extend({name:"OauthProviderUsageModel",syncedAttrs:{federatedAuth:Br.Z.boolean,other:Br.Z.boolean}}),WI=vi.Z.extend({name:"OauthProviderModel",rootPropertyName:"provider",sessionAttrs:{isUnlinking:Br.Z.boolean.isRequired,unlinkError:Br.Z.object},syncedAttrs:{authName:Br.Z.string,image:Br.Z.string,label:Br.Z.string.isRequired,linked:Br.Z.boolean.isRequired,nickname:Br.Z.string,url:Br.Z.string.isRequired},syncedRelations:{usage:{relationClass:HI}},defaults:{isUnlinking:!1}}),QI=yi.Z.extend({name:"OauthProviderCollection",model:WI,context:["server"],url:"/api/v2/authentications/providers",responseType:Sm.AV}),GI=vi.Z.extend({name:"CloudServerFlexModel",context:["server"],sessionAttrs:{isOauthProvidersPending:Br.Z.boolean,isOauthProvidersPopulated:Br.Z.boolean,oauthProvidersError:Br.Z.object},sessionRelations:{oauthProviders:{relationClass:QI}},defaults:{isOauthProvidersPending:!1,isOauthProvidersPopulated:!1,oauthProvidersError:null}});var YI=n(33192);const qI=vi.Z.extend({name:"PlexPlayerModel",context:["server","baseURL"],rootPropertyName:"Server",sessionAttrs:{volume:Br.Z.integer},syncedAttrs:{machineIdentifier:Br.Z.string,name:Br.Z.string,title:Br.Z.string,address:Br.Z.string,port:Br.Z.string,deviceClass:Br.Z.string,version:Br.Z.string,product:Br.Z.string,protocol:Br.Z.string,protocolVersion:Br.Z.string,protocolCapabilities:Br.Z.list},derivedAttrs:{friendlyName(){return this.get("title")||this.get("name")||this.get("product")},playerIdentifier(){return`${this.baseURL}:${this.get("machineIdentifier")}`}},defaults:{volume:100}}),KI=yi.Z.extend({name:"PlexPlayerCollection",context:["server"],model:qI,url:"/clients",augmentResponse(e){const t=(0,u.DB)("appModel").get("clientID"),n=parseInt(e.size,10);return 1===n&&e.Server.machineIdentifier===t?(delete e.Server,e.size="0"):n>1&&(e.Server=e.Server.filter((e=>e.machineIdentifier!==t)),e.size=e.Server.length.toString()),e}}),$I=vi.Z.extend({name:"ActivityModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Activity",responseType(){return(0,vl.Z)(this.server)},sessionAttrs:{synthetic:Br.Z.boolean},syncedAttrs:{uuid:Br.Z.string,userID:Br.Z.integer,title:Br.Z.string,subtitle:Br.Z.string,progress:Br.Z.integer,event:Br.Z.string,cancellable:Br.Z.boolean,type:Br.Z.string,Context:Br.Z.object,Response:Br.Z.object},defaults:()=>({Context:{},Response:{}})}),XI=yi.Z.extend({name:"ActivityCollection",context:["server"],model:$I,url:"/activities",responseType(){return(0,vl.Z)(this.server)}});var JI=n(29415);const eZ=JI.Z.extend({pageSize:10,pages:function(){return Math.max(Math.ceil(this.length/this.pageSize),1)},page:function(e,t){t||(t={});let n,r=0;return n=t.reverse?this.length-e*this.pageSize:e*this.pageSize-this.pageSize,n<0&&(r=n,n=0),this.models.slice(n,n+this.pageSize+r)}});var tZ=n(69865);let nZ=0;const rZ=tZ.Z.extend({idAttribute:"id",parse:function(e){const t=e;return t.time=new Date,t.id="evt"+nZ++,"preference"===t._type&&(t.value=String(t.value)),t}}),iZ=eZ.extend({model:rZ,url:"/servers",pageSize:20,limit:1e3,initialize:function(){this.startTime=new Date,this.listenTo(this.server,"socket:setting",this.onSettingChange),this.listenTo(this.server,"socket:timeline",this.onTimeline),this.listenTo(this.server,"socket:status",this.onStatus),this.listenTo(this.server,"socket:playing",this.onPlaying),this.listenTo(this.server,"socket:websocket",this.onWebSocket)},add:function(e){this.length+1>this.limit&&this.remove(this.at(0)),eZ.prototype.add.apply(this,arguments)},onSettingChange:function(e){e.label&&this.add(m().extend({_type:"setting"},e),{parse:!0})},onTimeline:function(e){1===e.state||e.sectionID<0||this.add(m().extend({_type:"timeline"},e),{parse:!0})},onStatus:function(e){"ProgressNotification"!==e._elementType&&this.add(m().extend({_type:"status"},e),{parse:!0})},onPlaying:function(e){this.add(m().extend({_type:"playing"},e),{parse:!0})},onWebSocket:function(e){this.add(m().extend({_type:"websocket"},e),{parse:!0})}});var sZ=n(91485);const aZ=vi.Z.extend({name:"TranscodeJobModel",context:["server"],entityType:Np.PC,entityID(e=this.state){return(0,Ap.Z)(this.entityType,e.syncItemId,this.server.entityID())},idAttribute:"syncItemId",rootPropertyName:"TranscodeJob",syncedAttrs:{syncItemId:Br.Z.integer,syncItemTitle:Br.Z.string,key:Br.Z.string,type:Br.Z.string,progress:Br.Z.float,speed:Br.Z.float,remaining:Br.Z.string,size:Br.Z.string,title:Br.Z.string,thumb:Br.Z.string},responseType(){return(0,vl.Z)(this.server)}});var oZ=n(89905);const lZ=yi.Z.extend({name:"TranscodeJobCollection",context:["server"],model:aZ,cache:new oZ.Z,url:"/sync/transcodeQueue"}),cZ=vi.Z.extend({name:"BackgroundTranscodeJobModel",context:["server"],entityType:ig.BACKGROUND_TRANSCODE_JOBS,entityID(e=this.state){return(0,Ap.Z)(this.entityType,e.key,this.server.entityID())},idAttribute:"key",rootPropertyName:"TranscodeJob",syncedAttrs:{queueItemID:Br.Z.integer,generatorID:Br.Z.integer,targetTagID:Br.Z.integer,syncItemId:Br.Z.integer,syncItemTitle:Br.Z.string,key:Br.Z.string,type:Br.Z.string,progress:Br.Z.float,speed:Br.Z.float,remaining:Br.Z.integer,size:Br.Z.integer,ratingKey:Br.Z.string,title:Br.Z.string,thumb:Br.Z.string}}),dZ=yi.Z.extend({name:"BackgroundTranscodeJobCollection",model:cZ,context:["server"],url:"/status/sessions/background"}),uZ=vi.Z.extend({name:"NeighborhoodDeviceModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Device",syncedAttrs:{uuid:Br.Z.string.isRequired,address:Br.Z.string.isRequired,title:Br.Z.string,manufacturer:Br.Z.string,model:Br.Z.string,modelNumber:Br.Z.string,serialNumber:Br.Z.string}}),pZ=yi.Z.extend({name:"NeighborhoodDeviceCollection",context:["server"],model:uZ,url:"neighborhood/devices"}),mZ=vi.Z.extend({name:"ServerFlexModel",context:["server"],sessionAttrs:{alerts:Br.Z.instanceOf(iZ).isRequired,hasiTunes:Br.Z.boolean,isHasiTunesPopulated:Br.Z.boolean,isSettingsPending:Br.Z.boolean,isSettingsPopulated:Br.Z.boolean,settingsError:Br.Z.object,isLibrariesPending:Br.Z.boolean.isRequired,isLibrariesPopulated:Br.Z.boolean.isRequired,librariesError:Br.Z.object,cleanBundlesError:Br.Z.string,optimizeDatabaseError:Br.Z.string},sessionRelations:{settings:{relationClass:sZ.Z,rootPropertyName:"Setting"},cloudAccount:{relationClass:Rt.ZP},libraries:{relationClass:YI.Z},activities:{relationClass:XI},transcodeJobs:{relationClass:lZ},backgroundTranscodeJobs:{relationClass:dZ},players:{relationClass:KI},neighborhoodDevices:{relationClass:pZ},update:{relationClass:Hp}},defaults(){return{alerts:new iZ([],{server:this.server}),hasiTunes:!1,isHasiTunesPopulated:!1,isSettingsPending:!0,isSettingsPopulated:!1,settingsError:null,isLibrariesPending:!0,isLibrariesPopulated:!1,librariesError:null,cleanBundlesError:null,optimizeDatabaseError:null}}});var hZ=Object.defineProperty,gZ=Object.prototype.hasOwnProperty,yZ=Object.getOwnPropertySymbols,vZ=Object.prototype.propertyIsEnumerable,fZ=(e,t,n)=>t in e?hZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bZ=(e,t)=>{for(var n in t||(t={}))gZ.call(t,n)&&fZ(e,n,t[n]);if(yZ)for(var n of yZ(t))vZ.call(t,n)&&fZ(e,n,t[n]);return e};const SZ=_r.Z.extend({name:"StoredUserExperienceSettingsModel",syncedAttrs:bZ(bZ({},Ti.prototype.syncedAttrs),{isDirty:Br.Z.boolean}),syncedRelations:bZ({},Ti.prototype.syncedRelations)}),IZ=yi.Z.extend({name:"CloudPlayerCollection",context:["server","baseURL"],model:qI,augmentResponse:e=>(e.Server||(e.Server=e.Player,delete e.Player),e)});var ZZ=n(56416);const PZ=vi.Z.extend({name:"CloudCompanionModel",context:["server"],idAttribute:"identifier",rootPropertyName:"Companion",syncedAttrs:{identifier:Br.Z.string,title:Br.Z.string,baseURL:Br.Z.string,linkURL:Br.Z.string,provides:Br.Z.list},sessionAttrs:{linkState:Br.Z.string},sessionRelations:{cloudPlayers:{relationClass:IZ,options(){return{url:`${this.get("baseURL")}/resources`,baseURL:this.get("baseURL")}}}},defaults:{linkState:ZZ.uf}}),EZ=yi.Z.extend({name:"CloudCompanionCollection",context:["server"],model:PZ,url:"/api/v2/companions",responseType:Sm.AV,augmentResponse(e){const t=e,n=(0,u.DB)("appModel"),r=(n&&n.get("deviceSettings")).get("sonosCustomBaseURL");if(r&&t&&t.length){const e=t.find((({identifier:e})=>"tv.plex.sonos"===e));e&&t.push({identifier:"tv.plex.sonos-custom",title:"Sonos (Custom)",baseURL:r,linkURL:g.Z.join([r,"link"]),provides:e.provides,token:e.token})}return e}}),MZ=vi.Z.extend({name:"AnnouncementModel",context:["server"],rootPropertyName:"Announcement",syncedAttrs:{id:Br.Z.integer,title:Br.Z.string,content:Br.Z.string,imageUrl:Br.Z.string,style:Br.Z.string,url:Br.Z.string,expireAt:Br.Z.string,notifyAt:Br.Z.string,read:{type:Br.Z.boolean,save:!0}},markAsRead(){this.get("read")||this.save("read",!0)}}),CZ=yi.Z.extend({name:"AnnouncementCollection",model:MZ,context:["server"],url:"api/announcements"});var wZ=n(78954);const DZ=yi.Z.extend({name:"SyncItemCollection",context:["server","device"],model:wZ.Z}),TZ="active",OZ="snoozed",xZ="dead",AZ={ACTIVE:TZ,SNOOZED:OZ,DEAD:xZ},NZ=vi.Z.extend({name:"SyncListModel",context:["server","device"],url(){return this.device?`/devices/${this.device.get("clientIdentifier")}/sync_items`:`/servers/${this.server.id}/sync_lists`},syncedAttrs:{status:Br.Z.oneOf(TZ,OZ,xZ),clientIdentifier:Br.Z.string,version:Br.Z.integer,itemsCompleteCount:Br.Z.integer,totalSize:Br.Z.integer},syncedRelations:{syncItems:{relationClass:DZ,rootPropertyName:"SyncItems"}},derivedAttrs:{isActive(){return this.get("status")===TZ}},augmentResponse:e=>(e.SyncItems&&(e.SyncItems=e.SyncItems.SyncItem),e),sync(e,t,n){const r=kp.Z.addVersionHeaderForDevice(this.get("device"),n);return vi.Z.prototype.sync.call(this,e,t,r)},getCollection(){return this.get("syncItems")},resetToServer(e){const t=this.getCollection(),n=t.filter((function(t){const n=t.get("Server");return n&&n.machineIdentifier===e}));t.reset(t.clone(n).models)}},{statuses:AZ}),kZ=vi.Z.extend({name:"DeviceModel",context:["server"],rootPropertyName:"Device",url(){return"/devices/"+this.id+".xml"},syncedAttrs:{id:Br.Z.string,clientIdentifier:Br.Z.string,name:Br.Z.string,product:Br.Z.string,productVersion:Br.Z.string,platform:Br.Z.string,platformVersion:Br.Z.string,device:Br.Z.string,model:Br.Z.string,provides:Br.Z.list,screenResolution:Br.Z.string,screenDensity:Br.Z.string,lastSeenAt:Br.Z.integer},syncedRelations:{syncList:{relationClass:NZ,rootPropertyName:"SyncList",deferred:!0,options(){return{device:this}}}},supports(e){return-1!==this.get("provides").indexOf(e)}}),LZ=yi.Z.extend({name:"DeviceCollection",context:["server"],model:kZ,url:"/devices.xml",filterSyncDevices(e){const t=!!e&&e.get("isPlaylist"),n=this.filter((e=>{const n=e.get("syncList"),r=n&&n.get("version")>=2,i=t&&!r;return e.supports("sync-target")&&!i}));return this.clone(n)},filterByProducts(e){const t=this.filter((t=>m().contains(e,t.get("product"))));return this.clone(t)},filterByPlatforms(e){const t=this.filter((t=>m().contains(e,t.get("platform"))));return this.clone(t)},products(){const e=this.map((e=>e.get("product")));return m().uniq(e)}});var jZ=n(1483);const RZ=yi.Z.extend({name:"HomeUserCollection2",context:["server"],model:jZ.Z,url:"/api/home/users",parse(e){return this.convert(e,"User")}});var VZ=n(12152),UZ=n.n(VZ);const zZ=vi.Z.extend({name:"InviteModel",context:["server"],rootPropertyName:"Invite",sessionAttrs:{isAccepting:Br.Z.boolean,isRemoving:Br.Z.boolean},syncedAttrs:{id:{type:Br.Z.string,save:!0},friend:Br.Z.boolean,home:Br.Z.boolean,server:Br.Z.boolean,friendlyName:Br.Z.string,username:Br.Z.string,email:Br.Z.string,thumb:Br.Z.string,createdAt:Br.Z.integer,Server:Br.Z.array},urlRoot:"/api/invites/requests",url(){let e;if(this.isNew())e=m().result(this,"urlRoot");else{const t=this.pick("friend","server","home");m().each(m().keys(t),(function(e){t[e]=t[e]?"1":"0"})),e=this.collection?m().result(this.collection,"url"):m().result(this,"urlRoot"),e=e.replace(/([^/])$/,"$1/")+encodeURIComponent(this.get("id")),e=g.Z.join(e,t)}return e},augmentResponse:e=>e.Server?((Array.isArray(e.Server)?e.Server:[e.Server]).forEach((e=>{e.numLibraries=(0,ui.Z)(e.numLibraries)})),e):e,defaults:{isAccepting:!1,isRemoving:!1}}),BZ=yi.Z.extend({name:"InviteCollection",context:["server","subset"],model:zZ,url(){return"/api/invites/"+this.subset},initialize(e,t){t||(t={}),this.subset=t.subset||"requests"},filterByHome(){const e=new(UZ())(this);return e.filterBy((e=>e.get("home"))),e},filterByFriends(){const e=new(UZ())(this);return e.filterBy((e=>!e.get("home"))),e}}),_Z=tZ.Z.extend({idAttribute:"key",whitelistedAttrs:["key","title","linked","maxLength"],convert:function(e){var t=m().isObject(e)?e:Pe.Z.parseXML(e);return Pe.Z.parseBoolean(t,["linked","maxLength"]),t},parse:function(e){var t=this.convert(e);return m().pick(t,this.whitelistedAttrs)}}),FZ=JI.Z.extend({model:_Z,url:"/pms/social/networks",parse:function(e){return this.convert(e,"Directory")}}),HZ=vi.Z.extend({name:"SubscriptionPlanModel",context:["server"],rootPropertyName:"plan",syncedAttrs:{id:Br.Z.string,name:Br.Z.string,price:Br.Z.float,formattedPrice:Br.Z.string,currency:Br.Z.string}}),WZ=yi.Z.extend({name:"SubscriptionPlanCollection",context:["server"],model:HZ,url:"/api/subscriptions/plans"}),QZ=vi.Z.extend({name:"WebhookModel",syncedAttrs:{url:Br.Z.string},defaults:{url:""}}),GZ=yi.Z.extend({name:"WebhookCollection",context:["server"],model:QZ,url:"/api/v2/user/webhooks",responseType:Sm.AV}),YZ=vi.Z.extend({name:"UserFlexModel",context:["server"],sessionAttrs:{isHomeUsersPending:Br.Z.boolean.isRequired,isHomeUsersPopulated:Br.Z.boolean.isRequired,homeUsersError:Br.Z.object,socialNetworks:Br.Z.instanceOf(FZ).isRequired,isPlansPending:Br.Z.boolean.isRequired,isPlansPopulated:Br.Z.boolean.isRequired,plansError:Br.Z.object,isUpdatingUser:Br.Z.boolean.isRequired,updateUserError:Br.Z.object,isHomeDetailsPending:Br.Z.boolean,isHomeDetailsPopulated:Br.Z.boolean,homeDetailsError:Br.Z.object,isInvitesPending:Br.Z.boolean,isInvitesPopulated:Br.Z.boolean,invitesError:Br.Z.object,isSentInvitesPending:Br.Z.boolean,isSentInvitesPopulated:Br.Z.boolean,sentInvitesError:Br.Z.object,isWebhooksPending:Br.Z.boolean,isWebhooksPopulated:Br.Z.boolean,webhooksError:Br.Z.object,isUpdatingWebhooks:Br.Z.boolean,isRemovingWebhooks:Br.Z.boolean,updateWebhooksError:Br.Z.object},sessionRelations:{homeUsers:{relationClass:RZ},devices:{relationClass:LZ},cloudCompanions:{relationClass:EZ},announcements:{relationClass:CZ},homeDetails:{relationClass:Bh},invites:{relationClass:BZ},sentInvites:{relationClass:BZ,options:{subset:"requested"}},plans:{relationClass:WZ},webhooks:{relationClass:GZ}},defaults(){const e={server:this.server,parent:this};return{isHomeUsersPending:!1,isHomeUsersPopulated:!1,homeUsersError:null,socialNetworks:new FZ([],e),isPlansPending:!0,isPlansPopulated:!1,plansError:null,isUpdatingUser:!1,updateUserError:null,isHomeDetailsPending:!1,isHomeDetailsPopulated:!1,homeDetailsError:null,isInvitesPending:!1,isInvitesPopulated:!1,invitesError:null,isSentInvitesPending:!1,isSentInvitesPopulated:!1,sentInvitesError:null,isWebhooksPending:!1,isWebhooksPopulated:!1,webhooksError:null,isUpdatingWebhooks:!1,isRemovingWebhooks:!1,updateWebhooksError:null}}});n(87769);var qZ=n(33816);const KZ="provider/providerIntegrations/initProviderIntegrations",$Z="provider/providerIntegrations/fetchProviderIntegrations",XZ="provider/providerIntegrations/pollProviderIntegrations",JZ="provider/providerIntegrations/integrationsOnboardingComplete",eP="provider/providerIntegrations/createLocastAccount",tP=((0,Gl.Z)(KZ),(0,Gl.Z)($Z)),nP=(0,Gl.Z)(XZ);function rP(e){return e.get("ui").get("providerIntegrations")}(0,Gl.Z)(JZ),(0,Gl.Z)(eP);const iP={[KZ](e,t,n){rP(e).set({isIntegrationsOnboarding:!1,isIntegrationsPending:!1,isIntegrationsPopulated:!1,integrationsError:null,integrations:new Zm([],{server:(0,Nu.SW)(e,t),provider:(0,Nu.js)(e,t)})}),n(tP())},[$Z]:(0,qZ.Z)({key:"integrations",getModel:rP}),[XZ](e,t,n){rP(e).set("isIntegrationsOnboarding",!0),window.setTimeout((()=>{(0,gs.c9)((()=>{n(tP())}))}),3e3)},[JZ](e){rP(e).set("isIntegrationsOnboarding",!1)},[eP](e,t,n){rP(e).set("isIntegrationsOnboarding",!0),function(){const e=a().Deferred();return window.setTimeout((()=>{e.resolve()}),3e3),e}().then((()=>{n(nP())}))}};var sP=n(11736),aP=n(44693),oP=n(80150),lP=n(28018),cP=n(92857),dP=n(84656),uP=n(25043),pP=n(20224),mP=n(70468),hP=n(76331),gP=n(82128),yP=n(97408),vP=n(6016),fP=n(39783),bP=n(3265),SP=n(87048),IP=n(93066),ZP=n(71332),PP=Object.defineProperty,EP=Object.prototype.hasOwnProperty,MP=Object.getOwnPropertySymbols,CP=Object.prototype.propertyIsEnumerable,wP=(e,t,n)=>t in e?PP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DP=(e,t)=>{for(var n in t||(t={}))EP.call(t,n)&&wP(e,n,t[n]);if(MP)for(var n of MP(t))CP.call(t,n)&&wP(e,n,t[n]);return e};function TP(e){return e.get("ui").get("dvrSettingsUI").get("dvrSetup")}function OP(e){return TP(e).get("epgSettings")}function xP(e,t,n={}){const r=TP(e),i=OP(e),s=i.get(t);return s.abortPendingPopulate(),r.get("setupErrorMessages").remove("programGuideSettings"),i.set("isFetching",!0),s.fetch(n).done((()=>{i.set({isFetching:!1,isPopulated:!0})})).fail((()=>{i.set({isFetching:!1,isPopulated:!1}),r.get("setupErrorMessages").add({id:"programGuideSettings",message:(0,Ne.Z)("Unable to fetch Guide settings")})}))}const AP=(0,bP.Z)({[IP.Mo](e){OP(e).restoreDefaults()},[IP.Xx](e,t,n){const r=function(e,{serverEntityID:t}){return(0,SP.Z)(e,Np.cN,t)}(e,t);xP(e,"countries").done((()=>{const e=r.get("countryCode");e&&n((0,ZP.selectEPGCountry)(DP(DP({},t),{countryCode:e})))}))},[IP.W](e,t,n){const r=OP(e);xP(e,"languages").done((()=>{const e=r.get("selectedCountry");e&&n((0,ZP.selectEPGLanguage)(DP(DP({},t),{languageCode:e.get("language")})))}))},[IP.ei](e,t,n){const r=OP(e),i=r.get("countries").get(t.countryCode);if(r.set({selectedCountry:i,postalCode:""}),r.get("regions").reset(),r.get("lineupGroup").get("lineups").reset(),i){const s=i.get("flavor"),a=g.Z.join([r.get("baseUrl"),i.get("key")]);n((0,ZP.fetchEPGLanguages)(DP(DP({},t),{languageCode:i.get("language")}))),0===s?xP(e,"regions",{url:a}):2===s&&(r.set("postalCode",i.get("example")),n((0,ZP.fetchEPGLineups)(t)))}},[IP.$F](e,t){const n=OP(e),r=n.get("languages").get(t.languageCode);n.set("selectedLanguage",r)},[IP.SJ](e,t,n){const r=OP(e),i=r.get("regions").get(t.regionKey);r.set("selectedRegion",i),r.get("lineupGroup").get("lineups").reset(),i&&n((0,ZP.fetchEPGLineups)(t))},[IP.Hj](e,t){const n=OP(e),r=t.postalCode;n.set("postalCode",r),n.get("lineupGroup").get("lineups").reset()},[IP.w](e){const t=OP(e),n=t.get("selectedCountry"),r=[t.get("baseUrl"),n.get("key")],i={};0===n.get("flavor")?r.push(t.get("selectedRegion").get("key")):i.postalCode=t.get("postalCode"),xP(e,"lineupGroup",{url:g.Z.join(r,i)})}});var NP=n(29414),kP=n(62034),LP=n(65794),jP=n(15768),RP=n(34845),VP=n(4493),UP=n(63800),zP=n(43888),BP=n(99051),_P=n(6638);const FP={[nc]:lc[nc],[rc]:lc[rc],[ic](e,t){const n=(0,Nu.SW)(e,t),r=(0,Nu.js)(e,t);let i;if(n.get("isTransient"))i=`#!/transient/provider/${encodeURIComponent(r.get("identifier"))}/details?key=${encodeURIComponent(t.key)}`;else{const e={machineIdentifier:n.get("machineIdentifier")},s={identifier:r.get("identifier"),isLibraryProvider:r.get("isLibraryProvider")};i=(0,_P.Z)(e,s,t.key)}/\/transient\//.test(window.location.hash)?window.location.replace(i):window.location.hash=i}};var HP=n(8304),WP=n(86526),QP=n(98124),GP=n(93474),YP=n(7165),qP=n(36535),KP=n(9010);var $P=Object.defineProperty,XP=Object.prototype.hasOwnProperty,JP=Object.getOwnPropertySymbols,eE=Object.prototype.propertyIsEnumerable,tE=(e,t,n)=>t in e?$P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nE=(e,t)=>{for(var n in t||(t={}))XP.call(t,n)&&tE(e,n,t[n]);if(JP)for(var n of JP(t))eE.call(t,n)&&tE(e,n,t[n]);return e};const rE={[ja.$y]:ja.gv[ja.$y],[ja.xd]:ja.gv[ja.xd],[ja.bj]:ja.gv[ja.bj],[ja.e4]:ja.gv[ja.e4],[ja.tf]:ja.gv[ja.tf],[ja.Rt]:ja.gv[ja.Rt],[ja.Si]:ja.gv[ja.Si],[ja.yt]:ja.gv[ja.yt],[ja.N9]:ja.gv[ja.N9],[ja.Bw]:ja.gv[ja.Bw],[ja.EJ](e,t,n){const r=(0,WP.Z)(e,t),i=(0,Tu.Z)(r),s=t.playerType||ql.f_(i),a=(0,Od.F_)(e,s),o=(0,Nu.js)(e,t),l=(0,Nu.SW)(e,t),c=(0,Nu.$R)(e,t),d=e.get("user").get("experienceSettings"),p=(0,qP.Z)(o.get("identifier"),o.get("providerIdentifier")),m=e.get("remotePlayer"),h=m&&!(0,KP.Z)({protocol:m.get("protocol"),protocolCapabilities:m.get("protocolCapabilities"),providerIdentifier:p,userFeaturesByUUID:(0,QP.Z)(e),isWatchTogether:!!t.syncplaySessionRoomID,playQueueType:i}),g=e.get("user"),y=s===ql.eD&&(v=g.get("features").toJSON(),f=g.get("services").toJSON(),function(e,t){if(!t)return!0;const n=e.find((e=>e.type===t));return(null==n?void 0:n.state)===Nn.GB.Active||(null==n?void 0:n.state)===Nn.GB.PendingCancellation}(g.get("subscriptions").toJSON(),Nn.A5.Arcade)?(0,Kb.Z)(f,"parsec")?/\bChrome\b/.test(window.navigator.userAgent)||Object.values(window.navigator.plugins).some((e=>/\bChromium\b/.test(e.name)))?v.find((({uuid:e})=>e===ka.ZM))?void 0:(0,Ne.Z)("Sorry, game playback is unavailable."):(0,Ne.Z)("Please use a Chromium-based browser for game playback."):(0,Ne.Z)("Please link your Plex and Parsec accounts then try again."):(0,Ne.Z)("An active Plex Arcade subscription is required for game playback."));var v,f;let b,S;if(h?b=(0,Ne.Z)("This content is not currently supported when connected to this remote player."):y&&(b=y),b)return void(0,gs.c9)((()=>{a.set({hasError:!0,errorMessage:b})}));S=a.get("isOpen")?a.get("openState"):i===Qu.j0?Au.y:Au.K,(0,YP.Z)()&&ri.wB(p,[ri.uk])&&(S=Au.K);let I=!1;i===Qu.pV&&t.metadataItemEntityID&&(I=c.get("type")===Fe.PHOTO);let Z=t.metricsProperties||{};(function(e){const t=(0,u.DB)("appModel").get("embeddedServer");return!!e&&!!t&&e.get("machineIdentifier")===t.get("machineIdentifier")})(l)&&(Z=nE(nE({},Z),{origin:GP.J3})),Z.identifier||(Z.identifier=o.get("metricsIdentifier")),ja.gv[ja.EJ](e,nE(nE({extrasPrefixCount:d.get("extrasPrefixCount"),openState:S,isPaused:I},t),{metricsProperties:Z}),n)},[ja.l5](e,t,n){ja.gv[ja.l5](e,nE({openState:Au.y},t),n)},[ja.qG](e,t,n){const r=(0,Od.F_)(e,t.playerType),i=r.get("serverEntityID"),s=r.get("providerEntityID"),a=(0,Nu.SW)(e,{serverEntityID:i}),o=(0,Nu.js)(e,{providerEntityID:s});ja.gv[ja.qG](e,t,n),a&&o&&n(Zn.Z.actions.ended({source:(0,wp.Z)({serverIdentifier:a.get("machineIdentifier"),providerIdentifier:o.get("identifier")})}))}};var iE=n(39502),sE=n(58042),aE=n(73054),oE=n(34796),lE=n(52918);function cE(e){return e.get("ui").get("playlistPage")}const dE=(0,bP.Z)({[IP.KG](e,t){const n=cE(e),r=(0,$u.SW)(e,t),i=(0,Nu.js)(e,t),{serverEntityID:s,providerEntityID:a,metadataKey:o}=t;if(s===n.get("serverEntityID")&&a===n.get("providerEntityID")&&o===n.get("metadataKey"))return;const l=new gt.Z({key:o,type:Fe.PLAYLIST},{server:r,provider:i});n.restoreDefaults({serverEntityID:s,providerEntityID:a,metadataKey:o,playlist:l})},[IP.Yx](e,t){const n=cE(e),r=(0,$u.SW)(e,t),i=(0,Nu.js)(e,t),s=n.get("playlist"),{serverEntityID:a,metadataKey:o}=t;if(a===n.get("serverEntityID")&&o===n.get("metadataKey")&&n.get("playlistItemList"))return;const l=(0,Na.Z)(e,ka.Ao),c=s.get("childrenKey"),d=new yh.Z({containerKey:c},{server:r,provider:i,includeExternalMedia:l});n.set({playlistItemList:d})},[IP.zx](e,t){const n=cE(e),r=n.get("playlistItemList");r&&(r.restoreDefaults(),n.unset("playlistItemList"))},[IP.PL]:(0,qZ.Z)({key:"playlist",getModel:cE}),[IP.yc]:(0,sE.Z)({key:"playlistItemList",getModel:cE}),[IP.pQ]:(0,aE.Z)({key:"playlistItemList",getModel:cE}),[IP.N2](e,t,n){const{id:r,type:i,isRangeSelect:s=!1}=t,a=(0,$u.Tp)(e,{playlistItemEntityID:r}),o=cE(e).get("playlistItemList").getCollection();a&&n((0,kP.Gh)({type:i,model:a,collection:o,isRangeSelect:s}))},[IP.Dn](e,t,n){const r=(0,$u.Tp)(e,{playlistItemEntityID:t.id});r&&n((0,kP.Ib)([r.id]))},[IP.gS](e,t){const n=(0,$u.Tp)(e,t),r=cE(e).get("playlistItemList"),i=r.getCollection(),s=i.indexOf(n),o=t.moveIndex,l=o-1;if(s===o||s===l)return;const c=o>s?o-1:o,d=g.Z.join([r.get("containerKey"),n.get("playlistItemID"),"move"],l>=0?`after=${i.at(l).id}`:void 0),u=n.provider.getXHROptions(d,{type:"PUT"});(0,gs.c9)((()=>{i.remove(n),i.add(n,{at:c}),a().ajax(u).fail((()=>{i.indexOf(n)===c&&(i.remove(n),i.add(n,{at:s}))}))}))},[IP.fu](e,t,n){const r=(0,$u.Tp)(e,t),i=cE(e).get("playlistItemList"),s=g.Z.join([i.get("containerKey"),r.get("playlistItemID")]);r.destroy({url:s}).fail((()=>{n((0,Xe.wp)((0,Ne.Z)("There was an unexpected error removing this item.")))}))},[IP.GN](e,t,n){const r=cE(e).get("playlistItemList"),i=r.get("containerKey"),s=r.getCollection(),o=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("id");let l=a().Deferred().resolve().promise();o.forEach((e=>{const t=s.get(e),n=g.Z.join([i,e]);l=l.then((()=>t.destroy({url:n,wait:!0})))})),l.fail((()=>{n((0,Xe.wp)((0,Ne.Z)("There was an unexpected error removing an item.")))}))},[Wp.RATE_METADATA_ITEM](e,t,n){const{providerEntityID:r,rating:i}=t,s=cE(e),a=s.get("playlist");if(!a)return;const o=s.get("playlistItemList");"favorites"===a.get("specialPlaylistType")&&r===s.get("providerEntityID")&&(i!==oE.jt&&i!==oE.LX||n((0,lE.Bh)({count:o.get("currentPageSize")})))}});var uE=n(27940);const pE="ui/playlistsPage/initPlaylistPage",mE="ui/playlistsPage/fetchSorts",hE="ui/playlistsPage/populateSorts",gE="ui/playlistsPage/fetchLibraryDetails",yE="ui/playlistsPage/populateLibraryDetails",vE=((0,Gl.Z)(pE),(0,Gl.Z)(mE)),fE=((0,Gl.Z)(hE),(0,Gl.Z)(gE));function bE(e){return e.get("ui").get("playlistsPage")}(0,Gl.Z)(yE);const SE={[pE](e,t){const n=bE(e),r=(0,$u.SW)(e,t),i=(0,Nu.js)(e,t),{serverEntityID:s,libraryKey:a,containerKey:o}=t,l=s===n.get("serverEntityID"),c=a===n.get("libraryKey"),d=o===n.get("containerKey");if(l&&c&&d)return;const u=new ht.Z({containerKey:o},{server:r,provider:i});let p=n.get("libraryDetails"),m=n.get("sorts");l&&c||(p=a&&new fh.Z({key:a},{server:r,provider:i}),m=new bh.Z([],{url:"/playlists/sorts",server:r})),n.restoreDefaults({serverEntityID:s,libraryKey:a,containerKey:o,playlists:u,libraryDetails:p,sorts:m})},[gE]:(0,qZ.Z)({key:"libraryDetails",getModel:bE}),[yE]:(0,uE.Z)({key:"libraryDetails",fetchActionCreator:fE,getModel:bE}),[mE]:(0,qZ.Z)({key:"sorts",getModel:bE}),[hE]:(0,uE.Z)({key:"sorts",fetchActionCreator:vE,getModel:bE}),[Xe._z](e,t,n){const{metadataItemEntityID:r,containerKeyPattern:i}=t,s=(0,$u.SW)(e,t),a=bE(e).get("playlists");r||a&&a.server===s&&i&&a.get("containerKey").match(i)&&n((0,NP.u6)({metadataListEntityID:a.entityID()}))}};var IE=n(40875),ZE=n(20013),PE=n(35871),EE=n(89028);function ME(e){return e.get("ui").get("timelinePage")}function CE(e,t){const n=ME(e),r=(0,$u.SW)(e,t),i=(0,$u.js)(e,t),s=n.get("momentList");s.fetch().done((()=>{const e=s.get("key")||"empty",t=n.get("metadataList");let a;a=t&&t.server===r&&t.get("containerKey")===e?t:new ht.Z({containerKey:e},{server:r,provider:i}),n.set({isMomentListPending:!1,isMomentListPopulated:!0,momentListError:null,metadataList:a})})).fail(((e,t)=>{n.set({isMomentListPending:!1,momentListError:t})}))}const wE=(0,bP.Z)({[IP.Mv](e,t){const n=ME(e),r=(0,$u.SW)(e,t),i=(0,$u.js)(e,t),{serverEntityID:s,providerEntityID:a,libraryKey:o,momentKey:l}=t;if(s===n.get("serverEntityID")&&a===n.get("providerEntityID")&&l===n.get("momentKey"))return;const c=new fh.Z({key:o},{server:r,provider:i}),d=new Ch({momentKey:l},{server:r,provider:i});n.restoreDefaults({serverEntityID:s,providerEntityID:a,details:c,momentKey:l,momentList:d}),CE(e,t)},[IP.TA](e){ME(e).set({momentKey:""})},[IP.cW]:(0,qZ.Z)({key:"details",getModel:ME}),[IP.PG]:(0,uE.Z)({key:"details",fetchActionCreator:EE.de,getModel:ME}),[Xe._z](e,t){const{metadataItemEntityID:n,containerKeyPattern:r}=t,i=(0,$u.$w)(e,t),s=(0,$u.lp)(e,t),a=ME(e),o=a.get("metadataList"),l=a.get("momentKey");if(n)return;if(!l||!o||o.server!==i||o.provider!==s)return;const c=o.get("containerKey");c&&(r&&!c.match(r)||CE(e,t))}});var DE=Object.defineProperty,TE=Object.prototype.hasOwnProperty,OE=Object.getOwnPropertySymbols,xE=Object.prototype.propertyIsEnumerable,AE=(e,t,n)=>t in e?DE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NE=(e,t)=>{for(var n in t||(t={}))TE.call(t,n)&&AE(e,n,t[n]);if(OE)for(var n of OE(t))xE.call(t,n)&&AE(e,n,t[n]);return e};const kE=NE(NE({},Xe.J0),{[Xe.Rw](e,t){ee.Z.trigger("show:alert",t)}});var LE=n(48051),jE=n(26239);const RE=[n(61941).vG,RP.r8,jE.gK,bs.CC,$s.Kq,ld.Iy,fd.KH,Wp.metadataActionHandlers,NP.q9,kP.tv,LP.GK,jP.wQ,iP,sP.ff,yP.FY,cu.VV,Td.fv,kE,UP.r4,Qp.GJ,wE,SE,VP.zJ,dE,lP.TE,vP.ZP,gP.N3,aP.b4,cP.zr,fP.lW,PE.lo,LE.Ye,BP.W7,IE.quickSearchActionHandlers,ZE.zr,Sf.N$,zP.on,AP,hP.recordingSchedulePageActionHandlers,dP.yd,pP.Rp,mP.wy,Ra.ek,Zp.Wm,rE,HP.Yb,uP.BG,Lu.u7,iE.HO,FP,oP.A_];n(75580);const VE="vote/leader";function UE(e){try{return window.localStorage.getItem(e)}catch(t){h.Z.debug(`[Vote] Unable to get ${e} from storage due to error:`,t.message)}}function zE(e,t){try{return window.localStorage.setItem(e,t)}catch(n){h.Z.debug(`[Vote] Unable to set ${e}: ${t} in storage due to error:`,n.message)}}function BE(e){try{return window.localStorage.removeItem(e)}catch(t){h.Z.debug(`[Vote] Unable to remove ${e} from storage due to error:`,t.message)}}const _E={id:null,time:null},FE=function(){const e=function({id:e=(0,ve.Z)(),getItem:t=UE,setItem:n=zE,remove:r=BE,electionDuration:i=500,maxLeaderAge:s=9e4,minLeaderRefreshDuration:a=1e4}){function o(t=Date.now()){return l(t).id===e}function l(e){try{const{id:n,time:r}=JSON.parse(t(VE));return e-r<s?{id:n,time:r}:_E}catch(e){return _E}}let c,d=!1;function u(){window.clearTimeout(c),c=window.setTimeout((()=>{const t=Date.now(),{id:n}=l(t);if(n){const t=n===e;t!==d&&(h.Z.debug(t?`[Vote:${e}] Elected`:`[Vote:${e}] Unelected`),m.leaderStatusChanged.forEach((e=>e(t)))),d=t}else h.Z.debug(`[Vote:${e}] Election ended with no leader found`),p(t)}),i)}function p(t=Date.now()){const{id:r,time:i}=l(t);r===e&&t-i>a?(h.Z.debug(`[Vote:${e}] Upvote, refreshing my leader time`),n(VE,JSON.stringify({time:t,id:e}))):r===e?h.Z.debug(`[Vote:${e}] Upvote, chilling since leader time is fresh`):r?h.Z.debug(`[Vote:${e}] Upvote, someone else is leader`):(h.Z.debug(`[Vote:${e}] Upvote, becoming leader`),n(VE,JSON.stringify({time:t,id:e}))),u()}const m={[dr]:[]};return{on:function(e,t){m[e].push(t)},off:function(e,t){m[e]=m[e].filter((e=>e!==t))},isLeader:o,up:p,down:function(t=Date.now()){o(t)?(h.Z.debug(`[Vote:${e}] Downvote, stepping down as leader`),r(VE)):h.Z.debug(`[Vote:${e}] Downvote, chilling since someone else is leader`),u()}}}({maxLeaderAge:9e4});return X.Z.hasLocalStorage&&(window.addEventListener("storage",(t=>{t.key===VE&&e.up()})),window.addEventListener("beforeunload",(()=>{e.down()})),e.up(),window.setInterval(e.up,6e4)),e},HE=Sr.extend({name:"PersistentWebStorage",getStorage:()=>window.localStorage}),WE=Sr.extend({name:"VolatileWebStorage",getStorage:()=>window.sessionStorage});var QE=n(16475);const GE={};function YE(e){return null==e?"":e}function qE(e,...t){let n,r=1;const i=t.length;for(;r<=i;)n=GE[r],n||(n=new RegExp((0,D.Z)(`{${r}}`),"g"),GE[r]=n),e=e.replace(n,YE(t[r-1])),r++;return e}const KE={languages:{en:"en.json","en-GB":"en-GB.json",af:"af.json",my:"my.json",ca:"ca.json",cs:"cs.json",sr:"sr.json",da:"da.json",de:"de.json",et:"et.json",es:"es.json","es-419":"es-419.json",el:"el.json",fr:"fr.json","fr-CA":"fr-CA.json",hr:"hr.json",is:"is.json",it:"it.json",lt:"lt.json",hu:"hu.json",nl:"nl.json",no:"no.json",pl:"pl.json",pt:"pt.json","pt-BR":"pt-BR.json",ru:"ru.json",ro:"ro.json",sk:"sk.json",sl:"sl.json",fi:"fi.json",sv:"sv.json",vi:"vi.json",tr:"tr.json",uk:"uk.json",bg:"bg.json",zh:"zh.json","zh-TW":"zh-TW.json",ja:"ja.json",ko:"ko.json",th:"th.json",fa:"fa.json",ar:"ar.json",he:"he.json"},loadingPromise:null,loadingLanguage:null,getLanguages:function(){return this.languages},getTranslation:function(e){if(this.translations[this.language])return this.translations[this.language][e]},t:($E=function(e,...t){return this.getTranslation(e,...t)},function(e,...t){return function(e,...t){return m().isObject(t[0])?function(e,t){return e.replace(/\{([a-z0-9]+?)\}/gi,((e,n)=>t.hasOwnProperty(n)?YE(t[n]):e))}(e,t[0]):m().isObject(t[t.length-1])?(t.pop(),qE(e,...t)):qE(e,...t)}(function(e,...t){if(!e)return"";const n=t[t.length-1];return m().isObject(n)&&n&&n.escape?m().escape(e):e}($E.call(this,e)||e,e,...t),...t)}),load:function(e){if(this.loadingLanguage&&this.loadingLanguage===e)return this.loadingPromise;const t=this.getLanguages();let n;return n=m().has(t,e)?m().has(this.translations,e)?a().Deferred().resolve().promise():a().ajax({dataType:"json",url:g.Z.join([this.basePath,t[e]])}):a().Deferred().reject().promise(),this.loadingLanguage=e,this.loadingPromise=n,n.done(m().bind(this.onLoadSuccess,this,n)),n.fail(m().bind(this.onLoadError,this,n)),n},onLoadSuccess:function(e,t){const n=this.loadingLanguage;e===this.loadingPromise&&(this.loadingPromise=null,this.loadingLanguage=null,this.language=n,t&&(this.translations[n]=t,ee.Z.trigger("languageLoaded",n)))},onLoadError:function(e){e===this.loadingPromise&&(this.loadingPromise=null,this.loadingLanguage=null)}};var $E,XE=n(16487);const JE=J.Z.extend({mixins:KE,constructor:function(){this.basePath=g.Z.join(["/web/","translations"]),this.translations={},(0,u.X_)("appModel").done(this.onAppModelRegistered.bind(this))},_repopulateProviders(){const e=(0,u.DB)("appModel"),t=e.get("servers").map((t=>{if(t.get("isCloud")){const t=e.get("user").get("providers");return(0,ye.Z)(t.map((e=>((0,u.DB)("appStore").dispatch((0,Ys.dB)({providerEntityID:e.entityID(),options:{merge:!0}})),(0,XE.Z)(e)))))}if(t.get("isConnected"))return(0,u.DB)("appStore").dispatch((0,Jc.lm)({serverEntityID:t.entityID(),options:{merge:!0}})),(0,XE.Z)(t)}));return(0,ye.Z)(t)},onAppModelRegistered(){}}).extend({onAppModelRegistered(e){e.on("change:user.change:experienceSettings.change:language",((e,t)=>{this.load(t).done((()=>{us.Z.setOption("language",t),this._repopulateProviders()}))}))}}),eM=function(){Es.Z.register(new JE)},tM={init(){const e=(0,u.DB)("appModel"),t=`${window.innerWidth}x${window.innerHeight}`,n=`${window.screen.width}x${window.screen.height}`,r={"X-Plex-Product":"Plex Web","X-Plex-Version":"4.59.2","X-Plex-Client-Identifier":e.get("clientID"),"X-Plex-Platform":lp.Z.name,"X-Plex-Platform-Version":lp.Z.version,"X-Plex-Sync-Version":2,"X-Plex-Features":"external-media,indirect-media","X-Plex-Model":"bundled","X-Plex-Device":lp.Z.platform,"X-Plex-Device-Name":lp.Z.name,"X-Plex-Device-Screen-Resolution":`${t},${n}`};return e.on("change:clientID",((e,t)=>{r["X-Plex-Client-Identifier"]=t})),a().Deferred().resolve(r).promise()}};var nM=n(30236),rM=n.n(nM),iM=n(60495),sM=Object.defineProperty,aM=Object.prototype.hasOwnProperty,oM=Object.getOwnPropertySymbols,lM=Object.prototype.propertyIsEnumerable,cM=(e,t,n)=>t in e?sM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dM=(e,t)=>{for(var n in t||(t={}))aM.call(t,n)&&cM(e,n,t[n]);if(oM)for(var n of oM(t))lM.call(t,n)&&cM(e,n,t[n]);return e};const uM={maxWidth:1920,maxHeight:1080,maxBitDepth:10},pM={maxWidth:4096,maxHeight:2160,maxBitDepth:10},mM=`width="${uM.maxWidth}"; height="${uM.maxHeight}"`,hM=`width="${pM.maxWidth}"; height="${pM.maxHeight}"`;function gM(e){if(!iM.Z)return!1;const t=(0,Cs.Vq)("video",!0),n=t.canPlayType(e);return(0,Cs.u$)(t),"probably"===n}function yM(e){var t,n,r;return!!iM.Z&&null!=(r=null==(n=null==(t=window.MediaSource)?void 0:t.isTypeSupported)?void 0:n.call(t,e))&&r}function vM(e,t){if(Array.isArray(e))return Array.from(new Set(e.concat(t)))}function fM(e,t){return(n,r)=>{e(n)&&rM()(t,r,vM)}}function bM({canDirectPlay:e,canDirectStream:t}={canDirectPlay:gM,canDirectStream:yM}){const n={video:{directPlay:{},directStream:{}}},r=fM(e,n),i=fM(t,n);return r(`video/mp4; codecs="hvc1"; ${mM}`,{video:{directPlay:{mp4:{video:{codecs:{hevc:dM(dM({},uM),{codecID:["hvc1"]})}}}}}}),r(`video/mp4; codecs="hev1"; ${mM}`,{video:{directPlay:{mp4:{video:{codecs:{hevc:dM(dM({},uM),{codecID:["hev1"]})}}}}}}),r(`video/mp4; codecs="hvc1"; ${hM}`,{video:{directPlay:{mp4:{video:{codecs:{hevc:dM(dM({},pM),{codecID:["hvc1"]})}}}}}}),r(`video/mp4; codecs="hev1"; ${hM}`,{video:{directPlay:{mp4:{video:{codecs:{hevc:dM(dM({},pM),{codecID:["hev1"]})}}}}}}),i(`video/mp4; codecs="hvc1"; ${mM}`,{video:{directStream:{video:{codecs:{hevc:uM}}}}}),i(`video/mp4; codecs="hev1"; ${mM}`,{video:{directStream:{video:{codecs:{hevc:uM}}}}}),i(`video/mp4; codecs="dvhe"; ${mM}`,{video:{directStream:{video:{codecs:{hevc:uM}}}}}),i(`video/mp4; codecs="hvc1"; ${hM}`,{video:{directStream:{video:{codecs:{hevc:pM}}}}}),i(`video/mp4; codecs="hev1"; ${hM}`,{video:{directStream:{video:{codecs:{hevc:pM}}}}}),i(`video/mp4; codecs="dvhe"; ${hM}`,{video:{directStream:{video:{codecs:{hevc:pM}}}}}),n}var SM=Object.defineProperty,IM=Object.prototype.hasOwnProperty,ZM=Object.getOwnPropertySymbols,PM=Object.prototype.propertyIsEnumerable,EM=(e,t,n)=>t in e?SM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MM=(e,t)=>{for(var n in t||(t={}))IM.call(t,n)&&EM(e,n,t[n]);if(ZM)for(var n of ZM(t))PM.call(t,n)&&EM(e,n,t[n]);return e};const CM={registerAll(){const e=tM.init();e.done((e=>w.Z.register(e)));const t=new HE;ge.Z.register(t),Zr.register(new WE),eM();const n=function(){const e={maxWidth:1920,maxHeight:1280},t={maxWidth:4096,maxHeight:2160},n=`width="${e.maxWidth}"; height="${e.maxHeight}"`,r=`width="${t.maxWidth}"; height="${t.maxHeight}"`,i=MM(MM({},e),{maxFrameRate:60}),s={capabilities:{embed:!0,redirect:!0},video:{lowestQualityIndex:2,protocols:{hls:{mimeType:"application/x-mpegURL"}},directPlay:{generic:{video:MM({},i)},mp4:{mimeType:'video/mp4; codecs="avc1.42E01E"',video:{codecs:{h264:{}}},audio:{codecs:{aac:{}}}},ogg:{mimeType:"video/ogg"},mpegts:{protocol:"hls"},flv:{}},directStream:{video:MM(MM({},i),{maxBitDepth:8,codecs:{h264:{}}}),audio:{codecs:{aac:{}},maxBitrate:192,maxChannels:2}}},music:{directPlay:{mp4:{mimeType:'audio/mp4; codecs="mp4a.40.5"',audio:{codecs:{aac:{}}}},mp3:{audio:{codecs:{mp3:{}}}},ogg:{mimeType:'audio/ogg; codecs="vorbis"',audio:{codecs:{vorbis:{}}}},wav:{mimeType:"audio/wav",audio:{codecs:{pcm:{}}}},flac:{mimeType:"audio/flac",audio:{codecs:{flac:{}}}}},directStream:{audio:{codecs:{aac:{}},maxBitrate:320,maxChannels:2}}}},o=[{types:[`video/mp4; codecs="avc1.42E01E"; ${r}`],fragment:{video:{directPlay:{mp4:{video:{codecs:{h264:t}}}},directStream:{video:{codecs:{h264:t}}}}}},{types:[`video/webm; codecs="vp8, opus"; ${n}`],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:e}},audio:{codecs:{opus:{}}}}}}}},{types:[`video/webm; codecs="vp8, vorbis"; ${n}`],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:e}},audio:{codecs:{vorbis:{}}}}}}}},{types:[`video/webm; codecs="vp9, opus"; ${n}`],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:e}},audio:{codecs:{opus:{}}}}}}}},{types:[`video/webm; codecs="vp9, vorbis"; ${n}`],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:e}},audio:{codecs:{vorbis:{}}}}}}}},{types:[`video/webm; codecs="vp8, opus"; ${r}`],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:t}},audio:{codecs:{opus:{}}}}}}}},{types:[`video/webm; codecs="vp8, vorbis"; ${r}`],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:t}},audio:{codecs:{vorbis:{}}}}}}}},{types:[`video/webm; codecs="vp9, opus"; ${r}`],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:t}},audio:{codecs:{opus:{}}}}}}}},{types:[`video/webm; codecs="vp9, vorbis"; ${r}`],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:t}},audio:{codecs:{vorbis:{}}}}}}}},{types:['audio/mp4; codecs="alac"'],predicate:l,fragment:{music:{directPlay:{mp4:{audio:{codecs:{alac:{}}}}}}}}];function l(e){const t=(0,Cs.Vq)("video",!0),n=t.canPlayType(e);return(0,Cs.u$)(t),"probably"===n}const c=window.MediaSource&&window.MediaSource.isTypeSupported?window.MediaSource.isTypeSupported:l;if(o.forEach((e=>{const t=e.predicate||c;e.types.some(t)?(h.Z.debug("[Player] Types %o provided %o",e.types,e.fragment),a().extend(!0,s,e.fragment)):h.Z.debug("[Player] Types %o are unsupported",e.types)})),"safari"===lp.Z.id&&(0,sI.Z)(lp.Z.platformVersion,"10.11")){const e={codecs:{ac3:{},eac3:{}}};a().extend(!0,s.video,{directPlay:{mp4:{audio:e}},directStream:{audio:e}})}return a().extend(!0,s,bM()),h.Z.debug("[Player] Final player profile %o",s),s}(),r={audioCapabilities:[{contentType:'audio/mp4; codecs="flac"'}]},i=ds().then((e=>{const t=QE.Z[e];return cs(r,[t])})).then((()=>{xo.Z.register(a().extend(!0,{},n,{music:{directPlay:{mp4:{audio:{codecs:{flac:{}}}}}}}))}),(()=>{xo.Z.register(n)}));return(0,ye.Z)([e,i])}};function wM(){const e=document.documentElement,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen,n=document.cancelFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen,r=!(!t||!n);return{hasFullscreen:r,shouldExitOnPlayerClose:!0,initialize(e){const{dispatchEnterFullscreen:t,dispatchExitFullscreen:n}=e;function r(){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?t():n()}return r(),document.addEventListener("fullscreenchange",r),document.addEventListener("webkitfullscreenchange",r),document.addEventListener("mozfullscreenchange",r),document.addEventListener("MSFullscreenChange",r),a().Deferred().resolve().promise()},enter(){r&&t.call(e)},exit(){r&&n.call(document)}}}var DM=n(66747),TM=n(18547),OM=n(67470),xM=n(66822),AM=Object.defineProperty,NM=Object.prototype.hasOwnProperty,kM=Object.getOwnPropertySymbols,LM=Object.prototype.propertyIsEnumerable,jM=(e,t,n)=>t in e?AM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RM=(e,t)=>{for(var n in t||(t={}))NM.call(t,n)&&jM(e,n,t[n]);if(kM)for(var n of kM(t))LM.call(t,n)&&jM(e,n,t[n]);return e};const VM={volume:!0,shuffle:!0,quality:!0,audioStream:!0,videoStream:!0,subtitleStream:!0,subtitleColor:!0,subtitlePosition:!0,subtitleSize:!0,subtitleOffset:!0,skipPrevious:!0,skipNext:!0,autoPlay:!0,seekTo:!0,stepBack:!0,stepForward:!0,stop:!0,playPause:!0,repeat:!0},UM=RM(RM({},VM),{seekTo:!1});function zM(e,t){const n=t.dispatch;let r,i,s,a=!1,o=0,l=0,c=null,d={},u={};window.__onGCastApiAvailable=function(e){const t=!!(e&&window.cast&&window.chrome&&window.chrome.cast);if(n(iE.Vu(t&&dm.Rl||(0,xM.Z)()&&dm.Ke||dm.lz)),!t)return void h.Z.warn("[Cast] API is not available");const r=window.cast.framework,i=v();i.setOptions({receiverApplicationId:y(),autoJoinPolicy:window.chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),i.addEventListener(r.CastContextEventType.SESSION_STATE_CHANGED,M)},(0,xM.Z)()&&n(iE.Vu(dm.Ke));const p=document.createElement("script");function y(){const t=e.get("deviceSettings"),n=t.get("chromecastAppID"),r=t.get("chromecastCustomAppID");return n===Wr.Z.CUSTOM&&r?r:n||Wr.Z.PRODUCTION}function v(){if(e.get("castApiAvailability")===dm.Rl)return window.cast.framework.CastContext.getInstance()}function f(){if(i)return i.customData}function b(e){return e.isMute()?0:Math.round(100*e.getVolume())}function S(e){if(!e)return;const{customData:t,media:n}=e;if(t&&t.playQueueType)return t.playQueueType;if(n&&n.metadata&&n.metadata.metadataType){const e=window.chrome.cast.media.MetadataType;switch(n.metadata.metadataType){case e.MOVIE:case e.TV_SHOW:return Qu.pX;case e.MUSIC_TRACK:return Qu.j0;case e.PHOTO:return Qu.pV}}}function I(e){if(!e)return;const{customData:t}=e;return t.playbackSessionID}function Z(e){const t=f();if(t){const{mediaIndex:r,partIndex:s,adState:a,adTime:o,adDuration:l,liveTVSessionSubscriptionKey:c,liveTVSessionStartedAt:d,liveTVSessionSeekRangeStartedAt:u,liveTVSessionSeekStartSeconds:p,liveTVSessionSeekEndSeconds:m,liveTVSessionCurrentPosition:h,liveTVSessionChannelIdentifier:g,server:y,providerIdentifier:v,isPostPlay:f}=t,b=RM({},f?UM:VM);y.machineIdentifier===Ll.X&&delete b.quality,v&&ri.wB(v,[ri.Ll,ri.vP])&&(delete b.autoPlay,delete b.subtitleColor,delete b.subtitlePosition,delete b.subtitleSize,delete b.subtitleOffset),n(Lu.dS({playQueueType:S(i),playerState:RM(RM({},e),{mediaIndex:r,partIndex:s,adState:a,adPositionSeconds:Math.round(o/1e3||0),adDurationSeconds:Math.round(l/1e3||0),controllable:b}),liveTVSessionSubscriptionKey:c,liveTVSessionStartedAt:d,liveTVSessionSeekRangeStartedAt:u,liveTVSessionSeekStartSeconds:p,liveTVSessionSeekEndSeconds:m,liveTVSessionCurrentPosition:h,liveTVSessionChannelIdentifier:g,providerIdentifier:v,machineIdentifier:y.machineIdentifier}))}}function P(){l&&l--}function E(){o&&o--}function M(e){const t=window.cast.framework,{session:i,sessionState:s,errorCode:a}=e;switch(s){case t.SessionState.NO_SESSION:(0,h.Z)("[Cast] Session is not established");break;case t.SessionState.SESSION_STARTED:(0,h.Z)("[Cast] Session is established");break;case t.SessionState.SESSION_START_FAILED:(0,h.Z)(`[Cast] Session failed to start with code "${a}"`);break;case t.SessionState.SESSION_RESUMED:(0,h.Z)("[Cast] Connection to an already existing session is established");break;case t.SessionState.SESSION_ENDED:h.Z.warn("[Cast] Session has disconnected")}switch(r&&(r.removeEventListener(t.SessionEventType.MEDIA_SESSION,C),i.removeEventListener(t.SessionEventType.VOLUME_CHANGED,T)),d={},u={},s){case t.SessionState.NO_SESSION:case t.SessionState.SESSION_START_FAILED:case t.SessionState.SESSION_ENDED:w(!1),r=null,n(Lu.Qt());break;case t.SessionState.SESSION_STARTED:case t.SessionState.SESSION_RESUMED:{r=i,i.addEventListener(t.SessionEventType.MEDIA_SESSION,C),i.addEventListener(t.SessionEventType.VOLUME_CHANGED,T),n(iE.vi(RM(RM({},i.getCastDevice()),{volume:b(i)})));const e=i.getMediaSession();e&&C({mediaSession:e});break}}}function C({mediaSession:e}){i&&i.removeUpdateListener(w),i=e,e.addUpdateListener(w),d={},u={}}function w(e){const t=window.chrome.cast.media.PlayerState,r=S(i);if(r!==c&&c&&((0,h.Z)("[Cast] play queue type changed from %o to %o, idling old player",c,r),d[c]=null,u[c]=null,n(Lu.L0({playQueueType:c}))),c=r,i&&e&&!a){const{playerState:e,currentTime:r,media:a}=i;Z({isPaused:e===t.PAUSED,isBuffering:e===t.BUFFERING,positionSeconds:Math.round(r||0),durationSeconds:Math.round(a.duration||0),playbackSessionID:I(i)}),function(){const e=window.chrome.cast.media.PlayerState,t=f();if(!t)return;const{containerKey:r,key:s,playQueueItemID:a,playQueueVersion:o,mediaIndex:l,partIndex:c,bitrate:p,server:m,providerIdentifier:h}=t,g=S(i),y=d[g],v=u[g],b=a!==y||o!==v;d[g]=a,u[g]=o,n(Lu.RN({playQueueType:S(i),options:{machineIdentifier:m.machineIdentifier,providerIdentifier:h,containerKey:r,key:s,mediaIndex:l,shouldRefreshPlayQueue:b,playQueueItemID:a,bitrate:p,initialState:{isPaused:i.playerState===e.PAUSED,isBuffering:i.playerState===e.BUFFERING,positionSeconds:Math.round(i.currentTime||0),durationSeconds:Math.round(i.media.duration||0),mediaIndex:l,partIndex:c}}}))}(),function(){const e=f();if(!e)return;const{mediaIndex:t,bitrate:r}=e;n(Lu.IY({playQueueType:S(i),mediaIndex:t,bitrate:r}))}(),function(){const e=f();if(!e)return;const{playQueueType:t,playQueueVersion:r,repeat:i}=e;n(Lu.I3({playQueueType:t,playQueueVersion:r,repeatAll:i===uc.QN||i===uc.ry,repeatOne:i===uc.ry}))}(),function(){const e=f();if(!e)return;const{key:t,mediaIndex:r,partIndex:s,audioStreamID:a,subtitleStreamID:o}=e;null==a&&null==o||n(Lu.Ep({playQueueType:S(i),key:t,mediaIndex:r,partIndex:s,audioStreamID:a,subtitleStreamID:o}))}(),e===t.PLAYING?s||(s=window.setTimeout(D,1e3)):s&&(window.clearTimeout(s),s=null)}else h.Z.warn("[Cast] Update ignored; no alive media session"),s&&(window.clearTimeout(s),s=null),i&&r&&i.playerState===t.IDLE&&(d[r]=null,u[r]=null,n(Lu.L0({playQueueType:r})))}function D(){if(i){const e=Math.round(i.getEstimatedTime()||0);e&&Z({positionSeconds:e}),s=window.setTimeout(D,1e3)}else h.Z.warn("[Cast] Position update ignored; no media session")}function T(){l||o||r&&n(Lu.Vu(b(r)))}function O(e){r?((0,h.Z)(`[Cast] Sending custom message with type "${e.type}"`),r.sendMessage("urn:x-cast:plex",e,null,(e=>{h.Z.warn(`[Cast] Failed to send custom message with error "${e}"`)}))):h.Z.warn(`[Cast] Custom message "${e.type}" ignored; no cast session`)}return p.src="//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",document.head.appendChild(p),{requestSession:function(){const e=v();e?((0,h.Z)("[Cast] Requesting session"),e.requestSession()):h.Z.warn("[Cast] Request session ignored; no cast context")},endSession:function(){const e=v();e?((0,h.Z)("[Cast] Ending session"),e.endCurrentSession()):h.Z.warn("[Cast] End session ignored; no cast context"),d={},u={}},startPlayback:function(t){if(!r)return void h.Z.warn("[Cast] Start playback ignored; no cast session");const i=e.get("user"),s=e.get("deviceSettings"),o=i.get("experienceSettings"),l=t.get("playQueue"),c=l.get("type"),d=l.get("playQueueItems").get(l.get("playQueueSelectedItemID")),u=d.get("metadataItem"),p=t.get("startMediaIndex"),y=l.server,v=t.get("providerEntityID"),f=(0,$u.js)(e,{providerEntityID:v}),b=(0,Fe.getMetadataType)(d.get("type"));let S;if((b&&b.mediaType===Ga.j0?Ga.j0:Ga.pX)===Ga.pX){const e=function(e,t,n){const r=t.get("qualityIndex");if(null!=r)return r;const i=e.server.get("isPrivateConnection");if(i&&n.get("useHomeStreamingRecommendedSettings"))return n.defaults().localQuality;const s=(0,Ko.Z)(e,i);return n.get(s)}(u,t,o),n=$o.Z.getQualityByIndex(e);S=n.bitrate}a=!0,Ku(y).done((e=>{const d=t.get("liveTVSession"),y=d?(0,DM.$h)(d):Math.floor((0,Wu.Z)(t,u)/1e3),v={playQueueType:c,providerIdentifier:f.get("identifier"),containerKey:g.Z.join([m().result(l,"url")],{own:1}),offset:y,directPlay:s.get("directPlay"),directStream:s.get("directStream"),mediaIndex:p,bitrate:S,playbackSessionID:t.get("playbackSessionID"),audioBoost:o.get("audioBoost"),subtitleColor:o.get("subtitleColor"),subtitlePosition:o.get("subtitlePosition"),subtitleSize:o.get("subtitleSize"),autoPlay:o.get("autoPlay"),repeat:(0,OM.Z)({repeatOne:t.get("repeatOne"),repeatAll:t.get("repeatAll")}),audioForceMultiChannel:o.get("audioForceMultiChannel"),server:e,user:{username:i.get("username")},liveTVSessionSubscriptionKey:d?d.get("key"):null,liveTVSessionChannelIdentifier:d?d.get("channelIdentifier"):null,debugAdKind:s.get("debugAdKind")||Fr.Z.NONE},b=window.chrome.cast.media,I=new b.MediaInfo(u.get("key"));I.customData=v;const P=new b.LoadRequest(I);P.currentTime=y,P.autoplay=!0,(0,h.Z)("[Cast] Sending load media request"),r.loadMedia(P).then((()=>{(0,h.Z)("[Cast] Load media success"),a=!1,Z({isMediaLoading:!1})}),(e=>{h.Z.warn(`[Cast] Failed to load media with error "${e}"`),a=!1,n(Lu.XI({playQueueType:c}))}))})).fail((()=>{a=!1,n(Lu.XI({playQueueType:c,errorMessage:(0,Ne.Z)('The server "{serverName}" does not have a valid connection for casting. Check that the server is claimed in server settings.',{serverName:y.get("friendlyName")})}))}))},mirrorDetails:function(t){if(!r)return void h.Z.warn("[Cast] Mirror details ignored; no cast session");const n=e.get("user"),i=t.server,s=t.provider;Ku(i).done((e=>{const r={server:e,providerIdentifier:s.get("identifier"),user:{username:n.get("username")}},i=new window.chrome.cast.media.MediaInfo(t.get("key"));i.customData=r,O({type:TM.HE,media:i})}))},sendMessage:O,setVolume:function(e){r?((0,h.Z)(`[Cast] Setting volume to "${e}"`),n(Lu.Vu(e)),e?(r.isMute()&&(o++,r.setMute(!1).then(E,E)),l++,r.setVolume(e/100).then(P,P)):(o++,r.setMute(!0).then(E,E))):h.Z.warn("[Cast] Set volume ignored; no cast session")}}}function BM(){(0,u.Cq)({CloudServerFlexModel:GI,ServerFlexModel:mZ,UserFlexModel:YZ}),(0,u.Cq)({UserExperienceSettingsModel:Ti,StoredUserExperienceSettingsModel:SZ});const e=new FI,t=function(e){return function(e,t){let n,r=[],i=r;function s(){i===r&&(i=r.slice())}function a(e){n=function(e){const t={};for(let n=0,r=e.length;n<r;n++){const r=e[n];for(const e in r){const n=t[e],i=r[e];n?Array.isArray(n)?n.push(i):t[e]=[n,i]:t[e]=i}}return t}(e)}return a(e),t.on("statechange",(function(){const e=r=i;for(let t=0,n=e.length;t<n;t++)e[t]()})),{dispatch:function e(r){const{payload:i,type:s}=r,a=s&&n[s];if(Array.isArray(a))for(let n=0,r=a.length;n<r;n++)a[n](t,i,e);else a?a(t,i,e):t.dispatch(r);return r},subscribe:function(e){let t=!0;return s(),i.push(e),function(){if(!t)return;t=!1,s();const n=i.indexOf(e);i.splice(n,1)}},getState:function(){return t.getState()},replaceActionHandlers:a}}(RE,e)}(e);return(0,u.Cq)({appModel:e,appStore:t}),(0,u.Cq)({adPlayerComponent:co,companionPlayerProfile:Eo,companionProxy:new xa,companionVote:FE(),fullscreenManager:wM(),remoteCastPlayerManager:zM(e,t),getDecisionOptions:ul,mediaComponent:Oo,serviceWorker:(X.Z.hasServiceWorker&&X.Z.hasLocalStorage,{register:()=>(X.Z.hasServiceWorker&&X.Z.hasLocalStorage&&window.navigator.serviceWorker.getRegistrations().then((e=>{e.forEach((e=>{e.unregister()}))})),(0,h.Z)("[Workers] Registered mock service worker"),Promise.resolve()),checkUpdate(){(0,h.Z)("[Workers] Mock worker checking for updates")},skipWaiting(){(0,h.Z)("[Workers] Mock worker installing")},sendMessage:e=>(h.Z.debug("[Workers] Mock worker sending message %o",e),Promise.resolve())}),sessionStats:new Aa}),function(){const e=(0,u.DB)("appModel"),t=(0,u.DB)("appStore");return(0,u.Cq)({settingFinder:Ac(e),selectRemoteQuality:fp,selectRestorePlayQueue:bp,selectSubtitleSettings:Sp,selectLocalVolume:Nl}),(0,u.Cq)({metricsReporter:[ml(),gl],logs:new yp([],{parent:e}),testServerConnection:Dl}),(0,u.Cq)({companionServerManager:new Lc({appModel:e}),keyboardShortcuts:{shortcuts:[{keys:["?"],fn:"help",group:"navigation",label:()=>(0,Ne.Z)("Open Keyboard Shortcuts")},{keys:["esc"],fn:"escape",group:"navigation",label:()=>(0,Ne.Z)("Close Modal or Menu")},{keys:["g h"],fn:"home",group:"navigation",label:()=>(0,Ne.Z)("Navigate to Home")},{keys:["g s"],fn:"settings",group:"navigation",label:()=>(0,Ne.Z)("Navigate to Settings")},{keys:["g d"],fn:"activity",group:"navigation",label:()=>(0,Ne.Z)("Navigate to Dashboard")},{keys:["g u"],fn:"usersSharing",group:"navigation",label:()=>(0,Ne.Z)("Navigate to Users & Sharing")},{keys:["/"],fn:"search",group:"actions",label:()=>(0,Ne.Z)("Focus Search")},{keys:["p"],fn:"playSelected",group:"actions",label:()=>(0,Ne.Z)("Open Player")},{keys:["w"],fn:"togglePlayed",group:"actions",label:()=>(0,Ne.Z)("Toggle as Played/Unplayed")},{keys:["e"],fn:"edit",group:"actions",label:()=>(0,Ne.Z)("Edit Metadata")},{keys:["i"],fn:"info",group:"actions",label:()=>(0,Ne.Z)("Get Info")},{keys:["shift+s"],fn:"save",group:"actions",label:()=>(0,Ne.Z)("Save Changes")},{keys:["space"],fn:"playPause",group:"player",label:()=>(0,Ne.Z)("Play or Pause")},{keys:["play"],fn:"play",group:"player",label:()=>(0,Ne.Z)("Play")},{keys:["pause"],fn:"pause",group:"player",label:()=>(0,Ne.Z)("Pause")},{keys:["\\"],fn:"toggleFullScreen",group:"player",label:()=>(0,Ne.Z)("Toggle FullScreen")},{keys:["down"],fn:"decreaseVolume",group:"player",label:()=>(0,Ne.Z)("Decrease Volume")},{keys:["up"],fn:"increaseVolume",group:"player",label:()=>(0,Ne.Z)("Increase Volume")},{keys:[",","left"],fn:"seekBackward",group:"player",label:()=>(0,Ne.Z)("Seek Backward (10 seconds)")},{keys:[".","right"],fn:"seekForward",group:"player",label:()=>(0,Ne.Z)("Seek Forward (30 seconds)")},{keys:["[","alt+left"],fn:"stepBackward",group:"player",label:()=>(0,Ne.Z)("Step Backward (10 minutes)")},{keys:["]","alt+right"],fn:"stepForward",group:"player",label:()=>(0,Ne.Z)("Step Forward (10 minutes)")},{keys:["shift+left"],fn:"skipPrevious",group:"player",label:()=>(0,Ne.Z)("Skip to Previous Item")},{keys:["shift+right"],fn:"skipNext",group:"player",label:()=>(0,Ne.Z)("Skip to Next Item")},{keys:["x"],fn:"stop",group:"player",label:()=>(0,Ne.Z)("Close Player")}],triggerShortcut(e){const t="shortcut:"+e;if(ee.Z.hasListener(t))return ee.Z.trigger(t),!1},help(e){ee.Z.trigger("show:modal",new xc.Z({shortcuts:this.shortcuts}))},escape(e){ee.Z.trigger("shortcut:escape")},home(e){(0,Lt.Z)("home")},settings(e){(0,Lt.Z)("webSettings",{settingsSubset:"general"})},activity(e){const t=u.DB("appModel").get("primaryServer");t&&!t.get("isShared")&&(0,Lt.Z)("serverSettings",{machineIdentifier:t.id,settingsSection:"status",settingsGroup:"server-dashboard"})},usersSharing(e){(0,Lt.Z)("usersSharing")},search(e){return this.triggerShortcut("search")},playSelected(e){return this.triggerShortcut("playSelected")},togglePlayed(e){return this.triggerShortcut("togglePlayed")},edit(e){return this.triggerShortcut("edit")},info(e){return this.triggerShortcut("info")},save(e){return this.triggerShortcut("save")},playPause(e){return this.triggerShortcut("playPause")},play(e){return this.triggerShortcut("play")},pause(e){return this.triggerShortcut("pause")},toggleFullScreen(e){return this.triggerShortcut("toggleFullScreen")},decreaseVolume(e){return this.triggerShortcut("decreaseVolume")},increaseVolume(e){return this.triggerShortcut("increaseVolume")},seekBackward(e){return this.triggerShortcut("seekBackward")},seekForward(e){return this.triggerShortcut("seekForward")},stepBackward(e){return this.triggerShortcut("stepBackward")},stepForward(e){return this.triggerShortcut("stepForward")},skipPrevious(e){return this.triggerShortcut("skipPrevious")},skipNext(e){return this.triggerShortcut("skipNext")},stop(e){return this.triggerShortcut("stop")}},localCompanionTimelineManager:Hu(e,t,{getPlayerModels(e){const t=e.get("ui");return[t.get("audioVideoPlayer"),t.get("photoPlayer")]},getVolume:kl.Z}),localCompanionCommandHandler:Oc,mediaServerEventConnection:im,metrics:[new Xc({isPlaybackActive:xl}),hl],primaryServerManager:new td({appModel:e}),providerManager:new nd({appModel:e}),remotePlexPlayerManager:sp(e,t),serverConnectionManager:new Rc({appModel:e}),serverConnectionTestManager:new id({appModel:e}),serverManager:new vd({appModel:e}),serverUpdateManager:new bd({appModel:e}),sourceManager:new wd({appModel:e}),syncplaySessionManager:new lu({appModel:e,appStore:t}),watchTogetherRoomsManager:new Du({appModel:e,appStore:t})}),a().Deferred().resolve().promise()}().then(CM.registerAll)}const _M=new i.Z.Application;_M.addInitializer((()=>BM().then(la))),_M.start()},2418:e=>{function t(e){for(var t=e.length,n=new Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n}function n(){SHA256_H=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),SHA256_buf=new Array,SHA256_len=0}function r(e){SHA256_buf="string"==typeof e?SHA256_buf.concat(t(e)):SHA256_buf.concat(e);for(var n=0;n+64<=SHA256_buf.length;n+=64)p(SHA256_H,SHA256_buf.slice(n,n+64));SHA256_buf=SHA256_buf.slice(n),SHA256_len+=e.length}function i(){if(SHA256_buf[SHA256_buf.length]=128,SHA256_buf.length>56){for(var e=SHA256_buf.length;e<64;e++)SHA256_buf[e]=0;p(SHA256_H,SHA256_buf),SHA256_buf.length=0}for(e=SHA256_buf.length;e<59;e++)SHA256_buf[e]=0;SHA256_buf[59]=SHA256_len>>>29&255,SHA256_buf[60]=SHA256_len>>>21&255,SHA256_buf[61]=SHA256_len>>>13&255,SHA256_buf[62]=SHA256_len>>>5&255,SHA256_buf[63]=SHA256_len<<3&255,p(SHA256_H,SHA256_buf);var t=new Array(32);for(e=0;e<8;e++)t[4*e+0]=SHA256_H[e]>>>24,t[4*e+1]=SHA256_H[e]>>16&255,t[4*e+2]=SHA256_H[e]>>8&255,t[4*e+3]=255&SHA256_H[e];return SHA256_H=null,SHA256_buf=null,SHA256_len=null,t}var s=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),a=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298);function o(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function l(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function c(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e,t,n){return n^e&(t^n)}function u(e,t,n){return e&t^n&(e^t)}function p(e,t){for(var n=new Array(16),r=0;r<16;r++)n[r]=t[4*r+0]<<24|t[4*r+1]<<16|t[4*r+2]<<8|t[4*r+3];!function(e,t){for(var n=16;n<64;n++)t[n]=4294967295&(((r=t[n-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)+t[n-7]+o(t[n-15])+t[n-16];var r,i=(new Array).concat(e);for(n=0;n<64;n++){var s=i[7]+c(i[4])+d(i[4],i[5],i[6])+a[n]+t[n],p=l(i[0])+u(i[0],i[1],i[2]);i.pop(),i.unshift(s+p&4294967295),i[4]=i[4]+s&4294967295}for(n=0;n<8;n++)e[n]=e[n]+i[n]&4294967295}(e,n)}e.exports={SHA256_hash:function(e){return n(),r(e),function(e){for(var t="",n=0;n<e.length;n++)t+=s[e[n]>>4]+s[15&e[n]];return t}(i())},HMAC_SHA256_init:function(e){HMAC_SHA256_key="string"==typeof e?t(e):(new Array).concat(e),HMAC_SHA256_key.length>64&&(n(),r(HMAC_SHA256_key),HMAC_SHA256_key=i());for(var s=HMAC_SHA256_key.length;s<64;s++)HMAC_SHA256_key[s]=0;for(s=0;s<64;s++)HMAC_SHA256_key[s]^=54;n(),r(HMAC_SHA256_key)},HMAC_SHA256_write:function(e){r(e)},HMAC_SHA256_finalize:function(){for(var e=i(),t=0;t<64;t++)HMAC_SHA256_key[t]^=106;for(n(),r(HMAC_SHA256_key),r(e),t=0;t<64;t++)HMAC_SHA256_key[t]=0;return HMAC_SHA256_key=null,i()}}},40277:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<ul class="js-file-list-items list browse-directory-list"></ul> <div class="js-file-list-truncated-message css-file-list-truncated-message"></div> '}))},56022:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d="function",u=this;function p(e,t,n,i){var s,a="";return a+=' <li><a href="'+c(typeof(s=e&&e.url)===d?s.apply(e):s)+'" ',((s=r.if.call(e,i&&i.shouldUseDownload,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===s)&&(a+=s),a+=" ",((s=r.if.call(e,i&&i.target,{hash:{},inverse:u.noop,fn:u.programWithDepth(9,h,t,n),data:t}))||0===s)&&(a+=s),a+' class="download-btn">'+c(typeof(s=e&&e.label)===d?s.apply(e):s)+"</a></li> "}function m(e,t){return"download"}function h(e,t,n){var r;return""+'target="'+c(typeof(r=n&&n.target)===d?r.apply(e):r)+'"'}function g(e,t,n,i){var s,a="";return a+=' <a href="'+c(typeof(s=e&&e.url)===d?s.apply(e):s)+'" ',((s=r.if.call(e,i&&i.shouldUseDownload,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===s)&&(a+=s),a+=" ",((s=r.if.call(e,i&&i.target,{hash:{},inverse:u.noop,fn:u.programWithDepth(9,h,t,n),data:t}))||0===s)&&(a+=s),a+' class="btn btn-primary download-btn">'+c(typeof(s=e&&e.label)===d?s.apply(e):s)+"</a> "}return l+='<div class="type-'+c(typeof(o=t&&t.type)===d?o.apply(t):o)+" platform-logo platform-"+c(typeof(o=t&&t.id)===d?o.apply(t):o)+'"></div> <h2><strong>'+c(typeof(o=t&&t.name)===d?o.apply(t):o)+"</strong> "+c(i(n(76273)).call(t,"Download",{hash:{},data:a}))+"</h2> <h5>"+c(i(n(76273)).call(t,"Version",{hash:{},data:a}))+" "+c(typeof(o=t&&t.version)===d?o.apply(t):o)+"</h5> <h5>"+c(i(n(16014)).call(t,t&&t.date,{hash:{},data:a}))+'</h5> <div class="more-info"> ',((o=r.if.call(t,t&&t.requirements,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){var r,s="";return s+="<p>"+c(i(n(76273)).call(e,"Requirements",{hash:{},data:t}))+": ",((r=typeof(r=e&&e.requirements)===d?r.apply(e):r)||0===r)&&(s+=r),s+"</p>"}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,t&&t.info,{hash:{},inverse:u.noop,fn:u.program(3,(function(e,t){var n,r="";return r+="<p>",((n=typeof(n=e&&e.info)===d?n.apply(e):n)||0===n)&&(r+=n),r+"</p>"}),a),data:a}))||0===o)&&(l+=o),l+=" </div> ",((o=r.if.call(t,t&&t.shouldUseDropup,{hash:{},inverse:u.programWithDepth(11,(function(e,t,n){var i,s="";return s+=' <div class="download-server-btn-group"> ',((i=r.each.call(e,e&&e.releases,{hash:{},inverse:u.noop,fn:u.programWithDepth(12,g,t,e,n),data:t}))||0===i)&&(s+=i),s+" </div> "}),a,t),fn:u.programWithDepth(5,(function(e,t,s){var a,o="";return o+=' <div class="btn-group dropup download-server-btn-group"> <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> '+c(i(n(76273)).call(e,"Download",{hash:{},data:t}))+' <span class="caret"></span> </button> <ul class="dropdown-menu"> ',((a=r.each.call(e,e&&e.releases,{hash:{},inverse:u.noop,fn:u.programWithDepth(6,p,t,e,s),data:t}))||0===a)&&(o+=a),o+" </ul> </div> "}),a,t),data:a}))||0===o)&&(l+=o),l+" "}))},17487:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,a="",o=this;function l(e,t){return"star"}function c(e,t){return"dislikes"}return((s=n.each.call(t,t&&t.stars,{hash:{},inverse:o.noop,fn:o.program(1,(function(e,t){var r,i="";return i+='<span class="star"><i class="star-icon glyphicon ',((r=n.if.call(e,e,{hash:{},inverse:o.program(4,c,t),fn:o.program(2,l,t),data:t}))||0===r)&&(i+=r),i+'"></i><span class="empty-icon"></span></span>'}),i),data:i}))||0===s)&&(a+=s),a+" "}))},17786:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,a="";return(a+='<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">')+((0,this.escapeExpression)((s=n.message)||"function"==typeof(s=t&&t.message)?s.call(t,{hash:{},data:i}):s)+"</span> ")}))},66127:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var a,o,l="";return l+='<button class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <i class="alert-icon glyphicon ',((a=(o=n(78356),o&&(o.__esModule?o.default:o)).call(t,t&&t.type,"success",{hash:{},inverse:this.program(3,(function(e,t){return"circle-exclamation-mark"}),s),fn:this.program(1,(function(e,t){return"circle-ok"}),s),data:s}))||0===a)&&(l+=a),l+='"></i> <h4>',((a="function"==typeof(a=t&&t.message)?a.apply(t):a)||0===a)&&(l+=a),l+"</h4> "}))},43430:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var a,o="",l="function",c=this.escapeExpression;return o+='<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">'+c(typeof(a=t&&t.content)===l?a.apply(t):a)+"</span> ",((a=r.if.call(t,t&&t.url,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var r,i;return""+' <a class="info-link link" href="'+c(typeof(r=e&&e.url)===l?r.apply(e):r)+'" target="_blank">'+c((i=n(76273),i&&(i.__esModule?i.default:i)).call(e,"More Info",{hash:{},data:t}))+"</a> "}),s),data:s}))||0===a)&&(o+=a),o+" "}))},22016:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">'+c(i(n(76273)).call(t,"A new TV tuner ({tunerMake} {tunerModel}) has been found! Plex DVR is the easiest way to record your favorite shows!",{hash:{tunerModel:t&&t.model,tunerMake:t&&t.make},data:a}))+'</span> <a class="setup-link link" href="'+c("function"==typeof(o=t&&t.dvrSettingsRoute)?o.apply(t):o)+'">'+c(i(n(76273)).call(t,"Learn more",{hash:{},data:a}))+"</a> "}))},85213:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var a,o,l="",c="function",d=this.escapeExpression;return l+='<a class="dropdown-toggle" href="#auto-match-dropdown" data-toggle="dropdown">'+d((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,"Auto Match",{hash:{},data:s}))+' <i class="caret-icon caret-icon-sm"></i></a> <ul class="dropdown-menu"> ',((a=r.each.call(t,t&&t.agents,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n;return""+' <li><a class="auto-match-agent" href="#" data-id="'+d(typeof(n=e&&e.identifier)===c?n.apply(e):n)+'">'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+"</a></li> "}),s),data:s}))||0===a)&&(l+=a),l+" </ul> "}))},46140:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var a,o="",l=this.escapeExpression;return o+='<form class="edit-metadata-form"> ',((a=r.each.call(t,t,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var r;return""+" "+l((r=n(46178),r&&(r.__esModule?r.default:r)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}),s),data:s}))||0===a)&&(o+=a),o+" </form> "}))},10719:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;return l+='<form class="edit-metadata-form"> ',((o=r.if.call(t,t&&t.canReparent,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var r;return""+' <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(e,"autocompleteTextInput",{hash:{label:"Artist",name:"parentTitle",placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.parentTitle),ratingKey:(r=e&&e.item,null==r||!1===r?r:r.parentRatingKey),title:(r=e&&e.item,null==r||!1===r?r:r.parentTitle)},data:t}))+" </div> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=' <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Album",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey),scopeToAttr:"parentRatingKey",scopeToParam:"artist.id"},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Sort Album",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-3"> <label>'+c(i(n(76273)).call(t,"Rating",{hash:{},data:a}))+'</label> <div class="rating-region"></div> </div> ',((o=r.unless.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var r;return""+' <div class="col-md-4"> '+c(i(n(46178)).call(e,"lockableTextInput",{hash:{label:"Year",name:"year",value:(r=e&&e.item,null==r||!1===r?r:r.year),placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.year),locked:(r=e&&e.locked,null==r||!1===r?r:r.year),ratingKey:(r=e&&e.item,null==r||!1===r?r:r.ratingKey)},data:t}))+" </div> "}),a),data:a}))||0===o)&&(l+=o),l+=' <div class="col-md-',((o=r.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:d.program(7,(function(e,t){return"5"}),a),fn:d.program(5,(function(e,t){return"9"}),a),data:a}))||0===o)&&(l+=o),l+' "> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(o=t&&t.item,null==o||!1===o?o:o.originallyAvailableAt),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originallyAvailableAt),locked:(o=t&&t.locked,null==o||!1===o?o:o.originallyAvailableAt)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Record Label",name:"studio",value:(o=t&&t.item,null==o||!1===o?o:o.studio),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.studio),locked:(o=t&&t.locked,null==o||!1===o?o:o.studio),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Review",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+" </div> </div> </form> "}))},18866:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(o=t&&t.locked,null==o||!1===o?o:o.genre)},data:a}))+" </div> </div> ",((o=r.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["album.style"],{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var r;return""+' <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(e,"lockableTagInput",{hash:{label:"Styles",name:"style",attribute:"styles",locked:(r=e&&e.locked,null==r||!1===r?r:r.style)},data:t}))+" </div> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["album.mood"],{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var r;return""+' <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(e,"lockableTagInput",{hash:{label:"Moods",name:"mood",attribute:"moods",locked:(r=e&&e.locked,null==r||!1===r?r:r.mood)},data:t}))+" </div> </div> "}),a),data:a}))||0===o)&&(l+=o),l+' <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(o=t&&t.locked,null==o||!1===o?o:o.collection)},data:a}))+" </div> </div> </form> "}))},34512:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Artist",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Sort Artist",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Biography",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:a}))+" </div> </div> </form> "}))},81570:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(o=t&&t.locked,null==o||!1===o?o:o.genre)},data:a}))+" </div> </div> ",((o=r.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["artist.style"],{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var r;return""+' <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(e,"lockableTagInput",{hash:{label:"Styles",name:"style",attribute:"styles",locked:(r=e&&e.locked,null==r||!1===r?r:r.style)},data:t}))+" </div> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["artist.mood"],{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var r;return""+' <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(e,"lockableTagInput",{hash:{label:"Moods",name:"mood",attribute:"moods",locked:(r=e&&e.locked,null==r||!1===r?r:r.mood)},data:t}))+" </div> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=' <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Country",name:"country",attribute:"countries",locked:(o=t&&t.locked,null==o||!1===o?o:o.country)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(o=t&&t.locked,null==o||!1===o?o:o.collection)},data:a}))+" </div> </div> ",((o=r.if.call(t,t&&t.canEditSimilarArtists,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){var r;return""+' <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(e,"lockableTagInput",{hash:{label:"Similar Artists",name:"similar",attribute:"similar",query:"title",locked:(r=e&&e.locked,null==r||!1===r?r:r.similar)},data:t}))+" </div> </div> "}),a),data:a}))||0===o)&&(l+=o),l+" </form> "}))},13990:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return""+' <span class="artwork-file-container"> <input type="file" class="artwork-file-control" multiple> <a href="#">'+c(i(n(76273)).call(e,"choose an image",{hash:{},data:t}))+'</a> </span> <span class="upload-prompt-divider">&middot;</span> '+c(i(n(76273)).call(e,"drag and drop",{hash:{},data:t}))+' <span class="upload-prompt-divider">&middot;</span> '}return((o=r.if.call(t,t&&t.showUpload,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,a="";return a+=' <div class="upload-artwork-container"> <div class="upload-prompt"> ',((s=r.if.call(e,e&&e.showFileUpload,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===s)&&(a+=s),a+' <a class="upload-url-btn" href="#">'+c(i(n(76273)).call(e,"enter a url",{hash:{},data:t}))+'</a> </div> <div class="upload-progress"> '+c(i(n(76273)).call(e,"Uploading artwork...",{hash:{},data:t}))+' </div> <div class="upload-success"> '+c(i(n(76273)).call(e,"this artwork was uploaded successfully",{hash:{},data:t}))+' <span class="upload-prompt-divider">&middot;</span> '+c(i(n(76273)).call(e,"{1}upload another{2}",'<a class="upload-back-btn" href="#">',"</a>",{hash:{},data:t}))+' </div> <div class="upload-error"> '+c(i(n(76273)).call(e,"there was an error uploading this artwork",{hash:{},data:t}))+' <span class="upload-prompt-divider">&middot;</span> '+c(i(n(76273)).call(e,"{1}try again{2}",'<a class="upload-back-btn" href="#">',"</a>",{hash:{},data:t}))+' </div> <form id="upload-form" class="upload-form"> <input type="text" class="form-control" name="url" placeholder="'+c(i(n(76273)).call(e,"Enter a url to upload an image from the web",{hash:{},data:t}))+'"> <div class="upload-form-help"> <div class="pull-right">'+c(i(n(76273)).call(e,"enter to {1}upload{2}",'<a class="submit-url-btn" href="#">',"</a>",{hash:{},data:t}))+'</div> <div class="pull-left">'+c(i(n(76273)).call(e,"esc to {1}cancel{2}",'<a class="cancel-url-btn" href="#">',"</a>",{hash:{},data:t}))+"</div> </div> </form> </div> "}),a),data:a}))||0===o)&&(l+=o),l+' <div class="artwork-list-container"></div> '}))},70830:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-8 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> <div class="col-md-4 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(o=t&&t.item,null==o||!1===o?o:o.contentRating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.contentRating),locked:(o=t&&t.locked,null==o||!1===o?o:o.contentRating),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:a}))+" </div> </div> </form> "}))},26726:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-4"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(o=t&&t.item,null==o||!1===o?o:o.originallyAvailableAt),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originallyAvailableAt),locked:(o=t&&t.locked,null==o||!1===o?o:o.originallyAvailableAt)},data:a}))+' </div> <div class="col-md-4 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(o=t&&t.item,null==o||!1===o?o:o.contentRating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.contentRating),locked:(o=t&&t.locked,null==o||!1===o?o:o.contentRating),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> <div class="col-md-4"> <label>'+c(i(n(76273)).call(t,"Rating",{hash:{},data:a}))+'</label> <div class="rating-region"></div> </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:a}))+" </div> </div> </form> "}))},29800:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Writers",name:"writer",attribute:"writers",locked:(o=t&&t.locked,null==o||!1===o?o:o.writer)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Directors",name:"director",attribute:"directors",locked:(o=t&&t.locked,null==o||!1===o?o:o.director)},data:a}))+" </div> </div> </form> "}))},39706:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,s){var a;return this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{},""+"<h4>"+(0,this.escapeExpression)((a=n(76273),a&&(a.__esModule?a.default:a)).call(t,"Files",{hash:{},data:s}))+'</h4> <ul class="media-info-file-list"></ul> <div class="loading-container"><div class="loading"></div></div> '}))},17441:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){var s;return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},""+((0,this.escapeExpression)((s=n.file)||"function"==typeof(s=t&&t.file)?s.call(t,{hash:{},data:i}):s)+" ")}))},8982:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Original Title",name:"originalTitle",value:(o=t&&t.item,null==o||!1===o?o:o.originalTitle),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originalTitle),locked:(o=t&&t.locked,null==o||!1===o?o:o.originalTitle),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-4"> ',((o=r.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:d.program(3,(function(e,t){var r;return""+" "+c(i(n(46178)).call(e,"lockableTextInput",{hash:{label:"Year",name:"year",value:(r=e&&e.item,null==r||!1===r?r:r.year),placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.year),locked:(r=e&&e.locked,null==r||!1===r?r:r.year)},data:t}))+" "}),a),fn:d.program(1,(function(e,t){var r;return""+" "+c(i(n(46178)).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(r=e&&e.item,null==r||!1===r?r:r.originallyAvailableAt),placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.originallyAvailableAt),locked:(r=e&&e.locked,null==r||!1===r?r:r.originallyAvailableAt)},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+=' </div> <div class="col-md-4 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(o=t&&t.item,null==o||!1===o?o:o.contentRating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.contentRating),locked:(o=t&&t.locked,null==o||!1===o?o:o.contentRating),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> <div class="col-md-4"> <label>'+c(i(n(76273)).call(t,"Rating",{hash:{},data:a}))+'</label> <div class="rating-region"></div> </div> </div> <div class="row"> <div class="col-md-',((o=r.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:d.program(7,(function(e,t){return"6"}),a),fn:d.program(5,(function(e,t){return"12"}),a),data:a}))||0===o)&&(l+=o),l+=' selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Studio",name:"studio",value:(o=t&&t.item,null==o||!1===o?o:o.studio),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.studio),locked:(o=t&&t.locked,null==o||!1===o?o:o.studio),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+" </div> ",((o=r.unless.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:d.noop,fn:d.program(9,(function(e,t){var r;return""+' <div class="col-md-6"> '+c(i(n(46178)).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(r=e&&e.item,null==r||!1===r?r:r.originallyAvailableAt),placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.originallyAvailableAt),locked:(r=e&&e.locked,null==r||!1===r?r:r.originallyAvailableAt)},data:t}))+" </div> "}),a),data:a}))||0===o)&&(l+=o),l+' </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Tagline",name:"tagline",value:(o=t&&t.item,null==o||!1===o?o:o.tagline),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.tagline),locked:(o=t&&t.locked,null==o||!1===o?o:o.tagline)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:a}))+" </div> </div> </form> "}))},4922:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-6"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Directors",name:"director",attribute:"directors",locked:(o=t&&t.locked,null==o||!1===o?o:o.director)},data:a}))+' </div> <div class="col-md-6"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Country",name:"country",attribute:"countries",locked:(o=t&&t.locked,null==o||!1===o?o:o.country)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(o=t&&t.locked,null==o||!1===o?o:o.genre)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Writers",name:"writer",attribute:"writers",locked:(o=t&&t.locked,null==o||!1===o?o:o.writer)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Producers",name:"producer",attribute:"producers",locked:(o=t&&t.locked,null==o||!1===o?o:o.producer)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(o=t&&t.locked,null==o||!1===o?o:o.collection)},data:a}))+" </div> </div> </form> "}))},3657:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-6"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:a}))+' </div> <div class="col-md-6"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:a}))+" </div> </div> </form> "}))},18704:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-9"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Captured Time",name:"originallyAvailableAt",value:(o=t&&t.item,null==o||!1===o?o:o.originallyAvailableAt),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.capturedTime),locked:(o=t&&t.locked,null==o||!1===o?o:o.originallyAvailableAt)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:a}))+" </div> </div> </form> "}))},2362:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Tags",name:"tag",attribute:"tags",locked:(o=t&&t.locked,null==o||!1===o?o:o.tag)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{onlyDelete:!0,label:"Autotags",name:"autotag",attribute:"autotags",locked:(o=t&&t.locked,null==o||!1===o?o:o.autotag)},data:a}))+" </div> </div> </form> "}))},88949:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"textInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"textInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5"},data:a}))+" </div> </div> </form> "}))},88311:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:a}))+" </div> </div> </form> "}))},52223:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var r;return""+" "+c(i(n(46178)).call(e,"lockableTagInput",{hash:{label:"Labels",name:"label",attribute:"labels",locked:(r=e&&e.locked,null==r||!1===r?r:r.label)},data:t}))+" "}function p(e,t){return""+' <div class="form-group"> <label>'+c(i(n(76273)).call(e,"Labels",{hash:{},data:t}))+"</label> <p>"+c(i(n(76273)).call(e,"Labels require Plex Media Server {1} or later.",e&&e.escapedLabelsMinVersion,{hash:{},data:t}))+"</p> </div> "}return((o=r.if.call(t,t&&t.hasContentFilterFeature,{hash:{},inverse:d.program(6,(function(e,t){var r;return""+' <div class="row row-padded"> <h4 class="text-muted text-center">'+c(i(n(76273)).call(e,"You need a Plex Pass to use restrictions.",{hash:{},data:t}))+'</h4> <p class="text-center"> <a class="btn btn-sm btn-primary" href="'+c("function"==typeof(r=e&&e.plexPassUrl)?r.apply(e):r)+'" target="_blank">'+c(i(n(76273)).call(e,"Learn More",{hash:{},data:t}))+"</a> </p> </div> "}),a),fn:d.program(1,(function(e,t){var n,i="";return i+=' <form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> ',((n=r.if.call(e,e&&e.showLabels,{hash:{},inverse:d.program(4,p,t),fn:d.program(2,u,t),data:t}))||0===n)&&(i+=n),i+" </div> </div> </form> "}),a),data:a}))||0===o)&&(l+=o),l+" "}))},48526:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Original Title",name:"originalTitle",value:(o=t&&t.item,null==o||!1===o?o:o.originalTitle),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originalTitle),locked:(o=t&&t.locked,null==o||!1===o?o:o.originalTitle),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-4"> ',((o=r.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:d.program(3,(function(e,t){var r;return""+" "+c(i(n(46178)).call(e,"lockableTextInput",{hash:{label:"Year",name:"year",value:(r=e&&e.item,null==r||!1===r?r:r.year),placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.year),locked:(r=e&&e.locked,null==r||!1===r?r:r.year)},data:t}))+" "}),a),fn:d.program(1,(function(e,t){var r;return""+" "+c(i(n(46178)).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(r=e&&e.item,null==r||!1===r?r:r.originallyAvailableAt),placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.originallyAvailableAt),locked:(r=e&&e.locked,null==r||!1===r?r:r.originallyAvailableAt)},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+=' </div> <div class="col-md-4 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(o=t&&t.item,null==o||!1===o?o:o.contentRating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.contentRating),locked:(o=t&&t.locked,null==o||!1===o?o:o.contentRating),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+' </div> <div class="col-md-4"> <label>'+c(i(n(76273)).call(t,"Rating",{hash:{},data:a}))+'</label> <div class="rating-region"></div> </div> </div> <div class="row"> <div class="col-md-',((o=r.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:d.program(7,(function(e,t){return"6"}),a),fn:d.program(5,(function(e,t){return"12"}),a),data:a}))||0===o)&&(l+=o),l+=' selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Studio",name:"studio",value:(o=t&&t.item,null==o||!1===o?o:o.studio),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.studio),locked:(o=t&&t.locked,null==o||!1===o?o:o.studio),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+" </div> ",((o=r.unless.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:d.noop,fn:d.program(9,(function(e,t){var r;return""+' <div class="col-md-6"> '+c(i(n(46178)).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(r=e&&e.item,null==r||!1===r?r:r.originallyAvailableAt),placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.originallyAvailableAt),locked:(r=e&&e.locked,null==r||!1===r?r:r.originallyAvailableAt)},data:t}))+" </div> "}),a),data:a}))||0===o)&&(l+=o),l+' </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Tagline",name:"tagline",value:(o=t&&t.item,null==o||!1===o?o:o.tagline),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.tagline),locked:(o=t&&t.locked,null==o||!1===o?o:o.tagline)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:a}))+" </div> </div> </form> "}))},79988:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(o=t&&t.locked,null==o||!1===o?o:o.genre)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(o=t&&t.locked,null==o||!1===o?o:o.collection)},data:a}))+" </div> </div> </form> "}))},52030:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> ',((o=r.if.call(t,t&&t.canReparent,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var r;return""+' <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(e,"autocompleteTextInput",{hash:{label:"Album Artist",name:"grandparentTitle",placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.grandparentTitle),ratingKey:(r=e&&e.item,null==r||!1===r?r:r.grandparentRatingKey),title:(r=e&&e.item,null==r||!1===r?r:r.grandparentTitle)},data:t}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(e,"autocompleteTextInput",{hash:{label:"Album",name:"parentTitle",placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.parentTitle),ratingKey:(r=e&&e.item,null==r||!1===r?r:r.parentRatingKey),title:(r=e&&e.item,null==r||!1===r?r:r.parentTitle),scopeToAttr:"grandparentRatingKey",scopeToParam:"artist.id"},data:t}))+" </div> </div> "}),a),data:a}))||0===o)&&(l+=o),l+' <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:a}))+' </div> </div> <div class="row"> <div class="col-md-4"> <label>'+c(i(n(76273)).call(t,"Rating",{hash:{},data:a}))+'</label> <div class="rating-region"></div> </div> <div class="col-md-4"> '+c(i(n(46178)).call(t,"lockableNumericInput",{hash:{label:"Track",name:"index",value:(o=t&&t.item,null==o||!1===o?o:o.index),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.index),locked:(o=t&&t.locked,null==o||!1===o?o:o.index),disabled:t&&t.disableIndices},data:a}))+' </div> <div class="col-md-4"> '+c(i(n(46178)).call(t,"lockableNumericInput",{hash:{label:"Disc",name:"parentIndex",value:(o=t&&t.item,null==o||!1===o?o:o.parentIndex),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.parentIndex),locked:(o=t&&t.locked,null==o||!1===o?o:o.parentIndex),disabled:t&&t.disableIndices},data:a}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(46178)).call(t,"lockableTextInput",{hash:{label:"Artist",name:"originalTitle",value:(o=t&&t.item,null==o||!1===o?o:o.originalTitle),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originalTitle),locked:(o=t&&t.locked,null==o||!1===o?o:o.originalTitle),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:a}))+" </div> </div> </form> "}))},58830:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;return l+='<form class="edit-metadata-form"> ',((o=r.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["track.style"],{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var r;return""+' <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(e,"lockableTagInput",{hash:{label:"Styles",name:"style",attribute:"styles",locked:(r=e&&e.locked,null==r||!1===r?r:r.style)},data:t}))+" </div> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["track.mood"],{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var r;return""+' <div class="row"> <div class="col-md-12"> '+c(i(n(46178)).call(e,"lockableTagInput",{hash:{label:"Moods",name:"mood",attribute:"moods",locked:(r=e&&e.locked,null==r||!1===r?r:r.mood)},data:t}))+" </div> </div> "}),a),data:a}))||0===o)&&(l+=o),l+" </form> "}))},72988:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return""+" "+c(i(n(46178)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}return((o=r.if.call(t,t&&t.settings,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,a="";return a+=' <div class="setup-agent-section"> <div class="setup-agent-title">'+c(i(n(76273)).call(e,"{1} Settings",e&&e.escapedAgentName,{hash:{},data:t}))+'</div> <p class="setup-agent-disclaimer">'+c(i(n(76273)).call(e,"Note: These settings will take effect for all libraries using the {1} agent.",e&&e.escapedAgentName,{hash:{},data:t}))+'</p> <div class="setup-agent-settings"> ',((s=r.each.call(e,e&&e.settings,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===s)&&(a+=s),a+" </div> </div> "}),a),data:a}))||0===o)&&(l+=o),l+" "}))},43298:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o="",l=this.escapeExpression;return o+'<form class="edit-section-type-form settings-container"> <p>'+l(i(n(76273)).call(t,"There was an error adding this library.",{hash:{},data:a}))+"</p> <p>"+l(i(n(76273)).call(t,"Please visit the {1}forums{2} and provide your logs, as described {3}here{4}.",'<a href="https://forums.plex.tv" target="_blank">',"</a>",'<a href="http://support.plex.tv/hc/en-us/articles/200250417-Log-File-Locations/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:a}))+"</p> </form> "}))},71539:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,a="";return(a+='<a class="artwork-option media-poster-container" data-rating-key="')+((0,this.escapeExpression)((s=n.ratingKey)||"function"==typeof(s=t&&t.ratingKey)?s.call(t,{hash:{},data:i}):s)+'" href="#"> <div class="media-poster"></div> </a> ')}))},87507:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var a,o,l="",c=this.escapeExpression,d="function";return l+='<div class="row disc-number hidden"> '+c((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,"Disc {1}",t&&t.escapedParentIndex,{hash:{},data:s}))+' </div> <div class="row striped-list-inner-item"> <span class="col-xs-1 match-index"> '+c(typeof(a=t&&t.index)===d?a.apply(t):a)+'. </span> <span class="col-xs-11 match-track-name ',((a=r.unless.call(t,t&&t.matched,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"missing"}),s),data:s}))||0===a)&&(l+=a),l+'"> '+c(typeof(a=t&&t.name)===d?a.apply(t):a)+" </span> </div> "}))},66440:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,s){var a;return this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{},""+'<div class="match-empty-message">'+(0,this.escapeExpression)((a=n(76273),a&&(a.__esModule?a.default:a)).call(t,"No matches found.",{hash:{},data:s}))+"</div> "}))},54536:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var a,o="",l="function",c=this.escapeExpression,d=this;function u(e,t){var n;return""+' <span class="match-year">'+c(typeof(n=e&&e.year)===l?n.apply(e):n)+'</span> <span class="match-separator">&middot;</span> '}return o+='<a class="match-result col-xs-12" href="#"> <div class="row"> <div class="col-xs-9 match-title-info"> ',((a=r.if.call(t,t&&t.parentName,{hash:{},inverse:d.program(3,(function(e,t){var n;return""+' <span class="match-name">'+c(typeof(n=e&&e.name)===l?n.apply(e):n)+"</span> "}),s),fn:d.program(1,(function(e,t){var n;return""+' <span class="match-name">'+c(typeof(n=e&&e.parentName)===l?n.apply(e):n)+'</span> &ndash; <span class="match-name">'+c(typeof(n=e&&e.name)===l?n.apply(e):n)+"</span> "}),s),data:s}))||0===a)&&(o+=a),o+=" ",((a=r.if.call(t,t&&t.disambiguationInfo,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){var n;return""+' — <span class="match-disambiguation-info">'+c(typeof(n=e&&e.disambiguationInfo)===l?n.apply(e):n)+"</span> "}),s),data:s}))||0===a)&&(o+=a),o+=" </div> ",((a=r.if.call(t,t&&t.normalizedScore,{hash:{},inverse:d.program(10,(function(e,t){var n;return""+' <div class="col-xs-3 match-score-info"> <span class="match-year">'+c(typeof(n=e&&e.year)===l?n.apply(e):n)+"</span> </div> "}),s),fn:d.program(7,(function(e,t){var i,s,a="";return a+=' <div class="col-xs-3 match-score-info" title="'+c((s=n(76273),s&&(s.__esModule?s.default:s)).call(e,"Score {1}",e&&e.escapedNormalizedScore,{hash:{},data:t}))+'"> ',((i=r.if.call(e,e&&e.year,{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===i)&&(a+=i),a+' <span class="match-score"><i class="match-score-icon glyphicon certificate"></i>'+c(typeof(i=e&&e.normalizedScore)===l?i.apply(e):i)+"</span> </div> "}),s),data:s}))||0===a)&&(o+=a),o+=' </div> <div class="row match-extended-info hidden"> ',((a=r.if.call(t,t&&t.summary,{hash:{},inverse:d.program(14,(function(e,t){return' <div class="col-xs-9 children-region"></div> '}),s),fn:d.program(12,(function(e,t){var n;return""+' <div class="col-xs-9 match-summary">'+c(typeof(n=e&&e.summary)===l?n.apply(e):n)+"</div> "}),s),data:s}))||0===a)&&(o+=a),o+' <div class="col-xs-3"> <img class="match-art" src="'+c(typeof(a=t&&t.thumb)===l?a.apply(t):a)+'"/> </div> </div> </a> '}))},6153:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,a="",o="function",l=this.escapeExpression;return a+'<a class="striped-list-item" href="#" data-key="'+l(typeof(s=null==(s=t&&t.filePath)||!1===s?s:s.key)===o?s.apply(t):s)+'"> <i class="glyphicon file"></i> '+l(typeof(s=null==(s=t&&t.filePath)||!1===s?s:s.title)===o?s.apply(t):s)+" </a> "}))},48966:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,a="",o=this,l="function",c=this.escapeExpression;function d(e,t){return"home"}function u(e,t){var r;return(r=n.if.call(e,null==(r=e&&e.filePath)||!1===r?r:r.network,{hash:{},inverse:o.program(9,m,t),fn:o.program(7,p,t),data:t}))||0===r?r:""}function p(e,t){return"globe"}function m(e,t){var r;return(r=n.if.call(e,e&&e.isRoot,{hash:{},inverse:o.program(12,g,t),fn:o.program(10,h,t),data:t}))||0===r?r:""}function h(e,t){return"hdd"}function g(e,t){return"folder-open"}return a+='<a class="striped-list-item" href="#" data-key="'+c(typeof(s=null==(s=t&&t.filePath)||!1===s?s:s.key)===l?s.apply(t):s)+'" title="'+c(typeof(s=null==(s=t&&t.filePath)||!1===s?s:s.title)===l?s.apply(t):s)+'" aria-label="'+c(typeof(s=null==(s=t&&t.filePath)||!1===s?s:s.title)===l?s.apply(t):s)+'"> <i class="folder-icon glyphicon ',((s=n.if.call(t,null==(s=t&&t.filePath)||!1===s?s:s.isBackShortcut,{hash:{},inverse:o.program(3,(function(e,t){var r;return(r=n.if.call(e,null==(r=e&&e.filePath)||!1===r?r:r.home,{hash:{},inverse:o.program(6,u,t),fn:o.program(4,d,t),data:t}))||0===r?r:""}),i),fn:o.program(1,(function(e,t){return"left-arrow"}),i),data:i}))||0===s)&&(a+=s),a+'"></i>&nbsp;'+c(typeof(s=null==(s=t&&t.filePath)||!1===s?s:s.title)===l?s.apply(t):s)+' <div class="loading loading-sm loading-inline hidden"></div> </a> '}))},25332:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var a,o="",l="function",c=this.escapeExpression,d=this;return o+='<div class="card card-section"> <div class="card-actions"> <button class="edit-section-btn card-action-btn"><i class="glyphicon pencil"></i></button> <button class="delete-section-btn card-action-btn btn-danger"><i class="glyphicon remove-2"></i></button> </div> <i class="section-icon glyphicon '+c(typeof(a=t&&t.icon)===l?a.apply(t):a)+'"></i> <span class="section-title"></span> ',((a=r.if.call(t,t&&t.path,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var n;return""+'<span class="section-path">'+c(typeof(n=e&&e.path)===l?n.apply(e):n)+"</span>"}),s),data:s}))||0===a)&&(o+=a),o+=" ",((a=r.if.call(t,t&&t.more,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var r;return""+'<span class="section-count">'+c((r=n(76273),r&&(r.__esModule?r.default:r)).call(e,"…and {count} more",{hash:{count:e&&e.more},data:t}))+"</span>"}),s),data:s}))||0===a)&&(o+=a),o+" </div> "}))},68505:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o="",l=this.escapeExpression;return o+'<div class="modal-dialog"> <div class="modal-content"> <form name="add-folder-form"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon folder-plus"></i> '+l(i(n(76273)).call(t,"Add Folder",{hash:{},data:a}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <div class="row"> <div class="col-md-12"> <input type="text" name="path" class="form-control" value=""> </div> </div> <div class="row directory-container-row"> <div class="home-directory-container col-md-5"></div> <div class="col-md-7"> <div class="path-container"></div> <div class="file-container"></div> </div> </div> </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+l(i(n(76273)).call(t,"Cancel",{hash:{},data:a}))+'</button> <button type="submit" class="add-btn btn btn-primary">'+l(i(n(76273)).call(t,"Add",{hash:{},data:a}))+"</button> </div> </form> </div> </div> "}))},55722:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d="function",u=this;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-exclamation-mark"></i> '+c(typeof(o=t&&t.title)===d?o.apply(t):o)+'</h4> </div> <div class="modal-body"> <p class="confirm-message">'+c(typeof(o=t&&t.message)===d?o.apply(t):o)+'</p> <p class="double-confirm-message text-warning"></p> </div> <div class="modal-footer"> ',((o=r.unless.call(t,t&&t.hideCancel,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return""+' <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(i(n(76273)).call(e,e&&e.cancelLabel,{hash:{},data:t}))+"</button> "}),a),data:a}))||0===o)&&(l+=o),l+=' <button type="button" class="confirm-btn btn btn-lg ',((o=r.if.call(t,t&&t.hasDanger,{hash:{},inverse:u.program(5,(function(e,t){return"btn-primary"}),a),fn:u.program(3,(function(e,t){return"btn-danger"}),a),data:a}))||0===o)&&(l+=o),l+' btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(n(76273)).call(t,t&&t.confirmLabel,{hash:{},data:a}))+"</span> </button> </div> </div> </div> "}))},43614:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){var n;return""+'download="'+d(typeof(n=e&&e.downloadName)===c?n.apply(e):n)+'"'}function m(e,t){var n;return""+" "+d(typeof(n=e&&e.title)===c?n.apply(e):n)+' <span class="title-separator">•</span> '}function h(e,t){var s,a="";return a+=" "+d(i(n(62782)).call(e,e&&e.videoResolution,{hash:{},data:t})),((s=r.if.call(e,e&&e.bitrate,{hash:{},inverse:u.noop,fn:u.program(7,g,t),data:t}))||0===s)&&(a+=s),a+" "}function g(e,t){return","}function y(e,t){return""+" "+d(i(n(63208)).call(e,e&&e.bitrate,{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon download-alt"></i> '+d(i(n(76273)).call(t,"Download a Version",{hash:{},data:a}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list download-list"> ',((o=r.each.call(t,t&&t.mediaItems,{hash:{},inverse:u.noop,fn:u.programWithDepth(1,(function(e,t,s){var a,o="";return o+=' <li class="striped-list-item select-list-item download-list-item"> <a class="media" data-value="'+d(typeof(a=null==t||!1===t?t:t.index)===c?a.apply(e):a)+'" href="'+d(typeof(a=e&&e.downloadUrl)===c?a.apply(e):a)+'" target="'+d(typeof(a=s&&s.defaultLinkTarget)===c?a.apply(e):a)+'" ',((a=i(n(84772)).call(e,s&&s.defaultLinkTarget,"_blank",{hash:{},inverse:u.noop,fn:u.program(2,p,t),data:t}))||0===a)&&(o+=a),o+="> ",((a=r.if.call(e,e&&e.title,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t}))||0===a)&&(o+=a),o+=" ",((a=r.if.call(e,e&&e.videoResolution,{hash:{},inverse:u.noop,fn:u.program(6,h,t),data:t}))||0===a)&&(o+=a),o+=" ",((a=r.if.call(e,e&&e.bitrate,{hash:{},inverse:u.noop,fn:u.program(9,y,t),data:t}))||0===a)&&(o+=a),o+" </a> </li> "}),a,t),data:a}))||0===o)&&(l+=o),l+" </ul> </div> </div> </div> "}))},68121:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon pencil"></i> '+c("function"==typeof(o=t&&t.paneTitle)?o.apply(t):o)+'</h4> </div> <div class="modal-body modal-body-scroll modal-body-with-panes"> <div class="modal-nav-pane dark-scrollbar hidden"> <ul class="list modal-nav-list"> ',((o=r.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.general,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return""+' <li><a class="btn-gray change-pane-btn general-btn" data-pane="general" href="#"> <i class="modal-nav-icon glyphicon align-center"></i> '+c(i(n(76273)).call(e,"General",{hash:{},data:t}))+" </a></li> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.tags,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return""+' <li><a class="btn-gray change-pane-btn tags-btn" data-pane="tags" href="#"> <i class="modal-nav-icon glyphicon tags"></i> '+c(i(n(76273)).call(e,"Tags",{hash:{},data:t}))+" </a></li> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.sharing,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){return""+' <li><a class="btn-gray change-pane-btn sharing-btn" data-pane="sharing" href="#"> <i class="modal-nav-icon glyphicon parents"></i> '+c(i(n(76273)).call(e,"Sharing",{hash:{},data:t}))+" </a></li> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.poster,{hash:{},inverse:d.noop,fn:d.program(7,(function(e,t){return""+' <li><a class="btn-gray change-pane-btn poster-btn" data-pane="poster" href="#"> <i class="modal-nav-icon glyphicon picture"></i> '+c(i(n(76273)).call(e,"Poster",{hash:{},data:t}))+" </a></li> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.banner,{hash:{},inverse:d.noop,fn:d.program(9,(function(e,t){return""+' <li><a class="btn-gray change-pane-btn banner-btn" data-pane="banner" href="#"> <i class="modal-nav-icon glyphicon picture"></i> '+c(i(n(76273)).call(e,"Banner",{hash:{},data:t}))+" </a></li> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.art,{hash:{},inverse:d.noop,fn:d.program(11,(function(e,t){return""+' <li><a class="btn-gray change-pane-btn art-btn" data-pane="art" href="#"> <i class="modal-nav-icon glyphicon picture"></i> '+c(i(n(76273)).call(e,"Background",{hash:{},data:t}))+" </a></li> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.info,{hash:{},inverse:d.noop,fn:d.program(13,(function(e,t){return""+' <li><a class="btn-gray change-pane-btn info-btn" data-pane="info" href="#"> <i class="modal-nav-icon glyphicon circle-info"></i> '+c(i(n(76273)).call(e,"Info",{hash:{},data:t}))+" </a></li> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.advanced,{hash:{},inverse:d.noop,fn:d.program(15,(function(e,t){return""+' <li><a class="btn-gray change-pane-btn advanced-btn" data-pane="advanced" href="#"> <i class="modal-nav-icon glyphicon cogwheel"></i> '+c(i(n(76273)).call(e,"Advanced",{hash:{},data:t}))+" </a></li> "}),a),data:a}))||0===o)&&(l+=o),l+' </ul> </div> <div class="modal-body-pane pane-region dark-scrollbar"> <div class="loading loading-inline"></div> </div> </div> <div class="modal-footer"> <span class="form-message"></span> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+c(i(n(76273)).call(t,"Cancel",{hash:{},data:a}))+'</button> <button type="button" class="save-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(n(76273)).call(t,"Save Changes",{hash:{},data:a}))+"</span> </button> </div> </div> </div> "}))},19380:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return" selected"}function p(e,t){return""+" "+c(i(n(76273)).call(e,"Select type",{hash:{},data:t}))+" "}function m(e,t){return""+" "+c(i(n(76273)).call(e,"General",{hash:{},data:t}))+" "}function h(e,t){return"disabled"}function g(e,t){return"hidden"}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> ',((o=r.if.call(t,t&&t.add,{hash:{},inverse:d.program(3,(function(e,t){var n;return""+' <i class="modal-icon glyphicon pencil"></i> '+c("function"==typeof(n=e&&e.paneTitle)?n.apply(e):n)+" "}),a),fn:d.program(1,(function(e,t){return""+' <i class="modal-icon glyphicon plus"></i> '+c(i(n(76273)).call(e,"Add {1} Library",'<span class="section-type-title"></span>',{hash:{},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+=' </h4> </div> <div class="modal-body modal-body-scroll modal-body-with-panes"> ',((o=r.if.call(t,t&&t.isLoading,{hash:{},inverse:d.program(7,(function(e,t){var s,a="";return a+=' <div class="modal-nav-pane dark-scrollbar"> <ul class="list modal-nav-list"> <li> <a class="btn-gray change-pane-btn type-btn',((s=i(n(78356)).call(e,e&&e.selectedPane,"type",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===s)&&(a+=s),a+='" data-pane="type" href="#"> <i class="modal-nav-icon glyphicon align-center"></i> ',((s=r.if.call(e,e&&e.add,{hash:{},inverse:d.program(12,m,t),fn:d.program(10,p,t),data:t}))||0===s)&&(a+=s),a+=' </a> </li> <li> <a class="btn-gray change-pane-btn folders-btn',((s=i(n(78356)).call(e,e&&e.selectedPane,"folders",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===s)&&(a+=s),a+=" ",((s=r.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,h,t),data:t}))||0===s)&&(a+=s),a+=" ",((s=r.unless.call(e,e&&e.showFolders,{hash:{},inverse:d.noop,fn:d.program(16,g,t),data:t}))||0===s)&&(a+=s),a+='" data-pane="folders" href="#"> <i class="modal-nav-icon glyphicon folder-open"></i> '+c(i(n(76273)).call(e,"Add folders",{hash:{},data:t}))+' </a> </li> <li> <a class="btn-gray change-pane-btn options-btn',((s=i(n(78356)).call(e,e&&e.selectedPane,"options",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===s)&&(a+=s),a+=" ",((s=r.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,h,t),data:t}))||0===s)&&(a+=s),a+=' hidden" data-pane="options" href="#"> <i class="modal-nav-icon glyphicon magic"></i> '+c(i(n(76273)).call(e,"Options",{hash:{},data:t}))+' </a> </li> <li> <a class="btn-gray change-pane-btn advanced-btn',((s=i(n(78356)).call(e,e&&e.selectedPane,"advanced",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===s)&&(a+=s),a+=" ",((s=r.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,h,t),data:t}))||0===s)&&(a+=s),a+'" data-pane="advanced" href="#"> <i class="modal-nav-icon glyphicon cogwheel"></i> '+c(i(n(76273)).call(e,"Advanced",{hash:{},data:t}))+' </a> </li> </ul> </div> <div class="modal-body-pane pane-region dark-scrollbar"> </div> '}),a),fn:d.program(5,(function(e,t){return' <div class="modal-body-pane pane-region dark-scrollbar"> <div class="loading loading-inline"></div> </div> '}),a),data:a}))||0===o)&&(l+=o),l+=' </div> <div class="modal-footer"> <span class="form-message"></span> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+c(i(n(76273)).call(t,"Cancel",{hash:{},data:a}))+'</button> <button type="button" class="save-btn btn btn-primary btn-loading ',((o=r.if.call(t,t&&t.add,{hash:{},inverse:d.noop,fn:d.program(14,h,a),data:a}))||0===o)&&(l+=o),l+='"> <div class="loading loading-sm"></div> <span class="btn-label"> <span class="save-btn-label-next">'+c(i(n(76273)).call(t,"Next",{hash:{},data:a}))+'</span> <span class="save-btn-label-save"> ',((o=r.if.call(t,t&&t.add,{hash:{},inverse:d.program(20,(function(e,t){return""+" "+c(i(n(76273)).call(e,"Save Changes",{hash:{},data:t}))+" "}),a),fn:d.program(18,(function(e,t){return""+" "+c(i(n(76273)).call(e,"Add Library",{hash:{},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+" </span> </span> </button> </div> </div> </div> "}))},56294:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;return l+='<div class="modal-dialog"> <div class="modal-content"> <form id="fix-incorrect-match-form"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon nameplate"></i> <span class="modal-title-text"></span></h4> ',((o=r.if.call(t,t&&t.location,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return""+' <div class="match-location"> '+c(i(n(76273)).call(e,"Location",{hash:{},data:t}))+": "+c(i(n(12498)).call(e,e&&e.location,60,12,{hash:{},data:t}))+" </div> "}),a),data:a}))||0===o)&&(l+=o),l+=' </div> <div class="modal-body modal-body-scroll dark-scrollbar"> ',((o=r.if.call(t,t&&t.showNavigation,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return""+' <ul class="list modal-list"> <li class="modal-list-item"><a class="search-options-btn" href="#">'+c(i(n(76273)).call(e,"Search Options",{hash:{},data:t}))+'</a></li> <li class="auto-match-dropdown-region modal-list-item"></li> </ul> '}),a),data:a}))||0===o)&&(l+=o),l+=' <div class="pane-region"></div> </div> <div class="modal-footer"> <div class="match-search-actions"> <button type="button" class="cancel-btn btn btn-default">'+c(i(n(76273)).call(t,"Cancel",{hash:{},data:a}))+"</button> ",((o=r.if.call(t,t&&t.showNavigation,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){return""+' <button type="submit" class="search-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(n(76273)).call(e,"Search",{hash:{},data:t}))+"</span> </button> "}),a),data:a}))||0===o)&&(l+=o),l+" </div> </div> </form> </div> </div> "}))},70460:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var a,o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){var n,i="";return i+=' <li> <span class="keyboard-shortcuts-keys"> ',((n=r.each.call(e,e&&e.keys,{hash:{},inverse:u.noop,fn:u.program(3,m,t),data:t}))||0===n)&&(i+=n),i+' </span> <span class="keyboard-shortcuts-label text-muted">'+d(typeof(n=e&&e.label)===c?n.apply(e):n)+"</span> </li> "}function m(e,t){var n,i="";return i+=" ",((n=r.if.call(e,e&&e.plain,{hash:{},inverse:u.noop,fn:u.program(4,h,t),data:t}))||0===n)&&(i+=n),i+=" ",((n=r.unless.call(e,e&&e.plain,{hash:{},inverse:u.noop,fn:u.program(6,g,t),data:t}))||0===n)&&(i+=n),i+=" ",((n=r.if.call(e,e&&e.split,{hash:{},inverse:u.noop,fn:u.program(8,y,t),data:t}))||0===n)&&(i+=n),i+" "}function h(e,t){var n;return""+' <span class="keyboard-shortcuts-keys-plain">'+d(typeof(n=e&&e.s)===c?n.apply(e):n)+"</span> "}function g(e,t){var n;return""+' <span class="keyboard-shortcuts-keys-key">'+d(typeof(n=e&&e.s)===c?n.apply(e):n)+"</span> "}function y(e,t){return" <br> "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon keyboard-wireless"></i> '+d((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,"Keyboard Shortcuts",{hash:{},data:s}))+' </h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> ',((a=r.each.call(t,t&&t.groups,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){var n,i="";return i+=' <h5 class="keyboard-shortcuts-header">'+d(typeof(n=e&&e.label)===c?n.apply(e):n)+'</h5> <ul class="list keyboard-shortcuts-list"> ',((n=r.each.call(e,e&&e.shortcuts,{hash:{},inverse:u.noop,fn:u.program(2,p,t),data:t}))||0===n)&&(i+=n),i+" </ul> "}),s),data:s}))||0===a)&&(l+=a),l+" </div> </div> </div> "}))},60862:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return""+" "+c(i(n(76273)).call(e,"Settings",{hash:{},data:t}))+" "}function p(e,t){return""+" "+c(i(n(76273)).call(e,"Sign In",{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-exclamation-mark"></i> ',((o=r.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(3,(function(e,t){return""+" "+c(i(n(76273)).call(e,"Plex Pass Required",{hash:{},data:t}))+" "}),a),fn:d.program(1,(function(e,t){return""+" "+c(i(n(76273)).call(e,"Internet Required",{hash:{},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+=' </h4> </div> <div class="modal-body"> <p class="confirm-message"> ',((o=r.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(7,(function(e,t){return""+" "+c(i(n(76273)).call(e,"This library requires your server be signed in to a Plex Pass account.",{hash:{},data:t}))+" "}),a),fn:d.program(5,(function(e,t){return""+" "+c(i(n(76273)).call(e,"This server cannot reach the Internet. Please verify connectivity and try again.",{hash:{},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+=' </p> </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(i(n(76273)).call(t,"Ignore",{hash:{},data:a}))+"</button> ",((o=r.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(11,(function(e,t){var n,i="";return i+=' <a class="confirm-btn btn btn-lg btn-primary" href="'+c("function"==typeof(n=e&&e.serverSettingsRoute)?n.apply(e):n)+'"> ',((n=r.if.call(e,e&&e.isSignedIn,{hash:{},inverse:d.program(14,p,t),fn:d.program(12,u,t),data:t}))||0===n)&&(i+=n),i+" </a> "}),a),fn:d.program(9,(function(e,t){return""+' <button type="button" class="confirm-btn btn btn-lg btn-primary">'+c(i(n(76273)).call(e,"OK",{hash:{},data:t}))+"</button> "}),a),data:a}))||0===o)&&(l+=o),l+" </div> </div> </div> "}))},82941:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d="function",u=this;function p(e,t,n){var i,s="";return s+=' <ul class="media-info-file-list well"> ',((i=r.if.call(e,n&&n.showDeleteFile,{hash:{},inverse:u.noop,fn:u.program(5,m,t),data:t}))||0===i)&&(s+=i),s+=" ",((i=r.each.call(e,e&&e.Part,{hash:{},inverse:u.noop,fn:u.programWithDepth(10,y,t,n),data:t}))||0===i)&&(s+=i),s+" </ul> "}function m(e,t){var r,s="";return s+=' <a href="#" data-media-item="'+c(typeof(r=null==t||!1===t?t:t.index)===d?r.apply(e):r)+'" class="delete-btn text-danger pull-right"> <i class="glyphicon bin"></i> ',((r=i(n(78356)).call(e,null==(r=e&&e.Part)||!1===r?r:r.length,"1",{hash:{},inverse:u.program(8,g,t),fn:u.program(6,h,t),data:t}))||0===r)&&(s+=r),s+" </a> "}function h(e,t){return""+" "+c(i(n(76273)).call(e,"Delete File",{hash:{},data:t}))+" "}function g(e,t){return""+" "+c(i(n(76273)).call(e,"Delete Files",{hash:{},data:t}))+" "}function y(e,t,n){var i,s="";return s+=" <li> ",((i=r.if.call(e,n&&n.showFilepath,{hash:{},inverse:u.program(13,f,t),fn:u.program(11,v,t),data:t}))||0===i)&&(s+=i),s+=" ",((i=r.unless.call(e,e&&e.accessible,{hash:{},inverse:u.noop,fn:u.program(15,b,t),data:t}))||0===i)&&(s+=i),s+" </li> "}function v(e,t){var n;return""+" "+c(typeof(n=e&&e.file)===d?n.apply(e):n)+" "}function f(e,t){return""+" "+c(i(n(51447)).call(e,e&&e.file,{hash:{},data:t}))+" "}function b(e,t){var n,i="";return i+=" ",((n=r.if.call(e,e&&e.exists,{hash:{},inverse:u.program(18,I,t),fn:u.program(16,S,t),data:t}))||0===n)&&(i+=n),i+" "}function S(e,t){return""+' <span class="label label-danger" data-toggle="tooltip" title="'+c(i(n(76273)).call(e,"Please check the permissions for this file.",{hash:{},data:t}))+'">'+c(i(n(76273)).call(e,"Inaccessible",{hash:{},data:t}))+"</span> "}function I(e,t){return""+' <span class="label label-danger" data-toggle="tooltip" title="'+c(i(n(76273)).call(e,"Please check that this file exists and the necessary drive is mounted.",{hash:{},data:t}))+'">'+c(i(n(76273)).call(e,"Unavailable",{hash:{},data:t}))+"</span> "}function Z(e,t){var r;return""+' <li> <span class="detail-label">'+c(i(n(76273)).call(e,e&&e.name,{hash:{},data:t}))+'</span> <span class="detail">'+c(typeof(r=e&&e.value)===d?r.apply(e):r)+"</span> </li> "}function P(e,t,s){var a,o="";return o+=' <div class="part"> <div class="props"> <h4>'+c(i(n(76273)).call(e,"Part",{hash:{},data:t}))+"</h4> <ul> ",((a=r.each.call(e,e&&e.properties,{hash:{},inverse:u.noop,fn:u.program(21,Z,t),data:t}))||0===a)&&(o+=a),o+=' </ul> </div> <div class="streams"> ',((a=r.each.call(e,e&&e.Stream,{hash:{},inverse:u.noop,fn:u.program(24,E,t),data:t}))||0===a)&&(o+=a),o+=" ",((a=r.if.call(e,s&&s.loading,{hash:{},inverse:u.noop,fn:u.program(33,O,t),data:t}))||0===a)&&(o+=a),o+" </div> </div> "}function E(e,t){var s,a="";return a+=' <div class="props"> ',((s=i(n(78356)).call(e,e&&e.streamType,"1",{hash:{},inverse:u.program(27,C,t),fn:u.program(25,M,t),data:t}))||0===s)&&(a+=s),a+=" <ul> ",((s=r.each.call(e,e&&e.properties,{hash:{},inverse:u.noop,fn:u.program(21,Z,t),data:t}))||0===s)&&(a+=s),a+" </ul> </div> "}function M(e,t){return""+" <h4>"+c(i(n(76273)).call(e,"Video",{hash:{},data:t}))+"</h4> "}function C(e,t){var r;return(r=i(n(78356)).call(e,e&&e.streamType,"2",{hash:{},inverse:u.program(30,D,t),fn:u.program(28,w,t),data:t}))||0===r?r:""}function w(e,t){return""+" <h4>"+c(i(n(76273)).call(e,"Audio",{hash:{},data:t}))+"</h4> "}function D(e,t){var r;return(r=i(n(78356)).call(e,e&&e.streamType,"3",{hash:{},inverse:u.noop,fn:u.program(31,T,t),data:t}))||0===r?r:""}function T(e,t){return""+" <h4>"+c(i(n(76273)).call(e,"Subtitles",{hash:{},data:t}))+"</h4> "}function O(e,t){return""+' <div class="props"> <h4>'+c(i(n(76273)).call(e,"Loading",{hash:{},data:t}))+"...</h4> </div> "}function x(e,t){var r;return""+' <div class="modal-footer"> <div class="pull-left"> <a href="'+c(typeof(r=e&&e.url)===d?r.apply(e):r)+'" target="_blank">'+c(i(n(76273)).call(e,"View XML",{hash:{},data:t}))+"</a> </div> </div> "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-info"></i> '+c(i(n(76273)).call(t,"Media Info",{hash:{},data:a}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <div class="position-ref ',((o=r.unless.call(t,t&&t.hasStreams,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"hide-streams-column"}),a),data:a}))||0===o)&&(l+=o),l+='"> ',((o=r.if.call(t,t&&t.hasFiles,{hash:{},inverse:u.noop,fn:u.program(3,(function(e,t){var s,a="";return a+=' <div class="files"> <h4>'+c(i(n(76273)).call(e,"Files",{hash:{},data:t}))+"</h4> ",((s=r.each.call(e,e&&e.media,{hash:{},inverse:u.noop,fn:u.programWithDepth(4,p,t,e),data:t}))||0===s)&&(a+=s),a+" </div> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=r.each.call(t,t&&t.media,{hash:{},inverse:u.noop,fn:u.programWithDepth(20,(function(e,t,s){var a,o="";return o+=' <div class="media"> <div class="props"> <h4>'+c(i(n(76273)).call(e,"Media",{hash:{},data:t}))+"</h4> <ul> ",((a=r.each.call(e,e&&e.properties,{hash:{},inverse:u.noop,fn:u.program(21,Z,t),data:t}))||0===a)&&(o+=a),o+=" </ul> </div> ",((a=r.each.call(e,e&&e.Part,{hash:{},inverse:u.noop,fn:u.programWithDepth(23,P,t,s),data:t}))||0===a)&&(o+=a),o+" </div> "}),a,t),data:a}))||0===o)&&(l+=o),l+=" </div> </div> ",((o=r.if.call(t,t&&t.key,{hash:{},inverse:u.noop,fn:u.programWithDepth(35,(function(e,t,n){var i;return(i=r.if.call(e,n&&n.showFilepath,{hash:{},inverse:u.noop,fn:u.program(36,x,t),data:t}))||0===i?i:""}),a,t),data:a}))||0===o)&&(l+=o),l+" </div> </div> "}))},27556:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-arrow-right"></i> '+c(i(n(76273)).call(t,"Go Premium",{hash:{},data:a}))+' </h4> </div> <div class="modal-body"> <p class="text-center"><i class="plex-image plex-pass"></i></p> <h4 class="text-center">'+c(i(n(76273)).call(t,"This feature requires a Plex Pass subscription.",{hash:{},data:a}))+"</h4> ",((o=r.if.call(t,t&&t.isClaimed,{hash:{},inverse:this.program(3,(function(e,t){return""+' <p class="text-muted">'+c(i(n(76273)).call(e,'The server "{1}" has not been claimed. This server must be claimed by an account with a Plex Pass subscription.',e&&e.escapedFriendlyName,{hash:{},data:t}))+"</p> "}),a),fn:this.program(1,(function(e,t){return""+' <p class="text-muted">'+c(i(n(76273)).call(e,"Everything you need to experience the best of Plex. Your subscription gives you premium features and exclusive access to new ones.",{hash:{},data:t}))+"</p> "}),a),data:a}))||0===o)&&(l+=o),l+' <p class="text-center"> <a class="btn btn-sm btn-primary" href="'+c("function"==typeof(o=t&&t.plexPassUrl)?o.apply(t):o)+'" target="_blank">'+c(i(n(76273)).call(t,"Learn More",{hash:{},data:a}))+"</a> </p> </div> </div> </div> "}))},90308:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-exclamation-mark"></i> '+c(i(n(76273)).call(t,"Limited Connection",{hash:{},data:a}))+" - "+c("function"==typeof(o=t&&t.serverName)?o.apply(t):o)+' </h4> </div> <div class="modal-body"> <p> '+c(i(n(76273)).call(t,"You are not connected directly to {1} so streaming quality may be limited. You may be able to connect directly to this server by changing your home network settings. {2}Learn more{3}",t&&t.escapedServerName,'<a href="https://help.plex.tv/relay" target="_blank" class="learn-more">',"</a>",{hash:{},data:a}))+' </p> </div> <div class="modal-footer"> <button type="button" class="confirm-btn btn btn-lg btn-primary">'+c(i(n(76273)).call(t,"OK",{hash:{},data:a}))+"</button> </div> </div> </div> "}))},69009:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return""+" "+c(i(n(11178)).call(e,e&&e.name,25,{hash:{},data:t}))+" "}function p(e,t){return""+" "+c(i(n(11178)).call(e,e&&e.device,25,{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon iphone"></i> '+c(i(n(76273)).call(t,"Choose Destination",{hash:{},data:a}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list"> ',((o=r.each.call(t,t&&t.devices,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var n,i="";return i+=' <li class="striped-list-item select-list-item"> <a class="media" data-value="'+c("function"==typeof(n=e&&e.id)?n.apply(e):n)+'" href="#"> ',((n=r.if.call(e,e&&e.name,{hash:{},inverse:d.program(4,p,t),fn:d.program(2,u,t),data:t}))||0===n)&&(i+=n),i+" </a> </li> "}),a),data:a}))||0===o)&&(l+=o),l+" </ul> </div> </div> </div> "}))},83278:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon file"></i> '+c(i(n(76273)).call(t,"Select a File",{hash:{},data:a}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list"> ',((o=r.each.call(t,t&&t.medias,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var r,s="";return s+=' <li class="striped-list-item select-list-item"> <a class="media" data-value="'+c("function"==typeof(r=null==t||!1===t?t:t.index)?r.apply(e):r)+'" href="#"> ',((r=i(n(36433)).call(e,null==(r=null==(r=e&&e.Part)||!1===r?r:r[0])||!1===r?r:r.file,35,{hash:{},data:t}))||0===r)&&(s+=r),s+" </a> </li> "}),a),data:a}))||0===o)&&(l+=o),l+" </ul> </div> </div> </div> "}))},96717:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this,d="function",u=this.escapeExpression;function p(e,t){return" selected"}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> ',((o=typeof(o=t&&t.iconPlexChevron)===d?o.apply(t):o)||0===o)&&(l+=o),l+=" "+u(i(n(76273)).call(t,"Plex Media Server Downloads",{hash:{},data:a}))+' </h4> </div> <div class="modal-body modal-body-scroll modal-body-with-panes"> <div class="modal-nav-pane dark-scrollbar"> <ul class="list modal-nav-list"> ',((o=r.each.call(t,t&&t.items,{hash:{},inverse:c.noop,fn:c.program(1,(function(e,t){var r,s="";return s+=' <li><a class="btn-gray show-pane-btn type-btn',((r=i(n(78356)).call(e,e&&e.selectedPane,e&&e.id,{hash:{},inverse:c.noop,fn:c.program(2,p,t),data:t}))||0===r)&&(s+=r),s+'" href="#" data-pane="'+u(typeof(r=e&&e.id)===d?r.apply(e):r)+'">'+u(typeof(r=e&&e.name)===d?r.apply(e):r)+"</a></li> "}),a),data:a}))||0===o)&&(l+=o),l+' </ul> </div> <div class="modal-body-pane pane-region dark-scrollbar"> </div> </div> <div class="server-download-loading loading loading-inline"></div> </div> </div> '}))},22110:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+='<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-error-icon"><i class="glyphicon circle-exclamation-mark"></i></p> </div> <div class="col-sm-8"> <h4> ',((o=r.if.call(t,t&&t.status,{hash:{},inverse:this.program(3,(function(e,t){return""+" "+c(i(n(76273)).call(e,"There was a problem preparing for optimization.",{hash:{},data:t}))+" "}),a),fn:this.program(1,(function(e,t){var n;return""+" "+c("function"==typeof(n=e&&e.status)?n.apply(e):n)+" "}),a),data:a}))||0===o)&&(l+=o),l+' </h4> <h4><a class="try-again-link" href="#">'+c(i(n(76273)).call(t,"Try again",{hash:{},data:a}))+"</a></h4> </div> </div> "}))},82295:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"selected"}return l+='<label class="control-label" for="convert-storage-location">'+c(i(n(76273)).call(t,"Version storage location",{hash:{},data:a}))+'</label> <select id="convert-storage-location" class="storage-location-select" name="storageLocation" ',((o=r.if.call(t,t&&t.disableLocation,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"disabled"}),a),data:a}))||0===o)&&(l+=o),l+='> <option value="-1" ',((o=i(n(78356)).call(t,t&&t.selectedLocationID,-1,{hash:{},inverse:d.noop,fn:d.program(3,u,a),data:a}))||0===o)&&(l+=o),l+=">"+c(i(n(76273)).call(t,"In folders with original items",{hash:{},data:a}))+"</option> ",((o=r.each.call(t,t&&t.locations,{hash:{},inverse:d.noop,fn:d.programWithDepth(5,(function(e,t,r){var s,a="";return a+=' <option value="'+c("function"==typeof(s=e&&e.id)?s.apply(e):s)+'" ',((s=i(n(78356)).call(e,r&&r.selectedLocationID,e&&e.id,{hash:{},inverse:d.noop,fn:d.program(3,u,t),data:t}))||0===s)&&(a+=s),a+">"+c(i(n(12498)).call(e,e&&e.path,50,20,{hash:{},data:t}))+"</option> "}),a,t),data:a}))||0===o)&&(l+=o),l+' </select> <p class="help-block">'+c(i(n(76273)).call(t,'A "Plex Versions" folder will be created in your chosen location.',{hash:{},data:a}))+"</p> "}))},60603:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"hidden"}function p(e,t){return"checked"}return l+='<div class="form-group ',((o=r.unless.call(t,t&&t.showUnwatched,{hash:{},inverse:d.noop,fn:d.program(1,u,a),data:a}))||0===o)&&(l+=o),l+='"> <label class="control-label"> <input type="checkbox" id="convert-policy-unwatched" name="policyUnwatched" ',((o=r.if.call(t,null==(o=t&&t.policy)||!1===o?o:o.unwatched,{hash:{},inverse:d.noop,fn:d.program(3,p,a),data:a}))||0===o)&&(l+=o),l+="> "+c(i(n(76273)).call(t,"Unwatched only",{hash:{},data:a}))+' </label> </div> <div class="form-group ',((o=r.unless.call(t,t&&t.isDirectory,{hash:{},inverse:d.noop,fn:d.program(1,u,a),data:a}))||0===o)&&(l+=o),l+='"> <label class="control-label"> <input type="checkbox" id="convert-policy-scope" name="policyScope" value="count" ',((o=i(n(78356)).call(t,null==(o=t&&t.policy)||!1===o?o:o.scope,"count",{hash:{},inverse:d.noop,fn:d.program(3,p,a),data:a}))||0===o)&&(l+=o),l+="> "+c(i(n(76273)).call(t,"Limit to",{hash:{},data:a}))+' <input type="number" id="convert-policy-value" name="policyValue" class="policy-value-control form-control" ',((o=r.if.call(t,null==(o=t&&t.policy)||!1===o?o:o.value,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){var n;return""+'value="'+c("function"==typeof(n=null==(n=e&&e.policy)||!1===n?n:n.value)?n.apply(e):n)+'"'}),a),data:a}))||0===o)&&(l+=o),l+="> "+c(i(n(76273)).call(t,"items",{hash:{},data:a}))+' </label> <p class="convert-warning help-block ',((o=r.unless.call(t,t&&t.showLimitWarning,{hash:{},inverse:d.noop,fn:d.program(1,u,a),data:a}))||0===o)&&(l+=o),l+='"> <i class="convert-warning-icon glyphicon circle-exclamation-mark"></i> <span class="convert-warning-text"> ',((o=r.if.call(t,t&&t.isSync,{hash:{},inverse:d.program(9,(function(e,t){return""+" "+c(i(n(76273)).call(e,"A large number of items may be time-consuming to convert. If you have trouble, try reducing the number of items.",{hash:{},data:t}))+" "}),a),fn:d.program(7,(function(e,t){return""+" "+c(i(n(76273)).call(e,"A large number of sync items may be time-consuming to convert and transfer to your device. If you have trouble, try reducing the number of items.",{hash:{},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+" </span> </p> </div> "}))},32433:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d="function",u=this;function p(e,t){return"selected"}function m(e,t){return""+" - "+c(i(n(54614)).call(e,e&&e.mediaSettings,{hash:{},data:t}))}return l+='<select class="convert-target-select" name="target" ',((o=r.if.call(t,t&&t.disableTarget,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"disabled"}),a),data:a}))||0===o)&&(l+=o),l+="> ",((o=r.each.call(t,t&&t.targets,{hash:{},inverse:u.noop,fn:u.programWithDepth(3,(function(e,t,s){var a,o="";return o+=' <option value="'+c(typeof(a=e&&e.id)===d?a.apply(e):a)+'" ',((a=i(n(78356)).call(e,null==(a=s&&s.item)||!1===a?a:a.targetTagID,e&&e.id,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===a)&&(o+=a),o+="> "+c(typeof(a=e&&e.tag)===d?a.apply(e):a),((a=r.if.call(e,null==(a=e&&e.mediaSettings)||!1===a?a:a.videoResolution,{hash:{},inverse:u.noop,fn:u.program(6,m,t),data:t}))||0===a)&&(o+=a),o+" </option> "}),a,t),data:a}))||0===o)&&(l+=o),l+=' <option value="-1" ',((o=r.unless.call(t,null==(o=t&&t.item)||!1===o?o:o.targetTagID,{hash:{},inverse:u.noop,fn:u.program(4,p,a),data:a}))||0===o)&&(l+=o),l+=">"+c(i(n(76273)).call(t,"Custom",{hash:{},data:a}))+'</option> </select> <div class="convert-custom-target-container"> <input type="text" class="convert-target-title form-control" name="targetTitle" class="form-control" value="'+c(typeof(o=null==(o=t&&t.item)||!1===o?o:o.target)===d?o.apply(t):o)+'" placeholder="'+c(i(n(76273)).call(t,"Quality Name",{hash:{},data:a}))+'"> <select class="convert-target-profile-select" name="targetProfile"> ',((o=r.each.call(t,t&&t.profiles,{hash:{},inverse:u.noop,fn:u.programWithDepth(8,(function(e,t,r){var s,a="";return a+=' <option value="'+c(typeof(s=e&&e.title)===d?s.apply(e):s)+'" ',((s=i(n(78356)).call(e,null==(s=r&&r.selectedProfile)||!1===s?s:s.title,e&&e.title,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===s)&&(a+=s),a+"> "+c(typeof(s=e&&e.title)===d?s.apply(e):s)+" </option> "}),a,t),data:a}))||0===o)&&(l+=o),l+=' </select> <select class="convert-target-quality-select" name="targetQuality"> ',((o=r.each.call(t,t&&t.availableCustomQualities,{hash:{},inverse:u.noop,fn:u.programWithDepth(10,(function(e,t,r){var s,a="";return a+=' <option value="'+c(typeof(s=e&&e.index)===d?s.apply(e):s)+'" ',((s=i(n(78356)).call(e,null==(s=r&&r.selectedCustomQuality)||!1===s?s:s.index,e&&e.index,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===s)&&(a+=s),a+"> "+c(i(n(54614)).call(e,e,{hash:{},data:t}))+" </option> "}),a,t),data:a}))||0===o)&&(l+=o),l+' </select> </div> <p class="help-block">'+c(i(n(76273)).call(t,"Plex will convert your media to this quality. Each version will be stored in a separate file.",{hash:{},data:a}))+"</p> "}))},7580:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this,u="function";return l+='<form id="convert-form" class="settings-container"> <div class="modal-body"> <div class="form-group ',((o=r.unless.call(t,t&&t.showRemuxOnlyWarning,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"hidden"}),a),data:a}))||0===o)&&(l+=o),l+='"> <p class="convert-warning help-block"> <i class="convert-warning-icon glyphicon circle-exclamation-mark"></i> <span class="convert-warning-text"> '+c(i(n(76273)).call(t,"Video optimization may take a long time to complete on this server. You'll be able to use Plex normally while you wait.",{hash:{},data:a}))+' </span> </p> </div> <div class="form-group"> <label class="control-label" for="convert-title">'+c(i(n(76273)).call(t,"Title",{hash:{},data:a}))+'</label> <input type="text" id="convert-title" name="title" class="form-control" value="'+c(typeof(o=null==(o=t&&t.conversionItem)||!1===o?o:o.title)===u?o.apply(t):o)+'" placeholder="'+c(typeof(o=null==(o=t&&t.conversionItem)||!1===o?o:o.title)===u?o.apply(t):o)+'"> </div> <div class="policy-region"></div> <div class="targets-region"></div> <div class="location-region"></div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">'+c(i(n(76273)).call(t,"Cancel",{hash:{},data:a}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">',((o=r.if.call(t,t&&t.isNew,{hash:{},inverse:d.program(5,(function(e,t){return c(i(n(76273)).call(e,"Save",{hash:{},data:t}))}),a),fn:d.program(3,(function(e,t){return c(i(n(76273)).call(e,"Optimize",{hash:{},data:t}))}),a),data:a}))||0===o)&&(l+=o),l+"</span> </button> </div> </form> "}))},21967:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="loading loading-inline"></div> '}))},63768:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,s){var a;return this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{},""+'<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon restart"></i> '+(0,this.escapeExpression)((a=n(76273),a&&(a.__esModule?a.default:a)).call(t,"Optimize",{hash:{},data:s}))+'</h4> </div> <div class="modal-body-region"></div> </div> </div> '}))},7369:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o="",l=this.escapeExpression;return o+'<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-success-icon"><i class="glyphicon ok-2"></i></p> </div> <div class="col-sm-8"> <h4>'+l(i(n(76273)).call(t,"This media is being converted.",{hash:{},data:a}))+"</h4> <h4>"+l(i(n(76273)).call(t,"Watch the status of the conversion {1}here{2}.",'<a class="status-link" href="#">',"</a>",{hash:{},data:a}))+"</h4> </div> </div> "}))},91939:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o="",l=this.escapeExpression;return o+'<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-error-icon"><i class="glyphicon circle-exclamation-mark"></i></p> </div> <div class="col-sm-8"> <h4>'+l(i(n(76273)).call(t,"There was a problem syncing this media.",{hash:{},data:a}))+'</h4> <h4><a class="try-again-link" href="#">'+l(i(n(76273)).call(t,"Try again",{hash:{},data:a}))+"</a></h4> </div> </div> "}))},56524:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this,d=this.escapeExpression,u="function";function p(e,t){var r,s="";return s+=' <option value="-1" ',((r=i(n(78356)).call(e,null==(r=e&&e.selectedVideoQuality)||!1===r?r:r.index,-1,{hash:{},inverse:c.noop,fn:c.program(3,m,t),data:t}))||0===r)&&(s+=r),s+"> "+d(i(n(76273)).call(e,"Original",{hash:{},data:t}))+" </option> "}function m(e,t){return"selected"}function h(e,t,r){var s,a="";return a+=' <option value="'+d(typeof(s=e&&e.index)===u?s.apply(e):s)+'" ',((s=i(n(78356)).call(e,null==(s=r&&r.selectedVideoQuality)||!1===s?s:s.index,e&&e.index,{hash:{},inverse:c.noop,fn:c.program(3,m,t),data:t}))||0===s)&&(a+=s),a+"> "+d(i(n(54614)).call(e,e,{hash:{},data:t}))+" </option> "}function g(e,t,r){var s,a="";return a+=' <option value="'+d(typeof(s=e&&e.index)===u?s.apply(e):s)+'" ',((s=i(n(78356)).call(e,null==(s=r&&r.selectedMusicQuality)||!1===s?s:s.index,e&&e.index,{hash:{},inverse:c.noop,fn:c.program(3,m,t),data:t}))||0===s)&&(a+=s),a+"> "+d(i(n(51030)).call(e,e,{hash:{},data:t}))+" </option> "}function y(e,t,r){var s,a="";return a+=' <option value="'+d(typeof(s=e&&e.index)===u?s.apply(e):s)+'" ',((s=i(n(78356)).call(e,null==(s=r&&r.selectedPhotoQuality)||!1===s?s:s.index,e&&e.index,{hash:{},inverse:c.noop,fn:c.program(3,m,t),data:t}))||0===s)&&(a+=s),a+"> "+d(typeof(s=e&&e.title)===u?s.apply(e):s)+" </option> "}return((o=i(n(78356)).call(t,t&&t.typeElement,"video",{hash:{},inverse:c.noop,fn:c.program(1,(function(e,t){var n,i="";return i+=' <select class="sync-quality-select" name="videoQuality"> ',((n=r.if.call(e,e&&e.supportsOriginalQuality,{hash:{},inverse:c.noop,fn:c.program(2,p,t),data:t}))||0===n)&&(i+=n),i+=" ",((n=r.each.call(e,e&&e.availableVideoQualities,{hash:{},inverse:c.noop,fn:c.programWithDepth(5,h,t,e),data:t}))||0===n)&&(i+=n),i+" </select> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i(n(78356)).call(t,t&&t.typeElement,"audio",{hash:{},inverse:c.noop,fn:c.program(7,(function(e,t){var n,i="";return i+=' <select class="sync-quality-select" name="musicQuality"> ',((n=r.each.call(e,e&&e.availableMusicQualities,{hash:{},inverse:c.noop,fn:c.programWithDepth(8,g,t,e),data:t}))||0===n)&&(i+=n),i+" </select> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i(n(78356)).call(t,t&&t.typeElement,"photo",{hash:{},inverse:c.noop,fn:c.program(10,(function(e,t){var n,i="";return i+=' <select class="sync-quality-select" name="photoQuality"> ',((n=r.each.call(e,e&&e.availablePhotoQualities,{hash:{},inverse:c.noop,fn:c.programWithDepth(11,y,t,e),data:t}))||0===n)&&(i+=n),i+" </select> "}),a),data:a}))||0===o)&&(l+=o),l+' <p class="help-block">'+d(i(n(76273)).call(t,"Plex will convert your media to this quality and transfer the converted media to your device.",{hash:{},data:a}))+"</p> "}))},20166:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d="function";return l+='<form id="sync-form" class="settings-container"> <div class="modal-body"> <div class="form-group"> <label class="control-label" for="sync-title">'+c(i(n(76273)).call(t,"Title",{hash:{},data:a}))+'</label> <input type="text" id="sync-title" name="title" class="form-control" value="'+c(typeof(o=null==(o=t&&t.syncItem)||!1===o?o:o.title)===d?o.apply(t):o)+'" placeholder="'+c(typeof(o=null==(o=t&&t.syncItem)||!1===o?o:o.title)===d?o.apply(t):o)+'"> </div> <div class="policy-region"></div> <div class="quality-region"></div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">'+c(i(n(76273)).call(t,"Cancel",{hash:{},data:a}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">',((o=r.if.call(t,t&&t.isNew,{hash:{},inverse:this.program(3,(function(e,t){return c(i(n(76273)).call(e,"Save",{hash:{},data:t}))}),a),fn:this.program(1,(function(e,t){return c(i(n(76273)).call(e,"Sync",{hash:{},data:t}))}),a),data:a}))||0===o)&&(l+=o),l+"</span> </button> </div> </form> "}))},24740:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,s){var a;return this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{},""+'<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon download"></i> '+(0,this.escapeExpression)((a=n(76273),a&&(a.__esModule?a.default:a)).call(t,"Sync",{hash:{},data:s}))+'</h4> </div> <div class="modal-body-region"></div> </div> </div> '}))},98915:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o="",l=this.escapeExpression;return o+'<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-success-icon"><i class="glyphicon ok-2"></i></p> </div> <div class="col-sm-8"> <h4>'+l(i(n(76273)).call(t,"This media is being synced.",{hash:{},data:a}))+"</h4> <h4>"+l(i(n(76273)).call(t,"Watch the status of the sync {1}here{2}.",'<a class="status-link" href="#">',"</a>",{hash:{},data:a}))+"</h4> </div> </div> "}))},30290:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="modal-dialog"> <div class="modal-alert"></div> <div class="modal-content"></div> </div> '}))},49883:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var a,o,l="",c=this,d=this.escapeExpression;return((a=r.if.call(t,t&&t.disabled,{hash:{},inverse:c.program(3,(function(e,t){return' <a class="user-select-container" href="#"> '}),s),fn:c.program(1,(function(e,t){return' <div class="user-select-container"> '}),s),data:s}))||0===a)&&(l+=a),l+=' <div class="user-select-top"> <div class="user-poster img-circle"> <span class="add-icon">',((a="function"==typeof(a=t&&t.iconAdd)?a.apply(t):a)||0===a)&&(l+=a),l+='</span> </div> </div> <div class="caption"> <div class="username">'+d((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,"Add User…",{hash:{},data:s}))+"</div> </div> ",((a=r.if.call(t,t&&t.disabled,{hash:{},inverse:c.program(7,(function(e,t){return" </a> "}),s),fn:c.program(5,(function(e,t){return" </div> "}),s),data:s}))||0===a)&&(l+=a),l+" "}))},20367:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,a="";return(a+='<span class="message">')+((0,this.escapeExpression)((s=n.message)||"function"==typeof(s=t&&t.message)?s.call(t,{hash:{},data:i}):s)+"</span> ")}))},91159:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return""+" "+c(i(n(76273)).call(e,"Confirm Current PIN",{hash:{},data:t}))+" "}function p(e,t){var n;return(n=r.if.call(e,e&&e.isOpeningAddManagedUser,{hash:{},inverse:d.program(11,h,t),fn:d.program(9,m,t),data:t}))||0===n?n:""}function m(e,t){return""+" "+c(i(n(76273)).call(e,"Enter Admin PIN",{hash:{},data:t}))+" "}function h(e,t){return""+" "+c(i(n(76273)).call(e,"Enter PIN",{hash:{},data:t}))+" "}function g(e,t){return""+' <button type="button" class="remove-btn btn-gray pull-left">'+c(i(n(76273)).call(e,"Remove",{hash:{},data:t}))+"</button> "}function y(e,t){return""+' <button type="button" class="skip-btn btn-gray" data-dismiss="modal">'+c(i(n(76273)).call(e,"Skip",{hash:{},data:t}))+"</button> "}function v(e,t){return""+' <button type="button" class="cancel-btn btn-gray" data-dismiss="modal">'+c(i(n(76273)).call(e,"Cancel",{hash:{},data:t}))+"</button> "}return l+='<div class="modal-header"> <div class="home-user-dropdown-container pull-right"></div> <h4 class="modal-title"> ',((o=r.if.call(t,t&&t.showBackButton,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return' <a class="back-btn btn-gray" href="#"><i class="glyphicon chevron-left"></i></a> '}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,t&&t.isEditing,{hash:{},inverse:d.program(5,(function(e,t){var n;return(n=r.if.call(e,e&&e.isEditConfirmation,{hash:{},inverse:d.program(8,p,t),fn:d.program(6,u,t),data:t}))||0===n?n:""}),a),fn:d.program(3,(function(e,t){return""+' <i class="modal-icon glyphicon pencil"></i> '+c(i(n(76273)).call(e,"Edit PIN",{hash:{},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+=' <span class="loading loading-sm hidden"></span> </h4> </div> <form id="pin-form"> <div class="modal-body"> <ul class="tile-list user-select-list disabled"></ul> <input type="number" pattern="[0-9]*" class="pin-input"> <a class="pin-forgot-link btn-gray hidden" href="https://www.plex.tv/pin-reset/" target="_blank">'+c(i(n(76273)).call(t,"Forgot?",{hash:{},data:a}))+'</a> <div class="pin-digit-container" aria-hidden="true"> <div class="pin-digit"></div> <div class="pin-digit"></div> <div class="pin-digit"></div> <div class="pin-digit"></div> </div> ',((o=r.if.call(t,t&&t.isEditWarning,{hash:{},inverse:d.noop,fn:d.program(13,(function(e,t){return""+' <p class="help-block"> '+c(i(n(76273)).call(e,"You do not currently have a PIN. This will allow any users in this home to switch to your account.",{hash:{},data:t}))+" </p> "}),a),data:a}))||0===o)&&(l+=o),l+=" </div> ",((o=r.if.call(t,t&&t.isEditing,{hash:{},inverse:d.noop,fn:d.program(15,(function(e,t){var s,a="";return a+=' <div class="modal-footer"> ',((s=r.if.call(e,e&&e.hasCurrentPIN,{hash:{},inverse:d.noop,fn:d.program(16,g,t),data:t}))||0===s)&&(a+=s),a+=" ",((s=r.if.call(e,e&&e.isEditWarning,{hash:{},inverse:d.program(20,v,t),fn:d.program(18,y,t),data:t}))||0===s)&&(a+=s),a+' <button type="submit" class="save-btn btn-link">'+c(i(n(76273)).call(e,"Save",{hash:{},data:t}))+"</button> </div> "}),a),data:a}))||0===o)&&(l+=o),l+" </form> "}))},74237:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],i=i||{};var s,a="",o=this;return((s=(n=this.merge(n,e.helpers)).if.call(t,t&&t.disabled,{hash:{},inverse:o.program(3,(function(e,t){return' <a class="user-select-container" href="#"> '}),i),fn:o.program(1,(function(e,t){return' <div class="user-select-container"> '}),i),data:i}))||0===s)&&(a+=s),a+=' <div class="user-select-top"> <div class="user-poster img-circle"></div> <i class="protected-icon user-icon glyphicon lock"></i> <i class="admin-icon user-icon glyphicon crown"></i> </div> <div class="caption"> <div class="username"></div> <div class="managed-title"></div> </div> ',((s=n.if.call(t,t&&t.disabled,{hash:{},inverse:o.program(7,(function(e,t){return" </a> "}),i),fn:o.program(5,(function(e,t){return" </div> "}),i),data:i}))||0===s)&&(a+=s),a+" "}))},99590:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,s){var a;return this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{},""+'<div class="modal-header"> <h4 class="modal-title"> '+(0,this.escapeExpression)((a=n(76273),a&&(a.__esModule?a.default:a)).call(t,"Select User",{hash:{},data:s}))+' <span class="loading loading-sm"></span> </h4> </div> <div class="modal-body"></div> '}))},10371:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var a,o,l="",c="function",d=this.escapeExpression;return l+='<div class="form-group" data-attr="'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'"> <label for="text-'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'" class="control-label">'+d((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,t&&t.label,{hash:{},data:s}))+'<span class="control-error"></span></label> <div class="input-group selectize-group"> <input type="text" id="text-'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'" class="form-control text-field" name="'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'" placeholder="'+d(typeof(a=t&&t.placeholder)===c?a.apply(t):a)+'" data-rating-key="'+d(typeof(a=t&&t.ratingKey)===c?a.apply(t):a)+'" data-title="'+d(typeof(a=t&&t.title)===c?a.apply(t):a)+'" ',((a=r.if.call(t,t&&t.scopeToAttr,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n;return""+'data-scope-to-attr="'+d(typeof(n=e&&e.scopeToAttr)===c?n.apply(e):n)+'" data-scope-to-param="'+d(typeof(n=e&&e.scopeToParam)===c?n.apply(e):n)+'"'}),s),data:s}))||0===a)&&(l+=a),l+"> </div> </div> "}))},30320:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return""+' <h4 class="server-connect-error-header">'+c(i(n(76273)).call(e,"Problem Connecting to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(i(n(76273)).call(e,"Your server was unable to reach Plex. Please ensure that the computer or device running your server can access the internet.",{hash:{},data:t}))+"</p> "}function p(e,t){return""+' <h4 class="server-connect-error-header">'+c(i(n(76273)).call(e,"Signed in to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(i(n(76273)).call(e,"You have successfully signed your server in to Plex, but we were unable to reach it from outside your network.",{hash:{},data:t}))+"</p> "}return((o=i(n(78356)).call(t,t&&t.mappingError,"badauth",{hash:{},inverse:d.program(3,(function(e,t){var r,s="";return((r=i(n(78356)).call(e,e&&e.mappingError,"myplexgone",{hash:{},inverse:d.program(6,p,t),fn:d.program(4,u,t),data:t}))||0===r)&&(s+=r),s+" "}),a),fn:d.program(1,(function(e,t){return""+' <h4 class="server-connect-error-header">'+c(i(n(76273)).call(e,"Problem Connecting to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(i(n(76273)).call(e,"Plex was unable to authenticate your server. Please sign your server out and try again.",{hash:{},data:t}))+"</p> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=i(n(84772)).call(t,t&&t.context,"settings",{hash:{},inverse:d.noop,fn:d.program(8,(function(e,t){return""+' <p class="text-muted">'+c(i(n(76273)).call(e,"If you skip this step you will not be able to share or stream media outside your home. If you change your mind later, you can adjust this in Settings.",{hash:{},data:t}))+"</p> "}),a),data:a}))||0===o)&&(l+=o),l+' <p class="text-muted">'+c(i(n(76273)).call(t,"If you would like to enable this now, you will need to configure your router or firewall to allow Plex to contact your server. Please refer to our {1}Connecting a Server{2} article for more information.",'<a href="http://support.plex.tv/hc/en-us/articles/200484543-Connecting-a-Server/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:a}))+"</p> "}))},2397:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var a,o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){return"disabled"}return l+='<div class="form-group"> <label for="lockable-'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'">'+d((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,t&&t.label,{hash:{},data:s}))+'</label> <div class="input-group"> <a href="#" data-field="'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'" class="input-group-addon edit-lock-addon ',((a=r.if.call(t,t&&t.locked,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"locked"}),s),data:s}))||0===a)&&(l+=a),l+=" ",((a=r.if.call(t,t&&t.disabled,{hash:{},inverse:u.noop,fn:u.program(3,p,s),data:s}))||0===a)&&(l+=a),l+='" tabindex="-1"><i class="glyphicon lock"></i></a> <input type="number" id="lockable-'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'" class="form-control lockable-field" name="'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'" value="'+d(typeof(a=t&&t.value)===c?a.apply(t):a)+'" placeholder="'+d(typeof(a=t&&t.placeholder)===c?a.apply(t):a)+'" ',((a=r.if.call(t,t&&t.disabled,{hash:{},inverse:u.noop,fn:u.program(3,p,s),data:s}))||0===a)&&(l+=a),l+"> </div> </div> "}))},14118:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{};var a,o,l="",c="function",d=this.escapeExpression,u=this;return l+='<div class="form-group"> <label for="lockable-'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'">'+d((o=n(76273),o&&(o.__esModule?o.default:o)).call(t,t&&t.label,{hash:{},data:s}))+'</label> <div class="input-group selectize-group"> <a href="#" data-field="'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'" class="input-group-addon edit-lock-addon',((a=r.if.call(t,t&&t.locked,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return" locked"}),s),data:s}))||0===a)&&(l+=a),l+='"><i class="glyphicon lock"></i></a> <input type="text" id="lockable-'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'" class="form-control lockable-field tag-input-hidden" data-name="'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'" data-attr="'+d(typeof(a=t&&t.attribute)===c?a.apply(t):a)+'" data-only-delete="'+d(typeof(a=t&&t.onlyDelete)===c?a.apply(t):a)+'" ',((a=r.if.call(t,t&&t.query,{hash:{},inverse:u.noop,fn:u.program(3,(function(e,t){var n;return""+'data-query="'+d(typeof(n=e&&e.query)===c?n.apply(e):n)+'"'}),s),data:s}))||0===a)&&(l+=a),l+"> </div> </div> "}))},71743:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){var n;return""+' rows="'+d(typeof(n=e&&e.rows)===c?n.apply(e):n)+'"'}function m(e,t){var n;return""+'data-scope-to-attr="'+d(typeof(n=e&&e.scopeToAttr)===c?n.apply(e):n)+'" data-scope-to-param="'+d(typeof(n=e&&e.scopeToParam)===c?n.apply(e):n)+'"'}function h(e,t){var n;return""+'data-rating-key="'+d(typeof(n=e&&e.ratingKey)===c?n.apply(e):n)+'"'}return l+='<div class="form-group selectize-group" data-attr="'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'"> <label for="lockable-'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'">'+d(i(n(76273)).call(t,t&&t.label,{hash:{},data:a}))+'</label> <div class="input-group"> <a href="#" data-field="'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'" class="input-group-addon edit-lock-addon',((o=r.if.call(t,t&&t.locked,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return" locked"}),a),data:a}))||0===o)&&(l+=o),l+='" tabindex="-1"><i class="glyphicon lock"></i></a> ',((o=i(n(78356)).call(t,t&&t.type,"textarea",{hash:{},inverse:u.program(6,(function(e,t){var n,i="";return i+=' <input type="text" id="lockable-'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" class="form-control lockable-field" name="'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" value="'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+'" placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'" ',((n=r.if.call(e,e&&e.scopeToAttr,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===n)&&(i+=n),i+=" ",((n=r.if.call(e,e&&e.ratingKey,{hash:{},inverse:u.noop,fn:u.program(9,h,t),data:t}))||0===n)&&(i+=n),i+"> "}),a),fn:u.program(3,(function(e,t){var n,i="";return i+=' <textarea class="form-control lockable-field" id="lockable-'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" name="'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'"',((n=r.if.call(e,e&&e.rows,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===n)&&(i+=n),i+' placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'">'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+"</textarea> "}),a),data:a}))||0===o)&&(l+=o),l+" </div> </div> "}))},28792:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){return"checked"}function m(e,t){var n;return""+' <p class="help-block">'+d(typeof(n=e&&e.summary)===c?n.apply(e):n)+"</p> "}function h(e,t){var n,i="";return i+=' <select id="input_'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+d(typeof(n=e&&e.idSuffix)===c?n.apply(e):n)+'" name="'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+'"> ',((n=r.each.call(e,e&&e.enumValues,{hash:{},inverse:u.noop,fn:u.programWithDepth(10,g,t,e),data:t}))||0===n)&&(i+=n),i+" </select> "}function g(e,t,r){var s,a="";return a+=' <option value="'+d(typeof(s=e&&e.value)===c?s.apply(e):s)+'" ',((s=i(n(78356)).call(e,e&&e.value,r&&r.value,{hash:{},inverse:u.noop,fn:u.program(11,y,t),data:t}))||0===s)&&(a+=s),a+">"+d(typeof(s=e&&e.label)===c?s.apply(e):s)+"</option> "}function y(e,t){return'selected="selected"'}function v(e,t){var s,a="";return a+=' <input type="',((s=i(n(78356)).call(e,e&&e.option,"hidden",{hash:{},inverse:u.program(16,b,t),fn:u.program(14,f,t),data:t}))||0===s)&&(a+=s),a+='" id="input_'+d(typeof(s=e&&e.id)===c?s.apply(e):s)+d(typeof(s=e&&e.idSuffix)===c?s.apply(e):s)+'" class="form-control" name="'+d(typeof(s=e&&e.id)===c?s.apply(e):s)+'" value="'+d(typeof(s=e&&e.value)===c?s.apply(e):s)+'" ',((s=r.if.call(e,e&&e.placeholder,{hash:{},inverse:u.noop,fn:u.program(18,S,t),data:t}))||0===s)&&(a+=s),a+"> "}function f(e,t){return"password"}function b(e,t){return"text"}function S(e,t){var n;return""+'placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'"'}return l+='<div class="form-group ',((o=r.if.call(t,t&&t.advanced,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"advanced-setting"}),a),data:a}))||0===o)&&(l+=o),l+='"> ',((o=i(n(78356)).call(t,t&&t.type,"bool",{hash:{},inverse:u.program(8,(function(e,t){var n,i="";return i+=' <label class="control-label" for="input_'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+d(typeof(n=e&&e.idSuffix)===c?n.apply(e):n)+'">'+d(typeof(n=e&&e.label)===c?n.apply(e):n)+"</label> ",((n=r.if.call(e,e&&e.enumValues,{hash:{},inverse:u.program(13,v,t),fn:u.program(9,h,t),data:t}))||0===n)&&(i+=n),i+=" ",((n=r.if.call(e,e&&e.summary,{hash:{},inverse:u.noop,fn:u.program(6,m,t),data:t}))||0===n)&&(i+=n),i+" "}),a),fn:u.program(3,(function(e,t){var n,i="";return i+=' <label class="control-label" for="input_'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+d(typeof(n=e&&e.idSuffix)===c?n.apply(e):n)+'"> <input type="checkbox" id="input_'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+d(typeof(n=e&&e.idSuffix)===c?n.apply(e):n)+'" name="'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+'" value="1" ',((n=r.if.call(e,e&&e.value,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===n)&&(i+=n),i+="> "+d(typeof(n=e&&e.label)===c?n.apply(e):n)+" </label> ",((n=r.if.call(e,e&&e.summary,{hash:{},inverse:u.noop,fn:u.program(6,m,t),data:t}))||0===n)&&(i+=n),i+" "}),a),data:a}))||0===o)&&(l+=o),l+" </div> "}))},45768:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){var n;return""+' rows="'+d(typeof(n=e&&e.rows)===c?n.apply(e):n)+'"'}function m(e,t){var n;return""+'data-exclude-param="'+d(typeof(n=e&&e.excludeParam)===c?n.apply(e):n)+'" data-exclude-value="'+d(typeof(n=e&&e.excludeValue)===c?n.apply(e):n)+'"'}return l+='<div class="form-group"> <label for="text-'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'">'+d(i(n(76273)).call(t,t&&t.label,{hash:{},data:a}))+"</label> ",((o=i(n(78356)).call(t,t&&t.type,"textarea",{hash:{},inverse:u.program(4,(function(e,t){var n,i="";return i+=' <input type="text" id="text-'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" class="form-control text-field" name="'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" value="'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+'" placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'" ',((n=r.if.call(e,e&&e.excludeParam,{hash:{},inverse:u.noop,fn:u.program(5,m,t),data:t}))||0===n)&&(i+=n),i+"> "}),a),fn:u.program(1,(function(e,t){var n,i="";return i+=' <textarea class="form-control text-field" id="text-'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" name="'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'"',((n=r.if.call(e,e&&e.rows,{hash:{},inverse:u.noop,fn:u.program(2,p,t),data:t}))||0===n)&&(i+=n),i+' placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'">'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+"</textarea> "}),a),data:a}))||0===o)&&(l+=o),l+" </div> "}))},33207:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="player-slider-track"> <div class="player-slider-progress"></div> </div> <div class="player-slider-thumb"></div> '}))},62288:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+'<form class="edit-section-advanced-form settings-container"> <div class="language-group"> <input type="hidden" name="language" value="'+c("function"==typeof(o=null==(o=t&&t.section)||!1===o?o:o.language)?o.apply(t):o)+'"> </div> <div class="row"> <div class="col-md-12"> <div class="form-group scanner-group hidden"> <label for="edit-section-scanner" class="control-label"> '+c(i(n(76273)).call(t,"Scanner",{hash:{},data:a}))+' <span class="control-error">'+c(i(n(76273)).call(t,"A scanner is required.",{hash:{},data:a}))+'</span> </label> <select id="edit-section-scanner" name="scanner"></select> </div> </div> </div> <div class="row"> <div class="col-md-12"> <div class="form-group agent-group hidden"> <label for="edit-section-agent" class="control-label"> '+c(i(n(76273)).call(t,"Agent",{hash:{},data:a}))+' <span class="control-error">'+c(i(n(76273)).call(t,"An agent is required.",{hash:{},data:a}))+'</span> </label> <select id="edit-section-agent" name="agent"></select> </div> </div> </div> <div class="row"> <div class="col-md-12 section-agent-settings-region"></div> </div> <div class="row"> <div class="col-md-12 section-settings-region"></div> </div> </form> '}))},81185:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return"hidden"}function p(e,t){return"checked"}function m(e,t){return"disabled"}return l+='<form class="edit-section-folders-form settings-container"> <div id="arcade-upsell" class="',((o=r.if.call(t,t&&t.hideArcadeUpsell,{hash:{},inverse:c.noop,fn:c.program(1,u,a),data:a}))||0===o)&&(l+=o),l+='"> <p>'+d(i(n(76273)).call(t,"Introducing retro gaming in Plex, brought to you by Plex Labs!",{hash:{},data:a}))+'</p> <p class="help-block">'+d(i(n(76273)).call(t,"With a Plex Arcade subscription, you can play and stream many of your favorite retro games on Google Chrome, Microsoft Edge, Android, iOS or Apple TV devices! Try it for free for 7 days!",{hash:{},data:a}))+'</p> <p class="button-container"> <a type="button" href='+d("function"==typeof(o=t&&t.subscribeURL)?o.apply(t):o)+' target="_blank" class="subscribe-btn btn btn-primary">'+d(i(n(76273)).call(t,"Subscribe Now",{hash:{},data:a}))+'</a> </p> </div> <p id="arcade-required" class="',((o=r.if.call(t,t&&t.hideArcadeRequired,{hash:{},inverse:c.noop,fn:c.program(1,u,a),data:a}))||0===o)&&(l+=o),l+='">'+d(i(n(76273)).call(t,"Sorry, a {1}Plex Arcade subscription{2} is required to create a new Games library.",'<a href="https://www.plex.tv/subscription" target="_blank">',"</a>",{hash:{},data:a}))+'</p> <p id="arcade-greeting" class="',((o=r.if.call(t,t&&t.hideArcadeGreeting,{hash:{},inverse:c.noop,fn:c.program(1,u,a),data:a}))||0===o)&&(l+=o),l+='">'+d(i(n(76273)).call(t,"Thanks! You've got an active {1}Plex Arcade subscription{2}.",'<a href="https://www.plex.tv/subscription" target="_blank">',"</a>",{hash:{},data:a}))+'</p> <p id="parsec-required" class="',((o=r.if.call(t,t&&t.hideParsecRequired,{hash:{},inverse:c.noop,fn:c.program(1,u,a),data:a}))||0===o)&&(l+=o),l+='">'+d(i(n(76273)).call(t,"Playing games requires that you {1}create a Parsec account{2}, respond to their email confirmation, and then {3}link your Parsec account{4}.",'<a href="https://parsec.app" target="_blank">',"</a>",'<a href="https://plex.tv/users/other-services" target="_blank">',"</a>",{hash:{},data:a}))+"</p> ",((o=r.if.call(t,t&&t.isNewGamesSection,{hash:{},inverse:c.noop,fn:c.program(3,(function(e,t){var s,a="";return a+=' <div class="download-media-container"> <label> <input id="arcade-download-media" type="checkbox" name="downloadMedia" ',((s=r.if.call(e,null==(s=e&&e.section)||!1===s?s:s.downloadMedia,{hash:{},inverse:c.noop,fn:c.program(4,p,t),data:t}))||0===s)&&(a+=s),a+=" ",((s=r.if.call(e,e&&e.isDisabled,{hash:{},inverse:c.noop,fn:c.program(6,m,t),data:t}))||0===s)&&(a+=s),a+"/>"+d(i(n(76273)).call(e,"Include dozens of classic games from Atari like Asteroids, Centipede, Missile Command and more!",{hash:{},data:t}))+" </label> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=" <p>"+d(i(n(76273)).call(t,"Add folders to your library",{hash:{},data:a}))+'</p> <div class="form-group Location-group"> <div class="paths-region"></div> <p class="button-container"> <button type="button" class="add-folder-btn btn btn-icon-label btn-default" ',((o=r.if.call(t,t&&t.isDisabled,{hash:{},inverse:c.noop,fn:c.program(6,m,a),data:a}))||0===o)&&(l+=o),l+="> ",((o=r.if.call(t,t&&t.isGamesSection,{hash:{},inverse:c.noop,fn:c.program(8,(function(e,t){return""+' <i class="glyphicon folder-plus"></i> '+d(i(n(76273)).call(e,"Browse for games folder",{hash:{},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=r.unless.call(t,t&&t.isGamesSection,{hash:{},inverse:c.noop,fn:c.program(10,(function(e,t){return""+' <i class="glyphicon folder-plus"></i> '+d(i(n(76273)).call(e,"Browse for media folder",{hash:{},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+=' </button> </p> <p class="control-error">'+d(i(n(76273)).call(t,"At least one folder is required.",{hash:{},data:a}))+"</p> </div> ",((o=r.if.call(t,t&&t.isGamesSection,{hash:{},inverse:c.noop,fn:c.program(12,(function(e,t){return""+' <p class="help-block">'+d(i(n(76273)).call(e,"Help us out by following {1}our guide{2} to naming and organizing your games.",'<a href="https://support.plex.tv/articles/naming-and-organizing-game-files-and-cores/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+'</p> <p class="help-block">'+d(i(n(76273)).call(e,"Looking for more information? Check out our {1}Plex Arcade support articles{2}.",'<a href="https://support.plex.tv/articles/categories/features/arcade/" target="_blank">',"</a>",{hash:{},data:t}))+"</p> "}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=r.unless.call(t,t&&t.isGamesSection,{hash:{},inverse:c.noop,fn:c.program(14,(function(e,t){return""+' <p class="help-block">'+d(i(n(76273)).call(e,"Help us out by following {1}our guide{2} to naming and organizing your media.",'<a href="https://support.plex.tv/articles/naming-and-organizing-your-movie-media-files/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</p> "}),a),data:a}))||0===o)&&(l+=o),l+" </form> "}))},79931:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,a="";return(a+='<div class="col-md-12"> <div class="form-group path-group"> <input type="text" name="path" class="form-control" value="')+((0,this.escapeExpression)((s=n.path)||"function"==typeof(s=t&&t.path)?s.call(t,{hash:{},data:i}):s)+'"> <div class="path-actions"> <a href="#" class="remove-path-btn btn-link btn-gray"><i class="glyphicon remove-2"></i></a> </div> </div> </div> ')}))},27749:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;return l+='<div class="choose-library use-premium-library" data-agent="com.plexapp.agents.plexmusic" data-scanner="Plex Premium Music Scanner"> <div class="row"> <div class="col-xs-12"> <div class="row use-library-header"> <div class="col-xs-12"> <input type="radio"> <span class="header-text"> '+c(i(n(76273)).call(t,"Create a premium Plex music library!",{hash:{},data:a}))+' </span> </div> </div> <div class="row use-premium-library-body"> <div class="col-xs-8"> <ul> <li>'+c(i(n(76273)).call(t,"Access to the best artwork, artist bios, album reviews, and more",{hash:{},data:a}))+"</li> <li>"+c(i(n(76273)).call(t,"Smart mixes based on track or mood",{hash:{},data:a}))+"</li> <li>"+c(i(n(76273)).call(t,"Improved music recognition and matching",{hash:{},data:a}))+"</li> </ul> ",((o=r.unless.call(t,t&&t.hasPremiumMusic,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return""+' <p class="help-block"> '+c(i(n(76273)).call(e,"Note: An active Plex Pass is required for this service. Don't have a Plex Pass? {1}Subscribe here{2}",'<a href="{3}" target="_blank">',"</a>",e&&e.plexPassUrl,{hash:{},data:t}))+" </p> "}),a),data:a}))||0===o)&&(l+=o),l+=' </div> <div class="col-xs-4 vendor-logos"> ',((o=r.if.call(t,t&&t.hasLyrics,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return'<div class="vendor-logo vendor-logo-lyricfind"></div>'}),a),data:a}))||0===o)&&(l+=o),l+' <div class="vendor-logo vendor-logo-gracenote"></div> <div class="vendor-logo vendor-logo-plex-pass"></div> </div> </div> </div> </div> </div> <div class="choose-library use-basic-library"> <div class="row use-library-header"> <div class="col-xs-12"> <input type="radio"> '+c(i(n(76273)).call(t,"Create a basic music library",{hash:{},data:a}))+" </div> </div> </div> "}))},68799:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var r,s="";return s+=" ",((r=i(n(78356)).call(e,e&&e.id,"enableBIFGeneration",{hash:{},inverse:d.noop,fn:d.program(3,p,t),data:t}))||0===r)&&(s+=r),s+" "}function p(e,t){return""+' <div class="form-group"> <button type="button" class="delete-thumbnails-btn btn btn-sm btn-danger">'+c(i(n(76273)).call(e,"Delete Preview Thumbnails",{hash:{},data:t}))+"</button> </div> "}return((o=r.each.call(t,t&&t.settings,{hash:{},inverse:d.noop,fn:d.programWithDepth(1,(function(e,t,s){var a,o="";return o+=" "+c(i(n(46178)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" ",((a=r.if.call(e,s&&s.edit,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===a)&&(o+=a),o+" "}),a,t),data:a}))||0===o)&&(l+=o),l+" "}))},458:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d=this,u="function";function p(e,t){return"selectable"}function m(e,t){return"selected"}return l+='<form class="edit-section-type-form settings-container ',((o=r.if.call(t,null==(o=t&&t.section)||!1===o?o:o.type,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"section-type-chosen"}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=r.unless.call(t,t&&t.isInitialTypeSupported,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return"is-type-unsupported"}),a),data:a}))||0===o)&&(l+=o),l+='"> ',((o=r.if.call(t,t&&t.add,{hash:{},inverse:d.program(7,(function(e,t){return""+" <label>"+c(i(n(76273)).call(e,"Library type",{hash:{},data:t}))+"</label> "}),a),fn:d.program(5,(function(e,t){return""+' <p class="prompt">'+c(i(n(76273)).call(e,"Select your library type",{hash:{},data:t}))+"</p> "}),a),data:a}))||0===o)&&(l+=o),l+=' <div class="wizard-blocks-group form-group type-group"> ',((o=r.each.call(t,t&&t.sectionTypes,{hash:{},inverse:d.noop,fn:d.programWithDepth(9,(function(e,t,s){var a,o="";return o+='<a class="wizard-block section-type ',((a=r.if.call(e,s&&s.canChangeType,{hash:{},inverse:d.noop,fn:d.program(10,p,t),data:t}))||0===a)&&(o+=a),o+=" ",((a=i(n(78356)).call(e,s&&s.currentSectionKey,e&&e.key,{hash:{},inverse:d.noop,fn:d.program(12,m,t),data:t}))||0===a)&&(o+=a),o+='" data-key="'+c(typeof(a=e&&e.key)===u?a.apply(e):a)+'" href="#">',((a=typeof(a=e&&e.typeIcon)===u?a.apply(e):a)||0===a)&&(o+=a),o+" "+c(typeof(a=e&&e.title)===u?a.apply(e):a)+"</a>"}),a,t),data:a}))||0===o)&&(l+=o),l+=' <label class="control-label"> <span class="control-error">'+c(i(n(76273)).call(t,"You must select a media type.",{hash:{},data:a}))+'</span> </label> </div> <div class="visible-once-section-type-chosen"> ',((o=r.if.call(t,t&&t.hasType,{hash:{},inverse:d.noop,fn:d.program(14,(function(e,t){return""+' <div class="row"> <div class="col-xs-12"> <p class="prompt">'+c(i(n(76273)).call(e,"Name your library and choose language.",{hash:{},data:t}))+"</p> </div> </div> "}),a),data:a}))||0===o)&&(l+=o),l+=' <div class="row section-type-unsupported"> <div class="col-md-7"> <label>'+c(i(n(76273)).call(t,"Sorry, this library type is unsupported by this server.",{hash:{},data:a}))+'</label> </div> </div> <div class="row section-type-supported"> <div class="col-md-7"> <div class="form-group title-group"> <div> <label for="edit-section-title" class="control-label"> '+c(i(n(76273)).call(t,"Name",{hash:{},data:a}))+' <span class="control-error">'+c(i(n(76273)).call(t,"A library name is required.",{hash:{},data:a}))+'</span> </label> </div> <input type="text" id="edit-section-title" name="title" class="form-control" value="'+c(typeof(o=null==(o=t&&t.section)||!1===o?o:o.title)===u?o.apply(t):o)+'"> </div> </div> <div class="col-md-5"> <div class="form-group language-group"> <div> <label for="edit-section-language" class="control-label"> '+c(i(n(76273)).call(t,"Language",{hash:{},data:a}))+' <span class="control-error">'+c(i(n(76273)).call(t,"A language is required.",{hash:{},data:a}))+'</span> </label> </div> <select id="edit-section-language" name="language"></select> </div> </div> </div> <div class="row section-type-supported"> <div class="col-md-12"> <span class="text-muted"> ',((o=r.if.call(t,t&&t.updatedAt,{hash:{},inverse:d.noop,fn:d.program(16,(function(e,t){return""+" "+c(i(n(76273)).call(e,"Last updated {1}",e&&e.escapedUpdatedAt,{hash:{},data:t}))+" "}),a),data:a}))||0===o)&&(l+=o),l+" </span> </div> </div> </div> </form> "}))},93470:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){return"selected"}function m(e,t){return""+' <option value="">'+d(i(n(76273)).call(e,"Loading...",{hash:{},data:t}))+"</option> "}return l+='<div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-title">'+d(i(n(76273)).call(t,"Artist",{hash:{},data:a}))+'</label> <input type="text" id="match-search-parentTitle" name="parentTitle" class="form-control" value="'+d(typeof(o=null==(o=t&&t.item)||!1===o?o:o.parentTitle)===c?o.apply(t):o)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-agent">'+d(i(n(76273)).call(t,"Agent",{hash:{},data:a}))+'</label> <select id="match-search-agent" name="agent"> ',((o=r.each.call(t,t&&t.agents,{hash:{},inverse:u.program(4,m,a),fn:u.program(1,(function(e,t){var n,i="";return i+=' <option value="'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+'" ',((n=r.if.call(e,e&&e.selected,{hash:{},inverse:u.noop,fn:u.program(2,p,t),data:t}))||0===n)&&(i+=n),i+">"+d(typeof(n=e&&e.label)===c?n.apply(e):n)+"</option> "}),a),data:a}))||0===o)&&(l+=o),l+=' </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-title">'+d(i(n(76273)).call(t,"Album",{hash:{},data:a}))+'</label> <input type="text" id="match-search-title" name="title" class="form-control" value="'+d(typeof(o=null==(o=t&&t.item)||!1===o?o:o.title)===c?o.apply(t):o)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-language">'+d(i(n(76273)).call(t,"Language",{hash:{},data:a}))+'</label> <select id="match-search-language" name="language"> ',((o=r.each.call(t,t&&t.languages,{hash:{},inverse:u.program(4,m,a),fn:u.program(6,(function(e,t){var n;return""+' <option value="'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+'">'+d(typeof(n=e&&e.label)===c?n.apply(e):n)+"</option> "}),a),data:a}))||0===o)&&(l+=o),l+' </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-year">'+d(i(n(76273)).call(t,"Year",{hash:{},data:a}))+'</label> <input type="text" id="match-search-year" name="year" class="form-control" value="'+d(typeof(o=null==(o=t&&t.item)||!1===o?o:o.year)===c?o.apply(t):o)+'"> </div> </div> </div> '}))},36e3:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){return"selected"}function m(e,t){return""+' <option value="">'+d(i(n(76273)).call(e,"Loading...",{hash:{},data:t}))+"</option> "}return l+='<div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-title">'+d(i(n(76273)).call(t,"Title",{hash:{},data:a}))+'</label> <input type="text" id="match-search-title" name="title" class="form-control" value="'+d(typeof(o=null==(o=t&&t.item)||!1===o?o:o.title)===c?o.apply(t):o)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-agent">'+d(i(n(76273)).call(t,"Agent",{hash:{},data:a}))+'</label> <select id="match-search-agent" name="agent"> ',((o=r.each.call(t,t&&t.agents,{hash:{},inverse:u.program(4,m,a),fn:u.program(1,(function(e,t){var n,i="";return i+=' <option value="'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+'" ',((n=r.if.call(e,e&&e.selected,{hash:{},inverse:u.noop,fn:u.program(2,p,t),data:t}))||0===n)&&(i+=n),i+">"+d(typeof(n=e&&e.label)===c?n.apply(e):n)+"</option> "}),a),data:a}))||0===o)&&(l+=o),l+=' </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-year">'+d(i(n(76273)).call(t,"Year",{hash:{},data:a}))+'</label> <input type="text" id="match-search-year" name="year" class="form-control" value="'+d(typeof(o=null==(o=t&&t.item)||!1===o?o:o.year)===c?o.apply(t):o)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-language">'+d(i(n(76273)).call(t,"Language",{hash:{},data:a}))+'</label> <select id="match-search-language" name="language"> ',((o=r.each.call(t,t&&t.languages,{hash:{},inverse:u.program(4,m,a),fn:u.program(6,(function(e,t){var n;return""+' <option value="'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+'">'+d(typeof(n=e&&e.label)===c?n.apply(e):n)+"</option> "}),a),data:a}))||0===o)&&(l+=o),l+" </select> </div> </div> </div> "}))},77410:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="result-region"> <div class="loading loading-inline"></div> </div> '}))},40856:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){var n;return d(typeof(n=null==(n=e&&e.friendlyNameSetting)||!1===n?n:n.value)===c?n.apply(e):n)}function m(e,t){var n;return d(typeof(n=null==(n=e&&e.server)||!1===n?n:n.friendlyName)===c?n.apply(e):n)}return l+='<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <form id="setup-basic-form" class="settings-container"> ',((o=r.if.call(t,t&&t.friendlyNameSetting,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){var s,a="";return a+=' <div class="setup-basic-form-group form-group"> <p class="text-muted"> '+d(i(n(76273)).call(e,"Give your server a friendly name to help identify it in Plex apps and on your network.",{hash:{},data:t}))+' </p> <input type="text" id="'+d(typeof(s=null==(s=e&&e.friendlyNameSetting)||!1===s?s:s.id)===c?s.apply(e):s)+'" class="form-control" value="',((s=r.if.call(e,null==(s=e&&e.friendlyNameSetting)||!1===s?s:s.value,{hash:{},inverse:u.program(4,m,t),fn:u.program(2,p,t),data:t}))||0===s)&&(a+=s),a+'" placeholder="'+d(typeof(s=null==(s=e&&e.server)||!1===s?s:s.friendlyName)===c?s.apply(e):s)+'"> </div> '}),a),data:a}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,t&&t.publishSetting,{hash:{},inverse:u.noop,fn:u.program(6,(function(e,t){var r;return""+' <div class="setup-basic-form-group form-group"> <div class="publish-checkbox checkbox"> <label for="'+d(typeof(r=null==(r=e&&e.publishSetting)||!1===r?r:r.id)===c?r.apply(e):r)+'"> <input type="checkbox" id="'+d(typeof(r=null==(r=e&&e.publishSetting)||!1===r?r:r.id)===c?r.apply(e):r)+'" checked> '+d(i(n(76273)).call(e,"Allow me to access my media outside my home",{hash:{},data:t}))+' </label> </div> <p class="text-muted"> '+d(i(n(76273)).call(e,"Plex will attempt to automatically configure your network to allow Plex apps outside your home to access Plex Media Server on this computer. Remember this computer will need to be turned on to access your media.",{hash:{},data:t}))+" </p> </div> "}),a),data:a}))||0===o)&&(l+=o),l+' <div class="setup-footer"> <button type="submit" class="submit-btn btn btn-primary btn-loading btn-lg"> <div class="loading loading-sm"></div> <span class="btn-label">'+d(i(n(76273)).call(t,"Next",{hash:{},data:a}))+'</span> </button> <button class="next-btn hidden" data-subset="setupLibrary"></button> </div> </form> </div> </div> <div class="modal-container"></div> '}))},67749:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c="function",d=this.escapeExpression,u=this;function p(e,t){return"checked"}return l+='<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <div class="setup-apps-container"> <img class="setup-apps-image" src="'+d(typeof(o=t&&t.devicesImg)===c?o.apply(t):o)+'"> <a href="https://plex.tv/downloads" target="_blank" class="btn btn-default btn-lg">'+d(i(n(76273)).call(t,"Get Plex Apps",{hash:{},data:a}))+'</a> </div> <p class="text-muted">'+d(i(n(76273)).call(t,"All set! Your Plex Media Server is working hard to find your media and make it beautiful. Grab the Plex app for all your favorite devices to get the most out of Plex and start streaming everywhere!",{hash:{},data:a}))+'</p> <form id="setup-complete-form" class="settings-container"> ',((o=r.if.call(t,t&&t.collectUsageDataSetting,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){var s,a="";return a+=' <div class="checkbox"> <label for="'+d(typeof(s=null==(s=e&&e.collectUsageDataSetting)||!1===s?s:s.id)===c?s.apply(e):s)+'"> <input type="checkbox" id="'+d(typeof(s=null==(s=e&&e.collectUsageDataSetting)||!1===s?s:s.id)===c?s.apply(e):s)+'" name="'+d(typeof(s=null==(s=e&&e.collectUsageDataSetting)||!1===s?s:s.id)===c?s.apply(e):s)+'" value="1" ',((s=r.if.call(e,null==(s=e&&e.collectUsageDataSetting)||!1===s?s:s.value,{hash:{},inverse:u.noop,fn:u.program(2,p,t),data:t}))||0===s)&&(a+=s),a+"> "+d(i(n(76273)).call(e,"Send anonymous usage data to Plex",{hash:{},data:t}))+' </label> </div> <p class="setup-complete-help text-muted"> '+d(i(n(76273)).call(e,"Help us improve everyone's Plex experience by sending anonymous usage data.",{hash:{},data:t}))+" </p> "}),a),data:a}))||0===o)&&(l+=o),l+' <div class="setup-footer setup-done-footer"> <button class="next-btn btn btn-default btn-lg" data-subset="setupLibrary">'+d(i(n(76273)).call(t,"Back",{hash:{},data:a}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading btn-lg active"> <div class="loading loading-sm"></div> <span class="btn-label">'+d(i(n(76273)).call(t,"Done",{hash:{},data:a}))+'</span> </button> <button class="done-btn btn btn-primary btn-lg hidden"></button> </div> </form> </div> </div> <div class="modal-container"></div> '}))},32747:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression;return l+='<div class="row row-padded"> <div class="col-md-8 col-md-offset-2"> ',((o=r.if.call(t,t&&t.shared,{hash:{},inverse:this.program(3,(function(e,t){return""+" <h1>"+c(i(n(76273)).call(e,"A problem has been detected with a core component of Plex Media Server.",{hash:{},data:t}))+'</h1> <h2 class="text-muted">'+c(i(n(76273)).call(e,"Please visit the {1}forums{2} and provide your logs, as described {3}here{4}.",'<a href="https://forums.plex.tv" target="_blank">',"</a>",'<a href="http://support.plex.tv/hc/en-us/articles/200250417-Log-File-Locations/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</h2> "}),a),fn:this.program(1,(function(e,t){return""+" <h1>"+c(i(n(76273)).call(e,"Setup is not allowed for shared servers.",{hash:{},data:t}))+"</h1> "}),a),data:a}))||0===o)&&(l+=o),l+" </div> </div> "}))},37648:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,l="",c=this.escapeExpression,d="function";return l+'<h2 class="setup-intro-header">'+c(i(n(76273)).call(t,"How Plex Works",{hash:{},data:a}))+"</h2> <h4>"+c(i(n(76273)).call(t,"Plex Media Server runs on the computer where you keep your media",{hash:{},data:a}))+'</h4> <img class="setup-intro-img setup-intro-computer-img" src='+c(typeof(o=t&&t.computerImg)===d?o.apply(t):o)+"> <h4>"+c(i(n(76273)).call(t,"Plex scans your media, automatically organizes it, and makes it beautiful",{hash:{},data:a}))+'</h4> <img class="setup-intro-img setup-intro-media-img" src='+c(typeof(o=t&&t.mediaImg)===d?o.apply(t):o)+"> <h4>"+c(i(n(76273)).call(t,"Play your media on any screen with your favorite Plex app",{hash:{},data:a}))+'</h4> <img class="setup-intro-img setup-intro-play-img" src='+c(typeof(o=t&&t.playImg)===d?o.apply(t):o)+'> <p> <button class="next-btn btn btn-primary btn-lg" data-subset="setupLoading">'+c(i(n(76273)).call(t,"Got it!",{hash:{},data:a}))+"</button> </p> "}))},56167:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o="",l=this.escapeExpression;return o+'<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <h4>'+l(i(n(76273)).call(t,"Organize Your Media",{hash:{},data:a}))+'</h4> <p class="text-muted">'+l(i(n(76273)).call(t,"Plex organizes your media into libraries. You can add as many libraries as you want, and you can have multiple libraries with the same type.",{hash:{},data:a}))+'</p> <p class="setup-add-section-container"> <button class="add-section-btn btn btn-default">'+l(i(n(76273)).call(t,"Add Library",{hash:{},data:a}))+'</button> </p> <div class="setup-section-list-container"></div> <div class="setup-footer"> <button class="next-btn btn btn-default btn-lg" data-subset="setupBasic">'+l(i(n(76273)).call(t,"Back",{hash:{},data:a}))+'</button> <button class="next-btn btn btn-primary btn-lg" data-subset="setupComplete">'+l(i(n(76273)).call(t,"Next",{hash:{},data:a}))+"</button> </div> </div> </div> "}))},36504:(e,t,n)=>{var r=n(40202);e.exports=(r.default||r).template((function(e,t,r,i,s){var a;return this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),s=s||{},""+'<div class="loading loading-inline"></div> <p class="loading-title">'+(0,this.escapeExpression)((a=n(76273),a&&(a.__esModule?a.default:a)).call(t,"Please wait a moment while Plex starts.",{hash:{},data:s}))+"</p> "}))},55978:(e,t,n)=>{var r=n(40202);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template((function(e,t,r,s,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o="",l=this.escapeExpression;return o+'<div class="setup-header row hidden"> <div class="col-sm-6 col-sm-offset-3"> <div class="sign-in-logo text-center"> <i class="plex-image plex-logo"></i> </div> <h2>'+l(i(n(76273)).call(t,"Server Setup",{hash:{},data:a}))+'</h2> <div class="setup-progress"> <div class="basic-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupBasic" href="#">'+l(i(n(76273)).call(t,"Name",{hash:{},data:a}))+'</a> </div> <div class="library-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupLibrary" href="#">'+l(i(n(76273)).call(t,"Media Library",{hash:{},data:a}))+'</a> </div> <div class="complete-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupComplete" href="#">'+l(i(n(76273)).call(t,"Finish",{hash:{},data:a}))+'</a> </div> </div> </div> </div> <div class="setup-container"></div> '}))},17845:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={plexIcon:"PlexIcon-plexIcon-2sd7AW"}},32080:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={modalFooter:"ModalFooter-modalFooter-1Q0cxs",button:"ModalFooter-button-3LN3ry Button-button-38SEbM Link-link-CM9nxg",splitButton:"ModalFooter-splitButton-3lSHF4 ModalFooter-button-3LN3ry Button-button-38SEbM Link-link-CM9nxg"}},24793:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={form:"AddToCuratedListModal-form-1rZb-_",input:"AddToCuratedListModal-input-3HDNke TextInput-input-2FGxDj",button:"AddToCuratedListModal-button-1-OIrW SpinnerButton-button-1CCIvZ Button-button-1q7C1V Link-link-2WGTd7",filter:"AddToCuratedListModal-filter--rH2ox TextInput-input-2FGxDj"}},716:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={page:"Page-page-8FUkWi"}},58967:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={innerEmptyPage:"InnerEmptyPage-innerEmptyPage-4wvQ0- EmptyPage-emptyPage-DjF6N1",innerEmptyPageContent:"InnerEmptyPage-innerEmptyPageContent-2cbr3y EmptyPage-content-3lx94H"}},38170:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-add-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m320 320l0 200-80 0 0-200-200 0 0-80 200 0 0-200 80 0 0 200 200 0 0 80-200 0"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},41927:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-artist-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m250 306.694l-157.846 67.947-40-69.282 258.305-192.603 77.647 134.488-78.106 33.622 0 279.134-60 0 0-253.306m88.09-226.08c7.93-10.767 18.16-20.107 30.474-27.217 47.797-27.595 109.007-11.194 136.603 36.603 27.595 47.797 11.194 109.007-36.603 136.603-12.314 7.109-25.518 11.298-38.808 12.783l-91.666-158.772"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},69756:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-ban-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"M169.704 446.864C201.322 467.804 239.237 480 280 480c110.457 0 200-89.543 200-200 0-40.763-12.195-78.678-33.136-110.296l-277.16 277.16zm-56.568-56.568l277.16-277.16C358.678 92.196 320.763 80 280 80 169.543 80 80 169.543 80 280c0 40.763 12.195 78.678 33.136 110.296zM280 560C125.36 560 0 434.64 0 280S125.36 0 280 0s280 125.36 280 280-125.36 280-280 280z"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},32448:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 129 100",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-check"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m111.162 0l17.838 17.227-79.928 82.773-49.072-52.714 18.136-16.912 31.292 33.558 61.734-63.932"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},5450:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-clips-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m360 520l-360 0 0-400 360 0 0 160 200-120 0 320-200-120 0 160"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},28670:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 1040 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-series-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m692.44 113.13c20.864-8.465 43.67-13.13 67.56-13.13 99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-23.887 0-46.693-4.663-67.56-13.13 8.427-8.706 16.197-18.05 23.22-27.921 7.981-11.218 14.995-23.12 20.937-35.54 5.493-11.483 10.07-23.405 13.662-35.616 3.45-11.718 5.996-23.7 7.615-35.808 3.366-25.18 2.733-50.894-1.896-75.872-2.033-10.968-4.835-21.794-8.381-32.37-3.723-11.11-8.266-21.937-13.577-32.378-6.233-12.253-13.523-23.967-21.757-34.975-6.107-8.164-12.733-15.939-19.823-23.264m-412.44-13.13c99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-99.34 0-180-80.65-180-180 0-99.34 80.66-180 180-180m172.44 13.13c20.864-8.465 43.67-13.13 67.56-13.13 99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-23.887 0-46.693-4.663-67.56-13.13 8.26-8.534 15.889-17.677 22.802-27.334 8.154-11.39 15.31-23.492 21.355-36.13 5.494-11.482 10.07-23.403 13.662-35.614 3.45-11.718 5.997-23.701 7.615-35.809 3.366-25.18 2.732-50.893-1.896-75.871-2.033-10.968-4.835-21.793-8.38-32.369-3.724-11.11-8.267-21.937-13.578-32.379-6.233-12.253-13.523-23.967-21.757-34.975-6.107-8.164-12.733-15.939-19.823-23.264"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},51343:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-single-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m280 100c99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-99.34 0-180-80.65-180-180 0-99.34 80.66-180 180-180"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},82223:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-folder-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m80 160l480 0-80 360-480 0 80-360m400-80l-10 39.838c-127.207-.297-430 .162-430 .162l-40 200 0-260c0-11.038 8.961-20 20-20l200 0c11.039 0 20 8.962 20 20l0 20 240 0"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},80080:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-movies-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m0 560l560 0 0-520-560 0 0 520m120-40l-60 0 0-40 60 0 0 40m380 0l-60 0 0-40 60 0 0 40m-100 0l-240 0 0-200 240 0 0 200m100-80l-60 0 0-40 60 0 0 40m-380 0l-60 0 0-40 60 0 0 40m0-80l-60 0 0-40 60 0 0 40m380 0l-60 0 0-40 60 0 0 40m-100-80l-240 0 0-200 240 0 0 200m100 0l-60 0 0-40 60 0 0 40m-380 0l-60 0 0-40 60 0 0 40m0-80l-60 0 0-40 60 0 0 40m380 0l-60 0 0-40 60 0 0 40m0-80l-60 0 0-40 60 0 0 40m-380 0l-60 0 0-40 60 0 0 40"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},47323:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-music-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m199.855 473.521c.096 1.057.145 2.131.145 3.221 0 33.115-44.808 68.962-100 80-55.192 11.039-100-6.885-100-40 0-33.115 44.808-68.961 100-80 22.504-4.501 43.282-4.186 60 .01l0-356.752 400-80 0 392c0 .52-.05 1.028-.145 1.521.096 1.057.145 2.131.145 3.221 0 33.115-44.808 68.962-100 80-55.192 11.039-100-6.885-100-40 0-33.115 44.808-68.961 100-80 22.504-4.501 43.282-4.186 60 .01l0-232.852-320 64.2 0 283.9c0 .52-.05 1.028-.145 1.521"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},61309:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-photos-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m440 120l120 0 0 400-560 0 0-400 120 0 0-80 320 0 0 80m-320 200c0 88.306 71.694 160 160 160 88.306 0 160-71.694 160-160 0-88.306-71.694-160-160-160-88.306 0-160 71.694-160 160m80 0c0 44.153 35.847 80 80 80 44.153 0 80-35.847 80-80 0-44.153-35.847-80-80-80-44.153 0-80 35.847-80 80"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},7947:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-radio-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"M67.585 105.999c13.653-12.146 29.63-2.91 34.582 2.12 7.857 7.98 7.27 15.873 5.452 19.688-1.351 2.836-3.028 5.453-6.664 9.996-17.568 20.597-29.986 42.405-39.073 67.243-14.538 39.982-16.356 85.112-5.451 126.912 8.48 30.895 23.321 59.064 44.222 83.903 4.846 5.45 6.057 7.268 7.269 11.205.606 2.122.606 8.179-.303 10.905-1.817 5.755-6.058 10.299-12.116 12.418-1.515.606-17.907 5.469-28.827-3.028-1.818-1.211-8.482-8.785-13.327-15.145-28.17-36.044-46.04-79.056-51.493-124.792-2.422-19.082-2.422-40.588-.302-59.671 5.755-49.371 25.745-95.714 57.852-133.575 4.847-5.756 5.8-6.063 8.179-8.179zm80.238 77.238c8.986-10.49 24.838-16.15 37.2-5.61 12.362 10.538 8.589 23.784 3.439 30.447-13.63 16.356-21.505 34.228-24.534 55.43-.605 4.846-.908 16.356-.303 21.808 1.817 23.323 10.602 43.92 25.746 61.791 3.938 4.544 5.754 7.875 6.058 13.024.605 8.785-5.474 16.513-13.933 19.386-17.87 6.067-29.13-3.332-35.49-10.904-25.747-32.107-36.652-72.998-30.593-114.192 3.938-26.049 15.03-50.896 32.41-71.18zm128.276 149.264c-14.384-.7-26.663-6.3-36.837-16.1-10.876-11.2-16.138-24.15-16.138-39.55 0-15.398 5.262-28.35 16.138-39.549 11.225-10.85 24.207-16.1 39.643-16.1 15.437 0 28.416 5.25 39.644 16.1 10.874 11.199 16.137 24.15 16.137 39.55 0 15.4-5.263 28.349-16.137 39.55-10.526 10.15-22.804 15.75-37.54 16.1-1.753.349-4.209.349-4.91 0zm214.318-226.503c2.379 2.117 3.332 2.423 8.179 8.178 32.107 37.862 52.097 84.205 57.852 133.576 2.12 19.084 2.12 40.588-.302 59.671-5.453 45.736-23.324 88.748-51.492 124.792-4.846 6.36-11.51 13.933-13.328 15.145-10.92 8.496-27.312 3.635-28.827 3.029-6.058-2.12-10.299-6.664-12.116-12.419-.909-2.726-.909-8.785-.303-10.904 1.212-3.938 2.423-5.755 7.269-11.207 20.9-24.837 35.742-53.007 44.222-83.901 10.905-41.8 9.087-86.932-5.45-126.913-9.088-24.837-21.506-46.647-39.075-67.243-3.635-4.543-5.312-7.16-6.663-9.996-1.817-3.815-2.405-11.709 5.452-19.688 4.952-5.028 20.928-14.266 34.582-2.12zm-80.431 77.238c17.379 20.284 28.473 45.131 32.41 71.18 6.058 41.194-4.846 82.084-30.592 114.191-6.36 7.573-17.62 16.972-35.49 10.905-8.46-2.873-14.54-10.601-13.934-19.386.303-5.15 2.12-8.481 6.057-13.024 15.145-17.87 23.93-38.468 25.746-61.79.606-5.453.303-16.963-.302-21.809-3.028-21.202-10.905-39.073-24.534-55.43-5.15-6.664-8.923-19.909 3.438-30.447 12.363-10.54 28.214-4.88 37.2 5.61z"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},74532:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-shared-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{clipRule:"evenodd",d:"M10.286 3.429V8.57H5.143V39.43h37.714V8.57h-5.143V3.43H48V44.57H0V3.43h10.286zM26.57 20.57h10.286L24 33.43 11.143 20.57h10.286V0h5.142v20.571z"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},99131:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-shows-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m440 520l0 40-320 0 0-40 320 0m120-40l-560 0 0-440 560 0 0 440m-60-380l-440 0 0 280 440 0 0-280"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},92521:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-star-full-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m280 6.5l62.864 193.475 203.432 0-164.58 119.575 62.864 193.475-164.58-119.575-164.58 119.575 62.864-193.475-164.58-119.575 203.432 0 62.864-193.475"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},71153:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-tidal-logo-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"M373.331 186.32l-93.324 93.332-93.337-93.341L280.007 93l93.332 93.309L466.67 93 560 186.318l-93.33 93.341-93.339-93.339zm.01 186.669l-93.334 93.34-93.337-93.34 93.337-93.337 93.334 93.337zm-186.67-186.67l-93.338 93.34L0 186.32 93.333 93l93.337 93.318z"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},91608:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-watch-together"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{clipRule:"evenodd",d:"M32 21c3.32 0 5.98-2.68 5.98-6S35.32 9 32 9c-3.32 0-6 2.68-6 6s2.68 6 6 6zm-15.999 0c3.32 0 5.979-2.68 5.979-6s-2.659-6-5.979-6c-3.32 0-6 2.68-6 6s2.68 6 6 6zm0 4C11.341 25 2 27.73 2 33.167V39h28v-5.833C30 27.73 20.66 25 16.001 25zM32 25c-.58 0-1.24.047-1.94.117 2.32 1.96 3.94 4.596 3.94 8.05V39h12v-5.833C46 27.73 36.66 25 32 25z"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},39611:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-alert-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m280 0l-280 520 560 0-280-520m0 400c22.077 0 40 17.923 40 40 0 22.077-17.923 40-40 40-22.077 0-40-17.923-40-40 0-22.077 17.923-40 40-40m-30-40l0-220 60 0 0 220-60 0"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},44352:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-alert-round-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m280 0c154.536 0 280 125.464 280 280 0 154.536-125.464 280-280 280-154.536 0-280-125.464-280-280 0-154.536 125.464-280 280-280m-40 420c0 22.077 17.923 40 40 40 22.077 0 40-17.923 40-40 0-22.077-17.923-40-40-40-22.077 0-40 17.923-40 40m60-320l-40 0c-11.038 0-20 8.962-20 20l0 200c0 11.038 8.962 20 20 20l40 0c11.038 0 20-8.962 20-20l0-200c0-11.038-8.962-20-20-20"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},11969:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-analyzing-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m336 364l15.027 67.524c.858 3.854 2.685 7.18 5.477 9.972 2.792 2.792 6.118 4.619 9.972 5.477l67.524 15.027-67.524 15.027c-3.854.858-7.18 2.685-9.972 5.477-2.792 2.792-4.619 6.118-5.477 9.972l-15.027 67.524-15.027-67.524c-.858-3.854-2.685-7.18-5.477-9.972-2.792-2.792-6.118-4.619-9.972-5.477l-67.524-15.027 67.524-15.027c3.854-.858 7.18-2.685 9.972-5.477 2.792-2.792 4.619-6.118 5.477-9.972l15.027-67.524m-315 140l343-343 35 35-343 343-35-35m441-266l15.027 67.523c.858 3.855 2.685 7.181 5.477 9.973 2.792 2.792 6.118 4.619 9.972 5.476l67.524 15.028-67.524 15.027c-3.854.858-7.18 2.685-9.972 5.477-2.792 2.792-4.619 6.118-5.477 9.972l-15.027 67.524-15.027-67.524c-.858-3.854-2.685-7.18-5.477-9.972-2.792-2.792-6.118-4.619-9.972-5.477l-67.524-15.027 67.524-15.028c3.854-.857 7.18-2.684 9.972-5.476 2.792-2.792 4.619-6.118 5.477-9.973l15.027-67.523m-322-238l21.468 96.462c1.2 5.396 3.914 10.338 7.823 14.247 3.909 3.909 8.851 6.623 14.247 7.823l96.462 21.468-96.462 21.468c-5.396 1.2-10.338 3.914-14.247 7.823-3.909 3.909-6.623 8.851-7.823 14.247l-21.468 96.462-21.468-96.462c-1.2-5.396-3.914-10.338-7.823-14.247-3.909-3.909-8.851-6.623-14.247-7.823l-96.462-21.468 96.462-21.468c5.396-1.2 10.338-3.914 14.247-7.823 3.909-3.909 6.623-8.851 7.823-14.247l21.468-96.462m252 133l35 35 112-112-35-35-112 112"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},65193:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-close-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"M280,0C434.536,0 560,125.464 560,280C560,434.536 434.536,560 280,560C125.464,560 0,434.536 0,280C0,125.464 125.464,0 280,0ZM435.563,171.005L388.995,124.437L280,233.431L171.005,124.437L124.436,171.005L233.431,280L124.436,388.995L171.005,435.564L280,326.569L388.995,435.564L435.564,388.995L326.569,280L435.563,171.005Z"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},21100:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-clock-hour-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m179.45 378h-106.62l29.821-29.12h51.725l25.07 29.12m-148.31-81.48l-6.069 75.88-25.07-29.12 3.167-39.48 18.737-18.2 9.236 10.92m69.934 7.28l-3.166 39.48-29.821 29.12 6.069-75.88 11.348-10.92 15.57 18.2m61.23-9.24h-58.59l-12.403-14.56 14.779-14.56h58.59l12.667 14.56-15.04 14.56m-155.18-38.36l3.167-39.48 29.821-29.12-6.07 75.88-11.347 11.2-15.571-18.48m159.93 0l3.167-39.48 29.821-29.12-6.07 75.88-11.348 11.2-15.57-18.48m-1.32-44.8h-51.724l-25.07-29.4h106.62l-29.821 29.4"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},62224:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-clock-minutes-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m391.63 378h-106.62l29.821-29.12h51.725l25.07 29.12m147.79 0h-106.62l29.821-29.12h51.725l25.07 29.12m-226.16-74.2l-3.167 39.48-29.821 29.12 6.07-75.88 11.347-10.92 15.571 18.2m89.99-7.28l-6.07 75.88-25.07-29.12 3.167-39.48 18.737-18.2 9.236 10.92m57.795 7.28l-3.167 39.48-29.821 29.12 6.07-75.88 11.348-10.92 15.57 18.2m89.99-7.28l-6.069 75.88-25.07-29.12 3.167-39.48 18.737-18.2 9.236 10.92m-261.79-33.04l6.069-75.88 25.07 29.12-3.167 39.48-18.737 18.48-9.236-11.2m89.99-7.28l3.167-39.48 29.821-29.12-6.07 75.88-11.348 11.2-15.57-18.48m57.795 7.28l6.069-75.88 25.07 29.12-3.167 39.48-18.737 18.48-9.236-11.2m89.99-7.28l3.167-39.48 29.821-29.12-6.07 75.88-11.348 11.2-15.57-18.48m-149.1-44.8h-51.725l-25.07-29.4h106.62l-29.821 29.4m177.61-29.4l-29.821 29.4h-51.725l-25.07-29.4h106.62"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},96049:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-clock-separator-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m218.51 378l2.375-29.12h27.71l-2.375 29.12h-27.71m11.08-134.12l2.376-29.12h27.709l-2.375 29.12h-27.71"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},52410:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-edit-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m0 560l40-120 80 80-120 40m480-560l-400 400 80 80 400-400-80-80"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},54183:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-favorite-empty-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"M280.409154,516 L40.4101704,278.317013 C-13.4700568,224.772577 -13.4700568,137.681549 40.4101704,84.1371127 C94.2619347,30.6209624 181.927598,30.6209624 235.807825,84.1371127 L280.010674,128.064481 L324.18506,84.1371127 C378.065287,30.6209624 465.73095,30.6209624 519.611177,84.1371127 C573.462941,137.681549 573.462941,224.772577 519.611177,278.317013 L280.409154,516 Z M279.611348,451.652619 L479.792832,260.692492 C518.735723,223.398694 525.522119,157.229004 486.579229,119.960019 C448.828204,83.7828011 390.389111,76.569777 338.530931,131.136016 L280,187.188371 L221.443159,131.136016 C165.95959,82.5852498 112.168614,83.7828011 74.4175887,119.960019 C35.4746985,157.229004 41.2642774,223.398694 80.2071677,260.692492 L279.611348,451.652619 Z"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},53191:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-favorite-full-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"M280.409154,516 L40.4101704,278.317013 C-13.4700568,224.772577 -13.4700568,137.681549 40.4101704,84.1371127 C94.2619347,30.6209624 181.927598,30.6209624 235.807825,84.1371127 L280.010674,128.064481 L324.18506,84.1371127 C378.065287,30.6209624 465.73095,30.6209624 519.611177,84.1371127 C573.462941,137.681549 573.462941,224.772577 519.611177,278.317013 L280.409154,516 Z"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},85669:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",id:"plex-icon-games-24px"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"M15 7.5V2H9v5.5l3 3 3-3zM7.5 9H2v6h5.5l3-3-3-3zM9 16.5V22h6v-5.5l-3-3-3 3zM16.5 9l-3 3 3 3H22V9h-5.5z"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},20458:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-help-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m280 0c154.536 0 280 125.464 280 280 0 154.536-125.464 280-280 280-154.536 0-280-125.464-280-280 0-154.536 125.464-280 280-280m-40 440c0 22.077 17.923 40 40 40 22.077 0 40-17.923 40-40 0-22.077-17.923-40-40-40-22.077 0-40 17.923-40 40m70-80l0-6.84 0-.179c.011-2.265.168-4.528.482-6.772.586-4.188 1.706-8.299 3.324-12.206 1.56-3.765 3.581-7.337 6.005-10.613 1.378-1.861 2.886-3.622 4.506-5.277 12.286-12.48 24.784-24.75 37.148-37.152 1.253-1.265 2.48-2.554 3.674-3.873 2.298-2.538 4.482-5.178 6.544-7.91 5.64-7.475 10.359-15.64 14.021-24.258 2.605-6.129 4.675-12.484 6.18-18.972 1.516-6.534 2.457-13.201 2.81-19.9.584-11.079-.447-22.237-3.053-33.021-1.591-6.586-3.767-13.03-6.492-19.232-2.728-6.21-6.008-12.176-9.788-17.807-2.756-4.106-5.777-8.033-9.039-11.749-1.655-1.886-3.374-3.715-5.147-5.49-1.412-1.415-2.866-2.79-4.352-4.127-3.068-2.761-6.285-5.356-9.632-7.77-8.915-6.432-18.755-11.571-29.126-15.214-7.849-2.757-15.996-4.658-24.254-5.658-3.049-.369-6.113-.616-9.182-.74-1.423-.057-2.848-.086-4.272-.093-.357 0-.713 0-1.07.002-2.253.018-4.505.094-6.754.241-4.7.306-9.381.901-14.008 1.782-6.09 1.159-12.086 2.813-17.909 4.939-5.594 2.042-11.028 4.519-16.238 7.403-5.852 3.239-11.419 6.99-16.618 11.196-2.576 2.084-5.056 4.282-7.446 6.577-.342.331-.682.663-1.021.996-6.867 6.803-13.671 13.669-20.506 20.504l42.426 42.426 19.985-19.984.136-.137c1.966-1.946 4.07-3.749 6.304-5.381 3.924-2.868 8.23-5.21 12.77-6.946 3.392-1.297 6.913-2.256 10.494-2.859 3.453-.58 6.961-.829 10.461-.742 4.493.111 8.971.778 13.302 1.98 4.678 1.298 9.18 3.219 13.354 5.699 2.604 1.547 5.08 3.31 7.393 5.266 1.182 1 2.318 2.051 3.414 3.144.705.713 1.397 1.438 2.065 2.185 1.35 1.51 2.617 3.095 3.792 4.745 3.921 5.506 6.807 11.735 8.475 18.285 1.377 5.408 1.921 11.022 1.61 16.593-.35 6.263-1.783 12.458-4.219 18.239-1.715 4.068-3.921 7.928-6.559 11.468-1.484 1.993-3.105 3.879-4.843 5.655-12.294 12.486-24.797 24.764-37.169 37.173-1.121 1.131-2.22 2.283-3.292 3.46-2.284 2.506-4.452 5.119-6.494 7.825-5.604 7.427-10.259 15.565-13.819 24.161-3.431 8.283-5.844 16.985-7.167 25.852-.467 3.127-.799 6.275-.995 9.431-.098 1.587-.16 3.175-.192 4.764-.008.455-.013.91-.017 1.365-.012 2.515-.002 5.032-.002 7.546l60 0m8.826-198.747l0-.001c-.011-.01.043.043.032.032l-.032-.031"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},86795:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-hub-next-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m532 280l-252-252-56 56 196 196-196 196 56 56 252-252"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},12589:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-hub-prev-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m28 280l252-252 56 56-196 196 196 196-56 56-252-252"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},46391:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-more-vertical-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"M350 280c0 38.634-31.366 70-70 70s-70-31.366-70-70 31.366-70 70-70 70 31.366 70 70m0-210c0 38.634-31.366 70-70 70s-70-31.366-70-70 31.366-70 70-70 70 31.366 70 70m0 420c0 38.634-31.366 70-70 70s-70-31.366-70-70 31.366-70 70-70 70 31.366 70 70"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},70474:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-page-next-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m0 320l0-80 360 0 0-160 200 200-200 200 0-160-360 0"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},34544:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-page-prev-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m200 80l-200 200 200 200 0-160 360 0 0-80-360 0 0-160"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},32232:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-playlists-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m0 460l80 0 0 60-80 0 0-60m560 0l0 60-400 0 0-60 400 0m-560-140l80 0 0 60-80 0 0-60m160 0l400 0 0 60-400 0 0-60m-160-140l80 0 0 60-80 0 0-60m160 0l400 0 0 60-400 0 0-60m-160-140l80 0 0 60-80 0 0-60m160 0l400 0 0 60-400 0 0-60"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},53863:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-remove-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m120 70l-50 50 160 160-160 160 50 50 160-160 160 160 50-50-160-160 160-160-50-50-160 160-160-160"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},81914:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-reorder-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m560 380v60h-560v-60h560m-560-130h560v60h-560v-60m0-130h560v60h-560v-60"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},39869:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-search-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"M351.883,407.883C315.613,433.168 271.525,448 224,448C100.371,448 0,347.629 0,224C0,100.371 100.371,0 224,0C347.629,0 448,100.371 448,224C448,271.525 433.168,315.613 407.883,351.883L560,504L504,560L351.883,407.883ZM56,224C56,316.722 131.278,392 224,392C316.722,392 392,316.722 392,224C392,131.278 316.722,56 224,56C131.278,56 56,131.278 56,224Z"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},35771:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-selected-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m78.756 298.564l-40 69.282 242.488 140 240-415.692-69.282-40-200 346.41-173.206-100"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},79501:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-settings-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m200 280c0 44.153 35.847 80 80 80 44.153 0 80-35.847 80-80 0-44.153-35.847-80-80-80-44.153 0-80 35.847-80 80m-115.992-40c5.189-25.52 15.244-49.281 29.153-70.271l-61.151-61.15 56.569-56.569 61.15 61.151c20.99-13.909 44.751-23.964 70.271-29.153l0-84.008 80 0 0 84.008c25.52 5.189 49.281 15.244 70.271 29.153l61.15-61.151 56.569 56.569-61.151 61.15c13.909 20.99 23.964 44.751 29.153 70.271l84.008 0 0 80-84.008 0c-5.189 25.52-15.244 49.282-29.153 70.271l61.151 61.15-56.569 56.569-61.15-61.151c-20.99 13.909-44.751 23.964-70.271 29.153l0 84.008-80 0 0-84.008c-25.52-5.189-49.281-15.244-70.271-29.153l-61.15 61.151-56.569-56.569 61.151-61.15c-13.909-20.989-23.964-44.751-29.153-70.271l-84.008 0 0-80 84.008 0"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},62020:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-tagging-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m252 56l308 308-196 196-308-308 0-196 196 0m-21 42l-133 0 0 133 266 266 133-133-266-266m-49 42c23.18 0 42 18.82 42 42 0 23.18-18.82 42-42 42-23.18 0-42-18.82-42-42 0-23.18 18.82-42 42-42"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},84977:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-add-to-playlist-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m223.992 459.2l336 0 0 44.8-336 0 0-44.8m0-134.4l336 0 0 44.8-336 0 0-44.8m84-134.4l252 0 0 44.8-252 0 0-44.8m-218.392 0l-89.6 0 0 44.8 89.6 0 0 89.6 44.8 0 0-89.6 89.6 0 0-44.8-89.6 0 0-89.6c0 0-53.77 0-37.8 0l-7 0 0 89.6m134.392-134.4l336 0 0 44.8-336 0 0-44.8"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},8979:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-column-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m504 504h-448v-44.8h448v44.8m-448-156.8h448v44.8h-448v-44.8m448-112v44.8h-448v-44.8h448m0-67.2h-448v-112h448v112"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},15984:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-detail-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m56 168h112v-112h-112v112m0 168h112v-112h-112v112m0 168h112v-112h-112v112m168-369.6h280v-44.8h-280v44.8m0 168h280v-44.8h-280v44.8m0 168h280v-44.8h-280v44.8"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},18183:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-edit-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m56 504l28-84 56 56-84 28m392-448l-336 336 56 56 336-336-56-56"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},21848:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-grid-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m56 392l112 0 0 112-112 0 0-112m168 0l112 0 0 112-112 0 0-112m280 0l0 112-112 0 0-112 112 0m-448-168l112 0 0 112-112 0 0-112m168 0l112 0 0 112-112 0 0-112m168 0l112 0 0 112-112 0 0-112m-336-168l112 0 0 112-112 0 0-112m336 0l112 0 0 112-112 0 0-112m-168 0l112 0 0 112-112 0 0-112"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},74048:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-mark-played-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"M24 44.4C12.7333 44.4 3.59998 35.2666 3.59998 24C3.59998 12.7333 12.7333 3.59998 24 3.59998C35.2666 3.59998 44.4 12.7333 44.4 24C44.4 35.2666 35.2666 44.4 24 44.4ZM24 40.8C33.2784 40.8 40.8 33.2784 40.8 24C40.8 14.7216 33.2784 7.19998 24 7.19998C14.7216 7.19998 7.19998 14.7216 7.19998 24C7.19998 33.2784 14.7216 40.8 24 40.8ZM22.9177 33.9317L13.5646 28.5317L15.3646 25.414L21.6 29.014L30 14.4648L33.1177 16.2648L22.9177 33.9317Z"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},28750:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-mark-unplayed-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{clipRule:"evenodd",d:"M24 44.4C12.7333 44.4 3.59998 35.2666 3.59998 24C3.59998 12.7333 12.7333 3.59998 24 3.59998C35.2666 3.59998 44.4 12.7333 44.4 24C44.4 35.2666 35.2666 44.4 24 44.4ZM15.3646 25.414L13.5646 28.5317L22.9176 33.9317L33.1176 16.2648L30 14.4648L21.5999 29.014L15.3646 25.414Z"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},82832:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-more-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m168 280c0 30.897-25.103 56-56 56-30.896 0-56-25.103-56-56 0-30.897 25.104-56 56-56 31.862.965 56 25.103 56 56m112-56c-30.897 0-56 25.103-56 56 0 30.897 25.103 56 56 56 30.897 0 56-25.103 56-56 0-30.897-25.103-56-56-56m168 0c-30.897 0-56 25.103-56 56 0 30.897 25.103 56 56 56 30.897 0 56-25.103 56-56 0-30.897-25.103-56-56-56"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},19486:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-play-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m112 504l0-448 392 224-392 224"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},84299:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-sync-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m280 476c108.248 0 196-87.752 196-196 0-108.248-87.752-196-196-196-108.248 0-196 87.752-196 196 0 108.248 87.752 196 196 196m0 42c-131.444 0-238-106.556-238-238 0-131.444 106.556-238 238-238 131.444 0 238 106.556 238 238 0 131.444-106.556 238-238 238m0-112l112-112-89.6 0 0-140-44.8 0 0 140-89.6 0 112 112"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o},74739:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45697),i=n.n(r),s=n(67294),a=n(17845);function o(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-trash-560"};i["aria-hidden"]=!t,i.style=r,i.className=a.Z.plexIcon+(n?" "+n:"");var o=[s.createElement.apply(s,["path",{d:"m238 42c0-23.181 18.82-42 42-42 23.18 0 42 18.82 42 42l182 0 0 42-28 0 0 476-392 0 0-476-28 0 0-42 182 0m196 42l-308 0 0 434 308 0 0-434m-217 56l0 322-42 0 0-322 42 0m84 0l0 322-42 0 0-322 42 0m84 0l0 322-42 0 0-322 42 0"}].concat([]))];return t&&o.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",i].concat(o))}o.propTypes={"aria-label":i().string,className:i().string,style:i().object};const l=o}},e=>{"use strict";e.O(0,[179],(()=>[81,407,951,12,293,30,67,548,931,670,231,933,428,494,128,710,829,17,181,389,838,562,992,927,102].map(e.E)),5);var t=t=>e(e.s=t);e.O(0,[865],(()=>(t(73611),t(52599)))),e.O()}]);