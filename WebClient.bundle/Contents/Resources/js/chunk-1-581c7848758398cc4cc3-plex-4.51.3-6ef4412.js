(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"7qL+":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return V}));var r=a("gcR/"),n=a.n(r),o=a("q1tI"),i=a.n(o),d=a("/MKj"),s=a("0jae"),g=a("wAGh"),l=a("Vx1m"),c=a("rfp9"),A=a("G4qV");var u=Object(A.a)((function(e){return e.deviceSettings}),e=>e.remotePlayer,(e,t)=>t?t.volume:e.volume),v=a("dz8L"),E=a("//Cn"),m=a("ffMF"),p=["af","am","ar","ar_eg","ar_sa","eu","be","bn","bg","ca","zh","zh_cn","zh_hk","zh_tw","hr","cs","da","nl","en","en_au","en_ca","en_gb","en_ie","en_in","en_sg","en_za","et","fa","fil","fi","fr","fr_ca","fr_ch","gl","de","de_at","el","gu","he","hi","hu","is","id","it","ja","kn","ko","lo","lv","ln","lt","ms","ml","mr","no","pl","pt","pt_br","pt_pt","ro","ru","sr","sk","sl","es","es_419","es_ar","es_cl","es_co","es_cr","es_do","es_ec","es_sv","es_gt","es_hn","es_mx","es_ni","es_pa","es_pe","es_pr","es_py","es_us","es_uy","es_ve","sw","sv","gsw","tl","ta","te","th","tr","uk","ur","vi","zu"];var w=Object(A.a)(m.a,e=>function(e){var t=e.toLowerCase().replace(/-/g,"_");return p.includes(t)?t:"en"}(e)),f=a("dsvT"),y=a("tRmQ"),{useEffect:O,useState:T}=i.a;var{useEffect:b,useState:M}=i.a;var h=a("+X4A");function I(e){var t=Math.round(e%3600),a=Math.floor(e/3600),r=Math.floor(t/60),n=t%60;return String(a).padStart(2,"0")+":"+String(r).padStart(2,"0")+":"+String(n).padStart(2,"0")+" ("+e+"s)"}function D(e){return t=>{var a=t,r=t;try{var n=null==a.getAdData?void 0:a.getAdData(),o=(null==n?void 0:n.adError)||(null==r.getError?void 0:r.getError());if(o){var i={message:o.getMessage(),errorCode:o.getErrorCode(),vastErrorCode:o.getVastErrorCode()};s.a.error("[IMA SDK] Error: %s from event %s: %o",o.getType(),a.type,i)}else Object(y.a)()&&function(e){var t=null==e.getAd?void 0:e.getAd(),a=null==e.getAdData?void 0:e.getAdData(),r=null==t?void 0:t.getAdPodInfo();if(r)try{var n={adPosition:r.getAdPosition(),isBumper:r.getIsBumper(),maxDuration:r.getMaxDuration(),podIndex:r.getPodIndex(),timeOffset:r.getTimeOffset(),totalAds:r.getTotalAds()};Object(s.a)("[IMA SDK] Event %s (adPodInfo): %o",e.type,n)}catch(e){s.a.warn("[IMA SDK] Cannot log adPodInfo",null==e?void 0:e.message)}if(a&&Object(s.a)("[IMA SDK] Event %s (adData): %o",e.type,a),t)try{var o={adSystem:t.getAdSystem(),advertiserName:t.getAdvertiserName(),apiFramework:t.getApiFramework(),contentType:t.getContentType(),creativeAdId:t.getCreativeAdId(),creativeId:t.getCreativeId(),dealId:t.getDealId(),description:t.getDescription(),duration:t.getDuration(),height:t.getHeight(),mediaUrl:t.getMediaUrl(),minSuggestedDuration:t.getMinSuggestedDuration(),skipTimeOffset:t.getSkipTimeOffset(),surveyUrl:t.getSurveyUrl(),title:t.getTitle(),traffickingParameters:t.getTraffickingParameters(),traffickingParametersString:t.getTraffickingParametersString(),uiElements:t.getUiElements(),universalAdIdRegistry:t.getUniversalAdIdRegistry(),universalAdIdValue:t.getUniversalAdIdValue(),vastMediaHeight:t.getVastMediaHeight(),vastMediaWidth:t.getVastMediaWidth(),width:t.getWidth(),wrapperAdIds:t.getWrapperAdIds(),wrapperAdSystems:t.getWrapperAdSystems(),wrapperCreativeIds:t.getWrapperCreativeIds(),isLinear:t.isLinear()};Object(s.a)("[IMA SDK] Event %s (ad):",e.type,o)}catch(e){s.a.warn("[IMA SDK] Cannot log ad info",null==e?void 0:e.message)}}(a)}catch(e){s.a.warn("[IMA SDK] Event:",null==a?void 0:a.type,null==e?void 0:e.message)}e(t)}}const{useEffect:S,useState:_}=i.a;var{useEffect:j,useRef:L}=i.a;var C=a("Rg7N"),R=a.n(C);const P=i.a.createElement,{useCallback:k,useEffect:N,useState:U}=i.a;function V({edgeGutterX:e,edgeGutterY:t,height:a,isFullscreen:r,isIdle:o,isMiniPlayer:i,isStackedAbove:A,placement:m,playerType:p,statusOverlayClassName:C,url:V,width:G,onAdChange:F,onPositionMillisecondsChange:W}){const x=Object(d.c)(),z=U(void 0),K=z[1],B=z[0],q=U(),H=q[1],J=q[0],Q=U(null),X=Q[1],Y=Q[0],[Z,$]=Object(v.a)(),ee=U(l.b),te=ee[1],ae=ee[0],re=U(l.c),ne=re[1],oe=re[0],ie=U(l.d),de=ie[1],se=ie[0],ge=Object(d.d)(Object(E.a)(p,"durationSeconds")),le=Object(d.d)(Object(E.a)(p,"isPaused")),ce=Object(d.d)(w),Ae=Object(d.d)(Object(E.a)(p,"positionSeconds")),ue=Object(d.d)(u),ve=function(e,t,a=!0){var r=L({currentTime:e,duration:t});return j(()=>{a&&e>=0&&(r.current.currentTime=e)},[a,e]),j(()=>{a&&t>=0&&(r.current.duration=t)},[a,t]),r.current}(Ae,ge,!o),Ee=function(e,t,a,r){const n=_(),o=n[1],i=n[0];return S(()=>{if(!t)return;const n=D(e=>{const t=e.getError();r(new Error(t.getMessage()))}),i=D(e=>{Object(y.a)()&&Object(s.a)("[IMA] Creating AdsManager"),o(e.getAdsManager(a))}),d=new window.google.ima.AdsRequest;return d.adTagUrl=h.join(e,{vpaid:1}),d.forceNonLinearFullSlot=!0,d.linearAdSlotWidth=1280,d.linearAdSlotHeight=720,d.setAdWillAutoPlay(!0),d.setAdWillPlayMuted(!1),t.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,n),t.addEventListener(window.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,i),Object(y.a)()&&Object(s.a)("[IMA] Loading ads:",d.adTagUrl),t.requestAds(d),()=>{t.removeEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,n),t.removeEventListener(window.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,i)}},[t,a,e,r]),S(()=>{if(!i)return;const e=D(t=>{i.removeEventListener(t.type,e),Object(y.a)()&&Object(s.a)("[IMA] Enabling preloading");const a=new window.google.ima.AdsRenderingSettings;a.enablePreloading=!0,i.updateAdsRenderingSettings(a)});return Object(y.a)()&&Object(s.a)("[IMA] Starting AdsManager"),Object(y.a)()&&Object(s.a)("[IMA] CuePoints:",i.getCuePoints().map(I).join(", ")),i.addEventListener(window.google.ima.AdEvent.Type.LOADED,e),i.init(1280,720,window.google.ima.ViewMode.NORMAL),i.start(),()=>{i.removeEventListener(window.google.ima.AdEvent.Type.LOADED,e),Object(y.a)()&&Object(s.a)("[IMA] Destroying AdsManager"),i.destroy()}},[i]),i}(V,function(e){var t=M(),a=t[1],r=t[0];return b(()=>{e&&(Object(y.a)()&&Object(s.a)("[IMA] Creating AdsLoader"),a(new window.google.ima.AdsLoader(e)))},[e]),b(()=>()=>{r&&(Object(y.a)()&&Object(s.a)("[IMA] Destroying AdsLoader"),r.destroy())},[r]),r}(function(e){var t=T(),a=t[1],r=t[0];return O(()=>{e&&(Object(y.a)()&&Object(s.a)("[IMA] Creating AdDisplayContainer"),a(new window.google.ima.AdDisplayContainer(e)))},[e]),O(()=>(r&&(Object(y.a)()&&Object(s.a)("[IMA] Initializing AdDisplayContainer"),r.initialize()),()=>{r&&(Object(y.a)()&&Object(s.a)("[IMA] Destroying AdDisplayContainer"),r.destroy())}),[r]),r}(Y)),ve,H),me=k(e=>{X(e)},[]);N(()=>{Object(y.a)()&&Object(s.a)("[IMA] Setting locale",ce),window.google.ima.settings.setLocale(ce)},[ce]),N(()=>{void 0!==B&&(null===B?(te(l.b),ne(l.c),H(void 0),de(l.d)):(te(B.displayIndex),ne(B.displayTotal)),Object(y.a)()&&Object(s.a)("[IMA] Changing ad to",B),F(B))},[B,F]),N(()=>{J&&(s.a.error("[IMA] Error",...function(e){if(function(e){const t=e;return!!(t.getMessage||t.getErrorCode||t.getVastErrorCode)}(e)){const t=e;let a,r,n;try{r=t.getMessage()}catch(e){s.a.error("[IMA] error getting message from AdError",e.message)}try{a=t.getErrorCode()}catch(e){s.a.error("[IMA] error getting error code from AdError",e.message)}try{n=t.getVastErrorCode()}catch(e){s.a.error("[IMA] error getting VAST error code from AdError",e.message)}return[r||"Unknown error","(IMA:"+a+", VAST:"+n+")"]}return[e.message]}(J)),null===B?F(null):K(null))},[B,J,F]),N(()=>{null==Ee||Ee.setVolume(ue/100)},[Ee,ue]),N(()=>{null==Ee||Ee.resize($.width||1280,$.height||720,r?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},[Ee,r,$]),N(()=>{le?null==Ee||Ee.pause():null==Ee||Ee.resume()},[Ee,le]),N(()=>{const e=D(e=>{var t;const a=e.getAd(),r=null==a?void 0:a.getAdPodInfo();switch(e.type){case window.google.ima.AdEvent.Type.AD_BUFFERING:x(Object(g.N)({playerType:p,isBuffering:!0}));break;case window.google.ima.AdEvent.Type.AD_PROGRESS:x(Object(g.N)({playerType:p,isBuffering:!1})),W(1e3*e.getAdData().currentTime);break;case window.google.ima.AdEvent.Type.ALL_ADS_COMPLETED:case window.google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:K(null);break;case window.google.ima.AdEvent.Type.LOADED:de(null!=(t=null==r?void 0:r.getTimeOffset())?t:-1);break;case window.google.ima.AdEvent.Type.STARTED:le&&(null==Ee||Ee.pause()),K(function(e){if(!e)return null;var t=e.getAdPodInfo();return{clicksThrough:!0,displayIndex:t.getAdPosition(),displayTotal:t.getTotalAds(),duration:e.getDuration(),height:e.getHeight(),mimeType:e.getContentType(),timeOffset:t.getTimeOffset(),width:e.getWidth()}}(a));break;case window.google.ima.AdEvent.Type.LOG:{const t=e.getAdData().adError;t&&1009===t.getErrorCode()&&(s.a.warn("[IMA] Manually handling empty VAST"),H(t));break}}}),t=[window.google.ima.AdEvent.Type.AD_BUFFERING,window.google.ima.AdEvent.Type.AD_PROGRESS,window.google.ima.AdEvent.Type.ALL_ADS_COMPLETED,window.google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,window.google.ima.AdEvent.Type.LOADED,window.google.ima.AdEvent.Type.LOG,window.google.ima.AdEvent.Type.STARTED,window.google.ima.AdEvent.Type.COMPLETE,window.google.ima.AdEvent.Type.IMPRESSION];return t.forEach(t=>{null==Ee||Ee.addEventListener(t,e)}),()=>{t.forEach(t=>{null==Ee||Ee.removeEventListener(t,e)})}},[Ee,x,le,W,p]),N(()=>{const e=D(e=>{H(e.getError())});return null==Ee||Ee.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,e),()=>{null==Ee||Ee.removeEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,e)}},[Ee]);const pe=Object(c.a)(a,G,m,e,t,A);return n()("div",{style:pe},void 0,P("div",{className:(R.a.adContainer||"")+" "+((null===B?R.a.hasNoAd:R.a.hasAd)||""),ref:Object(f.a)(me,Z)}),i?null:n()(l.a,{className:C,displayIndex:ae,displayTotal:oe,secondsUntilAd:se-Ae}))}},Rg7N:function(e,t,a){e.exports={adContainer:"ImaPlayer-adContainer-3TV3nf",hasAd:"ImaPlayer-hasAd-2F2ApA",hasNoAd:"ImaPlayer-hasNoAd-1hWYtJ"}}}]);